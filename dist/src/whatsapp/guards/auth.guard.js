'use strict';const a29_0xee79e9=a29_0x4d4f;(function(_0x3b105b,_0x30b7f6){const _0x17ec7b=a29_0x4d4f,_0x33ee79=_0x3b105b();while(!![]){try{const _0x1822f6=parseInt(_0x17ec7b(0x20d))/0x1*(-parseInt(_0x17ec7b(0x1d6))/0x2)+parseInt(_0x17ec7b(0x1e3))/0x3*(-parseInt(_0x17ec7b(0x1c8))/0x4)+parseInt(_0x17ec7b(0x1f4))/0x5*(parseInt(_0x17ec7b(0x1ce))/0x6)+-parseInt(_0x17ec7b(0x1f2))/0x7*(-parseInt(_0x17ec7b(0x1ec))/0x8)+-parseInt(_0x17ec7b(0x1d7))/0x9+-parseInt(_0x17ec7b(0x1c9))/0xa+parseInt(_0x17ec7b(0x1f9))/0xb*(parseInt(_0x17ec7b(0x1ca))/0xc);if(_0x1822f6===_0x30b7f6)break;else _0x33ee79['push'](_0x33ee79['shift']());}catch(_0x210d22){_0x33ee79['push'](_0x33ee79['shift']());}}}(a29_0x54bd,0xd45e9));function a29_0x54bd(){const _0x1c0bda=['../whatsap','includes','ForbidenEx','fig','AUTHENTICA','Logger','bearer','557168cirSkC','../../conf','erty','error','obal\x20api\x20k','_KEY','112iWwGCA','GUARD','15mKqqgJ','authGuard','fault','Unauthoriz','authorizat','45100946BcQstp','SECRET','TION','ice','edExceptio','ackage.jso','create','toString','params','find','../../exce','JWT','apikey','jsonwebtok','configServ','value','next','ception','__importDe','/instance/','195461vUGDsm','then','Missing\x20gl','4aYKWve','13874820qtdnfk','12FtQjxD','split','done','repository','178260TujHHY','\x20api\x20key\x20m','jwt','ig/logger.','auth','instanceNa','__esModule','config','2mPeGtt','12350835baLetv','ion','throw','defineProp','../../../p','originalUr','default','dator','get','verify','nces','isJWT','4435287dfyHtY','The\x20global'];a29_0x54bd=function(){return _0x1c0bda;};return a29_0x54bd();}var __awaiter=this&&this['__awaiter']||function(_0xb1593d,_0x479096,_0x5b5ec9,_0x89b8ed){function _0x17a5c0(_0x5ebffc){return _0x5ebffc instanceof _0x5b5ec9?_0x5ebffc:new _0x5b5ec9(function(_0x195513){_0x195513(_0x5ebffc);});}return new(_0x5b5ec9||(_0x5b5ec9=Promise))(function(_0x5da218,_0x5c9a61){const _0x36d428=a29_0x4d4f;function _0xf6d2aa(_0xeea965){const _0x5926d0=a29_0x4d4f;try{_0x37a784(_0x89b8ed[_0x5926d0(0x209)](_0xeea965));}catch(_0x1d9ca4){_0x5c9a61(_0x1d9ca4);}}function _0x3b6b3b(_0x3deb01){const _0x3a444e=a29_0x4d4f;try{_0x37a784(_0x89b8ed[_0x3a444e(0x1d9)](_0x3deb01));}catch(_0x5778ec){_0x5c9a61(_0x5778ec);}}function _0x37a784(_0x53ffd9){const _0x548a01=a29_0x4d4f;_0x53ffd9[_0x548a01(0x1cc)]?_0x5da218(_0x53ffd9['value']):_0x17a5c0(_0x53ffd9[_0x548a01(0x208)])[_0x548a01(0x20e)](_0xf6d2aa,_0x3b6b3b);}_0x37a784((_0x89b8ed=_0x89b8ed['apply'](_0xb1593d,_0x479096||[]))[_0x36d428(0x209)]());});},__importDefault=this&&this[a29_0xee79e9(0x20b)+a29_0xee79e9(0x1f6)]||function(_0x3e54d0){const _0x2a3e57=a29_0xee79e9;return _0x3e54d0&&_0x3e54d0[_0x2a3e57(0x1d4)]?_0x3e54d0:{'default':_0x3e54d0};};const a29_0x41fd7={};a29_0x41fd7[a29_0xee79e9(0x208)]=!![],Object[a29_0xee79e9(0x1da)+a29_0xee79e9(0x1ee)](exports,a29_0xee79e9(0x1d4),a29_0x41fd7),exports['authGuard']=void 0x0;const class_validator_1=require('class-vali'+a29_0xee79e9(0x1de)),jsonwebtoken_1=__importDefault(require(a29_0xee79e9(0x206)+'en')),env_config_1=require(a29_0xee79e9(0x1ed)+'ig/env.con'+a29_0xee79e9(0x1e8)),logger_config_1=require('../../conf'+a29_0xee79e9(0x1d1)+a29_0xee79e9(0x1d5)),package_json_1=require(a29_0xee79e9(0x1db)+a29_0xee79e9(0x1fe)+'n'),exceptions_1=require(a29_0xee79e9(0x203)+'ptions'),whatsapp_module_1=require(a29_0xee79e9(0x1e5)+'p.module'),logger=new logger_config_1[(a29_0xee79e9(0x1ea))](a29_0xee79e9(0x1f3));function jwtGuard(_0x5a3fa0,_0x21c972,_0x10e915){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x55086c=a29_0x4d4f,_0x293765=_0x5a3fa0[_0x55086c(0x1df)](_0x55086c(0x205));if(_0x293765&&env_config_1[_0x55086c(0x207)+_0x55086c(0x1fc)][_0x55086c(0x1df)]('AUTHENTICA'+'TION')['GLOBAL_API'+_0x55086c(0x1f1)]!==_0x293765)throw new exceptions_1[(_0x55086c(0x1f7))+(_0x55086c(0x1fd))+'n']();if(env_config_1[_0x55086c(0x207)+_0x55086c(0x1fc)]['get'](_0x55086c(0x1e9)+'TION')['GLOBAL_API'+_0x55086c(0x1f1)]===_0x293765)return _0x10e915();if((_0x5a3fa0[_0x55086c(0x1dc)+'l'][_0x55086c(0x1e6)](_0x55086c(0x20c)+_0x55086c(0x1ff))||_0x5a3fa0[_0x55086c(0x1dc)+'l'][_0x55086c(0x1e6)]('/instance/'+'fetchInsta'+_0x55086c(0x1e1)))&&!_0x293765)throw new exceptions_1[(_0x55086c(0x1e7))+'ception'](_0x55086c(0x1c7)+_0x55086c(0x1f0)+'ey',_0x55086c(0x1e4)+_0x55086c(0x1cf)+'ust\x20be\x20set');const _0x160bd4=env_config_1[_0x55086c(0x207)+_0x55086c(0x1fc)][_0x55086c(0x1df)](_0x55086c(0x1e9)+_0x55086c(0x1fb))[_0x55086c(0x204)];try{const [_0x16c65b,_0x306502]=_0x5a3fa0['get'](_0x55086c(0x1f8)+_0x55086c(0x1d8))[_0x55086c(0x1cb)]('\x20');if(_0x16c65b['toLowerCas'+'e']()!==_0x55086c(0x1eb))throw new exceptions_1[(_0x55086c(0x1f7))+(_0x55086c(0x1fd))+'n']();if(!(0x0,class_validator_1[_0x55086c(0x1e2)])(_0x306502))throw new exceptions_1[(_0x55086c(0x1f7))+(_0x55086c(0x1fd))+'n']();const _0x260cdc=_0x5a3fa0[_0x55086c(0x201)],_0x50b9a0=jsonwebtoken_1[_0x55086c(0x1dd)][_0x55086c(0x1e0)](_0x306502,_0x160bd4[_0x55086c(0x1fa)],{'ignoreExpiration':_0x160bd4['EXPIRIN_IN']===0x0});if(_0x260cdc[_0x55086c(0x1d3)+'me']!==_0x50b9a0[_0x55086c(0x1d3)+'me']||package_json_1['name']!==_0x50b9a0['apiName'])throw new exceptions_1[(_0x55086c(0x1f7))+(_0x55086c(0x1fd))+'n']();return _0x10e915();}catch(_0x28d196){logger[_0x55086c(0x1ef)](_0x28d196);throw new exceptions_1[(_0x55086c(0x1f7))+'edExceptio'+'n']();}});}function apikey(_0x29e245,_0x50219a,_0x39e605){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x4279d5=a29_0x4d4f,{GLOBAL_API_KEY:_0xa5c9cf}=env_config_1[_0x4279d5(0x207)+_0x4279d5(0x1fc)][_0x4279d5(0x1df)](_0x4279d5(0x1e9)+_0x4279d5(0x1fb)),_0x5ecfd4=_0x29e245[_0x4279d5(0x1df)](_0x4279d5(0x205));if(_0xa5c9cf===_0x5ecfd4)return _0x39e605();if((_0x29e245[_0x4279d5(0x1dc)+'l'][_0x4279d5(0x1e6)](_0x4279d5(0x20c)+_0x4279d5(0x1ff))||_0x29e245['originalUr'+'l'][_0x4279d5(0x1e6)]('/instance/'+'fetchInsta'+_0x4279d5(0x1e1)))&&!_0x5ecfd4)throw new exceptions_1[(_0x4279d5(0x1e7))+(_0x4279d5(0x20a))](_0x4279d5(0x1c7)+_0x4279d5(0x1f0)+'ey',_0x4279d5(0x1e4)+'\x20api\x20key\x20m'+'ust\x20be\x20set');try{const _0x4b4923=_0x29e245['params'],_0x17052a=yield whatsapp_module_1[_0x4279d5(0x1cd)][_0x4279d5(0x1d2)][_0x4279d5(0x202)](_0x4b4923['instanceNa'+'me']);if(_0x17052a[_0x4279d5(0x205)]===_0x5ecfd4)return _0x39e605();}catch(_0x4a9723){throw new exceptions_1['ForbidenEx'+'ception'](_0x4a9723===null||_0x4a9723===void 0x0?void 0x0:_0x4a9723[_0x4279d5(0x200)]());}throw new exceptions_1[(_0x4279d5(0x1f7))+(_0x4279d5(0x1fd))+'n']();});}function a29_0x4d4f(_0x504918,_0x5d586f){const _0x54bd14=a29_0x54bd();return a29_0x4d4f=function(_0x4d4fbf,_0x485233){_0x4d4fbf=_0x4d4fbf-0x1c7;let _0x4f41d8=_0x54bd14[_0x4d4fbf];return _0x4f41d8;},a29_0x4d4f(_0x504918,_0x5d586f);}const a29_0x9eccd0={};a29_0x9eccd0[a29_0xee79e9(0x1d0)]=jwtGuard,a29_0x9eccd0[a29_0xee79e9(0x205)]=apikey,exports[a29_0xee79e9(0x1f5)]=a29_0x9eccd0;