'use strict';const a38_0x5f1de3=a38_0x128d;(function(_0x5d8025,_0x90aebe){const _0x294392=a38_0x128d,_0x296724=_0x5d8025();while(!![]){try{const _0x5d6854=-parseInt(_0x294392(0x1cb))/0x1+-parseInt(_0x294392(0x1c7))/0x2+parseInt(_0x294392(0x1c5))/0x3*(parseInt(_0x294392(0x1b2))/0x4)+parseInt(_0x294392(0x1d3))/0x5*(-parseInt(_0x294392(0x1f1))/0x6)+-parseInt(_0x294392(0x1ed))/0x7*(-parseInt(_0x294392(0x1e7))/0x8)+parseInt(_0x294392(0x1e6))/0x9*(-parseInt(_0x294392(0x1bf))/0xa)+parseInt(_0x294392(0x1d2))/0xb;if(_0x5d6854===_0x90aebe)break;else _0x296724['push'](_0x296724['shift']());}catch(_0x7737ab){_0x296724['push'](_0x296724['shift']());}}}(a38_0x3466,0x4182b));var __awaiter=this&&this['__awaiter']||function(_0x33047f,_0x2e84c6,_0x1044eb,_0x56a0b2){function _0x264d04(_0xfcb275){return _0xfcb275 instanceof _0x1044eb?_0xfcb275:new _0x1044eb(function(_0x139078){_0x139078(_0xfcb275);});}return new(_0x1044eb||(_0x1044eb=Promise))(function(_0x55bbeb,_0x2fd2ba){const _0x19dc11=a38_0x128d;function _0x25427e(_0xd3f833){try{_0x2a6874(_0x56a0b2['next'](_0xd3f833));}catch(_0x35a2d8){_0x2fd2ba(_0x35a2d8);}}function _0x3cde1c(_0x5071c0){const _0x345a17=a38_0x128d;try{_0x2a6874(_0x56a0b2[_0x345a17(0x1e8)](_0x5071c0));}catch(_0x1e99e3){_0x2fd2ba(_0x1e99e3);}}function _0x2a6874(_0xcf9ebd){const _0x5c2660=a38_0x128d;_0xcf9ebd['done']?_0x55bbeb(_0xcf9ebd[_0x5c2660(0x1c9)]):_0x264d04(_0xcf9ebd[_0x5c2660(0x1c9)])[_0x5c2660(0x1bb)](_0x25427e,_0x3cde1c);}_0x2a6874((_0x56a0b2=_0x56a0b2[_0x19dc11(0x1e3)](_0x33047f,_0x2e84c6||[]))[_0x19dc11(0x1b5)]());});},__asyncValues=this&&this[a38_0x5f1de3(0x1b0)+a38_0x5f1de3(0x1ea)]||function(_0x365499){const _0x5cfe90=a38_0x5f1de3;if(!Symbol[_0x5cfe90(0x1d4)+'tor'])throw new TypeError(_0x5cfe90(0x1c8)+'ncIterator'+_0x5cfe90(0x1c1)+_0x5cfe90(0x1c2));var _0x5812b9=_0x365499[Symbol[_0x5cfe90(0x1d4)+_0x5cfe90(0x1be)]],_0xb8b2a8;return _0x5812b9?_0x5812b9[_0x5cfe90(0x1d9)](_0x365499):(_0x365499=typeof __values==='function'?__values(_0x365499):_0x365499[Symbol[_0x5cfe90(0x1e5)]](),_0xb8b2a8={},_0x4f9c4e('next'),_0x4f9c4e('throw'),_0x4f9c4e(_0x5cfe90(0x1b4)),_0xb8b2a8[Symbol[_0x5cfe90(0x1d4)+'tor']]=function(){return this;},_0xb8b2a8);function _0x4f9c4e(_0x47f527){_0xb8b2a8[_0x47f527]=_0x365499[_0x47f527]&&function(_0xcc6a91){return new Promise(function(_0xa207d6,_0x2aef6d){_0xcc6a91=_0x365499[_0x47f527](_0xcc6a91),_0x52c028(_0xa207d6,_0x2aef6d,_0xcc6a91['done'],_0xcc6a91['value']);});};}function _0x52c028(_0x447cd0,_0x2c515a,_0x313f5c,_0x37b0ba){const _0x1a198a=_0x5cfe90;Promise[_0x1a198a(0x1da)](_0x37b0ba)[_0x1a198a(0x1bb)](function(_0x38bc30){const _0x4d12fe=_0x1a198a,_0x24c3b9={};_0x24c3b9[_0x4d12fe(0x1c9)]=_0x38bc30,_0x24c3b9[_0x4d12fe(0x1b3)]=_0x313f5c,_0x447cd0(_0x24c3b9);},_0x2c515a);}};const a38_0x172565={};function a38_0x3466(){const _0x47b07a=['throw','.repositor','ues','tory','__esModule','25578lRaoWd','insertCoun','erty','chatId','6tdYcpL','ChatQuery','__asyncVal','storePath','11220IyWvTD','done','return','next','error','chatModel','path','ENABLED','length','then','readFileSy','forEach','tor','2753260rDolre','deleted','\x20is\x20not\x20de','fined.','find','assign','264YcUNEt','rmSync','561308wgWPaG','Symbol.asy','value','defineProp','513120oTlzwH','ice','join','name','toString','parse','configServ','10576412PtZsOa','268005mNocbw','asyncItera','force','chats','opendirSyn','where','call','resolve','recursive','dbSettings','writeStore','push','insert','ChatReposi','t/abstract','delete','apply','owner','iterator','9ptiioq','400VsERTD'];a38_0x3466=function(){return _0x47b07a;};return a38_0x3466();}a38_0x172565[a38_0x5f1de3(0x1c9)]=!![],Object[a38_0x5f1de3(0x1ca)+a38_0x5f1de3(0x1ef)](exports,a38_0x5f1de3(0x1ec),a38_0x172565),exports[a38_0x5f1de3(0x1e0)+a38_0x5f1de3(0x1eb)]=exports[a38_0x5f1de3(0x1f2)]=void 0x0;function a38_0x128d(_0x518f9e,_0x576e34){const _0x34669e=a38_0x3466();return a38_0x128d=function(_0x128d28,_0xfa1243){_0x128d28=_0x128d28-0x1b0;let _0x55ae43=_0x34669e[_0x128d28];return _0x55ae43;},a38_0x128d(_0x518f9e,_0x576e34);}const path_1=require(a38_0x5f1de3(0x1b8)),abstract_repository_1=require('../abstrac'+a38_0x5f1de3(0x1e1)+a38_0x5f1de3(0x1e9)+'y'),fs_1=require('fs');class ChatQuery{}exports[a38_0x5f1de3(0x1f2)]=ChatQuery;class ChatRepository extends abstract_repository_1['Repository']{constructor(_0x461f03,_0x3819aa){const _0x2c54e6=a38_0x5f1de3;super(_0x3819aa),this['chatModel']=_0x461f03,this[_0x2c54e6(0x1d1)+_0x2c54e6(0x1cc)]=_0x3819aa;}[a38_0x5f1de3(0x1df)](_0x592999,_0x2a19ed=![]){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x8338c7=a38_0x128d;if(_0x592999[_0x8338c7(0x1ba)]===0x0)return;try{if(this['dbSettings'][_0x8338c7(0x1b9)]&&_0x2a19ed){const _0x5cb7ca=yield this[_0x8338c7(0x1b7)]['insertMany']([..._0x592999]),_0x13757e={};return _0x13757e[_0x8338c7(0x1ee)+'t']=_0x5cb7ca[_0x8338c7(0x1ba)],_0x13757e;}_0x592999[_0x8338c7(0x1bd)](_0x3db2f7=>{const _0x57fe33=_0x8338c7;this[_0x57fe33(0x1dd)]({'path':(0x0,path_1[_0x57fe33(0x1cd)])(this[_0x57fe33(0x1b1)],'chats',_0x3db2f7[_0x57fe33(0x1e4)]),'fileName':_0x3db2f7['id'],'data':_0x3db2f7});});const _0x2928f3={};return _0x2928f3['insertCoun'+'t']=_0x592999[_0x8338c7(0x1ba)],_0x2928f3;}catch(_0x47b1f3){return _0x47b1f3;}finally{_0x592999=undefined;}});}[a38_0x5f1de3(0x1c3)](_0x55d26b){var _0x579ad2,_0x245a27,_0x5ebc8b,_0x3988a7;return __awaiter(this,void 0x0,void 0x0,function*(){const _0xc6d7a8=a38_0x128d;try{if(this[_0xc6d7a8(0x1dc)][_0xc6d7a8(0x1b9)]){const _0x4914f6={};return _0x4914f6[_0xc6d7a8(0x1e4)]=_0x55d26b[_0xc6d7a8(0x1d8)][_0xc6d7a8(0x1e4)],yield this['chatModel'][_0xc6d7a8(0x1c3)](_0x4914f6);}const _0x982289=[],_0x3622a1=(0x0,fs_1[_0xc6d7a8(0x1d7)+'c'])((0x0,path_1[_0xc6d7a8(0x1cd)])(this[_0xc6d7a8(0x1b1)],_0xc6d7a8(0x1d6),_0x55d26b[_0xc6d7a8(0x1d8)]['owner']));try{for(var _0x417196=!![],_0x43c046=__asyncValues(_0x3622a1),_0x241397;_0x241397=yield _0x43c046[_0xc6d7a8(0x1b5)](),_0x579ad2=_0x241397[_0xc6d7a8(0x1b3)],!_0x579ad2;){_0x3988a7=_0x241397[_0xc6d7a8(0x1c9)],_0x417196=![];try{const _0x1668a9=_0x3988a7;if(_0x1668a9['isFile']()){const _0x535164={};_0x535164['encoding']='utf-8',_0x982289[_0xc6d7a8(0x1de)](JSON[_0xc6d7a8(0x1d0)]((0x0,fs_1[_0xc6d7a8(0x1bc)+'nc'])((0x0,path_1[_0xc6d7a8(0x1cd)])(this[_0xc6d7a8(0x1b1)],_0xc6d7a8(0x1d6),_0x55d26b[_0xc6d7a8(0x1d8)][_0xc6d7a8(0x1e4)],_0x1668a9[_0xc6d7a8(0x1ce)]),_0x535164)));}}finally{_0x417196=!![];}}}catch(_0x50409d){const _0x1f2c9e={};_0x1f2c9e['error']=_0x50409d,_0x245a27=_0x1f2c9e;}finally{try{if(!_0x417196&&!_0x579ad2&&(_0x5ebc8b=_0x43c046['return']))yield _0x5ebc8b[_0xc6d7a8(0x1d9)](_0x43c046);}finally{if(_0x245a27)throw _0x245a27[_0xc6d7a8(0x1b6)];}}return _0x982289;}catch(_0x499348){return[];}});}[a38_0x5f1de3(0x1e2)](_0xbbb98f){return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1c7232=a38_0x128d;try{if(this[_0x1c7232(0x1dc)]['ENABLED'])return yield this['chatModel']['deleteOne'](Object[_0x1c7232(0x1c4)]({},_0xbbb98f[_0x1c7232(0x1d8)]));const _0x3b2fd5={};_0x3b2fd5[_0x1c7232(0x1d5)]=!![],_0x3b2fd5[_0x1c7232(0x1db)]=!![],(0x0,fs_1[_0x1c7232(0x1c6)])((0x0,path_1[_0x1c7232(0x1cd)])(this[_0x1c7232(0x1b1)],'chats',_0xbbb98f[_0x1c7232(0x1d8)][_0x1c7232(0x1e4)],_0xbbb98f[_0x1c7232(0x1d8)]['id']+'.josn'),_0x3b2fd5);const _0x23963d={};_0x23963d[_0x1c7232(0x1f0)]=_0xbbb98f[_0x1c7232(0x1d8)]['id'];const _0x335038={};return _0x335038[_0x1c7232(0x1c0)]=_0x23963d,_0x335038;}catch(_0x28b24b){return{'error':_0x28b24b===null||_0x28b24b===void 0x0?void 0x0:_0x28b24b[_0x1c7232(0x1cf)]()};}});}}exports['ChatReposi'+a38_0x5f1de3(0x1eb)]=ChatRepository;