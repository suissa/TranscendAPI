'use strict';const a40_0x31ae92=a40_0x455b;(function(_0x407ada,_0x45c71f){const _0x58fd31=a40_0x455b,_0x308e8d=_0x407ada();while(!![]){try{const _0x13e396=-parseInt(_0x58fd31(0xaa))/0x1*(parseInt(_0x58fd31(0xbe))/0x2)+-parseInt(_0x58fd31(0xc6))/0x3*(parseInt(_0x58fd31(0x99))/0x4)+parseInt(_0x58fd31(0xa5))/0x5+parseInt(_0x58fd31(0x9c))/0x6+-parseInt(_0x58fd31(0xaf))/0x7*(parseInt(_0x58fd31(0xc8))/0x8)+parseInt(_0x58fd31(0xc7))/0x9+parseInt(_0x58fd31(0xb6))/0xa*(parseInt(_0x58fd31(0xb5))/0xb);if(_0x13e396===_0x45c71f)break;else _0x308e8d['push'](_0x308e8d['shift']());}catch(_0x1ef208){_0x308e8d['push'](_0x308e8d['shift']());}}}(a40_0x295c,0xb7f08));var __awaiter=this&&this[a40_0x31ae92(0xcb)]||function(_0x5bddc7,_0x12dc06,_0x14cd01,_0xa2a0b2){function _0x1c8156(_0x217a19){return _0x217a19 instanceof _0x14cd01?_0x217a19:new _0x14cd01(function(_0x23c5e6){_0x23c5e6(_0x217a19);});}return new(_0x14cd01||(_0x14cd01=Promise))(function(_0x32781e,_0x1337d8){const _0x82983d=a40_0x455b;function _0x292111(_0x227536){try{_0x8732cb(_0xa2a0b2['next'](_0x227536));}catch(_0x528a83){_0x1337d8(_0x528a83);}}function _0x214a22(_0x281262){const _0x372888=a40_0x455b;try{_0x8732cb(_0xa2a0b2[_0x372888(0xa9)](_0x281262));}catch(_0x1b2375){_0x1337d8(_0x1b2375);}}function _0x8732cb(_0x13d2ca){const _0x16234e=a40_0x455b;_0x13d2ca[_0x16234e(0xad)]?_0x32781e(_0x13d2ca[_0x16234e(0x9a)]):_0x1c8156(_0x13d2ca[_0x16234e(0x9a)])['then'](_0x292111,_0x214a22);}_0x8732cb((_0xa2a0b2=_0xa2a0b2[_0x82983d(0xd2)](_0x5bddc7,_0x12dc06||[]))[_0x82983d(0xb7)]());});},__asyncValues=this&&this['__asyncVal'+'ues']||function(_0x2cdbab){const _0x529b2c=a40_0x31ae92;if(!Symbol['asyncItera'+_0x529b2c(0xbf)])throw new TypeError(_0x529b2c(0xd3)+_0x529b2c(0xd8)+_0x529b2c(0xa6)+_0x529b2c(0xa8));var _0x787441=_0x2cdbab[Symbol[_0x529b2c(0xd4)+_0x529b2c(0xbf)]],_0x7e1ade;return _0x787441?_0x787441['call'](_0x2cdbab):(_0x2cdbab=typeof __values===_0x529b2c(0xcf)?__values(_0x2cdbab):_0x2cdbab[Symbol[_0x529b2c(0x9d)]](),_0x7e1ade={},_0x3bb814('next'),_0x3bb814(_0x529b2c(0xa9)),_0x3bb814(_0x529b2c(0xbc)),_0x7e1ade[Symbol[_0x529b2c(0xd4)+'tor']]=function(){return this;},_0x7e1ade);function _0x3bb814(_0xe16acf){_0x7e1ade[_0xe16acf]=_0x2cdbab[_0xe16acf]&&function(_0xbe2887){return new Promise(function(_0x330de7,_0x3a182b){const _0xea4c15=a40_0x455b;_0xbe2887=_0x2cdbab[_0xe16acf](_0xbe2887),_0x1116f4(_0x330de7,_0x3a182b,_0xbe2887[_0xea4c15(0xad)],_0xbe2887['value']);});};}function _0x1116f4(_0x41cf93,_0x142b11,_0x26f54c,_0x2ae93e){const _0x3e8cf2=_0x529b2c;Promise['resolve'](_0x2ae93e)[_0x3e8cf2(0xd5)](function(_0x29d92){const _0x2fc080=_0x3e8cf2,_0x51c368={};_0x51c368['value']=_0x29d92,_0x51c368[_0x2fc080(0xad)]=_0x26f54c,_0x41cf93(_0x51c368);},_0x142b11);}};const a40_0x28cbf3={};a40_0x28cbf3['value']=!![],Object['defineProp'+'erty'](exports,a40_0x31ae92(0x9b),a40_0x28cbf3),exports['MessageRep'+a40_0x31ae92(0x96)]=exports[a40_0x31ae92(0x9f)+'ry']=void 0x0;const path_1=require(a40_0x31ae92(0xd0)),abstract_repository_1=require(a40_0x31ae92(0xbd)+a40_0x31ae92(0xa1)+a40_0x31ae92(0xc2)+'y'),fs_1=require('fs');function a40_0x455b(_0x3d1583,_0x57004e){const _0x295c49=a40_0x295c();return a40_0x455b=function(_0x455bc3,_0x1afc04){_0x455bc3=_0x455bc3-0x94;let _0xfc8001=_0x295c49[_0x455bc3];return _0xfc8001;},a40_0x455b(_0x3d1583,_0x57004e);}class MessageQuery{}exports['MessageQue'+'ry']=MessageQuery;function a40_0x295c(){const _0x34769d=['owner','where','function','path','messageMod','apply','Symbol.asy','asyncItera','then','readFileSy','entries','ncIterator','storePath','forEach','ository','join','key','410888jydfsl','value','__esModule','297720nykOZp','iterator','Repository','MessageQue','estamp','t/abstract','sort','encoding','configServ','4629400GGtmhC','\x20is\x20not\x20de','find','fined.','throw','17LzRwxu','dbSettings','name','done','push','84042vqKcQT','limit','insertMany','utf-8','insert','error','25755367oEjGBy','10cxjmgO','next','parse','MessageRep','opendirSyn','messages','return','../abstrac','110730nORkae','tor','key.','splice','.repositor','ERROR:\x20','log','length','33EocRpc','3240828VpDUsr','568dgCPVD','messageTim','insertCoun','__awaiter','ENABLED'];a40_0x295c=function(){return _0x34769d;};return a40_0x295c();}class MessageRepository extends abstract_repository_1[a40_0x31ae92(0x9e)]{constructor(_0x4c9bc5,_0x50f52b){const _0x3b42c3=a40_0x31ae92;super(_0x50f52b),this[_0x3b42c3(0xd1)+'el']=_0x4c9bc5,this[_0x3b42c3(0xa4)+'ice']=_0x50f52b;}[a40_0x31ae92(0xb3)](_0x4e2757,_0x16983e=![]){return __awaiter(this,void 0x0,void 0x0,function*(){const _0xdaca47=a40_0x455b;if(_0x4e2757[_0xdaca47(0xc5)]===0x0)return;try{if(this[_0xdaca47(0xab)]['ENABLED']&&_0x16983e){const _0x1fb248=yield this['messageMod'+'el'][_0xdaca47(0xb1)]([..._0x4e2757]),_0x458696={};return _0x458696[_0xdaca47(0xca)+'t']=_0x1fb248[_0xdaca47(0xc5)],_0x458696;}if(_0x16983e){_0x4e2757[_0xdaca47(0x95)](_0x4ed4b1=>this['writeStore']({'path':(0x0,path_1[_0xdaca47(0x97)])(this['storePath'],_0xdaca47(0xbb),_0x4ed4b1['owner']),'fileName':_0x4ed4b1[_0xdaca47(0x98)]['id'],'data':_0x4ed4b1}));const _0x41557a={};return _0x41557a['insertCoun'+'t']=_0x4e2757[_0xdaca47(0xc5)],_0x41557a;}const _0x133320={};return _0x133320[_0xdaca47(0xca)+'t']=0x0,_0x133320;}catch(_0x536074){return console[_0xdaca47(0xc4)](_0xdaca47(0xc3),_0x536074),_0x536074;}finally{_0x4e2757=undefined;}});}['find'](_0x3c1c2c){var _0xa1812e,_0x515faa,_0x606b0b,_0x395c1b,_0x308100,_0x49a94e,_0x31ace9,_0x2bb5c1,_0x24f646;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x5f0bd1=a40_0x455b;try{if(this['dbSettings'][_0x5f0bd1(0xcc)]){if((_0x308100=_0x3c1c2c['where'])===null||_0x308100===void 0x0?void 0x0:_0x308100[_0x5f0bd1(0x98)]){for(const [_0x1d997f,_0x14c6ea]of Object[_0x5f0bd1(0xd7)](_0x3c1c2c['where'][_0x5f0bd1(0x98)])){_0x3c1c2c[_0x5f0bd1(0xce)][_0x5f0bd1(0xc0)+_0x1d997f]=_0x14c6ea;}delete _0x3c1c2c['where'][_0x5f0bd1(0x98)];}const _0x1f7e6a={};return _0x1f7e6a[_0x5f0bd1(0xc9)+_0x5f0bd1(0xa0)]=-0x1,yield this[_0x5f0bd1(0xd1)+'el'][_0x5f0bd1(0xa7)](Object['assign']({},_0x3c1c2c['where']))[_0x5f0bd1(0xa2)](_0x1f7e6a)[_0x5f0bd1(0xb0)]((_0x49a94e=_0x3c1c2c===null||_0x3c1c2c===void 0x0?void 0x0:_0x3c1c2c[_0x5f0bd1(0xb0)])!==null&&_0x49a94e!==void 0x0?_0x49a94e:0x0);}const _0x24ce12=[];if((_0x2bb5c1=(_0x31ace9=_0x3c1c2c===null||_0x3c1c2c===void 0x0?void 0x0:_0x3c1c2c[_0x5f0bd1(0xce)])===null||_0x31ace9===void 0x0?void 0x0:_0x31ace9[_0x5f0bd1(0x98)])===null||_0x2bb5c1===void 0x0?void 0x0:_0x2bb5c1['id']){const _0x336619={};_0x336619[_0x5f0bd1(0xa3)]='utf-8',_0x24ce12[_0x5f0bd1(0xae)](JSON[_0x5f0bd1(0xb8)]((0x0,fs_1[_0x5f0bd1(0xd6)+'nc'])((0x0,path_1[_0x5f0bd1(0x97)])(this[_0x5f0bd1(0x94)],_0x5f0bd1(0xbb),_0x3c1c2c['where'][_0x5f0bd1(0xcd)],_0x3c1c2c[_0x5f0bd1(0xce)][_0x5f0bd1(0x98)]['id']+'.json'),_0x336619)));}else{const _0x1de6bd={};_0x1de6bd[_0x5f0bd1(0xa3)]=_0x5f0bd1(0xb2);const _0xcce93a=(0x0,fs_1[_0x5f0bd1(0xba)+'c'])((0x0,path_1['join'])(this[_0x5f0bd1(0x94)],_0x5f0bd1(0xbb),_0x3c1c2c[_0x5f0bd1(0xce)][_0x5f0bd1(0xcd)]),_0x1de6bd);try{for(var _0x1ebdd7=!![],_0x2120d1=__asyncValues(_0xcce93a),_0x274904;_0x274904=yield _0x2120d1[_0x5f0bd1(0xb7)](),_0xa1812e=_0x274904[_0x5f0bd1(0xad)],!_0xa1812e;){_0x395c1b=_0x274904[_0x5f0bd1(0x9a)],_0x1ebdd7=![];try{const _0x1da99b=_0x395c1b;if(_0x1da99b['isFile']()){const _0x4aef57={};_0x4aef57[_0x5f0bd1(0xa3)]=_0x5f0bd1(0xb2),_0x24ce12['push'](JSON[_0x5f0bd1(0xb8)]((0x0,fs_1[_0x5f0bd1(0xd6)+'nc'])((0x0,path_1[_0x5f0bd1(0x97)])(this[_0x5f0bd1(0x94)],_0x5f0bd1(0xbb),_0x3c1c2c['where'][_0x5f0bd1(0xcd)],_0x1da99b[_0x5f0bd1(0xac)]),_0x4aef57)));}}finally{_0x1ebdd7=!![];}}}catch(_0x4fffa2){const _0x481864={};_0x481864['error']=_0x4fffa2,_0x515faa=_0x481864;}finally{try{if(!_0x1ebdd7&&!_0xa1812e&&(_0x606b0b=_0x2120d1[_0x5f0bd1(0xbc)]))yield _0x606b0b['call'](_0x2120d1);}finally{if(_0x515faa)throw _0x515faa[_0x5f0bd1(0xb4)];}}}return _0x24ce12[_0x5f0bd1(0xa2)]((_0x1f4cf9,_0x9d3c4b)=>{const _0x2d5593=_0x5f0bd1;return _0x9d3c4b[_0x2d5593(0xc9)+_0x2d5593(0xa0)]-_0x1f4cf9[_0x2d5593(0xc9)+_0x2d5593(0xa0)];})[_0x5f0bd1(0xc1)](0x0,(_0x24f646=_0x3c1c2c===null||_0x3c1c2c===void 0x0?void 0x0:_0x3c1c2c[_0x5f0bd1(0xb0)])!==null&&_0x24f646!==void 0x0?_0x24f646:_0x24ce12[_0x5f0bd1(0xc5)]);}catch(_0x37b694){return[];}});}}exports[a40_0x31ae92(0xb9)+'ository']=MessageRepository;