'use strict';const a52_0x3661a0=a52_0x10fb;(function(_0x3cc364,_0x5b3317){const _0x387d0d=a52_0x10fb,_0x35923c=_0x3cc364();while(!![]){try{const _0xad79f=parseInt(_0x387d0d(0x8f))/(0x236*0xc+-0x3a*0x2d+-0x1055)+-parseInt(_0x387d0d(0xc4))/(-0xc2*-0x1c+-0x3a*-0xe+-0x2*0xc31)*(parseInt(_0x387d0d(0x8e))/(-0xadb+-0x1105+0x1be3))+-parseInt(_0x387d0d(0xb3))/(-0xb82+-0xc2*-0x5+0x4*0x1ef)+parseInt(_0x387d0d(0x81))/(0x39*-0xa7+0x18b5+0x7*0x1c9)*(parseInt(_0x387d0d(0xb6))/(0x12a0+-0x9*-0x102+0x7*-0x3f4))+-parseInt(_0x387d0d(0x88))/(0x4d4+-0x1f75*0x1+0x4*0x6aa)*(parseInt(_0x387d0d(0x7e))/(-0x8a7+0x248f*0x1+-0x1be0))+-parseInt(_0x387d0d(0xa7))/(0x1*0x7f0+0xc0a*-0x1+0x423)*(-parseInt(_0x387d0d(0xa3))/(-0x1*0x10a5+-0xac8+0x1b77))+parseInt(_0x387d0d(0x96))/(-0x758+0x25e3+0x8*-0x3d0)*(parseInt(_0x387d0d(0xcc))/(-0x213e+0x1ef1+0x259*0x1));if(_0xad79f===_0x5b3317)break;else _0x35923c['push'](_0x35923c['shift']());}catch(_0x2f00fb){_0x35923c['push'](_0x35923c['shift']());}}}(a52_0x406a,0x13b6e9+-0x17cf82+0x11b013*0x1));var __awaiter=this&&this[a52_0x3661a0(0xa8)]||function(_0x5cfdc3,_0x13f9c2,_0x2f5929,_0x255459){function _0x36e325(_0x5573a2){return _0x5573a2 instanceof _0x2f5929?_0x5573a2:new _0x2f5929(function(_0x3c897b){_0x3c897b(_0x5573a2);});}return new(_0x2f5929||(_0x2f5929=Promise))(function(_0x3aafb1,_0x24e06a){const _0x4c0e3e=a52_0x10fb;function _0xfe47f2(_0x52ca41){try{_0x49871e(_0x255459['next'](_0x52ca41));}catch(_0x690c2e){_0x24e06a(_0x690c2e);}}function _0x21b5be(_0x3d905f){const _0x4916de=a52_0x10fb;try{_0x49871e(_0x255459[_0x4916de(0x98)](_0x3d905f));}catch(_0x125e88){_0x24e06a(_0x125e88);}}function _0x49871e(_0x245801){const _0x10a425=a52_0x10fb;_0x245801[_0x10a425(0xb5)]?_0x3aafb1(_0x245801[_0x10a425(0x7a)]):_0x36e325(_0x245801['value'])[_0x10a425(0x9a)](_0xfe47f2,_0x21b5be);}_0x49871e((_0x255459=_0x255459[_0x4c0e3e(0x93)](_0x5cfdc3,_0x13f9c2||[]))[_0x4c0e3e(0x8c)]());});},__importDefault=this&&this['__importDe'+a52_0x3661a0(0xc9)]||function(_0x2e535b){const _0x2c72b6=a52_0x3661a0;return _0x2e535b&&_0x2e535b[_0x2c72b6(0xba)]?_0x2e535b:{'default':_0x2e535b};};const a52_0x3522b2={};a52_0x3522b2[a52_0x3661a0(0x7a)]=!![],Object[a52_0x3661a0(0xb2)+a52_0x3661a0(0x94)](exports,'__esModule',a52_0x3522b2),exports[a52_0x3661a0(0x97)+'e']=exports[a52_0x3661a0(0xc1)]=void(0x4*0x117+0x57+0x1*-0x4b3);const package_json_1=require(a52_0x3661a0(0x99)+'ackage.jso'+'n'),jsonwebtoken_1=require(a52_0x3661a0(0x90)+'en'),logger_config_1=require(a52_0x3661a0(0x9c)+a52_0x3661a0(0xae)+a52_0x3661a0(0x80)),uuid_1=require(a52_0x3661a0(0xb7)),class_validator_1=require(a52_0x3661a0(0x7c)+a52_0x3661a0(0xc0)),exceptions_1=require(a52_0x3661a0(0x91)+'ptions'),axios_1=__importDefault(require(a52_0x3661a0(0xac)));class OldToken{}exports[a52_0x3661a0(0xc1)]=OldToken;function a52_0x10fb(_0x353874,_0x50bdea){const _0x23578d=a52_0x406a();return a52_0x10fb=function(_0x1a08f5,_0x3522b2){_0x1a08f5=_0x1a08f5-(-0x4ca*-0x6+0x9ea+-0x2631);let _0x3501ee=_0x23578d[_0x1a08f5];return _0x3501ee;},a52_0x10fb(_0x353874,_0x50bdea);}class AuthService{constructor(_0x488e5e,_0x451f84,_0x463a07){const _0x40ea1d=a52_0x3661a0;this[_0x40ea1d(0xa4)+_0x40ea1d(0x7f)]=_0x488e5e,this['waMonitor']=_0x451f84,this[_0x40ea1d(0xaa)]=_0x463a07,this[_0x40ea1d(0xcb)]=new logger_config_1[(_0x40ea1d(0x83))](AuthService[_0x40ea1d(0x78)]);}[a52_0x3661a0(0xbe)](_0x1dc981){var _0x4a4568;return __awaiter(this,void(-0x49*-0x52+0x18b8+0x106*-0x2f),void(0x1cc*0x6+0x1*0x1486+-0x1f4e),function*(){const _0x1ddda2=a52_0x10fb,_0x57f0a6=this[_0x1ddda2(0xa4)+_0x1ddda2(0x7f)]['get'](_0x1ddda2(0xb1)+_0x1ddda2(0xa0))[_0x1ddda2(0x95)],_0x10b172=(0x4*-0x5cd+-0x25dd*-0x1+0xea9*-0x1,jsonwebtoken_1[_0x1ddda2(0xa9)])({'instanceName':_0x1dc981['instanceNa'+'me'],'apiName':package_json_1[_0x1ddda2(0x78)],'tokenId':(0x3*0x565+-0x914+-0x71b,uuid_1['v4'])()},_0x57f0a6[_0x1ddda2(0x75)],{'expiresIn':_0x57f0a6['EXPIRIN_IN'],'encoding':_0x1ddda2(0x7d),'subject':_0x1ddda2(0x9f)}),_0x28aac9={};_0x28aac9[_0x1ddda2(0xbe)]=_0x10b172;const _0x25c87d=yield this[_0x1ddda2(0xaa)][_0x1ddda2(0x84)][_0x1ddda2(0xca)](_0x28aac9,_0x1dc981[_0x1ddda2(0xbb)+'me']);if(_0x25c87d[_0x1ddda2(0xaf)]){const _0x1f5832={};_0x1f5832['localError']=AuthService[_0x1ddda2(0x78)]+'.jwt',_0x1f5832['error']=_0x25c87d[_0x1ddda2(0xaf)],this[_0x1ddda2(0xcb)][_0x1ddda2(0xaf)](_0x1f5832);throw new exceptions_1['BadRequest'+(_0x1ddda2(0x76))]('Authentica'+_0x1ddda2(0x86),(_0x4a4568=_0x25c87d['error'])===null||_0x4a4568===void(-0x1*0x1fb7+-0x4*0x42d+0x306b)?void(0x2192+-0x9e*-0x6+0xd*-0x2de):_0x4a4568['toString']());}const _0x5d6617={};return _0x5d6617[_0x1ddda2(0xbe)]=_0x10b172,_0x5d6617;});}[a52_0x3661a0(0xa2)](_0x2161e7){var _0x593287;return __awaiter(this,void(0x29d+-0x48b*-0x2+0xbb3*-0x1),void(-0x1b03+-0x226+0x1d29),function*(){const _0x5ca2c7=a52_0x10fb,_0x495d1e=(0x1*0x191b+-0x17c2*-0x1+-0x30dd,uuid_1['v4'])()[_0x5ca2c7(0x9b)+'e'](),_0x5ee16d={};_0x5ee16d['apikey']=_0x495d1e;const _0x273333=yield this[_0x5ca2c7(0xaa)][_0x5ca2c7(0x84)]['create'](_0x5ee16d,_0x2161e7[_0x5ca2c7(0xbb)+'me']);if(_0x273333[_0x5ca2c7(0xaf)]){const _0x591e40={};_0x591e40[_0x5ca2c7(0xc7)]=AuthService[_0x5ca2c7(0x78)]+_0x5ca2c7(0xc6),_0x591e40['error']=_0x273333[_0x5ca2c7(0xaf)],this[_0x5ca2c7(0xcb)][_0x5ca2c7(0xaf)](_0x591e40);throw new exceptions_1[(_0x5ca2c7(0xc3))+(_0x5ca2c7(0x76))](_0x5ca2c7(0xbd)+_0x5ca2c7(0x86),(_0x593287=_0x273333[_0x5ca2c7(0xaf)])===null||_0x593287===void(0x9*-0x3af+-0x2*0x84d+0x31c1)?void(0x1f07+-0x11*-0x125+-0x1*0x327c):_0x593287['toString']());}const _0x536888={};return _0x536888[_0x5ca2c7(0xa2)]=_0x495d1e,_0x536888;});}[a52_0x3661a0(0x8d)+'sh'](_0x10e834){return __awaiter(this,void(0x12*-0xca+0x157a+-0x746),void(-0x1f71+-0x2*-0x506+0x1565*0x1),function*(){const _0x1ff2b0=a52_0x10fb,_0x2a1fe3=this[_0x1ff2b0(0xa4)+_0x1ff2b0(0x7f)]['get'](_0x1ff2b0(0xb1)+_0x1ff2b0(0xa0));return yield this[_0x2a1fe3[_0x1ff2b0(0x85)]](_0x10e834);});}[a52_0x3661a0(0x9e)+'en']({oldToken:_0x22b8f2}){return __awaiter(this,void(0x217d+-0x138a*-0x1+-0x3507),void(0x1557+0x3b*-0x61+0x14*0xd),function*(){const _0x54c6b1=a52_0x10fb;if(!(-0x2686+0xf*0x259+-0x79*-0x7,class_validator_1[_0x54c6b1(0x92)])(_0x22b8f2))throw new exceptions_1[(_0x54c6b1(0xc3))+(_0x54c6b1(0x76))](_0x54c6b1(0x8a)+_0x54c6b1(0x7b));try{const _0x3fdb57=this[_0x54c6b1(0xa4)+_0x54c6b1(0x7f)][_0x54c6b1(0xa5)]('AUTHENTICA'+_0x54c6b1(0xa0))[_0x54c6b1(0x95)],_0x4ef85f={};_0x4ef85f[_0x54c6b1(0xbf)+'ration']=!![];const _0x2739ad=(-0x1095*-0x1+0x4d*0x25+-0x1bb6,jsonwebtoken_1[_0x54c6b1(0x79)])(_0x22b8f2,_0x3fdb57['SECRET'],_0x4ef85f),_0x44005=yield this[_0x54c6b1(0xaa)][_0x54c6b1(0x84)][_0x54c6b1(0x87)](_0x2739ad[_0x54c6b1(0xbb)+'me']),_0x47a2f3={};_0x47a2f3[_0x54c6b1(0xbf)+_0x54c6b1(0xad)]=!![];const _0x190633=(-0xc40+0xaa*-0x1c+0x1ed8,jsonwebtoken_1[_0x54c6b1(0x79)])(_0x44005['jwt'],_0x3fdb57[_0x54c6b1(0x75)],_0x47a2f3);if(_0x2739ad[_0x54c6b1(0xab)]!==_0x190633[_0x54c6b1(0xab)])throw new exceptions_1[(_0x54c6b1(0xc3))+(_0x54c6b1(0x76))](_0x54c6b1(0x8a)+_0x54c6b1(0x7b));const _0x22c467={};_0x22c467[_0x54c6b1(0xbb)+'me']=_0x2739ad[_0x54c6b1(0xbb)+'me'];const _0xbf9a81={'jwt':(yield this['jwt'](_0x22c467))['jwt'],'instanceName':_0x2739ad[_0x54c6b1(0xbb)+'me']};try{const _0x382ff5=yield this[_0x54c6b1(0xaa)][_0x54c6b1(0xa6)][_0x54c6b1(0x87)](_0x2739ad[_0x54c6b1(0xbb)+'me']);if(_0x382ff5['enabled']&&this[_0x54c6b1(0xa4)+_0x54c6b1(0x7f)][_0x54c6b1(0xa5)](_0x54c6b1(0xb4))['EVENTS'][_0x54c6b1(0x89)+'KEN']){const _0x46e88f={};_0x46e88f[_0x54c6b1(0xc8)]=_0x382ff5['url'];const _0x2d19c4=axios_1[_0x54c6b1(0xa1)][_0x54c6b1(0xca)](_0x46e88f),_0x3849d5={};_0x3849d5[_0x54c6b1(0xc5)]=_0x54c6b1(0x9d),_0x3849d5['instance']=_0x2739ad[_0x54c6b1(0xbb)+'me'],_0x3849d5[_0x54c6b1(0xb9)]=_0xbf9a81;const _0x56b7fb={};_0x56b7fb['owner']=this[_0x54c6b1(0xc2)][_0x54c6b1(0x82)+'s'][_0x2739ad[_0x54c6b1(0xbb)+'me']][_0x54c6b1(0x77)];const _0x5cde63={};_0x5cde63[_0x54c6b1(0xbc)]=_0x56b7fb,yield _0x2d19c4[_0x54c6b1(0xb0)]('',_0x3849d5,_0x5cde63);}}catch(_0x84d0b5){this[_0x54c6b1(0xcb)]['error'](_0x84d0b5);}return _0xbf9a81;}catch(_0x2bae81){const _0xfe7fdf={};_0xfe7fdf[_0x54c6b1(0xc7)]=AuthService['name']+(_0x54c6b1(0x8b)+_0x54c6b1(0xb8)),_0xfe7fdf[_0x54c6b1(0xaf)]=_0x2bae81,this['logger'][_0x54c6b1(0xaf)](_0xfe7fdf);throw new exceptions_1[(_0x54c6b1(0xc3))+'Exception'](_0x54c6b1(0x8a)+_0x54c6b1(0x7b));}});}}exports[a52_0x3661a0(0x97)+'e']=AuthService;function a52_0x406a(){const _0x2b37f8=['Exception','wuid','name','verify','value','ldToken\x22','class-vali','utf8','43776XBOhFR','ice','config','295bGLNpJ','waInstance','Logger','auth','TYPE','tion\x20error','find','1652IIHNBw','NEW_JWT_TO','Invalid\x20\x22o','.refreshTo','next','generateHa','577779xdHYmA','1772123HAEXrw','jsonwebtok','../../exce','isJWT','apply','erty','JWT','316371ebBFOm','AuthServic','throw','../../../p','then','toUpperCas','../../conf','new.jwt','refreshTok','g-t','TION','default','apikey','2420fQieAi','configServ','get','webhook','41130wVeaJP','__awaiter','sign','repository','tokenId','axios','ration','ig/logger.','error','post','AUTHENTICA','defineProp','5778460GVuArg','WEBHOOK','done','89874tamNuv','uuid','ken','data','__esModule','instanceNa','params','Authentica','jwt','ignoreExpi','dator','OldToken','waMonitor','BadRequest','2dDUdOi','event','.jwt','localError','baseURL','fault','create','logger','24bsHwhx','SECRET'];a52_0x406a=function(){return _0x2b37f8;};return a52_0x406a();}