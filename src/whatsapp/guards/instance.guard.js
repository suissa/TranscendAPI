'use strict';const a30_0x31323e=a30_0x1e91;(function(_0x359970,_0x837ec9){const _0x29f8e2=a30_0x1e91,_0x451b82=_0x359970();while(!![]){try{const _0x2d337f=-parseInt(_0x29f8e2(0xaf))/(-0x5*-0xa+0x1ed9+-0x1f0a)+-parseInt(_0x29f8e2(0x87))/(-0x79b+0x6*-0x26c+-0x1*-0x1625)*(-parseInt(_0x29f8e2(0xb4))/(0x234c+-0x53*0x5+-0x21aa))+parseInt(_0x29f8e2(0x7a))/(0x342+0x1e71+-0x21af*0x1)+parseInt(_0x29f8e2(0x8b))/(0xe3*0xd+-0x1*-0x1d8+-0x2*0x6ad)*(parseInt(_0x29f8e2(0x9d))/(-0x1*-0x797+0x210d+-0x1*0x289e))+parseInt(_0x29f8e2(0xb0))/(-0x1d28+-0x11bb*-0x1+-0xb74*-0x1)+-parseInt(_0x29f8e2(0x94))/(0x18d4+-0x244b+0xb7f)*(-parseInt(_0x29f8e2(0xa6))/(-0x2575+-0x2*0x1204+-0x24c3*-0x2))+parseInt(_0x29f8e2(0x9c))/(-0x1e1a+0x151b+-0x303*-0x3)*(-parseInt(_0x29f8e2(0xb2))/(0x1b4a+-0x24a*-0xb+-0x346d*0x1));if(_0x2d337f===_0x837ec9)break;else _0x451b82['push'](_0x451b82['shift']());}catch(_0x54bfb8){_0x451b82['push'](_0x451b82['shift']());}}}(a30_0x5671,-0xa4728+-0x1*0x1670b7+0x2e1d29));var __awaiter=this&&this[a30_0x31323e(0x91)]||function(_0xba3664,_0x49d613,_0x549323,_0x3ce508){function _0x33bfc6(_0x55ccd4){return _0x55ccd4 instanceof _0x549323?_0x55ccd4:new _0x549323(function(_0x4520ec){_0x4520ec(_0x55ccd4);});}return new(_0x549323||(_0x549323=Promise))(function(_0x130d0d,_0x39b9af){const _0x30b935=a30_0x1e91;function _0x345200(_0x48a7fe){const _0x14ad05=a30_0x1e91;try{_0x69eda4(_0x3ce508[_0x14ad05(0x81)](_0x48a7fe));}catch(_0x5d4323){_0x39b9af(_0x5d4323);}}function _0x2848f6(_0x3ebc75){try{_0x69eda4(_0x3ce508['throw'](_0x3ebc75));}catch(_0xfac970){_0x39b9af(_0xfac970);}}function _0x69eda4(_0x2e391b){const _0x4b6885=a30_0x1e91;_0x2e391b['done']?_0x130d0d(_0x2e391b[_0x4b6885(0xa9)]):_0x33bfc6(_0x2e391b['value'])[_0x4b6885(0x74)](_0x345200,_0x2848f6);}_0x69eda4((_0x3ce508=_0x3ce508[_0x30b935(0x90)](_0xba3664,_0x49d613||[]))[_0x30b935(0x81)]());});};function a30_0x1e91(_0x14d1f0,_0x10eae2){const _0x478237=a30_0x5671();return a30_0x1e91=function(_0x597a87,_0x394ffe){_0x597a87=_0x597a87-(-0x1*-0x16d3+0x5*0x702+-0x3969);let _0xb302a6=_0x478237[_0x597a87];return _0xb302a6;},a30_0x1e91(_0x14d1f0,_0x10eae2);}const a30_0x597a87={};a30_0x597a87[a30_0x31323e(0xa9)]=!![],Object[a30_0x31323e(0x7d)+'erty'](exports,a30_0x31323e(0xa0),a30_0x597a87),exports[a30_0x31323e(0x84)+a30_0x31323e(0x96)]=exports[a30_0x31323e(0xa2)+a30_0x31323e(0x7f)]=void(0x7e3+-0x1de8+0x1605*0x1);const fs_1=require('fs'),path_1=require(a30_0x31323e(0xad)),path_config_1=require(a30_0x31323e(0x8a)+a30_0x31323e(0x9b)+a30_0x31323e(0x97)),db_connect_1=require(a30_0x31323e(0xaa)+'b.connect'),exceptions_1=require(a30_0x31323e(0x9f)+a30_0x31323e(0x85)),repository_manager_1=require('../reposit'+a30_0x31323e(0xa4)+'tory.manag'+'er'),whatsapp_module_1=require(a30_0x31323e(0xa1)+a30_0x31323e(0xab));function a30_0x5671(){const _0xa6b8f7=['/instance/','originalUr','ForbidenEx','The\x20\x22','apply','__awaiter','params','NAME','16NGBnJy','waInstance','ggedGuard','nfig','ame\x22\x20not\x20p','INSTANCE_D','rovided.','ig/path.co','34296130ZfwHeO','6228cyeFFH','waMonitor','../../exce','__esModule','../whatsap','instanceEx','ception','ory/reposi','Broker','4432473fgpGEZ','toArray','create','value','../../db/d','p.module','This\x20name\x20','path','instanceNa','160403eyviqf','6353774kJuALh','join','11nMjQbj','length','6WRCBMQ','then','nces','find','\x22instanceN','ENABLED','dy\x20in\x20use.','3206160IepOyl','\x20does\x20not\x20','\x22\x20is\x20alrea','defineProp','includes','istsGuard','BadRequest','next','body','existsSync','instanceLo','ptions','-instances','202166qWTbxf','DB_PREFIX_','NotFoundEx','../../conf','7570JSlUuj'];a30_0x5671=function(){return _0xa6b8f7;};return a30_0x5671();}function getInstance(_0x50ee28){return __awaiter(this,void(-0x1*-0x1b72+0x73*0x52+-0x79*0x88),void(-0x1fe9+0xbcc+0x141d),function*(){const _0x93d6ad=a30_0x1e91,_0x52f6b0=whatsapp_module_1[_0x93d6ad(0x9e)][_0x93d6ad(0x95)+'s'][_0x50ee28];if(db_connect_1['db'][_0x93d6ad(0x78)]){const _0xa4b7e3=repository_manager_1['Repository'+_0x93d6ad(0xa5)]['dbServer']['db'](db_connect_1['db']['CONNECTION'][_0x93d6ad(0x88)+_0x93d6ad(0x93)]+_0x93d6ad(0x86))['collection'](_0x50ee28);return _0x52f6b0||(yield _0xa4b7e3[_0x93d6ad(0x76)]({})[_0x93d6ad(0xa7)]())[_0x93d6ad(0xb3)]>0xc69*0x3+0x1b0f*-0x1+-0xa2c;}return _0x52f6b0||(0x3*-0x5f8+0xacf+0x719,fs_1[_0x93d6ad(0x83)])((-0x12de+-0x1d1*-0x2+0x186*0xa,path_1[_0x93d6ad(0xb1)])(path_config_1[_0x93d6ad(0x99)+'IR'],_0x50ee28));});}function instanceExistsGuard(_0x1629d9,_0x548079,_0xd16769){return __awaiter(this,void(0x156c+-0x4a8*-0x2+0x4*-0x7af),void(0x1*-0x513+-0x445*-0x3+-0x7bc),function*(){const _0x55b6ce=a30_0x1e91;if(_0x1629d9[_0x55b6ce(0x8d)+'l'][_0x55b6ce(0x7e)](_0x55b6ce(0x8c)+'create')||_0x1629d9[_0x55b6ce(0x8d)+'l'][_0x55b6ce(0x7e)](_0x55b6ce(0x8c)+'fetchInsta'+_0x55b6ce(0x75)))return _0xd16769();const _0x14abaf=_0x1629d9[_0x55b6ce(0x92)];if(!(_0x14abaf===null||_0x14abaf===void(0xcb6+-0x1*-0x168d+0x3eb*-0x9)?void(0xca1+0x259*0x1+-0x27f*0x6):_0x14abaf[_0x55b6ce(0xae)+'me']))throw new exceptions_1[(_0x55b6ce(0x80))+'Exception'](_0x55b6ce(0x77)+_0x55b6ce(0x98)+_0x55b6ce(0x9a));if(!(yield getInstance(_0x14abaf[_0x55b6ce(0xae)+'me'])))throw new exceptions_1[(_0x55b6ce(0x89))+(_0x55b6ce(0xa3))](_0x55b6ce(0x8f)+_0x14abaf[_0x55b6ce(0xae)+'me']+('\x22\x20instance'+_0x55b6ce(0x7b)+'exist'));_0xd16769();});}exports[a30_0x31323e(0xa2)+'istsGuard']=instanceExistsGuard;function instanceLoggedGuard(_0x3340a3,_0x5d183a,_0x169612){return __awaiter(this,void(0x18d7+-0x22d7+-0xa0*-0x10),void(0x1*-0x25c7+-0x1*-0x899+0x5a*0x53),function*(){const _0x5296fe=a30_0x1e91;if(_0x3340a3[_0x5296fe(0x8d)+'l'][_0x5296fe(0x7e)](_0x5296fe(0x8c)+_0x5296fe(0xa8))){const _0x1f0368=_0x3340a3[_0x5296fe(0x82)];if(yield getInstance(_0x1f0368[_0x5296fe(0xae)+'me']))throw new exceptions_1[(_0x5296fe(0x8e))+(_0x5296fe(0xa3))](_0x5296fe(0xac)+'\x22'+_0x1f0368[_0x5296fe(0xae)+'me']+(_0x5296fe(0x7c)+_0x5296fe(0x79)));whatsapp_module_1[_0x5296fe(0x9e)][_0x5296fe(0x95)+'s'][_0x1f0368[_0x5296fe(0xae)+'me']]&&delete whatsapp_module_1[_0x5296fe(0x9e)][_0x5296fe(0x95)+'s'][_0x1f0368['instanceNa'+'me']];}_0x169612();});}exports[a30_0x31323e(0x84)+a30_0x31323e(0x96)]=instanceLoggedGuard;