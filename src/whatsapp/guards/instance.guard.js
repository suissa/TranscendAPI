'use strict';const a31_0x1b3835=a31_0x13e2;(function(_0x14f3f1,_0x2d71ae){const _0x13dab6=a31_0x13e2,_0x120d31=_0x14f3f1();while(!![]){try{const _0x567e82=-parseInt(_0x13dab6(0x1c3))/(0x1bce+0x1565+-0x3*0x1066)*(parseInt(_0x13dab6(0x1c7))/(0x80*0x4c+0xfd7*0x2+-0x45ac))+-parseInt(_0x13dab6(0x1da))/(0x188e+-0xd*-0x2a1+-0x3ab8)*(parseInt(_0x13dab6(0x1cd))/(0x1a5c+-0x991+-0x10c7))+-parseInt(_0x13dab6(0x1e2))/(0xb*-0xee+-0x1e04+0x2843)+-parseInt(_0x13dab6(0x1c6))/(-0x2245*0x1+0x13*0x77+-0x1976*-0x1)+parseInt(_0x13dab6(0x1f8))/(-0x1d2+-0x4*-0x25b+0x793*-0x1)+parseInt(_0x13dab6(0x1dc))/(-0x142a*-0x1+0x6*-0x664+-0x309*-0x6)*(-parseInt(_0x13dab6(0x1e7))/(-0x97+-0x67*0x52+0x219e*0x1))+-parseInt(_0x13dab6(0x1d3))/(-0x1c8d+-0x1f31+0x3bc8)*(-parseInt(_0x13dab6(0x1f9))/(0x1634+-0x23e2+0x493*0x3));if(_0x567e82===_0x2d71ae)break;else _0x120d31['push'](_0x120d31['shift']());}catch(_0x2c8cb7){_0x120d31['push'](_0x120d31['shift']());}}}(a31_0x2e59,0x11*-0x511+-0x2a724+0xb2*0x1169));function a31_0x2e59(){const _0x796360=['NAME','istsGuard','ggedGuard','dy\x20in\x20use.','__esModule','2500340dDyzbc','ig/path.co','join','../whatsap','fetchInsta','CONNECTION','__awaiter','15asasOf','erty','40vjqunH','b.connect','ptions','ame\x22\x20not\x20p','Exception','instanceNa','3811835iMSKUu','originalUr','path','\x22\x20instance','../../conf','62181UeCWlT','p.module','waInstance','dbserver','exist','toArray','done','/instance/','throw','../../exce','create','This\x20name\x20','BadRequest','-instances','xception','\x22\x20is\x20alrea','includes','90020KeRaqe','154kcwzpY','rovided.','nfig','DB_PREFIX_','next','26861zAQDxm','value','instanceEx','5256678tplURG','18juqAot','body','nces','ForbiddenE','existsSync','instanceLo','800900gnPjHS'];a31_0x2e59=function(){return _0x796360;};return a31_0x2e59();}var __awaiter=this&&this[a31_0x1b3835(0x1d9)]||function(_0x34ca4d,_0x472e7c,_0x34a4ad,_0x42e7eb){function _0x3fb834(_0x3cd476){return _0x3cd476 instanceof _0x34a4ad?_0x3cd476:new _0x34a4ad(function(_0x5b796e){_0x5b796e(_0x3cd476);});}return new(_0x34a4ad||(_0x34a4ad=Promise))(function(_0x3fd6ad,_0x4836f3){const _0x18306f=a31_0x13e2;function _0x5b127e(_0x5f4454){try{_0x30ac56(_0x42e7eb['next'](_0x5f4454));}catch(_0x54dbdc){_0x4836f3(_0x54dbdc);}}function _0x4ad8b6(_0x1f9f3e){const _0xd5866=a31_0x13e2;try{_0x30ac56(_0x42e7eb[_0xd5866(0x1ef)](_0x1f9f3e));}catch(_0x402c45){_0x4836f3(_0x402c45);}}function _0x30ac56(_0x4d6bfb){const _0x5ca1d0=a31_0x13e2;_0x4d6bfb[_0x5ca1d0(0x1ed)]?_0x3fd6ad(_0x4d6bfb[_0x5ca1d0(0x1c4)]):_0x3fb834(_0x4d6bfb[_0x5ca1d0(0x1c4)])['then'](_0x5b127e,_0x4ad8b6);}_0x30ac56((_0x42e7eb=_0x42e7eb['apply'](_0x34ca4d,_0x472e7c||[]))[_0x18306f(0x1fd)]());});};const a31_0xf83052={};a31_0xf83052[a31_0x1b3835(0x1c4)]=!![],Object['defineProp'+a31_0x1b3835(0x1db)](exports,a31_0x1b3835(0x1d2),a31_0xf83052),exports['instanceLo'+'ggedGuard']=exports[a31_0x1b3835(0x1c5)+a31_0x1b3835(0x1cf)]=void(-0xddb*-0x1+0x7*0x1f3+-0x1b80);const fs_1=require('fs'),path_1=require(a31_0x1b3835(0x1e4)),path_config_1=require(a31_0x1b3835(0x1e6)+a31_0x1b3835(0x1d4)+a31_0x1b3835(0x1fb)),db_connect_1=require('../../db/d'+a31_0x1b3835(0x1dd)),exceptions_1=require(a31_0x1b3835(0x1f0)+a31_0x1b3835(0x1de)),whatsapp_module_1=require(a31_0x1b3835(0x1d6)+a31_0x1b3835(0x1e8));function getInstance(_0x335992){return __awaiter(this,void(0xe9+-0x95+-0x54),void(0x811+0x151*-0x1d+0x5e*0x52),function*(){const _0x2809bf=a31_0x13e2,_0x162ddb=whatsapp_module_1['waMonitor'][_0x2809bf(0x1e9)+'s'][_0x335992];if(db_connect_1['db']['ENABLED']){const _0x588c35=db_connect_1[_0x2809bf(0x1ea)]['getClient']()['db'](db_connect_1['db'][_0x2809bf(0x1d8)][_0x2809bf(0x1fc)+_0x2809bf(0x1ce)]+_0x2809bf(0x1f4))['collection'](_0x335992);return _0x162ddb||(yield _0x588c35['find']({})[_0x2809bf(0x1ec)]())['length']>0x219d+-0x65f*-0x5+-0x4178;}return _0x162ddb||(-0x953+-0x12be*0x2+-0x1*-0x2ecf,fs_1[_0x2809bf(0x1cb)])((-0x100a+-0x47*0x89+0x57*0x9f,path_1[_0x2809bf(0x1d5)])(path_config_1['INSTANCE_D'+'IR'],_0x335992));});}function instanceExistsGuard(_0x10e6ea,_0x3d873b,_0x55e8dd){return __awaiter(this,void(-0x9*0x453+0x1433*-0x1+-0x439*-0xe),void(-0x18e8+-0xf2b+0x2813),function*(){const _0x332e5f=a31_0x13e2;if(_0x10e6ea[_0x332e5f(0x1e3)+'l'][_0x332e5f(0x1f7)](_0x332e5f(0x1ee)+_0x332e5f(0x1f1))||_0x10e6ea[_0x332e5f(0x1e3)+'l'][_0x332e5f(0x1f7)](_0x332e5f(0x1ee)+_0x332e5f(0x1d7)+_0x332e5f(0x1c9)))return _0x55e8dd();const _0x4c7042=_0x10e6ea['params'];if(!(_0x4c7042===null||_0x4c7042===void(0xbf*-0x2b+-0x26fc+-0x17*-0x317)?void(0x188*0x13+0x1d3*-0x2+-0x1972):_0x4c7042[_0x332e5f(0x1e1)+'me']))throw new exceptions_1[(_0x332e5f(0x1f3))+(_0x332e5f(0x1e0))]('\x22instanceN'+_0x332e5f(0x1df)+_0x332e5f(0x1fa));if(!(yield getInstance(_0x4c7042[_0x332e5f(0x1e1)+'me'])))throw new exceptions_1['NotFoundEx'+'ception']('The\x20\x22'+_0x4c7042['instanceNa'+'me']+(_0x332e5f(0x1e5)+'\x20does\x20not\x20'+_0x332e5f(0x1eb)));_0x55e8dd();});}function a31_0x13e2(_0x3213a4,_0x133716){const _0x3cf84c=a31_0x2e59();return a31_0x13e2=function(_0x7935fb,_0xf83052){_0x7935fb=_0x7935fb-(-0x11a1+0x23cd+-0x1*0x1069);let _0x4099ff=_0x3cf84c[_0x7935fb];return _0x4099ff;},a31_0x13e2(_0x3213a4,_0x133716);}exports[a31_0x1b3835(0x1c5)+a31_0x1b3835(0x1cf)]=instanceExistsGuard;function instanceLoggedGuard(_0xb06365,_0xcf15f6,_0x124bb0){return __awaiter(this,void(0x557*0x3+-0x3*0x716+0x53d),void(-0x219a*0x1+-0x9d0+-0x15b5*-0x2),function*(){const _0x2e8503=a31_0x13e2;if(_0xb06365[_0x2e8503(0x1e3)+'l'][_0x2e8503(0x1f7)]('/instance/'+'create')){const _0xf917ca=_0xb06365[_0x2e8503(0x1c8)];if(yield getInstance(_0xf917ca['instanceNa'+'me']))throw new exceptions_1[(_0x2e8503(0x1ca))+(_0x2e8503(0x1f5))](_0x2e8503(0x1f2)+'\x22'+_0xf917ca[_0x2e8503(0x1e1)+'me']+(_0x2e8503(0x1f6)+_0x2e8503(0x1d1)));whatsapp_module_1['waMonitor'][_0x2e8503(0x1e9)+'s'][_0xf917ca[_0x2e8503(0x1e1)+'me']]&&delete whatsapp_module_1['waMonitor'][_0x2e8503(0x1e9)+'s'][_0xf917ca[_0x2e8503(0x1e1)+'me']];}_0x124bb0();});}exports[a31_0x1b3835(0x1cc)+a31_0x1b3835(0x1d0)]=instanceLoggedGuard;