'use strict';const a31_0x52d586=a31_0x3b86;(function(_0x100f6d,_0x212cdf){const _0x12c186=a31_0x3b86,_0x16471b=_0x100f6d();while(!![]){try{const _0x87b525=-parseInt(_0x12c186(0x1b5))/(-0x6f2+0x138c+-0xc99*0x1)+parseInt(_0x12c186(0x19b))/(0x18f3+0x1c52+-0x3543)*(parseInt(_0x12c186(0x1b2))/(-0x3b*0x67+-0x1d5*-0x14+-0xce4))+-parseInt(_0x12c186(0x1cd))/(0x263a+-0x54d*0x3+-0x164f)+parseInt(_0x12c186(0x19a))/(0x19ca+0x1*-0xde1+-0xbe4)+parseInt(_0x12c186(0x194))/(-0x1be6+0x745*0x1+-0x14a7*-0x1)+parseInt(_0x12c186(0x1d2))/(0x2491+0x17c*-0x10+-0xcca)+parseInt(_0x12c186(0x1c7))/(0x5b2+0x1af6+-0x20a0)*(-parseInt(_0x12c186(0x198))/(0x481*-0x4+-0xd11+-0x1f1e*-0x1));if(_0x87b525===_0x212cdf)break;else _0x16471b['push'](_0x16471b['shift']());}catch(_0x45f50c){_0x16471b['push'](_0x16471b['shift']());}}}(a31_0x4e5d,-0x1*0x4ddce+0x3*0x50c43+-0x29d1c));var __awaiter=this&&this[a31_0x52d586(0x1a7)]||function(_0x233c09,_0x263604,_0x4505e3,_0x56926a){function _0x3d0b92(_0x5aff4d){return _0x5aff4d instanceof _0x4505e3?_0x5aff4d:new _0x4505e3(function(_0x24a927){_0x24a927(_0x5aff4d);});}return new(_0x4505e3||(_0x4505e3=Promise))(function(_0x1e3657,_0x2a5fc0){const _0x2f7e01=a31_0x3b86;function _0x9c719(_0x32e6f4){const _0x3ee409=a31_0x3b86;try{_0x341575(_0x56926a[_0x3ee409(0x19f)](_0x32e6f4));}catch(_0x36290d){_0x2a5fc0(_0x36290d);}}function _0x2614d9(_0x5dffa3){const _0x42459e=a31_0x3b86;try{_0x341575(_0x56926a[_0x42459e(0x1d3)](_0x5dffa3));}catch(_0x198c30){_0x2a5fc0(_0x198c30);}}function _0x341575(_0x2c253c){const _0x5b39df=a31_0x3b86;_0x2c253c[_0x5b39df(0x1a4)]?_0x1e3657(_0x2c253c['value']):_0x3d0b92(_0x2c253c[_0x5b39df(0x1b9)])[_0x5b39df(0x1b6)](_0x9c719,_0x2614d9);}_0x341575((_0x56926a=_0x56926a[_0x2f7e01(0x1a3)](_0x233c09,_0x263604||[]))['next']());});};function a31_0x3b86(_0x4ede14,_0x3ceb2d){const _0x427a97=a31_0x4e5d();return a31_0x3b86=function(_0xd8980a,_0x25b279){_0xd8980a=_0xd8980a-(0x3*0xa47+-0x2*0x59f+0x1*-0x1205);let _0x58fadf=_0x427a97[_0xd8980a];return _0x58fadf;},a31_0x3b86(_0x4ede14,_0x3ceb2d);}const a31_0x427a97={};a31_0x427a97[a31_0x52d586(0x1b9)]=!![],Object[a31_0x52d586(0x1b7)+'erty'](exports,a31_0x52d586(0x1ca),a31_0x427a97),exports[a31_0x52d586(0x1b0)+'ggedGuard']=exports[a31_0x52d586(0x1a0)+a31_0x52d586(0x1c6)]=void(-0xd*0x227+0x2*-0x418+0x242b);const fs_1=require('fs'),path_1=require(a31_0x52d586(0x1af)),path_config_1=require(a31_0x52d586(0x1cb)+a31_0x52d586(0x1c3)+a31_0x52d586(0x19c)),db_connect_1=require(a31_0x52d586(0x1a1)+a31_0x52d586(0x199)),exceptions_1=require('../../exce'+a31_0x52d586(0x1bb)),repository_manager_1=require(a31_0x52d586(0x1a9)+a31_0x52d586(0x19e)+'tory.manag'+'er'),whatsapp_module_1=require(a31_0x52d586(0x1d0)+a31_0x52d586(0x1c9));function getInstance(_0xe43a8d){return __awaiter(this,void(-0x118*0xd+-0x64*-0x37+-0x744),void(-0x200+0x1c06+-0x1a06),function*(){const _0x4fe570=a31_0x3b86,_0x3fc4ef=whatsapp_module_1[_0x4fe570(0x1a5)][_0x4fe570(0x1a6)+'s'][_0xe43a8d];if(db_connect_1['db'][_0x4fe570(0x1c2)]){const _0x3dad43=repository_manager_1[_0x4fe570(0x1aa)+_0x4fe570(0x1bf)][_0x4fe570(0x1b4)]['db'](db_connect_1['db'][_0x4fe570(0x1b8)][_0x4fe570(0x1bc)+'NAME']+_0x4fe570(0x1ad))[_0x4fe570(0x1c8)](_0xe43a8d);return _0x3fc4ef||(yield _0x3dad43[_0x4fe570(0x1b3)]({})[_0x4fe570(0x192)]())['length']>-0x127a+0x1cbe*0x1+0x1*-0xa44;}return _0x3fc4ef||(-0xa*0x254+-0x187+0x18cf,fs_1['existsSync'])((0xff9+0x7*0x1d+-0x10c4,path_1[_0x4fe570(0x1c4)])(path_config_1[_0x4fe570(0x1c1)+'IR'],_0xe43a8d));});}function instanceExistsGuard(_0x5da8fc,_0x4b0478,_0x49002d){return __awaiter(this,void(0x6*-0x5eb+0xf3d*-0x2+-0x19c*-0x29),void(0x12e2+-0x1f*-0x7c+-0x21e6),function*(){const _0x1cfef8=a31_0x3b86;if(_0x5da8fc['originalUr'+'l'][_0x1cfef8(0x196)](_0x1cfef8(0x1a8)+_0x1cfef8(0x195))||_0x5da8fc[_0x1cfef8(0x19d)+'l']['includes'](_0x1cfef8(0x1a8)+_0x1cfef8(0x1ba)+_0x1cfef8(0x1ab)))return _0x49002d();const _0x5381db=_0x5da8fc[_0x1cfef8(0x1be)];if(!(_0x5381db===null||_0x5381db===void(0x11fc+-0x1f1*-0x1+-0x13ed*0x1)?void(0x1*0x24be+-0x1*-0xf17+-0x33d5):_0x5381db[_0x1cfef8(0x1cf)+'me']))throw new exceptions_1['BadRequest'+'Exception'](_0x1cfef8(0x1ce)+_0x1cfef8(0x1c0)+_0x1cfef8(0x1bd));if(!(yield getInstance(_0x5381db['instanceNa'+'me'])))throw new exceptions_1[(_0x1cfef8(0x1ae))+'ception'](_0x1cfef8(0x1ac)+_0x5381db[_0x1cfef8(0x1cf)+'me']+(_0x1cfef8(0x1cc)+_0x1cfef8(0x1a2)+_0x1cfef8(0x1d1)));_0x49002d();});}function a31_0x4e5d(){const _0x22cd6e=['instanceLo','body','12834PjlLoy','find','dbServer','288808nQUhKc','then','defineProp','CONNECTION','value','fetchInsta','ptions','DB_PREFIX_','rovided.','params','Broker','ame\x22\x20not\x20p','INSTANCE_D','ENABLED','ig/path.co','join','dy\x20in\x20use.','istsGuard','15109384oMxnYJ','collection','p.module','__esModule','../../conf','\x22\x20instance','238588lteRIo','\x22instanceN','instanceNa','../whatsap','exist','6772787XReard','throw','toArray','This\x20name\x20','1317096GLcxTF','create','includes','ForbiddenE','9qyopyg','b.connect','2863240NGqClV','458fhUanL','nfig','originalUr','ory/reposi','next','instanceEx','../../db/d','\x20does\x20not\x20','apply','done','waMonitor','waInstance','__awaiter','/instance/','../reposit','Repository','nces','The\x20\x22','-instances','NotFoundEx','path'];a31_0x4e5d=function(){return _0x22cd6e;};return a31_0x4e5d();}exports[a31_0x52d586(0x1a0)+a31_0x52d586(0x1c6)]=instanceExistsGuard;function instanceLoggedGuard(_0xaf4a7f,_0x458034,_0x4f274f){return __awaiter(this,void(0x2071+0xa09+-0x2a7a),void(-0x10ed+0xc2c+0x4c1*0x1),function*(){const _0x30598c=a31_0x3b86;if(_0xaf4a7f[_0x30598c(0x19d)+'l'][_0x30598c(0x196)](_0x30598c(0x1a8)+_0x30598c(0x195))){const _0x114f12=_0xaf4a7f[_0x30598c(0x1b1)];if(yield getInstance(_0x114f12[_0x30598c(0x1cf)+'me']))throw new exceptions_1[(_0x30598c(0x197))+'xception'](_0x30598c(0x193)+'\x22'+_0x114f12[_0x30598c(0x1cf)+'me']+('\x22\x20is\x20alrea'+_0x30598c(0x1c5)));whatsapp_module_1['waMonitor']['waInstance'+'s'][_0x114f12[_0x30598c(0x1cf)+'me']]&&delete whatsapp_module_1[_0x30598c(0x1a5)]['waInstance'+'s'][_0x114f12[_0x30598c(0x1cf)+'me']];}_0x4f274f();});}exports['instanceLo'+'ggedGuard']=instanceLoggedGuard;