'use strict';function a30_0x4724(_0x2f1d76,_0x258d81){const _0x1131cc=a30_0xbd78();return a30_0x4724=function(_0x23edc1,_0x306bfe){_0x23edc1=_0x23edc1-(0x4e2+-0x3*0x5e9+0xd50);let _0x3957e6=_0x1131cc[_0x23edc1];return _0x3957e6;},a30_0x4724(_0x2f1d76,_0x258d81);}const a30_0x323de2=a30_0x4724;(function(_0x568c16,_0xd822d4){const _0x58ae4e=a30_0x4724,_0x5ab72e=_0x568c16();while(!![]){try{const _0x4670a1=parseInt(_0x58ae4e(0x9c))/(0x24f6+-0x5fe*-0x2+-0x30f1)+parseInt(_0x58ae4e(0x83))/(-0xb64+-0x2*-0x251+0x6c4)*(parseInt(_0x58ae4e(0x7b))/(-0x3*-0x986+-0x2416*0x1+0x787))+-parseInt(_0x58ae4e(0x9a))/(-0x11*-0x133+-0x1b28+-0x9*-0xc1)*(-parseInt(_0x58ae4e(0x98))/(-0x26b*-0x3+0x18e4+-0x4*0x808))+-parseInt(_0x58ae4e(0x99))/(-0x2*-0xe17+-0x3*0xf7+-0x1*0x1943)+parseInt(_0x58ae4e(0xa3))/(-0x558+0x1263*0x1+-0xc4*0x11)*(-parseInt(_0x58ae4e(0x8f))/(0x5*-0x243+0x1aa*-0x2+0xeab))+parseInt(_0x58ae4e(0xa4))/(0x321+-0x4bb*0x8+0x22c0)+-parseInt(_0x58ae4e(0x84))/(-0xbad+0xd12+-0x1*0x15b);if(_0x4670a1===_0xd822d4)break;else _0x5ab72e['push'](_0x5ab72e['shift']());}catch(_0x16d4b4){_0x5ab72e['push'](_0x5ab72e['shift']());}}}(a30_0xbd78,0x54b2a+0x1*0x44211+0x75c0*-0x8));var __awaiter=this&&this[a30_0x323de2(0xb3)]||function(_0x43c0ac,_0x27a91d,_0x229afc,_0x17dce9){function _0x409a3d(_0x47f7f5){return _0x47f7f5 instanceof _0x229afc?_0x47f7f5:new _0x229afc(function(_0x527f23){_0x527f23(_0x47f7f5);});}return new(_0x229afc||(_0x229afc=Promise))(function(_0x3e1dcb,_0xaa9f18){const _0x27fe1c=a30_0x4724;function _0x39d305(_0x394dc7){const _0x2f7a09=a30_0x4724;try{_0x3fbdd6(_0x17dce9[_0x2f7a09(0xb0)](_0x394dc7));}catch(_0x23c759){_0xaa9f18(_0x23c759);}}function _0x4f5fbe(_0x14710e){const _0x3c11e8=a30_0x4724;try{_0x3fbdd6(_0x17dce9[_0x3c11e8(0x9e)](_0x14710e));}catch(_0x3bce1c){_0xaa9f18(_0x3bce1c);}}function _0x3fbdd6(_0x5f483f){const _0x56e9a6=a30_0x4724;_0x5f483f['done']?_0x3e1dcb(_0x5f483f[_0x56e9a6(0xa9)]):_0x409a3d(_0x5f483f[_0x56e9a6(0xa9)])[_0x56e9a6(0xa0)](_0x39d305,_0x4f5fbe);}_0x3fbdd6((_0x17dce9=_0x17dce9['apply'](_0x43c0ac,_0x27a91d||[]))[_0x27fe1c(0xb0)]());});};const a30_0x306bfe={};a30_0x306bfe[a30_0x323de2(0xa9)]=!![],Object[a30_0x323de2(0x8b)+a30_0x323de2(0xad)](exports,a30_0x323de2(0x9d),a30_0x306bfe),exports[a30_0x323de2(0x9f)+'ggedGuard']=exports['instanceEx'+a30_0x323de2(0x79)]=void(0x3*0x2a3+-0x2ff+-0x25*0x22);const fs_1=require('fs'),path_1=require(a30_0x323de2(0xa7)),path_config_1=require(a30_0x323de2(0x82)+'ig/path.co'+'nfig'),db_connect_1=require('../../db/d'+a30_0x323de2(0x8e)),exceptions_1=require(a30_0x323de2(0x8c)+a30_0x323de2(0xa8)),repository_manager_1=require('../reposit'+a30_0x323de2(0x77)+a30_0x323de2(0x87)+'er'),whatsapp_module_1=require(a30_0x323de2(0x81)+a30_0x323de2(0x92));function getInstance(_0x5a4634){return __awaiter(this,void(-0x264b*0x1+-0xa5a+0x6f3*0x7),void(-0xba5*-0x3+0x521*0x2+-0x2d31),function*(){const _0x97c81d=a30_0x4724,_0x459659=whatsapp_module_1['waMonitor'][_0x97c81d(0x80)+'s'][_0x5a4634];if(db_connect_1['db'][_0x97c81d(0xb2)]){const _0x1011c6=repository_manager_1[_0x97c81d(0x8a)+_0x97c81d(0x86)]['dbServer']['db'](db_connect_1['db'][_0x97c81d(0x90)]['DB_PREFIX_'+_0x97c81d(0x7e)]+_0x97c81d(0xa2))[_0x97c81d(0x96)](_0x5a4634);return _0x459659||(yield _0x1011c6['find']({})['toArray']())[_0x97c81d(0xb4)]>0x801+0x1*0x177e+0x2dd*-0xb;}return _0x459659||(0x4*-0x58f+-0x9*0x146+0x21b2,fs_1[_0x97c81d(0xa5)])((-0x1f45+-0x2644+0x9ef*0x7,path_1[_0x97c81d(0x7a)])(path_config_1['INSTANCE_D'+'IR'],_0x5a4634));});}function a30_0xbd78(){const _0x4aeb6d=['40579MEyUsX','1134333GDBnXW','existsSync','fetchInsta','path','ptions','value','ame\x22\x20not\x20p','rovided.','BadRequest','erty','exist','ForbidenEx','next','ggedGuard','ENABLED','__awaiter','length','\x20does\x20not\x20','ory/reposi','waMonitor','istsGuard','join','1041qELKRn','/instance/','originalUr','NAME','\x22\x20instance','waInstance','../whatsap','../../conf','1258fUxUgw','1036050qhVmAA','The\x20\x22','Broker','tory.manag','instanceEx','body','Repository','defineProp','../../exce','instanceNa','b.connect','472VICNjL','CONNECTION','create','p.module','NotFoundEx','includes','This\x20name\x20','collection','dy\x20in\x20use.','2129555gCxZJQ','1240890zAUKne','4Dxoguv','\x22instanceN','267059YExtMa','__esModule','throw','instanceLo','then','params','-instances'];a30_0xbd78=function(){return _0x4aeb6d;};return a30_0xbd78();}function instanceExistsGuard(_0xa04eed,_0x3d18c4,_0x2415a0){return __awaiter(this,void(-0x1*0x19cb+-0x8bd*-0x3+-0x36*0x2),void(-0x1f48+0x241*0x5+0x1403),function*(){const _0x1935d7=a30_0x4724;if(_0xa04eed[_0x1935d7(0x7d)+'l'][_0x1935d7(0x94)](_0x1935d7(0x7c)+_0x1935d7(0x91))||_0xa04eed['originalUr'+'l']['includes'](_0x1935d7(0x7c)+_0x1935d7(0xa6)+'nces'))return _0x2415a0();const _0x2dc66c=_0xa04eed[_0x1935d7(0xa1)];if(!(_0x2dc66c===null||_0x2dc66c===void(-0x128f+0x15b9+-0x32a)?void(-0x10c5+0x22cd+-0x1208):_0x2dc66c[_0x1935d7(0x8d)+'me']))throw new exceptions_1[(_0x1935d7(0xac))+'Exception'](_0x1935d7(0x9b)+_0x1935d7(0xaa)+_0x1935d7(0xab));if(!(yield getInstance(_0x2dc66c[_0x1935d7(0x8d)+'me'])))throw new exceptions_1[(_0x1935d7(0x93))+'ception'](_0x1935d7(0x85)+_0x2dc66c['instanceNa'+'me']+(_0x1935d7(0x7f)+_0x1935d7(0xb5)+_0x1935d7(0xae)));_0x2415a0();});}exports[a30_0x323de2(0x88)+a30_0x323de2(0x79)]=instanceExistsGuard;function instanceLoggedGuard(_0x21d079,_0x9024a0,_0xa1f720){return __awaiter(this,void(0x30+0xd*-0x216+0x1aee),void(0x131b+-0x9*0x1f3+-0x190),function*(){const _0xf89517=a30_0x4724;if(_0x21d079[_0xf89517(0x7d)+'l'][_0xf89517(0x94)]('/instance/'+_0xf89517(0x91))){const _0x1beecc=_0x21d079[_0xf89517(0x89)];if(yield getInstance(_0x1beecc['instanceNa'+'me']))throw new exceptions_1[(_0xf89517(0xaf))+'ception'](_0xf89517(0x95)+'\x22'+_0x1beecc[_0xf89517(0x8d)+'me']+('\x22\x20is\x20alrea'+_0xf89517(0x97)));whatsapp_module_1[_0xf89517(0x78)]['waInstance'+'s'][_0x1beecc[_0xf89517(0x8d)+'me']]&&delete whatsapp_module_1[_0xf89517(0x78)][_0xf89517(0x80)+'s'][_0x1beecc[_0xf89517(0x8d)+'me']];}_0xa1f720();});}exports[a30_0x323de2(0x9f)+a30_0x323de2(0xb1)]=instanceLoggedGuard;