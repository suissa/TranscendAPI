'use strict';const a31_0x526651=a31_0x5c4f;(function(_0x9b0515,_0x16f857){const _0x14481a=a31_0x5c4f,_0x32fbdf=_0x9b0515();while(!![]){try{const _0x302757=parseInt(_0x14481a(0x1d0))/(-0x1064+0x1f0a+-0xea5)+parseInt(_0x14481a(0x1be))/(0xa07+0xd21*-0x1+0x31c)+-parseInt(_0x14481a(0x1de))/(0x1b*0x2d+0x16b6+-0x1b72)*(parseInt(_0x14481a(0x1ce))/(0x1829+0x7*0x2c5+0x2b88*-0x1))+parseInt(_0x14481a(0x1e5))/(0x1c5*0x3+-0x24dc+0xfc9*0x2)*(-parseInt(_0x14481a(0x1b7))/(-0x25e0+0xc2c+-0x1*-0x19ba))+parseInt(_0x14481a(0x1cc))/(0x1*0x1cf3+0xea3+-0x2b8f)+-parseInt(_0x14481a(0x1f4))/(0x5a9+-0x1487+0xee6)+-parseInt(_0x14481a(0x1bb))/(0x26*-0x29+-0x8c8*0x1+-0x2fb*-0x5)*(-parseInt(_0x14481a(0x1ed))/(-0x3*0x38f+0x188+0x92f));if(_0x302757===_0x16f857)break;else _0x32fbdf['push'](_0x32fbdf['shift']());}catch(_0x3704f8){_0x32fbdf['push'](_0x32fbdf['shift']());}}}(a31_0x4cff,0x45e03+0x4*0x55d9+-0x1*-0x54fc3));var __awaiter=this&&this[a31_0x526651(0x1c0)]||function(_0x5cca3a,_0x241ba3,_0x428018,_0x51e236){function _0x985a17(_0x510bf0){return _0x510bf0 instanceof _0x428018?_0x510bf0:new _0x428018(function(_0x4d3949){_0x4d3949(_0x510bf0);});}return new(_0x428018||(_0x428018=Promise))(function(_0x12cd07,_0x4424e5){const _0x1f867a=a31_0x5c4f;function _0x42df8d(_0x412ebe){const _0x2ad00b=a31_0x5c4f;try{_0x3e05ee(_0x51e236[_0x2ad00b(0x1e1)](_0x412ebe));}catch(_0x232149){_0x4424e5(_0x232149);}}function _0x2b649f(_0xb9a44d){const _0x54e6b2=a31_0x5c4f;try{_0x3e05ee(_0x51e236[_0x54e6b2(0x1d8)](_0xb9a44d));}catch(_0x217aa0){_0x4424e5(_0x217aa0);}}function _0x3e05ee(_0x226856){const _0x33b5b8=a31_0x5c4f;_0x226856[_0x33b5b8(0x1ee)]?_0x12cd07(_0x226856['value']):_0x985a17(_0x226856['value'])[_0x33b5b8(0x1e2)](_0x42df8d,_0x2b649f);}_0x3e05ee((_0x51e236=_0x51e236[_0x1f867a(0x1ca)](_0x5cca3a,_0x241ba3||[]))[_0x1f867a(0x1e1)]());});};const a31_0xee894d={};a31_0xee894d[a31_0x526651(0x1c6)]=!![],Object[a31_0x526651(0x1d2)+a31_0x526651(0x1c2)](exports,'__esModule',a31_0xee894d),exports[a31_0x526651(0x1f2)+a31_0x526651(0x1bd)]=exports[a31_0x526651(0x1f5)+a31_0x526651(0x1d5)]=void(0x2470+0x2*0xace+0xa*-0x5ce);const fs_1=require('fs'),path_1=require(a31_0x526651(0x1cd)),path_config_1=require('../../conf'+a31_0x526651(0x1e9)+'nfig'),db_connect_1=require(a31_0x526651(0x1c5)+a31_0x526651(0x1d9)),exceptions_1=require(a31_0x526651(0x1db)+a31_0x526651(0x1bc)),repository_manager_1=require(a31_0x526651(0x1d1)+'ory/reposi'+a31_0x526651(0x1b9)+'er'),whatsapp_module_1=require('../whatsap'+a31_0x526651(0x1c7));function getInstance(_0x3968c9){return __awaiter(this,void(0x2334+-0x2*-0xbe8+-0x3b04),void(0x9*-0x407+0x2*0x1297+-0xef),function*(){const _0xc77610=a31_0x5c4f,_0x34b7d8=whatsapp_module_1[_0xc77610(0x1cf)][_0xc77610(0x1c1)+'s'][_0x3968c9];if(db_connect_1['db']['ENABLED']){const _0x28c192=repository_manager_1[_0xc77610(0x1df)+_0xc77610(0x1d6)][_0xc77610(0x1e8)]['db'](db_connect_1['db'][_0xc77610(0x1e6)]['DB_PREFIX_'+'NAME']+'-instances')['collection'](_0x3968c9);return _0x34b7d8||(yield _0x28c192[_0xc77610(0x1f3)]({})[_0xc77610(0x1da)]())[_0xc77610(0x1dd)]>-0x2*-0x707+-0x41*-0x3b+-0x1d09;}return _0x34b7d8||(0x3*0x259+-0x222e+-0x1*-0x1b23,fs_1['existsSync'])((0x2ee+-0x1*-0x755+-0xa43,path_1[_0xc77610(0x1e0)])(path_config_1[_0xc77610(0x1ea)+'IR'],_0x3968c9));});}function instanceExistsGuard(_0x100688,_0x49b605,_0x4bb75a){return __awaiter(this,void(-0x23e5+0x1789+0xc5c),void(0x3ce*-0x6+-0x2259+0x11*0x35d),function*(){const _0x289fe5=a31_0x5c4f;if(_0x100688[_0x289fe5(0x1b8)+'l'][_0x289fe5(0x1e4)](_0x289fe5(0x1d4)+_0x289fe5(0x1b5))||_0x100688[_0x289fe5(0x1b8)+'l']['includes']('/instance/'+'fetchInsta'+_0x289fe5(0x1d7)))return _0x4bb75a();const _0x1db846=_0x100688[_0x289fe5(0x1f1)];if(!(_0x1db846===null||_0x1db846===void(0x1f5*0x4+-0x7*-0x54a+-0x2cda)?void(-0x249b+-0x1*0x1b77+0x3b*0x116):_0x1db846[_0x289fe5(0x1d3)+'me']))throw new exceptions_1[(_0x289fe5(0x1b6))+(_0x289fe5(0x1e7))](_0x289fe5(0x1e3)+_0x289fe5(0x1dc)+_0x289fe5(0x1f0));if(!(yield getInstance(_0x1db846['instanceNa'+'me'])))throw new exceptions_1[(_0x289fe5(0x1ec))+(_0x289fe5(0x1c3))](_0x289fe5(0x1ef)+_0x1db846['instanceNa'+'me']+(_0x289fe5(0x1c9)+_0x289fe5(0x1eb)+_0x289fe5(0x1bf)));_0x4bb75a();});}exports[a31_0x526651(0x1f5)+a31_0x526651(0x1d5)]=instanceExistsGuard;function a31_0x5c4f(_0x448e85,_0x1063fe){const _0xee894d=a31_0x4cff();return a31_0x5c4f=function(_0x5c2918,_0x4a1079){_0x5c2918=_0x5c2918-(0x26d3*0x1+0x4a7*-0x1+-0x1*0x2077);let _0x1fd444=_0xee894d[_0x5c2918];return _0x1fd444;},a31_0x5c4f(_0x448e85,_0x1063fe);}function a31_0x4cff(){const _0x497850=['istsGuard','Broker','nces','throw','b.connect','toArray','../../exce','ame\x22\x20not\x20p','length','6ZINmmr','Repository','join','next','then','\x22instanceN','includes','27755qgcPXn','CONNECTION','Exception','dbServer','ig/path.co','INSTANCE_D','\x20does\x20not\x20','NotFoundEx','728740Ddeqlv','done','The\x20\x22','rovided.','params','instanceLo','find','10943296OLrXnH','instanceEx','body','create','BadRequest','252IUOpBI','originalUr','tory.manag','\x22\x20is\x20alrea','45aBdNSN','ptions','ggedGuard','716762GtQDPS','exist','__awaiter','waInstance','erty','ception','dy\x20in\x20use.','../../db/d','value','p.module','ForbiddenE','\x22\x20instance','apply','This\x20name\x20','8345337IzBMIX','path','1662516FtFZOj','waMonitor','1239588WEeJKc','../reposit','defineProp','instanceNa','/instance/'];a31_0x4cff=function(){return _0x497850;};return a31_0x4cff();}function instanceLoggedGuard(_0x1cdca7,_0x1a37fc,_0x2a468e){return __awaiter(this,void(-0x1f61+-0x3*0x5ab+0x466*0xb),void(-0x1*-0x6cc+-0xb43+0x17d*0x3),function*(){const _0x3c350e=a31_0x5c4f;if(_0x1cdca7[_0x3c350e(0x1b8)+'l'][_0x3c350e(0x1e4)](_0x3c350e(0x1d4)+_0x3c350e(0x1b5))){const _0x49d6d4=_0x1cdca7[_0x3c350e(0x1f6)];if(yield getInstance(_0x49d6d4[_0x3c350e(0x1d3)+'me']))throw new exceptions_1[(_0x3c350e(0x1c8))+'xception'](_0x3c350e(0x1cb)+'\x22'+_0x49d6d4[_0x3c350e(0x1d3)+'me']+(_0x3c350e(0x1ba)+_0x3c350e(0x1c4)));whatsapp_module_1[_0x3c350e(0x1cf)]['waInstance'+'s'][_0x49d6d4['instanceNa'+'me']]&&delete whatsapp_module_1[_0x3c350e(0x1cf)][_0x3c350e(0x1c1)+'s'][_0x49d6d4[_0x3c350e(0x1d3)+'me']];}_0x2a468e();});}exports['instanceLo'+a31_0x526651(0x1bd)]=instanceLoggedGuard;