'use strict';const a31_0x3caf10=a31_0x393d;(function(_0x446329,_0x144484){const _0xc7c5bd=a31_0x393d,_0x3019f8=_0x446329();while(!![]){try{const _0x4313b2=-parseInt(_0xc7c5bd(0x175))/(-0x12*-0x97+0x2*-0x1be+-0x721)*(parseInt(_0xc7c5bd(0x146))/(-0x107*-0x4+-0x3*0xa70+0x1b36))+parseInt(_0xc7c5bd(0x147))/(0x1*-0xf9e+0x8ab+0x6f6)*(-parseInt(_0xc7c5bd(0x154))/(0x1*-0x1749+0xfb8+0x795))+-parseInt(_0xc7c5bd(0x150))/(-0x23b*0x6+0x871*-0x2+-0x1e49*-0x1)+-parseInt(_0xc7c5bd(0x160))/(0x9*-0xce+-0x104f+0x1793)+-parseInt(_0xc7c5bd(0x16e))/(-0x43a*0x1+0xd50*-0x1+0x1191)+-parseInt(_0xc7c5bd(0x16b))/(-0x1*-0x2386+0x9*0x34d+-0x1*0x4133)+parseInt(_0xc7c5bd(0x156))/(-0x1712+-0x2483+0x2*0x1dcf)*(parseInt(_0xc7c5bd(0x17a))/(-0x223*0x1+0x1acd+-0x18a0));if(_0x4313b2===_0x144484)break;else _0x3019f8['push'](_0x3019f8['shift']());}catch(_0xabdeff){_0x3019f8['push'](_0x3019f8['shift']());}}}(a31_0x50f8,0x1*-0x2c2bd+0x6fcb7+0x158*-0x52));var __awaiter=this&&this[a31_0x3caf10(0x152)]||function(_0x4285f7,_0x3e2a69,_0x2037fa,_0x23c2ed){function _0x54fa6f(_0x2d5ead){return _0x2d5ead instanceof _0x2037fa?_0x2d5ead:new _0x2037fa(function(_0x1e9558){_0x1e9558(_0x2d5ead);});}return new(_0x2037fa||(_0x2037fa=Promise))(function(_0x416e24,_0x35d0ad){const _0x333575=a31_0x393d;function _0x2ecfd6(_0x487bc7){const _0x3feee6=a31_0x393d;try{_0x40e0b8(_0x23c2ed[_0x3feee6(0x178)](_0x487bc7));}catch(_0x290837){_0x35d0ad(_0x290837);}}function _0x2453c4(_0x133ad6){const _0x45631d=a31_0x393d;try{_0x40e0b8(_0x23c2ed[_0x45631d(0x143)](_0x133ad6));}catch(_0x25fcb2){_0x35d0ad(_0x25fcb2);}}function _0x40e0b8(_0xba666d){const _0x3227e9=a31_0x393d;_0xba666d[_0x3227e9(0x172)]?_0x416e24(_0xba666d[_0x3227e9(0x170)]):_0x54fa6f(_0xba666d[_0x3227e9(0x170)])[_0x3227e9(0x167)](_0x2ecfd6,_0x2453c4);}_0x40e0b8((_0x23c2ed=_0x23c2ed[_0x333575(0x162)](_0x4285f7,_0x3e2a69||[]))[_0x333575(0x178)]());});};const a31_0x417fb3={};a31_0x417fb3[a31_0x3caf10(0x170)]=!![],Object[a31_0x3caf10(0x173)+a31_0x3caf10(0x15e)](exports,a31_0x3caf10(0x174),a31_0x417fb3),exports[a31_0x3caf10(0x176)+'ggedGuard']=exports['instanceEx'+a31_0x3caf10(0x179)]=void(-0x22dc+-0xa14+-0x59e*-0x8);function a31_0x393d(_0x3388a0,_0x46ebf5){const _0x5f5255=a31_0x50f8();return a31_0x393d=function(_0x1c6ede,_0x417fb3){_0x1c6ede=_0x1c6ede-(0x9*0x183+-0x1c04+0xfa9);let _0x523dcb=_0x5f5255[_0x1c6ede];return _0x523dcb;},a31_0x393d(_0x3388a0,_0x46ebf5);}const fs_1=require('fs'),path_1=require(a31_0x3caf10(0x169)),path_config_1=require('../../conf'+a31_0x3caf10(0x14d)+a31_0x3caf10(0x148)),db_connect_1=require(a31_0x3caf10(0x165)+a31_0x3caf10(0x14a)),exceptions_1=require(a31_0x3caf10(0x16d)+a31_0x3caf10(0x157)),whatsapp_module_1=require(a31_0x3caf10(0x177)+a31_0x3caf10(0x161));function a31_0x50f8(){const _0x3b0c46=['nfig','The\x20\x22','b.connect','waInstance','instanceNa','ig/path.co','ggedGuard','fetchInsta','1510535YBQnkB','body','__awaiter','length','100TcsHpO','/instance/','16974lvxZEJ','ptions','getClient','NotFoundEx','ForbiddenE','Exception','ENABLED','NAME','erty','DB_PREFIX_','2376462NlpBHY','p.module','apply','originalUr','exist','../../db/d','nces','then','xception','path','dbserver','3252128XqoDbs','-instances','../../exce','2085524vQZhgK','\x20does\x20not\x20','value','includes','done','defineProp','__esModule','328049mGsgdd','instanceLo','../whatsap','next','istsGuard','12440lljBBe','INSTANCE_D','collection','ame\x22\x20not\x20p','create','throw','waMonitor','rovided.','2wCONeN','44007bFErZy'];a31_0x50f8=function(){return _0x3b0c46;};return a31_0x50f8();}function getInstance(_0x3ccdd3){return __awaiter(this,void(0x2185+-0x38*-0x7c+-0x3ca5),void(-0x908+0x580+0x388),function*(){const _0x28ec9d=a31_0x393d,_0x1bb854=whatsapp_module_1['waMonitor'][_0x28ec9d(0x14b)+'s'][_0x3ccdd3];if(db_connect_1['db'][_0x28ec9d(0x15c)]){const _0x56f72e=db_connect_1[_0x28ec9d(0x16a)][_0x28ec9d(0x158)]()['db'](db_connect_1['db']['CONNECTION'][_0x28ec9d(0x15f)+_0x28ec9d(0x15d)]+_0x28ec9d(0x16c))[_0x28ec9d(0x140)](_0x3ccdd3);return _0x1bb854||(yield _0x56f72e['find']({})['toArray']())[_0x28ec9d(0x153)]>-0x4d4+0x31*-0x8+0x65c;}return _0x1bb854||(-0x12bf*0x1+-0x1b*-0x45+0xb78*0x1,fs_1['existsSync'])((-0x12d3+0xed4+0x3ff,path_1['join'])(path_config_1[_0x28ec9d(0x17b)+'IR'],_0x3ccdd3));});}function instanceExistsGuard(_0x4c968b,_0xd7c45c,_0x4cbff9){return __awaiter(this,void(-0x16cb+0x1aaa*-0x1+0x3175),void(-0x1b4e+0x1e90*0x1+-0x342),function*(){const _0x21e647=a31_0x393d;if(_0x4c968b[_0x21e647(0x163)+'l'][_0x21e647(0x171)](_0x21e647(0x155)+_0x21e647(0x142))||_0x4c968b[_0x21e647(0x163)+'l'][_0x21e647(0x171)](_0x21e647(0x155)+_0x21e647(0x14f)+_0x21e647(0x166)))return _0x4cbff9();const _0x314a37=_0x4c968b['params'];if(!(_0x314a37===null||_0x314a37===void(0x1382+0x187+-0x1509)?void(0xa3*0xe+0x1940+0x2*-0x1115):_0x314a37[_0x21e647(0x14c)+'me']))throw new exceptions_1['BadRequest'+(_0x21e647(0x15b))]('\x22instanceN'+_0x21e647(0x141)+_0x21e647(0x145));if(!(yield getInstance(_0x314a37[_0x21e647(0x14c)+'me'])))throw new exceptions_1[(_0x21e647(0x159))+'ception'](_0x21e647(0x149)+_0x314a37[_0x21e647(0x14c)+'me']+('\x22\x20instance'+_0x21e647(0x16f)+_0x21e647(0x164)));_0x4cbff9();});}exports['instanceEx'+'istsGuard']=instanceExistsGuard;function instanceLoggedGuard(_0x179284,_0x169c13,_0x8c2ba7){return __awaiter(this,void(-0x1*0x17e9+-0x161*0x3+0x14*0x167),void(0x33f*-0x7+-0x2195+0x1*0x384e),function*(){const _0x19b3cd=a31_0x393d;if(_0x179284['originalUr'+'l'][_0x19b3cd(0x171)](_0x19b3cd(0x155)+'create')){const _0x1b0a35=_0x179284[_0x19b3cd(0x151)];if(yield getInstance(_0x1b0a35[_0x19b3cd(0x14c)+'me']))throw new exceptions_1[(_0x19b3cd(0x15a))+(_0x19b3cd(0x168))]('This\x20name\x20'+'\x22'+_0x1b0a35[_0x19b3cd(0x14c)+'me']+('\x22\x20is\x20alrea'+'dy\x20in\x20use.'));whatsapp_module_1['waMonitor'][_0x19b3cd(0x14b)+'s'][_0x1b0a35[_0x19b3cd(0x14c)+'me']]&&delete whatsapp_module_1[_0x19b3cd(0x144)][_0x19b3cd(0x14b)+'s'][_0x1b0a35['instanceNa'+'me']];}_0x8c2ba7();});}exports['instanceLo'+a31_0x3caf10(0x14e)]=instanceLoggedGuard;