'use strict';const a30_0x422f7d=a30_0x2153;(function(_0x2ccb67,_0x3a39cf){const _0x249d6b=a30_0x2153,_0x46ed43=_0x2ccb67();while(!![]){try{const _0x4c4bb6=parseInt(_0x249d6b(0xab))/(0x110b*-0x2+-0x1*0x1b9d+0x3db4)+-parseInt(_0x249d6b(0xb2))/(-0x176d+0xfb*-0x23+-0x2a0*-0x16)+-parseInt(_0x249d6b(0x81))/(-0x6f9+-0x158f+-0x1*-0x1c8b)+parseInt(_0x249d6b(0x98))/(-0x1349+-0xf58+0x22a5)+parseInt(_0x249d6b(0xa6))/(0x1476+-0x220c*-0x1+-0x367d)+-parseInt(_0x249d6b(0x91))/(0x2165+-0x1*-0x1ec8+0x4027*-0x1)+parseInt(_0x249d6b(0xb3))/(0x7e*-0x30+-0x1*-0x2345+-0xb9e);if(_0x4c4bb6===_0x3a39cf)break;else _0x46ed43['push'](_0x46ed43['shift']());}catch(_0x446167){_0x46ed43['push'](_0x46ed43['shift']());}}}(a30_0x42b8,0xbc*0x1ab4+0x163a5e+0x545*-0x5c6));var __awaiter=this&&this[a30_0x422f7d(0x89)]||function(_0x1bbc4f,_0x3fe9ee,_0x920406,_0x137957){function _0x3f3575(_0x557ed2){return _0x557ed2 instanceof _0x920406?_0x557ed2:new _0x920406(function(_0x400259){_0x400259(_0x557ed2);});}return new(_0x920406||(_0x920406=Promise))(function(_0x414adf,_0x2c542f){const _0x49a9b9=a30_0x2153;function _0x17aab2(_0x54c0ad){const _0x46aa65=a30_0x2153;try{_0x4c62d4(_0x137957[_0x46aa65(0x9e)](_0x54c0ad));}catch(_0x154e9d){_0x2c542f(_0x154e9d);}}function _0x4631d8(_0x52ffe3){try{_0x4c62d4(_0x137957['throw'](_0x52ffe3));}catch(_0x590538){_0x2c542f(_0x590538);}}function _0x4c62d4(_0x9fa896){const _0x3488c4=a30_0x2153;_0x9fa896['done']?_0x414adf(_0x9fa896[_0x3488c4(0xa4)]):_0x3f3575(_0x9fa896[_0x3488c4(0xa4)])['then'](_0x17aab2,_0x4631d8);}_0x4c62d4((_0x137957=_0x137957[_0x49a9b9(0xa1)](_0x1bbc4f,_0x3fe9ee||[]))['next']());});};const a30_0x4abb45={};function a30_0x42b8(){const _0xc809e=['ory/reposi','originalUr','waInstance','ggedGuard','574871hUMZSR','NotFoundEx','CONNECTION','nces','waMonitor','length','toArray','95354CIgzPY','322217CNFGFk','instanceEx','dy\x20in\x20use.','DB_PREFIX_','nfig','erty','ig/path.co','ptions','2544741ARcViw','params','ENABLED','exist','create','instanceLo','istsGuard','NAME','__awaiter','INSTANCE_D','p.module','tory.manag','b.connect','ForbidenEx','This\x20name\x20','dbServer','4064076BqXMZl','existsSync','join','includes','body','../whatsap','/instance/','3762328fzYjJW','\x20does\x20not\x20','instanceNa','find','-instances','defineProp','next','ception','../../exce','apply','rovided.','\x22instanceN','value','BadRequest','3799330zqufMR'];a30_0x42b8=function(){return _0xc809e;};return a30_0x42b8();}a30_0x4abb45[a30_0x422f7d(0xa4)]=!![],Object[a30_0x422f7d(0x9d)+a30_0x422f7d(0xb8)](exports,'__esModule',a30_0x4abb45),exports[a30_0x422f7d(0x86)+a30_0x422f7d(0xaa)]=exports[a30_0x422f7d(0xb4)+a30_0x422f7d(0x87)]=void(0x1011+0x1f80+-0x2f91);const fs_1=require('fs'),path_1=require('path'),path_config_1=require('../../conf'+a30_0x422f7d(0xb9)+a30_0x422f7d(0xb7)),db_connect_1=require('../../db/d'+a30_0x422f7d(0x8d)),exceptions_1=require(a30_0x422f7d(0xa0)+a30_0x422f7d(0x80)),repository_manager_1=require('../reposit'+a30_0x422f7d(0xa7)+a30_0x422f7d(0x8c)+'er'),whatsapp_module_1=require(a30_0x422f7d(0x96)+a30_0x422f7d(0x8b));function a30_0x2153(_0x29bbfe,_0x11be15){const _0x43530d=a30_0x42b8();return a30_0x2153=function(_0x583c18,_0x4abb45){_0x583c18=_0x583c18-(-0x1a*0x17c+-0x642+0x2d5a);let _0x434ba5=_0x43530d[_0x583c18];return _0x434ba5;},a30_0x2153(_0x29bbfe,_0x11be15);}function getInstance(_0xade405){return __awaiter(this,void(0xa5b*-0x1+-0x1*0x19ed+-0x60c*-0x6),void(0xbd+-0x8f4+0x2bd*0x3),function*(){const _0x30d746=a30_0x2153,_0xc6e932=whatsapp_module_1['waMonitor'][_0x30d746(0xa9)+'s'][_0xade405];if(db_connect_1['db'][_0x30d746(0x83)]){const _0x223684=repository_manager_1['Repository'+'Broker'][_0x30d746(0x90)]['db'](db_connect_1['db'][_0x30d746(0xad)][_0x30d746(0xb6)+_0x30d746(0x88)]+_0x30d746(0x9c))['collection'](_0xade405);return _0xc6e932||(yield _0x223684[_0x30d746(0x9b)]({})[_0x30d746(0xb1)]())[_0x30d746(0xb0)]>-0x202a+0x1972*0x1+-0x4*-0x1ae;}return _0xc6e932||(0x88c+-0x20*0x25+-0x4*0xfb,fs_1[_0x30d746(0x92)])((-0xf*0x9+0x560+-0x4d9,path_1[_0x30d746(0x93)])(path_config_1[_0x30d746(0x8a)+'IR'],_0xade405));});}function instanceExistsGuard(_0x4830c7,_0x182bd6,_0x3b82c8){return __awaiter(this,void(-0xbeb*-0x1+0xd7+-0xcc2),void(0x1*-0xebe+-0x1*-0x19dd+0xdb*-0xd),function*(){const _0x15e9fd=a30_0x2153;if(_0x4830c7['originalUr'+'l'][_0x15e9fd(0x94)]('/instance/'+_0x15e9fd(0x85))||_0x4830c7['originalUr'+'l']['includes'](_0x15e9fd(0x97)+'fetchInsta'+_0x15e9fd(0xae)))return _0x3b82c8();const _0x17489c=_0x4830c7[_0x15e9fd(0x82)];if(!(_0x17489c===null||_0x17489c===void(0x1140+-0x16d0+-0x8*-0xb2)?void(-0x1*0x20af+0x16bb+0x34*0x31):_0x17489c[_0x15e9fd(0x9a)+'me']))throw new exceptions_1[(_0x15e9fd(0xa5))+'Exception'](_0x15e9fd(0xa3)+'ame\x22\x20not\x20p'+_0x15e9fd(0xa2));if(!(yield getInstance(_0x17489c[_0x15e9fd(0x9a)+'me'])))throw new exceptions_1[(_0x15e9fd(0xac))+'ception']('The\x20\x22'+_0x17489c[_0x15e9fd(0x9a)+'me']+('\x22\x20instance'+_0x15e9fd(0x99)+_0x15e9fd(0x84)));_0x3b82c8();});}exports[a30_0x422f7d(0xb4)+a30_0x422f7d(0x87)]=instanceExistsGuard;function instanceLoggedGuard(_0x8152bd,_0x4ce2cd,_0x2069a9){return __awaiter(this,void(-0x41b*0x8+-0x22d8+-0xc*-0x5a4),void(0x1a20+-0x371*-0xa+-0x12*0x35d),function*(){const _0x19634c=a30_0x2153;if(_0x8152bd[_0x19634c(0xa8)+'l'][_0x19634c(0x94)](_0x19634c(0x97)+_0x19634c(0x85))){const _0x3e29b7=_0x8152bd[_0x19634c(0x95)];if(yield getInstance(_0x3e29b7[_0x19634c(0x9a)+'me']))throw new exceptions_1[(_0x19634c(0x8e))+(_0x19634c(0x9f))](_0x19634c(0x8f)+'\x22'+_0x3e29b7['instanceNa'+'me']+('\x22\x20is\x20alrea'+_0x19634c(0xb5)));whatsapp_module_1[_0x19634c(0xaf)][_0x19634c(0xa9)+'s'][_0x3e29b7[_0x19634c(0x9a)+'me']]&&delete whatsapp_module_1['waMonitor'][_0x19634c(0xa9)+'s'][_0x3e29b7['instanceNa'+'me']];}_0x2069a9();});}exports[a30_0x422f7d(0x86)+a30_0x422f7d(0xaa)]=instanceLoggedGuard;