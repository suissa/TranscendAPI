'use strict';const a31_0x594e28=a31_0x1c00;function a31_0x47a9(){const _0x82efc4=['ame\x22\x20not\x20p','nfig','collection','fetchInsta','dbserver','/instance/','../../db/d','join','451560VXaZgQ','ggedGuard','then','exist','instanceEx','erty','DB_PREFIX_','ptions','12zszHEi','create','__awaiter','find','ENABLED','522788uJnWza','../whatsap','path','value','\x22\x20instance','CONNECTION','dy\x20in\x20use.','params','This\x20name\x20','NotFoundEx','instanceLo','xception','toArray','nces','existsSync','ception','waMonitor','__esModule','5886048EDsQUk','instanceNa','getClient','istsGuard','ForbiddenE','throw','3051315sFLwgE','-instances','../../exce','originalUr','3816162DWtPtS','NAME','INSTANCE_D','waInstance','includes','ig/path.co','124803FNgiUi','apply','../../conf','9698992NJfkFX','\x20does\x20not\x20','\x22\x20is\x20alrea','next','b.connect','defineProp'];a31_0x47a9=function(){return _0x82efc4;};return a31_0x47a9();}(function(_0x2feaf1,_0x5b52ed){const _0x621a2f=a31_0x1c00,_0x8f86a8=_0x2feaf1();while(!![]){try{const _0x1f49b7=-parseInt(_0x621a2f(0x75))/(-0x1279*0x1+-0x250d+0x3787)+-parseInt(_0x621a2f(0x86))/(0x3*-0x8dd+0x41*0x4f+0x68a)+parseInt(_0x621a2f(0x8e))/(0xf38+0x12c7+0x15c*-0x19)*(-parseInt(_0x621a2f(0x93))/(-0x13ae+-0x1dca+0xc5f*0x4))+parseInt(_0x621a2f(0x6b))/(-0x18d9+-0x7ed+0x1*0x20cb)+-parseInt(_0x621a2f(0xa5))/(0x1517+-0x2fc*0xd+-0x11*-0x10b)+parseInt(_0x621a2f(0x6f))/(0x1c82+-0x21b2+0x537)+parseInt(_0x621a2f(0x78))/(-0x1*0x1de7+0x1dd3*-0x1+-0x2*-0x1de1);if(_0x1f49b7===_0x5b52ed)break;else _0x8f86a8['push'](_0x8f86a8['shift']());}catch(_0x141031){_0x8f86a8['push'](_0x8f86a8['shift']());}}}(a31_0x47a9,-0x321d6+0xc069d+-0x10f37));var __awaiter=this&&this[a31_0x594e28(0x90)]||function(_0x4d87ef,_0x5722b4,_0x38c25c,_0x308ff6){function _0x1f6790(_0x7a0326){return _0x7a0326 instanceof _0x38c25c?_0x7a0326:new _0x38c25c(function(_0x39a07c){_0x39a07c(_0x7a0326);});}return new(_0x38c25c||(_0x38c25c=Promise))(function(_0xa350f,_0x375d45){const _0x132735=a31_0x1c00;function _0xc5d40e(_0x3b9973){const _0x13fd84=a31_0x1c00;try{_0x4bf66d(_0x308ff6[_0x13fd84(0x7b)](_0x3b9973));}catch(_0x1ab57c){_0x375d45(_0x1ab57c);}}function _0x248add(_0xaf84fd){const _0x71e525=a31_0x1c00;try{_0x4bf66d(_0x308ff6[_0x71e525(0x6a)](_0xaf84fd));}catch(_0x4fb606){_0x375d45(_0x4fb606);}}function _0x4bf66d(_0x1fc0a0){const _0x9d964f=a31_0x1c00;_0x1fc0a0['done']?_0xa350f(_0x1fc0a0['value']):_0x1f6790(_0x1fc0a0[_0x9d964f(0x96)])[_0x9d964f(0x88)](_0xc5d40e,_0x248add);}_0x4bf66d((_0x308ff6=_0x308ff6[_0x132735(0x76)](_0x4d87ef,_0x5722b4||[]))[_0x132735(0x7b)]());});};const a31_0x57f27a={};a31_0x57f27a[a31_0x594e28(0x96)]=!![],Object[a31_0x594e28(0x7d)+a31_0x594e28(0x8b)](exports,a31_0x594e28(0xa4),a31_0x57f27a),exports[a31_0x594e28(0x9d)+a31_0x594e28(0x87)]=exports[a31_0x594e28(0x8a)+a31_0x594e28(0x68)]=void(-0x19*0x1+-0x1ab+0x1c4);const fs_1=require('fs'),path_1=require(a31_0x594e28(0x95)),path_config_1=require(a31_0x594e28(0x77)+a31_0x594e28(0x74)+a31_0x594e28(0x7f)),db_connect_1=require(a31_0x594e28(0x84)+a31_0x594e28(0x7c)),exceptions_1=require(a31_0x594e28(0x6d)+a31_0x594e28(0x8d)),whatsapp_module_1=require(a31_0x594e28(0x94)+'p.module');function getInstance(_0x424d37){return __awaiter(this,void(-0x1*-0x1af2+-0x77d+-0x1375*0x1),void(0xa*-0x9b+0x1*0x1ef1+-0x115*0x17),function*(){const _0x4eb81d=a31_0x1c00,_0x45a98c=whatsapp_module_1['waMonitor']['waInstance'+'s'][_0x424d37];if(db_connect_1['db'][_0x4eb81d(0x92)]){const _0x270090=db_connect_1[_0x4eb81d(0x82)][_0x4eb81d(0xa7)]()['db'](db_connect_1['db'][_0x4eb81d(0x98)][_0x4eb81d(0x8c)+_0x4eb81d(0x70)]+_0x4eb81d(0x6c))[_0x4eb81d(0x80)](_0x424d37);return _0x45a98c||(yield _0x270090[_0x4eb81d(0x91)]({})[_0x4eb81d(0x9f)]())['length']>-0xbae+0x1*0x9f5+0x1b9;}return _0x45a98c||(0x5*-0x52f+0x363*0x3+0xfc2,fs_1[_0x4eb81d(0xa1)])((-0x8*0x14e+0x1*-0x1b4a+0x25ba,path_1[_0x4eb81d(0x85)])(path_config_1[_0x4eb81d(0x71)+'IR'],_0x424d37));});}function a31_0x1c00(_0xb37e0b,_0x5e0520){const _0x57f27a=a31_0x47a9();return a31_0x1c00=function(_0x2f9213,_0x2da74f){_0x2f9213=_0x2f9213-(-0x4*0x8ad+0x1*0xc47+0x491*0x5);let _0x32c92d=_0x57f27a[_0x2f9213];return _0x32c92d;},a31_0x1c00(_0xb37e0b,_0x5e0520);}function instanceExistsGuard(_0x4e08c7,_0xc57f6e,_0x2dcc46){return __awaiter(this,void(0xead+-0x5c6*0x4+0x5*0x1af),void(0x83*0x11+0x552*0x1+0x1*-0xe05),function*(){const _0x347c9d=a31_0x1c00;if(_0x4e08c7[_0x347c9d(0x6e)+'l'][_0x347c9d(0x73)](_0x347c9d(0x83)+_0x347c9d(0x8f))||_0x4e08c7[_0x347c9d(0x6e)+'l']['includes']('/instance/'+_0x347c9d(0x81)+_0x347c9d(0xa0)))return _0x2dcc46();const _0x5bf9ce=_0x4e08c7[_0x347c9d(0x9a)];if(!(_0x5bf9ce===null||_0x5bf9ce===void(0x26*0xda+0x2c3*0x3+-0x28a5)?void(-0x22a4+0x16a4+0x10*0xc0):_0x5bf9ce[_0x347c9d(0xa6)+'me']))throw new exceptions_1['BadRequest'+'Exception']('\x22instanceN'+_0x347c9d(0x7e)+'rovided.');if(!(yield getInstance(_0x5bf9ce[_0x347c9d(0xa6)+'me'])))throw new exceptions_1[(_0x347c9d(0x9c))+(_0x347c9d(0xa2))]('The\x20\x22'+_0x5bf9ce['instanceNa'+'me']+(_0x347c9d(0x97)+_0x347c9d(0x79)+_0x347c9d(0x89)));_0x2dcc46();});}exports['instanceEx'+a31_0x594e28(0x68)]=instanceExistsGuard;function instanceLoggedGuard(_0x1a228c,_0x5548ea,_0x4adb53){return __awaiter(this,void(0xa7*-0x33+0x7*-0x54e+0x4667),void(-0x8d3*-0x2+-0x16*-0x46+0xbd5*-0x2),function*(){const _0x433c95=a31_0x1c00;if(_0x1a228c[_0x433c95(0x6e)+'l'][_0x433c95(0x73)](_0x433c95(0x83)+_0x433c95(0x8f))){const _0x56bf83=_0x1a228c['body'];if(yield getInstance(_0x56bf83[_0x433c95(0xa6)+'me']))throw new exceptions_1[(_0x433c95(0x69))+(_0x433c95(0x9e))](_0x433c95(0x9b)+'\x22'+_0x56bf83[_0x433c95(0xa6)+'me']+(_0x433c95(0x7a)+_0x433c95(0x99)));whatsapp_module_1['waMonitor'][_0x433c95(0x72)+'s'][_0x56bf83[_0x433c95(0xa6)+'me']]&&delete whatsapp_module_1[_0x433c95(0xa3)]['waInstance'+'s'][_0x56bf83['instanceNa'+'me']];}_0x4adb53();});}exports['instanceLo'+a31_0x594e28(0x87)]=instanceLoggedGuard;