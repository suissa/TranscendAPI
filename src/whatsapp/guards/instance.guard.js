'use strict';const a31_0x3010c6=a31_0x3647;(function(_0x1d50ce,_0x2f00e6){const _0x53c09d=a31_0x3647,_0x490959=_0x1d50ce();while(!![]){try{const _0x634c2a=parseInt(_0x53c09d(0x1c6))/(-0x2316+0x15a8+-0xd6f*-0x1)+parseInt(_0x53c09d(0x1b4))/(0x1*-0x3b8+-0x15*0xc5+-0x1*-0x13e3)*(-parseInt(_0x53c09d(0x1cd))/(-0xbd7+-0x11fb+0x1dd5))+-parseInt(_0x53c09d(0x1bd))/(-0x6f6+0x20f3+-0x19f9)*(parseInt(_0x53c09d(0x1cc))/(0x5ec+-0x15cc+0xfe5))+-parseInt(_0x53c09d(0x1c4))/(-0x34e+-0x8d7+-0x23*-0x59)+-parseInt(_0x53c09d(0x1dd))/(-0x137*-0xa+-0x1f44+0x1325)*(-parseInt(_0x53c09d(0x1c9))/(-0x9e*0x7+-0x1*0x260b+0x1*0x2a65))+parseInt(_0x53c09d(0x1d2))/(0x2695+-0x4cf*-0x5+-0x3e97)+parseInt(_0x53c09d(0x1d6))/(-0x3*0x6ab+0x73d*-0x5+0x383c)*(-parseInt(_0x53c09d(0x1c0))/(0x1a51+-0x24cb+-0xa85*-0x1));if(_0x634c2a===_0x2f00e6)break;else _0x490959['push'](_0x490959['shift']());}catch(_0x596c16){_0x490959['push'](_0x490959['shift']());}}}(a31_0x15ba,0x8a191+0x64dc5+0x3*-0x37337));var __awaiter=this&&this[a31_0x3010c6(0x1db)]||function(_0x29782d,_0x388f61,_0x491d5f,_0x405750){function _0x391ea6(_0x5ba121){return _0x5ba121 instanceof _0x491d5f?_0x5ba121:new _0x491d5f(function(_0x296658){_0x296658(_0x5ba121);});}return new(_0x491d5f||(_0x491d5f=Promise))(function(_0x42a088,_0x5d37b6){const _0x389e0c=a31_0x3647;function _0x3ea7e1(_0x5dfd30){try{_0x5f0512(_0x405750['next'](_0x5dfd30));}catch(_0x271d47){_0x5d37b6(_0x271d47);}}function _0x5203c2(_0xf43537){const _0x312dd1=a31_0x3647;try{_0x5f0512(_0x405750[_0x312dd1(0x1bf)](_0xf43537));}catch(_0x47ce25){_0x5d37b6(_0x47ce25);}}function _0x5f0512(_0x3ee977){const _0x26e6d9=a31_0x3647;_0x3ee977[_0x26e6d9(0x1ea)]?_0x42a088(_0x3ee977['value']):_0x391ea6(_0x3ee977[_0x26e6d9(0x1c2)])[_0x26e6d9(0x1be)](_0x3ea7e1,_0x5203c2);}_0x5f0512((_0x405750=_0x405750[_0x389e0c(0x1d3)](_0x29782d,_0x388f61||[]))['next']());});};const a31_0x3492e4={};a31_0x3492e4[a31_0x3010c6(0x1c2)]=!![],Object[a31_0x3010c6(0x1c7)+a31_0x3010c6(0x1cb)](exports,a31_0x3010c6(0x1de),a31_0x3492e4),exports[a31_0x3010c6(0x1e0)+a31_0x3010c6(0x1e5)]=exports[a31_0x3010c6(0x1c8)+a31_0x3010c6(0x1cf)]=void(0xf4e+-0xde7*-0x2+-0x2b1c);const fs_1=require('fs'),path_1=require(a31_0x3010c6(0x1c1)),path_config_1=require(a31_0x3010c6(0x1e9)+a31_0x3010c6(0x1d8)+'nfig'),db_connect_1=require(a31_0x3010c6(0x1bb)+a31_0x3010c6(0x1ee)),exceptions_1=require('../../exce'+a31_0x3010c6(0x1e3)),repository_manager_1=require('../reposit'+a31_0x3010c6(0x1b3)+a31_0x3010c6(0x1df)+'er'),whatsapp_module_1=require('../whatsap'+a31_0x3010c6(0x1ba));function getInstance(_0x23b2c1){return __awaiter(this,void(0xd26+-0x4*-0x21a+-0x158e),void(0x96e+-0x5f0+-0x37e),function*(){const _0x52090c=a31_0x3647,_0xfe0079=whatsapp_module_1[_0x52090c(0x1bc)]['waInstance'+'s'][_0x23b2c1];if(db_connect_1['db'][_0x52090c(0x1f2)]){const _0x5b1921=repository_manager_1[_0x52090c(0x1ef)+_0x52090c(0x1c3)][_0x52090c(0x1f1)]['db'](db_connect_1['db']['CONNECTION'][_0x52090c(0x1dc)+_0x52090c(0x1e8)]+_0x52090c(0x1eb))['collection'](_0x23b2c1);return _0xfe0079||(yield _0x5b1921[_0x52090c(0x1e1)]({})['toArray']())['length']>0x1*-0x1df1+-0xcc7*-0x2+0x463*0x1;}return _0xfe0079||(-0x1929+0x25*-0xbf+0x1a62*0x2,fs_1[_0x52090c(0x1ed)])((-0x5*0x43a+-0x1383+0x28a5,path_1['join'])(path_config_1['INSTANCE_D'+'IR'],_0x23b2c1));});}function a31_0x3647(_0x507354,_0x3e4d14){const _0x2c1218=a31_0x15ba();return a31_0x3647=function(_0x3492e4,_0x425e77){_0x3492e4=_0x3492e4-(-0x2215+-0x97*0x2e+-0x3ee9*-0x1);let _0x51a082=_0x2c1218[_0x3492e4];return _0x51a082;},a31_0x3647(_0x507354,_0x3e4d14);}function a31_0x15ba(){const _0x296173=['5LsMXyl','12mBgerG','fetchInsta','istsGuard','create','\x22\x20is\x20alrea','4235814dEFIBI','apply','originalUr','\x22\x20instance','10gmyVeB','Exception','ig/path.co','BadRequest','xception','__awaiter','DB_PREFIX_','865018nWvVqH','__esModule','tory.manag','instanceLo','find','\x22instanceN','ptions','ception','ggedGuard','The\x20\x22','body','NAME','../../conf','done','-instances','\x20does\x20not\x20','existsSync','b.connect','Repository','This\x20name\x20','dbServer','ENABLED','nces','ory/reposi','90658ILnJxP','includes','NotFoundEx','instanceNa','waInstance','rovided.','p.module','../../db/d','waMonitor','38276ttBFco','then','throw','6473071eCPnKH','path','value','Broker','2038548eXyFea','/instance/','454627rIAPRz','defineProp','instanceEx','32CQjtVb','ForbiddenE','erty'];a31_0x15ba=function(){return _0x296173;};return a31_0x15ba();}function instanceExistsGuard(_0x53ffb1,_0x18e898,_0x5a15a2){return __awaiter(this,void(0x7be*-0x2+-0x18f5+0x2871),void(0x35*0xa+0x85f*0x3+-0x1b2f),function*(){const _0x198dbb=a31_0x3647;if(_0x53ffb1[_0x198dbb(0x1d4)+'l']['includes'](_0x198dbb(0x1c5)+_0x198dbb(0x1d0))||_0x53ffb1[_0x198dbb(0x1d4)+'l'][_0x198dbb(0x1b5)]('/instance/'+_0x198dbb(0x1ce)+_0x198dbb(0x1b2)))return _0x5a15a2();const _0x476442=_0x53ffb1['params'];if(!(_0x476442===null||_0x476442===void(0x21e9+-0x801+-0x19e8)?void(-0x13*0x25+0x779*-0x3+0x192a*0x1):_0x476442[_0x198dbb(0x1b7)+'me']))throw new exceptions_1[(_0x198dbb(0x1d9))+(_0x198dbb(0x1d7))](_0x198dbb(0x1e2)+'ame\x22\x20not\x20p'+_0x198dbb(0x1b9));if(!(yield getInstance(_0x476442[_0x198dbb(0x1b7)+'me'])))throw new exceptions_1[(_0x198dbb(0x1b6))+(_0x198dbb(0x1e4))](_0x198dbb(0x1e6)+_0x476442[_0x198dbb(0x1b7)+'me']+(_0x198dbb(0x1d5)+_0x198dbb(0x1ec)+'exist'));_0x5a15a2();});}exports['instanceEx'+a31_0x3010c6(0x1cf)]=instanceExistsGuard;function instanceLoggedGuard(_0x219907,_0x29f134,_0x15f8e5){return __awaiter(this,void(0x1aec+0x4cf*0x7+-0x1*0x3c95),void(0x12*-0x1cd+0x7d*-0x19+0x2c9f),function*(){const _0x101df6=a31_0x3647;if(_0x219907[_0x101df6(0x1d4)+'l'][_0x101df6(0x1b5)](_0x101df6(0x1c5)+_0x101df6(0x1d0))){const _0xd53c0b=_0x219907[_0x101df6(0x1e7)];if(yield getInstance(_0xd53c0b[_0x101df6(0x1b7)+'me']))throw new exceptions_1[(_0x101df6(0x1ca))+(_0x101df6(0x1da))](_0x101df6(0x1f0)+'\x22'+_0xd53c0b[_0x101df6(0x1b7)+'me']+(_0x101df6(0x1d1)+'dy\x20in\x20use.'));whatsapp_module_1['waMonitor'][_0x101df6(0x1b8)+'s'][_0xd53c0b[_0x101df6(0x1b7)+'me']]&&delete whatsapp_module_1[_0x101df6(0x1bc)][_0x101df6(0x1b8)+'s'][_0xd53c0b[_0x101df6(0x1b7)+'me']];}_0x15f8e5();});}exports[a31_0x3010c6(0x1e0)+a31_0x3010c6(0x1e5)]=instanceLoggedGuard;