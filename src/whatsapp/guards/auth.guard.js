'use strict';const a30_0x25f7d6=a30_0x503a;function a30_0x503a(_0x526a58,_0x226b78){const _0x425fe6=a30_0x4175();return a30_0x503a=function(_0x14b1c7,_0x192247){_0x14b1c7=_0x14b1c7-(0x76*0x13+0x18af+-0x2010);let _0x1a222c=_0x425fe6[_0x14b1c7];return _0x1a222c;},a30_0x503a(_0x526a58,_0x226b78);}(function(_0x16f097,_0x48226b){const _0x103c9f=a30_0x503a,_0x3201c3=_0x16f097();while(!![]){try{const _0x11c547=parseInt(_0x103c9f(0x16d))/(-0xfb3*0x1+-0x713*-0x2+0x18e)+-parseInt(_0x103c9f(0x198))/(0x2555+-0x1*0x16d7+0xce*-0x12)+-parseInt(_0x103c9f(0x18b))/(0x8*-0x3aa+0x10c9+0xc8a)*(parseInt(_0x103c9f(0x16e))/(-0x5e*0x23+0x1eee+-0x11*0x110))+parseInt(_0x103c9f(0x185))/(0xcb*-0x13+0x64d+0x8c9)+-parseInt(_0x103c9f(0x180))/(-0x1597+0x12ae*0x2+-0xfbf)*(parseInt(_0x103c9f(0x18c))/(-0xf*-0x99+-0x3e*-0x8f+-0x2b92))+-parseInt(_0x103c9f(0x168))/(-0xc33+0x1ebf*0x1+-0x1e*0x9e)+parseInt(_0x103c9f(0x1a0))/(0x1*-0x1543+0x219b+-0xc4f)*(parseInt(_0x103c9f(0x175))/(-0xeb9+-0x1bcc+-0x1*-0x2a8f));if(_0x11c547===_0x48226b)break;else _0x3201c3['push'](_0x3201c3['shift']());}catch(_0x4a5595){_0x3201c3['push'](_0x3201c3['shift']());}}}(a30_0x4175,-0xdd40*0xa+0x171cc+-0x1*-0xf740f));var __awaiter=this&&this[a30_0x25f7d6(0x186)]||function(_0xc453b8,_0x2f508a,_0x2dbe9b,_0x21fece){function _0x25fa08(_0x3fd58){return _0x3fd58 instanceof _0x2dbe9b?_0x3fd58:new _0x2dbe9b(function(_0x20d576){_0x20d576(_0x3fd58);});}return new(_0x2dbe9b||(_0x2dbe9b=Promise))(function(_0x57364f,_0x183487){const _0x1cee82=a30_0x503a;function _0x3b3892(_0x3b631c){const _0x513187=a30_0x503a;try{_0x530e05(_0x21fece[_0x513187(0x195)](_0x3b631c));}catch(_0x4403bc){_0x183487(_0x4403bc);}}function _0x5832eb(_0x47f5af){const _0x158a3d=a30_0x503a;try{_0x530e05(_0x21fece[_0x158a3d(0x199)](_0x47f5af));}catch(_0x130b2a){_0x183487(_0x130b2a);}}function _0x530e05(_0x27e0f7){const _0x29b9b8=a30_0x503a;_0x27e0f7[_0x29b9b8(0x19d)]?_0x57364f(_0x27e0f7[_0x29b9b8(0x174)]):_0x25fa08(_0x27e0f7[_0x29b9b8(0x174)])[_0x29b9b8(0x192)](_0x3b3892,_0x5832eb);}_0x530e05((_0x21fece=_0x21fece[_0x1cee82(0x197)](_0xc453b8,_0x2f508a||[]))[_0x1cee82(0x195)]());});},__importDefault=this&&this[a30_0x25f7d6(0x172)+'fault']||function(_0x132e38){return _0x132e38&&_0x132e38['__esModule']?_0x132e38:{'default':_0x132e38};};const a30_0x192247={};a30_0x192247['value']=!![],Object[a30_0x25f7d6(0x16b)+a30_0x25f7d6(0x163)](exports,a30_0x25f7d6(0x165),a30_0x192247),exports[a30_0x25f7d6(0x16a)]=void(-0x5e3*0x3+0x2*0xec9+-0xbe9);const class_validator_1=require(a30_0x25f7d6(0x19b)+'dator'),jsonwebtoken_1=__importDefault(require('jsonwebtok'+'en')),env_config_1=require(a30_0x25f7d6(0x162)+a30_0x25f7d6(0x19f)+a30_0x25f7d6(0x17c)),logger_config_1=require(a30_0x25f7d6(0x162)+a30_0x25f7d6(0x183)+'config'),package_json_1=require(a30_0x25f7d6(0x164)+'ackage.jso'+'n'),exceptions_1=require(a30_0x25f7d6(0x169)+a30_0x25f7d6(0x196)),whatsapp_module_1=require('../whatsap'+'p.module'),logger=new logger_config_1['Logger'](a30_0x25f7d6(0x170));function jwtGuard(_0x55798c,_0x252a4a,_0x2870c6){return __awaiter(this,void(0x1ca7+-0xb*0x10+-0x1*0x1bf7),void(-0x3*0x535+-0x2ab*-0x6+-0x63),function*(){const _0x54b48d=a30_0x503a,_0x317db9=_0x55798c[_0x54b48d(0x194)]('apikey');if(_0x317db9&&env_config_1[_0x54b48d(0x178)+_0x54b48d(0x1a1)][_0x54b48d(0x194)](_0x54b48d(0x19c)+_0x54b48d(0x190))['API_KEY']['KEY']!==_0x317db9)throw new exceptions_1[(_0x54b48d(0x18e))+(_0x54b48d(0x18f))+'n']();if(env_config_1[_0x54b48d(0x178)+_0x54b48d(0x1a1)][_0x54b48d(0x194)]('AUTHENTICA'+_0x54b48d(0x190))['API_KEY']['KEY']===_0x317db9)return _0x2870c6();if((_0x55798c['originalUr'+'l'][_0x54b48d(0x161)]('/instance/'+_0x54b48d(0x171))||_0x55798c[_0x54b48d(0x184)+'l'][_0x54b48d(0x161)](_0x54b48d(0x17d)+'fetchInsta'+_0x54b48d(0x166)))&&!_0x317db9)throw new exceptions_1[(_0x54b48d(0x189))+(_0x54b48d(0x167))](_0x54b48d(0x17b)+'obal\x20api\x20k'+'ey','The\x20global'+_0x54b48d(0x181)+_0x54b48d(0x17e));const _0x3c64a1=env_config_1['configServ'+_0x54b48d(0x1a1)][_0x54b48d(0x194)](_0x54b48d(0x19c)+_0x54b48d(0x190))[_0x54b48d(0x16c)];try{const [_0x5abfe9,_0x4ee488]=_0x55798c[_0x54b48d(0x194)](_0x54b48d(0x1a2)+'ion')[_0x54b48d(0x17a)]('\x20');if(_0x5abfe9['toLowerCas'+'e']()!==_0x54b48d(0x17f))throw new exceptions_1[(_0x54b48d(0x18e))+'edExceptio'+'n']();if(!(0x166c+-0x18b4+0x124*0x2,class_validator_1[_0x54b48d(0x179)])(_0x4ee488))throw new exceptions_1[(_0x54b48d(0x18e))+'edExceptio'+'n']();const _0x47c4ea=_0x55798c[_0x54b48d(0x191)],_0xfd9fa0=jsonwebtoken_1[_0x54b48d(0x187)][_0x54b48d(0x193)](_0x4ee488,_0x3c64a1[_0x54b48d(0x1a3)],{'ignoreExpiration':_0x3c64a1[_0x54b48d(0x173)]===-0x1bed+-0x1339+-0x22*-0x163});if(_0x47c4ea[_0x54b48d(0x182)+'me']!==_0xfd9fa0[_0x54b48d(0x182)+'me']||package_json_1['name']!==_0xfd9fa0['apiName'])throw new exceptions_1['Unauthoriz'+(_0x54b48d(0x18f))+'n']();return _0x2870c6();}catch(_0x9b4478){logger['error'](_0x9b4478);throw new exceptions_1[(_0x54b48d(0x18e))+(_0x54b48d(0x18f))+'n']();}});}function apikey(_0x451ff5,_0x368294,_0x2ef0df){return __awaiter(this,void(0x8b*0x9+-0xdd8+0x8f5),void(-0x646*0x3+-0x1b84+-0x3*-0xf72),function*(){const _0xc0abc4=a30_0x503a,_0x5a351a=env_config_1['configServ'+_0xc0abc4(0x1a1)][_0xc0abc4(0x194)]('AUTHENTICA'+_0xc0abc4(0x190))[_0xc0abc4(0x18d)],_0x5dd495=_0x451ff5[_0xc0abc4(0x194)]('apikey');if(_0x5a351a[_0xc0abc4(0x19a)]===_0x5dd495)return _0x2ef0df();if((_0x451ff5[_0xc0abc4(0x184)+'l'][_0xc0abc4(0x161)](_0xc0abc4(0x17d)+'create')||_0x451ff5[_0xc0abc4(0x184)+'l'][_0xc0abc4(0x161)](_0xc0abc4(0x17d)+_0xc0abc4(0x177)+'nces'))&&!_0x5dd495)throw new exceptions_1[(_0xc0abc4(0x189))+(_0xc0abc4(0x167))]('Missing\x20gl'+_0xc0abc4(0x188)+'ey','The\x20global'+_0xc0abc4(0x181)+'ust\x20be\x20set');try{const _0x4855de=_0x451ff5[_0xc0abc4(0x191)],_0xc7797a=yield whatsapp_module_1[_0xc0abc4(0x176)][_0xc0abc4(0x18a)][_0xc0abc4(0x19e)](_0x4855de[_0xc0abc4(0x182)+'me']);if(_0xc7797a['apikey']===_0x5dd495)return _0x2ef0df();}catch(_0x1cea86){}throw new exceptions_1[(_0xc0abc4(0x18e))+(_0xc0abc4(0x18f))+'n']();});}const a30_0x48290b={};a30_0x48290b['jwt']=jwtGuard,a30_0x48290b[a30_0x25f7d6(0x16f)]=apikey,exports[a30_0x25f7d6(0x16a)]=a30_0x48290b;function a30_0x4175(){const _0x1dc896=['split','Missing\x20gl','fig','/instance/','ust\x20be\x20set','bearer','18582mNPlcf','\x20api\x20key\x20m','instanceNa','ig/logger.','originalUr','2718455EBMQjy','__awaiter','default','obal\x20api\x20k','ForbiddenE','auth','2680413HGdInl','791XLIUFE','API_KEY','Unauthoriz','edExceptio','TION','params','then','verify','get','next','ptions','apply','1946466qjhsTB','throw','KEY','class-vali','AUTHENTICA','done','find','ig/env.con','21970215GBczJI','ice','authorizat','SECRET','includes','../../conf','erty','../../../p','__esModule','nces','xception','6488320BdREpV','../../exce','authGuard','defineProp','JWT','583898NbxwXO','4hmRlHv','apikey','GUARD','create','__importDe','EXPIRIN_IN','value','10ydIDEI','repository','fetchInsta','configServ','isJWT'];a30_0x4175=function(){return _0x1dc896;};return a30_0x4175();}