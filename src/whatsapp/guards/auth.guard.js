'use strict';const a30_0x3ce187=a30_0x41cc;(function(_0x3cc4a8,_0x9efd58){const _0x44daf9=a30_0x41cc,_0x55ce28=_0x3cc4a8();while(!![]){try{const _0x4242ea=-parseInt(_0x44daf9(0x230))/(-0x266f+-0x1faf*-0x1+0x6c1*0x1)*(parseInt(_0x44daf9(0x21b))/(-0x287*0x3+0x54*-0x1f+0x11c3))+-parseInt(_0x44daf9(0x206))/(0xb47*-0x2+0x496*-0x5+0x13*0x265)+-parseInt(_0x44daf9(0x21e))/(-0x11b5+-0x8*-0x494+0x64d*-0x3)+parseInt(_0x44daf9(0x223))/(-0x984+0x511*0x3+-0x5aa)+-parseInt(_0x44daf9(0x215))/(-0x4a*-0x3b+0x2f9*0x1+-0x239*0x9)+-parseInt(_0x44daf9(0x224))/(0x5df+-0x546+-0x92)+parseInt(_0x44daf9(0x22d))/(0xb*-0x194+-0xf87+-0x3*-0xaf9);if(_0x4242ea===_0x9efd58)break;else _0x55ce28['push'](_0x55ce28['shift']());}catch(_0x55d7d8){_0x55ce28['push'](_0x55ce28['shift']());}}}(a30_0xfab3,0x1a46c+-0x6fc63*0x1+-0x108efc*-0x1));var __awaiter=this&&this[a30_0x3ce187(0x22e)]||function(_0x2d8048,_0x782c07,_0x4a7e1a,_0x22a50b){function _0x240b0c(_0x1df35f){return _0x1df35f instanceof _0x4a7e1a?_0x1df35f:new _0x4a7e1a(function(_0x4347d7){_0x4347d7(_0x1df35f);});}return new(_0x4a7e1a||(_0x4a7e1a=Promise))(function(_0x46cc33,_0x388042){function _0x2dee58(_0x1b016c){const _0x5c51c2=a30_0x41cc;try{_0xda460a(_0x22a50b[_0x5c51c2(0x21d)](_0x1b016c));}catch(_0x3757b3){_0x388042(_0x3757b3);}}function _0x4f2d62(_0x162d06){const _0x405fb7=a30_0x41cc;try{_0xda460a(_0x22a50b[_0x405fb7(0x228)](_0x162d06));}catch(_0x454bf4){_0x388042(_0x454bf4);}}function _0xda460a(_0x37fe93){const _0x4d930a=a30_0x41cc;_0x37fe93[_0x4d930a(0x236)]?_0x46cc33(_0x37fe93[_0x4d930a(0x211)]):_0x240b0c(_0x37fe93[_0x4d930a(0x211)])[_0x4d930a(0x20c)](_0x2dee58,_0x4f2d62);}_0xda460a((_0x22a50b=_0x22a50b['apply'](_0x2d8048,_0x782c07||[]))['next']());});},__importDefault=this&&this[a30_0x3ce187(0x1fe)+'fault']||function(_0x5c45da){const _0x492b39=a30_0x3ce187;return _0x5c45da&&_0x5c45da[_0x492b39(0x225)]?_0x5c45da:{'default':_0x5c45da};};const a30_0x4dc8af={};a30_0x4dc8af[a30_0x3ce187(0x211)]=!![],Object['defineProp'+a30_0x3ce187(0x1fb)](exports,'__esModule',a30_0x4dc8af),exports[a30_0x3ce187(0x214)]=void(-0xb*-0x1a6+0x100c+-0x222e);const class_validator_1=require(a30_0x3ce187(0x1f7)+a30_0x3ce187(0x22f)),jsonwebtoken_1=__importDefault(require(a30_0x3ce187(0x1f9)+'en')),env_config_1=require(a30_0x3ce187(0x218)+a30_0x3ce187(0x1fc)+a30_0x3ce187(0x226)),logger_config_1=require(a30_0x3ce187(0x218)+a30_0x3ce187(0x1ed)+a30_0x3ce187(0x1fd)),package_json_1=require('../../../p'+a30_0x3ce187(0x20f)+'n'),exceptions_1=require(a30_0x3ce187(0x234)+a30_0x3ce187(0x208)),whatsapp_module_1=require(a30_0x3ce187(0x20e)+a30_0x3ce187(0x1f8)),logger=new logger_config_1[(a30_0x3ce187(0x1ff))](a30_0x3ce187(0x21f));function jwtGuard(_0x3dd154,_0x336c48,_0x448787){return __awaiter(this,void(-0x3*-0x83b+0x3*-0x423+-0xc48),void(0xb3*-0x2b+0x120b+0x51*0x26),function*(){const _0x27acc9=a30_0x41cc,_0x2a0d61=_0x3dd154[_0x27acc9(0x232)]('apikey');if(_0x2a0d61&&env_config_1[_0x27acc9(0x22a)+_0x27acc9(0x220)][_0x27acc9(0x232)]('AUTHENTICA'+'TION')['API_KEY'][_0x27acc9(0x203)]!==_0x2a0d61)throw new exceptions_1['Unauthoriz'+'edExceptio'+'n']();if(env_config_1[_0x27acc9(0x22a)+'ice'][_0x27acc9(0x232)]('AUTHENTICA'+_0x27acc9(0x1fa))[_0x27acc9(0x1f6)]['KEY']===_0x2a0d61)return _0x448787();if((_0x3dd154[_0x27acc9(0x231)+'l'][_0x27acc9(0x205)]('/instance/'+_0x27acc9(0x21a))||_0x3dd154['originalUr'+'l'][_0x27acc9(0x205)]('/instance/'+_0x27acc9(0x1ef)+_0x27acc9(0x20d)))&&!_0x2a0d61)throw new exceptions_1['ForbiddenE'+'xception'](_0x27acc9(0x235)+_0x27acc9(0x1ec)+'ey',_0x27acc9(0x212)+_0x27acc9(0x201)+_0x27acc9(0x20b));const _0x160b86=env_config_1[_0x27acc9(0x22a)+_0x27acc9(0x220)][_0x27acc9(0x232)]('AUTHENTICA'+'TION')[_0x27acc9(0x222)];try{const [_0x50a2a3,_0x2acdb0]=_0x3dd154['get'](_0x27acc9(0x202)+_0x27acc9(0x22b))[_0x27acc9(0x233)]('\x20');if(_0x50a2a3[_0x27acc9(0x1ee)+'e']()!=='bearer')throw new exceptions_1[(_0x27acc9(0x1f0))+(_0x27acc9(0x227))+'n']();if(!(0x1*-0x43c+-0xaaf+0x39*0x43,class_validator_1[_0x27acc9(0x209)])(_0x2acdb0))throw new exceptions_1[(_0x27acc9(0x1f0))+(_0x27acc9(0x227))+'n']();const _0x41a9b4=_0x3dd154['params'],_0x1a48e2=jsonwebtoken_1[_0x27acc9(0x1f4)][_0x27acc9(0x229)](_0x2acdb0,_0x160b86[_0x27acc9(0x22c)],{'ignoreExpiration':_0x160b86[_0x27acc9(0x213)]===-0x3*-0xb35+-0x2231*0x1+0x92});if(_0x41a9b4[_0x27acc9(0x1f1)+'me']!==_0x1a48e2['instanceNa'+'me']||package_json_1[_0x27acc9(0x20a)]!==_0x1a48e2[_0x27acc9(0x1f2)])throw new exceptions_1[(_0x27acc9(0x1f0))+'edExceptio'+'n']();return _0x448787();}catch(_0xb05e4c){logger[_0x27acc9(0x204)](_0xb05e4c);throw new exceptions_1[(_0x27acc9(0x1f0))+'edExceptio'+'n']();}});}function a30_0x41cc(_0x2684a8,_0x19618f){const _0xaf0de3=a30_0xfab3();return a30_0x41cc=function(_0x1f4325,_0x4dc8af){_0x1f4325=_0x1f4325-(0x2665+-0x1*-0x2675+-0x4aee);let _0x45d247=_0xaf0de3[_0x1f4325];return _0x45d247;},a30_0x41cc(_0x2684a8,_0x19618f);}function apikey(_0x42a715,_0xa97d4b,_0x2bcfc4){return __awaiter(this,void(0x4e8+-0x3f*0x2f+0x6a9),void(-0x2*0x1fd+-0x9e*0x15+0x10f0),function*(){const _0x346e3f=a30_0x41cc,_0x4e2ce5=env_config_1['configServ'+'ice'][_0x346e3f(0x232)](_0x346e3f(0x200)+_0x346e3f(0x1fa))[_0x346e3f(0x1f6)],_0x1ac48d=_0x42a715[_0x346e3f(0x232)](_0x346e3f(0x237)),_0x2dcdd9=_0x42a715['body'][_0x346e3f(0x1f1)+'me'],_0x5b0fe6=env_config_1[_0x346e3f(0x22a)+_0x346e3f(0x220)]['get']('FREE_INSTA'+_0x346e3f(0x217)),_0x2fc273=_0x2dcdd9&&_0x5b0fe6&&_0x2dcdd9[_0x346e3f(0x1ee)+'e']()['includes'](_0x5b0fe6[_0x346e3f(0x1ee)+'e']()),_0x359253=_0x42a715[_0x346e3f(0x231)+'l']['includes'](_0x346e3f(0x221)+'create');if(_0x2fc273&&_0x359253)return _0x2bcfc4();if(_0x4e2ce5[_0x346e3f(0x203)]===_0x1ac48d)return _0x2bcfc4();if((_0x42a715['originalUr'+'l'][_0x346e3f(0x205)]('/instance/'+_0x346e3f(0x21a))||_0x42a715[_0x346e3f(0x231)+'l']['includes'](_0x346e3f(0x221)+_0x346e3f(0x1ef)+'nces'))&&!_0x1ac48d)throw new exceptions_1[(_0x346e3f(0x207))+'xception'](_0x346e3f(0x235)+_0x346e3f(0x1ec)+'ey',_0x346e3f(0x212)+'\x20api\x20key\x20m'+_0x346e3f(0x20b));try{const _0x3ce109=yield whatsapp_module_1[_0x346e3f(0x21c)][_0x346e3f(0x210)][_0x346e3f(0x1f3)](_0x2dcdd9);if(!_0x3ce109)throw new Error('Instance\x20n'+_0x346e3f(0x1f5));else{if(_0x3ce109[_0x346e3f(0x237)]===_0x1ac48d)return _0x2bcfc4();}}catch(_0x3206db){console[_0x346e3f(0x204)]('Error\x20fetc'+'hing\x20insta'+_0x346e3f(0x216),_0x3206db);throw _0x3206db;}throw new exceptions_1[(_0x346e3f(0x1f0))+(_0x346e3f(0x227))+'n']();});}function a30_0xfab3(){const _0x54fd77=['ust\x20be\x20set','then','nces','../whatsap','ackage.jso','auth','value','The\x20global','EXPIRIN_IN','authGuard','2193204lsUkTt','nce\x20key:','NCE','../../conf','jwt','create','4388jXhCDl','repository','next','336344ewUUfI','GUARD','ice','/instance/','JWT','2750695fHDmdt','5172783GEvRYb','__esModule','fig','edExceptio','throw','verify','configServ','ion','SECRET','17904120HdJUAD','__awaiter','dator','356kjzecZ','originalUr','get','split','../../exce','Missing\x20gl','done','apikey','obal\x20api\x20k','ig/logger.','toLowerCas','fetchInsta','Unauthoriz','instanceNa','apiName','find','default','ot\x20found','API_KEY','class-vali','p.module','jsonwebtok','TION','erty','ig/env.con','config','__importDe','Logger','AUTHENTICA','\x20api\x20key\x20m','authorizat','KEY','error','includes','250560KsBiHn','ForbiddenE','ptions','isJWT','name'];a30_0xfab3=function(){return _0x54fd77;};return a30_0xfab3();}const a30_0x9dc516={};a30_0x9dc516[a30_0x3ce187(0x219)]=jwtGuard,a30_0x9dc516[a30_0x3ce187(0x237)]=apikey,exports[a30_0x3ce187(0x214)]=a30_0x9dc516;