'use strict';const a29_0x4a9a1a=a29_0x555d;(function(_0x5ead03,_0x12daf2){const _0x3e1fe4=a29_0x555d,_0x3f1069=_0x5ead03();while(!![]){try{const _0x407cdf=-parseInt(_0x3e1fe4(0x144))/(-0xe*-0x10b+0x22e0+-0x3179)*(parseInt(_0x3e1fe4(0x162))/(-0x2*-0x623+-0x4f7*-0x5+-0x2517))+-parseInt(_0x3e1fe4(0x15c))/(-0xebe+0x12e4+-0x161*0x3)*(-parseInt(_0x3e1fe4(0x147))/(0xf20+-0x405+-0xb17))+parseInt(_0x3e1fe4(0x15b))/(0x643*-0x1+0x573+0xd5)*(parseInt(_0x3e1fe4(0x159))/(0xd3*-0x1+0x8df+-0x806))+-parseInt(_0x3e1fe4(0x16c))/(0x17*-0xab+-0x2502+0x3466)*(-parseInt(_0x3e1fe4(0x168))/(-0x1*-0x19eb+-0x4a7*0x7+-0x12*-0x5f))+parseInt(_0x3e1fe4(0x155))/(0x22a9+0xbd1+-0x2e71)*(parseInt(_0x3e1fe4(0x143))/(0x1*0xc79+0x1bfe+-0x286d))+parseInt(_0x3e1fe4(0x142))/(-0x38a+-0x1c65+-0xffd*-0x2)*(-parseInt(_0x3e1fe4(0x17b))/(0x4*0x5fb+-0x1*0x1c65+0x485))+-parseInt(_0x3e1fe4(0x161))/(0x1a4*0x8+-0x1507+0x7f4);if(_0x407cdf===_0x12daf2)break;else _0x3f1069['push'](_0x3f1069['shift']());}catch(_0x3b75ea){_0x3f1069['push'](_0x3f1069['shift']());}}}(a29_0x1c48,-0x72993+-0xb93e0+-0x1*-0x18c82f));function a29_0x1c48(){const _0x28259b=['7032350paTcQW','1138DWqztw','ion','ice','config','instanceNa','class-vali','40diRYNT','includes','originalUr','authGuard','575491BQDOie','apiName','error','TION','fault','API_KEY','get','authorizat','../../conf','../../../p','ig/logger.','Unauthoriz','configServ','defineProp','Logger','307044RqvPIX','apply','done','\x20api\x20key\x20m','create','KEY','nces','ception','params','JWT','SECRET','auth','obal\x20api\x20k','AUTHENTICA','77ioGCPv','350WMnZbs','615eIeGEk','ackage.jso','../whatsap','865816QGZiPR','value','EXPIRIN_IN','ForbidenEx','Missing\x20gl','default','find','verify','split','ust\x20be\x20set','The\x20global','erty','jwt','repository','4365PKTWBG','next','apikey','isJWT','1290SSraoX','fetchInsta','14070KmFXxC','6ROMNwZ','fig','jsonwebtok','/instance/','edExceptio'];a29_0x1c48=function(){return _0x28259b;};return a29_0x1c48();}var __awaiter=this&&this['__awaiter']||function(_0x45b9dc,_0x20b078,_0x63cdb2,_0x534ddc){function _0x1d117d(_0x3f1629){return _0x3f1629 instanceof _0x63cdb2?_0x3f1629:new _0x63cdb2(function(_0x353ffb){_0x353ffb(_0x3f1629);});}return new(_0x63cdb2||(_0x63cdb2=Promise))(function(_0x721cd2,_0x42c3d7){const _0x1946f7=a29_0x555d;function _0x9efd94(_0x24feae){const _0x2bd3cb=a29_0x555d;try{_0x37e90c(_0x534ddc[_0x2bd3cb(0x156)](_0x24feae));}catch(_0xa8190b){_0x42c3d7(_0xa8190b);}}function _0x5290d6(_0x1e1cbe){try{_0x37e90c(_0x534ddc['throw'](_0x1e1cbe));}catch(_0x1d453c){_0x42c3d7(_0x1d453c);}}function _0x37e90c(_0x1ed478){const _0x456585=a29_0x555d;_0x1ed478[_0x456585(0x17d)]?_0x721cd2(_0x1ed478[_0x456585(0x148)]):_0x1d117d(_0x1ed478[_0x456585(0x148)])['then'](_0x9efd94,_0x5290d6);}_0x37e90c((_0x534ddc=_0x534ddc[_0x1946f7(0x17c)](_0x45b9dc,_0x20b078||[]))[_0x1946f7(0x156)]());});},__importDefault=this&&this['__importDe'+a29_0x4a9a1a(0x170)]||function(_0x373247){return _0x373247&&_0x373247['__esModule']?_0x373247:{'default':_0x373247};};const a29_0x4e9b1a={};a29_0x4e9b1a[a29_0x4a9a1a(0x148)]=!![],Object[a29_0x4a9a1a(0x179)+a29_0x4a9a1a(0x152)](exports,'__esModule',a29_0x4e9b1a),exports['authGuard']=void(0x8d6+-0xf2e+0x658);const class_validator_1=require(a29_0x4a9a1a(0x167)+'dator'),jsonwebtoken_1=__importDefault(require(a29_0x4a9a1a(0x15e)+'en')),env_config_1=require(a29_0x4a9a1a(0x174)+'ig/env.con'+a29_0x4a9a1a(0x15d)),logger_config_1=require(a29_0x4a9a1a(0x174)+a29_0x4a9a1a(0x176)+a29_0x4a9a1a(0x165)),package_json_1=require(a29_0x4a9a1a(0x175)+a29_0x4a9a1a(0x145)+'n'),exceptions_1=require('../../exce'+'ptions'),whatsapp_module_1=require(a29_0x4a9a1a(0x146)+'p.module'),logger=new logger_config_1[(a29_0x4a9a1a(0x17a))]('GUARD');function jwtGuard(_0x4b1ea2,_0x5b7e93,_0x4dac06){return __awaiter(this,void(-0xa3*0xe+-0x3c5+-0xcaf*-0x1),void(0xf34+0x1e04*-0x1+0xed0),function*(){const _0x5885c0=a29_0x555d,_0x32cc02=_0x4b1ea2[_0x5885c0(0x172)](_0x5885c0(0x157));if(_0x32cc02&&env_config_1[_0x5885c0(0x178)+_0x5885c0(0x164)][_0x5885c0(0x172)](_0x5885c0(0x188)+'TION')[_0x5885c0(0x171)][_0x5885c0(0x180)]!==_0x32cc02)throw new exceptions_1['Unauthoriz'+(_0x5885c0(0x160))+'n']();if(env_config_1[_0x5885c0(0x178)+_0x5885c0(0x164)]['get'](_0x5885c0(0x188)+_0x5885c0(0x16f))[_0x5885c0(0x171)][_0x5885c0(0x180)]===_0x32cc02)return _0x4dac06();if((_0x4b1ea2[_0x5885c0(0x16a)+'l'][_0x5885c0(0x169)](_0x5885c0(0x15f)+'create')||_0x4b1ea2[_0x5885c0(0x16a)+'l'][_0x5885c0(0x169)](_0x5885c0(0x15f)+'fetchInsta'+_0x5885c0(0x181)))&&!_0x32cc02)throw new exceptions_1[(_0x5885c0(0x14a))+'ception'](_0x5885c0(0x14b)+_0x5885c0(0x187)+'ey',_0x5885c0(0x151)+_0x5885c0(0x17e)+_0x5885c0(0x150));const _0x2d81c9=env_config_1['configServ'+_0x5885c0(0x164)][_0x5885c0(0x172)](_0x5885c0(0x188)+_0x5885c0(0x16f))[_0x5885c0(0x184)];try{const [_0x32ab2d,_0x38a4c1]=_0x4b1ea2['get'](_0x5885c0(0x173)+_0x5885c0(0x163))[_0x5885c0(0x14f)]('\x20');if(_0x32ab2d['toLowerCas'+'e']()!=='bearer')throw new exceptions_1[(_0x5885c0(0x177))+'edExceptio'+'n']();if(!(0x5ad+0x15f2+0x1b9f*-0x1,class_validator_1[_0x5885c0(0x158)])(_0x38a4c1))throw new exceptions_1[(_0x5885c0(0x177))+(_0x5885c0(0x160))+'n']();const _0x59dfb3=_0x4b1ea2[_0x5885c0(0x183)],_0x23d450=jsonwebtoken_1[_0x5885c0(0x14c)][_0x5885c0(0x14e)](_0x38a4c1,_0x2d81c9[_0x5885c0(0x185)],{'ignoreExpiration':_0x2d81c9[_0x5885c0(0x149)]===-0x1d*0xab+0x1*-0x2141+-0x34a*-0x10});if(_0x59dfb3[_0x5885c0(0x166)+'me']!==_0x23d450[_0x5885c0(0x166)+'me']||package_json_1['name']!==_0x23d450[_0x5885c0(0x16d)])throw new exceptions_1['Unauthoriz'+'edExceptio'+'n']();return _0x4dac06();}catch(_0xf03183){logger[_0x5885c0(0x16e)](_0xf03183);throw new exceptions_1[(_0x5885c0(0x177))+(_0x5885c0(0x160))+'n']();}});}function apikey(_0x531c60,_0x41777d,_0x3edf20){return __awaiter(this,void(-0x22b4*-0x1+-0x4c5*-0x1+-0x7e5*0x5),void(-0x1*-0x169a+0x17*-0x10f+-0x1*-0x1bf),function*(){const _0x4e5c74=a29_0x555d,_0x7903b2=env_config_1[_0x4e5c74(0x178)+_0x4e5c74(0x164)]['get']('AUTHENTICA'+_0x4e5c74(0x16f))[_0x4e5c74(0x171)],_0x1c7835=_0x531c60[_0x4e5c74(0x172)](_0x4e5c74(0x157));if(_0x7903b2['KEY']===_0x1c7835)return _0x3edf20();if((_0x531c60[_0x4e5c74(0x16a)+'l'][_0x4e5c74(0x169)](_0x4e5c74(0x15f)+_0x4e5c74(0x17f))||_0x531c60[_0x4e5c74(0x16a)+'l']['includes'](_0x4e5c74(0x15f)+_0x4e5c74(0x15a)+_0x4e5c74(0x181)))&&!_0x1c7835)throw new exceptions_1['ForbidenEx'+(_0x4e5c74(0x182))](_0x4e5c74(0x14b)+_0x4e5c74(0x187)+'ey',_0x4e5c74(0x151)+'\x20api\x20key\x20m'+_0x4e5c74(0x150));try{const _0xb7131f=_0x531c60[_0x4e5c74(0x183)],_0x52963e=yield whatsapp_module_1[_0x4e5c74(0x154)][_0x4e5c74(0x186)][_0x4e5c74(0x14d)](_0xb7131f[_0x4e5c74(0x166)+'me']);if(_0x52963e[_0x4e5c74(0x157)]===_0x1c7835)return _0x3edf20();}catch(_0x1898b3){}throw new exceptions_1[(_0x4e5c74(0x177))+(_0x4e5c74(0x160))+'n']();});}function a29_0x555d(_0x5a22d7,_0x3409bd){const _0x3fbc3e=a29_0x1c48();return a29_0x555d=function(_0x4e9b1a,_0x3a78b2){_0x4e9b1a=_0x4e9b1a-(0xc66+0xb*0x189+-0x1c07*0x1);let _0x1d28b8=_0x3fbc3e[_0x4e9b1a];return _0x1d28b8;},a29_0x555d(_0x5a22d7,_0x3409bd);}const a29_0x4a5471={};a29_0x4a5471[a29_0x4a9a1a(0x153)]=jwtGuard,a29_0x4a5471[a29_0x4a9a1a(0x157)]=apikey,exports[a29_0x4a9a1a(0x16b)]=a29_0x4a5471;