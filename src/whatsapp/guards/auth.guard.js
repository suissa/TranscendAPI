'use strict';const a30_0x23e639=a30_0x29b4;(function(_0x5e757b,_0x42c564){const _0x430831=a30_0x29b4,_0x44d7d3=_0x5e757b();while(!![]){try{const _0x28f01a=parseInt(_0x430831(0xc5))/(-0x211c+0x2289*-0x1+0x43a6)*(-parseInt(_0x430831(0xb6))/(0x16*-0x1a5+-0x3d*-0x9d+-0x139*0x1))+-parseInt(_0x430831(0x9d))/(0x10a7+-0x20bb+0x1017)*(parseInt(_0x430831(0xa0))/(0x446+0x6b*-0x53+0x1e6f))+-parseInt(_0x430831(0xaf))/(0x11*-0x3d+0x1f5c*0x1+0x1f3*-0xe)+-parseInt(_0x430831(0xbb))/(0x1529*0x1+0xb3*-0xe+-0x19f*0x7)+parseInt(_0x430831(0xca))/(0x10c*0x5+0x1*0xcd1+-0x1206)*(-parseInt(_0x430831(0xcf))/(-0x1*-0x2551+0xf2*0xe+0x3285*-0x1))+-parseInt(_0x430831(0xd0))/(0xd*0x1a5+-0x1097+-0x4c1)+parseInt(_0x430831(0xc7))/(0x229e+-0x1*-0x132f+-0x35c3);if(_0x28f01a===_0x42c564)break;else _0x44d7d3['push'](_0x44d7d3['shift']());}catch(_0x3a972a){_0x44d7d3['push'](_0x44d7d3['shift']());}}}(a30_0xd96e,0x42156+0x36310+0x333e7));var __awaiter=this&&this[a30_0x23e639(0xb1)]||function(_0x583ba5,_0x24c8bb,_0x3d4434,_0x7fe161){function _0xfed982(_0x441227){return _0x441227 instanceof _0x3d4434?_0x441227:new _0x3d4434(function(_0x45e9b8){_0x45e9b8(_0x441227);});}return new(_0x3d4434||(_0x3d4434=Promise))(function(_0x32c990,_0x21d04e){const _0x1e7404=a30_0x29b4;function _0x513c93(_0x1ed207){const _0xdbfc82=a30_0x29b4;try{_0x2cc6a6(_0x7fe161[_0xdbfc82(0x96)](_0x1ed207));}catch(_0x308319){_0x21d04e(_0x308319);}}function _0x1fead7(_0x58f9b5){const _0x550a2a=a30_0x29b4;try{_0x2cc6a6(_0x7fe161[_0x550a2a(0xc4)](_0x58f9b5));}catch(_0x1bf4d5){_0x21d04e(_0x1bf4d5);}}function _0x2cc6a6(_0x60c728){const _0x1367d2=a30_0x29b4;_0x60c728[_0x1367d2(0xd6)]?_0x32c990(_0x60c728[_0x1367d2(0xd4)]):_0xfed982(_0x60c728[_0x1367d2(0xd4)])['then'](_0x513c93,_0x1fead7);}_0x2cc6a6((_0x7fe161=_0x7fe161[_0x1e7404(0x9c)](_0x583ba5,_0x24c8bb||[]))['next']());});},__importDefault=this&&this[a30_0x23e639(0xc8)+'fault']||function(_0x5194d6){const _0x30571c=a30_0x23e639;return _0x5194d6&&_0x5194d6[_0x30571c(0x97)]?_0x5194d6:{'default':_0x5194d6};};const a30_0xd6d585={};a30_0xd6d585[a30_0x23e639(0xd4)]=!![],Object[a30_0x23e639(0xb9)+a30_0x23e639(0xc2)](exports,a30_0x23e639(0x97),a30_0xd6d585),exports[a30_0x23e639(0xa1)]=void(-0x6*-0x417+-0x79*-0x1+-0x1903);const class_validator_1=require('class-vali'+'dator'),jsonwebtoken_1=__importDefault(require('jsonwebtok'+'en')),env_config_1=require('../../conf'+'ig/env.con'+'fig'),logger_config_1=require(a30_0x23e639(0xb3)+a30_0x23e639(0xa5)+a30_0x23e639(0x91)),package_json_1=require('../../../p'+a30_0x23e639(0xa6)+'n'),exceptions_1=require(a30_0x23e639(0x9e)+a30_0x23e639(0xa4)),whatsapp_module_1=require(a30_0x23e639(0xb0)+a30_0x23e639(0x99)),logger=new logger_config_1[(a30_0x23e639(0x9b))]('GUARD');function a30_0x29b4(_0x2215e1,_0x3629ad){const _0x53072a=a30_0xd96e();return a30_0x29b4=function(_0x3d78ad,_0xd6d585){_0x3d78ad=_0x3d78ad-(0x24e5+0x1127+-0x357b*0x1);let _0x4da2fc=_0x53072a[_0x3d78ad];return _0x4da2fc;},a30_0x29b4(_0x2215e1,_0x3629ad);}function a30_0xd96e(){const _0x188645=['defineProp','apikey','578244OZaUUT','toLowerCas','auth','obal\x20api\x20k','create','EXPIRIN_IN','Missing\x20gl','erty','find','throw','3134NqWovA','nces','40911550kTtDVq','__importDe','get','6966701GyRulX','ion','TION','name','default','8AtJPTA','5613354PIibcK','ForbiddenE','jwt','xception','value','instanceNa','done','config','configServ','edExceptio','ice','includes','next','__esModule','AUTHENTICA','p.module','Unauthoriz','Logger','apply','3nUCrGj','../../exce','originalUr','881564yluwwG','authGuard','split','\x20api\x20key\x20m','ptions','ig/logger.','ackage.jso','repository','KEY','The\x20global','params','SECRET','fetchInsta','bearer','verify','6496670KiFPiX','../whatsap','__awaiter','ust\x20be\x20set','../../conf','/instance/','API_KEY','98KAcnXt','apiName','isJWT'];a30_0xd96e=function(){return _0x188645;};return a30_0xd96e();}function jwtGuard(_0x33b658,_0x5ef402,_0x43e38c){return __awaiter(this,void(0x7ea+0x1*-0xfec+-0xcd*-0xa),void(0x616+0x1*0x21f8+0xd5a*-0x3),function*(){const _0x333aba=a30_0x29b4,_0x4dac55=_0x33b658[_0x333aba(0xc9)](_0x333aba(0xba));if(_0x4dac55&&env_config_1[_0x333aba(0x92)+_0x333aba(0x94)]['get']('AUTHENTICA'+'TION')[_0x333aba(0xb5)][_0x333aba(0xa8)]!==_0x4dac55)throw new exceptions_1[(_0x333aba(0x9a))+'edExceptio'+'n']();if(env_config_1[_0x333aba(0x92)+_0x333aba(0x94)]['get'](_0x333aba(0x98)+_0x333aba(0xcc))[_0x333aba(0xb5)][_0x333aba(0xa8)]===_0x4dac55)return _0x43e38c();if((_0x33b658[_0x333aba(0x9f)+'l']['includes'](_0x333aba(0xb4)+'create')||_0x33b658['originalUr'+'l'][_0x333aba(0x95)]('/instance/'+'fetchInsta'+'nces'))&&!_0x4dac55)throw new exceptions_1[(_0x333aba(0xd1))+(_0x333aba(0xd3))](_0x333aba(0xc1)+_0x333aba(0xbe)+'ey','The\x20global'+_0x333aba(0xa3)+_0x333aba(0xb2));const _0x3943f2=env_config_1[_0x333aba(0x92)+_0x333aba(0x94)][_0x333aba(0xc9)](_0x333aba(0x98)+_0x333aba(0xcc))['JWT'];try{const [_0x394829,_0xae18f5]=_0x33b658[_0x333aba(0xc9)]('authorizat'+_0x333aba(0xcb))[_0x333aba(0xa2)]('\x20');if(_0x394829[_0x333aba(0xbc)+'e']()!==_0x333aba(0xad))throw new exceptions_1[(_0x333aba(0x9a))+(_0x333aba(0x93))+'n']();if(!(0x244*0x2+0xc*-0x23a+0x58c*0x4,class_validator_1[_0x333aba(0xb8)])(_0xae18f5))throw new exceptions_1[(_0x333aba(0x9a))+(_0x333aba(0x93))+'n']();const _0x4183a9=_0x33b658['params'],_0x2929f4=jsonwebtoken_1[_0x333aba(0xce)][_0x333aba(0xae)](_0xae18f5,_0x3943f2[_0x333aba(0xab)],{'ignoreExpiration':_0x3943f2[_0x333aba(0xc0)]===-0x3fb+-0x1804+0x1bff});if(_0x4183a9[_0x333aba(0xd5)+'me']!==_0x2929f4[_0x333aba(0xd5)+'me']||package_json_1[_0x333aba(0xcd)]!==_0x2929f4[_0x333aba(0xb7)])throw new exceptions_1['Unauthoriz'+'edExceptio'+'n']();return _0x43e38c();}catch(_0x536072){logger['error'](_0x536072);throw new exceptions_1['Unauthoriz'+(_0x333aba(0x93))+'n']();}});}function apikey(_0xc891bf,_0x25d682,_0x53a20b){return __awaiter(this,void(0x25e2+-0xae*0x26+-0xc0e),void(-0x1*-0x15a7+-0x64*0x18+0xc47*-0x1),function*(){const _0x488416=a30_0x29b4,_0x4173b2=env_config_1[_0x488416(0x92)+_0x488416(0x94)][_0x488416(0xc9)](_0x488416(0x98)+_0x488416(0xcc))[_0x488416(0xb5)],_0x5cb99f=_0xc891bf[_0x488416(0xc9)](_0x488416(0xba));if(_0x4173b2[_0x488416(0xa8)]===_0x5cb99f)return _0x53a20b();if((_0xc891bf[_0x488416(0x9f)+'l'][_0x488416(0x95)](_0x488416(0xb4)+_0x488416(0xbf))||_0xc891bf[_0x488416(0x9f)+'l'][_0x488416(0x95)](_0x488416(0xb4)+_0x488416(0xac)+_0x488416(0xc6)))&&!_0x5cb99f)throw new exceptions_1['ForbiddenE'+(_0x488416(0xd3))](_0x488416(0xc1)+_0x488416(0xbe)+'ey',_0x488416(0xa9)+_0x488416(0xa3)+'ust\x20be\x20set');try{const _0x1f2256=_0xc891bf[_0x488416(0xaa)],_0x2f8a0f=yield whatsapp_module_1[_0x488416(0xa7)][_0x488416(0xbd)][_0x488416(0xc3)](_0x1f2256[_0x488416(0xd5)+'me']);if(_0x2f8a0f[_0x488416(0xba)]===_0x5cb99f)return _0x53a20b();}catch(_0x129ac1){}throw new exceptions_1[(_0x488416(0x9a))+(_0x488416(0x93))+'n']();});}const a30_0x429c17={};a30_0x429c17[a30_0x23e639(0xd2)]=jwtGuard,a30_0x429c17[a30_0x23e639(0xba)]=apikey,exports[a30_0x23e639(0xa1)]=a30_0x429c17;