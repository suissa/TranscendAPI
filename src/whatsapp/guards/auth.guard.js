'use strict';const a30_0x37d14f=a30_0x4ce2;function a30_0x4ce2(_0x8ddd30,_0x4d124f){const _0xd44af4=a30_0x4ce7();return a30_0x4ce2=function(_0x1626ae,_0x838706){_0x1626ae=_0x1626ae-(0x9b*0x3a+-0x2641+0x466*0x1);let _0xfd8f46=_0xd44af4[_0x1626ae];return _0xfd8f46;},a30_0x4ce2(_0x8ddd30,_0x4d124f);}(function(_0xeea31a,_0x35bc0e){const _0x3eb3b5=a30_0x4ce2,_0x2a762d=_0xeea31a();while(!![]){try{const _0x1999e5=parseInt(_0x3eb3b5(0x15b))/(-0x1517+-0xa59+0x1f71)+-parseInt(_0x3eb3b5(0x143))/(-0x5*0xa3+-0x2*-0x207+-0xdd)*(-parseInt(_0x3eb3b5(0x17c))/(-0x1bc1*0x1+0x1795+0x165*0x3))+-parseInt(_0x3eb3b5(0x154))/(-0x68*-0x53+-0x79*-0x29+-0x3515)*(-parseInt(_0x3eb3b5(0x17d))/(-0x1b4+0xd54+0xb9b*-0x1))+-parseInt(_0x3eb3b5(0x17e))/(0x11f2+-0x17*-0x1a8+-0x3804)*(parseInt(_0x3eb3b5(0x171))/(-0x78f+0x9b7*0x3+-0x158f))+-parseInt(_0x3eb3b5(0x14f))/(0x218e+-0x9b0+0xe2*-0x1b)*(parseInt(_0x3eb3b5(0x185))/(-0x41*-0x5+0x2418+0x4*-0x955))+parseInt(_0x3eb3b5(0x182))/(-0x2e8+0xd7*-0x3+0x577)*(-parseInt(_0x3eb3b5(0x159))/(0x22db+0x92a+-0x1b1*0x1a))+parseInt(_0x3eb3b5(0x15f))/(-0x1a5*-0x3+-0x1da6+0x3*0x841);if(_0x1999e5===_0x35bc0e)break;else _0x2a762d['push'](_0x2a762d['shift']());}catch(_0x558100){_0x2a762d['push'](_0x2a762d['shift']());}}}(a30_0x4ce7,-0x1*-0x4779b+-0xb0fd*0x3+0x1897));var __awaiter=this&&this['__awaiter']||function(_0x1c06e3,_0x2df921,_0x4db45e,_0xf49ffd){function _0x11fdd7(_0x2bf857){return _0x2bf857 instanceof _0x4db45e?_0x2bf857:new _0x4db45e(function(_0x56bc01){_0x56bc01(_0x2bf857);});}return new(_0x4db45e||(_0x4db45e=Promise))(function(_0x332078,_0x3911de){const _0x4c44c6=a30_0x4ce2;function _0x3d566e(_0x379310){try{_0x315eb5(_0xf49ffd['next'](_0x379310));}catch(_0x196a84){_0x3911de(_0x196a84);}}function _0x273075(_0x121cad){const _0x57eb69=a30_0x4ce2;try{_0x315eb5(_0xf49ffd[_0x57eb69(0x16e)](_0x121cad));}catch(_0x4d08a3){_0x3911de(_0x4d08a3);}}function _0x315eb5(_0x41e8e5){const _0x26b378=a30_0x4ce2;_0x41e8e5[_0x26b378(0x14e)]?_0x332078(_0x41e8e5[_0x26b378(0x16d)]):_0x11fdd7(_0x41e8e5[_0x26b378(0x16d)])[_0x26b378(0x157)](_0x3d566e,_0x273075);}_0x315eb5((_0xf49ffd=_0xf49ffd['apply'](_0x1c06e3,_0x2df921||[]))[_0x4c44c6(0x15e)]());});},__importDefault=this&&this[a30_0x37d14f(0x14d)+'fault']||function(_0x51d656){return _0x51d656&&_0x51d656['__esModule']?_0x51d656:{'default':_0x51d656};};const a30_0x1626ae={};a30_0x1626ae['value']=!![],Object[a30_0x37d14f(0x155)+'erty'](exports,'__esModule',a30_0x1626ae),exports[a30_0x37d14f(0x173)]=void(-0x2*0x102b+-0x1a17+0x3a6d);const class_validator_1=require(a30_0x37d14f(0x188)+'dator'),jsonwebtoken_1=__importDefault(require(a30_0x37d14f(0x14c)+'en')),env_config_1=require(a30_0x37d14f(0x186)+a30_0x37d14f(0x15c)+a30_0x37d14f(0x16a)),logger_config_1=require(a30_0x37d14f(0x186)+a30_0x37d14f(0x17b)+a30_0x37d14f(0x150)),package_json_1=require('../../../p'+'ackage.jso'+'n'),exceptions_1=require(a30_0x37d14f(0x168)+a30_0x37d14f(0x158)),whatsapp_module_1=require(a30_0x37d14f(0x187)+'p.module'),logger=new logger_config_1[(a30_0x37d14f(0x144))](a30_0x37d14f(0x184));function jwtGuard(_0x1d90aa,_0x46eb70,_0x1690b5){return __awaiter(this,void(0x29e+-0x53*0x5+-0xff),void(-0x1941+-0x1002+0x2943),function*(){const _0x5e8895=a30_0x4ce2,_0x9dbe32=_0x1d90aa['get']('apikey');if(_0x9dbe32&&env_config_1[_0x5e8895(0x160)+_0x5e8895(0x17a)][_0x5e8895(0x15a)](_0x5e8895(0x172)+_0x5e8895(0x145))['API_KEY'][_0x5e8895(0x156)]!==_0x9dbe32)throw new exceptions_1['Unauthoriz'+(_0x5e8895(0x174))+'n']();if(env_config_1['configServ'+_0x5e8895(0x17a)][_0x5e8895(0x15a)](_0x5e8895(0x172)+_0x5e8895(0x145))['API_KEY'][_0x5e8895(0x156)]===_0x9dbe32)return _0x1690b5();if((_0x1d90aa['originalUr'+'l'][_0x5e8895(0x153)](_0x5e8895(0x161)+_0x5e8895(0x152))||_0x1d90aa[_0x5e8895(0x170)+'l'][_0x5e8895(0x153)](_0x5e8895(0x161)+_0x5e8895(0x16c)+_0x5e8895(0x165)))&&!_0x9dbe32)throw new exceptions_1[(_0x5e8895(0x162))+(_0x5e8895(0x147))](_0x5e8895(0x146)+_0x5e8895(0x14a)+'ey',_0x5e8895(0x177)+'\x20api\x20key\x20m'+_0x5e8895(0x167));const _0xa00161=env_config_1[_0x5e8895(0x160)+_0x5e8895(0x17a)]['get']('AUTHENTICA'+_0x5e8895(0x145))[_0x5e8895(0x175)];try{const [_0x5a7c15,_0x324508]=_0x1d90aa['get'](_0x5e8895(0x151)+_0x5e8895(0x183))['split']('\x20');if(_0x5a7c15[_0x5e8895(0x15d)+'e']()!==_0x5e8895(0x17f))throw new exceptions_1['Unauthoriz'+'edExceptio'+'n']();if(!(-0x6b*0x2+-0x9d*-0x7+0xf*-0x3b,class_validator_1[_0x5e8895(0x164)])(_0x324508))throw new exceptions_1[(_0x5e8895(0x149))+(_0x5e8895(0x174))+'n']();const _0x1b7965=_0x1d90aa[_0x5e8895(0x169)],_0x40339f=jsonwebtoken_1[_0x5e8895(0x16b)][_0x5e8895(0x148)](_0x324508,_0xa00161[_0x5e8895(0x176)],{'ignoreExpiration':_0xa00161['EXPIRIN_IN']===0x2367+-0x21*-0xb+-0x24d2});if(_0x1b7965['instanceNa'+'me']!==_0x40339f['instanceNa'+'me']||package_json_1[_0x5e8895(0x178)]!==_0x40339f['apiName'])throw new exceptions_1[(_0x5e8895(0x149))+(_0x5e8895(0x174))+'n']();return _0x1690b5();}catch(_0x26b9c2){logger[_0x5e8895(0x181)](_0x26b9c2);throw new exceptions_1[(_0x5e8895(0x149))+(_0x5e8895(0x174))+'n']();}});}function a30_0x4ce7(){const _0x55968d=['ptions','550ZyIagg','get','50851vkRqBD','ig/env.con','toLowerCas','next','2813328OQqUDx','configServ','/instance/','ForbiddenE','API_KEY','isJWT','nces','jwt','ust\x20be\x20set','../../exce','params','fig','default','fetchInsta','value','throw','apikey','originalUr','329UJQjRx','AUTHENTICA','authGuard','edExceptio','JWT','SECRET','The\x20global','name','find','ice','ig/logger.','79725lEizoF','1225tiavIO','9462mjsnEl','bearer','auth','error','5810PHRAHZ','ion','GUARD','45oEKPFf','../../conf','../whatsap','class-vali','8zGpWop','Logger','TION','Missing\x20gl','xception','verify','Unauthoriz','obal\x20api\x20k','\x20api\x20key\x20m','jsonwebtok','__importDe','done','340024wMuJtx','config','authorizat','create','includes','1424EivNnp','defineProp','KEY','then'];a30_0x4ce7=function(){return _0x55968d;};return a30_0x4ce7();}function apikey(_0x2aed89,_0x2e5060,_0x449642){return __awaiter(this,void(0x9d9+0x146d+-0x1e46),void(-0x2*0xcf+-0x12af+0x144d*0x1),function*(){const _0x5848bc=a30_0x4ce2,_0x28860f=env_config_1[_0x5848bc(0x160)+_0x5848bc(0x17a)][_0x5848bc(0x15a)](_0x5848bc(0x172)+_0x5848bc(0x145))[_0x5848bc(0x163)],_0x1b5c98=_0x2aed89[_0x5848bc(0x15a)](_0x5848bc(0x16f));if(_0x28860f[_0x5848bc(0x156)]===_0x1b5c98)return _0x449642();if((_0x2aed89[_0x5848bc(0x170)+'l'][_0x5848bc(0x153)](_0x5848bc(0x161)+_0x5848bc(0x152))||_0x2aed89['originalUr'+'l'][_0x5848bc(0x153)](_0x5848bc(0x161)+_0x5848bc(0x16c)+_0x5848bc(0x165)))&&!_0x1b5c98)throw new exceptions_1[(_0x5848bc(0x162))+'xception'](_0x5848bc(0x146)+_0x5848bc(0x14a)+'ey','The\x20global'+_0x5848bc(0x14b)+_0x5848bc(0x167));try{const _0x201116=_0x2aed89[_0x5848bc(0x169)],_0x5b5bab=yield whatsapp_module_1['repository'][_0x5848bc(0x180)][_0x5848bc(0x179)](_0x201116['instanceNa'+'me']);if(_0x5b5bab[_0x5848bc(0x16f)]===_0x1b5c98)return _0x449642();}catch(_0x8d203){}throw new exceptions_1[(_0x5848bc(0x149))+'edExceptio'+'n']();});}const a30_0x3b8138={};a30_0x3b8138[a30_0x37d14f(0x166)]=jwtGuard,a30_0x3b8138[a30_0x37d14f(0x16f)]=apikey,exports[a30_0x37d14f(0x173)]=a30_0x3b8138;