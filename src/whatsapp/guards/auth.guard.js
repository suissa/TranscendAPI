'use strict';function a30_0x440d(_0x121256,_0x206178){const _0x21bebc=a30_0x5ae5();return a30_0x440d=function(_0x1ce397,_0x5b9f5c){_0x1ce397=_0x1ce397-(0x10*-0x269+-0x1c*0xd6+0x3f73);let _0x37b5ad=_0x21bebc[_0x1ce397];return _0x37b5ad;},a30_0x440d(_0x121256,_0x206178);}const a30_0x23c665=a30_0x440d;(function(_0x4f0fc3,_0x22bca0){const _0x122bcf=a30_0x440d,_0xf2f6b2=_0x4f0fc3();while(!![]){try{const _0xf3163a=-parseInt(_0x122bcf(0x18a))/(0x17e1+-0x10*0x240+0x308*0x4)*(-parseInt(_0x122bcf(0x1a0))/(0x108*0xd+0x19a3*-0x1+0xc3d))+-parseInt(_0x122bcf(0x19c))/(-0x2386+0x1717+0x1*0xc72)*(-parseInt(_0x122bcf(0x195))/(0x1*0x869+-0x806+0x5f*-0x1))+-parseInt(_0x122bcf(0x1bb))/(-0x1fd8+-0xb*0x1cd+0x33ac)*(-parseInt(_0x122bcf(0x17c))/(0x1ed4+-0x679+-0x1855))+-parseInt(_0x122bcf(0x197))/(-0x3*0xb2d+0x2*0x3ca+0x5f*0x46)+parseInt(_0x122bcf(0x183))/(-0x1af5+0x20c0+0x5*-0x127)+-parseInt(_0x122bcf(0x180))/(0x24c9+0x9a*0x4+-0x38*0xb3)+parseInt(_0x122bcf(0x19e))/(-0x1fab+0x246*-0x3+0x2687)*(-parseInt(_0x122bcf(0x18f))/(0x5*-0x458+0x2454+-0x153*0xb));if(_0xf3163a===_0x22bca0)break;else _0xf2f6b2['push'](_0xf2f6b2['shift']());}catch(_0x1af995){_0xf2f6b2['push'](_0xf2f6b2['shift']());}}}(a30_0x5ae5,0xaf5c2+0x479*0x97+0x8019b*-0x1));var __awaiter=this&&this['__awaiter']||function(_0x1037c6,_0x3fd793,_0xaedf38,_0x5ee67d){function _0xb04f96(_0x20d426){return _0x20d426 instanceof _0xaedf38?_0x20d426:new _0xaedf38(function(_0x13323d){_0x13323d(_0x20d426);});}return new(_0xaedf38||(_0xaedf38=Promise))(function(_0x154356,_0x5a7f67){const _0x597d7a=a30_0x440d;function _0xbc25c8(_0x186fa1){const _0x26014e=a30_0x440d;try{_0x56e60f(_0x5ee67d[_0x26014e(0x194)](_0x186fa1));}catch(_0x161637){_0x5a7f67(_0x161637);}}function _0x32f6ca(_0x265fdb){const _0x41a088=a30_0x440d;try{_0x56e60f(_0x5ee67d[_0x41a088(0x198)](_0x265fdb));}catch(_0x4ba923){_0x5a7f67(_0x4ba923);}}function _0x56e60f(_0x5c5940){const _0x3c8c56=a30_0x440d;_0x5c5940['done']?_0x154356(_0x5c5940[_0x3c8c56(0x188)]):_0xb04f96(_0x5c5940['value'])[_0x3c8c56(0x1b8)](_0xbc25c8,_0x32f6ca);}_0x56e60f((_0x5ee67d=_0x5ee67d['apply'](_0x1037c6,_0x3fd793||[]))[_0x597d7a(0x194)]());});},__importDefault=this&&this[a30_0x23c665(0x1ab)+a30_0x23c665(0x1a3)]||function(_0x122bc4){const _0x5314e3=a30_0x23c665;return _0x122bc4&&_0x122bc4[_0x5314e3(0x19b)]?_0x122bc4:{'default':_0x122bc4};};const a30_0x1ce397={};a30_0x1ce397[a30_0x23c665(0x188)]=!![],Object[a30_0x23c665(0x1a8)+a30_0x23c665(0x19a)](exports,a30_0x23c665(0x19b),a30_0x1ce397),exports[a30_0x23c665(0x1a9)]=void(0x61*0x5f+0x1d*0x3a+-0x2a91);const class_validator_1=require('class-vali'+a30_0x23c665(0x17e)),jsonwebtoken_1=__importDefault(require('jsonwebtok'+'en')),env_config_1=require('../../conf'+a30_0x23c665(0x1ba)+'fig'),logger_config_1=require(a30_0x23c665(0x17d)+a30_0x23c665(0x1ae)+a30_0x23c665(0x185)),package_json_1=require(a30_0x23c665(0x196)+'ackage.jso'+'n'),exceptions_1=require(a30_0x23c665(0x1b4)+a30_0x23c665(0x1b2)),whatsapp_module_1=require(a30_0x23c665(0x1bf)+'p.module'),logger=new logger_config_1[(a30_0x23c665(0x1b9))](a30_0x23c665(0x1aa));function jwtGuard(_0x4de8ea,_0x5a0282,_0x541aa5){return __awaiter(this,void(-0x1*0x76d+0x3e9*0x9+0x2*-0xde2),void(0x29e+0x2*-0x715+0xb8c),function*(){const _0x426338=a30_0x440d,_0x32751f=_0x4de8ea[_0x426338(0x189)](_0x426338(0x1b3));if(_0x32751f&&env_config_1[_0x426338(0x1a2)+_0x426338(0x18b)][_0x426338(0x189)](_0x426338(0x1a6)+_0x426338(0x19d))[_0x426338(0x1b0)][_0x426338(0x193)]!==_0x32751f)throw new exceptions_1['Unauthoriz'+(_0x426338(0x1ad))+'n']();if(env_config_1['configServ'+_0x426338(0x18b)]['get'](_0x426338(0x1a6)+_0x426338(0x19d))[_0x426338(0x1b0)][_0x426338(0x193)]===_0x32751f)return _0x541aa5();if((_0x4de8ea[_0x426338(0x17b)+'l'][_0x426338(0x181)](_0x426338(0x19f)+_0x426338(0x199))||_0x4de8ea[_0x426338(0x17b)+'l'][_0x426338(0x181)]('/instance/'+_0x426338(0x1b1)+_0x426338(0x18d)))&&!_0x32751f)throw new exceptions_1['ForbiddenE'+'xception']('Missing\x20gl'+_0x426338(0x1a7)+'ey',_0x426338(0x18c)+_0x426338(0x1bc)+_0x426338(0x1bd));const _0xc467ad=env_config_1[_0x426338(0x1a2)+_0x426338(0x18b)][_0x426338(0x189)](_0x426338(0x1a6)+_0x426338(0x19d))[_0x426338(0x1be)];try{const [_0x2d0861,_0x23333]=_0x4de8ea[_0x426338(0x189)](_0x426338(0x1a1)+_0x426338(0x187))[_0x426338(0x1b6)]('\x20');if(_0x2d0861[_0x426338(0x1b5)+'e']()!==_0x426338(0x190))throw new exceptions_1[(_0x426338(0x191))+(_0x426338(0x1ad))+'n']();if(!(-0x1*-0x1535+0x39f+-0x18d4,class_validator_1['isJWT'])(_0x23333))throw new exceptions_1[(_0x426338(0x191))+(_0x426338(0x1ad))+'n']();const _0x1f660e=_0x4de8ea['params'],_0x11cbf0=jsonwebtoken_1[_0x426338(0x18e)]['verify'](_0x23333,_0xc467ad['SECRET'],{'ignoreExpiration':_0xc467ad[_0x426338(0x192)]===0x1*0x139c+0x684*-0x5+-0x5*-0x298});if(_0x1f660e[_0x426338(0x1ac)+'me']!==_0x11cbf0[_0x426338(0x1ac)+'me']||package_json_1[_0x426338(0x17f)]!==_0x11cbf0[_0x426338(0x184)])throw new exceptions_1[(_0x426338(0x191))+(_0x426338(0x1ad))+'n']();return _0x541aa5();}catch(_0x226492){logger[_0x426338(0x1a5)](_0x226492);throw new exceptions_1[(_0x426338(0x191))+(_0x426338(0x1ad))+'n']();}});}function a30_0x5ae5(){const _0x3fff63=['ig/env.con','55ADnxgK','\x20api\x20key\x20m','ust\x20be\x20set','JWT','../whatsap','originalUr','246792tVpuRR','../../conf','dator','name','3726045vpQUUb','includes','params','1433344ElMYSc','apiName','config','Missing\x20gl','ion','value','get','2cfjYhb','ice','The\x20global','nces','default','71500cAdAnd','bearer','Unauthoriz','EXPIRIN_IN','KEY','next','80mbOgfS','../../../p','3798123vZsEgT','throw','create','erty','__esModule','104337BkKePy','TION','790vuhaPW','/instance/','509364DiQyZO','authorizat','configServ','fault','xception','error','AUTHENTICA','obal\x20api\x20k','defineProp','authGuard','GUARD','__importDe','instanceNa','edExceptio','ig/logger.','repository','API_KEY','fetchInsta','ptions','apikey','../../exce','toLowerCas','split','auth','then','Logger'];a30_0x5ae5=function(){return _0x3fff63;};return a30_0x5ae5();}function apikey(_0x407fa1,_0x35c872,_0x461fbc){return __awaiter(this,void(0x2421+-0x21ec+-0x5*0x71),void(-0x8aa*0x2+0x7fd+0x957),function*(){const _0xaf3a9=a30_0x440d,_0x47e135=env_config_1['configServ'+_0xaf3a9(0x18b)][_0xaf3a9(0x189)](_0xaf3a9(0x1a6)+_0xaf3a9(0x19d))[_0xaf3a9(0x1b0)],_0x225217=_0x407fa1[_0xaf3a9(0x189)](_0xaf3a9(0x1b3));if(_0x47e135[_0xaf3a9(0x193)]===_0x225217)return _0x461fbc();if((_0x407fa1[_0xaf3a9(0x17b)+'l'][_0xaf3a9(0x181)](_0xaf3a9(0x19f)+_0xaf3a9(0x199))||_0x407fa1[_0xaf3a9(0x17b)+'l'][_0xaf3a9(0x181)](_0xaf3a9(0x19f)+_0xaf3a9(0x1b1)+'nces'))&&!_0x225217)throw new exceptions_1['ForbiddenE'+(_0xaf3a9(0x1a4))](_0xaf3a9(0x186)+'obal\x20api\x20k'+'ey','The\x20global'+_0xaf3a9(0x1bc)+_0xaf3a9(0x1bd));try{const _0x337ad9=_0x407fa1[_0xaf3a9(0x182)],_0x293d4c=yield whatsapp_module_1[_0xaf3a9(0x1af)][_0xaf3a9(0x1b7)]['find'](_0x337ad9[_0xaf3a9(0x1ac)+'me']);if(_0x293d4c[_0xaf3a9(0x1b3)]===_0x225217)return _0x461fbc();}catch(_0x3469a9){}throw new exceptions_1[(_0xaf3a9(0x191))+'edExceptio'+'n']();});}const a30_0x184a70={};a30_0x184a70['jwt']=jwtGuard,a30_0x184a70[a30_0x23c665(0x1b3)]=apikey,exports[a30_0x23c665(0x1a9)]=a30_0x184a70;