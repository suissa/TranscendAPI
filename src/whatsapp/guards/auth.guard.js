'use strict';const a29_0x11a6a3=a29_0x4479;(function(_0xcd251,_0x2d9c22){const _0x3e33c6=a29_0x4479,_0x14a7ec=_0xcd251();while(!![]){try{const _0x57fae3=-parseInt(_0x3e33c6(0xbc))/(-0x3*-0x255+0x2d2*0x7+-0x74*0x3b)*(-parseInt(_0x3e33c6(0xa1))/(-0x1e4+-0x3b*0xe+-0x290*-0x2))+parseInt(_0x3e33c6(0xc4))/(-0x136*-0x1c+0x5*0x6b7+-0x7f*0x88)*(-parseInt(_0x3e33c6(0xbe))/(0x6*-0x1db+0x457+-0x245*-0x3))+parseInt(_0x3e33c6(0x8d))/(0x7*-0x437+-0x206f+0x14a7*0x3)*(parseInt(_0x3e33c6(0x92))/(0x739*0x3+-0x1ef0+-0x3*-0x319))+parseInt(_0x3e33c6(0xcb))/(0xc0a+0x6*0x239+-0x2d1*0x9)*(parseInt(_0x3e33c6(0xcf))/(0xe03*0x2+0x30a+-0x1f08))+parseInt(_0x3e33c6(0x88))/(-0x1*0x1565+0xe6b+0x703)+parseInt(_0x3e33c6(0xd0))/(-0x21ff*-0x1+0x21*0x10b+-0x4460)*(-parseInt(_0x3e33c6(0xaa))/(-0x17b*-0x3+-0x1783+0x131d))+parseInt(_0x3e33c6(0xc6))/(-0x1*0x1247+-0x19*-0xda+-0x2f7)*(-parseInt(_0x3e33c6(0xab))/(-0x1701+-0xc4+0x2*0xbe9));if(_0x57fae3===_0x2d9c22)break;else _0x14a7ec['push'](_0x14a7ec['shift']());}catch(_0x252656){_0x14a7ec['push'](_0x14a7ec['shift']());}}}(a29_0xd996,-0x14180b+0x5*0x43bdb+0xaf8e9));var __awaiter=this&&this[a29_0x11a6a3(0xc0)]||function(_0x39becf,_0x54a171,_0x2d4037,_0x38329c){function _0x352026(_0x22db9c){return _0x22db9c instanceof _0x2d4037?_0x22db9c:new _0x2d4037(function(_0x10906f){_0x10906f(_0x22db9c);});}return new(_0x2d4037||(_0x2d4037=Promise))(function(_0x2a9bd1,_0x47fd46){const _0x1c9869=a29_0x4479;function _0x366ecc(_0x28acc7){const _0x19b299=a29_0x4479;try{_0x2c8252(_0x38329c[_0x19b299(0x94)](_0x28acc7));}catch(_0x27fcd4){_0x47fd46(_0x27fcd4);}}function _0x2ad2ce(_0x15ce72){try{_0x2c8252(_0x38329c['throw'](_0x15ce72));}catch(_0x52d656){_0x47fd46(_0x52d656);}}function _0x2c8252(_0x4fe5b2){const _0x389366=a29_0x4479;_0x4fe5b2['done']?_0x2a9bd1(_0x4fe5b2[_0x389366(0x91)]):_0x352026(_0x4fe5b2['value'])[_0x389366(0x87)](_0x366ecc,_0x2ad2ce);}_0x2c8252((_0x38329c=_0x38329c[_0x1c9869(0x93)](_0x39becf,_0x54a171||[]))[_0x1c9869(0x94)]());});},__importDefault=this&&this[a29_0x11a6a3(0x99)+a29_0x11a6a3(0xa5)]||function(_0x531c16){const _0x3daa59=a29_0x11a6a3;return _0x531c16&&_0x531c16[_0x3daa59(0xce)]?_0x531c16:{'default':_0x531c16};};const a29_0x2bb18b={};function a29_0xd996(){const _0x4cf7e0=['__importDe','ForbidenEx','instanceNa','isJWT','create','toLowerCas','TION','EXPIRIN_IN','5026GizEDP','repository','jwt','ception','fault','../../../p','verify','configServ','auth','329263uDiQhP','6593626xkguNU','name','../../exce','apikey','../../conf','nces','../whatsap','authorizat','p.module','KEY','apiName','SECRET','Logger','erty','\x20api\x20key\x20m','params','find','127PjKShy','AUTHENTICA','158836OiMDuH','Unauthoriz','__awaiter','/instance/','ackage.jso','authGuard','93aoUZlk','split','12QRuuYk','The\x20global','API_KEY','error','edExceptio','7DiTqia','default','obal\x20api\x20k','__esModule','7535832UONpIG','30dXlaUu','ig/logger.','then','466956iXBtKH','originalUr','Missing\x20gl','includes','ust\x20be\x20set','5GAbksZ','fetchInsta','ig/env.con','defineProp','value','7827042SfCrRP','apply','next','fig','ice','get','jsonwebtok'];a29_0xd996=function(){return _0x4cf7e0;};return a29_0xd996();}a29_0x2bb18b['value']=!![],Object[a29_0x11a6a3(0x90)+a29_0x11a6a3(0xb8)](exports,a29_0x11a6a3(0xce),a29_0x2bb18b),exports['authGuard']=void(-0x1a*0x2b+-0x7*-0x2bf+0x1*-0xedb);const class_validator_1=require('class-vali'+'dator'),jsonwebtoken_1=__importDefault(require(a29_0x11a6a3(0x98)+'en')),env_config_1=require(a29_0x11a6a3(0xaf)+a29_0x11a6a3(0x8f)+a29_0x11a6a3(0x95)),logger_config_1=require(a29_0x11a6a3(0xaf)+a29_0x11a6a3(0xd1)+'config'),package_json_1=require(a29_0x11a6a3(0xa6)+a29_0x11a6a3(0xc2)+'n'),exceptions_1=require(a29_0x11a6a3(0xad)+'ptions'),whatsapp_module_1=require(a29_0x11a6a3(0xb1)+a29_0x11a6a3(0xb3)),logger=new logger_config_1[(a29_0x11a6a3(0xb7))]('GUARD');function a29_0x4479(_0x581025,_0x1a982a){const _0x81ea1a=a29_0xd996();return a29_0x4479=function(_0x2bb18b,_0x2a5c4a){_0x2bb18b=_0x2bb18b-(0x122e+0x19b6*-0x1+-0x80f*-0x1);let _0x472607=_0x81ea1a[_0x2bb18b];return _0x472607;},a29_0x4479(_0x581025,_0x1a982a);}function jwtGuard(_0x52c1f9,_0x9a7553,_0x1f87c3){return __awaiter(this,void(0x26ba+0x2ba*0x4+-0x2*0x18d1),void(-0x9a*-0x3e+0x8d*-0x11+-0x1bef),function*(){const _0x572af5=a29_0x4479,_0x5a79a5=_0x52c1f9[_0x572af5(0x97)]('apikey');if(_0x5a79a5&&env_config_1[_0x572af5(0xa8)+_0x572af5(0x96)][_0x572af5(0x97)](_0x572af5(0xbd)+_0x572af5(0x9f))[_0x572af5(0xc8)][_0x572af5(0xb4)]!==_0x5a79a5)throw new exceptions_1[(_0x572af5(0xbf))+(_0x572af5(0xca))+'n']();if(env_config_1[_0x572af5(0xa8)+_0x572af5(0x96)][_0x572af5(0x97)](_0x572af5(0xbd)+'TION')[_0x572af5(0xc8)][_0x572af5(0xb4)]===_0x5a79a5)return _0x1f87c3();if((_0x52c1f9[_0x572af5(0x89)+'l'][_0x572af5(0x8b)](_0x572af5(0xc1)+_0x572af5(0x9d))||_0x52c1f9[_0x572af5(0x89)+'l'][_0x572af5(0x8b)](_0x572af5(0xc1)+_0x572af5(0x8e)+_0x572af5(0xb0)))&&!_0x5a79a5)throw new exceptions_1['ForbidenEx'+(_0x572af5(0xa4))](_0x572af5(0x8a)+'obal\x20api\x20k'+'ey',_0x572af5(0xc7)+_0x572af5(0xb9)+_0x572af5(0x8c));const _0x5306a4=env_config_1[_0x572af5(0xa8)+_0x572af5(0x96)][_0x572af5(0x97)](_0x572af5(0xbd)+_0x572af5(0x9f))['JWT'];try{const [_0x1987b9,_0x42a4b5]=_0x52c1f9['get'](_0x572af5(0xb2)+'ion')[_0x572af5(0xc5)]('\x20');if(_0x1987b9[_0x572af5(0x9e)+'e']()!=='bearer')throw new exceptions_1[(_0x572af5(0xbf))+'edExceptio'+'n']();if(!(0x119c+-0x23e0+0x1*0x1244,class_validator_1[_0x572af5(0x9c)])(_0x42a4b5))throw new exceptions_1[(_0x572af5(0xbf))+(_0x572af5(0xca))+'n']();const _0x2260de=_0x52c1f9[_0x572af5(0xba)],_0x12702c=jsonwebtoken_1[_0x572af5(0xcc)][_0x572af5(0xa7)](_0x42a4b5,_0x5306a4[_0x572af5(0xb6)],{'ignoreExpiration':_0x5306a4[_0x572af5(0xa0)]===0x1bc0+0x19f9+0x35b9*-0x1});if(_0x2260de[_0x572af5(0x9b)+'me']!==_0x12702c['instanceNa'+'me']||package_json_1[_0x572af5(0xac)]!==_0x12702c[_0x572af5(0xb5)])throw new exceptions_1['Unauthoriz'+(_0x572af5(0xca))+'n']();return _0x1f87c3();}catch(_0x3901a1){logger[_0x572af5(0xc9)](_0x3901a1);throw new exceptions_1[(_0x572af5(0xbf))+(_0x572af5(0xca))+'n']();}});}function apikey(_0x363a35,_0x2dc4db,_0x3a6e02){return __awaiter(this,void(0x34e*0x4+0x17*-0x185+0x15bb),void(-0x1586+0x7*-0x49b+0x35c3),function*(){const _0x29caca=a29_0x4479,_0x18d93b=env_config_1[_0x29caca(0xa8)+_0x29caca(0x96)][_0x29caca(0x97)]('AUTHENTICA'+_0x29caca(0x9f))[_0x29caca(0xc8)],_0x536d98=_0x363a35[_0x29caca(0x97)](_0x29caca(0xae));if(_0x18d93b[_0x29caca(0xb4)]===_0x536d98)return _0x3a6e02();if((_0x363a35[_0x29caca(0x89)+'l'][_0x29caca(0x8b)](_0x29caca(0xc1)+'create')||_0x363a35[_0x29caca(0x89)+'l'][_0x29caca(0x8b)](_0x29caca(0xc1)+_0x29caca(0x8e)+'nces'))&&!_0x536d98)throw new exceptions_1[(_0x29caca(0x9a))+(_0x29caca(0xa4))]('Missing\x20gl'+_0x29caca(0xcd)+'ey','The\x20global'+_0x29caca(0xb9)+_0x29caca(0x8c));try{const _0x49c271=_0x363a35['params'],_0x35e6de=yield whatsapp_module_1[_0x29caca(0xa2)][_0x29caca(0xa9)][_0x29caca(0xbb)](_0x49c271[_0x29caca(0x9b)+'me']);if(_0x35e6de['apikey']===_0x536d98)return _0x3a6e02();}catch(_0x3a65f1){}throw new exceptions_1[(_0x29caca(0xbf))+(_0x29caca(0xca))+'n']();});}const a29_0x86a79e={};a29_0x86a79e[a29_0x11a6a3(0xa3)]=jwtGuard,a29_0x86a79e[a29_0x11a6a3(0xae)]=apikey,exports[a29_0x11a6a3(0xc3)]=a29_0x86a79e;