'use strict';const a29_0x3f5fde=a29_0x1e49;function a29_0x1e49(_0x34a6f6,_0x1cc107){const _0x21fafb=a29_0x5229();return a29_0x1e49=function(_0x49199e,_0x811619){_0x49199e=_0x49199e-(-0x2*-0xd2d+-0x1*-0x10d0+-0x1*0x29a7);let _0x5d8d0d=_0x21fafb[_0x49199e];return _0x5d8d0d;},a29_0x1e49(_0x34a6f6,_0x1cc107);}(function(_0x5e645e,_0x561e0d){const _0x513eb3=a29_0x1e49,_0x37c82f=_0x5e645e();while(!![]){try{const _0x4d9e4d=parseInt(_0x513eb3(0x1af))/(0xb99+-0x1c33+0x109b)+parseInt(_0x513eb3(0x1b1))/(-0xe02+-0x163d+0x1*0x2441)*(-parseInt(_0x513eb3(0x196))/(-0x1*-0x220b+0x132c+-0x3534))+-parseInt(_0x513eb3(0x1b8))/(-0x4*-0x9e+0x25d2+-0x2846)+parseInt(_0x513eb3(0x1be))/(-0x841*0x2+-0x1e6d+-0x964*-0x5)*(parseInt(_0x513eb3(0x1a1))/(0x3*0x4fc+-0x17b1+0x1*0x8c3))+-parseInt(_0x513eb3(0x19f))/(-0x347*0x4+0x2*0xb1d+-0xb3*0xd)+parseInt(_0x513eb3(0x185))/(0xf75+0x1*0x2638+-0x1f*0x1bb)+-parseInt(_0x513eb3(0x19d))/(0x21fa+-0x725+-0x1acc);if(_0x4d9e4d===_0x561e0d)break;else _0x37c82f['push'](_0x37c82f['shift']());}catch(_0x2a0eef){_0x37c82f['push'](_0x37c82f['shift']());}}}(a29_0x5229,0x2291*0x35+-0x1*-0x86e69+-0xaae41));var __awaiter=this&&this[a29_0x3f5fde(0x19b)]||function(_0x3f95ce,_0x30c97c,_0x4100d0,_0x5c3c06){function _0x3f130a(_0x331e6f){return _0x331e6f instanceof _0x4100d0?_0x331e6f:new _0x4100d0(function(_0x54e0fb){_0x54e0fb(_0x331e6f);});}return new(_0x4100d0||(_0x4100d0=Promise))(function(_0x19995f,_0x6e3436){const _0x2d5025=a29_0x1e49;function _0x430a7c(_0x56bd0b){const _0x56498d=a29_0x1e49;try{_0x47e621(_0x5c3c06[_0x56498d(0x192)](_0x56bd0b));}catch(_0x5e822a){_0x6e3436(_0x5e822a);}}function _0x10f42d(_0x3a8423){try{_0x47e621(_0x5c3c06['throw'](_0x3a8423));}catch(_0x6b934d){_0x6e3436(_0x6b934d);}}function _0x47e621(_0x59eba3){const _0x49399d=a29_0x1e49;_0x59eba3[_0x49399d(0x197)]?_0x19995f(_0x59eba3[_0x49399d(0x19c)]):_0x3f130a(_0x59eba3[_0x49399d(0x19c)])[_0x49399d(0x191)](_0x430a7c,_0x10f42d);}_0x47e621((_0x5c3c06=_0x5c3c06['apply'](_0x3f95ce,_0x30c97c||[]))[_0x2d5025(0x192)]());});},__importDefault=this&&this['__importDe'+'fault']||function(_0x14efc8){const _0x79187f=a29_0x3f5fde;return _0x14efc8&&_0x14efc8[_0x79187f(0x1c3)]?_0x14efc8:{'default':_0x14efc8};};const a29_0x21fafb={};a29_0x21fafb['value']=!![],Object[a29_0x3f5fde(0x18b)+a29_0x3f5fde(0x188)](exports,a29_0x3f5fde(0x1c3),a29_0x21fafb),exports[a29_0x3f5fde(0x1c5)]=void(-0x29*-0x82+-0x2076+-0x254*-0x5);const class_validator_1=require('class-vali'+'dator'),jsonwebtoken_1=__importDefault(require(a29_0x3f5fde(0x183)+'en')),env_config_1=require(a29_0x3f5fde(0x189)+a29_0x3f5fde(0x1a2)+a29_0x3f5fde(0x1ac)),logger_config_1=require('../../conf'+a29_0x3f5fde(0x1b5)+a29_0x3f5fde(0x1a9)),package_json_1=require(a29_0x3f5fde(0x1a5)+a29_0x3f5fde(0x19e)+'n'),exceptions_1=require('../../exce'+a29_0x3f5fde(0x186)),whatsapp_module_1=require(a29_0x3f5fde(0x18f)+a29_0x3f5fde(0x184)),logger=new logger_config_1[(a29_0x3f5fde(0x1b6))](a29_0x3f5fde(0x194));function a29_0x5229(){const _0x2df34f=['find','ig/logger.','Logger','error','1215496hTlyfF','includes','Missing\x20gl','JWT','ust\x20be\x20set','ice','10xmMOkI','default','jwt','TION','edExceptio','__esModule','repository','authGuard','AUTHENTICA','jsonwebtok','p.module','2108304ALAIcO','ptions','verify','erty','../../conf','get','defineProp','originalUr','bearer','EXPIRIN_IN','../whatsap','apikey','then','next','configServ','GUARD','auth','70071IqeCSc','done','params','The\x20global','\x20api\x20key\x20m','__awaiter','value','2543922hpoEIU','ackage.jso','376061gcGLiL','obal\x20api\x20k','577428XGyieP','ig/env.con','ForbidenEx','ception','../../../p','instanceNa','toLowerCas','KEY','config','Unauthoriz','fetchInsta','fig','/instance/','name','575893lmlWMj','create','6GZqQSO','SECRET','API_KEY'];a29_0x5229=function(){return _0x2df34f;};return a29_0x5229();}function jwtGuard(_0x15756c,_0x1aeb0c,_0x55214f){return __awaiter(this,void(-0x1*-0x126d+0x668+-0x18d5),void(0x129e*-0x1+0x1*-0xc9f+0x1f3d),function*(){const _0x2e45ef=a29_0x1e49,_0x36cd4f=_0x15756c[_0x2e45ef(0x18a)](_0x2e45ef(0x190));if(_0x36cd4f&&env_config_1[_0x2e45ef(0x193)+_0x2e45ef(0x1bd)][_0x2e45ef(0x18a)](_0x2e45ef(0x1c6)+_0x2e45ef(0x1c1))[_0x2e45ef(0x1b3)][_0x2e45ef(0x1a8)]!==_0x36cd4f)throw new exceptions_1[(_0x2e45ef(0x1aa))+(_0x2e45ef(0x1c2))+'n']();if(env_config_1['configServ'+'ice'][_0x2e45ef(0x18a)](_0x2e45ef(0x1c6)+'TION')[_0x2e45ef(0x1b3)]['KEY']===_0x36cd4f)return _0x55214f();if((_0x15756c[_0x2e45ef(0x18c)+'l'][_0x2e45ef(0x1b9)](_0x2e45ef(0x1ad)+_0x2e45ef(0x1b0))||_0x15756c['originalUr'+'l'][_0x2e45ef(0x1b9)](_0x2e45ef(0x1ad)+_0x2e45ef(0x1ab)+'nces'))&&!_0x36cd4f)throw new exceptions_1['ForbidenEx'+(_0x2e45ef(0x1a4))](_0x2e45ef(0x1ba)+'obal\x20api\x20k'+'ey',_0x2e45ef(0x199)+'\x20api\x20key\x20m'+_0x2e45ef(0x1bc));const _0x6a7e77=env_config_1[_0x2e45ef(0x193)+'ice']['get'](_0x2e45ef(0x1c6)+_0x2e45ef(0x1c1))[_0x2e45ef(0x1bb)];try{const [_0x421f0c,_0x5e5b0d]=_0x15756c[_0x2e45ef(0x18a)]('authorizat'+'ion')['split']('\x20');if(_0x421f0c[_0x2e45ef(0x1a7)+'e']()!==_0x2e45ef(0x18d))throw new exceptions_1[(_0x2e45ef(0x1aa))+(_0x2e45ef(0x1c2))+'n']();if(!(-0x5*0xa7+0x8*-0x287+-0x1*-0x177b,class_validator_1['isJWT'])(_0x5e5b0d))throw new exceptions_1[(_0x2e45ef(0x1aa))+(_0x2e45ef(0x1c2))+'n']();const _0x542ab0=_0x15756c[_0x2e45ef(0x198)],_0x36811d=jsonwebtoken_1[_0x2e45ef(0x1bf)][_0x2e45ef(0x187)](_0x5e5b0d,_0x6a7e77[_0x2e45ef(0x1b2)],{'ignoreExpiration':_0x6a7e77[_0x2e45ef(0x18e)]===0x1a5b+0x26a3+-0xad5*0x6});if(_0x542ab0[_0x2e45ef(0x1a6)+'me']!==_0x36811d['instanceNa'+'me']||package_json_1[_0x2e45ef(0x1ae)]!==_0x36811d['apiName'])throw new exceptions_1[(_0x2e45ef(0x1aa))+(_0x2e45ef(0x1c2))+'n']();return _0x55214f();}catch(_0x87d58e){logger[_0x2e45ef(0x1b7)](_0x87d58e);throw new exceptions_1[(_0x2e45ef(0x1aa))+(_0x2e45ef(0x1c2))+'n']();}});}function apikey(_0x2a3ff6,_0x6e6626,_0x3389db){return __awaiter(this,void(-0x1988+0x1*0x1eb9+-0x531),void(-0x213e+0x9e*-0x34+0x20ab*0x2),function*(){const _0x56efea=a29_0x1e49,_0x3b8119=env_config_1[_0x56efea(0x193)+_0x56efea(0x1bd)][_0x56efea(0x18a)](_0x56efea(0x1c6)+_0x56efea(0x1c1))[_0x56efea(0x1b3)],_0x3ece04=_0x2a3ff6[_0x56efea(0x18a)](_0x56efea(0x190));if(_0x3b8119[_0x56efea(0x1a8)]===_0x3ece04)return _0x3389db();if((_0x2a3ff6[_0x56efea(0x18c)+'l']['includes'](_0x56efea(0x1ad)+'create')||_0x2a3ff6[_0x56efea(0x18c)+'l'][_0x56efea(0x1b9)](_0x56efea(0x1ad)+_0x56efea(0x1ab)+'nces'))&&!_0x3ece04)throw new exceptions_1[(_0x56efea(0x1a3))+(_0x56efea(0x1a4))](_0x56efea(0x1ba)+_0x56efea(0x1a0)+'ey',_0x56efea(0x199)+_0x56efea(0x19a)+_0x56efea(0x1bc));try{const _0x284b7d=_0x2a3ff6[_0x56efea(0x198)],_0x485103=yield whatsapp_module_1[_0x56efea(0x1c4)][_0x56efea(0x195)][_0x56efea(0x1b4)](_0x284b7d[_0x56efea(0x1a6)+'me']);if(_0x485103[_0x56efea(0x190)]===_0x3ece04)return _0x3389db();}catch(_0x1e4179){}throw new exceptions_1[(_0x56efea(0x1aa))+'edExceptio'+'n']();});}const a29_0x15c974={};a29_0x15c974[a29_0x3f5fde(0x1c0)]=jwtGuard,a29_0x15c974['apikey']=apikey,exports[a29_0x3f5fde(0x1c5)]=a29_0x15c974;