'use strict';const a30_0xa074b2=a30_0x4bdb;(function(_0x11d477,_0x3b60a5){const _0x34decf=a30_0x4bdb,_0x100d06=_0x11d477();while(!![]){try{const _0x58191f=-parseInt(_0x34decf(0x1c2))/(0xb*0x8d+-0x5*0x167+-0x23*-0x7)*(parseInt(_0x34decf(0x1cb))/(-0x2f*-0x29+0x251c+-0x1c9*0x19))+parseInt(_0x34decf(0x1a3))/(0x163+-0x3*0x4be+0xcda)*(parseInt(_0x34decf(0x1c1))/(-0x7e9+-0x1ceb+-0x12*-0x20c))+-parseInt(_0x34decf(0x1ab))/(-0x1776+-0x2243+-0x2*-0x1cdf)+-parseInt(_0x34decf(0x1ae))/(-0xb29*-0x1+-0x1667+0xb44)*(-parseInt(_0x34decf(0x1a7))/(-0x2*0x262+0x466+0x65))+-parseInt(_0x34decf(0x1d9))/(0x407+0x1*0x253f+-0x293e)*(-parseInt(_0x34decf(0x199))/(-0xa93*-0x3+0x935+0x1d*-0x169))+-parseInt(_0x34decf(0x1df))/(-0x1*-0xb17+-0x49+0x1a*-0x6a)*(parseInt(_0x34decf(0x1b2))/(0x2*0xea8+-0x2*-0xe15+-0x396f))+-parseInt(_0x34decf(0x1c5))/(0x25c6+0x1*0x629+-0x2be3)*(-parseInt(_0x34decf(0x1a2))/(-0x913+-0xd3*0x23+-0x25f9*-0x1));if(_0x58191f===_0x3b60a5)break;else _0x100d06['push'](_0x100d06['shift']());}catch(_0x317943){_0x100d06['push'](_0x100d06['shift']());}}}(a30_0x31e8,0xa*-0x7ca5+0x37cf2+0x473af));var __awaiter=this&&this['__awaiter']||function(_0x267947,_0x4fc370,_0x20bc56,_0x65584a){function _0x3fcdad(_0x5750c3){return _0x5750c3 instanceof _0x20bc56?_0x5750c3:new _0x20bc56(function(_0x4f8735){_0x4f8735(_0x5750c3);});}return new(_0x20bc56||(_0x20bc56=Promise))(function(_0x4509b7,_0x39201a){const _0x237220=a30_0x4bdb;function _0x493899(_0x2713f4){try{_0x25b023(_0x65584a['next'](_0x2713f4));}catch(_0x4b544c){_0x39201a(_0x4b544c);}}function _0x2f987d(_0x2c7867){try{_0x25b023(_0x65584a['throw'](_0x2c7867));}catch(_0x2c9f6a){_0x39201a(_0x2c9f6a);}}function _0x25b023(_0x5097b4){const _0x4f7d5b=a30_0x4bdb;_0x5097b4[_0x4f7d5b(0x1c8)]?_0x4509b7(_0x5097b4['value']):_0x3fcdad(_0x5097b4[_0x4f7d5b(0x1d8)])[_0x4f7d5b(0x1d2)](_0x493899,_0x2f987d);}_0x25b023((_0x65584a=_0x65584a[_0x237220(0x1b1)](_0x267947,_0x4fc370||[]))[_0x237220(0x1bf)]());});},__importDefault=this&&this[a30_0xa074b2(0x1d6)+a30_0xa074b2(0x1be)]||function(_0x689885){const _0x478e87=a30_0xa074b2;return _0x689885&&_0x689885[_0x478e87(0x197)]?_0x689885:{'default':_0x689885};};const a30_0x51e23b={};a30_0x51e23b[a30_0xa074b2(0x1d8)]=!![],Object[a30_0xa074b2(0x1ac)+'erty'](exports,'__esModule',a30_0x51e23b),exports[a30_0xa074b2(0x1b9)]=void(-0x5e*-0x11+-0xdeb+0x7ad);const class_validator_1=require(a30_0xa074b2(0x1bd)+a30_0xa074b2(0x1ba)),jsonwebtoken_1=__importDefault(require(a30_0xa074b2(0x1b8)+'en')),env_config_1=require(a30_0xa074b2(0x1dd)+a30_0xa074b2(0x1b6)+'fig'),logger_config_1=require(a30_0xa074b2(0x1dd)+a30_0xa074b2(0x1c4)+a30_0xa074b2(0x1bc)),package_json_1=require(a30_0xa074b2(0x1b4)+'ackage.jso'+'n'),exceptions_1=require('../../exce'+a30_0xa074b2(0x1c7)),whatsapp_module_1=require(a30_0xa074b2(0x1a8)+'p.module'),logger=new logger_config_1[(a30_0xa074b2(0x1b7))](a30_0xa074b2(0x1c0));function a30_0x4bdb(_0x4df57e,_0x19981c){const _0x2c6c9d=a30_0x31e8();return a30_0x4bdb=function(_0x51e23b,_0x374eb2){_0x51e23b=_0x51e23b-(0xac*-0x35+-0x86a+-0x2d9d*-0x1);let _0x1eb36e=_0x2c6c9d[_0x51e23b];return _0x1eb36e;},a30_0x4bdb(_0x4df57e,_0x19981c);}function a30_0x31e8(){const _0xb8a9e6=['8dOqvYk','nces','apiName','AUTHENTICA','../../conf','TION','295780umEGfh','__esModule','configServ','2028528bDytcF','JWT','xception','Unauthoriz','params','obal\x20api\x20k','split','includes','EXPIRIN_IN','578019KTvyTJ','453741twSfxN','\x20api\x20key\x20m','jwt','apikey','1023890WhPeKp','../whatsap','get','create','318380pfbYen','defineProp','error','6lAbXJz','isJWT','edExceptio','apply','77yNuOAY','ForbiddenE','../../../p','SECRET','ig/env.con','Logger','jsonwebtok','authGuard','dator','KEY','config','class-vali','fault','next','GUARD','4uymVrP','273239dvVwdm','originalUr','ig/logger.','60qsMMoH','Missing\x20gl','ptions','done','toLowerCas','ion','2aZKEuS','authorizat','bearer','fetchInsta','/instance/','ust\x20be\x20set','default','then','repository','ice','The\x20global','__importDe','find','value'];a30_0x31e8=function(){return _0xb8a9e6;};return a30_0x31e8();}function jwtGuard(_0x190c47,_0x460839,_0x39552a){return __awaiter(this,void(-0x9*-0x4f+0x1b82+-0x1e49),void(0xd04+0x3*0xadf+-0x1*0x2da1),function*(){const _0x4a3e2e=a30_0x4bdb,_0x398047=_0x190c47[_0x4a3e2e(0x1a9)]('apikey');if(_0x398047&&env_config_1['configServ'+_0x4a3e2e(0x1d4)][_0x4a3e2e(0x1a9)](_0x4a3e2e(0x1dc)+_0x4a3e2e(0x1de))['API_KEY']['KEY']!==_0x398047)throw new exceptions_1[(_0x4a3e2e(0x19c))+'edExceptio'+'n']();if(env_config_1[_0x4a3e2e(0x198)+_0x4a3e2e(0x1d4)][_0x4a3e2e(0x1a9)](_0x4a3e2e(0x1dc)+'TION')['API_KEY'][_0x4a3e2e(0x1bb)]===_0x398047)return _0x39552a();if((_0x190c47[_0x4a3e2e(0x1c3)+'l']['includes'](_0x4a3e2e(0x1cf)+_0x4a3e2e(0x1aa))||_0x190c47['originalUr'+'l'][_0x4a3e2e(0x1a0)]('/instance/'+_0x4a3e2e(0x1ce)+_0x4a3e2e(0x1da)))&&!_0x398047)throw new exceptions_1[(_0x4a3e2e(0x1b3))+(_0x4a3e2e(0x19b))](_0x4a3e2e(0x1c6)+_0x4a3e2e(0x19e)+'ey',_0x4a3e2e(0x1d5)+'\x20api\x20key\x20m'+_0x4a3e2e(0x1d0));const _0x5e3d67=env_config_1[_0x4a3e2e(0x198)+_0x4a3e2e(0x1d4)][_0x4a3e2e(0x1a9)](_0x4a3e2e(0x1dc)+_0x4a3e2e(0x1de))[_0x4a3e2e(0x19a)];try{const [_0x1d8ff6,_0xf1640d]=_0x190c47[_0x4a3e2e(0x1a9)](_0x4a3e2e(0x1cc)+_0x4a3e2e(0x1ca))[_0x4a3e2e(0x19f)]('\x20');if(_0x1d8ff6[_0x4a3e2e(0x1c9)+'e']()!==_0x4a3e2e(0x1cd))throw new exceptions_1[(_0x4a3e2e(0x19c))+(_0x4a3e2e(0x1b0))+'n']();if(!(0x189d*-0x1+0xd*-0x54+-0x1ce1*-0x1,class_validator_1[_0x4a3e2e(0x1af)])(_0xf1640d))throw new exceptions_1['Unauthoriz'+'edExceptio'+'n']();const _0xf95a0e=_0x190c47[_0x4a3e2e(0x19d)],_0xbc00a=jsonwebtoken_1[_0x4a3e2e(0x1d1)]['verify'](_0xf1640d,_0x5e3d67[_0x4a3e2e(0x1b5)],{'ignoreExpiration':_0x5e3d67[_0x4a3e2e(0x1a1)]===0x8cc*-0x2+0x197f*0x1+-0x7e7});if(_0xf95a0e['instanceNa'+'me']!==_0xbc00a['instanceNa'+'me']||package_json_1['name']!==_0xbc00a[_0x4a3e2e(0x1db)])throw new exceptions_1[(_0x4a3e2e(0x19c))+(_0x4a3e2e(0x1b0))+'n']();return _0x39552a();}catch(_0x14f18f){logger[_0x4a3e2e(0x1ad)](_0x14f18f);throw new exceptions_1[(_0x4a3e2e(0x19c))+(_0x4a3e2e(0x1b0))+'n']();}});}function apikey(_0x31ccb4,_0x5550fc,_0x4ce15b){return __awaiter(this,void(-0x136+0x92a+0x2*-0x3fa),void(0xfe8*0x2+0x197d+-0x394d),function*(){const _0x56af28=a30_0x4bdb,_0x537ab8=env_config_1[_0x56af28(0x198)+'ice'][_0x56af28(0x1a9)](_0x56af28(0x1dc)+_0x56af28(0x1de))['API_KEY'],_0x1f6649=_0x31ccb4[_0x56af28(0x1a9)]('apikey');if(_0x537ab8['KEY']===_0x1f6649)return _0x4ce15b();if((_0x31ccb4[_0x56af28(0x1c3)+'l'][_0x56af28(0x1a0)](_0x56af28(0x1cf)+_0x56af28(0x1aa))||_0x31ccb4[_0x56af28(0x1c3)+'l']['includes'](_0x56af28(0x1cf)+_0x56af28(0x1ce)+'nces'))&&!_0x1f6649)throw new exceptions_1[(_0x56af28(0x1b3))+(_0x56af28(0x19b))](_0x56af28(0x1c6)+_0x56af28(0x19e)+'ey','The\x20global'+_0x56af28(0x1a4)+'ust\x20be\x20set');try{const _0x35d938=_0x31ccb4[_0x56af28(0x19d)],_0x21b7e2=yield whatsapp_module_1[_0x56af28(0x1d3)]['auth'][_0x56af28(0x1d7)](_0x35d938['instanceNa'+'me']);if(_0x21b7e2[_0x56af28(0x1a6)]===_0x1f6649)return _0x4ce15b();}catch(_0x1cfa2e){}throw new exceptions_1[(_0x56af28(0x19c))+(_0x56af28(0x1b0))+'n']();});}const a30_0x2f065d={};a30_0x2f065d[a30_0xa074b2(0x1a5)]=jwtGuard,a30_0x2f065d[a30_0xa074b2(0x1a6)]=apikey,exports['authGuard']=a30_0x2f065d;