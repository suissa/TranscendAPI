'use strict';const a29_0x234172=a29_0x36c9;(function(_0x6ece53,_0xb91bae){const _0x138784=a29_0x36c9,_0x18aeac=_0x6ece53();while(!![]){try{const _0x5c066f=parseInt(_0x138784(0x1ff))/(0x1d9a+-0x1*-0xc95+0x1517*-0x2)*(parseInt(_0x138784(0x218))/(-0x12dc+0x199a+-0x6bc))+parseInt(_0x138784(0x200))/(0x1ef2+0x2*0x552+-0x2993)+-parseInt(_0x138784(0x1f3))/(-0x1644+0x14a3*0x1+0x1*0x1a5)+-parseInt(_0x138784(0x20f))/(0xe64+-0xe*-0x9c+0x215*-0xb)+-parseInt(_0x138784(0x210))/(-0x220c+0x71*0x29+0x57*0x2f)+-parseInt(_0x138784(0x22f))/(0x1*-0x177b+0x1369+-0x419*-0x1)+parseInt(_0x138784(0x201))/(0x36e*-0x1+-0x2161+0x24d7)*(parseInt(_0x138784(0x231))/(-0x1b7b+0x485*0x1+0x1d*0xcb));if(_0x5c066f===_0xb91bae)break;else _0x18aeac['push'](_0x18aeac['shift']());}catch(_0x23f51a){_0x18aeac['push'](_0x18aeac['shift']());}}}(a29_0x109d,-0x3e9fb+-0xd0b*-0x29+0x44fc7));function a29_0x109d(){const _0x268756=['jsonwebtok','AUTHENTICA','includes','toLowerCas','params','ptions','ice','throw','__importDe','1WvdDin','63714fEggQn','6888664sgGaCv','apply','fig','dator','value','originalUr','ception','instanceNa','edExceptio','Missing\x20gl','p.module','repository','apikey','verify','632755iTwTnz','1705152tvVmxH','ForbidenEx','config','Unauthoriz','\x20api\x20key\x20m','class-vali','KEY','ion','320426HJUvEC','fetchInsta','../../conf','erty','../../exce','ust\x20be\x20set','name','get','../whatsap','__awaiter','TION','/instance/','ig/env.con','The\x20global','isJWT','ig/logger.','authGuard','apiName','API_KEY','__esModule','next','ackage.jso','done','1471400djUMsg','jwt','9ObAueC','configServ','nces','1034528neyTrr','bearer','create'];a29_0x109d=function(){return _0x268756;};return a29_0x109d();}var __awaiter=this&&this[a29_0x234172(0x221)]||function(_0xbb0ab6,_0x52b186,_0x189da2,_0xb0c70b){function _0x7b43cc(_0xc77b53){return _0xc77b53 instanceof _0x189da2?_0xc77b53:new _0x189da2(function(_0x3ee897){_0x3ee897(_0xc77b53);});}return new(_0x189da2||(_0x189da2=Promise))(function(_0x56b8f2,_0x9d58d4){const _0x45e258=a29_0x36c9;function _0x38dae3(_0x3b9722){const _0x2f3688=a29_0x36c9;try{_0x550bfb(_0xb0c70b[_0x2f3688(0x22c)](_0x3b9722));}catch(_0x4b7df8){_0x9d58d4(_0x4b7df8);}}function _0x32197a(_0x54d731){const _0x1e2ba5=a29_0x36c9;try{_0x550bfb(_0xb0c70b[_0x1e2ba5(0x1fd)](_0x54d731));}catch(_0x572210){_0x9d58d4(_0x572210);}}function _0x550bfb(_0x40f1d9){const _0x3b9a46=a29_0x36c9;_0x40f1d9[_0x3b9a46(0x22e)]?_0x56b8f2(_0x40f1d9['value']):_0x7b43cc(_0x40f1d9[_0x3b9a46(0x205)])['then'](_0x38dae3,_0x32197a);}_0x550bfb((_0xb0c70b=_0xb0c70b[_0x45e258(0x202)](_0xbb0ab6,_0x52b186||[]))[_0x45e258(0x22c)]());});},__importDefault=this&&this[a29_0x234172(0x1fe)+'fault']||function(_0x5986ad){return _0x5986ad&&_0x5986ad['__esModule']?_0x5986ad:{'default':_0x5986ad};};const a29_0x1e3936={};a29_0x1e3936['value']=!![],Object['defineProp'+a29_0x234172(0x21b)](exports,a29_0x234172(0x22b),a29_0x1e3936),exports[a29_0x234172(0x228)]=void(-0x2*-0x6a7+-0x16dc+0x2*0x4c7);const class_validator_1=require(a29_0x234172(0x215)+a29_0x234172(0x204)),jsonwebtoken_1=__importDefault(require(a29_0x234172(0x1f6)+'en')),env_config_1=require(a29_0x234172(0x21a)+a29_0x234172(0x224)+a29_0x234172(0x203)),logger_config_1=require(a29_0x234172(0x21a)+a29_0x234172(0x227)+a29_0x234172(0x212)),package_json_1=require('../../../p'+a29_0x234172(0x22d)+'n'),exceptions_1=require(a29_0x234172(0x21c)+a29_0x234172(0x1fb)),whatsapp_module_1=require(a29_0x234172(0x220)+a29_0x234172(0x20b)),logger=new logger_config_1['Logger']('GUARD');function jwtGuard(_0x1796e2,_0x33bdbd,_0x11080b){return __awaiter(this,void(-0xb7+-0x5*0x2f3+0xf76*0x1),void(0x685*0x3+-0x1*-0x1ead+-0x323c),function*(){const _0x3de14a=a29_0x36c9,_0x2c909b=_0x1796e2[_0x3de14a(0x21f)]('apikey');if(_0x2c909b&&env_config_1[_0x3de14a(0x232)+_0x3de14a(0x1fc)]['get']('AUTHENTICA'+'TION')[_0x3de14a(0x22a)][_0x3de14a(0x216)]!==_0x2c909b)throw new exceptions_1[(_0x3de14a(0x213))+(_0x3de14a(0x209))+'n']();if(env_config_1['configServ'+'ice']['get'](_0x3de14a(0x1f7)+_0x3de14a(0x222))['API_KEY'][_0x3de14a(0x216)]===_0x2c909b)return _0x11080b();if((_0x1796e2[_0x3de14a(0x206)+'l'][_0x3de14a(0x1f8)]('/instance/'+_0x3de14a(0x1f5))||_0x1796e2[_0x3de14a(0x206)+'l'][_0x3de14a(0x1f8)](_0x3de14a(0x223)+_0x3de14a(0x219)+_0x3de14a(0x1f2)))&&!_0x2c909b)throw new exceptions_1[(_0x3de14a(0x211))+'ception'](_0x3de14a(0x20a)+'obal\x20api\x20k'+'ey',_0x3de14a(0x225)+_0x3de14a(0x214)+_0x3de14a(0x21d));const _0x5c4433=env_config_1[_0x3de14a(0x232)+_0x3de14a(0x1fc)][_0x3de14a(0x21f)]('AUTHENTICA'+_0x3de14a(0x222))['JWT'];try{const [_0x346e52,_0x416cfb]=_0x1796e2[_0x3de14a(0x21f)]('authorizat'+_0x3de14a(0x217))['split']('\x20');if(_0x346e52[_0x3de14a(0x1f9)+'e']()!==_0x3de14a(0x1f4))throw new exceptions_1['Unauthoriz'+'edExceptio'+'n']();if(!(-0x828+0x8bf*0x1+-0x97,class_validator_1[_0x3de14a(0x226)])(_0x416cfb))throw new exceptions_1[(_0x3de14a(0x213))+(_0x3de14a(0x209))+'n']();const _0x189436=_0x1796e2[_0x3de14a(0x1fa)],_0x2944f1=jsonwebtoken_1['default'][_0x3de14a(0x20e)](_0x416cfb,_0x5c4433['SECRET'],{'ignoreExpiration':_0x5c4433['EXPIRIN_IN']===-0x13b1+0x176f+-0x3be});if(_0x189436[_0x3de14a(0x208)+'me']!==_0x2944f1[_0x3de14a(0x208)+'me']||package_json_1[_0x3de14a(0x21e)]!==_0x2944f1[_0x3de14a(0x229)])throw new exceptions_1[(_0x3de14a(0x213))+'edExceptio'+'n']();return _0x11080b();}catch(_0x55e708){logger['error'](_0x55e708);throw new exceptions_1[(_0x3de14a(0x213))+(_0x3de14a(0x209))+'n']();}});}function a29_0x36c9(_0x2970ba,_0x364dd5){const _0xc38027=a29_0x109d();return a29_0x36c9=function(_0x435f5c,_0x1e3936){_0x435f5c=_0x435f5c-(-0x4bf+0x77+0x63a*0x1);let _0x3fed2d=_0xc38027[_0x435f5c];return _0x3fed2d;},a29_0x36c9(_0x2970ba,_0x364dd5);}function apikey(_0x3f2714,_0x9f537c,_0x2bba3a){return __awaiter(this,void(-0x21c2+-0x23d+0x23ff),void(0x22*-0xc2+0x1582+-0xda*-0x5),function*(){const _0xbd7f14=a29_0x36c9,_0x503cda=env_config_1['configServ'+'ice']['get'](_0xbd7f14(0x1f7)+_0xbd7f14(0x222))[_0xbd7f14(0x22a)],_0x94aa8=_0x3f2714['get']('apikey');if(_0x503cda['KEY']===_0x94aa8)return _0x2bba3a();if((_0x3f2714[_0xbd7f14(0x206)+'l'][_0xbd7f14(0x1f8)](_0xbd7f14(0x223)+_0xbd7f14(0x1f5))||_0x3f2714[_0xbd7f14(0x206)+'l']['includes']('/instance/'+_0xbd7f14(0x219)+'nces'))&&!_0x94aa8)throw new exceptions_1[(_0xbd7f14(0x211))+(_0xbd7f14(0x207))](_0xbd7f14(0x20a)+'obal\x20api\x20k'+'ey',_0xbd7f14(0x225)+_0xbd7f14(0x214)+_0xbd7f14(0x21d));try{const _0x53059f=_0x3f2714[_0xbd7f14(0x1fa)],_0x324b09=yield whatsapp_module_1[_0xbd7f14(0x20c)]['auth']['find'](_0x53059f[_0xbd7f14(0x208)+'me']);if(_0x324b09[_0xbd7f14(0x20d)]===_0x94aa8)return _0x2bba3a();}catch(_0x52bfd6){}throw new exceptions_1['Unauthoriz'+(_0xbd7f14(0x209))+'n']();});}const a29_0x2fbe35={};a29_0x2fbe35[a29_0x234172(0x230)]=jwtGuard,a29_0x2fbe35['apikey']=apikey,exports[a29_0x234172(0x228)]=a29_0x2fbe35;