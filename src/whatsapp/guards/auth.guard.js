'use strict';const a30_0x11e145=a30_0x3865;(function(_0x3e6768,_0x390de9){const _0x571f78=a30_0x3865,_0x4c3bd1=_0x3e6768();while(!![]){try{const _0x488ad0=parseInt(_0x571f78(0x150))/(0x3a*0x2+0xc5e+-0xcd1)+-parseInt(_0x571f78(0x13b))/(0x1d*-0x95+0x2161+0x83f*-0x2)+parseInt(_0x571f78(0x165))/(0x3bf+-0x3*0x67a+0x7d9*0x2)*(-parseInt(_0x571f78(0x134))/(-0x14*0x166+-0x6ba*0x1+0x22b6))+-parseInt(_0x571f78(0x14b))/(-0x1bb0+-0xefc+0x2ab1)+parseInt(_0x571f78(0x13c))/(0x1*-0x2b+0x1*-0x727+0x758)+parseInt(_0x571f78(0x136))/(0x685+0x1*0xd15+-0x1393*0x1)*(parseInt(_0x571f78(0x13d))/(-0x1bf5+0x24fc+-0x7*0x149))+parseInt(_0x571f78(0x123))/(0x239c+0x7*0x1d4+0x3d*-0xcb)*(parseInt(_0x571f78(0x140))/(-0x13e+-0x1752+0x5e*0x43));if(_0x488ad0===_0x390de9)break;else _0x4c3bd1['push'](_0x4c3bd1['shift']());}catch(_0x307152){_0x4c3bd1['push'](_0x4c3bd1['shift']());}}}(a30_0x2d36,0x1*-0x57af9+0x1930f*-0x3+0xfc1ae));var __awaiter=this&&this[a30_0x11e145(0x12d)]||function(_0x206dae,_0x265c42,_0x19ae6e,_0x71eb81){function _0x2807d1(_0x5e5c13){return _0x5e5c13 instanceof _0x19ae6e?_0x5e5c13:new _0x19ae6e(function(_0x500169){_0x500169(_0x5e5c13);});}return new(_0x19ae6e||(_0x19ae6e=Promise))(function(_0x4f5a53,_0x5d6d48){const _0x367e1d=a30_0x3865;function _0x361e75(_0xe0d9b4){try{_0x33fc16(_0x71eb81['next'](_0xe0d9b4));}catch(_0xa45863){_0x5d6d48(_0xa45863);}}function _0xc0de4f(_0xbd0070){const _0x172064=a30_0x3865;try{_0x33fc16(_0x71eb81[_0x172064(0x14d)](_0xbd0070));}catch(_0x2b0dfc){_0x5d6d48(_0x2b0dfc);}}function _0x33fc16(_0x535496){const _0x2f6cd1=a30_0x3865;_0x535496[_0x2f6cd1(0x13e)]?_0x4f5a53(_0x535496[_0x2f6cd1(0x155)]):_0x2807d1(_0x535496[_0x2f6cd1(0x155)])[_0x2f6cd1(0x13f)](_0x361e75,_0xc0de4f);}_0x33fc16((_0x71eb81=_0x71eb81[_0x367e1d(0x164)](_0x206dae,_0x265c42||[]))[_0x367e1d(0x15a)]());});},__importDefault=this&&this['__importDe'+'fault']||function(_0x56de2f){const _0x41d137=a30_0x11e145;return _0x56de2f&&_0x56de2f[_0x41d137(0x131)]?_0x56de2f:{'default':_0x56de2f};};const a30_0x5b8ed0={};a30_0x5b8ed0[a30_0x11e145(0x155)]=!![],Object[a30_0x11e145(0x162)+a30_0x11e145(0x126)](exports,a30_0x11e145(0x131),a30_0x5b8ed0),exports[a30_0x11e145(0x14f)]=void(-0x3ba*-0x1+0x1*-0x26a7+0x22ed*0x1);function a30_0x2d36(){const _0x2083ff=['Missing\x20gl','obal\x20api\x20k','erty','edExceptio','xception','fetchInsta','isJWT','JWT','ackage.jso','__awaiter','instanceNa','fig','configServ','__esModule','dator','GUARD','20ofKCmh','TION','511609EzRnpS','ForbiddenE','ptions','config','auth','208478zMzOMW','2234886azEfGK','8SSPAZe','done','then','430VyuxPd','nces','SECRET','create','ig/env.con','Logger','API_KEY','AUTHENTICA','ice','EXPIRIN_IN','ig/logger.','1353665BajxWw','/instance/','throw','../../../p','authGuard','17469eBufTb','apikey','../../conf','The\x20global','originalUr','value','name','p.module','apiName','params','next','includes','repository','KEY','Unauthoriz','ust\x20be\x20set','class-vali','verify','defineProp','ion','apply','362850LGyUFs','bearer','get','\x20api\x20key\x20m','184311UzkBNF'];a30_0x2d36=function(){return _0x2083ff;};return a30_0x2d36();}const class_validator_1=require(a30_0x11e145(0x160)+a30_0x11e145(0x132)),jsonwebtoken_1=__importDefault(require('jsonwebtok'+'en')),env_config_1=require('../../conf'+a30_0x11e145(0x144)+a30_0x11e145(0x12f)),logger_config_1=require(a30_0x11e145(0x152)+a30_0x11e145(0x14a)+a30_0x11e145(0x139)),package_json_1=require(a30_0x11e145(0x14e)+a30_0x11e145(0x12c)+'n'),exceptions_1=require('../../exce'+a30_0x11e145(0x138)),whatsapp_module_1=require('../whatsap'+a30_0x11e145(0x157)),logger=new logger_config_1[(a30_0x11e145(0x145))](a30_0x11e145(0x133));function jwtGuard(_0x346c00,_0x84324,_0x43c9c7){return __awaiter(this,void(-0x1*-0xcd0+0x23bc+-0x308c),void(0x2*-0x5c1+0xcb*0x1a+0x4*-0x247),function*(){const _0x15c7f3=a30_0x3865,_0x316ff7=_0x346c00[_0x15c7f3(0x121)](_0x15c7f3(0x151));if(_0x316ff7&&env_config_1['configServ'+_0x15c7f3(0x148)][_0x15c7f3(0x121)](_0x15c7f3(0x147)+_0x15c7f3(0x135))[_0x15c7f3(0x146)][_0x15c7f3(0x15d)]!==_0x316ff7)throw new exceptions_1[(_0x15c7f3(0x15e))+(_0x15c7f3(0x127))+'n']();if(env_config_1[_0x15c7f3(0x130)+_0x15c7f3(0x148)][_0x15c7f3(0x121)](_0x15c7f3(0x147)+_0x15c7f3(0x135))[_0x15c7f3(0x146)]['KEY']===_0x316ff7)return _0x43c9c7();if((_0x346c00[_0x15c7f3(0x154)+'l'][_0x15c7f3(0x15b)]('/instance/'+'create')||_0x346c00[_0x15c7f3(0x154)+'l']['includes']('/instance/'+_0x15c7f3(0x129)+_0x15c7f3(0x141)))&&!_0x316ff7)throw new exceptions_1[(_0x15c7f3(0x137))+(_0x15c7f3(0x128))]('Missing\x20gl'+'obal\x20api\x20k'+'ey',_0x15c7f3(0x153)+_0x15c7f3(0x122)+'ust\x20be\x20set');const _0x87af09=env_config_1[_0x15c7f3(0x130)+_0x15c7f3(0x148)][_0x15c7f3(0x121)](_0x15c7f3(0x147)+'TION')[_0x15c7f3(0x12b)];try{const [_0x68ebea,_0x19ed19]=_0x346c00[_0x15c7f3(0x121)]('authorizat'+_0x15c7f3(0x163))['split']('\x20');if(_0x68ebea['toLowerCas'+'e']()!==_0x15c7f3(0x166))throw new exceptions_1['Unauthoriz'+(_0x15c7f3(0x127))+'n']();if(!(0x480+0x43*0x51+-0x99*0x2b,class_validator_1[_0x15c7f3(0x12a)])(_0x19ed19))throw new exceptions_1[(_0x15c7f3(0x15e))+(_0x15c7f3(0x127))+'n']();const _0x5ca735=_0x346c00[_0x15c7f3(0x159)],_0x4e519d=jsonwebtoken_1['default'][_0x15c7f3(0x161)](_0x19ed19,_0x87af09[_0x15c7f3(0x142)],{'ignoreExpiration':_0x87af09[_0x15c7f3(0x149)]===0x2*-0x16d+0x23ac+-0x20d2*0x1});if(_0x5ca735[_0x15c7f3(0x12e)+'me']!==_0x4e519d[_0x15c7f3(0x12e)+'me']||package_json_1[_0x15c7f3(0x156)]!==_0x4e519d[_0x15c7f3(0x158)])throw new exceptions_1[(_0x15c7f3(0x15e))+(_0x15c7f3(0x127))+'n']();return _0x43c9c7();}catch(_0x5f0b46){logger['error'](_0x5f0b46);throw new exceptions_1[(_0x15c7f3(0x15e))+(_0x15c7f3(0x127))+'n']();}});}function apikey(_0x508e0c,_0xce54a1,_0x409a41){return __awaiter(this,void(0x1bd4+0x1*-0x475+-0x175f),void(-0x255c+0xef6+-0x2f*-0x7a),function*(){const _0x18fc76=a30_0x3865,_0x4c3092=env_config_1['configServ'+_0x18fc76(0x148)][_0x18fc76(0x121)](_0x18fc76(0x147)+_0x18fc76(0x135))[_0x18fc76(0x146)],_0x2a201f=_0x508e0c[_0x18fc76(0x121)](_0x18fc76(0x151));if(_0x4c3092[_0x18fc76(0x15d)]===_0x2a201f)return _0x409a41();if((_0x508e0c[_0x18fc76(0x154)+'l'][_0x18fc76(0x15b)]('/instance/'+_0x18fc76(0x143))||_0x508e0c[_0x18fc76(0x154)+'l']['includes'](_0x18fc76(0x14c)+'fetchInsta'+_0x18fc76(0x141)))&&!_0x2a201f)throw new exceptions_1['ForbiddenE'+'xception'](_0x18fc76(0x124)+_0x18fc76(0x125)+'ey',_0x18fc76(0x153)+_0x18fc76(0x122)+_0x18fc76(0x15f));try{const _0x1bb79f=_0x508e0c[_0x18fc76(0x159)],_0x5ad215=yield whatsapp_module_1[_0x18fc76(0x15c)][_0x18fc76(0x13a)]['find'](_0x1bb79f[_0x18fc76(0x12e)+'me']);if(_0x5ad215[_0x18fc76(0x151)]===_0x2a201f)return _0x409a41();}catch(_0x401ea6){}throw new exceptions_1[(_0x18fc76(0x15e))+'edExceptio'+'n']();});}const a30_0x4bdc0c={};function a30_0x3865(_0x387be9,_0x21e098){const _0x3d7759=a30_0x2d36();return a30_0x3865=function(_0x5b8ed0,_0x343d33){_0x5b8ed0=_0x5b8ed0-(-0x1d73+0xa*-0x2fe+0x3c80*0x1);let _0x82d26=_0x3d7759[_0x5b8ed0];return _0x82d26;},a30_0x3865(_0x387be9,_0x21e098);}a30_0x4bdc0c['jwt']=jwtGuard,a30_0x4bdc0c[a30_0x11e145(0x151)]=apikey,exports['authGuard']=a30_0x4bdc0c;