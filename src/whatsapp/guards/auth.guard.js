'use strict';const a29_0x3a5ebd=a29_0x5984;function a29_0x5984(_0x5ec281,_0x5ac78d){const _0x546535=a29_0x5a27();return a29_0x5984=function(_0x17a518,_0x3e09ac){_0x17a518=_0x17a518-(0xc4*-0x2+0x1add+-0x18d3);let _0x2027e4=_0x546535[_0x17a518];return _0x2027e4;},a29_0x5984(_0x5ec281,_0x5ac78d);}(function(_0x3f9d7a,_0x152385){const _0x269992=a29_0x5984,_0x25321b=_0x3f9d7a();while(!![]){try{const _0x5c356b=parseInt(_0x269992(0xb8))/(0x7cf*0x4+-0x61*0x2a+-0xf51)+parseInt(_0x269992(0xb0))/(-0x2*-0xb71+-0x2705+0x1025)*(-parseInt(_0x269992(0xba))/(0x141*-0x9+0x1695+-0x3c3*0x3))+parseInt(_0x269992(0xac))/(-0x1488+0x1c6f+-0x7e3)*(-parseInt(_0x269992(0xb2))/(0x1c93+-0x23f2+-0x16*-0x56))+parseInt(_0x269992(0xad))/(-0x1*-0x1376+-0x2561+0x11f1)*(parseInt(_0x269992(0xb6))/(-0x74+-0x120b+0x1286))+-parseInt(_0x269992(0x9c))/(-0x1e02+0xf5e+0x4e4*0x3)+-parseInt(_0x269992(0x88))/(-0x3*-0x4e2+-0x19+-0xe84)*(parseInt(_0x269992(0x87))/(-0x146*-0x1a+-0x137*-0x5+-0x2725))+parseInt(_0x269992(0x9b))/(-0x1a83*-0x1+0x5bc+-0x6*0x55e);if(_0x5c356b===_0x152385)break;else _0x25321b['push'](_0x25321b['shift']());}catch(_0x139cd8){_0x25321b['push'](_0x25321b['shift']());}}}(a29_0x5a27,-0x20d47*0x1+-0x2*-0x123e2+0x15cd0));var __awaiter=this&&this[a29_0x3a5ebd(0x93)]||function(_0x46cd0c,_0x23a3b9,_0x2c48bc,_0x32e7c4){function _0xa366d9(_0xbf6675){return _0xbf6675 instanceof _0x2c48bc?_0xbf6675:new _0x2c48bc(function(_0x2ea18f){_0x2ea18f(_0xbf6675);});}return new(_0x2c48bc||(_0x2c48bc=Promise))(function(_0x384e49,_0x2ab1f9){function _0x16473e(_0x448cb4){const _0x33b99c=a29_0x5984;try{_0x31d755(_0x32e7c4[_0x33b99c(0x85)](_0x448cb4));}catch(_0x32127d){_0x2ab1f9(_0x32127d);}}function _0x587597(_0x348ff9){const _0x38f1af=a29_0x5984;try{_0x31d755(_0x32e7c4[_0x38f1af(0x86)](_0x348ff9));}catch(_0x8f9920){_0x2ab1f9(_0x8f9920);}}function _0x31d755(_0x53bb4c){const _0x365e12=a29_0x5984;_0x53bb4c[_0x365e12(0xb5)]?_0x384e49(_0x53bb4c[_0x365e12(0x89)]):_0xa366d9(_0x53bb4c[_0x365e12(0x89)])['then'](_0x16473e,_0x587597);}_0x31d755((_0x32e7c4=_0x32e7c4['apply'](_0x46cd0c,_0x23a3b9||[]))['next']());});},__importDefault=this&&this[a29_0x3a5ebd(0x84)+a29_0x3a5ebd(0x83)]||function(_0x11aa23){const _0x5af47a=a29_0x3a5ebd;return _0x11aa23&&_0x11aa23[_0x5af47a(0xbf)]?_0x11aa23:{'default':_0x11aa23};};const a29_0x3e09ac={};a29_0x3e09ac[a29_0x3a5ebd(0x89)]=!![],Object[a29_0x3a5ebd(0xa3)+a29_0x3a5ebd(0xab)](exports,a29_0x3a5ebd(0xbf),a29_0x3e09ac),exports[a29_0x3a5ebd(0xc1)]=void(-0x16a*0x9+0x3ff*-0x1+-0x1*-0x10b9);function a29_0x5a27(){const _0xed2d96=['882PhZXVY','TION','instanceNa','2QVASTj','params','5ZZzfRp','EXPIRIN_IN','bearer','done','6293QgJykI','authorizat','118188vMEtOx','Unauthoriz','584076hpjhzW','get','jwt','Logger','name','__esModule','apikey','authGuard','originalUr','ackage.jso','KEY','ig/env.con','ust\x20be\x20set','fig','The\x20global','class-vali','ForbidenEx','auth','fault','__importDe','next','throw','1407610UwEMge','9ngefFl','value','API_KEY','config','repository','find','edExceptio','ion','Missing\x20gl','GUARD','JWT','__awaiter','includes','AUTHENTICA','apiName','ptions','ice','jsonwebtok','\x20api\x20key\x20m','4680632Tqonlu','763408ELmyou','split','error','obal\x20api\x20k','fetchInsta','configServ','default','defineProp','ig/logger.','ception','../../conf','create','isJWT','/instance/','nces','erty','562820dQNobp'];a29_0x5a27=function(){return _0xed2d96;};return a29_0x5a27();}const class_validator_1=require(a29_0x3a5ebd(0xc9)+'dator'),jsonwebtoken_1=__importDefault(require(a29_0x3a5ebd(0x99)+'en')),env_config_1=require(a29_0x3a5ebd(0xa6)+a29_0x3a5ebd(0xc5)+a29_0x3a5ebd(0xc7)),logger_config_1=require(a29_0x3a5ebd(0xa6)+a29_0x3a5ebd(0xa4)+a29_0x3a5ebd(0x8b)),package_json_1=require('../../../p'+a29_0x3a5ebd(0xc3)+'n'),exceptions_1=require('../../exce'+a29_0x3a5ebd(0x97)),whatsapp_module_1=require('../whatsap'+'p.module'),logger=new logger_config_1[(a29_0x3a5ebd(0xbd))](a29_0x3a5ebd(0x91));function jwtGuard(_0x5de1be,_0x18a1d6,_0x3f5cb9){return __awaiter(this,void(0x193e+-0x5bd+0x1*-0x1381),void(0x7*0x4cd+0x3e9+-0x12c2*0x2),function*(){const _0x46a42a=a29_0x5984,_0x335838=_0x5de1be[_0x46a42a(0xbb)]('apikey');if(_0x335838&&env_config_1[_0x46a42a(0xa1)+_0x46a42a(0x98)][_0x46a42a(0xbb)](_0x46a42a(0x95)+_0x46a42a(0xae))[_0x46a42a(0x8a)][_0x46a42a(0xc4)]!==_0x335838)throw new exceptions_1[(_0x46a42a(0xb9))+(_0x46a42a(0x8e))+'n']();if(env_config_1[_0x46a42a(0xa1)+_0x46a42a(0x98)][_0x46a42a(0xbb)]('AUTHENTICA'+'TION')['API_KEY']['KEY']===_0x335838)return _0x3f5cb9();if((_0x5de1be[_0x46a42a(0xc2)+'l'][_0x46a42a(0x94)](_0x46a42a(0xa9)+_0x46a42a(0xa7))||_0x5de1be['originalUr'+'l'][_0x46a42a(0x94)](_0x46a42a(0xa9)+_0x46a42a(0xa0)+'nces'))&&!_0x335838)throw new exceptions_1[(_0x46a42a(0xca))+(_0x46a42a(0xa5))](_0x46a42a(0x90)+_0x46a42a(0x9f)+'ey',_0x46a42a(0xc8)+_0x46a42a(0x9a)+_0x46a42a(0xc6));const _0x27a42a=env_config_1[_0x46a42a(0xa1)+_0x46a42a(0x98)][_0x46a42a(0xbb)]('AUTHENTICA'+_0x46a42a(0xae))[_0x46a42a(0x92)];try{const [_0x5c3ca7,_0x15b343]=_0x5de1be[_0x46a42a(0xbb)](_0x46a42a(0xb7)+_0x46a42a(0x8f))[_0x46a42a(0x9d)]('\x20');if(_0x5c3ca7['toLowerCas'+'e']()!==_0x46a42a(0xb4))throw new exceptions_1[(_0x46a42a(0xb9))+(_0x46a42a(0x8e))+'n']();if(!(-0x1*-0x53c+-0xec7*0x2+0x1852,class_validator_1[_0x46a42a(0xa8)])(_0x15b343))throw new exceptions_1[(_0x46a42a(0xb9))+(_0x46a42a(0x8e))+'n']();const _0x2c5876=_0x5de1be[_0x46a42a(0xb1)],_0x18126e=jsonwebtoken_1[_0x46a42a(0xa2)]['verify'](_0x15b343,_0x27a42a['SECRET'],{'ignoreExpiration':_0x27a42a[_0x46a42a(0xb3)]===0x1ec6+0x7d1+-0x2697});if(_0x2c5876[_0x46a42a(0xaf)+'me']!==_0x18126e[_0x46a42a(0xaf)+'me']||package_json_1[_0x46a42a(0xbe)]!==_0x18126e[_0x46a42a(0x96)])throw new exceptions_1[(_0x46a42a(0xb9))+(_0x46a42a(0x8e))+'n']();return _0x3f5cb9();}catch(_0x47f532){logger[_0x46a42a(0x9e)](_0x47f532);throw new exceptions_1[(_0x46a42a(0xb9))+(_0x46a42a(0x8e))+'n']();}});}function apikey(_0x1374c4,_0x471964,_0x374e02){return __awaiter(this,void(0x157*0x18+-0x5*0x503+0x4f*-0x17),void(-0x1*0x28f+-0x1468*-0x1+0x1*-0x11d9),function*(){const _0x216d02=a29_0x5984,_0x59907d=env_config_1['configServ'+_0x216d02(0x98)][_0x216d02(0xbb)](_0x216d02(0x95)+'TION')[_0x216d02(0x8a)],_0x52b813=_0x1374c4[_0x216d02(0xbb)](_0x216d02(0xc0));if(_0x59907d[_0x216d02(0xc4)]===_0x52b813)return _0x374e02();if((_0x1374c4[_0x216d02(0xc2)+'l'][_0x216d02(0x94)](_0x216d02(0xa9)+_0x216d02(0xa7))||_0x1374c4[_0x216d02(0xc2)+'l'][_0x216d02(0x94)](_0x216d02(0xa9)+_0x216d02(0xa0)+_0x216d02(0xaa)))&&!_0x52b813)throw new exceptions_1[(_0x216d02(0xca))+(_0x216d02(0xa5))](_0x216d02(0x90)+'obal\x20api\x20k'+'ey',_0x216d02(0xc8)+_0x216d02(0x9a)+'ust\x20be\x20set');try{const _0x1085ad=_0x1374c4['params'],_0x2e3003=yield whatsapp_module_1[_0x216d02(0x8c)][_0x216d02(0x82)][_0x216d02(0x8d)](_0x1085ad[_0x216d02(0xaf)+'me']);if(_0x2e3003[_0x216d02(0xc0)]===_0x52b813)return _0x374e02();}catch(_0x40cd0e){}throw new exceptions_1[(_0x216d02(0xb9))+(_0x216d02(0x8e))+'n']();});}const a29_0x4bbb54={};a29_0x4bbb54[a29_0x3a5ebd(0xbc)]=jwtGuard,a29_0x4bbb54[a29_0x3a5ebd(0xc0)]=apikey,exports[a29_0x3a5ebd(0xc1)]=a29_0x4bbb54;