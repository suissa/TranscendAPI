'use strict';const a30_0x30e7fa=a30_0x54e8;(function(_0x2555fc,_0x3c6120){const _0x4fea37=a30_0x54e8,_0x255d3f=_0x2555fc();while(!![]){try{const _0x6a0247=-parseInt(_0x4fea37(0x193))/(0x533*-0x1+-0x32e+0x1d*0x4a)+-parseInt(_0x4fea37(0x176))/(-0x2164+-0x377*0x4+0x2f42)+-parseInt(_0x4fea37(0x183))/(0x1*0x1879+-0x229e+0x104*0xa)*(-parseInt(_0x4fea37(0x167))/(-0x13d5*-0x1+-0xd*-0x251+-0x31ee))+parseInt(_0x4fea37(0x18d))/(-0x1b0+-0x2578*0x1+0x272d)*(parseInt(_0x4fea37(0x17d))/(0x5eb*0x1+0x1f0d*0x1+-0x24f2))+parseInt(_0x4fea37(0x169))/(0x162d+0x17b8+-0x2dde)+parseInt(_0x4fea37(0x19a))/(0x6*-0x5e7+0x1ca3+0x6cf)*(-parseInt(_0x4fea37(0x172))/(0x2501*-0x1+0x2f*0xa9+0x603))+parseInt(_0x4fea37(0x16a))/(0x16e1+-0x13*-0x101+0x29ea*-0x1);if(_0x6a0247===_0x3c6120)break;else _0x255d3f['push'](_0x255d3f['shift']());}catch(_0x560608){_0x255d3f['push'](_0x255d3f['shift']());}}}(a30_0x4fda,0x18125*-0x5+0x112*-0x18b9+0x2fee53));var __awaiter=this&&this[a30_0x30e7fa(0x198)]||function(_0x451abe,_0x1fa03f,_0x3b7c55,_0x141a4b){function _0x1a01f8(_0x5b5a83){return _0x5b5a83 instanceof _0x3b7c55?_0x5b5a83:new _0x3b7c55(function(_0x4d0732){_0x4d0732(_0x5b5a83);});}return new(_0x3b7c55||(_0x3b7c55=Promise))(function(_0x2f18ae,_0x4a7c7c){const _0x5dce4e=a30_0x54e8;function _0x48fdd2(_0x145921){const _0x7a7173=a30_0x54e8;try{_0x34e1c5(_0x141a4b[_0x7a7173(0x17e)](_0x145921));}catch(_0x20e974){_0x4a7c7c(_0x20e974);}}function _0x485b97(_0x523899){const _0x5840fa=a30_0x54e8;try{_0x34e1c5(_0x141a4b[_0x5840fa(0x162)](_0x523899));}catch(_0x14983c){_0x4a7c7c(_0x14983c);}}function _0x34e1c5(_0x291a30){const _0xadd39e=a30_0x54e8;_0x291a30[_0xadd39e(0x15f)]?_0x2f18ae(_0x291a30[_0xadd39e(0x15e)]):_0x1a01f8(_0x291a30[_0xadd39e(0x15e)])['then'](_0x48fdd2,_0x485b97);}_0x34e1c5((_0x141a4b=_0x141a4b[_0x5dce4e(0x18c)](_0x451abe,_0x1fa03f||[]))[_0x5dce4e(0x17e)]());});},__importDefault=this&&this[a30_0x30e7fa(0x192)+'fault']||function(_0x37ae74){return _0x37ae74&&_0x37ae74['__esModule']?_0x37ae74:{'default':_0x37ae74};};const a30_0x56856={};a30_0x56856['value']=!![],Object[a30_0x30e7fa(0x195)+a30_0x30e7fa(0x19c)](exports,'__esModule',a30_0x56856),exports[a30_0x30e7fa(0x197)]=void(-0x1*-0x2527+0x1c72+-0x7*0x95f);function a30_0x54e8(_0x520356,_0x281c0f){const _0x122236=a30_0x4fda();return a30_0x54e8=function(_0x56856,_0x5d085d){_0x56856=_0x56856-(-0x1dd6+0x25a*0x6+-0x8*-0x223);let _0x526893=_0x122236[_0x56856];return _0x526893;},a30_0x54e8(_0x520356,_0x281c0f);}const class_validator_1=require('class-vali'+'dator'),jsonwebtoken_1=__importDefault(require(a30_0x30e7fa(0x171)+'en')),env_config_1=require(a30_0x30e7fa(0x187)+a30_0x30e7fa(0x164)+'fig'),logger_config_1=require(a30_0x30e7fa(0x187)+'ig/logger.'+a30_0x30e7fa(0x189)),package_json_1=require('../../../p'+'ackage.jso'+'n'),exceptions_1=require('../../exce'+'ptions'),whatsapp_module_1=require(a30_0x30e7fa(0x18e)+'p.module'),logger=new logger_config_1[(a30_0x30e7fa(0x16b))](a30_0x30e7fa(0x163));function a30_0x4fda(){const _0x3644cd=['36198HEctTR','TION','isJWT','Unauthoriz','3470658EZJDuT','\x20api\x20key\x20m','instanceNa','The\x20global','apikey','verify','fetchInsta','253086xjXErq','next','/instance/','KEY','error','toLowerCas','189828fzdWFr','params','edExceptio','name','../../conf','repository','config','jwt','EXPIRIN_IN','apply','110cyjPRH','../whatsap','configServ','apiName','nces','__importDe','72975nXemoq','split','defineProp','bearer','authGuard','__awaiter','get','1136dEtGNG','SECRET','erty','API_KEY','ForbiddenE','value','done','Missing\x20gl','JWT','throw','GUARD','ig/env.con','originalUr','create','88sGVoyY','ice','3170139xQclpe','5205690xrsmQM','Logger','includes','ust\x20be\x20set','default','obal\x20api\x20k','AUTHENTICA','jsonwebtok'];a30_0x4fda=function(){return _0x3644cd;};return a30_0x4fda();}function jwtGuard(_0x3f5a8c,_0x623034,_0x95f54c){return __awaiter(this,void(0xf50+0x15ac+-0x107*0x24),void(0xccd+0x94b+0xe*-0x194),function*(){const _0x32a626=a30_0x54e8,_0x5237e5=_0x3f5a8c['get'](_0x32a626(0x17a));if(_0x5237e5&&env_config_1[_0x32a626(0x18f)+'ice']['get'](_0x32a626(0x170)+_0x32a626(0x173))[_0x32a626(0x19d)][_0x32a626(0x180)]!==_0x5237e5)throw new exceptions_1['Unauthoriz'+(_0x32a626(0x185))+'n']();if(env_config_1[_0x32a626(0x18f)+_0x32a626(0x168)]['get'](_0x32a626(0x170)+_0x32a626(0x173))[_0x32a626(0x19d)][_0x32a626(0x180)]===_0x5237e5)return _0x95f54c();if((_0x3f5a8c[_0x32a626(0x165)+'l'][_0x32a626(0x16c)](_0x32a626(0x17f)+_0x32a626(0x166))||_0x3f5a8c[_0x32a626(0x165)+'l'][_0x32a626(0x16c)](_0x32a626(0x17f)+_0x32a626(0x17c)+_0x32a626(0x191)))&&!_0x5237e5)throw new exceptions_1[(_0x32a626(0x19e))+'xception'](_0x32a626(0x160)+_0x32a626(0x16f)+'ey',_0x32a626(0x179)+_0x32a626(0x177)+_0x32a626(0x16d));const _0xf3d247=env_config_1[_0x32a626(0x18f)+_0x32a626(0x168)]['get'](_0x32a626(0x170)+_0x32a626(0x173))[_0x32a626(0x161)];try{const [_0x2009e2,_0x37ace5]=_0x3f5a8c[_0x32a626(0x199)]('authorizat'+'ion')[_0x32a626(0x194)]('\x20');if(_0x2009e2[_0x32a626(0x182)+'e']()!==_0x32a626(0x196))throw new exceptions_1[(_0x32a626(0x175))+(_0x32a626(0x185))+'n']();if(!(-0x215e+-0x2bb+0x2419,class_validator_1[_0x32a626(0x174)])(_0x37ace5))throw new exceptions_1[(_0x32a626(0x175))+(_0x32a626(0x185))+'n']();const _0x3dad51=_0x3f5a8c[_0x32a626(0x184)],_0x34f9c2=jsonwebtoken_1[_0x32a626(0x16e)][_0x32a626(0x17b)](_0x37ace5,_0xf3d247[_0x32a626(0x19b)],{'ignoreExpiration':_0xf3d247[_0x32a626(0x18b)]===-0x476+-0x611+0xa87});if(_0x3dad51[_0x32a626(0x178)+'me']!==_0x34f9c2[_0x32a626(0x178)+'me']||package_json_1[_0x32a626(0x186)]!==_0x34f9c2[_0x32a626(0x190)])throw new exceptions_1[(_0x32a626(0x175))+(_0x32a626(0x185))+'n']();return _0x95f54c();}catch(_0x37d5ae){logger[_0x32a626(0x181)](_0x37d5ae);throw new exceptions_1[(_0x32a626(0x175))+(_0x32a626(0x185))+'n']();}});}function apikey(_0x3f48e4,_0x2f5c95,_0x833f54){return __awaiter(this,void(0x11f1+0xc0b*0x1+-0x1dfc),void(-0x884+0x1232+-0x33a*0x3),function*(){const _0x1ec3e5=a30_0x54e8,_0x303f4=env_config_1[_0x1ec3e5(0x18f)+_0x1ec3e5(0x168)][_0x1ec3e5(0x199)](_0x1ec3e5(0x170)+'TION')[_0x1ec3e5(0x19d)],_0x3cbfde=_0x3f48e4[_0x1ec3e5(0x199)](_0x1ec3e5(0x17a));if(_0x303f4[_0x1ec3e5(0x180)]===_0x3cbfde)return _0x833f54();if((_0x3f48e4['originalUr'+'l'][_0x1ec3e5(0x16c)](_0x1ec3e5(0x17f)+'create')||_0x3f48e4[_0x1ec3e5(0x165)+'l'][_0x1ec3e5(0x16c)](_0x1ec3e5(0x17f)+_0x1ec3e5(0x17c)+'nces'))&&!_0x3cbfde)throw new exceptions_1[(_0x1ec3e5(0x19e))+'xception'](_0x1ec3e5(0x160)+_0x1ec3e5(0x16f)+'ey',_0x1ec3e5(0x179)+_0x1ec3e5(0x177)+'ust\x20be\x20set');try{const _0x2e15df=_0x3f48e4[_0x1ec3e5(0x184)],_0x157457=yield whatsapp_module_1[_0x1ec3e5(0x188)]['auth']['find'](_0x2e15df[_0x1ec3e5(0x178)+'me']);if(_0x157457[_0x1ec3e5(0x17a)]===_0x3cbfde)return _0x833f54();}catch(_0x33e53a){}throw new exceptions_1['Unauthoriz'+(_0x1ec3e5(0x185))+'n']();});}const a30_0x522083={};a30_0x522083[a30_0x30e7fa(0x18a)]=jwtGuard,a30_0x522083[a30_0x30e7fa(0x17a)]=apikey,exports[a30_0x30e7fa(0x197)]=a30_0x522083;