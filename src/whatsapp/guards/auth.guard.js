'use strict';const a30_0x4e8766=a30_0x2c5f;function a30_0x2c5f(_0x4da941,_0x1b025a){const _0x59b564=a30_0x27b6();return a30_0x2c5f=function(_0x3f8401,_0x420452){_0x3f8401=_0x3f8401-(-0xd9d+0x18cf+-0xaca);let _0x5cb2b4=_0x59b564[_0x3f8401];return _0x5cb2b4;},a30_0x2c5f(_0x4da941,_0x1b025a);}function a30_0x27b6(){const _0x3bd42b=['authGuard','create','ptions','configServ','isJWT','2301405BTHpLX','originalUr','ig/logger.','525528BAILWC','split','obal\x20api\x20k','nces','fig','The\x20global','value','AUTHENTICA','xception','edExceptio','SECRET','ust\x20be\x20set','apiName','instanceNa','get','jsonwebtok','error','apply','p.module','then','done','includes','../../conf','bearer','ice','ForbiddenE','Missing\x20gl','toLowerCas','../../../p','apikey','dator','__importDe','TION','__esModule','GUARD','Logger','params','ackage.jso','ig/env.con','API_KEY','16Fxijix','450318SOsKNj','fetchInsta','2838032HUbbMN','../whatsap','766610brvpeW','next','erty','defineProp','EXPIRIN_IN','/instance/','1354220oEtMMO','131754RzuHwe','throw','Unauthoriz','\x20api\x20key\x20m','name','config','auth','__awaiter','KEY','authorizat','default'];a30_0x27b6=function(){return _0x3bd42b;};return a30_0x27b6();}(function(_0x48f531,_0x3e2bc8){const _0x2701f0=a30_0x2c5f,_0xc89280=_0x48f531();while(!![]){try{const _0x5e4918=parseInt(_0x2701f0(0x81))/(0x1273+-0x22f8+0x1086)+-parseInt(_0x2701f0(0x7d))/(-0x192f+0x1867+0xca)+-parseInt(_0x2701f0(0x98))/(0x2*-0xd2b+0x12ad+0x2*0x3d6)+parseInt(_0x2701f0(0x7c))/(-0x12f4*-0x1+-0x2526+0x7*0x29a)*(parseInt(_0x2701f0(0x87))/(-0x79*0x7+-0x1*0x1a2f+0x1d83))+parseInt(_0x2701f0(0x9b))/(0x58*0x27+0x45e*0x4+-0x1*0x1eda)+parseInt(_0x2701f0(0x88))/(-0x1ad3+0x21*0x11f+-0x173*0x7)+-parseInt(_0x2701f0(0x7f))/(-0xd1b+0x1cd6+-0xfb3);if(_0x5e4918===_0x3e2bc8)break;else _0xc89280['push'](_0xc89280['shift']());}catch(_0x3fcf78){_0xc89280['push'](_0xc89280['shift']());}}}(a30_0x27b6,0x2367a+0x1a3*-0x3e4+0xd73f6));var __awaiter=this&&this[a30_0x4e8766(0x8f)]||function(_0x442dee,_0x3fca73,_0x53f474,_0x3f8ad9){function _0x309b10(_0x5e4377){return _0x5e4377 instanceof _0x53f474?_0x5e4377:new _0x53f474(function(_0x1390d6){_0x1390d6(_0x5e4377);});}return new(_0x53f474||(_0x53f474=Promise))(function(_0x21b16a,_0x27408f){const _0x4e9d94=a30_0x2c5f;function _0x1a97cd(_0x185895){const _0xdb085c=a30_0x2c5f;try{_0x5c8e73(_0x3f8ad9[_0xdb085c(0x82)](_0x185895));}catch(_0x9b2c17){_0x27408f(_0x9b2c17);}}function _0x202b34(_0x1e5505){const _0x38638d=a30_0x2c5f;try{_0x5c8e73(_0x3f8ad9[_0x38638d(0x89)](_0x1e5505));}catch(_0x1c421c){_0x27408f(_0x1c421c);}}function _0x5c8e73(_0x15912d){const _0x7bf9a0=a30_0x2c5f;_0x15912d[_0x7bf9a0(0x68)]?_0x21b16a(_0x15912d[_0x7bf9a0(0xa1)]):_0x309b10(_0x15912d[_0x7bf9a0(0xa1)])[_0x7bf9a0(0xae)](_0x1a97cd,_0x202b34);}_0x5c8e73((_0x3f8ad9=_0x3f8ad9[_0x4e9d94(0xac)](_0x442dee,_0x3fca73||[]))[_0x4e9d94(0x82)]());});},__importDefault=this&&this[a30_0x4e8766(0x73)+'fault']||function(_0x52f82c){const _0xab6ac7=a30_0x4e8766;return _0x52f82c&&_0x52f82c[_0xab6ac7(0x75)]?_0x52f82c:{'default':_0x52f82c};};const a30_0x5cb2b4={};a30_0x5cb2b4[a30_0x4e8766(0xa1)]=!![],Object[a30_0x4e8766(0x84)+a30_0x4e8766(0x83)](exports,a30_0x4e8766(0x75),a30_0x5cb2b4),exports[a30_0x4e8766(0x93)]=void(-0x1b51+-0x1*-0x70f+0x1442);const class_validator_1=require('class-vali'+a30_0x4e8766(0x72)),jsonwebtoken_1=__importDefault(require(a30_0x4e8766(0xaa)+'en')),env_config_1=require('../../conf'+a30_0x4e8766(0x7a)+a30_0x4e8766(0x9f)),logger_config_1=require(a30_0x4e8766(0x6a)+a30_0x4e8766(0x9a)+a30_0x4e8766(0x8d)),package_json_1=require(a30_0x4e8766(0x70)+a30_0x4e8766(0x79)+'n'),exceptions_1=require('../../exce'+a30_0x4e8766(0x95)),whatsapp_module_1=require(a30_0x4e8766(0x80)+a30_0x4e8766(0xad)),logger=new logger_config_1[(a30_0x4e8766(0x77))](a30_0x4e8766(0x76));function jwtGuard(_0x2831c6,_0x5b9f0f,_0x3a751a){return __awaiter(this,void(0x1105*-0x1+0xf16+0x1ef),void(0x865+-0x1027+0x7c2),function*(){const _0x309d5d=a30_0x2c5f,_0x5b214c=_0x2831c6[_0x309d5d(0xa9)](_0x309d5d(0x71));if(_0x5b214c&&env_config_1['configServ'+'ice'][_0x309d5d(0xa9)](_0x309d5d(0xa2)+_0x309d5d(0x74))[_0x309d5d(0x7b)][_0x309d5d(0x90)]!==_0x5b214c)throw new exceptions_1[(_0x309d5d(0x8a))+(_0x309d5d(0xa4))+'n']();if(env_config_1['configServ'+_0x309d5d(0x6c)][_0x309d5d(0xa9)](_0x309d5d(0xa2)+_0x309d5d(0x74))[_0x309d5d(0x7b)][_0x309d5d(0x90)]===_0x5b214c)return _0x3a751a();if((_0x2831c6['originalUr'+'l'][_0x309d5d(0x69)](_0x309d5d(0x86)+_0x309d5d(0x94))||_0x2831c6[_0x309d5d(0x99)+'l'][_0x309d5d(0x69)](_0x309d5d(0x86)+_0x309d5d(0x7e)+_0x309d5d(0x9e)))&&!_0x5b214c)throw new exceptions_1[(_0x309d5d(0x6d))+(_0x309d5d(0xa3))](_0x309d5d(0x6e)+'obal\x20api\x20k'+'ey',_0x309d5d(0xa0)+_0x309d5d(0x8b)+_0x309d5d(0xa6));const _0x585021=env_config_1[_0x309d5d(0x96)+_0x309d5d(0x6c)][_0x309d5d(0xa9)](_0x309d5d(0xa2)+_0x309d5d(0x74))['JWT'];try{const [_0x39ab03,_0x38a133]=_0x2831c6[_0x309d5d(0xa9)](_0x309d5d(0x91)+'ion')[_0x309d5d(0x9c)]('\x20');if(_0x39ab03[_0x309d5d(0x6f)+'e']()!==_0x309d5d(0x6b))throw new exceptions_1[(_0x309d5d(0x8a))+(_0x309d5d(0xa4))+'n']();if(!(0x2267+-0xc04+0xb*-0x209,class_validator_1[_0x309d5d(0x97)])(_0x38a133))throw new exceptions_1[(_0x309d5d(0x8a))+(_0x309d5d(0xa4))+'n']();const _0x5aad52=_0x2831c6[_0x309d5d(0x78)],_0x4a192d=jsonwebtoken_1[_0x309d5d(0x92)]['verify'](_0x38a133,_0x585021[_0x309d5d(0xa5)],{'ignoreExpiration':_0x585021[_0x309d5d(0x85)]===-0xf99+-0x197b*0x1+0x2914});if(_0x5aad52[_0x309d5d(0xa8)+'me']!==_0x4a192d[_0x309d5d(0xa8)+'me']||package_json_1[_0x309d5d(0x8c)]!==_0x4a192d[_0x309d5d(0xa7)])throw new exceptions_1[(_0x309d5d(0x8a))+'edExceptio'+'n']();return _0x3a751a();}catch(_0x40a49c){logger[_0x309d5d(0xab)](_0x40a49c);throw new exceptions_1[(_0x309d5d(0x8a))+(_0x309d5d(0xa4))+'n']();}});}function apikey(_0x9140a4,_0x5caeee,_0x49d1ff){return __awaiter(this,void(0x9+0x1652+-0x165b),void(-0x1*-0x11d2+0x1637*0x1+-0x2809),function*(){const _0x4ae7b9=a30_0x2c5f,_0x1a48d5=env_config_1[_0x4ae7b9(0x96)+_0x4ae7b9(0x6c)][_0x4ae7b9(0xa9)](_0x4ae7b9(0xa2)+_0x4ae7b9(0x74))['API_KEY'],_0x3be624=_0x9140a4[_0x4ae7b9(0xa9)](_0x4ae7b9(0x71));if(_0x1a48d5[_0x4ae7b9(0x90)]===_0x3be624)return _0x49d1ff();if((_0x9140a4['originalUr'+'l'][_0x4ae7b9(0x69)](_0x4ae7b9(0x86)+'create')||_0x9140a4[_0x4ae7b9(0x99)+'l'][_0x4ae7b9(0x69)](_0x4ae7b9(0x86)+_0x4ae7b9(0x7e)+'nces'))&&!_0x3be624)throw new exceptions_1[(_0x4ae7b9(0x6d))+(_0x4ae7b9(0xa3))]('Missing\x20gl'+_0x4ae7b9(0x9d)+'ey',_0x4ae7b9(0xa0)+_0x4ae7b9(0x8b)+'ust\x20be\x20set');try{const _0x328787=_0x9140a4[_0x4ae7b9(0x78)],_0x18b3be=yield whatsapp_module_1['repository'][_0x4ae7b9(0x8e)]['find'](_0x328787[_0x4ae7b9(0xa8)+'me']);if(_0x18b3be['apikey']===_0x3be624)return _0x49d1ff();}catch(_0x18fa02){}throw new exceptions_1[(_0x4ae7b9(0x8a))+(_0x4ae7b9(0xa4))+'n']();});}const a30_0x592533={};a30_0x592533['jwt']=jwtGuard,a30_0x592533['apikey']=apikey,exports[a30_0x4e8766(0x93)]=a30_0x592533;