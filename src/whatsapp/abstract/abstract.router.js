'use strict';const a17_0xfa9ad0=a17_0x4477;function a17_0x3bb5(){const _0x1adae6=['errors','assign','10dkOldY','__esModule','med\x20in\x20the','valid','@g.us\x22','express-as','Exception','bJZFhBr\x22\x20o','097Xo5VT8J','query','e\x20needs\x20to','next','5602674lxQHro','routerPath','sapp.com/H','2473650OyFABf','map','/:instance','7456867NYMRLb','replace','ex:\x20\x22group','length','error','body','descriptio','10172472iIczbb','joinGroupV','params','7TMagJh','dataValida','281nUcvzS','o5VT8J9xjk','apply','inviteCode','Jid=120362','invite\x20cod','__awaiter','../../conf','ex:\x20\x22H097X','\x20be\x20inform','BadRequest','RouterBrok','create','value','originalUr','/chat.what','ed\x20in\x20the\x20','9xjkbJZFhB','The\x20group\x20','../../exce','ig/logger.','Name','instance.','id\x20needs\x20t','509373RNWrRC','3213216YmqUyE','ptions','alidate','validate','then','2714pWBmDe','defineProp','/instance/','4RMYanw','config'];a17_0x3bb5=function(){return _0x1adae6;};return a17_0x3bb5();}(function(_0x33d22d,_0x263e76){const _0x1bfbc5=a17_0x4477,_0x6367ec=_0x33d22d();while(!![]){try{const _0xb1fcd8=parseInt(_0x1bfbc5(0x16b))/(0x1*-0x586+-0x727*-0x3+-0x1*0xfee)*(parseInt(_0x1bfbc5(0x146))/(0x2441*-0x1+-0xb*-0xd+0x23b4))+parseInt(_0x1bfbc5(0x141))/(0x25a4+-0x6ae*-0x3+-0x39ab)*(parseInt(_0x1bfbc5(0x149))/(0x3*-0xbf+-0x331+0x572))+-parseInt(_0x1bfbc5(0x15c))/(-0x47b*0x4+0x20d7*0x1+-0x2*0x773)+-parseInt(_0x1bfbc5(0x159))/(-0x1*0xf64+-0x2*-0x135d+-0x1750)+-parseInt(_0x1bfbc5(0x169))/(-0x151f*-0x1+-0x20*-0x93+-0xc*0x34a)*(-parseInt(_0x1bfbc5(0x166))/(0x11dd+-0x1617+0x6d*0xa))+parseInt(_0x1bfbc5(0x140))/(0x12ef+-0x8b*-0x2f+0x89*-0x53)*(parseInt(_0x1bfbc5(0x14d))/(0x8e*0x18+-0x4ac+-0x89a))+-parseInt(_0x1bfbc5(0x15f))/(0x14d2+-0x1e1d*-0x1+-0x4*0xcb9);if(_0xb1fcd8===_0x263e76)break;else _0x6367ec['push'](_0x6367ec['shift']());}catch(_0x4f7efa){_0x6367ec['push'](_0x6367ec['shift']());}}}(a17_0x3bb5,-0xcfd61+-0x27a*0x574+0x24c804));var __awaiter=this&&this[a17_0xfa9ad0(0x12e)]||function(_0x8a08cc,_0x433d5f,_0x43bdd6,_0x2ad9c7){function _0x4a4625(_0x495ef6){return _0x495ef6 instanceof _0x43bdd6?_0x495ef6:new _0x43bdd6(function(_0x2b9df3){_0x2b9df3(_0x495ef6);});}return new(_0x43bdd6||(_0x43bdd6=Promise))(function(_0x5a87ec,_0x1dc3a3){const _0x33127c=a17_0x4477;function _0x38a012(_0x2f3da1){try{_0x2a2ef1(_0x2ad9c7['next'](_0x2f3da1));}catch(_0x89863e){_0x1dc3a3(_0x89863e);}}function _0x18273d(_0x32e84e){try{_0x2a2ef1(_0x2ad9c7['throw'](_0x32e84e));}catch(_0x2a1bb7){_0x1dc3a3(_0x2a1bb7);}}function _0x2a2ef1(_0x386b0a){const _0x164270=a17_0x4477;_0x386b0a['done']?_0x5a87ec(_0x386b0a[_0x164270(0x135)]):_0x4a4625(_0x386b0a[_0x164270(0x135)])[_0x164270(0x145)](_0x38a012,_0x18273d);}_0x2a2ef1((_0x2ad9c7=_0x2ad9c7[_0x33127c(0x16d)](_0x8a08cc,_0x433d5f||[]))[_0x33127c(0x158)]());});};const a17_0x38b96f={};a17_0x38b96f[a17_0xfa9ad0(0x135)]=!![],Object[a17_0xfa9ad0(0x147)+'erty'](exports,a17_0xfa9ad0(0x14e),a17_0x38b96f),exports[a17_0xfa9ad0(0x133)+'er']=void(0x49*0x14+0x5ba+-0xb6e);const jsonschema_1=require('jsonschema'),exceptions_1=require(a17_0xfa9ad0(0x13b)+a17_0xfa9ad0(0x142));require(a17_0xfa9ad0(0x152)+'ync-errors');const logger_config_1=require(a17_0xfa9ad0(0x12f)+a17_0xfa9ad0(0x13c)+a17_0xfa9ad0(0x14a)),logger=new logger_config_1['Logger']('Validate');class RouterBroker{constructor(){}[a17_0xfa9ad0(0x15a)](_0x586fa6,_0x47baec=!![]){const _0x2c460a=a17_0xfa9ad0;let _0x4fe73f='/'+_0x586fa6;return _0x47baec?_0x4fe73f+=_0x2c460a(0x15e)+_0x2c460a(0x13d):null,_0x4fe73f;}[a17_0xfa9ad0(0x16a)+'te'](_0x52c17d){return __awaiter(this,void(0x17ac+0x179f+0x1*-0x2f4b),void(0xbe*0x29+-0x2*-0x1072+-0x3f52),function*(){const _0xb152fe=a17_0x4477,{request:_0x237da9,schema:_0x352507,ClassRef:_0x13fb5f,execute:_0x1d627e}=_0x52c17d,_0x3da036=new _0x13fb5f(),_0x2de727=_0x237da9[_0xb152fe(0x164)],_0x45c132=_0x237da9[_0xb152fe(0x168)];(_0x237da9===null||_0x237da9===void(0x1ec7+-0x267a+0x7b3)?void(-0x1590+0x1*0x707+0xe89):_0x237da9[_0xb152fe(0x156)])&&Object['keys'](_0x237da9[_0xb152fe(0x156)])[_0xb152fe(0x162)]>0x7e*0xa+-0x15a3*-0x1+-0x20b*0xd&&Object[_0xb152fe(0x14c)](_0x45c132,_0x237da9[_0xb152fe(0x156)]);_0x237da9[_0xb152fe(0x136)+'l']['includes'](_0xb152fe(0x148)+_0xb152fe(0x134))&&Object[_0xb152fe(0x14c)](_0x45c132,_0x2de727);Object[_0xb152fe(0x14c)](_0x3da036,_0x2de727);const _0x4c0327={};_0x4c0327[_0xb152fe(0x150)]=!![],_0x4c0327['errors']=[];const _0x23bc79=_0x352507?(-0x240*-0x1+0x8ab*-0x3+0x17c1,jsonschema_1[_0xb152fe(0x144)])(_0x3da036,_0x352507):_0x4c0327;if(!_0x23bc79[_0xb152fe(0x150)]){const _0x47a56f=_0x23bc79['errors']['map'](({property:_0x99f7a2,stack:_0x31ef95,schema:_0x399005})=>{const _0x28e08a=_0xb152fe;let _0xebb979;return _0x399005[_0x28e08a(0x165)+'n']?_0xebb979=_0x399005[_0x28e08a(0x165)+'n']:_0xebb979=_0x31ef95[_0x28e08a(0x160)](_0x28e08a(0x13e),''),{'property':_0x99f7a2[_0x28e08a(0x160)](_0x28e08a(0x13e),''),'message':_0xebb979};});logger[_0xb152fe(0x163)]([..._0x47a56f]);throw new exceptions_1[(_0xb152fe(0x132))+(_0xb152fe(0x153))](..._0x47a56f);}return yield _0x1d627e(_0x45c132,_0x3da036);});}['groupValid'+'ate'](_0x30599e){return __awaiter(this,void(0x5*-0x140+0x2385+0x1d45*-0x1),void(0x2*0x9ca+-0xb46+-0x84e),function*(){const _0x3c18eb=a17_0x4477,{request:_0x34f281,ClassRef:_0x131857,schema:_0x501217,execute:_0x2aabd8}=_0x30599e,_0x440319=_0x34f281['query'];if(!(_0x440319===null||_0x440319===void(-0x2148+-0x25f*0x1+0x23a7)?void(-0x265*0x4+-0x19da+0x716*0x5):_0x440319['groupJid']))throw new exceptions_1[(_0x3c18eb(0x132))+'Exception'](_0x3c18eb(0x13a)+_0x3c18eb(0x13f)+'o\x20be\x20infor'+_0x3c18eb(0x14f)+'\x20query',_0x3c18eb(0x161)+_0x3c18eb(0x12c)+_0x3c18eb(0x151));const _0x1dc438=_0x34f281['params'],_0x3b7a1b=_0x34f281[_0x3c18eb(0x164)],_0x230f9e=new _0x131857();Object[_0x3c18eb(0x14c)](_0x3b7a1b,_0x440319),Object[_0x3c18eb(0x14c)](_0x230f9e,_0x3b7a1b);const _0x587c58=(0x1*0x1e26+0xcbd+0x2ae3*-0x1,jsonschema_1[_0x3c18eb(0x144)])(_0x230f9e,_0x501217);if(!_0x587c58['valid']){const _0x193ba3=_0x587c58[_0x3c18eb(0x14b)][_0x3c18eb(0x15d)](({property:_0xb25ad0,stack:_0x3129b9,schema:_0x415742})=>{const _0x3b956b=_0x3c18eb;let _0x5bfd5b;return _0x415742[_0x3b956b(0x165)+'n']?_0x5bfd5b=_0x415742[_0x3b956b(0x165)+'n']:_0x5bfd5b=_0x3129b9[_0x3b956b(0x160)](_0x3b956b(0x13e),''),{'property':_0xb25ad0[_0x3b956b(0x160)](_0x3b956b(0x13e),''),'message':_0x5bfd5b};});logger[_0x3c18eb(0x163)]([..._0x193ba3]);throw new exceptions_1['BadRequest'+(_0x3c18eb(0x153))](..._0x193ba3);}return yield _0x2aabd8(_0x1dc438,_0x230f9e);});}[a17_0xfa9ad0(0x167)+a17_0xfa9ad0(0x143)](_0x1e927c){return __awaiter(this,void(0x31*0x7f+0x7eb*-0x2+-0x3*0x2d3),void(-0x2467+-0x15cb+-0xd*-0x47a),function*(){const _0x453196=a17_0x4477,{request:_0x45a23a,ClassRef:_0x46b228,schema:_0x5e3f1a,execute:_0x51f4af}=_0x1e927c,_0x16e3c0=_0x45a23a[_0x453196(0x164)];if(!(_0x16e3c0===null||_0x16e3c0===void(0x35*-0x4d+-0x25b1+0x35a2)?void(0x2a5*-0xc+-0x1c95+0x3c51):_0x16e3c0[_0x453196(0x16e)]))throw new exceptions_1[(_0x453196(0x132))+'Exception'](_0x453196(0x13a)+_0x453196(0x12d)+_0x453196(0x157)+_0x453196(0x131)+_0x453196(0x138)+_0x453196(0x164),_0x453196(0x130)+_0x453196(0x16c)+_0x453196(0x154)+'r\x20\x22https:/'+_0x453196(0x137)+_0x453196(0x15b)+_0x453196(0x155)+_0x453196(0x139)+'r\x22');const _0x25c5c6=_0x45a23a['params'],_0xcaa2d2=_0x45a23a[_0x453196(0x164)],_0xf7aa97=new _0x46b228();Object[_0x453196(0x14c)](_0xcaa2d2,_0x16e3c0),Object[_0x453196(0x14c)](_0xf7aa97,_0xcaa2d2);const _0x93b22d=(-0x1931+-0x4d+-0x197e*-0x1,jsonschema_1['validate'])(_0xf7aa97,_0x5e3f1a);if(!_0x93b22d[_0x453196(0x150)]){const _0x44cf29=_0x93b22d[_0x453196(0x14b)][_0x453196(0x15d)](({property:_0x3fc9b2,stack:_0x1faf45,schema:_0x29ac67})=>{const _0x576dae=_0x453196;let _0xf9b2fa;return _0x29ac67[_0x576dae(0x165)+'n']?_0xf9b2fa=_0x29ac67[_0x576dae(0x165)+'n']:_0xf9b2fa=_0x1faf45[_0x576dae(0x160)]('instance.',''),{'property':_0x3fc9b2['replace'](_0x576dae(0x13e),''),'message':_0xf9b2fa};});logger[_0x453196(0x163)]([..._0x44cf29]);throw new exceptions_1[(_0x453196(0x132))+(_0x453196(0x153))](..._0x44cf29);}return yield _0x51f4af(_0x25c5c6,_0xf7aa97);});}}function a17_0x4477(_0x14bffa,_0x322c86){const _0x38b96f=a17_0x3bb5();return a17_0x4477=function(_0x36a65f,_0x36ae20){_0x36a65f=_0x36a65f-(0x23*-0x59+-0x227*0xd+0x14a9*0x2);let _0x4287cb=_0x38b96f[_0x36a65f];return _0x4287cb;},a17_0x4477(_0x14bffa,_0x322c86);}exports['RouterBrok'+'er']=RouterBroker;