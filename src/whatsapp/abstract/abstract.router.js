'use strict';const a18_0x58a24f=a18_0x5461;(function(_0x2bf892,_0x47e51f){const _0x1fae20=a18_0x5461,_0x2a7676=_0x2bf892();while(!![]){try{const _0x2506e7=-parseInt(_0x1fae20(0x196))/(0x338*-0x9+0x1e6a+0x171*-0x1)*(-parseInt(_0x1fae20(0x180))/(0x1*-0x26e5+-0x2*0x3b9+0x2e59))+parseInt(_0x1fae20(0x17b))/(0x1831+-0x1a5d+0x22f)*(parseInt(_0x1fae20(0x1a8))/(0xabd*0x1+0xa*0x2f1+-0x2823))+parseInt(_0x1fae20(0x19a))/(0xd*-0x83+0x23ba+0x1*-0x1d0e)+parseInt(_0x1fae20(0x194))/(-0x1bf*-0xf+0x1*0xe41+0x4*-0xa1b)*(-parseInt(_0x1fae20(0x182))/(-0x2*-0xbf9+0x2*-0xfd3+0x7bb*0x1))+-parseInt(_0x1fae20(0x19f))/(-0x367*0x3+-0x1ec5+-0x1*-0x2902)+-parseInt(_0x1fae20(0x192))/(-0x8b3+0x1*-0x176+-0x366*-0x3)+-parseInt(_0x1fae20(0x17e))/(-0x23*-0x89+0x70d*-0x4+0x983);if(_0x2506e7===_0x47e51f)break;else _0x2a7676['push'](_0x2a7676['shift']());}catch(_0x160501){_0x2a7676['push'](_0x2a7676['shift']());}}}(a18_0x2c9f,-0x5c03e*-0x1+-0x8eada+0xa0057));var __awaiter=this&&this[a18_0x58a24f(0x181)]||function(_0xb632f,_0x3775e4,_0x35ed90,_0x470cff){function _0x4b71c9(_0xb53bb4){return _0xb53bb4 instanceof _0x35ed90?_0xb53bb4:new _0x35ed90(function(_0x2a0f32){_0x2a0f32(_0xb53bb4);});}return new(_0x35ed90||(_0x35ed90=Promise))(function(_0x2e4d82,_0x4d75ab){const _0x2e761b=a18_0x5461;function _0x2293fb(_0x310e01){const _0x316580=a18_0x5461;try{_0x44ae19(_0x470cff[_0x316580(0x177)](_0x310e01));}catch(_0x2e01bf){_0x4d75ab(_0x2e01bf);}}function _0xf65568(_0x39891d){const _0x55840b=a18_0x5461;try{_0x44ae19(_0x470cff[_0x55840b(0x1ae)](_0x39891d));}catch(_0x5cf6d8){_0x4d75ab(_0x5cf6d8);}}function _0x44ae19(_0xc0a83b){const _0x45ab65=a18_0x5461;_0xc0a83b[_0x45ab65(0x18b)]?_0x2e4d82(_0xc0a83b[_0x45ab65(0x1a5)]):_0x4b71c9(_0xc0a83b[_0x45ab65(0x1a5)])[_0x45ab65(0x1a6)](_0x2293fb,_0xf65568);}_0x44ae19((_0x470cff=_0x470cff['apply'](_0xb632f,_0x3775e4||[]))[_0x2e761b(0x177)]());});};const a18_0x28101c={};a18_0x28101c['value']=!![],Object[a18_0x58a24f(0x190)+'erty'](exports,a18_0x58a24f(0x1a7),a18_0x28101c),exports['RouterBrok'+'er']=void(0x1c*0x6a+0x9*0x402+-0x2faa);function a18_0x2c9f(){const _0x38d448=['done','query','bJZFhBr\x22\x20o','create','@g.us\x22','defineProp','e\x20needs\x20to','4948443lNQQkJ','r\x20\x22https:/','1212jXXBUI','keys','30VjRscn','ptions','errors','BadRequest','2123015EgDCEP','9xjkbJZFhB','jsonschema','ync-errors','\x20query','2812216Cniaik','valid','originalUr','error','Jid=120362','../../exce','value','then','__esModule','380uHQwpa','groupJid','instance.','length','/instance/','validate','throw','Name','invite\x20cod','assign','params','descriptio','ig/logger.','replace','next','body','ex:\x20\x22H097X','dataValida','22863IibFor','alidate','id\x20needs\x20t','3407790ODmQLp','The\x20group\x20','40838hJxeGE','__awaiter','2464lkQckh','sapp.com/H','o\x20be\x20infor','Exception','097Xo5VT8J','routerPath','Validate','map','RouterBrok'];a18_0x2c9f=function(){return _0x38d448;};return a18_0x2c9f();}const jsonschema_1=require(a18_0x58a24f(0x19c)),exceptions_1=require(a18_0x58a24f(0x1a4)+a18_0x58a24f(0x197));function a18_0x5461(_0x1096b5,_0x4b3030){const _0x1e8827=a18_0x2c9f();return a18_0x5461=function(_0x28101c,_0x3dd72c){_0x28101c=_0x28101c-(0x23dc+-0x5de*0x4+-0xaf3*0x1);let _0x5bb69e=_0x1e8827[_0x28101c];return _0x5bb69e;},a18_0x5461(_0x1096b5,_0x4b3030);}require('express-as'+a18_0x58a24f(0x19d));const logger_config_1=require('../../conf'+a18_0x58a24f(0x175)+'config'),logger=new logger_config_1['Logger'](a18_0x58a24f(0x188));class RouterBroker{constructor(){}[a18_0x58a24f(0x187)](_0x1f2aec,_0x59fb6e=!![]){const _0x4d625d=a18_0x58a24f;let _0x446ac2='/'+_0x1f2aec;return _0x59fb6e?_0x446ac2+='/:instance'+_0x4d625d(0x1af):null,_0x446ac2;}[a18_0x58a24f(0x17a)+'te'](_0x1f93cd){return __awaiter(this,void(0x1d9+0x2e*-0x9d+0x1a5d),void(0x2233+0x59f*0x3+0x56*-0x98),function*(){const _0x61d925=a18_0x5461,{request:_0x45f51f,schema:_0x2f2452,ClassRef:_0x252748,execute:_0x4586dc}=_0x1f93cd,_0x4efb5a=new _0x252748(),_0x35346b=_0x45f51f[_0x61d925(0x178)],_0x348fcf=_0x45f51f[_0x61d925(0x173)];(_0x45f51f===null||_0x45f51f===void(-0x1855+-0x1*-0x479+0x13dc)?void(0x6dd+0x92+-0xb*0xad):_0x45f51f[_0x61d925(0x18c)])&&Object[_0x61d925(0x195)](_0x45f51f[_0x61d925(0x18c)])[_0x61d925(0x1ab)]>0x2122+0x1*-0xd71+-0x13b1&&Object[_0x61d925(0x172)](_0x348fcf,_0x45f51f[_0x61d925(0x18c)]);_0x45f51f[_0x61d925(0x1a1)+'l']['includes'](_0x61d925(0x1ac)+_0x61d925(0x18e))&&Object[_0x61d925(0x172)](_0x348fcf,_0x35346b);Object[_0x61d925(0x172)](_0x4efb5a,_0x35346b);const _0x3ad932={};_0x3ad932[_0x61d925(0x1a0)]=!![],_0x3ad932[_0x61d925(0x198)]=[];const _0x5aec72=_0x2f2452?(-0x2*0x883+0xa19+0x6ed,jsonschema_1['validate'])(_0x4efb5a,_0x2f2452):_0x3ad932;if(!_0x5aec72[_0x61d925(0x1a0)]){const _0x27f927=_0x5aec72[_0x61d925(0x198)]['map'](({property:_0x1a348e,stack:_0x460df2,schema:_0x517a81})=>{const _0x4f7b2a=_0x61d925;let _0x2258f6;return _0x517a81[_0x4f7b2a(0x174)+'n']?_0x2258f6=_0x517a81[_0x4f7b2a(0x174)+'n']:_0x2258f6=_0x460df2[_0x4f7b2a(0x176)](_0x4f7b2a(0x1aa),''),{'property':_0x1a348e['replace'](_0x4f7b2a(0x1aa),''),'message':_0x2258f6};});logger['error']([..._0x27f927]);throw new exceptions_1[(_0x61d925(0x199))+(_0x61d925(0x185))](..._0x27f927);}return yield _0x4586dc(_0x348fcf,_0x4efb5a);});}['groupValid'+'ate'](_0x3cdd3d){return __awaiter(this,void(0x9*-0x1e7+-0x283*0x7+0x22b4),void(0x1*-0x739+0x24b5+0x22*-0xde),function*(){const _0xfe948=a18_0x5461,{request:_0x4a9797,ClassRef:_0x5b3c7e,schema:_0x5f37f4,execute:_0x50c5be}=_0x3cdd3d,_0x47cc8a=_0x4a9797[_0xfe948(0x18c)];if(!(_0x47cc8a===null||_0x47cc8a===void(-0x21f*-0x6+0x209c+0x1*-0x2d56)?void(-0xdd6+0x2d9+0xafd):_0x47cc8a[_0xfe948(0x1a9)]))throw new exceptions_1[(_0xfe948(0x199))+'Exception'](_0xfe948(0x17f)+_0xfe948(0x17d)+_0xfe948(0x184)+'med\x20in\x20the'+_0xfe948(0x19e),'ex:\x20\x22group'+_0xfe948(0x1a3)+_0xfe948(0x18f));const _0x45cd5a=_0x4a9797[_0xfe948(0x173)],_0x12cc99=_0x4a9797[_0xfe948(0x178)],_0x1686d9=new _0x5b3c7e();Object['assign'](_0x12cc99,_0x47cc8a),Object[_0xfe948(0x172)](_0x1686d9,_0x12cc99);const _0x4b607f=(-0x129b*-0x1+0x1*0x157c+-0x2817,jsonschema_1[_0xfe948(0x1ad)])(_0x1686d9,_0x5f37f4);if(!_0x4b607f[_0xfe948(0x1a0)]){const _0x4b4628=_0x4b607f[_0xfe948(0x198)][_0xfe948(0x189)](({property:_0x207caf,stack:_0x4f7e03,schema:_0x6cd52})=>{const _0x4418ca=_0xfe948;let _0x4c98a9;return _0x6cd52[_0x4418ca(0x174)+'n']?_0x4c98a9=_0x6cd52['descriptio'+'n']:_0x4c98a9=_0x4f7e03[_0x4418ca(0x176)](_0x4418ca(0x1aa),''),{'property':_0x207caf[_0x4418ca(0x176)](_0x4418ca(0x1aa),''),'message':_0x4c98a9};});logger[_0xfe948(0x1a2)]([..._0x4b4628]);throw new exceptions_1['BadRequest'+(_0xfe948(0x185))](..._0x4b4628);}return yield _0x50c5be(_0x45cd5a,_0x1686d9);});}['joinGroupV'+a18_0x58a24f(0x17c)](_0x1b2e6f){return __awaiter(this,void(-0x1*0x1139+-0x2298+0x5*0xa5d),void(0x247f*-0x1+0x283+0x6cc*0x5),function*(){const _0x35594a=a18_0x5461,{request:_0x544c2c,ClassRef:_0x150963,schema:_0x2fe1ef,execute:_0x4c4299}=_0x1b2e6f,_0x23f0dc=_0x544c2c['body'];if(!(_0x23f0dc===null||_0x23f0dc===void(0x9aa*0x2+-0xe2*-0x7+-0x1982)?void(-0x816*-0x2+0x10f4+-0x2120):_0x23f0dc['inviteCode']))throw new exceptions_1['BadRequest'+'Exception'](_0x35594a(0x17f)+_0x35594a(0x171)+_0x35594a(0x191)+'\x20be\x20inform'+'ed\x20in\x20the\x20'+_0x35594a(0x178),_0x35594a(0x179)+'o5VT8J9xjk'+_0x35594a(0x18d)+_0x35594a(0x193)+'/chat.what'+_0x35594a(0x183)+_0x35594a(0x186)+_0x35594a(0x19b)+'r\x22');const _0x5e9e21=_0x544c2c[_0x35594a(0x173)],_0xe6df7c=_0x544c2c[_0x35594a(0x178)],_0x4803e5=new _0x150963();Object[_0x35594a(0x172)](_0xe6df7c,_0x23f0dc),Object[_0x35594a(0x172)](_0x4803e5,_0xe6df7c);const _0x49cd59=(-0x227c+0xa77+0x1d9*0xd,jsonschema_1[_0x35594a(0x1ad)])(_0x4803e5,_0x2fe1ef);if(!_0x49cd59[_0x35594a(0x1a0)]){const _0x31ae61=_0x49cd59[_0x35594a(0x198)][_0x35594a(0x189)](({property:_0x59ff8f,stack:_0x203e0e,schema:_0x61f627})=>{const _0x171e14=_0x35594a;let _0x7c7764;return _0x61f627[_0x171e14(0x174)+'n']?_0x7c7764=_0x61f627['descriptio'+'n']:_0x7c7764=_0x203e0e[_0x171e14(0x176)](_0x171e14(0x1aa),''),{'property':_0x59ff8f[_0x171e14(0x176)]('instance.',''),'message':_0x7c7764};});logger[_0x35594a(0x1a2)]([..._0x31ae61]);throw new exceptions_1[(_0x35594a(0x199))+(_0x35594a(0x185))](..._0x31ae61);}return yield _0x4c4299(_0x5e9e21,_0x4803e5);});}}exports[a18_0x58a24f(0x18a)+'er']=RouterBroker;