'use strict';const a40_0x54e5f1=a40_0x450e;(function(_0xdb05db,_0x9be4ca){const _0x20a0ff=a40_0x450e,_0x65b9d7=_0xdb05db();while(!![]){try{const _0x525dc1=-parseInt(_0x20a0ff(0x68))/(0x6b*0x4d+-0x1*0x20ef+-0xc1*-0x1)*(-parseInt(_0x20a0ff(0x83))/(-0x16be*0x1+0x1*-0x1258+-0x8*-0x523))+-parseInt(_0x20a0ff(0xa8))/(-0xb1+0x3d*0x1d+0x7*-0xe3)+-parseInt(_0x20a0ff(0x9b))/(-0xc38+-0x6*-0x3e1+-0xb0a)*(-parseInt(_0x20a0ff(0x79))/(0x1634+-0x1f*0x61+-0xa70))+parseInt(_0x20a0ff(0x6b))/(-0x1*0xe75+0x804+0x1*0x677)*(parseInt(_0x20a0ff(0xa1))/(-0xb*0x26b+0x5d*0x54+-0x3e4))+-parseInt(_0x20a0ff(0x6e))/(0x1cf4*-0x1+-0x1d2e+0x5d1*0xa)*(parseInt(_0x20a0ff(0x92))/(-0x30*-0xb5+-0x643+-0xdd2*0x2))+-parseInt(_0x20a0ff(0x93))/(0xc7*-0x1+0x178e+-0x16bd)*(-parseInt(_0x20a0ff(0x97))/(-0x172d+-0x1a3*0x13+0x3651))+-parseInt(_0x20a0ff(0x9e))/(0x1*0xaf7+0x1982+-0x246d)*(-parseInt(_0x20a0ff(0xaa))/(-0x91*-0x33+0x15da*-0x1+-0x6fc));if(_0x525dc1===_0x9be4ca)break;else _0x65b9d7['push'](_0x65b9d7['shift']());}catch(_0x283bd0){_0x65b9d7['push'](_0x65b9d7['shift']());}}}(a40_0x47a9,0x48bfc+0x58546+-0x47137));var __awaiter=this&&this[a40_0x54e5f1(0x70)]||function(_0x45074f,_0xf601f9,_0x5418df,_0x1a37a0){function _0x137dc5(_0x34d80c){return _0x34d80c instanceof _0x5418df?_0x34d80c:new _0x5418df(function(_0x1abb65){_0x1abb65(_0x34d80c);});}return new(_0x5418df||(_0x5418df=Promise))(function(_0x26cfb0,_0x3d9013){const _0xca8be0=a40_0x450e;function _0xec2f62(_0x6937e6){const _0x238da1=a40_0x450e;try{_0x15cbc1(_0x1a37a0[_0x238da1(0x87)](_0x6937e6));}catch(_0x42a1f4){_0x3d9013(_0x42a1f4);}}function _0x27e1bf(_0x341d74){const _0x2d834e=a40_0x450e;try{_0x15cbc1(_0x1a37a0[_0x2d834e(0x8b)](_0x341d74));}catch(_0x284691){_0x3d9013(_0x284691);}}function _0x15cbc1(_0x134c95){const _0xa646e6=a40_0x450e;_0x134c95[_0xa646e6(0x75)]?_0x26cfb0(_0x134c95[_0xa646e6(0x8d)]):_0x137dc5(_0x134c95[_0xa646e6(0x8d)])[_0xa646e6(0x82)](_0xec2f62,_0x27e1bf);}_0x15cbc1((_0x1a37a0=_0x1a37a0[_0xca8be0(0x94)](_0x45074f,_0xf601f9||[]))['next']());});},__asyncValues=this&&this[a40_0x54e5f1(0xac)+a40_0x54e5f1(0x76)]||function(_0x57254a){const _0x319a10=a40_0x54e5f1;if(!Symbol[_0x319a10(0x96)+'tor'])throw new TypeError('Symbol.asy'+_0x319a10(0x84)+_0x319a10(0x80)+_0x319a10(0x81));var _0x389002=_0x57254a[Symbol[_0x319a10(0x96)+_0x319a10(0x6f)]],_0x59d6f5;return _0x389002?_0x389002['call'](_0x57254a):(_0x57254a=typeof __values===_0x319a10(0x86)?__values(_0x57254a):_0x57254a[Symbol[_0x319a10(0x73)]](),_0x59d6f5={},_0x3873b3('next'),_0x3873b3(_0x319a10(0x8b)),_0x3873b3(_0x319a10(0x74)),_0x59d6f5[Symbol['asyncItera'+'tor']]=function(){return this;},_0x59d6f5);function _0x3873b3(_0x16ad3f){_0x59d6f5[_0x16ad3f]=_0x57254a[_0x16ad3f]&&function(_0x3265ae){return new Promise(function(_0x293715,_0x5db2c8){const _0x3181b0=a40_0x450e;_0x3265ae=_0x57254a[_0x16ad3f](_0x3265ae),_0x410409(_0x293715,_0x5db2c8,_0x3265ae[_0x3181b0(0x75)],_0x3265ae[_0x3181b0(0x8d)]);});};}function _0x410409(_0x35fa9f,_0x206650,_0x5d8b47,_0x4bc167){const _0x244a52=_0x319a10;Promise[_0x244a52(0x8f)](_0x4bc167)[_0x244a52(0x82)](function(_0x4bf70d){const _0x5ee3b4=_0x244a52,_0x22dd12={};_0x22dd12[_0x5ee3b4(0x8d)]=_0x4bf70d,_0x22dd12[_0x5ee3b4(0x75)]=_0x5d8b47,_0x35fa9f(_0x22dd12);},_0x206650);}};const a40_0x6fcbc8={};a40_0x6fcbc8[a40_0x54e5f1(0x8d)]=!![],Object[a40_0x54e5f1(0xa5)+'erty'](exports,a40_0x54e5f1(0xb2),a40_0x6fcbc8),exports[a40_0x54e5f1(0x8c)+a40_0x54e5f1(0x7c)]=exports['MessageQue'+'ry']=void(-0x144+-0x5af*-0x2+-0xa1a);function a40_0x450e(_0x192ca6,_0x5c58f4){const _0x580c41=a40_0x47a9();return a40_0x450e=function(_0x39e08e,_0x6fcbc8){_0x39e08e=_0x39e08e-(0x2f*0x46+-0x4f8*0x1+-0x77a);let _0x2e2557=_0x580c41[_0x39e08e];return _0x2e2557;},a40_0x450e(_0x192ca6,_0x5c58f4);}const path_1=require(a40_0x54e5f1(0xae)),abstract_repository_1=require(a40_0x54e5f1(0x78)+a40_0x54e5f1(0xab)+a40_0x54e5f1(0xa6)+'y'),fs_1=require('fs');class MessageQuery{}exports[a40_0x54e5f1(0xa0)+'ry']=MessageQuery;function a40_0x47a9(){const _0x223b81=['assign','ENABLED','messages','5816TyDcXt','configServ','error','264AVtRqQ','key.','MessageQue','1426817RxZjlz','owner','messageMod','where','defineProp','.repositor','find','395790yTTtZu','utf-8','23231Xffjsx','t/abstract','__asyncVal','insert','path','log','.json','ice','__esModule','sort','1EyJvdH','isFile','limit','6mfTvKx','length','parse','5489728uLMamQ','tor','__awaiter','forEach','join','iterator','return','done','ues','writeStore','../abstrac','1270yAAPhy','readFileSy','key','ository','name','insertMany','dbSettings','\x20is\x20not\x20de','fined.','then','341966kpXQit','ncIterator','storePath','function','next','insertCoun','ERROR:\x20','splice','throw','MessageRep','value','estamp','resolve','entries','encoding','9SnPcrD','1344510exETcK','apply','messageTim','asyncItera','33KNCGVg'];a40_0x47a9=function(){return _0x223b81;};return a40_0x47a9();}class MessageRepository extends abstract_repository_1['Repository']{constructor(_0x3a03a7,_0x12a99e){const _0x2f4b23=a40_0x54e5f1;super(_0x12a99e),this[_0x2f4b23(0xa3)+'el']=_0x3a03a7,this[_0x2f4b23(0x9c)+_0x2f4b23(0xb1)]=_0x12a99e;}[a40_0x54e5f1(0xad)](_0x291d2d,_0x599fa=![]){return __awaiter(this,void(-0x20fa+0x26fe+-0x604),void(0x1*0x20d8+0xf5d+-0x2b*0x11f),function*(){const _0x55e584=a40_0x450e;if(_0x291d2d[_0x55e584(0x6c)]===-0x117e+0x1*-0x215a+0x32d8)return;try{if(this[_0x55e584(0x7f)][_0x55e584(0x99)]&&_0x599fa){const _0xc248e2=yield this[_0x55e584(0xa3)+'el'][_0x55e584(0x7e)]([..._0x291d2d]),_0x4f85c7={};return _0x4f85c7['insertCoun'+'t']=_0xc248e2[_0x55e584(0x6c)],_0x4f85c7;}if(_0x599fa){_0x291d2d[_0x55e584(0x71)](_0xfbfe82=>this[_0x55e584(0x77)]({'path':(-0x223e+0x1c52+-0x5ec*-0x1,path_1[_0x55e584(0x72)])(this['storePath'],'messages',_0xfbfe82[_0x55e584(0xa2)]),'fileName':_0xfbfe82['key']['id'],'data':_0xfbfe82}));const _0x716224={};return _0x716224[_0x55e584(0x88)+'t']=_0x291d2d[_0x55e584(0x6c)],_0x716224;}const _0x452e20={};return _0x452e20[_0x55e584(0x88)+'t']=0x0,_0x452e20;}catch(_0x4d4e77){return console[_0x55e584(0xaf)](_0x55e584(0x89),_0x4d4e77),_0x4d4e77;}finally{_0x291d2d=undefined;}});}[a40_0x54e5f1(0xa7)](_0xd29d37){var _0x2939a1,_0x201e11,_0x4c3b8f,_0x5d4bde,_0x33250b,_0x283758,_0x439d45,_0x45f749,_0x17b721,_0x39b8cf;return __awaiter(this,void(0x203f*-0x1+0x125e+-0xd1*-0x11),void(0xb28*-0x2+0x2405+-0x1*0xdb5),function*(){const _0x54b3e1=a40_0x450e;try{if(this[_0x54b3e1(0x7f)][_0x54b3e1(0x99)]){if((_0x33250b=_0xd29d37===null||_0xd29d37===void(0x26*-0xbe+-0x2310+0x3f44)?void(-0x10d6+-0x230e+-0xcf9*-0x4):_0xd29d37[_0x54b3e1(0xa4)])===null||_0x33250b===void(0x20af*-0x1+-0x161*0xf+0x355e)?void(-0x1d82+0x15c2+-0x3e0*-0x2):_0x33250b['key']){for(const [_0x227a64,_0x16ce3c]of Object[_0x54b3e1(0x90)](_0xd29d37[_0x54b3e1(0xa4)][_0x54b3e1(0x7b)])){_0xd29d37[_0x54b3e1(0xa4)][_0x54b3e1(0x9f)+_0x227a64]=_0x16ce3c;}(_0x283758=_0xd29d37===null||_0xd29d37===void(-0x1af*-0xd+-0x54+0x158f*-0x1)?void(0xa81+0x211f+-0x2ba0*0x1):_0xd29d37[_0x54b3e1(0xa4)])===null||_0x283758===void(0x359+0x23a6+-0x1*0x26ff)?!![]:delete _0x283758['key'];}const _0x34fabe={};return _0x34fabe['messageTim'+_0x54b3e1(0x8e)]=-(-0x15ed*0x1+0x315*0x9+0x5cf*-0x1),yield this[_0x54b3e1(0xa3)+'el'][_0x54b3e1(0xa7)](Object[_0x54b3e1(0x98)]({},_0xd29d37[_0x54b3e1(0xa4)]))[_0x54b3e1(0xb3)](_0x34fabe)[_0x54b3e1(0x6a)]((_0x439d45=_0xd29d37===null||_0xd29d37===void(0x116d*0x2+0x2*-0x5bf+-0x175c)?void(0x59*0x9+0xc62+-0xf83):_0xd29d37[_0x54b3e1(0x6a)])!==null&&_0x439d45!==void(0x582+0x59f*-0x1+-0x1d*-0x1)?_0x439d45:0x61c+0x214d+-0x2769);}const _0x42abe1=[];if((_0x17b721=(_0x45f749=_0xd29d37===null||_0xd29d37===void(-0x13*-0x1f+0xd94*-0x1+0xb47)?void(-0x2630+0x513+0x211d):_0xd29d37['where'])===null||_0x45f749===void(0x8*0x274+0xe04+-0x21a4)?void(-0x1e45+-0x1*-0xd9f+0x10a6):_0x45f749['key'])===null||_0x17b721===void(0x1b5*-0xf+0x68+0x1933)?void(0x231*-0x9+0x26f7+-0x133e):_0x17b721['id']){const _0x3f1524={};_0x3f1524[_0x54b3e1(0x91)]='utf-8',_0x42abe1['push'](JSON[_0x54b3e1(0x6d)]((0x6*0x28c+-0x4*0x23e+-0x4*0x194,fs_1[_0x54b3e1(0x7a)+'nc'])((0x3f5*-0x9+-0x1*0x1a7a+0x3e17,path_1[_0x54b3e1(0x72)])(this['storePath'],_0x54b3e1(0x9a),_0xd29d37[_0x54b3e1(0xa4)][_0x54b3e1(0xa2)],_0xd29d37['where'][_0x54b3e1(0x7b)]['id']+_0x54b3e1(0xb0)),_0x3f1524)));}else{const _0x182540={};_0x182540[_0x54b3e1(0x91)]='utf-8';const _0x563c62=(0xf24+-0x1*-0x13e3+0x31*-0xb7,fs_1['opendirSyn'+'c'])((0x72f+0xe69+-0x1598,path_1[_0x54b3e1(0x72)])(this[_0x54b3e1(0x85)],_0x54b3e1(0x9a),_0xd29d37['where'][_0x54b3e1(0xa2)]),_0x182540);try{for(var _0x57b0c7=!![],_0x2a646f=__asyncValues(_0x563c62),_0x25d977;_0x25d977=yield _0x2a646f[_0x54b3e1(0x87)](),_0x2939a1=_0x25d977[_0x54b3e1(0x75)],!_0x2939a1;){_0x5d4bde=_0x25d977['value'],_0x57b0c7=![];try{const _0x429627=_0x5d4bde;if(_0x429627[_0x54b3e1(0x69)]()){const _0x35ef62={};_0x35ef62[_0x54b3e1(0x91)]=_0x54b3e1(0xa9),_0x42abe1['push'](JSON[_0x54b3e1(0x6d)]((-0x5*-0x54a+-0x403*-0x7+0x129*-0x2f,fs_1['readFileSy'+'nc'])((-0x1e8f*0x1+0x512+0x197d,path_1[_0x54b3e1(0x72)])(this[_0x54b3e1(0x85)],_0x54b3e1(0x9a),_0xd29d37[_0x54b3e1(0xa4)][_0x54b3e1(0xa2)],_0x429627[_0x54b3e1(0x7d)]),_0x35ef62)));}}finally{_0x57b0c7=!![];}}}catch(_0x19a1ef){const _0x4570f8={};_0x4570f8[_0x54b3e1(0x9d)]=_0x19a1ef,_0x201e11=_0x4570f8;}finally{try{if(!_0x57b0c7&&!_0x2939a1&&(_0x4c3b8f=_0x2a646f[_0x54b3e1(0x74)]))yield _0x4c3b8f['call'](_0x2a646f);}finally{if(_0x201e11)throw _0x201e11[_0x54b3e1(0x9d)];}}}return _0x42abe1['sort']((_0x4637d5,_0x1e558e)=>{const _0x424c15=_0x54b3e1;return _0x1e558e[_0x424c15(0x95)+_0x424c15(0x8e)]-_0x4637d5[_0x424c15(0x95)+'estamp'];})[_0x54b3e1(0x8a)](0x100f+0x1*0x2f9+0xae*-0x1c,(_0x39b8cf=_0xd29d37===null||_0xd29d37===void(0x98*0x18+-0x12da+0x49a)?void(-0x223*0xa+0x1b16+-0x5b8):_0xd29d37[_0x54b3e1(0x6a)])!==null&&_0x39b8cf!==void(0x1ed*-0x9+-0x1*-0x1346+0x1f1*-0x1)?_0x39b8cf:_0x42abe1[_0x54b3e1(0x6c)]);}catch(_0x4d9fad){return[];}});}}exports[a40_0x54e5f1(0x8c)+a40_0x54e5f1(0x7c)]=MessageRepository;