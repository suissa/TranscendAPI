'use strict';const a40_0x3734aa=a40_0x4bb1;(function(_0x33dd31,_0x53633d){const _0x885b91=a40_0x4bb1,_0x3ff41e=_0x33dd31();while(!![]){try{const _0x652cdf=parseInt(_0x885b91(0xcd))/(0x12*-0xe0+0x7fa*-0x3+-0x1*-0x27af)+-parseInt(_0x885b91(0xd7))/(-0x4*0x95d+0x4*-0x7c6+0x4e*0xe1)*(-parseInt(_0x885b91(0xc6))/(0x1cbb+0x1*-0x359+-0xf*0x1b1))+parseInt(_0x885b91(0xc7))/(-0x16a2+0x266*-0x5+-0xb8c*-0x3)*(-parseInt(_0x885b91(0xca))/(-0x1bf6+0x3*0x47+0x1b26))+parseInt(_0x885b91(0xe3))/(0x12c1+-0x2307*0x1+0xe*0x12a)*(parseInt(_0x885b91(0xe1))/(0x2025+-0x1*0x1051+-0x5*0x329))+-parseInt(_0x885b91(0xc5))/(0x15*-0x8f+-0x3*-0x25+0x2d5*0x4)+-parseInt(_0x885b91(0x9f))/(-0xd9d+0x1e6*-0x12+0x2fd2)*(parseInt(_0x885b91(0xb3))/(-0x1564*-0x1+-0xc5*0x2f+0xed1))+parseInt(_0x885b91(0x9c))/(-0x1747*-0x1+0x2587+0x3*-0x1441);if(_0x652cdf===_0x53633d)break;else _0x3ff41e['push'](_0x3ff41e['shift']());}catch(_0x322bff){_0x3ff41e['push'](_0x3ff41e['shift']());}}}(a40_0x996e,-0x225e*-0x3+-0x1*0x15cd9d+0x20895d));var __awaiter=this&&this['__awaiter']||function(_0x25555a,_0x3fac33,_0x401c31,_0x45c834){function _0x3060f7(_0x74f8c2){return _0x74f8c2 instanceof _0x401c31?_0x74f8c2:new _0x401c31(function(_0x56148c){_0x56148c(_0x74f8c2);});}return new(_0x401c31||(_0x401c31=Promise))(function(_0x1583a7,_0xb055a2){const _0x327645=a40_0x4bb1;function _0x102e1c(_0x3c3eca){try{_0x449aef(_0x45c834['next'](_0x3c3eca));}catch(_0x500e95){_0xb055a2(_0x500e95);}}function _0x5a180d(_0x22ac8c){try{_0x449aef(_0x45c834['throw'](_0x22ac8c));}catch(_0x25061c){_0xb055a2(_0x25061c);}}function _0x449aef(_0x40413d){const _0x18de9c=a40_0x4bb1;_0x40413d[_0x18de9c(0xa1)]?_0x1583a7(_0x40413d[_0x18de9c(0xd0)]):_0x3060f7(_0x40413d[_0x18de9c(0xd0)])[_0x18de9c(0xb7)](_0x102e1c,_0x5a180d);}_0x449aef((_0x45c834=_0x45c834[_0x327645(0xcc)](_0x25555a,_0x3fac33||[]))[_0x327645(0xad)]());});},__asyncValues=this&&this[a40_0x3734aa(0xd3)+a40_0x3734aa(0xd8)]||function(_0x41f20d){const _0x897dfe=a40_0x3734aa;if(!Symbol['asyncItera'+_0x897dfe(0xcf)])throw new TypeError(_0x897dfe(0xb4)+_0x897dfe(0xb9)+_0x897dfe(0xa6)+_0x897dfe(0xab));var _0x38d13c=_0x41f20d[Symbol[_0x897dfe(0xc9)+_0x897dfe(0xcf)]],_0xca6e5c;return _0x38d13c?_0x38d13c['call'](_0x41f20d):(_0x41f20d=typeof __values===_0x897dfe(0xa9)?__values(_0x41f20d):_0x41f20d[Symbol[_0x897dfe(0xa3)]](),_0xca6e5c={},_0x9046a3(_0x897dfe(0xad)),_0x9046a3(_0x897dfe(0xdd)),_0x9046a3(_0x897dfe(0xa2)),_0xca6e5c[Symbol[_0x897dfe(0xc9)+_0x897dfe(0xcf)]]=function(){return this;},_0xca6e5c);function _0x9046a3(_0x2f23ef){_0xca6e5c[_0x2f23ef]=_0x41f20d[_0x2f23ef]&&function(_0x3b7e32){return new Promise(function(_0x3e7b70,_0x29ad1c){const _0x2e5f86=a40_0x4bb1;_0x3b7e32=_0x41f20d[_0x2f23ef](_0x3b7e32),_0x5f4871(_0x3e7b70,_0x29ad1c,_0x3b7e32[_0x2e5f86(0xa1)],_0x3b7e32[_0x2e5f86(0xd0)]);});};}function _0x5f4871(_0x573b0d,_0x342072,_0x33b889,_0x327eef){const _0x14c20a=_0x897dfe;Promise['resolve'](_0x327eef)[_0x14c20a(0xb7)](function(_0x3ef2c0){const _0x4eda23=_0x14c20a,_0x5035de={};_0x5035de[_0x4eda23(0xd0)]=_0x3ef2c0,_0x5035de['done']=_0x33b889,_0x573b0d(_0x5035de);},_0x342072);}};const a40_0x1ac9a0={};function a40_0x4bb1(_0x280452,_0xfd8884){const _0x361300=a40_0x996e();return a40_0x4bb1=function(_0x62ad7f,_0x5585b1){_0x62ad7f=_0x62ad7f-(0x1104+-0x4*-0x44b+-0x2194);let _0x1ac9a0=_0x361300[_0x62ad7f];return _0x1ac9a0;},a40_0x4bb1(_0x280452,_0xfd8884);}function a40_0x996e(){const _0x175270=['splice','43925HBTuod','messageTim','246PzGORU','8114678yiESlw','erty','ice','4930857GwFhVN','__esModule','done','return','iterator','readFileSy','key','\x20is\x20not\x20de','error','key.','function','.repositor','fined.','messages','next','t/abstract','find','join','insert','path','10vJrfOw','Symbol.asy','utf-8','MessageRep','then','assign','ncIterator','defineProp','length','limit','push','entries','where','messageMod','../abstrac','ENABLED','.json','ository','1016496oPhNwQ','243JumXLq','36452cSxzfz','call','asyncItera','485gBYqEN','ERROR:\x20','apply','220086OvBffC','owner','tor','value','storePath','MessageQue','__asyncVal','estamp','forEach','log','26510xFwJEW','ues','insertMany','sort','dbSettings','encoding','throw','insertCoun','parse'];a40_0x996e=function(){return _0x175270;};return a40_0x996e();}a40_0x1ac9a0[a40_0x3734aa(0xd0)]=!![],Object[a40_0x3734aa(0xba)+a40_0x3734aa(0x9d)](exports,a40_0x3734aa(0xa0),a40_0x1ac9a0),exports[a40_0x3734aa(0xb6)+a40_0x3734aa(0xc4)]=exports[a40_0x3734aa(0xd2)+'ry']=void(-0x1*-0xff9+0x26cc+0x7d3*-0x7);const path_1=require(a40_0x3734aa(0xb2)),abstract_repository_1=require(a40_0x3734aa(0xc1)+a40_0x3734aa(0xae)+a40_0x3734aa(0xaa)+'y'),fs_1=require('fs');class MessageQuery{}exports[a40_0x3734aa(0xd2)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1['Repository']{constructor(_0x5c6630,_0x259a5c){const _0x5b4477=a40_0x3734aa;super(_0x259a5c),this[_0x5b4477(0xc0)+'el']=_0x5c6630,this['configServ'+_0x5b4477(0x9e)]=_0x259a5c;}[a40_0x3734aa(0xb1)](_0x720f4,_0xa395b0=![]){return __awaiter(this,void(-0x10*-0x20b+0x216c+-0x421c*0x1),void(-0x4*0x173+-0x1df9+0x1*0x23c5),function*(){const _0x3dd06d=a40_0x4bb1;if(_0x720f4[_0x3dd06d(0xbb)]===0x432*-0x6+0x231a*-0x1+0x3c46)return;try{if(this[_0x3dd06d(0xdb)][_0x3dd06d(0xc2)]&&_0xa395b0){const _0x98184e=yield this['messageMod'+'el'][_0x3dd06d(0xd9)]([..._0x720f4]),_0x2e1dcb={};return _0x2e1dcb[_0x3dd06d(0xde)+'t']=_0x98184e[_0x3dd06d(0xbb)],_0x2e1dcb;}if(_0xa395b0){_0x720f4[_0x3dd06d(0xd5)](_0x5df862=>this['writeStore']({'path':(0x1*0x122b+0xc20*-0x2+0x615,path_1['join'])(this[_0x3dd06d(0xd1)],'messages',_0x5df862[_0x3dd06d(0xce)]),'fileName':_0x5df862[_0x3dd06d(0xa5)]['id'],'data':_0x5df862}));const _0x433536={};return _0x433536[_0x3dd06d(0xde)+'t']=_0x720f4['length'],_0x433536;}const _0x3a15ef={};return _0x3a15ef[_0x3dd06d(0xde)+'t']=0x0,_0x3a15ef;}catch(_0x2b237c){return console[_0x3dd06d(0xd6)](_0x3dd06d(0xcb),_0x2b237c),_0x2b237c;}finally{_0x720f4=undefined;}});}['find'](_0x2c497a){var _0x244616,_0x172111,_0xef436d,_0x3c1df1,_0x520ee0,_0x30173a,_0x4188bf,_0x29fcf7,_0x55fbd4,_0x176665;return __awaiter(this,void(0x10a7+-0xb*-0x35b+-0x3590),void(0x1fb5*-0x1+0xea8+0x110d),function*(){const _0x3133c7=a40_0x4bb1;try{if(this['dbSettings'][_0x3133c7(0xc2)]){if((_0x520ee0=_0x2c497a===null||_0x2c497a===void(-0x103f*0x1+0x13*0x194+-0xdbd*0x1)?void(-0x32b*0x7+0x7c4+-0x11*-0xd9):_0x2c497a[_0x3133c7(0xbf)])===null||_0x520ee0===void(0x4b4+0x37a*-0x3+0x5ba)?void(-0xa60+0xb23*0x3+-0x1709):_0x520ee0[_0x3133c7(0xa5)]){for(const [_0x21c296,_0x28fe9b]of Object[_0x3133c7(0xbe)](_0x2c497a['where']['key'])){_0x2c497a[_0x3133c7(0xbf)][_0x3133c7(0xa8)+_0x21c296]=_0x28fe9b;}(_0x30173a=_0x2c497a===null||_0x2c497a===void(0x1907+0x1f64+-0x386b)?void(0x1e9a+0xbf*-0x29+-0x3):_0x2c497a[_0x3133c7(0xbf)])===null||_0x30173a===void(0x13*-0x12e+0x1*-0xc89+0x22f3)?!![]:delete _0x30173a['key'];}const _0x62ffcc={};return _0x62ffcc['messageTim'+'estamp']=-(0x27*0x71+0xb9c*-0x3+0x6e*0x29),yield this['messageMod'+'el'][_0x3133c7(0xaf)](Object[_0x3133c7(0xb8)]({},_0x2c497a[_0x3133c7(0xbf)]))['sort'](_0x62ffcc)[_0x3133c7(0xbc)]((_0x4188bf=_0x2c497a===null||_0x2c497a===void(-0x228f+0x5*-0x5f1+-0x12*-0x392)?void(-0x46d+0xab9*0x1+-0x64c):_0x2c497a[_0x3133c7(0xbc)])!==null&&_0x4188bf!==void(0x1797+0x7f3*-0x3+0x42)?_0x4188bf:0x2*-0x24e+-0x7*-0x512+0x1*-0x1ee2);}const _0x54940c=[];if((_0x55fbd4=(_0x29fcf7=_0x2c497a===null||_0x2c497a===void(0x7*0x209+0x1c9a+-0x2ad9)?void(0x1a05*-0x1+0x1b*-0xe7+-0x2*-0x1931):_0x2c497a[_0x3133c7(0xbf)])===null||_0x29fcf7===void(-0x2481+-0x7*-0x2ba+0x116b)?void(-0x83*0x49+0x26*0x38+-0x5cf*-0x5):_0x29fcf7[_0x3133c7(0xa5)])===null||_0x55fbd4===void(-0x1*0x1543+-0x26c0+0x3c03)?void(-0x1*-0x1085+-0x1359*-0x1+-0x23de*0x1):_0x55fbd4['id']){const _0x349776={};_0x349776[_0x3133c7(0xdc)]=_0x3133c7(0xb5),_0x54940c['push'](JSON['parse']((0x5ba+0x1494+-0x2*0xd27,fs_1['readFileSy'+'nc'])((-0xfc*0x27+0x1115*0x1+0x154f,path_1['join'])(this[_0x3133c7(0xd1)],_0x3133c7(0xac),_0x2c497a[_0x3133c7(0xbf)]['owner'],_0x2c497a['where'][_0x3133c7(0xa5)]['id']+_0x3133c7(0xc3)),_0x349776)));}else{const _0xe5251e={};_0xe5251e[_0x3133c7(0xdc)]=_0x3133c7(0xb5);const _0x319b65=(0x4b3+-0x6*-0x38a+0x1*-0x19ef,fs_1['opendirSyn'+'c'])((-0x1*-0x2113+0x1677+0x378a*-0x1,path_1[_0x3133c7(0xb0)])(this[_0x3133c7(0xd1)],_0x3133c7(0xac),_0x2c497a[_0x3133c7(0xbf)][_0x3133c7(0xce)]),_0xe5251e);try{for(var _0x2a5ef9=!![],_0x5bec58=__asyncValues(_0x319b65),_0x5ae0cd;_0x5ae0cd=yield _0x5bec58[_0x3133c7(0xad)](),_0x244616=_0x5ae0cd['done'],!_0x244616;){_0x3c1df1=_0x5ae0cd[_0x3133c7(0xd0)],_0x2a5ef9=![];try{const _0x36bf20=_0x3c1df1;if(_0x36bf20['isFile']()){const _0x567123={};_0x567123[_0x3133c7(0xdc)]=_0x3133c7(0xb5),_0x54940c[_0x3133c7(0xbd)](JSON[_0x3133c7(0xdf)]((0x191*0xb+0x2*0x8b1+0x1*-0x229d,fs_1[_0x3133c7(0xa4)+'nc'])((-0xd39+-0x82*-0x3+-0x5*-0x257,path_1['join'])(this[_0x3133c7(0xd1)],'messages',_0x2c497a[_0x3133c7(0xbf)][_0x3133c7(0xce)],_0x36bf20['name']),_0x567123)));}}finally{_0x2a5ef9=!![];}}}catch(_0x157c82){const _0x3ba97d={};_0x3ba97d[_0x3133c7(0xa7)]=_0x157c82,_0x172111=_0x3ba97d;}finally{try{if(!_0x2a5ef9&&!_0x244616&&(_0xef436d=_0x5bec58[_0x3133c7(0xa2)]))yield _0xef436d[_0x3133c7(0xc8)](_0x5bec58);}finally{if(_0x172111)throw _0x172111[_0x3133c7(0xa7)];}}}return _0x54940c[_0x3133c7(0xda)]((_0x25032e,_0x29c4cf)=>{const _0xe8b97d=_0x3133c7;return _0x29c4cf[_0xe8b97d(0xe2)+_0xe8b97d(0xd4)]-_0x25032e[_0xe8b97d(0xe2)+_0xe8b97d(0xd4)];})[_0x3133c7(0xe0)](-0x2380+0x35*-0xb2+-0xa56*-0x7,(_0x176665=_0x2c497a===null||_0x2c497a===void(-0x942+-0xa*0x3ce+0x2f4e)?void(-0x17c3+0x1*0x1147+0x67c):_0x2c497a[_0x3133c7(0xbc)])!==null&&_0x176665!==void(-0x10ac+0x1*0xb25+0x587)?_0x176665:_0x54940c['length']);}catch(_0x2e80a7){return[];}});}}exports[a40_0x3734aa(0xb6)+'ository']=MessageRepository;