'use strict';const a40_0xf7f190=a40_0x476d;function a40_0x51d3(){const _0x3fdf91=['insertMany','length','insertCoun','Repository','where','\x20is\x20not\x20de','call','key','utf-8','fined.','entries','9871sSEqhU','sort','encoding','MessageRep','.repositor','join','forEach','__esModule','1265400wwVxxk','tor','function','iterator','207CoJblQ','resolve','.json','245511wEACnR','MessageQue','log','1234422rBwqMd','messageMod','configServ','then','parse','done','error','dbSettings','13182dBNTng','__awaiter','value','__asyncVal','isFile','find','opendirSyn','ository','owner','estamp','push','ice','messages','10fVDIAx','messageTim','ERROR:\x20','62272TXfbXX','next','12112QywpxN','erty','readFileSy','throw','path','return','ncIterator','storePath','key.','asyncItera'];a40_0x51d3=function(){return _0x3fdf91;};return a40_0x51d3();}(function(_0x326e11,_0x3b2333){const _0x539419=a40_0x476d,_0x20ac35=_0x326e11();while(!![]){try{const _0xbddfd3=parseInt(_0x539419(0x8e))/(-0x3*-0x8fd+0x1c25+-0x1*0x371b)*(-parseInt(_0x539419(0x74))/(0x23be+-0x1c63+-0x759))+-parseInt(_0x539419(0x9d))/(0xecd+0x23db+-0x32a5)+-parseInt(_0x539419(0x77))/(-0x1ecb*-0x1+-0x2fc+-0x1bcb)+parseInt(_0x539419(0x96))/(-0x1*-0x21d9+-0x1058*-0x2+-0x12*0x3b2)+-parseInt(_0x539419(0xa8))/(-0x11*0x12+0x37*0x3c+0x1f2*-0x6)+parseInt(_0x539419(0xa0))/(0x45*-0x34+-0x3*0xbff+0x3208)+parseInt(_0x539419(0x79))/(-0x108*0x23+-0x20c7+0x44e7*0x1)*(parseInt(_0x539419(0x9a))/(0x378+0xceb*0x3+-0x2a30));if(_0xbddfd3===_0x3b2333)break;else _0x20ac35['push'](_0x20ac35['shift']());}catch(_0x5cd875){_0x20ac35['push'](_0x20ac35['shift']());}}}(a40_0x51d3,-0x4c81e+0x30a4f*-0x1+0xca208));var __awaiter=this&&this[a40_0xf7f190(0xa9)]||function(_0x36c1ee,_0x3fa4c9,_0x3818a7,_0x297fca){function _0xbde11d(_0x3962cd){return _0x3962cd instanceof _0x3818a7?_0x3962cd:new _0x3818a7(function(_0x299ea4){_0x299ea4(_0x3962cd);});}return new(_0x3818a7||(_0x3818a7=Promise))(function(_0xbe6df3,_0x23bd57){const _0xa7a75c=a40_0x476d;function _0x1f2135(_0xf23e2f){const _0x572662=a40_0x476d;try{_0xe7dce(_0x297fca[_0x572662(0x78)](_0xf23e2f));}catch(_0x345096){_0x23bd57(_0x345096);}}function _0x35a7e0(_0x3e2af0){try{_0xe7dce(_0x297fca['throw'](_0x3e2af0));}catch(_0x7f0f1b){_0x23bd57(_0x7f0f1b);}}function _0xe7dce(_0x3d991a){const _0x36db7d=a40_0x476d;_0x3d991a[_0x36db7d(0xa5)]?_0xbe6df3(_0x3d991a[_0x36db7d(0xaa)]):_0xbde11d(_0x3d991a[_0x36db7d(0xaa)])[_0x36db7d(0xa3)](_0x1f2135,_0x35a7e0);}_0xe7dce((_0x297fca=_0x297fca['apply'](_0x36c1ee,_0x3fa4c9||[]))[_0xa7a75c(0x78)]());});},__asyncValues=this&&this[a40_0xf7f190(0xab)+'ues']||function(_0xe6340f){const _0x277ca0=a40_0xf7f190;if(!Symbol[_0x277ca0(0x82)+_0x277ca0(0x97)])throw new TypeError('Symbol.asy'+_0x277ca0(0x7f)+_0x277ca0(0x88)+_0x277ca0(0x8c));var _0x12e7ea=_0xe6340f[Symbol[_0x277ca0(0x82)+'tor']],_0x5990cc;return _0x12e7ea?_0x12e7ea[_0x277ca0(0x89)](_0xe6340f):(_0xe6340f=typeof __values===_0x277ca0(0x98)?__values(_0xe6340f):_0xe6340f[Symbol[_0x277ca0(0x99)]](),_0x5990cc={},_0x263dd8(_0x277ca0(0x78)),_0x263dd8(_0x277ca0(0x7c)),_0x263dd8(_0x277ca0(0x7e)),_0x5990cc[Symbol[_0x277ca0(0x82)+_0x277ca0(0x97)]]=function(){return this;},_0x5990cc);function _0x263dd8(_0x4bc025){_0x5990cc[_0x4bc025]=_0xe6340f[_0x4bc025]&&function(_0x227c4e){return new Promise(function(_0x2197fd,_0x53addf){const _0x219926=a40_0x476d;_0x227c4e=_0xe6340f[_0x4bc025](_0x227c4e),_0x3e1efc(_0x2197fd,_0x53addf,_0x227c4e[_0x219926(0xa5)],_0x227c4e[_0x219926(0xaa)]);});};}function _0x3e1efc(_0x5933e1,_0x2cdb22,_0x110434,_0x547773){const _0xccc6f0=_0x277ca0;Promise[_0xccc6f0(0x9b)](_0x547773)[_0xccc6f0(0xa3)](function(_0x340d12){const _0x21b21f=_0xccc6f0,_0x51d2e6={};_0x51d2e6['value']=_0x340d12,_0x51d2e6[_0x21b21f(0xa5)]=_0x110434,_0x5933e1(_0x51d2e6);},_0x2cdb22);}};const a40_0x267550={};a40_0x267550[a40_0xf7f190(0xaa)]=!![],Object['defineProp'+a40_0xf7f190(0x7a)](exports,a40_0xf7f190(0x95),a40_0x267550),exports[a40_0xf7f190(0x91)+a40_0xf7f190(0xaf)]=exports[a40_0xf7f190(0x9e)+'ry']=void(0x3cd+-0x1926+0x1*0x1559);const path_1=require(a40_0xf7f190(0x7d)),abstract_repository_1=require('../abstrac'+'t/abstract'+a40_0xf7f190(0x92)+'y'),fs_1=require('fs');class MessageQuery{}exports[a40_0xf7f190(0x9e)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1[a40_0xf7f190(0x86)]{constructor(_0x3fea8f,_0x229ddc){const _0x641e2c=a40_0xf7f190;super(_0x229ddc),this['messageMod'+'el']=_0x3fea8f,this[_0x641e2c(0xa2)+_0x641e2c(0xb3)]=_0x229ddc;}['insert'](_0x2ca49d,_0x4aca17=![]){return __awaiter(this,void(0x2612+-0x24ba+-0x158),void(0xbec+-0x2*0xd3+0x107*-0xa),function*(){const _0x314772=a40_0x476d;if(_0x2ca49d[_0x314772(0x84)]===-0x2180+-0xdb7+0x2f37)return;try{if(this[_0x314772(0xa7)]['ENABLED']&&_0x4aca17){const _0x42d481=yield this[_0x314772(0xa1)+'el'][_0x314772(0x83)]([..._0x2ca49d]),_0x59c6e8={};return _0x59c6e8[_0x314772(0x85)+'t']=_0x42d481[_0x314772(0x84)],_0x59c6e8;}if(_0x4aca17){_0x2ca49d[_0x314772(0x94)](_0x5a8327=>this['writeStore']({'path':(0x1241*0x1+0x1b4c*0x1+-0x2d8d,path_1['join'])(this[_0x314772(0x80)],_0x314772(0xb4),_0x5a8327['owner']),'fileName':_0x5a8327[_0x314772(0x8a)]['id'],'data':_0x5a8327}));const _0x5b414f={};return _0x5b414f[_0x314772(0x85)+'t']=_0x2ca49d['length'],_0x5b414f;}const _0x271a56={};return _0x271a56['insertCoun'+'t']=0x0,_0x271a56;}catch(_0x3f842e){return console[_0x314772(0x9f)](_0x314772(0x76),_0x3f842e),_0x3f842e;}finally{_0x2ca49d=undefined;}});}[a40_0xf7f190(0xad)](_0x5731ad){var _0xc61a1d,_0x491c05,_0x39b93f,_0x377c43,_0x48cf3b,_0x40476a,_0x1a6a8a,_0x3edf2b,_0xa968b5,_0x1c5e75;return __awaiter(this,void(-0x11ab+0x7eb*-0x4+0x11*0x2e7),void(-0x1*0x367+0x2618+0x22b1*-0x1),function*(){const _0x10f0fc=a40_0x476d;try{if(this[_0x10f0fc(0xa7)]['ENABLED']){if((_0x48cf3b=_0x5731ad===null||_0x5731ad===void(0x18de+0x1cf6+-0x35d4)?void(0x6b0+0x11b7*0x1+-0x1*0x1867):_0x5731ad[_0x10f0fc(0x87)])===null||_0x48cf3b===void(-0x9*0x20b+-0x1*-0xf29+-0x7*-0x76)?void(-0x24e0+0xcaf+0xb*0x233):_0x48cf3b[_0x10f0fc(0x8a)]){for(const [_0x42bc14,_0x3dea0e]of Object[_0x10f0fc(0x8d)](_0x5731ad[_0x10f0fc(0x87)][_0x10f0fc(0x8a)])){_0x5731ad[_0x10f0fc(0x87)][_0x10f0fc(0x81)+_0x42bc14]=_0x3dea0e;}(_0x40476a=_0x5731ad===null||_0x5731ad===void(0x937+0x2227+0x7a*-0x5b)?void(0xe1e+-0x2*0xa1+-0xcdc):_0x5731ad[_0x10f0fc(0x87)])===null||_0x40476a===void(-0x8*-0x8e+-0x24a+-0x2*0x113)?!![]:delete _0x40476a[_0x10f0fc(0x8a)];}const _0xc8dca8={};return _0xc8dca8['messageTim'+'estamp']=-(-0xcd4+0x88+-0x2f*-0x43),yield this['messageMod'+'el'][_0x10f0fc(0xad)](Object['assign']({},_0x5731ad['where']))['sort'](_0xc8dca8)['limit']((_0x1a6a8a=_0x5731ad===null||_0x5731ad===void(-0x1ab4+0x3*0xed+0x17ed)?void(0x148+-0x19f4+0x18ac):_0x5731ad['limit'])!==null&&_0x1a6a8a!==void(-0xf3b*0x2+-0x1*-0x139f+0xad7)?_0x1a6a8a:0x58f*0x1+-0x2ec+-0x19*0x1b);}const _0x4f996e=[];if((_0xa968b5=(_0x3edf2b=_0x5731ad===null||_0x5731ad===void(-0x1*-0x1a4f+0x43*0x4b+0x348*-0xe)?void(-0x11*-0x1d2+-0x229d+0x3ab):_0x5731ad['where'])===null||_0x3edf2b===void(-0x2067+-0xb5b+0x2bc2)?void(-0xb*0x265+0x1147*-0x1+0x2b9e):_0x3edf2b['key'])===null||_0xa968b5===void(-0x270b+-0x11ff+0x390a)?void(-0x1b28+-0x96+-0x1*-0x1bbe):_0xa968b5['id']){const _0x4884e4={};_0x4884e4['encoding']=_0x10f0fc(0x8b),_0x4f996e[_0x10f0fc(0xb2)](JSON[_0x10f0fc(0xa4)]((-0xcbd*-0x1+-0xdf8+-0x69*-0x3,fs_1['readFileSy'+'nc'])((-0x2503+-0x6ca+0x2bcd,path_1[_0x10f0fc(0x93)])(this['storePath'],_0x10f0fc(0xb4),_0x5731ad[_0x10f0fc(0x87)][_0x10f0fc(0xb0)],_0x5731ad[_0x10f0fc(0x87)][_0x10f0fc(0x8a)]['id']+_0x10f0fc(0x9c)),_0x4884e4)));}else{const _0x4cf15a={};_0x4cf15a[_0x10f0fc(0x90)]=_0x10f0fc(0x8b);const _0x3ff773=(0x23*-0x17+0x1db4+0x1a8f*-0x1,fs_1[_0x10f0fc(0xae)+'c'])((0x17*-0x14c+0x1*-0x19f3+0x37c7,path_1[_0x10f0fc(0x93)])(this[_0x10f0fc(0x80)],_0x10f0fc(0xb4),_0x5731ad[_0x10f0fc(0x87)][_0x10f0fc(0xb0)]),_0x4cf15a);try{for(var _0x4b3a93=!![],_0x45faab=__asyncValues(_0x3ff773),_0x46a11c;_0x46a11c=yield _0x45faab[_0x10f0fc(0x78)](),_0xc61a1d=_0x46a11c[_0x10f0fc(0xa5)],!_0xc61a1d;){_0x377c43=_0x46a11c[_0x10f0fc(0xaa)],_0x4b3a93=![];try{const _0xa9307=_0x377c43;if(_0xa9307[_0x10f0fc(0xac)]()){const _0x5b4e15={};_0x5b4e15['encoding']='utf-8',_0x4f996e['push'](JSON[_0x10f0fc(0xa4)]((-0x1*0xd13+0x1c9a*0x1+-0xf87,fs_1[_0x10f0fc(0x7b)+'nc'])((0x6ab+-0x1fd3+0x1928,path_1[_0x10f0fc(0x93)])(this[_0x10f0fc(0x80)],_0x10f0fc(0xb4),_0x5731ad[_0x10f0fc(0x87)][_0x10f0fc(0xb0)],_0xa9307['name']),_0x5b4e15)));}}finally{_0x4b3a93=!![];}}}catch(_0x30920e){const _0x3d6039={};_0x3d6039[_0x10f0fc(0xa6)]=_0x30920e,_0x491c05=_0x3d6039;}finally{try{if(!_0x4b3a93&&!_0xc61a1d&&(_0x39b93f=_0x45faab['return']))yield _0x39b93f[_0x10f0fc(0x89)](_0x45faab);}finally{if(_0x491c05)throw _0x491c05[_0x10f0fc(0xa6)];}}}return _0x4f996e[_0x10f0fc(0x8f)]((_0x469386,_0x3d643b)=>{const _0x1461ee=_0x10f0fc;return _0x3d643b[_0x1461ee(0x75)+_0x1461ee(0xb1)]-_0x469386[_0x1461ee(0x75)+'estamp'];})['splice'](0x3f*0x1+-0x3*-0x419+0xa*-0x141,(_0x1c5e75=_0x5731ad===null||_0x5731ad===void(0xb92*0x2+-0x7ab*-0x5+-0x1*0x3d7b)?void(0x1ed9+0x6e2+-0x25bb):_0x5731ad['limit'])!==null&&_0x1c5e75!==void(-0x16*0x10d+-0x1f*0x1d+-0x11*-0x191)?_0x1c5e75:_0x4f996e['length']);}catch(_0x340a7b){return[];}});}}function a40_0x476d(_0x26453c,_0x462b47){const _0x1ecf42=a40_0x51d3();return a40_0x476d=function(_0x528e92,_0x267550){_0x528e92=_0x528e92-(0x7*-0xc+0xc2e+0x2*-0x5b3);let _0x345422=_0x1ecf42[_0x528e92];return _0x345422;},a40_0x476d(_0x26453c,_0x462b47);}exports[a40_0xf7f190(0x91)+a40_0xf7f190(0xaf)]=MessageRepository;