'use strict';const a40_0x4c95d7=a40_0x5c27;(function(_0x595909,_0x4af316){const _0x4ba493=a40_0x5c27,_0x5a3802=_0x595909();while(!![]){try{const _0x255bb0=parseInt(_0x4ba493(0x1f1))/(0xee*0x13+0x1*-0x25a5+-0x4ff*-0x4)*(parseInt(_0x4ba493(0x205))/(-0x26d1+-0xf0+0x27c3))+-parseInt(_0x4ba493(0x1fb))/(0x206d+-0x1858+-0x812)*(parseInt(_0x4ba493(0x1ee))/(0x1*0x16cf+0x1e66+-0x3531))+-parseInt(_0x4ba493(0x1ec))/(0x1a9e+-0x12e9*-0x1+-0x2d82)+-parseInt(_0x4ba493(0x1fe))/(-0x22df+0x41b*0x2+0x1aaf)+parseInt(_0x4ba493(0x20c))/(-0x651+-0x1e03+0x245b*0x1)*(-parseInt(_0x4ba493(0x203))/(-0x22de+0x2493+-0x1ad))+-parseInt(_0x4ba493(0x1f7))/(0x780+0x1*-0x4bf+-0x2b8)+parseInt(_0x4ba493(0x1ed))/(0x18e+-0xd*0x217+-0x3*-0x88d)*(parseInt(_0x4ba493(0x21f))/(0xb17+-0x2*-0x1336+0xc5e*-0x4));if(_0x255bb0===_0x4af316)break;else _0x5a3802['push'](_0x5a3802['shift']());}catch(_0x54e289){_0x5a3802['push'](_0x5a3802['shift']());}}}(a40_0x5812,0x74c58+-0xad821+0xccbad));var __awaiter=this&&this['__awaiter']||function(_0x524f68,_0x4289aa,_0x2a66b3,_0x2ba062){function _0xba9c19(_0xa2f570){return _0xa2f570 instanceof _0x2a66b3?_0xa2f570:new _0x2a66b3(function(_0xf5539f){_0xf5539f(_0xa2f570);});}return new(_0x2a66b3||(_0x2a66b3=Promise))(function(_0x44414d,_0x38ca7d){const _0x58a0b3=a40_0x5c27;function _0x385e4d(_0x42f287){try{_0xd3b175(_0x2ba062['next'](_0x42f287));}catch(_0x48c6cd){_0x38ca7d(_0x48c6cd);}}function _0x10f956(_0x58f030){try{_0xd3b175(_0x2ba062['throw'](_0x58f030));}catch(_0x4fbf35){_0x38ca7d(_0x4fbf35);}}function _0xd3b175(_0x5c382b){const _0x3ed2fc=a40_0x5c27;_0x5c382b['done']?_0x44414d(_0x5c382b['value']):_0xba9c19(_0x5c382b[_0x3ed2fc(0x1f5)])[_0x3ed2fc(0x1fa)](_0x385e4d,_0x10f956);}_0xd3b175((_0x2ba062=_0x2ba062[_0x58a0b3(0x208)](_0x524f68,_0x4289aa||[]))['next']());});},__asyncValues=this&&this[a40_0x4c95d7(0x221)+a40_0x4c95d7(0x220)]||function(_0x5e19ea){const _0x1ffdc4=a40_0x4c95d7;if(!Symbol[_0x1ffdc4(0x213)+_0x1ffdc4(0x22c)])throw new TypeError('Symbol.asy'+'ncIterator'+_0x1ffdc4(0x1f9)+'fined.');var _0x2407b3=_0x5e19ea[Symbol[_0x1ffdc4(0x213)+_0x1ffdc4(0x22c)]],_0x1a402a;return _0x2407b3?_0x2407b3['call'](_0x5e19ea):(_0x5e19ea=typeof __values==='function'?__values(_0x5e19ea):_0x5e19ea[Symbol['iterator']](),_0x1a402a={},_0x2b722f(_0x1ffdc4(0x201)),_0x2b722f(_0x1ffdc4(0x1f0)),_0x2b722f('return'),_0x1a402a[Symbol[_0x1ffdc4(0x213)+_0x1ffdc4(0x22c)]]=function(){return this;},_0x1a402a);function _0x2b722f(_0x2fb856){_0x1a402a[_0x2fb856]=_0x5e19ea[_0x2fb856]&&function(_0x2b9175){return new Promise(function(_0x59e0d5,_0x1092a9){const _0x298914=a40_0x5c27;_0x2b9175=_0x5e19ea[_0x2fb856](_0x2b9175),_0x32f574(_0x59e0d5,_0x1092a9,_0x2b9175['done'],_0x2b9175[_0x298914(0x1f5)]);});};}function _0x32f574(_0x586feb,_0x51371a,_0x4ef31a,_0x4da385){const _0x595578=_0x1ffdc4;Promise['resolve'](_0x4da385)[_0x595578(0x1fa)](function(_0x5f3b07){const _0x4439e8=_0x595578,_0x1b41d8={};_0x1b41d8['value']=_0x5f3b07,_0x1b41d8[_0x4439e8(0x1f6)]=_0x4ef31a,_0x586feb(_0x1b41d8);},_0x51371a);}};function a40_0x5812(){const _0x79ecbd=['messageTim','MessageRep','.json','entries','parse','asyncItera','ENABLED','estamp','ository','where','dbSettings','writeStore','messageMod','sort','defineProp','ERROR:\x20','utf-8','11512204RMXrKd','ues','__asyncVal','storePath','MessageQue','isFile','ice','configServ','Repository','path','encoding','push','error','tor','.repositor','t/abstract','../abstrac','1434290EHEjMr','20kNfUeL','44gTvafX','__esModule','throw','2257yRBdzF','limit','readFileSy','length','value','done','2176587IRjSTz','join','\x20is\x20not\x20de','then','5601GPobeV','find','messages','4290636RQMIjP','return','forEach','next','log','7179576Sskokn','splice','598wBYBWu','key','opendirSyn','apply','insert','insertMany','insertCoun','7zukfjY','owner'];a40_0x5812=function(){return _0x79ecbd;};return a40_0x5812();}const a40_0x535063={};a40_0x535063[a40_0x4c95d7(0x1f5)]=!![],Object[a40_0x4c95d7(0x21c)+'erty'](exports,a40_0x4c95d7(0x1ef),a40_0x535063),exports[a40_0x4c95d7(0x20f)+a40_0x4c95d7(0x216)]=exports['MessageQue'+'ry']=void(-0x23de+0x10d*-0x4+-0x1*-0x2812);function a40_0x5c27(_0x2a0e0c,_0x45dbb7){const _0x12063e=a40_0x5812();return a40_0x5c27=function(_0x535063,_0x3e9856){_0x535063=_0x535063-(0x795*-0x1+0x1*-0x1472+-0xef9*-0x2);let _0x2a8f85=_0x12063e[_0x535063];return _0x2a8f85;},a40_0x5c27(_0x2a0e0c,_0x45dbb7);}const path_1=require(a40_0x4c95d7(0x228)),abstract_repository_1=require(a40_0x4c95d7(0x1eb)+a40_0x4c95d7(0x22e)+a40_0x4c95d7(0x22d)+'y'),fs_1=require('fs');class MessageQuery{}exports[a40_0x4c95d7(0x223)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1[a40_0x4c95d7(0x227)]{constructor(_0x4e91bd,_0x12e8d6){const _0x529221=a40_0x4c95d7;super(_0x12e8d6),this[_0x529221(0x21a)+'el']=_0x4e91bd,this[_0x529221(0x226)+_0x529221(0x225)]=_0x12e8d6;}[a40_0x4c95d7(0x209)](_0x1dddc8,_0x21594a=![]){return __awaiter(this,void(-0x1*0x244d+-0x1032+0x347f),void(-0x1d00+0x2*-0xdb7+0x386e),function*(){const _0x5bb407=a40_0x5c27;if(_0x1dddc8[_0x5bb407(0x1f4)]===-0x6c+0x12e3+-0x1277)return;try{if(this[_0x5bb407(0x218)][_0x5bb407(0x214)]&&_0x21594a){const _0x2dfb0f=yield this[_0x5bb407(0x21a)+'el'][_0x5bb407(0x20a)]([..._0x1dddc8]),_0x23a6df={};return _0x23a6df[_0x5bb407(0x20b)+'t']=_0x2dfb0f[_0x5bb407(0x1f4)],_0x23a6df;}if(_0x21594a){_0x1dddc8[_0x5bb407(0x200)](_0x570902=>this[_0x5bb407(0x219)]({'path':(0x44*0x92+0x1*-0x3fa+-0x22ce,path_1['join'])(this[_0x5bb407(0x222)],_0x5bb407(0x1fd),_0x570902[_0x5bb407(0x20d)]),'fileName':_0x570902[_0x5bb407(0x206)]['id'],'data':_0x570902}));const _0x3cd1fb={};return _0x3cd1fb[_0x5bb407(0x20b)+'t']=_0x1dddc8['length'],_0x3cd1fb;}const _0x1e9b9c={};return _0x1e9b9c[_0x5bb407(0x20b)+'t']=0x0,_0x1e9b9c;}catch(_0x2c277a){return console[_0x5bb407(0x202)](_0x5bb407(0x21d),_0x2c277a),_0x2c277a;}finally{_0x1dddc8=undefined;}});}[a40_0x4c95d7(0x1fc)](_0x3d6532){var _0x5649bf,_0x4b5e23,_0x4d09a0,_0x2ec52a,_0x383fc0,_0xbdf757,_0x37cf32,_0x3861ab,_0x35d63a,_0x564fdf;return __awaiter(this,void(-0x7*-0x55+-0x3b*-0x65+0x2*-0xccd),void(-0xa3*0x26+-0x50c*0x4+0x36a*0xd),function*(){const _0x3dd178=a40_0x5c27;try{if(this[_0x3dd178(0x218)]['ENABLED']){if((_0x383fc0=_0x3d6532===null||_0x3d6532===void(-0x11a8+-0xf1f+0x1*0x20c7)?void(-0x112c+-0x25df+0x29f*0x15):_0x3d6532[_0x3dd178(0x217)])===null||_0x383fc0===void(-0x1671+0xd9b+0x3*0x2f2)?void(-0x2624+-0x21e6+0x480a):_0x383fc0[_0x3dd178(0x206)]){for(const [_0x3ded1b,_0x3e7896]of Object[_0x3dd178(0x211)](_0x3d6532[_0x3dd178(0x217)][_0x3dd178(0x206)])){_0x3d6532['where']['key.'+_0x3ded1b]=_0x3e7896;}(_0xbdf757=_0x3d6532===null||_0x3d6532===void(0x153d+-0x3*0x15+-0x14fe)?void(-0x93*-0x1+0x1ce7+-0x1d7a):_0x3d6532[_0x3dd178(0x217)])===null||_0xbdf757===void(-0x133*0xa+0x296+0x968)?!![]:delete _0xbdf757['key'];}const _0x372276={};return _0x372276[_0x3dd178(0x20e)+_0x3dd178(0x215)]=-(0x928*-0x2+-0x54+0x12a5),yield this[_0x3dd178(0x21a)+'el'][_0x3dd178(0x1fc)](Object['assign']({},_0x3d6532[_0x3dd178(0x217)]))['sort'](_0x372276)['limit']((_0x37cf32=_0x3d6532===null||_0x3d6532===void(0x83e+0x1*-0x7bb+-0x83)?void(0xbc5+0xbc5*0x2+-0x234f):_0x3d6532[_0x3dd178(0x1f2)])!==null&&_0x37cf32!==void(0x17b1+-0x28*0xac+0x32f)?_0x37cf32:-0xeb0+0x259*-0x7+0x1f1f);}const _0x9c0725=[];if((_0x35d63a=(_0x3861ab=_0x3d6532===null||_0x3d6532===void(0x1581+0x24cd+-0x3a4e)?void(0x1*0x1a3d+0x149f+-0x2edc):_0x3d6532[_0x3dd178(0x217)])===null||_0x3861ab===void(0x10ef+0x1*-0x1ea3+0xdb4)?void(-0x523+-0x20de+-0x1*-0x2601):_0x3861ab[_0x3dd178(0x206)])===null||_0x35d63a===void(0x2*-0x91a+-0x6b3+0x18e7)?void(-0x15de+-0x4f+-0x162d*-0x1):_0x35d63a['id']){const _0x393b7b={};_0x393b7b[_0x3dd178(0x229)]=_0x3dd178(0x21e),_0x9c0725['push'](JSON[_0x3dd178(0x212)]((0xfec*0x1+-0x1ddc+0xdf0,fs_1[_0x3dd178(0x1f3)+'nc'])((-0x1265+0x5a*-0x6+-0xb5*-0x1d,path_1['join'])(this[_0x3dd178(0x222)],_0x3dd178(0x1fd),_0x3d6532[_0x3dd178(0x217)][_0x3dd178(0x20d)],_0x3d6532[_0x3dd178(0x217)][_0x3dd178(0x206)]['id']+_0x3dd178(0x210)),_0x393b7b)));}else{const _0x5e9b05={};_0x5e9b05[_0x3dd178(0x229)]=_0x3dd178(0x21e);const _0x28eff7=(0x1e9f+-0x2029*0x1+0x18a,fs_1[_0x3dd178(0x207)+'c'])((-0x1*0xc1+0x30d*0x5+-0xe80,path_1[_0x3dd178(0x1f8)])(this[_0x3dd178(0x222)],'messages',_0x3d6532[_0x3dd178(0x217)][_0x3dd178(0x20d)]),_0x5e9b05);try{for(var _0x3ebf16=!![],_0x619990=__asyncValues(_0x28eff7),_0x105ef3;_0x105ef3=yield _0x619990[_0x3dd178(0x201)](),_0x5649bf=_0x105ef3[_0x3dd178(0x1f6)],!_0x5649bf;){_0x2ec52a=_0x105ef3[_0x3dd178(0x1f5)],_0x3ebf16=![];try{const _0x55e206=_0x2ec52a;if(_0x55e206[_0x3dd178(0x224)]()){const _0x1cbe89={};_0x1cbe89[_0x3dd178(0x229)]=_0x3dd178(0x21e),_0x9c0725[_0x3dd178(0x22a)](JSON['parse']((0x148c+0x1b*-0x80+0x386*-0x2,fs_1[_0x3dd178(0x1f3)+'nc'])((-0x13b+-0x1*0xd96+0xed1,path_1[_0x3dd178(0x1f8)])(this['storePath'],_0x3dd178(0x1fd),_0x3d6532[_0x3dd178(0x217)][_0x3dd178(0x20d)],_0x55e206['name']),_0x1cbe89)));}}finally{_0x3ebf16=!![];}}}catch(_0x28670e){const _0x2d5f79={};_0x2d5f79[_0x3dd178(0x22b)]=_0x28670e,_0x4b5e23=_0x2d5f79;}finally{try{if(!_0x3ebf16&&!_0x5649bf&&(_0x4d09a0=_0x619990[_0x3dd178(0x1ff)]))yield _0x4d09a0['call'](_0x619990);}finally{if(_0x4b5e23)throw _0x4b5e23[_0x3dd178(0x22b)];}}}return _0x9c0725[_0x3dd178(0x21b)]((_0x480052,_0x49d751)=>{const _0x58218d=_0x3dd178;return _0x49d751[_0x58218d(0x20e)+_0x58218d(0x215)]-_0x480052[_0x58218d(0x20e)+_0x58218d(0x215)];})[_0x3dd178(0x204)](0x42f+0x146d+-0x189c,(_0x564fdf=_0x3d6532===null||_0x3d6532===void(0x1*-0x1673+-0x20c3*-0x1+0xb*-0xf0)?void(0xfeb+0x22ea+-0x743*0x7):_0x3d6532[_0x3dd178(0x1f2)])!==null&&_0x564fdf!==void(-0x1ca8+-0x1*-0x146b+0x39*0x25)?_0x564fdf:_0x9c0725[_0x3dd178(0x1f4)]);}catch(_0x216354){return[];}});}}exports[a40_0x4c95d7(0x20f)+a40_0x4c95d7(0x216)]=MessageRepository;