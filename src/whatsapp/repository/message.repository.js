'use strict';const a41_0x112045=a41_0x5455;function a41_0x5455(_0x452d45,_0x4c1c3e){const _0x35bb01=a41_0x28a8();return a41_0x5455=function(_0x4be4e1,_0x2653a4){_0x4be4e1=_0x4be4e1-(-0x1f12+-0x26*0xd8+0x4108);let _0x3617fe=_0x35bb01[_0x4be4e1];return _0x3617fe;},a41_0x5455(_0x452d45,_0x4c1c3e);}(function(_0xf2cb9,_0xa365f9){const _0x4616da=a41_0x5455,_0x250bfd=_0xf2cb9();while(!![]){try{const _0x2d3915=parseInt(_0x4616da(0x204))/(-0xc61+-0x8e2+0x1544)*(-parseInt(_0x4616da(0x219))/(0x19d8+-0x19c*-0x11+-0x1*0x3532))+parseInt(_0x4616da(0x209))/(-0x662+0x5b6+-0xaf*-0x1)+parseInt(_0x4616da(0x215))/(0x50*-0x16+0x1e5*-0x1+0xd*0xad)*(-parseInt(_0x4616da(0x21a))/(0x16b7+0x6c2+-0x1d74))+-parseInt(_0x4616da(0x20f))/(-0x1*0x396+-0x1320+0x16bc)+-parseInt(_0x4616da(0x225))/(-0x16cb*-0x1+-0x7eb+-0xed9)*(-parseInt(_0x4616da(0x21c))/(0xb24+-0x241a+0x18fe))+-parseInt(_0x4616da(0x20c))/(-0xda7+0x22c5+-0x1515)*(parseInt(_0x4616da(0x227))/(0x12e4+0x1*0x22fa+-0x35d4))+parseInt(_0x4616da(0x1ea))/(0x4dd+-0x12af*-0x1+-0x1781)*(parseInt(_0x4616da(0x1f7))/(-0x2e6+-0xd9*0x29+0x3*0xc91));if(_0x2d3915===_0xa365f9)break;else _0x250bfd['push'](_0x250bfd['shift']());}catch(_0x17a377){_0x250bfd['push'](_0x250bfd['shift']());}}}(a41_0x28a8,0xf701*0xb+0x9fd95+-0xaeef2));var __awaiter=this&&this['__awaiter']||function(_0x207b03,_0x798984,_0x39ff57,_0x58e2b5){function _0xe6ba65(_0x2f6996){return _0x2f6996 instanceof _0x39ff57?_0x2f6996:new _0x39ff57(function(_0x314c56){_0x314c56(_0x2f6996);});}return new(_0x39ff57||(_0x39ff57=Promise))(function(_0x8454bf,_0x41007c){const _0x1e39a4=a41_0x5455;function _0x42599f(_0x160756){const _0x429df2=a41_0x5455;try{_0xcdd42b(_0x58e2b5[_0x429df2(0x202)](_0x160756));}catch(_0x2b780e){_0x41007c(_0x2b780e);}}function _0x1d8c49(_0x145407){const _0x5d096a=a41_0x5455;try{_0xcdd42b(_0x58e2b5[_0x5d096a(0x1eb)](_0x145407));}catch(_0x2dd9c6){_0x41007c(_0x2dd9c6);}}function _0xcdd42b(_0x20a5f6){const _0x4b66f3=a41_0x5455;_0x20a5f6[_0x4b66f3(0x205)]?_0x8454bf(_0x20a5f6[_0x4b66f3(0x20b)]):_0xe6ba65(_0x20a5f6['value'])[_0x4b66f3(0x1f4)](_0x42599f,_0x1d8c49);}_0xcdd42b((_0x58e2b5=_0x58e2b5[_0x1e39a4(0x223)](_0x207b03,_0x798984||[]))[_0x1e39a4(0x202)]());});},__asyncValues=this&&this[a41_0x112045(0x220)+'ues']||function(_0x3b33a5){const _0x25b8fe=a41_0x112045;if(!Symbol['asyncItera'+_0x25b8fe(0x1f2)])throw new TypeError('Symbol.asy'+_0x25b8fe(0x1ef)+_0x25b8fe(0x21d)+_0x25b8fe(0x212));var _0x49c8f8=_0x3b33a5[Symbol[_0x25b8fe(0x1f3)+_0x25b8fe(0x1f2)]],_0x409f67;return _0x49c8f8?_0x49c8f8[_0x25b8fe(0x21f)](_0x3b33a5):(_0x3b33a5=typeof __values===_0x25b8fe(0x20a)?__values(_0x3b33a5):_0x3b33a5[Symbol[_0x25b8fe(0x211)]](),_0x409f67={},_0x34268e(_0x25b8fe(0x202)),_0x34268e(_0x25b8fe(0x1eb)),_0x34268e(_0x25b8fe(0x201)),_0x409f67[Symbol[_0x25b8fe(0x1f3)+_0x25b8fe(0x1f2)]]=function(){return this;},_0x409f67);function _0x34268e(_0x5f4e9e){_0x409f67[_0x5f4e9e]=_0x3b33a5[_0x5f4e9e]&&function(_0x183d07){return new Promise(function(_0x4acf42,_0x3bca77){const _0x55d4ec=a41_0x5455;_0x183d07=_0x3b33a5[_0x5f4e9e](_0x183d07),_0x237c95(_0x4acf42,_0x3bca77,_0x183d07[_0x55d4ec(0x205)],_0x183d07[_0x55d4ec(0x20b)]);});};}function _0x237c95(_0x520eb0,_0x2f0eec,_0x3bf2c8,_0x2e73a1){const _0x22b2dd=_0x25b8fe;Promise[_0x22b2dd(0x207)](_0x2e73a1)[_0x22b2dd(0x1f4)](function(_0x2434b4){const _0x48caa0=_0x22b2dd,_0x563194={};_0x563194[_0x48caa0(0x20b)]=_0x2434b4,_0x563194[_0x48caa0(0x205)]=_0x3bf2c8,_0x520eb0(_0x563194);},_0x2f0eec);}};function a41_0x28a8(){const _0x9e5cc1=['readFileSy','90959dyktpu','throw','join','Repository','log','ncIterator','length','MessageQue','tor','asyncItera','then','entries','path','4272ZDUweA','writeStore','ERROR:\x20','find','ository','MessageRep','defineProp','key.','messages','name','return','next','push','720178cHyJew','done','key','resolve','configServ','2520945nezEMt','function','value','1773abSFuo','dbSettings','owner','4743246RMREDK','ice','iterator','fined.','insertCoun','../abstrac','4vdcOtU','__esModule','sort','storePath','2nboKxj','5502125yDKlkH','opendirSyn','216ifKwen','\x20is\x20not\x20de','parse','call','__asyncVal','error','ENABLED','apply','messageTim','90153TzkyhC','splice','45020OTJfMS','where','t/abstract','limit','messageMod','estamp','.repositor','forEach','encoding','insert','utf-8'];a41_0x28a8=function(){return _0x9e5cc1;};return a41_0x28a8();}const a41_0x3617fe={};a41_0x3617fe['value']=!![],Object[a41_0x112045(0x1fd)+'erty'](exports,a41_0x112045(0x216),a41_0x3617fe),exports[a41_0x112045(0x1fc)+a41_0x112045(0x1fb)]=exports[a41_0x112045(0x1f1)+'ry']=void(0xb28+0x1758+-0x2280);const path_1=require(a41_0x112045(0x1f6)),abstract_repository_1=require(a41_0x112045(0x214)+a41_0x112045(0x229)+a41_0x112045(0x22d)+'y'),fs_1=require('fs');class MessageQuery{}exports[a41_0x112045(0x1f1)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1[a41_0x112045(0x1ed)]{constructor(_0x35aa12,_0x3f8b94){const _0x1734e1=a41_0x112045;super(_0x3f8b94),this[_0x1734e1(0x22b)+'el']=_0x35aa12,this[_0x1734e1(0x208)+_0x1734e1(0x210)]=_0x3f8b94;}[a41_0x112045(0x1e7)](_0x3eef72,_0x396dfc=![]){return __awaiter(this,void(0xdfd*0x2+-0x2605*0x1+-0x1*-0xa0b),void(0x1d2*0x1+0x982*0x4+0x2*-0x13ed),function*(){const _0x2e7d0e=a41_0x5455;if(_0x3eef72[_0x2e7d0e(0x1f0)]===0x1082+0x19*-0xcd+0x383*0x1)return;try{if(this[_0x2e7d0e(0x20d)]['ENABLED']&&_0x396dfc){const _0x3a37a3=yield this['messageMod'+'el']['insertMany']([..._0x3eef72]),_0x2573e0={};return _0x2573e0[_0x2e7d0e(0x213)+'t']=_0x3a37a3['length'],_0x2573e0;}if(_0x396dfc){_0x3eef72[_0x2e7d0e(0x22e)](_0x17121d=>this[_0x2e7d0e(0x1f8)]({'path':(0x23c*-0x9+-0x10a3+0x24bf,path_1[_0x2e7d0e(0x1ec)])(this[_0x2e7d0e(0x218)],_0x2e7d0e(0x1ff),_0x17121d[_0x2e7d0e(0x20e)]),'fileName':_0x17121d[_0x2e7d0e(0x206)]['id'],'data':_0x17121d}));const _0x483daf={};return _0x483daf[_0x2e7d0e(0x213)+'t']=_0x3eef72[_0x2e7d0e(0x1f0)],_0x483daf;}const _0x349688={};return _0x349688['insertCoun'+'t']=0x0,_0x349688;}catch(_0x3c40a8){return console[_0x2e7d0e(0x1ee)](_0x2e7d0e(0x1f9),_0x3c40a8),_0x3c40a8;}finally{_0x3eef72=undefined;}});}[a41_0x112045(0x1fa)](_0xb2d861){var _0x697c76,_0x21cb89,_0x442acf,_0x2893c5,_0x4404db,_0xc000fb,_0xef87d6,_0x557229,_0x3b9833,_0x4969e2;return __awaiter(this,void(0x45*-0x17+-0x2126+0x2759),void(-0x53+-0x1028+-0x1*-0x107b),function*(){const _0x1dddb4=a41_0x5455;try{if(this[_0x1dddb4(0x20d)][_0x1dddb4(0x222)]){if((_0x4404db=_0xb2d861===null||_0xb2d861===void(0x2de*-0x5+-0x11*-0xf5+-0x1ef)?void(0x1c38+0x1e9c+-0x1e*0x1f6):_0xb2d861['where'])===null||_0x4404db===void(-0x1820+0x250f+-0xcef)?void(0xf08+0x1502+-0x240a):_0x4404db[_0x1dddb4(0x206)]){for(const [_0x19afc3,_0xd87126]of Object[_0x1dddb4(0x1f5)](_0xb2d861[_0x1dddb4(0x228)][_0x1dddb4(0x206)])){_0xb2d861[_0x1dddb4(0x228)][_0x1dddb4(0x1fe)+_0x19afc3]=_0xd87126;}(_0xc000fb=_0xb2d861===null||_0xb2d861===void(0x1c06+-0x34*-0xa+-0x1e0e)?void(0x3*0x59f+-0x7*0x361+0x6ca):_0xb2d861['where'])===null||_0xc000fb===void(-0x6d0+0xf39+-0x869*0x1)?!![]:delete _0xc000fb['key'];}const _0x586fe5={};return _0x586fe5[_0x1dddb4(0x224)+_0x1dddb4(0x22c)]=-(0x2*0xa3a+-0x1*-0x16bd+-0x2b30),yield this[_0x1dddb4(0x22b)+'el'][_0x1dddb4(0x1fa)](Object['assign']({},_0xb2d861[_0x1dddb4(0x228)]))[_0x1dddb4(0x217)](_0x586fe5)[_0x1dddb4(0x22a)]((_0xef87d6=_0xb2d861===null||_0xb2d861===void(-0x25d8+0xa50*-0x1+0x2e*0x10c)?void(0x366+-0x14cc+0x83*0x22):_0xb2d861[_0x1dddb4(0x22a)])!==null&&_0xef87d6!==void(-0x13ad+0xa92+0x91b)?_0xef87d6:0x2*0x101f+0xb0f+-0x2b4d);}const _0x23f5ba=[];if((_0x3b9833=(_0x557229=_0xb2d861===null||_0xb2d861===void(-0x1*-0x1c78+-0x11b7+-0x1*0xac1)?void(0x6c6+0x67*-0x38+0x7e1*0x2):_0xb2d861[_0x1dddb4(0x228)])===null||_0x557229===void(0x1353+-0x112d*-0x1+-0x2480)?void(0x2*-0x62+0xcf2+-0xc2e):_0x557229[_0x1dddb4(0x206)])===null||_0x3b9833===void(0x1152+-0x2*-0x10c0+0x32d2*-0x1)?void(-0x2c+0x1*-0x1639+0x27*0x93):_0x3b9833['id']){const _0xf972e5={};_0xf972e5['encoding']=_0x1dddb4(0x1e8),_0x23f5ba[_0x1dddb4(0x203)](JSON[_0x1dddb4(0x21e)]((-0x1581+0x1*-0x80+0x1*0x1601,fs_1[_0x1dddb4(0x1e9)+'nc'])((-0x6ec*0x5+-0x4*-0x667+0x900,path_1[_0x1dddb4(0x1ec)])(this[_0x1dddb4(0x218)],'messages',_0xb2d861[_0x1dddb4(0x228)][_0x1dddb4(0x20e)],_0xb2d861[_0x1dddb4(0x228)][_0x1dddb4(0x206)]['id']+'.json'),_0xf972e5)));}else{const _0x948f63={};_0x948f63[_0x1dddb4(0x1e6)]=_0x1dddb4(0x1e8);const _0xf2e25=(0xb7e+-0x83+-0xafb,fs_1[_0x1dddb4(0x21b)+'c'])((-0x2107+-0x2*0x568+0x2bd7,path_1[_0x1dddb4(0x1ec)])(this[_0x1dddb4(0x218)],_0x1dddb4(0x1ff),_0xb2d861[_0x1dddb4(0x228)]['owner']),_0x948f63);try{for(var _0x5bd976=!![],_0x383685=__asyncValues(_0xf2e25),_0x567d19;_0x567d19=yield _0x383685[_0x1dddb4(0x202)](),_0x697c76=_0x567d19[_0x1dddb4(0x205)],!_0x697c76;){_0x2893c5=_0x567d19[_0x1dddb4(0x20b)],_0x5bd976=![];try{const _0x2417a8=_0x2893c5;if(_0x2417a8['isFile']()){const _0x2cf809={};_0x2cf809['encoding']=_0x1dddb4(0x1e8),_0x23f5ba[_0x1dddb4(0x203)](JSON['parse']((-0x228b+-0xd3f+0x2fca,fs_1[_0x1dddb4(0x1e9)+'nc'])((0x1d8d+0x1*-0x13d0+-0x9bd,path_1[_0x1dddb4(0x1ec)])(this[_0x1dddb4(0x218)],_0x1dddb4(0x1ff),_0xb2d861['where'][_0x1dddb4(0x20e)],_0x2417a8[_0x1dddb4(0x200)]),_0x2cf809)));}}finally{_0x5bd976=!![];}}}catch(_0x1176e4){const _0x48fead={};_0x48fead['error']=_0x1176e4,_0x21cb89=_0x48fead;}finally{try{if(!_0x5bd976&&!_0x697c76&&(_0x442acf=_0x383685[_0x1dddb4(0x201)]))yield _0x442acf[_0x1dddb4(0x21f)](_0x383685);}finally{if(_0x21cb89)throw _0x21cb89[_0x1dddb4(0x221)];}}}return _0x23f5ba[_0x1dddb4(0x217)]((_0x55c066,_0x49ffd0)=>{const _0x4b46df=_0x1dddb4;return _0x49ffd0[_0x4b46df(0x224)+_0x4b46df(0x22c)]-_0x55c066[_0x4b46df(0x224)+'estamp'];})[_0x1dddb4(0x226)](-0x1059+-0x9*-0x95+0xb1c,(_0x4969e2=_0xb2d861===null||_0xb2d861===void(-0xfcd*0x1+-0x1*0xe96+0x1e63)?void(0x847+-0x931*0x3+0x134c):_0xb2d861[_0x1dddb4(0x22a)])!==null&&_0x4969e2!==void(-0x116+-0x1*0x739+0x84f)?_0x4969e2:_0x23f5ba[_0x1dddb4(0x1f0)]);}catch(_0x45c64c){return[];}});}}exports[a41_0x112045(0x1fc)+a41_0x112045(0x1fb)]=MessageRepository;