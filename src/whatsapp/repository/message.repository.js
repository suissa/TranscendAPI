'use strict';const a41_0x4cc325=a41_0x5a3b;(function(_0x50a8b9,_0x33e487){const _0x3e8026=a41_0x5a3b,_0x51e23e=_0x50a8b9();while(!![]){try{const _0x4143b8=-parseInt(_0x3e8026(0x229))/(-0x2595+-0xe5e+0x2bc*0x13)*(parseInt(_0x3e8026(0x22b))/(-0xaa*-0x8+0x1006+0x15*-0x104))+-parseInt(_0x3e8026(0x1ed))/(-0x3*-0xb33+0x97+-0x222d)+-parseInt(_0x3e8026(0x204))/(-0x35*0x9f+0x3*-0x869+0x3a2a)+-parseInt(_0x3e8026(0x22a))/(-0x161a+0x1*0x265+0x13ba)*(-parseInt(_0x3e8026(0x218))/(-0xfa2+0x1*0x1b13+-0xb6b*0x1))+-parseInt(_0x3e8026(0x20d))/(0x1102+0x16d9*-0x1+0x5de)+parseInt(_0x3e8026(0x226))/(0x71*0x43+-0x805*0x1+-0x1586)+parseInt(_0x3e8026(0x217))/(0x212f*-0x1+-0x1*0xaa+-0x21e2*-0x1);if(_0x4143b8===_0x33e487)break;else _0x51e23e['push'](_0x51e23e['shift']());}catch(_0x361670){_0x51e23e['push'](_0x51e23e['shift']());}}}(a41_0x5c14,0xbff93+-0x1d*0x86d5+0x116144));function a41_0x5a3b(_0x9c4fcc,_0x333b3e){const _0x2176a7=a41_0x5c14();return a41_0x5a3b=function(_0x3ff868,_0x4d589b){_0x3ff868=_0x3ff868-(0x7*0x1+0x1b11+-0x192f);let _0x557ae8=_0x2176a7[_0x3ff868];return _0x557ae8;},a41_0x5a3b(_0x9c4fcc,_0x333b3e);}var __awaiter=this&&this[a41_0x4cc325(0x202)]||function(_0x14c5a9,_0x1f2888,_0x28efd3,_0x1bb13b){function _0x25ced2(_0x438ee8){return _0x438ee8 instanceof _0x28efd3?_0x438ee8:new _0x28efd3(function(_0x21c2f0){_0x21c2f0(_0x438ee8);});}return new(_0x28efd3||(_0x28efd3=Promise))(function(_0x4bf2a1,_0x45f328){const _0x52e0c0=a41_0x5a3b;function _0x163b26(_0x2e7066){const _0x2dd478=a41_0x5a3b;try{_0x1d7f6f(_0x1bb13b[_0x2dd478(0x228)](_0x2e7066));}catch(_0x50390b){_0x45f328(_0x50390b);}}function _0x3b6393(_0x4589cb){const _0x34052c=a41_0x5a3b;try{_0x1d7f6f(_0x1bb13b[_0x34052c(0x1f1)](_0x4589cb));}catch(_0x5ab5c0){_0x45f328(_0x5ab5c0);}}function _0x1d7f6f(_0xe7229e){const _0x19ea45=a41_0x5a3b;_0xe7229e[_0x19ea45(0x214)]?_0x4bf2a1(_0xe7229e[_0x19ea45(0x1f5)]):_0x25ced2(_0xe7229e[_0x19ea45(0x1f5)])['then'](_0x163b26,_0x3b6393);}_0x1d7f6f((_0x1bb13b=_0x1bb13b[_0x52e0c0(0x21e)](_0x14c5a9,_0x1f2888||[]))[_0x52e0c0(0x228)]());});},__asyncValues=this&&this[a41_0x4cc325(0x1f6)+a41_0x4cc325(0x206)]||function(_0x16ade2){const _0x8af4fa=a41_0x4cc325;if(!Symbol[_0x8af4fa(0x221)+'tor'])throw new TypeError('Symbol.asy'+'ncIterator'+'\x20is\x20not\x20de'+_0x8af4fa(0x1ea));var _0x433e89=_0x16ade2[Symbol[_0x8af4fa(0x221)+'tor']],_0x11a651;return _0x433e89?_0x433e89[_0x8af4fa(0x1ef)](_0x16ade2):(_0x16ade2=typeof __values===_0x8af4fa(0x20e)?__values(_0x16ade2):_0x16ade2[Symbol[_0x8af4fa(0x224)]](),_0x11a651={},_0x33150d('next'),_0x33150d(_0x8af4fa(0x1f1)),_0x33150d('return'),_0x11a651[Symbol[_0x8af4fa(0x221)+_0x8af4fa(0x20a)]]=function(){return this;},_0x11a651);function _0x33150d(_0x425a12){_0x11a651[_0x425a12]=_0x16ade2[_0x425a12]&&function(_0x1ff38e){return new Promise(function(_0x4e07ee,_0x2b5bc9){const _0x58041f=a41_0x5a3b;_0x1ff38e=_0x16ade2[_0x425a12](_0x1ff38e),_0x38aff6(_0x4e07ee,_0x2b5bc9,_0x1ff38e['done'],_0x1ff38e[_0x58041f(0x1f5)]);});};}function _0x38aff6(_0x5e35e7,_0x4ed983,_0x3837a5,_0x5a3f07){const _0x312171=_0x8af4fa;Promise[_0x312171(0x213)](_0x5a3f07)['then'](function(_0x1b1ab8){const _0x331230=_0x312171,_0x3450ec={};_0x3450ec[_0x331230(0x1f5)]=_0x1b1ab8,_0x3450ec[_0x331230(0x214)]=_0x3837a5,_0x5e35e7(_0x3450ec);},_0x4ed983);}};const a41_0x557ae8={};a41_0x557ae8[a41_0x4cc325(0x1f5)]=!![],Object['defineProp'+a41_0x4cc325(0x1f3)](exports,'__esModule',a41_0x557ae8),exports[a41_0x4cc325(0x1f8)+'ository']=exports[a41_0x4cc325(0x205)+'ry']=void(0x12c7+0xd8e+-0x2055);const path_1=require(a41_0x4cc325(0x212)),abstract_repository_1=require('../abstrac'+a41_0x4cc325(0x1fb)+a41_0x4cc325(0x210)+'y'),fs_1=require('fs');class MessageQuery{}function a41_0x5c14(){const _0x3a098c=['ues','.json','messageMod','error','tor','limit','ENABLED','467768aWakBQ','function','length','.repositor','splice','path','resolve','done','key.','return','24785550iwnzEJ','3104364FvZGrl','insertCoun','encoding','name','Repository','isFile','apply','join','assign','asyncItera','sort','entries','iterator','ository','8130768zSOcVl','opendirSyn','next','1580pTdpzP','10FzwGXQ','2036dZZdiV','key','fined.','owner','storePath','4053369aCnTsx','configServ','call','log','throw','messages','erty','messageTim','value','__asyncVal','dbSettings','MessageRep','push','ice','t/abstract','utf-8','writeStore','ERROR:\x20','readFileSy','insert','where','__awaiter','parse','3417420UtZAmy','MessageQue'];a41_0x5c14=function(){return _0x3a098c;};return a41_0x5c14();}exports[a41_0x4cc325(0x205)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1[a41_0x4cc325(0x21c)]{constructor(_0x41bc40,_0x637e29){const _0x3fc6e3=a41_0x4cc325;super(_0x637e29),this[_0x3fc6e3(0x208)+'el']=_0x41bc40,this[_0x3fc6e3(0x1ee)+_0x3fc6e3(0x1fa)]=_0x637e29;}[a41_0x4cc325(0x200)](_0x5971b2,_0x401025=![]){return __awaiter(this,void(-0x16c5+0xc4+0x1601),void(-0x1a3d+-0x126b+0x2ca8),function*(){const _0x569765=a41_0x5a3b;if(_0x5971b2[_0x569765(0x20f)]===0x1*0x19b3+0x1*0x1c66+-0x3619)return;try{if(this[_0x569765(0x1f7)]['ENABLED']&&_0x401025){const _0x56e4ec=yield this[_0x569765(0x208)+'el']['insertMany']([..._0x5971b2]),_0x4acca5={};return _0x4acca5['insertCoun'+'t']=_0x56e4ec[_0x569765(0x20f)],_0x4acca5;}if(_0x401025){_0x5971b2['forEach'](_0x3b74b3=>this[_0x569765(0x1fd)]({'path':(-0x23aa+0x20*-0xd5+0x8e6*0x7,path_1[_0x569765(0x21f)])(this[_0x569765(0x1ec)],_0x569765(0x1f2),_0x3b74b3[_0x569765(0x1eb)]),'fileName':_0x3b74b3[_0x569765(0x1e9)]['id'],'data':_0x3b74b3}));const _0x5bcdf0={};return _0x5bcdf0[_0x569765(0x219)+'t']=_0x5971b2[_0x569765(0x20f)],_0x5bcdf0;}const _0x244f40={};return _0x244f40[_0x569765(0x219)+'t']=0x0,_0x244f40;}catch(_0x2a082e){return console[_0x569765(0x1f0)](_0x569765(0x1fe),_0x2a082e),_0x2a082e;}finally{_0x5971b2=undefined;}});}['find'](_0x3db6f7){var _0x323ded,_0x55e10b,_0x2ac573,_0x3bcfdf,_0xd0705c,_0x556455,_0x355413,_0x2f358b,_0x2d3555,_0x2f453d;return __awaiter(this,void(0x1737+0x2b3*-0x5+-0x9b8),void(0x1a98*0x1+0x23b*-0x7+-0xafb),function*(){const _0xcb761c=a41_0x5a3b;try{if(this[_0xcb761c(0x1f7)][_0xcb761c(0x20c)]){if((_0xd0705c=_0x3db6f7===null||_0x3db6f7===void(-0xdc5+-0xbe6*0x1+0x19ab)?void(0x1794+0x495+-0x1c29):_0x3db6f7[_0xcb761c(0x201)])===null||_0xd0705c===void(0x37b*0x4+-0x4d*-0x43+-0x2213)?void(0x457*0x6+0x5f7+-0xaab*0x3):_0xd0705c[_0xcb761c(0x1e9)]){for(const [_0x22769d,_0x261a38]of Object[_0xcb761c(0x223)](_0x3db6f7[_0xcb761c(0x201)]['key'])){_0x3db6f7[_0xcb761c(0x201)][_0xcb761c(0x215)+_0x22769d]=_0x261a38;}(_0x556455=_0x3db6f7===null||_0x3db6f7===void(0x3*-0x94d+0x12*-0x29+0x1ec9)?void(-0x1fe+-0x1*-0x74f+-0x551*0x1):_0x3db6f7[_0xcb761c(0x201)])===null||_0x556455===void(0x1832+-0x2033*-0x1+-0x3865)?!![]:delete _0x556455[_0xcb761c(0x1e9)];}const _0x588e70={};return _0x588e70[_0xcb761c(0x1f4)+'estamp']=-(-0x1475+-0x2a*-0x6b+0x2e8),yield this[_0xcb761c(0x208)+'el']['find'](Object[_0xcb761c(0x220)]({},_0x3db6f7[_0xcb761c(0x201)]))[_0xcb761c(0x222)](_0x588e70)[_0xcb761c(0x20b)]((_0x355413=_0x3db6f7===null||_0x3db6f7===void(0x237d+0x20d4+-0x4451)?void(-0x25e+0x64a+-0x3ec):_0x3db6f7[_0xcb761c(0x20b)])!==null&&_0x355413!==void(0x211c*-0x1+0xb23+0x15f9)?_0x355413:0xd*-0x2c1+-0xff9+0x1142*0x3);}const _0x57e4b5=[];if((_0x2d3555=(_0x2f358b=_0x3db6f7===null||_0x3db6f7===void(-0x29*-0x96+0x2410+-0x3c16)?void(0x183e+-0xc0c+-0xc32):_0x3db6f7[_0xcb761c(0x201)])===null||_0x2f358b===void(-0x8b1+-0x1*0x18b9+0x216a)?void(-0x12a5+-0x185f+-0x4*-0xac1):_0x2f358b[_0xcb761c(0x1e9)])===null||_0x2d3555===void(0x5*0x20e+-0x2*0xdff+0x11b8)?void(0x18c7+-0x8*0xe4+-0x1*0x11a7):_0x2d3555['id']){const _0x4e319e={};_0x4e319e['encoding']='utf-8',_0x57e4b5[_0xcb761c(0x1f9)](JSON[_0xcb761c(0x203)]((-0xc5*-0x1f+0x2141+-0x391c,fs_1[_0xcb761c(0x1ff)+'nc'])((0xcae+0xc83*0x1+-0x1*0x1931,path_1['join'])(this['storePath'],_0xcb761c(0x1f2),_0x3db6f7[_0xcb761c(0x201)][_0xcb761c(0x1eb)],_0x3db6f7[_0xcb761c(0x201)][_0xcb761c(0x1e9)]['id']+_0xcb761c(0x207)),_0x4e319e)));}else{const _0x594171={};_0x594171[_0xcb761c(0x21a)]=_0xcb761c(0x1fc);const _0x4cfeb7=(0xe7f+0x23d4+0x1*-0x3253,fs_1[_0xcb761c(0x227)+'c'])((-0x1559+-0xa47*-0x3+-0x97c,path_1[_0xcb761c(0x21f)])(this['storePath'],_0xcb761c(0x1f2),_0x3db6f7[_0xcb761c(0x201)][_0xcb761c(0x1eb)]),_0x594171);try{for(var _0x2f25d9=!![],_0x42d8b6=__asyncValues(_0x4cfeb7),_0x3b1959;_0x3b1959=yield _0x42d8b6[_0xcb761c(0x228)](),_0x323ded=_0x3b1959[_0xcb761c(0x214)],!_0x323ded;){_0x3bcfdf=_0x3b1959[_0xcb761c(0x1f5)],_0x2f25d9=![];try{const _0x469056=_0x3bcfdf;if(_0x469056[_0xcb761c(0x21d)]()){const _0x17a251={};_0x17a251[_0xcb761c(0x21a)]=_0xcb761c(0x1fc),_0x57e4b5[_0xcb761c(0x1f9)](JSON[_0xcb761c(0x203)]((0x17d*0xb+-0x7*0x4f7+0x2*0x931,fs_1[_0xcb761c(0x1ff)+'nc'])((-0x1231*-0x1+-0x139*-0x5+-0x184e,path_1[_0xcb761c(0x21f)])(this[_0xcb761c(0x1ec)],'messages',_0x3db6f7['where']['owner'],_0x469056[_0xcb761c(0x21b)]),_0x17a251)));}}finally{_0x2f25d9=!![];}}}catch(_0x4d49f2){const _0x2f5d3e={};_0x2f5d3e[_0xcb761c(0x209)]=_0x4d49f2,_0x55e10b=_0x2f5d3e;}finally{try{if(!_0x2f25d9&&!_0x323ded&&(_0x2ac573=_0x42d8b6[_0xcb761c(0x216)]))yield _0x2ac573['call'](_0x42d8b6);}finally{if(_0x55e10b)throw _0x55e10b[_0xcb761c(0x209)];}}}return _0x57e4b5['sort']((_0x1baba3,_0x2ca25c)=>{const _0x2b3e36=_0xcb761c;return _0x2ca25c[_0x2b3e36(0x1f4)+'estamp']-_0x1baba3[_0x2b3e36(0x1f4)+'estamp'];})[_0xcb761c(0x211)](0xc1*0x2b+-0x1def*0x1+-0x27c,(_0x2f453d=_0x3db6f7===null||_0x3db6f7===void(0x2b*0x99+-0x104f+-0x2*0x4b2)?void(0x129b+-0x171b+0x24*0x20):_0x3db6f7[_0xcb761c(0x20b)])!==null&&_0x2f453d!==void(0x123*-0x2+0x1fa7+-0x1d61)?_0x2f453d:_0x57e4b5[_0xcb761c(0x20f)]);}catch(_0x547aaa){return[];}});}}exports[a41_0x4cc325(0x1f8)+a41_0x4cc325(0x225)]=MessageRepository;