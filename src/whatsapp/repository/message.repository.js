'use strict';const a41_0x2e9678=a41_0x15d4;(function(_0x4ba551,_0x1447e1){const _0x1c88f5=a41_0x15d4,_0x40a78f=_0x4ba551();while(!![]){try{const _0xe51d9c=parseInt(_0x1c88f5(0x9a))/(0x15ac+0x2598+-0x3b43)+-parseInt(_0x1c88f5(0x91))/(0x261a+-0x1*-0x2446+-0x4a5e)+parseInt(_0x1c88f5(0x7a))/(-0x9fa+0x2*-0x902+0x1c01)+parseInt(_0x1c88f5(0x70))/(-0x1120+-0x87c+-0xcd0*-0x2)+parseInt(_0x1c88f5(0xa8))/(0xb4+0x2065+-0x2114)*(parseInt(_0x1c88f5(0x94))/(-0x3*-0x815+-0x250b+-0xcd2*-0x1))+-parseInt(_0x1c88f5(0xa0))/(0x1ccf+-0x1e15+0x14d)*(parseInt(_0x1c88f5(0x77))/(-0x1a79+-0xa67*-0x1+0x101a))+-parseInt(_0x1c88f5(0x81))/(0xb47*0x2+-0x3e8+-0x129d)*(parseInt(_0x1c88f5(0x6f))/(-0xacd+0x1*0x1129+-0x652));if(_0xe51d9c===_0x1447e1)break;else _0x40a78f['push'](_0x40a78f['shift']());}catch(_0x214513){_0x40a78f['push'](_0x40a78f['shift']());}}}(a41_0x4ae0,-0x5fe4*0x1a+-0x116e51*-0x1+-0xaeb9*-0x3));function a41_0x4ae0(){const _0x310384=['storePath','.json','throw','206970rpWKbc','4549460FFsmqf','__asyncVal','parse','return','log','limit','asyncItera','145336rFGfxC','insertCoun','done','1297584LIzSRg','__awaiter','where','path','iterator','entries','encoding','63vIcQts','MessageRep','ncIterator','readFileSy','isFile','push','key.','insert','value','assign','next','opendirSyn','Repository','call','apply','owner','1594194BZIkcj','ice','utf-8','663996dGVfhZ','t/abstract','forEach','estamp','error','then','96218TuaWma','ository','key','function','find','ERROR:\x20','161FDYrOZ','MessageQue','length','.repositor','messageMod','ENABLED','ues','messageTim','15HTlavG','tor','erty','messages','sort','join','fined.'];a41_0x4ae0=function(){return _0x310384;};return a41_0x4ae0();}var __awaiter=this&&this[a41_0x2e9678(0x7b)]||function(_0x55917e,_0x1d46dc,_0x1c793c,_0x2dde29){function _0x5cbc8f(_0x5c5073){return _0x5c5073 instanceof _0x1c793c?_0x5c5073:new _0x1c793c(function(_0x192630){_0x192630(_0x5c5073);});}return new(_0x1c793c||(_0x1c793c=Promise))(function(_0x27125e,_0x4b909b){const _0x55c648=a41_0x15d4;function _0x35eb08(_0x39c251){const _0x3b58bf=a41_0x15d4;try{_0x25b618(_0x2dde29[_0x3b58bf(0x8b)](_0x39c251));}catch(_0x168cbc){_0x4b909b(_0x168cbc);}}function _0xb0f143(_0x428a8d){try{_0x25b618(_0x2dde29['throw'](_0x428a8d));}catch(_0x5e0b72){_0x4b909b(_0x5e0b72);}}function _0x25b618(_0x4c5235){const _0x4c50d5=a41_0x15d4;_0x4c5235[_0x4c50d5(0x79)]?_0x27125e(_0x4c5235[_0x4c50d5(0x89)]):_0x5cbc8f(_0x4c5235[_0x4c50d5(0x89)])[_0x4c50d5(0x99)](_0x35eb08,_0xb0f143);}_0x25b618((_0x2dde29=_0x2dde29[_0x55c648(0x8f)](_0x55917e,_0x1d46dc||[]))[_0x55c648(0x8b)]());});},__asyncValues=this&&this[a41_0x2e9678(0x71)+a41_0x2e9678(0xa6)]||function(_0x25fbe5){const _0x4e5e8d=a41_0x2e9678;if(!Symbol[_0x4e5e8d(0x76)+_0x4e5e8d(0xa9)])throw new TypeError('Symbol.asy'+_0x4e5e8d(0x83)+'\x20is\x20not\x20de'+_0x4e5e8d(0xae));var _0x376389=_0x25fbe5[Symbol[_0x4e5e8d(0x76)+_0x4e5e8d(0xa9)]],_0x30e7c7;return _0x376389?_0x376389['call'](_0x25fbe5):(_0x25fbe5=typeof __values===_0x4e5e8d(0x9d)?__values(_0x25fbe5):_0x25fbe5[Symbol[_0x4e5e8d(0x7e)]](),_0x30e7c7={},_0x39e504(_0x4e5e8d(0x8b)),_0x39e504(_0x4e5e8d(0x6e)),_0x39e504(_0x4e5e8d(0x73)),_0x30e7c7[Symbol[_0x4e5e8d(0x76)+_0x4e5e8d(0xa9)]]=function(){return this;},_0x30e7c7);function _0x39e504(_0x196d5d){_0x30e7c7[_0x196d5d]=_0x25fbe5[_0x196d5d]&&function(_0x47f6a7){return new Promise(function(_0x3c5f14,_0x2be0d1){const _0x310c52=a41_0x15d4;_0x47f6a7=_0x25fbe5[_0x196d5d](_0x47f6a7),_0xb92192(_0x3c5f14,_0x2be0d1,_0x47f6a7['done'],_0x47f6a7[_0x310c52(0x89)]);});};}function _0xb92192(_0x38f86b,_0x3ba6af,_0x3c0899,_0x3e1e61){const _0x8504d9=_0x4e5e8d;Promise['resolve'](_0x3e1e61)[_0x8504d9(0x99)](function(_0x57afc6){const _0x23e351=_0x8504d9,_0x536b00={};_0x536b00[_0x23e351(0x89)]=_0x57afc6,_0x536b00[_0x23e351(0x79)]=_0x3c0899,_0x38f86b(_0x536b00);},_0x3ba6af);}};const a41_0x3442fa={};a41_0x3442fa[a41_0x2e9678(0x89)]=!![],Object['defineProp'+a41_0x2e9678(0xaa)](exports,'__esModule',a41_0x3442fa),exports[a41_0x2e9678(0x82)+a41_0x2e9678(0x9b)]=exports[a41_0x2e9678(0xa1)+'ry']=void(0xf11+0x2710+-0x3621);const path_1=require(a41_0x2e9678(0x7d)),abstract_repository_1=require('../abstrac'+a41_0x2e9678(0x95)+a41_0x2e9678(0xa3)+'y'),fs_1=require('fs');class MessageQuery{}exports['MessageQue'+'ry']=MessageQuery;function a41_0x15d4(_0x204ba2,_0xf7690a){const _0x2f8131=a41_0x4ae0();return a41_0x15d4=function(_0x411384,_0x3442fa){_0x411384=_0x411384-(-0x69d*-0x4+-0xfb+0x190b*-0x1);let _0x421359=_0x2f8131[_0x411384];return _0x421359;},a41_0x15d4(_0x204ba2,_0xf7690a);}class MessageRepository extends abstract_repository_1[a41_0x2e9678(0x8d)]{constructor(_0x1e515f,_0x14917c){const _0x18d783=a41_0x2e9678;super(_0x14917c),this[_0x18d783(0xa4)+'el']=_0x1e515f,this['configServ'+_0x18d783(0x92)]=_0x14917c;}[a41_0x2e9678(0x88)](_0x597535,_0x370e05=![]){return __awaiter(this,void(0x258e*-0x1+0x82d+0x1d61),void(0x2*0x3e1+0x225f+0xe0b*-0x3),function*(){const _0x48d399=a41_0x15d4;if(_0x597535[_0x48d399(0xa2)]===0x1*0x21e6+-0x1*0x1489+-0xd5d)return;try{if(this['dbSettings'][_0x48d399(0xa5)]&&_0x370e05){const _0x3a3c38=yield this[_0x48d399(0xa4)+'el']['insertMany']([..._0x597535]),_0x368f2b={};return _0x368f2b[_0x48d399(0x78)+'t']=_0x3a3c38[_0x48d399(0xa2)],_0x368f2b;}if(_0x370e05){_0x597535[_0x48d399(0x96)](_0x406b2e=>this['writeStore']({'path':(0x13*0x7+-0x7a5*-0x2+-0xfcf,path_1[_0x48d399(0xad)])(this[_0x48d399(0xaf)],'messages',_0x406b2e['owner']),'fileName':_0x406b2e['key']['id'],'data':_0x406b2e}));const _0x2061be={};return _0x2061be['insertCoun'+'t']=_0x597535[_0x48d399(0xa2)],_0x2061be;}const _0x22870e={};return _0x22870e[_0x48d399(0x78)+'t']=0x0,_0x22870e;}catch(_0x29ae5a){return console[_0x48d399(0x74)](_0x48d399(0x9f),_0x29ae5a),_0x29ae5a;}finally{_0x597535=undefined;}});}[a41_0x2e9678(0x9e)](_0x5bed09){var _0x191870,_0x2e6659,_0xc9baf5,_0x4d520b,_0x4770c8,_0x18be64,_0x2463f8,_0x9132d0,_0x3bf29b,_0xee924d;return __awaiter(this,void(-0x1f*0xac+0x186c+-0x398),void(-0x142*0x7+-0x1*0x1373+0x1c41),function*(){const _0x4f3d7d=a41_0x15d4;try{if(this['dbSettings'][_0x4f3d7d(0xa5)]){if((_0x4770c8=_0x5bed09===null||_0x5bed09===void(0x1ce5+0x1*-0x20ae+-0x39*-0x11)?void(0x337*-0x1+-0x87b+0xbb2):_0x5bed09[_0x4f3d7d(0x7c)])===null||_0x4770c8===void(0x2*0x863+-0x2089+-0x3*-0x541)?void(-0x1052+-0x1*-0x13b5+-0x121*0x3):_0x4770c8[_0x4f3d7d(0x9c)]){for(const [_0x11800c,_0x439aa8]of Object[_0x4f3d7d(0x7f)](_0x5bed09[_0x4f3d7d(0x7c)][_0x4f3d7d(0x9c)])){_0x5bed09[_0x4f3d7d(0x7c)][_0x4f3d7d(0x87)+_0x11800c]=_0x439aa8;}(_0x18be64=_0x5bed09===null||_0x5bed09===void(0x14b*0x7+0x1103+-0x1a10)?void(-0x1e8d*0x1+0x97e+0x150f):_0x5bed09[_0x4f3d7d(0x7c)])===null||_0x18be64===void(0x3aa+-0x1412+0x1068)?!![]:delete _0x18be64['key'];}const _0x4c1799={};return _0x4c1799['messageTim'+_0x4f3d7d(0x97)]=-(-0x6a*0x3b+-0x1*0xe83+0x26f2),yield this[_0x4f3d7d(0xa4)+'el']['find'](Object[_0x4f3d7d(0x8a)]({},_0x5bed09[_0x4f3d7d(0x7c)]))[_0x4f3d7d(0xac)](_0x4c1799)[_0x4f3d7d(0x75)]((_0x2463f8=_0x5bed09===null||_0x5bed09===void(0x1daa+0x1*0x10bb+-0x2e65)?void(-0x1a52+0x1*-0x2474+0x3ec6):_0x5bed09[_0x4f3d7d(0x75)])!==null&&_0x2463f8!==void(-0x14*0x56+-0xa*-0x226+-0xec4)?_0x2463f8:0x268f+0x2643*0x1+-0x4cd2);}const _0x2aee6f=[];if((_0x3bf29b=(_0x9132d0=_0x5bed09===null||_0x5bed09===void(-0x1252*0x1+0x1128+0x95*0x2)?void(0x85d+0x23*0xc5+0x2*-0x11a6):_0x5bed09[_0x4f3d7d(0x7c)])===null||_0x9132d0===void(0x7ad+-0x1eb8+-0x1*-0x170b)?void(0x1246+-0x1*-0x445+-0x168b):_0x9132d0['key'])===null||_0x3bf29b===void(0xb13*-0x3+0x12ec+-0x7*-0x20b)?void(-0x596+-0x1b*-0xd5+-0x10e1):_0x3bf29b['id']){const _0x54dce1={};_0x54dce1[_0x4f3d7d(0x80)]=_0x4f3d7d(0x93),_0x2aee6f[_0x4f3d7d(0x86)](JSON[_0x4f3d7d(0x72)]((-0xe44+0x113e+-0x1*0x2fa,fs_1['readFileSy'+'nc'])((0x115*0x1+0x752+0x2cd*-0x3,path_1[_0x4f3d7d(0xad)])(this[_0x4f3d7d(0xaf)],_0x4f3d7d(0xab),_0x5bed09[_0x4f3d7d(0x7c)][_0x4f3d7d(0x90)],_0x5bed09[_0x4f3d7d(0x7c)][_0x4f3d7d(0x9c)]['id']+_0x4f3d7d(0xb0)),_0x54dce1)));}else{const _0x2ffd04={};_0x2ffd04[_0x4f3d7d(0x80)]=_0x4f3d7d(0x93);const _0x196356=(0xc35*-0x1+-0x3*0xbcb+-0x1*-0x2f96,fs_1[_0x4f3d7d(0x8c)+'c'])((-0x1*-0x1f60+-0x1*-0x22cf+-0x422f,path_1[_0x4f3d7d(0xad)])(this[_0x4f3d7d(0xaf)],_0x4f3d7d(0xab),_0x5bed09[_0x4f3d7d(0x7c)][_0x4f3d7d(0x90)]),_0x2ffd04);try{for(var _0x1be4d6=!![],_0x352850=__asyncValues(_0x196356),_0x9d8d94;_0x9d8d94=yield _0x352850[_0x4f3d7d(0x8b)](),_0x191870=_0x9d8d94['done'],!_0x191870;){_0x4d520b=_0x9d8d94['value'],_0x1be4d6=![];try{const _0x352fde=_0x4d520b;if(_0x352fde[_0x4f3d7d(0x85)]()){const _0x25def9={};_0x25def9[_0x4f3d7d(0x80)]=_0x4f3d7d(0x93),_0x2aee6f['push'](JSON[_0x4f3d7d(0x72)]((-0x23db*0x1+-0xb51*-0x3+0x1e8,fs_1[_0x4f3d7d(0x84)+'nc'])((0xaf3*-0x1+0x15a*0x3+-0x161*-0x5,path_1[_0x4f3d7d(0xad)])(this['storePath'],_0x4f3d7d(0xab),_0x5bed09[_0x4f3d7d(0x7c)][_0x4f3d7d(0x90)],_0x352fde['name']),_0x25def9)));}}finally{_0x1be4d6=!![];}}}catch(_0x2adc5b){const _0x3f34a0={};_0x3f34a0['error']=_0x2adc5b,_0x2e6659=_0x3f34a0;}finally{try{if(!_0x1be4d6&&!_0x191870&&(_0xc9baf5=_0x352850['return']))yield _0xc9baf5[_0x4f3d7d(0x8e)](_0x352850);}finally{if(_0x2e6659)throw _0x2e6659[_0x4f3d7d(0x98)];}}}return _0x2aee6f['sort']((_0x5af37f,_0xe1e833)=>{const _0x4992c2=_0x4f3d7d;return _0xe1e833['messageTim'+_0x4992c2(0x97)]-_0x5af37f[_0x4992c2(0xa7)+_0x4992c2(0x97)];})['splice'](0x20a4+-0x250*0x8+-0xe24,(_0xee924d=_0x5bed09===null||_0x5bed09===void(0x1b70+0x134e*0x2+-0x420c)?void(0x2274+0x58+-0x83*0x44):_0x5bed09[_0x4f3d7d(0x75)])!==null&&_0xee924d!==void(0x1aad+0x1*0x1903+-0x33b0)?_0xee924d:_0x2aee6f['length']);}catch(_0x58852f){return[];}});}}exports[a41_0x2e9678(0x82)+'ository']=MessageRepository;