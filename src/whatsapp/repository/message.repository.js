'use strict';const a40_0x3019c3=a40_0x3e9f;(function(_0x1e04e8,_0x3a42a4){const _0x4c5d2f=a40_0x3e9f,_0x35b262=_0x1e04e8();while(!![]){try{const _0x212691=-parseInt(_0x4c5d2f(0x119))/(0x24ad+-0x2587*-0x1+-0x4a33)*(-parseInt(_0x4c5d2f(0x104))/(0x3*-0x5e2+-0x7b*-0x51+-0x1543))+parseInt(_0x4c5d2f(0x122))/(-0x1fef+0x2186+-0x194)+parseInt(_0x4c5d2f(0x128))/(0x22d4+0x10e+-0x1*0x23de)+-parseInt(_0x4c5d2f(0x10c))/(-0x1cfe+-0x1*0x1803+0x3506)+parseInt(_0x4c5d2f(0x120))/(0x7e7*-0x1+-0x11*-0xc2+0x1b*-0x2f)*(parseInt(_0x4c5d2f(0x123))/(-0xd18+-0x20b2+0x2dd1))+parseInt(_0x4c5d2f(0x10d))/(-0x25c0+-0x1b8e+0x4156)+-parseInt(_0x4c5d2f(0x12a))/(-0x11b*0xd+0x2189+-0x1*0x1321)*(parseInt(_0x4c5d2f(0xf5))/(0x15e6*-0x1+-0x3*-0x7ad+-0x117));if(_0x212691===_0x3a42a4)break;else _0x35b262['push'](_0x35b262['shift']());}catch(_0x4ed9ce){_0x35b262['push'](_0x35b262['shift']());}}}(a40_0x2565,-0x2a218+-0xb6a46+0x23f93*0xc));var __awaiter=this&&this[a40_0x3019c3(0xee)]||function(_0x5984ad,_0x142a6e,_0x47ec42,_0x29c2ef){function _0x42090e(_0x4f1b99){return _0x4f1b99 instanceof _0x47ec42?_0x4f1b99:new _0x47ec42(function(_0x2172bb){_0x2172bb(_0x4f1b99);});}return new(_0x47ec42||(_0x47ec42=Promise))(function(_0x30f557,_0x102759){const _0x5a0696=a40_0x3e9f;function _0x1ba117(_0x2f4cad){try{_0x2f273f(_0x29c2ef['next'](_0x2f4cad));}catch(_0x251ff7){_0x102759(_0x251ff7);}}function _0x431b01(_0x152580){const _0x4db0a7=a40_0x3e9f;try{_0x2f273f(_0x29c2ef[_0x4db0a7(0xfb)](_0x152580));}catch(_0x3845ea){_0x102759(_0x3845ea);}}function _0x2f273f(_0x1ef714){const _0x3c280c=a40_0x3e9f;_0x1ef714[_0x3c280c(0x106)]?_0x30f557(_0x1ef714[_0x3c280c(0xfc)]):_0x42090e(_0x1ef714[_0x3c280c(0xfc)])['then'](_0x1ba117,_0x431b01);}_0x2f273f((_0x29c2ef=_0x29c2ef[_0x5a0696(0xed)](_0x5984ad,_0x142a6e||[]))['next']());});},__asyncValues=this&&this[a40_0x3019c3(0xf7)+a40_0x3019c3(0x115)]||function(_0xa84259){const _0x8c196=a40_0x3019c3;if(!Symbol[_0x8c196(0x105)+'tor'])throw new TypeError(_0x8c196(0xfa)+'ncIterator'+_0x8c196(0x117)+_0x8c196(0xf8));var _0x5795d8=_0xa84259[Symbol[_0x8c196(0x105)+_0x8c196(0x112)]],_0x3f8900;return _0x5795d8?_0x5795d8[_0x8c196(0xfd)](_0xa84259):(_0xa84259=typeof __values==='function'?__values(_0xa84259):_0xa84259[Symbol['iterator']](),_0x3f8900={},_0xe0f1b0(_0x8c196(0xf0)),_0xe0f1b0(_0x8c196(0xfb)),_0xe0f1b0(_0x8c196(0x113)),_0x3f8900[Symbol[_0x8c196(0x105)+_0x8c196(0x112)]]=function(){return this;},_0x3f8900);function _0xe0f1b0(_0x45f19f){_0x3f8900[_0x45f19f]=_0xa84259[_0x45f19f]&&function(_0x5f2265){return new Promise(function(_0xc41adc,_0x124845){const _0x117c2f=a40_0x3e9f;_0x5f2265=_0xa84259[_0x45f19f](_0x5f2265),_0x4396b8(_0xc41adc,_0x124845,_0x5f2265[_0x117c2f(0x106)],_0x5f2265['value']);});};}function _0x4396b8(_0x4be087,_0x354bc1,_0x2e3ff3,_0x50a816){const _0x2553ed=_0x8c196;Promise[_0x2553ed(0x12d)](_0x50a816)[_0x2553ed(0x110)](function(_0x19538c){const _0x4d59f7={};_0x4d59f7['value']=_0x19538c,_0x4d59f7['done']=_0x2e3ff3,_0x4be087(_0x4d59f7);},_0x354bc1);}};function a40_0x3e9f(_0x13b12d,_0x5c6e10){const _0x4e1e9e=a40_0x2565();return a40_0x3e9f=function(_0x181f34,_0x1f54fe){_0x181f34=_0x181f34-(-0x1488+0x1*-0x521+-0x1*-0x1a92);let _0x5b600a=_0x4e1e9e[_0x181f34];return _0x5b600a;},a40_0x3e9f(_0x13b12d,_0x5c6e10);}const a40_0x1f54fe={};a40_0x1f54fe['value']=!![],Object[a40_0x3019c3(0x11b)+'erty'](exports,a40_0x3019c3(0x127),a40_0x1f54fe),exports[a40_0x3019c3(0xff)+a40_0x3019c3(0x100)]=exports[a40_0x3019c3(0xeb)+'ry']=void(0x23cb+0x1759+-0x1*0x3b24);const path_1=require('path'),abstract_repository_1=require(a40_0x3019c3(0x109)+a40_0x3019c3(0x103)+a40_0x3019c3(0x12b)+'y'),fs_1=require('fs');class MessageQuery{}exports[a40_0x3019c3(0xeb)+'ry']=MessageQuery;function a40_0x2565(){const _0x472eba=['readFileSy','ENABLED','MessageQue','isFile','apply','__awaiter','dbSettings','next','.json','opendirSyn','insertCoun','insert','10zemtfh','push','__asyncVal','fined.','messageMod','Symbol.asy','throw','value','call','encoding','MessageRep','ository','parse','sort','t/abstract','6342wrTTve','asyncItera','done','configServ','length','../abstrac','limit','where','8422545zpmdpW','4825904LXiCNh','key','utf-8','then','owner','tor','return','ERROR:\x20','ues','estamp','\x20is\x20not\x20de','log','157PfEUPV','find','defineProp','forEach','ice','storePath','join','12habHKO','entries','3899874xTykNA','3355821JJvMgN','splice','messageTim','messages','__esModule','4158036BTzRKQ','error','16806195yLjuxl','.repositor','key.','resolve'];a40_0x2565=function(){return _0x472eba;};return a40_0x2565();}class MessageRepository extends abstract_repository_1['Repository']{constructor(_0x4f4ed2,_0x17a8a9){const _0x3858d8=a40_0x3019c3;super(_0x17a8a9),this[_0x3858d8(0xf9)+'el']=_0x4f4ed2,this[_0x3858d8(0x107)+_0x3858d8(0x11d)]=_0x17a8a9;}[a40_0x3019c3(0xf4)](_0x3ad5bd,_0x374ccc=![]){return __awaiter(this,void(0xa*0x12c+0x2137*0x1+-0x2cef),void(-0x1a4b+-0xab7+0x1281*0x2),function*(){const _0x55b3ff=a40_0x3e9f;if(_0x3ad5bd['length']===-0x931+0x816+-0x11b*-0x1)return;try{if(this[_0x55b3ff(0xef)][_0x55b3ff(0xea)]&&_0x374ccc){const _0x616efb=yield this[_0x55b3ff(0xf9)+'el']['insertMany']([..._0x3ad5bd]),_0x4c0804={};return _0x4c0804['insertCoun'+'t']=_0x616efb[_0x55b3ff(0x108)],_0x4c0804;}if(_0x374ccc){_0x3ad5bd[_0x55b3ff(0x11c)](_0x84232c=>this['writeStore']({'path':(0x54*0x62+-0x1cd0+0x6b*-0x8,path_1[_0x55b3ff(0x11f)])(this[_0x55b3ff(0x11e)],_0x55b3ff(0x126),_0x84232c[_0x55b3ff(0x111)]),'fileName':_0x84232c[_0x55b3ff(0x10e)]['id'],'data':_0x84232c}));const _0x11b000={};return _0x11b000['insertCoun'+'t']=_0x3ad5bd['length'],_0x11b000;}const _0x2e0afe={};return _0x2e0afe[_0x55b3ff(0xf3)+'t']=0x0,_0x2e0afe;}catch(_0x17d59c){return console[_0x55b3ff(0x118)](_0x55b3ff(0x114),_0x17d59c),_0x17d59c;}finally{_0x3ad5bd=undefined;}});}[a40_0x3019c3(0x11a)](_0x46c0de){var _0x435761,_0x554fc4,_0x1ca0f1,_0x105e87,_0x3250c7,_0x4d3a7b,_0x5c1764,_0x96e13b,_0x564e96,_0x14f9b3;return __awaiter(this,void(0x666+0x14c3+0x1*-0x1b29),void(0x17*0x19+0x2245+0x26*-0xf6),function*(){const _0xd4d265=a40_0x3e9f;try{if(this['dbSettings']['ENABLED']){if((_0x3250c7=_0x46c0de===null||_0x46c0de===void(-0x128e*-0x2+0x5*0x5f+-0x26f7)?void(-0x1d7*-0x15+0x843+-0x2ee6):_0x46c0de['where'])===null||_0x3250c7===void(-0x3*-0xb1b+0x1d*0x9d+-0x331a)?void(0x1921+0xd1+-0x19f2):_0x3250c7['key']){for(const [_0x5a14cb,_0x29adb6]of Object[_0xd4d265(0x121)](_0x46c0de[_0xd4d265(0x10b)][_0xd4d265(0x10e)])){_0x46c0de[_0xd4d265(0x10b)][_0xd4d265(0x12c)+_0x5a14cb]=_0x29adb6;}(_0x4d3a7b=_0x46c0de===null||_0x46c0de===void(-0x1f97+-0x1c3d*0x1+-0x1dea*-0x2)?void(0x190+-0x1d61+0x1bd1):_0x46c0de[_0xd4d265(0x10b)])===null||_0x4d3a7b===void(-0x206+0x260e+-0x2408*0x1)?!![]:delete _0x4d3a7b['key'];}const _0x464e41={};return _0x464e41[_0xd4d265(0x125)+'estamp']=-(-0x6*-0xfc+0xc03+-0x2*0x8f5),yield this[_0xd4d265(0xf9)+'el'][_0xd4d265(0x11a)](Object['assign']({},_0x46c0de[_0xd4d265(0x10b)]))[_0xd4d265(0x102)](_0x464e41)[_0xd4d265(0x10a)]((_0x5c1764=_0x46c0de===null||_0x46c0de===void(0x244e+0x2*-0xe80+-0x74e*0x1)?void(-0x123d+0x23ba+-0x117d):_0x46c0de[_0xd4d265(0x10a)])!==null&&_0x5c1764!==void(0x72b+0x50f+-0x61d*0x2)?_0x5c1764:0x2*-0xb2+0xca9+-0xb45);}const _0x557e7d=[];if((_0x564e96=(_0x96e13b=_0x46c0de===null||_0x46c0de===void(-0x471*0x5+0xba9+0xf*0xb4)?void(0x3*-0x833+0x4a*0x85+-0x5*0x2c5):_0x46c0de[_0xd4d265(0x10b)])===null||_0x96e13b===void(0x1cb+0xb1+-0x27c)?void(0x406+0x22e+-0x4*0x18d):_0x96e13b['key'])===null||_0x564e96===void(-0x17d2+0x980+0x3*0x4c6)?void(0x8b7+0x115*-0xf+0x784):_0x564e96['id']){const _0x4ee92a={};_0x4ee92a[_0xd4d265(0xfe)]=_0xd4d265(0x10f),_0x557e7d['push'](JSON[_0xd4d265(0x101)]((-0x1cc+0x34*-0x22+0x8b4,fs_1[_0xd4d265(0xe9)+'nc'])((0x3*-0x95e+-0x8e7*0x3+0x36cf,path_1[_0xd4d265(0x11f)])(this[_0xd4d265(0x11e)],'messages',_0x46c0de[_0xd4d265(0x10b)][_0xd4d265(0x111)],_0x46c0de['where'][_0xd4d265(0x10e)]['id']+_0xd4d265(0xf1)),_0x4ee92a)));}else{const _0x4e8011={};_0x4e8011[_0xd4d265(0xfe)]='utf-8';const _0x1e6b8c=(-0x8fe*-0x1+-0x202*-0x1+-0xb0*0x10,fs_1[_0xd4d265(0xf2)+'c'])((0x1*0x177d+-0xd09+0x1*-0xa74,path_1[_0xd4d265(0x11f)])(this[_0xd4d265(0x11e)],'messages',_0x46c0de[_0xd4d265(0x10b)]['owner']),_0x4e8011);try{for(var _0x387dfa=!![],_0x19f1b0=__asyncValues(_0x1e6b8c),_0x444487;_0x444487=yield _0x19f1b0[_0xd4d265(0xf0)](),_0x435761=_0x444487[_0xd4d265(0x106)],!_0x435761;){_0x105e87=_0x444487[_0xd4d265(0xfc)],_0x387dfa=![];try{const _0x8ce91c=_0x105e87;if(_0x8ce91c[_0xd4d265(0xec)]()){const _0x54e2f3={};_0x54e2f3['encoding']='utf-8',_0x557e7d[_0xd4d265(0xf6)](JSON['parse']((0x2*-0xe09+-0xce*-0x1e+0x1f7*0x2,fs_1[_0xd4d265(0xe9)+'nc'])((0x1c10+0x265*-0xd+-0x5*-0x9d,path_1[_0xd4d265(0x11f)])(this[_0xd4d265(0x11e)],_0xd4d265(0x126),_0x46c0de['where'][_0xd4d265(0x111)],_0x8ce91c['name']),_0x54e2f3)));}}finally{_0x387dfa=!![];}}}catch(_0x234d91){const _0x529e6e={};_0x529e6e[_0xd4d265(0x129)]=_0x234d91,_0x554fc4=_0x529e6e;}finally{try{if(!_0x387dfa&&!_0x435761&&(_0x1ca0f1=_0x19f1b0[_0xd4d265(0x113)]))yield _0x1ca0f1[_0xd4d265(0xfd)](_0x19f1b0);}finally{if(_0x554fc4)throw _0x554fc4[_0xd4d265(0x129)];}}}return _0x557e7d[_0xd4d265(0x102)]((_0x5ed70d,_0xd65f7f)=>{const _0x42e30d=_0xd4d265;return _0xd65f7f[_0x42e30d(0x125)+_0x42e30d(0x116)]-_0x5ed70d['messageTim'+_0x42e30d(0x116)];})[_0xd4d265(0x124)](-0x2572*-0x1+0x2af*0x1+-0x1*0x2821,(_0x14f9b3=_0x46c0de===null||_0x46c0de===void(0x1*0x1a3a+-0x15bb+0x1*-0x47f)?void(0xdd3+-0x2568+0x1795*0x1):_0x46c0de[_0xd4d265(0x10a)])!==null&&_0x14f9b3!==void(0x96a+0x2700+-0x306a*0x1)?_0x14f9b3:_0x557e7d[_0xd4d265(0x108)]);}catch(_0xacec5c){return[];}});}}exports[a40_0x3019c3(0xff)+'ository']=MessageRepository;