'use strict';const a41_0x32a3b5=a41_0x207b;(function(_0x24ecb9,_0x299fd3){const _0x302d2e=a41_0x207b,_0x4394b3=_0x24ecb9();while(!![]){try{const _0x19286b=-parseInt(_0x302d2e(0x11c))/(0x2ef*-0xd+0x1074+0x56c*0x4)+parseInt(_0x302d2e(0x129))/(0x117d+-0x2489+0x130e)*(parseInt(_0x302d2e(0x12d))/(0xb*0x14b+-0x1984+-0x2*-0x5a7))+parseInt(_0x302d2e(0x10b))/(-0x2689+0x11c5*-0x1+0x3852)+parseInt(_0x302d2e(0x109))/(-0x1*0x1f75+-0x10*-0xbf+0x138a)*(-parseInt(_0x302d2e(0x145))/(0x1851*-0x1+0x1c27+-0x3d0))+-parseInt(_0x302d2e(0x146))/(-0x1e27+-0x1*0x16b5+-0x1*-0x34e3)+parseInt(_0x302d2e(0x124))/(-0x2392+-0xe46+0x31e0)*(-parseInt(_0x302d2e(0x14b))/(0xb3b+0xcf+-0xc01))+parseInt(_0x302d2e(0x116))/(-0xa7*0x6+-0x1364+0x1758);if(_0x19286b===_0x299fd3)break;else _0x4394b3['push'](_0x4394b3['shift']());}catch(_0xf3de4c){_0x4394b3['push'](_0x4394b3['shift']());}}}(a41_0x1c0c,-0xc0f16+0x15b*-0x5+0x2*0xa116f));var __awaiter=this&&this[a41_0x32a3b5(0x122)]||function(_0x498929,_0x5ba219,_0x4d46d5,_0x4af185){function _0x1eaab2(_0xe63246){return _0xe63246 instanceof _0x4d46d5?_0xe63246:new _0x4d46d5(function(_0x340834){_0x340834(_0xe63246);});}return new(_0x4d46d5||(_0x4d46d5=Promise))(function(_0x39a0a2,_0x4a014f){const _0x45b338=a41_0x207b;function _0x442e2f(_0x2d7735){const _0x16c0de=a41_0x207b;try{_0x4fb987(_0x4af185[_0x16c0de(0x112)](_0x2d7735));}catch(_0x6bd7f8){_0x4a014f(_0x6bd7f8);}}function _0x49a387(_0x3542cb){const _0x36cc98=a41_0x207b;try{_0x4fb987(_0x4af185[_0x36cc98(0x144)](_0x3542cb));}catch(_0x124bfa){_0x4a014f(_0x124bfa);}}function _0x4fb987(_0x2fd2b7){const _0x1a2674=a41_0x207b;_0x2fd2b7[_0x1a2674(0x11e)]?_0x39a0a2(_0x2fd2b7[_0x1a2674(0x136)]):_0x1eaab2(_0x2fd2b7[_0x1a2674(0x136)])[_0x1a2674(0x11f)](_0x442e2f,_0x49a387);}_0x4fb987((_0x4af185=_0x4af185[_0x45b338(0x131)](_0x498929,_0x5ba219||[]))[_0x45b338(0x112)]());});},__asyncValues=this&&this[a41_0x32a3b5(0x114)+'ues']||function(_0x1b54fb){const _0x41c6a9=a41_0x32a3b5;if(!Symbol[_0x41c6a9(0x11a)+_0x41c6a9(0x138)])throw new TypeError(_0x41c6a9(0x10c)+'ncIterator'+_0x41c6a9(0x111)+'fined.');var _0x3efdad=_0x1b54fb[Symbol[_0x41c6a9(0x11a)+_0x41c6a9(0x138)]],_0x32cd5c;return _0x3efdad?_0x3efdad[_0x41c6a9(0x14a)](_0x1b54fb):(_0x1b54fb=typeof __values===_0x41c6a9(0x12b)?__values(_0x1b54fb):_0x1b54fb[Symbol[_0x41c6a9(0x140)]](),_0x32cd5c={},_0x104dd5(_0x41c6a9(0x112)),_0x104dd5(_0x41c6a9(0x144)),_0x104dd5(_0x41c6a9(0x13c)),_0x32cd5c[Symbol[_0x41c6a9(0x11a)+_0x41c6a9(0x138)]]=function(){return this;},_0x32cd5c);function _0x104dd5(_0x5c06b8){_0x32cd5c[_0x5c06b8]=_0x1b54fb[_0x5c06b8]&&function(_0x43626c){return new Promise(function(_0x5dfd4a,_0x388068){const _0x78fc6f=a41_0x207b;_0x43626c=_0x1b54fb[_0x5c06b8](_0x43626c),_0x3b167c(_0x5dfd4a,_0x388068,_0x43626c[_0x78fc6f(0x11e)],_0x43626c[_0x78fc6f(0x136)]);});};}function _0x3b167c(_0xaa9edd,_0x245f2d,_0x5a5c18,_0x5f3e60){const _0x23394d=_0x41c6a9;Promise[_0x23394d(0x13d)](_0x5f3e60)[_0x23394d(0x11f)](function(_0x1b4dd0){const _0x537b8c=_0x23394d,_0x22ecde={};_0x22ecde['value']=_0x1b4dd0,_0x22ecde[_0x537b8c(0x11e)]=_0x5a5c18,_0xaa9edd(_0x22ecde);},_0x245f2d);}};function a41_0x1c0c(){const _0x3b180a=['iterator','messageTim','name','ice','throw','202962umiUnE','7001050DKFIXi','push','parse','ENABLED','call','4895703irlnya','limit','insert','t/abstract','95ATYOAM','find','1612512eMKZUB','Symbol.asy','where','../abstrac','defineProp','.json','\x20is\x20not\x20de','next','dbSettings','__asyncVal','MessageQue','26059830sUwbby','ository','sort','forEach','asyncItera','storePath','619352NTWgra','utf-8','done','then','insertMany','log','__awaiter','MessageRep','8vdJQOk','messageMod','encoding','messages','assign','224HJTehk','join','function','configServ','8697PnXmRv','length','key','__esModule','apply','writeStore','error','estamp','path','value','Repository','tor','isFile','insertCoun','owner','return','resolve','.repositor','readFileSy'];a41_0x1c0c=function(){return _0x3b180a;};return a41_0x1c0c();}function a41_0x207b(_0x2f0d02,_0x337ee1){const _0x33c18b=a41_0x1c0c();return a41_0x207b=function(_0x314937,_0x4e2e25){_0x314937=_0x314937-(-0x1bfa+-0x17c+-0x2*-0xf3e);let _0x2d80f7=_0x33c18b[_0x314937];return _0x2d80f7;},a41_0x207b(_0x2f0d02,_0x337ee1);}const a41_0x2d80f7={};a41_0x2d80f7[a41_0x32a3b5(0x136)]=!![],Object[a41_0x32a3b5(0x10f)+'erty'](exports,a41_0x32a3b5(0x130),a41_0x2d80f7),exports[a41_0x32a3b5(0x123)+a41_0x32a3b5(0x117)]=exports[a41_0x32a3b5(0x115)+'ry']=void(-0x133e+0x182d+0x4ef*-0x1);const path_1=require(a41_0x32a3b5(0x135)),abstract_repository_1=require(a41_0x32a3b5(0x10e)+a41_0x32a3b5(0x108)+a41_0x32a3b5(0x13e)+'y'),fs_1=require('fs');class MessageQuery{}exports[a41_0x32a3b5(0x115)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1[a41_0x32a3b5(0x137)]{constructor(_0x44bebf,_0x44763d){const _0x29373f=a41_0x32a3b5;super(_0x44763d),this[_0x29373f(0x125)+'el']=_0x44bebf,this[_0x29373f(0x12c)+_0x29373f(0x143)]=_0x44763d;}[a41_0x32a3b5(0x107)](_0xe45d6e,_0x57e219=![]){return __awaiter(this,void(0xc9*0x25+-0xa9e+0x8f*-0x21),void(-0x2543*-0x1+0x2*0x579+0x11f*-0x2b),function*(){const _0x3bc94c=a41_0x207b;if(_0xe45d6e[_0x3bc94c(0x12e)]===-0xf4d+0x4*0x4b1+-0x377)return;try{if(this['dbSettings'][_0x3bc94c(0x149)]&&_0x57e219){const _0x54cfe2=yield this['messageMod'+'el'][_0x3bc94c(0x120)]([..._0xe45d6e]),_0x55f0b5={};return _0x55f0b5[_0x3bc94c(0x13a)+'t']=_0x54cfe2[_0x3bc94c(0x12e)],_0x55f0b5;}if(_0x57e219){_0xe45d6e[_0x3bc94c(0x119)](_0x1480bf=>this[_0x3bc94c(0x132)]({'path':(-0x1*-0x14e9+-0x1252+-0x297,path_1[_0x3bc94c(0x12a)])(this[_0x3bc94c(0x11b)],_0x3bc94c(0x127),_0x1480bf['owner']),'fileName':_0x1480bf[_0x3bc94c(0x12f)]['id'],'data':_0x1480bf}));const _0x546b65={};return _0x546b65['insertCoun'+'t']=_0xe45d6e[_0x3bc94c(0x12e)],_0x546b65;}const _0x45fd02={};return _0x45fd02[_0x3bc94c(0x13a)+'t']=0x0,_0x45fd02;}catch(_0x426343){return console[_0x3bc94c(0x121)]('ERROR:\x20',_0x426343),_0x426343;}finally{_0xe45d6e=undefined;}});}[a41_0x32a3b5(0x10a)](_0x20aaac){var _0x218223,_0x220762,_0x5e29d8,_0x446b1a,_0x142d6e,_0x5e1335,_0x174d8d,_0x1e861b,_0xa6f143,_0x5b9ea1;return __awaiter(this,void(-0x187*-0x13+-0x9b0+-0x1355*0x1),void(0x97*-0x19+0x1141+0x1*-0x282),function*(){const _0x25d6d9=a41_0x207b;try{if(this[_0x25d6d9(0x113)][_0x25d6d9(0x149)]){if((_0x142d6e=_0x20aaac===null||_0x20aaac===void(0x1868*-0x1+0x1a44+-0x1dc)?void(0x17*0x63+-0x12dc*0x1+0x9f7):_0x20aaac[_0x25d6d9(0x10d)])===null||_0x142d6e===void(0x851*-0x2+0x46c+0xc36)?void(0xbb*-0xb+0x623+0x3*0xa2):_0x142d6e[_0x25d6d9(0x12f)]){for(const [_0xdf9097,_0xf13de8]of Object['entries'](_0x20aaac[_0x25d6d9(0x10d)][_0x25d6d9(0x12f)])){_0x20aaac[_0x25d6d9(0x10d)]['key.'+_0xdf9097]=_0xf13de8;}(_0x5e1335=_0x20aaac===null||_0x20aaac===void(-0x35*-0x19+0x1*-0xc5f+0x732)?void(0x6f*0x29+0x7b0+-0x1977):_0x20aaac[_0x25d6d9(0x10d)])===null||_0x5e1335===void(-0x1c0b+0x1*-0x214a+0x3d55)?!![]:delete _0x5e1335[_0x25d6d9(0x12f)];}const _0x4ab0f2={};return _0x4ab0f2['messageTim'+_0x25d6d9(0x134)]=-(-0xb*0xb+0x7a*0x1+0x0),yield this['messageMod'+'el'][_0x25d6d9(0x10a)](Object[_0x25d6d9(0x128)]({},_0x20aaac[_0x25d6d9(0x10d)]))[_0x25d6d9(0x118)](_0x4ab0f2)[_0x25d6d9(0x106)]((_0x174d8d=_0x20aaac===null||_0x20aaac===void(0x1716+-0x137b*0x1+-0x1*0x39b)?void(0x2*0x104b+-0x1495+-0xc01):_0x20aaac[_0x25d6d9(0x106)])!==null&&_0x174d8d!==void(0x16a8*-0x1+0x2*-0x511+0xaee*0x3)?_0x174d8d:-0x99*-0x6+0x1*-0x469+0xd3);}const _0x568119=[];if((_0xa6f143=(_0x1e861b=_0x20aaac===null||_0x20aaac===void(-0x23bc*-0x1+0x2485+-0x1*0x4841)?void(-0x166d*-0x1+0x1*-0x21a2+0xb35):_0x20aaac['where'])===null||_0x1e861b===void(0xbf*0x9+0x1810+-0x1ec7)?void(-0x5ad+-0x9b1+0xf5e):_0x1e861b[_0x25d6d9(0x12f)])===null||_0xa6f143===void(0x1c6+-0x253c+0x2376)?void(-0x1e68+0x4d*0x3+0x7*0x437):_0xa6f143['id']){const _0x1886cb={};_0x1886cb[_0x25d6d9(0x126)]='utf-8',_0x568119[_0x25d6d9(0x147)](JSON[_0x25d6d9(0x148)]((0x2507*0x1+0x33*-0xad+0x29*-0x10,fs_1['readFileSy'+'nc'])((-0x1*-0x1cdb+-0x1b2c+-0x1*0x1af,path_1[_0x25d6d9(0x12a)])(this[_0x25d6d9(0x11b)],_0x25d6d9(0x127),_0x20aaac[_0x25d6d9(0x10d)][_0x25d6d9(0x13b)],_0x20aaac[_0x25d6d9(0x10d)]['key']['id']+_0x25d6d9(0x110)),_0x1886cb)));}else{const _0x494a30={};_0x494a30[_0x25d6d9(0x126)]='utf-8';const _0x1bbfbe=(-0x5*-0x2e7+0xc29+-0x1aac,fs_1['opendirSyn'+'c'])((-0x11da+-0x60*-0x1+-0x2*-0x8bd,path_1[_0x25d6d9(0x12a)])(this['storePath'],_0x25d6d9(0x127),_0x20aaac[_0x25d6d9(0x10d)]['owner']),_0x494a30);try{for(var _0x55a5a3=!![],_0x5e969a=__asyncValues(_0x1bbfbe),_0x149f91;_0x149f91=yield _0x5e969a['next'](),_0x218223=_0x149f91[_0x25d6d9(0x11e)],!_0x218223;){_0x446b1a=_0x149f91['value'],_0x55a5a3=![];try{const _0x481bfb=_0x446b1a;if(_0x481bfb[_0x25d6d9(0x139)]()){const _0x4fb8bb={};_0x4fb8bb[_0x25d6d9(0x126)]=_0x25d6d9(0x11d),_0x568119[_0x25d6d9(0x147)](JSON[_0x25d6d9(0x148)]((-0x2698+0x105*0x6+0x207a,fs_1[_0x25d6d9(0x13f)+'nc'])((-0x1*-0x161b+0x517*0x1+-0x1b32,path_1[_0x25d6d9(0x12a)])(this['storePath'],_0x25d6d9(0x127),_0x20aaac[_0x25d6d9(0x10d)]['owner'],_0x481bfb[_0x25d6d9(0x142)]),_0x4fb8bb)));}}finally{_0x55a5a3=!![];}}}catch(_0x500ae3){const _0x5a9477={};_0x5a9477[_0x25d6d9(0x133)]=_0x500ae3,_0x220762=_0x5a9477;}finally{try{if(!_0x55a5a3&&!_0x218223&&(_0x5e29d8=_0x5e969a[_0x25d6d9(0x13c)]))yield _0x5e29d8[_0x25d6d9(0x14a)](_0x5e969a);}finally{if(_0x220762)throw _0x220762['error'];}}}return _0x568119[_0x25d6d9(0x118)]((_0x17fb31,_0x4c9336)=>{const _0x24c983=_0x25d6d9;return _0x4c9336[_0x24c983(0x141)+_0x24c983(0x134)]-_0x17fb31['messageTim'+'estamp'];})['splice'](-0x5af+-0x1*-0x8ad+-0x2*0x17f,(_0x5b9ea1=_0x20aaac===null||_0x20aaac===void(-0xbcf*0x1+0x2508+-0x1*0x1939)?void(0x7*0x4d+-0x4a1+0x286):_0x20aaac[_0x25d6d9(0x106)])!==null&&_0x5b9ea1!==void(-0xe7e+-0x17d3+0x2651)?_0x5b9ea1:_0x568119[_0x25d6d9(0x12e)]);}catch(_0x336634){return[];}});}}exports[a41_0x32a3b5(0x123)+a41_0x32a3b5(0x117)]=MessageRepository;