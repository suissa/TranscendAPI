'use strict';const a41_0x3b6b4f=a41_0x18c6;function a41_0x4266(){const _0x5dc70a=['1112512nuowXE','owner','5GlAfqY','storePath','apply','ice','ERROR:\x20','t/abstract','assign','MessageQue','__awaiter','splice','estamp','insertCoun','writeStore','then','asyncItera','error','erty','isFile','__asyncVal','path','ncIterator','key','limit','messageMod','insert','forEach','Repository','1630797RtiaCq','__esModule','log','messageTim','209165YfYrHw','ENABLED','990aONOVh','encoding','utf-8','insertMany','opendirSyn','2388588GYgnYe','key.','Symbol.asy','value','done','38yxdCOb','.repositor','configServ','8UsmJky','where','next','join','40645cjfCAX','tor','53949ROiILT','throw','messages','dbSettings','1661841CLmtVP','.json','MessageRep','readFileSy','return','sort','../abstrac','resolve','find','parse','push','ository','length'];a41_0x4266=function(){return _0x5dc70a;};return a41_0x4266();}(function(_0x9903fb,_0x15a016){const _0x4fcf65=a41_0x18c6,_0x1fc5f8=_0x9903fb();while(!![]){try{const _0x39db20=-parseInt(_0x4fcf65(0x16e))/(-0x97*-0x1d+0x12f4+0x39b*-0xa)+parseInt(_0x4fcf65(0x17a))/(-0x1867+0x1*0x1d83+0x2*-0x28d)*(parseInt(_0x4fcf65(0x183))/(0x1fd*-0x1+0x8dc+-0x6dc))+parseInt(_0x4fcf65(0x194))/(0x223e+-0x1b3e+-0x6fc*0x1)*(-parseInt(_0x4fcf65(0x196))/(-0x2011+-0x1*0x1b37+0x3b4d))+parseInt(_0x4fcf65(0x175))/(-0x2536+-0x17a+0x5*0x7be)+-parseInt(_0x4fcf65(0x1b1))/(-0x57a*-0x3+-0x15a2+0x53b)+-parseInt(_0x4fcf65(0x17d))/(-0xf15+-0x2*0x11bc+0x3295)*(parseInt(_0x4fcf65(0x187))/(-0x14*-0x8d+-0x79e*0x2+0x441))+-parseInt(_0x4fcf65(0x170))/(-0x2de+0x1*0xfa0+-0x197*0x8)*(-parseInt(_0x4fcf65(0x181))/(0x10b8+-0x1fed+0x4*0x3d0));if(_0x39db20===_0x15a016)break;else _0x1fc5f8['push'](_0x1fc5f8['shift']());}catch(_0x15d6c4){_0x1fc5f8['push'](_0x1fc5f8['shift']());}}}(a41_0x4266,-0x48250+-0x43*0xd03+-0x2be7d*-0x4));function a41_0x18c6(_0x586e45,_0x5dccf4){const _0x5f33b3=a41_0x4266();return a41_0x18c6=function(_0x5b2b6e,_0x4c958d){_0x5b2b6e=_0x5b2b6e-(-0x17*-0x1d+-0x13*0xe5+0xfcf);let _0x738a0=_0x5f33b3[_0x5b2b6e];return _0x738a0;},a41_0x18c6(_0x586e45,_0x5dccf4);}var __awaiter=this&&this[a41_0x3b6b4f(0x19e)]||function(_0x30c442,_0x342054,_0x31922a,_0x5e9f86){function _0x43daaa(_0x4f7941){return _0x4f7941 instanceof _0x31922a?_0x4f7941:new _0x31922a(function(_0x43badf){_0x43badf(_0x4f7941);});}return new(_0x31922a||(_0x31922a=Promise))(function(_0x16e26d,_0x263bbc){const _0x4833b8=a41_0x18c6;function _0x1c95ec(_0x16f7fa){const _0x182f73=a41_0x18c6;try{_0x32a610(_0x5e9f86[_0x182f73(0x17f)](_0x16f7fa));}catch(_0x5cbf96){_0x263bbc(_0x5cbf96);}}function _0x1d48d7(_0x35326e){const _0x1bd115=a41_0x18c6;try{_0x32a610(_0x5e9f86[_0x1bd115(0x184)](_0x35326e));}catch(_0x4db855){_0x263bbc(_0x4db855);}}function _0x32a610(_0x2e717f){const _0x305def=a41_0x18c6;_0x2e717f['done']?_0x16e26d(_0x2e717f[_0x305def(0x178)]):_0x43daaa(_0x2e717f[_0x305def(0x178)])[_0x305def(0x1a3)](_0x1c95ec,_0x1d48d7);}_0x32a610((_0x5e9f86=_0x5e9f86[_0x4833b8(0x198)](_0x30c442,_0x342054||[]))[_0x4833b8(0x17f)]());});},__asyncValues=this&&this[a41_0x3b6b4f(0x1a8)+'ues']||function(_0x31ee4a){const _0x39b8a1=a41_0x3b6b4f;if(!Symbol[_0x39b8a1(0x1a4)+_0x39b8a1(0x182)])throw new TypeError(_0x39b8a1(0x177)+_0x39b8a1(0x1aa)+'\x20is\x20not\x20de'+'fined.');var _0x209352=_0x31ee4a[Symbol['asyncItera'+_0x39b8a1(0x182)]],_0x33a243;return _0x209352?_0x209352['call'](_0x31ee4a):(_0x31ee4a=typeof __values==='function'?__values(_0x31ee4a):_0x31ee4a[Symbol['iterator']](),_0x33a243={},_0x2a6a56('next'),_0x2a6a56('throw'),_0x2a6a56(_0x39b8a1(0x18b)),_0x33a243[Symbol[_0x39b8a1(0x1a4)+_0x39b8a1(0x182)]]=function(){return this;},_0x33a243);function _0x2a6a56(_0x4f2a3a){_0x33a243[_0x4f2a3a]=_0x31ee4a[_0x4f2a3a]&&function(_0x31787c){return new Promise(function(_0x5553ae,_0x5ce878){const _0x5e5118=a41_0x18c6;_0x31787c=_0x31ee4a[_0x4f2a3a](_0x31787c),_0x7cb6a1(_0x5553ae,_0x5ce878,_0x31787c[_0x5e5118(0x179)],_0x31787c[_0x5e5118(0x178)]);});};}function _0x7cb6a1(_0x25338c,_0x2d7b1a,_0x26aec8,_0x155709){const _0x5585e6=_0x39b8a1;Promise[_0x5585e6(0x18e)](_0x155709)['then'](function(_0x4e35be){const _0xca58a6=_0x5585e6,_0xfa1730={};_0xfa1730[_0xca58a6(0x178)]=_0x4e35be,_0xfa1730[_0xca58a6(0x179)]=_0x26aec8,_0x25338c(_0xfa1730);},_0x2d7b1a);}};const a41_0x4c958d={};a41_0x4c958d[a41_0x3b6b4f(0x178)]=!![],Object['defineProp'+a41_0x3b6b4f(0x1a6)](exports,a41_0x3b6b4f(0x16b),a41_0x4c958d),exports[a41_0x3b6b4f(0x189)+a41_0x3b6b4f(0x192)]=exports[a41_0x3b6b4f(0x19d)+'ry']=void(-0x26b4+0x11fb+0x14b9*0x1);const path_1=require(a41_0x3b6b4f(0x1a9)),abstract_repository_1=require(a41_0x3b6b4f(0x18d)+a41_0x3b6b4f(0x19b)+a41_0x3b6b4f(0x17b)+'y'),fs_1=require('fs');class MessageQuery{}exports[a41_0x3b6b4f(0x19d)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1[a41_0x3b6b4f(0x1b0)]{constructor(_0x1c5ed5,_0x4faff2){const _0x1514b5=a41_0x3b6b4f;super(_0x4faff2),this[_0x1514b5(0x1ad)+'el']=_0x1c5ed5,this[_0x1514b5(0x17c)+_0x1514b5(0x199)]=_0x4faff2;}[a41_0x3b6b4f(0x1ae)](_0x3b23b0,_0x4749b7=![]){return __awaiter(this,void(0x1*0xa75+-0x41f+-0x656),void(0x17*-0x15b+0x3d1+0x1b5c),function*(){const _0x4f803e=a41_0x18c6;if(_0x3b23b0[_0x4f803e(0x193)]===0x1072+0x3c7*-0x1+-0xcab)return;try{if(this[_0x4f803e(0x186)][_0x4f803e(0x16f)]&&_0x4749b7){const _0x265453=yield this['messageMod'+'el'][_0x4f803e(0x173)]([..._0x3b23b0]),_0x183892={};return _0x183892[_0x4f803e(0x1a1)+'t']=_0x265453[_0x4f803e(0x193)],_0x183892;}if(_0x4749b7){_0x3b23b0[_0x4f803e(0x1af)](_0x597bb2=>this[_0x4f803e(0x1a2)]({'path':(0x26e*0x1+-0x1304+0xb*0x182,path_1[_0x4f803e(0x180)])(this['storePath'],_0x4f803e(0x185),_0x597bb2[_0x4f803e(0x195)]),'fileName':_0x597bb2[_0x4f803e(0x1ab)]['id'],'data':_0x597bb2}));const _0x3faf24={};return _0x3faf24['insertCoun'+'t']=_0x3b23b0[_0x4f803e(0x193)],_0x3faf24;}const _0x58ffbc={};return _0x58ffbc[_0x4f803e(0x1a1)+'t']=0x0,_0x58ffbc;}catch(_0xdf8dfb){return console[_0x4f803e(0x16c)](_0x4f803e(0x19a),_0xdf8dfb),_0xdf8dfb;}finally{_0x3b23b0=undefined;}});}[a41_0x3b6b4f(0x18f)](_0x3c46c9){var _0x52cedc,_0x5bfe77,_0x337226,_0x8d0921,_0x49a952,_0x241f54,_0x26572b,_0x1d5e56,_0x7522e7,_0x36854c;return __awaiter(this,void(-0x350+-0x3*-0xb00+-0x1db0),void(0x5*0x29a+-0x6*-0x569+-0x2d78),function*(){const _0x1845c6=a41_0x18c6;try{if(this['dbSettings'][_0x1845c6(0x16f)]){if((_0x49a952=_0x3c46c9===null||_0x3c46c9===void(-0x8*-0x13+-0x37*-0x5f+0x13*-0x11b)?void(0x9*0x209+0x3*-0x9b9+-0x3*-0x39e):_0x3c46c9[_0x1845c6(0x17e)])===null||_0x49a952===void(0x2107+0x1*0x1c23+-0x3d2a)?void(0x1da3+-0xb5a+-0x1249):_0x49a952[_0x1845c6(0x1ab)]){for(const [_0x1dc9cb,_0x4b1c23]of Object['entries'](_0x3c46c9[_0x1845c6(0x17e)][_0x1845c6(0x1ab)])){_0x3c46c9[_0x1845c6(0x17e)][_0x1845c6(0x176)+_0x1dc9cb]=_0x4b1c23;}(_0x241f54=_0x3c46c9===null||_0x3c46c9===void(-0x1bbb+-0x1e*-0xad+0x775)?void(0x511*-0x1+-0x661+0xb72):_0x3c46c9['where'])===null||_0x241f54===void(0x417+-0x3*-0x27b+-0xb88)?!![]:delete _0x241f54[_0x1845c6(0x1ab)];}const _0x369025={};return _0x369025[_0x1845c6(0x16d)+_0x1845c6(0x1a0)]=-(-0x799*-0x3+-0xd*0x2d7+0xe21),yield this[_0x1845c6(0x1ad)+'el'][_0x1845c6(0x18f)](Object[_0x1845c6(0x19c)]({},_0x3c46c9[_0x1845c6(0x17e)]))['sort'](_0x369025)[_0x1845c6(0x1ac)]((_0x26572b=_0x3c46c9===null||_0x3c46c9===void(0xf*-0xd3+0xff*-0x21+0x2d3c)?void(0x6d2+0xb9b*-0x3+0x1bff):_0x3c46c9['limit'])!==null&&_0x26572b!==void(0x1*-0x26da+0x2326+0x4f*0xc)?_0x26572b:-0x1*-0x131b+0x2eb+-0x1606);}const _0xd4e0c2=[];if((_0x7522e7=(_0x1d5e56=_0x3c46c9===null||_0x3c46c9===void(-0x224f+0x1*0x208d+0x1c2)?void(0x6b*-0x1f+-0x43*-0x1a+0x2d*0x23):_0x3c46c9[_0x1845c6(0x17e)])===null||_0x1d5e56===void(-0xd2+0x6*-0x1c5+0xb70)?void(0x2a1*0x8+0x26d6+0x1*-0x3bde):_0x1d5e56[_0x1845c6(0x1ab)])===null||_0x7522e7===void(0x739+0x1a72+-0x21ab)?void(0x19a7+0x5*-0x1bd+-0x10f6):_0x7522e7['id']){const _0x4ab550={};_0x4ab550[_0x1845c6(0x171)]=_0x1845c6(0x172),_0xd4e0c2[_0x1845c6(0x191)](JSON[_0x1845c6(0x190)]((0x1*0x20d7+0x104e*-0x2+-0x1*0x3b,fs_1['readFileSy'+'nc'])((0x1129*0x1+0x1089+0x1c6*-0x13,path_1[_0x1845c6(0x180)])(this[_0x1845c6(0x197)],'messages',_0x3c46c9[_0x1845c6(0x17e)][_0x1845c6(0x195)],_0x3c46c9[_0x1845c6(0x17e)]['key']['id']+_0x1845c6(0x188)),_0x4ab550)));}else{const _0x694318={};_0x694318[_0x1845c6(0x171)]=_0x1845c6(0x172);const _0x501823=(-0x53*0x16+0x5*-0x482+0x1dac,fs_1[_0x1845c6(0x174)+'c'])((-0x25e*0xa+-0x14d3+-0x3*-0xed5,path_1[_0x1845c6(0x180)])(this[_0x1845c6(0x197)],_0x1845c6(0x185),_0x3c46c9[_0x1845c6(0x17e)]['owner']),_0x694318);try{for(var _0x7b6a7d=!![],_0x208dba=__asyncValues(_0x501823),_0x100d1b;_0x100d1b=yield _0x208dba[_0x1845c6(0x17f)](),_0x52cedc=_0x100d1b[_0x1845c6(0x179)],!_0x52cedc;){_0x8d0921=_0x100d1b[_0x1845c6(0x178)],_0x7b6a7d=![];try{const _0x13b7d1=_0x8d0921;if(_0x13b7d1[_0x1845c6(0x1a7)]()){const _0x3d982e={};_0x3d982e['encoding']=_0x1845c6(0x172),_0xd4e0c2[_0x1845c6(0x191)](JSON[_0x1845c6(0x190)]((0x2659+0x552*-0x2+-0x1bb5,fs_1[_0x1845c6(0x18a)+'nc'])((0x265+0x1297*0x1+-0x53f*0x4,path_1[_0x1845c6(0x180)])(this[_0x1845c6(0x197)],'messages',_0x3c46c9[_0x1845c6(0x17e)][_0x1845c6(0x195)],_0x13b7d1['name']),_0x3d982e)));}}finally{_0x7b6a7d=!![];}}}catch(_0x4e1298){const _0x219fcd={};_0x219fcd[_0x1845c6(0x1a5)]=_0x4e1298,_0x5bfe77=_0x219fcd;}finally{try{if(!_0x7b6a7d&&!_0x52cedc&&(_0x337226=_0x208dba[_0x1845c6(0x18b)]))yield _0x337226['call'](_0x208dba);}finally{if(_0x5bfe77)throw _0x5bfe77[_0x1845c6(0x1a5)];}}}return _0xd4e0c2[_0x1845c6(0x18c)]((_0x1528b5,_0x8361b5)=>{const _0xb5c697=_0x1845c6;return _0x8361b5[_0xb5c697(0x16d)+_0xb5c697(0x1a0)]-_0x1528b5[_0xb5c697(0x16d)+_0xb5c697(0x1a0)];})[_0x1845c6(0x19f)](-0xb4b+-0x14d9*-0x1+-0x98e,(_0x36854c=_0x3c46c9===null||_0x3c46c9===void(0x80f*0x2+0x2268+0x1be*-0x1d)?void(-0x6bf+0xab*-0x11+-0x296*-0x7):_0x3c46c9['limit'])!==null&&_0x36854c!==void(0xd4d+-0x1*-0x1ea9+-0x14b*0x22)?_0x36854c:_0xd4e0c2[_0x1845c6(0x193)]);}catch(_0x2937b7){return[];}});}}exports[a41_0x3b6b4f(0x189)+a41_0x3b6b4f(0x192)]=MessageRepository;