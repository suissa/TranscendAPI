'use strict';const a40_0x1d75a9=a40_0x3586;(function(_0x7eff4e,_0x5c074f){const _0x251d45=a40_0x3586,_0x2065c4=_0x7eff4e();while(!![]){try{const _0x32d6cd=-parseInt(_0x251d45(0x122))/(0x2d7*-0x2+0xd6c*-0x1+-0x49*-0x43)+-parseInt(_0x251d45(0x144))/(-0x23a2*-0x1+-0x18ef+-0xab1)*(-parseInt(_0x251d45(0x115))/(0x1458+0x2*-0xd8d+0x6c5))+parseInt(_0x251d45(0x106))/(-0x28b*0x7+-0xd*0x21a+0x2d23)*(-parseInt(_0x251d45(0x121))/(0x2547*-0x1+-0x1*-0x6d5+0x1e77))+parseInt(_0x251d45(0x102))/(0x1468+-0x105*-0x5+-0x197b)*(-parseInt(_0x251d45(0x124))/(-0x1*0x1fb5+0x4*0x27+-0xc*-0x298))+parseInt(_0x251d45(0x100))/(-0xe48+-0x1*-0x1b88+-0xd38)+parseInt(_0x251d45(0x145))/(-0x1727+0x16c4+0x6c)+-parseInt(_0x251d45(0x132))/(0xe9d*-0x1+0x1*0x425+0x1*0xa82);if(_0x32d6cd===_0x5c074f)break;else _0x2065c4['push'](_0x2065c4['shift']());}catch(_0x210d8e){_0x2065c4['push'](_0x2065c4['shift']());}}}(a40_0x39b2,0x6babe+0x1e1e5+-0x5313e));function a40_0x3586(_0x2a2197,_0x5d0bbc){const _0x3ed93c=a40_0x39b2();return a40_0x3586=function(_0x4c0003,_0x457042){_0x4c0003=_0x4c0003-(0x1*0x184d+-0x140*0x17+0x573);let _0x12f98d=_0x3ed93c[_0x4c0003];return _0x12f98d;},a40_0x3586(_0x2a2197,_0x5d0bbc);}var __awaiter=this&&this[a40_0x1d75a9(0x103)]||function(_0x5a1671,_0x4fd83d,_0x432675,_0x82e93b){function _0x5b5a24(_0x5dd82a){return _0x5dd82a instanceof _0x432675?_0x5dd82a:new _0x432675(function(_0x14dfd9){_0x14dfd9(_0x5dd82a);});}return new(_0x432675||(_0x432675=Promise))(function(_0x3d0f1b,_0x53586d){const _0x41b0e0=a40_0x3586;function _0x1827a7(_0x59b278){const _0x5efc1f=a40_0x3586;try{_0x48eef8(_0x82e93b[_0x5efc1f(0x111)](_0x59b278));}catch(_0x3a936f){_0x53586d(_0x3a936f);}}function _0x55364b(_0x4f0a36){const _0x23b72e=a40_0x3586;try{_0x48eef8(_0x82e93b[_0x23b72e(0x119)](_0x4f0a36));}catch(_0x155d8d){_0x53586d(_0x155d8d);}}function _0x48eef8(_0x46a8e5){const _0x11ef23=a40_0x3586;_0x46a8e5[_0x11ef23(0x114)]?_0x3d0f1b(_0x46a8e5['value']):_0x5b5a24(_0x46a8e5[_0x11ef23(0x147)])[_0x11ef23(0x11e)](_0x1827a7,_0x55364b);}_0x48eef8((_0x82e93b=_0x82e93b[_0x41b0e0(0x126)](_0x5a1671,_0x4fd83d||[]))[_0x41b0e0(0x111)]());});},__asyncValues=this&&this[a40_0x1d75a9(0x134)+a40_0x1d75a9(0x13d)]||function(_0x3d2c66){const _0xda16e8=a40_0x1d75a9;if(!Symbol[_0xda16e8(0x108)+_0xda16e8(0x118)])throw new TypeError(_0xda16e8(0x13f)+_0xda16e8(0x10d)+_0xda16e8(0x141)+_0xda16e8(0x120));var _0x55deba=_0x3d2c66[Symbol[_0xda16e8(0x108)+_0xda16e8(0x118)]],_0x4b1354;return _0x55deba?_0x55deba[_0xda16e8(0x125)](_0x3d2c66):(_0x3d2c66=typeof __values===_0xda16e8(0x10e)?__values(_0x3d2c66):_0x3d2c66[Symbol[_0xda16e8(0x11a)]](),_0x4b1354={},_0x15eba3(_0xda16e8(0x111)),_0x15eba3(_0xda16e8(0x119)),_0x15eba3(_0xda16e8(0x12e)),_0x4b1354[Symbol[_0xda16e8(0x108)+_0xda16e8(0x118)]]=function(){return this;},_0x4b1354);function _0x15eba3(_0x5b6852){_0x4b1354[_0x5b6852]=_0x3d2c66[_0x5b6852]&&function(_0x2ff7a8){return new Promise(function(_0x2b6c2e,_0x80f437){const _0x5448bb=a40_0x3586;_0x2ff7a8=_0x3d2c66[_0x5b6852](_0x2ff7a8),_0x206437(_0x2b6c2e,_0x80f437,_0x2ff7a8[_0x5448bb(0x114)],_0x2ff7a8[_0x5448bb(0x147)]);});};}function _0x206437(_0x5a5f74,_0xe82bda,_0x470b7e,_0x4740e3){const _0x2acb1f=_0xda16e8;Promise[_0x2acb1f(0x109)](_0x4740e3)[_0x2acb1f(0x11e)](function(_0x49bcd0){const _0x41ecc3=_0x2acb1f,_0x269882={};_0x269882[_0x41ecc3(0x147)]=_0x49bcd0,_0x269882['done']=_0x470b7e,_0x5a5f74(_0x269882);},_0xe82bda);}};const a40_0x457042={};a40_0x457042[a40_0x1d75a9(0x147)]=!![],Object[a40_0x1d75a9(0x135)+'erty'](exports,a40_0x1d75a9(0x110),a40_0x457042),exports[a40_0x1d75a9(0x117)+'ository']=exports['MessageQue'+'ry']=void(0x1*-0x1787+-0x1639+0x2dc0);const path_1=require(a40_0x1d75a9(0x105)),abstract_repository_1=require(a40_0x1d75a9(0x133)+'t/abstract'+'.repositor'+'y'),fs_1=require('fs');class MessageQuery{}exports[a40_0x1d75a9(0x12b)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1[a40_0x1d75a9(0x11b)]{constructor(_0x29db0b,_0x1398cb){const _0x390bca=a40_0x1d75a9;super(_0x1398cb),this[_0x390bca(0x10b)+'el']=_0x29db0b,this[_0x390bca(0x123)+_0x390bca(0x129)]=_0x1398cb;}['insert'](_0x4089bd,_0x399d4d=![]){return __awaiter(this,void(-0x1cd7+0x5e4*0x2+-0xb*-0x18d),void(-0x43*-0x7d+0x1099+-0x3150),function*(){const _0x14b843=a40_0x3586;if(_0x4089bd[_0x14b843(0x142)]===-0x6c7+0x24fd+-0x1e36)return;try{if(this[_0x14b843(0x146)][_0x14b843(0x137)]&&_0x399d4d){const _0x3b1d74=yield this[_0x14b843(0x10b)+'el'][_0x14b843(0x136)]([..._0x4089bd]),_0x4c9ba7={};return _0x4c9ba7[_0x14b843(0x139)+'t']=_0x3b1d74[_0x14b843(0x142)],_0x4c9ba7;}if(_0x399d4d){_0x4089bd['forEach'](_0x170e80=>this[_0x14b843(0x12f)]({'path':(0x1492+-0x25f*-0x1+0x7*-0x347,path_1[_0x14b843(0x127)])(this['storePath'],'messages',_0x170e80['owner']),'fileName':_0x170e80[_0x14b843(0x112)]['id'],'data':_0x170e80}));const _0x4db49b={};return _0x4db49b[_0x14b843(0x139)+'t']=_0x4089bd[_0x14b843(0x142)],_0x4db49b;}const _0x59c651={};return _0x59c651[_0x14b843(0x139)+'t']=0x0,_0x59c651;}catch(_0x489ae0){return console[_0x14b843(0x101)](_0x14b843(0x143),_0x489ae0),_0x489ae0;}finally{_0x4089bd=undefined;}});}['find'](_0x37146b){var _0x56b012,_0x3fd8c6,_0xfaebb5,_0xaa4141,_0x1c7768,_0x2d0933,_0x24d5bc,_0x732154,_0x4340bb,_0x3ea3b4;return __awaiter(this,void(-0x95*0xb+0x1*0x146b+-0xe04),void(0x742*0x1+-0xd8d+-0x219*-0x3),function*(){const _0x5b9a1e=a40_0x3586;try{if(this[_0x5b9a1e(0x146)][_0x5b9a1e(0x137)]){if((_0x1c7768=_0x37146b===null||_0x37146b===void(-0x180*0x13+0x19ce+-0x2*-0x159)?void(0x22d5+-0xb*0x5b+-0x1eec):_0x37146b[_0x5b9a1e(0x13a)])===null||_0x1c7768===void(-0x17e0+-0x45+0x1825)?void(-0x7d3*-0x1+-0x9f7+-0x4*-0x89):_0x1c7768['key']){for(const [_0x39d7e9,_0x493bfb]of Object[_0x5b9a1e(0x13e)](_0x37146b[_0x5b9a1e(0x13a)][_0x5b9a1e(0x112)])){_0x37146b['where'][_0x5b9a1e(0x10f)+_0x39d7e9]=_0x493bfb;}(_0x2d0933=_0x37146b===null||_0x37146b===void(-0x1d17+0x1357+-0x8*-0x138)?void(0xd*-0x15b+0x8e3+-0x34*-0x2b):_0x37146b['where'])===null||_0x2d0933===void(0x2d7*-0x1+0x7*-0x3d9+0x1dc6)?!![]:delete _0x2d0933[_0x5b9a1e(0x112)];}const _0x4064c6={};return _0x4064c6[_0x5b9a1e(0x12c)+_0x5b9a1e(0x128)]=-(0x8*-0x34b+0x5e3+0x1476),yield this[_0x5b9a1e(0x10b)+'el'][_0x5b9a1e(0x140)](Object[_0x5b9a1e(0x11f)]({},_0x37146b['where']))[_0x5b9a1e(0x116)](_0x4064c6)[_0x5b9a1e(0x130)]((_0x24d5bc=_0x37146b===null||_0x37146b===void(0x198b+0x19ea+0x1127*-0x3)?void(0x67*-0x57+0x12d9+0x1028):_0x37146b[_0x5b9a1e(0x130)])!==null&&_0x24d5bc!==void(-0x211c+-0x1d94+0x3eb0)?_0x24d5bc:0x1eb+-0x587*0x2+0x923);}const _0x262fa2=[];if((_0x4340bb=(_0x732154=_0x37146b===null||_0x37146b===void(-0x1acf+-0x2cf*0x4+0x260b*0x1)?void(0xcd3*0x3+0x5*0x772+-0x4bb3):_0x37146b[_0x5b9a1e(0x13a)])===null||_0x732154===void(-0x189*0x5+0x203e*0x1+-0x1891)?void(-0xc67+0x1afc*-0x1+0x2763):_0x732154[_0x5b9a1e(0x112)])===null||_0x4340bb===void(0x2*0x864+-0x1*0xeb9+-0x20f)?void(0x89*-0x1+0xb1e+-0xa95):_0x4340bb['id']){const _0x46bea9={};_0x46bea9[_0x5b9a1e(0x12d)]=_0x5b9a1e(0x104),_0x262fa2[_0x5b9a1e(0x131)](JSON[_0x5b9a1e(0x13b)]((0x13fd+-0x7e*0x5+0x7*-0x281,fs_1[_0x5b9a1e(0x10c)+'nc'])((0x1c5e+0x199+0x9fd*-0x3,path_1[_0x5b9a1e(0x127)])(this[_0x5b9a1e(0x13c)],_0x5b9a1e(0x10a),_0x37146b['where']['owner'],_0x37146b['where']['key']['id']+_0x5b9a1e(0x138)),_0x46bea9)));}else{const _0x32b05a={};_0x32b05a['encoding']='utf-8';const _0x40380c=(-0x1*0x17e0+0x1917+-0x137,fs_1[_0x5b9a1e(0x113)+'c'])((0x19a1+0xf18+-0x5*0x825,path_1['join'])(this[_0x5b9a1e(0x13c)],_0x5b9a1e(0x10a),_0x37146b[_0x5b9a1e(0x13a)][_0x5b9a1e(0x12a)]),_0x32b05a);try{for(var _0x43f9bb=!![],_0x1e9cef=__asyncValues(_0x40380c),_0x1789c8;_0x1789c8=yield _0x1e9cef['next'](),_0x56b012=_0x1789c8[_0x5b9a1e(0x114)],!_0x56b012;){_0xaa4141=_0x1789c8[_0x5b9a1e(0x147)],_0x43f9bb=![];try{const _0xe1db28=_0xaa4141;if(_0xe1db28[_0x5b9a1e(0x11c)]()){const _0x3edc93={};_0x3edc93['encoding']=_0x5b9a1e(0x104),_0x262fa2[_0x5b9a1e(0x131)](JSON[_0x5b9a1e(0x13b)]((0x700*0x1+0x2be+-0x9be,fs_1['readFileSy'+'nc'])((-0x10*-0x4a+-0x1966*0x1+0x14c6,path_1[_0x5b9a1e(0x127)])(this[_0x5b9a1e(0x13c)],_0x5b9a1e(0x10a),_0x37146b[_0x5b9a1e(0x13a)][_0x5b9a1e(0x12a)],_0xe1db28[_0x5b9a1e(0x107)]),_0x3edc93)));}}finally{_0x43f9bb=!![];}}}catch(_0x5dae00){const _0x5bea31={};_0x5bea31[_0x5b9a1e(0x11d)]=_0x5dae00,_0x3fd8c6=_0x5bea31;}finally{try{if(!_0x43f9bb&&!_0x56b012&&(_0xfaebb5=_0x1e9cef[_0x5b9a1e(0x12e)]))yield _0xfaebb5[_0x5b9a1e(0x125)](_0x1e9cef);}finally{if(_0x3fd8c6)throw _0x3fd8c6['error'];}}}return _0x262fa2[_0x5b9a1e(0x116)]((_0x32bb60,_0x4be820)=>{const _0x2499d2=_0x5b9a1e;return _0x4be820['messageTim'+_0x2499d2(0x128)]-_0x32bb60[_0x2499d2(0x12c)+_0x2499d2(0x128)];})['splice'](0x8d5+0x1bcc+0x1*-0x24a1,(_0x3ea3b4=_0x37146b===null||_0x37146b===void(0x865*-0x3+0x12a4*0x2+-0xc19)?void(0xd9+0x1e02+-0x1edb):_0x37146b[_0x5b9a1e(0x130)])!==null&&_0x3ea3b4!==void(0x56*-0x25+0x5*-0x59f+0x9*0x481)?_0x3ea3b4:_0x262fa2[_0x5b9a1e(0x142)]);}catch(_0x2f8236){return[];}});}}function a40_0x39b2(){const _0x77a4cc=['push','1331290etsGqx','../abstrac','__asyncVal','defineProp','insertMany','ENABLED','.json','insertCoun','where','parse','storePath','ues','entries','Symbol.asy','find','\x20is\x20not\x20de','length','ERROR:\x20','150jUIFZc','3543165YczOkZ','dbSettings','value','964960epMtlq','log','574482BJEjso','__awaiter','utf-8','path','78484kCBxAq','name','asyncItera','resolve','messages','messageMod','readFileSy','ncIterator','function','key.','__esModule','next','key','opendirSyn','done','12321jqoUbL','sort','MessageRep','tor','throw','iterator','Repository','isFile','error','then','assign','fined.','5WrNdLV','253985LTivsX','configServ','14NLAIOQ','call','apply','join','estamp','ice','owner','MessageQue','messageTim','encoding','return','writeStore','limit'];a40_0x39b2=function(){return _0x77a4cc;};return a40_0x39b2();}exports[a40_0x1d75a9(0x117)+'ository']=MessageRepository;