'use strict';const a41_0x35029b=a41_0x4f50;function a41_0x31fb(){const _0x1d7135=['__esModule','__awaiter','readFileSy','13607iBFAEi','45128VcZJIx','39GMcBtN','configServ','writeStore','isFile','376840MFTgwS','push','where','storePath','find','name','../abstrac','MessageRep','ncIterator','ERROR:\x20','throw','log','join','sort','tor','6846264YfylOM','.json','parse','t/abstract','error','ENABLED','ues','insert','messages','forEach','then','320NcOOmo','key','408094PkWNhi','fined.','defineProp','1xMSOKS','done','path','891191GasSVS','limit','value','utf-8','estamp','splice','key.','next','2648qRjraB','1476Iznbpq','dbSettings','call','return','18HRqKff','messageTim','Symbol.asy','insertMany','.repositor','insertCoun','assign','apply','opendirSyn','encoding','messageMod','ository','owner','length','MessageQue','entries','asyncItera'];a41_0x31fb=function(){return _0x1d7135;};return a41_0x31fb();}(function(_0x11cb5b,_0x4de662){const _0x2b6b56=a41_0x4f50,_0x4c2865=_0x11cb5b();while(!![]){try{const _0x5aa02d=-parseInt(_0x2b6b56(0x1b0))/(0x2593*0x1+0x9f8+0xa*-0x4c1)*(parseInt(_0x2b6b56(0x1ad))/(0x144b+-0x1c4+0xb*-0x1af))+-parseInt(_0x2b6b56(0x18d))/(0x12ea+-0x76b*0x3+-0x11e*-0x3)*(-parseInt(_0x2b6b56(0x18c))/(0x640+-0x1*0x2451+0x1e15))+parseInt(_0x2b6b56(0x191))/(-0x61b+0x307+0x319)*(-parseInt(_0x2b6b56(0x1c0))/(0x25*-0x47+-0xbf*0x5+0xe04))+-parseInt(_0x2b6b56(0x1b3))/(0x260c*-0x1+0x220d+-0xce*-0x5)+parseInt(_0x2b6b56(0x1bb))/(-0x15de+0x1221+0x3c5*0x1)*(-parseInt(_0x2b6b56(0x1bc))/(-0x6cc+-0x9b2+0x1087*0x1))+-parseInt(_0x2b6b56(0x1ab))/(-0x7*0x3+0xd7*0x2a+0x2327*-0x1)*(-parseInt(_0x2b6b56(0x18b))/(0x15e8+0x65*-0x14+-0xdf9))+parseInt(_0x2b6b56(0x1a0))/(0x1e43+-0x63*-0x61+-0x43ba);if(_0x5aa02d===_0x4de662)break;else _0x4c2865['push'](_0x4c2865['shift']());}catch(_0x4567cf){_0x4c2865['push'](_0x4c2865['shift']());}}}(a41_0x31fb,-0x136a+-0x3faf5+0x644df));function a41_0x4f50(_0x169afd,_0x33143a){const _0x84cc7e=a41_0x31fb();return a41_0x4f50=function(_0x36907f,_0x285e9c){_0x36907f=_0x36907f-(0xd1*-0x13+0x937+0x11*0x75);let _0xcdafd3=_0x84cc7e[_0x36907f];return _0xcdafd3;},a41_0x4f50(_0x169afd,_0x33143a);}var __awaiter=this&&this[a41_0x35029b(0x189)]||function(_0x463ab6,_0x75f7ef,_0x48a9b6,_0x47d7ff){function _0x3cfd05(_0x3ffa57){return _0x3ffa57 instanceof _0x48a9b6?_0x3ffa57:new _0x48a9b6(function(_0x3a038b){_0x3a038b(_0x3ffa57);});}return new(_0x48a9b6||(_0x48a9b6=Promise))(function(_0x4c4dc8,_0x40f0bd){const _0x3f74ff=a41_0x4f50;function _0x33b7aa(_0x59c3c8){const _0x10153c=a41_0x4f50;try{_0x2d5db5(_0x47d7ff[_0x10153c(0x1ba)](_0x59c3c8));}catch(_0x211e0e){_0x40f0bd(_0x211e0e);}}function _0x4783bb(_0x1a0d57){const _0x54359d=a41_0x4f50;try{_0x2d5db5(_0x47d7ff[_0x54359d(0x19b)](_0x1a0d57));}catch(_0x501b7c){_0x40f0bd(_0x501b7c);}}function _0x2d5db5(_0x5a454f){const _0x59ac49=a41_0x4f50;_0x5a454f[_0x59ac49(0x1b1)]?_0x4c4dc8(_0x5a454f[_0x59ac49(0x1b5)]):_0x3cfd05(_0x5a454f['value'])[_0x59ac49(0x1aa)](_0x33b7aa,_0x4783bb);}_0x2d5db5((_0x47d7ff=_0x47d7ff[_0x3f74ff(0x17e)](_0x463ab6,_0x75f7ef||[]))[_0x3f74ff(0x1ba)]());});},__asyncValues=this&&this['__asyncVal'+a41_0x35029b(0x1a6)]||function(_0x4ffdad){const _0x8dbebb=a41_0x35029b;if(!Symbol[_0x8dbebb(0x187)+'tor'])throw new TypeError(_0x8dbebb(0x179)+_0x8dbebb(0x199)+'\x20is\x20not\x20de'+_0x8dbebb(0x1ae));var _0x31d65f=_0x4ffdad[Symbol[_0x8dbebb(0x187)+_0x8dbebb(0x19f)]],_0x5baccd;return _0x31d65f?_0x31d65f[_0x8dbebb(0x1be)](_0x4ffdad):(_0x4ffdad=typeof __values==='function'?__values(_0x4ffdad):_0x4ffdad[Symbol['iterator']](),_0x5baccd={},_0x2cfe11(_0x8dbebb(0x1ba)),_0x2cfe11(_0x8dbebb(0x19b)),_0x2cfe11(_0x8dbebb(0x1bf)),_0x5baccd[Symbol[_0x8dbebb(0x187)+_0x8dbebb(0x19f)]]=function(){return this;},_0x5baccd);function _0x2cfe11(_0x48394a){_0x5baccd[_0x48394a]=_0x4ffdad[_0x48394a]&&function(_0x291542){return new Promise(function(_0xe6ff4f,_0x19dda9){const _0x3cdbc0=a41_0x4f50;_0x291542=_0x4ffdad[_0x48394a](_0x291542),_0x41ba08(_0xe6ff4f,_0x19dda9,_0x291542[_0x3cdbc0(0x1b1)],_0x291542[_0x3cdbc0(0x1b5)]);});};}function _0x41ba08(_0x1c1f24,_0xe746b4,_0x3f2af1,_0x310fed){Promise['resolve'](_0x310fed)['then'](function(_0x43b7bc){const _0xa68254=a41_0x4f50,_0xa7ce28={};_0xa7ce28[_0xa68254(0x1b5)]=_0x43b7bc,_0xa7ce28[_0xa68254(0x1b1)]=_0x3f2af1,_0x1c1f24(_0xa7ce28);},_0xe746b4);}};const a41_0x285e9c={};a41_0x285e9c[a41_0x35029b(0x1b5)]=!![],Object[a41_0x35029b(0x1af)+'erty'](exports,a41_0x35029b(0x188),a41_0x285e9c),exports[a41_0x35029b(0x198)+a41_0x35029b(0x182)]=exports[a41_0x35029b(0x185)+'ry']=void(-0xe45*0x2+-0x44f*0x2+0x2528);const path_1=require(a41_0x35029b(0x1b2)),abstract_repository_1=require(a41_0x35029b(0x197)+a41_0x35029b(0x1a3)+a41_0x35029b(0x17b)+'y'),fs_1=require('fs');class MessageQuery{}exports[a41_0x35029b(0x185)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1['Repository']{constructor(_0x144c73,_0x16a002){const _0x5daf9a=a41_0x35029b;super(_0x16a002),this[_0x5daf9a(0x181)+'el']=_0x144c73,this[_0x5daf9a(0x18e)+'ice']=_0x16a002;}[a41_0x35029b(0x1a7)](_0x2cfc68,_0x10a642=![]){return __awaiter(this,void(-0x10d1+-0x4a*-0x47+-0x3b5),void(0x1e3b+0x602+0x1*-0x243d),function*(){const _0x156ae1=a41_0x4f50;if(_0x2cfc68['length']===0x13b3*0x1+0x2517+0x2*-0x1c65)return;try{if(this[_0x156ae1(0x1bd)][_0x156ae1(0x1a5)]&&_0x10a642){const _0x36c7e6=yield this[_0x156ae1(0x181)+'el'][_0x156ae1(0x17a)]([..._0x2cfc68]),_0x32e007={};return _0x32e007[_0x156ae1(0x17c)+'t']=_0x36c7e6['length'],_0x32e007;}if(_0x10a642){_0x2cfc68[_0x156ae1(0x1a9)](_0xbc3c06=>this[_0x156ae1(0x18f)]({'path':(-0x162*-0x10+0xc86+0x377*-0xa,path_1[_0x156ae1(0x19d)])(this['storePath'],_0x156ae1(0x1a8),_0xbc3c06[_0x156ae1(0x183)]),'fileName':_0xbc3c06[_0x156ae1(0x1ac)]['id'],'data':_0xbc3c06}));const _0x36a099={};return _0x36a099[_0x156ae1(0x17c)+'t']=_0x2cfc68[_0x156ae1(0x184)],_0x36a099;}const _0x42701e={};return _0x42701e[_0x156ae1(0x17c)+'t']=0x0,_0x42701e;}catch(_0x563bfa){return console[_0x156ae1(0x19c)](_0x156ae1(0x19a),_0x563bfa),_0x563bfa;}finally{_0x2cfc68=undefined;}});}[a41_0x35029b(0x195)](_0x27be3b){var _0x4cd0ac,_0x289411,_0x5b7256,_0x324141,_0x2f8acd,_0x5ec2e9,_0x502917,_0x180d1a,_0x57ced1,_0x24b2fc;return __awaiter(this,void(0x61*0x4+-0x18d+0x9*0x1),void(0xc0a+-0x1a0d+0xe03),function*(){const _0x5bbd87=a41_0x4f50;try{if(this[_0x5bbd87(0x1bd)]['ENABLED']){if((_0x2f8acd=_0x27be3b===null||_0x27be3b===void(-0x6ca+0x25f*-0x8+0xce1*0x2)?void(-0x2502+-0x5e*0x3+0x1*0x261c):_0x27be3b[_0x5bbd87(0x193)])===null||_0x2f8acd===void(-0x406+0xb51+-0x74b*0x1)?void(0x18ba+-0x94*0xc+-0x11ca):_0x2f8acd[_0x5bbd87(0x1ac)]){for(const [_0x3f680f,_0x59f621]of Object[_0x5bbd87(0x186)](_0x27be3b[_0x5bbd87(0x193)][_0x5bbd87(0x1ac)])){_0x27be3b[_0x5bbd87(0x193)][_0x5bbd87(0x1b9)+_0x3f680f]=_0x59f621;}(_0x5ec2e9=_0x27be3b===null||_0x27be3b===void(-0x99*0xf+-0x1*0x54f+0xe46)?void(-0xfdb+-0x68*0x8+-0x1*-0x131b):_0x27be3b[_0x5bbd87(0x193)])===null||_0x5ec2e9===void(-0x1279*0x1+-0x25*-0x45+-0x10*-0x88)?!![]:delete _0x5ec2e9[_0x5bbd87(0x1ac)];}const _0x5e165d={};return _0x5e165d['messageTim'+'estamp']=-(0x1*0x9ad+-0x1*-0x49+0x1*-0x9f5),yield this['messageMod'+'el'][_0x5bbd87(0x195)](Object[_0x5bbd87(0x17d)]({},_0x27be3b[_0x5bbd87(0x193)]))[_0x5bbd87(0x19e)](_0x5e165d)['limit']((_0x502917=_0x27be3b===null||_0x27be3b===void(0x1b52+-0x11f7+-0x95b)?void(0x108d+0x612+-0x169f*0x1):_0x27be3b['limit'])!==null&&_0x502917!==void(0x2334+-0x258e+0xe*0x2b)?_0x502917:0x1d4c+0x1*0x37c+-0x20c8);}const _0xeb4b22=[];if((_0x57ced1=(_0x180d1a=_0x27be3b===null||_0x27be3b===void(0x2209*0x1+0x1ed6*-0x1+-0x333)?void(-0x2197+0x4a3+0x1cf4):_0x27be3b[_0x5bbd87(0x193)])===null||_0x180d1a===void(-0x5*-0x6c4+0xc19+-0x2ded)?void(0x763+0x5cf+-0xd32):_0x180d1a[_0x5bbd87(0x1ac)])===null||_0x57ced1===void(-0x11aa+-0x75a+0x641*0x4)?void(0x13a*-0x17+0x1fb2*0x1+-0x37c):_0x57ced1['id']){const _0x20fbaf={};_0x20fbaf[_0x5bbd87(0x180)]=_0x5bbd87(0x1b6),_0xeb4b22[_0x5bbd87(0x192)](JSON[_0x5bbd87(0x1a2)]((0x76b+-0x1514+0xda9,fs_1[_0x5bbd87(0x18a)+'nc'])((0x1*-0x1886+-0x3*-0x9e0+-0x1*0x51a,path_1[_0x5bbd87(0x19d)])(this[_0x5bbd87(0x194)],'messages',_0x27be3b[_0x5bbd87(0x193)]['owner'],_0x27be3b[_0x5bbd87(0x193)][_0x5bbd87(0x1ac)]['id']+_0x5bbd87(0x1a1)),_0x20fbaf)));}else{const _0x49dd13={};_0x49dd13[_0x5bbd87(0x180)]=_0x5bbd87(0x1b6);const _0x271672=(0x10ea+0xf9+-0xf1*0x13,fs_1[_0x5bbd87(0x17f)+'c'])((0x22d1+-0x19ec+-0x17*0x63,path_1[_0x5bbd87(0x19d)])(this[_0x5bbd87(0x194)],_0x5bbd87(0x1a8),_0x27be3b[_0x5bbd87(0x193)][_0x5bbd87(0x183)]),_0x49dd13);try{for(var _0x1ddf0d=!![],_0x420455=__asyncValues(_0x271672),_0x37d331;_0x37d331=yield _0x420455[_0x5bbd87(0x1ba)](),_0x4cd0ac=_0x37d331[_0x5bbd87(0x1b1)],!_0x4cd0ac;){_0x324141=_0x37d331['value'],_0x1ddf0d=![];try{const _0x58c2b3=_0x324141;if(_0x58c2b3[_0x5bbd87(0x190)]()){const _0x3c9cf3={};_0x3c9cf3[_0x5bbd87(0x180)]=_0x5bbd87(0x1b6),_0xeb4b22[_0x5bbd87(0x192)](JSON[_0x5bbd87(0x1a2)]((0xa0c+-0x2333+0x1927*0x1,fs_1[_0x5bbd87(0x18a)+'nc'])((-0x3*0x4f5+0x188*-0x2+0x11ef,path_1['join'])(this[_0x5bbd87(0x194)],_0x5bbd87(0x1a8),_0x27be3b[_0x5bbd87(0x193)][_0x5bbd87(0x183)],_0x58c2b3[_0x5bbd87(0x196)]),_0x3c9cf3)));}}finally{_0x1ddf0d=!![];}}}catch(_0x474be2){const _0x3b7383={};_0x3b7383[_0x5bbd87(0x1a4)]=_0x474be2,_0x289411=_0x3b7383;}finally{try{if(!_0x1ddf0d&&!_0x4cd0ac&&(_0x5b7256=_0x420455[_0x5bbd87(0x1bf)]))yield _0x5b7256[_0x5bbd87(0x1be)](_0x420455);}finally{if(_0x289411)throw _0x289411['error'];}}}return _0xeb4b22[_0x5bbd87(0x19e)]((_0x143686,_0x2ea670)=>{const _0x9b62a8=_0x5bbd87;return _0x2ea670['messageTim'+_0x9b62a8(0x1b7)]-_0x143686[_0x9b62a8(0x1c1)+'estamp'];})[_0x5bbd87(0x1b8)](0x1db4+0x13*0x5+-0x1*0x1e13,(_0x24b2fc=_0x27be3b===null||_0x27be3b===void(-0xc87+0x43*-0x31+0x2*0xcad)?void(-0x2*0x509+0x1*-0x1606+0x4*0x806):_0x27be3b[_0x5bbd87(0x1b4)])!==null&&_0x24b2fc!==void(-0x1*0x30f+-0x905*-0x1+-0x5f6)?_0x24b2fc:_0xeb4b22[_0x5bbd87(0x184)]);}catch(_0x18f1c7){return[];}});}}exports[a41_0x35029b(0x198)+a41_0x35029b(0x182)]=MessageRepository;