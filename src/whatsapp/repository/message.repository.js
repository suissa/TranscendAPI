'use strict';const a40_0x441f81=a40_0x150a;(function(_0x5bbb12,_0x5c365d){const _0x3e2921=a40_0x150a,_0x4f1399=_0x5bbb12();while(!![]){try{const _0x352812=-parseInt(_0x3e2921(0xd8))/(-0x13c2+-0x145*0x19+0x3380)+-parseInt(_0x3e2921(0xc3))/(0xaf*0x22+0x1be+-0x18fa)*(-parseInt(_0x3e2921(0xad))/(-0x13b2+0x2215+-0xe60))+parseInt(_0x3e2921(0xb8))/(-0x9*-0x23d+0x19b*-0xf+0x3f4)*(parseInt(_0x3e2921(0xb6))/(0xb*0x163+0x1052*0x1+-0x1f8e))+-parseInt(_0x3e2921(0xd7))/(-0x7f*0x3b+-0x1b66+-0x38b1*-0x1)+parseInt(_0x3e2921(0xda))/(-0x85e+0x562+0x303)+parseInt(_0x3e2921(0xa1))/(-0x3c5*0x2+0xbde+-0x44c)*(parseInt(_0x3e2921(0xdb))/(-0x2*0x38d+-0x2b*0x14+0xa7f))+-parseInt(_0x3e2921(0xb0))/(-0x809+-0x193*0x5+-0xd*-0x13a);if(_0x352812===_0x5c365d)break;else _0x4f1399['push'](_0x4f1399['shift']());}catch(_0x1ada78){_0x4f1399['push'](_0x4f1399['shift']());}}}(a40_0x141e,0x205d*0x26+-0x269da+0x55*0x509));var __awaiter=this&&this[a40_0x441f81(0xdc)]||function(_0x3f4f26,_0x3e9d5b,_0x56fdad,_0x16a1bf){function _0x179076(_0x5e967){return _0x5e967 instanceof _0x56fdad?_0x5e967:new _0x56fdad(function(_0x21cf4d){_0x21cf4d(_0x5e967);});}return new(_0x56fdad||(_0x56fdad=Promise))(function(_0x4caa5f,_0x1193b0){const _0xd72271=a40_0x150a;function _0x25973d(_0x434d39){const _0x13c51b=a40_0x150a;try{_0x4ed08a(_0x16a1bf[_0x13c51b(0xca)](_0x434d39));}catch(_0x57d9af){_0x1193b0(_0x57d9af);}}function _0x13a5e2(_0x470865){const _0x13e1c9=a40_0x150a;try{_0x4ed08a(_0x16a1bf[_0x13e1c9(0xc2)](_0x470865));}catch(_0x47534e){_0x1193b0(_0x47534e);}}function _0x4ed08a(_0x279f2c){const _0x2895d6=a40_0x150a;_0x279f2c[_0x2895d6(0xa7)]?_0x4caa5f(_0x279f2c[_0x2895d6(0xc7)]):_0x179076(_0x279f2c['value'])['then'](_0x25973d,_0x13a5e2);}_0x4ed08a((_0x16a1bf=_0x16a1bf['apply'](_0x3f4f26,_0x3e9d5b||[]))[_0xd72271(0xca)]());});},__asyncValues=this&&this[a40_0x441f81(0xbc)+a40_0x441f81(0xd5)]||function(_0x2b9cae){const _0x1ac85a=a40_0x441f81;if(!Symbol[_0x1ac85a(0xba)+_0x1ac85a(0xb7)])throw new TypeError(_0x1ac85a(0xb3)+_0x1ac85a(0xb1)+_0x1ac85a(0xbf)+_0x1ac85a(0xc4));var _0x131e0a=_0x2b9cae[Symbol[_0x1ac85a(0xba)+_0x1ac85a(0xb7)]],_0x3f66c7;return _0x131e0a?_0x131e0a['call'](_0x2b9cae):(_0x2b9cae=typeof __values==='function'?__values(_0x2b9cae):_0x2b9cae[Symbol[_0x1ac85a(0xaa)]](),_0x3f66c7={},_0x5bc3b1(_0x1ac85a(0xca)),_0x5bc3b1(_0x1ac85a(0xc2)),_0x5bc3b1(_0x1ac85a(0xb4)),_0x3f66c7[Symbol[_0x1ac85a(0xba)+_0x1ac85a(0xb7)]]=function(){return this;},_0x3f66c7);function _0x5bc3b1(_0x37488d){_0x3f66c7[_0x37488d]=_0x2b9cae[_0x37488d]&&function(_0x56ceff){return new Promise(function(_0x8f00d5,_0xea27e3){const _0x412dc5=a40_0x150a;_0x56ceff=_0x2b9cae[_0x37488d](_0x56ceff),_0x1b81d7(_0x8f00d5,_0xea27e3,_0x56ceff['done'],_0x56ceff[_0x412dc5(0xc7)]);});};}function _0x1b81d7(_0x2de125,_0x4bd0ca,_0x43e78f,_0x95a80e){const _0x5cb8a6=_0x1ac85a;Promise[_0x5cb8a6(0xb5)](_0x95a80e)[_0x5cb8a6(0xa3)](function(_0x19af53){const _0x4a5351={};_0x4a5351['value']=_0x19af53,_0x4a5351['done']=_0x43e78f,_0x2de125(_0x4a5351);},_0x4bd0ca);}};function a40_0x141e(){const _0x278b72=['owner','key.','insert','8HFolnu','ository','then','configServ','utf-8','join','done','find','push','iterator','MessageRep','forEach','874005utTUFn','insertCoun','key','2240310krQHla','ncIterator','sort','Symbol.asy','return','resolve','5vMGbey','tor','1177864ZGJkuC','messageTim','asyncItera','where','__asyncVal','../abstrac','ENABLED','\x20is\x20not\x20de','encoding','estamp','throw','2EaxyuD','fined.','storePath','.json','value','messageMod','path','next','t/abstract','opendirSyn','ERROR:\x20','MessageQue','dbSettings','call','name','length','error','__esModule','ues','erty','1667880sRYCyU','416657WFkCvI','messages','2004933XmjJcw','2814057FgvOAF','__awaiter','readFileSy','limit','defineProp'];a40_0x141e=function(){return _0x278b72;};return a40_0x141e();}const a40_0x399284={};a40_0x399284['value']=!![],Object[a40_0x441f81(0xdf)+a40_0x441f81(0xd6)](exports,a40_0x441f81(0xd4),a40_0x399284),exports[a40_0x441f81(0xab)+a40_0x441f81(0xa2)]=exports['MessageQue'+'ry']=void(-0x2102+-0x1*0xcf9+0x1*0x2dfb);const path_1=require(a40_0x441f81(0xc9)),abstract_repository_1=require(a40_0x441f81(0xbd)+a40_0x441f81(0xcb)+'.repositor'+'y'),fs_1=require('fs');class MessageQuery{}exports[a40_0x441f81(0xce)+'ry']=MessageQuery;function a40_0x150a(_0xe5da12,_0x493a09){const _0x55dd56=a40_0x141e();return a40_0x150a=function(_0x87de28,_0x11a406){_0x87de28=_0x87de28-(-0x24b9+-0x1b00+0x405a);let _0x332c8f=_0x55dd56[_0x87de28];return _0x332c8f;},a40_0x150a(_0xe5da12,_0x493a09);}class MessageRepository extends abstract_repository_1['Repository']{constructor(_0x56c6db,_0x26334f){const _0x2fcde9=a40_0x441f81;super(_0x26334f),this[_0x2fcde9(0xc8)+'el']=_0x56c6db,this[_0x2fcde9(0xa4)+'ice']=_0x26334f;}[a40_0x441f81(0xe2)](_0x29857f,_0x44c0e7=![]){return __awaiter(this,void(0x264b+0x7bc*0x1+-0x1*0x2e07),void(0x181a+-0x15d8+-0x242),function*(){const _0x3d5b00=a40_0x150a;if(_0x29857f[_0x3d5b00(0xd2)]===-0x10f*0x3+-0x3*-0x245+-0x3a2*0x1)return;try{if(this['dbSettings']['ENABLED']&&_0x44c0e7){const _0x1beb95=yield this['messageMod'+'el']['insertMany']([..._0x29857f]),_0x3210e7={};return _0x3210e7[_0x3d5b00(0xae)+'t']=_0x1beb95[_0x3d5b00(0xd2)],_0x3210e7;}if(_0x44c0e7){_0x29857f[_0x3d5b00(0xac)](_0x8f1db2=>this['writeStore']({'path':(0x2231*0x1+-0xc2f*-0x1+-0x2e60,path_1[_0x3d5b00(0xa6)])(this[_0x3d5b00(0xc5)],_0x3d5b00(0xd9),_0x8f1db2[_0x3d5b00(0xe0)]),'fileName':_0x8f1db2[_0x3d5b00(0xaf)]['id'],'data':_0x8f1db2}));const _0x2dcc38={};return _0x2dcc38[_0x3d5b00(0xae)+'t']=_0x29857f[_0x3d5b00(0xd2)],_0x2dcc38;}const _0x6c848={};return _0x6c848['insertCoun'+'t']=0x0,_0x6c848;}catch(_0x58dd09){return console['log'](_0x3d5b00(0xcd),_0x58dd09),_0x58dd09;}finally{_0x29857f=undefined;}});}[a40_0x441f81(0xa8)](_0x5227e4){var _0x343b33,_0x44b662,_0x49a30c,_0x406158,_0x4e7d8a,_0x47d363,_0x1eb5b3,_0x52707c,_0x2719a1,_0x1e3348;return __awaiter(this,void(0x16*0x5f+-0x2192+0x1968),void(-0x65f*0x1+-0x2172+0x27d1*0x1),function*(){const _0x59db6a=a40_0x150a;try{if(this[_0x59db6a(0xcf)][_0x59db6a(0xbe)]){if((_0x4e7d8a=_0x5227e4===null||_0x5227e4===void(-0x1b43+-0x8*0x2+0x1b53)?void(-0x1*-0x22b7+0x2*0x335+0x1*-0x2921):_0x5227e4[_0x59db6a(0xbb)])===null||_0x4e7d8a===void(0x1*0xd2b+0x222+-0x1*0xf4d)?void(0x8*0x267+0x93f+-0x1c77*0x1):_0x4e7d8a[_0x59db6a(0xaf)]){for(const [_0x4a7828,_0x383601]of Object['entries'](_0x5227e4['where'][_0x59db6a(0xaf)])){_0x5227e4[_0x59db6a(0xbb)][_0x59db6a(0xe1)+_0x4a7828]=_0x383601;}(_0x47d363=_0x5227e4===null||_0x5227e4===void(0x25b0+0xa34+-0x2fe4)?void(0x4dc*0x8+0x354+0x1*-0x2a34):_0x5227e4[_0x59db6a(0xbb)])===null||_0x47d363===void(-0x1cb0+0x1959+0xf*0x39)?!![]:delete _0x47d363[_0x59db6a(0xaf)];}const _0x5ea5fc={};return _0x5ea5fc[_0x59db6a(0xb9)+_0x59db6a(0xc1)]=-(0xcc3+-0x6a9*-0x5+-0x2e0f),yield this[_0x59db6a(0xc8)+'el']['find'](Object['assign']({},_0x5227e4[_0x59db6a(0xbb)]))[_0x59db6a(0xb2)](_0x5ea5fc)[_0x59db6a(0xde)]((_0x1eb5b3=_0x5227e4===null||_0x5227e4===void(-0x2a*-0x6+-0x16f*-0x1a+-0x3b*0xa6)?void(0x11b1+0x2215+-0x33c6):_0x5227e4[_0x59db6a(0xde)])!==null&&_0x1eb5b3!==void(0xa5*0x6+0x1*0x1aab+-0x1*0x1e89)?_0x1eb5b3:0x95*0x10+0x2a*-0x2+-0x8fc);}const _0x4e0085=[];if((_0x2719a1=(_0x52707c=_0x5227e4===null||_0x5227e4===void(-0xa9*0x16+0x3e2+0xaa4)?void(-0x1235+-0x1ef0+-0x17*-0x223):_0x5227e4[_0x59db6a(0xbb)])===null||_0x52707c===void(-0xb51*0x1+0xa14+0x13d)?void(-0x22de+0x1bce+0x710):_0x52707c[_0x59db6a(0xaf)])===null||_0x2719a1===void(-0x30f+-0x3*0xa2a+-0x1*-0x218d)?void(-0x1c55+0x3d*-0x2c+0x26d1):_0x2719a1['id']){const _0x435820={};_0x435820[_0x59db6a(0xc0)]=_0x59db6a(0xa5),_0x4e0085[_0x59db6a(0xa9)](JSON['parse']((-0x2ef+-0x2625+0x1de*0x16,fs_1[_0x59db6a(0xdd)+'nc'])((-0x1033+0xe22+0x1*0x211,path_1[_0x59db6a(0xa6)])(this['storePath'],_0x59db6a(0xd9),_0x5227e4[_0x59db6a(0xbb)][_0x59db6a(0xe0)],_0x5227e4[_0x59db6a(0xbb)][_0x59db6a(0xaf)]['id']+_0x59db6a(0xc6)),_0x435820)));}else{const _0x285ee4={};_0x285ee4[_0x59db6a(0xc0)]=_0x59db6a(0xa5);const _0x4dc099=(-0x1161+-0x1*-0xef8+-0x269*-0x1,fs_1[_0x59db6a(0xcc)+'c'])((0x1f5+-0x1*-0x2653+-0x2848,path_1[_0x59db6a(0xa6)])(this[_0x59db6a(0xc5)],_0x59db6a(0xd9),_0x5227e4[_0x59db6a(0xbb)][_0x59db6a(0xe0)]),_0x285ee4);try{for(var _0x41521c=!![],_0x1bac49=__asyncValues(_0x4dc099),_0x2b7431;_0x2b7431=yield _0x1bac49[_0x59db6a(0xca)](),_0x343b33=_0x2b7431[_0x59db6a(0xa7)],!_0x343b33;){_0x406158=_0x2b7431['value'],_0x41521c=![];try{const _0x1fe266=_0x406158;if(_0x1fe266['isFile']()){const _0x58cf86={};_0x58cf86['encoding']='utf-8',_0x4e0085[_0x59db6a(0xa9)](JSON['parse']((0x1cbf+0x23ca+-0x4089*0x1,fs_1[_0x59db6a(0xdd)+'nc'])((-0x1*-0x197b+0xf1f+0x2*-0x144d,path_1[_0x59db6a(0xa6)])(this[_0x59db6a(0xc5)],_0x59db6a(0xd9),_0x5227e4['where'][_0x59db6a(0xe0)],_0x1fe266[_0x59db6a(0xd1)]),_0x58cf86)));}}finally{_0x41521c=!![];}}}catch(_0x180e50){const _0x6a6389={};_0x6a6389[_0x59db6a(0xd3)]=_0x180e50,_0x44b662=_0x6a6389;}finally{try{if(!_0x41521c&&!_0x343b33&&(_0x49a30c=_0x1bac49[_0x59db6a(0xb4)]))yield _0x49a30c[_0x59db6a(0xd0)](_0x1bac49);}finally{if(_0x44b662)throw _0x44b662[_0x59db6a(0xd3)];}}}return _0x4e0085['sort']((_0xd7c271,_0x3b7453)=>{const _0x460586=_0x59db6a;return _0x3b7453[_0x460586(0xb9)+'estamp']-_0xd7c271[_0x460586(0xb9)+_0x460586(0xc1)];})['splice'](0x348+0x62d+0x10d*-0x9,(_0x1e3348=_0x5227e4===null||_0x5227e4===void(-0x5d7+-0x12*0xf+0x6e5)?void(0x1559+-0x23ad+0xe54):_0x5227e4['limit'])!==null&&_0x1e3348!==void(0x9*-0x103+-0x4bc+-0x3*-0x49d)?_0x1e3348:_0x4e0085[_0x59db6a(0xd2)]);}catch(_0x5e6dda){return[];}});}}exports[a40_0x441f81(0xab)+'ository']=MessageRepository;