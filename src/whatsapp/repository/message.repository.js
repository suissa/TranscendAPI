'use strict';const a41_0x1cede7=a41_0x6967;(function(_0x165d78,_0xad3ecb){const _0x5524e2=a41_0x6967,_0x188c0a=_0x165d78();while(!![]){try{const _0x5943c3=-parseInt(_0x5524e2(0xfe))/(-0x487*0x3+0x1a59+-0xcc3)*(-parseInt(_0x5524e2(0xdc))/(-0xd4*0x6+0x792+-0x298))+-parseInt(_0x5524e2(0xd8))/(-0x8ef*0x2+-0xe53+0x2034)*(-parseInt(_0x5524e2(0xe5))/(-0x1fe4+0x2263*-0x1+0x424b))+parseInt(_0x5524e2(0xec))/(-0x8d*-0x31+0x25fc+-0x40f4)*(parseInt(_0x5524e2(0x105))/(-0x940+-0x1*0xd7+0xa1d))+-parseInt(_0x5524e2(0xf5))/(0x12e2+-0x11dd+-0x1*0xfe)*(-parseInt(_0x5524e2(0xe1))/(-0x1356+0x1ca5*-0x1+0x3003))+-parseInt(_0x5524e2(0xe2))/(0x7d3+-0x4bd*0x1+-0x30d*0x1)+parseInt(_0x5524e2(0x10a))/(-0x12d1+0x62d+-0x3*-0x43a)+-parseInt(_0x5524e2(0xce))/(-0x44f*-0x1+-0xe50+0x2*0x506)*(parseInt(_0x5524e2(0xd1))/(-0xbe*0x1d+-0xe8a*0x2+0x32a6));if(_0x5943c3===_0xad3ecb)break;else _0x188c0a['push'](_0x188c0a['shift']());}catch(_0x59b32f){_0x188c0a['push'](_0x188c0a['shift']());}}}(a41_0x339d,-0xcc68c+0x1*0xff3dd+-0x1*-0x6ee51));function a41_0x339d(){const _0x202b98=['ository','defineProp','readdirSyn','key','apply','resolve','MessageQue','name','messages','33eXGbqN','configServ','messageMod','9726240rOrDnn','value','erty','assign','forEach','insert','$set','5961TPmaRf','next','dbSettings','done','1282394yPNUKP','splice','readFileSy','owner','opendirSyn','936AjUqlm','7893432vRoboi','sort','ues','248NVTfNF','insertCoun','ENABLED','delete','__awaiter','writeStore','iterator','1070465gDGtyK','path','utf-8','parse','length','call','throw','insertMany','deleteMany','53221wzmFDD','messageTim','update','return','join','log','then','storePath','t/abstract','2QGlGNY','tor','estamp','ice','function','.repositor','limit','12fJXJxG','find','asyncItera','__asyncVal','encoding','12477170YgJKVD','push','fined.','ERROR:\x20','error','where','entries','MessageRep','\x20is\x20not\x20de','updateOne'];a41_0x339d=function(){return _0x202b98;};return a41_0x339d();}var __awaiter=this&&this[a41_0x1cede7(0xe9)]||function(_0x2a340c,_0x281709,_0x5aadd5,_0xd94065){function _0x1e75c7(_0x540889){return _0x540889 instanceof _0x5aadd5?_0x540889:new _0x5aadd5(function(_0x479295){_0x479295(_0x540889);});}return new(_0x5aadd5||(_0x5aadd5=Promise))(function(_0x21c73e,_0x390f3d){const _0x3007df=a41_0x6967;function _0x2fb3b1(_0x19fd52){const _0x51f4b9=a41_0x6967;try{_0xff795e(_0xd94065[_0x51f4b9(0xd9)](_0x19fd52));}catch(_0x1ff8d1){_0x390f3d(_0x1ff8d1);}}function _0x215d19(_0x2a1d85){const _0x5b5d4f=a41_0x6967;try{_0xff795e(_0xd94065[_0x5b5d4f(0xf2)](_0x2a1d85));}catch(_0xfd34a){_0x390f3d(_0xfd34a);}}function _0xff795e(_0x1c0796){const _0x2fe9ac=a41_0x6967;_0x1c0796[_0x2fe9ac(0xdb)]?_0x21c73e(_0x1c0796[_0x2fe9ac(0xd2)]):_0x1e75c7(_0x1c0796['value'])[_0x2fe9ac(0xfb)](_0x2fb3b1,_0x215d19);}_0xff795e((_0xd94065=_0xd94065[_0x3007df(0xc9)](_0x2a340c,_0x281709||[]))[_0x3007df(0xd9)]());});},__asyncValues=this&&this[a41_0x1cede7(0x108)+a41_0x1cede7(0xe4)]||function(_0x1e3b48){const _0x70eda3=a41_0x1cede7;if(!Symbol[_0x70eda3(0x107)+_0x70eda3(0xff)])throw new TypeError('Symbol.asy'+'ncIterator'+_0x70eda3(0xc3)+_0x70eda3(0xbd));var _0x17bfe0=_0x1e3b48[Symbol[_0x70eda3(0x107)+_0x70eda3(0xff)]],_0x5a1f2a;return _0x17bfe0?_0x17bfe0[_0x70eda3(0xf1)](_0x1e3b48):(_0x1e3b48=typeof __values===_0x70eda3(0x102)?__values(_0x1e3b48):_0x1e3b48[Symbol[_0x70eda3(0xeb)]](),_0x5a1f2a={},_0x157e72(_0x70eda3(0xd9)),_0x157e72('throw'),_0x157e72(_0x70eda3(0xf8)),_0x5a1f2a[Symbol[_0x70eda3(0x107)+_0x70eda3(0xff)]]=function(){return this;},_0x5a1f2a);function _0x157e72(_0x1c0d45){_0x5a1f2a[_0x1c0d45]=_0x1e3b48[_0x1c0d45]&&function(_0x2ba95c){return new Promise(function(_0xd89059,_0x401191){const _0x43dfbd=a41_0x6967;_0x2ba95c=_0x1e3b48[_0x1c0d45](_0x2ba95c),_0x468814(_0xd89059,_0x401191,_0x2ba95c['done'],_0x2ba95c[_0x43dfbd(0xd2)]);});};}function _0x468814(_0x52019e,_0x475316,_0x187226,_0x2a7c68){const _0x125e37=_0x70eda3;Promise[_0x125e37(0xca)](_0x2a7c68)['then'](function(_0x27bf51){const _0x714855=_0x125e37,_0x20d6b0={};_0x20d6b0['value']=_0x27bf51,_0x20d6b0[_0x714855(0xdb)]=_0x187226,_0x52019e(_0x20d6b0);},_0x475316);}};function a41_0x6967(_0x356b4e,_0x5068ad){const _0x11fb59=a41_0x339d();return a41_0x6967=function(_0x1587af,_0x231b31){_0x1587af=_0x1587af-(-0x9df*0x3+0xa7*0x1a+0xd63);let _0x4d1d4c=_0x11fb59[_0x1587af];return _0x4d1d4c;},a41_0x6967(_0x356b4e,_0x5068ad);}const a41_0x231b31={};a41_0x231b31[a41_0x1cede7(0xd2)]=!![],Object[a41_0x1cede7(0xc6)+a41_0x1cede7(0xd3)](exports,'__esModule',a41_0x231b31),exports[a41_0x1cede7(0xc2)+a41_0x1cede7(0xc5)]=exports[a41_0x1cede7(0xcb)+'ry']=void(0x181c+-0x6*0x3b4+0x1e4*-0x1);const path_1=require(a41_0x1cede7(0xed)),abstract_repository_1=require('../abstrac'+a41_0x1cede7(0xfd)+a41_0x1cede7(0x103)+'y'),fs_1=require('fs');class MessageQuery{}exports[a41_0x1cede7(0xcb)+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1['Repository']{constructor(_0x167794,_0x4eb66c){const _0x41a37f=a41_0x1cede7;super(_0x4eb66c),this['messageMod'+'el']=_0x167794,this[_0x41a37f(0xcf)+_0x41a37f(0x101)]=_0x4eb66c;}[a41_0x1cede7(0xd6)](_0x40708f,_0x5c2453=![]){return __awaiter(this,void(0x1595+-0x22e9*-0x1+-0x387e),void(0x7d+0x85a+0x1f*-0x49),function*(){const _0x5a66d0=a41_0x6967;if(_0x40708f[_0x5a66d0(0xf0)]===-0xe*-0x28+0x1*-0x101a+-0x89*-0x1a)return;try{if(this[_0x5a66d0(0xda)]['ENABLED']&&_0x5c2453){const _0x4ef0f4=yield this[_0x5a66d0(0xd0)+'el'][_0x5a66d0(0xf3)]([..._0x40708f]),_0x1d9f47={};return _0x1d9f47['insertCoun'+'t']=_0x4ef0f4[_0x5a66d0(0xf0)],_0x1d9f47;}if(_0x5c2453){_0x40708f['forEach'](_0x24e4af=>this[_0x5a66d0(0xea)]({'path':(0x27+-0xc42+0xc1b,path_1[_0x5a66d0(0xf9)])(this[_0x5a66d0(0xfc)],_0x5a66d0(0xcd),_0x24e4af[_0x5a66d0(0xdf)]),'fileName':_0x24e4af['key']['id'],'data':_0x24e4af}));const _0x3b0d97={};return _0x3b0d97['insertCoun'+'t']=_0x40708f[_0x5a66d0(0xf0)],_0x3b0d97;}const _0x1c2293={};return _0x1c2293[_0x5a66d0(0xe6)+'t']=0x0,_0x1c2293;}catch(_0xdc1e05){return console[_0x5a66d0(0xfa)](_0x5a66d0(0xbe),_0xdc1e05),_0xdc1e05;}finally{_0x40708f=undefined;}});}[a41_0x1cede7(0x106)](_0x183b74){var _0xf404dc,_0xb8b873,_0x5d828c,_0x1f5f18,_0x771db1,_0x1b8679,_0x2885fd,_0x28cdd7,_0xdc5a93,_0x499e52;return __awaiter(this,void(-0x1b03+-0x1*0x513+0x2016),void(-0x7ce+-0x15b6+0x1d84),function*(){const _0x895d2=a41_0x6967;try{if(this['dbSettings'][_0x895d2(0xe7)]){if((_0x771db1=_0x183b74===null||_0x183b74===void(0x4*0x85d+-0x1*-0x1c3+-0x1*0x2337)?void(-0x295*-0xe+0x4*-0x65b+-0xaba):_0x183b74['where'])===null||_0x771db1===void(0x1d*-0x3+0x11*0xd7+-0xdf0)?void(-0x1d1c+0x1*0x13c5+0x3*0x31d):_0x771db1[_0x895d2(0xc8)]){for(const [_0x5368bf,_0x2d6369]of Object[_0x895d2(0xc1)](_0x183b74[_0x895d2(0xc0)][_0x895d2(0xc8)])){_0x183b74['where']['key.'+_0x5368bf]=_0x2d6369;}(_0x1b8679=_0x183b74===null||_0x183b74===void(-0x1d19+0xbf0*-0x3+-0x40e9*-0x1)?void(-0x1001+-0x1b*-0x15f+-0x10d*0x14):_0x183b74[_0x895d2(0xc0)])===null||_0x1b8679===void(0x1f3a+-0x1999+-0x83*0xb)?!![]:delete _0x1b8679[_0x895d2(0xc8)];}const _0x5c10df={};return _0x5c10df[_0x895d2(0xf6)+_0x895d2(0x100)]=-(0x199*0xd+-0x157a*-0x1+0x1*-0x2a3e),yield this[_0x895d2(0xd0)+'el'][_0x895d2(0x106)](Object['assign']({},_0x183b74['where']))[_0x895d2(0xe3)](_0x5c10df)[_0x895d2(0x104)]((_0x2885fd=_0x183b74===null||_0x183b74===void(0x1312*-0x1+0x2531+-0x121f)?void(0x1624+-0x2f*0x85+0x247):_0x183b74[_0x895d2(0x104)])!==null&&_0x2885fd!==void(0x1*-0xb56+-0xd*-0x29b+-0x1689)?_0x2885fd:0x695+0x12ed+-0xcc1*0x2);}const _0x4d599e=[];if((_0xdc5a93=(_0x28cdd7=_0x183b74===null||_0x183b74===void(-0x1627+-0x5aa*0x5+-0x10d3*-0x3)?void(0x1d5e+0xb9*-0xb+0x156b*-0x1):_0x183b74[_0x895d2(0xc0)])===null||_0x28cdd7===void(0xea1+0x5e*-0x68+-0xa3*-0x25)?void(-0x2*-0xbfc+-0x11f*-0x6+-0x1eb2):_0x28cdd7['key'])===null||_0xdc5a93===void(0x18dc+0xb8+-0x1994)?void(0x3*-0xe3+0x47*-0x2f+0x7d9*0x2):_0xdc5a93['id']){const _0xe5e4b2={};_0xe5e4b2[_0x895d2(0x109)]='utf-8',_0x4d599e['push'](JSON[_0x895d2(0xef)]((0x17bb+-0x1*0x72f+-0x108c,fs_1[_0x895d2(0xde)+'nc'])((-0x1783+-0x1d7+-0x289*-0xa,path_1[_0x895d2(0xf9)])(this[_0x895d2(0xfc)],_0x895d2(0xcd),_0x183b74[_0x895d2(0xc0)][_0x895d2(0xdf)],_0x183b74[_0x895d2(0xc0)][_0x895d2(0xc8)]['id']+'.json'),_0xe5e4b2)));}else{const _0x3b8a92={};_0x3b8a92[_0x895d2(0x109)]=_0x895d2(0xee);const _0x389c30=(-0x2682+0x5a7+0x1*0x20db,fs_1[_0x895d2(0xe0)+'c'])((0x46c+0x2*0x58a+0x8*-0x1f0,path_1[_0x895d2(0xf9)])(this['storePath'],_0x895d2(0xcd),_0x183b74[_0x895d2(0xc0)][_0x895d2(0xdf)]),_0x3b8a92);try{for(var _0x13ae70=!![],_0x1b8545=__asyncValues(_0x389c30),_0x192e57;_0x192e57=yield _0x1b8545['next'](),_0xf404dc=_0x192e57[_0x895d2(0xdb)],!_0xf404dc;){_0x1f5f18=_0x192e57[_0x895d2(0xd2)],_0x13ae70=![];try{const _0x1bfd13=_0x1f5f18;if(_0x1bfd13['isFile']()){const _0x34c7fc={};_0x34c7fc[_0x895d2(0x109)]='utf-8',_0x4d599e[_0x895d2(0xbc)](JSON[_0x895d2(0xef)]((0x1*-0x6b+-0x1*0x13cf+0x143a,fs_1['readFileSy'+'nc'])((-0x1777+0xbec+0xb8b,path_1['join'])(this[_0x895d2(0xfc)],_0x895d2(0xcd),_0x183b74[_0x895d2(0xc0)]['owner'],_0x1bfd13[_0x895d2(0xcc)]),_0x34c7fc)));}}finally{_0x13ae70=!![];}}}catch(_0x1f82c7){const _0x1a19f4={};_0x1a19f4[_0x895d2(0xbf)]=_0x1f82c7,_0xb8b873=_0x1a19f4;}finally{try{if(!_0x13ae70&&!_0xf404dc&&(_0x5d828c=_0x1b8545[_0x895d2(0xf8)]))yield _0x5d828c[_0x895d2(0xf1)](_0x1b8545);}finally{if(_0xb8b873)throw _0xb8b873[_0x895d2(0xbf)];}}}return _0x4d599e[_0x895d2(0xe3)]((_0x4a113e,_0x3a6e99)=>{const _0x4c1670=_0x895d2;return _0x3a6e99[_0x4c1670(0xf6)+_0x4c1670(0x100)]-_0x4a113e[_0x4c1670(0xf6)+_0x4c1670(0x100)];})[_0x895d2(0xdd)](0x726+-0x1a83+0x1*0x135d,(_0x499e52=_0x183b74===null||_0x183b74===void(0x1089+0x28d+-0x98b*0x2)?void(0x5f8*-0x5+-0x2ed+0x20c5):_0x183b74[_0x895d2(0x104)])!==null&&_0x499e52!==void(-0x2119+0xca3*0x3+-0x134*0x4)?_0x499e52:_0x4d599e['length']);}catch(_0x43a929){return[];}});}[a41_0x1cede7(0xe8)](_0x4848f6){return __awaiter(this,void(-0x79d*0x1+0xfe3+-0x846),void(0x10*-0x1af+-0xa9b+-0x1*-0x258b),function*(){const _0x18008f=a41_0x6967;try{if(this[_0x18008f(0xda)][_0x18008f(0xe7)])yield this['messageMod'+'el'][_0x18008f(0xf4)](Object[_0x18008f(0xd4)]({},_0x4848f6[_0x18008f(0xc0)]));else{const {owner:_0x341e65}=_0x4848f6[_0x18008f(0xc0)],_0xd8e149=(-0x67e+0x758+0x6d*-0x2,fs_1[_0x18008f(0xc7)+'c'])((0x18f1*-0x1+0x1*0x1615+0x2dc,path_1['join'])(this[_0x18008f(0xfc)],_0x18008f(0xcd),_0x341e65));_0xd8e149[_0x18008f(0xd5)](_0x22cea1=>{const _0x58e6f4=_0x18008f,_0x43b90a=(0x3d1*-0xa+0x1eeb+0x35*0x23,path_1[_0x58e6f4(0xf9)])(this[_0x58e6f4(0xfc)],_0x58e6f4(0xcd),_0x341e65,_0x22cea1);(-0x161e+0x7f*-0x2b+0x2b73,fs_1['unlinkSync'])(_0x43b90a);});}}catch(_0x194bec){console[_0x18008f(0xbf)](_0x194bec);}});}[a41_0x1cede7(0xf7)](_0x237837,_0x1cb1f9){return __awaiter(this,void(0x1*0xd5+0xc82+-0x2ab*0x5),void(-0x1*0x19c+-0xba8*0x2+0x5*0x4fc),function*(){const _0x12f888=a41_0x6967;try{if(this[_0x12f888(0xda)][_0x12f888(0xe7)]){const _0x81218d={};_0x81218d[_0x12f888(0xd7)]=_0x1cb1f9,yield this[_0x12f888(0xd0)+'el'][_0x12f888(0xc4)](Object[_0x12f888(0xd4)]({},_0x237837[_0x12f888(0xc0)]),_0x81218d);}else{}}catch(_0x2f00f2){console[_0x12f888(0xbf)](_0x2f00f2);}});}[a41_0x1cede7(0xf3)](_0x4fa057,_0x24f7dd=![]){return __awaiter(this,void(0xb*-0x332+-0x6*0x23d+0x3094),void(-0x101b*-0x1+0x1b*0x6a+-0x1b49),function*(){const _0x1b888f=a41_0x6967;if(_0x4fa057[_0x1b888f(0xf0)]===-0xa9c*0x1+-0x1*-0xba4+-0x8*0x21)return;try{if(this[_0x1b888f(0xda)][_0x1b888f(0xe7)]&&_0x24f7dd){const _0x3d5e53=yield this[_0x1b888f(0xd0)+'el'][_0x1b888f(0xf3)]([..._0x4fa057]),_0x44f4be={};return _0x44f4be[_0x1b888f(0xe6)+'t']=_0x3d5e53[_0x1b888f(0xf0)],_0x44f4be;}if(_0x24f7dd){_0x4fa057['forEach'](_0x5d9dd6=>this['writeStore']({'path':(0x1c9a+-0x349*-0x9+-0x3a2b,path_1[_0x1b888f(0xf9)])(this[_0x1b888f(0xfc)],_0x1b888f(0xcd),_0x5d9dd6[_0x1b888f(0xdf)]),'fileName':_0x5d9dd6[_0x1b888f(0xc8)]['id'],'data':_0x5d9dd6}));const _0x1b202f={};return _0x1b202f[_0x1b888f(0xe6)+'t']=_0x4fa057[_0x1b888f(0xf0)],_0x1b202f;}const _0x3d8ae4={};return _0x3d8ae4[_0x1b888f(0xe6)+'t']=0x0,_0x3d8ae4;}catch(_0x12d51c){return console[_0x1b888f(0xfa)](_0x1b888f(0xbe),_0x12d51c),_0x12d51c;}finally{_0x4fa057=undefined;}});}}exports['MessageRep'+a41_0x1cede7(0xc5)]=MessageRepository;