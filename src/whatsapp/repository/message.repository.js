'use strict';const a40_0x56b144=a40_0x4dd0;(function(_0x4a60ad,_0xa8b83e){const _0x1096a8=a40_0x4dd0,_0x507dc7=_0x4a60ad();while(!![]){try{const _0x2cb988=parseInt(_0x1096a8(0xcb))/(-0x1b01+-0xa25+0x2527)+-parseInt(_0x1096a8(0xaf))/(-0x25*-0xe2+0x2512+-0x45ba)*(parseInt(_0x1096a8(0xa6))/(-0xab1+0x4d1*-0x3+0x1927))+-parseInt(_0x1096a8(0x9e))/(-0xa*0x25c+-0x154c+0x2ce8)+parseInt(_0x1096a8(0xd2))/(-0x10*0x236+0x11ac+0x11b9)+parseInt(_0x1096a8(0xc9))/(0x1da*-0x3+0x2319+-0x2af*0xb)*(-parseInt(_0x1096a8(0xc1))/(-0xb*-0x2de+0x3*0x35+0x6*-0x55b))+parseInt(_0x1096a8(0xab))/(-0x9a6+-0x946*-0x1+0x4*0x1a)*(parseInt(_0x1096a8(0xbe))/(-0x875+-0x10be*0x1+-0x14*-0x143))+parseInt(_0x1096a8(0xdf))/(0x83*0x27+0x1b8b+-0x2f76);if(_0x2cb988===_0xa8b83e)break;else _0x507dc7['push'](_0x507dc7['shift']());}catch(_0x17e899){_0x507dc7['push'](_0x507dc7['shift']());}}}(a40_0x25b9,0x38c78+0x6f*0x1b6+-0x5*-0xa173));var __awaiter=this&&this[a40_0x56b144(0xb3)]||function(_0x5ee2fd,_0x2c4bb8,_0x346930,_0x1eb66e){function _0x9f3523(_0x26e21d){return _0x26e21d instanceof _0x346930?_0x26e21d:new _0x346930(function(_0x246e38){_0x246e38(_0x26e21d);});}return new(_0x346930||(_0x346930=Promise))(function(_0x155585,_0x3743e6){const _0x11516b=a40_0x4dd0;function _0x3780e8(_0x20803d){const _0x458ff3=a40_0x4dd0;try{_0x53bd2d(_0x1eb66e[_0x458ff3(0xca)](_0x20803d));}catch(_0x13c7fe){_0x3743e6(_0x13c7fe);}}function _0x23090d(_0x1f18c5){try{_0x53bd2d(_0x1eb66e['throw'](_0x1f18c5));}catch(_0xc5a3e8){_0x3743e6(_0xc5a3e8);}}function _0x53bd2d(_0xa59f30){const _0x12dc55=a40_0x4dd0;_0xa59f30[_0x12dc55(0xce)]?_0x155585(_0xa59f30['value']):_0x9f3523(_0xa59f30[_0x12dc55(0xa0)])['then'](_0x3780e8,_0x23090d);}_0x53bd2d((_0x1eb66e=_0x1eb66e['apply'](_0x5ee2fd,_0x2c4bb8||[]))[_0x11516b(0xca)]());});},__asyncValues=this&&this[a40_0x56b144(0xdd)+'ues']||function(_0x4f9e5d){const _0x4d07c2=a40_0x56b144;if(!Symbol[_0x4d07c2(0xb2)+_0x4d07c2(0xad)])throw new TypeError(_0x4d07c2(0xba)+'ncIterator'+'\x20is\x20not\x20de'+_0x4d07c2(0xdb));var _0x564985=_0x4f9e5d[Symbol[_0x4d07c2(0xb2)+'tor']],_0x2f042b;return _0x564985?_0x564985[_0x4d07c2(0xd3)](_0x4f9e5d):(_0x4f9e5d=typeof __values===_0x4d07c2(0xde)?__values(_0x4f9e5d):_0x4f9e5d[Symbol[_0x4d07c2(0xbf)]](),_0x2f042b={},_0x59b0a9(_0x4d07c2(0xca)),_0x59b0a9(_0x4d07c2(0xd8)),_0x59b0a9('return'),_0x2f042b[Symbol[_0x4d07c2(0xb2)+'tor']]=function(){return this;},_0x2f042b);function _0x59b0a9(_0x3240c9){_0x2f042b[_0x3240c9]=_0x4f9e5d[_0x3240c9]&&function(_0xd331b7){return new Promise(function(_0x11b0a5,_0x36b5b2){const _0x314e92=a40_0x4dd0;_0xd331b7=_0x4f9e5d[_0x3240c9](_0xd331b7),_0x239764(_0x11b0a5,_0x36b5b2,_0xd331b7[_0x314e92(0xce)],_0xd331b7[_0x314e92(0xa0)]);});};}function _0x239764(_0x3b1ec6,_0x3b6dfd,_0xee752f,_0x105271){const _0x4cf823=_0x4d07c2;Promise['resolve'](_0x105271)[_0x4cf823(0xc4)](function(_0x4164ab){const _0x3087df=_0x4cf823,_0x22ef14={};_0x22ef14[_0x3087df(0xa0)]=_0x4164ab,_0x22ef14['done']=_0xee752f,_0x3b1ec6(_0x22ef14);},_0x3b6dfd);}};const a40_0xd5407e={};a40_0xd5407e[a40_0x56b144(0xa0)]=!![],Object['defineProp'+a40_0x56b144(0xac)](exports,a40_0x56b144(0xd4),a40_0xd5407e),exports['MessageRep'+'ository']=exports[a40_0x56b144(0xb0)+'ry']=void(0x264c+0x784+-0x8*0x5ba);const path_1=require(a40_0x56b144(0xc5)),abstract_repository_1=require('../abstrac'+a40_0x56b144(0xa5)+a40_0x56b144(0xaa)+'y'),fs_1=require('fs');function a40_0x4dd0(_0x183d13,_0x243113){const _0x7ed47d=a40_0x25b9();return a40_0x4dd0=function(_0x4d1110,_0x5d1aba){_0x4d1110=_0x4d1110-(-0xd91+0x27*0x2d+0x754);let _0xd5407e=_0x7ed47d[_0x4d1110];return _0xd5407e;},a40_0x4dd0(_0x183d13,_0x243113);}class MessageQuery{}exports[a40_0x56b144(0xb0)+'ry']=MessageQuery;function a40_0x25b9(){const _0x315b95=['tor','ository','110KWjnuj','MessageQue','forEach','asyncItera','__awaiter','sort','where','owner','ice','writeStore','estamp','Symbol.asy','return','configServ','key','1919331RtyHwC','iterator','opendirSyn','752822mfpjPs','key.','name','then','path','isFile','error','utf-8','12yKWqgI','next','741115MvVtoD','splice','messageMod','done','log','insertMany','MessageRep','526605aWpbpW','call','__esModule','limit','encoding','messages','throw','ENABLED','storePath','fined.','length','__asyncVal','function','693090caBAFq','459620rsOWgE','insertCoun','value','join','dbSettings','readFileSy','messageTim','t/abstract','28605MBsdCc','parse','insert','find','.repositor','16EDZrfx','erty'];a40_0x25b9=function(){return _0x315b95;};return a40_0x25b9();}class MessageRepository extends abstract_repository_1['Repository']{constructor(_0x4879fa,_0x37c792){const _0x4815c0=a40_0x56b144;super(_0x37c792),this[_0x4815c0(0xcd)+'el']=_0x4879fa,this[_0x4815c0(0xbc)+_0x4815c0(0xb7)]=_0x37c792;}[a40_0x56b144(0xa8)](_0x528819,_0x2bc8fa=![]){return __awaiter(this,void(0x1*-0xb0c+0x12af+-0x7a3),void(0x115*0x9+-0x719*0x5+0x19c0),function*(){const _0x4cd7c1=a40_0x4dd0;if(_0x528819[_0x4cd7c1(0xdc)]===0x10bd+-0x15c6+0x509)return;try{if(this[_0x4cd7c1(0xa2)][_0x4cd7c1(0xd9)]&&_0x2bc8fa){const _0x3120a5=yield this['messageMod'+'el'][_0x4cd7c1(0xd0)]([..._0x528819]),_0x75ebc9={};return _0x75ebc9['insertCoun'+'t']=_0x3120a5['length'],_0x75ebc9;}if(_0x2bc8fa){_0x528819[_0x4cd7c1(0xb1)](_0x384585=>this[_0x4cd7c1(0xb8)]({'path':(-0x76b+0x1*-0x12aa+-0xb*-0x25f,path_1[_0x4cd7c1(0xa1)])(this[_0x4cd7c1(0xda)],_0x4cd7c1(0xd7),_0x384585[_0x4cd7c1(0xb6)]),'fileName':_0x384585[_0x4cd7c1(0xbd)]['id'],'data':_0x384585}));const _0x53824c={};return _0x53824c[_0x4cd7c1(0x9f)+'t']=_0x528819[_0x4cd7c1(0xdc)],_0x53824c;}const _0x3bcdbc={};return _0x3bcdbc[_0x4cd7c1(0x9f)+'t']=0x0,_0x3bcdbc;}catch(_0x499ea5){return console[_0x4cd7c1(0xcf)]('ERROR:\x20',_0x499ea5),_0x499ea5;}finally{_0x528819=undefined;}});}[a40_0x56b144(0xa9)](_0x3642dd){var _0x3a0457,_0x4a1c8c,_0x3fbbd8,_0x267308,_0x3ad88d,_0x3cca7b,_0x2eff00,_0x54444d,_0x3c175a,_0x569403;return __awaiter(this,void(0x1*-0x1fff+0x6e3*-0x4+0x13d9*0x3),void(0x2*-0x322+-0x29*0x52+0xbf*0x1a),function*(){const _0x4ff27c=a40_0x4dd0;try{if(this[_0x4ff27c(0xa2)][_0x4ff27c(0xd9)]){if((_0x3ad88d=_0x3642dd===null||_0x3642dd===void(0x27*0x89+-0xbde+-0x5*0x1cd)?void(0x1*0x751+-0x12f*0x14+-0x4f*-0x35):_0x3642dd[_0x4ff27c(0xb5)])===null||_0x3ad88d===void(-0x2*0x125+0x1e3+0x67)?void(-0x4a*0x2+-0x16ae+0x2*0xba1):_0x3ad88d[_0x4ff27c(0xbd)]){for(const [_0x5a0733,_0x32fac0]of Object['entries'](_0x3642dd[_0x4ff27c(0xb5)]['key'])){_0x3642dd[_0x4ff27c(0xb5)][_0x4ff27c(0xc2)+_0x5a0733]=_0x32fac0;}(_0x3cca7b=_0x3642dd===null||_0x3642dd===void(0x2219+-0x1852+0x9c7*-0x1)?void(-0x2*0x55e+-0x2333+-0xb*-0x42d):_0x3642dd[_0x4ff27c(0xb5)])===null||_0x3cca7b===void(0x1ea9+-0x38c*0x2+-0x1791)?!![]:delete _0x3cca7b[_0x4ff27c(0xbd)];}const _0x1cff31={};return _0x1cff31[_0x4ff27c(0xa4)+_0x4ff27c(0xb9)]=-(-0x1b6e*0x1+0x1*0x2e1+-0x382*-0x7),yield this['messageMod'+'el'][_0x4ff27c(0xa9)](Object['assign']({},_0x3642dd[_0x4ff27c(0xb5)]))[_0x4ff27c(0xb4)](_0x1cff31)[_0x4ff27c(0xd5)]((_0x2eff00=_0x3642dd===null||_0x3642dd===void(0x139*0x19+-0x1673*-0x1+-0x3504)?void(0x67*0x3e+-0x4*0x225+0x1a3*-0xa):_0x3642dd[_0x4ff27c(0xd5)])!==null&&_0x2eff00!==void(-0x34c+-0x291*-0x2+-0x1d6)?_0x2eff00:-0x1ea+0x45d*-0x1+0x647);}const _0x4a2bea=[];if((_0x3c175a=(_0x54444d=_0x3642dd===null||_0x3642dd===void(0xb*0x97+0x1dd4+-0x2451)?void(-0x1e96+0xf8f+0x1*0xf07):_0x3642dd['where'])===null||_0x54444d===void(0x1c74+-0x3*0xc83+0x915)?void(-0x1*0x1f2e+0x9e2+-0x3a*-0x5e):_0x54444d[_0x4ff27c(0xbd)])===null||_0x3c175a===void(-0x182e+0x130*-0x19+-0x7*-0x7b2)?void(-0x16f4+-0x505*-0x2+0xcea):_0x3c175a['id']){const _0x3c78f6={};_0x3c78f6['encoding']=_0x4ff27c(0xc8),_0x4a2bea['push'](JSON[_0x4ff27c(0xa7)]((0xc1*0x2b+0xe2f+-0x2e9a,fs_1[_0x4ff27c(0xa3)+'nc'])((0xb63+-0x1*-0x16db+-0x223e,path_1[_0x4ff27c(0xa1)])(this[_0x4ff27c(0xda)],_0x4ff27c(0xd7),_0x3642dd[_0x4ff27c(0xb5)][_0x4ff27c(0xb6)],_0x3642dd[_0x4ff27c(0xb5)][_0x4ff27c(0xbd)]['id']+'.json'),_0x3c78f6)));}else{const _0x1a5e47={};_0x1a5e47['encoding']='utf-8';const _0x537442=(0x1f*-0x10b+0x41d+0x1c38,fs_1[_0x4ff27c(0xc0)+'c'])((0x1*0x8+-0xfef+0xfe7,path_1[_0x4ff27c(0xa1)])(this[_0x4ff27c(0xda)],'messages',_0x3642dd['where']['owner']),_0x1a5e47);try{for(var _0x4d54f7=!![],_0xb4c264=__asyncValues(_0x537442),_0x1196bb;_0x1196bb=yield _0xb4c264[_0x4ff27c(0xca)](),_0x3a0457=_0x1196bb[_0x4ff27c(0xce)],!_0x3a0457;){_0x267308=_0x1196bb[_0x4ff27c(0xa0)],_0x4d54f7=![];try{const _0x3ab41a=_0x267308;if(_0x3ab41a[_0x4ff27c(0xc6)]()){const _0x5e4964={};_0x5e4964[_0x4ff27c(0xd6)]=_0x4ff27c(0xc8),_0x4a2bea['push'](JSON[_0x4ff27c(0xa7)]((0x13d8+-0x1dfd*0x1+0x31*0x35,fs_1[_0x4ff27c(0xa3)+'nc'])((0xd4b+0x113f+-0x1e8a,path_1['join'])(this[_0x4ff27c(0xda)],_0x4ff27c(0xd7),_0x3642dd[_0x4ff27c(0xb5)][_0x4ff27c(0xb6)],_0x3ab41a[_0x4ff27c(0xc3)]),_0x5e4964)));}}finally{_0x4d54f7=!![];}}}catch(_0x415dee){const _0x40b052={};_0x40b052[_0x4ff27c(0xc7)]=_0x415dee,_0x4a1c8c=_0x40b052;}finally{try{if(!_0x4d54f7&&!_0x3a0457&&(_0x3fbbd8=_0xb4c264[_0x4ff27c(0xbb)]))yield _0x3fbbd8['call'](_0xb4c264);}finally{if(_0x4a1c8c)throw _0x4a1c8c[_0x4ff27c(0xc7)];}}}return _0x4a2bea['sort']((_0x144030,_0x3cf2e6)=>{const _0x528efa=_0x4ff27c;return _0x3cf2e6[_0x528efa(0xa4)+_0x528efa(0xb9)]-_0x144030['messageTim'+_0x528efa(0xb9)];})[_0x4ff27c(0xcc)](0xa*-0x328+0x1*0x78d+0x3*0x801,(_0x569403=_0x3642dd===null||_0x3642dd===void(0x214f+-0xea*-0x2a+0x47b3*-0x1)?void(0x16bc+-0x22f2+0x412*0x3):_0x3642dd[_0x4ff27c(0xd5)])!==null&&_0x569403!==void(-0xe02+0xf84+-0x1*0x182)?_0x569403:_0x4a2bea['length']);}catch(_0x3bc4c5){return[];}});}}exports[a40_0x56b144(0xd1)+a40_0x56b144(0xae)]=MessageRepository;