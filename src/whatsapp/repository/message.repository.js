'use strict';const a40_0x5a5a96=a40_0xe845;(function(_0x10d036,_0x4b49a5){const _0x125992=a40_0xe845,_0x2cc190=_0x10d036();while(!![]){try{const _0x166608=parseInt(_0x125992(0x145))/(-0xfa8+0x8da+0x6cf)*(-parseInt(_0x125992(0x160))/(-0x1*-0xd2b+-0x20eb+0x13c2))+parseInt(_0x125992(0x16c))/(-0x126d+0x1f27+-0xcb7)+-parseInt(_0x125992(0x147))/(-0x2c*0x14+0xd9f+-0xa2b)+-parseInt(_0x125992(0x176))/(-0xff1+0x16fa+0x704*-0x1)*(-parseInt(_0x125992(0x17c))/(0x1848+0x1*-0xeca+-0x978))+parseInt(_0x125992(0x14d))/(0x164f+0x5b3*0x2+-0x21ae)*(parseInt(_0x125992(0x143))/(-0x1d82+0x79*-0x21+0x5*0x907))+-parseInt(_0x125992(0x141))/(0x22b4+-0x6f9+0x1*-0x1bb2)+-parseInt(_0x125992(0x151))/(-0xae0+0xae3*0x1+-0x7*-0x1)*(-parseInt(_0x125992(0x17a))/(-0xf5a+0xb*-0x11f+-0xddd*-0x2));if(_0x166608===_0x4b49a5)break;else _0x2cc190['push'](_0x2cc190['shift']());}catch(_0x2e79ad){_0x2cc190['push'](_0x2cc190['shift']());}}}(a40_0x5b32,-0x19709+-0x171*0xb3+0x20d*0x287));var __awaiter=this&&this[a40_0x5a5a96(0x13c)]||function(_0x5acf5b,_0x2fa5a7,_0x1c4370,_0x26a816){function _0x4ade21(_0x11cbad){return _0x11cbad instanceof _0x1c4370?_0x11cbad:new _0x1c4370(function(_0xd4a86f){_0xd4a86f(_0x11cbad);});}return new(_0x1c4370||(_0x1c4370=Promise))(function(_0x437121,_0x1d1629){const _0x5dc440=a40_0xe845;function _0x2cd609(_0x549b52){const _0x219b77=a40_0xe845;try{_0x257c95(_0x26a816[_0x219b77(0x158)](_0x549b52));}catch(_0x492d2f){_0x1d1629(_0x492d2f);}}function _0x5915aa(_0x8c37f6){try{_0x257c95(_0x26a816['throw'](_0x8c37f6));}catch(_0x6d935a){_0x1d1629(_0x6d935a);}}function _0x257c95(_0x3fb023){const _0x5b52b9=a40_0xe845;_0x3fb023[_0x5b52b9(0x156)]?_0x437121(_0x3fb023[_0x5b52b9(0x165)]):_0x4ade21(_0x3fb023[_0x5b52b9(0x165)])[_0x5b52b9(0x17b)](_0x2cd609,_0x5915aa);}_0x257c95((_0x26a816=_0x26a816[_0x5dc440(0x14c)](_0x5acf5b,_0x2fa5a7||[]))[_0x5dc440(0x158)]());});},__asyncValues=this&&this[a40_0x5a5a96(0x13a)+a40_0x5a5a96(0x150)]||function(_0x74547f){const _0x7dec46=a40_0x5a5a96;if(!Symbol['asyncItera'+_0x7dec46(0x16d)])throw new TypeError(_0x7dec46(0x134)+'ncIterator'+'\x20is\x20not\x20de'+_0x7dec46(0x15c));var _0x3f92d6=_0x74547f[Symbol[_0x7dec46(0x154)+_0x7dec46(0x16d)]],_0x1d4d92;return _0x3f92d6?_0x3f92d6[_0x7dec46(0x161)](_0x74547f):(_0x74547f=typeof __values===_0x7dec46(0x142)?__values(_0x74547f):_0x74547f[Symbol['iterator']](),_0x1d4d92={},_0x44757d(_0x7dec46(0x158)),_0x44757d(_0x7dec46(0x13e)),_0x44757d(_0x7dec46(0x179)),_0x1d4d92[Symbol[_0x7dec46(0x154)+'tor']]=function(){return this;},_0x1d4d92);function _0x44757d(_0x437a2b){_0x1d4d92[_0x437a2b]=_0x74547f[_0x437a2b]&&function(_0x3c5c9e){return new Promise(function(_0x30d0f3,_0x4b89ac){const _0x5aa735=a40_0xe845;_0x3c5c9e=_0x74547f[_0x437a2b](_0x3c5c9e),_0x434129(_0x30d0f3,_0x4b89ac,_0x3c5c9e[_0x5aa735(0x156)],_0x3c5c9e[_0x5aa735(0x165)]);});};}function _0x434129(_0x5287f1,_0x1d886f,_0x2afec9,_0x3663a6){const _0x33b1f6=_0x7dec46;Promise[_0x33b1f6(0x14b)](_0x3663a6)[_0x33b1f6(0x17b)](function(_0x41b429){const _0x44421e=_0x33b1f6,_0x21134a={};_0x21134a[_0x44421e(0x165)]=_0x41b429,_0x21134a[_0x44421e(0x156)]=_0x2afec9,_0x5287f1(_0x21134a);},_0x1d886f);}};const a40_0x232758={};function a40_0x5b32(){const _0x3b4cdf=['Repository','find','entries','5WoKwKu','messageTim','forEach','return','17270cRrQnJ','then','72444NUfYQQ','readFileSy','Symbol.asy','splice','limit','erty','MessageRep','sort','__asyncVal','insertMany','__awaiter','opendirSyn','throw','encoding','parse','2783970BWWwzV','function','391528ULLoYj','utf-8','1494qcWtvZ','defineProp','290648jpDhor','ENABLED','path','ERROR:\x20','resolve','apply','7rRUQTM','messages','../abstrac','ues','2690cPpspu','insertCoun','join','asyncItera','messageMod','done','where','next','.repositor','push','key.','fined.','name','ository','isFile','162jymazd','call','MessageQue','length','assign','value','ice','dbSettings','owner','storePath','key','writeStore','567252ASdcoI','tor','estamp','error','t/abstract','configServ','insert'];a40_0x5b32=function(){return _0x3b4cdf;};return a40_0x5b32();}a40_0x232758[a40_0x5a5a96(0x165)]=!![],Object[a40_0x5a5a96(0x146)+a40_0x5a5a96(0x137)](exports,'__esModule',a40_0x232758),exports[a40_0x5a5a96(0x138)+a40_0x5a5a96(0x15e)]=exports[a40_0x5a5a96(0x162)+'ry']=void(0x199b+-0x736*0x2+-0xb2f);const path_1=require(a40_0x5a5a96(0x149)),abstract_repository_1=require(a40_0x5a5a96(0x14f)+a40_0x5a5a96(0x170)+a40_0x5a5a96(0x159)+'y'),fs_1=require('fs');function a40_0xe845(_0x426a85,_0x320121){const _0x5e9180=a40_0x5b32();return a40_0xe845=function(_0x232758,_0x4ef0b0){_0x232758=_0x232758-(-0x13a*-0x13+0x12e1*-0x1+-0x19d*0x2);let _0x1e161c=_0x5e9180[_0x232758];return _0x1e161c;},a40_0xe845(_0x426a85,_0x320121);}class MessageQuery{}exports['MessageQue'+'ry']=MessageQuery;class MessageRepository extends abstract_repository_1[a40_0x5a5a96(0x173)]{constructor(_0x21070d,_0x462d4a){const _0x1ffac3=a40_0x5a5a96;super(_0x462d4a),this['messageMod'+'el']=_0x21070d,this[_0x1ffac3(0x171)+_0x1ffac3(0x166)]=_0x462d4a;}[a40_0x5a5a96(0x172)](_0x7f013b,_0x6168dc=![]){return __awaiter(this,void(0x5e9+0xc9c+-0x1af*0xb),void(-0xef*0x17+-0x400*-0x8+0x1*-0xa87),function*(){const _0x5c212f=a40_0xe845;if(_0x7f013b[_0x5c212f(0x163)]===-0xac6+-0x2a5*0x1+0x479*0x3)return;try{if(this['dbSettings'][_0x5c212f(0x148)]&&_0x6168dc){const _0x2efd92=yield this['messageMod'+'el'][_0x5c212f(0x13b)]([..._0x7f013b]),_0x1a2ad5={};return _0x1a2ad5[_0x5c212f(0x152)+'t']=_0x2efd92[_0x5c212f(0x163)],_0x1a2ad5;}if(_0x6168dc){_0x7f013b[_0x5c212f(0x178)](_0x451057=>this[_0x5c212f(0x16b)]({'path':(0x2187+0x3*0xa0d+-0x3fae,path_1[_0x5c212f(0x153)])(this[_0x5c212f(0x169)],_0x5c212f(0x14e),_0x451057['owner']),'fileName':_0x451057[_0x5c212f(0x16a)]['id'],'data':_0x451057}));const _0x53f6db={};return _0x53f6db[_0x5c212f(0x152)+'t']=_0x7f013b['length'],_0x53f6db;}const _0x4cdc52={};return _0x4cdc52[_0x5c212f(0x152)+'t']=0x0,_0x4cdc52;}catch(_0x445d38){return console['log'](_0x5c212f(0x14a),_0x445d38),_0x445d38;}finally{_0x7f013b=undefined;}});}[a40_0x5a5a96(0x174)](_0x510c7b){var _0x19ffc7,_0x4737f1,_0x157fe5,_0x5e9a05,_0xd13a0f,_0x2c1de8,_0x13de9f,_0x21ff30,_0x3913dd,_0x1f1cc8;return __awaiter(this,void(-0x7d7+-0x593+0xd6a),void(0x3*0x925+-0x64+-0x1b0b),function*(){const _0x30768c=a40_0xe845;try{if(this[_0x30768c(0x167)][_0x30768c(0x148)]){if((_0xd13a0f=_0x510c7b===null||_0x510c7b===void(0x3af*0x3+0xc*0xef+-0x1641)?void(-0x23ba+-0x1*0x2033+0x43ed):_0x510c7b[_0x30768c(0x157)])===null||_0xd13a0f===void(0x50e*-0x4+-0x156a+-0x29a2*-0x1)?void(-0x1*0x12cd+0x82c+0x3*0x38b):_0xd13a0f[_0x30768c(0x16a)]){for(const [_0x306dd8,_0x149e59]of Object[_0x30768c(0x175)](_0x510c7b['where'][_0x30768c(0x16a)])){_0x510c7b[_0x30768c(0x157)][_0x30768c(0x15b)+_0x306dd8]=_0x149e59;}(_0x2c1de8=_0x510c7b===null||_0x510c7b===void(-0x761+-0xb5c+0x3*0x63f)?void(-0x3ec+-0x763+-0x5*-0x243):_0x510c7b[_0x30768c(0x157)])===null||_0x2c1de8===void(-0x2013+-0xabf*-0x1+0xd2*0x1a)?!![]:delete _0x2c1de8[_0x30768c(0x16a)];}const _0x991079={};return _0x991079[_0x30768c(0x177)+'estamp']=-(0x19b*0xf+0x14d1*0x1+0x2ce5*-0x1),yield this[_0x30768c(0x155)+'el']['find'](Object[_0x30768c(0x164)]({},_0x510c7b[_0x30768c(0x157)]))[_0x30768c(0x139)](_0x991079)[_0x30768c(0x136)]((_0x13de9f=_0x510c7b===null||_0x510c7b===void(0x44a*-0x6+-0x19c1*-0x1+-0x5)?void(0x5*-0x48f+-0x10e8*-0x1+0xb*0x89):_0x510c7b[_0x30768c(0x136)])!==null&&_0x13de9f!==void(-0xaab+0x2a2*-0x5+0x17d5)?_0x13de9f:0xb6*0x27+-0x9*0xf7+-0x1*0x130b);}const _0x26b65f=[];if((_0x3913dd=(_0x21ff30=_0x510c7b===null||_0x510c7b===void(0x12*0x17f+-0x1*-0x1c17+-0x3705)?void(0x1cd9+0x2339+0x76*-0x8b):_0x510c7b['where'])===null||_0x21ff30===void(0xe*-0xf+0x54d*0x1+-0x47b)?void(0x2148+-0x2*0xa9a+-0x4*0x305):_0x21ff30[_0x30768c(0x16a)])===null||_0x3913dd===void(0xd*-0x1ec+-0x1*-0x1d7d+-0x481)?void(0x1c68+-0xdf5+-0x89*0x1b):_0x3913dd['id']){const _0x3d5491={};_0x3d5491['encoding']=_0x30768c(0x144),_0x26b65f['push'](JSON[_0x30768c(0x140)]((-0x1aa0+0x3*0x5f1+0x8cd,fs_1[_0x30768c(0x133)+'nc'])((0x1df*0x10+-0x528+0xf4*-0x1a,path_1[_0x30768c(0x153)])(this[_0x30768c(0x169)],_0x30768c(0x14e),_0x510c7b[_0x30768c(0x157)][_0x30768c(0x168)],_0x510c7b[_0x30768c(0x157)]['key']['id']+'.json'),_0x3d5491)));}else{const _0x4aacbe={};_0x4aacbe['encoding']=_0x30768c(0x144);const _0x41991c=(-0x2*0xb55+0xb7*-0x1e+-0x2c1c*-0x1,fs_1[_0x30768c(0x13d)+'c'])((0x1ae2+-0x15a6+0x43*-0x14,path_1['join'])(this[_0x30768c(0x169)],_0x30768c(0x14e),_0x510c7b['where'][_0x30768c(0x168)]),_0x4aacbe);try{for(var _0x4030fa=!![],_0x3c94f8=__asyncValues(_0x41991c),_0x1d4ced;_0x1d4ced=yield _0x3c94f8[_0x30768c(0x158)](),_0x19ffc7=_0x1d4ced[_0x30768c(0x156)],!_0x19ffc7;){_0x5e9a05=_0x1d4ced['value'],_0x4030fa=![];try{const _0x78430a=_0x5e9a05;if(_0x78430a[_0x30768c(0x15f)]()){const _0x4c6511={};_0x4c6511[_0x30768c(0x13f)]=_0x30768c(0x144),_0x26b65f[_0x30768c(0x15a)](JSON[_0x30768c(0x140)]((-0x69d*-0x3+-0x835+0xba2*-0x1,fs_1['readFileSy'+'nc'])((0xd68*-0x2+0x57f+0x1551,path_1[_0x30768c(0x153)])(this[_0x30768c(0x169)],_0x30768c(0x14e),_0x510c7b[_0x30768c(0x157)][_0x30768c(0x168)],_0x78430a[_0x30768c(0x15d)]),_0x4c6511)));}}finally{_0x4030fa=!![];}}}catch(_0x5d79cb){const _0x50cb19={};_0x50cb19[_0x30768c(0x16f)]=_0x5d79cb,_0x4737f1=_0x50cb19;}finally{try{if(!_0x4030fa&&!_0x19ffc7&&(_0x157fe5=_0x3c94f8[_0x30768c(0x179)]))yield _0x157fe5['call'](_0x3c94f8);}finally{if(_0x4737f1)throw _0x4737f1[_0x30768c(0x16f)];}}}return _0x26b65f[_0x30768c(0x139)]((_0x1c7f35,_0x20e528)=>{const _0x358842=_0x30768c;return _0x20e528['messageTim'+_0x358842(0x16e)]-_0x1c7f35[_0x358842(0x177)+_0x358842(0x16e)];})[_0x30768c(0x135)](-0x1*-0x20d1+-0x33*-0x2e+-0x29fb,(_0x1f1cc8=_0x510c7b===null||_0x510c7b===void(0x207c+-0x1c*-0xc3+-0x150*0x29)?void(0x17*0x1a5+0x1*-0x67d+0xa72*-0x3):_0x510c7b[_0x30768c(0x136)])!==null&&_0x1f1cc8!==void(-0x5*-0x757+0x2507+0x49ba*-0x1)?_0x1f1cc8:_0x26b65f[_0x30768c(0x163)]);}catch(_0x1f95a1){return[];}});}}exports[a40_0x5a5a96(0x138)+a40_0x5a5a96(0x15e)]=MessageRepository;