'use strict';const a39_0x5ded88=a39_0x220d;(function(_0x118463,_0x58e8ae){const _0x63e2ee=a39_0x220d,_0x1be76e=_0x118463();while(!![]){try{const _0x1ffd63=parseInt(_0x63e2ee(0xc4))/(-0xbaf+-0x2404*0x1+0x2fb4)*(parseInt(_0x63e2ee(0xb0))/(0x21e5+-0x2511+0x2*0x197))+parseInt(_0x63e2ee(0xa3))/(0x1b8c+-0x3ba+-0x73*0x35)*(-parseInt(_0x63e2ee(0xaa))/(0x130d*-0x1+-0x10f9+0x240a))+-parseInt(_0x63e2ee(0xad))/(0x6ae+-0x1*0x73a+0x91)*(parseInt(_0x63e2ee(0x9b))/(-0x1892+-0x2228+0x3ac0))+parseInt(_0x63e2ee(0xd7))/(-0x4*0x362+-0x22ed*-0x1+-0x155e)*(-parseInt(_0x63e2ee(0xb1))/(0x4*0x373+0xfb*0xc+-0x1988))+-parseInt(_0x63e2ee(0xba))/(-0x53f*-0x7+-0x9e6+-0x1aca)+parseInt(_0x63e2ee(0xbd))/(0x3*0xbb8+-0xb+-0x2313)+parseInt(_0x63e2ee(0xae))/(0x7*0x31+-0x5f3*-0x2+-0x1*0xd32);if(_0x1ffd63===_0x58e8ae)break;else _0x1be76e['push'](_0x1be76e['shift']());}catch(_0x211f70){_0x1be76e['push'](_0x1be76e['shift']());}}}(a39_0x479e,0x2*-0x2842+0x1*0x15cd1c+-0x780a3));var __awaiter=this&&this[a39_0x5ded88(0xce)]||function(_0x1722b7,_0x59ad39,_0x3fdbcc,_0xf02ec8){function _0x1dd232(_0x3040ad){return _0x3040ad instanceof _0x3fdbcc?_0x3040ad:new _0x3fdbcc(function(_0x19784a){_0x19784a(_0x3040ad);});}return new(_0x3fdbcc||(_0x3fdbcc=Promise))(function(_0x36d492,_0x1e2b09){const _0x567c7f=a39_0x220d;function _0x3dd4dc(_0x5e1b1d){const _0x28a22b=a39_0x220d;try{_0x1630f4(_0xf02ec8[_0x28a22b(0xa6)](_0x5e1b1d));}catch(_0x55eea3){_0x1e2b09(_0x55eea3);}}function _0x5f6945(_0x1fa9cb){const _0x15a000=a39_0x220d;try{_0x1630f4(_0xf02ec8[_0x15a000(0xbc)](_0x1fa9cb));}catch(_0x4db9a7){_0x1e2b09(_0x4db9a7);}}function _0x1630f4(_0x59c485){const _0x530cff=a39_0x220d;_0x59c485[_0x530cff(0xa9)]?_0x36d492(_0x59c485['value']):_0x1dd232(_0x59c485['value'])[_0x530cff(0xb9)](_0x3dd4dc,_0x5f6945);}_0x1630f4((_0xf02ec8=_0xf02ec8[_0x567c7f(0xbe)](_0x1722b7,_0x59ad39||[]))['next']());});},__asyncValues=this&&this[a39_0x5ded88(0xab)+'ues']||function(_0x443ccb){const _0x362238=a39_0x5ded88;if(!Symbol['asyncItera'+'tor'])throw new TypeError('Symbol.asy'+_0x362238(0xd2)+'\x20is\x20not\x20de'+'fined.');var _0x2117ae=_0x443ccb[Symbol[_0x362238(0xb2)+_0x362238(0xa2)]],_0x157a93;return _0x2117ae?_0x2117ae[_0x362238(0xc5)](_0x443ccb):(_0x443ccb=typeof __values===_0x362238(0xc8)?__values(_0x443ccb):_0x443ccb[Symbol[_0x362238(0x9e)]](),_0x157a93={},_0xfb9a79(_0x362238(0xa6)),_0xfb9a79(_0x362238(0xbc)),_0xfb9a79(_0x362238(0xa4)),_0x157a93[Symbol[_0x362238(0xb2)+_0x362238(0xa2)]]=function(){return this;},_0x157a93);function _0xfb9a79(_0x3a0777){_0x157a93[_0x3a0777]=_0x443ccb[_0x3a0777]&&function(_0x373675){return new Promise(function(_0x4c2de5,_0x25fb41){const _0x21b79c=a39_0x220d;_0x373675=_0x443ccb[_0x3a0777](_0x373675),_0x3e60e3(_0x4c2de5,_0x25fb41,_0x373675[_0x21b79c(0xa9)],_0x373675[_0x21b79c(0xa0)]);});};}function _0x3e60e3(_0x10eb3f,_0x1f81d6,_0x1e4c2e,_0x539706){const _0x27f158=_0x362238;Promise['resolve'](_0x539706)[_0x27f158(0xb9)](function(_0xedcfe1){const _0x1678a8=_0x27f158,_0x50bb20={};_0x50bb20['value']=_0xedcfe1,_0x50bb20[_0x1678a8(0xa9)]=_0x1e4c2e,_0x10eb3f(_0x50bb20);},_0x1f81d6);}};const a39_0x12caf3={};a39_0x12caf3[a39_0x5ded88(0xa0)]=!![],Object[a39_0x5ded88(0xb5)+'erty'](exports,a39_0x5ded88(0xc7),a39_0x12caf3),exports['ChatReposi'+a39_0x5ded88(0xd3)]=exports['ChatQuery']=void(0x1b*-0x65+-0x3*0xaea+-0x17*-0x1e3);const path_1=require('path'),abstract_repository_1=require(a39_0x5ded88(0xb3)+'t/abstract'+'.repositor'+'y'),fs_1=require('fs');function a39_0x220d(_0x3d15bb,_0x58e65d){const _0x820f13=a39_0x479e();return a39_0x220d=function(_0x5eae43,_0x12caf3){_0x5eae43=_0x5eae43-(-0x4*0x121+-0x3*-0x9a3+-0x17ca);let _0x22afcf=_0x820f13[_0x5eae43];return _0x22afcf;},a39_0x220d(_0x3d15bb,_0x58e65d);}class ChatQuery{}exports[a39_0x5ded88(0xd0)]=ChatQuery;class ChatRepository extends abstract_repository_1['Repository']{constructor(_0x46d07c,_0x1bcaac){const _0x2d53c4=a39_0x5ded88;super(_0x1bcaac),this['chatModel']=_0x46d07c,this[_0x2d53c4(0xa1)+_0x2d53c4(0xc2)]=_0x1bcaac;}['insert'](_0x491480,_0x68e922=![]){return __awaiter(this,void(-0x838*-0x1+-0x451*0x2+0x6a),void(0x35+-0x1ebe+0x1e89*0x1),function*(){const _0x2c12ab=a39_0x220d;if(_0x491480[_0x2c12ab(0xa5)]===-0x330+-0x1807+0x1b37)return;try{if(this[_0x2c12ab(0xc6)][_0x2c12ab(0xbf)]&&_0x68e922){const _0x2a8fa6=yield this[_0x2c12ab(0xca)][_0x2c12ab(0xcd)]([..._0x491480]),_0x3ed44f={};return _0x3ed44f[_0x2c12ab(0xaf)+'t']=_0x2a8fa6[_0x2c12ab(0xa5)],_0x3ed44f;}_0x491480[_0x2c12ab(0xc1)](_0x2eb339=>{const _0x5b97dd=_0x2c12ab;this[_0x5b97dd(0xc0)]({'path':(-0x2f1*-0xc+0x14b9+-0x1*0x3805,path_1['join'])(this[_0x5b97dd(0xd6)],_0x5b97dd(0x9d),_0x2eb339[_0x5b97dd(0xb4)]),'fileName':_0x2eb339['id'],'data':_0x2eb339});});const _0x1a2630={};return _0x1a2630['insertCoun'+'t']=_0x491480[_0x2c12ab(0xa5)],_0x1a2630;}catch(_0x1729d2){return _0x1729d2;}finally{_0x491480=undefined;}});}['find'](_0x15d22b){var _0x3f4176,_0x25dc9c,_0x431c03,_0x1c7de9;return __awaiter(this,void(-0xb*-0x296+0x156e*-0x1+0x2*-0x382),void(-0x1*0x832+-0x1388*0x1+0x1bba),function*(){const _0x305680=a39_0x220d;try{if(this[_0x305680(0xc6)]['ENABLED']){const _0x194d91={};return _0x194d91[_0x305680(0xb4)]=_0x15d22b[_0x305680(0xcf)]['owner'],yield this['chatModel'][_0x305680(0xac)](_0x194d91);}const _0x77dc03=[],_0x410b5d=(-0x2063+0x245f+-0x3fc,fs_1[_0x305680(0xbb)+'c'])((-0xaae+-0xc2*0x1e+0x216a,path_1[_0x305680(0xb6)])(this['storePath'],_0x305680(0x9d),_0x15d22b['where'][_0x305680(0xb4)]));try{for(var _0x615802=!![],_0x37506c=__asyncValues(_0x410b5d),_0x53982f;_0x53982f=yield _0x37506c[_0x305680(0xa6)](),_0x3f4176=_0x53982f[_0x305680(0xa9)],!_0x3f4176;){_0x1c7de9=_0x53982f[_0x305680(0xa0)],_0x615802=![];try{const _0xb770d8=_0x1c7de9;if(_0xb770d8[_0x305680(0xa7)]()){const _0x143a13={};_0x143a13['encoding']='utf-8',_0x77dc03[_0x305680(0xd1)](JSON['parse']((0x8*0x1bc+-0x845+0x59b*-0x1,fs_1[_0x305680(0xd5)+'nc'])((-0x6*-0xdf+0x439+-0x973,path_1[_0x305680(0xb6)])(this[_0x305680(0xd6)],_0x305680(0x9d),_0x15d22b[_0x305680(0xcf)][_0x305680(0xb4)],_0xb770d8[_0x305680(0xb8)]),_0x143a13)));}}finally{_0x615802=!![];}}}catch(_0x19066b){const _0x220759={};_0x220759[_0x305680(0xb7)]=_0x19066b,_0x25dc9c=_0x220759;}finally{try{if(!_0x615802&&!_0x3f4176&&(_0x431c03=_0x37506c[_0x305680(0xa4)]))yield _0x431c03[_0x305680(0xc5)](_0x37506c);}finally{if(_0x25dc9c)throw _0x25dc9c[_0x305680(0xb7)];}}return _0x77dc03;}catch(_0x597443){return[];}});}[a39_0x5ded88(0xcb)](_0x1f3d9a){return __awaiter(this,void(-0x1*0x358+0x90b+-0x5b3),void(-0x31*0x12+0xd*-0x2+0x2*0x1c6),function*(){const _0x12d9ea=a39_0x220d;try{if(this['dbSettings'][_0x12d9ea(0xbf)])return yield this[_0x12d9ea(0xca)][_0x12d9ea(0xcc)](Object['assign']({},_0x1f3d9a[_0x12d9ea(0xcf)]));const _0x2a67d0={};_0x2a67d0[_0x12d9ea(0xc3)]=!![],_0x2a67d0[_0x12d9ea(0xc9)]=!![],(0xd6*-0x19+-0x5b0+0x1a96,fs_1[_0x12d9ea(0x9f)])((0x178b+-0xd6*-0x10+-0x2d7*0xd,path_1[_0x12d9ea(0xb6)])(this[_0x12d9ea(0xd6)],_0x12d9ea(0x9d),_0x1f3d9a[_0x12d9ea(0xcf)][_0x12d9ea(0xb4)],_0x1f3d9a['where']['id']+'.josn'),_0x2a67d0);const _0x3eecc0={};_0x3eecc0['chatId']=_0x1f3d9a[_0x12d9ea(0xcf)]['id'];const _0x547e93={};return _0x547e93[_0x12d9ea(0x9c)]=_0x3eecc0,_0x547e93;}catch(_0x1e57e7){return{'error':_0x1e57e7===null||_0x1e57e7===void(-0xf4a+-0x4*0x633+0x2816)?void(0x2318+-0xa0f+0x1909*-0x1):_0x1e57e7[_0x12d9ea(0xd4)]()};}});}}exports[a39_0x5ded88(0xa8)+a39_0x5ded88(0xd3)]=ChatRepository;function a39_0x479e(){const _0x127fa3=['6687891zoktLw','114OlMxnt','deleted','chats','iterator','rmSync','value','configServ','tor','4056027KEjoby','return','length','next','isFile','ChatReposi','done','4gRHTSy','__asyncVal','find','256055uUkDwg','38524112gbXQps','insertCoun','47446aUgOjD','8GioAvU','asyncItera','../abstrac','owner','defineProp','join','error','name','then','14329071GPaGIk','opendirSyn','throw','17649210VQOJug','apply','ENABLED','writeStore','forEach','ice','force','22BsTnhQ','call','dbSettings','__esModule','function','recursive','chatModel','delete','deleteOne','insertMany','__awaiter','where','ChatQuery','push','ncIterator','tory','toString','readFileSy','storePath'];a39_0x479e=function(){return _0x127fa3;};return a39_0x479e();}