'use strict';const a39_0x4ac506=a39_0x59a0;(function(_0x21ceb4,_0x378896){const _0x462936=a39_0x59a0,_0x479152=_0x21ceb4();while(!![]){try{const _0x328971=parseInt(_0x462936(0x169))/(0x14bf+0xe84+-0x2342)+parseInt(_0x462936(0x168))/(0x14bb+0x21d0+-0x3689)+-parseInt(_0x462936(0x13f))/(0x86+-0x6b*0x25+0xef4)*(-parseInt(_0x462936(0x141))/(-0x26a2+0xfe*0x6+0x20b2))+parseInt(_0x462936(0x16e))/(0x44a*-0x6+-0x1*0x15ce+0x2f8f)+parseInt(_0x462936(0x145))/(0x1e8a+-0x1ab4*0x1+-0x1*0x3d0)*(-parseInt(_0x462936(0x154))/(-0x1*-0x7d5+-0x76f*-0x1+-0xf3d))+-parseInt(_0x462936(0x143))/(0xc4d+0x99*-0x3+-0xa7a)+parseInt(_0x462936(0x136))/(-0x1242+-0x2a3*-0xa+0x35*-0x27);if(_0x328971===_0x378896)break;else _0x479152['push'](_0x479152['shift']());}catch(_0x2a3edd){_0x479152['push'](_0x479152['shift']());}}}(a39_0x32d1,0xd0f*-0x4+0x7978e+0x3*-0x1273f));function a39_0x59a0(_0x27bbe2,_0x39b502){const _0x27f0a3=a39_0x32d1();return a39_0x59a0=function(_0x1616bc,_0x46a5f2){_0x1616bc=_0x1616bc-(0x1330*0x2+-0x1c00+-0x92b*0x1);let _0x2dce20=_0x27f0a3[_0x1616bc];return _0x2dce20;},a39_0x59a0(_0x27bbe2,_0x39b502);}function a39_0x32d1(){const _0x37d80a=['value','done','path','return','fined.','tor','7aYwZID','insertCoun','deleteOne','deleted','insert','length','opendirSyn','iterator','encoding','.josn','.repositor','__asyncVal','owner','../abstrac','find','\x20is\x20not\x20de','throw','insertMany','ENABLED','dbSettings','785036VWtMVO','127015MLtJyR','chatId','ice','apply','where','158870vcnmjg','ncIterator','storePath','isFile','ChatReposi','ues','2983950XfqcyH','then','force','Symbol.asy','error','ChatQuery','parse','call','forEach','531207VhVCcl','resolve','4pnLUCP','configServ','3994880uJihiq','Repository','1818822OARhkt','asyncItera','join','recursive','erty','next','chatModel','assign','chats'];a39_0x32d1=function(){return _0x37d80a;};return a39_0x32d1();}var __awaiter=this&&this['__awaiter']||function(_0x2a86fe,_0xbc0aed,_0x2793b6,_0x2ac80c){function _0x548885(_0x198ec6){return _0x198ec6 instanceof _0x2793b6?_0x198ec6:new _0x2793b6(function(_0x5505c7){_0x5505c7(_0x198ec6);});}return new(_0x2793b6||(_0x2793b6=Promise))(function(_0x114fc2,_0x4884fb){const _0x34bf5e=a39_0x59a0;function _0x2127be(_0x11e692){const _0x3177f1=a39_0x59a0;try{_0x232053(_0x2ac80c[_0x3177f1(0x14a)](_0x11e692));}catch(_0x431104){_0x4884fb(_0x431104);}}function _0x367692(_0xa16d05){const _0x416191=a39_0x59a0;try{_0x232053(_0x2ac80c[_0x416191(0x164)](_0xa16d05));}catch(_0x735187){_0x4884fb(_0x735187);}}function _0x232053(_0x451603){const _0x2e5436=a39_0x59a0;_0x451603[_0x2e5436(0x14f)]?_0x114fc2(_0x451603[_0x2e5436(0x14e)]):_0x548885(_0x451603['value'])[_0x2e5436(0x137)](_0x2127be,_0x367692);}_0x232053((_0x2ac80c=_0x2ac80c[_0x34bf5e(0x16c)](_0x2a86fe,_0xbc0aed||[]))[_0x34bf5e(0x14a)]());});},__asyncValues=this&&this[a39_0x4ac506(0x15f)+a39_0x4ac506(0x135)]||function(_0x2bd4de){const _0x33bca3=a39_0x4ac506;if(!Symbol[_0x33bca3(0x146)+'tor'])throw new TypeError(_0x33bca3(0x139)+_0x33bca3(0x16f)+_0x33bca3(0x163)+_0x33bca3(0x152));var _0x30f808=_0x2bd4de[Symbol[_0x33bca3(0x146)+_0x33bca3(0x153)]],_0x1e38e5;return _0x30f808?_0x30f808[_0x33bca3(0x13d)](_0x2bd4de):(_0x2bd4de=typeof __values==='function'?__values(_0x2bd4de):_0x2bd4de[Symbol[_0x33bca3(0x15b)]](),_0x1e38e5={},_0x449274(_0x33bca3(0x14a)),_0x449274('throw'),_0x449274('return'),_0x1e38e5[Symbol[_0x33bca3(0x146)+_0x33bca3(0x153)]]=function(){return this;},_0x1e38e5);function _0x449274(_0x3164db){_0x1e38e5[_0x3164db]=_0x2bd4de[_0x3164db]&&function(_0x6a483e){return new Promise(function(_0x2e8e03,_0x58a53a){const _0x52bad0=a39_0x59a0;_0x6a483e=_0x2bd4de[_0x3164db](_0x6a483e),_0xf3f06f(_0x2e8e03,_0x58a53a,_0x6a483e[_0x52bad0(0x14f)],_0x6a483e[_0x52bad0(0x14e)]);});};}function _0xf3f06f(_0x4d303f,_0x4d9d12,_0x48cbc6,_0x5c8a69){const _0x5e5dbf=_0x33bca3;Promise[_0x5e5dbf(0x140)](_0x5c8a69)[_0x5e5dbf(0x137)](function(_0x520e2a){const _0x52fce7=_0x5e5dbf,_0xa5cf89={};_0xa5cf89[_0x52fce7(0x14e)]=_0x520e2a,_0xa5cf89['done']=_0x48cbc6,_0x4d303f(_0xa5cf89);},_0x4d9d12);}};const a39_0x46a5f2={};a39_0x46a5f2[a39_0x4ac506(0x14e)]=!![],Object['defineProp'+a39_0x4ac506(0x149)](exports,'__esModule',a39_0x46a5f2),exports[a39_0x4ac506(0x172)+'tory']=exports['ChatQuery']=void(-0x18b+0x21c1*-0x1+0xbc4*0x3);const path_1=require(a39_0x4ac506(0x150)),abstract_repository_1=require(a39_0x4ac506(0x161)+'t/abstract'+a39_0x4ac506(0x15e)+'y'),fs_1=require('fs');class ChatQuery{}exports[a39_0x4ac506(0x13b)]=ChatQuery;class ChatRepository extends abstract_repository_1[a39_0x4ac506(0x144)]{constructor(_0x5f05c0,_0x577e08){const _0x5e93b5=a39_0x4ac506;super(_0x577e08),this[_0x5e93b5(0x14b)]=_0x5f05c0,this[_0x5e93b5(0x142)+_0x5e93b5(0x16b)]=_0x577e08;}[a39_0x4ac506(0x158)](_0x2f5a01,_0x50a93b=![]){return __awaiter(this,void(-0x13*0x16e+-0x1dd7+0x3901),void(0x840+-0x17c5*0x1+0xf85),function*(){const _0x2c793f=a39_0x59a0;if(_0x2f5a01[_0x2c793f(0x159)]===0x47*0x83+0xb73*-0x1+-0x27d*0xa)return;try{if(this[_0x2c793f(0x167)][_0x2c793f(0x166)]&&_0x50a93b){const _0x56843c=yield this[_0x2c793f(0x14b)][_0x2c793f(0x165)]([..._0x2f5a01]),_0x442311={};return _0x442311[_0x2c793f(0x155)+'t']=_0x56843c[_0x2c793f(0x159)],_0x442311;}_0x2f5a01[_0x2c793f(0x13e)](_0x316ff4=>{const _0x1ecfa8=_0x2c793f;this['writeStore']({'path':(-0x1bb3+0x1dc8*-0x1+0x397b,path_1[_0x1ecfa8(0x147)])(this[_0x1ecfa8(0x170)],_0x1ecfa8(0x14d),_0x316ff4[_0x1ecfa8(0x160)]),'fileName':_0x316ff4['id'],'data':_0x316ff4});});const _0x5af7ec={};return _0x5af7ec[_0x2c793f(0x155)+'t']=_0x2f5a01[_0x2c793f(0x159)],_0x5af7ec;}catch(_0x547752){return _0x547752;}finally{_0x2f5a01=undefined;}});}[a39_0x4ac506(0x162)](_0x37883e){var _0x2c53db,_0x2e8c7c,_0x12aa36,_0x530341;return __awaiter(this,void(-0x3*-0x44e+0x9f5+0x5*-0x493),void(0x1*0x21cb+0xd*-0x22a+-0x5a9),function*(){const _0x3c9111=a39_0x59a0;try{if(this[_0x3c9111(0x167)]['ENABLED']){const _0x35d898={};return _0x35d898['owner']=_0x37883e[_0x3c9111(0x16d)][_0x3c9111(0x160)],yield this[_0x3c9111(0x14b)][_0x3c9111(0x162)](_0x35d898);}const _0xf51a7a=[],_0x5aa906=(0x120+0x42*0x1a+0xa7*-0xc,fs_1[_0x3c9111(0x15a)+'c'])((-0x448*0x7+-0x89c+-0x4*-0x9a5,path_1[_0x3c9111(0x147)])(this['storePath'],_0x3c9111(0x14d),_0x37883e['where']['owner']));try{for(var _0x2f768d=!![],_0x232536=__asyncValues(_0x5aa906),_0x52aa01;_0x52aa01=yield _0x232536[_0x3c9111(0x14a)](),_0x2c53db=_0x52aa01['done'],!_0x2c53db;){_0x530341=_0x52aa01[_0x3c9111(0x14e)],_0x2f768d=![];try{const _0x4a4427=_0x530341;if(_0x4a4427[_0x3c9111(0x171)]()){const _0x2a61e6={};_0x2a61e6[_0x3c9111(0x15c)]='utf-8',_0xf51a7a['push'](JSON[_0x3c9111(0x13c)]((0x24ae+-0x130*0x3+-0x585*0x6,fs_1['readFileSy'+'nc'])((0x1*-0x1f3a+0xdd1+0x1169*0x1,path_1[_0x3c9111(0x147)])(this[_0x3c9111(0x170)],'chats',_0x37883e[_0x3c9111(0x16d)]['owner'],_0x4a4427['name']),_0x2a61e6)));}}finally{_0x2f768d=!![];}}}catch(_0x16a7f2){const _0x1ece89={};_0x1ece89[_0x3c9111(0x13a)]=_0x16a7f2,_0x2e8c7c=_0x1ece89;}finally{try{if(!_0x2f768d&&!_0x2c53db&&(_0x12aa36=_0x232536[_0x3c9111(0x151)]))yield _0x12aa36[_0x3c9111(0x13d)](_0x232536);}finally{if(_0x2e8c7c)throw _0x2e8c7c[_0x3c9111(0x13a)];}}return _0xf51a7a;}catch(_0x2940c0){return[];}});}['delete'](_0x2382ef){return __awaiter(this,void(-0xa80+-0x198+-0x408*-0x3),void(0x6*0x7a+-0x6f2+0x416),function*(){const _0x29e177=a39_0x59a0;try{if(this[_0x29e177(0x167)]['ENABLED'])return yield this[_0x29e177(0x14b)][_0x29e177(0x156)](Object[_0x29e177(0x14c)]({},_0x2382ef[_0x29e177(0x16d)]));const _0x171167={};_0x171167[_0x29e177(0x138)]=!![],_0x171167[_0x29e177(0x148)]=!![],(0x137c+0x2*-0xca+-0x11e8,fs_1['rmSync'])((-0x85c+-0x1041+0x189d,path_1[_0x29e177(0x147)])(this[_0x29e177(0x170)],_0x29e177(0x14d),_0x2382ef[_0x29e177(0x16d)][_0x29e177(0x160)],_0x2382ef[_0x29e177(0x16d)]['id']+_0x29e177(0x15d)),_0x171167);const _0x5bb969={};_0x5bb969[_0x29e177(0x16a)]=_0x2382ef[_0x29e177(0x16d)]['id'];const _0x311757={};return _0x311757[_0x29e177(0x157)]=_0x5bb969,_0x311757;}catch(_0x355db1){return{'error':_0x355db1===null||_0x355db1===void(-0x1e49+-0x1004+0x2e4d)?void(-0x21a2+-0x1493+-0x1*-0x3635):_0x355db1['toString']()};}});}}exports[a39_0x4ac506(0x172)+'tory']=ChatRepository;