'use strict';const a39_0x4d19d0=a39_0x5f1c;(function(_0x4f624e,_0x47b90a){const _0x434434=a39_0x5f1c,_0x410e49=_0x4f624e();while(!![]){try{const _0x2ab078=-parseInt(_0x434434(0x110))/(-0xe1+0x3*-0xc75+0x2641)*(-parseInt(_0x434434(0xe9))/(0x62*0x3f+0x1425*-0x1+-0x23*0x1d))+-parseInt(_0x434434(0x105))/(-0x102b+0xd6f+-0x13*-0x25)*(parseInt(_0x434434(0x119))/(-0x13*0xb1+-0x93a+0x1661))+-parseInt(_0x434434(0xe0))/(0xca5*-0x3+0x23ba+0xa*0x39)+-parseInt(_0x434434(0xf4))/(-0x153+0x1*-0x129b+0x13f4)*(parseInt(_0x434434(0x104))/(-0x384*0x6+0x51*-0x5c+0x491*0xb))+parseInt(_0x434434(0xef))/(-0x1982+0xfe8+-0x4d1*-0x2)+parseInt(_0x434434(0x10c))/(0x19*0x4+-0xc45+-0xbea*-0x1)*(-parseInt(_0x434434(0x10a))/(0x1aec+0x17d1+-0x32b3))+parseInt(_0x434434(0xf8))/(-0xfad+-0x2129+0x30e1)*(parseInt(_0x434434(0x10d))/(-0x1bf*0x6+-0x1aef+-0x2b*-0xdf));if(_0x2ab078===_0x47b90a)break;else _0x410e49['push'](_0x410e49['shift']());}catch(_0x33a5f0){_0x410e49['push'](_0x410e49['shift']());}}}(a39_0x4bd1,-0x1e9a9+0x1*-0x64a21+0xb848b));var __awaiter=this&&this['__awaiter']||function(_0x172bbd,_0x4755f4,_0x444ef8,_0x227d37){function _0x1a4072(_0x13bc0e){return _0x13bc0e instanceof _0x444ef8?_0x13bc0e:new _0x444ef8(function(_0x5d2711){_0x5d2711(_0x13bc0e);});}return new(_0x444ef8||(_0x444ef8=Promise))(function(_0x28c1bd,_0x78484f){const _0x449022=a39_0x5f1c;function _0x3a681b(_0x2a2c00){try{_0x2482ea(_0x227d37['next'](_0x2a2c00));}catch(_0x1682d6){_0x78484f(_0x1682d6);}}function _0x1ce5a6(_0x4dac16){const _0x5b91d3=a39_0x5f1c;try{_0x2482ea(_0x227d37[_0x5b91d3(0xe8)](_0x4dac16));}catch(_0x1aac26){_0x78484f(_0x1aac26);}}function _0x2482ea(_0x464de5){const _0x40f5ec=a39_0x5f1c;_0x464de5[_0x40f5ec(0xe2)]?_0x28c1bd(_0x464de5[_0x40f5ec(0x115)]):_0x1a4072(_0x464de5[_0x40f5ec(0x115)])[_0x40f5ec(0xda)](_0x3a681b,_0x1ce5a6);}_0x2482ea((_0x227d37=_0x227d37[_0x449022(0xfe)](_0x172bbd,_0x4755f4||[]))[_0x449022(0xf0)]());});},__asyncValues=this&&this[a39_0x4d19d0(0xf5)+a39_0x4d19d0(0x106)]||function(_0x4a53fb){const _0xaa151f=a39_0x4d19d0;if(!Symbol['asyncItera'+_0xaa151f(0x10b)])throw new TypeError('Symbol.asy'+_0xaa151f(0x118)+'\x20is\x20not\x20de'+_0xaa151f(0xeb));var _0x235900=_0x4a53fb[Symbol['asyncItera'+'tor']],_0x461d2c;return _0x235900?_0x235900['call'](_0x4a53fb):(_0x4a53fb=typeof __values===_0xaa151f(0xec)?__values(_0x4a53fb):_0x4a53fb[Symbol[_0xaa151f(0xe4)]](),_0x461d2c={},_0x3b8998('next'),_0x3b8998(_0xaa151f(0xe8)),_0x3b8998(_0xaa151f(0xe1)),_0x461d2c[Symbol[_0xaa151f(0x103)+_0xaa151f(0x10b)]]=function(){return this;},_0x461d2c);function _0x3b8998(_0x5270bb){_0x461d2c[_0x5270bb]=_0x4a53fb[_0x5270bb]&&function(_0x5b5d19){return new Promise(function(_0x5cdfb6,_0x252bb3){const _0x1bb7ff=a39_0x5f1c;_0x5b5d19=_0x4a53fb[_0x5270bb](_0x5b5d19),_0x453f17(_0x5cdfb6,_0x252bb3,_0x5b5d19[_0x1bb7ff(0xe2)],_0x5b5d19['value']);});};}function _0x453f17(_0x47fcb7,_0x5c83ab,_0x5e8948,_0x21510a){const _0x19115c=_0xaa151f;Promise['resolve'](_0x21510a)[_0x19115c(0xda)](function(_0xb8c1fe){const _0x1bd33e=_0x19115c,_0x2a5997={};_0x2a5997[_0x1bd33e(0x115)]=_0xb8c1fe,_0x2a5997[_0x1bd33e(0xe2)]=_0x5e8948,_0x47fcb7(_0x2a5997);},_0x5c83ab);}};const a39_0x4a557c={};a39_0x4a557c['value']=!![],Object[a39_0x4d19d0(0x113)+a39_0x4d19d0(0xfc)](exports,a39_0x4d19d0(0x116),a39_0x4a557c),exports[a39_0x4d19d0(0x10f)+a39_0x4d19d0(0x120)]=exports[a39_0x4d19d0(0xdf)]=void(0x35b*0x1+0xdfc+-0x1157*0x1);const path_1=require(a39_0x4d19d0(0x108)),abstract_repository_1=require(a39_0x4d19d0(0xe5)+a39_0x4d19d0(0x100)+a39_0x4d19d0(0xf6)+'y'),fs_1=require('fs');class ChatQuery{}exports[a39_0x4d19d0(0xdf)]=ChatQuery;function a39_0x5f1c(_0x579bbe,_0x39ce05){const _0x176fc1=a39_0x4bd1();return a39_0x5f1c=function(_0x2636c9,_0x4a557c){_0x2636c9=_0x2636c9-(0x17e2*0x1+-0xe1f+-0x1*0x8e9);let _0x33c8e7=_0x176fc1[_0x2636c9];return _0x33c8e7;},a39_0x5f1c(_0x579bbe,_0x39ce05);}function a39_0x4bd1(){const _0x313e75=['Repository','chatModel','tory','then','assign','owner','insertCoun','insertMany','ChatQuery','143175DuevbQ','return','done','opendirSyn','iterator','../abstrac','storePath','insert','throw','4qkofwm','length','fined.','function','recursive','parse','3204184fRnKuR','next','isFile','force','ENABLED','1576284Tlitvp','__asyncVal','.repositor','ice','11djUlbg','encoding','find','configServ','erty','dbSettings','apply','delete','t/abstract','where','call','asyncItera','7sFAnXC','18QMMGWJ','ues','rmSync','path','writeStore','7640MMprjh','tor','3555WPcCTO','5570388ZrIqkL','utf-8','ChatReposi','152463MVyXmk','.josn','join','defineProp','readFileSy','value','__esModule','push','ncIterator','239492sDkQhD','forEach','deleteOne','chats','name'];a39_0x4bd1=function(){return _0x313e75;};return a39_0x4bd1();}class ChatRepository extends abstract_repository_1[a39_0x4d19d0(0x11e)]{constructor(_0x453697,_0x5789ba){const _0x17b045=a39_0x4d19d0;super(_0x5789ba),this[_0x17b045(0x11f)]=_0x453697,this[_0x17b045(0xfb)+_0x17b045(0xf7)]=_0x5789ba;}[a39_0x4d19d0(0xe7)](_0x2aeded,_0x69f28c=![]){return __awaiter(this,void(0x2*-0xc27+0x551+0x12fd),void(-0x13f7*-0x1+0x1b6*-0x6+-0x9b3),function*(){const _0x4ea538=a39_0x5f1c;if(_0x2aeded[_0x4ea538(0xea)]===-0x611+-0x4*0x97+-0x2cf*-0x3)return;try{if(this[_0x4ea538(0xfd)][_0x4ea538(0xf3)]&&_0x69f28c){const _0x20a28d=yield this['chatModel'][_0x4ea538(0xde)]([..._0x2aeded]),_0x4135e3={};return _0x4135e3[_0x4ea538(0xdd)+'t']=_0x20a28d[_0x4ea538(0xea)],_0x4135e3;}_0x2aeded[_0x4ea538(0x11a)](_0x379bda=>{const _0x201075=_0x4ea538;this[_0x201075(0x109)]({'path':(0xf*-0x9e+0x206e+-0x172c,path_1[_0x201075(0x112)])(this[_0x201075(0xe6)],_0x201075(0x11c),_0x379bda['owner']),'fileName':_0x379bda['id'],'data':_0x379bda});});const _0x594206={};return _0x594206[_0x4ea538(0xdd)+'t']=_0x2aeded['length'],_0x594206;}catch(_0x3c05c4){return _0x3c05c4;}finally{_0x2aeded=undefined;}});}[a39_0x4d19d0(0xfa)](_0x49e19b){var _0x4f2cd4,_0x32208c,_0x45c538,_0x26c703;return __awaiter(this,void(0x2*-0x3ad+-0x1*0xb1b+0x1275),void(0xdae+-0xe3b+0x2f*0x3),function*(){const _0x1272fa=a39_0x5f1c;try{if(this['dbSettings']['ENABLED']){const _0x8d47d={};return _0x8d47d[_0x1272fa(0xdc)]=_0x49e19b[_0x1272fa(0x101)][_0x1272fa(0xdc)],yield this['chatModel'][_0x1272fa(0xfa)](_0x8d47d);}const _0x2a0ed3=[],_0xbd1ac8=(0x4*-0x749+-0x1d5d+0x3a81,fs_1[_0x1272fa(0xe3)+'c'])((-0xd1c+-0x1b*-0xce+-0x89e,path_1['join'])(this[_0x1272fa(0xe6)],_0x1272fa(0x11c),_0x49e19b['where']['owner']));try{for(var _0x29a87a=!![],_0x2f9856=__asyncValues(_0xbd1ac8),_0x2d55d4;_0x2d55d4=yield _0x2f9856['next'](),_0x4f2cd4=_0x2d55d4[_0x1272fa(0xe2)],!_0x4f2cd4;){_0x26c703=_0x2d55d4['value'],_0x29a87a=![];try{const _0x40b05d=_0x26c703;if(_0x40b05d[_0x1272fa(0xf1)]()){const _0x2dc257={};_0x2dc257[_0x1272fa(0xf9)]=_0x1272fa(0x10e),_0x2a0ed3[_0x1272fa(0x117)](JSON[_0x1272fa(0xee)]((0x92b+-0xc58+-0x1*-0x32d,fs_1[_0x1272fa(0x114)+'nc'])((-0x614*0x2+0x1*-0xf9e+0x1bc6,path_1[_0x1272fa(0x112)])(this['storePath'],'chats',_0x49e19b[_0x1272fa(0x101)][_0x1272fa(0xdc)],_0x40b05d[_0x1272fa(0x11d)]),_0x2dc257)));}}finally{_0x29a87a=!![];}}}catch(_0x4235fb){const _0x2868fb={};_0x2868fb['error']=_0x4235fb,_0x32208c=_0x2868fb;}finally{try{if(!_0x29a87a&&!_0x4f2cd4&&(_0x45c538=_0x2f9856[_0x1272fa(0xe1)]))yield _0x45c538[_0x1272fa(0x102)](_0x2f9856);}finally{if(_0x32208c)throw _0x32208c['error'];}}return _0x2a0ed3;}catch(_0x355d6a){return[];}});}[a39_0x4d19d0(0xff)](_0x29405c){return __awaiter(this,void(-0xf19+-0x4*0x473+0x7*0x4b3),void(0x3*-0x194+0x88a+-0x3ce*0x1),function*(){const _0x3e58b2=a39_0x5f1c;try{if(this[_0x3e58b2(0xfd)]['ENABLED'])return yield this[_0x3e58b2(0x11f)][_0x3e58b2(0x11b)](Object[_0x3e58b2(0xdb)]({},_0x29405c[_0x3e58b2(0x101)]));const _0x5e740c={};_0x5e740c[_0x3e58b2(0xf2)]=!![],_0x5e740c[_0x3e58b2(0xed)]=!![],(0x2197*-0x1+0x11*0x14d+0xb7a,fs_1[_0x3e58b2(0x107)])((0xb6c+0x1ebb*0x1+-0x6d*0x63,path_1[_0x3e58b2(0x112)])(this[_0x3e58b2(0xe6)],'chats',_0x29405c['where'][_0x3e58b2(0xdc)],_0x29405c[_0x3e58b2(0x101)]['id']+_0x3e58b2(0x111)),_0x5e740c);const _0x13ba89={};_0x13ba89['chatId']=_0x29405c[_0x3e58b2(0x101)]['id'];const _0x20e6bd={};return _0x20e6bd['deleted']=_0x13ba89,_0x20e6bd;}catch(_0x3bd8d9){return{'error':_0x3bd8d9===null||_0x3bd8d9===void(0x11*0x1a9+-0x2401+0xf9*0x8)?void(0x9b0*-0x3+-0x65*-0x44+-0x34*-0xb):_0x3bd8d9['toString']()};}});}}exports[a39_0x4d19d0(0x10f)+a39_0x4d19d0(0x120)]=ChatRepository;