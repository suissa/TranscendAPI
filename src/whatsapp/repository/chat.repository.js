'use strict';const a38_0x5b502a=a38_0x2287;(function(_0x5244fa,_0x4926b1){const _0x350b8e=a38_0x2287,_0x19b042=_0x5244fa();while(!![]){try{const _0xa5e9de=parseInt(_0x350b8e(0x1af))/(0x1745*0x1+0xa7*0x31+-0x373b)*(parseInt(_0x350b8e(0x191))/(0x4*-0x734+-0x77*0x25+0x9*0x51d))+-parseInt(_0x350b8e(0x1b1))/(-0x1393+-0x1b7+0x29*0x85)+parseInt(_0x350b8e(0x19e))/(0x1597*0x1+0x15e0+0x2b73*-0x1)+-parseInt(_0x350b8e(0x18d))/(0x1b2d+-0x158e+-0x1*0x59a)*(-parseInt(_0x350b8e(0x1ad))/(0x83d*-0x1+0x1*-0x19a0+0x21e3))+parseInt(_0x350b8e(0x196))/(0x3d*0x66+0x1752+-0x2f99)+parseInt(_0x350b8e(0x1a6))/(0x19*0x140+0x1*-0x3bb+-0x1f*0xe3)+-parseInt(_0x350b8e(0x1ab))/(-0x18dc+-0x1*0x173b+0x3020)*(parseInt(_0x350b8e(0x18f))/(-0xb3e*-0x2+0x4*0x29f+-0x20ee));if(_0xa5e9de===_0x4926b1)break;else _0x19b042['push'](_0x19b042['shift']());}catch(_0x36dc6d){_0x19b042['push'](_0x19b042['shift']());}}}(a38_0x4eff,0x42da7+-0x3f742+0x7*0x88e9));var __awaiter=this&&this[a38_0x5b502a(0x1bd)]||function(_0x5485cb,_0x4906e8,_0x58ec89,_0x4834af){function _0x267d68(_0x358ee4){return _0x358ee4 instanceof _0x58ec89?_0x358ee4:new _0x58ec89(function(_0x4b833d){_0x4b833d(_0x358ee4);});}return new(_0x58ec89||(_0x58ec89=Promise))(function(_0x3bbf35,_0x441240){const _0x1b4b8f=a38_0x2287;function _0x46ae66(_0x36c75c){const _0x46a746=a38_0x2287;try{_0x383acf(_0x4834af[_0x46a746(0x19c)](_0x36c75c));}catch(_0xd22252){_0x441240(_0xd22252);}}function _0x5275b3(_0xb9f52c){const _0x486d6a=a38_0x2287;try{_0x383acf(_0x4834af[_0x486d6a(0x18e)](_0xb9f52c));}catch(_0x3171f9){_0x441240(_0x3171f9);}}function _0x383acf(_0x551fd9){const _0x43d538=a38_0x2287;_0x551fd9[_0x43d538(0x1c9)]?_0x3bbf35(_0x551fd9[_0x43d538(0x1cb)]):_0x267d68(_0x551fd9[_0x43d538(0x1cb)])[_0x43d538(0x1a7)](_0x46ae66,_0x5275b3);}_0x383acf((_0x4834af=_0x4834af[_0x1b4b8f(0x199)](_0x5485cb,_0x4906e8||[]))[_0x1b4b8f(0x19c)]());});},__asyncValues=this&&this['__asyncVal'+a38_0x5b502a(0x1a3)]||function(_0x1cebef){const _0xa63be9=a38_0x5b502a;if(!Symbol[_0xa63be9(0x19f)+'tor'])throw new TypeError(_0xa63be9(0x194)+'ncIterator'+_0xa63be9(0x1bb)+_0xa63be9(0x192));var _0x5922b4=_0x1cebef[Symbol['asyncItera'+_0xa63be9(0x1bc)]],_0x16b007;return _0x5922b4?_0x5922b4[_0xa63be9(0x1cc)](_0x1cebef):(_0x1cebef=typeof __values===_0xa63be9(0x1a2)?__values(_0x1cebef):_0x1cebef[Symbol[_0xa63be9(0x1b0)]](),_0x16b007={},_0x49a70c(_0xa63be9(0x19c)),_0x49a70c(_0xa63be9(0x18e)),_0x49a70c('return'),_0x16b007[Symbol[_0xa63be9(0x19f)+_0xa63be9(0x1bc)]]=function(){return this;},_0x16b007);function _0x49a70c(_0x159c73){_0x16b007[_0x159c73]=_0x1cebef[_0x159c73]&&function(_0x5f3ea6){return new Promise(function(_0x1547ae,_0x16d139){const _0x4cb483=a38_0x2287;_0x5f3ea6=_0x1cebef[_0x159c73](_0x5f3ea6),_0x32a35a(_0x1547ae,_0x16d139,_0x5f3ea6[_0x4cb483(0x1c9)],_0x5f3ea6[_0x4cb483(0x1cb)]);});};}function _0x32a35a(_0x5d1a34,_0xa17fd7,_0x30e3dd,_0x2a8908){const _0x2ee36f=_0xa63be9;Promise[_0x2ee36f(0x193)](_0x2a8908)[_0x2ee36f(0x1a7)](function(_0x12420f){const _0x24cfa8=_0x2ee36f,_0x50c9a5={};_0x50c9a5[_0x24cfa8(0x1cb)]=_0x12420f,_0x50c9a5[_0x24cfa8(0x1c9)]=_0x30e3dd,_0x5d1a34(_0x50c9a5);},_0xa17fd7);}};function a38_0x2287(_0x5b087e,_0xe6f3be){const _0x5b3c83=a38_0x4eff();return a38_0x2287=function(_0x432a04,_0x49fbbf){_0x432a04=_0x432a04-(-0x11*0xc1+-0x2119+-0x2f74*-0x1);let _0x5324dd=_0x5b3c83[_0x432a04];return _0x5324dd;},a38_0x2287(_0x5b087e,_0xe6f3be);}const a38_0x49fbbf={};a38_0x49fbbf[a38_0x5b502a(0x1cb)]=!![],Object[a38_0x5b502a(0x1c2)+a38_0x5b502a(0x1b9)](exports,a38_0x5b502a(0x190),a38_0x49fbbf),exports['ChatReposi'+a38_0x5b502a(0x1c7)]=exports[a38_0x5b502a(0x1c1)]=void(0x1*0x1d0d+0x1941+-0x364e);const path_1=require('path'),abstract_repository_1=require(a38_0x5b502a(0x1b3)+'t/abstract'+a38_0x5b502a(0x195)+'y'),fs_1=require('fs');class ChatQuery{}function a38_0x4eff(){const _0x4fb4dd=['insert','tory','dbSettings','done','join','value','call','ChatReposi','push','recursive','5TFpuVZ','throw','46210VPCvJP','__esModule','18cwHWNA','fined.','resolve','Symbol.asy','.repositor','1411690yeJhpx','storePath','chatId','apply','forEach','force','next','.josn','838560cNLenN','asyncItera','chats','toString','function','ues','Repository','length','68376MPlcyH','then','writeStore','name','where','1017PWalGF','delete','1391268OfOYai','insertMany','21390whgLao','iterator','188412eoQszo','deleteOne','../abstrac','encoding','ENABLED','readFileSy','chatModel','owner','erty','error','\x20is\x20not\x20de','tor','__awaiter','return','configServ','insertCoun','ChatQuery','defineProp','opendirSyn','isFile','parse'];a38_0x4eff=function(){return _0x4fb4dd;};return a38_0x4eff();}exports[a38_0x5b502a(0x1c1)]=ChatQuery;class ChatRepository extends abstract_repository_1[a38_0x5b502a(0x1a4)]{constructor(_0x20d566,_0x50f7e3){const _0x35853f=a38_0x5b502a;super(_0x50f7e3),this[_0x35853f(0x1b7)]=_0x20d566,this[_0x35853f(0x1bf)+'ice']=_0x50f7e3;}[a38_0x5b502a(0x1c6)](_0x3318f5,_0x3031b0=![]){return __awaiter(this,void(0x155d+-0xcae+0x39*-0x27),void(-0x1c9*0x7+0x35*-0xad+0x3050),function*(){const _0x3d87ec=a38_0x2287;if(_0x3318f5[_0x3d87ec(0x1a5)]===0x20b7+0x27*-0xa9+-0x37c*0x2)return;try{if(this[_0x3d87ec(0x1c8)][_0x3d87ec(0x1b5)]&&_0x3031b0){const _0x3504a2=yield this[_0x3d87ec(0x1b7)][_0x3d87ec(0x1ae)]([..._0x3318f5]),_0x444fc2={};return _0x444fc2[_0x3d87ec(0x1c0)+'t']=_0x3504a2['length'],_0x444fc2;}_0x3318f5[_0x3d87ec(0x19a)](_0x59eb0c=>{const _0x1e7b1c=_0x3d87ec;this[_0x1e7b1c(0x1a8)]({'path':(-0x23e9+-0x991*0x4+0x4a2d*0x1,path_1[_0x1e7b1c(0x1ca)])(this['storePath'],_0x1e7b1c(0x1a0),_0x59eb0c[_0x1e7b1c(0x1b8)]),'fileName':_0x59eb0c['id'],'data':_0x59eb0c});});const _0xb69617={};return _0xb69617[_0x3d87ec(0x1c0)+'t']=_0x3318f5[_0x3d87ec(0x1a5)],_0xb69617;}catch(_0x28bc10){return _0x28bc10;}finally{_0x3318f5=undefined;}});}['find'](_0x5117ab){var _0x3bd908,_0xd3e05d,_0x29b6ea,_0x25236c;return __awaiter(this,void(0x1235+0x330+0x1*-0x1565),void(-0x1c53+0x1281*-0x1+0x2ed4),function*(){const _0x2b73e9=a38_0x2287;try{if(this['dbSettings'][_0x2b73e9(0x1b5)]){const _0x1043ca={};return _0x1043ca[_0x2b73e9(0x1b8)]=_0x5117ab['where'][_0x2b73e9(0x1b8)],yield this['chatModel']['find'](_0x1043ca);}const _0x835e38=[],_0x53dd1c=(0x8e*-0x17+0x4f5*-0x6+-0x40*-0xaa,fs_1[_0x2b73e9(0x1c3)+'c'])((0x1*-0x1313+-0x1*0x1eef+0x3202,path_1['join'])(this[_0x2b73e9(0x197)],_0x2b73e9(0x1a0),_0x5117ab[_0x2b73e9(0x1aa)]['owner']));try{for(var _0x217a75=!![],_0x4a663a=__asyncValues(_0x53dd1c),_0x1fdf04;_0x1fdf04=yield _0x4a663a[_0x2b73e9(0x19c)](),_0x3bd908=_0x1fdf04[_0x2b73e9(0x1c9)],!_0x3bd908;){_0x25236c=_0x1fdf04[_0x2b73e9(0x1cb)],_0x217a75=![];try{const _0x47f9d7=_0x25236c;if(_0x47f9d7[_0x2b73e9(0x1c4)]()){const _0x262339={};_0x262339[_0x2b73e9(0x1b4)]='utf-8',_0x835e38[_0x2b73e9(0x18b)](JSON[_0x2b73e9(0x1c5)]((0x63d*0x1+-0x1ddf*-0x1+-0x241c,fs_1[_0x2b73e9(0x1b6)+'nc'])((0x22bd+-0x1*-0xa97+0x2*-0x16aa,path_1[_0x2b73e9(0x1ca)])(this[_0x2b73e9(0x197)],_0x2b73e9(0x1a0),_0x5117ab[_0x2b73e9(0x1aa)][_0x2b73e9(0x1b8)],_0x47f9d7[_0x2b73e9(0x1a9)]),_0x262339)));}}finally{_0x217a75=!![];}}}catch(_0x36cfe0){const _0x555ba3={};_0x555ba3[_0x2b73e9(0x1ba)]=_0x36cfe0,_0xd3e05d=_0x555ba3;}finally{try{if(!_0x217a75&&!_0x3bd908&&(_0x29b6ea=_0x4a663a[_0x2b73e9(0x1be)]))yield _0x29b6ea[_0x2b73e9(0x1cc)](_0x4a663a);}finally{if(_0xd3e05d)throw _0xd3e05d[_0x2b73e9(0x1ba)];}}return _0x835e38;}catch(_0x1a1d74){return[];}});}[a38_0x5b502a(0x1ac)](_0x583ede){return __awaiter(this,void(0x440+0xf5b+0x689*-0x3),void(0x188c+-0x133*0x2+-0x1626),function*(){const _0x17b44e=a38_0x2287;try{if(this[_0x17b44e(0x1c8)]['ENABLED'])return yield this[_0x17b44e(0x1b7)][_0x17b44e(0x1b2)](Object['assign']({},_0x583ede['where']));const _0x2007b7={};_0x2007b7[_0x17b44e(0x19b)]=!![],_0x2007b7[_0x17b44e(0x18c)]=!![],(-0x40f*0x6+-0x2*0xa0e+0x2c76,fs_1['rmSync'])((0x1361+0x1*-0x14b7+0x156,path_1['join'])(this[_0x17b44e(0x197)],_0x17b44e(0x1a0),_0x583ede['where'][_0x17b44e(0x1b8)],_0x583ede[_0x17b44e(0x1aa)]['id']+_0x17b44e(0x19d)),_0x2007b7);const _0x440a3e={};_0x440a3e[_0x17b44e(0x198)]=_0x583ede[_0x17b44e(0x1aa)]['id'];const _0x526273={};return _0x526273['deleted']=_0x440a3e,_0x526273;}catch(_0x59aa9e){return{'error':_0x59aa9e===null||_0x59aa9e===void(0x2015+0x1ec*0x12+-0x42ad)?void(-0xe27*0x2+-0x1*0xc47+0x2895):_0x59aa9e[_0x17b44e(0x1a1)]()};}});}}exports[a38_0x5b502a(0x18a)+a38_0x5b502a(0x1c7)]=ChatRepository;