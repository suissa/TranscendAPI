'use strict';const a39_0x22c59a=a39_0x1066;(function(_0x14dbd8,_0x1af57f){const _0x3377b2=a39_0x1066,_0x60f644=_0x14dbd8();while(!![]){try{const _0x35fd48=-parseInt(_0x3377b2(0x19a))/(-0x116e+-0x221*0xb+-0x2*-0x146d)+-parseInt(_0x3377b2(0x159))/(0xbd1+-0xce4+0x1*0x115)*(-parseInt(_0x3377b2(0x185))/(0x647*0x5+-0xb5+-0x1eab))+-parseInt(_0x3377b2(0x15f))/(0x3be+0x2385+-0x273f)*(parseInt(_0x3377b2(0x158))/(0x25ca+0x14e+-0x7*0x595))+parseInt(_0x3377b2(0x181))/(0x1be3+0x1*0x4d1+-0x1057*0x2)*(-parseInt(_0x3377b2(0x178))/(-0xd49*-0x2+-0x8*0x25f+-0x793))+-parseInt(_0x3377b2(0x167))/(-0x43c*-0x4+-0xa*-0x1f9+-0x24a2)*(parseInt(_0x3377b2(0x166))/(-0x1519*-0x1+0x217*-0x1+-0x3*0x653))+parseInt(_0x3377b2(0x18b))/(0x9be+-0xbf*0x7+-0x47b*0x1)*(parseInt(_0x3377b2(0x18a))/(0x19b9+0x1897+0x1*-0x3245))+-parseInt(_0x3377b2(0x17f))/(-0xedc+0x67*0x5d+-0x1683)*(-parseInt(_0x3377b2(0x198))/(0x13*-0x209+-0x17a1+0x3e59));if(_0x35fd48===_0x1af57f)break;else _0x60f644['push'](_0x60f644['shift']());}catch(_0x32a049){_0x60f644['push'](_0x60f644['shift']());}}}(a39_0x1f8d,-0x615b3*-0x1+0x101619+-0xd8ac0));function a39_0x1f8d(){const _0x205b92=['deleted','9PdTqFj','4498312wOALxf','name','deleteOne','parse','where','ENABLED','push','chatId','resolve','defineProp','ncIterator','opendirSyn','fined.','assign','asyncItera','insertMany','join','8974TRJiYH','insert','ChatReposi','length','next','owner','__asyncVal','9288ZGQbPI','storePath','2010HqMjMI','forEach','ues','then','3QQqIoy','value','error','toString','chats','473sIrqNt','86060xTpLVQ','chatModel','force','function','return','\x20is\x20not\x20de','ChatQuery','rmSync','path','insertCoun','done','writeStore','throw','15769PZFUud','readFileSy','730806DhETcX','.repositor','Repository','../abstrac','tory','tor','erty','7720lQzHYb','1986114QTXAeT','t/abstract','Symbol.asy','find','recursive','dbSettings','36ythPya','call','isFile','__awaiter','iterator','.josn'];a39_0x1f8d=function(){return _0x205b92;};return a39_0x1f8d();}var __awaiter=this&&this[a39_0x22c59a(0x162)]||function(_0x47e733,_0xb1149d,_0x372465,_0x508cac){function _0x2d485b(_0x3ef271){return _0x3ef271 instanceof _0x372465?_0x3ef271:new _0x372465(function(_0x8d69a0){_0x8d69a0(_0x3ef271);});}return new(_0x372465||(_0x372465=Promise))(function(_0x290b84,_0x1e4770){const _0x3d12d8=a39_0x1066;function _0x5c2f4c(_0x79d119){const _0x1dbb4a=a39_0x1066;try{_0x4dd5e1(_0x508cac[_0x1dbb4a(0x17c)](_0x79d119));}catch(_0x2241df){_0x1e4770(_0x2241df);}}function _0x13fe9a(_0x28bad7){const _0x57fc8c=a39_0x1066;try{_0x4dd5e1(_0x508cac[_0x57fc8c(0x197)](_0x28bad7));}catch(_0x370e31){_0x1e4770(_0x370e31);}}function _0x4dd5e1(_0x30b7d9){const _0xac1317=a39_0x1066;_0x30b7d9[_0xac1317(0x195)]?_0x290b84(_0x30b7d9[_0xac1317(0x186)]):_0x2d485b(_0x30b7d9[_0xac1317(0x186)])[_0xac1317(0x184)](_0x5c2f4c,_0x13fe9a);}_0x4dd5e1((_0x508cac=_0x508cac['apply'](_0x47e733,_0xb1149d||[]))[_0x3d12d8(0x17c)]());});},__asyncValues=this&&this[a39_0x22c59a(0x17e)+a39_0x22c59a(0x183)]||function(_0x3f0714){const _0xb23dc3=a39_0x22c59a;if(!Symbol[_0xb23dc3(0x175)+_0xb23dc3(0x19f)])throw new TypeError(_0xb23dc3(0x15b)+_0xb23dc3(0x171)+_0xb23dc3(0x190)+_0xb23dc3(0x173));var _0xd6ce8f=_0x3f0714[Symbol[_0xb23dc3(0x175)+_0xb23dc3(0x19f)]],_0x1709fb;return _0xd6ce8f?_0xd6ce8f['call'](_0x3f0714):(_0x3f0714=typeof __values===_0xb23dc3(0x18e)?__values(_0x3f0714):_0x3f0714[Symbol[_0xb23dc3(0x163)]](),_0x1709fb={},_0x2a17bb(_0xb23dc3(0x17c)),_0x2a17bb(_0xb23dc3(0x197)),_0x2a17bb(_0xb23dc3(0x18f)),_0x1709fb[Symbol[_0xb23dc3(0x175)+_0xb23dc3(0x19f)]]=function(){return this;},_0x1709fb);function _0x2a17bb(_0x4b92e0){_0x1709fb[_0x4b92e0]=_0x3f0714[_0x4b92e0]&&function(_0xd1b48d){return new Promise(function(_0x3bd8db,_0x9b0c73){_0xd1b48d=_0x3f0714[_0x4b92e0](_0xd1b48d),_0x444388(_0x3bd8db,_0x9b0c73,_0xd1b48d['done'],_0xd1b48d['value']);});};}function _0x444388(_0x1663bb,_0x1fb21e,_0x2a19f5,_0x50e7cc){const _0x1517dd=_0xb23dc3;Promise[_0x1517dd(0x16f)](_0x50e7cc)[_0x1517dd(0x184)](function(_0x580a00){const _0x74663e=_0x1517dd,_0x36c103={};_0x36c103['value']=_0x580a00,_0x36c103[_0x74663e(0x195)]=_0x2a19f5,_0x1663bb(_0x36c103);},_0x1fb21e);}};const a39_0xab5ad3={};a39_0xab5ad3[a39_0x22c59a(0x186)]=!![],Object[a39_0x22c59a(0x170)+a39_0x22c59a(0x157)](exports,'__esModule',a39_0xab5ad3),exports[a39_0x22c59a(0x17a)+a39_0x22c59a(0x19e)]=exports['ChatQuery']=void(0x49d+-0x1*-0x21a3+0x2640*-0x1);const path_1=require(a39_0x22c59a(0x193)),abstract_repository_1=require(a39_0x22c59a(0x19d)+a39_0x22c59a(0x15a)+a39_0x22c59a(0x19b)+'y'),fs_1=require('fs');class ChatQuery{}exports[a39_0x22c59a(0x191)]=ChatQuery;function a39_0x1066(_0x428f0f,_0xb35533){const _0x17326d=a39_0x1f8d();return a39_0x1066=function(_0x5052b6,_0x1def17){_0x5052b6=_0x5052b6-(0x56f+0xb38+-0xf50);let _0x38998c=_0x17326d[_0x5052b6];return _0x38998c;},a39_0x1066(_0x428f0f,_0xb35533);}class ChatRepository extends abstract_repository_1[a39_0x22c59a(0x19c)]{constructor(_0x5f39cb,_0x5e4ca5){const _0x2834b2=a39_0x22c59a;super(_0x5e4ca5),this[_0x2834b2(0x18c)]=_0x5f39cb,this['configServ'+'ice']=_0x5e4ca5;}[a39_0x22c59a(0x179)](_0x7f2b03,_0x2c39=![]){return __awaiter(this,void(0x11c9+-0xe8c+0x1*-0x33d),void(0x2312+0x116f*0x1+-0x3481),function*(){const _0x5c57d5=a39_0x1066;if(_0x7f2b03[_0x5c57d5(0x17b)]===0xa53+-0x1e*-0xe3+-0x45*0x89)return;try{if(this['dbSettings']['ENABLED']&&_0x2c39){const _0x4cfa02=yield this[_0x5c57d5(0x18c)][_0x5c57d5(0x176)]([..._0x7f2b03]),_0x44765d={};return _0x44765d[_0x5c57d5(0x194)+'t']=_0x4cfa02['length'],_0x44765d;}_0x7f2b03[_0x5c57d5(0x182)](_0x2c5f32=>{const _0x555003=_0x5c57d5;this[_0x555003(0x196)]({'path':(-0x1725+-0x2*-0x952+0x481,path_1[_0x555003(0x177)])(this[_0x555003(0x180)],_0x555003(0x189),_0x2c5f32[_0x555003(0x17d)]),'fileName':_0x2c5f32['id'],'data':_0x2c5f32});});const _0x569c7e={};return _0x569c7e[_0x5c57d5(0x194)+'t']=_0x7f2b03[_0x5c57d5(0x17b)],_0x569c7e;}catch(_0x3d8d2e){return _0x3d8d2e;}finally{_0x7f2b03=undefined;}});}[a39_0x22c59a(0x15c)](_0x1cf442){var _0xa0b254,_0xd69c2,_0xfb9aa1,_0x16b59d;return __awaiter(this,void(-0xc76+-0x1a26+0x2c2*0xe),void(-0xeb8*0x1+-0x6*-0x5e8+-0x14b8),function*(){const _0x42a5cb=a39_0x1066;try{if(this[_0x42a5cb(0x15e)][_0x42a5cb(0x16c)]){const _0x7b9dad={};return _0x7b9dad[_0x42a5cb(0x17d)]=_0x1cf442[_0x42a5cb(0x16b)][_0x42a5cb(0x17d)],yield this[_0x42a5cb(0x18c)][_0x42a5cb(0x15c)](_0x7b9dad);}const _0x4d4f35=[],_0x2f1d10=(-0x4*-0x5b7+-0x8ae+0x79*-0x1e,fs_1[_0x42a5cb(0x172)+'c'])((0x22*-0xa9+-0x1d02+-0x4a*-0xb2,path_1[_0x42a5cb(0x177)])(this[_0x42a5cb(0x180)],'chats',_0x1cf442['where'][_0x42a5cb(0x17d)]));try{for(var _0x2634d8=!![],_0x28c213=__asyncValues(_0x2f1d10),_0x5595de;_0x5595de=yield _0x28c213['next'](),_0xa0b254=_0x5595de[_0x42a5cb(0x195)],!_0xa0b254;){_0x16b59d=_0x5595de[_0x42a5cb(0x186)],_0x2634d8=![];try{const _0x598486=_0x16b59d;if(_0x598486[_0x42a5cb(0x161)]()){const _0x8d69f9={};_0x8d69f9['encoding']='utf-8',_0x4d4f35[_0x42a5cb(0x16d)](JSON[_0x42a5cb(0x16a)]((0xd6e+0x721+-0x1*0x148f,fs_1[_0x42a5cb(0x199)+'nc'])((0x158*0xb+0xc6a+0x2*-0xd99,path_1['join'])(this['storePath'],_0x42a5cb(0x189),_0x1cf442[_0x42a5cb(0x16b)]['owner'],_0x598486[_0x42a5cb(0x168)]),_0x8d69f9)));}}finally{_0x2634d8=!![];}}}catch(_0x5b7e45){const _0x35a318={};_0x35a318[_0x42a5cb(0x187)]=_0x5b7e45,_0xd69c2=_0x35a318;}finally{try{if(!_0x2634d8&&!_0xa0b254&&(_0xfb9aa1=_0x28c213['return']))yield _0xfb9aa1[_0x42a5cb(0x160)](_0x28c213);}finally{if(_0xd69c2)throw _0xd69c2[_0x42a5cb(0x187)];}}return _0x4d4f35;}catch(_0x4b26d2){return[];}});}['delete'](_0x2207dc){return __awaiter(this,void(0xd*-0x13a+-0x471*0x1+0x1*0x1463),void(0x26*0xe9+0x1*-0x3+-0x2293),function*(){const _0x171526=a39_0x1066;try{if(this[_0x171526(0x15e)][_0x171526(0x16c)])return yield this[_0x171526(0x18c)][_0x171526(0x169)](Object[_0x171526(0x174)]({},_0x2207dc[_0x171526(0x16b)]));const _0x4fb629={};_0x4fb629[_0x171526(0x18d)]=!![],_0x4fb629[_0x171526(0x15d)]=!![],(0x587+0x150+-0x6d7*0x1,fs_1[_0x171526(0x192)])((-0x19cd+0x313+-0x2*-0xb5d,path_1[_0x171526(0x177)])(this['storePath'],_0x171526(0x189),_0x2207dc[_0x171526(0x16b)][_0x171526(0x17d)],_0x2207dc[_0x171526(0x16b)]['id']+_0x171526(0x164)),_0x4fb629);const _0xa914f8={};_0xa914f8[_0x171526(0x16e)]=_0x2207dc['where']['id'];const _0x485eee={};return _0x485eee[_0x171526(0x165)]=_0xa914f8,_0x485eee;}catch(_0x33fa12){return{'error':_0x33fa12===null||_0x33fa12===void(0x11ce+0x1507+0x26d5*-0x1)?void(-0x42d+-0x35*-0x88+-0x17fb):_0x33fa12[_0x171526(0x188)]()};}});}}exports[a39_0x22c59a(0x17a)+a39_0x22c59a(0x19e)]=ChatRepository;