'use strict';const a38_0x2376c8=a38_0x15d3;(function(_0x1662a5,_0x1dfe71){const _0x3ff2e0=a38_0x15d3,_0x530725=_0x1662a5();while(!![]){try{const _0x339ecd=-parseInt(_0x3ff2e0(0x169))/(-0x190c+-0x521+0x1e2e)+parseInt(_0x3ff2e0(0x180))/(0x2*-0x4cf+0x1185+-0x7e5)*(parseInt(_0x3ff2e0(0x18b))/(-0x1394+-0x1*-0xa4e+-0x1*-0x949))+-parseInt(_0x3ff2e0(0x18f))/(-0x15*-0x93+0xb81+-0x178c)*(parseInt(_0x3ff2e0(0x19b))/(-0x47d*-0x3+0x1468+-0x21da))+-parseInt(_0x3ff2e0(0x16a))/(0x1d*0x14e+-0xa8d+-0x1b43)+parseInt(_0x3ff2e0(0x1a5))/(-0x1b40*0x1+-0x7*-0x392+-0xd*-0x2d)*(parseInt(_0x3ff2e0(0x1a0))/(-0x32b*-0xa+0x336+-0x2e*0xc2))+-parseInt(_0x3ff2e0(0x16d))/(-0x2a5*0xc+0x1*-0xdc9+0x2d8e)*(parseInt(_0x3ff2e0(0x198))/(0xff5+-0x19c7+0x9dc))+parseInt(_0x3ff2e0(0x175))/(-0x1449+-0x1*-0x4ff+0xf55);if(_0x339ecd===_0x1dfe71)break;else _0x530725['push'](_0x530725['shift']());}catch(_0x2c395e){_0x530725['push'](_0x530725['shift']());}}}(a38_0x1703,-0x19252*0x3+0x4bbe8+-0x1*-0x73123));function a38_0x1703(){const _0x46cb1f=['\x20is\x20not\x20de','238677XqvGVi','t/abstract','insertCoun','__esModule','8tXccdI','forEach','chatModel','writeStore','dbSettings','delete','owner','deleted','ncIterator','610oqRhVo','chatId','apply','12035pheQlY','ice','ues','opendirSyn','done','856uCFQeU','rmSync','push','erty','find','21070jefRIS','where','parse','return','__asyncVal','configServ','isFile','utf-8','925878BgGeZz','134016NTrAnU','.josn','tor','137115mBlohI','assign','tory','deleteOne','defineProp','toString','next','then','12735151CezvJC','value','ChatQuery','insertMany','throw','force','ENABLED','.repositor','storePath','asyncItera','Repository','22cQdZyS','join','chats','function','call','insert','error','readFileSy','encoding','length'];a38_0x1703=function(){return _0x46cb1f;};return a38_0x1703();}var __awaiter=this&&this['__awaiter']||function(_0x1568b5,_0x5546fa,_0x2411ed,_0x29f3d1){function _0x2bfa00(_0x41eab0){return _0x41eab0 instanceof _0x2411ed?_0x41eab0:new _0x2411ed(function(_0x187665){_0x187665(_0x41eab0);});}return new(_0x2411ed||(_0x2411ed=Promise))(function(_0x55044a,_0x1e63e2){const _0x23d94d=a38_0x15d3;function _0x1b4682(_0x15bb43){const _0x396fd7=a38_0x15d3;try{_0x849da4(_0x29f3d1[_0x396fd7(0x173)](_0x15bb43));}catch(_0x2819a3){_0x1e63e2(_0x2819a3);}}function _0x353939(_0x34c29a){const _0x1ce7ec=a38_0x15d3;try{_0x849da4(_0x29f3d1[_0x1ce7ec(0x179)](_0x34c29a));}catch(_0x496d38){_0x1e63e2(_0x496d38);}}function _0x849da4(_0x4ff6de){const _0x46e1ad=a38_0x15d3;_0x4ff6de[_0x46e1ad(0x19f)]?_0x55044a(_0x4ff6de[_0x46e1ad(0x176)]):_0x2bfa00(_0x4ff6de['value'])[_0x46e1ad(0x174)](_0x1b4682,_0x353939);}_0x849da4((_0x29f3d1=_0x29f3d1[_0x23d94d(0x19a)](_0x1568b5,_0x5546fa||[]))[_0x23d94d(0x173)]());});},__asyncValues=this&&this[a38_0x2376c8(0x165)+a38_0x2376c8(0x19d)]||function(_0x19c8e6){const _0x340988=a38_0x2376c8;if(!Symbol['asyncItera'+_0x340988(0x16c)])throw new TypeError('Symbol.asy'+_0x340988(0x197)+_0x340988(0x18a)+'fined.');var _0x59d9fb=_0x19c8e6[Symbol[_0x340988(0x17e)+_0x340988(0x16c)]],_0x39bac5;return _0x59d9fb?_0x59d9fb['call'](_0x19c8e6):(_0x19c8e6=typeof __values===_0x340988(0x183)?__values(_0x19c8e6):_0x19c8e6[Symbol['iterator']](),_0x39bac5={},_0x459946(_0x340988(0x173)),_0x459946('throw'),_0x459946(_0x340988(0x164)),_0x39bac5[Symbol['asyncItera'+_0x340988(0x16c)]]=function(){return this;},_0x39bac5);function _0x459946(_0x37b81b){_0x39bac5[_0x37b81b]=_0x19c8e6[_0x37b81b]&&function(_0x544eb6){return new Promise(function(_0x197cc3,_0x4751dc){const _0x38967d=a38_0x15d3;_0x544eb6=_0x19c8e6[_0x37b81b](_0x544eb6),_0x520ff8(_0x197cc3,_0x4751dc,_0x544eb6[_0x38967d(0x19f)],_0x544eb6[_0x38967d(0x176)]);});};}function _0x520ff8(_0x231d63,_0x5cc0f4,_0x39623e,_0x5556a9){const _0x42b4bb=_0x340988;Promise['resolve'](_0x5556a9)[_0x42b4bb(0x174)](function(_0x4a927d){const _0x43e763=_0x42b4bb,_0x3ce6b3={};_0x3ce6b3[_0x43e763(0x176)]=_0x4a927d,_0x3ce6b3[_0x43e763(0x19f)]=_0x39623e,_0x231d63(_0x3ce6b3);},_0x5cc0f4);}};const a38_0x4da03c={};a38_0x4da03c[a38_0x2376c8(0x176)]=!![],Object[a38_0x2376c8(0x171)+a38_0x2376c8(0x1a3)](exports,a38_0x2376c8(0x18e),a38_0x4da03c),exports['ChatReposi'+a38_0x2376c8(0x16f)]=exports[a38_0x2376c8(0x177)]=void(-0x428+-0x376*0x5+0x1576);const path_1=require('path'),abstract_repository_1=require('../abstrac'+a38_0x2376c8(0x18c)+a38_0x2376c8(0x17c)+'y'),fs_1=require('fs');class ChatQuery{}exports['ChatQuery']=ChatQuery;class ChatRepository extends abstract_repository_1[a38_0x2376c8(0x17f)]{constructor(_0xc25a22,_0x3252c7){const _0x313dd4=a38_0x2376c8;super(_0x3252c7),this[_0x313dd4(0x191)]=_0xc25a22,this[_0x313dd4(0x166)+_0x313dd4(0x19c)]=_0x3252c7;}[a38_0x2376c8(0x185)](_0x471618,_0x17004f=![]){return __awaiter(this,void(-0x8e*-0x32+-0x7*0x83+-0x1827),void(0x1083+-0x5dc+-0x1*0xaa7),function*(){const _0x31a262=a38_0x15d3;if(_0x471618[_0x31a262(0x189)]===0x125b+0xa4c+-0x1ca7)return;try{if(this[_0x31a262(0x193)][_0x31a262(0x17b)]&&_0x17004f){const _0x10a85b=yield this['chatModel'][_0x31a262(0x178)]([..._0x471618]),_0x3b8c96={};return _0x3b8c96[_0x31a262(0x18d)+'t']=_0x10a85b[_0x31a262(0x189)],_0x3b8c96;}_0x471618[_0x31a262(0x190)](_0x38a00b=>{const _0x26af25=_0x31a262;this[_0x26af25(0x192)]({'path':(-0x1d9*-0x13+0x7*0x586+-0x49c5,path_1[_0x26af25(0x181)])(this[_0x26af25(0x17d)],'chats',_0x38a00b[_0x26af25(0x195)]),'fileName':_0x38a00b['id'],'data':_0x38a00b});});const _0x57bd84={};return _0x57bd84[_0x31a262(0x18d)+'t']=_0x471618[_0x31a262(0x189)],_0x57bd84;}catch(_0x44260c){return _0x44260c;}finally{_0x471618=undefined;}});}[a38_0x2376c8(0x1a4)](_0xad50dd){var _0x24a1ac,_0x56862d,_0x3427a9,_0x4af656;return __awaiter(this,void(0x19eb+0x1*-0x1384+-0x667*0x1),void(-0x19*0x43+0xa3b+0x3b*-0x10),function*(){const _0x421cda=a38_0x15d3;try{if(this[_0x421cda(0x193)][_0x421cda(0x17b)]){const _0x4b8939={};return _0x4b8939[_0x421cda(0x195)]=_0xad50dd[_0x421cda(0x162)][_0x421cda(0x195)],yield this['chatModel'][_0x421cda(0x1a4)](_0x4b8939);}const _0x45ba64=[],_0x639b8e=(0x215*-0x7+-0x21a1*0x1+-0x5*-0x9a4,fs_1[_0x421cda(0x19e)+'c'])((0x82d+-0x2093+0x1866,path_1[_0x421cda(0x181)])(this[_0x421cda(0x17d)],_0x421cda(0x182),_0xad50dd[_0x421cda(0x162)][_0x421cda(0x195)]));try{for(var _0x42916b=!![],_0x384bc4=__asyncValues(_0x639b8e),_0x57abf8;_0x57abf8=yield _0x384bc4['next'](),_0x24a1ac=_0x57abf8[_0x421cda(0x19f)],!_0x24a1ac;){_0x4af656=_0x57abf8[_0x421cda(0x176)],_0x42916b=![];try{const _0x210dba=_0x4af656;if(_0x210dba[_0x421cda(0x167)]()){const _0x326350={};_0x326350[_0x421cda(0x188)]=_0x421cda(0x168),_0x45ba64[_0x421cda(0x1a2)](JSON[_0x421cda(0x163)]((0x87f+0x1be9+0x5*-0x748,fs_1[_0x421cda(0x187)+'nc'])((-0x1*0xf71+0x1*-0xae6+-0x265*-0xb,path_1[_0x421cda(0x181)])(this[_0x421cda(0x17d)],_0x421cda(0x182),_0xad50dd[_0x421cda(0x162)][_0x421cda(0x195)],_0x210dba['name']),_0x326350)));}}finally{_0x42916b=!![];}}}catch(_0x109f95){const _0x3f1813={};_0x3f1813[_0x421cda(0x186)]=_0x109f95,_0x56862d=_0x3f1813;}finally{try{if(!_0x42916b&&!_0x24a1ac&&(_0x3427a9=_0x384bc4[_0x421cda(0x164)]))yield _0x3427a9[_0x421cda(0x184)](_0x384bc4);}finally{if(_0x56862d)throw _0x56862d[_0x421cda(0x186)];}}return _0x45ba64;}catch(_0x4ddb90){return[];}});}[a38_0x2376c8(0x194)](_0xce8bab){return __awaiter(this,void(-0x226b+0x296+0x1fd5),void(-0x192f+0x1*0x986+0xfa9),function*(){const _0x4b28a0=a38_0x15d3;try{if(this[_0x4b28a0(0x193)][_0x4b28a0(0x17b)])return yield this[_0x4b28a0(0x191)][_0x4b28a0(0x170)](Object[_0x4b28a0(0x16e)]({},_0xce8bab[_0x4b28a0(0x162)]));const _0x1dd993={};_0x1dd993[_0x4b28a0(0x17a)]=!![],_0x1dd993['recursive']=!![],(0x1905+0x3cd*-0x2+-0x116b,fs_1[_0x4b28a0(0x1a1)])((0x88f*0x1+-0xdd8*-0x1+-0xb9*0x1f,path_1[_0x4b28a0(0x181)])(this[_0x4b28a0(0x17d)],'chats',_0xce8bab[_0x4b28a0(0x162)]['owner'],_0xce8bab[_0x4b28a0(0x162)]['id']+_0x4b28a0(0x16b)),_0x1dd993);const _0x3e5121={};_0x3e5121[_0x4b28a0(0x199)]=_0xce8bab[_0x4b28a0(0x162)]['id'];const _0x40b510={};return _0x40b510[_0x4b28a0(0x196)]=_0x3e5121,_0x40b510;}catch(_0xbcfd){return{'error':_0xbcfd===null||_0xbcfd===void(0x1*0x905+0x118c+0x3*-0x8db)?void(0x1a2+-0xa67+0x8c5):_0xbcfd[_0x4b28a0(0x172)]()};}});}}function a38_0x15d3(_0x2bd622,_0x436729){const _0x4c778a=a38_0x1703();return a38_0x15d3=function(_0xba28dc,_0x1096f7){_0xba28dc=_0xba28dc-(0x1d0d+-0x5bd+-0x15ee);let _0x240dd2=_0x4c778a[_0xba28dc];return _0x240dd2;},a38_0x15d3(_0x2bd622,_0x436729);}exports['ChatReposi'+a38_0x2376c8(0x16f)]=ChatRepository;