'use strict';const a39_0x419589=a39_0x34b4;(function(_0x5054b2,_0x1ecdd7){const _0x1dbb2d=a39_0x34b4,_0x327e49=_0x5054b2();while(!![]){try{const _0x379877=parseInt(_0x1dbb2d(0x18a))/(-0x19c4+-0x11*0xab+-0x129*-0x20)+-parseInt(_0x1dbb2d(0x17d))/(0x1e5*-0xf+0x120a+0xa63)*(parseInt(_0x1dbb2d(0x192))/(0x3*-0x392+0x25*-0x25+0x1012))+-parseInt(_0x1dbb2d(0x175))/(-0x216+-0xb6f+0x23*0x63)+parseInt(_0x1dbb2d(0x15b))/(-0x46*-0x43+0x2132+-0x337f)+-parseInt(_0x1dbb2d(0x17c))/(-0x1737+0x26bf+-0xf82)*(-parseInt(_0x1dbb2d(0x15a))/(-0x1*0x1499+0x5a*0x4d+-0x32*0x21))+-parseInt(_0x1dbb2d(0x188))/(-0x2*0xc3e+0x17ab+0xd9*0x1)+parseInt(_0x1dbb2d(0x16c))/(0x2*-0xba0+-0x282*0x3+-0xef*-0x21)*(parseInt(_0x1dbb2d(0x15d))/(0x1f0a+-0x2480+0x580));if(_0x379877===_0x1ecdd7)break;else _0x327e49['push'](_0x327e49['shift']());}catch(_0x3f6b70){_0x327e49['push'](_0x327e49['shift']());}}}(a39_0x2032,-0x9e*0xb1+-0x65538+0x2a8f*0x44));var __awaiter=this&&this[a39_0x419589(0x186)]||function(_0x5bd985,_0xa59b09,_0x5f31ca,_0x37b646){function _0x3a3c60(_0x48ac98){return _0x48ac98 instanceof _0x5f31ca?_0x48ac98:new _0x5f31ca(function(_0x24d183){_0x24d183(_0x48ac98);});}return new(_0x5f31ca||(_0x5f31ca=Promise))(function(_0x165981,_0x1c42b0){const _0x3e5c5a=a39_0x34b4;function _0x41fb4c(_0x500c7e){const _0x524208=a39_0x34b4;try{_0x2b35e7(_0x37b646[_0x524208(0x153)](_0x500c7e));}catch(_0x252de3){_0x1c42b0(_0x252de3);}}function _0x5e8b5e(_0x56d492){const _0x1fa2bf=a39_0x34b4;try{_0x2b35e7(_0x37b646[_0x1fa2bf(0x184)](_0x56d492));}catch(_0x2aa08a){_0x1c42b0(_0x2aa08a);}}function _0x2b35e7(_0x2549e3){const _0x3a1b74=a39_0x34b4;_0x2549e3[_0x3a1b74(0x161)]?_0x165981(_0x2549e3[_0x3a1b74(0x190)]):_0x3a3c60(_0x2549e3[_0x3a1b74(0x190)])[_0x3a1b74(0x155)](_0x41fb4c,_0x5e8b5e);}_0x2b35e7((_0x37b646=_0x37b646[_0x3e5c5a(0x183)](_0x5bd985,_0xa59b09||[]))[_0x3e5c5a(0x153)]());});},__asyncValues=this&&this[a39_0x419589(0x166)+'ues']||function(_0x5a656f){const _0x26d3f7=a39_0x419589;if(!Symbol['asyncItera'+_0x26d3f7(0x157)])throw new TypeError(_0x26d3f7(0x150)+_0x26d3f7(0x170)+_0x26d3f7(0x16f)+_0x26d3f7(0x16a));var _0x58f051=_0x5a656f[Symbol['asyncItera'+_0x26d3f7(0x157)]],_0x5a1895;return _0x58f051?_0x58f051[_0x26d3f7(0x177)](_0x5a656f):(_0x5a656f=typeof __values===_0x26d3f7(0x18e)?__values(_0x5a656f):_0x5a656f[Symbol[_0x26d3f7(0x193)]](),_0x5a1895={},_0x3930d5('next'),_0x3930d5('throw'),_0x3930d5(_0x26d3f7(0x160)),_0x5a1895[Symbol[_0x26d3f7(0x194)+_0x26d3f7(0x157)]]=function(){return this;},_0x5a1895);function _0x3930d5(_0x3ba16a){_0x5a1895[_0x3ba16a]=_0x5a656f[_0x3ba16a]&&function(_0x5c9433){return new Promise(function(_0xfdd880,_0x829a98){const _0x4f61b=a39_0x34b4;_0x5c9433=_0x5a656f[_0x3ba16a](_0x5c9433),_0x4f2fbc(_0xfdd880,_0x829a98,_0x5c9433[_0x4f61b(0x161)],_0x5c9433[_0x4f61b(0x190)]);});};}function _0x4f2fbc(_0x48b469,_0xd2a81b,_0xf0a386,_0x347050){const _0x2dc90e=_0x26d3f7;Promise[_0x2dc90e(0x168)](_0x347050)[_0x2dc90e(0x155)](function(_0x150d85){const _0x27f8ba=_0x2dc90e,_0x5718ad={};_0x5718ad[_0x27f8ba(0x190)]=_0x150d85,_0x5718ad[_0x27f8ba(0x161)]=_0xf0a386,_0x48b469(_0x5718ad);},_0xd2a81b);}};function a39_0x2032(){const _0xb135e3=['recursive','3994896Hntllf','opendirSyn','299903fpDpHD','tory','name','parse','function','where','value','deleted','15gYTNxR','iterator','asyncItera','Symbol.asy','chatModel','length','next','force','then','chats','tor','error','assign','370622XRnBhy','2129645WBKJGb','ChatQuery','1131730FArGSC','readFileSy','.josn','return','done','toString','ENABLED','configServ','isFile','__asyncVal','forEach','resolve','dbSettings','fined.','__esModule','9rbkwzZ','../abstrac','join','\x20is\x20not\x20de','ncIterator','Repository','t/abstract','.repositor','erty','1830988fWaxAN','owner','call','push','storePath','ChatReposi','find','66PIOJPC','66576ESaVew','insertCoun','chatId','utf-8','ice','insert','apply','throw','deleteOne','__awaiter'];a39_0x2032=function(){return _0xb135e3;};return a39_0x2032();}const a39_0x52271b={};a39_0x52271b[a39_0x419589(0x190)]=!![],Object['defineProp'+a39_0x419589(0x174)](exports,a39_0x419589(0x16b),a39_0x52271b),exports[a39_0x419589(0x17a)+'tory']=exports[a39_0x419589(0x15c)]=void(0x1c89+0xfab+-0x2c34);const path_1=require('path'),abstract_repository_1=require(a39_0x419589(0x16d)+a39_0x419589(0x172)+a39_0x419589(0x173)+'y'),fs_1=require('fs');class ChatQuery{}exports[a39_0x419589(0x15c)]=ChatQuery;class ChatRepository extends abstract_repository_1[a39_0x419589(0x171)]{constructor(_0x586a4c,_0x2ad723){const _0x251148=a39_0x419589;super(_0x2ad723),this[_0x251148(0x151)]=_0x586a4c,this[_0x251148(0x164)+_0x251148(0x181)]=_0x2ad723;}[a39_0x419589(0x182)](_0xa99f39,_0x2e38d0=![]){return __awaiter(this,void(0x55*0x5+0x4*-0x7a1+0x1cdb),void(0x36e*-0x1+0x10c7+-0xd59),function*(){const _0x5f5692=a39_0x34b4;if(_0xa99f39[_0x5f5692(0x152)]===-0x622*-0x4+0x5b9+-0x1e41)return;try{if(this[_0x5f5692(0x169)][_0x5f5692(0x163)]&&_0x2e38d0){const _0x173624=yield this[_0x5f5692(0x151)]['insertMany']([..._0xa99f39]),_0x362f92={};return _0x362f92[_0x5f5692(0x17e)+'t']=_0x173624[_0x5f5692(0x152)],_0x362f92;}_0xa99f39[_0x5f5692(0x167)](_0x4229c0=>{const _0x2ae7eb=_0x5f5692;this['writeStore']({'path':(-0x19c*0x2+0x2273+-0x1f3b,path_1[_0x2ae7eb(0x16e)])(this[_0x2ae7eb(0x179)],_0x2ae7eb(0x156),_0x4229c0['owner']),'fileName':_0x4229c0['id'],'data':_0x4229c0});});const _0xe0c045={};return _0xe0c045[_0x5f5692(0x17e)+'t']=_0xa99f39[_0x5f5692(0x152)],_0xe0c045;}catch(_0x15300d){return _0x15300d;}finally{_0xa99f39=undefined;}});}[a39_0x419589(0x17b)](_0x320959){var _0x546f5d,_0x57ddd8,_0x2dc4ea,_0x5b8c1e;return __awaiter(this,void(-0x1a5*-0x17+-0x3a4*0x2+-0x1e8b),void(-0xc70+-0x17a6*0x1+0x95*0x3e),function*(){const _0x4960fa=a39_0x34b4;try{if(this[_0x4960fa(0x169)][_0x4960fa(0x163)]){const _0x110957={};return _0x110957[_0x4960fa(0x176)]=_0x320959[_0x4960fa(0x18f)][_0x4960fa(0x176)],yield this[_0x4960fa(0x151)][_0x4960fa(0x17b)](_0x110957);}const _0x413654=[],_0x453121=(0x5*0x233+0x11d6+0x29f*-0xb,fs_1[_0x4960fa(0x189)+'c'])((-0x1*0x1921+-0xdf*-0x25+-0x71a,path_1['join'])(this[_0x4960fa(0x179)],_0x4960fa(0x156),_0x320959['where']['owner']));try{for(var _0x46dd98=!![],_0x369b68=__asyncValues(_0x453121),_0x35fe8b;_0x35fe8b=yield _0x369b68[_0x4960fa(0x153)](),_0x546f5d=_0x35fe8b[_0x4960fa(0x161)],!_0x546f5d;){_0x5b8c1e=_0x35fe8b['value'],_0x46dd98=![];try{const _0x5e393c=_0x5b8c1e;if(_0x5e393c[_0x4960fa(0x165)]()){const _0xbf3911={};_0xbf3911['encoding']=_0x4960fa(0x180),_0x413654[_0x4960fa(0x178)](JSON[_0x4960fa(0x18d)]((0x8a2+-0x13af+0xb0d,fs_1[_0x4960fa(0x15e)+'nc'])((0x1d9e+0x289*0x5+-0x2a4b,path_1[_0x4960fa(0x16e)])(this[_0x4960fa(0x179)],'chats',_0x320959[_0x4960fa(0x18f)][_0x4960fa(0x176)],_0x5e393c[_0x4960fa(0x18c)]),_0xbf3911)));}}finally{_0x46dd98=!![];}}}catch(_0x3624a6){const _0x568514={};_0x568514[_0x4960fa(0x158)]=_0x3624a6,_0x57ddd8=_0x568514;}finally{try{if(!_0x46dd98&&!_0x546f5d&&(_0x2dc4ea=_0x369b68[_0x4960fa(0x160)]))yield _0x2dc4ea['call'](_0x369b68);}finally{if(_0x57ddd8)throw _0x57ddd8['error'];}}return _0x413654;}catch(_0x5e0f54){return[];}});}['delete'](_0x2a1684){return __awaiter(this,void(0x1ab5*-0x1+0x55*-0x64+-0x88f*-0x7),void(-0x3*0xad7+-0x7*0x556+0x45df),function*(){const _0x1b674c=a39_0x34b4;try{if(this['dbSettings']['ENABLED'])return yield this[_0x1b674c(0x151)][_0x1b674c(0x185)](Object[_0x1b674c(0x159)]({},_0x2a1684['where']));const _0x4a15cc={};_0x4a15cc[_0x1b674c(0x154)]=!![],_0x4a15cc[_0x1b674c(0x187)]=!![],(-0xcac+0xc9e+-0xe*-0x1,fs_1['rmSync'])((0x1d4d+-0x8a0+-0x1*0x14ad,path_1[_0x1b674c(0x16e)])(this[_0x1b674c(0x179)],_0x1b674c(0x156),_0x2a1684[_0x1b674c(0x18f)][_0x1b674c(0x176)],_0x2a1684[_0x1b674c(0x18f)]['id']+_0x1b674c(0x15f)),_0x4a15cc);const _0xead37e={};_0xead37e[_0x1b674c(0x17f)]=_0x2a1684[_0x1b674c(0x18f)]['id'];const _0x3121d7={};return _0x3121d7[_0x1b674c(0x191)]=_0xead37e,_0x3121d7;}catch(_0x33b484){return{'error':_0x33b484===null||_0x33b484===void(-0xe20+0x2a*0xc9+0xfe*-0x13)?void(0xf34+0x2f*0x3f+-0x1ac5):_0x33b484[_0x1b674c(0x162)]()};}});}}function a39_0x34b4(_0x289858,_0xdc354){const _0x1e0500=a39_0x2032();return a39_0x34b4=function(_0x30f7d3,_0x5a2cec){_0x30f7d3=_0x30f7d3-(0x217b+0x5cb*0x1+-0x25f6);let _0x52271b=_0x1e0500[_0x30f7d3];return _0x52271b;},a39_0x34b4(_0x289858,_0xdc354);}exports[a39_0x419589(0x17a)+a39_0x419589(0x18b)]=ChatRepository;