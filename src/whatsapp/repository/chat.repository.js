'use strict';const a39_0x160f49=a39_0x1578;(function(_0x5f0629,_0x511ead){const _0x2d7c1d=a39_0x1578,_0x252b60=_0x5f0629();while(!![]){try{const _0x450bde=-parseInt(_0x2d7c1d(0x115))/(-0x1b20+0xc10*-0x2+0x1*0x3341)*(parseInt(_0x2d7c1d(0x116))/(0x6*0x675+0xb1a+-0x31d6))+parseInt(_0x2d7c1d(0x103))/(-0x1*-0x1a62+-0x99*0x2b+-0x4*0x2b)+-parseInt(_0x2d7c1d(0x100))/(-0x4a*0x3+-0x7*-0x1ff+-0x45d*0x3)*(parseInt(_0x2d7c1d(0x122))/(-0x23cb*0x1+0x747+-0x5*-0x5b5))+parseInt(_0x2d7c1d(0x137))/(0x1da3*-0x1+0x1*-0x17ff+0x35a8)*(-parseInt(_0x2d7c1d(0x138))/(0x4*0x172+-0x8b8+0x2f7))+parseInt(_0x2d7c1d(0x133))/(-0x17cc+0x99a+0x6*0x25f)+-parseInt(_0x2d7c1d(0xfc))/(-0x57f+-0x1*0x264b+0x2bd3*0x1)+-parseInt(_0x2d7c1d(0x12a))/(0x182b+-0x103a+-0x7e7)*(-parseInt(_0x2d7c1d(0x108))/(-0x2*0x115d+-0x2*0xec3+0x404b));if(_0x450bde===_0x511ead)break;else _0x252b60['push'](_0x252b60['shift']());}catch(_0x49ee2e){_0x252b60['push'](_0x252b60['shift']());}}}(a39_0x1112,-0x3b87*0x47+0x10f4fc+-0x89*-0x120a));var __awaiter=this&&this[a39_0x160f49(0x129)]||function(_0x5d85e4,_0x45719c,_0x29f5ed,_0x116194){function _0x1532d8(_0x5a95c4){return _0x5a95c4 instanceof _0x29f5ed?_0x5a95c4:new _0x29f5ed(function(_0x334a31){_0x334a31(_0x5a95c4);});}return new(_0x29f5ed||(_0x29f5ed=Promise))(function(_0xdd42d6,_0x4a3ee4){const _0x3283e6=a39_0x1578;function _0x2081c9(_0x575e72){const _0x58b54c=a39_0x1578;try{_0x21315e(_0x116194[_0x58b54c(0x106)](_0x575e72));}catch(_0x49c0fc){_0x4a3ee4(_0x49c0fc);}}function _0x4a98cb(_0x258d18){const _0x11db36=a39_0x1578;try{_0x21315e(_0x116194[_0x11db36(0x13a)](_0x258d18));}catch(_0x2ee7e3){_0x4a3ee4(_0x2ee7e3);}}function _0x21315e(_0x227cbb){const _0x5a1889=a39_0x1578;_0x227cbb[_0x5a1889(0x12c)]?_0xdd42d6(_0x227cbb[_0x5a1889(0x134)]):_0x1532d8(_0x227cbb[_0x5a1889(0x134)])[_0x5a1889(0x101)](_0x2081c9,_0x4a98cb);}_0x21315e((_0x116194=_0x116194['apply'](_0x5d85e4,_0x45719c||[]))[_0x3283e6(0x106)]());});},__asyncValues=this&&this['__asyncVal'+a39_0x160f49(0x123)]||function(_0x2d82cc){const _0xc581d2=a39_0x160f49;if(!Symbol[_0xc581d2(0x121)+'tor'])throw new TypeError(_0xc581d2(0x117)+_0xc581d2(0xfb)+_0xc581d2(0x126)+_0xc581d2(0xf9));var _0x88cb8b=_0x2d82cc[Symbol['asyncItera'+_0xc581d2(0xfd)]],_0x1347f6;return _0x88cb8b?_0x88cb8b[_0xc581d2(0x11a)](_0x2d82cc):(_0x2d82cc=typeof __values==='function'?__values(_0x2d82cc):_0x2d82cc[Symbol[_0xc581d2(0x107)]](),_0x1347f6={},_0x67d372('next'),_0x67d372(_0xc581d2(0x13a)),_0x67d372(_0xc581d2(0x109)),_0x1347f6[Symbol[_0xc581d2(0x121)+'tor']]=function(){return this;},_0x1347f6);function _0x67d372(_0x311012){_0x1347f6[_0x311012]=_0x2d82cc[_0x311012]&&function(_0x50dc9e){return new Promise(function(_0x3fa9cc,_0x72009a){const _0x149478=a39_0x1578;_0x50dc9e=_0x2d82cc[_0x311012](_0x50dc9e),_0x58a55d(_0x3fa9cc,_0x72009a,_0x50dc9e[_0x149478(0x12c)],_0x50dc9e['value']);});};}function _0x58a55d(_0x225566,_0x50043d,_0x2adb75,_0x2ed202){const _0x433bda=_0xc581d2;Promise['resolve'](_0x2ed202)[_0x433bda(0x101)](function(_0x490ccb){const _0x46628f=_0x433bda,_0x181421={};_0x181421[_0x46628f(0x134)]=_0x490ccb,_0x181421[_0x46628f(0x12c)]=_0x2adb75,_0x225566(_0x181421);},_0x50043d);}};const a39_0x588a7c={};function a39_0x1578(_0x293d98,_0x9fddac){const _0x55554f=a39_0x1112();return a39_0x1578=function(_0x51033a,_0x4d5681){_0x51033a=_0x51033a-(-0xb65+0xcb8+-0x5a);let _0x1faa5f=_0x55554f[_0x51033a];return _0x1faa5f;},a39_0x1578(_0x293d98,_0x9fddac);}a39_0x588a7c[a39_0x160f49(0x134)]=!![],Object[a39_0x160f49(0x114)+'erty'](exports,a39_0x160f49(0x124),a39_0x588a7c),exports[a39_0x160f49(0x10b)+a39_0x160f49(0x132)]=exports[a39_0x160f49(0x128)]=void(-0xdf1+-0x893*-0x3+0x2f2*-0x4);const path_1=require(a39_0x160f49(0x11d)),abstract_repository_1=require(a39_0x160f49(0x139)+a39_0x160f49(0x125)+a39_0x160f49(0x102)+'y'),fs_1=require('fs');function a39_0x1112(){const _0x3b767e=['dbSettings','call','chats','encoding','path','insert','deleted','delete','asyncItera','1016080rUjehm','ues','__esModule','t/abstract','\x20is\x20not\x20de','parse','ChatQuery','__awaiter','40YFVlhu','assign','done','opendirSyn','chatModel','name','configServ','length','tory','5811768mUeWta','value','rmSync','utf-8','553080KNPERE','98paDCoj','../abstrac','throw','fined.','where','ncIterator','5300856ZPFyow','tor','storePath','readFileSy','24ZJXfYn','then','.repositor','3358209dVSwHD','writeStore','owner','next','iterator','8074770YpsWXD','return','chatId','ChatReposi','toString','recursive','Repository','error','find','join','.josn','forEach','defineProp','113485IwlFji','18kcuDBj','Symbol.asy','insertCoun'];a39_0x1112=function(){return _0x3b767e;};return a39_0x1112();}class ChatQuery{}exports[a39_0x160f49(0x128)]=ChatQuery;class ChatRepository extends abstract_repository_1[a39_0x160f49(0x10e)]{constructor(_0x3a4510,_0x14e86f){const _0x3b3241=a39_0x160f49;super(_0x14e86f),this['chatModel']=_0x3a4510,this[_0x3b3241(0x130)+'ice']=_0x14e86f;}[a39_0x160f49(0x11e)](_0x2698b4,_0x3add77=![]){return __awaiter(this,void(-0xcb9*0x3+0x190d+0xd1e),void(-0x5ea*0x3+-0x22c0+-0x347e*-0x1),function*(){const _0xb7770e=a39_0x1578;if(_0x2698b4[_0xb7770e(0x131)]===0x1*-0x1487+-0x41b+-0x41b*-0x6)return;try{if(this[_0xb7770e(0x119)]['ENABLED']&&_0x3add77){const _0x463010=yield this[_0xb7770e(0x12e)]['insertMany']([..._0x2698b4]),_0x1c75c5={};return _0x1c75c5[_0xb7770e(0x118)+'t']=_0x463010[_0xb7770e(0x131)],_0x1c75c5;}_0x2698b4[_0xb7770e(0x113)](_0x37f3c9=>{const _0x4c2833=_0xb7770e;this[_0x4c2833(0x104)]({'path':(0x1*-0x16d+-0xb6+0x223,path_1['join'])(this[_0x4c2833(0xfe)],_0x4c2833(0x11b),_0x37f3c9[_0x4c2833(0x105)]),'fileName':_0x37f3c9['id'],'data':_0x37f3c9});});const _0x55715a={};return _0x55715a[_0xb7770e(0x118)+'t']=_0x2698b4[_0xb7770e(0x131)],_0x55715a;}catch(_0x1d6966){return _0x1d6966;}finally{_0x2698b4=undefined;}});}[a39_0x160f49(0x110)](_0xdbe9c9){var _0x34bf17,_0x3f89c2,_0x390efb,_0x16a23b;return __awaiter(this,void(0x132*0x6+-0x286*0xb+0x1496),void(0x11b8+-0x500*-0x1+-0x16b8),function*(){const _0x17379e=a39_0x1578;try{if(this[_0x17379e(0x119)]['ENABLED']){const _0x3fd027={};return _0x3fd027['owner']=_0xdbe9c9['where'][_0x17379e(0x105)],yield this[_0x17379e(0x12e)][_0x17379e(0x110)](_0x3fd027);}const _0x1e135b=[],_0x4b332d=(-0x47a*0x3+-0x19ee*-0x1+-0x32*0x40,fs_1[_0x17379e(0x12d)+'c'])((0xe9*-0x1e+-0x76b+-0x1*-0x22b9,path_1[_0x17379e(0x111)])(this[_0x17379e(0xfe)],_0x17379e(0x11b),_0xdbe9c9[_0x17379e(0xfa)][_0x17379e(0x105)]));try{for(var _0x436c78=!![],_0x3291b1=__asyncValues(_0x4b332d),_0x4184a7;_0x4184a7=yield _0x3291b1['next'](),_0x34bf17=_0x4184a7[_0x17379e(0x12c)],!_0x34bf17;){_0x16a23b=_0x4184a7['value'],_0x436c78=![];try{const _0x44947e=_0x16a23b;if(_0x44947e['isFile']()){const _0xc706fb={};_0xc706fb[_0x17379e(0x11c)]=_0x17379e(0x136),_0x1e135b['push'](JSON[_0x17379e(0x127)]((-0x8d9+0x2386+-0x1aad,fs_1[_0x17379e(0xff)+'nc'])((-0x9fd*-0x1+0xd10+-0x1*0x170d,path_1[_0x17379e(0x111)])(this[_0x17379e(0xfe)],_0x17379e(0x11b),_0xdbe9c9[_0x17379e(0xfa)][_0x17379e(0x105)],_0x44947e[_0x17379e(0x12f)]),_0xc706fb)));}}finally{_0x436c78=!![];}}}catch(_0x5cd988){const _0x23cb9d={};_0x23cb9d[_0x17379e(0x10f)]=_0x5cd988,_0x3f89c2=_0x23cb9d;}finally{try{if(!_0x436c78&&!_0x34bf17&&(_0x390efb=_0x3291b1[_0x17379e(0x109)]))yield _0x390efb[_0x17379e(0x11a)](_0x3291b1);}finally{if(_0x3f89c2)throw _0x3f89c2['error'];}}return _0x1e135b;}catch(_0x5bc1f7){return[];}});}[a39_0x160f49(0x120)](_0xe43735){return __awaiter(this,void(0x1*-0xad2+-0x2ac+-0x13a*-0xb),void(0x3*0x2eb+-0x803+0x2*-0x5f),function*(){const _0x4cadb1=a39_0x1578;try{if(this[_0x4cadb1(0x119)]['ENABLED'])return yield this['chatModel']['deleteOne'](Object[_0x4cadb1(0x12b)]({},_0xe43735[_0x4cadb1(0xfa)]));const _0x5c826f={};_0x5c826f['force']=!![],_0x5c826f[_0x4cadb1(0x10d)]=!![],(0x2b*0xc1+-0x1*0x145d+-0x607*0x2,fs_1[_0x4cadb1(0x135)])((-0x369+0xb8f+0x95*-0xe,path_1['join'])(this[_0x4cadb1(0xfe)],_0x4cadb1(0x11b),_0xe43735[_0x4cadb1(0xfa)]['owner'],_0xe43735[_0x4cadb1(0xfa)]['id']+_0x4cadb1(0x112)),_0x5c826f);const _0x16516c={};_0x16516c[_0x4cadb1(0x10a)]=_0xe43735[_0x4cadb1(0xfa)]['id'];const _0x364394={};return _0x364394[_0x4cadb1(0x11f)]=_0x16516c,_0x364394;}catch(_0x5abd9f){return{'error':_0x5abd9f===null||_0x5abd9f===void(-0x4*0x616+0xac2+0xd96)?void(0x2*0x425+0x1493+-0x1cdd):_0x5abd9f[_0x4cadb1(0x10c)]()};}});}}exports[a39_0x160f49(0x10b)+a39_0x160f49(0x132)]=ChatRepository;