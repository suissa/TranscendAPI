'use strict';const a39_0x479791=a39_0x5513;(function(_0x595f20,_0x4e01cf){const _0x55275b=a39_0x5513,_0x125936=_0x595f20();while(!![]){try{const _0x44a25e=parseInt(_0x55275b(0xfd))/(0x1*0x22d5+0x24ad+0x20b*-0x23)+-parseInt(_0x55275b(0x114))/(-0x54b+-0x551+0xa9e)+-parseInt(_0x55275b(0xf7))/(-0x7c6*-0x1+-0x246b+0xe54*0x2)+parseInt(_0x55275b(0xf2))/(-0x5f6*0x2+-0xc6*0x1+0x2*0x65b)*(-parseInt(_0x55275b(0x123))/(0x1762+0x4a9+-0x1c06))+-parseInt(_0x55275b(0x102))/(-0x1a3c+-0x2*0x12fd+0x2*0x201e)*(parseInt(_0x55275b(0x11e))/(-0x702+0x5c9*-0x5+-0x1*-0x23f6))+-parseInt(_0x55275b(0x10a))/(-0x99+-0x5*0x416+0x9*0x257)+parseInt(_0x55275b(0x110))/(0x21a4+0x6d*0x4+-0x234f);if(_0x44a25e===_0x4e01cf)break;else _0x125936['push'](_0x125936['shift']());}catch(_0x1c700f){_0x125936['push'](_0x125936['shift']());}}}(a39_0x3332,0x13c51+-0x4e3*-0x83+-0xd81a*0x1));var __awaiter=this&&this[a39_0x479791(0x12b)]||function(_0x11abe7,_0x1bc4ec,_0x5a4ed9,_0x4d19d0){function _0x21d6f5(_0x42a76b){return _0x42a76b instanceof _0x5a4ed9?_0x42a76b:new _0x5a4ed9(function(_0x545c90){_0x545c90(_0x42a76b);});}return new(_0x5a4ed9||(_0x5a4ed9=Promise))(function(_0xda25b6,_0x1789a9){const _0xdd07bb=a39_0x5513;function _0x5c1c2d(_0x107ebe){try{_0x2409cd(_0x4d19d0['next'](_0x107ebe));}catch(_0x28b05a){_0x1789a9(_0x28b05a);}}function _0x57b5b0(_0xc6db41){const _0x214fcd=a39_0x5513;try{_0x2409cd(_0x4d19d0[_0x214fcd(0xfc)](_0xc6db41));}catch(_0x43e8aa){_0x1789a9(_0x43e8aa);}}function _0x2409cd(_0x58106e){const _0x307582=a39_0x5513;_0x58106e[_0x307582(0x127)]?_0xda25b6(_0x58106e[_0x307582(0x10c)]):_0x21d6f5(_0x58106e[_0x307582(0x10c)])['then'](_0x5c1c2d,_0x57b5b0);}_0x2409cd((_0x4d19d0=_0x4d19d0[_0xdd07bb(0xfa)](_0x11abe7,_0x1bc4ec||[]))[_0xdd07bb(0x10b)]());});},__asyncValues=this&&this[a39_0x479791(0x104)+a39_0x479791(0x116)]||function(_0x5c95fa){const _0x1d4da5=a39_0x479791;if(!Symbol[_0x1d4da5(0x100)+_0x1d4da5(0xf0)])throw new TypeError('Symbol.asy'+'ncIterator'+_0x1d4da5(0x124)+_0x1d4da5(0x120));var _0x1a03ac=_0x5c95fa[Symbol[_0x1d4da5(0x100)+_0x1d4da5(0xf0)]],_0x2a0e47;return _0x1a03ac?_0x1a03ac[_0x1d4da5(0x10d)](_0x5c95fa):(_0x5c95fa=typeof __values===_0x1d4da5(0x118)?__values(_0x5c95fa):_0x5c95fa[Symbol[_0x1d4da5(0xfb)]](),_0x2a0e47={},_0xb11b25(_0x1d4da5(0x10b)),_0xb11b25('throw'),_0xb11b25('return'),_0x2a0e47[Symbol[_0x1d4da5(0x100)+_0x1d4da5(0xf0)]]=function(){return this;},_0x2a0e47);function _0xb11b25(_0x1444ec){_0x2a0e47[_0x1444ec]=_0x5c95fa[_0x1444ec]&&function(_0x240772){return new Promise(function(_0x290670,_0x1f3ecb){const _0x6d9b1b=a39_0x5513;_0x240772=_0x5c95fa[_0x1444ec](_0x240772),_0x1daf17(_0x290670,_0x1f3ecb,_0x240772[_0x6d9b1b(0x127)],_0x240772[_0x6d9b1b(0x10c)]);});};}function _0x1daf17(_0x255e72,_0x6e0e41,_0x2d3fb2,_0x4b3ec4){const _0x1c436d=_0x1d4da5;Promise['resolve'](_0x4b3ec4)[_0x1c436d(0x117)](function(_0x48fbcf){const _0xfac639=_0x1c436d,_0x502c3a={};_0x502c3a[_0xfac639(0x10c)]=_0x48fbcf,_0x502c3a[_0xfac639(0x127)]=_0x2d3fb2,_0x255e72(_0x502c3a);},_0x6e0e41);}};const a39_0xcfb8e9={};a39_0xcfb8e9[a39_0x479791(0x10c)]=!![],Object['defineProp'+a39_0x479791(0x12d)](exports,a39_0x479791(0x103),a39_0xcfb8e9),exports['ChatReposi'+a39_0x479791(0x10f)]=exports[a39_0x479791(0xf3)]=void(0x20d4*-0x1+0x25dd+-0x509);function a39_0x5513(_0x228cc9,_0x510a32){const _0x48b312=a39_0x3332();return a39_0x5513=function(_0x306b39,_0x53cac){_0x306b39=_0x306b39-(-0xf25*-0x1+-0x1fc8+0x1193);let _0xcfb8e9=_0x48b312[_0x306b39];return _0xcfb8e9;},a39_0x5513(_0x228cc9,_0x510a32);}const path_1=require(a39_0x479791(0x11f)),abstract_repository_1=require('../abstrac'+a39_0x479791(0x101)+'.repositor'+'y'),fs_1=require('fs');function a39_0x3332(){const _0x41f068=['join','find','147526pYRNfk','.josn','ues','then','function','assign','where','delete','dbSettings','length','186872dHjvla','path','fined.','toString','configServ','5885zrqiaL','\x20is\x20not\x20de','push','deleteOne','done','rmSync','ChatReposi','parse','__awaiter','writeStore','erty','recursive','chats','tor','encoding','880xFpuFS','ChatQuery','force','owner','deleted','148494FMLbay','insertMany','storePath','apply','iterator','throw','78840wKbxvB','Repository','readFileSy','asyncItera','t/abstract','54ckFwUr','__esModule','__asyncVal','ENABLED','chatId','ice','chatModel','error','1626224FphNju','next','value','call','insertCoun','tory','8427951JSFNrl','utf-8'];a39_0x3332=function(){return _0x41f068;};return a39_0x3332();}class ChatQuery{}exports[a39_0x479791(0xf3)]=ChatQuery;class ChatRepository extends abstract_repository_1[a39_0x479791(0xfe)]{constructor(_0xbb8e34,_0x4f34f1){const _0x159a89=a39_0x479791;super(_0x4f34f1),this['chatModel']=_0xbb8e34,this[_0x159a89(0x122)+_0x159a89(0x107)]=_0x4f34f1;}['insert'](_0x5e8126,_0x98a023=![]){return __awaiter(this,void(0x55e*0x3+-0xc1f*-0x1+-0x1c39),void(-0x1a26+0x1a*-0x151+0xe0*0x45),function*(){const _0x47e993=a39_0x5513;if(_0x5e8126[_0x47e993(0x11d)]===-0x1cb+0x97e+-0x7b3)return;try{if(this[_0x47e993(0x11c)][_0x47e993(0x105)]&&_0x98a023){const _0x1c568c=yield this[_0x47e993(0x108)][_0x47e993(0xf8)]([..._0x5e8126]),_0x2b15a2={};return _0x2b15a2[_0x47e993(0x10e)+'t']=_0x1c568c[_0x47e993(0x11d)],_0x2b15a2;}_0x5e8126['forEach'](_0x354107=>{const _0x355cda=_0x47e993;this[_0x355cda(0x12c)]({'path':(-0x119d+0x13c3+-0x226,path_1[_0x355cda(0x112)])(this[_0x355cda(0xf9)],'chats',_0x354107[_0x355cda(0xf5)]),'fileName':_0x354107['id'],'data':_0x354107});});const _0x5e41dd={};return _0x5e41dd[_0x47e993(0x10e)+'t']=_0x5e8126[_0x47e993(0x11d)],_0x5e41dd;}catch(_0x13c50f){return _0x13c50f;}finally{_0x5e8126=undefined;}});}[a39_0x479791(0x113)](_0x3f3d97){var _0x12063a,_0x2c2d8b,_0x3c3e7e,_0x29cc0d;return __awaiter(this,void(0x2235+0xe87*-0x1+-0x13ae),void(-0x1168+-0x11b1+0x1*0x2319),function*(){const _0x43d089=a39_0x5513;try{if(this['dbSettings'][_0x43d089(0x105)]){const _0x34c197={};return _0x34c197[_0x43d089(0xf5)]=_0x3f3d97[_0x43d089(0x11a)]['owner'],yield this[_0x43d089(0x108)][_0x43d089(0x113)](_0x34c197);}const _0x4d5884=[],_0x1c0b88=(0x3*-0xab3+0x3a*0x68+-0x889*-0x1,fs_1['opendirSyn'+'c'])((0x1f*-0x44+0x31a+-0x49*-0x12,path_1['join'])(this[_0x43d089(0xf9)],'chats',_0x3f3d97['where'][_0x43d089(0xf5)]));try{for(var _0x481f7d=!![],_0x58a607=__asyncValues(_0x1c0b88),_0x3eb917;_0x3eb917=yield _0x58a607[_0x43d089(0x10b)](),_0x12063a=_0x3eb917['done'],!_0x12063a;){_0x29cc0d=_0x3eb917[_0x43d089(0x10c)],_0x481f7d=![];try{const _0x346e18=_0x29cc0d;if(_0x346e18['isFile']()){const _0x34dd03={};_0x34dd03[_0x43d089(0xf1)]=_0x43d089(0x111),_0x4d5884[_0x43d089(0x125)](JSON[_0x43d089(0x12a)]((-0x18*0xc0+-0x1*-0x114a+0xe*0xd,fs_1[_0x43d089(0xff)+'nc'])((0x1ccf+-0xd25+-0xfaa,path_1[_0x43d089(0x112)])(this[_0x43d089(0xf9)],_0x43d089(0x12f),_0x3f3d97[_0x43d089(0x11a)]['owner'],_0x346e18['name']),_0x34dd03)));}}finally{_0x481f7d=!![];}}}catch(_0x30a691){const _0x4f6056={};_0x4f6056[_0x43d089(0x109)]=_0x30a691,_0x2c2d8b=_0x4f6056;}finally{try{if(!_0x481f7d&&!_0x12063a&&(_0x3c3e7e=_0x58a607['return']))yield _0x3c3e7e['call'](_0x58a607);}finally{if(_0x2c2d8b)throw _0x2c2d8b['error'];}}return _0x4d5884;}catch(_0x3a546c){return[];}});}[a39_0x479791(0x11b)](_0x1f5866){return __awaiter(this,void(-0x1c4c+-0x1de9+-0x3*-0x1367),void(0xf8b+0xf7d+-0xf84*0x2),function*(){const _0x407e06=a39_0x5513;try{if(this['dbSettings'][_0x407e06(0x105)])return yield this[_0x407e06(0x108)][_0x407e06(0x126)](Object[_0x407e06(0x119)]({},_0x1f5866[_0x407e06(0x11a)]));const _0x47108b={};_0x47108b[_0x407e06(0xf4)]=!![],_0x47108b[_0x407e06(0x12e)]=!![],(-0x1*0x1637+0x3a*0x4c+0x4ff,fs_1[_0x407e06(0x128)])((0x4*0x62+-0x57*-0x1b+0x1*-0xab5,path_1[_0x407e06(0x112)])(this[_0x407e06(0xf9)],_0x407e06(0x12f),_0x1f5866[_0x407e06(0x11a)]['owner'],_0x1f5866[_0x407e06(0x11a)]['id']+_0x407e06(0x115)),_0x47108b);const _0x4f4627={};_0x4f4627[_0x407e06(0x106)]=_0x1f5866['where']['id'];const _0x249a78={};return _0x249a78[_0x407e06(0xf6)]=_0x4f4627,_0x249a78;}catch(_0x5100b7){return{'error':_0x5100b7===null||_0x5100b7===void(-0x1d95+0xe3*0x1a+0x22d*0x3)?void(-0x339+0x1a88+-0x174f):_0x5100b7[_0x407e06(0x121)]()};}});}}exports[a39_0x479791(0x129)+a39_0x479791(0x10f)]=ChatRepository;