'use strict';const a38_0x5038d7=a38_0x33ae;(function(_0x49e7b4,_0x5e360b){const _0x4b2595=a38_0x33ae,_0x2acd3a=_0x49e7b4();while(!![]){try{const _0x101716=parseInt(_0x4b2595(0x17f))/(-0xfb*0xb+0xbb4*0x1+-0xea)*(parseInt(_0x4b2595(0x162))/(0x3*-0x70b+-0x1669+0x2b8c))+parseInt(_0x4b2595(0x18c))/(-0x24e9+-0xc0*-0x2e+-0x2*-0x136)*(parseInt(_0x4b2595(0x15e))/(0x12f9+-0x1453+0x23*0xa))+-parseInt(_0x4b2595(0x183))/(-0x1*-0x37d+-0x3ff*0x3+0x885)*(-parseInt(_0x4b2595(0x175))/(-0x43*0x55+0x867+0xdde))+-parseInt(_0x4b2595(0x16c))/(-0x1*-0x1e2c+-0x1326+-0xaff)+parseInt(_0x4b2595(0x18b))/(0x268a+-0x2*0xa76+-0x1196)+parseInt(_0x4b2595(0x16b))/(-0xd*0x45+-0x8db+-0xc65*-0x1)+-parseInt(_0x4b2595(0x164))/(0x24e5+-0x1*0xa37+-0x26c*0xb);if(_0x101716===_0x5e360b)break;else _0x2acd3a['push'](_0x2acd3a['shift']());}catch(_0x28b4d1){_0x2acd3a['push'](_0x2acd3a['shift']());}}}(a38_0x1d53,-0xb0ca9+-0x101cc6+0x246a52));var __awaiter=this&&this[a38_0x5038d7(0x154)]||function(_0x13b3f9,_0x239246,_0x2550a4,_0x1e6feb){function _0x5e3aee(_0x4bf563){return _0x4bf563 instanceof _0x2550a4?_0x4bf563:new _0x2550a4(function(_0xd2af12){_0xd2af12(_0x4bf563);});}return new(_0x2550a4||(_0x2550a4=Promise))(function(_0x2e8e3e,_0x5a3e3c){const _0x8b75fe=a38_0x33ae;function _0x517b38(_0x447ed5){try{_0x292778(_0x1e6feb['next'](_0x447ed5));}catch(_0x2af107){_0x5a3e3c(_0x2af107);}}function _0x44fc19(_0x58629b){const _0x21a114=a38_0x33ae;try{_0x292778(_0x1e6feb[_0x21a114(0x189)](_0x58629b));}catch(_0x1808e7){_0x5a3e3c(_0x1808e7);}}function _0x292778(_0x5ed081){const _0x232eee=a38_0x33ae;_0x5ed081[_0x232eee(0x155)]?_0x2e8e3e(_0x5ed081[_0x232eee(0x16d)]):_0x5e3aee(_0x5ed081[_0x232eee(0x16d)])[_0x232eee(0x185)](_0x517b38,_0x44fc19);}_0x292778((_0x1e6feb=_0x1e6feb[_0x8b75fe(0x170)](_0x13b3f9,_0x239246||[]))['next']());});},__asyncValues=this&&this['__asyncVal'+'ues']||function(_0x4976ce){const _0x3b6dfb=a38_0x5038d7;if(!Symbol[_0x3b6dfb(0x172)+'tor'])throw new TypeError(_0x3b6dfb(0x187)+_0x3b6dfb(0x17a)+_0x3b6dfb(0x186)+'fined.');var _0x2dad4f=_0x4976ce[Symbol['asyncItera'+_0x3b6dfb(0x167)]],_0x4ae83d;return _0x2dad4f?_0x2dad4f[_0x3b6dfb(0x15d)](_0x4976ce):(_0x4976ce=typeof __values==='function'?__values(_0x4976ce):_0x4976ce[Symbol['iterator']](),_0x4ae83d={},_0x151d90(_0x3b6dfb(0x17b)),_0x151d90(_0x3b6dfb(0x189)),_0x151d90(_0x3b6dfb(0x173)),_0x4ae83d[Symbol['asyncItera'+_0x3b6dfb(0x167)]]=function(){return this;},_0x4ae83d);function _0x151d90(_0x2503d5){_0x4ae83d[_0x2503d5]=_0x4976ce[_0x2503d5]&&function(_0x2ff334){return new Promise(function(_0x38bd37,_0x323b18){const _0x54b4b1=a38_0x33ae;_0x2ff334=_0x4976ce[_0x2503d5](_0x2ff334),_0x4b7338(_0x38bd37,_0x323b18,_0x2ff334[_0x54b4b1(0x155)],_0x2ff334[_0x54b4b1(0x16d)]);});};}function _0x4b7338(_0x453f5e,_0x47de4d,_0x171158,_0x29c977){const _0x1c83de=_0x3b6dfb;Promise[_0x1c83de(0x169)](_0x29c977)[_0x1c83de(0x185)](function(_0x3e19fb){const _0x3b37a7=_0x1c83de,_0x1a02d9={};_0x1a02d9[_0x3b37a7(0x16d)]=_0x3e19fb,_0x1a02d9[_0x3b37a7(0x155)]=_0x171158,_0x453f5e(_0x1a02d9);},_0x47de4d);}};const a38_0xd4706d={};a38_0xd4706d[a38_0x5038d7(0x16d)]=!![],Object[a38_0x5038d7(0x15a)+'erty'](exports,a38_0x5038d7(0x156),a38_0xd4706d),exports[a38_0x5038d7(0x15f)+a38_0x5038d7(0x16a)]=exports[a38_0x5038d7(0x177)]=void(-0x233c+-0x2255+0x4591);const path_1=require(a38_0x5038d7(0x176)),abstract_repository_1=require(a38_0x5038d7(0x174)+a38_0x5038d7(0x18a)+a38_0x5038d7(0x161)+'y'),fs_1=require('fs');function a38_0x1d53(){const _0xf17587=['defineProp','length','chatId','call','4MvSTCy','ChatReposi','storePath','.repositor','100546llPoWk','error','17446730pzpMRw','Repository','.josn','tor','writeStore','resolve','tory','3914505rYPokz','6984789FEKAbL','value','insertMany','ice','apply','force','asyncItera','return','../abstrac','6ESVmQu','path','ChatQuery','name','encoding','ncIterator','next','deleteOne','toString','ENABLED','13fGAdQR','utf-8','chats','dbSettings','3481645MaeANG','delete','then','\x20is\x20not\x20de','Symbol.asy','insertCoun','throw','t/abstract','9187320YxBDcW','1247091dNSnHP','assign','push','isFile','configServ','forEach','find','insert','readFileSy','join','__awaiter','done','__esModule','where','owner','chatModel'];a38_0x1d53=function(){return _0xf17587;};return a38_0x1d53();}class ChatQuery{}exports[a38_0x5038d7(0x177)]=ChatQuery;class ChatRepository extends abstract_repository_1[a38_0x5038d7(0x165)]{constructor(_0x3861c6,_0x5b2852){const _0x838001=a38_0x5038d7;super(_0x5b2852),this[_0x838001(0x159)]=_0x3861c6,this[_0x838001(0x14e)+_0x838001(0x16f)]=_0x5b2852;}[a38_0x5038d7(0x151)](_0x462650,_0x32ee58=![]){return __awaiter(this,void(-0xb45+0xc44+-0xff),void(-0x15e5*0x1+-0x22ab+0x3890),function*(){const _0x34dd1d=a38_0x33ae;if(_0x462650[_0x34dd1d(0x15b)]===0x201e+-0x1d0e*-0x1+-0x3d2c)return;try{if(this['dbSettings'][_0x34dd1d(0x17e)]&&_0x32ee58){const _0x133ea1=yield this[_0x34dd1d(0x159)][_0x34dd1d(0x16e)]([..._0x462650]),_0x3f7d80={};return _0x3f7d80['insertCoun'+'t']=_0x133ea1[_0x34dd1d(0x15b)],_0x3f7d80;}_0x462650[_0x34dd1d(0x14f)](_0x50c8d5=>{const _0x543bf3=_0x34dd1d;this[_0x543bf3(0x168)]({'path':(0x3*0x1d6+0xd5*-0x11+-0x3*-0x2e1,path_1[_0x543bf3(0x153)])(this[_0x543bf3(0x160)],'chats',_0x50c8d5[_0x543bf3(0x158)]),'fileName':_0x50c8d5['id'],'data':_0x50c8d5});});const _0x7655cf={};return _0x7655cf[_0x34dd1d(0x188)+'t']=_0x462650[_0x34dd1d(0x15b)],_0x7655cf;}catch(_0x487239){return _0x487239;}finally{_0x462650=undefined;}});}[a38_0x5038d7(0x150)](_0x40e32b){var _0x106ffa,_0x62d14,_0xed34ac,_0x552892;return __awaiter(this,void(-0x1*0xda5+0x15e9*0x1+0x2e*-0x2e),void(0xb*0x223+0x35f*-0x4+0x87*-0x13),function*(){const _0x29742b=a38_0x33ae;try{if(this[_0x29742b(0x182)][_0x29742b(0x17e)]){const _0x5376d9={};return _0x5376d9[_0x29742b(0x158)]=_0x40e32b[_0x29742b(0x157)]['owner'],yield this[_0x29742b(0x159)][_0x29742b(0x150)](_0x5376d9);}const _0x2d198f=[],_0x1634b2=(-0x2664+-0x1f*-0xe9+0xa2d,fs_1['opendirSyn'+'c'])((-0x3b2*0x3+-0x2545+0x305b,path_1[_0x29742b(0x153)])(this[_0x29742b(0x160)],'chats',_0x40e32b[_0x29742b(0x157)][_0x29742b(0x158)]));try{for(var _0x18b961=!![],_0x433268=__asyncValues(_0x1634b2),_0x59cfa7;_0x59cfa7=yield _0x433268[_0x29742b(0x17b)](),_0x106ffa=_0x59cfa7[_0x29742b(0x155)],!_0x106ffa;){_0x552892=_0x59cfa7[_0x29742b(0x16d)],_0x18b961=![];try{const _0x338525=_0x552892;if(_0x338525[_0x29742b(0x14d)]()){const _0x2b998c={};_0x2b998c[_0x29742b(0x179)]=_0x29742b(0x180),_0x2d198f[_0x29742b(0x14c)](JSON['parse']((0x293*-0xf+0x1*0x1bbb+-0x1*-0xae2,fs_1[_0x29742b(0x152)+'nc'])((0x1eab*-0x1+0x3a0+0x1b0b*0x1,path_1[_0x29742b(0x153)])(this[_0x29742b(0x160)],_0x29742b(0x181),_0x40e32b[_0x29742b(0x157)][_0x29742b(0x158)],_0x338525[_0x29742b(0x178)]),_0x2b998c)));}}finally{_0x18b961=!![];}}}catch(_0x37115d){const _0xb7b691={};_0xb7b691[_0x29742b(0x163)]=_0x37115d,_0x62d14=_0xb7b691;}finally{try{if(!_0x18b961&&!_0x106ffa&&(_0xed34ac=_0x433268[_0x29742b(0x173)]))yield _0xed34ac[_0x29742b(0x15d)](_0x433268);}finally{if(_0x62d14)throw _0x62d14['error'];}}return _0x2d198f;}catch(_0x313863){return[];}});}[a38_0x5038d7(0x184)](_0x156802){return __awaiter(this,void(0xd*-0x1f9+-0x45*-0x1b+0x92f*0x2),void(0x24e4+-0x155*-0x9+-0x104b*0x3),function*(){const _0x22828a=a38_0x33ae;try{if(this[_0x22828a(0x182)][_0x22828a(0x17e)])return yield this[_0x22828a(0x159)][_0x22828a(0x17c)](Object[_0x22828a(0x18d)]({},_0x156802['where']));const _0x221e1a={};_0x221e1a[_0x22828a(0x171)]=!![],_0x221e1a['recursive']=!![],(0x12*0x83+0x10ef+-0x1a25,fs_1['rmSync'])((-0x41*-0x63+-0x810+-0x1113,path_1['join'])(this[_0x22828a(0x160)],'chats',_0x156802[_0x22828a(0x157)][_0x22828a(0x158)],_0x156802['where']['id']+_0x22828a(0x166)),_0x221e1a);const _0x1186c5={};_0x1186c5[_0x22828a(0x15c)]=_0x156802[_0x22828a(0x157)]['id'];const _0x4483ad={};return _0x4483ad['deleted']=_0x1186c5,_0x4483ad;}catch(_0xef233c){return{'error':_0xef233c===null||_0xef233c===void(-0x1e7*-0x3+-0x1f88+-0x19d3*-0x1)?void(0x477*-0x2+-0x6*0x1eb+-0x6d0*-0x3):_0xef233c[_0x22828a(0x17d)]()};}});}}function a38_0x33ae(_0x3c2099,_0x391bcf){const _0x307c51=a38_0x1d53();return a38_0x33ae=function(_0x806f81,_0xd4706d){_0x806f81=_0x806f81-(0x1911+-0x7f*0x3e+-0x6fd*-0x1);let _0x4af361=_0x307c51[_0x806f81];return _0x4af361;},a38_0x33ae(_0x3c2099,_0x391bcf);}exports['ChatReposi'+a38_0x5038d7(0x16a)]=ChatRepository;