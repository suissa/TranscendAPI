'use strict';const a21_0x1f4ab3=a21_0x31c2;(function(_0x569741,_0x5c398d){const _0x399ff1=a21_0x31c2,_0x3127e1=_0x569741();while(!![]){try{const _0x12debc=-parseInt(_0x399ff1(0x1b8))/(-0x1d3c+0x175*-0x4+0x2311)+-parseInt(_0x399ff1(0x197))/(-0x356+0x1*0x1756+-0x1*0x13fe)+parseInt(_0x399ff1(0x194))/(0x1565+0x1cd6*-0x1+0x774)+parseInt(_0x399ff1(0x1a4))/(0x1*-0xbc4+0x1d3c+-0x1174)*(parseInt(_0x399ff1(0x1c3))/(-0x17cf+0x14b2+0x322*0x1))+-parseInt(_0x399ff1(0x1b6))/(0x451+0x8ae+-0xcf9)+-parseInt(_0x399ff1(0x17f))/(-0x8*0x1c6+0x7*-0x1c5+0x2*0xd4d)*(-parseInt(_0x399ff1(0x19d))/(-0x23+-0xa68+0xa93*0x1))+-parseInt(_0x399ff1(0x18a))/(0x1*-0xf9e+0x663*-0x6+0x35f9);if(_0x12debc===_0x5c398d)break;else _0x3127e1['push'](_0x3127e1['shift']());}catch(_0x44ece5){_0x3127e1['push'](_0x3127e1['shift']());}}}(a21_0x4253,0x1667a4+0x79377+-0x120f17*0x1));var __awaiter=this&&this['__awaiter']||function(_0x459f10,_0x6c43d9,_0xfb449d,_0x719536){function _0x252381(_0x359daa){return _0x359daa instanceof _0xfb449d?_0x359daa:new _0xfb449d(function(_0x379aa8){_0x379aa8(_0x359daa);});}return new(_0xfb449d||(_0xfb449d=Promise))(function(_0x23c7c8,_0x656d2b){const _0x3a34e8=a21_0x31c2;function _0x324797(_0x9bdc11){const _0x414600=a21_0x31c2;try{_0x252a79(_0x719536[_0x414600(0x1be)](_0x9bdc11));}catch(_0x23f2ab){_0x656d2b(_0x23f2ab);}}function _0x33a472(_0x2805e9){const _0x44d106=a21_0x31c2;try{_0x252a79(_0x719536[_0x44d106(0x1c1)](_0x2805e9));}catch(_0x5a506f){_0x656d2b(_0x5a506f);}}function _0x252a79(_0x5c09b7){const _0x1d34de=a21_0x31c2;_0x5c09b7['done']?_0x23c7c8(_0x5c09b7[_0x1d34de(0x1b4)]):_0x252381(_0x5c09b7[_0x1d34de(0x1b4)])[_0x1d34de(0x19f)](_0x324797,_0x33a472);}_0x252a79((_0x719536=_0x719536[_0x3a34e8(0x190)](_0x459f10,_0x6c43d9||[]))['next']());});};const a21_0x315448={};function a21_0x4253(){const _0x3ed5a0=['configServ','generateHa','../service','connectToW','.service','value','connection','536538qOdWwU','ance','747696upXjvO','state','State','error','open','eleted','next','BadRequest','xception','throw','close','195ColdAz','delInstanc','create','config','Instance\x20l','apikey','authServic','7fTTujP','sages','ng/baileys','Log\x20out\x20in','deleteInst','created','erty','ervice','instanceIn','stance:\x20','Status','10038069ErCnca','toString','Exception','message','ce\x20needs\x20t','delay','apply','qrCode','InstanceCo','o\x20be\x20disco','2820363YHPBdW','logger','ntroller','613910mpInBx','log','logout','ptions','saveOldMes','InternalSe','6750056GUcMxm','auth','then','nnected','createInst','ogged\x20out','waMonitor','128908VJrfio','hatsapp','waInstance','refreshTok','instance','rverErrorE','repository','hash','instanceNa','ailed','s/whatsapp'];a21_0x4253=function(){return _0x3ed5a0;};return a21_0x4253();}function a21_0x31c2(_0xbfa05d,_0x454d8a){const _0x410770=a21_0x4253();return a21_0x31c2=function(_0x315448,_0x32d8bc){_0x315448=_0x315448-(0x1*0x407+0x2d*-0xdc+0x2421);let _0x44aa6f=_0x410770[_0x315448];return _0x44aa6f;},a21_0x31c2(_0xbfa05d,_0x454d8a);}a21_0x315448[a21_0x1f4ab3(0x1b4)]=!![],Object['defineProp'+a21_0x1f4ab3(0x185)](exports,'__esModule',a21_0x315448),exports[a21_0x1f4ab3(0x192)+a21_0x1f4ab3(0x196)]=void(-0x2478+0x1130+0x1348);const baileys_1=require('@adiwajshi'+a21_0x1f4ab3(0x181)),exceptions_1=require('../../exce'+a21_0x1f4ab3(0x19a)),whatsapp_service_1=require(a21_0x1f4ab3(0x1b1)+a21_0x1f4ab3(0x1ae)+a21_0x1f4ab3(0x1b3)),logger_config_1=require('../../conf'+'ig/logger.'+a21_0x1f4ab3(0x1c6));class InstanceController{constructor(_0x86a0ed,_0x57eb3e,_0x9f6674,_0xdcdfbe,_0x281c57){const _0x32a4f5=a21_0x1f4ab3;this['waMonitor']=_0x86a0ed,this[_0x32a4f5(0x1af)+'ice']=_0x57eb3e,this[_0x32a4f5(0x1aa)]=_0x9f6674,this['eventEmitt'+'er']=_0xdcdfbe,this[_0x32a4f5(0x17e)+'e']=_0x281c57,this[_0x32a4f5(0x195)]=new logger_config_1['Logger'](InstanceController['name']);}[a21_0x1f4ab3(0x1a1)+a21_0x1f4ab3(0x1b7)]({instanceName:_0x1dfb6b,apikey:_0x3dd328,saveOldMessages:saveOldMessages=![]}){return __awaiter(this,void(-0x179e*-0x1+0x201a+-0x37b8),void(0x5*0x1cf+0x2532+-0x13*0x26f),function*(){const _0x528519=a21_0x31c2,_0x3958f6=new whatsapp_service_1['WAStartupS'+(_0x528519(0x186))](this[_0x528519(0x1af)+'ice'],this['eventEmitt'+'er'],this[_0x528519(0x1aa)],saveOldMessages);_0x3958f6[_0x528519(0x1ac)+'me']=_0x1dfb6b,this[_0x528519(0x1a3)][_0x528519(0x1a6)+'s'][_0x3958f6['instanceNa'+'me']]=_0x3958f6,this[_0x528519(0x1a3)][_0x528519(0x1c4)+'eTime'](_0x3958f6[_0x528519(0x1ac)+'me']);let _0x1280c6={};if(!_0x3dd328){const _0x272ada={};_0x272ada['instanceNa'+'me']=_0x3958f6[_0x528519(0x1ac)+'me'],_0x1280c6=yield this[_0x528519(0x17e)+'e'][_0x528519(0x1b0)+'sh'](_0x272ada);}else{const _0x3f04ef={};_0x3f04ef[_0x528519(0x17d)]=_0x3dd328,yield this['repository'][_0x528519(0x19e)][_0x528519(0x1c5)](_0x3f04ef,_0x1dfb6b),_0x1280c6[_0x528519(0x17d)]=_0x3dd328;}const _0x55f189={};_0x55f189[_0x528519(0x1ac)+'me']=_0x3958f6[_0x528519(0x1ac)+'me'],_0x55f189['status']=_0x528519(0x184);const _0x51a03d={};return _0x51a03d[_0x528519(0x1a8)]=_0x55f189,_0x51a03d[_0x528519(0x1ab)]=_0x1280c6,_0x51a03d[_0x528519(0x19b)+_0x528519(0x180)]=saveOldMessages,_0x51a03d;});}[a21_0x1f4ab3(0x1b2)+'hatsapp']({instanceName:_0xf4a2ce}){var _0x169da1;return __awaiter(this,void(-0x15c9+0x1*0x1aa+0x33*0x65),void(0xad*-0x39+0x110b*-0x2+0x489b*0x1),function*(){const _0x4a84b6=a21_0x31c2;try{const _0x5f50b1=this[_0x4a84b6(0x1a3)][_0x4a84b6(0x1a6)+'s'][_0xf4a2ce],_0x2d5161=(_0x169da1=_0x5f50b1[_0x4a84b6(0x1b5)+_0x4a84b6(0x189)])===null||_0x169da1===void(-0x44f*-0x4+-0x12dc+-0xd0*-0x2)?void(-0x21a2+-0x3*-0xc83+-0x3e7):_0x169da1[_0x4a84b6(0x1b9)];switch(_0x2d5161){case _0x4a84b6(0x1c2):yield _0x5f50b1['connectToW'+_0x4a84b6(0x1a5)](),yield(0x1*-0x3cd+0x6ff+-0x199*0x2,baileys_1[_0x4a84b6(0x18f)])(0x3ff*-0x8+-0x1*0xdf3+0x35bb);return _0x5f50b1[_0x4a84b6(0x191)];case'connecting':return _0x5f50b1[_0x4a84b6(0x191)];default:const _0x5ca9fa={};_0x5ca9fa[_0x4a84b6(0x1ac)+'me']=_0xf4a2ce;return yield this[_0x4a84b6(0x1b5)+_0x4a84b6(0x1ba)](_0x5ca9fa);}}catch(_0x1ee838){this[_0x4a84b6(0x195)][_0x4a84b6(0x198)](_0x1ee838);}});}['connection'+a21_0x1f4ab3(0x1ba)]({instanceName:_0x7edf08}){return __awaiter(this,void(0x1002*0x1+0x7*-0xfb+0x1*-0x925),void(-0x2b3*-0x1+0x15dd+-0x20c*0xc),function*(){const _0xd0b805=a21_0x31c2;return this[_0xd0b805(0x1a3)][_0xd0b805(0x1a6)+'s'][_0x7edf08][_0xd0b805(0x1b5)+'Status'];});}['fetchInsta'+'nces']({instanceName:_0x3dc0d4}){return __awaiter(this,void(0x120e+-0x7*-0x4c1+-0x3355),void(-0x843+0x204f+0x51*-0x4c),function*(){const _0x53002a=a21_0x31c2;if(_0x3dc0d4)return this[_0x53002a(0x1a3)][_0x53002a(0x187)+'fo'](_0x3dc0d4);return this[_0x53002a(0x1a3)]['instanceIn'+'fo']();});}[a21_0x1f4ab3(0x199)]({instanceName:_0x22f5af}){var _0x490e2a,_0x24b09d;return __awaiter(this,void(0x13cb+-0x31d*-0x7+-0x2996),void(-0xda2+0x1833+0x21d*-0x5),function*(){const _0x3426d4=a21_0x31c2;try{yield(_0x24b09d=(_0x490e2a=this['waMonitor']['waInstance'+'s'][_0x22f5af])===null||_0x490e2a===void(0x745*0x3+0xc8*-0x4+-0x12af)?void(-0x1700+0xd7d+-0x5*-0x1e7):_0x490e2a['client'])===null||_0x24b09d===void(0x1d15+-0x33a*-0x1+0x9*-0x397)?void(0x16*0x193+0x9c3+0x8e1*-0x5):_0x24b09d[_0x3426d4(0x199)](_0x3426d4(0x182)+_0x3426d4(0x188)+_0x22f5af);const _0x24c562={};return _0x24c562[_0x3426d4(0x1bb)]=![],_0x24c562[_0x3426d4(0x18d)]=_0x3426d4(0x17c)+_0x3426d4(0x1a2),_0x24c562;}catch(_0x1c68a9){throw new exceptions_1[(_0x3426d4(0x19c))+(_0x3426d4(0x1a9))+(_0x3426d4(0x1c0))](_0x1c68a9[_0x3426d4(0x18b)]());}});}[a21_0x1f4ab3(0x183)+a21_0x1f4ab3(0x1b7)]({instanceName:_0x5a1c13}){return __awaiter(this,void(-0x3d5*-0xa+-0x1*0x523+-0x6a3*0x5),void(0x168a+0x3e9*0x7+-0x31e9),function*(){const _0x4bac26=a21_0x31c2,_0x335511={};_0x335511['instanceNa'+'me']=_0x5a1c13;const _0x3385b9=yield this['connection'+_0x4bac26(0x1ba)](_0x335511);if(_0x3385b9[_0x4bac26(0x1b9)]===_0x4bac26(0x1bc))throw new exceptions_1[(_0x4bac26(0x1bf))+(_0x4bac26(0x18c))](['Deletion\x20f'+_0x4bac26(0x1ad),'The\x20instan'+_0x4bac26(0x18e)+_0x4bac26(0x193)+_0x4bac26(0x1a0)]);try{delete this[_0x4bac26(0x1a3)][_0x4bac26(0x1a6)+'s'][_0x5a1c13];const _0x5b1825={};return _0x5b1825[_0x4bac26(0x1bb)]=![],_0x5b1825[_0x4bac26(0x18d)]='Instance\x20d'+_0x4bac26(0x1bd),_0x5b1825;}catch(_0xee2acb){throw new exceptions_1[(_0x4bac26(0x1bf))+(_0x4bac26(0x18c))](_0xee2acb['toString']());}});}['refreshTok'+'en'](_0x1209d3,_0x24ada2){return __awaiter(this,void(0xe31+-0x16*0xd1+0x3c5),void(-0xd*0x281+0xe6a+0x1223),function*(){const _0x26dacc=a21_0x31c2;return yield this[_0x26dacc(0x17e)+'e'][_0x26dacc(0x1a7)+'en'](_0x24ada2);});}}exports[a21_0x1f4ab3(0x192)+a21_0x1f4ab3(0x196)]=InstanceController;