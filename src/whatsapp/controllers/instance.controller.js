'use strict';const a21_0xd0a19e=a21_0x35a1;(function(_0x20ad13,_0x19df79){const _0x2fff29=a21_0x35a1,_0x20b6a4=_0x20ad13();while(!![]){try{const _0x423e3a=parseInt(_0x2fff29(0xc2))/(0x789*-0x3+0xf5+0xf1*0x17)+-parseInt(_0x2fff29(0xb0))/(0x1*0x9a9+0x18d*-0x5+0x6*-0x51)*(-parseInt(_0x2fff29(0xb8))/(0x1*-0xc3a+0x683+0x2dd*0x2))+parseInt(_0x2fff29(0x97))/(-0x1aff+-0xd7*0xd+0x25ee)+-parseInt(_0x2fff29(0xad))/(-0x1dff*0x1+-0xe31+0x2c35)+-parseInt(_0x2fff29(0xc5))/(-0x1b86+0x11*0x203+0x6a7*-0x1)*(parseInt(_0x2fff29(0x9e))/(0x1*-0x2429+-0x137a+0x37aa))+-parseInt(_0x2fff29(0xa8))/(-0x1e7b+0x4f*0x77+-0x6*0x109)*(parseInt(_0x2fff29(0xd4))/(-0x1e05+0x1*0xd3b+0x10d3))+parseInt(_0x2fff29(0x92))/(-0x1c02+0x2ef*0x1+0x191d);if(_0x423e3a===_0x19df79)break;else _0x20b6a4['push'](_0x20b6a4['shift']());}catch(_0x4c4883){_0x20b6a4['push'](_0x20b6a4['shift']());}}}(a21_0x3804,-0x1*0x36e6e+-0xff99+-0x70e*-0x155));var __awaiter=this&&this[a21_0xd0a19e(0x98)]||function(_0x1a256e,_0x320801,_0x3d1044,_0x8e934b){function _0x2d3e41(_0x4ad514){return _0x4ad514 instanceof _0x3d1044?_0x4ad514:new _0x3d1044(function(_0x567540){_0x567540(_0x4ad514);});}return new(_0x3d1044||(_0x3d1044=Promise))(function(_0x33c393,_0x341cba){const _0x13e403=a21_0x35a1;function _0x524316(_0x492feb){const _0x5e4da0=a21_0x35a1;try{_0x4a56c2(_0x8e934b[_0x5e4da0(0xae)](_0x492feb));}catch(_0x2733bb){_0x341cba(_0x2733bb);}}function _0x15b76d(_0x327c0b){const _0x4b20e8=a21_0x35a1;try{_0x4a56c2(_0x8e934b[_0x4b20e8(0x93)](_0x327c0b));}catch(_0x2336a9){_0x341cba(_0x2336a9);}}function _0x4a56c2(_0x4750bc){const _0x153dff=a21_0x35a1;_0x4750bc[_0x153dff(0xb3)]?_0x33c393(_0x4750bc[_0x153dff(0x90)]):_0x2d3e41(_0x4750bc[_0x153dff(0x90)])['then'](_0x524316,_0x15b76d);}_0x4a56c2((_0x8e934b=_0x8e934b['apply'](_0x1a256e,_0x320801||[]))[_0x13e403(0xae)]());});};const a21_0x94c475={};a21_0x94c475['value']=!![],Object[a21_0xd0a19e(0xbf)+a21_0xd0a19e(0xd8)](exports,a21_0xd0a19e(0xc7),a21_0x94c475),exports[a21_0xd0a19e(0xbb)+a21_0xd0a19e(0x8e)]=void(0x1f7a+-0x1c*0x8b+-0x2*0x823);function a21_0x3804(){const _0x176fda=['eTime','instanceIn','441dwJmsL','created','ance','delInstanc','erty','delay','waMonitor','Exception','toString','Logger','deleteInst','WAStartupS','auth','ntroller','ce\x20needs\x20t','value','close','9209690juTtDO','throw','eleted','eventEmitt','Instance\x20d','46216VXpnWk','__awaiter','o\x20be\x20disco','@adiwajshi','ice','apikey','open','3270225XLyDga','ng/baileys','InternalSe','ervice','Status','hatsapp','instance','state','State','connecting','56096UYtOqt','connection','s/whatsapp','refreshTok','message','2828085RMpcMC','next','authServic','2vzDqYF','BadRequest','hash','done','status','repository','instanceNa','nces','1418127ZgxVwv','rverErrorE','The\x20instan','InstanceCo','xception','Instance\x20l','error','defineProp','create','.service','296683WdAIuj','generateHa','ogged\x20out','6spgkpy','stance:\x20','__esModule','waInstance','nnected','createInst','config','Deletion\x20f','logout','../../exce','name','logger','client'];a21_0x3804=function(){return _0x176fda;};return a21_0x3804();}function a21_0x35a1(_0x44e63b,_0x45dd1f){const _0x5023b9=a21_0x3804();return a21_0x35a1=function(_0x586864,_0x94c475){_0x586864=_0x586864-(0x3*0x9ec+-0x133b+-0x9fd);let _0x561b37=_0x5023b9[_0x586864];return _0x561b37;},a21_0x35a1(_0x44e63b,_0x45dd1f);}const baileys_1=require(a21_0xd0a19e(0x9a)+a21_0xd0a19e(0x9f)),exceptions_1=require(a21_0xd0a19e(0xce)+'ptions'),whatsapp_service_1=require('../service'+a21_0xd0a19e(0xaa)+a21_0xd0a19e(0xc1)),logger_config_1=require('../../conf'+'ig/logger.'+a21_0xd0a19e(0xcb));class InstanceController{constructor(_0x5ad8c4,_0x1a8dc8,_0x5582a9,_0x2e938e,_0x5b8520){const _0x508293=a21_0xd0a19e;this['waMonitor']=_0x5ad8c4,this['configServ'+_0x508293(0x9b)]=_0x1a8dc8,this[_0x508293(0xb5)]=_0x5582a9,this[_0x508293(0x95)+'er']=_0x2e938e,this[_0x508293(0xaf)+'e']=_0x5b8520,this[_0x508293(0xd0)]=new logger_config_1[(_0x508293(0xdd))](InstanceController[_0x508293(0xcf)]);}[a21_0xd0a19e(0xca)+a21_0xd0a19e(0xd6)]({instanceName:_0x2f4072,apikey:_0x580e11}){return __awaiter(this,void(-0x98c+0x1*-0x1357+-0x91*-0x33),void(0x1c50+-0x1ea7+0x257),function*(){const _0x4ae3b5=a21_0x35a1,_0x3bb916=new whatsapp_service_1[(_0x4ae3b5(0x8c))+(_0x4ae3b5(0xa1))](this['configServ'+_0x4ae3b5(0x9b)],this[_0x4ae3b5(0x95)+'er'],this['repository']);_0x3bb916[_0x4ae3b5(0xb6)+'me']=_0x2f4072,this['waMonitor'][_0x4ae3b5(0xc8)+'s'][_0x3bb916[_0x4ae3b5(0xb6)+'me']]=_0x3bb916,this[_0x4ae3b5(0xda)][_0x4ae3b5(0xd7)+_0x4ae3b5(0xd2)](_0x3bb916['instanceNa'+'me']);let _0x4d8501={};if(!_0x580e11){const _0x564847={};_0x564847[_0x4ae3b5(0xb6)+'me']=_0x3bb916['instanceNa'+'me'],_0x4d8501=yield this['authServic'+'e'][_0x4ae3b5(0xc3)+'sh'](_0x564847);}else{const _0x5c9e9e={};_0x5c9e9e[_0x4ae3b5(0x9c)]=_0x580e11,yield this[_0x4ae3b5(0xb5)][_0x4ae3b5(0x8d)][_0x4ae3b5(0xc0)](_0x5c9e9e,_0x2f4072),_0x4d8501[_0x4ae3b5(0x9c)]=_0x580e11;}const _0xfc89bb={};_0xfc89bb[_0x4ae3b5(0xb6)+'me']=_0x3bb916[_0x4ae3b5(0xb6)+'me'],_0xfc89bb[_0x4ae3b5(0xb4)]=_0x4ae3b5(0xd5);const _0x7fe893={};return _0x7fe893[_0x4ae3b5(0xa4)]=_0xfc89bb,_0x7fe893[_0x4ae3b5(0xb2)]=_0x4d8501,_0x7fe893;});}['connectToW'+a21_0xd0a19e(0xa3)]({instanceName:_0x9537f2}){var _0x3ba593;return __awaiter(this,void(-0x1385+-0x1170+0x1*0x24f5),void(0x3d*0x81+-0xf8c+-0xf31),function*(){const _0x43c7ca=a21_0x35a1;try{const _0x36b309=this[_0x43c7ca(0xda)][_0x43c7ca(0xc8)+'s'][_0x9537f2],_0x2ca6fc=(_0x3ba593=_0x36b309['connection'+_0x43c7ca(0xa2)])===null||_0x3ba593===void(-0x1761+0x622+0x113f)?void(0x1790*-0x1+0x1*0x182b+-0x9b):_0x3ba593[_0x43c7ca(0xa5)];switch(_0x2ca6fc){case _0x43c7ca(0x91):yield _0x36b309['connectToW'+_0x43c7ca(0xa3)](),yield(0x1b78+0x8*-0x4cb+-0x570*-0x2,baileys_1[_0x43c7ca(0xd9)])(0x1*0x24bf+-0x18ea+-0x405);return _0x36b309['qrCode'];case _0x43c7ca(0xa7):return _0x36b309['qrCode'];default:const _0x170493={};_0x170493['instanceNa'+'me']=_0x9537f2;return yield this[_0x43c7ca(0xa9)+_0x43c7ca(0xa6)](_0x170493);}}catch(_0x3549b3){this[_0x43c7ca(0xd0)]['log'](_0x3549b3);}});}[a21_0xd0a19e(0xa9)+a21_0xd0a19e(0xa6)]({instanceName:_0x4b7a2a}){return __awaiter(this,void(0x1*-0x246+0x1db3+0x3eb*-0x7),void(0x18ed+-0x9fc+0x11*-0xe1),function*(){const _0x42b9ea=a21_0x35a1;return this[_0x42b9ea(0xda)][_0x42b9ea(0xc8)+'s'][_0x4b7a2a]['connection'+_0x42b9ea(0xa2)];});}['fetchInsta'+a21_0xd0a19e(0xb7)]({instanceName:_0x4c9bc1}){return __awaiter(this,void(-0xcce+0x11a7+-0x4d9),void(-0x25db+0xc2*-0x29+0x44ed),function*(){const _0x5705ac=a21_0x35a1;if(_0x4c9bc1)return this['waMonitor'][_0x5705ac(0xd3)+'fo'](_0x4c9bc1);return this['waMonitor'][_0x5705ac(0xd3)+'fo']();});}[a21_0xd0a19e(0xcd)]({instanceName:_0x435e5f}){var _0x278a33,_0x3820fe;return __awaiter(this,void(-0x989+0x4a*-0x5c+0x2421),void(-0x173c+0x6*0x1fd+0x5a7*0x2),function*(){const _0x41541c=a21_0x35a1;try{yield(_0x3820fe=(_0x278a33=this[_0x41541c(0xda)][_0x41541c(0xc8)+'s'][_0x435e5f])===null||_0x278a33===void(-0x1*-0x1e8f+0x479+0xec*-0x26)?void(-0x791+-0x1*0xe6e+0x15ff):_0x278a33[_0x41541c(0xd1)])===null||_0x3820fe===void(0x1*0x23ba+0x16*-0x195+0x1*-0xec)?void(-0x211a+-0xab8+-0x15e9*-0x2):_0x3820fe[_0x41541c(0xcd)]('Log\x20out\x20in'+_0x41541c(0xc6)+_0x435e5f);const _0x55a1ce={};return _0x55a1ce[_0x41541c(0xbe)]=![],_0x55a1ce['message']=_0x41541c(0xbd)+_0x41541c(0xc4),_0x55a1ce;}catch(_0x5cb348){throw new exceptions_1[(_0x41541c(0xa0))+(_0x41541c(0xb9))+(_0x41541c(0xbc))](_0x5cb348[_0x41541c(0xdc)]());}});}[a21_0xd0a19e(0xde)+a21_0xd0a19e(0xd6)]({instanceName:_0x1613c2}){return __awaiter(this,void(-0x1c13+0x1451+0x7c2),void(0x8*0x1a7+-0x42b+0x7*-0x14b),function*(){const _0x4bc1cf=a21_0x35a1,_0x2df442={};_0x2df442['instanceNa'+'me']=_0x1613c2;const _0x4b1cba=yield this['connection'+'State'](_0x2df442);if(_0x4b1cba[_0x4bc1cf(0xa5)]===_0x4bc1cf(0x9d))throw new exceptions_1[(_0x4bc1cf(0xb1))+(_0x4bc1cf(0xdb))]([_0x4bc1cf(0xcc)+'ailed',_0x4bc1cf(0xba)+_0x4bc1cf(0x8f)+_0x4bc1cf(0x99)+_0x4bc1cf(0xc9)]);try{delete this['waMonitor'][_0x4bc1cf(0xc8)+'s'][_0x1613c2];const _0xb7ef26={};return _0xb7ef26[_0x4bc1cf(0xbe)]=![],_0xb7ef26[_0x4bc1cf(0xac)]=_0x4bc1cf(0x96)+_0x4bc1cf(0x94),_0xb7ef26;}catch(_0x45c20f){throw new exceptions_1[(_0x4bc1cf(0xb1))+(_0x4bc1cf(0xdb))](_0x45c20f[_0x4bc1cf(0xdc)]());}});}[a21_0xd0a19e(0xab)+'en'](_0x293028,_0x4bfc28){return __awaiter(this,void(-0xde0+0x1153*0x1+-0x1*0x373),void(0x219f+0xf9*-0x9+0x6*-0x425),function*(){const _0xcc7acd=a21_0x35a1;return yield this[_0xcc7acd(0xaf)+'e'][_0xcc7acd(0xab)+'en'](_0x4bfc28);});}}exports[a21_0xd0a19e(0xbb)+'ntroller']=InstanceController;