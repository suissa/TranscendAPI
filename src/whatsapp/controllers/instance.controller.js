'use strict';const a21_0x4c35d3=a21_0x4978;(function(_0x374a6d,_0x37c110){const _0x27e9ec=a21_0x4978,_0x569f95=_0x374a6d();while(!![]){try{const _0x17f206=parseInt(_0x27e9ec(0x1a5))/(-0x39e*0x3+-0x961+0x143c)*(parseInt(_0x27e9ec(0x1b2))/(0x1f*0x76+-0x1311+-0xaf*-0x7))+-parseInt(_0x27e9ec(0x1b5))/(-0x2f*0xb+0x1*-0x35b+-0x7*-0xc5)+-parseInt(_0x27e9ec(0x1ba))/(0xb03+-0x1301+0x802)*(parseInt(_0x27e9ec(0x1a8))/(-0x2c3*0xa+0x1*0x2600+0x7*-0x17b))+-parseInt(_0x27e9ec(0x1bc))/(-0x10*0xce+-0xf*-0x209+-0x11a1*0x1)+parseInt(_0x27e9ec(0x192))/(-0x8be+-0x79d+0x1*0x1062)+-parseInt(_0x27e9ec(0x197))/(-0x1cb3+-0x3*0x878+-0x1*-0x3623)+parseInt(_0x27e9ec(0x1b1))/(-0x20d5+0x1340+0xd9e);if(_0x17f206===_0x37c110)break;else _0x569f95['push'](_0x569f95['shift']());}catch(_0x3a83dc){_0x569f95['push'](_0x569f95['shift']());}}}(a21_0x8c53,0x82ba+0x10a262+-0x3354b*0x2));function a21_0x8c53(){const _0x42b2b0=['create','ogged\x20out','instanceIn','hatsapp','generateHa','rverErrorE','Status','4729662UqRvOF','auth','hash','ervice','InstanceCo','6197560cNPPZi','error','Deletion\x20f','../service','@adiwajshi','About\x20to\x20g','ance','createInst','et\x20instanc','ntroller','logger','value','o\x20be\x20disco','ailed','3kglsWq','repository','../../exce','15rbeaKL','WAStartupS','The\x20instan','erty','apikey','fetchInsta','instance','waMonitor','connecting','33934581XupbBm','49484gcUXht','instanceNa','ng/baileys','3383031QOSSZa','InternalSe','State','connection','config','1681528mhixZc','e\x20info\x20for','3922638MbbyTm','defineProp','delay','client','ig/logger.','authServic','open','throw','logout','Instance\x20l','log','xception','ptions','configServ','nces','waInstance','refreshTok','ce\x20needs\x20t','state','qrCode','BadRequest','s/whatsapp','toString','ice','connectToW','Got\x20instan','ce\x20info:','nnected'];a21_0x8c53=function(){return _0x42b2b0;};return a21_0x8c53();}function a21_0x4978(_0x69d629,_0x42404f){const _0x338019=a21_0x8c53();return a21_0x4978=function(_0x307a9c,_0x1c8e00){_0x307a9c=_0x307a9c-(0x2583+0xb*-0xa6+-0x2a1*0xb);let _0xb5e80e=_0x338019[_0x307a9c];return _0xb5e80e;},a21_0x4978(_0x69d629,_0x42404f);}var __awaiter=this&&this['__awaiter']||function(_0x3e2aaa,_0x47f195,_0x54bf12,_0x4c18de){function _0x5b2ed2(_0x2e02ea){return _0x2e02ea instanceof _0x54bf12?_0x2e02ea:new _0x54bf12(function(_0x273812){_0x273812(_0x2e02ea);});}return new(_0x54bf12||(_0x54bf12=Promise))(function(_0x2c524b,_0x222801){function _0x51bf4a(_0x2f4706){try{_0x49bde9(_0x4c18de['next'](_0x2f4706));}catch(_0x2cd813){_0x222801(_0x2cd813);}}function _0x437f0f(_0x57d5dd){const _0x2f2ae5=a21_0x4978;try{_0x49bde9(_0x4c18de[_0x2f2ae5(0x176)](_0x57d5dd));}catch(_0x44aa98){_0x222801(_0x44aa98);}}function _0x49bde9(_0xe0a9d7){const _0x1dec10=a21_0x4978;_0xe0a9d7['done']?_0x2c524b(_0xe0a9d7[_0x1dec10(0x1a2)]):_0x5b2ed2(_0xe0a9d7[_0x1dec10(0x1a2)])['then'](_0x51bf4a,_0x437f0f);}_0x49bde9((_0x4c18de=_0x4c18de['apply'](_0x3e2aaa,_0x47f195||[]))['next']());});};const a21_0x307a9c={};a21_0x307a9c[a21_0x4c35d3(0x1a2)]=!![],Object[a21_0x4c35d3(0x1bd)+a21_0x4c35d3(0x1ab)](exports,'__esModule',a21_0x307a9c),exports[a21_0x4c35d3(0x196)+'ntroller']=void(-0xfad+-0x1dc2+0x2d6f);const baileys_1=require(a21_0x4c35d3(0x19b)+a21_0x4c35d3(0x1b4)),exceptions_1=require(a21_0x4c35d3(0x1a7)+a21_0x4c35d3(0x17b)),whatsapp_service_1=require(a21_0x4c35d3(0x19a)+a21_0x4c35d3(0x184)+'.service'),logger_config_1=require('../../conf'+a21_0x4c35d3(0x1c0)+a21_0x4c35d3(0x1b9));class InstanceController{constructor(_0x678438,_0x6f1790,_0x36ead0,_0x8a20d8,_0x528162){const _0x21294f=a21_0x4c35d3;this[_0x21294f(0x1af)]=_0x678438,this[_0x21294f(0x17c)+'ice']=_0x6f1790,this[_0x21294f(0x1a6)]=_0x36ead0,this['eventEmitt'+'er']=_0x8a20d8,this[_0x21294f(0x1c1)+'e']=_0x528162,this[_0x21294f(0x1a1)]=new logger_config_1['Logger'](InstanceController['name']);}[a21_0x4c35d3(0x19e)+a21_0x4c35d3(0x19d)]({instanceName:_0x57dcd0,apikey:_0x2e20a2}){return __awaiter(this,void(0x71*0x3e+-0x2689+0xb2b),void(0xf4*-0x4+-0x22c6+0x2696),function*(){const _0x63e8ea=a21_0x4978,_0x2b1ec2=new whatsapp_service_1[(_0x63e8ea(0x1a9))+(_0x63e8ea(0x195))](this[_0x63e8ea(0x17c)+_0x63e8ea(0x186)],this['eventEmitt'+'er'],this[_0x63e8ea(0x1a6)]);_0x2b1ec2[_0x63e8ea(0x1b3)+'me']=_0x57dcd0,this[_0x63e8ea(0x1af)][_0x63e8ea(0x17e)+'s'][_0x2b1ec2[_0x63e8ea(0x1b3)+'me']]=_0x2b1ec2,this[_0x63e8ea(0x1af)]['delInstanc'+'eTime'](_0x2b1ec2['instanceNa'+'me']);let _0x1aa954={};if(!_0x2e20a2){const _0x83e1af={};_0x83e1af[_0x63e8ea(0x1b3)+'me']=_0x2b1ec2[_0x63e8ea(0x1b3)+'me'],_0x1aa954=yield this['authServic'+'e'][_0x63e8ea(0x18f)+'sh'](_0x83e1af);}else{const _0x31f37d={};_0x31f37d[_0x63e8ea(0x1ac)]=_0x2e20a2,yield this[_0x63e8ea(0x1a6)][_0x63e8ea(0x193)][_0x63e8ea(0x18b)](_0x31f37d,_0x57dcd0),_0x1aa954[_0x63e8ea(0x1ac)]=_0x2e20a2;}const _0x517e4e={};_0x517e4e[_0x63e8ea(0x1b3)+'me']=_0x2b1ec2[_0x63e8ea(0x1b3)+'me'],_0x517e4e['status']='created';const _0x2d00d6={};return _0x2d00d6[_0x63e8ea(0x1ae)]=_0x517e4e,_0x2d00d6[_0x63e8ea(0x194)]=_0x1aa954,_0x2d00d6;});}[a21_0x4c35d3(0x187)+'hatsapp']({instanceName:_0x1b37d6}){var _0x49c437;return __awaiter(this,void(0x36*0x1+-0x82d+-0x7f7*-0x1),void(-0x134e*-0x1+0x1e40+-0x318e),function*(){const _0x52902f=a21_0x4978;try{const _0x294cf4=this[_0x52902f(0x1af)]['waInstance'+'s'][_0x1b37d6],_0x210aa3=(_0x49c437=_0x294cf4[_0x52902f(0x1b8)+_0x52902f(0x191)])===null||_0x49c437===void(0x1bc9*0x1+-0x1967+-0x262)?void(-0x1b58+0xb8f*0x1+0x543*0x3):_0x49c437[_0x52902f(0x181)];switch(_0x210aa3){case'close':yield _0x294cf4['connectToW'+_0x52902f(0x18e)](),yield(0x1b8e+0xd*-0x35+-0x18dd,baileys_1[_0x52902f(0x1be)])(-0x881+-0x1594+0x25e5*0x1);return _0x294cf4[_0x52902f(0x182)];case _0x52902f(0x1b0):return _0x294cf4[_0x52902f(0x182)];default:const _0x134804={};_0x134804['instanceNa'+'me']=_0x1b37d6;return yield this[_0x52902f(0x1b8)+_0x52902f(0x1b7)](_0x134804);}}catch(_0x3923d5){this[_0x52902f(0x1a1)][_0x52902f(0x179)](_0x3923d5);}});}[a21_0x4c35d3(0x1b8)+'State']({instanceName:_0x499186}){return __awaiter(this,void(0x515+0x1*-0x2319+-0x4*-0x781),void(-0x23a7*0x1+-0x1244+-0x11f9*-0x3),function*(){const _0x29b001=a21_0x4978,_0x286405=this['waMonitor'][_0x29b001(0x17e)+'s'][_0x499186]['connection'+'Status'];console[_0x29b001(0x179)](_0x29b001(0x19c)+_0x29b001(0x19f)+_0x29b001(0x1bb)+':',_0x499186);const _0xa834d0=yield this[_0x29b001(0x1af)][_0x29b001(0x18d)+'fo'](_0x499186);console[_0x29b001(0x179)](_0x29b001(0x188)+_0x29b001(0x189),_0xa834d0);const _0x4ea8fb={};return _0x4ea8fb['connection'+_0x29b001(0x191)]=_0x286405,_0x4ea8fb['instanceIn'+'fo']=_0xa834d0,_0x4ea8fb;});}[a21_0x4c35d3(0x1ad)+a21_0x4c35d3(0x17d)]({instanceName:_0x1d785b}){return __awaiter(this,void(0x107*0x4+-0x2*0x99b+0xf1a),void(0xca1*0x3+0x194e+0x3f31*-0x1),function*(){const _0x28c91f=a21_0x4978;if(_0x1d785b)return this[_0x28c91f(0x1af)][_0x28c91f(0x18d)+'fo'](_0x1d785b);return this[_0x28c91f(0x1af)]['instanceIn'+'fo']();});}[a21_0x4c35d3(0x177)]({instanceName:_0x5e278a}){var _0x22010f,_0x4e7466;return __awaiter(this,void(0x22d2*-0x1+-0x2119*-0x1+-0x93*-0x3),void(0x20a2+0x1b02+-0x3ba4),function*(){const _0x56b290=a21_0x4978;try{yield(_0x4e7466=(_0x22010f=this['waMonitor'][_0x56b290(0x17e)+'s'][_0x5e278a])===null||_0x22010f===void(-0x13af*0x1+0xb7f+0x830)?void(-0x1248+0xdf+0x1169):_0x22010f[_0x56b290(0x1bf)])===null||_0x4e7466===void(-0x1*0xd67+0xaf2+-0x275*-0x1)?void(0x4*-0x63d+0x1368+-0x14*-0x47):_0x4e7466[_0x56b290(0x177)]('Log\x20out\x20in'+'stance:\x20'+_0x5e278a);const _0x2d2570={};return _0x2d2570[_0x56b290(0x198)]=![],_0x2d2570['message']=_0x56b290(0x178)+_0x56b290(0x18c),_0x2d2570;}catch(_0x11dda2){throw new exceptions_1[(_0x56b290(0x1b6))+(_0x56b290(0x190))+(_0x56b290(0x17a))](_0x11dda2[_0x56b290(0x185)]());}});}['deleteInst'+a21_0x4c35d3(0x19d)]({instanceName:_0x5b78f5}){return __awaiter(this,void(-0x2b1*-0x1+0xa87+0x8*-0x1a7),void(0x4*-0x2d9+-0x10e7*-0x2+-0x166a),function*(){const _0x432a66=a21_0x4978,_0x222186={};_0x222186[_0x432a66(0x1b3)+'me']=_0x5b78f5;const _0x529d60=yield this[_0x432a66(0x1b8)+_0x432a66(0x1b7)](_0x222186);if(_0x529d60[_0x432a66(0x1b8)+_0x432a66(0x191)][_0x432a66(0x181)]===_0x432a66(0x1c2))throw new exceptions_1['BadRequest'+'Exception']([_0x432a66(0x199)+_0x432a66(0x1a4),_0x432a66(0x1aa)+_0x432a66(0x180)+_0x432a66(0x1a3)+_0x432a66(0x18a)]);try{delete this[_0x432a66(0x1af)]['waInstance'+'s'][_0x5b78f5];const _0x1e9a1b={};return _0x1e9a1b[_0x432a66(0x198)]=![],_0x1e9a1b['message']='Instance\x20d'+'eleted',_0x1e9a1b;}catch(_0x474a84){throw new exceptions_1[(_0x432a66(0x183))+'Exception'](_0x474a84[_0x432a66(0x185)]());}});}[a21_0x4c35d3(0x17f)+'en'](_0x43085f,_0x34104c){return __awaiter(this,void(-0x130a+-0x2218*0x1+0x3522),void(-0x18b4+-0x1ca*-0xd+0x172),function*(){const _0x399108=a21_0x4978;return yield this[_0x399108(0x1c1)+'e'][_0x399108(0x17f)+'en'](_0x34104c);});}}exports[a21_0x4c35d3(0x196)+a21_0x4c35d3(0x1a0)]=InstanceController;