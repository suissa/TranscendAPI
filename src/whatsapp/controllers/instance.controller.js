'use strict';const a21_0x517a67=a21_0x3ad2;(function(_0x20f312,_0x2b43a9){const _0x3316c2=a21_0x3ad2,_0x279525=_0x20f312();while(!![]){try{const _0x4bd781=-parseInt(_0x3316c2(0xce))/(0x1b37+-0x1c57+0x121)*(parseInt(_0x3316c2(0xa2))/(0x11*-0x187+-0x99*-0x9+0x2*0xa4c))+parseInt(_0x3316c2(0xa5))/(0x10d7+0xa1a+-0x1aee)*(-parseInt(_0x3316c2(0xc5))/(0x1e3e+-0x65*-0x49+-0x49*0xcf))+parseInt(_0x3316c2(0xd4))/(0x1*-0x2410+0x1e9a+-0x3d*-0x17)+-parseInt(_0x3316c2(0xd0))/(-0xee1*0x1+-0x1*0x7f+0xf66)+parseInt(_0x3316c2(0xd1))/(0xf89+-0x1*0x19f5+0xa73)+parseInt(_0x3316c2(0xc7))/(0x55*-0x59+0x16*-0xe5+0x1*0x3143)+parseInt(_0x3316c2(0xb7))/(0x1ed0+-0x1*-0x49+0x70*-0x47);if(_0x4bd781===_0x2b43a9)break;else _0x279525['push'](_0x279525['shift']());}catch(_0x417947){_0x279525['push'](_0x279525['shift']());}}}(a21_0xa4df,0x1*-0x5b8aa+0x1d*0x49ed+-0x3*-0x29d4f));function a21_0xa4df(){const _0xe99e07=['et\x20instanc','log','15734bZKUCd','connection','done','38508AeMEcI','Logger','../../exce','value','next','qrCode','Got\x20instan','State','connecting','stance:\x20','refreshTok','auth','logout','BadRequest','eleted','ng/baileys','InstanceCo','.service','4656906GknEZi','ce\x20info:','ce\x20needs\x20t','repository','About\x20to\x20g','Log\x20out\x20in','generateHa','ervice','Deletion\x20f','created','then','xception','instanceNa','connectToW','132mUoeQa','error','8384000ETYMPv','ntroller','hash','delay','createInst','waInstance','Instance\x20d','113zBcqil','instanceIn','3429558HhkJXX','5317928fEiTvk','authServic','The\x20instan','1234570KDacme','Status','ice','Exception','hatsapp','toString','nces','eventEmitt','client','apikey','__awaiter','nnected','message','../../conf','Instance\x20l','s/whatsapp','logger','state','rverErrorE','close','e\x20info\x20for','delInstanc','defineProp','ptions','WAStartupS','ance','waMonitor','name','throw','eTime','apply'];a21_0xa4df=function(){return _0xe99e07;};return a21_0xa4df();}var __awaiter=this&&this[a21_0x517a67(0xde)]||function(_0x4b6e58,_0x5a5736,_0x2638e2,_0x3b20c1){function _0x43435d(_0x4634ce){return _0x4634ce instanceof _0x2638e2?_0x4634ce:new _0x2638e2(function(_0x5555ee){_0x5555ee(_0x4634ce);});}return new(_0x2638e2||(_0x2638e2=Promise))(function(_0x3fd8bc,_0x2c02f4){const _0x28fe76=a21_0x3ad2;function _0x256c33(_0x48b9b3){const _0x3400cf=a21_0x3ad2;try{_0x21da45(_0x3b20c1[_0x3400cf(0xa9)](_0x48b9b3));}catch(_0x1ed444){_0x2c02f4(_0x1ed444);}}function _0x5cd24b(_0x33452a){const _0x3fcb76=a21_0x3ad2;try{_0x21da45(_0x3b20c1[_0x3fcb76(0x9d)](_0x33452a));}catch(_0x47e466){_0x2c02f4(_0x47e466);}}function _0x21da45(_0x17e731){const _0x2170f7=a21_0x3ad2;_0x17e731[_0x2170f7(0xa4)]?_0x3fd8bc(_0x17e731[_0x2170f7(0xa8)]):_0x43435d(_0x17e731[_0x2170f7(0xa8)])[_0x2170f7(0xc1)](_0x256c33,_0x5cd24b);}_0x21da45((_0x3b20c1=_0x3b20c1[_0x28fe76(0x9f)](_0x4b6e58,_0x5a5736||[]))[_0x28fe76(0xa9)]());});};const a21_0x164f86={};a21_0x164f86[a21_0x517a67(0xa8)]=!![],Object[a21_0x517a67(0xea)+'erty'](exports,'__esModule',a21_0x164f86),exports[a21_0x517a67(0xb5)+'ntroller']=void(-0x1*-0x1635+-0x1*-0x2c1+-0xa*0x27f);const baileys_1=require('@adiwajshi'+a21_0x517a67(0xb4)),exceptions_1=require(a21_0x517a67(0xa7)+a21_0x517a67(0xeb)),whatsapp_service_1=require('../service'+a21_0x517a67(0xe3)+a21_0x517a67(0xb6)),logger_config_1=require(a21_0x517a67(0xe1)+'ig/logger.'+'config');function a21_0x3ad2(_0x21cbfa,_0x442b76){const _0x482fbe=a21_0xa4df();return a21_0x3ad2=function(_0x164f86,_0x4acaac){_0x164f86=_0x164f86-(0x1164+-0x11*-0x16d+0x59*-0x76);let _0x330c44=_0x482fbe[_0x164f86];return _0x330c44;},a21_0x3ad2(_0x21cbfa,_0x442b76);}class InstanceController{constructor(_0x2740bf,_0x30b1f,_0x328672,_0x164c0c,_0x484f26){const _0x198a79=a21_0x517a67;this[_0x198a79(0x9b)]=_0x2740bf,this['configServ'+'ice']=_0x30b1f,this[_0x198a79(0xba)]=_0x328672,this['eventEmitt'+'er']=_0x164c0c,this[_0x198a79(0xd2)+'e']=_0x484f26,this[_0x198a79(0xe4)]=new logger_config_1[(_0x198a79(0xa6))](InstanceController[_0x198a79(0x9c)]);}[a21_0x517a67(0xcb)+a21_0x517a67(0xed)]({instanceName:_0x3161de,apikey:_0x4dc5c6}){return __awaiter(this,void(-0x7f7+-0x1f40+-0x2737*-0x1),void(0x28c+0x30d*0x1+-0x1*0x599),function*(){const _0x5b4536=a21_0x3ad2,_0x143f60=new whatsapp_service_1[(_0x5b4536(0xec))+(_0x5b4536(0xbe))](this['configServ'+_0x5b4536(0xd6)],this[_0x5b4536(0xdb)+'er'],this['repository']);_0x143f60[_0x5b4536(0xc3)+'me']=_0x3161de,this[_0x5b4536(0x9b)][_0x5b4536(0xcc)+'s'][_0x143f60[_0x5b4536(0xc3)+'me']]=_0x143f60,this[_0x5b4536(0x9b)][_0x5b4536(0xe9)+_0x5b4536(0x9e)](_0x143f60['instanceNa'+'me']);let _0x11a4fa={};if(!_0x4dc5c6){const _0x37e7ad={};_0x37e7ad['instanceNa'+'me']=_0x143f60[_0x5b4536(0xc3)+'me'],_0x11a4fa=yield this['authServic'+'e'][_0x5b4536(0xbd)+'sh'](_0x37e7ad);}else{const _0x3d3cb5={};_0x3d3cb5[_0x5b4536(0xdd)]=_0x4dc5c6,yield this[_0x5b4536(0xba)][_0x5b4536(0xb0)]['create'](_0x3d3cb5,_0x3161de),_0x11a4fa[_0x5b4536(0xdd)]=_0x4dc5c6;}const _0x55e319={};_0x55e319['instanceNa'+'me']=_0x143f60[_0x5b4536(0xc3)+'me'],_0x55e319['status']=_0x5b4536(0xc0);const _0x127dc0={};return _0x127dc0['instance']=_0x55e319,_0x127dc0[_0x5b4536(0xc9)]=_0x11a4fa,_0x127dc0;});}['connectToW'+'hatsapp']({instanceName:_0x467747}){var _0x14215e;return __awaiter(this,void(0x2482*0x1+-0x821+-0x1c61),void(-0x1*-0x26f5+-0xf8+-0x25fd),function*(){const _0xb7c4b4=a21_0x3ad2;try{const _0x1b6d09=this['waMonitor']['waInstance'+'s'][_0x467747],_0x4e7928=(_0x14215e=_0x1b6d09['connection'+_0xb7c4b4(0xd5)])===null||_0x14215e===void(-0x1964+-0x2007+-0x1*-0x396b)?void(0x97*0x1c+0x1c32+-0x2cb6):_0x14215e['state'];switch(_0x4e7928){case _0xb7c4b4(0xe7):yield _0x1b6d09[_0xb7c4b4(0xc4)+_0xb7c4b4(0xd8)](),yield(-0x3e8*0x4+-0x5c6+0x2*0xab3,baileys_1[_0xb7c4b4(0xca)])(0xc4+-0x1292*0x2+0x2c30);return _0x1b6d09[_0xb7c4b4(0xaa)];case _0xb7c4b4(0xad):return _0x1b6d09['qrCode'];default:const _0x4aa5e7={};_0x4aa5e7['instanceNa'+'me']=_0x467747;return yield this['connection'+_0xb7c4b4(0xac)](_0x4aa5e7);}}catch(_0x220968){this[_0xb7c4b4(0xe4)][_0xb7c4b4(0xa1)](_0x220968);}});}[a21_0x517a67(0xa3)+'State']({instanceName:_0x5864c3}){return __awaiter(this,void(0xf74+0x1248+-0x21bc),void(0x194e*0x1+-0x237f+0xa31),function*(){const _0x7cd14=a21_0x3ad2,_0x3cb4a2=this['waMonitor'][_0x7cd14(0xcc)+'s'][_0x5864c3][_0x7cd14(0xa3)+_0x7cd14(0xd5)];console[_0x7cd14(0xa1)](_0x7cd14(0xbb)+_0x7cd14(0xa0)+_0x7cd14(0xe8)+':',_0x5864c3);const _0x498287=yield this['waMonitor'][_0x7cd14(0xcf)+'fo'](_0x5864c3);console[_0x7cd14(0xa1)](_0x7cd14(0xab)+_0x7cd14(0xb8),_0x498287);const _0x247a61={};return _0x247a61[_0x7cd14(0xa3)+'Status']=_0x3cb4a2,_0x247a61[_0x7cd14(0xcf)+'fo']=_0x498287,_0x247a61;});}['fetchInsta'+a21_0x517a67(0xda)]({instanceName:_0x3afeb8}){return __awaiter(this,void(-0x8*0x2f6+0x1337+0xe5*0x5),void(0x177e+-0x8dd*-0x3+-0x3215),function*(){const _0x2d43d1=a21_0x3ad2;if(_0x3afeb8)return this[_0x2d43d1(0x9b)][_0x2d43d1(0xcf)+'fo'](_0x3afeb8);return this[_0x2d43d1(0x9b)][_0x2d43d1(0xcf)+'fo']();});}[a21_0x517a67(0xb1)]({instanceName:_0x5c2244}){var _0x184e23,_0x4b2ec6;return __awaiter(this,void(-0x10*-0x238+-0x62f*0x1+-0x1d51),void(0x2d0+0xfd5+-0x1*0x12a5),function*(){const _0x35cd66=a21_0x3ad2;try{yield(_0x4b2ec6=(_0x184e23=this[_0x35cd66(0x9b)][_0x35cd66(0xcc)+'s'][_0x5c2244])===null||_0x184e23===void(-0x7cf+0x171*0x3+0x37c)?void(-0x1f*-0x1d+0x141*0x18+-0x4cd*0x7):_0x184e23[_0x35cd66(0xdc)])===null||_0x4b2ec6===void(-0x1872+0x19ca+-0x8*0x2b)?void(0x139*-0x5+-0x23ff+-0xe*-0x302):_0x4b2ec6[_0x35cd66(0xb1)](_0x35cd66(0xbc)+_0x35cd66(0xae)+_0x5c2244);const _0x4d498a={};return _0x4d498a[_0x35cd66(0xc6)]=![],_0x4d498a[_0x35cd66(0xe0)]=_0x35cd66(0xe2)+'ogged\x20out',_0x4d498a;}catch(_0x19ff01){throw new exceptions_1['InternalSe'+(_0x35cd66(0xe6))+(_0x35cd66(0xc2))](_0x19ff01[_0x35cd66(0xd9)]());}});}['deleteInst'+a21_0x517a67(0xed)]({instanceName:_0x4b7926}){return __awaiter(this,void(0xca9+-0x1921+-0x4*-0x31e),void(-0xe*0x20f+-0x2*0x724+0x1*0x2b1a),function*(){const _0x557d89=a21_0x3ad2,_0x365072={};_0x365072[_0x557d89(0xc3)+'me']=_0x4b7926;const _0x1e9e09=yield this[_0x557d89(0xa3)+_0x557d89(0xac)](_0x365072);if(_0x1e9e09['connection'+_0x557d89(0xd5)][_0x557d89(0xe5)]==='open')throw new exceptions_1[(_0x557d89(0xb2))+(_0x557d89(0xd7))]([_0x557d89(0xbf)+'ailed',_0x557d89(0xd3)+_0x557d89(0xb9)+'o\x20be\x20disco'+_0x557d89(0xdf)]);try{delete this['waMonitor']['waInstance'+'s'][_0x4b7926];const _0x271e07={};return _0x271e07[_0x557d89(0xc6)]=![],_0x271e07[_0x557d89(0xe0)]=_0x557d89(0xcd)+_0x557d89(0xb3),_0x271e07;}catch(_0x18c91e){throw new exceptions_1[(_0x557d89(0xb2))+'Exception'](_0x18c91e[_0x557d89(0xd9)]());}});}['refreshTok'+'en'](_0x4b83e8,_0x35f9e4){return __awaiter(this,void(-0x45f+0x1726+-0x12c7*0x1),void(-0x13*-0x3+0x1873+-0x18ac),function*(){const _0x528a7f=a21_0x3ad2;return yield this[_0x528a7f(0xd2)+'e'][_0x528a7f(0xaf)+'en'](_0x35f9e4);});}}exports[a21_0x517a67(0xb5)+a21_0x517a67(0xc8)]=InstanceController;