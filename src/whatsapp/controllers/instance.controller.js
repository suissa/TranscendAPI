'use strict';const a21_0x14bfee=a21_0x25d3;(function(_0x51ae99,_0x8fbce){const _0x5a3287=a21_0x25d3,_0x2d178f=_0x51ae99();while(!![]){try{const _0x156199=parseInt(_0x5a3287(0x215))/(0x948+0xd*-0x2+-0x92d)+-parseInt(_0x5a3287(0x235))/(-0x164e+-0x3*-0x8ed+-0x477)*(-parseInt(_0x5a3287(0x232))/(0x1*-0x15da+0x5a6+0x1037))+parseInt(_0x5a3287(0x228))/(0xfaf*0x1+0x8da+0x1*-0x1885)+-parseInt(_0x5a3287(0x1f9))/(0x2424+0x9*-0x1ee+-0x12c1)*(-parseInt(_0x5a3287(0x209))/(-0x4*0x16f+0x65b*-0x1+0xc1d))+-parseInt(_0x5a3287(0x208))/(-0x880+0x1f9*0x8+-0x741)*(-parseInt(_0x5a3287(0x1fc))/(-0x1e1f*0x1+-0x4f5+0x231c))+parseInt(_0x5a3287(0x1ef))/(0x1493+-0x20c2+-0x187*-0x8)+-parseInt(_0x5a3287(0x23b))/(-0x2025+-0x811+0x2*0x1420);if(_0x156199===_0x8fbce)break;else _0x2d178f['push'](_0x2d178f['shift']());}catch(_0x46a6a8){_0x2d178f['push'](_0x2d178f['shift']());}}}(a21_0x4a25,0x66707*0x1+0x7026f+-0x7ef33));function a21_0x25d3(_0x949e9e,_0x3610e7){const _0x1eff5d=a21_0x4a25();return a21_0x25d3=function(_0x3f9c3f,_0x598016){_0x3f9c3f=_0x3f9c3f-(-0x8*0x3d0+-0x7c+0x20ea);let _0x5b9742=_0x1eff5d[_0x3f9c3f];return _0x5b9742;},a21_0x25d3(_0x949e9e,_0x3610e7);}var __awaiter=this&&this[a21_0x14bfee(0x214)]||function(_0x34d47e,_0x13c83b,_0x3be87b,_0x20e499){function _0x3b8573(_0x4be9ef){return _0x4be9ef instanceof _0x3be87b?_0x4be9ef:new _0x3be87b(function(_0x15a8dd){_0x15a8dd(_0x4be9ef);});}return new(_0x3be87b||(_0x3be87b=Promise))(function(_0x4128d3,_0x21a64b){const _0x326b5a=a21_0x25d3;function _0xdebfc9(_0x5591c3){const _0x28959f=a21_0x25d3;try{_0x2b3b03(_0x20e499[_0x28959f(0x212)](_0x5591c3));}catch(_0x78be46){_0x21a64b(_0x78be46);}}function _0x2d3fd4(_0x5d10b0){try{_0x2b3b03(_0x20e499['throw'](_0x5d10b0));}catch(_0x45b3cc){_0x21a64b(_0x45b3cc);}}function _0x2b3b03(_0x51a506){const _0x44f69c=a21_0x25d3;_0x51a506[_0x44f69c(0x201)]?_0x4128d3(_0x51a506[_0x44f69c(0x226)]):_0x3b8573(_0x51a506[_0x44f69c(0x226)])[_0x44f69c(0x22f)](_0xdebfc9,_0x2d3fd4);}_0x2b3b03((_0x20e499=_0x20e499[_0x326b5a(0x202)](_0x34d47e,_0x13c83b||[]))[_0x326b5a(0x212)]());});};const a21_0x598016={};a21_0x598016[a21_0x14bfee(0x226)]=!![],Object[a21_0x14bfee(0x230)+a21_0x14bfee(0x216)](exports,a21_0x14bfee(0x23a),a21_0x598016),exports[a21_0x14bfee(0x213)+a21_0x14bfee(0x223)]=void(0x23f8+0x46*-0x54+-0x20*0x68);function a21_0x4a25(){const _0x5dee9b=['Exception','ptions','InternalSe','logger','1085259gxzpjz','159108gOmHHd','../service','authServic','logout','About\x20to\x20g','log','message','state','State','next','InstanceCo','__awaiter','555903axYGHE','erty','@adiwajshi','name','created','ance','../../exce','e\x20info\x20for','qrCode','ce\x20info:','hash','The\x20instan','Got\x20instan','waMonitor','ntroller','ice','refreshTok','value','connecting','1546612lTNoCx','toString','xception','fetchInsta','stance:\x20','ng/baileys','ervice','then','defineProp','error','129cRyBhE','connection','connectToW','5726SanyZc','configServ','repository','apikey','instanceIn','__esModule','17445200rLTKnA','instanceNa','Logger','ig/logger.','6035877FVbBgX','open','eventEmitt','delay','WAStartupS','generateHa','close','rverErrorE','nces','waInstance','40Bncfhb','Log\x20out\x20in','eTime','8jqZtjT','hatsapp','Status','../../conf','.service','done','apply','Instance\x20d'];a21_0x4a25=function(){return _0x5dee9b;};return a21_0x4a25();}const baileys_1=require(a21_0x14bfee(0x217)+a21_0x14bfee(0x22d)),exceptions_1=require(a21_0x14bfee(0x21b)+a21_0x14bfee(0x205)),whatsapp_service_1=require(a21_0x14bfee(0x20a)+'s/whatsapp'+a21_0x14bfee(0x200)),logger_config_1=require(a21_0x14bfee(0x1ff)+a21_0x14bfee(0x1ee)+'config');class InstanceController{constructor(_0x36bce6,_0x1caa33,_0xfef0a1,_0x365e1f,_0x25c50a){const _0x442d1c=a21_0x14bfee;this[_0x442d1c(0x222)]=_0x36bce6,this[_0x442d1c(0x236)+_0x442d1c(0x224)]=_0x1caa33,this[_0x442d1c(0x237)]=_0xfef0a1,this[_0x442d1c(0x1f1)+'er']=_0x365e1f,this['authServic'+'e']=_0x25c50a,this[_0x442d1c(0x207)]=new logger_config_1[(_0x442d1c(0x23d))](InstanceController[_0x442d1c(0x218)]);}['createInst'+'ance']({instanceName:_0x13d334,apikey:_0x5750dd}){return __awaiter(this,void(-0x3ff+-0x114+0x513),void(0x1fcd+-0x13c8+0x11*-0xb5),function*(){const _0x56d64=a21_0x25d3,_0x16da08=new whatsapp_service_1[(_0x56d64(0x1f3))+(_0x56d64(0x22e))](this['configServ'+'ice'],this['eventEmitt'+'er'],this[_0x56d64(0x237)]);_0x16da08['instanceNa'+'me']=_0x13d334,this[_0x56d64(0x222)]['waInstance'+'s'][_0x16da08[_0x56d64(0x23c)+'me']]=_0x16da08,this[_0x56d64(0x222)]['delInstanc'+_0x56d64(0x1fb)](_0x16da08[_0x56d64(0x23c)+'me']);let _0x5eb268={};if(!_0x5750dd){const _0x276b04={};_0x276b04[_0x56d64(0x23c)+'me']=_0x16da08['instanceNa'+'me'],_0x5eb268=yield this['authServic'+'e'][_0x56d64(0x1f4)+'sh'](_0x276b04);}else{const _0x3ac80f={};_0x3ac80f[_0x56d64(0x238)]=_0x5750dd,yield this[_0x56d64(0x237)]['auth']['create'](_0x3ac80f,_0x13d334),_0x5eb268[_0x56d64(0x238)]=_0x5750dd;}const _0x45a5fc={};_0x45a5fc['instanceNa'+'me']=_0x16da08['instanceNa'+'me'],_0x45a5fc['status']=_0x56d64(0x219);const _0x472bbc={};return _0x472bbc['instance']=_0x45a5fc,_0x472bbc[_0x56d64(0x21f)]=_0x5eb268,_0x472bbc;});}[a21_0x14bfee(0x234)+'hatsapp']({instanceName:_0x5dec89}){var _0x5cf457;return __awaiter(this,void(-0x34d*-0x2+-0x18a+0x8*-0xa2),void(-0x1*-0x10b4+0x369+0x13*-0x10f),function*(){const _0x47ef34=a21_0x25d3;try{const _0x3ab935=this[_0x47ef34(0x222)]['waInstance'+'s'][_0x5dec89],_0x11bc2f=(_0x5cf457=_0x3ab935[_0x47ef34(0x233)+_0x47ef34(0x1fe)])===null||_0x5cf457===void(0x1108+-0x15d5+-0x1*-0x4cd)?void(-0x1*-0x8b3+-0x78f+-0x124):_0x5cf457[_0x47ef34(0x210)];switch(_0x11bc2f){case _0x47ef34(0x1f5):yield _0x3ab935[_0x47ef34(0x234)+_0x47ef34(0x1fd)](),yield(0x4f*0x3d+-0x1c1*0x16+-0x13c3*-0x1,baileys_1[_0x47ef34(0x1f2)])(-0xaf9*-0x3+0x1d8f+0x1*-0x36aa);return _0x3ab935[_0x47ef34(0x21d)];case _0x47ef34(0x227):return _0x3ab935[_0x47ef34(0x21d)];default:const _0x7d8d1e={};_0x7d8d1e[_0x47ef34(0x23c)+'me']=_0x5dec89;return yield this[_0x47ef34(0x233)+_0x47ef34(0x211)](_0x7d8d1e);}}catch(_0x2c07fa){this[_0x47ef34(0x207)][_0x47ef34(0x20e)](_0x2c07fa);}});}['connection'+a21_0x14bfee(0x211)]({instanceName:_0x1f363d}){return __awaiter(this,void(-0x870+-0x10bd+0x192d),void(-0x174+-0xd83+-0xef7*-0x1),function*(){const _0x2769c0=a21_0x25d3,_0x3174e1=this[_0x2769c0(0x222)][_0x2769c0(0x1f8)+'s'][_0x1f363d][_0x2769c0(0x233)+_0x2769c0(0x1fe)];console[_0x2769c0(0x20e)](_0x2769c0(0x20d)+'et\x20instanc'+_0x2769c0(0x21c)+':',_0x1f363d);const _0x88e98d=yield this['waMonitor'][_0x2769c0(0x239)+'fo'](_0x1f363d);console[_0x2769c0(0x20e)](_0x2769c0(0x221)+_0x2769c0(0x21e),_0x88e98d);const _0x411512={};return _0x411512[_0x2769c0(0x233)+'Status']=_0x3174e1,_0x411512[_0x2769c0(0x239)+'fo']=_0x88e98d,_0x411512;});}[a21_0x14bfee(0x22b)+a21_0x14bfee(0x1f7)]({instanceName:_0x563ee0}){return __awaiter(this,void(0x1e3d+-0x71e+0x3*-0x7b5),void(-0x5f1*0x3+0xb*-0x355+0x367a),function*(){const _0xed4c7f=a21_0x25d3;if(_0x563ee0)return this[_0xed4c7f(0x222)][_0xed4c7f(0x239)+'fo'](_0x563ee0);return this[_0xed4c7f(0x222)][_0xed4c7f(0x239)+'fo']();});}[a21_0x14bfee(0x20c)]({instanceName:_0x242b6b}){var _0x222b61,_0xc951da;return __awaiter(this,void(0x19*-0xc5+-0x23e4+0x3721),void(0xbe*0x13+-0x1689+0x1*0x86f),function*(){const _0x119a30=a21_0x25d3;try{yield(_0xc951da=(_0x222b61=this[_0x119a30(0x222)][_0x119a30(0x1f8)+'s'][_0x242b6b])===null||_0x222b61===void(0x1a4*0x17+-0x13*-0xa7+-0x3221)?void(-0x2*0xb1b+0x17e7+-0x1*0x1b1):_0x222b61['client'])===null||_0xc951da===void(0x1c88+0x268a+-0x4312)?void(0x3*-0x74b+0x1132+0x4af):_0xc951da[_0x119a30(0x20c)](_0x119a30(0x1fa)+_0x119a30(0x22c)+_0x242b6b);const _0x5503ab={};return _0x5503ab[_0x119a30(0x231)]=![],_0x5503ab[_0x119a30(0x20f)]='Instance\x20l'+'ogged\x20out',_0x5503ab;}catch(_0x1d1e9b){throw new exceptions_1[(_0x119a30(0x206))+(_0x119a30(0x1f6))+(_0x119a30(0x22a))](_0x1d1e9b[_0x119a30(0x229)]());}});}['deleteInst'+a21_0x14bfee(0x21a)]({instanceName:_0x2978b8}){return __awaiter(this,void(-0x179e*-0x1+-0xc63*0x1+-0x19*0x73),void(0xa6*0x25+-0xb5+-0x1749),function*(){const _0x3c5057=a21_0x25d3,_0x4a7839={};_0x4a7839[_0x3c5057(0x23c)+'me']=_0x2978b8;const _0x2014f1=yield this[_0x3c5057(0x233)+'State'](_0x4a7839);if(_0x2014f1['connection'+'Status'][_0x3c5057(0x210)]===_0x3c5057(0x1f0))throw new exceptions_1['BadRequest'+'Exception'](['Deletion\x20f'+'ailed',_0x3c5057(0x220)+'ce\x20needs\x20t'+'o\x20be\x20disco'+'nnected']);try{delete this[_0x3c5057(0x222)]['waInstance'+'s'][_0x2978b8];const _0x461072={};return _0x461072[_0x3c5057(0x231)]=![],_0x461072[_0x3c5057(0x20f)]=_0x3c5057(0x203)+'eleted',_0x461072;}catch(_0x24c3f2){throw new exceptions_1['BadRequest'+(_0x3c5057(0x204))](_0x24c3f2[_0x3c5057(0x229)]());}});}[a21_0x14bfee(0x225)+'en'](_0xb6fc4f,_0x29f8b9){return __awaiter(this,void(-0x92*-0x6+0x4ae+-0x81a),void(0x1919+-0x1a20+0x107*0x1),function*(){const _0x1cbfb6=a21_0x25d3;return yield this[_0x1cbfb6(0x20b)+'e'][_0x1cbfb6(0x225)+'en'](_0x29f8b9);});}}exports[a21_0x14bfee(0x213)+a21_0x14bfee(0x223)]=InstanceController;