'use strict';function a21_0x685a(){const _0x4279ba=['The\x20instan','message','delay','generateHa','hash','Logger','state','instance','__esModule','__awaiter','hatsapp','created','status','ice','client','ance','toString','then','832020KbuNGA','delInstanc','close','@adiwajshi','throw','72tRKkaS','.service','eventEmitt','waMonitor','1222473KzfQga','ervice','logger','../../conf','deleteInst','logout','connectToW','ntroller','Exception','connection','authServic','ptions','auth','open','waInstance','repository','configServ','eleted','sages','next','1769190RUCCGy','s/whatsapp','saveOldMes','xception','done','log','connecting','Instance\x20d','instanceIn','error','../../exce','instanceNa','name','State','321475uLRwFL','WAStartupS','createInst','ig/logger.','5459735JussHz','8HNbLRY','Status','InternalSe','BadRequest','Deletion\x20f','value','5029464nyWVpU','1058652gZHkfo','o\x20be\x20disco','Instance\x20l','nnected','qrCode','apikey','InstanceCo'];a21_0x685a=function(){return _0x4279ba;};return a21_0x685a();}const a21_0x252e0a=a21_0x3834;(function(_0x26ddbc,_0x1dee9f){const _0xa91c8d=a21_0x3834,_0x2c07d1=_0x26ddbc();while(!![]){try{const _0x5afb06=parseInt(_0xa91c8d(0x19e))/(0x1c38+0xa3*0x2f+-0x3a24)+-parseInt(_0xa91c8d(0x1b2))/(0xc*-0x1b1+0x1cde+-0x890)+-parseInt(_0xa91c8d(0x195))/(-0x1ad9+-0x1368+-0x4*-0xb91)*(-parseInt(_0xa91c8d(0x1c5))/(-0xce*0x26+0xe4+-0x2*-0xeda))+parseInt(_0xa91c8d(0x1c4))/(0x4*-0x98b+-0x1b94+-0x95*-0x71)+-parseInt(_0xa91c8d(0x1cb))/(-0x2128+-0x12d4+-0x27a*-0x15)+parseInt(_0xa91c8d(0x1c0))/(0x1ce2+0x1*-0x1bcd+-0x10e)*(-parseInt(_0xa91c8d(0x19a))/(-0x12e5*-0x1+0x5e7*-0x5+0x2*0x553))+-parseInt(_0xa91c8d(0x1cc))/(-0x7*0x16d+0xc24+0x11*-0x20);if(_0x5afb06===_0x1dee9f)break;else _0x2c07d1['push'](_0x2c07d1['shift']());}catch(_0x462f9a){_0x2c07d1['push'](_0x2c07d1['shift']());}}}(a21_0x685a,-0xaf03*0x15+0x462d*0x1b+0x10580c));var __awaiter=this&&this[a21_0x252e0a(0x18c)]||function(_0x10b60a,_0x14fe64,_0x10521a,_0x40e50f){function _0x7eac32(_0x2a6bb7){return _0x2a6bb7 instanceof _0x10521a?_0x2a6bb7:new _0x10521a(function(_0x110316){_0x110316(_0x2a6bb7);});}return new(_0x10521a||(_0x10521a=Promise))(function(_0x2981e0,_0x28d9f2){const _0x2143c9=a21_0x3834;function _0x56cbeb(_0x2d3db3){const _0x46742c=a21_0x3834;try{_0x1228a8(_0x40e50f[_0x46742c(0x1b1)](_0x2d3db3));}catch(_0x4939eb){_0x28d9f2(_0x4939eb);}}function _0x4a3921(_0x37aed0){const _0x40fef9=a21_0x3834;try{_0x1228a8(_0x40e50f[_0x40fef9(0x199)](_0x37aed0));}catch(_0x5815d6){_0x28d9f2(_0x5815d6);}}function _0x1228a8(_0x5a984d){const _0x43593c=a21_0x3834;_0x5a984d[_0x43593c(0x1b6)]?_0x2981e0(_0x5a984d[_0x43593c(0x1ca)]):_0x7eac32(_0x5a984d['value'])[_0x43593c(0x194)](_0x56cbeb,_0x4a3921);}_0x1228a8((_0x40e50f=_0x40e50f['apply'](_0x10b60a,_0x14fe64||[]))[_0x2143c9(0x1b1)]());});};const a21_0x1f45ce={};a21_0x1f45ce[a21_0x252e0a(0x1ca)]=!![],Object['defineProp'+'erty'](exports,a21_0x252e0a(0x18b),a21_0x1f45ce),exports[a21_0x252e0a(0x182)+a21_0x252e0a(0x1a5)]=void(0x112*-0x3+0x1*-0x1323+0x1659);function a21_0x3834(_0x4245a9,_0xa76fb3){const _0x13b863=a21_0x685a();return a21_0x3834=function(_0x1f45ce,_0x2bc4ab){_0x1f45ce=_0x1f45ce-(0x2668+-0x1*-0xf3b+-0x1*0x3422);let _0x18549c=_0x13b863[_0x1f45ce];return _0x18549c;},a21_0x3834(_0x4245a9,_0xa76fb3);}const baileys_1=require(a21_0x252e0a(0x198)+'ng/baileys'),exceptions_1=require(a21_0x252e0a(0x1bc)+a21_0x252e0a(0x1a9)),whatsapp_service_1=require('../service'+a21_0x252e0a(0x1b3)+a21_0x252e0a(0x19b)),logger_config_1=require(a21_0x252e0a(0x1a1)+a21_0x252e0a(0x1c3)+'config');class InstanceController{constructor(_0x51d92a,_0x2dd430,_0x2de078,_0x56c483,_0x51c846){const _0x513961=a21_0x252e0a;this[_0x513961(0x19d)]=_0x51d92a,this[_0x513961(0x1ae)+_0x513961(0x190)]=_0x2dd430,this[_0x513961(0x1ad)]=_0x2de078,this[_0x513961(0x19c)+'er']=_0x56c483,this[_0x513961(0x1a8)+'e']=_0x51c846,this[_0x513961(0x1a0)]=new logger_config_1[(_0x513961(0x188))](InstanceController[_0x513961(0x1be)]);}[a21_0x252e0a(0x1c2)+'ance']({instanceName:_0x8fe5c1,apikey:_0x575f10,saveOldMessages:saveOldMessages=![]}){return __awaiter(this,void(0x1818+0x76d+0x1*-0x1f85),void(-0x221+-0xc3e*-0x1+-0xa1d),function*(){const _0x149732=a21_0x3834,_0xf76d48=new whatsapp_service_1[(_0x149732(0x1c1))+(_0x149732(0x19f))](this[_0x149732(0x1ae)+'ice'],this[_0x149732(0x19c)+'er'],this[_0x149732(0x1ad)],saveOldMessages);_0xf76d48[_0x149732(0x1bd)+'me']=_0x8fe5c1,this[_0x149732(0x19d)][_0x149732(0x1ac)+'s'][_0xf76d48[_0x149732(0x1bd)+'me']]=_0xf76d48,this[_0x149732(0x19d)][_0x149732(0x196)+'eTime'](_0xf76d48[_0x149732(0x1bd)+'me']);let _0x251708={};if(!_0x575f10){const _0x1ecd60={};_0x1ecd60[_0x149732(0x1bd)+'me']=_0xf76d48[_0x149732(0x1bd)+'me'],_0x251708=yield this['authServic'+'e'][_0x149732(0x186)+'sh'](_0x1ecd60);}else{const _0x5f3275={};_0x5f3275[_0x149732(0x181)]=_0x575f10,yield this[_0x149732(0x1ad)][_0x149732(0x1aa)]['create'](_0x5f3275,_0x8fe5c1),_0x251708[_0x149732(0x181)]=_0x575f10;}const _0x270875={};_0x270875[_0x149732(0x1bd)+'me']=_0xf76d48['instanceNa'+'me'],_0x270875[_0x149732(0x18f)]=_0x149732(0x18e);const _0x414ea2={};return _0x414ea2[_0x149732(0x18a)]=_0x270875,_0x414ea2[_0x149732(0x187)]=_0x251708,_0x414ea2[_0x149732(0x1b4)+_0x149732(0x1b0)]=saveOldMessages,_0x414ea2;});}['connectToW'+a21_0x252e0a(0x18d)]({instanceName:_0x30a3a6}){var _0x1deec4;return __awaiter(this,void(0x242d*0x1+0x2*0xe36+0x4099*-0x1),void(-0xc7+-0x137b+0x1442),function*(){const _0x2826be=a21_0x3834;try{const _0x26c968=this[_0x2826be(0x19d)][_0x2826be(0x1ac)+'s'][_0x30a3a6],_0x2f8c35=(_0x1deec4=_0x26c968[_0x2826be(0x1a7)+_0x2826be(0x1c6)])===null||_0x1deec4===void(-0x43*0x6+-0x1*-0x123e+-0x856*0x2)?void(-0xc83*0x3+-0x78b*0x3+0x6*0xa07):_0x1deec4[_0x2826be(0x189)];switch(_0x2f8c35){case _0x2826be(0x197):yield _0x26c968[_0x2826be(0x1a4)+_0x2826be(0x18d)](),yield(0xef*0x26+0x2ef*0xd+-0x499d,baileys_1[_0x2826be(0x185)])(-0x1cfa+0x58a*-0x2+0xb*0x45a);return _0x26c968[_0x2826be(0x1d0)];case _0x2826be(0x1b8):return _0x26c968[_0x2826be(0x1d0)];default:const _0x212fa5={};_0x212fa5[_0x2826be(0x1bd)+'me']=_0x30a3a6;return yield this[_0x2826be(0x1a7)+_0x2826be(0x1bf)](_0x212fa5);}}catch(_0x4d5747){this[_0x2826be(0x1a0)][_0x2826be(0x1b7)](_0x4d5747);}});}[a21_0x252e0a(0x1a7)+'State']({instanceName:_0x2e7422}){return __awaiter(this,void(0x86+-0x1*-0x933+-0x83*0x13),void(0xa30*-0x1+-0x259a*0x1+0x2fca),function*(){const _0x398b6d=a21_0x3834;return this['waMonitor']['waInstance'+'s'][_0x2e7422][_0x398b6d(0x1a7)+_0x398b6d(0x1c6)];});}['fetchInsta'+'nces']({instanceName:_0x4a662e}){return __awaiter(this,void(0x1da3+-0x1875+-0x52e),void(-0x1d*-0xc7+-0x5*-0x3ab+-0x1*0x28e2),function*(){const _0x1e5086=a21_0x3834;if(_0x4a662e)return this[_0x1e5086(0x19d)][_0x1e5086(0x1ba)+'fo'](_0x4a662e);return this['waMonitor'][_0x1e5086(0x1ba)+'fo']();});}[a21_0x252e0a(0x1a3)]({instanceName:_0xc8f46e}){var _0x14cb2a,_0x5b0f19;return __awaiter(this,void(0x2332+0x1a*-0x6a+-0x186e*0x1),void(-0x18f+0x17c2+-0x1633),function*(){const _0x458808=a21_0x3834;try{yield(_0x5b0f19=(_0x14cb2a=this['waMonitor'][_0x458808(0x1ac)+'s'][_0xc8f46e])===null||_0x14cb2a===void(0x1b9e+-0x4d*0x7+0x3*-0x881)?void(0xdec+-0x2*0x2de+0x830*-0x1):_0x14cb2a[_0x458808(0x191)])===null||_0x5b0f19===void(-0x271+0x31a*0x1+-0xa9)?void(-0x15b*0x11+-0x11c7*-0x1+0x544):_0x5b0f19['logout']('Log\x20out\x20in'+'stance:\x20'+_0xc8f46e);const _0x43dfe5={};return _0x43dfe5[_0x458808(0x1bb)]=![],_0x43dfe5[_0x458808(0x184)]=_0x458808(0x1ce)+'ogged\x20out',_0x43dfe5;}catch(_0x3b56e0){throw new exceptions_1[(_0x458808(0x1c7))+'rverErrorE'+(_0x458808(0x1b5))](_0x3b56e0[_0x458808(0x193)]());}});}[a21_0x252e0a(0x1a2)+a21_0x252e0a(0x192)]({instanceName:_0x5aad4d}){return __awaiter(this,void(-0x1*-0x191b+-0xdd*-0x29+-0x3c80),void(-0x37+0x40b+-0x3d4),function*(){const _0x3bf013=a21_0x3834,_0x35e2f6={};_0x35e2f6[_0x3bf013(0x1bd)+'me']=_0x5aad4d;const _0x112d9a=yield this['connection'+_0x3bf013(0x1bf)](_0x35e2f6);if(_0x112d9a[_0x3bf013(0x189)]===_0x3bf013(0x1ab))throw new exceptions_1['BadRequest'+'Exception']([_0x3bf013(0x1c9)+'ailed',_0x3bf013(0x183)+'ce\x20needs\x20t'+_0x3bf013(0x1cd)+_0x3bf013(0x1cf)]);try{delete this['waMonitor'][_0x3bf013(0x1ac)+'s'][_0x5aad4d];const _0x6cc6d9={};return _0x6cc6d9['error']=![],_0x6cc6d9['message']=_0x3bf013(0x1b9)+_0x3bf013(0x1af),_0x6cc6d9;}catch(_0x3f7a4f){throw new exceptions_1[(_0x3bf013(0x1c8))+(_0x3bf013(0x1a6))](_0x3f7a4f[_0x3bf013(0x193)]());}});}['refreshTok'+'en'](_0x219d52,_0x36d86d){return __awaiter(this,void(0x1e1*0x11+-0x55+-0x1f9c),void(-0x1*-0xe37+-0x15*0x67+0x3*-0x1ec),function*(){const _0x5ebad1=a21_0x3834;return yield this[_0x5ebad1(0x1a8)+'e']['refreshTok'+'en'](_0x36d86d);});}}exports[a21_0x252e0a(0x182)+a21_0x252e0a(0x1a5)]=InstanceController;