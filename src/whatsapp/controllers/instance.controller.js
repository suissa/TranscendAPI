'use strict';const a21_0x422d9c=a21_0x29fa;function a21_0x4021(){const _0x1aec7b=['o\x20be\x20disco','toString','authServic','generateHa','waInstance','hatsapp','Instance\x20d','InternalSe','create','State','ce\x20info:','refreshTok','@adiwajshi','created','then','Exception','fetchInsta','About\x20to\x20g','client','name','open','Got\x20instan','xception','instance','4579665yfnadr','erty','Status','logout','1508238qFPpGs','delInstanc','auth','hash','WAStartupS','s/whatsapp','../../exce','.service','delay','e\x20info\x20for','instanceNa','state','The\x20instan','120845RBJQLo','close','1364742rIQuQI','eleted','waMonitor','connectToW','BadRequest','connection','2710104FPZItX','defineProp','8ZFVMEA','apikey','config','message','deleteInst','throw','ice','log','ptions','560973USVGLe','et\x20instanc','configServ','nnected','7owaJYv','ance','instanceIn','../service','Instance\x20l','eventEmitt','createInst','rverErrorE','4808106zvIaRO','stance:\x20','logger','value','eTime','repository','__awaiter','error','qrCode','InstanceCo'];a21_0x4021=function(){return _0x1aec7b;};return a21_0x4021();}function a21_0x29fa(_0x56aee7,_0x4f22d0){const _0x5cb023=a21_0x4021();return a21_0x29fa=function(_0x23615a,_0x12108f){_0x23615a=_0x23615a-(-0x1*-0xea2+-0x2b6+-0xb6a*0x1);let _0x53f631=_0x5cb023[_0x23615a];return _0x53f631;},a21_0x29fa(_0x56aee7,_0x4f22d0);}(function(_0x4c1d2d,_0x3b1e62){const _0x3c08b2=a21_0x29fa,_0x38874=_0x4c1d2d();while(!![]){try{const _0x1fbe88=parseInt(_0x3c08b2(0x93))/(-0x13c1+0x53d+0xe85)+parseInt(_0x3c08b2(0x95))/(0x1d0e+-0xa57+0x12b5*-0x1)+-parseInt(_0x3c08b2(0xa6))/(0x17fe+-0x1c24+0xd5*0x5)*(-parseInt(_0x3c08b2(0x9d))/(-0x4cd*-0x5+-0x96*-0x22+0x2be9*-0x1))+-parseInt(_0x3c08b2(0x82))/(-0x40*-0x5e+0x1f68+-0x36e3)+parseInt(_0x3c08b2(0xb2))/(0xc2*-0x3+-0x2610+0x285c)+parseInt(_0x3c08b2(0xaa))/(-0x73*0x1+-0x16c*-0x9+-0xc52)*(-parseInt(_0x3c08b2(0x9b))/(-0x2606+0x994+0x1c7a))+-parseInt(_0x3c08b2(0x86))/(0xa*-0x269+0x4*-0x1b5+0x1ef7);if(_0x1fbe88===_0x3b1e62)break;else _0x38874['push'](_0x38874['shift']());}catch(_0x2c4c3d){_0x38874['push'](_0x38874['shift']());}}}(a21_0x4021,-0x2*0x3a1ee+-0xff37*-0xa+0x5c8a5));var __awaiter=this&&this[a21_0x422d9c(0xb8)]||function(_0x6f9332,_0x3b85c2,_0x2e0861,_0x223b1b){function _0xd4dced(_0x12ce87){return _0x12ce87 instanceof _0x2e0861?_0x12ce87:new _0x2e0861(function(_0x2eb62f){_0x2eb62f(_0x12ce87);});}return new(_0x2e0861||(_0x2e0861=Promise))(function(_0x2af8fc,_0x60c632){function _0x572ee3(_0x4e2fa1){try{_0x5de994(_0x223b1b['next'](_0x4e2fa1));}catch(_0x13f295){_0x60c632(_0x13f295);}}function _0x38af0e(_0x427656){const _0x5208f8=a21_0x29fa;try{_0x5de994(_0x223b1b[_0x5208f8(0xa2)](_0x427656));}catch(_0x6a53dd){_0x60c632(_0x6a53dd);}}function _0x5de994(_0x3419f3){const _0x8ffbb4=a21_0x29fa;_0x3419f3['done']?_0x2af8fc(_0x3419f3['value']):_0xd4dced(_0x3419f3[_0x8ffbb4(0xb5)])[_0x8ffbb4(0xca)](_0x572ee3,_0x38af0e);}_0x5de994((_0x223b1b=_0x223b1b['apply'](_0x6f9332,_0x3b85c2||[]))['next']());});};const a21_0x23615a={};a21_0x23615a['value']=!![],Object[a21_0x422d9c(0x9c)+a21_0x422d9c(0x83)](exports,'__esModule',a21_0x23615a),exports[a21_0x422d9c(0xbb)+'ntroller']=void(-0x1845+0x1db8+-0x573);const baileys_1=require(a21_0x422d9c(0xc8)+'ng/baileys'),exceptions_1=require(a21_0x422d9c(0x8c)+a21_0x422d9c(0xa5)),whatsapp_service_1=require(a21_0x422d9c(0xad)+a21_0x422d9c(0x8b)+a21_0x422d9c(0x8d)),logger_config_1=require('../../conf'+'ig/logger.'+a21_0x422d9c(0x9f));class InstanceController{constructor(_0x55d58c,_0x58d118,_0x5e5496,_0x2065b5,_0x4aa6cb){const _0x296422=a21_0x422d9c;this['waMonitor']=_0x55d58c,this[_0x296422(0xa8)+_0x296422(0xa3)]=_0x58d118,this['repository']=_0x5e5496,this[_0x296422(0xaf)+'er']=_0x2065b5,this[_0x296422(0xbe)+'e']=_0x4aa6cb,this[_0x296422(0xb4)]=new logger_config_1['Logger'](InstanceController[_0x296422(0xcf)]);}[a21_0x422d9c(0xb0)+a21_0x422d9c(0xab)]({instanceName:_0x3671a0,apikey:_0x18ba68}){return __awaiter(this,void(-0x1*0x2301+0x5*-0xf2+0x27bb),void(-0xb*0x194+-0x3fd*0x7+0xad*0x43),function*(){const _0x2ddaf4=a21_0x29fa,_0x4871da=new whatsapp_service_1[(_0x2ddaf4(0x8a))+'ervice'](this[_0x2ddaf4(0xa8)+'ice'],this[_0x2ddaf4(0xaf)+'er'],this[_0x2ddaf4(0xb7)]);_0x4871da['instanceNa'+'me']=_0x3671a0,this['waMonitor'][_0x2ddaf4(0xc0)+'s'][_0x4871da['instanceNa'+'me']]=_0x4871da,this['waMonitor'][_0x2ddaf4(0x87)+_0x2ddaf4(0xb6)](_0x4871da[_0x2ddaf4(0x90)+'me']);let _0x36cc4e={};if(!_0x18ba68){const _0x223752={};_0x223752[_0x2ddaf4(0x90)+'me']=_0x4871da[_0x2ddaf4(0x90)+'me'],_0x36cc4e=yield this[_0x2ddaf4(0xbe)+'e'][_0x2ddaf4(0xbf)+'sh'](_0x223752);}else{const _0x278462={};_0x278462[_0x2ddaf4(0x9e)]=_0x18ba68,yield this['repository'][_0x2ddaf4(0x88)][_0x2ddaf4(0xc4)](_0x278462,_0x3671a0),_0x36cc4e[_0x2ddaf4(0x9e)]=_0x18ba68;}const _0x290e9e={};_0x290e9e[_0x2ddaf4(0x90)+'me']=_0x4871da[_0x2ddaf4(0x90)+'me'],_0x290e9e['status']=_0x2ddaf4(0xc9);const _0x2af5f4={};return _0x2af5f4[_0x2ddaf4(0xd3)]=_0x290e9e,_0x2af5f4[_0x2ddaf4(0x89)]=_0x36cc4e,_0x2af5f4;});}['connectToW'+a21_0x422d9c(0xc1)]({instanceName:_0x4c77f7}){var _0x357be9;return __awaiter(this,void(0x189d*0x1+-0xd1b+-0xb82),void(0x15*-0x22+-0x10cd+0x1397),function*(){const _0x5a590e=a21_0x29fa;try{const _0x1a4fd8=this[_0x5a590e(0x97)][_0x5a590e(0xc0)+'s'][_0x4c77f7],_0x28b647=(_0x357be9=_0x1a4fd8[_0x5a590e(0x9a)+_0x5a590e(0x84)])===null||_0x357be9===void(0x1*-0x1f7b+0xb38+0x1443)?void(-0xb*0x16f+-0x1019+0x1fde):_0x357be9['state'];switch(_0x28b647){case _0x5a590e(0x94):yield _0x1a4fd8[_0x5a590e(0x98)+'hatsapp'](),yield(-0xc98+0x788+-0x288*-0x2,baileys_1[_0x5a590e(0x8e)])(0xd8+0x5*-0x69d+-0x1*-0x2809);return _0x1a4fd8['qrCode'];case'connecting':return _0x1a4fd8[_0x5a590e(0xba)];default:const _0x4fa889={};_0x4fa889['instanceNa'+'me']=_0x4c77f7;return yield this[_0x5a590e(0x9a)+_0x5a590e(0xc5)](_0x4fa889);}}catch(_0x43534c){this[_0x5a590e(0xb4)][_0x5a590e(0xa4)](_0x43534c);}});}['connection'+a21_0x422d9c(0xc5)]({instanceName:_0x4af80a}){return __awaiter(this,void(0xba7+0x15be+-0x2165),void(-0x7*-0x50e+0xac3+-0x2e25),function*(){const _0x29d913=a21_0x29fa,_0x472e08=this[_0x29d913(0x97)]['waInstance'+'s'][_0x4af80a][_0x29d913(0x9a)+_0x29d913(0x84)];console[_0x29d913(0xa4)](_0x29d913(0xcd)+_0x29d913(0xa7)+_0x29d913(0x8f)+':',_0x4af80a);const _0xfdf322=yield this['waMonitor'][_0x29d913(0xac)+'fo'](_0x4af80a);console['log'](_0x29d913(0xd1)+_0x29d913(0xc6),_0xfdf322);const _0xbcf926={};return _0xbcf926[_0x29d913(0x9a)+'Status']=_0x472e08,_0xbcf926['instanceIn'+'fo']=_0xfdf322,_0xbcf926;});}[a21_0x422d9c(0xcc)+'nces']({instanceName:_0x2cbe0c}){return __awaiter(this,void(-0x2453+-0x3*0x7db+0x3be4),void(0x14af*0x1+0xbb0+0x205f*-0x1),function*(){const _0x43bb84=a21_0x29fa;if(_0x2cbe0c)return this[_0x43bb84(0x97)][_0x43bb84(0xac)+'fo'](_0x2cbe0c);return this[_0x43bb84(0x97)]['instanceIn'+'fo']();});}[a21_0x422d9c(0x85)]({instanceName:_0x3d585f}){var _0x437153,_0x1b4416;return __awaiter(this,void(-0x1*0x21b5+0x1d4e*-0x1+0x3f03),void(-0x19d+0x20f0+0x51*-0x63),function*(){const _0x3a52f4=a21_0x29fa;try{yield(_0x1b4416=(_0x437153=this['waMonitor'][_0x3a52f4(0xc0)+'s'][_0x3d585f])===null||_0x437153===void(-0x1000+0x1e91+-0xe91)?void(0x1c88+0x959*-0x3+-0x7d):_0x437153[_0x3a52f4(0xce)])===null||_0x1b4416===void(0x1*0x17cb+-0xecc+0x149*-0x7)?void(-0x4c3+0xdb1+-0x8ee):_0x1b4416[_0x3a52f4(0x85)]('Log\x20out\x20in'+_0x3a52f4(0xb3)+_0x3d585f);const _0x38bf07={};return _0x38bf07[_0x3a52f4(0xb9)]=![],_0x38bf07[_0x3a52f4(0xa0)]=_0x3a52f4(0xae)+'ogged\x20out',_0x38bf07;}catch(_0x10c4ab){throw new exceptions_1[(_0x3a52f4(0xc3))+(_0x3a52f4(0xb1))+(_0x3a52f4(0xd2))](_0x10c4ab[_0x3a52f4(0xbd)]());}});}[a21_0x422d9c(0xa1)+a21_0x422d9c(0xab)]({instanceName:_0x111fb3}){return __awaiter(this,void(-0x238d+0x4*0x1b7+0x1cb1),void(0x210f+0x658+-0x2767),function*(){const _0x5a5f82=a21_0x29fa,_0x5cf029={};_0x5cf029['instanceNa'+'me']=_0x111fb3;const _0x296ca9=yield this[_0x5a5f82(0x9a)+_0x5a5f82(0xc5)](_0x5cf029);if(_0x296ca9[_0x5a5f82(0x9a)+'Status'][_0x5a5f82(0x91)]===_0x5a5f82(0xd0))throw new exceptions_1[(_0x5a5f82(0x99))+(_0x5a5f82(0xcb))](['Deletion\x20f'+'ailed',_0x5a5f82(0x92)+'ce\x20needs\x20t'+_0x5a5f82(0xbc)+_0x5a5f82(0xa9)]);try{delete this['waMonitor']['waInstance'+'s'][_0x111fb3];const _0x40494b={};return _0x40494b['error']=![],_0x40494b[_0x5a5f82(0xa0)]=_0x5a5f82(0xc2)+_0x5a5f82(0x96),_0x40494b;}catch(_0x21d6ac){throw new exceptions_1[(_0x5a5f82(0x99))+'Exception'](_0x21d6ac['toString']());}});}[a21_0x422d9c(0xc7)+'en'](_0x5cbab6,_0x3312e5){return __awaiter(this,void(-0x14bf+-0x49*0x79+-0x440*-0xd),void(-0x93*-0x37+0x64c+-0x25e1),function*(){const _0x2c9afd=a21_0x29fa;return yield this[_0x2c9afd(0xbe)+'e'][_0x2c9afd(0xc7)+'en'](_0x3312e5);});}}exports['InstanceCo'+'ntroller']=InstanceController;