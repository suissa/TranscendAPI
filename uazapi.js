const a0_0x569689=a0_0x4dbe;(function(_0x2db0bc,_0x3ff07c){const _0x24f261=a0_0x4dbe,_0x1c3fe7=_0x2db0bc();while(!![]){try{const _0x3e92d8=-parseInt(_0x24f261(0x683))/0x1*(parseInt(_0x24f261(0x1f1))/0x2)+parseInt(_0x24f261(0x2ac))/0x3*(parseInt(_0x24f261(0x273))/0x4)+-parseInt(_0x24f261(0x380))/0x5+parseInt(_0x24f261(0x514))/0x6+-parseInt(_0x24f261(0x5e0))/0x7*(-parseInt(_0x24f261(0x1b4))/0x8)+-parseInt(_0x24f261(0x5a1))/0x9*(-parseInt(_0x24f261(0x5ad))/0xa)+parseInt(_0x24f261(0x766))/0xb;if(_0x3e92d8===_0x3ff07c)break;else _0x1c3fe7['push'](_0x1c3fe7['shift']());}catch(_0x3e95bd){_0x1c3fe7['push'](_0x1c3fe7['shift']());}}}(a0_0x5cf0,0x923bd));var xr=Object[a0_0x569689(0x5c4)],Ie=Object[a0_0x569689(0x59b)],_r=Object[a0_0x569689(0x3ae)],Pr=Object['getOwnPropertyNames'],$r=Object[a0_0x569689(0x5b2)],kr=Object['prototype'][a0_0x569689(0x281)],Lr=(_0x1e2505,_0x53a801)=>{for(var _0x36202d in _0x53a801)Ie(_0x1e2505,_0x36202d,{'get':_0x53a801[_0x36202d],'enumerable':!0x0});},Ds=(_0x4c01f2,_0x3b1e99,_0x34d75b,_0x35e812)=>{const _0x405b80=a0_0x569689;if(_0x3b1e99&&typeof _0x3b1e99==_0x405b80(0x289)||typeof _0x3b1e99==_0x405b80(0x428)){for(let _0x2b5a0c of Pr(_0x3b1e99))!kr['call'](_0x4c01f2,_0x2b5a0c)&&_0x2b5a0c!==_0x34d75b&&Ie(_0x4c01f2,_0x2b5a0c,{'get':()=>_0x3b1e99[_0x2b5a0c],'enumerable':!(_0x35e812=_r(_0x3b1e99,_0x2b5a0c))||_0x35e812[_0x405b80(0x5d9)]});}return _0x4c01f2;},R=(_0x3c5fc2,_0x3ef706,_0x177bb9)=>(_0x177bb9=_0x3c5fc2!=null?xr($r(_0x3c5fc2)):{},Ds(_0x3ef706||!_0x3c5fc2||!_0x3c5fc2['__esModule']?Ie(_0x177bb9,a0_0x569689(0x29a),{'value':_0x3c5fc2,'enumerable':!0x0}):_0x177bb9,_0x3c5fc2)),Fr=_0x52bf30=>Ds(Ie({},a0_0x569689(0x746),{'value':!0x0}),_0x52bf30),zo={};Lr(zo,{'subdomain':()=>Cs}),module[a0_0x569689(0x716)]=Fr(zo);var Rr=R(require('compression')),_s=require('fs'),Ps=require(a0_0x569689(0x3ed)),$s=require(a0_0x569689(0x4a3)),De=require(a0_0x569689(0x4a3)),ae=process[a0_0x569689(0x66a)](),pe=(0x0,De[a0_0x569689(0x1ee)])(ae,a0_0x569689(0x430)),xs=(0x0,De[a0_0x569689(0x1ee)])(ae,a0_0x569689(0x5aa)),ji=(0x0,De[a0_0x569689(0x1ee)])(ae,a0_0x569689(0x78f),'auth'),Qt=class{constructor(){const _0x616c02=a0_0x569689;this[_0x616c02(0x34b)]();}[a0_0x569689(0x5de)](_0x1a23ec){const _0xa8bc8e=a0_0x569689;return this[_0xa8bc8e(0x21a)][_0x1a23ec];}['loadEnv'](){const _0x5e4791=a0_0x569689;this[_0x5e4791(0x21a)]=process[_0x5e4791(0x21a)]?.[_0x5e4791(0x275)]!==_0x5e4791(0x579)?this[_0x5e4791(0x662)]():this[_0x5e4791(0x74a)](),process[_0x5e4791(0x21a)]?.[_0x5e4791(0x275)]==='true'&&(this[_0x5e4791(0x21a)][_0x5e4791(0x433)][_0x5e4791(0x31a)]=_0x5e4791(0x66b),this['env'][_0x5e4791(0x433)][_0x5e4791(0x48b)]=Number[_0x5e4791(0x3ee)](process[_0x5e4791(0x21a)]?.['SERVER_PORT']??_0x5e4791(0x6dd)));}[a0_0x569689(0x662)](){const _0x279867=a0_0x569689;return(0x0,Ps['load'])((0x0,_s['readFileSync'])((0x0,$s['join'])(xs,_0x279867(0x45b)),{'encoding':_0x279867(0x633)}));}['envProcess'](){const _0xaf6bc7=a0_0x569689;return{'SERVER':{'TYPE':process['env'][_0xaf6bc7(0x559)],'PORT':Number[_0xaf6bc7(0x3ee)](process[_0xaf6bc7(0x21a)]['SERVER_PORT']),'URL':process[_0xaf6bc7(0x21a)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0xaf6bc7(0x21a)]['CORS_ORIGIN'][_0xaf6bc7(0x348)](','),'METHODS':process['env']['CORS_METHODS'][_0xaf6bc7(0x348)](','),'CREDENTIALS':process[_0xaf6bc7(0x21a)]?.[_0xaf6bc7(0x726)]===_0xaf6bc7(0x579)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0xaf6bc7(0x609)],'FULLCHAIN':process['env']?.[_0xaf6bc7(0x540)]},'STORE':{'CLEANING_INTERVAL':Number[_0xaf6bc7(0x2c1)](process['env']?.[_0xaf6bc7(0x3dd)])?Number[_0xaf6bc7(0x3ee)](process[_0xaf6bc7(0x21a)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0xaf6bc7(0x21a)]?.[_0xaf6bc7(0x361)]===_0xaf6bc7(0x579),'CONTACTS':process[_0xaf6bc7(0x21a)]?.['STORE_CONTACTS']===_0xaf6bc7(0x579),'CHATS':process[_0xaf6bc7(0x21a)]?.[_0xaf6bc7(0x3c2)]===_0xaf6bc7(0x579)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0xaf6bc7(0x3ee)](process[_0xaf6bc7(0x21a)]?.[_0xaf6bc7(0x415)]),'USER':process[_0xaf6bc7(0x21a)][_0xaf6bc7(0x637)],'PASSWORD':process[_0xaf6bc7(0x21a)][_0xaf6bc7(0x761)],'URI':process[_0xaf6bc7(0x21a)][_0xaf6bc7(0x54a)],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0xaf6bc7(0x21a)]?.['DATABASE_ENABLED']===_0xaf6bc7(0x579)},'REDIS':{'ENABLED':process[_0xaf6bc7(0x21a)]?.[_0xaf6bc7(0x2af)]===_0xaf6bc7(0x579),'URI':process['env']['REDIS_URI']||'redis://127.0.0.1:6379','PREFIX_KEY':process['env']['REDIS_PREFIX_KEY']||_0xaf6bc7(0x278)},'LOG':{'LEVEL':process[_0xaf6bc7(0x21a)]?.[_0xaf6bc7(0x495)][_0xaf6bc7(0x348)](','),'COLOR':process['env']?.[_0xaf6bc7(0x599)]===_0xaf6bc7(0x579)},'AUTHENTICATION':{'TYPE':process[_0xaf6bc7(0x21a)][_0xaf6bc7(0x53e)],'API_KEY':{'KEY':process[_0xaf6bc7(0x21a)][_0xaf6bc7(0x33f)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0xaf6bc7(0x21a)]?.[_0xaf6bc7(0x6e8)])?Number[_0xaf6bc7(0x3ee)](process[_0xaf6bc7(0x21a)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0xaf6bc7(0x21a)][_0xaf6bc7(0x36f)]}}};}},b=new Qt(),Tr=R(require(a0_0x569689(0x6c9))),de=R(require(a0_0x569689(0x5a6))),As=require(a0_0x569689(0x4a3)),Yt=R(require(a0_0x569689(0x632))),Xt=(_0x38752d=>(_0x38752d[a0_0x569689(0x426)]='\x1b[32m',_0x38752d['INFO']='\x1b[34m',_0x38752d['WARN']='\x1b[33m',_0x38752d[a0_0x569689(0x6c1)]=a0_0x569689(0x496),_0x38752d[a0_0x569689(0x50b)]=a0_0x569689(0x314),_0x38752d[a0_0x569689(0x75c)]=a0_0x569689(0x738),_0x38752d['DARK']=a0_0x569689(0x3e9),_0x38752d))(Xt||{}),ks=(_0x3663ed=>(_0x3663ed[a0_0x569689(0x426)]=a0_0x569689(0x305),_0x3663ed[a0_0x569689(0x32e)]=a0_0x569689(0x34d),_0x3663ed['INFO']=a0_0x569689(0x29f),_0x3663ed[a0_0x569689(0x442)]=a0_0x569689(0x3a8),_0x3663ed[a0_0x569689(0x6c1)]='\x1b[31m%s\x1b[0m',_0x3663ed['DEBUG']=a0_0x569689(0x32b),_0x3663ed[a0_0x569689(0x75c)]='\x1b[37m%s\x1b[0m',_0x3663ed))(ks||{}),Ls=(_0x2b271e=>(_0x2b271e[a0_0x569689(0x426)]=a0_0x569689(0x426),_0x2b271e['WARN']=a0_0x569689(0x442),_0x2b271e['INFO']=a0_0x569689(0x2df),_0x2b271e[a0_0x569689(0x32e)]=a0_0x569689(0x32e),_0x2b271e[a0_0x569689(0x6c1)]=a0_0x569689(0x6c1),_0x2b271e[a0_0x569689(0x50b)]=a0_0x569689(0x50b),_0x2b271e[a0_0x569689(0x75c)]=a0_0x569689(0x75c),_0x2b271e))(Ls||{}),Fs=(_0x465d59=>(_0x465d59[a0_0x569689(0x426)]=a0_0x569689(0x79e),_0x465d59[a0_0x569689(0x2df)]=a0_0x569689(0x65c),_0x465d59[a0_0x569689(0x442)]=a0_0x569689(0x228),_0x465d59[a0_0x569689(0x32e)]=a0_0x569689(0x2ab),_0x465d59[a0_0x569689(0x6c1)]=a0_0x569689(0x786),_0x465d59['DEBUG']=a0_0x569689(0x75d),_0x465d59['VERBOSE']=a0_0x569689(0x406),_0x465d59))(Fs||{}),v=class{constructor(_0x1e7ca0=a0_0x569689(0x643)){const _0x3412b8=a0_0x569689;this['context']=_0x1e7ca0,this[_0x3412b8(0x555)]=b;}['setContext'](_0x34bb7e){const _0x4045f7=a0_0x569689;this[_0x4045f7(0x5b6)]=_0x34bb7e;}[a0_0x569689(0x714)](_0xf1fd2e,_0x1e7735){const _0x30abf3=a0_0x569689;let _0x442b7a=[];this['configService'][_0x30abf3(0x5de)](_0x30abf3(0x426))['LEVEL'][_0x30abf3(0x6b4)](_0x18fe09=>_0x442b7a[_0x30abf3(0x392)](Ls[_0x18fe09]));let _0x5887f3=typeof _0xf1fd2e;_0x442b7a[_0x30abf3(0x1f2)](_0x1e7735)&&(b[_0x30abf3(0x5de)](_0x30abf3(0x426))[_0x30abf3(0x648)]?(console[_0x30abf3(0x513)](_0x30abf3(0x36a)+ks[_0x1e7735],'\x1b[1m\x1b[37m',(0x0,Yt['default'])()[_0x30abf3(0x560)](_0x30abf3(0x483)),_0x30abf3(0x536),Xt[_0x1e7735]+Fs[_0x1e7735]+_0x30abf3(0x36a),_0x1e7735+_0x30abf3(0x7a7),'\x1b[33m\x1b[1m',this[_0x30abf3(0x5b6)]+_0x30abf3(0x536),Xt[_0x1e7735],_0x5887f3!==_0x30abf3(0x289)?_0xf1fd2e:'','\x1b[0m'),_0x5887f3==='object'&&console[_0x30abf3(0x513)](_0xf1fd2e,'\x0a')):console[_0x30abf3(0x513)]((0x0,Yt[_0x30abf3(0x29a)])()['format']('HH:mm:ss'),_0x1e7735+'\x20',''+this[_0x30abf3(0x5b6)],_0xf1fd2e));}[a0_0x569689(0x513)](_0x2243aa){const _0x1c1129=a0_0x569689;this[_0x1c1129(0x714)](_0x2243aa,'LOG');}[a0_0x569689(0x76a)](_0x4759ab){const _0x222afb=a0_0x569689;this[_0x222afb(0x714)](_0x4759ab,_0x222afb(0x2df));}['warn'](_0x264cc8){const _0x18e782=a0_0x569689;this[_0x18e782(0x714)](_0x264cc8,_0x18e782(0x442));}[a0_0x569689(0x393)](_0x470ca3){const _0x1e54d6=a0_0x569689;this[_0x1e54d6(0x714)](_0x470ca3,_0x1e54d6(0x6c1));}[a0_0x569689(0x55d)](_0x44fe78){this['console'](_0x44fe78,'VERBOSE');}[a0_0x569689(0x5d7)](_0x189ad0){this['console'](_0x189ad0,'DEBUG');}[a0_0x569689(0x776)](_0x291f06){const _0x499403=a0_0x569689;this[_0x499403(0x714)](_0x291f06,_0x499403(0x32e));}};function Us(){const _0x29250c=a0_0x569689;process['on'](_0x29250c(0x2a5),(_0x5f15e6,_0x40e994)=>{const _0x5f1528=_0x29250c;new v(_0x5f1528(0x2a5))[_0x5f1528(0x393)]({'origin':_0x40e994,'stderr':process[_0x5f1528(0x641)]['fd'],'error':_0x5f15e6});}),process['on'](_0x29250c(0x628),(_0xee669f,_0x1c6fad)=>{const _0x4d3483=_0x29250c;new v(_0x4d3483(0x628))[_0x4d3483(0x393)]({'origin':_0x1c6fad,'stderr':process[_0x4d3483(0x641)]['fd'],'error':_0xee669f});});}var Js=R(require(a0_0x569689(0x1dd))),Zt=new Js[(a0_0x569689(0x29a))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x569689(0x75e)),es=R(require('mongoose')),Ur=new v(a0_0x569689(0x3db)),V=b[a0_0x569689(0x5de)](a0_0x569689(0x2ed)),N=V['ENABLED']?V[a0_0x569689(0x4a6)][a0_0x569689(0x206)]?es['default'][a0_0x569689(0x70f)](V[a0_0x569689(0x4a6)]['URI'],{'dbName':V[a0_0x569689(0x4a6)][a0_0x569689(0x2ef)]+'-whatsapp-api'}):es['default']['createConnection'](a0_0x569689(0x6b2)+V[a0_0x569689(0x4a6)]['HOST']+':'+V[a0_0x569689(0x4a6)][a0_0x569689(0x48b)]+a0_0x569689(0x695),{'user':V[a0_0x569689(0x4a6)][a0_0x569689(0x1e7)],'pass':V[a0_0x569689(0x4a6)]['PASSWORD'],'dbName':V[a0_0x569689(0x4a6)][a0_0x569689(0x2ef)]+'-whatsapp-api'}):null;V[a0_0x569689(0x23d)]&&Ur[a0_0x569689(0x76a)](a0_0x569689(0x6c3)+N[a0_0x569689(0x3a5)]);var Jr=new xe[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),jr=new xe[(a0_0x569689(0x7bd))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qr=new xe[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),js=_0x2a52e0=>{const _0x31d116=a0_0x569689;let _0x4fa83d='z_'+_0x2a52e0+_0x31d116(0x61f);return N?.['model'](_0x31d116(0x595),qr,_0x4fa83d);},qs=require(a0_0x569689(0x75e)),Vr=new qs[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x5a3a9b=>{const _0x34ae9e=a0_0x569689;let _0x3953c3='z_'+_0x5a3a9b+_0x34ae9e(0x712);return N?.['model'](_0x34ae9e(0x30e),Vr,_0x3953c3);},Bs=require('mongoose'),Br=new Bs[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x3cd7fa=>{const _0x5affb5=a0_0x569689;let _0xf819='z_'+_0x3cd7fa+'_Messages';return N?.[_0x5affb5(0x2c9)](_0x5affb5(0x587),Br,_0xf819);},Ws=require('mongoose'),ts=class{},Gr=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.[a0_0x569689(0x2c9)](ts[a0_0x569689(0x222)],Gr,a0_0x569689(0x5fe)),Hs=require(a0_0x569689(0x75e)),ss=class{},Ks=new Hs[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks['pre']('save',function(_0x365cf0){const _0x4ad381=a0_0x569689;delete this[_0x4ad381(0x420)],delete this[_0x4ad381(0x65f)],delete this[_0x4ad381(0x28f)],delete this[_0x4ad381(0x3ac)],delete this['flowStopMinutes'],_0x365cf0();});var Qs=N?.[a0_0x569689(0x2c9)](ss['name'],Ks,a0_0x569689(0x4e1)),x=require(a0_0x569689(0x75e)),_e=class{},Ys=new x[(a0_0x569689(0x7bd))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),as=new x[(a0_0x569689(0x7bd))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new x[(a0_0x569689(0x7bd))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x569689(0x1fa)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x569689(0x4d4)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x569689(0x6d7)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new x[(a0_0x569689(0x7bd))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new x[(a0_0x569689(0x7bd))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Hr=new x[(a0_0x569689(0x7bd))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new x[(a0_0x569689(0x7bd))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),cs=new x[(a0_0x569689(0x7bd))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new x[(a0_0x569689(0x7bd))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},ls=new x[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x1d5b2f=a0_0x569689;return'!cmd_'+Math[_0x1d5b2f(0x48c)]()[_0x1d5b2f(0x6be)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[cs],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[as],'default':[]}});ls[a0_0x569689(0x5be)]('save',function(_0x364375){const _0x196d05=a0_0x569689;let _0x532bb5=new Set(),_0x488e2e=new Set(this[_0x196d05(0x7c4)]?.[_0x196d05(0x46c)](_0x124f74=>_0x124f74[_0x196d05(0x222)])),_0x3d2a50=JSON[_0x196d05(0x28a)](this),_0x2b5a75=/{{(?!_)([^}]*)}}/g,_0x56ba3c;for(;(_0x56ba3c=_0x2b5a75['exec'](_0x3d2a50))!==null;)_0x488e2e[_0x196d05(0x1f9)](_0x56ba3c[0x1])||_0x532bb5[_0x196d05(0x3f4)](_0x56ba3c[0x1]);_0x532bb5[_0x196d05(0x4bf)]>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array['from'](_0x532bb5)),this[_0x196d05(0x429)]=Array[_0x196d05(0x68a)](_0x532bb5)):this['variablesNotFound']=[],_0x364375();});var ta=_0x4c4567=>{const _0xc9ad27=a0_0x569689;let _0x2ab267='z_'+_0x4c4567+_0xc9ad27(0x4ef);return N?.[_0xc9ad27(0x2c9)](_0xc9ad27(0x2da),ls,_0x2ab267);},sa=N?.[a0_0x569689(0x2c9)](rs[a0_0x569689(0x222)],ls,a0_0x569689(0x76c)),Kr=new x['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),os=class{},aa=new x[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[cs],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[as],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x569689(0x749)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[as],'default':[]}}),ra=_0x1b218c=>{const _0x160155=a0_0x569689;let _0x20d1bc='z_'+_0x1b218c+_0x160155(0x7b6);return N?.[_0x160155(0x2c9)]('ConversationModel',aa,_0x20d1bc);},oa=N?.[a0_0x569689(0x2c9)](os[a0_0x569689(0x222)],aa,'flowConversation'),is=class{},Qr=new x[(a0_0x569689(0x7bd))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new x['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new x[(a0_0x569689(0x7bd))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x4447f3=>{const _0x4f014b=a0_0x569689;let _0x10eda5='z_'+_0x4447f3+_0x4f014b(0x4d2);return N?.[_0x4f014b(0x2c9)]('ScheduleMessageModel',ia,_0x10eda5);},ca=N?.[a0_0x569689(0x2c9)](is['name'],ia,'scheduleMessages'),ns=class{},Xr=new x[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new x[(a0_0x569689(0x7bd))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new x[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new x[(a0_0x569689(0x7bd))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),Pe=N?.[a0_0x569689(0x2c9)](ns['name'],to,a0_0x569689(0x755)),la=require(a0_0x569689(0x75e)),so=new la['Schema']({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x1c9b6a=>{const _0x35cbc9=a0_0x569689;let _0x10acf8='z_'+_0x1c9b6a+'_Labels';return N?.[_0x35cbc9(0x2c9)]('LabelModel',so,_0x10acf8);},I=class{constructor(_0x4b2121){const _0x2f2689=a0_0x569689;this['dbSettings']=_0x4b2121[_0x2f2689(0x5de)](_0x2f2689(0x2ed));}};function A(_0x5ca81c){const _0x48e305=a0_0x569689;let _0x4a5939={};for(let [_0x40535d,_0x20421f]of Object[_0x48e305(0x77a)](_0x5ca81c))if(typeof _0x20421f=='object'&&!Array['isArray'](_0x20421f)){for(let [_0x38ba86,_0x18b500]of Object[_0x48e305(0x77a)](_0x20421f))_0x4a5939[_0x40535d+'.'+_0x38ba86]=_0x18b500;}else _0x4a5939[_0x40535d]=_0x20421f;return _0x4a5939;}var $e=class{constructor(_0x452044,_0x526911,_0x2bf249,_0x1d979a,_0x5ef140,_0x1be525,_0x1ff781,_0x5eb084,_0x6ea476,_0x3dc279,_0x2566b8){const _0x3c32de=a0_0x569689;this[_0x3c32de(0x793)]=_0x452044,this['chat']=_0x526911,this[_0x3c32de(0x1b0)]=_0x2bf249,this[_0x3c32de(0x4e1)]=_0x1d979a,this['auth']=_0x5ef140,this['flow']=_0x1be525,this['flowConversation']=_0x1ff781,this[_0x3c32de(0x3fd)]=_0x5eb084,this[_0x3c32de(0x63d)]=_0x6ea476,this[_0x3c32de(0x24c)]=_0x3dc279,this[_0x3c32de(0x4c6)]=_0x2566b8;}get[a0_0x569689(0x2e6)](){const _0x2bb0e4=a0_0x569689;return this[_0x2bb0e4(0x4c6)];}},ke=class{},Le=class extends I{[a0_0x569689(0x3bb)](_0x17e6e0){return Gs(_0x17e6e0);}async[a0_0x569689(0x4fa)](_0x222b56,_0x33fae8){const _0xf158f1=a0_0x569689;if(_0x222b56[_0xf158f1(0x63c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xf158f1(0x3bb)](_0x33fae8)[_0xf158f1(0x7b0)]([..._0x222b56]))[_0xf158f1(0x63c)]};}catch(_0x498191){return console[_0xf158f1(0x513)](_0xf158f1(0x5b9),_0x498191),_0x498191;}}async['find'](_0x41cbb8,_0x405466){const _0x3dcaf7=a0_0x569689;try{let _0x5d157a=this[_0x3dcaf7(0x3bb)](_0x405466),_0x4300fc=A(_0x41cbb8['where']);return await _0x5d157a[_0x3dcaf7(0x3e0)](_0x4300fc)[_0x3dcaf7(0x40c)]({'messageTimestamp':-0x1})[_0x3dcaf7(0x5f6)](_0x41cbb8?.[_0x3dcaf7(0x5f6)]??0x0)['lean']();}catch{return[];}}async[a0_0x569689(0x5df)](_0x3fc83b,_0x519935){const _0x18cfa4=a0_0x569689;try{let _0x433381=this[_0x18cfa4(0x3bb)](_0x519935),_0x576b19=A(_0x3fc83b[_0x18cfa4(0x592)]);await _0x433381[_0x18cfa4(0x522)](_0x576b19);}catch(_0x29f333){console[_0x18cfa4(0x393)](_0x29f333);}}async[a0_0x569689(0x1cd)](_0x1972de,_0x4a255c,_0x24e219){const _0x543c15=a0_0x569689;try{let _0x59a797=this[_0x543c15(0x3bb)](_0x24e219),_0x1ae555=A(_0x1972de[_0x543c15(0x592)]);return await _0x59a797[_0x543c15(0x657)](_0x1ae555,{'$set':_0x4a255c},{'new':!0x0});}catch(_0x577303){throw console[_0x543c15(0x393)](_0x577303),_0x577303;}}async[a0_0x569689(0x7b0)](_0xc935ef,_0x205b03){const _0x3a1a62=a0_0x569689;if(_0xc935ef[_0x3a1a62(0x63c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3a1a62(0x3bb)](_0x205b03)['insertMany']([..._0xc935ef]))[_0x3a1a62(0x63c)]};}catch(_0x1bc07e){return console['log'](_0x3a1a62(0x5b9),_0x1bc07e),_0x1bc07e;}}async[a0_0x569689(0x6a3)](_0x4e9a44){const _0x230dc8=a0_0x569689;try{return await this[_0x230dc8(0x3bb)](_0x4e9a44)['collection'][_0x230dc8(0x481)](),{'success':!0x0};}catch(_0x4c2c27){return console['error'](_0x4c2c27),{'success':!0x1,'error':_0x4c2c27};}}},hr=R(require(a0_0x569689(0x24d))),y=R(require(a0_0x569689(0x3b7))),Me=require('fs'),P=R(require(a0_0x569689(0x4a3))),se=R(require(a0_0x569689(0x56c))),mr=require('uuid'),fr=R(require(a0_0x569689(0x693))),yr=R(require(a0_0x569689(0x49b))),da=[a0_0x569689(0x257),a0_0x569689(0x724),a0_0x569689(0x777),a0_0x569689(0x2f4),a0_0x569689(0x4da)],pa=[a0_0x569689(0x1d4),'documentWithCaptionMessage',a0_0x569689(0x78b),a0_0x569689(0x620)],bs=require('os'),At=R(require(a0_0x569689(0x2c2))),Dt=require(a0_0x569689(0x673)),Ot=require(a0_0x569689(0x384)),ne=R(require(a0_0x569689(0x75e))),$=require(a0_0x569689(0x20c)),ge=class{constructor(_0x588c7b,_0x142b2a,_0x57d35e){const _0x3ffd5a=a0_0x569689;this['jid']=_0x588c7b,this[_0x3ffd5a(0x2ec)]=_0x142b2a,this[_0x3ffd5a(0x222)]=_0x57d35e;}},Fe=class{},Ue=class{},we=class{},Je=class{},je=class{},he=class{},qe=class{},Ve=class{},Be=class{},Ge=class{},Ct=R(require(a0_0x569689(0x5a6))),ga=require('fs'),ha=require(a0_0x569689(0x4a3));async function We(_0x12b7a0){const _0x24aab4=a0_0x569689;let _0x327bc5=B['waInstances'][_0x12b7a0];if(V[_0x24aab4(0x23d)]){let _0x39057a=N[_0x24aab4(0x676)]()['db'](V[_0x24aab4(0x4a6)][_0x24aab4(0x2ef)]+'-instances')[_0x24aab4(0x6f5)](_0x12b7a0);return _0x327bc5||(await _0x39057a[_0x24aab4(0x3e0)]({})['toArray']())['length']>0x0;}return _0x327bc5||(0x0,ga[_0x24aab4(0x5fa)])((0x0,ha['join'])(pe,_0x12b7a0));}function a0_0x4dbe(_0xd71a9a,_0x557b35){const _0x5cf061=a0_0x5cf0();return a0_0x4dbe=function(_0x4dbe49,_0x3ec0cf){_0x4dbe49=_0x4dbe49-0x19a;let _0x244b75=_0x5cf061[_0x4dbe49];return _0x244b75;},a0_0x4dbe(_0xd71a9a,_0x557b35);}async function ma(_0x37451b,_0x5c5dfb,_0x2690b3){const _0x24957f=a0_0x569689;if(_0x37451b[_0x24957f(0x3e3)]['includes'](_0x24957f(0x501))||_0x37451b[_0x24957f(0x3e3)][_0x24957f(0x1f2)](_0x24957f(0x679))||_0x37451b[_0x24957f(0x3e3)][_0x24957f(0x1f2)](_0x24957f(0x601))||_0x37451b['originalUrl'][_0x24957f(0x1f2)](_0x24957f(0x2fa))||_0x37451b[_0x24957f(0x3e3)][_0x24957f(0x1f2)]('/instance/connect')||_0x37451b['originalUrl'][_0x24957f(0x1f2)](_0x24957f(0x666))||_0x37451b[_0x24957f(0x3e3)][_0x24957f(0x1f2)]('/instance/delete'))return _0x2690b3();let _0x873c2=_0x37451b[_0x24957f(0x686)];if(!_0x873c2?.[_0x24957f(0x439)])throw new h(_0x24957f(0x6ea));if(!await We(_0x873c2['instanceName']))throw new L('The\x20'+_0x873c2[_0x24957f(0x439)]+_0x24957f(0x50f));_0x2690b3();}async function fa(_0xc6a1d4,_0x2ebffb,_0x581015){const _0x590d3a=a0_0x569689;if(_0xc6a1d4['originalUrl'][_0x590d3a(0x1f2)](_0x590d3a(0x501))){let _0x46d129=_0xc6a1d4['body'];if(await We(_0x46d129[_0x590d3a(0x439)]))throw new K(_0x590d3a(0x3e4)+_0x46d129['instanceName']+_0x590d3a(0x1cc));B[_0x590d3a(0x7ab)][_0x46d129['instanceName']]&&delete B['waInstances'][_0x46d129['instanceName']];}_0x581015();}var ya=require(a0_0x569689(0x20c)),wa=R(require('jsonwebtoken')),ze=a0_0x569689(0x278),ro=new v(a0_0x569689(0x3bc));async function oo(_0x880ad,_0xbcddfd,_0x484e4d){const _0x79ff57=a0_0x569689;let _0x5acbbb=_0x880ad['get'](_0x79ff57(0x2b5));if(_0x5acbbb&&b[_0x79ff57(0x5de)](_0x79ff57(0x405))[_0x79ff57(0x711)]['KEY']!==_0x5acbbb)throw new ee();if(b['get']('AUTHENTICATION')[_0x79ff57(0x711)][_0x79ff57(0x293)]===_0x5acbbb)return _0x484e4d();if((_0x880ad['originalUrl']['includes'](_0x79ff57(0x501))||_0x880ad['originalUrl']['includes'](_0x79ff57(0x679)))&&!_0x5acbbb)throw new K(_0x79ff57(0x703),_0x79ff57(0x2f0));let _0x289946=b['get'](_0x79ff57(0x405))['JWT'];try{let [_0x2bba13,_0xfeceb]=_0x880ad[_0x79ff57(0x5de)](_0x79ff57(0x263))['split']('\x20');if(_0x2bba13['toLowerCase']()!==_0x79ff57(0x740))throw new ee();if(!(0x0,ya[_0x79ff57(0x523)])(_0xfeceb))throw new ee();let _0x4e4ec6=_0x880ad['params'],_0x405ddc=wa[_0x79ff57(0x29a)][_0x79ff57(0x5e8)](_0xfeceb,_0x289946[_0x79ff57(0x696)],{'ignoreExpiration':_0x289946[_0x79ff57(0x3f2)]===0x0});if(_0x4e4ec6[_0x79ff57(0x439)]!==_0x405ddc['instanceName']||ze!==_0x405ddc[_0x79ff57(0x2cf)])throw new ee();return _0x484e4d();}catch(_0x4b53c3){throw ro[_0x79ff57(0x393)](_0x4b53c3),new ee();}}async function io(_0x37445a,_0x8336f4,_0x3ed417){const _0x5ebb1d=a0_0x569689;let _0x50367d=b['get'](_0x5ebb1d(0x405))['API_KEY'],_0x7a7453=_0x37445a[_0x5ebb1d(0x5de)]('apikey');if(_0x50367d[_0x5ebb1d(0x293)]===_0x7a7453)return _0x3ed417();if(_0x37445a['originalUrl'][_0x5ebb1d(0x1f2)]('/instance/create')){let _0x3abc3c=He,_0x8e61bd=_0x37445a[_0x5ebb1d(0x511)]['instanceName'];if(_0x3abc3c&&_0x8e61bd[_0x5ebb1d(0x357)]()[_0x5ebb1d(0x360)](_0x3abc3c['toLowerCase']()))return _0x3ed417();if(!_0x7a7453)throw new K(_0x5ebb1d(0x703),_0x5ebb1d(0x2f0));}if(_0x37445a[_0x5ebb1d(0x3e3)][_0x5ebb1d(0x1f2)](_0x5ebb1d(0x679))&&!_0x7a7453)throw new K('Missing\x20global\x20api\x20key',_0x5ebb1d(0x2f0));if(_0x37445a[_0x5ebb1d(0x3e3)]['includes'](_0x5ebb1d(0x601))&&!_0x7a7453)throw new K('Missing\x20global\x20api\x20key',_0x5ebb1d(0x2f0));if(_0x37445a[_0x5ebb1d(0x3e3)]['includes'](_0x5ebb1d(0x2fa))&&!_0x7a7453)throw new K(_0x5ebb1d(0x703),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x5c8ea4=_0x37445a['params'];if((await ce[_0x5ebb1d(0x1a1)][_0x5ebb1d(0x3e0)](_0x5c8ea4[_0x5ebb1d(0x439)]))[_0x5ebb1d(0x2b5)]===_0x7a7453)return _0x3ed417();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require('express'),M=require(a0_0x569689(0x611)),E=(..._0x451ba2)=>{const _0xe8d989=a0_0x569689;let _0x295fe8={};return _0x451ba2[_0xe8d989(0x6b4)](_0x11874b=>_0x295fe8[_0x11874b]={'minLength':0x1,'description':_0xe8d989(0x2ea)+_0x11874b+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x451ba2]}},'then':{'properties':_0x295fe8}};},C={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'instanceName':{'type':a0_0x569689(0x4b7)}},...E(a0_0x569689(0x439))},Hn={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'oldToken':{'type':a0_0x569689(0x4b7)}},'required':[a0_0x569689(0x629)],...E(a0_0x569689(0x629))},Kn={'properties':{'key':{'type':a0_0x569689(0x289),'properties':{'id':{'type':a0_0x569689(0x4b7)},'remoteJid':{'type':a0_0x569689(0x4b7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x569689(0x4c4)],...E('id','remoteJid')},'message':{'type':a0_0x569689(0x289)}}},Q={'properties':{'delay':{'type':a0_0x569689(0x710),'description':a0_0x569689(0x6e5)},'presence':{'type':'string','enum':['unavailable',a0_0x569689(0x234),a0_0x569689(0x37f),a0_0x569689(0x43a),'paused']}}},z={'type':a0_0x569689(0x4b7),'pattern':a0_0x569689(0x26d),'description':a0_0x569689(0x67c)},Sa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x569689(0x289),'properties':{'text':{'type':a0_0x569689(0x4b7)}},'required':[a0_0x569689(0x39f)],...E(a0_0x569689(0x39f))}},'required':[a0_0x569689(0x262),a0_0x569689(0x347)]},Ea={'type':a0_0x569689(0x4b7),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},Qn={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x569689(0x289),'properties':{'text':{'type':'string'}},'required':[a0_0x569689(0x39f)],...E('text')}},'required':[a0_0x569689(0x262),a0_0x569689(0x347)]},Yn={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x569689(0x289),'properties':{'mediatype':{'type':a0_0x569689(0x4b7),'enum':['image',a0_0x569689(0x1af),a0_0x569689(0x619),a0_0x569689(0x53a)]},'media':{'type':'string'},'fileName':{'type':a0_0x569689(0x4b7)},'caption':{'type':a0_0x569689(0x4b7)}},'required':[a0_0x569689(0x66f),'media'],...E('fileName',a0_0x569689(0x2c8),'media')}},'required':[a0_0x569689(0x459),a0_0x569689(0x347)]},Ma={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x569689(0x289),'properties':{'image':{'type':a0_0x569689(0x4b7)}},'required':[a0_0x569689(0x379)],...E(a0_0x569689(0x379))}},'required':[a0_0x569689(0x4da),a0_0x569689(0x347)]},Ca={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'statusMessage':{'type':a0_0x569689(0x289),'properties':{'type':{'type':a0_0x569689(0x4b7),'enum':[a0_0x569689(0x39f),a0_0x569689(0x379),'audio',a0_0x569689(0x619)]},'content':{'type':'string'},'caption':{'type':a0_0x569689(0x4b7)},'backgroundColor':{'type':a0_0x569689(0x4b7)},'font':{'type':a0_0x569689(0x710),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x569689(0x44a),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]}},'required':[a0_0x569689(0x1c6),a0_0x569689(0x7a6)],...E(a0_0x569689(0x1c6),'content')}},'required':[a0_0x569689(0x38c)]},va={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':['image','document',a0_0x569689(0x619),a0_0x569689(0x53a)]},'media':{'type':a0_0x569689(0x4b7)},'fileName':{'type':a0_0x569689(0x4b7)},'caption':{'type':a0_0x569689(0x4b7)}},'required':[a0_0x569689(0x66f),a0_0x569689(0x651)],...E('fileName',a0_0x569689(0x2c8),a0_0x569689(0x651))}},'required':[a0_0x569689(0x459),a0_0x569689(0x347)]},Na={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':'object','properties':{'audio':{'type':'string'}},'required':[a0_0x569689(0x53a)],...E(a0_0x569689(0x53a))}},'required':[a0_0x569689(0x777),'number']},Ra={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...z},'pollMessage':{'type':a0_0x569689(0x289),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x569689(0x347)},'values':{'type':a0_0x569689(0x23f),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x569689(0x222),a0_0x569689(0x3f8),a0_0x569689(0x7c1)],...E(a0_0x569689(0x222),a0_0x569689(0x3f8),a0_0x569689(0x7c1))}},'required':[a0_0x569689(0x347),a0_0x569689(0x3c7)]},Ta={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x569689(0x289),'properties':{'text':{'type':a0_0x569689(0x4b7)},'choices':{'type':a0_0x569689(0x23f),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x569689(0x39f),a0_0x569689(0x27e)],...E(a0_0x569689(0x39f),'choices')}},'required':['number','menuMessage']},Aa={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x569689(0x289),'properties':{'title':{'type':'string'},'description':{'type':a0_0x569689(0x4b7)},'footerText':{'type':'string'},'buttons':{'type':a0_0x569689(0x23f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x569689(0x289),'properties':{'buttonText':{'type':a0_0x569689(0x4b7)},'buttonId':{'type':a0_0x569689(0x4b7)}},'required':[a0_0x569689(0x5c9),a0_0x569689(0x52c)],...E(a0_0x569689(0x5c9),'buttonId')}},'mediaMessage':{'type':'object','properties':{'media':{'type':'string'},'fileName':{'type':a0_0x569689(0x4b7)},'mediatype':{'type':'string','enum':[a0_0x569689(0x379),a0_0x569689(0x1af),a0_0x569689(0x619)]}},'required':['media',a0_0x569689(0x66f)],...E(a0_0x569689(0x651),a0_0x569689(0x490))}},'required':[a0_0x569689(0x5d8),'buttons'],...E(a0_0x569689(0x5d8),a0_0x569689(0x68e))}},'required':['number',a0_0x569689(0x719)]},Oa={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x569689(0x347)},'longitude':{'type':a0_0x569689(0x347)},'name':{'type':a0_0x569689(0x4b7)},'address':{'type':a0_0x569689(0x4b7)}},'required':[a0_0x569689(0x1df),a0_0x569689(0x51d)],...E(a0_0x569689(0x222),a0_0x569689(0x3be))}},'required':[a0_0x569689(0x347),a0_0x569689(0x256)]},Ia={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x569689(0x4b7)},'description':{'type':a0_0x569689(0x4b7)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x569689(0x4b7)},'sections':{'type':a0_0x569689(0x23f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x569689(0x289),'properties':{'title':{'type':a0_0x569689(0x4b7)},'rows':{'type':a0_0x569689(0x23f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x569689(0x289),'properties':{'title':{'type':a0_0x569689(0x4b7)},'description':{'type':a0_0x569689(0x4b7)},'rowId':{'type':a0_0x569689(0x4b7)}},'required':['title',a0_0x569689(0x61e)],...E(a0_0x569689(0x5d8),a0_0x569689(0x61e))}}},'required':[a0_0x569689(0x5d8),a0_0x569689(0x517)],...E(a0_0x569689(0x5d8))}}},'required':[a0_0x569689(0x5d8),a0_0x569689(0x68e),a0_0x569689(0x5c9),a0_0x569689(0x31d)],...E(a0_0x569689(0x5d8),a0_0x569689(0x68e),'buttonText',a0_0x569689(0x1c9))}},'required':[a0_0x569689(0x347),'listMessage']},Da={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':'array','items':{'type':a0_0x569689(0x289),'properties':{'fullName':{'type':a0_0x569689(0x4b7)},'phoneNumber':{'type':a0_0x569689(0x4b7),'minLength':0xa}},'required':[a0_0x569689(0x56a),a0_0x569689(0x1da)],...E(a0_0x569689(0x56a))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x569689(0x347),'contactMessage']},xa={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'reactionMessage':{'type':a0_0x569689(0x289),'properties':{'key':{'type':a0_0x569689(0x289),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x569689(0x4b7)},'fromMe':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]}},'required':['id',a0_0x569689(0x325),a0_0x569689(0x4c4)],...E('id','remoteJid')},'reaction':{'type':a0_0x569689(0x4b7)}},'required':['key',a0_0x569689(0x4a5)],...E('reaction')}},'required':['reactionMessage']},_a={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'numbers':{'type':a0_0x569689(0x23f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x569689(0x4b7),'pattern':a0_0x569689(0x44a),'description':a0_0x569689(0x38e)}}}},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'readMessages':{'type':a0_0x569689(0x23f),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x569689(0x4b7)},'fromMe':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x569689(0x4c4),a0_0x569689(0x325)],...E('id','remoteJid')}}},'required':['readMessages']},$a={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':['all',a0_0x569689(0x5f4)]},'profile':{'type':a0_0x569689(0x4b7),'enum':['all','contacts',a0_0x569689(0x2f8),a0_0x569689(0x5f4)]},'status':{'type':'string','enum':[a0_0x569689(0x741),a0_0x569689(0x770),a0_0x569689(0x2f8),a0_0x569689(0x5f4)]},'online':{'type':a0_0x569689(0x4b7),'enum':['all',a0_0x569689(0x585)]},'last':{'type':a0_0x569689(0x4b7),'enum':[a0_0x569689(0x741),a0_0x569689(0x770),a0_0x569689(0x2f8),a0_0x569689(0x5f4)]},'groupadd':{'type':'string','enum':[a0_0x569689(0x741),a0_0x569689(0x770),a0_0x569689(0x2f8),'none']}},'required':[a0_0x569689(0x477),a0_0x569689(0x26a),'status',a0_0x569689(0x644),a0_0x569689(0x72a),a0_0x569689(0x5b8)],...E(a0_0x569689(0x477),'profile','status','online',a0_0x569689(0x72a),a0_0x569689(0x5b8))}},'required':[a0_0x569689(0x43e)]},ka={'$id':(0x0,M['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x569689(0x289),'properties':{'key':{'type':a0_0x569689(0x289),'properties':{'id':{'type':a0_0x569689(0x4b7)},'remoteJid':{'type':a0_0x569689(0x4b7)},'fromMe':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]}},'required':['id',a0_0x569689(0x4c4),a0_0x569689(0x325)],...E('id',a0_0x569689(0x325))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x569689(0x2b9)],...E('messageTimestamp')},'archive':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]}},'required':[a0_0x569689(0x743),a0_0x569689(0x74e)]},La={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'id':{'type':a0_0x569689(0x4b7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x569689(0x4b7)}},'required':['id',a0_0x569689(0x4c4),'remoteJid'],...E('id',a0_0x569689(0x325),a0_0x569689(0x31b))},Fa={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x569689(0x4b7),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x569689(0x4b7),'minLength':0x1}},...E('_id','id',a0_0x569689(0x37c))}}},Ua={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'name':{'type':a0_0x569689(0x4b7)}},...E('name')},Ja={'$id':(0x0,M['v4'])(),'type':'object','properties':{'status':{'type':a0_0x569689(0x4b7)}},...E(a0_0x569689(0x5d4))},be={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{'type':a0_0x569689(0x4b7)},'picture':{'type':a0_0x569689(0x4b7)}}},ja={'type':a0_0x569689(0x289),'properties':{'wuid':{'type':a0_0x569689(0x4b7)},'name':{'type':a0_0x569689(0x4b7)},'picture':{'type':a0_0x569689(0x4b7)},'status':{'type':a0_0x569689(0x4b7)},'isBusiness':{'type':a0_0x569689(0x475)}}},qa={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x569689(0x4b7),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x569689(0x4b7),'minLength':0x1,'description':a0_0x569689(0x7c0)},'id':{'type':a0_0x569689(0x4b7),'minLength':0x1,'description':a0_0x569689(0x7c0)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x569689(0x289)}},...E(a0_0x569689(0x301))},'limit':{'type':a0_0x569689(0x710)}}},Xn={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'where':{'type':a0_0x569689(0x289),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x569689(0x4b7)},'id':{'type':a0_0x569689(0x4b7)},'fromMe':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x569689(0x4b7)},'status':{'type':'string','enum':['ERROR',a0_0x569689(0x412),a0_0x569689(0x354),'DELIVERY_ACK',a0_0x569689(0x612),a0_0x569689(0x78c)]}},...E('_id',a0_0x569689(0x325),'id',a0_0x569689(0x5d4))},'limit':{'type':a0_0x569689(0x710)}}},Va={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x569689(0x4fc),a0_0x569689(0x234),a0_0x569689(0x37f),'recording',a0_0x569689(0x6c5)]}},'required':[a0_0x569689(0x329),a0_0x569689(0x347)]},Ba={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'subject':{'type':a0_0x569689(0x4b7)},'description':{'type':a0_0x569689(0x4b7)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x569689(0x23f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x569689(0x4b7),'minLength':0xa,'pattern':a0_0x569689(0x2e1),'description':a0_0x569689(0x5c2)}}},'required':[a0_0x569689(0x226),a0_0x569689(0x2fd)],...E(a0_0x569689(0x226),a0_0x569689(0x68e),'profilePicture')},Se={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'groupJid':{'type':a0_0x569689(0x4b7),'pattern':a0_0x569689(0x23b)}},'required':[a0_0x569689(0x630)],...E(a0_0x569689(0x630))},Ga={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'groupJid':{'type':a0_0x569689(0x4b7)},'action':{'type':'string','enum':[a0_0x569689(0x3f4),a0_0x569689(0x37b),a0_0x569689(0x3ff),'demote']},'participants':{'type':a0_0x569689(0x23f),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x569689(0x4b7),'minLength':0xa,'pattern':a0_0x569689(0x2e1),'description':a0_0x569689(0x5c2)}}},'required':['groupJid',a0_0x569689(0x2d0),'participants'],...E(a0_0x569689(0x630),a0_0x569689(0x2d0))},Wa={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x569689(0x347),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x569689(0x5ce)],...E(a0_0x569689(0x630),a0_0x569689(0x5ce))},za={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'groupJid':{'type':a0_0x569689(0x4b7)},'image':{'type':a0_0x569689(0x4b7)}},'required':['groupJid',a0_0x569689(0x379)],...E(a0_0x569689(0x630),a0_0x569689(0x379))},Ha={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x569689(0x4b7)},'description':{'type':'string'}},'required':[a0_0x569689(0x630),'description'],...E(a0_0x569689(0x630),a0_0x569689(0x68e))},Ka={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'groupJid':{'type':'string'},'name':{'type':'string'}},'required':[a0_0x569689(0x630),'name'],...E(a0_0x569689(0x630),'name')},Qa={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x569689(0x4b7),'enum':['announcement',a0_0x569689(0x561),'unlocked',a0_0x569689(0x2d1)]}},'required':[a0_0x569689(0x630),a0_0x569689(0x46d)],...E(a0_0x569689(0x630),a0_0x569689(0x46d))},Ya={'$id':(0x0,M['v4'])(),'type':a0_0x569689(0x289),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x569689(0x7bb)],...E('inviteCode')},Xa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'url':{'type':a0_0x569689(0x4b7)},'enabled':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]}},'required':[a0_0x569689(0x6ab),a0_0x569689(0x50c)]},Zn={'$id':(0x0,M['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x569689(0x475),'enum':[!0x0,!0x1]}},'required':[a0_0x569689(0x685),a0_0x569689(0x790),a0_0x569689(0x223),a0_0x569689(0x250),a0_0x569689(0x5ff),a0_0x569689(0x243),a0_0x569689(0x645),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x569689(0x2b8),a0_0x569689(0x5ed),'CHATS_SET',a0_0x569689(0x43c),a0_0x569689(0x69e),a0_0x569689(0x681),'CONNECTION_UPDATE',a0_0x569689(0x547),'GROUPS_UPDATE',a0_0x569689(0x65d)],...E(a0_0x569689(0x685),a0_0x569689(0x790),a0_0x569689(0x223),a0_0x569689(0x250),a0_0x569689(0x5ff),'MESSAGES_UPSERT',a0_0x569689(0x645),a0_0x569689(0x537),a0_0x569689(0x5cc),'CONTACTS_UPDATE',a0_0x569689(0x5ed),a0_0x569689(0x48f),a0_0x569689(0x43c),'CHATS_UPDATE','CHATS_DELETE',a0_0x569689(0x5cd),a0_0x569689(0x547),a0_0x569689(0x56e),a0_0x569689(0x65d))},Ke=class{},Qe=class extends I{[a0_0x569689(0x20b)](_0x3dfce5){return Vs(_0x3dfce5);}async['insert'](_0x4c723e){const _0x11f7d6=a0_0x569689;if(_0x4c723e[_0x11f7d6(0x63c)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x4c723e[0x0][_0x11f7d6(0x795)])['insertMany']([..._0x4c723e]))[_0x11f7d6(0x63c)]};}catch(_0x12c35b){return _0x12c35b;}}async[a0_0x569689(0x5df)](_0x160675,_0x176d28){const _0x31b5d1=a0_0x569689;try{return{'deletedCount':(await this[_0x31b5d1(0x20b)](_0x176d28)[_0x31b5d1(0x522)]({..._0x160675[_0x31b5d1(0x592)]}))[_0x31b5d1(0x3df)]};}catch(_0x5eb1f0){return{'error':_0x5eb1f0?.[_0x31b5d1(0x6be)]()};}}async[a0_0x569689(0x1cd)](_0x294940,_0x5734bf){const _0x562ca3=a0_0x569689;try{if(_0x294940['length']===0x0)return;let _0x13aa3c=this[_0x562ca3(0x20b)](_0x5734bf),_0x1115e1=_0x294940[_0x562ca3(0x46c)](_0x5045d6=>({'updateOne':{'filter':{'_id':_0x5045d6[_0x562ca3(0x301)],'owner':_0x5734bf},'update':{..._0x5045d6}}})),{modifiedCount:_0x3a9403}=await _0x13aa3c[_0x562ca3(0x29e)](_0x1115e1);return{'insertCount':_0x3a9403};}catch{return;}}async[a0_0x569689(0x3e0)](_0x14f684,_0x4e5a94){const _0x678f2a=a0_0x569689;try{let _0x31b3be=this['getContactModelForOwner'](_0x4e5a94),_0x206415=A(_0x14f684['where']);return await _0x31b3be['find'](_0x206415)[_0x678f2a(0x5f6)](_0x14f684?.[_0x678f2a(0x5f6)]??0x0)[_0x678f2a(0x1a3)]();}catch{return[];}}async[a0_0x569689(0x471)](_0x47a51b,_0x1fc400){const _0xd08fb4=a0_0x569689;try{let _0x584382=this[_0xd08fb4(0x20b)](_0x1fc400),_0x1efa55=A(_0x47a51b[_0xd08fb4(0x592)]);return await _0x584382['findOne'](_0x1efa55)['lean']();}catch{return null;}}async[a0_0x569689(0x6a3)](_0x44b3fc){const _0x6fb89d=a0_0x569689;try{return await this[_0x6fb89d(0x20b)](_0x44b3fc)['collection']['drop'](),{'success':!0x0};}catch(_0x975450){return console[_0x6fb89d(0x393)](_0x975450),{'success':!0x1,'error':_0x975450};}}},Ye=require(a0_0x569689(0x28b)),cc=require('express-async-errors'),us=new v(a0_0x569689(0x396)),j=class{[a0_0x569689(0x220)](_0x56f39a,_0x3cf15a=!0x0){let _0x50a5aa='/'+_0x56f39a;return _0x3cf15a&&(_0x50a5aa+='/:instanceName'),_0x50a5aa;}async[a0_0x569689(0x1a0)](_0x12097a){const _0x1c2b18=a0_0x569689;let {request:_0x558ca6,schema:_0x13ead8,ClassRef:_0x2fa0cc,execute:_0x4e0ea2}=_0x12097a,_0x5aa6fe=new _0x2fa0cc(),_0x4e79fe=_0x558ca6[_0x1c2b18(0x511)],_0xdb5839=_0x558ca6['params'];_0x558ca6?.[_0x1c2b18(0x7c6)]&&Object['keys'](_0x558ca6['query'])[_0x1c2b18(0x63c)]>0x0&&Object[_0x1c2b18(0x667)](_0xdb5839,_0x558ca6[_0x1c2b18(0x7c6)]),_0x558ca6[_0x1c2b18(0x3e3)]['includes']('/instance/create')&&Object[_0x1c2b18(0x667)](_0xdb5839,_0x4e79fe),Object['assign'](_0x5aa6fe,_0x4e79fe);let _0x1ae335=_0x13ead8?(0x0,Ye[_0x1c2b18(0x6eb)])(_0x5aa6fe,_0x13ead8):{'valid':!0x0,'errors':[]};if(!_0x1ae335['valid']){let _0x1fd3cf=_0x1ae335[_0x1c2b18(0x779)][_0x1c2b18(0x46c)](({property:_0x49a8b6,stack:_0x10301e,schema:_0x1a686a})=>{const _0x33def7=_0x1c2b18;let _0x1e7a22;return _0x1a686a[_0x33def7(0x68e)]?_0x1e7a22=_0x1a686a[_0x33def7(0x68e)]:_0x1e7a22=_0x10301e[_0x33def7(0x52b)](_0x33def7(0x40e),''),{'property':_0x49a8b6[_0x33def7(0x52b)](_0x33def7(0x40e),''),'message':_0x1e7a22};});throw us[_0x1c2b18(0x393)]([..._0x1fd3cf]),new h(..._0x1fd3cf);}return await _0x4e0ea2(_0xdb5839,_0x5aa6fe);}async[a0_0x569689(0x66c)](_0x4c1a3c){const _0x46746c=a0_0x569689;let {request:_0x57f00a,ClassRef:_0x41b911,schema:_0x5911e4,execute:_0x1dfab1}=_0x4c1a3c,_0x9de701=_0x57f00a[_0x46746c(0x7c6)];if(!_0x9de701?.[_0x46746c(0x630)])throw new h(_0x46746c(0x717),_0x46746c(0x49d));let _0x5abd0e=_0x57f00a[_0x46746c(0x686)],_0xae6419=_0x57f00a[_0x46746c(0x511)],_0x13aa4b=new _0x41b911();Object[_0x46746c(0x667)](_0xae6419,_0x9de701),Object[_0x46746c(0x667)](_0x13aa4b,_0xae6419);let _0x2bbe61=(0x0,Ye[_0x46746c(0x6eb)])(_0x13aa4b,_0x5911e4);if(!_0x2bbe61[_0x46746c(0x6d6)]){let _0x56bace=_0x2bbe61[_0x46746c(0x779)][_0x46746c(0x46c)](({property:_0xcc6803,stack:_0x26642a,schema:_0x22a853})=>{const _0x41b685=_0x46746c;let _0x316c0c;return _0x22a853['description']?_0x316c0c=_0x22a853[_0x41b685(0x68e)]:_0x316c0c=_0x26642a[_0x41b685(0x52b)](_0x41b685(0x40e),''),{'property':_0xcc6803[_0x41b685(0x52b)](_0x41b685(0x40e),''),'message':_0x316c0c};});throw us['error']([..._0x56bace]),new h(..._0x56bace);}return await _0x1dfab1(_0x5abd0e,_0x13aa4b);}async[a0_0x569689(0x70d)](_0x1c8b80){const _0x53597a=a0_0x569689;let {request:_0x262756,ClassRef:_0x2eba1b,schema:_0x3053dd,execute:_0x2e385f}=_0x1c8b80,_0x316354=_0x262756[_0x53597a(0x511)];if(!_0x316354?.[_0x53597a(0x7bb)])throw new h(_0x53597a(0x336),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x5b1328=_0x262756[_0x53597a(0x686)],_0x28a904=_0x262756[_0x53597a(0x511)],_0x1b3f66=new _0x2eba1b();Object[_0x53597a(0x667)](_0x28a904,_0x316354),Object[_0x53597a(0x667)](_0x1b3f66,_0x28a904);let _0x53cf0f=(0x0,Ye[_0x53597a(0x6eb)])(_0x1b3f66,_0x3053dd);if(!_0x53cf0f[_0x53597a(0x6d6)]){let _0x5e268d=_0x53cf0f[_0x53597a(0x779)]['map'](({property:_0x4ee683,stack:_0x2e620a,schema:_0x267d00})=>{const _0x2a2bcc=_0x53597a;let _0x574526;return _0x267d00[_0x2a2bcc(0x68e)]?_0x574526=_0x267d00[_0x2a2bcc(0x68e)]:_0x574526=_0x2e620a['replace'](_0x2a2bcc(0x40e),''),{'property':_0x4ee683[_0x2a2bcc(0x52b)](_0x2a2bcc(0x40e),''),'message':_0x574526};});throw us[_0x53597a(0x393)]([..._0x5e268d]),new h(..._0x5e268d);}return await _0x2e385f(_0x5b1328,_0x1b3f66);}},S=class{},Cc=new v(a0_0x569689(0x6e7)),Xe=class extends j{constructor(..._0x2f8e6e){const _0x2a26e5=a0_0x569689;super(),this[_0x2a26e5(0x42f)]=(0x0,Za[_0x2a26e5(0x72f)])(),this[_0x2a26e5(0x42f)][_0x2a26e5(0x586)](this[_0x2a26e5(0x220)]('updatePresence'),..._0x2f8e6e,async(_0x39d777,_0x206e75)=>{const _0x35c665=_0x2a26e5;let _0x45229f=await this['dataValidate']({'request':_0x39d777,'schema':Va,'ClassRef':Fe,'execute':(_0x1cfb35,_0x3776a3)=>D[_0x35c665(0x78a)](_0x1cfb35,_0x3776a3)});return _0x206e75[_0x35c665(0x5d4)](0xc9)[_0x35c665(0x3fc)](_0x45229f);})['post'](this[_0x2a26e5(0x220)]('whatsappNumbers'),..._0x2f8e6e,async(_0x11a622,_0x4b92cd)=>{const _0x599ba8=_0x2a26e5;let _0x4e0c40=await this[_0x599ba8(0x1a0)]({'request':_0x11a622,'schema':_a,'ClassRef':Ue,'execute':(_0x58a62c,_0x1bb8db)=>D[_0x599ba8(0x53b)](_0x58a62c,_0x1bb8db)});return _0x4b92cd['status'](0xc9)[_0x599ba8(0x3fc)](_0x4e0c40);})[_0x2a26e5(0x586)](this[_0x2a26e5(0x220)](_0x2a26e5(0x5f0)),..._0x2f8e6e,async(_0x2fe144,_0xbf7d5b)=>{const _0x2e4fe8=_0x2a26e5;let _0x568d9c=await this[_0x2e4fe8(0x1a0)]({'request':_0x2fe144,'schema':C,'ClassRef':S,'execute':(_0x9ef0e5,_0x533611)=>D[_0x2e4fe8(0x5f0)](_0x9ef0e5,_0x533611)});return _0xbf7d5b['status'](0xc9)['json'](_0x568d9c);})['put'](this['routerPath']('markMessageAsRead'),..._0x2f8e6e,async(_0x2d07ef,_0x57d166)=>{const _0x316994=_0x2a26e5;let _0x536540=await this[_0x316994(0x1a0)]({'request':_0x2d07ef,'schema':Pa,'ClassRef':qe,'execute':(_0x1725d3,_0x3cd627)=>D[_0x316994(0x2d8)](_0x1725d3,_0x3cd627)});return _0x57d166[_0x316994(0x5d4)](0xc9)['json'](_0x536540);})[_0x2a26e5(0x19b)](this[_0x2a26e5(0x220)](_0x2a26e5(0x4c1)),..._0x2f8e6e,async(_0x579501,_0x320142)=>{const _0x220384=_0x2a26e5;let _0xc2c875=await this[_0x220384(0x1a0)]({'request':_0x579501,'schema':ka,'ClassRef':Ve,'execute':(_0x46d584,_0x5b2806)=>D[_0x220384(0x4c1)](_0x46d584,_0x5b2806)});return _0x320142[_0x220384(0x5d4)](0xc9)[_0x220384(0x3fc)](_0xc2c875);})[_0x2a26e5(0x5df)](this['routerPath'](_0x2a26e5(0x727)),..._0x2f8e6e,async(_0x94a111,_0xa4462e)=>{const _0x3ee507=_0x2a26e5;let _0x64b9b8=await this['dataValidate']({'request':_0x94a111,'schema':La,'ClassRef':Ge,'execute':(_0x3b854a,_0xed8e8c)=>D[_0x3ee507(0x791)](_0x3b854a,_0xed8e8c)});return _0xa4462e[_0x3ee507(0x5d4)](0xc9)[_0x3ee507(0x3fc)](_0x64b9b8);})[_0x2a26e5(0x586)](this[_0x2a26e5(0x220)](_0x2a26e5(0x24e)),..._0x2f8e6e,async(_0x2da694,_0x56c0da)=>{const _0x4edb0f=_0x2a26e5;let _0x5e4aca=await this[_0x4edb0f(0x1a0)]({'request':_0x2da694,'schema':be,'ClassRef':we,'execute':(_0x453326,_0x556055)=>D[_0x4edb0f(0x6bb)](_0x453326,_0x556055)});return _0x56c0da[_0x4edb0f(0x5d4)](0xc8)[_0x4edb0f(0x3fc)](_0x5e4aca);})['post'](this[_0x2a26e5(0x220)](_0x2a26e5(0x26e)),..._0x2f8e6e,async(_0x7a9dba,_0x431404)=>{const _0x561fb5=_0x2a26e5;let _0x20d851=await this[_0x561fb5(0x1a0)]({'request':_0x7a9dba,'schema':ja,'ClassRef':we,'execute':(_0x562b4a,_0x3abe8c)=>D[_0x561fb5(0x26e)](_0x562b4a,_0x3abe8c)});return _0x431404[_0x561fb5(0x5d4)](0xc8)[_0x561fb5(0x3fc)](_0x20d851);})['post'](this[_0x2a26e5(0x220)](_0x2a26e5(0x604)),..._0x2f8e6e,async(_0x2fa501,_0x33a893)=>{const _0xbaac6b=_0x2a26e5;let _0x2755c9=await this['dataValidate']({'request':_0x2fa501,'schema':Fa,'ClassRef':Ke,'execute':(_0x1b236a,_0x4ecf25)=>D[_0xbaac6b(0x638)](_0x1b236a,_0x4ecf25)});return _0x33a893['status'](0xc8)['json'](_0x2755c9);})[_0x2a26e5(0x586)](this[_0x2a26e5(0x220)]('getBase64FromMediaMessage'),..._0x2f8e6e,async(_0x5f3698,_0x267835)=>{const _0x5f24a3=_0x2a26e5;let _0xc4532c=await this[_0x5f24a3(0x1a0)]({'request':_0x5f3698,'schema':null,'ClassRef':Object,'execute':(_0x5f4269,_0x420ed9)=>D[_0x5f24a3(0x2bd)](_0x5f4269,_0x420ed9)});return _0x267835[_0x5f24a3(0x5d4)](0xc9)[_0x5f24a3(0x3fc)](_0xc4532c);})[_0x2a26e5(0x586)](this[_0x2a26e5(0x220)]('findMessages'),..._0x2f8e6e,async(_0x2fdb77,_0x3d2308)=>{const _0x212237=_0x2a26e5;let _0x4354dc=await this[_0x212237(0x1a0)]({'request':_0x2fdb77,'schema':qa,'ClassRef':ke,'execute':(_0x4bc69a,_0x5990c4)=>D['fetchMessages'](_0x4bc69a,_0x5990c4)});return _0x3d2308[_0x212237(0x5d4)](0xc8)[_0x212237(0x3fc)](_0x4354dc);})[_0x2a26e5(0x5de)](this[_0x2a26e5(0x220)](_0x2a26e5(0x6e3)),..._0x2f8e6e,async(_0x360876,_0x244c01)=>{const _0x2881ea=_0x2a26e5;let _0x48d406=await this[_0x2881ea(0x1a0)]({'request':_0x360876,'schema':null,'ClassRef':S,'execute':_0x20233f=>D['fetchChats'](_0x20233f)});return _0x244c01[_0x2881ea(0x5d4)](0xc8)[_0x2881ea(0x3fc)](_0x48d406);})[_0x2a26e5(0x5de)](this[_0x2a26e5(0x220)](_0x2a26e5(0x580)),..._0x2f8e6e,async(_0x8102ea,_0x5c2cda)=>{const _0x299750=_0x2a26e5;let _0x56fce1=await this['dataValidate']({'request':_0x8102ea,'schema':null,'ClassRef':S,'execute':_0x37a644=>D['fetchLabels'](_0x37a644)});return _0x5c2cda[_0x299750(0x5d4)](0xc8)[_0x299750(0x3fc)](_0x56fce1);})['put'](this[_0x2a26e5(0x220)]('importChats'),..._0x2f8e6e,async(_0x4f8e7d,_0x3414c4)=>{const _0x22e364=_0x2a26e5;let _0x2e52f8=await this[_0x22e364(0x1a0)]({'request':_0x4f8e7d,'schema':null,'ClassRef':Array,'execute':(_0x512f57,_0x3f1bb9)=>D[_0x22e364(0x5e3)](_0x512f57,_0x3f1bb9)});return _0x3414c4[_0x22e364(0x5d4)](0xc8)[_0x22e364(0x3fc)](_0x2e52f8);})[_0x2a26e5(0x5de)](this[_0x2a26e5(0x220)](_0x2a26e5(0x7ba)),..._0x2f8e6e,async(_0x528864,_0x183e08)=>{const _0x1c2cc7=_0x2a26e5;let _0xf0ed1f=await this[_0x1c2cc7(0x1a0)]({'request':_0x528864,'schema':null,'ClassRef':S,'execute':_0x2e9e35=>D[_0x1c2cc7(0x7ba)](_0x2e9e35)});return _0x183e08['status'](0xc8)[_0x1c2cc7(0x3fc)](_0xf0ed1f);})['put'](this['routerPath']('updatePrivacySettings'),..._0x2f8e6e,async(_0x432986,_0x4aca4f)=>{const _0x287696=_0x2a26e5;let _0x483de7=await this['dataValidate']({'request':_0x432986,'schema':$a,'ClassRef':Be,'execute':(_0x26833e,_0x131e2e)=>D['updatePrivacySettings'](_0x26833e,_0x131e2e)});return _0x4aca4f['status'](0xc9)[_0x287696(0x3fc)](_0x483de7);})[_0x2a26e5(0x586)](this[_0x2a26e5(0x220)](_0x2a26e5(0x364)),..._0x2f8e6e,async(_0x1e6b2b,_0xff4b8e)=>{const _0x3e4ac9=_0x2a26e5;let _0x1598ed=await this['dataValidate']({'request':_0x1e6b2b,'schema':be,'ClassRef':he,'execute':(_0x54e48f,_0x10c8a1)=>D[_0x3e4ac9(0x364)](_0x54e48f,_0x10c8a1)});return _0xff4b8e['status'](0xc8)[_0x3e4ac9(0x3fc)](_0x1598ed);})[_0x2a26e5(0x586)](this[_0x2a26e5(0x220)](_0x2a26e5(0x1b2)),..._0x2f8e6e,async(_0x4a687e,_0x3b35a6)=>{const _0xa1b26a=_0x2a26e5;let _0x38f5e8=await this[_0xa1b26a(0x1a0)]({'request':_0x4a687e,'schema':Ua,'ClassRef':Je,'execute':(_0x4f4083,_0x2e78b9)=>D[_0xa1b26a(0x1b2)](_0x4f4083,_0x2e78b9)});return _0x3b35a6[_0xa1b26a(0x5d4)](0xc8)[_0xa1b26a(0x3fc)](_0x38f5e8);})[_0x2a26e5(0x586)](this[_0x2a26e5(0x220)](_0x2a26e5(0x19d)),..._0x2f8e6e,async(_0x298f44,_0x254e8c)=>{const _0x354ea7=_0x2a26e5;let _0xab30d3=await this['dataValidate']({'request':_0x298f44,'schema':Ja,'ClassRef':je,'execute':(_0x57d4f5,_0x329484)=>D[_0x354ea7(0x19d)](_0x57d4f5,_0x329484)});return _0x254e8c[_0x354ea7(0x5d4)](0xc8)[_0x354ea7(0x3fc)](_0xab30d3);})[_0x2a26e5(0x19b)](this[_0x2a26e5(0x220)]('updateProfilePicture'),..._0x2f8e6e,async(_0x19a701,_0x764aef)=>{const _0x11c381=_0x2a26e5;let _0x1d4dc7=await this[_0x11c381(0x1a0)]({'request':_0x19a701,'schema':be,'ClassRef':he,'execute':(_0x5db4e1,_0x483f41)=>D[_0x11c381(0x4ba)](_0x5db4e1,_0x483f41)});return _0x764aef[_0x11c381(0x5d4)](0xc8)[_0x11c381(0x3fc)](_0x1d4dc7);})[_0x2a26e5(0x5df)](this[_0x2a26e5(0x220)](_0x2a26e5(0x274)),..._0x2f8e6e,async(_0x3288cd,_0x94d7a5)=>{const _0x65e693=_0x2a26e5;let _0x52bbd3=await this['dataValidate']({'request':_0x3288cd,'schema':be,'ClassRef':he,'execute':(_0x41b680,_0x2bcc6d)=>D[_0x65e693(0x274)](_0x41b680,_0x2bcc6d)});return _0x94d7a5[_0x65e693(0x5d4)](0xc8)['json'](_0x52bbd3);});}},er=require(a0_0x569689(0x5a6)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends j{constructor(..._0x973d85){const _0x546ef8=a0_0x569689;super(),this[_0x546ef8(0x42f)]=(0x0,er[_0x546ef8(0x72f)])(),this[_0x546ef8(0x42f)][_0x546ef8(0x586)](this['routerPath']('create'),..._0x973d85,async(_0x13ee3d,_0x246373)=>{const _0x2bd244=_0x546ef8;let _0x2bc82f=await this[_0x2bd244(0x1a0)]({'request':_0x13ee3d,'schema':Ba,'ClassRef':Ze,'execute':(_0x514d11,_0x1f95ef)=>J['createGroup'](_0x514d11,_0x1f95ef)});_0x246373[_0x2bd244(0x5d4)](0xc9)[_0x2bd244(0x3fc)](_0x2bc82f);})[_0x546ef8(0x19b)](this['routerPath'](_0x546ef8(0x3e2)),..._0x973d85,async(_0x22fb5b,_0x5d64a5)=>{const _0x1c12a3=_0x546ef8;let _0x592ad6=await this[_0x1c12a3(0x66c)]({'request':_0x22fb5b,'schema':za,'ClassRef':et,'execute':(_0xcec439,_0x4f2f89)=>J['updateGroupPicture'](_0xcec439,_0x4f2f89)});_0x5d64a5[_0x1c12a3(0x5d4)](0xc9)[_0x1c12a3(0x3fc)](_0x592ad6);})[_0x546ef8(0x19b)](this[_0x546ef8(0x220)](_0x546ef8(0x6d2)),..._0x973d85,async(_0x557c68,_0x413781)=>{const _0x26f2a2=_0x546ef8;let _0xac322c=await this[_0x26f2a2(0x66c)]({'request':_0x557c68,'schema':Ha,'ClassRef':tt,'execute':(_0x44353b,_0xa031fe)=>J[_0x26f2a2(0x6d2)](_0x44353b,_0xa031fe)});_0x413781[_0x26f2a2(0x5d4)](0xc9)[_0x26f2a2(0x3fc)](_0xac322c);})[_0x546ef8(0x19b)](this[_0x546ef8(0x220)]('groupName'),..._0x973d85,async(_0x4caf22,_0x371919)=>{const _0x39fda1=_0x546ef8;let _0x32fa48=await this['groupValidate']({'request':_0x4caf22,'schema':Ka,'ClassRef':st,'execute':(_0x25b3dc,_0x43ebfd)=>J[_0x39fda1(0x3d7)](_0x25b3dc,_0x43ebfd)});_0x371919[_0x39fda1(0x5d4)](0xc9)[_0x39fda1(0x3fc)](_0x32fa48);})[_0x546ef8(0x19b)](this[_0x546ef8(0x220)]('groupSetting'),..._0x973d85,async(_0xfa17b1,_0x518b6f)=>{const _0x59fa6c=_0x546ef8;let _0x1c1322=await this[_0x59fa6c(0x66c)]({'request':_0xfa17b1,'schema':Qa,'ClassRef':at,'execute':(_0x39fc13,_0x1927f8)=>J[_0x59fa6c(0x2f1)](_0x39fc13,_0x1927f8)});_0x518b6f['status'](0xc9)['json'](_0x1c1322);})[_0x546ef8(0x19b)](this[_0x546ef8(0x220)](_0x546ef8(0x394)),..._0x973d85,async(_0x37fe59,_0x5edc99)=>{const _0x513d6b=_0x546ef8;let _0x1716f3=await this[_0x513d6b(0x66c)]({'request':_0x37fe59,'schema':Wa,'ClassRef':it,'execute':(_0x3c9d3e,_0x43213e)=>J[_0x513d6b(0x394)](_0x3c9d3e,_0x43213e)});_0x5edc99[_0x513d6b(0x5d4)](0xc9)['json'](_0x1716f3);})[_0x546ef8(0x5de)](this[_0x546ef8(0x220)](_0x546ef8(0x451)),..._0x973d85,async(_0x491279,_0x3ec46c)=>{const _0x5a60db=_0x546ef8;let _0x51abfd=await this[_0x5a60db(0x66c)]({'request':_0x491279,'schema':Se,'ClassRef':Y,'execute':(_0x412e4e,_0x5bb5c6)=>J[_0x5a60db(0x7a8)](_0x412e4e,_0x5bb5c6)});_0x3ec46c['status'](0xc8)[_0x5a60db(0x3fc)](_0x51abfd);})[_0x546ef8(0x5de)](this[_0x546ef8(0x220)](_0x546ef8(0x652)),..._0x973d85,async(_0x4628e3,_0xb34ff0)=>{const _0x3045f3=_0x546ef8;let _0x5e3aa7=await this[_0x3045f3(0x1a0)]({'request':_0x4628e3,'schema':C,'ClassRef':S,'execute':_0x168b19=>J[_0x3045f3(0x652)](_0x168b19)});_0xb34ff0[_0x3045f3(0x5d4)](0xc8)[_0x3045f3(0x3fc)](_0x5e3aa7);})[_0x546ef8(0x5de)](this[_0x546ef8(0x220)](_0x546ef8(0x2fd)),..._0x973d85,async(_0x11ae4e,_0x25a48a)=>{const _0x4c19ba=_0x546ef8;let _0x4f8c0e=await this['groupValidate']({'request':_0x11ae4e,'schema':Se,'ClassRef':Y,'execute':(_0x478ff6,_0x538bb2)=>J[_0x4c19ba(0x539)](_0x478ff6,_0x538bb2)});_0x25a48a['status'](0xc8)['json'](_0x4f8c0e);})['get'](this['routerPath'](_0x546ef8(0x7bb)),..._0x973d85,async(_0x4f7d05,_0x5c8d87)=>{const _0x417918=_0x546ef8;let _0x3b5e79=await this[_0x417918(0x66c)]({'request':_0x4f7d05,'schema':Se,'ClassRef':Y,'execute':(_0x487e68,_0x12574c)=>J[_0x417918(0x7bb)](_0x487e68,_0x12574c)});_0x5c8d87[_0x417918(0x5d4)](0xc8)['json'](_0x3b5e79);})[_0x546ef8(0x19b)](this['routerPath'](_0x546ef8(0x6a4)),..._0x973d85,async(_0x2172eb,_0x840147)=>{const _0x1a1117=_0x546ef8;let _0x18d967=await this[_0x1a1117(0x70d)]({'request':_0x2172eb,'schema':Ya,'ClassRef':rt,'execute':(_0x42f515,_0x142593)=>J['joinGroup'](_0x42f515,_0x142593)});_0x840147[_0x1a1117(0x5d4)](0xc9)[_0x1a1117(0x3fc)](_0x18d967);})[_0x546ef8(0x19b)](this['routerPath']('revokeInviteCode'),..._0x973d85,async(_0x4deb1a,_0x5922d2)=>{const _0x26d3b2=_0x546ef8;let _0x5a526d=await this['groupValidate']({'request':_0x4deb1a,'schema':Se,'ClassRef':Y,'execute':(_0x514c7d,_0x552848)=>J[_0x26d3b2(0x74b)](_0x514c7d,_0x552848)});_0x5922d2[_0x26d3b2(0x5d4)](0xc9)['json'](_0x5a526d);})[_0x546ef8(0x19b)](this[_0x546ef8(0x220)](_0x546ef8(0x50a)),..._0x973d85,async(_0x5b69ff,_0x4c90be)=>{const _0x5358df=_0x546ef8;let _0x1cebb7=await this[_0x5358df(0x66c)]({'request':_0x5b69ff,'schema':Ga,'ClassRef':ot,'execute':(_0x33b5e0,_0x42c1f9)=>J[_0x5358df(0x6ed)](_0x33b5e0,_0x42c1f9)});_0x4c90be[_0x5358df(0x5d4)](0xc9)['json'](_0x1cebb7);})[_0x546ef8(0x5df)](this[_0x546ef8(0x220)]('leaveGroup'),..._0x973d85,async(_0x36e7a9,_0x510f21)=>{const _0x1da323=_0x546ef8;let _0x742642=await this[_0x1da323(0x66c)]({'request':_0x36e7a9,'schema':{},'ClassRef':Y,'execute':(_0x4818c8,_0x39461f)=>J[_0x1da323(0x441)](_0x4818c8,_0x39461f)});_0x510f21['status'](0xc8)[_0x1da323(0x3fc)](_0x742642);});}},tr=require('express'),ct=class extends j{constructor(_0x12b6cb,..._0x65198f){const _0x1fb8c3=a0_0x569689;super(),this[_0x1fb8c3(0x555)]=_0x12b6cb,this[_0x1fb8c3(0x42f)]=(0x0,tr[_0x1fb8c3(0x72f)])();let _0x367c32=_0x12b6cb[_0x1fb8c3(0x5de)]('AUTHENTICATION');this['router'][_0x1fb8c3(0x586)](_0x1fb8c3(0x6c8),..._0x65198f,async(_0x1e467d,_0x4e9b41)=>{const _0x17129e=_0x1fb8c3;let {instanceName:_0x3ecbf3,apikey:_0x246d0e,number:_0x4a613f}=_0x1e467d[_0x17129e(0x511)],_0x459819=await re['createInstance']({'instanceName':_0x3ecbf3,'apikey':_0x246d0e,'number':_0x4a613f});return _0x4e9b41[_0x17129e(0x5d4)](0xc9)[_0x17129e(0x3fc)](_0x459819);})['put'](this[_0x1fb8c3(0x220)]('restart'),..._0x65198f,async(_0x473f44,_0x4995a0)=>{const _0x3669e5=_0x1fb8c3;let _0x41103a=await this[_0x3669e5(0x1a0)]({'request':_0x473f44,'schema':C,'ClassRef':S,'execute':_0xc7b6c8=>re['restartInstance'](_0xc7b6c8)});return _0x4995a0['status'](0xc8)[_0x3669e5(0x3fc)](_0x41103a);})[_0x1fb8c3(0x586)](this[_0x1fb8c3(0x220)](_0x1fb8c3(0x6d9)),..._0x65198f,async(_0x35ebf3,_0xb9c2f)=>{const _0x1efb4e=_0x1fb8c3;let _0x1fccf4=await this['dataValidate']({'request':_0x35ebf3,'schema':C,'ClassRef':S,'execute':_0x4e4140=>re[_0x1efb4e(0x3a9)](_0x4e4140)});return _0xb9c2f['status'](0xc8)[_0x1efb4e(0x3fc)](_0x1fccf4);})['get'](this['routerPath'](_0x1fb8c3(0x4b4)),..._0x65198f,async(_0x47b8f6,_0x511703)=>{const _0x112bdc=_0x1fb8c3;let _0x3b5d12=await this[_0x112bdc(0x1a0)]({'request':_0x47b8f6,'schema':C,'ClassRef':S,'execute':_0x1f4e41=>re[_0x112bdc(0x4b4)](_0x1f4e41)});return _0x511703[_0x112bdc(0x5d4)](0xc8)[_0x112bdc(0x3fc)](_0x3b5d12);})[_0x1fb8c3(0x5de)](this[_0x1fb8c3(0x220)](_0x1fb8c3(0x510),!0x1),..._0x65198f,async(_0x2cf9c7,_0x4252f2)=>{const _0x156e89=_0x1fb8c3;let _0x5296cb=await this['dataValidate']({'request':_0x2cf9c7,'schema':null,'ClassRef':S,'execute':_0x23b4fb=>re[_0x156e89(0x510)](_0x23b4fb)});return _0x4252f2[_0x156e89(0x5d4)](0xc8)[_0x156e89(0x3fc)](_0x5296cb);})[_0x1fb8c3(0x5df)](this[_0x1fb8c3(0x220)](_0x1fb8c3(0x6aa)),..._0x65198f,async(_0x28eac8,_0x3ec3ab)=>{const _0x168f21=_0x1fb8c3;let _0x7aadac=await this[_0x168f21(0x1a0)]({'request':_0x28eac8,'schema':C,'ClassRef':S,'execute':_0x4d0ced=>re[_0x168f21(0x6aa)](_0x4d0ced)});return _0x3ec3ab[_0x168f21(0x5d4)](0xc8)[_0x168f21(0x3fc)](_0x7aadac);})[_0x1fb8c3(0x5df)](this[_0x1fb8c3(0x220)](_0x1fb8c3(0x5df)),..._0x65198f,async(_0x47968b,_0x10d60d)=>{const _0x49f1ac=_0x1fb8c3;let _0x46f330=await this['dataValidate']({'request':_0x47968b,'schema':C,'ClassRef':S,'execute':_0xbcdb69=>re[_0x49f1ac(0x214)](_0xbcdb69)});return _0x10d60d[_0x49f1ac(0x5d4)](0xc8)[_0x49f1ac(0x3fc)](_0x46f330);});}},sr=require(a0_0x569689(0x5a6)),ds=class{},W=class extends ds{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ee=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends j{constructor(..._0xfbd22){const _0x210b15=a0_0x569689;super(),this[_0x210b15(0x42f)]=(0x0,sr['Router'])(),this['router'][_0x210b15(0x586)](this[_0x210b15(0x220)](_0x210b15(0x437)),..._0xfbd22,async(_0x572f70,_0x1d5cd6)=>{const _0x1e0da9=_0x210b15;let _0x1eecb4=await this[_0x1e0da9(0x1a0)]({'request':_0x572f70,'schema':Sa,'ClassRef':lt,'execute':(_0x5456b9,_0x171a30)=>G['sendText'](_0x5456b9,_0x171a30)});return _0x1d5cd6[_0x1e0da9(0x5d4)](0xc9)[_0x1e0da9(0x3fc)](_0x1eecb4);})[_0x210b15(0x586)](this[_0x210b15(0x220)](_0x210b15(0x311)),..._0xfbd22,async(_0x4f4ef4,_0xd23f01)=>{const _0x158c2c=_0x210b15;let _0x399173=await this[_0x158c2c(0x1a0)]({'request':_0x4f4ef4,'schema':va,'ClassRef':Ee,'execute':(_0x42d1b9,_0x369ce0)=>G[_0x158c2c(0x311)](_0x42d1b9,_0x369ce0)});return _0xd23f01[_0x158c2c(0x5d4)](0xc9)[_0x158c2c(0x3fc)](_0x399173);})[_0x210b15(0x586)](this[_0x210b15(0x220)](_0x210b15(0x258)),..._0xfbd22,async(_0x46f567,_0x321022)=>{const _0x22c779=_0x210b15;let _0x36a230=await this['dataValidate']({'request':_0x46f567,'schema':Ta,'ClassRef':pt,'execute':(_0x335861,_0x24a759)=>G[_0x22c779(0x258)](_0x335861,_0x24a759)});return _0x321022[_0x22c779(0x5d4)](0xc9)[_0x22c779(0x3fc)](_0x36a230);})[_0x210b15(0x586)](this[_0x210b15(0x220)](_0x210b15(0x675)),..._0xfbd22,async(_0x2639ec,_0x12a1f6)=>{const _0x265ee7=_0x210b15;let _0x581616=await this[_0x265ee7(0x1a0)]({'request':_0x2639ec,'schema':Na,'ClassRef':Ee,'execute':(_0x6be6f6,_0x86f72c)=>G[_0x265ee7(0x675)](_0x6be6f6,_0x86f72c)});return _0x12a1f6[_0x265ee7(0x5d4)](0xc9)[_0x265ee7(0x3fc)](_0x581616);})[_0x210b15(0x586)](this[_0x210b15(0x220)](_0x210b15(0x4de)),..._0xfbd22,async(_0x61f52c,_0x6bcc32)=>{const _0x4ffbe5=_0x210b15;let _0x4d2cf3=await this['dataValidate']({'request':_0x61f52c,'schema':Aa,'ClassRef':ht,'execute':(_0x4e272f,_0x4e2f37)=>G[_0x4ffbe5(0x4de)](_0x4e272f,_0x4e2f37)});return _0x6bcc32[_0x4ffbe5(0x5d4)](0xc9)[_0x4ffbe5(0x3fc)](_0x4d2cf3);})[_0x210b15(0x586)](this[_0x210b15(0x220)](_0x210b15(0x581)),..._0xfbd22,async(_0x22fedc,_0x2a3fd)=>{const _0x4a6eb4=_0x210b15;let _0x8ffd90=await this[_0x4a6eb4(0x1a0)]({'request':_0x22fedc,'schema':Oa,'ClassRef':mt,'execute':(_0x588a4f,_0x153452)=>G[_0x4a6eb4(0x581)](_0x588a4f,_0x153452)});return _0x2a3fd[_0x4a6eb4(0x5d4)](0xc9)[_0x4a6eb4(0x3fc)](_0x8ffd90);})[_0x210b15(0x586)](this[_0x210b15(0x220)](_0x210b15(0x365)),..._0xfbd22,async(_0xdb5694,_0x57e94b)=>{const _0x5710cf=_0x210b15;let _0x195338=await this['dataValidate']({'request':_0xdb5694,'schema':Ia,'ClassRef':ft,'execute':(_0x30d87e,_0xe72faa)=>G[_0x5710cf(0x365)](_0x30d87e,_0xe72faa)});return _0x57e94b[_0x5710cf(0x5d4)](0xc9)[_0x5710cf(0x3fc)](_0x195338);})['post'](this[_0x210b15(0x220)](_0x210b15(0x7b8)),..._0xfbd22,async(_0x80dc0a,_0x59c7b5)=>{const _0x2784bd=_0x210b15;let _0x253cc5=await this[_0x2784bd(0x1a0)]({'request':_0x80dc0a,'schema':Da,'ClassRef':yt,'execute':(_0x31a447,_0x2661ef)=>G['sendContact'](_0x31a447,_0x2661ef)});return _0x59c7b5[_0x2784bd(0x5d4)](0xc9)[_0x2784bd(0x3fc)](_0x253cc5);})[_0x210b15(0x586)](this[_0x210b15(0x220)]('sendReaction'),..._0xfbd22,async(_0x65dbb,_0x3450d8)=>{const _0x2f9ee0=_0x210b15;let _0x5dafe9=await this['dataValidate']({'request':_0x65dbb,'schema':xa,'ClassRef':wt,'execute':(_0x495a5d,_0x4cabf2)=>G[_0x2f9ee0(0x5d6)](_0x495a5d,_0x4cabf2)});return _0x3450d8['status'](0xc9)[_0x2f9ee0(0x3fc)](_0x5dafe9);})['post'](this['routerPath'](_0x210b15(0x59e)),..._0xfbd22,async(_0x1fa8d1,_0xd09ca8)=>{const _0x427514=_0x210b15;let _0x4bf8b5=await this[_0x427514(0x1a0)]({'request':_0x1fa8d1,'schema':Ra,'ClassRef':dt,'execute':(_0x6eb24,_0x233cb5)=>G[_0x427514(0x59e)](_0x6eb24,_0x233cb5)});return _0xd09ca8[_0x427514(0x5d4)](0xc9)[_0x427514(0x3fc)](_0x4bf8b5);})[_0x210b15(0x586)](this[_0x210b15(0x220)](_0x210b15(0x2eb)),..._0xfbd22,async(_0x466908,_0x5f31d3)=>{const _0x4c4ddb=_0x210b15;let _0x4ed34a=await this[_0x4c4ddb(0x1a0)]({'request':_0x466908,'schema':Ca,'ClassRef':ut,'execute':(_0x32fa9a,_0x279827)=>G[_0x4c4ddb(0x2eb)](_0x32fa9a,_0x279827)});return _0x5f31d3[_0x4c4ddb(0x5d4)](0xc9)['json'](_0x4ed34a);})['post'](this['routerPath'](_0x210b15(0x572)),..._0xfbd22,async(_0x5c1734,_0x45c673)=>{const _0x4550bd=_0x210b15;let _0x467357=await this['dataValidate']({'request':_0x5c1734,'schema':Ma,'ClassRef':gt,'execute':(_0x95f473,_0x41fc8f)=>G[_0x4550bd(0x572)](_0x95f473,_0x41fc8f)});return _0x45c673[_0x4550bd(0x5d4)](0xc9)[_0x4550bd(0x3fc)](_0x467357);});}},ar=require('express'),St=class{},Et=class extends j{constructor(..._0x1043be){const _0x5e5a3c=a0_0x569689;super(),this['router']=(0x0,ar[_0x5e5a3c(0x72f)])(),this[_0x5e5a3c(0x42f)][_0x5e5a3c(0x586)](this['routerPath'](_0x5e5a3c(0x764)),..._0x1043be,async(_0x5155b3,_0x3cb2b1)=>{const _0x53e535=_0x5e5a3c;let _0x58cc47=await this[_0x53e535(0x1a0)]({'request':_0x5155b3,'schema':Xa,'ClassRef':St,'execute':(_0xf61677,_0x5add5c)=>ps[_0x53e535(0x419)](_0xf61677,_0x5add5c)});_0x3cb2b1[_0x53e535(0x5d4)](0xc9)['json'](_0x58cc47);})[_0x5e5a3c(0x5de)](this[_0x5e5a3c(0x220)](_0x5e5a3c(0x3e0)),..._0x1043be,async(_0x783f1,_0x1f5c61)=>{const _0xc1ebac=_0x5e5a3c;let _0x325106=await this[_0xc1ebac(0x1a0)]({'request':_0x783f1,'schema':C,'ClassRef':S,'execute':_0x4e4c1a=>ps['findWebhook'](_0x4e4c1a)});_0x1f5c61[_0xc1ebac(0x5d4)](0xc8)['json'](_0x325106);});}},rr=require(a0_0x569689(0x5a6)),f=new v(a0_0x569689(0x79f)),Mt=class extends j{constructor(..._0x3ea75e){const _0x2cb7dd=a0_0x569689;super(),this[_0x2cb7dd(0x42f)]=(0x0,rr[_0x2cb7dd(0x72f)])(),this[_0x2cb7dd(0x42f)][_0x2cb7dd(0x586)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x63d)),..._0x3ea75e,async(_0x516da9,_0x2815f0)=>{const _0x55e3ee=_0x2cb7dd;let _0x3b8541=_0x516da9[_0x55e3ee(0x511)];f['verbose'](_0x55e3ee(0x318)),f[_0x55e3ee(0x55d)]('request\x20body:\x20'),f[_0x55e3ee(0x55d)](_0x516da9[_0x55e3ee(0x511)]);let _0x301d67=await this[_0x55e3ee(0x1a0)]({'request':_0x516da9,'schema':C,'ClassRef':S,'execute':_0x1afba7=>T[_0x55e3ee(0x509)](_0x1afba7,_0x3b8541)});_0x2815f0[_0x55e3ee(0x5d4)](0xc8)[_0x55e3ee(0x3fc)](_0x301d67);})[_0x2cb7dd(0x5de)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x63d)),..._0x3ea75e,async(_0x5b5f19,_0x48e112)=>{const _0x25961c=_0x2cb7dd;let _0x55cefc=await this[_0x25961c(0x1a0)]({'request':_0x5b5f19,'schema':C,'ClassRef':S,'execute':_0x28a579=>T[_0x25961c(0x231)](_0x28a579)});_0x48e112[_0x25961c(0x5d4)](0xc8)[_0x25961c(0x3fc)](_0x55cefc);})[_0x2cb7dd(0x5df)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x268)),..._0x3ea75e,async(_0x542862,_0x1636c6)=>{const _0x596173=_0x2cb7dd;f[_0x596173(0x55d)](_0x596173(0x6dc));let _0x4fbd07=await this['dataValidate']({'request':_0x542862,'schema':C,'ClassRef':S,'execute':_0x387542=>T['deleteDoneMessages'](_0x387542)});_0x1636c6[_0x596173(0x5d4)](0xc8)[_0x596173(0x3fc)](_0x4fbd07);})[_0x2cb7dd(0x586)](this['routerPath'](_0x2cb7dd(0x5ac)),..._0x3ea75e,async(_0x265b24,_0x4a38e8)=>{const _0x1b9117=_0x2cb7dd;let _0x3c296a=_0x265b24[_0x1b9117(0x511)];f[_0x1b9117(0x55d)](_0x1b9117(0x1fe)),f['verbose'](_0x1b9117(0x3e5)),f[_0x1b9117(0x55d)](_0x265b24[_0x1b9117(0x511)]);let _0x4c128a=await this[_0x1b9117(0x1a0)]({'request':_0x265b24,'schema':C,'ClassRef':S,'execute':_0x1f15fb=>T[_0x1b9117(0x5ac)](_0x1f15fb,_0x3c296a)});_0x4a38e8['status'](0xc8)[_0x1b9117(0x3fc)](_0x4c128a);})[_0x2cb7dd(0x5de)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x29d)),..._0x3ea75e,async(_0xa766d5,_0x5671d9)=>{const _0x13a082=_0x2cb7dd;f[_0x13a082(0x55d)](_0x13a082(0x550));let _0x27d036=await this[_0x13a082(0x1a0)]({'request':_0xa766d5,'schema':C,'ClassRef':S,'execute':_0x16a04d=>T[_0x13a082(0x29d)](_0x16a04d)});_0x5671d9[_0x13a082(0x5d4)](0xc8)[_0x13a082(0x3fc)](_0x27d036);})['get'](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x46b)),..._0x3ea75e,async(_0x503c1a,_0x2bd19c)=>{const _0x1ab1df=_0x2cb7dd;f['verbose'](_0x1ab1df(0x51e));let _0x42e177=await this[_0x1ab1df(0x1a0)]({'request':_0x503c1a,'schema':C,'ClassRef':S,'execute':_0xe4af69=>T['getAutomateSystem'](_0xe4af69)});_0x2bd19c['status'](0xc8)[_0x1ab1df(0x3fc)](_0x42e177);})[_0x2cb7dd(0x586)](this['routerPath'](_0x2cb7dd(0x556)),..._0x3ea75e,async(_0x458c04,_0x4efb01)=>{const _0x37cc98=_0x2cb7dd;let _0x569d7a=_0x458c04[_0x37cc98(0x511)];f['verbose']('request\x20received\x20in\x20updateAgent'),f[_0x37cc98(0x55d)](_0x37cc98(0x3e5)),f[_0x37cc98(0x55d)](_0x458c04[_0x37cc98(0x511)]);let _0x5d3550=await this['dataValidate']({'request':_0x458c04,'schema':C,'ClassRef':S,'execute':_0xfc44c9=>T[_0x37cc98(0x556)](_0xfc44c9,_0x569d7a)});_0x4efb01[_0x37cc98(0x5d4)](0xc8)['json'](_0x5d3550);})['post'](this[_0x2cb7dd(0x220)]('updateCustomFields'),..._0x3ea75e,async(_0x4fdd9c,_0x37dde6)=>{const _0x12a09b=_0x2cb7dd;let _0x2f66ad=_0x4fdd9c[_0x12a09b(0x511)];f[_0x12a09b(0x55d)](_0x12a09b(0x747)),f['verbose'](_0x12a09b(0x3e5)),f[_0x12a09b(0x55d)](_0x4fdd9c[_0x12a09b(0x511)]);let _0x296865=await this['dataValidate']({'request':_0x4fdd9c,'schema':C,'ClassRef':S,'execute':_0x257534=>T[_0x12a09b(0x5ee)](_0x257534,_0x2f66ad)});_0x37dde6[_0x12a09b(0x5d4)](0xc8)[_0x12a09b(0x3fc)](_0x296865);})[_0x2cb7dd(0x586)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x75f)),..._0x3ea75e,async(_0x386bd9,_0x489e95)=>{const _0x2d041e=_0x2cb7dd;let _0x25897e=_0x386bd9[_0x2d041e(0x511)];f[_0x2d041e(0x55d)](_0x2d041e(0x7a9)),f[_0x2d041e(0x55d)](_0x2d041e(0x3e5)),f[_0x2d041e(0x55d)](_0x386bd9['body']);let _0xc28f2b=await this[_0x2d041e(0x1a0)]({'request':_0x386bd9,'schema':C,'ClassRef':S,'execute':_0x2b6f47=>T[_0x2d041e(0x75f)](_0x2b6f47,_0x25897e)});_0x489e95[_0x2d041e(0x5d4)](0xc8)[_0x2d041e(0x3fc)](_0xc28f2b);})['post'](this['routerPath'](_0x2cb7dd(0x7c7)),..._0x3ea75e,async(_0x53a9d1,_0x5dfa79)=>{const _0x566330=_0x2cb7dd;let _0x49af42=_0x53a9d1[_0x566330(0x511)];f[_0x566330(0x55d)](_0x566330(0x434)),f[_0x566330(0x55d)]('request\x20body:\x20'),f['verbose'](_0x53a9d1[_0x566330(0x511)]);let _0x5e6139=await this[_0x566330(0x1a0)]({'request':_0x53a9d1,'schema':C,'ClassRef':S,'execute':_0x3de620=>T['getConversation'](_0x3de620,_0x49af42)});_0x5dfa79['status'](0xc8)[_0x566330(0x3fc)](_0x5e6139);})[_0x2cb7dd(0x586)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x1fc)),..._0x3ea75e,async(_0x29d10f,_0x41a42c)=>{const _0x5cdc19=_0x2cb7dd;let _0x3636b7=_0x29d10f[_0x5cdc19(0x511)];f['verbose'](_0x5cdc19(0x304)),f['verbose'](_0x5cdc19(0x3e5)),f[_0x5cdc19(0x55d)](_0x29d10f['body']);let _0x572099=await this[_0x5cdc19(0x1a0)]({'request':_0x29d10f,'schema':C,'ClassRef':S,'execute':_0x3a4d65=>T[_0x5cdc19(0x1fc)](_0x3a4d65,_0x3636b7)});_0x41a42c[_0x5cdc19(0x5d4)](0xc8)[_0x5cdc19(0x3fc)](_0x572099);})['post'](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x29c)),..._0x3ea75e,async(_0x4b5430,_0xfb4290)=>{const _0x14f039=_0x2cb7dd;let _0x2ccf8c=_0x4b5430['body'];f[_0x14f039(0x55d)](_0x14f039(0x7a3)),f[_0x14f039(0x55d)](_0x14f039(0x3e5)),f[_0x14f039(0x55d)](_0x4b5430[_0x14f039(0x511)]);let _0x1667b2=await this[_0x14f039(0x1a0)]({'request':_0x4b5430,'schema':C,'ClassRef':S,'execute':_0x1c55cb=>T[_0x14f039(0x29c)](_0x1c55cb,_0x2ccf8c)});_0xfb4290[_0x14f039(0x5d4)](0xc8)[_0x14f039(0x3fc)](_0x1667b2);})[_0x2cb7dd(0x5df)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x3d3)),..._0x3ea75e,async(_0x2ef3de,_0x1ac819)=>{const _0x5cc0fb=_0x2cb7dd;let _0x1e8453=_0x2ef3de[_0x5cc0fb(0x511)];f[_0x5cc0fb(0x55d)](_0x5cc0fb(0x418)),f[_0x5cc0fb(0x55d)](_0x5cc0fb(0x3e5)),f[_0x5cc0fb(0x55d)](_0x2ef3de[_0x5cc0fb(0x511)]);let _0x44b330=await this['dataValidate']({'request':_0x2ef3de,'schema':C,'ClassRef':S,'execute':_0x4b913c=>T['deleteConversation'](_0x4b913c,_0x1e8453)});_0x1ac819['status'](0xc8)[_0x5cc0fb(0x3fc)](_0x44b330);})[_0x2cb7dd(0x586)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x425)),..._0x3ea75e,async(_0x3b93dc,_0x29a74e)=>{const _0xc33fef=_0x2cb7dd;let _0x1ab484=_0x3b93dc[_0xc33fef(0x511)];f['verbose'](_0xc33fef(0x54f)),f[_0xc33fef(0x55d)](_0xc33fef(0x3e5)),f[_0xc33fef(0x55d)](_0x3b93dc[_0xc33fef(0x511)]);let _0x4ee2ba=await this[_0xc33fef(0x1a0)]({'request':_0x3b93dc,'schema':C,'ClassRef':S,'execute':_0x1832fe=>T[_0xc33fef(0x782)](_0x1832fe,_0x1ab484)});_0x29a74e[_0xc33fef(0x5d4)](0xc8)[_0xc33fef(0x3fc)](_0x4ee2ba);})['post'](this[_0x2cb7dd(0x220)]('editflow'),..._0x3ea75e,async(_0x1cefb2,_0x8cf371)=>{const _0x1517a7=_0x2cb7dd;let _0x4c8ca6=_0x1cefb2[_0x1517a7(0x511)];f[_0x1517a7(0x55d)](_0x1517a7(0x306)),f['verbose'](_0x1517a7(0x3e5)),f['verbose'](_0x1cefb2[_0x1517a7(0x511)]),delete _0x4c8ca6[_0x1517a7(0x4b5)],delete _0x4c8ca6['variables'],delete _0x4c8ca6[_0x1517a7(0x47e)],delete _0x4c8ca6[_0x1517a7(0x635)];let _0x510d5a=await this['dataValidate']({'request':_0x1cefb2,'schema':C,'ClassRef':S,'execute':_0x231b9e=>T[_0x1517a7(0x1e2)](_0x231b9e,_0x4c8ca6)});_0x8cf371[_0x1517a7(0x5d4)](0xc8)[_0x1517a7(0x3fc)](_0x510d5a);})['post'](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x6fe)),..._0x3ea75e,async(_0x2f3a93,_0x570b3b)=>{const _0x4ba099=_0x2cb7dd;let _0x21f68e=_0x2f3a93['body'];f[_0x4ba099(0x55d)]('request\x20received\x20in\x20editFlow'),f[_0x4ba099(0x55d)](_0x4ba099(0x3e5)),f['verbose'](_0x2f3a93[_0x4ba099(0x511)]);let _0x7fb227=await this[_0x4ba099(0x1a0)]({'request':_0x2f3a93,'schema':C,'ClassRef':S,'execute':_0x35518b=>T[_0x4ba099(0x492)](_0x35518b,_0x21f68e)});_0x570b3b['status'](0xc8)['json'](_0x7fb227);})['post'](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x4e6)),..._0x3ea75e,async(_0x1e157b,_0x546a52)=>{const _0x153223=_0x2cb7dd;let _0x3c7f24=_0x1e157b['body'];f['verbose']('request\x20received\x20in\x20editFlow'),f[_0x153223(0x55d)](_0x153223(0x3e5)),f[_0x153223(0x55d)](_0x1e157b['body']);let _0x4bc841=await this[_0x153223(0x1a0)]({'request':_0x1e157b,'schema':C,'ClassRef':S,'execute':_0x6e90b7=>T[_0x153223(0x42a)](_0x6e90b7,_0x3c7f24)});_0x546a52['status'](0xc8)[_0x153223(0x3fc)](_0x4bc841);})[_0x2cb7dd(0x586)](this[_0x2cb7dd(0x220)]('editflowvaredit'),..._0x3ea75e,async(_0x119f13,_0x157a9f)=>{const _0x537509=_0x2cb7dd;let _0x102e56=_0x119f13[_0x537509(0x511)];f[_0x537509(0x55d)](_0x537509(0x306)),f['verbose'](_0x537509(0x3e5)),f[_0x537509(0x55d)](_0x119f13['body']);let _0x24ba0d=await this[_0x537509(0x1a0)]({'request':_0x119f13,'schema':C,'ClassRef':S,'execute':_0x4943ce=>T[_0x537509(0x5e7)](_0x4943ce,_0x102e56)});_0x157a9f['status'](0xc8)['json'](_0x24ba0d);})[_0x2cb7dd(0x586)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x44e)),..._0x3ea75e,async(_0x2b61d8,_0x263cda)=>{const _0x2eb36b=_0x2cb7dd;let _0x2402f7=_0x2b61d8[_0x2eb36b(0x511)];f[_0x2eb36b(0x55d)](_0x2eb36b(0x1ad)),f['verbose'](_0x2eb36b(0x3e5)),f[_0x2eb36b(0x55d)](_0x2b61d8[_0x2eb36b(0x511)]);let _0x4a43c5=await this['dataValidate']({'request':_0x2b61d8,'schema':C,'ClassRef':S,'execute':_0x425e90=>T[_0x2eb36b(0x46f)](_0x425e90,_0x2402f7)});_0x263cda[_0x2eb36b(0x5d4)](0xc8)[_0x2eb36b(0x3fc)](_0x4a43c5);})['post'](this['routerPath'](_0x2cb7dd(0x54b)),..._0x3ea75e,async(_0x22f207,_0x1b81e4)=>{const _0x4f9206=_0x2cb7dd;let _0x39abf9=_0x22f207[_0x4f9206(0x511)];f[_0x4f9206(0x55d)](_0x4f9206(0x2a7)),f[_0x4f9206(0x55d)](_0x4f9206(0x3e5)),f[_0x4f9206(0x55d)](_0x22f207[_0x4f9206(0x511)]);let _0x4aa0b9=await this[_0x4f9206(0x1a0)]({'request':_0x22f207,'schema':C,'ClassRef':S,'execute':_0x41658c=>T[_0x4f9206(0x690)](_0x41658c,_0x39abf9)});_0x1b81e4[_0x4f9206(0x5d4)](0xc8)['json'](_0x4aa0b9);})[_0x2cb7dd(0x586)](this[_0x2cb7dd(0x220)]('editflowvariable'),..._0x3ea75e,async(_0x4a5958,_0x2c089f)=>{const _0x315803=_0x2cb7dd;let _0x246d44=_0x4a5958[_0x315803(0x511)];f['verbose'](_0x315803(0x67d)),f[_0x315803(0x55d)]('request\x20body:\x20'),f[_0x315803(0x55d)](_0x4a5958[_0x315803(0x511)]);let _0x1a52e4=await this[_0x315803(0x1a0)]({'request':_0x4a5958,'schema':C,'ClassRef':S,'execute':_0x20d61a=>T[_0x315803(0x590)](_0x20d61a,_0x246d44)});_0x2c089f['status'](0xc8)[_0x315803(0x3fc)](_0x1a52e4);})[_0x2cb7dd(0x586)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x4e5)),..._0x3ea75e,async(_0x50897e,_0x118f49)=>{const _0x9c71a=_0x2cb7dd;let _0x4126a9=_0x50897e['body'];f[_0x9c71a(0x55d)](_0x9c71a(0x534)),f['verbose']('request\x20body:\x20'),f[_0x9c71a(0x55d)](_0x50897e[_0x9c71a(0x511)]);let _0x3014ab=await this['dataValidate']({'request':_0x50897e,'schema':C,'ClassRef':S,'execute':_0x376050=>T[_0x9c71a(0x339)](_0x376050,_0x4126a9)});_0x118f49[_0x9c71a(0x5d4)](0xc8)[_0x9c71a(0x3fc)](_0x3014ab);})['delete'](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x51c)),..._0x3ea75e,async(_0x43b876,_0x2b4bc2)=>{const _0x5590d6=_0x2cb7dd;let _0x7b842a=_0x43b876[_0x5590d6(0x511)];f['verbose']('request\x20received\x20in\x20deleteFlow'),f[_0x5590d6(0x55d)](_0x5590d6(0x3e5)),f[_0x5590d6(0x55d)](_0x43b876[_0x5590d6(0x511)]);let _0x3fb2d2=await this[_0x5590d6(0x1a0)]({'request':_0x43b876,'schema':C,'ClassRef':S,'execute':_0x5b02fc=>T[_0x5590d6(0x762)](_0x5b02fc,_0x7b842a)});_0x2b4bc2[_0x5590d6(0x5d4)](0xc8)['json'](_0x3fb2d2);})[_0x2cb7dd(0x5de)](this[_0x2cb7dd(0x220)](_0x2cb7dd(0x3cf)),..._0x3ea75e,async(_0x2bfb3d,_0x5f5547)=>{const _0x85b893=_0x2cb7dd;f['verbose'](_0x85b893(0x20f));let _0x565245=await this[_0x85b893(0x1a0)]({'request':_0x2bfb3d,'schema':C,'ClassRef':S,'execute':_0x26ab7c=>T['allFlows'](_0x26ab7c)});_0x5f5547['status'](0xc8)[_0x85b893(0x3fc)](_0x565245);});}},cr=R(require(a0_0x569689(0x4a3))),X={};function or(_0x46d376,_0x238a2e,_0x28e03f,_0x510fd2){X[_0x46d376]||(X[_0x46d376]={}),X[_0x46d376][_0x238a2e]={'id':_0x238a2e,'response':_0x28e03f,'events':_0x510fd2};}function ir(_0x4dcd13,_0x46cb11){!X[_0x4dcd13]||!X[_0x4dcd13][_0x46cb11]||delete X[_0x4dcd13][_0x46cb11];}function q(_0x4daf0e,_0x217e66,_0x171ee7){const _0x1355bd=a0_0x569689;if(!X[_0x4daf0e])return;let _0x1fa329='data:\x20'+JSON[_0x1355bd(0x28a)](_0x171ee7)+'\x0a\x0a';Object[_0x1355bd(0x7c1)](X[_0x4daf0e])[_0x1355bd(0x6b4)](_0x184d25=>{const _0x4b08e1=_0x1355bd;_0x184d25[_0x4b08e1(0x375)][_0x4b08e1(0x1f2)](_0x217e66)&&_0x184d25[_0x4b08e1(0x569)]['write'](_0x1fa329);});}function nr(){const _0x40618f=a0_0x569689;let _0x406c84={};for(let _0x331b70 in X)_0x406c84[_0x331b70]=Object[_0x40618f(0x7c1)](X[_0x331b70])[_0x40618f(0x46c)](_0x160684=>({'id':_0x160684['id'],'events':_0x160684[_0x40618f(0x375)]}));return _0x406c84;}var lr=require(a0_0x569689(0x611)),hs=require('mongoose'),gs=class{},no=new hs[(a0_0x569689(0x7bd))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new hs[(a0_0x569689(0x7bd))]({'_id':{'type':String,'default':a0_0x569689(0x573)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),me=N?.[a0_0x569689(0x2c9)](gs['name'],co,a0_0x569689(0x6f1)),lo=cr[a0_0x569689(0x29a)][a0_0x569689(0x1ee)](__dirname,a0_0x569689(0x5b5)),vt=(0x0,Ct[a0_0x569689(0x72f)])(),uo=b[a0_0x569689(0x5de)](a0_0x569689(0x405))[a0_0x569689(0x31a)],te=[ma,fa,ba[uo]];vt[a0_0x569689(0x698)](a0_0x569689(0x6de),Ct['default'][a0_0x569689(0x6f7)](lo))[a0_0x569689(0x5de)](a0_0x569689(0x39e),async(_0x1ed174,_0x4e2f13)=>{const _0x627b10=a0_0x569689;console['log'](_0x627b10(0x3dc));let _0x3290ea=_0x1ed174[_0x627b10(0x686)][_0x627b10(0x56d)],_0x36b699=(_0x1ed174[_0x627b10(0x7c6)][_0x627b10(0x375)]||'')[_0x627b10(0x348)](','),_0x1697e8=(0x0,lr['v4'])();console['log']('Instance\x20ID:',_0x3290ea),console[_0x627b10(0x513)](_0x627b10(0x456),_0x36b699);let _0x127873=b[_0x627b10(0x5de)]('AUTHENTICATION')[_0x627b10(0x711)],_0x3b7c67=_0x1ed174[_0x627b10(0x7c6)]['apikey'];if(console['log'](_0x627b10(0x55b),_0x3b7c67),_0x127873['KEY']!==_0x3b7c67){console['log'](_0x627b10(0x77b));try{let _0x440169=await ce[_0x627b10(0x1a1)]['find'](_0x3290ea);if(console[_0x627b10(0x513)](_0x627b10(0x699),_0x440169),!_0x440169||_0x440169['apikey']!==_0x3b7c67)return console[_0x627b10(0x513)](_0x627b10(0x642)),_0x4e2f13['status'](0x191)[_0x627b10(0x2e7)](_0x627b10(0x36d));}catch(_0x31bd67){return console[_0x627b10(0x393)](_0x627b10(0x506),_0x31bd67),_0x4e2f13[_0x627b10(0x5d4)](0x191)['send'](_0x627b10(0x3b8));}}if(!await We(_0x3290ea))return _0x4e2f13['status'](0x194)[_0x627b10(0x2e7)]('Instância\x20não\x20encontrada.');_0x4e2f13[_0x627b10(0x1ab)]('Content-Type',_0x627b10(0x283)),_0x4e2f13['setHeader'](_0x627b10(0x427),_0x627b10(0x758)),_0x4e2f13['setHeader'](_0x627b10(0x756),_0x627b10(0x6c7)),_0x4e2f13[_0x627b10(0x487)]();let _0x1c74aa=_0x627b10(0x322)+JSON[_0x627b10(0x28a)]({'info':_0x627b10(0x1f3)})+'\x0a\x0a';_0x4e2f13[_0x627b10(0x19f)](_0x1c74aa),or(_0x3290ea,_0x1697e8,_0x4e2f13,_0x36b699),_0x1ed174['on']('close',()=>{const _0x1f2772=_0x627b10;console[_0x1f2772(0x513)](_0x1f2772(0x1a9)+_0x3290ea),ir(_0x3290ea,_0x1697e8);});}),vt[a0_0x569689(0x5de)](a0_0x569689(0x349),(_0x31633a,_0x1fe103)=>{let _0x3924a9=nr();_0x1fe103['json'](_0x3924a9);})[a0_0x569689(0x5de)]('/',(_0x1d0336,_0xb05d63)=>{const _0x4a7a78=a0_0x569689;let _0x5784ae=b[_0x4a7a78(0x5de)](_0x4a7a78(0x246)),_0x4435bf=_0x5784ae&&_0x5784ae[_0x4a7a78(0x4c7)][_0x4a7a78(0x348)]('/')[0x4];if(_0x4435bf){let _0x1fb894=encodeURIComponent(_0x4a7a78(0x765)+_0x4435bf);_0xb05d63[_0x4a7a78(0x649)](_0x4a7a78(0x421)+_0x1fb894);}else _0xb05d63['redirect'](_0x4a7a78(0x2cb));})[a0_0x569689(0x19b)](a0_0x569689(0x601),...te,async(_0x503b2a,_0x2e1ecf)=>{const _0xd79000=a0_0x569689;try{console[_0xd79000(0x513)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x2e1ecf[_0xd79000(0x5d4)](0xc8)[_0xd79000(0x3fc)]({'message':_0xd79000(0x5d0)}),_0x2e1ecf['on'](_0xd79000(0x4b3),()=>process[_0xd79000(0x503)](0x0));}catch(_0x370593){console[_0xd79000(0x393)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x370593),_0x2e1ecf[_0xd79000(0x5d4)](0x1f4)[_0xd79000(0x3fc)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x569689(0x19b)](a0_0x569689(0x2fa),...te,async(_0x2f40c3,_0x1a7786)=>{const _0x49fcdb=a0_0x569689;try{let _0x2be28f=_0x2f40c3[_0x49fcdb(0x511)];await me[_0x49fcdb(0x616)]({},{'$set':_0x2be28f},{'upsert':!0x0});let _0x48a618=await me[_0x49fcdb(0x471)]();_0x1a7786[_0x49fcdb(0x3fc)](_0x48a618);}catch(_0x1e6fa5){_0x1a7786[_0x49fcdb(0x5d4)](0x190)[_0x49fcdb(0x2e7)](_0x1e6fa5[_0x49fcdb(0x793)]);}})[a0_0x569689(0x5de)](a0_0x569689(0x2fa),...te,async(_0x56bd49,_0x315c6e)=>{const _0x58af1f=a0_0x569689;try{let _0x2ce515=await me[_0x58af1f(0x471)]();if(!_0x2ce515)return _0x315c6e[_0x58af1f(0x3fc)]({});_0x315c6e[_0x58af1f(0x3fc)](_0x2ce515);}catch(_0x1ff1aa){_0x315c6e['status'](0x1f4)['send'](_0x1ff1aa['message']);}})[a0_0x569689(0x698)](a0_0x569689(0x634),new ct(b,...te)[a0_0x569689(0x42f)])[a0_0x569689(0x698)](a0_0x569689(0x290),new bt(...te)[a0_0x569689(0x42f)])[a0_0x569689(0x698)](a0_0x569689(0x4eb),new Xe(...te)['router'])[a0_0x569689(0x698)](a0_0x569689(0x55e),new nt(...te)[a0_0x569689(0x42f)])[a0_0x569689(0x698)](a0_0x569689(0x661),new Et(...te)[a0_0x569689(0x42f)])['use']('/automate',new Mt(...te)[a0_0x569689(0x42f)]);var h=class{constructor(..._0x203556){const _0x284037=a0_0x569689;throw{'status':0x190,'error':_0x284037(0x7ac),'message':_0x203556['length']>0x0?_0x203556:void 0x0};}},ee=class{constructor(..._0x4314a3){const _0x991c30=a0_0x569689;throw{'status':0x191,'error':_0x991c30(0x242),'message':_0x4314a3[_0x991c30(0x63c)]>0x0?_0x4314a3:void 0x0};}},K=class{constructor(..._0x5853bc){const _0x45dc19=a0_0x569689;throw{'status':0x193,'error':_0x45dc19(0x73a),'message':_0x5853bc[_0x45dc19(0x63c)]>0x0?_0x5853bc:void 0x0};}},L=class{constructor(..._0xaecce5){const _0x60e2fb=a0_0x569689;throw{'status':0x194,'error':_0x60e2fb(0x32a),'message':_0xaecce5[_0x60e2fb(0x63c)]>0x0?_0xaecce5:void 0x0};}},O=class{constructor(..._0x179bf4){const _0x349b9e=a0_0x569689;throw{'status':0x1f4,'error':_0x349b9e(0x6d3),'message':_0x179bf4[_0x349b9e(0x63c)]>0x0?_0x179bf4:void 0x0};}},le=require(a0_0x569689(0x3b7));async function ms(_0x2bb96d){const _0x1819ba=a0_0x569689;let _0x56b891=new v(ms[_0x1819ba(0x222)]),_0x2dd5ce=N[_0x1819ba(0x676)](),_0x3c78e7=_0x2dd5ce['db'](b[_0x1819ba(0x5de)](_0x1819ba(0x2ed))[_0x1819ba(0x4a6)][_0x1819ba(0x2ef)]+_0x1819ba(0x261))[_0x1819ba(0x6f5)](_0x2bb96d),_0x18ee7f=async(_0x4b996b,_0x409999)=>{const _0x7416d0=_0x1819ba;try{return await _0x2dd5ce[_0x7416d0(0x6d9)](),await _0x3c78e7['replaceOne']({'_id':_0x409999},JSON[_0x7416d0(0x202)](JSON['stringify'](_0x4b996b,le[_0x7416d0(0x49a)]['replacer'])),{'upsert':!0x0});}catch{}},_0x29dc08=async _0x199742=>{const _0x4ac09a=_0x1819ba;try{await _0x2dd5ce[_0x4ac09a(0x6d9)]();let _0x1e32ed=await _0x3c78e7[_0x4ac09a(0x471)]({'_id':_0x199742}),_0x21e365=JSON[_0x4ac09a(0x28a)](_0x1e32ed);return JSON[_0x4ac09a(0x202)](_0x21e365,le[_0x4ac09a(0x49a)][_0x4ac09a(0x3f0)]);}catch{}},_0x504d96=async _0x13a742=>{const _0x1b0921=_0x1819ba;try{return await _0x2dd5ce[_0x1b0921(0x6d9)](),await _0x3c78e7[_0x1b0921(0x217)]({'_id':_0x13a742});}catch{}},_0x2bece2=await _0x29dc08('creds')||(0x0,le['initAuthCreds'])();return{'state':{'creds':_0x2bece2,'keys':{'get':async(_0x322560,_0x476389)=>{const _0x54d8ae=_0x1819ba;let _0x4c77af={};return await Promise[_0x54d8ae(0x741)](_0x476389[_0x54d8ae(0x46c)](async _0x5a634e=>{const _0x4087db=_0x54d8ae;let _0xa49171=await _0x29dc08(_0x322560+'-'+_0x5a634e);_0x322560===_0x4087db(0x3c6)&&_0xa49171&&(_0xa49171=le[_0x4087db(0x472)][_0x4087db(0x1bc)][_0x4087db(0x58e)][_0x4087db(0x54c)](_0xa49171)),_0x4c77af[_0x5a634e]=_0xa49171;})),_0x4c77af;},'set':async _0x2c2520=>{const _0x41c6c8=_0x1819ba;let _0x5f1043=[];for(let _0x3f863c in _0x2c2520)for(let _0x4abee2 in _0x2c2520[_0x3f863c]){let _0x5ed441=_0x2c2520[_0x3f863c][_0x4abee2],_0x2b09c5=_0x3f863c+'-'+_0x4abee2;_0x5f1043[_0x41c6c8(0x392)](_0x5ed441?_0x18ee7f(_0x5ed441,_0x2b09c5):_0x504d96(_0x2b09c5));}await Promise['all'](_0x5f1043);}}},'saveCreds':async()=>_0x18ee7f(_0x2bece2,_0x1819ba(0x2e0))};}function a0_0x5cf0(){const _0x294175=['scheduleSendMedia','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','stderr','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','Logger','online','SEND_MESSAGE','status.instance','*\x0a\x0a','COLOR','redirect','evaluateConditionTest','hostname','incrementIsValidAttempts','arraybuffer','group','formatBRNumber','menuMessage','media','findGroups','updateOnlinePrivacy','$addToSet','sticker','):\x20Comando\x20desconhecido:\x20','findOneAndUpdate','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','varedits','selectedOptions','PREFIX_KEY','\x1b[44m','GROUP_PARTICIPANTS_UPDATE','Content\x20is\x20required','flowIgnoreGroups','@g.us','/webhook','envYaml','pollCreationMessageV3','Authentication\x20error','https','/instance/connectionState','assign','Valor\x20inicial:\x20\x22','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','cwd','http','groupValidate','dropCollection','moreLogs','mediatype','Operador:\x20\x22','height','Temp\x20image\x20deleted','child_process','chat','sendWhatsAppAudio','getClient','Background\x20color\x20is\x20required','createInstance','/instance/fetchInstances','prefixCommand','save','Invalid\x20format','request\x20received\x20in\x20editFlowvariable','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20conversation.lastInteraction:\x20','generateWAMessageFromContent','CHATS_DELETE','remote\x20\x22origin\x22','3019KLFCqg','):\x20newSecondValue\x20após\x20replaceVariables:','local_map','params','/events','http://checkip.dyndns.org','font','from','delaySecMax','Error\x20creating\x20group','CORS','description','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','editFlowCondition','Not\x20allowed\x20by\x20CORS','createAndSave','qrcode','getDelay','?authSource=admin&readPreference=primary&directConnection=true','SECRET','splice','use','Instance\x20Key\x20from\x20DB:','lastBlockId','Last\x20message\x20not\x20found','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','RECONNECT_TIME_FRAME','CHATS_UPDATE','\x20minutos','updateGParticipant','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','desc','deleteAll','joinGroup','Font\x20is\x20required','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','\x20horas\x20e\x20','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','dbSettings','logout','url','replaceVariables','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','WA\x20MODULE','host','contentText','stopMinutes','mongodb://','including\x20timestamp\x20in\x20url:\x20','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','findOrCreate','replacer','organization','profilePicture','fetchProfilePicture','notContains','detail','toString','updateOneById','done','ERROR','mentioned','ON\x20-\x20dbName:\x20','groupId','paused','/wa-chats','keep-alive','/create','cors','stateConnection','Erro\x20ao\x20atualizar\x20o\x20flow.','pollErrorMessage','):\x20Dados\x20migrados\x20com\x20sucesso','evaluateCondition','indexOf','chats.upsert','.webp','groupDesc','Internal\x20Server\x20Error','getVariablesChat','connectionClosed','valid','Esse\x20fluxo\x20expirou','value','connect','MAX_RECONNECT_ATTEMPTS','eventHandler','request\x20received\x20in\x20deleteDoneMessages','8080','/media','spawn','sendMessageWithTyping','env.yml','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','findChats','nome','Enter\x20a\x20value\x20in\x20milliseconds','deleteBlock','ChatRouter','AUTHENTICATION_JWT_EXPIRIN_IN','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','instanceName\x20not\x20provided.','validate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','updateGParticipate','chats','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Certbot:\x20','All_Instances_Config','getChatModelForOwner','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','agents','collection','closed','static','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Chrome','jsonip.com','decryptPollVote','):\x20Iniciando\x20bot...','Erro\x20ao\x20normalizar\x20a\x20mensagem:','editflowblock','Erro\x20de\x20atualização:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','resetReconnectionVariables','subjectTime','Missing\x20global\x20api\x20key','fetchChats','.sendDataWebhook-global','stoppedUntil','processConditionsTest','Erro:','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','variable','updateLastSeenPrivacy','now','joinGroupValidate','toBrazilianNumberFormat','createConnection','integer','API_KEY','_Contacts','generate','console','fetchMessages','exports','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','getHours','buttonMessage','sectionsToString','buttons','Erro\x20ao\x20atualizar\x20AutomateSystem:','Mensagem\x20não\x20suportada','waitingForReplyMenu','Converting\x20image\x20to\x20WebP\x20to\x20sticker','stdout','processUazapi','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','updateAll','documentMessage','Formato\x20inválido\x20de\x20proxy','CORS_CREDENTIALS','deleteMessageForEveryone','?timestamp=','Types','last','applyvaredit','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','Router','changeVariables','groups.upsert','closeExistingConversations','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Type\x20defined\x20as\x20audio','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','ensureChatIdsExist','isURL','\x1b[37m','order','Forbidden','repository','uazapiSendLocation','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','contains','nextBlock:','bearer','all','copy','lastMessage','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','__esModule','request\x20received\x20in\x20updateCustomFields','50mb','open','envProcess','revokeInviteCode','updateChatWithMessage','\x20using\x20the\x20proxy:','archive','):\x20Criando\x20fluxo...','messages.upsert','Erro\x20ao\x20deletar\x20chat:','cleanStore','del','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','AutomateSystem','Connection','certbot','no-cache','):\x20teve\x20mudanças\x20chat.name:\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','deleteChat','VERBOSE','\x1b[46m','mongoose','updateFlowConfig','tags','DATABASE_CONNECTION_PASSWORD','deleteFlow','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','set','https://','5991414buLFXi','collections','Converted\x20image\x20deleted','createServer','info','extractRegex','flow','Audio\x20converted\x20to\x20mp4','less','):\x20teve\x20mudanças\x20chat.displayName:\x20','contacts','DELETED','ReplyOption\x20com\x20ID\x20','\x22\x20-\x20NOT\x20CONNECTION','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','customFields','dark','audioMessage','Image\x20path:\x20','errors','entries','env.KEY\x20!==\x20key','):\x20Criando\x20nova\x20conversa[createNewConversation]','keys','shift','Cannot\x20','AddChatLabel','updateProfilePicturePrivacy','createFlow','lastReceivedMessage','):\x20Conversa\x20inserida\x20com\x20sucesso.','addReplyOption','\x1b[41m','remove.instance','isJidGroup','removeOlderDisconnectedInstances','updatePresence','viewOnceMessage','PLAYED','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','store','STATUS_INSTANCE','deleteMessage','findByIdAndUpdate','message','):\x20Bloco\x20original\x20para\x20cópia:\x20','owner','messaging-history.set','loadInstance','verifiedName','):\x20Deletando\x20mensagem','Erro\x20ao\x20adicionar\x20label\x20','groupSettingUpdate','execSync','truncatedto','\x1b[42m','FlowRouter','listen','mentions','profilePictureUrl','request\x20received\x20in\x20editConversation','rm\x20-rf\x20','readFileSync','content','\x20\x1b[0m','findGroupInfo','request\x20received\x20in\x20updateFlowConfig','error_log','waInstances','Bad\x20Request','uazapiSendText','data','FlowController','insertMany','port','Atualização:\x20','protocolMessage','upperCase','createGroup','_FlowHistorico','\x20contacts','sendContact','.png','fetchPrivacySettings','inviteCode',',\x20resultado:\x20','Schema','\x22,\x20valor\x20a\x20substituir:\x20\x22','createJid','The\x20property\x20cannot\x20be\x20empty','values','sendDataWebhook','getLabelModelForOwner','variables','test','query','getConversation','webhookMap','):\x20lastBlockId:\x20','findWebhook','cache','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','put','Flow\x20não\x20encontrado','updateProfileStatus','):\x20conversation.status:\x20','write','dataValidate','auth','saveChatVariables','lean','leadInfo.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','messageHandle','toDataURL','Erro\x20ao\x20copiar\x20dados:','Connection\x20closed\x20for\x20instance:\x20','/media/','setHeader','hbs','request\x20received\x20in\x20editFlowgroup','scheduleSendText','document','contact','picture','updateProfileName','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','24QfNUOH','content-disposition','Início','redis','hDel','mediaSticker','URL','findGroup','Message','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','REDIS','eventEmitter','\x20minutos.\x20Será\x20às\x20','toLocaleString','Flow\x20already\x20exists','fetchStatus','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','reactionMessage','type','mongodb','Group\x20not\x20found','footerText','createSectionsFromValues','trim','\x20is\x20already\x20in\x20use.','update','getRandomText','ini','email','\x20}\x0a','menuType','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','ephemeralMessage','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.',',\x20Expiration\x20Time:\x20','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','):\x20Editando\x20grupo\x20do\x20fluxo...','header','phoneNumber','Read\x20messages\x20fail','replyOptions','eventemitter2','substring','latitude','\x20minutos...',',\x20saindo.','editFlow','onWhatsApp','Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','EMAIL','USER','pt-BR','reconnectAttempts','):\x20delete\x20=\x20true','pollCreationMessageV2','reference','processblock','join','Audio\x20is\x20url','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','686DGXjpu','includes','Conexão\x20estabelecida','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','cleaningUp','groupToggleEphemeral','Reinicialização\x20iniciada:\x20','has','list','redisEnv','fetchConversation','isBase64','request\x20received\x20in\x20starFlow','Falta\x20informação\x20para\x20a\x20chamada\x20API','Erro\x20ao\x20editar\x20a\x20conversa:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','parse','removed','updatePrivacySettings','delAll','URI','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','groupHandler','fetchLatestBaileysVersion','Instance\x20\x22','getContactModelForOwner','class-validator','groupUpdateDescription','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','request\x20received\x20in\x20allFlows','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','timerId','labels.edit','messages','deleteInstance','dyndns.org','getProfileName','deleteOne','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','formatStatusMessage','env','deleteReplyOption','OrAnd','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Rótulo\x20deletado:','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','routerPath','chatHandle','name','QRCODE_UPDATED',',\x20lastCondition:\x20','username','subject','*Pergunta*:\x20\x0a','\x1b[43m','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','ProxyAgent','Failed\x20to\x20get\x20IP\x20from\x20','creation','removeData','variablesToObject','Audio\x20processed','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','getScheduleMessage','waMonitor','):\x20Conversas\x20encontradas:','available','PRIVKEY','connectedClient','readData','output','headerString','Error\x20removing\x20profile\x20picture','^\x5cd+([-]\x5cd+)*@g.us$','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','ENABLED','):\x20Editando\x20variável\x20do\x20fluxo...','array','):\x20Flow\x20desativado','emit','Unauthorized','MESSAGES_UPSERT','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','SSL_CONF','E-mail:\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','groups_ignore','findAndReplace','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','automateSystem','@ffmpeg-installer/ffmpeg','fetchProfilePictureUrl','apply','MESSAGES_SET','greater','cpf','badSession','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','and','locationMessage','imageMessage','sendMenu','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','audio/mp4','):\x20Edit\x20schedule\x20message...','tryProxy','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','fetchLabels','groupRevokeInvite','\x20-y','-instances','textMessage','authorization','testProxy\x20response\x20from\x20','InstancesAsDisconnectedX','Hash\x20to\x20image\x20name:\x20','.TEL;waid=','deleteDoneMessages','blockId','profile','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Hash\x20to\x20audio\x20name:\x20','^\x5cd+[\x5c.@\x5cw-]+','fetchProfile','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','):\x20Current\x20Time:\x20','uazapiSendContact','isConnected','1124420BcYSHi','removeProfilePicture','DOCKER_ENV','lastDisconnect','endsWith','uazapi','abs','long','$set','sha256','authModel','choices','createProxyConfig','pollCreationMessage','hasOwnProperty','saveMediaToFile','text/event-stream','.jwt','group-participants.update','):\x20Enviando\x20mídia','newStoppedUntil','connectToWhatsapp','object','stringify','jsonschema','inner','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):\x20Enviando\x20contato','flowPrefixCommand','/message','syscall','Error\x20change\x20group\x20name','KEY','):\x20conversation.waitingMenu_name','color','Button\x20texts\x20cannot\x20be\x20repeated','Original\x20filename:','CLEANING_INTERVAL','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','default','Error\x20headers:','editConversation','getAutomateSystem','bulkWrite','\x1b[34m%s\x1b[0m','replaceVariablesLogs','File\x20written\x20to\x20path:\x20','round','\x5c$&','groupCreate','uncaughtException','count','request\x20received\x20in\x20editFlowcondition','getLastMessage','scheduleSendAudio','CONECTADO\x20À\x20UAZAPI','\x1b[40m','3IYHEJW','processingScheduleMessageId','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','REDIS_ENABLED','copyBlock','StatusJidList\x20is\x20required','InstancesAlterarTodas','endSession','replyOption','apikey','announce','ORG:','CONTACTS_UPDATE','key','statusCode','waUploadToServer','messages.update','getBase64FromMediaMessage','Temp\x20audio\x20deleted','):\x20Alterando\x20fluxo...','AutomateSystem\x20não\x20foi\x20inicializado','isInteger','pino','width','Processing\x20audio','Temp\x20audio\x20path:\x20','\x22\x20-\x20REMOVED','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','caption','model','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','https://uazapi-plugin.bubbleapps.io/','):\x20Editando\x20condição\x20do\x20fluxo...','Instance\x20restarted','slice','apiName','action','locked','instanceCount','headers','app','getStatus','editedMessage','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','readMessage','Archiving\x20chat','FlowModel','equal','state','when','audioWhatsapp','INFO','creds','\x5cd+','allContacts','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Fetching\x20business\x20profile','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','dbServer','send','/*.json','views','The\x20\x22','sendStatus','exists','DATABASE','convert','DB_PREFIX_NAME','The\x20global\x20api\x20key\x20must\x20be\x20set','groupSetting','hex','express-async-errors','videoMessage','getMinutes','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','contact_blacklist','optionDescription','/config','Trying\x20to\x20get\x20business\x20profile','connectionStatus','participants','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','):\x20teve\x20mudanças\x20chat.archived:\x20','\x20não\x20encontrado\x20para\x20atualização.','_id','presence.update','saveVariable','request\x20received\x20in\x20fetchConversation','\x1b[32m%s\x1b[0m','request\x20received\x20in\x20editFlow','):\x20Enviando\x20enquete','authState','dbInstance','findAll','stanzaId','viewOnceMessageV2Extension','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','ContactModel','contactMessage','LICENSE_INVALID','sendMedia','mimetype','Image\x20converted\x20to\x20WebP','\x1b[36m','saveConversationToDatabase','augusto.fcs@gmail.com','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','request\x20received\x20in\x20scheduleMessage','goToFlow','TYPE','participant','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','sections','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Configuração\x20de\x20proxy\x20inválida\x20gerada.','getMessage','flowConversation','data:\x20','desativadoFluxoAte','isBusiness','remoteJid','\x20não\x20encontrado\x20para\x20cópia','/wa-connection-update','lastSendMessage','presence','Not\x20Found','\x1b[36m%s\x1b[0m','minutesToClose','setRestartTimer','DARK','Telefone:\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','backgroundColor','jid','quoted','Erro\x20ao\x20editar\x20o\x20replyOption:\x20',',\x20pairCode:\x20','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Getting\x20profile\x20with\x20jid:\x20','remoteJidsRemaining','getFlow','):\x20customFieldVariables','address','labels.association','messagesSend','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','AUTHENTICATION_API_KEY','\x20quoted:\x20','sleep','secondValue','request','):\x20Falha\x20ao\x20deletar\x20mensagem.','groups.update','):\x20Deletando\x20fluxo...','number','split','/clients-info','processgoToFlow','loadEnv','password','\x1b[30m%s\x1b[0m','birthtime','Button\x20IDs\x20cannot\x20be\x20repeated.','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','some','flowConfig','SINGLE_SELECT','SERVER_ACK','}}\x20->\x20\x22','Erro\x20ao\x20aplicar\x20varedit:\x20','toLowerCase','getBusinessProfile','stopWhenYouSendMsg','createNewConversation','Error\x20updating\x20participants','Initial\x20__dirname:','):\x20Deletando\x20conversa...','METHODS','):\x20Error\x20processing\x20conditions:\x20','startsWith','STORE_MESSAGE','EMAIL:','lowerCase','fetchBusinessProfile','sendList','arrayUnique','sendPresenceUpdate','throwAndLogError','expression','\x1b[1m','option','group\x20ignored','API\x20Key\x20inválida.','getMIMEType','AUTHENTICATION_JWT_SECRET','firstValue','min','Output\x20path:\x20','copyDataToNewModel','Erro\x20ao\x20atualizar\x20o\x20fluxo:','events','code','\x20-\x20ON:\x20','\x20segundos','image','isRunning','remove','pushName','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','chats.delete','composing','5104590vNspTJ','toBRL','blockLogs','Erro\x20ao\x20configurar\x20proxy:\x20','node-mime-types','):\x20Ignoring\x20group\x20messages.','Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','groupUpdateSubject','/wa-presence','Log\x20out\x20instance:\x20','updateMany','connecting','statusMessage','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Fluxo\x20não\x20encontrado','Close\x20connection','\x20-i\x20','push','error','toggleEphemeral','stopped','Validate','$unset','pollUpdateMessage','./.git/config','findAndReplaceRegex','vote','empty','requested\x20testProxy','/events/:instance','text','poll','capitalizedWords','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20updateResult:','processvaredits','$dbName','SendScheduleMessage','convertedOptions','\x1b[33m%s\x1b[0m','connectToWhatsappController','messageId','):\x20Limpando\x20delayMessage','flowStopConversation','Unknown\x20message\x20type\x20or\x20empty\x20message','getOwnPropertyDescriptor','toNumber','getFlowModelForOwner','):\x20Procurando\x20conversa','uazapiSendMenu','Erro\x20ao\x20editar\x20o\x20bloco:\x20','insertCount','delaySecMin','waitingMenu_id','@whiskeysockets/baileys','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','SUCCESS','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','getMessageModelForOwner','GUARD','updateReplyOption','addresss','loggedOut','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','toUpperCase','STORE_CHATS','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','URL\x20limpa:\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','app-state-sync-key','pollMessage','No\x20participants','readMessages','groupMetadata','error\x20get\x20vote','reconnectTimestamps','item','Erro\x20ao\x20buscar\x20conversa:\x20','allflows','getConversationModelForOwner','created','/wa-groups','deleteConversation','isLong','storePath','protocol','groupName','waitingMenu_replyOptions','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','Deletion\x20failed','Db\x20Connection','bateu\x20events','STORE_CLEANING_TERMINAL','defineAuthState','deletedCount','find','#ffffff','updateGroupPicture','originalUrl','This\x20name\x20','request\x20body:\x20','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','flowName','Error\x20change\x20group\x20setting','\x1b[30m','editOperator','urlOrBase64','@broadcast','js-yaml','parseInt','):\x20Enviando\x20localização','reviver','statusJidList','EXPIRIN_IN','_error','add','RemoveChatLabel','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','updateMessage','selectableCount','labelId','Chat\x20com\x20ID\x20','conversation','json','label','Erro\x20ao\x20deletar\x20mensagens:','promote','ignoreGroups','findByIdAndDelete','realVariables','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','release','AUTHENTICATION','\x1b[47m','qrCode','createConversationforStartFlow','ephemeralExpiration','varedit','saveTextReply','sort','https://jsonip.com','instance.','normalizeMessage','Nenhum\x20chat\x20encontrado\x20para\x20editar.','sending','PENDING','\x20do\x20chat\x20','folder','DATABASE_CONNECTION_HOST','AllProxy','hSet','request\x20received\x20in\x20deleteConversation','createWebhook','findIndex','start','Image\x20is\x20base64','newValue','instanceKeys','No\x20response\x20received:','flowActive','https://uazapi-plugin.bubbleapps.io/?url=','temp-','allFlows','buffer','createflow','LOG','Cache-Control','function','variablesNotFound','editFlowReply','Error\x20updating\x20message\x20status:','https://api.ipify.org?format=json','send.message','BRL','router','instances','senderKeyDistributionMessage','shutdown\x20-r\x20now','SERVER','request\x20received\x20in\x20getConversation','fone','padEnd','sendText','Getting\x20audio\x20from\x20url','instanceName','recording','.mp3','CHATS_UPSERT','reorderBlocks','privacySettings','vcard','):\x20Buscando\x20flow...','leaveGroup','WARN','menuExpiredMessage','requestPairingCode','stopConversation','/wa-qrcode','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Erro\x20ao\x20importar\x20chats:','leadInfo','^\x5cd+','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','not\x20loaded','\x20saindo\x20da\x20função','editflowgroup','message_normalized','entrou\x20na\x20função\x20importChats2','findGroupInfos','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','webp','flowname:\x20','generateHash','Subscribed\x20Events:','convertToWebP','No\x20join\x20group\x20invite\x20code\x20or\x20url','mediaMessage','Fluxos\x20não\x20estão\x20ativados','../env.yml','process','Variável\x20não\x20encontrada!','AutomateFunctions','uazapiDeleteMessage','):\x20Editando\x20replyOption...','mediaKey','fetchProfile2','/wa-message','notas','g.us','listMessage','.X-ABLabel:Celular\x0a','.mp4','user','contactsArrayMessage','getTicketSystem','map','setting','Data\x20inválida\x20fornecida','editFlowGroup','success','findOne','proto','getAllData','):\x20atualização\x20chat:\x20','boolean','):\x20Erro\x20ao\x20buscar\x20conversas\x20','readreceipts','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','documentWithCaptionMessage','):\x20não\x20encontrou','\x20ao\x20chat\x20','errno','notEmpty','groups','contactname','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','drop','CREDENTIALS','DD/MM\x20HH:mm:ss','/wa-message-update','messageContextInfo',',\x20Minutes\x20to\x20Close:\x20','flushHeaders','Media\x20folder\x20path:','\x20chats\x20de\x20','localWebhook','PORT','random','base64','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','CHATS_SET','fileName','@s.whatsapp.net','editFlowBlock','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Read\x20messages','LOG_LEVEL','\x1b[31m','):\x20Editando\x20edição\x20do\x20fluxo...','Deleted\x20','upsertChats','BufferJSON','qrcode-terminal','condition','ex:\x20\x22groupJid=120362@g.us\x22','.ogg','findById','):\x20Bloco\x20com\x20ID\x20','):\x20Não\x20achou\x20nenhum\x20flow','Parando\x20aplicação...','path','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','reaction','CONNECTION','):\x20debug\x20alterando\x20this.AutomateSystem','msgRetryCounterCache','replaceVariablesInReplyOptions','exec','lastInteraction','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','isArray','listResponseMessage','notMatchRegex','readMessageBot','contacts.upsert','finish','connectionState','blocks','contextInfo','string','isJidUser','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','updateProfilePicture','processApiRequest','Module\x20-\x20ON','lastmsg','audio/ogg','size','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','archiveChat','label_jid','findFlow','fromMe','pairingCode','dbClient','FULLCHAIN','lastSend','setWebhook','Error\x20in\x20markMessageAsRead:','Flow\x20iniciado\x20com\x20','$pull','unreadcount','fileUrl','match','chatId','call','_ScheduleMessages','Erro\x20inesperado\x20em\x20processvaredits:\x20','Selecione','Error\x20data:','connection.update','chatLog','):\x20Buscando\x20todos\x20os\x20fluxos...','unlinkSync','stickerMessage','findConversation','responsavelid','website','sendButtons','warn','repeat','webhook','):\x20leadInfoVariables','groupFetchAllParticipating','chats.update','getflow','editflowreply','encoding','):\x20Erro\x20ao\x20criar\x20fluxo\x20','proxy-agent','connectionUpdate','/chat','):\x20Enviando\x20áudio',',\x20fará\x20nova\x20verificação\x20em\x20','content-type','_Flows','webhookService','DisconnectReason','subdomain','messageTimestamp','audio/aac','ip:\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','listType','linkPreview','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','insert','wuid','unavailable','):\x20Buscando\x20conversa...','Error\x20update\x20group\x20picture','toFile','updateConversation','/instance/create','sharp','exit','command','):\x20alterando\x20this.AutomateSystem','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','prepareMediaMessage','everyOne','editScheduleMessage','updateParticipant','DEBUG','enabled','processConditions','TEXT','\x20instance\x20does\x20not\x20exist','fetchInstances','body','goNextblock','log','2548440KrAVEa','conversationTimestamp','removeInstance','rows','Output\x20audio\x20path:\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','\x20não\x20encontrado','notEqual','deleteflow','longitude','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','uazapiSendAudio','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','Error\x20change\x20group\x20description','deleteMany','isJWT','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','):\x20Conversa\x20está\x20expirada','delay','metadata','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','removeChatLabel','statSync','replace','buttonId','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','Error\x20updating\x20profile\x20status','filter','sendMessage','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','updateGroupsAddPrivacy','request\x20received\x20in\x20getFlow','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','\x1b[0m','CONTACTS_SET','groupParticipantsUpdate','findParticipants','audio','whatsappNumber','displayName','webhookModel','AUTHENTICATION_TYPE','https://github.com/uazapi/uazapi.git','SSL_CONF_FULLCHAIN','\x20adicionado\x20ao\x20chat\x20','\x0a*Você\x20respondeu*:\x0a','client','writeFileSync','notify','next_groupId','GROUPS_UPSERT','onTime','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','DATABASE_CONNECTION_URI','editflowcondition','fromObject','Image\x20created','charAt','request\x20received\x20in\x20createFlow','request\x20received\x20in\x20getAutomateSystem','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Bloco\x20copiado:\x20','ids','fileLength','configService','updateAgent','Unable\x20to\x20leave\x20the\x20group','getScheduleMessageModelForOwner','SERVER_TYPE','):\x20Campos\x20a\x20serem\x20atualizados:','API\x20Key\x20from\x20Request:','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','verbose','/group','Including\x20timestamp\x20in\x20url:\x20','format','not_announcement','userDevicesCache','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','saveCreds','Safari\x20(Mac\x20OS)','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Valor\x20de\x20find\x20ou\x20replace\x20ausente','replaceVariablesChat','response','fullName','Error\x20fetching\x20group','axios','instance','GROUPS_UPDATE','Database\x20is\x20not\x20enabled','pollCreationMessageKey','no.connection','sendSticker','config','floor','Type\x20not\x20found','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','subjectOwner','):\x20Enviando\x20texto','true','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','delayMessage','atendimentoAberto','/wa-contacts','noConnection','Error\x20writing\x20file:\x20','findLabels','sendLocation','Bloco\x20com\x20ID\x20','waitingMenu_text','binary','match_last_seen','post','MessageModel','):\x20Mensagem\x20já\x20enviada\x20para\x20','padStart','Instância:\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','sendCommand','AppStateSyncKeyData','Audio\x20is\x20base64','editFlowVariable','Resultado\x20da\x20atualização:','where','getTime','formatVCard','ChatModel','Converted\x20audio\x20deleted','qrcode.updated','ListType','LOG_COLOR','activatedCount','defineProperty','imagechat','block','sendPoll','close','Primeiro\x20Valor:\x20','1494cxcqFF','Type\x20is\x20required','):\x20Erro\x20ao\x20editar\x20agentes:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','express','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20',',\x20Resultado:\x20','creds.json','src','markMessageAsRead','startFlow','36100rDmvJk','readdirSync','convertaudio','leadInfo.desativadoFluxoAte','labels','getPrototypeOf','contactHandle','--agree-tos','downloads','context','Label\x20','groupadd','ERROR:\x20','#000000','apiResponse','modifiedCount','<subdomain>','pre','}}\x20->\x20valor\x20não\x20encontrado','getDevice','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','role','create','writeData','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','segundos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','buttonText','flattenObject','updateReadReceiptsPrivacy','CONTACTS_UPSERT','CONNECTION_UPDATE','expiration','addBlock','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','checkAndRestartProcess','matchRegex','):\x20','status','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','sendReaction','debug','title','enumerable','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','options','Rótulo\x20atualizado:','Error\x20status:','get','delete','1879801gYahYK','getContentType','apirequest','importChats','ListMessage','lastCondition','.chatId','editFlowVaredit','verify','createClient','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','oldValue','instancias:\x20','PRESENCE_UPDATE','updateCustomFields','application/json','editChat','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Error\x20updating\x20profile\x20name','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','none','NextBlock','limit','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','logger','existsSync','updateStopChat','authService','--standalone','authentication','MESSAGES_UPDATE','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','/exit','max','groupLeave','findContacts','creds.update','URL:','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','SSL_CONF_PRIVKEY','archived','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','pop','Business\x20profile\x20fetched','stopMinutesMaxActives','chats.set','bodyString','uuid','READ','\x0a{\x20instance:\x20','status@broadcast','utf8','updateOne','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','video','PRODUCT_LIST','presenceSubscribe','scheduled','Error\x20message:','rowId','_Chats','viewOnceMessageV2','end','namespace','Sending\x20audio\x20whatsapp','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','instanceInfo','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','reorderReplyOptions','unhandledRejection','oldToken','SERVER_OFFLINE','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','maxActives','ObjectId','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','.uazapi.dev','groupJid','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','dayjs','utf-8','/instance','conditions','nomecompleto','DATABASE_CONNECTION_USER','fetchContacts','scheduleNextCheck','DaysToDelete','\x20com\x20sucesso.','length','scheduleMessage','contacts.update'];a0_0x5cf0=function(){return _0x294175;};return a0_0x5cf0();}var Ss=R(require(a0_0x569689(0x27a))),Es=R(require('node-cache')),Tt=require('@whiskeysockets/baileys'),ur=require('@redis/client'),Rt=require(a0_0x569689(0x3b7)),Nt;function po(_0x19b3f9){const _0x1afb3a=a0_0x569689;return Nt||(Nt=(0x0,ur[_0x1afb3a(0x5e9)])({'url':_0x19b3f9[_0x1afb3a(0x206)]}),Nt[_0x1afb3a(0x6d9)]()),Nt;}var oe=class c{constructor(_0xaa52d2,_0x28add8){const _0x2c758c=a0_0x569689;this[_0x2c758c(0x1fb)]=_0xaa52d2,this[_0x2c758c(0x439)]=_0x28add8,this['logger']=new v(c[_0x2c758c(0x222)]),this[_0x2c758c(0x543)]=po(_0xaa52d2);}set[a0_0x569689(0x1ec)](_0x52f169){this['instanceName']=_0x52f169;}async[a0_0x569689(0x41e)](){const _0x5c1134=a0_0x569689;try{return await this[_0x5c1134(0x543)][_0x5c1134(0x58d)]([_0x5c1134(0x77d),this[_0x5c1134(0x1fb)][_0x5c1134(0x65b)]+':*']);}catch(_0x4af004){this[_0x5c1134(0x5f9)]['error'](_0x4af004);}}async[a0_0x569689(0x5c5)](_0x5d76be,_0x2ef696){const _0x1b7326=a0_0x569689;try{let _0x3af361=JSON['stringify'](_0x2ef696,Rt[_0x1b7326(0x49a)][_0x1b7326(0x6b8)]);return await this[_0x1b7326(0x543)][_0x1b7326(0x417)](this[_0x1b7326(0x1fb)][_0x1b7326(0x65b)]+':'+this[_0x1b7326(0x439)],_0x5d76be,_0x3af361);}catch(_0x412b0a){this[_0x1b7326(0x5f9)][_0x1b7326(0x393)](_0x412b0a);}}async[a0_0x569689(0x473)](){const _0x461f3c=a0_0x569689;try{let _0x3fbb96=await this[_0x461f3c(0x543)]['hGetAll'](this[_0x461f3c(0x1fb)]['PREFIX_KEY']+':'+this[_0x461f3c(0x439)]);if(_0x3fbb96){for(let _0x133b6b in _0x3fbb96)Object['prototype'][_0x461f3c(0x281)][_0x461f3c(0x4d1)](_0x3fbb96,_0x133b6b)&&(_0x3fbb96[_0x133b6b]=JSON[_0x461f3c(0x202)](_0x3fbb96[_0x133b6b],Rt['BufferJSON'][_0x461f3c(0x3f0)]));return _0x3fbb96;}}catch(_0x393290){this[_0x461f3c(0x5f9)]['error'](_0x393290);}}async['readData'](_0x1b53a9){const _0x55de03=a0_0x569689;try{let _0x42bdae=await this[_0x55de03(0x543)]['hGet'](this[_0x55de03(0x1fb)][_0x55de03(0x65b)]+':'+this[_0x55de03(0x439)],_0x1b53a9);if(_0x42bdae)return JSON['parse'](_0x42bdae,Rt[_0x55de03(0x49a)][_0x55de03(0x3f0)]);}catch(_0x217c93){this['logger'][_0x55de03(0x393)](_0x217c93);}}async[a0_0x569689(0x22d)](_0x44497b){const _0x101588=a0_0x569689;try{return await this[_0x101588(0x543)][_0x101588(0x1b8)](this['redisEnv'][_0x101588(0x65b)]+':'+this[_0x101588(0x439)],_0x44497b);}catch(_0x327075){this[_0x101588(0x5f9)]['error'](_0x327075);}}async[a0_0x569689(0x205)](_0x1dfb74){const _0x566bd1=a0_0x569689;try{return await this[_0x566bd1(0x543)][_0x566bd1(0x753)](_0x1dfb74||this[_0x566bd1(0x1fb)][_0x566bd1(0x65b)]+':'+this['instanceName']);}catch(_0x38ea73){this[_0x566bd1(0x5f9)][_0x566bd1(0x393)](_0x38ea73);}}};async function fs(_0x4a69c4,_0x3f20eb){const _0x1b7be9=a0_0x569689;let _0x4c21d3=new v(fs[_0x1b7be9(0x222)]),_0x4120b1=new oe(_0x4a69c4,_0x3f20eb),_0x2a8096=async(_0x733f6,_0x4d925b)=>{const _0x425d8b=_0x1b7be9;try{return await _0x4120b1[_0x425d8b(0x5c5)](_0x4d925b,_0x733f6);}catch(_0x5eabed){return _0x4c21d3[_0x425d8b(0x393)]({'localError':_0x425d8b(0x5c5),'error':_0x5eabed});}},_0x1ca497=async _0x31d063=>{const _0x3e9475=_0x1b7be9;try{return await _0x4120b1[_0x3e9475(0x237)](_0x31d063);}catch(_0x554069){_0x4c21d3[_0x3e9475(0x393)]({'readData':'writeData','error':_0x554069});return;}},_0xbb263b=async _0x5371e3=>{const _0x4ff48e=_0x1b7be9;try{return await _0x4120b1[_0x4ff48e(0x22d)](_0x5371e3);}catch(_0x531f9a){_0x4c21d3[_0x4ff48e(0x393)]({'readData':_0x4ff48e(0x22d),'error':_0x531f9a});}},_0xfcb838=await _0x1ca497(_0x1b7be9(0x2e0))||(0x0,Tt['initAuthCreds'])();return{'state':{'creds':_0xfcb838,'keys':{'get':async(_0x262091,_0x469f58)=>{const _0x9ba982=_0x1b7be9;let _0x2af82c={};return await Promise[_0x9ba982(0x741)](_0x469f58[_0x9ba982(0x46c)](async _0x2d4fec=>{const _0x550de1=_0x9ba982;let _0x29950=await _0x1ca497(_0x262091+'-'+_0x2d4fec);_0x262091===_0x550de1(0x3c6)&&_0x29950&&(_0x29950=Tt[_0x550de1(0x472)][_0x550de1(0x1bc)][_0x550de1(0x58e)][_0x550de1(0x54c)](_0x29950)),_0x2af82c[_0x2d4fec]=_0x29950;})),_0x2af82c;},'set':async _0x3406e0=>{const _0x366b28=_0x1b7be9;let _0x5a0b4e=[];for(let _0x569a8e in _0x3406e0)for(let _0x5b6612 in _0x3406e0[_0x569a8e]){let _0x39987b=_0x3406e0[_0x569a8e][_0x5b6612],_0x1ef35e=_0x569a8e+'-'+_0x5b6612;_0x5a0b4e[_0x366b28(0x392)](_0x39987b?await _0x2a8096(_0x39987b,_0x1ef35e):await _0xbb263b(_0x1ef35e));}await Promise[_0x366b28(0x741)](_0x5a0b4e);}}},'saveCreds':async()=>await _0x2a8096(_0xfcb838,_0x1b7be9(0x2e0))};}var k=R(require('fs')),fe=require(a0_0x569689(0x611)),It=R(require(a0_0x569689(0x502))),wr=require(a0_0x569689(0x4e9)),go=a0_0x569689(0x210)['trim'](),ys=go[a0_0x569689(0x348)]('\x0a')['map'](_0x923617=>{const _0x2670fa=a0_0x569689;let _0x261a9=_0x923617['split'](':');return{'host':_0x261a9[0x0],'port':_0x261a9[0x1],'username':_0x261a9[0x2],'password':_0x261a9[0x3],'protocol':_0x2670fa(0x66b)};});function dr(){const _0x224748=a0_0x569689;if(ys['length']===0x0)return null;let _0x187d8b=Math[_0x224748(0x574)](Math['random']()*ys[_0x224748(0x63c)]);return ys[_0x187d8b];}function ws(_0x446cb1){const _0x54b643=a0_0x569689;return _0x446cb1&&_0x446cb1[_0x54b643(0x6af)]&&_0x446cb1[_0x54b643(0x7b1)]&&_0x446cb1['username']&&_0x446cb1['password'];}var br='Chrome',Ms,ie=null,pr=null,He=null,ho=0x3,mo=null,Sr=!0x1;async function fo(){const _0x1efe69=a0_0x569689;let _0x3ce501=await me[_0x1efe69(0x471)]();ie=_0x3ce501?.['WebhookGlobal']??null,mo=_0x3ce501?.[_0x1efe69(0x63a)]??null,br=_0x3ce501?.[_0x1efe69(0x236)]??_0x1efe69(0x6f9),Ms=_0x3ce501?.['connectedName']??Cs??'uazapi',Sr=_0x3ce501?.[_0x1efe69(0x416)]??!0x1,console[_0x1efe69(0x513)]('CONFIGURAÇÃO\x20GERAL:'),console['log'](_0x3ce501);}async function yo(){await fo();}yo();function _(_0x7167d2){const _0x57543a=a0_0x569689;if(_0x7167d2[_0x57543a(0x78b)]||_0x7167d2['viewOnceMessageV2']){let _0x28e35d=_0x7167d2['viewOnceMessage']?_0x7167d2[_0x57543a(0x78b)][_0x57543a(0x793)]:_0x7167d2[_0x57543a(0x620)][_0x57543a(0x793)];return(0x0,y[_0x57543a(0x5e1)])(_0x28e35d);}return _0x7167d2['pollCreationMessageV3']?'pollCreationMessageV3':_0x7167d2[_0x57543a(0x1eb)]?_0x57543a(0x1eb):_0x7167d2[_0x57543a(0x30c)]?_0x57543a(0x30c):(0x0,y[_0x57543a(0x5e1)])(_0x7167d2);}var gr={},ye=class c{constructor(_0xa127a6,_0x1e58e4,_0x83a1ff){const _0x51c3c7=a0_0x569689;this[_0x51c3c7(0x555)]=_0xa127a6,this[_0x51c3c7(0x1bf)]=_0x1e58e4,this[_0x51c3c7(0x73b)]=_0x83a1ff,this['AutomateSystem']=null,this[_0x51c3c7(0x5f9)]=new v(c[_0x51c3c7(0x222)]),this[_0x51c3c7(0x56d)]={},this['localWebhook']={},this['stateConnection']={'state':_0x51c3c7(0x59f)},this[_0x51c3c7(0x3d5)]=(0x0,P[_0x51c3c7(0x1ee)])(ae,'downloads'),this[_0x51c3c7(0x4a8)]=new Es['default'](),this[_0x51c3c7(0x562)]=new Es[(_0x51c3c7(0x29a))](),this[_0x51c3c7(0x2b3)]=!0x1,this[_0x51c3c7(0x7c8)]={'status.instance':'/wa-connection-update','qrcode.updated':_0x51c3c7(0x446),'messages.upsert':_0x51c3c7(0x463),'messages.update':_0x51c3c7(0x484),'send.message':_0x51c3c7(0x463),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0x51c3c7(0x3d2),'connection.update':_0x51c3c7(0x327),'messages.set':_0x51c3c7(0x463),'contacts.set':'/wa-contacts','contacts.upsert':_0x51c3c7(0x57d),'contacts.update':'/wa-contacts','presence.update':_0x51c3c7(0x388),'chats.set':_0x51c3c7(0x6c6),'chats.update':_0x51c3c7(0x6c6),'chats.upsert':_0x51c3c7(0x6c6),'chats.delete':_0x51c3c7(0x6c6)},this[_0x51c3c7(0x1e9)]=0x0,this['reconnectTimestamps']=[],this[_0x51c3c7(0x6da)]=0xf,this[_0x51c3c7(0x69d)]=0x7530,this[_0x51c3c7(0x37a)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x5cbdae,_0x3d36d5)=>{const _0x3083f3=_0x51c3c7;let _0x6ebd8=[];for await(let _0x1da5d4 of _0x5cbdae)_0x6ebd8[_0x3083f3(0x392)]({'_id':_0x1da5d4['id'],'owner':this[_0x3083f3(0x56d)][_0x3083f3(0x4fb)],'group':_0x1da5d4['id'][_0x3083f3(0x277)](_0x3083f3(0x660)),'name':_0x1da5d4[_0x3083f3(0x222)]||_0x1da5d4['displayName']||null,'contactname':null,'lastmsg':_0x1da5d4['conversationTimestamp']&&_0x1da5d4[_0x3083f3(0x515)][_0x3083f3(0x6be)]()[_0x3083f3(0x63c)]<0xd?_0x1da5d4[_0x3083f3(0x515)]*0x3e8:_0x1da5d4[_0x3083f3(0x515)]||null,'archived':_0x1da5d4['archived']||!0x1,'unreadcount':_0x1da5d4['unreadCount']||0x0});this[_0x3083f3(0x7c2)](_0x3083f3(0x6d0),_0x6ebd8);},'chats.update':async(_0x39194d,_0x2b7c36)=>{const _0x2851cb=_0x51c3c7;for(let _0x568fb0 of _0x39194d){let _0xac4d33={'_id':_0x568fb0['id'],'owner':this[_0x2851cb(0x56d)][_0x2851cb(0x4fb)],'group':_0x568fb0['id'][_0x2851cb(0x277)]('@g.us'),'name':_0x568fb0['name']||_0x568fb0[_0x2851cb(0x53c)],'archived':_0x568fb0['archived'],'ephemeralExpiration':_0x568fb0['ephemeralExpiration']},_0x5a8da5=!0x1,_0x69794d={};_0xac4d33['archived']!=null&&(this[_0x2851cb(0x5f9)][_0x2851cb(0x55d)](this['instanceName']+'\x20('+this[_0x2851cb(0x56d)][_0x2851cb(0x4fb)]+_0x2851cb(0x2ff)+_0x568fb0[_0x2851cb(0x60a)]),_0x5a8da5=!0x0,_0x69794d[_0x2851cb(0x60a)]=_0x568fb0[_0x2851cb(0x60a)]),_0x568fb0['name']!=null&&(this[_0x2851cb(0x5f9)][_0x2851cb(0x55d)](this[_0x2851cb(0x439)]+'\x20('+this['instance'][_0x2851cb(0x4fb)]+_0x2851cb(0x759)+_0x568fb0[_0x2851cb(0x222)]),_0x5a8da5=!0x0,_0x69794d[_0x2851cb(0x222)]=_0x568fb0[_0x2851cb(0x222)]),_0x568fb0[_0x2851cb(0x53c)]!=null&&(this['logger']['verbose'](this[_0x2851cb(0x439)]+'\x20('+this[_0x2851cb(0x56d)][_0x2851cb(0x4fb)]+_0x2851cb(0x76f)+_0x568fb0[_0x2851cb(0x53c)]),_0x5a8da5=!0x0,_0x69794d[_0x2851cb(0x222)]=_0x568fb0['displayName']),_0x568fb0[_0x2851cb(0x409)]!=null&&(this[_0x2851cb(0x5f9)][_0x2851cb(0x55d)](this[_0x2851cb(0x439)]+'\x20('+this[_0x2851cb(0x56d)]['wuid']+_0x2851cb(0x76f)+_0x568fb0['ephemeralExpiration']),_0x5a8da5=!0x0,_0x69794d[_0x2851cb(0x409)]=_0x568fb0[_0x2851cb(0x409)]);let _0x30759f;_0x5a8da5&&(_0x30759f=await this[_0x2851cb(0x73b)][_0x2851cb(0x674)][_0x2851cb(0x616)]({'where':{'_id':_0x568fb0['id']}},_0x69794d,this[_0x2851cb(0x56d)][_0x2851cb(0x4fb)])),_0x30759f&&q(this[_0x2851cb(0x439)],_0x2851cb(0x6ee),{'chat':_0x30759f});}},'chats.delete':async _0x3c7a75=>{const _0x1cf262=_0x51c3c7;this[_0x1cf262(0x7c2)](_0x1cf262(0x37e),[..._0x3c7a75]);}},this[_0x51c3c7(0x5b3)]={'contacts.upsert':async(_0x41a893,_0x15108f)=>{const _0x9d9d23=_0x51c3c7;let _0x46cc72=await this[_0x9d9d23(0x73b)][_0x9d9d23(0x1b0)][_0x9d9d23(0x3e0)]({'where':{}},this[_0x9d9d23(0x56d)][_0x9d9d23(0x4fb)]),_0x5ec3e6=[];for await(let _0x14dc78 of _0x41a893)_0x46cc72[_0x9d9d23(0x3e0)](_0x5df604=>_0x5df604[_0x9d9d23(0x301)]===_0x14dc78['id'])||_0x5ec3e6[_0x9d9d23(0x392)]({'_id':_0x14dc78['id'],'pushName':_0x14dc78?.[_0x9d9d23(0x222)]||_0x14dc78?.[_0x9d9d23(0x798)],'owner':this[_0x9d9d23(0x56d)][_0x9d9d23(0x4fb)]});this[_0x9d9d23(0x7c2)](_0x9d9d23(0x4b2),_0x5ec3e6),await this[_0x9d9d23(0x73b)][_0x9d9d23(0x1b0)][_0x9d9d23(0x4fa)](_0x5ec3e6);},'contacts.update':async(_0x10f47b,_0x552b9c)=>{const _0xaa6ea9=_0x51c3c7;let _0x2ed757=[];for await(let _0x1c8987 of _0x10f47b)_0x2ed757[_0xaa6ea9(0x392)]({'_id':_0x1c8987['id'],'pushName':_0x1c8987?.[_0xaa6ea9(0x222)]??_0x1c8987?.['verifiedName'],'owner':this[_0xaa6ea9(0x56d)]['wuid']});this[_0xaa6ea9(0x7c2)]('contacts.update',_0x2ed757);}},this[_0x51c3c7(0x1a6)]={'messaging-history.set':async({messages:_0x164104,chats:_0x2b3145,isLatest:_0x51bad0},_0x3cbb9e)=>{const _0x99baef=_0x51c3c7;if(_0x51bad0){let _0x4d8875=await Promise['all'](_0x2b3145[_0x99baef(0x46c)](async _0x4585de=>({'_id':_0x4585de['id'],'owner':this[_0x99baef(0x56d)][_0x99baef(0x4fb)],'group':_0x4585de['id'][_0x99baef(0x277)](_0x99baef(0x660)),'name':_0x4585de['name']||_0x4585de[_0x99baef(0x53c)]||null,'contactname':null,'lastmsg':_0x4585de['conversationTimestamp']&&_0x4585de[_0x99baef(0x515)]['toString']()[_0x99baef(0x63c)]<0xd?_0x4585de[_0x99baef(0x515)]*0x3e8:_0x4585de[_0x99baef(0x515)]||null,'archived':_0x4585de[_0x99baef(0x60a)]||!0x1,'unreadcount':_0x4585de['unreadCount']||0x0})));this[_0x99baef(0x7c2)](_0x99baef(0x60f),_0x4d8875),await this[_0x99baef(0x499)](_0x4d8875,_0x3cbb9e);}let _0x5961a1=[],_0x379b81=Date[_0x99baef(0x70c)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x521757]of Object[_0x99baef(0x77a)](_0x164104)){if(_0x521757[_0x99baef(0x793)]?.[_0x99baef(0x7b3)]||_0x521757[_0x99baef(0x793)]?.['senderKeyDistributionMessage']||!_0x521757[_0x99baef(0x793)]||_0x521757[_0x99baef(0x2b9)][_0x99baef(0x325)]===_0x99baef(0x614)||(Ss['default'][_0x99baef(0x3d4)](_0x521757?.[_0x99baef(0x4f3)])&&(_0x521757[_0x99baef(0x4f3)]=_0x521757[_0x99baef(0x4f3)]?.[_0x99baef(0x3af)]()),_0x521757[_0x99baef(0x4f3)]&&_0x521757[_0x99baef(0x4f3)][_0x99baef(0x6be)]()[_0x99baef(0x63c)]<0xd&&(_0x521757[_0x99baef(0x4f3)]=_0x521757['messageTimestamp']*0x3e8),_0x521757['messageTimestamp']<_0x379b81))continue;let {message_normalized:_0x168885}=this[_0x99baef(0x40f)](_0x521757[_0x99baef(0x793)],_(_0x521757['message']),null);Object[_0x99baef(0x77d)](_0x168885)[_0x99baef(0x63c)]>0x0&&_0x5961a1[_0x99baef(0x392)]({'_id':_0x521757[_0x99baef(0x2b9)]['id'],'key':_0x521757[_0x99baef(0x2b9)],'pushName':_0x521757[_0x99baef(0x37c)],'participant':_0x521757[_0x99baef(0x31b)],'message':{..._0x521757['message']},'messageType':_(_0x521757[_0x99baef(0x793)]),'message_normalized':{'key':_0x521757[_0x99baef(0x2b9)],'pushName':_0x521757[_0x99baef(0x37c)],'messageTimestamp':_0x521757[_0x99baef(0x4f3)],..._0x168885},'messageTimestamp':_0x521757['messageTimestamp'],'owner':this['instance'][_0x99baef(0x4fb)]});}_0x3cbb9e['ENABLED']&&_0x5961a1[_0x99baef(0x63c)]>0x0&&(this[_0x99baef(0x5f9)]['verbose'](this['instanceName']+'\x20('+this[_0x99baef(0x56d)][_0x99baef(0x4fb)]+_0x99baef(0x5d3)+_0x5961a1['length']+'\x20mensagens\x20de\x20'+this[_0x99baef(0x56d)][_0x99baef(0x4fb)]+_0x99baef(0x244)),await this[_0x99baef(0x73b)][_0x99baef(0x793)]['insert']([..._0x5961a1],this[_0x99baef(0x56d)][_0x99baef(0x4fb)])),this['sendDataWebhook']('messages.set',[..._0x5961a1]),_0x164104=void 0x0;},'messages.upsert':async({messages:_0x1f074c,type:_0x3870d0},_0x6bf319)=>{const _0x3cfea0=_0x51c3c7;let _0x34dadb=_0x1f074c[0x0];if(_0x3870d0!==_0x3cfea0(0x545)||!_0x34dadb?.[_0x3cfea0(0x793)]||_0x34dadb[_0x3cfea0(0x793)]?.['protocolMessage']||_0x34dadb[_0x3cfea0(0x793)][_0x3cfea0(0x431)]||_0x34dadb[_0x3cfea0(0x2b9)][_0x3cfea0(0x325)]==='status@broadcast')return;let _0x39be33=null,_0xd17857=null;try{_0x39be33=await this['processPollUpdateMessage'](_0x34dadb),_0xd17857=_0x39be33?_0x39be33[_0x3cfea0(0x1ee)](','):null;}catch(_0x3ab4d1){this[_0x3cfea0(0x5f9)][_0x3cfea0(0x55d)](this[_0x3cfea0(0x439)]+'\x20('+this[_0x3cfea0(0x56d)][_0x3cfea0(0x4fb)]+_0x3cfea0(0x5d3)+(_0x3ab4d1 instanceof Error?_0x3ab4d1[_0x3cfea0(0x793)]:JSON[_0x3cfea0(0x28a)](_0x3ab4d1,null,0x2))),_0xd17857=_0x3cfea0(0x3cb);}if(this[_0x3cfea0(0x543)][_0x3cfea0(0x367)]('unavailable'),Ss['default'][_0x3cfea0(0x3d4)](_0x34dadb[_0x3cfea0(0x4f3)])&&(_0x34dadb[_0x3cfea0(0x4f3)]=_0x34dadb[_0x3cfea0(0x4f3)]?.['toNumber']()),this[_0x3cfea0(0x48a)]?.[_0x3cfea0(0x249)]&&_0x34dadb[_0x3cfea0(0x2b9)][_0x3cfea0(0x325)][_0x3cfea0(0x1f2)]('@g.us')){this[_0x3cfea0(0x5f9)][_0x3cfea0(0x55d)](_0x3cfea0(0x36c));return;}_0x34dadb[_0x3cfea0(0x4f3)]&&_0x34dadb['messageTimestamp']['toString']()[_0x3cfea0(0x63c)]<0xd&&(_0x34dadb['messageTimestamp']=_0x34dadb[_0x3cfea0(0x4f3)]*0x3e8);let _0x57ade8=_0x34dadb[_0x3cfea0(0x793)],{messageContent:_0x51fd9c,message_normalized:_0x119713}=this[_0x3cfea0(0x40f)](_0x57ade8,_(_0x34dadb[_0x3cfea0(0x793)]),_0xd17857);_0x51fd9c||console[_0x3cfea0(0x393)](_0x3cfea0(0x71d));let _0x9959af={'_id':_0x34dadb[_0x3cfea0(0x2b9)]['id'],'key':_0x34dadb[_0x3cfea0(0x2b9)],'pushName':_0x34dadb[_0x3cfea0(0x37c)],'message':{..._0x34dadb[_0x3cfea0(0x793)]},'messageType':_(_0x34dadb[_0x3cfea0(0x793)]),'message_normalized':{'key':_0x34dadb[_0x3cfea0(0x2b9)],'pushName':_0x34dadb[_0x3cfea0(0x37c)],'messageTimestamp':_0x34dadb['messageTimestamp'],'source':(0x0,y[_0x3cfea0(0x5c0)])(_0x34dadb[_0x3cfea0(0x2b9)]['id']),..._0x119713},'messageTimestamp':_0x34dadb['messageTimestamp'],'owner':this[_0x3cfea0(0x56d)][_0x3cfea0(0x4fb)],'source':(0x0,y[_0x3cfea0(0x5c0)])(_0x34dadb[_0x3cfea0(0x2b9)]['id'])};this[_0x3cfea0(0x5f9)]['log'](_0x9959af),await this[_0x3cfea0(0x73b)][_0x3cfea0(0x793)][_0x3cfea0(0x4fa)]([_0x9959af],this[_0x3cfea0(0x56d)][_0x3cfea0(0x4fb)]),this[_0x3cfea0(0x7c2)](_0x3cfea0(0x750),_0x9959af),q(this[_0x3cfea0(0x439)],_0x3cfea0(0x213),{'message':_0x9959af}),_0x34dadb[_0x3cfea0(0x2b9)][_0x3cfea0(0x325)]!==_0x3cfea0(0x614)&&await this[_0x3cfea0(0x74c)](_0x6bf319,_0x9959af,_0x3cfea0(0x243));},'messages.update':async(_0x46c58a,_0x4d1905)=>{const _0x20abdc=_0x51c3c7;let _0x42ae59={0x0:_0x20abdc(0x6c1),0x1:_0x20abdc(0x412),0x2:_0x20abdc(0x354),0x3:'DELIVERY_ACK',0x4:_0x20abdc(0x612),0x5:_0x20abdc(0x78c)};for await(let {key:_0x5c98f6,update:_0x55c0aa}of _0x46c58a){if(this[_0x20abdc(0x48a)]?.[_0x20abdc(0x249)]&&_0x5c98f6['remoteJid'][_0x20abdc(0x1f2)]('@g.us')){this[_0x20abdc(0x5f9)][_0x20abdc(0x55d)](_0x20abdc(0x36c));return;}if(_0x5c98f6[_0x20abdc(0x325)]!==_0x20abdc(0x614)){let _0x4d57f5=Date['now'](),_0x35eb3b;_0x55c0aa[_0x20abdc(0x793)]===null&&_0x55c0aa['status']===void 0x0?_0x35eb3b=_0x20abdc(0x771):_0x35eb3b=_0x42ae59[_0x55c0aa[_0x20abdc(0x5d4)]];let _0x2cac73=_0x5c98f6[_0x20abdc(0x325)][_0x20abdc(0x52b)](/:\d{1,2}@/g,'@'),_0x290313={..._0x5c98f6,'remoteJid':_0x2cac73,'status':_0x35eb3b,'datetime':_0x4d57f5,'owner':this[_0x20abdc(0x56d)][_0x20abdc(0x4fb)]};this[_0x20abdc(0x7c2)](_0x20abdc(0x2bc),_0x290313),await this[_0x20abdc(0x3f7)](_0x5c98f6,_0x290313);}}},'labels.association':async({type:_0x1ab739,association:_0x4b900e})=>{const _0x2b0b5d=_0x51c3c7;if(_0x4b900e['type']===_0x2b0b5d(0x4c2))switch(_0x1ab739){case _0x2b0b5d(0x3f4):console[_0x2b0b5d(0x513)]('----------------------ADD----------------------------'),console[_0x2b0b5d(0x513)](_0x4b900e),await this['repository'][_0x2b0b5d(0x674)]['updateOne']({'where':{'_id':_0x4b900e[_0x2b0b5d(0x4d0)]}},{'labels':_0x4b900e[_0x2b0b5d(0x3f9)]},this[_0x2b0b5d(0x56d)]['wuid'],void 0x0,_0x2b0b5d(0x654));break;case _0x2b0b5d(0x37b):console[_0x2b0b5d(0x513)]('----------------------REMOVE----------------------------'),console[_0x2b0b5d(0x513)](_0x4b900e),await this[_0x2b0b5d(0x73b)][_0x2b0b5d(0x674)]['updateOne']({'where':{'_id':_0x4b900e[_0x2b0b5d(0x4d0)]}},{'labels':_0x4b900e[_0x2b0b5d(0x3f9)]},this[_0x2b0b5d(0x56d)][_0x2b0b5d(0x4fb)],void 0x0,_0x2b0b5d(0x4cc));break;default:console[_0x2b0b5d(0x393)]('unknown\x20operation\x20type\x20['+_0x1ab739+']');}},'labels.edit':async _0x2e6ab1=>{const _0x419207=_0x51c3c7;if(!_0x2e6ab1||!_0x2e6ab1['id']){console[_0x419207(0x393)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}let _0x21d854={'_id':_0x2e6ab1['id'],'color':_0x2e6ab1?.[_0x419207(0x295)],'name':_0x2e6ab1?.[_0x419207(0x222)],'owner':this['instance'][_0x419207(0x4fb)]};await this['repository'][_0x419207(0x3fd)][_0x419207(0x616)]({'where':{'_id':_0x2e6ab1['id']}},_0x21d854,this['instance'][_0x419207(0x4fb)]),console['log'](_0x419207(0x5dc),_0x2e6ab1),_0x2e6ab1['deleted']&&(await this[_0x419207(0x73b)][_0x419207(0x3fd)]['delete']({'where':{'_id':_0x2e6ab1['id']}},this[_0x419207(0x56d)][_0x419207(0x4fb)]),console[_0x419207(0x513)](_0x419207(0x21e),_0x2e6ab1['id']));}},this[_0x51c3c7(0x208)]={'groups.upsert':_0x43e27a=>{const _0x4e0e2c=_0x51c3c7;this[_0x4e0e2c(0x7c2)](_0x4e0e2c(0x731),_0x43e27a);},'groups.update':_0x1a9586=>{const _0x137d55=_0x51c3c7;this[_0x137d55(0x7c2)](_0x137d55(0x345),_0x1a9586);},'group-participants.update':_0x277231=>{const _0x30015d=_0x51c3c7;this['sendDataWebhook'](_0x30015d(0x285),_0x277231);}},this['processPollUpdateMessage']=async _0x37615b=>{const _0x5bc5bd=_0x51c3c7;if(_0x37615b['message']?.['pollUpdateMessage']){let _0x3081eb=await this[_0x5bc5bd(0x320)](_0x37615b[_0x5bc5bd(0x793)][_0x5bc5bd(0x398)][_0x5bc5bd(0x570)],!0x0);if(_0x3081eb){let _0xf887f7=_0x3081eb[_0x5bc5bd(0x2b9)][_0x5bc5bd(0x4c4)]?this['instance'][_0x5bc5bd(0x4fb)]+'@s.whatsapp.net':_0x3081eb[_0x5bc5bd(0x2b9)]['participant']||_0x3081eb['key']['remoteJid'],_0x11ab2d=_0x3081eb[_0x5bc5bd(0x2b9)]['id'],_0x20bbf9=_0x3081eb['message'],_0x55cd9f=Buffer[_0x5bc5bd(0x68a)](_0x20bbf9[_0x5bc5bd(0x485)]['messageSecret']['toString'](_0x5bc5bd(0x2f2)),'hex'),_0x3c99ea=(0x0,y[_0x5bc5bd(0x6fb)])(_0x37615b[_0x5bc5bd(0x793)][_0x5bc5bd(0x398)][_0x5bc5bd(0x39b)],{'pollCreatorJid':_0xf887f7,'pollMsgId':_0x11ab2d,'pollEncKey':_0x55cd9f,'voterJid':_0x37615b[_0x5bc5bd(0x2b9)][_0x5bc5bd(0x4c4)]?this[_0x5bc5bd(0x56d)][_0x5bc5bd(0x4fb)]+_0x5bc5bd(0x491):_0x37615b[_0x5bc5bd(0x2b9)][_0x5bc5bd(0x325)][_0x5bc5bd(0x277)](_0x5bc5bd(0x465))?_0x37615b[_0x5bc5bd(0x2b9)]['participant']:_0x37615b[_0x5bc5bd(0x2b9)][_0x5bc5bd(0x325)]}),_0x25f471=[],_0x12fcd6=_0x3c99ea[_0x5bc5bd(0x65a)][_0x5bc5bd(0x46c)](_0x16c1b2=>Buffer[_0x5bc5bd(0x68a)](_0x16c1b2)[_0x5bc5bd(0x6be)](_0x5bc5bd(0x2f2)));for(let {optionName:_0xc91f20}of _0x20bbf9[_0x5bc5bd(0x280)]?.['options']||_0x20bbf9[_0x5bc5bd(0x663)]?.[_0x5bc5bd(0x5db)]||_0x20bbf9[_0x5bc5bd(0x1eb)]?.[_0x5bc5bd(0x5db)])_0x12fcd6[_0x5bc5bd(0x6cf)]((0x0,y[_0x5bc5bd(0x27c)])(Buffer[_0x5bc5bd(0x68a)](_0xc91f20))[_0x5bc5bd(0x6be)]('hex'))>-0x1&&_0x25f471[_0x5bc5bd(0x392)](_0xc91f20);return _0x25f471;}}return null;},this[_0x51c3c7(0x40f)]=(_0x79cb09,_0x185ce5,_0x471c1d)=>{const _0x535f62=_0x51c3c7;try{let _0x3a2931=_0x185ce5?_0x79cb09[_0x185ce5]:void 0x0,_0x563c0e={},_0x2d25c1=null,_0x2635e1=null,_0x234af4=null;if(_0x79cb09['viewOnceMessageV2']?(_0x185ce5=_(_0x79cb09[_0x535f62(0x620)][_0x535f62(0x793)]),_0x3a2931=_0x79cb09[_0x535f62(0x620)][_0x535f62(0x793)][_0x185ce5]):_0x79cb09[_0x535f62(0x30c)]?(_0x185ce5=_(_0x79cb09[_0x535f62(0x30c)][_0x535f62(0x793)]),_0x3a2931=_0x79cb09[_0x535f62(0x30c)]['message'][_0x185ce5]):_0x79cb09['viewOnceMessage']?(_0x185ce5=_(_0x79cb09[_0x535f62(0x78b)][_0x535f62(0x793)]),_0x3a2931=_0x79cb09[_0x535f62(0x78b)][_0x535f62(0x793)][_0x185ce5]):_0x79cb09['ephemeralMessage']?(_0x185ce5=_(_0x79cb09[_0x535f62(0x793)]['ephemeralMessage'][_0x535f62(0x793)]),_0x3a2931=_0x79cb09[_0x535f62(0x793)]['ephemeralMessage'][_0x535f62(0x793)][_0x185ce5]):_0x79cb09['editedMessage']?.[_0x535f62(0x793)]?.[_0x535f62(0x7b3)]?.['editedMessage']?(_0x185ce5=_(_0x79cb09[_0x535f62(0x2d6)][_0x535f62(0x793)]['protocolMessage'][_0x535f62(0x2d6)]),_0x2d25c1=_0x79cb09[_0x535f62(0x2d6)][_0x535f62(0x793)][_0x535f62(0x7b3)][_0x535f62(0x2b9)]['id'],_0x3a2931=_0x79cb09[_0x535f62(0x2d6)][_0x535f62(0x793)][_0x535f62(0x7b3)]['editedMessage'][_0x185ce5]):_0x3a2931=_0x79cb09[_0x185ce5],!_0x185ce5||!_0x3a2931)return console['error'](_0x535f62(0x3ad),_0x79cb09),{'messageType':_0x185ce5,'messageContent':_0x3a2931,'message_normalized':{}};_0x79cb09[_0x185ce5]?.[_0x535f62(0x4b6)]?.[_0x535f62(0x30b)]&&_0x79cb09[_0x185ce5]?.[_0x535f62(0x4b6)]?.['quotedMessage']&&(_0x2635e1=_0x79cb09[_0x185ce5]['contextInfo'][_0x535f62(0x30b)]),_0x79cb09[_0x535f62(0x1c5)]&&(_0x234af4=_0x79cb09[_0x535f62(0x1c5)]['key']['id']);let _0x4f8a11;if(_0x3a2931&&typeof _0x3a2931==_0x535f62(0x289)&&_0x535f62(0x570)in _0x3a2931&&({pollCreationMessageKey:_0x4f8a11}=_0x3a2931),_0x185ce5===_0x535f62(0x479)){let _0xb7f5fe=_0x3a2931?.[_0x535f62(0x793)]?.['documentMessage'];_0xb7f5fe&&(_0x3a2931=_0xb7f5fe);}if(_0x185ce5===_0x535f62(0x280)||_0x185ce5==='pollCreationMessageV2'||_0x185ce5===_0x535f62(0x663)){let _0x685996=_0x3a2931[_0x535f62(0x5db)][_0x535f62(0x46c)](_0x502546=>_0x502546['optionName'])[_0x535f62(0x1ee)]('|');_0x563c0e[_0x535f62(0x3a7)]=_0x685996;}let _0x28cac0=_0x3a2931[_0x535f62(0x222)]||_0x3a2931[_0x535f62(0x2c8)]||_0x3a2931['conversation']||_0x3a2931[_0x535f62(0x53c)];if(_0x185ce5===_0x535f62(0x466)){_0x28cac0=(_0x3a2931[_0x535f62(0x5d8)]||'')+'\x0a'+(_0x3a2931['description']||'')+'\x0a'+(_0x3a2931['footerText']||'');let _0x185851=this['sectionsToString'](_0x3a2931[_0x535f62(0x31d)]);_0x563c0e[_0x535f62(0x3a7)]=_0x185851;}if(_0x185ce5==='listResponseMessage'&&(_0x471c1d=_0x3a2931[_0x535f62(0x5d8)]),_0x3a2931[_0x535f62(0x43f)]){let _0x2dbcf5=this['formatVCard'](JSON[_0x535f62(0x28a)](_0x3a2931['vcard'],null,0x2));_0x28cac0=_0x28cac0+'\x0a'+_0x2dbcf5;}if(_0x3a2931){let {sections:_0x418774,listType:_0x48ab8e,displayName:_0xac2f21,vcard:_0x234b2b,contactVcard:_0x1cc946,name:_0x15528a,caption:_0x4a4eed,conversation:_0x57586e,pollCreationMessageKey:_0x4b6307,footerText:_0x5ec010,contentText:_0xd51a38,pageCount:_0x5132ff,headerType:_0x2d8129,isAvatar:_0x3f9bd0,isAnimated:_0x5dd1c9,fallbackLc:_0x3b517a,fallbackLg:_0x2295ac,namespace:_0x58381b,elementName:_0x3b8839,localizableParams:_0x413967,viewOnce:_0x546326,height:_0x25dd18,width:_0x4ba927,key:_0x90af,firstScanLength:_0x4cd058,firstScanSidecar:_0x3fc61c,gifPlayback:_0x4ff61a,gifAttribution:_0x22137d,midQualityFileSha256:_0x46d922,scansSidecar:_0xe5a35,streamingSidecar:_0x2caa23,thumbnailHeight:_0x2ddd1e,thumbnailWidth:_0x392cda,thumbnailEncSha256:_0x2061cf,thumbnailDirectPath:_0x3095b0,canonicalUrl:_0xcc7d3e,matchedText:_0xaccfda,previewType:_0x40a45,thumbnailSha256:_0x528c9d,deviceListMetadataVersion:_0x3f9fd6,inviteLinkGroupTypeV2:_0x2eaea0,interactiveAnnotations:_0x349f12,scanLengths:_0x58f96d,jpegThumbnail:_0x2083b9,url:_0x295f5c,mediaKeyTimestamp:_0xc73b08,waveform:_0x1e3566,stickerSentTs:_0x9e92c8,firstFrameLength:_0x4bc412,fileEncSha256:_0x222104,contextInfo:_0x285279,firstFrameSidecar:_0x5ac363,directPath:_0x30b03a,fileSha256:_0x494a2b,mediaKey:_0x52fa31,senderTimestampMs:_0x22be63,..._0x30c883}=_0x3a2931;(_0x185ce5===_0x535f62(0x466)||_0x185ce5===_0x535f62(0x4af))&&(delete _0x30c883[_0x535f62(0x5d8)],delete _0x30c883[_0x535f62(0x68e)]),typeof _0x3a2931==_0x535f62(0x4b7)?_0x563c0e={'text':_0x3a2931,'type':_0x185ce5||_0x535f62(0x3fb),..._0x2d25c1&&{'edited':_0x2d25c1},..._0x2635e1&&{'quoted':_0x2635e1},..._0x234af4&&{'reaction':_0x234af4}}:_0x563c0e={'text':_0x28cac0,..._0x30c883,..._0x185ce5===_0x535f62(0x398)?{'poll_id':_0x3a2931['pollCreationMessageKey']['id'],'quoted':_0x3a2931['pollCreationMessageKey']['id'],'vote':_0x471c1d}:{},..._0x185ce5===_0x535f62(0x4af)?{'vote':_0x471c1d}:{},'type':_0x185ce5,..._0x2d25c1&&{'edited':_0x2d25c1},..._0x2635e1&&{'quoted':_0x2635e1},..._0x234af4&&{'reaction':_0x234af4},...(_0x185ce5==='pollCreationMessage'||_0x185ce5===_0x535f62(0x1eb)||_0x185ce5===_0x535f62(0x663)||_0x185ce5===_0x535f62(0x466))&&{'convertedOptions':_0x563c0e[_0x535f62(0x3a7)]}};}return{'messageType':_0x185ce5,'messageContent':_0x3a2931,'message_normalized':_0x563c0e};}catch(_0x24d73d){console['error'](_0x535f62(0x6fd),_0x24d73d);}},this[_0x51c3c7(0x2ad)]=null,this[_0x51c3c7(0x4c8)]=0x0,this[_0x51c3c7(0x211)]=null,(this[_0x51c3c7(0x752)](),this[_0x51c3c7(0x56d)][_0x51c3c7(0x693)]={'count':0x0});}set[a0_0x569689(0x439)](_0x1a31c1){const _0x2c4dbb=a0_0x569689;if(!_0x1a31c1){this[_0x2c4dbb(0x56d)][_0x2c4dbb(0x222)]=(0x0,mr['v4'])();return;}this[_0x2c4dbb(0x56d)]['name']=_0x1a31c1,this[_0x2c4dbb(0x7c2)]('status.instance',{'instance':this[_0x2c4dbb(0x56d)][_0x2c4dbb(0x222)],'status':_0x2c4dbb(0x3d1)});}get[a0_0x569689(0x439)](){const _0x42ee5b=a0_0x569689;return this[_0x42ee5b(0x56d)][_0x42ee5b(0x222)];}get[a0_0x569689(0x4fb)](){const _0x59e6bd=a0_0x569689;return this['instance'][_0x59e6bd(0x4fb)];}async['getProfileName'](){const _0x15bfc8=a0_0x569689;let _0x585171=this[_0x15bfc8(0x543)]['user']?.[_0x15bfc8(0x222)]??this['client']['user']?.['verifiedName'];if(!_0x585171){if(this[_0x15bfc8(0x555)][_0x15bfc8(0x5de)](_0x15bfc8(0x2ed))['ENABLED']){let _0xaa57d1=await N['getClient']()['db'](this['configService'][_0x15bfc8(0x5de)](_0x15bfc8(0x2ed))[_0x15bfc8(0x4a6)][_0x15bfc8(0x2ef)]+'-instances')[_0x15bfc8(0x6f5)](this[_0x15bfc8(0x439)])[_0x15bfc8(0x471)]({'_id':_0x15bfc8(0x2e0)});if(_0xaa57d1){let _0x17c736=JSON[_0x15bfc8(0x202)](JSON[_0x15bfc8(0x28a)](_0xaa57d1),y[_0x15bfc8(0x49a)][_0x15bfc8(0x3f0)]);_0x585171=_0x17c736['me']?.['name']||_0x17c736['me']?.[_0x15bfc8(0x798)];}}else{if((0x0,Me[_0x15bfc8(0x5fa)])((0x0,P[_0x15bfc8(0x1ee)])(pe,this[_0x15bfc8(0x439)],_0x15bfc8(0x5a9)))){let _0x755b5f=JSON[_0x15bfc8(0x202)]((0x0,Me[_0x15bfc8(0x7a5)])((0x0,P[_0x15bfc8(0x1ee)])(pe,this[_0x15bfc8(0x439)],_0x15bfc8(0x5a9)),{'encoding':_0x15bfc8(0x633)}));_0x585171=_0x755b5f['me']?.[_0x15bfc8(0x222)]||_0x755b5f['me']?.['verifiedName'];}}}return _0x585171;}get['profilePictureUrl'](){const _0x4a6719=a0_0x569689;return this[_0x4a6719(0x56d)]['profilePictureUrl'];}get[a0_0x569689(0x407)](){const _0x275d2a=a0_0x569689;return{'pairingCode':this[_0x275d2a(0x56d)][_0x275d2a(0x693)]?.[_0x275d2a(0x4c5)],'code':this[_0x275d2a(0x56d)][_0x275d2a(0x693)]?.['code'],'base64':this[_0x275d2a(0x56d)][_0x275d2a(0x693)]?.[_0x275d2a(0x48d)]};}async['loadWebhook'](){const _0x5eb1b4=a0_0x569689;let _0x1accb7=await this[_0x5eb1b4(0x73b)][_0x5eb1b4(0x4e1)][_0x5eb1b4(0x3e0)](this[_0x5eb1b4(0x439)]);this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x6ab)]=_0x1accb7?.['url'],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x50c)]=_0x1accb7?.[_0x5eb1b4(0x50c)],this[_0x5eb1b4(0x48a)]['local_map']=_0x1accb7?.[_0x5eb1b4(0x685)],this[_0x5eb1b4(0x48a)]['STATUS_INSTANCE']=_0x1accb7?.[_0x5eb1b4(0x790)],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x223)]=_0x1accb7?.[_0x5eb1b4(0x223)],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x645)]=_0x1accb7?.['SEND_MESSAGE'],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x243)]=_0x1accb7?.[_0x5eb1b4(0x243)],this['localWebhook'][_0x5eb1b4(0x5ff)]=_0x1accb7?.[_0x5eb1b4(0x5ff)],this['localWebhook'][_0x5eb1b4(0x547)]=_0x1accb7?.[_0x5eb1b4(0x547)],this['localWebhook']['GROUPS_UPDATE']=_0x1accb7?.[_0x5eb1b4(0x56e)],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x65d)]=_0x1accb7?.[_0x5eb1b4(0x65d)],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x48f)]=_0x1accb7?.[_0x5eb1b4(0x48f)],this[_0x5eb1b4(0x48a)]['CHATS_UPSERT']=_0x1accb7?.['CHATS_UPSERT'],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x69e)]=_0x1accb7?.[_0x5eb1b4(0x69e)],this['localWebhook'][_0x5eb1b4(0x681)]=_0x1accb7?.['CHATS_DELETE'],this[_0x5eb1b4(0x48a)]['CONTACTS_SET']=_0x1accb7?.[_0x5eb1b4(0x537)],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x5cc)]=_0x1accb7?.[_0x5eb1b4(0x5cc)],this[_0x5eb1b4(0x48a)]['CONTACTS_UPDATE']=_0x1accb7?.[_0x5eb1b4(0x2b8)],this[_0x5eb1b4(0x48a)][_0x5eb1b4(0x5ed)]=_0x1accb7?.[_0x5eb1b4(0x5ed)],this['localWebhook']['MESSAGES_SET']=_0x1accb7?.['MESSAGES_SET'],this['localWebhook'][_0x5eb1b4(0x5cd)]=_0x1accb7?.[_0x5eb1b4(0x5cd)],this['localWebhook'][_0x5eb1b4(0x249)]=_0x1accb7?.['groups_ignore'];}async[a0_0x569689(0x4c9)](_0x180cfe){const _0x3c278d=a0_0x569689;let _0x3b0cb3=['_id',_0x3c278d(0x6ab),_0x3c278d(0x50c),'local_map','STATUS_INSTANCE',_0x3c278d(0x223),_0x3c278d(0x5ff),_0x3c278d(0x243),_0x3c278d(0x645),_0x3c278d(0x547),_0x3c278d(0x56e),_0x3c278d(0x65d),_0x3c278d(0x48f),_0x3c278d(0x43c),_0x3c278d(0x69e),'CHATS_DELETE','CONTACTS_SET',_0x3c278d(0x5cc),_0x3c278d(0x2b8),_0x3c278d(0x5ed),_0x3c278d(0x250),_0x3c278d(0x5cd),_0x3c278d(0x249)],_0x10d59b={};return _0x3b0cb3[_0x3c278d(0x6b4)](_0x287076=>{_0x180cfe[_0x287076]!==void 0x0&&(_0x10d59b[_0x287076]=_0x180cfe[_0x287076]);}),await this['repository']['webhook'][_0x3c278d(0x5c4)](_0x10d59b,this[_0x3c278d(0x439)]),Object[_0x3c278d(0x667)](this[_0x3c278d(0x48a)],_0x10d59b),await this['repository'][_0x3c278d(0x4e1)][_0x3c278d(0x3e0)](this[_0x3c278d(0x439)]);}async[a0_0x569689(0x7ca)](){const _0x4b1d6c=a0_0x569689;return await this[_0x4b1d6c(0x73b)][_0x4b1d6c(0x4e1)]['find'](this[_0x4b1d6c(0x439)]);}async[a0_0x569689(0x7c2)](_0x453110,_0x57c0bf){const _0x2d9665=a0_0x569689;let _0x38e60a=_0x453110[_0x2d9665(0x52b)](/[\.-]/gm,'_')[_0x2d9665(0x3c1)](),_0x292dbb=this['localWebhook'][_0x2d9665(0x50c)]&&(0x0,$['isURL'])(this[_0x2d9665(0x48a)][_0x2d9665(0x6ab)])?this[_0x2d9665(0x48a)][_0x2d9665(0x6ab)]+(this[_0x2d9665(0x48a)][_0x2d9665(0x685)]?this['webhookMap'][_0x453110]:''):null,_0x42ddd4=this['localWebhook'][_0x38e60a],_0x3c1ae1=ie&&ie[_0x2d9665(0x50c)]&&(0x0,$[_0x2d9665(0x737)])(ie[_0x2d9665(0x6ab)])?ie['url']+(ie[_0x2d9665(0x685)]?this[_0x2d9665(0x7c8)][_0x453110]:''):null,_0x3d859=ie?ie[_0x38e60a]:null;if(_0x42ddd4&&_0x292dbb)try{await se[_0x2d9665(0x29a)][_0x2d9665(0x5c4)]({'baseURL':_0x292dbb})[_0x2d9665(0x586)]('',{'event':_0x453110,'instance':this[_0x2d9665(0x56d)][_0x2d9665(0x222)],'data':_0x57c0bf}),this['logger']['log']('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x453110+':\x20'+_0x292dbb);}catch(_0x35b7af){this['logger'][_0x2d9665(0x393)](this['instanceName']+'\x20('+this[_0x2d9665(0x56d)][_0x2d9665(0x4fb)]+_0x2d9665(0x5d3)+{'local':c[_0x2d9665(0x222)]+'.sendDataWebhook-local','message':_0x35b7af?.[_0x2d9665(0x793)],'hostName':_0x35b7af?.[_0x2d9665(0x64b)],'syscall':_0x35b7af?.[_0x2d9665(0x291)],'code':_0x35b7af?.[_0x2d9665(0x376)],'error':_0x35b7af?.[_0x2d9665(0x47c)],'stack':_0x35b7af?.['stack'],'name':_0x35b7af?.['name']});}if(_0x3d859&&_0x3c1ae1)try{await se[_0x2d9665(0x29a)][_0x2d9665(0x5c4)]({'baseURL':_0x3c1ae1})[_0x2d9665(0x586)]('',{'event':_0x453110,'instance':this[_0x2d9665(0x56d)][_0x2d9665(0x222)],'data':_0x57c0bf}),this[_0x2d9665(0x5f9)]['log']('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x453110+':\x20'+_0x3c1ae1);}catch(_0x236308){this[_0x2d9665(0x5f9)][_0x2d9665(0x393)](this[_0x2d9665(0x439)]+'\x20('+this[_0x2d9665(0x56d)][_0x2d9665(0x4fb)]+_0x2d9665(0x5d3)+{'local':c[_0x2d9665(0x222)]+_0x2d9665(0x705),'message':_0x236308?.[_0x2d9665(0x793)],'hostName':_0x236308?.[_0x2d9665(0x64b)],'syscall':_0x236308?.[_0x2d9665(0x291)],'code':_0x236308?.['code'],'error':_0x236308?.[_0x2d9665(0x47c)],'stack':_0x236308?.['stack'],'name':_0x236308?.['name']});}}async[a0_0x569689(0x4ea)]({qr:_0x1ed983,connection:_0x27e839,lastDisconnect:_0x300e8a}){const _0x2ef8db=a0_0x569689;if(_0x1ed983){if(this[_0x2ef8db(0x56d)][_0x2ef8db(0x693)][_0x2ef8db(0x2a6)]===ho)return this[_0x2ef8db(0x7c2)](_0x2ef8db(0x597),{'message':_0x2ef8db(0x24b),'statusCode':y[_0x2ef8db(0x4f1)][_0x2ef8db(0x253)]}),this[_0x2ef8db(0x6ca)]={'state':'refused','statusReason':y[_0x2ef8db(0x4f1)][_0x2ef8db(0x6d5)]},this[_0x2ef8db(0x7c2)](_0x2ef8db(0x4d6),{'instance':this[_0x2ef8db(0x56d)][_0x2ef8db(0x222)],...this[_0x2ef8db(0x6ca)]}),this[_0x2ef8db(0x7c2)](_0x2ef8db(0x646),{'instance':this[_0x2ef8db(0x56d)][_0x2ef8db(0x222)],'status':'removed'}),this[_0x2ef8db(0x73b)][_0x2ef8db(0x1a1)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2ef8db(0x70c)]()},this[_0x2ef8db(0x56d)][_0x2ef8db(0x222)]),this['endSession']=!0x0,this[_0x2ef8db(0x1bf)][_0x2ef8db(0x241)](_0x2ef8db(0x571),this[_0x2ef8db(0x56d)][_0x2ef8db(0x222)]);this['instance'][_0x2ef8db(0x693)][_0x2ef8db(0x2a6)]++;let _0x19a64b={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2ef8db(0x3e1),'dark':_0x2ef8db(0x5ba)}};fr[_0x2ef8db(0x29a)][_0x2ef8db(0x1a7)](_0x1ed983,_0x19a64b,(_0x152cd5,_0xce38a1)=>{const _0x551027=_0x2ef8db;if(_0x152cd5){this['logger'][_0x551027(0x393)](this[_0x551027(0x439)]+'\x20('+this[_0x551027(0x56d)][_0x551027(0x4fb)]+_0x551027(0x733)+(_0x152cd5 instanceof Error?_0x152cd5[_0x551027(0x793)]:JSON[_0x551027(0x28a)](_0x152cd5,null,0x2)));return;}this['instance']['qrcode']['base64']=_0xce38a1,this['instance']['qrcode'][_0x551027(0x376)]=_0x1ed983,this['sendDataWebhook']('qrcode.updated',{'qrcode':{'instance':this[_0x551027(0x56d)][_0x551027(0x222)],'pairingCode':this[_0x551027(0x56d)]['qrcode'][_0x551027(0x4c5)],'code':_0x1ed983,'base64':_0xce38a1}});}),this['phoneNumber']?this[_0x2ef8db(0x56d)][_0x2ef8db(0x693)][_0x2ef8db(0x4c5)]=await this[_0x2ef8db(0x543)][_0x2ef8db(0x444)](this[_0x2ef8db(0x1da)]):this['instance'][_0x2ef8db(0x693)]['pairingCode']=null,yr[_0x2ef8db(0x29a)][_0x2ef8db(0x713)](_0x1ed983,{'small':!0x0},_0xe6d0e9=>this[_0x2ef8db(0x5f9)][_0x2ef8db(0x513)](_0x2ef8db(0x613)+this[_0x2ef8db(0x56d)]['name']+',\x20qrcodeCount:\x20'+this[_0x2ef8db(0x56d)][_0x2ef8db(0x693)][_0x2ef8db(0x2a6)]+_0x2ef8db(0x335)+this[_0x2ef8db(0x56d)][_0x2ef8db(0x693)][_0x2ef8db(0x4c5)]+_0x2ef8db(0x1d1)+_0xe6d0e9));}if(_0x27e839&&(this['stateConnection']={'state':_0x27e839,'statusReason':_0x300e8a?.[_0x2ef8db(0x393)]?.[_0x2ef8db(0x238)]?.[_0x2ef8db(0x2ba)]??0xc8},this[_0x2ef8db(0x7c2)](_0x2ef8db(0x4d6),{'instance':this['instance'][_0x2ef8db(0x222)],...this[_0x2ef8db(0x6ca)]})),_0x27e839===_0x2ef8db(0x59f)){if(this[_0x2ef8db(0x1e9)]++,this['reconnectTimestamps'][_0x2ef8db(0x392)](Date[_0x2ef8db(0x70c)]()),this[_0x2ef8db(0x3cc)]=this[_0x2ef8db(0x3cc)][_0x2ef8db(0x52f)](_0x36bf51=>Date[_0x2ef8db(0x70c)]()-_0x36bf51<this[_0x2ef8db(0x69d)]),_0x300e8a['error']?.[_0x2ef8db(0x238)]?.['statusCode']!==y[_0x2ef8db(0x4f1)][_0x2ef8db(0x3bf)]&&this['reconnectTimestamps'][_0x2ef8db(0x63c)]<=this['MAX_RECONNECT_ATTEMPTS'])await this[_0x2ef8db(0x288)]();else{this[_0x2ef8db(0x7c2)](_0x2ef8db(0x646),{'instance':this[_0x2ef8db(0x56d)][_0x2ef8db(0x222)],'status':_0x2ef8db(0x203)}),this[_0x2ef8db(0x272)]=!0x1,this[_0x2ef8db(0x73b)][_0x2ef8db(0x4e1)][_0x2ef8db(0x5df)](this[_0x2ef8db(0x439)]),this[_0x2ef8db(0x73b)][_0x2ef8db(0x1a1)][_0x2ef8db(0x5c4)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2ef8db(0x70c)]()},this['instance'][_0x2ef8db(0x222)]);try{this[_0x2ef8db(0x5f9)]['verbose'](this['instanceName']+'\x20('+this[_0x2ef8db(0x56d)]['wuid']+_0x2ef8db(0x62e));let _0xb564b0=await this[_0x2ef8db(0x73b)][_0x2ef8db(0x793)]['deleteAll'](this[_0x2ef8db(0x56d)][_0x2ef8db(0x4fb)]);_0xb564b0[_0x2ef8db(0x470)]?this[_0x2ef8db(0x5f9)]['verbose'](this[_0x2ef8db(0x439)]+'\x20('+this['instance'][_0x2ef8db(0x4fb)]+_0x2ef8db(0x519)):console[_0x2ef8db(0x393)](_0x2ef8db(0x26f),_0xb564b0[_0x2ef8db(0x393)]);}catch(_0x5256fc){console[_0x2ef8db(0x393)](_0x2ef8db(0x4b9),_0x5256fc);}this[_0x2ef8db(0x57b)]!==null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2ef8db(0x56d)]['wuid']+_0x2ef8db(0x3ab)),clearInterval(this['delayMessage']),this[_0x2ef8db(0x57b)]=null),this[_0x2ef8db(0x5f9)][_0x2ef8db(0x55d)](this[_0x2ef8db(0x439)]+'\x20('+this[_0x2ef8db(0x56d)][_0x2ef8db(0x4fb)]+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this[_0x2ef8db(0x1bf)][_0x2ef8db(0x241)](_0x2ef8db(0x787),this[_0x2ef8db(0x56d)][_0x2ef8db(0x222)],_0x2ef8db(0x28c)),this['client']?.['ws']?.[_0x2ef8db(0x59f)](),this['client'][_0x2ef8db(0x621)](new Error(_0x2ef8db(0x390)));}}if(_0x27e839===_0x2ef8db(0x749)){this[_0x2ef8db(0x701)],this[_0x2ef8db(0x56d)][_0x2ef8db(0x4fb)]=this['client']['user']['id'][_0x2ef8db(0x52b)](/:\d+/,'')[_0x2ef8db(0x52b)](_0x2ef8db(0x491),''),this[_0x2ef8db(0x56d)][_0x2ef8db(0x7a2)]=(await this['profilePicture'](this[_0x2ef8db(0x56d)][_0x2ef8db(0x4fb)]+'@s.whatsapp.net'))[_0x2ef8db(0x7a2)],this[_0x2ef8db(0x73b)][_0x2ef8db(0x1a1)][_0x2ef8db(0x5c4)]({'online':!0x0,'owner':this[_0x2ef8db(0x56d)][_0x2ef8db(0x4fb)],'lastDisconnect':null},this[_0x2ef8db(0x56d)][_0x2ef8db(0x222)]);let _0xd2bbdd='Número:\x20'+this[_0x2ef8db(0x56d)][_0x2ef8db(0x4fb)],_0x56f53f=0x28,_0x1936d0=Math[_0x2ef8db(0x574)]((_0x56f53f-_0xd2bbdd[_0x2ef8db(0x63c)])/0x2),_0x26e082='\x20'[_0x2ef8db(0x4e0)](_0x1936d0),_0x4d3bcd=_0x2ef8db(0x2aa),_0x24348e=_0x2ef8db(0x58a)+this['instance'][_0x2ef8db(0x222)],_0x3d573c=(''+_0x26e082+_0xd2bbdd+_0x26e082)[_0x2ef8db(0x436)](_0x56f53f,'\x20'),_0x1fe503=(''+_0x26e082+_0x4d3bcd+_0x26e082)['padEnd'](_0x56f53f,'\x20'),_0x4b8f21=(''+_0x26e082+_0x24348e+_0x26e082)[_0x2ef8db(0x436)](_0x56f53f,'\x20'),_0x15b890=Math[_0x2ef8db(0x602)](_0x3d573c[_0x2ef8db(0x63c)],_0x1fe503[_0x2ef8db(0x63c)],_0x4b8f21[_0x2ef8db(0x63c)]),_0x3031b0=_0x3d573c['padEnd'](_0x15b890,'\x20'),_0x4ccd23=_0x1fe503[_0x2ef8db(0x436)](_0x15b890,'\x20'),_0x1547be=_0x4b8f21[_0x2ef8db(0x436)](_0x15b890,'\x20');this[_0x2ef8db(0x5f9)][_0x2ef8db(0x76a)]((_0x2ef8db(0x6b5)+'─'[_0x2ef8db(0x4e0)](_0x15b890)+_0x2ef8db(0x4c0)+_0x4ccd23+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x1547be+_0x2ef8db(0x5f1)+_0x3031b0+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x15b890)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x2ef8db(0x45e)](),this['isConnected']=!0x0;}}[a0_0x569689(0x701)](){const _0xb58add=a0_0x569689;this[_0xb58add(0x1e9)]=0x0,this[_0xb58add(0x3cc)]=[];}async[a0_0x569689(0x320)](_0x28ac5a,_0x487c79=!0x1){const _0x2dd2a3=a0_0x569689;try{let _0x407760=await this[_0x2dd2a3(0x73b)][_0x2dd2a3(0x793)]['find']({'where':{'_id':_0x28ac5a['id']}},this[_0x2dd2a3(0x56d)][_0x2dd2a3(0x4fb)]);return _0x487c79?_0x407760[0x0]:_0x407760[0x0][_0x2dd2a3(0x793)];}catch{return{'conversation':''};}}[a0_0x569689(0x752)](){const _0x16e58a=a0_0x569689;let _0x4affcf=this['configService']['get']('STORE'),_0x40bdf6=this[_0x16e58a(0x555)][_0x16e58a(0x5de)](_0x16e58a(0x2ed));_0x4affcf?.[_0x16e58a(0x298)]&&!_0x40bdf6[_0x16e58a(0x23d)]&&setInterval(()=>{const _0x413f8f=_0x16e58a;try{for(let [_0x2af8b5,_0x340068]of Object[_0x413f8f(0x77a)](_0x4affcf))_0x340068===!0x0&&(0x0,Dt[_0x413f8f(0x79c)])(_0x413f8f(0x7a4)+(0x0,P['join'])(this[_0x413f8f(0x3d5)],_0x2af8b5[_0x413f8f(0x357)](),this[_0x413f8f(0x56d)][_0x413f8f(0x4fb)])+_0x413f8f(0x2e8));}catch{}},(_0x4affcf?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x569689(0x3de)](){const _0x5b200b=a0_0x569689;let _0x35724d=this[_0x5b200b(0x555)][_0x5b200b(0x5de)](_0x5b200b(0x2ed)),_0x8328c9=this[_0x5b200b(0x555)][_0x5b200b(0x5de)]('REDIS');return _0x8328c9?.[_0x5b200b(0x23d)]?await fs(_0x8328c9,this['instance'][_0x5b200b(0x222)]):_0x35724d[_0x5b200b(0x23d)]?await ms(this[_0x5b200b(0x56d)][_0x5b200b(0x222)]):await(0x0,y['useMultiFileAuthState'])((0x0,P[_0x5b200b(0x1ee)])(pe,this[_0x5b200b(0x56d)][_0x5b200b(0x222)]));}async['AutomateFunctions'](){const _0x14885f=a0_0x569689;let _0x4fc4e2=()=>Math[_0x14885f(0x574)](Math['random']()*0x2711)+0x7d0,_0x49438f=async()=>{const _0xaa3f9d=_0x14885f;if(!this[_0xaa3f9d(0x272)]){this['logger'][_0xaa3f9d(0x55d)]('Desconectado,\x20parando\x20execução.'),this[_0xaa3f9d(0x37a)]=!0x1;return;}if(this[_0xaa3f9d(0x56d)][_0xaa3f9d(0x4fb)]&&this[_0xaa3f9d(0x755)]&&this[_0xaa3f9d(0x57b)]!==null&&this['delayMessage']!==void 0x0){let _0x9c2449=Math[_0xaa3f9d(0x2a2)](this[_0xaa3f9d(0x57b)]/0xea60);this[_0xaa3f9d(0x5f9)][_0xaa3f9d(0x55d)](this[_0xaa3f9d(0x439)]+'\x20('+this[_0xaa3f9d(0x56d)][_0xaa3f9d(0x4fb)]+_0xaa3f9d(0x2e5)+_0x9c2449+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0xaa3f9d(0x37a)]=!0x1;return;}else this['instance'][_0xaa3f9d(0x4fb)]&&(this[_0xaa3f9d(0x5f9)][_0xaa3f9d(0x55d)](this['instanceName']+'\x20('+this[_0xaa3f9d(0x56d)][_0xaa3f9d(0x4fb)]+_0xaa3f9d(0x493)),await this[_0xaa3f9d(0x73b)][_0xaa3f9d(0x321)][_0xaa3f9d(0x373)](this['instance'][_0xaa3f9d(0x4fb)]),await this[_0xaa3f9d(0x73b)]['flow'][_0xaa3f9d(0x373)](this[_0xaa3f9d(0x56d)][_0xaa3f9d(0x4fb)]),await this[_0xaa3f9d(0x73b)][_0xaa3f9d(0x63d)][_0xaa3f9d(0x373)](this[_0xaa3f9d(0x56d)][_0xaa3f9d(0x4fb)]),this[_0xaa3f9d(0x5f9)][_0xaa3f9d(0x55d)](this[_0xaa3f9d(0x439)]+'\x20('+this[_0xaa3f9d(0x56d)][_0xaa3f9d(0x4fb)]+_0xaa3f9d(0x6cd)),this[_0xaa3f9d(0x755)]||await this[_0xaa3f9d(0x29d)](),(this['delayMessage']===null||this[_0xaa3f9d(0x57b)]===void 0x0)&&await this[_0xaa3f9d(0x639)]());if(this[_0xaa3f9d(0x37a)]){let _0x48df13=_0x4fc4e2();this[_0xaa3f9d(0x5f9)][_0xaa3f9d(0x55d)](this[_0xaa3f9d(0x439)]+_0xaa3f9d(0x58c)+_0x48df13/0x3e8+_0xaa3f9d(0x378)),setTimeout(_0x49438f,_0x48df13);}};if(this[_0x14885f(0x37a)])return;this[_0x14885f(0x37a)]=!0x0;let _0x37e148=_0x4fc4e2();setTimeout(_0x49438f,_0x37e148);}async['testProxy'](_0x223d85,_0x180e30,_0x1596b4,_0xd9d2bc,_0x6fb0b0){const _0xc15cc6=a0_0x569689;this[_0xc15cc6(0x5f9)][_0xc15cc6(0x55d)](_0xc15cc6(0x39d));try{let _0x1435a6={'host':_0x223d85,'port':parseInt(_0x180e30),'protocol':_0x1596b4};_0xd9d2bc&&_0x6fb0b0&&(_0x1435a6={..._0x1435a6,'auth':{'username':_0xd9d2bc,'password':_0x6fb0b0}});let _0x49d3e6=[_0xc15cc6(0x40d),_0xc15cc6(0x42c),_0xc15cc6(0x688)];for(let _0x56c8ea of _0x49d3e6)try{let _0x43e5c3=await se[_0xc15cc6(0x29a)]['get'](_0x56c8ea,{'proxy':_0x1435a6}),_0x3b65f6;return _0x56c8ea[_0xc15cc6(0x1f2)](_0xc15cc6(0x6fa))||_0x56c8ea[_0xc15cc6(0x1f2)]('ipify.org')?_0x3b65f6=_0x43e5c3['data']['ip']:_0x56c8ea[_0xc15cc6(0x1f2)](_0xc15cc6(0x215))&&(_0x3b65f6=_0x43e5c3[_0xc15cc6(0x7ae)][_0xc15cc6(0x4cf)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0xc15cc6(0x5f9)][_0xc15cc6(0x55d)](_0xc15cc6(0x264)+_0x56c8ea+':\x20'+_0x3b65f6),!0x0;}catch(_0x1fbe2a){this[_0xc15cc6(0x5f9)][_0xc15cc6(0x393)](_0xc15cc6(0x22b)+_0x56c8ea+_0xc15cc6(0x74d)+_0x1fbe2a);}return!0x1;}catch(_0x1c86a1){return this[_0xc15cc6(0x5f9)]['error']('testProxy\x20error:\x20'+_0x1c86a1),_0x1c86a1[_0xc15cc6(0x569)]?(this[_0xc15cc6(0x5f9)]['error'](_0xc15cc6(0x4d5)+_0x1c86a1[_0xc15cc6(0x569)]['data']),this[_0xc15cc6(0x5f9)]['error'](_0xc15cc6(0x5dd)+_0x1c86a1[_0xc15cc6(0x569)]['status']),this[_0xc15cc6(0x5f9)][_0xc15cc6(0x393)](_0xc15cc6(0x29b)+_0x1c86a1[_0xc15cc6(0x569)][_0xc15cc6(0x2d3)])):_0x1c86a1[_0xc15cc6(0x343)]?this[_0xc15cc6(0x5f9)][_0xc15cc6(0x393)](_0xc15cc6(0x41f)+_0x1c86a1['request']):this[_0xc15cc6(0x5f9)][_0xc15cc6(0x393)](_0xc15cc6(0x61d)+_0x1c86a1[_0xc15cc6(0x793)]),!0x1;}}async[a0_0x569689(0x25c)](_0x45dd3c){const _0x5466c4=a0_0x569689;if(console[_0x5466c4(0x513)](_0x5466c4(0x25c)),await this['testProxy'](_0x45dd3c['host'],_0x45dd3c[_0x5466c4(0x7b1)],_0x45dd3c[_0x5466c4(0x3d6)],_0x45dd3c[_0x5466c4(0x225)],_0x45dd3c[_0x5466c4(0x34c)])){console['log']('working');let _0x97ac2f=_0x45dd3c[_0x5466c4(0x3d6)]+'://'+_0x45dd3c['host']+':'+_0x45dd3c[_0x5466c4(0x7b1)];return _0x45dd3c[_0x5466c4(0x225)]&&_0x45dd3c[_0x5466c4(0x34c)]&&(_0x97ac2f=_0x45dd3c[_0x5466c4(0x225)]+':'+_0x45dd3c[_0x5466c4(0x34c)]+'@'+_0x97ac2f),this[_0x5466c4(0x73b)][_0x5466c4(0x1a1)]['create']({'proxy':_0x97ac2f},this[_0x5466c4(0x56d)]['name']),{'agent':new wr[(_0x5466c4(0x22a))](_0x97ac2f)};}return null;}[a0_0x569689(0x27f)](_0x3f7ddd){const _0x13b244=a0_0x569689;let _0x3f9514=_0x3f7ddd['split'](':');if(_0x3f9514[_0x13b244(0x63c)]!==0x4)throw new Error(_0x13b244(0x725));return{'host':_0x3f9514[0x0],'port':_0x3f9514[0x1],'username':_0x3f9514[0x2],'password':_0x3f9514[0x3],'protocol':'http'};}async[a0_0x569689(0x288)](_0x10aad1,_0x536c61=!0x0){const _0x406136=a0_0x569689;try{let _0x1bac7d={},_0x28489c=0x0;if(Sr&&_0x536c61){let _0x1818ca;try{let _0x4b44d2=(await this['repository'][_0x406136(0x1a1)]['find'](this[_0x406136(0x439)]))['proxy'];for(_0x4b44d2&&(_0x1818ca=this['createProxyConfig'](_0x4b44d2)),_0x4b44d2&&ws(_0x1818ca)&&(_0x1bac7d=await this[_0x406136(0x25c)](_0x1818ca),_0x1bac7d&&_0x28489c++);!_0x1bac7d&&_0x28489c<0x3;){let _0x229f04=dr();if(_0x229f04){if(_0x1818ca=this[_0x406136(0x27f)](_0x229f04[_0x406136(0x6af)]+':'+_0x229f04[_0x406136(0x7b1)]+':'+_0x229f04[_0x406136(0x225)]+':'+_0x229f04[_0x406136(0x34c)]),ws(_0x1818ca)){if(_0x1bac7d=await this['tryProxy'](_0x1818ca),_0x1bac7d)break;}else this[_0x406136(0x5f9)][_0x406136(0x393)](_0x406136(0x31f));}_0x28489c++;}}catch(_0x5e5a2c){this[_0x406136(0x5f9)][_0x406136(0x393)](_0x406136(0x383)+_0x5e5a2c),_0x1bac7d={};}!_0x1bac7d&&_0x28489c>=0x3&&(this[_0x406136(0x5f9)][_0x406136(0x4df)](_0x406136(0x386)),_0x1bac7d={});}this['loadWebhook'](),this[_0x406136(0x56d)][_0x406136(0x308)]=await this[_0x406136(0x3de)]();let {version:_0x36d15e}=await(0x0,y[_0x406136(0x209)])(),_0x19f80d=[Ms,br,(0x0,bs[_0x406136(0x404)])()];console[_0x406136(0x513)](_0x406136(0x5db)),console[_0x406136(0x513)](_0x1bac7d);let _0x52cf14={..._0x1bac7d,'auth':{'creds':this[_0x406136(0x56d)][_0x406136(0x308)][_0x406136(0x2dc)][_0x406136(0x2e0)],'keys':(0x0,y['makeCacheableSignalKeyStore'])(this[_0x406136(0x56d)][_0x406136(0x308)][_0x406136(0x2dc)][_0x406136(0x77d)],(0x0,At['default'])({'level':'error'}))},'logger':(0x0,At[_0x406136(0x29a)])({'level':_0x406136(0x393)}),'printQRInTerminal':!0x1,'browser':_0x10aad1?[_0x406136(0x565),Ms,(0x0,bs[_0x406136(0x404)])()]:_0x19f80d,'version':_0x36d15e,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x406136(0x4a8)],'getMessage':async _0xb3630f=>await this[_0x406136(0x320)](_0xb3630f),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x406136(0x562)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x533b68=>(_0x533b68[_0x406136(0x466)]?.[_0x406136(0x4f7)]==y[_0x406136(0x472)][_0x406136(0x1bc)][_0x406136(0x5e4)][_0x406136(0x598)][_0x406136(0x61a)]&&(_0x533b68=JSON['parse'](JSON['stringify'](_0x533b68)),_0x533b68['listMessage'][_0x406136(0x4f7)]=y[_0x406136(0x472)][_0x406136(0x1bc)][_0x406136(0x5e4)][_0x406136(0x598)][_0x406136(0x353)]),_0x533b68)};return this[_0x406136(0x2b3)]=!0x1,this[_0x406136(0x543)]=(0x0,y[_0x406136(0x29a)])(_0x52cf14),this[_0x406136(0x6db)](),this['phoneNumber']=_0x10aad1,this[_0x406136(0x543)];}catch(_0xad8304){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x406136(0x56d)]['wuid']+_0x406136(0x5d3)+(_0xad8304 instanceof Error?_0xad8304['message']:JSON[_0x406136(0x28a)](_0xad8304,null,0x2))),new O(_0xad8304?.['toString']());}}[a0_0x569689(0x6db)](){const _0x50ddb7=a0_0x569689;this[_0x50ddb7(0x543)]['ev'][_0x50ddb7(0x45c)](_0x35d12e=>{const _0x355479=_0x50ddb7;if(!this[_0x355479(0x2b3)]){let _0x4756b3=this[_0x355479(0x555)][_0x355479(0x5de)](_0x355479(0x2ed));if(_0x35d12e[_0x355479(0x212)]){let _0x505d82=_0x35d12e[_0x355479(0x212)];this['messageHandle'][_0x355479(0x212)](_0x505d82);}if(_0x35d12e[_0x355479(0x33c)]){let _0x297c92=_0x35d12e[_0x355479(0x33c)];this['messageHandle']['labels.association'](_0x297c92);}if(_0x35d12e[_0x355479(0x4d6)]&&this[_0x355479(0x4ea)](_0x35d12e['connection.update']),_0x35d12e[_0x355479(0x605)]&&this[_0x355479(0x56d)][_0x355479(0x308)][_0x355479(0x564)](),_0x35d12e[_0x355479(0x796)]){let _0x49e9e8=_0x35d12e[_0x355479(0x796)];this[_0x355479(0x1a6)][_0x355479(0x796)](_0x49e9e8,_0x4756b3);}if(_0x35d12e[_0x355479(0x750)]){let _0x326fa7=_0x35d12e[_0x355479(0x750)];this[_0x355479(0x1a6)][_0x355479(0x750)](_0x326fa7,_0x4756b3);}if(_0x35d12e['messages.update']){let _0xcaf114=_0x35d12e[_0x355479(0x2bc)];_0xcaf114['forEach'](_0x1ec651=>{const _0x1e5306=_0x355479;if(gr[_0x1ec651['key']['id']]){this[_0x1e5306(0x543)]['ev']['emit'](_0x1e5306(0x750),{'messages':[_0x1ec651],'type':_0x1e5306(0x545)}),delete gr[_0x1ec651['key']['id']];return;}}),this[_0x355479(0x1a6)]['messages.update'](_0xcaf114,_0x4756b3);}if(_0x35d12e[_0x355479(0x302)]){let _0x417a98=_0x35d12e[_0x355479(0x302)];if(this[_0x355479(0x48a)]?.['groups_ignore']&&_0x417a98['id']['includes'](_0x355479(0x660)))return;this[_0x355479(0x7c2)](_0x355479(0x302),_0x417a98);}if(!this[_0x355479(0x48a)]?.[_0x355479(0x249)]){if(_0x35d12e['groups.upsert']){let _0x1a2bb1=_0x35d12e[_0x355479(0x731)];this['groupHandler'][_0x355479(0x731)](_0x1a2bb1);}if(_0x35d12e['groups.update']){let _0x562291=_0x35d12e['groups.update'];this[_0x355479(0x208)]['groups.update'](_0x562291);}if(_0x35d12e[_0x355479(0x285)]){let _0x25902c=_0x35d12e[_0x355479(0x285)];this[_0x355479(0x208)][_0x355479(0x285)](_0x25902c);}}if(_0x35d12e['chats.upsert']){let _0x1c2a43=_0x35d12e[_0x355479(0x6d0)];this[_0x355479(0x221)]['chats.upsert'](_0x1c2a43,_0x4756b3);}if(_0x35d12e[_0x355479(0x4e4)]){let _0x122e84=_0x35d12e[_0x355479(0x4e4)];this[_0x355479(0x221)][_0x355479(0x4e4)](_0x122e84,_0x4756b3);}if(_0x35d12e[_0x355479(0x37e)]){let _0x18a2c1=_0x35d12e[_0x355479(0x37e)];this[_0x355479(0x221)][_0x355479(0x37e)](_0x18a2c1);}if(_0x35d12e['contacts.upsert']){let _0x5d4b74=_0x35d12e[_0x355479(0x4b2)];this[_0x355479(0x5b3)]['contacts.upsert'](_0x5d4b74,_0x4756b3);}if(_0x35d12e[_0x355479(0x63e)]){let _0x2f1a67=_0x35d12e['contacts.update'];this[_0x355479(0x5b3)][_0x355479(0x63e)](_0x2f1a67,_0x4756b3);}}});}[a0_0x569689(0x64f)](_0x4f8af9){const _0x4ab407=a0_0x569689;let _0x54fc58=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4ab407(0x4aa)](_0x4f8af9);if(_0x54fc58&&_0x54fc58[0x1]==='55'){let _0x387799=_0x54fc58[0x2],_0x219e76=_0x54fc58[0x3],_0x5f0865=_0x54fc58[0x4];if(_0x387799>='31'&&_0x219e76==='9')return _0x54fc58[0x1]+_0x387799+_0x5f0865;}return _0x4f8af9;}[a0_0x569689(0x7bf)](_0x3d0230){const _0x44ac93=a0_0x569689;return _0x3d0230[_0x44ac93(0x1f2)](_0x44ac93(0x660))||_0x3d0230['includes'](_0x44ac93(0x491))||_0x3d0230[_0x44ac93(0x1f2)](_0x44ac93(0x3ec))?_0x3d0230:(_0x3d0230=_0x3d0230?.[_0x44ac93(0x52b)](/\s/g,'')[_0x44ac93(0x52b)](/\+/g,'')[_0x44ac93(0x52b)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x44ac93(0x348)]('@')[0x0],_0x3d0230[_0x44ac93(0x63c)]>=0x12?(_0x3d0230=_0x3d0230[_0x44ac93(0x52b)](/[^\d-]/g,''),_0x3d0230+_0x44ac93(0x660)):(_0x3d0230=_0x3d0230['replace'](/\D/g,''),this['formatBRNumber'](_0x3d0230)+'@s.whatsapp.net'));}async[a0_0x569689(0x78a)](_0x424c8f){const _0x422031=a0_0x569689;let _0x4f2e60=this[_0x422031(0x7bf)](_0x424c8f[_0x422031(0x347)]),_0x48f5fa=(await this[_0x422031(0x53b)]({'numbers':[_0x4f2e60]}))[0x0];if(!_0x48f5fa[_0x422031(0x2ec)]&&!(0x0,y[_0x422031(0x788)])(_0x48f5fa[_0x422031(0x332)]))throw new h(_0x48f5fa);let _0x938451=(0x0,y['isJidGroup'])(_0x4f2e60)?_0x4f2e60:_0x48f5fa[_0x422031(0x332)];if((0x0,y['isJidGroup'])(_0x938451))try{await this[_0x422031(0x543)]['groupMetadata'](_0x938451);}catch{throw new L(_0x422031(0x1c8));}try{return await this[_0x422031(0x543)][_0x422031(0x61b)](_0x938451),await this[_0x422031(0x543)]['sendPresenceUpdate'](_0x424c8f[_0x422031(0x329)],_0x4f2e60),{'status':0xc8,'presence':_0x424c8f[_0x422031(0x329)]};}catch(_0x5b49cc){throw new h(_0x5b49cc['toString']());}}async[a0_0x569689(0x6ba)](_0x15eb13){const _0x3b3ea6=a0_0x569689;let _0x180067=this[_0x3b3ea6(0x7bf)](_0x15eb13);try{return{'wuid':_0x180067,'profilePictureUrl':await this[_0x3b3ea6(0x543)][_0x3b3ea6(0x7a2)](_0x180067,'image')};}catch{return{'wuid':_0x180067,'profilePictureUrl':null};}}async[a0_0x569689(0x6e0)](_0x4669cc,_0x4939cf,_0x855eac){const _0x56f85e=a0_0x569689;_0x855eac||(_0x855eac={});let _0x45da40=(await this['whatsappNumber']({'numbers':[_0x4669cc]}))[0x0];if(!_0x45da40[_0x56f85e(0x2ec)]&&!(0x0,y[_0x56f85e(0x788)])(_0x45da40['jid'])&&!_0x45da40[_0x56f85e(0x332)][_0x56f85e(0x1f2)](_0x56f85e(0x3ec)))throw new h(_0x45da40);let _0x3b3fc5=_0x45da40[_0x56f85e(0x332)];try{_0x855eac?.[_0x56f85e(0x526)]&&(await this[_0x56f85e(0x543)][_0x56f85e(0x61b)](_0x3b3fc5),await this['client'][_0x56f85e(0x367)](_0x855eac?.[_0x56f85e(0x329)]??_0x56f85e(0x37f),_0x3b3fc5),await(0x0,y[_0x56f85e(0x526)])(_0x855eac['delay']),await this[_0x56f85e(0x543)][_0x56f85e(0x367)]('paused',_0x3b3fc5));let _0x3235b7=_0x855eac?.[_0x56f85e(0x4f8)]!=!0x1?void 0x0:!0x1,_0x39dd8d;if(_0x855eac?.['quoted']){let _0x2fb78f=_0x855eac?.[_0x56f85e(0x333)],_0xbd2365=_0x2fb78f?.[_0x56f85e(0x793)]?_0x2fb78f:await this['getMessage'](_0x2fb78f['key'],!0x0);if(!_0xbd2365)throw'Message\x20not\x20found';_0x39dd8d=_0xbd2365;}let _0x55fde6;if((0x0,y[_0x56f85e(0x788)])(_0x3b3fc5))try{let _0x24a8e2=await this['client'][_0x56f85e(0x3ca)](_0x3b3fc5);if(!_0x24a8e2)throw new L(_0x56f85e(0x1c8));_0x855eac?.['mentions']&&(_0x855eac[_0x56f85e(0x7a1)]?.[_0x56f85e(0x508)]?_0x55fde6=_0x24a8e2['participants'][_0x56f85e(0x46c)](_0x2825e1=>_0x2825e1['id']):_0x855eac['mentions']?.['mentioned']?.[_0x56f85e(0x63c)]&&(_0x55fde6=_0x855eac[_0x56f85e(0x7a1)][_0x56f85e(0x6c2)][_0x56f85e(0x46c)](_0x13e308=>{const _0x52bc92=_0x56f85e;let _0x115b23=this['createJid'](_0x13e308);return(0x0,y[_0x52bc92(0x788)])(_0x115b23)?null:_0x115b23;})));}catch{throw new L('Group\x20not\x20found');}let _0x32222b=await((async()=>{const _0x432207=_0x56f85e;let _0x51720f={'quoted':_0x39dd8d};if(!_0x4939cf[_0x432207(0x53a)]&&!_0x4939cf[_0x432207(0x3a0)]&&!_0x4939cf[_0x432207(0x655)]&&!_0x4939cf[_0x432207(0x3fb)]&&_0x3b3fc5!==_0x432207(0x614)&&!_0x4939cf['audio'])return await this[_0x432207(0x543)][_0x432207(0x530)](_0x3b3fc5,{'forward':{'key':{'remoteJid':this['instance'][_0x432207(0x4fb)],'fromMe':!0x0},'message':_0x4939cf},'mentions':_0x55fde6},_0x51720f);if(_0x4939cf[_0x432207(0x3fb)]){let _0x473122=_0x4939cf[_0x432207(0x3fb)];return _0x855eac?.[_0x432207(0x730)]&&(_0x473122=await this[_0x432207(0x568)](_0x473122,_0x3b3fc5)),await this[_0x432207(0x543)][_0x432207(0x530)](_0x3b3fc5,{'text':_0x473122,'mentions':_0x55fde6,'linkPreview':_0x3235b7},_0x51720f);}return _0x3b3fc5==='status@broadcast'?await this[_0x432207(0x543)][_0x432207(0x530)](_0x3b3fc5,_0x4939cf[_0x432207(0x5d4)][_0x432207(0x7a6)],{'backgroundColor':_0x4939cf[_0x432207(0x5d4)][_0x432207(0x36b)][_0x432207(0x331)],'font':_0x4939cf[_0x432207(0x5d4)][_0x432207(0x36b)][_0x432207(0x689)],'statusJidList':_0x4939cf[_0x432207(0x5d4)][_0x432207(0x36b)]['statusJidList']}):await this[_0x432207(0x543)]['sendMessage'](_0x3b3fc5,_0x4939cf,_0x51720f);})()),{message_normalized:_0x2b8a6f}=this['normalizeMessage'](_0x32222b[_0x56f85e(0x793)],_(_0x32222b[_0x56f85e(0x793)]),null),_0x3aaa70={'_id':_0x32222b['key']['id'],'key':_0x32222b[_0x56f85e(0x2b9)],'pushName':_0x32222b[_0x56f85e(0x37c)],'message':{..._0x32222b['message']},'messageType':_(_0x32222b[_0x56f85e(0x793)]),'message_normalized':{'key':_0x32222b[_0x56f85e(0x2b9)],'pushName':_0x32222b['pushName'],'messageTimestamp':_0x32222b['messageTimestamp']&&_0x32222b[_0x56f85e(0x4f3)][_0x56f85e(0x6be)]()[_0x56f85e(0x63c)]<0xd?_0x32222b[_0x56f85e(0x4f3)]*0x3e8:_0x32222b['messageTimestamp']||null,'source':(0x0,y[_0x56f85e(0x5c0)])(_0x32222b[_0x56f85e(0x2b9)]['id']),..._0x2b8a6f},'messageTimestamp':_0x32222b[_0x56f85e(0x4f3)]&&_0x32222b['messageTimestamp'][_0x56f85e(0x6be)]()['length']<0xd?_0x32222b[_0x56f85e(0x4f3)]*0x3e8:_0x32222b[_0x56f85e(0x4f3)]||null,'owner':this['instance']['wuid'],'source':(0x0,y[_0x56f85e(0x5c0)])(_0x32222b['key']['id'])};return this[_0x56f85e(0x5f9)][_0x56f85e(0x513)](_0x3aaa70),this['sendDataWebhook'](_0x56f85e(0x42d),_0x3aaa70),q(this['instanceName'],_0x56f85e(0x213),{'message':_0x3aaa70}),this['updateChatWithMessage'](this[_0x56f85e(0x555)][_0x56f85e(0x5de)]('DATABASE'),_0x3aaa70,_0x56f85e(0x645)),await this[_0x56f85e(0x73b)][_0x56f85e(0x793)][_0x56f85e(0x4fa)]([_0x3aaa70],this[_0x56f85e(0x56d)][_0x56f85e(0x4fb)]),_0x32222b;}catch(_0x5566df){throw this[_0x56f85e(0x5f9)][_0x56f85e(0x393)](this[_0x56f85e(0x439)]+'\x20('+this[_0x56f85e(0x56d)][_0x56f85e(0x4fb)]+_0x56f85e(0x5d3)+_0x5566df[_0x56f85e(0x6be)]()),new h(_0x5566df['toString']());}}get[a0_0x569689(0x2fc)](){const _0x22231d=a0_0x569689;return this[_0x22231d(0x6ca)];}async[a0_0x569689(0x262)](_0x2273a4){const _0x3dc13c=a0_0x569689;let _0x44f8d8=pr,_0x4f51a0=He;return _0x4f51a0&&this['instanceName'][_0x3dc13c(0x357)]()['includes'](_0x4f51a0[_0x3dc13c(0x357)]())&&(_0x2273a4[_0x3dc13c(0x262)][_0x3dc13c(0x39f)]+='\x0a\x0a'+_0x44f8d8),await this[_0x3dc13c(0x6e0)](_0x2273a4['number'],{'conversation':_0x2273a4['textMessage']['text']},_0x2273a4?.['options']);}async[a0_0x569689(0x219)](_0x2e088a){const _0x7587f=a0_0x569689;if(!_0x2e088a[_0x7587f(0x1c6)])throw new h(_0x7587f(0x5a2));if(!_0x2e088a[_0x7587f(0x7a6)])throw new h(_0x7587f(0x65e));if(_0x2e088a[_0x7587f(0x2e2)]){let _0x5ec0b9=await this[_0x7587f(0x73b)][_0x7587f(0x1b0)][_0x7587f(0x3e0)]({'where':{}},this[_0x7587f(0x56d)][_0x7587f(0x4fb)]);if(!_0x5ec0b9['length'])throw new h('Contacts\x20not\x20found');_0x2e088a[_0x7587f(0x3f1)]=_0x5ec0b9[_0x7587f(0x52f)](_0x2ccbf2=>_0x2ccbf2[_0x7587f(0x37c)])['map'](_0x5d33f2=>_0x5d33f2[_0x7587f(0x301)]);}if(!_0x2e088a[_0x7587f(0x3f1)]?.[_0x7587f(0x63c)]&&!_0x2e088a[_0x7587f(0x2e2)])throw new h(_0x7587f(0x2b1));if(_0x2e088a[_0x7587f(0x1c6)]===_0x7587f(0x39f)){if(!_0x2e088a[_0x7587f(0x331)])throw new h(_0x7587f(0x677));if(!_0x2e088a[_0x7587f(0x689)])throw new h(_0x7587f(0x6a5));return{'content':{'text':_0x2e088a[_0x7587f(0x7a6)]},'option':{'backgroundColor':_0x2e088a[_0x7587f(0x331)],'font':_0x2e088a[_0x7587f(0x689)],'statusJidList':_0x2e088a[_0x7587f(0x3f1)]}};}if(_0x2e088a['type']===_0x7587f(0x379))return{'content':{'image':{'url':_0x2e088a[_0x7587f(0x7a6)]},'caption':_0x2e088a[_0x7587f(0x2c8)]},'option':{'statusJidList':_0x2e088a[_0x7587f(0x3f1)]}};if(_0x2e088a[_0x7587f(0x1c6)]===_0x7587f(0x619))return{'content':{'video':{'url':_0x2e088a['content']},'caption':_0x2e088a[_0x7587f(0x2c8)]},'option':{'statusJidList':_0x2e088a['statusJidList']}};if(_0x2e088a[_0x7587f(0x1c6)]==='audio'){this[_0x7587f(0x5f9)][_0x7587f(0x55d)](_0x7587f(0x734)),this[_0x7587f(0x5f9)][_0x7587f(0x55d)](_0x7587f(0x2c4));let _0x5bcdf6=await this[_0x7587f(0x5af)](_0x2e088a[_0x7587f(0x7a6)]);if(typeof _0x5bcdf6==_0x7587f(0x4b7)){this[_0x7587f(0x5f9)][_0x7587f(0x55d)](_0x7587f(0x22f));let _0x257f6f=k['readFileSync'](_0x5bcdf6)[_0x7587f(0x6be)](_0x7587f(0x48d)),_0x2458cc={'content':{'audio':Buffer['from'](_0x257f6f,_0x7587f(0x48d)),'ptt':!0x0,'mimetype':_0x7587f(0x25a)},'option':{'statusJidList':_0x2e088a[_0x7587f(0x3f1)]}};return k[_0x7587f(0x4d9)](_0x5bcdf6),_0x2458cc;}else throw new O(_0x5bcdf6);}throw new h(_0x7587f(0x575));}async[a0_0x569689(0x38c)](_0x294196){const _0x2c174=a0_0x569689;return await this['sendMessageWithTyping'](_0x2c174(0x614),{'status':await this['formatStatusMessage'](_0x294196['statusMessage'])});}async[a0_0x569689(0x507)](_0xba74a4){const _0x47b323=a0_0x569689;try{let _0x1fcb3b=await(0x0,y['prepareWAMessageMedia'])({[_0xba74a4['mediatype']]:(0x0,$[_0x47b323(0x737)])(_0xba74a4['media'])?{'url':_0xba74a4[_0x47b323(0x651)]}:Buffer[_0x47b323(0x68a)](_0xba74a4[_0x47b323(0x651)],_0x47b323(0x48d))},{'upload':this[_0x47b323(0x543)][_0x47b323(0x2bb)]}),_0x4fd8b7=_0xba74a4[_0x47b323(0x66f)]+_0x47b323(0x1bc);if(_0xba74a4['mediatype']===_0x47b323(0x1af)&&!_0xba74a4[_0x47b323(0x490)]){let _0x101424=new RegExp(/.*\/(.+?)\./)['exec'](_0xba74a4[_0x47b323(0x651)]);_0xba74a4[_0x47b323(0x490)]=_0x101424?_0x101424[0x1]:null;}let _0x23a68b=(0x0,$[_0x47b323(0x737)])(_0xba74a4[_0x47b323(0x651)])?_0xba74a4[_0x47b323(0x651)][_0x47b323(0x348)]('?')[0x0]:_0xba74a4[_0x47b323(0x651)];this['logger'][_0x47b323(0x55d)](_0x47b323(0x3c4)+_0x23a68b);let _0x37af25;(0x0,$[_0x47b323(0x737)])(_0xba74a4[_0x47b323(0x651)])?_0x37af25=(0x0,Ot[_0x47b323(0x36e)])(_0x23a68b):_0xba74a4[_0x47b323(0x490)]&&_0xba74a4[_0x47b323(0x490)][_0x47b323(0x1f2)]('.')?_0x37af25=(0x0,Ot['getMIMEType'])(_0xba74a4[_0x47b323(0x490)]):_0x37af25=(0x0,Ot[_0x47b323(0x36e)])(_0xba74a4[_0x47b323(0x651)]);let _0x45645e=pr,_0x47f2c5=He;return _0x47f2c5&&this['instanceName']['toLowerCase']()[_0x47b323(0x1f2)](_0x47f2c5[_0x47b323(0x357)]())&&(_0xba74a4[_0x47b323(0x2c8)]+='\x0a\x0a'+_0x45645e),_0x1fcb3b[_0x4fd8b7]['caption']=_0xba74a4?.[_0x47b323(0x2c8)],_0x1fcb3b[_0x4fd8b7][_0x47b323(0x312)]=_0x37af25,_0x1fcb3b[_0x4fd8b7][_0x47b323(0x490)]=_0xba74a4['fileName'],_0xba74a4['mediatype']===_0x47b323(0x619)&&(_0x1fcb3b[_0x4fd8b7]['jpegThumbnail']=Uint8Array[_0x47b323(0x68a)]((0x0,Me[_0x47b323(0x7a5)])((0x0,P[_0x47b323(0x1ee)])(process[_0x47b323(0x66a)](),'video-cover.png'))),_0x1fcb3b[_0x4fd8b7]['gifPlayback']=!0x1),(0x0,y[_0x47b323(0x680)])('',{[_0x4fd8b7]:{..._0x1fcb3b[_0x4fd8b7]}},{'userJid':this[_0x47b323(0x56d)][_0x47b323(0x4fb)]});}catch(_0x46685e){throw this[_0x47b323(0x5f9)][_0x47b323(0x393)](this[_0x47b323(0x439)]+'\x20('+this[_0x47b323(0x56d)][_0x47b323(0x4fb)]+_0x47b323(0x5d3)+(_0x46685e instanceof Error?_0x46685e[_0x47b323(0x793)]:JSON[_0x47b323(0x28a)](_0x46685e,null,0x2))),new O(_0x46685e?.[_0x47b323(0x6be)]()||_0x46685e);}}async[a0_0x569689(0x459)](_0x4c87cf){const _0x521e13=a0_0x569689;let _0x4b4640=await this[_0x521e13(0x507)](_0x4c87cf[_0x521e13(0x459)]);return await this['sendMessageWithTyping'](_0x4c87cf[_0x521e13(0x347)],{..._0x4b4640[_0x521e13(0x793)]},_0x4c87cf?.[_0x521e13(0x5db)]);}async[a0_0x569689(0x457)](_0x2118b4,_0x5975bd){const _0x5ddf2b=a0_0x569689;try{this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x71f));let _0x5868e9,_0x45ccab=_0x5975bd+'-'+new Date()['getTime']();this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x266)+_0x45ccab);let _0x439364=''+(0x0,P['join'])(this['storePath'],_0x45ccab+_0x5ddf2b(0x6d1));if(this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x372)+_0x439364),(0x0,$[_0x5ddf2b(0x1fd)])(_0x2118b4)){this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x41c));let _0x3719ec=_0x2118b4[_0x5ddf2b(0x52b)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x44eb29=Buffer[_0x5ddf2b(0x68a)](_0x3719ec,'base64');_0x5868e9=''+(0x0,P['join'])(this['storePath'],_0x5ddf2b(0x422)+_0x45ccab+'.png'),this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x778)+_0x5868e9),await(0x0,It['default'])(_0x44eb29)[_0x5ddf2b(0x4ff)](_0x5868e9),this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x54d));}else{this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)]('Image\x20is\x20url');let _0x599ffa=new Date()[_0x5ddf2b(0x593)](),_0x4f5d29=_0x2118b4+_0x5ddf2b(0x728)+_0x599ffa;this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x6b3)+_0x4f5d29);let _0x46c0c9=await se[_0x5ddf2b(0x29a)][_0x5ddf2b(0x5de)](_0x4f5d29,{'responseType':_0x5ddf2b(0x64d)});this[_0x5ddf2b(0x5f9)]['verbose']('Getting\x20image\x20from\x20url');let _0x4da233=Buffer[_0x5ddf2b(0x68a)](_0x46c0c9[_0x5ddf2b(0x7ae)],_0x5ddf2b(0x584));_0x5868e9=''+(0x0,P[_0x5ddf2b(0x1ee)])(this[_0x5ddf2b(0x3d5)],_0x5ddf2b(0x422)+_0x45ccab+_0x5ddf2b(0x7b9)),this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x778)+_0x5868e9),await(0x0,It['default'])(_0x4da233)[_0x5ddf2b(0x4ff)](_0x5868e9),this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x54d));}return await(0x0,It['default'])(_0x5868e9)[_0x5ddf2b(0x453)]()[_0x5ddf2b(0x4ff)](_0x439364),this['logger'][_0x5ddf2b(0x55d)](_0x5ddf2b(0x313)),k['unlinkSync'](_0x5868e9),this[_0x5ddf2b(0x5f9)][_0x5ddf2b(0x55d)](_0x5ddf2b(0x672)),_0x439364;}catch(_0x3c0817){console[_0x5ddf2b(0x393)](_0x5ddf2b(0x607),_0x3c0817 instanceof Error?_0x3c0817[_0x5ddf2b(0x793)]:JSON[_0x5ddf2b(0x28a)](_0x3c0817,null,0x2));}}async[a0_0x569689(0x1b9)](_0x18a8b2){const _0x3a1ac7=a0_0x569689;let _0x587761=await this[_0x3a1ac7(0x457)](_0x18a8b2[_0x3a1ac7(0x4da)][_0x3a1ac7(0x379)],_0x18a8b2[_0x3a1ac7(0x347)]),_0x51d6e0=await this[_0x3a1ac7(0x6e0)](_0x18a8b2['number'],{'sticker':{'url':_0x587761}},_0x18a8b2?.[_0x3a1ac7(0x5db)]);return k[_0x3a1ac7(0x4d9)](_0x587761),this['logger'][_0x3a1ac7(0x55d)](_0x3a1ac7(0x768)),_0x51d6e0;}async['audioWhatsapp'](_0x18a5cf){const _0x24359c=a0_0x569689;if(this[_0x24359c(0x5f9)][_0x24359c(0x55d)](_0x24359c(0x623)),!_0x18a5cf[_0x24359c(0x5db)]?.[_0x24359c(0x4e7)]&&_0x18a5cf['options']?.[_0x24359c(0x4e7)]!==!0x1&&(_0x18a5cf[_0x24359c(0x5db)]['encoding']=!0x0),_0x18a5cf[_0x24359c(0x5db)]?.[_0x24359c(0x4e7)]){let _0x1674fb=await this['convertaudio'](_0x18a5cf[_0x24359c(0x777)]['audio']);if(typeof _0x1674fb=='string'){let _0x5d232d=k[_0x24359c(0x7a5)](_0x1674fb)['toString'](_0x24359c(0x48d)),_0x13acaf=this[_0x24359c(0x6e0)](_0x18a5cf[_0x24359c(0x347)],{'audio':Buffer[_0x24359c(0x68a)](_0x5d232d,_0x24359c(0x48d)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':'recording','delay':_0x18a5cf?.['options']?.[_0x24359c(0x526)]});return k[_0x24359c(0x4d9)](_0x1674fb),this['logger'][_0x24359c(0x55d)](_0x24359c(0x596)),_0x13acaf;}else throw new O(_0x1674fb);}return await this[_0x24359c(0x6e0)](_0x18a5cf[_0x24359c(0x347)],{'audio':(0x0,$['isURL'])(_0x18a5cf[_0x24359c(0x777)]['audio'])?{'url':_0x18a5cf[_0x24359c(0x777)]['audio']}:Buffer[_0x24359c(0x68a)](_0x18a5cf[_0x24359c(0x777)][_0x24359c(0x53a)],_0x24359c(0x48d)),'ptt':!0x0,'mimetype':_0x24359c(0x4f4)},{'presence':_0x24359c(0x43a),'delay':_0x18a5cf?.[_0x24359c(0x5db)]?.[_0x24359c(0x526)]});}async[a0_0x569689(0x5af)](_0x55f5a0){const _0x3b92ef=a0_0x569689;this[_0x3b92ef(0x5f9)][_0x3b92ef(0x55d)](_0x3b92ef(0x2c4));let _0x5166f5,_0x296d01,_0x55d061=(0x0,fe['v4'])();if(this[_0x3b92ef(0x5f9)][_0x3b92ef(0x55d)](_0x3b92ef(0x26c)+_0x55d061),(0x0,$[_0x3b92ef(0x737)])(_0x55f5a0)){this['logger'][_0x3b92ef(0x55d)](_0x3b92ef(0x1ef)),_0x296d01=''+(0x0,P[_0x3b92ef(0x1ee)])(this[_0x3b92ef(0x3d5)],_0x55d061+_0x3b92ef(0x468)),_0x5166f5=''+(0x0,P[_0x3b92ef(0x1ee)])(this[_0x3b92ef(0x3d5)],_0x3b92ef(0x422)+_0x55d061+_0x3b92ef(0x43b)),this['logger'][_0x3b92ef(0x55d)]('Output\x20audio\x20path:\x20'+_0x296d01),this['logger'][_0x3b92ef(0x55d)](_0x3b92ef(0x2c5)+_0x5166f5);let _0x388581=new Date()['getTime'](),_0x238cca=_0x55f5a0+_0x3b92ef(0x728)+_0x388581;this['logger'][_0x3b92ef(0x55d)](_0x3b92ef(0x55f)+_0x238cca);let _0x29baba=await se[_0x3b92ef(0x29a)]['get'](_0x238cca,{'responseType':_0x3b92ef(0x64d)});this['logger']['verbose'](_0x3b92ef(0x438)),k['writeFileSync'](_0x5166f5,_0x29baba['data']);}else{this[_0x3b92ef(0x5f9)][_0x3b92ef(0x55d)](_0x3b92ef(0x58f)),_0x296d01=''+(0x0,P[_0x3b92ef(0x1ee)])(this[_0x3b92ef(0x3d5)],_0x55d061+_0x3b92ef(0x468)),_0x5166f5=''+(0x0,P[_0x3b92ef(0x1ee)])(this[_0x3b92ef(0x3d5)],_0x3b92ef(0x422)+_0x55d061+_0x3b92ef(0x43b)),this['logger'][_0x3b92ef(0x55d)](_0x3b92ef(0x518)+_0x296d01),this[_0x3b92ef(0x5f9)][_0x3b92ef(0x55d)]('Temp\x20audio\x20path:\x20'+_0x5166f5);let _0x332e64=Buffer['from'](_0x55f5a0,_0x3b92ef(0x48d));k[_0x3b92ef(0x544)](_0x5166f5,_0x332e64),this[_0x3b92ef(0x5f9)][_0x3b92ef(0x55d)]('Temp\x20audio\x20created');}return this[_0x3b92ef(0x5f9)][_0x3b92ef(0x55d)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x43f597,_0x106ba3)=>{const _0x29fe99=_0x3b92ef;(0x0,Dt[_0x29fe99(0x4aa)])(hr[_0x29fe99(0x29a)]['path']+_0x29fe99(0x391)+_0x5166f5+_0x29fe99(0x745)+_0x296d01+_0x29fe99(0x260),_0xc33ccf=>{const _0x54216b=_0x29fe99;k[_0x54216b(0x4d9)](_0x5166f5),this[_0x54216b(0x5f9)][_0x54216b(0x55d)](_0x54216b(0x2be)),_0xc33ccf&&_0x106ba3(_0xc33ccf),this[_0x54216b(0x5f9)]['verbose'](_0x54216b(0x76d)),_0x43f597(_0x296d01);});});}async['buttonMessage'](_0x5834c4){const _0x1321fe=a0_0x569689;let _0x610672={},_0x43ad43=_0x1321fe(0x50e);if(_0x5834c4[_0x1321fe(0x719)]?.[_0x1321fe(0x459)]){_0x43ad43=_0x5834c4['buttonMessage'][_0x1321fe(0x459)]?.[_0x1321fe(0x66f)][_0x1321fe(0x3c1)]()??_0x1321fe(0x50e),_0x610672[_0x1321fe(0x461)]=_0x43ad43[_0x1321fe(0x357)]()+_0x1321fe(0x1bc);let _0x300503=await this[_0x1321fe(0x507)](_0x5834c4[_0x1321fe(0x719)][_0x1321fe(0x459)]);_0x610672[_0x1321fe(0x793)]=_0x300503['message'][_0x610672[_0x1321fe(0x461)]],_0x610672[_0x1321fe(0x6b0)]='*'+_0x5834c4[_0x1321fe(0x719)]['title']+_0x1321fe(0x647)+_0x5834c4['buttonMessage'][_0x1321fe(0x68e)];}let _0xc7bcf8={'text':_0x5834c4[_0x1321fe(0x719)][_0x1321fe(0x71b)][_0x1321fe(0x46c)](_0x42fbbc=>_0x42fbbc[_0x1321fe(0x5c9)]),'ids':_0x5834c4[_0x1321fe(0x719)][_0x1321fe(0x71b)][_0x1321fe(0x46c)](_0x40cb34=>_0x40cb34[_0x1321fe(0x52c)])};if(!(0x0,$[_0x1321fe(0x366)])(_0xc7bcf8['text'])||!(0x0,$['arrayUnique'])(_0xc7bcf8[_0x1321fe(0x553)]))throw new h(_0x1321fe(0x296),_0x1321fe(0x34f));return await this[_0x1321fe(0x6e0)](_0x5834c4[_0x1321fe(0x347)],{'buttonsMessage':{'text':_0x610672?.[_0x1321fe(0x461)]?void 0x0:_0x5834c4['buttonMessage'][_0x1321fe(0x5d8)],'contentText':_0x610672?.[_0x1321fe(0x6b0)]??_0x5834c4[_0x1321fe(0x719)][_0x1321fe(0x68e)],'footerText':_0x5834c4[_0x1321fe(0x719)]?.[_0x1321fe(0x1c9)],'buttons':_0x5834c4[_0x1321fe(0x719)][_0x1321fe(0x71b)][_0x1321fe(0x46c)](_0xcc1702=>({'buttonText':{'displayText':_0xcc1702['buttonText']},'buttonId':_0xcc1702[_0x1321fe(0x52c)],'type':0x1})),'headerType':y[_0x1321fe(0x472)]['Message']['ButtonsMessage']['HeaderType'][_0x43ad43],[_0x610672?.[_0x1321fe(0x461)]]:_0x610672?.[_0x1321fe(0x793)]}},_0x5834c4?.[_0x1321fe(0x5db)]);}async[a0_0x569689(0x256)](_0x193b75){const _0x359c38=a0_0x569689;return await this[_0x359c38(0x6e0)](_0x193b75[_0x359c38(0x347)],{'locationMessage':{'degreesLatitude':_0x193b75[_0x359c38(0x256)][_0x359c38(0x1df)],'degreesLongitude':_0x193b75['locationMessage'][_0x359c38(0x51d)],'name':_0x193b75[_0x359c38(0x256)]?.[_0x359c38(0x222)],'address':_0x193b75[_0x359c38(0x256)]?.[_0x359c38(0x33b)]}},_0x193b75?.[_0x359c38(0x5db)]);}async['contactMessage'](_0xc657fa){const _0x37651e=a0_0x569689;let _0x285a32={},_0x2d90d4=_0x384ae2=>{const _0x4e75c5=a0_0x4dbe;let _0x2d3efd='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x384ae2[_0x4e75c5(0x56a)]+'\x0aFN:'+_0x384ae2[_0x4e75c5(0x56a)]+'\x0a';_0x384ae2['organization']&&(_0x2d3efd+=_0x4e75c5(0x2b7)+_0x384ae2[_0x4e75c5(0x6b9)]+';\x0a'),_0x384ae2[_0x4e75c5(0x1d0)]&&(_0x2d3efd+=_0x4e75c5(0x362)+_0x384ae2[_0x4e75c5(0x1d0)]+'\x0a'),_0x384ae2[_0x4e75c5(0x6ab)]&&(_0x2d3efd+=_0x4e75c5(0x606)+_0x384ae2[_0x4e75c5(0x6ab)]+'\x0a');let _0x5d4ee9='';return _0x384ae2[_0x4e75c5(0x1da)]&&_0x384ae2[_0x4e75c5(0x1da)]['split']('|')[_0x4e75c5(0x6b4)]((_0xeed7a5,_0x4a8f4a)=>{const _0x13fe0f=_0x4e75c5;let _0x18c02c=this[_0x13fe0f(0x7bf)](_0xeed7a5)[_0x13fe0f(0x52b)](_0x13fe0f(0x491),'');_0x5d4ee9+=_0x13fe0f(0x3cd)+(_0x4a8f4a+0x1)+_0x13fe0f(0x267)+_0x18c02c+':'+_0xeed7a5+'\x0aitem'+(_0x4a8f4a+0x1)+_0x13fe0f(0x467);}),_0x2d3efd+=_0x5d4ee9+'END:VCARD',_0x2d3efd;};return _0xc657fa[_0x37651e(0x30f)][_0x37651e(0x63c)]===0x1?_0x285a32[_0x37651e(0x30f)]={'displayName':_0xc657fa['contactMessage'][0x0]['fullName'],'vcard':_0x2d90d4(_0xc657fa[_0x37651e(0x30f)][0x0])}:_0x285a32[_0x37651e(0x46a)]={'displayName':_0xc657fa[_0x37651e(0x30f)][_0x37651e(0x63c)]+_0x37651e(0x7b7),'contacts':_0xc657fa[_0x37651e(0x30f)][_0x37651e(0x46c)](_0x3f761f=>({'displayName':_0x3f761f['fullName'],'vcard':_0x2d90d4(_0x3f761f)}))},await this[_0x37651e(0x6e0)](_0xc657fa[_0x37651e(0x347)],{..._0x285a32},_0xc657fa?.[_0x37651e(0x5db)]);}async[a0_0x569689(0x1c5)](_0x1ed599){const _0x48ddd5=a0_0x569689;return await this[_0x48ddd5(0x6e0)](_0x1ed599['reactionMessage'][_0x48ddd5(0x2b9)][_0x48ddd5(0x325)],{'reactionMessage':{'key':_0x1ed599[_0x48ddd5(0x1c5)]['key'],'text':_0x1ed599[_0x48ddd5(0x1c5)][_0x48ddd5(0x4a5)]}});}async[a0_0x569689(0x53b)](_0x5b642f){const _0x4f57e6=a0_0x569689;let _0x2bb7f3=[];for await(let _0x463a1d of _0x5b642f['numbers']){let _0x1ca0d9=this[_0x4f57e6(0x7bf)](_0x463a1d),_0xb4565b=!0x1;try{if((0x0,y[_0x4f57e6(0x788)])(_0x1ca0d9)){let _0x5257fc=await this[_0x4f57e6(0x1bb)]({'groupJid':_0x1ca0d9},_0x4f57e6(0x28c));_0x2bb7f3[_0x4f57e6(0x392)](new ge(_0x5257fc[_0x4f57e6(0x527)]['id'],!!_0x5257fc?.[_0x4f57e6(0x527)]['id'],_0x5257fc?.[_0x4f57e6(0x527)]['subject'])),_0xb4565b=!!_0x5257fc?.[_0x4f57e6(0x527)]['id'];}else{let _0x24941d=(await this[_0x4f57e6(0x543)][_0x4f57e6(0x1e3)](_0x1ca0d9))[0x0];_0x2bb7f3['push'](new ge(_0x24941d[_0x4f57e6(0x332)],_0x24941d[_0x4f57e6(0x2ec)])),_0xb4565b=_0x24941d[_0x4f57e6(0x2ec)];}}catch{_0x2bb7f3[_0x4f57e6(0x392)](new ge(_0x463a1d,!0x1));}finally{await this['checkAndUpdateChatStatus'](_0x1ca0d9,_0xb4565b);}}return _0x2bb7f3;}async['checkAndUpdateChatStatus'](_0x3378b3,_0x5a5dbf){const _0x513875=a0_0x569689;try{await this['repository'][_0x513875(0x674)]['findOne']({'where':{'_id':_0x3378b3,'imported':!0x0}},this[_0x513875(0x56d)][_0x513875(0x4fb)])&&(_0x5a5dbf?await this[_0x513875(0x73b)][_0x513875(0x674)][_0x513875(0x616)]({'where':{'_id':_0x3378b3}},{'imported':!0x1},this[_0x513875(0x56d)][_0x513875(0x4fb)],void 0x0,_0x513875(0x397)):(await this[_0x513875(0x73b)][_0x513875(0x674)][_0x513875(0x75b)](_0x3378b3,this[_0x513875(0x56d)][_0x513875(0x4fb)]),console[_0x513875(0x513)](_0x513875(0x3fa)+_0x3378b3+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x534024){console['error'](_0x513875(0x4a4),_0x534024);}}async[a0_0x569689(0x5ab)](_0x33ba2c){const _0x5b3952=a0_0x569689;try{let _0x349188=_0x33ba2c[_0x5b3952(0x3c9)][_0x5b3952(0x52f)](_0x1a37e0=>(0x0,y[_0x5b3952(0x788)])(_0x1a37e0['remoteJid'])||(0x0,y[_0x5b3952(0x4b8)])(_0x1a37e0['remoteJid']))[_0x5b3952(0x46c)](_0x4969fe=>({'remoteJid':_0x4969fe['remoteJid'],'fromMe':_0x4969fe[_0x5b3952(0x4c4)],'id':_0x4969fe['id']}));await this['client'][_0x5b3952(0x3c9)](_0x349188);let _0x193d13=_0x349188['map'](_0x30a951=>this[_0x5b3952(0x3f7)](_0x30a951,{'status':'READ','owner':this[_0x5b3952(0x56d)][_0x5b3952(0x4fb)]})),_0x556e1e=_0x349188[_0x5b3952(0x46c)](_0x545ebf=>this['repository'][_0x5b3952(0x674)]['updateOne']({'where':{'_id':_0x545ebf[_0x5b3952(0x325)]}},{'unreadcount':0x0},this[_0x5b3952(0x56d)][_0x5b3952(0x4fb)])),[_0x53929f,_0x86f83b]=await Promise['all']([Promise[_0x5b3952(0x741)](_0x193d13),Promise[_0x5b3952(0x741)](_0x556e1e)]);return _0x86f83b['filter'](_0x2e14b6=>_0x2e14b6!==null)['forEach'](_0x31042c=>{const _0x4317f4=_0x5b3952;q(this[_0x4317f4(0x439)],'chats',{'chat':_0x31042c});}),{'message':_0x5b3952(0x494),'read':_0x5b3952(0x470)};}catch(_0x1af1cf){throw console[_0x5b3952(0x393)](_0x5b3952(0x4ca),_0x1af1cf),new O(_0x5b3952(0x1db),_0x1af1cf[_0x5b3952(0x6be)]());}}async[a0_0x569689(0x2a8)](_0x569328){const _0x352979=a0_0x569689;let _0x71db0f=await this['fetchMessages']({'where':{'key':{'remoteJid':_0x569328}}}),_0x2515de=_0x71db0f[_0x352979(0x60c)]();for(let _0x597126 of _0x71db0f)_0x597126[_0x352979(0x4f3)]>=_0x2515de['messageTimestamp']&&(_0x2515de=_0x597126);return _0x2515de;}async[a0_0x569689(0x4c1)](_0x4fd0f6){const _0x250bd6=a0_0x569689;this[_0x250bd6(0x5f9)][_0x250bd6(0x55d)](_0x250bd6(0x2d9));try{let _0x195a7a=_0x4fd0f6[_0x250bd6(0x743)],_0x30ee3b=_0x4fd0f6[_0x250bd6(0x674)];if(!_0x195a7a&&_0x30ee3b?_0x195a7a=await this[_0x250bd6(0x2a8)](_0x30ee3b):(_0x195a7a=_0x4fd0f6[_0x250bd6(0x743)],_0x195a7a[_0x250bd6(0x4f3)]=_0x195a7a?.[_0x250bd6(0x4f3)]??Date[_0x250bd6(0x70c)](),_0x30ee3b=_0x195a7a?.[_0x250bd6(0x2b9)]?.[_0x250bd6(0x325)]),!_0x195a7a||Object[_0x250bd6(0x77d)](_0x195a7a)[_0x250bd6(0x63c)]===0x0)throw new L(_0x250bd6(0x69b));await this[_0x250bd6(0x543)]['chatModify']({'archive':_0x4fd0f6['archive'],'lastMessages':[_0x195a7a]},this[_0x250bd6(0x7bf)](_0x30ee3b));let _0x355636=await this[_0x250bd6(0x73b)][_0x250bd6(0x674)][_0x250bd6(0x616)]({'where':{'_id':_0x195a7a?.[_0x250bd6(0x2b9)]?.[_0x250bd6(0x325)]}},{'archived':_0x4fd0f6[_0x250bd6(0x74e)]},this['instance'][_0x250bd6(0x4fb)]);return _0x355636&&q(this[_0x250bd6(0x439)],_0x250bd6(0x6ee),{'chat':_0x355636}),{'chatId':_0x30ee3b,'archived':_0x4fd0f6[_0x250bd6(0x74e)]};}catch(_0x2dfeb6){throw new O({'archived':!0x1,'message':[_0x250bd6(0x330),_0x2dfeb6[_0x250bd6(0x6be)]()]});}}async[a0_0x569689(0x791)](_0x42f567){const _0x51003e=a0_0x569689;try{let _0x4b8c97=await this[_0x51003e(0x543)][_0x51003e(0x530)](_0x42f567[_0x51003e(0x325)],{'delete':_0x42f567});try{let _0x4f833c=await this[_0x51003e(0x3f7)](_0x42f567,{'status':_0x51003e(0x771),'owner':this[_0x51003e(0x56d)][_0x51003e(0x4fb)]});this[_0x51003e(0x5f9)][_0x51003e(0x55d)](this[_0x51003e(0x439)]+'\x20('+this[_0x51003e(0x56d)][_0x51003e(0x4fb)]+_0x51003e(0x3a3)+_0x4f833c);}catch(_0x44dbbe){console[_0x51003e(0x393)](_0x51003e(0x42b),_0x44dbbe);}return _0x4b8c97;}catch(_0x2e3ebe){throw new O('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x2e3ebe?.[_0x51003e(0x6be)]());}}async[a0_0x569689(0x2bd)](_0x494f37){const _0x18301f=a0_0x569689;try{let _0x48b66b=_0x494f37?.['message']?_0x494f37:await this[_0x18301f(0x320)](_0x494f37['key'],!0x0);for(let _0x3fbfc6 of pa)_0x48b66b[_0x18301f(0x793)][_0x3fbfc6]&&(_0x48b66b[_0x18301f(0x793)]=_0x48b66b['message'][_0x3fbfc6][_0x18301f(0x793)]);let _0x5c8908,_0x32f20a;for(let _0x29cafc of da)if(_0x5c8908=_0x48b66b['message'][_0x29cafc],_0x5c8908){_0x32f20a=_0x29cafc;break;}if(!_0x5c8908)throw _0x18301f(0x4f6);typeof _0x5c8908[_0x18301f(0x461)]==_0x18301f(0x289)&&(_0x48b66b['message']=JSON[_0x18301f(0x202)](JSON[_0x18301f(0x28a)](_0x48b66b[_0x18301f(0x793)])));let _0x271cf8=await(0x0,y['downloadMediaMessage'])({'key':_0x48b66b?.[_0x18301f(0x2b9)],'message':_0x48b66b?.[_0x18301f(0x793)]},_0x18301f(0x424),{},{'logger':(0x0,At[_0x18301f(0x29a)])({'level':'silent'}),'reuploadRequest':this[_0x18301f(0x543)]['updateMediaMessage']});if(!(_0x271cf8 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x3b9a6d=this[_0x18301f(0x555)][_0x18301f(0x5de)](_0x18301f(0x2ed)),_0x31d051,_0x2130db;if(_0x5c8908[_0x18301f(0x490)])_0x31d051=_0x5c8908[_0x18301f(0x490)];else{let _0x20474a=_0x5c8908['mimetype']?.[_0x18301f(0x4cf)](/\/(\w+)/),_0x47f76e=_0x20474a?_0x20474a[0x1]:null;if(!_0x47f76e)throw new Error(_0x18301f(0x62b));_0x31d051=(0x0,fe['v4'])()+'.'+_0x47f76e;}_0x32f20a===_0x18301f(0x777)&&_0x5c8908['mimetype']===_0x18301f(0x4be)?(_0x31d051=(0x0,fe['v4'])()+_0x18301f(0x49e),_0x2130db='/media/'+await this['convertaudio'](_0x271cf8[_0x18301f(0x6be)]('base64'))):(await this[_0x18301f(0x282)](_0x271cf8,_0x31d051),_0x2130db=_0x18301f(0x1aa)+_0x31d051);let _0x11b126=this[_0x18301f(0x555)][_0x18301f(0x5de)](_0x18301f(0x433))[_0x18301f(0x1ba)];if(!_0x11b126){let _0x1441c1=this[_0x18301f(0x555)]['get'](_0x18301f(0x246));_0x11b126=_0x18301f(0x765)+(_0x1441c1&&_0x1441c1[_0x18301f(0x4c7)][_0x18301f(0x348)]('/')[0x4]);}_0x2130db=''+_0x11b126+_0x2130db;let _0xc2d907=0xc*0x3c*0x3c*0x3e8,_0x3a9590={'where':{'_id':_0x48b66b[_0x18301f(0x2b9)]['id']}},_0x2c14a4={'message_normalized.fileUrl':_0x2130db,'message_normalized.expires_fileUrl':Date[_0x18301f(0x70c)]()+_0xc2d907};try{let _0x25c7f0=await this[_0x18301f(0x73b)][_0x18301f(0x793)][_0x18301f(0x1cd)](_0x3a9590,_0x2c14a4,this[_0x18301f(0x56d)][_0x18301f(0x4fb)]);_0x25c7f0&&q(this['instanceName'],_0x18301f(0x213),{'message':_0x25c7f0});}catch(_0x5a395f){this[_0x18301f(0x5f9)]['error'](this[_0x18301f(0x439)]+'\x20('+this[_0x18301f(0x56d)][_0x18301f(0x4fb)]+_0x18301f(0x5d3)+(_0x5a395f instanceof Error?_0x5a395f['message']:JSON[_0x18301f(0x28a)](_0x5a395f,null,0x2)));}return{'mediaType':_0x32f20a,'fileName':_0x5c8908[_0x18301f(0x490)],'caption':_0x5c8908['caption'],'size':{'fileLength':_0x5c8908[_0x18301f(0x554)],'height':_0x5c8908[_0x18301f(0x671)],'width':_0x5c8908[_0x18301f(0x2c3)]},'mimetype':_0x5c8908['mimetype'],'base64':_0x271cf8[_0x18301f(0x6be)](_0x18301f(0x48d)),'fileUrl':_0x2130db,'expires_fileUrl':Date[_0x18301f(0x70c)]()+_0xc2d907};}catch(_0x3b0c37){throw this[_0x18301f(0x5f9)][_0x18301f(0x393)](this['instanceName']+'\x20('+this[_0x18301f(0x56d)][_0x18301f(0x4fb)]+_0x18301f(0x5d3)+(_0x3b0c37 instanceof Error?_0x3b0c37[_0x18301f(0x793)]:JSON[_0x18301f(0x28a)](_0x3b0c37,null,0x2))),new h(_0x3b0c37['toString']());}}async['saveMediaToFile'](_0x201a39,_0x40ee7c){const _0x2be751=a0_0x569689;console[_0x2be751(0x513)](_0x2be751(0x35c),__dirname),console[_0x2be751(0x513)](_0x2be751(0x297),_0x40ee7c);let _0x3fe06e=P[_0x2be751(0x29a)][_0x2be751(0x1ee)](__dirname,'downloads');console[_0x2be751(0x513)](_0x2be751(0x488),_0x3fe06e),k[_0x2be751(0x5fa)](_0x3fe06e)||(this[_0x2be751(0x5f9)][_0x2be751(0x513)](_0x2be751(0x78d)),k['mkdirSync'](_0x3fe06e,{'recursive':!0x0}));let _0x372c0f=P[_0x2be751(0x29a)]['join'](_0x3fe06e,_0x40ee7c);return console[_0x2be751(0x513)]('Full\x20file\x20path:',_0x372c0f),new Promise((_0x1e2465,_0x551ad3)=>{k['writeFile'](_0x372c0f,_0x201a39,_0x5a6a33=>{const _0x50ce54=a0_0x4dbe;_0x5a6a33?(this[_0x50ce54(0x5f9)][_0x50ce54(0x393)](_0x50ce54(0x57f)+(_0x5a6a33 instanceof Error?_0x5a6a33[_0x50ce54(0x793)]:JSON[_0x50ce54(0x28a)](_0x5a6a33,null,0x2))),_0x551ad3(_0x5a6a33)):(this['logger'][_0x50ce54(0x513)](_0x50ce54(0x2a1)+_0x372c0f),_0x1e2465(_0x372c0f));});});}async[a0_0x569689(0x638)](_0x28dda7){const _0x4b1f88=a0_0x569689;return await this['repository'][_0x4b1f88(0x1b0)][_0x4b1f88(0x3e0)](_0x28dda7,this[_0x4b1f88(0x56d)][_0x4b1f88(0x4fb)]);}async[a0_0x569689(0x25e)](){const _0x10822e=a0_0x569689;return await this[_0x10822e(0x73b)][_0x10822e(0x3fd)][_0x10822e(0x3e0)]({'where':{}},this[_0x10822e(0x56d)][_0x10822e(0x4fb)]);}async[a0_0x569689(0x715)](_0x52c238){const _0x4d9206=a0_0x569689;return await this['repository']['message'][_0x4d9206(0x3e0)](_0x52c238,this[_0x4d9206(0x56d)][_0x4d9206(0x4fb)]);}async[a0_0x569689(0x704)](){const _0x3c0ec2=a0_0x569689;let _0x2bad79=[{'query':{'where':{'owner':this[_0x3c0ec2(0x56d)][_0x3c0ec2(0x4fb)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x3c0ec2(0x56d)]['wuid'],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this['repository'][_0x3c0ec2(0x674)][_0x3c0ec2(0x38a)](_0x2bad79),this[_0x3c0ec2(0x736)](),await this['repository'][_0x3c0ec2(0x674)]['find']({'where':{}},this['instance'][_0x3c0ec2(0x4fb)]);}async[a0_0x569689(0x736)](){const _0xe6589=a0_0x569689;let _0x114557=await this['repository'][_0xe6589(0x674)][_0xe6589(0x3e0)]({'where':{}},this[_0xe6589(0x56d)][_0xe6589(0x4fb)]);for(let _0x20ce82 of _0x114557)for(let _0x58e96a=0x0;_0x58e96a<_0x20ce82[_0xe6589(0x449)]['customFields'][_0xe6589(0x63c)];_0x58e96a++)if(!_0x20ce82[_0xe6589(0x449)]['customFields'][_0x58e96a][_0xe6589(0x4d0)]){let _0x2a1326={'where':{'_id':_0x20ce82[_0xe6589(0x301)]}},_0xb9e19e={['leadInfo.customFields.'+_0x58e96a+_0xe6589(0x5e6)]:_0x20ce82[_0xe6589(0x301)]};await this[_0xe6589(0x73b)][_0xe6589(0x674)]['updateOne'](_0x2a1326,_0xb9e19e,this['instance']['wuid']);}}async[a0_0x569689(0x5e3)](_0x13ba47){const _0x2d1baa=a0_0x569689;console[_0x2d1baa(0x513)](_0x2d1baa(0x450)),console[_0x2d1baa(0x513)]('----------------------------'),console['log'](_0x13ba47),console[_0x2d1baa(0x513)]('----------------------------');try{if(!Array['isArray'](_0x13ba47)||_0x13ba47[_0x2d1baa(0x63c)]===0x0)throw new Error(_0x2d1baa(0x452));let _0x3d306a=[],_0x2abde6=[];for(let _0xe27387 of _0x13ba47){if(_0xe27387[_0x2d1baa(0x301)])_0xe27387[_0x2d1baa(0x301)]=this['createJid'](_0xe27387[_0x2d1baa(0x301)]);else continue;await this[_0x2d1baa(0x73b)][_0x2d1baa(0x674)]['findOne']({'where':{'_id':_0xe27387[_0x2d1baa(0x301)]}},this[_0x2d1baa(0x56d)]['wuid'])?_0x2abde6[_0x2d1baa(0x392)]({'_id':_0xe27387[_0x2d1baa(0x301)],'leadInfo':_0xe27387[_0x2d1baa(0x449)],'owner':this[_0x2d1baa(0x56d)]['wuid']}):_0x3d306a[_0x2d1baa(0x392)]({'_id':_0xe27387['_id'],'owner':this[_0x2d1baa(0x56d)][_0x2d1baa(0x4fb)],'leadInfo':_0xe27387['leadInfo']});}return _0x2abde6[_0x2d1baa(0x63c)]>0x0&&await this[_0x2d1baa(0x73b)]['chat'][_0x2d1baa(0x38a)](_0x2abde6[_0x2d1baa(0x46c)](_0x1a618e=>({'query':{'where':{'_id':_0x1a618e[_0x2d1baa(0x301)],'owner':this['instance'][_0x2d1baa(0x4fb)]}},'update':_0x1a618e}))),_0x3d306a['length']>0x0&&await this[_0x2d1baa(0x73b)]['chat']['insertMany'](_0x3d306a,this[_0x2d1baa(0x56d)][_0x2d1baa(0x4fb)]),{'updated':_0x2abde6[_0x2d1baa(0x63c)],'inserted':_0x3d306a['length']};}catch(_0x14be7d){throw console[_0x2d1baa(0x393)](_0x2d1baa(0x448),_0x14be7d),_0x14be7d;}}async['fetchPrivacySettings'](){const _0x55b443=a0_0x569689;return await this[_0x55b443(0x543)][_0x55b443(0x7ba)]();}async['updatePrivacySettings'](_0x2803f8){const _0x62044b=a0_0x569689;try{return await this[_0x62044b(0x543)][_0x62044b(0x5cb)](_0x2803f8[_0x62044b(0x43e)]['readreceipts']),await this[_0x62044b(0x543)][_0x62044b(0x781)](_0x2803f8['privacySettings'][_0x62044b(0x26a)]),await this[_0x62044b(0x543)]['updateStatusPrivacy'](_0x2803f8[_0x62044b(0x43e)][_0x62044b(0x5d4)]),await this[_0x62044b(0x543)][_0x62044b(0x653)](_0x2803f8[_0x62044b(0x43e)][_0x62044b(0x644)]),await this[_0x62044b(0x543)][_0x62044b(0x70b)](_0x2803f8[_0x62044b(0x43e)][_0x62044b(0x72a)]),await this['client'][_0x62044b(0x533)](_0x2803f8['privacySettings'][_0x62044b(0x5b8)]),this[_0x62044b(0x543)]?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x2803f8[_0x62044b(0x43e)][_0x62044b(0x477)],'profile':_0x2803f8[_0x62044b(0x43e)][_0x62044b(0x26a)],'status':_0x2803f8[_0x62044b(0x43e)][_0x62044b(0x5d4)],'online':_0x2803f8[_0x62044b(0x43e)][_0x62044b(0x644)],'last':_0x2803f8[_0x62044b(0x43e)][_0x62044b(0x72a)],'groupadd':_0x2803f8[_0x62044b(0x43e)]['groupadd']}};}catch(_0x6bd4a9){throw new O('Error\x20updating\x20privacy\x20settings',_0x6bd4a9[_0x62044b(0x6be)]());}}async[a0_0x569689(0x462)](_0x5ec68c){const _0x54369d=a0_0x569689;let _0x4a5e42=_0x5ec68c?this[_0x54369d(0x7bf)](_0x5ec68c):this[_0x54369d(0x543)]?.['user']?.['id'];this[_0x54369d(0x5f9)][_0x54369d(0x55d)](_0x54369d(0x337)+_0x4a5e42);try{if(this[_0x54369d(0x5f9)][_0x54369d(0x55d)]('Getting\x20profile\x20info'),_0x5ec68c){let _0x2ffd24=(await this[_0x54369d(0x53b)]({'numbers':[_0x4a5e42]}))?.[_0x54369d(0x77e)](),_0xd29446=await this[_0x54369d(0x6ba)](_0x2ffd24?.['jid']),_0x2d7728=await this[_0x54369d(0x2d5)](_0x2ffd24?.[_0x54369d(0x332)]),_0x5403e7=await this[_0x54369d(0x364)](_0x2ffd24?.[_0x54369d(0x332)]);return{'wuid':_0x2ffd24?.['jid']||_0x4a5e42,'name':_0x2ffd24?.[_0x54369d(0x222)],'numberExists':_0x2ffd24?.[_0x54369d(0x2ec)],'picture':_0xd29446?.[_0x54369d(0x7a2)],'status':_0x2d7728?.[_0x54369d(0x5d4)],'isBusiness':_0x5403e7[_0x54369d(0x324)],'email':_0x5403e7?.['email'],'description':_0x5403e7?.[_0x54369d(0x68e)],'website':_0x5403e7?.[_0x54369d(0x4dd)]?.[_0x54369d(0x77e)]()};}}catch{return this[_0x54369d(0x5f9)]['verbose']('Profile\x20not\x20found'),{'wuid':_0x4a5e42,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x55a996){const _0x3a4f0a=a0_0x569689;let _0x540a79=(_0x55a996?this[_0x3a4f0a(0x7bf)](_0x55a996):this['client']?.[_0x3a4f0a(0x469)]?.['id'])[_0x3a4f0a(0x52b)](/:\d{1,2}@/g,'@');this[_0x3a4f0a(0x5f9)][_0x3a4f0a(0x55d)](_0x3a4f0a(0x640)+_0x540a79);let _0x3206e4=await this[_0x3a4f0a(0x73b)][_0x3a4f0a(0x1b0)]['findOne']({'where':{'_id':_0x540a79}},this[_0x3a4f0a(0x56d)][_0x3a4f0a(0x4fb)]),_0x337ed1=_0x3206e4?_0x3206e4['pushName']:null;try{let _0x46248c=(await this[_0x3a4f0a(0x53b)]({'numbers':[_0x540a79]}))?.[_0x3a4f0a(0x77e)](),_0x1e0188=await this[_0x3a4f0a(0x6ba)](_0x46248c?.[_0x3a4f0a(0x332)]),_0x4ec07b=await this['getStatus'](_0x46248c?.[_0x3a4f0a(0x332)]),_0x177427=await this[_0x3a4f0a(0x364)](_0x46248c?.[_0x3a4f0a(0x332)]),_0x379819={'imagechat':_0x1e0188?.[_0x3a4f0a(0x7a2)],'contactname':_0x337ed1||null,'status':_0x4ec07b?.['status'],'isBusiness':_0x177427[_0x3a4f0a(0x324)],'email':_0x177427?.[_0x3a4f0a(0x1d0)],'description':_0x177427?.['description'],'website':_0x177427?.[_0x3a4f0a(0x4dd)]?.['shift'](),'lastcache':Date['now']()},_0x52c56e=await this[_0x3a4f0a(0x73b)][_0x3a4f0a(0x674)][_0x3a4f0a(0x616)]({'where':{'_id':_0x540a79}},_0x379819,this[_0x3a4f0a(0x56d)][_0x3a4f0a(0x4fb)]),_0x4585a7={'owner':this[_0x3a4f0a(0x56d)][_0x3a4f0a(0x4fb)],'_id':_0x540a79,'profilePictureUrl':_0x1e0188?.[_0x3a4f0a(0x7a2)],'status':_0x4ec07b?.['status']};return this[_0x3a4f0a(0x73b)][_0x3a4f0a(0x1b0)][_0x3a4f0a(0x1cd)]([_0x4585a7],this[_0x3a4f0a(0x56d)][_0x3a4f0a(0x4fb)]),_0x52c56e&&q(this[_0x3a4f0a(0x439)],_0x3a4f0a(0x6ee),{'chat':_0x52c56e}),{'wuid':_0x46248c?.[_0x3a4f0a(0x332)]||_0x540a79,'name':_0x46248c?.[_0x3a4f0a(0x222)],'numberExists':_0x46248c?.[_0x3a4f0a(0x2ec)],'picture':_0x1e0188?.[_0x3a4f0a(0x7a2)],'status':_0x4ec07b?.[_0x3a4f0a(0x5d4)],'isBusiness':_0x177427[_0x3a4f0a(0x324)],'email':_0x177427?.[_0x3a4f0a(0x1d0)],'description':_0x177427?.[_0x3a4f0a(0x68e)],'website':_0x177427?.[_0x3a4f0a(0x4dd)]?.[_0x3a4f0a(0x77e)]()};}catch(_0x3e55ad){return this[_0x3a4f0a(0x5f9)][_0x3a4f0a(0x393)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x3e55ad instanceof Error?_0x3e55ad[_0x3a4f0a(0x793)]:JSON[_0x3a4f0a(0x28a)](_0x3e55ad,null,0x2))),{};}}async[a0_0x569689(0x364)](_0x440679){const _0x522b3a=a0_0x569689;this[_0x522b3a(0x5f9)][_0x522b3a(0x55d)](_0x522b3a(0x2e4));try{let _0x2dc7b2=_0x440679?this[_0x522b3a(0x7bf)](_0x440679):this[_0x522b3a(0x56d)][_0x522b3a(0x4fb)],_0x5e2ecf=await this[_0x522b3a(0x543)][_0x522b3a(0x358)](_0x2dc7b2);return this['logger'][_0x522b3a(0x55d)](_0x522b3a(0x2fb)),_0x5e2ecf?(this[_0x522b3a(0x5f9)]['verbose'](_0x522b3a(0x60d)),{'isBusiness':!0x0,..._0x5e2ecf}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x2dc7b2]}))?.[_0x522b3a(0x77e)]()};}catch(_0x240f59){throw new O('Error\x20updating\x20profile\x20name',_0x240f59['toString']());}}async['getStatus'](_0x1c15a8){const _0x54c379=a0_0x569689;let _0x1e09ae=this[_0x54c379(0x7bf)](_0x1c15a8);try{return{'wuid':_0x1e09ae,'status':(await this['client'][_0x54c379(0x1c3)](_0x1e09ae))?.[_0x54c379(0x5d4)]};}catch{return{'wuid':_0x1e09ae,'status':null};}}async[a0_0x569689(0x1b2)](_0x22e790){const _0xed1444=a0_0x569689;try{return await this[_0xed1444(0x543)][_0xed1444(0x1b2)](_0x22e790),{'update':_0xed1444(0x470)};}catch(_0x4c49d6){throw new O(_0xed1444(0x5f2),_0x4c49d6[_0xed1444(0x6be)]());}}async[a0_0x569689(0x19d)](_0x29a3a6){const _0x19b553=a0_0x569689;try{return await this[_0x19b553(0x543)][_0x19b553(0x19d)](_0x29a3a6),{'update':_0x19b553(0x470)};}catch(_0x2455e1){throw new O(_0x19b553(0x52e),_0x2455e1[_0x19b553(0x6be)]());}}async[a0_0x569689(0x4ba)](_0x18b58d){const _0x2fc21d=a0_0x569689;try{let _0x5a5aa8;if((0x0,$[_0x2fc21d(0x737)])(_0x18b58d)){let _0x4eaea3=new Date()['getTime'](),_0x316430=_0x18b58d+'?timestamp='+_0x4eaea3;_0x5a5aa8=(await se[_0x2fc21d(0x29a)][_0x2fc21d(0x5de)](_0x316430,{'responseType':_0x2fc21d(0x64d)}))[_0x2fc21d(0x7ae)];}else{if((0x0,$['isBase64'])(_0x18b58d))_0x5a5aa8=Buffer[_0x2fc21d(0x68a)](_0x18b58d,_0x2fc21d(0x48d));else throw new h('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x2fc21d(0x4ba)](this[_0x2fc21d(0x56d)][_0x2fc21d(0x4fb)],_0x5a5aa8),{'update':_0x2fc21d(0x470)};}catch(_0x53b566){throw new O('Error\x20updating\x20profile\x20picture',_0x53b566['toString']());}}async[a0_0x569689(0x274)](){const _0x51a4a0=a0_0x569689;try{return await this[_0x51a4a0(0x543)][_0x51a4a0(0x274)](this['instance'][_0x51a4a0(0x4fb)]),{'update':_0x51a4a0(0x470)};}catch(_0x28bd78){throw new O(_0x51a4a0(0x23a),_0x28bd78[_0x51a4a0(0x6be)]());}}async['createGroup'](_0x25cee6){const _0x2fc743=a0_0x569689;try{let _0x5e6599=_0x25cee6['participants'][_0x2fc743(0x46c)](_0x4e663f=>this[_0x2fc743(0x7bf)](_0x4e663f)),{id:_0x1d1f69}=await this['client'][_0x2fc743(0x2a4)](_0x25cee6['subject'],_0x5e6599);return _0x25cee6?.[_0x2fc743(0x68e)]&&await this['client']['groupUpdateDescription'](_0x1d1f69,_0x25cee6[_0x2fc743(0x68e)]),{'metadata':await this[_0x2fc743(0x543)][_0x2fc743(0x3ca)](_0x1d1f69)};}catch(_0x6aee54){throw this[_0x2fc743(0x5f9)][_0x2fc743(0x393)](this[_0x2fc743(0x439)]+'\x20('+this[_0x2fc743(0x56d)]['wuid']+'):\x20'+(_0x6aee54 instanceof Error?_0x6aee54['message']:JSON[_0x2fc743(0x28a)](_0x6aee54,null,0x2))),new O(_0x2fc743(0x68c),_0x6aee54[_0x2fc743(0x6be)]());}}async['updateGroupPicture'](_0x19f27b){const _0x14145d=a0_0x569689;try{let _0x45ace9;if((0x0,$[_0x14145d(0x737)])(_0x19f27b['image'])){let _0x1235d0=new Date()[_0x14145d(0x593)](),_0x4dcaf1=_0x19f27b[_0x14145d(0x379)]+_0x14145d(0x728)+_0x1235d0;_0x45ace9=(await se[_0x14145d(0x29a)]['get'](_0x4dcaf1,{'responseType':'arraybuffer'}))[_0x14145d(0x7ae)];}else{if((0x0,$['isBase64'])(_0x19f27b[_0x14145d(0x379)]))_0x45ace9=Buffer[_0x14145d(0x68a)](_0x19f27b['image'],_0x14145d(0x48d));else throw new h(_0x14145d(0x5a4));}return await this['client'][_0x14145d(0x4ba)](_0x19f27b['groupJid'],_0x45ace9),{'update':'success'};}catch(_0x14ef13){throw new O(_0x14145d(0x4fe),_0x14ef13[_0x14145d(0x6be)]());}}async[a0_0x569689(0x1bb)](_0x3acdd5,_0x1cb774='out'){const _0x3950b5=a0_0x569689;try{let _0x1e3d96=await this['client'][_0x3950b5(0x3ca)](_0x3acdd5[_0x3950b5(0x630)]),_0x3cdc11=null;try{_0x3cdc11=(await this[_0x3950b5(0x6ba)](_0x3acdd5[_0x3950b5(0x630)]))['profilePictureUrl'];}catch(_0x6912bb){this[_0x3950b5(0x5f9)]['verbose'](this['instanceName']+'\x20('+this[_0x3950b5(0x56d)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x3acdd5[_0x3950b5(0x630)]+':\x20'+(_0x6912bb instanceof Error?_0x6912bb[_0x3950b5(0x793)]:JSON[_0x3950b5(0x28a)](_0x6912bb,null,0x2)));}let _0x324637=await this[_0x3950b5(0x73b)][_0x3950b5(0x674)][_0x3950b5(0x616)]({'where':{'_id':_0x3acdd5[_0x3950b5(0x630)]}},{'imagechat':_0x3cdc11,'name':_0x1e3d96['subject'],'group_size':_0x1e3d96['size'],'group_announce':_0x1e3d96['announce'],'lastcache':Date[_0x3950b5(0x70c)]()},this[_0x3950b5(0x56d)][_0x3950b5(0x4fb)]);return _0x324637&&q(this['instanceName'],_0x3950b5(0x6ee),{'chat':_0x324637}),{'metadata':_0x1e3d96,'image':_0x3cdc11};}catch(_0x342334){if(_0x1cb774===_0x3950b5(0x28c))return;throw new L(_0x3950b5(0x56b),_0x342334['toString']());}}async[a0_0x569689(0x6d2)](_0x3d48d8){const _0x12965b=a0_0x569689;try{return await this[_0x12965b(0x543)][_0x12965b(0x20d)](_0x3d48d8[_0x12965b(0x630)],_0x3d48d8[_0x12965b(0x68e)]),{'update':_0x12965b(0x470)};}catch(_0x4afec8){throw new O(_0x12965b(0x521),_0x4afec8['toString']());}}async[a0_0x569689(0x3d7)](_0x5e374c){const _0x48bb7e=a0_0x569689;try{return await this[_0x48bb7e(0x543)][_0x48bb7e(0x387)](_0x5e374c[_0x48bb7e(0x630)],_0x5e374c[_0x48bb7e(0x222)]),{'update':_0x48bb7e(0x470)};}catch(_0x3dabc0){throw new O(_0x48bb7e(0x292),_0x3dabc0['toString']());}}async[a0_0x569689(0x2f1)](_0x135146){const _0x17dcb3=a0_0x569689;try{return await this[_0x17dcb3(0x543)][_0x17dcb3(0x79b)](_0x135146[_0x17dcb3(0x630)],_0x135146[_0x17dcb3(0x46d)]),{'update':_0x17dcb3(0x470)};}catch(_0x4b4624){throw new O(_0x17dcb3(0x3e8),_0x4b4624[_0x17dcb3(0x6be)]());}}async[a0_0x569689(0x652)](){const _0x31d71a=a0_0x569689;try{let _0x50a234=[],_0x29852b=await this['client'][_0x31d71a(0x4e3)](),_0x3f3ec4=Object[_0x31d71a(0x7c1)](_0x29852b),_0x247feb=_0x3f3ec4['filter'](_0x197d67=>(0x0,y['isJidGroup'])(_0x197d67?.['id']))[_0x31d71a(0x46c)](async _0x3ad1b7=>{const _0x3f5046=_0x31d71a;try{return await this[_0x3f5046(0x543)][_0x3f5046(0x7a2)](_0x3ad1b7['id'],'preview');}catch(_0xbe9d40){return this[_0x3f5046(0x5f9)][_0x3f5046(0x55d)](this[_0x3f5046(0x439)]+'\x20('+this['instance'][_0x3f5046(0x4fb)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x3ad1b7['id']+':\x20'+(_0xbe9d40 instanceof Error?_0xbe9d40['message']:JSON[_0x3f5046(0x28a)](_0xbe9d40,null,0x2))),null;}}),_0x3b7cc7=await Promise['all'](_0x247feb);for(let _0x5c0e6c=0x0;_0x5c0e6c<_0x3f3ec4[_0x31d71a(0x63c)];_0x5c0e6c++){let _0x14afc2=_0x3f3ec4[_0x5c0e6c];(0x0,y[_0x31d71a(0x788)])(_0x14afc2?.['id'])&&_0x50a234['push']({'groupJid':_0x14afc2?.['id'],'subject':_0x14afc2?.['subject'],'subjectOwner':_0x14afc2?.[_0x31d71a(0x577)]?.[_0x31d71a(0x348)]('@')[0x0],'subjectTime':_0x14afc2?.[_0x31d71a(0x702)],'size':_0x14afc2?.['participants']?.[_0x31d71a(0x63c)],'owner':_0x14afc2?.[_0x31d71a(0x795)]?.[_0x31d71a(0x348)]('@')[0x0],'creation':_0x14afc2?.[_0x31d71a(0x22c)],'desc':_0x14afc2?.[_0x31d71a(0x6a2)],'restrict':_0x14afc2?.['restrict'],'announce':_0x14afc2?.[_0x31d71a(0x2b6)],'image':_0x3b7cc7[_0x5c0e6c]});}return _0x50a234;}catch(_0x35e477){throw new L(_0x31d71a(0x56b),_0x35e477[_0x31d71a(0x6be)]());}}async[a0_0x569689(0x7bb)](_0x48b426){const _0x460248=a0_0x569689;try{let _0x13fd8b=await this[_0x460248(0x543)]['groupInviteCode'](_0x48b426[_0x460248(0x630)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x13fd8b,'inviteCode':_0x13fd8b};}catch(_0x27ac3e){throw new L('No\x20invite\x20code',_0x27ac3e[_0x460248(0x6be)]());}}async[a0_0x569689(0x74b)](_0x56ab90){const _0x3fd30c=a0_0x569689;try{let _0x3573df=await this[_0x3fd30c(0x543)][_0x3fd30c(0x25f)](_0x56ab90[_0x3fd30c(0x630)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x3573df,'inviteCode':_0x3573df};}catch(_0x4fdc97){throw new L('Revoke\x20error',_0x4fdc97['toString']());}}async['joinGroup'](_0x151b96){const _0x58901b=a0_0x569689;try{if((0x0,$[_0x58901b(0x737)])(_0x151b96[_0x58901b(0x7bb)]))var _0x86b2a1=_0x151b96['inviteCode'][_0x58901b(0x348)]('/')[0x3];else var _0x86b2a1=_0x151b96['inviteCode'];let _0x1162a2=await this[_0x58901b(0x543)]['groupAcceptInvite'](_0x86b2a1);return this[_0x58901b(0x5f9)][_0x58901b(0x55d)](this['instanceName']+'\x20('+this[_0x58901b(0x56d)]['wuid']+_0x58901b(0x5d3)+_0x1162a2),{'join':!0x0,'inviteCode':_0x86b2a1,'groupJid':_0x1162a2};}catch(_0x553111){throw new L(_0x58901b(0x458),_0x553111[_0x58901b(0x6be)]());}}async[a0_0x569689(0x539)](_0x3ad5ab){const _0x41ad15=a0_0x569689;try{return{'participants':(await this[_0x41ad15(0x543)][_0x41ad15(0x3ca)](_0x3ad5ab[_0x41ad15(0x630)]))[_0x41ad15(0x2fd)]};}catch(_0x48d290){throw new L(_0x41ad15(0x3c8),_0x48d290[_0x41ad15(0x6be)]());}}async[a0_0x569689(0x6a0)](_0x38bd5e){const _0xa4d2f7=a0_0x569689;try{let _0x593988=_0x38bd5e[_0xa4d2f7(0x2fd)][_0xa4d2f7(0x46c)](_0xb5348c=>this[_0xa4d2f7(0x7bf)](_0xb5348c));return{'updateParticipants':await this[_0xa4d2f7(0x543)][_0xa4d2f7(0x538)](_0x38bd5e[_0xa4d2f7(0x630)],_0x593988,_0x38bd5e[_0xa4d2f7(0x2d0)])};}catch(_0x5f3014){throw new h(_0xa4d2f7(0x35b),_0x5f3014[_0xa4d2f7(0x6be)]());}}async[a0_0x569689(0x394)](_0x2ecc7d){const _0x47e11b=a0_0x569689;try{let _0x3de228=await this[_0x47e11b(0x543)][_0x47e11b(0x1f7)](_0x2ecc7d['groupJid'],_0x2ecc7d['expiration']);return{'success':!0x0};}catch(_0x26456e){throw new h('Error\x20updating\x20setting',_0x26456e[_0x47e11b(0x6be)]());}}async[a0_0x569689(0x441)](_0x3ce2c3){const _0x395265=a0_0x569689;try{return await this[_0x395265(0x543)][_0x395265(0x603)](_0x3ce2c3['groupJid']),{'groupJid':_0x3ce2c3[_0x395265(0x630)],'leave':!0x0};}catch(_0x3bf576){throw new h(_0x395265(0x557),_0x3bf576[_0x395265(0x6be)]());}}async[a0_0x569689(0x3c7)](_0x5c316d){const _0x5d8a52=a0_0x569689;return await this[_0x5d8a52(0x6e0)](_0x5c316d['number'],{'poll':{'name':_0x5c316d[_0x5d8a52(0x3c7)]?.[_0x5d8a52(0x222)],'selectableCount':_0x5c316d['pollMessage'][_0x5d8a52(0x3f8)],'values':_0x5c316d[_0x5d8a52(0x3c7)][_0x5d8a52(0x7c1)]}},_0x5c316d?.[_0x5d8a52(0x5db)]);}async[a0_0x569689(0x466)](_0x9db501){const _0x4369e3=a0_0x569689;return await this[_0x4369e3(0x6e0)](_0x9db501[_0x4369e3(0x347)],{'listMessage':{'title':_0x9db501[_0x4369e3(0x466)][_0x4369e3(0x5d8)],'description':_0x9db501[_0x4369e3(0x466)][_0x4369e3(0x68e)],'buttonText':_0x9db501[_0x4369e3(0x466)]?.['buttonText'],'footerText':_0x9db501[_0x4369e3(0x466)]?.[_0x4369e3(0x1c9)],'sections':_0x9db501[_0x4369e3(0x466)][_0x4369e3(0x31d)],'listType':0x2}},_0x9db501?.[_0x4369e3(0x5db)]);}async[a0_0x569689(0x650)](_0x5946ab){const _0x15e05b=a0_0x569689;let _0x36bf87;if(_0x5946ab[_0x15e05b(0x650)][_0x15e05b(0x1c6)]==='list'){let _0x569b76=_0x5946ab[_0x15e05b(0x650)][_0x15e05b(0x39f)][_0x15e05b(0x6cf)]('\x0a'),_0x514e6e='',_0x26db14='';_0x569b76!==-0x1?(_0x514e6e=_0x5946ab['menuMessage'][_0x15e05b(0x39f)][_0x15e05b(0x1de)](0x0,_0x569b76)[_0x15e05b(0x1cb)](),_0x26db14=_0x5946ab[_0x15e05b(0x650)][_0x15e05b(0x39f)][_0x15e05b(0x1de)](_0x569b76+0x1)):_0x26db14=_0x5946ab['menuMessage'][_0x15e05b(0x39f)];let _0x139434=this[_0x15e05b(0x1ca)](_0x5946ab['menuMessage'][_0x15e05b(0x27e)]);_0x36bf87={'listMessage':{'title':_0x514e6e,'description':_0x26db14,'buttonText':_0x5946ab[_0x15e05b(0x650)][_0x15e05b(0x5c9)]||_0x15e05b(0x4d4),'footerText':_0x5946ab[_0x15e05b(0x650)]['footerText'],'sections':_0x139434,'listType':0x2}};}else{if(_0x5946ab[_0x15e05b(0x650)][_0x15e05b(0x1c6)]===_0x15e05b(0x3a0)){let _0x50275c=_0x5946ab[_0x15e05b(0x650)][_0x15e05b(0x27e)][_0x15e05b(0x52f)](_0x4e25a1=>!(_0x4e25a1[_0x15e05b(0x360)]('[')&&_0x4e25a1[_0x15e05b(0x277)](']')))[_0x15e05b(0x46c)](_0x158750=>_0x158750[_0x15e05b(0x348)]('\x0a')[0x0]);_0x36bf87={'poll':{'name':_0x5946ab[_0x15e05b(0x650)][_0x15e05b(0x39f)],'selectableCount':_0x5946ab[_0x15e05b(0x650)][_0x15e05b(0x3f8)]||0x1,'values':_0x50275c}};}}return await this[_0x15e05b(0x6e0)](_0x5946ab[_0x15e05b(0x347)],_0x36bf87,_0x5946ab?.[_0x15e05b(0x5db)]);}[a0_0x569689(0x1ca)](_0x54143f){const _0x46148d=a0_0x569689;let _0x525d13=[],_0x3dc31b={'rows':[]};return _0x54143f[_0x46148d(0x6b4)](_0xcc889d=>{const _0x494f11=_0x46148d;if(_0xcc889d[_0x494f11(0x360)]('[')&&_0xcc889d[_0x494f11(0x277)](']'))_0x3dc31b[_0x494f11(0x517)][_0x494f11(0x63c)]>0x0&&_0x525d13[_0x494f11(0x392)](_0x3dc31b),_0x3dc31b={'title':_0xcc889d[_0x494f11(0x2ce)](0x1,-0x1),'rows':[]};else{let _0x2c7553=_0xcc889d['split']('\x0a')['map'](_0x4f938b=>_0x4f938b[_0x494f11(0x1cb)]()),_0x45803b=_0x2c7553[0x0],_0x61f073=_0x2c7553[0x1]||null,_0x1023c5=_0x2c7553[0x2]||_0x45803b;_0x3dc31b[_0x494f11(0x517)][_0x494f11(0x392)]({'title':_0x45803b,'description':_0x61f073,'rowId':_0x1023c5});}}),_0x3dc31b[_0x46148d(0x517)][_0x46148d(0x63c)]>0x0&&_0x525d13[_0x46148d(0x392)](_0x3dc31b),_0x525d13;}async[a0_0x569689(0x3f7)](_0x31bcbe,_0x9a2bbb){const _0x3d1d41=a0_0x569689;if(await this[_0x3d1d41(0x320)](_0x31bcbe,!0x0)){let _0x19f87f={'where':{'_id':_0x31bcbe['id']}},_0x118b0f={'status':[_0x9a2bbb[_0x3d1d41(0x5d4)]][0x0]};try{let _0x5c6d33=await this[_0x3d1d41(0x73b)][_0x3d1d41(0x793)][_0x3d1d41(0x1cd)](_0x19f87f,_0x118b0f,this[_0x3d1d41(0x56d)]['wuid']);_0x5c6d33&&q(this[_0x3d1d41(0x439)],_0x3d1d41(0x213),{'message':_0x5c6d33});}catch{}}}[a0_0x569689(0x71a)](_0x309fff){const _0x1403b8=a0_0x569689;let _0x2c025c=[];return _0x309fff[_0x1403b8(0x6b4)](_0x237269=>{const _0x27ffdc=_0x1403b8;_0x237269[_0x27ffdc(0x5d8)]&&_0x2c025c[_0x27ffdc(0x392)]('['+_0x237269['title']+']'),_0x237269[_0x27ffdc(0x517)]['forEach'](_0x7703f1=>{const _0x304a51=_0x27ffdc;let _0x503ae5=_0x7703f1[_0x304a51(0x5d8)];_0x7703f1[_0x304a51(0x68e)]&&(_0x503ae5+='\x0a'+_0x7703f1[_0x304a51(0x68e)]),_0x503ae5+='\x0a'+_0x7703f1[_0x304a51(0x61e)],_0x2c025c['push'](_0x503ae5);});}),_0x2c025c[_0x1403b8(0x1ee)]('|');}[a0_0x569689(0x594)](_0xd7937f){const _0x454378=a0_0x569689;let _0x41197e=_0xd7937f[_0x454378(0x52b)](/\\n/g,'\x0a')[_0x454378(0x348)]('\x0a')[_0x454378(0x52f)](_0x29be07=>_0x29be07[_0x454378(0x1f2)]('TEL')||_0x29be07[_0x454378(0x1f2)](_0x454378(0x1e6))),_0x5cf6b7='';return _0x41197e['forEach'](_0x2ebabe=>{const _0x2a981a=_0x454378;let _0x35a1c2=/TEL(?:.*):(.+)/,_0x364db5=/EMAIL(?:.*):(.+)/,_0x1aef76=_0x2ebabe[_0x2a981a(0x4cf)](_0x35a1c2),_0x3e3cfb=_0x2ebabe['match'](_0x364db5);if(_0x1aef76){let _0x4bcc0c=_0x1aef76[0x1][_0x2a981a(0x52b)](/-| |\+|\(|\)/g,'')[_0x2a981a(0x1cb)]();_0x5cf6b7+=_0x2a981a(0x32f)+_0x4bcc0c+'\x0a';}else{if(_0x3e3cfb){let _0x3c6781=_0x3e3cfb[0x1][_0x2a981a(0x1cb)]();_0x5cf6b7+=_0x2a981a(0x247)+_0x3c6781+'\x0a';}}}),_0x5cf6b7[_0x454378(0x1cb)]();}async[a0_0x569689(0x74c)](_0x5c79d8,_0x1df214,_0x2086b6){const _0x224abb=a0_0x569689;if(!_0x5c79d8[_0x224abb(0x23d)])return;let _0x505a87=_0x1df214[_0x224abb(0x2b9)][_0x224abb(0x325)][_0x224abb(0x52b)](/:\d{1,2}@/g,'@'),_0x595c1b=_0x1df214[_0x224abb(0x2b9)][_0x224abb(0x4c4)],_0x373772=_0x505a87['endsWith']('@g.us'),_0x53f0dc=_0x1df214[_0x224abb(0x44f)]?.[_0x224abb(0x39f)]||_0x1df214[_0x224abb(0x44f)]?.['caption']||_0x1df214['message_normalized']?.[_0x224abb(0x39b)]||_0x1df214[_0x224abb(0x44f)]?.['name'],_0x33d5b1={'lastmsg':_0x1df214['messageTimestamp']||Date['now'](),'unreadcount':_0x595c1b?0x0:0x1,..._0x595c1b||_0x373772?{}:{'name':_0x1df214['pushName']},..._0x373772?{'group':_0x373772}:{}};if(_0x2086b6===_0x224abb(0x243)&&_0x595c1b&&this['AutomateSystem']?.[_0x224abb(0x352)]['enabled']&&!_0x53f0dc[_0x224abb(0x360)](this['AutomateSystem']?.[_0x224abb(0x352)]['prefixCommand'])){let _0x3f90d8=(this[_0x224abb(0x755)]?.[_0x224abb(0x352)][_0x224abb(0x359)]||0x5)*0xea60,_0x1c2f7f=Date[_0x224abb(0x70c)]()+_0x3f90d8;_0x33d5b1[_0x224abb(0x5b0)]=_0x1c2f7f,this[_0x224abb(0x5f9)][_0x224abb(0x55d)](this[_0x224abb(0x439)]+'\x20('+this[_0x224abb(0x56d)][_0x224abb(0x4fb)]+_0x224abb(0x535)+_0x1c2f7f+'.');}let _0x52c3c8=await this[_0x224abb(0x73b)][_0x224abb(0x674)][_0x224abb(0x616)]({'where':{'_id':_0x505a87}},_0x33d5b1,this[_0x224abb(0x56d)][_0x224abb(0x4fb)],{'new':!0x0,'upsert':!0x0});if(!_0x373772&&(!_0x52c3c8?.[_0x224abb(0x449)]||!_0x52c3c8['leadInfo'][_0x224abb(0x6e4)])&&_0x1df214[_0x224abb(0x37c)]&&!_0x595c1b&&await this[_0x224abb(0x73b)][_0x224abb(0x674)][_0x224abb(0x616)]({'where':{'_id':_0x505a87}},{'leadInfo':{'nome':_0x1df214[_0x224abb(0x37c)]}},this[_0x224abb(0x56d)]['wuid'],{'new':!0x0,'upsert':!0x1}),_0x52c3c8)q(this['instanceName'],_0x224abb(0x6ee),{'chat':_0x52c3c8});else{this[_0x224abb(0x5f9)]['error'](this[_0x224abb(0x439)]+'\x20('+this[_0x224abb(0x56d)][_0x224abb(0x4fb)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x224abb(0x755)]?.[_0x224abb(0x352)][_0x224abb(0x50c)])return this[_0x224abb(0x5f9)][_0x224abb(0x55d)](this[_0x224abb(0x439)]+'\x20('+this['instance'][_0x224abb(0x4fb)]+_0x224abb(0x240)),null;if(_0x52c3c8[_0x224abb(0x301)][_0x224abb(0x1f2)](_0x224abb(0x660))&&this['AutomateSystem']?.[_0x224abb(0x352)][_0x224abb(0x400)]===!0x0)return this[_0x224abb(0x5f9)]['verbose'](this[_0x224abb(0x439)]+'\x20('+this[_0x224abb(0x56d)]['wuid']+_0x224abb(0x385)),null;if(_0x52c3c8[_0x224abb(0x449)]){if(_0x52c3c8['leadInfo'][_0x224abb(0x323)]===0x0||_0x52c3c8[_0x224abb(0x449)][_0x224abb(0x57c)])return this[_0x224abb(0x5f9)]['verbose'](this[_0x224abb(0x439)]+'\x20('+this[_0x224abb(0x56d)]['wuid']+_0x224abb(0x44b)+_0x505a87+',\x20saindo.'),null;if(_0x52c3c8[_0x224abb(0x449)][_0x224abb(0x323)]>Date[_0x224abb(0x70c)]()&&!_0x1df214[_0x224abb(0x44f)]?.['vote'])return this['logger'][_0x224abb(0x55d)](this[_0x224abb(0x439)]+'\x20('+this['instance'][_0x224abb(0x4fb)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x52c3c8[_0x224abb(0x449)]['desativadoFluxoAte'])[_0x224abb(0x1c1)]()+_0x224abb(0x1e1)),null;}this[_0x224abb(0x5f9)][_0x224abb(0x55d)](this[_0x224abb(0x439)]+'\x20('+this[_0x224abb(0x56d)][_0x224abb(0x4fb)]+_0x224abb(0x6a6)),this['StartBot'](_0x2086b6,_0x1df214);}async[a0_0x569689(0x499)](_0x4f50b7,_0x1edb7c){const _0xb67d41=a0_0x569689;if(_0x1edb7c[_0xb67d41(0x23d)]){let _0x20e3b3=_0x4f50b7[_0xb67d41(0x46c)](async _0x252b30=>{const _0x4d2264=_0xb67d41;try{let _0x18f6eb={'_id':_0x252b30[_0x4d2264(0x301)],'owner':_0x252b30[_0x4d2264(0x795)],'lastcache':0x0};if(_0x252b30[_0x4d2264(0x64e)]!==null&&(_0x18f6eb[_0x4d2264(0x64e)]=_0x252b30[_0x4d2264(0x64e)]),_0x252b30[_0x4d2264(0x222)]!==null&&(_0x18f6eb[_0x4d2264(0x222)]=_0x252b30[_0x4d2264(0x222)]),_0x252b30[_0x4d2264(0x47f)]!==null&&(_0x18f6eb['contactname']=_0x252b30[_0x4d2264(0x47f)]),_0x252b30['imagechat']!==null&&(_0x18f6eb[_0x4d2264(0x59c)]=_0x252b30[_0x4d2264(0x59c)]),_0x252b30[_0x4d2264(0x59c)]===null&&(_0x18f6eb[_0x4d2264(0x59c)]='Imagem\x20não\x20encontrada'),_0x252b30[_0x4d2264(0x4bd)]!==null&&(_0x18f6eb[_0x4d2264(0x4bd)]=_0x252b30[_0x4d2264(0x4bd)]),_0x252b30['archived']!==null&&(_0x18f6eb[_0x4d2264(0x60a)]=_0x252b30['archived']),_0x252b30[_0x4d2264(0x4cd)]!==null&&(_0x18f6eb['unreadcount']=_0x252b30[_0x4d2264(0x4cd)]),Object[_0x4d2264(0x77d)](_0x18f6eb)['length']>0x0)return await this[_0x4d2264(0x73b)][_0x4d2264(0x674)][_0x4d2264(0x616)]({'where':{'_id':_0x252b30['_id']}},_0x18f6eb,this['instance'][_0x4d2264(0x4fb)]);}catch(_0x9e635b){return console[_0x4d2264(0x393)](_0x4d2264(0x3f6)+_0x252b30[_0x4d2264(0x301)]+':',_0x9e635b),null;}}),_0x95655e=(await Promise[_0xb67d41(0x741)](_0x20e3b3))[_0xb67d41(0x52f)](_0x5095b9=>_0x5095b9!==null)[_0xb67d41(0x63c)];this[_0xb67d41(0x5f9)]['verbose'](this[_0xb67d41(0x439)]+'\x20('+this[_0xb67d41(0x56d)][_0xb67d41(0x4fb)]+_0xb67d41(0x5d3)+_0x95655e+_0xb67d41(0x489)+this['instance'][_0xb67d41(0x4fb)]+_0xb67d41(0x248));}}async['readMessageBot'](_0x4a0298){const _0xf0c55a=a0_0x569689;this[_0xf0c55a(0x5f9)][_0xf0c55a(0x55d)](this[_0xf0c55a(0x439)]+'\x20('+this[_0xf0c55a(0x56d)][_0xf0c55a(0x4fb)]+'):\x20Ler\x20mensagem');let _0x4bf47d={'readMessages':[{'remoteJid':_0x4a0298[_0xf0c55a(0x4d7)][_0xf0c55a(0x783)][_0xf0c55a(0x2b9)][_0xf0c55a(0x325)],'fromMe':_0x4a0298[_0xf0c55a(0x4d7)][_0xf0c55a(0x783)][_0xf0c55a(0x2b9)]['fromMe'],'id':_0x4a0298[_0xf0c55a(0x4d7)][_0xf0c55a(0x783)][_0xf0c55a(0x2b9)]['id']}]};await this[_0xf0c55a(0x5ab)](_0x4bf47d);}async['StartBot'](_0xe4ed7,_0x10a24f){const _0x32da75=a0_0x569689;try{let {key:_0x1d58fa,message_normalized:_0x53c986}=_0x10a24f,_0x3eadc8=_0x53c986,_0x4d6094=_0x53c986['text']||_0x53c986['caption']||_0x53c986[_0x32da75(0x39b)]||_0x53c986[_0x32da75(0x222)],_0x377a9e=_0x1d58fa[_0x32da75(0x325)],_0x580f5f;if(_0x3eadc8['key'][_0x32da75(0x4c4)]&&_0x4d6094[_0x32da75(0x1cb)]()!==this['AutomateSystem']?.[_0x32da75(0x352)][_0x32da75(0x445)][_0x32da75(0x1cb)]())return this[_0x32da75(0x5f9)][_0x32da75(0x55d)](this['instanceName']+'\x20('+this[_0x32da75(0x56d)][_0x32da75(0x4fb)]+_0x32da75(0x6a1)),null;if(_0x3eadc8[_0x32da75(0x2b9)][_0x32da75(0x4c4)]&&_0x4d6094[_0x32da75(0x1cb)]()===this[_0x32da75(0x755)]?.[_0x32da75(0x352)][_0x32da75(0x445)]['trim']()){this[_0x32da75(0x5f9)][_0x32da75(0x55d)](this['instanceName']+'\x20('+this[_0x32da75(0x56d)][_0x32da75(0x4fb)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x52caa4=await this[_0x32da75(0x73b)]['flowConversation'][_0x32da75(0x3e0)]({'remoteJid':_0x377a9e,'status':'open'},this[_0x32da75(0x56d)][_0x32da75(0x4fb)]);this[_0x32da75(0x5f9)]['verbose'](this[_0x32da75(0x439)]+'\x20('+this[_0x32da75(0x56d)][_0x32da75(0x4fb)]+_0x32da75(0x233)+_0x52caa4);let _0x4c984e=Date[_0x32da75(0x70c)](),_0x154e5d;return this[_0x32da75(0x755)]?.[_0x32da75(0x352)]['stopMinutes']===0x0?_0x154e5d={'stoppedUntil':_0x4c984e+0x7591f6200}:_0x154e5d={'stoppedUntil':_0x4c984e+this[_0x32da75(0x755)]?.[_0x32da75(0x352)][_0x32da75(0x6b1)]*0x3c*0x3e8},this[_0x32da75(0x5f9)][_0x32da75(0x55d)](this[_0x32da75(0x439)]+'\x20('+this[_0x32da75(0x56d)][_0x32da75(0x4fb)]+_0x32da75(0x55a)+_0x154e5d),this[_0x32da75(0x5fb)](_0x580f5f,_0x154e5d[_0x32da75(0x706)]),null;}if(_0x4d6094&&_0x4d6094[_0x32da75(0x360)](this[_0x32da75(0x755)]?.[_0x32da75(0x352)][_0x32da75(0x67a)])&&_0x4d6094[_0x32da75(0x63c)]>0x4){let _0x5c158e=await this['repository'][_0x32da75(0x76c)][_0x32da75(0x471)]({'where':{'startCommandWord':_0x4d6094}},this[_0x32da75(0x56d)][_0x32da75(0x4fb)]);if(this[_0x32da75(0x5f9)]['verbose'](this[_0x32da75(0x439)]+'\x20('+this['instance'][_0x32da75(0x4fb)]+_0x32da75(0x6f8)),_0x5c158e)_0x580f5f=await this['createNewConversation'](_0x5c158e,_0x3eadc8[_0x32da75(0x2b9)],_0x3eadc8);else return this[_0x32da75(0x5f9)][_0x32da75(0x55d)](this[_0x32da75(0x439)]+'\x20('+this[_0x32da75(0x56d)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x580f5f=await this[_0x32da75(0x4db)](_0x377a9e,_0x3eadc8);if(_0x580f5f){this[_0x32da75(0x5f9)][_0x32da75(0x55d)](this[_0x32da75(0x439)]+'\x20('+this[_0x32da75(0x56d)][_0x32da75(0x4fb)]+_0x32da75(0x528)),!_0x1d58fa[_0x32da75(0x4c4)]&&_0x580f5f['readMessages']&&this[_0x32da75(0x4b1)](_0x580f5f);let _0x41fa97=await this[_0x32da75(0x5f5)](_0x580f5f);_0x41fa97&&await this[_0x32da75(0x1ed)](_0x580f5f,_0x41fa97);}}catch(_0xef4044){this[_0x32da75(0x5f9)]['error'](this[_0x32da75(0x439)]+'\x20('+this[_0x32da75(0x56d)]['wuid']+_0x32da75(0x4ad)+(_0xef4044 instanceof Error?_0xef4044['message']:JSON[_0x32da75(0x28a)](_0xef4044,null,0x2)));}}[a0_0x569689(0x5ca)](_0x2a0401,_0x2a639d='',_0x2d2782={},_0x59565f=!0x0){const _0x309202=a0_0x569689;for(let _0x13c34e in _0x2a0401){let _0x40ec93=_0x59565f?'_'+_0x13c34e:''+_0x2a639d+_0x13c34e;typeof _0x2a0401[_0x13c34e]==_0x309202(0x289)&&_0x2a0401[_0x13c34e]!==null?this[_0x309202(0x5ca)](_0x2a0401[_0x13c34e],_0x40ec93+'.',_0x2d2782,!0x1):_0x2d2782[_0x40ec93]=String(_0x2a0401[_0x13c34e]);}return _0x2d2782;}[a0_0x569689(0x22e)](_0x24870c){const _0x36c60b=a0_0x569689;let _0x20ff7e={};for(let _0x26251f of _0x24870c)typeof _0x26251f[_0x36c60b(0x222)]==_0x36c60b(0x4b7)&&typeof _0x26251f['value']==_0x36c60b(0x4b7)&&(_0x20ff7e[_0x26251f['name']]=_0x26251f[_0x36c60b(0x6d8)]);return _0x20ff7e;}async[a0_0x569689(0x5f5)](_0x5e1dcc){const _0x3b5a95=a0_0x569689;if(!this[_0x3b5a95(0x755)]?.['flowConfig'][_0x3b5a95(0x50c)]||_0x5e1dcc[_0x3b5a95(0x5d4)]!=='open'&&_0x5e1dcc[_0x3b5a95(0x3b6)]==='')return null;let _0x10b596=_0x5e1dcc['chatLog'][_0x3b5a95(0x69a)]||_0x3b5a95(0x41b);typeof _0x5e1dcc[_0x3b5a95(0x4d7)]['lastCondition']>'u'&&(_0x5e1dcc[_0x3b5a95(0x4d7)][_0x3b5a95(0x5e5)]=!0x0);let _0x18b8ca=_0x5e1dcc[_0x3b5a95(0x4d7)][_0x3b5a95(0x5e5)];this[_0x3b5a95(0x5f9)][_0x3b5a95(0x55d)](this[_0x3b5a95(0x439)]+'\x20('+this['instance'][_0x3b5a95(0x4fb)]+_0x3b5a95(0x7c9)+_0x10b596+_0x3b5a95(0x224)+_0x18b8ca);let _0x8d5062=_0x10b596===_0x3b5a95(0x41b)?_0x5e1dcc[_0x3b5a95(0x4b5)][_0x3b5a95(0x3e0)](_0x30c3be=>_0x30c3be[_0x3b5a95(0x1c6)]===_0x3b5a95(0x41b)):_0x5e1dcc[_0x3b5a95(0x4b5)][_0x3b5a95(0x3e0)](_0x19b445=>_0x19b445[_0x3b5a95(0x301)][_0x3b5a95(0x6be)]()===_0x10b596['toString']());if(!_0x8d5062)return this[_0x3b5a95(0x5f9)][_0x3b5a95(0x393)](this[_0x3b5a95(0x439)]+'\x20('+this[_0x3b5a95(0x56d)][_0x3b5a95(0x4fb)]+_0x3b5a95(0x21d)+_0x10b596),null;let _0x48d961={'_pushName':_0x5e1dcc['chatLog'][_0x3b5a95(0x783)]['pushName'],..._0x5e1dcc[_0x3b5a95(0x4d7)][_0x3b5a95(0x402)]},_0x1106d3=null;if(_0x5e1dcc[_0x3b5a95(0x3b6)]){let _0x40312e=_0x5e1dcc[_0x3b5a95(0x4d7)]['lastReceivedMessage'][_0x3b5a95(0x39b)],_0xe10e60=_0x5e1dcc['waitingMenu_replyOptions'][_0x3b5a95(0x3e0)](_0x5dad8f=>_0x5dad8f[_0x3b5a95(0x36b)]===_0x40312e);if(_0xe10e60){let _0x3250b9=_0xe10e60['next_groupId'];if(_0x1106d3=_0x5e1dcc[_0x3b5a95(0x4b5)][_0x3b5a95(0x3e0)](_0x111d66=>_0x111d66[_0x3b5a95(0x6c4)]===_0x3250b9&&_0x111d66[_0x3b5a95(0x739)]===0x1),_0x8d5062['uazapi']['pollOnReplyDelete']){let _0x47810e={'id':_0x5e1dcc[_0x3b5a95(0x3b6)],'remoteJid':_0x5e1dcc[_0x3b5a95(0x325)],'fromMe':!0x0};await this[_0x3b5a95(0x791)](_0x47810e);}if(_0x8d5062[_0x3b5a95(0x278)]['pollOnReplyDelete']&&_0x8d5062[_0x3b5a95(0x278)]['pollMessageOnDelete']&&_0x8d5062['uazapi']['menuType']===_0x3b5a95(0x3a0)){let _0x225d15={'number':_0x5e1dcc[_0x3b5a95(0x325)],'options':{'delay':0x0},'textMessage':{'text':_0x3b5a95(0x227)+_0x5e1dcc[_0x3b5a95(0x583)]+_0x3b5a95(0x542)+_0x40312e}};await this[_0x3b5a95(0x262)](_0x225d15);}_0x5e1dcc[_0x3b5a95(0x5d4)]=_0x3b5a95(0x749),_0x5e1dcc['waitingMenu_id']='',_0x5e1dcc['waitingMenu_text']='',_0x5e1dcc[_0x3b5a95(0x3d8)]=[];}else{this[_0x3b5a95(0x5f9)][_0x3b5a95(0x55d)](this['instanceName']+'\x20('+this[_0x3b5a95(0x56d)][_0x3b5a95(0x4fb)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x593812={'activatedCount':_0x5e1dcc['chatLog'][_0x3b5a95(0x382)]['filter'](_0x148079=>String(_0x148079[_0x3b5a95(0x269)])===String(_0x10b596))[_0x3b5a95(0x63c)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x8d5062[_0x3b5a95(0x278)][_0x3b5a95(0x6cc)]){let _0x18a547={'number':_0x5e1dcc['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x8d5062[_0x3b5a95(0x278)][_0x3b5a95(0x6cc)]}};await this[_0x3b5a95(0x262)](_0x18a547);}if(_0x8d5062[_0x3b5a95(0x62c)]!==void 0x0&&_0x593812[_0x3b5a95(0x59a)]>=_0x8d5062[_0x3b5a95(0x62c)]){let _0x42ac58=Date['now'](),_0x3b298a=_0x8d5062['stopMinutesMaxActives']??0xa;isNaN(_0x3b298a)&&(_0x3b298a=0xa);let _0x223d3a=_0x42ac58+_0x3b298a*0x3c*0x3e8;_0x593812[_0x3b5a95(0x287)]=_0x223d3a,_0x593812[_0x3b5a95(0x66e)][_0x3b5a95(0x392)](_0x3b5a95(0x744)),this[_0x3b5a95(0x5fb)](_0x5e1dcc,_0x223d3a),_0x5e1dcc['waitingMenu_id']='',_0x5e1dcc['waitingMenu_text']='',_0x5e1dcc[_0x3b5a95(0x3d8)]=[];}return this[_0x3b5a95(0x500)](_0x5e1dcc,_0x8d5062,_0x593812,!0x0),null;}}if(_0x18b8ca&&_0x8d5062['next_groupId']&&!_0x5e1dcc['waitingMenu_id']){let _0x585fa5=_0x5e1dcc[_0x3b5a95(0x4b5)][_0x3b5a95(0x52f)](_0x2c24f4=>_0x2c24f4[_0x3b5a95(0x6c4)]['toString']()===_0x8d5062[_0x3b5a95(0x546)][_0x3b5a95(0x6be)]())[_0x3b5a95(0x40c)]((_0x67188d,_0x1c24ba)=>_0x67188d[_0x3b5a95(0x739)]-_0x1c24ba[_0x3b5a95(0x739)]);_0x585fa5[_0x3b5a95(0x63c)]>0x0&&(_0x1106d3=_0x585fa5[0x0]);}if(!_0x1106d3){let _0x1039aa=_0x8d5062[_0x3b5a95(0x6c4)],_0x40608c=_0x5e1dcc[_0x3b5a95(0x4b5)][_0x3b5a95(0x52f)](_0x40560f=>_0x40560f[_0x3b5a95(0x6c4)]===_0x1039aa&&_0x40560f[_0x3b5a95(0x739)]>_0x8d5062[_0x3b5a95(0x739)])[_0x3b5a95(0x40c)]((_0x22def4,_0x1b146e)=>_0x22def4[_0x3b5a95(0x739)]-_0x1b146e['order']);_0x40608c[_0x3b5a95(0x63c)]>0x0&&(_0x1106d3=_0x40608c[0x0]);}if(!_0x1106d3)return _0x5e1dcc[_0x3b5a95(0x5d4)]=_0x3b5a95(0x6f6),null;_0x5e1dcc[_0x3b5a95(0x4d7)][_0x3b5a95(0x402)]=_0x48d961;let _0x1018b9=JSON['parse'](JSON[_0x3b5a95(0x28a)](_0x1106d3));return this['replaceVariablesInObject'](_0x1018b9,_0x5e1dcc[_0x3b5a95(0x4d7)][_0x3b5a95(0x402)]),_0x5e1dcc[_0x3b5a95(0x4d7)][_0x3b5a95(0x69a)]=_0x1018b9[_0x3b5a95(0x301)],_0x5e1dcc[_0x3b5a95(0x4d7)][_0x3b5a95(0x5e5)]=!0x0,_0x1018b9;}[a0_0x569689(0x6ac)](_0xde0b78,_0x513e5d){const _0x57de08=a0_0x569689;return _0xde0b78[_0x57de08(0x52b)](/\{\{([^}]+)\}\}/g,(_0x280d6f,_0xcdfb33)=>_0x513e5d[_0xcdfb33]||'');}['replaceVariablesInObject'](_0x4d8598,_0x2e630d){const _0x2f5550=a0_0x569689;for(let _0x4240ed in _0x4d8598)typeof _0x4d8598[_0x4240ed]==_0x2f5550(0x4b7)?_0x4d8598[_0x4240ed]=this['replaceVariables'](_0x4d8598[_0x4240ed],_0x2e630d):typeof _0x4d8598[_0x4240ed]==_0x2f5550(0x289)&&this['replaceVariablesInObject'](_0x4d8598[_0x4240ed],_0x2e630d);}async[a0_0x569689(0x512)](_0x4132d6,_0x4af093){const _0x167fcc=a0_0x569689;let _0x50e044=_0x4af093[_0x167fcc(0x301)];if(_0x4132d6[_0x167fcc(0x4d7)]&&_0x4132d6[_0x167fcc(0x4d7)]['blockLogs']){let _0x50762f=_0x4132d6['chatLog'][_0x167fcc(0x382)]['filter'](_0x5e5ce5=>String(_0x5e5ce5[_0x167fcc(0x269)])===String(_0x50e044))[_0x167fcc(0x60c)]();if(_0x50762f&&_0x50762f[_0x167fcc(0x393)]&&_0x4af093['stopIfLastReturnedError'])return _0x4132d6[_0x167fcc(0x5d4)]=_0x167fcc(0x6f6),await this[_0x167fcc(0x315)](_0x4132d6),null;}if(_0x4af093['type']===_0x167fcc(0x278)&&_0x4af093[_0x167fcc(0x278)][_0x167fcc(0x504)]===_0x167fcc(0x59e)&&_0x4132d6[_0x167fcc(0x3b6)])return _0x4132d6[_0x167fcc(0x4d7)]['lastBlockId']=_0x50e044,await this[_0x167fcc(0x315)](_0x4132d6),null;let _0x50fd20=await this['NextBlock'](_0x4132d6);if(_0x4132d6['chatLog']&&_0x4132d6[_0x167fcc(0x4d7)]['blockLogs']){let _0x58f914=_0x4132d6[_0x167fcc(0x4d7)][_0x167fcc(0x382)][_0x167fcc(0x52f)](_0x3e57b2=>String(_0x3e57b2['blockId'])===String(_0x50e044))[_0x167fcc(0x63c)];if(_0x4af093[_0x167fcc(0x62c)]!==void 0x0&&_0x58f914>=_0x4af093[_0x167fcc(0x62c)]){let _0x4c5dbc=Date[_0x167fcc(0x70c)](),_0x8ec8a9=_0x4af093[_0x167fcc(0x60e)]??0xa;isNaN(_0x8ec8a9)&&(_0x8ec8a9=0xa);let _0x3dceac=_0x4c5dbc+_0x8ec8a9*0x3c*0x3e8,_0x4021ae={'newStoppedUntil':_0x3dceac};return this[_0x167fcc(0x5fb)](_0x4132d6,_0x3dceac),this[_0x167fcc(0x500)](_0x4132d6,_0x4af093,_0x4021ae,!0x0),null;}}_0x50fd20&&_0x50fd20[_0x167fcc(0x1c6)]!==_0x167fcc(0x67b)&&await this[_0x167fcc(0x1ed)](_0x4132d6,_0x50fd20),_0x50fd20||await this['saveConversationToDatabase'](_0x4132d6),_0x50fd20&&_0x50fd20[_0x167fcc(0x1c6)]===_0x167fcc(0x67b)&&(_0x4132d6[_0x167fcc(0x4d7)][_0x167fcc(0x69a)]=_0x50e044,await this[_0x167fcc(0x315)](_0x4132d6));}async['processblock'](_0xf74c42,_0x2c0e83){const _0x155924=a0_0x569689;try{let _0x331f39=_0x2c0e83['type'];this[_0x155924(0x5f9)][_0x155924(0x55d)](this[_0x155924(0x439)]+'\x20('+this['instance'][_0x155924(0x4fb)]+'):\x20Going\x20to\x20'+_0x331f39);let _0x3fa673={'uazapi':()=>this[_0x155924(0x721)](_0xf74c42,_0x2c0e83),'save':()=>this['saveTextReply'](_0xf74c42,_0x2c0e83),'stop':()=>this['stopConversation'](_0xf74c42,_0x2c0e83),'condition':()=>this[_0x155924(0x50d)](_0xf74c42,_0x2c0e83),'varedit':()=>this['processvaredits'](_0xf74c42,_0x2c0e83),'apirequest':()=>this[_0x155924(0x4bb)](_0xf74c42,_0x2c0e83),'goToFlow':()=>this[_0x155924(0x34a)](_0xf74c42,_0x2c0e83)}[_0x331f39];_0x3fa673&&await _0x3fa673();}catch(_0x29f2cb){this['logger'][_0x155924(0x393)](this[_0x155924(0x439)]+'\x20('+this[_0x155924(0x56d)][_0x155924(0x4fb)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x29f2cb instanceof Error?_0x29f2cb[_0x155924(0x793)]:JSON['stringify'](_0x29f2cb,null,0x2)));}}async['processgoToFlow'](_0x4a7e9b,_0x2a2064){const _0x3e28c0=a0_0x569689;if(this[_0x3e28c0(0x5f9)][_0x3e28c0(0x55d)](this[_0x3e28c0(0x439)]+'\x20('+this['instance'][_0x3e28c0(0x4fb)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x4a7e9b||!_0x2a2064)return this['logger'][_0x3e28c0(0x393)](this[_0x3e28c0(0x439)]+'\x20('+this['instance'][_0x3e28c0(0x4fb)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x3e28c0(0x500)](_0x4a7e9b,_0x2a2064,{},!0x0,!0x0),console[_0x3e28c0(0x513)](_0x3e28c0(0x73f)),console[_0x3e28c0(0x513)](_0x2a2064);let _0x37d88a=_0x2a2064[_0x3e28c0(0x319)];console[_0x3e28c0(0x513)](_0x3e28c0(0x454),_0x37d88a),_0x4a7e9b=await this['createConversationforgoToFlow'](_0x37d88a,_0x4a7e9b[_0x3e28c0(0x325)],_0x4a7e9b['chatLog'][_0x3e28c0(0x402)]),this[_0x3e28c0(0x5f9)]['verbose'](this[_0x3e28c0(0x439)]+'\x20('+this[_0x3e28c0(0x56d)]['wuid']+_0x3e28c0(0x5c1));let _0x18606e=await this[_0x3e28c0(0x5f5)](_0x4a7e9b);_0x18606e&&await this[_0x3e28c0(0x1ed)](_0x4a7e9b,_0x18606e);}async['createConversationforgoToFlow'](_0x4f8117,_0x48e989,_0xd4dabe){const _0x4baf9b=a0_0x569689;this[_0x4baf9b(0x5f9)][_0x4baf9b(0x55d)](this[_0x4baf9b(0x439)]+'\x20('+this[_0x4baf9b(0x56d)][_0x4baf9b(0x4fb)]+_0x4baf9b(0x58b));try{if(_0x4f8117=await this[_0x4baf9b(0x73b)][_0x4baf9b(0x76c)]['findOne']({'where':{'name':_0x4f8117}},this['instance'][_0x4baf9b(0x4fb)]),!_0x4f8117)return this[_0x4baf9b(0x5f9)][_0x4baf9b(0x393)](this[_0x4baf9b(0x439)]+'\x20('+this[_0x4baf9b(0x56d)][_0x4baf9b(0x4fb)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x3c9932=require(_0x4baf9b(0x1c7))[_0x4baf9b(0x62d)],_0x5e2c88=Date[_0x4baf9b(0x70c)](),_0x4ebfb4=_0x4baf9b(0x41b),_0x1c834b={},_0x3dd7c7={},_0x304fc5={..._0x4f8117,'chatLog':null},_0x2c22d7={'lastReceivedMessage':_0x1c834b,'lastSendMessage':_0x3dd7c7,'lastBlockId':_0x4ebfb4,'lastCondition':!0x0,'realVariables':_0xd4dabe};_0x304fc5[_0x4baf9b(0x4d7)]=_0x2c22d7,_0x304fc5[_0x4baf9b(0x4d7)][_0x4baf9b(0x402)]={..._0xd4dabe},delete _0x304fc5[_0x4baf9b(0x301)],_0x304fc5[_0x4baf9b(0x301)]=new _0x3c9932(),_0x304fc5[_0x4baf9b(0x4ab)]=_0x5e2c88,_0x304fc5[_0x4baf9b(0x5d4)]='open',_0x304fc5['remoteJid']=_0x48e989;let _0x5271cb=await this[_0x4baf9b(0x73b)][_0x4baf9b(0x321)]['updateOne'](_0x304fc5[_0x4baf9b(0x301)],_0x304fc5,this[_0x4baf9b(0x56d)][_0x4baf9b(0x4fb)]);return this['logger'][_0x4baf9b(0x55d)](this[_0x4baf9b(0x439)]+'\x20('+this[_0x4baf9b(0x56d)][_0x4baf9b(0x4fb)]+_0x4baf9b(0x784)),_0x5271cb?_0x304fc5:null;}catch(_0xd9d061){throw this[_0x4baf9b(0x5f9)][_0x4baf9b(0x393)](this['instanceName']+'\x20('+this[_0x4baf9b(0x56d)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0xd9d061 instanceof Error?_0xd9d061[_0x4baf9b(0x793)]:JSON[_0x4baf9b(0x28a)](_0xd9d061,null,0x2))),new h(_0xd9d061[_0x4baf9b(0x793)]);}}async['processApiRequest'](_0x509a26,_0x1c34d1){const _0x2f2882=a0_0x569689;let _0x1f4f66,_0xecce1b;try{let _0x524a0e=_0x1c34d1[_0x2f2882(0x5e2)];if(!_0x524a0e||!_0x524a0e[_0x2f2882(0x6ab)]||!_0x524a0e['method'])throw new Error(_0x2f2882(0x1ff));let _0x3e9ca5={'method':_0x524a0e['method'],'url':_0x524a0e['url'],'headers':_0x524a0e[_0x2f2882(0x1d9)]||{},'data':_0x524a0e[_0x2f2882(0x511)]||{}},_0xc039c8=await(0x0,se[_0x2f2882(0x29a)])(_0x3e9ca5),_0x5629e2=_0xc039c8['headers'][_0x2f2882(0x4ee)];if(_0x5629e2&&_0x5629e2[_0x2f2882(0x1f2)](_0x2f2882(0x5ef))){_0x1f4f66=_0xc039c8['data'];let _0x219170=_0x509a26[_0x2f2882(0x4d7)][_0x2f2882(0x402)],_0x1cb704=this[_0x2f2882(0x5ca)](_0x1f4f66);return Object[_0x2f2882(0x667)](_0x219170,_0x1cb704),_0x509a26['chatLog']['realVariables']=_0x219170,_0xecce1b={'error':!0x1,'apiResponse':_0x1f4f66},this[_0x2f2882(0x500)](_0x509a26,_0x1c34d1,_0xecce1b),_0x1f4f66;}else{if(_0x5629e2&&(_0x5629e2[_0x2f2882(0x1f2)]('application/octet-stream')||_0x5629e2[_0x2f2882(0x1f2)](_0x2f2882(0x379))||_0x5629e2['includes'](_0x2f2882(0x53a))||_0x5629e2[_0x2f2882(0x1f2)](_0x2f2882(0x619)))){let _0x32d608=''+(0x0,fe['v4'])(),_0x1d50eb=_0xc039c8[_0x2f2882(0x2d3)][_0x2f2882(0x1b5)];if(_0x1d50eb){let _0x116803=_0x1d50eb[_0x2f2882(0x4cf)](/filename="?(.+)"?/);if(_0x116803&&_0x116803[0x1]){let _0x4fcd40=_0x116803[0x1],_0x5bd053=P['default']['extname'](_0x4fcd40);_0x32d608=''+(0x0,fe['v4'])()+_0x5bd053;}}let _0xc2069f=this[_0x2f2882(0x555)][_0x2f2882(0x5de)]('SERVER')['URL'];if(!_0xc2069f){let _0x3738b0=this[_0x2f2882(0x555)]['get']('SSL_CONF');_0xc2069f=_0x2f2882(0x765)+(_0x3738b0&&_0x3738b0[_0x2f2882(0x4c7)][_0x2f2882(0x348)]('/')[0x4]);}let _0x39e10c=Buffer[_0x2f2882(0x68a)](_0xc039c8['data']);await this[_0x2f2882(0x282)](_0x39e10c,_0x32d608);let _0xfa2e5f='/media/'+_0x32d608;return _0xfa2e5f=''+_0xc2069f+_0xfa2e5f,_0x1f4f66={'fileUrl':_0xfa2e5f},_0x509a26[_0x2f2882(0x4d7)]['realVariables'][_0x2f2882(0x4ce)]=_0xfa2e5f,_0xecce1b={'error':!0x1,'apiResponse':{'fileUrl':_0xfa2e5f}},this['updateConversation'](_0x509a26,_0x1c34d1,_0xecce1b),_0x1f4f66;}}}catch(_0x459d52){console[_0x2f2882(0x393)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x459d52),_0x459d52['response']&&(_0x1f4f66=_0x459d52[_0x2f2882(0x569)][_0x2f2882(0x7ae)]);let _0x361b32=_0x509a26['chatLog'][_0x2f2882(0x402)],_0x532539=this[_0x2f2882(0x5ca)](_0x1f4f66);return Object['assign'](_0x361b32,_0x532539),_0x509a26[_0x2f2882(0x4d7)]['realVariables']=_0x361b32,_0xecce1b={'error':!0x0,'errorLog':_0x459d52[_0x2f2882(0x6be)](),'apiResponse':_0x1f4f66},this[_0x2f2882(0x500)](_0x509a26,_0x1c34d1,_0xecce1b),{'success':!0x1};}}[a0_0x569689(0x72b)](_0x489fa4,_0x322e66){const _0x529541=a0_0x569689;let _0x57114c=_0x23823e=>{const _0x164945=a0_0x4dbe;let _0x521927=_0x23823e[_0x164945(0x52b)](/[^0-9.,-]/g,'')[_0x164945(0x52b)](',','.'),_0x5aea5f=parseFloat(_0x521927);return isNaN(_0x5aea5f)?null:_0x5aea5f;},_0x5aead3=_0x322e66[_0x529541(0x370)],_0xe003ae=_0x322e66[_0x529541(0x342)];typeof _0x5aead3=='string'&&(_0x5aead3=this[_0x529541(0x6ac)](_0x5aead3,_0x489fa4[_0x529541(0x4d7)][_0x529541(0x402)])??''),typeof _0xe003ae==_0x529541(0x4b7)&&(_0xe003ae=this['replaceVariables'](_0xe003ae,_0x489fa4[_0x529541(0x4d7)][_0x529541(0x402)])??'');let _0x2c2b15=null;if(!_0x322e66['editOperator'])return null;switch(this[_0x529541(0x5f9)][_0x529541(0x55d)](this[_0x529541(0x439)]+'\x20('+this['instance'][_0x529541(0x4fb)]+_0x529541(0x4ac)+_0x5aead3),this[_0x529541(0x5f9)]['verbose'](this[_0x529541(0x439)]+'\x20('+this[_0x529541(0x56d)][_0x529541(0x4fb)]+_0x529541(0x684)+_0xe003ae),_0x322e66['editOperator']){case'+':case'-':case'*':case'/':let _0x1be65a=_0x57114c(_0x5aead3||'0'),_0x2dbcbb=_0x57114c(_0xe003ae||'0');if(_0x1be65a===null)return null;switch(_0x322e66['editOperator']){case'+':_0x2c2b15=_0x1be65a+(_0x2dbcbb??0x0);break;case'-':_0x2c2b15=_0x1be65a-(_0x2dbcbb??0x0);break;case'*':_0x2c2b15=_0x1be65a*(_0x2dbcbb??0x1);break;case'/':_0x2dbcbb!==0x0&&(_0x2c2b15=_0x1be65a/(_0x2dbcbb??0x1));break;}break;case'findAndReplace':case _0x529541(0x39a):let _0x1df830=_0xe003ae,_0x20e8fe=_0x322e66['replaceValue'];if(typeof _0x20e8fe=='string'&&(_0x20e8fe=this[_0x529541(0x6ac)](_0x20e8fe,_0x489fa4['chatLog'][_0x529541(0x402)])??''),_0x1df830&&_0x20e8fe!==void 0x0){let _0x5697cf=_0x322e66[_0x529541(0x3ea)]===_0x529541(0x24a)?new RegExp(_0x1df830[_0x529541(0x52b)](/[-\/\\^$*+?.()|[\]{}]/g,_0x529541(0x2a3)),'g'):new RegExp(_0x1df830,'g');_0x2c2b15=_0x5aead3[_0x529541(0x52b)](_0x5697cf,_0x20e8fe);}else console['warn'](_0x529541(0x567));break;case'setNewValue':_0x2c2b15=_0xe003ae;break;case _0x529541(0x76b):let _0x389444=_0x5aead3[_0x529541(0x4cf)](new RegExp(_0xe003ae||''));_0x2c2b15=_0x389444?_0x389444[0x0]:'';break;case _0x529541(0x79d):_0x2c2b15=_0x5aead3['slice'](0x0,parseInt(_0xe003ae||'0'));break;case'truncatedtoEnd':let _0x3874c6=parseInt(_0xe003ae||'0');_0x2c2b15=_0x5aead3[_0x529541(0x2ce)](_0x5aead3[_0x529541(0x63c)]-_0x3874c6);break;case _0x529541(0x70e):let _0x5d9793=_0x57114c(_0x5aead3),_0x268490=parseInt(_0xe003ae||'0');_0x268490=Math[_0x529541(0x279)](_0x268490),_0x5d9793!==null?_0x2c2b15=_0x5d9793['toLocaleString'](_0x529541(0x1e8),{'minimumFractionDigits':_0x268490,'maximumFractionDigits':_0x268490}):(console[_0x529541(0x4df)](_0x529541(0x5f3)+_0x5aead3),_0x2c2b15=null);break;case'toBRL':let _0x2f6689=_0x57114c(_0x5aead3);_0x2f6689!==null?_0x2c2b15=_0x2f6689[_0x529541(0x1c1)](_0x529541(0x1e8),{'style':'currency','currency':_0x529541(0x42e)}):(console[_0x529541(0x4df)](_0x529541(0x735)+_0x5aead3),_0x2c2b15=null);break;case _0x529541(0x7b4):_0x2c2b15=_0x5aead3[_0x529541(0x3c1)]();break;case'lowerCase':_0x2c2b15=_0x5aead3[_0x529541(0x357)]();break;case _0x529541(0x3a1):_0x2c2b15=_0x5aead3['split']('\x20')[_0x529541(0x46c)](_0xf77ed=>_0xf77ed[_0x529541(0x54e)](0x0)[_0x529541(0x3c1)]()+_0xf77ed[_0x529541(0x2ce)](0x1)[_0x529541(0x357)]())[_0x529541(0x1ee)]('\x20');break;case'trimmed':_0x2c2b15=_0x5aead3[_0x529541(0x1cb)]();break;default:_0x2c2b15=_0x5aead3;}return _0x2c2b15!==null?_0x2c2b15[_0x529541(0x6be)]():null;}async[a0_0x569689(0x3a4)](_0x525902,_0x4ea706){const _0x566682=a0_0x569689;try{let _0xd43ea5=_0x525902[_0x566682(0x659)]?.[_0x566682(0x52f)](_0xa400ff=>_0xa400ff[_0x566682(0x269)]===_0x4ea706[_0x566682(0x301)]?.[_0x566682(0x6be)]())||[],_0x3a98b8=_0x4ea706[_0x566682(0x303)],_0x39a63e=null,_0x30c0a3=[],_0x2004f4=_0x525902[_0x566682(0x4d7)][_0x566682(0x402)][_0x3a98b8];_0x30c0a3[_0x566682(0x392)](_0x566682(0x668)+_0x2004f4+'\x22');for(let _0x50ec50 of _0xd43ea5){_0x50ec50[_0x566682(0x370)]=_0x2004f4,_0x39a63e=_0x50ec50[_0x566682(0x370)];let _0x123a5a;try{_0x123a5a=this[_0x566682(0x72b)](_0x525902,_0x50ec50);}catch(_0x23e39f){console['error'](_0x566682(0x356)+_0x23e39f['message']);continue;}if(_0x123a5a!==null){let _0x26911f=_0x566682(0x670)+_0x50ec50[_0x566682(0x3ea)]+'\x22',_0xf3548b=[_0x566682(0x381),'upperCase',_0x566682(0x363),_0x566682(0x3a1),'trimmed'];_0x50ec50[_0x566682(0x3ea)]===_0x566682(0x24a)||_0x50ec50[_0x566682(0x3ea)]===_0x566682(0x39a)?_0x26911f+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x50ec50[_0x566682(0x342)]+_0x566682(0x7be)+_0x50ec50['replaceValue']+'\x22':!_0xf3548b[_0x566682(0x1f2)](_0x50ec50['editOperator'])&&_0x50ec50[_0x566682(0x342)]!==null&&_0x50ec50[_0x566682(0x342)]!==void 0x0&&(_0x26911f+=',\x20valor\x20passado:\x20\x22'+_0x50ec50['secondValue']+'\x22'),_0x26911f+=_0x566682(0x7bc)+_0x123a5a+'.',_0x30c0a3[_0x566682(0x392)](_0x26911f);}_0x123a5a!==null&&(_0x2004f4=_0x123a5a);}if(_0x525902[_0x566682(0x4d7)][_0x566682(0x402)]&&_0x4ea706[_0x566682(0x303)]){_0x525902[_0x566682(0x4d7)][_0x566682(0x402)][_0x4ea706[_0x566682(0x303)]]=_0x2004f4;let _0x3265a8={'variable':_0x4ea706[_0x566682(0x303)],'oldValue':_0x39a63e,'newValue':_0x2004f4,'moreLogs':_0x30c0a3};try{this[_0x566682(0x500)](_0x525902,_0x4ea706,_0x3265a8);}catch(_0x263a67){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x263a67['message']);}}return _0x3a98b8;}catch(_0x34d4c1){return console[_0x566682(0x393)](_0x566682(0x4d3)+_0x34d4c1[_0x566682(0x793)]),null;}}async[a0_0x569689(0x50d)](_0x1c3f61,_0x346a3f){const _0x1178d7=a0_0x569689;try{let _0xce1ce6=[],_0x268c54=_0x1c3f61[_0x1178d7(0x635)][_0x1178d7(0x52f)](_0x19ec06=>_0x19ec06[_0x1178d7(0x269)]===_0x346a3f[_0x1178d7(0x301)]['toString']()),_0x41ce42=null,_0x32d63b=!0x1;for(let _0x4e9ec2 of _0x268c54){let _0xe3d825=this[_0x1178d7(0x6ce)](_0x1c3f61,_0x4e9ec2);_0xce1ce6['push'](_0x1178d7(0x5a0)+_0x4e9ec2['firstValue']+',\x20Comparador:\x20'+_0x4e9ec2['expression']+',\x20Segundo\x20Valor:\x20'+_0x4e9ec2[_0x1178d7(0x342)]+_0x1178d7(0x5a8)+_0xe3d825),_0x41ce42===null?_0x41ce42=_0xe3d825:_0x4e9ec2[_0x1178d7(0x21c)]===_0x1178d7(0x255)?(_0x41ce42=_0x41ce42&&_0xe3d825,_0xe3d825||(_0x32d63b=!0x0)):_0x4e9ec2[_0x1178d7(0x21c)]==='or'&&(_0x32d63b||(_0x41ce42=_0x41ce42||_0xe3d825));}_0x41ce42===null&&(_0x41ce42=!0x0);let _0x23dae0={'moreLogs':_0xce1ce6};_0x1c3f61['chatLog'][_0x1178d7(0x5e5)]=_0x41ce42,await this[_0x1178d7(0x500)](_0x1c3f61,_0x346a3f,_0x23dae0);}catch(_0x35bdda){this[_0x1178d7(0x5f9)][_0x1178d7(0x393)](this['instanceName']+'\x20('+this[_0x1178d7(0x56d)]['wuid']+_0x1178d7(0x35f)+(_0x35bdda instanceof Error?_0x35bdda['message']:JSON[_0x1178d7(0x28a)](_0x35bdda,null,0x2)));}}[a0_0x569689(0x6ce)](_0x471a24,_0x27c699){const _0x2e35e4=a0_0x569689;let _0x339516=_0x27c699[_0x2e35e4(0x370)],_0x27a99c=_0x27c699['secondValue'];typeof _0x339516==_0x2e35e4(0x4b7)&&(_0x339516=this[_0x2e35e4(0x6ac)](_0x339516,_0x471a24[_0x2e35e4(0x4d7)][_0x2e35e4(0x402)])??''),typeof _0x27a99c==_0x2e35e4(0x4b7)&&(_0x27a99c=this['replaceVariables'](_0x27a99c,_0x471a24['chatLog'][_0x2e35e4(0x402)])??'');try{switch(_0x27c699[_0x2e35e4(0x369)]){case'equal':return _0x339516===_0x27a99c;case _0x2e35e4(0x51b):return _0x339516!==_0x27a99c;case _0x2e35e4(0x73e):return _0x339516[_0x2e35e4(0x1f2)](_0x27a99c);case _0x2e35e4(0x6bc):return!_0x339516[_0x2e35e4(0x1f2)](_0x27a99c);case _0x2e35e4(0x251):return parseFloat(_0x339516)>parseFloat(_0x27a99c);case _0x2e35e4(0x76e):return parseFloat(_0x339516)<parseFloat(_0x27a99c);case'notEmpty':return _0x339516!=='';case _0x2e35e4(0x39c):return _0x339516==='';case _0x2e35e4(0x5d2):return new RegExp(_0x27a99c)[_0x2e35e4(0x7c5)](_0x339516);case'notMatchRegex':return!new RegExp(_0x27a99c)['test'](_0x339516);default:return!0x1;}}catch(_0xb45a40){return console[_0x2e35e4(0x393)](_0x2e35e4(0x617)+_0xb45a40),!0x1;}}[a0_0x569689(0x707)](_0x4a1841){const _0x316e3a=a0_0x569689;let _0x23acf7=!0x0,_0x3cf3a4=null;for(let _0x2bfffd of _0x4a1841){let _0x19dfbe=this[_0x316e3a(0x64a)](_0x2bfffd);if(_0x3cf3a4==='or'&&_0x19dfbe){_0x23acf7=!0x0;break;}if(_0x3cf3a4===_0x316e3a(0x255)&&!_0x19dfbe){_0x23acf7=!0x1;break;}_0x3cf3a4=_0x2bfffd['OrAnd'];}return _0x23acf7;}[a0_0x569689(0x64a)](_0x5c7111){const _0x44927f=a0_0x569689;let _0x512da6=_0x5c7111['firstValue'],_0x18ae3c=_0x5c7111['secondValue'];try{switch(_0x5c7111[_0x44927f(0x369)]){case _0x44927f(0x2db):return String(_0x512da6)===String(_0x18ae3c);case _0x44927f(0x51b):return String(_0x512da6)!==String(_0x18ae3c);case'contains':return String(_0x512da6)[_0x44927f(0x1f2)](String(_0x18ae3c));case _0x44927f(0x6bc):return!String(_0x512da6)[_0x44927f(0x1f2)](String(_0x18ae3c));case'greater':return parseFloat(String(_0x512da6))>parseFloat(String(_0x18ae3c));case'less':return parseFloat(String(_0x512da6))<parseFloat(String(_0x18ae3c));case _0x44927f(0x47d):return String(_0x512da6)!=='';case _0x44927f(0x39c):return String(_0x512da6)==='';case _0x44927f(0x5d2):return new RegExp(String(_0x18ae3c))['test'](String(_0x512da6));case _0x44927f(0x4b0):return!new RegExp(String(_0x18ae3c))[_0x44927f(0x7c5)](String(_0x512da6));default:return!0x1;}}catch(_0x93d42b){return console[_0x44927f(0x393)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x93d42b),!0x1;}}async[a0_0x569689(0x40b)](_0xb3de3d,_0x215f50){const _0x264f72=a0_0x569689;if(this[_0x264f72(0x5f9)][_0x264f72(0x55d)](this['instanceName']+'\x20('+this[_0x264f72(0x56d)][_0x264f72(0x4fb)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0xb3de3d||!_0x215f50)return this['logger'][_0x264f72(0x393)](this[_0x264f72(0x439)]+'\x20('+this[_0x264f72(0x56d)][_0x264f72(0x4fb)]+_0x264f72(0x532)),null;let _0x6b5aa2=_0x215f50[_0x264f72(0x303)],_0x29e8cb=_0xb3de3d['chatLog'][_0x264f72(0x783)]['text']||_0xb3de3d['chatLog']['lastReceivedMessage']['caption']||_0xb3de3d[_0x264f72(0x4d7)][_0x264f72(0x783)]['vote'];try{_0xb3de3d[_0x264f72(0x4d7)][_0x264f72(0x402)]||(_0xb3de3d[_0x264f72(0x4d7)][_0x264f72(0x402)]={});let _0x419ce5=_0xb3de3d[_0x264f72(0x4d7)][_0x264f72(0x402)][_0x6b5aa2];_0xb3de3d[_0x264f72(0x4d7)][_0x264f72(0x402)][_0x6b5aa2]=_0x29e8cb;let _0x5b6656={'variable':_0x6b5aa2,'oldValue':_0x419ce5,'newValue':_0x29e8cb};this['updateConversation'](_0xb3de3d,_0x215f50,_0x5b6656),this[_0x264f72(0x5f9)][_0x264f72(0x55d)](this[_0x264f72(0x439)]+'\x20('+this[_0x264f72(0x56d)][_0x264f72(0x4fb)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x512da2){let _0x30df6c={'error':!0x0,'errorLog':_0x512da2[_0x264f72(0x6be)]()};return this[_0x264f72(0x500)](_0xb3de3d,_0x215f50,_0x30df6c),this[_0x264f72(0x5f9)][_0x264f72(0x393)](this[_0x264f72(0x439)]+'\x20('+this[_0x264f72(0x56d)][_0x264f72(0x4fb)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x512da2 instanceof Error?_0x512da2[_0x264f72(0x793)]:JSON[_0x264f72(0x28a)](_0x512da2,null,0x2))),null;}}async[a0_0x569689(0x445)](_0x21e02a,_0x2e4749){const _0x39cef1=a0_0x569689;if(this[_0x39cef1(0x5f9)][_0x39cef1(0x55d)](this[_0x39cef1(0x439)]+'\x20('+this[_0x39cef1(0x56d)]['wuid']+'):\x20Entrou\x20na\x20função\x20stop'),!_0x21e02a||!_0x2e4749)return this['logger'][_0x39cef1(0x393)](this[_0x39cef1(0x439)]+'\x20('+this[_0x39cef1(0x56d)][_0x39cef1(0x4fb)]+_0x39cef1(0x532)),null;let _0x57e368=Date[_0x39cef1(0x70c)](),_0x3c6d25=parseInt(_0x2e4749['stopMinutes'],0xa);if(isNaN(_0x3c6d25))return this['logger'][_0x39cef1(0x393)](this['instanceName']+'\x20('+this[_0x39cef1(0x56d)][_0x39cef1(0x4fb)]+_0x39cef1(0x73d)),null;let _0x1f3a5d={'newStoppedUntil':_0x57e368+_0x3c6d25*0x3c*0x3e8};return await this[_0x39cef1(0x500)](_0x21e02a,_0x2e4749,_0x1f3a5d,!0x0),null;}async['processUazapi'](_0x301f82,_0xc9e122){const _0x20c854=a0_0x569689;try{switch(_0xc9e122[_0x20c854(0x278)][_0x20c854(0x504)]){case _0x20c854(0x437):await this[_0x20c854(0x7ad)](_0x301f82,_0xc9e122);break;case _0x20c854(0x311):await this['uazapiSendMedia'](_0x301f82,_0xc9e122);break;case _0x20c854(0x581):await this[_0x20c854(0x73c)](_0x301f82,_0xc9e122);break;case'sendAudio':await this[_0x20c854(0x51f)](_0x301f82,_0xc9e122);break;case _0x20c854(0x7b8):await this[_0x20c854(0x271)](_0x301f82,_0xc9e122);break;case'sendPoll':await this[_0x20c854(0x3b2)](_0x301f82,_0xc9e122);break;case _0x20c854(0x258):await this[_0x20c854(0x3b2)](_0x301f82,_0xc9e122);break;case'deleteMessage':await this[_0x20c854(0x45f)](_0x301f82,_0xc9e122);break;default:this[_0x20c854(0x5f9)][_0x20c854(0x393)](this[_0x20c854(0x439)]+'\x20('+this[_0x20c854(0x56d)]['wuid']+_0x20c854(0x656)+_0xc9e122[_0x20c854(0x278)]['command']);}}catch(_0x5ea91c){this[_0x20c854(0x5f9)][_0x20c854(0x393)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x20c854(0x30d)+(_0x5ea91c instanceof Error?_0x5ea91c[_0x20c854(0x793)]:JSON[_0x20c854(0x28a)](_0x5ea91c,null,0x2)));}}async[a0_0x569689(0x500)](_0x1431ee,_0x43116d,_0x3071ff,_0x11f604=!0x1,_0x3eb60a=!0x1){const _0x107dd5=a0_0x569689;_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x382)]||(_0x1431ee['chatLog']['blockLogs']=[]);let _0xba39b6=(_0x1431ee[_0x107dd5(0x4d7)]['blockLogs']?.[_0x107dd5(0x63c)]??0x0)+0x1,_0x42a7cc=_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x382)]['filter'](_0xac2c66=>String(_0xac2c66[_0x107dd5(0x269)])===String(_0x43116d[_0x107dd5(0x301)]))[_0x107dd5(0x63c)]+0x1,_0x2b5c54=_0x3071ff?.[_0x107dd5(0x548)]??Date[_0x107dd5(0x70c)](),_0x4bb94e=_0x3071ff?.['error']?_0x3071ff['errorLog']??_0x3071ff['error']['toString']():void 0x0,_0xe602bd={'onTime':_0x2b5c54,'blockId':_0x43116d[_0x107dd5(0x301)],'order':_0xba39b6,'activatedCount':_0x42a7cc,'error':_0x3071ff?.[_0x107dd5(0x393)]??!0x1,'messageId':_0x3071ff?.['messageId'],'apiResponse':_0x3071ff?.[_0x107dd5(0x5bb)],'apiResponseString':_0x3071ff?.['apiResponse']?JSON[_0x107dd5(0x28a)](_0x3071ff?.[_0x107dd5(0x5bb)]):void 0x0,'variable':_0x3071ff?.['variable'],'oldValue':_0x3071ff?.[_0x107dd5(0x5eb)],'newValue':_0x3071ff?.[_0x107dd5(0x41d)],'newStoppedUntil':_0x3071ff?.[_0x107dd5(0x287)],'moreLogs':_0x3071ff?.[_0x107dd5(0x66e)],'errorLog':_0x4bb94e};if(_0x3071ff[_0x107dd5(0x66e)]&&_0x3071ff['moreLogs'][_0x107dd5(0x63c)]>0x0){let _0x1cbda0=_0x3071ff[_0x107dd5(0x66e)]['map'](_0xa9ca86=>this[_0x107dd5(0x2a0)](_0xa9ca86,_0x1431ee['chatLog'][_0x107dd5(0x402)]));_0xe602bd[_0x107dd5(0x66e)]=_0x1cbda0;}_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x402)]||(_0x1431ee['chatLog']['realVariables']={}),_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x402)]['_activatedCount']=String(_0x42a7cc),_0x1431ee['chatLog'][_0x107dd5(0x402)][_0x107dd5(0x3f3)]=String(_0x3071ff[_0x107dd5(0x393)]??!0x1),_0x1431ee[_0x107dd5(0x4d7)]['blockLogs'][_0x107dd5(0x392)](_0xe602bd),_0x1431ee['chatLog']['lastBlockId']=_0x43116d[_0x107dd5(0x301)][_0x107dd5(0x6be)](),_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x328)]&&(_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x328)]=_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x328)]),_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x783)]&&(_0x1431ee['chatLog']['lastReceivedMessage']=_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x783)]),_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x5e5)]&&(_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x5e5)]=_0x1431ee[_0x107dd5(0x4d7)][_0x107dd5(0x5e5)]),_0x3eb60a&&(_0x1431ee[_0x107dd5(0x5d4)]=_0x107dd5(0x6f6)),_0x11f604?this[_0x107dd5(0x315)](_0x1431ee):this['goNextblock'](_0x1431ee,_0x43116d);}[a0_0x569689(0x2a0)](_0x50f211,_0x201046){const _0x3f5d47=a0_0x569689;return _0x50f211['replace'](/\{\{([^}]+)\}\}/g,(_0x40c86e,_0x196927)=>_0x201046[_0x196927]?'{{'+_0x196927+_0x3f5d47(0x355)+_0x201046[_0x196927]+'\x22':'{{'+_0x196927+_0x3f5d47(0x5bf));}async[a0_0x569689(0x315)](_0x2e525d){const _0x44f875=a0_0x569689;try{let _0x2843a9=Object[_0x44f875(0x77a)](_0x2e525d['chatLog'][_0x44f875(0x402)])[_0x44f875(0x46c)](([_0x34d7e2,_0x14828f])=>({'name':_0x34d7e2,'value':_0x14828f})),_0x396a98={'status':_0x2e525d[_0x44f875(0x5d4)],'blocks':_0x2e525d['blocks'],'waitingMenu_id':_0x2e525d['waitingMenu_id'],'waitingMenu_text':_0x2e525d['waitingMenu_text'],'waitingMenu_replyOptions':_0x2e525d[_0x44f875(0x3d8)],'chatLog':{'lastBlockId':_0x2e525d[_0x44f875(0x4d7)][_0x44f875(0x69a)],'lastSendMessage':_0x2e525d[_0x44f875(0x4d7)][_0x44f875(0x328)],'lastReceivedMessage':_0x2e525d[_0x44f875(0x4d7)]['lastReceivedMessage'],'lastCondition':_0x2e525d[_0x44f875(0x4d7)][_0x44f875(0x5e5)],'chatVariables':_0x2843a9,'realVariables':_0x2e525d[_0x44f875(0x4d7)][_0x44f875(0x402)],'blockLogs':_0x2e525d[_0x44f875(0x4d7)]['blockLogs']}},_0xc8e395=await this['repository'][_0x44f875(0x321)][_0x44f875(0x616)](_0x2e525d[_0x44f875(0x301)],_0x396a98,this[_0x44f875(0x56d)]['wuid']);if(_0xc8e395){this['logger'][_0x44f875(0x55d)](this['instanceName']+'\x20('+this[_0x44f875(0x56d)][_0x44f875(0x4fb)]+_0x44f875(0x201)+_0xc8e395['_id']);try{let _0x4ab7b0=[_0x44f875(0x6e4),_0x44f875(0x636),_0x44f875(0x1d0),_0x44f875(0x252),_0x44f875(0x5d4),'notas',_0x44f875(0x4dc),_0x44f875(0x760)];if(!this['AutomateSystem']&&(await this[_0x44f875(0x29d)](),!this['AutomateSystem']))throw new Error(_0x44f875(0x2c0));let _0x5ee1fc=this[_0x44f875(0x755)]?.['customFields'][_0x44f875(0x46c)](_0xa959a4=>_0xa959a4[_0x44f875(0x222)]),_0xe003fe={};Object[_0x44f875(0x77a)](_0x2e525d[_0x44f875(0x4d7)][_0x44f875(0x402)])[_0x44f875(0x6b4)](([_0x5ce099,_0x1b2246])=>{const _0xf791be=_0x44f875;_0x4ab7b0[_0xf791be(0x1f2)](_0x5ce099)&&(_0x5ce099===_0xf791be(0x760)&&typeof _0x1b2246=='string'?_0xe003fe[_0x5ce099]=_0x1b2246[_0xf791be(0x348)](',')[_0xf791be(0x46c)](_0x53f34c=>_0x53f34c[_0xf791be(0x1cb)]())['filter'](_0x126b04=>_0x126b04!==''):_0xe003fe[_0x5ce099]=_0x1b2246);});let _0x5025bb=_0x2e525d[_0x44f875(0x4d7)][_0x44f875(0x382)][_0x2e525d[_0x44f875(0x4d7)][_0x44f875(0x382)]['length']-0x1];if(_0x5025bb){let _0x50360b=_0x5025bb[_0x44f875(0x287)];_0x50360b!==void 0x0&&(_0xe003fe[_0x44f875(0x323)]=_0x50360b[_0x44f875(0x6be)]());}let _0x2a32b7=_0x2843a9[_0x44f875(0x52f)](_0x4315cb=>_0x5ee1fc[_0x44f875(0x1f2)](_0x4315cb['name']));this[_0x44f875(0x5f9)][_0x44f875(0x55d)](this[_0x44f875(0x439)]+'\x20('+this[_0x44f875(0x56d)][_0x44f875(0x4fb)]+_0x44f875(0x4e2)),this['logger'][_0x44f875(0x55d)](_0xe003fe),this[_0x44f875(0x5f9)][_0x44f875(0x55d)](this[_0x44f875(0x439)]+'\x20('+this['instance'][_0x44f875(0x4fb)]+_0x44f875(0x33a)),this[_0x44f875(0x5f9)][_0x44f875(0x55d)](_0x2a32b7);let _0x92ed39=_0x2a32b7[_0x44f875(0x46c)](_0x25629e=>{const _0x49191d=_0x44f875;let _0xdd9bc5=this[_0x49191d(0x755)]?.[_0x49191d(0x775)][_0x49191d(0x3e0)](_0x3df7dc=>_0x3df7dc['name']===_0x25629e[_0x49191d(0x222)]);if(!_0xdd9bc5)throw new Error(_0x49191d(0x37d)+_0x25629e[_0x49191d(0x222)]);return{'_id':_0xdd9bc5[_0x49191d(0x301)],'value':_0x25629e['value']};});this[_0x44f875(0x5f9)][_0x44f875(0x55d)](this['instanceName']+'\x20('+this[_0x44f875(0x56d)][_0x44f875(0x4fb)]+'):\x20transformedCustomFieldVariables'),this[_0x44f875(0x5f9)][_0x44f875(0x55d)](_0x92ed39),await this[_0x44f875(0x1a2)](_0x2e525d[_0x44f875(0x325)],_0xe003fe,_0x92ed39);}catch(_0x373ccd){this['logger'][_0x44f875(0x393)](this['instanceName']+'\x20('+this['instance'][_0x44f875(0x4fb)]+_0x44f875(0x23c)+(_0x373ccd instanceof Error?_0x373ccd['message']:JSON[_0x44f875(0x28a)](_0x373ccd,null,0x2)));}}else this[_0x44f875(0x5f9)]['error'](this['instanceName']+'\x20('+this[_0x44f875(0x56d)][_0x44f875(0x4fb)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x2a2502){this[_0x44f875(0x5f9)][_0x44f875(0x393)](this[_0x44f875(0x439)]+'\x20('+this['instance'][_0x44f875(0x4fb)]+_0x44f875(0x28d)+(_0x2a2502 instanceof Error?_0x2a2502[_0x44f875(0x793)]:JSON[_0x44f875(0x28a)](_0x2a2502,null,0x2)));}}async['saveChatVariables'](_0x2f44f5,_0x163dae,_0x251a0d){const _0x2c1d96=a0_0x569689;try{let _0x48ade6={'leadInfo.leadnome':_0x163dae['nome'],'leadInfo.nomecompleto':_0x163dae[_0x2c1d96(0x636)],'leadInfo.email':_0x163dae[_0x2c1d96(0x1d0)],'leadInfo.cpf':_0x163dae[_0x2c1d96(0x252)],'leadInfo.status':_0x163dae[_0x2c1d96(0x5d4)],'leadInfo.notas':_0x163dae['notas'],'leadInfo.responsavelid':_0x163dae[_0x2c1d96(0x4dc)],'leadInfo.tags':_0x163dae[_0x2c1d96(0x760)],'leadInfo.customFields':_0x251a0d};if('desativadoFluxoAte'in _0x163dae){let _0x542e09=_0x163dae[_0x2c1d96(0x323)];_0x48ade6[_0x2c1d96(0x5b0)]=_0x542e09?Number(_0x542e09):null;}let _0x4b9333=await this[_0x2c1d96(0x73b)]['chat']['updateOne']({'where':{'_id':_0x2f44f5}},_0x48ade6,this[_0x2c1d96(0x56d)][_0x2c1d96(0x4fb)]);_0x4b9333?(this[_0x2c1d96(0x5f9)]['verbose'](this[_0x2c1d96(0x439)]+'\x20('+this[_0x2c1d96(0x56d)][_0x2c1d96(0x4fb)]+_0x2c1d96(0x68f)+_0x4b9333['_id']),q(this[_0x2c1d96(0x439)],_0x2c1d96(0x6ee),{'chat':_0x4b9333})):this['logger']['error'](this[_0x2c1d96(0x439)]+'\x20('+this[_0x2c1d96(0x56d)][_0x2c1d96(0x4fb)]+_0x2c1d96(0x447));}catch(_0x3ddef9){this[_0x2c1d96(0x5f9)][_0x2c1d96(0x393)](this[_0x2c1d96(0x439)]+'\x20('+this[_0x2c1d96(0x56d)][_0x2c1d96(0x4fb)]+_0x2c1d96(0x2f7)+(_0x3ddef9 instanceof Error?_0x3ddef9['message']:JSON['stringify'](_0x3ddef9,null,0x2)));}}async[a0_0x569689(0x5fb)](_0x467934,_0x1c91a1){const _0x119528=a0_0x569689;this['logger']['verbose'](this[_0x119528(0x439)]+'\x20('+this['instance'][_0x119528(0x4fb)]+_0x119528(0x474)+_0x1c91a1);try{let _0x159a42=await this[_0x119528(0x73b)][_0x119528(0x674)][_0x119528(0x616)]({'where':{'_id':_0x467934[_0x119528(0x325)]}},{'leadInfo.desativadoFluxoAte':_0x1c91a1},this[_0x119528(0x56d)]['wuid']);this[_0x119528(0x5f9)][_0x119528(0x55d)](this[_0x119528(0x439)]+'\x20('+this[_0x119528(0x56d)][_0x119528(0x4fb)]+_0x119528(0x72c)+_0x467934[_0x119528(0x301)]),this[_0x119528(0x5f9)][_0x119528(0x55d)](this[_0x119528(0x439)]+'\x20('+this['instance'][_0x119528(0x4fb)]+_0x119528(0x474)+JSON[_0x119528(0x28a)](_0x159a42,null,0x2)),_0x159a42&&q(this[_0x119528(0x439)],_0x119528(0x6ee),{'chat':_0x159a42});}catch(_0x3d5e20){this[_0x119528(0x5f9)]['error'](this[_0x119528(0x439)]+'\x20('+this[_0x119528(0x56d)][_0x119528(0x4fb)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x3d5e20 instanceof Error?_0x3d5e20[_0x119528(0x793)]:JSON[_0x119528(0x28a)](_0x3d5e20,null,0x2)));}}async[a0_0x569689(0x4c3)](_0x2c0b99){const _0x47b6c0=a0_0x569689;try{this[_0x47b6c0(0x5f9)][_0x47b6c0(0x55d)](this['instanceName']+'\x20('+this[_0x47b6c0(0x56d)][_0x47b6c0(0x4fb)]+'):\x20Buscando\x20flow...');let _0xed4f56=_0x2c0b99[_0x47b6c0(0x52b)](/\D/g,''),_0x231d86=await this['repository'][_0x47b6c0(0x76c)][_0x47b6c0(0x471)]({'where':{'testingWith':_0xed4f56}},this['instance'][_0x47b6c0(0x4fb)]);return _0x231d86||(this[_0x47b6c0(0x5f9)][_0x47b6c0(0x55d)](this[_0x47b6c0(0x439)]+'\x20('+this[_0x47b6c0(0x56d)][_0x47b6c0(0x4fb)]+_0x47b6c0(0x669)),_0x231d86=await this[_0x47b6c0(0x73b)][_0x47b6c0(0x76c)][_0x47b6c0(0x471)]({'where':{'default':!0x0}},this[_0x47b6c0(0x56d)]['wuid'])),_0x231d86||(this[_0x47b6c0(0x5f9)][_0x47b6c0(0x55d)](this[_0x47b6c0(0x439)]+'\x20('+this[_0x47b6c0(0x56d)]['wuid']+_0x47b6c0(0x4a1)),null);}catch(_0x3caf7e){return this[_0x47b6c0(0x5f9)][_0x47b6c0(0x393)](this[_0x47b6c0(0x439)]+'\x20('+this[_0x47b6c0(0x56d)]['wuid']+_0x47b6c0(0x3c3)+(_0x3caf7e instanceof Error?_0x3caf7e[_0x47b6c0(0x793)]:JSON[_0x47b6c0(0x28a)](_0x3caf7e,null,0x2))),null;}}async[a0_0x569689(0x4db)](_0x4e2a78,_0x17a8dc){const _0x50bb49=a0_0x569689;try{let _0xfdad52=!!_0x17a8dc[_0x50bb49(0x39b)],_0x287549=_0x17a8dc[_0x50bb49(0x333)],_0x16b647=null;if(this[_0x50bb49(0x5f9)]['verbose'](this[_0x50bb49(0x439)]+'\x20('+this[_0x50bb49(0x56d)]['wuid']+'):\x20isVote:\x20'+_0xfdad52+_0x50bb49(0x340)+_0x287549),_0xfdad52){this[_0x50bb49(0x5f9)][_0x50bb49(0x55d)](this[_0x50bb49(0x439)]+'\x20('+this[_0x50bb49(0x56d)][_0x50bb49(0x4fb)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x27e03d={'where':{'remoteJid':_0x4e2a78,'waitingMenu_id':_0x287549}};if(_0x16b647=await this['repository']['flowConversation'][_0x50bb49(0x471)](_0x27e03d,this[_0x50bb49(0x56d)][_0x50bb49(0x4fb)]),!_0x16b647)return this[_0x50bb49(0x5f9)][_0x50bb49(0x55d)](this[_0x50bb49(0x439)]+'\x20('+this[_0x50bb49(0x56d)][_0x50bb49(0x4fb)]+_0x50bb49(0x47a)),null;let _0x135d83=Date['now'](),_0x4f2b05=_0x16b647?.['minutesToClose']||0x0,_0x2fdb0c=_0x135d83-_0x4f2b05*0x3c*0x3e8;if(_0x16b647[_0x50bb49(0x4ab)]<_0x2fdb0c){this[_0x50bb49(0x5f9)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x50bb49(0x4fb)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x3dace3={'number':_0x16b647[_0x50bb49(0x325)],'options':{'delay':0x0},'textMessage':{'text':_0x16b647['waitingMenu_ExpiredMessage']}};await this[_0x50bb49(0x262)](_0x3dace3);let _0x46a1e1={'status':_0x50bb49(0x6f6),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x50bb49(0x73b)][_0x50bb49(0x321)][_0x50bb49(0x616)](_0x16b647[_0x50bb49(0x301)],_0x46a1e1,this[_0x50bb49(0x56d)][_0x50bb49(0x4fb)]),null;}return _0x16b647['lastInteraction']=Date[_0x50bb49(0x70c)](),_0x16b647[_0x50bb49(0x4d7)]['lastReceivedMessage']=_0x17a8dc,_0x16b647;}else{this[_0x50bb49(0x5f9)][_0x50bb49(0x55d)](this[_0x50bb49(0x439)]+'\x20('+this['instance'][_0x50bb49(0x4fb)]+_0x50bb49(0x5d3)+this[_0x50bb49(0x56d)][_0x50bb49(0x4fb)]+_0x50bb49(0x75a)),this[_0x50bb49(0x5f9)][_0x50bb49(0x55d)](this[_0x50bb49(0x439)]+'\x20('+this['instance']['wuid']+_0x50bb49(0x3b1));let _0x282271={'where':{'remoteJid':_0x4e2a78,'status':_0x50bb49(0x749)}};if(_0x16b647=await this[_0x50bb49(0x73b)][_0x50bb49(0x321)][_0x50bb49(0x471)](_0x282271,this[_0x50bb49(0x56d)][_0x50bb49(0x4fb)]),!_0x16b647){let _0x117df8=await this[_0x50bb49(0x4c3)](_0x4e2a78);if(_0x117df8&&(_0x16b647=await this['createNewConversation'](_0x117df8,_0x17a8dc[_0x50bb49(0x2b9)],_0x17a8dc)),!_0x16b647)return null;}let _0x15e457=Date['now'](),_0x5416b7=_0x16b647?.[_0x50bb49(0x32c)]||0x0,_0xe2b660=_0x15e457-_0x5416b7*0x3c*0x3e8;if(this[_0x50bb49(0x5f9)][_0x50bb49(0x55d)](this[_0x50bb49(0x439)]+'\x20('+this['instance'][_0x50bb49(0x4fb)]+_0x50bb49(0x270)+_0x15e457+_0x50bb49(0x486)+_0x5416b7+_0x50bb49(0x1d6)+_0xe2b660),this[_0x50bb49(0x5f9)]['verbose'](this[_0x50bb49(0x439)]+'\x20('+this['instance'][_0x50bb49(0x4fb)]+_0x50bb49(0x1a5)),this[_0x50bb49(0x5f9)][_0x50bb49(0x55d)](this[_0x50bb49(0x439)]+'\x20('+this[_0x50bb49(0x56d)][_0x50bb49(0x4fb)]+_0x50bb49(0x67f)+_0x16b647[_0x50bb49(0x4ab)]),this[_0x50bb49(0x5f9)][_0x50bb49(0x55d)](this[_0x50bb49(0x439)]+'\x20('+this[_0x50bb49(0x56d)]['wuid']+'):\x20expirationTime:\x20'+_0xe2b660),_0x16b647['lastInteraction']<_0xe2b660){this[_0x50bb49(0x5f9)][_0x50bb49(0x55d)](this[_0x50bb49(0x439)]+'\x20('+this['instance'][_0x50bb49(0x4fb)]+_0x50bb49(0x525));let _0x15b37f=await this[_0x50bb49(0x4c3)](_0x4e2a78);if(_0x15b37f===null)return null;_0x16b647&&await this[_0x50bb49(0x73b)][_0x50bb49(0x321)][_0x50bb49(0x616)](_0x16b647[_0x50bb49(0x301)],{'status':_0x50bb49(0x6f6)},this[_0x50bb49(0x56d)]['wuid']),_0x16b647=await this[_0x50bb49(0x35a)](_0x15b37f,_0x17a8dc['key'],_0x17a8dc);}return _0x16b647[_0x50bb49(0x4ab)]=_0x15e457,_0x16b647[_0x50bb49(0x4d7)][_0x50bb49(0x783)]=_0x17a8dc,_0x16b647;}}catch(_0x472dd2){return this[_0x50bb49(0x5f9)]['error'](this[_0x50bb49(0x439)]+'\x20('+this['instance'][_0x50bb49(0x4fb)]+_0x50bb49(0x5a5)+(_0x472dd2 instanceof Error?_0x472dd2['message']:JSON[_0x50bb49(0x28a)](_0x472dd2,null,0x2))),null;}}async['createNewConversation'](_0x3f7831,_0x3156a5,_0x4fc62e){const _0x1dad79=a0_0x569689;this[_0x1dad79(0x5f9)][_0x1dad79(0x55d)](this['instanceName']+'\x20('+this[_0x1dad79(0x56d)][_0x1dad79(0x4fb)]+_0x1dad79(0x77c));try{let _0x335547=require(_0x1dad79(0x1c7))['ObjectId'],_0x5c2468=Date[_0x1dad79(0x70c)](),_0x404463='start',_0x4f4e50=_0x3156a5['fromMe']?null:_0x4fc62e,_0x15ffba=_0x3156a5[_0x1dad79(0x4c4)]?_0x4fc62e:null,_0x171e02=_0x3156a5[_0x1dad79(0x325)];await this[_0x1dad79(0x732)](_0x171e02);let _0x1ad875={..._0x3f7831,'chatLog':null},_0x4a9f61=await this[_0x1dad79(0x22e)](_0x1ad875['variables']),_0x2bd120=await this[_0x1dad79(0x6d4)](_0x171e02),_0xcb5f47={..._0x4a9f61,..._0x2bd120,'_remoteJid':_0x171e02},_0x77e140={'lastReceivedMessage':_0x4f4e50,'lastSendMessage':_0x15ffba,'lastBlockId':_0x404463,'lastCondition':!0x0,'realVariables':_0xcb5f47};_0x1ad875[_0x1dad79(0x4d7)]=_0x77e140,delete _0x1ad875[_0x1dad79(0x301)],_0x1ad875['_id']=new _0x335547(),_0x1ad875[_0x1dad79(0x4ab)]=_0x5c2468,_0x1ad875[_0x1dad79(0x5d4)]='open',_0x1ad875[_0x1dad79(0x325)]=_0x171e02;let _0x29c8fd=await this[_0x1dad79(0x73b)]['flowConversation'][_0x1dad79(0x616)](_0x1ad875['_id'],_0x1ad875,this[_0x1dad79(0x56d)][_0x1dad79(0x4fb)]);return this[_0x1dad79(0x5f9)][_0x1dad79(0x55d)](this[_0x1dad79(0x439)]+'\x20('+this[_0x1dad79(0x56d)][_0x1dad79(0x4fb)]+_0x1dad79(0x784)),_0x29c8fd?_0x1ad875:null;}catch(_0x3b09d9){return this[_0x1dad79(0x5f9)]['error'](this[_0x1dad79(0x439)]+'\x20('+this[_0x1dad79(0x56d)][_0x1dad79(0x4fb)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x3b09d9 instanceof Error?_0x3b09d9[_0x1dad79(0x793)]:JSON[_0x1dad79(0x28a)](_0x3b09d9,null,0x2))),_0x3b09d9;}}async[a0_0x569689(0x7ad)](_0x8baf29,_0x46b2e0){const _0x27377b=a0_0x569689;let _0x552fa1=_0x8baf29[_0x27377b(0x325)];_0x46b2e0[_0x27377b(0x278)][_0x27377b(0x325)]&&_0x46b2e0[_0x27377b(0x278)]['remoteJid'][_0x27377b(0x1cb)]()!==''&&(_0x552fa1=_0x46b2e0[_0x27377b(0x278)]['remoteJid'][_0x27377b(0x1cb)]()),this[_0x27377b(0x5f9)]['verbose'](this['instanceName']+'\x20('+this[_0x27377b(0x56d)][_0x27377b(0x4fb)]+_0x27377b(0x578));let _0x16d281={'number':_0x552fa1,'options':{'delay':_0x46b2e0[_0x27377b(0x278)][_0x27377b(0x526)]},'textMessage':{'text':_0x46b2e0[_0x27377b(0x278)][_0x27377b(0x39f)]}};try{let _0x2a90cf=await this[_0x27377b(0x262)](_0x16d281);if(_0x2a90cf){let _0x13451d={'_id':_0x2a90cf['key']['id'],'_fromMe':_0x2a90cf[_0x27377b(0x2b9)]['fromMe'],'_remoteJid':_0x2a90cf[_0x27377b(0x2b9)][_0x27377b(0x325)]};_0x8baf29[_0x27377b(0x4d7)]['lastBlockId']=_0x46b2e0[_0x27377b(0x301)][_0x27377b(0x6be)]();let {message_normalized:_0x5bfd26}=this['normalizeMessage'](_0x2a90cf[_0x27377b(0x793)],_(_0x2a90cf[_0x27377b(0x793)]),null);_0x8baf29['chatLog'][_0x27377b(0x328)]=await _0x5bfd26;let _0x1c8d0c={'messageId':_0x2a90cf[_0x27377b(0x2b9)]['id']},_0x103d79=_0x8baf29[_0x27377b(0x4d7)]['realVariables'];Object[_0x27377b(0x667)](_0x103d79,_0x13451d),_0x8baf29['chatLog'][_0x27377b(0x402)]=_0x103d79,this['updateConversation'](_0x8baf29,_0x46b2e0,_0x1c8d0c);}else{let _0x5172cc={'error':!0x0};this['updateConversation'](_0x8baf29,_0x46b2e0,_0x5172cc),this[_0x27377b(0x5f9)][_0x27377b(0x393)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x27377b(0x4f9));}}catch(_0x4c4d74){let _0x54104d={'error':!0x0,'errorLog':_0x4c4d74[_0x27377b(0x6be)]()};this['updateConversation'](_0x8baf29,_0x46b2e0,_0x54104d),this['logger']['error'](this[_0x27377b(0x439)]+'\x20('+this['instance'][_0x27377b(0x4fb)]+_0x27377b(0x2e3)+(_0x4c4d74 instanceof Error?_0x4c4d74[_0x27377b(0x793)]:JSON[_0x27377b(0x28a)](_0x4c4d74,null,0x2)));}}async['uazapiSendMedia'](_0x3ae699,_0x133adf){const _0x5cf2d2=a0_0x569689;let _0x5bb66d=_0x3ae699[_0x5cf2d2(0x325)];_0x133adf[_0x5cf2d2(0x278)][_0x5cf2d2(0x325)]&&_0x133adf[_0x5cf2d2(0x278)][_0x5cf2d2(0x325)][_0x5cf2d2(0x1cb)]()!==''&&(_0x5bb66d=_0x133adf[_0x5cf2d2(0x278)]['remoteJid'][_0x5cf2d2(0x1cb)]()),this['logger'][_0x5cf2d2(0x55d)](this[_0x5cf2d2(0x439)]+'\x20('+this[_0x5cf2d2(0x56d)][_0x5cf2d2(0x4fb)]+_0x5cf2d2(0x286));let _0xe36d1e={'number':_0x5bb66d,'options':{'delay':_0x133adf[_0x5cf2d2(0x278)]['delay']},'mediaMessage':{'mediatype':_0x133adf['uazapi'][_0x5cf2d2(0x66f)],'caption':_0x133adf[_0x5cf2d2(0x278)][_0x5cf2d2(0x2c8)],'media':_0x133adf[_0x5cf2d2(0x278)]['media'],'fileName':_0x133adf[_0x5cf2d2(0x278)]['fileName']}};try{let _0x27ee02=await this['mediaMessage'](_0xe36d1e);if(_0x27ee02){let _0x53a667={'_id':_0x27ee02[_0x5cf2d2(0x2b9)]['id'],'_fromMe':_0x27ee02[_0x5cf2d2(0x2b9)]['fromMe'],'_remoteJid':_0x27ee02[_0x5cf2d2(0x2b9)][_0x5cf2d2(0x325)]};_0x3ae699['chatLog'][_0x5cf2d2(0x69a)]=_0x133adf['_id'][_0x5cf2d2(0x6be)]();let {message_normalized:_0xf42f33}=this[_0x5cf2d2(0x40f)](_0x27ee02['message'],_(_0x27ee02[_0x5cf2d2(0x793)]),null);_0x3ae699[_0x5cf2d2(0x4d7)][_0x5cf2d2(0x328)]=await _0xf42f33;let _0x1938d7={'messageId':_0x27ee02[_0x5cf2d2(0x2b9)]['id']},_0x314d4f=_0x3ae699[_0x5cf2d2(0x4d7)][_0x5cf2d2(0x402)];Object[_0x5cf2d2(0x667)](_0x314d4f,_0x53a667),_0x3ae699[_0x5cf2d2(0x4d7)][_0x5cf2d2(0x402)]=_0x314d4f,this[_0x5cf2d2(0x500)](_0x3ae699,_0x133adf,_0x1938d7);}else{let _0x571bcf={'error':!0x0};this[_0x5cf2d2(0x500)](_0x3ae699,_0x133adf,_0x571bcf),this['logger'][_0x5cf2d2(0x393)](this[_0x5cf2d2(0x439)]+'\x20('+this['instance'][_0x5cf2d2(0x4fb)]+_0x5cf2d2(0x5c8));}}catch(_0x4fa8da){let _0x24c24c={'error':!0x0,'errorLog':_0x4fa8da[_0x5cf2d2(0x6be)]()};this[_0x5cf2d2(0x500)](_0x3ae699,_0x133adf,_0x24c24c),this[_0x5cf2d2(0x5f9)][_0x5cf2d2(0x393)](this[_0x5cf2d2(0x439)]+'\x20('+this[_0x5cf2d2(0x56d)][_0x5cf2d2(0x4fb)]+_0x5cf2d2(0x6ad)+(_0x4fa8da instanceof Error?_0x4fa8da['message']:JSON['stringify'](_0x4fa8da,null,0x2)));}}async[a0_0x569689(0x73c)](_0x5df9ed,_0x3d1971){const _0xbc1f73=a0_0x569689;let _0x51c0e1=_0x5df9ed['remoteJid'];_0x3d1971[_0xbc1f73(0x278)][_0xbc1f73(0x325)]&&_0x3d1971[_0xbc1f73(0x278)]['remoteJid']['trim']()!==''&&(_0x51c0e1=_0x3d1971[_0xbc1f73(0x278)]['remoteJid']['trim']()),this[_0xbc1f73(0x5f9)][_0xbc1f73(0x55d)](this[_0xbc1f73(0x439)]+'\x20('+this['instance']['wuid']+_0xbc1f73(0x3ef));let _0x3a2a62={'number':_0x51c0e1,'options':{'delay':_0x3d1971['uazapi'][_0xbc1f73(0x526)]},'locationMessage':{'name':_0x3d1971['uazapi'][_0xbc1f73(0x222)],'address':_0x3d1971[_0xbc1f73(0x278)][_0xbc1f73(0x33b)],'latitude':_0x3d1971[_0xbc1f73(0x278)][_0xbc1f73(0x1df)],'longitude':_0x3d1971['uazapi'][_0xbc1f73(0x51d)]}};try{let _0x47ddb3=await this['locationMessage'](_0x3a2a62);if(_0x47ddb3){let _0x2a4239={'_id':_0x47ddb3[_0xbc1f73(0x2b9)]['id'],'_fromMe':_0x47ddb3[_0xbc1f73(0x2b9)][_0xbc1f73(0x4c4)],'_remoteJid':_0x47ddb3[_0xbc1f73(0x2b9)]['remoteJid']};_0x5df9ed[_0xbc1f73(0x4d7)][_0xbc1f73(0x69a)]=_0x3d1971['_id'][_0xbc1f73(0x6be)]();let {message_normalized:_0x516a33}=this[_0xbc1f73(0x40f)](_0x47ddb3['message'],_(_0x47ddb3['message']),null);_0x5df9ed[_0xbc1f73(0x4d7)]['lastSendMessage']=await _0x516a33;let _0x50ded0={'messageId':_0x47ddb3['key']['id']},_0x3e062a=_0x5df9ed[_0xbc1f73(0x4d7)][_0xbc1f73(0x402)];Object[_0xbc1f73(0x667)](_0x3e062a,_0x2a4239),_0x5df9ed[_0xbc1f73(0x4d7)][_0xbc1f73(0x402)]=_0x3e062a,this[_0xbc1f73(0x500)](_0x5df9ed,_0x3d1971,_0x50ded0);}else{let _0x16cf3a={'error':!0x0};this['updateConversation'](_0x5df9ed,_0x3d1971,_0x16cf3a),this['logger'][_0xbc1f73(0x393)](this[_0xbc1f73(0x439)]+'\x20('+this[_0xbc1f73(0x56d)][_0xbc1f73(0x4fb)]+_0xbc1f73(0x6ec));}}catch(_0x3578ef){let _0x58ac7f={'error':!0x0,'errorLog':_0x3578ef['toString']()};this['updateConversation'](_0x5df9ed,_0x3d1971,_0x58ac7f),this[_0xbc1f73(0x5f9)]['error'](this['instanceName']+'\x20('+this['instance'][_0xbc1f73(0x4fb)]+_0xbc1f73(0x700)+(_0x3578ef instanceof Error?_0x3578ef[_0xbc1f73(0x793)]:JSON[_0xbc1f73(0x28a)](_0x3578ef,null,0x2)));}}async[a0_0x569689(0x51f)](_0x1a0d4c,_0x5426d1){const _0x1b6b9a=a0_0x569689;let _0xf96ccc=_0x1a0d4c[_0x1b6b9a(0x325)];_0x5426d1[_0x1b6b9a(0x278)][_0x1b6b9a(0x325)]&&_0x5426d1['uazapi']['remoteJid'][_0x1b6b9a(0x1cb)]()!==''&&(_0xf96ccc=_0x5426d1[_0x1b6b9a(0x278)]['remoteJid']['trim']()),this['logger'][_0x1b6b9a(0x55d)](this['instanceName']+'\x20('+this[_0x1b6b9a(0x56d)][_0x1b6b9a(0x4fb)]+'):\x20Enviando\x20áudio');let _0x3ac721={'number':_0xf96ccc,'options':{'delay':_0x5426d1[_0x1b6b9a(0x278)]['delay']},'audioMessage':{'audio':_0x5426d1[_0x1b6b9a(0x278)][_0x1b6b9a(0x53a)]}};try{let _0x404f68=await this[_0x1b6b9a(0x2de)](_0x3ac721);if(_0x404f68){let _0x1a0812={'_id':_0x404f68[_0x1b6b9a(0x2b9)]['id'],'_fromMe':_0x404f68[_0x1b6b9a(0x2b9)]['fromMe'],'_remoteJid':_0x404f68[_0x1b6b9a(0x2b9)][_0x1b6b9a(0x325)]};_0x1a0d4c[_0x1b6b9a(0x4d7)][_0x1b6b9a(0x69a)]=_0x5426d1['_id']['toString']();let {message_normalized:_0x406390}=this[_0x1b6b9a(0x40f)](_0x404f68[_0x1b6b9a(0x793)],_(_0x404f68[_0x1b6b9a(0x793)]),null);_0x1a0d4c[_0x1b6b9a(0x4d7)][_0x1b6b9a(0x328)]=await _0x406390;let _0x205782={'messageId':_0x404f68[_0x1b6b9a(0x2b9)]['id']},_0x35b73a=_0x1a0d4c[_0x1b6b9a(0x4d7)][_0x1b6b9a(0x402)];Object['assign'](_0x35b73a,_0x1a0812),_0x1a0d4c['chatLog'][_0x1b6b9a(0x402)]=_0x35b73a,this[_0x1b6b9a(0x500)](_0x1a0d4c,_0x5426d1,_0x205782);}else{let _0x2892ee={'error':!0x0};this[_0x1b6b9a(0x500)](_0x1a0d4c,_0x5426d1,_0x2892ee),this[_0x1b6b9a(0x5f9)][_0x1b6b9a(0x393)](this['instanceName']+'\x20('+this[_0x1b6b9a(0x56d)][_0x1b6b9a(0x4fb)]+_0x1b6b9a(0x259));}}catch(_0xd0a229){let _0x1f0167={'error':!0x0,'errorLog':_0xd0a229[_0x1b6b9a(0x6be)]()};this['updateConversation'](_0x1a0d4c,_0x5426d1,_0x1f0167),this[_0x1b6b9a(0x5f9)][_0x1b6b9a(0x393)](this[_0x1b6b9a(0x439)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0xd0a229 instanceof Error?_0xd0a229[_0x1b6b9a(0x793)]:JSON[_0x1b6b9a(0x28a)](_0xd0a229,null,0x2)));}}async[a0_0x569689(0x271)](_0x9a377f,_0x1c2b78){const _0xafd36d=a0_0x569689;let _0x128984=_0x9a377f[_0xafd36d(0x325)];_0x1c2b78[_0xafd36d(0x278)]['remoteJid']&&_0x1c2b78[_0xafd36d(0x278)][_0xafd36d(0x325)]['trim']()!==''&&(_0x128984=_0x1c2b78[_0xafd36d(0x278)][_0xafd36d(0x325)][_0xafd36d(0x1cb)]()),this[_0xafd36d(0x5f9)][_0xafd36d(0x55d)](this['instanceName']+'\x20('+this['instance'][_0xafd36d(0x4fb)]+_0xafd36d(0x28e));let _0x247758={'number':_0x128984,'options':{'delay':_0x1c2b78[_0xafd36d(0x278)]['delay']},'contactMessage':[{'fullName':_0x1c2b78['uazapi'][_0xafd36d(0x56a)],'phoneNumber':_0x1c2b78[_0xafd36d(0x278)][_0xafd36d(0x1da)]}]};try{let _0x265a5b=await this[_0xafd36d(0x30f)](_0x247758);if(_0x265a5b){let _0x4b2f53={'_id':_0x265a5b[_0xafd36d(0x2b9)]['id'],'_fromMe':_0x265a5b[_0xafd36d(0x2b9)][_0xafd36d(0x4c4)],'_remoteJid':_0x265a5b[_0xafd36d(0x2b9)][_0xafd36d(0x325)]};_0x9a377f[_0xafd36d(0x4d7)]['lastBlockId']=_0x1c2b78[_0xafd36d(0x301)][_0xafd36d(0x6be)]();let {message_normalized:_0x536df0}=this[_0xafd36d(0x40f)](_0x265a5b[_0xafd36d(0x793)],_(_0x265a5b[_0xafd36d(0x793)]),null);_0x9a377f[_0xafd36d(0x4d7)][_0xafd36d(0x328)]=await _0x536df0;let _0x4d15e4={'messageId':_0x265a5b['key']['id']},_0x1e7e78=_0x9a377f[_0xafd36d(0x4d7)][_0xafd36d(0x402)];Object[_0xafd36d(0x667)](_0x1e7e78,_0x4b2f53),_0x9a377f[_0xafd36d(0x4d7)][_0xafd36d(0x402)]=_0x1e7e78,this[_0xafd36d(0x500)](_0x9a377f,_0x1c2b78,_0x4d15e4);}else{let _0x139155={'error':!0x0};this['updateConversation'](_0x9a377f,_0x1c2b78,_0x139155),this[_0xafd36d(0x5f9)][_0xafd36d(0x393)](this[_0xafd36d(0x439)]+'\x20('+this[_0xafd36d(0x56d)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x1a50e8){let _0x4b5a94={'error':!0x0,'errorLog':_0x1a50e8[_0xafd36d(0x6be)]()};this['updateConversation'](_0x9a377f,_0x1c2b78,_0x4b5a94),this[_0xafd36d(0x5f9)][_0xafd36d(0x393)](this[_0xafd36d(0x439)]+'\x20('+this[_0xafd36d(0x56d)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x1a50e8 instanceof Error?_0x1a50e8[_0xafd36d(0x793)]:JSON[_0xafd36d(0x28a)](_0x1a50e8,null,0x2)));}}[a0_0x569689(0x4a9)](_0x19fa01,_0x17fcb7){const _0x30f7d8=a0_0x569689;for(let _0x44b88b of _0x19fa01)_0x44b88b[_0x30f7d8(0x36b)]&&(_0x44b88b[_0x30f7d8(0x36b)]=this[_0x30f7d8(0x6ac)](_0x44b88b[_0x30f7d8(0x36b)],_0x17fcb7)),_0x44b88b['optionDescription']&&(_0x44b88b['optionDescription']=this[_0x30f7d8(0x6ac)](_0x44b88b[_0x30f7d8(0x2f9)],_0x17fcb7));}async[a0_0x569689(0x3b2)](_0x4d2502,_0x12e163){const _0x373bc5=a0_0x569689;let _0x262a35=_0x4d2502[_0x373bc5(0x325)];_0x12e163['uazapi'][_0x373bc5(0x325)]&&_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x325)][_0x373bc5(0x1cb)]()!==''&&(_0x262a35=_0x12e163['uazapi'][_0x373bc5(0x325)][_0x373bc5(0x1cb)]()),this['logger'][_0x373bc5(0x55d)](this[_0x373bc5(0x439)]+'\x20('+this[_0x373bc5(0x56d)]['wuid']+_0x373bc5(0x307));let _0x4baf9e=_0x4d2502[_0x373bc5(0x1dc)]['filter'](_0x5981d6=>_0x5981d6[_0x373bc5(0x269)]===_0x12e163[_0x373bc5(0x301)])[_0x373bc5(0x40c)]((_0x15b519,_0x12de94)=>_0x15b519[_0x373bc5(0x739)]-_0x12de94['order']);this[_0x373bc5(0x4a9)](_0x4baf9e,_0x4d2502[_0x373bc5(0x4d7)][_0x373bc5(0x402)]);let _0x1baced=_0x4baf9e[_0x373bc5(0x46c)](_0x16a007=>_0x16a007[_0x373bc5(0x36b)]),_0x45422d={'number':_0x262a35,'menuMessage':{'type':_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x1d2)]||_0x373bc5(0x3a0),'text':_0x12e163['uazapi']['text']||_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x222)],'footerText':_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x1c9)],'buttonText':_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x5c9)],'selectableCount':0x1,'choices':_0x1baced},'options':{'delay':_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x526)]}};try{let _0x585c11=await this[_0x373bc5(0x650)](_0x45422d);if(_0x585c11){let _0x3c3ff4={'_id':_0x585c11['key']['id'],'_fromMe':_0x585c11[_0x373bc5(0x2b9)][_0x373bc5(0x4c4)],'_remoteJid':_0x585c11[_0x373bc5(0x2b9)][_0x373bc5(0x325)]};_0x12e163['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x4d2502['status']=_0x373bc5(0x71e),this['logger'][_0x373bc5(0x55d)](this[_0x373bc5(0x439)]+'\x20('+this[_0x373bc5(0x56d)][_0x373bc5(0x4fb)]+_0x373bc5(0x19e)+_0x4d2502[_0x373bc5(0x5d4)])),this[_0x373bc5(0x5f9)][_0x373bc5(0x55d)](this[_0x373bc5(0x439)]+'\x20('+this[_0x373bc5(0x56d)][_0x373bc5(0x4fb)]+'):\x20nextBlock.uazapi.name'+(_0x12e163['uazapi'][_0x373bc5(0x222)]||_0x12e163[_0x373bc5(0x278)]['text'])),_0x4d2502['waitingMenu_id']=_0x585c11[_0x373bc5(0x2b9)]['id'],_0x4d2502[_0x373bc5(0x583)]=_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x222)]||_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x39f)],_0x4d2502[_0x373bc5(0x3d8)]=_0x4baf9e,_0x12e163[_0x373bc5(0x278)][_0x373bc5(0x443)]&&(_0x4d2502['waitingMenu_ExpiredMessage']=_0x12e163['uazapi'][_0x373bc5(0x443)]),this[_0x373bc5(0x5f9)][_0x373bc5(0x55d)](this[_0x373bc5(0x439)]+'\x20('+this[_0x373bc5(0x56d)][_0x373bc5(0x4fb)]+_0x373bc5(0x294)+_0x4d2502[_0x373bc5(0x583)]),_0x4d2502[_0x373bc5(0x4d7)][_0x373bc5(0x69a)]=_0x12e163['_id'][_0x373bc5(0x6be)]();let {message_normalized:_0xc1963a}=this[_0x373bc5(0x40f)](_0x585c11[_0x373bc5(0x793)],_(_0x585c11[_0x373bc5(0x793)]),null);_0x4d2502[_0x373bc5(0x4d7)]['lastSendMessage']=await _0xc1963a;let _0x30af05={'messageId':_0x585c11[_0x373bc5(0x2b9)]['id']},_0x5b779f=_0x4d2502[_0x373bc5(0x4d7)]['realVariables'];Object[_0x373bc5(0x667)](_0x5b779f,_0x3c3ff4),_0x4d2502['chatLog'][_0x373bc5(0x402)]=_0x5b779f,this[_0x373bc5(0x500)](_0x4d2502,_0x12e163,_0x30af05);}else{let _0x5c502f={'error':!0x0};this[_0x373bc5(0x500)](_0x4d2502,_0x12e163,_0x5c502f),this[_0x373bc5(0x5f9)][_0x373bc5(0x393)](this[_0x373bc5(0x439)]+'\x20('+this[_0x373bc5(0x56d)][_0x373bc5(0x4fb)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x5a540d){let _0x229894={'error':!0x0,'errorLog':_0x5a540d instanceof Error?_0x5a540d[_0x373bc5(0x793)]:JSON[_0x373bc5(0x28a)](_0x5a540d,null,0x2)};this['updateConversation'](_0x4d2502,_0x12e163,_0x229894),this[_0x373bc5(0x5f9)][_0x373bc5(0x393)](this[_0x373bc5(0x439)]+'\x20('+this[_0x373bc5(0x56d)][_0x373bc5(0x4fb)]+_0x373bc5(0x2ae)+(_0x5a540d instanceof Error?_0x5a540d[_0x373bc5(0x793)]:JSON[_0x373bc5(0x28a)](_0x5a540d,null,0x2)));}}async[a0_0x569689(0x45f)](_0x33a03a,_0x18f419){const _0x5cb3b5=a0_0x569689;this['logger'][_0x5cb3b5(0x55d)](this[_0x5cb3b5(0x439)]+'\x20('+this[_0x5cb3b5(0x56d)]['wuid']+_0x5cb3b5(0x799));let _0x2e5eb5=_0x33a03a['chatLog'][_0x5cb3b5(0x382)][_0x5cb3b5(0x3e0)](_0x2b1d08=>_0x2b1d08[_0x5cb3b5(0x269)][_0x5cb3b5(0x6be)]()===_0x18f419['uazapi'][_0x5cb3b5(0x269)][_0x5cb3b5(0x6be)]()),_0x388bf2={'id':_0x2e5eb5[_0x5cb3b5(0x3aa)],'remoteJid':_0x2e5eb5[_0x5cb3b5(0x325)],'fromMe':_0x2e5eb5[_0x5cb3b5(0x4c4)]};try{let _0xb7e8e2=await this[_0x5cb3b5(0x791)](_0x388bf2);if(_0xb7e8e2){_0x33a03a['chatLog'][_0x5cb3b5(0x69a)]=_0x18f419['_id'][_0x5cb3b5(0x6be)]();let {message_normalized:_0x5033f0}=this[_0x5cb3b5(0x40f)](_0xb7e8e2[_0x5cb3b5(0x793)],_(_0xb7e8e2['message']),null);_0x33a03a[_0x5cb3b5(0x4d7)][_0x5cb3b5(0x328)]=await _0x5033f0;let _0x14980d={};this[_0x5cb3b5(0x500)](_0x33a03a,_0x18f419,_0x14980d);}else{let _0xdd07f1={'error':!0x0};this[_0x5cb3b5(0x500)](_0x33a03a,_0x18f419,_0xdd07f1),this[_0x5cb3b5(0x5f9)]['error'](this[_0x5cb3b5(0x439)]+'\x20('+this[_0x5cb3b5(0x56d)]['wuid']+_0x5cb3b5(0x344));}}catch(_0x47026a){let _0x25fbd2={'error':!0x0,'errorLog':_0x47026a instanceof Error?_0x47026a[_0x5cb3b5(0x793)]:JSON['stringify'](_0x47026a,null,0x2)};this[_0x5cb3b5(0x500)](_0x33a03a,_0x18f419,_0x25fbd2),this[_0x5cb3b5(0x5f9)][_0x5cb3b5(0x393)](this['instanceName']+'\x20('+this[_0x5cb3b5(0x56d)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x47026a instanceof Error?_0x47026a[_0x5cb3b5(0x793)]:JSON[_0x5cb3b5(0x28a)](_0x47026a,null,0x2)));}}async[a0_0x569689(0x782)](_0x2df689){const _0x35a906=a0_0x569689;try{if(this[_0x35a906(0x5f9)][_0x35a906(0x55d)](this[_0x35a906(0x439)]+'\x20('+this[_0x35a906(0x56d)][_0x35a906(0x4fb)]+_0x35a906(0x74f)),await this[_0x35a906(0x73b)]['flow']['findOne']({'where':{'name':_0x2df689[_0x35a906(0x222)]}},this[_0x35a906(0x56d)]['wuid']))return{'message':_0x35a906(0x1c2)};_0x2df689[_0x35a906(0x29a)]===!0x0&&await this[_0x35a906(0x73b)][_0x35a906(0x76c)][_0x35a906(0x38a)]({},{'default':!0x1},this[_0x35a906(0x56d)]['wuid']);let _0x55cfcc=new ne['Types'][(_0x35a906(0x62d))](),_0x2c4943={'_id':_0x55cfcc,'default':!0x0,'title':_0x35a906(0x1b6),'x':0x0,'y':0x0},_0x2c7ab2={'_id':new ne['Types'][(_0x35a906(0x62d))](),'order':0x1,'groupId':_0x55cfcc[_0x35a906(0x6be)](),'type':_0x35a906(0x41b)},_0x491093={'_id':new ne[(_0x35a906(0x729))][(_0x35a906(0x62d))](),'owner':this['instance'][_0x35a906(0x4fb)],'name':_0x2df689[_0x35a906(0x222)],'groups':[_0x2c4943],'blocks':[_0x2c7ab2],..._0x2df689};return _0x491093=await this[_0x35a906(0x73b)]['flow'][_0x35a906(0x692)](_0x491093,this['instance']['wuid']),_0x491093;}catch(_0x2bb60f){throw this[_0x35a906(0x5f9)]['error'](this[_0x35a906(0x439)]+'\x20('+this['instance']['wuid']+_0x35a906(0x4e8)+(_0x2bb60f instanceof Error?_0x2bb60f[_0x35a906(0x793)]:JSON['stringify'](_0x2bb60f,null,0x2))),new h(_0x35a906(0x254)+_0x2bb60f);}}async['deleteFlow'](_0x411e45){const _0x5f1064=a0_0x569689;try{return this[_0x5f1064(0x5f9)][_0x5f1064(0x55d)](this[_0x5f1064(0x439)]+'\x20('+this[_0x5f1064(0x56d)]['wuid']+_0x5f1064(0x346)),await this[_0x5f1064(0x73b)][_0x5f1064(0x76c)]['deleteOne']({'where':{'name':_0x411e45}},this[_0x5f1064(0x56d)]['wuid']);}catch(_0x3e61a2){return this[_0x5f1064(0x5f9)]['error'](this[_0x5f1064(0x439)]+'\x20('+this[_0x5f1064(0x56d)][_0x5f1064(0x4fb)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x3e61a2 instanceof Error?_0x3e61a2['message']:JSON[_0x5f1064(0x28a)](_0x3e61a2,null,0x2))),{'message':_0x5f1064(0x608)+_0x3e61a2};}}async['getFlow'](_0x306c58){const _0x2a1846=a0_0x569689;try{this[_0x2a1846(0x5f9)][_0x2a1846(0x55d)](this['instanceName']+'\x20('+this['instance'][_0x2a1846(0x4fb)]+_0x2a1846(0x440));let _0x22eeb0=await this['repository'][_0x2a1846(0x76c)][_0x2a1846(0x471)]({'where':{'name':_0x306c58}},this['instance'][_0x2a1846(0x4fb)]);if(!_0x22eeb0)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x2a1846(0x755)]&&(await this[_0x2a1846(0x29d)](),!this['AutomateSystem']))return null;let _0x349f1a=this[_0x2a1846(0x755)]?.['customFields'][_0x2a1846(0x46c)](_0x4de6be=>_0x4de6be[_0x2a1846(0x222)]),_0x128cb4=[_0x2a1846(0x6e4),_0x2a1846(0x636),'email',_0x2a1846(0x252),_0x2a1846(0x5d4),_0x2a1846(0x464),'responsavelid','tags'];_0x22eeb0[_0x2a1846(0x7c4)]=_0x22eeb0[_0x2a1846(0x7c4)][_0x2a1846(0x52f)](_0x128a7e=>!(_0x128a7e['folder']===_0x2a1846(0x449)||_0x128a7e['leadInfo'])),_0x128cb4[_0x2a1846(0x6b4)](_0x367fb7=>{const _0x5779b8=_0x2a1846;_0x22eeb0[_0x5779b8(0x7c4)][_0x5779b8(0x392)]({'folder':'leadInfo','name':_0x367fb7,'value':'','doc':'','leadInfo':!0x0});}),_0x349f1a['forEach'](_0x210cd3=>{const _0x4b7ffb=_0x2a1846;let _0x93337a=_0x22eeb0[_0x4b7ffb(0x7c4)][_0x4b7ffb(0x41a)](_0x583750=>_0x583750['name']===_0x210cd3);_0x93337a===-0x1?_0x22eeb0['variables'][_0x4b7ffb(0x392)]({'folder':_0x4b7ffb(0x449),'name':_0x210cd3,'value':'','doc':'','leadInfo':!0x0}):(_0x22eeb0[_0x4b7ffb(0x7c4)][_0x93337a][_0x4b7ffb(0x414)]=_0x4b7ffb(0x449),_0x22eeb0['variables'][_0x93337a]['leadInfo']=!0x0);}),_0x22eeb0[_0x2a1846(0x4b5)]&&_0x22eeb0['blocks'][_0x2a1846(0x63c)]>0x0&&_0x22eeb0[_0x2a1846(0x4b5)][_0x2a1846(0x6b4)](_0x395770=>{const _0x54c189=_0x2a1846;_0x395770[_0x54c189(0x6c4)]&&_0x395770['next_groupId']&&_0x395770[_0x54c189(0x6c4)]===_0x395770['next_groupId']&&(_0x395770['next_groupId']=null);});let _0x2a9f82=await this[_0x2a1846(0x73b)][_0x2a1846(0x76c)][_0x2a1846(0x616)](_0x22eeb0['_id'],_0x22eeb0,this[_0x2a1846(0x56d)][_0x2a1846(0x4fb)]);if(!_0x2a9f82)throw new Error(_0x2a1846(0x6cb));return _0x2a9f82;}catch(_0x40a235){throw this[_0x2a1846(0x5f9)][_0x2a1846(0x393)](this[_0x2a1846(0x439)]+'\x20('+this[_0x2a1846(0x56d)][_0x2a1846(0x4fb)]+_0x2a1846(0x52d)+(_0x40a235 instanceof Error?_0x40a235[_0x2a1846(0x793)]:JSON['stringify'](_0x40a235,null,0x2))),new h(_0x2a1846(0x403)+_0x40a235);}}async[a0_0x569689(0x423)](){const _0xc53939=a0_0x569689;try{return this['logger'][_0xc53939(0x55d)](this[_0xc53939(0x439)]+'\x20('+this[_0xc53939(0x56d)][_0xc53939(0x4fb)]+_0xc53939(0x4d8)),await this['repository']['flow'][_0xc53939(0x30a)]({'where':{}},this[_0xc53939(0x56d)][_0xc53939(0x4fb)]);}catch(_0x3b75d1){return this[_0xc53939(0x5f9)]['error'](this[_0xc53939(0x439)]+'\x20('+this[_0xc53939(0x56d)]['wuid']+_0xc53939(0x26b)+(_0x3b75d1 instanceof Error?_0x3b75d1[_0xc53939(0x793)]:JSON[_0xc53939(0x28a)](_0x3b75d1,null,0x2))),{'message':_0xc53939(0x478)+_0x3b75d1};}}async[a0_0x569689(0x1e2)](_0x18625c){const _0x5da0b9=a0_0x569689;try{this[_0x5da0b9(0x5f9)][_0x5da0b9(0x55d)](this[_0x5da0b9(0x439)]+'\x20('+this['instance'][_0x5da0b9(0x4fb)]+_0x5da0b9(0x2bf));let _0x124c01=await this[_0x5da0b9(0x73b)]['flow'][_0x5da0b9(0x471)]({'where':{'name':_0x18625c['name']}},this[_0x5da0b9(0x56d)][_0x5da0b9(0x4fb)]);return _0x124c01?(_0x18625c['default']===!0x0&&await this[_0x5da0b9(0x73b)][_0x5da0b9(0x76c)]['updateMany']({},{'default':!0x1},this[_0x5da0b9(0x56d)][_0x5da0b9(0x4fb)]),await this[_0x5da0b9(0x73b)][_0x5da0b9(0x76c)]['updateOne'](_0x124c01[_0x5da0b9(0x301)],_0x18625c,this['instance'][_0x5da0b9(0x4fb)])):{'message':_0x5da0b9(0x38f)};}catch(_0x20bd73){throw this[_0x5da0b9(0x5f9)][_0x5da0b9(0x393)](this[_0x5da0b9(0x439)]+'\x20('+this[_0x5da0b9(0x56d)]['wuid']+_0x5da0b9(0x230)+(_0x20bd73 instanceof Error?_0x20bd73[_0x5da0b9(0x793)]:JSON[_0x5da0b9(0x28a)](_0x20bd73,null,0x2))),new h(_0x5da0b9(0x2ca)+(_0x20bd73 instanceof Error?_0x20bd73[_0x5da0b9(0x793)]:JSON[_0x5da0b9(0x28a)](_0x20bd73,null,0x2)));}}async[a0_0x569689(0x492)](_0x347cea){const _0x2b14bf=a0_0x569689;try{this['logger'][_0x2b14bf(0x55d)](this[_0x2b14bf(0x439)]+'\x20('+this[_0x2b14bf(0x56d)][_0x2b14bf(0x4fb)]+'):\x20Editando\x20bloco...');let _0x4e9494=await this[_0x2b14bf(0x73b)][_0x2b14bf(0x76c)][_0x2b14bf(0x471)]({'where':{'name':_0x347cea[_0x2b14bf(0x222)]}},this[_0x2b14bf(0x56d)][_0x2b14bf(0x4fb)]);_0x4e9494||this[_0x2b14bf(0x368)](_0x2b14bf(0x19c));let {block:_0x1c9dcb}=_0x347cea;_0x1c9dcb?.[_0x2b14bf(0x742)]?this['copyBlock'](_0x4e9494,_0x347cea):_0x1c9dcb?.['delete']?this[_0x2b14bf(0x6e6)](_0x4e9494,_0x347cea):_0x1c9dcb['_id']?await this['updateBlock'](_0x4e9494,_0x347cea):this['addBlock'](_0x4e9494,_0x347cea);let _0x206b26=await this[_0x2b14bf(0x73b)][_0x2b14bf(0x76c)][_0x2b14bf(0x616)](_0x4e9494[_0x2b14bf(0x301)],_0x4e9494,this['instance'][_0x2b14bf(0x4fb)]);if(!_0x206b26)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x206b26;}catch(_0x496fb5){this['throwAndLogError'](_0x2b14bf(0x3b3)+_0x496fb5);}}async[a0_0x569689(0x2b0)](_0xeaa0c2,_0x477156){const _0x1d233f=a0_0x569689;let _0x3dae42=_0x477156[_0x1d233f(0x59d)]['_id'],_0x18794f=_0xeaa0c2['blocks'][_0x1d233f(0x3e0)](_0x232be9=>_0x232be9[_0x1d233f(0x301)][_0x1d233f(0x6be)]()===_0x3dae42);if(!_0x18794f){this['logger'][_0x1d233f(0x393)](this[_0x1d233f(0x439)]+'\x20('+this[_0x1d233f(0x56d)][_0x1d233f(0x4fb)]+_0x1d233f(0x4a0)+_0x3dae42+_0x1d233f(0x326));return;}this[_0x1d233f(0x5f9)][_0x1d233f(0x55d)](this[_0x1d233f(0x439)]+'\x20('+this[_0x1d233f(0x56d)]['wuid']+_0x1d233f(0x794)+JSON['stringify'](_0x18794f));let _0x33a80f=JSON[_0x1d233f(0x202)](JSON[_0x1d233f(0x28a)](_0x18794f));_0x33a80f[_0x1d233f(0x301)]=new ne['default']['Types'][(_0x1d233f(0x62d))](),this[_0x1d233f(0x5f9)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1d233f(0x4fb)]+_0x1d233f(0x552)+JSON[_0x1d233f(0x28a)](_0x33a80f)),_0xeaa0c2[_0x1d233f(0x4b5)][_0x1d233f(0x392)](_0x33a80f),this[_0x1d233f(0x43d)](_0xeaa0c2[_0x1d233f(0x4b5)],_0x33a80f[_0x1d233f(0x6c4)]);}[a0_0x569689(0x368)](_0x203e93){const _0x531c4f=a0_0x569689;throw this['logger'][_0x531c4f(0x393)](this[_0x531c4f(0x439)]+'\x20('+this[_0x531c4f(0x56d)][_0x531c4f(0x4fb)]+_0x531c4f(0x5d3)+_0x203e93),new h(_0x203e93);}[a0_0x569689(0x6e6)](_0x62f586,_0x1bd1d3){const _0x4cceb4=a0_0x569689;let {block:_0x5ee67f}=_0x1bd1d3;if(_0x5ee67f[_0x4cceb4(0x1c6)]===_0x4cceb4(0x41b)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x5ee67f[_0x4cceb4(0x301)]){this[_0x4cceb4(0x368)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x22bdbe=_0x62f586['blocks']['find'](_0x12e674=>_0x12e674['_id']['toString']()===_0x1bd1d3[_0x4cceb4(0x59d)]['_id'][_0x4cceb4(0x6be)]());if(!_0x22bdbe){this[_0x4cceb4(0x368)](_0x4cceb4(0x582)+_0x5ee67f[_0x4cceb4(0x301)]+_0x4cceb4(0x51a));return;}_0x62f586['blocks']=_0x62f586[_0x4cceb4(0x4b5)]['filter'](_0x32b866=>_0x32b866[_0x4cceb4(0x301)][_0x4cceb4(0x6be)]()!==_0x1bd1d3[_0x4cceb4(0x59d)][_0x4cceb4(0x301)]['toString']()),_0x62f586['conditions']=_0x62f586['conditions'][_0x4cceb4(0x52f)](_0x146de8=>_0x146de8[_0x4cceb4(0x269)]!==_0x5ee67f[_0x4cceb4(0x301)][_0x4cceb4(0x6be)]()),_0x62f586[_0x4cceb4(0x659)]=_0x62f586[_0x4cceb4(0x659)]['filter'](_0x5a9455=>_0x5a9455[_0x4cceb4(0x269)]!==_0x5ee67f['_id'][_0x4cceb4(0x6be)]()),_0x62f586['replyOptions']=_0x62f586[_0x4cceb4(0x1dc)][_0x4cceb4(0x52f)](_0x4d1f66=>_0x4d1f66[_0x4cceb4(0x269)]!==_0x5ee67f[_0x4cceb4(0x301)][_0x4cceb4(0x6be)]()),this[_0x4cceb4(0x43d)](_0x62f586[_0x4cceb4(0x4b5)],_0x22bdbe[_0x4cceb4(0x6c4)]);}async['updateBlock'](_0x2fd4ac,_0x2085d9){const _0x1bfade=a0_0x569689;let _0x5d93bf=_0x2fd4ac[_0x1bfade(0x4b5)][_0x1bfade(0x41a)](_0x22d81f=>_0x22d81f[_0x1bfade(0x301)]['toString']()===_0x2085d9[_0x1bfade(0x59d)][_0x1bfade(0x301)][_0x1bfade(0x6be)]());if(this['logger'][_0x1bfade(0x55d)](this[_0x1bfade(0x439)]+'\x20('+this[_0x1bfade(0x56d)][_0x1bfade(0x4fb)]+_0x1bfade(0x245)+_0x5d93bf),_0x5d93bf===-0x1){this[_0x1bfade(0x5f9)][_0x1bfade(0x55d)]('Bloco\x20com\x20ID\x20'+_0x2085d9[_0x1bfade(0x59d)][_0x1bfade(0x301)]+_0x1bfade(0x300));return;}if(_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x1bfade(0x1c6)]===_0x1bfade(0x41b)){let _0x166ba4=Object[_0x1bfade(0x77d)](_0x2085d9[_0x1bfade(0x59d)]);if(_0x166ba4[_0x1bfade(0x63c)]>0x2||_0x166ba4[_0x1bfade(0x63c)]===0x2&&!_0x166ba4[_0x1bfade(0x1f2)](_0x1bfade(0x546))){this[_0x1bfade(0x368)](_0x1bfade(0x722));return;}}let _0x119cae=_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x1bfade(0x6c4)];for(let _0x910155 in _0x2085d9[_0x1bfade(0x59d)])_0x2085d9[_0x1bfade(0x59d)][_0x1bfade(0x281)](_0x910155)&&(_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x910155]=_0x2085d9['block'][_0x910155]);if(this[_0x1bfade(0x5f9)]['verbose'](this[_0x1bfade(0x439)]+'\x20('+this['instance']['wuid']+_0x1bfade(0x563)+JSON['stringify'](_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf])),_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x1bfade(0x5e2)]&&_0x1bfade(0x1d9)in _0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x1bfade(0x5e2)]){this[_0x1bfade(0x5f9)][_0x1bfade(0x55d)](this[_0x1bfade(0x439)]+'\x20('+this[_0x1bfade(0x56d)][_0x1bfade(0x4fb)]+_0x1bfade(0x20e));let _0x2740ce=JSON[_0x1bfade(0x28a)](_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x1bfade(0x5e2)]['header'],null,0x1);_0x2740ce[_0x1bfade(0x63c)]>0x2&&(_0x2740ce=_0x2740ce[_0x1bfade(0x1de)](0x1,_0x2740ce[_0x1bfade(0x63c)]-0x1)['trim']()),_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x1bfade(0x5e2)][_0x1bfade(0x239)]=_0x2740ce;}if(_0x2fd4ac['blocks'][_0x5d93bf][_0x1bfade(0x5e2)]&&_0x1bfade(0x511)in _0x2fd4ac['blocks'][_0x5d93bf][_0x1bfade(0x5e2)]){this[_0x1bfade(0x5f9)]['verbose'](this[_0x1bfade(0x439)]+'\x20('+this['instance'][_0x1bfade(0x4fb)]+_0x1bfade(0x1d3));let _0x62d50b=JSON[_0x1bfade(0x28a)](_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x1bfade(0x5e2)][_0x1bfade(0x511)],null,0x1);_0x62d50b[_0x1bfade(0x63c)]>0x2&&(_0x62d50b=_0x62d50b[_0x1bfade(0x1de)](0x1,_0x62d50b[_0x1bfade(0x63c)]-0x1)['trim']()),_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf]['apirequest']['bodyString']=_0x62d50b;}let _0x166bdf=_0x2fd4ac[_0x1bfade(0x4b5)][_0x5d93bf][_0x1bfade(0x6c4)];_0x119cae!==_0x166bdf?(this[_0x1bfade(0x43d)](_0x2fd4ac['blocks'],_0x119cae),this[_0x1bfade(0x43d)](_0x2fd4ac['blocks'],_0x166bdf)):this['reorderBlocks'](_0x2fd4ac[_0x1bfade(0x4b5)],_0x119cae);}[a0_0x569689(0x5cf)](_0x57c58a,_0x3c98ef){const _0x2bba0e=a0_0x569689;if(_0x3c98ef[_0x2bba0e(0x59d)][_0x2bba0e(0x1c6)]===_0x2bba0e(0x41b)){this[_0x2bba0e(0x368)](_0x2bba0e(0x21f));return;}if(_0x3c98ef[_0x2bba0e(0x59d)][_0x2bba0e(0x5e2)]&&_0x2bba0e(0x1d9)in _0x3c98ef[_0x2bba0e(0x59d)]['apirequest']){this[_0x2bba0e(0x5f9)][_0x2bba0e(0x55d)](this[_0x2bba0e(0x439)]+'\x20('+this[_0x2bba0e(0x56d)][_0x2bba0e(0x4fb)]+_0x2bba0e(0x20e));let _0x32e958=JSON['stringify'](_0x3c98ef[_0x2bba0e(0x59d)][_0x2bba0e(0x5e2)][_0x2bba0e(0x1d9)],null,0x1);_0x32e958[_0x2bba0e(0x63c)]>0x2&&(_0x32e958=_0x32e958[_0x2bba0e(0x1de)](0x1,_0x32e958[_0x2bba0e(0x63c)]-0x1)[_0x2bba0e(0x1cb)]()),_0x3c98ef[_0x2bba0e(0x59d)]['apirequest'][_0x2bba0e(0x239)]=_0x32e958;}_0x3c98ef[_0x2bba0e(0x59d)][_0x2bba0e(0x5e2)]&&_0x2bba0e(0x511)in _0x3c98ef[_0x2bba0e(0x59d)][_0x2bba0e(0x5e2)]&&(this[_0x2bba0e(0x5f9)][_0x2bba0e(0x55d)](this[_0x2bba0e(0x439)]+'\x20('+this[_0x2bba0e(0x56d)][_0x2bba0e(0x4fb)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x3c98ef[_0x2bba0e(0x59d)][_0x2bba0e(0x5e2)][_0x2bba0e(0x610)]=JSON[_0x2bba0e(0x28a)](_0x3c98ef[_0x2bba0e(0x59d)]['apirequest']['body'],null,0x1)[_0x2bba0e(0x1cb)]()),_0x57c58a[_0x2bba0e(0x4b5)][_0x2bba0e(0x392)](_0x3c98ef[_0x2bba0e(0x59d)]),this[_0x2bba0e(0x43d)](_0x57c58a[_0x2bba0e(0x4b5)],_0x3c98ef[_0x2bba0e(0x59d)][_0x2bba0e(0x6c4)]);}[a0_0x569689(0x43d)](_0x3a80c4,_0x4bf4a2){const _0x375141=a0_0x569689;let _0x7f4238=_0x3a80c4[_0x375141(0x52f)](_0x294e99=>_0x294e99['groupId']===_0x4bf4a2);_0x7f4238[_0x375141(0x40c)]((_0x5a16c5,_0x1eacc8)=>_0x5a16c5[_0x375141(0x739)]-_0x1eacc8[_0x375141(0x739)]),_0x7f4238['forEach']((_0x45fc62,_0x159a7c)=>_0x45fc62[_0x375141(0x739)]=_0x159a7c+0x1);}async[a0_0x569689(0x42a)](_0x5b928e){const _0x212a5a=a0_0x569689;try{if(this['logger']['verbose'](this[_0x212a5a(0x439)]+'\x20('+this['instance']['wuid']+_0x212a5a(0x460)),!_0x5b928e||!_0x5b928e['replyOption']){this[_0x212a5a(0x368)](_0x212a5a(0x46e));return;}let _0x5a30a9=await this['repository'][_0x212a5a(0x76c)][_0x212a5a(0x471)]({'where':{'name':_0x5b928e[_0x212a5a(0x222)]}},this[_0x212a5a(0x56d)][_0x212a5a(0x4fb)]);_0x5a30a9||this[_0x212a5a(0x368)](_0x212a5a(0x19c));let {replyOption:_0x177ca3}=_0x5b928e;_0x177ca3?.[_0x212a5a(0x5df)]?(this[_0x212a5a(0x21b)](_0x5a30a9,_0x5b928e),this[_0x212a5a(0x627)](_0x5a30a9[_0x212a5a(0x1dc)],_0x5b928e[_0x212a5a(0x2b4)][_0x212a5a(0x269)])):_0x177ca3['_id']?(await this[_0x212a5a(0x3bd)](_0x5a30a9,_0x5b928e),this[_0x212a5a(0x627)](_0x5a30a9[_0x212a5a(0x1dc)],_0x5b928e['replyOption'][_0x212a5a(0x269)])):(this[_0x212a5a(0x785)](_0x5a30a9,_0x5b928e),this[_0x212a5a(0x627)](_0x5a30a9[_0x212a5a(0x1dc)],_0x5b928e['replyOption'][_0x212a5a(0x269)]));let _0x18c298=await this[_0x212a5a(0x73b)]['flow'][_0x212a5a(0x616)](_0x5a30a9[_0x212a5a(0x301)],_0x5a30a9,this[_0x212a5a(0x56d)][_0x212a5a(0x4fb)]);if(!_0x18c298)throw new Error(_0x212a5a(0x6cb));return _0x18c298;}catch(_0x31b4da){this[_0x212a5a(0x368)](_0x212a5a(0x334)+_0x31b4da);}}['reorderReplyOptions'](_0xf29ee2,_0x4656ea){const _0x3ae8f9=a0_0x569689;console[_0x3ae8f9(0x513)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x4656ea),_0xf29ee2[_0x3ae8f9(0x6b4)](_0x556b26=>{const _0x137e65=_0x3ae8f9;_0x556b26[_0x137e65(0x269)]===_0x4656ea&&_0x556b26[_0x137e65(0x739)]===void 0x0&&(_0x556b26[_0x137e65(0x739)]=0x270f);});let _0x32c045=_0xf29ee2[_0x3ae8f9(0x52f)](_0x43b716=>_0x43b716['blockId']===_0x4656ea);_0x32c045[_0x3ae8f9(0x40c)]((_0x5be060,_0x50082c)=>_0x5be060[_0x3ae8f9(0x739)]-_0x50082c[_0x3ae8f9(0x739)]),_0x32c045[_0x3ae8f9(0x6b4)]((_0x564829,_0x4e1b43)=>{const _0x6dada1=_0x3ae8f9;_0x564829[_0x6dada1(0x739)]=_0x4e1b43+0x1;}),_0xf29ee2[_0x3ae8f9(0x6b4)](_0x49d139=>{const _0x405f83=_0x3ae8f9;if(_0x49d139[_0x405f83(0x269)]===_0x4656ea){let _0x43e71e=_0x32c045[_0x405f83(0x3e0)](_0x387a19=>_0x387a19[_0x405f83(0x301)][_0x405f83(0x6be)]()===_0x49d139['_id']['toString']());_0x43e71e&&(_0x49d139[_0x405f83(0x739)]=_0x43e71e[_0x405f83(0x739)]);}}),console[_0x3ae8f9(0x513)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0xf29ee2);}['deleteReplyOption'](_0x50d043,_0x21f861){const _0x6dc36=a0_0x569689;let {replyOption:_0x264ae5}=_0x21f861;if(!_0x264ae5[_0x6dc36(0x301)]){this[_0x6dc36(0x368)](_0x6dc36(0x6e9));return;}if(!_0x50d043['replyOptions'][_0x6dc36(0x3e0)](_0x325789=>_0x325789['_id']['toString']()===_0x21f861[_0x6dc36(0x2b4)][_0x6dc36(0x301)][_0x6dc36(0x6be)]())){this[_0x6dc36(0x368)](_0x6dc36(0x772)+_0x264ae5[_0x6dc36(0x301)]+_0x6dc36(0x51a));return;}_0x50d043[_0x6dc36(0x1dc)]=_0x50d043[_0x6dc36(0x1dc)][_0x6dc36(0x52f)](_0x866fe9=>_0x866fe9[_0x6dc36(0x301)]['toString']()!==_0x21f861[_0x6dc36(0x2b4)][_0x6dc36(0x301)][_0x6dc36(0x6be)]());}async[a0_0x569689(0x3bd)](_0x11d3e8,_0x23cf67){const _0x47324d=a0_0x569689;let _0x3df416=_0x11d3e8[_0x47324d(0x1dc)]['findIndex'](_0x46bd49=>_0x46bd49[_0x47324d(0x301)][_0x47324d(0x6be)]()===_0x23cf67[_0x47324d(0x2b4)][_0x47324d(0x301)][_0x47324d(0x6be)]());if(_0x3df416===-0x1){this['throwAndLogError'](_0x47324d(0x772)+_0x23cf67[_0x47324d(0x2b4)][_0x47324d(0x301)]+_0x47324d(0x300));return;}for(let _0x33c70c in _0x23cf67[_0x47324d(0x2b4)])_0x23cf67['replyOption'][_0x47324d(0x281)](_0x33c70c)&&(_0x11d3e8[_0x47324d(0x1dc)][_0x3df416][_0x33c70c]=_0x23cf67[_0x47324d(0x2b4)][_0x33c70c]);}[a0_0x569689(0x785)](_0x24bd13,_0x76b44c){const _0x329500=a0_0x569689;_0x24bd13[_0x329500(0x1dc)][_0x329500(0x392)](_0x76b44c[_0x329500(0x2b4)]);}async['editFlowGroup'](_0x43e096){const _0x54b147=a0_0x569689;this[_0x54b147(0x5f9)][_0x54b147(0x55d)](this[_0x54b147(0x439)]+'\x20('+this[_0x54b147(0x56d)][_0x54b147(0x4fb)]+_0x54b147(0x72e)+_0x43e096);try{this[_0x54b147(0x5f9)][_0x54b147(0x55d)](this[_0x54b147(0x439)]+'\x20('+this[_0x54b147(0x56d)][_0x54b147(0x4fb)]+_0x54b147(0x1d8));let _0x5b634a=await this[_0x54b147(0x73b)][_0x54b147(0x76c)][_0x54b147(0x471)]({'where':{'name':_0x43e096['name']}},this[_0x54b147(0x56d)][_0x54b147(0x4fb)]);if(!_0x5b634a)throw new Error(_0x54b147(0x19c));if(_0x43e096[_0x54b147(0x64e)]&&_0x43e096[_0x54b147(0x64e)]?.[_0x54b147(0x5df)]===!0x0){if(this[_0x54b147(0x5f9)]['verbose'](this[_0x54b147(0x439)]+'\x20('+this[_0x54b147(0x56d)][_0x54b147(0x4fb)]+_0x54b147(0x1ea)),_0x43e096['group'][_0x54b147(0x29a)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x5b634a[_0x54b147(0x4b5)][_0x54b147(0x351)](_0x459686=>_0x459686[_0x54b147(0x6c4)][_0x54b147(0x6be)]()===_0x43e096[_0x54b147(0x64e)]['_id']))return this['logger'][_0x54b147(0x55d)](this[_0x54b147(0x439)]+'\x20('+this[_0x54b147(0x56d)]['wuid']+'):\x20tem\x20blocks'),{'message':_0x54b147(0x48e)};_0x5b634a[_0x54b147(0x47e)]=_0x5b634a[_0x54b147(0x47e)][_0x54b147(0x52f)](_0x4f6088=>_0x4f6088['_id']['toString']()!==_0x43e096[_0x54b147(0x64e)][_0x54b147(0x301)]);}else{if(_0x43e096[_0x54b147(0x64e)]){if(_0x43e096[_0x54b147(0x64e)]['default']===!0x0)return{'message':_0x54b147(0x207)};if(_0x43e096[_0x54b147(0x64e)][_0x54b147(0x301)]){let _0x15dc2d=_0x5b634a[_0x54b147(0x47e)][_0x54b147(0x3e0)](_0x26779d=>_0x26779d[_0x54b147(0x301)][_0x54b147(0x6be)]()===_0x43e096['group']['_id']);_0x15dc2d&&(_0x43e096[_0x54b147(0x64e)]['x']<0x0&&(_0x43e096[_0x54b147(0x64e)]['x']=0x0),_0x43e096[_0x54b147(0x64e)]['y']<0x0&&(_0x43e096[_0x54b147(0x64e)]['y']=0x0),Object[_0x54b147(0x667)](_0x15dc2d,_0x43e096['group']));}else _0x5b634a[_0x54b147(0x47e)][_0x54b147(0x392)](_0x43e096[_0x54b147(0x64e)]);}}let _0x4ff8cb=await this['repository'][_0x54b147(0x76c)][_0x54b147(0x616)](_0x5b634a[_0x54b147(0x301)],_0x5b634a,this[_0x54b147(0x56d)][_0x54b147(0x4fb)]);if(!_0x4ff8cb)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4ff8cb;}catch(_0x526813){throw this[_0x54b147(0x5f9)][_0x54b147(0x393)](this[_0x54b147(0x439)]+'\x20('+this[_0x54b147(0x56d)]['wuid']+_0x54b147(0x67e)+(_0x526813 instanceof Error?_0x526813[_0x54b147(0x793)]:JSON[_0x54b147(0x28a)](_0x526813,null,0x2))),new h(_0x54b147(0x19a)+(_0x526813 instanceof Error?_0x526813[_0x54b147(0x793)]:JSON[_0x54b147(0x28a)](_0x526813,null,0x2)));}}async[a0_0x569689(0x690)](_0x2b18f7){const _0x58a96b=a0_0x569689;try{this[_0x58a96b(0x5f9)]['verbose'](this[_0x58a96b(0x439)]+'\x20('+this[_0x58a96b(0x56d)]['wuid']+_0x58a96b(0x2cc));let _0x3542d9=await this['repository'][_0x58a96b(0x76c)][_0x58a96b(0x471)]({'where':{'name':_0x2b18f7[_0x58a96b(0x222)]}},this['instance']['wuid']);if(!_0x3542d9)throw new Error(_0x58a96b(0x19c));let _0x13dab2=!0x1;if(_0x2b18f7['condition']?.[_0x58a96b(0x5df)]===!0x0)_0x3542d9[_0x58a96b(0x635)]=_0x3542d9[_0x58a96b(0x635)][_0x58a96b(0x52f)](_0x2f2b99=>_0x2f2b99&&_0x2b18f7[_0x58a96b(0x49c)]&&_0x2f2b99[_0x58a96b(0x301)]&&_0x2b18f7[_0x58a96b(0x49c)]['_id']&&_0x2f2b99[_0x58a96b(0x301)][_0x58a96b(0x6be)]()!==_0x2b18f7['condition'][_0x58a96b(0x301)][_0x58a96b(0x6be)]()),_0x13dab2=!0x0;else{let _0xc9a32e=_0x3542d9[_0x58a96b(0x635)][_0x58a96b(0x3e0)](_0x16d49b=>_0x16d49b&&_0x2b18f7[_0x58a96b(0x49c)]&&_0x16d49b[_0x58a96b(0x301)]&&_0x2b18f7[_0x58a96b(0x49c)][_0x58a96b(0x301)]&&_0x16d49b[_0x58a96b(0x301)][_0x58a96b(0x6be)]()===_0x2b18f7['condition'][_0x58a96b(0x301)][_0x58a96b(0x6be)]());_0xc9a32e?(_0x13dab2=_0xc9a32e[_0x58a96b(0x739)]!==_0x2b18f7['condition'][_0x58a96b(0x739)],Object[_0x58a96b(0x667)](_0xc9a32e,_0x2b18f7['condition'])):(_0x3542d9[_0x58a96b(0x635)][_0x58a96b(0x392)](_0x2b18f7['condition']),_0x13dab2=!0x0);}if(_0x13dab2){_0x3542d9[_0x58a96b(0x635)]['sort']((_0x36f279,_0x58cfcf)=>_0x36f279[_0x58a96b(0x739)]>_0x58cfcf[_0x58a96b(0x739)]?0x1:_0x58cfcf['order']>_0x36f279['order']?-0x1:0x0);for(let _0x20eaed=0x0;_0x20eaed<_0x3542d9['conditions'][_0x58a96b(0x63c)];_0x20eaed++)_0x3542d9[_0x58a96b(0x635)][_0x20eaed][_0x58a96b(0x739)]=_0x20eaed+0x1;_0x3542d9['conditions']['length']>0x0&&(_0x3542d9[_0x58a96b(0x635)][0x0][_0x58a96b(0x21c)]='and');}let _0x473ac9=await this[_0x58a96b(0x73b)][_0x58a96b(0x76c)][_0x58a96b(0x616)](_0x3542d9[_0x58a96b(0x301)],_0x3542d9,this['instance'][_0x58a96b(0x4fb)]);if(!_0x473ac9)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x473ac9;}catch(_0x42a834){throw this['logger'][_0x58a96b(0x393)](this[_0x58a96b(0x439)]+'\x20('+this[_0x58a96b(0x56d)][_0x58a96b(0x4fb)]+_0x58a96b(0x5f7)+(_0x42a834 instanceof Error?_0x42a834[_0x58a96b(0x793)]:JSON['stringify'](_0x42a834,null,0x2))),new Error(_0x58a96b(0x1f4)+(_0x42a834 instanceof Error?_0x42a834[_0x58a96b(0x793)]:JSON['stringify'](_0x42a834,null,0x2)));}}async[a0_0x569689(0x5e7)](_0x1cce51){const _0x4af0b=a0_0x569689;try{this[_0x4af0b(0x5f9)]['verbose'](this[_0x4af0b(0x439)]+'\x20('+this[_0x4af0b(0x56d)][_0x4af0b(0x4fb)]+_0x4af0b(0x497));let _0x320315=await this['repository'][_0x4af0b(0x76c)][_0x4af0b(0x471)]({'where':{'name':_0x1cce51['name']}},this[_0x4af0b(0x56d)]['wuid']);if(!_0x320315)throw new Error(_0x4af0b(0x19c));let _0x4db015=!0x1;if(_0x1cce51[_0x4af0b(0x40a)]?.[_0x4af0b(0x5df)]===!0x0)_0x320315[_0x4af0b(0x659)]=_0x320315['varedits'][_0x4af0b(0x52f)](_0x155526=>_0x155526&&_0x1cce51[_0x4af0b(0x40a)]&&_0x155526[_0x4af0b(0x301)]&&_0x1cce51[_0x4af0b(0x40a)][_0x4af0b(0x301)]&&_0x155526[_0x4af0b(0x301)][_0x4af0b(0x6be)]()!==_0x1cce51['varedit'][_0x4af0b(0x301)][_0x4af0b(0x6be)]()),_0x4db015=!0x0;else{let _0x4d3c73=_0x320315[_0x4af0b(0x659)][_0x4af0b(0x3e0)](_0x1918a6=>_0x1918a6&&_0x1cce51[_0x4af0b(0x40a)]&&_0x1918a6[_0x4af0b(0x301)]&&_0x1cce51[_0x4af0b(0x40a)][_0x4af0b(0x301)]&&_0x1918a6[_0x4af0b(0x301)][_0x4af0b(0x6be)]()===_0x1cce51['varedit'][_0x4af0b(0x301)][_0x4af0b(0x6be)]());_0x4d3c73?(_0x4db015=_0x4d3c73['order']!==_0x1cce51[_0x4af0b(0x40a)][_0x4af0b(0x739)],Object[_0x4af0b(0x667)](_0x4d3c73,_0x1cce51[_0x4af0b(0x40a)])):(_0x320315['varedits'][_0x4af0b(0x392)](_0x1cce51[_0x4af0b(0x40a)]),_0x4db015=!0x0);}if(_0x4db015){_0x320315[_0x4af0b(0x659)][_0x4af0b(0x40c)]((_0x2e8e55,_0x16a00b)=>_0x2e8e55[_0x4af0b(0x739)]>_0x16a00b[_0x4af0b(0x739)]?0x1:_0x16a00b[_0x4af0b(0x739)]>_0x2e8e55['order']?-0x1:0x0);for(let _0x4bc041=0x0;_0x4bc041<_0x320315['varedits'][_0x4af0b(0x63c)];_0x4bc041++)_0x320315[_0x4af0b(0x659)][_0x4bc041][_0x4af0b(0x739)]=_0x4bc041+0x1;}let _0x20dcfa=await this[_0x4af0b(0x73b)][_0x4af0b(0x76c)][_0x4af0b(0x616)](_0x320315['_id'],_0x320315,this[_0x4af0b(0x56d)][_0x4af0b(0x4fb)]);if(!_0x20dcfa)throw new Error(_0x4af0b(0x6cb));return _0x20dcfa;}catch(_0x5f25d8){throw this[_0x4af0b(0x5f9)][_0x4af0b(0x393)](this['instanceName']+'\x20('+this[_0x4af0b(0x56d)][_0x4af0b(0x4fb)]+_0x4af0b(0x5f7)+(_0x5f25d8 instanceof Error?_0x5f25d8[_0x4af0b(0x793)]:JSON[_0x4af0b(0x28a)](_0x5f25d8,null,0x2))),new h(_0x4af0b(0x1f4)+(_0x5f25d8 instanceof Error?_0x5f25d8[_0x4af0b(0x793)]:JSON[_0x4af0b(0x28a)](_0x5f25d8,null,0x2)));}}async[a0_0x569689(0x590)](_0x33e6bc){const _0x557888=a0_0x569689;try{this[_0x557888(0x5f9)][_0x557888(0x55d)](this[_0x557888(0x439)]+'\x20('+this[_0x557888(0x56d)][_0x557888(0x4fb)]+_0x557888(0x23e));let _0x435789=await this[_0x557888(0x73b)]['flow'][_0x557888(0x471)]({'where':{'name':_0x33e6bc[_0x557888(0x222)]}},this[_0x557888(0x56d)][_0x557888(0x4fb)]);if(!_0x435789)throw new Error(_0x557888(0x19c));_0x33e6bc[_0x557888(0x70a)]['name']=_0x33e6bc[_0x557888(0x70a)][_0x557888(0x222)]['trim'](),_0x33e6bc[_0x557888(0x70a)][_0x557888(0x222)][_0x557888(0x360)]('_')&&(_0x33e6bc[_0x557888(0x70a)][_0x557888(0x222)]=_0x33e6bc[_0x557888(0x70a)]['name'][_0x557888(0x1de)](0x1)),_0x33e6bc[_0x557888(0x70a)]['name']=_0x33e6bc[_0x557888(0x70a)]['name']['trim']();let _0x533da5=_0x435789[_0x557888(0x7c4)][_0x557888(0x3e0)](_0x4b7ad1=>_0x4b7ad1[_0x557888(0x222)]===_0x33e6bc[_0x557888(0x70a)]['name']);if(_0x533da5?.[_0x557888(0x449)]===!0x0)throw new Error(_0x557888(0x60b));if(_0x33e6bc['variable']?.[_0x557888(0x5df)]===!0x0){if(!_0x533da5)return{'message':_0x557888(0x45d)};_0x435789['variables']=_0x435789[_0x557888(0x7c4)]['filter'](_0x2e32e4=>_0x2e32e4[_0x557888(0x222)]!==_0x33e6bc[_0x557888(0x70a)][_0x557888(0x222)]);}else _0x533da5?Object[_0x557888(0x667)](_0x533da5,_0x33e6bc[_0x557888(0x70a)]):_0x435789['variables']['push'](_0x33e6bc['variable']);let _0x49e7a2=await this['repository'][_0x557888(0x76c)][_0x557888(0x616)](_0x435789['_id'],_0x435789,this['instance']['wuid']);if(!_0x49e7a2)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x49e7a2;}catch(_0x4af54b){throw this['logger'][_0x557888(0x393)](this[_0x557888(0x439)]+'\x20('+this[_0x557888(0x56d)][_0x557888(0x4fb)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x4af54b instanceof Error?_0x4af54b[_0x557888(0x793)]:JSON[_0x557888(0x28a)](_0x4af54b,null,0x2))),new h('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x4af54b instanceof Error?_0x4af54b[_0x557888(0x793)]:JSON[_0x557888(0x28a)](_0x4af54b,null,0x2)));}}async['startFlow'](_0x21493e){const _0x7e0a54=a0_0x569689;let _0x572775=null;try{if(!this[_0x7e0a54(0x755)]?.[_0x7e0a54(0x352)]['enabled'])throw new h(_0x7e0a54(0x45a));this['logger'][_0x7e0a54(0x55d)](this[_0x7e0a54(0x439)]+'\x20('+this[_0x7e0a54(0x56d)][_0x7e0a54(0x4fb)]+_0x7e0a54(0x6fc));let _0x4b0ed7=(await this[_0x7e0a54(0x53b)]({'numbers':[_0x21493e[_0x7e0a54(0x325)]]}))[0x0];if(!_0x4b0ed7[_0x7e0a54(0x2ec)]&&!(0x0,y[_0x7e0a54(0x788)])(_0x4b0ed7[_0x7e0a54(0x332)])&&!_0x4b0ed7[_0x7e0a54(0x332)][_0x7e0a54(0x1f2)](_0x7e0a54(0x3ec)))throw _0x572775=JSON[_0x7e0a54(0x28a)](_0x4b0ed7,null,0x2),new h(_0x4b0ed7);let _0x4bd67d=await this[_0x7e0a54(0x73b)][_0x7e0a54(0x76c)][_0x7e0a54(0x471)]({'where':{'name':_0x21493e['name']}},this[_0x7e0a54(0x56d)]['wuid']);if(!_0x4bd67d)return this['logger'][_0x7e0a54(0x393)](this[_0x7e0a54(0x439)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20não\x20encontrado'),{'message':_0x7e0a54(0x19c)};let _0x32f69e=await this[_0x7e0a54(0x408)](_0x4bd67d,_0x4b0ed7[_0x7e0a54(0x332)],_0x21493e['changeVariables']);if(_0x32f69e){this[_0x7e0a54(0x5f9)][_0x7e0a54(0x55d)](this[_0x7e0a54(0x439)]+'\x20('+this[_0x7e0a54(0x56d)][_0x7e0a54(0x4fb)]+_0x7e0a54(0x3c5));let _0x586220=await this['NextBlock'](_0x32f69e);return _0x586220&&await this[_0x7e0a54(0x1ed)](_0x32f69e,_0x586220),{'message':_0x7e0a54(0x4cb)+_0x21493e[_0x7e0a54(0x325)]};}}catch(_0x2db2ca){if(this[_0x7e0a54(0x5f9)]['error'](this[_0x7e0a54(0x439)]+'\x20('+this['instance'][_0x7e0a54(0x4fb)]+_0x7e0a54(0x2f6)+(_0x2db2ca instanceof Error?_0x2db2ca[_0x7e0a54(0x793)]:JSON[_0x7e0a54(0x28a)](_0x2db2ca,null,0x2))),_0x572775=_0x2db2ca instanceof Error?_0x2db2ca[_0x7e0a54(0x793)]:JSON['stringify'](_0x2db2ca,null,0x2),_0x572775)throw new h('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x572775);}}async[a0_0x569689(0x732)](_0x368b7){const _0x2eabb7=a0_0x569689;try{let _0x97b7b3={'remoteJid':_0x368b7,'status':_0x2eabb7(0x749)},_0xb0bdb1={'status':_0x2eabb7(0x6f6)},_0x4e9efa=await this[_0x2eabb7(0x73b)][_0x2eabb7(0x321)][_0x2eabb7(0x38a)](_0x97b7b3,_0xb0bdb1,this[_0x2eabb7(0x56d)][_0x2eabb7(0x4fb)]);return this[_0x2eabb7(0x5f9)][_0x2eabb7(0x55d)](this[_0x2eabb7(0x439)]+'\x20('+this[_0x2eabb7(0x56d)][_0x2eabb7(0x4fb)]+_0x2eabb7(0x658)),_0x4e9efa;}catch(_0x50e10b){throw this[_0x2eabb7(0x5f9)][_0x2eabb7(0x393)](this['instanceName']+'\x20('+this[_0x2eabb7(0x56d)]['wuid']+_0x2eabb7(0x31c)+_0x50e10b['message']),_0x50e10b;}}async[a0_0x569689(0x408)](_0x4e4577,_0x534e47,_0x5b9de1){const _0x2fe185=a0_0x569689;this[_0x2fe185(0x5f9)][_0x2fe185(0x55d)](this['instanceName']+'\x20('+this[_0x2fe185(0x56d)]['wuid']+_0x2fe185(0x2d7)),await this[_0x2fe185(0x732)](_0x534e47);try{let _0x298ed1=require('mongodb')[_0x2fe185(0x62d)],_0x1635cc=Date[_0x2fe185(0x70c)](),_0x19df8c=_0x2fe185(0x41b),_0x1a79e9={},_0x3b080c={},_0x392b83={..._0x4e4577,'chatLog':null},_0x79db2a=await this[_0x2fe185(0x22e)](_0x392b83[_0x2fe185(0x7c4)]),_0x1dfbe7=await this[_0x2fe185(0x6d4)](_0x534e47),_0xcdc923={..._0x79db2a,..._0x1dfbe7,'_remoteJid':_0x534e47},_0x806194={'lastReceivedMessage':_0x1a79e9,'lastSendMessage':_0x3b080c,'lastBlockId':_0x19df8c,'lastCondition':!0x0,'realVariables':_0xcdc923};_0x392b83[_0x2fe185(0x4d7)]=_0x806194,_0x392b83[_0x2fe185(0x4d7)][_0x2fe185(0x402)]={..._0xcdc923,..._0x5b9de1},delete _0x392b83[_0x2fe185(0x301)],_0x392b83[_0x2fe185(0x301)]=new _0x298ed1(),_0x392b83[_0x2fe185(0x4ab)]=_0x1635cc,_0x392b83[_0x2fe185(0x5d4)]='open',_0x392b83['remoteJid']=_0x534e47;let _0x4aa2b0=await this[_0x2fe185(0x73b)][_0x2fe185(0x321)][_0x2fe185(0x616)](_0x392b83['_id'],_0x392b83,this['instance'][_0x2fe185(0x4fb)]);return this[_0x2fe185(0x5f9)]['verbose'](this[_0x2fe185(0x439)]+'\x20('+this[_0x2fe185(0x56d)][_0x2fe185(0x4fb)]+_0x2fe185(0x784)),_0x4aa2b0?_0x392b83:null;}catch(_0x5870f7){throw this['logger'][_0x2fe185(0x393)](this[_0x2fe185(0x439)]+'\x20('+this[_0x2fe185(0x56d)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x5870f7 instanceof Error?_0x5870f7[_0x2fe185(0x793)]:JSON[_0x2fe185(0x28a)](_0x5870f7,null,0x2))),new h(_0x5870f7[_0x2fe185(0x793)]);}}async[a0_0x569689(0x7c7)](_0x1a7e7d){const _0x2e9fb5=a0_0x569689;try{this[_0x2e9fb5(0x5f9)][_0x2e9fb5(0x55d)](this[_0x2e9fb5(0x439)]+'\x20('+this[_0x2e9fb5(0x56d)]['wuid']+_0x2e9fb5(0x4fd)),this[_0x2e9fb5(0x5f9)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2e9fb5(0x4fb)]+'):\x20Query\x20params:\x20'+_0x1a7e7d);let _0x351ff5={'where':{'_id':_0x1a7e7d}};return await this[_0x2e9fb5(0x73b)]['flowConversation']['findOne'](_0x351ff5,this[_0x2e9fb5(0x56d)][_0x2e9fb5(0x4fb)]);}catch(_0x253025){throw this[_0x2e9fb5(0x5f9)][_0x2e9fb5(0x393)](this[_0x2e9fb5(0x439)]+'\x20('+this[_0x2e9fb5(0x56d)][_0x2e9fb5(0x4fb)]+_0x2e9fb5(0x78e)+(_0x253025 instanceof Error?_0x253025['message']:JSON[_0x2e9fb5(0x28a)](_0x253025,null,0x2))),new h(_0x2e9fb5(0x3ce)+_0x253025[_0x2e9fb5(0x793)]);}}async[a0_0x569689(0x1fc)](_0xaa1b01){const _0x27f566=a0_0x569689;try{return this[_0x27f566(0x5f9)][_0x27f566(0x55d)](this['instanceName']+'\x20('+this[_0x27f566(0x56d)][_0x27f566(0x4fb)]+'):\x20Buscando\x20conversas...'),await this['repository']['flowConversation']['find'](_0xaa1b01,this[_0x27f566(0x56d)][_0x27f566(0x4fb)]);}catch(_0x3bcf4c){throw this['logger'][_0x27f566(0x393)](this['instanceName']+'\x20('+this[_0x27f566(0x56d)][_0x27f566(0x4fb)]+_0x27f566(0x476)+(_0x3bcf4c instanceof Error?_0x3bcf4c[_0x27f566(0x793)]:JSON[_0x27f566(0x28a)](_0x3bcf4c,null,0x2))),new h('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x3bcf4c[_0x27f566(0x793)]);}}async['deleteConversation'](_0x4269c2){const _0x485835=a0_0x569689;try{return this['logger'][_0x485835(0x55d)](this[_0x485835(0x439)]+'\x20('+this['instance']['wuid']+_0x485835(0x35d)),this[_0x485835(0x5f9)][_0x485835(0x55d)](this[_0x485835(0x439)]+'\x20('+this[_0x485835(0x56d)]['wuid']+'):\x20Query\x20params:'+_0x4269c2),(await this[_0x485835(0x73b)][_0x485835(0x321)]['deleteOne']({'where':{'_id':_0x4269c2}},this['instance'][_0x485835(0x4fb)]))[_0x485835(0x3df)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x18a76a){throw this[_0x485835(0x5f9)][_0x485835(0x393)](this['instanceName']+'\x20('+this[_0x485835(0x56d)][_0x485835(0x4fb)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x18a76a instanceof Error?_0x18a76a[_0x485835(0x793)]:JSON[_0x485835(0x28a)](_0x18a76a,null,0x2))),new h(_0x485835(0x57a)+_0x18a76a['message']);}}async[a0_0x569689(0x29c)](_0x16bb48){const _0x22137c=a0_0x569689;try{let {_id:_0x4c3560,chatLog:_0x5b2537,status:_0x16ca29}=_0x16bb48;if(!_0x4c3560)return{'message':_0x22137c(0x72d)};let _0x273298={};if(_0x16ca29!==void 0x0&&(_0x273298[_0x22137c(0x5d4)]=_0x16ca29),Object['keys'](_0x273298)[_0x22137c(0x63c)]===0x0)return{'message':_0x22137c(0x317)};let _0x567f80=await this[_0x22137c(0x73b)]['flowConversation'][_0x22137c(0x616)](_0x4c3560,_0x273298,this[_0x22137c(0x56d)][_0x22137c(0x4fb)]);return _0x567f80||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x507be7){throw this[_0x22137c(0x5f9)][_0x22137c(0x393)](this[_0x22137c(0x439)]+'\x20('+this['instance'][_0x22137c(0x4fb)]+_0x22137c(0x69c)+(_0x507be7 instanceof Error?_0x507be7[_0x22137c(0x793)]:JSON[_0x22137c(0x28a)](_0x507be7,null,0x2))),new h(_0x22137c(0x200)+_0x507be7[_0x22137c(0x793)]);}}async[a0_0x569689(0x5f0)](_0x37606a){const _0x52b166=a0_0x569689;try{_0x37606a['_id']=this[_0x52b166(0x7bf)](_0x37606a[_0x52b166(0x301)]);let {_id:_0x22437c,leadInfo:_0x1aee6c}=_0x37606a;if(!_0x22437c)throw new Error(_0x52b166(0x3ba));let _0x5ad500=(_0x3e75d6,_0x5acb46,_0x5e2fe8)=>{const _0x8caf60=_0x52b166;_0x5e2fe8[_0x8caf60(0x6b4)](_0x35dfeb=>{const _0x310741=_0x8caf60;_0x3e75d6[_0x35dfeb]!==void 0x0&&(_0x5acb46[_0x310741(0x1a4)+_0x35dfeb]=_0x3e75d6[_0x35dfeb]);});},_0x80b3ac={};if(_0x5ad500(_0x1aee6c,_0x80b3ac,['nome',_0x52b166(0x636),_0x52b166(0x1d0),_0x52b166(0x252),_0x52b166(0x5d4),'notas',_0x52b166(0x760),_0x52b166(0x57c),_0x52b166(0x4dc)]),Array[_0x52b166(0x4ae)](_0x1aee6c[_0x52b166(0x775)])&&(_0x80b3ac['leadInfo.customFields']=_0x1aee6c[_0x52b166(0x775)][_0x52b166(0x46c)](_0x5d9841=>({'_id':_0x5d9841[_0x52b166(0x301)],'value':_0x5d9841['value']}))),_0x37606a[_0x52b166(0x449)][_0x52b166(0x323)]!==void 0x0&&(_0x80b3ac['leadInfo.desativadoFluxoAte']=Number(_0x37606a[_0x52b166(0x449)]['desativadoFluxoAte'])),_0x37606a['unreadcount']!==void 0x0&&(_0x80b3ac[_0x52b166(0x4cd)]=Number(_0x37606a[_0x52b166(0x4cd)])),Object['keys'](_0x80b3ac)['length']===0x0)throw new Error(_0x52b166(0x317));let _0x628d36=await this[_0x52b166(0x73b)]['chat']['findOne']({'where':{'_id':_0x37606a[_0x52b166(0x301)]}},this[_0x52b166(0x56d)][_0x52b166(0x4fb)]);if(!_0x628d36){let _0x410b5b=(await this[_0x52b166(0x53b)]({'numbers':[_0x37606a[_0x52b166(0x301)]]}))[0x0];if(!_0x410b5b[_0x52b166(0x2ec)]&&!(0x0,y[_0x52b166(0x788)])(_0x410b5b[_0x52b166(0x332)])&&!_0x410b5b[_0x52b166(0x332)][_0x52b166(0x1f2)](_0x52b166(0x3ec)))throw new h(_0x410b5b);_0x37606a['_id']=_0x410b5b['jid'];}if(_0x37606a[_0x52b166(0x5b1)]!==void 0x0){let _0x4be1b5=await this[_0x52b166(0x73b)][_0x52b166(0x3fd)]['find']({'where':{}},this[_0x52b166(0x56d)][_0x52b166(0x4fb)]),_0x443d29=new Set(_0x628d36[_0x52b166(0x5b1)]||[]),_0x2fa3b0=new Set(_0x37606a[_0x52b166(0x5b1)]),_0x2ddeb1=new Set(_0x4be1b5[_0x52b166(0x46c)](_0x1da9d6=>_0x1da9d6['_id'])),_0x1bdce1=[..._0x2fa3b0][_0x52b166(0x52f)](_0x4cd160=>!_0x443d29[_0x52b166(0x1f9)](_0x4cd160)&&_0x2ddeb1[_0x52b166(0x1f9)](_0x4cd160)),_0x6cea93=[..._0x443d29]['filter'](_0x598543=>!_0x2fa3b0[_0x52b166(0x1f9)](_0x598543));for(let _0x1b12ec of _0x1bdce1)await this['AddChatLabel'](_0x1b12ec,_0x37606a[_0x52b166(0x301)]),_0x443d29[_0x52b166(0x3f4)](_0x1b12ec);for(let _0x43e49b of _0x6cea93)await this['RemoveChatLabel'](_0x43e49b,_0x37606a[_0x52b166(0x301)]),_0x443d29[_0x52b166(0x5df)](_0x43e49b);_0x80b3ac['labels']=[..._0x443d29];}let _0x4818b0=await this[_0x52b166(0x73b)][_0x52b166(0x674)][_0x52b166(0x616)]({'where':{'_id':_0x37606a[_0x52b166(0x301)]}},_0x80b3ac,this[_0x52b166(0x56d)]['wuid']);return _0x4818b0&&q(this[_0x52b166(0x439)],_0x52b166(0x6ee),{'chat':_0x4818b0}),_0x4818b0?(this[_0x52b166(0x5f9)][_0x52b166(0x55d)](this[_0x52b166(0x439)]+'\x20('+this['instance'][_0x52b166(0x4fb)]+'):\x20'+JSON[_0x52b166(0x28a)](_0x4818b0,null,0x2)),_0x4818b0):{'message':_0x52b166(0x410)};}catch(_0x585053){throw this[_0x52b166(0x5f9)]['error'](this['instanceName']+'\x20('+this[_0x52b166(0x56d)][_0x52b166(0x4fb)]+_0x52b166(0x5f8)+(_0x585053 instanceof Error?_0x585053['message']:JSON['stringify'](_0x585053,null,0x2))),new h(_0x52b166(0x1e4)+_0x585053[_0x52b166(0x793)]);}}async[a0_0x569689(0x780)](_0x49db98,_0x212b54){const _0x17303d=a0_0x569689;try{await this[_0x17303d(0x543)]['addChatLabel'](_0x212b54,_0x49db98),console[_0x17303d(0x513)]('Label\x20'+_0x49db98+_0x17303d(0x541)+_0x212b54+_0x17303d(0x63b));}catch(_0x4d2a4f){console[_0x17303d(0x393)](_0x17303d(0x79a)+_0x49db98+_0x17303d(0x47b)+_0x212b54+':',_0x4d2a4f);}}async[a0_0x569689(0x3f5)](_0x4a27e5,_0x3a574c){const _0x388113=a0_0x569689;try{await this[_0x388113(0x543)][_0x388113(0x529)](_0x3a574c,_0x4a27e5),console[_0x388113(0x513)](_0x388113(0x5b7)+_0x4a27e5+'\x20removido\x20do\x20chat\x20'+_0x3a574c+_0x388113(0x63b));}catch(_0x4dec60){console['error']('Erro\x20ao\x20remover\x20label\x20'+_0x4a27e5+_0x388113(0x413)+_0x3a574c+':',_0x4dec60);}}async[a0_0x569689(0x556)](_0x12d21c){const _0x9a6dbd=a0_0x569689;try{let _0x6807d1=await this[_0x9a6dbd(0x73b)][_0x9a6dbd(0x24c)]['findOrCreate'](this[_0x9a6dbd(0x56d)]['wuid']),_0x3bfd93=_0x12d21c['_id']?_0x6807d1[_0x9a6dbd(0x6f4)]['findIndex'](_0xa8de82=>_0xa8de82[_0x9a6dbd(0x301)]===_0x12d21c[_0x9a6dbd(0x301)]):-0x1;if(_0x12d21c[_0x9a6dbd(0x5df)]&&_0x3bfd93>-0x1)_0x6807d1['agents']['splice'](_0x3bfd93,0x1);else{if(_0x3bfd93>-0x1){let _0x1efd2a=_0x6807d1[_0x9a6dbd(0x6f4)][_0x3bfd93];_0x12d21c[_0x9a6dbd(0x435)]&&(_0x1efd2a['fone']=_0x12d21c[_0x9a6dbd(0x435)]),_0x12d21c[_0x9a6dbd(0x222)]&&(_0x1efd2a[_0x9a6dbd(0x222)]=_0x12d21c[_0x9a6dbd(0x222)]),_0x12d21c['email']&&(_0x1efd2a[_0x9a6dbd(0x1d0)]=_0x12d21c['email']),_0x12d21c[_0x9a6dbd(0x5c3)]&&(_0x1efd2a[_0x9a6dbd(0x5c3)]=_0x12d21c[_0x9a6dbd(0x5c3)]);}else _0x6807d1['agents'][_0x9a6dbd(0x392)]({'_id':_0x12d21c[_0x9a6dbd(0x301)]||new ne['default']['Types'][(_0x9a6dbd(0x62d))]()[_0x9a6dbd(0x6be)](),'fone':_0x12d21c['fone'],'name':_0x12d21c[_0x9a6dbd(0x222)],'email':_0x12d21c[_0x9a6dbd(0x1d0)],'role':_0x12d21c['role']});}let _0x17e88f={'agents':_0x6807d1[_0x9a6dbd(0x6f4)]},_0x26e09f=await this[_0x9a6dbd(0x73b)]['automateSystem'][_0x9a6dbd(0x1cd)](_0x17e88f,this[_0x9a6dbd(0x56d)]['wuid']);return this[_0x9a6dbd(0x755)]=_0x26e09f,this[_0x9a6dbd(0x5f9)][_0x9a6dbd(0x55d)](this[_0x9a6dbd(0x439)]+'\x20('+this[_0x9a6dbd(0x56d)][_0x9a6dbd(0x4fb)]+_0x9a6dbd(0x505)),this[_0x9a6dbd(0x5f9)][_0x9a6dbd(0x55d)](this[_0x9a6dbd(0x439)]+'\x20('+this[_0x9a6dbd(0x56d)][_0x9a6dbd(0x4fb)]+_0x9a6dbd(0x5d3)+this[_0x9a6dbd(0x755)]),_0x26e09f;}catch(_0x24ba9d){throw this[_0x9a6dbd(0x5f9)][_0x9a6dbd(0x393)](this['instanceName']+'\x20('+this[_0x9a6dbd(0x56d)][_0x9a6dbd(0x4fb)]+_0x9a6dbd(0x5a3)+(_0x24ba9d instanceof Error?_0x24ba9d[_0x9a6dbd(0x793)]:JSON[_0x9a6dbd(0x28a)](_0x24ba9d,null,0x2))),new h('Erro\x20ao\x20editar\x20agentes:\x20'+_0x24ba9d[_0x9a6dbd(0x793)]);}}async[a0_0x569689(0x5ee)](_0x249c91){const _0x2a60f0=a0_0x569689;try{let _0x3ace46=await this[_0x2a60f0(0x73b)][_0x2a60f0(0x24c)][_0x2a60f0(0x6b7)](this[_0x2a60f0(0x56d)]['wuid']),_0x34c7da=_0x249c91[_0x2a60f0(0x301)]?_0x3ace46['customFields']['findIndex'](_0x4125e2=>_0x4125e2[_0x2a60f0(0x301)]===_0x249c91[_0x2a60f0(0x301)]):-0x1,_0x1fb716=!0x1,_0x29cdb1=_0x3ace46['customFields'][_0x2a60f0(0x351)](_0x5c6841=>_0x5c6841[_0x2a60f0(0x739)]===_0x249c91[_0x2a60f0(0x739)]);if(_0x249c91[_0x2a60f0(0x5df)]&&_0x34c7da>-0x1)_0x3ace46['customFields'][_0x2a60f0(0x697)](_0x34c7da,0x1),_0x1fb716=!0x0;else{if(_0x34c7da>-0x1){if(_0x3ace46[_0x2a60f0(0x775)][_0x2a60f0(0x351)](_0xc48d29=>_0xc48d29[_0x2a60f0(0x222)]===_0x249c91[_0x2a60f0(0x222)]&&_0xc48d29[_0x2a60f0(0x301)]!==_0x249c91[_0x2a60f0(0x301)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x3673bf=_0x3ace46[_0x2a60f0(0x775)][_0x34c7da];_0x249c91[_0x2a60f0(0x739)]&&(_0x29cdb1||!Number[_0x2a60f0(0x2c1)](_0x249c91['order']))&&(_0x3673bf[_0x2a60f0(0x739)]=_0x249c91[_0x2a60f0(0x739)],_0x1fb716=!0x0),_0x249c91[_0x2a60f0(0x222)]&&(_0x3673bf[_0x2a60f0(0x222)]=_0x249c91['name']);}else{if(_0x3ace46['customFields'][_0x2a60f0(0x351)](_0x53dfc9=>_0x53dfc9['name']===_0x249c91[_0x2a60f0(0x222)]&&_0x53dfc9[_0x2a60f0(0x301)]!==_0x249c91[_0x2a60f0(0x301)]))throw new Error(_0x2a60f0(0x1d5));_0x3ace46[_0x2a60f0(0x775)][_0x2a60f0(0x392)]({'_id':_0x249c91['_id']||new ne[(_0x2a60f0(0x29a))][(_0x2a60f0(0x729))][(_0x2a60f0(0x62d))]()[_0x2a60f0(0x6be)](),'order':_0x249c91[_0x2a60f0(0x739)],'name':_0x249c91['name']}),_0x1fb716=!0x0;}}if(_0x1fb716){_0x3ace46[_0x2a60f0(0x775)]['sort']((_0x1e81ca,_0x144aba)=>_0x1e81ca[_0x2a60f0(0x739)]>_0x144aba[_0x2a60f0(0x739)]?0x1:_0x144aba['order']>_0x1e81ca[_0x2a60f0(0x739)]?-0x1:0x0);for(let _0x11417b=0x0;_0x11417b<_0x3ace46[_0x2a60f0(0x775)][_0x2a60f0(0x63c)];_0x11417b++)_0x3ace46['customFields'][_0x11417b]['order']=_0x11417b+0x1;}let _0x52b1f3=await this[_0x2a60f0(0x73b)][_0x2a60f0(0x24c)][_0x2a60f0(0x1cd)](_0x3ace46,this[_0x2a60f0(0x56d)][_0x2a60f0(0x4fb)]);return this[_0x2a60f0(0x755)]=_0x52b1f3,this[_0x2a60f0(0x5f9)][_0x2a60f0(0x55d)](this['instanceName']+'\x20('+this[_0x2a60f0(0x56d)][_0x2a60f0(0x4fb)]+_0x2a60f0(0x4a7)),this[_0x2a60f0(0x5f9)][_0x2a60f0(0x55d)](this[_0x2a60f0(0x439)]+'\x20('+this[_0x2a60f0(0x56d)]['wuid']+_0x2a60f0(0x5d3)+this[_0x2a60f0(0x755)]),_0x52b1f3;}catch(_0xe6c9c4){throw this['logger'][_0x2a60f0(0x393)](this[_0x2a60f0(0x439)]+'\x20('+this['instance'][_0x2a60f0(0x4fb)]+_0x2a60f0(0x6a8)+(_0xe6c9c4 instanceof Error?_0xe6c9c4['message']:JSON['stringify'](_0xe6c9c4,null,0x2))),new h(_0x2a60f0(0x5d5)+_0xe6c9c4[_0x2a60f0(0x793)]);}}async[a0_0x569689(0x75f)](_0x1beb38){const _0x5ad2df=a0_0x569689;try{let _0x331e2c=await this[_0x5ad2df(0x73b)][_0x5ad2df(0x24c)][_0x5ad2df(0x6b7)](this[_0x5ad2df(0x56d)]['wuid']);if(!_0x331e2c)throw new Error(_0x5ad2df(0x2fe));let _0x34e2a2={'_id':_0x331e2c[_0x5ad2df(0x301)],'flowConfig':{'enabled':_0x1beb38[_0x5ad2df(0x50c)]??_0x331e2c[_0x5ad2df(0x352)][_0x5ad2df(0x50c)],'ignoreGroups':_0x1beb38[_0x5ad2df(0x400)]??_0x331e2c['flowConfig'][_0x5ad2df(0x400)],'prefixCommand':_0x1beb38['prefixCommand']??_0x331e2c[_0x5ad2df(0x352)][_0x5ad2df(0x67a)],'stopConversation':_0x1beb38[_0x5ad2df(0x445)]??_0x331e2c[_0x5ad2df(0x352)][_0x5ad2df(0x445)],'stopMinutes':_0x1beb38['stopMinutes']??_0x331e2c[_0x5ad2df(0x352)]['stopMinutes'],'stopWhenYouSendMsg':_0x1beb38['stopWhenYouSendMsg']??_0x331e2c['flowConfig'][_0x5ad2df(0x359)]}},_0x439dbd=await this[_0x5ad2df(0x73b)][_0x5ad2df(0x24c)]['update'](_0x34e2a2,this[_0x5ad2df(0x56d)]['wuid']);return this[_0x5ad2df(0x755)]=_0x439dbd,this[_0x5ad2df(0x5f9)][_0x5ad2df(0x55d)](this[_0x5ad2df(0x439)]+'\x20('+this[_0x5ad2df(0x56d)][_0x5ad2df(0x4fb)]+_0x5ad2df(0x505)),this[_0x5ad2df(0x5f9)][_0x5ad2df(0x55d)](this[_0x5ad2df(0x439)]+'\x20('+this[_0x5ad2df(0x56d)][_0x5ad2df(0x4fb)]+_0x5ad2df(0x5d3)+this[_0x5ad2df(0x755)]),setTimeout(()=>this[_0x5ad2df(0x639)](),0x7d0),_0x439dbd;}catch(_0x322386){throw this['logger'][_0x5ad2df(0x393)](this[_0x5ad2df(0x439)]+'\x20('+this[_0x5ad2df(0x56d)][_0x5ad2df(0x4fb)]+_0x5ad2df(0x520)+(_0x322386 instanceof Error?_0x322386['message']:JSON['stringify'](_0x322386,null,0x2))),new h(_0x5ad2df(0x480)+_0x322386['message']);}}async[a0_0x569689(0x29d)](){const _0x20fa23=a0_0x569689;try{let _0x121e61=await this[_0x20fa23(0x73b)][_0x20fa23(0x24c)][_0x20fa23(0x6b7)](this[_0x20fa23(0x56d)][_0x20fa23(0x4fb)]);return this['AutomateSystem']=_0x121e61,this[_0x20fa23(0x5f9)][_0x20fa23(0x55d)](this[_0x20fa23(0x439)]+'\x20('+this[_0x20fa23(0x56d)][_0x20fa23(0x4fb)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x20fa23(0x5f9)]['verbose'](this[_0x20fa23(0x755)]),_0x121e61;}catch(_0x5de310){throw this[_0x20fa23(0x5f9)][_0x20fa23(0x393)](this[_0x20fa23(0x439)]+'\x20('+this[_0x20fa23(0x56d)]['wuid']+_0x20fa23(0x5ea)+(_0x5de310 instanceof Error?_0x5de310[_0x20fa23(0x793)]:JSON[_0x20fa23(0x28a)](_0x5de310,null,0x2))),new h(_0x20fa23(0x299)+_0x5de310[_0x20fa23(0x793)]);}}async[a0_0x569689(0x32d)](){const _0x3985c7=a0_0x569689;this[_0x3985c7(0x211)]&&clearTimeout(this[_0x3985c7(0x211)]),this[_0x3985c7(0x211)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x569689(0x5d1)](){const _0x2c405e=a0_0x569689;Date[_0x2c405e(0x70c)]()-this['lastSend']>=0x1d4c0&&(this[_0x2c405e(0x5f9)][_0x2c405e(0x55d)](this[_0x2c405e(0x439)]+'\x20('+this['instance']['wuid']+_0x2c405e(0x3e6)),this[_0x2c405e(0x2ad)]=null,this[_0x2c405e(0x4c8)]=0x0,this['delayMessage']=0x0,await this[_0x2c405e(0x639)]());}async[a0_0x569689(0x639)](){const _0x5b20da=a0_0x569689;let _0x3cd537=()=>{const _0x434298=a0_0x4dbe;this[_0x434298(0x5f9)][_0x434298(0x55d)](this['instanceName']+'\x20('+this['instance'][_0x434298(0x4fb)]+'):\x20this.processingScheduleMessageId:\x20'+this[_0x434298(0x2ad)]+_0x434298(0x44d));},_0x17897e=async()=>{const _0x393a10=a0_0x4dbe;this[_0x393a10(0x5f9)][_0x393a10(0x55d)](this[_0x393a10(0x439)]+'\x20('+this[_0x393a10(0x56d)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x15439a=Date[_0x393a10(0x70c)]()-0xc*0x3c*0x3c*0x3e8,_0x5e85ab={'where':{'status':{'$in':[_0x393a10(0x61c),_0x393a10(0x411)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x15439a}},{'when':0x0}]}};return await this['repository']['scheduleMessage'][_0x393a10(0x3e0)](_0x5e85ab,this[_0x393a10(0x56d)][_0x393a10(0x4fb)]);},_0x14c5a9=async _0x31f098=>{const _0x11687d=a0_0x4dbe;for(let _0x4b5b78 of _0x31f098){let _0x275a5e={'_id':_0x4b5b78['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x11687d(0x70c)]()-0x1770}}]},_0x56942a={'startSend':Date[_0x11687d(0x70c)]()};if(!await this['repository']['scheduleMessage'][_0x11687d(0x616)](_0x275a5e,_0x56942a,this[_0x11687d(0x56d)][_0x11687d(0x4fb)]))return;if(!this[_0x11687d(0x272)]){this[_0x11687d(0x5f9)][_0x11687d(0x55d)](this[_0x11687d(0x439)]+'\x20('+this[_0x11687d(0x56d)][_0x11687d(0x4fb)]+_0x11687d(0x1e5));break;}if(_0x4b5b78['type']===_0x11687d(0x76c)&&!this[_0x11687d(0x755)]?.[_0x11687d(0x352)][_0x11687d(0x50c)]){this['logger'][_0x11687d(0x393)](this[_0x11687d(0x439)]+'\x20('+this[_0x11687d(0x56d)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x4b5b78['remoteJidsRemaining']||_0x4b5b78[_0x11687d(0x338)]['length']===0x0)&&(_0x4b5b78=await this['repository']['scheduleMessage']['updateOneById'](_0x4b5b78[_0x11687d(0x301)],{'status':'sending','remoteJidsRemaining':[..._0x4b5b78['remoteJids']]},this['instance'][_0x11687d(0x4fb)]));for(let _0x5253a9 of _0x4b5b78[_0x11687d(0x338)]){if(await this[_0x11687d(0x32d)](),this[_0x11687d(0x4c8)]=Date[_0x11687d(0x70c)](),_0x4b5b78[_0x11687d(0x33d)][_0x11687d(0x351)](_0x4bf587=>_0x4bf587[_0x11687d(0x325)]===_0x5253a9)){this[_0x11687d(0x5f9)][_0x11687d(0x55d)](this['instanceName']+'\x20('+this[_0x11687d(0x56d)]['wuid']+_0x11687d(0x588)+_0x5253a9+'.\x20Pulando.');continue;}if(!this[_0x11687d(0x272)]){this[_0x11687d(0x5f9)][_0x11687d(0x55d)](this[_0x11687d(0x439)]+'\x20('+this[_0x11687d(0x56d)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x11687d(0x2ad)]){this[_0x11687d(0x5f9)][_0x11687d(0x55d)](this[_0x11687d(0x439)]+'\x20('+this[_0x11687d(0x56d)][_0x11687d(0x4fb)]+_0x11687d(0x1b3)+_0x4b5b78[_0x11687d(0x301)]+_0x11687d(0x1f5));break;}if(_0x4b5b78[_0x11687d(0x1c6)]===_0x11687d(0x76c)&&!this[_0x11687d(0x755)]?.['flowConfig'][_0x11687d(0x50c)]){this['logger'][_0x11687d(0x393)](this[_0x11687d(0x439)]+'\x20('+this['instance'][_0x11687d(0x4fb)]+_0x11687d(0x631));break;}let _0x4a6971={'remoteJid':_0x5253a9,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x369037=null;try{let _0x580c86=await this[_0x11687d(0x3a6)](_0x5253a9,_0x4b5b78);_0x4a6971[_0x11687d(0x393)]=_0x580c86[_0x11687d(0x393)],_0x4a6971['id']=_0x580c86['error']?null:_0x580c86['id'],_0x4a6971[_0x11687d(0x7aa)]=_0x580c86['error']?_0x580c86[_0x11687d(0x6bd)]?_0x580c86[_0x11687d(0x6bd)][_0x11687d(0x6be)]():'':null;let _0x556ff0={'$push':{'messagesSend':_0x4a6971},'$pull':{'remoteJidsRemaining':_0x5253a9}},_0x3e1d48=_0x4b5b78[_0x11687d(0x301)];if(_0x369037=await this['repository'][_0x11687d(0x63d)]['updateOneById'](_0x3e1d48,_0x556ff0,this[_0x11687d(0x56d)][_0x11687d(0x4fb)]),_0x580c86[_0x11687d(0x393)])continue;let _0x266530=this[_0x11687d(0x694)](_0x4b5b78[_0x11687d(0x3b5)],_0x4b5b78[_0x11687d(0x68b)]);await this[_0x11687d(0x341)](_0x266530);}catch(_0x314b92){this[_0x11687d(0x5f9)][_0x11687d(0x393)](this[_0x11687d(0x439)]+'\x20('+this[_0x11687d(0x56d)][_0x11687d(0x4fb)]+_0x11687d(0x5da)+_0x5253a9+':\x20'+(_0x314b92 instanceof Error?_0x314b92[_0x11687d(0x793)]:JSON[_0x11687d(0x28a)](_0x314b92,null,0x2))),_0x4a6971['error']=!0x0,_0x4a6971[_0x11687d(0x7aa)]=_0x314b92[_0x11687d(0x793)];let _0x12ae54={'$push':{'messagesSend':_0x4a6971},'$pull':{'remoteJidsRemaining':_0x5253a9}},_0x2f7857=_0x4b5b78['_id'];_0x369037=await this[_0x11687d(0x73b)][_0x11687d(0x63d)][_0x11687d(0x6bf)](_0x2f7857,_0x12ae54,this[_0x11687d(0x56d)][_0x11687d(0x4fb)]);}finally{if(_0x369037&&_0x369037[_0x11687d(0x5d4)]==='stopped'){this[_0x11687d(0x5f9)][_0x11687d(0x55d)](this[_0x11687d(0x439)]+'\x20('+this[_0x11687d(0x56d)][_0x11687d(0x4fb)]+_0x11687d(0x1b3)+_0x4b5b78['_id']+_0x11687d(0x5c6));break;}}}let _0x1b5670=await this['repository'][_0x11687d(0x63d)][_0x11687d(0x49f)](_0x4b5b78[_0x11687d(0x301)],this['instance'][_0x11687d(0x4fb)]);if(_0x1b5670[_0x11687d(0x338)][_0x11687d(0x63c)]===0x0&&_0x1b5670[_0x11687d(0x5d4)]!==_0x11687d(0x395)){let _0x163bd2={'$set':{'status':'done'}},_0x1c3dc5=_0x1b5670[_0x11687d(0x301)];await this[_0x11687d(0x73b)][_0x11687d(0x63d)][_0x11687d(0x6bf)](_0x1c3dc5,_0x163bd2,this[_0x11687d(0x56d)][_0x11687d(0x4fb)]);}await new Promise(_0x130f53=>setTimeout(_0x130f53,0x1388));}},_0x261417=async()=>{const _0x113666=a0_0x4dbe;let _0x22b436={'where':{'status':'scheduled','when':{'$gt':Date[_0x113666(0x70c)]()}}},_0x4405b5=await this[_0x113666(0x73b)]['scheduleMessage'][_0x113666(0x471)](_0x22b436,this[_0x113666(0x56d)][_0x113666(0x4fb)]);_0x4405b5&&_0x4405b5['when']-Date[_0x113666(0x70c)]()<=0x5265c00?this[_0x113666(0x57b)]=_0x4405b5[_0x113666(0x2dd)]-Date[_0x113666(0x70c)]():this['delayMessage']=(0x3c+Math[_0x113666(0x574)](Math[_0x113666(0x48c)]()*0x3c))*0x3c*0x3e8,this[_0x113666(0x57b)]=Math[_0x113666(0x602)](this[_0x113666(0x57b)],0x7d0);let _0x3f31b9=Math['round'](this[_0x113666(0x57b)]/0xea60);if(_0x4405b5){let _0x5566d7=new Date(_0x4405b5[_0x113666(0x2dd)])['toLocaleString']();this[_0x113666(0x5f9)][_0x113666(0x55d)](this[_0x113666(0x439)]+'\x20('+this[_0x113666(0x56d)][_0x113666(0x4fb)]+_0x113666(0x549)+_0x5566d7+_0x113666(0x4ed)+_0x3f31b9+_0x113666(0x69f));}else this[_0x113666(0x5f9)][_0x113666(0x55d)](this[_0x113666(0x439)]+'\x20('+this[_0x113666(0x56d)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x3f31b9+_0x113666(0x69f));setTimeout(()=>this[_0x113666(0x639)](),this[_0x113666(0x57b)]);};if(this['processingScheduleMessageId']){await this[_0x5b20da(0x32d)](),_0x3cd537();return;}if(!this[_0x5b20da(0x272)]){this[_0x5b20da(0x5f9)]['verbose'](this[_0x5b20da(0x439)]+'\x20('+this[_0x5b20da(0x56d)][_0x5b20da(0x4fb)]+_0x5b20da(0x55c)),this['processingScheduleMessageId']=null,this[_0x5b20da(0x4c8)]=0x0,this['delayMessage']=0x0;return;}try{let _0x256ce3=await _0x17897e();_0x256ce3[_0x5b20da(0x63c)]===0x0?this[_0x5b20da(0x5f9)][_0x5b20da(0x55d)](this[_0x5b20da(0x439)]+'\x20('+this[_0x5b20da(0x56d)][_0x5b20da(0x4fb)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x5b20da(0x2ad)]=_0x256ce3[0x0][_0x5b20da(0x301)],await _0x14c5a9(_0x256ce3)),await _0x261417(),this[_0x5b20da(0x2ad)]=null;}catch(_0x5630ea){this[_0x5b20da(0x5f9)]['error']('Error\x20in\x20scheduleNextCheck:\x20'+(_0x5630ea instanceof Error?_0x5630ea['message']:JSON[_0x5b20da(0x28a)](_0x5630ea,null,0x2)));}}[a0_0x569689(0x694)](_0x195486,_0x2a2211){const _0x1251e0=a0_0x569689;return _0x195486=Math[_0x1251e0(0x602)](0.5,_0x195486),_0x2a2211=Math[_0x1251e0(0x371)](Math[_0x1251e0(0x602)](0x3,_0x2a2211),0x78),Math[_0x1251e0(0x574)](Math['random']()*(_0x2a2211-_0x195486+0x1)+_0x195486)*0x3e8;}[a0_0x569689(0x341)](_0x555aaf){return new Promise(_0x57408c=>setTimeout(_0x57408c,_0x555aaf));}async['getVariablesChat'](_0x3316e3){const _0xb5a613=a0_0x569689;if(!this['AutomateSystem']&&(await this[_0xb5a613(0x29d)](),!this[_0xb5a613(0x755)]))return null;_0x3316e3=this['createJid'](_0x3316e3);let _0x256d05=await this[_0xb5a613(0x73b)]['chat']['findOne']({'where':{'_id':_0x3316e3}},this[_0xb5a613(0x56d)]['wuid']),_0x4cdd61={};if(_0x256d05&&_0x256d05['leadInfo']){let _0x27beff=_0x256d05['leadInfo'];typeof _0x27beff[_0xb5a613(0x6e4)]==_0xb5a613(0x4b7)&&(_0x4cdd61[_0xb5a613(0x6e4)]=_0x27beff[_0xb5a613(0x6e4)]),typeof _0x27beff['nomecompleto']==_0xb5a613(0x4b7)&&(_0x4cdd61[_0xb5a613(0x636)]=_0x27beff[_0xb5a613(0x636)]),typeof _0x27beff['email']==_0xb5a613(0x4b7)&&(_0x4cdd61['email']=_0x27beff['email']),typeof _0x27beff['cpf']==_0xb5a613(0x4b7)&&(_0x4cdd61[_0xb5a613(0x252)]=_0x27beff[_0xb5a613(0x252)]),typeof _0x27beff[_0xb5a613(0x5d4)]==_0xb5a613(0x4b7)&&(_0x4cdd61[_0xb5a613(0x5d4)]=_0x27beff[_0xb5a613(0x5d4)]),typeof _0x27beff[_0xb5a613(0x464)]==_0xb5a613(0x4b7)&&(_0x4cdd61[_0xb5a613(0x464)]=_0x27beff['notas']),typeof _0x27beff[_0xb5a613(0x4dc)]=='string'&&(_0x4cdd61[_0xb5a613(0x4dc)]=_0x27beff[_0xb5a613(0x4dc)]),Array[_0xb5a613(0x4ae)](_0x27beff[_0xb5a613(0x760)])&&(_0x4cdd61[_0xb5a613(0x760)]=_0x27beff[_0xb5a613(0x760)][_0xb5a613(0x1ee)](',\x20'));}return _0x256d05&&_0x256d05[_0xb5a613(0x449)]&&_0x256d05[_0xb5a613(0x449)][_0xb5a613(0x775)]&&_0x256d05[_0xb5a613(0x449)][_0xb5a613(0x775)]['forEach'](_0x5d14ee=>{const _0x56e82f=_0xb5a613;let _0x1f027c=this[_0x56e82f(0x755)]?.[_0x56e82f(0x775)][_0x56e82f(0x3e0)](_0x9dbeb5=>_0x9dbeb5[_0x56e82f(0x301)]===_0x5d14ee[_0x56e82f(0x301)]);_0x1f027c&&(_0x4cdd61[_0x1f027c[_0x56e82f(0x222)]]=_0x5d14ee[_0x56e82f(0x6d8)]);}),_0x4cdd61;}async[a0_0x569689(0x568)](_0x746fb8,_0x150acd){const _0x5dc623=a0_0x569689;let _0x4cb4c5=await this[_0x5dc623(0x6d4)](_0x150acd);return this[_0x5dc623(0x6ac)](_0x746fb8,_0x4cb4c5);}async[a0_0x569689(0x509)](_0x539cd1){const _0x3b3fd2=a0_0x569689;try{if(this[_0x3b3fd2(0x5f9)][_0x3b3fd2(0x55d)](this[_0x3b3fd2(0x439)]+'\x20('+this['instance'][_0x3b3fd2(0x4fb)]+_0x3b3fd2(0x25b)),_0x539cd1['delete']&&_0x539cd1[_0x3b3fd2(0x301)]){if(this[_0x3b3fd2(0x2ad)]===_0x539cd1[_0x3b3fd2(0x301)][_0x3b3fd2(0x6be)]())throw new Error(_0x3b3fd2(0x566));let _0x379f92=await this[_0x3b3fd2(0x73b)][_0x3b3fd2(0x63d)][_0x3b3fd2(0x217)](_0x539cd1[_0x3b3fd2(0x301)],this[_0x3b3fd2(0x56d)]['wuid']);return setTimeout(()=>this[_0x3b3fd2(0x639)](),0x7d0),_0x379f92;}let _0x3f6446;if(_0x539cd1[_0x3b3fd2(0x301)]&&(_0x3f6446=await this[_0x3b3fd2(0x73b)][_0x3b3fd2(0x63d)]['findById'](_0x539cd1[_0x3b3fd2(0x301)],this[_0x3b3fd2(0x56d)][_0x3b3fd2(0x4fb)])),_0x3f6446){let _0x2f7362;if(this[_0x3b3fd2(0x2ad)]===_0x3f6446[_0x3b3fd2(0x301)][_0x3b3fd2(0x6be)]())_0x2f7362={'$set':{'status':_0x539cd1['status']}};else{let {_id:_0x107d54,..._0x3e4285}=_0x539cd1;_0x2f7362={'$set':_0x3e4285};}let _0x488647=await this[_0x3b3fd2(0x73b)][_0x3b3fd2(0x63d)][_0x3b3fd2(0x6bf)](_0x539cd1[_0x3b3fd2(0x301)],_0x2f7362,this['instance']['wuid']);return setTimeout(()=>this[_0x3b3fd2(0x639)](),0x7d0),_0x488647;}else{_0x539cd1[_0x3b3fd2(0x795)]=this[_0x3b3fd2(0x56d)]['wuid'];let _0x187044=await this[_0x3b3fd2(0x73b)][_0x3b3fd2(0x63d)]['createAndSave'](_0x539cd1,this[_0x3b3fd2(0x56d)][_0x3b3fd2(0x4fb)]);return setTimeout(()=>this[_0x3b3fd2(0x639)](),0x7d0),_0x187044;}}catch(_0x30b200){throw this[_0x3b3fd2(0x5f9)][_0x3b3fd2(0x393)](this[_0x3b3fd2(0x439)]+'\x20('+this['instance']['wuid']+_0x3b3fd2(0x6e2)+(_0x30b200 instanceof Error?_0x30b200['message']:JSON[_0x3b3fd2(0x28a)](_0x30b200,null,0x2))),new h(_0x3b3fd2(0x708)+_0x30b200['message']);}}async[a0_0x569689(0x231)](){const _0xe0f14d=a0_0x569689;try{return await this[_0xe0f14d(0x73b)][_0xe0f14d(0x63d)][_0xe0f14d(0x3e0)]({'where':{}},this[_0xe0f14d(0x56d)][_0xe0f14d(0x4fb)]);}catch(_0xd56188){throw this[_0xe0f14d(0x5f9)][_0xe0f14d(0x393)](this[_0xe0f14d(0x439)]+'\x20('+this['instance'][_0xe0f14d(0x4fb)]+_0xe0f14d(0x1d7)+(_0xd56188 instanceof Error?_0xd56188['message']:JSON[_0xe0f14d(0x28a)](_0xd56188,null,0x2))),new h(_0xe0f14d(0x708)+_0xd56188['message']);}}async['deleteDoneMessages'](){const _0x3f282=a0_0x569689;try{let _0x74bae2={'status':_0x3f282(0x6c0)},_0x5873fe=await this[_0x3f282(0x73b)][_0x3f282(0x63d)][_0x3f282(0x522)](_0x74bae2,this[_0x3f282(0x56d)][_0x3f282(0x4fb)]);if(!_0x5873fe[_0x3f282(0x393)])this['logger'][_0x3f282(0x55d)](this[_0x3f282(0x439)]+'\x20('+this[_0x3f282(0x56d)]['wuid']+_0x3f282(0x3c0));else throw new Error(_0x5873fe[_0x3f282(0x393)][_0x3f282(0x793)]||_0x3f282(0x600));return this['getScheduleMessage']();}catch(_0x3c97db){throw this[_0x3f282(0x5f9)][_0x3f282(0x393)](this[_0x3f282(0x439)]+'\x20('+this[_0x3f282(0x56d)]['wuid']+_0x3f282(0x626)+(_0x3c97db instanceof Error?_0x3c97db['message']:JSON[_0x3f282(0x28a)](_0x3c97db,null,0x2))),new h(_0x3f282(0x708)+_0x3c97db[_0x3f282(0x793)]);}}async[a0_0x569689(0x3a6)](_0xa7c867,_0x35b01f){const _0x3cab2d=a0_0x569689;try{if(_0x35b01f[_0x3cab2d(0x1c6)]===_0x3cab2d(0x76c)&&!this[_0x3cab2d(0x755)]?.['flowConfig']['enabled'])return this[_0x3cab2d(0x5f9)]['error'](this['instanceName']+'\x20('+this[_0x3cab2d(0x56d)]['wuid']+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x3cab2d(0x45a)};switch(_0x35b01f['type']){case _0x3cab2d(0x39f):return await this[_0x3cab2d(0x1ae)](_0x35b01f,_0xa7c867);case _0x3cab2d(0x651):return await this['scheduleSendMedia'](_0x35b01f,_0xa7c867);case'audio':return await this[_0x3cab2d(0x2a9)](_0x35b01f,_0xa7c867);case _0x3cab2d(0x76c):let _0x4967ef=new _e();return _0x4967ef['name']=_0x35b01f[_0x3cab2d(0x3e7)],_0x4967ef[_0x3cab2d(0x325)]=_0xa7c867,await this[_0x3cab2d(0x5ac)](_0x4967ef);break;default:return this[_0x3cab2d(0x5f9)][_0x3cab2d(0x393)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3cab2d(0x656)+_0x35b01f[_0x3cab2d(0x1c6)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x5db4d8){return this[_0x3cab2d(0x5f9)][_0x3cab2d(0x393)](this[_0x3cab2d(0x439)]+'\x20('+this['instance']['wuid']+_0x3cab2d(0x25d)+(_0x5db4d8 instanceof Error?_0x5db4d8[_0x3cab2d(0x793)]:JSON[_0x3cab2d(0x28a)](_0x5db4d8,null,0x2))),{'error':!0x0,'detail':_0x5db4d8[_0x3cab2d(0x793)]};}}[a0_0x569689(0x1ce)](_0x18a51f){const _0x22c1c4=a0_0x569689;let _0x55a89b=_0x18a51f['split']('|'),_0x2d89ed=Math[_0x22c1c4(0x574)](Math['random']()*_0x55a89b['length']);return _0x55a89b[_0x2d89ed][_0x22c1c4(0x1cb)]();}async['scheduleSendText'](_0x12c9d0,_0x163a84){const _0x457972=a0_0x569689;if(this[_0x457972(0x5f9)]['verbose'](this[_0x457972(0x439)]+'\x20('+this['instance'][_0x457972(0x4fb)]+'):\x20Enviando\x20texto'),!_0x12c9d0[_0x457972(0x793)][_0x457972(0x39f)]||_0x12c9d0['message']['text'][_0x457972(0x63c)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x1b2b0c=this['getRandomText'](_0x12c9d0[_0x457972(0x793)][_0x457972(0x39f)]),_0x31c21a=await this[_0x457972(0x568)](_0x1b2b0c,_0x163a84),_0x4dbf2c={'number':_0x163a84,'options':{'delay':_0x12c9d0['message'][_0x457972(0x526)]},'textMessage':{'text':_0x31c21a}},_0x2e70eb=null;try{let _0x104013=await this['textMessage'](_0x4dbf2c);if(_0x104013&&_0x104013[_0x457972(0x5d4)])return{'error':!0x1,'id':_0x104013['key']['id']};_0x2e70eb=JSON['stringify'](_0x104013),this[_0x457972(0x5f9)]['verbose'](this[_0x457972(0x439)]+'\x20('+this[_0x457972(0x56d)][_0x457972(0x4fb)]+'):\x20'+_0x2e70eb);}catch(_0x300616){this[_0x457972(0x5f9)][_0x457972(0x393)](this['instanceName']+'\x20('+this[_0x457972(0x56d)][_0x457972(0x4fb)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x300616 instanceof Error?_0x300616[_0x457972(0x793)]:JSON['stringify'](_0x300616,null,0x2))),_0x2e70eb=_0x300616[_0x457972(0x793)];}if(_0x2e70eb)return{'error':!0x0,'detail':(typeof _0x2e70eb==_0x457972(0x289)?JSON['stringify'](_0x2e70eb,null,0x2):_0x2e70eb)[_0x457972(0x52b)](/[\[\]{}\n]/g,'\x20')[_0x457972(0x52b)](/  +/g,'\x20')};}async[a0_0x569689(0x63f)](_0x3c1320,_0x1cc098){const _0x3d4d07=a0_0x569689;this[_0x3d4d07(0x5f9)][_0x3d4d07(0x55d)](this[_0x3d4d07(0x439)]+'\x20('+this[_0x3d4d07(0x56d)][_0x3d4d07(0x4fb)]+_0x3d4d07(0x286));let _0x31b7bb;if(_0x3c1320['message'][_0x3d4d07(0x39f)]&&_0x3c1320[_0x3d4d07(0x793)]['text'][_0x3d4d07(0x63c)]>0x0){let _0x3ce18c=this['getRandomText'](_0x3c1320[_0x3d4d07(0x793)][_0x3d4d07(0x39f)]);_0x31b7bb=await this['replaceVariablesChat'](_0x3ce18c,_0x1cc098);}let _0x491e8d={'number':_0x1cc098,'options':{'delay':_0x3c1320[_0x3d4d07(0x793)][_0x3d4d07(0x526)]},'mediaMessage':{'mediatype':_0x3c1320['message'][_0x3d4d07(0x66f)],'caption':_0x31b7bb,'media':_0x3c1320[_0x3d4d07(0x793)][_0x3d4d07(0x3eb)]}},_0x36a063=null;try{let _0x1a212c=await this[_0x3d4d07(0x459)](_0x491e8d);if(_0x1a212c&&_0x1a212c[_0x3d4d07(0x5d4)])return{'error':!0x1,'id':_0x1a212c[_0x3d4d07(0x2b9)]['id']};_0x36a063=JSON[_0x3d4d07(0x28a)](_0x1a212c),this[_0x3d4d07(0x5f9)][_0x3d4d07(0x55d)](this[_0x3d4d07(0x439)]+'\x20('+this['instance'][_0x3d4d07(0x4fb)]+_0x3d4d07(0x5d3)+_0x36a063);}catch(_0x39ab35){this[_0x3d4d07(0x5f9)][_0x3d4d07(0x393)](this['instanceName']+'\x20('+this[_0x3d4d07(0x56d)][_0x3d4d07(0x4fb)]+_0x3d4d07(0x1f0)+(_0x39ab35 instanceof Error?_0x39ab35[_0x3d4d07(0x793)]:JSON[_0x3d4d07(0x28a)](_0x39ab35,null,0x2))),_0x36a063=_0x39ab35[_0x3d4d07(0x793)];}if(_0x36a063)return{'error':!0x0,'detail':(typeof _0x36a063==_0x3d4d07(0x289)?JSON[_0x3d4d07(0x28a)](_0x36a063,null,0x2):_0x36a063)[_0x3d4d07(0x52b)](/[\[\]{}\n]/g,'\x20')[_0x3d4d07(0x52b)](/  +/g,'\x20')};}async[a0_0x569689(0x2a9)](_0x3cf62d,_0x2c3e09){const _0x329617=a0_0x569689;this[_0x329617(0x5f9)][_0x329617(0x55d)](this[_0x329617(0x439)]+'\x20('+this[_0x329617(0x56d)][_0x329617(0x4fb)]+_0x329617(0x4ec));let _0x4dfe4c={'number':_0x2c3e09,'options':{'delay':_0x3cf62d['message'][_0x329617(0x526)]},'audioMessage':{'audio':_0x3cf62d[_0x329617(0x793)][_0x329617(0x3eb)]}},_0x6c7215=null;try{let _0x215ae1=await this[_0x329617(0x2de)](_0x4dfe4c);if(_0x215ae1&&_0x215ae1[_0x329617(0x5d4)])return{'error':!0x1,'id':_0x215ae1[_0x329617(0x2b9)]['id']};_0x6c7215=JSON['stringify'](_0x215ae1),this[_0x329617(0x5f9)][_0x329617(0x55d)](this[_0x329617(0x439)]+'\x20('+this['instance']['wuid']+_0x329617(0x5d3)+_0x6c7215);}catch(_0x204021){this[_0x329617(0x5f9)]['error'](this[_0x329617(0x439)]+'\x20('+this['instance'][_0x329617(0x4fb)]+_0x329617(0x5a7)+(_0x204021 instanceof Error?_0x204021['message']:JSON[_0x329617(0x28a)](_0x204021,null,0x2))),_0x6c7215=_0x204021['message'];}if(_0x6c7215)return{'error':!0x0,'detail':(typeof _0x6c7215=='object'?JSON[_0x329617(0x28a)](_0x6c7215,null,0x2):_0x6c7215)[_0x329617(0x52b)](/[\[\]{}\n]/g,'\x20')[_0x329617(0x52b)](/  +/g,'\x20')};}},xt=class c{constructor(_0x45e9de,_0x523e88,_0x4e58a2){const _0x23e9c5=a0_0x569689;this[_0x23e9c5(0x1bf)]=_0x45e9de,this[_0x23e9c5(0x555)]=_0x523e88,this[_0x23e9c5(0x73b)]=_0x4e58a2,this['db']={},this[_0x23e9c5(0x1b7)]={},this[_0x23e9c5(0x5f9)]=new v(c[_0x23e9c5(0x222)]),this[_0x23e9c5(0x7ab)]={},(this[_0x23e9c5(0x516)](),this['noConnection'](),Object[_0x23e9c5(0x667)](this['db'],_0x523e88[_0x23e9c5(0x5de)](_0x23e9c5(0x2ed))),Object[_0x23e9c5(0x667)](this[_0x23e9c5(0x1b7)],_0x523e88['get'](_0x23e9c5(0x1be))),this[_0x23e9c5(0x309)]=this['db'][_0x23e9c5(0x23d)]?this[_0x23e9c5(0x73b)]['dbServer']?.['db'](this['db'][_0x23e9c5(0x4a6)][_0x23e9c5(0x2ef)]+_0x23e9c5(0x261)):void 0x0,this[_0x23e9c5(0x7cb)]=this[_0x23e9c5(0x1b7)][_0x23e9c5(0x23d)]?new oe(this[_0x23e9c5(0x1b7)]):void 0x0);}async['instanceInfo'](_0x267f4d){const _0x3932e5=a0_0x569689;if(_0x267f4d&&!this[_0x3932e5(0x7ab)][_0x267f4d])throw new L(_0x3932e5(0x20a)+_0x267f4d+'\x22\x20not\x20found');let _0x2c2a70=[];for await(let [_0x6aab6c,_0xe90b8d]of Object[_0x3932e5(0x77a)](this[_0x3932e5(0x7ab)]))if(_0xe90b8d&&_0xe90b8d['connectionStatus'][_0x3932e5(0x2dc)]===_0x3932e5(0x749)){let _0x44d78e=await this[_0x3932e5(0x73b)]['auth'][_0x3932e5(0x3e0)](_0x6aab6c);_0x2c2a70[_0x3932e5(0x392)]({'instance':{'instanceName':_0x6aab6c,'apikey':_0x44d78e[_0x3932e5(0x2b5)],'owner':_0xe90b8d[_0x3932e5(0x4fb)],'profileName':await _0xe90b8d[_0x3932e5(0x216)]()||_0x3932e5(0x44c),'profilePictureUrl':_0xe90b8d[_0x3932e5(0x7a2)]}});}return _0x2c2a70[_0x3932e5(0x3e0)](_0x45f846=>_0x45f846[_0x3932e5(0x56d)][_0x3932e5(0x439)]===_0x267f4d)??_0x2c2a70;}async[a0_0x569689(0x1f6)](_0xb253f2){const _0x24390a=a0_0x569689;if(this['db'][_0x24390a(0x23d)]&&(await this['repository'][_0x24390a(0x2e6)][_0x24390a(0x6d9)](),(await this[_0x24390a(0x309)][_0x24390a(0x767)]())[_0x24390a(0x63c)]>0x0&&await this[_0x24390a(0x309)][_0x24390a(0x66d)](_0xb253f2)),this['redis'][_0x24390a(0x23d)]){this['cache'][_0x24390a(0x1ec)]=_0xb253f2,await this[_0x24390a(0x7cb)][_0x24390a(0x205)]();return;}}async[a0_0x569689(0x797)](){const _0xb58228=a0_0x569689;await this[_0xb58228(0x2b2)]();let _0x1099b3=async _0x2547ba=>{const _0x26e67a=_0xb58228;let _0x2a3ad1=new ye(this['configService'],this[_0x26e67a(0x1bf)],this[_0x26e67a(0x73b)]);_0x2a3ad1[_0x26e67a(0x439)]=_0x2547ba,await _0x2a3ad1[_0x26e67a(0x288)](),this[_0x26e67a(0x7ab)][_0x2547ba]=_0x2a3ad1;};try{if(this[_0xb58228(0x1b7)][_0xb58228(0x23d)]){let _0x1332a0=await this[_0xb58228(0x7cb)][_0xb58228(0x41e)]();_0x1332a0?.['length']>0x0&&_0x1332a0[_0xb58228(0x6b4)](async _0xaa8045=>await _0x1099b3(_0xaa8045[_0xb58228(0x348)](':')[0x1]));return;}if(this['db'][_0xb58228(0x23d)]){await this[_0xb58228(0x73b)][_0xb58228(0x2e6)][_0xb58228(0x6d9)]();let _0x214ae7=await this[_0xb58228(0x309)][_0xb58228(0x767)]();_0x214ae7[_0xb58228(0x63c)]>0x0&&_0x214ae7[_0xb58228(0x6b4)](async _0x2b13b5=>await _0x1099b3(_0x2b13b5[_0xb58228(0x622)][_0xb58228(0x52b)](/^[\w-]+\./,'')));return;}}catch(_0x48066f){this[_0xb58228(0x5f9)]['error'](_0x48066f);}}async[a0_0x569689(0x265)](){const _0x35427f=a0_0x569689;let _0x852811=await this[_0x35427f(0x73b)]['auth'][_0x35427f(0x30a)](),_0x9f37a5=_0x852811[_0x35427f(0x52f)](_0x1527c5=>!this[_0x35427f(0x7ab)][_0x1527c5[_0x35427f(0x301)]]&&(_0x1527c5[_0x35427f(0x644)]||typeof _0x1527c5[_0x35427f(0x644)]>'u'));_0x9f37a5[_0x35427f(0x63c)]>0x0&&await Promise[_0x35427f(0x741)](_0x9f37a5[_0x35427f(0x46c)](async _0x1ca3c1=>{const _0x574e60=_0x35427f;let _0x560b1f={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x574e60(0x73b)][_0x574e60(0x1a1)]['create'](_0x560b1f,_0x1ca3c1[_0x574e60(0x301)]);}));let _0x478448=Date[_0x35427f(0x70c)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x3a41f2=_0x852811['filter'](_0x4c1422=>!this[_0x35427f(0x7ab)][_0x4c1422['_id']]&&typeof _0x4c1422[_0x35427f(0x276)]<'u'&&_0x4c1422['lastDisconnect']<_0x478448);_0x3a41f2[_0x35427f(0x63c)]>0x0&&await Promise[_0x35427f(0x741)](_0x3a41f2[_0x35427f(0x46c)](async _0x16981e=>{}));}async[a0_0x569689(0x2b2)](){const _0x56d528=a0_0x569689;try{let _0x2df4c6={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x349d62={'online':!0x1,'lastDisconnect':Date[_0x56d528(0x70c)]()},_0x4ed861=await this[_0x56d528(0x73b)][_0x56d528(0x1a1)][_0x56d528(0x723)](_0x2df4c6,_0x349d62);console[_0x56d528(0x513)](_0x56d528(0x754)+_0x4ed861['insertCount']),await this['removeOlderDisconnectedInstances']();}catch(_0x559ac3){console['error'](_0x56d528(0x551),_0x559ac3);}}async[a0_0x569689(0x789)](){const _0x1e5c41=a0_0x569689;try{let _0x45cc9a={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0xe5e2cf=await this[_0x1e5c41(0x73b)][_0x1e5c41(0x1a1)][_0x1e5c41(0x522)](_0x45cc9a);console[_0x1e5c41(0x513)](_0x1e5c41(0x618)+_0xe5e2cf[_0x1e5c41(0x3b4)]);}catch(_0x1801ac){console[_0x1e5c41(0x393)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x1801ac);}}[a0_0x569689(0x516)](){const _0x40634f=a0_0x569689;this[_0x40634f(0x1bf)]['on'](_0x40634f(0x787),async _0x4216cd=>{const _0x400a1d=_0x40634f;try{this['waInstances'][_0x4216cd]=void 0x0;}catch{}try{this[_0x400a1d(0x1f6)](_0x4216cd);}finally{this[_0x400a1d(0x5f9)][_0x400a1d(0x4df)](_0x400a1d(0x20a)+_0x4216cd+_0x400a1d(0x2c6));}});}[a0_0x569689(0x57e)](){const _0x423e90=a0_0x569689;this[_0x423e90(0x1bf)]['on'](_0x423e90(0x571),async _0x5de986=>{const _0x1b69b6=_0x423e90;try{this['waInstances'][_0x5de986]=void 0x0;}catch{}try{this['cleaningUp'](_0x5de986);}finally{this[_0x1b69b6(0x5f9)][_0x1b69b6(0x4df)](_0x1b69b6(0x20a)+_0x5de986+_0x1b69b6(0x773));}});}},_t=class extends I{['getChatModelForOwner'](_0x3edf3a){return js(_0x3edf3a);}async['insert'](_0x3d29fa){const _0x26649d=a0_0x569689;if(_0x3d29fa['length']!==0x0)try{return{'insertCount':(await this[_0x26649d(0x6f2)](_0x3d29fa[0x0][_0x26649d(0x795)])[_0x26649d(0x7b0)]([..._0x3d29fa]))[_0x26649d(0x63c)]};}catch(_0x4e4625){return _0x4e4625;}}async['find'](_0x24fb85,_0xbde97e){const _0x195157=a0_0x569689;try{let _0x1155c3=this[_0x195157(0x6f2)](_0xbde97e),_0x580838=A(_0x24fb85['where']);return await _0x1155c3[_0x195157(0x3e0)](_0x580838)[_0x195157(0x40c)]({'lastmsg':-0x1})[_0x195157(0x5f6)](_0x24fb85?.[_0x195157(0x5f6)]??0x0)['lean']();}catch{return[];}}async[a0_0x569689(0x6a3)](_0xfc446a,_0xce7dd9){const _0x31090b=a0_0x569689;try{return await this[_0x31090b(0x6f2)](_0xce7dd9)[_0x31090b(0x522)]({..._0xfc446a[_0x31090b(0x592)]}),[];}catch(_0x399e8d){return{'error':_0x399e8d?.['toString']()};}}async[a0_0x569689(0x471)](_0x581784,_0x2ae269){const _0x22eece=a0_0x569689;try{let _0x227ce0=this['getChatModelForOwner'](_0x2ae269),_0x4df418=A(_0x581784[_0x22eece(0x592)]);return await _0x227ce0[_0x22eece(0x471)](_0x4df418)[_0x22eece(0x1a3)]();}catch{return null;}}async[a0_0x569689(0x616)](_0x3801c5,_0x331a26,_0x5b03d8,_0x32a802,_0x4e1b77=a0_0x569689(0x27b)){const _0xd0f592=a0_0x569689;try{let _0x58082e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x32a802},_0xf71303=this[_0xd0f592(0x6f2)](_0x5b03d8),_0x434ca2=A(_0x3801c5[_0xd0f592(0x592)]),_0x44866a={};return _0x44866a[_0x4e1b77]=_0x331a26,await _0xf71303[_0xd0f592(0x657)](_0x434ca2,_0x44866a,_0x58082e);}catch(_0xe11798){return console[_0xd0f592(0x393)](_0xe11798),null;}}async[a0_0x569689(0x38a)](_0x321734){const _0x2b4f8b=a0_0x569689;try{let _0xcd5ae=this['getChatModelForOwner'](_0x321734[0x0]['query']['where'][_0x2b4f8b(0x795)]),_0x2f7c7c=_0x321734['map'](_0x1d524a=>({'updateOne':{'filter':{..._0x1d524a[_0x2b4f8b(0x7c6)][_0x2b4f8b(0x592)]},'update':{'$set':_0x1d524a[_0x2b4f8b(0x1cd)]}}}));return(await _0xcd5ae['bulkWrite'](_0x2f7c7c))['modifiedCount'];}catch(_0x244515){return console[_0x2b4f8b(0x393)](_0x244515),0x0;}}async[a0_0x569689(0x7b0)](_0x6fc86d,_0x3bd063){const _0x5d2c9d=a0_0x569689;if(!Array[_0x5d2c9d(0x4ae)](_0x6fc86d)||_0x6fc86d['length']===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x3bd063)['insertMany'](_0x6fc86d))[_0x5d2c9d(0x63c)];}catch(_0x38da24){throw console[_0x5d2c9d(0x393)]('Erro\x20ao\x20inserir\x20chats:',_0x38da24),_0x38da24;}}async[a0_0x569689(0x64c)](_0x280f7c,_0x2b8b5d){const _0x5f3769=a0_0x569689;try{await this[_0x5f3769(0x6f2)](_0x2b8b5d)['updateOne']({'_id':_0x280f7c},{'$inc':{'isValidAttempts':0x1}});}catch(_0x386d31){throw console[_0x5f3769(0x393)]('Erro\x20ao\x20incrementar\x20isValidAttempts:',_0x386d31),_0x386d31;}}async[a0_0x569689(0x75b)](_0x1b9d49,_0x4ff033){const _0x2021dd=a0_0x569689;try{await this[_0x2021dd(0x6f2)](_0x4ff033)[_0x2021dd(0x217)]({'_id':_0x1b9d49});}catch(_0x735f77){throw console[_0x2021dd(0x393)](_0x2021dd(0x751),_0x735f77),_0x735f77;}}},Pt=class extends I{['getLabelModelForOwner'](_0x4d9150){return ua(_0x4d9150);}async['updateOne'](_0x1b8e45,_0x1d085a,_0x4c3852,_0x174b48){const _0x5db1ab=a0_0x569689;try{let _0x131c6b={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x174b48},_0x4c033a=this[_0x5db1ab(0x7c3)](_0x4c3852),_0x323d1d=A(_0x1b8e45['where']);return await _0x4c033a[_0x5db1ab(0x657)](_0x323d1d,{'$set':_0x1d085a},_0x131c6b);}catch(_0x17a306){return console['error'](_0x17a306),null;}}async[a0_0x569689(0x3e0)](_0x5e75dc,_0x5c2373){const _0x4b1a3a=a0_0x569689;try{let _0x2006a0=this['getLabelModelForOwner'](_0x5c2373),_0x33f29b=A(_0x5e75dc[_0x4b1a3a(0x592)]);return await _0x2006a0['find'](_0x33f29b);}catch(_0x46ff82){console[_0x4b1a3a(0x393)](_0x46ff82);}}async[a0_0x569689(0x5df)](_0x13ba6d,_0x40e3da){const _0x9ba59d=a0_0x569689;try{let _0x57deb0=this['getLabelModelForOwner'](_0x40e3da),_0x2accb9=A(_0x13ba6d[_0x9ba59d(0x592)]);await _0x57deb0['deleteMany'](_0x2accb9);}catch(_0x28c90a){console[_0x9ba59d(0x393)](_0x28c90a);}}async['deleteAll'](_0xf87795){const _0x489b74=a0_0x569689;try{return await this[_0x489b74(0x7c3)](_0xf87795)[_0x489b74(0x6f5)]['drop'](),{'success':!0x0};}catch(_0x5f4722){return console[_0x489b74(0x393)](_0x5f4722),{'success':!0x1,'error':_0x5f4722};}}},$t=class{constructor(_0x29f93a){this['waMonitor']=_0x29f93a;}async[a0_0x569689(0x5f0)]({instanceName:_0x94ac9b},_0x4fab77){const _0x49f1e9=a0_0x569689;return await this[_0x49f1e9(0x232)][_0x49f1e9(0x7ab)][_0x94ac9b][_0x49f1e9(0x5f0)](_0x4fab77);}async[a0_0x569689(0x53b)]({instanceName:_0x4077de},_0x42ad3c){const _0xc3400d=a0_0x569689;return await this[_0xc3400d(0x232)][_0xc3400d(0x7ab)][_0x4077de][_0xc3400d(0x53b)](_0x42ad3c);}async['importChats']({instanceName:_0x4fefe3},_0x1f3fed){const _0x2bb1cc=a0_0x569689;return await this['waMonitor'][_0x2bb1cc(0x7ab)][_0x4fefe3][_0x2bb1cc(0x5e3)](_0x1f3fed);}async['readMessage']({instanceName:_0x38155e},_0x3296fc){const _0x54c351=a0_0x569689;return await this[_0x54c351(0x232)][_0x54c351(0x7ab)][_0x38155e][_0x54c351(0x5ab)](_0x3296fc);}async['archiveChat']({instanceName:_0x1c42cb},_0x3617fa){const _0x1cea55=a0_0x569689;return await this[_0x1cea55(0x232)][_0x1cea55(0x7ab)][_0x1c42cb][_0x1cea55(0x4c1)](_0x3617fa);}async[a0_0x569689(0x791)]({instanceName:_0x92876d},_0x1b74eb){const _0x23dd0c=a0_0x569689;return await this[_0x23dd0c(0x232)][_0x23dd0c(0x7ab)][_0x92876d][_0x23dd0c(0x791)](_0x1b74eb);}async['fetchProfilePicture']({instanceName:_0x154dd3},_0x4d6a08){const _0x25ab85=a0_0x569689;return await this[_0x25ab85(0x232)]['waInstances'][_0x154dd3]['profilePicture'](_0x4d6a08[_0x25ab85(0x347)]);}async['fetchProfile']({instanceName:_0x448686},_0x10c090){const _0x3624ce=a0_0x569689;return await this[_0x3624ce(0x232)][_0x3624ce(0x7ab)][_0x448686][_0x3624ce(0x26e)](_0x10c090[_0x3624ce(0x347)]);}async['updatePresence']({instanceName:_0x30d3a3},_0x90b114){const _0x576dde=a0_0x569689;return await this[_0x576dde(0x232)][_0x576dde(0x7ab)][_0x30d3a3]['updatePresence'](_0x90b114);}async[a0_0x569689(0x638)]({instanceName:_0x3d82c2},_0xd314a3){const _0x36aaf0=a0_0x569689;return await this['waMonitor'][_0x36aaf0(0x7ab)][_0x3d82c2]['fetchContacts'](_0xd314a3);}async[a0_0x569689(0x2bd)]({instanceName:_0x14d4e0},_0x301a01){const _0x438eff=a0_0x569689;return await this[_0x438eff(0x232)]['waInstances'][_0x14d4e0][_0x438eff(0x2bd)](_0x301a01);}async[a0_0x569689(0x715)]({instanceName:_0x3762ce},_0x590cf0){const _0x271385=a0_0x569689;return await this[_0x271385(0x232)][_0x271385(0x7ab)][_0x3762ce][_0x271385(0x715)](_0x590cf0);}async[a0_0x569689(0x25e)]({instanceName:_0x2b7bad}){const _0x1d3ce5=a0_0x569689;return await this['waMonitor']['waInstances'][_0x2b7bad][_0x1d3ce5(0x25e)]();}async[a0_0x569689(0x704)]({instanceName:_0x9c0e13}){const _0x2e5300=a0_0x569689;return await this[_0x2e5300(0x232)][_0x2e5300(0x7ab)][_0x9c0e13][_0x2e5300(0x704)]();}async[a0_0x569689(0x7ba)]({instanceName:_0xe7abc5}){const _0x4c9078=a0_0x569689;return await this[_0x4c9078(0x232)][_0x4c9078(0x7ab)][_0xe7abc5][_0x4c9078(0x7ba)]();}async[a0_0x569689(0x204)]({instanceName:_0x4b8d71},_0x522f66){const _0x1323ab=a0_0x569689;return await this[_0x1323ab(0x232)][_0x1323ab(0x7ab)][_0x4b8d71][_0x1323ab(0x204)](_0x522f66);}async[a0_0x569689(0x364)]({instanceName:_0x15d4c0},_0x4db8c7){const _0x2fcaa1=a0_0x569689;return await this[_0x2fcaa1(0x232)]['waInstances'][_0x15d4c0][_0x2fcaa1(0x364)](_0x4db8c7['number']);}async['updateProfileName']({instanceName:_0x1a02a2},_0x314770){const _0x572aa7=a0_0x569689;return await this[_0x572aa7(0x232)]['waInstances'][_0x1a02a2]['updateProfileName'](_0x314770[_0x572aa7(0x222)]);}async[a0_0x569689(0x19d)]({instanceName:_0x485ca9},_0x9d58df){const _0xae3b60=a0_0x569689;return await this[_0xae3b60(0x232)][_0xae3b60(0x7ab)][_0x485ca9][_0xae3b60(0x19d)](_0x9d58df[_0xae3b60(0x5d4)]);}async['updateProfilePicture']({instanceName:_0x43d2be},_0x5a7e8c){const _0x38d82a=a0_0x569689;return await this[_0x38d82a(0x232)]['waInstances'][_0x43d2be][_0x38d82a(0x4ba)](_0x5a7e8c[_0x38d82a(0x1b1)]);}async[a0_0x569689(0x274)]({instanceName:_0x4d62c3},_0x4dda30){const _0x4a9583=a0_0x569689;return await this['waMonitor'][_0x4a9583(0x7ab)][_0x4d62c3][_0x4a9583(0x274)]();}},vs=require('@whiskeysockets/baileys'),kt=class c{constructor(_0x1b328c,_0x2e43c6,_0x512a1,_0x3c7ec9,_0xb95e3b){const _0x477e7e=a0_0x569689;this['waMonitor']=_0x1b328c,this['configService']=_0x2e43c6,this[_0x477e7e(0x73b)]=_0x512a1,this[_0x477e7e(0x1bf)]=_0x3c7ec9,this[_0x477e7e(0x5fc)]=_0xb95e3b,this[_0x477e7e(0x5f9)]=new v(c['name']);}async[a0_0x569689(0x678)]({instanceName:_0x5cf6b8,apikey:_0x130a2a,number:_0x5b9a8f,proxy:_0x6c90d3=!0x0}){const _0x2b9fdc=a0_0x569689;try{let _0x1b4718=new ye(this[_0x2b9fdc(0x555)],this[_0x2b9fdc(0x1bf)],this['repository']);_0x1b4718[_0x2b9fdc(0x439)]=_0x5cf6b8,this[_0x2b9fdc(0x232)][_0x2b9fdc(0x7ab)][_0x1b4718[_0x2b9fdc(0x439)]]=_0x1b4718;let _0x5667b8={};_0x130a2a?(await this[_0x2b9fdc(0x73b)][_0x2b9fdc(0x1a1)][_0x2b9fdc(0x5c4)]({'apikey':_0x130a2a},_0x5cf6b8),_0x5667b8[_0x2b9fdc(0x2b5)]=_0x130a2a):_0x5667b8=await this['authService'][_0x2b9fdc(0x455)]({'instanceName':_0x1b4718[_0x2b9fdc(0x439)]});let _0x58d644;return await _0x1b4718['connectToWhatsapp'](_0x5b9a8f,_0x6c90d3),await(0x0,vs[_0x2b9fdc(0x526)])(0x7d0),_0x58d644=_0x1b4718[_0x2b9fdc(0x407)],{'instance':{'instanceName':_0x1b4718[_0x2b9fdc(0x439)],'status':_0x2b9fdc(0x3d1)},'hash':_0x5667b8,'qrcode':_0x58d644};}catch(_0x1a6671){this[_0x2b9fdc(0x5f9)][_0x2b9fdc(0x393)](_0x1a6671);}}async[a0_0x569689(0x3a9)]({instanceName:_0x2f17a2,number:_0x5177e8=null,proxy:_0x3b158e=!0x0}){const _0x49ff3e=a0_0x569689;try{let _0x474eb4=this[_0x49ff3e(0x232)][_0x49ff3e(0x7ab)][_0x2f17a2];switch(_0x474eb4?.[_0x49ff3e(0x2fc)]?.['state']){case _0x49ff3e(0x59f):return await _0x474eb4[_0x49ff3e(0x288)](_0x5177e8,_0x3b158e),await(0x0,vs[_0x49ff3e(0x526)])(0x7d0),_0x474eb4['qrCode'];case'connecting':return _0x474eb4[_0x49ff3e(0x407)];default:return await this[_0x49ff3e(0x4b4)]({'instanceName':_0x2f17a2});}}catch(_0x4062db){this[_0x49ff3e(0x5f9)]['log'](_0x4062db);}}async['connectionState']({instanceName:_0x439adf}){const _0x1bdfc3=a0_0x569689;let _0x1fd5ad=this[_0x1bdfc3(0x232)][_0x1bdfc3(0x7ab)][_0x439adf][_0x1bdfc3(0x2fc)],_0xf758e9=null;_0x1fd5ad['state']===_0x1bdfc3(0x749)&&_0x439adf&&(_0xf758e9=await this['waMonitor'][_0x1bdfc3(0x625)](_0x439adf));let _0x470cb0=null;return _0x1fd5ad[_0x1bdfc3(0x2dc)]===_0x1bdfc3(0x38b)&&_0x439adf&&(_0x470cb0=this[_0x1bdfc3(0x232)]['waInstances'][_0x439adf]['qrCode']),{'instance':_0x439adf,'connectionStatus':_0x1fd5ad,'instanceInfo':_0xf758e9,'qrcode':_0x470cb0};}async['restartInstance']({instanceName:_0x5736ee}){const _0x13e88c=a0_0x569689;try{return this['waMonitor'][_0x13e88c(0x7ab)][_0x5736ee]?.['client']?.['ws']?.[_0x13e88c(0x59f)](),{'status':_0x13e88c(0x3b9),'error':!0x1,'response':{'message':_0x13e88c(0x2cd)}};}catch(_0x35f603){this[_0x13e88c(0x5f9)][_0x13e88c(0x393)](_0x35f603);}}async[a0_0x569689(0x510)]({instanceName:_0x3df56e}){const _0x170fe1=a0_0x569689;return _0x3df56e?this[_0x170fe1(0x232)]['instanceInfo'](_0x3df56e):this[_0x170fe1(0x232)][_0x170fe1(0x625)]();}async[a0_0x569689(0x6aa)]({instanceName:_0x43ca30}){const _0x3b99aa=a0_0x569689;try{return await this[_0x3b99aa(0x232)][_0x3b99aa(0x7ab)][_0x43ca30]?.['client']?.[_0x3b99aa(0x6aa)](_0x3b99aa(0x389)+_0x43ca30),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x543c8a){throw new O(_0x543c8a[_0x3b99aa(0x6be)]());}}async['deleteInstance']({instanceName:_0x2fb993}){const _0x1a24b9=a0_0x569689;if((await this[_0x1a24b9(0x4b4)]({'instanceName':_0x2fb993}))[_0x1a24b9(0x2fc)][_0x1a24b9(0x2dc)]===_0x1a24b9(0x749))throw new h([_0x1a24b9(0x3da),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x1a24b9(0x232)]['waInstances'][_0x2fb993],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x293954){throw new h(_0x293954['toString']());}}},Z=require(a0_0x569689(0x20c)),Lt=class{constructor(_0x13c2d4){const _0x17bcb5=a0_0x569689;this[_0x17bcb5(0x232)]=_0x13c2d4;}async[a0_0x569689(0x437)]({instanceName:_0x295d87},_0x1f9ddf){const _0x42d2d3=a0_0x569689;return await this[_0x42d2d3(0x232)][_0x42d2d3(0x7ab)][_0x295d87]['textMessage'](_0x1f9ddf);}async[a0_0x569689(0x258)]({instanceName:_0x1eb154},_0xc4e5fc){const _0x346a41=a0_0x569689;return await this[_0x346a41(0x232)][_0x346a41(0x7ab)][_0x1eb154]['menuMessage'](_0xc4e5fc);}async[a0_0x569689(0x311)]({instanceName:_0x48ae48},_0x5c18a9){const _0x3615a0=a0_0x569689;if((0x0,Z['isBase64'])(_0x5c18a9?.['mediaMessage']?.[_0x3615a0(0x651)])&&!_0x5c18a9?.['mediaMessage']?.['fileName'])throw new h(_0x3615a0(0x6ef));if((0x0,Z['isURL'])(_0x5c18a9?.[_0x3615a0(0x459)]?.['media'])||(0x0,Z[_0x3615a0(0x1fd)])(_0x5c18a9?.[_0x3615a0(0x459)]?.[_0x3615a0(0x651)]))return await this[_0x3615a0(0x232)]['waInstances'][_0x48ae48]['mediaMessage'](_0x5c18a9);throw new h(_0x3615a0(0x3a2));}async[a0_0x569689(0x572)]({instanceName:_0x33bae3},_0x2cdb80){const _0x55e659=a0_0x569689;if((0x0,Z['isURL'])(_0x2cdb80[_0x55e659(0x4da)][_0x55e659(0x379)])||(0x0,Z[_0x55e659(0x1fd)])(_0x2cdb80[_0x55e659(0x4da)][_0x55e659(0x379)]))return await this['waMonitor'][_0x55e659(0x7ab)][_0x33bae3][_0x55e659(0x1b9)](_0x2cdb80);throw new h('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x569689(0x675)]({instanceName:_0x397116},_0x5d3b2d){const _0x267422=a0_0x569689;if((0x0,Z['isURL'])(_0x5d3b2d['audioMessage'][_0x267422(0x53a)])||(0x0,Z[_0x267422(0x1fd)])(_0x5d3b2d['audioMessage'][_0x267422(0x53a)]))return await this[_0x267422(0x232)][_0x267422(0x7ab)][_0x397116][_0x267422(0x2de)](_0x5d3b2d);throw new h(_0x267422(0x3a2));}async[a0_0x569689(0x4de)]({instanceName:_0x5b2334},_0x12dad6){const _0x1c750f=a0_0x569689;if((0x0,Z[_0x1c750f(0x1fd)])(_0x12dad6[_0x1c750f(0x719)][_0x1c750f(0x459)]?.[_0x1c750f(0x651)])&&!_0x12dad6[_0x1c750f(0x719)][_0x1c750f(0x459)]?.['fileName'])throw new h(_0x1c750f(0x6ef));return await this['waMonitor'][_0x1c750f(0x7ab)][_0x5b2334][_0x1c750f(0x719)](_0x12dad6);}async[a0_0x569689(0x581)]({instanceName:_0x4b3882},_0x43c479){const _0x2e6f50=a0_0x569689;return await this[_0x2e6f50(0x232)][_0x2e6f50(0x7ab)][_0x4b3882][_0x2e6f50(0x256)](_0x43c479);}async[a0_0x569689(0x59e)]({instanceName:_0x1e95ff},_0x3d1a51){const _0x509c48=a0_0x569689;return await this[_0x509c48(0x232)][_0x509c48(0x7ab)][_0x1e95ff][_0x509c48(0x3c7)](_0x3d1a51);}async[a0_0x569689(0x365)]({instanceName:_0x36a3bc},_0x3d8d55){const _0x2ec00d=a0_0x569689;return await this[_0x2ec00d(0x232)]['waInstances'][_0x36a3bc]['listMessage'](_0x3d8d55);}async[a0_0x569689(0x7b8)]({instanceName:_0x531ff6},_0x40a10e){return await this['waMonitor']['waInstances'][_0x531ff6]['contactMessage'](_0x40a10e);}async[a0_0x569689(0x5d6)]({instanceName:_0x5974df},_0x246c77){const _0x2c28a1=a0_0x569689;if(!_0x246c77['reactionMessage'][_0x2c28a1(0x4a5)][_0x2c28a1(0x4cf)](/[^\(\)\w\sà-ú"-\+]+/))throw new h('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x2c28a1(0x232)][_0x2c28a1(0x7ab)][_0x5974df]['reactionMessage'](_0x246c77);}async[a0_0x569689(0x2eb)]({instanceName:_0x249e96},_0x304c5e){const _0xfebec1=a0_0x569689;return await this[_0xfebec1(0x232)][_0xfebec1(0x7ab)][_0x249e96]['statusMessage'](_0x304c5e);}},Er=require('jsonwebtoken'),Ns=require(a0_0x569689(0x611)),Ft=class c{constructor(_0x5e704c,_0x2feb5c,_0x272543){const _0xdacc2a=a0_0x569689;this[_0xdacc2a(0x555)]=_0x5e704c,this[_0xdacc2a(0x232)]=_0x2feb5c,this[_0xdacc2a(0x73b)]=_0x272543,this['logger']=new v(c[_0xdacc2a(0x222)]);}async['jwt'](_0x4764c1){const _0x37b83d=a0_0x569689;let _0x2db703=this[_0x37b83d(0x555)][_0x37b83d(0x5de)](_0x37b83d(0x405))['JWT'],_0x5a0a7b=(0x0,Er['sign'])({'instanceName':_0x4764c1[_0x37b83d(0x439)],'apiName':ze,'tokenId':(0x0,Ns['v4'])()},_0x2db703[_0x37b83d(0x696)],{'expiresIn':_0x2db703['EXPIRIN_IN'],'encoding':'utf8','subject':'g-t'}),_0x5d005f=await this[_0x37b83d(0x73b)][_0x37b83d(0x1a1)][_0x37b83d(0x5c4)]({'jwt':_0x5a0a7b},_0x4764c1['instanceName']);if(_0x5d005f[_0x37b83d(0x393)])throw this[_0x37b83d(0x5f9)][_0x37b83d(0x393)]({'localError':c[_0x37b83d(0x222)]+_0x37b83d(0x284),'error':_0x5d005f[_0x37b83d(0x393)]}),new h(_0x37b83d(0x664),_0x5d005f[_0x37b83d(0x393)]?.[_0x37b83d(0x6be)]());return{'jwt':_0x5a0a7b};}async['apikey'](_0x36e62b){const _0xbded14=a0_0x569689;let _0x39c5f9=(0x0,Ns['v4'])()[_0xbded14(0x3c1)](),_0x1d393f=await this[_0xbded14(0x73b)]['auth'][_0xbded14(0x5c4)]({'apikey':_0x39c5f9},_0x36e62b[_0xbded14(0x439)]);if(_0x1d393f[_0xbded14(0x393)])throw this[_0xbded14(0x5f9)][_0xbded14(0x393)]({'localError':c[_0xbded14(0x222)]+_0xbded14(0x284),'error':_0x1d393f[_0xbded14(0x393)]}),new h(_0xbded14(0x664),_0x1d393f[_0xbded14(0x393)]?.['toString']());return{'apikey':_0x39c5f9};}async[a0_0x569689(0x455)](_0x2c7c9e){const _0x162d3c=a0_0x569689;let _0x365fbf=this['configService'][_0x162d3c(0x5de)](_0x162d3c(0x405));return await this[_0x365fbf[_0x162d3c(0x31a)]](_0x2c7c9e);}},Ut=class{constructor(_0x3c5aae){const _0x4e7108=a0_0x569689;this[_0x4e7108(0x232)]=_0x3c5aae;}async[a0_0x569689(0x7b5)](_0x19aaa1,_0x972e6e){const _0x6e521c=a0_0x569689;return await this['waMonitor'][_0x6e521c(0x7ab)][_0x19aaa1[_0x6e521c(0x439)]][_0x6e521c(0x7b5)](_0x972e6e);}async[a0_0x569689(0x3e2)](_0xf5418e,_0xd5be3f){const _0x52096d=a0_0x569689;return await this[_0x52096d(0x232)][_0x52096d(0x7ab)][_0xf5418e[_0x52096d(0x439)]][_0x52096d(0x3e2)](_0xd5be3f);}async['groupDesc'](_0xc5ffe9,_0x367d20){const _0x22d46a=a0_0x569689;return await this[_0x22d46a(0x232)][_0x22d46a(0x7ab)][_0xc5ffe9['instanceName']][_0x22d46a(0x6d2)](_0x367d20);}async[a0_0x569689(0x3d7)](_0x16e847,_0x287cad){const _0xa66b6f=a0_0x569689;return await this[_0xa66b6f(0x232)][_0xa66b6f(0x7ab)][_0x16e847[_0xa66b6f(0x439)]]['groupName'](_0x287cad);}async[a0_0x569689(0x2f1)](_0x1f1190,_0x256c68){const _0x73a2a8=a0_0x569689;return await this[_0x73a2a8(0x232)][_0x73a2a8(0x7ab)][_0x1f1190[_0x73a2a8(0x439)]][_0x73a2a8(0x2f1)](_0x256c68);}async[a0_0x569689(0x7a8)](_0xa6d8e9,_0x312798){const _0x5a11ba=a0_0x569689;return await this[_0x5a11ba(0x232)]['waInstances'][_0xa6d8e9[_0x5a11ba(0x439)]]['findGroup'](_0x312798);}async[a0_0x569689(0x652)](_0x57b0f4){const _0x27aa15=a0_0x569689;return await this[_0x27aa15(0x232)][_0x27aa15(0x7ab)][_0x57b0f4[_0x27aa15(0x439)]][_0x27aa15(0x652)]();}async[a0_0x569689(0x7bb)](_0x77504d,_0x2da22b){const _0x47d1d5=a0_0x569689;return await this[_0x47d1d5(0x232)]['waInstances'][_0x77504d['instanceName']][_0x47d1d5(0x7bb)](_0x2da22b);}async['joinGroup'](_0x196d9a,_0xabf6e2){const _0x4a11fe=a0_0x569689;return await this[_0x4a11fe(0x232)][_0x4a11fe(0x7ab)][_0x196d9a['instanceName']]['joinGroup'](_0xabf6e2);}async[a0_0x569689(0x74b)](_0x24c0c6,_0x49a2d3){const _0x6a7db5=a0_0x569689;return await this[_0x6a7db5(0x232)][_0x6a7db5(0x7ab)][_0x24c0c6[_0x6a7db5(0x439)]]['revokeInviteCode'](_0x49a2d3);}async[a0_0x569689(0x539)](_0x13a852,_0x155482){const _0x2b82c0=a0_0x569689;return await this['waMonitor'][_0x2b82c0(0x7ab)][_0x13a852[_0x2b82c0(0x439)]][_0x2b82c0(0x539)](_0x155482);}async[a0_0x569689(0x6ed)](_0x27c3bc,_0x4a8bc8){const _0x371ff2=a0_0x569689;return await this[_0x371ff2(0x232)]['waInstances'][_0x27c3bc[_0x371ff2(0x439)]][_0x371ff2(0x6a0)](_0x4a8bc8);}async[a0_0x569689(0x394)](_0x3cb19b,_0x58a695){const _0x42b2e8=a0_0x569689;return await this[_0x42b2e8(0x232)][_0x42b2e8(0x7ab)][_0x3cb19b[_0x42b2e8(0x439)]]['toggleEphemeral'](_0x58a695);}async[a0_0x569689(0x441)](_0x1373d3,_0x50c56e){const _0x28f58c=a0_0x569689;return await this[_0x28f58c(0x232)][_0x28f58c(0x7ab)][_0x1373d3[_0x28f58c(0x439)]]['leaveGroup'](_0x50c56e);}},Jt=class{constructor(_0x2fe326){const _0x44ce43=a0_0x569689;this[_0x44ce43(0x232)]=_0x2fe326;}['create'](_0x5da7db,_0x525843){const _0x5b4eeb=a0_0x569689;return this['waMonitor'][_0x5b4eeb(0x7ab)][_0x5da7db[_0x5b4eeb(0x439)]][_0x5b4eeb(0x4c9)](_0x525843);}async[a0_0x569689(0x3e0)](_0x26e164){const _0x37200e=a0_0x569689;try{return await this[_0x37200e(0x232)][_0x37200e(0x7ab)][_0x26e164[_0x37200e(0x439)]][_0x37200e(0x7ca)]();}catch{return{'enabled':null,'url':''};}}},Qd=new v(a0_0x569689(0x7af)),jt=class{constructor(_0x1ed1fc){const _0x585511=a0_0x569689;this[_0x585511(0x232)]=_0x1ed1fc;}async[a0_0x569689(0x509)](_0x2a3a52,_0x16867c){const _0x4d7fd4=a0_0x569689;return await this['waMonitor']['waInstances'][_0x2a3a52[_0x4d7fd4(0x439)]][_0x4d7fd4(0x509)](_0x16867c);}async[a0_0x569689(0x231)](_0x419ee2){const _0x26a24c=a0_0x569689;return await this[_0x26a24c(0x232)][_0x26a24c(0x7ab)][_0x419ee2[_0x26a24c(0x439)]][_0x26a24c(0x231)]();}async[a0_0x569689(0x268)](_0x510dc4){const _0x439708=a0_0x569689;return await this['waMonitor'][_0x439708(0x7ab)][_0x510dc4['instanceName']][_0x439708(0x268)]();}async[a0_0x569689(0x29d)](_0x268f01){const _0xad81a7=a0_0x569689;return await this[_0xad81a7(0x232)][_0xad81a7(0x7ab)][_0x268f01[_0xad81a7(0x439)]]['getAutomateSystem']();}async[a0_0x569689(0x556)](_0x245305,_0x4187db){const _0x27e602=a0_0x569689;return await this[_0x27e602(0x232)][_0x27e602(0x7ab)][_0x245305[_0x27e602(0x439)]][_0x27e602(0x556)](_0x4187db);}async[a0_0x569689(0x5ee)](_0x10b47f,_0xf90ea){const _0x38cb19=a0_0x569689;return await this[_0x38cb19(0x232)]['waInstances'][_0x10b47f[_0x38cb19(0x439)]][_0x38cb19(0x5ee)](_0xf90ea);}async[a0_0x569689(0x75f)](_0x5d4437,_0x37a3c8){const _0x586f61=a0_0x569689;return await this[_0x586f61(0x232)][_0x586f61(0x7ab)][_0x5d4437[_0x586f61(0x439)]][_0x586f61(0x75f)](_0x37a3c8);}async[a0_0x569689(0x5ac)](_0x5a73ec,_0x49e07f){const _0x3f468d=a0_0x569689;return await this[_0x3f468d(0x232)][_0x3f468d(0x7ab)][_0x5a73ec[_0x3f468d(0x439)]][_0x3f468d(0x5ac)](_0x49e07f);}async['getConversation'](_0x5f090f,_0x5ee36b){const _0x2340c=a0_0x569689;return await this['waMonitor']['waInstances'][_0x5f090f[_0x2340c(0x439)]]['getConversation'](_0x5ee36b);}async[a0_0x569689(0x1fc)](_0x4d3eef,_0x5797f7){const _0x3d6970=a0_0x569689;return await this[_0x3d6970(0x232)][_0x3d6970(0x7ab)][_0x4d3eef['instanceName']][_0x3d6970(0x1fc)](_0x5797f7);}async['editConversation'](_0x3a6b34,_0x1152e1){const _0x22b6fd=a0_0x569689;return await this[_0x22b6fd(0x232)][_0x22b6fd(0x7ab)][_0x3a6b34['instanceName']][_0x22b6fd(0x29c)](_0x1152e1);}async[a0_0x569689(0x3d3)](_0x9176fa,_0x5cbc26){const _0xe53ea6=a0_0x569689;return await this[_0xe53ea6(0x232)][_0xe53ea6(0x7ab)][_0x9176fa[_0xe53ea6(0x439)]][_0xe53ea6(0x3d3)](_0x5cbc26);}async[a0_0x569689(0x339)](_0x4f417b,_0x52f011){const _0x3237c4=a0_0x569689;return await this[_0x3237c4(0x232)][_0x3237c4(0x7ab)][_0x4f417b[_0x3237c4(0x439)]][_0x3237c4(0x339)](_0x52f011[_0x3237c4(0x222)]);}async[a0_0x569689(0x782)](_0x33d611,_0x5dd233){const _0xa4fb25=a0_0x569689;return await this[_0xa4fb25(0x232)][_0xa4fb25(0x7ab)][_0x33d611['instanceName']][_0xa4fb25(0x782)](_0x5dd233);}async['editFlow'](_0x410da1,_0x497bcb){const _0x123464=a0_0x569689;return await this[_0x123464(0x232)][_0x123464(0x7ab)][_0x410da1[_0x123464(0x439)]][_0x123464(0x1e2)](_0x497bcb);}async[a0_0x569689(0x492)](_0x97b061,_0x51a721){const _0x4c2d58=a0_0x569689;return await this[_0x4c2d58(0x232)][_0x4c2d58(0x7ab)][_0x97b061[_0x4c2d58(0x439)]][_0x4c2d58(0x492)](_0x51a721);}async['editFlowReply'](_0x235d07,_0x5da26c){const _0x28f88b=a0_0x569689;return await this[_0x28f88b(0x232)][_0x28f88b(0x7ab)][_0x235d07[_0x28f88b(0x439)]][_0x28f88b(0x42a)](_0x5da26c);}async[a0_0x569689(0x46f)](_0x312c94,_0x183ce7){const _0x531150=a0_0x569689;return await this[_0x531150(0x232)][_0x531150(0x7ab)][_0x312c94[_0x531150(0x439)]][_0x531150(0x46f)](_0x183ce7);}async[a0_0x569689(0x690)](_0x22a138,_0x3abb27){const _0x5f18a9=a0_0x569689;return await this['waMonitor'][_0x5f18a9(0x7ab)][_0x22a138['instanceName']][_0x5f18a9(0x690)](_0x3abb27);}async[a0_0x569689(0x5e7)](_0x30f5f0,_0x334d4e){const _0x1b516d=a0_0x569689;return await this['waMonitor']['waInstances'][_0x30f5f0[_0x1b516d(0x439)]][_0x1b516d(0x5e7)](_0x334d4e);}async[a0_0x569689(0x590)](_0x3b6ca5,_0x302312){const _0x11a64c=a0_0x569689;return await this[_0x11a64c(0x232)][_0x11a64c(0x7ab)][_0x3b6ca5[_0x11a64c(0x439)]]['editFlowVariable'](_0x302312);}async[a0_0x569689(0x762)](_0x3f4205,_0x15ddce){const _0x269b84=a0_0x569689;return await this[_0x269b84(0x232)][_0x269b84(0x7ab)][_0x3f4205[_0x269b84(0x439)]][_0x269b84(0x762)](_0x15ddce[_0x269b84(0x222)]);}async[a0_0x569689(0x423)](_0x5b20cd){const _0x588751=a0_0x569689;return await this[_0x588751(0x232)][_0x588751(0x7ab)][_0x5b20cd['instanceName']][_0x588751(0x423)]();}},qt=class{constructor(_0x4d3fa7){const _0x27d6b7=a0_0x569689;this[_0x27d6b7(0x4f0)]=_0x4d3fa7;}async['createWebhook'](_0x3c47f0,_0x66d879){const _0x2ad587=a0_0x569689;return this['webhookService'][_0x2ad587(0x5c4)](_0x3c47f0,_0x66d879);}async['findWebhook'](_0x3357ee){return this['webhookService']['find'](_0x3357ee);}},Vt=class extends I{constructor(_0x4f10f6,_0xcc69b4){const _0xf53ae5=a0_0x569689;super(_0xcc69b4),this[_0xf53ae5(0x53d)]=_0x4f10f6,this[_0xf53ae5(0x555)]=_0xcc69b4;}async[a0_0x569689(0x5c4)](_0x9a3770,_0x209aeb){const _0x4b0875=a0_0x569689;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this[_0x4b0875(0x53d)]['replaceOne']({'_id':_0x209aeb},{..._0x9a3770},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x3ac988){return _0x3ac988;}}async[a0_0x569689(0x5df)](_0x17ba53){const _0x47ea7d=a0_0x569689;try{if(this[_0x47ea7d(0x6a9)]['ENABLED']){await this[_0x47ea7d(0x53d)]['deleteOne']({'_id':_0x17ba53});return;}}catch(_0xec6b83){return{'error':_0xec6b83};}}async[a0_0x569689(0x3e0)](_0x12c70e){const _0x3291f4=a0_0x569689;try{if(this['dbSettings'][_0x3291f4(0x23d)])return await this[_0x3291f4(0x53d)]['findOne']({'_id':_0x12c70e});}catch{return{};}}},Bt=class extends I{constructor(_0x12f479,_0x3392cd){const _0x2d75b3=a0_0x569689;super(_0x3392cd),this[_0x2d75b3(0x27d)]=_0x12f479,this[_0x2d75b3(0x555)]=_0x3392cd,this[_0x2d75b3(0x1a1)]=_0x3392cd[_0x2d75b3(0x5de)](_0x2d75b3(0x405));}async[a0_0x569689(0x5c4)](_0x53a043,_0x192fe8){const _0x52d73e=a0_0x569689;try{if(this['dbSettings'][_0x52d73e(0x23d)])return{'insertCount':(await this[_0x52d73e(0x27d)][_0x52d73e(0x616)]({'_id':_0x192fe8},{'$set':{..._0x53a043}},{'upsert':!0x0}))[_0x52d73e(0x5bc)]};}catch(_0x37509d){return{'error':_0x37509d};}}async[a0_0x569689(0x723)](_0x5a65ed,_0x582cdc){const _0x4dcf3a=a0_0x569689;try{if(this[_0x4dcf3a(0x6a9)][_0x4dcf3a(0x23d)])return{'insertCount':(await this[_0x4dcf3a(0x27d)][_0x4dcf3a(0x38a)](_0x5a65ed,{'$set':_0x582cdc},{'upsert':!0x1}))[_0x4dcf3a(0x5bc)]};throw new Error(_0x4dcf3a(0x56f));}catch(_0x3fccec){return{'error':_0x3fccec};}}async[a0_0x569689(0x522)](_0x3275a0){const _0xf6fbf6=a0_0x569689;try{if(this[_0xf6fbf6(0x6a9)][_0xf6fbf6(0x23d)])return{'insertCount':(await this['authModel'][_0xf6fbf6(0x522)](_0x3275a0))[_0xf6fbf6(0x3df)]};throw new Error(_0xf6fbf6(0x56f));}catch(_0x29e6d2){return{'error':_0x29e6d2};}}async['delete'](_0x4b067d){const _0x6f78e9=a0_0x569689;try{if(this[_0x6f78e9(0x6a9)][_0x6f78e9(0x23d)]){await this[_0x6f78e9(0x27d)][_0x6f78e9(0x217)]({'_id':_0x4b067d});return;}}catch(_0x83cd89){return{'error':_0x83cd89};}}async['find'](_0x44fcda){const _0x44c3ac=a0_0x569689;try{if(this[_0x44c3ac(0x6a9)][_0x44c3ac(0x23d)])return await this['authModel'][_0x44c3ac(0x471)]({'_id':_0x44fcda});}catch{return{};}}async[a0_0x569689(0x30a)](){const _0x36a754=a0_0x569689;try{if(this[_0x36a754(0x6a9)]['ENABLED'])return await this[_0x36a754(0x27d)][_0x36a754(0x3e0)]();}catch{return[];}}},Gt=class extends I{[a0_0x569689(0x3b0)](_0x2a0da1){return ta(_0x2a0da1);}async['copyDataToNewModel'](_0x5cf556){const _0x28e4b8=a0_0x569689;try{let _0x1405b0=sa,_0x2ed7b7=this['getFlowModelForOwner'](_0x5cf556),_0x285e49=await _0x1405b0['find']({'owner':_0x5cf556})['lean'](),_0x3e124f=[],_0x53d449=[];for(let _0x43dd1f of _0x285e49)await _0x2ed7b7['findById'](_0x43dd1f[_0x28e4b8(0x301)])['lean']()||(_0x3e124f['push'](_0x43dd1f),_0x53d449[_0x28e4b8(0x392)](_0x43dd1f[_0x28e4b8(0x301)]));return _0x3e124f[_0x28e4b8(0x63c)]>0x0&&await _0x2ed7b7[_0x28e4b8(0x7b0)](_0x3e124f,{'ordered':!0x1}),{'success':!0x0};}catch(_0x498f30){return console[_0x28e4b8(0x393)](_0x28e4b8(0x1a8),_0x498f30),{'success':!0x1,'error':_0x498f30};}}async[a0_0x569689(0x5df)](_0x5c686c,_0xca065a){const _0x4cbf11=a0_0x569689;try{let _0x37dc30=this['getFlowModelForOwner'](_0xca065a),_0xa42be8=A(_0x5c686c[_0x4cbf11(0x592)]);return{'deletedCount':(await _0x37dc30[_0x4cbf11(0x522)](_0xa42be8))[_0x4cbf11(0x3df)]};}catch(_0x22890b){return{'error':_0x22890b?.[_0x4cbf11(0x6be)]()};}}async[a0_0x569689(0x217)](_0x3e8f53,_0x103ef6){const _0x5d65d1=a0_0x569689;try{let _0x6a8845=this[_0x5d65d1(0x3b0)](_0x103ef6),_0x172a73=A(_0x3e8f53[_0x5d65d1(0x592)]);return{'deletedCount':(await _0x6a8845['deleteOne'](_0x172a73))['deletedCount']};}catch(_0x4978cc){return{'error':_0x4978cc?.['toString']()};}}async[a0_0x569689(0x616)](_0x4fc768,_0x446d27,_0x43b557){const _0x2d82cc=a0_0x569689;try{return await this[_0x2d82cc(0x3b0)](_0x43b557)[_0x2d82cc(0x792)](_0x4fc768,_0x446d27,{'new':!0x0});}catch(_0x48ed1f){return console[_0x2d82cc(0x393)](_0x2d82cc(0x374),_0x48ed1f),null;}}async[a0_0x569689(0x692)](_0x25082e,_0xb19b60){const _0xd8ea91=a0_0x569689;try{let _0x5cd640=this[_0xd8ea91(0x3b0)](_0xb19b60);return await new _0x5cd640(_0x25082e)[_0xd8ea91(0x67b)]();}catch(_0x76fb8d){return console[_0xd8ea91(0x393)](_0xd8ea91(0x6b6),_0x76fb8d),null;}}async['updateMany'](_0x10236f,_0x5bfd3e,_0x1c82db){const _0x3c3ea2=a0_0x569689;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x1c82db)[_0x3c3ea2(0x38a)](_0x10236f,{'$set':_0x5bfd3e}))[_0x3c3ea2(0x5bc)]};}catch(_0x3366e7){return console[_0x3c3ea2(0x393)](_0x3c3ea2(0x350),_0x3366e7),{'error':_0x3366e7};}}async[a0_0x569689(0x30a)](_0x42578d,_0x4ee639){const _0x3f433a=a0_0x569689;try{let _0x488d7c=this[_0x3f433a(0x3b0)](_0x4ee639),_0x4006f2=A(_0x42578d[_0x3f433a(0x592)]);return await _0x488d7c[_0x3f433a(0x3e0)](_0x4006f2)[_0x3f433a(0x5f6)](_0x42578d?.[_0x3f433a(0x5f6)]??0x0)[_0x3f433a(0x1a3)]();}catch{return[];}}async['findOne'](_0x2e34c4,_0x1ab008){const _0x492951=a0_0x569689;try{let _0x23def2=this['getFlowModelForOwner'](_0x1ab008),_0x437aa2=A(_0x2e34c4['where']);return await _0x23def2[_0x492951(0x471)](_0x437aa2)[_0x492951(0x1a3)]();}catch{return null;}}async[a0_0x569689(0x6a3)](_0x5c1a23){const _0x3ed972=a0_0x569689;try{return await this[_0x3ed972(0x3b0)](_0x5c1a23)[_0x3ed972(0x6f5)]['drop'](),{'success':!0x0};}catch(_0x1c56c7){return console['error'](_0x1c56c7),{'success':!0x1,'error':_0x1c56c7};}}},Wt=class extends I{[a0_0x569689(0x3d0)](_0x15965e){return ra(_0x15965e);}async[a0_0x569689(0x373)](_0x538f74){const _0x33c6cf=a0_0x569689;try{let _0x4a49f8=oa,_0x4ac71b=this[_0x33c6cf(0x3d0)](_0x538f74),_0x199898=await _0x4a49f8['find']({'owner':_0x538f74})[_0x33c6cf(0x1a3)](),_0x91b701=[],_0x288f32=[];for(let _0x238c30 of _0x199898)await _0x4ac71b['findById'](_0x238c30['_id'])['lean']()||(_0x91b701[_0x33c6cf(0x392)](_0x238c30),_0x288f32[_0x33c6cf(0x392)](_0x238c30[_0x33c6cf(0x301)]));return _0x91b701['length']>0x0&&await _0x4ac71b['insertMany'](_0x91b701,{'ordered':!0x1}),{'success':!0x0};}catch(_0x51b7fe){return console[_0x33c6cf(0x393)]('Erro\x20ao\x20copiar\x20dados:',_0x51b7fe),{'success':!0x1,'error':_0x51b7fe};}}async[a0_0x569689(0x4fa)](_0x526518){const _0x44e06f=a0_0x569689;if(_0x526518[_0x44e06f(0x63c)]!==0x0)try{return{'insertCount':(await this[_0x44e06f(0x3d0)](_0x526518[0x0][_0x44e06f(0x795)])['insertMany']([..._0x526518]))[_0x44e06f(0x63c)]};}catch(_0x138ee3){return _0x138ee3;}}async[a0_0x569689(0x5df)](_0x58a503,_0x31b174){const _0x2b3ee1=a0_0x569689;try{let _0x1376e0=this[_0x2b3ee1(0x3d0)](_0x31b174),_0x2a96fe=A(_0x58a503['where']);return{'deletedCount':(await _0x1376e0[_0x2b3ee1(0x522)](_0x2a96fe))[_0x2b3ee1(0x3df)]};}catch(_0x2bd20b){return{'error':_0x2bd20b?.['toString']()};}}async[a0_0x569689(0x217)](_0xf6cef4,_0x3f41a9){const _0x38e100=a0_0x569689;try{let _0x48fad0=this[_0x38e100(0x3d0)](_0x3f41a9),_0x1fe160=A(_0xf6cef4[_0x38e100(0x592)]);return{'deletedCount':(await _0x48fad0[_0x38e100(0x217)](_0x1fe160))['deletedCount']};}catch(_0x1a9044){return{'error':_0x1a9044?.[_0x38e100(0x6be)]()};}}async[a0_0x569689(0x1cd)](_0x3d41db,_0x38ea4f){const _0x3d21e0=a0_0x569689;try{if(_0x3d41db['length']===0x0)return;let _0x1643f4=this[_0x3d21e0(0x3d0)](_0x38ea4f),_0x162fd3=_0x3d41db['map'](_0x56897b=>({'updateOne':{'filter':{'name':_0x56897b[_0x3d21e0(0x222)],'owner':_0x38ea4f},'update':{..._0x56897b}}})),{modifiedCount:_0x48d8ee}=await _0x1643f4[_0x3d21e0(0x29e)](_0x162fd3);return{'insertCount':_0x48d8ee};}catch{return;}}async['updateMany'](_0x27bb13,_0x791f68,_0x3ec939){const _0x55e4b7=a0_0x569689;try{return{'modifiedCount':(await this[_0x55e4b7(0x3d0)](_0x3ec939)['updateMany'](_0x27bb13,{'$set':_0x791f68}))[_0x55e4b7(0x5bc)]};}catch(_0x4d1f9d){return console[_0x55e4b7(0x393)](_0x55e4b7(0x763),_0x4d1f9d),{'error':_0x4d1f9d};}}async[a0_0x569689(0x616)](_0x2f8cf9,_0x14d83f,_0x35caa1){const _0x2668a1=a0_0x569689;try{return await this[_0x2668a1(0x3d0)](_0x35caa1)[_0x2668a1(0x657)]({'_id':_0x2f8cf9},{'$set':_0x14d83f},{'new':!0x0,'upsert':!0x0})[_0x2668a1(0x1a3)]();}catch(_0x56495f){return console[_0x2668a1(0x393)](_0x56495f),null;}}async[a0_0x569689(0x3e0)](_0x3f2ced,_0x15f25e){const _0x105fac=a0_0x569689;try{return await this[_0x105fac(0x3d0)](_0x15f25e)['find'](_0x3f2ced)[_0x105fac(0x40c)]({'lastInteraction':-0x1})[_0x105fac(0x1a3)]();}catch{return[];}}async['findOne'](_0x412c91,_0x5254e1){const _0x45dfd2=a0_0x569689;try{return await this[_0x45dfd2(0x3d0)](_0x5254e1)[_0x45dfd2(0x471)]({..._0x412c91['where']})[_0x45dfd2(0x1a3)]();}catch{return null;}}async['deleteAll'](_0x135787){const _0x298554=a0_0x569689;try{return await this[_0x298554(0x3d0)](_0x135787)[_0x298554(0x6f5)][_0x298554(0x481)](),{'success':!0x0};}catch(_0x403f69){return console[_0x298554(0x393)](_0x403f69),{'success':!0x1,'error':_0x403f69};}}},zt=class extends I{[a0_0x569689(0x558)](_0x10193d){return na(_0x10193d);}async[a0_0x569689(0x373)](_0x2eb0d1){const _0x2c56d8=a0_0x569689;try{let _0x5cfc5c=ca,_0x4b5814=this['getScheduleMessageModelForOwner'](_0x2eb0d1),_0xbb47b8=await _0x5cfc5c[_0x2c56d8(0x3e0)]({'owner':_0x2eb0d1})['lean'](),_0x5145e6=[],_0x13f336=[];for(let _0x34ca47 of _0xbb47b8)await _0x4b5814[_0x2c56d8(0x49f)](_0x34ca47['_id'])[_0x2c56d8(0x1a3)]()||(_0x5145e6['push'](_0x34ca47),_0x13f336[_0x2c56d8(0x392)](_0x34ca47[_0x2c56d8(0x301)]));return _0x5145e6[_0x2c56d8(0x63c)]>0x0&&await _0x4b5814[_0x2c56d8(0x7b0)](_0x5145e6,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1c02cc){return console[_0x2c56d8(0x393)](_0x2c56d8(0x1a8),_0x1c02cc),{'success':!0x1,'error':_0x1c02cc};}}async[a0_0x569689(0x692)](_0x658553,_0x238d74){const _0x58ca82=a0_0x569689;try{let _0x36d401=this[_0x58ca82(0x558)](_0x238d74);return await new _0x36d401(_0x658553)[_0x58ca82(0x67b)]();}catch(_0x36530a){return console['error'](_0x58ca82(0x6b6),_0x36530a),null;}}async[a0_0x569689(0x217)](_0xf01bf4,_0x3dc374){const _0x3290b=a0_0x569689;try{return await this[_0x3290b(0x558)](_0x3dc374)[_0x3290b(0x401)](_0xf01bf4),{};}catch(_0x686f37){return{'error':_0x686f37?.[_0x3290b(0x6be)]()};}}async[a0_0x569689(0x616)](_0x2d5f68,_0x28a7fd,_0x156336){const _0xcb5e50=a0_0x569689;try{return await this[_0xcb5e50(0x558)](_0x156336)[_0xcb5e50(0x657)](_0x2d5f68,{'$set':_0x28a7fd},{'new':!0x0})[_0xcb5e50(0x1a3)]();}catch(_0x4f9757){return console[_0xcb5e50(0x393)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x4f9757),null;}}async['updateOneById'](_0x26e11f,_0x42d736,_0x4b668d){const _0x306292=a0_0x569689;try{return await this['getScheduleMessageModelForOwner'](_0x4b668d)['findByIdAndUpdate'](_0x26e11f,_0x42d736,{'new':!0x0})[_0x306292(0x1a3)]();}catch(_0x58e0f3){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x58e0f3),null;}}async[a0_0x569689(0x3e0)](_0x440e61,_0x4dbd59){const _0x29b4e2=a0_0x569689;try{return await this[_0x29b4e2(0x558)](_0x4dbd59)['find'](_0x440e61[_0x29b4e2(0x592)])[_0x29b4e2(0x5f6)](_0x440e61?.[_0x29b4e2(0x5f6)]??0x0)[_0x29b4e2(0x40c)]({'when':0x1})[_0x29b4e2(0x1a3)]();}catch{return[];}}async[a0_0x569689(0x471)](_0x3477ff,_0x352881){const _0x326668=a0_0x569689;try{return await this[_0x326668(0x558)](_0x352881)[_0x326668(0x471)](_0x3477ff['where'])[_0x326668(0x40c)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x569689(0x49f)](_0x57f8c9,_0x54c000){const _0x5ed320=a0_0x569689;try{return await this[_0x5ed320(0x558)](_0x54c000)[_0x5ed320(0x49f)](_0x57f8c9)[_0x5ed320(0x1a3)]();}catch{return null;}}async[a0_0x569689(0x522)](_0x47034f,_0xc6a225){const _0x13f682=a0_0x569689;try{return{'deletedCount':(await this[_0x13f682(0x558)](_0xc6a225)[_0x13f682(0x522)](_0x47034f))['deletedCount']};}catch(_0x12ab44){return console[_0x13f682(0x393)](_0x13f682(0x3fe),_0x12ab44),{'error':_0x12ab44};}}async[a0_0x569689(0x6a3)](_0x35175e){const _0x46c241=a0_0x569689;try{return await this[_0x46c241(0x558)](_0x35175e)[_0x46c241(0x6f5)][_0x46c241(0x481)](),{'success':!0x0};}catch(_0x4216ac){return console[_0x46c241(0x393)](_0x4216ac),{'success':!0x1,'error':_0x4216ac};}}},Ht=class extends I{async[a0_0x569689(0x1cd)](_0x2d0f9b,_0x5739c2){const _0x7c7361=a0_0x569689;try{if(this[_0x7c7361(0x6a9)][_0x7c7361(0x23d)]){let _0x248a9b=await Pe[_0x7c7361(0x657)]({'_id':_0x5739c2},{'$set':_0x2d0f9b},{'new':!0x0});return console[_0x7c7361(0x513)](_0x7c7361(0x591),_0x248a9b),_0x248a9b;}}catch(_0x549506){throw console[_0x7c7361(0x393)](_0x7c7361(0x71c),_0x549506),_0x549506;}}async[a0_0x569689(0x6b7)](_0x59e33d){const _0x52040e=a0_0x569689;try{let _0x2ad635=await Pe[_0x52040e(0x49f)](_0x59e33d);return _0x2ad635||(_0x2ad635=new Pe({'_id':_0x59e33d}),await _0x2ad635['save']()),_0x2ad635;}catch(_0x4f6ece){return console[_0x52040e(0x393)](_0x52040e(0x531),_0x4f6ece),null;}}},wo=new v(a0_0x569689(0x6ae)),bo=new Le(b),So=new _t(b),Eo=new Qe(b),Mo=new Vt(Qs,b),Co=new Bt(zs,b),vo=new Gt(b),No=new Pt(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),ce=new $e(bo,So,Eo,Mo,Co,vo,Ro,No,To,Ao,N?.['getClient']()),B=new xt(Zt,b,ce),Oo=new Ft(b,B,ce),Io=new Jt(B),ps=new qt(Io),T=new jt(B),re=new kt(B,b,ce,Zt,Oo),G=new Lt(B),D=new $t(B),J=new Ut(B);wo[a0_0x569689(0x76a)](a0_0x569689(0x4bc));var pg=require(a0_0x569689(0x2f3)),Rs=require('fs'),Mr=R(require(a0_0x569689(0x665))),Cr=R(require(a0_0x569689(0x66b))),Ce=class c{static #e;static set[a0_0x569689(0x2d4)](_0x207128){this.#e=_0x207128;}static get[a0_0x569689(0x665)](){const _0x58818c=a0_0x569689;let {FULLCHAIN:_0x59c017,PRIVKEY:_0x19df32}=b[_0x58818c(0x5de)]('SSL_CONF');return Mr[_0x58818c(0x769)]({'cert':(0x0,Rs[_0x58818c(0x7a5)])(_0x59c017),'key':(0x0,Rs[_0x58818c(0x7a5)])(_0x19df32)},c.#e);}static get['http'](){const _0x65886b=a0_0x569689;return Cr[_0x65886b(0x769)](c.#e);}},ue=R(require('fs')),Or=R(require(a0_0x569689(0x1cf))),ve=R(require(a0_0x569689(0x56c))),Re=R(require(a0_0x569689(0x4a3))),Te=require(a0_0x569689(0x673));function Do(){const _0x3c7885=a0_0x569689;B[_0x3c7885(0x797)]();let _0x3f664d=Re[_0x3c7885(0x29a)]['join'](__dirname,'downloads');Ar(_0x3f664d);}var Ar=_0xba9037=>{const _0xba92e6=a0_0x569689;let _0x7e8200=ue[_0xba92e6(0x29a)][_0xba92e6(0x5ae)](_0xba9037),_0x3232a1=0xc*0x3c*0x3c*0x3e8,_0x45093f=0x2*0x3c*0x3c*0x3e8,_0xbce1c=new Date()[_0xba92e6(0x593)]();_0x7e8200[_0xba92e6(0x6b4)](_0x5385ff=>{const _0x183a6a=_0xba92e6;let _0x440be4=Re[_0x183a6a(0x29a)][_0x183a6a(0x1ee)](_0xba9037,_0x5385ff),_0x60cbc5=ue[_0x183a6a(0x29a)][_0x183a6a(0x52a)](_0x440be4)[_0x183a6a(0x34e)][_0x183a6a(0x593)]();_0xbce1c-_0x60cbc5>_0x3232a1&&(ue['default'][_0x183a6a(0x4d9)](_0x440be4),console['log'](_0x183a6a(0x498)+_0x5385ff));}),setTimeout(()=>Ar(_0xba9037),_0x45093f);};function xo(){const _0x41deb4=a0_0x569689;let _0x370fec=new v(_0x41deb4(0x433)),_0x773d5=(0x0,de[_0x41deb4(0x29a)])();_0x773d5[_0x41deb4(0x698)]((0x0,Tr[_0x41deb4(0x29a)])({'origin'(_0xf4eaff,_0x29646b){const _0x31dc2c=_0x41deb4;let {ORIGIN:_0x5d3779}=b[_0x31dc2c(0x5de)](_0x31dc2c(0x68d));return _0xf4eaff||(_0xf4eaff='*'),_0x5d3779[_0x31dc2c(0x6cf)]('*')!==-0x1||_0x5d3779[_0x31dc2c(0x6cf)](_0xf4eaff)!==-0x1?_0x29646b(null,!0x0):_0x29646b(new Error(_0x31dc2c(0x691)));},'methods':[...b[_0x41deb4(0x5de)](_0x41deb4(0x68d))[_0x41deb4(0x35e)]],'credentials':b[_0x41deb4(0x5de)](_0x41deb4(0x68d))[_0x41deb4(0x482)]}),(0x0,de['urlencoded'])({'extended':!0x0,'limit':'50mb'}),(0x0,de[_0x41deb4(0x3fc)])({'limit':_0x41deb4(0x748)})),_0x773d5[_0x41deb4(0x698)]((_0x1fb407,_0x2831d5,_0x30006a)=>{const _0x4937f4=_0x41deb4;_0x1fb407[_0x4937f4(0x4a3)]['startsWith'](_0x4937f4(0x687))?_0x30006a():(0x0,Rr[_0x4937f4(0x29a)])()(_0x1fb407,_0x2831d5,_0x30006a);}),_0x773d5[_0x41deb4(0x764)]('view\x20engine',_0x41deb4(0x1ac)),_0x773d5[_0x41deb4(0x764)](_0x41deb4(0x2e9),(0x0,As[_0x41deb4(0x1ee)])(ae,_0x41deb4(0x2e9))),_0x773d5[_0x41deb4(0x698)](de[_0x41deb4(0x29a)][_0x41deb4(0x6f7)]((0x0,As[_0x41deb4(0x1ee)])(ae,'public'))),_0x773d5[_0x41deb4(0x698)]((_0x15bd78,_0x4886e5,_0x185aa9)=>{const _0x169252=_0x41deb4;let _0x8ea46a=_0x4886e5[_0x169252(0x2e7)];_0x4886e5[_0x169252(0x2e7)]=function(_0x484676){const _0x129467=_0x169252;if(_0x15bd78[_0x129467(0x7c6)][_0x129467(0x2ee)]===_0x129467(0x579)||_0x15bd78[_0x129467(0x2d3)][_0x129467(0x278)]===_0x129467(0x579)){let _0x1431b8=JSON[_0x129467(0x202)](_0x484676);_0x484676=JSON[_0x129467(0x28a)](_0x5d8894(_0x1431b8));}return _0x8ea46a[_0x129467(0x24f)](_0x4886e5,[_0x484676]);},_0x185aa9();}),_0x773d5[_0x41deb4(0x698)]('/',vt),_0x773d5[_0x41deb4(0x698)]((_0x1d22c6,_0x59095b,_0x249e7f,_0x234837)=>{const _0x9928fc=_0x41deb4;if(_0x1d22c6)return _0x249e7f['status'](_0x1d22c6[_0x9928fc(0x5d4)]||0x1f4)['json'](_0x1d22c6);},(_0x11cfc7,_0x5a3ac7,_0x3061d9)=>{const _0x4b4925=_0x41deb4;let {method:_0xaa09ce,url:_0x33d42f}=_0x11cfc7;_0x5a3ac7[_0x4b4925(0x5d4)](0x194)[_0x4b4925(0x3fc)]({'status':0x194,'message':_0x4b4925(0x77f)+_0xaa09ce[_0x4b4925(0x3c1)]()+'\x20'+_0x33d42f,'error':_0x4b4925(0x32a)}),_0x3061d9();});let _0x5d8894=(_0x50c76b,_0x2a035c='_p_')=>{const _0x2aa5b4=_0x41deb4;let _0x4bcb0b=(_0x5496d4,_0x2ee83c=null,_0x35f065=!0x1)=>{const _0x279112=a0_0x4dbe;let _0x2c8bd5={};return Object[_0x279112(0x77d)](_0x5496d4)[_0x279112(0x6b4)](_0x45987b=>{const _0x45faac=_0x279112;let _0x5556be=_0x5496d4[_0x45987b],_0x251bc8=''+_0x2a035c+_0x45987b;_0x2ee83c&&!_0x35f065&&(_0x251bc8=_0x2ee83c+'.'+_0x45987b),!_0x5556be&&_0x5556be!==0x0&&_0x5556be!==!0x1||typeof _0x5556be>'u'?_0x2c8bd5[_0x251bc8]=null:typeof _0x5556be!='object'&&!Array[_0x45faac(0x4ae)](_0x5556be)?_0x2c8bd5[_0x251bc8]=_0x5556be:typeof _0x5556be==_0x45faac(0x289)&&!Array[_0x45faac(0x4ae)](_0x5556be)?_0x2c8bd5=Object[_0x45faac(0x667)](_0x2c8bd5,_0x4bcb0b(_0x5556be,_0x251bc8)):Array[_0x45faac(0x4ae)](_0x5556be)&&(typeof _0x5556be[0x0]==_0x45faac(0x289)?(_0x2c8bd5[_0x251bc8]=[],_0x5556be[_0x45faac(0x6b4)](_0x1a72b9=>{_0x2c8bd5[_0x251bc8]['push'](_0x4bcb0b(_0x1a72b9,_0x251bc8,!0x0));})):_0x2c8bd5[_0x251bc8]=_0x5556be);}),_0x2c8bd5;};return Array['isArray'](_0x50c76b)?_0x50c76b[_0x2aa5b4(0x46c)](_0x189e02=>_0x4bcb0b(_0x189e02)):typeof _0x50c76b==_0x2aa5b4(0x289)&&_0x50c76b!==null?_0x4bcb0b(_0x50c76b):{};},_0x2bd919=b['get'](_0x41deb4(0x433));Ce['app']=_0x773d5;let _0xe2b92=Ce[_0x2bd919['TYPE']],_0x329183=_0x41deb4(0x218);_0xe2b92[_0x41deb4(0x7a0)](_0x2bd919[_0x41deb4(0x48b)],()=>{const _0x5d5b10=_0x41deb4;_0x370fec[_0x5d5b10(0x513)](_0x329183),_0x370fec[_0x5d5b10(0x513)](_0x2bd919[_0x5d5b10(0x31a)][_0x5d5b10(0x3c1)]()+_0x5d5b10(0x377)+_0x2bd919[_0x5d5b10(0x48b)]);}),Do(),Us();}var _o=a0_0x569689(0x53f),Po=Re['default'][a0_0x569689(0x1ee)](__dirname,a0_0x569689(0x399)),Ne=null;function $o(){return new Promise((_0x5515b0,_0x6427f5)=>{const _0x4e955f=a0_0x4dbe;ue[_0x4e955f(0x29a)]['readFile'](Po,_0x4e955f(0x633),(_0x26549b,_0x4cd3bb)=>{const _0x4b9bf8=_0x4e955f;if(_0x26549b){Ne=_0x26549b,_0x5515b0();return;}Or[_0x4b9bf8(0x29a)]['parse'](_0x4cd3bb)[_0x4b9bf8(0x682)]['url']===_o?(Ne=null,_0x5515b0()):(Ne=new Error(_0x4b9bf8(0x3d9)),_0x5515b0());});});}async function ko(){const _0x4bf116=a0_0x569689;try{await $o(),await Os();}catch(_0x4eb6bb){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x4eb6bb),process[_0x4bf116(0x503)](0x1);}}ko();async function Ir(){const _0x2cc83c=a0_0x569689;let _0x1be7ad;try{_0x1be7ad=(await ve['default']['get']('https://jsonip.com'))[_0x2cc83c(0x7ae)]['ip'];}catch(_0x1659aa){console[_0x2cc83c(0x393)](_0x1659aa);try{_0x1be7ad=(await ve[_0x2cc83c(0x29a)][_0x2cc83c(0x5de)]('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0x421eba){console[_0x2cc83c(0x393)](_0x421eba);try{_0x1be7ad=(await ve[_0x2cc83c(0x29a)][_0x2cc83c(0x5de)](_0x2cc83c(0x688)))[_0x2cc83c(0x7ae)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1e982c){return console['error'](_0x1e982c),!0x1;}}}return _0x1be7ad;}var vr=0x0;async function Lo(){const _0x560793=a0_0x569689;let _0x507467=await new oe(b['get'](_0x560793(0x1be)))['instanceKeys']();return console['log'](_0x560793(0x5ec),_0x507467[_0x560793(0x63c)]),_0x507467[_0x560793(0x63c)];}function Fo(_0x4eb19a){const _0x3a744a=a0_0x569689;let _0x2faabd=_0x4eb19a[_0x3a744a(0x5de)]('SERVER')[_0x3a744a(0x1ba)],_0x789493=_0x4eb19a[_0x3a744a(0x5de)]('SSL_CONF'),_0x3b6a34;if(_0x2faabd){let _0xa84d4d=_0x2faabd[_0x3a744a(0x4cf)](/\/\/(.*?)\./);_0xa84d4d&&_0xa84d4d[0x1]&&(_0x3b6a34=_0xa84d4d[0x1]);}if(!_0x3b6a34&&_0x789493&&_0x789493[_0x3a744a(0x4c7)]){let _0x38ff36=_0x789493[_0x3a744a(0x4c7)][_0x3a744a(0x348)]('/'),_0x4056c1=_0x38ff36[_0x38ff36[_0x3a744a(0x63c)]-0x2];if(_0x4056c1){let _0x21a286=_0x4056c1['split']('.');_0x21a286[_0x3a744a(0x63c)]>0x2&&(_0x3b6a34=_0x21a286[0x0]);}}return _0x3b6a34;}var Cs=Fo(b);async function Uo(){const _0x3d335a=a0_0x569689;let _0xd1cef=b['get'](_0x3d335a(0x1be)),_0x224c47=b[_0x3d335a(0x5de)](_0x3d335a(0x405))[_0x3d335a(0x711)]['KEY'],_0x2f8c10=b['get'](_0x3d335a(0x246)),_0x321205=await Ir(),_0x793c27=b[_0x3d335a(0x5de)]('SERVER')[_0x3d335a(0x48b)],_0x539b0b=b['get'](_0x3d335a(0x433))['URL'];try{let _0x593b88={'ip':_0x321205||null,'redis_enable':_0xd1cef?.[_0x3d335a(0x23d)]||null,'apikey':_0x224c47||null,'ssl':_0x2f8c10?.[_0x3d335a(0x235)]||null,'lastupdate':Dr||null,'port':_0x793c27||null,'gitInstallError':Ne?.['message']||null,'url':_0x539b0b||null};if(console[_0x3d335a(0x513)](_0x3d335a(0x4f5),_0x593b88['ip']),_0xd1cef&&_0xd1cef[_0x3d335a(0x23d)]){let _0x463b56=await Lo();_0x593b88[_0x3d335a(0x2d2)]=_0x463b56||null;}for(let _0x67d706 in _0x593b88)_0x593b88[_0x3d335a(0x281)](_0x67d706)&&_0x67d706!=='ip'&&(_0x593b88[_0x67d706]=JSON[_0x3d335a(0x28a)](_0x593b88[_0x67d706]));return(await ve[_0x3d335a(0x29a)][_0x3d335a(0x586)](_0x3d335a(0x624),_0x593b88))['data'];}catch(_0x4ac5aa){return console['error'](_0x4ac5aa),!0x1;}}var Ts=!0x1,Dr=0x21c,Jo=0x3,Nr=0x1b7740;async function Os(){const _0x5a8f8d=a0_0x569689;if(!await Ir())return console[_0x5a8f8d(0x393)](_0x5a8f8d(0x524)),'NO_IP';let _0x87e6b1=await Uo();if(_0x87e6b1){if(_0x87e6b1['response']['licenca']===!0x0){b[_0x5a8f8d(0x5de)](_0x5a8f8d(0x246))[_0x5a8f8d(0x235)][_0x5a8f8d(0x1f2)](_0x5a8f8d(0x5bd))&&_0x87e6b1[_0x5a8f8d(0x569)][_0x5a8f8d(0x4f2)]&&(await Vo(_0x87e6b1[_0x5a8f8d(0x569)][_0x5a8f8d(0x4f2)],qo),await Bo(_0x5a8f8d(0x316),_0x87e6b1[_0x5a8f8d(0x569)][_0x5a8f8d(0x4f2)]),console[_0x5a8f8d(0x513)](_0x5a8f8d(0x2c7)),setTimeout(()=>Wo(),0x2710)),Ne===null&&_0x87e6b1[_0x5a8f8d(0x569)]['last_update']-Dr>0x0&&await jo(),Ts||(Ts=!0x0,xo());let _0x3653c0=0x24*0x3c*0x3c,_0x4b447e=_0x87e6b1[_0x5a8f8d(0x569)][_0x5a8f8d(0x5c7)]>_0x3653c0?_0x3653c0:_0x87e6b1[_0x5a8f8d(0x569)][_0x5a8f8d(0x5c7)],_0x3854b5=Number(_0x4b447e);if(isNaN(_0x3854b5)){console[_0x5a8f8d(0x393)]('interval\x20não\x20é\x20um\x20número');return;}let _0x1f2210=Math[_0x5a8f8d(0x574)](_0x3854b5/0xe10),_0x528dda=Math['floor'](_0x3854b5%0xe10/0x3c),_0x7b2a75=new Date(Date[_0x5a8f8d(0x70c)]()+_0x3854b5*0x3e8);setTimeout(Os,_0x3854b5*0x3e8);let _0x5c7a41=_0x59d2f8=>_0x59d2f8[_0x5a8f8d(0x6be)]()[_0x5a8f8d(0x589)](0x2,'0'),_0x3ec23a=_0x5a8f8d(0x1c4)+_0x5c7a41(_0x1f2210)+_0x5a8f8d(0x6a7)+_0x5c7a41(_0x528dda)+_0x5a8f8d(0x1c0)+_0x5c7a41(_0x7b2a75[_0x5a8f8d(0x718)]())+':'+_0x5c7a41(_0x7b2a75[_0x5a8f8d(0x2f5)]())+'.';console[_0x5a8f8d(0x513)](_0x3ec23a);}else return console['log'](_0x5a8f8d(0x576)),Ts&&(console[_0x5a8f8d(0x513)](_0x5a8f8d(0x38d)),process[_0x5a8f8d(0x503)]()),_0x5a8f8d(0x310);}else{if(vr++,vr<Jo)console['log'](_0x5a8f8d(0x1bd)+Nr/0xea60+_0x5a8f8d(0x1e0)),setTimeout(Os,Nr);else return console[_0x5a8f8d(0x393)](_0x5a8f8d(0x709)),_0x5a8f8d(0x62a);}}async function jo(){const _0x4bf7bd=a0_0x569689;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x29f1ef=(0x0,Te[_0x4bf7bd(0x6df)])(_0x4bf7bd(0x31e),{'shell':!0x0});_0x29f1ef[_0x4bf7bd(0x720)]['on']('data',_0x396744=>{const _0x579f0b=_0x4bf7bd;console[_0x579f0b(0x513)](_0x579f0b(0x7b2)+_0x396744);}),_0x29f1ef[_0x4bf7bd(0x641)]['on'](_0x4bf7bd(0x7ae),_0x5e58ef=>{const _0x63dbc1=_0x4bf7bd;console[_0x63dbc1(0x393)](_0x63dbc1(0x6ff)+_0x5e58ef);}),_0x29f1ef['on'](_0x4bf7bd(0x503),_0x2d2217=>{const _0x40dcfc=_0x4bf7bd;_0x2d2217!==0x0?console[_0x40dcfc(0x393)](_0x40dcfc(0x33e)+_0x2d2217):console[_0x40dcfc(0x513)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x40dcfc(0x513)](_0x40dcfc(0x4a2)),setTimeout(()=>process[_0x40dcfc(0x503)](),0x2710);});}var qo=Re['default']['join'](__dirname,a0_0x569689(0x6e1));async function Vo(_0xcfa0ad,_0x276de2){const _0x23d943=a0_0x569689;let _0x3bc9ce=Go();_0xcfa0ad=_0xcfa0ad[_0x23d943(0x52b)](_0x23d943(0x62f),'');try{let _0x3de464=ue[_0x23d943(0x29a)]['readFileSync'](_0x276de2,'utf8');_0x3de464=_0x3de464[_0x23d943(0x52b)](/<apikey>/,_0x3bc9ce),_0x3de464=_0x3de464['replace'](/<subdomain>/g,_0xcfa0ad),ue[_0x23d943(0x29a)][_0x23d943(0x544)](_0x276de2,_0x3de464,_0x23d943(0x615)),console[_0x23d943(0x513)](_0x23d943(0x774));}catch(_0x286e74){console[_0x23d943(0x393)](_0x23d943(0x229),_0x286e74);}}function Bo(_0x230686,_0x482255){return new Promise((_0x6def47,_0x3efde2)=>{const _0x3a207a=a0_0x4dbe;let _0x3c216a=(0x0,Te[_0x3a207a(0x6df)])(_0x3a207a(0x757),['certonly',_0x3a207a(0x5fd),'-m',_0x230686,_0x3a207a(0x5b4),'-d',_0x482255]);_0x3c216a['stdout']['on']('data',_0x3ac803=>{const _0x2ffb65=_0x3a207a;console[_0x2ffb65(0x513)](_0x2ffb65(0x6f0)+_0x3ac803[_0x2ffb65(0x6be)]());}),_0x3c216a['stderr']['on'](_0x3a207a(0x7ae),_0x48eee8=>{console['error']('Erro\x20do\x20Certbot:\x20'+_0x48eee8['toString']());}),_0x3c216a['on'](_0x3a207a(0x59f),_0x1eeb59=>{const _0x3384e5=_0x3a207a;_0x1eeb59!==0x0?(console[_0x3384e5(0x393)](_0x3384e5(0x6f3)+_0x1eeb59),_0x3efde2(_0x3384e5(0x6f3)+_0x1eeb59)):(console[_0x3384e5(0x513)]('Certbot\x20executado\x20com\x20sucesso.'),_0x6def47());});});}function Go(_0x21ed13=0x32){const _0xba0622=a0_0x569689;let _0x22c397='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x53cdf4='';for(let _0x4f9c14=0x0;_0x4f9c14<_0x21ed13;_0x4f9c14++)_0x53cdf4+=_0x22c397[_0xba0622(0x54e)](Math[_0xba0622(0x574)](Math[_0xba0622(0x48c)]()*_0x22c397['length']));return _0x53cdf4;}function Wo(){const _0x3c149f=a0_0x569689;(0x0,Te[_0x3c149f(0x4aa)])(_0x3c149f(0x432),(_0x1ba6ee,_0x50c94f,_0x2462ed)=>{const _0xbf8d08=_0x3c149f;if(_0x1ba6ee){console[_0xbf8d08(0x393)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x1ba6ee);return;}if(_0x2462ed){console['error']('Erro\x20de\x20reinicialização:\x20'+_0x2462ed);return;}console[_0xbf8d08(0x513)](_0xbf8d08(0x1f8)+_0x50c94f);});}0x0&&(module['exports']={'subdomain':subdomain});