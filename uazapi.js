const a0_0x153f5d=a0_0x2486;(function(_0x54ece3,_0x6f8a06){const _0x15d76c=a0_0x2486,_0xd0475a=_0x54ece3();while(!![]){try{const _0x1e15c5=-parseInt(_0x15d76c(0x60e))/0x1+parseInt(_0x15d76c(0x220))/0x2+-parseInt(_0x15d76c(0x43b))/0x3*(parseInt(_0x15d76c(0x80c))/0x4)+-parseInt(_0x15d76c(0x488))/0x5+parseInt(_0x15d76c(0x661))/0x6+-parseInt(_0x15d76c(0x411))/0x7*(-parseInt(_0x15d76c(0x54d))/0x8)+parseInt(_0x15d76c(0x847))/0x9;if(_0x1e15c5===_0x6f8a06)break;else _0xd0475a['push'](_0xd0475a['shift']());}catch(_0x3c496a){_0xd0475a['push'](_0xd0475a['shift']());}}}(a0_0x7366,0x64f6e));var Pi=Object[a0_0x153f5d(0x6a8)],Fe=Object[a0_0x153f5d(0x246)],ki=Object['getOwnPropertyDescriptor'],ji=Object[a0_0x153f5d(0x7c2)],Li=Object['getPrototypeOf'],Fi=Object[a0_0x153f5d(0x61e)][a0_0x153f5d(0x515)],Ji=(_0x5c406c,_0x38915f)=>{for(var _0x53b25e in _0x38915f)Fe(_0x5c406c,_0x53b25e,{'get':_0x38915f[_0x53b25e],'enumerable':!0x0});},Fs=(_0x28edec,_0xdf03f2,_0x54b807,_0x50c738)=>{const _0x583c92=a0_0x153f5d;if(_0xdf03f2&&typeof _0xdf03f2=='object'||typeof _0xdf03f2==_0x583c92(0x323)){for(let _0x2b0c01 of ji(_0xdf03f2))!Fi['call'](_0x28edec,_0x2b0c01)&&_0x2b0c01!==_0x54b807&&Fe(_0x28edec,_0x2b0c01,{'get':()=>_0xdf03f2[_0x2b0c01],'enumerable':!(_0x50c738=ki(_0xdf03f2,_0x2b0c01))||_0x50c738[_0x583c92(0x42d)]});}return _0x28edec;},O=(_0x215a0b,_0x27d7d3,_0x41617e)=>(_0x41617e=_0x215a0b!=null?Pi(Li(_0x215a0b)):{},Fs(_0x27d7d3||!_0x215a0b||!_0x215a0b[a0_0x153f5d(0x7a6)]?Fe(_0x41617e,a0_0x153f5d(0x2b3),{'value':_0x215a0b,'enumerable':!0x0}):_0x41617e,_0x215a0b)),Ui=_0xf5dcf0=>Fs(Fe({},a0_0x153f5d(0x7a6),{'value':!0x0}),_0xf5dcf0),ar={};Ji(ar,{'subdomain':()=>xs}),module[a0_0x153f5d(0x88e)]=Ui(ar);var Ai=O(require(a0_0x153f5d(0x657))),Us=require('fs'),qs=require('js-yaml'),Vs=require(a0_0x153f5d(0x2d1)),Je=require(a0_0x153f5d(0x2d1)),re=process[a0_0x153f5d(0x430)](),me=(0x0,Je[a0_0x153f5d(0x658)])(re,a0_0x153f5d(0x718)),Js=(0x0,Je[a0_0x153f5d(0x658)])(re,'src'),Kr=(0x0,Je[a0_0x153f5d(0x658)])(re,a0_0x153f5d(0x2c3),a0_0x153f5d(0x38b)),rs=class{constructor(){this['loadEnv']();}['get'](_0x5d35a4){const _0x148fce=a0_0x153f5d;return this[_0x148fce(0x83a)][_0x5d35a4];}[a0_0x153f5d(0x227)](){const _0x162659=a0_0x153f5d;this['env']=process['env']?.['DOCKER_ENV']!=='true'?this[_0x162659(0x889)]():this[_0x162659(0x551)](),process[_0x162659(0x83a)]?.['DOCKER_ENV']===_0x162659(0x62e)&&(this[_0x162659(0x83a)][_0x162659(0x89b)][_0x162659(0x841)]=_0x162659(0x535),this[_0x162659(0x83a)][_0x162659(0x89b)][_0x162659(0x64a)]=Number['parseInt'](process[_0x162659(0x83a)]?.[_0x162659(0x328)]??_0x162659(0x7f2)));}[a0_0x153f5d(0x889)](){const _0x151467=a0_0x153f5d;return(0x0,qs['load'])((0x0,Us['readFileSync'])((0x0,Vs[_0x151467(0x658)])(Js,_0x151467(0x423)),{'encoding':_0x151467(0x34f)}));}[a0_0x153f5d(0x551)](){const _0x568225=a0_0x153f5d;return{'SERVER':{'TYPE':process[_0x568225(0x83a)][_0x568225(0x569)],'PORT':Number['parseInt'](process[_0x568225(0x83a)][_0x568225(0x328)]),'URL':process[_0x568225(0x83a)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x568225(0x83a)][_0x568225(0x6ee)]['split'](','),'METHODS':process[_0x568225(0x83a)][_0x568225(0x6e2)][_0x568225(0x701)](','),'CREDENTIALS':process[_0x568225(0x83a)]?.[_0x568225(0x837)]===_0x568225(0x62e)},'SSL_CONF':{'PRIVKEY':process[_0x568225(0x83a)]?.[_0x568225(0x7ee)],'FULLCHAIN':process[_0x568225(0x83a)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x568225(0x455)](process[_0x568225(0x83a)]?.[_0x568225(0x368)])?Number['parseInt'](process['env'][_0x568225(0x368)]):void 0x0,'MESSAGES':process['env']?.[_0x568225(0x890)]==='true','CONTACTS':process[_0x568225(0x83a)]?.['STORE_CONTACTS']===_0x568225(0x62e),'CHATS':process['env']?.[_0x568225(0x4ba)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x568225(0x83a)]?.[_0x568225(0x664)],'PORT':Number[_0x568225(0x6e5)](process[_0x568225(0x83a)]?.[_0x568225(0x664)]),'USER':process[_0x568225(0x83a)][_0x568225(0x40d)],'PASSWORD':process[_0x568225(0x83a)][_0x568225(0x416)],'URI':process[_0x568225(0x83a)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x568225(0x83a)][_0x568225(0x773)]},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0x568225(0x62e)},'REDIS':{'ENABLED':process[_0x568225(0x83a)]?.['REDIS_ENABLED']===_0x568225(0x62e),'URI':process[_0x568225(0x83a)][_0x568225(0x6e1)]||_0x568225(0x524),'PREFIX_KEY':process[_0x568225(0x83a)]['REDIS_PREFIX_KEY']||_0x568225(0x4f6)},'LOG':{'LEVEL':process[_0x568225(0x83a)]?.[_0x568225(0x28f)][_0x568225(0x701)](','),'COLOR':process[_0x568225(0x83a)]?.['LOG_COLOR']===_0x568225(0x62e)},'PROXY':Number[_0x568225(0x6e5)](process[_0x568225(0x83a)]?.[_0x568225(0x793)]),'AUTHENTICATION':{'TYPE':process[_0x568225(0x83a)][_0x568225(0x589)],'API_KEY':{'KEY':process[_0x568225(0x83a)][_0x568225(0x8a0)]},'JWT':{'EXPIRIN_IN':Number[_0x568225(0x455)](process[_0x568225(0x83a)]?.[_0x568225(0x3b3)])?Number['parseInt'](process[_0x568225(0x83a)][_0x568225(0x3b3)]):0xe10,'SECRET':process['env'][_0x568225(0x24a)]}}};}},S=new rs(),Oi=O(require('cors')),he=O(require(a0_0x153f5d(0x665))),js=require(a0_0x153f5d(0x2d1)),ns=O(require(a0_0x153f5d(0x466))),cs=(_0x23cdbe=>(_0x23cdbe['LOG']=a0_0x153f5d(0x38a),_0x23cdbe[a0_0x153f5d(0x7ac)]='\x1b[34m',_0x23cdbe['WARN']=a0_0x153f5d(0x7b0),_0x23cdbe['ERROR']=a0_0x153f5d(0x451),_0x23cdbe[a0_0x153f5d(0x208)]=a0_0x153f5d(0x857),_0x23cdbe[a0_0x153f5d(0x727)]=a0_0x153f5d(0x552),_0x23cdbe[a0_0x153f5d(0x619)]=a0_0x153f5d(0x7f8),_0x23cdbe))(cs||{}),Gs=(_0x563c0=>(_0x563c0['LOG']=a0_0x153f5d(0x251),_0x563c0[a0_0x153f5d(0x619)]=a0_0x153f5d(0x6d1),_0x563c0[a0_0x153f5d(0x7ac)]=a0_0x153f5d(0x4aa),_0x563c0[a0_0x153f5d(0x3fb)]=a0_0x153f5d(0x3e5),_0x563c0[a0_0x153f5d(0x758)]=a0_0x153f5d(0x73a),_0x563c0[a0_0x153f5d(0x208)]=a0_0x153f5d(0x2a8),_0x563c0[a0_0x153f5d(0x727)]=a0_0x153f5d(0x56e),_0x563c0))(Gs||{}),Bs=(_0x268408=>(_0x268408['LOG']=a0_0x153f5d(0x593),_0x268408['WARN']=a0_0x153f5d(0x3fb),_0x268408[a0_0x153f5d(0x7ac)]='INFO',_0x268408[a0_0x153f5d(0x619)]=a0_0x153f5d(0x619),_0x268408[a0_0x153f5d(0x758)]=a0_0x153f5d(0x758),_0x268408[a0_0x153f5d(0x208)]=a0_0x153f5d(0x208),_0x268408['VERBOSE']='VERBOSE',_0x268408))(Bs||{}),Ws=(_0x4c5040=>(_0x4c5040[a0_0x153f5d(0x593)]=a0_0x153f5d(0x5b3),_0x4c5040[a0_0x153f5d(0x7ac)]='\x1b[44m',_0x4c5040[a0_0x153f5d(0x3fb)]=a0_0x153f5d(0x849),_0x4c5040[a0_0x153f5d(0x619)]=a0_0x153f5d(0x540),_0x4c5040['ERROR']=a0_0x153f5d(0x74d),_0x4c5040['DEBUG']=a0_0x153f5d(0x669),_0x4c5040[a0_0x153f5d(0x727)]=a0_0x153f5d(0x50b),_0x4c5040))(Ws||{}),R=class{constructor(_0x35ef5f=a0_0x153f5d(0x2ef)){const _0x163dc6=a0_0x153f5d;this[_0x163dc6(0x237)]=_0x35ef5f,this['configService']=S;}[a0_0x153f5d(0x461)](_0x511dd0){this['context']=_0x511dd0;}[a0_0x153f5d(0x27c)](_0x1eb15a,_0x5f006b){const _0x5686a9=a0_0x153f5d;let _0x126db1=[];this[_0x5686a9(0x494)][_0x5686a9(0x4be)](_0x5686a9(0x593))[_0x5686a9(0x670)]['forEach'](_0x4f29ae=>_0x126db1[_0x5686a9(0x6f8)](Bs[_0x4f29ae]));let _0x17a5db=typeof _0x1eb15a;_0x126db1[_0x5686a9(0x424)](_0x5f006b)&&(S['get'](_0x5686a9(0x593))[_0x5686a9(0x66b)]?(console[_0x5686a9(0x554)]('\x1b[1m'+Gs[_0x5f006b],_0x5686a9(0x5c2),(0x0,ns[_0x5686a9(0x2b3)])()[_0x5686a9(0x5ac)](_0x5686a9(0x5a4)),_0x5686a9(0x262),cs[_0x5f006b]+Ws[_0x5f006b]+'\x1b[1m',_0x5f006b+_0x5686a9(0x784),_0x5686a9(0x1b8),this[_0x5686a9(0x237)]+'\x1b[0m',cs[_0x5f006b],_0x17a5db!==_0x5686a9(0x5dc)?_0x1eb15a:'',_0x5686a9(0x262)),_0x17a5db===_0x5686a9(0x5dc)&&console['log'](_0x1eb15a,'\x0a')):console[_0x5686a9(0x554)]((0x0,ns['default'])()[_0x5686a9(0x5ac)](_0x5686a9(0x6a1)),_0x5f006b+'\x20',''+this[_0x5686a9(0x237)],_0x1eb15a));}['log'](_0x3caed0){const _0x564229=a0_0x153f5d;this[_0x564229(0x27c)](_0x3caed0,_0x564229(0x593));}[a0_0x153f5d(0x4e8)](_0x6f8a63){const _0x4a53f8=a0_0x153f5d;this[_0x4a53f8(0x27c)](_0x6f8a63,'INFO');}[a0_0x153f5d(0x557)](_0x50f9a4){const _0x6688d2=a0_0x153f5d;this[_0x6688d2(0x27c)](_0x50f9a4,_0x6688d2(0x3fb));}[a0_0x153f5d(0x617)](_0x21d103){const _0x6550a6=a0_0x153f5d;this['console'](_0x21d103,_0x6550a6(0x758));}[a0_0x153f5d(0x6cf)](_0x1c643f){const _0x177742=a0_0x153f5d;this[_0x177742(0x27c)](_0x1c643f,_0x177742(0x727));}[a0_0x153f5d(0x58d)](_0x5b0506){const _0xbf703f=a0_0x153f5d;this[_0xbf703f(0x27c)](_0x5b0506,'DEBUG');}['dark'](_0x45190d){const _0x1f0bde=a0_0x153f5d;this[_0x1f0bde(0x27c)](_0x45190d,_0x1f0bde(0x619));}};function zs(){const _0x174ef3=a0_0x153f5d;process['on'](_0x174ef3(0x531),(_0x56339f,_0x449607)=>{const _0x571379=_0x174ef3;new R('uncaughtException')['error']({'origin':_0x449607,'stderr':process[_0x571379(0x67e)]['fd'],'error':_0x56339f});}),process['on'](_0x174ef3(0x44d),(_0x19e555,_0x1b0384)=>{const _0x28b76b=_0x174ef3;new R(_0x28b76b(0x44d))[_0x28b76b(0x617)]({'origin':_0x1b0384,'stderr':process[_0x28b76b(0x67e)]['fd'],'error':_0x19e555});});}var Hs=O(require(a0_0x153f5d(0x51d))),ls=new Hs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require('mongoose'),Ee=O(require(a0_0x153f5d(0x406))),Ue=new R(a0_0x153f5d(0x558)),L=S[a0_0x153f5d(0x4be)](a0_0x153f5d(0x5db)),$=L[a0_0x153f5d(0x3e1)]?L[a0_0x153f5d(0x87a)][a0_0x153f5d(0x2e2)]?Ee[a0_0x153f5d(0x2b3)][a0_0x153f5d(0x2e5)](L[a0_0x153f5d(0x87a)]['URI'],{'dbName':L[a0_0x153f5d(0x87a)]['DB_PREFIX_NAME']+a0_0x153f5d(0x306)}):Ee[a0_0x153f5d(0x2b3)][a0_0x153f5d(0x2e5)](a0_0x153f5d(0x3bd)+L[a0_0x153f5d(0x87a)]['HOST']+':'+L[a0_0x153f5d(0x87a)]['PORT']+a0_0x153f5d(0x7ab),{'user':L[a0_0x153f5d(0x87a)][a0_0x153f5d(0x517)],'pass':L['CONNECTION'][a0_0x153f5d(0x23e)],'dbName':L[a0_0x153f5d(0x87a)][a0_0x153f5d(0x553)]+'-whatsapp-api'}):null;L[a0_0x153f5d(0x3e1)]&&Ue[a0_0x153f5d(0x4e8)](a0_0x153f5d(0x7d0)+$['$dbName']);var fe=L['ENABLED']?L['CONNECTION'][a0_0x153f5d(0x2e2)]?Ee[a0_0x153f5d(0x2b3)][a0_0x153f5d(0x2e5)](L[a0_0x153f5d(0x87a)][a0_0x153f5d(0x2e2)],{'dbName':a0_0x153f5d(0x7fe)}):Ee[a0_0x153f5d(0x2b3)][a0_0x153f5d(0x2e5)](a0_0x153f5d(0x3bd)+L[a0_0x153f5d(0x87a)][a0_0x153f5d(0x245)]+':'+L[a0_0x153f5d(0x87a)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L['CONNECTION'][a0_0x153f5d(0x517)],'pass':L['CONNECTION'][a0_0x153f5d(0x23e)],'dbName':a0_0x153f5d(0x52e)}):null;fe&&Ue['info'](a0_0x153f5d(0x7d0)+fe[a0_0x153f5d(0x638)]),process['on'](a0_0x153f5d(0x85c),()=>{const _0x50c9ad=a0_0x153f5d;$&&$[_0x50c9ad(0x3df)](()=>{const _0x1c0ef7=_0x50c9ad;Ue[_0x1c0ef7(0x4e8)]('Database\x20connection\x20closed.');}),fe&&fe[_0x50c9ad(0x3df)](()=>{Ue['info']('CacheContacts\x20database\x20connection\x20closed.');});});var qi=new we[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vi=new we[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Gi=new we[(a0_0x153f5d(0x6c2))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Bi=new we[(a0_0x153f5d(0x6c2))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qi],'default':[]}},{'_id':!0x1}),Wi=new we[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Bi,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Vi},'groupdata':{'type':Gi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x1286f0=>{const _0x293a31=a0_0x153f5d;let _0x2a9513='z_'+_0x1286f0+_0x293a31(0x1e4);return $?.[_0x293a31(0x475)]('ChatModel',Wi,_0x2a9513);},Qs=require(a0_0x153f5d(0x406)),zi=new Qs[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x44423d=>{const _0x498ada=a0_0x153f5d;let _0x1ed029='z_'+_0x44423d+_0x498ada(0x403);return $?.[_0x498ada(0x475)]('ContactModel',zi,_0x1ed029);},Xs=require(a0_0x153f5d(0x406)),us=class{},Hi=new Xs[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.['model'](us[a0_0x153f5d(0x525)],Hi,a0_0x153f5d(0x4bb)),ea=require(a0_0x153f5d(0x406)),Ki=new ea[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x14958f=>{const _0x2aee7d=a0_0x153f5d;let _0x1d44a4='z_'+_0x14958f+_0x2aee7d(0x3b4);return $?.['model'](_0x2aee7d(0x755),Ki,_0x1d44a4);},sa=require('mongoose'),ds=class{},Qi=new sa[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=$?.[a0_0x153f5d(0x475)](ds[a0_0x153f5d(0x525)],Qi,a0_0x153f5d(0x791)),ia=require('mongoose'),ps=class{},oa=new ia[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa[a0_0x153f5d(0x77e)]('save',function(_0x2f93f1){const _0x97021f=a0_0x153f5d;delete this[_0x97021f(0x7ea)],delete this[_0x97021f(0x5d3)],delete this[_0x97021f(0x1b9)],delete this[_0x97021f(0x73c)],delete this[_0x97021f(0x506)],_0x2f93f1();});var ra=$?.[a0_0x153f5d(0x475)](ps['name'],oa,'webhook'),D=require(a0_0x153f5d(0x406)),hs=require(a0_0x153f5d(0x71e)),qe=class{},na=new D['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new D[(a0_0x153f5d(0x6c2))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Yi=new D[(a0_0x153f5d(0x6c2))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x153f5d(0x362)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x153f5d(0x1ca)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ca=new D[(a0_0x153f5d(0x6c2))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Xi=new D[(a0_0x153f5d(0x6c2))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),Zi=new D[(a0_0x153f5d(0x6c2))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new D[(a0_0x153f5d(0x6c2))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),eo=new D[(a0_0x153f5d(0x6c2))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),la=new D[(a0_0x153f5d(0x6c2))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Yi},'apirequest':Xi,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':eo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ua=new D['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new D[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,hs['v4'])()},'startID':{'type':String,'default':()=>(0x0,hs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x153f5d(0x441)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5221c4=a0_0x153f5d;return _0x5221c4(0x568)+Math['random']()['toString'](0x24)[_0x5221c4(0x34d)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]}});ws[a0_0x153f5d(0x77e)]('save',function(_0x20d060){const _0xf34b96=a0_0x153f5d;let _0x4c9f04=new Set(),_0x4067ba=new Set(this[_0xf34b96(0x20a)]?.[_0xf34b96(0x26b)](_0x1cd606=>_0x1cd606['name'])),_0x347eec=JSON[_0xf34b96(0x706)](this),_0x589b75=/{{(?!_)([^}]*)}}/g,_0x13e634;for(;(_0x13e634=_0x589b75[_0xf34b96(0x57c)](_0x347eec))!==null;)_0x4067ba[_0xf34b96(0x4ca)](_0x13e634[0x1])||_0x4c9f04[_0xf34b96(0x59b)](_0x13e634[0x1]);_0x4c9f04['size']>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0xf34b96(0x2bd)](_0x4c9f04)),this[_0xf34b96(0x654)]=Array[_0xf34b96(0x2bd)](_0x4c9f04)):this[_0xf34b96(0x654)]=[],_0x20d060();}),ws[a0_0x153f5d(0x77e)](a0_0x153f5d(0x673),function(_0x1c99da){const _0x507212=a0_0x153f5d;let _0x1886f7=this['getUpdate']();if(_0x1886f7&&typeof _0x1886f7==_0x507212(0x5dc)&&_0x507212(0x307)in _0x1886f7){let _0x4aa239=_0x1886f7['$set'];if(_0x4aa239){let _0x27f7ba=new Set(),_0x2031d0=new Set(_0x4aa239[_0x507212(0x20a)]?.[_0x507212(0x26b)](_0x564b3f=>_0x564b3f[_0x507212(0x525)])),_0x398546=JSON[_0x507212(0x706)](_0x4aa239),_0x396000=/{{(?!_)([^}]*)}}/g,_0x1161f2;for(;(_0x1161f2=_0x396000[_0x507212(0x57c)](_0x398546))!==null;)_0x2031d0['has'](_0x1161f2[0x1])||_0x27f7ba[_0x507212(0x59b)](_0x1161f2[0x1]);_0x27f7ba['size']>0x0?(console['warn'](_0x507212(0x5cd),Array[_0x507212(0x2bd)](_0x27f7ba)),_0x4aa239[_0x507212(0x654)]=Array[_0x507212(0x2bd)](_0x27f7ba)):_0x4aa239[_0x507212(0x654)]=[],this['setUpdate']({'$set':_0x4aa239});}}_0x1c99da();});var da=_0x361be9=>{const _0x4c5eff=a0_0x153f5d;let _0xf7703d='z_'+_0x361be9+'_Flows';return $?.[_0x4c5eff(0x475)](_0x4c5eff(0x81b),ws,_0xf7703d);},to=new D[(a0_0x153f5d(0x6c2))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Zi]},{'_id':!0x1}),so=new D[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[la],'groups':[na],'conditions':[ca],'varedits':[ua],'replyOptions':{'type':[gs],'default':[]},'chatLog':to,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x153f5d(0x5ef)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x153f5d(0x1ca)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),pa=_0x2750ce=>{const _0x1c8aa3=a0_0x153f5d;let _0x13a72a='z_'+_0x2750ce+'_FlowHistorico';return $?.['model'](_0x1c8aa3(0x310),so,_0x13a72a);},ao=new D[(a0_0x153f5d(0x6c2))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),io=new D[(a0_0x153f5d(0x6c2))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),oo=new D[(a0_0x153f5d(0x6c2))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x153f5d(0x7e9)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':io,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ao],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ha=_0x565596=>{const _0x479d00=a0_0x153f5d;let _0x26e2fa='z_'+_0x565596+_0x479d00(0x6fb);return $?.[_0x479d00(0x475)](_0x479d00(0x5fd),oo,_0x26e2fa);},ms=class{},ro=new D['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),no=new D[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),co=new D[(a0_0x153f5d(0x6c2))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x153f5d(0x505)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),lo=new D[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),uo=new D[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[lo]},'customFields':{'type':[no]},'flowConfig':{'type':co,'default':{}},'autoCompleteMessages':{'type':[ro],'default':[]}}),ve=$?.['model'](ms[a0_0x153f5d(0x525)],uo,'AutomateSystem'),ga=require(a0_0x153f5d(0x406)),po=new ga[(a0_0x153f5d(0x6c2))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ma=_0x30c56f=>{const _0x7e785d=a0_0x153f5d;let _0x14183f='z_'+_0x30c56f+_0x7e785d(0x264);return $?.[_0x7e785d(0x475)](_0x7e785d(0x489),po,_0x14183f);},x=class{constructor(_0x8e6232){const _0x2e34ef=a0_0x153f5d;this['dbSettings']=_0x8e6232[_0x2e34ef(0x4be)](_0x2e34ef(0x5db));}};function T(_0x256d7b){const _0xc19602=a0_0x153f5d;let _0x2429f0={};for(let [_0x38ea4e,_0xf7afbd]of Object[_0xc19602(0x32f)](_0x256d7b))if(typeof _0xf7afbd==_0xc19602(0x5dc)&&!Array[_0xc19602(0x653)](_0xf7afbd)){for(let [_0x3edafc,_0x45a011]of Object['entries'](_0xf7afbd))_0x2429f0[_0x38ea4e+'.'+_0x3edafc]=_0x45a011;}else _0x2429f0[_0x38ea4e]=_0xf7afbd;return _0x2429f0;}var Ve=class{constructor(_0x2754b8,_0x27d7a8,_0x13e51e,_0x8e34a5,_0x4b0f44,_0x97ade7,_0x3b8b56,_0x3d6e0e,_0x37dad1,_0x126a45,_0x3f6843,_0x360f80){const _0x7691c7=a0_0x153f5d;this[_0x7691c7(0x690)]=_0x2754b8,this[_0x7691c7(0x2ab)]=_0x27d7a8,this[_0x7691c7(0x53c)]=_0x13e51e,this[_0x7691c7(0x1d9)]=_0x8e34a5,this['webhook']=_0x4b0f44,this['auth']=_0x97ade7,this[_0x7691c7(0x52d)]=_0x3b8b56,this['flowConversation']=_0x3d6e0e,this[_0x7691c7(0x19d)]=_0x37dad1,this[_0x7691c7(0x46d)]=_0x126a45,this[_0x7691c7(0x498)]=_0x3f6843,this['dbClient']=_0x360f80;}get[a0_0x153f5d(0x78b)](){return this['dbClient'];}},Ge=class{},Be=class extends x{[a0_0x153f5d(0x3d6)](_0x2c74d7){return ta(_0x2c74d7);}async['insert'](_0x3b0986,_0x5ae680){const _0x1554f6=a0_0x153f5d;if(_0x3b0986[_0x1554f6(0x487)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1554f6(0x3d6)](_0x5ae680)[_0x1554f6(0x814)]([..._0x3b0986]))[_0x1554f6(0x487)]};}catch(_0x55fb2f){return _0x55fb2f;}}async[a0_0x153f5d(0x84e)](_0x1e4db5,_0xe95a39){const _0x1a5344=a0_0x153f5d;try{let _0x1ddb48=this[_0x1a5344(0x3d6)](_0xe95a39),_0x36e66b=T(_0x1e4db5['where']);return await _0x1ddb48['find'](_0x36e66b)[_0x1a5344(0x6da)]({'messageTimestamp':-0x1})[_0x1a5344(0x86f)](_0x1e4db5?.[_0x1a5344(0x86f)]??0x0)[_0x1a5344(0x1f2)]();}catch{return[];}}async[a0_0x153f5d(0x435)](_0x3b2f76,_0x3164f2){const _0x38cc87=a0_0x153f5d;try{let _0x2414d3=this[_0x38cc87(0x3d6)](_0x3164f2),_0x396543=T(_0x3b2f76[_0x38cc87(0x302)]);await _0x2414d3[_0x38cc87(0x43a)](_0x396543);}catch(_0x519c0b){console[_0x38cc87(0x617)](_0x519c0b);}}async[a0_0x153f5d(0x4e4)](_0x215588,_0x257efe,_0x23b3e6){const _0x9763ae=a0_0x153f5d;try{let _0x12a05e=this[_0x9763ae(0x3d6)](_0x23b3e6),_0x1e1f90=T(_0x215588[_0x9763ae(0x302)]);return await _0x12a05e[_0x9763ae(0x673)](_0x1e1f90,{'$set':_0x257efe},{'new':!0x0});}catch(_0x718278){throw console[_0x9763ae(0x617)](_0x718278),_0x718278;}}async[a0_0x153f5d(0x814)](_0x1e1d4b,_0xd8cf67){const _0x6c4afe=a0_0x153f5d;if(_0x1e1d4b[_0x6c4afe(0x487)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x6c4afe(0x3d6)](_0xd8cf67)[_0x6c4afe(0x814)]([..._0x1e1d4b]))['length']};}catch(_0x27db23){return console[_0x6c4afe(0x554)]('ERROR:\x20',_0x27db23),_0x27db23;}}async[a0_0x153f5d(0x693)](_0x44b089){const _0x18a1ab=a0_0x153f5d;try{return await this[_0x18a1ab(0x3d6)](_0x44b089)[_0x18a1ab(0x303)][_0x18a1ab(0x6a4)](),{'success':!0x0};}catch(_0x10ab33){return console[_0x18a1ab(0x617)](_0x10ab33),{'success':!0x1,'error':_0x10ab33};}}},$s=O(require(a0_0x153f5d(0x2dc))),w=O(require(a0_0x153f5d(0x612))),xe=require('fs'),F=O(require(a0_0x153f5d(0x2d1))),K=O(require('axios')),bi=require(a0_0x153f5d(0x71e)),Si=O(require(a0_0x153f5d(0x4bf))),Mi=O(require(a0_0x153f5d(0x5b7))),fa=[a0_0x153f5d(0x6fe),'documentMessage',a0_0x153f5d(0x751),'videoMessage','stickerMessage'],wa=[a0_0x153f5d(0x4a1),a0_0x153f5d(0x640),'viewOnceMessage','viewOnceMessageV2'],As=require('os'),Pt=O(require('pino')),De=require(a0_0x153f5d(0x652)),kt=require(a0_0x153f5d(0x68b)),oe=O(require(a0_0x153f5d(0x406))),P=require(a0_0x153f5d(0x31c)),ye=class{constructor(_0x16f8ef,_0x3e93f0,_0x13f772){const _0x6fffac=a0_0x153f5d;this[_0x6fffac(0x5ea)]=_0x16f8ef,this[_0x6fffac(0x3b6)]=_0x3e93f0,this[_0x6fffac(0x525)]=_0x13f772;}},We=class{},ze=class{},Ne=class{},He=class{},Ke=class{},be=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Tt=O(require(a0_0x153f5d(0x665))),ya=require('fs'),ba=require(a0_0x153f5d(0x2d1));async function Re(_0x120bbf){const _0x13d1f0=a0_0x153f5d;let _0x407401=G[_0x13d1f0(0x65e)][_0x120bbf];if(L[_0x13d1f0(0x3e1)]){let _0x5b26df=$[_0x13d1f0(0x332)]()['db'](L['CONNECTION'][_0x13d1f0(0x553)]+'-instances')[_0x13d1f0(0x303)](_0x120bbf);return _0x407401||(await _0x5b26df[_0x13d1f0(0x84e)]({})[_0x13d1f0(0x556)]())[_0x13d1f0(0x487)]>0x0;}return _0x407401||(0x0,ya[_0x13d1f0(0x7e0)])((0x0,ba['join'])(me,_0x120bbf));}async function Sa(_0x1ef92f,_0x19a9bc,_0xd53b6b){const _0x4fdaa4=a0_0x153f5d;if(_0x1ef92f[_0x4fdaa4(0x7aa)]['includes'](_0x4fdaa4(0x883))||_0x1ef92f['originalUrl'][_0x4fdaa4(0x424)](_0x4fdaa4(0x745))||_0x1ef92f[_0x4fdaa4(0x7aa)]['includes'](_0x4fdaa4(0x3ed))||_0x1ef92f[_0x4fdaa4(0x7aa)]['includes'](_0x4fdaa4(0x4eb))||_0x1ef92f[_0x4fdaa4(0x7aa)][_0x4fdaa4(0x424)]('/instance/connect')||_0x1ef92f['originalUrl'][_0x4fdaa4(0x424)](_0x4fdaa4(0x34b))||_0x1ef92f[_0x4fdaa4(0x7aa)]['includes'](_0x4fdaa4(0x3a0)))return _0xd53b6b();let _0x535594=_0x1ef92f[_0x4fdaa4(0x544)];if(!_0x535594?.['instanceName'])throw new m(_0x4fdaa4(0x241));if(!await Re(_0x535594[_0x4fdaa4(0x401)]))throw new U('The\x20'+_0x535594[_0x4fdaa4(0x401)]+_0x4fdaa4(0x374));_0xd53b6b();}async function Ma(_0x3060aa,_0x5e1b77,_0x524248){const _0x590b82=a0_0x153f5d;if(_0x3060aa[_0x590b82(0x7aa)][_0x590b82(0x424)]('/instance/create')){let _0x3f698f=_0x3060aa['body'];if(await Re(_0x3f698f[_0x590b82(0x401)]))throw new Q('This\x20name\x20'+_0x3f698f[_0x590b82(0x401)]+_0x590b82(0x6c5));G[_0x590b82(0x65e)][_0x3f698f[_0x590b82(0x401)]]&&delete G['waInstances'][_0x3f698f[_0x590b82(0x401)]];}_0x524248();}var Ca=require(a0_0x153f5d(0x31c)),Ea=O(require('jsonwebtoken')),et=a0_0x153f5d(0x4f6),go=new R(a0_0x153f5d(0x725));async function mo(_0x481acc,_0x18361f,_0x4d603b){const _0x255e88=a0_0x153f5d;let _0x483c82=_0x481acc[_0x255e88(0x4be)]('apikey');if(_0x483c82&&S[_0x255e88(0x4be)]('AUTHENTICATION')['API_KEY']['KEY']!==_0x483c82)throw new ae();if(S[_0x255e88(0x4be)](_0x255e88(0x3aa))[_0x255e88(0x726)]['KEY']===_0x483c82)return _0x4d603b();if((_0x481acc[_0x255e88(0x7aa)][_0x255e88(0x424)](_0x255e88(0x883))||_0x481acc['originalUrl'][_0x255e88(0x424)](_0x255e88(0x745)))&&!_0x483c82)throw new Q('Missing\x20global\x20api\x20key',_0x255e88(0x84b));let _0x44fc64=S[_0x255e88(0x4be)](_0x255e88(0x3aa))[_0x255e88(0x1bd)];try{let [_0x25e0bf,_0x3d5d93]=_0x481acc['get']('authorization')[_0x255e88(0x701)]('\x20');if(_0x25e0bf[_0x255e88(0x31e)]()!=='bearer')throw new ae();if(!(0x0,Ca[_0x255e88(0x240)])(_0x3d5d93))throw new ae();let _0x393aba=_0x481acc[_0x255e88(0x544)],_0x39991f=Ea[_0x255e88(0x2b3)][_0x255e88(0x449)](_0x3d5d93,_0x44fc64[_0x255e88(0x4f4)],{'ignoreExpiration':_0x44fc64['EXPIRIN_IN']===0x0});if(_0x393aba[_0x255e88(0x401)]!==_0x39991f[_0x255e88(0x401)]||et!==_0x39991f[_0x255e88(0x44b)])throw new ae();return _0x4d603b();}catch(_0x721ed4){throw go['error'](_0x721ed4),new ae();}}async function fo(_0x58519c,_0x1c1922,_0x1a6777){const _0x3280ed=a0_0x153f5d;let _0xb9c6e7=S[_0x3280ed(0x4be)](_0x3280ed(0x3aa))[_0x3280ed(0x726)],_0x29d863=_0x58519c['get'](_0x3280ed(0x6b4));if(_0xb9c6e7['KEY']===_0x29d863)return _0x1a6777();if(_0x58519c[_0x3280ed(0x7aa)][_0x3280ed(0x424)]('/instance/create')){let _0x4784db=tt,_0x4889f9=_0x58519c[_0x3280ed(0x2a9)][_0x3280ed(0x401)];if(_0x4784db&&_0x4889f9[_0x3280ed(0x31e)]()[_0x3280ed(0x529)](_0x4784db[_0x3280ed(0x31e)]()))return _0x1a6777();if(!_0x29d863)throw new Q('Missing\x20global\x20api\x20key',_0x3280ed(0x84b));}if(_0x58519c[_0x3280ed(0x7aa)][_0x3280ed(0x424)](_0x3280ed(0x745))&&!_0x29d863)throw new Q(_0x3280ed(0x5f6),_0x3280ed(0x84b));if(_0x58519c[_0x3280ed(0x7aa)][_0x3280ed(0x424)](_0x3280ed(0x3ed))&&!_0x29d863)throw new Q('Missing\x20global\x20api\x20key',_0x3280ed(0x84b));if(_0x58519c[_0x3280ed(0x7aa)][_0x3280ed(0x424)](_0x3280ed(0x4eb))&&!_0x29d863)throw new Q(_0x3280ed(0x5f6),_0x3280ed(0x84b));try{let _0x37e44a=_0x58519c[_0x3280ed(0x544)],_0xad19ee=await ue[_0x3280ed(0x38b)]['find'](_0x37e44a['instanceName']);if(_0xad19ee&&_0xad19ee['apikey']===_0x29d863)return _0x1a6777();}catch{}throw new ae();}var va={'jwt':mo,'apikey':fo},ii=require(a0_0x153f5d(0x665)),E=require(a0_0x153f5d(0x71e)),C=(..._0x4b1a9c)=>{const _0x121f40=a0_0x153f5d;let _0xe3a9a2={};return _0x4b1a9c[_0x121f40(0x42e)](_0x3d396f=>_0xe3a9a2[_0x3d396f]={'minLength':0x1,'description':_0x121f40(0x767)+_0x3d396f+_0x121f40(0x532)}),{'if':{'propertyNames':{'enum':[..._0x4b1a9c]}},'then':{'properties':_0xe3a9a2}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'instanceName':{'type':'string'}},...C(a0_0x153f5d(0x401))},oc={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'oldToken':{'type':a0_0x153f5d(0x60d)}},'required':['oldToken'],...C(a0_0x153f5d(0x53a))},rc={'properties':{'key':{'type':a0_0x153f5d(0x5dc),'properties':{'id':{'type':a0_0x153f5d(0x60d)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]}},'required':['id',a0_0x153f5d(0x28b),a0_0x153f5d(0x78a)],...C('id',a0_0x153f5d(0x28b))},'message':{'type':a0_0x153f5d(0x5dc)}}},Y={'properties':{'delay':{'type':'integer','description':a0_0x153f5d(0x1c3)},'presence':{'type':a0_0x153f5d(0x60d),'enum':['unavailable','available',a0_0x153f5d(0x5ca),a0_0x153f5d(0x88f),a0_0x153f5d(0x879)]}}},z={'type':'string','description':a0_0x153f5d(0x248)},Na={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'text':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x30b)],...C(a0_0x153f5d(0x30b))}},'required':[a0_0x153f5d(0x3a5),a0_0x153f5d(0x58a)]},Ra={'type':'string','pattern':a0_0x153f5d(0x4fb),'description':a0_0x153f5d(0x248)},nc={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...Ra},'options':{...Y},'textMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'text':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x30b)],...C('text')}},'required':[a0_0x153f5d(0x3a5),'number']},cc={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...Ra},'options':{...Y},'mediaMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'mediatype':{'type':a0_0x153f5d(0x60d),'enum':['image',a0_0x153f5d(0x86c),'video',a0_0x153f5d(0x23a)]},'media':{'type':a0_0x153f5d(0x60d)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x153f5d(0x689),'media'],...C('fileName',a0_0x153f5d(0x400),a0_0x153f5d(0x807))}},'required':[a0_0x153f5d(0x1f7),a0_0x153f5d(0x58a)]},$a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x56d)],...C('image')}},'required':[a0_0x153f5d(0x216),a0_0x153f5d(0x58a)]},Aa={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'statusMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'type':{'type':'string','enum':[a0_0x153f5d(0x30b),a0_0x153f5d(0x56d),a0_0x153f5d(0x23a),a0_0x153f5d(0x2d9)]},'content':{'type':a0_0x153f5d(0x60d)},'caption':{'type':a0_0x153f5d(0x60d)},'backgroundColor':{'type':a0_0x153f5d(0x60d)},'font':{'type':a0_0x153f5d(0x3d8),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x153f5d(0x7a2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x153f5d(0x60d),'pattern':a0_0x153f5d(0x6b0),'description':a0_0x153f5d(0x43f)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type','content'],...C(a0_0x153f5d(0x74a),a0_0x153f5d(0x82d))}},'required':['statusMessage']},Oa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x153f5d(0x60d),'enum':[a0_0x153f5d(0x56d),a0_0x153f5d(0x86c),a0_0x153f5d(0x2d9),a0_0x153f5d(0x23a)]},'media':{'type':a0_0x153f5d(0x60d)},'fileName':{'type':a0_0x153f5d(0x60d)},'caption':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x689),'media'],...C('fileName',a0_0x153f5d(0x400),a0_0x153f5d(0x807))}},'required':[a0_0x153f5d(0x1f7),a0_0x153f5d(0x58a)]},Ta={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x23a)],...C('audio')}},'required':[a0_0x153f5d(0x751),a0_0x153f5d(0x58a)]},Ia={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x153f5d(0x60d)},'selectableCount':{'type':a0_0x153f5d(0x58a)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x153f5d(0x7d4),a0_0x153f5d(0x19c)],...C('name','selectableCount',a0_0x153f5d(0x19c))}},'required':[a0_0x153f5d(0x58a),'pollMessage']},xa={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...z},'menuMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'text':{'type':'string'},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x153f5d(0x30b),a0_0x153f5d(0x3d0)],...C('text','choices')}},'required':[a0_0x153f5d(0x58a),'menuMessage']},Da={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'title':{'type':a0_0x153f5d(0x60d)},'description':{'type':a0_0x153f5d(0x60d)},'footerText':{'type':a0_0x153f5d(0x60d)},'buttons':{'type':a0_0x153f5d(0x7a2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x153f5d(0x5dc),'properties':{'buttonText':{'type':a0_0x153f5d(0x60d)},'buttonId':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x688),a0_0x153f5d(0x867)],...C(a0_0x153f5d(0x688),a0_0x153f5d(0x867))}},'mediaMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x153f5d(0x60d)},'mediatype':{'type':a0_0x153f5d(0x60d),'enum':[a0_0x153f5d(0x56d),'document',a0_0x153f5d(0x2d9)]}},'required':[a0_0x153f5d(0x807),a0_0x153f5d(0x689)],...C(a0_0x153f5d(0x807),'fileName')}},'required':[a0_0x153f5d(0x787),'buttons'],...C(a0_0x153f5d(0x787),a0_0x153f5d(0x2f1))}},'required':['number',a0_0x153f5d(0x85b)]},_a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'latitude':{'type':a0_0x153f5d(0x58a)},'longitude':{'type':a0_0x153f5d(0x58a)},'name':{'type':'string'},'address':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x682),'longitude'],...C(a0_0x153f5d(0x525),a0_0x153f5d(0x6d2))}},'required':[a0_0x153f5d(0x58a),a0_0x153f5d(0x6a9)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'title':{'type':a0_0x153f5d(0x60d)},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':a0_0x153f5d(0x60d)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x153f5d(0x5dc),'properties':{'title':{'type':a0_0x153f5d(0x60d)},'rows':{'type':a0_0x153f5d(0x7a2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x153f5d(0x5dc),'properties':{'title':{'type':a0_0x153f5d(0x60d)},'description':{'type':'string'},'rowId':{'type':a0_0x153f5d(0x60d)}},'required':['title',a0_0x153f5d(0x1fb)],...C(a0_0x153f5d(0x787),'rowId')}}},'required':[a0_0x153f5d(0x787),a0_0x153f5d(0x29d)],...C('title')}}},'required':[a0_0x153f5d(0x787),a0_0x153f5d(0x2f1),a0_0x153f5d(0x688),a0_0x153f5d(0x4d7)],...C(a0_0x153f5d(0x787),a0_0x153f5d(0x2f1),a0_0x153f5d(0x688),a0_0x153f5d(0x252))}},'required':['number','listMessage']},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x153f5d(0x5dc),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x153f5d(0x2bb),'phoneNumber'],...C(a0_0x153f5d(0x2bb))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x153f5d(0x58a),a0_0x153f5d(0x446)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'key':{'type':a0_0x153f5d(0x5dc),'properties':{'id':{'type':a0_0x153f5d(0x60d)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]}},'required':['id',a0_0x153f5d(0x28b),'fromMe'],...C('id',a0_0x153f5d(0x28b))},'reaction':{'type':'string'}},'required':[a0_0x153f5d(0x76f),a0_0x153f5d(0x588)],...C('reaction')}},'required':[a0_0x153f5d(0x816)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x153f5d(0x60d),'pattern':a0_0x153f5d(0x6b0),'description':a0_0x153f5d(0x71d)}}}},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'readMessages':{'type':a0_0x153f5d(0x7a2),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x153f5d(0x60d)}},'required':['id',a0_0x153f5d(0x78a),a0_0x153f5d(0x28b)],...C('id',a0_0x153f5d(0x28b))}}},'required':['readMessages']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'privacySettings':{'type':a0_0x153f5d(0x5dc),'properties':{'readreceipts':{'type':a0_0x153f5d(0x60d),'enum':[a0_0x153f5d(0x512),a0_0x153f5d(0x56b)]},'profile':{'type':a0_0x153f5d(0x60d),'enum':[a0_0x153f5d(0x512),a0_0x153f5d(0x872),a0_0x153f5d(0x4f8),a0_0x153f5d(0x56b)]},'status':{'type':a0_0x153f5d(0x60d),'enum':['all',a0_0x153f5d(0x872),a0_0x153f5d(0x4f8),'none']},'online':{'type':a0_0x153f5d(0x60d),'enum':[a0_0x153f5d(0x512),a0_0x153f5d(0x549)]},'last':{'type':a0_0x153f5d(0x60d),'enum':[a0_0x153f5d(0x512),a0_0x153f5d(0x872),a0_0x153f5d(0x4f8),'none']},'groupadd':{'type':a0_0x153f5d(0x60d),'enum':['all',a0_0x153f5d(0x872),a0_0x153f5d(0x4f8),a0_0x153f5d(0x56b)]}},'required':['readreceipts',a0_0x153f5d(0x2a7),'status',a0_0x153f5d(0x68c),'last',a0_0x153f5d(0x1d3)],...C('readreceipts',a0_0x153f5d(0x2a7),'status',a0_0x153f5d(0x68c),a0_0x153f5d(0x62d),a0_0x153f5d(0x1d3))}},'required':['privacySettings']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'lastMessage':{'type':a0_0x153f5d(0x5dc),'properties':{'key':{'type':a0_0x153f5d(0x5dc),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x153f5d(0x60d)},'fromMe':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x153f5d(0x28b)],...C('id',a0_0x153f5d(0x28b))},'messageTimestamp':{'type':a0_0x153f5d(0x3d8),'minLength':0x1}},'required':[a0_0x153f5d(0x76f)],...C(a0_0x153f5d(0x1c9))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x153f5d(0x480),a0_0x153f5d(0x22c)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'id':{'type':a0_0x153f5d(0x60d)},'fromMe':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x153f5d(0x60d)},'participant':{'type':a0_0x153f5d(0x60d)}},'required':['id',a0_0x153f5d(0x78a),a0_0x153f5d(0x28b)],...C('id',a0_0x153f5d(0x28b),a0_0x153f5d(0x5c3))},Va={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'where':{'type':a0_0x153f5d(0x5dc),'properties':{'_id':{'type':a0_0x153f5d(0x60d),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x153f5d(0x60d),'minLength':0x1}},...C(a0_0x153f5d(0x412),'id',a0_0x153f5d(0x32b))}}},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'name':{'type':a0_0x153f5d(0x60d)}},...C('name')},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'status':{'type':a0_0x153f5d(0x60d)}},...C(a0_0x153f5d(0x5d0))},$e={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{'type':a0_0x153f5d(0x60d)},'picture':{'type':a0_0x153f5d(0x60d)}}},Wa={'type':a0_0x153f5d(0x5dc),'properties':{'wuid':{'type':a0_0x153f5d(0x60d)},'name':{'type':a0_0x153f5d(0x60d)},'picture':{'type':a0_0x153f5d(0x60d)},'status':{'type':a0_0x153f5d(0x60d)},'isBusiness':{'type':'boolean'}}},za={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'where':{'type':a0_0x153f5d(0x5dc),'properties':{'_id':{'type':a0_0x153f5d(0x60d),'minLength':0x1},'key':{'type':a0_0x153f5d(0x5dc),'if':{'propertyNames':{'enum':[a0_0x153f5d(0x78a),a0_0x153f5d(0x28b),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x153f5d(0x60d),'minLength':0x1,'description':a0_0x153f5d(0x859)},'id':{'type':'string','minLength':0x1,'description':a0_0x153f5d(0x859)},'fromMe':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C(a0_0x153f5d(0x412))},'limit':{'type':a0_0x153f5d(0x3d8)}}},lc={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x153f5d(0x60d)},'remoteJid':{'type':a0_0x153f5d(0x60d)},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x153f5d(0x60d),'enum':[a0_0x153f5d(0x758),'PENDING','SERVER_ACK',a0_0x153f5d(0x7c0),'READ',a0_0x153f5d(0x662)]}},...C(a0_0x153f5d(0x412),a0_0x153f5d(0x28b),'id','status')},'limit':{'type':a0_0x153f5d(0x3d8)}}},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'number':{...z},'presence':{'type':a0_0x153f5d(0x60d),'enum':['unavailable','available',a0_0x153f5d(0x5ca),a0_0x153f5d(0x88f),a0_0x153f5d(0x879)]}},'required':[a0_0x153f5d(0x7a9),'number']},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x153f5d(0x60d)},'profilePicture':{'type':a0_0x153f5d(0x60d)},'participants':{'type':a0_0x153f5d(0x7a2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x153f5d(0x60d),'minLength':0xa,'pattern':a0_0x153f5d(0x80a),'description':a0_0x153f5d(0x2dd)}}},'required':[a0_0x153f5d(0x30c),a0_0x153f5d(0x49b)],...C('subject',a0_0x153f5d(0x2f1),a0_0x153f5d(0x7b5))},Ae={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x153f5d(0x60d),'pattern':a0_0x153f5d(0x39c)}},'required':[a0_0x153f5d(0x48a)],...C('groupJid')},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x153f5d(0x60d),'enum':['add',a0_0x153f5d(0x5f5),a0_0x153f5d(0x382),a0_0x153f5d(0x63a),a0_0x153f5d(0x31b),a0_0x153f5d(0x716)]},'participants':{'type':a0_0x153f5d(0x7a2),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x153f5d(0x60d),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x153f5d(0x48a),a0_0x153f5d(0x20c),a0_0x153f5d(0x49b)],...C('groupJid','action')},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'groupJid':{'type':a0_0x153f5d(0x60d)},'expiration':{'type':a0_0x153f5d(0x58a),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x153f5d(0x48a),a0_0x153f5d(0x6a6)],...C(a0_0x153f5d(0x48a),a0_0x153f5d(0x6a6))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'groupJid':{'type':a0_0x153f5d(0x60d)},'image':{'type':a0_0x153f5d(0x60d)}},'required':['groupJid','image'],...C(a0_0x153f5d(0x48a),a0_0x153f5d(0x56d))},Za={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'groupJid':{'type':a0_0x153f5d(0x60d)},'description':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x48a),'description'],...C(a0_0x153f5d(0x48a),a0_0x153f5d(0x2f1))},ei={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x48a),a0_0x153f5d(0x525)],...C('groupJid',a0_0x153f5d(0x525))},ti={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'groupJid':{'type':a0_0x153f5d(0x60d)},'setting':{'type':a0_0x153f5d(0x60d),'enum':['announcement','not_announcement',a0_0x153f5d(0x4f7),'locked']}},'required':['groupJid',a0_0x153f5d(0x383)],...C(a0_0x153f5d(0x48a),a0_0x153f5d(0x383))},si={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'groupJid':{'type':a0_0x153f5d(0x60d)},'restrict':{'type':a0_0x153f5d(0x377)},'announce':{'type':'boolean'},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x153f5d(0x377)},'expiration':{'type':a0_0x153f5d(0x3d8),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x153f5d(0x60d)},'description':{'type':a0_0x153f5d(0x60d)},'image':{'type':a0_0x153f5d(0x60d)}}},ys={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'inviteCode':{'type':a0_0x153f5d(0x60d)}},'required':[a0_0x153f5d(0x1b5)],...C(a0_0x153f5d(0x1b5))},ai={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x153f5d(0x851),a0_0x153f5d(0x717)]},uc={'$id':(0x0,E['v4'])(),'type':a0_0x153f5d(0x5dc),'properties':{'local_map':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x153f5d(0x377),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x153f5d(0x1b2),'STATUS_INSTANCE',a0_0x153f5d(0x832),a0_0x153f5d(0x4b9),a0_0x153f5d(0x41e),a0_0x153f5d(0x625),'SEND_MESSAGE',a0_0x153f5d(0x69d),a0_0x153f5d(0x3fd),a0_0x153f5d(0x4b8),a0_0x153f5d(0x730),a0_0x153f5d(0x576),a0_0x153f5d(0x1f3),a0_0x153f5d(0x739),a0_0x153f5d(0x206),a0_0x153f5d(0x771),a0_0x153f5d(0x67f),'GROUPS_UPDATE',a0_0x153f5d(0x882)],...C(a0_0x153f5d(0x1b2),a0_0x153f5d(0x611),'QRCODE_UPDATED',a0_0x153f5d(0x4b9),a0_0x153f5d(0x41e),a0_0x153f5d(0x625),a0_0x153f5d(0x57d),a0_0x153f5d(0x69d),a0_0x153f5d(0x3fd),a0_0x153f5d(0x4b8),a0_0x153f5d(0x730),a0_0x153f5d(0x576),a0_0x153f5d(0x1f3),a0_0x153f5d(0x739),a0_0x153f5d(0x206),a0_0x153f5d(0x771),a0_0x153f5d(0x67f),a0_0x153f5d(0x22f),a0_0x153f5d(0x882))},st=class{},at=class extends x{[a0_0x153f5d(0x1ed)](_0x415137){return Ys(_0x415137);}async['insert'](_0x554419){const _0x46c609=a0_0x153f5d;if(_0x554419[_0x46c609(0x487)]!==0x0)try{return{'insertCount':(await this[_0x46c609(0x1ed)](_0x554419[0x0][_0x46c609(0x874)])[_0x46c609(0x814)]([..._0x554419]))[_0x46c609(0x487)]};}catch(_0x2fca46){return _0x2fca46;}}async[a0_0x153f5d(0x435)](_0x91bd12,_0x1d284b){const _0x281e1c=a0_0x153f5d;try{return{'deletedCount':(await this[_0x281e1c(0x1ed)](_0x1d284b)[_0x281e1c(0x43a)]({..._0x91bd12[_0x281e1c(0x302)]}))[_0x281e1c(0x6bd)]};}catch(_0x382654){return{'error':_0x382654?.['toString']()};}}async[a0_0x153f5d(0x4e4)](_0x38e431,_0xb28f2a){const _0x9a0ff=a0_0x153f5d;try{if(_0x38e431[_0x9a0ff(0x487)]===0x0)return;let _0x3e2062=this['getContactModelForOwner'](_0xb28f2a),_0x59f6d5=_0x38e431[_0x9a0ff(0x26b)](_0x4d301e=>({'updateOne':{'filter':{'_id':_0x4d301e[_0x9a0ff(0x412)],'owner':_0xb28f2a},'update':{..._0x4d301e}}})),{modifiedCount:_0x2e5a53}=await _0x3e2062[_0x9a0ff(0x7e1)](_0x59f6d5);return{'insertCount':_0x2e5a53};}catch{return;}}async['find'](_0x274c75,_0x221d98){const _0x23aa2d=a0_0x153f5d;try{let _0x5adf03=this['getContactModelForOwner'](_0x221d98),_0x5c7f04=T(_0x274c75[_0x23aa2d(0x302)]);return await _0x5adf03[_0x23aa2d(0x84e)](_0x5c7f04)[_0x23aa2d(0x86f)](_0x274c75?.[_0x23aa2d(0x86f)]??0x0)[_0x23aa2d(0x1f2)]();}catch{return[];}}async[a0_0x153f5d(0x88a)](_0xaae0f8,_0x3f7227){const _0x8af015=a0_0x153f5d;try{let _0x235c44=this[_0x8af015(0x1ed)](_0x3f7227),_0x26cc0a=T(_0xaae0f8['where']);return await _0x235c44[_0x8af015(0x88a)](_0x26cc0a)[_0x8af015(0x1f2)]();}catch{return null;}}async['deleteAll'](_0x39cfaf){const _0x5bf2fc=a0_0x153f5d;try{return await this[_0x5bf2fc(0x1ed)](_0x39cfaf)[_0x5bf2fc(0x303)]['drop'](),{'success':!0x0};}catch(_0x28e29c){return console[_0x5bf2fc(0x617)](_0x28e29c),{'success':!0x1,'error':_0x28e29c};}}},it=require(a0_0x153f5d(0x1c5)),bc=require(a0_0x153f5d(0x4dd)),bs=new R(a0_0x153f5d(0x47e)),V=class{[a0_0x153f5d(0x84f)](_0x135836,_0x1fc7ee=!0x0){const _0x40a527=a0_0x153f5d;let _0x307771='/'+_0x135836;return _0x1fc7ee&&(_0x307771+=_0x40a527(0x65f)),_0x307771;}async[a0_0x153f5d(0x7df)](_0xa7134){const _0x399549=a0_0x153f5d;let {request:_0x36d2fc,schema:_0x44d97b,ClassRef:_0x5b7d03,execute:_0x20c499}=_0xa7134,_0x1ad5ff=new _0x5b7d03(),_0x53901f=_0x36d2fc['body'],_0x5b626d=_0x36d2fc[_0x399549(0x544)];_0x36d2fc?.['query']&&Object[_0x399549(0x60b)](_0x36d2fc[_0x399549(0x3e7)])['length']>0x0&&Object['assign'](_0x5b626d,_0x36d2fc[_0x399549(0x3e7)]),_0x36d2fc['originalUrl'][_0x399549(0x424)](_0x399549(0x883))&&Object[_0x399549(0x33e)](_0x5b626d,_0x53901f),Object[_0x399549(0x33e)](_0x1ad5ff,_0x53901f);let _0x87385d=_0x44d97b?(0x0,it[_0x399549(0x25a)])(_0x1ad5ff,_0x44d97b):{'valid':!0x0,'errors':[]};if(!_0x87385d[_0x399549(0x59a)]){let _0x3a95e4=_0x87385d[_0x399549(0x261)][_0x399549(0x26b)](({property:_0x21c33d,stack:_0x138cae,schema:_0x3680cf})=>{const _0x11a1be=_0x399549;let _0x1afb9b;return _0x3680cf[_0x11a1be(0x2f1)]?_0x1afb9b=_0x3680cf['description']:_0x1afb9b=_0x138cae[_0x11a1be(0x72d)](_0x11a1be(0x722),''),{'property':_0x21c33d[_0x11a1be(0x72d)](_0x11a1be(0x722),''),'message':_0x1afb9b};});throw bs[_0x399549(0x617)]([..._0x3a95e4]),new m(..._0x3a95e4);}return await _0x20c499(_0x5b626d,_0x1ad5ff);}async[a0_0x153f5d(0x555)](_0x27abeb){const _0x56fa80=a0_0x153f5d;let {request:_0x2fdab0,ClassRef:_0x59e21c,schema:_0x4bc5ab,execute:_0x15ccd3}=_0x27abeb,_0x267357=_0x2fdab0['query'];if(!_0x267357?.[_0x56fa80(0x48a)])throw new m(_0x56fa80(0x2c7),_0x56fa80(0x5f3));let _0x418e6a=_0x2fdab0[_0x56fa80(0x544)],_0x461a91=_0x2fdab0['body'],_0x1351e6=new _0x59e21c();Object[_0x56fa80(0x33e)](_0x461a91,_0x267357),Object[_0x56fa80(0x33e)](_0x1351e6,_0x461a91);let _0x31b1a9=(0x0,it[_0x56fa80(0x25a)])(_0x1351e6,_0x4bc5ab);if(!_0x31b1a9[_0x56fa80(0x59a)]){let _0x2b4a46=_0x31b1a9[_0x56fa80(0x261)][_0x56fa80(0x26b)](({property:_0x341fd1,stack:_0x424026,schema:_0x94db50})=>{const _0x4ac619=_0x56fa80;let _0x108c09;return _0x94db50[_0x4ac619(0x2f1)]?_0x108c09=_0x94db50[_0x4ac619(0x2f1)]:_0x108c09=_0x424026['replace'](_0x4ac619(0x722),''),{'property':_0x341fd1[_0x4ac619(0x72d)](_0x4ac619(0x722),''),'message':_0x108c09};});throw bs[_0x56fa80(0x617)]([..._0x2b4a46]),new m(..._0x2b4a46);}return await _0x15ccd3(_0x418e6a,_0x1351e6);}async[a0_0x153f5d(0x5dd)](_0x1d0994){const _0x5e8f96=a0_0x153f5d;let {request:_0x3b06ea,ClassRef:_0x2f0d4c,schema:_0x5c1c9e,execute:_0x436cd3}=_0x1d0994,_0x11d10c=_0x3b06ea[_0x5e8f96(0x2a9)];if(!_0x11d10c?.['inviteCode'])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x5e8f96(0x6f2));let _0x749b53=_0x3b06ea[_0x5e8f96(0x544)],_0x3f1fd6=_0x3b06ea[_0x5e8f96(0x2a9)],_0x56f54c=new _0x2f0d4c();Object[_0x5e8f96(0x33e)](_0x3f1fd6,_0x11d10c),Object['assign'](_0x56f54c,_0x3f1fd6);let _0x140291=(0x0,it[_0x5e8f96(0x25a)])(_0x56f54c,_0x5c1c9e);if(!_0x140291[_0x5e8f96(0x59a)]){let _0x56172b=_0x140291[_0x5e8f96(0x261)]['map'](({property:_0x3cf9e1,stack:_0x2f5446,schema:_0x378a89})=>{const _0x1b1646=_0x5e8f96;let _0x46cc1b;return _0x378a89['description']?_0x46cc1b=_0x378a89['description']:_0x46cc1b=_0x2f5446[_0x1b1646(0x72d)]('instance.',''),{'property':_0x3cf9e1['replace'](_0x1b1646(0x722),''),'message':_0x46cc1b};});throw bs[_0x5e8f96(0x617)]([..._0x56172b]),new m(..._0x56172b);}return await _0x436cd3(_0x749b53,_0x56f54c);}},M=class{},_c=new R(a0_0x153f5d(0x534)),ot=class extends V{constructor(..._0x208ef6){const _0xe0db0a=a0_0x153f5d;super(),this[_0xe0db0a(0x205)]=(0x0,ii[_0xe0db0a(0x4b4)])(),this['router'][_0xe0db0a(0x8a5)](this['routerPath']('updatePresence'),..._0x208ef6,async(_0x4ce411,_0x114b66)=>{const _0x353910=_0xe0db0a;let _0x1349ed=await this['dataValidate']({'request':_0x4ce411,'schema':Ha,'ClassRef':We,'execute':(_0x360450,_0x303257)=>_[_0x353910(0x614)](_0x360450,_0x303257)});return _0x114b66['status'](0xc9)[_0x353910(0x782)](_0x1349ed);})['post'](this[_0xe0db0a(0x84f)](_0xe0db0a(0x392)),..._0x208ef6,async(_0x39e6e7,_0x40badf)=>{const _0x314fc5=_0xe0db0a;let _0x1d23fd=await this[_0x314fc5(0x7df)]({'request':_0x39e6e7,'schema':La,'ClassRef':ze,'execute':(_0x197730,_0x30d3cf)=>_[_0x314fc5(0x4ad)](_0x197730,_0x30d3cf)});return _0x40badf[_0x314fc5(0x5d0)](0xc9)[_0x314fc5(0x782)](_0x1d23fd);})[_0xe0db0a(0x8a5)](this['routerPath'](_0xe0db0a(0x5b4)),..._0x208ef6,async(_0x1363ec,_0xb3d301)=>{const _0x53db51=_0xe0db0a;let _0x4d44d2=await this[_0x53db51(0x7df)]({'request':_0x1363ec,'schema':v,'ClassRef':M,'execute':(_0x4f0321,_0x305ddb)=>_[_0x53db51(0x5b4)](_0x4f0321,_0x305ddb)});return _0xb3d301[_0x53db51(0x5d0)](0xc9)[_0x53db51(0x782)](_0x4d44d2);})[_0xe0db0a(0x2cf)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x779)),..._0x208ef6,async(_0x15ee50,_0xa5ee07)=>{const _0x2e264a=_0xe0db0a;let _0x87c70f=await this[_0x2e264a(0x7df)]({'request':_0x15ee50,'schema':Fa,'ClassRef':Qe,'execute':(_0x20a0aa,_0x18fa92)=>_['readMessage'](_0x20a0aa,_0x18fa92)});return _0xa5ee07['status'](0xc9)['json'](_0x87c70f);})[_0xe0db0a(0x2cf)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x6c6)),..._0x208ef6,async(_0x3e4b86,_0xcae757)=>{const _0x324a57=_0xe0db0a;let _0xe6f68=await this[_0x324a57(0x7df)]({'request':_0x3e4b86,'schema':Ua,'ClassRef':Ye,'execute':(_0x3af3fc,_0x3d5873)=>_[_0x324a57(0x6c6)](_0x3af3fc,_0x3d5873)});return _0xcae757['status'](0xc9)[_0x324a57(0x782)](_0xe6f68);})[_0xe0db0a(0x435)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x1e6)),..._0x208ef6,async(_0x392ba1,_0x12a452)=>{const _0x591e48=_0xe0db0a;let _0x1552c1=await this[_0x591e48(0x7df)]({'request':_0x392ba1,'schema':qa,'ClassRef':Ze,'execute':(_0xd8527a,_0x38d8a8)=>_['deleteMessage'](_0xd8527a,_0x38d8a8)});return _0x12a452[_0x591e48(0x5d0)](0xc9)[_0x591e48(0x782)](_0x1552c1);})['post'](this[_0xe0db0a(0x84f)](_0xe0db0a(0x1a1)),..._0x208ef6,async(_0x54a6a1,_0x299ab0)=>{const _0x3189e2=_0xe0db0a;let _0x542fae=await this['dataValidate']({'request':_0x54a6a1,'schema':$e,'ClassRef':Ne,'execute':(_0x2d5ec7,_0x242a50)=>_[_0x3189e2(0x50d)](_0x2d5ec7,_0x242a50)});return _0x299ab0[_0x3189e2(0x5d0)](0xc8)[_0x3189e2(0x782)](_0x542fae);})['post'](this[_0xe0db0a(0x84f)](_0xe0db0a(0x7bb)),..._0x208ef6,async(_0x5cb144,_0x19db10)=>{const _0x501a6d=_0xe0db0a;let _0x4b8e25=await this[_0x501a6d(0x7df)]({'request':_0x5cb144,'schema':Wa,'ClassRef':Ne,'execute':(_0x11ff2e,_0x146545)=>_['fetchProfile'](_0x11ff2e,_0x146545)});return _0x19db10[_0x501a6d(0x5d0)](0xc8)['json'](_0x4b8e25);})[_0xe0db0a(0x8a5)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x6f5)),..._0x208ef6,async(_0x3dc4d1,_0x1646f0)=>{const _0x34b338=_0xe0db0a;let _0x3f45c9=await this[_0x34b338(0x7df)]({'request':_0x3dc4d1,'schema':Va,'ClassRef':st,'execute':(_0x4697de,_0x44775d)=>_[_0x34b338(0x1d5)](_0x4697de,_0x44775d)});return _0x1646f0[_0x34b338(0x5d0)](0xc8)[_0x34b338(0x782)](_0x3f45c9);})['post'](this[_0xe0db0a(0x84f)]('getBase64FromMediaMessage'),..._0x208ef6,async(_0x55c249,_0x1ff514)=>{const _0x1c384c=_0xe0db0a;let _0x188d34=await this['dataValidate']({'request':_0x55c249,'schema':null,'ClassRef':Object,'execute':(_0x2010c3,_0x5687e4)=>_[_0x1c384c(0x214)](_0x2010c3,_0x5687e4)});return _0x1ff514['status'](0xc9)[_0x1c384c(0x782)](_0x188d34);})[_0xe0db0a(0x8a5)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x6d7)),..._0x208ef6,async(_0x452a75,_0x2d33da)=>{const _0x4958f9=_0xe0db0a;let _0x817aad=await this['dataValidate']({'request':_0x452a75,'schema':za,'ClassRef':Ge,'execute':(_0x1f1c2e,_0x215c68)=>_[_0x4958f9(0x3a8)](_0x1f1c2e,_0x215c68)});return _0x2d33da['status'](0xc8)[_0x4958f9(0x782)](_0x817aad);})[_0xe0db0a(0x4be)](this[_0xe0db0a(0x84f)]('findChats'),..._0x208ef6,async(_0x48e2a7,_0x193c09)=>{const _0x3c1e01=_0xe0db0a;let _0x47f025=await this['dataValidate']({'request':_0x48e2a7,'schema':null,'ClassRef':M,'execute':_0x1024a1=>_['fetchChats'](_0x1024a1)});return _0x193c09['status'](0xc8)[_0x3c1e01(0x782)](_0x47f025);})[_0xe0db0a(0x4be)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x523)),..._0x208ef6,async(_0x2cd7fc,_0x18dcae)=>{const _0x1dc9e9=_0xe0db0a;let _0x3c09ba=await this[_0x1dc9e9(0x7df)]({'request':_0x2cd7fc,'schema':null,'ClassRef':M,'execute':_0x2b6400=>_[_0x1dc9e9(0x52a)](_0x2b6400)});return _0x18dcae[_0x1dc9e9(0x5d0)](0xc8)[_0x1dc9e9(0x782)](_0x3c09ba);})[_0xe0db0a(0x2cf)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x646)),..._0x208ef6,async(_0x57891b,_0x13b674)=>{const _0x289a19=_0xe0db0a;let _0x1edcea=await this[_0x289a19(0x7df)]({'request':_0x57891b,'schema':null,'ClassRef':Array,'execute':(_0xbd646c,_0x2a9b56)=>_[_0x289a19(0x646)](_0xbd646c,_0x2a9b56)});return _0x13b674[_0x289a19(0x5d0)](0xc8)['json'](_0x1edcea);})[_0xe0db0a(0x4be)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x483)),..._0x208ef6,async(_0x38447f,_0x5504b7)=>{const _0x47afd6=_0xe0db0a;let _0x446b86=await this[_0x47afd6(0x7df)]({'request':_0x38447f,'schema':null,'ClassRef':M,'execute':_0x2aa2db=>_[_0x47afd6(0x483)](_0x2aa2db)});return _0x5504b7[_0x47afd6(0x5d0)](0xc8)[_0x47afd6(0x782)](_0x446b86);})[_0xe0db0a(0x2cf)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x789)),..._0x208ef6,async(_0x42a3ae,_0x3e2178)=>{const _0x2cd5f7=_0xe0db0a;let _0x2e7320=await this[_0x2cd5f7(0x7df)]({'request':_0x42a3ae,'schema':Ja,'ClassRef':Xe,'execute':(_0x5bd6b3,_0x525d06)=>_[_0x2cd5f7(0x789)](_0x5bd6b3,_0x525d06)});return _0x3e2178[_0x2cd5f7(0x5d0)](0xc9)[_0x2cd5f7(0x782)](_0x2e7320);})['post'](this[_0xe0db0a(0x84f)](_0xe0db0a(0x2d6)),..._0x208ef6,async(_0x55b954,_0x1c39bc)=>{const _0x7007de=_0xe0db0a;let _0x52b80f=await this['dataValidate']({'request':_0x55b954,'schema':$e,'ClassRef':be,'execute':(_0x3aefc7,_0x5a3498)=>_[_0x7007de(0x2d6)](_0x3aefc7,_0x5a3498)});return _0x1c39bc['status'](0xc8)[_0x7007de(0x782)](_0x52b80f);})[_0xe0db0a(0x8a5)](this[_0xe0db0a(0x84f)]('updateProfileName'),..._0x208ef6,async(_0x35eadd,_0xd6ce1a)=>{const _0x57912e=_0xe0db0a;let _0x4bec36=await this[_0x57912e(0x7df)]({'request':_0x35eadd,'schema':Ga,'ClassRef':He,'execute':(_0x59634a,_0x55b2d3)=>_['updateProfileName'](_0x59634a,_0x55b2d3)});return _0xd6ce1a[_0x57912e(0x5d0)](0xc8)[_0x57912e(0x782)](_0x4bec36);})[_0xe0db0a(0x8a5)](this['routerPath'](_0xe0db0a(0x895)),..._0x208ef6,async(_0x56e1f0,_0x10071e)=>{const _0x50d85c=_0xe0db0a;let _0x59025e=await this[_0x50d85c(0x7df)]({'request':_0x56e1f0,'schema':Ba,'ClassRef':Ke,'execute':(_0x42719d,_0x1fb662)=>_[_0x50d85c(0x895)](_0x42719d,_0x1fb662)});return _0x10071e[_0x50d85c(0x5d0)](0xc8)[_0x50d85c(0x782)](_0x59025e);})['put'](this['routerPath']('updateProfilePicture'),..._0x208ef6,async(_0x4b3fd3,_0x234a5b)=>{const _0xce1a60=_0xe0db0a;let _0x290ce6=await this[_0xce1a60(0x7df)]({'request':_0x4b3fd3,'schema':$e,'ClassRef':be,'execute':(_0x3f184e,_0xa9c4af)=>_[_0xce1a60(0x530)](_0x3f184e,_0xa9c4af)});return _0x234a5b[_0xce1a60(0x5d0)](0xc8)[_0xce1a60(0x782)](_0x290ce6);})[_0xe0db0a(0x435)](this[_0xe0db0a(0x84f)](_0xe0db0a(0x5ce)),..._0x208ef6,async(_0x5dc340,_0x4a9876)=>{const _0x298acf=_0xe0db0a;let _0x1a5c60=await this[_0x298acf(0x7df)]({'request':_0x5dc340,'schema':$e,'ClassRef':be,'execute':(_0x24ac7e,_0x45d1ce)=>_[_0x298acf(0x5ce)](_0x24ac7e,_0x45d1ce)});return _0x4a9876[_0x298acf(0x5d0)](0xc8)[_0x298acf(0x782)](_0x1a5c60);});}},oi=require('express'),rt=class{},nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},X=class{},Oe=class{},pt=class extends X{},ht=class extends X{},gt=class extends V{constructor(..._0x2cab0a){const _0x2908c9=a0_0x153f5d;super(),this['router']=(0x0,oi[_0x2908c9(0x4b4)])(),this[_0x2908c9(0x205)]['post'](this[_0x2908c9(0x84f)]('create'),..._0x2cab0a,async(_0x12d642,_0x5730eb)=>{const _0x4e1935=_0x2908c9;let _0x283ec4=await this['dataValidate']({'request':_0x12d642,'schema':Ka,'ClassRef':rt,'execute':(_0x2b956d,_0x41694b)=>q['createGroup'](_0x2b956d,_0x41694b)});_0x5730eb[_0x4e1935(0x5d0)](0xc9)[_0x4e1935(0x782)](_0x283ec4);})[_0x2908c9(0x2cf)](this[_0x2908c9(0x84f)](_0x2908c9(0x7cf)),..._0x2cab0a,async(_0x7229bb,_0x26140c)=>{const _0x382a20=_0x2908c9;let _0xd79532=await this[_0x382a20(0x555)]({'request':_0x7229bb,'schema':Xa,'ClassRef':nt,'execute':(_0x4e62ad,_0x461d41)=>q[_0x382a20(0x7cf)](_0x4e62ad,_0x461d41)});_0x26140c[_0x382a20(0x5d0)](0xc9)['json'](_0xd79532);})[_0x2908c9(0x2cf)](this['routerPath'](_0x2908c9(0x710)),..._0x2cab0a,async(_0x2a9cb2,_0x411449)=>{const _0x5b7695=_0x2908c9;let _0x3cbf82=await this[_0x5b7695(0x555)]({'request':_0x2a9cb2,'schema':Za,'ClassRef':ct,'execute':(_0x24a63a,_0x2033ab)=>q['groupDesc'](_0x24a63a,_0x2033ab)});_0x411449['status'](0xc9)[_0x5b7695(0x782)](_0x3cbf82);})[_0x2908c9(0x2cf)](this[_0x2908c9(0x84f)]('groupName'),..._0x2cab0a,async(_0x4b0f96,_0x1d4bcf)=>{const _0x40957b=_0x2908c9;let _0x2bb83f=await this[_0x40957b(0x555)]({'request':_0x4b0f96,'schema':ei,'ClassRef':lt,'execute':(_0x5f15c4,_0x2b572a)=>q['groupName'](_0x5f15c4,_0x2b572a)});_0x1d4bcf[_0x40957b(0x5d0)](0xc9)[_0x40957b(0x782)](_0x2bb83f);})['put'](this['routerPath']('groupBetterSetting'),..._0x2cab0a,async(_0x309894,_0x413207)=>{const _0x45198b=_0x2908c9;let _0x185f3b=await this[_0x45198b(0x555)]({'request':_0x309894,'schema':si,'ClassRef':dt,'execute':(_0x3badc3,_0x4b58e8)=>q[_0x45198b(0x862)](_0x3badc3,_0x4b58e8)});_0x413207[_0x45198b(0x5d0)](0xc9)['json'](_0x185f3b);})[_0x2908c9(0x2cf)](this[_0x2908c9(0x84f)]('groupSetting'),..._0x2cab0a,async(_0x5cf4ec,_0x4d43bf)=>{const _0x4906ea=_0x2908c9;let _0xfd01f2=await this[_0x4906ea(0x555)]({'request':_0x5cf4ec,'schema':ti,'ClassRef':ut,'execute':(_0x3d00e1,_0x2fee79)=>q[_0x4906ea(0x4a9)](_0x3d00e1,_0x2fee79)});_0x4d43bf['status'](0xc9)[_0x4906ea(0x782)](_0xfd01f2);})[_0x2908c9(0x2cf)](this[_0x2908c9(0x84f)](_0x2908c9(0x1a0)),..._0x2cab0a,async(_0x174379,_0x288a1a)=>{const _0x51ac66=_0x2908c9;let _0xf6e63b=await this[_0x51ac66(0x555)]({'request':_0x174379,'schema':Ya,'ClassRef':ht,'execute':(_0x1db13c,_0x55d56f)=>q[_0x51ac66(0x1a0)](_0x1db13c,_0x55d56f)});_0x288a1a[_0x51ac66(0x5d0)](0xc9)['json'](_0xf6e63b);})[_0x2908c9(0x4be)](this[_0x2908c9(0x84f)](_0x2908c9(0x270)),..._0x2cab0a,async(_0x2ff235,_0x8f92a2)=>{const _0x1934cf=_0x2908c9;let _0x5318da=await this[_0x1934cf(0x555)]({'request':_0x2ff235,'schema':Ae,'ClassRef':X,'execute':(_0x442d84,_0x57de81)=>q[_0x1934cf(0x274)](_0x442d84,_0x57de81)});_0x8f92a2[_0x1934cf(0x5d0)](0xc8)['json'](_0x5318da);})[_0x2908c9(0x4be)](this[_0x2908c9(0x84f)](_0x2908c9(0x7f6)),..._0x2cab0a,async(_0x2b9831,_0x5a16b9)=>{const _0x3d65ba=_0x2908c9;let _0x23ac4e=await this[_0x3d65ba(0x7df)]({'request':_0x2b9831,'schema':v,'ClassRef':M,'execute':_0x2ef34f=>q[_0x3d65ba(0x7f6)](_0x2ef34f)});_0x5a16b9[_0x3d65ba(0x5d0)](0xc8)[_0x3d65ba(0x782)](_0x23ac4e);})[_0x2908c9(0x4be)](this['routerPath'](_0x2908c9(0x49b)),..._0x2cab0a,async(_0x287475,_0x1d749f)=>{const _0x542b48=_0x2908c9;let _0x27116b=await this[_0x542b48(0x555)]({'request':_0x287475,'schema':Ae,'ClassRef':X,'execute':(_0x503d30,_0x5ebc38)=>q[_0x542b48(0x644)](_0x503d30,_0x5ebc38)});_0x1d749f[_0x542b48(0x5d0)](0xc8)[_0x542b48(0x782)](_0x27116b);})[_0x2908c9(0x4be)](this[_0x2908c9(0x84f)](_0x2908c9(0x1b5)),..._0x2cab0a,async(_0x2bdd36,_0x27ae76)=>{const _0x1be1a9=_0x2908c9;let _0x167ecd=await this[_0x1be1a9(0x555)]({'request':_0x2bdd36,'schema':Ae,'ClassRef':X,'execute':(_0x33c8f9,_0x87da9c)=>q['inviteCode'](_0x33c8f9,_0x87da9c)});_0x27ae76[_0x1be1a9(0x5d0)](0xc8)[_0x1be1a9(0x782)](_0x167ecd);})[_0x2908c9(0x8a5)](this[_0x2908c9(0x84f)](_0x2908c9(0x679)),..._0x2cab0a,async(_0x29473b,_0x1729c8)=>{const _0x1e09de=_0x2908c9;let _0x153438=await this['joinGroupValidate']({'request':_0x29473b,'schema':ys,'ClassRef':Oe,'execute':(_0x23ff96,_0x241a7d)=>q[_0x1e09de(0x686)](_0x23ff96,_0x241a7d)});_0x1729c8[_0x1e09de(0x5d0)](0xc9)[_0x1e09de(0x782)](_0x153438);})[_0x2908c9(0x2cf)](this[_0x2908c9(0x84f)](_0x2908c9(0x4c9)),..._0x2cab0a,async(_0x3cf2ca,_0x49bfe1)=>{const _0x3ffeef=_0x2908c9;let _0x43bfeb=await this['joinGroupValidate']({'request':_0x3cf2ca,'schema':ys,'ClassRef':Oe,'execute':(_0x300efc,_0x55d256)=>q[_0x3ffeef(0x4c9)](_0x300efc,_0x55d256)});_0x49bfe1[_0x3ffeef(0x5d0)](0xc9)['json'](_0x43bfeb);})[_0x2908c9(0x2cf)](this[_0x2908c9(0x84f)](_0x2908c9(0x7b9)),..._0x2cab0a,async(_0x57f4f1,_0x1d72b2)=>{const _0x5a953b=_0x2908c9;let _0x3d8c89=await this[_0x5a953b(0x555)]({'request':_0x57f4f1,'schema':Ae,'ClassRef':X,'execute':(_0x59c394,_0x2a8ad2)=>q['revokeInviteCode'](_0x59c394,_0x2a8ad2)});_0x1d72b2['status'](0xc9)[_0x5a953b(0x782)](_0x3d8c89);})[_0x2908c9(0x2cf)](this[_0x2908c9(0x84f)]('updateParticipant'),..._0x2cab0a,async(_0x5e7357,_0x2f7e65)=>{const _0x19669a=_0x2908c9;let _0x579a1c=await this[_0x19669a(0x555)]({'request':_0x5e7357,'schema':Qa,'ClassRef':pt,'execute':(_0x27d1b3,_0x4d070a)=>q[_0x19669a(0x80b)](_0x27d1b3,_0x4d070a)});_0x2f7e65[_0x19669a(0x5d0)](0xc9)[_0x19669a(0x782)](_0x579a1c);})[_0x2908c9(0x435)](this[_0x2908c9(0x84f)](_0x2908c9(0x5e8)),..._0x2cab0a,async(_0x15841d,_0x3f9a9c)=>{const _0x150d72=_0x2908c9;let _0x514f2c=await this['groupValidate']({'request':_0x15841d,'schema':{},'ClassRef':X,'execute':(_0x5c5f74,_0x29a28e)=>q[_0x150d72(0x5e8)](_0x5c5f74,_0x29a28e)});_0x3f9a9c[_0x150d72(0x5d0)](0xc8)['json'](_0x514f2c);});}},ri=require(a0_0x153f5d(0x665)),mt=class extends V{constructor(_0x387c8b,..._0x2b7824){const _0x4cb49c=a0_0x153f5d;super(),this[_0x4cb49c(0x494)]=_0x387c8b,this[_0x4cb49c(0x205)]=(0x0,ri['Router'])();let _0x35c9b0=_0x387c8b[_0x4cb49c(0x4be)]('AUTHENTICATION');this[_0x4cb49c(0x205)][_0x4cb49c(0x8a5)](_0x4cb49c(0x340),..._0x2b7824,async(_0x14c70f,_0x54e238)=>{const _0xe2a189=_0x4cb49c;let {instanceName:_0xb9f955,apikey:_0xd257cb,number:_0x2e5469}=_0x14c70f['body'],_0x2c2a97=await ne[_0xe2a189(0x852)]({'instanceName':_0xb9f955,'apikey':_0xd257cb,'number':_0x2e5469});return _0x54e238[_0xe2a189(0x5d0)](0xc9)[_0xe2a189(0x782)](_0x2c2a97);})[_0x4cb49c(0x2cf)](this[_0x4cb49c(0x84f)](_0x4cb49c(0x65a)),..._0x2b7824,async(_0x488651,_0x20750d)=>{const _0x23c178=_0x4cb49c;let _0x5708fd=await this[_0x23c178(0x7df)]({'request':_0x488651,'schema':v,'ClassRef':M,'execute':_0x316286=>ne[_0x23c178(0x5f9)](_0x316286)});return _0x20750d[_0x23c178(0x5d0)](0xc8)[_0x23c178(0x782)](_0x5708fd);})['get'](this[_0x4cb49c(0x84f)](_0x4cb49c(0x50f)),..._0x2b7824,async(_0x155b18,_0x4c74d5)=>{const _0x1d6ab3=_0x4cb49c;let _0x216660=await this['dataValidate']({'request':_0x155b18,'schema':v,'ClassRef':M,'execute':_0x4dab3f=>ne[_0x1d6ab3(0x256)](_0x4dab3f)});return _0x4c74d5[_0x1d6ab3(0x5d0)](0xc8)[_0x1d6ab3(0x782)](_0x216660);})['get'](this[_0x4cb49c(0x84f)](_0x4cb49c(0x3e6)),..._0x2b7824,async(_0x21f165,_0x4ee287)=>{const _0x3fcb81=_0x4cb49c;let _0x2d6933=await this[_0x3fcb81(0x7df)]({'request':_0x21f165,'schema':v,'ClassRef':M,'execute':_0x506003=>ne[_0x3fcb81(0x3e6)](_0x506003)});return _0x4ee287[_0x3fcb81(0x5d0)](0xc8)['json'](_0x2d6933);})[_0x4cb49c(0x4be)](this[_0x4cb49c(0x84f)](_0x4cb49c(0x6ae),!0x1),..._0x2b7824,async(_0x1cce80,_0x526484)=>{const _0x2666ae=_0x4cb49c;let _0x3a8cf8=await this[_0x2666ae(0x7df)]({'request':_0x1cce80,'schema':null,'ClassRef':M,'execute':_0x25a531=>ne[_0x2666ae(0x6ae)](_0x25a531)});return _0x526484['status'](0xc8)[_0x2666ae(0x782)](_0x3a8cf8);})[_0x4cb49c(0x435)](this['routerPath'](_0x4cb49c(0x3a6)),..._0x2b7824,async(_0x2046a8,_0x42e474)=>{const _0x3207fe=_0x4cb49c;let _0x4097b2=await this[_0x3207fe(0x7df)]({'request':_0x2046a8,'schema':v,'ClassRef':M,'execute':_0x26fcde=>ne[_0x3207fe(0x3a6)](_0x26fcde)});return _0x42e474[_0x3207fe(0x5d0)](0xc8)[_0x3207fe(0x782)](_0x4097b2);})[_0x4cb49c(0x435)](this['routerPath'](_0x4cb49c(0x435)),..._0x2b7824,async(_0xd335ab,_0x1a614a)=>{const _0x593179=_0x4cb49c;let _0x5b6148=await this['dataValidate']({'request':_0xd335ab,'schema':v,'ClassRef':M,'execute':_0x190080=>ne[_0x593179(0x5e3)](_0x190080)});return _0x1a614a[_0x593179(0x5d0)](0xc8)[_0x593179(0x782)](_0x5b6148);});}},ni=require(a0_0x153f5d(0x665)),Ss=class{},W=class extends Ss{},ft=class extends W{},wt=class extends W{},yt=class extends W{},bt=class extends W{},Te=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class{},Rt=class extends V{constructor(..._0x1b08c0){const _0x3a566e=a0_0x153f5d;super(),this['router']=(0x0,ni['Router'])(),this[_0x3a566e(0x205)][_0x3a566e(0x8a5)](this['routerPath'](_0x3a566e(0x226)),..._0x1b08c0,async(_0x2f7874,_0x5ced7c)=>{const _0x10415a=_0x3a566e;let _0x5b89be=await this['dataValidate']({'request':_0x2f7874,'schema':Na,'ClassRef':ft,'execute':(_0xf49324,_0x5de5fa)=>B[_0x10415a(0x226)](_0xf49324,_0x5de5fa)});return _0x5ced7c[_0x10415a(0x5d0)](0xc9)[_0x10415a(0x782)](_0x5b89be);})[_0x3a566e(0x8a5)](this['routerPath'](_0x3a566e(0x858)),..._0x1b08c0,async(_0xeae29,_0x3e23b4)=>{const _0x13bdaa=_0x3a566e;let _0x50e22a=await this[_0x13bdaa(0x7df)]({'request':_0xeae29,'schema':Oa,'ClassRef':Te,'execute':(_0x4bd824,_0x18ae37)=>B[_0x13bdaa(0x858)](_0x4bd824,_0x18ae37)});return _0x3e23b4[_0x13bdaa(0x5d0)](0xc9)[_0x13bdaa(0x782)](_0x50e22a);})[_0x3a566e(0x8a5)](this[_0x3a566e(0x84f)](_0x3a566e(0x37c)),..._0x1b08c0,async(_0x4da16c,_0x4cdd43)=>{const _0xae1a12=_0x3a566e;let _0x18c12d=await this['dataValidate']({'request':_0x4da16c,'schema':xa,'ClassRef':bt,'execute':(_0x3b6a3b,_0x5b73f7)=>B[_0xae1a12(0x37c)](_0x3b6a3b,_0x5b73f7)});return _0x4cdd43[_0xae1a12(0x5d0)](0xc9)['json'](_0x18c12d);})[_0x3a566e(0x8a5)](this['routerPath'](_0x3a566e(0x7d1)),..._0x1b08c0,async(_0x4f86e8,_0x2b1c3d)=>{const _0x58c050=_0x3a566e;let _0x13a967=await this[_0x58c050(0x7df)]({'request':_0x4f86e8,'schema':Ta,'ClassRef':Te,'execute':(_0x46f831,_0x2f2a73)=>B['sendWhatsAppAudio'](_0x46f831,_0x2f2a73)});return _0x2b1c3d['status'](0xc9)[_0x58c050(0x782)](_0x13a967);})[_0x3a566e(0x8a5)](this['routerPath'](_0x3a566e(0x22e)),..._0x1b08c0,async(_0x47a77c,_0x3838bc)=>{const _0x18e454=_0x3a566e;let _0x588c84=await this[_0x18e454(0x7df)]({'request':_0x47a77c,'schema':Da,'ClassRef':Mt,'execute':(_0x551cd4,_0xb3bc5f)=>B['sendButtons'](_0x551cd4,_0xb3bc5f)});return _0x3838bc['status'](0xc9)['json'](_0x588c84);})['post'](this[_0x3a566e(0x84f)](_0x3a566e(0x500)),..._0x1b08c0,async(_0x4dbc0b,_0x3231ab)=>{const _0x1c0fff=_0x3a566e;let _0x474682=await this['dataValidate']({'request':_0x4dbc0b,'schema':_a,'ClassRef':Ct,'execute':(_0x1f65b3,_0x572028)=>B['sendLocation'](_0x1f65b3,_0x572028)});return _0x3231ab[_0x1c0fff(0x5d0)](0xc9)['json'](_0x474682);})[_0x3a566e(0x8a5)](this['routerPath'](_0x3a566e(0x433)),..._0x1b08c0,async(_0x4770b3,_0xc75b6)=>{const _0x348ac0=_0x3a566e;let _0x5c056f=await this[_0x348ac0(0x7df)]({'request':_0x4770b3,'schema':Pa,'ClassRef':Et,'execute':(_0x293e7f,_0xbfc2e2)=>B[_0x348ac0(0x433)](_0x293e7f,_0xbfc2e2)});return _0xc75b6[_0x348ac0(0x5d0)](0xc9)[_0x348ac0(0x782)](_0x5c056f);})[_0x3a566e(0x8a5)](this[_0x3a566e(0x84f)](_0x3a566e(0x334)),..._0x1b08c0,async(_0x1dcb66,_0x2292b6)=>{const _0x28d9bb=_0x3a566e;let _0x346c55=await this['dataValidate']({'request':_0x1dcb66,'schema':ka,'ClassRef':vt,'execute':(_0x1077ce,_0x325825)=>B[_0x28d9bb(0x334)](_0x1077ce,_0x325825)});return _0x2292b6[_0x28d9bb(0x5d0)](0xc9)['json'](_0x346c55);})[_0x3a566e(0x8a5)](this[_0x3a566e(0x84f)](_0x3a566e(0x4e6)),..._0x1b08c0,async(_0x4c347e,_0x52a1b8)=>{const _0x5575cb=_0x3a566e;let _0x18456b=await this['dataValidate']({'request':_0x4c347e,'schema':ja,'ClassRef':Nt,'execute':(_0x2fbcdc,_0x484da9)=>B[_0x5575cb(0x4e6)](_0x2fbcdc,_0x484da9)});return _0x52a1b8['status'](0xc9)['json'](_0x18456b);})[_0x3a566e(0x8a5)](this[_0x3a566e(0x84f)](_0x3a566e(0x32c)),..._0x1b08c0,async(_0x25e50b,_0x1f403b)=>{const _0x5e3d98=_0x3a566e;let _0x52ef9d=await this[_0x5e3d98(0x7df)]({'request':_0x25e50b,'schema':Ia,'ClassRef':yt,'execute':(_0x3a37b7,_0x1df3fe)=>B[_0x5e3d98(0x32c)](_0x3a37b7,_0x1df3fe)});return _0x1f403b[_0x5e3d98(0x5d0)](0xc9)[_0x5e3d98(0x782)](_0x52ef9d);})[_0x3a566e(0x8a5)](this['routerPath']('sendStatus'),..._0x1b08c0,async(_0x4cae54,_0x1702af)=>{const _0x395fe9=_0x3a566e;let _0x3ecf91=await this['dataValidate']({'request':_0x4cae54,'schema':Aa,'ClassRef':wt,'execute':(_0x198d94,_0x56f455)=>B['sendStatus'](_0x198d94,_0x56f455)});return _0x1702af[_0x395fe9(0x5d0)](0xc9)[_0x395fe9(0x782)](_0x3ecf91);})[_0x3a566e(0x8a5)](this[_0x3a566e(0x84f)](_0x3a566e(0x3b0)),..._0x1b08c0,async(_0x2e406c,_0x291440)=>{const _0x43090f=_0x3a566e;let _0x390236=await this[_0x43090f(0x7df)]({'request':_0x2e406c,'schema':$a,'ClassRef':St,'execute':(_0x313e91,_0x5e6986)=>B[_0x43090f(0x3b0)](_0x313e91,_0x5e6986)});return _0x291440['status'](0xc9)[_0x43090f(0x782)](_0x390236);});}},ci=require(a0_0x153f5d(0x665)),$t=class{},At=class extends V{constructor(..._0xef9b9e){const _0x425408=a0_0x153f5d;super(),this[_0x425408(0x205)]=(0x0,ci[_0x425408(0x4b4)])(),this['router']['post'](this[_0x425408(0x84f)](_0x425408(0x740)),..._0xef9b9e,async(_0x282f24,_0x20b726)=>{const _0x3dbf72=_0x425408;let _0x3d6726=await this['dataValidate']({'request':_0x282f24,'schema':ai,'ClassRef':$t,'execute':(_0x554b96,_0x2cd8c5)=>Ms[_0x3dbf72(0x3ee)](_0x554b96,_0x2cd8c5)});_0x20b726[_0x3dbf72(0x5d0)](0xc9)['json'](_0x3d6726);})[_0x425408(0x4be)](this[_0x425408(0x84f)](_0x425408(0x84e)),..._0xef9b9e,async(_0x56c2dc,_0x4b12e8)=>{const _0x492ab0=_0x425408;let _0x4dbac0=await this[_0x492ab0(0x7df)]({'request':_0x56c2dc,'schema':v,'ClassRef':M,'execute':_0x397233=>Ms[_0x492ab0(0x6af)](_0x397233)});_0x4b12e8[_0x492ab0(0x5d0)](0xc8)[_0x492ab0(0x782)](_0x4dbac0);});}},li=require(a0_0x153f5d(0x665)),y=new R('FlowRouter'),Ot=class extends V{constructor(..._0x3cdac8){const _0x4a226c=a0_0x153f5d;super(),this['router']=(0x0,li[_0x4a226c(0x4b4)])(),this[_0x4a226c(0x205)]['post'](this[_0x4a226c(0x84f)]('scheduleMessage'),..._0x3cdac8,async(_0x404063,_0x2f724e)=>{const _0x27f3bc=_0x4a226c;let _0xa5f2d3=_0x404063['body'];y[_0x27f3bc(0x6cf)](_0x27f3bc(0x87c)),y[_0x27f3bc(0x6cf)](_0x27f3bc(0x824)),y[_0x27f3bc(0x6cf)](_0x404063[_0x27f3bc(0x2a9)]);let _0x1e28d6=await this[_0x27f3bc(0x7df)]({'request':_0x404063,'schema':v,'ClassRef':M,'execute':_0x1fadd6=>A[_0x27f3bc(0x856)](_0x1fadd6,_0xa5f2d3)});_0x2f724e['status'](0xc8)[_0x27f3bc(0x782)](_0x1e28d6);})[_0x4a226c(0x4be)](this['routerPath']('scheduleMessage'),..._0x3cdac8,async(_0x44c0e2,_0x1e8fc7)=>{const _0x27c703=_0x4a226c;let _0x4a60f4=await this[_0x27c703(0x7df)]({'request':_0x44c0e2,'schema':v,'ClassRef':M,'execute':_0x523eac=>A[_0x27c703(0x60c)](_0x523eac)});_0x1e8fc7[_0x27c703(0x5d0)](0xc8)['json'](_0x4a60f4);})['delete'](this[_0x4a226c(0x84f)](_0x4a226c(0x3e2)),..._0x3cdac8,async(_0x29c704,_0x4ff773)=>{const _0x3a5277=_0x4a226c;y[_0x3a5277(0x6cf)](_0x3a5277(0x5df));let _0x2cab04=await this[_0x3a5277(0x7df)]({'request':_0x29c704,'schema':v,'ClassRef':M,'execute':_0x5cac2f=>A['deleteDoneMessages'](_0x5cac2f)});_0x4ff773[_0x3a5277(0x5d0)](0xc8)[_0x3a5277(0x782)](_0x2cab04);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)]('startFlow'),..._0x3cdac8,async(_0x206074,_0x354767)=>{const _0x597fbe=_0x4a226c;let _0x4a7f34=_0x206074[_0x597fbe(0x2a9)];y[_0x597fbe(0x6cf)]('request\x20received\x20in\x20starFlow'),y[_0x597fbe(0x6cf)](_0x597fbe(0x824)),y['verbose'](_0x206074[_0x597fbe(0x2a9)]);let _0x44d647=await this[_0x597fbe(0x7df)]({'request':_0x206074,'schema':v,'ClassRef':M,'execute':_0x4b7177=>A[_0x597fbe(0x278)](_0x4b7177,_0x4a7f34)});_0x354767[_0x597fbe(0x5d0)](0xc8)[_0x597fbe(0x782)](_0x44d647);})[_0x4a226c(0x4be)](this['routerPath'](_0x4a226c(0x343)),..._0x3cdac8,async(_0x200747,_0x4dfb9e)=>{const _0x1e6e29=_0x4a226c;y[_0x1e6e29(0x6cf)](_0x1e6e29(0x25d));let _0x45399e=await this[_0x1e6e29(0x7df)]({'request':_0x200747,'schema':v,'ClassRef':M,'execute':_0x20f9be=>A['getAutomateSystem'](_0x20f9be)});_0x4dfb9e['status'](0xc8)['json'](_0x45399e);})['get'](this[_0x4a226c(0x84f)](_0x4a226c(0x341)),..._0x3cdac8,async(_0x396b96,_0x1205e3)=>{const _0x35b17d=_0x4a226c;y[_0x35b17d(0x6cf)](_0x35b17d(0x888));let _0x4fa169=await this[_0x35b17d(0x7df)]({'request':_0x396b96,'schema':v,'ClassRef':M,'execute':_0x3c9c35=>A[_0x35b17d(0x343)](_0x3c9c35)});_0x1205e3[_0x35b17d(0x5d0)](0xc8)[_0x35b17d(0x782)](_0x4fa169);})[_0x4a226c(0x8a5)](this['routerPath']('updateAgent'),..._0x3cdac8,async(_0x3be8af,_0x2f8857)=>{const _0x40bb4c=_0x4a226c;let _0x8cb916=_0x3be8af[_0x40bb4c(0x2a9)];y[_0x40bb4c(0x6cf)](_0x40bb4c(0x3bf)),y[_0x40bb4c(0x6cf)](_0x40bb4c(0x824)),y['verbose'](_0x3be8af['body']);let _0x3c9065=await this['dataValidate']({'request':_0x3be8af,'schema':v,'ClassRef':M,'execute':_0x473a1c=>A[_0x40bb4c(0x522)](_0x473a1c,_0x8cb916)});_0x2f8857['status'](0xc8)[_0x40bb4c(0x782)](_0x3c9065);})['post'](this['routerPath']('updateCustomFields'),..._0x3cdac8,async(_0x59bc6f,_0x2f2ad2)=>{const _0x58b5ff=_0x4a226c;let _0x4c8a54=_0x59bc6f[_0x58b5ff(0x2a9)];y['verbose']('request\x20received\x20in\x20updateCustomFields'),y[_0x58b5ff(0x6cf)](_0x58b5ff(0x824)),y[_0x58b5ff(0x6cf)](_0x59bc6f[_0x58b5ff(0x2a9)]);let _0x425937=await this[_0x58b5ff(0x7df)]({'request':_0x59bc6f,'schema':v,'ClassRef':M,'execute':_0x51b346=>A[_0x58b5ff(0x651)](_0x51b346,_0x4c8a54)});_0x2f2ad2['status'](0xc8)[_0x58b5ff(0x782)](_0x425937);})['post'](this[_0x4a226c(0x84f)](_0x4a226c(0x89f)),..._0x3cdac8,async(_0x2d9b2d,_0x369279)=>{const _0xb16a61=_0x4a226c;let _0x531898=_0x2d9b2d['body'];y[_0xb16a61(0x6cf)](_0xb16a61(0x4c4)),y[_0xb16a61(0x6cf)]('request\x20body:\x20'),y['verbose'](_0x2d9b2d[_0xb16a61(0x2a9)]);let _0x335e9f=await this[_0xb16a61(0x7df)]({'request':_0x2d9b2d,'schema':v,'ClassRef':M,'execute':_0x5b7bd8=>A[_0xb16a61(0x89f)](_0x5b7bd8,_0x531898)});_0x369279[_0xb16a61(0x5d0)](0xc8)['json'](_0x335e9f);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)](_0x4a226c(0x2ee)),..._0x3cdac8,async(_0x58ba8d,_0x14313e)=>{const _0x5847e7=_0x4a226c;let _0x22444b=_0x58ba8d[_0x5847e7(0x2a9)];y[_0x5847e7(0x6cf)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x5847e7(0x6cf)]('request\x20body:\x20'),y[_0x5847e7(0x6cf)](_0x58ba8d[_0x5847e7(0x2a9)]);let _0x3597ef=await this[_0x5847e7(0x7df)]({'request':_0x58ba8d,'schema':v,'ClassRef':M,'execute':_0x4a3702=>A[_0x5847e7(0x2ee)](_0x4a3702,_0x22444b)});_0x14313e[_0x5847e7(0x5d0)](0xc8)['json'](_0x3597ef);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)](_0x4a226c(0x543)),..._0x3cdac8,async(_0x4e876d,_0x18e9ea)=>{const _0x31f584=_0x4a226c;let _0xd0f47d=_0x4e876d[_0x31f584(0x2a9)];y[_0x31f584(0x6cf)]('request\x20received\x20in\x20getConversation'),y[_0x31f584(0x6cf)](_0x31f584(0x824)),y[_0x31f584(0x6cf)](_0x4e876d[_0x31f584(0x2a9)]);let _0x3cde29=await this[_0x31f584(0x7df)]({'request':_0x4e876d,'schema':v,'ClassRef':M,'execute':_0x2e79f4=>A[_0x31f584(0x543)](_0x2e79f4,_0xd0f47d)});_0x18e9ea[_0x31f584(0x5d0)](0xc8)['json'](_0x3cde29);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)]('fetchConversation'),..._0x3cdac8,async(_0x472d49,_0x40360f)=>{const _0x2140d0=_0x4a226c;let _0x48498d=_0x472d49[_0x2140d0(0x2a9)];y[_0x2140d0(0x6cf)](_0x2140d0(0x22a)),y[_0x2140d0(0x6cf)](_0x2140d0(0x824)),y[_0x2140d0(0x6cf)](_0x472d49[_0x2140d0(0x2a9)]);let _0x551382=await this[_0x2140d0(0x7df)]({'request':_0x472d49,'schema':v,'ClassRef':M,'execute':_0x2cc2ab=>A[_0x2140d0(0x811)](_0x2cc2ab,_0x48498d)});_0x40360f[_0x2140d0(0x5d0)](0xc8)[_0x2140d0(0x782)](_0x551382);})['post'](this[_0x4a226c(0x84f)](_0x4a226c(0x51c)),..._0x3cdac8,async(_0x5ccec1,_0x24a88b)=>{const _0x3388c8=_0x4a226c;let _0x46122c=_0x5ccec1[_0x3388c8(0x2a9)];y[_0x3388c8(0x6cf)](_0x3388c8(0x64e)),y['verbose']('request\x20body:\x20'),y[_0x3388c8(0x6cf)](_0x5ccec1[_0x3388c8(0x2a9)]);let _0xc0a62b=await this[_0x3388c8(0x7df)]({'request':_0x5ccec1,'schema':v,'ClassRef':M,'execute':_0x170397=>A['editConversation'](_0x170397,_0x46122c)});_0x24a88b[_0x3388c8(0x5d0)](0xc8)[_0x3388c8(0x782)](_0xc0a62b);})['delete'](this['routerPath'](_0x4a226c(0x81f)),..._0x3cdac8,async(_0x39ca14,_0x3c517c)=>{const _0x53d0c6=_0x4a226c;let _0x19fc09=_0x39ca14[_0x53d0c6(0x2a9)];y[_0x53d0c6(0x6cf)]('request\x20received\x20in\x20deleteConversation'),y[_0x53d0c6(0x6cf)](_0x53d0c6(0x824)),y[_0x53d0c6(0x6cf)](_0x39ca14[_0x53d0c6(0x2a9)]);let _0x35a3df=await this['dataValidate']({'request':_0x39ca14,'schema':v,'ClassRef':M,'execute':_0x7c0e36=>A[_0x53d0c6(0x81f)](_0x7c0e36,_0x19fc09)});_0x3c517c['status'](0xc8)[_0x53d0c6(0x782)](_0x35a3df);})[_0x4a226c(0x8a5)](this['routerPath']('createflow'),..._0x3cdac8,async(_0x29a2ae,_0x4fefe8)=>{const _0x91f9b5=_0x4a226c;let _0x3e6687=_0x29a2ae[_0x91f9b5(0x2a9)],_0x2201d1=_0x29a2ae['headers']['apikey'];y[_0x91f9b5(0x6cf)](_0x91f9b5(0x1e0)),y[_0x91f9b5(0x6cf)](_0x91f9b5(0x824)),y[_0x91f9b5(0x6cf)](_0x29a2ae[_0x91f9b5(0x2a9)]);let _0x476505=await this[_0x91f9b5(0x7df)]({'request':_0x29a2ae,'schema':v,'ClassRef':M,'execute':_0x15d8f2=>A[_0x91f9b5(0x3cd)](_0x15d8f2,_0x3e6687,_0x2201d1)});_0x4fefe8[_0x91f9b5(0x5d0)](0xc8)['json'](_0x476505);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)]('editflow'),..._0x3cdac8,async(_0x486836,_0x564382)=>{const _0x5945ff=_0x4a226c;let _0x3179ad=_0x486836[_0x5945ff(0x2a9)],_0x4d00e2=_0x486836[_0x5945ff(0x49c)][_0x5945ff(0x6b4)];y[_0x5945ff(0x6cf)](_0x5945ff(0x2c6)),y['verbose'](_0x5945ff(0x824)),y[_0x5945ff(0x6cf)](_0x486836[_0x5945ff(0x2a9)]),delete _0x3179ad[_0x5945ff(0x84c)],delete _0x3179ad[_0x5945ff(0x20a)],delete _0x3179ad[_0x5945ff(0x77f)],delete _0x3179ad[_0x5945ff(0x319)];let _0x164d06=await this['dataValidate']({'request':_0x486836,'schema':v,'ClassRef':M,'execute':_0x36683b=>A[_0x5945ff(0x5a6)](_0x36683b,_0x3179ad,_0x4d00e2)});_0x564382['status'](0xc8)[_0x5945ff(0x782)](_0x164d06);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)](_0x4a226c(0x2e0)),..._0x3cdac8,async(_0x5536bf,_0x29f6b7)=>{const _0x4d290d=_0x4a226c;let _0x3873e8=_0x5536bf[_0x4d290d(0x2a9)],_0x8b0352=_0x5536bf[_0x4d290d(0x49c)][_0x4d290d(0x6b4)];y['verbose'](_0x4d290d(0x2c6)),y['verbose'](_0x4d290d(0x824)),y['verbose'](_0x5536bf[_0x4d290d(0x2a9)]);let _0x54a872=await this[_0x4d290d(0x7df)]({'request':_0x5536bf,'schema':v,'ClassRef':M,'execute':_0x5971b4=>A[_0x4d290d(0x627)](_0x5971b4,_0x3873e8,_0x8b0352)});_0x29f6b7['status'](0xc8)[_0x4d290d(0x782)](_0x54a872);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)](_0x4a226c(0x19b)),..._0x3cdac8,async(_0x184556,_0x3299f4)=>{const _0x1a2f3b=_0x4a226c;let _0x4272cb=_0x184556[_0x1a2f3b(0x2a9)],_0x3a088c=_0x184556['headers'][_0x1a2f3b(0x6b4)];y[_0x1a2f3b(0x6cf)]('request\x20received\x20in\x20editFlow'),y[_0x1a2f3b(0x6cf)](_0x1a2f3b(0x824)),y['verbose'](_0x184556[_0x1a2f3b(0x2a9)]);let _0x1385ab=await this[_0x1a2f3b(0x7df)]({'request':_0x184556,'schema':v,'ClassRef':M,'execute':_0xe58e19=>A['editFlowReply'](_0xe58e19,_0x4272cb,_0x3a088c)});_0x3299f4[_0x1a2f3b(0x5d0)](0xc8)[_0x1a2f3b(0x782)](_0x1385ab);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)]('editflowvaredit'),..._0x3cdac8,async(_0x1b32d7,_0x36bf29)=>{const _0x42e8a1=_0x4a226c;let _0x56dd89=_0x1b32d7[_0x42e8a1(0x2a9)],_0x9011fe=_0x1b32d7[_0x42e8a1(0x49c)]['apikey'];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x42e8a1(0x6cf)](_0x42e8a1(0x824)),y[_0x42e8a1(0x6cf)](_0x1b32d7[_0x42e8a1(0x2a9)]);let _0x5167be=await this['dataValidate']({'request':_0x1b32d7,'schema':v,'ClassRef':M,'execute':_0x339c79=>A[_0x42e8a1(0x395)](_0x339c79,_0x56dd89,_0x9011fe)});_0x36bf29['status'](0xc8)[_0x42e8a1(0x782)](_0x5167be);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)]('editflowgroup'),..._0x3cdac8,async(_0x1a1664,_0x31229f)=>{const _0x352f63=_0x4a226c;let _0x24aa70=_0x1a1664[_0x352f63(0x2a9)],_0x316d64=_0x1a1664[_0x352f63(0x49c)][_0x352f63(0x6b4)];y[_0x352f63(0x6cf)](_0x352f63(0x676)),y[_0x352f63(0x6cf)]('request\x20body:\x20'),y[_0x352f63(0x6cf)](_0x1a1664[_0x352f63(0x2a9)]);let _0x7c800d=await this[_0x352f63(0x7df)]({'request':_0x1a1664,'schema':v,'ClassRef':M,'execute':_0x4c2873=>A['editFlowGroup'](_0x4c2873,_0x24aa70,_0x316d64)});_0x31229f['status'](0xc8)[_0x352f63(0x782)](_0x7c800d);})[_0x4a226c(0x8a5)](this[_0x4a226c(0x84f)](_0x4a226c(0x2e8)),..._0x3cdac8,async(_0x1f2142,_0x2ae890)=>{const _0x3dfe38=_0x4a226c;let _0x25f6e8=_0x1f2142['body'],_0x3b75a8=_0x1f2142['headers'][_0x3dfe38(0x6b4)];y['verbose'](_0x3dfe38(0x821)),y[_0x3dfe38(0x6cf)](_0x3dfe38(0x824)),y[_0x3dfe38(0x6cf)](_0x1f2142['body']);let _0x355eda=await this[_0x3dfe38(0x7df)]({'request':_0x1f2142,'schema':v,'ClassRef':M,'execute':_0x10881a=>A[_0x3dfe38(0x846)](_0x10881a,_0x25f6e8,_0x3b75a8)});_0x2ae890[_0x3dfe38(0x5d0)](0xc8)['json'](_0x355eda);})[_0x4a226c(0x8a5)](this['routerPath'](_0x4a226c(0x790)),..._0x3cdac8,async(_0x4b2238,_0x200072)=>{const _0x5b8041=_0x4a226c;let _0x3b2fe2=_0x4b2238['body'],_0x38f289=_0x4b2238['headers'][_0x5b8041(0x6b4)];y[_0x5b8041(0x6cf)](_0x5b8041(0x6aa)),y[_0x5b8041(0x6cf)](_0x5b8041(0x824)),y['verbose'](_0x4b2238[_0x5b8041(0x2a9)]);let _0x2f9f9b=await this['dataValidate']({'request':_0x4b2238,'schema':v,'ClassRef':M,'execute':_0x3a5ba9=>A[_0x5b8041(0x7c8)](_0x3a5ba9,_0x3b2fe2,_0x38f289)});_0x200072[_0x5b8041(0x5d0)](0xc8)[_0x5b8041(0x782)](_0x2f9f9b);})[_0x4a226c(0x8a5)](this['routerPath'](_0x4a226c(0x6ff)),..._0x3cdac8,async(_0x1d5939,_0x261525)=>{const _0x1e1091=_0x4a226c;let _0x55f20a=_0x1d5939[_0x1e1091(0x2a9)];y[_0x1e1091(0x6cf)](_0x1e1091(0x6f1)),y[_0x1e1091(0x6cf)](_0x1e1091(0x824)),y['verbose'](_0x1d5939[_0x1e1091(0x2a9)]);let _0x5bb97e=await this[_0x1e1091(0x7df)]({'request':_0x1d5939,'schema':v,'ClassRef':M,'execute':_0xc5b64d=>A[_0x1e1091(0x2f7)](_0xc5b64d,_0x55f20a)});_0x261525[_0x1e1091(0x5d0)](0xc8)[_0x1e1091(0x782)](_0x5bb97e);})[_0x4a226c(0x435)](this[_0x4a226c(0x84f)](_0x4a226c(0x316)),..._0x3cdac8,async(_0x2a0451,_0x3937b8)=>{const _0x28446c=_0x4a226c;let _0x536c2d=_0x2a0451[_0x28446c(0x2a9)],_0x58dd60=_0x2a0451['headers'][_0x28446c(0x6b4)];y[_0x28446c(0x6cf)](_0x28446c(0x724)),y[_0x28446c(0x6cf)](_0x28446c(0x824)),y[_0x28446c(0x6cf)](_0x2a0451['body']);let _0x59413d=await this['dataValidate']({'request':_0x2a0451,'schema':v,'ClassRef':M,'execute':_0x269d4b=>A[_0x28446c(0x4f3)](_0x269d4b,_0x536c2d,_0x58dd60)});_0x3937b8[_0x28446c(0x5d0)](0xc8)[_0x28446c(0x782)](_0x59413d);})['get'](this['routerPath'](_0x4a226c(0x36f)),..._0x3cdac8,async(_0x1b719f,_0x51e68d)=>{const _0x1f5921=_0x4a226c;y[_0x1f5921(0x6cf)](_0x1f5921(0x656));let _0x3b5c09=await this[_0x1f5921(0x7df)]({'request':_0x1b719f,'schema':v,'ClassRef':M,'execute':_0x2e777a=>A[_0x1f5921(0x865)](_0x2e777a)});_0x51e68d['status'](0xc8)[_0x1f5921(0x782)](_0x3b5c09);});}},hi=O(require(a0_0x153f5d(0x2d1))),Z={};function ui(_0xe389c3,_0x2cd429,_0x3a59b0,_0x295ba6){Z[_0xe389c3]||(Z[_0xe389c3]={}),Z[_0xe389c3][_0x2cd429]={'id':_0x2cd429,'response':_0x3a59b0,'events':_0x295ba6};}function di(_0x5eb783,_0x964b0d){!Z[_0x5eb783]||!Z[_0x5eb783][_0x964b0d]||delete Z[_0x5eb783][_0x964b0d];}function J(_0x4428f5,_0x17ca3e,_0x222b5e){const _0x238ac3=a0_0x153f5d;if(!Z[_0x4428f5])return;let _0x116743=_0x238ac3(0x709)+JSON['stringify'](_0x222b5e)+'\x0a\x0a';Object[_0x238ac3(0x19c)](Z[_0x4428f5])[_0x238ac3(0x42e)](_0x1d545b=>{const _0x2fac54=_0x238ac3;_0x1d545b[_0x2fac54(0x609)][_0x2fac54(0x424)](_0x17ca3e)&&_0x1d545b[_0x2fac54(0x572)][_0x2fac54(0x2d3)](_0x116743);});}function pi(){const _0x2ab298=a0_0x153f5d;let _0x22205e={};for(let _0x17f489 in Z)_0x22205e[_0x17f489]=Object['values'](Z[_0x17f489])[_0x2ab298(0x26b)](_0x5b77f6=>({'id':_0x5b77f6['id'],'events':_0x5b77f6[_0x2ab298(0x609)]}));return _0x22205e;}var gi=require(a0_0x153f5d(0x71e)),Es=require(a0_0x153f5d(0x406)),Cs=class{},wo=new Es[(a0_0x153f5d(0x6c2))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yo=new Es[(a0_0x153f5d(0x6c2))]({'_id':{'type':String,'default':a0_0x153f5d(0x6dc)},'WebhookGlobal':{'type':wo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.['model'](Cs[a0_0x153f5d(0x525)],yo,'All_Instances_Config'),bo=hi[a0_0x153f5d(0x2b3)][a0_0x153f5d(0x658)](__dirname,a0_0x153f5d(0x680)),Ie=(0x0,Tt[a0_0x153f5d(0x4b4)])(),So=S[a0_0x153f5d(0x4be)](a0_0x153f5d(0x3aa))[a0_0x153f5d(0x841)],ie=[Sa,Ma,va[So]];Ie[a0_0x153f5d(0x258)](a0_0x153f5d(0x738),Tt['default'][a0_0x153f5d(0x4b2)](bo))[a0_0x153f5d(0x4be)](a0_0x153f5d(0x899),async(_0x58a08d,_0x47d74c)=>{const _0x3fa6a0=a0_0x153f5d;console[_0x3fa6a0(0x554)]('bateu\x20events');let _0x49b54f=_0x58a08d[_0x3fa6a0(0x544)]['instance'],_0x585844=(_0x58a08d[_0x3fa6a0(0x3e7)]['events']||'')[_0x3fa6a0(0x701)](','),_0x2407ff=(0x0,gi['v4'])();console[_0x3fa6a0(0x554)](_0x3fa6a0(0x295),_0x49b54f),console[_0x3fa6a0(0x554)]('Subscribed\x20Events:',_0x585844);let _0x114ea2=S['get'](_0x3fa6a0(0x3aa))[_0x3fa6a0(0x726)],_0x896c53=_0x58a08d['query']['apikey'];if(console[_0x3fa6a0(0x554)](_0x3fa6a0(0x731),_0x896c53),_0x114ea2[_0x3fa6a0(0x81e)]!==_0x896c53){console[_0x3fa6a0(0x554)](_0x3fa6a0(0x7fc));try{let _0x31d737=await ue[_0x3fa6a0(0x38b)][_0x3fa6a0(0x84e)](_0x49b54f);if(console['log'](_0x3fa6a0(0x459),_0x31d737),!_0x31d737||_0x31d737[_0x3fa6a0(0x6b4)]!==_0x896c53)return console[_0x3fa6a0(0x554)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x47d74c['status'](0x191)[_0x3fa6a0(0x5fe)](_0x3fa6a0(0x6f6));}catch(_0x4a08d6){return console['error'](_0x3fa6a0(0x6ef),_0x4a08d6),_0x47d74c[_0x3fa6a0(0x5d0)](0x191)[_0x3fa6a0(0x5fe)](_0x3fa6a0(0x1f1));}}if(!await Re(_0x49b54f))return _0x47d74c['status'](0x194)[_0x3fa6a0(0x5fe)](_0x3fa6a0(0x7ef));_0x47d74c['setHeader']('Content-Type',_0x3fa6a0(0x763)),_0x47d74c[_0x3fa6a0(0x279)](_0x3fa6a0(0x52b),_0x3fa6a0(0x55d)),_0x47d74c['setHeader']('Connection',_0x3fa6a0(0x1e1)),_0x47d74c['flushHeaders']();let _0x24032e=_0x3fa6a0(0x709)+JSON[_0x3fa6a0(0x706)]({'info':_0x3fa6a0(0x7d9)})+'\x0a\x0a';_0x47d74c[_0x3fa6a0(0x2d3)](_0x24032e),ui(_0x49b54f,_0x2407ff,_0x47d74c,_0x585844),_0x58a08d['on'](_0x3fa6a0(0x3df),()=>{const _0x2fe328=_0x3fa6a0;console[_0x2fe328(0x554)]('Connection\x20closed\x20for\x20instance:\x20'+_0x49b54f),di(_0x49b54f,_0x2407ff);});}),Ie[a0_0x153f5d(0x8a5)](a0_0x153f5d(0x7a8),async(_0x161b8a,_0xff88bf)=>{const _0x2762cd=a0_0x153f5d;console[_0x2762cd(0x554)]('iniciando\x20fluxo\x20router');let _0x2136c4=_0x161b8a[_0x2762cd(0x544)][_0x2762cd(0x257)],_0x1998a6=_0x161b8a['params'][_0x2762cd(0x4c6)],_0x202933=_0x161b8a[_0x2762cd(0x3e7)]['remoteJid']||'',_0x430a79=_0x161b8a[_0x2762cd(0x2a9)];console['log'](_0x2762cd(0x579),_0x2136c4),console[_0x2762cd(0x554)](_0x2762cd(0x62a),_0x1998a6),console[_0x2762cd(0x554)](_0x2762cd(0x77d),_0x202933),console[_0x2762cd(0x554)](_0x2762cd(0x82e),_0x430a79);try{if(!await Re(_0x2136c4))return _0xff88bf[_0x2762cd(0x5d0)](0x194)[_0x2762cd(0x5fe)](_0x2762cd(0x7ef));let _0x415f3b=await A[_0x2762cd(0x5ba)](_0x2136c4,_0x1998a6,_0x202933,_0x430a79);_0xff88bf[_0x2762cd(0x5fe)](_0x415f3b);}catch(_0x2241d9){console[_0x2762cd(0x617)](_0x2241d9),_0xff88bf[_0x2762cd(0x5d0)](0x1f4)['send'](_0x2762cd(0x81d));}}),Ie['get'](a0_0x153f5d(0x1bc),(_0x1a95c4,_0x20a62d)=>{let _0x134527=pi();_0x20a62d['json'](_0x134527);})[a0_0x153f5d(0x4be)]('/',(_0x3848f5,_0x56ade3)=>{const _0x42d73f=a0_0x153f5d;let _0x47226c=S[_0x42d73f(0x4be)](_0x42d73f(0x89b))[_0x42d73f(0x869)];if(_0x47226c){let _0x44a69d=encodeURIComponent(''+_0x47226c);_0x56ade3[_0x42d73f(0x675)](_0x42d73f(0x29e)+_0x44a69d);return;}let _0x57358b=S['get'](_0x42d73f(0x3f6)),_0x47f04b=_0x57358b&&_0x57358b[_0x42d73f(0x25f)][_0x42d73f(0x701)]('/')[0x4];if(_0x47f04b){let _0x1eb2d8=encodeURIComponent(_0x42d73f(0x842)+_0x47f04b);_0x56ade3['redirect'](_0x42d73f(0x29e)+_0x1eb2d8);}else _0x56ade3[_0x42d73f(0x675)](_0x42d73f(0x605));})[a0_0x153f5d(0x2cf)](a0_0x153f5d(0x3ed),...ie,async(_0xc47a1b,_0x4b10ef)=>{const _0x1cc205=a0_0x153f5d;try{console[_0x1cc205(0x554)](_0x1cc205(0x591)),_0x4b10ef[_0x1cc205(0x5d0)](0xc8)[_0x1cc205(0x782)]({'message':_0x1cc205(0x826)}),_0x4b10ef['on']('finish',()=>process['exit'](0x0));}catch(_0x10a5e6){console['error'](_0x1cc205(0x864),_0x10a5e6),_0x4b10ef[_0x1cc205(0x5d0)](0x1f4)[_0x1cc205(0x782)]({'message':_0x1cc205(0x356)});}})[a0_0x153f5d(0x2cf)](a0_0x153f5d(0x4eb),...ie,async(_0x1a5c6d,_0x2145de)=>{const _0x3baf88=a0_0x153f5d;try{let _0x419036=_0x1a5c6d[_0x3baf88(0x2a9)];await Se[_0x3baf88(0x499)]({},{'$set':_0x419036},{'upsert':!0x0});let _0x3c2eac=await Se['findOne']();_0x2145de[_0x3baf88(0x782)](_0x3c2eac);}catch(_0x269495){_0x2145de[_0x3baf88(0x5d0)](0x190)[_0x3baf88(0x5fe)](_0x269495['message']);}})['get'](a0_0x153f5d(0x4eb),...ie,async(_0x499e71,_0x3e41ed)=>{const _0x3298d5=a0_0x153f5d;try{let _0x19d1c6=await Se['findOne']();if(!_0x19d1c6)return _0x3e41ed['json']({});_0x3e41ed[_0x3298d5(0x782)](_0x19d1c6);}catch(_0x454312){_0x3e41ed[_0x3298d5(0x5d0)](0x1f4)[_0x3298d5(0x5fe)](_0x454312['message']);}})[a0_0x153f5d(0x258)](a0_0x153f5d(0x3ce),new mt(S,...ie)['router'])[a0_0x153f5d(0x258)](a0_0x153f5d(0x2f3),new Rt(...ie)[a0_0x153f5d(0x205)])['use'](a0_0x153f5d(0x19f),new ot(...ie)['router'])[a0_0x153f5d(0x258)](a0_0x153f5d(0x79f),new gt(...ie)[a0_0x153f5d(0x205)])[a0_0x153f5d(0x258)](a0_0x153f5d(0x723),new At(...ie)[a0_0x153f5d(0x205)])[a0_0x153f5d(0x258)](a0_0x153f5d(0x2fd),new Ot(...ie)[a0_0x153f5d(0x205)]);var m=class{constructor(..._0x1bf339){const _0x49f6c3=a0_0x153f5d;throw{'status':0x190,'error':_0x49f6c3(0x2c5),'message':_0x1bf339[_0x49f6c3(0x487)]>0x0?_0x1bf339:void 0x0};}},ae=class{constructor(..._0x1f6c39){throw{'status':0x191,'error':'Unauthorized','message':_0x1f6c39['length']>0x0?_0x1f6c39:void 0x0};}},Q=class{constructor(..._0x403dc8){const _0x6d97f=a0_0x153f5d;throw{'status':0x193,'error':_0x6d97f(0x604),'message':_0x403dc8['length']>0x0?_0x403dc8:void 0x0};}},U=class{constructor(..._0x127a34){const _0x3644e7=a0_0x153f5d;throw{'status':0x194,'error':'Not\x20Found','message':_0x127a34[_0x3644e7(0x487)]>0x0?_0x127a34:void 0x0};}},I=class{constructor(..._0x36db08){const _0x1b3cb0=a0_0x153f5d;throw{'status':0x1f4,'error':_0x1b3cb0(0x5c1),'message':_0x36db08[_0x1b3cb0(0x487)]>0x0?_0x36db08:void 0x0};}},de=require(a0_0x153f5d(0x612));async function vs(_0x41a187){const _0x2b5e72=a0_0x153f5d;let _0x172b10=new R(vs[_0x2b5e72(0x525)]),_0xb26b3f=$[_0x2b5e72(0x332)](),_0x571a20=_0xb26b3f['db'](S['get'](_0x2b5e72(0x5db))[_0x2b5e72(0x87a)][_0x2b5e72(0x553)]+_0x2b5e72(0x729))[_0x2b5e72(0x303)](_0x41a187),_0x5cc06f=async(_0x96c49f,_0x32eb51)=>{const _0x53607b=_0x2b5e72;try{return await _0xb26b3f['connect'](),await _0x571a20[_0x53607b(0x536)]({'_id':_0x32eb51},JSON[_0x53607b(0x3c5)](JSON[_0x53607b(0x706)](_0x96c49f,de['BufferJSON'][_0x53607b(0x397)])),{'upsert':!0x0});}catch{}},_0x44b072=async _0x9463ec=>{const _0x79da20=_0x2b5e72;try{await _0xb26b3f[_0x79da20(0x50f)]();let _0x1ca258=await _0x571a20['findOne']({'_id':_0x9463ec}),_0x3a1a87=JSON[_0x79da20(0x706)](_0x1ca258);return JSON['parse'](_0x3a1a87,de['BufferJSON'][_0x79da20(0x5a3)]);}catch{}},_0x33b6b8=async _0x24e68b=>{const _0x2e724c=_0x2b5e72;try{return await _0xb26b3f['connect'](),await _0x571a20[_0x2e724c(0x37f)]({'_id':_0x24e68b});}catch{}},_0x33ccaa=await _0x44b072(_0x2b5e72(0x796))||(0x0,de[_0x2b5e72(0x6ec)])();return{'state':{'creds':_0x33ccaa,'keys':{'get':async(_0x57460c,_0x254bce)=>{const _0xaca9f6=_0x2b5e72;let _0x289054={};return await Promise[_0xaca9f6(0x512)](_0x254bce[_0xaca9f6(0x26b)](async _0x365b69=>{const _0x2721e8=_0xaca9f6;let _0x28c2a5=await _0x44b072(_0x57460c+'-'+_0x365b69);_0x57460c===_0x2721e8(0x608)&&_0x28c2a5&&(_0x28c2a5=de[_0x2721e8(0x88d)][_0x2721e8(0x3dd)]['AppStateSyncKeyData'][_0x2721e8(0x805)](_0x28c2a5)),_0x289054[_0x365b69]=_0x28c2a5;})),_0x289054;},'set':async _0x18e146=>{const _0x5db317=_0x2b5e72;let _0xdbf45b=[];for(let _0x5e285b in _0x18e146)for(let _0x12e7b2 in _0x18e146[_0x5e285b]){let _0x16464b=_0x18e146[_0x5e285b][_0x12e7b2],_0x1c3215=_0x5e285b+'-'+_0x12e7b2;_0xdbf45b[_0x5db317(0x6f8)](_0x16464b?_0x5cc06f(_0x16464b,_0x1c3215):_0x33b6b8(_0x1c3215));}await Promise[_0x5db317(0x512)](_0xdbf45b);}}},'saveCreds':async()=>_0x5cc06f(_0x33ccaa,_0x2b5e72(0x796))};}var Os=O(require(a0_0x153f5d(0x3bc))),Ts=O(require('node-cache')),Dt=require(a0_0x153f5d(0x612)),mi=require(a0_0x153f5d(0x4bc)),xt=require(a0_0x153f5d(0x612)),It;function Mo(_0x3a7776){const _0x1cd360=a0_0x153f5d;return It||(It=(0x0,mi['createClient'])({'url':_0x3a7776[_0x1cd360(0x2e2)]}),It[_0x1cd360(0x50f)]()),It;}var ce=class c{constructor(_0x16e833,_0x153461){const _0x19d4df=a0_0x153f5d;this[_0x19d4df(0x70d)]=_0x16e833,this[_0x19d4df(0x401)]=_0x153461,this[_0x19d4df(0x21c)]=new R(c['name']),this[_0x19d4df(0x7de)]=Mo(_0x16e833);}set['reference'](_0x2c72c2){const _0x316dc7=a0_0x153f5d;this[_0x316dc7(0x401)]=_0x2c72c2;}async[a0_0x153f5d(0x37d)](){const _0x2dd9cc=a0_0x153f5d;try{return await this[_0x2dd9cc(0x7de)][_0x2dd9cc(0x528)](['keys',this[_0x2dd9cc(0x70d)][_0x2dd9cc(0x490)]+':*']);}catch(_0x1de88d){this[_0x2dd9cc(0x21c)][_0x2dd9cc(0x617)](_0x1de88d);}}async['writeData'](_0x251f66,_0x3e46cb){const _0xac9589=a0_0x153f5d;try{let _0x5338a1=JSON[_0xac9589(0x706)](_0x3e46cb,xt[_0xac9589(0x6c8)][_0xac9589(0x397)]);return await this[_0xac9589(0x7de)][_0xac9589(0x76e)](this[_0xac9589(0x70d)]['PREFIX_KEY']+':'+this[_0xac9589(0x401)],_0x251f66,_0x5338a1);}catch(_0x36e92c){this[_0xac9589(0x21c)][_0xac9589(0x617)](_0x36e92c);}}async['getAllData'](){const _0x1882d0=a0_0x153f5d;try{let _0x2ca28f=await this[_0x1882d0(0x7de)]['hGetAll'](this[_0x1882d0(0x70d)][_0x1882d0(0x490)]+':'+this[_0x1882d0(0x401)]);if(_0x2ca28f){for(let _0xed7949 in _0x2ca28f)Object[_0x1882d0(0x61e)]['hasOwnProperty']['call'](_0x2ca28f,_0xed7949)&&(_0x2ca28f[_0xed7949]=JSON[_0x1882d0(0x3c5)](_0x2ca28f[_0xed7949],xt[_0x1882d0(0x6c8)][_0x1882d0(0x5a3)]));return _0x2ca28f;}}catch(_0x37a83b){this[_0x1882d0(0x21c)][_0x1882d0(0x617)](_0x37a83b);}}async[a0_0x153f5d(0x2f0)](_0x2a4f52){const _0xaa4fae=a0_0x153f5d;try{let _0xed7240=await this[_0xaa4fae(0x7de)][_0xaa4fae(0x225)](this[_0xaa4fae(0x70d)][_0xaa4fae(0x490)]+':'+this[_0xaa4fae(0x401)],_0x2a4f52);if(_0xed7240)return JSON[_0xaa4fae(0x3c5)](_0xed7240,xt['BufferJSON'][_0xaa4fae(0x5a3)]);}catch(_0x28b915){this['logger'][_0xaa4fae(0x617)](_0x28b915);}}async[a0_0x153f5d(0x399)](_0x436e3b){const _0xaa8216=a0_0x153f5d;try{return await this[_0xaa8216(0x7de)]['hDel'](this[_0xaa8216(0x70d)][_0xaa8216(0x490)]+':'+this['instanceName'],_0x436e3b);}catch(_0x1f7525){this['logger'][_0xaa8216(0x617)](_0x1f7525);}}async['delAll'](_0x3a6607){const _0x59214a=a0_0x153f5d;try{return await this[_0x59214a(0x7de)][_0x59214a(0x75a)](_0x3a6607||this[_0x59214a(0x70d)][_0x59214a(0x490)]+':'+this[_0x59214a(0x401)]);}catch(_0x16390e){this[_0x59214a(0x21c)]['error'](_0x16390e);}}};async function Ns(_0xf6de47,_0x3651ea){const _0x236949=a0_0x153f5d;let _0xeae77e=new R(Ns[_0x236949(0x525)]),_0x152b16=new ce(_0xf6de47,_0x3651ea),_0x461690=async(_0x200b57,_0x44c90b)=>{const _0xf10d89=_0x236949;try{return await _0x152b16[_0xf10d89(0x623)](_0x44c90b,_0x200b57);}catch(_0x44a721){return _0xeae77e[_0xf10d89(0x617)]({'localError':_0xf10d89(0x623),'error':_0x44a721});}},_0xfde69d=async _0x135942=>{const _0x4766f0=_0x236949;try{return await _0x152b16[_0x4766f0(0x2f0)](_0x135942);}catch(_0x173802){_0xeae77e['error']({'readData':_0x4766f0(0x623),'error':_0x173802});return;}},_0x23cf55=async _0x5bffb7=>{const _0x4c0200=_0x236949;try{return await _0x152b16[_0x4c0200(0x399)](_0x5bffb7);}catch(_0x5955b8){_0xeae77e[_0x4c0200(0x617)]({'readData':'removeData','error':_0x5955b8});}},_0x3ff914=await _0xfde69d(_0x236949(0x796))||(0x0,Dt[_0x236949(0x6ec)])();return{'state':{'creds':_0x3ff914,'keys':{'get':async(_0x22e136,_0x4b9f9e)=>{const _0x261c3d=_0x236949;let _0x2e971a={};return await Promise[_0x261c3d(0x512)](_0x4b9f9e[_0x261c3d(0x26b)](async _0x401718=>{const _0x5c9064=_0x261c3d;let _0x32bf2a=await _0xfde69d(_0x22e136+'-'+_0x401718);_0x22e136==='app-state-sync-key'&&_0x32bf2a&&(_0x32bf2a=Dt[_0x5c9064(0x88d)][_0x5c9064(0x3dd)][_0x5c9064(0x1fc)][_0x5c9064(0x805)](_0x32bf2a)),_0x2e971a[_0x401718]=_0x32bf2a;})),_0x2e971a;},'set':async _0x21b0b2=>{const _0x34341e=_0x236949;let _0x326743=[];for(let _0x1cd651 in _0x21b0b2)for(let _0x5cee29 in _0x21b0b2[_0x1cd651]){let _0x559cbc=_0x21b0b2[_0x1cd651][_0x5cee29],_0x527924=_0x1cd651+'-'+_0x5cee29;_0x326743['push'](_0x559cbc?await _0x461690(_0x559cbc,_0x527924):await _0x23cf55(_0x527924));}await Promise[_0x34341e(0x512)](_0x326743);}}},'saveCreds':async()=>await _0x461690(_0x3ff914,_0x236949(0x796))};}var j=O(require('fs')),Me=require(a0_0x153f5d(0x71e)),jt=O(require(a0_0x153f5d(0x840))),Lt=require(a0_0x153f5d(0x486)),Co=a0_0x153f5d(0x452)[a0_0x153f5d(0x23d)](),_t=Co[a0_0x153f5d(0x701)]('\x0a')['map'](_0x4176e2=>{const _0x2f967e=a0_0x153f5d;let _0x5c8927=_0x4176e2[_0x2f967e(0x701)](':'),_0x3c60ca={'host':_0x5c8927[0x0],'port':_0x5c8927[0x1],'protocol':_0x2f967e(0x535)};return _0x5c8927['length']===0x4&&(_0x3c60ca[_0x2f967e(0x601)]=_0x5c8927[0x2],_0x3c60ca[_0x2f967e(0x39f)]=_0x5c8927[0x3]),_0x3c60ca;});function fi(_0x51378b){const _0x49137a=a0_0x153f5d;return _t[_0x49137a(0x84e)](_0x19b1ca=>_0x19b1ca[_0x49137a(0x47f)]===_0x51378b)||null;}function wi(){const _0x2cb600=a0_0x153f5d;if(_t[_0x2cb600(0x487)]===0x0)return null;let _0x295143=Math[_0x2cb600(0x5c4)](Math[_0x2cb600(0x4fe)]()*_t[_0x2cb600(0x487)]);return _t[_0x295143];}function Rs(_0xca5989){const _0x5a2618=a0_0x153f5d;let _0xd0dc57=_0x58e34a=>typeof _0x58e34a==_0x5a2618(0x60d)&&_0x58e34a['length']>0x0,_0x39ec9c=_0x101397=>{let _0x567388=parseInt(_0x101397,0xa);return!isNaN(_0x567388)&&_0x567388>0x0&&_0x567388<=0xffff;},_0x3d9825=_0x199bdd=>typeof _0x199bdd==_0x5a2618(0x60d)&&_0x199bdd['length']>0x0;return _0xca5989&&_0xd0dc57(_0xca5989['host'])&&_0x39ec9c(_0xca5989[_0x5a2618(0x3c6)])&&(!_0xca5989[_0x5a2618(0x601)]||_0x3d9825(_0xca5989[_0x5a2618(0x601)]))&&(!_0xca5989['password']||_0x3d9825(_0xca5989[_0x5a2618(0x39f)]))&&(_0xca5989[_0x5a2618(0x230)]===_0x5a2618(0x535)||_0xca5989['protocol']===_0x5a2618(0x1ee));}var Ft=require(a0_0x153f5d(0x39a)),Is=a0_0x153f5d(0x1ef),Ci,le=null,yi=null,tt=null,Eo=0x3,vo=null,ee=S['get'](a0_0x153f5d(0x3aa))[a0_0x153f5d(0x726)][a0_0x153f5d(0x81e)];async function No(){const _0x130d7c=a0_0x153f5d;let _0x4abd5f=await Se[_0x130d7c(0x88a)]();le=_0x4abd5f?.[_0x130d7c(0x510)]??null,vo=_0x4abd5f?.[_0x130d7c(0x5ec)]??null,Is=_0x4abd5f?.[_0x130d7c(0x1a6)]??'Safari',Ci=_0x4abd5f?.[_0x130d7c(0x6bc)]??xs??'uazapi',console[_0x130d7c(0x554)](_0x4abd5f);}async function Ro(){await No();}Ro();var Ce=class c{constructor(_0x1d262f,_0x3f4cbf,_0xbf1ef9){const _0x34e053=a0_0x153f5d;this[_0x34e053(0x494)]=_0x1d262f,this[_0x34e053(0x764)]=_0x3f4cbf,this[_0x34e053(0x2aa)]=_0xbf1ef9,this[_0x34e053(0x2a6)]=null,this['logger']=new R(c[_0x34e053(0x525)]),this['instance']={},this[_0x34e053(0x1af)]={},this[_0x34e053(0x4b3)]={'state':'close'},this['storePath']=(0x0,F[_0x34e053(0x658)])(re,'downloads'),this[_0x34e053(0x447)]=new Ts[(_0x34e053(0x2b3))](),this[_0x34e053(0x48c)]=new Ts[(_0x34e053(0x2b3))](),this[_0x34e053(0x305)]=!0x1,this[_0x34e053(0x68e)]={'status.instance':_0x34e053(0x60f),'connection.update':_0x34e053(0x60f),'qrcode.updated':_0x34e053(0x4a3),'messages.upsert':_0x34e053(0x3c2),'send.message':_0x34e053(0x3c2),'messages.update':_0x34e053(0x78c),'group.upsert':_0x34e053(0x630),'group.update':_0x34e053(0x630),'group-participants.update':_0x34e053(0x630),'messages.set':_0x34e053(0x871),'contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x34e053(0x72b),'presence.update':_0x34e053(0x327),'chats.set':'/wa-chats','chats.update':'/wa-chats','chats.upsert':'/wa-chats','chats.delete':_0x34e053(0x749)},this[_0x34e053(0x491)]=0x0,this[_0x34e053(0x59d)]=[],this[_0x34e053(0x5c5)]=0xa,this[_0x34e053(0x744)]=0xea60,this['isRunning']=!0x1,this[_0x34e053(0x497)]={'chats.upsert':async(_0x5f1ad0,_0x1be4e2)=>{const _0x30922a=_0x34e053;let _0xc87017=[];for await(let _0x1613ef of _0x5f1ad0)_0xc87017[_0x30922a(0x6f8)]({'_id':_0x1613ef['id'],'owner':this['instance'][_0x30922a(0x4d4)],'group':_0x1613ef['id'][_0x30922a(0x2cc)](_0x30922a(0x776)),'name':_0x1613ef[_0x30922a(0x525)]||_0x1613ef[_0x30922a(0x1b6)]||null,'contactname':null,'lastmsg':_0x1613ef[_0x30922a(0x697)]&&_0x1613ef[_0x30922a(0x697)][_0x30922a(0x894)]()[_0x30922a(0x487)]<0xd?_0x1613ef[_0x30922a(0x697)]*0x3e8:_0x1613ef[_0x30922a(0x697)]||null,'archived':_0x1613ef['archived']||!0x1,'unreadcount':_0x1613ef[_0x30922a(0x2ca)]||0x0,'ephemeralExpiration':_0x1613ef[_0x30922a(0x478)]||0x0});this[_0x30922a(0x6b8)](_0x30922a(0x711),_0xc87017);},'chats.update':async(_0x289c18,_0x18cd19)=>{const _0x5ea298=_0x34e053;for(let _0x33f3c4 of _0x289c18){let _0x1997e5={'_id':_0x33f3c4['id'],'owner':this[_0x5ea298(0x257)][_0x5ea298(0x4d4)],'archived':_0x33f3c4[_0x5ea298(0x2c0)],'muteEndTime':_0x33f3c4['muteEndTime'],'ephemeralExpiration':_0x33f3c4[_0x5ea298(0x478)]},_0x2050ef=!0x1,_0x2e202d={};_0x1997e5[_0x5ea298(0x2c0)]!=null&&(this['logger'][_0x5ea298(0x6cf)](this['instanceName']+'\x20('+this['instance'][_0x5ea298(0x4d4)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x33f3c4['id']+_0x5ea298(0x5e5)+_0x33f3c4[_0x5ea298(0x2c0)]),_0x2050ef=!0x0,_0x2e202d[_0x5ea298(0x2c0)]=_0x33f3c4[_0x5ea298(0x2c0)]),'muteEndTime'in _0x33f3c4&&(this['logger'][_0x5ea298(0x6cf)](this[_0x5ea298(0x401)]+'\x20('+this[_0x5ea298(0x257)]['wuid']+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x33f3c4['id']+_0x5ea298(0x5e5)+(_0x33f3c4[_0x5ea298(0x49a)]??'0')),_0x2050ef=!0x0,_0x2e202d[_0x5ea298(0x49a)]=_0x33f3c4[_0x5ea298(0x49a)]??0x0),_0x5ea298(0x478)in _0x33f3c4&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5ea298(0x257)]['wuid']+_0x5ea298(0x46c)+_0x33f3c4['id']+_0x5ea298(0x5e5)+(_0x33f3c4['ephemeralExpiration']!==void 0x0?_0x33f3c4[_0x5ea298(0x478)]:'undefined')),_0x2e202d[_0x5ea298(0x478)]=_0x33f3c4[_0x5ea298(0x478)]===null?0x0:_0x33f3c4[_0x5ea298(0x478)],_0x2050ef=!0x0);let _0x13a709;_0x2050ef&&(_0x13a709=await this['repository'][_0x5ea298(0x2ab)]['updateOne']({'where':{'_id':_0x33f3c4['id']}},_0x2e202d,this[_0x5ea298(0x257)]['wuid'])),_0x13a709&&J(this[_0x5ea298(0x401)],_0x5ea298(0x7a3),{'chat':_0x13a709});}},'chats.delete':async _0xd78da5=>{const _0x13a69a=_0x34e053;for(let _0xd8b082 of _0xd78da5)if(_0xd8b082[_0x13a69a(0x2cc)](_0x13a69a(0x776))){await this[_0x13a69a(0x2aa)][_0x13a69a(0x2ab)][_0x13a69a(0x435)]({'where':{'_id':_0xd8b082}},this['instance'][_0x13a69a(0x4d4)]);let _0x30e09d={'where':{'key':{'remoteJid':_0xd8b082}}};await this[_0x13a69a(0x2aa)][_0x13a69a(0x690)][_0x13a69a(0x435)](_0x30e09d,this['instance'][_0x13a69a(0x4d4)]);}else{await this[_0x13a69a(0x2aa)][_0x13a69a(0x2ab)]['updateOne']({'where':{'_id':_0xd8b082}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x13a69a(0x257)]['wuid']);let _0x332ef2={'where':{'key':{'remoteJid':_0xd8b082}}};await this[_0x13a69a(0x2aa)][_0x13a69a(0x690)][_0x13a69a(0x435)](_0x332ef2,this[_0x13a69a(0x257)]['wuid']);}this[_0x13a69a(0x6b8)](_0x13a69a(0x413),[..._0xd78da5]);}},this['contactHandle']={'contacts.upsert':async(_0x157c2a,_0x31df2d)=>{const _0x121128=_0x34e053;let _0x5960cd=await this[_0x121128(0x2aa)]['contact'][_0x121128(0x84e)]({'where':{}},this[_0x121128(0x257)][_0x121128(0x4d4)]),_0x9151e1=[];for await(let _0x7cae14 of _0x157c2a)_0x5960cd[_0x121128(0x84e)](_0x4bc75a=>_0x4bc75a['_id']===_0x7cae14['id'])||_0x9151e1[_0x121128(0x6f8)]({'_id':_0x7cae14['id'],'pushName':_0x7cae14?.[_0x121128(0x525)]||_0x7cae14?.[_0x121128(0x229)],'owner':this['instance']['wuid']});this['sendDataWebhook'](_0x121128(0x221),_0x9151e1),await this['repository'][_0x121128(0x53c)][_0x121128(0x358)](_0x9151e1);},'contacts.update':async(_0x5d6675,_0x12dcad)=>{const _0x377070=_0x34e053;let _0x2710f4=[];for await(let _0x3b2bfa of _0x5d6675)_0x2710f4[_0x377070(0x6f8)]({'_id':_0x3b2bfa['id'],'pushName':_0x3b2bfa?.[_0x377070(0x525)]??_0x3b2bfa?.[_0x377070(0x229)],'owner':this['instance'][_0x377070(0x4d4)]});this[_0x377070(0x6b8)](_0x377070(0x386),_0x2710f4);}},this[_0x34e053(0x4e5)]={'messaging-history.set':async({messages:_0xc67bc8,chats:_0x1d93d9,isLatest:_0x41c18c},_0x14e504)=>{const _0x44cf6e=_0x34e053;if(_0x41c18c){let _0x436f32=await Promise[_0x44cf6e(0x512)](_0x1d93d9[_0x44cf6e(0x26b)](async _0x3efa2c=>({'_id':_0x3efa2c['id'],'owner':this[_0x44cf6e(0x257)]['wuid'],'group':_0x3efa2c['id'][_0x44cf6e(0x2cc)](_0x44cf6e(0x776)),'name':_0x3efa2c[_0x44cf6e(0x525)]||_0x3efa2c[_0x44cf6e(0x1b6)]||_0x3efa2c[_0x44cf6e(0x601)]||null,'contactname':null,'lastmsg':_0x3efa2c[_0x44cf6e(0x697)]&&_0x3efa2c['conversationTimestamp'][_0x44cf6e(0x894)]()[_0x44cf6e(0x487)]<0xd?_0x3efa2c[_0x44cf6e(0x697)]*0x3e8:_0x3efa2c[_0x44cf6e(0x697)]||null,'archived':_0x3efa2c[_0x44cf6e(0x2c0)]||!0x1,'unreadcount':_0x3efa2c['unreadCount']||0x0,'ephemeralExpiration':_0x3efa2c[_0x44cf6e(0x478)]||0x0,'muteEndTime':_0x3efa2c[_0x44cf6e(0x49a)]||0x0})));this['sendDataWebhook'](_0x44cf6e(0x636),_0x436f32),await this[_0x44cf6e(0x72c)](_0x436f32,_0x14e504);}let _0x345e4f=[],_0x573a4c=Date[_0x44cf6e(0x2fb)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4600d0]of Object[_0x44cf6e(0x32f)](_0xc67bc8)){if(_0x4600d0['message']?.[_0x44cf6e(0x83e)]||_0x4600d0[_0x44cf6e(0x690)]?.['senderKeyDistributionMessage']||!_0x4600d0[_0x44cf6e(0x690)]||_0x4600d0[_0x44cf6e(0x76f)][_0x44cf6e(0x28b)]===_0x44cf6e(0x47a)||(Os[_0x44cf6e(0x2b3)][_0x44cf6e(0x285)](_0x4600d0?.[_0x44cf6e(0x1c9)])&&(_0x4600d0[_0x44cf6e(0x1c9)]=_0x4600d0['messageTimestamp']?.[_0x44cf6e(0x33d)]()),_0x4600d0[_0x44cf6e(0x1c9)]&&_0x4600d0['messageTimestamp']['toString']()[_0x44cf6e(0x487)]<0xd&&(_0x4600d0['messageTimestamp']=_0x4600d0[_0x44cf6e(0x1c9)]*0x3e8),_0x4600d0[_0x44cf6e(0x1c9)]<_0x573a4c))continue;let _0x9e596d=(0x0,w[_0x44cf6e(0x6d5)])(_0x4600d0[_0x44cf6e(0x690)]),_0x6db0d2=(0x0,w[_0x44cf6e(0x23c)])(_0x9e596d),{message_normalized:_0x2b6597}=this[_0x44cf6e(0x3f1)](_0x9e596d,_0x6db0d2,null);Object[_0x44cf6e(0x60b)](_0x2b6597)['length']>0x0&&_0x345e4f[_0x44cf6e(0x6f8)]({'_id':_0x4600d0[_0x44cf6e(0x76f)]['id'],'key':_0x4600d0['key'],'pushName':_0x4600d0[_0x44cf6e(0x32b)],'participant':_0x4600d0[_0x44cf6e(0x5c3)],'message':_0x9e596d,'messageType':_0x6db0d2,'message_normalized':{'key':_0x4600d0[_0x44cf6e(0x76f)],'pushName':_0x4600d0[_0x44cf6e(0x32b)],'messageTimestamp':_0x4600d0[_0x44cf6e(0x1c9)],..._0x2b6597},'messageTimestamp':_0x4600d0[_0x44cf6e(0x1c9)],'owner':this['instance']['wuid']});}_0x14e504[_0x44cf6e(0x3e1)]&&_0x345e4f[_0x44cf6e(0x487)]>0x0&&(this[_0x44cf6e(0x21c)][_0x44cf6e(0x6cf)](this[_0x44cf6e(0x401)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x345e4f['length']+_0x44cf6e(0x1ae)+this[_0x44cf6e(0x257)][_0x44cf6e(0x4d4)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x44cf6e(0x2aa)]['message'][_0x44cf6e(0x358)]([..._0x345e4f],this[_0x44cf6e(0x257)][_0x44cf6e(0x4d4)])),this[_0x44cf6e(0x6b8)]('messages.set',[..._0x345e4f]),_0xc67bc8=void 0x0;},'messages.upsert':async({messages:_0x45ea14,type:_0x5dc38e},_0x48d066)=>{const _0x3ecd97=_0x34e053;let _0x41ed0c=_0x45ea14[0x0],_0x3611d8=_0x41ed0c[_0x3ecd97(0x6f9)]&&_0x41ed0c[_0x3ecd97(0x6f9)][0x0]===_0x3ecd97(0x43d);if(this['localWebhook']?.['groups_ignore']&&_0x41ed0c['key']['remoteJid'][_0x3ecd97(0x424)](_0x3ecd97(0x776))){this['logger'][_0x3ecd97(0x6cf)](this[_0x3ecd97(0x401)]+'\x20('+this[_0x3ecd97(0x257)][_0x3ecd97(0x4d4)]+_0x3ecd97(0x705));return;}if(_0x3611d8){for(let _0x17df83=0x0;_0x17df83<0x5;_0x17df83++)try{await this[_0x3ecd97(0x7de)][_0x3ecd97(0x759)](JSON[_0x3ecd97(0x3c5)](_0x41ed0c[_0x3ecd97(0x6f9)][0x1],w['BufferJSON'][_0x3ecd97(0x5a3)])),this['logger']['info'](this['instanceName']+'\x20('+this['instance'][_0x3ecd97(0x4d4)]+_0x3ecd97(0x378)+(_0x17df83+0x1)+_0x3ecd97(0x1e5)+_0x41ed0c[_0x3ecd97(0x76f)]['id']+_0x3ecd97(0x577)+_0x41ed0c[_0x3ecd97(0x76f)]['remoteJid']+')');break;}catch(_0x14ff0d){if(this[_0x3ecd97(0x21c)][_0x3ecd97(0x617)](this[_0x3ecd97(0x401)]+'\x20('+this['instance'][_0x3ecd97(0x4d4)]+_0x3ecd97(0x63e)+(_0x17df83+0x1)+_0x3ecd97(0x5bd)+_0x41ed0c['key']['id']+_0x3ecd97(0x577)+_0x41ed0c[_0x3ecd97(0x76f)][_0x3ecd97(0x28b)]+')'),_0x17df83===0x4)throw _0x14ff0d;await new Promise(_0x449b16=>setTimeout(_0x449b16,0x7d0));}}if(_0x5dc38e!=='notify'||!_0x41ed0c?.[_0x3ecd97(0x690)]||_0x41ed0c['message']?.[_0x3ecd97(0x83e)]||_0x41ed0c[_0x3ecd97(0x690)]['senderKeyDistributionMessage']||_0x41ed0c['key']['remoteJid']===_0x3ecd97(0x47a))return;let _0x2f35f4=null,_0x4d6d47=null;try{_0x2f35f4=await this[_0x3ecd97(0x514)](_0x41ed0c),_0x4d6d47=_0x2f35f4?_0x2f35f4[_0x3ecd97(0x658)](','):null;}catch(_0x353d47){this['logger'][_0x3ecd97(0x6cf)](this['instanceName']+'\x20('+this[_0x3ecd97(0x257)][_0x3ecd97(0x4d4)]+_0x3ecd97(0x342)+(_0x353d47 instanceof Error?_0x353d47[_0x3ecd97(0x690)]:JSON[_0x3ecd97(0x706)](_0x353d47,null,0x2))),_0x4d6d47=_0x3ecd97(0x3e8);}this[_0x3ecd97(0x7de)][_0x3ecd97(0x2b9)](_0x3ecd97(0x353)),Os['default'][_0x3ecd97(0x285)](_0x41ed0c['messageTimestamp'])&&(_0x41ed0c[_0x3ecd97(0x1c9)]=_0x41ed0c[_0x3ecd97(0x1c9)]?.['toNumber']()),_0x41ed0c[_0x3ecd97(0x1c9)]&&_0x41ed0c['messageTimestamp'][_0x3ecd97(0x894)]()[_0x3ecd97(0x487)]<0xd&&(_0x41ed0c[_0x3ecd97(0x1c9)]=_0x41ed0c[_0x3ecd97(0x1c9)]*0x3e8);let _0x471c46=_0x41ed0c[_0x3ecd97(0x690)],_0x414960=(0x0,w[_0x3ecd97(0x6d5)])(_0x471c46),_0x289981=(0x0,w['getContentType'])(_0x414960),{messageContent:_0xf8f9a5,message_normalized:_0x1f5d3b}=this['normalizeMessage'](_0x414960,_0x289981,_0x4d6d47);_0x289981===_0x3ecd97(0x83e)&&_0xf8f9a5?.[_0x3ecd97(0x21e)]&&(_0x289981=_0x3ecd97(0x21e));let _0x25805e,_0x35a1f3=_0x41ed0c[_0x3ecd97(0x76f)][_0x3ecd97(0x28b)][_0x3ecd97(0x2cc)](_0x3ecd97(0x776));if(_0x41ed0c['key'][_0x3ecd97(0x78a)])_0x25805e=this[_0x3ecd97(0x257)][_0x3ecd97(0x420)];else{let _0x3146bb=_0x35a1f3?_0x41ed0c['key'][_0x3ecd97(0x5c3)]:_0x41ed0c[_0x3ecd97(0x76f)]['remoteJid'];_0x25805e=(await this[_0x3ecd97(0x65d)](_0x3146bb,_0x41ed0c[_0x3ecd97(0x32b)],!0x1))[_0x3ecd97(0x6be)][_0x3ecd97(0x25c)];}let _0x4156f4={'_id':_0x41ed0c[_0x3ecd97(0x76f)]['id'],'key':_0x41ed0c[_0x3ecd97(0x76f)],'isGroup':_0x35a1f3,'profilePictureUrl':_0x25805e,'pushName':_0x41ed0c['pushName'],'message':_0x414960,'messageType':_0x289981,'message_normalized':{'key':_0x41ed0c[_0x3ecd97(0x76f)],'pushName':_0x41ed0c[_0x3ecd97(0x32b)],'messageTimestamp':_0x41ed0c[_0x3ecd97(0x1c9)],'source':(0x0,w[_0x3ecd97(0x72a)])(_0x41ed0c[_0x3ecd97(0x76f)]['id']),..._0x1f5d3b},'messageTimestamp':_0x41ed0c[_0x3ecd97(0x1c9)],'owner':this[_0x3ecd97(0x257)][_0x3ecd97(0x4d4)],'source':(0x0,w[_0x3ecd97(0x72a)])(_0x41ed0c[_0x3ecd97(0x76f)]['id']),'expiration':_0xf8f9a5?.[_0x3ecd97(0x4cc)]?.[_0x3ecd97(0x6a6)]||0x0};_0xf8f9a5||(console[_0x3ecd97(0x617)]('Mensagem\x20não\x20suportada'),this[_0x3ecd97(0x21c)][_0x3ecd97(0x617)](_0x4156f4)),this[_0x3ecd97(0x21c)]['log'](this[_0x3ecd97(0x401)]+'\x20('+this[_0x3ecd97(0x257)][_0x3ecd97(0x4d4)]+_0x3ecd97(0x342)+(_0x4156f4[_0x3ecd97(0x76f)]?.['fromMe']?'enviado\x20para':_0x3ecd97(0x479))+'\x20['+_0x4156f4['key']?.[_0x3ecd97(0x28b)][_0x3ecd97(0x72d)]('@s.whatsapp.net','')+_0x3ecd97(0x4c1)+_0x4156f4[_0x3ecd97(0x501)]+')'),_0x4156f4[_0x3ecd97(0x7f4)]?.[_0x3ecd97(0x30b)]&&this[_0x3ecd97(0x21c)][_0x3ecd97(0x554)](_0x41ed0c[_0x3ecd97(0x76f)]['id']+':\x20'+_0x4156f4[_0x3ecd97(0x7f4)]?.[_0x3ecd97(0x30b)]),await this[_0x3ecd97(0x2aa)][_0x3ecd97(0x690)][_0x3ecd97(0x358)]([_0x4156f4],this['instance']['wuid']),this[_0x3ecd97(0x6b8)](_0x3ecd97(0x760),_0x4156f4),J(this[_0x3ecd97(0x401)],_0x3ecd97(0x212),{'message':_0x4156f4}),_0x41ed0c[_0x3ecd97(0x76f)][_0x3ecd97(0x28b)]!==_0x3ecd97(0x47a)&&await this[_0x3ecd97(0x5e2)](_0x48d066,_0x4156f4,'MESSAGES_UPSERT');},'messages.update':async(_0x1e3158,_0x441358)=>{const _0x2dc3ce=_0x34e053;let _0x5732ce={0x0:'ERROR',0x1:_0x2dc3ce(0x27e),0x2:_0x2dc3ce(0x812),0x3:_0x2dc3ce(0x7c0),0x4:'READ',0x5:_0x2dc3ce(0x662)};for await(let {key:_0x35bc56,update:_0xb0ddbd}of _0x1e3158){if(this[_0x2dc3ce(0x1af)]?.['groups_ignore']&&_0x35bc56[_0x2dc3ce(0x28b)][_0x2dc3ce(0x424)](_0x2dc3ce(0x776))){this['logger'][_0x2dc3ce(0x6cf)](this[_0x2dc3ce(0x401)]+'\x20('+this['instance']['wuid']+_0x2dc3ce(0x7a5));return;}if(_0x35bc56[_0x2dc3ce(0x28b)]!==_0x2dc3ce(0x47a)){let _0x2467ad=Date['now'](),_0x18e149;_0xb0ddbd[_0x2dc3ce(0x690)]===null&&_0xb0ddbd[_0x2dc3ce(0x5d0)]===void 0x0?_0x18e149=_0x2dc3ce(0x2be):_0x18e149=_0x5732ce[_0xb0ddbd[_0x2dc3ce(0x5d0)]];let _0x5c49c8=_0x35bc56[_0x2dc3ce(0x28b)][_0x2dc3ce(0x72d)](/:\d{1,2}@/g,'@'),_0x36d3f1={..._0x35bc56,'remoteJid':_0x5c49c8,'status':_0x18e149,'datetime':_0x2467ad,'owner':this[_0x2dc3ce(0x257)]['wuid']};this[_0x2dc3ce(0x6b8)](_0x2dc3ce(0x2e1),_0x36d3f1),await this[_0x2dc3ce(0x5e7)](_0x35bc56,_0x36d3f1);}}},'labels.association':async({type:_0xb6a7d1,association:_0x44845b})=>{const _0x27378a=_0x34e053;if(_0x44845b['type']==='label_jid'){let _0x2eaa6e,_0xbf4141=0x0;for(;!_0x2eaa6e&&_0xbf4141<this[_0x27378a(0x3a9)];)_0x2eaa6e=await this[_0x27378a(0x2aa)][_0x27378a(0x2ab)][_0x27378a(0x88a)]({'where':{'_id':_0x44845b[_0x27378a(0x44a)]}},this[_0x27378a(0x257)][_0x27378a(0x4d4)]),_0x2eaa6e||(_0xbf4141++,this[_0x27378a(0x21c)][_0x27378a(0x4e8)](this[_0x27378a(0x401)]+'\x20('+this[_0x27378a(0x257)][_0x27378a(0x4d4)]+'):\x20Chat\x20'+_0x44845b[_0x27378a(0x44a)]+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this['delayChatLabel_RETRY_DELAY_MS']+_0x27378a(0x3cb)+_0xbf4141+'/'+this[_0x27378a(0x3a9)]+')'),await this[_0x27378a(0x798)](this[_0x27378a(0x1d4)]));if(!_0x2eaa6e){console[_0x27378a(0x617)](_0x27378a(0x7b8)+_0x44845b[_0x27378a(0x44a)]+_0x27378a(0x1e8)+this['delayChatLabel_MAX_RETRIES']+_0x27378a(0x7a4));return;}switch(_0xb6a7d1){case'add':console['log'](_0x44845b),await this[_0x27378a(0x2aa)][_0x27378a(0x2ab)][_0x27378a(0x499)]({'where':{'_id':_0x44845b[_0x27378a(0x44a)]}},{'leadInfo.etiquetas':_0x44845b['labelId']},this[_0x27378a(0x257)]['wuid'],void 0x0,_0x27378a(0x819));break;case _0x27378a(0x5f5):console['log'](_0x44845b),await this[_0x27378a(0x2aa)][_0x27378a(0x2ab)][_0x27378a(0x499)]({'where':{'_id':_0x44845b[_0x27378a(0x44a)]}},{'leadInfo.etiquetas':_0x44845b[_0x27378a(0x62b)]},this['instance'][_0x27378a(0x4d4)],void 0x0,_0x27378a(0x34e));break;default:console[_0x27378a(0x617)](_0x27378a(0x215)+_0xb6a7d1+']');}}},'labels.edit':async _0x795e93=>{const _0x492155=_0x34e053;if(!_0x795e93||!_0x795e93['id']){console[_0x492155(0x617)](_0x492155(0x62c));return;}if(!_0x795e93['deleted']){let _0x40633f=['#ff9484',_0x492155(0x850),_0x492155(0x507),_0x492155(0x73d),_0x492155(0x741),_0x492155(0x200),_0x492155(0x29f),_0x492155(0x33f),_0x492155(0x219),_0x492155(0x493),_0x492155(0x3f7),'#ffc5c7',_0x492155(0x4d5),_0x492155(0x648),'#00a1f2',_0x492155(0x7e4),'#ffae04',_0x492155(0x434),_0x492155(0x59e),_0x492155(0x5ab)],_0xa26c1d;typeof _0x795e93['color']==_0x492155(0x58a)&&_0x795e93['color']>=0x0&&_0x795e93[_0x492155(0x7e2)]<_0x40633f[_0x492155(0x487)]?_0xa26c1d=_0x40633f[_0x795e93['color']]:(console[_0x492155(0x617)](_0x492155(0x357),_0x795e93['color']),_0xa26c1d='#000000');let _0x3ca89e={'_id':_0x795e93['id'],'colorHex':_0xa26c1d,'color':_0x795e93?.[_0x492155(0x7e2)],'name':_0x795e93?.[_0x492155(0x525)],'owner':this[_0x492155(0x257)][_0x492155(0x4d4)]};await this[_0x492155(0x2aa)]['label'][_0x492155(0x499)]({'where':{'_id':_0x795e93['id']}},_0x3ca89e,this[_0x492155(0x257)]['wuid']),this[_0x492155(0x21c)][_0x492155(0x4e8)](this['instanceName']+'\x20('+this[_0x492155(0x257)][_0x492155(0x4d4)]+'):\x20Rótulo\x20atualizado:\x20'+_0x795e93);}_0x795e93[_0x492155(0x7fd)]&&(await this[_0x492155(0x2aa)]['label']['delete']({'where':{'_id':_0x795e93['id']}},this[_0x492155(0x257)][_0x492155(0x4d4)]),this[_0x492155(0x21c)][_0x492155(0x4e8)](_0x492155(0x626)+_0x795e93['id']));}},this[_0x34e053(0x49f)]={'groups.upsert':async _0x5a475b=>{const _0x1cf0c9=_0x34e053;this['localWebhook']?.['groups_ignore']||this[_0x1cf0c9(0x6b8)](_0x1cf0c9(0x533),_0x5a475b);for(let _0xeb6156 of _0x5a475b)await this['updateGroupWebhook'](_0xeb6156);},'groups.update':async _0x3c49b8=>{const _0x197efa=_0x34e053;this[_0x197efa(0x1af)]?.[_0x197efa(0x820)]||this['sendDataWebhook'](_0x197efa(0x66e),_0x3c49b8);for(let _0x180e0a of _0x3c49b8)await this[_0x197efa(0x2de)](_0x180e0a);},'group-participants.update':async _0x37ad6a=>{const _0x531a70=_0x34e053;this['localWebhook']?.['groups_ignore']||this[_0x531a70(0x6b8)](_0x531a70(0x7cb),_0x37ad6a),await this[_0x531a70(0x26a)](_0x37ad6a);}},this[_0x34e053(0x3a9)]=0x5,this[_0x34e053(0x1d4)]=0x1388,this[_0x34e053(0x514)]=async _0x4a3208=>{const _0xfbc139=_0x34e053;if(_0x4a3208[_0xfbc139(0x690)]?.[_0xfbc139(0x450)]){let _0x2fa0b3=await this[_0xfbc139(0x1cc)](_0x4a3208[_0xfbc139(0x690)][_0xfbc139(0x450)][_0xfbc139(0x55e)],!0x0);if(_0x2fa0b3){let _0x4b2651=_0x2fa0b3[_0xfbc139(0x76f)][_0xfbc139(0x78a)]?this['instance']['wuid']+_0xfbc139(0x47b):_0x2fa0b3[_0xfbc139(0x76f)]['participant']||_0x2fa0b3[_0xfbc139(0x76f)][_0xfbc139(0x28b)],_0x34db04=_0x2fa0b3[_0xfbc139(0x76f)]['id'],_0x1f299a=_0x2fa0b3[_0xfbc139(0x690)],_0x5b6fe3=Buffer[_0xfbc139(0x2bd)](_0x1f299a[_0xfbc139(0x3d5)]['messageSecret'][_0xfbc139(0x894)](_0xfbc139(0x719)),_0xfbc139(0x719)),_0x36afae=(0x0,w[_0xfbc139(0x702)])(_0x4a3208[_0xfbc139(0x690)]['pollUpdateMessage'][_0xfbc139(0x70e)],{'pollCreatorJid':_0x4b2651,'pollMsgId':_0x34db04,'pollEncKey':_0x5b6fe3,'voterJid':_0x4a3208[_0xfbc139(0x76f)][_0xfbc139(0x78a)]?this[_0xfbc139(0x257)]['wuid']+_0xfbc139(0x47b):_0x4a3208[_0xfbc139(0x76f)][_0xfbc139(0x28b)][_0xfbc139(0x2cc)](_0xfbc139(0x380))?_0x4a3208[_0xfbc139(0x76f)][_0xfbc139(0x5c3)]:_0x4a3208[_0xfbc139(0x76f)][_0xfbc139(0x28b)]}),_0x1b6167=[],_0x320ec0=_0x36afae['selectedOptions'][_0xfbc139(0x26b)](_0x210617=>Buffer[_0xfbc139(0x2bd)](_0x210617)[_0xfbc139(0x894)](_0xfbc139(0x719)));for(let {optionName:_0x29e0b1}of _0x1f299a[_0xfbc139(0x734)]?.[_0xfbc139(0x4f5)]||_0x1f299a[_0xfbc139(0x242)]?.[_0xfbc139(0x4f5)]||_0x1f299a[_0xfbc139(0x6ed)]?.[_0xfbc139(0x4f5)])_0x320ec0[_0xfbc139(0x5e0)]((0x0,w['sha256'])(Buffer[_0xfbc139(0x2bd)](_0x29e0b1))[_0xfbc139(0x894)](_0xfbc139(0x719)))>-0x1&&_0x1b6167[_0xfbc139(0x6f8)](_0x29e0b1);return _0x1b6167;}}return null;},this[_0x34e053(0x3f1)]=(_0x441387,_0x491e9d,_0x2848b4)=>{const _0x1a9000=_0x34e053;try{let _0x1cb78d=_0x441387?(0x0,w[_0x1a9000(0x1cb)])(_0x441387)[_0x491e9d]:void 0x0,_0x2d7241={},_0x2bf286=null,_0x9d16b8=null,_0x4ecf2f=null;_0x491e9d===_0x1a9000(0x83e)&&_0x1cb78d?.[_0x1a9000(0x21e)]&&(_0x491e9d=(0x0,w[_0x1a9000(0x23c)])(_0x1cb78d['editedMessage']),_0x2bf286=_0x441387[_0x1a9000(0x83e)][_0x1a9000(0x76f)]['id'],_0x1cb78d=_0x441387[_0x1a9000(0x83e)][_0x1a9000(0x21e)][_0x491e9d]),_0x441387[_0x491e9d]?.[_0x1a9000(0x4cc)]?.[_0x1a9000(0x4af)]&&_0x441387[_0x491e9d]?.[_0x1a9000(0x4cc)]?.['quotedMessage']&&(_0x9d16b8=_0x441387[_0x491e9d]['contextInfo']['stanzaId']),_0x441387['reactionMessage']&&(_0x4ecf2f=_0x441387[_0x1a9000(0x816)][_0x1a9000(0x76f)]['id']);let _0x3d07d3;if(_0x1cb78d&&typeof _0x1cb78d==_0x1a9000(0x5dc)&&_0x1a9000(0x55e)in _0x1cb78d&&({pollCreationMessageKey:_0x3d07d3}=_0x1cb78d),_0x491e9d===_0x1a9000(0x734)||_0x491e9d==='pollCreationMessageV2'||_0x491e9d===_0x1a9000(0x242)){let _0x45a602=_0x1cb78d['options'][_0x1a9000(0x26b)](_0x4dc573=>_0x4dc573[_0x1a9000(0x691)])[_0x1a9000(0x658)]('|');_0x2d7241['convertedOptions']=_0x45a602;}let _0x1dc4a9='';if(_0x1cb78d&&(_0x1dc4a9+=_0x1cb78d[_0x1a9000(0x525)]?_0x1cb78d[_0x1a9000(0x525)]:'',_0x1dc4a9+=_0x1cb78d[_0x1a9000(0x400)]?'\x20'+_0x1cb78d[_0x1a9000(0x400)]:'',_0x1dc4a9+=_0x1cb78d[_0x1a9000(0x809)]?'\x20'+_0x1cb78d[_0x1a9000(0x809)]:'',_0x1dc4a9+=_0x1cb78d['displayName']?'\x20'+_0x1cb78d[_0x1a9000(0x1b6)]:''),_0x491e9d===_0x1a9000(0x41d)){_0x1dc4a9=(_0x1cb78d['title']||'')+'\x0a'+(_0x1cb78d[_0x1a9000(0x2f1)]||'')+'\x0a'+(_0x1cb78d[_0x1a9000(0x252)]||'');let _0xff7bbb=this['sectionsToString'](_0x1cb78d[_0x1a9000(0x4d7)]);_0x2d7241['convertedOptions']=_0xff7bbb;}if(_0x491e9d===_0x1a9000(0x477)&&(_0x2848b4=_0x1cb78d[_0x1a9000(0x787)]),_0x1cb78d&&_0x1cb78d[_0x1a9000(0x3ad)]){let _0x1104b2=this[_0x1a9000(0x2b0)](JSON['stringify'](_0x1cb78d[_0x1a9000(0x3ad)],null,0x2));_0x1dc4a9=_0x1dc4a9+'\x0a'+_0x1104b2;}if(_0x1cb78d){let {sections:_0x455988,listType:_0x7b8804,displayName:_0x49a463,vcard:_0x25aa91,contactVcard:_0xc803cb,name:_0x1604c3,caption:_0x15261a,conversation:_0x280793,pollCreationMessageKey:_0x4ae693,footerText:_0x26bf52,contentText:_0xda7080,pageCount:_0x541845,headerType:_0x3f6b92,isAvatar:_0x502b84,isAnimated:_0x2636b2,fallbackLc:_0xdfd97a,fallbackLg:_0x775e04,namespace:_0x67d122,elementName:_0x3e1e48,localizableParams:_0x3cfee6,viewOnce:_0x57cc8c,height:_0x9b55b1,width:_0x276a83,key:_0x129abe,firstScanLength:_0x985296,firstScanSidecar:_0x21b145,gifPlayback:_0xbaefc4,gifAttribution:_0x4cd4be,midQualityFileSha256:_0x393130,scansSidecar:_0xc7454f,streamingSidecar:_0x473ade,thumbnailHeight:_0x17c08f,thumbnailWidth:_0x1e96d9,thumbnailEncSha256:_0x117eb8,thumbnailDirectPath:_0x4b858c,canonicalUrl:_0x893bb7,matchedText:_0x462ed6,previewType:_0x4bd0ae,thumbnailSha256:_0x2a8305,deviceListMetadataVersion:_0x271ab5,inviteLinkGroupTypeV2:_0x2f65bf,interactiveAnnotations:_0x5d76f9,scanLengths:_0x35079c,jpegThumbnail:_0x4521a1,url:_0x5df1de,mediaKeyTimestamp:_0x1582b8,waveform:_0x2c8528,stickerSentTs:_0x542b26,firstFrameLength:_0x2760ac,fileEncSha256:_0x127d50,contextInfo:_0x4be913,firstFrameSidecar:_0x14702d,directPath:_0x5dac8c,fileSha256:_0x137ced,mediaKey:_0x16eeea,senderTimestampMs:_0x4515cb,..._0x548c01}=_0x1cb78d;(_0x491e9d===_0x1a9000(0x41d)||_0x491e9d==='listResponseMessage')&&(delete _0x548c01['title'],delete _0x548c01[_0x1a9000(0x2f1)]),typeof _0x1cb78d=='string'?_0x2d7241={'text':_0x1cb78d,'type':_0x491e9d||_0x1a9000(0x809),..._0x2bf286&&{'edited':_0x2bf286},..._0x9d16b8&&{'quoted':_0x9d16b8},..._0x4ecf2f&&{'reaction':_0x4ecf2f}}:_0x2d7241={'text':_0x1dc4a9,..._0x548c01,..._0x491e9d===_0x1a9000(0x450)?{'poll_id':_0x1cb78d[_0x1a9000(0x55e)]['id'],'quoted':_0x1cb78d['pollCreationMessageKey']['id'],'vote':_0x2848b4}:{},..._0x491e9d===_0x1a9000(0x477)?{'vote':_0x2848b4}:{},'type':_0x491e9d,..._0x2bf286&&{'edited':_0x2bf286},..._0x9d16b8&&{'quoted':_0x9d16b8},..._0x4ecf2f&&{'reaction':_0x4ecf2f},...(_0x491e9d===_0x1a9000(0x734)||_0x491e9d===_0x1a9000(0x6ed)||_0x491e9d===_0x1a9000(0x242)||_0x491e9d==='listMessage')&&{'convertedOptions':_0x2d7241[_0x1a9000(0x597)]}};}return{'messageType':_0x491e9d,'messageContent':_0x1cb78d,'message_normalized':_0x2d7241};}catch(_0x444cf0){return console['error'](_0x1a9000(0x546),_0x444cf0),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x34e053(0x753)](),this[_0x34e053(0x257)][_0x34e053(0x4bf)]={'count':0x0},this[_0x34e053(0x257)][_0x34e053(0x765)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x153f5d(0x401)](_0x4dae2a){const _0x1dbf0b=a0_0x153f5d;if(!_0x4dae2a){this['instance']['name']=(0x0,bi['v4'])();return;}this[_0x1dbf0b(0x257)][_0x1dbf0b(0x525)]=_0x4dae2a,this['sendDataWebhook'](_0x1dbf0b(0x345),{'instance':this[_0x1dbf0b(0x257)]['name'],'status':_0x1dbf0b(0x67b)});}get['instanceName'](){const _0x38ac6d=a0_0x153f5d;return this[_0x38ac6d(0x257)]['name'];}get[a0_0x153f5d(0x4d4)](){const _0x5ae4cb=a0_0x153f5d;return this['instance'][_0x5ae4cb(0x4d4)];}async[a0_0x153f5d(0x78e)](){const _0x20324f=a0_0x153f5d;let _0x2e96e1=this[_0x20324f(0x7de)][_0x20324f(0x880)]?.[_0x20324f(0x525)]??this[_0x20324f(0x7de)][_0x20324f(0x880)]?.[_0x20324f(0x229)];if(!_0x2e96e1){if(this['configService'][_0x20324f(0x4be)](_0x20324f(0x5db))[_0x20324f(0x3e1)]){let _0x31c683=await $[_0x20324f(0x332)]()['db'](this[_0x20324f(0x494)]['get'](_0x20324f(0x5db))[_0x20324f(0x87a)][_0x20324f(0x553)]+_0x20324f(0x729))[_0x20324f(0x303)](this[_0x20324f(0x401)])[_0x20324f(0x88a)]({'_id':_0x20324f(0x796)});if(_0x31c683){let _0x28da07=JSON[_0x20324f(0x3c5)](JSON[_0x20324f(0x706)](_0x31c683),w['BufferJSON'][_0x20324f(0x5a3)]);_0x2e96e1=_0x28da07['me']?.[_0x20324f(0x525)]||_0x28da07['me']?.[_0x20324f(0x229)];}}else{if((0x0,xe['existsSync'])((0x0,F[_0x20324f(0x658)])(me,this['instanceName'],'creds.json'))){let _0x5fe3ff=JSON[_0x20324f(0x3c5)]((0x0,xe[_0x20324f(0x629)])((0x0,F[_0x20324f(0x658)])(me,this[_0x20324f(0x401)],_0x20324f(0x45b)),{'encoding':_0x20324f(0x34f)}));_0x2e96e1=_0x5fe3ff['me']?.[_0x20324f(0x525)]||_0x5fe3ff['me']?.[_0x20324f(0x229)];}}}return _0x2e96e1;}get[a0_0x153f5d(0x420)](){return this['instance']['profilePictureUrl'];}get['qrCode'](){const _0x4a5a81=a0_0x153f5d;return this[_0x4a5a81(0x257)]['qrcode']?.['pairingCode']?{'pairingCode':this[_0x4a5a81(0x257)]['qrcode']?.[_0x4a5a81(0x34a)]}:{'code':this[_0x4a5a81(0x257)][_0x4a5a81(0x4bf)]?.['code'],'base64':this[_0x4a5a81(0x257)][_0x4a5a81(0x4bf)]?.['base64']};}async[a0_0x153f5d(0x3d9)](){const _0x3c66c4=a0_0x153f5d;let _0x5c7e4b=await this[_0x3c66c4(0x2aa)][_0x3c66c4(0x683)]['find'](this['instanceName']);this[_0x3c66c4(0x1af)]['url']=_0x5c7e4b?.[_0x3c66c4(0x851)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x717)]=_0x5c7e4b?.[_0x3c66c4(0x717)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x1b2)]=_0x5c7e4b?.['local_map'],this[_0x3c66c4(0x1af)][_0x3c66c4(0x611)]=_0x5c7e4b?.[_0x3c66c4(0x611)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x832)]=_0x5c7e4b?.[_0x3c66c4(0x832)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x57d)]=_0x5c7e4b?.[_0x3c66c4(0x57d)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x625)]=_0x5c7e4b?.[_0x3c66c4(0x625)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x41e)]=_0x5c7e4b?.[_0x3c66c4(0x41e)],this['localWebhook']['GROUPS_UPSERT']=_0x5c7e4b?.[_0x3c66c4(0x67f)],this[_0x3c66c4(0x1af)]['GROUPS_UPDATE']=_0x5c7e4b?.['GROUPS_UPDATE'],this['localWebhook'][_0x3c66c4(0x882)]=_0x5c7e4b?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x3c66c4(0x1af)][_0x3c66c4(0x576)]=_0x5c7e4b?.[_0x3c66c4(0x576)],this['localWebhook'][_0x3c66c4(0x1f3)]=_0x5c7e4b?.[_0x3c66c4(0x1f3)],this[_0x3c66c4(0x1af)]['CHATS_UPDATE']=_0x5c7e4b?.['CHATS_UPDATE'],this[_0x3c66c4(0x1af)]['CHATS_DELETE']=_0x5c7e4b?.[_0x3c66c4(0x206)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x69d)]=_0x5c7e4b?.[_0x3c66c4(0x69d)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x3fd)]=_0x5c7e4b?.[_0x3c66c4(0x3fd)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x4b8)]=_0x5c7e4b?.['CONTACTS_UPDATE'],this[_0x3c66c4(0x1af)]['PRESENCE_UPDATE']=_0x5c7e4b?.[_0x3c66c4(0x730)],this[_0x3c66c4(0x1af)]['MESSAGES_SET']=_0x5c7e4b?.[_0x3c66c4(0x4b9)],this[_0x3c66c4(0x1af)][_0x3c66c4(0x771)]=_0x5c7e4b?.[_0x3c66c4(0x771)],this[_0x3c66c4(0x1af)]['groups_ignore']=_0x5c7e4b?.['groups_ignore'];}async[a0_0x153f5d(0x3c3)](_0x50a2bd){const _0x13e16c=a0_0x153f5d;let _0x539bd8=[_0x13e16c(0x412),_0x13e16c(0x851),_0x13e16c(0x717),'local_map',_0x13e16c(0x611),_0x13e16c(0x832),_0x13e16c(0x41e),_0x13e16c(0x625),_0x13e16c(0x57d),'GROUPS_UPSERT',_0x13e16c(0x22f),'GROUP_PARTICIPANTS_UPDATE',_0x13e16c(0x576),'CHATS_UPSERT','CHATS_UPDATE',_0x13e16c(0x206),_0x13e16c(0x69d),_0x13e16c(0x3fd),_0x13e16c(0x4b8),_0x13e16c(0x730),'MESSAGES_SET',_0x13e16c(0x771),_0x13e16c(0x820)],_0x13dd21={};return _0x539bd8[_0x13e16c(0x42e)](_0x496ce2=>{_0x50a2bd[_0x496ce2]!==void 0x0&&(_0x13dd21[_0x496ce2]=_0x50a2bd[_0x496ce2]);}),_0x13dd21[_0x13e16c(0x851)]&&(_0x13dd21['url']=_0x13dd21[_0x13e16c(0x851)][_0x13e16c(0x23d)]()),await this['repository'][_0x13e16c(0x683)][_0x13e16c(0x6a8)](_0x13dd21,this[_0x13e16c(0x401)]),Object[_0x13e16c(0x33e)](this[_0x13e16c(0x1af)],_0x13dd21),await this[_0x13e16c(0x2aa)]['webhook'][_0x13e16c(0x84e)](this[_0x13e16c(0x401)]);}async[a0_0x153f5d(0x6af)](){const _0x228f67=a0_0x153f5d;return await this[_0x228f67(0x2aa)][_0x228f67(0x683)][_0x228f67(0x84e)](this[_0x228f67(0x401)]);}async['sendDataWebhook'](_0x67b8e0,_0x1de02b){const _0x3ec83d=a0_0x153f5d;let _0x4f8cef=_0x67b8e0[_0x3ec83d(0x72d)](/[\.-]/gm,'_')[_0x3ec83d(0x70f)](),_0x4c1a4f=this[_0x3ec83d(0x1af)][_0x3ec83d(0x717)]&&(0x0,P[_0x3ec83d(0x4da)])(this[_0x3ec83d(0x1af)][_0x3ec83d(0x851)])?this['localWebhook']['url']+(this[_0x3ec83d(0x1af)][_0x3ec83d(0x1b2)]?this[_0x3ec83d(0x68e)][_0x67b8e0]:''):null,_0x1b6453=this[_0x3ec83d(0x1af)][_0x4f8cef],_0x39b29d=le&&le['enabled']&&(0x0,P[_0x3ec83d(0x4da)])(le[_0x3ec83d(0x851)])?le[_0x3ec83d(0x851)]+(le[_0x3ec83d(0x1b2)]?this[_0x3ec83d(0x68e)][_0x67b8e0]:''):null,_0x2d9616=le?le[_0x4f8cef]:null;if(_0x1b6453&&_0x4c1a4f)try{await K['default']['create']({'baseURL':_0x4c1a4f})[_0x3ec83d(0x8a5)]('',{'event':_0x67b8e0,'instance':this[_0x3ec83d(0x257)][_0x3ec83d(0x525)],'apikey':this[_0x3ec83d(0x257)][_0x3ec83d(0x6b4)],'data':_0x1de02b}),this[_0x3ec83d(0x21c)]['log'](this[_0x3ec83d(0x401)]+'\x20('+this[_0x3ec83d(0x257)][_0x3ec83d(0x4d4)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x67b8e0+':\x20'+_0x4c1a4f);}catch{this[_0x3ec83d(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x3ec83d(0x257)][_0x3ec83d(0x4d4)]+_0x3ec83d(0x431)+_0x67b8e0+':\x20'+_0x4c1a4f);}if(_0x2d9616&&_0x39b29d)try{await K['default'][_0x3ec83d(0x6a8)]({'baseURL':_0x39b29d})[_0x3ec83d(0x8a5)]('',{'event':_0x67b8e0,'instance':this[_0x3ec83d(0x257)][_0x3ec83d(0x525)],'apikey':this['instance']['apikey'],'data':_0x1de02b}),this[_0x3ec83d(0x21c)][_0x3ec83d(0x554)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x67b8e0+':\x20'+_0x39b29d);}catch{this[_0x3ec83d(0x21c)][_0x3ec83d(0x617)](this[_0x3ec83d(0x401)]+'\x20('+this['instance'][_0x3ec83d(0x4d4)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x67b8e0+':\x20'+_0x39b29d);}}async[a0_0x153f5d(0x29b)]({qr:_0x2d8b92,connection:_0x1f8d49,lastDisconnect:_0xedd81a}){const _0x3dd496=a0_0x153f5d;if(_0x2d8b92){if(this[_0x3dd496(0x257)]['qrcode'][_0x3dd496(0x5a1)]===Eo)return this[_0x3dd496(0x6b8)]('qrcode.updated',{'message':_0x3dd496(0x87e),'statusCode':w[_0x3dd496(0x44f)][_0x3dd496(0x1c8)]}),this[_0x3dd496(0x4b3)]={'state':_0x3dd496(0x5da),'statusReason':w[_0x3dd496(0x44f)][_0x3dd496(0x211)]},this['sendDataWebhook'](_0x3dd496(0x355),{'instance':this[_0x3dd496(0x257)][_0x3dd496(0x525)],...this[_0x3dd496(0x4b3)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x3dd496(0x257)][_0x3dd496(0x525)],'status':_0x3dd496(0x876)}),this['repository'][_0x3dd496(0x38b)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this['instance'][_0x3dd496(0x525)]),this[_0x3dd496(0x305)]=!0x0,this[_0x3dd496(0x764)][_0x3dd496(0x581)](_0x3dd496(0x3cf),this[_0x3dd496(0x257)][_0x3dd496(0x525)]);this[_0x3dd496(0x257)][_0x3dd496(0x4bf)]['count']++;let _0x4e5f09={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x3dd496(0x603)}};Si[_0x3dd496(0x2b3)][_0x3dd496(0x255)](_0x2d8b92,_0x4e5f09,(_0x555fcf,_0x1e542b)=>{const _0x2b52cf=_0x3dd496;if(_0x555fcf){this[_0x2b52cf(0x21c)][_0x2b52cf(0x617)](this[_0x2b52cf(0x401)]+'\x20('+this[_0x2b52cf(0x257)]['wuid']+_0x2b52cf(0x64c)+(_0x555fcf instanceof Error?_0x555fcf[_0x2b52cf(0x690)]:JSON[_0x2b52cf(0x706)](_0x555fcf,null,0x2)));return;}this['instance'][_0x2b52cf(0x4bf)][_0x2b52cf(0x1ac)]=_0x1e542b,this[_0x2b52cf(0x257)][_0x2b52cf(0x4bf)][_0x2b52cf(0x5f7)]=_0x2d8b92,!this['phoneNumber']&&this[_0x2b52cf(0x6b8)]('qrcode.updated',{'qrcode':{'instance':this[_0x2b52cf(0x257)][_0x2b52cf(0x525)],'pairingCode':this[_0x2b52cf(0x257)][_0x2b52cf(0x4bf)]['pairingCode'],'code':_0x2d8b92,'base64':_0x1e542b}});}),this['phoneNumber']?this['instance'][_0x3dd496(0x4bf)][_0x3dd496(0x34a)]||(await(0x0,w[_0x3dd496(0x33c)])(0x7d0),this[_0x3dd496(0x257)][_0x3dd496(0x4bf)][_0x3dd496(0x34a)]=await this[_0x3dd496(0x7de)][_0x3dd496(0x3d4)](this[_0x3dd496(0x55a)])):this['instance'][_0x3dd496(0x4bf)][_0x3dd496(0x34a)]=null,Mi[_0x3dd496(0x2b3)][_0x3dd496(0x5be)](_0x2d8b92,{'small':!0x0},_0x459c85=>this['logger'][_0x3dd496(0x554)](_0x3dd496(0x801)+this[_0x3dd496(0x257)]['name']+_0x3dd496(0x51f)+this[_0x3dd496(0x257)]['qrcode']['count']+_0x3dd496(0x4a2)+this['instance'][_0x3dd496(0x4bf)][_0x3dd496(0x34a)]+_0x3dd496(0x875)+_0x459c85));}if(_0x1f8d49&&(this[_0x3dd496(0x4b3)]={'state':_0x1f8d49,'statusReason':_0xedd81a?.['error']?.[_0x3dd496(0x7ae)]?.[_0x3dd496(0x590)]??0xc8},this['sendDataWebhook']('connection.update',{'instance':this['instance'][_0x3dd496(0x525)],...this[_0x3dd496(0x4b3)]})),_0x1f8d49===_0x3dd496(0x3df)){if(this['reconnectAttempts']++,this['reconnectTimestamps'][_0x3dd496(0x6f8)](Date[_0x3dd496(0x2fb)]()),this[_0x3dd496(0x59d)]=this[_0x3dd496(0x59d)]['filter'](_0x4ea818=>Date[_0x3dd496(0x2fb)]()-_0x4ea818<this[_0x3dd496(0x744)]),_0xedd81a[_0x3dd496(0x617)]?.[_0x3dd496(0x7ae)]?.['statusCode']!==w[_0x3dd496(0x44f)]['loggedOut']&&this[_0x3dd496(0x59d)]['length']<=this[_0x3dd496(0x5c5)])console[_0x3dd496(0x554)](this[_0x3dd496(0x401)]+_0x3dd496(0x643)+this['reconnectAttempts']+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x3dd496(0x4ed)),console[_0x3dd496(0x554)]('Tentando\x20reconectar...'),await this[_0x3dd496(0x71a)]();else{this[_0x3dd496(0x6b8)]('status.instance',{'instance':this['instance'][_0x3dd496(0x525)],'status':_0x3dd496(0x876)}),this[_0x3dd496(0x257)]['ScheduleMessage'][_0x3dd496(0x415)]=!0x1,this[_0x3dd496(0x2aa)][_0x3dd496(0x683)][_0x3dd496(0x435)](this[_0x3dd496(0x401)]),this[_0x3dd496(0x2aa)]['auth'][_0x3dd496(0x6a8)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x3dd496(0x257)][_0x3dd496(0x525)]);try{this[_0x3dd496(0x21c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3dd496(0x4d4)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x4805c8=await this[_0x3dd496(0x2aa)][_0x3dd496(0x690)]['deleteAll'](this['instance'][_0x3dd496(0x4d4)]);_0x4805c8[_0x3dd496(0x2ba)]?this[_0x3dd496(0x21c)][_0x3dd496(0x6cf)](this[_0x3dd496(0x401)]+'\x20('+this['instance'][_0x3dd496(0x4d4)]+_0x3dd496(0x684)):console[_0x3dd496(0x617)](_0x3dd496(0x6a0),_0x4805c8[_0x3dd496(0x617)]);}catch(_0x4e5f75){console[_0x3dd496(0x617)](_0x3dd496(0x2ea),_0x4e5f75[_0x3dd496(0x690)]);}this[_0x3dd496(0x257)]['ScheduleMessage'][_0x3dd496(0x481)]!==null&&(this[_0x3dd496(0x21c)][_0x3dd496(0x6cf)](this[_0x3dd496(0x401)]+'\x20('+this['instance'][_0x3dd496(0x4d4)]+_0x3dd496(0x6bf)),clearInterval(this['instance'][_0x3dd496(0x765)][_0x3dd496(0x481)]),this['instance']['ScheduleMessage']['delayMessage']=null),this[_0x3dd496(0x21c)][_0x3dd496(0x6cf)](this[_0x3dd496(0x401)]+'\x20('+this[_0x3dd496(0x257)][_0x3dd496(0x4d4)]+_0x3dd496(0x39b)),this[_0x3dd496(0x2a6)]=null,this[_0x3dd496(0x764)]['emit']('remove.instance',this[_0x3dd496(0x257)][_0x3dd496(0x525)],'inner'),this[_0x3dd496(0x7de)]?.['ws']?.[_0x3dd496(0x3df)](),this[_0x3dd496(0x7de)][_0x3dd496(0x21f)](new Error(_0x3dd496(0x390)));}}if(_0x1f8d49===_0x3dd496(0x5ef)){this[_0x3dd496(0x7de)]['ev'][_0x3dd496(0x1d2)](),this[_0x3dd496(0x757)],this[_0x3dd496(0x257)][_0x3dd496(0x4d4)]=this[_0x3dd496(0x7de)][_0x3dd496(0x880)]['id'][_0x3dd496(0x72d)](/:\d+/,'')[_0x3dd496(0x72d)]('@s.whatsapp.net',''),this[_0x3dd496(0x257)][_0x3dd496(0x420)]=(await this[_0x3dd496(0x7b5)](this[_0x3dd496(0x257)][_0x3dd496(0x4d4)]+_0x3dd496(0x47b)))[_0x3dd496(0x420)],this['repository'][_0x3dd496(0x38b)]['create']({'online':!0x0,'owner':this['instance'][_0x3dd496(0x4d4)],'lastDisconnect':null},this[_0x3dd496(0x257)][_0x3dd496(0x525)]);let _0x2e7283='Número:\x20'+this['instance']['wuid'],_0x5e365c=0x28,_0x1e1df1=Math[_0x3dd496(0x5c4)]((_0x5e365c-_0x2e7283[_0x3dd496(0x487)])/0x2),_0x3ed36e='\x20'[_0x3dd496(0x20e)](_0x1e1df1),_0x3d467d='CONECTADO\x20À\x20UAZAPI',_0x3971e7=_0x3dd496(0x367)+this[_0x3dd496(0x257)][_0x3dd496(0x525)],_0x14477a=(''+_0x3ed36e+_0x2e7283+_0x3ed36e)[_0x3dd496(0x68f)](_0x5e365c,'\x20'),_0xfc78a=(''+_0x3ed36e+_0x3d467d+_0x3ed36e)[_0x3dd496(0x68f)](_0x5e365c,'\x20'),_0x54dcb5=(''+_0x3ed36e+_0x3971e7+_0x3ed36e)[_0x3dd496(0x68f)](_0x5e365c,'\x20'),_0x3d989e=Math[_0x3dd496(0x1a4)](_0x14477a[_0x3dd496(0x487)],_0xfc78a[_0x3dd496(0x487)],_0x54dcb5['length']),_0x4d9946=_0x14477a[_0x3dd496(0x68f)](_0x3d989e,'\x20'),_0x311e0c=_0xfc78a[_0x3dd496(0x68f)](_0x3d989e,'\x20'),_0x5758eb=_0x54dcb5['padEnd'](_0x3d989e,'\x20');this[_0x3dd496(0x21c)][_0x3dd496(0x4e8)]((_0x3dd496(0x85f)+'─'['repeat'](_0x3d989e)+_0x3dd496(0x1b3)+_0x311e0c+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x5758eb+_0x3dd496(0x797)+_0x4d9946+_0x3dd496(0x599)+'─'[_0x3dd496(0x20e)](_0x3d989e)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x3dd496(0x257)]['ScheduleMessage']['isConnected']=!0x0;}}[a0_0x153f5d(0x757)](){const _0x36fcdf=a0_0x153f5d;this[_0x36fcdf(0x491)]=0x0,this[_0x36fcdf(0x59d)]=[];}async[a0_0x153f5d(0x1cc)](_0x2476e4,_0x3588b6=!0x1){const _0x2e8276=a0_0x153f5d;try{let _0x4e4a37=await this[_0x2e8276(0x2aa)][_0x2e8276(0x690)][_0x2e8276(0x84e)]({'where':{'_id':_0x2476e4['id']}},this['instance'][_0x2e8276(0x4d4)]);return _0x3588b6?_0x4e4a37[0x0]:_0x4e4a37[0x0][_0x2e8276(0x690)];}catch{return{'conversation':''};}}['cleanStore'](){const _0xb9cfbd=a0_0x153f5d;let _0x2cb5c6=this[_0xb9cfbd(0x494)][_0xb9cfbd(0x4be)]('STORE'),_0x53fbb3=this['configService'][_0xb9cfbd(0x4be)]('DATABASE');_0x2cb5c6?.[_0xb9cfbd(0x873)]&&!_0x53fbb3[_0xb9cfbd(0x3e1)]&&setInterval(()=>{const _0x2886ce=_0xb9cfbd;try{for(let [_0x4ddc3d,_0x2e3acc]of Object[_0x2886ce(0x32f)](_0x2cb5c6))_0x2e3acc===!0x0&&(0x0,De['execSync'])(_0x2886ce(0x38c)+(0x0,F['join'])(this[_0x2886ce(0x559)],_0x4ddc3d['toLowerCase'](),this[_0x2886ce(0x257)][_0x2886ce(0x4d4)])+_0x2886ce(0x321));}catch{}},(_0x2cb5c6?.[_0xb9cfbd(0x873)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x3ec642=a0_0x153f5d;let _0x5d1edc=this[_0x3ec642(0x494)][_0x3ec642(0x4be)](_0x3ec642(0x5db)),_0x48bfe2=this[_0x3ec642(0x494)]['get']('REDIS');return _0x48bfe2?.[_0x3ec642(0x3e1)]?await Ns(_0x48bfe2,this[_0x3ec642(0x257)]['name']):_0x5d1edc[_0x3ec642(0x3e1)]?await vs(this[_0x3ec642(0x257)]['name']):await(0x0,w['useMultiFileAuthState'])((0x0,F[_0x3ec642(0x658)])(me,this[_0x3ec642(0x257)][_0x3ec642(0x525)]));}async[a0_0x153f5d(0x7f3)](){const _0x5d8ebc=a0_0x153f5d;let _0x238cd=()=>Math[_0x5d8ebc(0x5c4)](Math[_0x5d8ebc(0x4fe)]()*0x2711)+0x7d0,_0x4efa6c=async()=>{const _0x1d618a=_0x5d8ebc;if(!this['instance']['ScheduleMessage'][_0x1d618a(0x415)]){this[_0x1d618a(0x21c)][_0x1d618a(0x6cf)](this[_0x1d618a(0x401)]+'\x20('+this[_0x1d618a(0x257)][_0x1d618a(0x4d4)]+'):Desconectado,\x20parando\x20execução.'),this[_0x1d618a(0x5e6)]=!0x1;return;}if(this['instance'][_0x1d618a(0x4d4)]&&this[_0x1d618a(0x2a6)]&&this[_0x1d618a(0x257)]['ScheduleMessage'][_0x1d618a(0x481)]!==null&&this[_0x1d618a(0x257)][_0x1d618a(0x765)][_0x1d618a(0x481)]!==void 0x0){let _0x2408cc=Math['round'](this[_0x1d618a(0x257)][_0x1d618a(0x765)]['delayMessage']/0xea60);this[_0x1d618a(0x21c)][_0x1d618a(0x6cf)](this[_0x1d618a(0x401)]+'\x20('+this[_0x1d618a(0x257)][_0x1d618a(0x4d4)]+_0x1d618a(0x632)+_0x2408cc+_0x1d618a(0x2b8)),this[_0x1d618a(0x5e6)]=!0x1;return;}else this[_0x1d618a(0x257)]['wuid']&&(this[_0x1d618a(0x21c)]['verbose'](this[_0x1d618a(0x401)]+'\x20('+this[_0x1d618a(0x257)]['wuid']+_0x1d618a(0x32d)),this[_0x1d618a(0x2a6)]||(await this[_0x1d618a(0x343)](),this['findGroups']()),(this[_0x1d618a(0x257)][_0x1d618a(0x765)][_0x1d618a(0x481)]===null||this[_0x1d618a(0x257)][_0x1d618a(0x765)]['delayMessage']===void 0x0)&&await this[_0x1d618a(0x492)]());if(this[_0x1d618a(0x5e6)]){let _0x2b0df1=_0x238cd();this[_0x1d618a(0x21c)][_0x1d618a(0x6cf)](this[_0x1d618a(0x401)]+_0x1d618a(0x650)+_0x2b0df1/0x3e8+'\x20segundos'),setTimeout(_0x4efa6c,_0x2b0df1);}};if(this[_0x5d8ebc(0x5e6)])return;this[_0x5d8ebc(0x5e6)]=!0x0;let _0x265098=_0x238cd();setTimeout(_0x4efa6c,_0x265098);}async['loadproxy'](_0x4a20fb=0x0,_0x4c1350=!0x1){const _0x53635e=a0_0x153f5d;try{let _0x34e97c=this['configService'][_0x53635e(0x4be)](_0x53635e(0x793));if(_0x34e97c!==0x1||typeof _0x34e97c>'u'||_0x4a20fb>=0x5)return this['logger'][_0x53635e(0x557)](_0x53635e(0x2b5)),this[_0x53635e(0x2aa)][_0x53635e(0x38b)][_0x53635e(0x6a8)]({'ip':null},this[_0x53635e(0x257)][_0x53635e(0x525)]),{};this[_0x53635e(0x21c)][_0x53635e(0x6cf)](this[_0x53635e(0x401)]+_0x53635e(0x615)+(_0x4a20fb+0x1)+_0x53635e(0x4dc));let _0x8eafe;if(!_0x4c1350){let _0x4c0255=await this['repository'][_0x53635e(0x38b)][_0x53635e(0x84e)](this['instanceName']);_0x4c0255&&_0x4c0255['ip']&&(_0x8eafe=fi(_0x4c0255['ip']));}if((!_0x8eafe||!Rs(_0x8eafe))&&(this[_0x53635e(0x21c)][_0x53635e(0x557)](this[_0x53635e(0x401)]+_0x53635e(0x6df)),_0x8eafe=wi()),_0x8eafe&&Rs(_0x8eafe)){let _0x4a8cbd=_0x8eafe['username']&&_0x8eafe[_0x53635e(0x39f)]?_0x8eafe[_0x53635e(0x230)]+_0x53635e(0x82f)+_0x8eafe[_0x53635e(0x601)]+':'+_0x8eafe[_0x53635e(0x39f)]+'@'+_0x8eafe['host']+':'+_0x8eafe[_0x53635e(0x3c6)]:_0x8eafe['protocol']+'://'+_0x8eafe['host']+':'+_0x8eafe[_0x53635e(0x3c6)];return await this[_0x53635e(0x1e3)](_0x4a8cbd,_0x8eafe[_0x53635e(0x47f)])?(this['logger']['verbose'](this['instanceName']+_0x53635e(0x3f3)),this['repository'][_0x53635e(0x38b)]['create']({'ip':_0x8eafe[_0x53635e(0x47f)]},this['instance'][_0x53635e(0x525)]),{'agent':new Lt[(_0x53635e(0x511))](_0x4a8cbd),'fetchAgent':new Lt[(_0x53635e(0x511))](_0x4a8cbd)}):(this[_0x53635e(0x21c)][_0x53635e(0x557)](this[_0x53635e(0x401)]+_0x53635e(0x2ad)),await(0x0,w[_0x53635e(0x33c)])(0xc8),this[_0x53635e(0x381)](_0x4a20fb+0x1,!0x0));}else return this[_0x53635e(0x21c)][_0x53635e(0x557)](this[_0x53635e(0x401)]+_0x53635e(0x46a)),await(0x0,w['delay'])(0xc8),this['loadproxy'](_0x4a20fb+0x1,!0x0);}catch(_0x863399){return this[_0x53635e(0x21c)][_0x53635e(0x617)](this[_0x53635e(0x401)]+_0x53635e(0x25b)+_0x863399[_0x53635e(0x690)]),{};}}async['testProxy'](_0x36b33c,_0x5b3bce){const _0x36d5ec=a0_0x153f5d;let _0x4b034a=new Lt[(_0x36d5ec(0x511))](_0x36b33c),_0x1c82d1=0x1388,_0x1b1bc4=[{'url':_0x36d5ec(0x7ff),'parse':_0x1dbf71=>_0x1dbf71['ip']},{'url':_0x36d5ec(0x40e),'parse':_0x12c433=>_0x12c433['ip']},{'url':'http://checkip.dyndns.org','parse':_0x49e20b=>_0x49e20b[_0x36d5ec(0x20b)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x36d5ec(0x780),'parse':_0x4c8b78=>_0x4c8b78['ip']},{'url':_0x36d5ec(0x26c),'parse':_0xbc2274=>_0xbc2274['trim']()},{'url':'http://ipecho.net/plain','parse':_0x531a25=>_0x531a25[_0x36d5ec(0x23d)]()},{'url':_0x36d5ec(0x454),'parse':_0x534ad5=>_0x534ad5[_0x36d5ec(0x3e7)]},{'url':_0x36d5ec(0x853),'parse':_0xfcdc33=>_0xfcdc33['trim']()},{'url':_0x36d5ec(0x4c5),'parse':_0x960201=>_0x960201['trim']()}],_0x24ce13=_0x1b1bc4[Math[_0x36d5ec(0x5c4)](Math[_0x36d5ec(0x4fe)]()*_0x1b1bc4['length'])];try{let _0x31a040=await K['default'][_0x36d5ec(0x4be)](_0x24ce13[_0x36d5ec(0x851)],{'httpsAgent':_0x4b034a,'timeout':_0x1c82d1}),_0x4e8c82=_0x24ce13[_0x36d5ec(0x3c5)](_0x31a040[_0x36d5ec(0x28c)]);return _0x4e8c82===_0x5b3bce?(this[_0x36d5ec(0x21c)][_0x36d5ec(0x6cf)](this['instanceName']+_0x36d5ec(0x26e)+_0x5b3bce+'\x20-\x20retornado:\x20'+_0x4e8c82+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x36d5ec(0x21c)]['error'](this[_0x36d5ec(0x401)]+':\x20IP\x20configurado:\x20'+_0x5b3bce+'\x20-\x20retornado:\x20'+_0x4e8c82+_0x36d5ec(0x27d)),!0x1);}catch(_0x2cbc3b){return this['logger'][_0x36d5ec(0x617)](this[_0x36d5ec(0x401)]+_0x36d5ec(0x71f)+_0x24ce13['url']+':\x20'+_0x2cbc3b[_0x36d5ec(0x690)]),!0x1;}}async[a0_0x153f5d(0x71a)](_0x46c0de){const _0x125e47=a0_0x153f5d;try{let _0x1d6f26=await this[_0x125e47(0x381)]();this['loadWebhook'](),this['instance']['apikey']=(await this['repository']['auth'][_0x125e47(0x84e)](this[_0x125e47(0x257)][_0x125e47(0x525)]))['apikey'],this[_0x125e47(0x257)][_0x125e47(0x2e6)]=await this[_0x125e47(0x1bf)]();let {version:_0x58d18e}=await(0x0,w[_0x125e47(0x785)])(),_0x4252d2=[Ci,Is,(0x0,As['release'])()],_0x2107d3={..._0x1d6f26,'auth':{'creds':this[_0x125e47(0x257)][_0x125e47(0x2e6)][_0x125e47(0x7b6)][_0x125e47(0x796)],'keys':(0x0,w[_0x125e47(0x704)])(this[_0x125e47(0x257)]['authState'][_0x125e47(0x7b6)][_0x125e47(0x60b)],(0x0,Pt[_0x125e47(0x2b3)])({'level':_0x125e47(0x617)}))},'logger':(0x0,Pt['default'])({'level':_0x125e47(0x617)}),'printQRInTerminal':!0x1,'browser':_0x46c0de?[_0x125e47(0x3c7),Is,(0x0,As[_0x125e47(0x24d)])()]:_0x4252d2,'version':_0x58d18e,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x4ac986=>{const _0x30d613=_0x125e47;let _0x781ebc=_0x4ac986['endsWith'](_0x30d613(0x5f4)),_0x5b70d2=this[_0x30d613(0x1af)]?.[_0x30d613(0x820)]&&_0x4ac986[_0x30d613(0x2cc)](_0x30d613(0x776));return _0x781ebc||(0x0,w[_0x30d613(0x86d)])(_0x4ac986)||_0x5b70d2;},'msgRetryCounterCache':this[_0x125e47(0x447)],'getMessage':async _0x49dbbb=>await this[_0x125e47(0x1cc)](_0x49dbbb),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x439ecd=>(_0x439ecd[_0x125e47(0x41d)]?.[_0x125e47(0x1fd)]==w['proto'][_0x125e47(0x3dd)]['ListMessage'][_0x125e47(0x464)][_0x125e47(0x293)]&&(_0x439ecd=JSON[_0x125e47(0x3c5)](JSON['stringify'](_0x439ecd)),_0x439ecd[_0x125e47(0x41d)][_0x125e47(0x1fd)]=w[_0x125e47(0x88d)][_0x125e47(0x3dd)][_0x125e47(0x3d1)]['ListType'][_0x125e47(0x7bc)]),_0x439ecd)};return this[_0x125e47(0x305)]=!0x1,this[_0x125e47(0x7de)]=(0x0,w['default'])(_0x2107d3),this[_0x125e47(0x5af)](),this[_0x125e47(0x55a)]=_0x46c0de,this[_0x125e47(0x7de)];}catch(_0x1f71d9){let _0x285240=_0x125e47(0x5c7),_0x4c79b2=_0x1f71d9 instanceof Error?_0x1f71d9[_0x125e47(0x690)]:typeof _0x1f71d9==_0x125e47(0x5dc)?JSON['stringify'](_0x1f71d9):_0x1f71d9,_0x3b4de4=_0x285240+':\x20'+_0x4c79b2;throw this[_0x125e47(0x21c)]['error'](this[_0x125e47(0x401)]+'\x20('+this[_0x125e47(0x257)][_0x125e47(0x4d4)]+_0x125e47(0x342)+_0x3b4de4),new I(_0x3b4de4);}}[a0_0x153f5d(0x5af)](){const _0x257d32=a0_0x153f5d;this[_0x257d32(0x7de)]['ev'][_0x257d32(0x659)](_0x384448=>{const _0x5de409=_0x257d32;if(!this['endSession']){let _0x5115e4=this[_0x5de409(0x494)][_0x5de409(0x4be)](_0x5de409(0x5db));if(_0x384448[_0x5de409(0x85d)]){let _0x523b6b=_0x384448['labels.edit'];this[_0x5de409(0x4e5)][_0x5de409(0x85d)](_0x523b6b);}if(_0x384448[_0x5de409(0x69a)]){let _0x12b0da=_0x384448['labels.association'];this[_0x5de409(0x4e5)][_0x5de409(0x69a)](_0x12b0da);}if(_0x384448[_0x5de409(0x355)]&&this['connectionUpdate'](_0x384448[_0x5de409(0x355)]),_0x384448[_0x5de409(0x681)]&&this[_0x5de409(0x257)][_0x5de409(0x2e6)][_0x5de409(0x81c)](),_0x384448[_0x5de409(0x72e)]){let _0x405e66=_0x384448['messaging-history.set'];this[_0x5de409(0x4e5)][_0x5de409(0x72e)](_0x405e66,_0x5115e4);}if(_0x384448[_0x5de409(0x760)]){let _0xe92d47=_0x384448['messages.upsert'];this[_0x5de409(0x4e5)][_0x5de409(0x760)](_0xe92d47,_0x5115e4);}if(_0x384448[_0x5de409(0x2e1)]){let _0xda9421=_0x384448[_0x5de409(0x2e1)];this[_0x5de409(0x4e5)]['messages.update'](_0xda9421,_0x5115e4);}if(_0x384448[_0x5de409(0x308)]){let _0xb09bd4=_0x384448[_0x5de409(0x308)];if(this['localWebhook']?.[_0x5de409(0x820)]&&_0xb09bd4['id'][_0x5de409(0x424)]('@g.us'))return;this[_0x5de409(0x6b8)]('presence.update',_0xb09bd4);}if(_0x384448[_0x5de409(0x533)]){let _0x4512e0=_0x384448[_0x5de409(0x533)];this[_0x5de409(0x49f)]['groups.upsert'](_0x4512e0);}if(_0x384448[_0x5de409(0x66e)]){let _0x506e9b=_0x384448[_0x5de409(0x66e)];this[_0x5de409(0x49f)][_0x5de409(0x66e)](_0x506e9b);}if(_0x384448[_0x5de409(0x7cb)]){let _0x1d5695=_0x384448[_0x5de409(0x7cb)];this[_0x5de409(0x49f)][_0x5de409(0x7cb)](_0x1d5695);}if(_0x384448[_0x5de409(0x711)]){let _0x1e819b=_0x384448[_0x5de409(0x711)];this[_0x5de409(0x497)][_0x5de409(0x711)](_0x1e819b,_0x5115e4);}if(_0x384448[_0x5de409(0x574)]){let _0x33e0bf=_0x384448[_0x5de409(0x574)];this['chatHandle']['chats.update'](_0x33e0bf,_0x5115e4);}if(_0x384448[_0x5de409(0x413)]){let _0x58d33d=_0x384448[_0x5de409(0x413)];this[_0x5de409(0x497)][_0x5de409(0x413)](_0x58d33d);}if(_0x384448[_0x5de409(0x221)]){let _0x4dcdef=_0x384448[_0x5de409(0x221)];this[_0x5de409(0x868)][_0x5de409(0x221)](_0x4dcdef,_0x5115e4);}if(_0x384448[_0x5de409(0x386)]){let _0x12a763=_0x384448[_0x5de409(0x386)];this['contactHandle'][_0x5de409(0x386)](_0x12a763,_0x5115e4);}}});}[a0_0x153f5d(0x798)](_0x5abbce){return new Promise(_0x162016=>setTimeout(_0x162016,_0x5abbce));}[a0_0x153f5d(0x699)](_0x1db6c5){const _0x44d287=a0_0x153f5d;_0x1db6c5=_0x1db6c5[_0x44d287(0x72d)](/\D/g,'');let _0x2c2ade=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x44d287(0x57c)](_0x1db6c5);if(_0x2c2ade&&_0x2c2ade[0x1]==='55'){let _0x5cb1ba=_0x2c2ade[0x2],_0xfbf44=_0x2c2ade[0x3],_0x4aebfe=_0x2c2ade[0x4];if(parseInt(_0x5cb1ba)>=0x1f&&_0xfbf44==='9')return _0x2c2ade[0x1]+_0x5cb1ba+_0x4aebfe;}return _0x1db6c5;}['createJid'](_0x5093e1){const _0x3512bb=a0_0x153f5d;return _0x5093e1[_0x3512bb(0x487)]>=0x12?(_0x5093e1=_0x5093e1[_0x3512bb(0x72d)](/[^\d-]/g,''),_0x5093e1+_0x3512bb(0x776)):_0x5093e1[_0x3512bb(0x424)](_0x3512bb(0x776))||_0x5093e1[_0x3512bb(0x424)](_0x3512bb(0x47b))||_0x5093e1[_0x3512bb(0x424)]('@broadcast')?_0x5093e1:(_0x5093e1=_0x5093e1?.[_0x3512bb(0x72d)](/\s/g,'')[_0x3512bb(0x72d)](/\+/g,'')[_0x3512bb(0x72d)](/\(/g,'')['replace'](/\)/g,'')[_0x3512bb(0x701)](/\:/)[0x0][_0x3512bb(0x701)]('@')[0x0],_0x5093e1=_0x5093e1[_0x3512bb(0x72d)](/\D/g,''),_0x5093e1+_0x3512bb(0x47b));}async['updatePresence'](_0xb11e8c){const _0xee51bc=a0_0x153f5d;let _0x5e2b33=(await this[_0xee51bc(0x4ad)]({'numbers':[_0xb11e8c[_0xee51bc(0x58a)]]}))[0x0];if(!_0x5e2b33[_0xee51bc(0x3b6)]&&!(0x0,w[_0xee51bc(0x41b)])(_0x5e2b33[_0xee51bc(0x5ea)])&&!_0x5e2b33[_0xee51bc(0x5ea)]['includes'](_0xee51bc(0x696)))throw new m(_0x5e2b33);let _0x1c1da3=_0x5e2b33[_0xee51bc(0x5ea)];try{return await this[_0xee51bc(0x7de)][_0xee51bc(0x76b)](_0x1c1da3),await this['client'][_0xee51bc(0x2b9)](_0xb11e8c[_0xee51bc(0x7a9)],_0x1c1da3),{'status':0xc8,'presence':_0xb11e8c['presence']};}catch(_0x4ff76d){let _0x50a0b9=_0xee51bc(0x3a4),_0x1a0ca5=_0x4ff76d instanceof Error?_0x4ff76d[_0xee51bc(0x690)]:typeof _0x4ff76d==_0xee51bc(0x5dc)?JSON[_0xee51bc(0x706)](_0x4ff76d):_0x4ff76d,_0x4a6f94=_0x50a0b9+':\x20'+_0x1a0ca5;throw this['logger'][_0xee51bc(0x617)](this['instanceName']+'\x20('+this[_0xee51bc(0x257)][_0xee51bc(0x4d4)]+_0xee51bc(0x342)+_0x4a6f94),new m(_0x4a6f94);}}async[a0_0x153f5d(0x65d)](_0x28c0a0,_0x2f23a6,_0x615975,_0x3e5102=!0x0){const _0xf40d6a=a0_0x153f5d;let _0xa38a36=await this[_0xf40d6a(0x2aa)][_0xf40d6a(0x1d9)][_0xf40d6a(0x88a)]({'where':{'_id':_0x28c0a0}});if(!_0xa38a36&&!_0x3e5102)return;let _0x57013c={'lastUpdate':Date['now']()};if(_0x615975||!_0xa38a36?.[_0xf40d6a(0x6cb)]||Date[_0xf40d6a(0x2fb)]()-_0xa38a36['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x1cc73d=(await this[_0xf40d6a(0x7b5)](_0x28c0a0))[_0xf40d6a(0x420)];_0x57013c['pictureUrl']=_0x1cc73d;}catch(_0x13e56c){let _0x146ddf=_0xf40d6a(0x6b2),_0x48a1e0=_0x13e56c instanceof Error?_0x13e56c['message']:typeof _0x13e56c==_0xf40d6a(0x5dc)?JSON[_0xf40d6a(0x706)](_0x13e56c):_0x13e56c,_0x2fe398=_0x146ddf+':\x20'+_0x48a1e0;throw this[_0xf40d6a(0x21c)][_0xf40d6a(0x617)](this[_0xf40d6a(0x401)]+'\x20('+this[_0xf40d6a(0x257)][_0xf40d6a(0x4d4)]+_0xf40d6a(0x342)+_0x2fe398),new m(_0x2fe398);}return _0x2f23a6&&_0xa38a36?.['name']!==_0x2f23a6&&(_0x57013c[_0xf40d6a(0x525)]=_0x2f23a6),Object[_0xf40d6a(0x60b)](_0x57013c)[_0xf40d6a(0x487)]>0x1&&(_0xa38a36?await this['repository'][_0xf40d6a(0x1d9)]['update']({'where':{'_id':_0x28c0a0}},_0x57013c):await this[_0xf40d6a(0x2aa)][_0xf40d6a(0x1d9)][_0xf40d6a(0x358)]([{'_id':_0x28c0a0,..._0x57013c}]),_0xa38a36={..._0xa38a36,..._0x57013c}),{'cachedContact':_0xa38a36};}async[a0_0x153f5d(0x7b5)](_0x1636bd){const _0x131bfe=a0_0x153f5d;let _0x4beca4=this[_0x131bfe(0x346)](_0x1636bd);try{return{'wuid':_0x4beca4,'profilePictureUrl':await this[_0x131bfe(0x7de)]['profilePictureUrl'](_0x4beca4,_0x131bfe(0x56d))};}catch{return{'wuid':_0x4beca4,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x5a22c5,_0x1b0e7f,_0x2cc393){const _0x44bf67=a0_0x153f5d;try{_0x2cc393||(_0x2cc393={});let _0x123b03=(await this['whatsappNumber']({'numbers':[_0x5a22c5]}))[0x0];if(!_0x123b03[_0x44bf67(0x3b6)]&&!(0x0,w['isJidGroup'])(_0x123b03[_0x44bf67(0x5ea)])&&!_0x123b03[_0x44bf67(0x5ea)]['includes'](_0x44bf67(0x696)))throw new m(_0x123b03);let _0xc1da74=_0x123b03[_0x44bf67(0x5ea)];if(_0x2cc393?.['delay']){await this['client'][_0x44bf67(0x76b)](_0xc1da74),await this[_0x44bf67(0x7de)][_0x44bf67(0x2b9)](_0x2cc393?.['presence']??_0x44bf67(0x5ca),_0xc1da74);let _0x3ae175=Math[_0x44bf67(0x1c1)](_0x2cc393[_0x44bf67(0x33c)],0x2710);await(0x0,w[_0x44bf67(0x33c)])(_0x3ae175),await this[_0x44bf67(0x7de)]['sendPresenceUpdate'](_0x44bf67(0x879),_0xc1da74);}let _0x10ff58=_0x2cc393?.[_0x44bf67(0x777)]!=!0x1?void 0x0:!0x1,_0x1219b5;if(_0x2cc393?.[_0x44bf67(0x7b4)]){let _0xb721ad=_0x2cc393?.[_0x44bf67(0x7b4)],_0x2cf4ce=_0xb721ad?.[_0x44bf67(0x690)]?_0xb721ad:await this['getMessage'](_0xb721ad['key'],!0x0);if(!_0x2cf4ce)throw _0x44bf67(0x86b);_0x1219b5=_0x2cf4ce;}let _0x1a3aa6;if((0x0,w[_0x44bf67(0x41b)])(_0xc1da74))try{let _0x199bd1=(await this[_0x44bf67(0x2aa)]['chat'][_0x44bf67(0x88a)]({'where':{'_id':_0xc1da74}},this['instance'][_0x44bf67(0x4d4)]))[_0x44bf67(0x866)];if(!_0x199bd1)throw new U(_0x44bf67(0x243));_0x2cc393?.[_0x44bf67(0x5f0)]&&(_0x2cc393[_0x44bf67(0x5f0)]?.[_0x44bf67(0x3ff)]?_0x1a3aa6=_0x199bd1[_0x44bf67(0x49b)][_0x44bf67(0x26b)](_0x9493b=>_0x9493b['id']):_0x2cc393[_0x44bf67(0x5f0)]?.['mentioned']?.[_0x44bf67(0x487)]&&(_0x1a3aa6=_0x2cc393[_0x44bf67(0x5f0)][_0x44bf67(0x703)][_0x44bf67(0x26b)](_0x3b66ab=>{const _0x13ab10=_0x44bf67;let _0x3b9d7e=this['createJid'](_0x3b66ab);return(0x0,w[_0x13ab10(0x41b)])(_0x3b9d7e)?null:_0x3b9d7e;})));}catch{throw new U(_0x44bf67(0x243));}let _0x315989=await this['repository'][_0x44bf67(0x2ab)]['findOne']({'where':{'_id':_0xc1da74}},this[_0x44bf67(0x257)][_0x44bf67(0x4d4)]),_0x1a3e98=await((async()=>{const _0x46b6f2=_0x44bf67;let _0x16f34a={'quoted':_0x1219b5,'ephemeralExpiration':_0x315989?.[_0x46b6f2(0x478)]??0x0};if(!_0x1b0e7f['audio']&&!_0x1b0e7f[_0x46b6f2(0x746)]&&!_0x1b0e7f[_0x46b6f2(0x45e)]&&!_0x1b0e7f['conversation']&&_0xc1da74!==_0x46b6f2(0x47a)&&!_0x1b0e7f['audio'])return await this[_0x46b6f2(0x7de)][_0x46b6f2(0x315)](_0xc1da74,{'forward':{'key':{'remoteJid':this[_0x46b6f2(0x257)][_0x46b6f2(0x4d4)],'fromMe':!0x0},'message':_0x1b0e7f},'mentions':_0x1a3aa6},_0x16f34a);if(_0x1b0e7f['reactionMessage'])return await this[_0x46b6f2(0x7de)][_0x46b6f2(0x315)](_0xc1da74,{'react':{'text':_0x1b0e7f[_0x46b6f2(0x816)][_0x46b6f2(0x30b)],'key':_0x1b0e7f[_0x46b6f2(0x816)][_0x46b6f2(0x76f)]}},_0x16f34a);if(_0x1b0e7f['conversation']){let _0x52bcaa=_0x1b0e7f[_0x46b6f2(0x809)];return _0x2cc393?.[_0x46b6f2(0x77b)]&&(_0x52bcaa=await this[_0x46b6f2(0x1d7)](_0x52bcaa,_0xc1da74)),await this['client'][_0x46b6f2(0x315)](_0xc1da74,{'text':_0x52bcaa,'mentions':_0x1a3aa6,'linkPreview':_0x10ff58},_0x16f34a);}return _0xc1da74===_0x46b6f2(0x47a)?await this['client'][_0x46b6f2(0x315)](_0xc1da74,_0x1b0e7f['status']['content'],{'backgroundColor':_0x1b0e7f['status'][_0x46b6f2(0x71c)][_0x46b6f2(0x1c0)],'font':_0x1b0e7f['status'][_0x46b6f2(0x71c)][_0x46b6f2(0x7d5)],'statusJidList':_0x1b0e7f[_0x46b6f2(0x5d0)][_0x46b6f2(0x71c)][_0x46b6f2(0x31d)]}):await this[_0x46b6f2(0x7de)][_0x46b6f2(0x315)](_0xc1da74,_0x1b0e7f,_0x16f34a);})()),_0x4abd6e=(0x0,w['normalizeMessageContent'])(_0x1a3e98[_0x44bf67(0x690)]),_0xc43c8f=(0x0,w['getContentType'])(_0x4abd6e),{message_normalized:_0x3a1216}=this[_0x44bf67(0x3f1)](_0x4abd6e,_0xc43c8f,null),_0x1b4cf7={'_id':_0x1a3e98['key']['id'],'key':_0x1a3e98[_0x44bf67(0x76f)],'pushName':_0x1a3e98[_0x44bf67(0x32b)],'isGroup':_0x1a3e98['key'][_0x44bf67(0x28b)]['endsWith'](_0x44bf67(0x776)),'profilePictureUrl':this[_0x44bf67(0x257)][_0x44bf67(0x420)],'message':_0x4abd6e,'messageType':_0xc43c8f,'message_normalized':{'key':_0x1a3e98['key'],'pushName':_0x1a3e98[_0x44bf67(0x32b)],'messageTimestamp':_0x1a3e98[_0x44bf67(0x1c9)]&&_0x1a3e98[_0x44bf67(0x1c9)][_0x44bf67(0x894)]()[_0x44bf67(0x487)]<0xd?_0x1a3e98[_0x44bf67(0x1c9)]*0x3e8:_0x1a3e98[_0x44bf67(0x1c9)]||null,'source':(0x0,w[_0x44bf67(0x72a)])(_0x1a3e98[_0x44bf67(0x76f)]['id']),..._0x3a1216},'messageTimestamp':_0x1a3e98['messageTimestamp']&&_0x1a3e98[_0x44bf67(0x1c9)][_0x44bf67(0x894)]()['length']<0xd?_0x1a3e98[_0x44bf67(0x1c9)]*0x3e8:_0x1a3e98[_0x44bf67(0x1c9)]||null,'owner':this['instance']['wuid'],'source':(0x0,w[_0x44bf67(0x72a)])(_0x1a3e98[_0x44bf67(0x76f)]['id'])};return this[_0x44bf67(0x21c)][_0x44bf67(0x557)](this[_0x44bf67(0x401)]+'\x20('+this[_0x44bf67(0x257)][_0x44bf67(0x4d4)]+_0x44bf67(0x20f)+_0x1b4cf7[_0x44bf67(0x76f)]?.['remoteJid'][_0x44bf67(0x72d)](_0x44bf67(0x47b),'')+']\x20('+_0x1b4cf7[_0x44bf67(0x501)]+')'),_0x1b4cf7['message_normalized']?.[_0x44bf67(0x30b)]&&this[_0x44bf67(0x21c)][_0x44bf67(0x557)](_0x1b4cf7[_0x44bf67(0x7f4)]?.[_0x44bf67(0x30b)]),this[_0x44bf67(0x6b8)](_0x44bf67(0x365),_0x1b4cf7),J(this['instanceName'],_0x44bf67(0x212),{'message':_0x1b4cf7}),this[_0x44bf67(0x5e2)](this[_0x44bf67(0x494)][_0x44bf67(0x4be)](_0x44bf67(0x5db)),_0x1b4cf7,'SEND_MESSAGE',_0x315989),await this[_0x44bf67(0x2aa)][_0x44bf67(0x690)]['insert']([_0x1b4cf7],this[_0x44bf67(0x257)][_0x44bf67(0x4d4)]),_0x1a3e98;}catch(_0x251be2){let _0x2c6af9=_0x44bf67(0x5c0),_0x2013fd=_0x251be2 instanceof Error?_0x251be2['message']:typeof _0x251be2==_0x44bf67(0x5dc)?JSON[_0x44bf67(0x706)](_0x251be2):_0x251be2,_0x41b7eb=_0x2c6af9+':\x20'+_0x2013fd;throw this[_0x44bf67(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x44bf67(0x257)]['wuid']+_0x44bf67(0x342)+_0x41b7eb),new m(_0x41b7eb);}}get[a0_0x153f5d(0x75d)](){const _0x3fb331=a0_0x153f5d;return this[_0x3fb331(0x4b3)];}async[a0_0x153f5d(0x3a5)](_0x2bac72){const _0x4d4f0a=a0_0x153f5d;let _0x5d41f5=yi,_0x425a6e=tt;return _0x425a6e&&this[_0x4d4f0a(0x401)]['toLowerCase']()[_0x4d4f0a(0x424)](_0x425a6e['toLowerCase']())&&(_0x2bac72['textMessage'][_0x4d4f0a(0x30b)]+='\x0a\x0a'+_0x5d41f5),await this[_0x4d4f0a(0x567)](_0x2bac72[_0x4d4f0a(0x58a)],{'conversation':_0x2bac72[_0x4d4f0a(0x3a5)][_0x4d4f0a(0x30b)]},_0x2bac72?.[_0x4d4f0a(0x4f5)]);}async[a0_0x153f5d(0x2bc)](_0x532ec7){const _0x1aa16d=a0_0x153f5d;if(!_0x532ec7[_0x1aa16d(0x74a)])throw new m(_0x1aa16d(0x5b1));if(!_0x532ec7['content'])throw new m(_0x1aa16d(0x827));if(_0x532ec7[_0x1aa16d(0x752)]){let _0x592e06=await this[_0x1aa16d(0x2aa)]['contact'][_0x1aa16d(0x84e)]({'where':{}},this[_0x1aa16d(0x257)][_0x1aa16d(0x4d4)]);if(!_0x592e06[_0x1aa16d(0x487)])throw new m(_0x1aa16d(0x4bd));_0x532ec7[_0x1aa16d(0x31d)]=_0x592e06[_0x1aa16d(0x65b)](_0x57206e=>_0x57206e[_0x1aa16d(0x32b)])[_0x1aa16d(0x26b)](_0x57d3ef=>_0x57d3ef['_id']);}if(!_0x532ec7[_0x1aa16d(0x31d)]?.[_0x1aa16d(0x487)]&&!_0x532ec7[_0x1aa16d(0x752)])throw new m('StatusJidList\x20is\x20required');if(_0x532ec7[_0x1aa16d(0x74a)]===_0x1aa16d(0x30b)){if(!_0x532ec7[_0x1aa16d(0x1c0)])throw new m(_0x1aa16d(0x5e1));if(!_0x532ec7[_0x1aa16d(0x7d5)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x532ec7['content']},'option':{'backgroundColor':_0x532ec7[_0x1aa16d(0x1c0)],'font':_0x532ec7['font'],'statusJidList':_0x532ec7['statusJidList']}};}if(_0x532ec7[_0x1aa16d(0x74a)]===_0x1aa16d(0x56d))return{'content':{'image':{'url':_0x532ec7[_0x1aa16d(0x82d)]},'caption':_0x532ec7[_0x1aa16d(0x400)]},'option':{'statusJidList':_0x532ec7[_0x1aa16d(0x31d)]}};if(_0x532ec7[_0x1aa16d(0x74a)]===_0x1aa16d(0x2d9))return{'content':{'video':{'url':_0x532ec7[_0x1aa16d(0x82d)]},'caption':_0x532ec7[_0x1aa16d(0x400)]},'option':{'statusJidList':_0x532ec7['statusJidList']}};if(_0x532ec7[_0x1aa16d(0x74a)]==='audio'){this[_0x1aa16d(0x21c)][_0x1aa16d(0x6cf)](this[_0x1aa16d(0x401)]+'\x20('+this[_0x1aa16d(0x257)]['wuid']+_0x1aa16d(0x6f7)),this[_0x1aa16d(0x21c)][_0x1aa16d(0x6cf)](this[_0x1aa16d(0x401)]+'\x20('+this['instance'][_0x1aa16d(0x4d4)]+'):Processing\x20audio');let _0x5b3839=await this[_0x1aa16d(0x7ca)](_0x532ec7[_0x1aa16d(0x82d)]);if(typeof _0x5b3839=='string'){this[_0x1aa16d(0x21c)]['verbose'](this[_0x1aa16d(0x401)]+'\x20('+this[_0x1aa16d(0x257)][_0x1aa16d(0x4d4)]+_0x1aa16d(0x1eb));let _0x23fad7=j[_0x1aa16d(0x629)](_0x5b3839)[_0x1aa16d(0x894)](_0x1aa16d(0x1ac));return{'content':{'audio':Buffer[_0x1aa16d(0x2bd)](_0x23fad7,_0x1aa16d(0x1ac)),'ptt':!0x0,'mimetype':_0x1aa16d(0x828)},'option':{'statusJidList':_0x532ec7[_0x1aa16d(0x31d)]}};}else throw new I(_0x5b3839);}throw new m(_0x1aa16d(0x2fa));}async[a0_0x153f5d(0x46f)](_0x1810ea){const _0x52d65e=a0_0x153f5d;return await this[_0x52d65e(0x567)](_0x52d65e(0x47a),{'status':await this[_0x52d65e(0x2bc)](_0x1810ea['statusMessage'])});}async['prepareMediaMessage'](_0x381e81){const _0x3ef5fd=a0_0x153f5d;try{let _0xe291a5=await(0x0,w['prepareWAMessageMedia'])({[_0x381e81[_0x3ef5fd(0x689)]]:(0x0,P[_0x3ef5fd(0x4da)])(_0x381e81[_0x3ef5fd(0x807)])?{'url':_0x381e81[_0x3ef5fd(0x807)]}:Buffer[_0x3ef5fd(0x2bd)](_0x381e81[_0x3ef5fd(0x807)],_0x3ef5fd(0x1ac))},{'upload':this[_0x3ef5fd(0x7de)]['waUploadToServer']}),_0x6f9010=_0x381e81['mediatype']+_0x3ef5fd(0x3dd);if(_0x381e81[_0x3ef5fd(0x689)]===_0x3ef5fd(0x86c)&&!_0x381e81[_0x3ef5fd(0x74c)]){let _0x42c366=new RegExp(/.*\/(.+?)\./)[_0x3ef5fd(0x57c)](_0x381e81[_0x3ef5fd(0x807)]);_0x381e81[_0x3ef5fd(0x74c)]=_0x42c366?_0x42c366[0x1]:null;}let _0x2be033=(0x0,P[_0x3ef5fd(0x4da)])(_0x381e81[_0x3ef5fd(0x807)])?_0x381e81[_0x3ef5fd(0x807)][_0x3ef5fd(0x701)]('?')[0x0]:_0x381e81[_0x3ef5fd(0x807)],_0xc9bba9;(0x0,P['isURL'])(_0x381e81['media'])?_0xc9bba9=(0x0,kt[_0x3ef5fd(0x737)])(_0x2be033):_0x381e81['fileName']&&_0x381e81[_0x3ef5fd(0x74c)]['includes']('.')?_0xc9bba9=(0x0,kt[_0x3ef5fd(0x737)])(_0x381e81[_0x3ef5fd(0x74c)]):_0xc9bba9=(0x0,kt['getMIMEType'])(_0x381e81[_0x3ef5fd(0x807)]);let _0x2a3e7e=yi,_0x210d59=tt;return _0x210d59&&this[_0x3ef5fd(0x401)][_0x3ef5fd(0x31e)]()[_0x3ef5fd(0x424)](_0x210d59['toLowerCase']())&&(_0x381e81[_0x3ef5fd(0x400)]+='\x0a\x0a'+_0x2a3e7e),_0xe291a5[_0x6f9010][_0x3ef5fd(0x400)]=_0x381e81?.[_0x3ef5fd(0x400)],_0xe291a5[_0x6f9010]['mimetype']=_0xc9bba9,_0xe291a5[_0x6f9010][_0x3ef5fd(0x74c)]=_0x381e81[_0x3ef5fd(0x74c)],_0x381e81[_0x3ef5fd(0x689)]===_0x3ef5fd(0x2d9)&&(_0xe291a5[_0x6f9010][_0x3ef5fd(0x1df)]=Uint8Array[_0x3ef5fd(0x2bd)]((0x0,xe[_0x3ef5fd(0x629)])((0x0,F[_0x3ef5fd(0x658)])(process[_0x3ef5fd(0x430)](),_0x3ef5fd(0x4ae)))),_0xe291a5[_0x6f9010]['gifPlayback']=!0x1),(0x0,w[_0x3ef5fd(0x421)])('',{[_0x6f9010]:{..._0xe291a5[_0x6f9010]}},{'userJid':this[_0x3ef5fd(0x257)]['wuid']});}catch(_0x4c3402){let _0x64638b=_0x3ef5fd(0x754),_0x21c0f3=_0x4c3402 instanceof Error?_0x4c3402[_0x3ef5fd(0x690)]:typeof _0x4c3402==_0x3ef5fd(0x5dc)?JSON[_0x3ef5fd(0x706)](_0x4c3402):_0x4c3402,_0x4869d5=_0x64638b+':\x20'+_0x21c0f3;throw this[_0x3ef5fd(0x21c)]['error'](this[_0x3ef5fd(0x401)]+'\x20('+this[_0x3ef5fd(0x257)][_0x3ef5fd(0x4d4)]+'):\x20'+_0x4869d5),new I(_0x4869d5);}}async[a0_0x153f5d(0x1f7)](_0x426a0e){const _0x205c58=a0_0x153f5d;let _0x3ab535=await this[_0x205c58(0x4d3)](_0x426a0e[_0x205c58(0x1f7)]);return await this[_0x205c58(0x567)](_0x426a0e[_0x205c58(0x58a)],{..._0x3ab535[_0x205c58(0x690)]},_0x426a0e?.[_0x205c58(0x4f5)]);}async[a0_0x153f5d(0x49e)](_0x259469,_0x12735a){const _0x4026c8=a0_0x153f5d;try{this[_0x4026c8(0x21c)]['verbose'](this[_0x4026c8(0x401)]+'\x20('+this['instance'][_0x4026c8(0x4d4)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x4d3bc6,_0x1cf1e5=_0x12735a+'-'+new Date()[_0x4026c8(0x52f)]();this[_0x4026c8(0x21c)]['verbose'](this[_0x4026c8(0x401)]+'\x20('+this[_0x4026c8(0x257)][_0x4026c8(0x4d4)]+'):Hash\x20to\x20image\x20name:\x20'+_0x1cf1e5);let _0x153ff9=''+(0x0,F['join'])(this[_0x4026c8(0x559)],_0x1cf1e5+'.webp');if(this[_0x4026c8(0x21c)][_0x4026c8(0x6cf)](this[_0x4026c8(0x401)]+'\x20('+this[_0x4026c8(0x257)][_0x4026c8(0x4d4)]+'):Output\x20path:\x20'+_0x153ff9),(0x0,P[_0x4026c8(0x761)])(_0x259469)){this[_0x4026c8(0x21c)]['verbose'](this[_0x4026c8(0x401)]+'\x20('+this[_0x4026c8(0x257)]['wuid']+_0x4026c8(0x5d8));let _0x24f71d=_0x259469[_0x4026c8(0x72d)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4ce115=Buffer[_0x4026c8(0x2bd)](_0x24f71d,_0x4026c8(0x1ac));_0x4d3bc6=''+(0x0,F['join'])(this[_0x4026c8(0x559)],_0x4026c8(0x36e)+_0x1cf1e5+_0x4026c8(0x292)),this[_0x4026c8(0x21c)][_0x4026c8(0x6cf)](this['instanceName']+'\x20('+this[_0x4026c8(0x257)][_0x4026c8(0x4d4)]+_0x4026c8(0x2db)+_0x4d3bc6),await(0x0,jt[_0x4026c8(0x2b3)])(_0x4ce115)[_0x4026c8(0x64b)](_0x4d3bc6),this[_0x4026c8(0x21c)]['verbose'](this[_0x4026c8(0x401)]+'\x20('+this['instance'][_0x4026c8(0x4d4)]+'):Image\x20created');}else{this[_0x4026c8(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x4026c8(0x257)][_0x4026c8(0x4d4)]+'):Image\x20is\x20url');let _0x4b6844=new Date()[_0x4026c8(0x52f)](),_0x424646=_0x259469+_0x4026c8(0x426)+_0x4b6844;this[_0x4026c8(0x21c)][_0x4026c8(0x6cf)](this[_0x4026c8(0x401)]+'\x20('+this[_0x4026c8(0x257)]['wuid']+_0x4026c8(0x26d)+_0x424646);let _0xc7827=await K[_0x4026c8(0x2b3)][_0x4026c8(0x4be)](_0x424646,{'responseType':_0x4026c8(0x73f)});this[_0x4026c8(0x21c)][_0x4026c8(0x6cf)](this['instanceName']+'\x20('+this['instance'][_0x4026c8(0x4d4)]+'):Getting\x20image\x20from\x20url');let _0x3efc6c=Buffer['from'](_0xc7827[_0x4026c8(0x28c)],_0x4026c8(0x288));_0x4d3bc6=''+(0x0,F[_0x4026c8(0x658)])(this['storePath'],_0x4026c8(0x36e)+_0x1cf1e5+_0x4026c8(0x292)),this[_0x4026c8(0x21c)]['verbose'](this[_0x4026c8(0x401)]+'\x20('+this[_0x4026c8(0x257)][_0x4026c8(0x4d4)]+_0x4026c8(0x2db)+_0x4d3bc6),await(0x0,jt[_0x4026c8(0x2b3)])(_0x3efc6c)['toFile'](_0x4d3bc6),this[_0x4026c8(0x21c)][_0x4026c8(0x6cf)](this[_0x4026c8(0x401)]+'\x20('+this['instance']['wuid']+_0x4026c8(0x1cf));}return await(0x0,jt[_0x4026c8(0x2b3)])(_0x4d3bc6)['webp']()[_0x4026c8(0x64b)](_0x153ff9),this['logger'][_0x4026c8(0x6cf)](this[_0x4026c8(0x401)]+'\x20('+this[_0x4026c8(0x257)][_0x4026c8(0x4d4)]+_0x4026c8(0x465)),j[_0x4026c8(0x418)](_0x4d3bc6),this[_0x4026c8(0x21c)][_0x4026c8(0x6cf)](this['instanceName']+'\x20('+this[_0x4026c8(0x257)]['wuid']+_0x4026c8(0x314)),_0x153ff9;}catch(_0x2f7517){let _0x3c8189=_0x4026c8(0x83f),_0x543b4d=_0x2f7517 instanceof Error?_0x2f7517[_0x4026c8(0x690)]:typeof _0x2f7517==_0x4026c8(0x5dc)?JSON[_0x4026c8(0x706)](_0x2f7517):_0x2f7517,_0x15de3b=_0x3c8189+':\x20'+_0x543b4d;this[_0x4026c8(0x21c)][_0x4026c8(0x617)](this[_0x4026c8(0x401)]+'\x20('+this[_0x4026c8(0x257)][_0x4026c8(0x4d4)]+_0x4026c8(0x342)+_0x15de3b);}}async[a0_0x153f5d(0x712)](_0x8cbd6d){const _0x4a8f95=a0_0x153f5d;let _0x36ac59=await this[_0x4a8f95(0x49e)](_0x8cbd6d['stickerMessage'][_0x4a8f95(0x56d)],_0x8cbd6d[_0x4a8f95(0x58a)]),_0x4c2d3c=await this[_0x4a8f95(0x567)](_0x8cbd6d['number'],{'sticker':{'url':_0x36ac59}},_0x8cbd6d?.[_0x4a8f95(0x4f5)]);return j[_0x4a8f95(0x418)](_0x36ac59),this[_0x4a8f95(0x21c)][_0x4a8f95(0x6cf)](this[_0x4a8f95(0x401)]+'\x20('+this[_0x4a8f95(0x257)][_0x4a8f95(0x4d4)]+'):Converted\x20image\x20deleted'),_0x4c2d3c;}async['audioWhatsapp'](_0x59f7e8){const _0x5c9d0d=a0_0x153f5d;if(this[_0x5c9d0d(0x21c)][_0x5c9d0d(0x6cf)](this[_0x5c9d0d(0x401)]+'\x20('+this[_0x5c9d0d(0x257)][_0x5c9d0d(0x4d4)]+'):Sending\x20audio\x20whatsapp'),!_0x59f7e8['options']?.[_0x5c9d0d(0x6f4)]&&_0x59f7e8[_0x5c9d0d(0x4f5)]?.[_0x5c9d0d(0x6f4)]!==!0x1&&(_0x59f7e8[_0x5c9d0d(0x4f5)][_0x5c9d0d(0x6f4)]=!0x0),_0x59f7e8[_0x5c9d0d(0x4f5)]?.[_0x5c9d0d(0x6f4)]){let _0x56ccfc=await this[_0x5c9d0d(0x7ca)](_0x59f7e8['audioMessage']['audio']);if(typeof _0x56ccfc==_0x5c9d0d(0x60d)){let _0x595b0d=j['readFileSync'](_0x56ccfc)['toString'](_0x5c9d0d(0x1ac));return this['sendMessageWithTyping'](_0x59f7e8['number'],{'audio':Buffer['from'](_0x595b0d,_0x5c9d0d(0x1ac)),'ptt':!0x0,'mimetype':_0x5c9d0d(0x50a)},{'presence':_0x5c9d0d(0x88f),'delay':_0x59f7e8?.[_0x5c9d0d(0x4f5)]?.[_0x5c9d0d(0x33c)]});}else throw new I(_0x56ccfc);}return await this[_0x5c9d0d(0x567)](_0x59f7e8[_0x5c9d0d(0x58a)],{'audio':(0x0,P[_0x5c9d0d(0x4da)])(_0x59f7e8[_0x5c9d0d(0x751)][_0x5c9d0d(0x23a)])?{'url':_0x59f7e8[_0x5c9d0d(0x751)][_0x5c9d0d(0x23a)]}:Buffer[_0x5c9d0d(0x2bd)](_0x59f7e8[_0x5c9d0d(0x751)][_0x5c9d0d(0x23a)],'base64'),'ptt':!0x0,'mimetype':_0x5c9d0d(0x50a)},{'presence':_0x5c9d0d(0x88f),'delay':_0x59f7e8?.['options']?.['delay']});}async[a0_0x153f5d(0x7ca)](_0x3a9231){const _0x427cac=a0_0x153f5d;this[_0x427cac(0x21c)][_0x427cac(0x6cf)](this[_0x427cac(0x401)]+'\x20('+this['instance'][_0x427cac(0x4d4)]+_0x427cac(0x66a));let _0x22c8ef=(0x0,P[_0x427cac(0x4da)])(_0x3a9231)?(0x0,Ft[_0x427cac(0x67d)])(_0x427cac(0x74e))[_0x427cac(0x4e4)](_0x3a9231)['digest'](_0x427cac(0x719)):(0x0,Ft['createHash'])('sha256')[_0x427cac(0x4e4)](_0x3a9231)[_0x427cac(0x35f)](_0x427cac(0x719)),_0xf1c1d2=''+(0x0,F[_0x427cac(0x658)])(this[_0x427cac(0x559)],_0x22c8ef+'.ogg');if(j[_0x427cac(0x7e0)](_0xf1c1d2))return this[_0x427cac(0x21c)][_0x427cac(0x6cf)](this['instanceName']+'\x20('+this[_0x427cac(0x257)][_0x427cac(0x4d4)]+_0x427cac(0x7ce)),_0xf1c1d2;let _0x197002=''+(0x0,F[_0x427cac(0x658)])(this[_0x427cac(0x559)],_0x427cac(0x36e)+(0x0,Me['v4'])()+'.mp3');if((0x0,P['isURL'])(_0x3a9231)){let _0x53294e=new Date()[_0x427cac(0x52f)](),_0x211cfd=_0x3a9231+_0x427cac(0x426)+_0x53294e,_0x3dd191=await K[_0x427cac(0x2b3)]['get'](_0x211cfd,{'responseType':_0x427cac(0x73f)});j[_0x427cac(0x25e)](_0x197002,_0x3dd191[_0x427cac(0x28c)]);}else{let _0xd30959=Buffer[_0x427cac(0x2bd)](_0x3a9231,'base64');j['writeFileSync'](_0x197002,_0xd30959);}return new Promise((_0x610ceb,_0x37ff8a)=>{const _0x19d102=_0x427cac;(0x0,De[_0x19d102(0x57c)])($s[_0x19d102(0x2b3)][_0x19d102(0x2d1)]+_0x19d102(0x60a)+_0x197002+_0x19d102(0x8a1)+_0xf1c1d2+_0x19d102(0x59c),_0x11b0f7=>{const _0x57fca0=_0x19d102;if(j[_0x57fca0(0x418)](_0x197002),_0x11b0f7){this[_0x57fca0(0x21c)]['verbose'](this[_0x57fca0(0x401)]+'\x20('+this['instance'][_0x57fca0(0x4d4)]+'):Error\x20in\x20converting\x20audio'),_0x37ff8a(_0x11b0f7);return;}this[_0x57fca0(0x21c)][_0x57fca0(0x6cf)](this[_0x57fca0(0x401)]+'\x20('+this[_0x57fca0(0x257)][_0x57fca0(0x4d4)]+_0x57fca0(0x409)),_0x610ceb(_0xf1c1d2);});});}async[a0_0x153f5d(0x470)](_0x105f34){const _0x2a1f3d=a0_0x153f5d;this['logger'][_0x2a1f3d(0x6cf)](this[_0x2a1f3d(0x401)]+'\x20('+this['instance'][_0x2a1f3d(0x4d4)]+'):Processing\x20audio');let _0x2a1896=(0x0,Ft[_0x2a1f3d(0x67d)])(_0x2a1f3d(0x74e))[_0x2a1f3d(0x4e4)](_0x105f34)[_0x2a1f3d(0x35f)](_0x2a1f3d(0x719)),_0x2714d7=''+(0x0,F[_0x2a1f3d(0x658)])(this[_0x2a1f3d(0x559)],_0x2a1896+_0x2a1f3d(0x36c));if(j[_0x2a1f3d(0x7e0)](_0x2714d7))return this[_0x2a1f3d(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x2a1f3d(0x257)][_0x2a1f3d(0x4d4)]+_0x2a1f3d(0x7ce)),F[_0x2a1f3d(0x2b3)][_0x2a1f3d(0x1b4)](_0x2714d7);let _0x161ea0=''+(0x0,F[_0x2a1f3d(0x658)])(this[_0x2a1f3d(0x559)],_0x2a1f3d(0x36e)+_0x2a1896+_0x2a1f3d(0x73b));if((0x0,P[_0x2a1f3d(0x4da)])(_0x105f34)){let _0x2dbb3b=new Date()[_0x2a1f3d(0x52f)](),_0xd56441=_0x105f34+_0x2a1f3d(0x426)+_0x2dbb3b,_0x50da9e=await K['default'][_0x2a1f3d(0x4be)](_0xd56441,{'responseType':_0x2a1f3d(0x73f)});j[_0x2a1f3d(0x25e)](_0x161ea0,_0x50da9e[_0x2a1f3d(0x28c)]);}else{let _0x483a2d=Buffer['from'](_0x105f34,_0x2a1f3d(0x1ac));j['writeFileSync'](_0x161ea0,_0x483a2d);}return new Promise((_0x4e8252,_0x1c8f37)=>{const _0x18faca=_0x2a1f3d;(0x0,De[_0x18faca(0x57c)])($s[_0x18faca(0x2b3)][_0x18faca(0x2d1)]+'\x20-i\x20'+_0x161ea0+_0x18faca(0x6ac)+_0x2714d7+'\x20-y',_0x3e48af=>{const _0x2602b7=_0x18faca;if(j[_0x2602b7(0x418)](_0x161ea0),_0x3e48af){this['logger'][_0x2602b7(0x6cf)](this[_0x2602b7(0x401)]+'\x20('+this[_0x2602b7(0x257)]['wuid']+_0x2602b7(0x6bb)),_0x1c8f37(_0x3e48af);return;}this[_0x2602b7(0x21c)][_0x2602b7(0x6cf)](this['instanceName']+'\x20('+this[_0x2602b7(0x257)][_0x2602b7(0x4d4)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x4e8252(F[_0x2602b7(0x2b3)][_0x2602b7(0x1b4)](_0x2714d7));});});}async[a0_0x153f5d(0x85b)](_0x37c382){const _0x50e85a=a0_0x153f5d;let _0x298d7f={},_0x5067d1='TEXT';if(_0x37c382['buttonMessage']?.['mediaMessage']){_0x5067d1=_0x37c382['buttonMessage'][_0x50e85a(0x1f7)]?.[_0x50e85a(0x689)][_0x50e85a(0x70f)]()??_0x50e85a(0x566),_0x298d7f[_0x50e85a(0x1ea)]=_0x5067d1[_0x50e85a(0x31e)]()+_0x50e85a(0x3dd);let _0x175a06=await this['prepareMediaMessage'](_0x37c382[_0x50e85a(0x85b)]['mediaMessage']);_0x298d7f[_0x50e85a(0x690)]=_0x175a06[_0x50e85a(0x690)][_0x298d7f[_0x50e85a(0x1ea)]],_0x298d7f['contentText']='*'+_0x37c382['buttonMessage'][_0x50e85a(0x787)]+_0x50e85a(0x2c8)+_0x37c382[_0x50e85a(0x85b)][_0x50e85a(0x2f1)];}let _0x42743b={'text':_0x37c382[_0x50e85a(0x85b)]['buttons'][_0x50e85a(0x26b)](_0xe455c6=>_0xe455c6[_0x50e85a(0x688)]),'ids':_0x37c382[_0x50e85a(0x85b)][_0x50e85a(0x28a)][_0x50e85a(0x26b)](_0x161f2c=>_0x161f2c[_0x50e85a(0x867)])};if(!(0x0,P['arrayUnique'])(_0x42743b[_0x50e85a(0x30b)])||!(0x0,P[_0x50e85a(0x75b)])(_0x42743b[_0x50e85a(0x713)]))throw new m(_0x50e85a(0x742),_0x50e85a(0x3c0));return await this['sendMessageWithTyping'](_0x37c382[_0x50e85a(0x58a)],{'buttonsMessage':{'text':_0x298d7f?.['mediaKey']?void 0x0:_0x37c382['buttonMessage'][_0x50e85a(0x787)],'contentText':_0x298d7f?.['contentText']??_0x37c382[_0x50e85a(0x85b)]['description'],'footerText':_0x37c382[_0x50e85a(0x85b)]?.['footerText'],'buttons':_0x37c382[_0x50e85a(0x85b)]['buttons'][_0x50e85a(0x26b)](_0xf676cb=>({'buttonText':{'displayText':_0xf676cb['buttonText']},'buttonId':_0xf676cb['buttonId'],'type':0x1})),'headerType':w[_0x50e85a(0x88d)][_0x50e85a(0x3dd)]['ButtonsMessage'][_0x50e85a(0x56c)][_0x5067d1],[_0x298d7f?.[_0x50e85a(0x1ea)]]:_0x298d7f?.[_0x50e85a(0x690)]}},_0x37c382?.[_0x50e85a(0x4f5)]);}async['locationMessage'](_0xa46add){const _0x2564a2=a0_0x153f5d;return await this[_0x2564a2(0x567)](_0xa46add[_0x2564a2(0x58a)],{'locationMessage':{'degreesLatitude':_0xa46add[_0x2564a2(0x6a9)][_0x2564a2(0x682)],'degreesLongitude':_0xa46add['locationMessage'][_0x2564a2(0x213)],'name':_0xa46add[_0x2564a2(0x6a9)]?.[_0x2564a2(0x525)],'address':_0xa46add[_0x2564a2(0x6a9)]?.[_0x2564a2(0x4df)]}},_0xa46add?.[_0x2564a2(0x4f5)]);}async[a0_0x153f5d(0x446)](_0x990ce4){const _0x474c92=a0_0x153f5d;let _0x545b3b={},_0x12bb08=async _0x557149=>{const _0x27d63a=a0_0x2486;let _0x436b1d=_0x27d63a(0x2a0)+_0x557149[_0x27d63a(0x2bb)]+_0x27d63a(0x7f0)+_0x557149[_0x27d63a(0x2bb)]+'\x0a';_0x557149[_0x27d63a(0x607)]&&(_0x436b1d+=_0x27d63a(0x2fe)+_0x557149[_0x27d63a(0x607)]+';\x0a'),_0x557149['email']&&(_0x436b1d+='EMAIL:'+_0x557149[_0x27d63a(0x721)]+'\x0a'),_0x557149[_0x27d63a(0x851)]&&(_0x436b1d+='URL:'+_0x557149[_0x27d63a(0x851)]+'\x0a');let _0x5ecff8='',_0x4bac2e=0x1;if(_0x557149['phoneNumber']){let _0x129b01=_0x557149['phoneNumber'][_0x27d63a(0x701)]('|');for(let _0x5db27a of _0x129b01){let _0x33efa9=await this['whatsappNumber']({'numbers':[_0x5db27a]}),_0x35e9d9=(_0x33efa9[_0x27d63a(0x487)]>0x0?_0x33efa9[0x0][_0x27d63a(0x5ea)]:this[_0x27d63a(0x346)](_0x5db27a))['replace'](_0x27d63a(0x47b),'');_0x5ecff8+='item'+_0x4bac2e+_0x27d63a(0x596)+_0x35e9d9+':'+_0x5db27a+_0x27d63a(0x803)+_0x4bac2e+_0x27d63a(0x8a4),_0x4bac2e++;}}return _0x436b1d+=_0x5ecff8+'END:VCARD',_0x436b1d;};return _0x990ce4[_0x474c92(0x446)][_0x474c92(0x487)]===0x1?_0x545b3b[_0x474c92(0x446)]={'displayName':_0x990ce4[_0x474c92(0x446)][0x0][_0x474c92(0x2bb)],'vcard':await _0x12bb08(_0x990ce4['contactMessage'][0x0])}:_0x545b3b[_0x474c92(0x7a7)]={'displayName':_0x990ce4[_0x474c92(0x446)][_0x474c92(0x487)]+_0x474c92(0x4c7),'contacts':await Promise['all'](_0x990ce4[_0x474c92(0x446)]['map'](async _0x38bc5c=>({'displayName':_0x38bc5c[_0x474c92(0x2bb)],'vcard':await _0x12bb08(_0x38bc5c)})))},await this['sendMessageWithTyping'](_0x990ce4['number'],{..._0x545b3b},_0x990ce4?.[_0x474c92(0x4f5)]);}async[a0_0x153f5d(0x816)](_0x59f471){const _0x1178f7=a0_0x153f5d;return await this[_0x1178f7(0x567)](_0x59f471[_0x1178f7(0x816)][_0x1178f7(0x76f)][_0x1178f7(0x28b)],{'reactionMessage':{'key':_0x59f471[_0x1178f7(0x816)][_0x1178f7(0x76f)],'text':_0x59f471[_0x1178f7(0x816)][_0x1178f7(0x588)]}});}async[a0_0x153f5d(0x4ad)](_0x58130a){const _0x1b3a53=a0_0x153f5d;let _0x21cf04=[];for await(let _0x4b5bae of _0x58130a[_0x1b3a53(0x1e7)]){let _0x1900b6=this[_0x1b3a53(0x346)](_0x4b5bae),_0x5c8ded=!0x1;try{if((0x0,w[_0x1b3a53(0x41b)])(_0x1900b6)){let _0x3a995b=(await this['repository']['chat'][_0x1b3a53(0x88a)]({'where':{'_id':_0x1900b6}},this[_0x1b3a53(0x257)]['wuid']))[_0x1b3a53(0x866)];_0x5c8ded=!!_0x3a995b?.['id']&&!!_0x3a995b?.['canSendMessage'],_0x21cf04[_0x1b3a53(0x6f8)](new ye(_0x3a995b['id'],_0x5c8ded,_0x3a995b?.['subject']));}else{let _0x14eca4=(await this[_0x1b3a53(0x7de)][_0x1b3a53(0x6e9)](_0x1900b6))[0x0];_0x5c8ded=_0x14eca4[_0x1b3a53(0x3b6)],_0x21cf04[_0x1b3a53(0x6f8)](new ye(_0x14eca4[_0x1b3a53(0x5ea)],_0x5c8ded));}}catch{(0x0,w[_0x1b3a53(0x41b)])(_0x1900b6)||await this[_0x1b3a53(0x3f0)](_0x1900b6,_0x5c8ded),_0x21cf04[_0x1b3a53(0x6f8)](new ye(_0x4b5bae,!0x1));}}return _0x21cf04;}async['deleteImportedChat'](_0x20835d,_0x22eab5){const _0x39281c=a0_0x153f5d;try{await this['repository'][_0x39281c(0x2ab)][_0x39281c(0x88a)]({'where':{'_id':_0x20835d,'imported':!0x0}},this['instance'][_0x39281c(0x4d4)])&&(_0x22eab5||(await this[_0x39281c(0x2aa)][_0x39281c(0x2ab)][_0x39281c(0x580)](_0x20835d,this['instance']['wuid']),this['logger'][_0x39281c(0x4e8)](_0x39281c(0x4fd)+_0x20835d+_0x39281c(0x631))));}catch(_0x23c7cd){let _0x570fcd=_0x39281c(0x354),_0x38389f=_0x23c7cd instanceof Error?_0x23c7cd[_0x39281c(0x690)]:typeof _0x23c7cd==_0x39281c(0x5dc)?JSON['stringify'](_0x23c7cd):_0x23c7cd,_0x86c769=_0x570fcd+':\x20'+_0x38389f;this[_0x39281c(0x21c)][_0x39281c(0x617)](this[_0x39281c(0x401)]+'\x20('+this['instance'][_0x39281c(0x4d4)]+_0x39281c(0x342)+_0x86c769);}}async[a0_0x153f5d(0x779)](_0x1f9001){const _0xe84407=a0_0x153f5d;try{let _0x325716=_0x1f9001[_0xe84407(0x2d0)][_0xe84407(0x65b)](_0x54e16c=>(0x0,w[_0xe84407(0x41b)])(_0x54e16c[_0xe84407(0x28b)])||(0x0,w[_0xe84407(0x203)])(_0x54e16c[_0xe84407(0x28b)]))[_0xe84407(0x26b)](_0x27bf00=>({'remoteJid':_0x27bf00['remoteJid'],'fromMe':_0x27bf00[_0xe84407(0x78a)],'id':_0x27bf00['id']}));await this[_0xe84407(0x7de)][_0xe84407(0x2d0)](_0x325716);let _0x3b9596=_0x325716['map'](_0x27cbdc=>this[_0xe84407(0x5e7)](_0x27cbdc,{'status':_0xe84407(0x6d4),'owner':this[_0xe84407(0x257)][_0xe84407(0x4d4)]})),_0xa6594f=_0x325716[_0xe84407(0x26b)](_0x1288e6=>this['repository'][_0xe84407(0x2ab)][_0xe84407(0x499)]({'where':{'_id':_0x1288e6[_0xe84407(0x28b)]}},{'unreadcount':0x0},this[_0xe84407(0x257)][_0xe84407(0x4d4)])),[_0x2b2909,_0x5e76d0]=await Promise[_0xe84407(0x512)]([Promise['all'](_0x3b9596),Promise['all'](_0xa6594f)]);return _0x5e76d0[_0xe84407(0x65b)](_0x17229c=>_0x17229c!==null)['forEach'](_0x3e004c=>{const _0x395667=_0xe84407;J(this[_0x395667(0x401)],_0x395667(0x7a3),{'chat':_0x3e004c});}),{'message':_0xe84407(0x563),'read':'success'};}catch(_0x1a8762){let _0x2b6fb3='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x1545fc=_0x1a8762 instanceof Error?_0x1a8762[_0xe84407(0x690)]:typeof _0x1a8762=='object'?JSON['stringify'](_0x1a8762):_0x1a8762,_0x2e896f=_0x2b6fb3+':\x20'+_0x1545fc;throw this[_0xe84407(0x21c)][_0xe84407(0x617)](this[_0xe84407(0x401)]+'\x20('+this['instance'][_0xe84407(0x4d4)]+_0xe84407(0x342)+_0x2e896f),new I(_0x2e896f);}}async[a0_0x153f5d(0x50e)](_0x25016e){const _0x5d09cf=a0_0x153f5d;let _0x4c685c={'where':{'key':{'remoteJid':_0x25016e}},'limit':0x1},_0x3b8c8f=await this[_0x5d09cf(0x3a8)](_0x4c685c);return _0x3b8c8f||(console[_0x5d09cf(0x617)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x25016e),null);}async[a0_0x153f5d(0x6c6)](_0x578462){const _0x3b8019=a0_0x153f5d;this[_0x3b8019(0x21c)][_0x3b8019(0x6cf)](this[_0x3b8019(0x401)]+'\x20('+this[_0x3b8019(0x257)][_0x3b8019(0x4d4)]+_0x3b8019(0x2f5));try{let _0x153acc=_0x578462[_0x3b8019(0x480)],_0x1742dc=_0x578462[_0x3b8019(0x2ab)];if(!_0x153acc&&_0x1742dc?_0x153acc=await this[_0x3b8019(0x50e)](_0x1742dc):(_0x153acc=_0x578462[_0x3b8019(0x480)],_0x153acc[_0x3b8019(0x1c9)]=_0x153acc?.['messageTimestamp']??Date[_0x3b8019(0x2fb)](),_0x1742dc=_0x153acc?.[_0x3b8019(0x76f)]?.[_0x3b8019(0x28b)]),!_0x153acc||Object[_0x3b8019(0x60b)](_0x153acc)[_0x3b8019(0x487)]===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x3b8019(0x21c)][_0x3b8019(0x6cf)](this['instanceName']+'\x20('+this[_0x3b8019(0x257)][_0x3b8019(0x4d4)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x1742dc);try{await this[_0x3b8019(0x7de)]['chatModify']({'archive':_0x578462[_0x3b8019(0x22c)],'lastMessages':[_0x153acc]},this[_0x3b8019(0x346)](_0x1742dc));}catch(_0x196637){let _0x2c7615='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x1742dc,_0x37eeaf=_0x196637 instanceof Error?_0x196637['message']:typeof _0x196637==_0x3b8019(0x5dc)?JSON[_0x3b8019(0x706)](_0x196637):_0x196637,_0x30e541=_0x2c7615+':\x20'+_0x37eeaf;this[_0x3b8019(0x21c)][_0x3b8019(0x617)](this['instanceName']+'\x20('+this[_0x3b8019(0x257)][_0x3b8019(0x4d4)]+'):\x20'+_0x30e541);}this[_0x3b8019(0x21c)][_0x3b8019(0x6cf)](this[_0x3b8019(0x401)]+'\x20('+this['instance'][_0x3b8019(0x4d4)]+_0x3b8019(0x4b7)+_0x1742dc);let _0x59e9fd=await this[_0x3b8019(0x2aa)]['chat'][_0x3b8019(0x499)]({'where':{'_id':_0x153acc?.['key']?.['remoteJid']}},{'archived':_0x578462[_0x3b8019(0x22c)]},this['instance'][_0x3b8019(0x4d4)]);return _0x59e9fd?(this[_0x3b8019(0x21c)][_0x3b8019(0x6cf)](this['instanceName']+'\x20('+this[_0x3b8019(0x257)][_0x3b8019(0x4d4)]+_0x3b8019(0x84a)+JSON[_0x3b8019(0x706)](_0x59e9fd)),J(this[_0x3b8019(0x401)],_0x3b8019(0x7a3),{'chat':_0x59e9fd})):this[_0x3b8019(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x3b8019(0x257)][_0x3b8019(0x4d4)]+_0x3b8019(0x1db)+_0x1742dc),{'chatId':_0x1742dc,'archived':_0x578462[_0x3b8019(0x22c)]};}catch(_0x4f3ffc){let _0xc60a65=_0x3b8019(0x425),_0xeb5044=_0x4f3ffc instanceof Error?_0x4f3ffc[_0x3b8019(0x690)]:typeof _0x4f3ffc==_0x3b8019(0x5dc)?JSON['stringify'](_0x4f3ffc):_0x4f3ffc,_0x1b9913=_0xc60a65+':\x20'+_0xeb5044;throw this['logger']['error'](this[_0x3b8019(0x401)]+'\x20('+this[_0x3b8019(0x257)][_0x3b8019(0x4d4)]+_0x3b8019(0x342)+_0x1b9913),new I(_0x1b9913);}}async[a0_0x153f5d(0x580)](_0x46ca6b){const _0x5716db=a0_0x153f5d;this[_0x5716db(0x21c)]['verbose'](this[_0x5716db(0x401)]+'\x20('+this[_0x5716db(0x257)][_0x5716db(0x4d4)]+_0x5716db(0x41a));try{let _0x3e9e66=await this[_0x5716db(0x50e)](_0x46ca6b);if(!_0x3e9e66||Object[_0x5716db(0x60b)](_0x3e9e66)[_0x5716db(0x487)]===0x0)throw new U(_0x5716db(0x4d0));let _0x17222=_0x3e9e66[0x0];this[_0x5716db(0x21c)][_0x5716db(0x6cf)](this[_0x5716db(0x401)]+'\x20('+this[_0x5716db(0x257)][_0x5716db(0x4d4)]+_0x5716db(0x1f4)+_0x46ca6b);try{await this[_0x5716db(0x7de)][_0x5716db(0x4ab)]({'delete':!0x0,'lastMessages':[{'key':_0x17222[_0x5716db(0x76f)],'messageTimestamp':_0x17222[_0x5716db(0x1c9)]}]},this['createJid'](_0x46ca6b));}catch(_0x46774e){this[_0x5716db(0x21c)]['error'](_0x5716db(0x3e0)+_0x46ca6b+':\x20'+_0x46774e[_0x5716db(0x894)]());}this[_0x5716db(0x21c)][_0x5716db(0x6cf)](this[_0x5716db(0x401)]+'\x20('+this[_0x5716db(0x257)]['wuid']+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x46ca6b);return;}catch(_0x2a3627){throw this['logger']['error'](this[_0x5716db(0x401)]+'\x20('+this['instance']['wuid']+_0x5716db(0x891)+_0x2a3627['toString']()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x2a3627[_0x5716db(0x894)]()]});}}async[a0_0x153f5d(0x694)](_0x4f085f){const _0x4a0c1d=a0_0x153f5d;try{let _0x27af40=await this[_0x4a0c1d(0x7de)]['sendMessage'](_0x4f085f[_0x4a0c1d(0x28b)],{'delete':_0x4f085f});try{let _0x1d0521=await this[_0x4a0c1d(0x5e7)](_0x4f085f,{'status':'DELETED','owner':this[_0x4a0c1d(0x257)][_0x4a0c1d(0x4d4)]});this['logger'][_0x4a0c1d(0x6cf)](this['instanceName']+'\x20('+this['instance'][_0x4a0c1d(0x4d4)]+'):\x20updateResult:'+_0x1d0521);}catch(_0x4f099b){console[_0x4a0c1d(0x617)](_0x4a0c1d(0x2f4),_0x4f099b);}return _0x27af40;}catch(_0x45393a){throw new I(_0x4a0c1d(0x371),_0x45393a?.['toString']());}}async[a0_0x153f5d(0x214)](_0x48427e){const _0x168ce0=a0_0x153f5d;try{let _0x552c7c=_0x48427e?.['message']?_0x48427e:await this[_0x168ce0(0x1cc)](_0x48427e['key'],!0x0);for(let _0xcc07a8 of wa)_0x552c7c[_0x168ce0(0x690)][_0xcc07a8]&&(_0x552c7c[_0x168ce0(0x690)]=_0x552c7c[_0x168ce0(0x690)][_0xcc07a8]['message']);let _0x3ae40c,_0x3b02d6;for(let _0x205ee4 of fa)if(_0x3ae40c=_0x552c7c[_0x168ce0(0x690)][_0x205ee4],_0x3ae40c){_0x3b02d6=_0x205ee4;break;}if(!_0x3ae40c)throw _0x168ce0(0x720);typeof _0x3ae40c['mediaKey']==_0x168ce0(0x5dc)&&(_0x552c7c[_0x168ce0(0x690)]=JSON[_0x168ce0(0x3c5)](JSON[_0x168ce0(0x706)](_0x552c7c[_0x168ce0(0x690)])));let _0x55571f=await(0x0,w[_0x168ce0(0x47c)])({'key':_0x552c7c?.['key'],'message':_0x552c7c?.[_0x168ce0(0x690)]},_0x168ce0(0x70c),{},{'logger':(0x0,Pt[_0x168ce0(0x2b3)])({'level':_0x168ce0(0x322)}),'reuploadRequest':this['client'][_0x168ce0(0x359)]});if(!(_0x55571f instanceof Buffer))throw new Error(_0x168ce0(0x3b9));let _0x8b359c=this[_0x168ce0(0x494)][_0x168ce0(0x4be)](_0x168ce0(0x5db)),_0x232e1b,_0x13f86c;if(_0x3ae40c['fileName'])_0x232e1b=_0x3ae40c[_0x168ce0(0x74c)];else{let _0x2cb403=_0x3ae40c['mimetype']?.[_0x168ce0(0x20b)](/\/(\w+)/),_0x566c7b=_0x2cb403?_0x2cb403[0x1]:null;if(!_0x566c7b)throw new Error(_0x168ce0(0x772));_0x232e1b=(0x0,Me['v4'])()+'.'+_0x566c7b;}_0x3b02d6===_0x168ce0(0x751)?_0x13f86c=_0x168ce0(0x898)+await this[_0x168ce0(0x470)](_0x55571f['toString'](_0x168ce0(0x1ac))):(await this[_0x168ce0(0x4fc)](_0x55571f,_0x232e1b),_0x13f86c='/media/'+_0x232e1b);let _0x374676=this[_0x168ce0(0x494)][_0x168ce0(0x4be)](_0x168ce0(0x89b))[_0x168ce0(0x869)];if(!_0x374676){let _0x316b6b=this[_0x168ce0(0x494)][_0x168ce0(0x4be)](_0x168ce0(0x3f6));_0x374676=_0x168ce0(0x842)+(_0x316b6b&&_0x316b6b[_0x168ce0(0x25f)][_0x168ce0(0x701)]('/')[0x4]);}_0x13f86c=''+_0x374676+_0x13f86c;let _0x2eff7a=0xc*0x3c*0x3c*0x3e8,_0x22cee0={'where':{'_id':_0x552c7c[_0x168ce0(0x76f)]['id']}},_0x3a7b54={'message_normalized.fileUrl':_0x13f86c,'message_normalized.expires_fileUrl':Date[_0x168ce0(0x2fb)]()+_0x2eff7a};try{let _0x4ea18c=await this[_0x168ce0(0x2aa)][_0x168ce0(0x690)]['update'](_0x22cee0,_0x3a7b54,this[_0x168ce0(0x257)]['wuid']);_0x4ea18c&&J(this[_0x168ce0(0x401)],_0x168ce0(0x212),{'message':_0x4ea18c});}catch(_0x447297){let _0x3fd50a=_0x168ce0(0x2e7),_0x1d44c4=_0x447297 instanceof Error?_0x447297[_0x168ce0(0x690)]:typeof _0x447297=='object'?JSON[_0x168ce0(0x706)](_0x447297):_0x447297,_0x213bd1=_0x3fd50a+':\x20'+_0x1d44c4;this[_0x168ce0(0x21c)][_0x168ce0(0x617)](this['instanceName']+'\x20('+this[_0x168ce0(0x257)][_0x168ce0(0x4d4)]+_0x168ce0(0x342)+_0x213bd1);}return{'mediaType':_0x3b02d6,'fileName':_0x3ae40c[_0x168ce0(0x74c)],'caption':_0x3ae40c[_0x168ce0(0x400)],'size':{'fileLength':_0x3ae40c[_0x168ce0(0x88b)],'height':_0x3ae40c[_0x168ce0(0x2ac)],'width':_0x3ae40c['width']},'mimetype':_0x3ae40c[_0x168ce0(0x396)],'base64':_0x55571f[_0x168ce0(0x894)]('base64'),'fileUrl':_0x13f86c,'expires_fileUrl':Date[_0x168ce0(0x2fb)]()+_0x2eff7a};}catch(_0x5b0fcd){let _0x276ae3=_0x168ce0(0x46e),_0x405294=_0x5b0fcd instanceof Error?_0x5b0fcd[_0x168ce0(0x690)]:typeof _0x5b0fcd==_0x168ce0(0x5dc)?JSON['stringify'](_0x5b0fcd):_0x5b0fcd,_0x23bc8f=_0x276ae3+':\x20'+_0x405294;throw this[_0x168ce0(0x21c)][_0x168ce0(0x617)](this[_0x168ce0(0x401)]+'\x20('+this[_0x168ce0(0x257)][_0x168ce0(0x4d4)]+'):\x20'+_0x23bc8f),new m(_0x23bc8f);}}async[a0_0x153f5d(0x4fc)](_0x3ab77a,_0xc66e4f){const _0x5992a6=a0_0x153f5d;let _0xeeaeb6=F[_0x5992a6(0x2b3)]['join'](__dirname,_0x5992a6(0x680));j['existsSync'](_0xeeaeb6)||j['mkdirSync'](_0xeeaeb6,{'recursive':!0x0});let _0x33f166=F['default'][_0x5992a6(0x658)](_0xeeaeb6,_0xc66e4f);return new Promise((_0x2471bd,_0x356f2e)=>{const _0x28bab5=_0x5992a6;j[_0x28bab5(0x6b3)](_0x33f166,_0x3ab77a,_0x42bef6=>{const _0x2ad555=_0x28bab5;_0x42bef6?(this[_0x2ad555(0x21c)][_0x2ad555(0x617)](_0x2ad555(0x655)+(_0x42bef6 instanceof Error?_0x42bef6['message']:JSON[_0x2ad555(0x706)](_0x42bef6,null,0x2))),_0x356f2e(_0x42bef6)):(this['logger']['log'](_0x2ad555(0x1be)+_0x33f166),_0x2471bd(_0x33f166));});});}async[a0_0x153f5d(0x1d5)](_0x161fc8){const _0x105836=a0_0x153f5d;return await this[_0x105836(0x2aa)][_0x105836(0x53c)][_0x105836(0x84e)](_0x161fc8,this[_0x105836(0x257)]['wuid']);}async[a0_0x153f5d(0x52a)](){const _0x17bbe3=a0_0x153f5d;return await this[_0x17bbe3(0x2aa)][_0x17bbe3(0x19d)][_0x17bbe3(0x84e)]({'where':{}},this[_0x17bbe3(0x257)][_0x17bbe3(0x4d4)]);}async['fetchMessages'](_0x3bcb16){const _0x57999b=a0_0x153f5d;return await this['repository']['message'][_0x57999b(0x84e)](_0x3bcb16,this[_0x57999b(0x257)][_0x57999b(0x4d4)]);}async['fetchChats'](){const _0x2dc4d6=a0_0x153f5d;return this[_0x2dc4d6(0x2aa)]['chat'][_0x2dc4d6(0x253)](this[_0x2dc4d6(0x257)]['wuid']),this[_0x2dc4d6(0x2aa)]['chat']['updateMissingEtiquetas'](this[_0x2dc4d6(0x257)]['wuid']),this['repository'][_0x2dc4d6(0x2ab)]['updateMissingTags'](this[_0x2dc4d6(0x257)][_0x2dc4d6(0x4d4)]),this[_0x2dc4d6(0x2aa)]['chat'][_0x2dc4d6(0x453)](this['instance'][_0x2dc4d6(0x4d4)]),await this[_0x2dc4d6(0x2aa)][_0x2dc4d6(0x2ab)][_0x2dc4d6(0x84e)]({'where':{}},this[_0x2dc4d6(0x257)][_0x2dc4d6(0x4d4)]);}async[a0_0x153f5d(0x6b1)](_0x208636){const _0x1a2b3e=a0_0x153f5d;try{if(!Array[_0x1a2b3e(0x653)](_0x208636)||_0x208636[_0x1a2b3e(0x487)]===0x0)throw new Error(_0x1a2b3e(0x610));let _0x419727=[],_0x12037f=[];for(let _0x1e8964 of _0x208636){if(_0x1e8964[_0x1a2b3e(0x412)])_0x1e8964[_0x1a2b3e(0x412)]=this['createJid'](_0x1e8964[_0x1a2b3e(0x412)]);else continue;await this[_0x1a2b3e(0x2aa)]['chat']['findOne']({'where':{'_id':_0x1e8964[_0x1a2b3e(0x412)]}},this[_0x1a2b3e(0x257)]['wuid'])?_0x12037f[_0x1a2b3e(0x6f8)]({'_id':_0x1e8964['_id'],'leadInfo':_0x1e8964[_0x1a2b3e(0x69b)],'owner':this[_0x1a2b3e(0x257)][_0x1a2b3e(0x4d4)]}):_0x419727['push']({'_id':_0x1e8964[_0x1a2b3e(0x412)],'owner':this[_0x1a2b3e(0x257)][_0x1a2b3e(0x4d4)],'leadInfo':_0x1e8964[_0x1a2b3e(0x69b)],'imported':!0x0});}return _0x12037f['length']>0x0&&await this['repository'][_0x1a2b3e(0x2ab)][_0x1a2b3e(0x21d)](_0x12037f[_0x1a2b3e(0x26b)](_0x129bbd=>({'query':{'where':{'_id':_0x129bbd[_0x1a2b3e(0x412)],'owner':this[_0x1a2b3e(0x257)][_0x1a2b3e(0x4d4)]}},'update':_0x129bbd}))),_0x419727[_0x1a2b3e(0x487)]>0x0&&await this[_0x1a2b3e(0x2aa)][_0x1a2b3e(0x2ab)][_0x1a2b3e(0x814)](_0x419727,this['instance']['wuid']),{'updated':_0x12037f[_0x1a2b3e(0x487)],'inserted':_0x419727[_0x1a2b3e(0x487)]};}catch(_0x5dd22a){let _0x33f7b9=_0x1a2b3e(0x5b2),_0x329565=_0x5dd22a instanceof Error?_0x5dd22a['message']:typeof _0x5dd22a==_0x1a2b3e(0x5dc)?JSON['stringify'](_0x5dd22a):_0x5dd22a,_0x29e0c0=_0x33f7b9+':\x20'+_0x329565;throw this[_0x1a2b3e(0x21c)][_0x1a2b3e(0x617)](this[_0x1a2b3e(0x401)]+'\x20('+this[_0x1a2b3e(0x257)][_0x1a2b3e(0x4d4)]+_0x1a2b3e(0x342)+_0x29e0c0),new m(_0x29e0c0);}}async[a0_0x153f5d(0x646)](_0x33f56b){const _0x3c6670=a0_0x153f5d;try{if(!Array['isArray'](_0x33f56b)||_0x33f56b['length']===0x0)throw new Error(_0x3c6670(0x610));let _0x35ff11=0x64,_0x1b53d5=0x0;for(let _0x21798a=0x0;_0x21798a<_0x33f56b[_0x3c6670(0x487)];_0x21798a+=_0x35ff11){let _0x320513=_0x33f56b[_0x3c6670(0x34d)](_0x21798a,_0x21798a+_0x35ff11),{updated:_0xdd663f}=await this[_0x3c6670(0x266)](_0x320513);_0x1b53d5+=_0xdd663f;}return{'updated':_0x1b53d5};}catch(_0x1ab0a8){let _0x1f87ed=_0x3c6670(0x5b2),_0x562abf=_0x1ab0a8 instanceof Error?_0x1ab0a8['message']:typeof _0x1ab0a8=='object'?JSON[_0x3c6670(0x706)](_0x1ab0a8):_0x1ab0a8,_0x459355=_0x1f87ed+':\x20'+_0x562abf;throw this[_0x3c6670(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x3c6670(0x257)][_0x3c6670(0x4d4)]+_0x3c6670(0x342)+_0x459355),new m(_0x459355);}}async[a0_0x153f5d(0x266)](_0x278446){const _0x7de939=a0_0x153f5d;try{let _0x2dfe97=await this['repository'][_0x7de939(0x19d)][_0x7de939(0x84e)]({'where':{}},this[_0x7de939(0x257)][_0x7de939(0x4d4)]),_0x2bac06=new Set(_0x2dfe97[_0x7de939(0x26b)](_0x585ff9=>_0x585ff9[_0x7de939(0x412)])),_0x54954c=[],_0x5ec0a0=[];for(let _0x13346f of _0x278446){if(!_0x13346f[_0x7de939(0x412)])continue;_0x13346f[_0x7de939(0x412)]=this['createJid'](_0x13346f['_id']);let _0x17ee40=await this[_0x7de939(0x2aa)][_0x7de939(0x2ab)][_0x7de939(0x88a)]({'where':{'_id':_0x13346f[_0x7de939(0x412)]}},this[_0x7de939(0x257)]['wuid']),_0x56454f={};if(Object[_0x7de939(0x32f)](_0x13346f[_0x7de939(0x69b)])[_0x7de939(0x42e)](([_0x443907,_0x5983c1])=>{const _0x153590=_0x7de939;_0x56454f[_0x153590(0x848)+_0x443907]=_0x5983c1;}),_0x17ee40&&!_0x17ee40[_0x7de939(0x21b)]){let _0x1dba92=(_0x13346f[_0x7de939(0x69b)][_0x7de939(0x4d8)]||[])[_0x7de939(0x65b)](_0x2fdfe4=>_0x2bac06[_0x7de939(0x4ca)](_0x2fdfe4)),_0x586606=new Set(_0x17ee40[_0x7de939(0x69b)][_0x7de939(0x4d8)]||[]),_0x46e9af=_0x1dba92[_0x7de939(0x65b)](_0x2717ca=>!_0x586606[_0x7de939(0x4ca)](_0x2717ca)),_0x5d508c=[..._0x586606][_0x7de939(0x65b)](_0xe505c1=>!_0x1dba92[_0x7de939(0x424)](_0xe505c1));_0x5ec0a0[_0x7de939(0x6f8)](..._0x46e9af[_0x7de939(0x26b)](_0x95ddca=>this[_0x7de939(0x408)](_0x95ddca,_0x13346f['_id']))),_0x5ec0a0[_0x7de939(0x6f8)](..._0x5d508c['map'](_0x1e59d5=>this[_0x7de939(0x715)](_0x1e59d5,_0x13346f[_0x7de939(0x412)]))),_0x13346f[_0x7de939(0x69b)]['etiquetas']=_0x1dba92,_0x54954c['push']({'query':{'where':{'_id':_0x13346f['_id'],'owner':this[_0x7de939(0x257)][_0x7de939(0x4d4)]}},'update':_0x56454f});}else _0x56454f[_0x7de939(0x21b)]=!0x0,_0x54954c['push']({'query':{'where':{'_id':_0x13346f[_0x7de939(0x412)],'owner':this[_0x7de939(0x257)][_0x7de939(0x4d4)]}},'update':_0x56454f});}let _0x2ce360=await this[_0x7de939(0x2aa)]['chat'][_0x7de939(0x21d)](_0x54954c);return await Promise[_0x7de939(0x512)](_0x5ec0a0),{'updated':_0x2ce360};}catch(_0x305155){let _0x112fa1='Erro\x20ao\x20importar\x20chats',_0x3dacca=_0x305155 instanceof Error?_0x305155[_0x7de939(0x690)]:typeof _0x305155==_0x7de939(0x5dc)?JSON[_0x7de939(0x706)](_0x305155):_0x305155,_0x3761c5=_0x112fa1+':\x20'+_0x3dacca;throw this[_0x7de939(0x21c)]['error'](this[_0x7de939(0x401)]+'\x20('+this[_0x7de939(0x257)][_0x7de939(0x4d4)]+_0x7de939(0x342)+_0x3761c5),new m(_0x3761c5);}}async[a0_0x153f5d(0x483)](){const _0x1cc313=a0_0x153f5d;return await this['client'][_0x1cc313(0x483)]();}async['updatePrivacySettings'](_0x415628){const _0x5232a7=a0_0x153f5d;try{return await this['client']['updateReadReceiptsPrivacy'](_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x43c)]),await this[_0x5232a7(0x7de)]['updateProfilePicturePrivacy'](_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x2a7)]),await this[_0x5232a7(0x7de)][_0x5232a7(0x28d)](_0x415628[_0x5232a7(0x5eb)]['status']),await this[_0x5232a7(0x7de)][_0x5232a7(0x35c)](_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x68c)]),await this[_0x5232a7(0x7de)][_0x5232a7(0x7c6)](_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x62d)]),await this['client'][_0x5232a7(0x476)](_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x1d3)]),this[_0x5232a7(0x7de)]?.['ws']?.[_0x5232a7(0x3df)](),{'update':_0x5232a7(0x2ba),'data':{'readreceipts':_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x43c)],'profile':_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x2a7)],'status':_0x415628[_0x5232a7(0x5eb)]['status'],'online':_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x68c)],'last':_0x415628[_0x5232a7(0x5eb)][_0x5232a7(0x62d)],'groupadd':_0x415628[_0x5232a7(0x5eb)]['groupadd']}};}catch(_0x1e75c5){let _0x27f9de='Erro\x20ao\x20alterar\x20privacidade',_0x28f0b8=_0x1e75c5 instanceof Error?_0x1e75c5[_0x5232a7(0x690)]:typeof _0x1e75c5==_0x5232a7(0x5dc)?JSON[_0x5232a7(0x706)](_0x1e75c5):_0x1e75c5,_0x59456b=_0x27f9de+':\x20'+_0x28f0b8;throw this['logger'][_0x5232a7(0x617)](this[_0x5232a7(0x401)]+'\x20('+this['instance']['wuid']+_0x5232a7(0x342)+_0x59456b),new m(_0x59456b);}}async['fetchProfile'](_0x4130fa){const _0x312539=a0_0x153f5d;let _0x5db0c9=(_0x4130fa?this[_0x312539(0x346)](_0x4130fa):this['client']?.[_0x312539(0x880)]?.['id'])[_0x312539(0x72d)](/:\d{1,2}@/g,'@');this[_0x312539(0x21c)][_0x312539(0x6cf)](this['instanceName']+'\x20('+this[_0x312539(0x257)]['wuid']+_0x312539(0x254)+_0x5db0c9);let _0x35e36e=await this[_0x312539(0x2aa)][_0x312539(0x53c)][_0x312539(0x88a)]({'where':{'_id':_0x5db0c9}},this[_0x312539(0x257)]['wuid']),_0x249629=_0x35e36e?_0x35e36e[_0x312539(0x32b)]:null;try{let _0x512d86=(await this['whatsappNumber']({'numbers':[_0x5db0c9]}))?.['shift'](),_0x5cd680=(await this[_0x312539(0x65d)](_0x5db0c9,null,!0x1))[_0x312539(0x6be)][_0x312539(0x25c)],_0x52c467=await this[_0x312539(0x3b8)](_0x512d86?.[_0x312539(0x5ea)]),_0x4f2083=await this[_0x312539(0x2d6)](_0x512d86?.[_0x312539(0x5ea)]),_0x3bf930=(await this['findAndUpdateCacheContact'](_0x5db0c9,null,!0x1))['cachedContact'][_0x312539(0x525)],_0x3c4819=await this['repository'][_0x312539(0x2ab)][_0x312539(0x88a)]({'where':{'_id':_0x5db0c9}},this['instance'][_0x312539(0x4d4)]),_0xa170fa={'imagechat':_0x5cd680,'contactname':_0x249629||null,'pushName':_0x3bf930,'status':_0x52c467?.[_0x312539(0x5d0)],'isBusiness':_0x4f2083['isBusiness'],'email':_0x4f2083?.[_0x312539(0x721)],'description':_0x4f2083?.['description'],'website':_0x4f2083?.[_0x312539(0x24b)]?.[_0x312539(0x79a)](),'lastcache':Date['now'](),'imported':!_0x3c4819},_0x61b192=await this[_0x312539(0x2aa)]['chat'][_0x312539(0x499)]({'where':{'_id':_0x5db0c9}},_0xa170fa,this[_0x312539(0x257)][_0x312539(0x4d4)]),_0x472210={'owner':this[_0x312539(0x257)][_0x312539(0x4d4)],'_id':_0x5db0c9,'profilePictureUrl':_0x5cd680,'status':_0x52c467?.['status']};return this[_0x312539(0x2aa)][_0x312539(0x53c)][_0x312539(0x4e4)]([_0x472210],this[_0x312539(0x257)][_0x312539(0x4d4)]),_0x61b192&&J(this[_0x312539(0x401)],'chats',{'chat':_0x61b192}),{'wuid':_0x512d86?.[_0x312539(0x5ea)]||_0x5db0c9,'name':_0x512d86?.[_0x312539(0x525)],'pushName':_0x3bf930,'numberExists':_0x512d86?.[_0x312539(0x3b6)],'picture':_0x5cd680,'status':_0x52c467?.[_0x312539(0x5d0)],'isBusiness':_0x4f2083['isBusiness'],'email':_0x4f2083?.[_0x312539(0x721)],'description':_0x4f2083?.[_0x312539(0x2f1)],'website':_0x4f2083?.[_0x312539(0x24b)]?.[_0x312539(0x79a)]()};}catch(_0x5c3221){return this[_0x312539(0x21c)][_0x312539(0x617)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x5c3221 instanceof Error?_0x5c3221[_0x312539(0x690)]:JSON[_0x312539(0x706)](_0x5c3221,null,0x2))),{};}}async['fetchBusinessProfile'](_0x1baa40){const _0x355333=a0_0x153f5d;this['logger'][_0x355333(0x6cf)](this[_0x355333(0x401)]+'\x20('+this[_0x355333(0x257)][_0x355333(0x4d4)]+'):Fetching\x20business\x20profile');try{let _0x3f8c10=_0x1baa40?this[_0x355333(0x346)](_0x1baa40):this['instance'][_0x355333(0x4d4)],_0x22109f=await this[_0x355333(0x7de)][_0x355333(0x3a3)](_0x3f8c10);return this[_0x355333(0x21c)][_0x355333(0x6cf)](this[_0x355333(0x401)]+'\x20('+this[_0x355333(0x257)][_0x355333(0x4d4)]+_0x355333(0x4b5)),_0x22109f?(this[_0x355333(0x21c)][_0x355333(0x6cf)](this[_0x355333(0x401)]+'\x20('+this[_0x355333(0x257)][_0x355333(0x4d4)]+_0x355333(0x4c3)),{'isBusiness':!0x0,..._0x22109f}):{'isBusiness':!0x1,'message':_0x355333(0x331),...(await this['whatsappNumber']({'numbers':[_0x3f8c10]}))?.[_0x355333(0x79a)]()};}catch(_0x429d13){let _0xf9164a='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x31ad62=_0x429d13 instanceof Error?_0x429d13[_0x355333(0x690)]:typeof _0x429d13==_0x355333(0x5dc)?JSON[_0x355333(0x706)](_0x429d13):_0x429d13,_0x13c84a=_0xf9164a+':\x20'+_0x31ad62;throw this[_0x355333(0x21c)][_0x355333(0x617)](this[_0x355333(0x401)]+'\x20('+this[_0x355333(0x257)][_0x355333(0x4d4)]+_0x355333(0x342)+_0x13c84a),new I(_0x13c84a);}}async[a0_0x153f5d(0x3b8)](_0x4603ad){const _0x3ad0c3=a0_0x153f5d;let _0x5d868c=this[_0x3ad0c3(0x346)](_0x4603ad);try{return{'wuid':_0x5d868c,'status':(await this[_0x3ad0c3(0x7de)][_0x3ad0c3(0x6d8)](_0x5d868c))?.['status']};}catch{return{'wuid':_0x5d868c,'status':null};}}async[a0_0x153f5d(0x5f2)](_0x4d1958){const _0x5bcb7b=a0_0x153f5d;try{return await this[_0x5bcb7b(0x7de)]['updateProfileName'](_0x4d1958),{'update':_0x5bcb7b(0x2ba)};}catch(_0x5ee552){let _0x1f5e0d=_0x5bcb7b(0x410),_0x31d8ee=_0x5ee552 instanceof Error?_0x5ee552[_0x5bcb7b(0x690)]:typeof _0x5ee552==_0x5bcb7b(0x5dc)?JSON[_0x5bcb7b(0x706)](_0x5ee552):_0x5ee552,_0x3a4d32=_0x1f5e0d+':\x20'+_0x31d8ee;throw this['logger'][_0x5bcb7b(0x617)](this[_0x5bcb7b(0x401)]+'\x20('+this[_0x5bcb7b(0x257)][_0x5bcb7b(0x4d4)]+'):\x20'+_0x3a4d32),new I(_0x3a4d32);}}async[a0_0x153f5d(0x895)](_0x42f620){const _0x263bcf=a0_0x153f5d;try{return await this[_0x263bcf(0x7de)][_0x263bcf(0x895)](_0x42f620),{'update':_0x263bcf(0x2ba)};}catch(_0x561a39){let _0x3744fd=_0x263bcf(0x45f),_0x5e0ef1=_0x561a39 instanceof Error?_0x561a39[_0x263bcf(0x690)]:typeof _0x561a39=='object'?JSON['stringify'](_0x561a39):_0x561a39,_0x10f963=_0x3744fd+':\x20'+_0x5e0ef1;throw this[_0x263bcf(0x21c)][_0x263bcf(0x617)](this['instanceName']+'\x20('+this[_0x263bcf(0x257)][_0x263bcf(0x4d4)]+'):\x20'+_0x10f963),new I(_0x10f963);}}async['updateProfilePicture'](_0x23b018){const _0x17d79a=a0_0x153f5d;try{let _0x38234b;if((0x0,P[_0x17d79a(0x4da)])(_0x23b018)){let _0x6040c5=new Date()[_0x17d79a(0x52f)](),_0x28a3ec=_0x23b018+_0x17d79a(0x426)+_0x6040c5;_0x38234b=(await K[_0x17d79a(0x2b3)][_0x17d79a(0x4be)](_0x28a3ec,{'responseType':'arraybuffer'}))[_0x17d79a(0x28c)];}else{if((0x0,P[_0x17d79a(0x761)])(_0x23b018))_0x38234b=Buffer['from'](_0x23b018,'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client']['updateProfilePicture'](this[_0x17d79a(0x257)][_0x17d79a(0x4d4)],_0x38234b),{'update':_0x17d79a(0x2ba)};}catch(_0x3118b4){let _0x58e2c7=_0x17d79a(0x51e),_0x506c2c=_0x3118b4 instanceof Error?_0x3118b4[_0x17d79a(0x690)]:typeof _0x3118b4==_0x17d79a(0x5dc)?JSON['stringify'](_0x3118b4):_0x3118b4,_0x30baff=_0x58e2c7+':\x20'+_0x506c2c;throw this['logger']['error'](this[_0x17d79a(0x401)]+'\x20('+this[_0x17d79a(0x257)][_0x17d79a(0x4d4)]+'):\x20'+_0x30baff),new I(_0x30baff);}}async['removeProfilePicture'](){const _0x153f76=a0_0x153f5d;try{return await this[_0x153f76(0x7de)][_0x153f76(0x5ce)](this[_0x153f76(0x257)][_0x153f76(0x4d4)]),{'update':'success'};}catch(_0x496b37){let _0x17b453=_0x153f76(0x65c),_0x301492=_0x496b37 instanceof Error?_0x496b37[_0x153f76(0x690)]:typeof _0x496b37==_0x153f76(0x5dc)?JSON['stringify'](_0x496b37):_0x496b37,_0x539e27=_0x17b453+':\x20'+_0x301492;throw this[_0x153f76(0x21c)][_0x153f76(0x617)](this['instanceName']+'\x20('+this[_0x153f76(0x257)]['wuid']+'):\x20'+_0x539e27),new I(_0x539e27);}}async[a0_0x153f5d(0x810)](_0x29417c){const _0x40ee23=a0_0x153f5d;try{let _0x1a8a68=(await this[_0x40ee23(0x4ad)]({'numbers':_0x29417c[_0x40ee23(0x49b)]}))[_0x40ee23(0x65b)](_0x328f79=>_0x328f79[_0x40ee23(0x3b6)])['map'](_0x79f4d5=>_0x79f4d5['jid']),{id:_0x382c2c}=await this[_0x40ee23(0x7de)][_0x40ee23(0x893)](_0x29417c['subject'],_0x1a8a68);_0x29417c?.[_0x40ee23(0x2f1)]&&await this[_0x40ee23(0x7de)][_0x40ee23(0x854)](_0x382c2c,_0x29417c[_0x40ee23(0x2f1)]);let _0x20ab54=await this[_0x40ee23(0x7de)][_0x40ee23(0x2da)](_0x382c2c);return _0x20ab54[_0x40ee23(0x5d7)]=[],{'metadata':_0x20ab54};}catch(_0x653d53){let _0x127b39=_0x40ee23(0x3f9),_0x2d0010=_0x653d53 instanceof Error?_0x653d53[_0x40ee23(0x690)]:typeof _0x653d53==_0x40ee23(0x5dc)?JSON[_0x40ee23(0x706)](_0x653d53):_0x653d53,_0x351134=_0x127b39+':\x20'+_0x2d0010;throw this[_0x40ee23(0x21c)][_0x40ee23(0x617)](this[_0x40ee23(0x401)]+'\x20('+this[_0x40ee23(0x257)]['wuid']+'):\x20'+_0x351134),new I(_0x351134);}}async[a0_0x153f5d(0x862)](_0xe4c8f6){const _0x12eed6=a0_0x153f5d;try{if(_0xe4c8f6[_0x12eed6(0x348)]===!0x0&&await this['client'][_0x12eed6(0x55c)](_0xe4c8f6['groupJid'],_0x12eed6(0x2a1)),_0xe4c8f6[_0x12eed6(0x348)]===!0x1&&await this[_0x12eed6(0x7de)][_0x12eed6(0x55c)](_0xe4c8f6[_0x12eed6(0x48a)],_0x12eed6(0x4f7)),_0xe4c8f6['announce']===!0x0&&await this['client'][_0x12eed6(0x55c)](_0xe4c8f6[_0x12eed6(0x48a)],_0x12eed6(0x2f2)),_0xe4c8f6[_0x12eed6(0x88c)]===!0x1&&await this[_0x12eed6(0x7de)][_0x12eed6(0x55c)](_0xe4c8f6[_0x12eed6(0x48a)],_0x12eed6(0x586)),_0xe4c8f6[_0x12eed6(0x76a)]===!0x0&&await this[_0x12eed6(0x7de)][_0x12eed6(0x29c)](_0xe4c8f6[_0x12eed6(0x48a)],'all_member_add'),_0xe4c8f6[_0x12eed6(0x76a)]===!0x1&&await this[_0x12eed6(0x7de)][_0x12eed6(0x29c)](_0xe4c8f6[_0x12eed6(0x48a)],'admin_add'),_0xe4c8f6['joinApprovalMode']===!0x0&&await this['client'][_0x12eed6(0x438)](_0xe4c8f6[_0x12eed6(0x48a)],'on'),_0xe4c8f6[_0x12eed6(0x2af)]===!0x1&&await this['client'][_0x12eed6(0x438)](_0xe4c8f6['groupJid'],_0x12eed6(0x218)),typeof _0xe4c8f6['expiration']<'u'&&_0xe4c8f6['expiration']!==null&&await this['client'][_0x12eed6(0x786)](_0xe4c8f6['groupJid'],_0xe4c8f6[_0x12eed6(0x6a6)]),_0xe4c8f6['name']&&await this[_0x12eed6(0x7de)][_0x12eed6(0x5a8)](_0xe4c8f6['groupJid'],_0xe4c8f6['name']),_0xe4c8f6[_0x12eed6(0x2f1)]&&await this[_0x12eed6(0x7de)][_0x12eed6(0x854)](_0xe4c8f6[_0x12eed6(0x48a)],_0xe4c8f6['description']),_0xe4c8f6[_0x12eed6(0x56d)]){let _0x24740d;if((0x0,P[_0x12eed6(0x4da)])(_0xe4c8f6[_0x12eed6(0x56d)])){let _0x42c7a9=new Date()[_0x12eed6(0x52f)](),_0x50e44b=_0xe4c8f6[_0x12eed6(0x56d)]+_0x12eed6(0x426)+_0x42c7a9;_0x24740d=(await K[_0x12eed6(0x2b3)][_0x12eed6(0x4be)](_0x50e44b,{'responseType':_0x12eed6(0x73f)}))[_0x12eed6(0x28c)];}else{if((0x0,P[_0x12eed6(0x761)])(_0xe4c8f6[_0x12eed6(0x56d)]))_0x24740d=Buffer['from'](_0xe4c8f6[_0x12eed6(0x56d)],_0x12eed6(0x1ac));else throw new m(_0x12eed6(0x1ba));}await this['client']['updateProfilePicture'](_0xe4c8f6[_0x12eed6(0x48a)],_0x24740d);}return await this[_0x12eed6(0x600)]({'groupJid':_0xe4c8f6[_0x12eed6(0x48a)]});}catch(_0x279251){let _0x15299f=_0x12eed6(0x36d),_0x37fb93=_0x279251 instanceof Error?_0x279251[_0x12eed6(0x690)]:typeof _0x279251=='object'?JSON[_0x12eed6(0x706)](_0x279251):_0x279251,_0x16b083=_0x15299f+':\x20'+_0x37fb93;throw this[_0x12eed6(0x21c)][_0x12eed6(0x617)](this[_0x12eed6(0x401)]+'\x20('+this[_0x12eed6(0x257)][_0x12eed6(0x4d4)]+_0x12eed6(0x342)+_0x16b083),new I(_0x16b083);}}async[a0_0x153f5d(0x445)](_0x2703cb){const _0x6b82ab=a0_0x153f5d;try{if(_0x2703cb['action']===_0x6b82ab(0x716)||_0x2703cb[_0x6b82ab(0x20c)]===_0x6b82ab(0x31b)){let _0x444fb8=_0x2703cb[_0x6b82ab(0x49b)][_0x6b82ab(0x26b)](_0x5b06ab=>this[_0x6b82ab(0x346)](_0x5b06ab));await this[_0x6b82ab(0x7de)][_0x6b82ab(0x3fe)](_0x2703cb['groupJid'],_0x444fb8,_0x2703cb['action']);}else{if(_0x2703cb[_0x6b82ab(0x20c)]===_0x6b82ab(0x59b)){let _0x2ed101=(await this[_0x6b82ab(0x4ad)]({'numbers':_0x2703cb['participants']}))[_0x6b82ab(0x65b)](_0x9b4ad0=>_0x9b4ad0['exists'])[_0x6b82ab(0x26b)](_0x1c40ae=>this['createJid'](_0x1c40ae[_0x6b82ab(0x5ea)]));if(_0x2ed101['length']===0x0)throw new m(_0x6b82ab(0x4a6));await this['client'][_0x6b82ab(0x639)](_0x2703cb[_0x6b82ab(0x48a)],_0x2ed101,'add');}else{let _0x118458=_0x2703cb['participants'][_0x6b82ab(0x26b)](_0x5bf294=>this[_0x6b82ab(0x346)](_0x5bf294));await this['client'][_0x6b82ab(0x639)](_0x2703cb[_0x6b82ab(0x48a)],_0x118458,_0x2703cb['action']);}}return await this[_0x6b82ab(0x600)]({'groupJid':_0x2703cb['groupJid']});}catch(_0x206336){let _0x18e4d9=_0x6b82ab(0x2f9),_0x20b2f9=_0x206336 instanceof Error?_0x206336[_0x6b82ab(0x690)]:typeof _0x206336=='object'?JSON[_0x6b82ab(0x706)](_0x206336):_0x206336,_0x380c4d=_0x18e4d9+':\x20'+_0x20b2f9;throw this[_0x6b82ab(0x21c)][_0x6b82ab(0x617)](this[_0x6b82ab(0x401)]+'\x20('+this[_0x6b82ab(0x257)][_0x6b82ab(0x4d4)]+'):\x20'+_0x380c4d),new m(_0x380c4d);}}async[a0_0x153f5d(0x686)](_0x36b654){const _0x294043=a0_0x153f5d;try{return await this['client'][_0x294043(0x686)](_0x36b654[_0x294043(0x1b5)]);}catch(_0x4591c6){let _0x2f87e0='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x3ba15f=_0x4591c6 instanceof Error?_0x4591c6['message']:typeof _0x4591c6==_0x294043(0x5dc)?JSON[_0x294043(0x706)](_0x4591c6):_0x4591c6,_0x21baa2=_0x2f87e0+':\x20'+_0x3ba15f;throw this[_0x294043(0x21c)][_0x294043(0x617)](this[_0x294043(0x401)]+'\x20('+this[_0x294043(0x257)][_0x294043(0x4d4)]+_0x294043(0x342)+_0x21baa2),new m(_0x21baa2);}}async[a0_0x153f5d(0x600)](_0x3f04fa,_0x49bfe7='out'){const _0x4c3757=a0_0x153f5d;try{let _0x494b26=await this[_0x4c3757(0x2aa)][_0x4c3757(0x2ab)][_0x4c3757(0x88a)]({'where':{'_id':_0x3f04fa['groupJid']}},this[_0x4c3757(0x257)][_0x4c3757(0x4d4)]),_0x4d00cc=_0x494b26?_0x494b26[_0x4c3757(0x866)]:null,_0x53e074=0x18*0x3c*0x3c*0x3e8;if(!_0x4d00cc||_0x4d00cc[_0x4c3757(0x6cb)]&&Date[_0x4c3757(0x2fb)]()-_0x4d00cc[_0x4c3757(0x6cb)]>_0x53e074){let _0x5127a5=await this[_0x4c3757(0x7de)][_0x4c3757(0x2da)](_0x3f04fa[_0x4c3757(0x48a)]);if(_0x5127a5[_0x4c3757(0x2ce)]=_0x5127a5?.['subjectTime']&&_0x5127a5[_0x4c3757(0x2ce)][_0x4c3757(0x894)]()['length']<0xd?_0x5127a5?.['subjectTime']*0x3e8:_0x5127a5?.[_0x4c3757(0x2ce)]||null,_0x5127a5[_0x4c3757(0x4ce)]=_0x5127a5?.['creation']&&_0x5127a5[_0x4c3757(0x4ce)][_0x4c3757(0x894)]()[_0x4c3757(0x487)]<0xd?_0x5127a5?.['creation']*0x3e8:_0x5127a5?.['creation']||null,_0x4d00cc={..._0x5127a5,'lastUpdate':Date[_0x4c3757(0x2fb)]()},!_0x5127a5)return;}let _0x3b5fae=_0x4d00cc[_0x4c3757(0x49b)]['some'](_0x29e954=>_0x29e954['id']===this[_0x4c3757(0x257)][_0x4c3757(0x4d4)]+_0x4c3757(0x47b)&&_0x29e954[_0x4c3757(0x39d)]!=null);!_0x4d00cc[_0x4c3757(0x1b5)]&&_0x3b5fae&&(_0x4d00cc[_0x4c3757(0x1b5)]=(await this[_0x4c3757(0x1b5)](_0x3f04fa,!0x1))[_0x4c3757(0x839)]);let _0x4195ec=(!_0x4d00cc['announce']||_0x3b5fae)&&(!_0x4d00cc[_0x4c3757(0x61b)]||_0x4d00cc[_0x4c3757(0x61b)]&&_0x4d00cc[_0x4c3757(0x7ba)]&&_0x3b5fae);_0x4d00cc[_0x4c3757(0x5ad)]=_0x3b5fae,_0x4d00cc[_0x4c3757(0x5ed)]=_0x4195ec;let _0x962305=[];if(_0x3b5fae&&_0x4d00cc[_0x4c3757(0x2af)])try{_0x962305=await this[_0x4c3757(0x7de)][_0x4c3757(0x290)](_0x3f04fa[_0x4c3757(0x48a)]),_0x4d00cc[_0x4c3757(0x268)]=Date['now']();}catch(_0x2d69f1){this[_0x4c3757(0x21c)][_0x4c3757(0x6cf)](this[_0x4c3757(0x401)]+'\x20('+this[_0x4c3757(0x257)][_0x4c3757(0x4d4)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x3f04fa[_0x4c3757(0x48a)]+':\x20'+(_0x2d69f1 instanceof Error?_0x2d69f1[_0x4c3757(0x690)]:JSON[_0x4c3757(0x706)](_0x2d69f1,null,0x2)));}try{_0x4d00cc['image']=(await this[_0x4c3757(0x65d)](_0x3f04fa[_0x4c3757(0x48a)],null,!0x0))[_0x4c3757(0x6be)]['pictureUrl'];}catch(_0x4486a4){this[_0x4c3757(0x21c)][_0x4c3757(0x6cf)](this[_0x4c3757(0x401)]+'\x20('+this[_0x4c3757(0x257)]['wuid']+_0x4c3757(0x39e)+_0x3f04fa['groupJid']+':\x20'+(_0x4486a4 instanceof Error?_0x4486a4[_0x4c3757(0x690)]:JSON[_0x4c3757(0x706)](_0x4486a4,null,0x2)));}let _0x191189=_0x4d00cc[_0x4c3757(0x49b)][_0x4c3757(0x26b)](_0x56e96b=>_0x56e96b['id']),_0x4c88c7=_0x962305['map'](_0x132bc7=>_0x132bc7[_0x4c3757(0x5ea)]),_0x1da4cd=await this[_0x4c3757(0x2aa)][_0x4c3757(0x1d9)][_0x4c3757(0x495)]([..._0x191189,..._0x4c88c7]);_0x4d00cc['participants']=_0x4d00cc['participants'][_0x4c3757(0x26b)](_0x2aa22a=>{const _0x10eaa5=_0x4c3757;let _0x7a6d19=_0x1da4cd[_0x10eaa5(0x84e)](_0x3b6bab=>_0x3b6bab['_id']===_0x2aa22a['id']);return{'id':_0x2aa22a['id'],'isAdmin':['admin',_0x10eaa5(0x42f)][_0x10eaa5(0x424)](_0x2aa22a[_0x10eaa5(0x39d)]),'admin':_0x2aa22a[_0x10eaa5(0x39d)],'pushName':_0x7a6d19?.[_0x10eaa5(0x525)],'profilePictureUrl':_0x7a6d19?.['pictureUrl']};}),_0x4d00cc[_0x4c3757(0x5d7)]=_0x962305[_0x4c3757(0x26b)](_0x12ed67=>{const _0x2fecbd=_0x4c3757;let _0x4160cd=_0x1da4cd[_0x2fecbd(0x84e)](_0x59d967=>_0x59d967[_0x2fecbd(0x412)]===_0x12ed67[_0x2fecbd(0x5ea)]);return{'id':_0x12ed67['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x4160cd?.[_0x2fecbd(0x525)],'profilePictureUrl':_0x4160cd?.['pictureUrl'],'request_method':_0x12ed67['request_method'],'request_time':_0x12ed67['request_time']};});let _0x492aa7=await this[_0x4c3757(0x2aa)][_0x4c3757(0x2ab)][_0x4c3757(0x499)]({'where':{'_id':_0x3f04fa[_0x4c3757(0x48a)]}},{'imagechat':_0x4d00cc[_0x4c3757(0x56d)],'name':_0x4d00cc[_0x4c3757(0x30c)],'lastcache':Date['now'](),'groupdata':_0x4d00cc},this[_0x4c3757(0x257)][_0x4c3757(0x4d4)]);return J(this['instanceName'],_0x4c3757(0x7a3),{'chat':_0x492aa7}),{'metadata':_0x4d00cc};}catch(_0xd8c9d5){if(_0x49bfe7===_0x4c3757(0x616))return;throw new U('Error\x20fetching\x20group',_0xd8c9d5[_0x4c3757(0x690)][_0x4c3757(0x894)]());}}async[a0_0x153f5d(0x7f6)](){const _0x25aba3=a0_0x153f5d;try{let _0x43efab=[],_0x18261a=await this[_0x25aba3(0x7de)][_0x25aba3(0x892)](),_0xd09c2=Object[_0x25aba3(0x19c)](_0x18261a),_0x3308df=_0xd09c2[_0x25aba3(0x65b)](_0x32b6b9=>(0x0,w[_0x25aba3(0x41b)])(_0x32b6b9?.['id']))[_0x25aba3(0x26b)](async _0x44a67f=>{const _0x43b782=_0x25aba3;try{return await this[_0x43b782(0x7de)][_0x43b782(0x420)](_0x44a67f['id'],'preview');}catch(_0x5d56ac){return this[_0x43b782(0x21c)][_0x43b782(0x6cf)](this[_0x43b782(0x401)]+'\x20('+this[_0x43b782(0x257)][_0x43b782(0x4d4)]+_0x43b782(0x39e)+_0x44a67f['id']+':\x20'+(_0x5d56ac instanceof Error?_0x5d56ac[_0x43b782(0x690)]:JSON['stringify'](_0x5d56ac,null,0x2))),null;}}),_0xee6207=await Promise[_0x25aba3(0x512)](_0x3308df);for(let _0x5a2ab0=0x0;_0x5a2ab0<_0xd09c2[_0x25aba3(0x487)];_0x5a2ab0++){let _0x9844c1=_0xd09c2[_0x5a2ab0];(0x0,w[_0x25aba3(0x41b)])(_0x9844c1?.['id'])&&(_0x43efab[_0x25aba3(0x6f8)]({'groupJid':_0x9844c1?.['id'],'subject':_0x9844c1?.[_0x25aba3(0x30c)],'subjectOwner':_0x9844c1?.[_0x25aba3(0x35d)]?.[_0x25aba3(0x701)]('@')[0x0],'subjectTime':_0x9844c1?.['subjectTime'],'creation':_0x9844c1?.[_0x25aba3(0x4ce)],'size':_0x9844c1?.[_0x25aba3(0x49b)]?.[_0x25aba3(0x487)],'owner':_0x9844c1?.[_0x25aba3(0x874)]?.[_0x25aba3(0x701)]('@')[0x0],'desc':_0x9844c1?.[_0x25aba3(0x7e8)],'restrict':_0x9844c1?.['restrict'],'announce':_0x9844c1?.[_0x25aba3(0x88c)],'image':_0xee6207[_0x5a2ab0],'isCommunity':_0x9844c1?.[_0x25aba3(0x61b)],'joinApprovalMode':_0x9844c1?.[_0x25aba3(0x2af)],'memberCanAddParticipant':_0x9844c1?.['memberAddMode'],'participants':_0x9844c1?.[_0x25aba3(0x49b)],'descOwner':_0x9844c1?.[_0x25aba3(0x6eb)],'descId':_0x9844c1?.[_0x25aba3(0x398)],'memberAddMode':_0x9844c1?.[_0x25aba3(0x76a)],'isCommunityAnnounce':_0x9844c1?.[_0x25aba3(0x7ba)],'ephemeralDuration':_0x9844c1?.[_0x25aba3(0x373)]||0x0,'author':_0x9844c1?.[_0x25aba3(0x6ba)]}),this['updateChatGroupData'](_0xd09c2[_0x5a2ab0]));}return _0x43efab;}catch(_0x5c9869){let _0x5686af='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x3d6dcb=_0x5c9869 instanceof Error?_0x5c9869[_0x25aba3(0x690)]:typeof _0x5c9869==_0x25aba3(0x5dc)?JSON['stringify'](_0x5c9869):_0x5c9869,_0x30d63d=_0x5686af+':\x20'+_0x3d6dcb;throw this[_0x25aba3(0x21c)]['error'](this[_0x25aba3(0x401)]+'\x20('+this[_0x25aba3(0x257)]['wuid']+_0x25aba3(0x342)+_0x30d63d),new U(_0x30d63d);}}async[a0_0x153f5d(0x4fa)](_0x49bc7e){const _0xb8dd50=a0_0x153f5d;let _0x4e59bf=await this['repository'][_0xb8dd50(0x2ab)]['findOne']({'where':{'_id':_0x49bc7e['id']}},this['instance'][_0xb8dd50(0x4d4)]);_0x49bc7e[_0xb8dd50(0x2ce)]=_0x49bc7e?.['subjectTime']&&_0x49bc7e[_0xb8dd50(0x2ce)][_0xb8dd50(0x894)]()[_0xb8dd50(0x487)]<0xd?_0x49bc7e?.[_0xb8dd50(0x2ce)]*0x3e8:_0x49bc7e?.[_0xb8dd50(0x2ce)]||null,_0x49bc7e['creation']=_0x49bc7e?.[_0xb8dd50(0x4ce)]&&_0x49bc7e['creation']['toString']()['length']<0xd?_0x49bc7e?.[_0xb8dd50(0x4ce)]*0x3e8:_0x49bc7e?.[_0xb8dd50(0x4ce)]||null;let _0x224411=_0x4e59bf?.[_0xb8dd50(0x866)]?.['awaitingApproval']||[],_0xa967e2=_0x4e59bf?.[_0xb8dd50(0x866)]?.[_0xb8dd50(0x268)],_0x9bd6e6=_0x49bc7e[_0xb8dd50(0x49b)]['map'](_0x5409e2=>{const _0x478d24=_0xb8dd50;let _0x2ce38a=_0x4e59bf?.[_0x478d24(0x866)]?.[_0x478d24(0x49b)][_0x478d24(0x84e)](_0x150c66=>_0x150c66['id']===_0x5409e2['id']);return{..._0x5409e2,'isAdmin':['admin','superadmin']['includes'](_0x5409e2[_0x478d24(0x39d)]),'admin':_0x5409e2['admin'],'name':_0x2ce38a?.[_0x478d24(0x525)]||_0x5409e2[_0x478d24(0x525)],'imgUrl':_0x2ce38a?.[_0x478d24(0x7da)]||_0x5409e2[_0x478d24(0x7da)]};}),_0x2513bf=_0x9bd6e6[_0xb8dd50(0x3a1)](_0x31c05b=>_0x31c05b['id']===this[_0xb8dd50(0x257)][_0xb8dd50(0x4d4)]+_0xb8dd50(0x47b)&&_0x31c05b[_0xb8dd50(0x5ad)]),_0x4cb428=(!_0x49bc7e[_0xb8dd50(0x88c)]||_0x2513bf)&&(!_0x49bc7e[_0xb8dd50(0x61b)]||_0x49bc7e[_0xb8dd50(0x61b)]&&_0x49bc7e['isCommunityAnnounce']&&_0x2513bf),_0x129423={..._0x49bc7e,'participants':_0x9bd6e6,'awaitingApproval':_0x224411,'lastFetchAwaitingApproval':_0xa967e2,'isAdmin':_0x2513bf,'canSendMessage':_0x4cb428,'lastUpdate':Date[_0xb8dd50(0x2fb)]()};await this[_0xb8dd50(0x2aa)][_0xb8dd50(0x2ab)]['updateOne']({'where':{'_id':_0x49bc7e['id']}},{'name':_0x49bc7e['subject'],'group':!0x0,'groupdata':_0x129423,'lastcache':Date['now']()},this['instance'][_0xb8dd50(0x4d4)]),J(this[_0xb8dd50(0x401)],_0xb8dd50(0x7a3),{'chat':_0x49bc7e});}async[a0_0x153f5d(0x2de)](_0x39ed24){const _0x21fadf=a0_0x153f5d;let _0x1fec0d=await this[_0x21fadf(0x2aa)][_0x21fadf(0x2ab)][_0x21fadf(0x88a)]({'where':{'_id':_0x39ed24['id']}},this[_0x21fadf(0x257)][_0x21fadf(0x4d4)]);_0x39ed24['subjectTime']=_0x39ed24?.[_0x21fadf(0x2ce)]&&_0x39ed24['subjectTime'][_0x21fadf(0x894)]()['length']<0xd?_0x39ed24?.[_0x21fadf(0x2ce)]*0x3e8:_0x39ed24?.[_0x21fadf(0x2ce)]||null,_0x39ed24[_0x21fadf(0x4ce)]=_0x39ed24?.[_0x21fadf(0x4ce)]&&_0x39ed24[_0x21fadf(0x4ce)][_0x21fadf(0x894)]()[_0x21fadf(0x487)]<0xd?_0x39ed24?.[_0x21fadf(0x4ce)]*0x3e8:_0x39ed24?.['creation']||null,_0x39ed24[_0x21fadf(0x1b5)]&&(_0x39ed24[_0x21fadf(0x1b5)]=_0x21fadf(0x273)+_0x39ed24[_0x21fadf(0x1b5)]);let _0x27e490=_0x1fec0d?.['groupdata']?{..._0x1fec0d[_0x21fadf(0x866)]}:{};Object[_0x21fadf(0x60b)](_0x39ed24)[_0x21fadf(0x42e)](_0x4e59b9=>{_0x4e59b9!=='id'&&(_0x27e490[_0x4e59b9]=_0x39ed24[_0x4e59b9]);});let _0x3b5897=_0x27e490[_0x21fadf(0x49b)]?.[_0x21fadf(0x3a1)](_0x548c37=>_0x548c37['id']===this[_0x21fadf(0x257)][_0x21fadf(0x4d4)]+'@s.whatsapp.net'&&_0x548c37[_0x21fadf(0x5ad)])||!0x1;_0x27e490['isAdmin']=_0x3b5897;let _0x3af0a3=(!_0x27e490[_0x21fadf(0x88c)]||_0x3b5897)&&(!_0x27e490[_0x21fadf(0x61b)]||_0x27e490[_0x21fadf(0x61b)]&&_0x27e490['isCommunityAnnounce']&&_0x3b5897);_0x27e490['canSendMessage']=_0x3af0a3;let _0x5ac8ed={'group':!0x0,'groupdata':_0x27e490};_0x39ed24['subject']&&(_0x5ac8ed[_0x21fadf(0x525)]=_0x39ed24[_0x21fadf(0x30c)]),await this[_0x21fadf(0x2aa)][_0x21fadf(0x2ab)][_0x21fadf(0x499)]({'where':{'_id':_0x39ed24['id']}},_0x5ac8ed,this['instance'][_0x21fadf(0x4d4)],{'upsert':!0x0}),J(this[_0x21fadf(0x401)],_0x21fadf(0x7a3),{'chat':_0x5ac8ed});}async[a0_0x153f5d(0x26a)](_0x4d2e2d){const _0x231e9c=a0_0x153f5d;let _0x1f38d8=await this[_0x231e9c(0x2aa)][_0x231e9c(0x2ab)][_0x231e9c(0x88a)]({'where':{'_id':_0x4d2e2d['id']}},this[_0x231e9c(0x257)]['wuid']);if(!_0x1f38d8||!_0x1f38d8[_0x231e9c(0x866)]){this[_0x231e9c(0x21c)]['info'](this['instanceName']+'\x20('+this[_0x231e9c(0x257)][_0x231e9c(0x4d4)]+_0x231e9c(0x5e4)+_0x4d2e2d['id']);return;}let _0x1b5717=await this[_0x231e9c(0x2aa)]['cacheContact']['findManyByIds'](_0x4d2e2d[_0x231e9c(0x49b)]),_0x4734d5=[..._0x1f38d8[_0x231e9c(0x866)]?.[_0x231e9c(0x49b)]];switch(_0x4d2e2d['action']){case _0x231e9c(0x59b):let _0x55150b=_0x1b5717[_0x231e9c(0x26b)](_0x2f295b=>({'id':_0x2f295b[_0x231e9c(0x412)],'isAdmin':!0x1,'name':_0x2f295b[_0x231e9c(0x525)],'imgUrl':_0x2f295b[_0x231e9c(0x25c)]}));_0x4734d5=[..._0x4734d5,..._0x55150b];break;case _0x231e9c(0x5f5):_0x4734d5=_0x4734d5['filter'](_0x9da079=>!_0x4d2e2d[_0x231e9c(0x49b)][_0x231e9c(0x424)](_0x9da079['id']));break;case _0x231e9c(0x382):case'demote':_0x4734d5=_0x4734d5[_0x231e9c(0x26b)](_0x24f49e=>_0x4d2e2d[_0x231e9c(0x49b)][_0x231e9c(0x424)](_0x24f49e['id'])?{..._0x24f49e,'isAdmin':_0x4d2e2d[_0x231e9c(0x20c)]===_0x231e9c(0x382)}:_0x24f49e);break;}let _0x5f45a8=_0x4734d5['length'],_0x426f95=_0x4734d5['some'](_0x40cb19=>_0x40cb19['id']===this[_0x231e9c(0x257)][_0x231e9c(0x4d4)]+'@s.whatsapp.net'),_0x18a234=_0x426f95&&_0x4734d5[_0x231e9c(0x3a1)](_0x1bb38a=>_0x1bb38a['id']===this[_0x231e9c(0x257)][_0x231e9c(0x4d4)]+_0x231e9c(0x47b)&&_0x1bb38a[_0x231e9c(0x5ad)]),_0x3e4e14=_0x426f95&&(!_0x1f38d8[_0x231e9c(0x866)][_0x231e9c(0x88c)]||_0x18a234)&&(!_0x1f38d8[_0x231e9c(0x866)][_0x231e9c(0x61b)]||_0x1f38d8[_0x231e9c(0x866)]['isCommunity']&&_0x18a234);await this[_0x231e9c(0x2aa)]['chat'][_0x231e9c(0x499)]({'where':{'_id':_0x4d2e2d['id']}},{'groupdata':{..._0x1f38d8[_0x231e9c(0x866)],'participants':_0x4734d5,'size':_0x5f45a8,'isAdmin':_0x18a234,'canSendMessage':_0x3e4e14}},this['instance'][_0x231e9c(0x4d4)]),this[_0x231e9c(0x21c)][_0x231e9c(0x4e8)](this['instanceName']+'\x20('+this[_0x231e9c(0x257)][_0x231e9c(0x4d4)]+_0x231e9c(0x622)+_0x4d2e2d['id']+_0x231e9c(0x3b5)+_0x4d2e2d[_0x231e9c(0x20c)]+_0x231e9c(0x23b)+_0x5f45a8+_0x231e9c(0x4cd)+_0x18a234+_0x231e9c(0x6ad)+_0x3e4e14);}async['inviteCode'](_0x1538c6,_0x47c7e1=!0x0){const _0x95b516=a0_0x153f5d;try{let _0x283442=await this[_0x95b516(0x7de)]['groupInviteCode'](_0x1538c6['groupJid']),_0x198db1={'groupdata.inviteCode':_0x95b516(0x273)+_0x283442};if(_0x47c7e1){let _0x4554fd=await this[_0x95b516(0x2aa)]['chat']['updateOne']({'where':{'_id':_0x1538c6['groupJid']}},_0x198db1,this['instance']['wuid']);}return{'inviteUrl':_0x95b516(0x273)+_0x283442,'inviteCode':_0x283442};}catch(_0x27c9e5){let _0x2bd52d=_0x95b516(0x4de),_0x5affc3=_0x27c9e5 instanceof Error?_0x27c9e5['message']:typeof _0x27c9e5==_0x95b516(0x5dc)?JSON[_0x95b516(0x706)](_0x27c9e5):_0x27c9e5,_0x438791=_0x2bd52d+':\x20'+_0x5affc3;throw this[_0x95b516(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x95b516(0x257)][_0x95b516(0x4d4)]+_0x95b516(0x342)+_0x438791),new U(_0x438791);}}async[a0_0x153f5d(0x7b9)](_0x37f508){const _0x4b6e5d=a0_0x153f5d;try{let _0x535456=await this[_0x4b6e5d(0x7de)][_0x4b6e5d(0x7b1)](_0x37f508['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x4b6e5d(0x273)+_0x535456,'inviteCode':_0x535456};}catch(_0x230da3){let _0x57ccab=_0x4b6e5d(0x663),_0x9f36a3=_0x230da3 instanceof Error?_0x230da3[_0x4b6e5d(0x690)]:typeof _0x230da3==_0x4b6e5d(0x5dc)?JSON[_0x4b6e5d(0x706)](_0x230da3):_0x230da3,_0xfcda1b=_0x57ccab+':\x20'+_0x9f36a3;throw this[_0x4b6e5d(0x21c)]['error'](this[_0x4b6e5d(0x401)]+'\x20('+this['instance'][_0x4b6e5d(0x4d4)]+_0x4b6e5d(0x342)+_0xfcda1b),new U(_0xfcda1b);}}async[a0_0x153f5d(0x4c9)](_0x1b4e12){const _0x2af3af=a0_0x153f5d;try{if((0x0,P[_0x2af3af(0x4da)])(_0x1b4e12[_0x2af3af(0x1b5)]))var _0x2c4036=_0x1b4e12['inviteCode'][_0x2af3af(0x701)]('/')[0x3];else var _0x2c4036=_0x1b4e12[_0x2af3af(0x1b5)];let _0x56d856=await this[_0x2af3af(0x7de)][_0x2af3af(0x41f)](_0x2c4036);return this[_0x2af3af(0x21c)][_0x2af3af(0x6cf)](this[_0x2af3af(0x401)]+'\x20('+this[_0x2af3af(0x257)][_0x2af3af(0x4d4)]+_0x2af3af(0x342)+_0x56d856),{'join':!0x0,'inviteCode':_0x2c4036,'groupJid':_0x56d856};}catch(_0x14c51f){let _0x2dee6f='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x20931b=_0x14c51f instanceof Error?_0x14c51f[_0x2af3af(0x690)]:typeof _0x14c51f==_0x2af3af(0x5dc)?JSON[_0x2af3af(0x706)](_0x14c51f):_0x14c51f,_0x46a799=_0x2dee6f+':\x20'+_0x20931b;throw this['logger'][_0x2af3af(0x617)](this[_0x2af3af(0x401)]+'\x20('+this[_0x2af3af(0x257)][_0x2af3af(0x4d4)]+'):\x20'+_0x46a799),new U(_0x46a799);}}async['findParticipants'](_0x45db01){const _0x576eb8=a0_0x153f5d;try{return{'participants':(await this['repository']['chat'][_0x576eb8(0x88a)]({'where':{'_id':_0x45db01['groupJid']}},this[_0x576eb8(0x257)][_0x576eb8(0x4d4)]))[_0x576eb8(0x866)][_0x576eb8(0x49b)]};}catch(_0x140985){let _0x3c84d4=_0x576eb8(0x633),_0x8e7406=_0x140985 instanceof Error?_0x140985[_0x576eb8(0x690)]:typeof _0x140985==_0x576eb8(0x5dc)?JSON[_0x576eb8(0x706)](_0x140985):_0x140985,_0x3242b1=_0x3c84d4+':\x20'+_0x8e7406;throw this[_0x576eb8(0x21c)][_0x576eb8(0x617)](this[_0x576eb8(0x401)]+'\x20('+this[_0x576eb8(0x257)]['wuid']+_0x576eb8(0x342)+_0x3242b1),new U(_0x3242b1);}}async[a0_0x153f5d(0x5e8)](_0xf1bd44){const _0x32d4a0=a0_0x153f5d;try{return await this[_0x32d4a0(0x7de)][_0x32d4a0(0x700)](_0xf1bd44[_0x32d4a0(0x48a)]),{'groupJid':_0xf1bd44[_0x32d4a0(0x48a)],'leave':!0x0};}catch(_0x3309a9){let _0x2d404d=_0x32d4a0(0x45d),_0x12242=_0x3309a9 instanceof Error?_0x3309a9[_0x32d4a0(0x690)]:typeof _0x3309a9==_0x32d4a0(0x5dc)?JSON[_0x32d4a0(0x706)](_0x3309a9):_0x3309a9,_0x256448=_0x2d404d+':\x20'+_0x12242;throw this[_0x32d4a0(0x21c)][_0x32d4a0(0x617)](this['instanceName']+'\x20('+this[_0x32d4a0(0x257)][_0x32d4a0(0x4d4)]+_0x32d4a0(0x342)+_0x256448),new m(_0x256448);}}async[a0_0x153f5d(0x4a8)](_0xee09b5){const _0x2c2049=a0_0x153f5d;return await this[_0x2c2049(0x567)](_0xee09b5[_0x2c2049(0x58a)],{'poll':{'name':_0xee09b5[_0x2c2049(0x4a8)]?.['name'],'selectableCount':_0xee09b5['pollMessage']['selectableCount'],'values':_0xee09b5['pollMessage'][_0x2c2049(0x19c)]}},_0xee09b5?.['options']);}async[a0_0x153f5d(0x41d)](_0x5dd621){const _0x3ff0a0=a0_0x153f5d;return await this[_0x3ff0a0(0x567)](_0x5dd621[_0x3ff0a0(0x58a)],{'listMessage':{'title':_0x5dd621['listMessage']['title'],'description':_0x5dd621['listMessage']['description'],'buttonText':_0x5dd621[_0x3ff0a0(0x41d)]?.[_0x3ff0a0(0x688)],'footerText':_0x5dd621[_0x3ff0a0(0x41d)]?.[_0x3ff0a0(0x252)],'sections':_0x5dd621[_0x3ff0a0(0x41d)][_0x3ff0a0(0x4d7)],'listType':0x2}},_0x5dd621?.[_0x3ff0a0(0x4f5)]);}async['menuMessage'](_0x20ff92){const _0x48740c=a0_0x153f5d;let _0x452f7d;if(_0x20ff92['menuMessage'][_0x48740c(0x74a)]===_0x48740c(0x1f9)){let _0x49b2e3=_0x20ff92[_0x48740c(0x769)][_0x48740c(0x30b)][_0x48740c(0x5e0)]('\x0a'),_0x55a2f7='',_0x4fd2f0='';_0x49b2e3!==-0x1?(_0x55a2f7=_0x20ff92[_0x48740c(0x769)][_0x48740c(0x30b)][_0x48740c(0x6cc)](0x0,_0x49b2e3)[_0x48740c(0x23d)](),_0x4fd2f0=_0x20ff92['menuMessage']['text'][_0x48740c(0x6cc)](_0x49b2e3+0x1)):_0x4fd2f0=_0x20ff92[_0x48740c(0x769)][_0x48740c(0x30b)];let _0x4c8981=_0x20ff92[_0x48740c(0x769)][_0x48740c(0x3d0)][_0x48740c(0x65b)](_0x3856c9=>_0x3856c9['trim']()!==''),_0x1d4553=this[_0x48740c(0x5c6)](_0x4c8981);_0x452f7d={'listMessage':{'title':_0x55a2f7,'description':_0x4fd2f0,'buttonText':_0x20ff92[_0x48740c(0x769)][_0x48740c(0x688)]||'Selecione','footerText':_0x20ff92[_0x48740c(0x769)][_0x48740c(0x252)],'sections':_0x1d4553,'listType':0x2}};}else{if(_0x20ff92[_0x48740c(0x769)][_0x48740c(0x74a)]===_0x48740c(0x746)){let _0x2e92a2=_0x20ff92[_0x48740c(0x769)][_0x48740c(0x3d0)][_0x48740c(0x65b)](_0x4a0a31=>!(_0x4a0a31['startsWith']('[')&&_0x4a0a31[_0x48740c(0x2cc)](']'))&&_0x4a0a31[_0x48740c(0x23d)]()!=='')[_0x48740c(0x26b)](_0x44d70c=>_0x44d70c[_0x48740c(0x701)]('\x0a')[0x0]);_0x452f7d={'poll':{'name':_0x20ff92[_0x48740c(0x769)][_0x48740c(0x30b)],'selectableCount':_0x20ff92[_0x48740c(0x769)][_0x48740c(0x7d4)]||0x1,'values':_0x2e92a2}};}}return await this[_0x48740c(0x567)](_0x20ff92[_0x48740c(0x58a)],_0x452f7d,_0x20ff92?.[_0x48740c(0x4f5)]);}[a0_0x153f5d(0x5c6)](_0x533f3f){const _0x58dfc4=a0_0x153f5d;let _0x985abb=[],_0x1f1f23={'rows':[]};return _0x533f3f[_0x58dfc4(0x42e)](_0x1e4232=>{const _0x32baf8=_0x58dfc4;if(_0x1e4232[_0x32baf8(0x529)]('[')&&_0x1e4232[_0x32baf8(0x2cc)](']'))_0x1f1f23[_0x32baf8(0x29d)]['length']>0x0&&_0x985abb[_0x32baf8(0x6f8)](_0x1f1f23),_0x1f1f23={'title':_0x1e4232[_0x32baf8(0x34d)](0x1,-0x1),'rows':[]};else{let _0xff6d85=_0x1e4232[_0x32baf8(0x701)]('\x0a')['map'](_0x4d37d5=>_0x4d37d5[_0x32baf8(0x23d)]()),_0x16512f=_0xff6d85[0x0],_0xc82578=_0xff6d85[0x1]||null,_0x35231d=_0xff6d85[0x2]||_0x16512f;_0x1f1f23['rows']['push']({'title':_0x16512f,'description':_0xc82578,'rowId':_0x35231d});}}),_0x1f1f23[_0x58dfc4(0x29d)][_0x58dfc4(0x487)]>0x0&&_0x985abb[_0x58dfc4(0x6f8)](_0x1f1f23),_0x985abb;}async[a0_0x153f5d(0x5e7)](_0x5d8312,_0x2e7d62){const _0x459485=a0_0x153f5d;if(await this[_0x459485(0x1cc)](_0x5d8312,!0x0)){let _0x57f23a={'where':{'_id':_0x5d8312['id']}},_0x5099e8={'status':[_0x2e7d62[_0x459485(0x5d0)]][0x0]};try{let _0x5d52b0=await this[_0x459485(0x2aa)][_0x459485(0x690)]['update'](_0x57f23a,_0x5099e8,this[_0x459485(0x257)][_0x459485(0x4d4)]);_0x5d52b0&&J(this[_0x459485(0x401)],'messages',{'message':_0x5d52b0});}catch{}}}['sectionsToString'](_0x163eff){const _0x4c16a2=a0_0x153f5d;let _0x305add=[];return _0x163eff[_0x4c16a2(0x42e)](_0x14f984=>{const _0xc10372=_0x4c16a2;_0x14f984[_0xc10372(0x787)]&&_0x305add[_0xc10372(0x6f8)]('['+_0x14f984['title']+']'),_0x14f984[_0xc10372(0x29d)][_0xc10372(0x42e)](_0x31dd3c=>{const _0x3cfce7=_0xc10372;_0x305add[_0x3cfce7(0x6f8)](_0x31dd3c[_0x3cfce7(0x787)]);});}),_0x305add[_0x4c16a2(0x658)]('|');}[a0_0x153f5d(0x2b0)](_0x395147){const _0x2d9d5f=a0_0x153f5d;let _0x240403=_0x395147[_0x2d9d5f(0x72d)](/\\n/g,'\x0a')[_0x2d9d5f(0x701)]('\x0a')[_0x2d9d5f(0x65b)](_0x86da76=>_0x86da76['includes'](_0x2d9d5f(0x6d6))||_0x86da76['includes']('EMAIL')),_0x52ad60='';return _0x240403[_0x2d9d5f(0x42e)](_0xc28239=>{const _0x3549ca=_0x2d9d5f;let _0x2df580=/TEL(?:.*):(.+)/,_0x2f632a=/EMAIL(?:.*):(.+)/,_0x85eb1a=_0xc28239[_0x3549ca(0x20b)](_0x2df580),_0x3b7493=_0xc28239['match'](_0x2f632a);if(_0x85eb1a){let _0x1e7a16=_0x85eb1a[0x1][_0x3549ca(0x72d)](/-| |\+|\(|\)/g,'')[_0x3549ca(0x23d)]();_0x52ad60+='Telefone:\x20'+_0x1e7a16+'\x0a';}else{if(_0x3b7493){let _0x4ea768=_0x3b7493[0x1]['trim']();_0x52ad60+=_0x3549ca(0x1b0)+_0x4ea768+'\x0a';}}}),_0x52ad60[_0x2d9d5f(0x23d)]();}async[a0_0x153f5d(0x5e2)](_0x435b88,_0x1f9502,_0x3bd1eb,_0x5de865=null){const _0x2be1ca=a0_0x153f5d;if(_0x435b88['ENABLED'])try{let _0x1fc528=_0x1f9502[_0x2be1ca(0x76f)][_0x2be1ca(0x28b)][_0x2be1ca(0x72d)](/:\d{1,2}@/g,'@'),_0x1d6317=_0x1f9502[_0x2be1ca(0x76f)][_0x2be1ca(0x78a)],_0x364640=_0x1fc528['endsWith'](_0x2be1ca(0x776)),_0x59a94e=_0x1f9502['participant']?.['replace'](/:\d{1,2}@/g,'@')||'',_0x177673=_0x1f9502[_0x2be1ca(0x7f4)]?.[_0x2be1ca(0x30b)]||_0x1f9502[_0x2be1ca(0x7f4)]?.[_0x2be1ca(0x400)]||_0x1f9502[_0x2be1ca(0x7f4)]?.['vote']||_0x1f9502['message_normalized']?.[_0x2be1ca(0x525)]||'',_0x2cec70={'_id':_0x1f9502['_id'],'remoteJid':_0x1d6317?this[_0x2be1ca(0x257)][_0x2be1ca(0x4d4)]:_0x364640?_0x59a94e:_0x1fc528,'pushName':_0x1d6317?this['instance'][_0x2be1ca(0x707)]||'Eu':_0x1f9502['pushName'],'text':_0x177673,'type':_0x1f9502[_0x2be1ca(0x501)],'when':_0x1f9502[_0x2be1ca(0x1c9)]||Date[_0x2be1ca(0x2fb)]()};_0x5de865||(_0x5de865=await this[_0x2be1ca(0x2aa)][_0x2be1ca(0x2ab)][_0x2be1ca(0x88a)]({'where':{'_id':_0x1fc528}},this['instance']['wuid']));let _0x2fe781=_0x5de865?_0x1d6317?_0x5de865['unreadcount']:(_0x5de865['unreadcount']||0x0)+0x1:_0x1d6317?0x0:0x1,_0x1a66be={'lastmsg':_0x1f9502[_0x2be1ca(0x1c9)]||Date['now'](),'ephemeralExpiration':_0x1f9502[_0x2be1ca(0x6a6)],'lastMessage':_0x2cec70,'unreadcount':_0x2fe781,..._0x1d6317||_0x364640?{}:{'name':_0x1f9502[_0x2be1ca(0x32b)]},..._0x364640?{'group':_0x364640}:{},...!_0x1d6317&&!_0x364640&&_0x1f9502[_0x2be1ca(0x420)]?{'imagechat':_0x1f9502[_0x2be1ca(0x420)]}:{}};if(!_0x364640&&(!_0x5de865?.[_0x2be1ca(0x69b)]||!_0x5de865[_0x2be1ca(0x69b)][_0x2be1ca(0x770)])&&_0x1f9502['pushName']&&!_0x1d6317&&(_0x1a66be={..._0x1a66be,'leadInfo.nome':_0x1f9502[_0x2be1ca(0x32b)]}),_0x5de865?.[_0x2be1ca(0x69b)][_0x2be1ca(0x4d8)]||(_0x1a66be={..._0x1a66be,'leadInfo.etiquetas':[]}),_0x5de865?.['leadInfo']['customFields']||(_0x1a66be={..._0x1a66be,'leadInfo.customFields':[]}),_0x5de865?.[_0x2be1ca(0x69b)][_0x2be1ca(0x2a5)]||(_0x1a66be={..._0x1a66be,'leadInfo.tags':[]}),_0x5de865&&_0x5de865?.[_0x2be1ca(0x21b)]){let _0x30ab75=await this['repository'][_0x2be1ca(0x19d)]['find']({'where':{}},this[_0x2be1ca(0x257)][_0x2be1ca(0x4d4)]),_0x58a223=new Set(_0x30ab75[_0x2be1ca(0x26b)](_0x464963=>_0x464963[_0x2be1ca(0x412)])),_0x33daf0=(_0x5de865[_0x2be1ca(0x69b)]?.['etiquetas']||[])['filter'](_0x578c9c=>_0x58a223[_0x2be1ca(0x4ca)](_0x578c9c));_0x1a66be={..._0x1a66be,'imported':!0x1,'leadInfo.etiquetas':_0x33daf0};for(let _0x46dd59 of _0x33daf0)await this[_0x2be1ca(0x408)](_0x46dd59,_0x1fc528);}if(_0x3bd1eb===_0x2be1ca(0x625)&&_0x1d6317&&this[_0x2be1ca(0x2a6)]?.['flowConfig'][_0x2be1ca(0x717)]&&!_0x177673['startsWith'](this[_0x2be1ca(0x2a6)]?.[_0x2be1ca(0x3e3)]['prefixCommand'])){let _0x42a796=(this[_0x2be1ca(0x2a6)]?.[_0x2be1ca(0x3e3)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x35b4dd=Date[_0x2be1ca(0x2fb)]()+_0x42a796;_0x5de865?.[_0x2be1ca(0x69b)]?.[_0x2be1ca(0x4f9)]===0x0||(_0x1a66be={..._0x1a66be,'leadInfo.desativadoFluxoAte':_0x35b4dd},this[_0x2be1ca(0x21c)]['verbose'](this[_0x2be1ca(0x401)]+'\x20('+this[_0x2be1ca(0x257)][_0x2be1ca(0x4d4)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x35b4dd+'.'));}if(_0x5de865=await this[_0x2be1ca(0x2aa)][_0x2be1ca(0x2ab)][_0x2be1ca(0x499)]({'where':{'_id':_0x1fc528}},_0x1a66be,this['instance'][_0x2be1ca(0x4d4)],{'new':!0x0,'upsert':!0x0}),_0x5de865)J(this[_0x2be1ca(0x401)],_0x2be1ca(0x7a3),{'chat':_0x5de865});else{this['logger']['error'](this['instanceName']+'\x20('+this[_0x2be1ca(0x257)]['wuid']+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x2be1ca(0x2a6)]?.[_0x2be1ca(0x3e3)]['enabled'])return this[_0x2be1ca(0x21c)][_0x2be1ca(0x6cf)](this[_0x2be1ca(0x401)]+'\x20('+this[_0x2be1ca(0x257)][_0x2be1ca(0x4d4)]+_0x2be1ca(0x6b5)),null;if(_0x5de865['_id'][_0x2be1ca(0x424)]('@g.us')&&this[_0x2be1ca(0x2a6)]?.[_0x2be1ca(0x3e3)][_0x2be1ca(0x79c)]===!0x0)return this[_0x2be1ca(0x21c)][_0x2be1ca(0x6cf)](this[_0x2be1ca(0x401)]+'\x20('+this[_0x2be1ca(0x257)]['wuid']+_0x2be1ca(0x63c)),null;if(_0x5de865['leadInfo']){if(_0x5de865[_0x2be1ca(0x69b)][_0x2be1ca(0x4f9)]===0x0||_0x5de865[_0x2be1ca(0x69b)][_0x2be1ca(0x24e)])return this[_0x2be1ca(0x21c)][_0x2be1ca(0x6cf)](this[_0x2be1ca(0x401)]+'\x20('+this['instance'][_0x2be1ca(0x4d4)]+_0x2be1ca(0x573)+_0x1fc528+',\x20saindo.'),null;if(_0x5de865[_0x2be1ca(0x69b)][_0x2be1ca(0x4f9)]>Date['now']()&&!_0x1f9502[_0x2be1ca(0x7f4)]?.[_0x2be1ca(0x70e)])return this[_0x2be1ca(0x21c)]['verbose'](this[_0x2be1ca(0x401)]+'\x20('+this['instance']['wuid']+_0x2be1ca(0x79e)+new Date(_0x5de865[_0x2be1ca(0x69b)][_0x2be1ca(0x4f9)])[_0x2be1ca(0x7dd)]()+_0x2be1ca(0x82b)),null;}this[_0x2be1ca(0x21c)]['verbose'](this[_0x2be1ca(0x401)]+'\x20('+this[_0x2be1ca(0x257)][_0x2be1ca(0x4d4)]+_0x2be1ca(0x695)),this[_0x2be1ca(0x5b0)](_0x3bd1eb,_0x1f9502);}catch(_0x2c892d){let _0x2710ba=_0x2be1ca(0x3ea),_0x59fbd4=_0x2c892d instanceof Error?_0x2c892d['message']:typeof _0x2c892d==_0x2be1ca(0x5dc)?JSON[_0x2be1ca(0x706)](_0x2c892d):_0x2c892d,_0x23148e=_0x2710ba+':\x20'+_0x59fbd4;return this['logger']['error'](this[_0x2be1ca(0x401)]+'\x20('+this[_0x2be1ca(0x257)][_0x2be1ca(0x4d4)]+_0x2be1ca(0x342)+_0x23148e),null;}}async['upsertChats'](_0x38cb18,_0x46cf32){const _0xa2389f=a0_0x153f5d;if(_0x46cf32[_0xa2389f(0x3e1)]){let _0x3a622b=_0x38cb18[_0xa2389f(0x26b)](async _0x3c2b39=>{const _0x4edf50=_0xa2389f;try{let _0x18162d={'_id':_0x3c2b39['_id'],'owner':_0x3c2b39[_0x4edf50(0x874)],'lastcache':0x0};if(Object[_0x4edf50(0x60b)](_0x3c2b39)[_0x4edf50(0x42e)](_0x14b1bd=>{_0x3c2b39[_0x14b1bd]!==null&&(_0x18162d[_0x14b1bd]=_0x3c2b39[_0x14b1bd]);}),_0x18162d[_0x4edf50(0x61c)]===null&&(_0x18162d[_0x4edf50(0x61c)]=_0x4edf50(0x3c9)),Object[_0x4edf50(0x60b)](_0x18162d)[_0x4edf50(0x487)]>0x0)return await this[_0x4edf50(0x2aa)][_0x4edf50(0x2ab)]['updateOne']({'where':{'_id':_0x3c2b39[_0x4edf50(0x412)]}},_0x18162d,this[_0x4edf50(0x257)][_0x4edf50(0x4d4)]);}catch(_0x18c075){let _0x50fbf7=_0x4edf50(0x75e)+_0x3c2b39[_0x4edf50(0x412)],_0x3f5247=_0x18c075 instanceof Error?_0x18c075[_0x4edf50(0x690)]:typeof _0x18c075==_0x4edf50(0x5dc)?JSON[_0x4edf50(0x706)](_0x18c075):_0x18c075,_0x2db58a=_0x50fbf7+':\x20'+_0x3f5247;return this[_0x4edf50(0x21c)][_0x4edf50(0x617)](this[_0x4edf50(0x401)]+'\x20('+this[_0x4edf50(0x257)][_0x4edf50(0x4d4)]+_0x4edf50(0x342)+_0x2db58a),null;}}),_0x2f66cd=(await Promise[_0xa2389f(0x512)](_0x3a622b))[_0xa2389f(0x65b)](_0x150fbc=>_0x150fbc!==null)['length'];this[_0xa2389f(0x21c)]['verbose'](this[_0xa2389f(0x401)]+'\x20('+this['instance'][_0xa2389f(0x4d4)]+_0xa2389f(0x342)+_0x2f66cd+'\x20chats\x20de\x20'+this[_0xa2389f(0x257)][_0xa2389f(0x4d4)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x546a7a){const _0x32b211=a0_0x153f5d;this[_0x32b211(0x21c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x32b211(0x4d4)]+_0x32b211(0x69e));let _0x4f09d7={'readMessages':[{'remoteJid':_0x546a7a['chatLog'][_0x32b211(0x80d)][_0x32b211(0x76f)]['remoteJid'],'fromMe':_0x546a7a[_0x32b211(0x5d1)][_0x32b211(0x80d)][_0x32b211(0x76f)][_0x32b211(0x78a)],'id':_0x546a7a[_0x32b211(0x5d1)][_0x32b211(0x80d)][_0x32b211(0x76f)]['id']}]};await this['markMessageAsRead'](_0x4f09d7);}async[a0_0x153f5d(0x5b0)](_0x533ef1,_0x184229){const _0x41aa8a=a0_0x153f5d;try{let {key:_0x14a22b,message_normalized:_0x1151e3}=_0x184229,_0x1f21f6=_0x1151e3,_0x420858=_0x1151e3[_0x41aa8a(0x30b)]||_0x1151e3[_0x41aa8a(0x400)]||_0x1151e3[_0x41aa8a(0x70e)]||_0x1151e3[_0x41aa8a(0x525)]||'',_0x2e418f=_0x14a22b['remoteJid'],_0x4cf2b5;if(_0x1f21f6[_0x41aa8a(0x76f)][_0x41aa8a(0x78a)]&&_0x420858[_0x41aa8a(0x23d)]()!==this['AutomateSystem']?.[_0x41aa8a(0x3e3)]['stopConversation']['trim']())return this['logger'][_0x41aa8a(0x6cf)](this['instanceName']+'\x20('+this[_0x41aa8a(0x257)]['wuid']+_0x41aa8a(0x4ef)),null;if(_0x1f21f6['key'][_0x41aa8a(0x78a)]&&_0x420858[_0x41aa8a(0x23d)]()===this[_0x41aa8a(0x2a6)]?.['flowConfig'][_0x41aa8a(0x228)][_0x41aa8a(0x23d)]()){this[_0x41aa8a(0x21c)][_0x41aa8a(0x6cf)](this[_0x41aa8a(0x401)]+'\x20('+this[_0x41aa8a(0x257)][_0x41aa8a(0x4d4)]+_0x41aa8a(0x7c3));let _0x517473=await this[_0x41aa8a(0x2aa)][_0x41aa8a(0x70a)]['find']({'remoteJid':_0x2e418f,'status':_0x41aa8a(0x5ef)},this[_0x41aa8a(0x257)][_0x41aa8a(0x4d4)]);this['logger'][_0x41aa8a(0x6cf)](this[_0x41aa8a(0x401)]+'\x20('+this[_0x41aa8a(0x257)][_0x41aa8a(0x4d4)]+_0x41aa8a(0x1f6)+_0x517473);let _0x4b6745=Date['now'](),_0x2b01eb;return this['AutomateSystem']?.['flowConfig']['stopMinutes']===0x0?_0x2b01eb={'stoppedUntil':_0x4b6745+0x7591f6200}:_0x2b01eb={'stoppedUntil':_0x4b6745+this[_0x41aa8a(0x2a6)]?.[_0x41aa8a(0x3e3)]['stopMinutes']*0x3c*0x3e8},this[_0x41aa8a(0x21c)]['verbose'](this[_0x41aa8a(0x401)]+'\x20('+this[_0x41aa8a(0x257)][_0x41aa8a(0x4d4)]+_0x41aa8a(0x35e)+_0x2b01eb),this[_0x41aa8a(0x38e)](_0x4cf2b5,_0x2b01eb['stoppedUntil']),null;}if(_0x420858&&_0x420858[_0x41aa8a(0x529)](this[_0x41aa8a(0x2a6)]?.[_0x41aa8a(0x3e3)]['prefixCommand'])&&_0x420858[_0x41aa8a(0x487)]>0x4){let _0x5c558d=await this[_0x41aa8a(0x2aa)][_0x41aa8a(0x52d)][_0x41aa8a(0x88a)]({'where':{'startCommandWord':_0x420858}},this[_0x41aa8a(0x257)][_0x41aa8a(0x4d4)]);if(this[_0x41aa8a(0x21c)][_0x41aa8a(0x6cf)](this['instanceName']+'\x20('+this['instance'][_0x41aa8a(0x4d4)]+_0x41aa8a(0x5b5)),_0x5c558d)_0x4cf2b5=await this[_0x41aa8a(0x5a2)](_0x5c558d,_0x1f21f6[_0x41aa8a(0x76f)],_0x1f21f6);else return this[_0x41aa8a(0x21c)][_0x41aa8a(0x6cf)](this[_0x41aa8a(0x401)]+'\x20('+this[_0x41aa8a(0x257)][_0x41aa8a(0x4d4)]+_0x41aa8a(0x5d6)),null;}else _0x4cf2b5=await this[_0x41aa8a(0x3ac)](_0x2e418f,_0x1f21f6);if(_0x4cf2b5){this[_0x41aa8a(0x21c)]['verbose'](this[_0x41aa8a(0x401)]+'\x20('+this[_0x41aa8a(0x257)]['wuid']+_0x41aa8a(0x6e4)),!_0x14a22b['fromMe']&&_0x4cf2b5[_0x41aa8a(0x2d0)]&&this[_0x41aa8a(0x37b)](_0x4cf2b5);let _0x46019d=await this[_0x41aa8a(0x7d3)](_0x4cf2b5);_0x46019d&&await this[_0x41aa8a(0x2b4)](_0x4cf2b5,_0x46019d);}}catch(_0x793230){this[_0x41aa8a(0x21c)][_0x41aa8a(0x617)](this[_0x41aa8a(0x401)]+'\x20('+this[_0x41aa8a(0x257)][_0x41aa8a(0x4d4)]+_0x41aa8a(0x34c)+(_0x793230 instanceof Error?_0x793230[_0x41aa8a(0x690)]:JSON[_0x41aa8a(0x706)](_0x793230,null,0x2)));}}[a0_0x153f5d(0x2a3)](_0x103b8f,_0x1fae1c='',_0x3fad8a={}){const _0xc320f2=a0_0x153f5d;return typeof _0x103b8f!=_0xc320f2(0x5dc)||_0x103b8f===null?(_0x1fae1c&&(_0x3fad8a[_0x1fae1c]=_0x103b8f),_0x3fad8a):(Object[_0xc320f2(0x32f)](_0x103b8f)[_0xc320f2(0x42e)](([_0x1ef476,_0x385240])=>{const _0x2093b3=_0xc320f2;let _0x52edd7=_0x1fae1c?_0x1fae1c+'.'+_0x1ef476:'_'+_0x1ef476;Array[_0x2093b3(0x653)](_0x385240)?_0x385240['forEach']((_0x48142a,_0x472f9b)=>{this['flattenObject'](_0x48142a,_0x52edd7+'['+_0x472f9b+']',_0x3fad8a);}):typeof _0x385240==_0x2093b3(0x5dc)&&_0x385240!==null?this[_0x2093b3(0x2a3)](_0x385240,_0x52edd7,_0x3fad8a):_0x3fad8a[_0x52edd7]=String(_0x385240);}),_0x3fad8a);}['variablesToObject'](_0x415623){const _0x4ab16b=a0_0x153f5d;let _0x1f3ef8={};for(let _0xdfb082 of _0x415623)typeof _0xdfb082['name']=='string'&&typeof _0xdfb082['value']=='string'&&(_0x1f3ef8[_0xdfb082[_0x4ab16b(0x525)]]=_0xdfb082[_0x4ab16b(0x385)]);return _0x1f3ef8;}async[a0_0x153f5d(0x7d3)](_0x1609b8){const _0x416394=a0_0x153f5d;if(!this[_0x416394(0x2a6)]?.[_0x416394(0x3e3)][_0x416394(0x717)]||_0x1609b8['status']!==_0x416394(0x5ef)&&_0x1609b8['waitingMenu_id']==='')return null;let _0x13c32d=_0x1609b8[_0x416394(0x5d1)]['lastBlockId']||_0x416394(0x756);typeof _0x1609b8[_0x416394(0x5d1)][_0x416394(0x641)]>'u'&&(_0x1609b8[_0x416394(0x5d1)][_0x416394(0x641)]=!0x0);let _0x569ad0=_0x1609b8[_0x416394(0x5d1)][_0x416394(0x641)];this['logger'][_0x416394(0x6cf)](this[_0x416394(0x401)]+'\x20('+this[_0x416394(0x257)][_0x416394(0x4d4)]+_0x416394(0x5cc)+_0x13c32d+_0x416394(0x277)+_0x569ad0);let _0x261e1c=_0x13c32d===_0x416394(0x756)?_0x1609b8[_0x416394(0x84c)][_0x416394(0x84e)](_0x5a3ae3=>_0x5a3ae3['type']===_0x416394(0x756)):_0x1609b8['blocks']['find'](_0x5b5c73=>_0x5b5c73[_0x416394(0x412)][_0x416394(0x894)]()===_0x13c32d[_0x416394(0x894)]());if(!_0x261e1c)return this[_0x416394(0x21c)][_0x416394(0x617)](this[_0x416394(0x401)]+'\x20('+this[_0x416394(0x257)][_0x416394(0x4d4)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x13c32d),null;let _0x598bbb={'_pushName':_0x1609b8?.[_0x416394(0x5d1)]?.[_0x416394(0x80d)]?.[_0x416394(0x32b)]||'',..._0x1609b8['chatLog']['realVariables']},_0x49fc7f=null;if(_0x1609b8['waitingMenu_id']){let _0x27cb8f=_0x1609b8[_0x416394(0x5d1)]['lastReceivedMessage']['vote'],_0x55683f=_0x1609b8[_0x416394(0x318)]['find'](_0x50e764=>_0x50e764[_0x416394(0x71c)]===_0x27cb8f);if(_0x55683f){let _0x4debec=_0x55683f['next_groupId'];if(_0x49fc7f=_0x1609b8[_0x416394(0x84c)]['find'](_0x503596=>_0x503596[_0x416394(0x1a8)]===_0x4debec&&_0x503596[_0x416394(0x344)]===0x1),_0x261e1c['uazapi']['pollOnReplyDelete']){let _0x591add={'id':_0x1609b8[_0x416394(0x389)],'remoteJid':_0x1609b8[_0x416394(0x28b)],'fromMe':!0x0};await this[_0x416394(0x694)](_0x591add);}if(_0x261e1c[_0x416394(0x4f6)][_0x416394(0x463)]&&_0x261e1c[_0x416394(0x4f6)][_0x416394(0x3ab)]&&_0x261e1c['uazapi'][_0x416394(0x668)]===_0x416394(0x746)){let _0x27a663={'number':_0x1609b8[_0x416394(0x28b)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x1609b8[_0x416394(0x6db)]+_0x416394(0x4a7)+_0x27cb8f}};await this[_0x416394(0x3a5)](_0x27a663);}_0x1609b8[_0x416394(0x5d0)]=_0x416394(0x5ef),_0x1609b8['waitingMenu_id']='',_0x1609b8[_0x416394(0x6db)]='',_0x1609b8['waitingMenu_replyOptions']=[];}else{this[_0x416394(0x21c)][_0x416394(0x6cf)](this['instanceName']+'\x20('+this['instance'][_0x416394(0x4d4)]+_0x416394(0x808));let _0x317351={'activatedCount':_0x1609b8[_0x416394(0x5d1)][_0x416394(0x280)][_0x416394(0x65b)](_0x259af5=>String(_0x259af5['blockId'])===String(_0x13c32d))[_0x416394(0x487)],'moreLogs':[_0x416394(0x432)]};if(_0x261e1c['uazapi'][_0x416394(0x4e1)]){let _0xcf861d={'number':_0x1609b8[_0x416394(0x28b)],'options':{'delay':0x0},'textMessage':{'text':_0x261e1c[_0x416394(0x4f6)][_0x416394(0x4e1)]}};await this['textMessage'](_0xcf861d);}if(_0x261e1c[_0x416394(0x836)]!==void 0x0&&_0x317351['activatedCount']>=_0x261e1c[_0x416394(0x836)]){let _0xa8202b=Date['now'](),_0x53097a=_0x261e1c[_0x416394(0x783)]??0xa;isNaN(_0x53097a)&&(_0x53097a=0xa);let _0x25eb33=_0xa8202b+_0x53097a*0x3c*0x3e8;_0x317351[_0x416394(0x861)]=_0x25eb33,_0x317351[_0x416394(0x647)][_0x416394(0x6f8)](_0x416394(0x870)),this[_0x416394(0x38e)](_0x1609b8,_0x25eb33),_0x1609b8['waitingMenu_id']='',_0x1609b8[_0x416394(0x6db)]='',_0x1609b8[_0x416394(0x318)]=[];}return this[_0x416394(0x3da)](_0x1609b8,_0x261e1c,_0x317351,!0x0),null;}}if(_0x569ad0&&_0x261e1c[_0x416394(0x46b)]&&!_0x1609b8[_0x416394(0x389)]){let _0x832a60=_0x1609b8[_0x416394(0x84c)][_0x416394(0x65b)](_0x161f4b=>_0x161f4b[_0x416394(0x1a8)]['toString']()===_0x261e1c['next_groupId'][_0x416394(0x894)]())['sort']((_0x5e2cd3,_0x224602)=>_0x5e2cd3['order']-_0x224602['order']);_0x832a60[_0x416394(0x487)]>0x0&&(_0x49fc7f=_0x832a60[0x0]);}if(!_0x49fc7f){let _0x5f601a=_0x261e1c[_0x416394(0x1a8)],_0xff749b=_0x1609b8[_0x416394(0x84c)]['filter'](_0x3c135c=>_0x3c135c[_0x416394(0x1a8)]===_0x5f601a&&_0x3c135c[_0x416394(0x344)]>_0x261e1c['order'])[_0x416394(0x6da)]((_0x553caf,_0x532102)=>_0x553caf[_0x416394(0x344)]-_0x532102['order']);_0xff749b[_0x416394(0x487)]>0x0&&(_0x49fc7f=_0xff749b[0x0]);}if(!_0x49fc7f)return _0x1609b8['status']=_0x416394(0x40c),null;_0x1609b8['chatLog'][_0x416394(0x80e)]=_0x598bbb;let _0x1417a2=JSON[_0x416394(0x3c5)](JSON[_0x416394(0x706)](_0x49fc7f));return this[_0x416394(0x3ca)](_0x1417a2,_0x1609b8[_0x416394(0x5d1)]['realVariables']),_0x1609b8[_0x416394(0x5d1)]['lastBlockId']=_0x1417a2[_0x416394(0x412)],_0x1609b8[_0x416394(0x5d1)][_0x416394(0x641)]=!0x0,_0x1417a2;}[a0_0x153f5d(0x5d4)](_0x4f2717,_0x12a232){const _0x2449dd=a0_0x153f5d;return _0x4f2717[_0x2449dd(0x72d)](/\{\{([^}]+)\}\}/g,(_0x4c8479,_0x1695a5)=>_0x12a232[_0x1695a5]||'');}[a0_0x153f5d(0x3ca)](_0x524a6a,_0xe45bcb){const _0x3bac5b=a0_0x153f5d;for(let _0x3c7fc8 in _0x524a6a)typeof _0x524a6a[_0x3c7fc8]==_0x3bac5b(0x60d)?_0x524a6a[_0x3c7fc8]=this[_0x3bac5b(0x5d4)](_0x524a6a[_0x3c7fc8],_0xe45bcb):typeof _0x524a6a[_0x3c7fc8]=='object'&&this[_0x3bac5b(0x3ca)](_0x524a6a[_0x3c7fc8],_0xe45bcb);}async[a0_0x153f5d(0x57b)](_0xcef160,_0x3fa9af){const _0x36ccef=a0_0x153f5d;let _0x21ec6c=_0x3fa9af[_0x36ccef(0x412)];if(_0xcef160['chatLog']&&_0xcef160[_0x36ccef(0x5d1)][_0x36ccef(0x280)]){let _0x103c44=_0xcef160['chatLog'][_0x36ccef(0x280)][_0x36ccef(0x65b)](_0x8227c8=>String(_0x8227c8[_0x36ccef(0x234)])===String(_0x21ec6c))[_0x36ccef(0x5d9)]();if(_0x103c44&&_0x103c44['error']&&_0x3fa9af[_0x36ccef(0x63d)])return _0xcef160[_0x36ccef(0x5d0)]=_0x36ccef(0x40c),await this[_0x36ccef(0x260)](_0xcef160),null;}if(_0x3fa9af[_0x36ccef(0x74a)]===_0x36ccef(0x4f6)&&_0x3fa9af[_0x36ccef(0x4f6)][_0x36ccef(0x594)]===_0x36ccef(0x32c)&&_0xcef160[_0x36ccef(0x389)])return _0xcef160[_0x36ccef(0x5d1)][_0x36ccef(0x347)]=_0x21ec6c,await this[_0x36ccef(0x260)](_0xcef160),null;let _0x494c8a=await this[_0x36ccef(0x7d3)](_0xcef160);if(_0xcef160[_0x36ccef(0x5d1)]&&_0xcef160[_0x36ccef(0x5d1)][_0x36ccef(0x280)]){let _0x49e028=_0xcef160[_0x36ccef(0x5d1)]['blockLogs'][_0x36ccef(0x65b)](_0x5d6a1a=>String(_0x5d6a1a['blockId'])===String(_0x21ec6c))['length'];if(_0x3fa9af[_0x36ccef(0x836)]!==void 0x0&&_0x49e028>=_0x3fa9af[_0x36ccef(0x836)]){let _0x371805=Date[_0x36ccef(0x2fb)](),_0x3f747c=_0x3fa9af[_0x36ccef(0x783)]??0xa;isNaN(_0x3f747c)&&(_0x3f747c=0xa);let _0x3a666b=_0x371805+_0x3f747c*0x3c*0x3e8,_0x23223b={'newStoppedUntil':_0x3a666b};return this[_0x36ccef(0x38e)](_0xcef160,_0x3a666b),this[_0x36ccef(0x3da)](_0xcef160,_0x3fa9af,_0x23223b,!0x0),null;}}_0x494c8a&&_0x494c8a['type']!=='save'&&await this[_0x36ccef(0x2b4)](_0xcef160,_0x494c8a),_0x494c8a||await this['saveConversationToDatabase'](_0xcef160),_0x494c8a&&_0x494c8a[_0x36ccef(0x74a)]===_0x36ccef(0x83d)&&(_0xcef160[_0x36ccef(0x5d1)][_0x36ccef(0x347)]=_0x21ec6c,await this[_0x36ccef(0x260)](_0xcef160));}async[a0_0x153f5d(0x2b4)](_0x55ea34,_0x4151a9){const _0x33f3c6=a0_0x153f5d;try{let _0x4e2c07=_0x4151a9[_0x33f3c6(0x74a)];this['logger'][_0x33f3c6(0x6cf)](this[_0x33f3c6(0x401)]+'\x20('+this[_0x33f3c6(0x257)]['wuid']+'):\x20Going\x20to\x20'+_0x4e2c07);let _0x5e0790={'uazapi':()=>this[_0x33f3c6(0x66c)](_0x55ea34,_0x4151a9),'save':()=>this['saveTextReply'](_0x55ea34,_0x4151a9),'stop':()=>this[_0x33f3c6(0x228)](_0x55ea34,_0x4151a9),'condition':()=>this[_0x33f3c6(0x460)](_0x55ea34,_0x4151a9),'varedit':()=>this[_0x33f3c6(0x795)](_0x55ea34,_0x4151a9),'apirequest':()=>this[_0x33f3c6(0x5d5)](_0x55ea34,_0x4151a9),'goToFlow':()=>this[_0x33f3c6(0x297)](_0x55ea34,_0x4151a9),'scheduleFlow':()=>this[_0x33f3c6(0x624)](_0x55ea34,_0x4151a9),'awaitSeconds':()=>this['processawaitSeconds'](_0x55ea34,_0x4151a9),'clearVariables':()=>this[_0x33f3c6(0x2df)](_0x55ea34,_0x4151a9)}[_0x4e2c07];_0x5e0790&&await _0x5e0790();}catch(_0x312015){this[_0x33f3c6(0x21c)][_0x33f3c6(0x617)](this[_0x33f3c6(0x401)]+'\x20('+this[_0x33f3c6(0x257)]['wuid']+_0x33f3c6(0x7bf)+(_0x312015 instanceof Error?_0x312015[_0x33f3c6(0x690)]:JSON[_0x33f3c6(0x706)](_0x312015,null,0x2)));}}async[a0_0x153f5d(0x289)](_0xb1d080,_0x51ca1f){const _0x4da7bb=a0_0x153f5d;if(this[_0x4da7bb(0x21c)][_0x4da7bb(0x6cf)](this[_0x4da7bb(0x401)]+'\x20('+this['instance']['wuid']+_0x4da7bb(0x45c)),!_0xb1d080||!_0x51ca1f)return this[_0x4da7bb(0x21c)][_0x4da7bb(0x617)](this['instanceName']+'\x20('+this[_0x4da7bb(0x257)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x42144a=+_0x51ca1f[_0x4da7bb(0x7cc)];isNaN(_0x42144a)&&(_0x42144a=0x0),_0x42144a=Math[_0x4da7bb(0x1c1)](_0x42144a,0x3c),await(0x0,w['delay'])(_0x42144a*0x3e8);let _0x14e7c3={'moreLogs':[_0x4da7bb(0x2ed)+_0x42144a+_0x4da7bb(0x587)]};return await this[_0x4da7bb(0x3da)](_0xb1d080,_0x51ca1f,_0x14e7c3),_0x42144a;}async[a0_0x153f5d(0x2df)](_0x36940b,_0x4d256a){const _0x384e5e=a0_0x153f5d;if(this['logger'][_0x384e5e(0x6cf)](this['instanceName']+'\x20('+this[_0x384e5e(0x257)][_0x384e5e(0x4d4)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x36940b||!_0x4d256a)return this[_0x384e5e(0x21c)][_0x384e5e(0x617)](this[_0x384e5e(0x401)]+'\x20('+this[_0x384e5e(0x257)]['wuid']+_0x384e5e(0x82c)),null;let _0x2af6ef=[];if(_0x4d256a[_0x384e5e(0x834)][_0x384e5e(0x23d)]()===_0x384e5e(0x6dd)){let _0x19c793=[_0x384e5e(0x1f5),'_error',_0x384e5e(0x2ec),_0x384e5e(0x286),'_id',_0x384e5e(0x835)];_0x2af6ef=Object[_0x384e5e(0x60b)](_0x36940b['chatLog'][_0x384e5e(0x80e)])['filter'](_0x3f4075=>_0x3f4075['startsWith']('_')&&!_0x19c793[_0x384e5e(0x424)](_0x3f4075));}else _0x2af6ef=_0x4d256a[_0x384e5e(0x834)][_0x384e5e(0x701)]('|')[_0x384e5e(0x26b)](_0x2044ed=>(_0x2044ed=_0x2044ed['replace'](/[{}]/g,'')[_0x384e5e(0x23d)](),_0x2044ed[_0x384e5e(0x529)]('_')?_0x2044ed:'_'+_0x2044ed));let _0x7a522c=[];_0x2af6ef[_0x384e5e(0x42e)](_0x5e13bd=>{const _0x578388=_0x384e5e;_0x5e13bd in _0x36940b[_0x578388(0x5d1)]['realVariables']&&(delete _0x36940b[_0x578388(0x5d1)]['realVariables'][_0x5e13bd],_0x7a522c[_0x578388(0x6f8)](_0x5e13bd));}),_0x7a522c[_0x384e5e(0x487)]>0x0?this[_0x384e5e(0x21c)][_0x384e5e(0x6cf)](this[_0x384e5e(0x401)]+'\x20('+this[_0x384e5e(0x257)]['wuid']+_0x384e5e(0x7be)+_0x7a522c['join'](',\x20')):this[_0x384e5e(0x21c)][_0x384e5e(0x6cf)](this[_0x384e5e(0x401)]+'\x20('+this[_0x384e5e(0x257)][_0x384e5e(0x4d4)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x5c2789={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x7a522c[_0x384e5e(0x658)](',\x20')]};return await this['updateConversation'](_0x36940b,_0x4d256a,_0x5c2789),null;}async['processScheduleFlow'](_0x116fca,_0xf47c6c){const _0xb578d2=a0_0x153f5d;if(this['logger'][_0xb578d2(0x6cf)](this[_0xb578d2(0x401)]+'\x20('+this[_0xb578d2(0x257)][_0xb578d2(0x4d4)]+_0xb578d2(0x56f)),!_0x116fca||!_0xf47c6c)return this[_0xb578d2(0x21c)]['error'](this['instanceName']+'\x20('+this[_0xb578d2(0x257)][_0xb578d2(0x4d4)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3a0e84=_0x116fca[_0xb578d2(0x28b)];_0xf47c6c[_0xb578d2(0x57f)][_0xb578d2(0x28b)]&&_0xf47c6c[_0xb578d2(0x57f)][_0xb578d2(0x28b)][_0xb578d2(0x23d)]()!==''&&(_0x3a0e84=_0xf47c6c[_0xb578d2(0x4f6)][_0xb578d2(0x28b)][_0xb578d2(0x23d)]());let _0x504b59=_0xf47c6c[_0xb578d2(0x57f)][_0xb578d2(0x7c1)]*0xea60,_0x36652f=Date[_0xb578d2(0x2fb)]()+_0x504b59,_0x3e47dc={'status':_0xb578d2(0x7e9),'info':_0xb578d2(0x6d9)+_0x116fca[_0xb578d2(0x525)],'remoteJids':[_0x3a0e84],'when':_0x36652f,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0xb578d2(0x52d),'flowName':_0xf47c6c[_0xb578d2(0x57f)]['flowName']};this[_0xb578d2(0x856)](_0x3e47dc);let _0x210988=await this[_0xb578d2(0x7d3)](_0x116fca);_0x210988&&await this[_0xb578d2(0x2b4)](_0x116fca,_0x210988);}async['processgoToFlow'](_0x1ac3c6,_0x47d90f){const _0x40e162=a0_0x153f5d;if(this[_0x40e162(0x21c)][_0x40e162(0x6cf)](this[_0x40e162(0x401)]+'\x20('+this[_0x40e162(0x257)][_0x40e162(0x4d4)]+_0x40e162(0x5bb)),!_0x1ac3c6||!_0x47d90f)return this[_0x40e162(0x21c)][_0x40e162(0x617)](this[_0x40e162(0x401)]+'\x20('+this[_0x40e162(0x257)][_0x40e162(0x4d4)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x1ac3c6,_0x47d90f,{},!0x0,!0x0);let _0x55ad8c=_0x47d90f[_0x40e162(0x748)];_0x1ac3c6=await this['createConversationforgoToFlow'](_0x55ad8c,_0x1ac3c6[_0x40e162(0x28b)],_0x1ac3c6['chatLog'][_0x40e162(0x80e)]);let _0x73c5be=await this['NextBlock'](_0x1ac3c6);_0x73c5be&&await this[_0x40e162(0x2b4)](_0x1ac3c6,_0x73c5be);}async[a0_0x153f5d(0x2b1)](_0x3685df,_0x379673,_0xa1b729){const _0x504775=a0_0x153f5d;this[_0x504775(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x504775(0x257)][_0x504775(0x4d4)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x3685df=await this['repository'][_0x504775(0x52d)][_0x504775(0x88a)]({'where':{'name':_0x3685df}},this[_0x504775(0x257)][_0x504775(0x4d4)]),!_0x3685df)return this[_0x504775(0x21c)][_0x504775(0x617)](this[_0x504775(0x401)]+'\x20('+this['instance'][_0x504775(0x4d4)]+_0x504775(0x4c8)),null;let _0x39dffc=require(_0x504775(0x1c7))[_0x504775(0x437)],_0x8bd16a=Date[_0x504775(0x2fb)](),_0x2e9f30=_0x504775(0x756),_0x553b6a={},_0x3a916c={},_0x253cee={..._0x3685df,'chatLog':null},_0x1a695c={'lastReceivedMessage':_0x553b6a,'lastSendMessage':_0x3a916c,'lastBlockId':_0x2e9f30,'lastCondition':!0x0,'realVariables':_0xa1b729};_0x253cee['chatLog']=_0x1a695c,_0x253cee['chatLog']['realVariables']={..._0xa1b729},delete _0x253cee[_0x504775(0x412)],_0x253cee[_0x504775(0x412)]=new _0x39dffc(),_0x253cee[_0x504775(0x54e)]=_0x8bd16a,_0x253cee[_0x504775(0x5d0)]=_0x504775(0x5ef),_0x253cee['remoteJid']=_0x379673;let _0x331419=await this[_0x504775(0x2aa)][_0x504775(0x70a)][_0x504775(0x499)](_0x253cee[_0x504775(0x412)],_0x253cee,this[_0x504775(0x257)][_0x504775(0x4d4)]);return this['logger'][_0x504775(0x6cf)](this[_0x504775(0x401)]+'\x20('+this[_0x504775(0x257)][_0x504775(0x4d4)]+_0x504775(0x58b)),_0x331419?_0x253cee:null;}catch(_0x123036){let _0x21aa80=_0x504775(0x55b),_0x129f8d=_0x123036 instanceof Error?_0x123036[_0x504775(0x690)]:typeof _0x123036==_0x504775(0x5dc)?JSON[_0x504775(0x706)](_0x123036):_0x123036,_0xfa55fd=_0x21aa80+':\x20'+_0x129f8d;throw this[_0x504775(0x21c)][_0x504775(0x617)](this[_0x504775(0x401)]+'\x20('+this[_0x504775(0x257)][_0x504775(0x4d4)]+_0x504775(0x342)+_0xfa55fd),new m(_0xfa55fd);}}async[a0_0x153f5d(0x5d5)](_0x4b7863,_0x3c8709){const _0x154d26=a0_0x153f5d;let _0x22f762,_0x54a6c6;try{let _0x553ef0=_0x3c8709['apirequest'];if(!_0x553ef0||!_0x553ef0['url']||!_0x553ef0[_0x154d26(0x335)])throw new Error(_0x154d26(0x815));let _0x20ab7a;(['https://api.openai.com/v1/audio/speech',_0x154d26(0x7cd),_0x154d26(0x1d1)][_0x154d26(0x3a1)](_0x4aaaa5=>_0x553ef0[_0x154d26(0x851)]['includes'](_0x4aaaa5))||_0x553ef0[_0x154d26(0x74f)])&&(_0x20ab7a=_0x154d26(0x73f));let _0x57d77e='\u205f',_0x17cdaa;try{_0x17cdaa=JSON[_0x154d26(0x3c5)](_0x553ef0['bodyString']['replace'](new RegExp(_0x57d77e,'g'),''));}catch(_0xb217c6){throw _0xb217c6;}let _0xfc07d6={'method':_0x553ef0['method'],'url':_0x553ef0[_0x154d26(0x851)],'headers':_0x553ef0[_0x154d26(0x67c)]||{},..._0x553ef0[_0x154d26(0x335)][_0x154d26(0x70f)]()!=='GET'&&_0x553ef0[_0x154d26(0x404)]?{'data':JSON[_0x154d26(0x3c5)](_0x553ef0[_0x154d26(0x404)][_0x154d26(0x72d)](new RegExp(_0x57d77e,'g'),''))}:{},..._0x20ab7a&&{'responseType':_0x20ab7a}},_0x2eceda=await(0x0,K['default'])(_0xfc07d6),_0x3c29bf=_0x2eceda[_0x154d26(0x49c)][_0x154d26(0x845)];if(_0x3c29bf&&_0x3c29bf[_0x154d26(0x424)](_0x154d26(0x8a2))||typeof _0x2eceda[_0x154d26(0x28c)]==_0x154d26(0x60d)){if(typeof _0x2eceda[_0x154d26(0x28c)]==_0x154d26(0x60d)){let _0x14a778=_0x2eceda[_0x154d26(0x28c)][_0x154d26(0x72d)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x154d26(0x23d)]();try{_0x22f762=JSON[_0x154d26(0x3c5)](_0x14a778);}catch(_0x257e20){console['error']('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x257e20['message']),_0x22f762={'_apiResponse':_0x2eceda[_0x154d26(0x28c)]};}}else _0x22f762=_0x2eceda['data'];let _0x1a7df4=_0x4b7863['chatLog'][_0x154d26(0x80e)],_0x4d7aa0=this[_0x154d26(0x2a3)](_0x22f762);return Object[_0x154d26(0x33e)](_0x1a7df4,_0x4d7aa0),_0x4b7863[_0x154d26(0x5d1)][_0x154d26(0x80e)]=_0x1a7df4,_0x54a6c6={'error':!0x1,'apiResponse':_0x22f762},this[_0x154d26(0x3da)](_0x4b7863,_0x3c8709,_0x54a6c6),_0x22f762;}if(_0x3c29bf&&(_0x3c29bf[_0x154d26(0x424)](_0x154d26(0x794))||_0x3c29bf[_0x154d26(0x424)](_0x154d26(0x56d))||_0x3c29bf[_0x154d26(0x424)]('audio')||_0x3c29bf['includes'](_0x154d26(0x2d9)))){this[_0x154d26(0x21c)]['verbose'](this[_0x154d26(0x401)]+'\x20('+this['instance'][_0x154d26(0x4d4)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x3c29bf);let _0x42fb20=(0x0,Me['v4'])(),_0x4865f0='',_0x13f587={'image/jpeg':_0x154d26(0x53e),'image/png':_0x154d26(0x292),'image/gif':_0x154d26(0x271),'image/webp':_0x154d26(0x3f4),'image/svg+xml':_0x154d26(0x634),'audio/mpeg':_0x154d26(0x36c),'audio/ogg':_0x154d26(0x73b),'audio/wav':_0x154d26(0x7db),'video/mp4':'.mp4','video/webm':_0x154d26(0x504),'video/ogg':'.ogv','text/plain':_0x154d26(0x667),'application/pdf':_0x154d26(0x4e0),'application/msword':_0x154d26(0x38f),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x154d26(0x231),'application/vnd.ms-excel':_0x154d26(0x69f),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x154d26(0x513),'application/vnd.ms-powerpoint':_0x154d26(0x361),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x13f587[_0x3c29bf]?(_0x4865f0=_0x13f587[_0x3c29bf],this['logger'][_0x154d26(0x6cf)](this['instanceName']+'\x20('+this[_0x154d26(0x257)][_0x154d26(0x4d4)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x4865f0)):(_0x4865f0=_0x154d26(0x6c4),this[_0x154d26(0x21c)][_0x154d26(0x6cf)](this[_0x154d26(0x401)]+'\x20('+this[_0x154d26(0x257)]['wuid']+_0x154d26(0x637)+_0x4865f0)),_0x42fb20+=_0x4865f0,this[_0x154d26(0x21c)][_0x154d26(0x6cf)](this[_0x154d26(0x401)]+'\x20('+this[_0x154d26(0x257)][_0x154d26(0x4d4)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x42fb20);let _0x58aee8=this['configService'][_0x154d26(0x4be)]('SERVER')['URL'];if(!_0x58aee8){let _0x436969=this[_0x154d26(0x494)]['get']('SSL_CONF');_0x58aee8=_0x154d26(0x842)+(_0x436969&&_0x436969[_0x154d26(0x25f)]['split']('/')[0x4]);}let _0x2a1796=Buffer[_0x154d26(0x2bd)](_0x2eceda[_0x154d26(0x28c)]);await this[_0x154d26(0x4fc)](_0x2a1796,_0x42fb20);let _0x3f8639=_0x154d26(0x898)+_0x42fb20;_0x3f8639=''+_0x58aee8+_0x3f8639,_0x22f762={'fileUrl':_0x3f8639},_0x4b7863[_0x154d26(0x5d1)][_0x154d26(0x80e)]['fileUrl']=_0x3f8639;let _0x16acd1=_0x4b7863[_0x154d26(0x5d1)][_0x154d26(0x80e)],_0x10ebd5=this[_0x154d26(0x2a3)](_0x22f762);return Object[_0x154d26(0x33e)](_0x16acd1,_0x10ebd5),_0x4b7863['chatLog'][_0x154d26(0x80e)]=_0x16acd1,_0x54a6c6={'error':!0x1,'apiResponse':{'fileUrl':_0x3f8639}},this['updateConversation'](_0x4b7863,_0x3c8709,_0x54a6c6),_0x22f762;}}catch(_0x2a608c){console[_0x154d26(0x617)](_0x154d26(0x456),_0x2a608c['message']),_0x2a608c[_0x154d26(0x572)]&&(_0x22f762=_0x2a608c[_0x154d26(0x572)][_0x154d26(0x28c)]);let _0x156dc0=_0x4b7863[_0x154d26(0x5d1)]['realVariables'],_0x5594c1=this['flattenObject'](_0x22f762);return Object[_0x154d26(0x33e)](_0x156dc0,_0x5594c1),_0x4b7863[_0x154d26(0x5d1)][_0x154d26(0x80e)]=_0x156dc0,_0x54a6c6={'error':!0x0,'errorLog':_0x2a608c[_0x154d26(0x894)](),'apiResponse':_0x22f762},this[_0x154d26(0x3da)](_0x4b7863,_0x3c8709,_0x54a6c6),{'success':!0x1};}}[a0_0x153f5d(0x1f8)](_0x5b0266,_0x3ef25a){const _0x112a4c=a0_0x153f5d;let _0x112d33=_0x49bd68=>{const _0x47fa24=a0_0x2486;let _0x541ab4=_0x49bd68['replace'](/[^0-9.,-]/g,'')[_0x47fa24(0x72d)](',','.'),_0x1c527f=parseFloat(_0x541ab4);return isNaN(_0x1c527f)?null:_0x1c527f;},_0x31ea5e=_0x3ef25a['firstValue'],_0x34f9ca=_0x3ef25a[_0x112a4c(0x405)];typeof _0x31ea5e==_0x112a4c(0x60d)&&(_0x31ea5e=this[_0x112a4c(0x5d4)](_0x31ea5e,_0x5b0266[_0x112a4c(0x5d1)][_0x112a4c(0x80e)])??''),typeof _0x34f9ca==_0x112a4c(0x60d)&&(_0x34f9ca=this['replaceVariables'](_0x34f9ca,_0x5b0266[_0x112a4c(0x5d1)][_0x112a4c(0x80e)])??'');let _0x45a2d3=null;if(!_0x3ef25a['editOperator'])return null;switch(this['logger'][_0x112a4c(0x6cf)](this['instanceName']+'\x20('+this[_0x112a4c(0x257)][_0x112a4c(0x4d4)]+_0x112a4c(0x387)+_0x31ea5e),this[_0x112a4c(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x112a4c(0x257)]['wuid']+_0x112a4c(0x66f)+_0x34f9ca),_0x3ef25a[_0x112a4c(0x3d7)]){case'+':case'-':case'*':case'/':let _0x48646c=_0x112d33(_0x31ea5e||'0'),_0xee58b5=_0x112d33(_0x34f9ca||'0');if(_0x48646c===null)return null;switch(_0x3ef25a[_0x112a4c(0x3d7)]){case'+':_0x45a2d3=_0x48646c+(_0xee58b5??0x0);break;case'-':_0x45a2d3=_0x48646c-(_0xee58b5??0x0);break;case'*':_0x45a2d3=_0x48646c*(_0xee58b5??0x1);break;case'/':_0xee58b5!==0x0&&(_0x45a2d3=_0x48646c/(_0xee58b5??0x1));break;}break;case _0x112a4c(0x428):case _0x112a4c(0x79b):let _0x2ec26c=_0x34f9ca,_0x4751f3=_0x3ef25a['replaceValue'];if(typeof _0x4751f3=='string'&&(_0x4751f3=this[_0x112a4c(0x5d4)](_0x4751f3,_0x5b0266[_0x112a4c(0x5d1)][_0x112a4c(0x80e)])??''),_0x2ec26c&&_0x4751f3!==void 0x0){let _0x29d3a1=_0x3ef25a[_0x112a4c(0x3d7)]===_0x112a4c(0x428)?new RegExp(_0x2ec26c[_0x112a4c(0x72d)](/[-\/\\^$*+?.()|[\]{}]/g,_0x112a4c(0x1dc)),'g'):new RegExp(_0x2ec26c,'g');_0x45a2d3=_0x31ea5e[_0x112a4c(0x72d)](_0x29d3a1,_0x4751f3);}else console[_0x112a4c(0x557)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x112a4c(0x2b2):_0x45a2d3=_0x34f9ca;break;case _0x112a4c(0x547):let _0x4ed80b=_0x31ea5e[_0x112a4c(0x20b)](new RegExp(_0x34f9ca||''));_0x45a2d3=_0x4ed80b?_0x4ed80b[0x0]:'';break;case _0x112a4c(0x4e9):_0x45a2d3=_0x31ea5e[_0x112a4c(0x34d)](0x0,parseInt(_0x34f9ca||'0'));break;case _0x112a4c(0x7c4):let _0x1cdc5c=parseInt(_0x34f9ca||'0');_0x45a2d3=_0x31ea5e[_0x112a4c(0x34d)](_0x31ea5e[_0x112a4c(0x487)]-_0x1cdc5c);break;case'toBrazilianNumberFormat':let _0x10ee9a=_0x112d33(_0x31ea5e),_0x5ebbb6=parseInt(_0x34f9ca||'0');_0x5ebbb6=Math[_0x112a4c(0x537)](_0x5ebbb6),_0x10ee9a!==null?_0x45a2d3=_0x10ee9a[_0x112a4c(0x7dd)]('pt-BR',{'minimumFractionDigits':_0x5ebbb6,'maximumFractionDigits':_0x5ebbb6}):(console[_0x112a4c(0x557)](_0x112a4c(0x366)+_0x31ea5e),_0x45a2d3=null);break;case'toBRL':let _0x664270=_0x112d33(_0x31ea5e);_0x664270!==null?_0x45a2d3=_0x664270['toLocaleString'](_0x112a4c(0x5e9),{'style':_0x112a4c(0x48b),'currency':'BRL'}):(console['warn'](_0x112a4c(0x388)+_0x31ea5e),_0x45a2d3=null);break;case _0x112a4c(0x443):_0x45a2d3=_0x31ea5e[_0x112a4c(0x70f)]();break;case _0x112a4c(0x3db):_0x45a2d3=_0x31ea5e[_0x112a4c(0x31e)]();break;case _0x112a4c(0x649):_0x45a2d3=_0x31ea5e[_0x112a4c(0x701)]('\x20')['map'](_0x2b32d7=>_0x2b32d7[_0x112a4c(0x42a)](0x0)[_0x112a4c(0x70f)]()+_0x2b32d7[_0x112a4c(0x34d)](0x1)[_0x112a4c(0x31e)]())[_0x112a4c(0x658)]('\x20');break;case _0x112a4c(0x56a):_0x45a2d3=_0x31ea5e[_0x112a4c(0x23d)]();break;default:_0x45a2d3=_0x31ea5e;}return _0x45a2d3!==null?_0x45a2d3[_0x112a4c(0x894)]():null;}async[a0_0x153f5d(0x795)](_0xbc531d,_0x4e6513){const _0x45532a=a0_0x153f5d;try{let _0x181976=_0xbc531d[_0x45532a(0x5b8)]?.[_0x45532a(0x65b)](_0x2d4295=>_0x2d4295[_0x45532a(0x234)]===_0x4e6513[_0x45532a(0x412)]?.['toString']())||[],_0x10d216=_0x4e6513[_0x45532a(0x462)],_0x283bf5=null,_0x18a416=[],_0xe7dade=_0xbc531d['chatLog'][_0x45532a(0x80e)][_0x10d216];_0x18a416[_0x45532a(0x6f8)](_0x45532a(0x7fa)+_0xe7dade+'\x22');for(let _0x48214c of _0x181976){_0x48214c[_0x45532a(0x7d7)]=_0xe7dade,_0x283bf5=_0x48214c[_0x45532a(0x7d7)];let _0x1f2fc7;try{_0x1f2fc7=this[_0x45532a(0x1f8)](_0xbc531d,_0x48214c);}catch(_0x40bae0){console[_0x45532a(0x617)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x40bae0[_0x45532a(0x690)]);continue;}if(_0x1f2fc7!==null){let _0x1989a2=_0x45532a(0x50c)+_0x48214c[_0x45532a(0x3d7)]+'\x22',_0x2673e0=[_0x45532a(0x860),_0x45532a(0x443),_0x45532a(0x3db),_0x45532a(0x649),_0x45532a(0x56a)];_0x48214c[_0x45532a(0x3d7)]==='findAndReplace'||_0x48214c[_0x45532a(0x3d7)]===_0x45532a(0x79b)?_0x1989a2+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x48214c['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x48214c[_0x45532a(0x84d)]+'\x22':!_0x2673e0[_0x45532a(0x424)](_0x48214c[_0x45532a(0x3d7)])&&_0x48214c[_0x45532a(0x405)]!==null&&_0x48214c[_0x45532a(0x405)]!==void 0x0&&(_0x1989a2+=_0x45532a(0x802)+_0x48214c[_0x45532a(0x405)]+'\x22'),_0x1989a2+=_0x45532a(0x296)+_0x1f2fc7+'.',_0x18a416['push'](_0x1989a2);}_0x1f2fc7!==null&&(_0xe7dade=_0x1f2fc7);}if(_0xbc531d[_0x45532a(0x5d1)][_0x45532a(0x80e)]&&_0x4e6513['saveVariable']){_0xbc531d[_0x45532a(0x5d1)][_0x45532a(0x80e)][_0x4e6513[_0x45532a(0x462)]]=_0xe7dade;let _0x4bd57c={'variable':_0x4e6513[_0x45532a(0x462)],'oldValue':_0x283bf5,'newValue':_0xe7dade,'moreLogs':_0x18a416};try{this[_0x45532a(0x3da)](_0xbc531d,_0x4e6513,_0x4bd57c);}catch(_0x4abfc2){console['error'](_0x45532a(0x714)+_0x4abfc2[_0x45532a(0x690)]);}}return _0x10d216;}catch(_0xa2d1fb){return console['error']('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0xa2d1fb['message']),null;}}async['processConditions'](_0x3ec7c1,_0x55dbed){const _0x2cbcb6=a0_0x153f5d;try{let _0x201bed=[],_0x2e426b=_0x3ec7c1[_0x2cbcb6(0x319)]['filter'](_0x184674=>_0x184674[_0x2cbcb6(0x234)]===_0x55dbed[_0x2cbcb6(0x412)][_0x2cbcb6(0x894)]()),_0x57f5c3=null,_0x118eb9=!0x1;for(let _0x5bc0f0 of _0x2e426b){let _0x18e008=this[_0x2cbcb6(0x897)](_0x3ec7c1,_0x5bc0f0);_0x201bed['push'](_0x2cbcb6(0x30e)+_0x5bc0f0[_0x2cbcb6(0x7d7)]+_0x2cbcb6(0x239)+_0x5bc0f0[_0x2cbcb6(0x502)]+_0x2cbcb6(0x1a3)+_0x5bc0f0[_0x2cbcb6(0x405)]+_0x2cbcb6(0x628)+_0x18e008),_0x57f5c3===null?_0x57f5c3=_0x18e008:_0x5bc0f0[_0x2cbcb6(0x309)]===_0x2cbcb6(0x7d2)?(_0x57f5c3=_0x57f5c3&&_0x18e008,_0x18e008||(_0x118eb9=!0x0)):_0x5bc0f0['OrAnd']==='or'&&(_0x118eb9||(_0x57f5c3=_0x57f5c3||_0x18e008));}_0x57f5c3===null&&(_0x57f5c3=!0x0);let _0x22dcbe={'moreLogs':_0x201bed};_0x3ec7c1[_0x2cbcb6(0x5d1)]['lastCondition']=_0x57f5c3,await this['updateConversation'](_0x3ec7c1,_0x55dbed,_0x22dcbe);}catch(_0x34f696){this[_0x2cbcb6(0x21c)][_0x2cbcb6(0x617)](this[_0x2cbcb6(0x401)]+'\x20('+this[_0x2cbcb6(0x257)][_0x2cbcb6(0x4d4)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x34f696 instanceof Error?_0x34f696['message']:JSON[_0x2cbcb6(0x706)](_0x34f696,null,0x2)));}}[a0_0x153f5d(0x897)](_0x17708,_0x1cd1f3){const _0x5a9745=a0_0x153f5d;let _0x6a5a30=_0x1cd1f3[_0x5a9745(0x7d7)],_0x3d86bb=_0x1cd1f3[_0x5a9745(0x405)];typeof _0x6a5a30==_0x5a9745(0x60d)&&(_0x6a5a30=this['replaceVariables'](_0x6a5a30,_0x17708[_0x5a9745(0x5d1)][_0x5a9745(0x80e)])??''),typeof _0x3d86bb=='string'&&(_0x3d86bb=this[_0x5a9745(0x5d4)](_0x3d86bb,_0x17708[_0x5a9745(0x5d1)][_0x5a9745(0x80e)])??'');try{switch(_0x1cd1f3[_0x5a9745(0x502)]){case _0x5a9745(0x63f):return _0x6a5a30===_0x3d86bb;case _0x5a9745(0x53f):return _0x6a5a30!==_0x3d86bb;case _0x5a9745(0x6d3):return this[_0x5a9745(0x6d3)](_0x6a5a30,_0x3d86bb);case _0x5a9745(0x6c9):return!this['contains'](_0x6a5a30,_0x3d86bb);case'greater':return parseFloat(_0x6a5a30)>parseFloat(_0x3d86bb);case _0x5a9745(0x51b):return parseFloat(_0x6a5a30)<parseFloat(_0x3d86bb);case'notEmpty':return _0x6a5a30!=='';case _0x5a9745(0x519):return _0x6a5a30==='';case _0x5a9745(0x4d6):return new RegExp(_0x3d86bb)[_0x5a9745(0x363)](_0x6a5a30);case _0x5a9745(0x4d2):return!new RegExp(_0x3d86bb)[_0x5a9745(0x363)](_0x6a5a30);default:return!0x1;}}catch(_0x1fd8f0){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x1fd8f0),!0x1;}}[a0_0x153f5d(0x6d3)](_0x486a62,_0x3b41ce){const _0x44c38e=a0_0x153f5d;if(_0x486a62===_0x3b41ce&&/^\d+$/[_0x44c38e(0x363)](_0x486a62))return!0x0;if(this[_0x44c38e(0x778)](_0x486a62)&&/^\d+$/[_0x44c38e(0x363)](_0x3b41ce)){let _0xdac466=_0x486a62['split'](',')[_0x44c38e(0x26b)](_0x1038d6=>parseInt(_0x1038d6[_0x44c38e(0x23d)]())),_0x6d93d1=parseInt(_0x3b41ce);return _0xdac466[_0x44c38e(0x424)](_0x6d93d1);}return _0x486a62['includes'](_0x3b41ce);}[a0_0x153f5d(0x778)](_0xbf4c51){const _0x158fcf=a0_0x153f5d;return/^\d+(,\d+)*$/[_0x158fcf(0x363)](_0xbf4c51);}[a0_0x153f5d(0x823)](_0x378dc3){const _0x4ef81e=a0_0x153f5d;let _0x26c811=!0x0,_0x118f42=null;for(let _0x5be5fa of _0x378dc3){let _0x231da6=this[_0x4ef81e(0x57a)](_0x5be5fa);if(_0x118f42==='or'&&_0x231da6){_0x26c811=!0x0;break;}if(_0x118f42==='and'&&!_0x231da6){_0x26c811=!0x1;break;}_0x118f42=_0x5be5fa['OrAnd'];}return _0x26c811;}[a0_0x153f5d(0x57a)](_0x4f387c){const _0x426b14=a0_0x153f5d;let _0x4a02ba=_0x4f387c[_0x426b14(0x7d7)],_0x548ad9=_0x4f387c[_0x426b14(0x405)];try{switch(_0x4f387c[_0x426b14(0x502)]){case _0x426b14(0x63f):return String(_0x4a02ba)===String(_0x548ad9);case _0x426b14(0x53f):return String(_0x4a02ba)!==String(_0x548ad9);case _0x426b14(0x6d3):return String(_0x4a02ba)[_0x426b14(0x424)](String(_0x548ad9));case _0x426b14(0x6c9):return!String(_0x4a02ba)[_0x426b14(0x424)](String(_0x548ad9));case _0x426b14(0x326):return parseFloat(String(_0x4a02ba))>parseFloat(String(_0x548ad9));case _0x426b14(0x51b):return parseFloat(String(_0x4a02ba))<parseFloat(String(_0x548ad9));case _0x426b14(0x881):return String(_0x4a02ba)!=='';case'empty':return String(_0x4a02ba)==='';case _0x426b14(0x4d6):return new RegExp(String(_0x548ad9))[_0x426b14(0x363)](String(_0x4a02ba));case _0x426b14(0x4d2):return!new RegExp(String(_0x548ad9))[_0x426b14(0x363)](String(_0x4a02ba));default:return!0x1;}}catch(_0x12550f){return console['error'](_0x426b14(0x6ab)+_0x12550f),!0x1;}}async[a0_0x153f5d(0x508)](_0x1cc4cf,_0x5823e2){const _0x3d6625=a0_0x153f5d;if(this[_0x3d6625(0x21c)]['verbose'](this[_0x3d6625(0x401)]+'\x20('+this[_0x3d6625(0x257)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x1cc4cf||!_0x5823e2)return this[_0x3d6625(0x21c)][_0x3d6625(0x617)](this[_0x3d6625(0x401)]+'\x20('+this[_0x3d6625(0x257)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4d945d=_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80d)][_0x3d6625(0x76f)]['id'];this[_0x3d6625(0x21c)][_0x3d6625(0x6cf)](this['instanceName']+'\x20('+this[_0x3d6625(0x257)][_0x3d6625(0x4d4)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x4d945d);let _0x356047={'key':{'id':_0x4d945d}},_0x121e83=_0x5823e2[_0x3d6625(0x462)];_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80e)]['_'+_0x121e83+_0x3d6625(0x7ec)]=null,_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80e)]['_'+_0x121e83+_0x3d6625(0x58e)]=null,_0x1cc4cf['chatLog']['realVariables']['_'+_0x121e83+'.extension']=null,_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80e)]['_'+_0x121e83+_0x3d6625(0x545)]=_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80d)]['type'];try{let _0x3d8c33=await this[_0x3d6625(0x214)](_0x356047);this[_0x3d6625(0x21c)][_0x3d6625(0x6cf)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3d6625(0x4ea)),_0x1cc4cf['chatLog'][_0x3d6625(0x80e)]['_'+_0x121e83+_0x3d6625(0x31f)]=_0x3d8c33[_0x3d6625(0x5fb)],_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80e)]['_'+_0x121e83+_0x3d6625(0x58e)]=_0x3d8c33[_0x3d6625(0x396)];let _0x390b1a=_0x3d8c33[_0x3d6625(0x396)][_0x3d6625(0x20b)](/\/(\w+)$/),_0x4b8441=_0x390b1a?_0x390b1a[0x1]:null;_0x1cc4cf[_0x3d6625(0x5d1)]['realVariables']['_'+_0x121e83+_0x3d6625(0x1a5)]=_0x4b8441,this[_0x3d6625(0x21c)][_0x3d6625(0x6cf)](this['instanceName']+'\x20('+this[_0x3d6625(0x257)]['wuid']+_0x3d6625(0x518)+_0x121e83+'\x27.');}catch(_0x327837){this[_0x3d6625(0x21c)][_0x3d6625(0x617)](this[_0x3d6625(0x401)]+'\x20('+this[_0x3d6625(0x257)][_0x3d6625(0x4d4)]+_0x3d6625(0x541)+_0x327837[_0x3d6625(0x690)]);}let _0x38c9ef=_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80d)]['text']||_0x1cc4cf['chatLog'][_0x3d6625(0x80d)][_0x3d6625(0x400)]||_0x1cc4cf[_0x3d6625(0x5d1)]['lastReceivedMessage'][_0x3d6625(0x70e)];try{_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80e)]||(_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80e)]={});let _0x750b9a=_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80e)][_0x121e83];_0x1cc4cf[_0x3d6625(0x5d1)][_0x3d6625(0x80e)][_0x121e83]=_0x38c9ef;let _0x1a16a4={'variable':_0x121e83,'oldValue':_0x750b9a,'newValue':_0x38c9ef};this[_0x3d6625(0x3da)](_0x1cc4cf,_0x5823e2,_0x1a16a4),this[_0x3d6625(0x21c)][_0x3d6625(0x6cf)](this['instanceName']+'\x20('+this[_0x3d6625(0x257)]['wuid']+_0x3d6625(0x51a));}catch(_0x10fd3d){let _0x3499ae={'error':!0x0,'errorLog':_0x10fd3d[_0x3d6625(0x894)]()};return this['updateConversation'](_0x1cc4cf,_0x5823e2,_0x3499ae),this[_0x3d6625(0x21c)][_0x3d6625(0x617)](this[_0x3d6625(0x401)]+'\x20('+this[_0x3d6625(0x257)][_0x3d6625(0x4d4)]+_0x3d6625(0x585)+(_0x10fd3d instanceof Error?_0x10fd3d[_0x3d6625(0x690)]:JSON[_0x3d6625(0x706)](_0x10fd3d,null,0x2))),null;}}async[a0_0x153f5d(0x228)](_0x3483a0,_0x56e17e){const _0x4b9ab7=a0_0x153f5d;if(this['logger'][_0x4b9ab7(0x6cf)](this[_0x4b9ab7(0x401)]+'\x20('+this['instance'][_0x4b9ab7(0x4d4)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x3483a0||!_0x56e17e)return this[_0x4b9ab7(0x21c)][_0x4b9ab7(0x617)](this[_0x4b9ab7(0x401)]+'\x20('+this[_0x4b9ab7(0x257)][_0x4b9ab7(0x4d4)]+_0x4b9ab7(0x82c)),null;let _0x3d33a1=Date['now'](),_0x1f96b6=parseInt(_0x56e17e[_0x4b9ab7(0x419)],0xa);if(isNaN(_0x1f96b6))return this[_0x4b9ab7(0x21c)][_0x4b9ab7(0x617)](this['instanceName']+'\x20('+this[_0x4b9ab7(0x257)][_0x4b9ab7(0x4d4)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x4eeae5={'newStoppedUntil':_0x3d33a1+_0x1f96b6*0x3c*0x3e8};return await this[_0x4b9ab7(0x3da)](_0x3483a0,_0x56e17e,_0x4eeae5,!0x0),null;}async[a0_0x153f5d(0x66c)](_0x21713d,_0x1ef9d2){const _0x45c1cf=a0_0x153f5d;try{switch(_0x1ef9d2['uazapi'][_0x45c1cf(0x594)]){case _0x45c1cf(0x226):await this[_0x45c1cf(0x283)](_0x21713d,_0x1ef9d2);break;case _0x45c1cf(0x858):await this[_0x45c1cf(0x21a)](_0x21713d,_0x1ef9d2);break;case _0x45c1cf(0x500):await this[_0x45c1cf(0x482)](_0x21713d,_0x1ef9d2);break;case _0x45c1cf(0x75c):await this[_0x45c1cf(0x384)](_0x21713d,_0x1ef9d2);break;case'sendContact':await this[_0x45c1cf(0x6fd)](_0x21713d,_0x1ef9d2);break;case _0x45c1cf(0x32c):await this['uazapiSendMenu'](_0x21713d,_0x1ef9d2);break;case _0x45c1cf(0x37c):await this[_0x45c1cf(0x2d4)](_0x21713d,_0x1ef9d2);break;case _0x45c1cf(0x694):await this[_0x45c1cf(0x5fa)](_0x21713d,_0x1ef9d2);break;default:this[_0x45c1cf(0x21c)][_0x45c1cf(0x617)](this['instanceName']+'\x20('+this[_0x45c1cf(0x257)][_0x45c1cf(0x4d4)]+_0x45c1cf(0x1aa)+_0x1ef9d2[_0x45c1cf(0x4f6)][_0x45c1cf(0x594)]);}}catch(_0xd10c16){this[_0x45c1cf(0x21c)][_0x45c1cf(0x617)](this[_0x45c1cf(0x401)]+'\x20('+this[_0x45c1cf(0x257)][_0x45c1cf(0x4d4)]+_0x45c1cf(0x6d0)+(_0xd10c16 instanceof Error?_0xd10c16[_0x45c1cf(0x690)]:JSON[_0x45c1cf(0x706)](_0xd10c16,null,0x2)));}}async[a0_0x153f5d(0x3da)](_0x5e9d0a,_0x40a963,_0x571bab,_0x4e3081=!0x1,_0x61efa9=!0x1){const _0xd0722=a0_0x153f5d;_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x280)]||(_0x5e9d0a['chatLog']['blockLogs']=[]);let _0x40f891=(_0x5e9d0a[_0xd0722(0x5d1)]['blockLogs']?.[_0xd0722(0x487)]??0x0)+0x1,_0x54d625=_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x280)][_0xd0722(0x65b)](_0x4e7800=>String(_0x4e7800['blockId'])===String(_0x40a963[_0xd0722(0x412)]))[_0xd0722(0x487)]+0x1,_0x30a34a=_0x571bab?.['onTime']??Date[_0xd0722(0x2fb)](),_0x1c99bd=_0x571bab?.[_0xd0722(0x617)]?_0x571bab[_0xd0722(0x548)]??_0x571bab[_0xd0722(0x617)]['toString']():void 0x0,_0x4e616f={'onTime':_0x30a34a,'blockId':_0x40a963['_id'],'order':_0x40f891,'activatedCount':_0x54d625,'error':_0x571bab?.[_0xd0722(0x617)]??!0x1,'messageId':_0x571bab?.[_0xd0722(0x55f)],'apiResponse':_0x571bab?.[_0xd0722(0x5cf)],'apiResponseString':_0x571bab?.[_0xd0722(0x5cf)]?JSON[_0xd0722(0x706)](_0x571bab?.[_0xd0722(0x5cf)]):void 0x0,'variable':_0x571bab?.[_0xd0722(0x1d0)],'oldValue':_0x571bab?.['oldValue'],'newValue':_0x571bab?.[_0xd0722(0x27f)],'newStoppedUntil':_0x571bab?.[_0xd0722(0x861)],'moreLogs':_0x571bab?.[_0xd0722(0x647)],'errorLog':_0x1c99bd};if(_0x571bab[_0xd0722(0x647)]&&_0x571bab[_0xd0722(0x647)]['length']>0x0){let _0x202460=_0x571bab[_0xd0722(0x647)][_0xd0722(0x26b)](_0x424262=>this[_0xd0722(0x788)](_0x424262,_0x5e9d0a['chatLog'][_0xd0722(0x80e)]));_0x4e616f[_0xd0722(0x647)]=_0x202460;}if(_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80e)]||(_0x5e9d0a[_0xd0722(0x5d1)]['realVariables']={}),_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80e)][_0xd0722(0x503)]=String(_0x54d625),_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80e)][_0xd0722(0x3c8)]=String(_0x571bab['error']??!0x1),_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x280)][_0xd0722(0x6f8)](_0x4e616f),_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80e)][_0xd0722(0x81a)]&&_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80e)][_0xd0722(0x81a)]!==_0x5e9d0a[_0xd0722(0x28b)]){let _0x551ee2=(await this['whatsappNumber']({'numbers':[_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80e)][_0xd0722(0x81a)]]}))[0x0][_0xd0722(0x5ea)];_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80e)][_0xd0722(0x81a)]=_0x551ee2,_0x5e9d0a[_0xd0722(0x28b)]=_0x551ee2;try{let _0x237320={'_id':{'$ne':_0x5e9d0a['_id']},'remoteJid':_0x551ee2,'status':_0xd0722(0x5ef)},_0x2028b8={'status':_0xd0722(0x40c)};await this[_0xd0722(0x2aa)]['flowConversation'][_0xd0722(0x21d)](_0x237320,_0x2028b8,this[_0xd0722(0x257)][_0xd0722(0x4d4)]),this[_0xd0722(0x21c)]['verbose'](this[_0xd0722(0x401)]+'\x20('+this[_0xd0722(0x257)][_0xd0722(0x4d4)]+_0xd0722(0x35b));}catch(_0x10fb05){this[_0xd0722(0x21c)]['error'](this[_0xd0722(0x401)]+'\x20('+this[_0xd0722(0x257)]['wuid']+_0xd0722(0x6cd)+_0x10fb05[_0xd0722(0x690)]);}try{let _0x34a4f1=_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80e)],_0x133579=await this[_0xd0722(0x204)](_0x551ee2),_0x26c6ac={..._0x34a4f1,..._0x133579,'_remoteJid':_0x551ee2};_0x5e9d0a['chatLog'][_0xd0722(0x80e)]=_0x26c6ac;}catch(_0xd0279c){this[_0xd0722(0x21c)][_0xd0722(0x617)](this['instanceName']+'\x20('+this[_0xd0722(0x257)][_0xd0722(0x4d4)]+_0xd0722(0x8a3)+_0xd0279c[_0xd0722(0x690)]);}}_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x347)]=_0x40a963['_id']['toString'](),_0x5e9d0a[_0xd0722(0x5d1)]['lastSendMessage']&&(_0x5e9d0a[_0xd0722(0x5d1)]['lastSendMessage']=_0x5e9d0a['chatLog'][_0xd0722(0x538)]),_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80d)]&&(_0x5e9d0a['chatLog'][_0xd0722(0x80d)]=_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x80d)]),_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x641)]&&(_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x641)]=_0x5e9d0a[_0xd0722(0x5d1)][_0xd0722(0x641)]),_0x61efa9&&(_0x5e9d0a['status']=_0xd0722(0x40c)),_0x4e3081?this['saveConversationToDatabase'](_0x5e9d0a):this[_0xd0722(0x57b)](_0x5e9d0a,_0x40a963);}['replaceVariablesLogs'](_0x2d8568,_0x384d91){const _0x2baa06=a0_0x153f5d;return _0x2d8568[_0x2baa06(0x72d)](/\{\{([^}]+)\}\}/g,(_0x9712b4,_0x3c2af3)=>_0x384d91[_0x3c2af3]?'{{'+_0x3c2af3+'}}\x20->\x20\x22'+_0x384d91[_0x3c2af3]+'\x22':'{{'+_0x3c2af3+_0x2baa06(0x620));}async['saveConversationToDatabase'](_0x24c449){const _0x28ac56=a0_0x153f5d;try{let _0x10edb1=Object[_0x28ac56(0x32f)](_0x24c449[_0x28ac56(0x5d1)]['realVariables'])[_0x28ac56(0x26b)](([_0x1b6292,_0x371701])=>({'name':_0x1b6292,'value':_0x371701})),_0x4e1be9={'status':_0x24c449['status'],'remoteJid':_0x24c449[_0x28ac56(0x28b)],'blocks':_0x24c449['blocks'],'waitingMenu_id':_0x24c449[_0x28ac56(0x389)],'waitingMenu_text':_0x24c449[_0x28ac56(0x6db)],'waitingMenu_replyOptions':_0x24c449[_0x28ac56(0x318)],'chatLog':{'lastBlockId':_0x24c449[_0x28ac56(0x5d1)][_0x28ac56(0x347)],'lastSendMessage':_0x24c449[_0x28ac56(0x5d1)]['lastSendMessage'],'lastReceivedMessage':_0x24c449['chatLog'][_0x28ac56(0x80d)],'lastCondition':_0x24c449[_0x28ac56(0x5d1)]['lastCondition'],'chatVariables':_0x10edb1,'realVariables':_0x24c449[_0x28ac56(0x5d1)][_0x28ac56(0x80e)],'blockLogs':_0x24c449[_0x28ac56(0x5d1)][_0x28ac56(0x280)]}},_0x543041=await this['repository'][_0x28ac56(0x70a)][_0x28ac56(0x499)](_0x24c449['_id'],_0x4e1be9,this['instance']['wuid']);if(_0x543041){this[_0x28ac56(0x21c)][_0x28ac56(0x6cf)](this['instanceName']+'\x20('+this[_0x28ac56(0x257)][_0x28ac56(0x4d4)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x543041['_id']);try{let _0x41ad3f=['nome',_0x28ac56(0x6ca),'email',_0x28ac56(0x62f),_0x28ac56(0x5d0),_0x28ac56(0x439),_0x28ac56(0x54b),_0x28ac56(0x2a5),_0x28ac56(0x4d8),_0x28ac56(0x24e)];if(!this['AutomateSystem']&&(await this[_0x28ac56(0x343)](),!this[_0x28ac56(0x2a6)]))throw new Error(_0x28ac56(0x209));let _0x26a8c5=this['AutomateSystem']?.[_0x28ac56(0x666)][_0x28ac56(0x26b)](_0x8b2f87=>_0x8b2f87[_0x28ac56(0x525)]),_0x1b4a92={};Object['entries'](_0x24c449[_0x28ac56(0x5d1)][_0x28ac56(0x80e)])['forEach'](([_0x154b7e,_0xf5da55])=>{const _0x525f6a=_0x28ac56;_0x41ad3f['includes'](_0x154b7e)&&(_0x154b7e===_0x525f6a(0x2a5)&&typeof _0xf5da55==_0x525f6a(0x60d)?_0x1b4a92[_0x154b7e]=_0xf5da55[_0x525f6a(0x701)](',')[_0x525f6a(0x26b)](_0x267d89=>_0x267d89[_0x525f6a(0x23d)]())[_0x525f6a(0x65b)](_0x521775=>_0x521775!==''):_0x154b7e===_0x525f6a(0x4d8)&&typeof _0xf5da55==_0x525f6a(0x60d)?_0x1b4a92[_0x154b7e]=_0xf5da55[_0x525f6a(0x701)](',')[_0x525f6a(0x26b)](_0x5047f5=>_0x5047f5['trim']())[_0x525f6a(0x65b)](_0x5ad441=>_0x5ad441!==''):_0x1b4a92[_0x154b7e]=_0xf5da55);});let _0x17eae3=_0x24c449[_0x28ac56(0x5d1)][_0x28ac56(0x280)][_0x24c449[_0x28ac56(0x5d1)][_0x28ac56(0x280)]['length']-0x1];if(_0x17eae3){let _0x23680f=_0x17eae3[_0x28ac56(0x861)];_0x23680f!==void 0x0&&(_0x1b4a92[_0x28ac56(0x4f9)]=_0x23680f[_0x28ac56(0x894)]());}let _0x4d0b5d=_0x10edb1['filter'](_0x200412=>_0x26a8c5[_0x28ac56(0x424)](_0x200412[_0x28ac56(0x525)]));this[_0x28ac56(0x21c)][_0x28ac56(0x6cf)](this['instanceName']+'\x20('+this[_0x28ac56(0x257)][_0x28ac56(0x4d4)]+'):\x20leadInfoVariables'),this[_0x28ac56(0x21c)]['verbose'](_0x1b4a92),this[_0x28ac56(0x21c)][_0x28ac56(0x6cf)](this[_0x28ac56(0x401)]+'\x20('+this[_0x28ac56(0x257)][_0x28ac56(0x4d4)]+_0x28ac56(0x598)),this[_0x28ac56(0x21c)][_0x28ac56(0x6cf)](_0x4d0b5d);let _0x100dca=_0x4d0b5d['map'](_0x42285f=>{const _0x1148b5=_0x28ac56;let _0x3d3813=this['AutomateSystem']?.[_0x1148b5(0x666)][_0x1148b5(0x84e)](_0x149f07=>_0x149f07[_0x1148b5(0x525)]===_0x42285f[_0x1148b5(0x525)]);if(!_0x3d3813)throw new Error(_0x1148b5(0x26f)+_0x42285f[_0x1148b5(0x525)]);return{'_id':_0x3d3813[_0x1148b5(0x412)],'value':_0x42285f['value']};});this[_0x28ac56(0x21c)][_0x28ac56(0x6cf)](this[_0x28ac56(0x401)]+'\x20('+this['instance'][_0x28ac56(0x4d4)]+_0x28ac56(0x2d5)),this[_0x28ac56(0x21c)]['verbose'](_0x100dca),await this[_0x28ac56(0x698)](_0x24c449[_0x28ac56(0x28b)],_0x1b4a92,_0x100dca);}catch(_0x4c9e83){this['logger'][_0x28ac56(0x617)](this['instanceName']+'\x20('+this[_0x28ac56(0x257)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x4c9e83 instanceof Error?_0x4c9e83['message']:JSON[_0x28ac56(0x706)](_0x4c9e83,null,0x2)));}}else this['logger'][_0x28ac56(0x617)](this[_0x28ac56(0x401)]+'\x20('+this[_0x28ac56(0x257)][_0x28ac56(0x4d4)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0xfe823a){this[_0x28ac56(0x21c)][_0x28ac56(0x617)](this[_0x28ac56(0x401)]+'\x20('+this[_0x28ac56(0x257)][_0x28ac56(0x4d4)]+_0x28ac56(0x592)+(_0xfe823a instanceof Error?_0xfe823a[_0x28ac56(0x690)]:JSON[_0x28ac56(0x706)](_0xfe823a,null,0x2)));}}async['saveChatVariables'](_0x3e057d,_0x4ee2d5,_0x25dd05){const _0xcad065=a0_0x153f5d;try{let _0xc4d649={'leadInfo.leadnome':_0x4ee2d5[_0xcad065(0x770)],'leadInfo.nomecompleto':_0x4ee2d5[_0xcad065(0x6ca)],'leadInfo.email':_0x4ee2d5[_0xcad065(0x721)],'leadInfo.cpf':_0x4ee2d5[_0xcad065(0x62f)],'leadInfo.status':_0x4ee2d5[_0xcad065(0x5d0)],'leadInfo.notas':_0x4ee2d5['notas'],'leadInfo.responsavelid':_0x4ee2d5[_0xcad065(0x54b)],'leadInfo.tags':_0x4ee2d5[_0xcad065(0x2a5)],'leadInfo.etiquetas':_0x4ee2d5[_0xcad065(0x4d8)],'leadInfo.customFields':_0x25dd05,'leadInfo.atendimentoAberto':_0x4ee2d5['atendimentoAberto']},_0x3cd617=await this['repository'][_0xcad065(0x2ab)][_0xcad065(0x88a)]({'where':{'_id':_0x3e057d}},this[_0xcad065(0x257)][_0xcad065(0x4d4)]);if(!_0x3cd617)return'chat\x20não\x20encontrado';let _0x162091=new Set(_0x3cd617[_0xcad065(0x69b)][_0xcad065(0x4d8)]||[]),_0x179a75=new Set(_0x4ee2d5[_0xcad065(0x4d8)]||[]),_0x387a25=await this[_0xcad065(0x2aa)][_0xcad065(0x19d)][_0xcad065(0x84e)]({'where':{}},this['instance']['wuid']),_0x53fb39=new Set(_0x387a25[_0xcad065(0x26b)](_0xcd2366=>_0xcd2366['_id'])),_0x48e9d8=[..._0x179a75][_0xcad065(0x65b)](_0x53ae0b=>!_0x162091[_0xcad065(0x4ca)](_0x53ae0b)&&_0x53fb39['has'](_0x53ae0b)),_0x1b152c=[..._0x162091][_0xcad065(0x65b)](_0x52c0c2=>!_0x179a75['has'](_0x52c0c2));for(let _0x37c8ee of _0x48e9d8)await this[_0xcad065(0x408)](_0x37c8ee,_0x3cd617[_0xcad065(0x412)]),_0x162091[_0xcad065(0x59b)](_0x37c8ee);for(let _0x1320a1 of _0x1b152c)await this['RemoveChatLabel'](_0x1320a1,_0x3cd617[_0xcad065(0x412)]),_0x162091[_0xcad065(0x435)](_0x1320a1);if(_0xcad065(0x4f9)in _0x4ee2d5){let _0x54cd90=_0x4ee2d5[_0xcad065(0x4f9)];_0xc4d649[_0xcad065(0x3cc)]=_0x54cd90?Number(_0x54cd90):null;}if(_0xcad065(0x24e)in _0x4ee2d5){let _0x18dd1b=_0x4ee2d5[_0xcad065(0x24e)][_0xcad065(0x31e)]();_0xc4d649['leadInfo.atendimentoAberto']=_0x18dd1b===_0xcad065(0x62e)||_0x18dd1b==='1'||_0x18dd1b===_0xcad065(0x838)||_0x18dd1b===_0xcad065(0x485);}let _0x5cc344=await this['repository'][_0xcad065(0x2ab)][_0xcad065(0x499)]({'where':{'_id':_0x3e057d}},_0xc4d649,this['instance'][_0xcad065(0x4d4)]);_0x5cc344?(this['logger'][_0xcad065(0x6cf)](this[_0xcad065(0x401)]+'\x20('+this[_0xcad065(0x257)][_0xcad065(0x4d4)]+_0xcad065(0x82a)+_0x5cc344[_0xcad065(0x412)]),J(this[_0xcad065(0x401)],_0xcad065(0x7a3),{'chat':_0x5cc344})):this[_0xcad065(0x21c)][_0xcad065(0x617)](this[_0xcad065(0x401)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x9d6281){this[_0xcad065(0x21c)][_0xcad065(0x617)](this[_0xcad065(0x401)]+'\x20('+this['instance']['wuid']+_0xcad065(0x27a)+(_0x9d6281 instanceof Error?_0x9d6281[_0xcad065(0x690)]:JSON[_0xcad065(0x706)](_0x9d6281,null,0x2)));}}async[a0_0x153f5d(0x38e)](_0x941ceb,_0x27a5e4){const _0x48e449=a0_0x153f5d;this[_0x48e449(0x21c)]['verbose'](this[_0x48e449(0x401)]+'\x20('+this[_0x48e449(0x257)][_0x48e449(0x4d4)]+_0x48e449(0x578)+_0x27a5e4);try{let _0x9c0ec9=await this[_0x48e449(0x2aa)]['chat'][_0x48e449(0x499)]({'where':{'_id':_0x941ceb[_0x48e449(0x28b)]}},{'leadInfo.desativadoFluxoAte':_0x27a5e4},this[_0x48e449(0x257)][_0x48e449(0x4d4)]);this[_0x48e449(0x21c)][_0x48e449(0x6cf)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x941ceb[_0x48e449(0x412)]),this[_0x48e449(0x21c)][_0x48e449(0x6cf)](this['instanceName']+'\x20('+this[_0x48e449(0x257)][_0x48e449(0x4d4)]+_0x48e449(0x578)+JSON['stringify'](_0x9c0ec9,null,0x2)),_0x9c0ec9&&J(this[_0x48e449(0x401)],'chats',{'chat':_0x9c0ec9});}catch(_0x276094){this[_0x48e449(0x21c)][_0x48e449(0x617)](this[_0x48e449(0x401)]+'\x20('+this[_0x48e449(0x257)][_0x48e449(0x4d4)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x276094 instanceof Error?_0x276094[_0x48e449(0x690)]:JSON[_0x48e449(0x706)](_0x276094,null,0x2)));}}async[a0_0x153f5d(0x7d8)](_0x2eb209){const _0x536b88=a0_0x153f5d;try{this[_0x536b88(0x21c)]['verbose'](this[_0x536b88(0x401)]+'\x20('+this[_0x536b88(0x257)][_0x536b88(0x4d4)]+'):\x20Buscando\x20flow...');let _0x7f218a=_0x2eb209[_0x536b88(0x72d)](/\D/g,''),_0x1187d4=await this[_0x536b88(0x2aa)][_0x536b88(0x52d)][_0x536b88(0x88a)]({'where':{'testingWith':_0x7f218a}},this[_0x536b88(0x257)][_0x536b88(0x4d4)]);return _0x1187d4||(this[_0x536b88(0x21c)][_0x536b88(0x6cf)](this[_0x536b88(0x401)]+'\x20('+this['instance'][_0x536b88(0x4d4)]+_0x536b88(0x338)),_0x1187d4=await this[_0x536b88(0x2aa)][_0x536b88(0x52d)][_0x536b88(0x88a)]({'where':{'default':!0x0}},this[_0x536b88(0x257)]['wuid'])),_0x1187d4||(this[_0x536b88(0x21c)][_0x536b88(0x6cf)](this[_0x536b88(0x401)]+'\x20('+this['instance'][_0x536b88(0x4d4)]+_0x536b88(0x3be)),null);}catch(_0x15151f){return this[_0x536b88(0x21c)][_0x536b88(0x617)](this[_0x536b88(0x401)]+'\x20('+this[_0x536b88(0x257)][_0x536b88(0x4d4)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x15151f instanceof Error?_0x15151f[_0x536b88(0x690)]:JSON['stringify'](_0x15151f,null,0x2))),null;}}async['findConversation'](_0x339f84,_0x4afd1b){const _0x5915b2=a0_0x153f5d;try{let _0x4ae615=!!_0x4afd1b[_0x5915b2(0x70e)],_0x1e2c60=_0x4afd1b[_0x5915b2(0x7b4)],_0x24877e=null;if(this[_0x5915b2(0x21c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5915b2(0x4d4)]+_0x5915b2(0x4b1)+_0x4ae615+_0x5915b2(0x64f)+_0x1e2c60),_0x4ae615){this[_0x5915b2(0x21c)][_0x5915b2(0x6cf)](this['instanceName']+'\x20('+this[_0x5915b2(0x257)]['wuid']+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x10fa58={'where':{'remoteJid':_0x339f84,'waitingMenu_id':_0x1e2c60}};if(_0x24877e=await this[_0x5915b2(0x2aa)]['flowConversation'][_0x5915b2(0x88a)](_0x10fa58,this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]),!_0x24877e)return this[_0x5915b2(0x21c)][_0x5915b2(0x6cf)](this[_0x5915b2(0x401)]+'\x20('+this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]+'):\x20não\x20encontrou'),null;let _0x407ca6=Date[_0x5915b2(0x2fb)](),_0x51f7ed=_0x24877e?.[_0x5915b2(0x527)]||0x0,_0x42ec4c=_0x407ca6-_0x51f7ed*0x3c*0x3e8;if(_0x24877e[_0x5915b2(0x54e)]<_0x42ec4c){this[_0x5915b2(0x21c)][_0x5915b2(0x6cf)](this[_0x5915b2(0x401)]+'\x20('+this['instance'][_0x5915b2(0x4d4)]+_0x5915b2(0x67a));let _0x136326={'number':_0x24877e['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x24877e[_0x5915b2(0x66d)]}};await this[_0x5915b2(0x3a5)](_0x136326);let _0x5d8670={'status':_0x5915b2(0x40c),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x5915b2(0x2aa)][_0x5915b2(0x70a)][_0x5915b2(0x499)](_0x24877e[_0x5915b2(0x412)],_0x5d8670,this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]),null;}return _0x24877e[_0x5915b2(0x54e)]=Date[_0x5915b2(0x2fb)](),_0x24877e[_0x5915b2(0x5d1)][_0x5915b2(0x80d)]=_0x4afd1b,_0x24877e;}else{this[_0x5915b2(0x21c)]['verbose'](this[_0x5915b2(0x401)]+'\x20('+this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]+_0x5915b2(0x342)+this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]+_0x5915b2(0x61f)),this['logger'][_0x5915b2(0x6cf)](this[_0x5915b2(0x401)]+'\x20('+this['instance'][_0x5915b2(0x4d4)]+_0x5915b2(0x774));let _0x34f5c9={'where':{'remoteJid':_0x339f84,'status':_0x5915b2(0x5ef)}};if(_0x24877e=await this['repository'][_0x5915b2(0x70a)][_0x5915b2(0x88a)](_0x34f5c9,this['instance'][_0x5915b2(0x4d4)]),!_0x24877e){let _0x80aac=await this[_0x5915b2(0x7d8)](_0x339f84);if(_0x80aac&&(_0x24877e=await this[_0x5915b2(0x5a2)](_0x80aac,_0x4afd1b[_0x5915b2(0x76f)],_0x4afd1b)),!_0x24877e)return null;}let _0x45a973=Date[_0x5915b2(0x2fb)](),_0x4159ea=_0x24877e?.[_0x5915b2(0x527)]||0x0,_0x2aec8f=_0x45a973-_0x4159ea*0x3c*0x3e8;if(this[_0x5915b2(0x21c)][_0x5915b2(0x6cf)](this[_0x5915b2(0x401)]+'\x20('+this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]+'):\x20Current\x20Time:\x20'+_0x45a973+_0x5915b2(0x6c7)+_0x4159ea+_0x5915b2(0x259)+_0x2aec8f),this[_0x5915b2(0x21c)][_0x5915b2(0x6cf)](this[_0x5915b2(0x401)]+'\x20('+this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]+_0x5915b2(0x5b6)),this['logger'][_0x5915b2(0x6cf)](this[_0x5915b2(0x401)]+'\x20('+this['instance'][_0x5915b2(0x4d4)]+_0x5915b2(0x3fa)+_0x24877e[_0x5915b2(0x54e)]),this['logger'][_0x5915b2(0x6cf)](this['instanceName']+'\x20('+this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]+_0x5915b2(0x3f5)+_0x2aec8f),_0x24877e[_0x5915b2(0x54e)]<_0x2aec8f){this[_0x5915b2(0x21c)]['verbose'](this[_0x5915b2(0x401)]+'\x20('+this['instance'][_0x5915b2(0x4d4)]+_0x5915b2(0x4a4));let _0x49cdc6=await this['findFlow'](_0x339f84);if(_0x49cdc6===null)return null;_0x24877e&&await this['repository'][_0x5915b2(0x70a)][_0x5915b2(0x499)](_0x24877e[_0x5915b2(0x412)],{'status':_0x5915b2(0x40c)},this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]),_0x24877e=await this[_0x5915b2(0x5a2)](_0x49cdc6,_0x4afd1b[_0x5915b2(0x76f)],_0x4afd1b);}return _0x24877e[_0x5915b2(0x54e)]=_0x45a973,_0x24877e[_0x5915b2(0x5d1)]['lastReceivedMessage']=_0x4afd1b,_0x24877e;}}catch(_0x5c2ead){return this['logger'][_0x5915b2(0x617)](this[_0x5915b2(0x401)]+'\x20('+this[_0x5915b2(0x257)][_0x5915b2(0x4d4)]+_0x5915b2(0x762)+(_0x5c2ead instanceof Error?_0x5c2ead[_0x5915b2(0x690)]:JSON[_0x5915b2(0x706)](_0x5c2ead,null,0x2))),null;}}async[a0_0x153f5d(0x5a2)](_0x33f324,_0x217205,_0x4e0e48){const _0x483426=a0_0x153f5d;this['logger'][_0x483426(0x6cf)](this[_0x483426(0x401)]+'\x20('+this[_0x483426(0x257)]['wuid']+_0x483426(0x708));try{let _0x4c52d1=require(_0x483426(0x1c7))['ObjectId'],_0x492d0a=Date[_0x483426(0x2fb)](),_0x126b22='start',_0x732feb=_0x217205[_0x483426(0x78a)]?null:_0x4e0e48,_0x31d1b8=_0x217205[_0x483426(0x78a)]?_0x4e0e48:null,_0x5d1c58=_0x217205[_0x483426(0x28b)];await this[_0x483426(0x2c2)](_0x5d1c58);let _0x4d7495={..._0x33f324,'chatLog':null},_0x11f53d=await this[_0x483426(0x642)](_0x4d7495['variables']),_0x48bd4c=await this[_0x483426(0x204)](_0x5d1c58),_0x18dfd7={..._0x11f53d,..._0x48bd4c,'_remoteJid':_0x5d1c58},_0x1f5689={'lastReceivedMessage':_0x732feb,'lastSendMessage':_0x31d1b8,'lastBlockId':_0x126b22,'lastCondition':!0x0,'realVariables':_0x18dfd7};_0x4d7495['chatLog']=_0x1f5689,delete _0x4d7495[_0x483426(0x412)],_0x4d7495['_id']=new _0x4c52d1(),_0x4d7495[_0x483426(0x54e)]=_0x492d0a,_0x4d7495[_0x483426(0x5d0)]=_0x483426(0x5ef),_0x4d7495[_0x483426(0x28b)]=_0x5d1c58;let _0x3f5e22=await this[_0x483426(0x2aa)][_0x483426(0x70a)][_0x483426(0x499)](_0x4d7495[_0x483426(0x412)],_0x4d7495,this[_0x483426(0x257)][_0x483426(0x4d4)]);return this[_0x483426(0x21c)][_0x483426(0x6cf)](this['instanceName']+'\x20('+this[_0x483426(0x257)][_0x483426(0x4d4)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x3f5e22?_0x4d7495:null;}catch(_0x4bcee0){return this[_0x483426(0x21c)][_0x483426(0x617)](this[_0x483426(0x401)]+'\x20('+this[_0x483426(0x257)]['wuid']+_0x483426(0x29a)+(_0x4bcee0 instanceof Error?_0x4bcee0[_0x483426(0x690)]:JSON[_0x483426(0x706)](_0x4bcee0,null,0x2))),_0x4bcee0;}}async[a0_0x153f5d(0x283)](_0x72373e,_0x58ea06){const _0x1d06eb=a0_0x153f5d;let _0x3049ee=_0x72373e['remoteJid'];_0x58ea06['uazapi']['remoteJid']&&_0x58ea06[_0x1d06eb(0x4f6)][_0x1d06eb(0x28b)][_0x1d06eb(0x23d)]()!==''&&(_0x3049ee=_0x58ea06[_0x1d06eb(0x4f6)][_0x1d06eb(0x28b)][_0x1d06eb(0x23d)]()),this['logger']['verbose'](this[_0x1d06eb(0x401)]+'\x20('+this[_0x1d06eb(0x257)][_0x1d06eb(0x4d4)]+_0x1d06eb(0x210));let _0x5446db={'number':_0x3049ee,'options':{'delay':_0x58ea06[_0x1d06eb(0x4f6)][_0x1d06eb(0x33c)],'linkPreview':_0x58ea06['uazapi']['linkPreview']},'textMessage':{'text':_0x58ea06[_0x1d06eb(0x4f6)][_0x1d06eb(0x30b)]}};try{let _0xa77287=await this[_0x1d06eb(0x3a5)](_0x5446db);if(_0xa77287){let _0x459ef5={'_id':_0xa77287[_0x1d06eb(0x76f)]['id'],'_fromMe':_0xa77287[_0x1d06eb(0x76f)]['fromMe'],'_remoteJid':_0xa77287[_0x1d06eb(0x76f)][_0x1d06eb(0x28b)]},_0x4d6082=(0x0,w[_0x1d06eb(0x6d5)])(_0xa77287[_0x1d06eb(0x690)]),_0x5bc783=(0x0,w[_0x1d06eb(0x23c)])(_0x4d6082);_0x72373e[_0x1d06eb(0x5d1)][_0x1d06eb(0x347)]=_0x58ea06[_0x1d06eb(0x412)][_0x1d06eb(0x894)]();let {message_normalized:_0x5f1710}=this[_0x1d06eb(0x3f1)](_0x4d6082,_0x5bc783,null);_0x72373e['chatLog'][_0x1d06eb(0x538)]=await _0x5f1710;let _0x286998={'messageId':_0xa77287[_0x1d06eb(0x76f)]['id']},_0x30eb65=_0x72373e[_0x1d06eb(0x5d1)][_0x1d06eb(0x80e)];Object[_0x1d06eb(0x33e)](_0x30eb65,_0x459ef5),_0x72373e[_0x1d06eb(0x5d1)][_0x1d06eb(0x80e)]=_0x30eb65,this['updateConversation'](_0x72373e,_0x58ea06,_0x286998);}else{let _0x3d3287={'error':!0x0};this[_0x1d06eb(0x3da)](_0x72373e,_0x58ea06,_0x3d3287),this[_0x1d06eb(0x21c)][_0x1d06eb(0x617)](this[_0x1d06eb(0x401)]+'\x20('+this['instance'][_0x1d06eb(0x4d4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x2109ba){let _0x2f355e={'error':!0x0,'errorLog':_0x2109ba[_0x1d06eb(0x894)]()};this[_0x1d06eb(0x3da)](_0x72373e,_0x58ea06,_0x2f355e),this[_0x1d06eb(0x21c)][_0x1d06eb(0x617)](this[_0x1d06eb(0x401)]+'\x20('+this[_0x1d06eb(0x257)][_0x1d06eb(0x4d4)]+_0x1d06eb(0x602)+(_0x2109ba instanceof Error?_0x2109ba[_0x1d06eb(0x690)]:JSON[_0x1d06eb(0x706)](_0x2109ba,null,0x2)));}}async[a0_0x153f5d(0x21a)](_0xb5376,_0x3b4f55){const _0x13fb2f=a0_0x153f5d;let _0x4d1cdf=_0xb5376[_0x13fb2f(0x28b)];_0x3b4f55[_0x13fb2f(0x4f6)][_0x13fb2f(0x28b)]&&_0x3b4f55[_0x13fb2f(0x4f6)][_0x13fb2f(0x28b)]['trim']()!==''&&(_0x4d1cdf=_0x3b4f55[_0x13fb2f(0x4f6)][_0x13fb2f(0x28b)]['trim']()),this[_0x13fb2f(0x21c)][_0x13fb2f(0x6cf)](this[_0x13fb2f(0x401)]+'\x20('+this[_0x13fb2f(0x257)][_0x13fb2f(0x4d4)]+'):\x20Enviando\x20mídia');let _0x119c90={'number':_0x4d1cdf,'options':{'delay':_0x3b4f55[_0x13fb2f(0x4f6)]['delay'],'linkPreview':_0x3b4f55[_0x13fb2f(0x4f6)]['linkPreview']},'mediaMessage':{'mediatype':_0x3b4f55[_0x13fb2f(0x4f6)][_0x13fb2f(0x689)],'caption':_0x3b4f55[_0x13fb2f(0x4f6)][_0x13fb2f(0x400)],'media':_0x3b4f55[_0x13fb2f(0x4f6)]['media'],'fileName':_0x3b4f55[_0x13fb2f(0x4f6)]['fileName']}};try{let _0x52ac09=await this[_0x13fb2f(0x1f7)](_0x119c90);if(_0x52ac09){let _0xd468={'_id':_0x52ac09['key']['id'],'_fromMe':_0x52ac09[_0x13fb2f(0x76f)][_0x13fb2f(0x78a)],'_remoteJid':_0x52ac09[_0x13fb2f(0x76f)][_0x13fb2f(0x28b)]},_0x52d020=(0x0,w[_0x13fb2f(0x6d5)])(_0x52ac09[_0x13fb2f(0x690)]),_0x21a601=(0x0,w[_0x13fb2f(0x23c)])(_0x52d020);_0xb5376['chatLog']['lastBlockId']=_0x3b4f55[_0x13fb2f(0x412)]['toString']();let {message_normalized:_0x39b9d5}=this[_0x13fb2f(0x3f1)](_0x52d020,_0x21a601,null);_0xb5376[_0x13fb2f(0x5d1)][_0x13fb2f(0x538)]=await _0x39b9d5;let _0x300b7a={'messageId':_0x52ac09[_0x13fb2f(0x76f)]['id']},_0x39d93c=_0xb5376['chatLog'][_0x13fb2f(0x80e)];Object[_0x13fb2f(0x33e)](_0x39d93c,_0xd468),_0xb5376[_0x13fb2f(0x5d1)][_0x13fb2f(0x80e)]=_0x39d93c,this[_0x13fb2f(0x3da)](_0xb5376,_0x3b4f55,_0x300b7a);}else{let _0x47ccc4={'error':!0x0};this[_0x13fb2f(0x3da)](_0xb5376,_0x3b4f55,_0x47ccc4),this[_0x13fb2f(0x21c)][_0x13fb2f(0x617)](this[_0x13fb2f(0x401)]+'\x20('+this[_0x13fb2f(0x257)][_0x13fb2f(0x4d4)]+_0x13fb2f(0x78d));}}catch(_0x5f3ccd){let _0x80eadf={'error':!0x0,'errorLog':_0x5f3ccd['toString']()};this[_0x13fb2f(0x3da)](_0xb5376,_0x3b4f55,_0x80eadf),this[_0x13fb2f(0x21c)][_0x13fb2f(0x617)](this[_0x13fb2f(0x401)]+'\x20('+this['instance'][_0x13fb2f(0x4d4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x5f3ccd instanceof Error?_0x5f3ccd[_0x13fb2f(0x690)]:JSON[_0x13fb2f(0x706)](_0x5f3ccd,null,0x2)));}}async[a0_0x153f5d(0x482)](_0x1add3a,_0xe8644b){const _0x458ca4=a0_0x153f5d;let _0x356114=_0x1add3a[_0x458ca4(0x28b)];_0xe8644b[_0x458ca4(0x4f6)][_0x458ca4(0x28b)]&&_0xe8644b['uazapi'][_0x458ca4(0x28b)]['trim']()!==''&&(_0x356114=_0xe8644b['uazapi'][_0x458ca4(0x28b)][_0x458ca4(0x23d)]()),this[_0x458ca4(0x21c)][_0x458ca4(0x6cf)](this[_0x458ca4(0x401)]+'\x20('+this['instance'][_0x458ca4(0x4d4)]+_0x458ca4(0x671));let _0x12cb4c={'number':_0x356114,'options':{'delay':_0xe8644b[_0x458ca4(0x4f6)]['delay']},'locationMessage':{'name':_0xe8644b['uazapi'][_0x458ca4(0x525)],'address':_0xe8644b['uazapi']['address'],'latitude':_0xe8644b[_0x458ca4(0x4f6)][_0x458ca4(0x682)],'longitude':_0xe8644b[_0x458ca4(0x4f6)]['longitude']}};try{let _0x3d08d5=await this[_0x458ca4(0x6a9)](_0x12cb4c);if(_0x3d08d5){let _0x315185={'_id':_0x3d08d5[_0x458ca4(0x76f)]['id'],'_fromMe':_0x3d08d5[_0x458ca4(0x76f)][_0x458ca4(0x78a)],'_remoteJid':_0x3d08d5[_0x458ca4(0x76f)][_0x458ca4(0x28b)]},_0x274a7c=(0x0,w[_0x458ca4(0x6d5)])(_0x3d08d5[_0x458ca4(0x690)]),_0x1e44e5=(0x0,w['getContentType'])(_0x274a7c);_0x1add3a[_0x458ca4(0x5d1)][_0x458ca4(0x347)]=_0xe8644b[_0x458ca4(0x412)][_0x458ca4(0x894)]();let {message_normalized:_0x35366e}=this[_0x458ca4(0x3f1)](_0x274a7c,_0x1e44e5,null);_0x1add3a[_0x458ca4(0x5d1)][_0x458ca4(0x538)]=await _0x35366e;let _0x14c68a={'messageId':_0x3d08d5[_0x458ca4(0x76f)]['id']},_0x158e4c=_0x1add3a[_0x458ca4(0x5d1)][_0x458ca4(0x80e)];Object[_0x458ca4(0x33e)](_0x158e4c,_0x315185),_0x1add3a['chatLog'][_0x458ca4(0x80e)]=_0x158e4c,this[_0x458ca4(0x3da)](_0x1add3a,_0xe8644b,_0x14c68a);}else{let _0x4f41a8={'error':!0x0};this[_0x458ca4(0x3da)](_0x1add3a,_0xe8644b,_0x4f41a8),this[_0x458ca4(0x21c)]['error'](this['instanceName']+'\x20('+this['instance'][_0x458ca4(0x4d4)]+_0x458ca4(0x7bd));}}catch(_0x268819){let _0xdbd15f={'error':!0x0,'errorLog':_0x268819[_0x458ca4(0x894)]()};this['updateConversation'](_0x1add3a,_0xe8644b,_0xdbd15f),this[_0x458ca4(0x21c)][_0x458ca4(0x617)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x458ca4(0x6e6)+(_0x268819 instanceof Error?_0x268819[_0x458ca4(0x690)]:JSON[_0x458ca4(0x706)](_0x268819,null,0x2)));}}async[a0_0x153f5d(0x384)](_0x28ad64,_0x2f3f95){const _0xf8390a=a0_0x153f5d;let _0x2061ed=_0x28ad64[_0xf8390a(0x28b)];_0x2f3f95[_0xf8390a(0x4f6)][_0xf8390a(0x28b)]&&_0x2f3f95[_0xf8390a(0x4f6)]['remoteJid'][_0xf8390a(0x23d)]()!==''&&(_0x2061ed=_0x2f3f95['uazapi'][_0xf8390a(0x28b)][_0xf8390a(0x23d)]()),this['logger'][_0xf8390a(0x6cf)](this['instanceName']+'\x20('+this[_0xf8390a(0x257)][_0xf8390a(0x4d4)]+_0xf8390a(0x22b));let _0x1cdf7c={'number':_0x2061ed,'options':{'delay':_0x2f3f95['uazapi']['delay']},'audioMessage':{'audio':_0x2f3f95['uazapi']['audio']}};try{let _0x2b84cf=await this['audioWhatsapp'](_0x1cdf7c);if(_0x2b84cf){let _0x143d4d={'_id':_0x2b84cf['key']['id'],'_fromMe':_0x2b84cf[_0xf8390a(0x76f)]['fromMe'],'_remoteJid':_0x2b84cf[_0xf8390a(0x76f)][_0xf8390a(0x28b)]},_0x110fad=(0x0,w['normalizeMessageContent'])(_0x2b84cf[_0xf8390a(0x690)]),_0x4b6e73=(0x0,w[_0xf8390a(0x23c)])(_0x110fad);_0x28ad64['chatLog'][_0xf8390a(0x347)]=_0x2f3f95[_0xf8390a(0x412)][_0xf8390a(0x894)]();let {message_normalized:_0xb9c33a}=this[_0xf8390a(0x3f1)](_0x110fad,_0x4b6e73,null);_0x28ad64[_0xf8390a(0x5d1)][_0xf8390a(0x538)]=await _0xb9c33a;let _0x375e39={'messageId':_0x2b84cf[_0xf8390a(0x76f)]['id']},_0x2af736=_0x28ad64[_0xf8390a(0x5d1)][_0xf8390a(0x80e)];Object[_0xf8390a(0x33e)](_0x2af736,_0x143d4d),_0x28ad64[_0xf8390a(0x5d1)][_0xf8390a(0x80e)]=_0x2af736,this[_0xf8390a(0x3da)](_0x28ad64,_0x2f3f95,_0x375e39);}else{let _0x3b590d={'error':!0x0};this['updateConversation'](_0x28ad64,_0x2f3f95,_0x3b590d),this[_0xf8390a(0x21c)][_0xf8390a(0x617)](this[_0xf8390a(0x401)]+'\x20('+this['instance'][_0xf8390a(0x4d4)]+_0xf8390a(0x312));}}catch(_0x93b932){let _0x5eedda={'error':!0x0,'errorLog':_0x93b932['toString']()};this['updateConversation'](_0x28ad64,_0x2f3f95,_0x5eedda),this['logger'][_0xf8390a(0x617)](this[_0xf8390a(0x401)]+'\x20('+this[_0xf8390a(0x257)][_0xf8390a(0x4d4)]+_0xf8390a(0x2d7)+(_0x93b932 instanceof Error?_0x93b932[_0xf8390a(0x690)]:JSON[_0xf8390a(0x706)](_0x93b932,null,0x2)));}}async['uazapiSendContact'](_0x2b5573,_0x2b44f4){const _0x3e3c5e=a0_0x153f5d;let _0x1bd9b7=_0x2b5573[_0x3e3c5e(0x28b)];_0x2b44f4['uazapi']['remoteJid']&&_0x2b44f4['uazapi'][_0x3e3c5e(0x28b)][_0x3e3c5e(0x23d)]()!==''&&(_0x1bd9b7=_0x2b44f4['uazapi'][_0x3e3c5e(0x28b)][_0x3e3c5e(0x23d)]()),this[_0x3e3c5e(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x3e3c5e(0x257)][_0x3e3c5e(0x4d4)]+_0x3e3c5e(0x564));let _0x275345={'number':_0x1bd9b7,'options':{'delay':_0x2b44f4[_0x3e3c5e(0x4f6)][_0x3e3c5e(0x33c)]},'contactMessage':[{'fullName':_0x2b44f4[_0x3e3c5e(0x4f6)][_0x3e3c5e(0x2bb)],'phoneNumber':_0x2b44f4['uazapi'][_0x3e3c5e(0x55a)]}]};try{let _0x6e1932=await this[_0x3e3c5e(0x446)](_0x275345);if(_0x6e1932){let _0x2751d3={'_id':_0x6e1932[_0x3e3c5e(0x76f)]['id'],'_fromMe':_0x6e1932[_0x3e3c5e(0x76f)][_0x3e3c5e(0x78a)],'_remoteJid':_0x6e1932[_0x3e3c5e(0x76f)][_0x3e3c5e(0x28b)]},_0x1a020a=(0x0,w[_0x3e3c5e(0x6d5)])(_0x6e1932[_0x3e3c5e(0x690)]),_0x225f17=(0x0,w['getContentType'])(_0x1a020a);_0x2b5573[_0x3e3c5e(0x5d1)][_0x3e3c5e(0x347)]=_0x2b44f4[_0x3e3c5e(0x412)][_0x3e3c5e(0x894)]();let {message_normalized:_0x121647}=this['normalizeMessage'](_0x1a020a,_0x225f17,null);_0x2b5573[_0x3e3c5e(0x5d1)][_0x3e3c5e(0x538)]=await _0x121647;let _0x1fe5fd={'messageId':_0x6e1932[_0x3e3c5e(0x76f)]['id']},_0x48757d=_0x2b5573[_0x3e3c5e(0x5d1)][_0x3e3c5e(0x80e)];Object[_0x3e3c5e(0x33e)](_0x48757d,_0x2751d3),_0x2b5573[_0x3e3c5e(0x5d1)][_0x3e3c5e(0x80e)]=_0x48757d,this['updateConversation'](_0x2b5573,_0x2b44f4,_0x1fe5fd);}else{let _0x528711={'error':!0x0};this[_0x3e3c5e(0x3da)](_0x2b5573,_0x2b44f4,_0x528711),this[_0x3e3c5e(0x21c)][_0x3e3c5e(0x617)](this[_0x3e3c5e(0x401)]+'\x20('+this[_0x3e3c5e(0x257)][_0x3e3c5e(0x4d4)]+_0x3e3c5e(0x2c9));}}catch(_0x4ceff1){let _0xb9d17f={'error':!0x0,'errorLog':_0x4ceff1[_0x3e3c5e(0x894)]()};this['updateConversation'](_0x2b5573,_0x2b44f4,_0xb9d17f),this['logger'][_0x3e3c5e(0x617)](this[_0x3e3c5e(0x401)]+'\x20('+this[_0x3e3c5e(0x257)][_0x3e3c5e(0x4d4)]+_0x3e3c5e(0x48f)+(_0x4ceff1 instanceof Error?_0x4ceff1[_0x3e3c5e(0x690)]:JSON['stringify'](_0x4ceff1,null,0x2)));}}[a0_0x153f5d(0x87d)](_0x274379,_0x3fc2c0){const _0xfc9da8=a0_0x153f5d;for(let _0x4be0d1 of _0x274379)_0x4be0d1[_0xfc9da8(0x71c)]&&(_0x4be0d1[_0xfc9da8(0x71c)]=this[_0xfc9da8(0x5d4)](_0x4be0d1[_0xfc9da8(0x71c)],_0x3fc2c0)),_0x4be0d1['optionDescription']&&(_0x4be0d1[_0xfc9da8(0x799)]=this[_0xfc9da8(0x5d4)](_0x4be0d1[_0xfc9da8(0x799)],_0x3fc2c0));}async[a0_0x153f5d(0x2d4)](_0x13e97f,_0xfa6769){const _0x155e12=a0_0x153f5d;let _0x142ed3=_0x13e97f['remoteJid'];_0xfa6769['uazapi'][_0x155e12(0x28b)]&&_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x28b)]['trim']()!==''&&(_0x142ed3=_0xfa6769['uazapi'][_0x155e12(0x28b)][_0x155e12(0x23d)]()),this['logger'][_0x155e12(0x6cf)](this['instanceName']+'\x20('+this[_0x155e12(0x257)][_0x155e12(0x4d4)]+_0x155e12(0x4ec));let _0x12419=_0x13e97f[_0x155e12(0x5c8)]['filter'](_0x846ac=>_0x846ac[_0x155e12(0x234)]===_0xfa6769[_0x155e12(0x412)])[_0x155e12(0x6da)]((_0x13f0db,_0x285ef9)=>_0x13f0db['order']-_0x285ef9[_0x155e12(0x344)]);this[_0x155e12(0x87d)](_0x12419,_0x13e97f[_0x155e12(0x5d1)]['realVariables']);let _0x3a3230=_0x12419[_0x155e12(0x26b)](_0x2fca29=>_0x2fca29[_0x155e12(0x71c)]),_0x5b292a={'number':_0x142ed3,'menuMessage':{'type':_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x668)]||_0x155e12(0x746),'text':_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x30b)]||_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x525)],'footerText':_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x252)],'buttonText':_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x688)],'selectableCount':0x1,'choices':_0x3a3230},'options':{'delay':_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x33c)]}};try{let _0x2fbeaf=await this[_0x155e12(0x769)](_0x5b292a);if(_0x2fbeaf){let _0x405963={'_id':_0x2fbeaf['key']['id'],'_fromMe':_0x2fbeaf[_0x155e12(0x76f)]['fromMe'],'_remoteJid':_0x2fbeaf[_0x155e12(0x76f)][_0x155e12(0x28b)]};_0xfa6769['uazapi'][_0x155e12(0x76d)]===!0x0&&(_0x13e97f['status']=_0x155e12(0x304),this[_0x155e12(0x21c)][_0x155e12(0x6cf)](this[_0x155e12(0x401)]+'\x20('+this[_0x155e12(0x257)][_0x155e12(0x4d4)]+_0x155e12(0x6f3)+_0x13e97f[_0x155e12(0x5d0)])),this['logger']['verbose'](this[_0x155e12(0x401)]+'\x20('+this['instance'][_0x155e12(0x4d4)]+_0x155e12(0x4ee)+(_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x525)]||_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x30b)])),_0x13e97f[_0x155e12(0x389)]=_0x2fbeaf[_0x155e12(0x76f)]['id'],_0x13e97f['waitingMenu_text']=_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x525)]||_0xfa6769[_0x155e12(0x4f6)][_0x155e12(0x30b)],_0x13e97f['waitingMenu_replyOptions']=_0x12419,_0xfa6769[_0x155e12(0x4f6)]['menuExpiredMessage']&&(_0x13e97f['waitingMenu_ExpiredMessage']=_0xfa6769[_0x155e12(0x4f6)]['menuExpiredMessage']),this[_0x155e12(0x21c)][_0x155e12(0x6cf)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x155e12(0x276)+_0x13e97f[_0x155e12(0x6db)]);let _0x598cb8=(0x0,w[_0x155e12(0x6d5)])(_0x2fbeaf[_0x155e12(0x690)]),_0x4b6b40=(0x0,w['getContentType'])(_0x598cb8);_0x13e97f[_0x155e12(0x5d1)]['lastBlockId']=_0xfa6769['_id'][_0x155e12(0x894)]();let {message_normalized:_0x53a868}=this[_0x155e12(0x3f1)](_0x598cb8,_0x4b6b40,null);_0x13e97f[_0x155e12(0x5d1)][_0x155e12(0x538)]=await _0x53a868;let _0x1c6af4={'messageId':_0x2fbeaf[_0x155e12(0x76f)]['id']},_0x419475=_0x13e97f[_0x155e12(0x5d1)][_0x155e12(0x80e)];Object[_0x155e12(0x33e)](_0x419475,_0x405963),_0x13e97f['chatLog'][_0x155e12(0x80e)]=_0x419475,this[_0x155e12(0x3da)](_0x13e97f,_0xfa6769,_0x1c6af4);}else{let _0x165cb0={'error':!0x0};this[_0x155e12(0x3da)](_0x13e97f,_0xfa6769,_0x165cb0),this[_0x155e12(0x21c)][_0x155e12(0x617)](this['instanceName']+'\x20('+this[_0x155e12(0x257)][_0x155e12(0x4d4)]+_0x155e12(0x372));}}catch(_0x248509){let _0x13ab76={'error':!0x0,'errorLog':_0x248509 instanceof Error?_0x248509[_0x155e12(0x690)]:JSON[_0x155e12(0x706)](_0x248509,null,0x2)};this[_0x155e12(0x3da)](_0x13e97f,_0xfa6769,_0x13ab76),this[_0x155e12(0x21c)][_0x155e12(0x617)](this['instanceName']+'\x20('+this[_0x155e12(0x257)][_0x155e12(0x4d4)]+_0x155e12(0x7f1)+(_0x248509 instanceof Error?_0x248509[_0x155e12(0x690)]:JSON[_0x155e12(0x706)](_0x248509,null,0x2)));}}async[a0_0x153f5d(0x5fa)](_0x331751,_0x8aca67){const _0x589afc=a0_0x153f5d;this['logger'][_0x589afc(0x6cf)](this['instanceName']+'\x20('+this[_0x589afc(0x257)][_0x589afc(0x4d4)]+_0x589afc(0x886));let _0x4353ca=_0x331751[_0x589afc(0x5d1)][_0x589afc(0x280)][_0x589afc(0x84e)](_0x532991=>_0x532991['blockId'][_0x589afc(0x894)]()===_0x8aca67[_0x589afc(0x4f6)][_0x589afc(0x234)][_0x589afc(0x894)]()),_0x5e786b={'id':_0x4353ca[_0x589afc(0x55f)],'remoteJid':_0x4353ca[_0x589afc(0x28b)],'fromMe':_0x4353ca[_0x589afc(0x78a)]};try{let _0x568f56=await this[_0x589afc(0x694)](_0x5e786b);if(_0x568f56){let _0x3128ee=(0x0,w[_0x589afc(0x6d5)])(_0x568f56[_0x589afc(0x690)]),_0x1cebb6=(0x0,w[_0x589afc(0x23c)])(_0x3128ee);_0x331751['chatLog']['lastBlockId']=_0x8aca67[_0x589afc(0x412)][_0x589afc(0x894)]();let {message_normalized:_0x910715}=this[_0x589afc(0x3f1)](_0x3128ee,_0x1cebb6,null);_0x331751[_0x589afc(0x5d1)][_0x589afc(0x538)]=await _0x910715;let _0x180f2d={};this[_0x589afc(0x3da)](_0x331751,_0x8aca67,_0x180f2d);}else{let _0xf6cd6b={'error':!0x0};this[_0x589afc(0x3da)](_0x331751,_0x8aca67,_0xf6cd6b),this[_0x589afc(0x21c)][_0x589afc(0x617)](this[_0x589afc(0x401)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0xd11761){let _0x44ceb3={'error':!0x0,'errorLog':_0xd11761 instanceof Error?_0xd11761[_0x589afc(0x690)]:JSON[_0x589afc(0x706)](_0xd11761,null,0x2)};this['updateConversation'](_0x331751,_0x8aca67,_0x44ceb3),this[_0x589afc(0x21c)][_0x589afc(0x617)](this['instanceName']+'\x20('+this[_0x589afc(0x257)]['wuid']+_0x589afc(0x3a7)+(_0xd11761 instanceof Error?_0xd11761[_0x589afc(0x690)]:JSON[_0x589afc(0x706)](_0xd11761,null,0x2)));}}async[a0_0x153f5d(0x3cd)](_0x59a52c,_0x51a04d){const _0xadc88=a0_0x153f5d;if(!_0x59a52c['name'])throw new m(_0xadc88(0x58f));let _0x41e071=_0x59a52c?.[_0xadc88(0x61d)]?.[_0xadc88(0x23d)]()===_0xadc88(0x62e)?_0xadc88(0x61d):this['instance']['wuid'],_0x422111=await this[_0xadc88(0x2aa)]['flow']['findOne']({'where':{'name':_0x59a52c['name']}},_0x41e071);if(_0x51a04d!==ee&&_0x59a52c?.[_0xadc88(0x61d)]===_0xadc88(0x62e))throw new m(_0xadc88(0x2c4));if(_0x59a52c?.[_0xadc88(0x61d)]!==_0xadc88(0x62e)&&(_0x59a52c['global']='false'),_0x422111)throw new m('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return'name'in _0x59a52c&&_0xadc88(0x822)in _0x59a52c&&_0xadc88(0x874)in _0x59a52c?this[_0xadc88(0x7e7)](_0x59a52c[_0xadc88(0x874)],_0x59a52c['sharePass'],_0x59a52c['name']):this[_0xadc88(0x6c3)](_0x59a52c);}async[a0_0x153f5d(0x7e7)](_0x387266,_0x2d5054,_0x2782ca){const _0x50312c=a0_0x153f5d;try{this[_0x50312c(0x21c)]['verbose'](this[_0x50312c(0x401)]+'\x20('+this[_0x50312c(0x257)]['wuid']+_0x50312c(0x1c2));let _0x3b35d2=await this['repository'][_0x50312c(0x52d)]['findOne']({'where':{'sharePass':_0x2d5054}},_0x387266);if(!_0x3b35d2)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x482d79={..._0x3b35d2},_0x41302=_0x3b35d2[_0x50312c(0x61d)]==='true'?_0x50312c(0x61d):_0x3b35d2[_0x50312c(0x874)];return(_0x387266===_0x50312c(0x61d)||_0x3b35d2[_0x50312c(0x61d)]===_0x50312c(0x62e))&&(_0x482d79[_0x50312c(0x61d)]=_0x50312c(0x2bf),_0x482d79[_0x50312c(0x874)]=_0x50312c(0x61d)),_0x482d79[_0x50312c(0x7c9)]=Array['from'](new Set([..._0x3b35d2['shareOwners']||[],_0x41302,this[_0x50312c(0x257)][_0x50312c(0x4d4)]])),_0x3b35d2[_0x50312c(0x7c9)]=_0x482d79[_0x50312c(0x7c9)],await this[_0x50312c(0x2aa)]['flow'][_0x50312c(0x499)](_0x3b35d2[_0x50312c(0x412)],{'shareOwners':_0x3b35d2[_0x50312c(0x7c9)]},_0x41302),_0x3b35d2[_0x50312c(0x2b3)]===!0x0&&await this[_0x50312c(0x2aa)][_0x50312c(0x52d)][_0x50312c(0x21d)]({},{'default':!0x1},this['instance']['wuid']),_0x482d79['owner']=this[_0x50312c(0x257)][_0x50312c(0x4d4)],await this[_0x50312c(0x2aa)][_0x50312c(0x52d)][_0x50312c(0x5bf)](_0x482d79,this[_0x50312c(0x257)][_0x50312c(0x4d4)]);}catch(_0xa3fef4){let _0x2bb237=_0x50312c(0x825),_0x1c7dae=_0xa3fef4 instanceof Error?_0xa3fef4[_0x50312c(0x690)]:typeof _0xa3fef4==_0x50312c(0x5dc)?JSON['stringify'](_0xa3fef4):_0xa3fef4,_0x181664=_0x2bb237+':\x20'+_0x1c7dae;throw this['logger'][_0x50312c(0x617)](this[_0x50312c(0x401)]+'\x20('+this[_0x50312c(0x257)][_0x50312c(0x4d4)]+'):\x20'+_0x181664),new m(_0x181664);}}async[a0_0x153f5d(0x6c3)](_0x5a7cce){const _0x8302bf=a0_0x153f5d;try{this[_0x8302bf(0x21c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x8302bf(0x4d4)]+_0x8302bf(0x324));let _0x413219=_0x5a7cce?.[_0x8302bf(0x61d)]===_0x8302bf(0x62e)?_0x8302bf(0x61d):this[_0x8302bf(0x257)]['wuid'];delete _0x5a7cce[_0x8302bf(0x7c9)],delete _0x5a7cce[_0x8302bf(0x822)],delete _0x5a7cce['owner'],_0x5a7cce[_0x8302bf(0x2b3)]===!0x0&&await this[_0x8302bf(0x2aa)]['flow'][_0x8302bf(0x21d)]({},{'default':!0x1},this[_0x8302bf(0x257)]['wuid']);let _0x57c81d=new oe[(_0x8302bf(0x677))]['ObjectId'](),_0x121f28={'_id':_0x57c81d,'default':!0x0,'title':_0x8302bf(0x7b7),'x':0x0,'y':0x0},_0x5c8d7b={'_id':new oe[(_0x8302bf(0x677))]['ObjectId'](),'order':0x1,'groupId':_0x57c81d[_0x8302bf(0x894)](),'type':_0x8302bf(0x756)},_0x21bb63={'_id':new oe[(_0x8302bf(0x677))][(_0x8302bf(0x437))](),'owner':this[_0x8302bf(0x257)][_0x8302bf(0x4d4)],'name':_0x5a7cce[_0x8302bf(0x525)],'groups':[_0x121f28],'blocks':[_0x5c8d7b],..._0x5a7cce};return await this[_0x8302bf(0x2aa)]['flow']['createAndSave'](_0x21bb63,_0x413219);}catch(_0x14edfc){let _0x10dc9e=_0x8302bf(0x831),_0x4f8f05=_0x14edfc instanceof Error?_0x14edfc[_0x8302bf(0x690)]:typeof _0x14edfc=='object'?JSON[_0x8302bf(0x706)](_0x14edfc):_0x14edfc,_0x491431=_0x10dc9e+':\x20'+_0x4f8f05;throw this[_0x8302bf(0x21c)][_0x8302bf(0x617)](this[_0x8302bf(0x401)]+'\x20('+this['instance']['wuid']+_0x8302bf(0x342)+_0x491431),new m(_0x491431);}}async[a0_0x153f5d(0x1fe)](_0x1d8e8f,_0x4c3cb5){const _0x4bac06=a0_0x153f5d;this[_0x4bac06(0x21c)]['info']('entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos');try{let _0x462b6e=await this[_0x4bac06(0x2aa)][_0x4bac06(0x52d)][_0x4bac06(0x88a)]({'where':{'_id':_0x1d8e8f}},_0x4c3cb5);if(delete _0x462b6e['default'],delete _0x462b6e[_0x4bac06(0x3fc)],delete _0x462b6e['testingWith'],delete _0x462b6e['minutesToClose'],delete _0x462b6e[_0x4bac06(0x2d0)],_0x462b6e[_0x4bac06(0x61d)]==='true'&&(_0x462b6e['global']=_0x4bac06(0x2bf)),_0x462b6e&&_0x462b6e['shareOwners']){for(let _0xd977f1 of _0x462b6e[_0x4bac06(0x7c9)])if(_0xd977f1!==_0x4c3cb5){let _0x2d31ae={..._0x462b6e,'owner':_0xd977f1};await this['repository'][_0x4bac06(0x52d)][_0x4bac06(0x562)](_0x462b6e['_id'],_0x2d31ae,_0xd977f1);}}}catch(_0x3a0293){this[_0x4bac06(0x21c)][_0x4bac06(0x617)](_0x4bac06(0x7a0)+_0x3a0293);}}async[a0_0x153f5d(0x4f3)](_0x8c948f,_0x5db8ef){const _0xca9c03=a0_0x153f5d;try{this['logger']['verbose'](this[_0xca9c03(0x401)]+'\x20('+this[_0xca9c03(0x257)][_0xca9c03(0x4d4)]+_0xca9c03(0x844)+_0x8c948f[_0xca9c03(0x525)]+_0xca9c03(0x542)+_0x8c948f['global']);let _0x553718=_0x8c948f[_0xca9c03(0x61d)]===_0xca9c03(0x62e)?_0xca9c03(0x61d):this['instance']['wuid'],_0x4390c8=await this[_0xca9c03(0x2aa)][_0xca9c03(0x52d)][_0xca9c03(0x88a)]({'where':{'name':_0x8c948f['name']}},_0x553718);if(!_0x4390c8)throw new m(_0xca9c03(0x792));if(_0x5db8ef!==ee&&_0x4390c8?.['global']===_0xca9c03(0x62e)&&_0x4390c8?.[_0xca9c03(0x874)]!==this[_0xca9c03(0x257)][_0xca9c03(0x4d4)])throw new m('Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global');if(_0x4390c8&&_0x4390c8[_0xca9c03(0x7c9)]&&_0x4390c8[_0xca9c03(0x7c9)][_0xca9c03(0x487)]>0x0){for(let _0x79026e of _0x4390c8[_0xca9c03(0x7c9)])if(_0x79026e!==_0x553718){let _0x922429=await this[_0xca9c03(0x2aa)][_0xca9c03(0x52d)][_0xca9c03(0x88a)]({'where':{'sharePass':_0x4390c8['sharePass']}},_0x79026e);if(_0x922429){_0x922429[_0xca9c03(0x7c9)]=_0x922429[_0xca9c03(0x7c9)][_0xca9c03(0x65b)](_0x2851fa=>_0x2851fa!==_0x4390c8['owner']);let _0x490b54={'shareOwners':_0x922429[_0xca9c03(0x7c9)]};_0x4390c8['global']===_0xca9c03(0x62e)&&(_0x490b54[_0xca9c03(0x61d)]=_0xca9c03(0x441)),await this['repository'][_0xca9c03(0x52d)]['updateOne'](_0x922429['_id'],_0x490b54,_0x79026e);}}}return await this[_0xca9c03(0x2aa)][_0xca9c03(0x52d)]['deleteOne']({'where':{'name':_0x8c948f[_0xca9c03(0x525)]}},_0x553718);}catch(_0xe2940b){return this[_0xca9c03(0x21c)][_0xca9c03(0x617)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xca9c03(0x33b)+(_0xe2940b instanceof Error?_0xe2940b[_0xca9c03(0x690)]:JSON[_0xca9c03(0x706)](_0xe2940b,null,0x2))),{'message':_0xca9c03(0x48d)+_0xe2940b[_0xca9c03(0x690)]};}}async['getFlow'](_0x40e6a8,_0x25c2e1){const _0xd400e=a0_0x153f5d;try{this[_0xd400e(0x21c)][_0xd400e(0x4e8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xd400e(0x402)+_0x40e6a8+_0xd400e(0x1c4)+_0x25c2e1);let _0x5d03fa=_0x25c2e1?.[_0xd400e(0x23d)]()===_0xd400e(0x62e)?_0xd400e(0x61d):this[_0xd400e(0x257)][_0xd400e(0x4d4)],_0x51d3c9=await this[_0xd400e(0x2aa)][_0xd400e(0x52d)]['findOne']({'where':{'name':_0x40e6a8}},_0x5d03fa);if(!_0x51d3c9)throw new Error(_0xd400e(0x467));if(_0x51d3c9[_0xd400e(0x4c6)]||(_0x51d3c9[_0xd400e(0x4c6)]=(0x0,Me['v4'])()),!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0xd400e(0x2a6)]))return null;let _0x285fc7=this[_0xd400e(0x2a6)]?.[_0xd400e(0x666)][_0xd400e(0x26b)](_0x318c68=>_0x318c68[_0xd400e(0x525)]),_0x2e3d2c=['nome',_0xd400e(0x6ca),_0xd400e(0x721),_0xd400e(0x62f),'status',_0xd400e(0x439),_0xd400e(0x54b),_0xd400e(0x2a5),'etiquetas','telefone','atendimentoAberto'];_0x51d3c9[_0xd400e(0x20a)]=_0x51d3c9[_0xd400e(0x20a)][_0xd400e(0x65b)](_0x2bbcc3=>!(_0x2bbcc3['folder']===_0xd400e(0x69b)||_0x2bbcc3[_0xd400e(0x69b)])),_0x2e3d2c[_0xd400e(0x42e)](_0x59d12c=>{const _0x2c848a=_0xd400e;_0x51d3c9[_0x2c848a(0x20a)]['push']({'folder':_0x2c848a(0x69b),'name':_0x59d12c,'value':'','doc':'','leadInfo':!0x0});}),_0x285fc7['forEach'](_0x4e3379=>{const _0x195902=_0xd400e;let _0x1f2d07=_0x51d3c9['variables']['findIndex'](_0x2919bd=>_0x2919bd[_0x195902(0x525)]===_0x4e3379);_0x1f2d07===-0x1?_0x51d3c9[_0x195902(0x20a)][_0x195902(0x6f8)]({'folder':'leadInfo','name':_0x4e3379,'value':'','doc':'','leadInfo':!0x0}):(_0x51d3c9[_0x195902(0x20a)][_0x1f2d07][_0x195902(0x660)]=_0x195902(0x69b),_0x51d3c9[_0x195902(0x20a)][_0x1f2d07]['leadInfo']=!0x0);}),_0x51d3c9[_0xd400e(0x84c)]&&_0x51d3c9[_0xd400e(0x84c)][_0xd400e(0x487)]>0x0&&_0x51d3c9[_0xd400e(0x84c)][_0xd400e(0x42e)](_0x47422d=>{const _0x269e95=_0xd400e;_0x47422d['groupId']&&_0x47422d[_0x269e95(0x46b)]&&_0x47422d[_0x269e95(0x1a8)]===_0x47422d[_0x269e95(0x46b)]&&(_0x47422d[_0x269e95(0x46b)]=null);});let _0x3a9e21=await this[_0xd400e(0x2aa)]['flow'][_0xd400e(0x499)](_0x51d3c9['_id'],_0x51d3c9,_0x5d03fa);if(!_0x3a9e21)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3a9e21;}catch(_0x3f046d){let _0x3c6402=_0xd400e(0x249),_0x2c9799=_0x3f046d instanceof Error?_0x3f046d[_0xd400e(0x690)]:typeof _0x3f046d==_0xd400e(0x5dc)?JSON[_0xd400e(0x706)](_0x3f046d):_0x3f046d,_0x1603ad=_0x3c6402+':\x20'+_0x2c9799;throw this[_0xd400e(0x21c)][_0xd400e(0x617)](this[_0xd400e(0x401)]+'\x20('+this[_0xd400e(0x257)][_0xd400e(0x4d4)]+_0xd400e(0x342)+_0x1603ad),new m(_0x1603ad);}}async[a0_0x153f5d(0x865)](){const _0x5d8b78=a0_0x153f5d;try{this[_0x5d8b78(0x21c)][_0x5d8b78(0x6cf)](this[_0x5d8b78(0x401)]+'\x20('+this[_0x5d8b78(0x257)]['wuid']+_0x5d8b78(0x202)),await this[_0x5d8b78(0x2aa)][_0x5d8b78(0x52d)]['updateMissingShareOwners'](this[_0x5d8b78(0x257)]['wuid']);let _0x22696a=await this[_0x5d8b78(0x2aa)][_0x5d8b78(0x52d)][_0x5d8b78(0x2ff)]({'where':{}},this[_0x5d8b78(0x257)][_0x5d8b78(0x4d4)]),_0x359aa4=await this['repository']['flow'][_0x5d8b78(0x2ff)]({'where':{}},_0x5d8b78(0x61d));return _0x22696a[_0x5d8b78(0x458)](_0x359aa4);}catch(_0x48f0b8){return this[_0x5d8b78(0x21c)][_0x5d8b78(0x617)](this[_0x5d8b78(0x401)]+'\x20('+this[_0x5d8b78(0x257)][_0x5d8b78(0x4d4)]+_0x5d8b78(0x5f8)+(_0x48f0b8 instanceof Error?_0x48f0b8[_0x5d8b78(0x690)]:JSON[_0x5d8b78(0x706)](_0x48f0b8,null,0x2))),{'message':_0x5d8b78(0x70b)+_0x48f0b8['message']};}}async[a0_0x153f5d(0x5a6)](_0xad6846,_0x57899a){const _0x5a9d63=a0_0x153f5d;try{this[_0x5a9d63(0x21c)]['verbose'](this[_0x5a9d63(0x401)]+'\x20('+this['instance'][_0x5a9d63(0x4d4)]+_0x5a9d63(0x5b9));let _0x210d15=_0xad6846?.[_0x5a9d63(0x61d)]?.[_0x5a9d63(0x23d)]()===_0x5a9d63(0x62e)?_0x5a9d63(0x61d):this['instance']['wuid'],_0x31ad04=await this[_0x5a9d63(0x2aa)][_0x5a9d63(0x52d)][_0x5a9d63(0x88a)]({'where':{'name':_0xad6846['name']}},_0x210d15);if(!_0x31ad04)return{'message':_0x5a9d63(0x1ab)};if(_0x57899a!==ee&&_0x31ad04?.[_0x5a9d63(0x61d)]===_0x5a9d63(0x62e)&&_0x31ad04?.[_0x5a9d63(0x874)]!==this[_0x5a9d63(0x257)][_0x5a9d63(0x4d4)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x31ad04?.[_0x5a9d63(0x61d)]===_0x5a9d63(0x2bf)&&(_0xad6846={'default':_0xad6846[_0x5a9d63(0x2b3)],'minutesToClose':_0xad6846[_0x5a9d63(0x527)],'readMessages':_0xad6846[_0x5a9d63(0x2d0)],'testingWith':_0xad6846[_0x5a9d63(0x575)],'startCommandWord':_0xad6846[_0x5a9d63(0x3fc)]}),_0xad6846['default']===!0x0&&_0x31ad04?.['global']!==_0x5a9d63(0x62e)&&await this['repository']['flow'][_0x5a9d63(0x21d)]({},{'default':!0x1},_0x210d15),delete _0xad6846[_0x5a9d63(0x7c9)],delete _0xad6846[_0x5a9d63(0x822)],delete _0xad6846['global'];let _0x223ea2=await this[_0x5a9d63(0x2aa)][_0x5a9d63(0x52d)][_0x5a9d63(0x499)](_0x31ad04['_id'],_0xad6846,_0x210d15);return _0x223ea2&&_0x223ea2[_0x5a9d63(0x7c9)]&&_0x223ea2[_0x5a9d63(0x7c9)][_0x5a9d63(0x487)]>0x1&&_0x223ea2[_0x5a9d63(0x61d)]!==_0x5a9d63(0x2bf)&&this[_0x5a9d63(0x1fe)](_0x223ea2['_id'],_0x210d15),_0x223ea2;}catch(_0x1ad316){let _0x51ef50=_0x5a9d63(0x281),_0x1f8226=_0x1ad316 instanceof Error?_0x1ad316[_0x5a9d63(0x690)]:typeof _0x1ad316==_0x5a9d63(0x5dc)?JSON[_0x5a9d63(0x706)](_0x1ad316):_0x1ad316,_0x507974=_0x51ef50+':\x20'+_0x1f8226;throw this['logger']['error'](this[_0x5a9d63(0x401)]+'\x20('+this['instance']['wuid']+_0x5a9d63(0x342)+_0x507974),new m(_0x507974);}}async[a0_0x153f5d(0x627)](_0x3e4569,_0x31c481){const _0x57e66e=a0_0x153f5d;try{this['logger'][_0x57e66e(0x6cf)](this[_0x57e66e(0x401)]+'\x20('+this[_0x57e66e(0x257)][_0x57e66e(0x4d4)]+'):\x20Editando\x20bloco...');let _0x14fab6=_0x3e4569?.[_0x57e66e(0x61d)]?.[_0x57e66e(0x23d)]()===_0x57e66e(0x62e)?_0x57e66e(0x61d):this[_0x57e66e(0x257)][_0x57e66e(0x4d4)],_0x150895=await this[_0x57e66e(0x2aa)][_0x57e66e(0x52d)][_0x57e66e(0x88a)]({'where':{'name':_0x3e4569['name']}},_0x14fab6);if(_0x150895||this[_0x57e66e(0x57e)](_0x57e66e(0x467)),_0x150895?.['global']==='sync')throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x31c481!==ee&&_0x150895?.[_0x57e66e(0x61d)]==='true'&&_0x150895?.[_0x57e66e(0x874)]!==this[_0x57e66e(0x257)][_0x57e66e(0x4d4)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {block:_0x95699b}=_0x3e4569;_0x95699b?.[_0x57e66e(0x369)]?this['copyBlock'](_0x150895,_0x3e4569):_0x95699b?.[_0x57e66e(0x435)]?this['deleteBlock'](_0x150895,_0x3e4569):_0x95699b[_0x57e66e(0x412)]?await this[_0x57e66e(0x800)](_0x150895,_0x3e4569):this[_0x57e66e(0x37a)](_0x150895,_0x3e4569);let _0x1fd787=await this[_0x57e66e(0x2aa)][_0x57e66e(0x52d)][_0x57e66e(0x499)](_0x150895[_0x57e66e(0x412)],_0x150895,_0x14fab6);if(_0x1fd787&&_0x1fd787['shareOwners']&&_0x1fd787['shareOwners'][_0x57e66e(0x487)]>0x1&&this['synchronizeFlows'](_0x1fd787[_0x57e66e(0x412)],this[_0x57e66e(0x257)]['wuid']),!_0x1fd787)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1fd787;}catch(_0x1bd9de){this['throwAndLogError'](_0x57e66e(0x843)+_0x1bd9de['message']);}}async[a0_0x153f5d(0x7ed)](_0x25426b,_0x398fff){const _0x2ad8dd=a0_0x153f5d;let _0x5c45bd=_0x398fff['block'][_0x2ad8dd(0x412)],_0x539b65=_0x25426b['blocks'][_0x2ad8dd(0x84e)](_0x18f67a=>_0x18f67a['_id']['toString']()===_0x5c45bd);if(!_0x539b65){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x2ad8dd(0x4d4)]+_0x2ad8dd(0x595)+_0x5c45bd+_0x2ad8dd(0x4a0));return;}this[_0x2ad8dd(0x21c)][_0x2ad8dd(0x6cf)](this[_0x2ad8dd(0x401)]+'\x20('+this[_0x2ad8dd(0x257)][_0x2ad8dd(0x4d4)]+_0x2ad8dd(0x422)+JSON['stringify'](_0x539b65));let _0x50ba94=JSON['parse'](JSON[_0x2ad8dd(0x706)](_0x539b65));_0x50ba94[_0x2ad8dd(0x412)]=new oe['default'][(_0x2ad8dd(0x677))]['ObjectId'](),this['logger'][_0x2ad8dd(0x6cf)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2ad8dd(0x571)+JSON[_0x2ad8dd(0x706)](_0x50ba94)),_0x25426b[_0x2ad8dd(0x84c)][_0x2ad8dd(0x6f8)](_0x50ba94),this[_0x2ad8dd(0x1de)](_0x25426b[_0x2ad8dd(0x84c)],_0x50ba94[_0x2ad8dd(0x1a8)]);}[a0_0x153f5d(0x57e)](_0x2d34d8){const _0x4faa28=a0_0x153f5d;throw this[_0x4faa28(0x21c)][_0x4faa28(0x617)](this[_0x4faa28(0x401)]+'\x20('+this['instance'][_0x4faa28(0x4d4)]+_0x4faa28(0x342)+_0x2d34d8),new m(_0x2d34d8);}[a0_0x153f5d(0x317)](_0x4e8aac,_0x2a833d){const _0x181cac=a0_0x153f5d;let {block:_0x38faf6}=_0x2a833d;if(_0x38faf6[_0x181cac(0x74a)]===_0x181cac(0x756)){this[_0x181cac(0x57e)](_0x181cac(0x76c));return;}if(!_0x38faf6[_0x181cac(0x412)]){this[_0x181cac(0x57e)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x5e02a3=_0x4e8aac[_0x181cac(0x84c)][_0x181cac(0x84e)](_0x39eb17=>_0x39eb17['_id'][_0x181cac(0x894)]()===_0x2a833d[_0x181cac(0x275)][_0x181cac(0x412)][_0x181cac(0x894)]());if(!_0x5e02a3){this[_0x181cac(0x57e)]('Bloco\x20com\x20ID\x20'+_0x38faf6[_0x181cac(0x412)]+_0x181cac(0x238));return;}_0x4e8aac[_0x181cac(0x84c)]=_0x4e8aac['blocks'][_0x181cac(0x65b)](_0x34d649=>_0x34d649[_0x181cac(0x412)][_0x181cac(0x894)]()!==_0x2a833d[_0x181cac(0x275)][_0x181cac(0x412)][_0x181cac(0x894)]()),_0x4e8aac['conditions']=_0x4e8aac['conditions']['filter'](_0x348a8c=>_0x348a8c[_0x181cac(0x234)]!==_0x38faf6[_0x181cac(0x412)][_0x181cac(0x894)]()),_0x4e8aac['varedits']=_0x4e8aac[_0x181cac(0x5b8)][_0x181cac(0x65b)](_0x5aad02=>_0x5aad02['blockId']!==_0x38faf6[_0x181cac(0x412)][_0x181cac(0x894)]()),_0x4e8aac[_0x181cac(0x5c8)]=_0x4e8aac[_0x181cac(0x5c8)][_0x181cac(0x65b)](_0x283b7d=>_0x283b7d[_0x181cac(0x234)]!==_0x38faf6[_0x181cac(0x412)]['toString']()),this[_0x181cac(0x1de)](_0x4e8aac[_0x181cac(0x84c)],_0x5e02a3['groupId']);}async[a0_0x153f5d(0x800)](_0x1addc2,_0x32fe62){const _0x1d4703=a0_0x153f5d;let _0x4f57f2=_0x1addc2['blocks']['findIndex'](_0x44a6a5=>_0x44a6a5['_id'][_0x1d4703(0x894)]()===_0x32fe62[_0x1d4703(0x275)][_0x1d4703(0x412)][_0x1d4703(0x894)]());if(this[_0x1d4703(0x21c)][_0x1d4703(0x6cf)](this[_0x1d4703(0x401)]+'\x20('+this[_0x1d4703(0x257)][_0x1d4703(0x4d4)]+_0x1d4703(0x7c7)+_0x4f57f2),_0x4f57f2===-0x1){this[_0x1d4703(0x21c)][_0x1d4703(0x6cf)]('Bloco\x20com\x20ID\x20'+_0x32fe62[_0x1d4703(0x275)]['_id']+_0x1d4703(0x521));return;}if(_0x1addc2['blocks'][_0x4f57f2][_0x1d4703(0x74a)]===_0x1d4703(0x756)){let _0x216da9=Object['keys'](_0x32fe62['block']);if(_0x216da9['length']>0x2||_0x216da9[_0x1d4703(0x487)]===0x2&&!_0x216da9[_0x1d4703(0x424)](_0x1d4703(0x46b))){this[_0x1d4703(0x57e)](_0x1d4703(0x584));return;}}let _0x48260b=_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x1a8)];for(let _0x27cd4d in _0x32fe62['block'])_0x32fe62['block'][_0x1d4703(0x515)](_0x27cd4d)&&(_0x1addc2['blocks'][_0x4f57f2][_0x27cd4d]=_0x32fe62[_0x1d4703(0x275)][_0x27cd4d]);if(this[_0x1d4703(0x21c)][_0x1d4703(0x6cf)](this[_0x1d4703(0x401)]+'\x20('+this['instance']['wuid']+_0x1d4703(0x3f2)+JSON[_0x1d4703(0x706)](_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2])),_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)]&&_0x1d4703(0x67c)in _0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)]){this[_0x1d4703(0x21c)][_0x1d4703(0x6cf)](this[_0x1d4703(0x401)]+'\x20('+this[_0x1d4703(0x257)][_0x1d4703(0x4d4)]+_0x1d4703(0x49d));let _0x507242=JSON[_0x1d4703(0x706)](_0x1addc2['blocks'][_0x4f57f2]['apirequest'][_0x1d4703(0x67c)],null,0x1);_0x507242[_0x1d4703(0x487)]>0x2&&(_0x507242=_0x507242['substring'](0x1,_0x507242[_0x1d4703(0x487)]-0x1)[_0x1d4703(0x23d)]()),_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)][_0x1d4703(0x618)]=_0x507242;}if(_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2]['apirequest']&&_0x1d4703(0x2a9)in _0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)]&&!('bodyString'in _0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)])){this[_0x1d4703(0x21c)][_0x1d4703(0x6cf)](this[_0x1d4703(0x401)]+'\x20('+this[_0x1d4703(0x257)][_0x1d4703(0x4d4)]+_0x1d4703(0x484)),_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2]['apirequest'][_0x1d4703(0x89e)]=!0x1;let _0x2b7df6=JSON[_0x1d4703(0x706)](_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)][_0x1d4703(0x2a9)],null,0x2);_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)][_0x1d4703(0x404)]=_0x2b7df6;}if(_0x1addc2['blocks'][_0x4f57f2][_0x1d4703(0x560)]&&_0x1d4703(0x404)in _0x1addc2[_0x1d4703(0x84c)][_0x4f57f2]['apirequest']){_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)][_0x1d4703(0x89e)]=!0x1;let _0x1f257b=_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2][_0x1d4703(0x560)][_0x1d4703(0x404)],_0x4f3db1=this[_0x1d4703(0x329)](_0x1f257b);_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2]['apirequest'][_0x1d4703(0x404)]=_0x4f3db1['result'],_0x1addc2['blocks'][_0x4f57f2][_0x1d4703(0x560)][_0x1d4703(0x89e)]=_0x4f3db1[_0x1d4703(0x617)];}let _0x4a7da7=_0x1addc2[_0x1d4703(0x84c)][_0x4f57f2]['groupId'];_0x48260b!==_0x4a7da7?(this[_0x1d4703(0x1de)](_0x1addc2[_0x1d4703(0x84c)],_0x48260b),this['reorderBlocks'](_0x1addc2[_0x1d4703(0x84c)],_0x4a7da7)):this[_0x1d4703(0x1de)](_0x1addc2['blocks'],_0x48260b);}['beautifyWithPlaceholders'](_0x3ee8d5){const _0xac5a3d=a0_0x153f5d;let _0x3f7108='\u205f',_0x5555ec=!0x1,_0x25c9cd='';for(let _0x143803=0x0;_0x143803<_0x3ee8d5['length'];_0x143803++){let _0x575b05=_0x3ee8d5[_0x143803];_0x575b05==='\x22'&&(_0x143803===0x0||_0x3ee8d5[_0x143803-0x1]!=='\x5c')&&(_0x5555ec=!_0x5555ec),!(!_0x5555ec&&(_0x575b05==='\x0a'||_0x575b05==='\x20'||_0x575b05===_0x3f7108))&&(_0x25c9cd+=_0x575b05);}let _0x46bb9e={},_0x56d9ab=9876543210.1234,_0x491bf6=_0x25c9cd[_0xac5a3d(0x72d)](/\{\{([^}]+)\}\}/g,_0x5af1d9=>{let _0xa22f2d=_0x5af1d9,_0xd07fa3=''+_0x56d9ab;return _0x46bb9e[_0xd07fa3]=_0xa22f2d,_0x56d9ab+=0.0001,_0xd07fa3;}),_0x2b2549='',_0x235055=!0x1;try{let _0x196e76=JSON[_0xac5a3d(0x3c5)](_0x491bf6);_0x2b2549=JSON[_0xac5a3d(0x706)](_0x196e76,null,0x2),_0x2b2549=_0x2b2549[_0xac5a3d(0x72d)](/\n( +)/g,(_0x5bf777,_0x5c98f4)=>{const _0x3983fb=_0xac5a3d;let _0x4dc718=_0x5c98f4['length'];return'\x0a'+_0x3f7108[_0x3983fb(0x20e)](_0x4dc718*0x2);}),_0x2b2549=_0x2b2549[_0xac5a3d(0x72d)](/(\d{10,}\.\d+)/g,_0x244392=>_0x46bb9e[_0x244392]||_0x244392);}catch(_0x31bf18){console['error']('Error\x20parsing\x20JSON:',_0x31bf18),_0x2b2549=_0x3ee8d5,_0x235055=!0x0;}return{'result':_0x2b2549,'error':_0x235055};}['addBlock'](_0x135710,_0x440f22){const _0x49b801=a0_0x153f5d;if(_0x440f22['block'][_0x49b801(0x74a)]===_0x49b801(0x756)){this[_0x49b801(0x57e)](_0x49b801(0x233));return;}if(_0x440f22['block']['apirequest']&&_0x49b801(0x67c)in _0x440f22[_0x49b801(0x275)][_0x49b801(0x560)]){this['logger'][_0x49b801(0x6cf)](this[_0x49b801(0x401)]+'\x20('+this[_0x49b801(0x257)][_0x49b801(0x4d4)]+_0x49b801(0x49d));let _0x14639a=JSON[_0x49b801(0x706)](_0x440f22[_0x49b801(0x275)]['apirequest'][_0x49b801(0x67c)],null,0x1);_0x14639a[_0x49b801(0x487)]>0x2&&(_0x14639a=_0x14639a[_0x49b801(0x6cc)](0x1,_0x14639a[_0x49b801(0x487)]-0x1)[_0x49b801(0x23d)]()),_0x440f22[_0x49b801(0x275)]['apirequest'][_0x49b801(0x618)]=_0x14639a;}_0x440f22[_0x49b801(0x275)][_0x49b801(0x560)]&&_0x49b801(0x2a9)in _0x440f22[_0x49b801(0x275)][_0x49b801(0x560)]&&(this[_0x49b801(0x21c)][_0x49b801(0x6cf)](this[_0x49b801(0x401)]+'\x20('+this[_0x49b801(0x257)][_0x49b801(0x4d4)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x440f22['block'][_0x49b801(0x560)][_0x49b801(0x404)]=JSON[_0x49b801(0x706)](_0x440f22['block']['apirequest'][_0x49b801(0x2a9)],null,0x1)[_0x49b801(0x23d)]()),_0x135710[_0x49b801(0x84c)][_0x49b801(0x6f8)](_0x440f22[_0x49b801(0x275)]),this[_0x49b801(0x1de)](_0x135710['blocks'],_0x440f22[_0x49b801(0x275)][_0x49b801(0x1a8)]);}['reorderBlocks'](_0x33712a,_0x2a114f){const _0x32d810=a0_0x153f5d;let _0x1295b6=_0x33712a[_0x32d810(0x65b)](_0x387f5f=>_0x387f5f[_0x32d810(0x1a8)]===_0x2a114f);_0x1295b6[_0x32d810(0x6da)]((_0xffc6e2,_0x389e98)=>_0xffc6e2[_0x32d810(0x344)]-_0x389e98[_0x32d810(0x344)]),_0x1295b6[_0x32d810(0x42e)]((_0x9c442,_0x4be6b9)=>_0x9c442[_0x32d810(0x344)]=_0x4be6b9+0x1);}async[a0_0x153f5d(0x4c2)](_0x4d0309,_0x22c847){const _0x4c22eb=a0_0x153f5d;try{this[_0x4c22eb(0x21c)][_0x4c22eb(0x6cf)](this[_0x4c22eb(0x401)]+'\x20('+this[_0x4c22eb(0x257)][_0x4c22eb(0x4d4)]+'):\x20Editando\x20replyOption...');let _0xc15c61=_0x4d0309?.[_0x4c22eb(0x61d)]['trim']()==='true'?_0x4c22eb(0x61d):this['instance'][_0x4c22eb(0x4d4)];if(!_0x4d0309||!_0x4d0309[_0x4c22eb(0x320)]){this['throwAndLogError'](_0x4c22eb(0x3b2));return;}let _0x2aebf8=await this[_0x4c22eb(0x2aa)][_0x4c22eb(0x52d)][_0x4c22eb(0x88a)]({'where':{'name':_0x4d0309[_0x4c22eb(0x525)]}},_0xc15c61);if(_0x2aebf8||this[_0x4c22eb(0x57e)](_0x4c22eb(0x467)),_0x2aebf8?.['global']===_0x4c22eb(0x2bf))throw new m(_0x4c22eb(0x829));if(_0x22c847!==ee&&_0x2aebf8?.[_0x4c22eb(0x61d)]==='true'&&_0x2aebf8?.['owner']!==this[_0x4c22eb(0x257)][_0x4c22eb(0x4d4)])throw new m(_0x4c22eb(0x5ff));let {replyOption:_0x58a43b}=_0x4d0309;_0x58a43b?.[_0x4c22eb(0x435)]?(this[_0x4c22eb(0x5c9)](_0x2aebf8,_0x4d0309),this['reorderReplyOptions'](_0x2aebf8[_0x4c22eb(0x5c8)],_0x4d0309[_0x4c22eb(0x320)][_0x4c22eb(0x234)])):_0x58a43b['_id']?(await this[_0x4c22eb(0x813)](_0x2aebf8,_0x4d0309),this['reorderReplyOptions'](_0x2aebf8[_0x4c22eb(0x5c8)],_0x4d0309[_0x4c22eb(0x320)][_0x4c22eb(0x234)])):(this[_0x4c22eb(0x806)](_0x2aebf8,_0x4d0309),this[_0x4c22eb(0x6b7)](_0x2aebf8[_0x4c22eb(0x5c8)],_0x4d0309[_0x4c22eb(0x320)]['blockId']));let _0x251596=await this[_0x4c22eb(0x2aa)][_0x4c22eb(0x52d)]['updateOne'](_0x2aebf8[_0x4c22eb(0x412)],_0x2aebf8,_0xc15c61);if(_0x251596&&_0x251596[_0x4c22eb(0x7c9)]&&_0x251596[_0x4c22eb(0x7c9)][_0x4c22eb(0x487)]>0x1&&_0x251596[_0x4c22eb(0x61d)]!==_0x4c22eb(0x2bf)&&this[_0x4c22eb(0x1fe)](_0x251596['_id'],_0xc15c61),!_0x251596)throw new Error(_0x4c22eb(0x44c));return _0x251596;}catch(_0x18befc){this[_0x4c22eb(0x57e)](_0x4c22eb(0x1a9)+_0x18befc);}}[a0_0x153f5d(0x6b7)](_0x22736d,_0x5e8ac8){const _0x37d967=a0_0x153f5d;_0x22736d[_0x37d967(0x42e)](_0x53f547=>{const _0x1bf6b2=_0x37d967;_0x53f547[_0x1bf6b2(0x234)]===_0x5e8ac8&&_0x53f547['order']===void 0x0&&(_0x53f547[_0x1bf6b2(0x344)]=0x270f);});let _0x24e92c=_0x22736d[_0x37d967(0x65b)](_0x4124e9=>_0x4124e9['blockId']===_0x5e8ac8);_0x24e92c[_0x37d967(0x6da)]((_0x2e8164,_0x4ab8f7)=>_0x2e8164['order']-_0x4ab8f7[_0x37d967(0x344)]),_0x24e92c[_0x37d967(0x42e)]((_0x3a7d97,_0x181cdf)=>{const _0x14792b=_0x37d967;_0x3a7d97[_0x14792b(0x344)]=_0x181cdf+0x1;}),_0x22736d[_0x37d967(0x42e)](_0x4bc46b=>{const _0x53e990=_0x37d967;if(_0x4bc46b[_0x53e990(0x234)]===_0x5e8ac8){let _0x312079=_0x24e92c[_0x53e990(0x84e)](_0x2e0355=>_0x2e0355['_id']&&_0x4bc46b[_0x53e990(0x412)]&&_0x2e0355[_0x53e990(0x412)]['toString']()===_0x4bc46b[_0x53e990(0x412)]['toString']());_0x312079&&(_0x4bc46b[_0x53e990(0x344)]=_0x312079['order']);}});}[a0_0x153f5d(0x5c9)](_0x3098ec,_0x4eeeb4){const _0x8fe14d=a0_0x153f5d;let {replyOption:_0x2ccf7c}=_0x4eeeb4;if(!_0x2ccf7c[_0x8fe14d(0x412)]){this[_0x8fe14d(0x57e)](_0x8fe14d(0x83c));return;}if(!_0x3098ec[_0x8fe14d(0x5c8)][_0x8fe14d(0x84e)](_0xa1c59=>_0xa1c59['_id'][_0x8fe14d(0x894)]()===_0x4eeeb4[_0x8fe14d(0x320)][_0x8fe14d(0x412)][_0x8fe14d(0x894)]())){this[_0x8fe14d(0x57e)](_0x8fe14d(0x877)+_0x2ccf7c[_0x8fe14d(0x412)]+_0x8fe14d(0x238));return;}_0x3098ec['replyOptions']=_0x3098ec[_0x8fe14d(0x5c8)][_0x8fe14d(0x65b)](_0x5463a8=>_0x5463a8['_id'][_0x8fe14d(0x894)]()!==_0x4eeeb4[_0x8fe14d(0x320)][_0x8fe14d(0x412)][_0x8fe14d(0x894)]());}async[a0_0x153f5d(0x813)](_0x5efb04,_0x3d106c){const _0xe4e12a=a0_0x153f5d;let _0x17a60f=_0x5efb04[_0xe4e12a(0x5c8)][_0xe4e12a(0x360)](_0x12b383=>_0x12b383[_0xe4e12a(0x412)]['toString']()===_0x3d106c[_0xe4e12a(0x320)]['_id'][_0xe4e12a(0x894)]());if(_0x17a60f===-0x1){this[_0xe4e12a(0x57e)](_0xe4e12a(0x877)+_0x3d106c[_0xe4e12a(0x320)][_0xe4e12a(0x412)]+_0xe4e12a(0x521));return;}for(let _0x17a6d3 in _0x3d106c[_0xe4e12a(0x320)])_0x3d106c['replyOption']['hasOwnProperty'](_0x17a6d3)&&(_0x5efb04['replyOptions'][_0x17a60f][_0x17a6d3]=_0x3d106c[_0xe4e12a(0x320)][_0x17a6d3]);}[a0_0x153f5d(0x806)](_0xbffd9f,_0x4b7b41){const _0x4b003c=a0_0x153f5d;_0xbffd9f[_0x4b003c(0x5c8)][_0x4b003c(0x6f8)](_0x4b7b41[_0x4b003c(0x320)]);}async[a0_0x153f5d(0x7f5)](_0x166e97,_0x3a0b6f){const _0x3cfe21=a0_0x153f5d;let _0xbec657=_0x166e97?.['global'][_0x3cfe21(0x23d)]()===_0x3cfe21(0x62e)?_0x3cfe21(0x61d):this[_0x3cfe21(0x257)][_0x3cfe21(0x4d4)];this[_0x3cfe21(0x21c)][_0x3cfe21(0x6cf)](this[_0x3cfe21(0x401)]+'\x20('+this[_0x3cfe21(0x257)][_0x3cfe21(0x4d4)]+_0x3cfe21(0x37e)+_0xbec657+_0x3cfe21(0x3b7)+_0x3a0b6f+',\x20data:\x20'+JSON[_0x3cfe21(0x706)](_0x166e97,null,0x2));try{this[_0x3cfe21(0x21c)][_0x3cfe21(0x6cf)](this[_0x3cfe21(0x401)]+'\x20('+this[_0x3cfe21(0x257)][_0x3cfe21(0x4d4)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x2fc8c3=await this[_0x3cfe21(0x2aa)][_0x3cfe21(0x52d)][_0x3cfe21(0x88a)]({'where':{'name':_0x166e97['name']}},_0xbec657);if(!_0x2fc8c3)throw this[_0x3cfe21(0x21c)]['verbose'](this[_0x3cfe21(0x401)]+'\x20('+this[_0x3cfe21(0x257)][_0x3cfe21(0x4d4)]+_0x3cfe21(0x4c8)),new Error(_0x3cfe21(0x467));if(_0x2fc8c3?.['global']===_0x3cfe21(0x2bf))throw this[_0x3cfe21(0x21c)][_0x3cfe21(0x6cf)](this['instanceName']+'\x20('+this[_0x3cfe21(0x257)][_0x3cfe21(0x4d4)]+_0x3cfe21(0x5aa)),new m(_0x3cfe21(0x6a2));if(_0x3a0b6f!==ee&&_0x2fc8c3?.[_0x3cfe21(0x61d)]===_0x3cfe21(0x62e)&&_0x2fc8c3?.[_0x3cfe21(0x874)]!==this[_0x3cfe21(0x257)][_0x3cfe21(0x4d4)])throw this[_0x3cfe21(0x21c)][_0x3cfe21(0x6cf)](this[_0x3cfe21(0x401)]+'\x20('+this[_0x3cfe21(0x257)]['wuid']+_0x3cfe21(0x457)),new m(_0x3cfe21(0x5ff));if(_0x166e97[_0x3cfe21(0x4f1)]&&_0x166e97[_0x3cfe21(0x4f1)]?.[_0x3cfe21(0x435)]===!0x0){if(this['logger'][_0x3cfe21(0x6cf)](this[_0x3cfe21(0x401)]+'\x20('+this[_0x3cfe21(0x257)][_0x3cfe21(0x4d4)]+'):\x20delete\x20=\x20true'),_0x166e97['group']['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x2fc8c3[_0x3cfe21(0x84c)][_0x3cfe21(0x3a1)](_0x5aebb9=>_0x5aebb9['groupId'][_0x3cfe21(0x894)]()===_0x166e97['group']['_id']))return this[_0x3cfe21(0x21c)][_0x3cfe21(0x6cf)](this[_0x3cfe21(0x401)]+'\x20('+this[_0x3cfe21(0x257)][_0x3cfe21(0x4d4)]+'):\x20tem\x20blocks'),{'message':_0x3cfe21(0x444)};_0x2fc8c3[_0x3cfe21(0x77f)]=_0x2fc8c3[_0x3cfe21(0x77f)][_0x3cfe21(0x65b)](_0x2c3482=>_0x2c3482[_0x3cfe21(0x412)][_0x3cfe21(0x894)]()!==_0x166e97[_0x3cfe21(0x4f1)][_0x3cfe21(0x412)]);}else{if(_0x166e97[_0x3cfe21(0x4f1)]){if(_0x166e97[_0x3cfe21(0x4f1)][_0x3cfe21(0x2b3)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x166e97[_0x3cfe21(0x4f1)][_0x3cfe21(0x412)]){let _0x375a2a=_0x2fc8c3['groups'][_0x3cfe21(0x84e)](_0xb2e979=>_0xb2e979[_0x3cfe21(0x412)][_0x3cfe21(0x894)]()===_0x166e97[_0x3cfe21(0x4f1)][_0x3cfe21(0x412)]);_0x375a2a&&(_0x166e97[_0x3cfe21(0x4f1)]['x']<0x0&&(_0x166e97[_0x3cfe21(0x4f1)]['x']=0x0),_0x166e97[_0x3cfe21(0x4f1)]['y']<0x0&&(_0x166e97[_0x3cfe21(0x4f1)]['y']=0x0),Object[_0x3cfe21(0x33e)](_0x375a2a,_0x166e97[_0x3cfe21(0x4f1)]));}else _0x2fc8c3[_0x3cfe21(0x77f)][_0x3cfe21(0x6f8)](_0x166e97[_0x3cfe21(0x4f1)]);}}let _0x5d387a=await this[_0x3cfe21(0x2aa)][_0x3cfe21(0x52d)][_0x3cfe21(0x499)](_0x2fc8c3[_0x3cfe21(0x412)],_0x2fc8c3,_0xbec657);if(_0x5d387a&&_0x5d387a[_0x3cfe21(0x7c9)]&&_0x5d387a[_0x3cfe21(0x7c9)][_0x3cfe21(0x487)]>0x1&&_0x5d387a['global']!==_0x3cfe21(0x2bf)&&this['synchronizeFlows'](_0x5d387a[_0x3cfe21(0x412)],_0xbec657),!_0x5d387a)throw new Error(_0x3cfe21(0x44c));return _0x5d387a;}catch(_0x166991){let _0x136908='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x29cf76=_0x166991 instanceof Error?_0x166991[_0x3cfe21(0x690)]:typeof _0x166991==_0x3cfe21(0x5dc)?JSON[_0x3cfe21(0x706)](_0x166991):_0x166991,_0x1d3f88=_0x136908+':\x20'+_0x29cf76;throw this[_0x3cfe21(0x21c)]['error'](this[_0x3cfe21(0x401)]+'\x20('+this[_0x3cfe21(0x257)]['wuid']+_0x3cfe21(0x342)+_0x1d3f88),new m(_0x1d3f88);}}async[a0_0x153f5d(0x846)](_0x2a3c72,_0x159816){const _0x3455a2=a0_0x153f5d;try{this['logger'][_0x3455a2(0x6cf)](this[_0x3455a2(0x401)]+'\x20('+this[_0x3455a2(0x257)][_0x3455a2(0x4d4)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x5359d2=_0x2a3c72?.[_0x3455a2(0x61d)][_0x3455a2(0x23d)]()===_0x3455a2(0x62e)?_0x3455a2(0x61d):this[_0x3455a2(0x257)][_0x3455a2(0x4d4)],_0x82ed9e=await this[_0x3455a2(0x2aa)][_0x3455a2(0x52d)]['findOne']({'where':{'name':_0x2a3c72['name']}},_0x5359d2);if(!_0x82ed9e)throw new Error(_0x3455a2(0x467));if(_0x82ed9e?.[_0x3455a2(0x61d)]===_0x3455a2(0x2bf))throw new m(_0x3455a2(0x829));if(_0x159816!==ee&&_0x82ed9e?.[_0x3455a2(0x61d)]===_0x3455a2(0x62e)&&_0x82ed9e?.[_0x3455a2(0x874)]!==this[_0x3455a2(0x257)][_0x3455a2(0x4d4)])throw new m(_0x3455a2(0x5ff));let _0x3aa28e=!0x1;if(_0x2a3c72['condition']?.[_0x3455a2(0x435)]===!0x0)_0x82ed9e[_0x3455a2(0x319)]=_0x82ed9e[_0x3455a2(0x319)]['filter'](_0x4b0f2d=>_0x4b0f2d&&_0x2a3c72['condition']&&_0x4b0f2d[_0x3455a2(0x412)]&&_0x2a3c72[_0x3455a2(0x728)][_0x3455a2(0x412)]&&_0x4b0f2d[_0x3455a2(0x412)][_0x3455a2(0x894)]()!==_0x2a3c72[_0x3455a2(0x728)]['_id'][_0x3455a2(0x894)]()),_0x3aa28e=!0x0;else{let _0x3d76bb=_0x82ed9e['conditions'][_0x3455a2(0x84e)](_0x51e2b2=>_0x51e2b2&&_0x2a3c72['condition']&&_0x51e2b2[_0x3455a2(0x412)]&&_0x2a3c72[_0x3455a2(0x728)][_0x3455a2(0x412)]&&_0x51e2b2[_0x3455a2(0x412)][_0x3455a2(0x894)]()===_0x2a3c72[_0x3455a2(0x728)][_0x3455a2(0x412)][_0x3455a2(0x894)]());_0x3d76bb?(_0x3aa28e=_0x3d76bb[_0x3455a2(0x344)]!==_0x2a3c72[_0x3455a2(0x728)][_0x3455a2(0x344)],Object[_0x3455a2(0x33e)](_0x3d76bb,_0x2a3c72[_0x3455a2(0x728)])):(_0x82ed9e[_0x3455a2(0x319)]['push'](_0x2a3c72['condition']),_0x3aa28e=!0x0);}if(_0x3aa28e){_0x82ed9e[_0x3455a2(0x319)][_0x3455a2(0x6da)]((_0x44562d,_0xe50a65)=>_0x44562d['order']>_0xe50a65[_0x3455a2(0x344)]?0x1:_0xe50a65['order']>_0x44562d[_0x3455a2(0x344)]?-0x1:0x0);for(let _0x476bff=0x0;_0x476bff<_0x82ed9e[_0x3455a2(0x319)]['length'];_0x476bff++)_0x82ed9e[_0x3455a2(0x319)][_0x476bff][_0x3455a2(0x344)]=_0x476bff+0x1;_0x82ed9e[_0x3455a2(0x319)][_0x3455a2(0x487)]>0x0&&(_0x82ed9e['conditions'][0x0]['OrAnd']=_0x3455a2(0x7d2));}let _0x212686=await this['repository'][_0x3455a2(0x52d)][_0x3455a2(0x499)](_0x82ed9e['_id'],_0x82ed9e,_0x5359d2);if(_0x212686&&_0x212686[_0x3455a2(0x7c9)]&&_0x212686[_0x3455a2(0x7c9)][_0x3455a2(0x487)]>0x1&&_0x212686[_0x3455a2(0x61d)]!==_0x3455a2(0x2bf)&&this['synchronizeFlows'](_0x212686[_0x3455a2(0x412)],_0x5359d2),!_0x212686)throw new Error(_0x3455a2(0x44c));return _0x212686;}catch(_0x17855b){let _0x36010e=_0x3455a2(0x244),_0x549a33=_0x17855b instanceof Error?_0x17855b[_0x3455a2(0x690)]:typeof _0x17855b=='object'?JSON['stringify'](_0x17855b):_0x17855b,_0x245fdf=_0x36010e+':\x20'+_0x549a33;throw this[_0x3455a2(0x21c)]['error'](this[_0x3455a2(0x401)]+'\x20('+this[_0x3455a2(0x257)][_0x3455a2(0x4d4)]+_0x3455a2(0x342)+_0x245fdf),new m(_0x245fdf);}}async[a0_0x153f5d(0x395)](_0x1fcc00,_0x2f25f1){const _0x219287=a0_0x153f5d;try{this[_0x219287(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x219287(0x257)][_0x219287(0x4d4)]+_0x219287(0x40b));let _0x4f245f=_0x1fcc00?.[_0x219287(0x61d)][_0x219287(0x23d)]()==='true'?'global':this['instance'][_0x219287(0x4d4)],_0x57a06e=await this[_0x219287(0x2aa)][_0x219287(0x52d)][_0x219287(0x88a)]({'where':{'name':_0x1fcc00[_0x219287(0x525)]}},_0x4f245f);if(!_0x57a06e)throw new Error(_0x219287(0x467));if(_0x57a06e?.[_0x219287(0x61d)]==='sync')throw new m(_0x219287(0x829));if(_0x2f25f1!==ee&&_0x57a06e?.[_0x219287(0x61d)]===_0x219287(0x62e)&&_0x57a06e?.[_0x219287(0x874)]!==this['instance']['wuid'])throw new m(_0x219287(0x5ff));let _0x57606b=!0x1;if(_0x1fcc00[_0x219287(0x3f8)]?.[_0x219287(0x435)]===!0x0)_0x57a06e[_0x219287(0x5b8)]=_0x57a06e[_0x219287(0x5b8)][_0x219287(0x65b)](_0x4b34dc=>_0x4b34dc&&_0x1fcc00['varedit']&&_0x4b34dc[_0x219287(0x412)]&&_0x1fcc00[_0x219287(0x3f8)][_0x219287(0x412)]&&_0x4b34dc['_id'][_0x219287(0x894)]()!==_0x1fcc00[_0x219287(0x3f8)]['_id'][_0x219287(0x894)]()),_0x57606b=!0x0;else{let _0x4a52f5=_0x57a06e['varedits'][_0x219287(0x84e)](_0x5a5dd3=>_0x5a5dd3&&_0x1fcc00['varedit']&&_0x5a5dd3[_0x219287(0x412)]&&_0x1fcc00[_0x219287(0x3f8)][_0x219287(0x412)]&&_0x5a5dd3[_0x219287(0x412)][_0x219287(0x894)]()===_0x1fcc00['varedit'][_0x219287(0x412)][_0x219287(0x894)]());_0x4a52f5?(_0x57606b=_0x4a52f5[_0x219287(0x344)]!==_0x1fcc00[_0x219287(0x3f8)]['order'],Object[_0x219287(0x33e)](_0x4a52f5,_0x1fcc00[_0x219287(0x3f8)])):(_0x57a06e[_0x219287(0x5b8)][_0x219287(0x6f8)](_0x1fcc00['varedit']),_0x57606b=!0x0);}if(_0x57606b){_0x57a06e['varedits'][_0x219287(0x6da)]((_0x3475d6,_0x517b18)=>_0x3475d6['order']>_0x517b18[_0x219287(0x344)]?0x1:_0x517b18[_0x219287(0x344)]>_0x3475d6['order']?-0x1:0x0);for(let _0x40045b=0x0;_0x40045b<_0x57a06e[_0x219287(0x5b8)][_0x219287(0x487)];_0x40045b++)_0x57a06e[_0x219287(0x5b8)][_0x40045b][_0x219287(0x344)]=_0x40045b+0x1;}let _0x52863f=await this[_0x219287(0x2aa)]['flow'][_0x219287(0x499)](_0x57a06e[_0x219287(0x412)],_0x57a06e,_0x4f245f);if(_0x52863f&&_0x52863f[_0x219287(0x7c9)]&&_0x52863f[_0x219287(0x7c9)][_0x219287(0x487)]>0x1&&_0x52863f[_0x219287(0x61d)]!==_0x219287(0x2bf)&&this[_0x219287(0x1fe)](_0x52863f[_0x219287(0x412)],_0x4f245f),!_0x52863f)throw new Error(_0x219287(0x44c));return _0x52863f;}catch(_0x23de36){let _0x66cf06=_0x219287(0x244),_0x3423e5=_0x23de36 instanceof Error?_0x23de36[_0x219287(0x690)]:typeof _0x23de36=='object'?JSON[_0x219287(0x706)](_0x23de36):_0x23de36,_0x4b97da=_0x66cf06+':\x20'+_0x3423e5;throw this[_0x219287(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x219287(0x257)][_0x219287(0x4d4)]+_0x219287(0x342)+_0x4b97da),new m(_0x4b97da);}}async[a0_0x153f5d(0x7c8)](_0x3a0954,_0x4c6938){const _0xc18bdd=a0_0x153f5d;try{this[_0xc18bdd(0x21c)]['verbose'](this[_0xc18bdd(0x401)]+'\x20('+this[_0xc18bdd(0x257)][_0xc18bdd(0x4d4)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x2c98a7=_0x3a0954?.[_0xc18bdd(0x61d)][_0xc18bdd(0x23d)]()===_0xc18bdd(0x62e)?_0xc18bdd(0x61d):this['instance'][_0xc18bdd(0x4d4)],_0x1ff83e=await this[_0xc18bdd(0x2aa)][_0xc18bdd(0x52d)]['findOne']({'where':{'name':_0x3a0954[_0xc18bdd(0x525)]}},_0x2c98a7);if(!_0x1ff83e)throw new Error(_0xc18bdd(0x467));if(_0x1ff83e?.[_0xc18bdd(0x61d)]===_0xc18bdd(0x2bf))throw new m(_0xc18bdd(0x829));if(_0x4c6938!==ee&&_0x1ff83e?.[_0xc18bdd(0x61d)]===_0xc18bdd(0x62e)&&_0x1ff83e?.[_0xc18bdd(0x874)]!==this[_0xc18bdd(0x257)]['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x4c6938!==ee&&_0x1ff83e?.[_0xc18bdd(0x61d)]===_0xc18bdd(0x62e)&&_0x1ff83e?.[_0xc18bdd(0x874)]!==this[_0xc18bdd(0x257)][_0xc18bdd(0x4d4)])throw new m(_0xc18bdd(0x5ff));_0x3a0954['variable'][_0xc18bdd(0x525)]=_0x3a0954[_0xc18bdd(0x1d0)][_0xc18bdd(0x525)][_0xc18bdd(0x23d)](),_0x3a0954['variable'][_0xc18bdd(0x525)][_0xc18bdd(0x529)]('_')&&(_0x3a0954[_0xc18bdd(0x1d0)][_0xc18bdd(0x525)]=_0x3a0954[_0xc18bdd(0x1d0)]['name'][_0xc18bdd(0x6cc)](0x1)),_0x3a0954[_0xc18bdd(0x1d0)]['name']=_0x3a0954[_0xc18bdd(0x1d0)][_0xc18bdd(0x525)]['trim']();let _0x33c5a8=_0x1ff83e[_0xc18bdd(0x20a)][_0xc18bdd(0x84e)](_0x5b1c0a=>_0x5b1c0a[_0xc18bdd(0x525)]===_0x3a0954[_0xc18bdd(0x1d0)][_0xc18bdd(0x525)]);if(_0x33c5a8?.['leadInfo']===!0x0)throw new Error(_0xc18bdd(0x52c));if(_0x3a0954['variable']?.[_0xc18bdd(0x435)]===!0x0){if(!_0x33c5a8)return{'message':_0xc18bdd(0x1f0)};_0x1ff83e[_0xc18bdd(0x20a)]=_0x1ff83e[_0xc18bdd(0x20a)][_0xc18bdd(0x65b)](_0x365473=>_0x365473[_0xc18bdd(0x525)]!==_0x3a0954['variable'][_0xc18bdd(0x525)]);}else _0x33c5a8?Object[_0xc18bdd(0x33e)](_0x33c5a8,_0x3a0954[_0xc18bdd(0x1d0)]):_0x1ff83e[_0xc18bdd(0x20a)][_0xc18bdd(0x6f8)](_0x3a0954[_0xc18bdd(0x1d0)]);let _0x3be8e6=await this[_0xc18bdd(0x2aa)]['flow'][_0xc18bdd(0x499)](_0x1ff83e[_0xc18bdd(0x412)],_0x1ff83e,_0x2c98a7);if(_0x3be8e6&&_0x3be8e6[_0xc18bdd(0x7c9)]&&_0x3be8e6[_0xc18bdd(0x7c9)][_0xc18bdd(0x487)]>0x1&&_0x3be8e6[_0xc18bdd(0x61d)]!==_0xc18bdd(0x2bf)&&this[_0xc18bdd(0x1fe)](_0x3be8e6[_0xc18bdd(0x412)],_0x2c98a7),!_0x3be8e6)throw new Error(_0xc18bdd(0x44c));return _0x3be8e6;}catch(_0x58ba2a){let _0x51a490='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x18b5b1=_0x58ba2a instanceof Error?_0x58ba2a[_0xc18bdd(0x690)]:typeof _0x58ba2a=='object'?JSON[_0xc18bdd(0x706)](_0x58ba2a):_0x58ba2a,_0x4b9b32=_0x51a490+':\x20'+_0x18b5b1;throw this[_0xc18bdd(0x21c)]['error'](this['instanceName']+'\x20('+this[_0xc18bdd(0x257)]['wuid']+_0xc18bdd(0x342)+_0x4b9b32),new m(_0x4b9b32);}}async[a0_0x153f5d(0x278)](_0x44358f){const _0x49725e=a0_0x153f5d;let _0x1db901=null;try{if(!this['AutomateSystem']?.[_0x49725e(0x3e3)][_0x49725e(0x717)])throw new m(_0x49725e(0x2f6));this[_0x49725e(0x21c)][_0x49725e(0x6cf)](this['instanceName']+'\x20('+this[_0x49725e(0x257)][_0x49725e(0x4d4)]+_0x49725e(0x83b));let _0x1545f7=(await this[_0x49725e(0x4ad)]({'numbers':[_0x44358f['remoteJid']]}))[0x0];if(!_0x1545f7['exists']&&!(0x0,w[_0x49725e(0x41b)])(_0x1545f7[_0x49725e(0x5ea)])&&!_0x1545f7[_0x49725e(0x5ea)]['includes'](_0x49725e(0x696)))throw _0x1db901=JSON[_0x49725e(0x706)](_0x1545f7,null,0x2),new m(_0x1545f7);let _0x32baee=await this['repository']['flow']['findOne']({'where':{'name':_0x44358f[_0x49725e(0x525)]}},this[_0x49725e(0x257)]['wuid']);if(!_0x32baee)return this[_0x49725e(0x21c)][_0x49725e(0x617)](this['instanceName']+'\x20('+this[_0x49725e(0x257)][_0x49725e(0x4d4)]+_0x49725e(0x4c8)),{'message':_0x49725e(0x467)};let _0x4d4d16=await this[_0x49725e(0x22d)](_0x32baee,_0x1545f7[_0x49725e(0x5ea)],_0x44358f[_0x49725e(0x77b)]);if(_0x4d4d16){this[_0x49725e(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x49725e(0x257)][_0x49725e(0x4d4)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x1b525b=await this['NextBlock'](_0x4d4d16);return _0x1b525b&&await this[_0x49725e(0x2b4)](_0x4d4d16,_0x1b525b),{'message':_0x49725e(0x1e2)+_0x44358f[_0x49725e(0x28b)]};}}catch(_0x101068){if(this[_0x49725e(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x49725e(0x257)][_0x49725e(0x4d4)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x101068 instanceof Error?_0x101068[_0x49725e(0x690)]:JSON['stringify'](_0x101068,null,0x2))),_0x1db901=_0x101068 instanceof Error?_0x101068['message']:JSON['stringify'](_0x101068,null,0x2),_0x1db901)throw new m(_0x49725e(0x85a)+_0x1db901);}}async['startFlowWebhook'](_0x18d0cb,_0x5b79b9,_0x21beb9){const _0x424ffc=a0_0x153f5d;let _0x3ae90f=null;try{if(!this[_0x424ffc(0x2a6)]?.[_0x424ffc(0x3e3)][_0x424ffc(0x717)])throw new m(_0x424ffc(0x2f6));if(this[_0x424ffc(0x21c)][_0x424ffc(0x6cf)](this[_0x424ffc(0x401)]+'\x20('+this['instance'][_0x424ffc(0x4d4)]+_0x424ffc(0x83b)),_0x5b79b9){let _0x1cab50=(await this[_0x424ffc(0x4ad)]({'numbers':[_0x5b79b9]}))[0x0];if(!_0x1cab50[_0x424ffc(0x3b6)]&&!(0x0,w['isJidGroup'])(_0x1cab50[_0x424ffc(0x5ea)])&&!_0x1cab50[_0x424ffc(0x5ea)][_0x424ffc(0x424)](_0x424ffc(0x696)))throw _0x3ae90f=JSON[_0x424ffc(0x706)](_0x1cab50,null,0x2),new m(_0x1cab50);_0x5b79b9=_0x1cab50[_0x424ffc(0x5ea)];}else _0x5b79b9||(_0x5b79b9=(0x0,Me['v4'])());let _0xe0b0c8=await this['repository'][_0x424ffc(0x52d)][_0x424ffc(0x88a)]({'where':{'startID':_0x18d0cb}},this[_0x424ffc(0x257)][_0x424ffc(0x4d4)]);if(!_0xe0b0c8)throw this[_0x424ffc(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x424ffc(0x257)][_0x424ffc(0x4d4)]+_0x424ffc(0x4c8)),new m(_0x424ffc(0x467));let _0x22ac1b=await this[_0x424ffc(0x22d)](_0xe0b0c8,_0x5b79b9,null);if(_0x22ac1b){this[_0x424ffc(0x21c)]['verbose'](this[_0x424ffc(0x401)]+'\x20('+this[_0x424ffc(0x257)][_0x424ffc(0x4d4)]+_0x424ffc(0x59f));let _0x5c770e;if(_0x21beb9){let _0x3ba8c7=_0x22ac1b[_0x424ffc(0x5d1)][_0x424ffc(0x80e)],_0x28d76b=this[_0x424ffc(0x2a3)](_0x21beb9);Object['assign'](_0x3ba8c7,_0x28d76b),_0x22ac1b['chatLog']['realVariables']=_0x3ba8c7,_0x5c770e={'error':!0x1,'apiResponse':_0x21beb9};}let _0x3836a9=await this[_0x424ffc(0x7d3)](_0x22ac1b);return _0x3836a9&&await this[_0x424ffc(0x2b4)](_0x22ac1b,_0x3836a9),{'message':_0x424ffc(0x6a7)};}}catch(_0x41b4ad){if(this[_0x424ffc(0x21c)][_0x424ffc(0x617)](this['instanceName']+'\x20('+this[_0x424ffc(0x257)][_0x424ffc(0x4d4)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x41b4ad instanceof Error?_0x41b4ad[_0x424ffc(0x690)]:JSON[_0x424ffc(0x706)](_0x41b4ad,null,0x2))),_0x3ae90f=_0x41b4ad instanceof Error?_0x41b4ad[_0x424ffc(0x690)]:JSON[_0x424ffc(0x706)](_0x41b4ad,null,0x2),_0x3ae90f)throw new m(_0x424ffc(0x85a)+_0x3ae90f);}}async[a0_0x153f5d(0x2c2)](_0x4646a7){const _0x33864d=a0_0x153f5d;try{let _0x1e7b8d={'remoteJid':_0x4646a7,'status':_0x33864d(0x5ef)},_0x41713d={'status':'closed'},_0x1cf133=await this[_0x33864d(0x2aa)][_0x33864d(0x70a)]['updateMany'](_0x1e7b8d,_0x41713d,this[_0x33864d(0x257)][_0x33864d(0x4d4)]);return this[_0x33864d(0x21c)][_0x33864d(0x6cf)](this['instanceName']+'\x20('+this[_0x33864d(0x257)][_0x33864d(0x4d4)]+_0x33864d(0x35b)),_0x1cf133;}catch(_0x5013c9){throw this['logger'][_0x33864d(0x617)](this[_0x33864d(0x401)]+'\x20('+this['instance'][_0x33864d(0x4d4)]+_0x33864d(0x6cd)+_0x5013c9[_0x33864d(0x690)]),_0x5013c9;}}async[a0_0x153f5d(0x22d)](_0x29ae13,_0x326303,_0xb9b412){const _0x78c58e=a0_0x153f5d;this[_0x78c58e(0x21c)][_0x78c58e(0x6cf)](this[_0x78c58e(0x401)]+'\x20('+this[_0x78c58e(0x257)][_0x78c58e(0x4d4)]+_0x78c58e(0x78f)),await this['closeExistingConversations'](_0x326303);try{let _0x1167b5=require('mongodb')['ObjectId'],_0x581b6a=Date[_0x78c58e(0x2fb)](),_0x2084d8='start',_0x3867a6={},_0x2434e9={},_0x534020={..._0x29ae13,'chatLog':null},_0x1f342b=await this[_0x78c58e(0x642)](_0x534020[_0x78c58e(0x20a)]),_0x16143d=await this[_0x78c58e(0x204)](_0x326303),_0x1e2a92={..._0x1f342b,..._0x16143d,'_remoteJid':_0x326303},_0x5ca05b={'lastReceivedMessage':_0x3867a6,'lastSendMessage':_0x2434e9,'lastBlockId':_0x2084d8,'lastCondition':!0x0,'realVariables':_0x1e2a92};_0x534020[_0x78c58e(0x5d1)]=_0x5ca05b,_0x534020['chatLog']['realVariables']={..._0x1e2a92,..._0xb9b412},delete _0x534020['_id'],_0x534020['_id']=new _0x1167b5(),_0x534020[_0x78c58e(0x54e)]=_0x581b6a,_0x534020['status']=_0x78c58e(0x5ef),_0x534020[_0x78c58e(0x28b)]=_0x326303;let _0x261a68=await this[_0x78c58e(0x2aa)][_0x78c58e(0x70a)][_0x78c58e(0x499)](_0x534020[_0x78c58e(0x412)],_0x534020,this[_0x78c58e(0x257)][_0x78c58e(0x4d4)]);return this[_0x78c58e(0x21c)][_0x78c58e(0x6cf)](this[_0x78c58e(0x401)]+'\x20('+this['instance'][_0x78c58e(0x4d4)]+_0x78c58e(0x58b)),_0x261a68?_0x534020:null;}catch(_0x472633){let _0x4f6878=_0x78c58e(0x55b),_0x262569=_0x472633 instanceof Error?_0x472633[_0x78c58e(0x690)]:typeof _0x472633==_0x78c58e(0x5dc)?JSON[_0x78c58e(0x706)](_0x472633):_0x472633,_0x5485f6=_0x4f6878+':\x20'+_0x262569;throw this[_0x78c58e(0x21c)][_0x78c58e(0x617)](this['instanceName']+'\x20('+this[_0x78c58e(0x257)]['wuid']+_0x78c58e(0x342)+_0x5485f6),new m(_0x5485f6);}}async[a0_0x153f5d(0x543)](_0x414613){const _0xc888dc=a0_0x153f5d;try{this[_0xc888dc(0x21c)][_0xc888dc(0x6cf)](this[_0xc888dc(0x401)]+'\x20('+this['instance'][_0xc888dc(0x4d4)]+_0xc888dc(0x364)),this[_0xc888dc(0x21c)]['verbose'](this[_0xc888dc(0x401)]+'\x20('+this[_0xc888dc(0x257)][_0xc888dc(0x4d4)]+_0xc888dc(0x687)+_0x414613);let _0x420ef9={'where':{'_id':_0x414613}};return await this[_0xc888dc(0x2aa)][_0xc888dc(0x70a)][_0xc888dc(0x88a)](_0x420ef9,this[_0xc888dc(0x257)][_0xc888dc(0x4d4)]);}catch(_0x172cd8){let _0xede92b=_0xc888dc(0x5a9),_0x337822=_0x172cd8 instanceof Error?_0x172cd8[_0xc888dc(0x690)]:typeof _0x172cd8==_0xc888dc(0x5dc)?JSON[_0xc888dc(0x706)](_0x172cd8):_0x172cd8,_0x52a8a4=_0xede92b+':\x20'+_0x337822;throw this[_0xc888dc(0x21c)]['error'](this[_0xc888dc(0x401)]+'\x20('+this[_0xc888dc(0x257)][_0xc888dc(0x4d4)]+_0xc888dc(0x342)+_0x52a8a4),new m(_0x52a8a4);}}async[a0_0x153f5d(0x811)](_0x2e113d){const _0x15284d=a0_0x153f5d;try{return this[_0x15284d(0x21c)][_0x15284d(0x6cf)](this[_0x15284d(0x401)]+'\x20('+this[_0x15284d(0x257)][_0x15284d(0x4d4)]+_0x15284d(0x79d)),await this[_0x15284d(0x2aa)][_0x15284d(0x70a)]['find'](_0x2e113d,this[_0x15284d(0x257)][_0x15284d(0x4d4)]);}catch(_0x38c7d7){let _0x12c7c4=_0x15284d(0x6de),_0x265281=_0x38c7d7 instanceof Error?_0x38c7d7['message']:typeof _0x38c7d7==_0x15284d(0x5dc)?JSON['stringify'](_0x38c7d7):_0x38c7d7,_0x358ee8=_0x12c7c4+':\x20'+_0x265281;throw this[_0x15284d(0x21c)][_0x15284d(0x617)](this[_0x15284d(0x401)]+'\x20('+this[_0x15284d(0x257)][_0x15284d(0x4d4)]+_0x15284d(0x342)+_0x358ee8),new m(_0x358ee8);}}async[a0_0x153f5d(0x81f)](_0x300223){const _0x17ee35=a0_0x153f5d;try{return this[_0x17ee35(0x21c)][_0x17ee35(0x6cf)](this[_0x17ee35(0x401)]+'\x20('+this['instance'][_0x17ee35(0x4d4)]+_0x17ee35(0x48e)),this[_0x17ee35(0x21c)][_0x17ee35(0x6cf)](this[_0x17ee35(0x401)]+'\x20('+this[_0x17ee35(0x257)]['wuid']+_0x17ee35(0x69c)+_0x300223),(await this[_0x17ee35(0x2aa)]['flowConversation']['deleteOne']({'where':{'_id':_0x300223[_0x17ee35(0x412)]}},this[_0x17ee35(0x257)][_0x17ee35(0x4d4)]))['deletedCount']===0x0?{'message':_0x17ee35(0x77a)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x4e4b96){let _0xb34183=_0x17ee35(0x804),_0x1d7cfe=_0x4e4b96 instanceof Error?_0x4e4b96[_0x17ee35(0x690)]:typeof _0x4e4b96==_0x17ee35(0x5dc)?JSON[_0x17ee35(0x706)](_0x4e4b96):_0x4e4b96,_0x6aea0b=_0xb34183+':\x20'+_0x1d7cfe;throw this[_0x17ee35(0x21c)]['error'](this[_0x17ee35(0x401)]+'\x20('+this[_0x17ee35(0x257)][_0x17ee35(0x4d4)]+_0x17ee35(0x342)+_0x6aea0b),new m(_0x6aea0b);}}async[a0_0x153f5d(0x51c)](_0x5b8aed){const _0x5dbab3=a0_0x153f5d;try{let {_id:_0x4a2f0c,chatLog:_0x55705f,status:_0x3b855c}=_0x5b8aed;if(!_0x4a2f0c)return{'message':_0x5dbab3(0x750)};let _0x265c8e={};if(_0x3b855c!==void 0x0&&(_0x265c8e['status']=_0x3b855c),Object['keys'](_0x265c8e)['length']===0x0)return{'message':_0x5dbab3(0x6a3)};let _0x490e9a=await this['repository'][_0x5dbab3(0x70a)][_0x5dbab3(0x499)](_0x4a2f0c,_0x265c8e,this[_0x5dbab3(0x257)]['wuid']);return _0x490e9a||{'message':_0x5dbab3(0x733)};}catch(_0x3c33d3){let _0x630136=_0x5dbab3(0x766),_0x20c036=_0x3c33d3 instanceof Error?_0x3c33d3['message']:typeof _0x3c33d3=='object'?JSON[_0x5dbab3(0x706)](_0x3c33d3):_0x3c33d3,_0x47557d=_0x630136+':\x20'+_0x20c036;throw this[_0x5dbab3(0x21c)][_0x5dbab3(0x617)](this[_0x5dbab3(0x401)]+'\x20('+this[_0x5dbab3(0x257)][_0x5dbab3(0x4d4)]+_0x5dbab3(0x342)+_0x47557d),new m(_0x47557d);}}async['editChat'](_0x23eb2f){const _0x171814=a0_0x153f5d;try{_0x23eb2f[_0x171814(0x412)]=this[_0x171814(0x346)](_0x23eb2f[_0x171814(0x412)]);let _0x161980=await this[_0x171814(0x2aa)][_0x171814(0x2ab)][_0x171814(0x88a)]({'where':{'_id':_0x23eb2f[_0x171814(0x412)]}},this['instance'][_0x171814(0x4d4)]);if(!_0x161980)throw new m(_0x171814(0x201));let {_id:_0x275e4a,leadInfo:_0x28b97b}=_0x23eb2f;if(!_0x275e4a)throw new Error(_0x171814(0x6e7));if(_0x23eb2f[_0x171814(0x435)]===_0x171814(0x512))return await this[_0x171814(0x580)](_0x23eb2f['_id']),await this[_0x171814(0x2aa)][_0x171814(0x2ab)][_0x171814(0x435)]({'where':{'_id':_0x23eb2f[_0x171814(0x412)]}},this[_0x171814(0x257)][_0x171814(0x4d4)]),await this[_0x171814(0x2aa)]['message'][_0x171814(0x435)]({'where':{'key':{'remoteJid':_0x23eb2f[_0x171814(0x412)]}}},this['instance'][_0x171814(0x4d4)]),_0x23eb2f=await this[_0x171814(0x2aa)]['chat'][_0x171814(0x499)]({'where':{'_id':_0x23eb2f[_0x171814(0x412)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x171814(0x257)][_0x171814(0x4d4)]),J(this[_0x171814(0x401)],_0x171814(0x7a3),{'chat':_0x23eb2f}),{'message':_0x171814(0x516)};if(_0x23eb2f[_0x171814(0x435)]===_0x171814(0x212))return await this[_0x171814(0x2aa)][_0x171814(0x690)][_0x171814(0x435)]({'where':{'key':{'remoteJid':_0x23eb2f['_id']}}},this['instance'][_0x171814(0x4d4)]),_0x23eb2f=await this['repository'][_0x171814(0x2ab)][_0x171814(0x499)]({'where':{'_id':_0x23eb2f[_0x171814(0x412)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x171814(0x257)]['wuid']),J(this['instanceName'],_0x171814(0x7a3),{'chat':_0x23eb2f}),{'message':_0x171814(0x645)};let _0x2778e6=(_0x468298,_0x2728b2,_0x3a3bb8)=>{const _0xf2c5d=_0x171814;_0x468298&&_0x3a3bb8[_0xf2c5d(0x42e)](_0x29473c=>{const _0xcfa2c0=_0xf2c5d;_0x468298[_0x29473c]!==void 0x0&&(_0x2728b2[_0xcfa2c0(0x848)+_0x29473c]=_0x468298[_0x29473c]);});},_0xaf3b54={};if(_0x171814(0x49a)in _0x23eb2f&&(this[_0x171814(0x21c)]['verbose'](this[_0x171814(0x401)]+'\x20('+this[_0x171814(0x257)][_0x171814(0x4d4)]+_0x171814(0x1bb)+_0x23eb2f[_0x171814(0x412)]),_0x23eb2f['muteEndTime']=_0x23eb2f[_0x171814(0x49a)]===0x0?null:-0x1,await this[_0x171814(0x7de)][_0x171814(0x4ab)]({'mute':_0x23eb2f[_0x171814(0x49a)]},_0x23eb2f[_0x171814(0x412)]),_0xaf3b54[_0x171814(0x49a)]=Number(_0x23eb2f['muteEndTime'])),_0x28b97b&&(_0x2778e6(_0x28b97b,_0xaf3b54,[_0x171814(0x770),'nomecompleto',_0x171814(0x721),'cpf','status',_0x171814(0x439),_0x171814(0x2a5),_0x171814(0x24e),'responsavelid',_0x171814(0x4d8)]),Array['isArray'](_0x28b97b[_0x171814(0x666)])&&(_0xaf3b54[_0x171814(0x3e4)]=_0x28b97b['customFields']['map'](_0x158321=>({'_id':_0x158321[_0x171814(0x412)],'value':_0x158321['value']}))),_0x23eb2f[_0x171814(0x69b)][_0x171814(0x4d8)]!==void 0x0)){let _0x2743e6=await this[_0x171814(0x2aa)][_0x171814(0x19d)][_0x171814(0x84e)]({'where':{}},this[_0x171814(0x257)][_0x171814(0x4d4)]),_0x391fa5=new Set(_0x23eb2f[_0x171814(0x69b)]['etiquetas']||[]),_0x15bf8d=new Set(_0x23eb2f[_0x171814(0x69b)]['etiquetas']),_0x43b145=new Set(_0x2743e6['map'](_0x17b2ad=>_0x17b2ad[_0x171814(0x412)])),_0x2a8edd=[..._0x15bf8d][_0x171814(0x65b)](_0x3a12fd=>!_0x391fa5['has'](_0x3a12fd)&&_0x43b145['has'](_0x3a12fd)),_0xcc0f6d=[..._0x391fa5][_0x171814(0x65b)](_0x5c535b=>!_0x15bf8d[_0x171814(0x4ca)](_0x5c535b));if(_0xaf3b54['leadInfo.etiquetas']=[..._0x391fa5],_0x161980&&!_0x161980[_0x171814(0x21b)]){for(let _0x56784c of _0x2a8edd)await this[_0x171814(0x408)](_0x56784c,_0x23eb2f[_0x171814(0x412)]),_0x391fa5[_0x171814(0x59b)](_0x56784c);for(let _0x44e96 of _0xcc0f6d)await this[_0x171814(0x715)](_0x44e96,_0x23eb2f[_0x171814(0x412)]),_0x391fa5[_0x171814(0x435)](_0x44e96);}}if(_0x23eb2f[_0x171814(0x3c4)]!==void 0x0&&(_0xaf3b54[_0x171814(0x3c4)]=Number(_0x23eb2f[_0x171814(0x3c4)])),Object[_0x171814(0x60b)](_0xaf3b54)[_0x171814(0x487)]===0x0)throw new Error(_0x171814(0x6a3));let _0x10d81b=await this[_0x171814(0x2aa)][_0x171814(0x2ab)][_0x171814(0x499)]({'where':{'_id':_0x23eb2f[_0x171814(0x412)]}},_0xaf3b54,this[_0x171814(0x257)][_0x171814(0x4d4)]);return _0x10d81b&&J(this['instanceName'],_0x171814(0x7a3),{'chat':_0x10d81b}),_0x10d81b?(this[_0x171814(0x21c)]['verbose'](this[_0x171814(0x401)]+'\x20('+this[_0x171814(0x257)][_0x171814(0x4d4)]+'):\x20'+JSON[_0x171814(0x706)](_0x10d81b,null,0x2)),_0x10d81b):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x14e50b){let _0x9051a1=_0x171814(0x223),_0x24d425=_0x14e50b instanceof Error?_0x14e50b['message']:typeof _0x14e50b=='object'?JSON[_0x171814(0x706)](_0x14e50b):_0x14e50b,_0x38f8b4=_0x9051a1+':\x20'+_0x24d425;throw this[_0x171814(0x21c)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x171814(0x342)+_0x38f8b4),new m(_0x38f8b4);}}async[a0_0x153f5d(0x408)](_0x35fb7e,_0x43914d){const _0x4ad3b0=a0_0x153f5d;try{await this[_0x4ad3b0(0x7de)][_0x4ad3b0(0x3eb)](_0x43914d,_0x35fb7e),this[_0x4ad3b0(0x21c)]['info'](this['instanceName']+'\x20('+this[_0x4ad3b0(0x257)]['wuid']+'):\x20Label\x20'+_0x35fb7e+'\x20adicionado\x20ao\x20chat\x20'+_0x43914d+'\x20com\x20sucesso.');}catch(_0x4db454){console[_0x4ad3b0(0x617)](_0x4ad3b0(0x370)+_0x35fb7e+_0x4ad3b0(0x1c6)+_0x43914d+':',_0x4db454);}}async['RemoveChatLabel'](_0x30c53f,_0x197725){const _0x2a54ec=a0_0x153f5d;try{await this[_0x2a54ec(0x7de)]['removeChatLabel'](_0x197725,_0x30c53f),this[_0x2a54ec(0x21c)]['info'](this[_0x2a54ec(0x401)]+'\x20('+this['instance'][_0x2a54ec(0x4d4)]+'):\x20Label\x20'+_0x30c53f+_0x2a54ec(0x1cd)+_0x197725+_0x2a54ec(0x884));}catch(_0x86ba80){console[_0x2a54ec(0x617)]('Erro\x20ao\x20remover\x20label\x20'+_0x30c53f+_0x2a54ec(0x87b)+_0x197725+':',_0x86ba80);}}async[a0_0x153f5d(0x522)](_0xc30e77){const _0x40435f=a0_0x153f5d;try{let _0x4ac4ea=await this[_0x40435f(0x2aa)][_0x40435f(0x498)][_0x40435f(0x301)](this[_0x40435f(0x257)][_0x40435f(0x4d4)]),_0x3650cd=_0xc30e77[_0x40435f(0x412)]?_0x4ac4ea[_0x40435f(0x526)]['findIndex'](_0x4daa7f=>_0x4daa7f[_0x40435f(0x412)]===_0xc30e77[_0x40435f(0x412)]):-0x1;if(_0xc30e77[_0x40435f(0x435)]&&_0x3650cd>-0x1)_0x4ac4ea[_0x40435f(0x526)][_0x40435f(0x855)](_0x3650cd,0x1);else{if(_0x3650cd>-0x1){let _0x3228bb=_0x4ac4ea[_0x40435f(0x526)][_0x3650cd];_0xc30e77[_0x40435f(0x40a)]&&(_0x3228bb['fone']=_0xc30e77[_0x40435f(0x40a)]),_0xc30e77[_0x40435f(0x525)]&&(_0x3228bb['name']=_0xc30e77[_0x40435f(0x525)]),_0xc30e77[_0x40435f(0x721)]&&(_0x3228bb[_0x40435f(0x721)]=_0xc30e77[_0x40435f(0x721)]),_0xc30e77['role']&&(_0x3228bb[_0x40435f(0x224)]=_0xc30e77[_0x40435f(0x224)]);}else _0x4ac4ea[_0x40435f(0x526)]['push']({'_id':_0xc30e77[_0x40435f(0x412)]||new oe[(_0x40435f(0x2b3))][(_0x40435f(0x677))]['ObjectId']()[_0x40435f(0x894)](),'fone':_0xc30e77['fone'],'name':_0xc30e77[_0x40435f(0x525)],'email':_0xc30e77[_0x40435f(0x721)],'role':_0xc30e77['role']});}let _0xfd1672={'agents':_0x4ac4ea['agents']},_0x309a48=await this[_0x40435f(0x2aa)][_0x40435f(0x498)]['update'](_0xfd1672,this[_0x40435f(0x257)][_0x40435f(0x4d4)]);return this['AutomateSystem']=_0x309a48,this[_0x40435f(0x21c)][_0x40435f(0x6cf)](this[_0x40435f(0x401)]+'\x20('+this[_0x40435f(0x257)][_0x40435f(0x4d4)]+_0x40435f(0x7eb)),this[_0x40435f(0x21c)][_0x40435f(0x6cf)](this['instanceName']+'\x20('+this[_0x40435f(0x257)][_0x40435f(0x4d4)]+_0x40435f(0x342)+this[_0x40435f(0x2a6)]),_0x309a48;}catch(_0x242f55){let _0x36d859=_0x40435f(0x61a),_0x42cafd=_0x242f55 instanceof Error?_0x242f55[_0x40435f(0x690)]:typeof _0x242f55=='object'?JSON[_0x40435f(0x706)](_0x242f55):_0x242f55,_0x4c3479=_0x36d859+':\x20'+_0x42cafd;throw this['logger']['error'](this[_0x40435f(0x401)]+'\x20('+this[_0x40435f(0x257)]['wuid']+'):\x20'+_0x4c3479),new m(_0x4c3479);}}async[a0_0x153f5d(0x651)](_0x256682){const _0x320e5c=a0_0x153f5d;try{let _0x429493=await this[_0x320e5c(0x2aa)][_0x320e5c(0x498)][_0x320e5c(0x301)](this[_0x320e5c(0x257)][_0x320e5c(0x4d4)]),_0x48b156=_0x256682[_0x320e5c(0x412)]?_0x429493[_0x320e5c(0x666)][_0x320e5c(0x360)](_0x4f8e8f=>_0x4f8e8f['_id']===_0x256682[_0x320e5c(0x412)]):-0x1,_0x33f65d=!0x1,_0x3985a6=_0x429493[_0x320e5c(0x666)][_0x320e5c(0x3a1)](_0x1d42c8=>_0x1d42c8[_0x320e5c(0x344)]===_0x256682['order']);if(_0x256682[_0x320e5c(0x435)]&&_0x48b156>-0x1)_0x429493['customFields'][_0x320e5c(0x855)](_0x48b156,0x1),_0x33f65d=!0x0;else{if(_0x48b156>-0x1){if(_0x429493[_0x320e5c(0x666)][_0x320e5c(0x3a1)](_0x4fc2f5=>_0x4fc2f5[_0x320e5c(0x525)]===_0x256682[_0x320e5c(0x525)]&&_0x4fc2f5[_0x320e5c(0x412)]!==_0x256682[_0x320e5c(0x412)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x2ead8b=_0x429493[_0x320e5c(0x666)][_0x48b156];_0x256682[_0x320e5c(0x344)]&&(_0x3985a6||!Number[_0x320e5c(0x455)](_0x256682[_0x320e5c(0x344)]))&&(_0x2ead8b['order']=_0x256682[_0x320e5c(0x344)],_0x33f65d=!0x0),_0x256682['name']&&(_0x2ead8b['name']=_0x256682[_0x320e5c(0x525)]);}else{if(_0x429493['customFields'][_0x320e5c(0x3a1)](_0x2187bd=>_0x2187bd[_0x320e5c(0x525)]===_0x256682['name']&&_0x2187bd[_0x320e5c(0x412)]!==_0x256682[_0x320e5c(0x412)]))throw new Error(_0x320e5c(0x2a2));_0x429493[_0x320e5c(0x666)]['push']({'_id':_0x256682[_0x320e5c(0x412)]||new oe[(_0x320e5c(0x2b3))]['Types'][(_0x320e5c(0x437))]()[_0x320e5c(0x894)](),'order':_0x256682[_0x320e5c(0x344)],'name':_0x256682[_0x320e5c(0x525)]}),_0x33f65d=!0x0;}}if(_0x33f65d){_0x429493[_0x320e5c(0x666)][_0x320e5c(0x6da)]((_0x1dcaff,_0x659ceb)=>_0x1dcaff[_0x320e5c(0x344)]>_0x659ceb[_0x320e5c(0x344)]?0x1:_0x659ceb[_0x320e5c(0x344)]>_0x1dcaff[_0x320e5c(0x344)]?-0x1:0x0);for(let _0x592081=0x0;_0x592081<_0x429493[_0x320e5c(0x666)][_0x320e5c(0x487)];_0x592081++)_0x429493[_0x320e5c(0x666)][_0x592081][_0x320e5c(0x344)]=_0x592081+0x1;}let _0x2e9ea7=await this['repository'][_0x320e5c(0x498)][_0x320e5c(0x4e4)](_0x429493,this[_0x320e5c(0x257)][_0x320e5c(0x4d4)]);return this['AutomateSystem']=_0x2e9ea7,this[_0x320e5c(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x320e5c(0x257)][_0x320e5c(0x4d4)]+_0x320e5c(0x207)),this[_0x320e5c(0x21c)][_0x320e5c(0x6cf)](this[_0x320e5c(0x401)]+'\x20('+this[_0x320e5c(0x257)][_0x320e5c(0x4d4)]+'):\x20'+this[_0x320e5c(0x2a6)]),_0x2e9ea7;}catch(_0x576732){let _0x5632a3=_0x320e5c(0x6e0),_0x105e12=_0x576732 instanceof Error?_0x576732['message']:typeof _0x576732==_0x320e5c(0x5dc)?JSON[_0x320e5c(0x706)](_0x576732):_0x576732,_0x3baa80=_0x5632a3+':\x20'+_0x105e12;throw this[_0x320e5c(0x21c)]['error'](this[_0x320e5c(0x401)]+'\x20('+this[_0x320e5c(0x257)][_0x320e5c(0x4d4)]+_0x320e5c(0x342)+_0x3baa80),new m(_0x3baa80);}}async[a0_0x153f5d(0x89f)](_0xbfb8de){const _0x50cb12=a0_0x153f5d;try{let _0x1b2197=await this[_0x50cb12(0x2aa)]['automateSystem']['findOrCreate'](this[_0x50cb12(0x257)][_0x50cb12(0x4d4)]),_0x271af0=_0x1b2197?.['autoCompleteMessages']?.[_0x50cb12(0x360)](_0x51def6=>_0x51def6[_0x50cb12(0x412)]===_0xbfb8de?.[_0x50cb12(0x412)]);if(_0xbfb8de?.[_0x50cb12(0x435)])_0x271af0>-0x1&&_0x1b2197?.[_0x50cb12(0x5ae)]?.[_0x50cb12(0x855)](_0x271af0,0x1);else{if(_0x271af0>-0x1){let _0x31a0ee=_0x1b2197[_0x50cb12(0x5ae)][_0x271af0];_0x31a0ee['order']=_0xbfb8de?.[_0x50cb12(0x344)]||_0x31a0ee[_0x50cb12(0x344)],_0x31a0ee[_0x50cb12(0x594)]=_0xbfb8de?.['command']||_0x31a0ee[_0x50cb12(0x594)],_0x31a0ee[_0x50cb12(0x690)]=_0xbfb8de?.[_0x50cb12(0x690)]||_0x31a0ee[_0x50cb12(0x690)];}else{let _0x14dfb8={'_id':_0xbfb8de?.[_0x50cb12(0x412)]||new oe[(_0x50cb12(0x2b3))][(_0x50cb12(0x677))][(_0x50cb12(0x437))]()['toString'](),'order':_0xbfb8de?.['order'],'command':_0xbfb8de?.[_0x50cb12(0x594)],'message':_0xbfb8de?.[_0x50cb12(0x690)]};_0x1b2197?.[_0x50cb12(0x5ae)]?.['push'](_0x14dfb8);}}_0x1b2197?.[_0x50cb12(0x5ae)]?.[_0x50cb12(0x6da)]((_0x23bbe4,_0x558fef)=>_0x23bbe4[_0x50cb12(0x344)]-_0x558fef[_0x50cb12(0x344)]);let _0x47e030=await this[_0x50cb12(0x2aa)][_0x50cb12(0x498)][_0x50cb12(0x4e4)](_0x1b2197,this[_0x50cb12(0x257)][_0x50cb12(0x4d4)]);return this[_0x50cb12(0x2a6)]=_0x47e030,this[_0x50cb12(0x21c)][_0x50cb12(0x6cf)](this[_0x50cb12(0x401)]+'\x20('+this['instance']['wuid']+_0x50cb12(0x207)),_0x47e030;}catch(_0x1650f8){let _0x17bcae=_0x50cb12(0x77c),_0x253469=_0x1650f8 instanceof Error?_0x1650f8[_0x50cb12(0x690)]:typeof _0x1650f8=='object'?JSON[_0x50cb12(0x706)](_0x1650f8):_0x1650f8,_0x2508e2=_0x17bcae+':\x20'+_0x253469;throw this[_0x50cb12(0x21c)][_0x50cb12(0x617)](this[_0x50cb12(0x401)]+'\x20('+this[_0x50cb12(0x257)][_0x50cb12(0x4d4)]+_0x50cb12(0x342)+_0x2508e2),new m(_0x2508e2);}}async['updateFlowConfig'](_0x474a96){const _0x14833f=a0_0x153f5d;try{let _0x4c3dbb=await this[_0x14833f(0x2aa)]['automateSystem'][_0x14833f(0x301)](this[_0x14833f(0x257)][_0x14833f(0x4d4)]);if(!_0x4c3dbb)throw new Error(_0x14833f(0x6fc));let _0x40932c={'_id':_0x4c3dbb[_0x14833f(0x412)],'flowConfig':{'enabled':_0x474a96[_0x14833f(0x717)]??_0x4c3dbb['flowConfig'][_0x14833f(0x717)],'ignoreGroups':_0x474a96['ignoreGroups']??_0x4c3dbb[_0x14833f(0x3e3)][_0x14833f(0x79c)],'prefixCommand':_0x474a96['prefixCommand']??_0x4c3dbb[_0x14833f(0x3e3)][_0x14833f(0x85e)],'stopConversation':_0x474a96[_0x14833f(0x228)]??_0x4c3dbb[_0x14833f(0x3e3)][_0x14833f(0x228)],'stopMinutes':_0x474a96['stopMinutes']??_0x4c3dbb['flowConfig'][_0x14833f(0x419)],'stopWhenYouSendMsg':_0x474a96[_0x14833f(0x1dd)]??_0x4c3dbb[_0x14833f(0x3e3)][_0x14833f(0x1dd)]}},_0x3fcbfe=await this['repository'][_0x14833f(0x498)]['update'](_0x40932c,this[_0x14833f(0x257)]['wuid']);return this['AutomateSystem']=_0x3fcbfe,this[_0x14833f(0x21c)][_0x14833f(0x6cf)](this[_0x14833f(0x401)]+'\x20('+this[_0x14833f(0x257)][_0x14833f(0x4d4)]+_0x14833f(0x7eb)),this[_0x14833f(0x21c)][_0x14833f(0x6cf)](this[_0x14833f(0x401)]+'\x20('+this[_0x14833f(0x257)][_0x14833f(0x4d4)]+'):\x20'+this[_0x14833f(0x2a6)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3fcbfe;}catch(_0x3b0fdb){let _0x32be50=_0x14833f(0x2d8),_0x44f75b=_0x3b0fdb instanceof Error?_0x3b0fdb[_0x14833f(0x690)]:typeof _0x3b0fdb==_0x14833f(0x5dc)?JSON[_0x14833f(0x706)](_0x3b0fdb):_0x3b0fdb,_0x10c871=_0x32be50+':\x20'+_0x44f75b;throw this[_0x14833f(0x21c)][_0x14833f(0x617)](this[_0x14833f(0x401)]+'\x20('+this[_0x14833f(0x257)][_0x14833f(0x4d4)]+_0x14833f(0x342)+_0x10c871),new m(_0x10c871);}}async['getAutomateSystem'](){const _0x4cf205=a0_0x153f5d;try{let _0x43fb22=await this[_0x4cf205(0x2aa)]['automateSystem'][_0x4cf205(0x301)](this[_0x4cf205(0x257)][_0x4cf205(0x4d4)]);return this[_0x4cf205(0x2a6)]=_0x43fb22,this[_0x4cf205(0x21c)]['verbose'](this[_0x4cf205(0x401)]+'\x20('+this[_0x4cf205(0x257)][_0x4cf205(0x4d4)]+_0x4cf205(0x2cb)),this['logger'][_0x4cf205(0x6cf)](this[_0x4cf205(0x2a6)]),_0x43fb22;}catch(_0x3bff35){let _0x310801=_0x4cf205(0x7a1),_0x2d2ab0=_0x3bff35 instanceof Error?_0x3bff35[_0x4cf205(0x690)]:typeof _0x3bff35==_0x4cf205(0x5dc)?JSON[_0x4cf205(0x706)](_0x3bff35):_0x3bff35,_0x5d9591=_0x310801+':\x20'+_0x2d2ab0;throw this[_0x4cf205(0x21c)]['error'](this[_0x4cf205(0x401)]+'\x20('+this[_0x4cf205(0x257)][_0x4cf205(0x4d4)]+_0x4cf205(0x342)+_0x5d9591),new m(_0x5d9591);}}async['setRestartTimeout'](){const _0x1b49c8=a0_0x153f5d;this['instance'][_0x1b49c8(0x765)][_0x1b49c8(0x86a)]&&clearTimeout(this['instance']['ScheduleMessage']['timeout']),this[_0x1b49c8(0x257)][_0x1b49c8(0x765)]['timeout']=setTimeout(()=>{const _0x350682=_0x1b49c8;this[_0x350682(0x350)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x153f5d(0x350)](){const _0x5d6190=a0_0x153f5d;Date['now']()-this[_0x5d6190(0x257)][_0x5d6190(0x765)][_0x5d6190(0x414)]>=0x1d4c0&&(this['logger'][_0x5d6190(0x6cf)](this[_0x5d6190(0x401)]+'\x20('+this['instance'][_0x5d6190(0x4d4)]+_0x5d6190(0x42c)),this[_0x5d6190(0x257)]['ScheduleMessage'][_0x5d6190(0x5d2)]=null,this[_0x5d6190(0x257)]['ScheduleMessage']['lastSend']=0x0,this[_0x5d6190(0x257)]['ScheduleMessage'][_0x5d6190(0x481)]=0x0,await this[_0x5d6190(0x492)]());}async[a0_0x153f5d(0x492)](){const _0x4684be=a0_0x153f5d;let _0x49bdf9=()=>{const _0x20c113=a0_0x2486;this['logger'][_0x20c113(0x6cf)](this['instanceName']+'\x20('+this[_0x20c113(0x257)][_0x20c113(0x4d4)]+_0x20c113(0x42b)+this[_0x20c113(0x257)][_0x20c113(0x765)][_0x20c113(0x5d2)]+_0x20c113(0x429));},_0x1c0b9d=async()=>{const _0x429030=a0_0x2486;this['logger']['verbose'](this[_0x429030(0x401)]+'\x20('+this['instance'][_0x429030(0x4d4)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x12922d=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x49ac29={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x429030(0x2fb)](),'$gte':_0x12922d}},{'when':0x0}]}};return await this['repository'][_0x429030(0x46d)][_0x429030(0x84e)](_0x49ac29,this[_0x429030(0x257)][_0x429030(0x4d4)]);},_0x534823=async _0x465249=>{const _0x842d5a=a0_0x2486;for(let _0x55dbdb of _0x465249){let _0x582fdf={'_id':_0x55dbdb['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x842d5a(0x2fb)]()-0x1770}}]},_0x52a6f6={'startSend':Date[_0x842d5a(0x2fb)]()};if(!await this[_0x842d5a(0x2aa)][_0x842d5a(0x46d)][_0x842d5a(0x499)](_0x582fdf,_0x52a6f6,this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]))return;if(!this[_0x842d5a(0x257)][_0x842d5a(0x765)][_0x842d5a(0x415)]){this[_0x842d5a(0x21c)]['verbose'](this[_0x842d5a(0x401)]+'\x20('+this[_0x842d5a(0x257)]['wuid']+_0x842d5a(0x313));break;}if(_0x55dbdb[_0x842d5a(0x74a)]===_0x842d5a(0x52d)&&!this[_0x842d5a(0x2a6)]?.[_0x842d5a(0x3e3)][_0x842d5a(0x717)]){this['logger'][_0x842d5a(0x617)](this[_0x842d5a(0x401)]+'\x20('+this[_0x842d5a(0x257)]['wuid']+_0x842d5a(0x583));continue;}(!_0x55dbdb[_0x842d5a(0x33a)]||_0x55dbdb[_0x842d5a(0x33a)][_0x842d5a(0x487)]===0x0)&&(_0x55dbdb=await this[_0x842d5a(0x2aa)][_0x842d5a(0x46d)][_0x842d5a(0x75f)](_0x55dbdb[_0x842d5a(0x412)],{'status':'sending','remoteJidsRemaining':[..._0x55dbdb[_0x842d5a(0x878)]]},this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]));for(let _0x44276a of _0x55dbdb[_0x842d5a(0x33a)]){if(await this[_0x842d5a(0x1d6)](),this[_0x842d5a(0x257)][_0x842d5a(0x765)][_0x842d5a(0x414)]=Date[_0x842d5a(0x2fb)](),this[_0x842d5a(0x257)][_0x842d5a(0x765)][_0x842d5a(0x4d9)]===_0x44276a){this[_0x842d5a(0x21c)]['error'](this['instanceName']+'\x20('+this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]+_0x842d5a(0x427)+_0x44276a+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0xdf48ab={'$push':{'messagesSend':{'remoteJid':_0x44276a,'error':!0x0,'id':null,'error_log':_0x842d5a(0x621),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x44276a}};await this['repository']['scheduleMessage']['updateOneById'](_0x55dbdb['_id'],_0xdf48ab,this['instance'][_0x842d5a(0x4d4)]);continue;}if(this['instance'][_0x842d5a(0x765)][_0x842d5a(0x4d9)]=_0x44276a,_0x55dbdb[_0x842d5a(0x743)]['some'](_0x519ddb=>_0x519ddb[_0x842d5a(0x28b)]===_0x44276a)){this[_0x842d5a(0x21c)][_0x842d5a(0x6cf)](this['instanceName']+'\x20('+this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x44276a+_0x842d5a(0x2eb));continue;}if(!this['instance'][_0x842d5a(0x765)]['isConnected']){this[_0x842d5a(0x21c)]['verbose'](this[_0x842d5a(0x401)]+'\x20('+this['instance']['wuid']+_0x842d5a(0x4f0));break;}if(!this[_0x842d5a(0x257)][_0x842d5a(0x765)][_0x842d5a(0x5d2)]){this[_0x842d5a(0x21c)][_0x842d5a(0x6cf)](this['instanceName']+'\x20('+this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x55dbdb['_id']+_0x842d5a(0x469));break;}if(_0x55dbdb[_0x842d5a(0x74a)]===_0x842d5a(0x52d)&&!this['AutomateSystem']?.[_0x842d5a(0x3e3)][_0x842d5a(0x717)]){this['logger'][_0x842d5a(0x617)](this[_0x842d5a(0x401)]+'\x20('+this[_0x842d5a(0x257)]['wuid']+_0x842d5a(0x583));break;}let _0x4ff0ff={'remoteJid':_0x44276a,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x842d5a(0x2fb)]()},_0xbc72f7=null;try{let _0x353850=await this[_0x842d5a(0x5f1)](_0x44276a,_0x55dbdb);_0x4ff0ff[_0x842d5a(0x617)]=_0x353850[_0x842d5a(0x617)],_0x4ff0ff['id']=_0x353850[_0x842d5a(0x617)]?null:_0x353850['id'],_0x4ff0ff[_0x842d5a(0x2f8)]=_0x353850[_0x842d5a(0x617)]?_0x353850['detail']?_0x353850[_0x842d5a(0x291)][_0x842d5a(0x894)]():'':null;let _0x43eafb={'$push':{'messagesSend':_0x4ff0ff},'$pull':{'remoteJidsRemaining':_0x44276a}},_0x52c817=_0x55dbdb[_0x842d5a(0x412)];if(_0xbc72f7=await this[_0x842d5a(0x2aa)][_0x842d5a(0x46d)]['updateOneById'](_0x52c817,_0x43eafb,this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]),_0x353850[_0x842d5a(0x617)])continue;let _0x33da2a=this[_0x842d5a(0x263)](_0x55dbdb[_0x842d5a(0x6e3)],_0x55dbdb[_0x842d5a(0x6fa)]);await this['sleep'](_0x33da2a);}catch(_0x469a5f){this[_0x842d5a(0x21c)][_0x842d5a(0x617)](this[_0x842d5a(0x401)]+'\x20('+this['instance'][_0x842d5a(0x4d4)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x44276a+':\x20'+(_0x469a5f instanceof Error?_0x469a5f['message']:JSON['stringify'](_0x469a5f,null,0x2))),_0x4ff0ff[_0x842d5a(0x617)]=!0x0,_0x4ff0ff[_0x842d5a(0x2f8)]=_0x469a5f['message'];let _0x201634={'$push':{'messagesSend':_0x4ff0ff},'$pull':{'remoteJidsRemaining':_0x44276a}},_0x5c94d7=_0x55dbdb[_0x842d5a(0x412)];_0xbc72f7=await this[_0x842d5a(0x2aa)]['scheduleMessage'][_0x842d5a(0x75f)](_0x5c94d7,_0x201634,this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]);}finally{if(_0xbc72f7&&_0xbc72f7['status']===_0x842d5a(0x7dc)){this[_0x842d5a(0x21c)]['verbose'](this[_0x842d5a(0x401)]+'\x20('+this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]+_0x842d5a(0x36a)+_0x55dbdb[_0x842d5a(0x412)]+_0x842d5a(0x2b7));break;}}}let _0x1290b5=await this['repository']['scheduleMessage'][_0x842d5a(0x74b)](_0x55dbdb['_id'],this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]);if(_0x1290b5[_0x842d5a(0x33a)][_0x842d5a(0x487)]===0x0&&_0x1290b5['status']!==_0x842d5a(0x7dc)){this[_0x842d5a(0x257)][_0x842d5a(0x765)][_0x842d5a(0x4d9)]=null;let _0x30d96f={'$set':{'status':'done'}},_0x251355=_0x1290b5[_0x842d5a(0x412)];await this[_0x842d5a(0x2aa)]['scheduleMessage'][_0x842d5a(0x75f)](_0x251355,_0x30d96f,this[_0x842d5a(0x257)][_0x842d5a(0x4d4)]);}await new Promise(_0xaf46b8=>setTimeout(_0xaf46b8,0x1388));}},_0x3f4dc8=async()=>{const _0x547ca2=a0_0x2486;let _0xd21e5f={'where':{'status':_0x547ca2(0x7e9),'when':{'$gt':Date[_0x547ca2(0x2fb)]()}}},_0x43b30f=await this[_0x547ca2(0x2aa)][_0x547ca2(0x46d)][_0x547ca2(0x88a)](_0xd21e5f,this[_0x547ca2(0x257)][_0x547ca2(0x4d4)]);_0x43b30f&&_0x43b30f[_0x547ca2(0x818)]-Date[_0x547ca2(0x2fb)]()<=0x5265c00?this[_0x547ca2(0x257)][_0x547ca2(0x765)][_0x547ca2(0x481)]=_0x43b30f['when']-Date[_0x547ca2(0x2fb)]():this['instance'][_0x547ca2(0x765)][_0x547ca2(0x481)]=(0x3c+Math[_0x547ca2(0x5c4)](Math[_0x547ca2(0x4fe)]()*0x3c))*0x3c*0x3e8,this[_0x547ca2(0x257)][_0x547ca2(0x765)][_0x547ca2(0x481)]=Math['max'](this['instance'][_0x547ca2(0x765)]['delayMessage'],0x7d0);let _0x57ba5a=Math[_0x547ca2(0x2b6)](this[_0x547ca2(0x257)]['ScheduleMessage'][_0x547ca2(0x481)]/0xea60);if(_0x43b30f){let _0x50e11f=new Date(_0x43b30f[_0x547ca2(0x818)])[_0x547ca2(0x7dd)]();this[_0x547ca2(0x21c)]['verbose'](this[_0x547ca2(0x401)]+'\x20('+this[_0x547ca2(0x257)][_0x547ca2(0x4d4)]+_0x547ca2(0x885)+_0x50e11f+_0x547ca2(0x20d)+_0x57ba5a+_0x547ca2(0x561));}else this['logger'][_0x547ca2(0x6cf)](this['instanceName']+'\x20('+this[_0x547ca2(0x257)][_0x547ca2(0x4d4)]+_0x547ca2(0x5cb)+_0x57ba5a+_0x547ca2(0x561));setTimeout(()=>this[_0x547ca2(0x492)](),this['instance'][_0x547ca2(0x765)][_0x547ca2(0x481)]);};if(this[_0x4684be(0x257)]['ScheduleMessage'][_0x4684be(0x5d2)]){await this[_0x4684be(0x1d6)](),_0x49bdf9();return;}if(!this[_0x4684be(0x257)][_0x4684be(0x765)][_0x4684be(0x415)]){this[_0x4684be(0x21c)]['verbose'](this[_0x4684be(0x401)]+'\x20('+this['instance']['wuid']+_0x4684be(0x336)),this[_0x4684be(0x257)][_0x4684be(0x765)][_0x4684be(0x5d2)]=null,this[_0x4684be(0x257)]['ScheduleMessage'][_0x4684be(0x414)]=0x0,this[_0x4684be(0x257)][_0x4684be(0x765)]['delayMessage']=0x0,this[_0x4684be(0x257)][_0x4684be(0x765)][_0x4684be(0x4d9)]=null;return;}try{let _0x32c184=await _0x1c0b9d();_0x32c184['length']===0x0?this[_0x4684be(0x21c)]['verbose'](this['instanceName']+'\x20('+this[_0x4684be(0x257)][_0x4684be(0x4d4)]+_0x4684be(0x379)):(this[_0x4684be(0x257)][_0x4684be(0x765)][_0x4684be(0x5d2)]=_0x32c184[0x0][_0x4684be(0x412)],await _0x534823(_0x32c184)),await _0x3f4dc8(),this[_0x4684be(0x257)][_0x4684be(0x765)][_0x4684be(0x5d2)]=null,this[_0x4684be(0x257)][_0x4684be(0x765)][_0x4684be(0x4d9)]=null;}catch(_0x22940b){this[_0x4684be(0x21c)][_0x4684be(0x617)](_0x4684be(0x300)+(_0x22940b instanceof Error?_0x22940b[_0x4684be(0x690)]:JSON[_0x4684be(0x706)](_0x22940b,null,0x2)));}}[a0_0x153f5d(0x263)](_0x15632f,_0x44de0e){const _0x29d8a9=a0_0x153f5d;return _0x15632f=Math[_0x29d8a9(0x1a4)](0.5,_0x15632f),_0x44de0e=Math[_0x29d8a9(0x1c1)](Math['max'](0x3,_0x44de0e),0x78),Math[_0x29d8a9(0x5c4)](Math['random']()*(_0x44de0e-_0x15632f+0x1)+_0x15632f)*0x3e8;}['sleep'](_0x592090){return new Promise(_0x3a6c64=>setTimeout(_0x3a6c64,_0x592090));}async['getVariablesChat'](_0x120a38){const _0x70ac0b=a0_0x153f5d;if(!this[_0x70ac0b(0x2a6)]&&(await this[_0x70ac0b(0x343)](),!this[_0x70ac0b(0x2a6)]))return null;_0x120a38=this[_0x70ac0b(0x346)](_0x120a38);let _0xa8390f=await this[_0x70ac0b(0x2aa)][_0x70ac0b(0x2ab)][_0x70ac0b(0x88a)]({'where':{'_id':_0x120a38}},this[_0x70ac0b(0x257)][_0x70ac0b(0x4d4)]),_0x48c684={};if(_0xa8390f&&_0xa8390f['leadInfo']){let _0x1fcd24=_0xa8390f[_0x70ac0b(0x69b)];typeof _0x1fcd24[_0x70ac0b(0x770)]==_0x70ac0b(0x60d)&&(_0x48c684[_0x70ac0b(0x770)]=_0x1fcd24[_0x70ac0b(0x770)]),typeof _0x1fcd24['nomecompleto']==_0x70ac0b(0x60d)&&(_0x48c684[_0x70ac0b(0x6ca)]=_0x1fcd24[_0x70ac0b(0x6ca)]),typeof _0x1fcd24['email']==_0x70ac0b(0x60d)&&(_0x48c684['email']=_0x1fcd24['email']),typeof _0x1fcd24[_0x70ac0b(0x62f)]=='string'&&(_0x48c684[_0x70ac0b(0x62f)]=_0x1fcd24['cpf']),typeof _0x1fcd24[_0x70ac0b(0x5d0)]==_0x70ac0b(0x60d)&&(_0x48c684[_0x70ac0b(0x5d0)]=_0x1fcd24[_0x70ac0b(0x5d0)]),typeof _0x1fcd24[_0x70ac0b(0x439)]==_0x70ac0b(0x60d)&&(_0x48c684[_0x70ac0b(0x439)]=_0x1fcd24['notas']),typeof _0x1fcd24['responsavelid']==_0x70ac0b(0x60d)&&(_0x48c684['responsavelid']=_0x1fcd24[_0x70ac0b(0x54b)]),Array[_0x70ac0b(0x653)](_0x1fcd24['tags'])&&(_0x48c684[_0x70ac0b(0x2a5)]=_0x1fcd24[_0x70ac0b(0x2a5)]['join'](',\x20')),Array[_0x70ac0b(0x653)](_0x1fcd24[_0x70ac0b(0x4d8)])&&(_0x48c684[_0x70ac0b(0x4d8)]=_0x1fcd24[_0x70ac0b(0x4d8)][_0x70ac0b(0x658)](',\x20'));}return _0xa8390f&&_0xa8390f[_0x70ac0b(0x69b)]&&_0xa8390f[_0x70ac0b(0x69b)][_0x70ac0b(0x666)]&&_0xa8390f['leadInfo'][_0x70ac0b(0x666)][_0x70ac0b(0x42e)](_0x1e5ece=>{const _0x146fbd=_0x70ac0b;let _0x299ee8=this[_0x146fbd(0x2a6)]?.['customFields'][_0x146fbd(0x84e)](_0x22609b=>_0x22609b[_0x146fbd(0x412)]===_0x1e5ece[_0x146fbd(0x412)]);_0x299ee8&&(_0x48c684[_0x299ee8[_0x146fbd(0x525)]]=_0x1e5ece[_0x146fbd(0x385)]);}),_0x48c684;}async[a0_0x153f5d(0x1d7)](_0x3acae9,_0x2afed5){const _0x26fb97=a0_0x153f5d;try{let _0x3ea7d0=await this[_0x26fb97(0x204)](_0x2afed5);return this[_0x26fb97(0x5d4)](_0x3acae9,_0x3ea7d0);}catch(_0x41c5ac){return this[_0x26fb97(0x21c)][_0x26fb97(0x617)](_0x26fb97(0x4d1)+_0x2afed5+':\x20'+_0x41c5ac),_0x3acae9;}}async[a0_0x153f5d(0x856)](_0x2909a4){const _0x8a956d=a0_0x153f5d;try{if(this[_0x8a956d(0x21c)][_0x8a956d(0x6cf)](this[_0x8a956d(0x401)]+'\x20('+this[_0x8a956d(0x257)]['wuid']+_0x8a956d(0x6ea)),_0x2909a4[_0x8a956d(0x435)]&&_0x2909a4['_id']){if(this[_0x8a956d(0x257)]['ScheduleMessage'][_0x8a956d(0x5d2)]===_0x2909a4[_0x8a956d(0x412)][_0x8a956d(0x894)]())throw new Error(_0x8a956d(0x5fc));let _0x2b4089=await this[_0x8a956d(0x2aa)][_0x8a956d(0x46d)][_0x8a956d(0x37f)](_0x2909a4[_0x8a956d(0x412)],this[_0x8a956d(0x257)]['wuid']);return setTimeout(()=>this[_0x8a956d(0x492)](),0x7d0),_0x2b4089;}let _0x3000ba;if(_0x2909a4[_0x8a956d(0x412)]&&(_0x3000ba=await this[_0x8a956d(0x2aa)][_0x8a956d(0x46d)]['findById'](_0x2909a4[_0x8a956d(0x412)],this['instance']['wuid'])),_0x3000ba){let _0x202864;if(this[_0x8a956d(0x257)][_0x8a956d(0x765)][_0x8a956d(0x5d2)]===_0x3000ba[_0x8a956d(0x412)]['toString']())_0x202864={'$set':{'status':_0x2909a4['status']}};else{let {_id:_0x3c90c6,..._0x1afd0c}=_0x2909a4;_0x202864={'$set':_0x1afd0c};}let _0x50034f=await this[_0x8a956d(0x2aa)][_0x8a956d(0x46d)]['updateOneById'](_0x2909a4[_0x8a956d(0x412)],_0x202864,this[_0x8a956d(0x257)][_0x8a956d(0x4d4)]);return setTimeout(()=>this[_0x8a956d(0x492)](),0x7d0),_0x50034f;}else{_0x2909a4[_0x8a956d(0x874)]=this['instance'][_0x8a956d(0x4d4)];let _0x2a40d6=await this[_0x8a956d(0x2aa)]['scheduleMessage'][_0x8a956d(0x5bf)](_0x2909a4,this[_0x8a956d(0x257)][_0x8a956d(0x4d4)]);return setTimeout(()=>this[_0x8a956d(0x492)](),0x7d0),_0x2a40d6;}}catch(_0x38029e){let _0x54b87d='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0xab8eab=_0x38029e instanceof Error?_0x38029e[_0x8a956d(0x690)]:typeof _0x38029e==_0x8a956d(0x5dc)?JSON[_0x8a956d(0x706)](_0x38029e):_0x38029e,_0x4b163a=_0x54b87d+':\x20'+_0xab8eab;throw this[_0x8a956d(0x21c)][_0x8a956d(0x617)](this['instanceName']+'\x20('+this[_0x8a956d(0x257)]['wuid']+_0x8a956d(0x342)+_0x4b163a),new m(_0x4b163a);}}async[a0_0x153f5d(0x60c)](){const _0x378769=a0_0x153f5d;try{return await this['repository'][_0x378769(0x46d)]['find']({'where':{}},this[_0x378769(0x257)]['wuid']);}catch(_0x2cc968){let _0x56fd6a=_0x378769(0x265),_0x770aa1=_0x2cc968 instanceof Error?_0x2cc968[_0x378769(0x690)]:typeof _0x2cc968==_0x378769(0x5dc)?JSON['stringify'](_0x2cc968):_0x2cc968,_0x19703d=_0x56fd6a+':\x20'+_0x770aa1;throw this[_0x378769(0x21c)][_0x378769(0x617)](this[_0x378769(0x401)]+'\x20('+this[_0x378769(0x257)][_0x378769(0x4d4)]+_0x378769(0x342)+_0x19703d),new m(_0x19703d);}}async[a0_0x153f5d(0x3e2)](){const _0x3e9f92=a0_0x153f5d;try{let _0x37e92c={'status':_0x3e9f92(0x68d)},_0x5d7588=await this[_0x3e9f92(0x2aa)][_0x3e9f92(0x46d)][_0x3e9f92(0x43a)](_0x37e92c,this[_0x3e9f92(0x257)][_0x3e9f92(0x4d4)]);if(!_0x5d7588[_0x3e9f92(0x617)])this[_0x3e9f92(0x21c)][_0x3e9f92(0x6cf)](this[_0x3e9f92(0x401)]+'\x20('+this[_0x3e9f92(0x257)][_0x3e9f92(0x4d4)]+_0x3e9f92(0x4c0));else throw new Error(_0x5d7588[_0x3e9f92(0x617)][_0x3e9f92(0x690)]||_0x3e9f92(0x4db));return this[_0x3e9f92(0x60c)]();}catch(_0x2906c5){let _0xc6da43=_0x3e9f92(0x1e9),_0x8de33d=_0x2906c5 instanceof Error?_0x2906c5[_0x3e9f92(0x690)]:typeof _0x2906c5=='object'?JSON[_0x3e9f92(0x706)](_0x2906c5):_0x2906c5,_0x4738be=_0xc6da43+':\x20'+_0x8de33d;throw this[_0x3e9f92(0x21c)][_0x3e9f92(0x617)](this[_0x3e9f92(0x401)]+'\x20('+this['instance'][_0x3e9f92(0x4d4)]+'):\x20'+_0x4738be),new m(_0x4738be);}}async[a0_0x153f5d(0x5f1)](_0x2c47b7,_0x5072f){const _0x217eca=a0_0x153f5d;try{if(_0x5072f[_0x217eca(0x74a)]===_0x217eca(0x52d)&&!this[_0x217eca(0x2a6)]?.[_0x217eca(0x3e3)][_0x217eca(0x717)])return this[_0x217eca(0x21c)][_0x217eca(0x617)](this[_0x217eca(0x401)]+'\x20('+this[_0x217eca(0x257)][_0x217eca(0x4d4)]+_0x217eca(0x606)),{'error':!0x0,'detail':_0x217eca(0x2f6)};switch(_0x5072f[_0x217eca(0x74a)]){case _0x217eca(0x30b):return await this[_0x217eca(0x351)](_0x5072f,_0x2c47b7);case _0x217eca(0x807):return await this[_0x217eca(0x287)](_0x5072f,_0x2c47b7);case'audio':return await this[_0x217eca(0x333)](_0x5072f,_0x2c47b7);case _0x217eca(0x52d):let _0x5e3ec6=new qe();return _0x5e3ec6[_0x217eca(0x525)]=_0x5072f['flowName'],_0x5e3ec6[_0x217eca(0x28b)]=_0x2c47b7,await this['startFlow'](_0x5e3ec6);break;default:return this['logger'][_0x217eca(0x617)](this['instanceName']+'\x20('+this['instance'][_0x217eca(0x4d4)]+_0x217eca(0x1aa)+_0x5072f['type']),{'error':!0x0,'detail':_0x217eca(0x4e3)};}}catch(_0x588dbd){return this['logger'][_0x217eca(0x617)](this[_0x217eca(0x401)]+'\x20('+this['instance'][_0x217eca(0x4d4)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x588dbd instanceof Error?_0x588dbd[_0x217eca(0x690)]:JSON['stringify'](_0x588dbd,null,0x2))),{'error':!0x0,'detail':_0x588dbd['message']};}}[a0_0x153f5d(0x19e)](_0x436bb7){const _0x2968fe=a0_0x153f5d;let _0x20875b=_0x436bb7['split']('|'),_0x22c0e9=Math['floor'](Math[_0x2968fe(0x4fe)]()*_0x20875b['length']);return _0x20875b[_0x22c0e9][_0x2968fe(0x23d)]();}async[a0_0x153f5d(0x351)](_0x2adaea,_0x5eaab6){const _0x3d70e3=a0_0x153f5d;if(this[_0x3d70e3(0x21c)][_0x3d70e3(0x6cf)](this[_0x3d70e3(0x401)]+'\x20('+this[_0x3d70e3(0x257)]['wuid']+'):\x20Enviando\x20texto'),!_0x2adaea[_0x3d70e3(0x690)][_0x3d70e3(0x30b)]||_0x2adaea['message'][_0x3d70e3(0x30b)][_0x3d70e3(0x487)]===0x0)return{'error':!0x0,'detail':_0x3d70e3(0x1b7)};let _0x4e1b80=this[_0x3d70e3(0x19e)](_0x2adaea['message'][_0x3d70e3(0x30b)]),_0x2021a5=await this[_0x3d70e3(0x1d7)](_0x4e1b80,_0x5eaab6),_0x12e10e={'number':_0x5eaab6,'options':{'delay':_0x2adaea['message']['delay'],'linkPreview':_0x2adaea['message'][_0x3d70e3(0x777)]},'textMessage':{'text':_0x2021a5}},_0x48dba2=null;try{let _0x5ab412=await this[_0x3d70e3(0x3a5)](_0x12e10e);if(_0x5ab412&&_0x5ab412['status'])return{'error':!0x1,'id':_0x5ab412['key']['id']};_0x48dba2=JSON[_0x3d70e3(0x706)](_0x5ab412),this['logger']['verbose'](this[_0x3d70e3(0x401)]+'\x20('+this['instance'][_0x3d70e3(0x4d4)]+_0x3d70e3(0x342)+_0x48dba2);}catch(_0x69c4a0){this['logger']['error'](this[_0x3d70e3(0x401)]+'\x20('+this['instance'][_0x3d70e3(0x4d4)]+_0x3d70e3(0x2e4)+(_0x69c4a0 instanceof Error?_0x69c4a0[_0x3d70e3(0x690)]:JSON[_0x3d70e3(0x706)](_0x69c4a0,null,0x2))),_0x48dba2=_0x69c4a0['message'];}if(_0x48dba2)return{'error':!0x0,'detail':(typeof _0x48dba2==_0x3d70e3(0x5dc)?JSON[_0x3d70e3(0x706)](_0x48dba2,null,0x2):_0x48dba2)[_0x3d70e3(0x72d)](/[\[\]{}\n]/g,'\x20')[_0x3d70e3(0x72d)](/  +/g,'\x20')};}async[a0_0x153f5d(0x287)](_0x45731d,_0x337650){const _0x3cb45c=a0_0x153f5d;this[_0x3cb45c(0x21c)][_0x3cb45c(0x6cf)](this['instanceName']+'\x20('+this[_0x3cb45c(0x257)][_0x3cb45c(0x4d4)]+_0x3cb45c(0x272));let _0x4fbd4e;if(_0x45731d[_0x3cb45c(0x690)][_0x3cb45c(0x30b)]&&_0x45731d[_0x3cb45c(0x690)][_0x3cb45c(0x30b)][_0x3cb45c(0x487)]>0x0){let _0x4f12dc=this['getRandomText'](_0x45731d[_0x3cb45c(0x690)]['text']);_0x4fbd4e=await this[_0x3cb45c(0x1d7)](_0x4f12dc,_0x337650);}let _0x5e7add={'number':_0x337650,'options':{'delay':_0x45731d[_0x3cb45c(0x690)]['delay'],'linkPreview':_0x45731d['message'][_0x3cb45c(0x777)]},'mediaMessage':{'mediatype':_0x45731d['message'][_0x3cb45c(0x689)],'caption':_0x4fbd4e,'media':_0x45731d[_0x3cb45c(0x690)][_0x3cb45c(0x222)]}},_0x8cc763=null;try{let _0x4deef5=await this[_0x3cb45c(0x1f7)](_0x5e7add);if(_0x4deef5&&_0x4deef5['status'])return{'error':!0x1,'id':_0x4deef5[_0x3cb45c(0x76f)]['id']};_0x8cc763=JSON[_0x3cb45c(0x706)](_0x4deef5),this[_0x3cb45c(0x21c)][_0x3cb45c(0x6cf)](this[_0x3cb45c(0x401)]+'\x20('+this['instance'][_0x3cb45c(0x4d4)]+'):\x20'+_0x8cc763);}catch(_0x17bbeb){this[_0x3cb45c(0x21c)]['error'](this[_0x3cb45c(0x401)]+'\x20('+this['instance']['wuid']+_0x3cb45c(0x6e8)+(_0x17bbeb instanceof Error?_0x17bbeb[_0x3cb45c(0x690)]:JSON[_0x3cb45c(0x706)](_0x17bbeb,null,0x2))),_0x8cc763=_0x17bbeb[_0x3cb45c(0x690)];}if(_0x8cc763)return{'error':!0x0,'detail':(typeof _0x8cc763==_0x3cb45c(0x5dc)?JSON[_0x3cb45c(0x706)](_0x8cc763,null,0x2):_0x8cc763)[_0x3cb45c(0x72d)](/[\[\]{}\n]/g,'\x20')[_0x3cb45c(0x72d)](/  +/g,'\x20')};}async[a0_0x153f5d(0x333)](_0x46a401,_0x5b6ccd){const _0x5a238b=a0_0x153f5d;this[_0x5a238b(0x21c)][_0x5a238b(0x6cf)](this['instanceName']+'\x20('+this['instance'][_0x5a238b(0x4d4)]+_0x5a238b(0x22b));let _0x598d25={'number':_0x5b6ccd,'options':{'delay':_0x46a401[_0x5a238b(0x690)]['delay']},'audioMessage':{'audio':_0x46a401[_0x5a238b(0x690)]['urlOrBase64']}},_0x4ca9a1=null;try{let _0x2cc89a=await this[_0x5a238b(0x294)](_0x598d25);if(_0x2cc89a&&_0x2cc89a[_0x5a238b(0x5d0)])return{'error':!0x1,'id':_0x2cc89a[_0x5a238b(0x76f)]['id']};_0x4ca9a1=JSON['stringify'](_0x2cc89a),this[_0x5a238b(0x21c)][_0x5a238b(0x6cf)](this['instanceName']+'\x20('+this[_0x5a238b(0x257)][_0x5a238b(0x4d4)]+'):\x20'+_0x4ca9a1);}catch(_0x25b765){this[_0x5a238b(0x21c)]['error'](this[_0x5a238b(0x401)]+'\x20('+this[_0x5a238b(0x257)]['wuid']+_0x5a238b(0x6b6)+(_0x25b765 instanceof Error?_0x25b765['message']:JSON[_0x5a238b(0x706)](_0x25b765,null,0x2))),_0x4ca9a1=_0x25b765[_0x5a238b(0x690)];}if(_0x4ca9a1)return{'error':!0x0,'detail':(typeof _0x4ca9a1==_0x5a238b(0x5dc)?JSON[_0x5a238b(0x706)](_0x4ca9a1,null,0x2):_0x4ca9a1)[_0x5a238b(0x72d)](/[\[\]{}\n]/g,'\x20')[_0x5a238b(0x72d)](/  +/g,'\x20')};}async[a0_0x153f5d(0x710)](_0x51f830){const _0x1ded88=a0_0x153f5d;try{return await this['client']['groupUpdateDescription'](_0x51f830[_0x1ded88(0x48a)],_0x51f830['description']),{'update':_0x1ded88(0x2ba)};}catch(_0x4593d2){let _0x574831=_0x1ded88(0x417),_0x58ed7b=_0x4593d2 instanceof Error?_0x4593d2['message']:typeof _0x4593d2==_0x1ded88(0x5dc)?JSON[_0x1ded88(0x706)](_0x4593d2):_0x4593d2,_0x171f6b=_0x574831+':\x20'+_0x58ed7b;throw this['logger'][_0x1ded88(0x617)](this[_0x1ded88(0x401)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x171f6b),new I(_0x171f6b);}}async[a0_0x153f5d(0x86e)](_0x8ad7d){const _0x2ede41=a0_0x153f5d;try{return await this[_0x2ede41(0x7de)][_0x2ede41(0x5a8)](_0x8ad7d[_0x2ede41(0x48a)],_0x8ad7d['name']),{'update':_0x2ede41(0x2ba)};}catch(_0x130a8c){let _0x3a9f11='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x155873=_0x130a8c instanceof Error?_0x130a8c[_0x2ede41(0x690)]:typeof _0x130a8c==_0x2ede41(0x5dc)?JSON[_0x2ede41(0x706)](_0x130a8c):_0x130a8c,_0x395595=_0x3a9f11+':\x20'+_0x155873;throw this['logger'][_0x2ede41(0x617)](this[_0x2ede41(0x401)]+'\x20('+this[_0x2ede41(0x257)][_0x2ede41(0x4d4)]+_0x2ede41(0x342)+_0x395595),new I(_0x395595);}}async[a0_0x153f5d(0x1a0)](_0x57961f){const _0x98106f=a0_0x153f5d;try{let _0x12d533=await this[_0x98106f(0x7de)][_0x98106f(0x786)](_0x57961f[_0x98106f(0x48a)],_0x57961f[_0x98106f(0x6a6)]);return{'success':!0x0};}catch(_0x489a0f){let _0xd559b8='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x40a719=_0x489a0f instanceof Error?_0x489a0f['message']:typeof _0x489a0f==_0x98106f(0x5dc)?JSON[_0x98106f(0x706)](_0x489a0f):_0x489a0f,_0x5d03a0=_0xd559b8+':\x20'+_0x40a719;throw this[_0x98106f(0x21c)][_0x98106f(0x617)](this[_0x98106f(0x401)]+'\x20('+this['instance']['wuid']+_0x98106f(0x342)+_0x5d03a0),new I(_0x5d03a0);}}async[a0_0x153f5d(0x4a9)](_0x4290ce){const _0x320cf5=a0_0x153f5d;try{return await this[_0x320cf5(0x7de)][_0x320cf5(0x55c)](_0x4290ce[_0x320cf5(0x48a)],_0x4290ce[_0x320cf5(0x383)]),{'update':'success'};}catch(_0x48aa44){let _0x19ad05=_0x320cf5(0x7af),_0x1dc79b=_0x48aa44 instanceof Error?_0x48aa44[_0x320cf5(0x690)]:typeof _0x48aa44==_0x320cf5(0x5dc)?JSON['stringify'](_0x48aa44):_0x48aa44,_0x1f5b57=_0x19ad05+':\x20'+_0x1dc79b;throw this[_0x320cf5(0x21c)][_0x320cf5(0x617)](this[_0x320cf5(0x401)]+'\x20('+this[_0x320cf5(0x257)][_0x320cf5(0x4d4)]+_0x320cf5(0x342)+_0x1f5b57),new I(_0x1f5b57);}}async[a0_0x153f5d(0x7cf)](_0xeabe72){const _0x13bac6=a0_0x153f5d;try{let _0x45b1f1;if((0x0,P['isURL'])(_0xeabe72['image'])){let _0x43752b=new Date()['getTime'](),_0x480e2a=_0xeabe72[_0x13bac6(0x56d)]+_0x13bac6(0x426)+_0x43752b;_0x45b1f1=(await K[_0x13bac6(0x2b3)][_0x13bac6(0x4be)](_0x480e2a,{'responseType':_0x13bac6(0x73f)}))[_0x13bac6(0x28c)];}else{if((0x0,P[_0x13bac6(0x761)])(_0xeabe72[_0x13bac6(0x56d)]))_0x45b1f1=Buffer[_0x13bac6(0x2bd)](_0xeabe72[_0x13bac6(0x56d)],_0x13bac6(0x1ac));else throw new m(_0x13bac6(0x1ba));}return await this[_0x13bac6(0x7de)]['updateProfilePicture'](_0xeabe72['groupJid'],_0x45b1f1),{'update':_0x13bac6(0x2ba)};}catch(_0x510dae){let _0x4c8ef1=_0x13bac6(0x4ac),_0x20bae2=_0x510dae instanceof Error?_0x510dae['message']:typeof _0x510dae==_0x13bac6(0x5dc)?JSON[_0x13bac6(0x706)](_0x510dae):_0x510dae,_0x21db4a=_0x4c8ef1+':\x20'+_0x20bae2;throw this[_0x13bac6(0x21c)]['error'](this[_0x13bac6(0x401)]+'\x20('+this[_0x13bac6(0x257)][_0x13bac6(0x4d4)]+_0x13bac6(0x342)+_0x21db4a),new I(_0x21db4a);}}},Jt=class c{constructor(_0x139069,_0x2852df,_0x8382c6){const _0x4c29c0=a0_0x153f5d;this[_0x4c29c0(0x764)]=_0x139069,this[_0x4c29c0(0x494)]=_0x2852df,this['repository']=_0x8382c6,this['db']={},this['redis']={},this[_0x4c29c0(0x21c)]=new R(c[_0x4c29c0(0x525)]),this[_0x4c29c0(0x65e)]={},(this[_0x4c29c0(0x47d)](),this[_0x4c29c0(0x32e)](),Object['assign'](this['db'],_0x2852df[_0x4c29c0(0x4be)](_0x4c29c0(0x5db))),Object[_0x4c29c0(0x33e)](this[_0x4c29c0(0x44e)],_0x2852df['get'](_0x4c29c0(0x3b1))),this[_0x4c29c0(0x235)]=this['db']['ENABLED']?this[_0x4c29c0(0x2aa)][_0x4c29c0(0x78b)]?.['db'](this['db']['CONNECTION'][_0x4c29c0(0x553)]+_0x4c29c0(0x729)):void 0x0,this['cache']=this[_0x4c29c0(0x44e)]['ENABLED']?new ce(this['redis']):void 0x0);}async['instanceInfo'](_0x64a9dd){const _0x1acc94=a0_0x153f5d;if(_0x64a9dd&&!this[_0x1acc94(0x65e)][_0x64a9dd])throw new U(_0x1acc94(0x781)+_0x64a9dd+_0x1acc94(0x509));let _0x5442d2=[];for await(let [_0x21dafc,_0x390495]of Object['entries'](this[_0x1acc94(0x65e)]))if(_0x390495&&_0x390495[_0x1acc94(0x75d)][_0x1acc94(0x7b6)]==='open'){let _0xae74cc=await this[_0x1acc94(0x2aa)][_0x1acc94(0x38b)]['find'](_0x21dafc);_0x5442d2[_0x1acc94(0x6f8)]({'instance':{'instanceName':_0x21dafc,'apikey':_0xae74cc[_0x1acc94(0x6b4)],'owner':_0x390495[_0x1acc94(0x4d4)],'profileName':await _0x390495[_0x1acc94(0x78e)]()||_0x1acc94(0x436),'profilePictureUrl':_0x390495[_0x1acc94(0x420)]}});}return _0x5442d2['find'](_0x5dad7b=>_0x5dad7b[_0x1acc94(0x257)][_0x1acc94(0x401)]===_0x64a9dd)??_0x5442d2;}async[a0_0x153f5d(0x269)](_0x4ad3f4){const _0x5c4f44=a0_0x153f5d;if(this['db'][_0x5c4f44(0x3e1)]&&(await this['repository']['dbServer'][_0x5c4f44(0x50f)](),(await this[_0x5c4f44(0x235)][_0x5c4f44(0x448)]())['length']>0x0&&await this[_0x5c4f44(0x235)][_0x5c4f44(0x391)](_0x4ad3f4)),this[_0x5c4f44(0x44e)][_0x5c4f44(0x3e1)]){this['cache'][_0x5c4f44(0x736)]=_0x4ad3f4,await this[_0x5c4f44(0x775)][_0x5c4f44(0x407)]();return;}}async['loadInstance'](){const _0x582616=a0_0x153f5d;await this[_0x582616(0x72f)]();let _0x2d72d2=async _0x2dc158=>{const _0x4faa8b=_0x582616;let _0x3f2b23=new Ce(this['configService'],this['eventEmitter'],this[_0x4faa8b(0x2aa)]);_0x3f2b23[_0x4faa8b(0x401)]=_0x2dc158,await _0x3f2b23[_0x4faa8b(0x71a)](),this['waInstances'][_0x2dc158]=_0x3f2b23;};try{if(this['redis'][_0x582616(0x3e1)]){let _0x4aa848=await this[_0x582616(0x775)][_0x582616(0x37d)]();_0x4aa848?.[_0x582616(0x487)]>0x0&&_0x4aa848[_0x582616(0x42e)](async _0x27f95d=>await _0x2d72d2(_0x27f95d[_0x582616(0x701)](':')[0x1]));return;}if(this['db'][_0x582616(0x3e1)]){await this['repository'][_0x582616(0x78b)][_0x582616(0x50f)]();let _0x5b7585=await this[_0x582616(0x235)][_0x582616(0x448)]();_0x5b7585[_0x582616(0x487)]>0x0&&_0x5b7585['forEach'](async _0x158afa=>await _0x2d72d2(_0x158afa[_0x582616(0x3ae)][_0x582616(0x72d)](/^[\w-]+\./,'')));return;}}catch(_0x24b026){this[_0x582616(0x21c)][_0x582616(0x617)](_0x24b026);}}async['InstancesAsDisconnectedX'](){const _0x5cfde2=a0_0x153f5d;let _0x21b3fa=await this[_0x5cfde2(0x2aa)][_0x5cfde2(0x38b)][_0x5cfde2(0x2ff)](),_0x24cc36=_0x21b3fa[_0x5cfde2(0x65b)](_0x95b38a=>!this['waInstances'][_0x95b38a[_0x5cfde2(0x412)]]&&(_0x95b38a[_0x5cfde2(0x68c)]||typeof _0x95b38a[_0x5cfde2(0x68c)]>'u'));_0x24cc36['length']>0x0&&await Promise[_0x5cfde2(0x512)](_0x24cc36[_0x5cfde2(0x26b)](async _0x14868f=>{const _0x512626=_0x5cfde2;let _0x4e9504={'online':!0x1,'lastDisconnect':Date[_0x512626(0x2fb)]()};await this[_0x512626(0x2aa)]['auth']['create'](_0x4e9504,_0x14868f[_0x512626(0x412)]);}));let _0x2039ed=Date[_0x5cfde2(0x2fb)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x3e95a1=_0x21b3fa[_0x5cfde2(0x65b)](_0x4c6be4=>!this[_0x5cfde2(0x65e)][_0x4c6be4['_id']]&&typeof _0x4c6be4[_0x5cfde2(0x2fc)]<'u'&&_0x4c6be4[_0x5cfde2(0x2fc)]<_0x2039ed);_0x3e95a1[_0x5cfde2(0x487)]>0x0&&await Promise[_0x5cfde2(0x512)](_0x3e95a1['map'](async _0x220c33=>{}));}async[a0_0x153f5d(0x72f)](){const _0x3b722b=a0_0x153f5d;try{let _0x12cd2b={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x2fa8d8={'online':!0x1,'lastDisconnect':Date[_0x3b722b(0x2fb)]()},_0x158cff=await this[_0x3b722b(0x2aa)][_0x3b722b(0x38b)][_0x3b722b(0x747)](_0x12cd2b,_0x2fa8d8);console['log']('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x158cff[_0x3b722b(0x43e)]),await this[_0x3b722b(0x613)]();}catch(_0x6ac712){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x6ac712);}}async[a0_0x153f5d(0x613)](){const _0xca2c1d=a0_0x153f5d;try{let _0x5054fc={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x514904=await this[_0xca2c1d(0x2aa)][_0xca2c1d(0x38b)][_0xca2c1d(0x43a)](_0x5054fc);console['log'](_0xca2c1d(0x4cb)+_0x514904[_0xca2c1d(0x43e)]);}catch(_0x4ec6bc){console[_0xca2c1d(0x617)](_0xca2c1d(0x4e7),_0x4ec6bc);}}[a0_0x153f5d(0x47d)](){const _0x23d7e3=a0_0x153f5d;this['eventEmitter']['on'](_0x23d7e3(0x7ad),async _0x475e48=>{const _0x386cfc=_0x23d7e3;try{this['waInstances'][_0x475e48]=void 0x0;}catch{}try{this[_0x386cfc(0x269)](_0x475e48);}finally{this[_0x386cfc(0x21c)][_0x386cfc(0x557)]('Instance\x20\x22'+_0x475e48+_0x386cfc(0x582));}});}[a0_0x153f5d(0x32e)](){const _0x5cdccd=a0_0x153f5d;this[_0x5cdccd(0x764)]['on'](_0x5cdccd(0x3cf),async _0x40973a=>{const _0x130aa9=_0x5cdccd;try{this[_0x130aa9(0x65e)][_0x40973a]=void 0x0;}catch{}try{this[_0x130aa9(0x269)](_0x40973a);}finally{this[_0x130aa9(0x21c)][_0x130aa9(0x557)](_0x130aa9(0x781)+_0x40973a+_0x130aa9(0x28e));}});}},Ut=class extends x{['getChatModelForOwner'](_0xa6c610){return Ks(_0xa6c610);}async[a0_0x153f5d(0x358)](_0x3f2ff7){const _0x3df10d=a0_0x153f5d;if(_0x3f2ff7['length']!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x3f2ff7[0x0][_0x3df10d(0x874)])[_0x3df10d(0x814)]([..._0x3f2ff7]))['length']};}catch(_0x3459ff){return _0x3459ff;}}async[a0_0x153f5d(0x84e)](_0x138ba0,_0x434662){const _0x4a83ee=a0_0x153f5d;try{let _0x3c937b=this[_0x4a83ee(0x7e3)](_0x434662),_0x305068=T(_0x138ba0['where']);return await _0x3c937b[_0x4a83ee(0x84e)](_0x305068)[_0x4a83ee(0x6da)]({'lastmsg':-0x1})[_0x4a83ee(0x86f)](_0x138ba0?.['limit']??0x0)[_0x4a83ee(0x1f2)]();}catch{return[];}}async['delete'](_0x484198,_0x1cc2c0){const _0x2be7db=a0_0x153f5d;try{return{'deletedCount':(await this[_0x2be7db(0x7e3)](_0x1cc2c0)['deleteMany']({..._0x484198[_0x2be7db(0x302)]}))[_0x2be7db(0x6bd)]};}catch(_0xdf3bdc){return{'error':_0xdf3bdc?.[_0x2be7db(0x894)]()};}}async[a0_0x153f5d(0x693)](_0x28625f,_0x3e7593){try{return await this['getChatModelForOwner'](_0x3e7593)['deleteMany']({..._0x28625f['where']}),[];}catch(_0x40b98a){return{'error':_0x40b98a?.['toString']()};}}async['findOne'](_0x421551,_0x4509d9){const _0x87ebf4=a0_0x153f5d;try{let _0x1799b2=this[_0x87ebf4(0x7e3)](_0x4509d9),_0x2d5f39=T(_0x421551[_0x87ebf4(0x302)]);return await _0x1799b2[_0x87ebf4(0x88a)](_0x2d5f39)[_0x87ebf4(0x1f2)]();}catch{return null;}}async[a0_0x153f5d(0x499)](_0x255733,_0x12e92d,_0x38135f,_0x2ebfee,_0x3fb979=a0_0x153f5d(0x307)){const _0x151799=a0_0x153f5d;try{let _0x5f2d7b={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2ebfee},_0x3d5e17=this[_0x151799(0x7e3)](_0x38135f),_0x121983=T(_0x255733[_0x151799(0x302)]);Object['keys'](_0x12e92d)[_0x151799(0x42e)](_0x4b5b02=>{_0x12e92d[_0x4b5b02]==null&&delete _0x12e92d[_0x4b5b02];});let _0x18da69={};return _0x18da69[_0x3fb979]=_0x12e92d,await _0x3d5e17[_0x151799(0x673)](_0x121983,_0x18da69,_0x5f2d7b);}catch(_0x30cf5c){return console[_0x151799(0x617)](_0x30cf5c),null;}}async[a0_0x153f5d(0x21d)](_0xc044ab){const _0x36dbb8=a0_0x153f5d;try{let _0x44ee2d=this[_0x36dbb8(0x7e3)](_0xc044ab[0x0][_0x36dbb8(0x3e7)][_0x36dbb8(0x302)]['owner']),_0x5f4944=_0xc044ab['map'](_0x3f97b6=>({'updateOne':{'filter':{..._0x3f97b6[_0x36dbb8(0x3e7)][_0x36dbb8(0x302)]},'update':{'$set':_0x3f97b6[_0x36dbb8(0x4e4)]},'upsert':!0x0}})),_0x226620=await _0x44ee2d['bulkWrite'](_0x5f4944);return _0x226620[_0x36dbb8(0x3ba)]+_0x226620[_0x36dbb8(0x7e5)];}catch(_0x3d7fa3){return console[_0x36dbb8(0x617)](_0x3d7fa3),0x0;}}async['removeUnusedChatFields'](_0x384bc8){const _0x450c86=a0_0x153f5d;try{let _0x3f1b4a={'group_isCommunity':'','group_announce':'','group_size':''},_0x6347f6={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x3d42b3={'$unset':_0x3f1b4a};return(await this[_0x450c86(0x7e3)](_0x384bc8)[_0x450c86(0x21d)](_0x6347f6,_0x3d42b3))[_0x450c86(0x3ba)];}catch(_0x4287fc){return console[_0x450c86(0x617)](_0x450c86(0x732),_0x4287fc),0x0;}}async[a0_0x153f5d(0x1fa)](_0x3f9e40){const _0x798407=a0_0x153f5d;try{let _0x3224bb=this[_0x798407(0x7e3)](_0x3f9e40),_0x5445da={'leadInfo.etiquetas':{'$exists':!0x1}},_0x11c644={'$set':{'leadInfo.etiquetas':[]}};return(await _0x3224bb['updateMany'](_0x5445da,_0x11c644))['modifiedCount'];}catch(_0x1f52a6){return console[_0x798407(0x617)](_0x1f52a6),0x0;}}async[a0_0x153f5d(0x1a2)](_0x50bb90){const _0xdd03a9=a0_0x153f5d;try{let _0x41c960=this[_0xdd03a9(0x7e3)](_0x50bb90),_0xa42347={'leadInfo.tags':{'$exists':!0x1}},_0x58f42b={'$set':{'leadInfo.tags':[]}};return(await _0x41c960[_0xdd03a9(0x21d)](_0xa42347,_0x58f42b))[_0xdd03a9(0x3ba)];}catch(_0x1818db){return console[_0xdd03a9(0x617)](_0x1818db),0x0;}}async['updateMissingCustomFields'](_0x14e429){const _0x485412=a0_0x153f5d;try{let _0x2eef1a=this['getChatModelForOwner'](_0x14e429),_0x3fa077={'leadInfo.customFields':{'$exists':!0x1}},_0xf6c60a={'$set':{'leadInfo.customFields':[]}};return(await _0x2eef1a[_0x485412(0x21d)](_0x3fa077,_0xf6c60a))[_0x485412(0x3ba)];}catch(_0x3bb410){return console[_0x485412(0x617)](_0x3bb410),0x0;}}async[a0_0x153f5d(0x814)](_0x54bc62,_0x4505d2){const _0x1fed21=a0_0x153f5d;if(!Array[_0x1fed21(0x653)](_0x54bc62)||_0x54bc62[_0x1fed21(0x487)]===0x0)throw new Error(_0x1fed21(0x71b));try{return(await this[_0x1fed21(0x7e3)](_0x4505d2)[_0x1fed21(0x814)](_0x54bc62))[_0x1fed21(0x487)];}catch(_0x2b11a7){throw console[_0x1fed21(0x617)](_0x1fed21(0x520),_0x2b11a7),_0x2b11a7;}}async[a0_0x153f5d(0x580)](_0x537780,_0x9b9d5c){const _0xe705e8=a0_0x153f5d;try{await this[_0xe705e8(0x7e3)](_0x9b9d5c)[_0xe705e8(0x37f)]({'_id':_0x537780});}catch(_0x25f0dd){throw console[_0xe705e8(0x617)](_0xe705e8(0x1da),_0x25f0dd),_0x25f0dd;}}},qt=class extends x{constructor(_0x1bf936,_0x3fcd7e,_0x33390a){const _0x36a4f5=a0_0x153f5d;super(_0x3fcd7e),this[_0x36a4f5(0x2e9)]=_0x1bf936,this[_0x36a4f5(0x494)]=_0x3fcd7e,this[_0x36a4f5(0x5bc)]=_0x33390a;}async[a0_0x153f5d(0x358)](_0x27eba7){const _0x48c828=a0_0x153f5d;if(_0x27eba7['length']!==0x0)try{return{'insertCount':(await this[_0x48c828(0x2e9)][_0x48c828(0x814)]([..._0x27eba7]))[_0x48c828(0x487)]};}catch(_0x2a30e6){return _0x2a30e6;}}async['update'](_0xcd7368,_0x3798ee){const _0x3aceeb=a0_0x153f5d;try{let _0x402345=T(_0xcd7368[_0x3aceeb(0x302)]);return{'updatedCount':(await this['cacheContactModel'][_0x3aceeb(0x21d)](_0x402345,{'$set':_0x3798ee}))['modifiedCount']};}catch(_0xa4f74b){return console[_0x3aceeb(0x617)](_0x3aceeb(0x282),_0xa4f74b),{'error':_0xa4f74b[_0x3aceeb(0x894)]()};}}async[a0_0x153f5d(0x495)](_0x3eac26){const _0x27e363=a0_0x153f5d;try{let _0x3d65a0={'_id':{'$in':_0x3eac26}};return await this['cacheContactModel'][_0x27e363(0x84e)](_0x3d65a0)[_0x27e363(0x1f2)]();}catch(_0x43b89c){return console['error'](_0x27e363(0x692),_0x43b89c),[];}}async['delete'](_0x20e071){const _0x1a5cbb=a0_0x153f5d;try{return{'deletedCount':(await this['cacheContactModel'][_0x1a5cbb(0x43a)]({..._0x20e071['where']}))['deletedCount']};}catch(_0x54f0b0){return{'error':_0x54f0b0?.[_0x1a5cbb(0x894)]()};}}async['find'](_0x428f86){const _0x3a8ce6=a0_0x153f5d;try{let _0xbeac33=T(_0x428f86[_0x3a8ce6(0x302)]);return await this[_0x3a8ce6(0x2e9)][_0x3a8ce6(0x84e)](_0xbeac33)[_0x3a8ce6(0x86f)](_0x428f86?.['limit']??0x0)[_0x3a8ce6(0x1f2)]();}catch{return[];}}async[a0_0x153f5d(0x88a)](_0x1aac06){const _0x4778ca=a0_0x153f5d;try{let _0x5a8735=T(_0x1aac06[_0x4778ca(0x302)]);return await this[_0x4778ca(0x2e9)]['findOne'](_0x5a8735)[_0x4778ca(0x1f2)]();}catch{return null;}}},Vt=class extends x{['getLabelModelForOwner'](_0x404083){return ma(_0x404083);}async['updateOne'](_0x2da3e6,_0x459fe,_0x4c8e65,_0x2d8889){const _0xc7748a=a0_0x153f5d;try{let _0x20cf25={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2d8889},_0x4bce70=this['getLabelModelForOwner'](_0x4c8e65),_0x16bc1f=T(_0x2da3e6[_0xc7748a(0x302)]);return await _0x4bce70[_0xc7748a(0x673)](_0x16bc1f,{'$set':_0x459fe},_0x20cf25);}catch(_0x1e569f){return console['error'](_0x1e569f),null;}}async['find'](_0x47b8ac,_0x53891){const _0x292de0=a0_0x153f5d;try{let _0x1cd13c=this[_0x292de0(0x217)](_0x53891),_0x409a20=T(_0x47b8ac[_0x292de0(0x302)]);return await _0x1cd13c[_0x292de0(0x84e)](_0x409a20);}catch(_0x54a489){console[_0x292de0(0x617)](_0x54a489);}}async[a0_0x153f5d(0x435)](_0x127708,_0x27a1e3){const _0x4d1b9e=a0_0x153f5d;try{let _0x584fc4=this[_0x4d1b9e(0x217)](_0x27a1e3),_0x38335b=T(_0x127708['where']);await _0x584fc4[_0x4d1b9e(0x43a)](_0x38335b);}catch(_0x128d61){console[_0x4d1b9e(0x617)](_0x128d61);}}async['deleteAll'](_0x5d9f81){const _0x5b8bc4=a0_0x153f5d;try{return await this[_0x5b8bc4(0x217)](_0x5d9f81)[_0x5b8bc4(0x303)][_0x5b8bc4(0x6a4)](),{'success':!0x0};}catch(_0x14a814){return console[_0x5b8bc4(0x617)](_0x14a814),{'success':!0x1,'error':_0x14a814};}}},Gt=class{constructor(_0x116515){const _0x12f515=a0_0x153f5d;this[_0x12f515(0x2e3)]=_0x116515;}async[a0_0x153f5d(0x5b4)]({instanceName:_0x4fe8be},_0x512a08){const _0xe12981=a0_0x153f5d;return await this['waMonitor'][_0xe12981(0x65e)][_0x4fe8be][_0xe12981(0x5b4)](_0x512a08);}async[a0_0x153f5d(0x4ad)]({instanceName:_0x3ad886},_0x1cb27b){return await this['waMonitor']['waInstances'][_0x3ad886]['whatsappNumber'](_0x1cb27b);}async[a0_0x153f5d(0x646)]({instanceName:_0x4bf47e},_0x5a7159){const _0x1e2651=a0_0x153f5d;return await this['waMonitor'][_0x1e2651(0x65e)][_0x4bf47e]['importChats'](_0x5a7159);}async[a0_0x153f5d(0x474)]({instanceName:_0x1a9af4},_0x12417c){const _0x466c2e=a0_0x153f5d;return await this['waMonitor']['waInstances'][_0x1a9af4][_0x466c2e(0x779)](_0x12417c);}async['archiveChat']({instanceName:_0x35f6af},_0x2da054){const _0x3e0652=a0_0x153f5d;return await this[_0x3e0652(0x2e3)][_0x3e0652(0x65e)][_0x35f6af][_0x3e0652(0x6c6)](_0x2da054);}async[a0_0x153f5d(0x694)]({instanceName:_0x12ba86},_0x302d63){const _0x55e85a=a0_0x153f5d;return await this[_0x55e85a(0x2e3)][_0x55e85a(0x65e)][_0x12ba86][_0x55e85a(0x694)](_0x302d63);}async[a0_0x153f5d(0x50d)]({instanceName:_0x523331},_0x1b9a1b){const _0x33290a=a0_0x153f5d;return await this['waMonitor'][_0x33290a(0x65e)][_0x523331]['profilePicture'](_0x1b9a1b['number']);}async['fetchProfile']({instanceName:_0x7094da},_0x1b1705){const _0x715a97=a0_0x153f5d;return await this[_0x715a97(0x2e3)][_0x715a97(0x65e)][_0x7094da][_0x715a97(0x7bb)](_0x1b1705[_0x715a97(0x58a)]);}async[a0_0x153f5d(0x614)]({instanceName:_0xf8dff0},_0x55e07a){const _0x406ba8=a0_0x153f5d;return await this['waMonitor'][_0x406ba8(0x65e)][_0xf8dff0][_0x406ba8(0x614)](_0x55e07a);}async['fetchContacts']({instanceName:_0x25706e},_0x18eb0f){const _0x493844=a0_0x153f5d;return await this['waMonitor'][_0x493844(0x65e)][_0x25706e][_0x493844(0x1d5)](_0x18eb0f);}async[a0_0x153f5d(0x214)]({instanceName:_0x497ac3},_0x2db324){const _0x2b748e=a0_0x153f5d;return await this['waMonitor']['waInstances'][_0x497ac3][_0x2b748e(0x214)](_0x2db324);}async[a0_0x153f5d(0x3a8)]({instanceName:_0x515bd0},_0x203034){const _0x2015b2=a0_0x153f5d;return await this['waMonitor']['waInstances'][_0x515bd0][_0x2015b2(0x3a8)](_0x203034);}async['fetchLabels']({instanceName:_0x54fcb8}){const _0x31c514=a0_0x153f5d;return await this[_0x31c514(0x2e3)][_0x31c514(0x65e)][_0x54fcb8][_0x31c514(0x52a)]();}async[a0_0x153f5d(0x6c0)]({instanceName:_0x2ca4b9}){const _0x547b0e=a0_0x153f5d;return await this[_0x547b0e(0x2e3)]['waInstances'][_0x2ca4b9][_0x547b0e(0x6c0)]();}async[a0_0x153f5d(0x483)]({instanceName:_0x3d67ed}){const _0x5da378=a0_0x153f5d;return await this[_0x5da378(0x2e3)][_0x5da378(0x65e)][_0x3d67ed][_0x5da378(0x483)]();}async['updatePrivacySettings']({instanceName:_0x4c0576},_0x4bb402){const _0x2c75f0=a0_0x153f5d;return await this[_0x2c75f0(0x2e3)]['waInstances'][_0x4c0576][_0x2c75f0(0x789)](_0x4bb402);}async[a0_0x153f5d(0x2d6)]({instanceName:_0x56ed0b},_0xb37762){const _0x2186a=a0_0x153f5d;return await this[_0x2186a(0x2e3)][_0x2186a(0x65e)][_0x56ed0b]['fetchBusinessProfile'](_0xb37762['number']);}async[a0_0x153f5d(0x5f2)]({instanceName:_0x40520e},_0xb28567){const _0x3fe7c4=a0_0x153f5d;return await this['waMonitor'][_0x3fe7c4(0x65e)][_0x40520e][_0x3fe7c4(0x5f2)](_0xb28567[_0x3fe7c4(0x525)]);}async['updateProfileStatus']({instanceName:_0x6f1c06},_0x4318dc){const _0x2c8c3f=a0_0x153f5d;return await this['waMonitor'][_0x2c8c3f(0x65e)][_0x6f1c06][_0x2c8c3f(0x895)](_0x4318dc['status']);}async[a0_0x153f5d(0x530)]({instanceName:_0x5b18fc},_0x4bb5d5){const _0x178ab0=a0_0x153f5d;return await this[_0x178ab0(0x2e3)][_0x178ab0(0x65e)][_0x5b18fc][_0x178ab0(0x530)](_0x4bb5d5[_0x178ab0(0x4cf)]);}async[a0_0x153f5d(0x5ce)]({instanceName:_0x165835},_0xeb103f){const _0x21b537=a0_0x153f5d;return await this[_0x21b537(0x2e3)]['waInstances'][_0x165835][_0x21b537(0x5ce)]();}},Ds=require(a0_0x153f5d(0x612)),Bt=class c{constructor(_0x2d9cb8,_0x162484,_0x56a3ed,_0x3dd5d0,_0x3f05f8){const _0x1ddbdf=a0_0x153f5d;this[_0x1ddbdf(0x2e3)]=_0x2d9cb8,this[_0x1ddbdf(0x494)]=_0x162484,this[_0x1ddbdf(0x2aa)]=_0x56a3ed,this['eventEmitter']=_0x3dd5d0,this[_0x1ddbdf(0x299)]=_0x3f05f8,this[_0x1ddbdf(0x21c)]=new R(c[_0x1ddbdf(0x525)]);}async[a0_0x153f5d(0x852)]({instanceName:_0x2a211d,apikey:_0x3ab3d7,number:_0x576a57,proxy:_0x24bcb9=!0x0}){const _0x3f7f0e=a0_0x153f5d;try{let _0x1a60e8=new Ce(this[_0x3f7f0e(0x494)],this[_0x3f7f0e(0x764)],this['repository']);_0x1a60e8[_0x3f7f0e(0x401)]=_0x2a211d,this['waMonitor'][_0x3f7f0e(0x65e)][_0x1a60e8[_0x3f7f0e(0x401)]]=_0x1a60e8;let _0x580496={};_0x3ab3d7?(await this['repository'][_0x3f7f0e(0x38b)]['create']({'apikey':_0x3ab3d7},_0x2a211d),_0x580496[_0x3f7f0e(0x6b4)]=_0x3ab3d7):_0x580496=await this[_0x3f7f0e(0x299)]['generateHash']({'instanceName':_0x1a60e8[_0x3f7f0e(0x401)]});let _0x157586;if(_0x576a57){if(_0x157586=await this[_0x3f7f0e(0x7b3)](_0x576a57),_0x157586[_0x3f7f0e(0x617)])throw new I(_0x157586[_0x3f7f0e(0x617)][_0x3f7f0e(0x894)]());_0x576a57=_0x157586[_0x3f7f0e(0x58a)];}let _0xa4b39d;return await _0x1a60e8[_0x3f7f0e(0x71a)](_0x576a57),await(0x0,Ds[_0x3f7f0e(0x33c)])(0x7d0),_0xa4b39d=_0x1a60e8[_0x3f7f0e(0x4b0)],{'instance':{'instanceName':_0x1a60e8[_0x3f7f0e(0x401)],'status':'created'},'hash':_0x580496,'qrcode':_0xa4b39d};}catch(_0x26115c){throw this['logger'][_0x3f7f0e(0x617)](_0x26115c),_0x26115c;}}async[a0_0x153f5d(0x256)]({instanceName:_0x36735d,number:_0x15f60f=null}){const _0x59e507=a0_0x153f5d;try{let _0x3766ba=this['waMonitor'][_0x59e507(0x65e)][_0x36735d];switch(_0x3766ba?.[_0x59e507(0x75d)]?.[_0x59e507(0x7b6)]){case'close':return await _0x3766ba[_0x59e507(0x71a)](_0x15f60f),await(0x0,Ds[_0x59e507(0x33c)])(0x7d0),_0x3766ba[_0x59e507(0x4b0)];case _0x59e507(0x284):return _0x3766ba['qrCode'];default:return await this[_0x59e507(0x3e6)]({'instanceName':_0x36735d});}}catch(_0x50617d){this[_0x59e507(0x21c)][_0x59e507(0x554)](_0x50617d);}}async['connectionState']({instanceName:_0x46284b}){const _0x1a11a5=a0_0x153f5d;let _0x5e2db9=this['waMonitor']['waInstances'][_0x46284b][_0x1a11a5(0x75d)],_0x935675=null;_0x5e2db9['state']==='open'&&_0x46284b&&(_0x935675=await this['waMonitor'][_0x1a11a5(0x53d)](_0x46284b));let _0x15ac15=null;return _0x5e2db9['state']===_0x1a11a5(0x284)&&_0x46284b&&(_0x15ac15=this[_0x1a11a5(0x2e3)]['waInstances'][_0x46284b]['qrCode']),{'instance':_0x46284b,'connectionStatus':_0x5e2db9,'instanceInfo':_0x935675,'qrcode':_0x15ac15};}async[a0_0x153f5d(0x7b3)](_0x92267a){const _0x2c29f9=a0_0x153f5d;_0x92267a=_0x92267a[_0x2c29f9(0x72d)](/\D/g,'');let _0x2902e3=Object[_0x2c29f9(0x60b)](this['waMonitor'][_0x2c29f9(0x65e)])[_0x2c29f9(0x65b)](_0x260411=>{const _0x1ae200=_0x2c29f9;let _0x594805=this['waMonitor'][_0x1ae200(0x65e)][_0x260411];return _0x594805&&_0x594805[_0x1ae200(0x75d)]&&_0x594805[_0x1ae200(0x75d)][_0x1ae200(0x7b6)]===_0x1ae200(0x5ef);});if(_0x2902e3[_0x2c29f9(0x487)]===0x0)return{'number':this[_0x2c29f9(0x699)](_0x92267a)};let _0x3e2c50=Math[_0x2c29f9(0x5c4)](Math[_0x2c29f9(0x4fe)]()*_0x2902e3['length']),_0x20dbcc=_0x2902e3[_0x3e2c50];try{let _0x108650=(await this['waMonitor'][_0x2c29f9(0x65e)][_0x20dbcc][_0x2c29f9(0x4ad)]({'numbers':[_0x92267a]}))['shift']();return _0x108650['exists']?{'number':_0x108650[_0x2c29f9(0x5ea)][_0x2c29f9(0x72d)](_0x2c29f9(0x47b),'')}:{'number':_0x92267a,'error':_0x2c29f9(0x5ee)};}catch(_0x423e09){return this[_0x2c29f9(0x21c)][_0x2c29f9(0x617)](_0x2c29f9(0x4a5)+_0x423e09),{'number':_0x92267a,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x153f5d(0x699)](_0x159eb2){const _0x5e41ef=a0_0x153f5d;let _0x23aa5b=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5e41ef(0x57c)](_0x159eb2);if(_0x23aa5b&&_0x23aa5b[0x1]==='55'){let _0x5c5f77=_0x23aa5b[0x2],_0x4fc23b=_0x23aa5b[0x3],_0x5ad0d7=_0x23aa5b[0x4];if(parseInt(_0x5c5f77)>=0x1f&&_0x4fc23b==='9')return _0x23aa5b[0x1]+_0x5c5f77+_0x5ad0d7;}return _0x159eb2;}async['restartInstance']({instanceName:_0x1f93b8}){const _0x427a6c=a0_0x153f5d;try{return this[_0x427a6c(0x2e3)][_0x427a6c(0x65e)][_0x1f93b8]?.[_0x427a6c(0x7de)]?.['ws']?.[_0x427a6c(0x3df)](),{'status':_0x427a6c(0x311),'error':!0x1,'response':{'message':_0x427a6c(0x3af)}};}catch(_0x37560d){this[_0x427a6c(0x21c)]['error'](_0x37560d);}}async[a0_0x153f5d(0x6ae)]({instanceName:_0x37beeb}){const _0x2e9b2e=a0_0x153f5d;return _0x37beeb?this[_0x2e9b2e(0x2e3)][_0x2e9b2e(0x53d)](_0x37beeb):this[_0x2e9b2e(0x2e3)][_0x2e9b2e(0x53d)]();}async[a0_0x153f5d(0x3a6)]({instanceName:_0x1bb2d3}){const _0x1dc917=a0_0x153f5d;try{return await this['waMonitor']['waInstances'][_0x1bb2d3]?.[_0x1dc917(0x7de)]?.[_0x1dc917(0x3a6)](_0x1dc917(0x1ad)+_0x1bb2d3),{'error':!0x1,'message':_0x1dc917(0x635)};}catch(_0x1eb305){throw new I(_0x1eb305[_0x1dc917(0x894)]());}}async[a0_0x153f5d(0x5e3)]({instanceName:_0x20baac}){const _0xced71a=a0_0x153f5d;if((await this['connectionState']({'instanceName':_0x20baac}))['connectionStatus'][_0xced71a(0x7b6)]===_0xced71a(0x5ef))throw new m([_0xced71a(0x352),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0xced71a(0x2e3)][_0xced71a(0x65e)][_0x20baac],{'error':!0x1,'message':_0xced71a(0x53b)};}catch(_0x438444){throw new m(_0x438444[_0xced71a(0x894)]());}}},te=require(a0_0x153f5d(0x31c)),Wt=class{constructor(_0x9e49c3){const _0x601b2b=a0_0x153f5d;this[_0x601b2b(0x2e3)]=_0x9e49c3;}async['sendText']({instanceName:_0x234746},_0x5a3e67){const _0x1d951b=a0_0x153f5d;return await this[_0x1d951b(0x2e3)][_0x1d951b(0x65e)][_0x234746][_0x1d951b(0x3a5)](_0x5a3e67);}async[a0_0x153f5d(0x37c)]({instanceName:_0x132e11},_0x231cf2){const _0x30e70e=a0_0x153f5d;return await this[_0x30e70e(0x2e3)][_0x30e70e(0x65e)][_0x132e11][_0x30e70e(0x769)](_0x231cf2);}async[a0_0x153f5d(0x858)]({instanceName:_0x540a7d},_0x3226f1){const _0x13b07e=a0_0x153f5d;if((0x0,te[_0x13b07e(0x761)])(_0x3226f1?.[_0x13b07e(0x1f7)]?.['media'])&&!_0x3226f1?.[_0x13b07e(0x1f7)]?.[_0x13b07e(0x74c)])throw new m(_0x13b07e(0x1ce));if((0x0,te[_0x13b07e(0x4da)])(_0x3226f1?.[_0x13b07e(0x1f7)]?.[_0x13b07e(0x807)])||(0x0,te[_0x13b07e(0x761)])(_0x3226f1?.[_0x13b07e(0x1f7)]?.[_0x13b07e(0x807)]))return await this[_0x13b07e(0x2e3)][_0x13b07e(0x65e)][_0x540a7d][_0x13b07e(0x1f7)](_0x3226f1);throw new m(_0x13b07e(0x3bb));}async[a0_0x153f5d(0x3b0)]({instanceName:_0x253780},_0x34aa59){const _0x33f394=a0_0x153f5d;if((0x0,te[_0x33f394(0x4da)])(_0x34aa59[_0x33f394(0x216)][_0x33f394(0x56d)])||(0x0,te['isBase64'])(_0x34aa59[_0x33f394(0x216)][_0x33f394(0x56d)]))return await this[_0x33f394(0x2e3)][_0x33f394(0x65e)][_0x253780]['mediaSticker'](_0x34aa59);throw new m(_0x33f394(0x3bb));}async[a0_0x153f5d(0x7d1)]({instanceName:_0xb516a0},_0x4cda98){const _0x3c5ee5=a0_0x153f5d;if((0x0,te[_0x3c5ee5(0x4da)])(_0x4cda98['audioMessage'][_0x3c5ee5(0x23a)])||(0x0,te[_0x3c5ee5(0x761)])(_0x4cda98['audioMessage'][_0x3c5ee5(0x23a)]))return await this[_0x3c5ee5(0x2e3)][_0x3c5ee5(0x65e)][_0xb516a0]['audioWhatsapp'](_0x4cda98);throw new m(_0x3c5ee5(0x3bb));}async[a0_0x153f5d(0x22e)]({instanceName:_0x12a177},_0x519f79){const _0x500ecc=a0_0x153f5d;if((0x0,te[_0x500ecc(0x761)])(_0x519f79[_0x500ecc(0x85b)][_0x500ecc(0x1f7)]?.[_0x500ecc(0x807)])&&!_0x519f79[_0x500ecc(0x85b)][_0x500ecc(0x1f7)]?.[_0x500ecc(0x74c)])throw new m(_0x500ecc(0x1ce));return await this[_0x500ecc(0x2e3)][_0x500ecc(0x65e)][_0x12a177][_0x500ecc(0x85b)](_0x519f79);}async[a0_0x153f5d(0x500)]({instanceName:_0x2ac90f},_0x37dd6b){const _0x16896e=a0_0x153f5d;return await this[_0x16896e(0x2e3)]['waInstances'][_0x2ac90f][_0x16896e(0x6a9)](_0x37dd6b);}async[a0_0x153f5d(0x32c)]({instanceName:_0x38b33f},_0x1f93f2){const _0xe53265=a0_0x153f5d;return await this[_0xe53265(0x2e3)][_0xe53265(0x65e)][_0x38b33f][_0xe53265(0x4a8)](_0x1f93f2);}async[a0_0x153f5d(0x433)]({instanceName:_0x100ab7},_0x306473){const _0x5caea8=a0_0x153f5d;return await this[_0x5caea8(0x2e3)][_0x5caea8(0x65e)][_0x100ab7]['listMessage'](_0x306473);}async[a0_0x153f5d(0x334)]({instanceName:_0x5980b9},_0x271c09){const _0x2921c2=a0_0x153f5d;return await this[_0x2921c2(0x2e3)][_0x2921c2(0x65e)][_0x5980b9][_0x2921c2(0x446)](_0x271c09);}async[a0_0x153f5d(0x4e6)]({instanceName:_0xeda5a2},_0xef0027){const _0x1abe0d=a0_0x153f5d;if(!_0xef0027[_0x1abe0d(0x816)][_0x1abe0d(0x588)][_0x1abe0d(0x20b)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x1abe0d(0x6a5));return await this[_0x1abe0d(0x2e3)][_0x1abe0d(0x65e)][_0xeda5a2]['reactionMessage'](_0xef0027);}async['sendStatus']({instanceName:_0x498917},_0x2e1d2a){const _0x496cd7=a0_0x153f5d;return await this['waMonitor'][_0x496cd7(0x65e)][_0x498917][_0x496cd7(0x46f)](_0x2e1d2a);}},Ei=require(a0_0x153f5d(0x36b)),_s=require(a0_0x153f5d(0x71e)),zt=class c{constructor(_0x3b8d35,_0x58ac91,_0x3989d3){const _0x22db0d=a0_0x153f5d;this[_0x22db0d(0x494)]=_0x3b8d35,this[_0x22db0d(0x2e3)]=_0x58ac91,this['repository']=_0x3989d3,this[_0x22db0d(0x21c)]=new R(c[_0x22db0d(0x525)]);}async[a0_0x153f5d(0x863)](_0x425266){const _0x3109f5=a0_0x153f5d;let _0x339507=this[_0x3109f5(0x494)][_0x3109f5(0x4be)](_0x3109f5(0x3aa))[_0x3109f5(0x1bd)],_0x5cc76d=(0x0,Ei['sign'])({'instanceName':_0x425266['instanceName'],'apiName':et,'tokenId':(0x0,_s['v4'])()},_0x339507[_0x3109f5(0x4f4)],{'expiresIn':_0x339507['EXPIRIN_IN'],'encoding':_0x3109f5(0x393),'subject':_0x3109f5(0x2d2)}),_0x346037=await this[_0x3109f5(0x2aa)][_0x3109f5(0x38b)]['create']({'jwt':_0x5cc76d},_0x425266[_0x3109f5(0x401)]);if(_0x346037['error'])throw this[_0x3109f5(0x21c)][_0x3109f5(0x617)]({'localError':c[_0x3109f5(0x525)]+_0x3109f5(0x41c),'error':_0x346037[_0x3109f5(0x617)]}),new m(_0x3109f5(0x54c),_0x346037[_0x3109f5(0x617)]?.['toString']());return{'jwt':_0x5cc76d};}async[a0_0x153f5d(0x6b4)](_0x2ae55a){const _0x4b1b8b=a0_0x153f5d;let _0x2698a9=(0x0,_s['v4'])()[_0x4b1b8b(0x70f)](),_0x2e2cfd=await this[_0x4b1b8b(0x2aa)][_0x4b1b8b(0x38b)]['create']({'apikey':_0x2698a9},_0x2ae55a['instanceName']);if(_0x2e2cfd[_0x4b1b8b(0x617)])throw this[_0x4b1b8b(0x21c)][_0x4b1b8b(0x617)]({'localError':c['name']+_0x4b1b8b(0x41c),'error':_0x2e2cfd['error']}),new m(_0x4b1b8b(0x54c),_0x2e2cfd[_0x4b1b8b(0x617)]?.[_0x4b1b8b(0x894)]());return{'apikey':_0x2698a9};}async[a0_0x153f5d(0x4f2)](_0x247363){const _0x21fb22=a0_0x153f5d;let _0x3dcca4=this['configService'][_0x21fb22(0x4be)](_0x21fb22(0x3aa));return await this[_0x3dcca4[_0x21fb22(0x841)]](_0x247363);}},Ht=class{constructor(_0x2ce3a4){const _0x26458e=a0_0x153f5d;this[_0x26458e(0x2e3)]=_0x2ce3a4;}async[a0_0x153f5d(0x810)](_0x3983f9,_0x9e2eb7){const _0x33697a=a0_0x153f5d;return await this[_0x33697a(0x2e3)]['waInstances'][_0x3983f9['instanceName']][_0x33697a(0x810)](_0x9e2eb7);}async['updateGroupPicture'](_0x185632,_0x1a81e0){const _0x30cb93=a0_0x153f5d;return await this[_0x30cb93(0x2e3)]['waInstances'][_0x185632[_0x30cb93(0x401)]]['updateGroupPicture'](_0x1a81e0);}async[a0_0x153f5d(0x710)](_0x57ac06,_0x5410e5){const _0x367c47=a0_0x153f5d;return await this[_0x367c47(0x2e3)][_0x367c47(0x65e)][_0x57ac06[_0x367c47(0x401)]]['groupDesc'](_0x5410e5);}async[a0_0x153f5d(0x86e)](_0x53c20d,_0x2ae24e){const _0x58d710=a0_0x153f5d;return await this[_0x58d710(0x2e3)][_0x58d710(0x65e)][_0x53c20d[_0x58d710(0x401)]][_0x58d710(0x86e)](_0x2ae24e);}async[a0_0x153f5d(0x862)](_0x451391,_0x419b97){const _0x3bfe5f=a0_0x153f5d;return await this[_0x3bfe5f(0x2e3)][_0x3bfe5f(0x65e)][_0x451391[_0x3bfe5f(0x401)]][_0x3bfe5f(0x862)](_0x419b97);}async[a0_0x153f5d(0x4a9)](_0x5009ad,_0xc39f02){const _0x2b8a37=a0_0x153f5d;return await this[_0x2b8a37(0x2e3)]['waInstances'][_0x5009ad[_0x2b8a37(0x401)]]['groupSetting'](_0xc39f02);}async[a0_0x153f5d(0x274)](_0x2e5cba,_0x3a05e0){const _0x14c11f=a0_0x153f5d;return await this[_0x14c11f(0x2e3)][_0x14c11f(0x65e)][_0x2e5cba[_0x14c11f(0x401)]][_0x14c11f(0x600)](_0x3a05e0);}async[a0_0x153f5d(0x7f6)](_0x4815c1){const _0x435e5c=a0_0x153f5d;return await this[_0x435e5c(0x2e3)][_0x435e5c(0x65e)][_0x4815c1[_0x435e5c(0x401)]][_0x435e5c(0x7f6)]();}async[a0_0x153f5d(0x1b5)](_0x103e27,_0x553481){const _0x39e345=a0_0x153f5d;return await this[_0x39e345(0x2e3)][_0x39e345(0x65e)][_0x103e27[_0x39e345(0x401)]][_0x39e345(0x1b5)](_0x553481);}async[a0_0x153f5d(0x4c9)](_0x4f9ae,_0xfc3bd6){const _0x549082=a0_0x153f5d;return await this[_0x549082(0x2e3)][_0x549082(0x65e)][_0x4f9ae[_0x549082(0x401)]]['joinGroup'](_0xfc3bd6);}async[a0_0x153f5d(0x686)](_0x9a3572,_0x419035){const _0x23a487=a0_0x153f5d;return await this[_0x23a487(0x2e3)][_0x23a487(0x65e)][_0x9a3572['instanceName']][_0x23a487(0x686)](_0x419035);}async[a0_0x153f5d(0x7b9)](_0x5174c0,_0xe73fea){const _0x3bce72=a0_0x153f5d;return await this[_0x3bce72(0x2e3)][_0x3bce72(0x65e)][_0x5174c0['instanceName']]['revokeInviteCode'](_0xe73fea);}async[a0_0x153f5d(0x644)](_0xf4b61,_0x3b5e75){const _0x13489e=a0_0x153f5d;return await this[_0x13489e(0x2e3)][_0x13489e(0x65e)][_0xf4b61[_0x13489e(0x401)]][_0x13489e(0x644)](_0x3b5e75);}async[a0_0x153f5d(0x80b)](_0x37956d,_0x3d3d01){const _0x258065=a0_0x153f5d;return await this[_0x258065(0x2e3)][_0x258065(0x65e)][_0x37956d[_0x258065(0x401)]][_0x258065(0x445)](_0x3d3d01);}async[a0_0x153f5d(0x1a0)](_0x388e17,_0x4b43f3){const _0x2a78fb=a0_0x153f5d;return await this[_0x2a78fb(0x2e3)][_0x2a78fb(0x65e)][_0x388e17['instanceName']][_0x2a78fb(0x1a0)](_0x4b43f3);}async[a0_0x153f5d(0x5e8)](_0x4a3fd2,_0x21bbf3){const _0x4be260=a0_0x153f5d;return await this[_0x4be260(0x2e3)]['waInstances'][_0x4a3fd2[_0x4be260(0x401)]][_0x4be260(0x5e8)](_0x21bbf3);}},Kt=class{constructor(_0x5f4e1d){const _0x1a2fae=a0_0x153f5d;this[_0x1a2fae(0x2e3)]=_0x5f4e1d;}['create'](_0x4a0563,_0x55b8e5){const _0x2caa8a=a0_0x153f5d;return this[_0x2caa8a(0x2e3)][_0x2caa8a(0x65e)][_0x4a0563[_0x2caa8a(0x401)]][_0x2caa8a(0x3c3)](_0x55b8e5);}async[a0_0x153f5d(0x84e)](_0x8d2fea){const _0x1f43d5=a0_0x153f5d;try{return await this['waMonitor'][_0x1f43d5(0x65e)][_0x8d2fea[_0x1f43d5(0x401)]][_0x1f43d5(0x6af)]();}catch{return{'enabled':null,'url':''};}}},Cp=new R(a0_0x153f5d(0x298)),Qt=class{constructor(_0x14bfa8){this['waMonitor']=_0x14bfa8;}async[a0_0x153f5d(0x856)](_0x261bfa,_0x531dba){const _0x37232b=a0_0x153f5d;return await this[_0x37232b(0x2e3)][_0x37232b(0x65e)][_0x261bfa['instanceName']]['editScheduleMessage'](_0x531dba);}async[a0_0x153f5d(0x60c)](_0x522ca7){const _0x445855=a0_0x153f5d;return await this[_0x445855(0x2e3)][_0x445855(0x65e)][_0x522ca7[_0x445855(0x401)]][_0x445855(0x60c)]();}async[a0_0x153f5d(0x3e2)](_0x57bb74){const _0x2ae791=a0_0x153f5d;return await this[_0x2ae791(0x2e3)]['waInstances'][_0x57bb74[_0x2ae791(0x401)]][_0x2ae791(0x3e2)]();}async[a0_0x153f5d(0x343)](_0x548f26){const _0x1ede3a=a0_0x153f5d;return await this[_0x1ede3a(0x2e3)][_0x1ede3a(0x65e)][_0x548f26['instanceName']][_0x1ede3a(0x343)]();}async[a0_0x153f5d(0x522)](_0x1cf51e,_0x53ffaa){const _0x12e02c=a0_0x153f5d;return await this[_0x12e02c(0x2e3)]['waInstances'][_0x1cf51e[_0x12e02c(0x401)]][_0x12e02c(0x522)](_0x53ffaa);}async['updateCustomFields'](_0x50171b,_0x44313d){const _0x5438fb=a0_0x153f5d;return await this[_0x5438fb(0x2e3)][_0x5438fb(0x65e)][_0x50171b[_0x5438fb(0x401)]][_0x5438fb(0x651)](_0x44313d);}async[a0_0x153f5d(0x89f)](_0x1e3ec1,_0x1b9831){const _0x571102=a0_0x153f5d;return await this['waMonitor']['waInstances'][_0x1e3ec1[_0x571102(0x401)]][_0x571102(0x89f)](_0x1b9831);}async['updateFlowConfig'](_0x2076eb,_0xb21e39){const _0x464bf5=a0_0x153f5d;return await this['waMonitor'][_0x464bf5(0x65e)][_0x2076eb[_0x464bf5(0x401)]][_0x464bf5(0x2ee)](_0xb21e39);}async[a0_0x153f5d(0x278)](_0x1ee644,_0x1f67f8){const _0x48ea09=a0_0x153f5d;return await this[_0x48ea09(0x2e3)][_0x48ea09(0x65e)][_0x1ee644[_0x48ea09(0x401)]][_0x48ea09(0x278)](_0x1f67f8);}async[a0_0x153f5d(0x5ba)](_0x30ef1b,_0x48c9ae,_0x364a41,_0x3c0c43){const _0x1b8ca9=a0_0x153f5d;return await this[_0x1b8ca9(0x2e3)]['waInstances'][_0x30ef1b][_0x1b8ca9(0x5ba)](_0x48c9ae,_0x364a41,_0x3c0c43);}async[a0_0x153f5d(0x543)](_0xe0e6e5,_0x33412d){const _0x3f0dbb=a0_0x153f5d;return await this[_0x3f0dbb(0x2e3)][_0x3f0dbb(0x65e)][_0xe0e6e5[_0x3f0dbb(0x401)]]['getConversation'](_0x33412d);}async['fetchConversation'](_0x53fdf9,_0x4d4c46){const _0x461e8c=a0_0x153f5d;return await this[_0x461e8c(0x2e3)][_0x461e8c(0x65e)][_0x53fdf9[_0x461e8c(0x401)]][_0x461e8c(0x811)](_0x4d4c46);}async['editConversation'](_0x319e83,_0x119fdb){const _0x514220=a0_0x153f5d;return await this[_0x514220(0x2e3)][_0x514220(0x65e)][_0x319e83[_0x514220(0x401)]]['editConversation'](_0x119fdb);}async[a0_0x153f5d(0x81f)](_0x8ca6c1,_0x133407){const _0xb81767=a0_0x153f5d;return await this[_0xb81767(0x2e3)][_0xb81767(0x65e)][_0x8ca6c1[_0xb81767(0x401)]][_0xb81767(0x81f)](_0x133407);}async[a0_0x153f5d(0x2f7)](_0x3b0065,_0x5b83e9){const _0xdf4a2a=a0_0x153f5d;return await this[_0xdf4a2a(0x2e3)][_0xdf4a2a(0x65e)][_0x3b0065[_0xdf4a2a(0x401)]][_0xdf4a2a(0x2f7)](_0x5b83e9[_0xdf4a2a(0x525)],_0x5b83e9[_0xdf4a2a(0x61d)]);}async[a0_0x153f5d(0x3cd)](_0x4f1012,_0x1a59cf,_0x548bd2){const _0x87605e=a0_0x153f5d;return await this['waMonitor'][_0x87605e(0x65e)][_0x4f1012[_0x87605e(0x401)]]['createFlow'](_0x1a59cf,_0x548bd2);}async['editFlow'](_0x184970,_0x29b970,_0x66cb49){const _0x162a34=a0_0x153f5d;return await this[_0x162a34(0x2e3)][_0x162a34(0x65e)][_0x184970[_0x162a34(0x401)]][_0x162a34(0x5a6)](_0x29b970,_0x66cb49);}async[a0_0x153f5d(0x627)](_0x5ea607,_0x18a1dd,_0x220257){const _0x3101f3=a0_0x153f5d;return await this['waMonitor'][_0x3101f3(0x65e)][_0x5ea607[_0x3101f3(0x401)]][_0x3101f3(0x627)](_0x18a1dd,_0x220257);}async[a0_0x153f5d(0x4c2)](_0x11d4ef,_0x22909f,_0x4601d1){const _0x3ae823=a0_0x153f5d;return await this[_0x3ae823(0x2e3)][_0x3ae823(0x65e)][_0x11d4ef['instanceName']]['editFlowReply'](_0x22909f,_0x4601d1);}async[a0_0x153f5d(0x7f5)](_0x444699,_0x5444d4,_0x19bb4b){const _0xb2ff6c=a0_0x153f5d;return await this[_0xb2ff6c(0x2e3)][_0xb2ff6c(0x65e)][_0x444699['instanceName']][_0xb2ff6c(0x7f5)](_0x5444d4,_0x19bb4b);}async['editFlowCondition'](_0x560879,_0x5e2564,_0xcf60ec){const _0x9526e1=a0_0x153f5d;return await this[_0x9526e1(0x2e3)][_0x9526e1(0x65e)][_0x560879[_0x9526e1(0x401)]][_0x9526e1(0x846)](_0x5e2564,_0xcf60ec);}async[a0_0x153f5d(0x395)](_0x3d73cd,_0xe431fc,_0x281c65){const _0x2eff98=a0_0x153f5d;return await this[_0x2eff98(0x2e3)]['waInstances'][_0x3d73cd[_0x2eff98(0x401)]][_0x2eff98(0x395)](_0xe431fc,_0x281c65);}async['editFlowVariable'](_0x5a2cf6,_0x21d2fe,_0x3a7a32){const _0x33e8ab=a0_0x153f5d;return await this[_0x33e8ab(0x2e3)]['waInstances'][_0x5a2cf6[_0x33e8ab(0x401)]][_0x33e8ab(0x7c8)](_0x21d2fe,_0x3a7a32);}async[a0_0x153f5d(0x4f3)](_0x165e59,_0x15ee8c,_0x24ff25){const _0x473c29=a0_0x153f5d;return await this[_0x473c29(0x2e3)][_0x473c29(0x65e)][_0x165e59['instanceName']][_0x473c29(0x4f3)](_0x15ee8c,_0x24ff25);}async[a0_0x153f5d(0x865)](_0x131f41){const _0x4ef6a9=a0_0x153f5d;return await this['waMonitor'][_0x4ef6a9(0x65e)][_0x131f41['instanceName']][_0x4ef6a9(0x865)]();}},Yt=class{constructor(_0x5013ba){this['webhookService']=_0x5013ba;}async[a0_0x153f5d(0x3ee)](_0x433156,_0x3846ed){const _0x161833=a0_0x153f5d;return this[_0x161833(0x64d)][_0x161833(0x6a8)](_0x433156,_0x3846ed);}async[a0_0x153f5d(0x6af)](_0x3a526a){const _0x2b730e=a0_0x153f5d;return this[_0x2b730e(0x64d)][_0x2b730e(0x84e)](_0x3a526a);}},Xt=class extends x{constructor(_0x119555,_0x348ec8){const _0x294e79=a0_0x153f5d;super(_0x348ec8),this['webhookModel']=_0x119555,this[_0x294e79(0x494)]=_0x348ec8;}async[a0_0x153f5d(0x6a8)](_0x4a25a4,_0x2aca6f){const _0x2d79ea=a0_0x153f5d;try{return this[_0x2d79ea(0x58c)][_0x2d79ea(0x3e1)]?{'insertCount':(await this['webhookModel'][_0x2d79ea(0x536)]({'_id':_0x2aca6f},{..._0x4a25a4},{'upsert':!0x0}))[_0x2d79ea(0x3ba)]}:{'insertCount':0x1};}catch(_0x255a22){return _0x255a22;}}async[a0_0x153f5d(0x435)](_0x138483){const _0xc252ad=a0_0x153f5d;try{if(this['dbSettings'][_0xc252ad(0x3e1)]){await this['webhookModel']['deleteOne']({'_id':_0x138483});return;}}catch(_0x334159){return{'error':_0x334159};}}async[a0_0x153f5d(0x84e)](_0x15c5bd){const _0x384af6=a0_0x153f5d;try{if(this[_0x384af6(0x58c)]['ENABLED'])return await this[_0x384af6(0x472)][_0x384af6(0x88a)]({'_id':_0x15c5bd});}catch{return{};}}},Zt=class extends x{constructor(_0x4b9b75,_0x363fc2){const _0x215aec=a0_0x153f5d;super(_0x363fc2),this[_0x215aec(0x3e9)]=_0x4b9b75,this[_0x215aec(0x494)]=_0x363fc2,this[_0x215aec(0x38b)]=_0x363fc2[_0x215aec(0x4be)](_0x215aec(0x3aa));}async[a0_0x153f5d(0x6a8)](_0x2a4158,_0x1efbe2){const _0x2c6401=a0_0x153f5d;try{if(this[_0x2c6401(0x58c)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x2c6401(0x499)]({'_id':_0x1efbe2},{'$set':{..._0x2a4158}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x40f81a){return{'error':_0x40f81a};}}async[a0_0x153f5d(0x747)](_0x191da0,_0x3d2f04){const _0x3de469=a0_0x153f5d;try{if(this[_0x3de469(0x58c)][_0x3de469(0x3e1)])return{'insertCount':(await this[_0x3de469(0x3e9)][_0x3de469(0x21d)](_0x191da0,{'$set':_0x3d2f04},{'upsert':!0x1}))[_0x3de469(0x3ba)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x1a5135){return{'error':_0x1a5135};}}async['deleteMany'](_0x5b4c8b){const _0x371c38=a0_0x153f5d;try{if(this[_0x371c38(0x58c)][_0x371c38(0x3e1)])return{'insertCount':(await this[_0x371c38(0x3e9)][_0x371c38(0x43a)](_0x5b4c8b))['deletedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x3af206){return{'error':_0x3af206};}}async['delete'](_0x970610){const _0x501e62=a0_0x153f5d;try{if(this[_0x501e62(0x58c)][_0x501e62(0x3e1)]){await this['authModel'][_0x501e62(0x37f)]({'_id':_0x970610});return;}}catch(_0x5cf9c4){return{'error':_0x5cf9c4};}}async[a0_0x153f5d(0x84e)](_0x1ae89f){const _0x8d7d90=a0_0x153f5d;try{if(this[_0x8d7d90(0x58c)][_0x8d7d90(0x3e1)])return await this['authModel'][_0x8d7d90(0x88a)]({'_id':_0x1ae89f});}catch{return{};}}async[a0_0x153f5d(0x2ff)](){const _0x4df839=a0_0x153f5d;try{if(this[_0x4df839(0x58c)][_0x4df839(0x3e1)])return await this[_0x4df839(0x3e9)][_0x4df839(0x84e)]();}catch{return[];}}},es=class extends x{['getFlowModelForOwner'](_0x14d50d){return da(_0x14d50d);}async['delete'](_0x229ed3,_0x116b71){const _0x531160=a0_0x153f5d;try{let _0x17cb8b=this[_0x531160(0x30a)](_0x116b71),_0x324ff3=T(_0x229ed3[_0x531160(0x302)]);return{'deletedCount':(await _0x17cb8b[_0x531160(0x43a)](_0x324ff3))[_0x531160(0x6bd)]};}catch(_0x2fe8cb){return{'error':_0x2fe8cb?.['toString']()};}}async[a0_0x153f5d(0x37f)](_0x368391,_0x499609){const _0xade5f=a0_0x153f5d;try{let _0xaa6b87=this['getFlowModelForOwner'](_0x499609),_0x5a1b61=T(_0x368391[_0xade5f(0x302)]);return{'deletedCount':(await _0xaa6b87[_0xade5f(0x37f)](_0x5a1b61))[_0xade5f(0x6bd)]};}catch(_0x474f69){return{'error':_0x474f69?.[_0xade5f(0x894)]()};}}async[a0_0x153f5d(0x536)](_0x58437e,_0x49a4f0,_0xd35528){const _0x2dc208=a0_0x153f5d;try{let _0x1cfc27=await this[_0x2dc208(0x30a)](_0xd35528)[_0x2dc208(0x6c1)](_0x58437e,_0x49a4f0,{'overwrite':!0x0,'new':!0x0});return _0x1cfc27||(console[_0x2dc208(0x617)]('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x58437e),null);}catch(_0xcc32a5){return console[_0x2dc208(0x617)](_0x2dc208(0x250),_0xcc32a5),null;}}async[a0_0x153f5d(0x499)](_0x4d6855,_0x35281e,_0x4108ee){const _0x4b0643=a0_0x153f5d;try{let _0x5cbdf9=await this[_0x4b0643(0x30a)](_0x4108ee)[_0x4b0643(0x74b)](_0x4d6855);return _0x5cbdf9?(Object[_0x4b0643(0x33e)](_0x5cbdf9,_0x35281e),await _0x5cbdf9['save']()):(console[_0x4b0643(0x617)](_0x4b0643(0x735),_0x4d6855),null);}catch(_0x118726){return console[_0x4b0643(0x617)](_0x4b0643(0x250),_0x118726),null;}}async[a0_0x153f5d(0x562)](_0x5d8e33,_0x2d65c2,_0x292d0d){const _0x527738=a0_0x153f5d;try{let _0x1eed53=this[_0x527738(0x30a)](_0x292d0d),_0x2649df=await _0x1eed53[_0x527738(0x74b)](_0x5d8e33),_0xb8147d=await _0x1eed53['findOneAndUpdate']({'_id':_0x5d8e33},_0x2d65c2,{'new':!0x0,'runValidators':!0x0});return _0xb8147d||(console[_0x527738(0x554)](_0x527738(0x267)+_0x5d8e33+_0x527738(0x6f0)+_0x292d0d+_0x527738(0x5a5)),null);}catch(_0x881591){throw console[_0x527738(0x617)](_0x527738(0x471),_0x881591),_0x881591;}}async[a0_0x153f5d(0x325)](_0x5f300e){const _0x435767=a0_0x153f5d;try{let _0x3ce47e=this[_0x435767(0x30a)](_0x5f300e),_0x417b3d={'shareOwners':{'$exists':!0x1}},_0x3f9c46={'$set':{'shareOwners':[]}};return(await _0x3ce47e[_0x435767(0x21d)](_0x417b3d,_0x3f9c46))['modifiedCount'];}catch(_0x4c282e){return console['error'](_0x4c282e),0x0;}}async['createAndSave'](_0x1a3e78,_0x2134a7){const _0x27511c=a0_0x153f5d;try{let _0x582601=this[_0x27511c(0x30a)](_0x2134a7);return await new _0x582601(_0x1a3e78)[_0x27511c(0x83d)]();}catch(_0x4f235b){return console[_0x27511c(0x617)](_0x27511c(0x896),_0x4f235b),null;}}async[a0_0x153f5d(0x21d)](_0x1fa2db,_0x1143d2,_0x182f49){const _0x1e35e0=a0_0x153f5d;try{return{'modifiedCount':(await this[_0x1e35e0(0x30a)](_0x182f49)[_0x1e35e0(0x21d)](_0x1fa2db,{'$set':_0x1143d2}))['modifiedCount']};}catch(_0x3cb143){return console['error'](_0x1e35e0(0x40f),_0x3cb143),{'error':_0x3cb143};}}async[a0_0x153f5d(0x2ff)](_0x4ab9ba,_0x2cb2af){const _0x4a10f1=a0_0x153f5d;try{let _0x35a218=this[_0x4a10f1(0x30a)](_0x2cb2af),_0x183d32=T(_0x4ab9ba[_0x4a10f1(0x302)]);return await _0x35a218['find'](_0x183d32)[_0x4a10f1(0x86f)](_0x4ab9ba?.[_0x4a10f1(0x86f)]??0x0)[_0x4a10f1(0x1f2)]();}catch{return[];}}async['findOne'](_0x1e69ed,_0x6c03b5){const _0x1a7de7=a0_0x153f5d;try{let _0x5a4214=this[_0x1a7de7(0x30a)](_0x6c03b5),_0x130a5e=T(_0x1e69ed[_0x1a7de7(0x302)]);return await _0x5a4214[_0x1a7de7(0x88a)](_0x130a5e)[_0x1a7de7(0x1f2)]();}catch{return null;}}async[a0_0x153f5d(0x693)](_0xb13841){const _0x36eeb7=a0_0x153f5d;try{return await this[_0x36eeb7(0x30a)](_0xb13841)[_0x36eeb7(0x303)][_0x36eeb7(0x6a4)](),{'success':!0x0};}catch(_0x4845ca){return console['error'](_0x4845ca),{'success':!0x1,'error':_0x4845ca};}}},ts=class extends x{[a0_0x153f5d(0x375)](_0x1c427e){return pa(_0x1c427e);}async['insert'](_0x507862){const _0x353f7f=a0_0x153f5d;if(_0x507862[_0x353f7f(0x487)]!==0x0)try{return{'insertCount':(await this[_0x353f7f(0x375)](_0x507862[0x0][_0x353f7f(0x874)])['insertMany']([..._0x507862]))[_0x353f7f(0x487)]};}catch(_0x30cfbd){return _0x30cfbd;}}async['delete'](_0x286245,_0x2b969f){const _0x50925b=a0_0x153f5d;try{let _0x23c954=this[_0x50925b(0x375)](_0x2b969f),_0x4864fa=T(_0x286245[_0x50925b(0x302)]);return{'deletedCount':(await _0x23c954[_0x50925b(0x43a)](_0x4864fa))['deletedCount']};}catch(_0x444dee){return{'error':_0x444dee?.[_0x50925b(0x894)]()};}}async[a0_0x153f5d(0x37f)](_0x6036b6,_0x3065c6){const _0xaddebf=a0_0x153f5d;try{let _0x284c9f=this[_0xaddebf(0x375)](_0x3065c6),_0x3cd2ac=T(_0x6036b6['where']);return{'deletedCount':(await _0x284c9f['deleteOne'](_0x3cd2ac))[_0xaddebf(0x6bd)]};}catch(_0x164704){return{'error':_0x164704?.[_0xaddebf(0x894)]()};}}async[a0_0x153f5d(0x4e4)](_0x316be9,_0x464a8c){const _0xa1ea45=a0_0x153f5d;try{if(_0x316be9[_0xa1ea45(0x487)]===0x0)return;let _0x40525f=this[_0xa1ea45(0x375)](_0x464a8c),_0x492e38=_0x316be9[_0xa1ea45(0x26b)](_0x316851=>({'updateOne':{'filter':{'name':_0x316851[_0xa1ea45(0x525)],'owner':_0x464a8c},'update':{..._0x316851}}})),{modifiedCount:_0x2f74b4}=await _0x40525f[_0xa1ea45(0x7e1)](_0x492e38);return{'insertCount':_0x2f74b4};}catch{return;}}async[a0_0x153f5d(0x21d)](_0x2eb66a,_0x217d5d,_0x5a91a6){const _0x27c05e=a0_0x153f5d;try{return{'modifiedCount':(await this[_0x27c05e(0x375)](_0x5a91a6)[_0x27c05e(0x21d)](_0x2eb66a,{'$set':_0x217d5d})[_0x27c05e(0x57c)]())[_0x27c05e(0x3ba)]};}catch(_0x441689){return console[_0x27c05e(0x617)](_0x27c05e(0x38d),_0x441689),{'error':_0x441689};}}async[a0_0x153f5d(0x499)](_0x5dbd2c,_0x3ba1af,_0x48ff9c){const _0x4f54d7=a0_0x153f5d;try{return await this[_0x4f54d7(0x375)](_0x48ff9c)['findOneAndUpdate']({'_id':_0x5dbd2c},{'$set':_0x3ba1af},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x278b78){return console[_0x4f54d7(0x617)](_0x278b78),null;}}async[a0_0x153f5d(0x84e)](_0x15657d,_0x2aec5e){const _0x551dee=a0_0x153f5d;try{return await this[_0x551dee(0x375)](_0x2aec5e)[_0x551dee(0x84e)](_0x15657d)[_0x551dee(0x6da)]({'lastInteraction':-0x1})[_0x551dee(0x1f2)]();}catch{return[];}}async[a0_0x153f5d(0x88a)](_0x5b0105,_0x199369){const _0x205ddf=a0_0x153f5d;try{return await this[_0x205ddf(0x375)](_0x199369)[_0x205ddf(0x88a)]({..._0x5b0105[_0x205ddf(0x302)]})[_0x205ddf(0x1f2)]();}catch{return null;}}async['deleteAll'](_0x2f8e02){const _0x2df526=a0_0x153f5d;try{return await this[_0x2df526(0x375)](_0x2f8e02)[_0x2df526(0x303)]['drop'](),{'success':!0x0};}catch(_0x23d39d){return console[_0x2df526(0x617)](_0x23d39d),{'success':!0x1,'error':_0x23d39d};}}},ss=class extends x{['getScheduleMessageModelForOwner'](_0x4a17b6){return ha(_0x4a17b6);}async[a0_0x153f5d(0x5bf)](_0x32227f,_0x21836c){const _0x3cbb35=a0_0x153f5d;try{let _0x15c141=this[_0x3cbb35(0x473)](_0x21836c);return await new _0x15c141(_0x32227f)[_0x3cbb35(0x83d)]();}catch(_0x261ee1){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x261ee1),null;}}async[a0_0x153f5d(0x37f)](_0x37e3ad,_0x56e354){const _0x1aa3dd=a0_0x153f5d;try{return await this[_0x1aa3dd(0x473)](_0x56e354)['findByIdAndDelete'](_0x37e3ad),{};}catch(_0x49d523){return{'error':_0x49d523?.['toString']()};}}async[a0_0x153f5d(0x499)](_0x3e385c,_0x4a7071,_0x34917b){const _0x53c8bc=a0_0x153f5d;try{return await this[_0x53c8bc(0x473)](_0x34917b)[_0x53c8bc(0x673)](_0x3e385c,{'$set':_0x4a7071},{'new':!0x0})['lean']();}catch(_0x46b0cd){return console['error'](_0x53c8bc(0x32a),_0x46b0cd),null;}}async[a0_0x153f5d(0x75f)](_0x48e333,_0x1f5e3,_0x2009c6){const _0x46638e=a0_0x153f5d;try{return await this['getScheduleMessageModelForOwner'](_0x2009c6)[_0x46638e(0x6c1)](_0x48e333,_0x1f5e3,{'new':!0x0})[_0x46638e(0x1f2)]();}catch(_0x19bb71){return console[_0x46638e(0x617)](_0x46638e(0x32a),_0x19bb71),null;}}async[a0_0x153f5d(0x84e)](_0x1fed4d,_0x530ce8){const _0x10148b=a0_0x153f5d;try{return await this[_0x10148b(0x473)](_0x530ce8)[_0x10148b(0x84e)](_0x1fed4d[_0x10148b(0x302)])['limit'](_0x1fed4d?.[_0x10148b(0x86f)]??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async['findOne'](_0x22d4dd,_0x538348){const _0x19744d=a0_0x153f5d;try{return await this['getScheduleMessageModelForOwner'](_0x538348)[_0x19744d(0x88a)](_0x22d4dd[_0x19744d(0x302)])['sort']({'when':0x1})[_0x19744d(0x1f2)]();}catch{return null;}}async[a0_0x153f5d(0x74b)](_0x2e080e,_0x1889b8){try{return await this['getScheduleMessageModelForOwner'](_0x1889b8)['findById'](_0x2e080e)['lean']();}catch{return null;}}async['deleteMany'](_0x2996d9,_0x4a4e53){const _0x5eb16b=a0_0x153f5d;try{return{'deletedCount':(await this[_0x5eb16b(0x473)](_0x4a4e53)['deleteMany'](_0x2996d9))[_0x5eb16b(0x6bd)]};}catch(_0xa55e73){return console[_0x5eb16b(0x617)](_0x5eb16b(0x35a),_0xa55e73),{'error':_0xa55e73};}}async[a0_0x153f5d(0x693)](_0x4dbe9b){const _0x2fe132=a0_0x153f5d;try{return await this['getScheduleMessageModelForOwner'](_0x4dbe9b)[_0x2fe132(0x303)]['drop'](),{'success':!0x0};}catch(_0x2872ce){return console[_0x2fe132(0x617)](_0x2872ce),{'success':!0x1,'error':_0x2872ce};}}},as=class extends x{async[a0_0x153f5d(0x4e4)](_0x6d2d9c,_0x4d2d68){const _0xcde6f=a0_0x153f5d;try{if(this[_0xcde6f(0x58c)][_0xcde6f(0x3e1)]){let _0x5a8b04=await ve['findOneAndUpdate']({'_id':_0x4d2d68},{'$set':_0x6d2d9c},{'new':!0x0});return console[_0xcde6f(0x554)](_0xcde6f(0x7c5),_0x5a8b04),_0x5a8b04;}}catch(_0x13e6d9){throw console[_0xcde6f(0x617)](_0xcde6f(0x30f),_0x13e6d9),_0x13e6d9;}}async[a0_0x153f5d(0x301)](_0x1791fd){const _0x92e7f3=a0_0x153f5d;try{let _0x3dfb3a=await ve[_0x92e7f3(0x74b)](_0x1791fd);return _0x3dfb3a?_0x3dfb3a[_0x92e7f3(0x5ae)]||(_0x3dfb3a[_0x92e7f3(0x5ae)]=[],await _0x3dfb3a['save']()):(_0x3dfb3a=new ve({'_id':_0x1791fd,'autoCompleteMessages':[]}),await _0x3dfb3a[_0x92e7f3(0x83d)]()),_0x3dfb3a;}catch(_0x1b13f7){return _0x1b13f7[_0x92e7f3(0x5f7)]===0x2af8&&_0x1b13f7[_0x92e7f3(0x496)]&&_0x1b13f7[_0x92e7f3(0x496)][_0x92e7f3(0x3c1)]?(console[_0x92e7f3(0x617)](_0x92e7f3(0x5de)),await ve[_0x92e7f3(0x303)][_0x92e7f3(0x24f)](_0x92e7f3(0x1a7)),null):(console[_0x92e7f3(0x617)](_0x92e7f3(0x339),_0x1b13f7),null);}}},$o=new R(a0_0x153f5d(0x678)),Ao=new Be(S),Oo=new Ut(S),To=new at(S),Io=new qt(Zs,S),xo=new Xt(ra,S),Do=new Zt(aa,S),_o=new es(S),Po=new Vt(S),ko=new ts(S),jo=new ss(S),Lo=new as(S),ue=new Ve(Ao,Oo,To,Io,xo,Do,_o,ko,Po,jo,Lo,$?.['getClient']()),G=new Jt(ls,S,ue),Fo=new zt(S,G,ue),Jo=new Kt(G),Ms=new Yt(Jo),A=new Qt(G),ne=new Bt(G,S,ue,ls,Fo),B=new Wt(G),_=new Gt(G),q=new Ht(G);$o['info']('Module\x20-\x20ON');function a0_0x7366(){const _0x131ad5=['env.KEY\x20!==\x20key','deleted','cachedData-whatsapp','https://jsonip.com','updateBlock','\x0a{\x20instance:\x20',',\x20valor\x20passado:\x20\x22','\x0aitem','Erro\x20ao\x20deletar\x20a\x20conversa','fromObject','addReplyOption','media','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','conversation','\x5cd+','updateGParticipate','344308YRjOgh','lastReceivedMessage','realVariables','Erro\x20de\x20atualização:\x20','createGroup','fetchConversation','SERVER_ACK','updateReplyOption','insertMany','Falta\x20informação\x20para\x20a\x20chamada\x20API','reactionMessage','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','when','$addToSet','telefone','FlowModel','saveCreds','Erro\x20ao\x20iniciar\x20o\x20fluxo.','KEY','deleteConversation','groups_ignore','request\x20received\x20in\x20editFlowcondition','sharePass','processConditionsTest','request\x20body:\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Content\x20is\x20required','audio/ogg','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20',',\x20saindo.','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','content','Request\x20Body:','://','segundos','Erro\x20ao\x20criar\x20fluxo\x20regular','QRCODE_UPDATED','CREDENTIALS','clearVariables','_fromMe','maxActives','CORS_CREDENTIALS','yes','inviteUrl','env','):\x20Iniciando\x20bot...','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','save','protocolMessage','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','sharp','TYPE','https://','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20\x27Deletando\x20fluxo,\x20name:\x20','content-type','editFlowCondition','6273144inpKaJ','leadInfo.','\x1b[43m','):Notifying\x20clients\x20for\x20chat:\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','blocks','replaceValue','find','routerPath','#64c4ff','url','createInstance','http://myexternalip.com/raw','groupUpdateDescription','splice','editScheduleMessage','\x1b[36m','sendMedia','The\x20property\x20cannot\x20be\x20empty','Erro\x20ao\x20iniciar\x20fluxo:\x20','buttonMessage','beforeExit','labels.edit','prefixCommand','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','toBRL','newStoppedUntil','groupBetterSetting','jwt','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','allFlows','groupdata','buttonId','contactHandle','URL','timeout','Message\x20not\x20found','document','isJidBroadcast','groupName','limit','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','/wa-all-message','contacts','CLEANING_INTERVAL','owner','\x20}\x0a','removed','ReplyOption\x20com\x20ID\x20','remoteJids','paused','CONNECTION','\x20do\x20chat\x20','request\x20received\x20in\x20scheduleMessage','replaceVariablesInReplyOptions','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','views','user','notEmpty','GROUP_PARTICIPANTS_UPDATE','/instance/create','\x20com\x20sucesso.','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Deletando\x20mensagem','_p_','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','envYaml','findOne','fileLength','announce','proto','exports','recording','STORE_MESSAGE','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','groupFetchAllParticipating','groupCreate','toString','updateProfileStatus','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','evaluateCondition','/media/','/events/:instance','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','SERVER','listen','padStart','bodyStringErrorParse','updateAutoCompleteMessages','AUTHENTICATION_API_KEY','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','application/json','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','.X-ABLabel:Celular\x0a','post','editflowreply','values','label','getRandomText','/chat','toggleEphemeral','fetchProfilePictureUrl','updateMissingTags',',\x20Segundo\x20Valor:\x20','max','.extension','connectedClient','autoCompleteMessages.command_1','groupId','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','):\x20Comando\x20desconhecido:\x20','Fluxo\x20não\x20encontrado','base64','Log\x20out\x20instance:\x20','\x20mensagens\x20de\x20','localWebhook','E-mail:\x20','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','local_map','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','basename','inviteCode','displayName','sem\x20texto\x20na\x20mensagem','\x1b[33m\x1b[1m','flowPrefixCommand','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','/clients-info','JWT','File\x20written\x20to\x20path:\x20','defineAuthState','backgroundColor','min','):\x20Criando\x20fluxo\x20compartilhado...','Enter\x20a\x20value\x20in\x20milliseconds','\x20global:\x20','jsonschema','\x20ao\x20chat\x20','mongodb','badSession','messageTimestamp','Esse\x20fluxo\x20expirou','extractMessageContent','getMessage','\x20removido\x20do\x20chat\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):Image\x20created','variable','https://api.elevenlabs.io/v1/text-to-speech/','flush','groupadd','delayChatLabel_RETRY_DELAY_MS','fetchContacts','setRestartTimeout','replaceVariablesChat','env.yml','cacheContact','Erro\x20ao\x20deletar\x20chat:','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','\x5c$&','stopWhenYouSendMsg','reorderBlocks','jpegThumbnail','request\x20received\x20in\x20createFlow','keep-alive','Flow\x20iniciado\x20com\x20','testProxy','_Chats','\x20tentativas.\x20(ID:\x20','deleteMessageForEveryone','numbers','\x20depois\x20','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','mediaKey','):Audio\x20processed','statSync','getContactModelForOwner','https','Safari','Variável\x20não\x20encontrada!','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','lean','CHATS_UPSERT','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','_pushName','):\x20Conversas\x20encontradas:','mediaMessage','applyvaredit','list','updateMissingEtiquetas','rowId','AppStateSyncKeyData','listType','synchronizeFlows','--agree-tos','#56ccb4','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20Buscando\x20todos\x20os\x20fluxos...','isJidUser','getVariablesChat','router','CHATS_DELETE','):\x20debug\x20alterando\x20this.AutomateSystem','DEBUG','AutomateSystem\x20não\x20foi\x20inicializado','variables','match','action',',\x20fará\x20nova\x20verificação\x20em\x20','repeat','):\x20enviado\x20para\x20[','):\x20Enviando\x20texto','connectionClosed','messages','longitude','getBase64FromMediaMessage','unknown\x20operation\x20type\x20[','stickerMessage','getLabelModelForOwner','off','#6f7bcf','uazapiSendMedia','imported','logger','updateMany','editedMessage','end','1060242KISfZS','contacts.upsert','urlOrBase64','Erro\x20ao\x20editar\x20o\x20chat','role','hGet','sendText','loadEnv','stopConversation','verifiedName','request\x20received\x20in\x20fetchConversation','):\x20Enviando\x20áudio','archive','createConversationforStartFlow','sendButtons','GROUPS_UPDATE','protocol','.docx','Deleted\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','blockId','dbInstance','getHours','context','\x20não\x20encontrado',',\x20Comparador:\x20','audio',',\x20Novo\x20tamanho:\x20','getContentType','trim','PASSWORD','50mb','isJWT','instanceName\x20not\x20provided.','pollCreationMessageV3','Group\x20not\x20found','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','HOST','defineProperty','--standalone','Invalid\x20format','Erro\x20ao\x20buscar\x20o\x20fluxo','AUTHENTICATION_JWT_SECRET','website','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','release','atendimentoAberto','dropIndex','Erro\x20ao\x20atualizar\x20o\x20fluxo:','\x1b[32m%s\x1b[0m','footerText','removeUnusedChatFields','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','toDataURL','connectToWhatsappController','instance','use',',\x20Expiration\x20Time:\x20','validate',':\x20Erro\x20durante\x20loadproxy\x20-\x20','pictureUrl','request\x20received\x20in\x20getAutomateSystem','writeFileSync','FULLCHAIN','saveConversationToDatabase','errors','\x1b[0m','getDelay','_Labels','Erro\x20ao\x20buscar\x20Schedule\x20Messages','importChatsBatch','Documento\x20com\x20ID\x20','lastFetchAwaitingApproval','cleaningUp','updateGroupParticipantsWebhook','map','http://ifconfig.me/ip','):including\x20timestamp\x20in\x20url:\x20',':\x20IP\x20configurado:\x20','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','findGroupInfos','.gif','):\x20Enviando\x20mídia','https://chat.whatsapp.com/','findGroupInfo','block','):\x20conversation.waitingMenu_name',',\x20lastCondition:\x20','startFlow','setHeader','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','ip:\x20','console','\x20->\x20NÃO\x20CORRESPONDE.','PENDING','newValue','blockLogs','Erro\x20ao\x20alterar\x20fluxo','Error\x20updating\x20cache\x20contact:','uazapiSendText','connecting','isLong','_remoteJid','scheduleSendMedia','binary','processawaitSeconds','buttons','remoteJid','data','updateStatusPrivacy','\x22\x20-\x20NOT\x20CONNECTION','LOG_LEVEL','groupRequestParticipantsList','detail','.png','PRODUCT_LIST','audioWhatsapp','Instance\x20ID:',',\x20resultado:\x20','processgoToFlow','FlowController','authService','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','connectionUpdate','groupMemberAddMode','rows','https://uazapi-plugin.bubbleapps.io/?url=','#fe9dfe','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','locked','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','flattenObject','interval\x20não\x20é\x20um\x20número','tags','AutomateSystem','profile','\x1b[36m%s\x1b[0m','body','repository','chat','height',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','SERVER_OFFLINE','joinApprovalMode','formatVCard','createConversationforgoToFlow','setNewValue','default','processblock','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','round','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','\x20minutos\x20verificará\x20novas\x20mensagens','sendPresenceUpdate','success','fullName','formatStatusMessage','from','DELETED','sync','archived','NO_IP','closeExistingConversations','store','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','Bad\x20Request','request\x20received\x20in\x20editFlow','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','*\x0a\x0a','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','unreadCount','):\x20Visualizando\x20AutomateSystem','endsWith','readdirSync','subjectTime','put','readMessages','path','g-t','write','uazapiSendMenu','):\x20transformedCustomFieldVariables','fetchBusinessProfile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','video','groupMetadata','):Image\x20path:\x20','@ffmpeg-installer/ffmpeg','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateGroupWebhook','processclearVariables','editflowblock','messages.update','URI','waMonitor','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','createConnection','authState','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','editflowcondition','cacheContactModel','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','.\x20Pulando.','_activedCount','Pausado\x20por\x20','updateFlowConfig','Logger','readData','description','announcement','/message','Error\x20updating\x20message\x20status:','):Archiving\x20chat','Fluxos\x20não\x20estão\x20ativados','getFlow','error_log','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Type\x20not\x20found','now','lastDisconnect','/automate','ORG:','findAll','Error\x20in\x20scheduleNextCheck:\x20','findOrCreate','where','collection','waitingForReplyMenu','endSession','-whatsapp-api','$set','presence.update','OrAnd','getFlowModelForOwner','text','subject','\x20horas\x20e\x20','Primeiro\x20Valor:\x20','Erro\x20ao\x20atualizar\x20AutomateSystem:','ConversationModel','SUCCESS','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):Temp\x20image\x20deleted','sendMessage','deleteflow','deleteBlock','waitingMenu_replyOptions','conditions','readFile','reject','class-validator','statusJidList','toLowerCase','.url','replyOption','/*.json','silent','function','):\x20Criando\x20fluxo\x20regular...','updateMissingShareOwners','greater','/wa-presence','SERVER_PORT','beautifyWithPlaceholders','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','pushName','sendPoll','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','noConnection','entries','hbs','Not\x20is\x20business\x20profile','getClient','scheduleSendAudio','sendContact','method','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','subdomain','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','remoteJidsRemaining','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','delay','toNumber','assign','#d3a91f','/create','getTicketSystem','):\x20','getAutomateSystem','order','status.instance','createJid','lastBlockId','restrict','certonly','pairingCode','/instance/connectionState','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','slice','$pull','utf-8','checkAndRestartProcess','scheduleSendText','Deletion\x20failed','unavailable','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','connection.update','Erro\x20ao\x20encerrar\x20a\x20API','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','insert','updateMediaMessage','Erro\x20ao\x20deletar\x20mensagens:','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','updateOnlinePrivacy','subjectOwner','):\x20Campos\x20a\x20serem\x20atualizados:','digest','findIndex','.ppt','Selecione','test','):\x20Buscando\x20conversa...','send.message','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Instância:\x20','STORE_CLEANING_TERMINAL','copy','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','jsonwebtoken','.mp3','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','temp-','allflows','Erro\x20ao\x20adicionar\x20label\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','ephemeralDuration','\x20instance\x20does\x20not\x20exist','getConversationModelForOwner','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','boolean','):\x20Mensagem\x20recuperada\x20após\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','addBlock','readMessageBot','sendMenu','instanceKeys','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','deleteOne','g.us','loadproxy','promote','setting','uazapiSendAudio','value','contacts.update','):\x20newFirstValue\x20após\x20replaceVariables:','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','waitingMenu_id','\x1b[32m','auth','rm\x20-rf\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','updateStopChat','.doc','Close\x20connection','dropCollection','whatsappNumbers','utf8','./.git/config','editFlowVaredit','mimetype','replacer','descId','removeData','crypto','):\x20Limpando\x20AutomateSystem','^\x5cd+([-]\x5cd+)*@g.us$','admin','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','password','/instance/delete','some','\x20-\x20ON:\x20','getBusinessProfile','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','textMessage','logout','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','fetchMessages','delayChatLabel_MAX_RETRIES','AUTHENTICATION','pollMessageOnDelete','findConversation','vcard','namespace','Instance\x20restarted','sendSticker','REDIS','Data\x20inválida\x20fornecida','AUTHENTICATION_JWT_EXPIRIN_IN','_Messages','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','exists',',\x20apikey:\x20','getStatus','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','modifiedCount','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','long','mongodb://','):\x20Não\x20achou\x20nenhum\x20flow','request\x20received\x20in\x20updateAgent','Button\x20IDs\x20cannot\x20be\x20repeated.','autoCompleteMessages.command','/wa-message','setWebhook','unreadcount','parse','port','Mac\x20OS','_error','Imagem\x20não\x20encontrada','replaceVariablesInObject','ms\x20(tentativa\x20','leadInfo.desativadoFluxoAte','createFlow','/instance','no.connection','choices','ListMessage','CORS','/events','requestPairingCode','messageContextInfo','getMessageModelForOwner','editOperator','integer','loadWebhook','updateConversation','lowerCase','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Message','METHODS','close','Error\x20in\x20chatModify\x20for\x20number\x20','ENABLED','deleteDoneMessages','flowConfig','leadInfo.customFields','\x1b[33m%s\x1b[0m','connectionState','query','error\x20get\x20vote','authModel','Erro\x20na\x20função\x20updateChatWithMessage:\x20','addChatLabel','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','/exit','createWebhook','Atualização:\x20','deleteImportedChat','normalizeMessage','):\x20Bloco\x20a\x20ser\x20atualizado:\x20',':\x20IP\x20funcionando!','.webp','):\x20expirationTime:\x20','SSL_CONF','#01d0e2','varedit','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','):\x20conversation.lastInteraction:\x20','WARN','startCommandWord','CONTACTS_UPSERT','groupRequestParticipantsUpdate','everyOne','caption','instanceName','):\x20Buscando\x20flow,\x20name:\x20','_Contacts','bodyString','secondValue','mongoose','delAll','AddChatLabel','):Audio\x20converted\x20and\x20stored\x20in\x20cache','fone','):\x20Editando\x20edição\x20do\x20fluxo...','closed','DATABASE_CONNECTION_USER','https://api.ipify.org?format=json','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','105agKNWT','_id','chats.delete','lastSend','isConnected','DATABASE_CONNECTION_PASSWORD','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','unlinkSync','stopMinutes','):Delete\x20chat','isJidGroup','.jwt','listMessage','MESSAGES_UPDATE','groupAcceptInvite','profilePictureUrl','generateWAMessageFromContent','):\x20Bloco\x20original\x20para\x20cópia:\x20','../env.yml','includes','Erro\x20ao\x20arquivar\x20chat','?timestamp=','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','findAndReplace','\x20saindo\x20da\x20função','charAt','):\x20this.processing_id:\x20','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','enumerable','forEach','superadmin','cwd','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Não\x20respondeu\x20com\x20a\x20enquete.','sendList','#b4ebff','delete','not\x20loaded','ObjectId','groupJoinApprovalMode','notas','deleteMany','21iEmaii','readreceipts','Message\x20absent\x20from\x20node','insertCount','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','false','licenca','upperCase','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','updateGParticipant','contactMessage','msgRetryCounterCache','collections','verify','chatId','apiName','Erro\x20ao\x20atualizar\x20o\x20flow.','unhandledRejection','redis','DisconnectReason','pollUpdateMessage','\x1b[31m','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','updateMissingCustomFields','http://ip-api.com/json','isInteger','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','concat','Instance\x20Key\x20from\x20DB:','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','creds.json','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','sticker','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','processConditions','setContext','saveVariable','pollOnReplyDelete','ListType','):Image\x20converted\x20to\x20WebP','dayjs','Flow\x20não\x20encontrado','Certbot:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','next_groupId','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','scheduleMessage','Falha\x20ao\x20processar\x20a\x20solicitação','statusMessage','convertaudioMP3','Erro\x20ao\x20atualizar\x20o\x20documento:','webhookModel','getScheduleMessageModelForOwner','readMessage','model','updateGroupsAddPrivacy','listResponseMessage','ephemeralExpiration','recebido\x20de','status@broadcast','@s.whatsapp.net','downloadMediaMessage','removeInstance','Validate','host','lastMessage','delayMessage','uazapiSendLocation','fetchPrivacySettings','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','sim','https-proxy-agent','length','2087120qwHYoy','LabelModel','groupJid','currency','userDevicesCache','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20Deletando\x20conversa...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','PREFIX_KEY','reconnectAttempts','scheduleNextCheck','#d8e651','configService','findManyByIds','keyPattern','chatHandle','automateSystem','updateOne','muteEndTime','participants','headers','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','convertToWebP','groupHandler','\x20não\x20encontrado\x20para\x20cópia','ephemeralMessage',',\x20pairCode:\x20','/wa-qrcode','):\x20Conversa\x20está\x20expirada','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Nenhum\x20participante\x20válido\x20encontrado.','\x0a*Você\x20respondeu*:\x0a','pollMessage','groupSetting','\x1b[34m%s\x1b[0m','chatModify','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','whatsappNumber','video-cover.png','stanzaId','qrCode','):\x20isVote:\x20','static','stateConnection','Router','):Trying\x20to\x20get\x20business\x20profile','<subdomain>','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','CONTACTS_UPDATE','MESSAGES_SET','STORE_CHATS','ContactsAndGroups','@redis/client','Contacts\x20not\x20found','get','qrcode','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.',']\x20(','editFlowReply','):Business\x20profile\x20fetched','request\x20received\x20in\x20updateAutoCompleteMessages','http://icanhazip.com/','startID','\x20contacts','):\x20Flow\x20não\x20encontrado','joinGroup','has','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','contextInfo',',\x20isAdmin:\x20','creation','picture','Last\x20message\x20not\x20found','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','notMatchRegex','prepareMediaMessage','wuid','#92ceac','matchRegex','sections','etiquetas','ultimaTentativaRemoteJid','isURL','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','\x20de\x20conectar\x20com\x20IP\x20extra.','express-async-errors','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','address','.pdf','pollErrorMessage','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Comando\x20desconhecido','update','messageHandle','sendReaction','Erro\x20ao\x20remover\x20instâncias\x20antigas:','info','truncatedto','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','/config','):\x20Enviando\x20enquete','.\x20Aguardando\x20antes\x20de\x20reconectar...','):\x20nextBlock.uazapi.name','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','group','generateHash','deleteFlow','SECRET','options','uazapi','unlocked','contact_blacklist','desativadoFluxoAte','updateChatGroupData','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','saveMediaToFile','Chat\x20com\x20ID\x20','random','view\x20engine','sendLocation','messageType','expression','_activatedCount','.webm','!stop','flowStopMinutes','#fed428','saveTextReply','\x22\x20not\x20found','audio/ogg;\x20codecs=opus','\x1b[47m','Operador:\x20\x22','fetchProfilePicture','getLastMessage','connect','WebhookGlobal','HttpsProxyAgent','all','.xlsx','processPollUpdateMessage','hasOwnProperty','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','USER','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','empty','):\x20Conversa\x20atualizada\x20em\x20memória','less','editConversation','eventemitter2','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',',\x20qrcodeCount:\x20','Erro\x20ao\x20inserir\x20chats:','\x20não\x20encontrado\x20para\x20atualização.','updateAgent','findLabels','redis://127.0.0.1:6379','name','agents','minutesToClose','sendCommand','startsWith','fetchLabels','Cache-Control','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','flow','cachedContacts-whatsapp','getTime','updateProfilePicture','uncaughtException','\x22\x20cannot\x20be\x20empty','groups.upsert','ChatRouter','http','replaceOne','abs','lastSendMessage','.uazapi.dev','oldToken','Instance\x20deleted','contact','instanceInfo','.jpg','notEqual','\x1b[40m','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20',',\x20global:\x20','getConversation','params','.type','Erro\x20ao\x20normalizar\x20a\x20mensagem:','extractRegex','errorLog','match_last_seen','Erro\x20do\x20Certbot:\x20','responsavelid','Authentication\x20error','10008xlnjRj','lastInteraction','augusto.fcs@gmail.com','Not\x20Found','envProcess','\x1b[37m','DB_PREFIX_NAME','log','groupValidate','toArray','warn','Db\x20Connection','storePath','phoneNumber','Erro\x20ao\x20copiar\x20o\x20documento','groupSettingUpdate','no-cache','pollCreationMessageKey','messageId','apirequest','\x20minutos','findAndUpdate','Read\x20messages','):\x20Enviando\x20contato','instancias:\x20','TEXT','sendMessageWithTyping','!cmd_','SERVER_TYPE','trimmed','none','HeaderType','image','\x1b[37m%s\x1b[0m','):\x20Entrou\x20na\x20função\x20scheduleFlow','createServer','):\x20Bloco\x20copiado:\x20','response','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','chats.update','testingWith','CHATS_SET','\x20-\x20JID:\x20','):\x20atualização\x20chat:\x20','Instance\x20Name:','evaluateConditionTest','goNextblock','exec','SEND_MESSAGE','throwAndLogError','scheduleFlow','deleteChat','emit','\x22\x20-\x20REMOVED','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','):\x20Erro\x20durante\x20a\x20atualização:\x20','not_announcement','\x20segundos','reaction','AUTHENTICATION_TYPE','number','):\x20Conversa\x20inserida\x20com\x20sucesso.','dbSettings','debug','.mimetype','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','statusCode','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','LOG','command','):\x20Bloco\x20com\x20ID\x20','.TEL;waid=','convertedOptions','):\x20customFieldVariables','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','valid','add','\x20-y','reconnectTimestamps','#9ba6ff','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','public','count','createNewConversation','reviver','DD/MM\x20HH:mm:ss','\x20não\x20encontrado.','editFlow','Sistema\x20atualizado\x20com\x20sucesso!','groupUpdateSubject','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','#9568cf','format','isAdmin','autoCompleteMessages','eventHandler','StartBot','Type\x20is\x20required','Erro\x20ao\x20importar\x20chats','\x1b[42m','editChat','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','qrcode-terminal','varedits','):\x20Alterando\x20fluxo...','startFlowWebhook','):\x20Entrou\x20na\x20função\x20goToFlow','dbConnection','.\x20(ID:\x20','generate','createAndSave','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','Internal\x20Server\x20Error','\x1b[1m\x1b[37m','participant','floor','MAX_RECONNECT_ATTEMPTS','createSectionsFromValues','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','replyOptions','deleteReplyOption','composing','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20lastBlockId:\x20','Variáveis\x20não\x20encontradas:','removeProfilePicture','apiResponse','status','chatLog','processing_id','flowIgnoreGroups','replaceVariables','processApiRequest','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','awaitingApproval','):Image\x20is\x20base64','pop','refused','DATABASE','object','joinGroupValidate','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','request\x20received\x20in\x20deleteDoneMessages','indexOf','Background\x20color\x20is\x20required','updateChatWithMessage','deleteInstance','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','\x20:\x20','isRunning','updateMessage','leaveGroup','pt-BR','jid','privacySettings','DaysToDelete','canSendMessage','Número\x20não\x20possui\x20WhatsApp.','open','mentions','SendScheduleMessage','updateProfileName','ex:\x20\x22groupJid=120362@g.us\x22','@newsletter','remove','Missing\x20global\x20api\x20key','code','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','restartInstance','uazapiDeleteMessage','fileUrl','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','ScheduleMessageModel','send','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','findGroup','username','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','#000000','Forbidden','https://uazapi-plugin.bubbleapps.io/','):\x20Fluxos\x20não\x20estão\x20ativados','organization','app-state-sync-key','events','\x20-i\x20','keys','getScheduleMessage','string','146934xolvRj','/wa-connection-update','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','STATUS_INSTANCE','@whiskeysockets/baileys','removeOlderDisconnectedInstances','updatePresence',':\x20Tentativa\x20','inner','error','headerString','DARK','Erro\x20ao\x20editar\x20agentes','isCommunity','imagechat','global','prototype','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','}}\x20->\x20valor\x20não\x20encontrado','Falha\x20após\x20várias\x20tentativas.','):\x20Grupo\x20','writeData','processScheduleFlow','MESSAGES_UPSERT','Rótulo\x20deletado:\x27,\x20','editFlowBlock',',\x20Resultado:\x20','readFileSync','StartID:','labelId','Rótulo\x20inválido\x20ou\x20sem\x20ID.','last','true','cpf','/wa-groups','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','.svg','Instance\x20logged\x20out','chats.set','):\x20Usando\x20extensão\x20padrão:\x20','$dbName','groupParticipantsUpdate','demote','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):\x20Ignoring\x20group\x20messages.','stopIfLastReturnedError','):\x20Erro\x20ao\x20tentar\x20recuperar\x20a\x20mensagem.\x20Tentativa\x20','equal','documentWithCaptionMessage','lastCondition','variablesToObject','\x20Tentativa\x20de\x20reconexão\x20','findParticipants','Mensagens\x20deletadas\x20com\x20sucesso.','importChats','moreLogs','#f64847','capitalizedWords','PORT','toFile','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','webhookService','request\x20received\x20in\x20editConversation','\x20quoted:\x20',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','updateCustomFields','child_process','isArray','variablesNotFound','Error\x20writing\x20file:\x20','request\x20received\x20in\x20allFlows','compression','join','process','restart','filter','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','findAndUpdateCacheContact','waInstances','/:instanceName','folder','2007270jcVuCy','PLAYED','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','DATABASE_CONNECTION_HOST','express','customFields','.txt','menuType','\x1b[46m','):Processing\x20audio','COLOR','processUazapi','waitingMenu_ExpiredMessage','groups.update','):\x20newSecondValue\x20após\x20replaceVariables:','LEVEL','):\x20Enviando\x20localização','getMinutes','findOneAndUpdate','convert','redirect','request\x20received\x20in\x20editFlowgroup','Types','WA\x20MODULE','inviteCodeDetails','):\x20Conversa\x20está\x20expirada\x20-\x20voto','created','header','createHash','stderr','GROUPS_UPSERT','downloads','creds.update','latitude','webhook','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','app','groupGetInviteInfo','):\x20Query\x20params:\x20','buttonText','mediatype','ini','node-mime-types','online','done','webhookMap','padEnd','message','optionName','Error\x20finding\x20many\x20contacts:','deleteAll','deleteMessage','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','@broadcast','conversationTimestamp','saveChatVariables','formatBRNumber','labels.association','leadInfo','):\x20Query\x20params:','CONTACTS_SET','):\x20Ler\x20mensagem','.xls','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','HH:mm:ss','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','drop','\x22reaction\x22\x20must\x20be\x20an\x20emoji','expiration','Flow\x20iniciado','create','locationMessage','request\x20received\x20in\x20editFlowvariable','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20',',\x20canSendMessage:\x20','fetchInstances','findWebhook','^\x5cd+','importChatsAntigo','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','writeFile','apikey','):\x20Flow\x20desativado','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','reorderReplyOptions','sendDataWebhook','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','author','):Error\x20in\x20converting\x20audio','connectedName','deletedCount','cachedContact','):\x20Limpando\x20delayMessage','fetchChats','findByIdAndUpdate','Schema','createRegularFlow','.error','\x20is\x20already\x20in\x20use.','archiveChat',',\x20Minutes\x20to\x20Close:\x20','BufferJSON','notContains','nomecompleto','lastUpdate','substring','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','verbose','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','\x1b[30m%s\x1b[0m','addresss','contains','READ','normalizeMessageContent','TEL','findMessages','fetchStatus','Fluxo\x20agendado\x20pelo\x20fluxo\x20','sort','waitingMenu_text','config','[all]','Erro\x20ao\x20buscar\x20conversas',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','Erro\x20ao\x20tentar\x20updateCustomFields','REDIS_URI','CORS_METHODS','delaySecMin','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','parseInt','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','onWhatsApp','):\x20Edit\x20schedule\x20message...','descOwner','initAuthCreds','pollCreationMessageV2','CORS_ORIGIN','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','\x20e\x20proprietário\x20','request\x20received\x20in\x20getFlow','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20conversation.status:\x20','encoding','findContacts','API\x20Key\x20inválida.','):Type\x20defined\x20as\x20audio','push','messageStubParameters','delaySecMax','_ScheduleMessages','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','uazapiSendContact','imageMessage','getflow','groupLeave','split','decryptPollVote','mentioned','makeCacheableSignalKeyStore','):\x20[messages.upsert]\x20group\x20ignored','stringify','profileName','):\x20Criando\x20nova\x20conversa[createNewConversation]','data:\x20','flowConversation','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','buffer','redisEnv','vote','toUpperCase','groupDesc','chats.upsert','mediaSticker','ids','Erro\x20ao\x20atualizar\x20conversa:\x20','RemoveChatLabel','approve','enabled','instances','hex','connectToWhatsapp','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','option','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','uuid',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','email','instance.','/webhook','request\x20received\x20in\x20deleteFlow','GUARD','API_KEY','VERBOSE','condition','-instances','getDevice','/wa-contacts','upsertChats','replace','messaging-history.set','InstancesAlterarTodas','PRESENCE_UPDATE','API\x20Key\x20from\x20Request:','Error\x20removing\x20unused\x20chat\x20fields:','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','pollCreationMessage','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','reference','getMIMEType','/media','CHATS_UPDATE','\x1b[31m%s\x1b[0m','.ogg','flowStopConversation','#dfaef0','urlencoded','arraybuffer','set','#9ab6c1','Button\x20texts\x20cannot\x20be\x20repeated','messagesSend','RECONNECT_TIME_FRAME','/instance/fetchInstances','poll','updateAll','goToFlow','/wa-chats','type','findById','fileName','\x1b[41m','sha256','requestFile','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','audioMessage','allContacts','cleanStore','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','MessageModel','start','resetReconnectionVariables','ERROR','sendMessageAck','del','arrayUnique','sendAudio','connectionStatus','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','updateOneById','messages.upsert','isBase64','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','text/event-stream','eventEmitter','ScheduleMessage','Erro\x20ao\x20editar\x20a\x20conversa','The\x20\x22','shutdown\x20-r\x20now','menuMessage','memberAddMode','presenceSubscribe','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','menuIgnoreNonVotes','hSet','key','nome','CONNECTION_UPDATE','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','DATABASE_CONNECTION_DB_PREFIX_NAME','):\x20Procurando\x20conversa','cache','@g.us','linkPreview','isListOfNumbers','markMessageAsRead','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','changeVariables','Erro\x20ao\x20tentar\x20autoCompleteMessages','RemoteJid:','pre','groups','https://ipinfo.io/json','Instance\x20\x22','json','stopMinutesMaxActives','\x20\x1b[0m','fetchLatestBaileysVersion','groupToggleEphemeral','title','replaceVariablesLogs','updatePrivacySettings','fromMe','dbServer','/wa-message-update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','getProfileName','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','editflowvariable','authentication','Fluxo\x20não\x20encontrado.','PROXY','application/octet-stream','processvaredits','creds','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','delayChatLabel','optionDescription','shift','findAndReplaceRegex','ignoreGroups','):\x20Buscando\x20conversas...','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','/group','Erro\x20ao\x20sincronizar\x20fluxos:\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','array','chats','\x20tentativas.','):\x20[messages.update]\x20group\x20ignored','__esModule','contactsArrayMessage','/startFlow/:instance/:startID','presence','originalUrl','?authSource=admin&readPreference=primary&directConnection=true','INFO','remove.instance','output','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','\x1b[33m','groupRevokeInvite','PRIVKEY','verifyWhatsAppNumber','quoted','profilePicture','state','Início','Falhou\x20ao\x20encontrar\x20chat\x20','revokeInviteCode','isCommunityAnnounce','fetchProfile','SINGLE_SELECT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','):\x20Error\x20processing\x20the\x20block:\x20','DELIVERY_ACK','timeInMinutes','getOwnPropertyNames','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','truncatedtoEnd','Resultado\x20da\x20atualização:','updateLastSeenPrivacy','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','editFlowVariable','shareOwners','convertaudio','group-participants.update','awaitSeconds','https://api.openai.com/v1/images/generations','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','updateGroupPicture','ON\x20-\x20dbName:\x20','sendWhatsAppAudio','and','NextBlock','selectableCount','font','Cannot\x20','firstValue','findFlow','Conexão\x20estabelecida','imgUrl','.wav','stopped','toLocaleString','client','dataValidate','existsSync','bulkWrite','color','getChatModelForOwner','#83e421','upsertedCount','exit','createSharedFlow','desc','scheduled','flowActive','):\x20alterando\x20this.AutomateSystem','.fileUrl','copyBlock','SSL_CONF_PRIVKEY','Instância\x20não\x20encontrada.','\x0aFN:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','8080','AutomateFunctions','message_normalized','editFlowGroup','findGroups','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','\x1b[30m','remote\x20\x22origin\x22','Valor\x20inicial:\x20\x22','LICENSE_INVALID'];a0_0x7366=function(){return _0x131ad5;};return a0_0x7366();}var Fh=require('express-async-errors'),Ps=require('fs'),vi=O(require(a0_0x153f5d(0x1ee))),Ni=O(require(a0_0x153f5d(0x535))),_e=class c{static #e;static set[a0_0x153f5d(0x685)](_0x3325ef){this.#e=_0x3325ef;}static get[a0_0x153f5d(0x1ee)](){const _0x165844=a0_0x153f5d;let {FULLCHAIN:_0x2e610d,PRIVKEY:_0x1e57f2}=S[_0x165844(0x4be)](_0x165844(0x3f6));return vi[_0x165844(0x570)]({'cert':(0x0,Ps[_0x165844(0x629)])(_0x2e610d),'key':(0x0,Ps[_0x165844(0x629)])(_0x1e57f2)},c.#e);}static get['http'](){const _0x46cc64=a0_0x153f5d;return Ni[_0x46cc64(0x570)](c.#e);}},pe=O(require('fs')),Ii=O(require(a0_0x153f5d(0x68a))),Pe=O(require('axios')),je=O(require(a0_0x153f5d(0x2d1))),Le=require(a0_0x153f5d(0x652));function Uo(){const _0x398d80=a0_0x153f5d;G['loadInstance']();let _0x324ab9=je['default']['join'](__dirname,_0x398d80(0x680));Ti(_0x324ab9);}var Ti=_0x4fda9b=>{const _0x2bb80e=a0_0x153f5d;let _0x46f8da=pe['default'][_0x2bb80e(0x2cd)](_0x4fda9b),_0x5d4d8e=0xc*0x3c*0x3c*0x3e8,_0x32dd1f=0x2*0x3c*0x3c*0x3e8,_0x59f178=new Date()['getTime']();_0x46f8da[_0x2bb80e(0x42e)](_0x371f67=>{const _0x25d6ad=_0x2bb80e;let _0x3f3bde=je['default'][_0x25d6ad(0x658)](_0x4fda9b,_0x371f67),_0x276941=pe[_0x25d6ad(0x2b3)][_0x25d6ad(0x1ec)](_0x3f3bde)['birthtime'][_0x25d6ad(0x52f)]();_0x59f178-_0x276941>_0x5d4d8e&&(pe[_0x25d6ad(0x2b3)][_0x25d6ad(0x418)](_0x3f3bde),console[_0x25d6ad(0x554)](_0x25d6ad(0x232)+_0x371f67));}),setTimeout(()=>Ti(_0x4fda9b),_0x32dd1f);};function qo(){const _0x5ce394=a0_0x153f5d;let _0x4884be=new R('SERVER'),_0x2dbad0=(0x0,he[_0x5ce394(0x2b3)])();_0x2dbad0[_0x5ce394(0x258)]((0x0,Oi[_0x5ce394(0x2b3)])({'origin'(_0x3a8855,_0x38acf8){const _0x2c243e=_0x5ce394;let {ORIGIN:_0x3ea624}=S['get'](_0x2c243e(0x3d2));return _0x3a8855||(_0x3a8855='*'),_0x3ea624['indexOf']('*')!==-0x1||_0x3ea624['indexOf'](_0x3a8855)!==-0x1?_0x38acf8(null,!0x0):_0x38acf8(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x5ce394(0x4be)]('CORS')[_0x5ce394(0x3de)]],'credentials':S[_0x5ce394(0x4be)](_0x5ce394(0x3d2))[_0x5ce394(0x833)]}),(0x0,he[_0x5ce394(0x73e)])({'extended':!0x0,'limit':'50mb'}),(0x0,he[_0x5ce394(0x782)])({'limit':_0x5ce394(0x23f)})),_0x2dbad0['use']((_0x3cf74c,_0x3a3def,_0x5e124b)=>{const _0x4982b7=_0x5ce394;_0x3cf74c[_0x4982b7(0x2d1)][_0x4982b7(0x529)](_0x4982b7(0x3d3))?_0x5e124b():(0x0,Ai[_0x4982b7(0x2b3)])()(_0x3cf74c,_0x3a3def,_0x5e124b);}),_0x2dbad0[_0x5ce394(0x740)](_0x5ce394(0x4ff),_0x5ce394(0x330)),_0x2dbad0[_0x5ce394(0x740)](_0x5ce394(0x87f),(0x0,js['join'])(re,_0x5ce394(0x87f))),_0x2dbad0[_0x5ce394(0x258)](he[_0x5ce394(0x2b3)][_0x5ce394(0x4b2)]((0x0,js[_0x5ce394(0x658)])(re,_0x5ce394(0x5a0)))),_0x2dbad0[_0x5ce394(0x258)]((_0x59d2b3,_0x3fd26d,_0x192c35)=>{const _0x4c50e9=_0x5ce394;let _0x1a50cb=_0x3fd26d[_0x4c50e9(0x5fe)];_0x3fd26d['send']=function(_0x4e326b){const _0x34aec0=_0x4c50e9;if(_0x59d2b3[_0x34aec0(0x3e7)][_0x34aec0(0x674)]===_0x34aec0(0x62e)||_0x59d2b3[_0x34aec0(0x49c)][_0x34aec0(0x4f6)]===_0x34aec0(0x62e)){let _0x239d5d=JSON['parse'](_0x4e326b);_0x4e326b=JSON['stringify'](_0x571091(_0x239d5d));}return _0x1a50cb['apply'](_0x3fd26d,[_0x4e326b]);},_0x192c35();}),_0x2dbad0[_0x5ce394(0x258)]('/',Ie),_0x2dbad0[_0x5ce394(0x258)]((_0x458685,_0x4c7879,_0x5137c3,_0x4000b7)=>{const _0x4d7284=_0x5ce394;if(_0x458685)return _0x5137c3[_0x4d7284(0x5d0)](_0x458685[_0x4d7284(0x5d0)]||0x1f4)[_0x4d7284(0x782)](_0x458685);},(_0x2b976a,_0x5bfe14,_0x2a0ef5)=>{const _0x80b574=_0x5ce394;let {method:_0x4beaea,url:_0x267e57}=_0x2b976a;_0x5bfe14[_0x80b574(0x5d0)](0x194)[_0x80b574(0x782)]({'status':0x194,'message':_0x80b574(0x7d6)+_0x4beaea[_0x80b574(0x70f)]()+'\x20'+_0x267e57,'error':_0x80b574(0x550)}),_0x2a0ef5();});let _0x571091=(_0x249769,_0x4e0683=_0x5ce394(0x887))=>{const _0xfc162b=_0x5ce394;let _0x483817=(_0x437ea0,_0x1a225a=null,_0x10e284=!0x1)=>{const _0xe23758=a0_0x2486;let _0x553c40={};return Object[_0xe23758(0x60b)](_0x437ea0)[_0xe23758(0x42e)](_0x853b25=>{const _0x2281e1=_0xe23758;let _0x11065d=_0x437ea0[_0x853b25],_0x196390=''+_0x4e0683+_0x853b25;_0x1a225a&&!_0x10e284&&(_0x196390=_0x1a225a+'.'+_0x853b25),!_0x11065d&&_0x11065d!==0x0&&_0x11065d!==!0x1||typeof _0x11065d>'u'?_0x553c40[_0x196390]=null:typeof _0x11065d!=_0x2281e1(0x5dc)&&!Array[_0x2281e1(0x653)](_0x11065d)?_0x553c40[_0x196390]=_0x11065d:typeof _0x11065d==_0x2281e1(0x5dc)&&!Array[_0x2281e1(0x653)](_0x11065d)?_0x553c40=Object[_0x2281e1(0x33e)](_0x553c40,_0x483817(_0x11065d,_0x196390)):Array[_0x2281e1(0x653)](_0x11065d)&&(typeof _0x11065d[0x0]==_0x2281e1(0x5dc)?(_0x553c40[_0x196390]=[],_0x11065d[_0x2281e1(0x42e)](_0x30cad7=>{const _0xd46fec=_0x2281e1;_0x553c40[_0x196390][_0xd46fec(0x6f8)](_0x483817(_0x30cad7,_0x196390,!0x0));})):_0x553c40[_0x196390]=_0x11065d);}),_0x553c40;};return Array[_0xfc162b(0x653)](_0x249769)?_0x249769[_0xfc162b(0x26b)](_0x70ef74=>_0x483817(_0x70ef74)):typeof _0x249769==_0xfc162b(0x5dc)&&_0x249769!==null?_0x483817(_0x249769):{};},_0x193c95=S[_0x5ce394(0x4be)](_0x5ce394(0x89b));_e[_0x5ce394(0x685)]=_0x2dbad0;let _0x353dd9=_e[_0x193c95['TYPE']],_0x1d4d89='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x353dd9[_0x5ce394(0x89c)](_0x193c95[_0x5ce394(0x64a)],()=>{const _0x4a343d=_0x5ce394;_0x4884be[_0x4a343d(0x554)](_0x1d4d89),_0x4884be[_0x4a343d(0x554)](_0x193c95[_0x4a343d(0x841)][_0x4a343d(0x70f)]()+_0x4a343d(0x3a2)+_0x193c95[_0x4a343d(0x64a)]);}),Uo(),zs();}var Vo='https://github.com/uazapi/uazapi.git',Go=je[a0_0x153f5d(0x2b3)]['join'](__dirname,a0_0x153f5d(0x394)),ke=null;function Bo(){return new Promise((_0x15f41f,_0x5124e3)=>{const _0xef597c=a0_0x2486;pe[_0xef597c(0x2b3)][_0xef597c(0x31a)](Go,_0xef597c(0x34f),(_0x53c752,_0x58908c)=>{const _0x2ce66a=_0xef597c;if(_0x53c752){ke=_0x53c752,_0x15f41f();return;}Ii['default'][_0x2ce66a(0x3c5)](_0x58908c)[_0x2ce66a(0x7f9)]['url']===Vo?(ke=null,_0x15f41f()):(ke=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x15f41f());});});}async function Wo(){const _0x270dde=a0_0x153f5d;try{await Bo(),await Ls();}catch(_0x18f033){console[_0x270dde(0x617)](_0x270dde(0x63b)+_0x18f033),process[_0x270dde(0x7e6)](0x1);}}Wo();async function xi(){const _0x2cc227=a0_0x153f5d;let _0x24a8bd;try{_0x24a8bd=(await Pe[_0x2cc227(0x2b3)][_0x2cc227(0x4be)](_0x2cc227(0x7ff)))[_0x2cc227(0x28c)]['ip'];}catch(_0xd7e6a2){console[_0x2cc227(0x617)](_0xd7e6a2);try{_0x24a8bd=(await Pe['default'][_0x2cc227(0x4be)](_0x2cc227(0x40e)))['data']['ip'];}catch(_0x5f1a41){console[_0x2cc227(0x617)](_0x5f1a41);try{_0x24a8bd=(await Pe['default'][_0x2cc227(0x4be)]('http://checkip.dyndns.org'))['data'][_0x2cc227(0x20b)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4db00b){return console[_0x2cc227(0x617)](_0x4db00b),!0x1;}}}return _0x24a8bd;}var Ri=0x0;async function zo(){const _0x4707dc=a0_0x153f5d;let _0x2fbd3c=await new ce(S[_0x4707dc(0x4be)](_0x4707dc(0x3b1)))[_0x4707dc(0x37d)]();return console[_0x4707dc(0x554)](_0x4707dc(0x565),_0x2fbd3c[_0x4707dc(0x487)]),_0x2fbd3c[_0x4707dc(0x487)];}function Ho(_0x5d4810){const _0x363e45=a0_0x153f5d;let _0x57e332=_0x5d4810[_0x363e45(0x4be)](_0x363e45(0x89b))['URL'],_0x18af46=_0x5d4810['get'](_0x363e45(0x3f6)),_0x112561;if(_0x57e332){let _0x6732b3=_0x57e332['match'](/\/\/(.*?)\./);_0x6732b3&&_0x6732b3[0x1]&&(_0x112561=_0x6732b3[0x1]);}if(!_0x112561&&_0x18af46&&_0x18af46[_0x363e45(0x25f)]){let _0x54a874=_0x18af46[_0x363e45(0x25f)][_0x363e45(0x701)]('/'),_0x5a16c=_0x54a874[_0x54a874[_0x363e45(0x487)]-0x2];if(_0x5a16c){let _0x47bf21=_0x5a16c['split']('.');_0x47bf21['length']>0x2&&(_0x112561=_0x47bf21[0x0]);}}return _0x112561;}var xs=Ho(S);async function Ko(){const _0x559bb7=a0_0x153f5d;let _0x2ecfb5=S[_0x559bb7(0x4be)](_0x559bb7(0x3b1)),_0x4183d0=S['get'](_0x559bb7(0x3aa))[_0x559bb7(0x726)][_0x559bb7(0x81e)],_0x2bb26e=S[_0x559bb7(0x4be)]('SSL_CONF'),_0x3e3649=await xi(),_0x5981b9=S['get'](_0x559bb7(0x89b))[_0x559bb7(0x64a)],_0x4e31c5=S['get']('SERVER')[_0x559bb7(0x869)];try{let _0x1fdfde={'ip':_0x3e3649||null,'redis_enable':_0x2ecfb5?.['ENABLED']||null,'apikey':_0x4183d0||null,'ssl':_0x2bb26e?.[_0x559bb7(0x7b2)]||null,'lastupdate':Di||null,'port':_0x5981b9||null,'gitInstallError':ke?.[_0x559bb7(0x690)]||null,'url':_0x4e31c5||null};if(console['log'](_0x559bb7(0x27b),_0x1fdfde['ip']),_0x2ecfb5&&_0x2ecfb5[_0x559bb7(0x3e1)]){let _0x3ed242=await zo();_0x1fdfde['instanceCount']=_0x3ed242||null;}for(let _0x10fadb in _0x1fdfde)_0x1fdfde['hasOwnProperty'](_0x10fadb)&&_0x10fadb!=='ip'&&(_0x1fdfde[_0x10fadb]=JSON[_0x559bb7(0x706)](_0x1fdfde[_0x10fadb]));return(await Pe[_0x559bb7(0x2b3)][_0x559bb7(0x8a5)](_0x559bb7(0x7f7),_0x1fdfde))[_0x559bb7(0x28c)];}catch(_0x106a98){return console[_0x559bb7(0x617)](_0x106a98),!0x1;}}var ks=!0x1,Di=0x245,Qo=0x3,$i=0x1b7740;async function Ls(){const _0x41a911=a0_0x153f5d;if(!await xi())return console[_0x41a911(0x617)](_0x41a911(0x376)),_0x41a911(0x2c1);let _0x1d8207=await Ko();if(_0x1d8207){if(_0x1d8207['response'][_0x41a911(0x442)]===!0x0){let _0x1bb8c2=S[_0x41a911(0x4be)](_0x41a911(0x3f6)),_0x13c403=S[_0x41a911(0x4be)]('SERVER')['URL'];_0x1bb8c2&&_0x1bb8c2?.[_0x41a911(0x7b2)]?.[_0x41a911(0x424)](_0x41a911(0x4b6))&&_0x1d8207[_0x41a911(0x572)][_0x41a911(0x337)]&&!_0x13c403&&(await Zo(_0x1d8207[_0x41a911(0x572)][_0x41a911(0x337)],Xo),await er(_0x41a911(0x54f),_0x1d8207[_0x41a911(0x572)][_0x41a911(0x337)]),console[_0x41a911(0x554)](_0x41a911(0x817)),setTimeout(()=>sr(),0x2710)),ke===null&&_0x1d8207['response']['last_update']-Di>0x0&&await Yo(),ks||(ks=!0x0,qo());let _0x4943e1=0x24*0x3c*0x3c,_0x1d13b9=_0x1d8207[_0x41a911(0x572)][_0x41a911(0x830)]>_0x4943e1?_0x4943e1:_0x1d8207[_0x41a911(0x572)]['segundos'],_0x48d970=Number(_0x1d13b9);if(isNaN(_0x48d970)){console[_0x41a911(0x617)](_0x41a911(0x2a4));return;}let _0x50a41d=Math[_0x41a911(0x5c4)](_0x48d970/0xe10),_0x29da63=Math[_0x41a911(0x5c4)](_0x48d970%0xe10/0x3c),_0x555a98=new Date(Date[_0x41a911(0x2fb)]()+_0x48d970*0x3e8);setTimeout(Ls,_0x48d970*0x3e8);let _0x464822=_0x2a14a7=>_0x2a14a7[_0x41a911(0x894)]()[_0x41a911(0x89d)](0x2,'0'),_0x5408a5=_0x41a911(0x6b9)+_0x464822(_0x50a41d)+_0x41a911(0x30d)+_0x464822(_0x29da63)+'\x20minutos.\x20Será\x20às\x20'+_0x464822(_0x555a98[_0x41a911(0x236)]())+':'+_0x464822(_0x555a98[_0x41a911(0x672)]())+'.';console[_0x41a911(0x554)](_0x5408a5);}else return console[_0x41a911(0x554)](_0x41a911(0x45a)),ks&&(console[_0x41a911(0x554)](_0x41a911(0x4e2)),process[_0x41a911(0x7e6)]()),_0x41a911(0x7fb);}else{if(Ri++,Ri<Qo)console[_0x41a911(0x554)](_0x41a911(0x1b1)+$i/0xea60+'\x20minutos...'),setTimeout(Ls,$i);else return console[_0x41a911(0x617)](_0x41a911(0x24c)),_0x41a911(0x2ae);}}async function Yo(){const _0x4773b4=a0_0x153f5d;console[_0x4773b4(0x554)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x2a47c3=(0x0,Le['spawn'])(_0x4773b4(0x89a),{'shell':!0x0});_0x2a47c3['stdout']['on'](_0x4773b4(0x28c),_0x9cd63e=>{const _0xead980=_0x4773b4;console['log'](_0xead980(0x3ef)+_0x9cd63e);}),_0x2a47c3[_0x4773b4(0x67e)]['on'](_0x4773b4(0x28c),_0x21439d=>{const _0x141f12=_0x4773b4;console[_0x141f12(0x617)](_0x141f12(0x80f)+_0x21439d);}),_0x2a47c3['on']('exit',_0x438c78=>{const _0x10aca4=_0x4773b4;_0x438c78!==0x0?console[_0x10aca4(0x617)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x438c78):console['log'](_0x10aca4(0x5a7)),console[_0x10aca4(0x554)]('Parando\x20aplicação...'),setTimeout(()=>process['exit'](),0x2710);});}var Xo=je[a0_0x153f5d(0x2b3)]['join'](__dirname,a0_0x153f5d(0x1d8));async function Zo(_0x1388cc,_0x2baacb){const _0x4a3982=a0_0x153f5d;let _0x35374b=tr();_0x1388cc=_0x1388cc[_0x4a3982(0x72d)](_0x4a3982(0x539),'');try{let _0x3127cf=pe[_0x4a3982(0x2b3)][_0x4a3982(0x629)](_0x2baacb,'utf8');_0x3127cf=_0x3127cf['replace'](/<apikey>/,_0x35374b),_0x3127cf=_0x3127cf[_0x4a3982(0x72d)](/<subdomain>/g,_0x1388cc),pe[_0x4a3982(0x2b3)][_0x4a3982(0x25e)](_0x2baacb,_0x3127cf,_0x4a3982(0x393)),console[_0x4a3982(0x554)](_0x4a3982(0x3dc));}catch(_0x361272){console[_0x4a3982(0x617)](_0x4a3982(0x3ec),_0x361272);}}function er(_0x51869b,_0x33d70a){return new Promise((_0x4622ec,_0xe8a7c6)=>{const _0x5353fd=a0_0x2486;let _0x1449d0=(0x0,Le['spawn'])('certbot',[_0x5353fd(0x349),_0x5353fd(0x247),'-m',_0x51869b,_0x5353fd(0x1ff),'-d',_0x33d70a]);_0x1449d0['stdout']['on'](_0x5353fd(0x28c),_0x538b5f=>{const _0x494b7e=_0x5353fd;console[_0x494b7e(0x554)](_0x494b7e(0x468)+_0x538b5f[_0x494b7e(0x894)]());}),_0x1449d0[_0x5353fd(0x67e)]['on'](_0x5353fd(0x28c),_0x3c8e79=>{const _0x23cf9d=_0x5353fd;console[_0x23cf9d(0x617)](_0x23cf9d(0x54a)+_0x3c8e79[_0x23cf9d(0x894)]());}),_0x1449d0['on'](_0x5353fd(0x3df),_0x1ac20c=>{const _0x325075=_0x5353fd;_0x1ac20c!==0x0?(console[_0x325075(0x617)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x1ac20c),_0xe8a7c6(_0x325075(0x440)+_0x1ac20c)):(console[_0x325075(0x554)]('Certbot\x20executado\x20com\x20sucesso.'),_0x4622ec());});});}function tr(_0x9d45f7=0x32){const _0x17cba1=a0_0x153f5d;let _0x1604c4=_0x17cba1(0x6ce),_0xe80cf4='';for(let _0xee8b52=0x0;_0xee8b52<_0x9d45f7;_0xee8b52++)_0xe80cf4+=_0x1604c4[_0x17cba1(0x42a)](Math['floor'](Math['random']()*_0x1604c4[_0x17cba1(0x487)]));return _0xe80cf4;}function a0_0x2486(_0x5cfa6f,_0xcf498c){const _0x7366f9=a0_0x7366();return a0_0x2486=function(_0x248697,_0x22ad50){_0x248697=_0x248697-0x19b;let _0x5a2f47=_0x7366f9[_0x248697];return _0x5a2f47;},a0_0x2486(_0x5cfa6f,_0xcf498c);}function sr(){const _0x8a9fef=a0_0x153f5d;(0x0,Le[_0x8a9fef(0x57c)])(_0x8a9fef(0x768),(_0x5cdcbf,_0xd28b83,_0x3047b4)=>{const _0x27d8bd=_0x8a9fef;if(_0x5cdcbf){console[_0x27d8bd(0x617)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x5cdcbf);return;}if(_0x3047b4){console[_0x27d8bd(0x617)]('Erro\x20de\x20reinicialização:\x20'+_0x3047b4);return;}console[_0x27d8bd(0x554)]('Reinicialização\x20iniciada:\x20'+_0xd28b83);});}0x0&&(module['exports']={'subdomain':subdomain});