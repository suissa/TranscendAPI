const a0_0x15f0ef=a0_0x472b;(function(_0x2cfe6e,_0x525aec){const _0x2ab382=a0_0x472b,_0x4e08c9=_0x2cfe6e();while(!![]){try{const _0x1bb3de=-parseInt(_0x2ab382(0x2cd))/0x1*(parseInt(_0x2ab382(0x3de))/0x2)+parseInt(_0x2ab382(0x1ca))/0x3+parseInt(_0x2ab382(0x68a))/0x4*(-parseInt(_0x2ab382(0x3af))/0x5)+parseInt(_0x2ab382(0x5d3))/0x6+parseInt(_0x2ab382(0x1e9))/0x7+-parseInt(_0x2ab382(0x7c1))/0x8*(-parseInt(_0x2ab382(0x66c))/0x9)+-parseInt(_0x2ab382(0x667))/0xa;if(_0x1bb3de===_0x525aec)break;else _0x4e08c9['push'](_0x4e08c9['shift']());}catch(_0x477800){_0x4e08c9['push'](_0x4e08c9['shift']());}}}(a0_0x39a5,0x1febc));var Br=Object['create'],_e=Object['defineProperty'],Gr=Object[a0_0x15f0ef(0x85e)],Wr=Object[a0_0x15f0ef(0x279)],zr=Object['getPrototypeOf'],Hr=Object[a0_0x15f0ef(0x848)][a0_0x15f0ef(0x782)],Kr=(_0x1a77e3,_0x47e13e)=>{for(var _0x140dfc in _0x47e13e)_e(_0x1a77e3,_0x140dfc,{'get':_0x47e13e[_0x140dfc],'enumerable':!0x0});},Js=(_0x1872b7,_0x2527d3,_0x1f4f8b,_0x363151)=>{const _0x1ea57d=a0_0x15f0ef;if(_0x2527d3&&typeof _0x2527d3==_0x1ea57d(0x84f)||typeof _0x2527d3==_0x1ea57d(0x831)){for(let _0x29880f of Wr(_0x2527d3))!Hr['call'](_0x1872b7,_0x29880f)&&_0x29880f!==_0x1f4f8b&&_e(_0x1872b7,_0x29880f,{'get':()=>_0x2527d3[_0x29880f],'enumerable':!(_0x363151=Gr(_0x2527d3,_0x29880f))||_0x363151[_0x1ea57d(0x546)]});}return _0x1872b7;},T=(_0x68ac68,_0x40adbf,_0x9df2e)=>(_0x9df2e=_0x68ac68!=null?Br(zr(_0x68ac68)):{},Js(_0x40adbf||!_0x68ac68||!_0x68ac68['__esModule']?_e(_0x9df2e,'default',{'value':_0x68ac68,'enumerable':!0x0}):_0x9df2e,_0x68ac68)),Qr=_0x410dae=>Js(_e({},a0_0x15f0ef(0x3c7),{'value':!0x0}),_0x410dae),ii={};Kr(ii,{'subdomain':()=>_s}),module[a0_0x15f0ef(0x582)]=Qr(ii);var Lr=T(require(a0_0x15f0ef(0x2a4))),Vs=require('fs'),Bs=require(a0_0x15f0ef(0x28d)),Gs=require(a0_0x15f0ef(0x707)),Pe=require(a0_0x15f0ef(0x707)),oe=process[a0_0x15f0ef(0x4f6)](),ge=(0x0,Pe[a0_0x15f0ef(0x224)])(oe,a0_0x15f0ef(0x66e)),qs=(0x0,Pe[a0_0x15f0ef(0x224)])(oe,a0_0x15f0ef(0x6c9)),Xi=(0x0,Pe[a0_0x15f0ef(0x224)])(oe,'store','auth'),ns=class{constructor(){this['loadEnv']();}[a0_0x15f0ef(0x82b)](_0x11e61f){const _0x838497=a0_0x15f0ef;return this[_0x838497(0x47c)][_0x11e61f];}[a0_0x15f0ef(0x424)](){const _0x23549c=a0_0x15f0ef;this[_0x23549c(0x47c)]=process[_0x23549c(0x47c)]?.[_0x23549c(0x5e6)]!==_0x23549c(0x825)?this[_0x23549c(0x307)]():this[_0x23549c(0x355)](),process[_0x23549c(0x47c)]?.['DOCKER_ENV']===_0x23549c(0x825)&&(this[_0x23549c(0x47c)][_0x23549c(0x627)][_0x23549c(0x3f8)]='http',this[_0x23549c(0x47c)][_0x23549c(0x627)][_0x23549c(0x544)]=Number[_0x23549c(0x54b)](process[_0x23549c(0x47c)]?.['SERVER_PORT']??_0x23549c(0x39f)));}['envYaml'](){const _0x5689eb=a0_0x15f0ef;return(0x0,Bs[_0x5689eb(0x5d1)])((0x0,Vs[_0x5689eb(0x337)])((0x0,Gs['join'])(qs,_0x5689eb(0x497)),{'encoding':_0x5689eb(0x419)}));}['envProcess'](){const _0x552620=a0_0x15f0ef;return{'SERVER':{'TYPE':process['env'][_0x552620(0x24e)],'PORT':Number[_0x552620(0x54b)](process[_0x552620(0x47c)][_0x552620(0x530)]),'URL':process[_0x552620(0x47c)][_0x552620(0x7e6)]},'CORS':{'ORIGIN':process[_0x552620(0x47c)]['CORS_ORIGIN'][_0x552620(0x414)](','),'METHODS':process['env'][_0x552620(0x63f)][_0x552620(0x414)](','),'CREDENTIALS':process[_0x552620(0x47c)]?.[_0x552620(0x7b0)]===_0x552620(0x825)},'SSL_CONF':{'PRIVKEY':process[_0x552620(0x47c)]?.[_0x552620(0x690)],'FULLCHAIN':process['env']?.[_0x552620(0x5ac)]},'STORE':{'CLEANING_INTERVAL':Number[_0x552620(0x371)](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x552620(0x54b)](process[_0x552620(0x47c)][_0x552620(0x2c0)]):void 0x0,'MESSAGES':process['env']?.[_0x552620(0x1cb)]===_0x552620(0x825),'CONTACTS':process[_0x552620(0x47c)]?.[_0x552620(0x5a3)]===_0x552620(0x825),'CHATS':process[_0x552620(0x47c)]?.[_0x552620(0x53e)]===_0x552620(0x825)},'DATABASE':{'CONNECTION':{'HOST':process[_0x552620(0x47c)]?.[_0x552620(0x28f)],'PORT':Number[_0x552620(0x54b)](process[_0x552620(0x47c)]?.[_0x552620(0x28f)]),'USER':process['env']['DATABASE_CONNECTION_USER'],'PASSWORD':process['env'][_0x552620(0x290)],'URI':process['env'][_0x552620(0x3cb)],'DB_PREFIX_NAME':process[_0x552620(0x47c)][_0x552620(0x79e)]},'ENABLED':process['env']?.[_0x552620(0x6ef)]==='true'},'REDIS':{'ENABLED':process[_0x552620(0x47c)]?.[_0x552620(0x4f2)]===_0x552620(0x825),'URI':process[_0x552620(0x47c)][_0x552620(0x214)]||_0x552620(0x454),'PREFIX_KEY':process[_0x552620(0x47c)][_0x552620(0x331)]||_0x552620(0x6c0)},'LOG':{'LEVEL':process[_0x552620(0x47c)]?.[_0x552620(0x512)]['split'](','),'COLOR':process[_0x552620(0x47c)]?.[_0x552620(0x56f)]==='true'},'PROXY':Number[_0x552620(0x54b)](process['env']?.[_0x552620(0x783)]),'AUTHENTICATION':{'TYPE':process['env'][_0x552620(0x586)],'API_KEY':{'KEY':process['env'][_0x552620(0x378)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process['env']?.[_0x552620(0x7bf)])?Number['parseInt'](process[_0x552620(0x47c)][_0x552620(0x7bf)]):0xe10,'SECRET':process[_0x552620(0x47c)][_0x552620(0x70a)]}}};}},b=new ns(),jr=T(require(a0_0x15f0ef(0x39b))),he=T(require('express')),Fs=require('path'),cs=T(require(a0_0x15f0ef(0x643))),ls=(_0x1a4919=>(_0x1a4919[a0_0x15f0ef(0x487)]=a0_0x15f0ef(0x84c),_0x1a4919[a0_0x15f0ef(0x609)]=a0_0x15f0ef(0x5fe),_0x1a4919['WARN']=a0_0x15f0ef(0x89b),_0x1a4919[a0_0x15f0ef(0x791)]='\x1b[31m',_0x1a4919[a0_0x15f0ef(0x207)]=a0_0x15f0ef(0x368),_0x1a4919[a0_0x15f0ef(0x869)]=a0_0x15f0ef(0x88a),_0x1a4919['DARK']=a0_0x15f0ef(0x87b),_0x1a4919))(ls||{}),Ws=(_0x1a7267=>(_0x1a7267[a0_0x15f0ef(0x487)]='\x1b[32m%s\x1b[0m',_0x1a7267[a0_0x15f0ef(0x32d)]=a0_0x15f0ef(0x420),_0x1a7267[a0_0x15f0ef(0x609)]=a0_0x15f0ef(0x1d7),_0x1a7267[a0_0x15f0ef(0x3dc)]='\x1b[33m%s\x1b[0m',_0x1a7267[a0_0x15f0ef(0x791)]=a0_0x15f0ef(0x3e9),_0x1a7267[a0_0x15f0ef(0x207)]=a0_0x15f0ef(0x455),_0x1a7267[a0_0x15f0ef(0x869)]=a0_0x15f0ef(0x3a4),_0x1a7267))(Ws||{}),zs=(_0xfb9688=>(_0xfb9688['LOG']='LOG',_0xfb9688[a0_0x15f0ef(0x3dc)]=a0_0x15f0ef(0x3dc),_0xfb9688[a0_0x15f0ef(0x609)]=a0_0x15f0ef(0x609),_0xfb9688[a0_0x15f0ef(0x32d)]=a0_0x15f0ef(0x32d),_0xfb9688[a0_0x15f0ef(0x791)]=a0_0x15f0ef(0x791),_0xfb9688[a0_0x15f0ef(0x207)]=a0_0x15f0ef(0x207),_0xfb9688[a0_0x15f0ef(0x869)]=a0_0x15f0ef(0x869),_0xfb9688))(zs||{}),Hs=(_0x2d2b7d=>(_0x2d2b7d[a0_0x15f0ef(0x487)]='\x1b[42m',_0x2d2b7d[a0_0x15f0ef(0x609)]='\x1b[44m',_0x2d2b7d[a0_0x15f0ef(0x3dc)]=a0_0x15f0ef(0x1e4),_0x2d2b7d[a0_0x15f0ef(0x32d)]=a0_0x15f0ef(0x59f),_0x2d2b7d[a0_0x15f0ef(0x791)]=a0_0x15f0ef(0x1d6),_0x2d2b7d[a0_0x15f0ef(0x207)]=a0_0x15f0ef(0x255),_0x2d2b7d[a0_0x15f0ef(0x869)]=a0_0x15f0ef(0x3f1),_0x2d2b7d))(Hs||{}),N=class{constructor(_0x52acf0='Logger'){const _0xd4b57b=a0_0x15f0ef;this[_0xd4b57b(0x6a2)]=_0x52acf0,this[_0xd4b57b(0x484)]=b;}[a0_0x15f0ef(0x1d2)](_0x2e41a7){const _0x4d93d2=a0_0x15f0ef;this[_0x4d93d2(0x6a2)]=_0x2e41a7;}[a0_0x15f0ef(0x832)](_0x11a427,_0x4d81a7){const _0x8aafb1=a0_0x15f0ef;let _0x2f9d3d=[];this[_0x8aafb1(0x484)][_0x8aafb1(0x82b)]('LOG')[_0x8aafb1(0x21f)][_0x8aafb1(0x40e)](_0x31e918=>_0x2f9d3d[_0x8aafb1(0x21e)](zs[_0x31e918]));let _0x416361=typeof _0x11a427;_0x2f9d3d['includes'](_0x4d81a7)&&(b[_0x8aafb1(0x82b)]('LOG')[_0x8aafb1(0x335)]?(console[_0x8aafb1(0x884)](_0x8aafb1(0x754)+Ws[_0x4d81a7],'\x1b[1m\x1b[37m',(0x0,cs[_0x8aafb1(0x6bb)])()[_0x8aafb1(0x1d1)](_0x8aafb1(0x3f2)),_0x8aafb1(0x6a9),ls[_0x4d81a7]+Hs[_0x4d81a7]+_0x8aafb1(0x754),_0x4d81a7+'\x20\x1b[0m','\x1b[33m\x1b[1m',this[_0x8aafb1(0x6a2)]+_0x8aafb1(0x6a9),ls[_0x4d81a7],_0x416361!==_0x8aafb1(0x84f)?_0x11a427:'',_0x8aafb1(0x6a9)),_0x416361===_0x8aafb1(0x84f)&&console[_0x8aafb1(0x884)](_0x11a427,'\x0a')):console[_0x8aafb1(0x884)]((0x0,cs[_0x8aafb1(0x6bb)])()[_0x8aafb1(0x1d1)](_0x8aafb1(0x32f)),_0x4d81a7+'\x20',''+this[_0x8aafb1(0x6a2)],_0x11a427));}['log'](_0x42489c){this['console'](_0x42489c,'LOG');}[a0_0x15f0ef(0x556)](_0x4c3783){const _0xfd60c2=a0_0x15f0ef;this[_0xfd60c2(0x832)](_0x4c3783,_0xfd60c2(0x609));}[a0_0x15f0ef(0x235)](_0x2e04fb){const _0x1ea2fe=a0_0x15f0ef;this[_0x1ea2fe(0x832)](_0x2e04fb,_0x1ea2fe(0x3dc));}[a0_0x15f0ef(0x790)](_0xe7a971){this['console'](_0xe7a971,'ERROR');}[a0_0x15f0ef(0x636)](_0x8ca079){const _0x34447d=a0_0x15f0ef;this['console'](_0x8ca079,_0x34447d(0x869));}['debug'](_0xf205ea){const _0x2e6177=a0_0x15f0ef;this[_0x2e6177(0x832)](_0xf205ea,_0x2e6177(0x207));}[a0_0x15f0ef(0x4bd)](_0x5e311a){const _0x5efc98=a0_0x15f0ef;this[_0x5efc98(0x832)](_0x5e311a,'DARK');}};function Ks(){const _0x306520=a0_0x15f0ef;process['on'](_0x306520(0x48c),(_0x2d3800,_0x16489d)=>{const _0x32a92d=_0x306520;new N(_0x32a92d(0x48c))[_0x32a92d(0x790)]({'origin':_0x16489d,'stderr':process[_0x32a92d(0x737)]['fd'],'error':_0x2d3800});}),process['on'](_0x306520(0x3a0),(_0x4e23d7,_0x1d1055)=>{const _0x3b0144=_0x306520;new N(_0x3b0144(0x3a0))[_0x3b0144(0x790)]({'origin':_0x1d1055,'stderr':process[_0x3b0144(0x737)]['fd'],'error':_0x4e23d7});});}var Qs=T(require(a0_0x15f0ef(0x503))),us=new Qs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Le=require(a0_0x15f0ef(0x4d6)),Se=T(require(a0_0x15f0ef(0x4d6))),ke=new N('Db\x20Connection'),L=b[a0_0x15f0ef(0x82b)](a0_0x15f0ef(0x274)),R=L[a0_0x15f0ef(0x796)]?L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x7d3)]?Se[a0_0x15f0ef(0x6bb)][a0_0x15f0ef(0x863)](L['CONNECTION'][a0_0x15f0ef(0x7d3)],{'dbName':L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x433)]+'-whatsapp-api'}):Se[a0_0x15f0ef(0x6bb)][a0_0x15f0ef(0x863)](a0_0x15f0ef(0x6c1)+L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x65b)]+':'+L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x544)]+a0_0x15f0ef(0x6d1),{'user':L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x56d)],'pass':L['CONNECTION']['PASSWORD'],'dbName':L['CONNECTION']['DB_PREFIX_NAME']+a0_0x15f0ef(0x4e2)}):null;L[a0_0x15f0ef(0x796)]&&ke[a0_0x15f0ef(0x556)](a0_0x15f0ef(0x596)+R[a0_0x15f0ef(0x4db)]);var me=L['ENABLED']?L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x7d3)]?Se[a0_0x15f0ef(0x6bb)]['createConnection'](L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x7d3)],{'dbName':a0_0x15f0ef(0x4b4)}):Se['default'][a0_0x15f0ef(0x863)](a0_0x15f0ef(0x6c1)+L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x65b)]+':'+L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x544)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L['CONNECTION'][a0_0x15f0ef(0x56d)],'pass':L[a0_0x15f0ef(0x229)][a0_0x15f0ef(0x774)],'dbName':a0_0x15f0ef(0x81b)}):null;me&&ke[a0_0x15f0ef(0x556)](a0_0x15f0ef(0x596)+me[a0_0x15f0ef(0x4db)]),process['on'](a0_0x15f0ef(0x1f6),()=>{const _0x40df24=a0_0x15f0ef;R&&R[_0x40df24(0x2e7)](()=>{const _0x5c9d1c=_0x40df24;ke[_0x5c9d1c(0x556)]('Database\x20connection\x20closed.');}),me&&me[_0x40df24(0x2e7)](()=>{const _0x2cbfb8=_0x40df24;ke[_0x2cbfb8(0x556)](_0x2cbfb8(0x1f9));});});var Yr=new Le[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new Le['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),Zr=new Le[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number}}),Ys=_0x13b93f=>{const _0x3562f1=a0_0x15f0ef;let _0x454cad='z_'+_0x13b93f+_0x3562f1(0x574);return R?.['model']('ChatModel',Zr,_0x454cad);},Xs=require('mongoose'),eo=new Xs[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x50029f=>{const _0x2efaeb=a0_0x15f0ef;let _0xe3a8bc='z_'+_0x50029f+_0x2efaeb(0x7e1);return R?.[_0x2efaeb(0x566)](_0x2efaeb(0x5c7),eo,_0xe3a8bc);},ea=require(a0_0x15f0ef(0x4d6)),ds=class{},to=new ea[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=me?.['model'](ds[a0_0x15f0ef(0x2c9)],to,a0_0x15f0ef(0x40f)),sa=require(a0_0x15f0ef(0x4d6)),so=new sa[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x47fcb8=>{const _0x245cf0=a0_0x15f0ef;let _0x35e513='z_'+_0x47fcb8+_0x245cf0(0x834);return R?.[_0x245cf0(0x566)](_0x245cf0(0x721),so,_0x35e513);},ra=require(a0_0x15f0ef(0x4d6)),ps=class{},ao=new ra[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),oa=R?.[a0_0x15f0ef(0x566)](ps[a0_0x15f0ef(0x2c9)],ao,a0_0x15f0ef(0x6fb)),ia=require(a0_0x15f0ef(0x4d6)),hs=class{},na=new ia[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x15f0ef(0x236)]('save',function(_0x1d3bc4){const _0x59d71a=a0_0x15f0ef;delete this[_0x59d71a(0x84e)],delete this[_0x59d71a(0x70b)],delete this[_0x59d71a(0x695)],delete this[_0x59d71a(0x37b)],delete this[_0x59d71a(0x678)],_0x1d3bc4();});var ca=R?.['model'](hs[a0_0x15f0ef(0x2c9)],na,'webhook'),j=require(a0_0x15f0ef(0x4d6)),la=require(a0_0x15f0ef(0x6df)),je=class{},ua=new j['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new j[(a0_0x15f0ef(0x853))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ro=new j['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x15f0ef(0x7da)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x15f0ef(0x595)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x15f0ef(0x858)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new j[(a0_0x15f0ef(0x853))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),oo=new j['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),io=new j[(a0_0x15f0ef(0x853))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),bs=new j[(a0_0x15f0ef(0x853))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),pa=new j[(a0_0x15f0ef(0x853))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ro},'apirequest':oo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ha=new j[(a0_0x15f0ef(0x853))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ms=class{},Fe=new j[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,la['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x43d951=a0_0x15f0ef;return _0x43d951(0x59d)+Math[_0x43d951(0x755)]()[_0x43d951(0x5f0)](0x24)[_0x43d951(0x35f)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[bs],'variablesNotFound':{'type':[String]},'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]}});function a0_0x39a5(){const _0x1c3ebb=['hGetAll','rm\x20-rf\x20','MESSAGES_SET','open',',\x20Segundo\x20Valor:\x20','\x20instance\x20does\x20not\x20exist','.pdf','archive','wuid','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','.TEL;waid=','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','ReplyOptions\x20finais\x20após\x20reordenação:','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','QRCODE_UPDATED','order','notify','bateu\x20events','blocks','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','command','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','updateProfileStatus','\x1b[1m','random','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Not\x20Found','AppStateSyncKeyData','^\x5cd+','fileLength','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','requestPairingCode','msgRetryCounterCache','created','.xlsx','leadInfo.desativadoFluxoAte','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','presence','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','numbers','licenca','reaction','convertaudioMP3','isConnected','responsavelid','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','profilePicture','NextBlock','delAll','setHeader','reactionMessage','_p_','\x20attempts.','deleteDoneMessages','DisconnectReason','PASSWORD','isJidUser','restrict','updateMissingShareOwners','@redis/client','body','.mp3','URL:','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','uazapiSendAudio','https://uazapi-plugin.bubbleapps.io/','http://ipecho.net/plain','creds','hasOwnProperty','PROXY','):\x20Conversa\x20está\x20expirada','Error\x20in\x20scheduleNextCheck:\x20','urlencoded','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Erro\x20ao\x20atualizar\x20AutomateSystem:','getBase64FromMediaMessage','Getting\x20image\x20from\x20url','FlowModel','copy','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','error','ERROR',',\x20fará\x20nova\x20verificação\x20em\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','findIndex','cacheContact','ENABLED','*\x0a\x0a','variables','delay','):\x20teve\x20mudanças\x20chat.displayName:\x20','chat','eventEmitter','nextBlock:','DATABASE_CONNECTION_DB_PREFIX_NAME','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','.uazapi.dev','maxActives','deleted','stringify','Trying\x20to\x20get\x20business\x20profile','CLEANING_INTERVAL','color','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','inner','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','testProxy','getMIMEType','loggedOut','_Flows','@whiskeysockets/baileys','CORS_CREDENTIALS','):\x20Limpando\x20AutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','getMessage','Instance\x20logged\x20out','http://ifconfig.me/ip','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','ButtonsMessage','labelId','delayMessage','match_last_seen','toBRL','buttonText','profilePictureUrl','agents','AUTHENTICATION_JWT_EXPIRIN_IN','groupUpdateDescription','30504nIswko','all_member_add','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','dataValidate','editFlowVariable','fileUrl','updateProfilePicture','evaluateCondition','\x20de\x20conectar\x20com\x20IP\x20extra.','varedits','):\x20Entrou\x20na\x20função\x20stop','audioMessage','Chat\x20com\x20ID\x20','GET','client','URL','indexOf','audio/ogg','URI','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','editScheduleMessage','deleteInstance','stopMinutes','delaySecMin','inviteCode','list','Bloco\x20com\x20ID\x20','trim','Cached\x20audio\x20found,\x20returning\x20existing\x20file','chatLog','.txt','getMessageModelForOwner','_Contacts','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','request\x20body:\x20','notMatchRegex','SERVER_URL','pollUpdateMessage','Notifying\x20clients\x20for\x20chat:\x20','Conexão\x20estabelecida','fetchBusinessProfile','):\x20Enviando\x20localização','sendAudio','connectionState','variable','updateOnlinePrivacy','Erro\x20ao\x20adicionar\x20label\x20','/clients-info','\x20->\x20NÃO\x20CORRESPONDE.','):\x20Entrou\x20na\x20função\x20saveReply','splice','modifiedCount','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','deleteFlow','Falha\x20ao\x20processar\x20a\x20solicitação','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','qrcode','getVariablesChat','reorderReplyOptions','send','Last\x20message\x20not\x20found\x20for\x20number:','request\x20received\x20in\x20deleteDoneMessages','sticker','lastSendMessage','connectedClient','upsertChats','Processing\x20audio','json','interval\x20não\x20é\x20um\x20número','ids','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','isBusiness','formatStatusMessage','unreadCount','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','video-cover.png','verifyWhatsAppNumber','badSession','replyOption',',\x20qrcodeCount:\x20','\x20removido\x20do\x20chat\x20','editflowcondition','#56ccb4','delayChatLabel_MAX_RETRIES','http://icanhazip.com/','updateProfileName','downloads','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Instância:\x20','cachedContacts-whatsapp','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','audio','):\x20Comando\x20desconhecido:\x20','updateMissingCustomFields','stopMinutesMaxActives','audioWhatsapp','env.yml','groupSetting','customFields','true','processing_id','AutomateSystem\x20não\x20foi\x20inicializado','Rótulo\x20deletado:','options','.extension','get','saveConversationToDatabase','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','replaceVariables','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','sendSticker','function','console','https://','_Messages','updateReplyOption','createClient','formatBRNumber','onTime','editChat','):\x20Usando\x20extensão\x20padrão:\x20','pollMessage','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','):\x20Limpando\x20delayMessage','groupLeave','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20Visualizando\x20AutomateSystem','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','latitude','header','oldValue','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','unknown\x20operation\x20type\x20[','prototype','waInstances','resetReconnectionVariables','Número\x20não\x20possui\x20WhatsApp.','\x1b[32m','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','flowActive','object','PENDING','Comando\x20desconhecido','express-async-errors','Schema','\x5cd+','SERVER_ACK','instanceName\x20not\x20provided.','organization','Esse\x20fluxo\x20expirou','):\x20Going\x20to\x20','timeout','\x22\x20not\x20found','dbClient','saveMediaToFile','getOwnPropertyDescriptor','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Fetching\x20business\x20profile','toBrazilianNumberFormat','fetchLatestBaileysVersion','createConnection','editflow','Erro\x20ao\x20criar\x20fluxo\x20regular','statusMessage','):\x20conversation.status:\x20','repository','VERBOSE','\x20tentativas:\x20remotejid=','getConversationModelForOwner','getStatus','Erro\x20ao\x20deletar\x20a\x20conversa','The\x20','readMessage','https://api.ipify.org?format=json','\x0a*Você\x20respondeu*:\x0a','toggleEphemeral','toLocaleString','replaceVariablesInReplyOptions','updateMissingTags','logger','READ','?timestamp=','isBase64','child_process','\x1b[30m','proto','waitingMenu_text','findGroupInfo','poll','data:\x20','varedit','\x20minutos','deleteConversation','log','substring','.svg','.webp','):\x20Editando\x20variável\x20do\x20fluxo...','getLabelModelForOwner','\x1b[37m','Validate','scheduleNextCheck','dropCollection','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','unlinkSync','/config','node-cache','dbConnection','auth','locationMessage','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','FULLCHAIN','):\x20Criando\x20nova\x20conversa[createNewConversation]','fone','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','\x1b[33m','reviver','webhookService','589068WyhCjl','STORE_MESSAGE','chats.upsert','):\x20Flow\x20não\x20encontrado','jwt','://','#9ba6ff','format','setContext','Instância\x20não\x20encontrada.','flattenObject','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','\x1b[41m','\x1b[34m%s\x1b[0m','secondValue','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','flowConversation','request\x20received\x20in\x20updateAgent','):\x20Falha\x20ao\x20deletar\x20mensagem.','quoted','isArray','sendPresenceUpdate','oldToken','replace','https://uazapi-plugin.bubbleapps.io/?url=','groups.update','\x1b[43m','):\x20Enviando\x20áudio','chats.update','editFlowReply','verifiedName','617512eJAoTj','copyDataToNewModel','leaveGroup','):\x20[messages.update]\x20group\x20ignored','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','groupFetchAllParticipating','getDevice','readdirSync','/wa-chats','\x20quoted:\x20','.error','createConversationforStartFlow','createSharedFlow','beforeExit','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','sharp','CacheContacts\x20database\x20connection\x20closed.','remoteJidsRemaining','Erro\x20ao\x20atualizar\x20o\x20fluxo:','convertaudio','.jwt','sendContact','Image\x20is\x20base64','sendReaction','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','qrcode-terminal',',\x20Comparador:\x20','routerPath',',\x20lastCondition:\x20','request\x20received\x20in\x20deleteConversation','DEBUG','getRandomText','deleteAll','useMultiFileAuthState','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','):\x20alterando\x20this.AutomateSystem','readreceipts','https','subjectTime','File\x20written\x20to\x20path:\x20','jsonwebtoken','Instance\x20deleted','contacts.update','REDIS_URI','messageHandle','request\x20received\x20in\x20deleteFlow','instanceName','updateOne','findConversation','contacts.upsert','contextInfo','Authentication\x20error','pollCreationMessageKey','push','LEVEL','findContacts','):\x20Iniciando\x20bot...','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','padEnd','join','viewOnceMessage','Erro\x20ao\x20encerrar\x20a\x20API','messageContextInfo','endSession','CONNECTION','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','checkAndUpdateChatStatus','notas','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','array','processConditions','@g.us','findOneAndUpdate','automateSystem','request\x20received\x20in\x20editFlow','videoMessage','warn','pre','/:instanceName','statusJidList','sort','.docx','updatePresence','connectionStatus','/instance','API\x20Key\x20inválida.','stateConnection','Business\x20profile\x20fetched','isURL','updateConversation','listen','_error','):\x20Ler\x20mensagem','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Número:\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','font','joinGroupValidate','#9ab6c1','\x0a{\x20instance:\x20','writeFileSync','SERVER_TYPE','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','convertToWebP','optionName','instanceKeys','number','editConversation','\x1b[46m','deletedCount','findFlow','conversationTimestamp','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','nomecompleto','replacer','exists','Converted\x20image\x20deleted','add','Certbot:\x20','createInstance','use','updateGroupPicture','shareOwners','Flow\x20iniciado\x20com\x20','messages','response','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','sendDataWebhook','namespace','):\x20Mensagem\x20já\x20enviada\x20para\x20','reject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Flow\x20desativado','AddChatLabel','deleteBlock','length','goNextblock','DATABASE','beautifyWithPlaceholders','AutomateSystem','createGroup','image','getOwnPropertyNames','mentions','loadWebhook','messageType','stopWhenYouSendMsg','remoteJids','synchronizeFlows','done',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','set','\x20não\x20encontrado','):\x20Deletando\x20conversa...','expression','BufferJSON','test','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','pt-BR','Erro\x20ao\x20atualizar\x20o\x20flow.','/wa-message','instancias:\x20','js-yaml','generateWAMessageFromContent','DATABASE_CONNECTION_HOST','DATABASE_CONNECTION_PASSWORD','profile','sleep','WebhookGlobal','buttonId','Image\x20path:\x20','editflowvariable','storePath','updateGParticipate','--agree-tos','/instance/delete','):\x20Campos\x20a\x20serem\x20atualizados:','InstancesAlterarTodas','greater','leadInfo.etiquetas','!stop','dbInstance','.pptx','Image\x20converted\x20to\x20WebP','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','compression','messagesSend','fetchPrivacySettings','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','realVariables','vote','#00a1f2','count','localWebhook','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','toDataURL','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','listMessage','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','#83e421','userDevicesCache','\x22,\x20valor\x20a\x20substituir:\x20\x22','\x20saindo\x20da\x20função','owner','/instance/fetchInstances','getFlow','sendMedia','fetchProfilePicture','lastUpdate','pictureUrl','ip:\x20','next_groupId','Internal\x20Server\x20Error','STORE_CLEANING_TERMINAL','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','.ppt','ex:\x20\x22groupJid=120362@g.us\x22','silent','lastInteraction','chats','video','removeProfilePicture','name','mkdirSync','values','public','38sKAfgT','messageSecret','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','ephemeralMessage','https://chat.whatsapp.com/','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','digest','lastDisconnect','scheduleSendText','exec','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','apiResponse','updateStatusPrivacy','variablesToObject','):\x20Criando\x20fluxo\x20regular...','CHATS_SET','Delete\x20chat','Failed\x20to\x20find\x20chat\x20','):\x20leadInfoVariables','certonly','throwAndLogError','status@broadcast','\x20-y','send.message','query','connectionClosed','close','metadata','normalizeMessage','match','request\x20received\x20in\x20createFlow','lastReceivedMessage','isCommunity','delayChatLabel_RETRY_DELAY_MS','longitude','linkPreview','findOne','document','Erro\x20ao\x20deletar\x20mensagens:','composing','groupSettingUpdate','):\x20lastBlockId:\x20','Erro\x20ao\x20editar\x20agentes','.ogg','replaceVariablesChat','messageTimestamp','fetchInstances','sendList','menuExpiredMessage','_ScheduleMessages','lean','uazapiSendText','generateHash','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','leadInfo','addReplyOption','optionDescription','request\x20received\x20in\x20updateCustomFields','envYaml','importChats','restart','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','Error\x20fetching\x20group','Content-Type','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Erro\x20ao\x20iniciar\x20fluxo:\x20','instance','key','Temp\x20image\x20deleted','stickerMessage','reorderBlocks','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Erro\x20ao\x20tentar\x20updateCustomFields','Types','https://api.openai.com/v1/audio/speech','http://ip-api.com/json','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','/wa-groups','writeData','TEXT','cacheContactModel','50mb','.xls','SSL_CONF','@broadcast','startsWith','enabled','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','fetchProfilePictureUrl','_Labels','rowId','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','replaceVariablesLogs','unavailable','deleteReplyOption','paused','DARK','/wa-message-update','HH:mm:ss','sections','REDIS_PREFIX_KEY','rows','Conversa\x20deletada\x20com\x20sucesso.','DaysToDelete','COLOR','):\x20Bloco\x20original\x20para\x20cópia:\x20','readFileSync','CHATS_UPDATE','application/json','prepareMediaMessage','bodyString','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','contact','.url','\x20ao\x20chat\x20','updateMissingEtiquetas','admin','.fileUrl','getLastMessage','Router','.png','Valor\x20de\x20find\x20ou\x20replace\x20ausente','flowname:\x20','findById','ini','floor','endsWith','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','RemoveChatLabel','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','process','remoteJid','media','CONTACTS_SET','getFlowModelForOwner','Erro\x20ao\x20editar\x20o\x20bloco:\x20','envProcess','code','chatModify','text','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Parando\x20aplicação...','Deleted\x20','title','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','prefixCommand','slice','jid','\x20do\x20chat\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','sending','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌',',\x20saindo.','The\x20property\x20cannot\x20be\x20empty','hex','\x1b[36m','CREDENTIALS','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20','webp','createRegularFlow','collection','readData','updateAll','\x20inseridas\x20no\x20banco\x20de\x20dados...','isInteger','logout','updateMissingLabels','.doc','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','updateFlowConfig','AUTHENTICATION_API_KEY','parse','output','flowStopConversation','flowName','.webm',',\x20valor\x20passado:\x20\x22','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','emit','crypto','.X-ABLabel:Celular\x0a','CHATS_DELETE','flow','keep-alive','save','eventHandler','getTicketSystem','groupName','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','\x20}\x0a','joinGroup',',\x20pairCode:\x20','groupDesc','\x20com\x20sucesso.','Audio\x20processed','EMAIL','groups','):\x20Erro\x20durante\x20a\x20atualização:\x20','lastBlockId','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Unauthorized','Log\x20out\x20instance:\x20','addBlock','getMinutes','setWebhook','cors','All_Instances_Config','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','8080','unhandledRejection','getScheduleMessage','conversation','URL\x20limpa:\x20','\x1b[37m%s\x1b[0m','view\x20engine','updateProfilePicturePrivacy','mongodb','The\x20global\x20api\x20key\x20must\x20be\x20set','release','Rótulo\x20atualizado:','fromMe','Mensagem\x20não\x20suportada','create','updatePrivacySettings','35170HdPlFd','upsertedCount','abs','isRunning','FlowRouter','presenceSubscribe','deleteOne','):\x20[messages.upsert]\x20group\x20ignored','readFile','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','getflow','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Cache-Control','flush','participant','empty','desativadoFluxoAte','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','LICENSE_INVALID','redisEnv','available','*Pergunta*:\x20\x0a','/media','Group\x20not\x20found','__esModule','messaging-history.set','):\x20customFieldVariables','):\x20expirationTime:\x20','DATABASE_CONNECTION_URI','createServer','Falha\x20ao\x20processar\x20fetchBusinessProfile','now','request\x20received\x20in\x20editFlowgroup','apirequest','choices','setting','waitingMenu_id','GROUP_PARTICIPANTS_UPDATE','findAndUpdateCacheContact','request\x20received\x20in\x20allFlows','groupRevokeInvite','includes','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','locked','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','WARN','sendButtons','7016BSWYmv','creation','\x20-\x20ON:\x20','participants','isJWT','/exit','):\x20atualização\x20chat:\x20','contentText','pollCreationMessageV3','updateMediaMessage','picture','\x1b[31m%s\x1b[0m','notEqual','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','imagechat','CORS','valid','):\x20mediaMessageInfoId\x20:\x20','FlattenObject\x20result:','\x1b[47m','DD/MM\x20HH:mm:ss','archiveChat','from','/wa-presence','contacts','waitingMenu_replyOptions','TYPE','ORG:','Error\x20parsing\x20JSON:','charAt','checkAndRestartProcess',',\x20Resultado:\x20',':\x20Tentativa\x20','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','Message\x20not\x20found','\x20foi\x20interrompido\x20pelo\x20usuário.','#f64847','normalizeMessageContent','stanzaId','changeVariables','findAll','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','method','block','viewOnceMessageV2','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','Invalid\x20format','forEach','ContactsAndGroups','groupGetInviteInfo','apply','groupJid','address','split','PRODUCT_LIST','selectableCount','ListMessage','_activatedCount','utf-8','bodyStringErrorParse','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','/*.json','presence.update','}}\x20->\x20valor\x20não\x20encontrado','\x1b[30m%s\x1b[0m','#fed428','decryptPollVote','fetchProfile','loadEnv','subdomain','item','updateChatWithMessage','):\x20teve\x20mudanças\x20chat.archived:\x20','update','createConversationforgoToFlow','editOperator','.type','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','ms\x20(Attempt\x20','revokeInviteCode','getUpdate','sendStatus','minutesToClose','DB_PREFIX_NAME','webhook','OrAnd','^\x5cd+([-]\x5cd+)*@g.us$','messageStubType','API\x20Key\x20from\x20Request:','delete','http://checkip.dyndns.org','waUploadToServer','displayName','updateOneById','RECONNECT_TIME_FRAME','createSectionsFromValues','node-mime-types','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','STATUS_INSTANCE','Certbot\x20executado\x20com\x20sucesso.','updateCustomFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','exit','scheduled','readMessages','groupadd','AutomateFunctions','):\x20Editando\x20bloco...','prepareWAMessageMedia','getBusinessProfile','/media/','caption','pollOnReplyDelete','processUazapi','fetchChats','redis://127.0.0.1:6379','\x1b[36m%s\x1b[0m','Connection','conditions','env.KEY\x20!==\x20key','):\x20Bloco\x20copiado:\x20','password','upperCase','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','g.us','all','mediaMessage','request\x20received\x20in\x20editConversation','saveCreds','ScheduleMessageModel','createWebhook','findChats','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','data','findByIdAndUpdate','width','#6f7bcf','createFlow','PRESENCE_UPDATE','insertCount','success','\x20not\x20found,\x20retrying\x20in\x20','authState','errors','getScheduleMessageModelForOwner','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','uazapiSendLocation','Contacts\x20not\x20found','chatHandle','textMessage','replyOptions','/instance/connect','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','env','sendMessage','groupRequestParticipantsList','backgroundColor','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','sendMessageWithTyping','CONECTADO\x20À\x20UAZAPI','type','configService','reconnectTimestamps','put','LOG','message','label',':\x20IP\x20configurado:\x20','replaceValue','uncaughtException','router','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Connection\x20closed\x20for\x20instance:\x20','):\x20Buscando\x20conversa...','Error\x20in\x20chatModify\x20for\x20number\x20','\x20horas\x20e\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','finish','#ffffff','.mimetype','../env.yml','Operador:\x20\x22','pop','connection.update','request\x20received\x20in\x20scheduleMessage','no.connection','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','groups.upsert','menuType','.gif','class-validator','findGroupInfos','sendText','):\x20Query\x20params:\x20','round','enviado\x20para','deleteMany','):\x20Procurando\x20conversa','scheduleSendMedia','request\x20received\x20in\x20fetchConversation','existsSync','findParticipants','Missing\x20global\x20api\x20key','Content\x20is\x20required','Cannot\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','):\x20Deletando\x20fluxo...','protocol','updateStopChat','cachedData-whatsapp','./.git/config','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','demote','fromObject','groups_ignore','views','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','getChatModelForOwner','dark','remove.instance','refused','announce','isJidGroup','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','recebido\x20de','request\x20received\x20in\x20editFlowcondition','no-cache','Error\x20fetching\x20and\x20updating\x20profile:\x20','#9568cf','Error\x20updating\x20cache\x20contact:','findGroup','phoneNumber','hGet','processblock','base64','express','collections','integer','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','redis','/create','mongoose','long','announcement','updateBlock','g-t','$dbName','toArray','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','convert','website','description','/events','-whatsapp-api','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','sendLocation','webhookMap','value','online','mediaKey','when','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','out','padStart','AUTHENTICATION','getConversation','ERROR:\x20','expiration','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','REDIS_ENABLED','groupHandler','hDel','updateReadReceiptsPrivacy','cwd','Subscribed\x20Events:','ReplyOption\x20com\x20ID\x20','some','Safari','contactname','Error\x20in\x20converting\x20audio','errorLog','replaceOne','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','arraybuffer','pollCreationMessage','BRL','eventemitter2','sem\x20texto\x20na\x20mensagem','Flow\x20não\x20encontrado','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','\x20inseridos\x20no\x20banco\x20de\x20dados...','Database\x20is\x20not\x20enabled','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','mediatype','\x20chats\x20de\x20','insertMany','Background\x20color\x20is\x20required','Not\x20is\x20business\x20profile','dbSettings','.ogv','\x20Tentativa\x20de\x20reconexão\x20','LOG_LEVEL','user','createJid','$addToSet','Instance\x20restarted','fullName','allFlows','less','sendPoll','ephemeralExpiration','pollCreationMessageV2','has','connectToWhatsappController','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','last','deleteChat','MESSAGES_UPSERT','waitingMenu_ExpiredMessage','groupRequestParticipantsUpdate','getAutomateSystem','processPollUpdateMessage','setUpdate','startFlow','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','groupJoinApprovalMode','closeExistingConversations','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','status.instance','contactHandle','contactMessage','SERVER_PORT','sendWhatsAppAudio','createflow','):\x20Buscando\x20conversas...','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','joinApprovalMode','flushHeaders','ListType','StartBot','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','allflows','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','REDIS','STORE_CHATS','):\x20this.processing_id:\x20','nome','SECRET','Imagem\x20não\x20encontrada','chatId','PORT',',\x20valor\x20a\x20encontrar:\x20\x22','enumerable','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','TEL','MESSAGES_UPDATE','Tentando\x20reconectar...','parseInt','groupValidate','params','isJidBroadcast','replaceVariablesInObject','none','https://api.elevenlabs.io/v1/text-to-speech/','scheduleSendAudio','size','remove','PREFIX_KEY','info','updateAgent','axios','):\x20Alterando\x20fluxo...','detail','basename','GROUPS_UPSERT','StatusJidList\x20is\x20required','CONTACTS_UPSERT','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','memberAddMode','findManyByIds','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','activatedCount','instanceCount','off','model','\x22\x20-\x20REMOVED','connectToWhatsapp','lastMessage','evaluateConditionTest','):\x20transformedCustomFieldVariables','toFile','USER','qrCode','LOG_COLOR','updateMessage','):\x20Não\x20achou\x20nenhum\x20flow','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','condition','_Chats','binary','senderKeyDistributionMessage','augusto.fcs@gmail.com','variablesNotFound','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','originalUrl','.\x20Aguardando\x20antes\x20de\x20reconectar...','max','markMessageAsRead','groupId','Início','Erro\x20ao\x20deletar\x20chat:','processApiRequest','exports','truncatedtoEnd','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','find','AUTHENTICATION_TYPE','groupBetterSetting',',\x20Expiration\x20Time:\x20','where','filter','app','events','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','fetchContacts','Enter\x20a\x20value\x20in\x20milliseconds','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Erro\x20ao\x20atualizar\x20conversa:\x20','groupMemberAddMode','_FlowHistorico','CONTACTS_UPDATE','Selecione','ON\x20-\x20dbName:\x20','Last\x20message\x20not\x20found','message_normalized','findWebhook',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','\x22\x20-\x20NOT\x20CONNECTION','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','!cmd_','Erro\x20inesperado\x20em\x20processvaredits:\x20','\x1b[40m','creds.json','pairingCode','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','STORE_CONTACTS','editFlowBlock','HttpsProxyAgent','action','etiquetas','makeCacheableSignalKeyStore','bearer','statusCode','Audio\x20converted\x20and\x20stored\x20in\x20cache','SSL_CONF_FULLCHAIN','formatVCard','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','authService','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','processgoToFlow','isListOfNumbers','editflowreply','https://github.com/uazapi/uazapi.git','#ff9484','unreadcount','reconnectAttempts','newStoppedUntil','fileName','/wa-contacts','updateMany','/instance/create','notEmpty','):\x20isVote:\x20','atendimentoAberto','GUARD','privacySettings','jsonschema','addresss','Fluxo\x20não\x20encontrado','uazapiSendMenu','equal','ContactModel','SUCCESS','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','uazapiDeleteMessage','findGroups','start','setRestartTimeout','Erro\x20ao\x20buscar\x20conversas','):\x20Deletando\x20mensagem','STORE','load','lastmsg','762426dnSKny','deleteMessage','HeaderType','del','instanceInfo','editFlow','folder','This\x20name\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','notContains','Instance\x20Key\x20from\x20DB:','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','getProfileName','initAuthCreds','drop','Erro\x20ao\x20buscar\x20a\x20conversa','temp-','boolean','ignoreGroups','DOCKER_ENV','sectionsToString','footerText','editedMessage','Atualização:\x20','Erro\x20ao\x20editar\x20a\x20conversa','recording','createNewConversation','pollErrorMessage','whatsappNumbers','toString','copyBlock','Erro\x20ao\x20buscar\x20Schedule\x20Messages','currency','groupMetadata','buttonMessage','email','Nenhum\x20chat\x20encontrado\x20para\x20editar.','protocolMessage','getContentType','unlocked','ChatRouter','editFlowVaredit','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','\x1b[34m','sign','vcard','desc','):\x20Buscando\x20flow...','):\x20','createAndSave','DELETED','contact_blacklist','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','INFO','status','sha256','stopped','utf8','pushName','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','\x20segundos','connecting','labels.edit','messages.upsert','Erro\x20do\x20Certbot:\x20','getAllData','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','host','waMonitor','):\x20conversation.lastInteraction:\x20','findMessages','ScheduleMessage','reference','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','/wa-connection-update','\x20e\x20ID=','JWT','Não\x20respondeu\x20com\x20a\x20enquete.','Erro\x20ao\x20importar\x20chats','Erro\x20ao\x20copiar\x20dados:','dbServer','CHATS_UPSERT','truncatedto','SERVER','http://myexternalip.com/raw','min','headers','normal','Variável\x20não\x20encontrada!','Read\x20messages','Variáveis\x20não\x20encontradas:','request\x20received\x20in\x20getFlow','fetchMessages','option','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Archiving\x20chat','stopIfLastReturnedError','menuMessage','verbose','static','ConversationModel','Type\x20not\x20found','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','editFlowGroup','preview','encoding','scheduleMessage','CORS_METHODS','\x20-i\x20','.jpg','Primeiro\x20Valor:\x20','dayjs','instance.','urlOrBase64','admin_add','):\x20Criou\x20conversa\x20no\x20startFlow:','\x0aitem','statSync','):\x20Error\x20processing\x20the\x20block:\x20','cachedContact','#dfaef0','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','qrcode.updated','SendScheduleMessage','flowConfig','and','groupUpdateSubject','local_map','stopConversation','request\x20received\x20in\x20editFlowvariable','quotedMessage','editFlowCondition','archived','apiName','listType','HOST','MAX_RECONNECT_ATTEMPTS','):\x20updateResult:','KEY','defineAuthState','\x20não\x20encontrado\x20para\x20cópia','Falha\x20após\x20várias\x20tentativas.','\x20is\x20already\x20in\x20use.','Erro\x20ao\x20copiar\x20o\x20documento','GROUPS_UPDATE','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','restartInstance','1995980hiAZvI','validate','certbot','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','405kftEKt','url','instances','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','removed','goToFlow','findGroups2','trimmed','repeat','):\x20newFirstValue\x20após\x20replaceVariables:','Font\x20is\x20required','extractRegex','flowStopMinutes',':\x20Erro\x20durante\x20loadproxy\x20-\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','including\x20timestamp\x20in\x20url:\x20','\x20mensagens\x20de\x20','moreLogs','createHash','saveChatVariables','EXPIRIN_IN','mimetype','Image\x20created','request_time','map','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','findAndReplaceRegex','\x22reaction\x22\x20must\x20be\x20an\x20emoji','tags','onWhatsApp','68YYlZRl','spawn','):\x20Error\x20processing\x20conditions:\x20','}}\x20->\x20\x22','allContacts','messages.update','SSL_CONF_PRIVKEY','cpf','string','):\x20Procurando\x20mensagens\x20para\x20envio','#000000','flowPrefixCommand','):\x20enviado\x20para\x20[','cleanStore','deleteMessageForEveryone','http','saveVariable','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','writeFile','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','findAndReplace','Bad\x20Request','firstValue','documentWithCaptionMessage','context','processConditionsTest','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','fetchConversation','saveTextReply','redirect','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x1b[0m','--standalone','importChatsBatch','shift','toNumber','#ffc5c7','convertedOptions','sharePass','SERVER_OFFLINE','findOrCreate','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','assign','getDelay','cleaningUp','updateGParticipant','PRIVKEY','Message','imported','default','CONNECTION_UPDATE','sendMenu','fetchStatus','role','uazapi','mongodb://','removeData','audio/ogg;\x20codecs=opus','hSet','getContactModelForOwner','generate','whatsappNumber','removeOlderDisconnectedInstances','src','):\x20Editando\x20replyOption...','apikey','content','isLong','contains','SEND_MESSAGE','ultimaTentativaRemoteJid','?authSource=admin&readPreference=primary&directConnection=true','Instance\x20\x22','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','PLAYED','limit','webhookModel','jpegThumbnail','\x20minutos.\x20Será\x20às\x20','post','loadInstance','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','blockId','uuid','authorization','lastSend','buttons','$set','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','fetchLabels','keys','bulkWrite','loadproxy','application/octet-stream','\x20minutos...','Label\x20','write','insert','):\x20Conversa\x20inserida\x20com\x20sucesso.','DATABASE_ENABLED','getClient','pollMessageOnDelete','getTime','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','/automate','connect','Desconectado,\x20parando\x20execução.','username','):\x20Editando\x20condição\x20do\x20fluxo...','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','chats.delete','authentication','remote\x20\x22origin\x22',':\x20IP\x20funcionando!','groupAcceptInvite','groupToggleEphemeral','entries','ObjectId','connectionUpdate','group','subjectOwner','approve','lastCondition','path','):\x20Enviando\x20mídia','listResponseMessage','AUTHENTICATION_JWT_SECRET','flowIgnoreGroups','not_announcement','uazapiSendContact','label_jid','Fluxos\x20não\x20estão\x20ativados','toLowerCase','\x5c$&','Error\x20writing\x20file:\x20','@s.whatsapp.net','headerString','https://jsonip.com','$pull','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','_id','blockLogs','Mac\x20OS','Erro\x20de\x20reinicialização:\x20','group-participants.update','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','not\x20loaded','API_KEY','port','MessageModel',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','mediaSticker','error_log','arrayUnique','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','result','closed','config','state','mentioned','toUpperCase','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','Error\x20while\x20deleting\x20message\x20for\x20everyone','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','authModel','\x20minutos\x20verificará\x20novas\x20mensagens','subject','^\x5cd+[\x5c.@\x5cw-]+','readMessageBot','stderr','updateGroupsAddPrivacy','-instances','delaySecMax','cache'];a0_0x39a5=function(){return _0x1c3ebb;};return a0_0x39a5();}Fe[a0_0x15f0ef(0x236)](a0_0x15f0ef(0x386),function(_0x161995){const _0x262276=a0_0x15f0ef;let _0xda96fb=new Set(),_0x26cb77=new Set(this[_0x262276(0x798)]?.[_0x262276(0x684)](_0x15cd1c=>_0x15cd1c[_0x262276(0x2c9)])),_0x179def=JSON[_0x262276(0x7a3)](this),_0xd32729=/{{(?!_)([^}]*)}}/g,_0x255a1b;for(;(_0x255a1b=_0xd32729[_0x262276(0x2d6)](_0x179def))!==null;)_0x26cb77['has'](_0x255a1b[0x1])||_0xda96fb[_0x262276(0x25e)](_0x255a1b[0x1]);_0xda96fb['size']>0x0?(console[_0x262276(0x235)]('Variáveis\x20não\x20encontradas:',Array[_0x262276(0x3f4)](_0xda96fb)),this[_0x262276(0x578)]=Array['from'](_0xda96fb)):this[_0x262276(0x578)]=[],_0x161995();}),Fe[a0_0x15f0ef(0x236)](a0_0x15f0ef(0x231),function(_0x44891d){const _0x3bbc5b=a0_0x15f0ef;let _0x139899=this[_0x3bbc5b(0x430)]();if(_0x139899&&typeof _0x139899==_0x3bbc5b(0x84f)&&_0x3bbc5b(0x6e3)in _0x139899){let _0xad3819=_0x139899[_0x3bbc5b(0x6e3)];if(_0xad3819){let _0x4096c6=new Set(),_0x5401f9=new Set(_0xad3819['variables']?.[_0x3bbc5b(0x684)](_0x4ad94a=>_0x4ad94a[_0x3bbc5b(0x2c9)])),_0x557eb7=JSON[_0x3bbc5b(0x7a3)](_0xad3819),_0xecb84c=/{{(?!_)([^}]*)}}/g,_0x5df0ef;for(;(_0x5df0ef=_0xecb84c[_0x3bbc5b(0x2d6)](_0x557eb7))!==null;)_0x5401f9['has'](_0x5df0ef[0x1])||_0x4096c6[_0x3bbc5b(0x25e)](_0x5df0ef[0x1]);_0x4096c6[_0x3bbc5b(0x553)]>0x0?(console[_0x3bbc5b(0x235)](_0x3bbc5b(0x62e),Array[_0x3bbc5b(0x3f4)](_0x4096c6)),_0xad3819['variablesNotFound']=Array[_0x3bbc5b(0x3f4)](_0x4096c6)):_0xad3819[_0x3bbc5b(0x578)]=[],this[_0x3bbc5b(0x527)]({'$set':_0xad3819});}}_0x44891d();});var ga=_0x181c52=>{const _0x241adb=a0_0x15f0ef;let _0x49585a='z_'+_0x181c52+_0x241adb(0x7ae);return R?.[_0x241adb(0x566)](_0x241adb(0x78b),Fe,_0x49585a);},ma=R?.[a0_0x15f0ef(0x566)](ms[a0_0x15f0ef(0x2c9)],Fe,'flow'),no=new j[(a0_0x15f0ef(0x853))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[bs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[io]},{'_id':!0x1}),fs=class{},fa=new j['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[bs],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]},'chatLog':no,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x15f0ef(0x73f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x15f0ef(0x858)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),wa=_0x768bfb=>{const _0x777284=a0_0x15f0ef;let _0x2ea377='z_'+_0x768bfb+_0x777284(0x593);return R?.['model'](_0x777284(0x638),fa,_0x2ea377);},ya=R?.[a0_0x15f0ef(0x566)](fs['name'],fa,a0_0x15f0ef(0x1da)),ws=class{},co=new j[(a0_0x15f0ef(0x853))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),lo=new j[(a0_0x15f0ef(0x853))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ba=new j[(a0_0x15f0ef(0x853))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x15f0ef(0x448)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':lo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[co],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),Sa=_0xf607da=>{const _0xf7f396=a0_0x15f0ef;let _0x55a0ac='z_'+_0xf607da+_0xf7f396(0x2fe);return R?.[_0xf7f396(0x566)](_0xf7f396(0x462),ba,_0x55a0ac);},Ma=R?.[a0_0x15f0ef(0x566)](ws[a0_0x15f0ef(0x2c9)],ba,'scheduleMessages'),ys=class{},uo=new j['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),po=new j['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x15f0ef(0x29f)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ho=new j['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),go=new j[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ho]},'customFields':{'type':[uo]},'flowConfig':{'type':po,'default':{}}}),Ue=R?.[a0_0x15f0ef(0x566)](ys['name'],go,'AutomateSystem'),Ca=require(a0_0x15f0ef(0x4d6)),mo=new Ca[(a0_0x15f0ef(0x853))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x5cba50=>{const _0x5c3f92=a0_0x15f0ef;let _0x5d133b='z_'+_0x5cba50+_0x5c3f92(0x326);return R?.['model']('LabelModel',mo,_0x5d133b);},x=class{constructor(_0x18784e){const _0x40d78d=a0_0x15f0ef;this[_0x40d78d(0x50f)]=_0x18784e[_0x40d78d(0x82b)](_0x40d78d(0x274));}};function $(_0x29380b){const _0x1213af=a0_0x15f0ef;let _0x360729={};for(let [_0x233dc1,_0x552aa5]of Object[_0x1213af(0x700)](_0x29380b))if(typeof _0x552aa5==_0x1213af(0x84f)&&!Array[_0x1213af(0x1de)](_0x552aa5)){for(let [_0x3ca03f,_0x32a11b]of Object[_0x1213af(0x700)](_0x552aa5))_0x360729[_0x233dc1+'.'+_0x3ca03f]=_0x32a11b;}else _0x360729[_0x233dc1]=_0x552aa5;return _0x360729;}var Je=class{constructor(_0x2047df,_0x514c08,_0x25a13f,_0x2e7412,_0x3d7b62,_0x4079d8,_0x188d5c,_0x4b49ec,_0x5a408c,_0x49f614,_0x45ba39,_0xae4fb4){const _0x18dc54=a0_0x15f0ef;this[_0x18dc54(0x488)]=_0x2047df,this[_0x18dc54(0x79b)]=_0x514c08,this['contact']=_0x25a13f,this[_0x18dc54(0x795)]=_0x2e7412,this['webhook']=_0x3d7b62,this[_0x18dc54(0x894)]=_0x4079d8,this[_0x18dc54(0x384)]=_0x188d5c,this[_0x18dc54(0x1da)]=_0x4b49ec,this[_0x18dc54(0x489)]=_0x5a408c,this[_0x18dc54(0x63e)]=_0x49f614,this[_0x18dc54(0x232)]=_0x45ba39,this[_0x18dc54(0x85c)]=_0xae4fb4;}get[a0_0x15f0ef(0x624)](){const _0x4b6a05=a0_0x15f0ef;return this[_0x4b6a05(0x85c)];}},qe=class{},Ve=class extends x{['getMessageModelForOwner'](_0xc5d1f5){return aa(_0xc5d1f5);}async['insert'](_0x577f2d,_0xf19a13){const _0x379428=a0_0x15f0ef;if(_0x577f2d[_0x379428(0x272)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x379428(0x7e0)](_0xf19a13)[_0x379428(0x50c)]([..._0x577f2d]))[_0x379428(0x272)]};}catch(_0x517d6d){return _0x517d6d;}}async[a0_0x15f0ef(0x585)](_0x28d844,_0x20ecd7){const _0x140ada=a0_0x15f0ef;try{let _0x500bb5=this[_0x140ada(0x7e0)](_0x20ecd7),_0x2017e7=$(_0x28d844['where']);return await _0x500bb5[_0x140ada(0x585)](_0x2017e7)[_0x140ada(0x239)]({'messageTimestamp':-0x1})[_0x140ada(0x6d5)](_0x28d844?.[_0x140ada(0x6d5)]??0x0)[_0x140ada(0x2ff)]();}catch{return[];}}async['delete'](_0x21c7f7,_0x1e9b51){const _0x3e452e=a0_0x15f0ef;try{let _0x27b99b=this[_0x3e452e(0x7e0)](_0x1e9b51),_0x59ec2b=$(_0x21c7f7[_0x3e452e(0x589)]);await _0x27b99b[_0x3e452e(0x4a7)](_0x59ec2b);}catch(_0x1969fc){console[_0x3e452e(0x790)](_0x1969fc);}}async[a0_0x15f0ef(0x429)](_0x345eea,_0x5a39bf,_0x496977){const _0x527cbd=a0_0x15f0ef;try{let _0x383ba2=this[_0x527cbd(0x7e0)](_0x496977),_0x4a373c=$(_0x345eea[_0x527cbd(0x589)]);return await _0x383ba2[_0x527cbd(0x231)](_0x4a373c,{'$set':_0x5a39bf},{'new':!0x0});}catch(_0x431548){throw console[_0x527cbd(0x790)](_0x431548),_0x431548;}}async[a0_0x15f0ef(0x50c)](_0x310f4f,_0x57600c){const _0x45149d=a0_0x15f0ef;if(_0x310f4f['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x45149d(0x7e0)](_0x57600c)[_0x45149d(0x50c)]([..._0x310f4f]))[_0x45149d(0x272)]};}catch(_0x3e5148){return console[_0x45149d(0x884)](_0x45149d(0x4ef),_0x3e5148),_0x3e5148;}}async[a0_0x15f0ef(0x209)](_0x2d243c){const _0x272bd5=a0_0x15f0ef;try{return await this['getMessageModelForOwner'](_0x2d243c)[_0x272bd5(0x36d)]['drop'](),{'success':!0x0};}catch(_0xbab3e6){return console['error'](_0xbab3e6),{'success':!0x1,'error':_0xbab3e6};}}},$s=T(require('@ffmpeg-installer/ffmpeg')),f=T(require('@whiskeysockets/baileys')),Re=require('fs'),U=T(require(a0_0x15f0ef(0x707))),K=T(require(a0_0x15f0ef(0x558))),Tr=require(a0_0x15f0ef(0x6df)),$r=T(require(a0_0x15f0ef(0x7fa))),Ar=T(require(a0_0x15f0ef(0x202))),va=['imageMessage','documentMessage',a0_0x15f0ef(0x7cc),a0_0x15f0ef(0x234),a0_0x15f0ef(0x312)],Na=[a0_0x15f0ef(0x2d0),a0_0x15f0ef(0x6a1),a0_0x15f0ef(0x225),a0_0x15f0ef(0x40a)],As=require('os'),Pt=T(require('pino')),Oe=require(a0_0x15f0ef(0x87a)),kt=require(a0_0x15f0ef(0x440)),le=T(require('mongoose')),_=require(a0_0x15f0ef(0x4a1)),fe=class{constructor(_0x4d7e31,_0x5246ac,_0x28a9e7){const _0x558c45=a0_0x15f0ef;this['jid']=_0x4d7e31,this[_0x558c45(0x25c)]=_0x5246ac,this[_0x558c45(0x2c9)]=_0x28a9e7;}},Be=class{},Ge=class{},Me=class{},We=class{},ze=class{},we=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},$t=T(require(a0_0x15f0ef(0x4d0))),Ra=require('fs'),Oa=require(a0_0x15f0ef(0x707));async function Xe(_0x439b26){const _0x1f4fa4=a0_0x15f0ef;let _0x4a0bea=B[_0x1f4fa4(0x849)][_0x439b26];if(L[_0x1f4fa4(0x796)]){let _0x12d8be=R[_0x1f4fa4(0x6f0)]()['db'](L[_0x1f4fa4(0x229)]['DB_PREFIX_NAME']+_0x1f4fa4(0x739))[_0x1f4fa4(0x36d)](_0x439b26);return _0x4a0bea||(await _0x12d8be[_0x1f4fa4(0x585)]({})[_0x1f4fa4(0x4dc)]())[_0x1f4fa4(0x272)]>0x0;}return _0x4a0bea||(0x0,Ra[_0x1f4fa4(0x4ab)])((0x0,Oa[_0x1f4fa4(0x224)])(ge,_0x439b26));}async function Ta(_0x2d7267,_0xd3c092,_0x2dda23){const _0x51beaa=a0_0x15f0ef;if(_0x2d7267[_0x51beaa(0x57a)][_0x51beaa(0x3d8)]('/instance/create')||_0x2d7267[_0x51beaa(0x57a)]['includes'](_0x51beaa(0x2b7))||_0x2d7267['originalUrl'][_0x51beaa(0x3d8)]('/exit')||_0x2d7267[_0x51beaa(0x57a)][_0x51beaa(0x3d8)](_0x51beaa(0x891))||_0x2d7267[_0x51beaa(0x57a)]['includes'](_0x51beaa(0x47a))||_0x2d7267[_0x51beaa(0x57a)][_0x51beaa(0x3d8)]('/instance/connectionState')||_0x2d7267[_0x51beaa(0x57a)]['includes'](_0x51beaa(0x29a)))return _0x2dda23();let _0x11dd4c=_0x2d7267[_0x51beaa(0x54d)];if(!_0x11dd4c?.['instanceName'])throw new w(_0x51beaa(0x856));if(!await Xe(_0x11dd4c[_0x51beaa(0x217)]))throw new F(_0x51beaa(0x86e)+_0x11dd4c[_0x51beaa(0x217)]+_0x51beaa(0x741));_0x2dda23();}async function $a(_0x366b01,_0x5d0197,_0x5c3872){const _0x76183=a0_0x15f0ef;if(_0x366b01['originalUrl'][_0x76183(0x3d8)](_0x76183(0x5bc))){let _0x563387=_0x366b01['body'];if(await Xe(_0x563387[_0x76183(0x217)]))throw new Q(_0x76183(0x5da)+_0x563387[_0x76183(0x217)]+_0x76183(0x662));B[_0x76183(0x849)][_0x563387[_0x76183(0x217)]]&&delete B[_0x76183(0x849)][_0x563387[_0x76183(0x217)]];}_0x5c3872();}var Aa=require('class-validator'),Ia=T(require(a0_0x15f0ef(0x211))),Ze=a0_0x15f0ef(0x6c0),wo=new N(a0_0x15f0ef(0x5c0));async function yo(_0x49100f,_0x1d5f92,_0x29c03f){const _0x38c8da=a0_0x15f0ef;let _0x4c47d9=_0x49100f[_0x38c8da(0x82b)](_0x38c8da(0x6cb));if(_0x4c47d9&&b[_0x38c8da(0x82b)](_0x38c8da(0x4ed))['API_KEY'][_0x38c8da(0x65e)]!==_0x4c47d9)throw new te();if(b[_0x38c8da(0x82b)](_0x38c8da(0x4ed))[_0x38c8da(0x71f)]['KEY']===_0x4c47d9)return _0x29c03f();if((_0x49100f[_0x38c8da(0x57a)]['includes'](_0x38c8da(0x5bc))||_0x49100f[_0x38c8da(0x57a)][_0x38c8da(0x3d8)]('/instance/fetchInstances'))&&!_0x4c47d9)throw new Q(_0x38c8da(0x4ad),_0x38c8da(0x3a8));let _0x2ee5b4=b[_0x38c8da(0x82b)]('AUTHENTICATION')[_0x38c8da(0x620)];try{let [_0x422a4a,_0x4ac738]=_0x49100f['get'](_0x38c8da(0x6e0))[_0x38c8da(0x414)]('\x20');if(_0x422a4a[_0x38c8da(0x710)]()!==_0x38c8da(0x5a9))throw new te();if(!(0x0,Aa[_0x38c8da(0x3e2)])(_0x4ac738))throw new te();let _0x3c64f3=_0x49100f[_0x38c8da(0x54d)],_0xdd15dc=Ia['default']['verify'](_0x4ac738,_0x2ee5b4[_0x38c8da(0x541)],{'ignoreExpiration':_0x2ee5b4[_0x38c8da(0x680)]===0x0});if(_0x3c64f3[_0x38c8da(0x217)]!==_0xdd15dc[_0x38c8da(0x217)]||Ze!==_0xdd15dc[_0x38c8da(0x659)])throw new te();return _0x29c03f();}catch(_0x1e3b43){throw wo[_0x38c8da(0x790)](_0x1e3b43),new te();}}async function bo(_0x3af118,_0x282b41,_0x57b91f){const _0x84508a=a0_0x15f0ef;let _0x3f326a=b['get'](_0x84508a(0x4ed))[_0x84508a(0x71f)],_0x466a72=_0x3af118[_0x84508a(0x82b)](_0x84508a(0x6cb));if(_0x3f326a[_0x84508a(0x65e)]===_0x466a72)return _0x57b91f();if(_0x3af118['originalUrl'][_0x84508a(0x3d8)](_0x84508a(0x5bc))){let _0x5b89a1=et,_0x1fcc7f=_0x3af118[_0x84508a(0x779)][_0x84508a(0x217)];if(_0x5b89a1&&_0x1fcc7f[_0x84508a(0x710)]()[_0x84508a(0x322)](_0x5b89a1[_0x84508a(0x710)]()))return _0x57b91f();if(!_0x466a72)throw new Q(_0x84508a(0x4ad),_0x84508a(0x3a8));}if(_0x3af118[_0x84508a(0x57a)]['includes'](_0x84508a(0x2b7))&&!_0x466a72)throw new Q(_0x84508a(0x4ad),_0x84508a(0x3a8));if(_0x3af118['originalUrl'][_0x84508a(0x3d8)](_0x84508a(0x3e3))&&!_0x466a72)throw new Q(_0x84508a(0x4ad),_0x84508a(0x3a8));if(_0x3af118[_0x84508a(0x57a)][_0x84508a(0x3d8)]('/config')&&!_0x466a72)throw new Q(_0x84508a(0x4ad),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x2e487f=_0x3af118[_0x84508a(0x54d)],_0x189618=await ue['auth'][_0x84508a(0x585)](_0x2e487f[_0x84508a(0x217)]);if(_0x189618&&_0x189618['apikey']===_0x466a72)return _0x57b91f();}catch{}throw new te();}var xa={'jwt':yo,'apikey':bo},pr=require('express'),C=require(a0_0x15f0ef(0x6df)),M=(..._0x5a3d5d)=>{const _0x447b31=a0_0x15f0ef;let _0x1dc694={};return _0x5a3d5d[_0x447b31(0x40e)](_0x2c1d54=>_0x1dc694[_0x2c1d54]={'minLength':0x1,'description':'The\x20\x22'+_0x2c1d54+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x5a3d5d]}},'then':{'properties':_0x1dc694}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'instanceName':{'type':a0_0x15f0ef(0x692)}},...M(a0_0x15f0ef(0x217))},cc={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'oldToken':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x1e0)],...M(a0_0x15f0ef(0x1e0))},lc={'properties':{'key':{'type':a0_0x15f0ef(0x84f),'properties':{'id':{'type':a0_0x15f0ef(0x692)},'remoteJid':{'type':a0_0x15f0ef(0x692)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x15f0ef(0x350),a0_0x15f0ef(0x3ab)],...M('id','remoteJid')},'message':{'type':a0_0x15f0ef(0x84f)}}},Y={'properties':{'delay':{'type':a0_0x15f0ef(0x4d2),'description':a0_0x15f0ef(0x58f)},'presence':{'type':'string','enum':[a0_0x15f0ef(0x32a),a0_0x15f0ef(0x3c3),'composing',a0_0x15f0ef(0x5ec),a0_0x15f0ef(0x32c)]}}},z={'type':a0_0x15f0ef(0x692),'pattern':a0_0x15f0ef(0x735),'description':a0_0x15f0ef(0x40d)},Da={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'text':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x358)],...M('text')}},'required':[a0_0x15f0ef(0x478),a0_0x15f0ef(0x253)]},_a={'type':'string','pattern':a0_0x15f0ef(0x38a),'description':'Invalid\x20format'},uc={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{..._a},'options':{...Y},'textMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'text':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x358)],...M(a0_0x15f0ef(0x358))}},'required':[a0_0x15f0ef(0x478),'number']},dc={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{..._a},'options':{...Y},'mediaMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'mediatype':{'type':a0_0x15f0ef(0x692),'enum':['image',a0_0x15f0ef(0x2f2),'video',a0_0x15f0ef(0x81d)]},'media':{'type':'string'},'fileName':{'type':a0_0x15f0ef(0x692)},'caption':{'type':a0_0x15f0ef(0x692)}},'required':['mediatype',a0_0x15f0ef(0x351)],...M('fileName',a0_0x15f0ef(0x450),a0_0x15f0ef(0x351))}},'required':[a0_0x15f0ef(0x45f),a0_0x15f0ef(0x253)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'image':{'type':a0_0x15f0ef(0x692)}},'required':['image'],...M(a0_0x15f0ef(0x278))}},'required':[a0_0x15f0ef(0x312),a0_0x15f0ef(0x253)]},ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'type':{'type':a0_0x15f0ef(0x692),'enum':[a0_0x15f0ef(0x358),a0_0x15f0ef(0x278),'audio','video']},'content':{'type':a0_0x15f0ef(0x692)},'caption':{'type':a0_0x15f0ef(0x692)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x15f0ef(0x4d2),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15f0ef(0x692),'pattern':'^\x5cd+','description':a0_0x15f0ef(0x6a8)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type',a0_0x15f0ef(0x6cc)],...M(a0_0x15f0ef(0x483),a0_0x15f0ef(0x6cc))}},'required':[a0_0x15f0ef(0x866)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'mediatype':{'type':'string','enum':[a0_0x15f0ef(0x278),a0_0x15f0ef(0x2f2),a0_0x15f0ef(0x2c7),a0_0x15f0ef(0x81d)]},'media':{'type':a0_0x15f0ef(0x692)},'fileName':{'type':a0_0x15f0ef(0x692)},'caption':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x50a),'media'],...M('fileName','caption',a0_0x15f0ef(0x351))}},'required':[a0_0x15f0ef(0x45f),'number']},ja={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x81d)],...M(a0_0x15f0ef(0x81d))}},'required':[a0_0x15f0ef(0x7cc),a0_0x15f0ef(0x253)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'pollMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'name':{'type':a0_0x15f0ef(0x692)},'selectableCount':{'type':'number'},'values':{'type':a0_0x15f0ef(0x22e),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x15f0ef(0x2c9),a0_0x15f0ef(0x416),a0_0x15f0ef(0x2cb)],...M(a0_0x15f0ef(0x2c9),a0_0x15f0ef(0x416),a0_0x15f0ef(0x2cb))}},'required':[a0_0x15f0ef(0x253),a0_0x15f0ef(0x83b)]},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'text':{'type':a0_0x15f0ef(0x692)},'choices':{'type':a0_0x15f0ef(0x22e),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x15f0ef(0x358),a0_0x15f0ef(0x3d1)],...M(a0_0x15f0ef(0x358),a0_0x15f0ef(0x3d1))}},'required':[a0_0x15f0ef(0x253),a0_0x15f0ef(0x635)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'title':{'type':a0_0x15f0ef(0x692)},'description':{'type':a0_0x15f0ef(0x692)},'footerText':{'type':a0_0x15f0ef(0x692)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x15f0ef(0x692)},'buttonId':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x7bc),a0_0x15f0ef(0x294)],...M(a0_0x15f0ef(0x7bc),'buttonId')}},'mediaMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'media':{'type':a0_0x15f0ef(0x692)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x15f0ef(0x692),'enum':[a0_0x15f0ef(0x278),a0_0x15f0ef(0x2f2),a0_0x15f0ef(0x2c7)]}},'required':[a0_0x15f0ef(0x351),'mediatype'],...M(a0_0x15f0ef(0x351),a0_0x15f0ef(0x5b9))}},'required':[a0_0x15f0ef(0x35c),a0_0x15f0ef(0x6e2)],...M(a0_0x15f0ef(0x35c),'description')}},'required':['number','buttonMessage']},qa={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'latitude':{'type':a0_0x15f0ef(0x253)},'longitude':{'type':a0_0x15f0ef(0x253)},'name':{'type':a0_0x15f0ef(0x692)},'address':{'type':a0_0x15f0ef(0x692)}},'required':['latitude','longitude'],...M(a0_0x15f0ef(0x2c9),a0_0x15f0ef(0x5c3))}},'required':[a0_0x15f0ef(0x253),a0_0x15f0ef(0x895)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'title':{'type':a0_0x15f0ef(0x692)},'description':{'type':a0_0x15f0ef(0x692)},'footerText':{'type':a0_0x15f0ef(0x692)},'buttonText':{'type':a0_0x15f0ef(0x692)},'sections':{'type':a0_0x15f0ef(0x22e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x15f0ef(0x692)},'rows':{'type':a0_0x15f0ef(0x22e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x15f0ef(0x692)},'rowId':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x35c),'rowId'],...M(a0_0x15f0ef(0x35c),a0_0x15f0ef(0x327))}}},'required':['title',a0_0x15f0ef(0x332)],...M('title')}}},'required':[a0_0x15f0ef(0x35c),a0_0x15f0ef(0x4e0),a0_0x15f0ef(0x7bc),a0_0x15f0ef(0x330)],...M('title',a0_0x15f0ef(0x4e0),a0_0x15f0ef(0x7bc),'footerText')}},'required':['number',a0_0x15f0ef(0x2b0)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x15f0ef(0x84f),'properties':{'fullName':{'type':a0_0x15f0ef(0x692)},'phoneNumber':{'type':a0_0x15f0ef(0x692),'minLength':0xa}},'required':[a0_0x15f0ef(0x517),'phoneNumber'],...M('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x15f0ef(0x253),'contactMessage']},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'reactionMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'key':{'type':a0_0x15f0ef(0x84f),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]}},'required':['id',a0_0x15f0ef(0x350),a0_0x15f0ef(0x3ab)],...M('id',a0_0x15f0ef(0x350))},'reaction':{'type':'string'}},'required':[a0_0x15f0ef(0x310),a0_0x15f0ef(0x766)],...M(a0_0x15f0ef(0x766))}},'required':['reactionMessage']},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x15f0ef(0x22e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15f0ef(0x692),'pattern':a0_0x15f0ef(0x759),'description':a0_0x15f0ef(0x48e)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'readMessages':{'type':a0_0x15f0ef(0x22e),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x15f0ef(0x692)}},'required':['id',a0_0x15f0ef(0x3ab),a0_0x15f0ef(0x350)],...M('id','remoteJid')}}},'required':[a0_0x15f0ef(0x449)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'privacySettings':{'type':a0_0x15f0ef(0x84f),'properties':{'readreceipts':{'type':'string','enum':['all',a0_0x15f0ef(0x550)]},'profile':{'type':a0_0x15f0ef(0x692),'enum':['all',a0_0x15f0ef(0x3f6),a0_0x15f0ef(0x606),a0_0x15f0ef(0x550)]},'status':{'type':'string','enum':[a0_0x15f0ef(0x45e),a0_0x15f0ef(0x3f6),a0_0x15f0ef(0x606),'none']},'online':{'type':a0_0x15f0ef(0x692),'enum':[a0_0x15f0ef(0x45e),a0_0x15f0ef(0x7ba)]},'last':{'type':a0_0x15f0ef(0x692),'enum':['all',a0_0x15f0ef(0x3f6),a0_0x15f0ef(0x606),a0_0x15f0ef(0x550)]},'groupadd':{'type':a0_0x15f0ef(0x692),'enum':[a0_0x15f0ef(0x45e),a0_0x15f0ef(0x3f6),a0_0x15f0ef(0x606),a0_0x15f0ef(0x550)]}},'required':[a0_0x15f0ef(0x20d),a0_0x15f0ef(0x291),a0_0x15f0ef(0x60a),a0_0x15f0ef(0x4e7),a0_0x15f0ef(0x520),a0_0x15f0ef(0x44a)],...M('readreceipts',a0_0x15f0ef(0x291),a0_0x15f0ef(0x60a),a0_0x15f0ef(0x4e7),a0_0x15f0ef(0x520),a0_0x15f0ef(0x44a))}},'required':[a0_0x15f0ef(0x5c1)]},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x15f0ef(0x84f),'properties':{'key':{'type':a0_0x15f0ef(0x84f),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x15f0ef(0x692)},'fromMe':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]}},'required':['id',a0_0x15f0ef(0x3ab),a0_0x15f0ef(0x350)],...M('id',a0_0x15f0ef(0x350))},'messageTimestamp':{'type':a0_0x15f0ef(0x4d2),'minLength':0x1}},'required':['key'],...M('messageTimestamp')},'archive':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x15f0ef(0x743)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'id':{'type':a0_0x15f0ef(0x692)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x15f0ef(0x692)},'participant':{'type':a0_0x15f0ef(0x692)}},'required':['id',a0_0x15f0ef(0x3ab),'remoteJid'],...M('id',a0_0x15f0ef(0x350),'participant')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'where':{'type':a0_0x15f0ef(0x84f),'properties':{'_id':{'type':a0_0x15f0ef(0x692),'minLength':0x1},'pushName':{'type':a0_0x15f0ef(0x692),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...M(a0_0x15f0ef(0x718),'id',a0_0x15f0ef(0x60e))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'name':{'type':a0_0x15f0ef(0x692)}},...M(a0_0x15f0ef(0x2c9))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'status':{'type':a0_0x15f0ef(0x692)}},...M(a0_0x15f0ef(0x60a))},Ce={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':a0_0x15f0ef(0x692)}}},er={'type':'object','properties':{'wuid':{'type':a0_0x15f0ef(0x692)},'name':{'type':'string'},'picture':{'type':a0_0x15f0ef(0x692)},'status':{'type':a0_0x15f0ef(0x692)},'isBusiness':{'type':a0_0x15f0ef(0x5e4)}}},tr={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'where':{'type':a0_0x15f0ef(0x84f),'properties':{'_id':{'type':a0_0x15f0ef(0x692),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x15f0ef(0x3ab),a0_0x15f0ef(0x350),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x15f0ef(0x366)},'id':{'type':a0_0x15f0ef(0x692),'minLength':0x1,'description':a0_0x15f0ef(0x366)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x15f0ef(0x84f)}},...M(a0_0x15f0ef(0x718))},'limit':{'type':a0_0x15f0ef(0x4d2)}}},pc={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x15f0ef(0x692)},'remoteJid':{'type':a0_0x15f0ef(0x692)},'id':{'type':a0_0x15f0ef(0x692)},'fromMe':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x15f0ef(0x692),'enum':[a0_0x15f0ef(0x791),a0_0x15f0ef(0x850),'SERVER_ACK','DELIVERY_ACK',a0_0x15f0ef(0x877),a0_0x15f0ef(0x6d4)]}},...M(a0_0x15f0ef(0x718),'remoteJid','id',a0_0x15f0ef(0x60a))},'limit':{'type':a0_0x15f0ef(0x4d2)}}},sr={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'number':{...z},'presence':{'type':a0_0x15f0ef(0x692),'enum':[a0_0x15f0ef(0x32a),a0_0x15f0ef(0x3c3),a0_0x15f0ef(0x2f4),a0_0x15f0ef(0x5ec),a0_0x15f0ef(0x32c)]}},'required':[a0_0x15f0ef(0x762),a0_0x15f0ef(0x253)]},ar={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'subject':{'type':a0_0x15f0ef(0x692)},'description':{'type':'string'},'profilePicture':{'type':a0_0x15f0ef(0x692)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15f0ef(0x692),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x15f0ef(0x734),a0_0x15f0ef(0x3e1)],...M(a0_0x15f0ef(0x734),a0_0x15f0ef(0x4e0),a0_0x15f0ef(0x76b))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'groupJid':{'type':a0_0x15f0ef(0x692),'pattern':a0_0x15f0ef(0x436)}},'required':[a0_0x15f0ef(0x412)],...M(a0_0x15f0ef(0x412))},rr={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'groupJid':{'type':a0_0x15f0ef(0x692)},'action':{'type':'string','enum':['add',a0_0x15f0ef(0x554),'promote',a0_0x15f0ef(0x4b7),a0_0x15f0ef(0x26b),a0_0x15f0ef(0x705)]},'participants':{'type':a0_0x15f0ef(0x22e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15f0ef(0x692),'minLength':0xa,'pattern':a0_0x15f0ef(0x854),'description':a0_0x15f0ef(0x465)}}},'required':[a0_0x15f0ef(0x412),a0_0x15f0ef(0x5a6),a0_0x15f0ef(0x3e1)],...M(a0_0x15f0ef(0x412),a0_0x15f0ef(0x5a6))},or={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x15f0ef(0x253),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x15f0ef(0x412),a0_0x15f0ef(0x4f0)],...M(a0_0x15f0ef(0x412),'expiration')},ir={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'groupJid':{'type':a0_0x15f0ef(0x692)},'image':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x412),a0_0x15f0ef(0x278)],...M(a0_0x15f0ef(0x412),a0_0x15f0ef(0x278))},nr={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'groupJid':{'type':a0_0x15f0ef(0x692)},'description':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x412),a0_0x15f0ef(0x4e0)],...M(a0_0x15f0ef(0x412),a0_0x15f0ef(0x4e0))},cr={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'groupJid':{'type':a0_0x15f0ef(0x692)},'name':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x412),a0_0x15f0ef(0x2c9)],...M('groupJid',a0_0x15f0ef(0x2c9))},lr={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'groupJid':{'type':a0_0x15f0ef(0x692)},'setting':{'type':a0_0x15f0ef(0x692),'enum':[a0_0x15f0ef(0x4d8),a0_0x15f0ef(0x70c),a0_0x15f0ef(0x5fa),'locked']}},'required':[a0_0x15f0ef(0x412),a0_0x15f0ef(0x3d2)],...M(a0_0x15f0ef(0x412),a0_0x15f0ef(0x3d2))},ur={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'groupJid':{'type':a0_0x15f0ef(0x692)},'restrict':{'type':a0_0x15f0ef(0x5e4)},'announce':{'type':a0_0x15f0ef(0x5e4)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x15f0ef(0x5e4)},'expiration':{'type':a0_0x15f0ef(0x4d2),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x15f0ef(0x692)},'description':{'type':a0_0x15f0ef(0x692)},'image':{'type':a0_0x15f0ef(0x692)}}},Ss={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x15f0ef(0x692)}},'required':[a0_0x15f0ef(0x7d9)],...M('inviteCode')},dr={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'url':{'type':a0_0x15f0ef(0x692)},'enabled':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]}},'required':[a0_0x15f0ef(0x66d),a0_0x15f0ef(0x323)]},hc={'$id':(0x0,C['v4'])(),'type':a0_0x15f0ef(0x84f),'properties':{'local_map':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x15f0ef(0x5e4),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x15f0ef(0x653),a0_0x15f0ef(0x443),a0_0x15f0ef(0x74a),a0_0x15f0ef(0x73e),a0_0x15f0ef(0x549),'MESSAGES_UPSERT',a0_0x15f0ef(0x6cf),'CONTACTS_SET',a0_0x15f0ef(0x55e),a0_0x15f0ef(0x594),a0_0x15f0ef(0x46c),a0_0x15f0ef(0x2dc),a0_0x15f0ef(0x625),a0_0x15f0ef(0x338),a0_0x15f0ef(0x383),a0_0x15f0ef(0x6bc),a0_0x15f0ef(0x55c),a0_0x15f0ef(0x664),'GROUP_PARTICIPANTS_UPDATE'],...M(a0_0x15f0ef(0x653),a0_0x15f0ef(0x443),a0_0x15f0ef(0x74a),'MESSAGES_SET',a0_0x15f0ef(0x549),a0_0x15f0ef(0x522),'SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT',a0_0x15f0ef(0x594),a0_0x15f0ef(0x46c),'CHATS_SET',a0_0x15f0ef(0x625),a0_0x15f0ef(0x338),'CHATS_DELETE',a0_0x15f0ef(0x6bc),a0_0x15f0ef(0x55c),a0_0x15f0ef(0x664),a0_0x15f0ef(0x3d4))},tt=class{},st=class extends x{[a0_0x15f0ef(0x6c5)](_0x2f3d8a){return Zs(_0x2f3d8a);}async[a0_0x15f0ef(0x6ed)](_0x3e858a){const _0x4e750b=a0_0x15f0ef;if(_0x3e858a[_0x4e750b(0x272)]!==0x0)try{return{'insertCount':(await this[_0x4e750b(0x6c5)](_0x3e858a[0x0][_0x4e750b(0x2b6)])[_0x4e750b(0x50c)]([..._0x3e858a]))[_0x4e750b(0x272)]};}catch(_0x96bca5){return _0x96bca5;}}async[a0_0x15f0ef(0x439)](_0x2322ec,_0x3e4c28){const _0x3385ff=a0_0x15f0ef;try{return{'deletedCount':(await this[_0x3385ff(0x6c5)](_0x3e4c28)[_0x3385ff(0x4a7)]({..._0x2322ec[_0x3385ff(0x589)]}))['deletedCount']};}catch(_0x206543){return{'error':_0x206543?.[_0x3385ff(0x5f0)]()};}}async[a0_0x15f0ef(0x429)](_0x47a5ef,_0x23ec78){const _0x4b88bb=a0_0x15f0ef;try{if(_0x47a5ef['length']===0x0)return;let _0x1d37ae=this[_0x4b88bb(0x6c5)](_0x23ec78),_0x5573a4=_0x47a5ef['map'](_0x369c48=>({'updateOne':{'filter':{'_id':_0x369c48['_id'],'owner':_0x23ec78},'update':{..._0x369c48}}})),{modifiedCount:_0x31d4b7}=await _0x1d37ae[_0x4b88bb(0x6e7)](_0x5573a4);return{'insertCount':_0x31d4b7};}catch{return;}}async[a0_0x15f0ef(0x585)](_0x243dd4,_0x4c6131){const _0x4f07b8=a0_0x15f0ef;try{let _0x3d2703=this[_0x4f07b8(0x6c5)](_0x4c6131),_0x3a7374=$(_0x243dd4[_0x4f07b8(0x589)]);return await _0x3d2703['find'](_0x3a7374)[_0x4f07b8(0x6d5)](_0x243dd4?.['limit']??0x0)['lean']();}catch{return[];}}async['findOne'](_0x2b2d42,_0x1f2698){const _0xc98ad7=a0_0x15f0ef;try{let _0x24eff1=this['getContactModelForOwner'](_0x1f2698),_0x3c08e7=$(_0x2b2d42['where']);return await _0x24eff1[_0xc98ad7(0x2f1)](_0x3c08e7)[_0xc98ad7(0x2ff)]();}catch{return null;}}async[a0_0x15f0ef(0x209)](_0x537e33){const _0x25405f=a0_0x15f0ef;try{return await this['getContactModelForOwner'](_0x537e33)[_0x25405f(0x36d)][_0x25405f(0x5e1)](),{'success':!0x0};}catch(_0x25c157){return console[_0x25405f(0x790)](_0x25c157),{'success':!0x1,'error':_0x25c157};}}},at=require(a0_0x15f0ef(0x5c2)),Cc=require(a0_0x15f0ef(0x852)),Ms=new N(a0_0x15f0ef(0x88b)),V=class{[a0_0x15f0ef(0x204)](_0x498fb3,_0x12a952=!0x0){const _0xd3ec99=a0_0x15f0ef;let _0x3c45c8='/'+_0x498fb3;return _0x12a952&&(_0x3c45c8+=_0xd3ec99(0x237)),_0x3c45c8;}async[a0_0x15f0ef(0x7c4)](_0x4c56df){const _0x659668=a0_0x15f0ef;let {request:_0x8ce706,schema:_0x5926cc,ClassRef:_0x4b370b,execute:_0x2b280c}=_0x4c56df,_0x14a069=new _0x4b370b(),_0x2a35e8=_0x8ce706[_0x659668(0x779)],_0x271694=_0x8ce706[_0x659668(0x54d)];_0x8ce706?.['query']&&Object[_0x659668(0x6e6)](_0x8ce706['query'])[_0x659668(0x272)]>0x0&&Object[_0x659668(0x6b4)](_0x271694,_0x8ce706['query']),_0x8ce706[_0x659668(0x57a)][_0x659668(0x3d8)](_0x659668(0x5bc))&&Object[_0x659668(0x6b4)](_0x271694,_0x2a35e8),Object[_0x659668(0x6b4)](_0x14a069,_0x2a35e8);let _0x414163=_0x5926cc?(0x0,at[_0x659668(0x668)])(_0x14a069,_0x5926cc):{'valid':!0x0,'errors':[]};if(!_0x414163[_0x659668(0x3ee)]){let _0x43f2d0=_0x414163[_0x659668(0x471)][_0x659668(0x684)](({property:_0xb89ecd,stack:_0x2d15b9,schema:_0xe4e808})=>{const _0x344071=_0x659668;let _0x2e9b26;return _0xe4e808[_0x344071(0x4e0)]?_0x2e9b26=_0xe4e808[_0x344071(0x4e0)]:_0x2e9b26=_0x2d15b9[_0x344071(0x1e1)]('instance.',''),{'property':_0xb89ecd[_0x344071(0x1e1)](_0x344071(0x644),''),'message':_0x2e9b26};});throw Ms[_0x659668(0x790)]([..._0x43f2d0]),new w(..._0x43f2d0);}return await _0x2b280c(_0x271694,_0x14a069);}async['groupValidate'](_0x2bed51){const _0x284e4f=a0_0x15f0ef;let {request:_0x25c148,ClassRef:_0xbbf67d,schema:_0x196642,execute:_0x122e0f}=_0x2bed51,_0x49c596=_0x25c148[_0x284e4f(0x2e5)];if(!_0x49c596?.[_0x284e4f(0x412)])throw new w(_0x284e4f(0x474),_0x284e4f(0x2c3));let _0x25646b=_0x25c148[_0x284e4f(0x54d)],_0x20f303=_0x25c148['body'],_0x410e44=new _0xbbf67d();Object[_0x284e4f(0x6b4)](_0x20f303,_0x49c596),Object['assign'](_0x410e44,_0x20f303);let _0x5202dc=(0x0,at['validate'])(_0x410e44,_0x196642);if(!_0x5202dc[_0x284e4f(0x3ee)]){let _0x464edc=_0x5202dc[_0x284e4f(0x471)][_0x284e4f(0x684)](({property:_0x34ed74,stack:_0x293dc2,schema:_0x15139d})=>{const _0x5bf568=_0x284e4f;let _0x58a954;return _0x15139d[_0x5bf568(0x4e0)]?_0x58a954=_0x15139d[_0x5bf568(0x4e0)]:_0x58a954=_0x293dc2[_0x5bf568(0x1e1)](_0x5bf568(0x644),''),{'property':_0x34ed74[_0x5bf568(0x1e1)](_0x5bf568(0x644),''),'message':_0x58a954};});throw Ms[_0x284e4f(0x790)]([..._0x464edc]),new w(..._0x464edc);}return await _0x122e0f(_0x25646b,_0x410e44);}async[a0_0x15f0ef(0x24a)](_0x609ecf){const _0x4c316e=a0_0x15f0ef;let {request:_0x13584a,ClassRef:_0x160ea9,schema:_0x1d8f01,execute:_0x11e8c0}=_0x609ecf,_0xfb92f5=_0x13584a['body'];if(!_0xfb92f5?.[_0x4c316e(0x7d9)])throw new w(_0x4c316e(0x395),_0x4c316e(0x78d));let _0x91c1a1=_0x13584a['params'],_0xb7448d=_0x13584a['body'],_0x46a2e7=new _0x160ea9();Object['assign'](_0xb7448d,_0xfb92f5),Object[_0x4c316e(0x6b4)](_0x46a2e7,_0xb7448d);let _0x58768d=(0x0,at[_0x4c316e(0x668)])(_0x46a2e7,_0x1d8f01);if(!_0x58768d[_0x4c316e(0x3ee)]){let _0x4a4538=_0x58768d[_0x4c316e(0x471)][_0x4c316e(0x684)](({property:_0x530ad3,stack:_0x5344b0,schema:_0x11bf30})=>{const _0x541fd8=_0x4c316e;let _0x368efa;return _0x11bf30['description']?_0x368efa=_0x11bf30[_0x541fd8(0x4e0)]:_0x368efa=_0x5344b0[_0x541fd8(0x1e1)](_0x541fd8(0x644),''),{'property':_0x530ad3[_0x541fd8(0x1e1)]('instance.',''),'message':_0x368efa};});throw Ms[_0x4c316e(0x790)]([..._0x4a4538]),new w(..._0x4a4538);}return await _0x11e8c0(_0x91c1a1,_0x46a2e7);}},S=class{},Lc=new N(a0_0x15f0ef(0x5fb)),rt=class extends V{constructor(..._0x39a401){const _0x5d1958=a0_0x15f0ef;super(),this[_0x5d1958(0x48d)]=(0x0,pr['Router'])(),this[_0x5d1958(0x48d)][_0x5d1958(0x6d9)](this['routerPath'](_0x5d1958(0x23b)),..._0x39a401,async(_0x4f2c94,_0xf87d6d)=>{const _0x460da9=_0x5d1958;let _0x55640f=await this['dataValidate']({'request':_0x4f2c94,'schema':sr,'ClassRef':Be,'execute':(_0x72ccd7,_0x2ce7be)=>D[_0x460da9(0x23b)](_0x72ccd7,_0x2ce7be)});return _0xf87d6d[_0x460da9(0x60a)](0xc9)[_0x460da9(0x805)](_0x55640f);})[_0x5d1958(0x6d9)](this[_0x5d1958(0x204)](_0x5d1958(0x5ef)),..._0x39a401,async(_0x7ce087,_0x1a72e4)=>{const _0x427d5e=_0x5d1958;let _0x44a9c4=await this['dataValidate']({'request':_0x7ce087,'schema':Wa,'ClassRef':Ge,'execute':(_0x26a86d,_0x304204)=>D[_0x427d5e(0x6c7)](_0x26a86d,_0x304204)});return _0x1a72e4[_0x427d5e(0x60a)](0xc9)['json'](_0x44a9c4);})[_0x5d1958(0x6d9)](this[_0x5d1958(0x204)](_0x5d1958(0x839)),..._0x39a401,async(_0x4c63f7,_0x49dd2a)=>{const _0x92b641=_0x5d1958;let _0x45705e=await this[_0x92b641(0x7c4)]({'request':_0x4c63f7,'schema':E,'ClassRef':S,'execute':(_0x55fe22,_0x1e7a90)=>D[_0x92b641(0x839)](_0x55fe22,_0x1e7a90)});return _0x49dd2a['status'](0xc9)['json'](_0x45705e);})[_0x5d1958(0x486)](this['routerPath']('markMessageAsRead'),..._0x39a401,async(_0x207080,_0x4c8b9f)=>{const _0x206526=_0x5d1958;let _0x4e0fa9=await this[_0x206526(0x7c4)]({'request':_0x207080,'schema':za,'ClassRef':He,'execute':(_0x3964a3,_0x2db029)=>D[_0x206526(0x86f)](_0x3964a3,_0x2db029)});return _0x4c8b9f['status'](0xc9)['json'](_0x4e0fa9);})[_0x5d1958(0x486)](this[_0x5d1958(0x204)](_0x5d1958(0x3f3)),..._0x39a401,async(_0x52e0d9,_0x5c466c)=>{const _0x1c19d5=_0x5d1958;let _0x3fb6f4=await this[_0x1c19d5(0x7c4)]({'request':_0x52e0d9,'schema':Ka,'ClassRef':Ke,'execute':(_0x3cdfb6,_0x25ce7b)=>D[_0x1c19d5(0x3f3)](_0x3cdfb6,_0x25ce7b)});return _0x5c466c['status'](0xc9)[_0x1c19d5(0x805)](_0x3fb6f4);})['delete'](this['routerPath'](_0x5d1958(0x698)),..._0x39a401,async(_0x32facb,_0x1802c6)=>{const _0x2e9ede=_0x5d1958;let _0x30ed04=await this['dataValidate']({'request':_0x32facb,'schema':Qa,'ClassRef':Ye,'execute':(_0x393dba,_0x219fd9)=>D[_0x2e9ede(0x5d4)](_0x393dba,_0x219fd9)});return _0x1802c6[_0x2e9ede(0x60a)](0xc9)['json'](_0x30ed04);})['post'](this[_0x5d1958(0x204)](_0x5d1958(0x325)),..._0x39a401,async(_0x17dc23,_0x2c922e)=>{const _0x4e521a=_0x5d1958;let _0x31df10=await this[_0x4e521a(0x7c4)]({'request':_0x17dc23,'schema':Ce,'ClassRef':Me,'execute':(_0x203d52,_0x621d65)=>D['fetchProfilePicture'](_0x203d52,_0x621d65)});return _0x2c922e['status'](0xc8)['json'](_0x31df10);})['post'](this[_0x5d1958(0x204)](_0x5d1958(0x423)),..._0x39a401,async(_0x4fba37,_0xacd596)=>{const _0x5814f6=_0x5d1958;let _0x1c5847=await this[_0x5814f6(0x7c4)]({'request':_0x4fba37,'schema':er,'ClassRef':Me,'execute':(_0x325e5b,_0x2436cf)=>D[_0x5814f6(0x423)](_0x325e5b,_0x2436cf)});return _0xacd596[_0x5814f6(0x60a)](0xc8)[_0x5814f6(0x805)](_0x1c5847);})[_0x5d1958(0x6d9)](this[_0x5d1958(0x204)](_0x5d1958(0x220)),..._0x39a401,async(_0x42f9ac,_0x3fd01c)=>{const _0x2a5eba=_0x5d1958;let _0x76a299=await this[_0x2a5eba(0x7c4)]({'request':_0x42f9ac,'schema':Ya,'ClassRef':tt,'execute':(_0x4f69d8,_0x26fc00)=>D[_0x2a5eba(0x58e)](_0x4f69d8,_0x26fc00)});return _0x3fd01c[_0x2a5eba(0x60a)](0xc8)['json'](_0x76a299);})[_0x5d1958(0x6d9)](this[_0x5d1958(0x204)](_0x5d1958(0x789)),..._0x39a401,async(_0x5978aa,_0x46e44c)=>{const _0x437b97=_0x5d1958;let _0x499080=await this[_0x437b97(0x7c4)]({'request':_0x5978aa,'schema':null,'ClassRef':Object,'execute':(_0x879667,_0x1f4da8)=>D['getBase64FromMediaMessage'](_0x879667,_0x1f4da8)});return _0x46e44c[_0x437b97(0x60a)](0xc9)[_0x437b97(0x805)](_0x499080);})[_0x5d1958(0x6d9)](this['routerPath'](_0x5d1958(0x61a)),..._0x39a401,async(_0x554f68,_0x15fea6)=>{const _0x322be1=_0x5d1958;let _0x57e8fe=await this[_0x322be1(0x7c4)]({'request':_0x554f68,'schema':tr,'ClassRef':qe,'execute':(_0x36f3f3,_0x35ff67)=>D[_0x322be1(0x630)](_0x36f3f3,_0x35ff67)});return _0x15fea6[_0x322be1(0x60a)](0xc8)['json'](_0x57e8fe);})['get'](this[_0x5d1958(0x204)](_0x5d1958(0x464)),..._0x39a401,async(_0x357b6c,_0x227d3d)=>{const _0x455bdc=_0x5d1958;let _0x253660=await this['dataValidate']({'request':_0x357b6c,'schema':null,'ClassRef':S,'execute':_0x4746a5=>D[_0x455bdc(0x453)](_0x4746a5)});return _0x227d3d[_0x455bdc(0x60a)](0xc8)[_0x455bdc(0x805)](_0x253660);})[_0x5d1958(0x82b)](this[_0x5d1958(0x204)]('findLabels'),..._0x39a401,async(_0xb0a2d1,_0x268274)=>{const _0x16554d=_0x5d1958;let _0x26515e=await this['dataValidate']({'request':_0xb0a2d1,'schema':null,'ClassRef':S,'execute':_0xce6004=>D[_0x16554d(0x6e5)](_0xce6004)});return _0x268274[_0x16554d(0x60a)](0xc8)['json'](_0x26515e);})[_0x5d1958(0x486)](this[_0x5d1958(0x204)]('importChats'),..._0x39a401,async(_0x2a95f8,_0x10ea41)=>{const _0x1d5540=_0x5d1958;let _0x5048c7=await this[_0x1d5540(0x7c4)]({'request':_0x2a95f8,'schema':null,'ClassRef':Array,'execute':(_0x5f197a,_0x5104c6)=>D[_0x1d5540(0x308)](_0x5f197a,_0x5104c6)});return _0x10ea41[_0x1d5540(0x60a)](0xc8)[_0x1d5540(0x805)](_0x5048c7);})['get'](this[_0x5d1958(0x204)](_0x5d1958(0x2a6)),..._0x39a401,async(_0x19d02d,_0x33a16e)=>{const _0x47c5e4=_0x5d1958;let _0x2c9efe=await this['dataValidate']({'request':_0x19d02d,'schema':null,'ClassRef':S,'execute':_0x59fd5c=>D[_0x47c5e4(0x2a6)](_0x59fd5c)});return _0x33a16e[_0x47c5e4(0x60a)](0xc8)['json'](_0x2c9efe);})['put'](this[_0x5d1958(0x204)]('updatePrivacySettings'),..._0x39a401,async(_0x5766c8,_0x31b3f9)=>{const _0x2b7574=_0x5d1958;let _0x596121=await this[_0x2b7574(0x7c4)]({'request':_0x5766c8,'schema':Ha,'ClassRef':Qe,'execute':(_0x282047,_0x206938)=>D['updatePrivacySettings'](_0x282047,_0x206938)});return _0x31b3f9[_0x2b7574(0x60a)](0xc9)['json'](_0x596121);})[_0x5d1958(0x6d9)](this[_0x5d1958(0x204)]('fetchBusinessProfile'),..._0x39a401,async(_0x25a60c,_0x53014b)=>{const _0x4caf9d=_0x5d1958;let _0x3e4fbb=await this['dataValidate']({'request':_0x25a60c,'schema':Ce,'ClassRef':we,'execute':(_0x369a59,_0x5ffa24)=>D['fetchBusinessProfile'](_0x369a59,_0x5ffa24)});return _0x53014b[_0x4caf9d(0x60a)](0xc8)[_0x4caf9d(0x805)](_0x3e4fbb);})[_0x5d1958(0x6d9)](this[_0x5d1958(0x204)](_0x5d1958(0x817)),..._0x39a401,async(_0x2d37c9,_0x39397c)=>{const _0x294c17=_0x5d1958;let _0x5ab125=await this[_0x294c17(0x7c4)]({'request':_0x2d37c9,'schema':Xa,'ClassRef':We,'execute':(_0x4e2b6a,_0x586fe9)=>D[_0x294c17(0x817)](_0x4e2b6a,_0x586fe9)});return _0x39397c[_0x294c17(0x60a)](0xc8)[_0x294c17(0x805)](_0x5ab125);})['post'](this[_0x5d1958(0x204)](_0x5d1958(0x753)),..._0x39a401,async(_0x32b65b,_0x602f74)=>{const _0x352ecc=_0x5d1958;let _0x2d416f=await this['dataValidate']({'request':_0x32b65b,'schema':Za,'ClassRef':ze,'execute':(_0x38f8bb,_0x38c789)=>D[_0x352ecc(0x753)](_0x38f8bb,_0x38c789)});return _0x602f74['status'](0xc8)[_0x352ecc(0x805)](_0x2d416f);})[_0x5d1958(0x486)](this['routerPath']('updateProfilePicture'),..._0x39a401,async(_0x4745f4,_0x1d4b66)=>{const _0x434a6e=_0x5d1958;let _0x2b21e3=await this[_0x434a6e(0x7c4)]({'request':_0x4745f4,'schema':Ce,'ClassRef':we,'execute':(_0x3ac7f8,_0x2e5aab)=>D[_0x434a6e(0x7c7)](_0x3ac7f8,_0x2e5aab)});return _0x1d4b66[_0x434a6e(0x60a)](0xc8)[_0x434a6e(0x805)](_0x2b21e3);})[_0x5d1958(0x439)](this[_0x5d1958(0x204)]('removeProfilePicture'),..._0x39a401,async(_0x217da2,_0x123dc3)=>{const _0x226610=_0x5d1958;let _0x4d5348=await this['dataValidate']({'request':_0x217da2,'schema':Ce,'ClassRef':we,'execute':(_0x37353d,_0x466b6a)=>D[_0x226610(0x2c8)](_0x37353d,_0x466b6a)});return _0x123dc3[_0x226610(0x60a)](0xc8)[_0x226610(0x805)](_0x4d5348);});}},hr=require(a0_0x15f0ef(0x4d0)),ot=class{},it=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},ve=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0xcaa3ad){const _0x5be50c=a0_0x15f0ef;super(),this[_0x5be50c(0x48d)]=(0x0,hr[_0x5be50c(0x344)])(),this['router'][_0x5be50c(0x6d9)](this[_0x5be50c(0x204)](_0x5be50c(0x3ad)),..._0xcaa3ad,async(_0x40c6aa,_0x33308d)=>{const _0x175a8d=_0x5be50c;let _0x418805=await this[_0x175a8d(0x7c4)]({'request':_0x40c6aa,'schema':ar,'ClassRef':ot,'execute':(_0xa393f9,_0x49efb0)=>q[_0x175a8d(0x277)](_0xa393f9,_0x49efb0)});_0x33308d['status'](0xc9)['json'](_0x418805);})[_0x5be50c(0x486)](this[_0x5be50c(0x204)](_0x5be50c(0x262)),..._0xcaa3ad,async(_0x1a471a,_0x310818)=>{const _0x1c5dc1=_0x5be50c;let _0xe948e6=await this[_0x1c5dc1(0x54c)]({'request':_0x1a471a,'schema':ir,'ClassRef':it,'execute':(_0x577b45,_0x57afe2)=>q[_0x1c5dc1(0x262)](_0x577b45,_0x57afe2)});_0x310818[_0x1c5dc1(0x60a)](0xc9)[_0x1c5dc1(0x805)](_0xe948e6);})[_0x5be50c(0x486)](this[_0x5be50c(0x204)](_0x5be50c(0x38e)),..._0xcaa3ad,async(_0x12dc1c,_0x202ed7)=>{const _0x2d823b=_0x5be50c;let _0x385926=await this[_0x2d823b(0x54c)]({'request':_0x12dc1c,'schema':nr,'ClassRef':nt,'execute':(_0x4c3247,_0x52f345)=>q[_0x2d823b(0x38e)](_0x4c3247,_0x52f345)});_0x202ed7[_0x2d823b(0x60a)](0xc9)[_0x2d823b(0x805)](_0x385926);})[_0x5be50c(0x486)](this[_0x5be50c(0x204)](_0x5be50c(0x389)),..._0xcaa3ad,async(_0x48f892,_0x14943f)=>{const _0x238134=_0x5be50c;let _0x5bbdc0=await this[_0x238134(0x54c)]({'request':_0x48f892,'schema':cr,'ClassRef':ct,'execute':(_0x491c54,_0x3def58)=>q[_0x238134(0x389)](_0x491c54,_0x3def58)});_0x14943f[_0x238134(0x60a)](0xc9)[_0x238134(0x805)](_0x5bbdc0);})['put'](this[_0x5be50c(0x204)](_0x5be50c(0x587)),..._0xcaa3ad,async(_0x223647,_0x3892fd)=>{const _0x121238=_0x5be50c;let _0x4f25d7=await this[_0x121238(0x54c)]({'request':_0x223647,'schema':ur,'ClassRef':ut,'execute':(_0x51c2d5,_0x7fe4f8)=>q['groupBetterSetting'](_0x51c2d5,_0x7fe4f8)});_0x3892fd[_0x121238(0x60a)](0xc9)[_0x121238(0x805)](_0x4f25d7);})[_0x5be50c(0x486)](this[_0x5be50c(0x204)](_0x5be50c(0x823)),..._0xcaa3ad,async(_0x5cfbdb,_0x1a0a07)=>{const _0xcb78e1=_0x5be50c;let _0x4d775f=await this[_0xcb78e1(0x54c)]({'request':_0x5cfbdb,'schema':lr,'ClassRef':lt,'execute':(_0x499473,_0x2649a5)=>q['groupSetting'](_0x499473,_0x2649a5)});_0x1a0a07[_0xcb78e1(0x60a)](0xc9)[_0xcb78e1(0x805)](_0x4d775f);})[_0x5be50c(0x486)](this[_0x5be50c(0x204)](_0x5be50c(0x872)),..._0xcaa3ad,async(_0xcdaa7e,_0x44fc1e)=>{const _0x3362b4=_0x5be50c;let _0x5ee38e=await this['groupValidate']({'request':_0xcdaa7e,'schema':or,'ClassRef':pt,'execute':(_0x3bdb83,_0x902361)=>q[_0x3362b4(0x872)](_0x3bdb83,_0x902361)});_0x44fc1e['status'](0xc9)[_0x3362b4(0x805)](_0x5ee38e);})[_0x5be50c(0x82b)](this[_0x5be50c(0x204)](_0x5be50c(0x4a2)),..._0xcaa3ad,async(_0x33c2af,_0x199b79)=>{const _0x1f2431=_0x5be50c;let _0x179711=await this[_0x1f2431(0x54c)]({'request':_0x33c2af,'schema':Ee,'ClassRef':X,'execute':(_0x11b8c4,_0x40de63)=>q['findGroupInfo'](_0x11b8c4,_0x40de63)});_0x199b79[_0x1f2431(0x60a)](0xc8)[_0x1f2431(0x805)](_0x179711);})[_0x5be50c(0x82b)](this[_0x5be50c(0x204)](_0x5be50c(0x5cb)),..._0xcaa3ad,async(_0x548efa,_0x2fd32f)=>{const _0x171b2c=_0x5be50c;let _0x131f59=await this[_0x171b2c(0x7c4)]({'request':_0x548efa,'schema':E,'ClassRef':S,'execute':_0x643b0e=>q[_0x171b2c(0x5cb)](_0x643b0e)});_0x2fd32f[_0x171b2c(0x60a)](0xc8)[_0x171b2c(0x805)](_0x131f59);})[_0x5be50c(0x82b)](this[_0x5be50c(0x204)](_0x5be50c(0x3e1)),..._0xcaa3ad,async(_0x3992e1,_0x3edc69)=>{const _0x1d7932=_0x5be50c;let _0x3977f1=await this[_0x1d7932(0x54c)]({'request':_0x3992e1,'schema':Ee,'ClassRef':X,'execute':(_0x14390f,_0x2d2cac)=>q[_0x1d7932(0x4ac)](_0x14390f,_0x2d2cac)});_0x3edc69[_0x1d7932(0x60a)](0xc8)[_0x1d7932(0x805)](_0x3977f1);})[_0x5be50c(0x82b)](this[_0x5be50c(0x204)](_0x5be50c(0x7d9)),..._0xcaa3ad,async(_0x5b4e95,_0x5a2b44)=>{const _0x1eb4a9=_0x5be50c;let _0x38b468=await this['groupValidate']({'request':_0x5b4e95,'schema':Ee,'ClassRef':X,'execute':(_0x1dbeff,_0x330ba1)=>q[_0x1eb4a9(0x7d9)](_0x1dbeff,_0x330ba1)});_0x5a2b44[_0x1eb4a9(0x60a)](0xc8)[_0x1eb4a9(0x805)](_0x38b468);})[_0x5be50c(0x6d9)](this[_0x5be50c(0x204)]('inviteCodeDetails'),..._0xcaa3ad,async(_0xf3ada0,_0x56a655)=>{const _0x439f7e=_0x5be50c;let _0x5f1aee=await this[_0x439f7e(0x24a)]({'request':_0xf3ada0,'schema':Ss,'ClassRef':ve,'execute':(_0x3dd952,_0x1ba508)=>q['groupGetInviteInfo'](_0x3dd952,_0x1ba508)});_0x56a655[_0x439f7e(0x60a)](0xc9)['json'](_0x5f1aee);})[_0x5be50c(0x486)](this[_0x5be50c(0x204)]('joinGroup'),..._0xcaa3ad,async(_0x19d78e,_0xa12b2)=>{const _0x44b9ec=_0x5be50c;let _0x1e4abe=await this[_0x44b9ec(0x24a)]({'request':_0x19d78e,'schema':Ss,'ClassRef':ve,'execute':(_0xaf905,_0x334a67)=>q[_0x44b9ec(0x38c)](_0xaf905,_0x334a67)});_0xa12b2[_0x44b9ec(0x60a)](0xc9)[_0x44b9ec(0x805)](_0x1e4abe);})[_0x5be50c(0x486)](this[_0x5be50c(0x204)](_0x5be50c(0x42f)),..._0xcaa3ad,async(_0x5a591b,_0x3a0130)=>{const _0x5646d4=_0x5be50c;let _0x1d5966=await this[_0x5646d4(0x54c)]({'request':_0x5a591b,'schema':Ee,'ClassRef':X,'execute':(_0x14531c,_0x359a18)=>q[_0x5646d4(0x42f)](_0x14531c,_0x359a18)});_0x3a0130[_0x5646d4(0x60a)](0xc9)[_0x5646d4(0x805)](_0x1d5966);})[_0x5be50c(0x486)](this[_0x5be50c(0x204)]('updateParticipant'),..._0xcaa3ad,async(_0x49b3e6,_0x1028ce)=>{const _0x511ec4=_0x5be50c;let _0x7707ef=await this[_0x511ec4(0x54c)]({'request':_0x49b3e6,'schema':rr,'ClassRef':dt,'execute':(_0x5a96bc,_0x39b741)=>q[_0x511ec4(0x298)](_0x5a96bc,_0x39b741)});_0x1028ce[_0x511ec4(0x60a)](0xc9)[_0x511ec4(0x805)](_0x7707ef);})[_0x5be50c(0x439)](this[_0x5be50c(0x204)](_0x5be50c(0x1eb)),..._0xcaa3ad,async(_0x289a75,_0x4e0429)=>{const _0x2dc1c5=_0x5be50c;let _0x1f29dc=await this[_0x2dc1c5(0x54c)]({'request':_0x289a75,'schema':{},'ClassRef':X,'execute':(_0x1ef7d4,_0x513dbb)=>q[_0x2dc1c5(0x1eb)](_0x1ef7d4,_0x513dbb)});_0x4e0429[_0x2dc1c5(0x60a)](0xc8)['json'](_0x1f29dc);});}},gr=require(a0_0x15f0ef(0x4d0)),gt=class extends V{constructor(_0x4477a7,..._0x1f449a){const _0x3e5e9f=a0_0x15f0ef;super(),this[_0x3e5e9f(0x484)]=_0x4477a7,this[_0x3e5e9f(0x48d)]=(0x0,gr[_0x3e5e9f(0x344)])();let _0x2b7c4b=_0x4477a7[_0x3e5e9f(0x82b)](_0x3e5e9f(0x4ed));this[_0x3e5e9f(0x48d)][_0x3e5e9f(0x6d9)](_0x3e5e9f(0x4d5),..._0x1f449a,async(_0x4be198,_0x582530)=>{const _0x336e24=_0x3e5e9f;let {instanceName:_0x1955e0,apikey:_0x524c3b,number:_0x57ac30}=_0x4be198[_0x336e24(0x779)],_0x4b74e4=await ie[_0x336e24(0x260)]({'instanceName':_0x1955e0,'apikey':_0x524c3b,'number':_0x57ac30});return _0x582530[_0x336e24(0x60a)](0xc9)[_0x336e24(0x805)](_0x4b74e4);})[_0x3e5e9f(0x486)](this[_0x3e5e9f(0x204)](_0x3e5e9f(0x309)),..._0x1f449a,async(_0x85662a,_0x27f987)=>{const _0x4b14ca=_0x3e5e9f;let _0x4c427d=await this[_0x4b14ca(0x7c4)]({'request':_0x85662a,'schema':E,'ClassRef':S,'execute':_0x16840c=>ie[_0x4b14ca(0x666)](_0x16840c)});return _0x27f987['status'](0xc8)['json'](_0x4c427d);})['get'](this[_0x3e5e9f(0x204)](_0x3e5e9f(0x6f5)),..._0x1f449a,async(_0x54d45f,_0x4b4acb)=>{const _0x3e5230=_0x3e5e9f;let _0x1ce979=await this[_0x3e5230(0x7c4)]({'request':_0x54d45f,'schema':E,'ClassRef':S,'execute':_0x41f719=>ie[_0x3e5230(0x51e)](_0x41f719)});return _0x4b4acb[_0x3e5230(0x60a)](0xc8)['json'](_0x1ce979);})[_0x3e5e9f(0x82b)](this['routerPath'](_0x3e5e9f(0x7ed)),..._0x1f449a,async(_0x37d856,_0x20820f)=>{const _0x1d10d2=_0x3e5e9f;let _0x34dd13=await this[_0x1d10d2(0x7c4)]({'request':_0x37d856,'schema':E,'ClassRef':S,'execute':_0x2899b2=>ie[_0x1d10d2(0x7ed)](_0x2899b2)});return _0x20820f[_0x1d10d2(0x60a)](0xc8)[_0x1d10d2(0x805)](_0x34dd13);})[_0x3e5e9f(0x82b)](this[_0x3e5e9f(0x204)](_0x3e5e9f(0x2fb),!0x1),..._0x1f449a,async(_0x105235,_0x351f71)=>{const _0x2d538c=_0x3e5e9f;let _0x1c1b1e=await this['dataValidate']({'request':_0x105235,'schema':null,'ClassRef':S,'execute':_0x2e4505=>ie['fetchInstances'](_0x2e4505)});return _0x351f71['status'](0xc8)[_0x2d538c(0x805)](_0x1c1b1e);})[_0x3e5e9f(0x439)](this[_0x3e5e9f(0x204)](_0x3e5e9f(0x372)),..._0x1f449a,async(_0x1da9c2,_0x39b8de)=>{const _0x293add=_0x3e5e9f;let _0x42a9e3=await this['dataValidate']({'request':_0x1da9c2,'schema':E,'ClassRef':S,'execute':_0x32bdee=>ie[_0x293add(0x372)](_0x32bdee)});return _0x39b8de[_0x293add(0x60a)](0xc8)[_0x293add(0x805)](_0x42a9e3);})[_0x3e5e9f(0x439)](this[_0x3e5e9f(0x204)](_0x3e5e9f(0x439)),..._0x1f449a,async(_0x28edf2,_0x50813d)=>{const _0x18cb39=_0x3e5e9f;let _0x415687=await this[_0x18cb39(0x7c4)]({'request':_0x28edf2,'schema':E,'ClassRef':S,'execute':_0x2037e3=>ie['deleteInstance'](_0x2037e3)});return _0x50813d['status'](0xc8)[_0x18cb39(0x805)](_0x415687);});}},mr=require(a0_0x15f0ef(0x4d0)),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Ne=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x5b816f){const _0x1e840d=a0_0x15f0ef;super(),this['router']=(0x0,mr[_0x1e840d(0x344)])(),this[_0x1e840d(0x48d)][_0x1e840d(0x6d9)](this['routerPath']('sendText'),..._0x5b816f,async(_0x3904e9,_0x3e295a)=>{const _0x379089=_0x1e840d;let _0x28c9ae=await this['dataValidate']({'request':_0x3904e9,'schema':Da,'ClassRef':mt,'execute':(_0xd1bf4c,_0x59c1db)=>G[_0x379089(0x4a3)](_0xd1bf4c,_0x59c1db)});return _0x3e295a[_0x379089(0x60a)](0xc9)[_0x379089(0x805)](_0x28c9ae);})['post'](this['routerPath'](_0x1e840d(0x2b9)),..._0x5b816f,async(_0x127d99,_0x44e392)=>{const _0x150527=_0x1e840d;let _0x3345f1=await this['dataValidate']({'request':_0x127d99,'schema':La,'ClassRef':Ne,'execute':(_0x388341,_0x351979)=>G[_0x150527(0x2b9)](_0x388341,_0x351979)});return _0x44e392[_0x150527(0x60a)](0xc9)[_0x150527(0x805)](_0x3345f1);})[_0x1e840d(0x6d9)](this[_0x1e840d(0x204)](_0x1e840d(0x6bd)),..._0x5b816f,async(_0x59358c,_0x2ef1e7)=>{const _0x1be72b=_0x1e840d;let _0xb875f5=await this[_0x1be72b(0x7c4)]({'request':_0x59358c,'schema':Ua,'ClassRef':yt,'execute':(_0x4e159f,_0x41e8f8)=>G[_0x1be72b(0x6bd)](_0x4e159f,_0x41e8f8)});return _0x2ef1e7[_0x1be72b(0x60a)](0xc9)[_0x1be72b(0x805)](_0xb875f5);})[_0x1e840d(0x6d9)](this['routerPath'](_0x1e840d(0x531)),..._0x5b816f,async(_0x19a4e8,_0x32c7a4)=>{const _0x4941ba=_0x1e840d;let _0x322ce6=await this[_0x4941ba(0x7c4)]({'request':_0x19a4e8,'schema':ja,'ClassRef':Ne,'execute':(_0x5c3ae0,_0x592d05)=>G[_0x4941ba(0x531)](_0x5c3ae0,_0x592d05)});return _0x32c7a4[_0x4941ba(0x60a)](0xc9)[_0x4941ba(0x805)](_0x322ce6);})[_0x1e840d(0x6d9)](this[_0x1e840d(0x204)]('sendButtons'),..._0x5b816f,async(_0xcdc5c4,_0x4cf6e2)=>{const _0x4ec79d=_0x1e840d;let _0x3e84a6=await this[_0x4ec79d(0x7c4)]({'request':_0xcdc5c4,'schema':Ja,'ClassRef':St,'execute':(_0x571bf9,_0x1d1870)=>G[_0x4ec79d(0x3dd)](_0x571bf9,_0x1d1870)});return _0x4cf6e2[_0x4ec79d(0x60a)](0xc9)[_0x4ec79d(0x805)](_0x3e84a6);})[_0x1e840d(0x6d9)](this[_0x1e840d(0x204)](_0x1e840d(0x4e4)),..._0x5b816f,async(_0x1f69fd,_0xd8c821)=>{const _0x1cc292=_0x1e840d;let _0x177c57=await this[_0x1cc292(0x7c4)]({'request':_0x1f69fd,'schema':qa,'ClassRef':Mt,'execute':(_0x3d88f0,_0x4d98c8)=>G[_0x1cc292(0x4e4)](_0x3d88f0,_0x4d98c8)});return _0xd8c821[_0x1cc292(0x60a)](0xc9)['json'](_0x177c57);})['post'](this[_0x1e840d(0x204)](_0x1e840d(0x2fc)),..._0x5b816f,async(_0x539672,_0x4ac171)=>{const _0x2f7744=_0x1e840d;let _0x371af5=await this['dataValidate']({'request':_0x539672,'schema':Va,'ClassRef':Ct,'execute':(_0x8bd645,_0x3a55f4)=>G[_0x2f7744(0x2fc)](_0x8bd645,_0x3a55f4)});return _0x4ac171[_0x2f7744(0x60a)](0xc9)[_0x2f7744(0x805)](_0x371af5);})[_0x1e840d(0x6d9)](this[_0x1e840d(0x204)]('sendContact'),..._0x5b816f,async(_0x1c038d,_0x1658f0)=>{const _0x5dd0d9=_0x1e840d;let _0x3150da=await this[_0x5dd0d9(0x7c4)]({'request':_0x1c038d,'schema':Ba,'ClassRef':Et,'execute':(_0x4e7678,_0x444eae)=>G[_0x5dd0d9(0x1fe)](_0x4e7678,_0x444eae)});return _0x1658f0[_0x5dd0d9(0x60a)](0xc9)['json'](_0x3150da);})[_0x1e840d(0x6d9)](this[_0x1e840d(0x204)]('sendReaction'),..._0x5b816f,async(_0x543cfd,_0x105c9f)=>{const _0x55128b=_0x1e840d;let _0x67738=await this['dataValidate']({'request':_0x543cfd,'schema':Ga,'ClassRef':vt,'execute':(_0x7ebfe4,_0x4dca02)=>G[_0x55128b(0x200)](_0x7ebfe4,_0x4dca02)});return _0x105c9f[_0x55128b(0x60a)](0xc9)[_0x55128b(0x805)](_0x67738);})[_0x1e840d(0x6d9)](this['routerPath'](_0x1e840d(0x51a)),..._0x5b816f,async(_0x3dfecb,_0x496c84)=>{const _0x42b209=_0x1e840d;let _0x25a47b=await this[_0x42b209(0x7c4)]({'request':_0x3dfecb,'schema':Fa,'ClassRef':wt,'execute':(_0x105b63,_0x2a681d)=>G[_0x42b209(0x51a)](_0x105b63,_0x2a681d)});return _0x496c84[_0x42b209(0x60a)](0xc9)[_0x42b209(0x805)](_0x25a47b);})[_0x1e840d(0x6d9)](this[_0x1e840d(0x204)](_0x1e840d(0x431)),..._0x5b816f,async(_0x42f458,_0x12e1b3)=>{const _0xaf4355=_0x1e840d;let _0x4e4fd2=await this['dataValidate']({'request':_0x42f458,'schema':ka,'ClassRef':ft,'execute':(_0x3c6817,_0x362c0d)=>G['sendStatus'](_0x3c6817,_0x362c0d)});return _0x12e1b3['status'](0xc9)[_0xaf4355(0x805)](_0x4e4fd2);})['post'](this[_0x1e840d(0x204)](_0x1e840d(0x830)),..._0x5b816f,async(_0x428d99,_0x57a851)=>{const _0x581d51=_0x1e840d;let _0x4ad85a=await this[_0x581d51(0x7c4)]({'request':_0x428d99,'schema':Pa,'ClassRef':bt,'execute':(_0x2a9265,_0x4cfc16)=>G[_0x581d51(0x830)](_0x2a9265,_0x4cfc16)});return _0x57a851[_0x581d51(0x60a)](0xc9)[_0x581d51(0x805)](_0x4ad85a);});}},fr=require(a0_0x15f0ef(0x4d0)),Rt=class{},Ot=class extends V{constructor(..._0x3105dd){const _0x212289=a0_0x15f0ef;super(),this['router']=(0x0,fr[_0x212289(0x344)])(),this[_0x212289(0x48d)][_0x212289(0x6d9)](this[_0x212289(0x204)](_0x212289(0x282)),..._0x3105dd,async(_0x1464cf,_0x4d63b1)=>{const _0xaffea=_0x212289;let _0x2c2f04=await this[_0xaffea(0x7c4)]({'request':_0x1464cf,'schema':dr,'ClassRef':Rt,'execute':(_0x4ff29f,_0x56b720)=>Es[_0xaffea(0x463)](_0x4ff29f,_0x56b720)});_0x4d63b1[_0xaffea(0x60a)](0xc9)[_0xaffea(0x805)](_0x2c2f04);})[_0x212289(0x82b)](this['routerPath'](_0x212289(0x585)),..._0x3105dd,async(_0x47829d,_0x548cf2)=>{const _0x4026ee=_0x212289;let _0x1d7819=await this['dataValidate']({'request':_0x47829d,'schema':E,'ClassRef':S,'execute':_0x2fce27=>Es[_0x4026ee(0x599)](_0x2fce27)});_0x548cf2[_0x4026ee(0x60a)](0xc8)['json'](_0x1d7819);});}},wr=require('express'),y=new N(a0_0x15f0ef(0x3b3)),Tt=class extends V{constructor(..._0x5acb86){const _0x4ca6c5=a0_0x15f0ef;super(),this[_0x4ca6c5(0x48d)]=(0x0,wr[_0x4ca6c5(0x344)])(),this['router'][_0x4ca6c5(0x6d9)](this['routerPath'](_0x4ca6c5(0x63e)),..._0x5acb86,async(_0x282f3f,_0x1c8cb6)=>{const _0x582d02=_0x4ca6c5;let _0x5773ac=_0x282f3f['body'];y['verbose'](_0x582d02(0x49b)),y['verbose'](_0x582d02(0x7e4)),y[_0x582d02(0x636)](_0x282f3f[_0x582d02(0x779)]);let _0x4f78cf=await this[_0x582d02(0x7c4)]({'request':_0x282f3f,'schema':E,'ClassRef':S,'execute':_0x588f45=>I[_0x582d02(0x7d5)](_0x588f45,_0x5773ac)});_0x1c8cb6['status'](0xc8)['json'](_0x4f78cf);})['get'](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x63e)),..._0x5acb86,async(_0x4f8ba3,_0x3c0dfa)=>{const _0x41ca60=_0x4ca6c5;let _0x3e0f54=await this[_0x41ca60(0x7c4)]({'request':_0x4f8ba3,'schema':E,'ClassRef':S,'execute':_0x143d7c=>I[_0x41ca60(0x3a1)](_0x143d7c)});_0x3c0dfa[_0x41ca60(0x60a)](0xc8)[_0x41ca60(0x805)](_0x3e0f54);})[_0x4ca6c5(0x439)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x772)),..._0x5acb86,async(_0x3c3195,_0x3caa51)=>{const _0x47c1b8=_0x4ca6c5;y[_0x47c1b8(0x636)](_0x47c1b8(0x7ff));let _0x2f5d3a=await this[_0x47c1b8(0x7c4)]({'request':_0x3c3195,'schema':E,'ClassRef':S,'execute':_0x366016=>I[_0x47c1b8(0x772)](_0x366016)});_0x3caa51[_0x47c1b8(0x60a)](0xc8)['json'](_0x2f5d3a);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x528)),..._0x5acb86,async(_0x141354,_0xe6b6cd)=>{const _0x1cdd10=_0x4ca6c5;let _0x58c591=_0x141354[_0x1cdd10(0x779)];y[_0x1cdd10(0x636)]('request\x20received\x20in\x20starFlow'),y[_0x1cdd10(0x636)](_0x1cdd10(0x7e4)),y[_0x1cdd10(0x636)](_0x141354['body']);let _0x1d3994=await this[_0x1cdd10(0x7c4)]({'request':_0x141354,'schema':E,'ClassRef':S,'execute':_0x21ba17=>I['startFlow'](_0x21ba17,_0x58c591)});_0xe6b6cd['status'](0xc8)[_0x1cdd10(0x805)](_0x1d3994);})[_0x4ca6c5(0x82b)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x525)),..._0x5acb86,async(_0x38230c,_0x19300c)=>{const _0x245fb5=_0x4ca6c5;y[_0x245fb5(0x636)]('request\x20received\x20in\x20getAutomateSystem');let _0x3cab19=await this[_0x245fb5(0x7c4)]({'request':_0x38230c,'schema':E,'ClassRef':S,'execute':_0x245cec=>I['getAutomateSystem'](_0x245cec)});_0x19300c['status'](0xc8)[_0x245fb5(0x805)](_0x3cab19);})[_0x4ca6c5(0x82b)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x388)),..._0x5acb86,async(_0x5465e7,_0x5f30bd)=>{const _0x5162cf=_0x4ca6c5;y[_0x5162cf(0x636)](_0x5162cf(0x74f));let _0x33ab8b=await this[_0x5162cf(0x7c4)]({'request':_0x5465e7,'schema':E,'ClassRef':S,'execute':_0x590ff3=>I['getAutomateSystem'](_0x590ff3)});_0x5f30bd['status'](0xc8)[_0x5162cf(0x805)](_0x33ab8b);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)]('updateAgent'),..._0x5acb86,async(_0x1cf6cc,_0x1c6cb0)=>{const _0x1a97ba=_0x4ca6c5;let _0x7782a9=_0x1cf6cc['body'];y['verbose'](_0x1a97ba(0x1db)),y['verbose'](_0x1a97ba(0x7e4)),y[_0x1a97ba(0x636)](_0x1cf6cc[_0x1a97ba(0x779)]);let _0x3ca865=await this[_0x1a97ba(0x7c4)]({'request':_0x1cf6cc,'schema':E,'ClassRef':S,'execute':_0x59fb5c=>I[_0x1a97ba(0x557)](_0x59fb5c,_0x7782a9)});_0x1c6cb0[_0x1a97ba(0x60a)](0xc8)['json'](_0x3ca865);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x445)),..._0x5acb86,async(_0x103a6d,_0x4ef31e)=>{const _0x16bdff=_0x4ca6c5;let _0x4987b4=_0x103a6d['body'];y[_0x16bdff(0x636)](_0x16bdff(0x306)),y[_0x16bdff(0x636)](_0x16bdff(0x7e4)),y['verbose'](_0x103a6d['body']);let _0x116159=await this[_0x16bdff(0x7c4)]({'request':_0x103a6d,'schema':E,'ClassRef':S,'execute':_0x1d4262=>I[_0x16bdff(0x445)](_0x1d4262,_0x4987b4)});_0x4ef31e[_0x16bdff(0x60a)](0xc8)[_0x16bdff(0x805)](_0x116159);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x377)),..._0x5acb86,async(_0xb38faf,_0x47754d)=>{const _0xb44f4b=_0x4ca6c5;let _0x41766c=_0xb38faf[_0xb44f4b(0x779)];y[_0xb44f4b(0x636)]('request\x20received\x20in\x20updateFlowConfig'),y[_0xb44f4b(0x636)](_0xb44f4b(0x7e4)),y[_0xb44f4b(0x636)](_0xb38faf['body']);let _0x3ab8df=await this[_0xb44f4b(0x7c4)]({'request':_0xb38faf,'schema':E,'ClassRef':S,'execute':_0x9db7a7=>I['updateFlowConfig'](_0x9db7a7,_0x41766c)});_0x47754d[_0xb44f4b(0x60a)](0xc8)['json'](_0x3ab8df);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x4ee)),..._0x5acb86,async(_0x5b067b,_0x294def)=>{const _0x25dca0=_0x4ca6c5;let _0xbeb958=_0x5b067b[_0x25dca0(0x779)];y[_0x25dca0(0x636)]('request\x20received\x20in\x20getConversation'),y[_0x25dca0(0x636)]('request\x20body:\x20'),y[_0x25dca0(0x636)](_0x5b067b[_0x25dca0(0x779)]);let _0x1145e5=await this['dataValidate']({'request':_0x5b067b,'schema':E,'ClassRef':S,'execute':_0x5044b6=>I[_0x25dca0(0x4ee)](_0x5044b6,_0xbeb958)});_0x294def[_0x25dca0(0x60a)](0xc8)[_0x25dca0(0x805)](_0x1145e5);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x6a5)),..._0x5acb86,async(_0x1967e3,_0x50e7ed)=>{const _0x591146=_0x4ca6c5;let _0x2bb489=_0x1967e3[_0x591146(0x779)];y['verbose'](_0x591146(0x4aa)),y[_0x591146(0x636)](_0x591146(0x7e4)),y[_0x591146(0x636)](_0x1967e3[_0x591146(0x779)]);let _0x46347c=await this[_0x591146(0x7c4)]({'request':_0x1967e3,'schema':E,'ClassRef':S,'execute':_0x10e031=>I[_0x591146(0x6a5)](_0x10e031,_0x2bb489)});_0x50e7ed[_0x591146(0x60a)](0xc8)[_0x591146(0x805)](_0x46347c);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x254)),..._0x5acb86,async(_0xfcd3b5,_0x3a2d29)=>{const _0x1cedff=_0x4ca6c5;let _0xef9ba4=_0xfcd3b5[_0x1cedff(0x779)];y[_0x1cedff(0x636)](_0x1cedff(0x460)),y[_0x1cedff(0x636)](_0x1cedff(0x7e4)),y[_0x1cedff(0x636)](_0xfcd3b5[_0x1cedff(0x779)]);let _0x40dccf=await this[_0x1cedff(0x7c4)]({'request':_0xfcd3b5,'schema':E,'ClassRef':S,'execute':_0x1cf1a6=>I[_0x1cedff(0x254)](_0x1cf1a6,_0xef9ba4)});_0x3a2d29[_0x1cedff(0x60a)](0xc8)[_0x1cedff(0x805)](_0x40dccf);})['delete'](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x883)),..._0x5acb86,async(_0x24cab3,_0x275fe8)=>{const _0x21e75c=_0x4ca6c5;let _0x11e395=_0x24cab3[_0x21e75c(0x779)];y[_0x21e75c(0x636)](_0x21e75c(0x206)),y['verbose'](_0x21e75c(0x7e4)),y[_0x21e75c(0x636)](_0x24cab3[_0x21e75c(0x779)]);let _0x3f6fa1=await this[_0x21e75c(0x7c4)]({'request':_0x24cab3,'schema':E,'ClassRef':S,'execute':_0x3d9c81=>I[_0x21e75c(0x883)](_0x3d9c81,_0x11e395)});_0x275fe8[_0x21e75c(0x60a)](0xc8)[_0x21e75c(0x805)](_0x3f6fa1);})[_0x4ca6c5(0x6d9)](this['routerPath'](_0x4ca6c5(0x532)),..._0x5acb86,async(_0x29724c,_0x433235)=>{const _0x777af4=_0x4ca6c5;let _0x154fa2=_0x29724c[_0x777af4(0x779)];y[_0x777af4(0x636)](_0x777af4(0x2eb)),y['verbose']('request\x20body:\x20'),y[_0x777af4(0x636)](_0x29724c['body']);let _0x4dec01=await this[_0x777af4(0x7c4)]({'request':_0x29724c,'schema':E,'ClassRef':S,'execute':_0x4fff03=>I[_0x777af4(0x46b)](_0x4fff03,_0x154fa2)});_0x433235['status'](0xc8)[_0x777af4(0x805)](_0x4dec01);})['post'](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x864)),..._0x5acb86,async(_0x42da38,_0x4f27cd)=>{const _0x385a4b=_0x4ca6c5;let _0x257d31=_0x42da38[_0x385a4b(0x779)];y[_0x385a4b(0x636)](_0x385a4b(0x233)),y[_0x385a4b(0x636)](_0x385a4b(0x7e4)),y[_0x385a4b(0x636)](_0x42da38[_0x385a4b(0x779)]),delete _0x257d31[_0x385a4b(0x74e)],delete _0x257d31[_0x385a4b(0x798)],delete _0x257d31[_0x385a4b(0x392)],delete _0x257d31[_0x385a4b(0x457)];let _0x1a9167=await this['dataValidate']({'request':_0x42da38,'schema':E,'ClassRef':S,'execute':_0x1555dc=>I[_0x385a4b(0x5d8)](_0x1555dc,_0x257d31)});_0x4f27cd[_0x385a4b(0x60a)](0xc8)[_0x385a4b(0x805)](_0x1a9167);})['post'](this[_0x4ca6c5(0x204)]('editflowblock'),..._0x5acb86,async(_0xa7a7be,_0x24e97)=>{const _0x36c589=_0x4ca6c5;let _0x37e487=_0xa7a7be[_0x36c589(0x779)];y[_0x36c589(0x636)](_0x36c589(0x233)),y[_0x36c589(0x636)](_0x36c589(0x7e4)),y[_0x36c589(0x636)](_0xa7a7be['body']);let _0x1244f7=await this['dataValidate']({'request':_0xa7a7be,'schema':E,'ClassRef':S,'execute':_0x34ace1=>I[_0x36c589(0x5a4)](_0x34ace1,_0x37e487)});_0x24e97[_0x36c589(0x60a)](0xc8)[_0x36c589(0x805)](_0x1244f7);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x5b3)),..._0x5acb86,async(_0x4bff31,_0x3a1b78)=>{const _0x326a97=_0x4ca6c5;let _0x465fa7=_0x4bff31[_0x326a97(0x779)];y[_0x326a97(0x636)](_0x326a97(0x233)),y['verbose'](_0x326a97(0x7e4)),y[_0x326a97(0x636)](_0x4bff31[_0x326a97(0x779)]);let _0x37c551=await this[_0x326a97(0x7c4)]({'request':_0x4bff31,'schema':E,'ClassRef':S,'execute':_0x1f5014=>I[_0x326a97(0x1e7)](_0x1f5014,_0x465fa7)});_0x3a1b78[_0x326a97(0x60a)](0xc8)[_0x326a97(0x805)](_0x37c551);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)]('editflowvaredit'),..._0x5acb86,async(_0x3b8ac9,_0x3339da)=>{const _0x39ba8f=_0x4ca6c5;let _0x23c820=_0x3b8ac9['body'];y[_0x39ba8f(0x636)](_0x39ba8f(0x233)),y['verbose'](_0x39ba8f(0x7e4)),y[_0x39ba8f(0x636)](_0x3b8ac9['body']);let _0x357437=await this[_0x39ba8f(0x7c4)]({'request':_0x3b8ac9,'schema':E,'ClassRef':S,'execute':_0x54b8c1=>I[_0x39ba8f(0x5fc)](_0x54b8c1,_0x23c820)});_0x3339da[_0x39ba8f(0x60a)](0xc8)['json'](_0x357437);})[_0x4ca6c5(0x6d9)](this['routerPath']('editflowgroup'),..._0x5acb86,async(_0x2182b8,_0x4018f8)=>{const _0x35d5c8=_0x4ca6c5;let _0x344652=_0x2182b8['body'];y[_0x35d5c8(0x636)](_0x35d5c8(0x3cf)),y[_0x35d5c8(0x636)](_0x35d5c8(0x7e4)),y['verbose'](_0x2182b8[_0x35d5c8(0x779)]);let _0x21d771=await this[_0x35d5c8(0x7c4)]({'request':_0x2182b8,'schema':E,'ClassRef':S,'execute':_0x5c5ab9=>I['editFlowGroup'](_0x5c5ab9,_0x344652)});_0x4018f8[_0x35d5c8(0x60a)](0xc8)[_0x35d5c8(0x805)](_0x21d771);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x813)),..._0x5acb86,async(_0x5329f5,_0x32bbe9)=>{const _0x8a17a3=_0x4ca6c5;let _0xf32c9d=_0x5329f5[_0x8a17a3(0x779)];y[_0x8a17a3(0x636)](_0x8a17a3(0x4c6)),y[_0x8a17a3(0x636)]('request\x20body:\x20'),y[_0x8a17a3(0x636)](_0x5329f5['body']);let _0xccd1d9=await this[_0x8a17a3(0x7c4)]({'request':_0x5329f5,'schema':E,'ClassRef':S,'execute':_0x16c6f9=>I['editFlowCondition'](_0x16c6f9,_0xf32c9d)});_0x32bbe9['status'](0xc8)[_0x8a17a3(0x805)](_0xccd1d9);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x296)),..._0x5acb86,async(_0x114ac8,_0x14adba)=>{const _0x7fd896=_0x4ca6c5;let _0x518c01=_0x114ac8[_0x7fd896(0x779)];y['verbose'](_0x7fd896(0x655)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x114ac8[_0x7fd896(0x779)]);let _0x495fb3=await this['dataValidate']({'request':_0x114ac8,'schema':E,'ClassRef':S,'execute':_0xa46e73=>I[_0x7fd896(0x7c5)](_0xa46e73,_0x518c01)});_0x14adba[_0x7fd896(0x60a)](0xc8)[_0x7fd896(0x805)](_0x495fb3);})[_0x4ca6c5(0x6d9)](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x3b9)),..._0x5acb86,async(_0x1e50c2,_0x4b26cf)=>{const _0x10cedc=_0x4ca6c5;let _0x3bd36f=_0x1e50c2[_0x10cedc(0x779)];y[_0x10cedc(0x636)](_0x10cedc(0x62f)),y['verbose']('request\x20body:\x20'),y[_0x10cedc(0x636)](_0x1e50c2[_0x10cedc(0x779)]);let _0x2970a5=await this[_0x10cedc(0x7c4)]({'request':_0x1e50c2,'schema':E,'ClassRef':S,'execute':_0x2733d7=>I[_0x10cedc(0x2b8)](_0x2733d7,_0x3bd36f)});_0x4b26cf[_0x10cedc(0x60a)](0xc8)[_0x10cedc(0x805)](_0x2970a5);})[_0x4ca6c5(0x439)](this[_0x4ca6c5(0x204)]('deleteflow'),..._0x5acb86,async(_0x1d54d4,_0xe225a4)=>{const _0x19edaa=_0x4ca6c5;let _0x13554d=_0x1d54d4[_0x19edaa(0x779)];y[_0x19edaa(0x636)](_0x19edaa(0x216)),y['verbose'](_0x19edaa(0x7e4)),y[_0x19edaa(0x636)](_0x1d54d4['body']);let _0x3ffc82=await this['dataValidate']({'request':_0x1d54d4,'schema':E,'ClassRef':S,'execute':_0xb7f98a=>I[_0x19edaa(0x7f7)](_0xb7f98a,_0x13554d)});_0xe225a4[_0x19edaa(0x60a)](0xc8)[_0x19edaa(0x805)](_0x3ffc82);})['get'](this[_0x4ca6c5(0x204)](_0x4ca6c5(0x53a)),..._0x5acb86,async(_0x13df45,_0x6e44f1)=>{const _0x4f2fb8=_0x4ca6c5;y[_0x4f2fb8(0x636)](_0x4f2fb8(0x3d6));let _0x5ed669=await this['dataValidate']({'request':_0x13df45,'schema':E,'ClassRef':S,'execute':_0x1fc957=>I[_0x4f2fb8(0x518)](_0x1fc957)});_0x6e44f1[_0x4f2fb8(0x60a)](0xc8)[_0x4f2fb8(0x805)](_0x5ed669);});}},Mr=T(require(a0_0x15f0ef(0x707))),Z={};function yr(_0x32ea94,_0x12652c,_0x2445ae,_0x10fe8c){Z[_0x32ea94]||(Z[_0x32ea94]={}),Z[_0x32ea94][_0x12652c]={'id':_0x12652c,'response':_0x2445ae,'events':_0x10fe8c};}function br(_0x57ea97,_0x19e21d){!Z[_0x57ea97]||!Z[_0x57ea97][_0x19e21d]||delete Z[_0x57ea97][_0x19e21d];}function J(_0x4ec9b0,_0x6ed5f3,_0x2f192a){const _0x1fec12=a0_0x15f0ef;if(!Z[_0x4ec9b0])return;let _0x4464ce='data:\x20'+JSON['stringify'](_0x2f192a)+'\x0a\x0a';Object[_0x1fec12(0x2cb)](Z[_0x4ec9b0])[_0x1fec12(0x40e)](_0x1a24b7=>{const _0xfd6195=_0x1fec12;_0x1a24b7[_0xfd6195(0x58c)]['includes'](_0x6ed5f3)&&_0x1a24b7[_0xfd6195(0x266)]['write'](_0x4464ce);});}function Sr(){const _0x202f24=a0_0x15f0ef;let _0x5e37c5={};for(let _0x29e5b2 in Z)_0x5e37c5[_0x29e5b2]=Object[_0x202f24(0x2cb)](Z[_0x29e5b2])['map'](_0x56b1d2=>({'id':_0x56b1d2['id'],'events':_0x56b1d2['events']}));return _0x5e37c5;}var Cr=require(a0_0x15f0ef(0x6df)),Ns=require(a0_0x15f0ef(0x4d6)),vs=class{},So=new Ns[(a0_0x15f0ef(0x853))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Mo=new Ns[(a0_0x15f0ef(0x853))]({'_id':{'type':String,'default':a0_0x15f0ef(0x72a)},'WebhookGlobal':{'type':So},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=R?.['model'](vs[a0_0x15f0ef(0x2c9)],Mo,a0_0x15f0ef(0x39c)),Co=Mr[a0_0x15f0ef(0x6bb)][a0_0x15f0ef(0x224)](__dirname,a0_0x15f0ef(0x818)),At=(0x0,$t[a0_0x15f0ef(0x344)])(),Eo=b[a0_0x15f0ef(0x82b)](a0_0x15f0ef(0x4ed))[a0_0x15f0ef(0x3f8)],se=[Ta,$a,xa[Eo]];At[a0_0x15f0ef(0x261)](a0_0x15f0ef(0x3c5),$t[a0_0x15f0ef(0x6bb)]['static'](Co))['get']('/events/:instance',async(_0x49ae0f,_0x20c1b2)=>{const _0x57cbd0=a0_0x15f0ef;console['log'](_0x57cbd0(0x74d));let _0x158005=_0x49ae0f['params'][_0x57cbd0(0x30f)],_0x59e759=(_0x49ae0f[_0x57cbd0(0x2e5)][_0x57cbd0(0x58c)]||'')['split'](','),_0x1f9d48=(0x0,Cr['v4'])();console[_0x57cbd0(0x884)]('Instance\x20ID:',_0x158005),console['log'](_0x57cbd0(0x4f7),_0x59e759);let _0x431f2a=b['get'](_0x57cbd0(0x4ed))[_0x57cbd0(0x71f)],_0x1a28e6=_0x49ae0f['query']['apikey'];if(console['log'](_0x57cbd0(0x438),_0x1a28e6),_0x431f2a['KEY']!==_0x1a28e6){console[_0x57cbd0(0x884)](_0x57cbd0(0x458));try{let _0x4d08fc=await ue['auth'][_0x57cbd0(0x585)](_0x158005);if(console[_0x57cbd0(0x884)](_0x57cbd0(0x5dd),_0x4d08fc),!_0x4d08fc||_0x4d08fc[_0x57cbd0(0x6cb)]!==_0x1a28e6)return console['log'](_0x57cbd0(0x82f)),_0x20c1b2[_0x57cbd0(0x60a)](0x191)[_0x57cbd0(0x7fd)](_0x57cbd0(0x23e));}catch(_0x5817c0){return console[_0x57cbd0(0x790)](_0x57cbd0(0x749),_0x5817c0),_0x20c1b2[_0x57cbd0(0x60a)](0x191)[_0x57cbd0(0x7fd)](_0x57cbd0(0x4ea));}}if(!await Xe(_0x158005))return _0x20c1b2[_0x57cbd0(0x60a)](0x194)['send'](_0x57cbd0(0x1d3));_0x20c1b2[_0x57cbd0(0x76e)](_0x57cbd0(0x30c),'text/event-stream'),_0x20c1b2[_0x57cbd0(0x76e)](_0x57cbd0(0x3bb),_0x57cbd0(0x4c7)),_0x20c1b2[_0x57cbd0(0x76e)](_0x57cbd0(0x456),_0x57cbd0(0x385)),_0x20c1b2[_0x57cbd0(0x536)]();let _0x163c83=_0x57cbd0(0x880)+JSON[_0x57cbd0(0x7a3)]({'info':_0x57cbd0(0x7e9)})+'\x0a\x0a';_0x20c1b2[_0x57cbd0(0x6ec)](_0x163c83),yr(_0x158005,_0x1f9d48,_0x20c1b2,_0x59e759),_0x49ae0f['on'](_0x57cbd0(0x2e7),()=>{const _0x4f6d50=_0x57cbd0;console[_0x4f6d50(0x884)](_0x4f6d50(0x48f)+_0x158005),br(_0x158005,_0x1f9d48);});}),At[a0_0x15f0ef(0x82b)](a0_0x15f0ef(0x7f1),(_0x2b6555,_0x59ef4d)=>{let _0x49de6d=Sr();_0x59ef4d['json'](_0x49de6d);})[a0_0x15f0ef(0x82b)]('/',(_0x1cd1d5,_0x1b8483)=>{const _0x4d733e=a0_0x15f0ef;let _0x2bc79d=b[_0x4d733e(0x82b)](_0x4d733e(0x627))['URL'];if(_0x2bc79d){let _0x3f522f=encodeURIComponent(''+_0x2bc79d);_0x1b8483[_0x4d733e(0x6a7)](_0x4d733e(0x1e2)+_0x3f522f);return;}let _0x4152b4=b['get'](_0x4d733e(0x320)),_0x5192ef=_0x4152b4&&_0x4152b4[_0x4d733e(0x897)]['split']('/')[0x4];if(_0x5192ef){let _0x11fabf=encodeURIComponent(_0x4d733e(0x833)+_0x5192ef);_0x1b8483['redirect'](_0x4d733e(0x1e2)+_0x11fabf);}else _0x1b8483[_0x4d733e(0x6a7)](_0x4d733e(0x77f));})['put'](a0_0x15f0ef(0x3e3),...se,async(_0x45437c,_0x3bb39f)=>{const _0x2ff49b=a0_0x15f0ef;try{console[_0x2ff49b(0x884)](_0x2ff49b(0x539)),_0x3bb39f[_0x2ff49b(0x60a)](0xc8)[_0x2ff49b(0x805)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x3bb39f['on'](_0x2ff49b(0x494),()=>process[_0x2ff49b(0x447)](0x0));}catch(_0xc79f4a){console[_0x2ff49b(0x790)](_0x2ff49b(0x66f),_0xc79f4a),_0x3bb39f[_0x2ff49b(0x60a)](0x1f4)[_0x2ff49b(0x805)]({'message':_0x2ff49b(0x226)});}})[a0_0x15f0ef(0x486)](a0_0x15f0ef(0x891),...se,async(_0x392100,_0x5574c9)=>{const _0x1b0e9c=a0_0x15f0ef;try{let _0x53075b=_0x392100[_0x1b0e9c(0x779)];await ye[_0x1b0e9c(0x218)]({},{'$set':_0x53075b},{'upsert':!0x0});let _0x2a296d=await ye['findOne']();_0x5574c9[_0x1b0e9c(0x805)](_0x2a296d);}catch(_0x3961cf){_0x5574c9[_0x1b0e9c(0x60a)](0x190)[_0x1b0e9c(0x7fd)](_0x3961cf['message']);}})['get'](a0_0x15f0ef(0x891),...se,async(_0x231147,_0x4b651c)=>{const _0x2511ee=a0_0x15f0ef;try{let _0x68e1e4=await ye[_0x2511ee(0x2f1)]();if(!_0x68e1e4)return _0x4b651c[_0x2511ee(0x805)]({});_0x4b651c['json'](_0x68e1e4);}catch(_0x499b4b){_0x4b651c['status'](0x1f4)['send'](_0x499b4b[_0x2511ee(0x488)]);}})[a0_0x15f0ef(0x261)](a0_0x15f0ef(0x23d),new gt(b,...se)[a0_0x15f0ef(0x48d)])[a0_0x15f0ef(0x261)]('/message',new Nt(...se)[a0_0x15f0ef(0x48d)])[a0_0x15f0ef(0x261)]('/chat',new rt(...se)[a0_0x15f0ef(0x48d)])[a0_0x15f0ef(0x261)]('/group',new ht(...se)[a0_0x15f0ef(0x48d)])[a0_0x15f0ef(0x261)]('/webhook',new Ot(...se)[a0_0x15f0ef(0x48d)])[a0_0x15f0ef(0x261)](a0_0x15f0ef(0x6f4),new Tt(...se)[a0_0x15f0ef(0x48d)]);var w=class{constructor(..._0x3a931c){const _0x22700a=a0_0x15f0ef;throw{'status':0x190,'error':_0x22700a(0x69f),'message':_0x3a931c['length']>0x0?_0x3a931c:void 0x0};}},te=class{constructor(..._0x551b54){const _0x1a232d=a0_0x15f0ef;throw{'status':0x191,'error':_0x1a232d(0x396),'message':_0x551b54[_0x1a232d(0x272)]>0x0?_0x551b54:void 0x0};}},Q=class{constructor(..._0x2232a4){throw{'status':0x193,'error':'Forbidden','message':_0x2232a4['length']>0x0?_0x2232a4:void 0x0};}},F=class{constructor(..._0x1b5713){const _0x16f493=a0_0x15f0ef;throw{'status':0x194,'error':_0x16f493(0x757),'message':_0x1b5713[_0x16f493(0x272)]>0x0?_0x1b5713:void 0x0};}},A=class{constructor(..._0x3cb311){const _0x31f177=a0_0x15f0ef;throw{'status':0x1f4,'error':_0x31f177(0x2bf),'message':_0x3cb311[_0x31f177(0x272)]>0x0?_0x3cb311:void 0x0};}},de=require('@whiskeysockets/baileys');async function Rs(_0x3321f3){const _0x3fe627=a0_0x15f0ef;let _0x51cc0b=new N(Rs[_0x3fe627(0x2c9)]),_0x166c30=R[_0x3fe627(0x6f0)](),_0x18a482=_0x166c30['db'](b[_0x3fe627(0x82b)](_0x3fe627(0x274))[_0x3fe627(0x229)]['DB_PREFIX_NAME']+_0x3fe627(0x739))[_0x3fe627(0x36d)](_0x3321f3),_0x3f5b20=async(_0x492460,_0xcca56f)=>{const _0x48193e=_0x3fe627;try{return await _0x166c30[_0x48193e(0x6f5)](),await _0x18a482[_0x48193e(0x4fe)]({'_id':_0xcca56f},JSON[_0x48193e(0x379)](JSON[_0x48193e(0x7a3)](_0x492460,de[_0x48193e(0x286)][_0x48193e(0x25b)])),{'upsert':!0x0});}catch{}},_0xf77a7e=async _0x214597=>{const _0x18e6f8=_0x3fe627;try{await _0x166c30['connect']();let _0x113413=await _0x18a482[_0x18e6f8(0x2f1)]({'_id':_0x214597}),_0x2f5eda=JSON[_0x18e6f8(0x7a3)](_0x113413);return JSON['parse'](_0x2f5eda,de['BufferJSON'][_0x18e6f8(0x1c8)]);}catch{}},_0x3b9308=async _0x241def=>{const _0x1cef05=_0x3fe627;try{return await _0x166c30[_0x1cef05(0x6f5)](),await _0x18a482[_0x1cef05(0x3b5)]({'_id':_0x241def});}catch{}},_0x4e1321=await _0xf77a7e(_0x3fe627(0x781))||(0x0,de[_0x3fe627(0x5e0)])();return{'state':{'creds':_0x4e1321,'keys':{'get':async(_0x38e73c,_0x10ac86)=>{const _0x11c10f=_0x3fe627;let _0x30761a={};return await Promise['all'](_0x10ac86[_0x11c10f(0x684)](async _0x39a8c9=>{const _0x1d48d6=_0x11c10f;let _0x2782ea=await _0xf77a7e(_0x38e73c+'-'+_0x39a8c9);_0x38e73c==='app-state-sync-key'&&_0x2782ea&&(_0x2782ea=de[_0x1d48d6(0x87c)][_0x1d48d6(0x6b9)][_0x1d48d6(0x758)]['fromObject'](_0x2782ea)),_0x30761a[_0x39a8c9]=_0x2782ea;})),_0x30761a;},'set':async _0x430185=>{const _0x47a204=_0x3fe627;let _0x2adef8=[];for(let _0x34d0de in _0x430185)for(let _0x45564e in _0x430185[_0x34d0de]){let _0x417aa2=_0x430185[_0x34d0de][_0x45564e],_0x16afe1=_0x34d0de+'-'+_0x45564e;_0x2adef8[_0x47a204(0x21e)](_0x417aa2?_0x3f5b20(_0x417aa2,_0x16afe1):_0x3b9308(_0x16afe1));}await Promise['all'](_0x2adef8);}}},'saveCreds':async()=>_0x3f5b20(_0x4e1321,'creds')};}var Is=T(require(a0_0x15f0ef(0x4d7))),xs=T(require(a0_0x15f0ef(0x892))),Dt=require('@whiskeysockets/baileys'),Er=require(a0_0x15f0ef(0x778)),xt=require('@whiskeysockets/baileys'),It;function vo(_0xf86c30){const _0x54707b=a0_0x15f0ef;return It||(It=(0x0,Er[_0x54707b(0x836)])({'url':_0xf86c30[_0x54707b(0x7d3)]}),It[_0x54707b(0x6f5)]()),It;}var ne=class c{constructor(_0x311df6,_0x2bb8f7){const _0x2ba91c=a0_0x15f0ef;this['redisEnv']=_0x311df6,this[_0x2ba91c(0x217)]=_0x2bb8f7,this['logger']=new N(c['name']),this[_0x2ba91c(0x7cf)]=vo(_0x311df6);}set['reference'](_0x5800ee){this['instanceName']=_0x5800ee;}async[a0_0x15f0ef(0x252)](){const _0x5395ad=a0_0x15f0ef;try{return await this['client']['sendCommand']([_0x5395ad(0x6e6),this[_0x5395ad(0x3c2)][_0x5395ad(0x555)]+':*']);}catch(_0xcc7d03){this[_0x5395ad(0x876)]['error'](_0xcc7d03);}}async[a0_0x15f0ef(0x31b)](_0x278787,_0x43fe19){const _0x28748a=a0_0x15f0ef;try{let _0x3b1d28=JSON[_0x28748a(0x7a3)](_0x43fe19,xt['BufferJSON'][_0x28748a(0x25b)]);return await this['client'][_0x28748a(0x6c4)](this['redisEnv'][_0x28748a(0x555)]+':'+this[_0x28748a(0x217)],_0x278787,_0x3b1d28);}catch(_0x3d0838){this[_0x28748a(0x876)][_0x28748a(0x790)](_0x3d0838);}}async[a0_0x15f0ef(0x615)](){const _0x46187e=a0_0x15f0ef;try{let _0x5204a1=await this['client'][_0x46187e(0x73c)](this[_0x46187e(0x3c2)]['PREFIX_KEY']+':'+this[_0x46187e(0x217)]);if(_0x5204a1){for(let _0x18b3be in _0x5204a1)Object['prototype'][_0x46187e(0x782)]['call'](_0x5204a1,_0x18b3be)&&(_0x5204a1[_0x18b3be]=JSON[_0x46187e(0x379)](_0x5204a1[_0x18b3be],xt[_0x46187e(0x286)]['reviver']));return _0x5204a1;}}catch(_0x109264){this[_0x46187e(0x876)][_0x46187e(0x790)](_0x109264);}}async[a0_0x15f0ef(0x36e)](_0x43e41b){const _0x3511f6=a0_0x15f0ef;try{let _0x3f1bb8=await this[_0x3511f6(0x7cf)][_0x3511f6(0x4cd)](this[_0x3511f6(0x3c2)][_0x3511f6(0x555)]+':'+this[_0x3511f6(0x217)],_0x43e41b);if(_0x3f1bb8)return JSON[_0x3511f6(0x379)](_0x3f1bb8,xt['BufferJSON'][_0x3511f6(0x1c8)]);}catch(_0x2a952f){this[_0x3511f6(0x876)][_0x3511f6(0x790)](_0x2a952f);}}async[a0_0x15f0ef(0x6c2)](_0x2aed8a){const _0x4014c5=a0_0x15f0ef;try{return await this['client'][_0x4014c5(0x4f4)](this['redisEnv'][_0x4014c5(0x555)]+':'+this[_0x4014c5(0x217)],_0x2aed8a);}catch(_0x5227b7){this[_0x4014c5(0x876)][_0x4014c5(0x790)](_0x5227b7);}}async[a0_0x15f0ef(0x76d)](_0x237666){const _0x2fd0a2=a0_0x15f0ef;try{return await this['client'][_0x2fd0a2(0x5d6)](_0x237666||this[_0x2fd0a2(0x3c2)][_0x2fd0a2(0x555)]+':'+this[_0x2fd0a2(0x217)]);}catch(_0x37c329){this[_0x2fd0a2(0x876)][_0x2fd0a2(0x790)](_0x37c329);}}};async function Os(_0x401362,_0x5106e4){const _0x969dc9=a0_0x15f0ef;let _0x111152=new N(Os[_0x969dc9(0x2c9)]),_0x20eb31=new ne(_0x401362,_0x5106e4),_0x11acf8=async(_0x4d4fcd,_0xbc86d3)=>{const _0xe1fd3d=_0x969dc9;try{return await _0x20eb31[_0xe1fd3d(0x31b)](_0xbc86d3,_0x4d4fcd);}catch(_0x545e72){return _0x111152[_0xe1fd3d(0x790)]({'localError':_0xe1fd3d(0x31b),'error':_0x545e72});}},_0x551883=async _0x5b97cd=>{const _0x18b23d=_0x969dc9;try{return await _0x20eb31['readData'](_0x5b97cd);}catch(_0x9b0b4d){_0x111152[_0x18b23d(0x790)]({'readData':_0x18b23d(0x31b),'error':_0x9b0b4d});return;}},_0x3262fd=async _0x5ce620=>{const _0xb7767c=_0x969dc9;try{return await _0x20eb31[_0xb7767c(0x6c2)](_0x5ce620);}catch(_0x159c57){_0x111152[_0xb7767c(0x790)]({'readData':_0xb7767c(0x6c2),'error':_0x159c57});}},_0x5dee41=await _0x551883(_0x969dc9(0x781))||(0x0,Dt[_0x969dc9(0x5e0)])();return{'state':{'creds':_0x5dee41,'keys':{'get':async(_0x31b7ed,_0x3cdc2c)=>{const _0x5e4e91=_0x969dc9;let _0x4d3bb3={};return await Promise[_0x5e4e91(0x45e)](_0x3cdc2c[_0x5e4e91(0x684)](async _0x48dabf=>{const _0x4da3fb=_0x5e4e91;let _0x25ce95=await _0x551883(_0x31b7ed+'-'+_0x48dabf);_0x31b7ed==='app-state-sync-key'&&_0x25ce95&&(_0x25ce95=Dt['proto'][_0x4da3fb(0x6b9)][_0x4da3fb(0x758)][_0x4da3fb(0x4b8)](_0x25ce95)),_0x4d3bb3[_0x48dabf]=_0x25ce95;})),_0x4d3bb3;},'set':async _0x3b7c9a=>{const _0x40856d=_0x969dc9;let _0x3d18fd=[];for(let _0x28fa2a in _0x3b7c9a)for(let _0x3dda69 in _0x3b7c9a[_0x28fa2a]){let _0x57ed90=_0x3b7c9a[_0x28fa2a][_0x3dda69],_0x373fdf=_0x28fa2a+'-'+_0x3dda69;_0x3d18fd[_0x40856d(0x21e)](_0x57ed90?await _0x11acf8(_0x57ed90,_0x373fdf):await _0x3262fd(_0x373fdf));}await Promise['all'](_0x3d18fd);}}},'saveCreds':async()=>await _0x11acf8(_0x5dee41,_0x969dc9(0x781))};}var P=T(require('fs')),Lt=require(a0_0x15f0ef(0x6df)),jt=T(require(a0_0x15f0ef(0x1f8))),Ft=require('https-proxy-agent'),No=a0_0x15f0ef(0x60f)['trim'](),_t=No[a0_0x15f0ef(0x414)]('\x0a')[a0_0x15f0ef(0x684)](_0x11b95c=>{const _0x23749c=a0_0x15f0ef;let _0x2964dd=_0x11b95c[_0x23749c(0x414)](':'),_0x34df87={'host':_0x2964dd[0x0],'port':_0x2964dd[0x1],'protocol':_0x23749c(0x699)};return _0x2964dd[_0x23749c(0x272)]===0x4&&(_0x34df87[_0x23749c(0x6f7)]=_0x2964dd[0x2],_0x34df87[_0x23749c(0x45a)]=_0x2964dd[0x3]),_0x34df87;});function vr(_0x37cb9b){const _0x4e83c9=a0_0x15f0ef;return _t[_0x4e83c9(0x585)](_0x4eb27d=>_0x4eb27d[_0x4e83c9(0x617)]===_0x37cb9b)||null;}function Nr(){const _0x8c0604=a0_0x15f0ef;if(_t['length']===0x0)return null;let _0x2b01ab=Math[_0x8c0604(0x34a)](Math[_0x8c0604(0x755)]()*_t[_0x8c0604(0x272)]);return _t[_0x2b01ab];}function Ts(_0x53e374){const _0xeada59=a0_0x15f0ef;let _0x29204a=_0x1d203a=>typeof _0x1d203a==_0xeada59(0x692)&&_0x1d203a[_0xeada59(0x272)]>0x0,_0x5d4943=_0x891c7a=>{let _0x20d3ea=parseInt(_0x891c7a,0xa);return!isNaN(_0x20d3ea)&&_0x20d3ea>0x0&&_0x20d3ea<=0xffff;},_0x572232=_0x65e4fb=>typeof _0x65e4fb==_0xeada59(0x692)&&_0x65e4fb['length']>0x0;return _0x53e374&&_0x29204a(_0x53e374[_0xeada59(0x617)])&&_0x5d4943(_0x53e374[_0xeada59(0x720)])&&(!_0x53e374[_0xeada59(0x6f7)]||_0x572232(_0x53e374['username']))&&(!_0x53e374[_0xeada59(0x45a)]||_0x572232(_0x53e374[_0xeada59(0x45a)]))&&(_0x53e374[_0xeada59(0x4b2)]==='http'||_0x53e374[_0xeada59(0x4b2)]===_0xeada59(0x20e));}var Ut=require(a0_0x15f0ef(0x381)),Ds=a0_0x15f0ef(0x4fa),Ir,ce=null,Rr=null,et=null,Ro=0x3,Oo=null;async function To(){const _0x2a2938=a0_0x15f0ef;let _0x29d23b=await ye[_0x2a2938(0x2f1)]();ce=_0x29d23b?.[_0x2a2938(0x293)]??null,Oo=_0x29d23b?.[_0x2a2938(0x334)]??null,Ds=_0x29d23b?.[_0x2a2938(0x802)]??'Safari',Ir=_0x29d23b?.['connectedName']??_s??_0x2a2938(0x6c0),console[_0x2a2938(0x884)]('CONFIGURAÇÃO\x20GERAL:'),console['log'](_0x29d23b);}async function $o(){await To();}$o();var Or={},ae={},be=class c{constructor(_0x1e0516,_0x5319d0,_0x221351){const _0x5427db=a0_0x15f0ef;this[_0x5427db(0x484)]=_0x1e0516,this[_0x5427db(0x79c)]=_0x5319d0,this[_0x5427db(0x868)]=_0x221351,this[_0x5427db(0x276)]=null,this[_0x5427db(0x876)]=new N(c[_0x5427db(0x2c9)]),this[_0x5427db(0x30f)]={},this['localWebhook']={},this['stateConnection']={'state':'close'},this[_0x5427db(0x297)]=(0x0,U['join'])(oe,'downloads'),this['msgRetryCounterCache']=new xs[(_0x5427db(0x6bb))](),this[_0x5427db(0x2b3)]=new xs[(_0x5427db(0x6bb))](),this[_0x5427db(0x228)]=!0x1,this[_0x5427db(0x4e5)]={'status.instance':_0x5427db(0x61e),'connection.update':_0x5427db(0x61e),'qrcode.updated':'/wa-qrcode','messages.upsert':'/wa-message','send.message':_0x5427db(0x28b),'messages.update':_0x5427db(0x32e),'group.upsert':_0x5427db(0x31a),'group.update':_0x5427db(0x31a),'group-participants.update':'/wa-groups','messages.set':'/wa-all-message','contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x5427db(0x5ba),'presence.update':_0x5427db(0x3f5),'chats.set':_0x5427db(0x1f1),'chats.update':'/wa-chats','chats.upsert':_0x5427db(0x1f1),'chats.delete':_0x5427db(0x1f1)},this[_0x5427db(0x5b7)]=0x0,this[_0x5427db(0x485)]=[],this[_0x5427db(0x65c)]=0xa,this[_0x5427db(0x43e)]=0xea60,this[_0x5427db(0x3b2)]=!0x1,this[_0x5427db(0x477)]={'chats.upsert':async(_0x40e634,_0x48b6b3)=>{const _0x25323e=_0x5427db;let _0x2ebd10=[];for await(let _0x1feb98 of _0x40e634)_0x2ebd10[_0x25323e(0x21e)]({'_id':_0x1feb98['id'],'owner':this['instance'][_0x25323e(0x744)],'group':_0x1feb98['id'][_0x25323e(0x34b)]('@g.us'),'name':_0x1feb98[_0x25323e(0x2c9)]||_0x1feb98['displayName']||null,'contactname':null,'lastmsg':_0x1feb98[_0x25323e(0x258)]&&_0x1feb98[_0x25323e(0x258)][_0x25323e(0x5f0)]()['length']<0xd?_0x1feb98[_0x25323e(0x258)]*0x3e8:_0x1feb98['conversationTimestamp']||null,'archived':_0x1feb98['archived']||!0x1,'unreadcount':_0x1feb98[_0x25323e(0x80b)]||0x0,'ephemeralExpiration':_0x1feb98['ephemeralExpiration']||0x0});this[_0x25323e(0x268)](_0x25323e(0x1cc),_0x2ebd10);},'chats.update':async(_0x2030b0,_0x330dae)=>{const _0x185a95=_0x5427db;for(let _0x2294c2 of _0x2030b0){let _0x185c13={'_id':_0x2294c2['id'],'owner':this['instance'][_0x185a95(0x744)],'group':_0x2294c2['id'][_0x185a95(0x34b)](_0x185a95(0x230)),'name':_0x2294c2[_0x185a95(0x2c9)]||_0x2294c2[_0x185a95(0x43c)],'archived':_0x2294c2[_0x185a95(0x658)]},_0x58dc8d=!0x1,_0xefc726={};_0x185c13[_0x185a95(0x658)]!=null&&(this[_0x185a95(0x876)][_0x185a95(0x636)](this[_0x185a95(0x217)]+'\x20('+this['instance']['wuid']+_0x185a95(0x428)+_0x2294c2[_0x185a95(0x658)]),_0x58dc8d=!0x0,_0xefc726[_0x185a95(0x658)]=_0x2294c2[_0x185a95(0x658)]),_0x2294c2[_0x185a95(0x2c9)]!=null&&(this[_0x185a95(0x876)][_0x185a95(0x636)](this[_0x185a95(0x217)]+'\x20('+this['instance'][_0x185a95(0x744)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x2294c2[_0x185a95(0x2c9)]),_0x58dc8d=!0x0,_0xefc726[_0x185a95(0x2c9)]=_0x2294c2[_0x185a95(0x2c9)]),_0x2294c2[_0x185a95(0x43c)]!=null&&(this[_0x185a95(0x876)][_0x185a95(0x636)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x185a95(0x79a)+_0x2294c2['displayName']),_0x58dc8d=!0x0,_0xefc726[_0x185a95(0x2c9)]=_0x2294c2[_0x185a95(0x43c)]);let _0x3523fb;_0x58dc8d&&(_0x3523fb=await this[_0x185a95(0x868)][_0x185a95(0x79b)][_0x185a95(0x218)]({'where':{'_id':_0x2294c2['id']}},_0xefc726,this[_0x185a95(0x30f)][_0x185a95(0x744)])),_0x3523fb&&J(this[_0x185a95(0x217)],_0x185a95(0x2c6),{'chat':_0x3523fb});}},'chats.delete':async _0x458a0b=>{const _0x1b8541=_0x5427db;for(let _0x3a3331 of _0x458a0b)if(_0x3a3331['endsWith'](_0x1b8541(0x230))){await this['repository'][_0x1b8541(0x79b)][_0x1b8541(0x439)]({'where':{'_id':_0x3a3331}},this[_0x1b8541(0x30f)][_0x1b8541(0x744)]);let _0x550a36={'where':{'key':{'remoteJid':_0x3a3331}}};await this[_0x1b8541(0x868)]['message'][_0x1b8541(0x439)](_0x550a36,this[_0x1b8541(0x30f)][_0x1b8541(0x744)]);}else{await this['repository'][_0x1b8541(0x79b)][_0x1b8541(0x218)]({'where':{'_id':_0x3a3331}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1b8541(0x30f)][_0x1b8541(0x744)]);let _0x416df3={'where':{'key':{'remoteJid':_0x3a3331}}};await this[_0x1b8541(0x868)][_0x1b8541(0x488)][_0x1b8541(0x439)](_0x416df3,this[_0x1b8541(0x30f)][_0x1b8541(0x744)]);}this[_0x1b8541(0x268)](_0x1b8541(0x6fa),[..._0x458a0b]);}},this[_0x5427db(0x52e)]={'contacts.upsert':async(_0x5dd57e,_0x5e42b0)=>{const _0x54a9bc=_0x5427db;let _0x451f44=await this['repository'][_0x54a9bc(0x33d)][_0x54a9bc(0x585)]({'where':{}},this[_0x54a9bc(0x30f)][_0x54a9bc(0x744)]),_0x599398=[];for await(let _0x4fb267 of _0x5dd57e)_0x451f44[_0x54a9bc(0x585)](_0x5c1747=>_0x5c1747[_0x54a9bc(0x718)]===_0x4fb267['id'])||_0x599398[_0x54a9bc(0x21e)]({'_id':_0x4fb267['id'],'pushName':_0x4fb267?.[_0x54a9bc(0x2c9)]||_0x4fb267?.['verifiedName'],'owner':this[_0x54a9bc(0x30f)][_0x54a9bc(0x744)]});this['sendDataWebhook']('contacts.upsert',_0x599398),await this['repository'][_0x54a9bc(0x33d)][_0x54a9bc(0x6ed)](_0x599398);},'contacts.update':async(_0x4ba0dd,_0x3a0d20)=>{const _0x3ed468=_0x5427db;let _0x4a101d=[];for await(let _0x2eb0ae of _0x4ba0dd)_0x4a101d[_0x3ed468(0x21e)]({'_id':_0x2eb0ae['id'],'pushName':_0x2eb0ae?.[_0x3ed468(0x2c9)]??_0x2eb0ae?.['verifiedName'],'owner':this['instance'][_0x3ed468(0x744)]});this[_0x3ed468(0x268)](_0x3ed468(0x213),_0x4a101d);}},this['messageHandle']={'messaging-history.set':async({messages:_0x58e334,chats:_0x2c91e9,isLatest:_0x56b390},_0x1a7aa0)=>{const _0x495b0b=_0x5427db;if(_0x56b390){let _0x3768b8=await Promise['all'](_0x2c91e9['map'](async _0x3201de=>({'_id':_0x3201de['id'],'owner':this[_0x495b0b(0x30f)][_0x495b0b(0x744)],'group':_0x3201de['id'][_0x495b0b(0x34b)]('@g.us'),'name':_0x3201de[_0x495b0b(0x2c9)]||_0x3201de[_0x495b0b(0x43c)]||null,'contactname':null,'lastmsg':_0x3201de[_0x495b0b(0x258)]&&_0x3201de['conversationTimestamp']['toString']()[_0x495b0b(0x272)]<0xd?_0x3201de[_0x495b0b(0x258)]*0x3e8:_0x3201de[_0x495b0b(0x258)]||null,'archived':_0x3201de[_0x495b0b(0x658)]||!0x1,'unreadcount':_0x3201de[_0x495b0b(0x80b)]||0x0})));this[_0x495b0b(0x268)]('chats.set',_0x3768b8),await this[_0x495b0b(0x803)](_0x3768b8,_0x1a7aa0);}let _0x22e585=[],_0x233896=Date[_0x495b0b(0x3ce)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5b8407]of Object['entries'](_0x58e334)){if(_0x5b8407[_0x495b0b(0x488)]?.[_0x495b0b(0x5f8)]||_0x5b8407[_0x495b0b(0x488)]?.[_0x495b0b(0x576)]||!_0x5b8407[_0x495b0b(0x488)]||_0x5b8407[_0x495b0b(0x310)]['remoteJid']===_0x495b0b(0x2e2)||(Is['default'][_0x495b0b(0x6cd)](_0x5b8407?.[_0x495b0b(0x2fa)])&&(_0x5b8407[_0x495b0b(0x2fa)]=_0x5b8407[_0x495b0b(0x2fa)]?.[_0x495b0b(0x6ad)]()),_0x5b8407['messageTimestamp']&&_0x5b8407['messageTimestamp'][_0x495b0b(0x5f0)]()[_0x495b0b(0x272)]<0xd&&(_0x5b8407[_0x495b0b(0x2fa)]=_0x5b8407[_0x495b0b(0x2fa)]*0x3e8),_0x5b8407[_0x495b0b(0x2fa)]<_0x233896))continue;let _0x53ff6d=(0x0,f[_0x495b0b(0x403)])(_0x5b8407[_0x495b0b(0x488)]),_0x1aa169=(0x0,f['getContentType'])(_0x53ff6d),{message_normalized:_0x23dd45}=this['normalizeMessage'](_0x53ff6d,_0x1aa169,null);Object[_0x495b0b(0x6e6)](_0x23dd45)['length']>0x0&&_0x22e585[_0x495b0b(0x21e)]({'_id':_0x5b8407['key']['id'],'key':_0x5b8407[_0x495b0b(0x310)],'pushName':_0x5b8407[_0x495b0b(0x60e)],'participant':_0x5b8407[_0x495b0b(0x3bd)],'message':_0x53ff6d,'messageType':_0x1aa169,'message_normalized':{'key':_0x5b8407[_0x495b0b(0x310)],'pushName':_0x5b8407[_0x495b0b(0x60e)],'messageTimestamp':_0x5b8407[_0x495b0b(0x2fa)],..._0x23dd45},'messageTimestamp':_0x5b8407['messageTimestamp'],'owner':this[_0x495b0b(0x30f)][_0x495b0b(0x744)]});}_0x1a7aa0[_0x495b0b(0x796)]&&_0x22e585[_0x495b0b(0x272)]>0x0&&(this[_0x495b0b(0x876)][_0x495b0b(0x636)](this[_0x495b0b(0x217)]+'\x20('+this[_0x495b0b(0x30f)][_0x495b0b(0x744)]+_0x495b0b(0x603)+_0x22e585[_0x495b0b(0x272)]+_0x495b0b(0x67c)+this[_0x495b0b(0x30f)][_0x495b0b(0x744)]+_0x495b0b(0x370)),await this['repository'][_0x495b0b(0x488)][_0x495b0b(0x6ed)]([..._0x22e585],this['instance'][_0x495b0b(0x744)])),this[_0x495b0b(0x268)]('messages.set',[..._0x22e585]),_0x58e334=void 0x0;},'messages.upsert':async({messages:_0x348ccc,type:_0x552fae},_0xe05d56)=>{const _0xbe7b03=_0x5427db;let _0x403270=_0x348ccc[0x0],_0x1a22c0=_0x403270[_0xbe7b03(0x310)]['id'],_0x1f03c9=_0x403270[_0xbe7b03(0x437)]===0x2,_0x56db7a=0xb;if(this[_0xbe7b03(0x2ac)]?.['groups_ignore']&&_0x403270[_0xbe7b03(0x310)]['remoteJid']['includes'](_0xbe7b03(0x230))){this[_0xbe7b03(0x876)][_0xbe7b03(0x636)](this[_0xbe7b03(0x217)]+'\x20('+this[_0xbe7b03(0x30f)]['wuid']+_0xbe7b03(0x3b6));return;}if(_0x1f03c9){if(ae[_0x1a22c0]||(ae[_0x1a22c0]=0x0),ae[_0x1a22c0]++,this[_0xbe7b03(0x876)][_0xbe7b03(0x790)](this[_0xbe7b03(0x217)]+'\x20('+this[_0xbe7b03(0x30f)][_0xbe7b03(0x744)]+_0xbe7b03(0x7e3)+_0x403270[_0xbe7b03(0x310)][_0xbe7b03(0x350)]+_0xbe7b03(0x61f)+_0x1a22c0+':\x20'+ae[_0x1a22c0]+'/'+_0x56db7a),ae[_0x1a22c0]>=_0x56db7a){this[_0xbe7b03(0x876)][_0xbe7b03(0x790)](this['instanceName']+'\x20('+this[_0xbe7b03(0x30f)][_0xbe7b03(0x744)]+_0xbe7b03(0x6a4)+_0x403270[_0xbe7b03(0x310)][_0xbe7b03(0x350)]+'\x20e\x20ID='+_0x1a22c0+'.');let _0x4df911={'key':{..._0x403270['key']},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x1a22c0+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};this[_0xbe7b03(0x7cf)]['ev'][_0xbe7b03(0x380)](_0xbe7b03(0x613),{'messages':[_0x4df911],'type':_0xbe7b03(0x74c)}),delete ae[_0x1a22c0];}}else ae[_0x1a22c0]&&(this['logger'][_0xbe7b03(0x235)](_0xbe7b03(0x83c)+ae[_0x1a22c0]+_0xbe7b03(0x86a)+_0x403270['key'][_0xbe7b03(0x350)]+'\x20e\x20ID='+_0x1a22c0),delete ae[_0x1a22c0]);if(_0x552fae!==_0xbe7b03(0x74c)||!_0x403270?.[_0xbe7b03(0x488)]||_0x403270[_0xbe7b03(0x488)]?.[_0xbe7b03(0x5f8)]||_0x403270['message'][_0xbe7b03(0x576)]||_0x403270[_0xbe7b03(0x310)][_0xbe7b03(0x350)]===_0xbe7b03(0x2e2))return;let _0x4c6020=null,_0x4f4ccb=null;try{_0x4c6020=await this[_0xbe7b03(0x526)](_0x403270),_0x4f4ccb=_0x4c6020?_0x4c6020['join'](','):null;}catch(_0x998437){this[_0xbe7b03(0x876)]['verbose'](this['instanceName']+'\x20('+this[_0xbe7b03(0x30f)][_0xbe7b03(0x744)]+_0xbe7b03(0x603)+(_0x998437 instanceof Error?_0x998437[_0xbe7b03(0x488)]:JSON[_0xbe7b03(0x7a3)](_0x998437,null,0x2))),_0x4f4ccb='error\x20get\x20vote';}this[_0xbe7b03(0x7cf)]['sendPresenceUpdate']('unavailable'),Is[_0xbe7b03(0x6bb)][_0xbe7b03(0x6cd)](_0x403270['messageTimestamp'])&&(_0x403270[_0xbe7b03(0x2fa)]=_0x403270[_0xbe7b03(0x2fa)]?.[_0xbe7b03(0x6ad)]()),_0x403270['messageTimestamp']&&_0x403270[_0xbe7b03(0x2fa)][_0xbe7b03(0x5f0)]()['length']<0xd&&(_0x403270[_0xbe7b03(0x2fa)]=_0x403270['messageTimestamp']*0x3e8);let _0x2dbb10=_0x403270[_0xbe7b03(0x488)],_0x3c6dda=(0x0,f[_0xbe7b03(0x403)])(_0x2dbb10),_0x39e07a=(0x0,f[_0xbe7b03(0x5f9)])(_0x3c6dda),{messageContent:_0x28e625,message_normalized:_0x51bd17}=this[_0xbe7b03(0x2e9)](_0x3c6dda,_0x39e07a,_0x4f4ccb);_0x39e07a===_0xbe7b03(0x5f8)&&_0x28e625?.[_0xbe7b03(0x5e9)]&&(_0x39e07a=_0xbe7b03(0x5e9));let _0x1e36c1,_0x36a5ba=_0x403270['key'][_0xbe7b03(0x350)][_0xbe7b03(0x34b)](_0xbe7b03(0x230));if(_0x403270[_0xbe7b03(0x310)]['fromMe'])_0x1e36c1=this[_0xbe7b03(0x30f)][_0xbe7b03(0x7bd)];else{let _0x52d4ca=_0x36a5ba?_0x403270[_0xbe7b03(0x310)][_0xbe7b03(0x3bd)]:_0x403270[_0xbe7b03(0x310)][_0xbe7b03(0x350)];_0x1e36c1=(await this['findAndUpdateCacheContact'](_0x52d4ca,_0x403270[_0xbe7b03(0x60e)],!0x1))[_0xbe7b03(0x64b)][_0xbe7b03(0x2bc)];}let _0x44a932={'_id':_0x403270[_0xbe7b03(0x310)]['id'],'key':_0x403270[_0xbe7b03(0x310)],'isGroup':_0x36a5ba,'profilePictureUrl':_0x1e36c1,'pushName':_0x403270[_0xbe7b03(0x60e)],'message':_0x3c6dda,'messageType':_0x39e07a,'message_normalized':{'key':_0x403270[_0xbe7b03(0x310)],'pushName':_0x403270[_0xbe7b03(0x60e)],'messageTimestamp':_0x403270[_0xbe7b03(0x2fa)],'source':(0x0,f['getDevice'])(_0x403270[_0xbe7b03(0x310)]['id']),..._0x51bd17},'messageTimestamp':_0x403270[_0xbe7b03(0x2fa)],'owner':this[_0xbe7b03(0x30f)][_0xbe7b03(0x744)],'source':(0x0,f[_0xbe7b03(0x1ef)])(_0x403270[_0xbe7b03(0x310)]['id']),'expiration':_0x28e625?.[_0xbe7b03(0x21b)]?.[_0xbe7b03(0x4f0)]||0x0};_0x28e625||(console[_0xbe7b03(0x790)](_0xbe7b03(0x3ac)),this[_0xbe7b03(0x876)][_0xbe7b03(0x790)](_0x44a932)),this['logger'][_0xbe7b03(0x884)](this[_0xbe7b03(0x217)]+'\x20('+this[_0xbe7b03(0x30f)][_0xbe7b03(0x744)]+'):\x20'+(_0x44a932[_0xbe7b03(0x310)]?.[_0xbe7b03(0x3ab)]?_0xbe7b03(0x4a6):_0xbe7b03(0x4c5))+'\x20['+_0x44a932['key']?.[_0xbe7b03(0x350)][_0xbe7b03(0x1e1)](_0xbe7b03(0x713),'')+']\x20('+_0x44a932[_0xbe7b03(0x27c)]+')'),_0x44a932['message_normalized']?.[_0xbe7b03(0x358)]&&this[_0xbe7b03(0x876)]['log'](_0x1a22c0+':\x20'+_0x44a932['message_normalized']?.[_0xbe7b03(0x358)]),await this[_0xbe7b03(0x868)]['message']['insert']([_0x44a932],this[_0xbe7b03(0x30f)][_0xbe7b03(0x744)]),this[_0xbe7b03(0x268)](_0xbe7b03(0x613),_0x44a932),J(this[_0xbe7b03(0x217)],'messages',{'message':_0x44a932}),_0x403270[_0xbe7b03(0x310)][_0xbe7b03(0x350)]!==_0xbe7b03(0x2e2)&&await this[_0xbe7b03(0x427)](_0xe05d56,_0x44a932,_0xbe7b03(0x522));},'messages.update':async(_0x505ef9,_0x33db65)=>{const _0x542799=_0x5427db;let _0x31c0ac={0x0:_0x542799(0x791),0x1:_0x542799(0x850),0x2:_0x542799(0x855),0x3:'DELIVERY_ACK',0x4:_0x542799(0x877),0x5:'PLAYED'};for await(let {key:_0x8475aa,update:_0x12c4aa}of _0x505ef9){if(this[_0x542799(0x2ac)]?.[_0x542799(0x4b9)]&&_0x8475aa['remoteJid']['includes']('@g.us')){this['logger']['verbose'](this[_0x542799(0x217)]+'\x20('+this[_0x542799(0x30f)]['wuid']+_0x542799(0x1ec));return;}if(_0x8475aa['remoteJid']!=='status@broadcast'){let _0x1333bc=Date['now'](),_0x4bd2f5;_0x12c4aa['message']===null&&_0x12c4aa[_0x542799(0x60a)]===void 0x0?_0x4bd2f5=_0x542799(0x605):_0x4bd2f5=_0x31c0ac[_0x12c4aa[_0x542799(0x60a)]];let _0x23a0c8=_0x8475aa[_0x542799(0x350)][_0x542799(0x1e1)](/:\d{1,2}@/g,'@'),_0x260db7={..._0x8475aa,'remoteJid':_0x23a0c8,'status':_0x4bd2f5,'datetime':_0x1333bc,'owner':this['instance'][_0x542799(0x744)]};this[_0x542799(0x268)]('messages.update',_0x260db7),await this[_0x542799(0x570)](_0x8475aa,_0x260db7);}}},'labels.association':async({type:_0xbfd842,association:_0x419f16})=>{const _0x13ea59=_0x5427db;if(_0x419f16['type']===_0x13ea59(0x70e)){let _0x3c0600,_0x40293a=0x0;for(;!_0x3c0600&&_0x40293a<this['delayChatLabel_MAX_RETRIES'];)_0x3c0600=await this['repository'][_0x13ea59(0x79b)]['findOne']({'where':{'_id':_0x419f16[_0x13ea59(0x543)]}},this['instance']['wuid']),_0x3c0600||(_0x40293a++,console[_0x13ea59(0x884)]('Chat\x20'+_0x419f16[_0x13ea59(0x543)]+_0x13ea59(0x46f)+this[_0x13ea59(0x2ee)]+_0x13ea59(0x42e)+_0x40293a+'/'+this[_0x13ea59(0x815)]+')'),await this['delayChatLabel'](this[_0x13ea59(0x2ee)]));if(!_0x3c0600){console[_0x13ea59(0x790)](_0x13ea59(0x2de)+_0x419f16['chatId']+'\x20after\x20'+this[_0x13ea59(0x815)]+_0x13ea59(0x771));return;}switch(_0xbfd842){case _0x13ea59(0x25e):console[_0x13ea59(0x884)](_0x419f16),await this[_0x13ea59(0x868)][_0x13ea59(0x79b)][_0x13ea59(0x218)]({'where':{'_id':_0x419f16[_0x13ea59(0x543)]}},{'leadInfo.etiquetas':_0x419f16[_0x13ea59(0x7b8)]},this['instance'][_0x13ea59(0x744)],void 0x0,_0x13ea59(0x515));break;case _0x13ea59(0x554):console[_0x13ea59(0x884)](_0x419f16),await this['repository'][_0x13ea59(0x79b)][_0x13ea59(0x218)]({'where':{'_id':_0x419f16[_0x13ea59(0x543)]}},{'leadInfo.etiquetas':_0x419f16[_0x13ea59(0x7b8)]},this[_0x13ea59(0x30f)]['wuid'],void 0x0,_0x13ea59(0x716));break;default:console[_0x13ea59(0x790)](_0x13ea59(0x847)+_0xbfd842+']');}}},'labels.edit':async _0x47f0bd=>{const _0x22b431=_0x5427db;if(!_0x47f0bd||!_0x47f0bd['id']){console[_0x22b431(0x790)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x47f0bd[_0x22b431(0x7a2)]){let _0xdaa092=[_0x22b431(0x5b5),'#64c4ff',_0x22b431(0x421),_0x22b431(0x64c),_0x22b431(0x24b),_0x22b431(0x814),'#fe9dfe','#d3a91f',_0x22b431(0x46a),'#d8e651','#01d0e2',_0x22b431(0x6ae),'#92ceac',_0x22b431(0x402),_0x22b431(0x2aa),_0x22b431(0x2b2),'#ffae04','#b4ebff',_0x22b431(0x1d0),_0x22b431(0x4c9)],_0x109817;typeof _0x47f0bd['color']=='number'&&_0x47f0bd[_0x22b431(0x7a6)]>=0x0&&_0x47f0bd[_0x22b431(0x7a6)]<_0xdaa092[_0x22b431(0x272)]?_0x109817=_0xdaa092[_0x47f0bd[_0x22b431(0x7a6)]]:(console[_0x22b431(0x790)](_0x22b431(0x267),_0x47f0bd['color']),_0x109817='#000000');let _0x3de28f={'_id':_0x47f0bd['id'],'colorHex':_0x109817,'color':_0x47f0bd?.['color'],'name':_0x47f0bd?.[_0x22b431(0x2c9)],'owner':this[_0x22b431(0x30f)]['wuid']};await this['repository'][_0x22b431(0x489)][_0x22b431(0x218)]({'where':{'_id':_0x47f0bd['id']}},_0x3de28f,this[_0x22b431(0x30f)]['wuid']),console[_0x22b431(0x884)](_0x22b431(0x3aa),_0x47f0bd);}_0x47f0bd[_0x22b431(0x7a2)]&&(await this[_0x22b431(0x868)][_0x22b431(0x489)][_0x22b431(0x439)]({'where':{'_id':_0x47f0bd['id']}},this[_0x22b431(0x30f)]['wuid']),console[_0x22b431(0x884)](_0x22b431(0x828),_0x47f0bd['id']));}},this[_0x5427db(0x4f3)]={'groups.upsert':_0x111854=>{const _0x18f269=_0x5427db;this[_0x18f269(0x268)](_0x18f269(0x49e),_0x111854);},'groups.update':_0x5ed9ea=>{const _0x391d9d=_0x5427db;this['sendDataWebhook'](_0x391d9d(0x1e3),_0x5ed9ea);},'group-participants.update':_0x2c0797=>{const _0x13a7a0=_0x5427db;this[_0x13a7a0(0x268)]('group-participants.update',_0x2c0797);}},this[_0x5427db(0x815)]=0x5,this[_0x5427db(0x2ee)]=0x1388,this[_0x5427db(0x526)]=async _0x63b79d=>{const _0x27d600=_0x5427db;if(_0x63b79d[_0x27d600(0x488)]?.[_0x27d600(0x7e7)]){let _0x82afcb=await this[_0x27d600(0x7b3)](_0x63b79d['message'][_0x27d600(0x7e7)][_0x27d600(0x21d)],!0x0);if(_0x82afcb){let _0x57b436=_0x82afcb[_0x27d600(0x310)][_0x27d600(0x3ab)]?this[_0x27d600(0x30f)][_0x27d600(0x744)]+_0x27d600(0x713):_0x82afcb[_0x27d600(0x310)][_0x27d600(0x3bd)]||_0x82afcb[_0x27d600(0x310)][_0x27d600(0x350)],_0x11a18b=_0x82afcb['key']['id'],_0x5e7a9d=_0x82afcb[_0x27d600(0x488)],_0xff9ce3=Buffer[_0x27d600(0x3f4)](_0x5e7a9d[_0x27d600(0x227)][_0x27d600(0x2ce)][_0x27d600(0x5f0)](_0x27d600(0x367)),_0x27d600(0x367)),_0x1051f3=(0x0,f[_0x27d600(0x422)])(_0x63b79d['message'][_0x27d600(0x7e7)]['vote'],{'pollCreatorJid':_0x57b436,'pollMsgId':_0x11a18b,'pollEncKey':_0xff9ce3,'voterJid':_0x63b79d[_0x27d600(0x310)]['fromMe']?this[_0x27d600(0x30f)][_0x27d600(0x744)]+_0x27d600(0x713):_0x63b79d[_0x27d600(0x310)][_0x27d600(0x350)]['endsWith'](_0x27d600(0x45d))?_0x63b79d['key']['participant']:_0x63b79d[_0x27d600(0x310)][_0x27d600(0x350)]}),_0x410f60=[],_0x554dce=_0x1051f3['selectedOptions'][_0x27d600(0x684)](_0x56620d=>Buffer[_0x27d600(0x3f4)](_0x56620d)[_0x27d600(0x5f0)](_0x27d600(0x367)));for(let {optionName:_0x35bc7e}of _0x5e7a9d[_0x27d600(0x501)]?.[_0x27d600(0x829)]||_0x5e7a9d[_0x27d600(0x3e6)]?.[_0x27d600(0x829)]||_0x5e7a9d[_0x27d600(0x51c)]?.[_0x27d600(0x829)])_0x554dce['indexOf']((0x0,f[_0x27d600(0x60b)])(Buffer[_0x27d600(0x3f4)](_0x35bc7e))[_0x27d600(0x5f0)](_0x27d600(0x367)))>-0x1&&_0x410f60[_0x27d600(0x21e)](_0x35bc7e);return _0x410f60;}}return null;},this[_0x5427db(0x2e9)]=(_0x198861,_0x4de604,_0x15e8af)=>{const _0x1418c2=_0x5427db;try{let _0x36dc8b=_0x198861?(0x0,f['extractMessageContent'])(_0x198861)[_0x4de604]:void 0x0,_0x1d3679={},_0x5b785b=null,_0x3a9c9b=null,_0x349262=null;_0x4de604===_0x1418c2(0x5f8)&&_0x36dc8b?.['editedMessage']&&(_0x4de604=(0x0,f[_0x1418c2(0x5f9)])(_0x36dc8b[_0x1418c2(0x5e9)]),_0x5b785b=_0x198861['protocolMessage']['key']['id'],_0x36dc8b=_0x198861['protocolMessage'][_0x1418c2(0x5e9)][_0x4de604]),_0x198861[_0x4de604]?.[_0x1418c2(0x21b)]?.[_0x1418c2(0x404)]&&_0x198861[_0x4de604]?.[_0x1418c2(0x21b)]?.[_0x1418c2(0x656)]&&(_0x3a9c9b=_0x198861[_0x4de604]['contextInfo'][_0x1418c2(0x404)]),_0x198861['reactionMessage']&&(_0x349262=_0x198861[_0x1418c2(0x76f)][_0x1418c2(0x310)]['id']);let _0x3ba680;if(_0x36dc8b&&typeof _0x36dc8b==_0x1418c2(0x84f)&&_0x1418c2(0x21d)in _0x36dc8b&&({pollCreationMessageKey:_0x3ba680}=_0x36dc8b),_0x4de604==='pollCreationMessage'||_0x4de604===_0x1418c2(0x51c)||_0x4de604===_0x1418c2(0x3e6)){let _0x470a24=_0x36dc8b[_0x1418c2(0x829)]['map'](_0x1e5760=>_0x1e5760[_0x1418c2(0x251)])[_0x1418c2(0x224)]('|');_0x1d3679[_0x1418c2(0x6af)]=_0x470a24;}let _0x4176ae='';if(_0x36dc8b&&(_0x4176ae+=_0x36dc8b[_0x1418c2(0x2c9)]?_0x36dc8b['name']:'',_0x4176ae+=_0x36dc8b[_0x1418c2(0x450)]?'\x20'+_0x36dc8b['caption']:'',_0x4176ae+=_0x36dc8b[_0x1418c2(0x3a2)]?'\x20'+_0x36dc8b['conversation']:'',_0x4176ae+=_0x36dc8b[_0x1418c2(0x43c)]?'\x20'+_0x36dc8b[_0x1418c2(0x43c)]:''),_0x4de604===_0x1418c2(0x2b0)){_0x4176ae=(_0x36dc8b[_0x1418c2(0x35c)]||'')+'\x0a'+(_0x36dc8b[_0x1418c2(0x4e0)]||'')+'\x0a'+(_0x36dc8b[_0x1418c2(0x5e8)]||'');let _0x3557e4=this['sectionsToString'](_0x36dc8b[_0x1418c2(0x330)]);_0x1d3679[_0x1418c2(0x6af)]=_0x3557e4;}if(_0x4de604===_0x1418c2(0x709)&&(_0x15e8af=_0x36dc8b['title']),_0x36dc8b&&_0x36dc8b[_0x1418c2(0x600)]){let _0x48f14c=this[_0x1418c2(0x5ad)](JSON[_0x1418c2(0x7a3)](_0x36dc8b[_0x1418c2(0x600)],null,0x2));_0x4176ae=_0x4176ae+'\x0a'+_0x48f14c;}if(_0x36dc8b){let {sections:_0x5e2690,listType:_0x26227f,displayName:_0x34049a,vcard:_0x5b1867,contactVcard:_0x389ada,name:_0x37ac67,caption:_0x4d61e4,conversation:_0x4401f2,pollCreationMessageKey:_0x4914de,footerText:_0xb4de49,contentText:_0x505e85,pageCount:_0xdf9f26,headerType:_0x43eb92,isAvatar:_0x19845e,isAnimated:_0x1307e4,fallbackLc:_0x4fd5aa,fallbackLg:_0x3fa953,namespace:_0x336504,elementName:_0x48a21e,localizableParams:_0xce1e3d,viewOnce:_0x548cc9,height:_0x1b8876,width:_0x347d7f,key:_0x320c56,firstScanLength:_0x2e1af5,firstScanSidecar:_0x518df9,gifPlayback:_0x519f3c,gifAttribution:_0x59b358,midQualityFileSha256:_0x40ce20,scansSidecar:_0x323ae9,streamingSidecar:_0x277351,thumbnailHeight:_0x4f0fdc,thumbnailWidth:_0x4eb22f,thumbnailEncSha256:_0x45b0b6,thumbnailDirectPath:_0x22ca5f,canonicalUrl:_0x8d592b,matchedText:_0x478acb,previewType:_0x461619,thumbnailSha256:_0x354876,deviceListMetadataVersion:_0x246956,inviteLinkGroupTypeV2:_0x1e1446,interactiveAnnotations:_0x4c807e,scanLengths:_0xf4f609,jpegThumbnail:_0x2b9023,url:_0x1aa35f,mediaKeyTimestamp:_0x7d9bfa,waveform:_0x3d0c90,stickerSentTs:_0x55f120,firstFrameLength:_0x277a88,fileEncSha256:_0x331cc3,contextInfo:_0x16f23f,firstFrameSidecar:_0xaa7b6,directPath:_0x1b8e32,fileSha256:_0x16597a,mediaKey:_0x2bc62e,senderTimestampMs:_0x443079,..._0x35ab56}=_0x36dc8b;(_0x4de604===_0x1418c2(0x2b0)||_0x4de604===_0x1418c2(0x709))&&(delete _0x35ab56[_0x1418c2(0x35c)],delete _0x35ab56['description']),typeof _0x36dc8b==_0x1418c2(0x692)?_0x1d3679={'text':_0x36dc8b,'type':_0x4de604||_0x1418c2(0x3a2),..._0x5b785b&&{'edited':_0x5b785b},..._0x3a9c9b&&{'quoted':_0x3a9c9b},..._0x349262&&{'reaction':_0x349262}}:_0x1d3679={'text':_0x4176ae,..._0x35ab56,..._0x4de604==='pollUpdateMessage'?{'poll_id':_0x36dc8b['pollCreationMessageKey']['id'],'quoted':_0x36dc8b[_0x1418c2(0x21d)]['id'],'vote':_0x15e8af}:{},..._0x4de604===_0x1418c2(0x709)?{'vote':_0x15e8af}:{},'type':_0x4de604,..._0x5b785b&&{'edited':_0x5b785b},..._0x3a9c9b&&{'quoted':_0x3a9c9b},..._0x349262&&{'reaction':_0x349262},...(_0x4de604===_0x1418c2(0x501)||_0x4de604===_0x1418c2(0x51c)||_0x4de604===_0x1418c2(0x3e6)||_0x4de604===_0x1418c2(0x2b0))&&{'convertedOptions':_0x1d3679['convertedOptions']}};}return{'messageType':_0x4de604,'messageContent':_0x36dc8b,'message_normalized':_0x1d3679};}catch(_0x1c5971){return console[_0x1418c2(0x790)](_0x1418c2(0x3ba),_0x1c5971),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x5427db(0x697)](),this[_0x5427db(0x30f)][_0x5427db(0x7fa)]={'count':0x0},this[_0x5427db(0x30f)][_0x5427db(0x61b)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0x488158){const _0x3c6628=a0_0x15f0ef;if(!_0x488158){this[_0x3c6628(0x30f)][_0x3c6628(0x2c9)]=(0x0,Tr['v4'])();return;}this[_0x3c6628(0x30f)][_0x3c6628(0x2c9)]=_0x488158,this[_0x3c6628(0x268)]('status.instance',{'instance':this[_0x3c6628(0x30f)][_0x3c6628(0x2c9)],'status':_0x3c6628(0x75e)});}get['instanceName'](){const _0x2727df=a0_0x15f0ef;return this[_0x2727df(0x30f)][_0x2727df(0x2c9)];}get['wuid'](){const _0x13ba6f=a0_0x15f0ef;return this[_0x13ba6f(0x30f)][_0x13ba6f(0x744)];}async[a0_0x15f0ef(0x5df)](){const _0x2b39a7=a0_0x15f0ef;let _0x5981d1=this['client'][_0x2b39a7(0x513)]?.[_0x2b39a7(0x2c9)]??this[_0x2b39a7(0x7cf)][_0x2b39a7(0x513)]?.[_0x2b39a7(0x1e8)];if(!_0x5981d1){if(this[_0x2b39a7(0x484)][_0x2b39a7(0x82b)](_0x2b39a7(0x274))['ENABLED']){let _0x30c248=await R[_0x2b39a7(0x6f0)]()['db'](this[_0x2b39a7(0x484)][_0x2b39a7(0x82b)]('DATABASE')[_0x2b39a7(0x229)][_0x2b39a7(0x433)]+_0x2b39a7(0x739))[_0x2b39a7(0x36d)](this[_0x2b39a7(0x217)])[_0x2b39a7(0x2f1)]({'_id':_0x2b39a7(0x781)});if(_0x30c248){let _0x1c55a7=JSON[_0x2b39a7(0x379)](JSON[_0x2b39a7(0x7a3)](_0x30c248),f[_0x2b39a7(0x286)][_0x2b39a7(0x1c8)]);_0x5981d1=_0x1c55a7['me']?.['name']||_0x1c55a7['me']?.[_0x2b39a7(0x1e8)];}}else{if((0x0,Re[_0x2b39a7(0x4ab)])((0x0,U['join'])(ge,this[_0x2b39a7(0x217)],'creds.json'))){let _0x4bae6f=JSON[_0x2b39a7(0x379)]((0x0,Re[_0x2b39a7(0x337)])((0x0,U[_0x2b39a7(0x224)])(ge,this[_0x2b39a7(0x217)],_0x2b39a7(0x5a0)),{'encoding':_0x2b39a7(0x419)}));_0x5981d1=_0x4bae6f['me']?.[_0x2b39a7(0x2c9)]||_0x4bae6f['me']?.['verifiedName'];}}}return _0x5981d1;}get[a0_0x15f0ef(0x7bd)](){const _0x5df323=a0_0x15f0ef;return this[_0x5df323(0x30f)]['profilePictureUrl'];}get['qrCode'](){const _0x1857eb=a0_0x15f0ef;return this['instance'][_0x1857eb(0x7fa)]?.[_0x1857eb(0x5a1)]?{'pairingCode':this['instance'][_0x1857eb(0x7fa)]?.[_0x1857eb(0x5a1)]}:{'code':this[_0x1857eb(0x30f)]['qrcode']?.[_0x1857eb(0x356)],'base64':this[_0x1857eb(0x30f)]['qrcode']?.[_0x1857eb(0x4cf)]};}async['loadWebhook'](){const _0x56a08f=a0_0x15f0ef;let _0x5b8bc6=await this['repository'][_0x56a08f(0x434)][_0x56a08f(0x585)](this['instanceName']);this[_0x56a08f(0x2ac)]['url']=_0x5b8bc6?.['url'],this[_0x56a08f(0x2ac)][_0x56a08f(0x323)]=_0x5b8bc6?.['enabled'],this['localWebhook'][_0x56a08f(0x653)]=_0x5b8bc6?.['local_map'],this[_0x56a08f(0x2ac)]['STATUS_INSTANCE']=_0x5b8bc6?.[_0x56a08f(0x443)],this['localWebhook'][_0x56a08f(0x74a)]=_0x5b8bc6?.[_0x56a08f(0x74a)],this[_0x56a08f(0x2ac)]['SEND_MESSAGE']=_0x5b8bc6?.[_0x56a08f(0x6cf)],this['localWebhook'][_0x56a08f(0x522)]=_0x5b8bc6?.[_0x56a08f(0x522)],this['localWebhook'][_0x56a08f(0x549)]=_0x5b8bc6?.[_0x56a08f(0x549)],this['localWebhook'][_0x56a08f(0x55c)]=_0x5b8bc6?.[_0x56a08f(0x55c)],this[_0x56a08f(0x2ac)][_0x56a08f(0x664)]=_0x5b8bc6?.[_0x56a08f(0x664)],this[_0x56a08f(0x2ac)][_0x56a08f(0x3d4)]=_0x5b8bc6?.[_0x56a08f(0x3d4)],this[_0x56a08f(0x2ac)][_0x56a08f(0x2dc)]=_0x5b8bc6?.[_0x56a08f(0x2dc)],this[_0x56a08f(0x2ac)][_0x56a08f(0x625)]=_0x5b8bc6?.[_0x56a08f(0x625)],this[_0x56a08f(0x2ac)][_0x56a08f(0x338)]=_0x5b8bc6?.[_0x56a08f(0x338)],this[_0x56a08f(0x2ac)]['CHATS_DELETE']=_0x5b8bc6?.[_0x56a08f(0x383)],this['localWebhook'][_0x56a08f(0x352)]=_0x5b8bc6?.[_0x56a08f(0x352)],this[_0x56a08f(0x2ac)][_0x56a08f(0x55e)]=_0x5b8bc6?.[_0x56a08f(0x55e)],this[_0x56a08f(0x2ac)][_0x56a08f(0x594)]=_0x5b8bc6?.[_0x56a08f(0x594)],this['localWebhook'][_0x56a08f(0x46c)]=_0x5b8bc6?.[_0x56a08f(0x46c)],this[_0x56a08f(0x2ac)][_0x56a08f(0x73e)]=_0x5b8bc6?.[_0x56a08f(0x73e)],this[_0x56a08f(0x2ac)][_0x56a08f(0x6bc)]=_0x5b8bc6?.[_0x56a08f(0x6bc)],this[_0x56a08f(0x2ac)][_0x56a08f(0x4b9)]=_0x5b8bc6?.[_0x56a08f(0x4b9)];}async['setWebhook'](_0xab7408){const _0x132808=a0_0x15f0ef;let _0x368a94=['_id','url',_0x132808(0x323),_0x132808(0x653),_0x132808(0x443),_0x132808(0x74a),_0x132808(0x549),_0x132808(0x522),_0x132808(0x6cf),_0x132808(0x55c),_0x132808(0x664),_0x132808(0x3d4),_0x132808(0x2dc),_0x132808(0x625),_0x132808(0x338),_0x132808(0x383),_0x132808(0x352),_0x132808(0x55e),_0x132808(0x594),_0x132808(0x46c),'MESSAGES_SET',_0x132808(0x6bc),_0x132808(0x4b9)],_0x5c5121={};return _0x368a94[_0x132808(0x40e)](_0x5668c0=>{_0xab7408[_0x5668c0]!==void 0x0&&(_0x5c5121[_0x5668c0]=_0xab7408[_0x5668c0]);}),_0x5c5121[_0x132808(0x66d)]&&(_0x5c5121[_0x132808(0x66d)]=_0x5c5121['url'][_0x132808(0x7dc)]()),await this['repository'][_0x132808(0x434)][_0x132808(0x3ad)](_0x5c5121,this[_0x132808(0x217)]),Object[_0x132808(0x6b4)](this['localWebhook'],_0x5c5121),await this[_0x132808(0x868)][_0x132808(0x434)][_0x132808(0x585)](this[_0x132808(0x217)]);}async[a0_0x15f0ef(0x599)](){const _0x271afb=a0_0x15f0ef;return await this[_0x271afb(0x868)][_0x271afb(0x434)][_0x271afb(0x585)](this[_0x271afb(0x217)]);}async['sendDataWebhook'](_0x493acb,_0x306d27){const _0x31243a=a0_0x15f0ef;let _0x146b4a=_0x493acb[_0x31243a(0x1e1)](/[\.-]/gm,'_')[_0x31243a(0x72d)](),_0x702074=this[_0x31243a(0x2ac)][_0x31243a(0x323)]&&(0x0,_['isURL'])(this[_0x31243a(0x2ac)][_0x31243a(0x66d)])?this[_0x31243a(0x2ac)][_0x31243a(0x66d)]+(this[_0x31243a(0x2ac)][_0x31243a(0x653)]?this['webhookMap'][_0x493acb]:''):null,_0x2b6987=this['localWebhook'][_0x146b4a],_0x585002=ce&&ce[_0x31243a(0x323)]&&(0x0,_[_0x31243a(0x241)])(ce[_0x31243a(0x66d)])?ce[_0x31243a(0x66d)]+(ce['local_map']?this[_0x31243a(0x4e5)][_0x493acb]:''):null,_0x19ea68=ce?ce[_0x146b4a]:null;if(_0x2b6987&&_0x702074)try{await K['default'][_0x31243a(0x3ad)]({'baseURL':_0x702074})[_0x31243a(0x6d9)]('',{'event':_0x493acb,'instance':this['instance'][_0x31243a(0x2c9)],'apikey':this['instance']['apikey'],'data':_0x306d27}),this['logger']['log'](this[_0x31243a(0x217)]+'\x20('+this[_0x31243a(0x30f)][_0x31243a(0x744)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x493acb+':\x20'+_0x702074);}catch{this[_0x31243a(0x876)]['error'](this[_0x31243a(0x217)]+'\x20('+this[_0x31243a(0x30f)][_0x31243a(0x744)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x493acb+':\x20'+_0x702074);}if(_0x19ea68&&_0x585002)try{await K[_0x31243a(0x6bb)][_0x31243a(0x3ad)]({'baseURL':_0x585002})[_0x31243a(0x6d9)]('',{'event':_0x493acb,'instance':this[_0x31243a(0x30f)][_0x31243a(0x2c9)],'apikey':this[_0x31243a(0x30f)][_0x31243a(0x6cb)],'data':_0x306d27}),this[_0x31243a(0x876)][_0x31243a(0x884)](this[_0x31243a(0x217)]+'\x20('+this[_0x31243a(0x30f)][_0x31243a(0x744)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x493acb+':\x20'+_0x585002);}catch{this[_0x31243a(0x876)]['error'](this[_0x31243a(0x217)]+'\x20('+this[_0x31243a(0x30f)][_0x31243a(0x744)]+_0x31243a(0x88f)+_0x493acb+':\x20'+_0x585002);}}async[a0_0x15f0ef(0x702)]({qr:_0x3c91b7,connection:_0x2c8721,lastDisconnect:_0x3eb7b2}){const _0x1feb35=a0_0x15f0ef;if(_0x3c91b7){if(this[_0x1feb35(0x30f)][_0x1feb35(0x7fa)][_0x1feb35(0x2ab)]===Ro)return this[_0x1feb35(0x268)](_0x1feb35(0x64e),{'message':_0x1feb35(0x761),'statusCode':f[_0x1feb35(0x773)][_0x1feb35(0x80f)]}),this[_0x1feb35(0x23f)]={'state':_0x1feb35(0x4bf),'statusReason':f[_0x1feb35(0x773)][_0x1feb35(0x2e6)]},this[_0x1feb35(0x268)](_0x1feb35(0x49a),{'instance':this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)],...this['stateConnection']}),this[_0x1feb35(0x268)](_0x1feb35(0x52d),{'instance':this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)],'status':_0x1feb35(0x670)}),this['repository'][_0x1feb35(0x894)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)]),this[_0x1feb35(0x228)]=!0x0,this[_0x1feb35(0x79c)][_0x1feb35(0x380)](_0x1feb35(0x49c),this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)]);this['instance'][_0x1feb35(0x7fa)][_0x1feb35(0x2ab)]++;let _0x4756f3={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1feb35(0x495),'dark':_0x1feb35(0x694)}};$r[_0x1feb35(0x6bb)][_0x1feb35(0x2ae)](_0x3c91b7,_0x4756f3,(_0x3e8640,_0x3b7d1b)=>{const _0x227dcb=_0x1feb35;if(_0x3e8640){this[_0x227dcb(0x876)][_0x227dcb(0x790)](this[_0x227dcb(0x217)]+'\x20('+this[_0x227dcb(0x30f)]['wuid']+_0x227dcb(0x896)+(_0x3e8640 instanceof Error?_0x3e8640['message']:JSON[_0x227dcb(0x7a3)](_0x3e8640,null,0x2)));return;}this['instance'][_0x227dcb(0x7fa)][_0x227dcb(0x4cf)]=_0x3b7d1b,this[_0x227dcb(0x30f)][_0x227dcb(0x7fa)][_0x227dcb(0x356)]=_0x3c91b7,!this[_0x227dcb(0x4cc)]&&this[_0x227dcb(0x268)](_0x227dcb(0x64e),{'qrcode':{'instance':this[_0x227dcb(0x30f)]['name'],'pairingCode':this['instance']['qrcode'][_0x227dcb(0x5a1)],'code':_0x3c91b7,'base64':_0x3b7d1b}});}),this[_0x1feb35(0x4cc)]?this[_0x1feb35(0x30f)][_0x1feb35(0x7fa)]['pairingCode']||(await(0x0,f[_0x1feb35(0x799)])(0x7d0),this['instance'][_0x1feb35(0x7fa)][_0x1feb35(0x5a1)]=await this[_0x1feb35(0x7cf)][_0x1feb35(0x75c)](this[_0x1feb35(0x4cc)])):this[_0x1feb35(0x30f)]['qrcode'][_0x1feb35(0x5a1)]=null,Ar[_0x1feb35(0x6bb)][_0x1feb35(0x6c6)](_0x3c91b7,{'small':!0x0},_0x1e28a4=>this[_0x1feb35(0x876)][_0x1feb35(0x884)](_0x1feb35(0x24c)+this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)]+_0x1feb35(0x811)+this[_0x1feb35(0x30f)][_0x1feb35(0x7fa)][_0x1feb35(0x2ab)]+_0x1feb35(0x38d)+this['instance']['qrcode']['pairingCode']+_0x1feb35(0x38b)+_0x1e28a4));}if(_0x2c8721&&(this[_0x1feb35(0x23f)]={'state':_0x2c8721,'statusReason':_0x3eb7b2?.[_0x1feb35(0x790)]?.[_0x1feb35(0x37a)]?.[_0x1feb35(0x5aa)]??0xc8},this[_0x1feb35(0x268)](_0x1feb35(0x49a),{'instance':this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)],...this['stateConnection']})),_0x2c8721===_0x1feb35(0x2e7)){if(this[_0x1feb35(0x5b7)]++,this[_0x1feb35(0x485)][_0x1feb35(0x21e)](Date[_0x1feb35(0x3ce)]()),this['reconnectTimestamps']=this['reconnectTimestamps'][_0x1feb35(0x58a)](_0x1eda0a=>Date[_0x1feb35(0x3ce)]()-_0x1eda0a<this[_0x1feb35(0x43e)]),_0x3eb7b2[_0x1feb35(0x790)]?.[_0x1feb35(0x37a)]?.[_0x1feb35(0x5aa)]!==f[_0x1feb35(0x773)][_0x1feb35(0x7ad)]&&this[_0x1feb35(0x485)][_0x1feb35(0x272)]<=this[_0x1feb35(0x65c)])console['log'](this[_0x1feb35(0x217)]+_0x1feb35(0x511)+this[_0x1feb35(0x5b7)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x1feb35(0x57b)),console[_0x1feb35(0x884)](_0x1feb35(0x54a)),await this[_0x1feb35(0x568)]();else{this[_0x1feb35(0x268)]('status.instance',{'instance':this[_0x1feb35(0x30f)]['name'],'status':_0x1feb35(0x670)}),this[_0x1feb35(0x30f)][_0x1feb35(0x61b)][_0x1feb35(0x768)]=!0x1,this[_0x1feb35(0x868)][_0x1feb35(0x434)][_0x1feb35(0x439)](this[_0x1feb35(0x217)]),this[_0x1feb35(0x868)]['auth'][_0x1feb35(0x3ad)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1feb35(0x3ce)]()},this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)]);try{this[_0x1feb35(0x876)]['verbose'](this[_0x1feb35(0x217)]+'\x20('+this[_0x1feb35(0x30f)][_0x1feb35(0x744)]+_0x1feb35(0x4c2));let _0x4145c9=await this[_0x1feb35(0x868)][_0x1feb35(0x488)]['deleteAll'](this['instance'][_0x1feb35(0x744)]);_0x4145c9[_0x1feb35(0x46e)]?this[_0x1feb35(0x876)][_0x1feb35(0x636)](this[_0x1feb35(0x217)]+'\x20('+this[_0x1feb35(0x30f)]['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x1feb35(0x790)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x4145c9['error']);}catch(_0x436899){console[_0x1feb35(0x790)](_0x1feb35(0x509),_0x436899[_0x1feb35(0x488)]);}this[_0x1feb35(0x30f)][_0x1feb35(0x61b)][_0x1feb35(0x7b9)]!==null&&(this[_0x1feb35(0x876)][_0x1feb35(0x636)](this[_0x1feb35(0x217)]+'\x20('+this[_0x1feb35(0x30f)][_0x1feb35(0x744)]+_0x1feb35(0x83d)),clearInterval(this[_0x1feb35(0x30f)][_0x1feb35(0x61b)][_0x1feb35(0x7b9)]),this['instance'][_0x1feb35(0x61b)][_0x1feb35(0x7b9)]=null),this[_0x1feb35(0x876)][_0x1feb35(0x636)](this['instanceName']+'\x20('+this[_0x1feb35(0x30f)][_0x1feb35(0x744)]+_0x1feb35(0x7b1)),this[_0x1feb35(0x276)]=null,this[_0x1feb35(0x79c)][_0x1feb35(0x380)](_0x1feb35(0x4be),this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)],_0x1feb35(0x7a9)),this[_0x1feb35(0x7cf)]?.['ws']?.[_0x1feb35(0x2e7)](),this['client']['end'](new Error('Close\x20connection'));}}if(_0x2c8721==='open'){this['client']['ev'][_0x1feb35(0x3bc)](),this[_0x1feb35(0x84a)],this['instance']['wuid']=this[_0x1feb35(0x7cf)][_0x1feb35(0x513)]['id']['replace'](/:\d+/,'')[_0x1feb35(0x1e1)](_0x1feb35(0x713),''),this[_0x1feb35(0x30f)]['profilePictureUrl']=(await this[_0x1feb35(0x76b)](this[_0x1feb35(0x30f)]['wuid']+_0x1feb35(0x713)))[_0x1feb35(0x7bd)],this[_0x1feb35(0x868)]['auth']['create']({'online':!0x0,'owner':this[_0x1feb35(0x30f)][_0x1feb35(0x744)],'lastDisconnect':null},this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)]);let _0x57c3cf=_0x1feb35(0x247)+this[_0x1feb35(0x30f)]['wuid'],_0x5cd053=0x28,_0x2b396f=Math[_0x1feb35(0x34a)]((_0x5cd053-_0x57c3cf['length'])/0x2),_0x4e1703='\x20'[_0x1feb35(0x674)](_0x2b396f),_0x135876=_0x1feb35(0x482),_0x4fe3be=_0x1feb35(0x81a)+this[_0x1feb35(0x30f)][_0x1feb35(0x2c9)],_0x4d0365=(''+_0x4e1703+_0x57c3cf+_0x4e1703)[_0x1feb35(0x223)](_0x5cd053,'\x20'),_0x2dc42e=(''+_0x4e1703+_0x135876+_0x4e1703)[_0x1feb35(0x223)](_0x5cd053,'\x20'),_0x19dcb5=(''+_0x4e1703+_0x4fe3be+_0x4e1703)[_0x1feb35(0x223)](_0x5cd053,'\x20'),_0xd08ff0=Math[_0x1feb35(0x57c)](_0x4d0365[_0x1feb35(0x272)],_0x2dc42e[_0x1feb35(0x272)],_0x19dcb5[_0x1feb35(0x272)]),_0xe02f3d=_0x4d0365['padEnd'](_0xd08ff0,'\x20'),_0x31a9a7=_0x2dc42e[_0x1feb35(0x223)](_0xd08ff0,'\x20'),_0x31c382=_0x19dcb5[_0x1feb35(0x223)](_0xd08ff0,'\x20');this[_0x1feb35(0x876)][_0x1feb35(0x556)]((_0x1feb35(0x364)+'─'[_0x1feb35(0x674)](_0xd08ff0)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x31a9a7+_0x1feb35(0x76a)+_0x31c382+_0x1feb35(0x76a)+_0xe02f3d+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x1feb35(0x674)](_0xd08ff0)+'┘')[_0x1feb35(0x1e1)](/^ +/gm,'\x20\x20')),this[_0x1feb35(0x44b)](),this[_0x1feb35(0x30f)][_0x1feb35(0x61b)][_0x1feb35(0x768)]=!0x0;}}['resetReconnectionVariables'](){const _0x2b6a38=a0_0x15f0ef;this['reconnectAttempts']=0x0,this[_0x2b6a38(0x485)]=[];}async[a0_0x15f0ef(0x7b3)](_0x25f32e,_0x406411=!0x1){const _0x365695=a0_0x15f0ef;try{let _0x1978ec=await this[_0x365695(0x868)]['message'][_0x365695(0x585)]({'where':{'_id':_0x25f32e['id']}},this['instance'][_0x365695(0x744)]);return _0x406411?_0x1978ec[0x0]:_0x1978ec[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x15f0ef(0x697)](){const _0x3dc5d6=a0_0x15f0ef;let _0x1d97fc=this[_0x3dc5d6(0x484)][_0x3dc5d6(0x82b)](_0x3dc5d6(0x5d0)),_0x353f11=this[_0x3dc5d6(0x484)][_0x3dc5d6(0x82b)]('DATABASE');_0x1d97fc?.[_0x3dc5d6(0x7a5)]&&!_0x353f11['ENABLED']&&setInterval(()=>{const _0x3cbd4b=_0x3dc5d6;try{for(let [_0x248374,_0x590086]of Object['entries'](_0x1d97fc))_0x590086===!0x0&&(0x0,Oe['execSync'])(_0x3cbd4b(0x73d)+(0x0,U['join'])(this['storePath'],_0x248374['toLowerCase'](),this[_0x3cbd4b(0x30f)][_0x3cbd4b(0x744)])+_0x3cbd4b(0x41d));}catch{}},(_0x1d97fc?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x15f0ef(0x65f)](){const _0x179603=a0_0x15f0ef;let _0x1cdcf3=this[_0x179603(0x484)][_0x179603(0x82b)]('DATABASE'),_0x481955=this['configService'][_0x179603(0x82b)](_0x179603(0x53d));return _0x481955?.[_0x179603(0x796)]?await Os(_0x481955,this['instance']['name']):_0x1cdcf3[_0x179603(0x796)]?await Rs(this[_0x179603(0x30f)][_0x179603(0x2c9)]):await(0x0,f[_0x179603(0x20a)])((0x0,U[_0x179603(0x224)])(ge,this[_0x179603(0x30f)][_0x179603(0x2c9)]));}async[a0_0x15f0ef(0x44b)](){const _0x4e3409=a0_0x15f0ef;let _0xd301c2=()=>Math[_0x4e3409(0x34a)](Math['random']()*0x2711)+0x7d0,_0x2bb89a=async()=>{const _0x1aa9d8=_0x4e3409;if(!this[_0x1aa9d8(0x30f)][_0x1aa9d8(0x61b)][_0x1aa9d8(0x768)]){this['logger']['verbose'](_0x1aa9d8(0x6f6)),this['isRunning']=!0x1;return;}if(this['instance'][_0x1aa9d8(0x744)]&&this[_0x1aa9d8(0x276)]&&this[_0x1aa9d8(0x30f)][_0x1aa9d8(0x61b)][_0x1aa9d8(0x7b9)]!==null&&this[_0x1aa9d8(0x30f)][_0x1aa9d8(0x61b)][_0x1aa9d8(0x7b9)]!==void 0x0){let _0x38ef0c=Math[_0x1aa9d8(0x4a5)](this[_0x1aa9d8(0x30f)]['ScheduleMessage']['delayMessage']/0xea60);this['logger'][_0x1aa9d8(0x636)](this[_0x1aa9d8(0x217)]+'\x20('+this['instance'][_0x1aa9d8(0x744)]+_0x1aa9d8(0x1d9)+_0x38ef0c+_0x1aa9d8(0x733)),this[_0x1aa9d8(0x3b2)]=!0x1;return;}else this[_0x1aa9d8(0x30f)][_0x1aa9d8(0x744)]&&(this[_0x1aa9d8(0x876)]['verbose'](this[_0x1aa9d8(0x217)]+'\x20('+this[_0x1aa9d8(0x30f)]['wuid']+_0x1aa9d8(0x4ff)),this[_0x1aa9d8(0x276)]||(await this[_0x1aa9d8(0x525)](),this[_0x1aa9d8(0x5cb)]()),(this[_0x1aa9d8(0x30f)][_0x1aa9d8(0x61b)][_0x1aa9d8(0x7b9)]===null||this[_0x1aa9d8(0x30f)][_0x1aa9d8(0x61b)][_0x1aa9d8(0x7b9)]===void 0x0)&&await this[_0x1aa9d8(0x88c)]());if(this['isRunning']){let _0x207996=_0xd301c2();this[_0x1aa9d8(0x876)][_0x1aa9d8(0x636)](this['instanceName']+_0x1aa9d8(0x722)+_0x207996/0x3e8+_0x1aa9d8(0x610)),setTimeout(_0x2bb89a,_0x207996);}};if(this[_0x4e3409(0x3b2)])return;this[_0x4e3409(0x3b2)]=!0x0;let _0x40faca=_0xd301c2();setTimeout(_0x2bb89a,_0x40faca);}async['loadproxy'](_0x524e83=0x0,_0x20c3d7=!0x1){const _0x56c660=a0_0x15f0ef;try{let _0x2c162d=this[_0x56c660(0x484)][_0x56c660(0x82b)](_0x56c660(0x783));if(_0x2c162d!==0x1||typeof _0x2c162d>'u'||_0x524e83>=0x5)return this[_0x56c660(0x876)][_0x56c660(0x235)](_0x56c660(0x30a)),this['repository'][_0x56c660(0x894)][_0x56c660(0x3ad)]({'ip':null},this['instance'][_0x56c660(0x2c9)]),{};this[_0x56c660(0x876)][_0x56c660(0x636)](this[_0x56c660(0x217)]+_0x56c660(0x3fe)+(_0x524e83+0x1)+_0x56c660(0x7c9));let _0x2e7797;if(!_0x20c3d7){let _0x782dbb=await this[_0x56c660(0x868)][_0x56c660(0x894)][_0x56c660(0x585)](this[_0x56c660(0x217)]);_0x782dbb&&_0x782dbb['ip']&&(_0x2e7797=vr(_0x782dbb['ip']));}if((!_0x2e7797||!Ts(_0x2e7797))&&(this[_0x56c660(0x876)][_0x56c660(0x235)](this[_0x56c660(0x217)]+_0x56c660(0x59a)),_0x2e7797=Nr()),_0x2e7797&&Ts(_0x2e7797)){let _0x5a0bbb=_0x2e7797[_0x56c660(0x6f7)]&&_0x2e7797[_0x56c660(0x45a)]?_0x2e7797['protocol']+_0x56c660(0x1cf)+_0x2e7797[_0x56c660(0x6f7)]+':'+_0x2e7797[_0x56c660(0x45a)]+'@'+_0x2e7797[_0x56c660(0x617)]+':'+_0x2e7797[_0x56c660(0x720)]:_0x2e7797[_0x56c660(0x4b2)]+_0x56c660(0x1cf)+_0x2e7797[_0x56c660(0x617)]+':'+_0x2e7797[_0x56c660(0x720)];return await this[_0x56c660(0x7ab)](_0x5a0bbb,_0x2e7797[_0x56c660(0x617)])?(this[_0x56c660(0x876)]['verbose'](this[_0x56c660(0x217)]+_0x56c660(0x6fd)),this[_0x56c660(0x868)][_0x56c660(0x894)]['create']({'ip':_0x2e7797['host']},this[_0x56c660(0x30f)][_0x56c660(0x2c9)]),{'agent':new Ft[(_0x56c660(0x5a5))](_0x5a0bbb),'fetchAgent':new Ft[(_0x56c660(0x5a5))](_0x5a0bbb)}):(this[_0x56c660(0x876)][_0x56c660(0x235)](this[_0x56c660(0x217)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,f[_0x56c660(0x799)])(0xc8),this[_0x56c660(0x6e8)](_0x524e83+0x1,!0x0));}else return this[_0x56c660(0x876)]['warn'](this[_0x56c660(0x217)]+_0x56c660(0x281)),await(0x0,f[_0x56c660(0x799)])(0xc8),this[_0x56c660(0x6e8)](_0x524e83+0x1,!0x0);}catch(_0x4b5b3e){return this[_0x56c660(0x876)][_0x56c660(0x790)](this['instanceName']+_0x56c660(0x679)+_0x4b5b3e[_0x56c660(0x488)]),{};}}async['testProxy'](_0x2d654a,_0x3deb7c){const _0x270fad=a0_0x15f0ef;let _0x1d86c2=new Ft[(_0x270fad(0x5a5))](_0x2d654a),_0x557742=0x1388,_0x1a98b8=[{'url':_0x270fad(0x715),'parse':_0x3f52ad=>_0x3f52ad['ip']},{'url':_0x270fad(0x870),'parse':_0xdb5c93=>_0xdb5c93['ip']},{'url':_0x270fad(0x43a),'parse':_0x12fe11=>_0x12fe11['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x197cd2=>_0x197cd2['ip']},{'url':_0x270fad(0x7b5),'parse':_0x424206=>_0x424206['trim']()},{'url':_0x270fad(0x780),'parse':_0x164f12=>_0x164f12['trim']()},{'url':_0x270fad(0x318),'parse':_0x26cbb8=>_0x26cbb8[_0x270fad(0x2e5)]},{'url':_0x270fad(0x628),'parse':_0x1b841b=>_0x1b841b[_0x270fad(0x7dc)]()},{'url':_0x270fad(0x816),'parse':_0x317697=>_0x317697[_0x270fad(0x7dc)]()}],_0x4c7c17=_0x1a98b8[Math[_0x270fad(0x34a)](Math[_0x270fad(0x755)]()*_0x1a98b8[_0x270fad(0x272)])];try{let _0x1954c3=await K['default']['get'](_0x4c7c17[_0x270fad(0x66d)],{'httpsAgent':_0x1d86c2,'timeout':_0x557742}),_0xa56e2=_0x4c7c17['parse'](_0x1954c3[_0x270fad(0x467)]);return _0xa56e2===_0x3deb7c?(this[_0x270fad(0x876)][_0x270fad(0x636)](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x3deb7c+'\x20-\x20retornado:\x20'+_0xa56e2+'\x20->\x20CONFIRMADO.'),!0x0):(this['logger'][_0x270fad(0x790)](this[_0x270fad(0x217)]+_0x270fad(0x48a)+_0x3deb7c+'\x20-\x20retornado:\x20'+_0xa56e2+_0x270fad(0x7f2)),!0x1);}catch(_0x140263){return this['logger'][_0x270fad(0x790)](this[_0x270fad(0x217)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x4c7c17[_0x270fad(0x66d)]+':\x20'+_0x140263['message']),!0x1;}}async['connectToWhatsapp'](_0x21ad3a){const _0x1f0e8f=a0_0x15f0ef;try{let _0x575819=await this[_0x1f0e8f(0x6e8)]();this[_0x1f0e8f(0x27b)](),this['instance'][_0x1f0e8f(0x6cb)]=(await this[_0x1f0e8f(0x868)]['auth'][_0x1f0e8f(0x585)](this['instance'][_0x1f0e8f(0x2c9)]))[_0x1f0e8f(0x6cb)],this[_0x1f0e8f(0x30f)]['authState']=await this['defineAuthState']();let {version:_0x44bfa6}=await(0x0,f[_0x1f0e8f(0x862)])(),_0x348099=[Ir,Ds,(0x0,As[_0x1f0e8f(0x3a9)])()],_0x4d68c4={..._0x575819,'auth':{'creds':this[_0x1f0e8f(0x30f)]['authState'][_0x1f0e8f(0x72b)][_0x1f0e8f(0x781)],'keys':(0x0,f[_0x1f0e8f(0x5a8)])(this[_0x1f0e8f(0x30f)][_0x1f0e8f(0x470)][_0x1f0e8f(0x72b)][_0x1f0e8f(0x6e6)],(0x0,Pt[_0x1f0e8f(0x6bb)])({'level':'error'}))},'logger':(0x0,Pt[_0x1f0e8f(0x6bb)])({'level':_0x1f0e8f(0x790)}),'printQRInTerminal':!0x1,'browser':_0x21ad3a?[_0x1f0e8f(0x71a),Ds,(0x0,As[_0x1f0e8f(0x3a9)])()]:_0x348099,'version':_0x44bfa6,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0xaa370f=>{const _0x15111b=_0x1f0e8f;let _0x55eea0=_0xaa370f['endsWith']('@newsletter'),_0x17c342=this[_0x15111b(0x2ac)]?.[_0x15111b(0x4b9)]&&_0xaa370f[_0x15111b(0x34b)](_0x15111b(0x230));return _0x55eea0||(0x0,f[_0x15111b(0x54e)])(_0xaa370f)||_0x17c342;},'msgRetryCounterCache':this[_0x1f0e8f(0x75d)],'getMessage':async _0x54a70a=>await this[_0x1f0e8f(0x7b3)](_0x54a70a),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3f9f0f=>(_0x3f9f0f[_0x1f0e8f(0x2b0)]?.[_0x1f0e8f(0x65a)]==f[_0x1f0e8f(0x87c)]['Message'][_0x1f0e8f(0x417)][_0x1f0e8f(0x537)][_0x1f0e8f(0x415)]&&(_0x3f9f0f=JSON['parse'](JSON[_0x1f0e8f(0x7a3)](_0x3f9f0f)),_0x3f9f0f[_0x1f0e8f(0x2b0)]['listType']=f[_0x1f0e8f(0x87c)][_0x1f0e8f(0x6b9)]['ListMessage']['ListType']['SINGLE_SELECT']),_0x3f9f0f)};return this[_0x1f0e8f(0x228)]=!0x1,this[_0x1f0e8f(0x7cf)]=(0x0,f[_0x1f0e8f(0x6bb)])(_0x4d68c4),this[_0x1f0e8f(0x387)](),this[_0x1f0e8f(0x4cc)]=_0x21ad3a,this[_0x1f0e8f(0x7cf)];}catch(_0x6ffae){let _0x9d5734=_0x1f0e8f(0x4e3),_0x31f518=_0x6ffae instanceof Error?_0x6ffae[_0x1f0e8f(0x488)]:typeof _0x6ffae==_0x1f0e8f(0x84f)?JSON[_0x1f0e8f(0x7a3)](_0x6ffae):_0x6ffae,_0x328d20=_0x9d5734+':\x20'+_0x31f518;throw this[_0x1f0e8f(0x876)][_0x1f0e8f(0x790)](this[_0x1f0e8f(0x217)]+'\x20('+this['instance'][_0x1f0e8f(0x744)]+_0x1f0e8f(0x603)+_0x328d20),new A(_0x328d20);}}[a0_0x15f0ef(0x387)](){const _0x2d4f59=a0_0x15f0ef;this[_0x2d4f59(0x7cf)]['ev'][_0x2d4f59(0x34f)](_0x3482e4=>{const _0x2a6f19=_0x2d4f59;if(!this[_0x2a6f19(0x228)]){let _0x575a60=this[_0x2a6f19(0x484)]['get'](_0x2a6f19(0x274));if(_0x3482e4['labels.edit']){let _0x163c01=_0x3482e4['labels.edit'];this['messageHandle'][_0x2a6f19(0x612)](_0x163c01);}if(_0x3482e4['labels.association']){let _0x41c046=_0x3482e4['labels.association'];this[_0x2a6f19(0x215)]['labels.association'](_0x41c046);}if(_0x3482e4[_0x2a6f19(0x49a)]&&this[_0x2a6f19(0x702)](_0x3482e4[_0x2a6f19(0x49a)]),_0x3482e4['creds.update']&&this['instance']['authState'][_0x2a6f19(0x461)](),_0x3482e4[_0x2a6f19(0x3c8)]){let _0x5052b5=_0x3482e4['messaging-history.set'];this[_0x2a6f19(0x215)]['messaging-history.set'](_0x5052b5,_0x575a60);}if(_0x3482e4[_0x2a6f19(0x613)]){let _0x47116b=_0x3482e4[_0x2a6f19(0x613)];this[_0x2a6f19(0x215)][_0x2a6f19(0x613)](_0x47116b,_0x575a60);}if(_0x3482e4[_0x2a6f19(0x68f)]){let _0x4048b9=_0x3482e4[_0x2a6f19(0x68f)];_0x4048b9[_0x2a6f19(0x40e)](_0x28e09c=>{const _0x539f30=_0x2a6f19;if(Or[_0x28e09c['key']['id']]){this[_0x539f30(0x7cf)]['ev'][_0x539f30(0x380)](_0x539f30(0x613),{'messages':[_0x28e09c],'type':_0x539f30(0x74c)}),delete Or[_0x28e09c['key']['id']];return;}}),this[_0x2a6f19(0x215)][_0x2a6f19(0x68f)](_0x4048b9,_0x575a60);}if(_0x3482e4[_0x2a6f19(0x41e)]){let _0x116d31=_0x3482e4['presence.update'];if(this[_0x2a6f19(0x2ac)]?.[_0x2a6f19(0x4b9)]&&_0x116d31['id'][_0x2a6f19(0x3d8)]('@g.us'))return;this[_0x2a6f19(0x268)](_0x2a6f19(0x41e),_0x116d31);}if(!this[_0x2a6f19(0x2ac)]?.['groups_ignore']){if(_0x3482e4['groups.upsert']){let _0x5ae4ec=_0x3482e4[_0x2a6f19(0x49e)];this[_0x2a6f19(0x4f3)][_0x2a6f19(0x49e)](_0x5ae4ec);}if(_0x3482e4[_0x2a6f19(0x1e3)]){let _0x40020b=_0x3482e4[_0x2a6f19(0x1e3)];this['groupHandler'][_0x2a6f19(0x1e3)](_0x40020b);}if(_0x3482e4[_0x2a6f19(0x71c)]){let _0x2376a4=_0x3482e4[_0x2a6f19(0x71c)];this[_0x2a6f19(0x4f3)][_0x2a6f19(0x71c)](_0x2376a4);}}if(_0x3482e4[_0x2a6f19(0x1cc)]){let _0x53fdee=_0x3482e4[_0x2a6f19(0x1cc)];this[_0x2a6f19(0x477)][_0x2a6f19(0x1cc)](_0x53fdee,_0x575a60);}if(_0x3482e4[_0x2a6f19(0x1e6)]){let _0x30e489=_0x3482e4[_0x2a6f19(0x1e6)];this[_0x2a6f19(0x477)][_0x2a6f19(0x1e6)](_0x30e489,_0x575a60);}if(_0x3482e4['chats.delete']){let _0x5864ff=_0x3482e4[_0x2a6f19(0x6fa)];this[_0x2a6f19(0x477)][_0x2a6f19(0x6fa)](_0x5864ff);}if(_0x3482e4[_0x2a6f19(0x21a)]){let _0x5cc87b=_0x3482e4['contacts.upsert'];this[_0x2a6f19(0x52e)][_0x2a6f19(0x21a)](_0x5cc87b,_0x575a60);}if(_0x3482e4[_0x2a6f19(0x213)]){let _0x25344d=_0x3482e4['contacts.update'];this[_0x2a6f19(0x52e)][_0x2a6f19(0x213)](_0x25344d,_0x575a60);}}});}['delayChatLabel'](_0x4b8857){return new Promise(_0x4e88e3=>setTimeout(_0x4e88e3,_0x4b8857));}[a0_0x15f0ef(0x837)](_0x45fa1a){const _0xaee9d4=a0_0x15f0ef;_0x45fa1a=_0x45fa1a['replace'](/\D/g,'');let _0x54c32e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xaee9d4(0x2d6)](_0x45fa1a);if(_0x54c32e&&_0x54c32e[0x1]==='55'){let _0x43575b=_0x54c32e[0x2],_0x2c2da2=_0x54c32e[0x3],_0x50ace6=_0x54c32e[0x4];if(parseInt(_0x43575b)>=0x1f&&_0x2c2da2==='9')return _0x54c32e[0x1]+_0x43575b+_0x50ace6;}return _0x45fa1a;}[a0_0x15f0ef(0x514)](_0xe5edbe){const _0x59ca4d=a0_0x15f0ef;return _0xe5edbe[_0x59ca4d(0x3d8)](_0x59ca4d(0x230))||_0xe5edbe[_0x59ca4d(0x3d8)](_0x59ca4d(0x713))||_0xe5edbe[_0x59ca4d(0x3d8)]('@broadcast')?_0xe5edbe:(_0xe5edbe=_0xe5edbe?.[_0x59ca4d(0x1e1)](/\s/g,'')[_0x59ca4d(0x1e1)](/\+/g,'')[_0x59ca4d(0x1e1)](/\(/g,'')['replace'](/\)/g,'')[_0x59ca4d(0x414)](/\:/)[0x0][_0x59ca4d(0x414)]('@')[0x0],_0xe5edbe[_0x59ca4d(0x272)]>=0x12?(_0xe5edbe=_0xe5edbe['replace'](/[^\d-]/g,''),_0xe5edbe+_0x59ca4d(0x230)):(_0xe5edbe=_0xe5edbe[_0x59ca4d(0x1e1)](/\D/g,''),this[_0x59ca4d(0x837)](_0xe5edbe)+'@s.whatsapp.net'));}async[a0_0x15f0ef(0x23b)](_0x577fb1){const _0x571165=a0_0x15f0ef;let _0x1bbb7d=this[_0x571165(0x514)](_0x577fb1[_0x571165(0x253)]),_0x562596=(await this[_0x571165(0x6c7)]({'numbers':[_0x1bbb7d]}))[0x0];if(!_0x562596[_0x571165(0x25c)]&&!(0x0,f[_0x571165(0x4c1)])(_0x562596[_0x571165(0x360)]))throw new w(_0x562596);let _0x51a69d=(0x0,f[_0x571165(0x4c1)])(_0x1bbb7d)?_0x1bbb7d:_0x562596['jid'];if((0x0,f[_0x571165(0x4c1)])(_0x51a69d))try{await this[_0x571165(0x7cf)]['groupMetadata'](_0x51a69d);}catch{throw new F(_0x571165(0x3c6));}try{return await this['client'][_0x571165(0x3b4)](_0x51a69d),await this['client']['sendPresenceUpdate'](_0x577fb1['presence'],_0x1bbb7d),{'status':0xc8,'presence':_0x577fb1[_0x571165(0x762)]};}catch(_0x173a2d){let _0x577a9f=_0x571165(0x7a7),_0x30be85=_0x173a2d instanceof Error?_0x173a2d[_0x571165(0x488)]:typeof _0x173a2d==_0x571165(0x84f)?JSON[_0x571165(0x7a3)](_0x173a2d):_0x173a2d,_0x2d2246=_0x577a9f+':\x20'+_0x30be85;throw this['logger']['error'](this[_0x571165(0x217)]+'\x20('+this[_0x571165(0x30f)][_0x571165(0x744)]+'):\x20'+_0x2d2246),new w(_0x2d2246);}}async[a0_0x15f0ef(0x3d5)](_0x1cc16b,_0x28e93b,_0xa65d42){const _0x424c80=a0_0x15f0ef;let _0x3e113b=await this['repository'][_0x424c80(0x795)][_0x424c80(0x2f1)]({'where':{'_id':_0x1cc16b}}),_0x271c50={'lastUpdate':Date[_0x424c80(0x3ce)]()};if(_0xa65d42||!_0x3e113b?.['lastUpdate']||Date[_0x424c80(0x3ce)]()-_0x3e113b[_0x424c80(0x2bb)]>0x18*0x3c*0x3c*0x3e8)try{let _0x1ebf9b=(await this[_0x424c80(0x76b)](_0x1cc16b))[_0x424c80(0x7bd)];_0x271c50[_0x424c80(0x2bc)]=_0x1ebf9b;}catch(_0x11d988){let _0x35624e='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x1dcc7a=_0x11d988 instanceof Error?_0x11d988[_0x424c80(0x488)]:typeof _0x11d988=='object'?JSON[_0x424c80(0x7a3)](_0x11d988):_0x11d988,_0x3861e6=_0x35624e+':\x20'+_0x1dcc7a;throw this['logger'][_0x424c80(0x790)](this[_0x424c80(0x217)]+'\x20('+this[_0x424c80(0x30f)][_0x424c80(0x744)]+_0x424c80(0x603)+_0x3861e6),new w(_0x3861e6);}return _0x28e93b&&_0x3e113b?.[_0x424c80(0x2c9)]!==_0x28e93b&&(_0x271c50[_0x424c80(0x2c9)]=_0x28e93b),Object[_0x424c80(0x6e6)](_0x271c50)[_0x424c80(0x272)]>0x1&&(_0x3e113b?await this['repository'][_0x424c80(0x795)]['update']({'where':{'_id':_0x1cc16b}},_0x271c50):await this[_0x424c80(0x868)][_0x424c80(0x795)][_0x424c80(0x6ed)]([{'_id':_0x1cc16b,..._0x271c50}]),_0x3e113b={..._0x3e113b,..._0x271c50}),{'cachedContact':_0x3e113b};}async['profilePicture'](_0x20ea2f){const _0x4b0305=a0_0x15f0ef;let _0x35095d=this[_0x4b0305(0x514)](_0x20ea2f);try{return{'wuid':_0x35095d,'profilePictureUrl':await this[_0x4b0305(0x7cf)][_0x4b0305(0x7bd)](_0x35095d,_0x4b0305(0x278))};}catch{return{'wuid':_0x35095d,'profilePictureUrl':null};}}async[a0_0x15f0ef(0x481)](_0x3325d3,_0x573703,_0x5987e5){const _0x1ce9c6=a0_0x15f0ef;_0x5987e5||(_0x5987e5={});let _0x30fc5c=(await this[_0x1ce9c6(0x6c7)]({'numbers':[_0x3325d3]}))[0x0];if(!_0x30fc5c[_0x1ce9c6(0x25c)]&&!(0x0,f[_0x1ce9c6(0x4c1)])(_0x30fc5c[_0x1ce9c6(0x360)])&&!_0x30fc5c[_0x1ce9c6(0x360)][_0x1ce9c6(0x3d8)](_0x1ce9c6(0x321)))throw new w(_0x30fc5c);let _0x1a26fc=_0x30fc5c[_0x1ce9c6(0x360)];try{if(_0x5987e5?.[_0x1ce9c6(0x799)]){await this[_0x1ce9c6(0x7cf)][_0x1ce9c6(0x3b4)](_0x1a26fc),await this[_0x1ce9c6(0x7cf)][_0x1ce9c6(0x1df)](_0x5987e5?.[_0x1ce9c6(0x762)]??_0x1ce9c6(0x2f4),_0x1a26fc);let _0x537c05=Math[_0x1ce9c6(0x629)](_0x5987e5[_0x1ce9c6(0x799)],0x2710);await(0x0,f[_0x1ce9c6(0x799)])(_0x537c05),await this[_0x1ce9c6(0x7cf)]['sendPresenceUpdate'](_0x1ce9c6(0x32c),_0x1a26fc);}let _0x529799=_0x5987e5?.[_0x1ce9c6(0x2f0)]!=!0x1?void 0x0:!0x1,_0x13af5a;if(_0x5987e5?.[_0x1ce9c6(0x1dd)]){let _0x49248f=_0x5987e5?.['quoted'],_0x3f8232=_0x49248f?.[_0x1ce9c6(0x488)]?_0x49248f:await this[_0x1ce9c6(0x7b3)](_0x49248f[_0x1ce9c6(0x310)],!0x0);if(!_0x3f8232)throw _0x1ce9c6(0x400);_0x13af5a=_0x3f8232;}let _0x30bce2;if((0x0,f[_0x1ce9c6(0x4c1)])(_0x1a26fc))try{let _0x33fb3f=await this['client']['groupMetadata'](_0x1a26fc);if(!_0x33fb3f)throw new F(_0x1ce9c6(0x3c6));_0x5987e5?.[_0x1ce9c6(0x27a)]&&(_0x5987e5[_0x1ce9c6(0x27a)]?.['everyOne']?_0x30bce2=_0x33fb3f['participants'][_0x1ce9c6(0x684)](_0x34b153=>_0x34b153['id']):_0x5987e5[_0x1ce9c6(0x27a)]?.[_0x1ce9c6(0x72c)]?.[_0x1ce9c6(0x272)]&&(_0x30bce2=_0x5987e5[_0x1ce9c6(0x27a)][_0x1ce9c6(0x72c)][_0x1ce9c6(0x684)](_0xa6f14c=>{const _0x17fe42=_0x1ce9c6;let _0x56e275=this[_0x17fe42(0x514)](_0xa6f14c);return(0x0,f['isJidGroup'])(_0x56e275)?null:_0x56e275;})));}catch{throw new F('Group\x20not\x20found');}let _0x4595ae=await((async()=>{const _0x5ad23b=_0x1ce9c6;let _0x58cb1b={'quoted':_0x13af5a,'ephemeralExpiration':(await this['repository'][_0x5ad23b(0x79b)][_0x5ad23b(0x2f1)]({'where':{'_id':_0x1a26fc}},this[_0x5ad23b(0x30f)][_0x5ad23b(0x744)]))?.[_0x5ad23b(0x51b)]??0x0};if(!_0x573703[_0x5ad23b(0x81d)]&&!_0x573703[_0x5ad23b(0x87f)]&&!_0x573703[_0x5ad23b(0x800)]&&!_0x573703[_0x5ad23b(0x3a2)]&&_0x1a26fc!==_0x5ad23b(0x2e2)&&!_0x573703[_0x5ad23b(0x81d)])return await this['client']['sendMessage'](_0x1a26fc,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x573703},'mentions':_0x30bce2},_0x58cb1b);if(_0x573703[_0x5ad23b(0x76f)])return await this['client']['sendMessage'](_0x1a26fc,{'react':{'text':_0x573703[_0x5ad23b(0x76f)][_0x5ad23b(0x358)],'key':_0x573703[_0x5ad23b(0x76f)][_0x5ad23b(0x310)]}},_0x58cb1b);if(_0x573703[_0x5ad23b(0x3a2)]){let _0x32fda7=_0x573703['conversation'];return _0x5987e5?.[_0x5ad23b(0x405)]&&(_0x32fda7=await this['replaceVariablesChat'](_0x32fda7,_0x1a26fc)),await this[_0x5ad23b(0x7cf)]['sendMessage'](_0x1a26fc,{'text':_0x32fda7,'mentions':_0x30bce2,'linkPreview':_0x529799},_0x58cb1b);}return _0x1a26fc==='status@broadcast'?await this[_0x5ad23b(0x7cf)][_0x5ad23b(0x47d)](_0x1a26fc,_0x573703['status']['content'],{'backgroundColor':_0x573703[_0x5ad23b(0x60a)]['option'][_0x5ad23b(0x47f)],'font':_0x573703['status']['option'][_0x5ad23b(0x249)],'statusJidList':_0x573703[_0x5ad23b(0x60a)]['option']['statusJidList']}):await this[_0x5ad23b(0x7cf)][_0x5ad23b(0x47d)](_0x1a26fc,_0x573703,_0x58cb1b);})()),_0x46bba2=(0x0,f[_0x1ce9c6(0x403)])(_0x4595ae[_0x1ce9c6(0x488)]),_0x47f4e8=(0x0,f['getContentType'])(_0x46bba2),{message_normalized:_0x15a08c}=this[_0x1ce9c6(0x2e9)](_0x46bba2,_0x47f4e8,null),_0x390634={'_id':_0x4595ae[_0x1ce9c6(0x310)]['id'],'key':_0x4595ae[_0x1ce9c6(0x310)],'pushName':_0x4595ae['pushName'],'isGroup':_0x4595ae[_0x1ce9c6(0x310)][_0x1ce9c6(0x350)][_0x1ce9c6(0x34b)](_0x1ce9c6(0x230)),'profilePictureUrl':this[_0x1ce9c6(0x30f)][_0x1ce9c6(0x7bd)],'message':_0x46bba2,'messageType':_0x47f4e8,'message_normalized':{'key':_0x4595ae[_0x1ce9c6(0x310)],'pushName':_0x4595ae[_0x1ce9c6(0x60e)],'messageTimestamp':_0x4595ae['messageTimestamp']&&_0x4595ae[_0x1ce9c6(0x2fa)][_0x1ce9c6(0x5f0)]()['length']<0xd?_0x4595ae[_0x1ce9c6(0x2fa)]*0x3e8:_0x4595ae[_0x1ce9c6(0x2fa)]||null,'source':(0x0,f[_0x1ce9c6(0x1ef)])(_0x4595ae[_0x1ce9c6(0x310)]['id']),..._0x15a08c},'messageTimestamp':_0x4595ae[_0x1ce9c6(0x2fa)]&&_0x4595ae[_0x1ce9c6(0x2fa)]['toString']()[_0x1ce9c6(0x272)]<0xd?_0x4595ae[_0x1ce9c6(0x2fa)]*0x3e8:_0x4595ae[_0x1ce9c6(0x2fa)]||null,'owner':this['instance']['wuid'],'source':(0x0,f[_0x1ce9c6(0x1ef)])(_0x4595ae['key']['id'])};return this['logger'][_0x1ce9c6(0x235)](this[_0x1ce9c6(0x217)]+'\x20('+this[_0x1ce9c6(0x30f)]['wuid']+_0x1ce9c6(0x696)+_0x390634[_0x1ce9c6(0x310)]?.[_0x1ce9c6(0x350)][_0x1ce9c6(0x1e1)](_0x1ce9c6(0x713),'')+']\x20('+_0x390634[_0x1ce9c6(0x27c)]+')'),_0x390634['message_normalized']?.['text']&&this[_0x1ce9c6(0x876)][_0x1ce9c6(0x235)](_0x390634[_0x1ce9c6(0x598)]?.[_0x1ce9c6(0x358)]),this['sendDataWebhook'](_0x1ce9c6(0x2e4),_0x390634),J(this[_0x1ce9c6(0x217)],_0x1ce9c6(0x265),{'message':_0x390634}),this[_0x1ce9c6(0x427)](this[_0x1ce9c6(0x484)][_0x1ce9c6(0x82b)](_0x1ce9c6(0x274)),_0x390634,'SEND_MESSAGE'),await this[_0x1ce9c6(0x868)][_0x1ce9c6(0x488)][_0x1ce9c6(0x6ed)]([_0x390634],this[_0x1ce9c6(0x30f)][_0x1ce9c6(0x744)]),_0x4595ae;}catch(_0x39a1e1){let _0x51fce2=_0x1ce9c6(0x84d),_0x5aa55a=_0x39a1e1 instanceof Error?_0x39a1e1['message']:typeof _0x39a1e1==_0x1ce9c6(0x84f)?JSON['stringify'](_0x39a1e1):_0x39a1e1,_0xe3e4b9=_0x51fce2+':\x20'+_0x5aa55a;throw this[_0x1ce9c6(0x876)][_0x1ce9c6(0x790)](this[_0x1ce9c6(0x217)]+'\x20('+this[_0x1ce9c6(0x30f)][_0x1ce9c6(0x744)]+_0x1ce9c6(0x603)+_0xe3e4b9),new w(_0xe3e4b9);}}get[a0_0x15f0ef(0x23c)](){const _0x400db6=a0_0x15f0ef;return this[_0x400db6(0x23f)];}async['textMessage'](_0x4b3aea){const _0x1be8a0=a0_0x15f0ef;let _0x3d8ade=Rr,_0x512c53=et;return _0x512c53&&this[_0x1be8a0(0x217)][_0x1be8a0(0x710)]()[_0x1be8a0(0x3d8)](_0x512c53['toLowerCase']())&&(_0x4b3aea[_0x1be8a0(0x478)][_0x1be8a0(0x358)]+='\x0a\x0a'+_0x3d8ade),await this[_0x1be8a0(0x481)](_0x4b3aea[_0x1be8a0(0x253)],{'conversation':_0x4b3aea['textMessage'][_0x1be8a0(0x358)]},_0x4b3aea?.[_0x1be8a0(0x829)]);}async[a0_0x15f0ef(0x80a)](_0x2098db){const _0x387b71=a0_0x15f0ef;if(!_0x2098db['type'])throw new w('Type\x20is\x20required');if(!_0x2098db[_0x387b71(0x6cc)])throw new w(_0x387b71(0x4ae));if(_0x2098db[_0x387b71(0x68e)]){let _0x32cf5e=await this[_0x387b71(0x868)][_0x387b71(0x33d)][_0x387b71(0x585)]({'where':{}},this[_0x387b71(0x30f)][_0x387b71(0x744)]);if(!_0x32cf5e[_0x387b71(0x272)])throw new w(_0x387b71(0x476));_0x2098db['statusJidList']=_0x32cf5e['filter'](_0x403e90=>_0x403e90[_0x387b71(0x60e)])[_0x387b71(0x684)](_0x202739=>_0x202739['_id']);}if(!_0x2098db[_0x387b71(0x238)]?.['length']&&!_0x2098db[_0x387b71(0x68e)])throw new w(_0x387b71(0x55d));if(_0x2098db['type']===_0x387b71(0x358)){if(!_0x2098db['backgroundColor'])throw new w(_0x387b71(0x50d));if(!_0x2098db[_0x387b71(0x249)])throw new w(_0x387b71(0x676));return{'content':{'text':_0x2098db[_0x387b71(0x6cc)]},'option':{'backgroundColor':_0x2098db[_0x387b71(0x47f)],'font':_0x2098db['font'],'statusJidList':_0x2098db[_0x387b71(0x238)]}};}if(_0x2098db[_0x387b71(0x483)]===_0x387b71(0x278))return{'content':{'image':{'url':_0x2098db[_0x387b71(0x6cc)]},'caption':_0x2098db[_0x387b71(0x450)]},'option':{'statusJidList':_0x2098db[_0x387b71(0x238)]}};if(_0x2098db[_0x387b71(0x483)]===_0x387b71(0x2c7))return{'content':{'video':{'url':_0x2098db[_0x387b71(0x6cc)]},'caption':_0x2098db[_0x387b71(0x450)]},'option':{'statusJidList':_0x2098db['statusJidList']}};if(_0x2098db[_0x387b71(0x483)]===_0x387b71(0x81d)){this[_0x387b71(0x876)][_0x387b71(0x636)]('Type\x20defined\x20as\x20audio'),this[_0x387b71(0x876)][_0x387b71(0x636)](_0x387b71(0x804));let _0x20ba60=await this[_0x387b71(0x1fc)](_0x2098db[_0x387b71(0x6cc)]);if(typeof _0x20ba60==_0x387b71(0x692)){this[_0x387b71(0x876)][_0x387b71(0x636)](_0x387b71(0x390));let _0x299518=P[_0x387b71(0x337)](_0x20ba60)['toString'](_0x387b71(0x4cf));return{'content':{'audio':Buffer['from'](_0x299518,_0x387b71(0x4cf)),'ptt':!0x0,'mimetype':_0x387b71(0x7d2)},'option':{'statusJidList':_0x2098db[_0x387b71(0x238)]}};}else throw new A(_0x20ba60);}throw new w(_0x387b71(0x639));}async[a0_0x15f0ef(0x866)](_0x347741){const _0x451b8e=a0_0x15f0ef;return await this[_0x451b8e(0x481)](_0x451b8e(0x2e2),{'status':await this['formatStatusMessage'](_0x347741[_0x451b8e(0x866)])});}async[a0_0x15f0ef(0x33a)](_0x338941){const _0xae458f=a0_0x15f0ef;try{let _0x20a9ab=await(0x0,f[_0xae458f(0x44d)])({[_0x338941[_0xae458f(0x50a)]]:(0x0,_[_0xae458f(0x241)])(_0x338941[_0xae458f(0x351)])?{'url':_0x338941['media']}:Buffer[_0xae458f(0x3f4)](_0x338941[_0xae458f(0x351)],_0xae458f(0x4cf))},{'upload':this[_0xae458f(0x7cf)][_0xae458f(0x43b)]}),_0x21b806=_0x338941[_0xae458f(0x50a)]+_0xae458f(0x6b9);if(_0x338941[_0xae458f(0x50a)]===_0xae458f(0x2f2)&&!_0x338941['fileName']){let _0x2fb8b8=new RegExp(/.*\/(.+?)\./)['exec'](_0x338941[_0xae458f(0x351)]);_0x338941[_0xae458f(0x5b9)]=_0x2fb8b8?_0x2fb8b8[0x1]:null;}let _0xee2704=(0x0,_[_0xae458f(0x241)])(_0x338941[_0xae458f(0x351)])?_0x338941[_0xae458f(0x351)][_0xae458f(0x414)]('?')[0x0]:_0x338941[_0xae458f(0x351)];this[_0xae458f(0x876)][_0xae458f(0x636)](_0xae458f(0x3a3)+_0xee2704);let _0x5cbfc3;(0x0,_['isURL'])(_0x338941[_0xae458f(0x351)])?_0x5cbfc3=(0x0,kt[_0xae458f(0x7ac)])(_0xee2704):_0x338941[_0xae458f(0x5b9)]&&_0x338941[_0xae458f(0x5b9)][_0xae458f(0x3d8)]('.')?_0x5cbfc3=(0x0,kt[_0xae458f(0x7ac)])(_0x338941[_0xae458f(0x5b9)]):_0x5cbfc3=(0x0,kt['getMIMEType'])(_0x338941[_0xae458f(0x351)]);let _0x3d4108=Rr,_0x58eba2=et;return _0x58eba2&&this['instanceName'][_0xae458f(0x710)]()[_0xae458f(0x3d8)](_0x58eba2[_0xae458f(0x710)]())&&(_0x338941[_0xae458f(0x450)]+='\x0a\x0a'+_0x3d4108),_0x20a9ab[_0x21b806]['caption']=_0x338941?.['caption'],_0x20a9ab[_0x21b806][_0xae458f(0x681)]=_0x5cbfc3,_0x20a9ab[_0x21b806][_0xae458f(0x5b9)]=_0x338941['fileName'],_0x338941[_0xae458f(0x50a)]===_0xae458f(0x2c7)&&(_0x20a9ab[_0x21b806][_0xae458f(0x6d7)]=Uint8Array[_0xae458f(0x3f4)]((0x0,Re['readFileSync'])((0x0,U[_0xae458f(0x224)])(process['cwd'](),_0xae458f(0x80d)))),_0x20a9ab[_0x21b806]['gifPlayback']=!0x1),(0x0,f[_0xae458f(0x28e)])('',{[_0x21b806]:{..._0x20a9ab[_0x21b806]}},{'userJid':this[_0xae458f(0x30f)][_0xae458f(0x744)]});}catch(_0x45b495){let _0x5ec159=_0xae458f(0x67a),_0x21f590=_0x45b495 instanceof Error?_0x45b495['message']:typeof _0x45b495==_0xae458f(0x84f)?JSON[_0xae458f(0x7a3)](_0x45b495):_0x45b495,_0x4378e5=_0x5ec159+':\x20'+_0x21f590;throw this[_0xae458f(0x876)][_0xae458f(0x790)](this[_0xae458f(0x217)]+'\x20('+this[_0xae458f(0x30f)][_0xae458f(0x744)]+'):\x20'+_0x4378e5),new A(_0x4378e5);}}async[a0_0x15f0ef(0x45f)](_0x2e1697){const _0xa8fe12=a0_0x15f0ef;let _0x2ae936=await this[_0xa8fe12(0x33a)](_0x2e1697[_0xa8fe12(0x45f)]);return await this['sendMessageWithTyping'](_0x2e1697['number'],{..._0x2ae936[_0xa8fe12(0x488)]},_0x2e1697?.['options']);}async[a0_0x15f0ef(0x250)](_0x1ddabb,_0x345c40){const _0x4e8a9b=a0_0x15f0ef;try{this[_0x4e8a9b(0x876)]['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x516ae9,_0x2d2b18=_0x345c40+'-'+new Date()[_0x4e8a9b(0x6f2)]();this[_0x4e8a9b(0x876)]['verbose']('Hash\x20to\x20image\x20name:\x20'+_0x2d2b18);let _0x114fa3=''+(0x0,U[_0x4e8a9b(0x224)])(this['storePath'],_0x2d2b18+'.webp');if(this[_0x4e8a9b(0x876)][_0x4e8a9b(0x636)]('Output\x20path:\x20'+_0x114fa3),(0x0,_[_0x4e8a9b(0x879)])(_0x1ddabb)){this[_0x4e8a9b(0x876)]['verbose'](_0x4e8a9b(0x1ff));let _0x397a84=_0x1ddabb[_0x4e8a9b(0x1e1)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x264382=Buffer[_0x4e8a9b(0x3f4)](_0x397a84,_0x4e8a9b(0x4cf));_0x516ae9=''+(0x0,U[_0x4e8a9b(0x224)])(this['storePath'],_0x4e8a9b(0x5e3)+_0x2d2b18+_0x4e8a9b(0x345)),this[_0x4e8a9b(0x876)]['verbose'](_0x4e8a9b(0x295)+_0x516ae9),await(0x0,jt[_0x4e8a9b(0x6bb)])(_0x264382)[_0x4e8a9b(0x56c)](_0x516ae9),this['logger'][_0x4e8a9b(0x636)](_0x4e8a9b(0x682));}else{this[_0x4e8a9b(0x876)]['verbose']('Image\x20is\x20url');let _0x52dd5f=new Date()[_0x4e8a9b(0x6f2)](),_0x561d79=_0x1ddabb+'?timestamp='+_0x52dd5f;this[_0x4e8a9b(0x876)][_0x4e8a9b(0x636)](_0x4e8a9b(0x67b)+_0x561d79);let _0x15f135=await K[_0x4e8a9b(0x6bb)][_0x4e8a9b(0x82b)](_0x561d79,{'responseType':_0x4e8a9b(0x500)});this['logger'][_0x4e8a9b(0x636)](_0x4e8a9b(0x78a));let _0x184942=Buffer['from'](_0x15f135[_0x4e8a9b(0x467)],_0x4e8a9b(0x575));_0x516ae9=''+(0x0,U['join'])(this[_0x4e8a9b(0x297)],'temp-'+_0x2d2b18+_0x4e8a9b(0x345)),this['logger'][_0x4e8a9b(0x636)]('Image\x20path:\x20'+_0x516ae9),await(0x0,jt['default'])(_0x184942)[_0x4e8a9b(0x56c)](_0x516ae9),this[_0x4e8a9b(0x876)][_0x4e8a9b(0x636)]('Image\x20created');}return await(0x0,jt[_0x4e8a9b(0x6bb)])(_0x516ae9)[_0x4e8a9b(0x36b)]()['toFile'](_0x114fa3),this[_0x4e8a9b(0x876)]['verbose'](_0x4e8a9b(0x2a2)),P['unlinkSync'](_0x516ae9),this[_0x4e8a9b(0x876)][_0x4e8a9b(0x636)](_0x4e8a9b(0x311)),_0x114fa3;}catch(_0x612e21){let _0x219692='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x306811=_0x612e21 instanceof Error?_0x612e21[_0x4e8a9b(0x488)]:typeof _0x612e21==_0x4e8a9b(0x84f)?JSON[_0x4e8a9b(0x7a3)](_0x612e21):_0x612e21,_0x2e72f6=_0x219692+':\x20'+_0x306811;this['logger']['error'](this[_0x4e8a9b(0x217)]+'\x20('+this[_0x4e8a9b(0x30f)][_0x4e8a9b(0x744)]+_0x4e8a9b(0x603)+_0x2e72f6);}}async[a0_0x15f0ef(0x723)](_0x3613f8){const _0x25c7d0=a0_0x15f0ef;let _0x26018a=await this[_0x25c7d0(0x250)](_0x3613f8[_0x25c7d0(0x312)][_0x25c7d0(0x278)],_0x3613f8['number']),_0x32daf4=await this[_0x25c7d0(0x481)](_0x3613f8[_0x25c7d0(0x253)],{'sticker':{'url':_0x26018a}},_0x3613f8?.[_0x25c7d0(0x829)]);return P[_0x25c7d0(0x890)](_0x26018a),this[_0x25c7d0(0x876)][_0x25c7d0(0x636)](_0x25c7d0(0x25d)),_0x32daf4;}async[a0_0x15f0ef(0x821)](_0x2db290){const _0x2d3e40=a0_0x15f0ef;if(this['logger'][_0x2d3e40(0x636)]('Sending\x20audio\x20whatsapp'),!_0x2db290[_0x2d3e40(0x829)]?.[_0x2d3e40(0x63d)]&&_0x2db290[_0x2d3e40(0x829)]?.[_0x2d3e40(0x63d)]!==!0x1&&(_0x2db290[_0x2d3e40(0x829)][_0x2d3e40(0x63d)]=!0x0),_0x2db290[_0x2d3e40(0x829)]?.[_0x2d3e40(0x63d)]){let _0x1ebfe2=await this[_0x2d3e40(0x1fc)](_0x2db290['audioMessage']['audio']);if(typeof _0x1ebfe2==_0x2d3e40(0x692)){let _0x137c50=P[_0x2d3e40(0x337)](_0x1ebfe2)[_0x2d3e40(0x5f0)](_0x2d3e40(0x4cf));return this[_0x2d3e40(0x481)](_0x2db290[_0x2d3e40(0x253)],{'audio':Buffer[_0x2d3e40(0x3f4)](_0x137c50,_0x2d3e40(0x4cf)),'ptt':!0x0,'mimetype':_0x2d3e40(0x6c3)},{'presence':'recording','delay':_0x2db290?.[_0x2d3e40(0x829)]?.[_0x2d3e40(0x799)]});}else throw new A(_0x1ebfe2);}return await this[_0x2d3e40(0x481)](_0x2db290[_0x2d3e40(0x253)],{'audio':(0x0,_['isURL'])(_0x2db290[_0x2d3e40(0x7cc)]['audio'])?{'url':_0x2db290[_0x2d3e40(0x7cc)][_0x2d3e40(0x81d)]}:Buffer['from'](_0x2db290['audioMessage'][_0x2d3e40(0x81d)],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x2d3e40(0x5ec),'delay':_0x2db290?.[_0x2d3e40(0x829)]?.[_0x2d3e40(0x799)]});}async[a0_0x15f0ef(0x1fc)](_0x167da4){const _0x4d56b2=a0_0x15f0ef;this['logger']['verbose']('Processing\x20audio');let _0x3ff6cb=(0x0,_[_0x4d56b2(0x241)])(_0x167da4)?(0x0,Ut[_0x4d56b2(0x67e)])(_0x4d56b2(0x60b))[_0x4d56b2(0x429)](_0x167da4)['digest']('hex'):(0x0,Ut[_0x4d56b2(0x67e)])(_0x4d56b2(0x60b))[_0x4d56b2(0x429)](_0x167da4)[_0x4d56b2(0x2d3)]('hex'),_0x115991=''+(0x0,U[_0x4d56b2(0x224)])(this['storePath'],_0x3ff6cb+'.ogg');if(P[_0x4d56b2(0x4ab)](_0x115991))return this[_0x4d56b2(0x876)][_0x4d56b2(0x636)](_0x4d56b2(0x7dd)),_0x115991;let _0x4d24a0=''+(0x0,U[_0x4d56b2(0x224)])(this[_0x4d56b2(0x297)],_0x4d56b2(0x5e3)+(0x0,Lt['v4'])()+_0x4d56b2(0x77a));if((0x0,_['isURL'])(_0x167da4)){let _0x3feeeb=new Date()[_0x4d56b2(0x6f2)](),_0x259af1=_0x167da4+_0x4d56b2(0x878)+_0x3feeeb,_0xa4aa78=await K[_0x4d56b2(0x6bb)][_0x4d56b2(0x82b)](_0x259af1,{'responseType':_0x4d56b2(0x500)});P['writeFileSync'](_0x4d24a0,_0xa4aa78[_0x4d56b2(0x467)]);}else{let _0x58cb76=Buffer[_0x4d56b2(0x3f4)](_0x167da4,_0x4d56b2(0x4cf));P[_0x4d56b2(0x24d)](_0x4d24a0,_0x58cb76);}return new Promise((_0x469ae5,_0x63c854)=>{const _0x32d28d=_0x4d56b2;(0x0,Oe['exec'])($s[_0x32d28d(0x6bb)][_0x32d28d(0x707)]+_0x32d28d(0x640)+_0x4d24a0+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x115991+'\x20-y',_0x241894=>{const _0x3bc354=_0x32d28d;if(P['unlinkSync'](_0x4d24a0),_0x241894){this[_0x3bc354(0x876)][_0x3bc354(0x636)](_0x3bc354(0x4fc)),_0x63c854(_0x241894);return;}this[_0x3bc354(0x876)][_0x3bc354(0x636)](_0x3bc354(0x5ab)),_0x469ae5(_0x115991);});});}async[a0_0x15f0ef(0x767)](_0x1162f1){const _0x2aa2ae=a0_0x15f0ef;this[_0x2aa2ae(0x876)][_0x2aa2ae(0x636)]('Processing\x20audio');let _0x2a6367=(0x0,Ut['createHash'])(_0x2aa2ae(0x60b))[_0x2aa2ae(0x429)](_0x1162f1)[_0x2aa2ae(0x2d3)](_0x2aa2ae(0x367)),_0x217c80=''+(0x0,U[_0x2aa2ae(0x224)])(this[_0x2aa2ae(0x297)],_0x2a6367+_0x2aa2ae(0x77a));if(P['existsSync'](_0x217c80))return this[_0x2aa2ae(0x876)][_0x2aa2ae(0x636)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),U[_0x2aa2ae(0x6bb)][_0x2aa2ae(0x55b)](_0x217c80);let _0x482ea0=''+(0x0,U[_0x2aa2ae(0x224)])(this['storePath'],_0x2aa2ae(0x5e3)+_0x2a6367+'.ogg');if((0x0,_[_0x2aa2ae(0x241)])(_0x1162f1)){let _0x14d1bf=new Date()[_0x2aa2ae(0x6f2)](),_0xf2ddd9=_0x1162f1+_0x2aa2ae(0x878)+_0x14d1bf,_0x205790=await K['default'][_0x2aa2ae(0x82b)](_0xf2ddd9,{'responseType':_0x2aa2ae(0x500)});P[_0x2aa2ae(0x24d)](_0x482ea0,_0x205790[_0x2aa2ae(0x467)]);}else{let _0x17b96d=Buffer[_0x2aa2ae(0x3f4)](_0x1162f1,_0x2aa2ae(0x4cf));P[_0x2aa2ae(0x24d)](_0x482ea0,_0x17b96d);}return new Promise((_0x4d47be,_0x16715d)=>{const _0x476f72=_0x2aa2ae;(0x0,Oe[_0x476f72(0x2d6)])($s['default'][_0x476f72(0x707)]+_0x476f72(0x640)+_0x482ea0+_0x476f72(0x752)+_0x217c80+_0x476f72(0x2e3),_0x462d3c=>{const _0x10b744=_0x476f72;if(P['unlinkSync'](_0x482ea0),_0x462d3c){this[_0x10b744(0x876)][_0x10b744(0x636)](_0x10b744(0x4fc)),_0x16715d(_0x462d3c);return;}this['logger'][_0x10b744(0x636)](_0x10b744(0x5ab)),_0x4d47be(U[_0x10b744(0x6bb)][_0x10b744(0x55b)](_0x217c80));});});}async[a0_0x15f0ef(0x5f5)](_0x491602){const _0x120802=a0_0x15f0ef;let _0xdb09b={},_0x2feb2e=_0x120802(0x31c);if(_0x491602['buttonMessage']?.[_0x120802(0x45f)]){_0x2feb2e=_0x491602[_0x120802(0x5f5)]['mediaMessage']?.['mediatype'][_0x120802(0x72d)]()??_0x120802(0x31c),_0xdb09b[_0x120802(0x4e8)]=_0x2feb2e['toLowerCase']()+_0x120802(0x6b9);let _0x2f6653=await this['prepareMediaMessage'](_0x491602['buttonMessage']['mediaMessage']);_0xdb09b[_0x120802(0x488)]=_0x2f6653['message'][_0xdb09b[_0x120802(0x4e8)]],_0xdb09b['contentText']='*'+_0x491602['buttonMessage'][_0x120802(0x35c)]+_0x120802(0x797)+_0x491602[_0x120802(0x5f5)][_0x120802(0x4e0)];}let _0x27bc45={'text':_0x491602[_0x120802(0x5f5)][_0x120802(0x6e2)]['map'](_0x11cfc0=>_0x11cfc0['buttonText']),'ids':_0x491602[_0x120802(0x5f5)][_0x120802(0x6e2)][_0x120802(0x684)](_0x20cd2e=>_0x20cd2e[_0x120802(0x294)])};if(!(0x0,_[_0x120802(0x725)])(_0x27bc45[_0x120802(0x358)])||!(0x0,_[_0x120802(0x725)])(_0x27bc45[_0x120802(0x807)]))throw new w('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x120802(0x481)](_0x491602[_0x120802(0x253)],{'buttonsMessage':{'text':_0xdb09b?.[_0x120802(0x4e8)]?void 0x0:_0x491602[_0x120802(0x5f5)][_0x120802(0x35c)],'contentText':_0xdb09b?.[_0x120802(0x3e5)]??_0x491602[_0x120802(0x5f5)][_0x120802(0x4e0)],'footerText':_0x491602['buttonMessage']?.[_0x120802(0x5e8)],'buttons':_0x491602[_0x120802(0x5f5)][_0x120802(0x6e2)][_0x120802(0x684)](_0x4bf3f1=>({'buttonText':{'displayText':_0x4bf3f1[_0x120802(0x7bc)]},'buttonId':_0x4bf3f1[_0x120802(0x294)],'type':0x1})),'headerType':f[_0x120802(0x87c)][_0x120802(0x6b9)][_0x120802(0x7b7)][_0x120802(0x5d5)][_0x2feb2e],[_0xdb09b?.[_0x120802(0x4e8)]]:_0xdb09b?.[_0x120802(0x488)]}},_0x491602?.[_0x120802(0x829)]);}async[a0_0x15f0ef(0x895)](_0x3b8a83){const _0x29633b=a0_0x15f0ef;return await this[_0x29633b(0x481)](_0x3b8a83[_0x29633b(0x253)],{'locationMessage':{'degreesLatitude':_0x3b8a83[_0x29633b(0x895)][_0x29633b(0x843)],'degreesLongitude':_0x3b8a83['locationMessage'][_0x29633b(0x2ef)],'name':_0x3b8a83[_0x29633b(0x895)]?.[_0x29633b(0x2c9)],'address':_0x3b8a83[_0x29633b(0x895)]?.[_0x29633b(0x413)]}},_0x3b8a83?.['options']);}async[a0_0x15f0ef(0x52f)](_0x47a70c){const _0x5c9198=a0_0x15f0ef;let _0x274647={},_0xc6e3ca=_0x1d97f4=>{const _0x40d11d=a0_0x472b;let _0x258b2f='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x1d97f4['fullName']+'\x0aFN:'+_0x1d97f4[_0x40d11d(0x517)]+'\x0a';_0x1d97f4[_0x40d11d(0x857)]&&(_0x258b2f+=_0x40d11d(0x3f9)+_0x1d97f4[_0x40d11d(0x857)]+';\x0a'),_0x1d97f4[_0x40d11d(0x5f6)]&&(_0x258b2f+='EMAIL:'+_0x1d97f4[_0x40d11d(0x5f6)]+'\x0a'),_0x1d97f4['url']&&(_0x258b2f+=_0x40d11d(0x77b)+_0x1d97f4[_0x40d11d(0x66d)]+'\x0a');let _0x1066d7='';return _0x1d97f4[_0x40d11d(0x4cc)]&&_0x1d97f4[_0x40d11d(0x4cc)]['split']('|')[_0x40d11d(0x40e)]((_0x54185a,_0x1e3b30)=>{const _0x441a03=_0x40d11d;let _0x5e2180=this[_0x441a03(0x514)](_0x54185a)[_0x441a03(0x1e1)](_0x441a03(0x713),'');_0x1066d7+=_0x441a03(0x426)+(_0x1e3b30+0x1)+_0x441a03(0x746)+_0x5e2180+':'+_0x54185a+_0x441a03(0x648)+(_0x1e3b30+0x1)+_0x441a03(0x382);}),_0x258b2f+=_0x1066d7+'END:VCARD',_0x258b2f;};return _0x47a70c[_0x5c9198(0x52f)][_0x5c9198(0x272)]===0x1?_0x274647['contactMessage']={'displayName':_0x47a70c['contactMessage'][0x0]['fullName'],'vcard':_0xc6e3ca(_0x47a70c[_0x5c9198(0x52f)][0x0])}:_0x274647['contactsArrayMessage']={'displayName':_0x47a70c[_0x5c9198(0x52f)][_0x5c9198(0x272)]+'\x20contacts','contacts':_0x47a70c[_0x5c9198(0x52f)][_0x5c9198(0x684)](_0x2f3419=>({'displayName':_0x2f3419[_0x5c9198(0x517)],'vcard':_0xc6e3ca(_0x2f3419)}))},await this[_0x5c9198(0x481)](_0x47a70c['number'],{..._0x274647},_0x47a70c?.[_0x5c9198(0x829)]);}async['reactionMessage'](_0x4a118f){const _0x4c476c=a0_0x15f0ef;return await this[_0x4c476c(0x481)](_0x4a118f['reactionMessage'][_0x4c476c(0x310)][_0x4c476c(0x350)],{'reactionMessage':{'key':_0x4a118f[_0x4c476c(0x76f)][_0x4c476c(0x310)],'text':_0x4a118f['reactionMessage'][_0x4c476c(0x766)]}});}async['whatsappNumber'](_0x3fc45a){const _0x467df0=a0_0x15f0ef;let _0x453210=[];for await(let _0x59ac0c of _0x3fc45a[_0x467df0(0x764)]){let _0x4246a9=this[_0x467df0(0x514)](_0x59ac0c),_0x4b755a=!0x1;try{if((0x0,f[_0x467df0(0x4c1)])(_0x4246a9)){let _0x3a026e=await this[_0x467df0(0x4cb)]({'groupJid':_0x4246a9},_0x467df0(0x7a9));_0x453210[_0x467df0(0x21e)](new fe(_0x3a026e[_0x467df0(0x2e8)]['id'],!!_0x3a026e?.[_0x467df0(0x2e8)]['id'],_0x3a026e?.['metadata'][_0x467df0(0x734)])),_0x4b755a=!!_0x3a026e?.[_0x467df0(0x2e8)]['id'];}else{let _0xb580c8=(await this['client'][_0x467df0(0x689)](_0x4246a9))[0x0];_0x453210[_0x467df0(0x21e)](new fe(_0xb580c8[_0x467df0(0x360)],_0xb580c8[_0x467df0(0x25c)])),_0x4b755a=_0xb580c8[_0x467df0(0x25c)];}}catch{await this[_0x467df0(0x22b)](_0x4246a9,_0x4b755a),_0x453210[_0x467df0(0x21e)](new fe(_0x59ac0c,!0x1));}}return _0x453210;}async['checkAndUpdateChatStatus'](_0x46b32d,_0x241cae){const _0x590472=a0_0x15f0ef;try{await this[_0x590472(0x868)][_0x590472(0x79b)][_0x590472(0x2f1)]({'where':{'_id':_0x46b32d,'imported':!0x0}},this[_0x590472(0x30f)][_0x590472(0x744)])&&(_0x241cae||(await this[_0x590472(0x868)][_0x590472(0x79b)][_0x590472(0x521)](_0x46b32d,this['instance'][_0x590472(0x744)]),console[_0x590472(0x884)](_0x590472(0x7cd)+_0x46b32d+_0x590472(0x78e))));}catch(_0x59e423){let _0x1d4f7d=_0x590472(0x39d),_0x19646c=_0x59e423 instanceof Error?_0x59e423[_0x590472(0x488)]:typeof _0x59e423==_0x590472(0x84f)?JSON[_0x590472(0x7a3)](_0x59e423):_0x59e423,_0x41dad3=_0x1d4f7d+':\x20'+_0x19646c;this[_0x590472(0x876)][_0x590472(0x790)](this[_0x590472(0x217)]+'\x20('+this[_0x590472(0x30f)][_0x590472(0x744)]+'):\x20'+_0x41dad3);}}async['markMessageAsRead'](_0x58369f){const _0x4fc29a=a0_0x15f0ef;try{let _0x284e2c=_0x58369f[_0x4fc29a(0x449)]['filter'](_0x41846f=>(0x0,f['isJidGroup'])(_0x41846f[_0x4fc29a(0x350)])||(0x0,f[_0x4fc29a(0x775)])(_0x41846f[_0x4fc29a(0x350)]))[_0x4fc29a(0x684)](_0x35739d=>({'remoteJid':_0x35739d[_0x4fc29a(0x350)],'fromMe':_0x35739d['fromMe'],'id':_0x35739d['id']}));await this[_0x4fc29a(0x7cf)][_0x4fc29a(0x449)](_0x284e2c);let _0x6c5350=_0x284e2c[_0x4fc29a(0x684)](_0x30c25=>this[_0x4fc29a(0x570)](_0x30c25,{'status':_0x4fc29a(0x877),'owner':this[_0x4fc29a(0x30f)]['wuid']})),_0x450eda=_0x284e2c['map'](_0x525cf6=>this[_0x4fc29a(0x868)][_0x4fc29a(0x79b)]['updateOne']({'where':{'_id':_0x525cf6[_0x4fc29a(0x350)]}},{'unreadcount':0x0},this[_0x4fc29a(0x30f)][_0x4fc29a(0x744)])),[_0x50a5da,_0x4db0c1]=await Promise[_0x4fc29a(0x45e)]([Promise[_0x4fc29a(0x45e)](_0x6c5350),Promise['all'](_0x450eda)]);return _0x4db0c1[_0x4fc29a(0x58a)](_0x214a44=>_0x214a44!==null)[_0x4fc29a(0x40e)](_0x47ed4d=>{const _0x2d5631=_0x4fc29a;J(this['instanceName'],_0x2d5631(0x2c6),{'chat':_0x47ed4d});}),{'message':_0x4fc29a(0x62d),'read':_0x4fc29a(0x46e)};}catch(_0x47e156){let _0x3de41e=_0x4fc29a(0x6dc),_0x13355b=_0x47e156 instanceof Error?_0x47e156[_0x4fc29a(0x488)]:typeof _0x47e156==_0x4fc29a(0x84f)?JSON[_0x4fc29a(0x7a3)](_0x47e156):_0x47e156,_0x22491e=_0x3de41e+':\x20'+_0x13355b;throw this['logger'][_0x4fc29a(0x790)](this[_0x4fc29a(0x217)]+'\x20('+this[_0x4fc29a(0x30f)][_0x4fc29a(0x744)]+_0x4fc29a(0x603)+_0x22491e),new A(_0x22491e);}}async[a0_0x15f0ef(0x343)](_0x59a6d4){const _0x5bace0=a0_0x15f0ef;let _0x5d218c={'where':{'key':{'remoteJid':_0x59a6d4}},'limit':0x1},_0x156e37=await this[_0x5bace0(0x630)](_0x5d218c);return _0x156e37||(console[_0x5bace0(0x790)](_0x5bace0(0x7fe),_0x59a6d4),null);}async[a0_0x15f0ef(0x3f3)](_0x281f2d){const _0xf33624=a0_0x15f0ef;this[_0xf33624(0x876)]['verbose'](_0xf33624(0x633));try{let _0x211500=_0x281f2d[_0xf33624(0x569)],_0x299bef=_0x281f2d[_0xf33624(0x79b)];if(!_0x211500&&_0x299bef?_0x211500=await this[_0xf33624(0x343)](_0x299bef):(_0x211500=_0x281f2d[_0xf33624(0x569)],_0x211500['messageTimestamp']=_0x211500?.[_0xf33624(0x2fa)]??Date[_0xf33624(0x3ce)](),_0x299bef=_0x211500?.[_0xf33624(0x310)]?.[_0xf33624(0x350)]),!_0x211500||Object[_0xf33624(0x6e6)](_0x211500)[_0xf33624(0x272)]===0x0)throw new F(_0xf33624(0x597));this[_0xf33624(0x876)][_0xf33624(0x636)](_0xf33624(0x85f)+_0x299bef);try{await this[_0xf33624(0x7cf)]['chatModify']({'archive':_0x281f2d['archive'],'lastMessages':[_0x211500]},this[_0xf33624(0x514)](_0x299bef));}catch(_0x11acee){let _0x1fea61=_0xf33624(0x491)+_0x299bef,_0x5c4e25=_0x11acee instanceof Error?_0x11acee['message']:typeof _0x11acee==_0xf33624(0x84f)?JSON[_0xf33624(0x7a3)](_0x11acee):_0x11acee,_0x3f8438=_0x1fea61+':\x20'+_0x5c4e25;this['logger'][_0xf33624(0x790)](this[_0xf33624(0x217)]+'\x20('+this[_0xf33624(0x30f)][_0xf33624(0x744)]+'):\x20'+_0x3f8438);}this[_0xf33624(0x876)][_0xf33624(0x636)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x299bef);let _0x401a45=await this['repository'][_0xf33624(0x79b)][_0xf33624(0x218)]({'where':{'_id':_0x211500?.['key']?.[_0xf33624(0x350)]}},{'archived':_0x281f2d[_0xf33624(0x743)]},this[_0xf33624(0x30f)]['wuid']);return _0x401a45?(this['logger'][_0xf33624(0x636)](_0xf33624(0x7e8)+JSON[_0xf33624(0x7a3)](_0x401a45)),J(this[_0xf33624(0x217)],'chats',{'chat':_0x401a45})):this[_0xf33624(0x876)][_0xf33624(0x790)]('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x299bef),{'chatId':_0x299bef,'archived':_0x281f2d['archive']};}catch(_0x461a89){let _0x385141='Erro\x20ao\x20arquivar\x20chat',_0x5869ab=_0x461a89 instanceof Error?_0x461a89[_0xf33624(0x488)]:typeof _0x461a89==_0xf33624(0x84f)?JSON['stringify'](_0x461a89):_0x461a89,_0x4109c9=_0x385141+':\x20'+_0x5869ab;throw this[_0xf33624(0x876)][_0xf33624(0x790)](this[_0xf33624(0x217)]+'\x20('+this[_0xf33624(0x30f)][_0xf33624(0x744)]+_0xf33624(0x603)+_0x4109c9),new A(_0x4109c9);}}async[a0_0x15f0ef(0x521)](_0x123c6e){const _0x5bb7ea=a0_0x15f0ef;this['logger'][_0x5bb7ea(0x636)](_0x5bb7ea(0x2dd));try{let _0x54d4e4=await this['getLastMessage'](_0x123c6e);if(!_0x54d4e4||Object[_0x5bb7ea(0x6e6)](_0x54d4e4)[_0x5bb7ea(0x272)]===0x0)throw new F(_0x5bb7ea(0x597));let _0x556e10=_0x54d4e4[0x0];this[_0x5bb7ea(0x876)][_0x5bb7ea(0x636)]('Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x123c6e);try{await this[_0x5bb7ea(0x7cf)][_0x5bb7ea(0x357)]({'delete':!0x0,'lastMessages':[{'key':_0x556e10[_0x5bb7ea(0x310)],'messageTimestamp':_0x556e10[_0x5bb7ea(0x2fa)]}]},this['createJid'](_0x123c6e));}catch(_0xa3fc38){this[_0x5bb7ea(0x876)][_0x5bb7ea(0x790)](_0x5bb7ea(0x491)+_0x123c6e+':\x20'+_0xa3fc38[_0x5bb7ea(0x5f0)]());}this[_0x5bb7ea(0x876)][_0x5bb7ea(0x636)](_0x5bb7ea(0x41b)+_0x123c6e);return;}catch(_0x2c9a99){throw this['logger'][_0x5bb7ea(0x790)](_0x5bb7ea(0x66a)+_0x2c9a99[_0x5bb7ea(0x5f0)]()),new A({'archived':!0x1,'message':[_0x5bb7ea(0x1f7),_0x2c9a99[_0x5bb7ea(0x5f0)]()]});}}async['deleteMessage'](_0x196769){const _0x56ba48=a0_0x15f0ef;try{let _0x529c61=await this[_0x56ba48(0x7cf)][_0x56ba48(0x47d)](_0x196769[_0x56ba48(0x350)],{'delete':_0x196769});try{let _0x1c7bc0=await this[_0x56ba48(0x570)](_0x196769,{'status':'DELETED','owner':this[_0x56ba48(0x30f)][_0x56ba48(0x744)]});this[_0x56ba48(0x876)]['verbose'](this['instanceName']+'\x20('+this[_0x56ba48(0x30f)][_0x56ba48(0x744)]+_0x56ba48(0x65d)+_0x1c7bc0);}catch(_0x45a622){console[_0x56ba48(0x790)]('Error\x20updating\x20message\x20status:',_0x45a622);}return _0x529c61;}catch(_0x193bba){throw new A(_0x56ba48(0x72f),_0x193bba?.[_0x56ba48(0x5f0)]());}}async[a0_0x15f0ef(0x789)](_0xeb88f7){const _0x5e4dda=a0_0x15f0ef;try{let _0x345a7d=_0xeb88f7?.[_0x5e4dda(0x488)]?_0xeb88f7:await this[_0x5e4dda(0x7b3)](_0xeb88f7['key'],!0x0);for(let _0x17d947 of Na)_0x345a7d[_0x5e4dda(0x488)][_0x17d947]&&(_0x345a7d['message']=_0x345a7d[_0x5e4dda(0x488)][_0x17d947][_0x5e4dda(0x488)]);let _0x1e3e8c,_0x303240;for(let _0x31ff13 of va)if(_0x1e3e8c=_0x345a7d[_0x5e4dda(0x488)][_0x31ff13],_0x1e3e8c){_0x303240=_0x31ff13;break;}if(!_0x1e3e8c)throw _0x5e4dda(0x4f1);typeof _0x1e3e8c[_0x5e4dda(0x4e8)]==_0x5e4dda(0x84f)&&(_0x345a7d[_0x5e4dda(0x488)]=JSON[_0x5e4dda(0x379)](JSON[_0x5e4dda(0x7a3)](_0x345a7d[_0x5e4dda(0x488)])));let _0x4564e1=await(0x0,f['downloadMediaMessage'])({'key':_0x345a7d?.[_0x5e4dda(0x310)],'message':_0x345a7d?.[_0x5e4dda(0x488)]},'buffer',{},{'logger':(0x0,Pt[_0x5e4dda(0x6bb)])({'level':_0x5e4dda(0x2c4)}),'reuploadRequest':this[_0x5e4dda(0x7cf)][_0x5e4dda(0x3e7)]});if(!(_0x4564e1 instanceof Buffer))throw new Error(_0x5e4dda(0x442));let _0x54ade6=this['configService'][_0x5e4dda(0x82b)](_0x5e4dda(0x274)),_0x53c9f1,_0x5b7dea;if(_0x1e3e8c[_0x5e4dda(0x5b9)])_0x53c9f1=_0x1e3e8c[_0x5e4dda(0x5b9)];else{let _0x15da09=_0x1e3e8c[_0x5e4dda(0x681)]?.[_0x5e4dda(0x2ea)](/\/(\w+)/),_0x2fb391=_0x15da09?_0x15da09[0x1]:null;if(!_0x2fb391)throw new Error(_0x5e4dda(0x756));_0x53c9f1=(0x0,Lt['v4'])()+'.'+_0x2fb391;}_0x303240==='audioMessage'?_0x5b7dea=_0x5e4dda(0x44f)+await this[_0x5e4dda(0x767)](_0x4564e1[_0x5e4dda(0x5f0)](_0x5e4dda(0x4cf))):(await this[_0x5e4dda(0x85d)](_0x4564e1,_0x53c9f1),_0x5b7dea=_0x5e4dda(0x44f)+_0x53c9f1);let _0x4dff9a=this[_0x5e4dda(0x484)][_0x5e4dda(0x82b)](_0x5e4dda(0x627))[_0x5e4dda(0x7d0)];if(!_0x4dff9a){let _0x1c2d7e=this[_0x5e4dda(0x484)][_0x5e4dda(0x82b)](_0x5e4dda(0x320));_0x4dff9a=_0x5e4dda(0x833)+(_0x1c2d7e&&_0x1c2d7e[_0x5e4dda(0x897)][_0x5e4dda(0x414)]('/')[0x4]);}_0x5b7dea=''+_0x4dff9a+_0x5b7dea;let _0x5289d2=0xc*0x3c*0x3c*0x3e8,_0xf9b71c={'where':{'_id':_0x345a7d[_0x5e4dda(0x310)]['id']}},_0x4da61e={'message_normalized.fileUrl':_0x5b7dea,'message_normalized.expires_fileUrl':Date[_0x5e4dda(0x3ce)]()+_0x5289d2};try{let _0x30a549=await this[_0x5e4dda(0x868)]['message'][_0x5e4dda(0x429)](_0xf9b71c,_0x4da61e,this[_0x5e4dda(0x30f)][_0x5e4dda(0x744)]);_0x30a549&&J(this['instanceName'],_0x5e4dda(0x265),{'message':_0x30a549});}catch(_0x25841c){let _0x147c97=_0x5e4dda(0x793),_0x1928e1=_0x25841c instanceof Error?_0x25841c[_0x5e4dda(0x488)]:typeof _0x25841c==_0x5e4dda(0x84f)?JSON['stringify'](_0x25841c):_0x25841c,_0x5937fe=_0x147c97+':\x20'+_0x1928e1;this[_0x5e4dda(0x876)][_0x5e4dda(0x790)](this[_0x5e4dda(0x217)]+'\x20('+this['instance'][_0x5e4dda(0x744)]+_0x5e4dda(0x603)+_0x5937fe);}return{'mediaType':_0x303240,'fileName':_0x1e3e8c[_0x5e4dda(0x5b9)],'caption':_0x1e3e8c[_0x5e4dda(0x450)],'size':{'fileLength':_0x1e3e8c[_0x5e4dda(0x75a)],'height':_0x1e3e8c['height'],'width':_0x1e3e8c[_0x5e4dda(0x469)]},'mimetype':_0x1e3e8c[_0x5e4dda(0x681)],'base64':_0x4564e1[_0x5e4dda(0x5f0)](_0x5e4dda(0x4cf)),'fileUrl':_0x5b7dea,'expires_fileUrl':Date[_0x5e4dda(0x3ce)]()+_0x5289d2};}catch(_0x26205d){let _0x1d368e=_0x5e4dda(0x7f8),_0x5e43e6=_0x26205d instanceof Error?_0x26205d[_0x5e4dda(0x488)]:typeof _0x26205d==_0x5e4dda(0x84f)?JSON['stringify'](_0x26205d):_0x26205d,_0x27e60c=_0x1d368e+':\x20'+_0x5e43e6;throw this[_0x5e4dda(0x876)][_0x5e4dda(0x790)](this[_0x5e4dda(0x217)]+'\x20('+this[_0x5e4dda(0x30f)][_0x5e4dda(0x744)]+_0x5e4dda(0x603)+_0x27e60c),new w(_0x27e60c);}}async['saveMediaToFile'](_0x2957ee,_0x233d97){const _0x5d2ad8=a0_0x15f0ef;let _0x4e5782=U['default'][_0x5d2ad8(0x224)](__dirname,_0x5d2ad8(0x818));P['existsSync'](_0x4e5782)||P[_0x5d2ad8(0x2ca)](_0x4e5782,{'recursive':!0x0});let _0x477b07=U[_0x5d2ad8(0x6bb)]['join'](_0x4e5782,_0x233d97);return new Promise((_0x2156c3,_0xc28f91)=>{const _0x26aafd=_0x5d2ad8;P[_0x26aafd(0x69c)](_0x477b07,_0x2957ee,_0x355537=>{const _0x54b73e=_0x26aafd;_0x355537?(this[_0x54b73e(0x876)][_0x54b73e(0x790)](_0x54b73e(0x712)+(_0x355537 instanceof Error?_0x355537['message']:JSON[_0x54b73e(0x7a3)](_0x355537,null,0x2))),_0xc28f91(_0x355537)):(this['logger'][_0x54b73e(0x884)](_0x54b73e(0x210)+_0x477b07),_0x2156c3(_0x477b07));});});}async['fetchContacts'](_0x329f5a){return await this['repository']['contact']['find'](_0x329f5a,this['instance']['wuid']);}async[a0_0x15f0ef(0x6e5)](){const _0x59e907=a0_0x15f0ef;return await this[_0x59e907(0x868)][_0x59e907(0x489)][_0x59e907(0x585)]({'where':{}},this['instance'][_0x59e907(0x744)]);}async[a0_0x15f0ef(0x630)](_0x345b5a){const _0x1b1d5f=a0_0x15f0ef;return await this[_0x1b1d5f(0x868)][_0x1b1d5f(0x488)][_0x1b1d5f(0x585)](_0x345b5a,this[_0x1b1d5f(0x30f)][_0x1b1d5f(0x744)]);}async[a0_0x15f0ef(0x453)](){const _0xe75dcf=a0_0x15f0ef;return this[_0xe75dcf(0x868)]['chat']['updateMissingLabels'](this[_0xe75dcf(0x30f)][_0xe75dcf(0x744)]),this[_0xe75dcf(0x868)]['chat']['updateMissingEtiquetas'](this[_0xe75dcf(0x30f)]['wuid']),this[_0xe75dcf(0x868)]['chat'][_0xe75dcf(0x875)](this[_0xe75dcf(0x30f)]['wuid']),this[_0xe75dcf(0x868)]['chat'][_0xe75dcf(0x81f)](this[_0xe75dcf(0x30f)]['wuid']),await this[_0xe75dcf(0x868)][_0xe75dcf(0x79b)][_0xe75dcf(0x585)]({'where':{}},this[_0xe75dcf(0x30f)][_0xe75dcf(0x744)]);}async['importChatsAntigo'](_0x502de1){const _0x4df8dd=a0_0x15f0ef;try{if(!Array[_0x4df8dd(0x1de)](_0x502de1)||_0x502de1[_0x4df8dd(0x272)]===0x0)throw new Error(_0x4df8dd(0x608));let _0x81d66a=[],_0x37940e=[];for(let _0x555a13 of _0x502de1){if(_0x555a13[_0x4df8dd(0x718)])_0x555a13['_id']=this[_0x4df8dd(0x514)](_0x555a13[_0x4df8dd(0x718)]);else continue;await this['repository'][_0x4df8dd(0x79b)][_0x4df8dd(0x2f1)]({'where':{'_id':_0x555a13[_0x4df8dd(0x718)]}},this[_0x4df8dd(0x30f)][_0x4df8dd(0x744)])?_0x37940e[_0x4df8dd(0x21e)]({'_id':_0x555a13[_0x4df8dd(0x718)],'leadInfo':_0x555a13['leadInfo'],'owner':this[_0x4df8dd(0x30f)][_0x4df8dd(0x744)]}):_0x81d66a['push']({'_id':_0x555a13['_id'],'owner':this['instance'][_0x4df8dd(0x744)],'leadInfo':_0x555a13['leadInfo'],'imported':!0x0});}return _0x37940e[_0x4df8dd(0x272)]>0x0&&await this[_0x4df8dd(0x868)][_0x4df8dd(0x79b)][_0x4df8dd(0x5bb)](_0x37940e[_0x4df8dd(0x684)](_0x313f57=>({'query':{'where':{'_id':_0x313f57[_0x4df8dd(0x718)],'owner':this[_0x4df8dd(0x30f)]['wuid']}},'update':_0x313f57}))),_0x81d66a[_0x4df8dd(0x272)]>0x0&&await this[_0x4df8dd(0x868)][_0x4df8dd(0x79b)][_0x4df8dd(0x50c)](_0x81d66a,this[_0x4df8dd(0x30f)]['wuid']),{'updated':_0x37940e[_0x4df8dd(0x272)],'inserted':_0x81d66a['length']};}catch(_0x2bc007){let _0x1bbf8d=_0x4df8dd(0x622),_0x4c8ef0=_0x2bc007 instanceof Error?_0x2bc007[_0x4df8dd(0x488)]:typeof _0x2bc007=='object'?JSON[_0x4df8dd(0x7a3)](_0x2bc007):_0x2bc007,_0x177f2f=_0x1bbf8d+':\x20'+_0x4c8ef0;throw this[_0x4df8dd(0x876)][_0x4df8dd(0x790)](this[_0x4df8dd(0x217)]+'\x20('+this[_0x4df8dd(0x30f)][_0x4df8dd(0x744)]+_0x4df8dd(0x603)+_0x177f2f),new w(_0x177f2f);}}async['importChats'](_0x3a00da){const _0x12b262=a0_0x15f0ef;try{if(!Array[_0x12b262(0x1de)](_0x3a00da)||_0x3a00da[_0x12b262(0x272)]===0x0)throw new Error(_0x12b262(0x608));let _0x2fc2b0=0x64,_0x297cb7=0x0;for(let _0x2d2a05=0x0;_0x2d2a05<_0x3a00da['length'];_0x2d2a05+=_0x2fc2b0){let _0x111b29=_0x3a00da[_0x12b262(0x35f)](_0x2d2a05,_0x2d2a05+_0x2fc2b0),{updated:_0xedc169}=await this[_0x12b262(0x6ab)](_0x111b29);_0x297cb7+=_0xedc169;}return{'updated':_0x297cb7};}catch(_0x26e29f){let _0x3e708a=_0x12b262(0x622),_0x480806=_0x26e29f instanceof Error?_0x26e29f[_0x12b262(0x488)]:typeof _0x26e29f==_0x12b262(0x84f)?JSON[_0x12b262(0x7a3)](_0x26e29f):_0x26e29f,_0x2cc10e=_0x3e708a+':\x20'+_0x480806;throw this['logger'][_0x12b262(0x790)](this['instanceName']+'\x20('+this[_0x12b262(0x30f)][_0x12b262(0x744)]+_0x12b262(0x603)+_0x2cc10e),new w(_0x2cc10e);}}async[a0_0x15f0ef(0x6ab)](_0x3f65d4){const _0x426eb6=a0_0x15f0ef;try{let _0x1f0073=await this[_0x426eb6(0x868)]['label'][_0x426eb6(0x585)]({'where':{}},this[_0x426eb6(0x30f)][_0x426eb6(0x744)]),_0x48b967=new Set(_0x1f0073[_0x426eb6(0x684)](_0x1fb63d=>_0x1fb63d[_0x426eb6(0x718)])),_0x4d5ab8=[],_0x1ba8e1=[];for(let _0x26cd0d of _0x3f65d4){if(!_0x26cd0d[_0x426eb6(0x718)])continue;_0x26cd0d[_0x426eb6(0x718)]=this[_0x426eb6(0x514)](_0x26cd0d[_0x426eb6(0x718)]);let _0x3befb5=await this['repository'][_0x426eb6(0x79b)][_0x426eb6(0x2f1)]({'where':{'_id':_0x26cd0d[_0x426eb6(0x718)]}},this[_0x426eb6(0x30f)][_0x426eb6(0x744)]),_0x2b4418={};if(Object[_0x426eb6(0x700)](_0x26cd0d[_0x426eb6(0x303)])[_0x426eb6(0x40e)](([_0x498a1c,_0x5c50f9])=>{_0x2b4418['leadInfo.'+_0x498a1c]=_0x5c50f9;}),_0x3befb5&&!_0x3befb5[_0x426eb6(0x6ba)]){let _0x476c7b=(_0x26cd0d[_0x426eb6(0x303)]['etiquetas']||[])[_0x426eb6(0x58a)](_0x2a80c8=>_0x48b967[_0x426eb6(0x51d)](_0x2a80c8)),_0x3ee1b1=new Set(_0x3befb5['leadInfo'][_0x426eb6(0x5a7)]||[]),_0x18c527=_0x476c7b['filter'](_0x1ba2c9=>!_0x3ee1b1[_0x426eb6(0x51d)](_0x1ba2c9)),_0x1a465c=[..._0x3ee1b1]['filter'](_0x476345=>!_0x476c7b[_0x426eb6(0x3d8)](_0x476345));_0x1ba8e1['push'](..._0x18c527[_0x426eb6(0x684)](_0x4f728d=>this[_0x426eb6(0x270)](_0x4f728d,_0x26cd0d['_id']))),_0x1ba8e1[_0x426eb6(0x21e)](..._0x1a465c[_0x426eb6(0x684)](_0x258bbf=>this[_0x426eb6(0x34d)](_0x258bbf,_0x26cd0d[_0x426eb6(0x718)]))),_0x26cd0d[_0x426eb6(0x303)][_0x426eb6(0x5a7)]=_0x476c7b,_0x4d5ab8[_0x426eb6(0x21e)]({'query':{'where':{'_id':_0x26cd0d[_0x426eb6(0x718)],'owner':this[_0x426eb6(0x30f)][_0x426eb6(0x744)]}},'update':_0x2b4418});}else _0x2b4418[_0x426eb6(0x6ba)]=!0x0,_0x4d5ab8['push']({'query':{'where':{'_id':_0x26cd0d['_id'],'owner':this[_0x426eb6(0x30f)][_0x426eb6(0x744)]}},'update':_0x2b4418});}let _0x547b37=await this[_0x426eb6(0x868)][_0x426eb6(0x79b)][_0x426eb6(0x5bb)](_0x4d5ab8);return await Promise[_0x426eb6(0x45e)](_0x1ba8e1),{'updated':_0x547b37};}catch(_0x2a7336){let _0x1a7662=_0x426eb6(0x622),_0x15c189=_0x2a7336 instanceof Error?_0x2a7336['message']:typeof _0x2a7336==_0x426eb6(0x84f)?JSON[_0x426eb6(0x7a3)](_0x2a7336):_0x2a7336,_0x3a34a2=_0x1a7662+':\x20'+_0x15c189;throw this['logger'][_0x426eb6(0x790)](this[_0x426eb6(0x217)]+'\x20('+this['instance']['wuid']+_0x426eb6(0x603)+_0x3a34a2),new w(_0x3a34a2);}}async[a0_0x15f0ef(0x2a6)](){const _0x531c8c=a0_0x15f0ef;return await this[_0x531c8c(0x7cf)]['fetchPrivacySettings']();}async[a0_0x15f0ef(0x3ae)](_0xe729f6){const _0x52d8a7=a0_0x15f0ef;try{return await this[_0x52d8a7(0x7cf)][_0x52d8a7(0x4f5)](_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x20d)]),await this[_0x52d8a7(0x7cf)][_0x52d8a7(0x3a6)](_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x291)]),await this[_0x52d8a7(0x7cf)][_0x52d8a7(0x2d9)](_0xe729f6['privacySettings'][_0x52d8a7(0x60a)]),await this['client'][_0x52d8a7(0x7ef)](_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x4e7)]),await this[_0x52d8a7(0x7cf)]['updateLastSeenPrivacy'](_0xe729f6[_0x52d8a7(0x5c1)]['last']),await this[_0x52d8a7(0x7cf)][_0x52d8a7(0x738)](_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x44a)]),this['client']?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x20d)],'profile':_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x291)],'status':_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x60a)],'online':_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x4e7)],'last':_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x520)],'groupadd':_0xe729f6[_0x52d8a7(0x5c1)][_0x52d8a7(0x44a)]}};}catch(_0x2dfd4f){let _0x313ef9='Erro\x20ao\x20alterar\x20privacidade',_0x3efc68=_0x2dfd4f instanceof Error?_0x2dfd4f['message']:typeof _0x2dfd4f=='object'?JSON[_0x52d8a7(0x7a3)](_0x2dfd4f):_0x2dfd4f,_0xe4ff11=_0x313ef9+':\x20'+_0x3efc68;throw this['logger'][_0x52d8a7(0x790)](this['instanceName']+'\x20('+this[_0x52d8a7(0x30f)]['wuid']+'):\x20'+_0xe4ff11),new w(_0xe4ff11);}}async['fetchProfile'](_0x29bb6c){const _0x2670f0=a0_0x15f0ef;let _0x1efa48=(_0x29bb6c?this[_0x2670f0(0x514)](_0x29bb6c):this[_0x2670f0(0x7cf)]?.[_0x2670f0(0x513)]?.['id'])[_0x2670f0(0x1e1)](/:\d{1,2}@/g,'@');this[_0x2670f0(0x876)][_0x2670f0(0x636)](_0x2670f0(0x4bb)+_0x1efa48);let _0x3d2b43=await this['repository'][_0x2670f0(0x33d)][_0x2670f0(0x2f1)]({'where':{'_id':_0x1efa48}},this['instance'][_0x2670f0(0x744)]),_0x441f68=_0x3d2b43?_0x3d2b43[_0x2670f0(0x60e)]:null;try{let _0x527cd4=(await this[_0x2670f0(0x6c7)]({'numbers':[_0x1efa48]}))?.['shift'](),_0x527b81=(await this[_0x2670f0(0x3d5)](_0x1efa48,null,!0x1))['cachedContact'][_0x2670f0(0x2bc)],_0x15a710=await this[_0x2670f0(0x86c)](_0x527cd4?.[_0x2670f0(0x360)]),_0x4b146e=await this[_0x2670f0(0x7ea)](_0x527cd4?.['jid']),_0x1eecf6=(await this[_0x2670f0(0x3d5)](_0x1efa48,null,!0x1))[_0x2670f0(0x64b)][_0x2670f0(0x2c9)],_0x359559=await this['repository']['chat'][_0x2670f0(0x2f1)]({'where':{'_id':_0x1efa48}},this[_0x2670f0(0x30f)][_0x2670f0(0x744)]),_0x3ffed2={'imagechat':_0x527b81,'contactname':_0x441f68||null,'pushName':_0x1eecf6,'status':_0x15a710?.['status'],'isBusiness':_0x4b146e[_0x2670f0(0x809)],'email':_0x4b146e?.[_0x2670f0(0x5f6)],'description':_0x4b146e?.[_0x2670f0(0x4e0)],'website':_0x4b146e?.[_0x2670f0(0x4df)]?.[_0x2670f0(0x6ac)](),'lastcache':Date[_0x2670f0(0x3ce)](),'imported':!_0x359559},_0x2d0de5=await this['repository'][_0x2670f0(0x79b)][_0x2670f0(0x218)]({'where':{'_id':_0x1efa48}},_0x3ffed2,this[_0x2670f0(0x30f)][_0x2670f0(0x744)]),_0xc15e59={'owner':this[_0x2670f0(0x30f)]['wuid'],'_id':_0x1efa48,'profilePictureUrl':_0x527b81,'status':_0x15a710?.['status']};return this[_0x2670f0(0x868)][_0x2670f0(0x33d)][_0x2670f0(0x429)]([_0xc15e59],this[_0x2670f0(0x30f)][_0x2670f0(0x744)]),_0x2d0de5&&J(this[_0x2670f0(0x217)],'chats',{'chat':_0x2d0de5}),{'wuid':_0x527cd4?.[_0x2670f0(0x360)]||_0x1efa48,'name':_0x527cd4?.[_0x2670f0(0x2c9)],'pushName':_0x1eecf6,'numberExists':_0x527cd4?.['exists'],'picture':_0x527b81,'status':_0x15a710?.[_0x2670f0(0x60a)],'isBusiness':_0x4b146e[_0x2670f0(0x809)],'email':_0x4b146e?.[_0x2670f0(0x5f6)],'description':_0x4b146e?.['description'],'website':_0x4b146e?.[_0x2670f0(0x4df)]?.[_0x2670f0(0x6ac)]()};}catch(_0x5a8ade){return this['logger'][_0x2670f0(0x790)](_0x2670f0(0x4c8)+(_0x5a8ade instanceof Error?_0x5a8ade[_0x2670f0(0x488)]:JSON['stringify'](_0x5a8ade,null,0x2))),{};}}async[a0_0x15f0ef(0x7ea)](_0xb1df9e){const _0x2a56cf=a0_0x15f0ef;this[_0x2a56cf(0x876)]['verbose'](_0x2a56cf(0x860));try{let _0x4d4d8c=_0xb1df9e?this['createJid'](_0xb1df9e):this[_0x2a56cf(0x30f)]['wuid'],_0x56f0f7=await this[_0x2a56cf(0x7cf)][_0x2a56cf(0x44e)](_0x4d4d8c);return this[_0x2a56cf(0x876)][_0x2a56cf(0x636)](_0x2a56cf(0x7a4)),_0x56f0f7?(this[_0x2a56cf(0x876)][_0x2a56cf(0x636)](_0x2a56cf(0x240)),{'isBusiness':!0x0,..._0x56f0f7}):{'isBusiness':!0x1,'message':_0x2a56cf(0x50e),...(await this['whatsappNumber']({'numbers':[_0x4d4d8c]}))?.[_0x2a56cf(0x6ac)]()};}catch(_0x5dcc29){let _0x1ca4dc=_0x2a56cf(0x3cd),_0x20bc4f=_0x5dcc29 instanceof Error?_0x5dcc29[_0x2a56cf(0x488)]:typeof _0x5dcc29=='object'?JSON[_0x2a56cf(0x7a3)](_0x5dcc29):_0x5dcc29,_0xcda5e2=_0x1ca4dc+':\x20'+_0x20bc4f;throw this[_0x2a56cf(0x876)][_0x2a56cf(0x790)](this[_0x2a56cf(0x217)]+'\x20('+this['instance'][_0x2a56cf(0x744)]+_0x2a56cf(0x603)+_0xcda5e2),new A(_0xcda5e2);}}async[a0_0x15f0ef(0x86c)](_0x45a9a5){const _0x362aa3=a0_0x15f0ef;let _0x5aeaec=this[_0x362aa3(0x514)](_0x45a9a5);try{return{'wuid':_0x5aeaec,'status':(await this['client'][_0x362aa3(0x6be)](_0x5aeaec))?.[_0x362aa3(0x60a)]};}catch{return{'wuid':_0x5aeaec,'status':null};}}async['updateProfileName'](_0x53c381){const _0xf7734e=a0_0x15f0ef;try{return await this[_0xf7734e(0x7cf)][_0xf7734e(0x817)](_0x53c381),{'update':'success'};}catch(_0x2274bf){let _0x5b6da3=_0xf7734e(0x72e),_0x4c2357=_0x2274bf instanceof Error?_0x2274bf[_0xf7734e(0x488)]:typeof _0x2274bf==_0xf7734e(0x84f)?JSON[_0xf7734e(0x7a3)](_0x2274bf):_0x2274bf,_0x52505c=_0x5b6da3+':\x20'+_0x4c2357;throw this[_0xf7734e(0x876)][_0xf7734e(0x790)](this[_0xf7734e(0x217)]+'\x20('+this[_0xf7734e(0x30f)][_0xf7734e(0x744)]+'):\x20'+_0x52505c),new A(_0x52505c);}}async[a0_0x15f0ef(0x753)](_0x55f3e6){const _0x3ada0b=a0_0x15f0ef;try{return await this['client'][_0x3ada0b(0x753)](_0x55f3e6),{'update':_0x3ada0b(0x46e)};}catch(_0x5b9916){let _0x473fdd=_0x3ada0b(0x246),_0x377c7c=_0x5b9916 instanceof Error?_0x5b9916[_0x3ada0b(0x488)]:typeof _0x5b9916=='object'?JSON[_0x3ada0b(0x7a3)](_0x5b9916):_0x5b9916,_0x6e43c5=_0x473fdd+':\x20'+_0x377c7c;throw this['logger']['error'](this[_0x3ada0b(0x217)]+'\x20('+this[_0x3ada0b(0x30f)]['wuid']+_0x3ada0b(0x603)+_0x6e43c5),new A(_0x6e43c5);}}async[a0_0x15f0ef(0x7c7)](_0x2d7f30){const _0x5ee8ea=a0_0x15f0ef;try{let _0x20f8a6;if((0x0,_[_0x5ee8ea(0x241)])(_0x2d7f30)){let _0x1c5f8b=new Date()[_0x5ee8ea(0x6f2)](),_0x249f79=_0x2d7f30+'?timestamp='+_0x1c5f8b;_0x20f8a6=(await K[_0x5ee8ea(0x6bb)][_0x5ee8ea(0x82b)](_0x249f79,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,_['isBase64'])(_0x2d7f30))_0x20f8a6=Buffer['from'](_0x2d7f30,'base64');else throw new w(_0x5ee8ea(0x30d));}return await this[_0x5ee8ea(0x7cf)][_0x5ee8ea(0x7c7)](this[_0x5ee8ea(0x30f)][_0x5ee8ea(0x744)],_0x20f8a6),{'update':_0x5ee8ea(0x46e)};}catch(_0x272bf8){let _0x551dd2=_0x5ee8ea(0x375),_0x8aea2c=_0x272bf8 instanceof Error?_0x272bf8[_0x5ee8ea(0x488)]:typeof _0x272bf8==_0x5ee8ea(0x84f)?JSON[_0x5ee8ea(0x7a3)](_0x272bf8):_0x272bf8,_0x516340=_0x551dd2+':\x20'+_0x8aea2c;throw this[_0x5ee8ea(0x876)][_0x5ee8ea(0x790)](this['instanceName']+'\x20('+this['instance'][_0x5ee8ea(0x744)]+_0x5ee8ea(0x603)+_0x516340),new A(_0x516340);}}async['removeProfilePicture'](){const _0x50f8ec=a0_0x15f0ef;try{return await this[_0x50f8ec(0x7cf)][_0x50f8ec(0x2c8)](this[_0x50f8ec(0x30f)][_0x50f8ec(0x744)]),{'update':_0x50f8ec(0x46e)};}catch(_0x5e6d18){let _0x51d547='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x17955d=_0x5e6d18 instanceof Error?_0x5e6d18['message']:typeof _0x5e6d18==_0x50f8ec(0x84f)?JSON['stringify'](_0x5e6d18):_0x5e6d18,_0x25888a=_0x51d547+':\x20'+_0x17955d;throw this[_0x50f8ec(0x876)]['error'](this[_0x50f8ec(0x217)]+'\x20('+this[_0x50f8ec(0x30f)][_0x50f8ec(0x744)]+_0x50f8ec(0x603)+_0x25888a),new A(_0x25888a);}}async[a0_0x15f0ef(0x277)](_0x1879d5){const _0x479b2b=a0_0x15f0ef;try{let _0x1568f4=_0x1879d5[_0x479b2b(0x3e1)][_0x479b2b(0x684)](_0x54c3cc=>this['createJid'](_0x54c3cc)),{id:_0x4886b4}=await this[_0x479b2b(0x7cf)]['groupCreate'](_0x1879d5['subject'],_0x1568f4);return _0x1879d5?.['description']&&await this['client']['groupUpdateDescription'](_0x4886b4,_0x1879d5[_0x479b2b(0x4e0)]),{'metadata':await this[_0x479b2b(0x7cf)][_0x479b2b(0x5f4)](_0x4886b4)};}catch(_0x46c68d){let _0x29f000=_0x479b2b(0x319),_0x472746=_0x46c68d instanceof Error?_0x46c68d['message']:typeof _0x46c68d==_0x479b2b(0x84f)?JSON[_0x479b2b(0x7a3)](_0x46c68d):_0x46c68d,_0x3cc39a=_0x29f000+':\x20'+_0x472746;throw this['logger']['error'](this[_0x479b2b(0x217)]+'\x20('+this[_0x479b2b(0x30f)]['wuid']+_0x479b2b(0x603)+_0x3cc39a),new A(_0x3cc39a);}}async[a0_0x15f0ef(0x262)](_0x3f7222){const _0x77c181=a0_0x15f0ef;try{let _0x5602fe;if((0x0,_[_0x77c181(0x241)])(_0x3f7222[_0x77c181(0x278)])){let _0x8173e5=new Date()[_0x77c181(0x6f2)](),_0x2ae25a=_0x3f7222['image']+'?timestamp='+_0x8173e5;_0x5602fe=(await K[_0x77c181(0x6bb)][_0x77c181(0x82b)](_0x2ae25a,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,_[_0x77c181(0x879)])(_0x3f7222[_0x77c181(0x278)]))_0x5602fe=Buffer['from'](_0x3f7222[_0x77c181(0x278)],_0x77c181(0x4cf));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x77c181(0x7cf)][_0x77c181(0x7c7)](_0x3f7222[_0x77c181(0x412)],_0x5602fe),{'update':'success'};}catch(_0x33faa6){let _0x6ab93='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0xe5c318=_0x33faa6 instanceof Error?_0x33faa6[_0x77c181(0x488)]:typeof _0x33faa6=='object'?JSON[_0x77c181(0x7a3)](_0x33faa6):_0x33faa6,_0x13731a=_0x6ab93+':\x20'+_0xe5c318;throw this[_0x77c181(0x876)]['error'](this['instanceName']+'\x20('+this[_0x77c181(0x30f)][_0x77c181(0x744)]+_0x77c181(0x603)+_0x13731a),new A(_0x13731a);}}async[a0_0x15f0ef(0x38e)](_0x1d31b9){const _0x4babd2=a0_0x15f0ef;try{return await this[_0x4babd2(0x7cf)][_0x4babd2(0x7c0)](_0x1d31b9[_0x4babd2(0x412)],_0x1d31b9['description']),{'update':_0x4babd2(0x46e)};}catch(_0x263fff){let _0x3f4900=_0x4babd2(0x201),_0x5ecb34=_0x263fff instanceof Error?_0x263fff[_0x4babd2(0x488)]:typeof _0x263fff==_0x4babd2(0x84f)?JSON[_0x4babd2(0x7a3)](_0x263fff):_0x263fff,_0x168889=_0x3f4900+':\x20'+_0x5ecb34;throw this[_0x4babd2(0x876)][_0x4babd2(0x790)](this[_0x4babd2(0x217)]+'\x20('+this[_0x4babd2(0x30f)][_0x4babd2(0x744)]+'):\x20'+_0x168889),new A(_0x168889);}}async[a0_0x15f0ef(0x389)](_0xa6e55a){const _0x2fd120=a0_0x15f0ef;try{return await this['client'][_0x2fd120(0x652)](_0xa6e55a['groupJid'],_0xa6e55a[_0x2fd120(0x2c9)]),{'update':_0x2fd120(0x46e)};}catch(_0x591b06){let _0x342f7e=_0x2fd120(0x45c),_0x1543b3=_0x591b06 instanceof Error?_0x591b06[_0x2fd120(0x488)]:typeof _0x591b06==_0x2fd120(0x84f)?JSON[_0x2fd120(0x7a3)](_0x591b06):_0x591b06,_0xab170=_0x342f7e+':\x20'+_0x1543b3;throw this[_0x2fd120(0x876)][_0x2fd120(0x790)](this[_0x2fd120(0x217)]+'\x20('+this['instance']['wuid']+'):\x20'+_0xab170),new A(_0xab170);}}async[a0_0x15f0ef(0x872)](_0x184c3f){const _0x192517=a0_0x15f0ef;try{let _0x6a9441=await this['client'][_0x192517(0x6ff)](_0x184c3f[_0x192517(0x412)],_0x184c3f[_0x192517(0x4f0)]);return{'success':!0x0};}catch(_0x7b92c){let _0x334124=_0x192517(0x6f9),_0x198682=_0x7b92c instanceof Error?_0x7b92c[_0x192517(0x488)]:typeof _0x7b92c==_0x192517(0x84f)?JSON[_0x192517(0x7a3)](_0x7b92c):_0x7b92c,_0x2d35e6=_0x334124+':\x20'+_0x198682;throw this[_0x192517(0x876)][_0x192517(0x790)](this[_0x192517(0x217)]+'\x20('+this[_0x192517(0x30f)][_0x192517(0x744)]+_0x192517(0x603)+_0x2d35e6),new A(_0x2d35e6);}}async['groupSetting'](_0x2502dc){const _0x5d6f91=a0_0x15f0ef;try{return await this[_0x5d6f91(0x7cf)]['groupSettingUpdate'](_0x2502dc['groupJid'],_0x2502dc[_0x5d6f91(0x3d2)]),{'update':_0x5d6f91(0x46e)};}catch(_0xddf7dc){let _0x214a69=_0x5d6f91(0x49d),_0x4d5473=_0xddf7dc instanceof Error?_0xddf7dc[_0x5d6f91(0x488)]:typeof _0xddf7dc==_0x5d6f91(0x84f)?JSON['stringify'](_0xddf7dc):_0xddf7dc,_0x18247c=_0x214a69+':\x20'+_0x4d5473;throw this[_0x5d6f91(0x876)][_0x5d6f91(0x790)](this[_0x5d6f91(0x217)]+'\x20('+this[_0x5d6f91(0x30f)][_0x5d6f91(0x744)]+_0x5d6f91(0x603)+_0x18247c),new A(_0x18247c);}}async[a0_0x15f0ef(0x587)](_0x184516){const _0x5412c2=a0_0x15f0ef;try{if(_0x184516[_0x5412c2(0x776)]===!0x0&&await this[_0x5412c2(0x7cf)][_0x5412c2(0x2f5)](_0x184516[_0x5412c2(0x412)],_0x5412c2(0x3da)),_0x184516['restrict']===!0x1&&await this[_0x5412c2(0x7cf)]['groupSettingUpdate'](_0x184516['groupJid'],'unlocked'),_0x184516['announce']===!0x0&&await this[_0x5412c2(0x7cf)][_0x5412c2(0x2f5)](_0x184516['groupJid'],_0x5412c2(0x4d8)),_0x184516['announce']===!0x1&&await this[_0x5412c2(0x7cf)][_0x5412c2(0x2f5)](_0x184516[_0x5412c2(0x412)],_0x5412c2(0x70c)),_0x184516[_0x5412c2(0x560)]===!0x0&&await this[_0x5412c2(0x7cf)]['groupMemberAddMode'](_0x184516['groupJid'],_0x5412c2(0x7c2)),_0x184516[_0x5412c2(0x560)]===!0x1&&await this[_0x5412c2(0x7cf)][_0x5412c2(0x592)](_0x184516['groupJid'],_0x5412c2(0x646)),_0x184516[_0x5412c2(0x535)]===!0x0&&await this[_0x5412c2(0x7cf)]['groupJoinApprovalMode'](_0x184516[_0x5412c2(0x412)],'on'),_0x184516[_0x5412c2(0x535)]===!0x1&&await this['client'][_0x5412c2(0x52a)](_0x184516[_0x5412c2(0x412)],_0x5412c2(0x565)),typeof _0x184516[_0x5412c2(0x4f0)]<'u'&&_0x184516['expiration']!==null&&await this[_0x5412c2(0x7cf)]['groupToggleEphemeral'](_0x184516[_0x5412c2(0x412)],_0x184516[_0x5412c2(0x4f0)]),_0x184516[_0x5412c2(0x2c9)]&&await this[_0x5412c2(0x7cf)][_0x5412c2(0x652)](_0x184516[_0x5412c2(0x412)],_0x184516['name']),_0x184516[_0x5412c2(0x4e0)]&&await this[_0x5412c2(0x7cf)][_0x5412c2(0x7c0)](_0x184516[_0x5412c2(0x412)],_0x184516['description']),_0x184516[_0x5412c2(0x278)]){let _0x88adb1;if((0x0,_[_0x5412c2(0x241)])(_0x184516[_0x5412c2(0x278)])){let _0x3a7488=new Date()[_0x5412c2(0x6f2)](),_0x30bced=_0x184516['image']+_0x5412c2(0x878)+_0x3a7488;_0x88adb1=(await K[_0x5412c2(0x6bb)][_0x5412c2(0x82b)](_0x30bced,{'responseType':_0x5412c2(0x500)}))['data'];}else{if((0x0,_[_0x5412c2(0x879)])(_0x184516['image']))_0x88adb1=Buffer[_0x5412c2(0x3f4)](_0x184516['image'],_0x5412c2(0x4cf));else throw new w(_0x5412c2(0x30d));}await this[_0x5412c2(0x7cf)][_0x5412c2(0x7c7)](_0x184516[_0x5412c2(0x412)],_0x88adb1);}return await this[_0x5412c2(0x4cb)]({'groupJid':_0x184516[_0x5412c2(0x412)]},'inner');}catch(_0x1a23ef){let _0x1cefaa=_0x5412c2(0x324),_0x3b63f6=_0x1a23ef instanceof Error?_0x1a23ef[_0x5412c2(0x488)]:typeof _0x1a23ef==_0x5412c2(0x84f)?JSON[_0x5412c2(0x7a3)](_0x1a23ef):_0x1a23ef,_0x38c562=_0x1cefaa+':\x20'+_0x3b63f6;throw this[_0x5412c2(0x876)][_0x5412c2(0x790)](this[_0x5412c2(0x217)]+'\x20('+this[_0x5412c2(0x30f)][_0x5412c2(0x744)]+_0x5412c2(0x603)+_0x38c562),new A(_0x38c562);}}async[a0_0x15f0ef(0x6b7)](_0x5f4d96){const _0x5395a6=a0_0x15f0ef;try{if(_0x5f4d96[_0x5395a6(0x5a6)]==='approve'||_0x5f4d96['action']===_0x5395a6(0x26b)){let _0x1b5955=_0x5f4d96[_0x5395a6(0x3e1)][_0x5395a6(0x684)](_0x4925cf=>this[_0x5395a6(0x514)](_0x4925cf));await this[_0x5395a6(0x7cf)][_0x5395a6(0x524)](_0x5f4d96['groupJid'],_0x1b5955,_0x5f4d96[_0x5395a6(0x5a6)]);}else{let _0x33304a=_0x5f4d96[_0x5395a6(0x3e1)][_0x5395a6(0x684)](_0xe193e2=>this[_0x5395a6(0x514)](_0xe193e2));await this[_0x5395a6(0x7cf)]['groupParticipantsUpdate'](_0x5f4d96[_0x5395a6(0x412)],_0x33304a,_0x5f4d96[_0x5395a6(0x5a6)]);}return await this[_0x5395a6(0x4cb)]({'groupJid':_0x5f4d96[_0x5395a6(0x412)]},_0x5395a6(0x7a9));}catch(_0x34428f){let _0xb7d19e=_0x5395a6(0x40b),_0x5efc82=_0x34428f instanceof Error?_0x34428f[_0x5395a6(0x488)]:typeof _0x34428f==_0x5395a6(0x84f)?JSON['stringify'](_0x34428f):_0x34428f,_0x3e9275=_0xb7d19e+':\x20'+_0x5efc82;throw this[_0x5395a6(0x876)][_0x5395a6(0x790)](this['instanceName']+'\x20('+this[_0x5395a6(0x30f)]['wuid']+'):\x20'+_0x3e9275),new w(_0x3e9275);}}async[a0_0x15f0ef(0x410)](_0x4dc333){const _0x1c0b12=a0_0x15f0ef;try{return await this[_0x1c0b12(0x7cf)][_0x1c0b12(0x410)](_0x4dc333['inviteCode']);}catch(_0xf1f80a){let _0xfd5f7f='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x46ee9c=_0xf1f80a instanceof Error?_0xf1f80a[_0x1c0b12(0x488)]:typeof _0xf1f80a==_0x1c0b12(0x84f)?JSON[_0x1c0b12(0x7a3)](_0xf1f80a):_0xf1f80a,_0x3def0e=_0xfd5f7f+':\x20'+_0x46ee9c;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x1c0b12(0x744)]+'):\x20'+_0x3def0e),new w(_0x3def0e);}}async[a0_0x15f0ef(0x4cb)](_0x3d959b,_0x4b021e=a0_0x15f0ef(0x4eb)){const _0x1555c7=a0_0x15f0ef;try{let _0x512fa2=await this[_0x1555c7(0x7cf)][_0x1555c7(0x5f4)](_0x3d959b['groupJid']),_0x24e13d=[];try{_0x24e13d=await this[_0x1555c7(0x7cf)][_0x1555c7(0x47e)](_0x3d959b[_0x1555c7(0x412)]);}catch(_0x315e33){this[_0x1555c7(0x876)][_0x1555c7(0x636)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x3d959b['groupJid']+':\x20'+(_0x315e33 instanceof Error?_0x315e33['message']:JSON[_0x1555c7(0x7a3)](_0x315e33,null,0x2)));}let _0x1749ee=null;try{_0x1749ee=(await this['findAndUpdateCacheContact'](_0x3d959b[_0x1555c7(0x412)],null,!0x0))['cachedContact'][_0x1555c7(0x2bc)];}catch(_0x316944){this[_0x1555c7(0x876)][_0x1555c7(0x636)](this[_0x1555c7(0x217)]+'\x20('+this[_0x1555c7(0x30f)]['wuid']+_0x1555c7(0x5de)+_0x3d959b[_0x1555c7(0x412)]+':\x20'+(_0x316944 instanceof Error?_0x316944['message']:JSON['stringify'](_0x316944,null,0x2)));}let _0x11ef9e=_0x512fa2['participants'][_0x1555c7(0x684)](_0x2c2de6=>_0x2c2de6['id']),_0x4a5d3e=_0x24e13d[_0x1555c7(0x684)](_0x21af76=>_0x21af76[_0x1555c7(0x360)]),_0x4eadd2=await this[_0x1555c7(0x868)][_0x1555c7(0x795)]['findManyByIds']([..._0x11ef9e,..._0x4a5d3e]),_0x53aa6d=_0x512fa2['participants'][_0x1555c7(0x684)](_0x12e0ac=>{const _0x3bb24a=_0x1555c7;let _0x57dab8=_0x4eadd2[_0x3bb24a(0x585)](_0x281f3e=>_0x281f3e[_0x3bb24a(0x718)]===_0x12e0ac['id']);return{'id':_0x12e0ac['id'],'status':_0x12e0ac['admin']?_0x12e0ac[_0x3bb24a(0x341)]:_0x3bb24a(0x62b),'pushName':_0x57dab8?.[_0x3bb24a(0x2c9)],'profilePictureUrl':_0x57dab8?.[_0x3bb24a(0x2bc)]};}),_0x1ea7ab=_0x24e13d[_0x1555c7(0x684)](_0x1c32e9=>{const _0x226339=_0x1555c7;let _0x33d14d=_0x4eadd2[_0x226339(0x585)](_0x2aacf4=>_0x2aacf4['_id']===_0x1c32e9[_0x226339(0x360)]);return{'id':_0x1c32e9[_0x226339(0x360)],'status':'awaitingApproval','pushName':_0x33d14d?.['name'],'profilePictureUrl':_0x33d14d?.[_0x226339(0x2bc)],'request_method':_0x1c32e9['request_method'],'request_time':_0x1c32e9[_0x226339(0x683)]};}),_0x3c7964=[..._0x53aa6d,..._0x1ea7ab];_0x512fa2[_0x1555c7(0x3e1)]=_0x3c7964;let _0x2e9129=await this['repository']['chat'][_0x1555c7(0x218)]({'where':{'_id':_0x3d959b[_0x1555c7(0x412)]}},{'imagechat':_0x1749ee,'name':_0x512fa2['subject'],'group_size':_0x512fa2[_0x1555c7(0x553)],'group_announce':_0x512fa2[_0x1555c7(0x4c0)],'group_isCommunity':_0x512fa2[_0x1555c7(0x2ed)],'lastcache':Date[_0x1555c7(0x3ce)]()},this[_0x1555c7(0x30f)][_0x1555c7(0x744)]);return _0x2e9129&&J(this[_0x1555c7(0x217)],_0x1555c7(0x2c6),{'chat':_0x2e9129}),{'metadata':_0x512fa2,'image':_0x1749ee};}catch(_0x589d76){if(_0x4b021e===_0x1555c7(0x7a9))return;throw new F(_0x1555c7(0x30b),_0x589d76[_0x1555c7(0x488)][_0x1555c7(0x5f0)]());}}async[a0_0x15f0ef(0x672)](){const _0x7a89fc=a0_0x15f0ef;try{let _0x16f6f5=await this['client'][_0x7a89fc(0x1ee)](),_0x14c107=Object['values'](_0x16f6f5)[_0x7a89fc(0x58a)](_0x3331fd=>(0x0,f[_0x7a89fc(0x4c1)])(_0x3331fd?.['id']))['map'](async _0x4774d6=>{const _0x5a095d=_0x7a89fc;try{let _0x2c858c=await this['client'][_0x5a095d(0x7bd)](_0x4774d6['id'],_0x5a095d(0x63c)),_0x21c33a=await this['findAndUpdateCacheContact'](_0x4774d6['id'],_0x4774d6[_0x5a095d(0x734)],!0x1),_0x5f58e2=_0x21c33a[_0x5a095d(0x64b)][_0x5a095d(0x2bc)],_0xcd79f={'groupJid':_0x4774d6?.['id'],'subject':_0x4774d6?.['subject'],'subjectOwner':_0x4774d6?.[_0x5a095d(0x704)]?.[_0x5a095d(0x414)]('@')[0x0],'subjectTime':_0x4774d6?.['subjectTime'],'size':_0x4774d6?.[_0x5a095d(0x3e1)]?.[_0x5a095d(0x272)],'owner':_0x4774d6?.[_0x5a095d(0x2b6)]?.[_0x5a095d(0x414)]('@')[0x0],'creation':_0x4774d6?.['creation'],'desc':_0x4774d6?.[_0x5a095d(0x601)],'restrict':_0x4774d6?.[_0x5a095d(0x776)],'announce':_0x4774d6?.['announce'],'image':_0x5f58e2,'isCommunity':_0x4774d6?.[_0x5a095d(0x2ed)],'joinApprovalMode':_0x4774d6?.[_0x5a095d(0x535)],'memberCanAddParticipant':_0x4774d6?.[_0x5a095d(0x560)]},_0x3a124b=await this[_0x5a095d(0x868)][_0x5a095d(0x79b)][_0x5a095d(0x218)]({'where':{'_id':_0x4774d6?.['id']}},{'imagechat':_0x21c33a[_0x5a095d(0x64b)][_0x5a095d(0x2bc)],'name':_0x4774d6?.['subject'],'group_size':_0x4774d6?.[_0x5a095d(0x553)],'group_announce':_0x4774d6?.[_0x5a095d(0x4c0)],'group_isCommunity':_0x4774d6?.[_0x5a095d(0x2ed)],'lastcache':Date[_0x5a095d(0x3ce)]()},this[_0x5a095d(0x30f)][_0x5a095d(0x744)]);return _0x3a124b&&J(this[_0x5a095d(0x217)],_0x5a095d(0x2c6),{'chat':_0x3a124b}),_0xcd79f;}catch(_0x4418b3){return this[_0x5a095d(0x876)][_0x5a095d(0x636)](this[_0x5a095d(0x217)]+'\x20('+this['instance'][_0x5a095d(0x744)]+_0x5a095d(0x36a)+_0x4774d6['id']+':\x20'+(_0x4418b3 instanceof Error?_0x4418b3[_0x5a095d(0x488)]:JSON[_0x5a095d(0x7a3)](_0x4418b3,null,0x2))),null;}}),_0x57165b=(await Promise[_0x7a89fc(0x45e)](_0x14c107))['filter'](_0x881b81=>_0x881b81!==null);return console[_0x7a89fc(0x884)](_0x57165b['length']+'\x20chats\x20foram\x20atualizados.'),_0x57165b;}catch(_0x54b9a1){throw new F(_0x7a89fc(0x30b),_0x54b9a1[_0x7a89fc(0x5f0)]());}}async['findGroups'](){const _0x37ab10=a0_0x15f0ef;try{let _0x201b8a=[],_0x57e910=await this['client']['groupFetchAllParticipating'](),_0x2e4f57=Object['values'](_0x57e910),_0x223a5f=_0x2e4f57[_0x37ab10(0x58a)](_0x36b05c=>(0x0,f['isJidGroup'])(_0x36b05c?.['id']))[_0x37ab10(0x684)](async _0x907ac=>{const _0x585998=_0x37ab10;try{return await this[_0x585998(0x7cf)][_0x585998(0x7bd)](_0x907ac['id'],_0x585998(0x63c));}catch(_0x5e3b){return this[_0x585998(0x876)][_0x585998(0x636)](this[_0x585998(0x217)]+'\x20('+this['instance'][_0x585998(0x744)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x907ac['id']+':\x20'+(_0x5e3b instanceof Error?_0x5e3b['message']:JSON['stringify'](_0x5e3b,null,0x2))),null;}}),_0x176c70=await Promise[_0x37ab10(0x45e)](_0x223a5f);for(let _0x1543f2=0x0;_0x1543f2<_0x2e4f57['length'];_0x1543f2++){let _0x4c28ef=_0x2e4f57[_0x1543f2];if((0x0,f[_0x37ab10(0x4c1)])(_0x4c28ef?.['id'])){_0x201b8a[_0x37ab10(0x21e)]({'groupJid':_0x4c28ef?.['id'],'subject':_0x4c28ef?.[_0x37ab10(0x734)],'subjectOwner':_0x4c28ef?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x4c28ef?.[_0x37ab10(0x20f)],'size':_0x4c28ef?.[_0x37ab10(0x3e1)]?.[_0x37ab10(0x272)],'owner':_0x4c28ef?.[_0x37ab10(0x2b6)]?.[_0x37ab10(0x414)]('@')[0x0],'creation':_0x4c28ef?.[_0x37ab10(0x3df)],'desc':_0x4c28ef?.[_0x37ab10(0x601)],'restrict':_0x4c28ef?.[_0x37ab10(0x776)],'announce':_0x4c28ef?.[_0x37ab10(0x4c0)],'image':_0x176c70[_0x1543f2],'isCommunity':_0x4c28ef?.[_0x37ab10(0x2ed)],'joinApprovalMode':_0x4c28ef?.[_0x37ab10(0x535)],'memberCanAddParticipant':_0x4c28ef?.[_0x37ab10(0x560)]});let _0x30ee27=await this[_0x37ab10(0x868)][_0x37ab10(0x79b)]['updateOne']({'where':{'_id':_0x4c28ef?.['id']}},{'imagechat':_0x176c70[_0x1543f2],'name':_0x4c28ef?.[_0x37ab10(0x734)],'group_size':_0x4c28ef?.['size'],'group_announce':_0x4c28ef?.['announce'],'group_isCommunity':_0x4c28ef?.[_0x37ab10(0x2ed)],'lastcache':Date[_0x37ab10(0x3ce)]()},this[_0x37ab10(0x30f)][_0x37ab10(0x744)]);_0x30ee27&&J(this[_0x37ab10(0x217)],'chats',{'chat':_0x30ee27});}}return _0x201b8a;}catch(_0x3b02db){let _0x107190='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x303ddb=_0x3b02db instanceof Error?_0x3b02db[_0x37ab10(0x488)]:typeof _0x3b02db==_0x37ab10(0x84f)?JSON[_0x37ab10(0x7a3)](_0x3b02db):_0x3b02db,_0x3971c1=_0x107190+':\x20'+_0x303ddb;throw this['logger'][_0x37ab10(0x790)](this['instanceName']+'\x20('+this['instance'][_0x37ab10(0x744)]+'):\x20'+_0x3971c1),new F(_0x3971c1);}}async[a0_0x15f0ef(0x7d9)](_0x92c5bb){const _0x1a0f1f=a0_0x15f0ef;try{let _0x8b7aba=await this['client']['groupInviteCode'](_0x92c5bb[_0x1a0f1f(0x412)]);return{'inviteUrl':_0x1a0f1f(0x2d1)+_0x8b7aba,'inviteCode':_0x8b7aba};}catch(_0x30b288){let _0x3e504f=_0x1a0f1f(0x787),_0x1471fb=_0x30b288 instanceof Error?_0x30b288[_0x1a0f1f(0x488)]:typeof _0x30b288==_0x1a0f1f(0x84f)?JSON['stringify'](_0x30b288):_0x30b288,_0x55b8f5=_0x3e504f+':\x20'+_0x1471fb;throw this[_0x1a0f1f(0x876)]['error'](this[_0x1a0f1f(0x217)]+'\x20('+this[_0x1a0f1f(0x30f)][_0x1a0f1f(0x744)]+_0x1a0f1f(0x603)+_0x55b8f5),new F(_0x55b8f5);}}async[a0_0x15f0ef(0x42f)](_0xdf7e31){const _0x309220=a0_0x15f0ef;try{let _0x42b4d6=await this[_0x309220(0x7cf)][_0x309220(0x3d7)](_0xdf7e31[_0x309220(0x412)]);return{'revoked':!0x0,'inviteUrl':_0x309220(0x2d1)+_0x42b4d6,'inviteCode':_0x42b4d6};}catch(_0x1632ef){let _0x463bc2=_0x309220(0x34e),_0x4ffba3=_0x1632ef instanceof Error?_0x1632ef[_0x309220(0x488)]:typeof _0x1632ef==_0x309220(0x84f)?JSON[_0x309220(0x7a3)](_0x1632ef):_0x1632ef,_0x23e3a9=_0x463bc2+':\x20'+_0x4ffba3;throw this[_0x309220(0x876)][_0x309220(0x790)](this[_0x309220(0x217)]+'\x20('+this[_0x309220(0x30f)]['wuid']+'):\x20'+_0x23e3a9),new F(_0x23e3a9);}}async['joinGroup'](_0x435c50){const _0x2ba928=a0_0x15f0ef;try{if((0x0,_[_0x2ba928(0x241)])(_0x435c50[_0x2ba928(0x7d9)]))var _0x11def2=_0x435c50['inviteCode'][_0x2ba928(0x414)]('/')[0x3];else var _0x11def2=_0x435c50['inviteCode'];let _0x3662ad=await this[_0x2ba928(0x7cf)][_0x2ba928(0x6fe)](_0x11def2);return this['logger'][_0x2ba928(0x636)](this[_0x2ba928(0x217)]+'\x20('+this[_0x2ba928(0x30f)][_0x2ba928(0x744)]+_0x2ba928(0x603)+_0x3662ad),{'join':!0x0,'inviteCode':_0x11def2,'groupJid':_0x3662ad};}catch(_0x113109){let _0x3afea=_0x2ba928(0x80c),_0x9046be=_0x113109 instanceof Error?_0x113109['message']:typeof _0x113109==_0x2ba928(0x84f)?JSON['stringify'](_0x113109):_0x113109,_0x157274=_0x3afea+':\x20'+_0x9046be;throw this[_0x2ba928(0x876)]['error'](this['instanceName']+'\x20('+this[_0x2ba928(0x30f)][_0x2ba928(0x744)]+'):\x20'+_0x157274),new F(_0x157274);}}async[a0_0x15f0ef(0x4ac)](_0x3698d5){const _0x12b862=a0_0x15f0ef;try{return{'participants':(await this[_0x12b862(0x7cf)][_0x12b862(0x5f4)](_0x3698d5[_0x12b862(0x412)]))[_0x12b862(0x3e1)]};}catch(_0x4d8872){let _0x4e9756=_0x12b862(0x7b6),_0x5baaa5=_0x4d8872 instanceof Error?_0x4d8872['message']:typeof _0x4d8872==_0x12b862(0x84f)?JSON[_0x12b862(0x7a3)](_0x4d8872):_0x4d8872,_0x24f764=_0x4e9756+':\x20'+_0x5baaa5;throw this[_0x12b862(0x876)][_0x12b862(0x790)](this['instanceName']+'\x20('+this[_0x12b862(0x30f)][_0x12b862(0x744)]+_0x12b862(0x603)+_0x24f764),new F(_0x24f764);}}async[a0_0x15f0ef(0x1eb)](_0x521b77){const _0x90f4d8=a0_0x15f0ef;try{return await this[_0x90f4d8(0x7cf)][_0x90f4d8(0x83e)](_0x521b77[_0x90f4d8(0x412)]),{'groupJid':_0x521b77[_0x90f4d8(0x412)],'leave':!0x0};}catch(_0x45352f){let _0x14d21e=_0x90f4d8(0x750),_0x41c2a8=_0x45352f instanceof Error?_0x45352f[_0x90f4d8(0x488)]:typeof _0x45352f=='object'?JSON[_0x90f4d8(0x7a3)](_0x45352f):_0x45352f,_0xbb38c2=_0x14d21e+':\x20'+_0x41c2a8;throw this['logger']['error'](this[_0x90f4d8(0x217)]+'\x20('+this[_0x90f4d8(0x30f)][_0x90f4d8(0x744)]+'):\x20'+_0xbb38c2),new w(_0xbb38c2);}}async['pollMessage'](_0x16be85){const _0x5d1587=a0_0x15f0ef;return await this['sendMessageWithTyping'](_0x16be85[_0x5d1587(0x253)],{'poll':{'name':_0x16be85[_0x5d1587(0x83b)]?.['name'],'selectableCount':_0x16be85[_0x5d1587(0x83b)][_0x5d1587(0x416)],'values':_0x16be85[_0x5d1587(0x83b)][_0x5d1587(0x2cb)]}},_0x16be85?.[_0x5d1587(0x829)]);}async[a0_0x15f0ef(0x2b0)](_0x226292){const _0x1cf81b=a0_0x15f0ef;return await this[_0x1cf81b(0x481)](_0x226292['number'],{'listMessage':{'title':_0x226292['listMessage'][_0x1cf81b(0x35c)],'description':_0x226292[_0x1cf81b(0x2b0)][_0x1cf81b(0x4e0)],'buttonText':_0x226292[_0x1cf81b(0x2b0)]?.[_0x1cf81b(0x7bc)],'footerText':_0x226292[_0x1cf81b(0x2b0)]?.[_0x1cf81b(0x5e8)],'sections':_0x226292[_0x1cf81b(0x2b0)]['sections'],'listType':0x2}},_0x226292?.[_0x1cf81b(0x829)]);}async[a0_0x15f0ef(0x635)](_0x70de8){const _0x5b89a7=a0_0x15f0ef;let _0x3a90e9;if(_0x70de8[_0x5b89a7(0x635)][_0x5b89a7(0x483)]===_0x5b89a7(0x7da)){let _0x3b7e22=_0x70de8[_0x5b89a7(0x635)][_0x5b89a7(0x358)][_0x5b89a7(0x7d1)]('\x0a'),_0x3e9452='',_0x2e95d2='';_0x3b7e22!==-0x1?(_0x3e9452=_0x70de8[_0x5b89a7(0x635)][_0x5b89a7(0x358)]['substring'](0x0,_0x3b7e22)[_0x5b89a7(0x7dc)](),_0x2e95d2=_0x70de8[_0x5b89a7(0x635)][_0x5b89a7(0x358)][_0x5b89a7(0x885)](_0x3b7e22+0x1)):_0x2e95d2=_0x70de8[_0x5b89a7(0x635)][_0x5b89a7(0x358)];let _0x3c7dfa=_0x70de8[_0x5b89a7(0x635)][_0x5b89a7(0x3d1)][_0x5b89a7(0x58a)](_0x7c40ce=>_0x7c40ce['trim']()!==''),_0x2c7531=this['createSectionsFromValues'](_0x3c7dfa);_0x3a90e9={'listMessage':{'title':_0x3e9452,'description':_0x2e95d2,'buttonText':_0x70de8[_0x5b89a7(0x635)][_0x5b89a7(0x7bc)]||_0x5b89a7(0x595),'footerText':_0x70de8[_0x5b89a7(0x635)]['footerText'],'sections':_0x2c7531,'listType':0x2}};}else{if(_0x70de8['menuMessage'][_0x5b89a7(0x483)]===_0x5b89a7(0x87f)){let _0x41d3b2=_0x70de8[_0x5b89a7(0x635)][_0x5b89a7(0x3d1)][_0x5b89a7(0x58a)](_0x203a22=>!(_0x203a22['startsWith']('[')&&_0x203a22['endsWith'](']'))&&_0x203a22[_0x5b89a7(0x7dc)]()!=='')[_0x5b89a7(0x684)](_0x13bfe3=>_0x13bfe3['split']('\x0a')[0x0]);_0x3a90e9={'poll':{'name':_0x70de8[_0x5b89a7(0x635)]['text'],'selectableCount':_0x70de8[_0x5b89a7(0x635)]['selectableCount']||0x1,'values':_0x41d3b2}};}}return await this[_0x5b89a7(0x481)](_0x70de8['number'],_0x3a90e9,_0x70de8?.[_0x5b89a7(0x829)]);}[a0_0x15f0ef(0x43f)](_0x2d2e11){const _0xbd7235=a0_0x15f0ef;let _0x3f7cd5=[],_0x12db69={'rows':[]};return _0x2d2e11[_0xbd7235(0x40e)](_0x449607=>{const _0x28fb34=_0xbd7235;if(_0x449607['startsWith']('[')&&_0x449607['endsWith'](']'))_0x12db69[_0x28fb34(0x332)][_0x28fb34(0x272)]>0x0&&_0x3f7cd5[_0x28fb34(0x21e)](_0x12db69),_0x12db69={'title':_0x449607[_0x28fb34(0x35f)](0x1,-0x1),'rows':[]};else{let _0xd8a54c=_0x449607['split']('\x0a')['map'](_0x82aa66=>_0x82aa66[_0x28fb34(0x7dc)]()),_0x586084=_0xd8a54c[0x0],_0x314065=_0xd8a54c[0x1]||null,_0x2ace6b=_0xd8a54c[0x2]||_0x586084;_0x12db69['rows'][_0x28fb34(0x21e)]({'title':_0x586084,'description':_0x314065,'rowId':_0x2ace6b});}}),_0x12db69['rows'][_0xbd7235(0x272)]>0x0&&_0x3f7cd5['push'](_0x12db69),_0x3f7cd5;}async[a0_0x15f0ef(0x570)](_0x258e56,_0x1f440a){const _0xaca0d4=a0_0x15f0ef;if(await this[_0xaca0d4(0x7b3)](_0x258e56,!0x0)){let _0x5376af={'where':{'_id':_0x258e56['id']}},_0x18a67b={'status':[_0x1f440a[_0xaca0d4(0x60a)]][0x0]};try{let _0x764fd0=await this[_0xaca0d4(0x868)][_0xaca0d4(0x488)][_0xaca0d4(0x429)](_0x5376af,_0x18a67b,this[_0xaca0d4(0x30f)][_0xaca0d4(0x744)]);_0x764fd0&&J(this[_0xaca0d4(0x217)],_0xaca0d4(0x265),{'message':_0x764fd0});}catch{}}}[a0_0x15f0ef(0x5e7)](_0x43485b){const _0x567253=a0_0x15f0ef;let _0x3085b4=[];return _0x43485b['forEach'](_0x17c2cb=>{const _0x228832=a0_0x472b;_0x17c2cb['title']&&_0x3085b4[_0x228832(0x21e)]('['+_0x17c2cb['title']+']'),_0x17c2cb[_0x228832(0x332)][_0x228832(0x40e)](_0x4eb0b8=>{const _0x13a227=_0x228832;_0x3085b4[_0x13a227(0x21e)](_0x4eb0b8[_0x13a227(0x35c)]);});}),_0x3085b4[_0x567253(0x224)]('|');}[a0_0x15f0ef(0x5ad)](_0x3b5574){const _0x15afb3=a0_0x15f0ef;let _0x52990a=_0x3b5574[_0x15afb3(0x1e1)](/\\n/g,'\x0a')[_0x15afb3(0x414)]('\x0a')[_0x15afb3(0x58a)](_0x6525e2=>_0x6525e2[_0x15afb3(0x3d8)](_0x15afb3(0x548))||_0x6525e2[_0x15afb3(0x3d8)](_0x15afb3(0x391))),_0xb65bf6='';return _0x52990a[_0x15afb3(0x40e)](_0x338743=>{const _0x1f9214=_0x15afb3;let _0x8b67c5=/TEL(?:.*):(.+)/,_0x1300a0=/EMAIL(?:.*):(.+)/,_0x2ef979=_0x338743[_0x1f9214(0x2ea)](_0x8b67c5),_0x421761=_0x338743[_0x1f9214(0x2ea)](_0x1300a0);if(_0x2ef979){let _0x42e43b=_0x2ef979[0x1][_0x1f9214(0x1e1)](/-| |\+|\(|\)/g,'')[_0x1f9214(0x7dc)]();_0xb65bf6+='Telefone:\x20'+_0x42e43b+'\x0a';}else{if(_0x421761){let _0x5971cb=_0x421761[0x1]['trim']();_0xb65bf6+='E-mail:\x20'+_0x5971cb+'\x0a';}}}),_0xb65bf6[_0x15afb3(0x7dc)]();}async[a0_0x15f0ef(0x427)](_0x377e7e,_0xb14681,_0x2dd6cd){const _0x487e75=a0_0x15f0ef;if(!_0x377e7e[_0x487e75(0x796)])return;let _0x14b714=_0xb14681[_0x487e75(0x310)][_0x487e75(0x350)][_0x487e75(0x1e1)](/:\d{1,2}@/g,'@'),_0x2480d=_0xb14681[_0x487e75(0x310)][_0x487e75(0x3ab)],_0x376592=_0x14b714[_0x487e75(0x34b)]('@g.us'),_0x3ab7a3=_0xb14681[_0x487e75(0x598)]?.['text']||_0xb14681[_0x487e75(0x598)]?.[_0x487e75(0x450)]||_0xb14681[_0x487e75(0x598)]?.[_0x487e75(0x2a9)]||_0xb14681[_0x487e75(0x598)]?.[_0x487e75(0x2c9)],_0x2381c2={'lastmsg':_0xb14681['messageTimestamp']||Date[_0x487e75(0x3ce)](),'ephemeralExpiration':_0xb14681['expiration'],'unreadcount':_0x2480d?0x0:0x1,..._0x2480d||_0x376592?{}:{'name':_0xb14681['pushName']},..._0x376592?{'group':_0x376592}:{},...!_0x2480d&&!_0x376592&&_0xb14681['profilePictureUrl']?{'imagechat':_0xb14681['profilePictureUrl']}:{}},_0x1ba9d9=await this[_0x487e75(0x868)][_0x487e75(0x79b)][_0x487e75(0x218)]({'where':{'_id':_0x14b714}},_0x2381c2,this['instance']['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x1ba9d9[_0x487e75(0x6ba)]){let _0x4ef692=await this[_0x487e75(0x868)]['label'][_0x487e75(0x585)]({'where':{}},this[_0x487e75(0x30f)][_0x487e75(0x744)]),_0x2fc4f2=new Set(_0x4ef692[_0x487e75(0x684)](_0x3d24db=>_0x3d24db['_id'])),_0x1f85c7=(_0x1ba9d9['leadInfo']?.['etiquetas']||[])[_0x487e75(0x58a)](_0x491f77=>_0x2fc4f2[_0x487e75(0x51d)](_0x491f77)),_0x57f050={'leadInfo.etiquetas':_0x1f85c7,'imported':!0x1};_0x1ba9d9=await this[_0x487e75(0x868)][_0x487e75(0x79b)][_0x487e75(0x218)]({'where':{'_id':_0x14b714}},_0x57f050,this[_0x487e75(0x30f)]['wuid']);for(let _0x28260e of _0x1f85c7)await this[_0x487e75(0x270)](_0x28260e,_0x14b714);}if(!_0x376592&&(!_0x1ba9d9?.[_0x487e75(0x303)]||!_0x1ba9d9[_0x487e75(0x303)][_0x487e75(0x540)])&&_0xb14681['pushName']&&!_0x2480d&&(_0x1ba9d9=await this[_0x487e75(0x868)][_0x487e75(0x79b)][_0x487e75(0x218)]({'where':{'_id':_0x14b714}},{'leadInfo.nome':_0xb14681[_0x487e75(0x60e)]},this[_0x487e75(0x30f)][_0x487e75(0x744)],{'new':!0x0,'upsert':!0x0})),_0x2dd6cd===_0x487e75(0x522)&&_0x2480d&&this['AutomateSystem']?.[_0x487e75(0x650)][_0x487e75(0x323)]&&!_0x3ab7a3['startsWith'](this[_0x487e75(0x276)]?.['flowConfig'][_0x487e75(0x35e)])){let _0x3fed3c=(this['AutomateSystem']?.[_0x487e75(0x650)][_0x487e75(0x27d)]||0x5)*0xea60,_0xc5c116=Date[_0x487e75(0x3ce)]()+_0x3fed3c;_0x1ba9d9?.[_0x487e75(0x303)]?.[_0x487e75(0x3bf)]===0x0||(await this[_0x487e75(0x868)][_0x487e75(0x79b)][_0x487e75(0x218)]({'where':{'_id':_0x14b714}},{'leadInfo.desativadoFluxoAte':_0xc5c116},this[_0x487e75(0x30f)][_0x487e75(0x744)],{'new':!0x0,'upsert':!0x1}),this[_0x487e75(0x876)]['verbose'](this[_0x487e75(0x217)]+'\x20('+this[_0x487e75(0x30f)][_0x487e75(0x744)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0xc5c116+'.'));}if(_0x1ba9d9)J(this[_0x487e75(0x217)],_0x487e75(0x2c6),{'chat':_0x1ba9d9});else{this['logger'][_0x487e75(0x790)](this['instanceName']+'\x20('+this[_0x487e75(0x30f)]['wuid']+_0x487e75(0x248));return;}if(!this[_0x487e75(0x276)]?.[_0x487e75(0x650)][_0x487e75(0x323)])return this[_0x487e75(0x876)]['verbose'](this[_0x487e75(0x217)]+'\x20('+this['instance']['wuid']+_0x487e75(0x26f)),null;if(_0x1ba9d9[_0x487e75(0x718)][_0x487e75(0x3d8)](_0x487e75(0x230))&&this['AutomateSystem']?.['flowConfig']['ignoreGroups']===!0x0)return this[_0x487e75(0x876)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x487e75(0x744)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x1ba9d9[_0x487e75(0x303)]){if(_0x1ba9d9[_0x487e75(0x303)][_0x487e75(0x3bf)]===0x0||_0x1ba9d9[_0x487e75(0x303)][_0x487e75(0x5bf)])return this[_0x487e75(0x876)][_0x487e75(0x636)](this[_0x487e75(0x217)]+'\x20('+this['instance'][_0x487e75(0x744)]+_0x487e75(0x2ad)+_0x14b714+_0x487e75(0x365)),null;if(_0x1ba9d9[_0x487e75(0x303)][_0x487e75(0x3bf)]>Date[_0x487e75(0x3ce)]()&&!_0xb14681[_0x487e75(0x598)]?.[_0x487e75(0x2a9)])return this['logger'][_0x487e75(0x636)](this[_0x487e75(0x217)]+'\x20('+this[_0x487e75(0x30f)][_0x487e75(0x744)]+_0x487e75(0x83f)+new Date(_0x1ba9d9['leadInfo'][_0x487e75(0x3bf)])[_0x487e75(0x873)]()+_0x487e75(0x365)),null;}this[_0x487e75(0x876)][_0x487e75(0x636)](this[_0x487e75(0x217)]+'\x20('+this[_0x487e75(0x30f)][_0x487e75(0x744)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x487e75(0x538)](_0x2dd6cd,_0xb14681);}async[a0_0x15f0ef(0x803)](_0x52cf9e,_0x4ceaf9){const _0x27ab01=a0_0x15f0ef;if(_0x4ceaf9[_0x27ab01(0x796)]){let _0x5768d5=_0x52cf9e['map'](async _0x48e34c=>{const _0x29e1ae=_0x27ab01;try{let _0x1a300e={'_id':_0x48e34c['_id'],'owner':_0x48e34c['owner'],'lastcache':0x0};if(_0x48e34c[_0x29e1ae(0x703)]!==null&&(_0x1a300e['group']=_0x48e34c[_0x29e1ae(0x703)]),_0x48e34c['name']!==null&&(_0x1a300e[_0x29e1ae(0x2c9)]=_0x48e34c[_0x29e1ae(0x2c9)]),_0x48e34c[_0x29e1ae(0x4fb)]!==null&&(_0x1a300e[_0x29e1ae(0x4fb)]=_0x48e34c[_0x29e1ae(0x4fb)]),_0x48e34c['imagechat']!==null&&(_0x1a300e[_0x29e1ae(0x3ec)]=_0x48e34c[_0x29e1ae(0x3ec)]),_0x48e34c[_0x29e1ae(0x3ec)]===null&&(_0x1a300e[_0x29e1ae(0x3ec)]=_0x29e1ae(0x542)),_0x48e34c['lastmsg']!==null&&(_0x1a300e['lastmsg']=_0x48e34c[_0x29e1ae(0x5d2)]),_0x48e34c[_0x29e1ae(0x658)]!==null&&(_0x1a300e[_0x29e1ae(0x658)]=_0x48e34c[_0x29e1ae(0x658)]),_0x48e34c[_0x29e1ae(0x5b6)]!==null&&(_0x1a300e[_0x29e1ae(0x5b6)]=_0x48e34c[_0x29e1ae(0x5b6)]),Object['keys'](_0x1a300e)[_0x29e1ae(0x272)]>0x0)return await this[_0x29e1ae(0x868)]['chat'][_0x29e1ae(0x218)]({'where':{'_id':_0x48e34c[_0x29e1ae(0x718)]}},_0x1a300e,this['instance'][_0x29e1ae(0x744)]);}catch(_0x4aab66){let _0x556f4d=_0x29e1ae(0x480)+_0x48e34c[_0x29e1ae(0x718)],_0x5a1cfe=_0x4aab66 instanceof Error?_0x4aab66[_0x29e1ae(0x488)]:typeof _0x4aab66==_0x29e1ae(0x84f)?JSON[_0x29e1ae(0x7a3)](_0x4aab66):_0x4aab66,_0x4d7a1e=_0x556f4d+':\x20'+_0x5a1cfe;return this[_0x29e1ae(0x876)][_0x29e1ae(0x790)](this[_0x29e1ae(0x217)]+'\x20('+this[_0x29e1ae(0x30f)][_0x29e1ae(0x744)]+_0x29e1ae(0x603)+_0x4d7a1e),null;}}),_0x36fabb=(await Promise[_0x27ab01(0x45e)](_0x5768d5))[_0x27ab01(0x58a)](_0x3b7b7d=>_0x3b7b7d!==null)[_0x27ab01(0x272)];this['logger'][_0x27ab01(0x636)](this[_0x27ab01(0x217)]+'\x20('+this[_0x27ab01(0x30f)][_0x27ab01(0x744)]+_0x27ab01(0x603)+_0x36fabb+_0x27ab01(0x50b)+this[_0x27ab01(0x30f)][_0x27ab01(0x744)]+_0x27ab01(0x507));}}async[a0_0x15f0ef(0x736)](_0x256217){const _0x1306f1=a0_0x15f0ef;this[_0x1306f1(0x876)][_0x1306f1(0x636)](this[_0x1306f1(0x217)]+'\x20('+this['instance'][_0x1306f1(0x744)]+_0x1306f1(0x245));let _0x12b8e2={'readMessages':[{'remoteJid':_0x256217[_0x1306f1(0x7de)]['lastReceivedMessage'][_0x1306f1(0x310)]['remoteJid'],'fromMe':_0x256217[_0x1306f1(0x7de)]['lastReceivedMessage'][_0x1306f1(0x310)][_0x1306f1(0x3ab)],'id':_0x256217['chatLog'][_0x1306f1(0x2ec)][_0x1306f1(0x310)]['id']}]};await this[_0x1306f1(0x57d)](_0x12b8e2);}async[a0_0x15f0ef(0x538)](_0x2ab491,_0x2f8715){const _0x4c5fc5=a0_0x15f0ef;try{let {key:_0x48ec37,message_normalized:_0x4e03b0}=_0x2f8715,_0x5d43b9=_0x4e03b0,_0x7701ca=_0x4e03b0[_0x4c5fc5(0x358)]||_0x4e03b0['caption']||_0x4e03b0[_0x4c5fc5(0x2a9)]||_0x4e03b0[_0x4c5fc5(0x2c9)],_0x14a591=_0x48ec37[_0x4c5fc5(0x350)],_0x126775;if(_0x5d43b9[_0x4c5fc5(0x310)][_0x4c5fc5(0x3ab)]&&_0x7701ca[_0x4c5fc5(0x7dc)]()!==this[_0x4c5fc5(0x276)]?.['flowConfig'][_0x4c5fc5(0x654)][_0x4c5fc5(0x7dc)]())return this[_0x4c5fc5(0x876)][_0x4c5fc5(0x636)](this['instanceName']+'\x20('+this[_0x4c5fc5(0x30f)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x5d43b9['key']['fromMe']&&_0x7701ca[_0x4c5fc5(0x7dc)]()===this[_0x4c5fc5(0x276)]?.[_0x4c5fc5(0x650)][_0x4c5fc5(0x654)]['trim']()){this[_0x4c5fc5(0x876)][_0x4c5fc5(0x636)](this[_0x4c5fc5(0x217)]+'\x20('+this[_0x4c5fc5(0x30f)][_0x4c5fc5(0x744)]+_0x4c5fc5(0x7c3));let _0x52d411=await this['repository'][_0x4c5fc5(0x1da)][_0x4c5fc5(0x585)]({'remoteJid':_0x14a591,'status':'open'},this[_0x4c5fc5(0x30f)][_0x4c5fc5(0x744)]);this[_0x4c5fc5(0x876)][_0x4c5fc5(0x636)](this[_0x4c5fc5(0x217)]+'\x20('+this[_0x4c5fc5(0x30f)][_0x4c5fc5(0x744)]+'):\x20Conversas\x20encontradas:'+_0x52d411);let _0x757dd=Date['now'](),_0x23e227;return this['AutomateSystem']?.[_0x4c5fc5(0x650)][_0x4c5fc5(0x7d7)]===0x0?_0x23e227={'stoppedUntil':_0x757dd+0x7591f6200}:_0x23e227={'stoppedUntil':_0x757dd+this[_0x4c5fc5(0x276)]?.[_0x4c5fc5(0x650)]['stopMinutes']*0x3c*0x3e8},this[_0x4c5fc5(0x876)][_0x4c5fc5(0x636)](this[_0x4c5fc5(0x217)]+'\x20('+this[_0x4c5fc5(0x30f)][_0x4c5fc5(0x744)]+_0x4c5fc5(0x29b)+_0x23e227),this[_0x4c5fc5(0x4b3)](_0x126775,_0x23e227['stoppedUntil']),null;}if(_0x7701ca&&_0x7701ca['startsWith'](this[_0x4c5fc5(0x276)]?.[_0x4c5fc5(0x650)][_0x4c5fc5(0x35e)])&&_0x7701ca[_0x4c5fc5(0x272)]>0x4){let _0x300c5c=await this[_0x4c5fc5(0x868)]['flow']['findOne']({'where':{'startCommandWord':_0x7701ca}},this['instance']['wuid']);if(this[_0x4c5fc5(0x876)][_0x4c5fc5(0x636)](this[_0x4c5fc5(0x217)]+'\x20('+this[_0x4c5fc5(0x30f)][_0x4c5fc5(0x744)]+_0x4c5fc5(0x3b8)),_0x300c5c)_0x126775=await this[_0x4c5fc5(0x5ed)](_0x300c5c,_0x5d43b9[_0x4c5fc5(0x310)],_0x5d43b9);else return this[_0x4c5fc5(0x876)][_0x4c5fc5(0x636)](this[_0x4c5fc5(0x217)]+'\x20('+this[_0x4c5fc5(0x30f)][_0x4c5fc5(0x744)]+_0x4c5fc5(0x362)),null;}else _0x126775=await this['findConversation'](_0x14a591,_0x5d43b9);if(_0x126775){this['logger']['verbose'](this[_0x4c5fc5(0x217)]+'\x20('+this[_0x4c5fc5(0x30f)][_0x4c5fc5(0x744)]+_0x4c5fc5(0x846)),!_0x48ec37[_0x4c5fc5(0x3ab)]&&_0x126775[_0x4c5fc5(0x449)]&&this[_0x4c5fc5(0x736)](_0x126775);let _0x151997=await this[_0x4c5fc5(0x76c)](_0x126775);_0x151997&&await this[_0x4c5fc5(0x4ce)](_0x126775,_0x151997);}}catch(_0x379864){this[_0x4c5fc5(0x876)][_0x4c5fc5(0x790)](this[_0x4c5fc5(0x217)]+'\x20('+this['instance'][_0x4c5fc5(0x744)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x379864 instanceof Error?_0x379864[_0x4c5fc5(0x488)]:JSON[_0x4c5fc5(0x7a3)](_0x379864,null,0x2)));}}[a0_0x15f0ef(0x1d4)](_0x360ffb,_0x329464='',_0x3d195f={}){const _0x3a08b4=a0_0x15f0ef;return typeof _0x360ffb!=_0x3a08b4(0x84f)||_0x360ffb===null?(_0x329464&&(_0x3d195f[_0x329464]=_0x360ffb),_0x3d195f):(Object[_0x3a08b4(0x700)](_0x360ffb)[_0x3a08b4(0x40e)](([_0x31442a,_0x317c84])=>{const _0x444697=_0x3a08b4;let _0x2981f2=_0x329464?_0x329464+'.'+_0x31442a:'_'+_0x31442a;Array['isArray'](_0x317c84)?_0x317c84[_0x444697(0x40e)]((_0x1f12e4,_0x4f521b)=>{this['flattenObject'](_0x1f12e4,_0x2981f2+'['+_0x4f521b+']',_0x3d195f);}):typeof _0x317c84==_0x444697(0x84f)&&_0x317c84!==null?this[_0x444697(0x1d4)](_0x317c84,_0x2981f2,_0x3d195f):_0x3d195f[_0x2981f2]=String(_0x317c84);}),console['log'](_0x3a08b4(0x3f0),_0x3d195f),_0x3d195f);}['variablesToObject'](_0x408b2a){const _0x316adc=a0_0x15f0ef;let _0x510308={};for(let _0x19ea62 of _0x408b2a)typeof _0x19ea62['name']=='string'&&typeof _0x19ea62[_0x316adc(0x4e6)]==_0x316adc(0x692)&&(_0x510308[_0x19ea62[_0x316adc(0x2c9)]]=_0x19ea62[_0x316adc(0x4e6)]);return _0x510308;}async[a0_0x15f0ef(0x76c)](_0x71053d){const _0x3c3b4f=a0_0x15f0ef;if(!this['AutomateSystem']?.['flowConfig'][_0x3c3b4f(0x323)]||_0x71053d[_0x3c3b4f(0x60a)]!==_0x3c3b4f(0x73f)&&_0x71053d[_0x3c3b4f(0x3d3)]==='')return null;let _0x18cb16=_0x71053d[_0x3c3b4f(0x7de)][_0x3c3b4f(0x394)]||'start';typeof _0x71053d[_0x3c3b4f(0x7de)][_0x3c3b4f(0x706)]>'u'&&(_0x71053d[_0x3c3b4f(0x7de)][_0x3c3b4f(0x706)]=!0x0);let _0xde607a=_0x71053d[_0x3c3b4f(0x7de)]['lastCondition'];this[_0x3c3b4f(0x876)][_0x3c3b4f(0x636)](this[_0x3c3b4f(0x217)]+'\x20('+this[_0x3c3b4f(0x30f)][_0x3c3b4f(0x744)]+_0x3c3b4f(0x2f6)+_0x18cb16+_0x3c3b4f(0x205)+_0xde607a);let _0x4bc65a=_0x18cb16===_0x3c3b4f(0x5cc)?_0x71053d['blocks'][_0x3c3b4f(0x585)](_0xcf8332=>_0xcf8332[_0x3c3b4f(0x483)]==='start'):_0x71053d[_0x3c3b4f(0x74e)][_0x3c3b4f(0x585)](_0x853e81=>_0x853e81[_0x3c3b4f(0x718)][_0x3c3b4f(0x5f0)]()===_0x18cb16[_0x3c3b4f(0x5f0)]());if(!_0x4bc65a)return this[_0x3c3b4f(0x876)]['error'](this[_0x3c3b4f(0x217)]+'\x20('+this[_0x3c3b4f(0x30f)]['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x18cb16),null;let _0x1809d6={'_pushName':_0x71053d['chatLog'][_0x3c3b4f(0x2ec)][_0x3c3b4f(0x60e)],..._0x71053d[_0x3c3b4f(0x7de)][_0x3c3b4f(0x2a8)]},_0x281e9d=null;if(_0x71053d[_0x3c3b4f(0x3d3)]){let _0x381102=_0x71053d[_0x3c3b4f(0x7de)][_0x3c3b4f(0x2ec)]['vote'],_0x54b457=_0x71053d[_0x3c3b4f(0x3f7)]['find'](_0x2807a4=>_0x2807a4[_0x3c3b4f(0x631)]===_0x381102);if(_0x54b457){let _0x40ceda=_0x54b457[_0x3c3b4f(0x2be)];if(_0x281e9d=_0x71053d[_0x3c3b4f(0x74e)][_0x3c3b4f(0x585)](_0x32e823=>_0x32e823[_0x3c3b4f(0x57e)]===_0x40ceda&&_0x32e823[_0x3c3b4f(0x74b)]===0x1),_0x4bc65a['uazapi'][_0x3c3b4f(0x451)]){let _0x5bf631={'id':_0x71053d[_0x3c3b4f(0x3d3)],'remoteJid':_0x71053d[_0x3c3b4f(0x350)],'fromMe':!0x0};await this['deleteMessage'](_0x5bf631);}if(_0x4bc65a[_0x3c3b4f(0x6c0)][_0x3c3b4f(0x451)]&&_0x4bc65a[_0x3c3b4f(0x6c0)][_0x3c3b4f(0x6f1)]&&_0x4bc65a['uazapi'][_0x3c3b4f(0x49f)]===_0x3c3b4f(0x87f)){let _0x43621f={'number':_0x71053d[_0x3c3b4f(0x350)],'options':{'delay':0x0},'textMessage':{'text':_0x3c3b4f(0x3c4)+_0x71053d['waitingMenu_text']+_0x3c3b4f(0x871)+_0x381102}};await this['textMessage'](_0x43621f);}_0x71053d[_0x3c3b4f(0x60a)]=_0x3c3b4f(0x73f),_0x71053d[_0x3c3b4f(0x3d3)]='',_0x71053d['waitingMenu_text']='',_0x71053d[_0x3c3b4f(0x3f7)]=[];}else{this[_0x3c3b4f(0x876)]['verbose'](this[_0x3c3b4f(0x217)]+'\x20('+this[_0x3c3b4f(0x30f)]['wuid']+_0x3c3b4f(0x7a8));let _0x302cb9={'activatedCount':_0x71053d[_0x3c3b4f(0x7de)][_0x3c3b4f(0x719)][_0x3c3b4f(0x58a)](_0x3e5889=>String(_0x3e5889['blockId'])===String(_0x18cb16))['length'],'moreLogs':[_0x3c3b4f(0x621)]};if(_0x4bc65a['uazapi'][_0x3c3b4f(0x5ee)]){let _0x167743={'number':_0x71053d['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4bc65a[_0x3c3b4f(0x6c0)][_0x3c3b4f(0x5ee)]}};await this[_0x3c3b4f(0x478)](_0x167743);}if(_0x4bc65a[_0x3c3b4f(0x7a1)]!==void 0x0&&_0x302cb9[_0x3c3b4f(0x563)]>=_0x4bc65a[_0x3c3b4f(0x7a1)]){let _0x3abd48=Date[_0x3c3b4f(0x3ce)](),_0x499279=_0x4bc65a['stopMinutesMaxActives']??0xa;isNaN(_0x499279)&&(_0x499279=0xa);let _0x1f63e1=_0x3abd48+_0x499279*0x3c*0x3e8;_0x302cb9[_0x3c3b4f(0x5b8)]=_0x1f63e1,_0x302cb9['moreLogs'][_0x3c3b4f(0x21e)](_0x3c3b4f(0x302)),this[_0x3c3b4f(0x4b3)](_0x71053d,_0x1f63e1),_0x71053d['waitingMenu_id']='',_0x71053d['waitingMenu_text']='',_0x71053d[_0x3c3b4f(0x3f7)]=[];}return this[_0x3c3b4f(0x242)](_0x71053d,_0x4bc65a,_0x302cb9,!0x0),null;}}if(_0xde607a&&_0x4bc65a[_0x3c3b4f(0x2be)]&&!_0x71053d[_0x3c3b4f(0x3d3)]){let _0x5d990e=_0x71053d[_0x3c3b4f(0x74e)]['filter'](_0x108927=>_0x108927['groupId'][_0x3c3b4f(0x5f0)]()===_0x4bc65a[_0x3c3b4f(0x2be)][_0x3c3b4f(0x5f0)]())[_0x3c3b4f(0x239)]((_0x4c5d58,_0x32c0f3)=>_0x4c5d58['order']-_0x32c0f3[_0x3c3b4f(0x74b)]);_0x5d990e['length']>0x0&&(_0x281e9d=_0x5d990e[0x0]);}if(!_0x281e9d){let _0x26b721=_0x4bc65a[_0x3c3b4f(0x57e)],_0x2ec0b7=_0x71053d[_0x3c3b4f(0x74e)][_0x3c3b4f(0x58a)](_0x1dfc7d=>_0x1dfc7d[_0x3c3b4f(0x57e)]===_0x26b721&&_0x1dfc7d[_0x3c3b4f(0x74b)]>_0x4bc65a[_0x3c3b4f(0x74b)])[_0x3c3b4f(0x239)]((_0x56009a,_0x366d41)=>_0x56009a['order']-_0x366d41[_0x3c3b4f(0x74b)]);_0x2ec0b7['length']>0x0&&(_0x281e9d=_0x2ec0b7[0x0]);}if(!_0x281e9d)return _0x71053d['status']='closed',null;_0x71053d[_0x3c3b4f(0x7de)][_0x3c3b4f(0x2a8)]=_0x1809d6;let _0x465881=JSON[_0x3c3b4f(0x379)](JSON[_0x3c3b4f(0x7a3)](_0x281e9d));return this[_0x3c3b4f(0x54f)](_0x465881,_0x71053d['chatLog'][_0x3c3b4f(0x2a8)]),_0x71053d['chatLog'][_0x3c3b4f(0x394)]=_0x465881['_id'],_0x71053d[_0x3c3b4f(0x7de)]['lastCondition']=!0x0,_0x465881;}[a0_0x15f0ef(0x82e)](_0x3cfb43,_0x517252){const _0x58c324=a0_0x15f0ef;return _0x3cfb43[_0x58c324(0x1e1)](/\{\{([^}]+)\}\}/g,(_0x11978a,_0x26177a)=>_0x517252[_0x26177a]||'');}[a0_0x15f0ef(0x54f)](_0x43ea66,_0x356ffa){const _0xab7ee2=a0_0x15f0ef;for(let _0x573ed8 in _0x43ea66)typeof _0x43ea66[_0x573ed8]==_0xab7ee2(0x692)?_0x43ea66[_0x573ed8]=this[_0xab7ee2(0x82e)](_0x43ea66[_0x573ed8],_0x356ffa):typeof _0x43ea66[_0x573ed8]==_0xab7ee2(0x84f)&&this[_0xab7ee2(0x54f)](_0x43ea66[_0x573ed8],_0x356ffa);}async['goNextblock'](_0x402e25,_0x2dac5e){const _0x299a48=a0_0x15f0ef;let _0x762f30=_0x2dac5e['_id'];if(_0x402e25['chatLog']&&_0x402e25[_0x299a48(0x7de)]['blockLogs']){let _0xd4c8e3=_0x402e25[_0x299a48(0x7de)]['blockLogs'][_0x299a48(0x58a)](_0x235adb=>String(_0x235adb[_0x299a48(0x6de)])===String(_0x762f30))[_0x299a48(0x499)]();if(_0xd4c8e3&&_0xd4c8e3[_0x299a48(0x790)]&&_0x2dac5e[_0x299a48(0x634)])return _0x402e25['status']=_0x299a48(0x729),await this[_0x299a48(0x82c)](_0x402e25),null;}if(_0x2dac5e['type']===_0x299a48(0x6c0)&&_0x2dac5e[_0x299a48(0x6c0)]['command']===_0x299a48(0x51a)&&_0x402e25[_0x299a48(0x3d3)])return _0x402e25[_0x299a48(0x7de)]['lastBlockId']=_0x762f30,await this['saveConversationToDatabase'](_0x402e25),null;let _0x35f13c=await this['NextBlock'](_0x402e25);if(_0x402e25[_0x299a48(0x7de)]&&_0x402e25['chatLog']['blockLogs']){let _0x1d4c82=_0x402e25[_0x299a48(0x7de)][_0x299a48(0x719)][_0x299a48(0x58a)](_0x559c37=>String(_0x559c37[_0x299a48(0x6de)])===String(_0x762f30))['length'];if(_0x2dac5e['maxActives']!==void 0x0&&_0x1d4c82>=_0x2dac5e[_0x299a48(0x7a1)]){let _0x1103d6=Date[_0x299a48(0x3ce)](),_0x506ba5=_0x2dac5e[_0x299a48(0x820)]??0xa;isNaN(_0x506ba5)&&(_0x506ba5=0xa);let _0x2cee18=_0x1103d6+_0x506ba5*0x3c*0x3e8,_0x12699b={'newStoppedUntil':_0x2cee18};return this[_0x299a48(0x4b3)](_0x402e25,_0x2cee18),this['updateConversation'](_0x402e25,_0x2dac5e,_0x12699b,!0x0),null;}}_0x35f13c&&_0x35f13c['type']!==_0x299a48(0x386)&&await this[_0x299a48(0x4ce)](_0x402e25,_0x35f13c),_0x35f13c||await this[_0x299a48(0x82c)](_0x402e25),_0x35f13c&&_0x35f13c[_0x299a48(0x483)]===_0x299a48(0x386)&&(_0x402e25[_0x299a48(0x7de)][_0x299a48(0x394)]=_0x762f30,await this[_0x299a48(0x82c)](_0x402e25));}async[a0_0x15f0ef(0x4ce)](_0x5e6d62,_0x11e857){const _0x156956=a0_0x15f0ef;try{let _0x2d2fd9=_0x11e857[_0x156956(0x483)];this[_0x156956(0x876)]['verbose'](this[_0x156956(0x217)]+'\x20('+this[_0x156956(0x30f)][_0x156956(0x744)]+_0x156956(0x859)+_0x2d2fd9);let _0x167204={'uazapi':()=>this[_0x156956(0x452)](_0x5e6d62,_0x11e857),'save':()=>this['saveTextReply'](_0x5e6d62,_0x11e857),'stop':()=>this[_0x156956(0x654)](_0x5e6d62,_0x11e857),'condition':()=>this[_0x156956(0x22f)](_0x5e6d62,_0x11e857),'varedit':()=>this['processvaredits'](_0x5e6d62,_0x11e857),'apirequest':()=>this[_0x156956(0x581)](_0x5e6d62,_0x11e857),'goToFlow':()=>this[_0x156956(0x5b1)](_0x5e6d62,_0x11e857)}[_0x2d2fd9];_0x167204&&await _0x167204();}catch(_0x3e2359){this['logger'][_0x156956(0x790)](this[_0x156956(0x217)]+'\x20('+this[_0x156956(0x30f)][_0x156956(0x744)]+_0x156956(0x64a)+(_0x3e2359 instanceof Error?_0x3e2359['message']:JSON[_0x156956(0x7a3)](_0x3e2359,null,0x2)));}}async[a0_0x15f0ef(0x5b1)](_0x5f3a40,_0x38db80){const _0x412847=a0_0x15f0ef;if(this[_0x412847(0x876)][_0x412847(0x636)](this[_0x412847(0x217)]+'\x20('+this[_0x412847(0x30f)]['wuid']+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x5f3a40||!_0x38db80)return this[_0x412847(0x876)][_0x412847(0x790)](this[_0x412847(0x217)]+'\x20('+this[_0x412847(0x30f)][_0x412847(0x744)]+_0x412847(0x81c)),null;await this['updateConversation'](_0x5f3a40,_0x38db80,{},!0x0,!0x0),console['log'](_0x412847(0x79d)),console[_0x412847(0x884)](_0x38db80);let _0x490199=_0x38db80[_0x412847(0x671)];console[_0x412847(0x884)](_0x412847(0x347),_0x490199),_0x5f3a40=await this[_0x412847(0x42a)](_0x490199,_0x5f3a40[_0x412847(0x350)],_0x5f3a40[_0x412847(0x7de)]['realVariables']),this[_0x412847(0x876)][_0x412847(0x636)](this[_0x412847(0x217)]+'\x20('+this['instance'][_0x412847(0x744)]+_0x412847(0x1d5));let _0x2a7215=await this[_0x412847(0x76c)](_0x5f3a40);_0x2a7215&&await this[_0x412847(0x4ce)](_0x5f3a40,_0x2a7215);}async[a0_0x15f0ef(0x42a)](_0x54b9e0,_0x3186f0,_0x115fcc){const _0xe295bb=a0_0x15f0ef;this['logger'][_0xe295bb(0x636)](this[_0xe295bb(0x217)]+'\x20('+this[_0xe295bb(0x30f)][_0xe295bb(0x744)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x54b9e0=await this[_0xe295bb(0x868)][_0xe295bb(0x384)][_0xe295bb(0x2f1)]({'where':{'name':_0x54b9e0}},this['instance'][_0xe295bb(0x744)]),!_0x54b9e0)return this[_0xe295bb(0x876)]['error'](this[_0xe295bb(0x217)]+'\x20('+this[_0xe295bb(0x30f)][_0xe295bb(0x744)]+_0xe295bb(0x1cd)),null;let _0x476e29=require(_0xe295bb(0x3a7))[_0xe295bb(0x701)],_0x367561=Date[_0xe295bb(0x3ce)](),_0x301bea=_0xe295bb(0x5cc),_0x2cfb08={},_0x13f7ac={},_0x4934dc={..._0x54b9e0,'chatLog':null},_0x4ea9b7={'lastReceivedMessage':_0x2cfb08,'lastSendMessage':_0x13f7ac,'lastBlockId':_0x301bea,'lastCondition':!0x0,'realVariables':_0x115fcc};_0x4934dc[_0xe295bb(0x7de)]=_0x4ea9b7,_0x4934dc['chatLog'][_0xe295bb(0x2a8)]={..._0x115fcc},delete _0x4934dc[_0xe295bb(0x718)],_0x4934dc[_0xe295bb(0x718)]=new _0x476e29(),_0x4934dc[_0xe295bb(0x2c5)]=_0x367561,_0x4934dc[_0xe295bb(0x60a)]=_0xe295bb(0x73f),_0x4934dc['remoteJid']=_0x3186f0;let _0x5b24a5=await this[_0xe295bb(0x868)][_0xe295bb(0x1da)][_0xe295bb(0x218)](_0x4934dc[_0xe295bb(0x718)],_0x4934dc,this[_0xe295bb(0x30f)][_0xe295bb(0x744)]);return this[_0xe295bb(0x876)]['verbose'](this[_0xe295bb(0x217)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5b24a5?_0x4934dc:null;}catch(_0x355613){let _0x218148=_0xe295bb(0x663),_0x4f15ea=_0x355613 instanceof Error?_0x355613[_0xe295bb(0x488)]:typeof _0x355613==_0xe295bb(0x84f)?JSON[_0xe295bb(0x7a3)](_0x355613):_0x355613,_0x3afe23=_0x218148+':\x20'+_0x4f15ea;throw this[_0xe295bb(0x876)][_0xe295bb(0x790)](this[_0xe295bb(0x217)]+'\x20('+this[_0xe295bb(0x30f)][_0xe295bb(0x744)]+_0xe295bb(0x603)+_0x3afe23),new w(_0x3afe23);}}async['processApiRequest'](_0x41d422,_0x27218b){const _0x4437fe=a0_0x15f0ef;let _0x55063a,_0x3c8b95;try{let _0x544300=_0x27218b[_0x4437fe(0x3d0)];if(!_0x544300||!_0x544300[_0x4437fe(0x66d)]||!_0x544300['method'])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x1bd18a;([_0x4437fe(0x317),'https://api.openai.com/v1/images/generations',_0x4437fe(0x551)][_0x4437fe(0x4f9)](_0x1fb164=>_0x544300[_0x4437fe(0x66d)]['includes'](_0x1fb164))||_0x544300['requestFile'])&&(_0x1bd18a=_0x4437fe(0x500));let _0xd8b491='\u205f',_0x162aa6;try{_0x162aa6=JSON[_0x4437fe(0x379)](_0x544300[_0x4437fe(0x33b)][_0x4437fe(0x1e1)](new RegExp(_0xd8b491,'g'),''));}catch(_0x42ebfd){throw _0x42ebfd;}let _0x1f2c76={'method':_0x544300['method'],'url':_0x544300[_0x4437fe(0x66d)],'headers':_0x544300['header']||{},..._0x544300[_0x4437fe(0x408)][_0x4437fe(0x72d)]()!==_0x4437fe(0x7ce)&&_0x544300[_0x4437fe(0x33b)]?{'data':JSON[_0x4437fe(0x379)](_0x544300['bodyString']['replace'](new RegExp(_0xd8b491,'g'),''))}:{},..._0x1bd18a&&{'responseType':_0x1bd18a}},_0x26d1c1=await(0x0,K[_0x4437fe(0x6bb)])(_0x1f2c76),_0x3ed1ad=_0x26d1c1[_0x4437fe(0x62a)]['content-type'];if(_0x3ed1ad&&_0x3ed1ad[_0x4437fe(0x3d8)](_0x4437fe(0x339))||typeof _0x26d1c1[_0x4437fe(0x467)]==_0x4437fe(0x692)){if(typeof _0x26d1c1[_0x4437fe(0x467)]=='string'){let _0x4a4387=_0x26d1c1[_0x4437fe(0x467)][_0x4437fe(0x1e1)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x4437fe(0x7dc)]();try{_0x55063a=JSON['parse'](_0x4a4387);}catch(_0x24442e){console[_0x4437fe(0x790)](_0x4437fe(0x493)+_0x24442e['message']),_0x55063a={'_apiResponse':_0x26d1c1[_0x4437fe(0x467)]};}}else _0x55063a=_0x26d1c1[_0x4437fe(0x467)];let _0x3e10b7=_0x41d422[_0x4437fe(0x7de)]['realVariables'],_0x420088=this[_0x4437fe(0x1d4)](_0x55063a);return Object[_0x4437fe(0x6b4)](_0x3e10b7,_0x420088),_0x41d422[_0x4437fe(0x7de)][_0x4437fe(0x2a8)]=_0x3e10b7,_0x3c8b95={'error':!0x1,'apiResponse':_0x55063a},this[_0x4437fe(0x242)](_0x41d422,_0x27218b,_0x3c8b95),_0x55063a;}if(_0x3ed1ad&&(_0x3ed1ad[_0x4437fe(0x3d8)](_0x4437fe(0x6e9))||_0x3ed1ad[_0x4437fe(0x3d8)](_0x4437fe(0x278))||_0x3ed1ad[_0x4437fe(0x3d8)](_0x4437fe(0x81d))||_0x3ed1ad[_0x4437fe(0x3d8)](_0x4437fe(0x2c7)))){this[_0x4437fe(0x876)][_0x4437fe(0x636)](this[_0x4437fe(0x217)]+'\x20('+this['instance']['wuid']+_0x4437fe(0x506)+_0x3ed1ad);let _0x5d6f87=(0x0,Lt['v4'])(),_0x118f80='',_0x35ba12={'image/jpeg':_0x4437fe(0x641),'image/png':'.png','image/gif':_0x4437fe(0x4a0),'image/webp':_0x4437fe(0x887),'image/svg+xml':_0x4437fe(0x886),'audio/mpeg':_0x4437fe(0x77a),'audio/ogg':_0x4437fe(0x2f8),'audio/wav':'.wav','video/mp4':'.mp4','video/webm':_0x4437fe(0x37d),'video/ogg':_0x4437fe(0x510),'text/plain':_0x4437fe(0x7df),'application/pdf':_0x4437fe(0x742),'application/msword':_0x4437fe(0x374),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4437fe(0x23a),'application/vnd.ms-excel':_0x4437fe(0x31f),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x4437fe(0x75f),'application/vnd.ms-powerpoint':_0x4437fe(0x2c2),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x4437fe(0x2a1)};_0x35ba12[_0x3ed1ad]?(_0x118f80=_0x35ba12[_0x3ed1ad],this[_0x4437fe(0x876)]['verbose'](this[_0x4437fe(0x217)]+'\x20('+this[_0x4437fe(0x30f)][_0x4437fe(0x744)]+_0x4437fe(0x2d7)+_0x118f80)):(_0x118f80=_0x4437fe(0x1f3),this[_0x4437fe(0x876)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4437fe(0x744)]+_0x4437fe(0x83a)+_0x118f80)),_0x5d6f87+=_0x118f80,this[_0x4437fe(0x876)][_0x4437fe(0x636)](this['instanceName']+'\x20('+this[_0x4437fe(0x30f)][_0x4437fe(0x744)]+_0x4437fe(0x59c)+_0x5d6f87);let _0x3ac5ad=this[_0x4437fe(0x484)][_0x4437fe(0x82b)]('SERVER')[_0x4437fe(0x7d0)];if(!_0x3ac5ad){let _0x298125=this[_0x4437fe(0x484)]['get']('SSL_CONF');_0x3ac5ad=_0x4437fe(0x833)+(_0x298125&&_0x298125[_0x4437fe(0x897)][_0x4437fe(0x414)]('/')[0x4]);}let _0x1739de=Buffer[_0x4437fe(0x3f4)](_0x26d1c1['data']);await this[_0x4437fe(0x85d)](_0x1739de,_0x5d6f87);let _0x17e2a1=_0x4437fe(0x44f)+_0x5d6f87;_0x17e2a1=''+_0x3ac5ad+_0x17e2a1,_0x55063a={'fileUrl':_0x17e2a1},_0x41d422[_0x4437fe(0x7de)]['realVariables'][_0x4437fe(0x7c6)]=_0x17e2a1;let _0x438388=_0x41d422[_0x4437fe(0x7de)][_0x4437fe(0x2a8)],_0x42f20e=this[_0x4437fe(0x1d4)](_0x55063a);return Object[_0x4437fe(0x6b4)](_0x438388,_0x42f20e),_0x41d422[_0x4437fe(0x7de)][_0x4437fe(0x2a8)]=_0x438388,_0x3c8b95={'error':!0x1,'apiResponse':{'fileUrl':_0x17e2a1}},this[_0x4437fe(0x242)](_0x41d422,_0x27218b,_0x3c8b95),_0x55063a;}}catch(_0x52f08f){console['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x52f08f['message']),_0x52f08f[_0x4437fe(0x266)]&&(_0x55063a=_0x52f08f[_0x4437fe(0x266)]['data']);let _0x253303=_0x41d422[_0x4437fe(0x7de)][_0x4437fe(0x2a8)],_0x10f9e3=this['flattenObject'](_0x55063a);return Object[_0x4437fe(0x6b4)](_0x253303,_0x10f9e3),_0x41d422[_0x4437fe(0x7de)][_0x4437fe(0x2a8)]=_0x253303,_0x3c8b95={'error':!0x0,'errorLog':_0x52f08f[_0x4437fe(0x5f0)](),'apiResponse':_0x55063a},this[_0x4437fe(0x242)](_0x41d422,_0x27218b,_0x3c8b95),{'success':!0x1};}}['applyvaredit'](_0x57a87b,_0x1b3eaf){const _0x1832a7=a0_0x15f0ef;let _0xf63524=_0x1c3ebf=>{const _0x3ce0af=a0_0x472b;let _0x359eb1=_0x1c3ebf['replace'](/[^0-9.,-]/g,'')[_0x3ce0af(0x1e1)](',','.'),_0x2c23c9=parseFloat(_0x359eb1);return isNaN(_0x2c23c9)?null:_0x2c23c9;},_0x3c0f89=_0x1b3eaf[_0x1832a7(0x6a0)],_0x1303e1=_0x1b3eaf[_0x1832a7(0x1d8)];typeof _0x3c0f89==_0x1832a7(0x692)&&(_0x3c0f89=this['replaceVariables'](_0x3c0f89,_0x57a87b[_0x1832a7(0x7de)]['realVariables'])??''),typeof _0x1303e1==_0x1832a7(0x692)&&(_0x1303e1=this['replaceVariables'](_0x1303e1,_0x57a87b[_0x1832a7(0x7de)][_0x1832a7(0x2a8)])??'');let _0x4a7cce=null;if(!_0x1b3eaf[_0x1832a7(0x42b)])return null;switch(this[_0x1832a7(0x876)][_0x1832a7(0x636)](this[_0x1832a7(0x217)]+'\x20('+this[_0x1832a7(0x30f)][_0x1832a7(0x744)]+_0x1832a7(0x675)+_0x3c0f89),this[_0x1832a7(0x876)]['verbose'](this[_0x1832a7(0x217)]+'\x20('+this[_0x1832a7(0x30f)][_0x1832a7(0x744)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x1303e1),_0x1b3eaf['editOperator']){case'+':case'-':case'*':case'/':let _0x1f2e59=_0xf63524(_0x3c0f89||'0'),_0x5b19d9=_0xf63524(_0x1303e1||'0');if(_0x1f2e59===null)return null;switch(_0x1b3eaf[_0x1832a7(0x42b)]){case'+':_0x4a7cce=_0x1f2e59+(_0x5b19d9??0x0);break;case'-':_0x4a7cce=_0x1f2e59-(_0x5b19d9??0x0);break;case'*':_0x4a7cce=_0x1f2e59*(_0x5b19d9??0x1);break;case'/':_0x5b19d9!==0x0&&(_0x4a7cce=_0x1f2e59/(_0x5b19d9??0x1));break;}break;case _0x1832a7(0x69e):case _0x1832a7(0x686):let _0x4baa20=_0x1303e1,_0x38b1c4=_0x1b3eaf['replaceValue'];if(typeof _0x38b1c4==_0x1832a7(0x692)&&(_0x38b1c4=this[_0x1832a7(0x82e)](_0x38b1c4,_0x57a87b[_0x1832a7(0x7de)][_0x1832a7(0x2a8)])??''),_0x4baa20&&_0x38b1c4!==void 0x0){let _0xc38e41=_0x1b3eaf[_0x1832a7(0x42b)]===_0x1832a7(0x69e)?new RegExp(_0x4baa20[_0x1832a7(0x1e1)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1832a7(0x711)),'g'):new RegExp(_0x4baa20,'g');_0x4a7cce=_0x3c0f89[_0x1832a7(0x1e1)](_0xc38e41,_0x38b1c4);}else console['warn'](_0x1832a7(0x346));break;case'setNewValue':_0x4a7cce=_0x1303e1;break;case _0x1832a7(0x677):let _0x28acc7=_0x3c0f89[_0x1832a7(0x2ea)](new RegExp(_0x1303e1||''));_0x4a7cce=_0x28acc7?_0x28acc7[0x0]:'';break;case _0x1832a7(0x626):_0x4a7cce=_0x3c0f89['slice'](0x0,parseInt(_0x1303e1||'0'));break;case _0x1832a7(0x583):let _0x5c2434=parseInt(_0x1303e1||'0');_0x4a7cce=_0x3c0f89[_0x1832a7(0x35f)](_0x3c0f89[_0x1832a7(0x272)]-_0x5c2434);break;case _0x1832a7(0x861):let _0x21c335=_0xf63524(_0x3c0f89),_0x32bf7d=parseInt(_0x1303e1||'0');_0x32bf7d=Math[_0x1832a7(0x3b1)](_0x32bf7d),_0x21c335!==null?_0x4a7cce=_0x21c335[_0x1832a7(0x873)](_0x1832a7(0x289),{'minimumFractionDigits':_0x32bf7d,'maximumFractionDigits':_0x32bf7d}):(console[_0x1832a7(0x235)](_0x1832a7(0x529)+_0x3c0f89),_0x4a7cce=null);break;case'toBRL':let _0x3ed252=_0xf63524(_0x3c0f89);_0x3ed252!==null?_0x4a7cce=_0x3ed252[_0x1832a7(0x873)](_0x1832a7(0x289),{'style':_0x1832a7(0x5f3),'currency':_0x1832a7(0x502)}):(console[_0x1832a7(0x235)](_0x1832a7(0x4b6)+_0x3c0f89),_0x4a7cce=null);break;case _0x1832a7(0x45b):_0x4a7cce=_0x3c0f89[_0x1832a7(0x72d)]();break;case'lowerCase':_0x4a7cce=_0x3c0f89[_0x1832a7(0x710)]();break;case'capitalizedWords':_0x4a7cce=_0x3c0f89[_0x1832a7(0x414)]('\x20')[_0x1832a7(0x684)](_0x11fa53=>_0x11fa53[_0x1832a7(0x3fb)](0x0)['toUpperCase']()+_0x11fa53[_0x1832a7(0x35f)](0x1)[_0x1832a7(0x710)]())[_0x1832a7(0x224)]('\x20');break;case _0x1832a7(0x673):_0x4a7cce=_0x3c0f89[_0x1832a7(0x7dc)]();break;default:_0x4a7cce=_0x3c0f89;}return _0x4a7cce!==null?_0x4a7cce['toString']():null;}async['processvaredits'](_0xcdc0be,_0x4b2754){const _0x31fc84=a0_0x15f0ef;try{let _0x1290f5=_0xcdc0be[_0x31fc84(0x7ca)]?.[_0x31fc84(0x58a)](_0x5f2243=>_0x5f2243[_0x31fc84(0x6de)]===_0x4b2754[_0x31fc84(0x718)]?.[_0x31fc84(0x5f0)]())||[],_0x2deb67=_0x4b2754[_0x31fc84(0x69a)],_0x24c056=null,_0x13de65=[],_0x58c53e=_0xcdc0be[_0x31fc84(0x7de)][_0x31fc84(0x2a8)][_0x2deb67];_0x13de65[_0x31fc84(0x21e)]('Valor\x20inicial:\x20\x22'+_0x58c53e+'\x22');for(let _0xb914c1 of _0x1290f5){_0xb914c1[_0x31fc84(0x6a0)]=_0x58c53e,_0x24c056=_0xb914c1[_0x31fc84(0x6a0)];let _0x3bcd3e;try{_0x3bcd3e=this['applyvaredit'](_0xcdc0be,_0xb914c1);}catch(_0x4ccace){console['error'](_0x31fc84(0x66b)+_0x4ccace['message']);continue;}if(_0x3bcd3e!==null){let _0x53f41a=_0x31fc84(0x498)+_0xb914c1[_0x31fc84(0x42b)]+'\x22',_0x181867=[_0x31fc84(0x7bb),_0x31fc84(0x45b),'lowerCase','capitalizedWords',_0x31fc84(0x673)];_0xb914c1[_0x31fc84(0x42b)]===_0x31fc84(0x69e)||_0xb914c1[_0x31fc84(0x42b)]===_0x31fc84(0x686)?_0x53f41a+=_0x31fc84(0x545)+_0xb914c1['secondValue']+_0x31fc84(0x2b4)+_0xb914c1[_0x31fc84(0x48b)]+'\x22':!_0x181867[_0x31fc84(0x3d8)](_0xb914c1['editOperator'])&&_0xb914c1['secondValue']!==null&&_0xb914c1[_0x31fc84(0x1d8)]!==void 0x0&&(_0x53f41a+=_0x31fc84(0x37e)+_0xb914c1['secondValue']+'\x22'),_0x53f41a+=',\x20resultado:\x20'+_0x3bcd3e+'.',_0x13de65['push'](_0x53f41a);}_0x3bcd3e!==null&&(_0x58c53e=_0x3bcd3e);}if(_0xcdc0be[_0x31fc84(0x7de)][_0x31fc84(0x2a8)]&&_0x4b2754[_0x31fc84(0x69a)]){_0xcdc0be['chatLog']['realVariables'][_0x4b2754['saveVariable']]=_0x58c53e;let _0x576f9e={'variable':_0x4b2754[_0x31fc84(0x69a)],'oldValue':_0x24c056,'newValue':_0x58c53e,'moreLogs':_0x13de65};try{this[_0x31fc84(0x242)](_0xcdc0be,_0x4b2754,_0x576f9e);}catch(_0x459aa9){console[_0x31fc84(0x790)](_0x31fc84(0x591)+_0x459aa9['message']);}}return _0x2deb67;}catch(_0x16e0be){return console['error'](_0x31fc84(0x59e)+_0x16e0be[_0x31fc84(0x488)]),null;}}async[a0_0x15f0ef(0x22f)](_0x4f2a60,_0x285bf5){const _0x4cb7dd=a0_0x15f0ef;try{let _0x138e72=[],_0x5e3614=_0x4f2a60[_0x4cb7dd(0x457)][_0x4cb7dd(0x58a)](_0x15e040=>_0x15e040[_0x4cb7dd(0x6de)]===_0x285bf5[_0x4cb7dd(0x718)][_0x4cb7dd(0x5f0)]()),_0x1dc787=null,_0x5d7e3e=!0x1;for(let _0x2bb866 of _0x5e3614){let _0x3f016a=this[_0x4cb7dd(0x7c8)](_0x4f2a60,_0x2bb866);_0x138e72[_0x4cb7dd(0x21e)](_0x4cb7dd(0x642)+_0x2bb866[_0x4cb7dd(0x6a0)]+_0x4cb7dd(0x203)+_0x2bb866[_0x4cb7dd(0x285)]+_0x4cb7dd(0x740)+_0x2bb866['secondValue']+_0x4cb7dd(0x3fd)+_0x3f016a),_0x1dc787===null?_0x1dc787=_0x3f016a:_0x2bb866[_0x4cb7dd(0x435)]==='and'?(_0x1dc787=_0x1dc787&&_0x3f016a,_0x3f016a||(_0x5d7e3e=!0x0)):_0x2bb866[_0x4cb7dd(0x435)]==='or'&&(_0x5d7e3e||(_0x1dc787=_0x1dc787||_0x3f016a));}_0x1dc787===null&&(_0x1dc787=!0x0);let _0x3ab398={'moreLogs':_0x138e72};_0x4f2a60[_0x4cb7dd(0x7de)][_0x4cb7dd(0x706)]=_0x1dc787,await this[_0x4cb7dd(0x242)](_0x4f2a60,_0x285bf5,_0x3ab398);}catch(_0x6543df){this[_0x4cb7dd(0x876)][_0x4cb7dd(0x790)](this[_0x4cb7dd(0x217)]+'\x20('+this['instance'][_0x4cb7dd(0x744)]+_0x4cb7dd(0x68c)+(_0x6543df instanceof Error?_0x6543df[_0x4cb7dd(0x488)]:JSON[_0x4cb7dd(0x7a3)](_0x6543df,null,0x2)));}}[a0_0x15f0ef(0x7c8)](_0x1480ad,_0x23ec1c){const _0x4ee55a=a0_0x15f0ef;let _0x289f1b=_0x23ec1c[_0x4ee55a(0x6a0)],_0x19f46b=_0x23ec1c[_0x4ee55a(0x1d8)];typeof _0x289f1b==_0x4ee55a(0x692)&&(_0x289f1b=this[_0x4ee55a(0x82e)](_0x289f1b,_0x1480ad['chatLog']['realVariables'])??''),typeof _0x19f46b==_0x4ee55a(0x692)&&(_0x19f46b=this[_0x4ee55a(0x82e)](_0x19f46b,_0x1480ad[_0x4ee55a(0x7de)]['realVariables'])??'');try{switch(_0x23ec1c[_0x4ee55a(0x285)]){case _0x4ee55a(0x5c6):return _0x289f1b===_0x19f46b;case _0x4ee55a(0x3ea):return _0x289f1b!==_0x19f46b;case _0x4ee55a(0x6ce):return this['contains'](_0x289f1b,_0x19f46b);case _0x4ee55a(0x5dc):return!this['contains'](_0x289f1b,_0x19f46b);case _0x4ee55a(0x29d):return parseFloat(_0x289f1b)>parseFloat(_0x19f46b);case _0x4ee55a(0x519):return parseFloat(_0x289f1b)<parseFloat(_0x19f46b);case _0x4ee55a(0x5bd):return _0x289f1b!=='';case'empty':return _0x289f1b==='';case'matchRegex':return new RegExp(_0x19f46b)[_0x4ee55a(0x287)](_0x289f1b);case _0x4ee55a(0x7e5):return!new RegExp(_0x19f46b)[_0x4ee55a(0x287)](_0x289f1b);default:return!0x1;}}catch(_0x9fcc39){return console[_0x4ee55a(0x790)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x9fcc39),!0x1;}}[a0_0x15f0ef(0x6ce)](_0x25d53b,_0x4d14d7){const _0xf806f8=a0_0x15f0ef;if(_0x25d53b===_0x4d14d7&&/^\d+$/[_0xf806f8(0x287)](_0x25d53b))return!0x0;if(this[_0xf806f8(0x5b2)](_0x25d53b)&&/^\d+$/[_0xf806f8(0x287)](_0x4d14d7)){let _0x1c38e4=_0x25d53b[_0xf806f8(0x414)](',')[_0xf806f8(0x684)](_0x4facd3=>parseInt(_0x4facd3['trim']())),_0x304aed=parseInt(_0x4d14d7);return _0x1c38e4[_0xf806f8(0x3d8)](_0x304aed);}return _0x25d53b[_0xf806f8(0x3d8)](_0x4d14d7);}[a0_0x15f0ef(0x5b2)](_0x261f33){const _0x233fc2=a0_0x15f0ef;return/^\d+(,\d+)*$/[_0x233fc2(0x287)](_0x261f33);}[a0_0x15f0ef(0x6a3)](_0x1878ca){const _0x4ba3e2=a0_0x15f0ef;let _0x466d21=!0x0,_0x2e1aef=null;for(let _0x55b556 of _0x1878ca){let _0x3252d5=this[_0x4ba3e2(0x56a)](_0x55b556);if(_0x2e1aef==='or'&&_0x3252d5){_0x466d21=!0x0;break;}if(_0x2e1aef===_0x4ba3e2(0x651)&&!_0x3252d5){_0x466d21=!0x1;break;}_0x2e1aef=_0x55b556['OrAnd'];}return _0x466d21;}[a0_0x15f0ef(0x56a)](_0x363246){const _0x59a545=a0_0x15f0ef;let _0x435e7f=_0x363246['firstValue'],_0x27d25c=_0x363246['secondValue'];try{switch(_0x363246[_0x59a545(0x285)]){case _0x59a545(0x5c6):return String(_0x435e7f)===String(_0x27d25c);case _0x59a545(0x3ea):return String(_0x435e7f)!==String(_0x27d25c);case _0x59a545(0x6ce):return String(_0x435e7f)[_0x59a545(0x3d8)](String(_0x27d25c));case'notContains':return!String(_0x435e7f)[_0x59a545(0x3d8)](String(_0x27d25c));case _0x59a545(0x29d):return parseFloat(String(_0x435e7f))>parseFloat(String(_0x27d25c));case _0x59a545(0x519):return parseFloat(String(_0x435e7f))<parseFloat(String(_0x27d25c));case _0x59a545(0x5bd):return String(_0x435e7f)!=='';case _0x59a545(0x3be):return String(_0x435e7f)==='';case'matchRegex':return new RegExp(String(_0x27d25c))['test'](String(_0x435e7f));case _0x59a545(0x7e5):return!new RegExp(String(_0x27d25c))[_0x59a545(0x287)](String(_0x435e7f));default:return!0x1;}}catch(_0x346df3){return console[_0x59a545(0x790)](_0x59a545(0x77c)+_0x346df3),!0x1;}}async[a0_0x15f0ef(0x6a6)](_0x5b255b,_0x11dce4){const _0x3784cd=a0_0x15f0ef;if(this[_0x3784cd(0x876)]['verbose'](this[_0x3784cd(0x217)]+'\x20('+this[_0x3784cd(0x30f)][_0x3784cd(0x744)]+_0x3784cd(0x7f3)),!_0x5b255b||!_0x11dce4)return this[_0x3784cd(0x876)][_0x3784cd(0x790)](this['instanceName']+'\x20('+this[_0x3784cd(0x30f)][_0x3784cd(0x744)]+_0x3784cd(0x81c)),null;let _0x54cce7=_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2ec)][_0x3784cd(0x310)]['id'];this[_0x3784cd(0x876)]['verbose'](this[_0x3784cd(0x217)]+'\x20('+this[_0x3784cd(0x30f)][_0x3784cd(0x744)]+_0x3784cd(0x3ef)+_0x54cce7);let _0x368f71={'key':{'id':_0x54cce7}},_0x34c23c=_0x11dce4[_0x3784cd(0x69a)];_0x5b255b['chatLog'][_0x3784cd(0x2a8)]['_'+_0x34c23c+_0x3784cd(0x342)]=null,_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2a8)]['_'+_0x34c23c+'.mimetype']=null,_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2a8)]['_'+_0x34c23c+_0x3784cd(0x82a)]=null,_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2a8)]['_'+_0x34c23c+_0x3784cd(0x42c)]=_0x5b255b['chatLog'][_0x3784cd(0x2ec)][_0x3784cd(0x483)];try{let _0x4daa40=await this['getBase64FromMediaMessage'](_0x368f71);this[_0x3784cd(0x876)][_0x3784cd(0x636)](this['instanceName']+'\x20('+this[_0x3784cd(0x30f)][_0x3784cd(0x744)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2a8)]['_'+_0x34c23c+_0x3784cd(0x33e)]=_0x4daa40[_0x3784cd(0x7c6)],_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2a8)]['_'+_0x34c23c+_0x3784cd(0x496)]=_0x4daa40[_0x3784cd(0x681)];let _0x187405=_0x4daa40[_0x3784cd(0x681)][_0x3784cd(0x2ea)](/\/(\w+)$/),_0x35e4c9=_0x187405?_0x187405[0x1]:null;_0x5b255b[_0x3784cd(0x7de)]['realVariables']['_'+_0x34c23c+_0x3784cd(0x82a)]=_0x35e4c9,this[_0x3784cd(0x876)][_0x3784cd(0x636)](this[_0x3784cd(0x217)]+'\x20('+this[_0x3784cd(0x30f)]['wuid']+_0x3784cd(0x842)+_0x34c23c+'\x27.');}catch(_0x3c9355){this[_0x3784cd(0x876)][_0x3784cd(0x790)](this['instanceName']+'\x20('+this[_0x3784cd(0x30f)][_0x3784cd(0x744)]+_0x3784cd(0x3c0)+_0x3c9355);}let _0x2b5d80=_0x5b255b['chatLog'][_0x3784cd(0x2ec)][_0x3784cd(0x358)]||_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2ec)][_0x3784cd(0x450)]||_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2ec)]['vote'];try{_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2a8)]||(_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2a8)]={});let _0x872652=_0x5b255b[_0x3784cd(0x7de)][_0x3784cd(0x2a8)][_0x34c23c];_0x5b255b['chatLog'][_0x3784cd(0x2a8)][_0x34c23c]=_0x2b5d80;let _0x20ad37={'variable':_0x34c23c,'oldValue':_0x872652,'newValue':_0x2b5d80};this[_0x3784cd(0x242)](_0x5b255b,_0x11dce4,_0x20ad37),this['logger'][_0x3784cd(0x636)](this[_0x3784cd(0x217)]+'\x20('+this['instance'][_0x3784cd(0x744)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x48d782){let _0x46afe8={'error':!0x0,'errorLog':_0x48d782[_0x3784cd(0x5f0)]()};return this[_0x3784cd(0x242)](_0x5b255b,_0x11dce4,_0x46afe8),this[_0x3784cd(0x876)][_0x3784cd(0x790)](this['instanceName']+'\x20('+this['instance'][_0x3784cd(0x744)]+_0x3784cd(0x393)+(_0x48d782 instanceof Error?_0x48d782['message']:JSON[_0x3784cd(0x7a3)](_0x48d782,null,0x2))),null;}}async[a0_0x15f0ef(0x654)](_0x2627a7,_0x114a7b){const _0x1e9b77=a0_0x15f0ef;if(this[_0x1e9b77(0x876)][_0x1e9b77(0x636)](this[_0x1e9b77(0x217)]+'\x20('+this[_0x1e9b77(0x30f)][_0x1e9b77(0x744)]+_0x1e9b77(0x7cb)),!_0x2627a7||!_0x114a7b)return this[_0x1e9b77(0x876)][_0x1e9b77(0x790)](this[_0x1e9b77(0x217)]+'\x20('+this['instance'][_0x1e9b77(0x744)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2bfc05=Date[_0x1e9b77(0x3ce)](),_0x3b2811=parseInt(_0x114a7b[_0x1e9b77(0x7d7)],0xa);if(isNaN(_0x3b2811))return this[_0x1e9b77(0x876)][_0x1e9b77(0x790)](this[_0x1e9b77(0x217)]+'\x20('+this[_0x1e9b77(0x30f)][_0x1e9b77(0x744)]+_0x1e9b77(0x579)),null;let _0x5be7fc={'newStoppedUntil':_0x2bfc05+_0x3b2811*0x3c*0x3e8};return await this[_0x1e9b77(0x242)](_0x2627a7,_0x114a7b,_0x5be7fc,!0x0),null;}async[a0_0x15f0ef(0x452)](_0x2a4a2e,_0x3489d9){const _0x7311a8=a0_0x15f0ef;try{switch(_0x3489d9[_0x7311a8(0x6c0)][_0x7311a8(0x751)]){case'sendText':await this[_0x7311a8(0x300)](_0x2a4a2e,_0x3489d9);break;case _0x7311a8(0x2b9):await this['uazapiSendMedia'](_0x2a4a2e,_0x3489d9);break;case _0x7311a8(0x4e4):await this[_0x7311a8(0x475)](_0x2a4a2e,_0x3489d9);break;case _0x7311a8(0x7ec):await this[_0x7311a8(0x77e)](_0x2a4a2e,_0x3489d9);break;case _0x7311a8(0x1fe):await this['uazapiSendContact'](_0x2a4a2e,_0x3489d9);break;case'sendPoll':await this['uazapiSendMenu'](_0x2a4a2e,_0x3489d9);break;case _0x7311a8(0x6bd):await this[_0x7311a8(0x5c5)](_0x2a4a2e,_0x3489d9);break;case'deleteMessage':await this[_0x7311a8(0x5ca)](_0x2a4a2e,_0x3489d9);break;default:this[_0x7311a8(0x876)][_0x7311a8(0x790)](this[_0x7311a8(0x217)]+'\x20('+this['instance']['wuid']+_0x7311a8(0x81e)+_0x3489d9[_0x7311a8(0x6c0)][_0x7311a8(0x751)]);}}catch(_0x51576c){this[_0x7311a8(0x876)]['error'](this['instanceName']+'\x20('+this[_0x7311a8(0x30f)]['wuid']+_0x7311a8(0x2cf)+(_0x51576c instanceof Error?_0x51576c['message']:JSON[_0x7311a8(0x7a3)](_0x51576c,null,0x2)));}}async[a0_0x15f0ef(0x242)](_0x29fe64,_0x43cf7b,_0xc83ca8,_0x22341f=!0x1,_0x334f8a=!0x1){const _0x5b4e40=a0_0x15f0ef;_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x719)]||(_0x29fe64['chatLog'][_0x5b4e40(0x719)]=[]);let _0x3e96c9=(_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x719)]?.['length']??0x0)+0x1,_0x12b19b=_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x719)][_0x5b4e40(0x58a)](_0x362287=>String(_0x362287['blockId'])===String(_0x43cf7b['_id']))[_0x5b4e40(0x272)]+0x1,_0x26647c=_0xc83ca8?.[_0x5b4e40(0x838)]??Date[_0x5b4e40(0x3ce)](),_0x57693b=_0xc83ca8?.[_0x5b4e40(0x790)]?_0xc83ca8[_0x5b4e40(0x4fd)]??_0xc83ca8['error'][_0x5b4e40(0x5f0)]():void 0x0,_0x328452={'onTime':_0x26647c,'blockId':_0x43cf7b['_id'],'order':_0x3e96c9,'activatedCount':_0x12b19b,'error':_0xc83ca8?.[_0x5b4e40(0x790)]??!0x1,'messageId':_0xc83ca8?.['messageId'],'apiResponse':_0xc83ca8?.[_0x5b4e40(0x2d8)],'apiResponseString':_0xc83ca8?.[_0x5b4e40(0x2d8)]?JSON[_0x5b4e40(0x7a3)](_0xc83ca8?.[_0x5b4e40(0x2d8)]):void 0x0,'variable':_0xc83ca8?.[_0x5b4e40(0x7ee)],'oldValue':_0xc83ca8?.[_0x5b4e40(0x845)],'newValue':_0xc83ca8?.['newValue'],'newStoppedUntil':_0xc83ca8?.['newStoppedUntil'],'moreLogs':_0xc83ca8?.[_0x5b4e40(0x67d)],'errorLog':_0x57693b};if(_0xc83ca8[_0x5b4e40(0x67d)]&&_0xc83ca8[_0x5b4e40(0x67d)][_0x5b4e40(0x272)]>0x0){let _0x936ab=_0xc83ca8['moreLogs'][_0x5b4e40(0x684)](_0x4e4ae3=>this[_0x5b4e40(0x329)](_0x4e4ae3,_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x2a8)]));_0x328452['moreLogs']=_0x936ab;}_0x29fe64['chatLog'][_0x5b4e40(0x2a8)]||(_0x29fe64['chatLog'][_0x5b4e40(0x2a8)]={}),_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x2a8)][_0x5b4e40(0x418)]=String(_0x12b19b),_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x2a8)][_0x5b4e40(0x244)]=String(_0xc83ca8[_0x5b4e40(0x790)]??!0x1),_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x719)][_0x5b4e40(0x21e)](_0x328452),_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x394)]=_0x43cf7b[_0x5b4e40(0x718)][_0x5b4e40(0x5f0)](),_0x29fe64['chatLog']['lastSendMessage']&&(_0x29fe64[_0x5b4e40(0x7de)]['lastSendMessage']=_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x801)]),_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x2ec)]&&(_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x2ec)]=_0x29fe64[_0x5b4e40(0x7de)]['lastReceivedMessage']),_0x29fe64['chatLog'][_0x5b4e40(0x706)]&&(_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x706)]=_0x29fe64[_0x5b4e40(0x7de)][_0x5b4e40(0x706)]),_0x334f8a&&(_0x29fe64['status']=_0x5b4e40(0x729)),_0x22341f?this[_0x5b4e40(0x82c)](_0x29fe64):this[_0x5b4e40(0x273)](_0x29fe64,_0x43cf7b);}[a0_0x15f0ef(0x329)](_0x5383c6,_0x402680){const _0x1afb94=a0_0x15f0ef;return _0x5383c6[_0x1afb94(0x1e1)](/\{\{([^}]+)\}\}/g,(_0x4c63b4,_0x469bff)=>_0x402680[_0x469bff]?'{{'+_0x469bff+_0x1afb94(0x68d)+_0x402680[_0x469bff]+'\x22':'{{'+_0x469bff+_0x1afb94(0x41f));}async[a0_0x15f0ef(0x82c)](_0x4b5433){const _0x54f1fe=a0_0x15f0ef;try{let _0x41a176=Object[_0x54f1fe(0x700)](_0x4b5433[_0x54f1fe(0x7de)]['realVariables'])[_0x54f1fe(0x684)](([_0x272d47,_0x3296f3])=>({'name':_0x272d47,'value':_0x3296f3})),_0x5e4271={'status':_0x4b5433[_0x54f1fe(0x60a)],'blocks':_0x4b5433[_0x54f1fe(0x74e)],'waitingMenu_id':_0x4b5433[_0x54f1fe(0x3d3)],'waitingMenu_text':_0x4b5433['waitingMenu_text'],'waitingMenu_replyOptions':_0x4b5433[_0x54f1fe(0x3f7)],'chatLog':{'lastBlockId':_0x4b5433[_0x54f1fe(0x7de)]['lastBlockId'],'lastSendMessage':_0x4b5433['chatLog']['lastSendMessage'],'lastReceivedMessage':_0x4b5433[_0x54f1fe(0x7de)][_0x54f1fe(0x2ec)],'lastCondition':_0x4b5433['chatLog'][_0x54f1fe(0x706)],'chatVariables':_0x41a176,'realVariables':_0x4b5433[_0x54f1fe(0x7de)][_0x54f1fe(0x2a8)],'blockLogs':_0x4b5433['chatLog'][_0x54f1fe(0x719)]}},_0xe3b38f=await this[_0x54f1fe(0x868)][_0x54f1fe(0x1da)][_0x54f1fe(0x218)](_0x4b5433[_0x54f1fe(0x718)],_0x5e4271,this[_0x54f1fe(0x30f)][_0x54f1fe(0x744)]);if(_0xe3b38f){this['logger'][_0x54f1fe(0x636)](this[_0x54f1fe(0x217)]+'\x20('+this['instance'][_0x54f1fe(0x744)]+_0x54f1fe(0x407)+_0xe3b38f['_id']);try{let _0xf0fc7b=['nome','nomecompleto',_0x54f1fe(0x5f6),_0x54f1fe(0x691),_0x54f1fe(0x60a),_0x54f1fe(0x22c),'responsavelid','tags',_0x54f1fe(0x5a7)];if(!this[_0x54f1fe(0x276)]&&(await this[_0x54f1fe(0x525)](),!this[_0x54f1fe(0x276)]))throw new Error(_0x54f1fe(0x827));let _0x2b6b60=this[_0x54f1fe(0x276)]?.[_0x54f1fe(0x824)][_0x54f1fe(0x684)](_0x2a81ec=>_0x2a81ec[_0x54f1fe(0x2c9)]),_0xaa3560={};Object[_0x54f1fe(0x700)](_0x4b5433[_0x54f1fe(0x7de)][_0x54f1fe(0x2a8)])['forEach'](([_0x10eded,_0x5d0c60])=>{const _0x6f095=_0x54f1fe;_0xf0fc7b['includes'](_0x10eded)&&(_0x10eded===_0x6f095(0x688)&&typeof _0x5d0c60==_0x6f095(0x692)?_0xaa3560[_0x10eded]=_0x5d0c60['split'](',')[_0x6f095(0x684)](_0xe3417f=>_0xe3417f['trim']())[_0x6f095(0x58a)](_0x3a82c1=>_0x3a82c1!==''):_0x10eded===_0x6f095(0x5a7)&&typeof _0x5d0c60=='string'?_0xaa3560[_0x10eded]=_0x5d0c60[_0x6f095(0x414)](',')['map'](_0x268e90=>_0x268e90[_0x6f095(0x7dc)]())['filter'](_0x148972=>_0x148972!==''):_0xaa3560[_0x10eded]=_0x5d0c60);});let _0x5145e7=_0x4b5433[_0x54f1fe(0x7de)][_0x54f1fe(0x719)][_0x4b5433['chatLog'][_0x54f1fe(0x719)][_0x54f1fe(0x272)]-0x1];if(_0x5145e7){let _0x451b44=_0x5145e7[_0x54f1fe(0x5b8)];_0x451b44!==void 0x0&&(_0xaa3560['desativadoFluxoAte']=_0x451b44[_0x54f1fe(0x5f0)]());}let _0x8717a4=_0x41a176[_0x54f1fe(0x58a)](_0x2968f5=>_0x2b6b60[_0x54f1fe(0x3d8)](_0x2968f5['name']));this[_0x54f1fe(0x876)]['verbose'](this[_0x54f1fe(0x217)]+'\x20('+this[_0x54f1fe(0x30f)]['wuid']+_0x54f1fe(0x2df)),this['logger'][_0x54f1fe(0x636)](_0xaa3560),this[_0x54f1fe(0x876)][_0x54f1fe(0x636)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x54f1fe(0x3c9)),this[_0x54f1fe(0x876)][_0x54f1fe(0x636)](_0x8717a4);let _0x4205c7=_0x8717a4[_0x54f1fe(0x684)](_0x2d1fc9=>{const _0x457d14=_0x54f1fe;let _0x3c145e=this['AutomateSystem']?.[_0x457d14(0x824)][_0x457d14(0x585)](_0x35f3fe=>_0x35f3fe['name']===_0x2d1fc9[_0x457d14(0x2c9)]);if(!_0x3c145e)throw new Error(_0x457d14(0x616)+_0x2d1fc9[_0x457d14(0x2c9)]);return{'_id':_0x3c145e[_0x457d14(0x718)],'value':_0x2d1fc9[_0x457d14(0x4e6)]};});this[_0x54f1fe(0x876)]['verbose'](this[_0x54f1fe(0x217)]+'\x20('+this[_0x54f1fe(0x30f)][_0x54f1fe(0x744)]+_0x54f1fe(0x56b)),this['logger'][_0x54f1fe(0x636)](_0x4205c7),await this['saveChatVariables'](_0x4b5433['remoteJid'],_0xaa3560,_0x4205c7);}catch(_0x35a11c){this[_0x54f1fe(0x876)]['error'](this[_0x54f1fe(0x217)]+'\x20('+this['instance'][_0x54f1fe(0x744)]+_0x54f1fe(0x7f9)+(_0x35a11c instanceof Error?_0x35a11c[_0x54f1fe(0x488)]:JSON[_0x54f1fe(0x7a3)](_0x35a11c,null,0x2)));}}else this[_0x54f1fe(0x876)][_0x54f1fe(0x790)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0xeb3e8e){this['logger']['error'](this[_0x54f1fe(0x217)]+'\x20('+this[_0x54f1fe(0x30f)][_0x54f1fe(0x744)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0xeb3e8e instanceof Error?_0xeb3e8e[_0x54f1fe(0x488)]:JSON['stringify'](_0xeb3e8e,null,0x2)));}}async[a0_0x15f0ef(0x67f)](_0x36bd44,_0x1dcf34,_0x4a02cd){const _0x122e5a=a0_0x15f0ef;try{let _0x822ddd={'leadInfo.leadnome':_0x1dcf34[_0x122e5a(0x540)],'leadInfo.nomecompleto':_0x1dcf34[_0x122e5a(0x25a)],'leadInfo.email':_0x1dcf34[_0x122e5a(0x5f6)],'leadInfo.cpf':_0x1dcf34['cpf'],'leadInfo.status':_0x1dcf34[_0x122e5a(0x60a)],'leadInfo.notas':_0x1dcf34['notas'],'leadInfo.responsavelid':_0x1dcf34[_0x122e5a(0x769)],'leadInfo.tags':_0x1dcf34[_0x122e5a(0x688)],'leadInfo.etiquetas':_0x1dcf34[_0x122e5a(0x5a7)],'leadInfo.customFields':_0x4a02cd},_0x50a5b2=await this[_0x122e5a(0x868)][_0x122e5a(0x79b)][_0x122e5a(0x2f1)]({'where':{'_id':_0x36bd44}},this[_0x122e5a(0x30f)][_0x122e5a(0x744)]),_0x3866ab=new Set(_0x50a5b2[_0x122e5a(0x303)][_0x122e5a(0x5a7)]||[]),_0x4a9293=new Set(_0x1dcf34[_0x122e5a(0x5a7)]||[]),_0x7bd963=await this['repository'][_0x122e5a(0x489)]['find']({'where':{}},this[_0x122e5a(0x30f)][_0x122e5a(0x744)]),_0x3ee159=new Set(_0x7bd963[_0x122e5a(0x684)](_0x38c816=>_0x38c816['_id'])),_0x41f6db=[..._0x4a9293]['filter'](_0x42ef85=>!_0x3866ab[_0x122e5a(0x51d)](_0x42ef85)&&_0x3ee159[_0x122e5a(0x51d)](_0x42ef85)),_0x3d5dbf=[..._0x3866ab]['filter'](_0x3fcfb7=>!_0x4a9293['has'](_0x3fcfb7));for(let _0x3a4ec1 of _0x41f6db)await this[_0x122e5a(0x270)](_0x3a4ec1,_0x50a5b2[_0x122e5a(0x718)]),_0x3866ab['add'](_0x3a4ec1);for(let _0x16866a of _0x3d5dbf)await this[_0x122e5a(0x34d)](_0x16866a,_0x50a5b2[_0x122e5a(0x718)]),_0x3866ab[_0x122e5a(0x439)](_0x16866a);if(_0x122e5a(0x3bf)in _0x1dcf34){let _0x16f39d=_0x1dcf34[_0x122e5a(0x3bf)];_0x822ddd[_0x122e5a(0x760)]=_0x16f39d?Number(_0x16f39d):null;}let _0x51b940=await this[_0x122e5a(0x868)][_0x122e5a(0x79b)][_0x122e5a(0x218)]({'where':{'_id':_0x36bd44}},_0x822ddd,this[_0x122e5a(0x30f)][_0x122e5a(0x744)]);_0x51b940?(this['logger'][_0x122e5a(0x636)](this[_0x122e5a(0x217)]+'\x20('+this[_0x122e5a(0x30f)][_0x122e5a(0x744)]+_0x122e5a(0x4dd)+_0x51b940[_0x122e5a(0x718)]),J(this[_0x122e5a(0x217)],_0x122e5a(0x2c6),{'chat':_0x51b940})):this['logger'][_0x122e5a(0x790)](this[_0x122e5a(0x217)]+'\x20('+this[_0x122e5a(0x30f)][_0x122e5a(0x744)]+_0x122e5a(0x584));}catch(_0x5c011d){this[_0x122e5a(0x876)]['error'](this[_0x122e5a(0x217)]+'\x20('+this[_0x122e5a(0x30f)]['wuid']+_0x122e5a(0x665)+(_0x5c011d instanceof Error?_0x5c011d[_0x122e5a(0x488)]:JSON[_0x122e5a(0x7a3)](_0x5c011d,null,0x2)));}}async['updateStopChat'](_0x3eb22b,_0x3979fa){const _0x4b1b96=a0_0x15f0ef;this[_0x4b1b96(0x876)][_0x4b1b96(0x636)](this[_0x4b1b96(0x217)]+'\x20('+this['instance'][_0x4b1b96(0x744)]+_0x4b1b96(0x3e4)+_0x3979fa);try{let _0x3fd803=await this[_0x4b1b96(0x868)][_0x4b1b96(0x79b)]['updateOne']({'where':{'_id':_0x3eb22b[_0x4b1b96(0x350)]}},{'leadInfo.desativadoFluxoAte':_0x3979fa},this[_0x4b1b96(0x30f)][_0x4b1b96(0x744)]);this[_0x4b1b96(0x876)][_0x4b1b96(0x636)](this[_0x4b1b96(0x217)]+'\x20('+this['instance'][_0x4b1b96(0x744)]+_0x4b1b96(0x6db)+_0x3eb22b[_0x4b1b96(0x718)]),this[_0x4b1b96(0x876)][_0x4b1b96(0x636)](this[_0x4b1b96(0x217)]+'\x20('+this['instance'][_0x4b1b96(0x744)]+_0x4b1b96(0x3e4)+JSON['stringify'](_0x3fd803,null,0x2)),_0x3fd803&&J(this[_0x4b1b96(0x217)],_0x4b1b96(0x2c6),{'chat':_0x3fd803});}catch(_0x5878c2){this[_0x4b1b96(0x876)][_0x4b1b96(0x790)](this[_0x4b1b96(0x217)]+'\x20('+this['instance'][_0x4b1b96(0x744)]+_0x4b1b96(0x22d)+(_0x5878c2 instanceof Error?_0x5878c2[_0x4b1b96(0x488)]:JSON[_0x4b1b96(0x7a3)](_0x5878c2,null,0x2)));}}async[a0_0x15f0ef(0x257)](_0x2a1d38){const _0x2eace9=a0_0x15f0ef;try{this[_0x2eace9(0x876)]['verbose'](this[_0x2eace9(0x217)]+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20flow...');let _0xc3f245=_0x2a1d38['replace'](/\D/g,''),_0x175be1=await this['repository']['flow'][_0x2eace9(0x2f1)]({'where':{'testingWith':_0xc3f245}},this[_0x2eace9(0x30f)][_0x2eace9(0x744)]);return _0x175be1||(this[_0x2eace9(0x876)]['verbose'](this[_0x2eace9(0x217)]+'\x20('+this[_0x2eace9(0x30f)][_0x2eace9(0x744)]+_0x2eace9(0x5a2)),_0x175be1=await this[_0x2eace9(0x868)]['flow']['findOne']({'where':{'default':!0x0}},this[_0x2eace9(0x30f)][_0x2eace9(0x744)])),_0x175be1||(this[_0x2eace9(0x876)][_0x2eace9(0x636)](this[_0x2eace9(0x217)]+'\x20('+this[_0x2eace9(0x30f)][_0x2eace9(0x744)]+_0x2eace9(0x571)),null);}catch(_0x46bdbf){return this[_0x2eace9(0x876)][_0x2eace9(0x790)](this[_0x2eace9(0x217)]+'\x20('+this[_0x2eace9(0x30f)][_0x2eace9(0x744)]+_0x2eace9(0x33c)+(_0x46bdbf instanceof Error?_0x46bdbf[_0x2eace9(0x488)]:JSON[_0x2eace9(0x7a3)](_0x46bdbf,null,0x2))),null;}}async[a0_0x15f0ef(0x219)](_0x4e34d5,_0x134c98){const _0x3d3cf3=a0_0x15f0ef;try{let _0x1b7709=!!_0x134c98[_0x3d3cf3(0x2a9)],_0x48aa39=_0x134c98['quoted'],_0xb54d15=null;if(this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this['instanceName']+'\x20('+this[_0x3d3cf3(0x30f)]['wuid']+_0x3d3cf3(0x5be)+_0x1b7709+_0x3d3cf3(0x1f2)+_0x48aa39),_0x1b7709){this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this['instanceName']+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+_0x3d3cf3(0x71d));let _0x2b8420={'where':{'remoteJid':_0x4e34d5,'waitingMenu_id':_0x48aa39}};if(_0xb54d15=await this[_0x3d3cf3(0x868)]['flowConversation'][_0x3d3cf3(0x2f1)](_0x2b8420,this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]),!_0xb54d15)return this['logger'][_0x3d3cf3(0x636)](this[_0x3d3cf3(0x217)]+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+'):\x20não\x20encontrou'),null;let _0x4ac36d=Date[_0x3d3cf3(0x3ce)](),_0x2343d9=_0xb54d15?.[_0x3d3cf3(0x432)]||0x0,_0x5d383f=_0x4ac36d-_0x2343d9*0x3c*0x3e8;if(_0xb54d15[_0x3d3cf3(0x2c5)]<_0x5d383f){this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this['instanceName']+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x288a95={'number':_0xb54d15[_0x3d3cf3(0x350)],'options':{'delay':0x0},'textMessage':{'text':_0xb54d15[_0x3d3cf3(0x523)]}};await this[_0x3d3cf3(0x478)](_0x288a95);let _0x2bd7e3={'status':_0x3d3cf3(0x729),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x3d3cf3(0x1da)]['updateOne'](_0xb54d15['_id'],_0x2bd7e3,this['instance'][_0x3d3cf3(0x744)]),null;}return _0xb54d15[_0x3d3cf3(0x2c5)]=Date[_0x3d3cf3(0x3ce)](),_0xb54d15[_0x3d3cf3(0x7de)]['lastReceivedMessage']=_0x134c98,_0xb54d15;}else{this['logger'][_0x3d3cf3(0x636)](this[_0x3d3cf3(0x217)]+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+'):\x20'+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this[_0x3d3cf3(0x217)]+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+_0x3d3cf3(0x4a8));let _0x5c2e89={'where':{'remoteJid':_0x4e34d5,'status':_0x3d3cf3(0x73f)}};if(_0xb54d15=await this[_0x3d3cf3(0x868)]['flowConversation'][_0x3d3cf3(0x2f1)](_0x5c2e89,this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]),!_0xb54d15){let _0x42cfb8=await this['findFlow'](_0x4e34d5);if(_0x42cfb8&&(_0xb54d15=await this[_0x3d3cf3(0x5ed)](_0x42cfb8,_0x134c98[_0x3d3cf3(0x310)],_0x134c98)),!_0xb54d15)return null;}let _0x93ce4e=Date[_0x3d3cf3(0x3ce)](),_0x4f1aa1=_0xb54d15?.[_0x3d3cf3(0x432)]||0x0,_0x439080=_0x93ce4e-_0x4f1aa1*0x3c*0x3e8;if(this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this[_0x3d3cf3(0x217)]+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+'):\x20Current\x20Time:\x20'+_0x93ce4e+',\x20Minutes\x20to\x20Close:\x20'+_0x4f1aa1+_0x3d3cf3(0x588)+_0x439080),this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this[_0x3d3cf3(0x217)]+'\x20('+this['instance'][_0x3d3cf3(0x744)]+_0x3d3cf3(0x466)),this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this['instanceName']+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+_0x3d3cf3(0x619)+_0xb54d15[_0x3d3cf3(0x2c5)]),this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this[_0x3d3cf3(0x217)]+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+_0x3d3cf3(0x3ca)+_0x439080),_0xb54d15['lastInteraction']<_0x439080){this[_0x3d3cf3(0x876)][_0x3d3cf3(0x636)](this[_0x3d3cf3(0x217)]+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+_0x3d3cf3(0x784));let _0x2c7e32=await this['findFlow'](_0x4e34d5);if(_0x2c7e32===null)return null;_0xb54d15&&await this[_0x3d3cf3(0x868)][_0x3d3cf3(0x1da)][_0x3d3cf3(0x218)](_0xb54d15[_0x3d3cf3(0x718)],{'status':_0x3d3cf3(0x729)},this['instance'][_0x3d3cf3(0x744)]),_0xb54d15=await this['createNewConversation'](_0x2c7e32,_0x134c98[_0x3d3cf3(0x310)],_0x134c98);}return _0xb54d15[_0x3d3cf3(0x2c5)]=_0x93ce4e,_0xb54d15['chatLog'][_0x3d3cf3(0x2ec)]=_0x134c98,_0xb54d15;}}catch(_0x46068b){return this['logger'][_0x3d3cf3(0x790)](this[_0x3d3cf3(0x217)]+'\x20('+this[_0x3d3cf3(0x30f)][_0x3d3cf3(0x744)]+_0x3d3cf3(0x61d)+(_0x46068b instanceof Error?_0x46068b[_0x3d3cf3(0x488)]:JSON[_0x3d3cf3(0x7a3)](_0x46068b,null,0x2))),null;}}async[a0_0x15f0ef(0x5ed)](_0x1de01c,_0x9f4ac6,_0x490f2d){const _0x226b74=a0_0x15f0ef;this[_0x226b74(0x876)][_0x226b74(0x636)](this[_0x226b74(0x217)]+'\x20('+this[_0x226b74(0x30f)][_0x226b74(0x744)]+_0x226b74(0x898));try{let _0x43ca02=require(_0x226b74(0x3a7))[_0x226b74(0x701)],_0x4c22b0=Date[_0x226b74(0x3ce)](),_0x40bd73=_0x226b74(0x5cc),_0x41eb0e=_0x9f4ac6[_0x226b74(0x3ab)]?null:_0x490f2d,_0x44fc13=_0x9f4ac6[_0x226b74(0x3ab)]?_0x490f2d:null,_0xe93f0e=_0x9f4ac6[_0x226b74(0x350)];await this[_0x226b74(0x52b)](_0xe93f0e);let _0x473f6a={..._0x1de01c,'chatLog':null},_0x342d25=await this[_0x226b74(0x2da)](_0x473f6a['variables']),_0x2aec7a=await this[_0x226b74(0x7fb)](_0xe93f0e),_0x244bce={..._0x342d25,..._0x2aec7a,'_remoteJid':_0xe93f0e},_0x525645={'lastReceivedMessage':_0x41eb0e,'lastSendMessage':_0x44fc13,'lastBlockId':_0x40bd73,'lastCondition':!0x0,'realVariables':_0x244bce};_0x473f6a[_0x226b74(0x7de)]=_0x525645,delete _0x473f6a['_id'],_0x473f6a[_0x226b74(0x718)]=new _0x43ca02(),_0x473f6a['lastInteraction']=_0x4c22b0,_0x473f6a[_0x226b74(0x60a)]=_0x226b74(0x73f),_0x473f6a['remoteJid']=_0xe93f0e;let _0x382fd5=await this[_0x226b74(0x868)][_0x226b74(0x1da)][_0x226b74(0x218)](_0x473f6a[_0x226b74(0x718)],_0x473f6a,this['instance'][_0x226b74(0x744)]);return this[_0x226b74(0x876)]['verbose'](this[_0x226b74(0x217)]+'\x20('+this[_0x226b74(0x30f)][_0x226b74(0x744)]+_0x226b74(0x6ee)),_0x382fd5?_0x473f6a:null;}catch(_0x2cd2a0){return this['logger'][_0x226b74(0x790)](this['instanceName']+'\x20('+this[_0x226b74(0x30f)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x2cd2a0 instanceof Error?_0x2cd2a0[_0x226b74(0x488)]:JSON[_0x226b74(0x7a3)](_0x2cd2a0,null,0x2))),_0x2cd2a0;}}async[a0_0x15f0ef(0x300)](_0x3bd08b,_0x54f972){const _0x52666f=a0_0x15f0ef;let _0x1a768c=_0x3bd08b[_0x52666f(0x350)];_0x54f972[_0x52666f(0x6c0)][_0x52666f(0x350)]&&_0x54f972[_0x52666f(0x6c0)][_0x52666f(0x350)][_0x52666f(0x7dc)]()!==''&&(_0x1a768c=_0x54f972[_0x52666f(0x6c0)]['remoteJid'][_0x52666f(0x7dc)]()),this[_0x52666f(0x876)][_0x52666f(0x636)](this[_0x52666f(0x217)]+'\x20('+this[_0x52666f(0x30f)][_0x52666f(0x744)]+'):\x20Enviando\x20texto');let _0x5a5b0a={'number':_0x1a768c,'options':{'delay':_0x54f972[_0x52666f(0x6c0)]['delay'],'linkPreview':_0x54f972[_0x52666f(0x6c0)][_0x52666f(0x2f0)]},'textMessage':{'text':_0x54f972[_0x52666f(0x6c0)][_0x52666f(0x358)]}};try{let _0x527f4d=await this[_0x52666f(0x478)](_0x5a5b0a);if(_0x527f4d){let _0x336ae1={'_id':_0x527f4d[_0x52666f(0x310)]['id'],'_fromMe':_0x527f4d[_0x52666f(0x310)][_0x52666f(0x3ab)],'_remoteJid':_0x527f4d['key']['remoteJid']},_0x26742d=(0x0,f[_0x52666f(0x403)])(_0x527f4d[_0x52666f(0x488)]),_0x562094=(0x0,f[_0x52666f(0x5f9)])(_0x26742d);_0x3bd08b[_0x52666f(0x7de)][_0x52666f(0x394)]=_0x54f972[_0x52666f(0x718)][_0x52666f(0x5f0)]();let {message_normalized:_0x1f0bd0}=this[_0x52666f(0x2e9)](_0x26742d,_0x562094,null);_0x3bd08b[_0x52666f(0x7de)][_0x52666f(0x801)]=await _0x1f0bd0;let _0x298c33={'messageId':_0x527f4d[_0x52666f(0x310)]['id']},_0x33849e=_0x3bd08b['chatLog'][_0x52666f(0x2a8)];Object[_0x52666f(0x6b4)](_0x33849e,_0x336ae1),_0x3bd08b[_0x52666f(0x7de)][_0x52666f(0x2a8)]=_0x33849e,this[_0x52666f(0x242)](_0x3bd08b,_0x54f972,_0x298c33);}else{let _0x9bb750={'error':!0x0};this[_0x52666f(0x242)](_0x3bd08b,_0x54f972,_0x9bb750),this[_0x52666f(0x876)][_0x52666f(0x790)](this['instanceName']+'\x20('+this[_0x52666f(0x30f)]['wuid']+_0x52666f(0x446));}}catch(_0xbdb4db){let _0xcb1262={'error':!0x0,'errorLog':_0xbdb4db[_0x52666f(0x5f0)]()};this[_0x52666f(0x242)](_0x3bd08b,_0x54f972,_0xcb1262),this[_0x52666f(0x876)][_0x52666f(0x790)](this['instanceName']+'\x20('+this['instance'][_0x52666f(0x744)]+_0x52666f(0x69b)+(_0xbdb4db instanceof Error?_0xbdb4db[_0x52666f(0x488)]:JSON[_0x52666f(0x7a3)](_0xbdb4db,null,0x2)));}}async['uazapiSendMedia'](_0x1098ce,_0x481123){const _0x19180b=a0_0x15f0ef;let _0xbcdc99=_0x1098ce[_0x19180b(0x350)];_0x481123[_0x19180b(0x6c0)][_0x19180b(0x350)]&&_0x481123[_0x19180b(0x6c0)][_0x19180b(0x350)][_0x19180b(0x7dc)]()!==''&&(_0xbcdc99=_0x481123[_0x19180b(0x6c0)][_0x19180b(0x350)][_0x19180b(0x7dc)]()),this[_0x19180b(0x876)][_0x19180b(0x636)](this['instanceName']+'\x20('+this[_0x19180b(0x30f)]['wuid']+_0x19180b(0x708));let _0x1d9ae5={'number':_0xbcdc99,'options':{'delay':_0x481123['uazapi'][_0x19180b(0x799)],'linkPreview':_0x481123['uazapi'][_0x19180b(0x2f0)]},'mediaMessage':{'mediatype':_0x481123['uazapi'][_0x19180b(0x50a)],'caption':_0x481123[_0x19180b(0x6c0)]['caption'],'media':_0x481123[_0x19180b(0x6c0)][_0x19180b(0x351)],'fileName':_0x481123[_0x19180b(0x6c0)]['fileName']}};try{let _0x563419=await this[_0x19180b(0x45f)](_0x1d9ae5);if(_0x563419){let _0xbadaa8={'_id':_0x563419[_0x19180b(0x310)]['id'],'_fromMe':_0x563419[_0x19180b(0x310)]['fromMe'],'_remoteJid':_0x563419[_0x19180b(0x310)]['remoteJid']},_0x3bc71b=(0x0,f[_0x19180b(0x403)])(_0x563419[_0x19180b(0x488)]),_0x53061b=(0x0,f['getContentType'])(_0x3bc71b);_0x1098ce[_0x19180b(0x7de)][_0x19180b(0x394)]=_0x481123[_0x19180b(0x718)][_0x19180b(0x5f0)]();let {message_normalized:_0x2cfd65}=this['normalizeMessage'](_0x3bc71b,_0x53061b,null);_0x1098ce[_0x19180b(0x7de)][_0x19180b(0x801)]=await _0x2cfd65;let _0xea4f24={'messageId':_0x563419[_0x19180b(0x310)]['id']},_0x22e0f2=_0x1098ce[_0x19180b(0x7de)][_0x19180b(0x2a8)];Object[_0x19180b(0x6b4)](_0x22e0f2,_0xbadaa8),_0x1098ce['chatLog'][_0x19180b(0x2a8)]=_0x22e0f2,this[_0x19180b(0x242)](_0x1098ce,_0x481123,_0xea4f24);}else{let _0x2b1e5a={'error':!0x0};this[_0x19180b(0x242)](_0x1098ce,_0x481123,_0x2b1e5a),this['logger'][_0x19180b(0x790)](this[_0x19180b(0x217)]+'\x20('+this[_0x19180b(0x30f)]['wuid']+_0x19180b(0x5db));}}catch(_0x319ff4){let _0x486ea4={'error':!0x0,'errorLog':_0x319ff4[_0x19180b(0x5f0)]()};this[_0x19180b(0x242)](_0x1098ce,_0x481123,_0x486ea4),this[_0x19180b(0x876)]['error'](this[_0x19180b(0x217)]+'\x20('+this['instance'][_0x19180b(0x744)]+_0x19180b(0x632)+(_0x319ff4 instanceof Error?_0x319ff4[_0x19180b(0x488)]:JSON[_0x19180b(0x7a3)](_0x319ff4,null,0x2)));}}async[a0_0x15f0ef(0x475)](_0xb665d,_0x4955f2){const _0x4b8044=a0_0x15f0ef;let _0x1d116b=_0xb665d[_0x4b8044(0x350)];_0x4955f2[_0x4b8044(0x6c0)][_0x4b8044(0x350)]&&_0x4955f2['uazapi']['remoteJid'][_0x4b8044(0x7dc)]()!==''&&(_0x1d116b=_0x4955f2[_0x4b8044(0x6c0)][_0x4b8044(0x350)][_0x4b8044(0x7dc)]()),this[_0x4b8044(0x876)][_0x4b8044(0x636)](this[_0x4b8044(0x217)]+'\x20('+this[_0x4b8044(0x30f)][_0x4b8044(0x744)]+_0x4b8044(0x7eb));let _0x3dc287={'number':_0x1d116b,'options':{'delay':_0x4955f2[_0x4b8044(0x6c0)]['delay']},'locationMessage':{'name':_0x4955f2[_0x4b8044(0x6c0)]['name'],'address':_0x4955f2[_0x4b8044(0x6c0)][_0x4b8044(0x413)],'latitude':_0x4955f2[_0x4b8044(0x6c0)][_0x4b8044(0x843)],'longitude':_0x4955f2[_0x4b8044(0x6c0)][_0x4b8044(0x2ef)]}};try{let _0x8cf945=await this['locationMessage'](_0x3dc287);if(_0x8cf945){let _0x3d9ce9={'_id':_0x8cf945['key']['id'],'_fromMe':_0x8cf945['key'][_0x4b8044(0x3ab)],'_remoteJid':_0x8cf945[_0x4b8044(0x310)][_0x4b8044(0x350)]},_0x34ce13=(0x0,f[_0x4b8044(0x403)])(_0x8cf945[_0x4b8044(0x488)]),_0x1c1555=(0x0,f[_0x4b8044(0x5f9)])(_0x34ce13);_0xb665d[_0x4b8044(0x7de)][_0x4b8044(0x394)]=_0x4955f2['_id'][_0x4b8044(0x5f0)]();let {message_normalized:_0x3c66e6}=this[_0x4b8044(0x2e9)](_0x34ce13,_0x1c1555,null);_0xb665d[_0x4b8044(0x7de)]['lastSendMessage']=await _0x3c66e6;let _0x38d606={'messageId':_0x8cf945[_0x4b8044(0x310)]['id']},_0x41aca2=_0xb665d[_0x4b8044(0x7de)][_0x4b8044(0x2a8)];Object['assign'](_0x41aca2,_0x3d9ce9),_0xb665d[_0x4b8044(0x7de)][_0x4b8044(0x2a8)]=_0x41aca2,this['updateConversation'](_0xb665d,_0x4955f2,_0x38d606);}else{let _0x342f16={'error':!0x0};this[_0x4b8044(0x242)](_0xb665d,_0x4955f2,_0x342f16),this[_0x4b8044(0x876)][_0x4b8044(0x790)](this[_0x4b8044(0x217)]+'\x20('+this['instance'][_0x4b8044(0x744)]+_0x4b8044(0x5b0));}}catch(_0x24332c){let _0x2e0f5e={'error':!0x0,'errorLog':_0x24332c[_0x4b8044(0x5f0)]()};this[_0x4b8044(0x242)](_0xb665d,_0x4955f2,_0x2e0f5e),this[_0x4b8044(0x876)][_0x4b8044(0x790)](this[_0x4b8044(0x217)]+'\x20('+this[_0x4b8044(0x30f)][_0x4b8044(0x744)]+_0x4b8044(0x26c)+(_0x24332c instanceof Error?_0x24332c[_0x4b8044(0x488)]:JSON[_0x4b8044(0x7a3)](_0x24332c,null,0x2)));}}async[a0_0x15f0ef(0x77e)](_0x352002,_0x18b491){const _0x61d95b=a0_0x15f0ef;let _0x5100c0=_0x352002[_0x61d95b(0x350)];_0x18b491[_0x61d95b(0x6c0)][_0x61d95b(0x350)]&&_0x18b491[_0x61d95b(0x6c0)]['remoteJid'][_0x61d95b(0x7dc)]()!==''&&(_0x5100c0=_0x18b491[_0x61d95b(0x6c0)][_0x61d95b(0x350)][_0x61d95b(0x7dc)]()),this[_0x61d95b(0x876)][_0x61d95b(0x636)](this[_0x61d95b(0x217)]+'\x20('+this[_0x61d95b(0x30f)][_0x61d95b(0x744)]+_0x61d95b(0x1e5));let _0x51f59f={'number':_0x5100c0,'options':{'delay':_0x18b491[_0x61d95b(0x6c0)][_0x61d95b(0x799)]},'audioMessage':{'audio':_0x18b491['uazapi'][_0x61d95b(0x81d)]}};try{let _0x3c221b=await this[_0x61d95b(0x821)](_0x51f59f);if(_0x3c221b){let _0x12ab22={'_id':_0x3c221b['key']['id'],'_fromMe':_0x3c221b[_0x61d95b(0x310)]['fromMe'],'_remoteJid':_0x3c221b[_0x61d95b(0x310)][_0x61d95b(0x350)]},_0x3f58e5=(0x0,f[_0x61d95b(0x403)])(_0x3c221b['message']),_0xe3adb7=(0x0,f[_0x61d95b(0x5f9)])(_0x3f58e5);_0x352002[_0x61d95b(0x7de)]['lastBlockId']=_0x18b491[_0x61d95b(0x718)]['toString']();let {message_normalized:_0x2d0984}=this['normalizeMessage'](_0x3f58e5,_0xe3adb7,null);_0x352002[_0x61d95b(0x7de)][_0x61d95b(0x801)]=await _0x2d0984;let _0x4dc26e={'messageId':_0x3c221b[_0x61d95b(0x310)]['id']},_0x26bb31=_0x352002['chatLog'][_0x61d95b(0x2a8)];Object['assign'](_0x26bb31,_0x12ab22),_0x352002['chatLog'][_0x61d95b(0x2a8)]=_0x26bb31,this[_0x61d95b(0x242)](_0x352002,_0x18b491,_0x4dc26e);}else{let _0x4b013e={'error':!0x0};this[_0x61d95b(0x242)](_0x352002,_0x18b491,_0x4b013e),this[_0x61d95b(0x876)][_0x61d95b(0x790)](this[_0x61d95b(0x217)]+'\x20('+this[_0x61d95b(0x30f)][_0x61d95b(0x744)]+_0x61d95b(0x2a7));}}catch(_0xdcc8a6){let _0x44eb52={'error':!0x0,'errorLog':_0xdcc8a6[_0x61d95b(0x5f0)]()};this['updateConversation'](_0x352002,_0x18b491,_0x44eb52),this[_0x61d95b(0x876)][_0x61d95b(0x790)](this[_0x61d95b(0x217)]+'\x20('+this[_0x61d95b(0x30f)]['wuid']+_0x61d95b(0x1ed)+(_0xdcc8a6 instanceof Error?_0xdcc8a6[_0x61d95b(0x488)]:JSON[_0x61d95b(0x7a3)](_0xdcc8a6,null,0x2)));}}async[a0_0x15f0ef(0x70d)](_0x5a345a,_0x27d4c5){const _0x1098e3=a0_0x15f0ef;let _0x10b280=_0x5a345a[_0x1098e3(0x350)];_0x27d4c5['uazapi']['remoteJid']&&_0x27d4c5[_0x1098e3(0x6c0)][_0x1098e3(0x350)]['trim']()!==''&&(_0x10b280=_0x27d4c5[_0x1098e3(0x6c0)][_0x1098e3(0x350)]['trim']()),this[_0x1098e3(0x876)][_0x1098e3(0x636)](this[_0x1098e3(0x217)]+'\x20('+this[_0x1098e3(0x30f)][_0x1098e3(0x744)]+'):\x20Enviando\x20contato');let _0x516292={'number':_0x10b280,'options':{'delay':_0x27d4c5[_0x1098e3(0x6c0)][_0x1098e3(0x799)]},'contactMessage':[{'fullName':_0x27d4c5['uazapi']['fullName'],'phoneNumber':_0x27d4c5['uazapi']['phoneNumber']}]};try{let _0x42ccc3=await this[_0x1098e3(0x52f)](_0x516292);if(_0x42ccc3){let _0x24f2f3={'_id':_0x42ccc3[_0x1098e3(0x310)]['id'],'_fromMe':_0x42ccc3[_0x1098e3(0x310)][_0x1098e3(0x3ab)],'_remoteJid':_0x42ccc3['key']['remoteJid']},_0x2b3e15=(0x0,f[_0x1098e3(0x403)])(_0x42ccc3[_0x1098e3(0x488)]),_0x1aeb1d=(0x0,f['getContentType'])(_0x2b3e15);_0x5a345a['chatLog']['lastBlockId']=_0x27d4c5[_0x1098e3(0x718)]['toString']();let {message_normalized:_0x145735}=this['normalizeMessage'](_0x2b3e15,_0x1aeb1d,null);_0x5a345a[_0x1098e3(0x7de)][_0x1098e3(0x801)]=await _0x145735;let _0x5b4e12={'messageId':_0x42ccc3['key']['id']},_0x4e079d=_0x5a345a[_0x1098e3(0x7de)][_0x1098e3(0x2a8)];Object['assign'](_0x4e079d,_0x24f2f3),_0x5a345a[_0x1098e3(0x7de)][_0x1098e3(0x2a8)]=_0x4e079d,this[_0x1098e3(0x242)](_0x5a345a,_0x27d4c5,_0x5b4e12);}else{let _0x301d25={'error':!0x0};this[_0x1098e3(0x242)](_0x5a345a,_0x27d4c5,_0x301d25),this[_0x1098e3(0x876)]['error'](this[_0x1098e3(0x217)]+'\x20('+this[_0x1098e3(0x30f)][_0x1098e3(0x744)]+_0x1098e3(0x7b2));}}catch(_0x6b8564){let _0x102503={'error':!0x0,'errorLog':_0x6b8564[_0x1098e3(0x5f0)]()};this[_0x1098e3(0x242)](_0x5a345a,_0x27d4c5,_0x102503),this['logger']['error'](this['instanceName']+'\x20('+this[_0x1098e3(0x30f)]['wuid']+_0x1098e3(0x2af)+(_0x6b8564 instanceof Error?_0x6b8564['message']:JSON[_0x1098e3(0x7a3)](_0x6b8564,null,0x2)));}}[a0_0x15f0ef(0x874)](_0x5a9400,_0x13e172){const _0x2553ae=a0_0x15f0ef;for(let _0x49e330 of _0x5a9400)_0x49e330['option']&&(_0x49e330[_0x2553ae(0x631)]=this[_0x2553ae(0x82e)](_0x49e330[_0x2553ae(0x631)],_0x13e172)),_0x49e330[_0x2553ae(0x305)]&&(_0x49e330[_0x2553ae(0x305)]=this['replaceVariables'](_0x49e330['optionDescription'],_0x13e172));}async['uazapiSendMenu'](_0x1bb88f,_0x2d169f){const _0x10d122=a0_0x15f0ef;let _0x32a12b=_0x1bb88f[_0x10d122(0x350)];_0x2d169f[_0x10d122(0x6c0)]['remoteJid']&&_0x2d169f['uazapi'][_0x10d122(0x350)][_0x10d122(0x7dc)]()!==''&&(_0x32a12b=_0x2d169f['uazapi']['remoteJid'][_0x10d122(0x7dc)]()),this[_0x10d122(0x876)][_0x10d122(0x636)](this[_0x10d122(0x217)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20enquete');let _0x467333=_0x1bb88f[_0x10d122(0x479)][_0x10d122(0x58a)](_0x1e5563=>_0x1e5563[_0x10d122(0x6de)]===_0x2d169f[_0x10d122(0x718)])['sort']((_0x2f9805,_0x2b51c7)=>_0x2f9805[_0x10d122(0x74b)]-_0x2b51c7[_0x10d122(0x74b)]);this[_0x10d122(0x874)](_0x467333,_0x1bb88f[_0x10d122(0x7de)][_0x10d122(0x2a8)]);let _0x31540d=_0x467333[_0x10d122(0x684)](_0x1e04da=>_0x1e04da[_0x10d122(0x631)]),_0x27847a={'number':_0x32a12b,'menuMessage':{'type':_0x2d169f[_0x10d122(0x6c0)][_0x10d122(0x49f)]||_0x10d122(0x87f),'text':_0x2d169f[_0x10d122(0x6c0)][_0x10d122(0x358)]||_0x2d169f[_0x10d122(0x6c0)][_0x10d122(0x2c9)],'footerText':_0x2d169f[_0x10d122(0x6c0)]['footerText'],'buttonText':_0x2d169f[_0x10d122(0x6c0)]['buttonText'],'selectableCount':0x1,'choices':_0x31540d},'options':{'delay':_0x2d169f[_0x10d122(0x6c0)]['delay']}};try{let _0x5a3f12=await this['menuMessage'](_0x27847a);if(_0x5a3f12){let _0x74683a={'_id':_0x5a3f12[_0x10d122(0x310)]['id'],'_fromMe':_0x5a3f12[_0x10d122(0x310)][_0x10d122(0x3ab)],'_remoteJid':_0x5a3f12[_0x10d122(0x310)][_0x10d122(0x350)]};_0x2d169f[_0x10d122(0x6c0)]['menuIgnoreNonVotes']===!0x0&&(_0x1bb88f['status']='waitingForReplyMenu',this[_0x10d122(0x876)][_0x10d122(0x636)](this['instanceName']+'\x20('+this[_0x10d122(0x30f)][_0x10d122(0x744)]+_0x10d122(0x867)+_0x1bb88f[_0x10d122(0x60a)])),this[_0x10d122(0x876)][_0x10d122(0x636)](this[_0x10d122(0x217)]+'\x20('+this[_0x10d122(0x30f)][_0x10d122(0x744)]+'):\x20nextBlock.uazapi.name'+(_0x2d169f[_0x10d122(0x6c0)][_0x10d122(0x2c9)]||_0x2d169f['uazapi']['text'])),_0x1bb88f[_0x10d122(0x3d3)]=_0x5a3f12[_0x10d122(0x310)]['id'],_0x1bb88f['waitingMenu_text']=_0x2d169f['uazapi']['name']||_0x2d169f['uazapi'][_0x10d122(0x358)],_0x1bb88f['waitingMenu_replyOptions']=_0x467333,_0x2d169f[_0x10d122(0x6c0)]['menuExpiredMessage']&&(_0x1bb88f['waitingMenu_ExpiredMessage']=_0x2d169f[_0x10d122(0x6c0)][_0x10d122(0x2fd)]),this[_0x10d122(0x876)][_0x10d122(0x636)](this[_0x10d122(0x217)]+'\x20('+this[_0x10d122(0x30f)][_0x10d122(0x744)]+'):\x20conversation.waitingMenu_name'+_0x1bb88f[_0x10d122(0x87d)]);let _0x5a5f6a=(0x0,f[_0x10d122(0x403)])(_0x5a3f12[_0x10d122(0x488)]),_0x410ccf=(0x0,f['getContentType'])(_0x5a5f6a);_0x1bb88f[_0x10d122(0x7de)][_0x10d122(0x394)]=_0x2d169f[_0x10d122(0x718)][_0x10d122(0x5f0)]();let {message_normalized:_0x1a8b62}=this[_0x10d122(0x2e9)](_0x5a5f6a,_0x410ccf,null);_0x1bb88f[_0x10d122(0x7de)][_0x10d122(0x801)]=await _0x1a8b62;let _0x594485={'messageId':_0x5a3f12[_0x10d122(0x310)]['id']},_0x4f4305=_0x1bb88f['chatLog'][_0x10d122(0x2a8)];Object['assign'](_0x4f4305,_0x74683a),_0x1bb88f['chatLog'][_0x10d122(0x2a8)]=_0x4f4305,this[_0x10d122(0x242)](_0x1bb88f,_0x2d169f,_0x594485);}else{let _0x465701={'error':!0x0};this[_0x10d122(0x242)](_0x1bb88f,_0x2d169f,_0x465701),this['logger'][_0x10d122(0x790)](this[_0x10d122(0x217)]+'\x20('+this[_0x10d122(0x30f)][_0x10d122(0x744)]+_0x10d122(0x52c));}}catch(_0xeef8e4){let _0x22c49a={'error':!0x0,'errorLog':_0xeef8e4 instanceof Error?_0xeef8e4['message']:JSON['stringify'](_0xeef8e4,null,0x2)};this['updateConversation'](_0x1bb88f,_0x2d169f,_0x22c49a),this[_0x10d122(0x876)]['error'](this[_0x10d122(0x217)]+'\x20('+this[_0x10d122(0x30f)][_0x10d122(0x744)]+_0x10d122(0x808)+(_0xeef8e4 instanceof Error?_0xeef8e4['message']:JSON[_0x10d122(0x7a3)](_0xeef8e4,null,0x2)));}}async['uazapiDeleteMessage'](_0x24499e,_0xde7646){const _0x5bb143=a0_0x15f0ef;this[_0x5bb143(0x876)]['verbose'](this[_0x5bb143(0x217)]+'\x20('+this[_0x5bb143(0x30f)]['wuid']+_0x5bb143(0x5cf));let _0x4b9977=_0x24499e[_0x5bb143(0x7de)]['blockLogs'][_0x5bb143(0x585)](_0x30ab61=>_0x30ab61['blockId'][_0x5bb143(0x5f0)]()===_0xde7646[_0x5bb143(0x6c0)][_0x5bb143(0x6de)][_0x5bb143(0x5f0)]()),_0xf6410={'id':_0x4b9977['messageId'],'remoteJid':_0x4b9977[_0x5bb143(0x350)],'fromMe':_0x4b9977[_0x5bb143(0x3ab)]};try{let _0x3984a7=await this[_0x5bb143(0x5d4)](_0xf6410);if(_0x3984a7){let _0x6e13d5=(0x0,f[_0x5bb143(0x403)])(_0x3984a7[_0x5bb143(0x488)]),_0x597746=(0x0,f['getContentType'])(_0x6e13d5);_0x24499e[_0x5bb143(0x7de)][_0x5bb143(0x394)]=_0xde7646['_id'][_0x5bb143(0x5f0)]();let {message_normalized:_0x39f7bb}=this[_0x5bb143(0x2e9)](_0x6e13d5,_0x597746,null);_0x24499e['chatLog'][_0x5bb143(0x801)]=await _0x39f7bb;let _0x2434d3={};this[_0x5bb143(0x242)](_0x24499e,_0xde7646,_0x2434d3);}else{let _0x98934b={'error':!0x0};this[_0x5bb143(0x242)](_0x24499e,_0xde7646,_0x98934b),this[_0x5bb143(0x876)]['error'](this[_0x5bb143(0x217)]+'\x20('+this[_0x5bb143(0x30f)][_0x5bb143(0x744)]+_0x5bb143(0x1dc));}}catch(_0x32f716){let _0x216943={'error':!0x0,'errorLog':_0x32f716 instanceof Error?_0x32f716[_0x5bb143(0x488)]:JSON[_0x5bb143(0x7a3)](_0x32f716,null,0x2)};this[_0x5bb143(0x242)](_0x24499e,_0xde7646,_0x216943),this[_0x5bb143(0x876)][_0x5bb143(0x790)](this['instanceName']+'\x20('+this['instance'][_0x5bb143(0x744)]+_0x5bb143(0x69d)+(_0x32f716 instanceof Error?_0x32f716[_0x5bb143(0x488)]:JSON[_0x5bb143(0x7a3)](_0x32f716,null,0x2)));}}async['createFlow'](_0x568278){const _0x519474=a0_0x15f0ef;if(!_0x568278[_0x519474(0x2c9)])throw new w('O\x20nome\x20do\x20fluxo\x20é\x20obrigatório');if(await this[_0x519474(0x868)][_0x519474(0x384)]['findOne']({'where':{'name':_0x568278[_0x519474(0x2c9)]}},this['instance']['wuid']))throw new w(_0x519474(0x34c));return _0x519474(0x2c9)in _0x568278&&_0x519474(0x6b0)in _0x568278&&_0x519474(0x2b6)in _0x568278&&Object[_0x519474(0x6e6)](_0x568278)[_0x519474(0x272)]===0x3?this['createSharedFlow'](_0x568278[_0x519474(0x2b6)],_0x568278[_0x519474(0x6b0)],_0x568278[_0x519474(0x2c9)]):this[_0x519474(0x36c)](_0x568278);}async[a0_0x15f0ef(0x1f5)](_0x1d6df8,_0x564755,_0x101a2){const _0x328865=a0_0x15f0ef;try{this[_0x328865(0x876)][_0x328865(0x636)](this[_0x328865(0x217)]+'\x20('+this[_0x328865(0x30f)][_0x328865(0x744)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x458a34=await this['repository'][_0x328865(0x384)]['findOne']({'where':{'name':_0x101a2,'sharePass':_0x564755}},_0x1d6df8);if(!_0x458a34)throw new w(_0x328865(0x572));let _0x361ee4={..._0x458a34};return _0x361ee4[_0x328865(0x2b6)]=this[_0x328865(0x30f)][_0x328865(0x744)],_0x361ee4[_0x328865(0x263)]=Array['from'](new Set([..._0x458a34['shareOwners']||[],_0x458a34[_0x328865(0x2b6)],this['instance'][_0x328865(0x744)]])),_0x458a34[_0x328865(0x263)]=_0x361ee4[_0x328865(0x263)],await this[_0x328865(0x868)]['flow'][_0x328865(0x218)](_0x458a34['_id'],{'shareOwners':_0x458a34['shareOwners']},_0x458a34[_0x328865(0x2b6)]),_0x458a34[_0x328865(0x6bb)]===!0x0&&await this[_0x328865(0x868)][_0x328865(0x384)][_0x328865(0x5bb)]({},{'default':!0x1},this['instance'][_0x328865(0x744)]),await this[_0x328865(0x868)][_0x328865(0x384)]['createAndSave'](_0x361ee4,this[_0x328865(0x30f)][_0x328865(0x744)]);}catch(_0x5181ca){let _0x28863e=_0x328865(0x4b0),_0x2931bb=_0x5181ca instanceof Error?_0x5181ca['message']:typeof _0x5181ca==_0x328865(0x84f)?JSON[_0x328865(0x7a3)](_0x5181ca):_0x5181ca,_0x5061af=_0x28863e+':\x20'+_0x2931bb;throw this[_0x328865(0x876)][_0x328865(0x790)](this[_0x328865(0x217)]+'\x20('+this[_0x328865(0x30f)][_0x328865(0x744)]+_0x328865(0x603)+_0x5061af),new w(_0x5061af);}}async[a0_0x15f0ef(0x36c)](_0x13ba4e){const _0x4f5364=a0_0x15f0ef;try{this[_0x4f5364(0x876)][_0x4f5364(0x636)](this[_0x4f5364(0x217)]+'\x20('+this['instance'][_0x4f5364(0x744)]+_0x4f5364(0x2db)),delete _0x13ba4e['shareOwners'],delete _0x13ba4e['sharePass'],delete _0x13ba4e['owner'],_0x13ba4e[_0x4f5364(0x6bb)]===!0x0&&await this[_0x4f5364(0x868)][_0x4f5364(0x384)][_0x4f5364(0x5bb)]({},{'default':!0x1},this[_0x4f5364(0x30f)][_0x4f5364(0x744)]);let _0x238d86=new le[(_0x4f5364(0x316))][(_0x4f5364(0x701))](),_0x167a93={'_id':_0x238d86,'default':!0x0,'title':_0x4f5364(0x57f),'x':0x0,'y':0x0},_0x5c65c8={'_id':new le[(_0x4f5364(0x316))][(_0x4f5364(0x701))](),'order':0x1,'groupId':_0x238d86['toString'](),'type':_0x4f5364(0x5cc)},_0x3f33ad={'_id':new le[(_0x4f5364(0x316))][(_0x4f5364(0x701))](),'owner':this[_0x4f5364(0x30f)][_0x4f5364(0x744)],'name':_0x13ba4e[_0x4f5364(0x2c9)],'groups':[_0x167a93],'blocks':[_0x5c65c8],..._0x13ba4e};return await this['repository'][_0x4f5364(0x384)]['createAndSave'](_0x3f33ad,this[_0x4f5364(0x30f)]['wuid']);}catch(_0x100a3d){let _0x45fe5d=_0x4f5364(0x865),_0x4e72ff=_0x100a3d instanceof Error?_0x100a3d[_0x4f5364(0x488)]:typeof _0x100a3d=='object'?JSON['stringify'](_0x100a3d):_0x100a3d,_0x4b4877=_0x45fe5d+':\x20'+_0x4e72ff;throw this['logger'][_0x4f5364(0x790)](this['instanceName']+'\x20('+this[_0x4f5364(0x30f)][_0x4f5364(0x744)]+_0x4f5364(0x603)+_0x4b4877),new w(_0x4b4877);}}async[a0_0x15f0ef(0x27f)](_0x3c5d6a,_0x5989ec){const _0x2113ac=a0_0x15f0ef;try{let _0x33f6d3=await this[_0x2113ac(0x868)][_0x2113ac(0x384)][_0x2113ac(0x2f1)]({'where':{'_id':_0x3c5d6a}},_0x5989ec);if(_0x33f6d3&&_0x33f6d3[_0x2113ac(0x263)]){for(let _0x71e0fc of _0x33f6d3['shareOwners'])if(_0x71e0fc!==_0x5989ec){let _0x3c5f18={..._0x33f6d3,'owner':_0x71e0fc};await this[_0x2113ac(0x868)]['flow'][_0x2113ac(0x4fe)](_0x3c5d6a,_0x3c5f18,_0x71e0fc);}}}catch(_0x16b91c){this['logger']['error']('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x16b91c);}}async[a0_0x15f0ef(0x7f7)](_0x5d781a){const _0x3f73f2=a0_0x15f0ef;try{this[_0x3f73f2(0x876)][_0x3f73f2(0x636)](this[_0x3f73f2(0x217)]+'\x20('+this[_0x3f73f2(0x30f)][_0x3f73f2(0x744)]+_0x3f73f2(0x4b1));let _0x2de727=await this[_0x3f73f2(0x868)][_0x3f73f2(0x384)][_0x3f73f2(0x2f1)]({'where':{'name':_0x5d781a}},this[_0x3f73f2(0x30f)][_0x3f73f2(0x744)]);if(_0x2de727&&_0x2de727['shareOwners']&&_0x2de727['shareOwners'][_0x3f73f2(0x272)]>0x1){for(let _0x54e98c of _0x2de727['shareOwners'])if(_0x54e98c!==this[_0x3f73f2(0x30f)][_0x3f73f2(0x744)]){let _0x4f8787=await this[_0x3f73f2(0x868)][_0x3f73f2(0x384)][_0x3f73f2(0x2f1)]({'where':{'sharePass':_0x2de727[_0x3f73f2(0x6b0)]}},_0x54e98c);_0x4f8787&&(_0x4f8787['shareOwners']=_0x4f8787[_0x3f73f2(0x263)][_0x3f73f2(0x58a)](_0x16597c=>_0x16597c!==_0x2de727[_0x3f73f2(0x2b6)]),await this[_0x3f73f2(0x868)][_0x3f73f2(0x384)][_0x3f73f2(0x218)](_0x4f8787['_id'],{'shareOwners':_0x4f8787[_0x3f73f2(0x263)]},_0x54e98c));}}return await this[_0x3f73f2(0x868)][_0x3f73f2(0x384)][_0x3f73f2(0x3b5)]({'where':{'name':_0x5d781a}},this[_0x3f73f2(0x30f)]['wuid']);}catch(_0x4e8236){return this[_0x3f73f2(0x876)][_0x3f73f2(0x790)](this[_0x3f73f2(0x217)]+'\x20('+this[_0x3f73f2(0x30f)][_0x3f73f2(0x744)]+_0x3f73f2(0x6e4)+(_0x4e8236 instanceof Error?_0x4e8236['message']:JSON['stringify'](_0x4e8236,null,0x2))),{'message':_0x3f73f2(0x685)+_0x4e8236[_0x3f73f2(0x488)]};}}async[a0_0x15f0ef(0x2b8)](_0xec2c18){const _0x4e8ff6=a0_0x15f0ef;try{this[_0x4e8ff6(0x876)][_0x4e8ff6(0x636)](this['instanceName']+'\x20('+this[_0x4e8ff6(0x30f)][_0x4e8ff6(0x744)]+_0x4e8ff6(0x602));let _0x21f5e7=await this['repository'][_0x4e8ff6(0x384)]['findOne']({'where':{'name':_0xec2c18}},this[_0x4e8ff6(0x30f)][_0x4e8ff6(0x744)]);if(!_0x21f5e7)throw new Error('Flow\x20não\x20encontrado');if(!this['AutomateSystem']&&(await this[_0x4e8ff6(0x525)](),!this[_0x4e8ff6(0x276)]))return null;let _0x37dd7a=this['AutomateSystem']?.[_0x4e8ff6(0x824)]['map'](_0x5dd927=>_0x5dd927[_0x4e8ff6(0x2c9)]),_0x21f1ee=[_0x4e8ff6(0x540),_0x4e8ff6(0x25a),'email',_0x4e8ff6(0x691),_0x4e8ff6(0x60a),_0x4e8ff6(0x22c),_0x4e8ff6(0x769),_0x4e8ff6(0x688),_0x4e8ff6(0x5a7)];_0x21f5e7[_0x4e8ff6(0x798)]=_0x21f5e7[_0x4e8ff6(0x798)]['filter'](_0xcd6f3d=>!(_0xcd6f3d[_0x4e8ff6(0x5d9)]==='leadInfo'||_0xcd6f3d[_0x4e8ff6(0x303)])),_0x21f1ee['forEach'](_0x36454a=>{const _0x4dd524=_0x4e8ff6;_0x21f5e7[_0x4dd524(0x798)]['push']({'folder':'leadInfo','name':_0x36454a,'value':'','doc':'','leadInfo':!0x0});}),_0x37dd7a[_0x4e8ff6(0x40e)](_0x47b477=>{const _0x5d2535=_0x4e8ff6;let _0x2b5dd3=_0x21f5e7['variables'][_0x5d2535(0x794)](_0x136703=>_0x136703[_0x5d2535(0x2c9)]===_0x47b477);_0x2b5dd3===-0x1?_0x21f5e7['variables'][_0x5d2535(0x21e)]({'folder':_0x5d2535(0x303),'name':_0x47b477,'value':'','doc':'','leadInfo':!0x0}):(_0x21f5e7['variables'][_0x2b5dd3][_0x5d2535(0x5d9)]=_0x5d2535(0x303),_0x21f5e7[_0x5d2535(0x798)][_0x2b5dd3][_0x5d2535(0x303)]=!0x0);}),_0x21f5e7['blocks']&&_0x21f5e7[_0x4e8ff6(0x74e)]['length']>0x0&&_0x21f5e7[_0x4e8ff6(0x74e)]['forEach'](_0x48eeb3=>{const _0xe913=_0x4e8ff6;_0x48eeb3[_0xe913(0x57e)]&&_0x48eeb3[_0xe913(0x2be)]&&_0x48eeb3[_0xe913(0x57e)]===_0x48eeb3['next_groupId']&&(_0x48eeb3['next_groupId']=null);});let _0x22f461=await this[_0x4e8ff6(0x868)][_0x4e8ff6(0x384)][_0x4e8ff6(0x218)](_0x21f5e7[_0x4e8ff6(0x718)],_0x21f5e7,this[_0x4e8ff6(0x30f)][_0x4e8ff6(0x744)]);if(!_0x22f461)throw new Error(_0x4e8ff6(0x28a));return _0x22f461;}catch(_0x95c393){let _0x4aec02='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x5ef81d=_0x95c393 instanceof Error?_0x95c393[_0x4e8ff6(0x488)]:typeof _0x95c393==_0x4e8ff6(0x84f)?JSON[_0x4e8ff6(0x7a3)](_0x95c393):_0x95c393,_0x5110ab=_0x4aec02+':\x20'+_0x5ef81d;throw this[_0x4e8ff6(0x876)]['error'](this[_0x4e8ff6(0x217)]+'\x20('+this[_0x4e8ff6(0x30f)][_0x4e8ff6(0x744)]+_0x4e8ff6(0x603)+_0x5110ab),new w(_0x5110ab);}}async[a0_0x15f0ef(0x518)](){const _0x34e6c1=a0_0x15f0ef;try{return this[_0x34e6c1(0x876)][_0x34e6c1(0x636)](this[_0x34e6c1(0x217)]+'\x20('+this[_0x34e6c1(0x30f)]['wuid']+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this['repository'][_0x34e6c1(0x384)][_0x34e6c1(0x777)](this[_0x34e6c1(0x30f)]['wuid']),await this[_0x34e6c1(0x868)][_0x34e6c1(0x384)]['findAll']({'where':{}},this[_0x34e6c1(0x30f)][_0x34e6c1(0x744)]);}catch(_0x1b0b1b){return this[_0x34e6c1(0x876)][_0x34e6c1(0x790)](this[_0x34e6c1(0x217)]+'\x20('+this[_0x34e6c1(0x30f)][_0x34e6c1(0x744)]+_0x34e6c1(0x58d)+(_0x1b0b1b instanceof Error?_0x1b0b1b[_0x34e6c1(0x488)]:JSON[_0x34e6c1(0x7a3)](_0x1b0b1b,null,0x2))),{'message':_0x34e6c1(0x259)+_0x1b0b1b[_0x34e6c1(0x488)]};}}async[a0_0x15f0ef(0x5d8)](_0x30f629){const _0x4ee090=a0_0x15f0ef;try{this[_0x4ee090(0x876)]['verbose'](this[_0x4ee090(0x217)]+'\x20('+this[_0x4ee090(0x30f)][_0x4ee090(0x744)]+_0x4ee090(0x559));let _0x17a335=await this[_0x4ee090(0x868)][_0x4ee090(0x384)]['findOne']({'where':{'name':_0x30f629[_0x4ee090(0x2c9)]}},this[_0x4ee090(0x30f)][_0x4ee090(0x744)]);if(!_0x17a335)return{'message':_0x4ee090(0x5c4)};_0x30f629[_0x4ee090(0x6bb)]===!0x0&&await this[_0x4ee090(0x868)]['flow']['updateMany']({},{'default':!0x1},this[_0x4ee090(0x30f)][_0x4ee090(0x744)]),delete _0x30f629[_0x4ee090(0x263)],delete _0x30f629['sharePass'];let _0x2cf0a1=await this[_0x4ee090(0x868)]['flow']['updateOne'](_0x17a335[_0x4ee090(0x718)],_0x30f629,this[_0x4ee090(0x30f)][_0x4ee090(0x744)]);return _0x2cf0a1&&_0x2cf0a1[_0x4ee090(0x263)]&&_0x2cf0a1['shareOwners'][_0x4ee090(0x272)]>0x1&&this['synchronizeFlows'](_0x2cf0a1['_id'],this[_0x4ee090(0x30f)][_0x4ee090(0x744)]),_0x2cf0a1;}catch(_0xfff74a){let _0x2a63a0='Erro\x20ao\x20alterar\x20fluxo',_0x25c36e=_0xfff74a instanceof Error?_0xfff74a[_0x4ee090(0x488)]:typeof _0xfff74a==_0x4ee090(0x84f)?JSON[_0x4ee090(0x7a3)](_0xfff74a):_0xfff74a,_0x1aaa20=_0x2a63a0+':\x20'+_0x25c36e;throw this['logger'][_0x4ee090(0x790)](this['instanceName']+'\x20('+this['instance'][_0x4ee090(0x744)]+_0x4ee090(0x603)+_0x1aaa20),new w(_0x1aaa20);}}async[a0_0x15f0ef(0x5a4)](_0x337b1a){const _0x2b6a74=a0_0x15f0ef;try{this[_0x2b6a74(0x876)][_0x2b6a74(0x636)](this[_0x2b6a74(0x217)]+'\x20('+this[_0x2b6a74(0x30f)][_0x2b6a74(0x744)]+_0x2b6a74(0x44c));let _0x31636e=await this[_0x2b6a74(0x868)][_0x2b6a74(0x384)][_0x2b6a74(0x2f1)]({'where':{'name':_0x337b1a[_0x2b6a74(0x2c9)]}},this[_0x2b6a74(0x30f)]['wuid']);_0x31636e||this[_0x2b6a74(0x2e1)](_0x2b6a74(0x505));let {block:_0x322fe2}=_0x337b1a;_0x322fe2?.[_0x2b6a74(0x78c)]?this[_0x2b6a74(0x5f1)](_0x31636e,_0x337b1a):_0x322fe2?.[_0x2b6a74(0x439)]?this[_0x2b6a74(0x271)](_0x31636e,_0x337b1a):_0x322fe2['_id']?await this[_0x2b6a74(0x4d9)](_0x31636e,_0x337b1a):this[_0x2b6a74(0x398)](_0x31636e,_0x337b1a);let _0x3c6086=await this[_0x2b6a74(0x868)][_0x2b6a74(0x384)][_0x2b6a74(0x218)](_0x31636e['_id'],_0x31636e,this['instance'][_0x2b6a74(0x744)]);if(_0x3c6086&&_0x3c6086[_0x2b6a74(0x263)]&&_0x3c6086[_0x2b6a74(0x263)][_0x2b6a74(0x272)]>0x1&&this[_0x2b6a74(0x27f)](_0x3c6086[_0x2b6a74(0x718)],this[_0x2b6a74(0x30f)]['wuid']),!_0x3c6086)throw new Error(_0x2b6a74(0x28a));return _0x3c6086;}catch(_0x1a1829){this[_0x2b6a74(0x2e1)](_0x2b6a74(0x354)+_0x1a1829);}}async[a0_0x15f0ef(0x5f1)](_0x1d18d9,_0x40d70a){const _0xa14f6e=a0_0x15f0ef;let _0x4703b1=_0x40d70a[_0xa14f6e(0x409)]['_id'],_0x571cfb=_0x1d18d9[_0xa14f6e(0x74e)][_0xa14f6e(0x585)](_0x1cedef=>_0x1cedef[_0xa14f6e(0x718)][_0xa14f6e(0x5f0)]()===_0x4703b1);if(!_0x571cfb){this['logger'][_0xa14f6e(0x790)](this[_0xa14f6e(0x217)]+'\x20('+this[_0xa14f6e(0x30f)]['wuid']+'):\x20Bloco\x20com\x20ID\x20'+_0x4703b1+_0xa14f6e(0x660));return;}this[_0xa14f6e(0x876)]['verbose'](this['instanceName']+'\x20('+this[_0xa14f6e(0x30f)][_0xa14f6e(0x744)]+_0xa14f6e(0x336)+JSON[_0xa14f6e(0x7a3)](_0x571cfb));let _0x26e2e2=JSON[_0xa14f6e(0x379)](JSON['stringify'](_0x571cfb));_0x26e2e2['_id']=new le[(_0xa14f6e(0x6bb))][(_0xa14f6e(0x316))][(_0xa14f6e(0x701))](),this[_0xa14f6e(0x876)]['verbose'](this[_0xa14f6e(0x217)]+'\x20('+this['instance'][_0xa14f6e(0x744)]+_0xa14f6e(0x459)+JSON[_0xa14f6e(0x7a3)](_0x26e2e2)),_0x1d18d9[_0xa14f6e(0x74e)][_0xa14f6e(0x21e)](_0x26e2e2),this[_0xa14f6e(0x313)](_0x1d18d9[_0xa14f6e(0x74e)],_0x26e2e2[_0xa14f6e(0x57e)]);}['throwAndLogError'](_0x53fe82){const _0x44c2e3=a0_0x15f0ef;throw this[_0x44c2e3(0x876)]['error'](this['instanceName']+'\x20('+this[_0x44c2e3(0x30f)]['wuid']+_0x44c2e3(0x603)+_0x53fe82),new w(_0x53fe82);}['deleteBlock'](_0x58ae94,_0x4c9ada){const _0x55dabe=a0_0x15f0ef;let {block:_0x19212d}=_0x4c9ada;if(_0x19212d['type']===_0x55dabe(0x5cc)){this[_0x55dabe(0x2e1)](_0x55dabe(0x288));return;}if(!_0x19212d[_0x55dabe(0x718)]){this[_0x55dabe(0x2e1)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x26ce79=_0x58ae94[_0x55dabe(0x74e)][_0x55dabe(0x585)](_0x49f820=>_0x49f820[_0x55dabe(0x718)][_0x55dabe(0x5f0)]()===_0x4c9ada[_0x55dabe(0x409)][_0x55dabe(0x718)][_0x55dabe(0x5f0)]());if(!_0x26ce79){this[_0x55dabe(0x2e1)](_0x55dabe(0x7db)+_0x19212d[_0x55dabe(0x718)]+'\x20não\x20encontrado');return;}_0x58ae94[_0x55dabe(0x74e)]=_0x58ae94[_0x55dabe(0x74e)][_0x55dabe(0x58a)](_0x6b3fe6=>_0x6b3fe6[_0x55dabe(0x718)][_0x55dabe(0x5f0)]()!==_0x4c9ada[_0x55dabe(0x409)][_0x55dabe(0x718)][_0x55dabe(0x5f0)]()),_0x58ae94['conditions']=_0x58ae94[_0x55dabe(0x457)][_0x55dabe(0x58a)](_0x5e2afd=>_0x5e2afd[_0x55dabe(0x6de)]!==_0x19212d[_0x55dabe(0x718)][_0x55dabe(0x5f0)]()),_0x58ae94[_0x55dabe(0x7ca)]=_0x58ae94[_0x55dabe(0x7ca)][_0x55dabe(0x58a)](_0x706f75=>_0x706f75['blockId']!==_0x19212d[_0x55dabe(0x718)][_0x55dabe(0x5f0)]()),_0x58ae94[_0x55dabe(0x479)]=_0x58ae94[_0x55dabe(0x479)][_0x55dabe(0x58a)](_0x3ed5c6=>_0x3ed5c6[_0x55dabe(0x6de)]!==_0x19212d['_id'][_0x55dabe(0x5f0)]()),this[_0x55dabe(0x313)](_0x58ae94[_0x55dabe(0x74e)],_0x26ce79[_0x55dabe(0x57e)]);}async[a0_0x15f0ef(0x4d9)](_0x37e2a6,_0x553afc){const _0x2d8e35=a0_0x15f0ef;let _0x4ea3a0=_0x37e2a6[_0x2d8e35(0x74e)]['findIndex'](_0x592b39=>_0x592b39[_0x2d8e35(0x718)][_0x2d8e35(0x5f0)]()===_0x553afc['block'][_0x2d8e35(0x718)][_0x2d8e35(0x5f0)]());if(this[_0x2d8e35(0x876)][_0x2d8e35(0x636)](this['instanceName']+'\x20('+this[_0x2d8e35(0x30f)]['wuid']+_0x2d8e35(0x359)+_0x4ea3a0),_0x4ea3a0===-0x1){this[_0x2d8e35(0x876)][_0x2d8e35(0x636)](_0x2d8e35(0x7db)+_0x553afc['block'][_0x2d8e35(0x718)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x37e2a6['blocks'][_0x4ea3a0][_0x2d8e35(0x483)]==='start'){let _0x4b9f13=Object['keys'](_0x553afc[_0x2d8e35(0x409)]);if(_0x4b9f13[_0x2d8e35(0x272)]>0x2||_0x4b9f13[_0x2d8e35(0x272)]===0x2&&!_0x4b9f13[_0x2d8e35(0x3d8)](_0x2d8e35(0x2be))){this['throwAndLogError'](_0x2d8e35(0x40c));return;}}let _0x56b600=_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x57e)];for(let _0x5793f7 in _0x553afc[_0x2d8e35(0x409)])_0x553afc[_0x2d8e35(0x409)]['hasOwnProperty'](_0x5793f7)&&(_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x5793f7]=_0x553afc[_0x2d8e35(0x409)][_0x5793f7]);if(this[_0x2d8e35(0x876)][_0x2d8e35(0x636)](this['instanceName']+'\x20('+this[_0x2d8e35(0x30f)]['wuid']+_0x2d8e35(0x6dd)+JSON[_0x2d8e35(0x7a3)](_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0])),_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0]['apirequest']&&_0x2d8e35(0x844)in _0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0]['apirequest']){this[_0x2d8e35(0x876)][_0x2d8e35(0x636)](this[_0x2d8e35(0x217)]+'\x20('+this[_0x2d8e35(0x30f)][_0x2d8e35(0x744)]+_0x2d8e35(0x747));let _0x760da0=JSON[_0x2d8e35(0x7a3)](_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)][_0x2d8e35(0x844)],null,0x1);_0x760da0[_0x2d8e35(0x272)]>0x2&&(_0x760da0=_0x760da0[_0x2d8e35(0x885)](0x1,_0x760da0[_0x2d8e35(0x272)]-0x1)[_0x2d8e35(0x7dc)]()),_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)][_0x2d8e35(0x714)]=_0x760da0;}if(_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)]&&_0x2d8e35(0x779)in _0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)]&&!(_0x2d8e35(0x33b)in _0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)])){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2d8e35(0x30f)][_0x2d8e35(0x744)]+_0x2d8e35(0x547)),_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)][_0x2d8e35(0x41a)]=!0x1;let _0x4919bb=JSON[_0x2d8e35(0x7a3)](_0x37e2a6['blocks'][_0x4ea3a0][_0x2d8e35(0x3d0)]['body'],null,0x2);_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0]['apirequest'][_0x2d8e35(0x33b)]=_0x4919bb;}if(_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)]&&_0x2d8e35(0x33b)in _0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)]){_0x37e2a6['blocks'][_0x4ea3a0][_0x2d8e35(0x3d0)]['bodyStringErrorParse']=!0x1;let _0xbc81b5=_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)]['bodyString'],_0x45a6d7=this[_0x2d8e35(0x275)](_0xbc81b5);_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)][_0x2d8e35(0x33b)]=_0x45a6d7[_0x2d8e35(0x728)],_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x3d0)][_0x2d8e35(0x41a)]=_0x45a6d7[_0x2d8e35(0x790)];}let _0x2b8022=_0x37e2a6[_0x2d8e35(0x74e)][_0x4ea3a0][_0x2d8e35(0x57e)];_0x56b600!==_0x2b8022?(this[_0x2d8e35(0x313)](_0x37e2a6[_0x2d8e35(0x74e)],_0x56b600),this[_0x2d8e35(0x313)](_0x37e2a6['blocks'],_0x2b8022)):this[_0x2d8e35(0x313)](_0x37e2a6[_0x2d8e35(0x74e)],_0x56b600);}[a0_0x15f0ef(0x275)](_0x4e4c8f){const _0x4d45fa=a0_0x15f0ef;let _0x2680b0='\u205f',_0x2b7bee=!0x1,_0x71b6fc='';for(let _0x55ea4e=0x0;_0x55ea4e<_0x4e4c8f[_0x4d45fa(0x272)];_0x55ea4e++){let _0x4be21b=_0x4e4c8f[_0x55ea4e];_0x4be21b==='\x22'&&(_0x55ea4e===0x0||_0x4e4c8f[_0x55ea4e-0x1]!=='\x5c')&&(_0x2b7bee=!_0x2b7bee),!(!_0x2b7bee&&(_0x4be21b==='\x0a'||_0x4be21b==='\x20'||_0x4be21b===_0x2680b0))&&(_0x71b6fc+=_0x4be21b);}let _0x1aca31={},_0x3cc560=9876543210.1234,_0x8929c9=_0x71b6fc[_0x4d45fa(0x1e1)](/\{\{([^}]+)\}\}/g,_0x23f8b7=>{let _0x2a6410=_0x23f8b7,_0x95bdbb=''+_0x3cc560;return _0x1aca31[_0x95bdbb]=_0x2a6410,_0x3cc560+=0.0001,_0x95bdbb;}),_0x22d503='',_0x1af3fb=!0x1;try{let _0x141652=JSON[_0x4d45fa(0x379)](_0x8929c9);_0x22d503=JSON[_0x4d45fa(0x7a3)](_0x141652,null,0x2),_0x22d503=_0x22d503[_0x4d45fa(0x1e1)](/\n( +)/g,(_0xa521f5,_0x5f4ce7)=>{const _0x2a6cf3=_0x4d45fa;let _0x136fae=_0x5f4ce7[_0x2a6cf3(0x272)];return'\x0a'+_0x2680b0[_0x2a6cf3(0x674)](_0x136fae*0x2);}),_0x22d503=_0x22d503[_0x4d45fa(0x1e1)](/(\d{10,}\.\d+)/g,_0x1aa397=>_0x1aca31[_0x1aa397]||_0x1aa397);}catch(_0x526ad4){console[_0x4d45fa(0x790)](_0x4d45fa(0x3fa),_0x526ad4),_0x22d503=_0x4e4c8f,_0x1af3fb=!0x0;}return{'result':_0x22d503,'error':_0x1af3fb};}[a0_0x15f0ef(0x398)](_0xae3d8c,_0x22e1be){const _0x16669e=a0_0x15f0ef;if(_0x22e1be[_0x16669e(0x409)]['type']===_0x16669e(0x5cc)){this[_0x16669e(0x2e1)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x22e1be[_0x16669e(0x409)][_0x16669e(0x3d0)]&&_0x16669e(0x844)in _0x22e1be[_0x16669e(0x409)][_0x16669e(0x3d0)]){this['logger'][_0x16669e(0x636)](this['instanceName']+'\x20('+this[_0x16669e(0x30f)][_0x16669e(0x744)]+_0x16669e(0x747));let _0x9c71e9=JSON['stringify'](_0x22e1be[_0x16669e(0x409)]['apirequest'][_0x16669e(0x844)],null,0x1);_0x9c71e9[_0x16669e(0x272)]>0x2&&(_0x9c71e9=_0x9c71e9[_0x16669e(0x885)](0x1,_0x9c71e9['length']-0x1)[_0x16669e(0x7dc)]()),_0x22e1be[_0x16669e(0x409)]['apirequest'][_0x16669e(0x714)]=_0x9c71e9;}_0x22e1be[_0x16669e(0x409)][_0x16669e(0x3d0)]&&_0x16669e(0x779)in _0x22e1be[_0x16669e(0x409)]['apirequest']&&(this[_0x16669e(0x876)]['verbose'](this[_0x16669e(0x217)]+'\x20('+this[_0x16669e(0x30f)][_0x16669e(0x744)]+_0x16669e(0x547)),_0x22e1be[_0x16669e(0x409)]['apirequest'][_0x16669e(0x33b)]=JSON[_0x16669e(0x7a3)](_0x22e1be[_0x16669e(0x409)]['apirequest'][_0x16669e(0x779)],null,0x1)[_0x16669e(0x7dc)]()),_0xae3d8c[_0x16669e(0x74e)][_0x16669e(0x21e)](_0x22e1be[_0x16669e(0x409)]),this[_0x16669e(0x313)](_0xae3d8c['blocks'],_0x22e1be['block'][_0x16669e(0x57e)]);}[a0_0x15f0ef(0x313)](_0x146415,_0x355dca){const _0x483ade=a0_0x15f0ef;let _0x5d06fa=_0x146415['filter'](_0x55bf97=>_0x55bf97[_0x483ade(0x57e)]===_0x355dca);_0x5d06fa[_0x483ade(0x239)]((_0x215960,_0x110d08)=>_0x215960[_0x483ade(0x74b)]-_0x110d08['order']),_0x5d06fa[_0x483ade(0x40e)]((_0x550c3e,_0x1ab0b0)=>_0x550c3e[_0x483ade(0x74b)]=_0x1ab0b0+0x1);}async[a0_0x15f0ef(0x1e7)](_0x2f37dc){const _0x491460=a0_0x15f0ef;try{if(this[_0x491460(0x876)]['verbose'](this[_0x491460(0x217)]+'\x20('+this[_0x491460(0x30f)]['wuid']+_0x491460(0x6ca)),!_0x2f37dc||!_0x2f37dc['replyOption']){this['throwAndLogError']('Data\x20inválida\x20fornecida');return;}let _0x243c73=await this[_0x491460(0x868)][_0x491460(0x384)][_0x491460(0x2f1)]({'where':{'name':_0x2f37dc[_0x491460(0x2c9)]}},this['instance']['wuid']);_0x243c73||this[_0x491460(0x2e1)](_0x491460(0x505));let {replyOption:_0x340e5c}=_0x2f37dc;_0x340e5c?.['delete']?(this[_0x491460(0x32b)](_0x243c73,_0x2f37dc),this['reorderReplyOptions'](_0x243c73[_0x491460(0x479)],_0x2f37dc[_0x491460(0x810)][_0x491460(0x6de)])):_0x340e5c['_id']?(await this['updateReplyOption'](_0x243c73,_0x2f37dc),this[_0x491460(0x7fc)](_0x243c73[_0x491460(0x479)],_0x2f37dc[_0x491460(0x810)]['blockId'])):(this[_0x491460(0x304)](_0x243c73,_0x2f37dc),this[_0x491460(0x7fc)](_0x243c73[_0x491460(0x479)],_0x2f37dc[_0x491460(0x810)][_0x491460(0x6de)]));let _0x5d6513=await this['repository']['flow'][_0x491460(0x218)](_0x243c73[_0x491460(0x718)],_0x243c73,this[_0x491460(0x30f)]['wuid']);if(_0x5d6513&&_0x5d6513[_0x491460(0x263)]&&_0x5d6513['shareOwners'][_0x491460(0x272)]>0x1&&this[_0x491460(0x27f)](_0x5d6513[_0x491460(0x718)],this['instance'][_0x491460(0x744)]),!_0x5d6513)throw new Error(_0x491460(0x28a));return _0x5d6513;}catch(_0x3ec7ff){this['throwAndLogError'](_0x491460(0x55f)+_0x3ec7ff);}}[a0_0x15f0ef(0x7fc)](_0x364e5f,_0x4606b5){const _0x254878=a0_0x15f0ef;console[_0x254878(0x884)](_0x254878(0x41c),_0x4606b5),_0x364e5f[_0x254878(0x40e)](_0x4d115e=>{const _0x281db8=_0x254878;_0x4d115e['blockId']===_0x4606b5&&_0x4d115e[_0x281db8(0x74b)]===void 0x0&&(_0x4d115e[_0x281db8(0x74b)]=0x270f);});let _0x5a4bb3=_0x364e5f[_0x254878(0x58a)](_0x3262af=>_0x3262af[_0x254878(0x6de)]===_0x4606b5);_0x5a4bb3[_0x254878(0x239)]((_0x1c9d9c,_0x2ced1f)=>_0x1c9d9c[_0x254878(0x74b)]-_0x2ced1f['order']),_0x5a4bb3[_0x254878(0x40e)]((_0x1ab4e8,_0x1419da)=>{_0x1ab4e8['order']=_0x1419da+0x1;}),_0x364e5f[_0x254878(0x40e)](_0x28ee9e=>{const _0x16629f=_0x254878;if(_0x28ee9e[_0x16629f(0x6de)]===_0x4606b5){let _0x149205=_0x5a4bb3['find'](_0x4bf640=>_0x4bf640[_0x16629f(0x718)]&&_0x28ee9e['_id']&&_0x4bf640[_0x16629f(0x718)][_0x16629f(0x5f0)]()===_0x28ee9e[_0x16629f(0x718)]['toString']());_0x149205&&(_0x28ee9e['order']=_0x149205[_0x16629f(0x74b)]);}}),console[_0x254878(0x884)](_0x254878(0x748),_0x364e5f);}['deleteReplyOption'](_0x3ffb11,_0x28994f){const _0x4450ec=a0_0x15f0ef;let {replyOption:_0x5db03f}=_0x28994f;if(!_0x5db03f['_id']){this[_0x4450ec(0x2e1)](_0x4450ec(0x3eb));return;}if(!_0x3ffb11[_0x4450ec(0x479)][_0x4450ec(0x585)](_0x1be63f=>_0x1be63f['_id']['toString']()===_0x28994f[_0x4450ec(0x810)][_0x4450ec(0x718)][_0x4450ec(0x5f0)]())){this[_0x4450ec(0x2e1)](_0x4450ec(0x4f8)+_0x5db03f[_0x4450ec(0x718)]+_0x4450ec(0x283));return;}_0x3ffb11[_0x4450ec(0x479)]=_0x3ffb11[_0x4450ec(0x479)]['filter'](_0x6d363c=>_0x6d363c[_0x4450ec(0x718)][_0x4450ec(0x5f0)]()!==_0x28994f['replyOption']['_id'][_0x4450ec(0x5f0)]());}async[a0_0x15f0ef(0x835)](_0x282634,_0x58be6a){const _0x5a6f34=a0_0x15f0ef;let _0xfc4766=_0x282634[_0x5a6f34(0x479)][_0x5a6f34(0x794)](_0x51e419=>_0x51e419[_0x5a6f34(0x718)][_0x5a6f34(0x5f0)]()===_0x58be6a[_0x5a6f34(0x810)][_0x5a6f34(0x718)][_0x5a6f34(0x5f0)]());if(_0xfc4766===-0x1){this[_0x5a6f34(0x2e1)]('ReplyOption\x20com\x20ID\x20'+_0x58be6a[_0x5a6f34(0x810)][_0x5a6f34(0x718)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x405312 in _0x58be6a[_0x5a6f34(0x810)])_0x58be6a[_0x5a6f34(0x810)][_0x5a6f34(0x782)](_0x405312)&&(_0x282634[_0x5a6f34(0x479)][_0xfc4766][_0x405312]=_0x58be6a[_0x5a6f34(0x810)][_0x405312]);}[a0_0x15f0ef(0x304)](_0x4fc249,_0x3ae3df){const _0x33800d=a0_0x15f0ef;_0x4fc249[_0x33800d(0x479)][_0x33800d(0x21e)](_0x3ae3df[_0x33800d(0x810)]);}async[a0_0x15f0ef(0x63b)](_0x2d35c6){const _0x599f20=a0_0x15f0ef;this[_0x599f20(0x876)][_0x599f20(0x636)](this[_0x599f20(0x217)]+'\x20('+this[_0x599f20(0x30f)][_0x599f20(0x744)]+_0x599f20(0x77d)+_0x2d35c6);try{this['logger'][_0x599f20(0x636)](this['instanceName']+'\x20('+this[_0x599f20(0x30f)][_0x599f20(0x744)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0xaec361=await this[_0x599f20(0x868)][_0x599f20(0x384)][_0x599f20(0x2f1)]({'where':{'name':_0x2d35c6[_0x599f20(0x2c9)]}},this['instance'][_0x599f20(0x744)]);if(!_0xaec361)throw new Error(_0x599f20(0x505));if(_0x2d35c6[_0x599f20(0x703)]&&_0x2d35c6[_0x599f20(0x703)]?.[_0x599f20(0x439)]===!0x0){if(this['logger'][_0x599f20(0x636)](this['instanceName']+'\x20('+this[_0x599f20(0x30f)][_0x599f20(0x744)]+'):\x20delete\x20=\x20true'),_0x2d35c6[_0x599f20(0x703)]['default']===!0x0)return{'message':_0x599f20(0x7f6)};if(_0xaec361[_0x599f20(0x74e)][_0x599f20(0x4f9)](_0x4bf3e5=>_0x4bf3e5[_0x599f20(0x57e)][_0x599f20(0x5f0)]()===_0x2d35c6[_0x599f20(0x703)][_0x599f20(0x718)]))return this[_0x599f20(0x876)][_0x599f20(0x636)](this[_0x599f20(0x217)]+'\x20('+this[_0x599f20(0x30f)]['wuid']+'):\x20tem\x20blocks'),{'message':_0x599f20(0x222)};_0xaec361[_0x599f20(0x392)]=_0xaec361[_0x599f20(0x392)]['filter'](_0x397eaa=>_0x397eaa[_0x599f20(0x718)][_0x599f20(0x5f0)]()!==_0x2d35c6[_0x599f20(0x703)]['_id']);}else{if(_0x2d35c6[_0x599f20(0x703)]){if(_0x2d35c6[_0x599f20(0x703)][_0x599f20(0x6bb)]===!0x0)return{'message':_0x599f20(0x42d)};if(_0x2d35c6[_0x599f20(0x703)][_0x599f20(0x718)]){let _0x1ec7bc=_0xaec361['groups'][_0x599f20(0x585)](_0x2fa334=>_0x2fa334[_0x599f20(0x718)][_0x599f20(0x5f0)]()===_0x2d35c6['group'][_0x599f20(0x718)]);_0x1ec7bc&&(_0x2d35c6[_0x599f20(0x703)]['x']<0x0&&(_0x2d35c6[_0x599f20(0x703)]['x']=0x0),_0x2d35c6['group']['y']<0x0&&(_0x2d35c6[_0x599f20(0x703)]['y']=0x0),Object[_0x599f20(0x6b4)](_0x1ec7bc,_0x2d35c6[_0x599f20(0x703)]));}else _0xaec361['groups'][_0x599f20(0x21e)](_0x2d35c6[_0x599f20(0x703)]);}}let _0x2110f5=await this[_0x599f20(0x868)][_0x599f20(0x384)][_0x599f20(0x218)](_0xaec361[_0x599f20(0x718)],_0xaec361,this[_0x599f20(0x30f)][_0x599f20(0x744)]);if(_0x2110f5&&_0x2110f5['shareOwners']&&_0x2110f5[_0x599f20(0x263)][_0x599f20(0x272)]>0x1&&this['synchronizeFlows'](_0x2110f5[_0x599f20(0x718)],this[_0x599f20(0x30f)][_0x599f20(0x744)]),!_0x2110f5)throw new Error(_0x599f20(0x28a));return _0x2110f5;}catch(_0x2525d0){let _0x227ee2='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x1f98c9=_0x2525d0 instanceof Error?_0x2525d0[_0x599f20(0x488)]:typeof _0x2525d0==_0x599f20(0x84f)?JSON[_0x599f20(0x7a3)](_0x2525d0):_0x2525d0,_0xbebfeb=_0x227ee2+':\x20'+_0x1f98c9;throw this[_0x599f20(0x876)][_0x599f20(0x790)](this['instanceName']+'\x20('+this[_0x599f20(0x30f)][_0x599f20(0x744)]+_0x599f20(0x603)+_0xbebfeb),new w(_0xbebfeb);}}async[a0_0x15f0ef(0x657)](_0x3d6618){const _0x3825c5=a0_0x15f0ef;try{this[_0x3825c5(0x876)]['verbose'](this[_0x3825c5(0x217)]+'\x20('+this[_0x3825c5(0x30f)][_0x3825c5(0x744)]+_0x3825c5(0x6f8));let _0x29a839=await this[_0x3825c5(0x868)]['flow'][_0x3825c5(0x2f1)]({'where':{'name':_0x3d6618['name']}},this[_0x3825c5(0x30f)][_0x3825c5(0x744)]);if(!_0x29a839)throw new Error(_0x3825c5(0x505));let _0x3d9fe1=!0x1;if(_0x3d6618['condition']?.[_0x3825c5(0x439)]===!0x0)_0x29a839[_0x3825c5(0x457)]=_0x29a839[_0x3825c5(0x457)][_0x3825c5(0x58a)](_0x4841d4=>_0x4841d4&&_0x3d6618[_0x3825c5(0x573)]&&_0x4841d4[_0x3825c5(0x718)]&&_0x3d6618[_0x3825c5(0x573)][_0x3825c5(0x718)]&&_0x4841d4[_0x3825c5(0x718)][_0x3825c5(0x5f0)]()!==_0x3d6618[_0x3825c5(0x573)][_0x3825c5(0x718)][_0x3825c5(0x5f0)]()),_0x3d9fe1=!0x0;else{let _0x5628a1=_0x29a839[_0x3825c5(0x457)][_0x3825c5(0x585)](_0x3fc147=>_0x3fc147&&_0x3d6618[_0x3825c5(0x573)]&&_0x3fc147['_id']&&_0x3d6618[_0x3825c5(0x573)][_0x3825c5(0x718)]&&_0x3fc147[_0x3825c5(0x718)][_0x3825c5(0x5f0)]()===_0x3d6618[_0x3825c5(0x573)]['_id']['toString']());_0x5628a1?(_0x3d9fe1=_0x5628a1[_0x3825c5(0x74b)]!==_0x3d6618['condition'][_0x3825c5(0x74b)],Object[_0x3825c5(0x6b4)](_0x5628a1,_0x3d6618[_0x3825c5(0x573)])):(_0x29a839['conditions']['push'](_0x3d6618[_0x3825c5(0x573)]),_0x3d9fe1=!0x0);}if(_0x3d9fe1){_0x29a839[_0x3825c5(0x457)][_0x3825c5(0x239)]((_0x28f652,_0x7bc31e)=>_0x28f652['order']>_0x7bc31e[_0x3825c5(0x74b)]?0x1:_0x7bc31e['order']>_0x28f652[_0x3825c5(0x74b)]?-0x1:0x0);for(let _0x22d298=0x0;_0x22d298<_0x29a839[_0x3825c5(0x457)][_0x3825c5(0x272)];_0x22d298++)_0x29a839[_0x3825c5(0x457)][_0x22d298]['order']=_0x22d298+0x1;_0x29a839[_0x3825c5(0x457)][_0x3825c5(0x272)]>0x0&&(_0x29a839['conditions'][0x0][_0x3825c5(0x435)]='and');}let _0x3c0bb1=await this[_0x3825c5(0x868)][_0x3825c5(0x384)][_0x3825c5(0x218)](_0x29a839[_0x3825c5(0x718)],_0x29a839,this[_0x3825c5(0x30f)]['wuid']);if(_0x3c0bb1&&_0x3c0bb1['shareOwners']&&_0x3c0bb1[_0x3825c5(0x263)]['length']>0x1&&this[_0x3825c5(0x27f)](_0x3c0bb1[_0x3825c5(0x718)],this[_0x3825c5(0x30f)]['wuid']),!_0x3c0bb1)throw new Error(_0x3825c5(0x28a));return _0x3c0bb1;}catch(_0x2a2b47){let _0x4b1ffd=_0x3825c5(0x82d),_0x45d4ba=_0x2a2b47 instanceof Error?_0x2a2b47[_0x3825c5(0x488)]:typeof _0x2a2b47==_0x3825c5(0x84f)?JSON[_0x3825c5(0x7a3)](_0x2a2b47):_0x2a2b47,_0x21966e=_0x4b1ffd+':\x20'+_0x45d4ba;throw this['logger']['error'](this[_0x3825c5(0x217)]+'\x20('+this['instance'][_0x3825c5(0x744)]+_0x3825c5(0x603)+_0x21966e),new w(_0x21966e);}}async[a0_0x15f0ef(0x5fc)](_0x5e3d38){const _0x4229ab=a0_0x15f0ef;try{this[_0x4229ab(0x876)]['verbose'](this[_0x4229ab(0x217)]+'\x20('+this[_0x4229ab(0x30f)][_0x4229ab(0x744)]+_0x4229ab(0x26e));let _0x18cb86=await this[_0x4229ab(0x868)]['flow']['findOne']({'where':{'name':_0x5e3d38[_0x4229ab(0x2c9)]}},this[_0x4229ab(0x30f)]['wuid']);if(!_0x18cb86)throw new Error(_0x4229ab(0x505));let _0x5ec70d=!0x1;if(_0x5e3d38[_0x4229ab(0x881)]?.[_0x4229ab(0x439)]===!0x0)_0x18cb86[_0x4229ab(0x7ca)]=_0x18cb86[_0x4229ab(0x7ca)][_0x4229ab(0x58a)](_0x19a4cf=>_0x19a4cf&&_0x5e3d38['varedit']&&_0x19a4cf[_0x4229ab(0x718)]&&_0x5e3d38[_0x4229ab(0x881)]['_id']&&_0x19a4cf[_0x4229ab(0x718)]['toString']()!==_0x5e3d38['varedit'][_0x4229ab(0x718)][_0x4229ab(0x5f0)]()),_0x5ec70d=!0x0;else{let _0x491621=_0x18cb86['varedits'][_0x4229ab(0x585)](_0x5a7bde=>_0x5a7bde&&_0x5e3d38[_0x4229ab(0x881)]&&_0x5a7bde[_0x4229ab(0x718)]&&_0x5e3d38['varedit'][_0x4229ab(0x718)]&&_0x5a7bde[_0x4229ab(0x718)][_0x4229ab(0x5f0)]()===_0x5e3d38[_0x4229ab(0x881)][_0x4229ab(0x718)][_0x4229ab(0x5f0)]());_0x491621?(_0x5ec70d=_0x491621['order']!==_0x5e3d38['varedit']['order'],Object[_0x4229ab(0x6b4)](_0x491621,_0x5e3d38['varedit'])):(_0x18cb86[_0x4229ab(0x7ca)][_0x4229ab(0x21e)](_0x5e3d38[_0x4229ab(0x881)]),_0x5ec70d=!0x0);}if(_0x5ec70d){_0x18cb86['varedits']['sort']((_0x14d9fb,_0x168395)=>_0x14d9fb[_0x4229ab(0x74b)]>_0x168395[_0x4229ab(0x74b)]?0x1:_0x168395[_0x4229ab(0x74b)]>_0x14d9fb[_0x4229ab(0x74b)]?-0x1:0x0);for(let _0x187bc1=0x0;_0x187bc1<_0x18cb86[_0x4229ab(0x7ca)][_0x4229ab(0x272)];_0x187bc1++)_0x18cb86[_0x4229ab(0x7ca)][_0x187bc1][_0x4229ab(0x74b)]=_0x187bc1+0x1;}let _0x1ecf41=await this['repository']['flow'][_0x4229ab(0x218)](_0x18cb86[_0x4229ab(0x718)],_0x18cb86,this[_0x4229ab(0x30f)][_0x4229ab(0x744)]);if(_0x1ecf41&&_0x1ecf41[_0x4229ab(0x263)]&&_0x1ecf41[_0x4229ab(0x263)][_0x4229ab(0x272)]>0x1&&this[_0x4229ab(0x27f)](_0x1ecf41[_0x4229ab(0x718)],this[_0x4229ab(0x30f)][_0x4229ab(0x744)]),!_0x1ecf41)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1ecf41;}catch(_0x352fae){let _0x40db6d='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x44bb27=_0x352fae instanceof Error?_0x352fae[_0x4229ab(0x488)]:typeof _0x352fae==_0x4229ab(0x84f)?JSON['stringify'](_0x352fae):_0x352fae,_0x4bde23=_0x40db6d+':\x20'+_0x44bb27;throw this[_0x4229ab(0x876)][_0x4229ab(0x790)](this['instanceName']+'\x20('+this[_0x4229ab(0x30f)]['wuid']+_0x4229ab(0x603)+_0x4bde23),new w(_0x4bde23);}}async[a0_0x15f0ef(0x7c5)](_0xf54cdd){const _0x136398=a0_0x15f0ef;try{this[_0x136398(0x876)]['verbose'](this[_0x136398(0x217)]+'\x20('+this[_0x136398(0x30f)][_0x136398(0x744)]+_0x136398(0x888));let _0x53808b=await this[_0x136398(0x868)]['flow'][_0x136398(0x2f1)]({'where':{'name':_0xf54cdd[_0x136398(0x2c9)]}},this['instance'][_0x136398(0x744)]);if(!_0x53808b)throw new Error(_0x136398(0x505));_0xf54cdd[_0x136398(0x7ee)][_0x136398(0x2c9)]=_0xf54cdd[_0x136398(0x7ee)][_0x136398(0x2c9)][_0x136398(0x7dc)](),_0xf54cdd['variable'][_0x136398(0x2c9)][_0x136398(0x322)]('_')&&(_0xf54cdd[_0x136398(0x7ee)][_0x136398(0x2c9)]=_0xf54cdd['variable']['name'][_0x136398(0x885)](0x1)),_0xf54cdd[_0x136398(0x7ee)][_0x136398(0x2c9)]=_0xf54cdd[_0x136398(0x7ee)][_0x136398(0x2c9)][_0x136398(0x7dc)]();let _0x502a1f=_0x53808b[_0x136398(0x798)][_0x136398(0x585)](_0x247ec9=>_0x247ec9['name']===_0xf54cdd[_0x136398(0x7ee)][_0x136398(0x2c9)]);if(_0x502a1f?.[_0x136398(0x303)]===!0x0)throw new Error(_0x136398(0x78f));if(_0xf54cdd['variable']?.['delete']===!0x0){if(!_0x502a1f)return{'message':_0x136398(0x62c)};_0x53808b[_0x136398(0x798)]=_0x53808b['variables'][_0x136398(0x58a)](_0x2c77fb=>_0x2c77fb[_0x136398(0x2c9)]!==_0xf54cdd[_0x136398(0x7ee)][_0x136398(0x2c9)]);}else _0x502a1f?Object[_0x136398(0x6b4)](_0x502a1f,_0xf54cdd[_0x136398(0x7ee)]):_0x53808b[_0x136398(0x798)]['push'](_0xf54cdd[_0x136398(0x7ee)]);let _0xb88dd0=await this['repository'][_0x136398(0x384)][_0x136398(0x218)](_0x53808b[_0x136398(0x718)],_0x53808b,this[_0x136398(0x30f)]['wuid']);if(_0xb88dd0&&_0xb88dd0['shareOwners']&&_0xb88dd0['shareOwners']['length']>0x1&&this[_0x136398(0x27f)](_0xb88dd0[_0x136398(0x718)],this[_0x136398(0x30f)][_0x136398(0x744)]),!_0xb88dd0)throw new Error(_0x136398(0x28a));return _0xb88dd0;}catch(_0xca59c5){let _0x58df68=_0x136398(0x730),_0x1ac3a5=_0xca59c5 instanceof Error?_0xca59c5['message']:typeof _0xca59c5==_0x136398(0x84f)?JSON[_0x136398(0x7a3)](_0xca59c5):_0xca59c5,_0x561d51=_0x58df68+':\x20'+_0x1ac3a5;throw this[_0x136398(0x876)][_0x136398(0x790)](this[_0x136398(0x217)]+'\x20('+this[_0x136398(0x30f)]['wuid']+'):\x20'+_0x561d51),new w(_0x561d51);}}async[a0_0x15f0ef(0x528)](_0x443c5c){const _0x42115e=a0_0x15f0ef;let _0x13766f=null;try{if(!this[_0x42115e(0x276)]?.['flowConfig']['enabled'])throw new w(_0x42115e(0x70f));this[_0x42115e(0x876)][_0x42115e(0x636)](this[_0x42115e(0x217)]+'\x20('+this[_0x42115e(0x30f)]['wuid']+_0x42115e(0x221));let _0x7ed9bb=(await this[_0x42115e(0x6c7)]({'numbers':[_0x443c5c[_0x42115e(0x350)]]}))[0x0];if(!_0x7ed9bb['exists']&&!(0x0,f[_0x42115e(0x4c1)])(_0x7ed9bb[_0x42115e(0x360)])&&!_0x7ed9bb[_0x42115e(0x360)][_0x42115e(0x3d8)](_0x42115e(0x321)))throw _0x13766f=JSON[_0x42115e(0x7a3)](_0x7ed9bb,null,0x2),new w(_0x7ed9bb);let _0x591397=await this[_0x42115e(0x868)]['flow'][_0x42115e(0x2f1)]({'where':{'name':_0x443c5c[_0x42115e(0x2c9)]}},this['instance'][_0x42115e(0x744)]);if(!_0x591397)return this[_0x42115e(0x876)]['error'](this[_0x42115e(0x217)]+'\x20('+this[_0x42115e(0x30f)][_0x42115e(0x744)]+_0x42115e(0x1cd)),{'message':_0x42115e(0x505)};let _0x2a28cb=await this['createConversationforStartFlow'](_0x591397,_0x7ed9bb[_0x42115e(0x360)],_0x443c5c[_0x42115e(0x405)]);if(_0x2a28cb){this[_0x42115e(0x876)][_0x42115e(0x636)](this[_0x42115e(0x217)]+'\x20('+this['instance'][_0x42115e(0x744)]+_0x42115e(0x647));let _0x53da21=await this[_0x42115e(0x76c)](_0x2a28cb);return _0x53da21&&await this[_0x42115e(0x4ce)](_0x2a28cb,_0x53da21),{'message':_0x42115e(0x264)+_0x443c5c[_0x42115e(0x350)]};}}catch(_0x5f4dc7){if(this['logger'][_0x42115e(0x790)](this[_0x42115e(0x217)]+'\x20('+this[_0x42115e(0x30f)][_0x42115e(0x744)]+_0x42115e(0x2a3)+(_0x5f4dc7 instanceof Error?_0x5f4dc7[_0x42115e(0x488)]:JSON[_0x42115e(0x7a3)](_0x5f4dc7,null,0x2))),_0x13766f=_0x5f4dc7 instanceof Error?_0x5f4dc7['message']:JSON[_0x42115e(0x7a3)](_0x5f4dc7,null,0x2),_0x13766f)throw new w(_0x42115e(0x30e)+_0x13766f);}}async[a0_0x15f0ef(0x52b)](_0x5f4d38){const _0x2f61e8=a0_0x15f0ef;try{let _0x2d1c68={'remoteJid':_0x5f4d38,'status':_0x2f61e8(0x73f)},_0x826bb4={'status':_0x2f61e8(0x729)},_0x3ccce7=await this[_0x2f61e8(0x868)][_0x2f61e8(0x1da)]['updateMany'](_0x2d1c68,_0x826bb4,this[_0x2f61e8(0x30f)][_0x2f61e8(0x744)]);return this[_0x2f61e8(0x876)][_0x2f61e8(0x636)](this[_0x2f61e8(0x217)]+'\x20('+this['instance'][_0x2f61e8(0x744)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x3ccce7;}catch(_0x121bad){throw this[_0x2f61e8(0x876)][_0x2f61e8(0x790)](this[_0x2f61e8(0x217)]+'\x20('+this[_0x2f61e8(0x30f)][_0x2f61e8(0x744)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x121bad[_0x2f61e8(0x488)]),_0x121bad;}}async[a0_0x15f0ef(0x1f4)](_0x501490,_0x427752,_0x4f48c3){const _0x1c3f97=a0_0x15f0ef;this[_0x1c3f97(0x876)][_0x1c3f97(0x636)](this[_0x1c3f97(0x217)]+'\x20('+this['instance'][_0x1c3f97(0x744)]+_0x1c3f97(0x534)),await this['closeExistingConversations'](_0x427752);try{let _0x9782c2=require(_0x1c3f97(0x3a7))[_0x1c3f97(0x701)],_0x827f52=Date['now'](),_0x5c6a3b=_0x1c3f97(0x5cc),_0xdcf15f={},_0x3c8987={},_0x32cf9f={..._0x501490,'chatLog':null},_0x18856c=await this[_0x1c3f97(0x2da)](_0x32cf9f['variables']),_0x36819a=await this[_0x1c3f97(0x7fb)](_0x427752),_0x36b229={..._0x18856c,..._0x36819a,'_remoteJid':_0x427752},_0x2b2940={'lastReceivedMessage':_0xdcf15f,'lastSendMessage':_0x3c8987,'lastBlockId':_0x5c6a3b,'lastCondition':!0x0,'realVariables':_0x36b229};_0x32cf9f[_0x1c3f97(0x7de)]=_0x2b2940,_0x32cf9f[_0x1c3f97(0x7de)][_0x1c3f97(0x2a8)]={..._0x36b229,..._0x4f48c3},delete _0x32cf9f[_0x1c3f97(0x718)],_0x32cf9f['_id']=new _0x9782c2(),_0x32cf9f['lastInteraction']=_0x827f52,_0x32cf9f['status']='open',_0x32cf9f['remoteJid']=_0x427752;let _0x5bd32f=await this[_0x1c3f97(0x868)][_0x1c3f97(0x1da)]['updateOne'](_0x32cf9f[_0x1c3f97(0x718)],_0x32cf9f,this[_0x1c3f97(0x30f)]['wuid']);return this[_0x1c3f97(0x876)][_0x1c3f97(0x636)](this[_0x1c3f97(0x217)]+'\x20('+this[_0x1c3f97(0x30f)][_0x1c3f97(0x744)]+_0x1c3f97(0x6ee)),_0x5bd32f?_0x32cf9f:null;}catch(_0x4dc962){let _0x5aa839=_0x1c3f97(0x663),_0x141201=_0x4dc962 instanceof Error?_0x4dc962[_0x1c3f97(0x488)]:typeof _0x4dc962==_0x1c3f97(0x84f)?JSON[_0x1c3f97(0x7a3)](_0x4dc962):_0x4dc962,_0x3304d0=_0x5aa839+':\x20'+_0x141201;throw this[_0x1c3f97(0x876)]['error'](this[_0x1c3f97(0x217)]+'\x20('+this[_0x1c3f97(0x30f)][_0x1c3f97(0x744)]+_0x1c3f97(0x603)+_0x3304d0),new w(_0x3304d0);}}async['getConversation'](_0xaddf7){const _0x77cca0=a0_0x15f0ef;try{this['logger'][_0x77cca0(0x636)](this['instanceName']+'\x20('+this[_0x77cca0(0x30f)][_0x77cca0(0x744)]+_0x77cca0(0x490)),this[_0x77cca0(0x876)][_0x77cca0(0x636)](this[_0x77cca0(0x217)]+'\x20('+this['instance'][_0x77cca0(0x744)]+_0x77cca0(0x4a4)+_0xaddf7);let _0x1d2a5c={'where':{'_id':_0xaddf7}};return await this[_0x77cca0(0x868)][_0x77cca0(0x1da)][_0x77cca0(0x2f1)](_0x1d2a5c,this['instance']['wuid']);}catch(_0x4eb508){let _0x541a6a=_0x77cca0(0x5e2),_0x54a5c8=_0x4eb508 instanceof Error?_0x4eb508['message']:typeof _0x4eb508==_0x77cca0(0x84f)?JSON[_0x77cca0(0x7a3)](_0x4eb508):_0x4eb508,_0x2b58aa=_0x541a6a+':\x20'+_0x54a5c8;throw this[_0x77cca0(0x876)]['error'](this[_0x77cca0(0x217)]+'\x20('+this['instance']['wuid']+_0x77cca0(0x603)+_0x2b58aa),new w(_0x2b58aa);}}async[a0_0x15f0ef(0x6a5)](_0x1e2d74){const _0x93fbdc=a0_0x15f0ef;try{return this[_0x93fbdc(0x876)][_0x93fbdc(0x636)](this[_0x93fbdc(0x217)]+'\x20('+this['instance'][_0x93fbdc(0x744)]+_0x93fbdc(0x533)),await this['repository']['flowConversation'][_0x93fbdc(0x585)](_0x1e2d74,this[_0x93fbdc(0x30f)][_0x93fbdc(0x744)]);}catch(_0x4c0028){let _0x86cb68=_0x93fbdc(0x5ce),_0x2410ba=_0x4c0028 instanceof Error?_0x4c0028[_0x93fbdc(0x488)]:typeof _0x4c0028=='object'?JSON[_0x93fbdc(0x7a3)](_0x4c0028):_0x4c0028,_0x4cd161=_0x86cb68+':\x20'+_0x2410ba;throw this[_0x93fbdc(0x876)][_0x93fbdc(0x790)](this['instanceName']+'\x20('+this[_0x93fbdc(0x30f)]['wuid']+_0x93fbdc(0x603)+_0x4cd161),new w(_0x4cd161);}}async['deleteConversation'](_0x4a6b58){const _0x363ed8=a0_0x15f0ef;try{return this['logger'][_0x363ed8(0x636)](this[_0x363ed8(0x217)]+'\x20('+this[_0x363ed8(0x30f)][_0x363ed8(0x744)]+_0x363ed8(0x284)),this['logger'][_0x363ed8(0x636)](this[_0x363ed8(0x217)]+'\x20('+this[_0x363ed8(0x30f)]['wuid']+'):\x20Query\x20params:'+_0x4a6b58),(await this[_0x363ed8(0x868)][_0x363ed8(0x1da)][_0x363ed8(0x3b5)]({'where':{'_id':_0x4a6b58}},this[_0x363ed8(0x30f)]['wuid']))[_0x363ed8(0x256)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x363ed8(0x333)};}catch(_0x41fc4f){let _0x1f43ae=_0x363ed8(0x86d),_0x269963=_0x41fc4f instanceof Error?_0x41fc4f[_0x363ed8(0x488)]:typeof _0x41fc4f==_0x363ed8(0x84f)?JSON[_0x363ed8(0x7a3)](_0x41fc4f):_0x41fc4f,_0x3d664f=_0x1f43ae+':\x20'+_0x269963;throw this[_0x363ed8(0x876)][_0x363ed8(0x790)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x3d664f),new w(_0x3d664f);}}async[a0_0x15f0ef(0x254)](_0x76016a){const _0x38b037=a0_0x15f0ef;try{let {_id:_0xaedf97,chatLog:_0x4924e3,status:_0x6f7046}=_0x76016a;if(!_0xaedf97)return{'message':_0x38b037(0x6b3)};let _0x22850a={};if(_0x6f7046!==void 0x0&&(_0x22850a[_0x38b037(0x60a)]=_0x6f7046),Object['keys'](_0x22850a)[_0x38b037(0x272)]===0x0)return{'message':_0x38b037(0x35d)};let _0x29d39e=await this['repository'][_0x38b037(0x1da)][_0x38b037(0x218)](_0xaedf97,_0x22850a,this[_0x38b037(0x30f)][_0x38b037(0x744)]);return _0x29d39e||{'message':_0x38b037(0x376)};}catch(_0x89bfb9){let _0x1058ce=_0x38b037(0x5eb),_0x3e4281=_0x89bfb9 instanceof Error?_0x89bfb9[_0x38b037(0x488)]:typeof _0x89bfb9==_0x38b037(0x84f)?JSON[_0x38b037(0x7a3)](_0x89bfb9):_0x89bfb9,_0x38ca5b=_0x1058ce+':\x20'+_0x3e4281;throw this[_0x38b037(0x876)][_0x38b037(0x790)](this[_0x38b037(0x217)]+'\x20('+this[_0x38b037(0x30f)][_0x38b037(0x744)]+'):\x20'+_0x38ca5b),new w(_0x38ca5b);}}async['editChat'](_0x44309d){const _0x39af77=a0_0x15f0ef;console[_0x39af77(0x884)](_0x44309d);try{_0x44309d['_id']=this[_0x39af77(0x514)](_0x44309d[_0x39af77(0x718)]);let _0x249aee=await this[_0x39af77(0x868)]['chat'][_0x39af77(0x2f1)]({'where':{'_id':_0x44309d[_0x39af77(0x718)]}},this['instance'][_0x39af77(0x744)]);if(!_0x249aee)throw new w('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x2e6c70,leadInfo:_0x329688}=_0x44309d;if(!_0x2e6c70)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x44309d['delete']===_0x39af77(0x45e))return await this[_0x39af77(0x521)](_0x44309d[_0x39af77(0x718)]),await this[_0x39af77(0x868)][_0x39af77(0x79b)][_0x39af77(0x439)]({'where':{'_id':_0x44309d[_0x39af77(0x718)]}},this[_0x39af77(0x30f)][_0x39af77(0x744)]),await this['repository'][_0x39af77(0x488)][_0x39af77(0x439)]({'where':{'key':{'remoteJid':_0x44309d['_id']}}},this[_0x39af77(0x30f)][_0x39af77(0x744)]),_0x44309d=await this[_0x39af77(0x868)][_0x39af77(0x79b)][_0x39af77(0x218)]({'where':{'_id':_0x44309d[_0x39af77(0x718)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x39af77(0x30f)][_0x39af77(0x744)]),J(this[_0x39af77(0x217)],_0x39af77(0x2c6),{'chat':_0x44309d}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x44309d[_0x39af77(0x439)]===_0x39af77(0x265))return await this['repository']['message']['delete']({'where':{'key':{'remoteJid':_0x44309d['_id']}}},this[_0x39af77(0x30f)][_0x39af77(0x744)]),_0x44309d=await this[_0x39af77(0x868)][_0x39af77(0x79b)][_0x39af77(0x218)]({'where':{'_id':_0x44309d[_0x39af77(0x718)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x39af77(0x30f)][_0x39af77(0x744)]),J(this[_0x39af77(0x217)],_0x39af77(0x2c6),{'chat':_0x44309d}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x1d4b3a=(_0x3c8724,_0xfa992b,_0x40e561)=>{const _0x25425f=_0x39af77;_0x3c8724&&_0x40e561[_0x25425f(0x40e)](_0x421d44=>{_0x3c8724[_0x421d44]!==void 0x0&&(_0xfa992b['leadInfo.'+_0x421d44]=_0x3c8724[_0x421d44]);});},_0x4d6e1c={};if(_0x329688&&(_0x1d4b3a(_0x329688,_0x4d6e1c,[_0x39af77(0x540),'nomecompleto',_0x39af77(0x5f6),_0x39af77(0x691),_0x39af77(0x60a),_0x39af77(0x22c),_0x39af77(0x688),'atendimentoAberto',_0x39af77(0x769),'etiquetas']),Array[_0x39af77(0x1de)](_0x329688[_0x39af77(0x824)])&&(_0x4d6e1c['leadInfo.customFields']=_0x329688[_0x39af77(0x824)][_0x39af77(0x684)](_0x160501=>({'_id':_0x160501['_id'],'value':_0x160501[_0x39af77(0x4e6)]}))),_0x44309d[_0x39af77(0x303)][_0x39af77(0x5a7)]!==void 0x0)){let _0x1a5ba3=await this[_0x39af77(0x868)][_0x39af77(0x489)][_0x39af77(0x585)]({'where':{}},this[_0x39af77(0x30f)][_0x39af77(0x744)]),_0x1a09ae=new Set(_0x44309d[_0x39af77(0x303)][_0x39af77(0x5a7)]||[]),_0x4d5682=new Set(_0x44309d[_0x39af77(0x303)][_0x39af77(0x5a7)]),_0x1571fe=new Set(_0x1a5ba3[_0x39af77(0x684)](_0xfbd63=>_0xfbd63[_0x39af77(0x718)])),_0x5a3745=[..._0x4d5682][_0x39af77(0x58a)](_0x497c4c=>!_0x1a09ae[_0x39af77(0x51d)](_0x497c4c)&&_0x1571fe[_0x39af77(0x51d)](_0x497c4c)),_0x284a7a=[..._0x1a09ae][_0x39af77(0x58a)](_0x229fd9=>!_0x4d5682['has'](_0x229fd9));if(_0x4d6e1c[_0x39af77(0x29e)]=[..._0x1a09ae],_0x249aee&&!_0x249aee['imported']){for(let _0x4a276f of _0x5a3745)await this[_0x39af77(0x270)](_0x4a276f,_0x44309d[_0x39af77(0x718)]),_0x1a09ae[_0x39af77(0x25e)](_0x4a276f);for(let _0x4c41f8 of _0x284a7a)await this[_0x39af77(0x34d)](_0x4c41f8,_0x44309d['_id']),_0x1a09ae[_0x39af77(0x439)](_0x4c41f8);}}if(_0x44309d[_0x39af77(0x5b6)]!==void 0x0&&(_0x4d6e1c['unreadcount']=Number(_0x44309d[_0x39af77(0x5b6)])),Object[_0x39af77(0x6e6)](_0x4d6e1c)[_0x39af77(0x272)]===0x0)throw new Error(_0x39af77(0x35d));let _0x31f1e7=await this[_0x39af77(0x868)][_0x39af77(0x79b)][_0x39af77(0x218)]({'where':{'_id':_0x44309d[_0x39af77(0x718)]}},_0x4d6e1c,this[_0x39af77(0x30f)]['wuid']);return _0x31f1e7&&J(this[_0x39af77(0x217)],'chats',{'chat':_0x31f1e7}),_0x31f1e7?(this[_0x39af77(0x876)]['verbose'](this[_0x39af77(0x217)]+'\x20('+this[_0x39af77(0x30f)][_0x39af77(0x744)]+_0x39af77(0x603)+JSON[_0x39af77(0x7a3)](_0x31f1e7,null,0x2)),_0x31f1e7):{'message':_0x39af77(0x5f7)};}catch(_0x4d4bdd){let _0x1a2784='Erro\x20ao\x20editar\x20o\x20chat',_0x7e69ab=_0x4d4bdd instanceof Error?_0x4d4bdd[_0x39af77(0x488)]:typeof _0x4d4bdd==_0x39af77(0x84f)?JSON[_0x39af77(0x7a3)](_0x4d4bdd):_0x4d4bdd,_0x1cedd3=_0x1a2784+':\x20'+_0x7e69ab;throw this[_0x39af77(0x876)][_0x39af77(0x790)](this[_0x39af77(0x217)]+'\x20('+this[_0x39af77(0x30f)][_0x39af77(0x744)]+_0x39af77(0x603)+_0x1cedd3),new w(_0x1cedd3);}}async['AddChatLabel'](_0x4513e0,_0x4acfff){const _0x4e176a=a0_0x15f0ef;try{await this[_0x4e176a(0x7cf)]['addChatLabel'](_0x4acfff,_0x4513e0),console[_0x4e176a(0x884)](_0x4e176a(0x6eb)+_0x4513e0+'\x20adicionado\x20ao\x20chat\x20'+_0x4acfff+_0x4e176a(0x38f));}catch(_0x28056a){console[_0x4e176a(0x790)](_0x4e176a(0x7f0)+_0x4513e0+_0x4e176a(0x33f)+_0x4acfff+':',_0x28056a);}}async['RemoveChatLabel'](_0x13fd12,_0x17044b){const _0x3e0c9f=a0_0x15f0ef;try{await this['client']['removeChatLabel'](_0x17044b,_0x13fd12),console[_0x3e0c9f(0x884)](_0x3e0c9f(0x6eb)+_0x13fd12+_0x3e0c9f(0x812)+_0x17044b+_0x3e0c9f(0x38f));}catch(_0x5037c2){console[_0x3e0c9f(0x790)]('Erro\x20ao\x20remover\x20label\x20'+_0x13fd12+_0x3e0c9f(0x361)+_0x17044b+':',_0x5037c2);}}async[a0_0x15f0ef(0x557)](_0x4657f4){const _0x172692=a0_0x15f0ef;try{let _0x5cde95=await this['repository'][_0x172692(0x232)][_0x172692(0x6b2)](this[_0x172692(0x30f)][_0x172692(0x744)]),_0x19907e=_0x4657f4[_0x172692(0x718)]?_0x5cde95[_0x172692(0x7be)][_0x172692(0x794)](_0x290147=>_0x290147[_0x172692(0x718)]===_0x4657f4[_0x172692(0x718)]):-0x1;if(_0x4657f4[_0x172692(0x439)]&&_0x19907e>-0x1)_0x5cde95['agents'][_0x172692(0x7f4)](_0x19907e,0x1);else{if(_0x19907e>-0x1){let _0x434cbe=_0x5cde95[_0x172692(0x7be)][_0x19907e];_0x4657f4[_0x172692(0x899)]&&(_0x434cbe[_0x172692(0x899)]=_0x4657f4['fone']),_0x4657f4[_0x172692(0x2c9)]&&(_0x434cbe[_0x172692(0x2c9)]=_0x4657f4[_0x172692(0x2c9)]),_0x4657f4[_0x172692(0x5f6)]&&(_0x434cbe[_0x172692(0x5f6)]=_0x4657f4[_0x172692(0x5f6)]),_0x4657f4['role']&&(_0x434cbe[_0x172692(0x6bf)]=_0x4657f4[_0x172692(0x6bf)]);}else _0x5cde95[_0x172692(0x7be)][_0x172692(0x21e)]({'_id':_0x4657f4['_id']||new le[(_0x172692(0x6bb))][(_0x172692(0x316))][(_0x172692(0x701))]()[_0x172692(0x5f0)](),'fone':_0x4657f4[_0x172692(0x899)],'name':_0x4657f4[_0x172692(0x2c9)],'email':_0x4657f4[_0x172692(0x5f6)],'role':_0x4657f4['role']});}let _0x4ed737={'agents':_0x5cde95[_0x172692(0x7be)]},_0x2e44ec=await this[_0x172692(0x868)][_0x172692(0x232)][_0x172692(0x429)](_0x4ed737,this[_0x172692(0x30f)][_0x172692(0x744)]);return this['AutomateSystem']=_0x2e44ec,this[_0x172692(0x876)][_0x172692(0x636)](this[_0x172692(0x217)]+'\x20('+this['instance']['wuid']+_0x172692(0x20c)),this['logger'][_0x172692(0x636)](this[_0x172692(0x217)]+'\x20('+this[_0x172692(0x30f)][_0x172692(0x744)]+_0x172692(0x603)+this['AutomateSystem']),_0x2e44ec;}catch(_0x316f78){let _0x92ae67=_0x172692(0x2f7),_0x53b1be=_0x316f78 instanceof Error?_0x316f78[_0x172692(0x488)]:typeof _0x316f78==_0x172692(0x84f)?JSON[_0x172692(0x7a3)](_0x316f78):_0x316f78,_0x3a3039=_0x92ae67+':\x20'+_0x53b1be;throw this[_0x172692(0x876)]['error'](this['instanceName']+'\x20('+this[_0x172692(0x30f)][_0x172692(0x744)]+_0x172692(0x603)+_0x3a3039),new w(_0x3a3039);}}async[a0_0x15f0ef(0x445)](_0x57205d){const _0x54e80c=a0_0x15f0ef;try{let _0x55c435=await this[_0x54e80c(0x868)][_0x54e80c(0x232)][_0x54e80c(0x6b2)](this[_0x54e80c(0x30f)]['wuid']),_0x52016b=_0x57205d[_0x54e80c(0x718)]?_0x55c435[_0x54e80c(0x824)]['findIndex'](_0x143635=>_0x143635[_0x54e80c(0x718)]===_0x57205d[_0x54e80c(0x718)]):-0x1,_0x394aea=!0x1,_0x17271=_0x55c435[_0x54e80c(0x824)][_0x54e80c(0x4f9)](_0x1a6268=>_0x1a6268[_0x54e80c(0x74b)]===_0x57205d['order']);if(_0x57205d[_0x54e80c(0x439)]&&_0x52016b>-0x1)_0x55c435['customFields']['splice'](_0x52016b,0x1),_0x394aea=!0x0;else{if(_0x52016b>-0x1){if(_0x55c435['customFields'][_0x54e80c(0x4f9)](_0x391d03=>_0x391d03[_0x54e80c(0x2c9)]===_0x57205d[_0x54e80c(0x2c9)]&&_0x391d03[_0x54e80c(0x718)]!==_0x57205d[_0x54e80c(0x718)]))throw new Error(_0x54e80c(0x26d));let _0x30ebfb=_0x55c435['customFields'][_0x52016b];_0x57205d['order']&&(_0x17271||!Number[_0x54e80c(0x371)](_0x57205d[_0x54e80c(0x74b)]))&&(_0x30ebfb[_0x54e80c(0x74b)]=_0x57205d['order'],_0x394aea=!0x0),_0x57205d[_0x54e80c(0x2c9)]&&(_0x30ebfb[_0x54e80c(0x2c9)]=_0x57205d[_0x54e80c(0x2c9)]);}else{if(_0x55c435[_0x54e80c(0x824)][_0x54e80c(0x4f9)](_0x1df0c9=>_0x1df0c9['name']===_0x57205d[_0x54e80c(0x2c9)]&&_0x1df0c9['_id']!==_0x57205d[_0x54e80c(0x718)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x55c435[_0x54e80c(0x824)]['push']({'_id':_0x57205d['_id']||new le['default'][(_0x54e80c(0x316))]['ObjectId']()['toString'](),'order':_0x57205d[_0x54e80c(0x74b)],'name':_0x57205d['name']}),_0x394aea=!0x0;}}if(_0x394aea){_0x55c435['customFields'][_0x54e80c(0x239)]((_0x526786,_0x6c37f6)=>_0x526786[_0x54e80c(0x74b)]>_0x6c37f6[_0x54e80c(0x74b)]?0x1:_0x6c37f6[_0x54e80c(0x74b)]>_0x526786[_0x54e80c(0x74b)]?-0x1:0x0);for(let _0x16de66=0x0;_0x16de66<_0x55c435[_0x54e80c(0x824)][_0x54e80c(0x272)];_0x16de66++)_0x55c435[_0x54e80c(0x824)][_0x16de66][_0x54e80c(0x74b)]=_0x16de66+0x1;}let _0x5551fa=await this[_0x54e80c(0x868)]['automateSystem'][_0x54e80c(0x429)](_0x55c435,this[_0x54e80c(0x30f)][_0x54e80c(0x744)]);return this[_0x54e80c(0x276)]=_0x5551fa,this['logger'][_0x54e80c(0x636)](this['instanceName']+'\x20('+this[_0x54e80c(0x30f)][_0x54e80c(0x744)]+_0x54e80c(0x88e)),this[_0x54e80c(0x876)]['verbose'](this[_0x54e80c(0x217)]+'\x20('+this['instance'][_0x54e80c(0x744)]+_0x54e80c(0x603)+this[_0x54e80c(0x276)]),_0x5551fa;}catch(_0x284105){let _0x2d96b8=_0x54e80c(0x315),_0x175f76=_0x284105 instanceof Error?_0x284105[_0x54e80c(0x488)]:typeof _0x284105==_0x54e80c(0x84f)?JSON[_0x54e80c(0x7a3)](_0x284105):_0x284105,_0x4452b4=_0x2d96b8+':\x20'+_0x175f76;throw this[_0x54e80c(0x876)][_0x54e80c(0x790)](this['instanceName']+'\x20('+this[_0x54e80c(0x30f)][_0x54e80c(0x744)]+_0x54e80c(0x603)+_0x4452b4),new w(_0x4452b4);}}async[a0_0x15f0ef(0x377)](_0x5c8d35){const _0x497994=a0_0x15f0ef;try{let _0x217b08=await this[_0x497994(0x868)][_0x497994(0x232)][_0x497994(0x6b2)](this[_0x497994(0x30f)][_0x497994(0x744)]);if(!_0x217b08)throw new Error(_0x497994(0x441));let _0x109c5e={'_id':_0x217b08[_0x497994(0x718)],'flowConfig':{'enabled':_0x5c8d35[_0x497994(0x323)]??_0x217b08[_0x497994(0x650)][_0x497994(0x323)],'ignoreGroups':_0x5c8d35[_0x497994(0x5e5)]??_0x217b08[_0x497994(0x650)][_0x497994(0x5e5)],'prefixCommand':_0x5c8d35[_0x497994(0x35e)]??_0x217b08[_0x497994(0x650)][_0x497994(0x35e)],'stopConversation':_0x5c8d35[_0x497994(0x654)]??_0x217b08['flowConfig']['stopConversation'],'stopMinutes':_0x5c8d35['stopMinutes']??_0x217b08[_0x497994(0x650)][_0x497994(0x7d7)],'stopWhenYouSendMsg':_0x5c8d35['stopWhenYouSendMsg']??_0x217b08['flowConfig'][_0x497994(0x27d)]}},_0x45e845=await this['repository'][_0x497994(0x232)][_0x497994(0x429)](_0x109c5e,this[_0x497994(0x30f)][_0x497994(0x744)]);return this['AutomateSystem']=_0x45e845,this['logger'][_0x497994(0x636)](this[_0x497994(0x217)]+'\x20('+this[_0x497994(0x30f)][_0x497994(0x744)]+_0x497994(0x20c)),this[_0x497994(0x876)][_0x497994(0x636)](this[_0x497994(0x217)]+'\x20('+this[_0x497994(0x30f)]['wuid']+'):\x20'+this[_0x497994(0x276)]),setTimeout(()=>this[_0x497994(0x88c)](),0x7d0),_0x45e845;}catch(_0x3ff4a8){let _0x3313f3=_0x497994(0x37f),_0x4b41e0=_0x3ff4a8 instanceof Error?_0x3ff4a8['message']:typeof _0x3ff4a8==_0x497994(0x84f)?JSON['stringify'](_0x3ff4a8):_0x3ff4a8,_0x3001d9=_0x3313f3+':\x20'+_0x4b41e0;throw this[_0x497994(0x876)][_0x497994(0x790)](this[_0x497994(0x217)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x3001d9),new w(_0x3001d9);}}async[a0_0x15f0ef(0x525)](){const _0x3d99e7=a0_0x15f0ef;try{let _0x180289=await this[_0x3d99e7(0x868)][_0x3d99e7(0x232)][_0x3d99e7(0x6b2)](this['instance'][_0x3d99e7(0x744)]);return this[_0x3d99e7(0x276)]=_0x180289,this['logger'][_0x3d99e7(0x636)](this[_0x3d99e7(0x217)]+'\x20('+this[_0x3d99e7(0x30f)][_0x3d99e7(0x744)]+_0x3d99e7(0x840)),this['logger'][_0x3d99e7(0x636)](this['AutomateSystem']),_0x180289;}catch(_0x473441){let _0x5baca5=_0x3d99e7(0x4d3),_0x571bee=_0x473441 instanceof Error?_0x473441[_0x3d99e7(0x488)]:typeof _0x473441==_0x3d99e7(0x84f)?JSON[_0x3d99e7(0x7a3)](_0x473441):_0x473441,_0x43b57c=_0x5baca5+':\x20'+_0x571bee;throw this[_0x3d99e7(0x876)]['error'](this[_0x3d99e7(0x217)]+'\x20('+this[_0x3d99e7(0x30f)][_0x3d99e7(0x744)]+_0x3d99e7(0x603)+_0x43b57c),new w(_0x43b57c);}}async['setRestartTimeout'](){const _0xe7f36b=a0_0x15f0ef;this['instance'][_0xe7f36b(0x61b)][_0xe7f36b(0x85a)]&&clearTimeout(this[_0xe7f36b(0x30f)][_0xe7f36b(0x61b)]['timeout']),this[_0xe7f36b(0x30f)][_0xe7f36b(0x61b)][_0xe7f36b(0x85a)]=setTimeout(()=>{const _0x28dfb6=_0xe7f36b;this[_0x28dfb6(0x3fc)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x3fff93=a0_0x15f0ef;Date[_0x3fff93(0x3ce)]()-this[_0x3fff93(0x30f)][_0x3fff93(0x61b)][_0x3fff93(0x6e1)]>=0x1d4c0&&(this['logger'][_0x3fff93(0x636)](this[_0x3fff93(0x217)]+'\x20('+this[_0x3fff93(0x30f)]['wuid']+_0x3fff93(0x22a)),this[_0x3fff93(0x30f)][_0x3fff93(0x61b)][_0x3fff93(0x826)]=null,this['instance']['ScheduleMessage'][_0x3fff93(0x6e1)]=0x0,this['instance']['ScheduleMessage'][_0x3fff93(0x7b9)]=0x0,await this[_0x3fff93(0x88c)]());}async['scheduleNextCheck'](){const _0x185214=a0_0x15f0ef;let _0x4c876b=()=>{const _0x4cbed0=a0_0x472b;this[_0x4cbed0(0x876)][_0x4cbed0(0x636)](this[_0x4cbed0(0x217)]+'\x20('+this['instance'][_0x4cbed0(0x744)]+_0x4cbed0(0x53f)+this['instance']['ScheduleMessage']['processing_id']+_0x4cbed0(0x2b5));},_0x58f6ae=async()=>{const _0x5040b1=a0_0x472b;this[_0x5040b1(0x876)][_0x5040b1(0x636)](this['instanceName']+'\x20('+this[_0x5040b1(0x30f)][_0x5040b1(0x744)]+_0x5040b1(0x693));let _0x3d95b5=Date[_0x5040b1(0x3ce)]()-0xc*0x3c*0x3c*0x3e8,_0x2e78a4={'where':{'status':{'$in':[_0x5040b1(0x448),_0x5040b1(0x363)]},'$or':[{'when':{'$lte':Date[_0x5040b1(0x3ce)](),'$gte':_0x3d95b5}},{'when':0x0}]}};return await this[_0x5040b1(0x868)][_0x5040b1(0x63e)][_0x5040b1(0x585)](_0x2e78a4,this[_0x5040b1(0x30f)][_0x5040b1(0x744)]);},_0x292296=async _0x48693c=>{const _0x1686c0=a0_0x472b;for(let _0x2d2974 of _0x48693c){let _0x5446f9={'_id':_0x2d2974['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1686c0(0x3ce)]()-0x1770}}]},_0xb6c5ea={'startSend':Date[_0x1686c0(0x3ce)]()};if(!await this[_0x1686c0(0x868)][_0x1686c0(0x63e)][_0x1686c0(0x218)](_0x5446f9,_0xb6c5ea,this['instance'][_0x1686c0(0x744)]))return;if(!this[_0x1686c0(0x30f)][_0x1686c0(0x61b)]['isConnected']){this['logger'][_0x1686c0(0x636)](this['instanceName']+'\x20('+this['instance'][_0x1686c0(0x744)]+_0x1686c0(0x727));break;}if(_0x2d2974[_0x1686c0(0x483)]===_0x1686c0(0x384)&&!this[_0x1686c0(0x276)]?.[_0x1686c0(0x650)]['enabled']){this[_0x1686c0(0x876)]['error'](this[_0x1686c0(0x217)]+'\x20('+this[_0x1686c0(0x30f)][_0x1686c0(0x744)]+_0x1686c0(0x314));continue;}(!_0x2d2974['remoteJidsRemaining']||_0x2d2974[_0x1686c0(0x1fa)]['length']===0x0)&&(_0x2d2974=await this[_0x1686c0(0x868)]['scheduleMessage'][_0x1686c0(0x43d)](_0x2d2974[_0x1686c0(0x718)],{'status':'sending','remoteJidsRemaining':[..._0x2d2974[_0x1686c0(0x27e)]]},this[_0x1686c0(0x30f)][_0x1686c0(0x744)]));for(let _0x3decf9 of _0x2d2974[_0x1686c0(0x1fa)]){if(await this[_0x1686c0(0x5cd)](),this[_0x1686c0(0x30f)][_0x1686c0(0x61b)][_0x1686c0(0x6e1)]=Date['now'](),this[_0x1686c0(0x30f)][_0x1686c0(0x61b)]['ultimaTentativaRemoteJid']===_0x3decf9){this['logger'][_0x1686c0(0x790)](this['instanceName']+'\x20('+this[_0x1686c0(0x30f)]['wuid']+_0x1686c0(0x328)+_0x3decf9+_0x1686c0(0x3ff));let _0x244210={'$push':{'messagesSend':{'remoteJid':_0x3decf9,'error':!0x0,'id':null,'error_log':_0x1686c0(0x661),'log_timestamp':Date[_0x1686c0(0x3ce)]()}},'$pull':{'remoteJidsRemaining':_0x3decf9}};await this[_0x1686c0(0x868)][_0x1686c0(0x63e)][_0x1686c0(0x43d)](_0x2d2974[_0x1686c0(0x718)],_0x244210,this[_0x1686c0(0x30f)]['wuid']);continue;}if(this[_0x1686c0(0x30f)]['ScheduleMessage'][_0x1686c0(0x6d0)]=_0x3decf9,_0x2d2974[_0x1686c0(0x2a5)][_0x1686c0(0x4f9)](_0x3b317a=>_0x3b317a[_0x1686c0(0x350)]===_0x3decf9)){this[_0x1686c0(0x876)]['verbose'](this[_0x1686c0(0x217)]+'\x20('+this[_0x1686c0(0x30f)][_0x1686c0(0x744)]+_0x1686c0(0x26a)+_0x3decf9+'.\x20Pulando.');continue;}if(!this[_0x1686c0(0x30f)][_0x1686c0(0x61b)][_0x1686c0(0x768)]){this[_0x1686c0(0x876)]['verbose'](this[_0x1686c0(0x217)]+'\x20('+this[_0x1686c0(0x30f)][_0x1686c0(0x744)]+_0x1686c0(0x819));break;}if(!this['instance'][_0x1686c0(0x61b)]['processing_id']){this[_0x1686c0(0x876)][_0x1686c0(0x636)](this[_0x1686c0(0x217)]+'\x20('+this[_0x1686c0(0x30f)][_0x1686c0(0x744)]+_0x1686c0(0x63a)+_0x2d2974['_id']+_0x1686c0(0x401));break;}if(_0x2d2974[_0x1686c0(0x483)]===_0x1686c0(0x384)&&!this[_0x1686c0(0x276)]?.['flowConfig']['enabled']){this[_0x1686c0(0x876)][_0x1686c0(0x790)](this[_0x1686c0(0x217)]+'\x20('+this[_0x1686c0(0x30f)][_0x1686c0(0x744)]+_0x1686c0(0x314));break;}let _0x3ea7a9={'remoteJid':_0x3decf9,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x4dd16e=null;try{let _0x107ded=await this[_0x1686c0(0x64f)](_0x3decf9,_0x2d2974);_0x3ea7a9[_0x1686c0(0x790)]=_0x107ded[_0x1686c0(0x790)],_0x3ea7a9['id']=_0x107ded[_0x1686c0(0x790)]?null:_0x107ded['id'],_0x3ea7a9[_0x1686c0(0x724)]=_0x107ded[_0x1686c0(0x790)]?_0x107ded['detail']?_0x107ded[_0x1686c0(0x55a)][_0x1686c0(0x5f0)]():'':null;let _0x346cb7={'$push':{'messagesSend':_0x3ea7a9},'$pull':{'remoteJidsRemaining':_0x3decf9}},_0x205d0c=_0x2d2974['_id'];if(_0x4dd16e=await this[_0x1686c0(0x868)][_0x1686c0(0x63e)][_0x1686c0(0x43d)](_0x205d0c,_0x346cb7,this['instance'][_0x1686c0(0x744)]),_0x107ded[_0x1686c0(0x790)])continue;let _0x50383e=this[_0x1686c0(0x6b5)](_0x2d2974[_0x1686c0(0x7d8)],_0x2d2974[_0x1686c0(0x73a)]);await this[_0x1686c0(0x292)](_0x50383e);}catch(_0x10dc5b){this[_0x1686c0(0x876)][_0x1686c0(0x790)](this[_0x1686c0(0x217)]+'\x20('+this['instance'][_0x1686c0(0x744)]+_0x1686c0(0x717)+_0x3decf9+':\x20'+(_0x10dc5b instanceof Error?_0x10dc5b[_0x1686c0(0x488)]:JSON['stringify'](_0x10dc5b,null,0x2))),_0x3ea7a9[_0x1686c0(0x790)]=!0x0,_0x3ea7a9[_0x1686c0(0x724)]=_0x10dc5b['message'];let _0x445b3f={'$push':{'messagesSend':_0x3ea7a9},'$pull':{'remoteJidsRemaining':_0x3decf9}},_0x559e29=_0x2d2974['_id'];_0x4dd16e=await this[_0x1686c0(0x868)][_0x1686c0(0x63e)][_0x1686c0(0x43d)](_0x559e29,_0x445b3f,this['instance']['wuid']);}finally{if(_0x4dd16e&&_0x4dd16e[_0x1686c0(0x60a)]===_0x1686c0(0x60c)){this[_0x1686c0(0x876)][_0x1686c0(0x636)](this['instanceName']+'\x20('+this['instance'][_0x1686c0(0x744)]+_0x1686c0(0x63a)+_0x2d2974['_id']+_0x1686c0(0x6d3));break;}}}let _0x385099=await this['repository'][_0x1686c0(0x63e)]['findById'](_0x2d2974[_0x1686c0(0x718)],this[_0x1686c0(0x30f)][_0x1686c0(0x744)]);if(_0x385099[_0x1686c0(0x1fa)][_0x1686c0(0x272)]===0x0&&_0x385099[_0x1686c0(0x60a)]!=='stopped'){this[_0x1686c0(0x30f)][_0x1686c0(0x61b)][_0x1686c0(0x6d0)]=null;let _0x18db6a={'$set':{'status':_0x1686c0(0x280)}},_0x3e1da6=_0x385099[_0x1686c0(0x718)];await this[_0x1686c0(0x868)]['scheduleMessage'][_0x1686c0(0x43d)](_0x3e1da6,_0x18db6a,this[_0x1686c0(0x30f)][_0x1686c0(0x744)]);}await new Promise(_0x3afb46=>setTimeout(_0x3afb46,0x1388));}},_0x41162c=async()=>{const _0x2519f9=a0_0x472b;let _0x218011={'where':{'status':_0x2519f9(0x448),'when':{'$gt':Date['now']()}}},_0x3ad843=await this[_0x2519f9(0x868)][_0x2519f9(0x63e)][_0x2519f9(0x2f1)](_0x218011,this[_0x2519f9(0x30f)][_0x2519f9(0x744)]);_0x3ad843&&_0x3ad843[_0x2519f9(0x4e9)]-Date[_0x2519f9(0x3ce)]()<=0x5265c00?this[_0x2519f9(0x30f)][_0x2519f9(0x61b)][_0x2519f9(0x7b9)]=_0x3ad843['when']-Date[_0x2519f9(0x3ce)]():this[_0x2519f9(0x30f)]['ScheduleMessage'][_0x2519f9(0x7b9)]=(0x3c+Math['floor'](Math[_0x2519f9(0x755)]()*0x3c))*0x3c*0x3e8,this[_0x2519f9(0x30f)]['ScheduleMessage'][_0x2519f9(0x7b9)]=Math['max'](this[_0x2519f9(0x30f)][_0x2519f9(0x61b)]['delayMessage'],0x7d0);let _0x2d445d=Math[_0x2519f9(0x4a5)](this[_0x2519f9(0x30f)][_0x2519f9(0x61b)][_0x2519f9(0x7b9)]/0xea60);if(_0x3ad843){let _0x49919b=new Date(_0x3ad843[_0x2519f9(0x4e9)])['toLocaleString']();this[_0x2519f9(0x876)]['verbose'](this[_0x2519f9(0x217)]+'\x20('+this[_0x2519f9(0x30f)][_0x2519f9(0x744)]+_0x2519f9(0x2b1)+_0x49919b+_0x2519f9(0x792)+_0x2d445d+'\x20minutos');}else this['logger']['verbose'](this[_0x2519f9(0x217)]+'\x20('+this[_0x2519f9(0x30f)][_0x2519f9(0x744)]+_0x2519f9(0x6f3)+_0x2d445d+_0x2519f9(0x882));setTimeout(()=>this[_0x2519f9(0x88c)](),this['instance'][_0x2519f9(0x61b)]['delayMessage']);};if(this[_0x185214(0x30f)][_0x185214(0x61b)]['processing_id']){await this[_0x185214(0x5cd)](),_0x4c876b();return;}if(!this['instance'][_0x185214(0x61b)][_0x185214(0x768)]){this[_0x185214(0x876)][_0x185214(0x636)](this[_0x185214(0x217)]+'\x20('+this[_0x185214(0x30f)][_0x185214(0x744)]+_0x185214(0x5fd)),this[_0x185214(0x30f)][_0x185214(0x61b)][_0x185214(0x826)]=null,this[_0x185214(0x30f)][_0x185214(0x61b)][_0x185214(0x6e1)]=0x0,this[_0x185214(0x30f)][_0x185214(0x61b)][_0x185214(0x7b9)]=0x0,this[_0x185214(0x30f)][_0x185214(0x61b)][_0x185214(0x6d0)]=null;return;}try{let _0x16c30f=await _0x58f6ae();_0x16c30f[_0x185214(0x272)]===0x0?this[_0x185214(0x876)][_0x185214(0x636)](this[_0x185214(0x217)]+'\x20('+this[_0x185214(0x30f)]['wuid']+_0x185214(0x4c4)):(this[_0x185214(0x30f)][_0x185214(0x61b)][_0x185214(0x826)]=_0x16c30f[0x0][_0x185214(0x718)],await _0x292296(_0x16c30f)),await _0x41162c(),this[_0x185214(0x30f)][_0x185214(0x61b)][_0x185214(0x826)]=null,this[_0x185214(0x30f)][_0x185214(0x61b)][_0x185214(0x6d0)]=null;}catch(_0x1a1021){this['logger'][_0x185214(0x790)](_0x185214(0x785)+(_0x1a1021 instanceof Error?_0x1a1021[_0x185214(0x488)]:JSON[_0x185214(0x7a3)](_0x1a1021,null,0x2)));}}['getDelay'](_0x3c8c6e,_0x33076a){const _0x16c846=a0_0x15f0ef;return _0x3c8c6e=Math['max'](0.5,_0x3c8c6e),_0x33076a=Math[_0x16c846(0x629)](Math['max'](0x3,_0x33076a),0x78),Math[_0x16c846(0x34a)](Math['random']()*(_0x33076a-_0x3c8c6e+0x1)+_0x3c8c6e)*0x3e8;}[a0_0x15f0ef(0x292)](_0x327a64){return new Promise(_0x4ec5cf=>setTimeout(_0x4ec5cf,_0x327a64));}async[a0_0x15f0ef(0x7fb)](_0xe5d1d3){const _0x188f9a=a0_0x15f0ef;if(!this[_0x188f9a(0x276)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0xe5d1d3=this['createJid'](_0xe5d1d3);let _0x2d3abe=await this[_0x188f9a(0x868)]['chat'][_0x188f9a(0x2f1)]({'where':{'_id':_0xe5d1d3}},this['instance'][_0x188f9a(0x744)]),_0x21dbd2={};if(_0x2d3abe&&_0x2d3abe[_0x188f9a(0x303)]){let _0x4ba0b0=_0x2d3abe[_0x188f9a(0x303)];typeof _0x4ba0b0[_0x188f9a(0x540)]==_0x188f9a(0x692)&&(_0x21dbd2[_0x188f9a(0x540)]=_0x4ba0b0[_0x188f9a(0x540)]),typeof _0x4ba0b0[_0x188f9a(0x25a)]=='string'&&(_0x21dbd2['nomecompleto']=_0x4ba0b0['nomecompleto']),typeof _0x4ba0b0['email']==_0x188f9a(0x692)&&(_0x21dbd2[_0x188f9a(0x5f6)]=_0x4ba0b0[_0x188f9a(0x5f6)]),typeof _0x4ba0b0[_0x188f9a(0x691)]==_0x188f9a(0x692)&&(_0x21dbd2[_0x188f9a(0x691)]=_0x4ba0b0[_0x188f9a(0x691)]),typeof _0x4ba0b0['status']==_0x188f9a(0x692)&&(_0x21dbd2[_0x188f9a(0x60a)]=_0x4ba0b0[_0x188f9a(0x60a)]),typeof _0x4ba0b0[_0x188f9a(0x22c)]=='string'&&(_0x21dbd2[_0x188f9a(0x22c)]=_0x4ba0b0[_0x188f9a(0x22c)]),typeof _0x4ba0b0['responsavelid']==_0x188f9a(0x692)&&(_0x21dbd2[_0x188f9a(0x769)]=_0x4ba0b0[_0x188f9a(0x769)]),Array[_0x188f9a(0x1de)](_0x4ba0b0[_0x188f9a(0x688)])&&(_0x21dbd2[_0x188f9a(0x688)]=_0x4ba0b0[_0x188f9a(0x688)][_0x188f9a(0x224)](',\x20')),Array['isArray'](_0x4ba0b0[_0x188f9a(0x5a7)])&&(_0x21dbd2[_0x188f9a(0x5a7)]=_0x4ba0b0[_0x188f9a(0x5a7)][_0x188f9a(0x224)](',\x20'));}return _0x2d3abe&&_0x2d3abe[_0x188f9a(0x303)]&&_0x2d3abe[_0x188f9a(0x303)][_0x188f9a(0x824)]&&_0x2d3abe[_0x188f9a(0x303)]['customFields'][_0x188f9a(0x40e)](_0xd824e5=>{const _0x457bf8=_0x188f9a;let _0x31510e=this[_0x457bf8(0x276)]?.[_0x457bf8(0x824)][_0x457bf8(0x585)](_0x40ea19=>_0x40ea19[_0x457bf8(0x718)]===_0xd824e5['_id']);_0x31510e&&(_0x21dbd2[_0x31510e['name']]=_0xd824e5[_0x457bf8(0x4e6)]);}),_0x21dbd2;}async[a0_0x15f0ef(0x2f9)](_0x15d5c8,_0x5a4f0b){const _0x39f00e=a0_0x15f0ef;try{let _0x11dbb8=await this[_0x39f00e(0x7fb)](_0x5a4f0b);return this['replaceVariables'](_0x15d5c8,_0x11dbb8);}catch(_0x587fa2){return this[_0x39f00e(0x876)][_0x39f00e(0x790)](_0x39f00e(0x3d9)+_0x5a4f0b+':\x20'+_0x587fa2),_0x15d5c8;}}async[a0_0x15f0ef(0x7d5)](_0x305243){const _0x5edf10=a0_0x15f0ef;try{if(this[_0x5edf10(0x876)][_0x5edf10(0x636)](this[_0x5edf10(0x217)]+'\x20('+this[_0x5edf10(0x30f)][_0x5edf10(0x744)]+'):\x20Edit\x20schedule\x20message...'),_0x305243[_0x5edf10(0x439)]&&_0x305243[_0x5edf10(0x718)]){if(this['instance']['ScheduleMessage'][_0x5edf10(0x826)]===_0x305243['_id']['toString']())throw new Error(_0x5edf10(0x841));let _0x2dfdb5=await this['repository']['scheduleMessage'][_0x5edf10(0x3b5)](_0x305243[_0x5edf10(0x718)],this[_0x5edf10(0x30f)][_0x5edf10(0x744)]);return setTimeout(()=>this[_0x5edf10(0x88c)](),0x7d0),_0x2dfdb5;}let _0x4bcc18;if(_0x305243[_0x5edf10(0x718)]&&(_0x4bcc18=await this[_0x5edf10(0x868)][_0x5edf10(0x63e)]['findById'](_0x305243[_0x5edf10(0x718)],this[_0x5edf10(0x30f)][_0x5edf10(0x744)])),_0x4bcc18){let _0x582784;if(this[_0x5edf10(0x30f)][_0x5edf10(0x61b)][_0x5edf10(0x826)]===_0x4bcc18[_0x5edf10(0x718)][_0x5edf10(0x5f0)]())_0x582784={'$set':{'status':_0x305243[_0x5edf10(0x60a)]}};else{let {_id:_0x419a0f,..._0x286f19}=_0x305243;_0x582784={'$set':_0x286f19};}let _0x1674f9=await this[_0x5edf10(0x868)][_0x5edf10(0x63e)][_0x5edf10(0x43d)](_0x305243['_id'],_0x582784,this[_0x5edf10(0x30f)]['wuid']);return setTimeout(()=>this[_0x5edf10(0x88c)](),0x7d0),_0x1674f9;}else{_0x305243[_0x5edf10(0x2b6)]=this[_0x5edf10(0x30f)]['wuid'];let _0x8f01c1=await this[_0x5edf10(0x868)][_0x5edf10(0x63e)][_0x5edf10(0x604)](_0x305243,this[_0x5edf10(0x30f)][_0x5edf10(0x744)]);return setTimeout(()=>this[_0x5edf10(0x88c)](),0x7d0),_0x8f01c1;}}catch(_0x45e8f5){let _0x7369b7='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x5a842e=_0x45e8f5 instanceof Error?_0x45e8f5['message']:typeof _0x45e8f5==_0x5edf10(0x84f)?JSON[_0x5edf10(0x7a3)](_0x45e8f5):_0x45e8f5,_0x2d0e06=_0x7369b7+':\x20'+_0x5a842e;throw this['logger'][_0x5edf10(0x790)](this[_0x5edf10(0x217)]+'\x20('+this['instance'][_0x5edf10(0x744)]+_0x5edf10(0x603)+_0x2d0e06),new w(_0x2d0e06);}}async['getScheduleMessage'](){const _0x2aa7f4=a0_0x15f0ef;try{return await this[_0x2aa7f4(0x868)][_0x2aa7f4(0x63e)][_0x2aa7f4(0x585)]({'where':{}},this[_0x2aa7f4(0x30f)][_0x2aa7f4(0x744)]);}catch(_0x1416d7){let _0x3d31de=_0x2aa7f4(0x5f2),_0x49a529=_0x1416d7 instanceof Error?_0x1416d7[_0x2aa7f4(0x488)]:typeof _0x1416d7=='object'?JSON['stringify'](_0x1416d7):_0x1416d7,_0xf6edc1=_0x3d31de+':\x20'+_0x49a529;throw this['logger'][_0x2aa7f4(0x790)](this[_0x2aa7f4(0x217)]+'\x20('+this[_0x2aa7f4(0x30f)][_0x2aa7f4(0x744)]+_0x2aa7f4(0x603)+_0xf6edc1),new w(_0xf6edc1);}}async[a0_0x15f0ef(0x772)](){const _0x9e05c3=a0_0x15f0ef;try{let _0x180da5={'status':_0x9e05c3(0x280)},_0x2adb69=await this['repository'][_0x9e05c3(0x63e)][_0x9e05c3(0x4a7)](_0x180da5,this[_0x9e05c3(0x30f)]['wuid']);if(!_0x2adb69[_0x9e05c3(0x790)])this[_0x9e05c3(0x876)]['verbose'](this[_0x9e05c3(0x217)]+'\x20('+this['instance']['wuid']+_0x9e05c3(0x2c1));else throw new Error(_0x2adb69[_0x9e05c3(0x790)][_0x9e05c3(0x488)]||_0x9e05c3(0x590));return this[_0x9e05c3(0x3a1)]();}catch(_0x541d55){let _0x3ff2da=_0x9e05c3(0x745),_0x3f1326=_0x541d55 instanceof Error?_0x541d55['message']:typeof _0x541d55==_0x9e05c3(0x84f)?JSON[_0x9e05c3(0x7a3)](_0x541d55):_0x541d55,_0x41b3ec=_0x3ff2da+':\x20'+_0x3f1326;throw this[_0x9e05c3(0x876)][_0x9e05c3(0x790)](this[_0x9e05c3(0x217)]+'\x20('+this[_0x9e05c3(0x30f)][_0x9e05c3(0x744)]+_0x9e05c3(0x603)+_0x41b3ec),new w(_0x41b3ec);}}async[a0_0x15f0ef(0x64f)](_0x5bed18,_0x10f17c){const _0x4deaa7=a0_0x15f0ef;try{if(_0x10f17c[_0x4deaa7(0x483)]===_0x4deaa7(0x384)&&!this[_0x4deaa7(0x276)]?.['flowConfig'][_0x4deaa7(0x323)])return this['logger']['error'](this[_0x4deaa7(0x217)]+'\x20('+this[_0x4deaa7(0x30f)][_0x4deaa7(0x744)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x4deaa7(0x70f)};switch(_0x10f17c[_0x4deaa7(0x483)]){case _0x4deaa7(0x358):return await this[_0x4deaa7(0x2d5)](_0x10f17c,_0x5bed18);case'media':return await this[_0x4deaa7(0x4a9)](_0x10f17c,_0x5bed18);case _0x4deaa7(0x81d):return await this[_0x4deaa7(0x552)](_0x10f17c,_0x5bed18);case _0x4deaa7(0x384):let _0x2223a8=new je();return _0x2223a8[_0x4deaa7(0x2c9)]=_0x10f17c[_0x4deaa7(0x37c)],_0x2223a8[_0x4deaa7(0x350)]=_0x5bed18,await this[_0x4deaa7(0x528)](_0x2223a8);break;default:return this['logger']['error'](this['instanceName']+'\x20('+this[_0x4deaa7(0x30f)]['wuid']+_0x4deaa7(0x81e)+_0x10f17c[_0x4deaa7(0x483)]),{'error':!0x0,'detail':_0x4deaa7(0x851)};}}catch(_0x4c5504){return this['logger'][_0x4deaa7(0x790)](this[_0x4deaa7(0x217)]+'\x20('+this['instance']['wuid']+_0x4deaa7(0x473)+(_0x4c5504 instanceof Error?_0x4c5504['message']:JSON['stringify'](_0x4c5504,null,0x2))),{'error':!0x0,'detail':_0x4c5504[_0x4deaa7(0x488)]};}}[a0_0x15f0ef(0x208)](_0x547de6){const _0x492548=a0_0x15f0ef;let _0x5d4706=_0x547de6['split']('|'),_0x2dd50b=Math[_0x492548(0x34a)](Math[_0x492548(0x755)]()*_0x5d4706[_0x492548(0x272)]);return _0x5d4706[_0x2dd50b][_0x492548(0x7dc)]();}async[a0_0x15f0ef(0x2d5)](_0x307b2d,_0x3cab29){const _0xd95b64=a0_0x15f0ef;if(this[_0xd95b64(0x876)][_0xd95b64(0x636)](this[_0xd95b64(0x217)]+'\x20('+this[_0xd95b64(0x30f)]['wuid']+'):\x20Enviando\x20texto'),!_0x307b2d[_0xd95b64(0x488)][_0xd95b64(0x358)]||_0x307b2d[_0xd95b64(0x488)]['text'][_0xd95b64(0x272)]===0x0)return{'error':!0x0,'detail':_0xd95b64(0x504)};let _0x4a9ce8=this[_0xd95b64(0x208)](_0x307b2d['message'][_0xd95b64(0x358)]),_0x238b5e=await this[_0xd95b64(0x2f9)](_0x4a9ce8,_0x3cab29),_0x5c9f9f={'number':_0x3cab29,'options':{'delay':_0x307b2d['message'][_0xd95b64(0x799)],'linkPreview':_0x307b2d[_0xd95b64(0x488)]['linkPreview']},'textMessage':{'text':_0x238b5e}},_0x362406=null;try{let _0x27f97f=await this[_0xd95b64(0x478)](_0x5c9f9f);if(_0x27f97f&&_0x27f97f[_0xd95b64(0x60a)])return{'error':!0x1,'id':_0x27f97f[_0xd95b64(0x310)]['id']};_0x362406=JSON[_0xd95b64(0x7a3)](_0x27f97f),this[_0xd95b64(0x876)][_0xd95b64(0x636)](this[_0xd95b64(0x217)]+'\x20('+this[_0xd95b64(0x30f)]['wuid']+_0xd95b64(0x603)+_0x362406);}catch(_0x192b14){this[_0xd95b64(0x876)][_0xd95b64(0x790)](this[_0xd95b64(0x217)]+'\x20('+this['instance'][_0xd95b64(0x744)]+_0xd95b64(0x2d2)+(_0x192b14 instanceof Error?_0x192b14[_0xd95b64(0x488)]:JSON[_0xd95b64(0x7a3)](_0x192b14,null,0x2))),_0x362406=_0x192b14[_0xd95b64(0x488)];}if(_0x362406)return{'error':!0x0,'detail':(typeof _0x362406==_0xd95b64(0x84f)?JSON['stringify'](_0x362406,null,0x2):_0x362406)['replace'](/[\[\]{}\n]/g,'\x20')[_0xd95b64(0x1e1)](/  +/g,'\x20')};}async[a0_0x15f0ef(0x4a9)](_0x46c109,_0xf3f42c){const _0xe627ec=a0_0x15f0ef;this[_0xe627ec(0x876)][_0xe627ec(0x636)](this['instanceName']+'\x20('+this[_0xe627ec(0x30f)]['wuid']+_0xe627ec(0x708));let _0x25a192;if(_0x46c109[_0xe627ec(0x488)][_0xe627ec(0x358)]&&_0x46c109[_0xe627ec(0x488)][_0xe627ec(0x358)][_0xe627ec(0x272)]>0x0){let _0x1cf8e1=this['getRandomText'](_0x46c109[_0xe627ec(0x488)]['text']);_0x25a192=await this[_0xe627ec(0x2f9)](_0x1cf8e1,_0xf3f42c);}let _0x48ddb9={'number':_0xf3f42c,'options':{'delay':_0x46c109[_0xe627ec(0x488)][_0xe627ec(0x799)],'linkPreview':_0x46c109['message']['linkPreview']},'mediaMessage':{'mediatype':_0x46c109['message'][_0xe627ec(0x50a)],'caption':_0x25a192,'media':_0x46c109[_0xe627ec(0x488)]['urlOrBase64']}},_0x322b48=null;try{let _0x2a4a65=await this[_0xe627ec(0x45f)](_0x48ddb9);if(_0x2a4a65&&_0x2a4a65['status'])return{'error':!0x1,'id':_0x2a4a65[_0xe627ec(0x310)]['id']};_0x322b48=JSON[_0xe627ec(0x7a3)](_0x2a4a65),this['logger'][_0xe627ec(0x636)](this['instanceName']+'\x20('+this[_0xe627ec(0x30f)][_0xe627ec(0x744)]+_0xe627ec(0x603)+_0x322b48);}catch(_0x167322){this[_0xe627ec(0x876)][_0xe627ec(0x790)](this[_0xe627ec(0x217)]+'\x20('+this[_0xe627ec(0x30f)][_0xe627ec(0x744)]+_0xe627ec(0x51f)+(_0x167322 instanceof Error?_0x167322['message']:JSON[_0xe627ec(0x7a3)](_0x167322,null,0x2))),_0x322b48=_0x167322[_0xe627ec(0x488)];}if(_0x322b48)return{'error':!0x0,'detail':(typeof _0x322b48=='object'?JSON[_0xe627ec(0x7a3)](_0x322b48,null,0x2):_0x322b48)[_0xe627ec(0x1e1)](/[\[\]{}\n]/g,'\x20')[_0xe627ec(0x1e1)](/  +/g,'\x20')};}async[a0_0x15f0ef(0x552)](_0x1bc5da,_0x26851d){const _0x16c46d=a0_0x15f0ef;this['logger'][_0x16c46d(0x636)](this[_0x16c46d(0x217)]+'\x20('+this[_0x16c46d(0x30f)]['wuid']+_0x16c46d(0x1e5));let _0x2362a4={'number':_0x26851d,'options':{'delay':_0x1bc5da[_0x16c46d(0x488)][_0x16c46d(0x799)]},'audioMessage':{'audio':_0x1bc5da[_0x16c46d(0x488)][_0x16c46d(0x645)]}},_0x46fef4=null;try{let _0x2d6b17=await this[_0x16c46d(0x821)](_0x2362a4);if(_0x2d6b17&&_0x2d6b17[_0x16c46d(0x60a)])return{'error':!0x1,'id':_0x2d6b17['key']['id']};_0x46fef4=JSON[_0x16c46d(0x7a3)](_0x2d6b17),this[_0x16c46d(0x876)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x16c46d(0x603)+_0x46fef4);}catch(_0x3cb8b1){this['logger'][_0x16c46d(0x790)](this[_0x16c46d(0x217)]+'\x20('+this['instance'][_0x16c46d(0x744)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x3cb8b1 instanceof Error?_0x3cb8b1[_0x16c46d(0x488)]:JSON[_0x16c46d(0x7a3)](_0x3cb8b1,null,0x2))),_0x46fef4=_0x3cb8b1[_0x16c46d(0x488)];}if(_0x46fef4)return{'error':!0x0,'detail':(typeof _0x46fef4==_0x16c46d(0x84f)?JSON['stringify'](_0x46fef4,null,0x2):_0x46fef4)['replace'](/[\[\]{}\n]/g,'\x20')[_0x16c46d(0x1e1)](/  +/g,'\x20')};}},Jt=class c{constructor(_0x96df2c,_0x4533ed,_0x3f4062){const _0x330e35=a0_0x15f0ef;this[_0x330e35(0x79c)]=_0x96df2c,this[_0x330e35(0x484)]=_0x4533ed,this[_0x330e35(0x868)]=_0x3f4062,this['db']={},this[_0x330e35(0x4d4)]={},this['logger']=new N(c[_0x330e35(0x2c9)]),this[_0x330e35(0x849)]={},(this['removeInstance'](),this['noConnection'](),Object['assign'](this['db'],_0x4533ed[_0x330e35(0x82b)](_0x330e35(0x274))),Object[_0x330e35(0x6b4)](this[_0x330e35(0x4d4)],_0x4533ed[_0x330e35(0x82b)](_0x330e35(0x53d))),this[_0x330e35(0x2a0)]=this['db']['ENABLED']?this[_0x330e35(0x868)][_0x330e35(0x624)]?.['db'](this['db'][_0x330e35(0x229)]['DB_PREFIX_NAME']+_0x330e35(0x739)):void 0x0,this[_0x330e35(0x73b)]=this[_0x330e35(0x4d4)][_0x330e35(0x796)]?new ne(this[_0x330e35(0x4d4)]):void 0x0);}async['instanceInfo'](_0x1498d9){const _0x128bf7=a0_0x15f0ef;if(_0x1498d9&&!this[_0x128bf7(0x849)][_0x1498d9])throw new F(_0x128bf7(0x6d2)+_0x1498d9+_0x128bf7(0x85b));let _0x49b732=[];for await(let [_0x1a1944,_0xb34042]of Object[_0x128bf7(0x700)](this[_0x128bf7(0x849)]))if(_0xb34042&&_0xb34042[_0x128bf7(0x23c)]['state']===_0x128bf7(0x73f)){let _0x5cf227=await this[_0x128bf7(0x868)]['auth'][_0x128bf7(0x585)](_0x1a1944);_0x49b732[_0x128bf7(0x21e)]({'instance':{'instanceName':_0x1a1944,'apikey':_0x5cf227[_0x128bf7(0x6cb)],'owner':_0xb34042[_0x128bf7(0x744)],'profileName':await _0xb34042['getProfileName']()||_0x128bf7(0x71e),'profilePictureUrl':_0xb34042[_0x128bf7(0x7bd)]}});}return _0x49b732['find'](_0xa92dd5=>_0xa92dd5[_0x128bf7(0x30f)][_0x128bf7(0x217)]===_0x1498d9)??_0x49b732;}async[a0_0x15f0ef(0x6b6)](_0x5931da){const _0x37f979=a0_0x15f0ef;if(this['db'][_0x37f979(0x796)]&&(await this[_0x37f979(0x868)]['dbServer']['connect'](),(await this[_0x37f979(0x2a0)][_0x37f979(0x4d1)]())[_0x37f979(0x272)]>0x0&&await this[_0x37f979(0x2a0)][_0x37f979(0x88d)](_0x5931da)),this[_0x37f979(0x4d4)][_0x37f979(0x796)]){this[_0x37f979(0x73b)][_0x37f979(0x61c)]=_0x5931da,await this[_0x37f979(0x73b)][_0x37f979(0x76d)]();return;}}async[a0_0x15f0ef(0x6da)](){const _0x54b5e6=a0_0x15f0ef;await this[_0x54b5e6(0x29c)]();let _0x26a755=async _0x5dca76=>{const _0x4b467d=_0x54b5e6;let _0x1d471a=new be(this['configService'],this[_0x4b467d(0x79c)],this[_0x4b467d(0x868)]);_0x1d471a[_0x4b467d(0x217)]=_0x5dca76,await _0x1d471a[_0x4b467d(0x568)](),this[_0x4b467d(0x849)][_0x5dca76]=_0x1d471a;};try{if(this[_0x54b5e6(0x4d4)][_0x54b5e6(0x796)]){let _0x47afa9=await this[_0x54b5e6(0x73b)][_0x54b5e6(0x252)]();_0x47afa9?.[_0x54b5e6(0x272)]>0x0&&_0x47afa9[_0x54b5e6(0x40e)](async _0x312ee5=>await _0x26a755(_0x312ee5[_0x54b5e6(0x414)](':')[0x1]));return;}if(this['db'][_0x54b5e6(0x796)]){await this[_0x54b5e6(0x868)][_0x54b5e6(0x624)][_0x54b5e6(0x6f5)]();let _0x15d3ee=await this[_0x54b5e6(0x2a0)]['collections']();_0x15d3ee['length']>0x0&&_0x15d3ee[_0x54b5e6(0x40e)](async _0x370506=>await _0x26a755(_0x370506[_0x54b5e6(0x269)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x42e0db){this['logger'][_0x54b5e6(0x790)](_0x42e0db);}}async['InstancesAsDisconnectedX'](){const _0x75d72d=a0_0x15f0ef;let _0x4ca5e2=await this[_0x75d72d(0x868)][_0x75d72d(0x894)]['findAll'](),_0x109214=_0x4ca5e2[_0x75d72d(0x58a)](_0x258218=>!this[_0x75d72d(0x849)][_0x258218[_0x75d72d(0x718)]]&&(_0x258218['online']||typeof _0x258218['online']>'u'));_0x109214['length']>0x0&&await Promise['all'](_0x109214[_0x75d72d(0x684)](async _0x292a3e=>{const _0x4c073f=_0x75d72d;let _0x5cd0ae={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x4c073f(0x868)][_0x4c073f(0x894)][_0x4c073f(0x3ad)](_0x5cd0ae,_0x292a3e[_0x4c073f(0x718)]);}));let _0x5b7d13=Date[_0x75d72d(0x3ce)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x8a6e22=_0x4ca5e2[_0x75d72d(0x58a)](_0x46f969=>!this[_0x75d72d(0x849)][_0x46f969[_0x75d72d(0x718)]]&&typeof _0x46f969['lastDisconnect']<'u'&&_0x46f969[_0x75d72d(0x2d4)]<_0x5b7d13);_0x8a6e22['length']>0x0&&await Promise[_0x75d72d(0x45e)](_0x8a6e22[_0x75d72d(0x684)](async _0x2af691=>{}));}async[a0_0x15f0ef(0x29c)](){const _0x577940=a0_0x15f0ef;try{let _0xfd69e6={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x224ab7={'online':!0x1,'lastDisconnect':Date[_0x577940(0x3ce)]()},_0x337905=await this[_0x577940(0x868)][_0x577940(0x894)][_0x577940(0x36f)](_0xfd69e6,_0x224ab7);console[_0x577940(0x884)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x337905[_0x577940(0x46d)]),await this[_0x577940(0x6c8)]();}catch(_0x49d1d1){console['error'](_0x577940(0x64d),_0x49d1d1);}}async[a0_0x15f0ef(0x6c8)](){const _0x3b8329=a0_0x15f0ef;try{let _0x3c779d={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x3a00aa=await this[_0x3b8329(0x868)][_0x3b8329(0x894)][_0x3b8329(0x4a7)](_0x3c779d);console['log']('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x3a00aa[_0x3b8329(0x46d)]);}catch(_0x419ec2){console[_0x3b8329(0x790)]('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x419ec2);}}['removeInstance'](){this['eventEmitter']['on']('remove.instance',async _0x236fb1=>{const _0x3fbad0=a0_0x472b;try{this[_0x3fbad0(0x849)][_0x236fb1]=void 0x0;}catch{}try{this['cleaningUp'](_0x236fb1);}finally{this['logger'][_0x3fbad0(0x235)](_0x3fbad0(0x6d2)+_0x236fb1+_0x3fbad0(0x567));}});}['noConnection'](){const _0x4e3875=a0_0x15f0ef;this[_0x4e3875(0x79c)]['on']('no.connection',async _0x59de34=>{const _0x55ecd1=_0x4e3875;try{this[_0x55ecd1(0x849)][_0x59de34]=void 0x0;}catch{}try{this[_0x55ecd1(0x6b6)](_0x59de34);}finally{this[_0x55ecd1(0x876)][_0x55ecd1(0x235)](_0x55ecd1(0x6d2)+_0x59de34+_0x55ecd1(0x59b));}});}},qt=class extends x{[a0_0x15f0ef(0x4bc)](_0x5c4a0a){return Ys(_0x5c4a0a);}async[a0_0x15f0ef(0x6ed)](_0x2dfc0f){const _0x32cdb8=a0_0x15f0ef;if(_0x2dfc0f[_0x32cdb8(0x272)]!==0x0)try{return{'insertCount':(await this[_0x32cdb8(0x4bc)](_0x2dfc0f[0x0]['owner'])['insertMany']([..._0x2dfc0f]))[_0x32cdb8(0x272)]};}catch(_0x238dfd){return _0x238dfd;}}async[a0_0x15f0ef(0x585)](_0x23dab1,_0x2f87be){const _0x1cb7db=a0_0x15f0ef;try{let _0x137ba4=this[_0x1cb7db(0x4bc)](_0x2f87be),_0xbe17cb=$(_0x23dab1[_0x1cb7db(0x589)]);return await _0x137ba4[_0x1cb7db(0x585)](_0xbe17cb)[_0x1cb7db(0x239)]({'lastmsg':-0x1})[_0x1cb7db(0x6d5)](_0x23dab1?.['limit']??0x0)[_0x1cb7db(0x2ff)]();}catch{return[];}}async['delete'](_0x35d99b,_0x39221f){const _0x18b0d7=a0_0x15f0ef;try{return{'deletedCount':(await this[_0x18b0d7(0x4bc)](_0x39221f)[_0x18b0d7(0x4a7)]({..._0x35d99b[_0x18b0d7(0x589)]}))[_0x18b0d7(0x256)]};}catch(_0x50ab84){return{'error':_0x50ab84?.[_0x18b0d7(0x5f0)]()};}}async[a0_0x15f0ef(0x209)](_0x55ad2f,_0x43cffe){const _0x543fa3=a0_0x15f0ef;try{return await this['getChatModelForOwner'](_0x43cffe)[_0x543fa3(0x4a7)]({..._0x55ad2f[_0x543fa3(0x589)]}),[];}catch(_0x1db8f5){return{'error':_0x1db8f5?.[_0x543fa3(0x5f0)]()};}}async[a0_0x15f0ef(0x2f1)](_0x395d59,_0x5e7384){const _0xed82b2=a0_0x15f0ef;try{let _0x3c3b9c=this[_0xed82b2(0x4bc)](_0x5e7384),_0x2ab2b5=$(_0x395d59['where']);return await _0x3c3b9c[_0xed82b2(0x2f1)](_0x2ab2b5)['lean']();}catch{return null;}}async[a0_0x15f0ef(0x218)](_0x2da3d1,_0x282bea,_0x26a7f0,_0x2b6d48,_0xc31a6e=a0_0x15f0ef(0x6e3)){const _0x29a227=a0_0x15f0ef;try{let _0x56a875={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2b6d48},_0x143025=this['getChatModelForOwner'](_0x26a7f0),_0x432343=$(_0x2da3d1['where']);Object[_0x29a227(0x6e6)](_0x282bea)[_0x29a227(0x40e)](_0x1bcee9=>{_0x282bea[_0x1bcee9]==null&&delete _0x282bea[_0x1bcee9];});let _0x5a516d={};return _0x5a516d[_0xc31a6e]=_0x282bea,await _0x143025[_0x29a227(0x231)](_0x432343,_0x5a516d,_0x56a875);}catch(_0x266ffc){return console[_0x29a227(0x790)](_0x266ffc),null;}}async[a0_0x15f0ef(0x5bb)](_0x3fbfbd){const _0x230cd6=a0_0x15f0ef;try{let _0x1dbc38=this['getChatModelForOwner'](_0x3fbfbd[0x0]['query'][_0x230cd6(0x589)][_0x230cd6(0x2b6)]),_0x96ca9f=_0x3fbfbd[_0x230cd6(0x684)](_0x3ec2fc=>({'updateOne':{'filter':{..._0x3ec2fc['query'][_0x230cd6(0x589)]},'update':{'$set':_0x3ec2fc[_0x230cd6(0x429)]},'upsert':!0x0}})),_0x429cb0=await _0x1dbc38[_0x230cd6(0x6e7)](_0x96ca9f);return _0x429cb0[_0x230cd6(0x7f5)]+_0x429cb0[_0x230cd6(0x3b0)];}catch(_0x17faab){return console[_0x230cd6(0x790)](_0x17faab),0x0;}}async[a0_0x15f0ef(0x373)](_0x17d28c){const _0x4612e0=a0_0x15f0ef;try{let _0x1e5005=this['getChatModelForOwner'](_0x17d28c),_0xd47201={'labels':{'$exists':!0x0}},_0x2b5428={'$unset':{'labels':''}};return(await _0x1e5005[_0x4612e0(0x5bb)](_0xd47201,_0x2b5428))[_0x4612e0(0x7f5)];}catch(_0x33b4b9){return console[_0x4612e0(0x790)](_0x33b4b9),0x0;}}async[a0_0x15f0ef(0x340)](_0x2a7e1c){const _0x6bc4f3=a0_0x15f0ef;try{let _0x681594=this[_0x6bc4f3(0x4bc)](_0x2a7e1c),_0xfa7149={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1cfd49={'$set':{'leadInfo.etiquetas':[]}};return(await _0x681594[_0x6bc4f3(0x5bb)](_0xfa7149,_0x1cfd49))[_0x6bc4f3(0x7f5)];}catch(_0x528510){return console[_0x6bc4f3(0x790)](_0x528510),0x0;}}async[a0_0x15f0ef(0x875)](_0x26ab4b){const _0x389f3c=a0_0x15f0ef;try{let _0x145275=this[_0x389f3c(0x4bc)](_0x26ab4b),_0x8fc1b5={'leadInfo.tags':{'$exists':!0x1}},_0x4c660a={'$set':{'leadInfo.tags':[]}};return(await _0x145275[_0x389f3c(0x5bb)](_0x8fc1b5,_0x4c660a))[_0x389f3c(0x7f5)];}catch(_0x1aa22e){return console[_0x389f3c(0x790)](_0x1aa22e),0x0;}}async['updateMissingCustomFields'](_0x4be9a4){const _0x2cd017=a0_0x15f0ef;try{let _0x19c0ac=this[_0x2cd017(0x4bc)](_0x4be9a4),_0x195e1a={'leadInfo.customFields':{'$exists':!0x1}},_0x2f70c0={'$set':{'leadInfo.customFields':[]}};return(await _0x19c0ac['updateMany'](_0x195e1a,_0x2f70c0))['modifiedCount'];}catch(_0x59a2be){return console[_0x2cd017(0x790)](_0x59a2be),0x0;}}async[a0_0x15f0ef(0x50c)](_0x9e46f1,_0x2b7553){const _0x111dc1=a0_0x15f0ef;if(!Array[_0x111dc1(0x1de)](_0x9e46f1)||_0x9e46f1[_0x111dc1(0x272)]===0x0)throw new Error(_0x111dc1(0x5ae));try{return(await this[_0x111dc1(0x4bc)](_0x2b7553)[_0x111dc1(0x50c)](_0x9e46f1))['length'];}catch(_0x33cd99){throw console['error']('Erro\x20ao\x20inserir\x20chats:',_0x33cd99),_0x33cd99;}}async['deleteChat'](_0x1a8805,_0x5248d0){const _0x30c14e=a0_0x15f0ef;try{await this[_0x30c14e(0x4bc)](_0x5248d0)['deleteOne']({'_id':_0x1a8805});}catch(_0xab72ad){throw console[_0x30c14e(0x790)](_0x30c14e(0x580),_0xab72ad),_0xab72ad;}}},Vt=class extends x{constructor(_0x31c83c,_0x5c0eb8,_0x1c62f9){const _0x10e5ec=a0_0x15f0ef;super(_0x5c0eb8),this[_0x10e5ec(0x31d)]=_0x31c83c,this[_0x10e5ec(0x484)]=_0x5c0eb8,this[_0x10e5ec(0x893)]=_0x1c62f9;}async[a0_0x15f0ef(0x6ed)](_0x57ab26){const _0x1fa6fc=a0_0x15f0ef;if(_0x57ab26[_0x1fa6fc(0x272)]!==0x0)try{return{'insertCount':(await this[_0x1fa6fc(0x31d)][_0x1fa6fc(0x50c)]([..._0x57ab26]))['length']};}catch(_0x39d210){return _0x39d210;}}async[a0_0x15f0ef(0x429)](_0x4cadb1,_0x10aaab){const _0x2bfc53=a0_0x15f0ef;try{let _0x407e78=$(_0x4cadb1[_0x2bfc53(0x589)]);return{'updatedCount':(await this[_0x2bfc53(0x31d)]['updateMany'](_0x407e78,{'$set':_0x10aaab}))[_0x2bfc53(0x7f5)]};}catch(_0x337cf0){return console[_0x2bfc53(0x790)](_0x2bfc53(0x4ca),_0x337cf0),{'error':_0x337cf0[_0x2bfc53(0x5f0)]()};}}async[a0_0x15f0ef(0x561)](_0x327252){const _0x50386b=a0_0x15f0ef;try{let _0x13c57a={'_id':{'$in':_0x327252}};return await this[_0x50386b(0x31d)]['find'](_0x13c57a)[_0x50386b(0x2ff)]();}catch(_0x1410de){return console[_0x50386b(0x790)]('Error\x20finding\x20many\x20contacts:',_0x1410de),[];}}async['delete'](_0x344759){const _0x18df7d=a0_0x15f0ef;try{return{'deletedCount':(await this[_0x18df7d(0x31d)]['deleteMany']({..._0x344759[_0x18df7d(0x589)]}))['deletedCount']};}catch(_0x5b900e){return{'error':_0x5b900e?.[_0x18df7d(0x5f0)]()};}}async[a0_0x15f0ef(0x585)](_0xbd16e1){const _0x1b9471=a0_0x15f0ef;try{let _0x15dc67=$(_0xbd16e1['where']);return await this['cacheContactModel'][_0x1b9471(0x585)](_0x15dc67)[_0x1b9471(0x6d5)](_0xbd16e1?.['limit']??0x0)['lean']();}catch{return[];}}async['findOne'](_0x3335f7){const _0x33eb42=a0_0x15f0ef;try{let _0x1a3ef1=$(_0x3335f7[_0x33eb42(0x589)]);return await this[_0x33eb42(0x31d)][_0x33eb42(0x2f1)](_0x1a3ef1)['lean']();}catch{return null;}}},Bt=class extends x{[a0_0x15f0ef(0x889)](_0xb4c61d){return Ea(_0xb4c61d);}async['updateOne'](_0x55c7e7,_0x59f0ac,_0x29d3d3,_0x68b469){const _0x2b4f82=a0_0x15f0ef;try{let _0x1f8e60={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x68b469},_0x769453=this[_0x2b4f82(0x889)](_0x29d3d3),_0xb37cc=$(_0x55c7e7[_0x2b4f82(0x589)]);return await _0x769453[_0x2b4f82(0x231)](_0xb37cc,{'$set':_0x59f0ac},_0x1f8e60);}catch(_0xa6c53a){return console[_0x2b4f82(0x790)](_0xa6c53a),null;}}async[a0_0x15f0ef(0x585)](_0x11c610,_0x3592ba){const _0x5b7a33=a0_0x15f0ef;try{let _0x348a07=this[_0x5b7a33(0x889)](_0x3592ba),_0x202cac=$(_0x11c610['where']);return await _0x348a07[_0x5b7a33(0x585)](_0x202cac);}catch(_0x430bc4){console[_0x5b7a33(0x790)](_0x430bc4);}}async[a0_0x15f0ef(0x439)](_0x865148,_0x4d8f02){const _0x21325c=a0_0x15f0ef;try{let _0x131133=this[_0x21325c(0x889)](_0x4d8f02),_0x21534a=$(_0x865148['where']);await _0x131133[_0x21325c(0x4a7)](_0x21534a);}catch(_0x4e74da){console[_0x21325c(0x790)](_0x4e74da);}}async['deleteAll'](_0x38fc02){const _0xd9649e=a0_0x15f0ef;try{return await this[_0xd9649e(0x889)](_0x38fc02)[_0xd9649e(0x36d)][_0xd9649e(0x5e1)](),{'success':!0x0};}catch(_0x5128b8){return console[_0xd9649e(0x790)](_0x5128b8),{'success':!0x1,'error':_0x5128b8};}}},Gt=class{constructor(_0x541540){const _0x4c6170=a0_0x15f0ef;this[_0x4c6170(0x618)]=_0x541540;}async[a0_0x15f0ef(0x839)]({instanceName:_0x3c1d1c},_0x4c16bb){const _0x2639d3=a0_0x15f0ef;return await this['waMonitor'][_0x2639d3(0x849)][_0x3c1d1c][_0x2639d3(0x839)](_0x4c16bb);}async[a0_0x15f0ef(0x6c7)]({instanceName:_0x2314ce},_0xbbafa6){const _0x23669e=a0_0x15f0ef;return await this[_0x23669e(0x618)][_0x23669e(0x849)][_0x2314ce][_0x23669e(0x6c7)](_0xbbafa6);}async[a0_0x15f0ef(0x308)]({instanceName:_0x106488},_0x58307c){const _0x3a5338=a0_0x15f0ef;return await this[_0x3a5338(0x618)][_0x3a5338(0x849)][_0x106488]['importChats'](_0x58307c);}async[a0_0x15f0ef(0x86f)]({instanceName:_0x360f64},_0x40b37c){const _0x1db007=a0_0x15f0ef;return await this[_0x1db007(0x618)]['waInstances'][_0x360f64]['markMessageAsRead'](_0x40b37c);}async['archiveChat']({instanceName:_0x59bf64},_0x169b76){const _0x28eb4e=a0_0x15f0ef;return await this[_0x28eb4e(0x618)][_0x28eb4e(0x849)][_0x59bf64][_0x28eb4e(0x3f3)](_0x169b76);}async[a0_0x15f0ef(0x5d4)]({instanceName:_0x36b34c},_0x55da3f){const _0x1be2b1=a0_0x15f0ef;return await this[_0x1be2b1(0x618)][_0x1be2b1(0x849)][_0x36b34c][_0x1be2b1(0x5d4)](_0x55da3f);}async[a0_0x15f0ef(0x2ba)]({instanceName:_0x3b7913},_0x2081c0){const _0x4df993=a0_0x15f0ef;return await this[_0x4df993(0x618)]['waInstances'][_0x3b7913][_0x4df993(0x76b)](_0x2081c0['number']);}async['fetchProfile']({instanceName:_0x5eee5d},_0x32f733){const _0x2cef2c=a0_0x15f0ef;return await this[_0x2cef2c(0x618)][_0x2cef2c(0x849)][_0x5eee5d]['fetchProfile'](_0x32f733[_0x2cef2c(0x253)]);}async[a0_0x15f0ef(0x23b)]({instanceName:_0x3a1f3c},_0x31e999){const _0x421ffe=a0_0x15f0ef;return await this['waMonitor'][_0x421ffe(0x849)][_0x3a1f3c][_0x421ffe(0x23b)](_0x31e999);}async[a0_0x15f0ef(0x58e)]({instanceName:_0x1bf97f},_0x820142){const _0x572937=a0_0x15f0ef;return await this[_0x572937(0x618)][_0x572937(0x849)][_0x1bf97f][_0x572937(0x58e)](_0x820142);}async[a0_0x15f0ef(0x789)]({instanceName:_0x4826ef},_0x5979df){const _0x1f22d2=a0_0x15f0ef;return await this[_0x1f22d2(0x618)][_0x1f22d2(0x849)][_0x4826ef][_0x1f22d2(0x789)](_0x5979df);}async[a0_0x15f0ef(0x630)]({instanceName:_0xf0e81a},_0x390d2b){const _0x51cf80=a0_0x15f0ef;return await this[_0x51cf80(0x618)][_0x51cf80(0x849)][_0xf0e81a][_0x51cf80(0x630)](_0x390d2b);}async[a0_0x15f0ef(0x6e5)]({instanceName:_0x3170ec}){const _0x57254c=a0_0x15f0ef;return await this[_0x57254c(0x618)][_0x57254c(0x849)][_0x3170ec][_0x57254c(0x6e5)]();}async[a0_0x15f0ef(0x453)]({instanceName:_0x2dbca2}){const _0x33dc71=a0_0x15f0ef;return await this[_0x33dc71(0x618)]['waInstances'][_0x2dbca2][_0x33dc71(0x453)]();}async['fetchPrivacySettings']({instanceName:_0x601ba7}){const _0x5e4d32=a0_0x15f0ef;return await this[_0x5e4d32(0x618)]['waInstances'][_0x601ba7][_0x5e4d32(0x2a6)]();}async[a0_0x15f0ef(0x3ae)]({instanceName:_0x3d9b22},_0xf841bb){const _0x1324f3=a0_0x15f0ef;return await this['waMonitor'][_0x1324f3(0x849)][_0x3d9b22][_0x1324f3(0x3ae)](_0xf841bb);}async[a0_0x15f0ef(0x7ea)]({instanceName:_0x3435db},_0x1ad925){const _0x5111a0=a0_0x15f0ef;return await this['waMonitor']['waInstances'][_0x3435db][_0x5111a0(0x7ea)](_0x1ad925['number']);}async[a0_0x15f0ef(0x817)]({instanceName:_0x5742f2},_0x36c623){const _0x32cb4c=a0_0x15f0ef;return await this['waMonitor'][_0x32cb4c(0x849)][_0x5742f2][_0x32cb4c(0x817)](_0x36c623[_0x32cb4c(0x2c9)]);}async[a0_0x15f0ef(0x753)]({instanceName:_0x19a273},_0x4b3ecc){const _0x2f1640=a0_0x15f0ef;return await this[_0x2f1640(0x618)][_0x2f1640(0x849)][_0x19a273]['updateProfileStatus'](_0x4b3ecc[_0x2f1640(0x60a)]);}async[a0_0x15f0ef(0x7c7)]({instanceName:_0x3715cd},_0x2277e6){const _0xe4679b=a0_0x15f0ef;return await this[_0xe4679b(0x618)][_0xe4679b(0x849)][_0x3715cd][_0xe4679b(0x7c7)](_0x2277e6[_0xe4679b(0x3e8)]);}async[a0_0x15f0ef(0x2c8)]({instanceName:_0x28549b},_0x35c15){const _0x39e126=a0_0x15f0ef;return await this[_0x39e126(0x618)][_0x39e126(0x849)][_0x28549b][_0x39e126(0x2c8)]();}},Ps=require(a0_0x15f0ef(0x7af)),Wt=class c{constructor(_0x468a7a,_0x3adc15,_0x161b8f,_0x53ca8b,_0x4effed){const _0x1472f3=a0_0x15f0ef;this[_0x1472f3(0x618)]=_0x468a7a,this['configService']=_0x3adc15,this[_0x1472f3(0x868)]=_0x161b8f,this[_0x1472f3(0x79c)]=_0x53ca8b,this[_0x1472f3(0x5af)]=_0x4effed,this[_0x1472f3(0x876)]=new N(c[_0x1472f3(0x2c9)]);}async[a0_0x15f0ef(0x260)]({instanceName:_0x529c62,apikey:_0x4bc4e2,number:_0x233852,proxy:_0x1d2234=!0x0}){const _0x214e0c=a0_0x15f0ef;try{let _0x4a20c2=new be(this['configService'],this[_0x214e0c(0x79c)],this[_0x214e0c(0x868)]);_0x4a20c2['instanceName']=_0x529c62,this[_0x214e0c(0x618)][_0x214e0c(0x849)][_0x4a20c2[_0x214e0c(0x217)]]=_0x4a20c2;let _0x2abe9d={};_0x4bc4e2?(await this[_0x214e0c(0x868)]['auth']['create']({'apikey':_0x4bc4e2},_0x529c62),_0x2abe9d['apikey']=_0x4bc4e2):_0x2abe9d=await this[_0x214e0c(0x5af)][_0x214e0c(0x301)]({'instanceName':_0x4a20c2[_0x214e0c(0x217)]});let _0x3fd296;if(_0x233852){if(_0x3fd296=await this[_0x214e0c(0x80e)](_0x233852),_0x3fd296['error'])throw new A(_0x3fd296['error'][_0x214e0c(0x5f0)]());_0x233852=_0x3fd296[_0x214e0c(0x253)];}let _0x186730;return await _0x4a20c2[_0x214e0c(0x568)](_0x233852),await(0x0,Ps['delay'])(0x7d0),_0x186730=_0x4a20c2[_0x214e0c(0x56e)],{'instance':{'instanceName':_0x4a20c2['instanceName'],'status':_0x214e0c(0x75e)},'hash':_0x2abe9d,'qrcode':_0x186730};}catch(_0x599ba5){throw this[_0x214e0c(0x876)][_0x214e0c(0x790)](_0x599ba5),_0x599ba5;}}async[a0_0x15f0ef(0x51e)]({instanceName:_0x16df09,number:_0x2ed217=null}){const _0x294ac0=a0_0x15f0ef;try{let _0x769902=this['waMonitor'][_0x294ac0(0x849)][_0x16df09];switch(_0x769902?.[_0x294ac0(0x23c)]?.['state']){case _0x294ac0(0x2e7):return await _0x769902['connectToWhatsapp'](_0x2ed217),await(0x0,Ps['delay'])(0x7d0),_0x769902[_0x294ac0(0x56e)];case _0x294ac0(0x611):return _0x769902[_0x294ac0(0x56e)];default:return await this[_0x294ac0(0x7ed)]({'instanceName':_0x16df09});}}catch(_0x339c02){this[_0x294ac0(0x876)]['log'](_0x339c02);}}async[a0_0x15f0ef(0x7ed)]({instanceName:_0x19be7e}){const _0x33381e=a0_0x15f0ef;let _0x579eae=this['waMonitor'][_0x33381e(0x849)][_0x19be7e][_0x33381e(0x23c)],_0x92be7a=null;_0x579eae[_0x33381e(0x72b)]===_0x33381e(0x73f)&&_0x19be7e&&(_0x92be7a=await this[_0x33381e(0x618)][_0x33381e(0x5d7)](_0x19be7e));let _0xbce3fc=null;return _0x579eae[_0x33381e(0x72b)]===_0x33381e(0x611)&&_0x19be7e&&(_0xbce3fc=this['waMonitor'][_0x33381e(0x849)][_0x19be7e]['qrCode']),{'instance':_0x19be7e,'connectionStatus':_0x579eae,'instanceInfo':_0x92be7a,'qrcode':_0xbce3fc};}async[a0_0x15f0ef(0x80e)](_0x56830f){const _0x3b39f4=a0_0x15f0ef;_0x56830f=_0x56830f[_0x3b39f4(0x1e1)](/\D/g,'');let _0x481711=Object[_0x3b39f4(0x6e6)](this[_0x3b39f4(0x618)][_0x3b39f4(0x849)])[_0x3b39f4(0x58a)](_0x33cc85=>{const _0x27f850=_0x3b39f4;let _0x5b9e00=this[_0x27f850(0x618)][_0x27f850(0x849)][_0x33cc85];return _0x5b9e00&&_0x5b9e00[_0x27f850(0x23c)]&&_0x5b9e00[_0x27f850(0x23c)][_0x27f850(0x72b)]==='open';});if(_0x481711[_0x3b39f4(0x272)]===0x0)return{'number':this[_0x3b39f4(0x837)](_0x56830f)};let _0x248de5=Math[_0x3b39f4(0x34a)](Math[_0x3b39f4(0x755)]()*_0x481711['length']),_0x19945d=_0x481711[_0x248de5];try{let _0x1fb124=(await this[_0x3b39f4(0x618)][_0x3b39f4(0x849)][_0x19945d][_0x3b39f4(0x6c7)]({'numbers':[_0x56830f]}))[_0x3b39f4(0x6ac)]();return _0x1fb124['exists']?{'number':_0x1fb124[_0x3b39f4(0x360)]['replace']('@s.whatsapp.net','')}:{'number':_0x56830f,'error':_0x3b39f4(0x84b)};}catch(_0x416a9b){return this[_0x3b39f4(0x876)][_0x3b39f4(0x790)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x416a9b),{'number':_0x56830f,'error':_0x3b39f4(0x4c3)};}}[a0_0x15f0ef(0x837)](_0x9f721d){const _0x3108cc=a0_0x15f0ef;let _0x4b85b7=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3108cc(0x2d6)](_0x9f721d);if(_0x4b85b7&&_0x4b85b7[0x1]==='55'){let _0x137c49=_0x4b85b7[0x2],_0x170340=_0x4b85b7[0x3],_0x4ada3a=_0x4b85b7[0x4];if(parseInt(_0x137c49)>=0x1f&&_0x170340==='9')return _0x4b85b7[0x1]+_0x137c49+_0x4ada3a;}return _0x9f721d;}async[a0_0x15f0ef(0x666)]({instanceName:_0x4bd163}){const _0x174011=a0_0x15f0ef;try{return this[_0x174011(0x618)][_0x174011(0x849)][_0x4bd163]?.[_0x174011(0x7cf)]?.['ws']?.[_0x174011(0x2e7)](),{'status':_0x174011(0x5c8),'error':!0x1,'response':{'message':_0x174011(0x516)}};}catch(_0x32c751){this['logger'][_0x174011(0x790)](_0x32c751);}}async['fetchInstances']({instanceName:_0xec643}){const _0x2b3d5f=a0_0x15f0ef;return _0xec643?this[_0x2b3d5f(0x618)][_0x2b3d5f(0x5d7)](_0xec643):this[_0x2b3d5f(0x618)][_0x2b3d5f(0x5d7)]();}async[a0_0x15f0ef(0x372)]({instanceName:_0x12f1cb}){const _0x1d8186=a0_0x15f0ef;try{return await this[_0x1d8186(0x618)]['waInstances'][_0x12f1cb]?.[_0x1d8186(0x7cf)]?.[_0x1d8186(0x372)](_0x1d8186(0x397)+_0x12f1cb),{'error':!0x1,'message':_0x1d8186(0x7b4)};}catch(_0x3b3b60){throw new A(_0x3b3b60[_0x1d8186(0x5f0)]());}}async[a0_0x15f0ef(0x7d6)]({instanceName:_0x4d91aa}){const _0x12700f=a0_0x15f0ef;if((await this['connectionState']({'instanceName':_0x4d91aa}))[_0x12700f(0x23c)]['state']===_0x12700f(0x73f))throw new w(['Deletion\x20failed','The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x12700f(0x618)][_0x12700f(0x849)][_0x4d91aa],{'error':!0x1,'message':_0x12700f(0x212)};}catch(_0x2e26d6){throw new w(_0x2e26d6[_0x12700f(0x5f0)]());}}},ee=require(a0_0x15f0ef(0x4a1)),zt=class{constructor(_0x178e0b){const _0x165a2c=a0_0x15f0ef;this[_0x165a2c(0x618)]=_0x178e0b;}async[a0_0x15f0ef(0x4a3)]({instanceName:_0x53c6c1},_0x551e09){const _0x51f658=a0_0x15f0ef;return await this['waMonitor']['waInstances'][_0x53c6c1][_0x51f658(0x478)](_0x551e09);}async[a0_0x15f0ef(0x6bd)]({instanceName:_0x19d590},_0x33dc0a){const _0x30de45=a0_0x15f0ef;return await this[_0x30de45(0x618)][_0x30de45(0x849)][_0x19d590]['menuMessage'](_0x33dc0a);}async['sendMedia']({instanceName:_0xff27f},_0x598871){const _0x3be469=a0_0x15f0ef;if((0x0,ee[_0x3be469(0x879)])(_0x598871?.[_0x3be469(0x45f)]?.[_0x3be469(0x351)])&&!_0x598871?.[_0x3be469(0x45f)]?.[_0x3be469(0x5b9)])throw new w(_0x3be469(0x7e2));if((0x0,ee[_0x3be469(0x241)])(_0x598871?.[_0x3be469(0x45f)]?.['media'])||(0x0,ee[_0x3be469(0x879)])(_0x598871?.[_0x3be469(0x45f)]?.[_0x3be469(0x351)]))return await this[_0x3be469(0x618)][_0x3be469(0x849)][_0xff27f][_0x3be469(0x45f)](_0x598871);throw new w(_0x3be469(0x731));}async[a0_0x15f0ef(0x830)]({instanceName:_0x370cb0},_0x5ca9ae){const _0x566444=a0_0x15f0ef;if((0x0,ee[_0x566444(0x241)])(_0x5ca9ae[_0x566444(0x312)][_0x566444(0x278)])||(0x0,ee[_0x566444(0x879)])(_0x5ca9ae[_0x566444(0x312)][_0x566444(0x278)]))return await this[_0x566444(0x618)]['waInstances'][_0x370cb0]['mediaSticker'](_0x5ca9ae);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x15f0ef(0x531)]({instanceName:_0x82c3a2},_0x2d412a){const _0x3adbf7=a0_0x15f0ef;if((0x0,ee[_0x3adbf7(0x241)])(_0x2d412a['audioMessage'][_0x3adbf7(0x81d)])||(0x0,ee['isBase64'])(_0x2d412a[_0x3adbf7(0x7cc)]['audio']))return await this[_0x3adbf7(0x618)][_0x3adbf7(0x849)][_0x82c3a2][_0x3adbf7(0x821)](_0x2d412a);throw new w(_0x3adbf7(0x731));}async[a0_0x15f0ef(0x3dd)]({instanceName:_0x3fbf09},_0x4606f5){const _0x1ec17a=a0_0x15f0ef;if((0x0,ee['isBase64'])(_0x4606f5[_0x1ec17a(0x5f5)]['mediaMessage']?.[_0x1ec17a(0x351)])&&!_0x4606f5['buttonMessage'][_0x1ec17a(0x45f)]?.['fileName'])throw new w(_0x1ec17a(0x7e2));return await this[_0x1ec17a(0x618)][_0x1ec17a(0x849)][_0x3fbf09][_0x1ec17a(0x5f5)](_0x4606f5);}async[a0_0x15f0ef(0x4e4)]({instanceName:_0x3d1c6e},_0x4b3d8f){const _0x1eb728=a0_0x15f0ef;return await this[_0x1eb728(0x618)][_0x1eb728(0x849)][_0x3d1c6e]['locationMessage'](_0x4b3d8f);}async[a0_0x15f0ef(0x51a)]({instanceName:_0x5c7605},_0x429ea5){const _0x47c094=a0_0x15f0ef;return await this[_0x47c094(0x618)][_0x47c094(0x849)][_0x5c7605][_0x47c094(0x83b)](_0x429ea5);}async[a0_0x15f0ef(0x2fc)]({instanceName:_0x2a2c8c},_0x1764ea){const _0x1e9cf9=a0_0x15f0ef;return await this[_0x1e9cf9(0x618)]['waInstances'][_0x2a2c8c]['listMessage'](_0x1764ea);}async['sendContact']({instanceName:_0x3e176f},_0x2ccd1e){const _0x4a4d44=a0_0x15f0ef;return await this['waMonitor'][_0x4a4d44(0x849)][_0x3e176f]['contactMessage'](_0x2ccd1e);}async[a0_0x15f0ef(0x200)]({instanceName:_0x54bb25},_0x3fbecd){const _0x5bf2cf=a0_0x15f0ef;if(!_0x3fbecd[_0x5bf2cf(0x76f)][_0x5bf2cf(0x766)][_0x5bf2cf(0x2ea)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x5bf2cf(0x687));return await this[_0x5bf2cf(0x618)]['waInstances'][_0x54bb25]['reactionMessage'](_0x3fbecd);}async['sendStatus']({instanceName:_0x46978e},_0x39ab63){const _0x3c73bf=a0_0x15f0ef;return await this[_0x3c73bf(0x618)][_0x3c73bf(0x849)][_0x46978e][_0x3c73bf(0x866)](_0x39ab63);}},xr=require(a0_0x15f0ef(0x211)),ks=require(a0_0x15f0ef(0x6df)),Ht=class c{constructor(_0x267b5c,_0x5067d7,_0x579338){const _0x407f98=a0_0x15f0ef;this[_0x407f98(0x484)]=_0x267b5c,this[_0x407f98(0x618)]=_0x5067d7,this[_0x407f98(0x868)]=_0x579338,this[_0x407f98(0x876)]=new N(c['name']);}async[a0_0x15f0ef(0x1ce)](_0x2ca322){const _0x36f6f3=a0_0x15f0ef;let _0x337cbc=this[_0x36f6f3(0x484)][_0x36f6f3(0x82b)](_0x36f6f3(0x4ed))[_0x36f6f3(0x620)],_0x1add5e=(0x0,xr[_0x36f6f3(0x5ff)])({'instanceName':_0x2ca322[_0x36f6f3(0x217)],'apiName':Ze,'tokenId':(0x0,ks['v4'])()},_0x337cbc[_0x36f6f3(0x541)],{'expiresIn':_0x337cbc['EXPIRIN_IN'],'encoding':_0x36f6f3(0x60d),'subject':_0x36f6f3(0x4da)}),_0xb82aa4=await this['repository'][_0x36f6f3(0x894)][_0x36f6f3(0x3ad)]({'jwt':_0x1add5e},_0x2ca322['instanceName']);if(_0xb82aa4[_0x36f6f3(0x790)])throw this['logger'][_0x36f6f3(0x790)]({'localError':c['name']+_0x36f6f3(0x1fd),'error':_0xb82aa4['error']}),new w(_0x36f6f3(0x21c),_0xb82aa4['error']?.[_0x36f6f3(0x5f0)]());return{'jwt':_0x1add5e};}async['apikey'](_0x3df83d){const _0x289511=a0_0x15f0ef;let _0x17b1e8=(0x0,ks['v4'])()[_0x289511(0x72d)](),_0x5eebe9=await this[_0x289511(0x868)][_0x289511(0x894)][_0x289511(0x3ad)]({'apikey':_0x17b1e8},_0x3df83d[_0x289511(0x217)]);if(_0x5eebe9[_0x289511(0x790)])throw this['logger'][_0x289511(0x790)]({'localError':c['name']+'.jwt','error':_0x5eebe9['error']}),new w(_0x289511(0x21c),_0x5eebe9['error']?.[_0x289511(0x5f0)]());return{'apikey':_0x17b1e8};}async[a0_0x15f0ef(0x301)](_0x4346a9){const _0x45506d=a0_0x15f0ef;let _0x5b59bf=this[_0x45506d(0x484)]['get']('AUTHENTICATION');return await this[_0x5b59bf[_0x45506d(0x3f8)]](_0x4346a9);}},Kt=class{constructor(_0x18057b){const _0x5aa343=a0_0x15f0ef;this[_0x5aa343(0x618)]=_0x18057b;}async['createGroup'](_0x4f1331,_0xb899cb){const _0x211eac=a0_0x15f0ef;return await this['waMonitor'][_0x211eac(0x849)][_0x4f1331[_0x211eac(0x217)]][_0x211eac(0x277)](_0xb899cb);}async[a0_0x15f0ef(0x262)](_0x2e20c4,_0x5837e0){const _0xd46fe5=a0_0x15f0ef;return await this[_0xd46fe5(0x618)][_0xd46fe5(0x849)][_0x2e20c4[_0xd46fe5(0x217)]][_0xd46fe5(0x262)](_0x5837e0);}async[a0_0x15f0ef(0x38e)](_0x2f8f71,_0x10f997){const _0x100c3f=a0_0x15f0ef;return await this[_0x100c3f(0x618)][_0x100c3f(0x849)][_0x2f8f71[_0x100c3f(0x217)]][_0x100c3f(0x38e)](_0x10f997);}async[a0_0x15f0ef(0x389)](_0x240d67,_0xd9262a){const _0x1bfd4f=a0_0x15f0ef;return await this[_0x1bfd4f(0x618)][_0x1bfd4f(0x849)][_0x240d67['instanceName']][_0x1bfd4f(0x389)](_0xd9262a);}async[a0_0x15f0ef(0x587)](_0x501aa9,_0x1ad938){const _0x5b98e2=a0_0x15f0ef;return await this[_0x5b98e2(0x618)][_0x5b98e2(0x849)][_0x501aa9[_0x5b98e2(0x217)]]['groupBetterSetting'](_0x1ad938);}async[a0_0x15f0ef(0x823)](_0x58756b,_0x2491e1){const _0x2bb928=a0_0x15f0ef;return await this[_0x2bb928(0x618)][_0x2bb928(0x849)][_0x58756b[_0x2bb928(0x217)]]['groupSetting'](_0x2491e1);}async[a0_0x15f0ef(0x87e)](_0x18d835,_0x1afb4a){const _0x467e06=a0_0x15f0ef;return await this['waMonitor'][_0x467e06(0x849)][_0x18d835[_0x467e06(0x217)]]['findGroup'](_0x1afb4a);}async['findGroups'](_0x5e3859){const _0x217407=a0_0x15f0ef;return await this[_0x217407(0x618)][_0x217407(0x849)][_0x5e3859[_0x217407(0x217)]][_0x217407(0x5cb)]();}async[a0_0x15f0ef(0x7d9)](_0x56c564,_0x12edfc){const _0x133aba=a0_0x15f0ef;return await this['waMonitor'][_0x133aba(0x849)][_0x56c564[_0x133aba(0x217)]][_0x133aba(0x7d9)](_0x12edfc);}async[a0_0x15f0ef(0x38c)](_0x5bcdc9,_0x198474){const _0x20a583=a0_0x15f0ef;return await this[_0x20a583(0x618)][_0x20a583(0x849)][_0x5bcdc9[_0x20a583(0x217)]][_0x20a583(0x38c)](_0x198474);}async[a0_0x15f0ef(0x410)](_0x59d855,_0x216198){const _0x1b3a5f=a0_0x15f0ef;return await this[_0x1b3a5f(0x618)][_0x1b3a5f(0x849)][_0x59d855[_0x1b3a5f(0x217)]][_0x1b3a5f(0x410)](_0x216198);}async[a0_0x15f0ef(0x42f)](_0x285e07,_0x57c47f){const _0x35054f=a0_0x15f0ef;return await this['waMonitor'][_0x35054f(0x849)][_0x285e07[_0x35054f(0x217)]]['revokeInviteCode'](_0x57c47f);}async['findParticipants'](_0x1a27d6,_0x3a23f9){const _0x27eeaa=a0_0x15f0ef;return await this[_0x27eeaa(0x618)][_0x27eeaa(0x849)][_0x1a27d6[_0x27eeaa(0x217)]][_0x27eeaa(0x4ac)](_0x3a23f9);}async['updateGParticipate'](_0x4ec37c,_0x260f67){const _0x8bed08=a0_0x15f0ef;return await this[_0x8bed08(0x618)]['waInstances'][_0x4ec37c[_0x8bed08(0x217)]][_0x8bed08(0x6b7)](_0x260f67);}async[a0_0x15f0ef(0x872)](_0x3cdb9a,_0x5da4f3){const _0x58b14f=a0_0x15f0ef;return await this[_0x58b14f(0x618)][_0x58b14f(0x849)][_0x3cdb9a[_0x58b14f(0x217)]][_0x58b14f(0x872)](_0x5da4f3);}async[a0_0x15f0ef(0x1eb)](_0x17e3d0,_0x4be59e){const _0x3a643a=a0_0x15f0ef;return await this[_0x3a643a(0x618)][_0x3a643a(0x849)][_0x17e3d0[_0x3a643a(0x217)]][_0x3a643a(0x1eb)](_0x4be59e);}},Qt=class{constructor(_0x1c444f){const _0x101587=a0_0x15f0ef;this[_0x101587(0x618)]=_0x1c444f;}['create'](_0x418147,_0x1d6a86){const _0x414b05=a0_0x15f0ef;return this['waMonitor']['waInstances'][_0x418147['instanceName']][_0x414b05(0x39a)](_0x1d6a86);}async['find'](_0x4f24a3){const _0x1888b1=a0_0x15f0ef;try{return await this['waMonitor']['waInstances'][_0x4f24a3[_0x1888b1(0x217)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},fp=new N('FlowController'),Yt=class{constructor(_0xb684bb){const _0x34481a=a0_0x15f0ef;this[_0x34481a(0x618)]=_0xb684bb;}async[a0_0x15f0ef(0x7d5)](_0x3cb892,_0xb1608f){const _0x6ee8a7=a0_0x15f0ef;return await this[_0x6ee8a7(0x618)][_0x6ee8a7(0x849)][_0x3cb892[_0x6ee8a7(0x217)]][_0x6ee8a7(0x7d5)](_0xb1608f);}async[a0_0x15f0ef(0x3a1)](_0x4e2d06){const _0x406d67=a0_0x15f0ef;return await this[_0x406d67(0x618)][_0x406d67(0x849)][_0x4e2d06['instanceName']][_0x406d67(0x3a1)]();}async[a0_0x15f0ef(0x772)](_0xc269c8){const _0x1c6de1=a0_0x15f0ef;return await this[_0x1c6de1(0x618)][_0x1c6de1(0x849)][_0xc269c8['instanceName']][_0x1c6de1(0x772)]();}async[a0_0x15f0ef(0x525)](_0x2b2b46){const _0x4b5b24=a0_0x15f0ef;return await this[_0x4b5b24(0x618)][_0x4b5b24(0x849)][_0x2b2b46[_0x4b5b24(0x217)]][_0x4b5b24(0x525)]();}async[a0_0x15f0ef(0x557)](_0x1afe4f,_0x58299d){const _0xc2e5b8=a0_0x15f0ef;return await this['waMonitor'][_0xc2e5b8(0x849)][_0x1afe4f[_0xc2e5b8(0x217)]][_0xc2e5b8(0x557)](_0x58299d);}async[a0_0x15f0ef(0x445)](_0x4b7872,_0x4f15a1){const _0x220eca=a0_0x15f0ef;return await this['waMonitor'][_0x220eca(0x849)][_0x4b7872[_0x220eca(0x217)]][_0x220eca(0x445)](_0x4f15a1);}async[a0_0x15f0ef(0x377)](_0x413504,_0x123d2b){const _0x5c380b=a0_0x15f0ef;return await this[_0x5c380b(0x618)]['waInstances'][_0x413504[_0x5c380b(0x217)]][_0x5c380b(0x377)](_0x123d2b);}async[a0_0x15f0ef(0x528)](_0x127936,_0x4eb0a4){const _0x3dcf67=a0_0x15f0ef;return await this[_0x3dcf67(0x618)]['waInstances'][_0x127936['instanceName']]['startFlow'](_0x4eb0a4);}async[a0_0x15f0ef(0x4ee)](_0x39e3a7,_0x110649){const _0x257380=a0_0x15f0ef;return await this[_0x257380(0x618)][_0x257380(0x849)][_0x39e3a7[_0x257380(0x217)]][_0x257380(0x4ee)](_0x110649);}async['fetchConversation'](_0x1ed3d6,_0x5d6cb7){const _0x520da6=a0_0x15f0ef;return await this[_0x520da6(0x618)]['waInstances'][_0x1ed3d6[_0x520da6(0x217)]]['fetchConversation'](_0x5d6cb7);}async[a0_0x15f0ef(0x254)](_0x3496be,_0x6bc32f){const _0x3b4d62=a0_0x15f0ef;return await this['waMonitor'][_0x3b4d62(0x849)][_0x3496be[_0x3b4d62(0x217)]]['editConversation'](_0x6bc32f);}async[a0_0x15f0ef(0x883)](_0x597e20,_0x508a26){const _0x3eba57=a0_0x15f0ef;return await this[_0x3eba57(0x618)][_0x3eba57(0x849)][_0x597e20[_0x3eba57(0x217)]][_0x3eba57(0x883)](_0x508a26);}async['getFlow'](_0x3bc3e2,_0x3f8069){const _0x1aa539=a0_0x15f0ef;return await this[_0x1aa539(0x618)][_0x1aa539(0x849)][_0x3bc3e2[_0x1aa539(0x217)]][_0x1aa539(0x2b8)](_0x3f8069[_0x1aa539(0x2c9)]);}async[a0_0x15f0ef(0x46b)](_0x553f7b,_0x1c1751){const _0x3e424c=a0_0x15f0ef;return await this['waMonitor'][_0x3e424c(0x849)][_0x553f7b['instanceName']][_0x3e424c(0x46b)](_0x1c1751);}async['editFlow'](_0x34b623,_0x4db847){const _0x3c5df2=a0_0x15f0ef;return await this[_0x3c5df2(0x618)][_0x3c5df2(0x849)][_0x34b623[_0x3c5df2(0x217)]][_0x3c5df2(0x5d8)](_0x4db847);}async[a0_0x15f0ef(0x5a4)](_0x3e4aa9,_0x293988){const _0x21a1be=a0_0x15f0ef;return await this[_0x21a1be(0x618)][_0x21a1be(0x849)][_0x3e4aa9[_0x21a1be(0x217)]]['editFlowBlock'](_0x293988);}async['editFlowReply'](_0x3474c0,_0x2b2816){const _0x1010fc=a0_0x15f0ef;return await this[_0x1010fc(0x618)][_0x1010fc(0x849)][_0x3474c0['instanceName']][_0x1010fc(0x1e7)](_0x2b2816);}async[a0_0x15f0ef(0x63b)](_0x578a8c,_0x2e0085){const _0x45c06b=a0_0x15f0ef;return await this[_0x45c06b(0x618)]['waInstances'][_0x578a8c[_0x45c06b(0x217)]][_0x45c06b(0x63b)](_0x2e0085);}async[a0_0x15f0ef(0x657)](_0x4ef1f9,_0x372896){const _0x11e59b=a0_0x15f0ef;return await this[_0x11e59b(0x618)][_0x11e59b(0x849)][_0x4ef1f9[_0x11e59b(0x217)]]['editFlowCondition'](_0x372896);}async[a0_0x15f0ef(0x5fc)](_0x337e92,_0x2603d3){const _0x2aa86c=a0_0x15f0ef;return await this[_0x2aa86c(0x618)]['waInstances'][_0x337e92['instanceName']]['editFlowVaredit'](_0x2603d3);}async[a0_0x15f0ef(0x7c5)](_0x2c575f,_0x5a9dc8){const _0x34e031=a0_0x15f0ef;return await this[_0x34e031(0x618)][_0x34e031(0x849)][_0x2c575f[_0x34e031(0x217)]][_0x34e031(0x7c5)](_0x5a9dc8);}async[a0_0x15f0ef(0x7f7)](_0x5acb45,_0x5dbf0f){const _0x5c6690=a0_0x15f0ef;return await this[_0x5c6690(0x618)][_0x5c6690(0x849)][_0x5acb45[_0x5c6690(0x217)]][_0x5c6690(0x7f7)](_0x5dbf0f[_0x5c6690(0x2c9)]);}async['allFlows'](_0x1aece6){const _0x1d168b=a0_0x15f0ef;return await this['waMonitor'][_0x1d168b(0x849)][_0x1aece6[_0x1d168b(0x217)]][_0x1d168b(0x518)]();}},Xt=class{constructor(_0x5752d1){const _0x3ea823=a0_0x15f0ef;this[_0x3ea823(0x1c9)]=_0x5752d1;}async['createWebhook'](_0x21a626,_0x58e310){const _0x5dd03c=a0_0x15f0ef;return this['webhookService'][_0x5dd03c(0x3ad)](_0x21a626,_0x58e310);}async[a0_0x15f0ef(0x599)](_0x44034c){const _0x5465db=a0_0x15f0ef;return this['webhookService'][_0x5465db(0x585)](_0x44034c);}},Zt=class extends x{constructor(_0x4c1896,_0x597207){const _0x4d9ee1=a0_0x15f0ef;super(_0x597207),this['webhookModel']=_0x4c1896,this[_0x4d9ee1(0x484)]=_0x597207;}async[a0_0x15f0ef(0x3ad)](_0x5023b1,_0x37d0b2){const _0x5cc58a=a0_0x15f0ef;try{return this['dbSettings'][_0x5cc58a(0x796)]?{'insertCount':(await this[_0x5cc58a(0x6d6)][_0x5cc58a(0x4fe)]({'_id':_0x37d0b2},{..._0x5023b1},{'upsert':!0x0}))[_0x5cc58a(0x7f5)]}:{'insertCount':0x1};}catch(_0x5aed4b){return _0x5aed4b;}}async[a0_0x15f0ef(0x439)](_0x428b42){const _0x39f43b=a0_0x15f0ef;try{if(this[_0x39f43b(0x50f)][_0x39f43b(0x796)]){await this['webhookModel']['deleteOne']({'_id':_0x428b42});return;}}catch(_0x37ab19){return{'error':_0x37ab19};}}async['find'](_0x4dab87){const _0x446e15=a0_0x15f0ef;try{if(this[_0x446e15(0x50f)][_0x446e15(0x796)])return await this[_0x446e15(0x6d6)][_0x446e15(0x2f1)]({'_id':_0x4dab87});}catch{return{};}}},es=class extends x{constructor(_0x4687dd,_0x576b36){const _0x226ab0=a0_0x15f0ef;super(_0x576b36),this[_0x226ab0(0x732)]=_0x4687dd,this['configService']=_0x576b36,this[_0x226ab0(0x894)]=_0x576b36[_0x226ab0(0x82b)](_0x226ab0(0x4ed));}async[a0_0x15f0ef(0x3ad)](_0xb1f52c,_0x4ac685){const _0x18e959=a0_0x15f0ef;try{if(this[_0x18e959(0x50f)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x18e959(0x218)]({'_id':_0x4ac685},{'$set':{..._0xb1f52c}},{'upsert':!0x0}))[_0x18e959(0x7f5)]};}catch(_0x5b2568){return{'error':_0x5b2568};}}async['updateAll'](_0x1fda3a,_0x240fdb){const _0x44ed81=a0_0x15f0ef;try{if(this['dbSettings'][_0x44ed81(0x796)])return{'insertCount':(await this[_0x44ed81(0x732)][_0x44ed81(0x5bb)](_0x1fda3a,{'$set':_0x240fdb},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x44ed81(0x508));}catch(_0x2d218e){return{'error':_0x2d218e};}}async[a0_0x15f0ef(0x4a7)](_0x217dae){const _0x1e02a5=a0_0x15f0ef;try{if(this[_0x1e02a5(0x50f)][_0x1e02a5(0x796)])return{'insertCount':(await this[_0x1e02a5(0x732)][_0x1e02a5(0x4a7)](_0x217dae))[_0x1e02a5(0x256)]};throw new Error(_0x1e02a5(0x508));}catch(_0x3c8e03){return{'error':_0x3c8e03};}}async[a0_0x15f0ef(0x439)](_0x2bd163){const _0x26e0bb=a0_0x15f0ef;try{if(this[_0x26e0bb(0x50f)]['ENABLED']){await this[_0x26e0bb(0x732)][_0x26e0bb(0x3b5)]({'_id':_0x2bd163});return;}}catch(_0x27c6e6){return{'error':_0x27c6e6};}}async[a0_0x15f0ef(0x585)](_0x7b1af9){const _0x3b421a=a0_0x15f0ef;try{if(this['dbSettings'][_0x3b421a(0x796)])return await this[_0x3b421a(0x732)][_0x3b421a(0x2f1)]({'_id':_0x7b1af9});}catch{return{};}}async['findAll'](){const _0x51db8a=a0_0x15f0ef;try{if(this['dbSettings']['ENABLED'])return await this[_0x51db8a(0x732)][_0x51db8a(0x585)]();}catch{return[];}}},ts=class extends x{[a0_0x15f0ef(0x353)](_0x452d45){return ga(_0x452d45);}async[a0_0x15f0ef(0x1ea)](_0x3fef91){const _0x20df8e=a0_0x15f0ef;try{let _0x1a950d=ma,_0x4a712d=this[_0x20df8e(0x353)](_0x3fef91),_0xe48632=await _0x1a950d[_0x20df8e(0x585)]({'owner':_0x3fef91})['lean'](),_0x416174=[],_0x3bdcc8=[];for(let _0x3ad717 of _0xe48632)await _0x4a712d[_0x20df8e(0x348)](_0x3ad717['_id'])[_0x20df8e(0x2ff)]()||(_0x416174[_0x20df8e(0x21e)](_0x3ad717),_0x3bdcc8[_0x20df8e(0x21e)](_0x3ad717[_0x20df8e(0x718)]));return _0x416174['length']>0x0&&await _0x4a712d[_0x20df8e(0x50c)](_0x416174,{'ordered':!0x1}),{'success':!0x0};}catch(_0x274218){return console[_0x20df8e(0x790)](_0x20df8e(0x623),_0x274218),{'success':!0x1,'error':_0x274218};}}async[a0_0x15f0ef(0x439)](_0x347dd6,_0x2a148c){const _0x5caa37=a0_0x15f0ef;try{let _0x36c9fd=this['getFlowModelForOwner'](_0x2a148c),_0x326eae=$(_0x347dd6[_0x5caa37(0x589)]);return{'deletedCount':(await _0x36c9fd['deleteMany'](_0x326eae))[_0x5caa37(0x256)]};}catch(_0x4e2e43){return{'error':_0x4e2e43?.['toString']()};}}async[a0_0x15f0ef(0x3b5)](_0x2bc958,_0x313d79){const _0x132b06=a0_0x15f0ef;try{let _0x4734e3=this[_0x132b06(0x353)](_0x313d79),_0x1cd105=$(_0x2bc958[_0x132b06(0x589)]);return{'deletedCount':(await _0x4734e3[_0x132b06(0x3b5)](_0x1cd105))[_0x132b06(0x256)]};}catch(_0x258d71){return{'error':_0x258d71?.['toString']()};}}async[a0_0x15f0ef(0x4fe)](_0x43e944,_0xef3a36,_0x4ca523){const _0x5e2004=a0_0x15f0ef;try{let _0x3f8487=await this[_0x5e2004(0x353)](_0x4ca523)[_0x5e2004(0x468)](_0x43e944,_0xef3a36,{'overwrite':!0x0,'new':!0x0});return _0x3f8487||(console[_0x5e2004(0x790)](_0x5e2004(0x20b),_0x43e944),null);}catch(_0x30b97f){return console[_0x5e2004(0x790)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x30b97f),null;}}async[a0_0x15f0ef(0x218)](_0x56def9,_0x4d0d18,_0x1b51c6){const _0x510930=a0_0x15f0ef;try{let _0x513a7c=await this[_0x510930(0x353)](_0x1b51c6)[_0x510930(0x348)](_0x56def9);return _0x513a7c?(Object[_0x510930(0x6b4)](_0x513a7c,_0x4d0d18),await _0x513a7c[_0x510930(0x386)]()):(console['error']('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x56def9),null);}catch(_0x2691b4){return console['error'](_0x510930(0x1fb),_0x2691b4),null;}}async['updateMissingShareOwners'](_0x377018){const _0x5a1fe2=a0_0x15f0ef;try{let _0x5618df=this['getFlowModelForOwner'](_0x377018),_0x10040b={'shareOwners':{'$exists':!0x1}},_0x1189d0={'$set':{'shareOwners':[]}};return(await _0x5618df[_0x5a1fe2(0x5bb)](_0x10040b,_0x1189d0))[_0x5a1fe2(0x7f5)];}catch(_0x209b62){return console[_0x5a1fe2(0x790)](_0x209b62),0x0;}}async[a0_0x15f0ef(0x604)](_0x4c9dc4,_0x8a102e){const _0x1e4147=a0_0x15f0ef;try{let _0x224104=this['getFlowModelForOwner'](_0x8a102e);return await new _0x224104(_0x4c9dc4)[_0x1e4147(0x386)]();}catch(_0x6b11da){return console[_0x1e4147(0x790)](_0x1e4147(0x89a),_0x6b11da),null;}}async[a0_0x15f0ef(0x5bb)](_0x15589a,_0xe74537,_0x57726e){const _0x1d056a=a0_0x15f0ef;try{return{'modifiedCount':(await this[_0x1d056a(0x353)](_0x57726e)[_0x1d056a(0x5bb)](_0x15589a,{'$set':_0xe74537}))[_0x1d056a(0x7f5)]};}catch(_0x36f2e9){return console['error'](_0x1d056a(0x3db),_0x36f2e9),{'error':_0x36f2e9};}}async[a0_0x15f0ef(0x406)](_0x25266e,_0x582845){const _0x5cfdda=a0_0x15f0ef;try{let _0x50860c=this[_0x5cfdda(0x353)](_0x582845),_0x594d2b=$(_0x25266e[_0x5cfdda(0x589)]);return await _0x50860c['find'](_0x594d2b)[_0x5cfdda(0x6d5)](_0x25266e?.[_0x5cfdda(0x6d5)]??0x0)[_0x5cfdda(0x2ff)]();}catch{return[];}}async['findOne'](_0x4acfa,_0x545bd8){const _0x521a66=a0_0x15f0ef;try{let _0x32c85a=this[_0x521a66(0x353)](_0x545bd8),_0xbcc236=$(_0x4acfa[_0x521a66(0x589)]);return await _0x32c85a[_0x521a66(0x2f1)](_0xbcc236)[_0x521a66(0x2ff)]();}catch{return null;}}async['deleteAll'](_0x35c215){const _0x34a342=a0_0x15f0ef;try{return await this[_0x34a342(0x353)](_0x35c215)[_0x34a342(0x36d)][_0x34a342(0x5e1)](),{'success':!0x0};}catch(_0x318351){return console[_0x34a342(0x790)](_0x318351),{'success':!0x1,'error':_0x318351};}}},ss=class extends x{[a0_0x15f0ef(0x86b)](_0x4d435e){return wa(_0x4d435e);}async[a0_0x15f0ef(0x1ea)](_0x5c1ad3){const _0x828123=a0_0x15f0ef;try{let _0x288079=ya,_0x304842=this[_0x828123(0x86b)](_0x5c1ad3),_0xd2a8b5=await _0x288079[_0x828123(0x585)]({'owner':_0x5c1ad3})[_0x828123(0x2ff)](),_0x1c99de=[],_0xc82abf=[];for(let _0x26557f of _0xd2a8b5)await _0x304842[_0x828123(0x348)](_0x26557f[_0x828123(0x718)])[_0x828123(0x2ff)]()||(_0x1c99de[_0x828123(0x21e)](_0x26557f),_0xc82abf[_0x828123(0x21e)](_0x26557f[_0x828123(0x718)]));return _0x1c99de[_0x828123(0x272)]>0x0&&await _0x304842[_0x828123(0x50c)](_0x1c99de,{'ordered':!0x1}),{'success':!0x0};}catch(_0x329a6f){return console[_0x828123(0x790)](_0x828123(0x623),_0x329a6f),{'success':!0x1,'error':_0x329a6f};}}async[a0_0x15f0ef(0x6ed)](_0x23e91f){const _0xffd7b0=a0_0x15f0ef;if(_0x23e91f['length']!==0x0)try{return{'insertCount':(await this[_0xffd7b0(0x86b)](_0x23e91f[0x0][_0xffd7b0(0x2b6)])['insertMany']([..._0x23e91f]))[_0xffd7b0(0x272)]};}catch(_0x3a837c){return _0x3a837c;}}async[a0_0x15f0ef(0x439)](_0x164a5b,_0x397bb7){const _0x5a2082=a0_0x15f0ef;try{let _0x12bf9e=this['getConversationModelForOwner'](_0x397bb7),_0x1fc187=$(_0x164a5b[_0x5a2082(0x589)]);return{'deletedCount':(await _0x12bf9e['deleteMany'](_0x1fc187))[_0x5a2082(0x256)]};}catch(_0x3b3593){return{'error':_0x3b3593?.[_0x5a2082(0x5f0)]()};}}async[a0_0x15f0ef(0x3b5)](_0x2b0968,_0x10a46e){const _0x303a89=a0_0x15f0ef;try{let _0x141830=this['getConversationModelForOwner'](_0x10a46e),_0xf34937=$(_0x2b0968[_0x303a89(0x589)]);return{'deletedCount':(await _0x141830[_0x303a89(0x3b5)](_0xf34937))[_0x303a89(0x256)]};}catch(_0x1508d9){return{'error':_0x1508d9?.['toString']()};}}async[a0_0x15f0ef(0x429)](_0x176f49,_0x461112){const _0x2ca612=a0_0x15f0ef;try{if(_0x176f49[_0x2ca612(0x272)]===0x0)return;let _0x482527=this['getConversationModelForOwner'](_0x461112),_0x3c84ec=_0x176f49[_0x2ca612(0x684)](_0x34be88=>({'updateOne':{'filter':{'name':_0x34be88[_0x2ca612(0x2c9)],'owner':_0x461112},'update':{..._0x34be88}}})),{modifiedCount:_0x3ceb7b}=await _0x482527['bulkWrite'](_0x3c84ec);return{'insertCount':_0x3ceb7b};}catch{return;}}async[a0_0x15f0ef(0x5bb)](_0x56a249,_0x1077f7,_0x55bf4b){const _0x3c2e4a=a0_0x15f0ef;try{return{'modifiedCount':(await this[_0x3c2e4a(0x86b)](_0x55bf4b)[_0x3c2e4a(0x5bb)](_0x56a249,{'$set':_0x1077f7}))['modifiedCount']};}catch(_0x400486){return console['error'](_0x3c2e4a(0x7d4),_0x400486),{'error':_0x400486};}}async[a0_0x15f0ef(0x218)](_0x332b58,_0x2c41bf,_0x2b1254){const _0x5de43a=a0_0x15f0ef;try{return await this[_0x5de43a(0x86b)](_0x2b1254)[_0x5de43a(0x231)]({'_id':_0x332b58},{'$set':_0x2c41bf},{'new':!0x0,'upsert':!0x0})[_0x5de43a(0x2ff)]();}catch(_0x2ed11e){return console[_0x5de43a(0x790)](_0x2ed11e),null;}}async[a0_0x15f0ef(0x585)](_0x7efe22,_0x3ddebd){const _0x14a7d4=a0_0x15f0ef;try{return await this['getConversationModelForOwner'](_0x3ddebd)[_0x14a7d4(0x585)](_0x7efe22)[_0x14a7d4(0x239)]({'lastInteraction':-0x1})[_0x14a7d4(0x2ff)]();}catch{return[];}}async['findOne'](_0x23d09c,_0x159836){const _0x40a1fb=a0_0x15f0ef;try{return await this[_0x40a1fb(0x86b)](_0x159836)[_0x40a1fb(0x2f1)]({..._0x23d09c[_0x40a1fb(0x589)]})[_0x40a1fb(0x2ff)]();}catch{return null;}}async[a0_0x15f0ef(0x209)](_0x18a15d){const _0x21c84b=a0_0x15f0ef;try{return await this['getConversationModelForOwner'](_0x18a15d)['collection']['drop'](),{'success':!0x0};}catch(_0x22ebde){return console[_0x21c84b(0x790)](_0x22ebde),{'success':!0x1,'error':_0x22ebde};}}},as=class extends x{[a0_0x15f0ef(0x472)](_0x3b6508){return Sa(_0x3b6508);}async['copyDataToNewModel'](_0x2de55d){const _0x501a0c=a0_0x15f0ef;try{let _0x6f37a3=Ma,_0x3f1a5b=this[_0x501a0c(0x472)](_0x2de55d),_0x33d41a=await _0x6f37a3['find']({'owner':_0x2de55d})['lean'](),_0x537831=[],_0x245e5f=[];for(let _0x40cc4c of _0x33d41a)await _0x3f1a5b[_0x501a0c(0x348)](_0x40cc4c[_0x501a0c(0x718)])[_0x501a0c(0x2ff)]()||(_0x537831[_0x501a0c(0x21e)](_0x40cc4c),_0x245e5f[_0x501a0c(0x21e)](_0x40cc4c[_0x501a0c(0x718)]));return _0x537831['length']>0x0&&await _0x3f1a5b[_0x501a0c(0x50c)](_0x537831,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4f8a69){return console[_0x501a0c(0x790)](_0x501a0c(0x623),_0x4f8a69),{'success':!0x1,'error':_0x4f8a69};}}async[a0_0x15f0ef(0x604)](_0x3c7393,_0x354e1e){const _0x38d2ac=a0_0x15f0ef;try{let _0x40e7d4=this['getScheduleMessageModelForOwner'](_0x354e1e);return await new _0x40e7d4(_0x3c7393)[_0x38d2ac(0x386)]();}catch(_0xee28b5){return console[_0x38d2ac(0x790)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0xee28b5),null;}}async[a0_0x15f0ef(0x3b5)](_0x3403f6,_0x517541){const _0x34d496=a0_0x15f0ef;try{return await this[_0x34d496(0x472)](_0x517541)['findByIdAndDelete'](_0x3403f6),{};}catch(_0x15dce1){return{'error':_0x15dce1?.[_0x34d496(0x5f0)]()};}}async['updateOne'](_0x12d024,_0x31dfe0,_0x1b50d6){const _0x4b2eb9=a0_0x15f0ef;try{return await this[_0x4b2eb9(0x472)](_0x1b50d6)[_0x4b2eb9(0x231)](_0x12d024,{'$set':_0x31dfe0},{'new':!0x0})[_0x4b2eb9(0x2ff)]();}catch(_0x1f4dbd){return console[_0x4b2eb9(0x790)](_0x4b2eb9(0x53c),_0x1f4dbd),null;}}async['updateOneById'](_0x3bcab9,_0x750beb,_0x54452e){const _0x167379=a0_0x15f0ef;try{return await this[_0x167379(0x472)](_0x54452e)['findByIdAndUpdate'](_0x3bcab9,_0x750beb,{'new':!0x0})[_0x167379(0x2ff)]();}catch(_0x5c5e0b){return console[_0x167379(0x790)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5c5e0b),null;}}async[a0_0x15f0ef(0x585)](_0x390da6,_0x8ac060){const _0x5d7e2a=a0_0x15f0ef;try{return await this[_0x5d7e2a(0x472)](_0x8ac060)[_0x5d7e2a(0x585)](_0x390da6[_0x5d7e2a(0x589)])['limit'](_0x390da6?.[_0x5d7e2a(0x6d5)]??0x0)['sort']({'when':0x1})[_0x5d7e2a(0x2ff)]();}catch{return[];}}async['findOne'](_0x3a818e,_0x550597){const _0x4f957f=a0_0x15f0ef;try{return await this['getScheduleMessageModelForOwner'](_0x550597)[_0x4f957f(0x2f1)](_0x3a818e['where'])[_0x4f957f(0x239)]({'when':0x1})[_0x4f957f(0x2ff)]();}catch{return null;}}async[a0_0x15f0ef(0x348)](_0x24e776,_0x39c7a1){const _0x29fb26=a0_0x15f0ef;try{return await this[_0x29fb26(0x472)](_0x39c7a1)[_0x29fb26(0x348)](_0x24e776)[_0x29fb26(0x2ff)]();}catch{return null;}}async['deleteMany'](_0x1e3459,_0x326ab1){const _0xe5f9e0=a0_0x15f0ef;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x326ab1)[_0xe5f9e0(0x4a7)](_0x1e3459))[_0xe5f9e0(0x256)]};}catch(_0x237029){return console[_0xe5f9e0(0x790)](_0xe5f9e0(0x2f3),_0x237029),{'error':_0x237029};}}async['deleteAll'](_0x1a2970){const _0x2b5556=a0_0x15f0ef;try{return await this[_0x2b5556(0x472)](_0x1a2970)[_0x2b5556(0x36d)][_0x2b5556(0x5e1)](),{'success':!0x0};}catch(_0x100fa7){return console[_0x2b5556(0x790)](_0x100fa7),{'success':!0x1,'error':_0x100fa7};}}},rs=class extends x{async[a0_0x15f0ef(0x429)](_0x3d3244,_0x1f2fc8){const _0x105b03=a0_0x15f0ef;try{if(this[_0x105b03(0x50f)][_0x105b03(0x796)]){let _0x2cac93=await Ue[_0x105b03(0x231)]({'_id':_0x1f2fc8},{'$set':_0x3d3244},{'new':!0x0});return console[_0x105b03(0x884)]('Resultado\x20da\x20atualização:',_0x2cac93),_0x2cac93;}}catch(_0x958005){throw console[_0x105b03(0x790)](_0x105b03(0x788),_0x958005),_0x958005;}}async['findOrCreate'](_0x167fb6){const _0x280d1a=a0_0x15f0ef;try{let _0x158995=await Ue[_0x280d1a(0x348)](_0x167fb6);return _0x158995||(_0x158995=new Ue({'_id':_0x167fb6}),await _0x158995[_0x280d1a(0x386)]()),_0x158995;}catch(_0x23877a){return console['error'](_0x280d1a(0x79f),_0x23877a),null;}}},Ao=new N('WA\x20MODULE'),Io=new Ve(b),xo=new qt(b),Do=new st(b),_o=new Vt(ta,b),Po=new Zt(ca,b),ko=new es(oa,b),Lo=new ts(b),jo=new Bt(b),Fo=new ss(b),Uo=new as(b),Jo=new rs(b),ue=new Je(Io,xo,Do,_o,Po,ko,Lo,Fo,jo,Uo,Jo,R?.[a0_0x15f0ef(0x6f0)]()),B=new Jt(us,b,ue),qo=new Ht(b,B,ue),Vo=new Qt(B),Es=new Xt(Vo),I=new Yt(B),ie=new Wt(B,b,ue,us,qo),G=new zt(B),D=new Gt(B),q=new Kt(B);Ao[a0_0x15f0ef(0x556)]('Module\x20-\x20ON');function a0_0x472b(_0x5a6a6a,_0x4bd879){const _0x39a5df=a0_0x39a5();return a0_0x472b=function(_0x472b20,_0x1e7375){_0x472b20=_0x472b20-0x1c8;let _0x31d225=_0x39a5df[_0x472b20];return _0x31d225;},a0_0x472b(_0x5a6a6a,_0x4bd879);}var Dh=require(a0_0x15f0ef(0x852)),Ls=require('fs'),Dr=T(require(a0_0x15f0ef(0x20e))),_r=T(require(a0_0x15f0ef(0x699))),Te=class c{static #e;static set[a0_0x15f0ef(0x58b)](_0x10fba0){this.#e=_0x10fba0;}static get[a0_0x15f0ef(0x20e)](){const _0x2bd392=a0_0x15f0ef;let {FULLCHAIN:_0x1e0e00,PRIVKEY:_0xfb5ab8}=b[_0x2bd392(0x82b)]('SSL_CONF');return Dr[_0x2bd392(0x3cc)]({'cert':(0x0,Ls[_0x2bd392(0x337)])(_0x1e0e00),'key':(0x0,Ls[_0x2bd392(0x337)])(_0xfb5ab8)},c.#e);}static get[a0_0x15f0ef(0x699)](){const _0xa14f=a0_0x15f0ef;return _r[_0xa14f(0x3cc)](c.#e);}},pe=T(require('fs')),Ur=T(require(a0_0x15f0ef(0x349))),$e=T(require(a0_0x15f0ef(0x558))),Ie=T(require(a0_0x15f0ef(0x707))),xe=require(a0_0x15f0ef(0x87a));function Bo(){const _0x22c551=a0_0x15f0ef;B[_0x22c551(0x6da)]();let _0x2a9b21=Ie[_0x22c551(0x6bb)][_0x22c551(0x224)](__dirname,_0x22c551(0x818));Fr(_0x2a9b21);}var Fr=_0x34546c=>{const _0x13d181=a0_0x15f0ef;let _0x4bb30c=pe[_0x13d181(0x6bb)][_0x13d181(0x1f0)](_0x34546c),_0x337ee3=0xc*0x3c*0x3c*0x3e8,_0x47505d=0x2*0x3c*0x3c*0x3e8,_0x765788=new Date()[_0x13d181(0x6f2)]();_0x4bb30c['forEach'](_0x333460=>{const _0xba68dc=_0x13d181;let _0xc4321d=Ie[_0xba68dc(0x6bb)][_0xba68dc(0x224)](_0x34546c,_0x333460),_0x167de3=pe[_0xba68dc(0x6bb)][_0xba68dc(0x649)](_0xc4321d)['birthtime'][_0xba68dc(0x6f2)]();_0x765788-_0x167de3>_0x337ee3&&(pe[_0xba68dc(0x6bb)][_0xba68dc(0x890)](_0xc4321d),console[_0xba68dc(0x884)](_0xba68dc(0x35b)+_0x333460));}),setTimeout(()=>Fr(_0x34546c),_0x47505d);};function Go(){const _0x50b2ba=a0_0x15f0ef;let _0x223ea6=new N('SERVER'),_0x1be189=(0x0,he[_0x50b2ba(0x6bb)])();_0x1be189['use']((0x0,jr[_0x50b2ba(0x6bb)])({'origin'(_0x53e997,_0xd776a8){const _0xc7b971=_0x50b2ba;let {ORIGIN:_0x380e3b}=b[_0xc7b971(0x82b)](_0xc7b971(0x3ed));return _0x53e997||(_0x53e997='*'),_0x380e3b['indexOf']('*')!==-0x1||_0x380e3b[_0xc7b971(0x7d1)](_0x53e997)!==-0x1?_0xd776a8(null,!0x0):_0xd776a8(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b['get'](_0x50b2ba(0x3ed))['METHODS']],'credentials':b[_0x50b2ba(0x82b)](_0x50b2ba(0x3ed))[_0x50b2ba(0x369)]}),(0x0,he[_0x50b2ba(0x786)])({'extended':!0x0,'limit':_0x50b2ba(0x31e)}),(0x0,he['json'])({'limit':'50mb'})),_0x1be189[_0x50b2ba(0x261)]((_0x24d340,_0x21701f,_0x25571f)=>{const _0xb6be9f=_0x50b2ba;_0x24d340[_0xb6be9f(0x707)][_0xb6be9f(0x322)](_0xb6be9f(0x4e1))?_0x25571f():(0x0,Lr[_0xb6be9f(0x6bb)])()(_0x24d340,_0x21701f,_0x25571f);}),_0x1be189[_0x50b2ba(0x282)](_0x50b2ba(0x3a5),'hbs'),_0x1be189[_0x50b2ba(0x282)](_0x50b2ba(0x4ba),(0x0,Fs[_0x50b2ba(0x224)])(oe,_0x50b2ba(0x4ba))),_0x1be189[_0x50b2ba(0x261)](he[_0x50b2ba(0x6bb)][_0x50b2ba(0x637)]((0x0,Fs[_0x50b2ba(0x224)])(oe,_0x50b2ba(0x2cc)))),_0x1be189['use']((_0x5b1614,_0x28d602,_0x33092e)=>{const _0x283254=_0x50b2ba;let _0x2d4277=_0x28d602['send'];_0x28d602[_0x283254(0x7fd)]=function(_0x2bbf17){const _0x166cc1=_0x283254;if(_0x5b1614[_0x166cc1(0x2e5)][_0x166cc1(0x4de)]==='true'||_0x5b1614['headers'][_0x166cc1(0x6c0)]===_0x166cc1(0x825)){let _0x200d53=JSON['parse'](_0x2bbf17);_0x2bbf17=JSON[_0x166cc1(0x7a3)](_0x406bfc(_0x200d53));}return _0x2d4277[_0x166cc1(0x411)](_0x28d602,[_0x2bbf17]);},_0x33092e();}),_0x1be189[_0x50b2ba(0x261)]('/',At),_0x1be189['use']((_0x9df2ea,_0x178fba,_0x5df64b,_0x28f837)=>{const _0xd2c3b6=_0x50b2ba;if(_0x9df2ea)return _0x5df64b[_0xd2c3b6(0x60a)](_0x9df2ea[_0xd2c3b6(0x60a)]||0x1f4)[_0xd2c3b6(0x805)](_0x9df2ea);},(_0x200fa8,_0x593954,_0x1c3961)=>{const _0x200e40=_0x50b2ba;let {method:_0x17b5c8,url:_0x575e16}=_0x200fa8;_0x593954[_0x200e40(0x60a)](0x194)[_0x200e40(0x805)]({'status':0x194,'message':_0x200e40(0x4af)+_0x17b5c8[_0x200e40(0x72d)]()+'\x20'+_0x575e16,'error':_0x200e40(0x757)}),_0x1c3961();});let _0x406bfc=(_0x2fb6c9,_0x34bbf9=_0x50b2ba(0x770))=>{const _0x570a39=_0x50b2ba;let _0x46e3c3=(_0x3164a8,_0x3c8b90=null,_0x1fafa6=!0x1)=>{const _0x4a1619=a0_0x472b;let _0x3a622d={};return Object[_0x4a1619(0x6e6)](_0x3164a8)[_0x4a1619(0x40e)](_0x204a1f=>{const _0x11a15c=_0x4a1619;let _0x54e9ef=_0x3164a8[_0x204a1f],_0x201b91=''+_0x34bbf9+_0x204a1f;_0x3c8b90&&!_0x1fafa6&&(_0x201b91=_0x3c8b90+'.'+_0x204a1f),!_0x54e9ef&&_0x54e9ef!==0x0&&_0x54e9ef!==!0x1||typeof _0x54e9ef>'u'?_0x3a622d[_0x201b91]=null:typeof _0x54e9ef!=_0x11a15c(0x84f)&&!Array[_0x11a15c(0x1de)](_0x54e9ef)?_0x3a622d[_0x201b91]=_0x54e9ef:typeof _0x54e9ef==_0x11a15c(0x84f)&&!Array[_0x11a15c(0x1de)](_0x54e9ef)?_0x3a622d=Object['assign'](_0x3a622d,_0x46e3c3(_0x54e9ef,_0x201b91)):Array['isArray'](_0x54e9ef)&&(typeof _0x54e9ef[0x0]=='object'?(_0x3a622d[_0x201b91]=[],_0x54e9ef[_0x11a15c(0x40e)](_0xfa3a53=>{const _0x3e78da=_0x11a15c;_0x3a622d[_0x201b91][_0x3e78da(0x21e)](_0x46e3c3(_0xfa3a53,_0x201b91,!0x0));})):_0x3a622d[_0x201b91]=_0x54e9ef);}),_0x3a622d;};return Array[_0x570a39(0x1de)](_0x2fb6c9)?_0x2fb6c9[_0x570a39(0x684)](_0x216eda=>_0x46e3c3(_0x216eda)):typeof _0x2fb6c9==_0x570a39(0x84f)&&_0x2fb6c9!==null?_0x46e3c3(_0x2fb6c9):{};},_0x39da9f=b[_0x50b2ba(0x82b)](_0x50b2ba(0x627));Te[_0x50b2ba(0x58b)]=_0x1be189;let _0x15040b=Te[_0x39da9f['TYPE']],_0x53cf5e=_0x50b2ba(0x562);_0x15040b[_0x50b2ba(0x243)](_0x39da9f[_0x50b2ba(0x544)],()=>{const _0x285049=_0x50b2ba;_0x223ea6[_0x285049(0x884)](_0x53cf5e),_0x223ea6[_0x285049(0x884)](_0x39da9f['TYPE'][_0x285049(0x72d)]()+_0x285049(0x3e0)+_0x39da9f[_0x285049(0x544)]);}),Bo(),Ks();}var Wo=a0_0x15f0ef(0x5b4),zo=Ie[a0_0x15f0ef(0x6bb)]['join'](__dirname,a0_0x15f0ef(0x4b5)),Ae=null;function Ho(){return new Promise((_0x5a1180,_0x393d42)=>{const _0x2cafae=a0_0x472b;pe[_0x2cafae(0x6bb)][_0x2cafae(0x3b7)](zo,'utf-8',(_0x30f743,_0x3a3de2)=>{const _0x4aa3e4=_0x2cafae;if(_0x30f743){Ae=_0x30f743,_0x5a1180();return;}Ur['default'][_0x4aa3e4(0x379)](_0x3a3de2)[_0x4aa3e4(0x6fc)][_0x4aa3e4(0x66d)]===Wo?(Ae=null,_0x5a1180()):(Ae=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x5a1180());});});}async function Ko(){const _0x33bc14=a0_0x15f0ef;try{await Ho(),await Us();}catch(_0xa85910){console[_0x33bc14(0x790)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0xa85910),process[_0x33bc14(0x447)](0x1);}}Ko();async function Jr(){const _0x348bff=a0_0x15f0ef;let _0x53bebe;try{_0x53bebe=(await $e[_0x348bff(0x6bb)][_0x348bff(0x82b)](_0x348bff(0x715)))['data']['ip'];}catch(_0x16d1f7){console[_0x348bff(0x790)](_0x16d1f7);try{_0x53bebe=(await $e[_0x348bff(0x6bb)][_0x348bff(0x82b)](_0x348bff(0x870)))[_0x348bff(0x467)]['ip'];}catch(_0x1ff2ab){console[_0x348bff(0x790)](_0x1ff2ab);try{_0x53bebe=(await $e[_0x348bff(0x6bb)][_0x348bff(0x82b)](_0x348bff(0x43a)))['data'][_0x348bff(0x2ea)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x20a4a8){return console[_0x348bff(0x790)](_0x20a4a8),!0x1;}}}return _0x53bebe;}var Pr=0x0;async function Qo(){const _0x3c3a53=a0_0x15f0ef;let _0x34a9d6=await new ne(b[_0x3c3a53(0x82b)]('REDIS'))['instanceKeys']();return console[_0x3c3a53(0x884)](_0x3c3a53(0x28c),_0x34a9d6['length']),_0x34a9d6[_0x3c3a53(0x272)];}function Yo(_0x3e254d){const _0x46410e=a0_0x15f0ef;let _0x470998=_0x3e254d['get']('SERVER')['URL'],_0x3b6d86=_0x3e254d[_0x46410e(0x82b)](_0x46410e(0x320)),_0x20dd8c;if(_0x470998){let _0x1be8e3=_0x470998[_0x46410e(0x2ea)](/\/\/(.*?)\./);_0x1be8e3&&_0x1be8e3[0x1]&&(_0x20dd8c=_0x1be8e3[0x1]);}if(!_0x20dd8c&&_0x3b6d86&&_0x3b6d86['FULLCHAIN']){let _0x2f6e52=_0x3b6d86['FULLCHAIN'][_0x46410e(0x414)]('/'),_0x660daf=_0x2f6e52[_0x2f6e52['length']-0x2];if(_0x660daf){let _0x3394be=_0x660daf[_0x46410e(0x414)]('.');_0x3394be[_0x46410e(0x272)]>0x2&&(_0x20dd8c=_0x3394be[0x0]);}}return _0x20dd8c;}var _s=Yo(b);async function Xo(){const _0x57da06=a0_0x15f0ef;let _0x168306=b[_0x57da06(0x82b)](_0x57da06(0x53d)),_0x201942=b[_0x57da06(0x82b)]('AUTHENTICATION')[_0x57da06(0x71f)][_0x57da06(0x65e)],_0x25da05=b['get'](_0x57da06(0x320)),_0x160865=await Jr(),_0x433f43=b[_0x57da06(0x82b)](_0x57da06(0x627))['PORT'],_0x37f191=b[_0x57da06(0x82b)](_0x57da06(0x627))[_0x57da06(0x7d0)];try{let _0x70c8b3={'ip':_0x160865||null,'redis_enable':_0x168306?.[_0x57da06(0x796)]||null,'apikey':_0x201942||null,'ssl':_0x25da05?.[_0x57da06(0x6b8)]||null,'lastupdate':qr||null,'port':_0x433f43||null,'gitInstallError':Ae?.[_0x57da06(0x488)]||null,'url':_0x37f191||null};if(console[_0x57da06(0x884)](_0x57da06(0x2bd),_0x70c8b3['ip']),_0x168306&&_0x168306[_0x57da06(0x796)]){let _0x526f0a=await Qo();_0x70c8b3[_0x57da06(0x564)]=_0x526f0a||null;}for(let _0x50b5c5 in _0x70c8b3)_0x70c8b3[_0x57da06(0x782)](_0x50b5c5)&&_0x50b5c5!=='ip'&&(_0x70c8b3[_0x50b5c5]=JSON[_0x57da06(0x7a3)](_0x70c8b3[_0x50b5c5]));return(await $e[_0x57da06(0x6bb)][_0x57da06(0x6d9)](_0x57da06(0x75b),_0x70c8b3))['data'];}catch(_0x56c451){return console['error'](_0x56c451),!0x1;}}var js=!0x1,qr=0x239,Zo=0x3,kr=0x1b7740;async function Us(){const _0x31af74=a0_0x15f0ef;if(!await Jr())return console[_0x31af74(0x790)](_0x31af74(0x726)),'NO_IP';let _0x4cd281=await Xo();if(_0x4cd281){if(_0x4cd281[_0x31af74(0x266)][_0x31af74(0x765)]===!0x0){let _0x24dcb2=b[_0x31af74(0x82b)](_0x31af74(0x320)),_0x210828=b[_0x31af74(0x82b)](_0x31af74(0x627))['URL'];_0x24dcb2&&_0x24dcb2?.[_0x31af74(0x6b8)]?.[_0x31af74(0x3d8)]('<subdomain>')&&_0x4cd281[_0x31af74(0x266)]['subdomain']&&!_0x210828&&(await si(_0x4cd281[_0x31af74(0x266)][_0x31af74(0x425)],ti),await ai(_0x31af74(0x577),_0x4cd281[_0x31af74(0x266)][_0x31af74(0x425)]),console[_0x31af74(0x884)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>oi(),0x2710)),Ae===null&&_0x4cd281['response']['last_update']-qr>0x0&&await ei(),js||(js=!0x0,Go());let _0x1c8472=0x24*0x3c*0x3c,_0x52303e=_0x4cd281['response']['segundos']>_0x1c8472?_0x1c8472:_0x4cd281['response']['segundos'],_0x4d3bce=Number(_0x52303e);if(isNaN(_0x4d3bce)){console[_0x31af74(0x790)](_0x31af74(0x806));return;}let _0x2f6e43=Math[_0x31af74(0x34a)](_0x4d3bce/0xe10),_0x55c216=Math['floor'](_0x4d3bce%0xe10/0x3c),_0x2d6fcf=new Date(Date['now']()+_0x4d3bce*0x3e8);setTimeout(Us,_0x4d3bce*0x3e8);let _0x30a1d9=_0x2e9fd2=>_0x2e9fd2['toString']()[_0x31af74(0x4ec)](0x2,'0'),_0x417356=_0x31af74(0x24f)+_0x30a1d9(_0x2f6e43)+_0x31af74(0x492)+_0x30a1d9(_0x55c216)+_0x31af74(0x6d8)+_0x30a1d9(_0x2d6fcf['getHours']())+':'+_0x30a1d9(_0x2d6fcf[_0x31af74(0x399)]())+'.';console[_0x31af74(0x884)](_0x417356);}else return console[_0x31af74(0x884)](_0x31af74(0x763)),js&&(console[_0x31af74(0x884)](_0x31af74(0x7aa)),process[_0x31af74(0x447)]()),_0x31af74(0x3c1);}else{if(Pr++,Pr<Zo)console[_0x31af74(0x884)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+kr/0xea60+_0x31af74(0x6ea)),setTimeout(Us,kr);else return console['error']('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x31af74(0x6b1);}}async function ei(){const _0x173554=a0_0x15f0ef;console[_0x173554(0x884)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x82971b=(0x0,xe[_0x173554(0x68b)])(_0x173554(0x39e),{'shell':!0x0});_0x82971b['stdout']['on'](_0x173554(0x467),_0xf2908a=>{const _0xb3f835=_0x173554;console[_0xb3f835(0x884)](_0xb3f835(0x5ea)+_0xf2908a);}),_0x82971b[_0x173554(0x737)]['on'](_0x173554(0x467),_0x5bd656=>{const _0x4529d9=_0x173554;console[_0x4529d9(0x790)]('Erro\x20de\x20atualização:\x20'+_0x5bd656);}),_0x82971b['on']('exit',_0x5ab7fe=>{const _0x25a67c=_0x173554;_0x5ab7fe!==0x0?console[_0x25a67c(0x790)](_0x25a67c(0x5c9)+_0x5ab7fe):console[_0x25a67c(0x884)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x25a67c(0x884)](_0x25a67c(0x35a)),setTimeout(()=>process[_0x25a67c(0x447)](),0x2710);});}var ti=Ie[a0_0x15f0ef(0x6bb)]['join'](__dirname,a0_0x15f0ef(0x822));async function si(_0x8a8f26,_0x2f1f4e){const _0x4f543e=a0_0x15f0ef;let _0x250b44=ri();_0x8a8f26=_0x8a8f26[_0x4f543e(0x1e1)](_0x4f543e(0x7a0),'');try{let _0x425544=pe[_0x4f543e(0x6bb)][_0x4f543e(0x337)](_0x2f1f4e,_0x4f543e(0x60d));_0x425544=_0x425544[_0x4f543e(0x1e1)](/<apikey>/,_0x250b44),_0x425544=_0x425544[_0x4f543e(0x1e1)](/<subdomain>/g,_0x8a8f26),pe['default'][_0x4f543e(0x24d)](_0x2f1f4e,_0x425544,_0x4f543e(0x60d)),console[_0x4f543e(0x884)](_0x4f543e(0x47b));}catch(_0x5ede0f){console['error']('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x5ede0f);}}function ai(_0x152774,_0xf3813b){return new Promise((_0x8fbfcd,_0x42c659)=>{const _0x4793d8=a0_0x472b;let _0x17d584=(0x0,xe[_0x4793d8(0x68b)])(_0x4793d8(0x669),[_0x4793d8(0x2e0),_0x4793d8(0x6aa),'-m',_0x152774,_0x4793d8(0x299),'-d',_0xf3813b]);_0x17d584['stdout']['on'](_0x4793d8(0x467),_0x449f69=>{const _0x1b0ba5=_0x4793d8;console[_0x1b0ba5(0x884)](_0x1b0ba5(0x25f)+_0x449f69[_0x1b0ba5(0x5f0)]());}),_0x17d584[_0x4793d8(0x737)]['on'](_0x4793d8(0x467),_0x4062b7=>{const _0x2d325e=_0x4793d8;console[_0x2d325e(0x790)](_0x2d325e(0x614)+_0x4062b7[_0x2d325e(0x5f0)]());}),_0x17d584['on']('close',_0x4e979a=>{const _0x2fde01=_0x4793d8;_0x4e979a!==0x0?(console['error'](_0x2fde01(0x607)+_0x4e979a),_0x42c659(_0x2fde01(0x607)+_0x4e979a)):(console[_0x2fde01(0x884)](_0x2fde01(0x444)),_0x8fbfcd());});});}function ri(_0x571ef8=0x32){const _0x23dd6f=a0_0x15f0ef;let _0x8ac79c='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x5bbe3f='';for(let _0x2c15a9=0x0;_0x2c15a9<_0x571ef8;_0x2c15a9++)_0x5bbe3f+=_0x8ac79c[_0x23dd6f(0x3fb)](Math[_0x23dd6f(0x34a)](Math[_0x23dd6f(0x755)]()*_0x8ac79c[_0x23dd6f(0x272)]));return _0x5bbe3f;}function oi(){const _0x316d10=a0_0x15f0ef;(0x0,xe[_0x316d10(0x2d6)])('shutdown\x20-r\x20now',(_0x42a305,_0x52f5c7,_0x2a263d)=>{const _0x9c45a6=_0x316d10;if(_0x42a305){console['error'](_0x9c45a6(0x53b)+_0x42a305);return;}if(_0x2a263d){console[_0x9c45a6(0x790)](_0x9c45a6(0x71b)+_0x2a263d);return;}console[_0x9c45a6(0x884)]('Reinicialização\x20iniciada:\x20'+_0x52f5c7);});}0x0&&(module[a0_0x15f0ef(0x582)]={'subdomain':subdomain});