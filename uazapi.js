const a0_0x20fba6=a0_0x2eae;(function(_0x137f31,_0x5a08ee){const _0x7539df=a0_0x2eae,_0x49bc5e=_0x137f31();while(!![]){try{const _0x4df7e0=parseInt(_0x7539df(0x165))/0x1*(parseInt(_0x7539df(0x1d1))/0x2)+parseInt(_0x7539df(0x598))/0x3+parseInt(_0x7539df(0x825))/0x4+-parseInt(_0x7539df(0x143))/0x5+parseInt(_0x7539df(0x3c2))/0x6+-parseInt(_0x7539df(0x7b3))/0x7*(-parseInt(_0x7539df(0x6f7))/0x8)+-parseInt(_0x7539df(0x38f))/0x9;if(_0x4df7e0===_0x5a08ee)break;else _0x49bc5e['push'](_0x49bc5e['shift']());}catch(_0x472983){_0x49bc5e['push'](_0x49bc5e['shift']());}}}(a0_0x14fb,0x521da));var Gi=Object[a0_0x20fba6(0x19e)],qe=Object['defineProperty'],Bi=Object[a0_0x20fba6(0x47a)],Wi=Object[a0_0x20fba6(0x12d)],zi=Object[a0_0x20fba6(0x6bd)],Hi=Object[a0_0x20fba6(0x403)][a0_0x20fba6(0x362)],Ki=(_0xcaa5c,_0x282240)=>{for(var _0x1133d4 in _0x282240)qe(_0xcaa5c,_0x1133d4,{'get':_0x282240[_0x1133d4],'enumerable':!0x0});},Vs=(_0x52bc0e,_0x18b5ca,_0x7ad7f,_0x5d397b)=>{const _0x684e2d=a0_0x20fba6;if(_0x18b5ca&&typeof _0x18b5ca==_0x684e2d(0x6ff)||typeof _0x18b5ca==_0x684e2d(0x17b)){for(let _0x536f56 of Wi(_0x18b5ca))!Hi[_0x684e2d(0x1af)](_0x52bc0e,_0x536f56)&&_0x536f56!==_0x7ad7f&&qe(_0x52bc0e,_0x536f56,{'get':()=>_0x18b5ca[_0x536f56],'enumerable':!(_0x5d397b=Bi(_0x18b5ca,_0x536f56))||_0x5d397b[_0x684e2d(0x663)]});}return _0x52bc0e;},A=(_0x513fd7,_0x5efb60,_0xfa60)=>(_0xfa60=_0x513fd7!=null?Gi(zi(_0x513fd7)):{},Vs(_0x5efb60||!_0x513fd7||!_0x513fd7[a0_0x20fba6(0x655)]?qe(_0xfa60,a0_0x20fba6(0x269),{'value':_0x513fd7,'enumerable':!0x0}):_0xfa60,_0x513fd7)),Qi=_0x193a98=>Vs(qe({},'__esModule',{'value':!0x0}),_0x193a98),ur={};function a0_0x14fb(){const _0x39b9de=['refused','$addToSet','DATABASE_ENABLED','_Contacts','https','https://chat.whatsapp.com/','extractMessageContent','Types','autoCompleteMessages.command_1','env.KEY\x20!==\x20key','HH:mm:ss','inviteUrl','Message\x20absent\x20from\x20node','messages.update',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20Buscando\x20flow...','):\x20debug\x20alterando\x20this.AutomateSystem','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','_activatedCount','stopConversation','body','https://api64.ipify.org?format=json','image','set','\x22\x20-\x20NOT\x20CONNECTION','fetchProfile','enabled','Valor\x20inicial:\x20\x22','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','findRealGroups','Primeiro\x20Valor:\x20','Erro\x20ao\x20editar\x20o\x20chat','):\x20Buscando\x20flow,\x20id:\x20','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):\x20Current\x20Time:\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','item','@whiskeysockets/baileys','groups','group','all_member_add','fone','):\x20Erro\x20durante\x20a\x20atualização:\x20','axios','\x1b[1m\x1b[37m','Erro\x20ao\x20buscar\x20conversas','processclearVariables','views','getMessageModelForOwner','isValidIPv6Config','finish','delayChatLabel_MAX_RETRIES','pictureUrl','etiquetas','):\x20leadInfoVariables','less',',\x20Minutes\x20to\x20Close:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Número\x20não\x20possui\x20WhatsApp.','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','sendButtons','deleteOne','routerPath','viewOnceMessageV2','\x20-i\x20','reconnectTimestamps','replaceVariablesChat','/clients-info','getScheduleMessage','verbose','editflowvaredit','editFlowGroup','reference','ScheduleMessage','groups_ignore','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','dropCollection','last','METHODS','updateLastSeenPrivacy','profilePictureUrl','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20',',\x20Novo\x20tamanho:\x20','author','):Temp\x20image\x20deleted','composing','CHATS_DELETE','local_map','getAutomateSystem','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','contacts.update','cleaningUp','pollCreationMessage','messageContextInfo','sendPresenceUpdate',',\x20pairCode:\x20','Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','cache','recebido\x20de','joinGroup','):Fetching\x20business\x20profile','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','video','.webm','editFlow','presence.update','scheduleSendMedia','stateConnection','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','sign','Network\x20Interface\x20detected:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','available','getMinutes','pollCreationMessageV2','!cmd_','MESSAGES_SET','groupSetting','generateWAMessageFromContent','findOne','):\x20Enviando\x20localização','variablesNotFound','editConversation','filter','\x0aitem','TEXT','redis://127.0.0.1:6379','HOST','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Comando\x20desconhecido:\x20','updateProfilePicture','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','Cache\x20instance\x20update\x20result:\x20','demote','join','inviteCodeDetails','\x20Tentativa\x20de\x20reconexão\x20','convertToString','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','343QMkrRr','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','instanceName\x20not\x20provided.','lastReceivedMessage','):\x20Error\x20processing\x20the\x20block:\x20','_activedCount','request\x20received\x20in\x20updateAgent','leadInfo.desativadoFluxoAte','3EB0','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','USER','replaceVariablesInReplyOptions','):\x20Deletando\x20mensagem','pollUpdateMessage','\x20minutos','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','sendPoll','goNextblock','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','instancias:\x20','vir','groupRequestParticipantsUpdate','\x20\x1b[0m','ON\x20-\x20dbName:\x20','lastFetchAwaitingApproval','flowName','updateConversation','output','@redis/client','mediatype','messageStubParameters','checkAndRestartProcess','\x20-y','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','\x1b[0m','info','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','groupName','type','editflowvariable','muteEndTime','Limpando\x20logs\x20do\x20PM2...','fetchLatestBaileysVersion','conditions','getHours','shareFlow','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','username','downloadMediaMessage','messages','loadEnv','Sistema\x20atualizado\x20com\x20sucesso!','stopMinutesMaxActives','findOrCreate','vote','envYaml','waitingMenu_text','PENDING','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','buttonText','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Forbidden','MAX_SAFE_INTEGER','inviteCode','connectionStatus','):\x20lastBlockId:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','optionName','has','):Audio\x20processed','):\x20[messages.update]\x20group\x20ignored','):\x20Conversa\x20inserida\x20com\x20sucesso.','/startFlow/:instance/:startID','fetchProfilePicture','getDelay','writeData','WA\x20MODULE','Database\x20connection\x20closed.','uazapiSendAudio','\x1b[32m','DELETED','entries','SERVER','authService','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','exit','request\x20received\x20in\x20updateAutoCompleteMessages','Partes\x20do\x20domínio:','docker','isCommunityAnnounce','Variável\x20não\x20encontrada!','expression','URL\x20não\x20disponível','Erro\x20ao\x20criar\x20fluxo','indexOf','50mb','updateFlowConfig','./.git/config','This\x20name\x20','and','.pptx','dbInstance','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','messageTimestamp','apikey','groupSettingUpdate','):\x20Entrou\x20na\x20função\x20clearVariables','\x5cd+','address','unhandledRejection','blocks','instanceInfo','Erro\x20ao\x20adicionar\x20label\x20','136672pzngfg','The\x20global\x20api\x20key\x20must\x20be\x20set','Conexão\x20estabelecida','processConditions','RemoveChatLabel','user','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','#f64847','proto','ListMessage','findIndex','utf-8','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','STORE_CLEANING_TERMINAL','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','some','Instance\x20Name:','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','beautifyWithPlaceholders','verifiedName','apiResponse','DisconnectReason','optionDescription','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','INFO','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','}}\x20->\x20\x22','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20\x27Deletando\x20fluxo,\x20id:\x20','videoMessage','updateAutoCompleteMessages','reject','sendDataWebhook','convertToWebP','groupCreate','Rótulo\x20deletado:\x27,\x20','chatId','labelId','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','silent','/wa-contacts','LOG_COLOR','webhookModel','createConnection','updateMediaMessage','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Erro\x20ao\x20copiar\x20o\x20documento','mentioned','):\x20Iniciando\x20bot...','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','sim','Falta\x20informação\x20para\x20a\x20chamada\x20API','CONNECTION_UPDATE','):\x20customFieldVariables','linkPreview','sendAudio','):\x20alterando\x20this.AutomateSystem','Erro\x20ao\x20remover\x20label\x20','fetchLabels','):\x20Entrou\x20na\x20função\x20goToFlow','):\x20Buscando\x20todos\x20os\x20fluxos...','.error','groupGetInviteInfo','updateChatGroupData','findAndReplace','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','add','random','writeFileSync','HeaderType','protocolMessage','forEach','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','AUTHENTICATION_JWT_SECRET','updateParticipant','reorderReplyOptions','\x20mensagens\x20de\x20','/wa-qrcode','\x20inseridos\x20no\x20banco\x20de\x20dados...','lastSendMessage','blockLogs','unlinkSync','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','then','error_log','js-yaml','contactHandle','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','https://jsonip.com','.fileUrl','namespace','online','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','ex:\x20\x22groupJid=120362@g.us\x22',',\x20Resultado:\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','deleteInstance','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','getflow','Nenhum\x20fluxo\x20correspondente\x20encontrado.','NextBlock','notify','connectionClosed','Esse\x20fluxo\x20expirou','replyOptions','\x22\x20-\x20REMOVED','File\x20written\x20to\x20path:\x20','QRCODE_UPDATED','reconnectAttempts','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','PORT','keep-alive','phoneNumber','Instance\x20restarted','Deletion\x20failed','shift','):\x20Atualizando\x20status\x20da\x20mensagem\x20','url','):\x20Mensagem\x20já\x20enviada\x20para\x20','src','getOwnPropertyNames','not_announcement','closeExistingConversations','waitingForReplyMenu','automateSystem','flowStopMinutes','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Close\x20connection','description','ChatRouter','pollErrorMessage','setNewValue','jwt','KEY',',\x20lastCondition:\x20','public','toLocaleString','Conversa\x20deletada\x20com\x20sucesso.','global','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','proxy:\x20','502395RTNCTf','notEmpty','use','Error\x20writing\x20file:\x20','Data\x20inválida\x20fornecida','router','isCommunity','isAdmin','profilePicture','groupdata.participants','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','Router','Garbage\x20collection\x20não\x20está\x20disponível.','onTime','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','isBusiness','upsertedCount','delayChatLabel','sendContact','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','applyvaredit','Erro\x20ao\x20tentar\x20autoCompleteMessages','Error\x20fetching\x20and\x20updating\x20profile:\x20','dbSettings','group-participants.update','convertaudioMP3','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','findMessages','readFile','DATABASE_CONNECTION_PASSWORD','stack','Error\x20updating\x20cache\x20contact:','151207eoFoUm','dataValidate','Operador:\x20\x22','statusCode','/exit','statusJidList','.ppt','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','isJWT','deletedCount','evaluateCondition','SSL_CONF','queue','cpf','https://api.openai.com/v1/images/generations','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','readMessageBot','toString','mediaSticker','uazapiDeleteMessage','hasCheckedSendingMessages','):\x20Rótulo\x20atualizado:\x20','function','paused','IPv6\x20addresses\x20detected:\x20','slice','\x20}\x0a','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','fullName','updateGroupWebhook','.svg','updateMessage','_Messages','Filtered\x20network\x20interfaces:\x20','):\x20expirationTime:\x20','imageMessage','updateStatusPrivacy','express-async-errors','variable','waInstances','\x1b[1m','):Processing\x20audio','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','/wa-message-update','addReplyOption','getBusinessProfile','createIPv6','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','color','$set','request\x20received\x20in\x20updateCustomFields','):\x20não\x20encontrou','catch','):\x20Editando\x20replyOption...','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','create','ListType','contacts','contactMessage','.\x20Aguardando\x20','min','CHATS_UPDATE','Erro\x20ao\x20alterar\x20fluxo','now','updateGroupParticipantsWebhook','ContactModel','json','READ','displayName','.mimetype','getProfileName','fileLength','call','\x20tentativas.','.ogg','.X-ABLabel:Celular\x0a','contactsArrayMessage','instanceName','repeat','):\x20teve\x20mudanças\x20chat.archived:\x20','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','statusMessage','\x20contacts','ERROR:\x20','badSession','updateAgent','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','connectedName','saveChatVariables','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','allflows','telefone','cleanStore','ButtonsMessage','scheduleMessage','http','keys','.ogv','closed','exports','readFileSync','.jpg','findGroupInfos','Atualização:\x20','values','/wa-groups','6icUDMX','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','repository','):\x20transformedCustomFieldVariables','#ffffff','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','\x27\x20do\x20banco\x20de\x20dados...','importChats','caption','processReadyMessages','selectedOptions','findById','lastMessage','IP\x20confirmed:\x20','restrict','query','flowIgnoreGroups','@s.whatsapp.net','Nenhum\x20chat\x20encontrado\x20para\x20editar.','\x20chats\x20de\x20','}}\x20->\x20valor\x20não\x20encontrado','updateOne','):Image\x20created','leaveGroup','response','menuIgnoreNonVotes','Read\x20messages','allFlows','\x1b[40m','command','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','authModel','padEnd','reaction','isListOfNumbers','all','width','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','flowConfig','scheduleSendAudio','Erro\x20ao\x20aplicar\x20varedit:\x20','Missing\x20global\x20api\x20key','SendScheduleMessage','toUpperCase','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','uazapiSendMedia','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','mediaMessage','\x20não\x20encontrado\x20para\x20atualização.','Novo\x20IP\x20criado:\x20','email','Removidas\x20as\x20variáveis:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','uuid','URI','deleteFlow','The\x20','Authentication\x20error','reactionMessage','Schema','removed','delayChatLabel_RETRY_DELAY_MS','Retornando\x20grupos\x20SEM\x20cache','jpegThumbnail','true','connectToWhatsapp','when','!stop','name','_sender','remote\x20\x22origin\x22','getReadyToSendMessages','GET','length','):\x20Enviando\x20mensagem\x20para\x20','selectableCount','Erro\x20ao\x20deletar\x20chat:','):\x20\x27Enviando\x20texto\x20para\x20\x27','AddChatLabel','connecting','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','groupValidate','match_last_seen','equal','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Usando\x20IP\x20existente:\x20','processawaitSeconds','emit','):\x20Ignoring\x20group\x20messages.','):\x20Removendo\x20\x27','messaging-history.set','updateGroupsAddPrivacy','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','realVariables','removeIPv6ById','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','flow','END:VCARD','data:\x20','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','headerString','findByIdAndUpdate','newValue','sendMedia','audio','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','Message','floor','0123456789ABCDEF','startID','round','numbers','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','delaySecMax','ERROR','sendMessage','/create','key','request\x20received\x20in\x20editFlowgroup','\x1b[37m','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','/media/','formatStatusMessage','replaceVariables','\x1b[41m','SECRET','Fluxos\x20não\x20estão\x20ativados','https://api.elevenlabs.io/v1/text-to-speech/','approve','subjectTime','collections','Db\x20Connection','.wav','trimmed','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','post','canSendMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','pm2\x20flush','urlOrBase64','/instance/connectionState','participants','https://','API\x20Key\x20from\x20Request:','createConversationforStartFlow','fileUrl','limit','chats.delete','saveVariable','default','updateGParticipate','enviado\x20para','truncatedtoEnd','replyOption','Valor\x20da\x20URL\x20recuperada:','replacer','cachedContacts-whatsapp','uazapiSendMenu','conversationTimestamp','):\x20Conversa\x20está\x20expirada\x20-\x20voto','scheduleSendText','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','variablesToObject','PASSWORD','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','.docx','stringify','extractPhoneNumber','Last\x20message\x20not\x20found','):\x20Usando\x20extensão\x20padrão:\x20','The\x20\x22','expiration','pairingCode','notas','rm\x20-rf\x20','globalShow','dark','Erro\x20na\x20função\x20updateChatWithMessage:\x20','unavailable','qrCode','updateChatWithMessage','pollCreationMessageKey','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','CORS_METHODS','replaceValue','SSL_CONF_FULLCHAIN','organization','content-type','\x1b[37m%s\x1b[0m','locked','groupRequestParticipantsList','InstancesAlterarTodas','editFlowVariable','):\x20Enviando\x20mídia','REDIS_PREFIX_KEY','):Audio\x20converted\x20and\x20stored\x20in\x20cache','processUazapi','out','SEND_MESSAGE','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','dropIndex','creation','JWT','#fe9dfe','_id','contact_blacklist','abs','compression','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Unauthorized','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','groupdata','stdout','GROUPS_UPDATE','groupDesc','processingGroup','Group\x20not\x20found','Error\x20removing\x20IPv6\x20address:\x20','push','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Cannot\x20','\x27\x20não\x20encontrado','bodyStringErrorParse','ids','message_normalized','Instance\x20Key\x20from\x20DB:','BRL','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',',\x20fará\x20nova\x20verificação\x20em\x20','drop','):Archiving\x20chat','groupHandler','archiveChat','TEL','getConversationModelForOwner','createJid','):\x20Editando\x20bloco...','condition','/instance/fetchInstances','Deleted\x20','prepareMediaMessage','Erro\x20ao\x20atualizar\x20conversa:\x20','\x27...','generate','):\x20mediaMessageInfoId\x20:\x20','PRIVKEY','endsWith','release','spawn','/instance/create','):\x20Adicionando\x20\x27','CONTACTS_UPSERT','groupInviteCode','ephemeralExpiration','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','leadInfo.customFields','verifyWhatsAppNumber','responsavelid','getBase64FromMediaMessage','fetchContacts','updateProfileName','Instance\x20\x22','error\x20get\x20vote','g-t','documentWithCaptionMessage','audio/ogg;\x20codecs=opus','messageType','DARK','Instância:\x20','generateHash','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','Variáveis\x20não\x20encontradas:','/wa-chats','waitingMenu_replyOptions','):\x20Enviando\x20áudio','Parando\x20aplicação...','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','customFields','clearVariables','waMonitor','uncaughtException','createGroup','createWebhook','view\x20engine','ip:\x20','flowConversation','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','minutesToClose','getTicketSystem','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','getLastMessage','startCommandWord','@ffmpeg-installer/ffmpeg','*\x0a\x0a','split','):\x20Entrou\x20na\x20função\x20saveReply','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','):Desconectado,\x20parando\x20execução.','participant','dbServer','newStoppedUntil','messages.upsert','Instance\x20logged\x20out','code','RECONNECT_TIME_FRAME','SERVER_OFFLINE','):\x20Criando\x20fluxo...','messageHandle','https://ifconfig.me/ip','formatVCard','removeInstance','findChats','setting','send.message','The\x20property\x20cannot\x20be\x20empty','Pausado\x20por\x20','request\x20received\x20in\x20deleteDoneMessages','groups.update','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','deleteAll','originalUrl','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20',',\x20saindo.','initializeQueue','editFlowReply','editflow','where','authState','getFlow','Configuração\x20SSL\x20recuperada:','pendingMessages','parse','Invalid\x20format','restart','log',',\x20received\x20','prepareWAMessageMedia','cleanDisconnectedInstances','hGet','ipv6Prefix','groupFetchAllParticipating','unreadCount','):\x20Entrou\x20na\x20função\x20stop','createflow','send','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','sendStatus','longitude','/instance','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','buttonId','https://uazapi-plugin.bubbleapps.io/?url=','getTime','findParticipants','count','text','instanceKeys','endSession','fetchStatus','whoCanUse','):\x20delete\x20=\x20true','hex','Flow\x20iniciado','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','sendMenu','request\x20received\x20in\x20editFlow','flows','myAppStateKeyId','8080','RemoteJid:','VERBOSE','listResponseMessage','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','message','):\x20Grupo\x20','isURL','webhook','replaceVariablesInObject','groupadd','menuMessage','Bad\x20Request','normalizeMessage','.extension','delayMessage','not\x20loaded','deleteImportedChat','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','):Output\x20path:\x20','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','removeUnusedChatFields','):\x20newSecondValue\x20após\x20replaceVariables:','getVariablesChat','removeChatLabel','Erro\x20ao\x20tentar\x20updateCustomFields','promote','next_groupId','hasOwnProperty','PROXY','EMAIL','Subdomínio\x20extraído\x20da\x20URL:','flowPrefixCommand','Parando\x20aplicação,\x20atualização\x20recebida','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','\x1b[43m','profile','sending','-instances','every','Número:\x20','events','header','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','fetchChats','list','textMessage','SERVER_TYPE','Background\x20color\x20is\x20required','onWhatsApp','../env.yml','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','express','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','redisEnv','\x20minutos\x20verificará\x20novas\x20mensagens','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','action','groupUpdateSubject','createAndSave','saveConversationToDatabase','atendimentoAberto','ReplyOption\x20com\x20ID\x20','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','viewOnceMessage','deleteDoneMessages','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Cache-Control','copy','value','convertaudio','sendReaction','noConnection','12268557qdgnHi','mimetype','\x1b[34m','sections','fetchBusinessProfile','status@broadcast','Last\x20message\x20not\x20found\x20for\x20number:\x20','CORS','importChatsBatch','groups.upsert','Error\x20fetching\x20group','readMessages','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','console','\x20não\x20encontrado','static','Falha\x20ao\x20processar\x20fetchBusinessProfile','false','request\x20received\x20in\x20getFlow','useMultiFileAuthState','GROUPS_UPSERT','awaitingApproval','isJidBroadcast','findAndReplaceRegex','locationMessage','IPv6\x20address\x20configured:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','connection.update','Nenhum\x20participante\x20válido\x20encontrado.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','awaitSeconds','rows','hbs','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Going\x20to\x20','normalizeMessageContent','DEBUG','listen','nome','error','label','vcard','order','COLOR','\x20instance\x20does\x20not\x20exist','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','agents','inet6','CREDENTIALS','audioMessage','1480494GTtSwp','Subdomínio\x20final:','readreceipts','):\x20Não\x20achou\x20nenhum\x20flow','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','presence','conversation','scheduleFlow','flowActive','\x22reaction\x22\x20must\x20be\x20an\x20emoji','messageId','idSchedule','pollOnReplyDelete','Subscribed\x20Events:','mongodb','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','Error\x20removing\x20unused\x20chat\x20fields:','sectionsToString','convert','CORS_ORIGIN','sharePass','CONTACTS_UPDATE','Chat\x20com\x20ID\x20','dbConnection','max','#83e421','Button\x20texts\x20cannot\x20be\x20repeated','descId','.pdf','The\x20instance\x20needs\x20to\x20be\x20disconnected','uazapiSendLocation','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','secondValue','createInstance','Logger','from','iniciando\x20fluxo\x20router','TYPE','processgoToFlow','oldValue','setContext','updateMany','/automate','request\x20received\x20in\x20getAutomateSystem','#01d0e2','updateProfilePicturePrivacy','buttons','CONTACTS_SET','processApiRequest','processblock','EXPIRIN_IN','.webp','Type\x20not\x20found','padStart','Fluxo\x20agendado\x20pelo\x20fluxo\x20','listType','assign','labels.edit','AUTHENTICATION_TYPE','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):including\x20timestamp\x20in\x20url:\x20','Resultado\x20da\x20correspondência\x20de\x20URL:','#6f7bcf',']\x20(','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','prototype','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','deleteMany','Instance\x20ID:','Module\x20-\x20ON','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','editedMessage','createNewConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','updateProfileStatus','stopped','localWebhook','Erro\x20ao\x20deletar\x20mensagens:','g.us','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','Erro\x20ao\x20buscar\x20o\x20fluxo','processvaredits','\x20and\x20data:','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','getUpdate','remove','processScheduleFlow','pushName','findGroupInfo','FULLCHAIN','AddUserFlow','lastCondition','sha256','logger','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','findAll','fromMe','API_KEY','DB_PREFIX_NAME','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','ip6eui','folder','subjectOwner','scheduleNextCheck','ENABLED','greater','quoted','insert','Stack\x20trace:','this.reconnectAttempts:\x20','https://uazapi-plugin.bubbleapps.io/','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','ms\x20(tentativa\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','deleteBlock','apply','readMessage','#92ceac','groupBetterSetting','whatsappNumber','transformScheduledMessagesByType','#000000','findByIdAndDelete','SERVER_PORT','Network\x20interfaces\x20detected:\x20','fetchInstances','networkInterface','SERVER_URL','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','model','throwAndLogError','isRunning','IP\x20mismatch:\x20configured\x20','):\x20Entrou\x20na\x20função\x20scheduleFlow','SUCCESS','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','sendMessageWithTyping','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','media','empty','\x1b[31m%s\x1b[0m','Database\x20is\x20not\x20enabled','startCommand','MessageModel','jsonwebtoken','AutomateFunctions','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','copyBlock','updateGParticipant','decryptPollVote','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','isConnected','labels.association','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','listMessage','.gif','joinApprovalMode','request\x20received\x20in\x20allFlows','node-cache','formatBRNumber','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','contextInfo','markMessageAsRead','Flow\x20\x27','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','varedits','footerText','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','autoCompleteMessages','Erro\x20ao\x20importar\x20chats','editflowgroup','Erro\x20ao\x20atualizar\x20o\x20flow.','substring','\x20:\x20','*Pergunta*:\x20\x0a','cacheInstanceRepository','MESSAGES_UPSERT','exists','instance','getOwnPropertyDescriptor','app-state-sync-key',',\x20Segundo\x20Valor:\x20','\x20removido\x20do\x20chat\x20','findAndUpdateCacheContact','font','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','.xlsx','client','getChatModelForOwner','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','findManyByIds','toggleEphemeral','_fromMe','debug','?timestamp=','leadInfo.','Not\x20is\x20business\x20profile','toFile','none','#d8e651','cacheContactModel','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','audio/ogg',',\x20canSendMessage:\x20','/wa-message','getLabelModelForOwner','boolean','activatedCount','headers','):\x20Flow\x20\x27','valid','contains','chats.set','pollCreationMessageV3','content','flattenObject','errorLog','request_time','descOwner','chat','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','charAt','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','authentication','updateCustomFields','chatModify','\x1b[36m','Safari','ff:fe','):\x20Buscando\x20conversa...','defineAuthState','includes','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','reorderMessages','no-cache','jid','option','/:instanceName','class-validator','/events/:instance','AppStateSyncKeyData','block','getScheduleMessageModelForOwner','senderKeyDistributionMessage','Falha\x20ao\x20recriar\x20IPv6.','saveMediaToFile','write','menuType','label_jid','remove.instance','imagechat','status.instance','pollMessageOnDelete','REDIS_ENABLED','sendWhatsAppAudio','delay','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','\x20depois\x20','document','STORE_CONTACTS','Erro\x20ao\x20atualizar\x20agendamento\x20','isInteger','startFlowWebhook','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Buscando\x20conversas...','isJidUser','instanceCount','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','OrAnd','IPv6\x20address\x20removed:\x20','LabelModel','buttonMessage','\x1b[32m%s\x1b[0m','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','\x20horas\x20e\x20','restartInstance','Erro\x20ao\x20buscar\x20a\x20conversa','DD/MM\x20HH:mm:ss','AUTHENTICATION','triedToSend','groupId','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):Getting\x20image\x20from\x20url','Erro\x20ao\x20encerrar\x20a\x20API','menuExpiredMessage','ephemeralDuration','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','configService','path','verify','\x20não\x20encontrado\x20para\x20cópia','createClient','):\x20conversation.waitingMenu_name','getAllData','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','Instâncias\x20removidas:\x20','):\x20isVote:\x20','STATUS_INSTANCE','sendSticker','replace','loadInstance','logout','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','setWebhook','firstValue','application/octet-stream','interval\x20não\x20é\x20um\x20número','storePath','chatHandle','findLabels','getDevice','toLowerCase','cors','FlowController','redis','bulkWrite','Erro\x20ao\x20executar\x20bulkWrite:','randomMac','capitalizedWords','pow','getStatus','mentions','connectionState','evaluateConditionTest','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','removeIPv6','ip\x20-6\x20addr\x20del\x20','leadInfo.etiquetas','findFlow','#b4ebff','website','AUTHENTICATION_API_KEY','groupUpdateDescription','groupToggleEphemeral','updatePresence','editFlowVaredit','unreadcount','deviceSentMessage','retrySendMessage','request\x20received\x20in\x20editFlowvariable','AutomateSystem\x20não\x20foi\x20inicializado','_FlowHistorico',',\x20global:\x20','@broadcast','):\x20Conversa\x20está\x20expirada','startFlow','):\x20atualização\x20chat:\x20','):\x20\x27Enviando\x20audio\x20para\x20\x27','Comando\x20desconhecido',',\x20Expiration\x20Time:\x20','insertMany','ChatModel','sort','profileName','auth','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','URL:','format','AutomateSystem','/wa-all-message','birthtime','toArray','updateBlock','load','request_method','warn','uazapiSendText','Esse\x20fluxo\x20não\x20permite\x20importação.','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','backgroundColor','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','.type','remoteJids','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Falha\x20ao\x20criar\x20IPv6.','Retornando\x20grupos\x20COM\x20cache','ignoreGroups','lean','waitingMenu_id','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','creds.update','reviver','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','^\x5cd+([-]\x5cd+)*@g.us$','processConditionsTest','CHATS_UPSERT','undefined','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20','getContentType','oldToken','isBase64','STORE_MESSAGE','^\x5cd+','app','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','groupMetadata','rowId','apirequest','timeInMinutes','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','CLEANING_INTERVAL','lastSend','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','importChatsAntigo','):\x20Editando\x20grupo\x20do\x20fluxo...','height','saveTextReply','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','mkdirSync','removeProfilePicture','matchRegex','owner','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','find','archive','autoCompleteMessages.command','nomecompleto','done','Subdomínio\x20não\x20encontrado','):\x20Criando\x20nova\x20conversa[createNewConversation]','Erro\x20ao\x20alterar\x20privacidade','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','superadmin','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','deleteReplyOption','_Chats','#00a1f2','updateGroupPicture','DATABASE','Fluxo\x20não\x20encontrado\x20na\x20memória.','):Error\x20in\x20converting\x20audio','fetchMessages','save','Erro\x20ao\x20inserir\x20chats:','insertCount','creds.json','request\x20received\x20in\x20starFlow','/64\x20dev\x20','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','Erro\x20ao\x20deletar\x20a\x20conversa','instances','deleteConversation','):\x20Editando\x20edição\x20do\x20fluxo...','eventemitter2','):\x20Bloco\x20com\x20ID\x20','update','isValidAndUniqueIPv6','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','bodyString','--------------------------------------','contacts.upsert','findGroups','extractRegex','pt-BR','editScheduleMessage','StartBot','sendLocation','success','connect','MESSAGES_UPDATE','1663317jOklVg','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','getUniqueFlowName','LICENSE_INVALID','findOneAndUpdate','testingWith','status','stderr','mongoose','choices','recording','updateOnlinePrivacy','fetchPrivacySettings','#fed428','options','notEqual','hDel','map','lastBlockId','webhookMap','):\x20Error\x20processing\x20conditions:\x20','webhookService','Not\x20Found','mediaKey','cachedContact','chats.update','configureIPv6','https://api.ipify.org?format=json','):\x20whoCanEdit\x20after\x20validation:\x20','Type\x20is\x20required','errors','groupMemberAddMode','trim','_Labels','quotedMessage','request\x20received\x20in\x20getConversation','remoteJid','delAll','):\x20Enviando\x20texto','groupJid','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','createSectionsFromValues','\x20adicionado\x20ao\x20chat\x20','request\x20received\x20in\x20fetchConversation','E-mail:\x20','qrcode','Internal\x20Server\x20Error','subject','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','config','BufferJSON','.TEL;waid=','ip\x20-6\x20addr\x20show\x20dev\x20','synchronizeAndMapFlows','array','generateRandomIPv6','p-queue','utf8','ephemeralMessage','/wa-connection-update','getConversation','dayjs','groupAcceptInvite','contact','waUploadToServer','-whatsapp-api','groupJoinApprovalMode','Error\x20while\x20deleting\x20message\x20for\x20everyone','SERVER_ACK','removeData','method','sleep','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','\x1b[30m%s\x1b[0m','.mp3','stopIfLastReturnedError','isArray','toNumber','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','whoCanEdit','moreLogs','Fluxo\x20\x27','chatLog','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','child_process','stickerMessage','LOG','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','stanzaId','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','toBRL','\x20do\x20chat\x20','sendList','preview','PRODUCT_LIST','loadWebhook','pollMessage','everyOne','):\x20Limpando\x20AutomateSystem','findGroup','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','getClient','findMany','bearer','env','close','existsSync','groupParticipantsUpdate','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','API\x20Key\x20inválida.','parseInt','\x1b[44m','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','\x20-\x20ON:\x20','buffer','/instance/delete','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','\x27\x20não\x20encontrado\x20na\x20memória','getMIMEType','editFlowCondition','updateReplyOption','getMessage','fetchConversation','addMessagesToGroup','\x20segundos','stopWhenYouSendMsg','WARN','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','createServer','connectToWhatsappController','):\x20Editando\x20variável\x20do\x20fluxo...','cacheInstanceModel','editOperator','WebhookGlobal','imgUrl','lowerCase','updateStopChat','digest','off','updateReadReceiptsPrivacy','role','):Delete\x20chat','Erro\x20ao\x20atualizar\x20o\x20fluxo:','STORE_CHATS','cachedData-whatsapp','fromObject','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','createFlow','msgRetryCounterCache','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','collection','unlocked','randomBytes','\x20com\x20sucesso.','splice','open','request\x20body:\x20','lastInteraction','admin','GROUP_PARTICIPANTS_UPDATE','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','number','put','size','latitude','no.connection','):\x20Query\x20params:\x20','findGroupsEspecial','deleteChat','/config','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','\x1b[36m%s\x1b[0m','string','redirect','IPv6\x20Prefix\x20detected:\x20','Bloco\x20com\x20ID\x20','Falha\x20ao\x20processar\x20a\x20solicitação','):\x20Label\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','flushHeaders','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Erro\x20ao\x20atualizar\x20cacheInstance:','/webhook','Início','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','__esModule','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','variables','.xls','binary','cwd','imported','):Image\x20path:\x20',',\x20isAdmin:\x20','Valor\x20de\x20find\x20ou\x20replace\x20ausente','fileName','editflowblock','wuid','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','enumerable','title','delete','resetReconnectionVariables','):\x20Fluxo\x20\x27','ContactsAndGroups',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Enviando\x20contato','segundos','Telefone:\x20','SINGLE_SELECT','.txt','/events','integer','ObjectId','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','varedit','deleted','detail','lastUpdate','flush','created','editMessagesInGroup','allContacts','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','presenceSubscribe','stopMinutes','.mp4','[all]','poll','qrcode.updated','Partes\x20do\x20caminho\x20FULLCHAIN:','arraybuffer','crypto','startsWith','createHash',',\x20qrcodeCount:\x20','uazapi','Erro\x20inesperado\x20em\x20processvaredits:\x20','promisify','connectionUpdate','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','_remoteJid','context','updateAll','updateMissingEtiquetas','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','replaceOne','request\x20received\x20in\x20scheduleMessage','eventEmitter','Erro\x20de\x20atualização:\x20','base64','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','testIPv6','\x20minutos.\x20Será\x20às\x20','Enter\x20a\x20value\x20in\x20milliseconds','sem\x20texto\x20na\x20mensagem','test','unknown\x20operation\x20type\x20[','basename','findConversation','):\x20\x27Enviando\x20mídia\x20para\x20\x27','Error\x20updating\x20message\x20status:','creds','downloads','revokeInviteCode','initAuthCreds','encoding','userDevicesCache','ini','picture','leadInfo','):\x20[messages.upsert]\x20group\x20ignored','last_update','editFlowBlock','temp-','CONNECTION','Generated\x20IPv6:\x20','get','sendText','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','CHATS_SET','data','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','changeVariables','):\x20whoCanUse\x20after\x20validation:\x20','instance.','findWebhook','):\x20whoCanUse\x20before\x20validation:\x20','getPrototypeOf','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Selecione','start','upsertChats','/*.json','ScheduleMessageModel','text/event-stream','requestFile','Request\x20Body:','dbClient','hSet','joinGroupValidate','groupLeave','detectIPv6PrefixAndInterface','Validate','Instância\x20não\x20encontrada.','.png','readData','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','keyPattern','):\x20enviado\x20para\x20[','statSync','lastRealGroupsFetch','store','isJidGroup','updatePrivacySettings','URL\x20completa:','timeout','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','getContactModelForOwner','arrayUnique','upperCase','modifiedCount','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20',',\x20Comparador:\x20','scheduled','.jwt','long','reorderBlocks','URL','\x0a{\x20instance:\x20','memberAddMode','):\x20Fluxos\x20não\x20estão\x20ativados','validate','PLAYED','cacheContact','deleteMessage','createConversationforgoToFlow','PRESENCE_UPDATE','announce','exec','uazapiSendContact','#ffc5c7','\x20inseridas\x20no\x20banco\x20de\x20dados...','updateMissingTags','archived','83432uzuUuS','state','chats','inner','addBlock','):\x20error:\x20','/wa-presence','):Image\x20is\x20base64','object','match','desativadoFluxoAte','privacySettings','announcement','editChat','params','DELIVERY_ACK','):Image\x20converted\x20to\x20WebP','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Falhou\x20ao\x20encontrar\x20chat\x20','Erro\x20ao\x20buscar\x20fluxos:','eventHandler','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','replaceVariablesLogs','pino','audioWhatsapp','@g.us','#9ba6ff','REDIS','?authSource=admin&readPreference=primary&directConnection=true','PREFIX_KEY','\x1b[31m','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','convertedOptions','_error','mongodb://','setHeader','maxActives','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','messages.set','updateOneById','_pushName','\x1b[33m%s\x1b[0m','notMatchRegex','getValidWhatsAppNumbers','blockId','tags'];a0_0x14fb=function(){return _0x39b9de;};return a0_0x14fb();}Ki(ur,{'fullURL':()=>qs,'subdomain':()=>W}),module['exports']=Qi(ur);var Fi=A(require(a0_0x20fba6(0x2a3))),Bs=require('fs'),Ws=require(a0_0x20fba6(0x109)),zs=require(a0_0x20fba6(0x4e9)),Ve=require('path'),ne=process[a0_0x20fba6(0x65a)](),be=(0x0,Ve[a0_0x20fba6(0x7ae)])(ne,'instances'),Gs=(0x0,Ve[a0_0x20fba6(0x7ae)])(ne,a0_0x20fba6(0x12c)),sn=(0x0,Ve[a0_0x20fba6(0x7ae)])(ne,a0_0x20fba6(0x6d5),'auth'),us=class{constructor(){this['loadEnv']();}[a0_0x20fba6(0x6b2)](_0x590f98){const _0x108379=a0_0x20fba6;return this[_0x108379(0x602)][_0x590f98];}[a0_0x20fba6(0x7e6)](){const _0x56cce8=a0_0x20fba6;this[_0x56cce8(0x602)]=process[_0x56cce8(0x602)]?.['DOCKER_ENV']!==_0x56cce8(0x213)?this['envYaml']():this['envProcess'](),process[_0x56cce8(0x602)]?.['DOCKER_ENV']===_0x56cce8(0x213)&&(this[_0x56cce8(0x602)]['SERVER'][_0x56cce8(0x3e7)]=_0x56cce8(0x1c6),this[_0x56cce8(0x602)]['SERVER'][_0x56cce8(0x123)]=Number[_0x56cce8(0x608)](process[_0x56cce8(0x602)]?.[_0x56cce8(0x440)]??_0x56cce8(0x346)));}[a0_0x20fba6(0x7eb)](){const _0x6d3f6=a0_0x20fba6;return(0x0,Ws[_0x6d3f6(0x534)])((0x0,Bs[_0x6d3f6(0x1cb)])((0x0,zs['join'])(Gs,_0x6d3f6(0x378)),{'encoding':'utf-8'}));}['envProcess'](){const _0x2097d5=a0_0x20fba6;return{'SERVER':{'TYPE':process[_0x2097d5(0x602)][_0x2097d5(0x375)],'PORT':Number[_0x2097d5(0x608)](process[_0x2097d5(0x602)][_0x2097d5(0x440)]),'URL':process[_0x2097d5(0x602)][_0x2097d5(0x444)]},'CORS':{'ORIGIN':process[_0x2097d5(0x602)][_0x2097d5(0x3d5)][_0x2097d5(0x2fc)](','),'METHODS':process[_0x2097d5(0x602)][_0x2097d5(0x28b)][_0x2097d5(0x2fc)](','),'CREDENTIALS':process[_0x2097d5(0x602)]?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x2097d5(0x602)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x2097d5(0x602)]?.[_0x2097d5(0x28d)]},'STORE':{'CLEANING_INTERVAL':Number[_0x2097d5(0x4ce)](process[_0x2097d5(0x602)]?.[_0x2097d5(0x834)])?Number['parseInt'](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x2097d5(0x602)]?.[_0x2097d5(0x551)]===_0x2097d5(0x213),'CONTACTS':process[_0x2097d5(0x602)]?.[_0x2097d5(0x4cc)]===_0x2097d5(0x213),'CHATS':process[_0x2097d5(0x602)]?.[_0x2097d5(0x62b)]===_0x2097d5(0x213)},'DATABASE':{'CONNECTION':{'HOST':process[_0x2097d5(0x602)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x2097d5(0x608)](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x2097d5(0x602)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x2097d5(0x602)][_0x2097d5(0x162)],'URI':process[_0x2097d5(0x602)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x2097d5(0x602)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0x2097d5(0x727)]==='true'},'REDIS':{'ENABLED':process[_0x2097d5(0x602)]?.[_0x2097d5(0x4c6)]===_0x2097d5(0x213),'URI':process['env']['REDIS_URI']||_0x2097d5(0x7a5),'PREFIX_KEY':process['env'][_0x2097d5(0x296)]||'uazapi'},'LOG':{'LEVEL':process[_0x2097d5(0x602)]?.['LOG_LEVEL'][_0x2097d5(0x2fc)](','),'COLOR':process['env']?.[_0x2097d5(0x852)]===_0x2097d5(0x213)},'PROXY':process[_0x2097d5(0x602)]?.['PROXY']===_0x2097d5(0x213),'AUTHENTICATION':{'TYPE':process['env'][_0x2097d5(0x3fc)],'API_KEY':{'KEY':process[_0x2097d5(0x602)][_0x2097d5(0x514)]},'JWT':{'EXPIRIN_IN':Number[_0x2097d5(0x4ce)](process[_0x2097d5(0x602)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x2097d5(0x608)](process[_0x2097d5(0x602)][_0x2097d5(0x4d0)]):0xe10,'SECRET':process['env'][_0x2097d5(0x873)]}}};}},S=new us(),Ui=A(require(a0_0x20fba6(0x501))),we=A(require(a0_0x20fba6(0x37a))),js=require(a0_0x20fba6(0x4e9)),ds=A(require(a0_0x20fba6(0x5d5))),ps=(_0x3bf1bf=>(_0x3bf1bf[a0_0x20fba6(0x5ee)]=a0_0x20fba6(0x803),_0x3bf1bf[a0_0x20fba6(0x840)]=a0_0x20fba6(0x391),_0x3bf1bf[a0_0x20fba6(0x61a)]='\x1b[33m',_0x3bf1bf[a0_0x20fba6(0x246)]=a0_0x20fba6(0x715),_0x3bf1bf[a0_0x20fba6(0x3b4)]=a0_0x20fba6(0x4ab),_0x3bf1bf['VERBOSE']=a0_0x20fba6(0x24b),_0x3bf1bf[a0_0x20fba6(0x2e0)]='\x1b[30m',_0x3bf1bf))(ps||{}),Hs=(_0x589e71=>(_0x589e71[a0_0x20fba6(0x5ee)]=a0_0x20fba6(0x4d9),_0x589e71[a0_0x20fba6(0x2e0)]=a0_0x20fba6(0x5e1),_0x589e71['INFO']='\x1b[34m%s\x1b[0m',_0x589e71['WARN']=a0_0x20fba6(0x720),_0x589e71[a0_0x20fba6(0x246)]=a0_0x20fba6(0x451),_0x589e71['DEBUG']=a0_0x20fba6(0x647),_0x589e71[a0_0x20fba6(0x348)]=a0_0x20fba6(0x290),_0x589e71))(Hs||{}),Ks=(_0xe1d1e2=>(_0xe1d1e2[a0_0x20fba6(0x5ee)]=a0_0x20fba6(0x5ee),_0xe1d1e2['WARN']=a0_0x20fba6(0x61a),_0xe1d1e2[a0_0x20fba6(0x840)]=a0_0x20fba6(0x840),_0xe1d1e2[a0_0x20fba6(0x2e0)]=a0_0x20fba6(0x2e0),_0xe1d1e2[a0_0x20fba6(0x246)]=a0_0x20fba6(0x246),_0xe1d1e2[a0_0x20fba6(0x3b4)]='DEBUG',_0xe1d1e2[a0_0x20fba6(0x348)]='VERBOSE',_0xe1d1e2))(Ks||{}),Qs=(_0x28a9a4=>(_0x28a9a4[a0_0x20fba6(0x5ee)]='\x1b[42m',_0x28a9a4[a0_0x20fba6(0x840)]=a0_0x20fba6(0x609),_0x28a9a4[a0_0x20fba6(0x61a)]=a0_0x20fba6(0x369),_0x28a9a4[a0_0x20fba6(0x2e0)]=a0_0x20fba6(0x1ef),_0x28a9a4[a0_0x20fba6(0x246)]=a0_0x20fba6(0x250),_0x28a9a4[a0_0x20fba6(0x3b4)]='\x1b[46m',_0x28a9a4[a0_0x20fba6(0x348)]='\x1b[47m',_0x28a9a4))(Qs||{}),$=class{constructor(_0x354667=a0_0x20fba6(0x3e4)){const _0x27cecd=a0_0x20fba6;this[_0x27cecd(0x68f)]=_0x354667,this[_0x27cecd(0x4e8)]=S;}[a0_0x20fba6(0x3ea)](_0x3c0b04){this['context']=_0x3c0b04;}[a0_0x20fba6(0x39c)](_0x22f113,_0x2667fd){const _0x3c6057=a0_0x20fba6;let _0x7df49e=[];this[_0x3c6057(0x4e8)][_0x3c6057(0x6b2)](_0x3c6057(0x5ee))['LEVEL'][_0x3c6057(0x871)](_0xea3896=>_0x7df49e[_0x3c6057(0x2af)](Ks[_0xea3896]));let _0x1463f0=typeof _0x22f113;_0x7df49e[_0x3c6057(0x4b0)](_0x2667fd)&&(S[_0x3c6057(0x6b2)](_0x3c6057(0x5ee))[_0x3c6057(0x3bb)]?(console[_0x3c6057(0x324)](_0x3c6057(0x18f)+Hs[_0x2667fd],_0x3c6057(0x752),(0x0,ds[_0x3c6057(0x269)])()[_0x3c6057(0x52e)](_0x3c6057(0x4de)),_0x3c6057(0x7d6),ps[_0x2667fd]+Qs[_0x2667fd]+'\x1b[1m',_0x2667fd+_0x3c6057(0x7ca),'\x1b[33m\x1b[1m',this[_0x3c6057(0x68f)]+_0x3c6057(0x7d6),ps[_0x2667fd],_0x1463f0!=='object'?_0x22f113:'',_0x3c6057(0x7d6)),_0x1463f0===_0x3c6057(0x6ff)&&console[_0x3c6057(0x324)](_0x22f113,'\x0a')):console[_0x3c6057(0x324)]((0x0,ds['default'])()[_0x3c6057(0x52e)](_0x3c6057(0x72f)),_0x2667fd+'\x20',''+this['context'],_0x22f113));}['log'](_0x488695){const _0x3b7022=a0_0x20fba6;this['console'](_0x488695,_0x3b7022(0x5ee));}[a0_0x20fba6(0x7d7)](_0x3c74c8){const _0x5e5734=a0_0x20fba6;this['console'](_0x3c74c8,_0x5e5734(0x840));}['warn'](_0x285627){const _0x2d2ec7=a0_0x20fba6;this['console'](_0x285627,_0x2d2ec7(0x61a));}['error'](_0x425299){const _0x35fd9c=a0_0x20fba6;this[_0x35fd9c(0x39c)](_0x425299,_0x35fd9c(0x246));}[a0_0x20fba6(0x76b)](_0x5a4994){const _0xb6559a=a0_0x20fba6;this[_0xb6559a(0x39c)](_0x5a4994,_0xb6559a(0x348));}[a0_0x20fba6(0x48a)](_0x30b35d){const _0x373009=a0_0x20fba6;this[_0x373009(0x39c)](_0x30b35d,'DEBUG');}[a0_0x20fba6(0x284)](_0x10b553){const _0xbc4a01=a0_0x20fba6;this[_0xbc4a01(0x39c)](_0x10b553,_0xbc4a01(0x2e0));}};function Ys(){const _0x53d7d8=a0_0x20fba6;process['on'](_0x53d7d8(0x2ed),(_0x1e150f,_0x4a7657)=>{const _0x195eeb=_0x53d7d8;new $(_0x195eeb(0x2ed))['error']({'origin':_0x4a7657,'stderr':process[_0x195eeb(0x59f)]['fd'],'error':_0x1e150f});}),process['on'](_0x53d7d8(0x821),(_0xfd898c,_0x465745)=>{const _0x2b49e2=_0x53d7d8;new $(_0x2b49e2(0x821))[_0x2b49e2(0x3b7)]({'origin':_0x465745,'stderr':process['stderr']['fd'],'error':_0xfd898c});});}var Xs=A(require(a0_0x20fba6(0x587))),hs=new Xs[(a0_0x20fba6(0x269))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x20fba6(0x5a0)),Ae=A(require(a0_0x20fba6(0x5a0))),Ge=new $(a0_0x20fba6(0x257)),F=S[a0_0x20fba6(0x6b2)](a0_0x20fba6(0x578)),R=F[a0_0x20fba6(0x42c)]?F[a0_0x20fba6(0x6b0)]['URI']?Ae[a0_0x20fba6(0x269)][a0_0x20fba6(0x854)](F[a0_0x20fba6(0x6b0)]['URI'],{'dbName':F[a0_0x20fba6(0x6b0)]['DB_PREFIX_NAME']+a0_0x20fba6(0x5d9)}):Ae['default']['createConnection']('mongodb://'+F[a0_0x20fba6(0x6b0)][a0_0x20fba6(0x7a6)]+':'+F['CONNECTION'][a0_0x20fba6(0x123)]+a0_0x20fba6(0x713),{'user':F[a0_0x20fba6(0x6b0)][a0_0x20fba6(0x7be)],'pass':F[a0_0x20fba6(0x6b0)]['PASSWORD'],'dbName':F[a0_0x20fba6(0x6b0)]['DB_PREFIX_NAME']+a0_0x20fba6(0x5d9)}):null;F[a0_0x20fba6(0x42c)]&&Ge[a0_0x20fba6(0x7d7)]('ON\x20-\x20dbName:\x20'+R['$dbName']);var ce=F[a0_0x20fba6(0x42c)]?F[a0_0x20fba6(0x6b0)]['URI']?Ae[a0_0x20fba6(0x269)][a0_0x20fba6(0x854)](F['CONNECTION'][a0_0x20fba6(0x209)],{'dbName':a0_0x20fba6(0x62c)}):Ae[a0_0x20fba6(0x269)][a0_0x20fba6(0x854)](a0_0x20fba6(0x719)+F['CONNECTION'][a0_0x20fba6(0x7a6)]+':'+F['CONNECTION']['PORT']+a0_0x20fba6(0x713),{'user':F['CONNECTION']['USER'],'pass':F['CONNECTION'][a0_0x20fba6(0x277)],'dbName':a0_0x20fba6(0x270)}):null;ce&&Ge[a0_0x20fba6(0x7d7)](a0_0x20fba6(0x7cb)+ce['$dbName']),process['on']('beforeExit',()=>{const _0x269703=a0_0x20fba6;R&&R[_0x269703(0x603)](()=>{const _0xa1c9b2=_0x269703;Ge[_0xa1c9b2(0x7d7)](_0xa1c9b2(0x801));}),ce&&ce['close'](()=>{Ge['info']('CacheContacts\x20database\x20connection\x20closed.');});});var Yi=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xi=new Se[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zi=new Se[(a0_0x20fba6(0x20e))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),eo=new Se[(a0_0x20fba6(0x20e))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yi],'default':[]}},{'_id':!0x1}),to=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':eo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xi},'groupdata':{'type':Zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Zs=_0x366b3b=>{const _0x4a8eea=a0_0x20fba6;let _0x36fbce='z_'+_0x366b3b+_0x4a8eea(0x575);return R?.[_0x4a8eea(0x446)](_0x4a8eea(0x528),to,_0x36fbce);},ea=require(a0_0x20fba6(0x5a0)),so=new ea['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=_0xa7f4ec=>{const _0x5b77ab=a0_0x20fba6;let _0x2186cd='z_'+_0xa7f4ec+_0x5b77ab(0x728);return R?.[_0x5b77ab(0x446)](_0x5b77ab(0x1a8),so,_0x2186cd);},sa=require(a0_0x20fba6(0x5a0)),gs=class{},ao=new sa[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=ce?.[a0_0x20fba6(0x446)](gs[a0_0x20fba6(0x217)],ao,a0_0x20fba6(0x668)),ia=require(a0_0x20fba6(0x5a0)),ms=class{},io=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=ce?.[a0_0x20fba6(0x446)](ms[a0_0x20fba6(0x217)],io,a0_0x20fba6(0x584)),oa=require(a0_0x20fba6(0x5a0)),oo=new oa[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ra=_0x4f3e72=>{const _0x2816e2=a0_0x20fba6;let _0x1edafb='z_'+_0x4f3e72+_0x2816e2(0x187);return R?.['model'](_0x2816e2(0x454),oo,_0x1edafb);},na=require('mongoose'),fs=class{},ro=new na[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ca=R?.[a0_0x20fba6(0x446)](fs[a0_0x20fba6(0x217)],ro,a0_0x20fba6(0x4a8)),la=require(a0_0x20fba6(0x5a0)),ws=class{},ua=new la[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ua['pre'](a0_0x20fba6(0x57c),function(_0xa4772b){const _0x5d62a9=a0_0x20fba6;delete this[_0x5d62a9(0x3ca)],delete this[_0x5d62a9(0x1e3)],delete this[_0x5d62a9(0x366)],delete this['flowStopConversation'],delete this[_0x5d62a9(0x132)],_0xa4772b();});var da=R?.['model'](ws[a0_0x20fba6(0x217)],ua,a0_0x20fba6(0x34e)),D=require(a0_0x20fba6(0x5a0)),ys=require('uuid'),We=class{},bs=class{},ha=new D[(a0_0x20fba6(0x20e))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ss=new D[(a0_0x20fba6(0x20e))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),no=new D[(a0_0x20fba6(0x20e))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x20fba6(0x6bf)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x20fba6(0x11c)},'pollErrorMessage':{'type':String,'default':a0_0x20fba6(0x872)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ga=new D[(a0_0x20fba6(0x20e))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),co=new D[(a0_0x20fba6(0x20e))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),lo=new D[(a0_0x20fba6(0x20e))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Cs=new D[(a0_0x20fba6(0x20e))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),uo=new D[(a0_0x20fba6(0x20e))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ma=new D[(a0_0x20fba6(0x20e))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':no},'apirequest':co,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':uo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),fa=new D[(a0_0x20fba6(0x20e))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),wa=new D[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x5e1032=a0_0x20fba6;return _0x5e1032(0x79a)+Math['random']()['toString'](0x24)[_0x5e1032(0x17e)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x20fba6(0x3a0)},'startID':{'type':String,'default':()=>(0x0,ys['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ys['v4'])()},'shareOwners':{'type':[String],'default':[]}});wa['pre'](a0_0x20fba6(0x59c),function(_0x358e6f){const _0xb8eddd=a0_0x20fba6;let _0x25fcf0=this[_0xb8eddd(0x418)]();if(_0x25fcf0&&typeof _0x25fcf0==_0xb8eddd(0x6ff)&&_0xb8eddd(0x198)in _0x25fcf0){let _0x46803b=_0x25fcf0[_0xb8eddd(0x198)];if(_0x46803b){let _0x288152=new Set(),_0x49c35d=new Set(_0x46803b[_0xb8eddd(0x657)]?.[_0xb8eddd(0x5a9)](_0x1877ef=>_0x1877ef[_0xb8eddd(0x217)])),_0x2cf9b4=JSON[_0xb8eddd(0x27a)](_0x46803b),_0x1af5fc=/{{(?!_)([^}]*)}}/g,_0x28874a;for(;(_0x28874a=_0x1af5fc[_0xb8eddd(0x6f1)](_0x2cf9b4))!==null;)_0x49c35d['has'](_0x28874a[0x1])||_0x288152['add'](_0x28874a[0x1]);_0x288152[_0xb8eddd(0x63f)]>0x0?(console[_0xb8eddd(0x536)](_0xb8eddd(0x2e4),Array[_0xb8eddd(0x3e5)](_0x288152)),_0x46803b['variablesNotFound']=Array[_0xb8eddd(0x3e5)](_0x288152)):_0x46803b[_0xb8eddd(0x7a0)]=[],this['setUpdate']({'$set':_0x46803b});}}_0x358e6f();});var Me=R?.[a0_0x20fba6(0x446)](bs[a0_0x20fba6(0x217)],wa,'allFlows'),po=new D[(a0_0x20fba6(0x20e))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[lo]},{'_id':!0x1}),ho=new D[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Cs],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[Ss],'default':[]},'chatLog':po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x20fba6(0x637)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x20fba6(0x11c)},'waitingMenu_replyOptions':{'type':[Ss],'default':[]}}),ya=_0x16cdaf=>{const _0x1e0436=a0_0x20fba6;let _0x4af8ff='z_'+_0x16cdaf+_0x1e0436(0x51e);return R?.['model']('ConversationModel',ho,_0x4af8ff);},go=new D[(a0_0x20fba6(0x20e))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),pa=new D[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),mo=new D[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[pa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x20fba6(0x6e2)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[go],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':pa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ba=_0x46029d=>{const _0x189397=a0_0x20fba6;let _0x2da3bd='z_'+_0x46029d+'_ScheduleMessages';return R?.['model'](_0x189397(0x6c3),mo,_0x2da3bd);},Ms=class{},fo=new D['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),wo=new D[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),yo=new D[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),bo=new D[(a0_0x20fba6(0x20e))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x20fba6(0x216)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),So=new D['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Mo=new D[(a0_0x20fba6(0x20e))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[So]},'customFields':{'type':[yo]},'flowConfig':{'type':bo,'default':{}},'flows':{'type':[wo],'default':[]},'autoCompleteMessages':{'type':[fo],'default':[]}}),Ie=R?.['model'](Ms[a0_0x20fba6(0x217)],Mo,'AutomateSystem'),Sa=require(a0_0x20fba6(0x5a0)),Co=new Sa[(a0_0x20fba6(0x20e))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x7ea0e9=>{const _0x5879ec=a0_0x20fba6;let _0x554817='z_'+_0x7ea0e9+_0x5879ec(0x5b9);return R?.[_0x5879ec(0x446)](_0x5879ec(0x4d7),Co,_0x554817);},_=class{constructor(_0x5ad542){const _0x2918e4=a0_0x20fba6;this[_0x2918e4(0x15c)]=_0x5ad542[_0x2918e4(0x6b2)]('DATABASE');}};function I(_0x3b9596){const _0x5169ad=a0_0x20fba6;let _0x4f79ad={};for(let [_0x295ee9,_0x51d502]of Object[_0x5169ad(0x805)](_0x3b9596))if(typeof _0x51d502=='object'&&!Array[_0x5169ad(0x5e4)](_0x51d502)){for(let [_0x5b31ce,_0x4cd768]of Object[_0x5169ad(0x805)](_0x51d502))_0x4f79ad[_0x295ee9+'.'+_0x5b31ce]=_0x4cd768;}else _0x4f79ad[_0x295ee9]=_0x51d502;return _0x4f79ad;}var ze=class{constructor(_0x3f09d4,_0x4fb94d,_0x3a8e4a,_0xf7caf3,_0x6dda43,_0x3ecdf8,_0x3e0c9e,_0x40cd5c,_0x96b9b5,_0x209024,_0x46c506,_0x4b7cdb,_0x67253){const _0x3b9969=a0_0x20fba6;this['message']=_0x3f09d4,this['chat']=_0x4fb94d,this['contact']=_0x3a8e4a,this[_0x3b9969(0x6ec)]=_0xf7caf3,this['webhook']=_0x6dda43,this[_0x3b9969(0x52b)]=_0x3ecdf8,this[_0x3b9969(0x479)]=_0x3e0c9e,this[_0x3b9969(0x233)]=_0x40cd5c,this['flowConversation']=_0x96b9b5,this['label']=_0x209024,this['scheduleMessage']=_0x46c506,this[_0x3b9969(0x131)]=_0x4b7cdb,this['dbClient']=_0x67253;}get['dbServer'](){const _0x46d1b5=a0_0x20fba6;return this[_0x46d1b5(0x6c7)];}},He=class{},Ke=class extends _{[a0_0x20fba6(0x756)](_0xb446e4){return ra(_0xb446e4);}async[a0_0x20fba6(0x42f)](_0x3558e9,_0x214116){const _0x1245b6=a0_0x20fba6;if(_0x3558e9[_0x1245b6(0x21c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1245b6(0x756)](_0x214116)[_0x1245b6(0x527)]([..._0x3558e9]))[_0x1245b6(0x21c)]};}catch(_0x834260){return _0x834260;}}async[a0_0x20fba6(0x568)](_0x50c4bf,_0x35bcdd){const _0x3f2fc7=a0_0x20fba6;try{let _0x393f40=this[_0x3f2fc7(0x756)](_0x35bcdd),_0x585b17=I(_0x50c4bf[_0x3f2fc7(0x31c)]);return await _0x393f40[_0x3f2fc7(0x568)](_0x585b17)[_0x3f2fc7(0x529)]({'messageTimestamp':-0x1})['limit'](_0x50c4bf?.['limit']??0x0)[_0x3f2fc7(0x542)]();}catch{return[];}}async[a0_0x20fba6(0x665)](_0x5316a7,_0x2a6dea){const _0x2fed3f=a0_0x20fba6;try{let _0x696b83=this[_0x2fed3f(0x756)](_0x2a6dea),_0x9a35af=I(_0x5316a7[_0x2fed3f(0x31c)]);await _0x696b83[_0x2fed3f(0x407)](_0x9a35af);}catch(_0x2070fb){console[_0x2fed3f(0x3b7)](_0x2070fb);}}async[a0_0x20fba6(0x589)](_0x4b1c2f,_0x42c1bb,_0x430593){const _0x4c6676=a0_0x20fba6;try{let _0x2f7ff9=this[_0x4c6676(0x756)](_0x430593),_0x13c05c=I(_0x4b1c2f[_0x4c6676(0x31c)]);return await _0x2f7ff9[_0x4c6676(0x59c)](_0x13c05c,{'$set':_0x42c1bb},{'new':!0x0});}catch(_0xf524ab){throw console['error'](_0xf524ab),_0xf524ab;}}async[a0_0x20fba6(0x527)](_0x30c7a9,_0x657dfb){const _0x5da08a=a0_0x20fba6;if(_0x30c7a9['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5da08a(0x756)](_0x657dfb)[_0x5da08a(0x527)]([..._0x30c7a9]))[_0x5da08a(0x21c)]};}catch(_0x1e4c4){return console[_0x5da08a(0x324)](_0x5da08a(0x1ba),_0x1e4c4),_0x1e4c4;}}async[a0_0x20fba6(0x315)](_0x59d0b2){const _0x525ae3=a0_0x20fba6;try{return await this['getMessageModelForOwner'](_0x59d0b2)['collection'][_0x525ae3(0x2ba)](),{'success':!0x0};}catch(_0x159ab2){return console[_0x525ae3(0x3b7)](_0x159ab2),{'success':!0x1,'error':_0x159ab2};}}},_s=A(require(a0_0x20fba6(0x2fa))),w=A(require(a0_0x20fba6(0x74b))),Le=require('fs'),U=A(require(a0_0x20fba6(0x4e9))),Y=A(require(a0_0x20fba6(0x751))),Ai=require(a0_0x20fba6(0x208)),Ii=A(require(a0_0x20fba6(0x5c5))),Ti=A(require('qrcode-terminal')),Ca=[a0_0x20fba6(0x18a),'documentMessage','audioMessage',a0_0x20fba6(0x846),a0_0x20fba6(0x5ed)],Ea=[a0_0x20fba6(0x5d2),a0_0x20fba6(0x2dd),a0_0x20fba6(0x386),a0_0x20fba6(0x765)],xs=require('os'),Ut=A(require(a0_0x20fba6(0x70e))),Fe=require(a0_0x20fba6(0x5ec)),Oi=require('node-mime-types'),he=A(require(a0_0x20fba6(0x5a0))),k=require('class-validator'),le=class{constructor(_0x9d67e6,_0x45a522,_0x98bf42){const _0x445f15=a0_0x20fba6;this[_0x445f15(0x4b4)]=_0x9d67e6,this[_0x445f15(0x478)]=_0x45a522,this[_0x445f15(0x217)]=_0x98bf42;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ce=class{},et=class{},tt=class{},st=class{},at=class{},xt=A(require(a0_0x20fba6(0x37a))),va=require('fs'),Na=require(a0_0x20fba6(0x4e9));async function Oe(_0x1d9f34){const _0x2cc469=a0_0x20fba6;let _0x3ad28e=G[_0x2cc469(0x18e)][_0x1d9f34];if(F[_0x2cc469(0x42c)]){let _0x422e69=R[_0x2cc469(0x5ff)]()['db'](F[_0x2cc469(0x6b0)]['DB_PREFIX_NAME']+_0x2cc469(0x36c))['collection'](_0x1d9f34);return _0x3ad28e||(await _0x422e69[_0x2cc469(0x568)]({})[_0x2cc469(0x532)]())[_0x2cc469(0x21c)]>0x0;}return _0x3ad28e||(0x0,va[_0x2cc469(0x604)])((0x0,Na['join'])(be,_0x1d9f34));}async function $a(_0x231ea4,_0x1f6007,_0x528e90){const _0x51de32=a0_0x20fba6;if(_0x231ea4[_0x51de32(0x316)][_0x51de32(0x4b0)](_0x51de32(0x2ce))||_0x231ea4[_0x51de32(0x316)][_0x51de32(0x4b0)]('/instance/fetchInstances')||_0x231ea4[_0x51de32(0x316)]['includes'](_0x51de32(0x169))||_0x231ea4[_0x51de32(0x316)]['includes'](_0x51de32(0x645))||_0x231ea4[_0x51de32(0x316)][_0x51de32(0x4b0)]('/instance/connect')||_0x231ea4['originalUrl'][_0x51de32(0x4b0)](_0x51de32(0x260))||_0x231ea4[_0x51de32(0x316)][_0x51de32(0x4b0)](_0x51de32(0x60f)))return _0x528e90();let _0x1a516e=_0x231ea4[_0x51de32(0x705)];if(!_0x1a516e?.[_0x51de32(0x1b4)])throw new m(_0x51de32(0x7b5));if(!await Oe(_0x1a516e[_0x51de32(0x1b4)]))throw new j(_0x51de32(0x20b)+_0x1a516e[_0x51de32(0x1b4)]+_0x51de32(0x3bc));_0x528e90();}async function Ra(_0x4649c4,_0x5e9e32,_0xa20b3c){const _0x170de1=a0_0x20fba6;if(_0x4649c4[_0x170de1(0x316)][_0x170de1(0x4b0)]('/instance/create')){let _0x162e1b=_0x4649c4['body'];if(await Oe(_0x162e1b['instanceName']))throw new Z(_0x170de1(0x816)+_0x162e1b[_0x170de1(0x1b4)]+'\x20is\x20already\x20in\x20use.');G[_0x170de1(0x18e)][_0x162e1b[_0x170de1(0x1b4)]]&&delete G[_0x170de1(0x18e)][_0x162e1b[_0x170de1(0x1b4)]];}_0xa20b3c();}var Aa=require('class-validator'),Ia=A(require(a0_0x20fba6(0x455))),it=a0_0x20fba6(0x688),vo=new $('GUARD');async function No(_0x597f3c,_0x89617b,_0x11fabb){const _0x130b1d=a0_0x20fba6;let _0x424a74=_0x597f3c[_0x130b1d(0x6b2)]('apikey');if(_0x424a74&&S['get'](_0x130b1d(0x4df))[_0x130b1d(0x425)]['KEY']!==_0x424a74)throw new oe();if(S[_0x130b1d(0x6b2)]('AUTHENTICATION')['API_KEY']['KEY']===_0x424a74)return _0x11fabb();if((_0x597f3c[_0x130b1d(0x316)]['includes'](_0x130b1d(0x2ce))||_0x597f3c[_0x130b1d(0x316)][_0x130b1d(0x4b0)](_0x130b1d(0x2c3)))&&!_0x424a74)throw new Z('Missing\x20global\x20api\x20key',_0x130b1d(0x826));let _0x31d8b3=S[_0x130b1d(0x6b2)](_0x130b1d(0x4df))[_0x130b1d(0x29e)];try{let [_0x49edda,_0x3768b0]=_0x597f3c['get']('authorization')[_0x130b1d(0x2fc)]('\x20');if(_0x49edda[_0x130b1d(0x500)]()!==_0x130b1d(0x601))throw new oe();if(!(0x0,Aa[_0x130b1d(0x16d)])(_0x3768b0))throw new oe();let _0x29f1cd=_0x597f3c['params'],_0x26d3d6=Ia[_0x130b1d(0x269)][_0x130b1d(0x4ea)](_0x3768b0,_0x31d8b3[_0x130b1d(0x251)],{'ignoreExpiration':_0x31d8b3['EXPIRIN_IN']===0x0});if(_0x29f1cd[_0x130b1d(0x1b4)]!==_0x26d3d6[_0x130b1d(0x1b4)]||it!==_0x26d3d6['apiName'])throw new oe();return _0x11fabb();}catch(_0x188fff){throw vo[_0x130b1d(0x3b7)](_0x188fff),new oe();}}async function $o(_0x4abac7,_0x5490a4,_0xaeeb6d){const _0x5d35bb=a0_0x20fba6;let _0x290337=S['get']('AUTHENTICATION')[_0x5d35bb(0x425)],_0x1fd14d=_0x4abac7[_0x5d35bb(0x6b2)]('apikey');if(_0x290337['KEY']===_0x1fd14d)return _0xaeeb6d();if(_0x4abac7['originalUrl'][_0x5d35bb(0x4b0)](_0x5d35bb(0x2ce))){let _0x374278=Oa,_0x24daea=_0x4abac7[_0x5d35bb(0x739)]['instanceName'];if(_0x374278&&_0x24daea[_0x5d35bb(0x500)]()[_0x5d35bb(0x685)](_0x374278[_0x5d35bb(0x500)]()))return _0xaeeb6d();if(!_0x1fd14d)throw new Z(_0x5d35bb(0x1fc),_0x5d35bb(0x826));}if(_0x4abac7[_0x5d35bb(0x316)][_0x5d35bb(0x4b0)](_0x5d35bb(0x2c3))&&!_0x1fd14d)throw new Z('Missing\x20global\x20api\x20key',_0x5d35bb(0x826));if(_0x4abac7['originalUrl'][_0x5d35bb(0x4b0)](_0x5d35bb(0x169))&&!_0x1fd14d)throw new Z('Missing\x20global\x20api\x20key',_0x5d35bb(0x826));if(_0x4abac7['originalUrl'][_0x5d35bb(0x4b0)](_0x5d35bb(0x645))&&!_0x1fd14d)throw new Z('Missing\x20global\x20api\x20key',_0x5d35bb(0x826));try{let _0x3c4fd6=_0x4abac7[_0x5d35bb(0x705)],_0x4f3121=await me['auth']['find'](_0x3c4fd6[_0x5d35bb(0x1b4)]);if(_0x4f3121&&_0x4f3121['apikey']===_0x1fd14d)return _0xaeeb6d();}catch{}throw new oe();}var Ta={'jwt':No,'apikey':$o},di=require(a0_0x20fba6(0x37a)),E=require(a0_0x20fba6(0x208)),C=(..._0x144aba)=>{const _0xbfdf1a=a0_0x20fba6;let _0x5f5aec={};return _0x144aba[_0xbfdf1a(0x871)](_0x50ce70=>_0x5f5aec[_0x50ce70]={'minLength':0x1,'description':_0xbfdf1a(0x27e)+_0x50ce70+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x144aba]}},'then':{'properties':_0x5f5aec}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'instanceName':{'type':'string'}},...C('instanceName')},mc={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'oldToken':{'type':a0_0x20fba6(0x648)}},'required':[a0_0x20fba6(0x54f)],...C(a0_0x20fba6(0x54f))},fc={'properties':{'key':{'type':a0_0x20fba6(0x6ff),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x20fba6(0x648)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x20fba6(0x5bc),'fromMe'],...C('id',a0_0x20fba6(0x5bc))},'message':{'type':'object'}}},ee={'properties':{'delay':{'type':'integer','description':a0_0x20fba6(0x69b)},'presence':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x286),'available',a0_0x20fba6(0x77b),a0_0x20fba6(0x5a2),a0_0x20fba6(0x17c)]}}},K={'type':a0_0x20fba6(0x648),'description':a0_0x20fba6(0x322)},_a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'textMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'text':{'type':'string'}},'required':['text'],...C(a0_0x20fba6(0x339))}},'required':['textMessage','number']},xa={'type':'string','pattern':a0_0x20fba6(0x2e9),'description':a0_0x20fba6(0x322)},wc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...xa},'options':{...ee},'textMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'text':{'type':'string'}},'required':[a0_0x20fba6(0x339)],...C('text')}},'required':[a0_0x20fba6(0x374),'number']},yc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...xa},'options':{...ee},'mediaMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'mediatype':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x73b),a0_0x20fba6(0x4cb),a0_0x20fba6(0x78d),'audio']},'media':{'type':a0_0x20fba6(0x648)},'fileName':{'type':a0_0x20fba6(0x648)},'caption':{'type':a0_0x20fba6(0x648)}},'required':['mediatype',a0_0x20fba6(0x44f)],...C(a0_0x20fba6(0x65f),a0_0x20fba6(0x1db),a0_0x20fba6(0x44f))}},'required':[a0_0x20fba6(0x202),a0_0x20fba6(0x63d)]},Da={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'stickerMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'image':{'type':'string'}},'required':[a0_0x20fba6(0x73b)],...C('image')}},'required':['stickerMessage',a0_0x20fba6(0x63d)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'statusMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'type':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x339),a0_0x20fba6(0x73b),a0_0x20fba6(0x23b),'video']},'content':{'type':a0_0x20fba6(0x648)},'caption':{'type':a0_0x20fba6(0x648)},'backgroundColor':{'type':a0_0x20fba6(0x648)},'font':{'type':a0_0x20fba6(0x670),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x20fba6(0x5ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x20fba6(0x552),'description':a0_0x20fba6(0x19d)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x20fba6(0x7da),'content'],...C(a0_0x20fba6(0x7da),a0_0x20fba6(0x49f))}},'required':[a0_0x20fba6(0x1b8)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'number':{...K},'options':{...ee},'mediaMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'mediatype':{'type':a0_0x20fba6(0x648),'enum':['image',a0_0x20fba6(0x4cb),'video','audio']},'media':{'type':a0_0x20fba6(0x648)},'fileName':{'type':'string'},'caption':{'type':a0_0x20fba6(0x648)}},'required':[a0_0x20fba6(0x7d1),a0_0x20fba6(0x44f)],...C(a0_0x20fba6(0x65f),a0_0x20fba6(0x1db),a0_0x20fba6(0x44f))}},'required':[a0_0x20fba6(0x202),a0_0x20fba6(0x63d)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'number':{...K},'options':{...ee},'audioMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'audio':{'type':a0_0x20fba6(0x648)}},'required':[a0_0x20fba6(0x23b)],...C('audio')}},'required':[a0_0x20fba6(0x3c1),a0_0x20fba6(0x63d)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'number':{...K},'pollMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'name':{'type':a0_0x20fba6(0x648)},'selectableCount':{'type':'number'},'values':{'type':a0_0x20fba6(0x5ce),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x20fba6(0x21e),a0_0x20fba6(0x1cf)],...C(a0_0x20fba6(0x217),a0_0x20fba6(0x21e),a0_0x20fba6(0x1cf))}},'required':[a0_0x20fba6(0x63d),a0_0x20fba6(0x5f8)]},Ua={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'menuMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'text':{'type':a0_0x20fba6(0x648)},'choices':{'type':a0_0x20fba6(0x5ce),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x20fba6(0x339),'choices'],...C(a0_0x20fba6(0x339),'choices')}},'required':['number','menuMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'number':{...K},'options':{...ee},'buttonMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'title':{'type':a0_0x20fba6(0x648)},'description':{'type':a0_0x20fba6(0x648)},'footerText':{'type':a0_0x20fba6(0x648)},'buttons':{'type':a0_0x20fba6(0x5ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20fba6(0x6ff),'properties':{'buttonText':{'type':a0_0x20fba6(0x648)},'buttonId':{'type':a0_0x20fba6(0x648)}},'required':[a0_0x20fba6(0x7ef),a0_0x20fba6(0x334)],...C('buttonText',a0_0x20fba6(0x334))}},'mediaMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'media':{'type':a0_0x20fba6(0x648)},'fileName':{'type':a0_0x20fba6(0x648)},'mediatype':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x73b),'document','video']}},'required':[a0_0x20fba6(0x44f),a0_0x20fba6(0x7d1)],...C('media',a0_0x20fba6(0x65f))}},'required':['title','buttons'],...C(a0_0x20fba6(0x664),'description')}},'required':[a0_0x20fba6(0x63d),a0_0x20fba6(0x4d8)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'number':{...K},'options':{...ee},'locationMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'latitude':{'type':a0_0x20fba6(0x63d)},'longitude':{'type':'number'},'name':{'type':a0_0x20fba6(0x648)},'address':{'type':a0_0x20fba6(0x648)}},'required':['latitude',a0_0x20fba6(0x331)],...C(a0_0x20fba6(0x217),'addresss')}},'required':[a0_0x20fba6(0x63d),a0_0x20fba6(0x3a7)]},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'listMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'title':{'type':a0_0x20fba6(0x648)},'description':{'type':a0_0x20fba6(0x648)},'footerText':{'type':a0_0x20fba6(0x648)},'buttonText':{'type':a0_0x20fba6(0x648)},'sections':{'type':a0_0x20fba6(0x5ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20fba6(0x6ff),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x20fba6(0x5ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20fba6(0x6ff),'properties':{'title':{'type':a0_0x20fba6(0x648)},'description':{'type':a0_0x20fba6(0x648)},'rowId':{'type':a0_0x20fba6(0x648)}},'required':[a0_0x20fba6(0x664),a0_0x20fba6(0x556)],...C(a0_0x20fba6(0x664),a0_0x20fba6(0x556))}}},'required':[a0_0x20fba6(0x664),'rows'],...C(a0_0x20fba6(0x664))}}},'required':[a0_0x20fba6(0x664),a0_0x20fba6(0x136),a0_0x20fba6(0x7ef),a0_0x20fba6(0x392)],...C(a0_0x20fba6(0x664),a0_0x20fba6(0x136),a0_0x20fba6(0x7ef),'footerText')}},'required':[a0_0x20fba6(0x63d),a0_0x20fba6(0x461)]},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...ee},'contactMessage':{'type':'array','items':{'type':a0_0x20fba6(0x6ff),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x20fba6(0x183),a0_0x20fba6(0x125)],...C(a0_0x20fba6(0x183))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x20fba6(0x63d),a0_0x20fba6(0x1a1)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x20fba6(0x424)],...C('id',a0_0x20fba6(0x5bc))},'reaction':{'type':a0_0x20fba6(0x648)}},'required':['key','reaction'],...C(a0_0x20fba6(0x1f4))}},'required':[a0_0x20fba6(0x20d)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'numbers':{'type':a0_0x20fba6(0x5ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20fba6(0x648),'pattern':'^\x5cd+','description':a0_0x20fba6(0x566)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'readMessages':{'type':a0_0x20fba6(0x5ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x20fba6(0x648)},'fromMe':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id','fromMe','remoteJid'],...C('id',a0_0x20fba6(0x5bc))}}},'required':[a0_0x20fba6(0x39a)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'privacySettings':{'type':a0_0x20fba6(0x6ff),'properties':{'readreceipts':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x1f6),'none']},'profile':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x1f6),a0_0x20fba6(0x1a0),a0_0x20fba6(0x2a1),a0_0x20fba6(0x48f)]},'status':{'type':'string','enum':['all',a0_0x20fba6(0x1a0),a0_0x20fba6(0x2a1),a0_0x20fba6(0x48f)]},'online':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x1f6),a0_0x20fba6(0x225)]},'last':{'type':'string','enum':['all',a0_0x20fba6(0x1a0),a0_0x20fba6(0x2a1),'none']},'groupadd':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x1f6),a0_0x20fba6(0x1a0),a0_0x20fba6(0x2a1),a0_0x20fba6(0x48f)]}},'required':[a0_0x20fba6(0x3c4),a0_0x20fba6(0x36a),a0_0x20fba6(0x59e),a0_0x20fba6(0x10f),a0_0x20fba6(0x773),'groupadd'],...C(a0_0x20fba6(0x3c4),a0_0x20fba6(0x36a),a0_0x20fba6(0x59e),a0_0x20fba6(0x10f),'last',a0_0x20fba6(0x350))}},'required':[a0_0x20fba6(0x702)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'lastMessage':{'type':a0_0x20fba6(0x6ff),'properties':{'key':{'type':a0_0x20fba6(0x6ff),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]}},'required':['id',a0_0x20fba6(0x424),'remoteJid'],...C('id',a0_0x20fba6(0x5bc))},'messageTimestamp':{'type':a0_0x20fba6(0x670),'minLength':0x1}},'required':[a0_0x20fba6(0x249)],...C('messageTimestamp')},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x20fba6(0x1df),'archive']},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'id':{'type':a0_0x20fba6(0x648)},'fromMe':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x20fba6(0x648)}},'required':['id','fromMe',a0_0x20fba6(0x5bc)],...C('id','remoteJid',a0_0x20fba6(0x300))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'where':{'type':a0_0x20fba6(0x6ff),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x20fba6(0x648),'minLength':0x1},'id':{'type':a0_0x20fba6(0x648),'minLength':0x1}},...C('_id','id',a0_0x20fba6(0x41b))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'name':{'type':a0_0x20fba6(0x648)}},...C(a0_0x20fba6(0x217))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'status':{'type':a0_0x20fba6(0x648)}},...C(a0_0x20fba6(0x59e))},_e={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'number':{'type':a0_0x20fba6(0x648)},'picture':{'type':'string'}}},Za={'type':a0_0x20fba6(0x6ff),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x20fba6(0x648)},'picture':{'type':'string'},'status':{'type':a0_0x20fba6(0x648)},'isBusiness':{'type':a0_0x20fba6(0x497)}}},ei={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'where':{'type':a0_0x20fba6(0x6ff),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x20fba6(0x424),a0_0x20fba6(0x5bc),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x20fba6(0x310)},'id':{'type':a0_0x20fba6(0x648),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x20fba6(0x6ff)}},...C(a0_0x20fba6(0x2a0))},'limit':{'type':a0_0x20fba6(0x670)}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'where':{'type':a0_0x20fba6(0x6ff),'properties':{'_id':{'type':a0_0x20fba6(0x648)},'remoteJid':{'type':'string'},'id':{'type':a0_0x20fba6(0x648)},'fromMe':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x246),'PENDING',a0_0x20fba6(0x5dc),'DELIVERY_ACK',a0_0x20fba6(0x1aa),a0_0x20fba6(0x6eb)]}},...C(a0_0x20fba6(0x2a0),a0_0x20fba6(0x5bc),'id',a0_0x20fba6(0x59e))},'limit':{'type':a0_0x20fba6(0x670)}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'number':{...K},'presence':{'type':a0_0x20fba6(0x648),'enum':['unavailable',a0_0x20fba6(0x797),'composing',a0_0x20fba6(0x5a2),a0_0x20fba6(0x17c)]}},'required':['presence',a0_0x20fba6(0x63d)]},si={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'subject':{'type':a0_0x20fba6(0x648)},'description':{'type':'string'},'profilePicture':{'type':a0_0x20fba6(0x648)},'participants':{'type':a0_0x20fba6(0x5ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x20fba6(0x81f),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x20fba6(0x5c7),'participants'],...C(a0_0x20fba6(0x5c7),'description',a0_0x20fba6(0x14b))},xe={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'groupJid':{'type':a0_0x20fba6(0x648),'pattern':a0_0x20fba6(0x548)}},'required':[a0_0x20fba6(0x5bf)],...C(a0_0x20fba6(0x5bf))},ai={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'groupJid':{'type':a0_0x20fba6(0x648)},'action':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x86c),a0_0x20fba6(0x419),'promote',a0_0x20fba6(0x7ad),'reject',a0_0x20fba6(0x254)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x20fba6(0x648),'minLength':0xa,'pattern':a0_0x20fba6(0x81f),'description':a0_0x20fba6(0x427)}}},'required':[a0_0x20fba6(0x5bf),'action',a0_0x20fba6(0x261)],...C('groupJid',a0_0x20fba6(0x37f))},ii={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'groupJid':{'type':a0_0x20fba6(0x648)},'expiration':{'type':a0_0x20fba6(0x63d),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x20fba6(0x27f)],...C(a0_0x20fba6(0x5bf),a0_0x20fba6(0x27f))},oi={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'groupJid':{'type':a0_0x20fba6(0x648)},'image':{'type':'string'}},'required':[a0_0x20fba6(0x5bf),a0_0x20fba6(0x73b)],...C(a0_0x20fba6(0x5bf),'image')},ri={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':[a0_0x20fba6(0x5bf),a0_0x20fba6(0x136)],...C(a0_0x20fba6(0x5bf),a0_0x20fba6(0x136))},ni={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x20fba6(0x648)},'name':{'type':a0_0x20fba6(0x648)}},'required':[a0_0x20fba6(0x5bf),a0_0x20fba6(0x217)],...C('groupJid',a0_0x20fba6(0x217))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'groupJid':{'type':a0_0x20fba6(0x648)},'setting':{'type':a0_0x20fba6(0x648),'enum':[a0_0x20fba6(0x703),'not_announcement',a0_0x20fba6(0x633),a0_0x20fba6(0x291)]}},'required':[a0_0x20fba6(0x5bf),a0_0x20fba6(0x30e)],...C('groupJid',a0_0x20fba6(0x30e))},li={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x20fba6(0x648)},'restrict':{'type':a0_0x20fba6(0x497)},'announce':{'type':a0_0x20fba6(0x497)},'memberAddMode':{'type':a0_0x20fba6(0x497)},'joinApprovalMode':{'type':a0_0x20fba6(0x497)},'expiration':{'type':a0_0x20fba6(0x670),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x20fba6(0x648)},'description':{'type':a0_0x20fba6(0x648)},'image':{'type':'string'}}},Es={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x20fba6(0x648)}},'required':[a0_0x20fba6(0x7f3)],...C('inviteCode')},ui={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'url':{'type':a0_0x20fba6(0x648)},'enabled':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]}},'required':[a0_0x20fba6(0x12a),a0_0x20fba6(0x73f)]},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x20fba6(0x6ff),'properties':{'local_map':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x20fba6(0x497),'enum':[!0x0,!0x1]}},'required':[a0_0x20fba6(0x77d),a0_0x20fba6(0x4f2),'QRCODE_UPDATED',a0_0x20fba6(0x79b),a0_0x20fba6(0x597),a0_0x20fba6(0x477),'SEND_MESSAGE',a0_0x20fba6(0x3f1),'CONTACTS_UPSERT',a0_0x20fba6(0x3d7),a0_0x20fba6(0x6ef),a0_0x20fba6(0x6b5),a0_0x20fba6(0x54a),a0_0x20fba6(0x1a4),a0_0x20fba6(0x77c),a0_0x20fba6(0x85e),a0_0x20fba6(0x3a3),a0_0x20fba6(0x2aa),a0_0x20fba6(0x63b)],...C(a0_0x20fba6(0x77d),a0_0x20fba6(0x4f2),a0_0x20fba6(0x120),a0_0x20fba6(0x79b),'MESSAGES_UPDATE',a0_0x20fba6(0x477),a0_0x20fba6(0x29a),'CONTACTS_SET',a0_0x20fba6(0x2d0),a0_0x20fba6(0x3d7),a0_0x20fba6(0x6ef),a0_0x20fba6(0x6b5),'CHATS_UPSERT',a0_0x20fba6(0x1a4),'CHATS_DELETE',a0_0x20fba6(0x85e),a0_0x20fba6(0x3a3),a0_0x20fba6(0x2aa),a0_0x20fba6(0x63b))},ot=class{},rt=class extends _{[a0_0x20fba6(0x6dc)](_0x2a4781){return ta(_0x2a4781);}async[a0_0x20fba6(0x42f)](_0x2f4f0f){const _0x3f090a=a0_0x20fba6;if(_0x2f4f0f['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x2f4f0f[0x0][_0x3f090a(0x565)])[_0x3f090a(0x527)]([..._0x2f4f0f]))[_0x3f090a(0x21c)]};}catch(_0x36199e){return _0x36199e;}}async[a0_0x20fba6(0x665)](_0x41a9cb,_0x429acc){const _0x3e5f72=a0_0x20fba6;try{return{'deletedCount':(await this[_0x3e5f72(0x6dc)](_0x429acc)[_0x3e5f72(0x407)]({..._0x41a9cb[_0x3e5f72(0x31c)]}))[_0x3e5f72(0x16e)]};}catch(_0x1e26ca){return{'error':_0x1e26ca?.[_0x3e5f72(0x176)]()};}}async[a0_0x20fba6(0x589)](_0x90eaf7,_0x5c75a4){const _0x384566=a0_0x20fba6;try{if(_0x90eaf7[_0x384566(0x21c)]===0x0)return;let _0x4b7177=this[_0x384566(0x6dc)](_0x5c75a4),_0xf5f396=_0x90eaf7[_0x384566(0x5a9)](_0x3f5f48=>({'updateOne':{'filter':{'_id':_0x3f5f48[_0x384566(0x2a0)],'owner':_0x5c75a4},'update':{..._0x3f5f48}}})),{modifiedCount:_0x127afc}=await _0x4b7177[_0x384566(0x504)](_0xf5f396);return{'insertCount':_0x127afc};}catch{return;}}async['find'](_0x40e0fe,_0x15a5b1){const _0x3b665c=a0_0x20fba6;try{let _0x39ccfa=this[_0x3b665c(0x6dc)](_0x15a5b1),_0xe35940=I(_0x40e0fe['where']);return await _0x39ccfa[_0x3b665c(0x568)](_0xe35940)[_0x3b665c(0x266)](_0x40e0fe?.[_0x3b665c(0x266)]??0x0)[_0x3b665c(0x542)]();}catch{return[];}}async['findOne'](_0x165abd,_0x5c3da3){const _0x1540e4=a0_0x20fba6;try{let _0x59a4e5=this[_0x1540e4(0x6dc)](_0x5c3da3),_0x3b17c8=I(_0x165abd[_0x1540e4(0x31c)]);return await _0x59a4e5[_0x1540e4(0x79e)](_0x3b17c8)[_0x1540e4(0x542)]();}catch{return null;}}async['deleteAll'](_0x448541){const _0x17b466=a0_0x20fba6;try{return await this[_0x17b466(0x6dc)](_0x448541)['collection'][_0x17b466(0x2ba)](),{'success':!0x0};}catch(_0x48f760){return console[_0x17b466(0x3b7)](_0x48f760),{'success':!0x1,'error':_0x48f760};}}},nt=require('jsonschema'),Ic=require(a0_0x20fba6(0x18c)),vs=new $(a0_0x20fba6(0x6cc)),V=class{[a0_0x20fba6(0x764)](_0x5ae49,_0x14440e=!0x0){const _0x28d06e=a0_0x20fba6;let _0x4982ec='/'+_0x5ae49;return _0x14440e&&(_0x4982ec+=_0x28d06e(0x4b6)),_0x4982ec;}async[a0_0x20fba6(0x166)](_0x19e896){const _0x3c050e=a0_0x20fba6;let {request:_0x1739e2,schema:_0x33f9cd,ClassRef:_0x4d6c18,execute:_0xa6da44}=_0x19e896,_0x3dc834=new _0x4d6c18(),_0x5e0c4e=_0x1739e2[_0x3c050e(0x739)],_0x2de7c8=_0x1739e2[_0x3c050e(0x705)];_0x1739e2?.[_0x3c050e(0x1e2)]&&Object[_0x3c050e(0x1c7)](_0x1739e2[_0x3c050e(0x1e2)])[_0x3c050e(0x21c)]>0x0&&Object[_0x3c050e(0x3fa)](_0x2de7c8,_0x1739e2['query']),_0x1739e2[_0x3c050e(0x316)]['includes'](_0x3c050e(0x2ce))&&Object[_0x3c050e(0x3fa)](_0x2de7c8,_0x5e0c4e),Object[_0x3c050e(0x3fa)](_0x3dc834,_0x5e0c4e);let _0xd84cf5=_0x33f9cd?(0x0,nt[_0x3c050e(0x6ea)])(_0x3dc834,_0x33f9cd):{'valid':!0x0,'errors':[]};if(!_0xd84cf5[_0x3c050e(0x49b)]){let _0xdba40b=_0xd84cf5[_0x3c050e(0x5b6)][_0x3c050e(0x5a9)](({property:_0x5797ab,stack:_0x57353b,schema:_0x71d859})=>{const _0x1235db=_0x3c050e;let _0x174750;return _0x71d859[_0x1235db(0x136)]?_0x174750=_0x71d859['description']:_0x174750=_0x57353b['replace'](_0x1235db(0x6ba),''),{'property':_0x5797ab[_0x1235db(0x4f4)]('instance.',''),'message':_0x174750};});throw vs[_0x3c050e(0x3b7)]([..._0xdba40b]),new m(..._0xdba40b);}return await _0xa6da44(_0x2de7c8,_0x3dc834);}async[a0_0x20fba6(0x224)](_0x539c74){const _0x3d4e91=a0_0x20fba6;let {request:_0x2f0895,ClassRef:_0x3173e8,schema:_0x371da2,execute:_0x34bb0e}=_0x539c74,_0x205097=_0x2f0895[_0x3d4e91(0x1e2)];if(!_0x205097?.[_0x3d4e91(0x5bf)])throw new m(_0x3d4e91(0x771),_0x3d4e91(0x112));let _0x3e53db=_0x2f0895[_0x3d4e91(0x705)],_0x301850=_0x2f0895[_0x3d4e91(0x739)],_0x591cfa=new _0x3173e8();Object[_0x3d4e91(0x3fa)](_0x301850,_0x205097),Object[_0x3d4e91(0x3fa)](_0x591cfa,_0x301850);let _0x996984=(0x0,nt[_0x3d4e91(0x6ea)])(_0x591cfa,_0x371da2);if(!_0x996984['valid']){let _0x344e99=_0x996984['errors'][_0x3d4e91(0x5a9)](({property:_0x1eb001,stack:_0x58b3e5,schema:_0x27e5bd})=>{const _0x5a5724=_0x3d4e91;let _0x535d5c;return _0x27e5bd['description']?_0x535d5c=_0x27e5bd[_0x5a5724(0x136)]:_0x535d5c=_0x58b3e5[_0x5a5724(0x4f4)](_0x5a5724(0x6ba),''),{'property':_0x1eb001[_0x5a5724(0x4f4)](_0x5a5724(0x6ba),''),'message':_0x535d5c};});throw vs[_0x3d4e91(0x3b7)]([..._0x344e99]),new m(..._0x344e99);}return await _0x34bb0e(_0x3e53db,_0x591cfa);}async[a0_0x20fba6(0x6c9)](_0x299949){const _0x327ca4=a0_0x20fba6;let {request:_0x35466d,ClassRef:_0x4f8b29,schema:_0x4b960e,execute:_0x56694b}=_0x299949,_0x23d49f=_0x35466d[_0x327ca4(0x739)];if(!_0x23d49f?.[_0x327ca4(0x7f3)])throw new m(_0x327ca4(0x60c),_0x327ca4(0x7a8));let _0xbe6926=_0x35466d[_0x327ca4(0x705)],_0x1cafa1=_0x35466d[_0x327ca4(0x739)],_0x5ce5db=new _0x4f8b29();Object[_0x327ca4(0x3fa)](_0x1cafa1,_0x23d49f),Object[_0x327ca4(0x3fa)](_0x5ce5db,_0x1cafa1);let _0x3025de=(0x0,nt['validate'])(_0x5ce5db,_0x4b960e);if(!_0x3025de['valid']){let _0x44c841=_0x3025de[_0x327ca4(0x5b6)][_0x327ca4(0x5a9)](({property:_0x1f04f9,stack:_0x23beb3,schema:_0x3c33fd})=>{const _0x1e7ae4=_0x327ca4;let _0x5b7536;return _0x3c33fd['description']?_0x5b7536=_0x3c33fd[_0x1e7ae4(0x136)]:_0x5b7536=_0x23beb3[_0x1e7ae4(0x4f4)]('instance.',''),{'property':_0x1f04f9[_0x1e7ae4(0x4f4)](_0x1e7ae4(0x6ba),''),'message':_0x5b7536};});throw vs[_0x327ca4(0x3b7)]([..._0x44c841]),new m(..._0x44c841);}return await _0x56694b(_0xbe6926,_0x5ce5db);}},M=class{},Gc=new $(a0_0x20fba6(0x137)),ct=class extends V{constructor(..._0x3016ab){const _0x27561c=a0_0x20fba6;super(),this[_0x27561c(0x148)]=(0x0,di['Router'])(),this[_0x27561c(0x148)][_0x27561c(0x25b)](this[_0x27561c(0x764)](_0x27561c(0x517)),..._0x3016ab,async(_0x566cc1,_0x22df9a)=>{const _0x4c8d29=_0x27561c;let _0x5c3778=await this[_0x4c8d29(0x166)]({'request':_0x566cc1,'schema':ti,'ClassRef':Qe,'execute':(_0x645764,_0x1b6797)=>P[_0x4c8d29(0x517)](_0x645764,_0x1b6797)});return _0x22df9a[_0x4c8d29(0x59e)](0xc9)[_0x4c8d29(0x1a9)](_0x5c3778);})[_0x27561c(0x25b)](this[_0x27561c(0x764)]('whatsappNumbers'),..._0x3016ab,async(_0x25dd3d,_0x10ca1d)=>{const _0x36796a=_0x27561c;let _0x283855=await this['dataValidate']({'request':_0x25dd3d,'schema':Ba,'ClassRef':Ye,'execute':(_0x9689db,_0x523cab)=>P[_0x36796a(0x43c)](_0x9689db,_0x523cab)});return _0x10ca1d[_0x36796a(0x59e)](0xc9)[_0x36796a(0x1a9)](_0x283855);})['post'](this[_0x27561c(0x764)](_0x27561c(0x704)),..._0x3016ab,async(_0x2f43b9,_0x1c8bbd)=>{const _0x2b80a8=_0x27561c;let _0x5c6cf1=await this[_0x2b80a8(0x166)]({'request':_0x2f43b9,'schema':v,'ClassRef':M,'execute':(_0x440a97,_0x480c60)=>P['editChat'](_0x440a97,_0x480c60)});return _0x1c8bbd[_0x2b80a8(0x59e)](0xc9)[_0x2b80a8(0x1a9)](_0x5c6cf1);})['put'](this['routerPath'](_0x27561c(0x469)),..._0x3016ab,async(_0x33f281,_0x3b1b35)=>{const _0x413169=_0x27561c;let _0xbeaf4e=await this[_0x413169(0x166)]({'request':_0x33f281,'schema':Wa,'ClassRef':et,'execute':(_0x4a54a6,_0xfdbf7c)=>P[_0x413169(0x439)](_0x4a54a6,_0xfdbf7c)});return _0x3b1b35[_0x413169(0x59e)](0xc9)[_0x413169(0x1a9)](_0xbeaf4e);})['put'](this[_0x27561c(0x764)](_0x27561c(0x2bd)),..._0x3016ab,async(_0x4f79a6,_0x25b056)=>{const _0x3b3ef7=_0x27561c;let _0x36b772=await this[_0x3b3ef7(0x166)]({'request':_0x4f79a6,'schema':Ha,'ClassRef':tt,'execute':(_0xfc01e,_0x54aa90)=>P[_0x3b3ef7(0x2bd)](_0xfc01e,_0x54aa90)});return _0x25b056[_0x3b3ef7(0x59e)](0xc9)[_0x3b3ef7(0x1a9)](_0x36b772);})['delete'](this['routerPath']('deleteMessageForEveryone'),..._0x3016ab,async(_0x2a00dc,_0x3991e0)=>{const _0x3c564d=_0x27561c;let _0x5f5172=await this['dataValidate']({'request':_0x2a00dc,'schema':Ka,'ClassRef':at,'execute':(_0x2a6aa2,_0x41c310)=>P[_0x3c564d(0x6ed)](_0x2a6aa2,_0x41c310)});return _0x3991e0['status'](0xc9)[_0x3c564d(0x1a9)](_0x5f5172);})[_0x27561c(0x25b)](this[_0x27561c(0x764)]('fetchProfilePictureUrl'),..._0x3016ab,async(_0x6eff4,_0x1bcc96)=>{const _0x3b6ffe=_0x27561c;let _0x11542b=await this['dataValidate']({'request':_0x6eff4,'schema':_e,'ClassRef':Te,'execute':(_0x262706,_0x1be755)=>P[_0x3b6ffe(0x7fd)](_0x262706,_0x1be755)});return _0x1bcc96[_0x3b6ffe(0x59e)](0xc8)[_0x3b6ffe(0x1a9)](_0x11542b);})[_0x27561c(0x25b)](this['routerPath'](_0x27561c(0x73e)),..._0x3016ab,async(_0x113140,_0x3efc05)=>{const _0x858ea=_0x27561c;let _0x5ceaa8=await this[_0x858ea(0x166)]({'request':_0x113140,'schema':Za,'ClassRef':Te,'execute':(_0x2f4826,_0x534aec)=>P['fetchProfile'](_0x2f4826,_0x534aec)});return _0x3efc05[_0x858ea(0x59e)](0xc8)[_0x858ea(0x1a9)](_0x5ceaa8);})['post'](this[_0x27561c(0x764)]('findContacts'),..._0x3016ab,async(_0x569151,_0x336de4)=>{const _0x59b04e=_0x27561c;let _0x119990=await this[_0x59b04e(0x166)]({'request':_0x569151,'schema':Qa,'ClassRef':ot,'execute':(_0x509e68,_0x3a6ad5)=>P[_0x59b04e(0x2d8)](_0x509e68,_0x3a6ad5)});return _0x336de4[_0x59b04e(0x59e)](0xc8)[_0x59b04e(0x1a9)](_0x119990);})['post'](this[_0x27561c(0x764)](_0x27561c(0x2d7)),..._0x3016ab,async(_0x5964b7,_0xc7e9e7)=>{const _0x4a2fd0=_0x27561c;let _0x1a2a45=await this[_0x4a2fd0(0x166)]({'request':_0x5964b7,'schema':null,'ClassRef':Object,'execute':(_0x48fdd3,_0x783a06)=>P[_0x4a2fd0(0x2d7)](_0x48fdd3,_0x783a06)});return _0xc7e9e7[_0x4a2fd0(0x59e)](0xc9)['json'](_0x1a2a45);})[_0x27561c(0x25b)](this['routerPath'](_0x27561c(0x160)),..._0x3016ab,async(_0x44995a,_0x49aeb7)=>{const _0x1ad7ae=_0x27561c;let _0x1428b1=await this[_0x1ad7ae(0x166)]({'request':_0x44995a,'schema':ei,'ClassRef':He,'execute':(_0x1bc9fb,_0x52ae17)=>P['fetchMessages'](_0x1bc9fb,_0x52ae17)});return _0x49aeb7[_0x1ad7ae(0x59e)](0xc8)[_0x1ad7ae(0x1a9)](_0x1428b1);})['get'](this['routerPath'](_0x27561c(0x30d)),..._0x3016ab,async(_0x2a8858,_0x1f991c)=>{const _0x114fb6=_0x27561c;let _0x468ebe=await this[_0x114fb6(0x166)]({'request':_0x2a8858,'schema':null,'ClassRef':M,'execute':_0x5cccdb=>P[_0x114fb6(0x372)](_0x5cccdb)});return _0x1f991c['status'](0xc8)[_0x114fb6(0x1a9)](_0x468ebe);})[_0x27561c(0x6b2)](this[_0x27561c(0x764)](_0x27561c(0x4fe)),..._0x3016ab,async(_0xd97873,_0x3210b7)=>{const _0x259335=_0x27561c;let _0x4cf047=await this[_0x259335(0x166)]({'request':_0xd97873,'schema':null,'ClassRef':M,'execute':_0x55b358=>P[_0x259335(0x864)](_0x55b358)});return _0x3210b7[_0x259335(0x59e)](0xc8)[_0x259335(0x1a9)](_0x4cf047);})[_0x27561c(0x63e)](this[_0x27561c(0x764)](_0x27561c(0x1da)),..._0x3016ab,async(_0x1c3f1f,_0x50b245)=>{const _0x338437=_0x27561c;let _0xcf4f46=await this['dataValidate']({'request':_0x1c3f1f,'schema':null,'ClassRef':Array,'execute':(_0x46fc1c,_0x40b97f)=>P['importChats'](_0x46fc1c,_0x40b97f)});return _0x50b245[_0x338437(0x59e)](0xc8)['json'](_0xcf4f46);})[_0x27561c(0x6b2)](this[_0x27561c(0x764)]('fetchPrivacySettings'),..._0x3016ab,async(_0x11a083,_0x3e5f26)=>{const _0x44465d=_0x27561c;let _0xdcccd6=await this[_0x44465d(0x166)]({'request':_0x11a083,'schema':null,'ClassRef':M,'execute':_0x55a82f=>P[_0x44465d(0x5a4)](_0x55a82f)});return _0x3e5f26[_0x44465d(0x59e)](0xc8)[_0x44465d(0x1a9)](_0xdcccd6);})[_0x27561c(0x63e)](this[_0x27561c(0x764)](_0x27561c(0x6d7)),..._0x3016ab,async(_0x104121,_0x453200)=>{const _0x2ad2d2=_0x27561c;let _0x3930b3=await this['dataValidate']({'request':_0x104121,'schema':za,'ClassRef':st,'execute':(_0x5b45b3,_0x17d0cb)=>P['updatePrivacySettings'](_0x5b45b3,_0x17d0cb)});return _0x453200[_0x2ad2d2(0x59e)](0xc9)[_0x2ad2d2(0x1a9)](_0x3930b3);})['post'](this[_0x27561c(0x764)]('fetchBusinessProfile'),..._0x3016ab,async(_0xd21504,_0x53069b)=>{const _0x10af8d=_0x27561c;let _0x1c8fd3=await this[_0x10af8d(0x166)]({'request':_0xd21504,'schema':_e,'ClassRef':Ce,'execute':(_0x274157,_0x3cd4a6)=>P['fetchBusinessProfile'](_0x274157,_0x3cd4a6)});return _0x53069b[_0x10af8d(0x59e)](0xc8)[_0x10af8d(0x1a9)](_0x1c8fd3);})[_0x27561c(0x25b)](this['routerPath'](_0x27561c(0x2d9)),..._0x3016ab,async(_0x555268,_0x37198d)=>{const _0x831e0b=_0x27561c;let _0x1de6fb=await this[_0x831e0b(0x166)]({'request':_0x555268,'schema':Ya,'ClassRef':Xe,'execute':(_0x22100a,_0x236206)=>P[_0x831e0b(0x2d9)](_0x22100a,_0x236206)});return _0x37198d['status'](0xc8)[_0x831e0b(0x1a9)](_0x1de6fb);})[_0x27561c(0x25b)](this['routerPath'](_0x27561c(0x40e)),..._0x3016ab,async(_0x27e6f2,_0x591c1e)=>{const _0x300342=_0x27561c;let _0x5d0a4d=await this[_0x300342(0x166)]({'request':_0x27e6f2,'schema':Xa,'ClassRef':Ze,'execute':(_0x51b0cb,_0x360c07)=>P[_0x300342(0x40e)](_0x51b0cb,_0x360c07)});return _0x591c1e[_0x300342(0x59e)](0xc8)[_0x300342(0x1a9)](_0x5d0a4d);})[_0x27561c(0x63e)](this['routerPath']('updateProfilePicture'),..._0x3016ab,async(_0x480359,_0x2940e2)=>{const _0x91546e=_0x27561c;let _0x4872cb=await this[_0x91546e(0x166)]({'request':_0x480359,'schema':_e,'ClassRef':Ce,'execute':(_0xf3d905,_0x30a1e4)=>P[_0x91546e(0x7aa)](_0xf3d905,_0x30a1e4)});return _0x2940e2['status'](0xc8)[_0x91546e(0x1a9)](_0x4872cb);})[_0x27561c(0x665)](this[_0x27561c(0x764)](_0x27561c(0x563)),..._0x3016ab,async(_0x4fadc3,_0x4be786)=>{const _0x2762c5=_0x27561c;let _0x6d9438=await this['dataValidate']({'request':_0x4fadc3,'schema':_e,'ClassRef':Ce,'execute':(_0x1c15b2,_0x469367)=>P['removeProfilePicture'](_0x1c15b2,_0x469367)});return _0x4be786[_0x2762c5(0x59e)](0xc8)[_0x2762c5(0x1a9)](_0x6d9438);});}},pi=require(a0_0x20fba6(0x37a)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},De=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x327917){const _0x47334b=a0_0x20fba6;super(),this[_0x47334b(0x148)]=(0x0,pi['Router'])(),this['router'][_0x47334b(0x25b)](this[_0x47334b(0x764)]('create'),..._0x327917,async(_0x5272d0,_0x131062)=>{const _0xc31742=_0x47334b;let _0x322b84=await this[_0xc31742(0x166)]({'request':_0x5272d0,'schema':si,'ClassRef':lt,'execute':(_0x3fc368,_0x3695ee)=>q[_0xc31742(0x2ee)](_0x3fc368,_0x3695ee)});_0x131062['status'](0xc9)[_0xc31742(0x1a9)](_0x322b84);})['put'](this[_0x47334b(0x764)](_0x47334b(0x577)),..._0x327917,async(_0x11dfda,_0x5b0a20)=>{const _0x58b9e4=_0x47334b;let _0x498e38=await this[_0x58b9e4(0x224)]({'request':_0x11dfda,'schema':oi,'ClassRef':ut,'execute':(_0x556080,_0x4d29d3)=>q['updateGroupPicture'](_0x556080,_0x4d29d3)});_0x5b0a20['status'](0xc9)[_0x58b9e4(0x1a9)](_0x498e38);})[_0x47334b(0x63e)](this['routerPath'](_0x47334b(0x2ab)),..._0x327917,async(_0x3b786f,_0x32ac64)=>{const _0xa4c6ae=_0x47334b;let _0x3561e3=await this['groupValidate']({'request':_0x3b786f,'schema':ri,'ClassRef':dt,'execute':(_0x5d6e36,_0x536c3e)=>q[_0xa4c6ae(0x2ab)](_0x5d6e36,_0x536c3e)});_0x32ac64[_0xa4c6ae(0x59e)](0xc9)[_0xa4c6ae(0x1a9)](_0x3561e3);})[_0x47334b(0x63e)](this[_0x47334b(0x764)](_0x47334b(0x7d9)),..._0x327917,async(_0x3af057,_0x51e5df)=>{const _0x156295=_0x47334b;let _0x261c55=await this['groupValidate']({'request':_0x3af057,'schema':ni,'ClassRef':pt,'execute':(_0x48d2b0,_0x560f3c)=>q[_0x156295(0x7d9)](_0x48d2b0,_0x560f3c)});_0x51e5df[_0x156295(0x59e)](0xc9)['json'](_0x261c55);})[_0x47334b(0x63e)](this[_0x47334b(0x764)](_0x47334b(0x43b)),..._0x327917,async(_0x3959eb,_0x5768c8)=>{const _0x4bb026=_0x47334b;let _0xeb50eb=await this[_0x4bb026(0x224)]({'request':_0x3959eb,'schema':li,'ClassRef':gt,'execute':(_0x318a07,_0x32e4d8)=>q[_0x4bb026(0x43b)](_0x318a07,_0x32e4d8)});_0x5768c8[_0x4bb026(0x59e)](0xc9)[_0x4bb026(0x1a9)](_0xeb50eb);})[_0x47334b(0x63e)](this[_0x47334b(0x764)](_0x47334b(0x79c)),..._0x327917,async(_0x238567,_0x1d9e49)=>{const _0x21145c=_0x47334b;let _0x3906fc=await this[_0x21145c(0x224)]({'request':_0x238567,'schema':ci,'ClassRef':ht,'execute':(_0x365445,_0x1a676c)=>q['groupSetting'](_0x365445,_0x1a676c)});_0x1d9e49[_0x21145c(0x59e)](0xc9)[_0x21145c(0x1a9)](_0x3906fc);})[_0x47334b(0x63e)](this[_0x47334b(0x764)](_0x47334b(0x488)),..._0x327917,async(_0xf2ec8a,_0x557fea)=>{const _0x4d5b18=_0x47334b;let _0x459eb0=await this[_0x4d5b18(0x224)]({'request':_0xf2ec8a,'schema':ii,'ClassRef':ft,'execute':(_0x3bba4f,_0x10e9f2)=>q['toggleEphemeral'](_0x3bba4f,_0x10e9f2)});_0x557fea[_0x4d5b18(0x59e)](0xc9)[_0x4d5b18(0x1a9)](_0x459eb0);})['get'](this[_0x47334b(0x764)](_0x47334b(0x1cd)),..._0x327917,async(_0x515988,_0x28e471)=>{const _0x261fab=_0x47334b;let _0x1a51b5=await this['groupValidate']({'request':_0x515988,'schema':xe,'ClassRef':te,'execute':(_0x24a07d,_0x1e9635)=>q[_0x261fab(0x41c)](_0x24a07d,_0x1e9635)});_0x28e471[_0x261fab(0x59e)](0xc8)[_0x261fab(0x1a9)](_0x1a51b5);})[_0x47334b(0x6b2)](this[_0x47334b(0x764)](_0x47334b(0x58f)),..._0x327917,async(_0x22d3ac,_0x41459a)=>{const _0x22e0ca=_0x47334b;let _0x50e3cb=await this['dataValidate']({'request':_0x22d3ac,'schema':v,'ClassRef':M,'execute':_0x9b826d=>q[_0x22e0ca(0x58f)](_0x9b826d)});_0x41459a[_0x22e0ca(0x59e)](0xc8)['json'](_0x50e3cb);})[_0x47334b(0x6b2)](this[_0x47334b(0x764)](_0x47334b(0x261)),..._0x327917,async(_0x27c23e,_0x1ab780)=>{let _0x58fcb6=await this['groupValidate']({'request':_0x27c23e,'schema':xe,'ClassRef':te,'execute':(_0x11f92b,_0xefde4a)=>q['findParticipants'](_0x11f92b,_0xefde4a)});_0x1ab780['status'](0xc8)['json'](_0x58fcb6);})[_0x47334b(0x6b2)](this[_0x47334b(0x764)]('inviteCode'),..._0x327917,async(_0x4b2f91,_0x34b809)=>{const _0x833bc4=_0x47334b;let _0x50316e=await this[_0x833bc4(0x224)]({'request':_0x4b2f91,'schema':xe,'ClassRef':te,'execute':(_0x1123b0,_0x14ac37)=>q[_0x833bc4(0x7f3)](_0x1123b0,_0x14ac37)});_0x34b809[_0x833bc4(0x59e)](0xc8)[_0x833bc4(0x1a9)](_0x50316e);})[_0x47334b(0x25b)](this[_0x47334b(0x764)](_0x47334b(0x7af)),..._0x327917,async(_0x2ebf49,_0x21015c)=>{const _0x53dbe9=_0x47334b;let _0x1a263d=await this['joinGroupValidate']({'request':_0x2ebf49,'schema':Es,'ClassRef':De,'execute':(_0x5cea8a,_0x3c3b12)=>q['groupGetInviteInfo'](_0x5cea8a,_0x3c3b12)});_0x21015c[_0x53dbe9(0x59e)](0xc9)['json'](_0x1a263d);})['put'](this[_0x47334b(0x764)](_0x47334b(0x78a)),..._0x327917,async(_0xdc7dda,_0x25b989)=>{const _0x45f5d2=_0x47334b;let _0x4915cd=await this[_0x45f5d2(0x6c9)]({'request':_0xdc7dda,'schema':Es,'ClassRef':De,'execute':(_0x55e039,_0x15c107)=>q['joinGroup'](_0x55e039,_0x15c107)});_0x25b989[_0x45f5d2(0x59e)](0xc9)[_0x45f5d2(0x1a9)](_0x4915cd);})[_0x47334b(0x63e)](this[_0x47334b(0x764)]('revokeInviteCode'),..._0x327917,async(_0x56f154,_0x44207f)=>{const _0xdf1c67=_0x47334b;let _0x4232fc=await this['groupValidate']({'request':_0x56f154,'schema':xe,'ClassRef':te,'execute':(_0x289348,_0x41db6f)=>q[_0xdf1c67(0x6a5)](_0x289348,_0x41db6f)});_0x44207f[_0xdf1c67(0x59e)](0xc9)[_0xdf1c67(0x1a9)](_0x4232fc);})[_0x47334b(0x63e)](this[_0x47334b(0x764)](_0x47334b(0x874)),..._0x327917,async(_0x395284,_0x5393df)=>{const _0x34cb0a=_0x47334b;let _0x4bbf90=await this[_0x34cb0a(0x224)]({'request':_0x395284,'schema':ai,'ClassRef':mt,'execute':(_0x100f71,_0x15932c)=>q['updateGParticipate'](_0x100f71,_0x15932c)});_0x5393df[_0x34cb0a(0x59e)](0xc9)[_0x34cb0a(0x1a9)](_0x4bbf90);})[_0x47334b(0x665)](this['routerPath']('leaveGroup'),..._0x327917,async(_0x4f721a,_0x17332e)=>{const _0x1c05a8=_0x47334b;let _0x16f34a=await this[_0x1c05a8(0x224)]({'request':_0x4f721a,'schema':{},'ClassRef':te,'execute':(_0x26a84e,_0x1b3216)=>q[_0x1c05a8(0x1ea)](_0x26a84e,_0x1b3216)});_0x17332e['status'](0xc8)[_0x1c05a8(0x1a9)](_0x16f34a);});}},hi=require(a0_0x20fba6(0x37a)),yt=class extends V{constructor(_0x2c1950,..._0x33341f){const _0x540b01=a0_0x20fba6;super(),this['configService']=_0x2c1950,this[_0x540b01(0x148)]=(0x0,hi[_0x540b01(0x14f)])();let _0x2db8cc=_0x2c1950[_0x540b01(0x6b2)](_0x540b01(0x4df));this[_0x540b01(0x148)][_0x540b01(0x25b)](_0x540b01(0x248),..._0x33341f,async(_0x1e5b4c,_0x2ec554)=>{const _0x4dcf0c=_0x540b01;let {instanceName:_0x740d4b,apikey:_0x124d43,number:_0x4c3740}=_0x1e5b4c[_0x4dcf0c(0x739)],_0x4f812b=await ue[_0x4dcf0c(0x3e3)]({'instanceName':_0x740d4b,'apikey':_0x124d43,'number':_0x4c3740});return _0x2ec554[_0x4dcf0c(0x59e)](0xc9)['json'](_0x4f812b);})['put'](this[_0x540b01(0x764)](_0x540b01(0x323)),..._0x33341f,async(_0x15edb3,_0x2bbc62)=>{const _0x5d0b18=_0x540b01;let _0x3275a3=await this[_0x5d0b18(0x166)]({'request':_0x15edb3,'schema':v,'ClassRef':M,'execute':_0x15fa3d=>ue[_0x5d0b18(0x4dc)](_0x15fa3d)});return _0x2bbc62[_0x5d0b18(0x59e)](0xc8)[_0x5d0b18(0x1a9)](_0x3275a3);})[_0x540b01(0x6b2)](this[_0x540b01(0x764)](_0x540b01(0x596)),..._0x33341f,async(_0x19379b,_0x23d2c0)=>{const _0x247d14=_0x540b01;let _0x5f266c=await this[_0x247d14(0x166)]({'request':_0x19379b,'schema':v,'ClassRef':M,'execute':_0x2d589d=>ue[_0x247d14(0x61d)](_0x2d589d)});return _0x23d2c0[_0x247d14(0x59e)](0xc8)['json'](_0x5f266c);})[_0x540b01(0x6b2)](this[_0x540b01(0x764)]('connectionState'),..._0x33341f,async(_0x170608,_0xc1ed6a)=>{const _0x5c2981=_0x540b01;let _0x518753=await this[_0x5c2981(0x166)]({'request':_0x170608,'schema':v,'ClassRef':M,'execute':_0x62c5e5=>ue['connectionState'](_0x62c5e5)});return _0xc1ed6a[_0x5c2981(0x59e)](0xc8)[_0x5c2981(0x1a9)](_0x518753);})[_0x540b01(0x6b2)](this['routerPath'](_0x540b01(0x442),!0x1),..._0x33341f,async(_0x40e581,_0x36baa2)=>{const _0x22c624=_0x540b01;let _0x3b54b3=await this[_0x22c624(0x166)]({'request':_0x40e581,'schema':null,'ClassRef':M,'execute':_0x531ac7=>ue[_0x22c624(0x442)](_0x531ac7)});return _0x36baa2[_0x22c624(0x59e)](0xc8)['json'](_0x3b54b3);})[_0x540b01(0x665)](this['routerPath'](_0x540b01(0x4f6)),..._0x33341f,async(_0x1f73c0,_0x1983f7)=>{const _0x1c114a=_0x540b01;let _0x53c354=await this[_0x1c114a(0x166)]({'request':_0x1f73c0,'schema':v,'ClassRef':M,'execute':_0x1b6644=>ue['logout'](_0x1b6644)});return _0x1983f7[_0x1c114a(0x59e)](0xc8)[_0x1c114a(0x1a9)](_0x53c354);})['delete'](this[_0x540b01(0x764)](_0x540b01(0x665)),..._0x33341f,async(_0x573a9e,_0x1ccee0)=>{const _0x54e5c8=_0x540b01;let _0x5e6f5b=await this['dataValidate']({'request':_0x573a9e,'schema':v,'ClassRef':M,'execute':_0x26db72=>ue[_0x54e5c8(0x115)](_0x26db72)});return _0x1ccee0[_0x54e5c8(0x59e)](0xc8)[_0x54e5c8(0x1a9)](_0x5e6f5b);});}},gi=require(a0_0x20fba6(0x37a)),Ns=class{},z=class extends Ns{},bt=class extends z{},St=class extends z{},Mt=class extends z{},Ct=class extends z{},Pe=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},$t=class extends z{},Rt=class extends z{},At=class{},It=class extends V{constructor(..._0x532ec1){const _0xc48236=a0_0x20fba6;super(),this[_0xc48236(0x148)]=(0x0,gi[_0xc48236(0x14f)])(),this[_0xc48236(0x148)][_0xc48236(0x25b)](this[_0xc48236(0x764)](_0xc48236(0x6b3)),..._0x532ec1,async(_0x957931,_0x1ed995)=>{const _0x4d9d44=_0xc48236;let _0x3899f1=await this[_0x4d9d44(0x166)]({'request':_0x957931,'schema':_a,'ClassRef':bt,'execute':(_0x30c9dc,_0x4834d7)=>B[_0x4d9d44(0x6b3)](_0x30c9dc,_0x4834d7)});return _0x1ed995[_0x4d9d44(0x59e)](0xc9)[_0x4d9d44(0x1a9)](_0x3899f1);})[_0xc48236(0x25b)](this[_0xc48236(0x764)](_0xc48236(0x23a)),..._0x532ec1,async(_0x3a7c00,_0x5105c7)=>{const _0x296f4d=_0xc48236;let _0x35acfb=await this[_0x296f4d(0x166)]({'request':_0x3a7c00,'schema':ka,'ClassRef':Pe,'execute':(_0x4d007c,_0x379918)=>B[_0x296f4d(0x23a)](_0x4d007c,_0x379918)});return _0x5105c7['status'](0xc9)['json'](_0x35acfb);})[_0xc48236(0x25b)](this[_0xc48236(0x764)](_0xc48236(0x342)),..._0x532ec1,async(_0x218d91,_0xac9ce6)=>{const _0x538d7d=_0xc48236;let _0x40bf3e=await this[_0x538d7d(0x166)]({'request':_0x218d91,'schema':Ua,'ClassRef':Ct,'execute':(_0x1962e4,_0x48c2a1)=>B['sendMenu'](_0x1962e4,_0x48c2a1)});return _0xac9ce6[_0x538d7d(0x59e)](0xc9)[_0x538d7d(0x1a9)](_0x40bf3e);})[_0xc48236(0x25b)](this['routerPath'](_0xc48236(0x4c7)),..._0x532ec1,async(_0x3576a4,_0x2fbb9b)=>{const _0xe51b6b=_0xc48236;let _0x390294=await this[_0xe51b6b(0x166)]({'request':_0x3576a4,'schema':La,'ClassRef':Pe,'execute':(_0x428f19,_0x1e2df3)=>B[_0xe51b6b(0x4c7)](_0x428f19,_0x1e2df3)});return _0x2fbb9b[_0xe51b6b(0x59e)](0xc9)[_0xe51b6b(0x1a9)](_0x390294);})['post'](this[_0xc48236(0x764)]('sendButtons'),..._0x532ec1,async(_0x411963,_0x57df4f)=>{const _0xe04b91=_0xc48236;let _0x2ccee2=await this[_0xe04b91(0x166)]({'request':_0x411963,'schema':ja,'ClassRef':vt,'execute':(_0x208f5e,_0x347a56)=>B[_0xe04b91(0x762)](_0x208f5e,_0x347a56)});return _0x57df4f['status'](0xc9)[_0xe04b91(0x1a9)](_0x2ccee2);})[_0xc48236(0x25b)](this[_0xc48236(0x764)]('sendLocation'),..._0x532ec1,async(_0x305f3c,_0x38132)=>{const _0x106cd8=_0xc48236;let _0x32848f=await this[_0x106cd8(0x166)]({'request':_0x305f3c,'schema':Ja,'ClassRef':Nt,'execute':(_0x4510e4,_0x4f9162)=>B[_0x106cd8(0x594)](_0x4510e4,_0x4f9162)});return _0x38132[_0x106cd8(0x59e)](0xc9)[_0x106cd8(0x1a9)](_0x32848f);})[_0xc48236(0x25b)](this[_0xc48236(0x764)](_0xc48236(0x5f4)),..._0x532ec1,async(_0xc0839c,_0x22e4fc)=>{const _0x9deac9=_0xc48236;let _0xc7b89f=await this[_0x9deac9(0x166)]({'request':_0xc0839c,'schema':qa,'ClassRef':$t,'execute':(_0x107590,_0x48463a)=>B['sendList'](_0x107590,_0x48463a)});return _0x22e4fc[_0x9deac9(0x59e)](0xc9)[_0x9deac9(0x1a9)](_0xc7b89f);})[_0xc48236(0x25b)](this['routerPath'](_0xc48236(0x156)),..._0x532ec1,async(_0x51c0e0,_0xa806be)=>{const _0x1d1586=_0xc48236;let _0x226feb=await this[_0x1d1586(0x166)]({'request':_0x51c0e0,'schema':Va,'ClassRef':Rt,'execute':(_0x245f23,_0xd55bfb)=>B['sendContact'](_0x245f23,_0xd55bfb)});return _0xa806be[_0x1d1586(0x59e)](0xc9)[_0x1d1586(0x1a9)](_0x226feb);})[_0xc48236(0x25b)](this['routerPath']('sendReaction'),..._0x532ec1,async(_0x30fb53,_0x193de0)=>{const _0x27d389=_0xc48236;let _0x35624a=await this[_0x27d389(0x166)]({'request':_0x30fb53,'schema':Ga,'ClassRef':At,'execute':(_0x2ac0b1,_0x191af2)=>B[_0x27d389(0x38d)](_0x2ac0b1,_0x191af2)});return _0x193de0[_0x27d389(0x59e)](0xc9)[_0x27d389(0x1a9)](_0x35624a);})[_0xc48236(0x25b)](this[_0xc48236(0x764)](_0xc48236(0x7c4)),..._0x532ec1,async(_0x5bfed1,_0x5d089e)=>{const _0x18226f=_0xc48236;let _0x39daa4=await this['dataValidate']({'request':_0x5bfed1,'schema':Fa,'ClassRef':Mt,'execute':(_0x4c3dd9,_0x5d23f9)=>B[_0x18226f(0x7c4)](_0x4c3dd9,_0x5d23f9)});return _0x5d089e[_0x18226f(0x59e)](0xc9)['json'](_0x39daa4);})['post'](this[_0xc48236(0x764)](_0xc48236(0x330)),..._0x532ec1,async(_0xd3a62f,_0x5f5147)=>{const _0x134493=_0xc48236;let _0x49746d=await this[_0x134493(0x166)]({'request':_0xd3a62f,'schema':Pa,'ClassRef':St,'execute':(_0x52df90,_0x5730cd)=>B[_0x134493(0x330)](_0x52df90,_0x5730cd)});return _0x5f5147[_0x134493(0x59e)](0xc9)[_0x134493(0x1a9)](_0x49746d);})[_0xc48236(0x25b)](this[_0xc48236(0x764)](_0xc48236(0x4f3)),..._0x532ec1,async(_0x392b7f,_0x9e01e9)=>{const _0x23f5f9=_0xc48236;let _0x552cb6=await this[_0x23f5f9(0x166)]({'request':_0x392b7f,'schema':Da,'ClassRef':Et,'execute':(_0x27d45d,_0x250ae3)=>B[_0x23f5f9(0x4f3)](_0x27d45d,_0x250ae3)});return _0x9e01e9['status'](0xc9)[_0x23f5f9(0x1a9)](_0x552cb6);});}},mi=require(a0_0x20fba6(0x37a)),Tt=class{},Ot=class extends V{constructor(..._0x16269d){const _0x3ec2ea=a0_0x20fba6;super(),this['router']=(0x0,mi[_0x3ec2ea(0x14f)])(),this[_0x3ec2ea(0x148)][_0x3ec2ea(0x25b)](this['routerPath']('set'),..._0x16269d,async(_0x47b935,_0x440dcc)=>{const _0x55717d=_0x3ec2ea;let _0x48effd=await this[_0x55717d(0x166)]({'request':_0x47b935,'schema':ui,'ClassRef':Tt,'execute':(_0x1667c7,_0x224d76)=>$s[_0x55717d(0x2ef)](_0x1667c7,_0x224d76)});_0x440dcc[_0x55717d(0x59e)](0xc9)['json'](_0x48effd);})[_0x3ec2ea(0x6b2)](this[_0x3ec2ea(0x764)](_0x3ec2ea(0x568)),..._0x16269d,async(_0x12fe33,_0x146519)=>{const _0x3417b7=_0x3ec2ea;let _0x4d4ede=await this[_0x3417b7(0x166)]({'request':_0x12fe33,'schema':v,'ClassRef':M,'execute':_0x4bfe76=>$s[_0x3417b7(0x6bb)](_0x4bfe76)});_0x146519['status'](0xc8)[_0x3417b7(0x1a9)](_0x4d4ede);});}},fi=require(a0_0x20fba6(0x37a)),y=new $('FlowRouter'),_t=class extends V{constructor(..._0x3b933e){const _0x3d1df4=a0_0x20fba6;super(),this[_0x3d1df4(0x148)]=(0x0,fi[_0x3d1df4(0x14f)])(),this[_0x3d1df4(0x148)][_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)](_0x3d1df4(0x1c5)),..._0x3b933e,async(_0x5be049,_0x466d9)=>{const _0x4529f6=_0x3d1df4;let _0x221a23=_0x5be049['body'];y[_0x4529f6(0x76b)](_0x4529f6(0x694)),y[_0x4529f6(0x76b)]('request\x20body:\x20'),y[_0x4529f6(0x76b)](_0x5be049[_0x4529f6(0x739)]);let _0x4c2adc=await this[_0x4529f6(0x166)]({'request':_0x5be049,'schema':v,'ClassRef':M,'execute':_0xdc1f16=>O[_0x4529f6(0x592)](_0xdc1f16,_0x221a23)});_0x466d9['status'](0xc8)[_0x4529f6(0x1a9)](_0x4c2adc);})[_0x3d1df4(0x6b2)](this['routerPath'](_0x3d1df4(0x1c5)),..._0x3b933e,async(_0x560980,_0x2ae9e2)=>{const _0x48d337=_0x3d1df4;let _0x543726=await this[_0x48d337(0x166)]({'request':_0x560980,'schema':v,'ClassRef':M,'execute':_0x479c2f=>O['getScheduleMessage'](_0x479c2f)});_0x2ae9e2[_0x48d337(0x59e)](0xc8)['json'](_0x543726);})[_0x3d1df4(0x665)](this[_0x3d1df4(0x764)](_0x3d1df4(0x387)),..._0x3b933e,async(_0x10b49f,_0x2781d5)=>{const _0x45c3fa=_0x3d1df4;y['verbose'](_0x45c3fa(0x312));let _0x1d32a9=await this[_0x45c3fa(0x166)]({'request':_0x10b49f,'schema':v,'ClassRef':M,'execute':_0x1c34b1=>O[_0x45c3fa(0x387)](_0x1c34b1)});_0x2781d5[_0x45c3fa(0x59e)](0xc8)['json'](_0x1d32a9);})[_0x3d1df4(0x25b)](this['routerPath']('startFlow'),..._0x3b933e,async(_0x5e25d8,_0x2ce5ff)=>{const _0xd8a728=_0x3d1df4;let _0x144e28=_0x5e25d8[_0xd8a728(0x739)];y[_0xd8a728(0x76b)](_0xd8a728(0x580)),y[_0xd8a728(0x76b)]('request\x20body:\x20'),y['verbose'](_0x5e25d8[_0xd8a728(0x739)]);let _0xef920e=await this['dataValidate']({'request':_0x5e25d8,'schema':v,'ClassRef':M,'execute':_0x250b1c=>O[_0xd8a728(0x522)](_0x250b1c,_0x144e28)});_0x2ce5ff[_0xd8a728(0x59e)](0xc8)['json'](_0xef920e);})[_0x3d1df4(0x6b2)](this[_0x3d1df4(0x764)]('getAutomateSystem'),..._0x3b933e,async(_0x1facc5,_0x4df26e)=>{const _0x10e043=_0x3d1df4;y[_0x10e043(0x76b)](_0x10e043(0x3ed));let _0x4493d3=await this[_0x10e043(0x166)]({'request':_0x1facc5,'schema':v,'ClassRef':M,'execute':_0x5d3323=>O[_0x10e043(0x77e)](_0x5d3323)});_0x4df26e[_0x10e043(0x59e)](0xc8)[_0x10e043(0x1a9)](_0x4493d3);})[_0x3d1df4(0x6b2)](this[_0x3d1df4(0x764)](_0x3d1df4(0x2f6)),..._0x3b933e,async(_0x2fe4f7,_0x11d59e)=>{const _0x35f04c=_0x3d1df4;y[_0x35f04c(0x76b)](_0x35f04c(0x606));let _0x1ea577=await this[_0x35f04c(0x166)]({'request':_0x2fe4f7,'schema':v,'ClassRef':M,'execute':_0x5e49dc=>O[_0x35f04c(0x77e)](_0x5e49dc)});_0x11d59e[_0x35f04c(0x59e)](0xc8)['json'](_0x1ea577);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)]('updateAgent'),..._0x3b933e,async(_0x502112,_0x58b8b2)=>{const _0x38dc7a=_0x3d1df4;let _0x106d00=_0x502112[_0x38dc7a(0x739)];y[_0x38dc7a(0x76b)](_0x38dc7a(0x7b9)),y[_0x38dc7a(0x76b)](_0x38dc7a(0x638)),y[_0x38dc7a(0x76b)](_0x502112['body']);let _0x187fd2=await this[_0x38dc7a(0x166)]({'request':_0x502112,'schema':v,'ClassRef':M,'execute':_0x1e9cab=>O[_0x38dc7a(0x1bc)](_0x1e9cab,_0x106d00)});_0x58b8b2['status'](0xc8)[_0x38dc7a(0x1a9)](_0x187fd2);})['post'](this[_0x3d1df4(0x764)](_0x3d1df4(0x4a9)),..._0x3b933e,async(_0x4d9c46,_0x3c05a5)=>{const _0xd5ab7a=_0x3d1df4;let _0x3fa033=_0x4d9c46['body'];y[_0xd5ab7a(0x76b)](_0xd5ab7a(0x199)),y[_0xd5ab7a(0x76b)](_0xd5ab7a(0x638)),y[_0xd5ab7a(0x76b)](_0x4d9c46['body']);let _0x1362e1=await this[_0xd5ab7a(0x166)]({'request':_0x4d9c46,'schema':v,'ClassRef':M,'execute':_0x3298ac=>O[_0xd5ab7a(0x4a9)](_0x3298ac,_0x3fa033)});_0x3c05a5[_0xd5ab7a(0x59e)](0xc8)[_0xd5ab7a(0x1a9)](_0x1362e1);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)](_0x3d1df4(0x847)),..._0x3b933e,async(_0xd794bb,_0x362fbb)=>{const _0xf8997c=_0x3d1df4;let _0x4062a0=_0xd794bb[_0xf8997c(0x739)];y[_0xf8997c(0x76b)](_0xf8997c(0x80a)),y[_0xf8997c(0x76b)](_0xf8997c(0x638)),y[_0xf8997c(0x76b)](_0xd794bb['body']);let _0x9147c5=await this[_0xf8997c(0x166)]({'request':_0xd794bb,'schema':v,'ClassRef':M,'execute':_0x43f2cc=>O['updateAutoCompleteMessages'](_0x43f2cc,_0x4062a0)});_0x362fbb['status'](0xc8)[_0xf8997c(0x1a9)](_0x9147c5);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)](_0x3d1df4(0x814)),..._0x3b933e,async(_0x101e35,_0x4a8f53)=>{const _0x2ff8b3=_0x3d1df4;let _0x49e137=_0x101e35[_0x2ff8b3(0x739)];y[_0x2ff8b3(0x76b)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x2ff8b3(0x76b)]('request\x20body:\x20'),y[_0x2ff8b3(0x76b)](_0x101e35['body']);let _0x48bce4=await this[_0x2ff8b3(0x166)]({'request':_0x101e35,'schema':v,'ClassRef':M,'execute':_0x4da02d=>O['updateFlowConfig'](_0x4da02d,_0x49e137)});_0x4a8f53[_0x2ff8b3(0x59e)](0xc8)[_0x2ff8b3(0x1a9)](_0x48bce4);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)](_0x3d1df4(0x5d4)),..._0x3b933e,async(_0x3e8de1,_0x313810)=>{const _0x26ba28=_0x3d1df4;let _0x47bcec=_0x3e8de1[_0x26ba28(0x739)];y[_0x26ba28(0x76b)](_0x26ba28(0x5bb)),y[_0x26ba28(0x76b)](_0x26ba28(0x638)),y[_0x26ba28(0x76b)](_0x3e8de1[_0x26ba28(0x739)]);let _0x2bb3b6=await this['dataValidate']({'request':_0x3e8de1,'schema':v,'ClassRef':M,'execute':_0x234a9d=>O[_0x26ba28(0x5d4)](_0x234a9d,_0x47bcec)});_0x313810[_0x26ba28(0x59e)](0xc8)[_0x26ba28(0x1a9)](_0x2bb3b6);})[_0x3d1df4(0x25b)](this['routerPath']('fetchConversation'),..._0x3b933e,async(_0x19c64f,_0x4c1b5a)=>{const _0x16684e=_0x3d1df4;let _0x542481=_0x19c64f[_0x16684e(0x739)];y[_0x16684e(0x76b)](_0x16684e(0x5c3)),y[_0x16684e(0x76b)](_0x16684e(0x638)),y[_0x16684e(0x76b)](_0x19c64f['body']);let _0x4cacce=await this[_0x16684e(0x166)]({'request':_0x19c64f,'schema':v,'ClassRef':M,'execute':_0x14b4b5=>O[_0x16684e(0x616)](_0x14b4b5,_0x542481)});_0x4c1b5a[_0x16684e(0x59e)](0xc8)[_0x16684e(0x1a9)](_0x4cacce);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)](_0x3d1df4(0x7a1)),..._0x3b933e,async(_0x42941f,_0x4740f8)=>{const _0x172731=_0x3d1df4;let _0x484ff5=_0x42941f[_0x172731(0x739)];y[_0x172731(0x76b)]('request\x20received\x20in\x20editConversation'),y['verbose'](_0x172731(0x638)),y[_0x172731(0x76b)](_0x42941f[_0x172731(0x739)]);let _0x33b622=await this[_0x172731(0x166)]({'request':_0x42941f,'schema':v,'ClassRef':M,'execute':_0x291e09=>O['editConversation'](_0x291e09,_0x484ff5)});_0x4740f8[_0x172731(0x59e)](0xc8)[_0x172731(0x1a9)](_0x33b622);})['delete'](this[_0x3d1df4(0x764)]('deleteConversation'),..._0x3b933e,async(_0x44bfbf,_0x4272b3)=>{const _0x25c283=_0x3d1df4;let _0x544e6b=_0x44bfbf[_0x25c283(0x739)];y['verbose']('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x25c283(0x638)),y[_0x25c283(0x76b)](_0x44bfbf['body']);let _0x5703fe=await this[_0x25c283(0x166)]({'request':_0x44bfbf,'schema':v,'ClassRef':M,'execute':_0x56038a=>O[_0x25c283(0x585)](_0x56038a,_0x544e6b)});_0x4272b3['status'](0xc8)['json'](_0x5703fe);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)](_0x3d1df4(0x32d)),..._0x3b933e,async(_0x39db6f,_0x170f81)=>{const _0x4fe6d3=_0x3d1df4;let _0x8214ec=_0x39db6f[_0x4fe6d3(0x739)],_0x5735c1=_0x39db6f[_0x4fe6d3(0x499)][_0x4fe6d3(0x81c)];y[_0x4fe6d3(0x76b)]('request\x20received\x20in\x20createFlow'),y[_0x4fe6d3(0x76b)]('request\x20body:\x20'),y[_0x4fe6d3(0x76b)](_0x39db6f[_0x4fe6d3(0x739)]);let _0x2c7c32=await this[_0x4fe6d3(0x166)]({'request':_0x39db6f,'schema':v,'ClassRef':M,'execute':_0x24ea35=>O['createFlow'](_0x24ea35,_0x8214ec,_0x5735c1)});_0x170f81[_0x4fe6d3(0x59e)](0xc8)['json'](_0x2c7c32);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)](_0x3d1df4(0x31b)),..._0x3b933e,async(_0x24dc9d,_0x2f2070)=>{const _0x4ce674=_0x3d1df4;let _0x5f43aa=_0x24dc9d[_0x4ce674(0x739)],_0x12523f=_0x24dc9d[_0x4ce674(0x499)]['apikey'];y[_0x4ce674(0x76b)](_0x4ce674(0x343)),y[_0x4ce674(0x76b)](_0x4ce674(0x638)),y['verbose'](_0x24dc9d[_0x4ce674(0x739)]),delete _0x5f43aa['blocks'],delete _0x5f43aa['variables'],delete _0x5f43aa[_0x4ce674(0x74c)],delete _0x5f43aa[_0x4ce674(0x7df)];let _0x36b0ef=await this[_0x4ce674(0x166)]({'request':_0x24dc9d,'schema':v,'ClassRef':M,'execute':_0x1a0886=>O[_0x4ce674(0x78f)](_0x1a0886,_0x5f43aa,_0x12523f)});_0x2f2070[_0x4ce674(0x59e)](0xc8)['json'](_0x36b0ef);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)](_0x3d1df4(0x660)),..._0x3b933e,async(_0x5d3817,_0x99ca56)=>{const _0x22257d=_0x3d1df4;let _0x46ac3d=_0x5d3817[_0x22257d(0x739)];y['verbose'](_0x22257d(0x343)),y[_0x22257d(0x76b)](_0x22257d(0x638)),y[_0x22257d(0x76b)](_0x5d3817[_0x22257d(0x739)]);let _0x3da596=await this[_0x22257d(0x166)]({'request':_0x5d3817,'schema':v,'ClassRef':M,'execute':_0x4a1aa4=>O[_0x22257d(0x6ae)](_0x4a1aa4,_0x46ac3d)});_0x99ca56[_0x22257d(0x59e)](0xc8)[_0x22257d(0x1a9)](_0x3da596);})[_0x3d1df4(0x25b)](this[_0x3d1df4(0x764)]('editflowreply'),..._0x3b933e,async(_0x1d9e21,_0xdd3576)=>{const _0x56ec4a=_0x3d1df4;let _0x52e4fa=_0x1d9e21[_0x56ec4a(0x739)];y[_0x56ec4a(0x76b)](_0x56ec4a(0x343)),y['verbose']('request\x20body:\x20'),y[_0x56ec4a(0x76b)](_0x1d9e21[_0x56ec4a(0x739)]);let _0x25a857=await this[_0x56ec4a(0x166)]({'request':_0x1d9e21,'schema':v,'ClassRef':M,'execute':_0x23da47=>O[_0x56ec4a(0x31a)](_0x23da47,_0x52e4fa)});_0xdd3576['status'](0xc8)[_0x56ec4a(0x1a9)](_0x25a857);})[_0x3d1df4(0x25b)](this['routerPath'](_0x3d1df4(0x76c)),..._0x3b933e,async(_0x233249,_0x311eeb)=>{const _0x270d06=_0x3d1df4;let _0x464736=_0x233249['body'];y[_0x270d06(0x76b)](_0x270d06(0x343)),y[_0x270d06(0x76b)]('request\x20body:\x20'),y[_0x270d06(0x76b)](_0x233249['body']);let _0x5b6cf8=await this['dataValidate']({'request':_0x233249,'schema':v,'ClassRef':M,'execute':_0x5ec326=>O[_0x270d06(0x518)](_0x5ec326,_0x464736)});_0x311eeb['status'](0xc8)[_0x270d06(0x1a9)](_0x5b6cf8);})['post'](this[_0x3d1df4(0x764)](_0x3d1df4(0x471)),..._0x3b933e,async(_0x51b064,_0x21a4c5)=>{const _0x155d40=_0x3d1df4;let _0x5bbe5a=_0x51b064['body'];y['verbose'](_0x155d40(0x24a)),y[_0x155d40(0x76b)](_0x155d40(0x638)),y[_0x155d40(0x76b)](_0x51b064[_0x155d40(0x739)]);let _0x4a1614=await this['dataValidate']({'request':_0x51b064,'schema':v,'ClassRef':M,'execute':_0x1d8744=>O[_0x155d40(0x76d)](_0x1d8744,_0x5bbe5a)});_0x21a4c5['status'](0xc8)[_0x155d40(0x1a9)](_0x4a1614);})[_0x3d1df4(0x25b)](this['routerPath']('editflowcondition'),..._0x3b933e,async(_0x30e3a4,_0x390e51)=>{const _0x2ef072=_0x3d1df4;let _0x4e95f4=_0x30e3a4[_0x2ef072(0x739)];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y[_0x2ef072(0x76b)](_0x2ef072(0x638)),y[_0x2ef072(0x76b)](_0x30e3a4[_0x2ef072(0x739)]);let _0xcb5ae8=await this[_0x2ef072(0x166)]({'request':_0x30e3a4,'schema':v,'ClassRef':M,'execute':_0x3c57e7=>O[_0x2ef072(0x613)](_0x3c57e7,_0x4e95f4)});_0x390e51[_0x2ef072(0x59e)](0xc8)[_0x2ef072(0x1a9)](_0xcb5ae8);})['post'](this[_0x3d1df4(0x764)](_0x3d1df4(0x7db)),..._0x3b933e,async(_0x576370,_0x51baa6)=>{const _0x3b3206=_0x3d1df4;let _0x490e64=_0x576370[_0x3b3206(0x739)];y['verbose'](_0x3b3206(0x51c)),y[_0x3b3206(0x76b)](_0x3b3206(0x638)),y[_0x3b3206(0x76b)](_0x576370[_0x3b3206(0x739)]);let _0x33c8be=await this[_0x3b3206(0x166)]({'request':_0x576370,'schema':v,'ClassRef':M,'execute':_0x4e0aaf=>O[_0x3b3206(0x294)](_0x4e0aaf,_0x490e64)});_0x51baa6['status'](0xc8)[_0x3b3206(0x1a9)](_0x33c8be);})[_0x3d1df4(0x25b)](this['routerPath'](_0x3d1df4(0x117)),..._0x3b933e,async(_0x107898,_0x2c4091)=>{const _0x2a34c9=_0x3d1df4;let _0x34596a=_0x107898[_0x2a34c9(0x739)];y['verbose'](_0x2a34c9(0x3a1)),y[_0x2a34c9(0x76b)]('request\x20body:\x20'),y[_0x2a34c9(0x76b)](_0x107898[_0x2a34c9(0x739)]);let _0x111a2e=await this[_0x2a34c9(0x166)]({'request':_0x107898,'schema':v,'ClassRef':M,'execute':_0x479e53=>O[_0x2a34c9(0x31e)](_0x479e53,_0x34596a)});_0x2c4091[_0x2a34c9(0x59e)](0xc8)['json'](_0x111a2e);})[_0x3d1df4(0x665)](this[_0x3d1df4(0x764)]('deleteflow'),..._0x3b933e,async(_0x1c8aef,_0x2523c2)=>{const _0x3739a8=_0x3d1df4;let _0x2fb49d=_0x1c8aef[_0x3739a8(0x739)];y['verbose']('request\x20received\x20in\x20deleteFlow'),y[_0x3739a8(0x76b)](_0x3739a8(0x638)),y['verbose'](_0x1c8aef[_0x3739a8(0x739)]);let _0x303355=await this['dataValidate']({'request':_0x1c8aef,'schema':v,'ClassRef':M,'execute':_0xdd95d2=>O[_0x3739a8(0x20a)](_0xdd95d2,_0x2fb49d)});_0x2523c2[_0x3739a8(0x59e)](0xc8)[_0x3739a8(0x1a9)](_0x303355);})[_0x3d1df4(0x6b2)](this[_0x3d1df4(0x764)](_0x3d1df4(0x1c1)),..._0x3b933e,async(_0x54ff59,_0x4a02f0)=>{const _0x19fa0e=_0x3d1df4;y['verbose'](_0x19fa0e(0x464));let _0x37d948=await this['dataValidate']({'request':_0x54ff59,'schema':v,'ClassRef':M,'execute':_0x7da4a2=>O[_0x19fa0e(0x1ee)](_0x7da4a2)});_0x4a02f0[_0x19fa0e(0x59e)](0xc8)[_0x19fa0e(0x1a9)](_0x37d948);});}},Si=A(require(a0_0x20fba6(0x4e9))),se={};function wi(_0x145d55,_0x2979f2,_0x260c63,_0x40e692){se[_0x145d55]||(se[_0x145d55]={}),se[_0x145d55][_0x2979f2]={'id':_0x2979f2,'response':_0x260c63,'events':_0x40e692};}function yi(_0x5e9666,_0x2a3dac){!se[_0x5e9666]||!se[_0x5e9666][_0x2a3dac]||delete se[_0x5e9666][_0x2a3dac];}function a0_0x2eae(_0x57af91,_0x3820fc){const _0x14fb7a=a0_0x14fb();return a0_0x2eae=function(_0x2eae43,_0x256e78){_0x2eae43=_0x2eae43-0x105;let _0xefafab=_0x14fb7a[_0x2eae43];return _0xefafab;},a0_0x2eae(_0x57af91,_0x3820fc);}function J(_0x113319,_0x14a969,_0x51f6ee){const _0x5a2807=a0_0x20fba6;if(!se[_0x113319])return;let _0x4e5cbf=_0x5a2807(0x235)+JSON[_0x5a2807(0x27a)](_0x51f6ee)+'\x0a\x0a';Object['values'](se[_0x113319])[_0x5a2807(0x871)](_0x1b87b5=>{const _0x2105ea=_0x5a2807;_0x1b87b5[_0x2105ea(0x36f)]['includes'](_0x14a969)&&_0x1b87b5[_0x2105ea(0x1eb)][_0x2105ea(0x4bf)](_0x4e5cbf);});}function bi(){const _0x139bbb=a0_0x20fba6;let _0x189c4b={};for(let _0x7f3083 in se)_0x189c4b[_0x7f3083]=Object[_0x139bbb(0x1cf)](se[_0x7f3083])[_0x139bbb(0x5a9)](_0x43748a=>({'id':_0x43748a['id'],'events':_0x43748a[_0x139bbb(0x36f)]}));return _0x189c4b;}var Mi=require('uuid'),As=require(a0_0x20fba6(0x5a0)),Rs=class{},Ro=new As[(a0_0x20fba6(0x20e))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ao=new As['Schema']({'_id':{'type':String,'default':a0_0x20fba6(0x5c9)},'WebhookGlobal':{'type':Ro},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=R?.[a0_0x20fba6(0x446)](Rs[a0_0x20fba6(0x217)],Ao,'All_Instances_Config'),Io=Si[a0_0x20fba6(0x269)][a0_0x20fba6(0x7ae)](__dirname,a0_0x20fba6(0x6a4)),ke=(0x0,xt[a0_0x20fba6(0x14f)])(),To=S[a0_0x20fba6(0x6b2)]('AUTHENTICATION')['TYPE'],re=[$a,Ra,Ta[To]];ke['use']('/media',xt['default'][a0_0x20fba6(0x39e)](Io))[a0_0x20fba6(0x6b2)](a0_0x20fba6(0x4b8),async(_0x3c2ca5,_0x30902a)=>{const _0x55359c=a0_0x20fba6;console[_0x55359c(0x324)]('bateu\x20events');let _0x3ceb77=_0x3c2ca5['params'][_0x55359c(0x479)],_0x495d8c=(_0x3c2ca5['query']['events']||'')[_0x55359c(0x2fc)](','),_0x474134=(0x0,Mi['v4'])();console['log'](_0x55359c(0x408),_0x3ceb77),console[_0x55359c(0x324)](_0x55359c(0x3cf),_0x495d8c);let _0x59f3ef=S[_0x55359c(0x6b2)](_0x55359c(0x4df))[_0x55359c(0x425)],_0x32ccc5=_0x3c2ca5[_0x55359c(0x1e2)]['apikey'];if(console[_0x55359c(0x324)](_0x55359c(0x263),_0x32ccc5),_0x59f3ef[_0x55359c(0x13b)]!==_0x32ccc5){console[_0x55359c(0x324)](_0x55359c(0x72e));try{let _0xf6484e=await me['auth'][_0x55359c(0x568)](_0x3ceb77);if(console[_0x55359c(0x324)](_0x55359c(0x2b6),_0xf6484e),!_0xf6484e||_0xf6484e['apikey']!==_0x32ccc5)return console[_0x55359c(0x324)](_0x55359c(0x4a7)),_0x30902a['status'](0x191)[_0x55359c(0x32e)](_0x55359c(0x607));}catch(_0x41f5f0){return console[_0x55359c(0x3b7)](_0x55359c(0x561),_0x41f5f0),_0x30902a[_0x55359c(0x59e)](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Oe(_0x3ceb77))return _0x30902a[_0x55359c(0x59e)](0x194)[_0x55359c(0x32e)]('Instância\x20não\x20encontrada.');_0x30902a['setHeader']('Content-Type',_0x55359c(0x6c4)),_0x30902a[_0x55359c(0x71a)](_0x55359c(0x389),_0x55359c(0x4b3)),_0x30902a[_0x55359c(0x71a)]('Connection',_0x55359c(0x124)),_0x30902a[_0x55359c(0x64f)]();let _0x28e7fa=_0x55359c(0x235)+JSON[_0x55359c(0x27a)]({'info':_0x55359c(0x827)})+'\x0a\x0a';_0x30902a[_0x55359c(0x4bf)](_0x28e7fa),wi(_0x3ceb77,_0x474134,_0x30902a,_0x495d8c),_0x3c2ca5['on'](_0x55359c(0x603),()=>{const _0x406b9b=_0x55359c;console[_0x406b9b(0x324)]('Connection\x20closed\x20for\x20instance:\x20'+_0x3ceb77),yi(_0x3ceb77,_0x474134);});}),ke[a0_0x20fba6(0x25b)](a0_0x20fba6(0x7fc),async(_0x1ed117,_0x56dff8)=>{const _0xc6cda2=a0_0x20fba6;console[_0xc6cda2(0x324)](_0xc6cda2(0x3e6));let _0xd2cfa9=_0x1ed117[_0xc6cda2(0x705)][_0xc6cda2(0x479)],_0x572cc1=_0x1ed117[_0xc6cda2(0x705)][_0xc6cda2(0x241)],_0x27d8c2=_0x1ed117[_0xc6cda2(0x1e2)][_0xc6cda2(0x5bc)]||'',_0x98f486=_0x1ed117[_0xc6cda2(0x739)];console[_0xc6cda2(0x324)](_0xc6cda2(0x837),_0xd2cfa9),console[_0xc6cda2(0x324)]('StartID:',_0x572cc1),console[_0xc6cda2(0x324)](_0xc6cda2(0x347),_0x27d8c2),console[_0xc6cda2(0x324)](_0xc6cda2(0x6c6),_0x98f486);try{if(!await Oe(_0xd2cfa9))return _0x56dff8[_0xc6cda2(0x59e)](0x194)['send'](_0xc6cda2(0x6cd));let _0x577702=await O['startFlowWebhook'](_0xd2cfa9,_0x572cc1,_0x27d8c2,_0x98f486);_0x56dff8[_0xc6cda2(0x32e)](_0x577702);}catch(_0x135239){console[_0xc6cda2(0x3b7)](_0x135239),_0x56dff8[_0xc6cda2(0x59e)](0x1f4)[_0xc6cda2(0x32e)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke[a0_0x20fba6(0x6b2)](a0_0x20fba6(0x769),(_0x5cfe19,_0x1d0e86)=>{const _0x22a644=a0_0x20fba6;let _0xc5717c=bi();_0x1d0e86[_0x22a644(0x1a9)](_0xc5717c);})[a0_0x20fba6(0x6b2)]('/',(_0x2b6d47,_0x2bd6bb)=>{const _0x114c43=a0_0x20fba6;let _0x5ad2f1=S[_0x114c43(0x6b2)](_0x114c43(0x806))[_0x114c43(0x6e6)];if(_0x5ad2f1){let _0x53f16e=encodeURIComponent(''+_0x5ad2f1);_0x2bd6bb['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x53f16e);return;}let _0x5f4c90=S[_0x114c43(0x6b2)](_0x114c43(0x170)),_0x3fcaeb=_0x5f4c90&&_0x5f4c90[_0x114c43(0x41d)][_0x114c43(0x2fc)]('/')[0x4];if(_0x3fcaeb){let _0x474e0a=encodeURIComponent(_0x114c43(0x262)+_0x3fcaeb);_0x2bd6bb[_0x114c43(0x649)](_0x114c43(0x335)+_0x474e0a);}else _0x2bd6bb[_0x114c43(0x649)](_0x114c43(0x432));})['put'](a0_0x20fba6(0x169),...re,async(_0x30b9db,_0x527b84)=>{const _0x2af576=a0_0x20fba6;try{console[_0x2af576(0x324)](_0x2af576(0x22f)),_0x527b84['status'](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x527b84['on'](_0x2af576(0x758),()=>process[_0x2af576(0x809)](0x0));}catch(_0x4c6a81){console[_0x2af576(0x3b7)](_0x2af576(0x662),_0x4c6a81),_0x527b84[_0x2af576(0x59e)](0x1f4)[_0x2af576(0x1a9)]({'message':_0x2af576(0x4e4)});}})[a0_0x20fba6(0x63e)](a0_0x20fba6(0x645),...re,async(_0x23a70b,_0x30877b)=>{const _0x272e80=a0_0x20fba6;try{let _0x122ffc=_0x23a70b[_0x272e80(0x739)];await Ee['updateOne']({},{'$set':_0x122ffc},{'upsert':!0x0});let _0x5d9fcb=await Ee[_0x272e80(0x79e)]();_0x30877b[_0x272e80(0x1a9)](_0x5d9fcb);}catch(_0x24ea4c){_0x30877b[_0x272e80(0x59e)](0x190)[_0x272e80(0x32e)](_0x24ea4c[_0x272e80(0x34b)]);}})['get'](a0_0x20fba6(0x645),...re,async(_0x427ca4,_0x1c627a)=>{const _0x58a21f=a0_0x20fba6;try{let _0x17232f=await Ee[_0x58a21f(0x79e)]();if(!_0x17232f)return _0x1c627a[_0x58a21f(0x1a9)]({});_0x1c627a['json'](_0x17232f);}catch(_0xcb9b1d){_0x1c627a[_0x58a21f(0x59e)](0x1f4)[_0x58a21f(0x32e)](_0xcb9b1d['message']);}})[a0_0x20fba6(0x145)](a0_0x20fba6(0x332),new yt(S,...re)[a0_0x20fba6(0x148)])['use']('/message',new It(...re)[a0_0x20fba6(0x148)])[a0_0x20fba6(0x145)]('/chat',new ct(...re)['router'])[a0_0x20fba6(0x145)]('/group',new wt(...re)[a0_0x20fba6(0x148)])[a0_0x20fba6(0x145)](a0_0x20fba6(0x652),new Ot(...re)[a0_0x20fba6(0x148)])[a0_0x20fba6(0x145)](a0_0x20fba6(0x3ec),new _t(...re)[a0_0x20fba6(0x148)]);var m=class{constructor(..._0x132171){const _0x65a9cb=a0_0x20fba6;throw{'status':0x190,'error':_0x65a9cb(0x352),'message':_0x132171['length']>0x0?_0x132171:void 0x0};}},oe=class{constructor(..._0x4320b2){const _0xf7cc0=a0_0x20fba6;throw{'status':0x191,'error':_0xf7cc0(0x2a6),'message':_0x4320b2['length']>0x0?_0x4320b2:void 0x0};}},Z=class{constructor(..._0x42a5aa){const _0x233553=a0_0x20fba6;throw{'status':0x193,'error':_0x233553(0x7f1),'message':_0x42a5aa['length']>0x0?_0x42a5aa:void 0x0};}},j=class{constructor(..._0x5d18a6){const _0x385945=a0_0x20fba6;throw{'status':0x194,'error':_0x385945(0x5ae),'message':_0x5d18a6[_0x385945(0x21c)]>0x0?_0x5d18a6:void 0x0};}},x=class{constructor(..._0xf6b3e3){const _0x4bd7bb=a0_0x20fba6;throw{'status':0x1f4,'error':_0x4bd7bb(0x5c6),'message':_0xf6b3e3[_0x4bd7bb(0x21c)]>0x0?_0xf6b3e3:void 0x0};}},fe=require(a0_0x20fba6(0x74b));async function Is(_0x2afd6b){const _0x1287f3=a0_0x20fba6;let _0x5113da=new $(Is[_0x1287f3(0x217)]),_0x1545ed=R[_0x1287f3(0x5ff)](),_0x13af7e=_0x1545ed['db'](S[_0x1287f3(0x6b2)](_0x1287f3(0x578))[_0x1287f3(0x6b0)][_0x1287f3(0x426)]+_0x1287f3(0x36c))['collection'](_0x2afd6b),_0x27016c=async(_0x535bd6,_0x9824)=>{const _0xfa5281=_0x1287f3;try{return await _0x1545ed[_0xfa5281(0x596)](),await _0x13af7e[_0xfa5281(0x693)]({'_id':_0x9824},JSON[_0xfa5281(0x321)](JSON[_0xfa5281(0x27a)](_0x535bd6,fe[_0xfa5281(0x5ca)][_0xfa5281(0x26f)])),{'upsert':!0x0});}catch{}},_0x35f3bc=async _0x2abcb3=>{const _0x3d2a12=_0x1287f3;try{await _0x1545ed[_0x3d2a12(0x596)]();let _0x2b3d10=await _0x13af7e['findOne']({'_id':_0x2abcb3}),_0x378054=JSON[_0x3d2a12(0x27a)](_0x2b3d10);return JSON[_0x3d2a12(0x321)](_0x378054,fe[_0x3d2a12(0x5ca)][_0x3d2a12(0x546)]);}catch{}},_0x38cd49=async _0x16eb18=>{const _0x1dab45=_0x1287f3;try{return await _0x1545ed[_0x1dab45(0x596)](),await _0x13af7e[_0x1dab45(0x763)]({'_id':_0x16eb18});}catch{}},_0x583f05=await _0x35f3bc(_0x1287f3(0x6a3))||(0x0,fe[_0x1287f3(0x6a6)])();return{'state':{'creds':_0x583f05,'keys':{'get':async(_0x1c9cb5,_0x1cbe5e)=>{const _0x5df0a2=_0x1287f3;let _0x1ddb35={};return await Promise['all'](_0x1cbe5e[_0x5df0a2(0x5a9)](async _0x12078f=>{const _0x2d620d=_0x5df0a2;let _0x529321=await _0x35f3bc(_0x1c9cb5+'-'+_0x12078f);_0x1c9cb5===_0x2d620d(0x47b)&&_0x529321&&(_0x529321=fe[_0x2d620d(0x82f)][_0x2d620d(0x23e)][_0x2d620d(0x4b9)][_0x2d620d(0x62d)](_0x529321)),_0x1ddb35[_0x12078f]=_0x529321;})),_0x1ddb35;},'set':async _0x385d10=>{const _0x5e286e=_0x1287f3;let _0x30abbf=[];for(let _0x38b5de in _0x385d10)for(let _0x2afba5 in _0x385d10[_0x38b5de]){let _0x9f1308=_0x385d10[_0x38b5de][_0x2afba5],_0xc66d3a=_0x38b5de+'-'+_0x2afba5;_0x30abbf[_0x5e286e(0x2af)](_0x9f1308?_0x27016c(_0x9f1308,_0xc66d3a):_0x38cd49(_0xc66d3a));}await Promise[_0x5e286e(0x1f6)](_0x30abbf);}}},'saveCreds':async()=>_0x27016c(_0x583f05,_0x1287f3(0x6a3))};}var Ds=A(require(a0_0x20fba6(0x6e4))),Ps=A(require(a0_0x20fba6(0x465))),kt=require('@whiskeysockets/baileys'),Ci=require(a0_0x20fba6(0x7d0)),Pt=require(a0_0x20fba6(0x74b)),Dt;function Oo(_0x265081){const _0x36430c=a0_0x20fba6;return Dt||(Dt=(0x0,Ci[_0x36430c(0x4ec)])({'url':_0x265081[_0x36430c(0x209)]}),Dt[_0x36430c(0x596)]()),Dt;}var de=class u{constructor(_0x3334a6,_0x2a96a4){const _0x583314=a0_0x20fba6;this[_0x583314(0x37c)]=_0x3334a6,this[_0x583314(0x1b4)]=_0x2a96a4,this[_0x583314(0x421)]=new $(u[_0x583314(0x217)]),this[_0x583314(0x483)]=Oo(_0x3334a6);}set[a0_0x20fba6(0x76e)](_0x486a5f){const _0x1a47de=a0_0x20fba6;this[_0x1a47de(0x1b4)]=_0x486a5f;}async[a0_0x20fba6(0x33a)](){const _0x57938d=a0_0x20fba6;try{return await this[_0x57938d(0x483)]['sendCommand']([_0x57938d(0x1c7),this['redisEnv']['PREFIX_KEY']+':*']);}catch(_0x3a9437){this[_0x57938d(0x421)]['error'](_0x3a9437);}}async[a0_0x20fba6(0x7ff)](_0x4353f4,_0x4b3cff){const _0x48656b=a0_0x20fba6;try{let _0x4bff61=JSON[_0x48656b(0x27a)](_0x4b3cff,Pt[_0x48656b(0x5ca)][_0x48656b(0x26f)]);return await this[_0x48656b(0x483)][_0x48656b(0x6c8)](this[_0x48656b(0x37c)]['PREFIX_KEY']+':'+this['instanceName'],_0x4353f4,_0x4bff61);}catch(_0x1cda14){this[_0x48656b(0x421)]['error'](_0x1cda14);}}async[a0_0x20fba6(0x4ee)](){const _0x20cd53=a0_0x20fba6;try{let _0x3edcea=await this[_0x20cd53(0x483)]['hGetAll'](this[_0x20cd53(0x37c)][_0x20cd53(0x714)]+':'+this['instanceName']);if(_0x3edcea){for(let _0x56c5c5 in _0x3edcea)Object['prototype'][_0x20cd53(0x362)][_0x20cd53(0x1af)](_0x3edcea,_0x56c5c5)&&(_0x3edcea[_0x56c5c5]=JSON['parse'](_0x3edcea[_0x56c5c5],Pt[_0x20cd53(0x5ca)][_0x20cd53(0x546)]));return _0x3edcea;}}catch(_0x4ef9aa){this[_0x20cd53(0x421)]['error'](_0x4ef9aa);}}async[a0_0x20fba6(0x6cf)](_0x580300){const _0x1ff725=a0_0x20fba6;try{let _0x3dd051=await this[_0x1ff725(0x483)][_0x1ff725(0x328)](this[_0x1ff725(0x37c)]['PREFIX_KEY']+':'+this[_0x1ff725(0x1b4)],_0x580300);if(_0x3dd051)return JSON[_0x1ff725(0x321)](_0x3dd051,Pt[_0x1ff725(0x5ca)][_0x1ff725(0x546)]);}catch(_0x5d17c3){this[_0x1ff725(0x421)]['error'](_0x5d17c3);}}async[a0_0x20fba6(0x5dd)](_0xd61b01){const _0x5055a0=a0_0x20fba6;try{return await this['client'][_0x5055a0(0x5a8)](this['redisEnv'][_0x5055a0(0x714)]+':'+this[_0x5055a0(0x1b4)],_0xd61b01);}catch(_0x4f7a75){this['logger'][_0x5055a0(0x3b7)](_0x4f7a75);}}async[a0_0x20fba6(0x5bd)](_0x22e791){const _0x531a9c=a0_0x20fba6;try{return await this[_0x531a9c(0x483)]['del'](_0x22e791||this[_0x531a9c(0x37c)]['PREFIX_KEY']+':'+this[_0x531a9c(0x1b4)]);}catch(_0x2cf0ef){this['logger'][_0x531a9c(0x3b7)](_0x2cf0ef);}}};async function Ts(_0x2a566f,_0x363720){const _0xb63399=a0_0x20fba6;let _0x4e8915=new $(Ts[_0xb63399(0x217)]),_0x12db69=new de(_0x2a566f,_0x363720),_0x134871=async(_0x223d1d,_0x40b06f)=>{const _0x20bdfc=_0xb63399;try{return await _0x12db69['writeData'](_0x40b06f,_0x223d1d);}catch(_0x3ac8d5){return _0x4e8915[_0x20bdfc(0x3b7)]({'localError':_0x20bdfc(0x7ff),'error':_0x3ac8d5});}},_0x593557=async _0x5a04ca=>{const _0x2f7b75=_0xb63399;try{return await _0x12db69['readData'](_0x5a04ca);}catch(_0x1248f8){_0x4e8915[_0x2f7b75(0x3b7)]({'readData':_0x2f7b75(0x7ff),'error':_0x1248f8});return;}},_0x1a5f4c=async _0x3db2ac=>{const _0x59c224=_0xb63399;try{return await _0x12db69['removeData'](_0x3db2ac);}catch(_0xb5b9a){_0x4e8915[_0x59c224(0x3b7)]({'readData':_0x59c224(0x5dd),'error':_0xb5b9a});}},_0x546454=await _0x593557('creds')||(0x0,kt['initAuthCreds'])();return{'state':{'creds':_0x546454,'keys':{'get':async(_0x32bd87,_0x1f2410)=>{const _0x292da7=_0xb63399;let _0x14e22e={};return await Promise[_0x292da7(0x1f6)](_0x1f2410[_0x292da7(0x5a9)](async _0x42b627=>{const _0x39897b=_0x292da7;let _0x3abdc7=await _0x593557(_0x32bd87+'-'+_0x42b627);_0x32bd87===_0x39897b(0x47b)&&_0x3abdc7&&(_0x3abdc7=kt[_0x39897b(0x82f)][_0x39897b(0x23e)]['AppStateSyncKeyData'][_0x39897b(0x62d)](_0x3abdc7)),_0x14e22e[_0x42b627]=_0x3abdc7;})),_0x14e22e;},'set':async _0xb1c80b=>{const _0x54d058=_0xb63399;let _0x61e32d=[];for(let _0x128f5d in _0xb1c80b)for(let _0x54336c in _0xb1c80b[_0x128f5d]){let _0xa184d6=_0xb1c80b[_0x128f5d][_0x54336c],_0x59e578=_0x128f5d+'-'+_0x54336c;_0x61e32d[_0x54d058(0x2af)](_0xa184d6?await _0x134871(_0xa184d6,_0x59e578):await _0x1a5f4c(_0x59e578));}await Promise['all'](_0x61e32d);}}},'saveCreds':async()=>await _0x134871(_0x546454,_0xb63399(0x6a3))};}var L=A(require('fs')),X=require(a0_0x20fba6(0x208)),jt=A(require('sharp')),Ne=require(a0_0x20fba6(0x684)),Ei=require(a0_0x20fba6(0x5ec)),vi=require('util'),Ni=A(require(a0_0x20fba6(0x751))),ve=class extends _{constructor(_0x4f86a4,_0x423128,_0x11f720){const _0x163560=a0_0x20fba6;super(_0x423128),this[_0x163560(0x61f)]=_0x4f86a4,this['configService']=_0x423128,this[_0x163560(0x3d9)]=_0x11f720;}async['createOrUpdate'](_0x4a7ea3,_0xa00386){const _0x3417dd=a0_0x20fba6;try{if(this[_0x3417dd(0x15c)][_0x3417dd(0x42c)]){console[_0x3417dd(0x324)](_0x3417dd(0x4a5)+_0xa00386+_0x3417dd(0x416),_0x4a7ea3);let _0x368ff7=await this[_0x3417dd(0x61f)][_0x3417dd(0x59c)]({'_id':_0xa00386},{'$set':_0x4a7ea3},{'new':!0x0,'upsert':!0x0});return console['log']('Database\x20update\x20result:',_0x368ff7),_0x368ff7;}}catch(_0x3fd0da){throw console[_0x3417dd(0x3b7)](_0x3417dd(0x651),_0x3fd0da),_0x3fd0da;}return null;}async[a0_0x20fba6(0x763)](_0xaf0f3b){const _0x1866ef=a0_0x20fba6;try{let _0x25c4be=I(_0xaf0f3b[_0x1866ef(0x31c)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x1866ef(0x763)](_0x25c4be))[_0x1866ef(0x16e)]};}catch(_0x1dcb55){return{'error':_0x1dcb55?.[_0x1866ef(0x176)]()};}}async[a0_0x20fba6(0x79e)](_0x377d26){const _0x244653=a0_0x20fba6;try{let _0x52ef2d=I(_0x377d26[_0x244653(0x31c)]);return await this[_0x244653(0x61f)]['findOne'](_0x52ef2d)[_0x244653(0x542)]();}catch{return null;}}},Lt=(0x0,vi[a0_0x20fba6(0x68a)])(Ei['exec']),_o=S[a0_0x20fba6(0x6b2)](a0_0x20fba6(0x363)),Os=class{constructor(){const _0x5d6f1c=a0_0x20fba6;this[_0x5d6f1c(0x476)]=new ve(Be,S),(!this['ipv6Prefix']||!this[_0x5d6f1c(0x443)])&&_o&&this[_0x5d6f1c(0x6cb)]()[_0x5d6f1c(0x107)](()=>{const _0x38f254=_0x5d6f1c;console['log'](_0x38f254(0x64a)+this[_0x38f254(0x329)]),console[_0x38f254(0x324)](_0x38f254(0x795)+this[_0x38f254(0x443)]);})[_0x5d6f1c(0x19b)](_0x4824d2=>{const _0x5adb57=_0x5d6f1c;console[_0x5adb57(0x3b7)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x4824d2[_0x5adb57(0x34b)]);});}async[a0_0x20fba6(0x6cb)](){const _0x28ab4c=a0_0x20fba6;try{let {stdout:_0xf3c3eb}=await Lt('ip\x20-br\x20link\x20show');console[_0x28ab4c(0x324)](_0x28ab4c(0x441)+_0xf3c3eb);let _0x1c6a8c=_0xf3c3eb['split']('\x0a')[_0x28ab4c(0x5a9)](_0x560fdc=>_0x560fdc[_0x28ab4c(0x2fc)]('\x20')[0x0])[_0x28ab4c(0x7a2)](_0x115acc=>!_0x115acc[_0x28ab4c(0x4b0)]('lo')&&!_0x115acc[_0x28ab4c(0x4b0)](_0x28ab4c(0x80c))&&!_0x115acc[_0x28ab4c(0x4b0)](_0x28ab4c(0x7c8))&&!_0x115acc['includes']('wl')&&!_0x115acc[_0x28ab4c(0x4b0)]('@'));if(console[_0x28ab4c(0x324)](_0x28ab4c(0x188)+_0x1c6a8c),_0x1c6a8c[_0x28ab4c(0x21c)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x28ab4c(0x443)]=_0x1c6a8c[0x0];let {stdout:_0xcd4ce}=await Lt(_0x28ab4c(0x5cc)+this[_0x28ab4c(0x443)]);console[_0x28ab4c(0x324)](_0x28ab4c(0x17d)+_0xcd4ce);let _0x2c0e63=_0xcd4ce[_0x28ab4c(0x2fc)]('\x0a')[_0x28ab4c(0x568)](_0x58d523=>_0x58d523[_0x28ab4c(0x4b0)](_0x28ab4c(0x3bf))&&_0x58d523[_0x28ab4c(0x4b0)](_0x28ab4c(0x140)));if(!_0x2c0e63)throw new Error(_0x28ab4c(0x6b4));let _0x4d6796=_0x2c0e63['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x4d6796)throw new Error(_0x28ab4c(0x232));let [_0x109485,_0x13e079,_0xc9abdf]=_0x4d6796,_0x195607=Math['floor'](Number(_0xc9abdf)/0x10),_0x5a8f56=Number(_0xc9abdf)%0x10,_0x3b7d81=_0x13e079[_0x28ab4c(0x2fc)](':')['slice'](0x0,_0x195607)['join'](':');if(_0x5a8f56>0x0){let _0x240789=_0x13e079[_0x28ab4c(0x2fc)](':')[_0x195607],_0x5903b4=0xffff<<0x10-_0x5a8f56&0xffff,_0x1e7da5=(parseInt(_0x240789,0x10)&_0x5903b4)['toString'](0x10)['padStart'](0x4,'0');_0x3b7d81+=':'+_0x1e7da5;}this[_0x28ab4c(0x329)]=_0x3b7d81+':';}catch(_0x56950c){console[_0x28ab4c(0x3b7)](_0x28ab4c(0x761),_0x56950c);}}async['configureIPv6'](_0x5326f4){const _0x30f668=a0_0x20fba6;let _0x510563='ip\x20-6\x20addr\x20add\x20'+_0x5326f4+'/64\x20dev\x20'+this[_0x30f668(0x443)];try{await Lt(_0x510563),console['log'](_0x30f668(0x3a8)+_0x5326f4);}catch(_0xcf9a97){console[_0x30f668(0x3b7)]('Error\x20adding\x20IPv6\x20address:\x20'+_0xcf9a97);}}async[a0_0x20fba6(0x50e)](_0x3a425b){const _0x2bc54f=a0_0x20fba6;let _0x595237=_0x2bc54f(0x50f)+_0x3a425b+_0x2bc54f(0x581)+this[_0x2bc54f(0x443)];try{await Lt(_0x595237),console[_0x2bc54f(0x324)](_0x2bc54f(0x4d6)+_0x3a425b);}catch(_0x3f92bc){console[_0x2bc54f(0x3b7)](_0x2bc54f(0x2ae)+_0x3f92bc);}}[a0_0x20fba6(0x506)](){const _0x3813ec=a0_0x20fba6;return'XX:XX:XX:XX:XX:XX'[_0x3813ec(0x4f4)](/X/g,()=>_0x3813ec(0x240)[_0x3813ec(0x4a6)](Math[_0x3813ec(0x23f)](Math['random']()*0x10)));}['ip6eui'](_0x188975,_0x3ae05c){const _0xad925f=a0_0x20fba6;let _0x431c91=_0x3ae05c[_0xad925f(0x2fc)](':');return _0x431c91[0x0]=(parseInt(_0x431c91[0x0],0x10)^0x2)[_0xad925f(0x176)](0x10)[_0xad925f(0x3f7)](0x2,'0'),''+_0x188975+_0x431c91[0x0]+_0x431c91[0x1]+':'+_0x431c91[0x2]+_0xad925f(0x4ad)+_0x431c91[0x3]+':'+_0x431c91[0x4]+_0x431c91[0x5];}['generateRandomIPv6'](){const _0x2b1b28=a0_0x20fba6;let _0x3b87d5=this[_0x2b1b28(0x329)];_0x3b87d5['endsWith'](':')||(_0x3b87d5+=':');let _0x463514=this[_0x2b1b28(0x506)]();return this[_0x2b1b28(0x428)](_0x3b87d5,_0x463514);}[a0_0x20fba6(0x757)](_0x5ee809){const _0x27010d=a0_0x20fba6;return new RegExp(_0x27010d(0x1c0))[_0x27010d(0x69d)](_0x5ee809);}async[a0_0x20fba6(0x699)](_0x115d85){const _0x548ce5=a0_0x20fba6;let _0x233946=[{'url':'https://ipv6.jsonip.com','parse':_0x52fd05=>_0x52fd05['ip']},{'url':_0x548ce5(0x73a),'parse':_0x4f8112=>_0x4f8112['ip']},{'url':_0x548ce5(0x30a),'parse':_0xfaa4d6=>_0xfaa4d6['trim']()},{'url':'https://v6.ident.me','parse':_0x18b220=>_0x18b220[_0x548ce5(0x5b8)]()}],_0x5851fe=_0x233946[Math[_0x548ce5(0x23f)](Math[_0x548ce5(0x86d)]()*_0x233946['length'])];try{let _0x144863=await Ni[_0x548ce5(0x269)][_0x548ce5(0x6b2)](_0x5851fe[_0x548ce5(0x12a)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x115d85}}),_0x1ce34=_0x5851fe[_0x548ce5(0x321)](_0x144863[_0x548ce5(0x6b6)]);return _0x1ce34['toLowerCase']()===_0x115d85[_0x548ce5(0x500)]()?(console[_0x548ce5(0x324)](_0x548ce5(0x1e0)+_0x115d85),!0x0):(console['error'](_0x548ce5(0x449)+_0x115d85+_0x548ce5(0x325)+_0x1ce34),!0x1);}catch(_0x40d923){return console[_0x548ce5(0x3b7)]('Error\x20testing\x20IP\x20with\x20'+_0x5851fe[_0x548ce5(0x12a)]+':\x20'+_0x40d923[_0x548ce5(0x34b)]),!0x1;}}async[a0_0x20fba6(0x195)](_0x523c6c,_0x405ae8){const _0xc0d17d=a0_0x20fba6;if(!this[_0xc0d17d(0x329)]||!this['networkInterface'])return console[_0xc0d17d(0x3b7)](_0xc0d17d(0x236)),null;let _0x5e1e52;do _0x5e1e52=this[_0xc0d17d(0x5cf)](),console[_0xc0d17d(0x324)](_0xc0d17d(0x6b1)+_0x5e1e52);while(!await this[_0xc0d17d(0x58a)](_0x5e1e52));await this[_0xc0d17d(0x5b2)](_0x5e1e52),console[_0xc0d17d(0x324)]('Configured\x20IPv6:\x20'+_0x5e1e52);let _0x41372a={'_id':_0x523c6c+'-'+_0x405ae8,'ip':_0x5e1e52},_0xcfe36a=await this[_0xc0d17d(0x476)]['createOrUpdate'](_0x41372a,_0x41372a['_id']);return console[_0xc0d17d(0x324)](_0xc0d17d(0x7ac)+_0xcfe36a),_0x5e1e52;}async['isValidAndUniqueIPv6'](_0x2c0ceb){const _0x12cbb4=a0_0x20fba6;return this[_0x12cbb4(0x757)](_0x2c0ceb)?!await this[_0x12cbb4(0x476)][_0x12cbb4(0x79e)]({'where':{'ip':_0x2c0ceb}}):!0x1;}async[a0_0x20fba6(0x231)](_0x259d04,_0x235521){const _0xcb11e5=a0_0x20fba6;let _0x558454=_0x259d04+'-'+_0x235521,_0x39822=await this['cacheInstanceRepository'][_0xcb11e5(0x79e)]({'where':{'_id':_0x558454}});_0x39822&&_0x39822['ip']&&(await this[_0xcb11e5(0x50e)](_0x39822['ip']),await this[_0xcb11e5(0x476)][_0xcb11e5(0x763)]({'where':{'_id':_0x558454}}));}},xo=new Os(),ae=xo,ks=a0_0x20fba6(0x4ac),_i,pe=null,Oa=null,Do=0x3,Po=null,$i=S[a0_0x20fba6(0x6b2)](a0_0x20fba6(0x4df))['API_KEY'][a0_0x20fba6(0x13b)],Ri=S[a0_0x20fba6(0x6b2)](a0_0x20fba6(0x363));async function ko(){const _0x49e18c=a0_0x20fba6;let _0x1dd526=await Ee[_0x49e18c(0x79e)]();pe=_0x1dd526?.[_0x49e18c(0x621)]??null,Po=_0x1dd526?.['DaysToDelete']??null,ks=_0x1dd526?.['connectedClient']??_0x49e18c(0x4ac),_i=_0x1dd526?.[_0x49e18c(0x1be)]??W??_0x49e18c(0x688);}async function Lo(){await ko();}Lo();var Ft={},$e=class u{constructor(_0x3f6b77,_0x58c450,_0x424024){const _0x185d42=a0_0x20fba6;this[_0x185d42(0x4e8)]=_0x3f6b77,this[_0x185d42(0x695)]=_0x58c450,this[_0x185d42(0x1d5)]=_0x424024,this['AutomateSystem']=null,this['logger']=new $(u['name']),this[_0x185d42(0x479)]={},this[_0x185d42(0x410)]={},this[_0x185d42(0x792)]={'state':_0x185d42(0x603)},this[_0x185d42(0x4fc)]=(0x0,U[_0x185d42(0x7ae)])(ne,'downloads'),this[_0x185d42(0x630)]=new Ps[(_0x185d42(0x269))](),this[_0x185d42(0x6a8)]=new Ps[(_0x185d42(0x269))](),this[_0x185d42(0x33b)]=!0x1,this[_0x185d42(0x5ab)]={'status.instance':_0x185d42(0x5d3),'connection.update':_0x185d42(0x5d3),'qrcode.updated':_0x185d42(0x877),'messages.upsert':_0x185d42(0x495),'send.message':_0x185d42(0x495),'messages.update':_0x185d42(0x192),'group.upsert':_0x185d42(0x1d0),'group.update':_0x185d42(0x1d0),'group-participants.update':_0x185d42(0x1d0),'messages.set':_0x185d42(0x530),'contacts.set':'/wa-contacts','contacts.upsert':_0x185d42(0x851),'contacts.update':_0x185d42(0x851),'presence.update':_0x185d42(0x6fd),'chats.set':_0x185d42(0x2e5),'chats.update':_0x185d42(0x2e5),'chats.upsert':_0x185d42(0x2e5),'chats.delete':_0x185d42(0x2e5)},this[_0x185d42(0x121)]=0x0,this[_0x185d42(0x767)]=[],this[_0x185d42(0x306)]=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x40a905,_0x331032)=>{const _0x23020b=_0x185d42;let _0x1fc319=[];for await(let _0x3259ad of _0x40a905)_0x1fc319[_0x23020b(0x2af)]({'_id':_0x3259ad['id'],'owner':this[_0x23020b(0x479)]['wuid'],'group':_0x3259ad['id'][_0x23020b(0x2cb)]('@g.us'),'name':_0x3259ad[_0x23020b(0x217)]||_0x3259ad[_0x23020b(0x1ab)]||null,'contactname':null,'lastmsg':_0x3259ad[_0x23020b(0x272)]&&_0x3259ad[_0x23020b(0x272)]['toString']()[_0x23020b(0x21c)]<0xd?_0x3259ad[_0x23020b(0x272)]*0x3e8:_0x3259ad[_0x23020b(0x272)]||null,'archived':_0x3259ad[_0x23020b(0x6f6)]||!0x1,'unreadcount':_0x3259ad[_0x23020b(0x32b)]||0x0,'ephemeralExpiration':_0x3259ad[_0x23020b(0x2d2)]||0x0});this[_0x23020b(0x849)]('chats.upsert',_0x1fc319);},'chats.update':async(_0x4297d4,_0x7533f6)=>{const _0x340441=_0x185d42;for(let _0x5d097f of _0x4297d4){let _0x3e34a2={'_id':_0x5d097f['id'],'owner':this[_0x340441(0x479)][_0x340441(0x661)],'archived':_0x5d097f[_0x340441(0x6f6)],'muteEndTime':_0x5d097f[_0x340441(0x7dc)],'ephemeralExpiration':_0x5d097f[_0x340441(0x2d2)]},_0x4f3409=!0x1,_0x1a69ab={};_0x3e34a2['archived']!=null&&(this[_0x340441(0x421)]['verbose'](this[_0x340441(0x1b4)]+'\x20('+this[_0x340441(0x479)]['wuid']+_0x340441(0x1b6)+_0x5d097f['id']+_0x340441(0x474)+_0x5d097f[_0x340441(0x6f6)]),_0x4f3409=!0x0,_0x1a69ab[_0x340441(0x6f6)]=_0x5d097f[_0x340441(0x6f6)]),'muteEndTime'in _0x5d097f&&(this[_0x340441(0x421)][_0x340441(0x76b)](this[_0x340441(0x1b4)]+'\x20('+this['instance']['wuid']+_0x340441(0x385)+_0x5d097f['id']+_0x340441(0x474)+(_0x5d097f[_0x340441(0x7dc)]??'0')),_0x4f3409=!0x0,_0x1a69ab['muteEndTime']=_0x5d097f['muteEndTime']??0x0),_0x340441(0x2d2)in _0x5d097f&&(this[_0x340441(0x421)][_0x340441(0x76b)](this['instanceName']+'\x20('+this[_0x340441(0x479)]['wuid']+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x5d097f['id']+_0x340441(0x474)+(_0x5d097f[_0x340441(0x2d2)]!==void 0x0?_0x5d097f[_0x340441(0x2d2)]:_0x340441(0x54b))),_0x1a69ab[_0x340441(0x2d2)]=_0x5d097f[_0x340441(0x2d2)]===null?0x0:_0x5d097f[_0x340441(0x2d2)],_0x4f3409=!0x0);let _0x286459;_0x4f3409&&(_0x286459=await this[_0x340441(0x1d5)][_0x340441(0x4a4)][_0x340441(0x1e8)]({'where':{'_id':_0x5d097f['id']}},_0x1a69ab,this['instance'][_0x340441(0x661)])),_0x286459&&J(this['instanceName'],'chats',{'chat':_0x286459});}},'chats.delete':async _0x3ab84f=>{const _0x2a6dd4=_0x185d42;for(let _0x4dab05 of _0x3ab84f)if(_0x4dab05[_0x2a6dd4(0x2cb)](_0x2a6dd4(0x710))){await this[_0x2a6dd4(0x1d5)][_0x2a6dd4(0x4a4)][_0x2a6dd4(0x665)]({'where':{'_id':_0x4dab05}},this['instance'][_0x2a6dd4(0x661)]);let _0x59fd2d={'where':{'key':{'remoteJid':_0x4dab05}}};await this[_0x2a6dd4(0x1d5)][_0x2a6dd4(0x34b)][_0x2a6dd4(0x665)](_0x59fd2d,this[_0x2a6dd4(0x479)][_0x2a6dd4(0x661)]);}else{await this[_0x2a6dd4(0x1d5)][_0x2a6dd4(0x4a4)]['updateOne']({'where':{'_id':_0x4dab05}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2a6dd4(0x479)][_0x2a6dd4(0x661)]);let _0x3f2ecb={'where':{'key':{'remoteJid':_0x4dab05}}};await this[_0x2a6dd4(0x1d5)][_0x2a6dd4(0x34b)][_0x2a6dd4(0x665)](_0x3f2ecb,this[_0x2a6dd4(0x479)]['wuid']);}this[_0x2a6dd4(0x849)]('chats.delete',[..._0x3ab84f]);}},this['contactHandle']={'contacts.upsert':async(_0xb8063a,_0x3f3ade)=>{const _0x1a9108=_0x185d42;let _0x1038fe=await this['repository']['contact'][_0x1a9108(0x568)]({'where':{}},this[_0x1a9108(0x479)][_0x1a9108(0x661)]),_0x11b185=[];for await(let _0x40a4d1 of _0xb8063a)_0x1038fe[_0x1a9108(0x568)](_0x39e65f=>_0x39e65f[_0x1a9108(0x2a0)]===_0x40a4d1['id'])||_0x11b185['push']({'_id':_0x40a4d1['id'],'pushName':_0x40a4d1?.[_0x1a9108(0x217)]||_0x40a4d1?.[_0x1a9108(0x83b)],'owner':this[_0x1a9108(0x479)][_0x1a9108(0x661)]});this[_0x1a9108(0x849)]('contacts.upsert',_0x11b185),await this[_0x1a9108(0x1d5)][_0x1a9108(0x5d7)][_0x1a9108(0x42f)](_0x11b185);},'contacts.update':async(_0x28cf5e,_0x5d6a31)=>{const _0x1641a7=_0x185d42;let _0x5ad3d4=[];for await(let _0x365ba6 of _0x28cf5e)_0x5ad3d4['push']({'_id':_0x365ba6['id'],'pushName':_0x365ba6?.[_0x1641a7(0x217)]??_0x365ba6?.['verifiedName'],'owner':this[_0x1641a7(0x479)][_0x1641a7(0x661)]});this[_0x1641a7(0x849)](_0x1641a7(0x780),_0x5ad3d4);}},this[_0x185d42(0x309)]={'messaging-history.set':async({messages:_0x10f505,chats:_0x368daa,isLatest:_0x1b3d60},_0x105e9b)=>{const _0xf4228a=_0x185d42;if(_0x1b3d60){let _0x14609a=await Promise['all'](_0x368daa[_0xf4228a(0x5a9)](async _0xb1dcbd=>({'_id':_0xb1dcbd['id'],'owner':this[_0xf4228a(0x479)][_0xf4228a(0x661)],'group':_0xb1dcbd['id'][_0xf4228a(0x2cb)](_0xf4228a(0x710)),'name':_0xb1dcbd[_0xf4228a(0x217)]||_0xb1dcbd[_0xf4228a(0x1ab)]||_0xb1dcbd[_0xf4228a(0x7e3)]||null,'contactname':null,'lastmsg':_0xb1dcbd[_0xf4228a(0x272)]&&_0xb1dcbd[_0xf4228a(0x272)]['toString']()[_0xf4228a(0x21c)]<0xd?_0xb1dcbd[_0xf4228a(0x272)]*0x3e8:_0xb1dcbd[_0xf4228a(0x272)]||null,'archived':_0xb1dcbd[_0xf4228a(0x6f6)]||!0x1,'unreadcount':_0xb1dcbd[_0xf4228a(0x32b)]||0x0,'ephemeralExpiration':_0xb1dcbd['ephemeralExpiration']||0x0,'muteEndTime':_0xb1dcbd[_0xf4228a(0x7dc)]||0x0})));this[_0xf4228a(0x849)](_0xf4228a(0x49d),_0x14609a),await this[_0xf4228a(0x6c1)](_0x14609a,_0x105e9b);}let _0x2fc922=[],_0x225fd3=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x76720c]of Object['entries'](_0x10f505)){if(_0x76720c[_0xf4228a(0x34b)]?.[_0xf4228a(0x870)]||_0x76720c[_0xf4228a(0x34b)]?.[_0xf4228a(0x4bc)]||!_0x76720c[_0xf4228a(0x34b)]||_0x76720c[_0xf4228a(0x249)][_0xf4228a(0x5bc)]==='status@broadcast'||(Ds[_0xf4228a(0x269)]['isLong'](_0x76720c?.[_0xf4228a(0x81b)])&&(_0x76720c[_0xf4228a(0x81b)]=_0x76720c[_0xf4228a(0x81b)]?.[_0xf4228a(0x5e5)]()),_0x76720c[_0xf4228a(0x81b)]&&_0x76720c['messageTimestamp'][_0xf4228a(0x176)]()[_0xf4228a(0x21c)]<0xd&&(_0x76720c[_0xf4228a(0x81b)]=_0x76720c[_0xf4228a(0x81b)]*0x3e8),_0x76720c[_0xf4228a(0x81b)]<_0x225fd3))continue;let _0x3d3827=(0x0,w['normalizeMessageContent'])(_0x76720c[_0xf4228a(0x34b)]),_0x456038=(0x0,w['getContentType'])(_0x3d3827),{message_normalized:_0xeec9d9}=this['normalizeMessage'](_0x3d3827,_0x456038,null);Object['keys'](_0xeec9d9)[_0xf4228a(0x21c)]>0x0&&_0x2fc922[_0xf4228a(0x2af)]({'_id':_0x76720c[_0xf4228a(0x249)]['id'],'key':_0x76720c[_0xf4228a(0x249)],'pushName':_0x76720c[_0xf4228a(0x41b)],'participant':_0x76720c[_0xf4228a(0x300)],'message':_0x3d3827,'messageType':_0x456038,'message_normalized':{'key':_0x76720c[_0xf4228a(0x249)],'pushName':_0x76720c['pushName'],'messageTimestamp':_0x76720c['messageTimestamp'],..._0xeec9d9},'messageTimestamp':_0x76720c['messageTimestamp'],'owner':this['instance'][_0xf4228a(0x661)]});}_0x105e9b[_0xf4228a(0x42c)]&&_0x2fc922[_0xf4228a(0x21c)]>0x0&&(this[_0xf4228a(0x421)][_0xf4228a(0x76b)](this[_0xf4228a(0x1b4)]+'\x20('+this[_0xf4228a(0x479)][_0xf4228a(0x661)]+'):\x20'+_0x2fc922['length']+_0xf4228a(0x876)+this[_0xf4228a(0x479)][_0xf4228a(0x661)]+_0xf4228a(0x6f4)),await this['repository']['message'][_0xf4228a(0x42f)]([..._0x2fc922],this['instance']['wuid'])),this[_0xf4228a(0x849)](_0xf4228a(0x71d),[..._0x2fc922]),_0x10f505=void 0x0;},'messages.upsert':async({messages:_0x43944b,type:_0x59664d},_0xc9fecc)=>{const _0x50b33e=_0x185d42;for(let _0x4b2644 of _0x43944b){if(this['localWebhook']?.[_0x50b33e(0x770)]&&_0x4b2644[_0x50b33e(0x249)]['remoteJid']['includes'](_0x50b33e(0x710))){this[_0x50b33e(0x421)][_0x50b33e(0x76b)](this['instanceName']+'\x20('+this[_0x50b33e(0x479)][_0x50b33e(0x661)]+_0x50b33e(0x6ac));return;}if(_0x59664d!==_0x50b33e(0x11a)||!_0x4b2644?.[_0x50b33e(0x34b)]||_0x4b2644[_0x50b33e(0x34b)]?.[_0x50b33e(0x870)]||_0x4b2644[_0x50b33e(0x34b)][_0x50b33e(0x4bc)]||_0x4b2644['key'][_0x50b33e(0x5bc)]===_0x50b33e(0x394))return;let _0x5bef1b=null,_0x2935ee=null;if(_0x4b2644[_0x50b33e(0x7d2)]&&_0x4b2644['messageStubParameters'][0x0]===_0x50b33e(0x731)){console[_0x50b33e(0x3b7)](_0x50b33e(0x37e)),Ft[_0x4b2644[_0x50b33e(0x249)]['id']]=_0x4b2644,this['retrySendMessage'](_0x4b2644,0x0);return;}Ft[_0x4b2644[_0x50b33e(0x249)]['id']]&&(console[_0x50b33e(0x3b7)](_0x50b33e(0x52c)),delete Ft[_0x4b2644['key']['id']]);try{_0x5bef1b=await this['processPollUpdateMessage'](_0x4b2644),_0x2935ee=_0x5bef1b?_0x5bef1b[_0x50b33e(0x7ae)](','):null;}catch(_0x4b8731){this[_0x50b33e(0x421)][_0x50b33e(0x76b)](this[_0x50b33e(0x1b4)]+'\x20('+this[_0x50b33e(0x479)][_0x50b33e(0x661)]+_0x50b33e(0x54d)+(_0x4b8731 instanceof Error?_0x4b8731[_0x50b33e(0x34b)]:JSON[_0x50b33e(0x27a)](_0x4b8731,null,0x2))),_0x2935ee=_0x50b33e(0x2db);}this['client']['sendPresenceUpdate'](_0x50b33e(0x286)),Ds[_0x50b33e(0x269)]['isLong'](_0x4b2644[_0x50b33e(0x81b)])&&(_0x4b2644['messageTimestamp']=_0x4b2644[_0x50b33e(0x81b)]?.[_0x50b33e(0x5e5)]()),_0x4b2644[_0x50b33e(0x81b)]&&_0x4b2644['messageTimestamp'][_0x50b33e(0x176)]()[_0x50b33e(0x21c)]<0xd&&(_0x4b2644[_0x50b33e(0x81b)]=_0x4b2644[_0x50b33e(0x81b)]*0x3e8);let _0x1912df=_0x4b2644['message'],_0x5a98f7=(0x0,w[_0x50b33e(0x3b3)])(_0x1912df),_0x18b3da=(0x0,w['getContentType'])(_0x5a98f7),{messageContent:_0x3b7208,message_normalized:_0x4dc8bf}=this[_0x50b33e(0x353)](_0x5a98f7,_0x18b3da,_0x2935ee);_0x18b3da==='protocolMessage'&&_0x3b7208?.[_0x50b33e(0x40b)]&&(_0x18b3da=_0x50b33e(0x40b));let _0xc03afb,_0x5ec649=_0x4b2644[_0x50b33e(0x249)][_0x50b33e(0x5bc)][_0x50b33e(0x2cb)](_0x50b33e(0x710));if(_0x4b2644[_0x50b33e(0x249)][_0x50b33e(0x424)])_0xc03afb=this['instance'][_0x50b33e(0x776)];else{let _0x5c24fb=_0x5ec649?_0x4b2644[_0x50b33e(0x249)][_0x50b33e(0x300)]:_0x4b2644[_0x50b33e(0x249)][_0x50b33e(0x5bc)];_0xc03afb=(await this[_0x50b33e(0x47e)](_0x5c24fb,_0x4b2644[_0x50b33e(0x41b)],!0x1))['cachedContact'][_0x50b33e(0x75a)];}let _0x51d10a={'_id':_0x4b2644[_0x50b33e(0x249)]['id'],'key':_0x4b2644[_0x50b33e(0x249)],'isGroup':_0x5ec649,'profilePictureUrl':_0xc03afb,'pushName':_0x4b2644[_0x50b33e(0x41b)],'message':_0x5a98f7,'messageType':_0x18b3da,'message_normalized':{'key':_0x4b2644['key'],'pushName':_0x4b2644[_0x50b33e(0x41b)],'messageTimestamp':_0x4b2644[_0x50b33e(0x81b)],'source':(0x0,w[_0x50b33e(0x4ff)])(_0x4b2644[_0x50b33e(0x249)]['id']),..._0x4dc8bf},'messageTimestamp':_0x4b2644['messageTimestamp'],'owner':this[_0x50b33e(0x479)][_0x50b33e(0x661)],'source':(0x0,w[_0x50b33e(0x4ff)])(_0x4b2644[_0x50b33e(0x249)]['id']),'expiration':_0x3b7208?.[_0x50b33e(0x468)]?.[_0x50b33e(0x27f)]||0x0};_0x3b7208||(this[_0x50b33e(0x421)]['error']('Mensagem\x20não\x20suportada'),this[_0x50b33e(0x421)][_0x50b33e(0x3b7)](_0x51d10a)),this[_0x50b33e(0x421)]['log'](this[_0x50b33e(0x1b4)]+'\x20('+this['instance'][_0x50b33e(0x661)]+_0x50b33e(0x54d)+(_0x51d10a[_0x50b33e(0x249)]?.[_0x50b33e(0x424)]?_0x50b33e(0x26b):_0x50b33e(0x789))+'\x20['+_0x51d10a[_0x50b33e(0x249)]?.[_0x50b33e(0x5bc)][_0x50b33e(0x4f4)]('@s.whatsapp.net','')+_0x50b33e(0x401)+_0x51d10a[_0x50b33e(0x2df)]+')'),_0x51d10a[_0x50b33e(0x2b5)]?.['text']&&this['logger'][_0x50b33e(0x324)](_0x4b2644[_0x50b33e(0x249)]['id']+':\x20'+_0x51d10a[_0x50b33e(0x2b5)]?.[_0x50b33e(0x339)]),await this[_0x50b33e(0x1d5)]['message']['insert']([_0x51d10a],this[_0x50b33e(0x479)][_0x50b33e(0x661)]),this[_0x50b33e(0x849)](_0x50b33e(0x303),_0x51d10a),J(this[_0x50b33e(0x1b4)],_0x50b33e(0x7e5),{'message':_0x51d10a}),_0x4b2644[_0x50b33e(0x249)][_0x50b33e(0x5bc)]!==_0x50b33e(0x394)&&await this[_0x50b33e(0x288)](_0xc9fecc,_0x51d10a,_0x50b33e(0x477));}},'messages.update':async(_0x42eea3,_0x566c3b)=>{const _0x5eb153=_0x185d42;let _0x122a20={0x0:_0x5eb153(0x246),0x1:_0x5eb153(0x7ed),0x2:_0x5eb153(0x5dc),0x3:_0x5eb153(0x706),0x4:_0x5eb153(0x1aa),0x5:_0x5eb153(0x6eb)};for await(let {key:_0x3a1e54,update:_0xa59d31}of _0x42eea3){if(this[_0x5eb153(0x410)]?.[_0x5eb153(0x770)]&&_0x3a1e54[_0x5eb153(0x5bc)][_0x5eb153(0x4b0)]('@g.us')){this[_0x5eb153(0x421)][_0x5eb153(0x76b)](this[_0x5eb153(0x1b4)]+'\x20('+this[_0x5eb153(0x479)]['wuid']+_0x5eb153(0x7fa));return;}if(_0x3a1e54['remoteJid']!==_0x5eb153(0x394)){let _0x3316a8=Date[_0x5eb153(0x1a6)](),_0x5dd52f;_0xa59d31[_0x5eb153(0x34b)]===null&&_0xa59d31[_0x5eb153(0x59e)]===void 0x0?_0x5dd52f='DELETED':_0x5dd52f=_0x122a20[_0xa59d31[_0x5eb153(0x59e)]];let _0x211e43=_0x3a1e54[_0x5eb153(0x5bc)][_0x5eb153(0x4f4)](/:\d{1,2}@/g,'@'),_0x19d27a={..._0x3a1e54,'remoteJid':_0x211e43,'status':_0x5dd52f,'datetime':_0x3316a8,'owner':this['instance'][_0x5eb153(0x661)]};this['sendDataWebhook'](_0x5eb153(0x732),_0x19d27a),await this[_0x5eb153(0x186)](_0x3a1e54,_0x19d27a);}}},'labels.association':async({type:_0x576694,association:_0xb1c858})=>{const _0x5e9ea7=_0x185d42;if(_0xb1c858[_0x5e9ea7(0x7da)]===_0x5e9ea7(0x4c1)){let _0x576743,_0x4d97c9=0x0;for(;!_0x576743&&_0x4d97c9<this[_0x5e9ea7(0x759)];)_0x576743=await this[_0x5e9ea7(0x1d5)]['chat'][_0x5e9ea7(0x79e)]({'where':{'_id':_0xb1c858['chatId']}},this['instance']['wuid']),_0x576743||(_0x4d97c9++,this['logger'][_0x5e9ea7(0x7d7)](this[_0x5e9ea7(0x1b4)]+'\x20('+this[_0x5e9ea7(0x479)][_0x5e9ea7(0x661)]+'):\x20Chat\x20'+_0xb1c858['chatId']+_0x5e9ea7(0x7b2)+this[_0x5e9ea7(0x210)]+_0x5e9ea7(0x435)+_0x4d97c9+'/'+this[_0x5e9ea7(0x759)]+')'),await this['delayChatLabel'](this[_0x5e9ea7(0x210)]));if(!_0x576743){this[_0x5e9ea7(0x421)][_0x5e9ea7(0x3b7)](_0x5e9ea7(0x709)+_0xb1c858[_0x5e9ea7(0x84d)]+_0x5e9ea7(0x4ca)+this[_0x5e9ea7(0x759)]+_0x5e9ea7(0x1b0));return;}switch(_0x576694){case _0x5e9ea7(0x86c):console[_0x5e9ea7(0x324)](_0xb1c858),await this[_0x5e9ea7(0x1d5)][_0x5e9ea7(0x4a4)]['updateOne']({'where':{'_id':_0xb1c858[_0x5e9ea7(0x84d)]}},{'leadInfo.etiquetas':_0xb1c858['labelId']},this['instance'][_0x5e9ea7(0x661)],void 0x0,_0x5e9ea7(0x726));break;case _0x5e9ea7(0x419):console[_0x5e9ea7(0x324)](_0xb1c858),await this[_0x5e9ea7(0x1d5)][_0x5e9ea7(0x4a4)][_0x5e9ea7(0x1e8)]({'where':{'_id':_0xb1c858[_0x5e9ea7(0x84d)]}},{'leadInfo.etiquetas':_0xb1c858[_0x5e9ea7(0x84e)]},this[_0x5e9ea7(0x479)][_0x5e9ea7(0x661)],void 0x0,'$pull');break;default:this[_0x5e9ea7(0x421)][_0x5e9ea7(0x3b7)](_0x5e9ea7(0x69e)+_0x576694+']');}}},'labels.edit':async _0x46d312=>{const _0x550e79=_0x185d42;if(!_0x46d312||!_0x46d312['id']){this[_0x550e79(0x421)]['error']('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x46d312[_0x550e79(0x674)]){let _0x2176bc=['#ff9484','#64c4ff',_0x550e79(0x5a5),'#dfaef0','#9ab6c1','#56ccb4',_0x550e79(0x29f),'#d3a91f',_0x550e79(0x400),_0x550e79(0x490),_0x550e79(0x3ee),_0x550e79(0x6f3),_0x550e79(0x43a),_0x550e79(0x82e),_0x550e79(0x576),_0x550e79(0x3db),'#ffae04',_0x550e79(0x512),_0x550e79(0x711),'#9568cf'],_0xc5680c;typeof _0x46d312['color']==_0x550e79(0x63d)&&_0x46d312[_0x550e79(0x197)]>=0x0&&_0x46d312[_0x550e79(0x197)]<_0x2176bc['length']?_0xc5680c=_0x2176bc[_0x46d312['color']]:(this[_0x550e79(0x421)][_0x550e79(0x3b7)](_0x550e79(0x35a)+_0x46d312[_0x550e79(0x197)]),_0xc5680c=_0x550e79(0x43e));let _0x32546f={'_id':_0x46d312['id'],'colorHex':_0xc5680c,'color':_0x46d312?.[_0x550e79(0x197)],'name':_0x46d312?.['name'],'owner':this[_0x550e79(0x479)][_0x550e79(0x661)]};await this[_0x550e79(0x1d5)][_0x550e79(0x3b8)][_0x550e79(0x1e8)]({'where':{'_id':_0x46d312['id']}},_0x32546f,this[_0x550e79(0x479)][_0x550e79(0x661)]),this[_0x550e79(0x421)][_0x550e79(0x7d7)](this['instanceName']+'\x20('+this['instance'][_0x550e79(0x661)]+_0x550e79(0x17a)+_0x46d312);}_0x46d312[_0x550e79(0x674)]&&(await this[_0x550e79(0x1d5)][_0x550e79(0x3b8)][_0x550e79(0x665)]({'where':{'_id':_0x46d312['id']}},this['instance']['wuid']),this[_0x550e79(0x421)]['info'](_0x550e79(0x84c)+_0x46d312['id']));}},this['groupHandler']={'groups.upsert':async _0x1ae840=>{const _0x13a61d=_0x185d42;this['localWebhook']?.[_0x13a61d(0x770)]||this['sendDataWebhook'](_0x13a61d(0x398),_0x1ae840);for(let _0x371fed of _0x1ae840)await this['updateGroupWebhook'](_0x371fed);},'groups.update':async _0x4cb6e8=>{const _0x5e0e0f=_0x185d42;this[_0x5e0e0f(0x410)]?.[_0x5e0e0f(0x770)]||this[_0x5e0e0f(0x849)](_0x5e0e0f(0x313),_0x4cb6e8);for(let _0x4f041f of _0x4cb6e8)await this[_0x5e0e0f(0x184)](_0x4f041f);},'group-participants.update':async _0x40f87b=>{const _0x5b3a41=_0x185d42;this['localWebhook']?.['groups_ignore']||this[_0x5b3a41(0x849)](_0x5b3a41(0x15d),_0x40f87b),await this[_0x5b3a41(0x1a7)](_0x40f87b);}},this['delayChatLabel_MAX_RETRIES']=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x185d42(0x6d4)]=0x0,this['processPollUpdateMessage']=async _0x88583f=>{const _0x4f6544=_0x185d42;if(_0x88583f[_0x4f6544(0x34b)]?.[_0x4f6544(0x7c1)]){let _0x379e04=await this[_0x4f6544(0x615)](_0x88583f[_0x4f6544(0x34b)]['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x379e04){let _0x486b4c=_0x379e04[_0x4f6544(0x249)]['fromMe']?this['instance'][_0x4f6544(0x661)]+_0x4f6544(0x1e4):_0x379e04[_0x4f6544(0x249)]['participant']||_0x379e04[_0x4f6544(0x249)][_0x4f6544(0x5bc)],_0x580fee=_0x379e04[_0x4f6544(0x249)]['id'],_0x2c0147=_0x379e04[_0x4f6544(0x34b)],_0x112ed4=Buffer[_0x4f6544(0x3e5)](_0x2c0147[_0x4f6544(0x783)]['messageSecret']['toString']('hex'),_0x4f6544(0x33f)),_0x57717f=(0x0,w[_0x4f6544(0x45b)])(_0x88583f[_0x4f6544(0x34b)][_0x4f6544(0x7c1)][_0x4f6544(0x7ea)],{'pollCreatorJid':_0x486b4c,'pollMsgId':_0x580fee,'pollEncKey':_0x112ed4,'voterJid':_0x88583f[_0x4f6544(0x249)]['fromMe']?this[_0x4f6544(0x479)][_0x4f6544(0x661)]+'@s.whatsapp.net':_0x88583f['key'][_0x4f6544(0x5bc)][_0x4f6544(0x2cb)](_0x4f6544(0x412))?_0x88583f[_0x4f6544(0x249)][_0x4f6544(0x300)]:_0x88583f['key']['remoteJid']}),_0x1e72c4=[],_0x24583e=_0x57717f[_0x4f6544(0x1dd)][_0x4f6544(0x5a9)](_0x1f8524=>Buffer['from'](_0x1f8524)['toString']('hex'));for(let {optionName:_0x28ba82}of _0x2c0147[_0x4f6544(0x782)]?.[_0x4f6544(0x5a6)]||_0x2c0147[_0x4f6544(0x49e)]?.['options']||_0x2c0147[_0x4f6544(0x799)]?.[_0x4f6544(0x5a6)])_0x24583e[_0x4f6544(0x812)]((0x0,w[_0x4f6544(0x420)])(Buffer[_0x4f6544(0x3e5)](_0x28ba82))[_0x4f6544(0x176)](_0x4f6544(0x33f)))>-0x1&&_0x1e72c4[_0x4f6544(0x2af)](_0x28ba82);return _0x1e72c4;}}return null;},this[_0x185d42(0x353)]=(_0x45e283,_0x4a9c6a,_0x42a299)=>{const _0x4208d9=_0x185d42;try{let _0x562adb=_0x45e283?(0x0,w[_0x4208d9(0x72b)])(_0x45e283)[_0x4a9c6a]:void 0x0,_0xcc05b7={},_0x22fb3d=null,_0x316737=null,_0x285137=null;_0x4a9c6a==='protocolMessage'&&_0x562adb?.[_0x4208d9(0x40b)]&&(_0x4a9c6a=(0x0,w['getContentType'])(_0x562adb['editedMessage']),_0x22fb3d=_0x45e283[_0x4208d9(0x870)]['key']['id'],_0x562adb=_0x45e283[_0x4208d9(0x870)][_0x4208d9(0x40b)][_0x4a9c6a]),_0x45e283[_0x4a9c6a]?.['contextInfo']?.[_0x4208d9(0x5f0)]&&_0x45e283[_0x4a9c6a]?.['contextInfo']?.[_0x4208d9(0x5ba)]&&(_0x316737=_0x45e283[_0x4a9c6a]['contextInfo'][_0x4208d9(0x5f0)]),_0x45e283[_0x4208d9(0x20d)]&&(_0x285137=_0x45e283['reactionMessage']['key']['id']);let _0x56784f;if(_0x562adb&&typeof _0x562adb==_0x4208d9(0x6ff)&&_0x4208d9(0x289)in _0x562adb&&({pollCreationMessageKey:_0x56784f}=_0x562adb),_0x4a9c6a===_0x4208d9(0x782)||_0x4a9c6a===_0x4208d9(0x799)||_0x4a9c6a==='pollCreationMessageV3'){let _0x67768d=_0x562adb[_0x4208d9(0x5a6)][_0x4208d9(0x5a9)](_0x3510d9=>_0x3510d9[_0x4208d9(0x7f7)])[_0x4208d9(0x7ae)]('|');_0xcc05b7[_0x4208d9(0x717)]=_0x67768d;}let _0x4b0cbf='';if(_0x562adb&&(_0x4b0cbf+=_0x562adb[_0x4208d9(0x217)]?_0x562adb['name']:'',_0x4b0cbf+=_0x562adb[_0x4208d9(0x1db)]?'\x20'+_0x562adb['caption']:'',_0x4b0cbf+=_0x562adb[_0x4208d9(0x3c8)]?'\x20'+_0x562adb[_0x4208d9(0x3c8)]:'',_0x4b0cbf+=_0x562adb[_0x4208d9(0x1ab)]?'\x20'+_0x562adb[_0x4208d9(0x1ab)]:''),_0x4a9c6a===_0x4208d9(0x461)){_0x4b0cbf=(_0x562adb[_0x4208d9(0x664)]||'')+'\x0a'+(_0x562adb[_0x4208d9(0x136)]||'')+'\x0a'+(_0x562adb[_0x4208d9(0x46d)]||'');let _0x43a8a4=this[_0x4208d9(0x3d3)](_0x562adb['sections']);_0xcc05b7['convertedOptions']=_0x43a8a4;}if(_0x4a9c6a===_0x4208d9(0x349)&&(_0x42a299=_0x562adb[_0x4208d9(0x664)]),_0x562adb&&_0x562adb[_0x4208d9(0x3b9)]){let _0x4b479b=this[_0x4208d9(0x30b)](JSON[_0x4208d9(0x27a)](_0x562adb[_0x4208d9(0x3b9)],null,0x2));_0x4b0cbf=_0x4b0cbf+'\x0a'+_0x4b479b;}if(_0x562adb){let {sections:_0x3058dc,listType:_0x263719,displayName:_0xd9563e,vcard:_0x54b7d6,contactVcard:_0x8ec286,name:_0x550856,caption:_0x2f1c63,conversation:_0x5f1f08,pollCreationMessageKey:_0x445747,footerText:_0xbf451c,contentText:_0x296697,pageCount:_0x432403,headerType:_0x1996d8,isAvatar:_0x259aa4,isAnimated:_0x1c55e5,fallbackLc:_0x3b48cc,fallbackLg:_0x2dba99,namespace:_0x5557f1,elementName:_0x319fab,localizableParams:_0x17d3d5,viewOnce:_0x6b642f,height:_0x521b30,width:_0x534724,key:_0x413486,firstScanLength:_0x2aed59,firstScanSidecar:_0x4a0503,gifPlayback:_0x57bb34,gifAttribution:_0x56ce53,midQualityFileSha256:_0x543460,scansSidecar:_0x1bbc72,streamingSidecar:_0x56f7f6,thumbnailHeight:_0x165f04,thumbnailWidth:_0x61511d,thumbnailEncSha256:_0x6f02e4,thumbnailDirectPath:_0xf8f27a,canonicalUrl:_0x2b2371,matchedText:_0x2a60bc,previewType:_0x492078,thumbnailSha256:_0x2d37b0,deviceListMetadataVersion:_0x350f7f,inviteLinkGroupTypeV2:_0x41e3a6,interactiveAnnotations:_0x568abc,scanLengths:_0x447d47,jpegThumbnail:_0x4c0699,url:_0x31173a,mediaKeyTimestamp:_0x560f55,waveform:_0x1b4e1f,stickerSentTs:_0x20d579,firstFrameLength:_0x521cfa,fileEncSha256:_0x3a13ec,contextInfo:_0x42aa00,firstFrameSidecar:_0x1f508e,directPath:_0x2153bc,fileSha256:_0x1fa9bd,mediaKey:_0x369fb2,senderTimestampMs:_0x41b000,..._0x3663d4}=_0x562adb;(_0x4a9c6a===_0x4208d9(0x461)||_0x4a9c6a===_0x4208d9(0x349))&&(delete _0x3663d4[_0x4208d9(0x664)],delete _0x3663d4[_0x4208d9(0x136)]),typeof _0x562adb==_0x4208d9(0x648)?_0xcc05b7={'text':_0x562adb,'type':_0x4a9c6a||'conversation',..._0x22fb3d&&{'edited':_0x22fb3d},..._0x316737&&{'quoted':_0x316737},..._0x285137&&{'reaction':_0x285137}}:_0xcc05b7={'text':_0x4b0cbf,..._0x3663d4,..._0x4a9c6a===_0x4208d9(0x7c1)?{'poll_id':_0x562adb[_0x4208d9(0x289)]['id'],'quoted':_0x562adb[_0x4208d9(0x289)]['id'],'vote':_0x42a299}:{},..._0x4a9c6a==='listResponseMessage'?{'vote':_0x42a299}:{},'type':_0x4a9c6a,..._0x22fb3d&&{'edited':_0x22fb3d},..._0x316737&&{'quoted':_0x316737},..._0x285137&&{'reaction':_0x285137},...(_0x4a9c6a==='pollCreationMessage'||_0x4a9c6a===_0x4208d9(0x799)||_0x4a9c6a===_0x4208d9(0x49e)||_0x4a9c6a===_0x4208d9(0x461))&&{'convertedOptions':_0xcc05b7[_0x4208d9(0x717)]}};}return{'messageType':_0x4a9c6a,'messageContent':_0x562adb,'message_normalized':_0xcc05b7};}catch(_0x2cbbac){return this[_0x4208d9(0x421)][_0x4208d9(0x3b7)](_0x4208d9(0x747)+_0x2cbbac),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x185d42(0x320)]=[],this[_0x185d42(0x179)]=!0x1,(this[_0x185d42(0x1c3)](),this[_0x185d42(0x319)](),this[_0x185d42(0x479)][_0x185d42(0x5c5)]={'count':0x0},this['instance'][_0x185d42(0x76f)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x20fba6(0x1b4)](_0x924c16){const _0x445032=a0_0x20fba6;if(!_0x924c16){this[_0x445032(0x479)][_0x445032(0x217)]=(0x0,Ai['v4'])();return;}this[_0x445032(0x479)]['name']=_0x924c16,this[_0x445032(0x849)](_0x445032(0x4c4),{'instance':this['instance']['name'],'status':'created'});}get[a0_0x20fba6(0x1b4)](){const _0x2034af=a0_0x20fba6;return this[_0x2034af(0x479)][_0x2034af(0x217)];}get[a0_0x20fba6(0x661)](){return this['instance']['wuid'];}async['getProfileName'](){const _0x364ebd=a0_0x20fba6;let _0x2ba82f=this[_0x364ebd(0x483)][_0x364ebd(0x82a)]?.['name']??this['client'][_0x364ebd(0x82a)]?.['verifiedName'];if(!_0x2ba82f){if(this[_0x364ebd(0x4e8)]['get'](_0x364ebd(0x578))[_0x364ebd(0x42c)]){let _0x25a5c8=await R[_0x364ebd(0x5ff)]()['db'](this[_0x364ebd(0x4e8)][_0x364ebd(0x6b2)](_0x364ebd(0x578))[_0x364ebd(0x6b0)]['DB_PREFIX_NAME']+_0x364ebd(0x36c))[_0x364ebd(0x632)](this[_0x364ebd(0x1b4)])[_0x364ebd(0x79e)]({'_id':_0x364ebd(0x6a3)});if(_0x25a5c8){let _0x5354e4=JSON[_0x364ebd(0x321)](JSON[_0x364ebd(0x27a)](_0x25a5c8),w[_0x364ebd(0x5ca)][_0x364ebd(0x546)]);_0x2ba82f=_0x5354e4['me']?.[_0x364ebd(0x217)]||_0x5354e4['me']?.[_0x364ebd(0x83b)];}}else{if((0x0,Le[_0x364ebd(0x604)])((0x0,U[_0x364ebd(0x7ae)])(be,this['instanceName'],'creds.json'))){let _0x8d3b0=JSON[_0x364ebd(0x321)]((0x0,Le[_0x364ebd(0x1cb)])((0x0,U[_0x364ebd(0x7ae)])(be,this[_0x364ebd(0x1b4)],_0x364ebd(0x57f)),{'encoding':_0x364ebd(0x832)}));_0x2ba82f=_0x8d3b0['me']?.[_0x364ebd(0x217)]||_0x8d3b0['me']?.['verifiedName'];}}}return _0x2ba82f;}get[a0_0x20fba6(0x776)](){const _0x1a6606=a0_0x20fba6;return this[_0x1a6606(0x479)][_0x1a6606(0x776)];}get[a0_0x20fba6(0x287)](){const _0x63fe3c=a0_0x20fba6;return this[_0x63fe3c(0x479)][_0x63fe3c(0x5c5)]?.['pairingCode']?{'pairingCode':this[_0x63fe3c(0x479)][_0x63fe3c(0x5c5)]?.[_0x63fe3c(0x280)]}:{'code':this['instance'][_0x63fe3c(0x5c5)]?.[_0x63fe3c(0x305)],'base64':this['instance'][_0x63fe3c(0x5c5)]?.[_0x63fe3c(0x697)]};}async[a0_0x20fba6(0x5f7)](){const _0x47e562=a0_0x20fba6;let _0x24046e=await this[_0x47e562(0x1d5)][_0x47e562(0x34e)][_0x47e562(0x568)](this[_0x47e562(0x1b4)]);this[_0x47e562(0x410)]['url']=_0x24046e?.[_0x47e562(0x12a)],this[_0x47e562(0x410)]['enabled']=_0x24046e?.[_0x47e562(0x73f)],this[_0x47e562(0x410)]['local_map']=_0x24046e?.['local_map'],this[_0x47e562(0x410)][_0x47e562(0x4f2)]=_0x24046e?.['STATUS_INSTANCE'],this['localWebhook'][_0x47e562(0x120)]=_0x24046e?.['QRCODE_UPDATED'],this[_0x47e562(0x410)][_0x47e562(0x29a)]=_0x24046e?.[_0x47e562(0x29a)],this['localWebhook'][_0x47e562(0x477)]=_0x24046e?.['MESSAGES_UPSERT'],this[_0x47e562(0x410)][_0x47e562(0x597)]=_0x24046e?.[_0x47e562(0x597)],this[_0x47e562(0x410)][_0x47e562(0x3a3)]=_0x24046e?.['GROUPS_UPSERT'],this[_0x47e562(0x410)][_0x47e562(0x2aa)]=_0x24046e?.[_0x47e562(0x2aa)],this['localWebhook'][_0x47e562(0x63b)]=_0x24046e?.[_0x47e562(0x63b)],this['localWebhook'][_0x47e562(0x6b5)]=_0x24046e?.['CHATS_SET'],this[_0x47e562(0x410)][_0x47e562(0x54a)]=_0x24046e?.[_0x47e562(0x54a)],this[_0x47e562(0x410)][_0x47e562(0x1a4)]=_0x24046e?.['CHATS_UPDATE'],this['localWebhook'][_0x47e562(0x77c)]=_0x24046e?.[_0x47e562(0x77c)],this[_0x47e562(0x410)][_0x47e562(0x3f1)]=_0x24046e?.[_0x47e562(0x3f1)],this[_0x47e562(0x410)][_0x47e562(0x2d0)]=_0x24046e?.['CONTACTS_UPSERT'],this['localWebhook'][_0x47e562(0x3d7)]=_0x24046e?.['CONTACTS_UPDATE'],this['localWebhook'][_0x47e562(0x6ef)]=_0x24046e?.[_0x47e562(0x6ef)],this[_0x47e562(0x410)][_0x47e562(0x79b)]=_0x24046e?.[_0x47e562(0x79b)],this['localWebhook'][_0x47e562(0x85e)]=_0x24046e?.['CONNECTION_UPDATE'],this[_0x47e562(0x410)]['groups_ignore']=_0x24046e?.[_0x47e562(0x770)];}async[a0_0x20fba6(0x4f8)](_0x349001){const _0x25e603=a0_0x20fba6;let _0x363cf0=[_0x25e603(0x2a0),'url',_0x25e603(0x73f),_0x25e603(0x77d),_0x25e603(0x4f2),'QRCODE_UPDATED',_0x25e603(0x597),'MESSAGES_UPSERT',_0x25e603(0x29a),_0x25e603(0x3a3),_0x25e603(0x2aa),'GROUP_PARTICIPANTS_UPDATE',_0x25e603(0x6b5),_0x25e603(0x54a),_0x25e603(0x1a4),_0x25e603(0x77c),_0x25e603(0x3f1),'CONTACTS_UPSERT','CONTACTS_UPDATE','PRESENCE_UPDATE','MESSAGES_SET',_0x25e603(0x85e),'groups_ignore'],_0x30ee52={};return _0x363cf0[_0x25e603(0x871)](_0x22ae01=>{_0x349001[_0x22ae01]!==void 0x0&&(_0x30ee52[_0x22ae01]=_0x349001[_0x22ae01]);}),_0x30ee52[_0x25e603(0x12a)]&&(_0x30ee52[_0x25e603(0x12a)]=_0x30ee52[_0x25e603(0x12a)][_0x25e603(0x5b8)]()),await this[_0x25e603(0x1d5)][_0x25e603(0x34e)]['create'](_0x30ee52,this[_0x25e603(0x1b4)]),Object[_0x25e603(0x3fa)](this[_0x25e603(0x410)],_0x30ee52),await this[_0x25e603(0x1d5)]['webhook'][_0x25e603(0x568)](this[_0x25e603(0x1b4)]);}async[a0_0x20fba6(0x6bb)](){const _0x5a7aad=a0_0x20fba6;return await this[_0x5a7aad(0x1d5)][_0x5a7aad(0x34e)][_0x5a7aad(0x568)](this[_0x5a7aad(0x1b4)]);}async[a0_0x20fba6(0x849)](_0x3a9c87,_0x10805c){const _0x3d18c9=a0_0x20fba6;let _0x1bf50c=_0x3a9c87[_0x3d18c9(0x4f4)](/[\.-]/gm,'_')[_0x3d18c9(0x1fe)](),_0x2cb8b4=this[_0x3d18c9(0x410)][_0x3d18c9(0x73f)]&&(0x0,k[_0x3d18c9(0x34d)])(this['localWebhook']['url'])?this[_0x3d18c9(0x410)][_0x3d18c9(0x12a)]+(this['localWebhook'][_0x3d18c9(0x77d)]?this[_0x3d18c9(0x5ab)][_0x3a9c87]:''):null,_0xa81a3d=this[_0x3d18c9(0x410)][_0x1bf50c],_0x2b1668=pe&&pe['enabled']&&(0x0,k[_0x3d18c9(0x34d)])(pe[_0x3d18c9(0x12a)])?pe[_0x3d18c9(0x12a)]+(pe[_0x3d18c9(0x77d)]?this[_0x3d18c9(0x5ab)][_0x3a9c87]:''):null,_0x12ef80=pe?pe[_0x1bf50c]:null;if(_0xa81a3d&&_0x2cb8b4)try{await Y[_0x3d18c9(0x269)][_0x3d18c9(0x19e)]({'baseURL':_0x2cb8b4})[_0x3d18c9(0x25b)]('',{'event':_0x3a9c87,'instance':this[_0x3d18c9(0x479)][_0x3d18c9(0x217)],'apikey':this[_0x3d18c9(0x479)][_0x3d18c9(0x81c)],'data':_0x10805c}),this[_0x3d18c9(0x421)][_0x3d18c9(0x324)](this['instanceName']+'\x20('+this[_0x3d18c9(0x479)]['wuid']+_0x3d18c9(0x379)+_0x3a9c87+':\x20'+_0x2cb8b4);}catch{this[_0x3d18c9(0x421)]['error'](this[_0x3d18c9(0x1b4)]+'\x20('+this[_0x3d18c9(0x479)]['wuid']+_0x3d18c9(0x3a9)+_0x3a9c87+':\x20'+_0x2cb8b4);}if(_0x12ef80&&_0x2b1668)try{await Y[_0x3d18c9(0x269)]['create']({'baseURL':_0x2b1668})[_0x3d18c9(0x25b)]('',{'event':_0x3a9c87,'instance':this[_0x3d18c9(0x479)][_0x3d18c9(0x217)],'apikey':this[_0x3d18c9(0x479)][_0x3d18c9(0x81c)],'data':_0x10805c}),this[_0x3d18c9(0x421)][_0x3d18c9(0x324)](this[_0x3d18c9(0x1b4)]+'\x20('+this[_0x3d18c9(0x479)]['wuid']+_0x3d18c9(0x53e)+_0x3a9c87+':\x20'+_0x2b1668);}catch{this[_0x3d18c9(0x421)][_0x3d18c9(0x3b7)](this['instanceName']+'\x20('+this[_0x3d18c9(0x479)][_0x3d18c9(0x661)]+_0x3d18c9(0x82c)+_0x3a9c87+':\x20'+_0x2b1668);}}async[a0_0x20fba6(0x68b)]({qr:_0x5655ad,connection:_0x41a79b,lastDisconnect:_0x2768a0}){const _0x27c511=a0_0x20fba6;if(_0x5655ad){if(this[_0x27c511(0x479)][_0x27c511(0x5c5)][_0x27c511(0x338)]===Do)return this['sendDataWebhook'](_0x27c511(0x681),{'message':_0x27c511(0x16c),'statusCode':w[_0x27c511(0x83d)][_0x27c511(0x1bb)]}),this[_0x27c511(0x792)]={'state':_0x27c511(0x725),'statusReason':w[_0x27c511(0x83d)][_0x27c511(0x11b)]},this['sendDataWebhook'](_0x27c511(0x3aa),{'instance':this[_0x27c511(0x479)][_0x27c511(0x217)],...this[_0x27c511(0x792)]}),this[_0x27c511(0x849)](_0x27c511(0x4c4),{'instance':this[_0x27c511(0x479)][_0x27c511(0x217)],'status':_0x27c511(0x20f)}),this[_0x27c511(0x1d5)][_0x27c511(0x52b)][_0x27c511(0x665)](this[_0x27c511(0x479)][_0x27c511(0x217)]),this['endSession']=!0x0,ae[_0x27c511(0x231)](W,this[_0x27c511(0x479)]['name']),this[_0x27c511(0x695)][_0x27c511(0x22a)]('no.connection',this[_0x27c511(0x479)]['name']);this[_0x27c511(0x479)][_0x27c511(0x5c5)]['count']++;let _0x10a05b={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x27c511(0x1d7),'dark':_0x27c511(0x43e)}};Ii[_0x27c511(0x269)]['toDataURL'](_0x5655ad,_0x10a05b,(_0x57cc7d,_0x2b9048)=>{const _0x2e17df=_0x27c511;if(_0x57cc7d){this[_0x2e17df(0x421)]['error'](this[_0x2e17df(0x1b4)]+'\x20('+this[_0x2e17df(0x479)][_0x2e17df(0x661)]+_0x2e17df(0x7ab)+(_0x57cc7d instanceof Error?_0x57cc7d[_0x2e17df(0x34b)]:JSON[_0x2e17df(0x27a)](_0x57cc7d,null,0x2)));return;}this[_0x2e17df(0x479)][_0x2e17df(0x5c5)][_0x2e17df(0x697)]=_0x2b9048,this[_0x2e17df(0x479)][_0x2e17df(0x5c5)][_0x2e17df(0x305)]=_0x5655ad,!this[_0x2e17df(0x125)]&&this[_0x2e17df(0x849)](_0x2e17df(0x681),{'qrcode':{'instance':this[_0x2e17df(0x479)][_0x2e17df(0x217)],'pairingCode':this['instance']['qrcode'][_0x2e17df(0x280)],'code':_0x5655ad,'base64':_0x2b9048}});}),this['phoneNumber']?this[_0x27c511(0x479)]['qrcode'][_0x27c511(0x280)]||(await(0x0,w['delay'])(0x7d0),this[_0x27c511(0x479)][_0x27c511(0x5c5)]['pairingCode']=await this['client']['requestPairingCode'](this[_0x27c511(0x125)])):this[_0x27c511(0x479)][_0x27c511(0x5c5)][_0x27c511(0x280)]=null,Ti['default'][_0x27c511(0x2c8)](_0x5655ad,{'small':!0x0},_0x14d9bd=>this[_0x27c511(0x421)][_0x27c511(0x324)](_0x27c511(0x6e7)+this[_0x27c511(0x479)]['name']+_0x27c511(0x687)+this[_0x27c511(0x479)][_0x27c511(0x5c5)][_0x27c511(0x338)]+_0x27c511(0x785)+this[_0x27c511(0x479)][_0x27c511(0x5c5)]['pairingCode']+_0x27c511(0x17f)+_0x14d9bd));}if(_0x41a79b&&(this[_0x27c511(0x792)]={'state':_0x41a79b,'statusReason':_0x2768a0?.[_0x27c511(0x3b7)]?.[_0x27c511(0x7cf)]?.[_0x27c511(0x168)]??0xc8},this[_0x27c511(0x849)](_0x27c511(0x3aa),{'instance':this[_0x27c511(0x479)]['name'],...this[_0x27c511(0x792)]})),_0x41a79b===_0x27c511(0x603)){if(this[_0x27c511(0x121)]++,this[_0x27c511(0x767)][_0x27c511(0x2af)](Date['now']()),this[_0x27c511(0x767)]=this['reconnectTimestamps'][_0x27c511(0x7a2)](_0xffff6a=>Date[_0x27c511(0x1a6)]()-_0xffff6a<this[_0x27c511(0x306)]),_0x2768a0[_0x27c511(0x3b7)]?.[_0x27c511(0x7cf)]?.[_0x27c511(0x168)]!==w[_0x27c511(0x83d)]['loggedOut']){let _0xaa6cdf=this['reconnectAttempts']<=0x1?0x0:Math['min'](Math[_0x27c511(0x508)](0x2,this[_0x27c511(0x121)]-0x1)*0x3e8,0x493e0);console[_0x27c511(0x324)](this[_0x27c511(0x1b4)]+_0x27c511(0x7b0)+this[_0x27c511(0x121)]+_0x27c511(0x1a2)+_0xaa6cdf/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x442a00=>setTimeout(_0x442a00,_0xaa6cdf)),console[_0x27c511(0x324)]('Tentando\x20reconectar...'),await this['connectToWhatsapp']();}else{this[_0x27c511(0x849)](_0x27c511(0x4c4),{'instance':this[_0x27c511(0x479)][_0x27c511(0x217)],'status':_0x27c511(0x20f)}),this[_0x27c511(0x479)]['ScheduleMessage'][_0x27c511(0x45d)]=!0x1,this[_0x27c511(0x1d5)]['webhook'][_0x27c511(0x665)](this[_0x27c511(0x1b4)]),this[_0x27c511(0x1d5)][_0x27c511(0x52b)][_0x27c511(0x19e)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x27c511(0x1a6)]()},this[_0x27c511(0x479)][_0x27c511(0x217)]),ae[_0x27c511(0x231)](W,this[_0x27c511(0x479)]['name']);try{this['logger'][_0x27c511(0x76b)](this[_0x27c511(0x1b4)]+'\x20('+this[_0x27c511(0x479)][_0x27c511(0x661)]+_0x27c511(0x808));let _0x50d8b7=await this[_0x27c511(0x1d5)][_0x27c511(0x34b)][_0x27c511(0x315)](this['instance']['wuid']);_0x50d8b7[_0x27c511(0x595)]?this[_0x27c511(0x421)][_0x27c511(0x76b)](this['instanceName']+'\x20('+this[_0x27c511(0x479)][_0x27c511(0x661)]+_0x27c511(0x7c6)):this[_0x27c511(0x421)][_0x27c511(0x3b7)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x50d8b7[_0x27c511(0x3b7)]);}catch(_0x3cbd24){this['logger'][_0x27c511(0x3b7)](_0x27c511(0x44e)+_0x3cbd24['message']);}this['instance'][_0x27c511(0x76f)][_0x27c511(0x355)]!==null&&(this['logger']['verbose'](this[_0x27c511(0x1b4)]+'\x20('+this[_0x27c511(0x479)][_0x27c511(0x661)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x27c511(0x479)]['ScheduleMessage'][_0x27c511(0x355)]),this['instance']['ScheduleMessage']['delayMessage']=null),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x27c511(0x479)][_0x27c511(0x661)]+_0x27c511(0x5fa)),this[_0x27c511(0x52f)]=null,this[_0x27c511(0x695)][_0x27c511(0x22a)](_0x27c511(0x4c2),this[_0x27c511(0x479)]['name'],_0x27c511(0x6fa)),this['client']?.['ws']?.['close'](),this[_0x27c511(0x483)]['end'](new Error(_0x27c511(0x135)));}}if(_0x41a79b===_0x27c511(0x637)){this[_0x27c511(0x421)]['warn'](this['instanceName']+'\x20('+this[_0x27c511(0x479)][_0x27c511(0x661)]+_0x27c511(0x32f)+this['client'][_0x27c511(0x31d)][_0x27c511(0x6a3)]?.[_0x27c511(0x345)]),this[_0x27c511(0x483)][_0x27c511(0x31d)][_0x27c511(0x6a3)]?.[_0x27c511(0x345)]||(this[_0x27c511(0x421)][_0x27c511(0x536)](this['instanceName']+'\x20('+this[_0x27c511(0x479)][_0x27c511(0x661)]+'):\x20ev.flush\x20realizado'),this[_0x27c511(0x483)]['ev'][_0x27c511(0x677)]()),this['resetReconnectionVariables'],this[_0x27c511(0x479)][_0x27c511(0x661)]=this[_0x27c511(0x483)][_0x27c511(0x82a)]['id']['replace'](/:\d+/,'')[_0x27c511(0x4f4)](_0x27c511(0x1e4),''),this['instance']['profilePictureUrl']=(await this[_0x27c511(0x14b)](this['instance'][_0x27c511(0x661)]+_0x27c511(0x1e4)))[_0x27c511(0x776)],this[_0x27c511(0x1d5)]['auth']['create']({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this['instance']['name']);let _0x16bb12=_0x27c511(0x36e)+this[_0x27c511(0x479)][_0x27c511(0x661)],_0x5aef22=0x28,_0x391c7e=Math[_0x27c511(0x23f)]((_0x5aef22-_0x16bb12[_0x27c511(0x21c)])/0x2),_0x4d1929='\x20'[_0x27c511(0x1b5)](_0x391c7e),_0x37d608='CONECTADO\x20À\x20UAZAPI',_0x2aaae7=_0x27c511(0x2e1)+this['instance'][_0x27c511(0x217)],_0x3fd25d=(''+_0x4d1929+_0x16bb12+_0x4d1929)[_0x27c511(0x1f3)](_0x5aef22,'\x20'),_0x3dd1f4=(''+_0x4d1929+_0x37d608+_0x4d1929)['padEnd'](_0x5aef22,'\x20'),_0x30033a=(''+_0x4d1929+_0x2aaae7+_0x4d1929)[_0x27c511(0x1f3)](_0x5aef22,'\x20'),_0x1a3ab3=Math[_0x27c511(0x3da)](_0x3fd25d[_0x27c511(0x21c)],_0x3dd1f4[_0x27c511(0x21c)],_0x30033a[_0x27c511(0x21c)]),_0x452158=_0x3fd25d[_0x27c511(0x1f3)](_0x1a3ab3,'\x20'),_0x599b31=_0x3dd1f4['padEnd'](_0x1a3ab3,'\x20'),_0x8bb707=_0x30033a[_0x27c511(0x1f3)](_0x1a3ab3,'\x20');this['logger'][_0x27c511(0x7d7)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x27c511(0x1b5)](_0x1a3ab3)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x599b31+_0x27c511(0x467)+_0x8bb707+_0x27c511(0x467)+_0x452158+_0x27c511(0x110)+'─'['repeat'](_0x1a3ab3)+'┘')[_0x27c511(0x4f4)](/^ +/gm,'\x20\x20')),this[_0x27c511(0x456)](),this[_0x27c511(0x479)][_0x27c511(0x76f)][_0x27c511(0x45d)]=!0x0;}}[a0_0x20fba6(0x666)](){const _0x398aba=a0_0x20fba6;this[_0x398aba(0x121)]=0x0,this[_0x398aba(0x767)]=[];}async['getMessage'](_0x3af6a4,_0x1071bd=!0x1){const _0x2e8512=a0_0x20fba6;try{let _0x142de0=await this[_0x2e8512(0x1d5)]['message']['find']({'where':{'_id':_0x3af6a4['id']}},this['instance']['wuid']);return _0x1071bd?_0x142de0[0x0]:_0x142de0[0x0][_0x2e8512(0x34b)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x861139=a0_0x20fba6;let _0x414184=this[_0x861139(0x4e8)]['get']('STORE'),_0x3ccb99=this[_0x861139(0x4e8)][_0x861139(0x6b2)](_0x861139(0x578));_0x414184?.[_0x861139(0x55a)]&&!_0x3ccb99[_0x861139(0x42c)]&&setInterval(()=>{const _0x1a3016=_0x861139;try{for(let [_0x33fe81,_0x12151f]of Object['entries'](_0x414184))_0x12151f===!0x0&&(0x0,Fe['execSync'])(_0x1a3016(0x282)+(0x0,U[_0x1a3016(0x7ae)])(this[_0x1a3016(0x4fc)],_0x33fe81[_0x1a3016(0x500)](),this['instance'][_0x1a3016(0x661)])+_0x1a3016(0x6c2));}catch{}},(_0x414184?.[_0x861139(0x55a)]??0xe10)*0x3e8);}async[a0_0x20fba6(0x4af)](){const _0x301a5d=a0_0x20fba6;let _0x1a76df=this['configService']['get']('DATABASE'),_0xc55041=this[_0x301a5d(0x4e8)]['get'](_0x301a5d(0x712));return _0xc55041?.['ENABLED']?await Ts(_0xc55041,this[_0x301a5d(0x479)][_0x301a5d(0x217)]):_0x1a76df[_0x301a5d(0x42c)]?await Is(this[_0x301a5d(0x479)][_0x301a5d(0x217)]):await(0x0,w[_0x301a5d(0x3a2)])((0x0,U[_0x301a5d(0x7ae)])(be,this['instance'][_0x301a5d(0x217)]));}async[a0_0x20fba6(0x456)](){const _0x56dcb5=a0_0x20fba6;let _0x58fcb7=()=>Math[_0x56dcb5(0x23f)](Math[_0x56dcb5(0x86d)]()*0x4e21)+0x7d0,_0x5b1bca=async()=>{const _0x596c5e=_0x56dcb5;if(!this['instance'][_0x596c5e(0x76f)][_0x596c5e(0x45d)]){this['logger']['verbose'](this[_0x596c5e(0x1b4)]+'\x20('+this['instance'][_0x596c5e(0x661)]+_0x596c5e(0x2ff)),this['isRunning']=!0x1;return;}if(this['instance']['wuid']&&this['AutomateSystem']&&this['instance'][_0x596c5e(0x76f)][_0x596c5e(0x355)]!==null&&this[_0x596c5e(0x479)][_0x596c5e(0x76f)][_0x596c5e(0x355)]!==void 0x0){let _0x4acdac=Math[_0x596c5e(0x242)](this[_0x596c5e(0x479)][_0x596c5e(0x76f)][_0x596c5e(0x355)]/0xea60);this[_0x596c5e(0x421)][_0x596c5e(0x76b)](this[_0x596c5e(0x1b4)]+'\x20('+this[_0x596c5e(0x479)][_0x596c5e(0x661)]+_0x596c5e(0x68d)+_0x4acdac+_0x596c5e(0x37d)),this[_0x596c5e(0x448)]=!0x1;return;}else this[_0x596c5e(0x479)][_0x596c5e(0x661)]&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x596c5e(0x479)][_0x596c5e(0x661)]+_0x596c5e(0x15f)),this[_0x596c5e(0x52f)]||(await this[_0x596c5e(0x77e)](),this[_0x596c5e(0x743)](),this['synchronizeAndMapFlows']()),(this[_0x596c5e(0x479)][_0x596c5e(0x76f)]['delayMessage']===null||this[_0x596c5e(0x479)][_0x596c5e(0x76f)][_0x596c5e(0x355)]===void 0x0)&&await this[_0x596c5e(0x42b)]());if(this['isRunning']){let _0x245b44=_0x58fcb7();this[_0x596c5e(0x421)][_0x596c5e(0x76b)](this[_0x596c5e(0x1b4)]+_0x596c5e(0x669)+_0x245b44/0x3e8+_0x596c5e(0x618)),setTimeout(_0x5b1bca,_0x245b44);}};if(this['isRunning'])return;this[_0x56dcb5(0x448)]=!0x0;let _0x52d8e4=_0x58fcb7();setTimeout(_0x5b1bca,_0x52d8e4);}async['synchronizeAndMapFlows'](){const _0x4becf0=a0_0x20fba6;let _0x41a0c0=this[_0x4becf0(0x479)][_0x4becf0(0x661)];try{let _0x59ea6a=await this[_0x4becf0(0x1d5)][_0x4becf0(0x233)][_0x4becf0(0x423)]({'where':{'$or':[{'owner':_0x41a0c0},{'whoCanUse':{'$in':[_0x41a0c0]}},{'shareOwners':{'$in':[_0x41a0c0]}}]}}),_0x2ab910=new Map(this[_0x4becf0(0x52f)][_0x4becf0(0x344)]['map'](_0x4f0c75=>[_0x4f0c75[_0x4becf0(0x2a0)],_0x4f0c75])),_0x475687=_0x59ea6a[_0x4becf0(0x5a9)](_0x2de565=>{const _0x2d3749=_0x4becf0;let _0xa16e6c=_0x2ab910[_0x2d3749(0x6b2)](_0x2de565[_0x2d3749(0x2a0)]?.[_0x2d3749(0x176)]());return{'_id':_0x2de565[_0x2d3749(0x2a0)]?.[_0x2d3749(0x176)](),'name':_0xa16e6c?.[_0x2d3749(0x217)]??_0x2de565[_0x2d3749(0x217)],'default':_0xa16e6c?.[_0x2d3749(0x269)]??_0x2de565[_0x2d3749(0x269)]??!0x1,'startCommand':_0xa16e6c?.[_0x2d3749(0x453)]??_0x2de565['startCommandWord'],'minutesToClose':_0xa16e6c?.[_0x2d3749(0x2f5)]??_0x2de565[_0x2d3749(0x2f5)]??0xa,'readMessages':_0xa16e6c?.[_0x2d3749(0x39a)]??_0x2de565[_0x2d3749(0x39a)]??!0x1,'testingWith':_0xa16e6c?.[_0x2d3749(0x59d)]??_0x2de565[_0x2d3749(0x59d)],'canEdit':_0x2de565[_0x2d3749(0x565)]===_0x41a0c0||(_0x2de565['whoCanEdit']??[])['includes'](_0x41a0c0),'usersCount':(_0x2de565['shareOwners']??[])[_0x2d3749(0x21c)]??0x0};}),_0x43327f=!0x1;_0x475687['forEach'](_0x44f43c=>{const _0x33296d=_0x4becf0;_0x44f43c[_0x33296d(0x269)]&&(_0x43327f?_0x44f43c[_0x33296d(0x269)]=!0x1:_0x43327f=!0x0);}),this[_0x4becf0(0x52f)]['flows']=_0x475687;let _0x16eec8={'flows':_0x475687};return await this[_0x4becf0(0x1d5)][_0x4becf0(0x131)][_0x4becf0(0x589)](_0x16eec8,_0x41a0c0),this[_0x4becf0(0x421)]['verbose'](this[_0x4becf0(0x1b4)]+'\x20('+_0x41a0c0+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x475687[_0x4becf0(0x21c)];}catch(_0x399a27){return this[_0x4becf0(0x421)][_0x4becf0(0x3b7)](this[_0x4becf0(0x1b4)]+'\x20('+_0x41a0c0+_0x4becf0(0x2a5)+(_0x399a27 instanceof Error?_0x399a27['message']:JSON[_0x4becf0(0x27a)](_0x399a27,null,0x2))),{'message':_0x4becf0(0x547)+(_0x399a27 instanceof Error?_0x399a27[_0x4becf0(0x34b)]:JSON[_0x4becf0(0x27a)](_0x399a27,null,0x2))};}}async[a0_0x20fba6(0x214)](_0x21c535){const _0x337b18=a0_0x20fba6;try{let _0x409b66=await this[_0x337b18(0x1d5)][_0x337b18(0x479)][_0x337b18(0x79e)]({'where':{'_id':W+'-'+this[_0x337b18(0x1b4)]}}),_0x1ba9f3,_0x5e0274=!ae[_0x337b18(0x329)]||!ae['networkInterface'];console[_0x337b18(0x324)](_0x337b18(0x58d)),console['log'](_0x337b18(0x142),Ri),console['log'](_0x337b18(0x431),this[_0x337b18(0x121)]),console[_0x337b18(0x324)](_0x337b18(0x58d)),Ri&&!_0x5e0274&&(this['reconnectAttempts']<0x4||!this[_0x337b18(0x121)]?_0x409b66&&_0x409b66['ip']?(_0x1ba9f3=_0x409b66['ip'],console[_0x337b18(0x324)](_0x337b18(0x228)+_0x1ba9f3)):(_0x1ba9f3=await ae[_0x337b18(0x195)](W,this['instance'][_0x337b18(0x217)]),_0x1ba9f3?(console['log']('Novo\x20IP\x20criado:\x20'+_0x1ba9f3),await(0x0,w['delay'])(0x7d0)):console[_0x337b18(0x3b7)](_0x337b18(0x53f))):this[_0x337b18(0x121)]<0x6&&(await ae['removeIPv6ById'](W,this[_0x337b18(0x479)][_0x337b18(0x217)]),console['log']('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x1ba9f3=await ae['createIPv6'](W,this['instance']['name']),_0x1ba9f3?(console[_0x337b18(0x324)](_0x337b18(0x204)+_0x1ba9f3),await(0x0,w[_0x337b18(0x4c8)])(0x7d0)):console['error'](_0x337b18(0x4bd)))),this[_0x337b18(0x5f7)](),this[_0x337b18(0x479)][_0x337b18(0x81c)]=(await this[_0x337b18(0x1d5)][_0x337b18(0x52b)][_0x337b18(0x568)](this[_0x337b18(0x479)][_0x337b18(0x217)]))[_0x337b18(0x81c)],this['instance']['authState']=await this[_0x337b18(0x4af)]();let {version:_0x1c251b}=await(0x0,w[_0x337b18(0x7de)])(),_0x1c1d42=[_i,ks,(0x0,xs[_0x337b18(0x2cc)])()],_0x51e85={'localAddress':_0x1ba9f3,'auth':{'creds':this['instance'][_0x337b18(0x31d)]['state'][_0x337b18(0x6a3)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x337b18(0x479)][_0x337b18(0x31d)][_0x337b18(0x6f8)][_0x337b18(0x1c7)],(0x0,Ut[_0x337b18(0x269)])({'level':_0x337b18(0x3b7)}))},'logger':(0x0,Ut['default'])({'level':_0x337b18(0x3b7)}),'printQRInTerminal':!0x1,'browser':_0x21c535?['Mac\x20OS',ks,(0x0,xs[_0x337b18(0x2cc)])()]:_0x1c1d42,'version':_0x1c251b,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x5088d6=>{const _0x4b9b91=_0x337b18;let _0x2a7d34=this[_0x4b9b91(0x410)]?.[_0x4b9b91(0x770)]&&(0x0,w['isJidGroup'])(_0x5088d6);return(0x0,w[_0x4b9b91(0x3a5)])(_0x5088d6)||_0x2a7d34;},'msgRetryCounterCache':this[_0x337b18(0x630)],'getMessage':async _0x44946d=>await this[_0x337b18(0x615)](_0x44946d),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x337b18(0x6a8)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x3b2581){const _0x51664d=_0x337b18;return _0x3b2581[_0x51664d(0x51a)]?.[_0x51664d(0x34b)]?.[_0x51664d(0x461)]?.[_0x51664d(0x3f9)]===w[_0x51664d(0x82f)]['Message'][_0x51664d(0x830)][_0x51664d(0x19f)][_0x51664d(0x5f6)]&&(_0x3b2581=JSON[_0x51664d(0x321)](JSON[_0x51664d(0x27a)](_0x3b2581)),_0x3b2581[_0x51664d(0x51a)][_0x51664d(0x34b)][_0x51664d(0x461)][_0x51664d(0x3f9)]=w['proto'][_0x51664d(0x23e)]['ListMessage'][_0x51664d(0x19f)][_0x51664d(0x66d)]),_0x3b2581[_0x51664d(0x461)]?.['listType']==w[_0x51664d(0x82f)]['Message'][_0x51664d(0x830)]['ListType']['PRODUCT_LIST']&&(_0x3b2581=JSON[_0x51664d(0x321)](JSON[_0x51664d(0x27a)](_0x3b2581)),_0x3b2581[_0x51664d(0x461)][_0x51664d(0x3f9)]=w['proto']['Message'][_0x51664d(0x830)][_0x51664d(0x19f)][_0x51664d(0x66d)]),_0x3b2581;}};return this['endSession']=!0x1,this['client']=(0x0,w['default'])(_0x51e85),this[_0x337b18(0x70b)](),this['phoneNumber']=_0x21c535,this[_0x337b18(0x483)];}catch(_0x475b68){let _0x815a2a=_0x337b18(0x1d2),_0x5f06fc=_0x475b68 instanceof Error?_0x475b68[_0x337b18(0x34b)]:typeof _0x475b68=='object'?JSON[_0x337b18(0x27a)](_0x475b68):_0x475b68,_0x78c96d=_0x815a2a+':\x20'+_0x5f06fc;throw this[_0x337b18(0x421)][_0x337b18(0x3b7)](this['instanceName']+'\x20('+this[_0x337b18(0x479)][_0x337b18(0x661)]+_0x337b18(0x54d)+_0x78c96d),console['error']('Detalhes\x20do\x20erro:',_0x475b68),_0x475b68 instanceof Error&&console[_0x337b18(0x3b7)](_0x337b18(0x430),_0x475b68[_0x337b18(0x163)]),new x(_0x78c96d);}}[a0_0x20fba6(0x70b)](){this['client']['ev']['process'](_0x1acb85=>{const _0x5a1d8d=a0_0x2eae;if(!this[_0x5a1d8d(0x33b)]){let _0x156b15=this[_0x5a1d8d(0x4e8)][_0x5a1d8d(0x6b2)]('DATABASE');if(_0x1acb85[_0x5a1d8d(0x3fb)]){let _0xf3a89a=_0x1acb85[_0x5a1d8d(0x3fb)];this[_0x5a1d8d(0x309)][_0x5a1d8d(0x3fb)](_0xf3a89a);}if(_0x1acb85[_0x5a1d8d(0x45e)]){let _0x239358=_0x1acb85['labels.association'];this[_0x5a1d8d(0x309)][_0x5a1d8d(0x45e)](_0x239358);}if(_0x1acb85[_0x5a1d8d(0x3aa)]&&this[_0x5a1d8d(0x68b)](_0x1acb85[_0x5a1d8d(0x3aa)]),_0x1acb85[_0x5a1d8d(0x545)]&&this[_0x5a1d8d(0x479)][_0x5a1d8d(0x31d)]['saveCreds'](),_0x1acb85[_0x5a1d8d(0x22d)]){let _0x524b98=_0x1acb85[_0x5a1d8d(0x22d)];this['messageHandle'][_0x5a1d8d(0x22d)](_0x524b98,_0x156b15);}if(_0x1acb85['messages.upsert']){let _0x50c59d=_0x1acb85['messages.upsert'];this['messageHandle'][_0x5a1d8d(0x303)](_0x50c59d,_0x156b15);}if(_0x1acb85[_0x5a1d8d(0x732)]){let _0x3dae37=_0x1acb85[_0x5a1d8d(0x732)];this[_0x5a1d8d(0x309)][_0x5a1d8d(0x732)](_0x3dae37,_0x156b15);}if(_0x1acb85[_0x5a1d8d(0x790)]){let _0x38260c=_0x1acb85[_0x5a1d8d(0x790)];if(this[_0x5a1d8d(0x410)]?.['groups_ignore']&&_0x38260c['id'][_0x5a1d8d(0x4b0)]('@g.us'))return;this['sendDataWebhook'](_0x5a1d8d(0x790),_0x38260c);}if(_0x1acb85[_0x5a1d8d(0x398)]){let _0x5940bd=_0x1acb85['groups.upsert'];this[_0x5a1d8d(0x2bc)]['groups.upsert'](_0x5940bd);}if(_0x1acb85[_0x5a1d8d(0x313)]){let _0x518e41=_0x1acb85['groups.update'];this[_0x5a1d8d(0x2bc)]['groups.update'](_0x518e41);}if(_0x1acb85[_0x5a1d8d(0x15d)]){let _0x3244bb=_0x1acb85[_0x5a1d8d(0x15d)];this[_0x5a1d8d(0x2bc)][_0x5a1d8d(0x15d)](_0x3244bb);}if(_0x1acb85['chats.upsert']){let _0x242366=_0x1acb85['chats.upsert'];this[_0x5a1d8d(0x4fd)]['chats.upsert'](_0x242366,_0x156b15);}if(_0x1acb85[_0x5a1d8d(0x5b1)]){let _0x30b151=_0x1acb85[_0x5a1d8d(0x5b1)];this['chatHandle'][_0x5a1d8d(0x5b1)](_0x30b151,_0x156b15);}if(_0x1acb85[_0x5a1d8d(0x267)]){let _0x2b5eba=_0x1acb85['chats.delete'];this[_0x5a1d8d(0x4fd)]['chats.delete'](_0x2b5eba);}if(_0x1acb85[_0x5a1d8d(0x58e)]){let _0x6d7eea=_0x1acb85[_0x5a1d8d(0x58e)];this[_0x5a1d8d(0x10a)][_0x5a1d8d(0x58e)](_0x6d7eea,_0x156b15);}if(_0x1acb85[_0x5a1d8d(0x780)]){let _0x4280f9=_0x1acb85[_0x5a1d8d(0x780)];this[_0x5a1d8d(0x10a)][_0x5a1d8d(0x780)](_0x4280f9,_0x156b15);}}});}async[a0_0x20fba6(0x51b)](_0xc9955,_0x180fbd){const _0x287b21=a0_0x20fba6;if(_0x180fbd>=0xa){console[_0x287b21(0x3b7)](this[_0x287b21(0x1b4)]+'\x20('+this[_0x287b21(0x479)][_0x287b21(0x661)]+_0x287b21(0x223)),delete Ft[_0xc9955[_0x287b21(0x249)]['id']];return;}try{console[_0x287b21(0x3b7)](this['instanceName']+'\x20('+this[_0x287b21(0x479)][_0x287b21(0x661)]+_0x287b21(0x2f4)+(_0x180fbd+0x1)),await this[_0x287b21(0x483)]['sendMessageAck'](JSON[_0x287b21(0x321)](_0xc9955[_0x287b21(0x7d2)][0x1],w[_0x287b21(0x5ca)]['reviver'])),console['error'](_0x287b21(0x1d4));}catch(_0x794670){console[_0x287b21(0x3b7)](this[_0x287b21(0x1b4)]+'\x20('+this[_0x287b21(0x479)][_0x287b21(0x661)]+_0x287b21(0x6e0)+_0x794670),setTimeout(()=>this[_0x287b21(0x51b)](_0xc9955,_0x180fbd+0x1),Math[_0x287b21(0x508)](0x2,_0x180fbd)*0x3e8);}}[a0_0x20fba6(0x155)](_0x2e5209){return new Promise(_0x1300f3=>setTimeout(_0x1300f3,_0x2e5209));}['formatBRNumber'](_0x588f4a){const _0x5292d7=a0_0x20fba6;_0x588f4a=_0x588f4a[_0x5292d7(0x4f4)](/\D/g,'');let _0x4c3090=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5292d7(0x6f1)](_0x588f4a);if(_0x4c3090&&_0x4c3090[0x1]==='55'){let _0x314ac5=_0x4c3090[0x2],_0x9f7f18=_0x4c3090[0x3],_0x4ec12f=_0x4c3090[0x4];if(parseInt(_0x314ac5)>=0x1f&&_0x9f7f18==='9')return _0x4c3090[0x1]+_0x314ac5+_0x4ec12f;}return _0x588f4a;}[a0_0x20fba6(0x2c0)](_0x6e1338){const _0x4fc6a1=a0_0x20fba6;return _0x6e1338[_0x4fc6a1(0x4b0)](_0x4fc6a1(0x710))||_0x6e1338[_0x4fc6a1(0x4b0)](_0x4fc6a1(0x1e4))||_0x6e1338['includes']('@broadcast')?_0x6e1338:(_0x6e1338=_0x6e1338?.[_0x4fc6a1(0x4f4)](/\s/g,'')[_0x4fc6a1(0x4f4)](/\+/g,'')[_0x4fc6a1(0x4f4)](/\(/g,'')['replace'](/\)/g,'')[_0x4fc6a1(0x2fc)](/\:/)[0x0][_0x4fc6a1(0x2fc)]('@')[0x0],_0x6e1338[_0x4fc6a1(0x21c)]>=0x12?(_0x6e1338=_0x6e1338[_0x4fc6a1(0x4f4)](/[^\d-]/g,''),_0x6e1338+'@g.us'):(_0x6e1338=_0x6e1338[_0x4fc6a1(0x4f4)](/\D/g,''),_0x6e1338+_0x4fc6a1(0x1e4)));}async[a0_0x20fba6(0x517)](_0x29e2ff){const _0x192b8b=a0_0x20fba6;let _0x50676d=(await this[_0x192b8b(0x43c)]({'numbers':[_0x29e2ff[_0x192b8b(0x63d)]]}))[0x0];if(!_0x50676d[_0x192b8b(0x478)]&&!(0x0,w[_0x192b8b(0x6d6)])(_0x50676d[_0x192b8b(0x4b4)])&&!_0x50676d[_0x192b8b(0x4b4)][_0x192b8b(0x4b0)](_0x192b8b(0x520)))throw new m(_0x50676d);let _0x2467d4=_0x50676d[_0x192b8b(0x4b4)];try{return await this[_0x192b8b(0x483)][_0x192b8b(0x67c)](_0x2467d4),await this[_0x192b8b(0x483)][_0x192b8b(0x784)](_0x29e2ff[_0x192b8b(0x3c7)],_0x2467d4),{'status':0xc8,'presence':_0x29e2ff['presence']};}catch(_0x73cbb){let _0x56c81d=_0x192b8b(0x14e),_0x18912a=_0x73cbb instanceof Error?_0x73cbb['message']:typeof _0x73cbb==_0x192b8b(0x6ff)?JSON['stringify'](_0x73cbb):_0x73cbb,_0x3dcae8=_0x56c81d+':\x20'+_0x18912a;throw this['logger'][_0x192b8b(0x3b7)](this[_0x192b8b(0x1b4)]+'\x20('+this[_0x192b8b(0x479)][_0x192b8b(0x661)]+_0x192b8b(0x54d)+_0x3dcae8),new m(_0x3dcae8);}}async[a0_0x20fba6(0x47e)](_0x96c0dd,_0x960ceb,_0x5b3f93,_0x3e16a2=!0x0){const _0x32fe22=a0_0x20fba6;let _0x5de1d0=await this['repository']['cacheContact']['findOne']({'where':{'_id':_0x96c0dd}});if(!_0x5de1d0&&!_0x3e16a2)return;let _0x6c5ded={'lastUpdate':Date[_0x32fe22(0x1a6)]()};if(_0x5b3f93||!_0x5de1d0?.[_0x32fe22(0x676)]||Date[_0x32fe22(0x1a6)]()-_0x5de1d0['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x32d8bd=(await this['profilePicture'](_0x96c0dd))[_0x32fe22(0x776)];_0x6c5ded[_0x32fe22(0x75a)]=_0x32d8bd;}catch(_0x2476b0){let _0x4df990=_0x32fe22(0x134),_0x2cb345=_0x2476b0 instanceof Error?_0x2476b0[_0x32fe22(0x34b)]:typeof _0x2476b0==_0x32fe22(0x6ff)?JSON['stringify'](_0x2476b0):_0x2476b0,_0x30ba80=_0x4df990+':\x20'+_0x2cb345;throw this[_0x32fe22(0x421)][_0x32fe22(0x3b7)](this[_0x32fe22(0x1b4)]+'\x20('+this['instance'][_0x32fe22(0x661)]+_0x32fe22(0x54d)+_0x30ba80),new m(_0x30ba80);}return _0x960ceb&&_0x5de1d0?.[_0x32fe22(0x217)]!==_0x960ceb&&(_0x6c5ded[_0x32fe22(0x217)]=_0x960ceb),Object['keys'](_0x6c5ded)[_0x32fe22(0x21c)]>0x1&&(_0x5de1d0?await this[_0x32fe22(0x1d5)][_0x32fe22(0x6ec)][_0x32fe22(0x589)]({'where':{'_id':_0x96c0dd}},_0x6c5ded):await this[_0x32fe22(0x1d5)][_0x32fe22(0x6ec)]['insert']([{'_id':_0x96c0dd,..._0x6c5ded}]),_0x5de1d0={..._0x5de1d0,..._0x6c5ded}),{'cachedContact':_0x5de1d0};}async[a0_0x20fba6(0x14b)](_0x6e063e){const _0x4160e3=a0_0x20fba6;let _0x5e05f0=this[_0x4160e3(0x2c0)](_0x6e063e);try{return{'wuid':_0x5e05f0,'profilePictureUrl':await this[_0x4160e3(0x483)][_0x4160e3(0x776)](_0x5e05f0,_0x4160e3(0x73b))};}catch{return{'wuid':_0x5e05f0,'profilePictureUrl':null};}}async[a0_0x20fba6(0x44d)](_0x2a98ff,_0x5a7286,_0xd2606a){const _0x2730e5=a0_0x20fba6;let _0x19a317;try{let _0x161505=(await this[_0x2730e5(0x43c)]({'numbers':[_0x2a98ff]}))?.[_0x2730e5(0x128)]();if(!_0x161505[_0x2730e5(0x478)]&&!(0x0,w[_0x2730e5(0x6d6)])(_0x161505[_0x2730e5(0x4b4)])&&!_0x161505[_0x2730e5(0x4b4)][_0x2730e5(0x4b0)](_0x2730e5(0x520)))throw new m(_0x161505);_0x19a317=_0x161505['jid'];}catch(_0x3a7ea7){_0x19a317=_0x2a98ff,this[_0x2730e5(0x421)][_0x2730e5(0x536)](this[_0x2730e5(0x1b4)]+'\x20('+this['instance'][_0x2730e5(0x661)]+_0x2730e5(0x6fc)+_0x3a7ea7[_0x2730e5(0x34b)]),this[_0x2730e5(0x421)]['warn'](this[_0x2730e5(0x1b4)]+'\x20('+this['instance']['wuid']+'):\x20sender\x20=\x20number:\x20'+_0x19a317);}try{if(_0x19a317||(_0x19a317=_0x2a98ff,this['logger'][_0x2730e5(0x536)](this[_0x2730e5(0x1b4)]+'\x20('+this[_0x2730e5(0x479)]['wuid']+_0x2730e5(0x4e7)+_0x19a317)),_0xd2606a||(_0xd2606a={}),_0xd2606a?.[_0x2730e5(0x4c8)]){await this[_0x2730e5(0x483)][_0x2730e5(0x67c)](_0x19a317),await this['client'][_0x2730e5(0x784)](_0xd2606a?.[_0x2730e5(0x3c7)]??_0x2730e5(0x77b),_0x19a317);let _0x38281f=Math[_0x2730e5(0x1a3)](_0xd2606a[_0x2730e5(0x4c8)],0x2710);await(0x0,w['delay'])(_0x38281f),await this[_0x2730e5(0x483)][_0x2730e5(0x784)](_0x2730e5(0x17c),_0x19a317);}let _0x5641da=_0xd2606a?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x49cbb1;if(_0xd2606a?.['quoted']){let _0x3882eb=_0xd2606a?.[_0x2730e5(0x42e)],_0x6d8723=_0x3882eb?.[_0x2730e5(0x34b)]?_0x3882eb:await this['getMessage'](_0x3882eb['key'],!0x0);_0x6d8723&&(_0x49cbb1=_0x6d8723);}let _0x325416=await this[_0x2730e5(0x1d5)][_0x2730e5(0x4a4)][_0x2730e5(0x79e)]({'where':{'_id':_0x19a317}},this[_0x2730e5(0x479)][_0x2730e5(0x661)]),_0x381c2d,_0x355377=null;if((0x0,w[_0x2730e5(0x6d6)])(_0x19a317))try{if(_0x355377=_0x325416[_0x2730e5(0x2a8)],!_0x355377)throw new j(_0x2730e5(0x2ad));_0xd2606a?.[_0x2730e5(0x50a)]&&(_0xd2606a['mentions']?.[_0x2730e5(0x5f9)]?_0x381c2d=_0x355377[_0x2730e5(0x261)][_0x2730e5(0x5a9)](_0x1e4b6e=>_0x1e4b6e['id']):_0xd2606a[_0x2730e5(0x50a)]?.[_0x2730e5(0x859)]?.[_0x2730e5(0x21c)]&&(_0x381c2d=_0xd2606a[_0x2730e5(0x50a)]['mentioned'][_0x2730e5(0x5a9)](_0x519122=>{let _0x104f88=this['createJid'](_0x519122);return(0x0,w['isJidGroup'])(_0x104f88)?null:_0x104f88;})));}catch{throw new j(_0x2730e5(0x2ad));}let _0x752e61=await((async()=>{const _0x8549a2=_0x2730e5;let _0x26f688={'quoted':_0x49cbb1,'ephemeralExpiration':_0x325416?.[_0x8549a2(0x2d2)]??0x0,'messageId':_0x8549a2(0x7bb)+(0x0,Ne[_0x8549a2(0x634)])(0x12)[_0x8549a2(0x176)](_0x8549a2(0x33f))[_0x8549a2(0x1fe)]()};if(!_0x5a7286[_0x8549a2(0x23b)]&&!_0x5a7286[_0x8549a2(0x680)]&&!_0x5a7286['sticker']&&!_0x5a7286[_0x8549a2(0x3c8)]&&_0x19a317!==_0x8549a2(0x394)&&_0x5a7286[_0x8549a2(0x20d)])return await this[_0x8549a2(0x483)][_0x8549a2(0x247)](_0x19a317,{'react':{'text':_0x5a7286['reactionMessage']['text'],'key':_0x5a7286['reactionMessage'][_0x8549a2(0x249)]}},_0x26f688);if(_0x5a7286[_0x8549a2(0x3c8)]){let _0x5061a9=_0x5a7286[_0x8549a2(0x3c8)];return _0xd2606a?.[_0x8549a2(0x6b8)]&&(_0x5061a9=await this[_0x8549a2(0x768)](_0x5061a9,_0x19a317)),await this[_0x8549a2(0x483)][_0x8549a2(0x247)](_0x19a317,{'text':_0x5061a9,'mentions':_0x381c2d,'linkPreview':_0x5641da},_0x26f688);}return!_0x5a7286[_0x8549a2(0x23b)]&&!_0x5a7286[_0x8549a2(0x680)]&&_0x19a317!=_0x8549a2(0x394)?await this[_0x8549a2(0x483)][_0x8549a2(0x247)](_0x19a317,{'forward':{'key':{'remoteJid':this[_0x8549a2(0x479)][_0x8549a2(0x661)],'fromMe':!0x0},'message':_0x5a7286},'mentions':_0x381c2d},_0x26f688):_0x19a317===_0x8549a2(0x394)?await this['client'][_0x8549a2(0x247)](_0x19a317,_0x5a7286['status'][_0x8549a2(0x49f)],{'backgroundColor':_0x5a7286[_0x8549a2(0x59e)][_0x8549a2(0x4b5)]['backgroundColor'],'font':_0x5a7286['status']['option'][_0x8549a2(0x47f)],'statusJidList':_0x5a7286['status']['option'][_0x8549a2(0x16a)]}):await this[_0x8549a2(0x483)]['sendMessage'](_0x19a317,_0x5a7286,_0x26f688);})()),_0x50e337=(0x0,w[_0x2730e5(0x3b3)])(_0x752e61[_0x2730e5(0x34b)]),_0x1ab1a2=(0x0,w['getContentType'])(_0x50e337),{message_normalized:_0xd347ed}=this[_0x2730e5(0x353)](_0x50e337,_0x1ab1a2,null),_0x2b221f={'_id':_0x752e61[_0x2730e5(0x249)]['id'],'key':_0x752e61['key'],'pushName':_0x752e61[_0x2730e5(0x41b)],'isGroup':_0x752e61[_0x2730e5(0x249)]['remoteJid'][_0x2730e5(0x2cb)](_0x2730e5(0x710)),'profilePictureUrl':this[_0x2730e5(0x479)][_0x2730e5(0x776)],'message':_0x50e337,'messageType':_0x1ab1a2,'message_normalized':{'key':_0x752e61[_0x2730e5(0x249)],'pushName':_0x752e61[_0x2730e5(0x41b)],'messageTimestamp':_0x752e61['messageTimestamp']&&_0x752e61[_0x2730e5(0x81b)]['toString']()[_0x2730e5(0x21c)]<0xd?_0x752e61[_0x2730e5(0x81b)]*0x3e8:_0x752e61['messageTimestamp']||null,'source':(0x0,w[_0x2730e5(0x4ff)])(_0x752e61[_0x2730e5(0x249)]['id']),..._0xd347ed},'messageTimestamp':_0x752e61['messageTimestamp']&&_0x752e61[_0x2730e5(0x81b)][_0x2730e5(0x176)]()[_0x2730e5(0x21c)]<0xd?_0x752e61[_0x2730e5(0x81b)]*0x3e8:_0x752e61['messageTimestamp']||null,'owner':this['instance'][_0x2730e5(0x661)],'source':(0x0,w['getDevice'])(_0x752e61['key']['id'])};return this['logger'][_0x2730e5(0x536)](this[_0x2730e5(0x1b4)]+'\x20('+this[_0x2730e5(0x479)][_0x2730e5(0x661)]+_0x2730e5(0x6d2)+_0x2b221f[_0x2730e5(0x249)]?.[_0x2730e5(0x5bc)][_0x2730e5(0x4f4)]('@s.whatsapp.net','')+']\x20('+_0x2b221f['messageType']+')'),_0x2b221f[_0x2730e5(0x2b5)]?.['text']&&this[_0x2730e5(0x421)][_0x2730e5(0x536)](_0x2b221f[_0x2730e5(0x2b5)]?.['text']),this['sendDataWebhook'](_0x2730e5(0x30f),_0x2b221f),J(this[_0x2730e5(0x1b4)],_0x2730e5(0x7e5),{'message':_0x2b221f}),this[_0x2730e5(0x288)](this[_0x2730e5(0x4e8)][_0x2730e5(0x6b2)](_0x2730e5(0x578)),_0x2b221f,'SEND_MESSAGE',_0x325416),await this['repository'][_0x2730e5(0x34b)]['insert']([_0x2b221f],this['instance'][_0x2730e5(0x661)]),_0x752e61;}catch(_0x1add72){let _0x501aeb=_0x2730e5(0x777)+_0x19a317,_0x57fec9=_0x1add72 instanceof Error?_0x1add72['message']:typeof _0x1add72=='object'?JSON['stringify'](_0x1add72):_0x1add72,_0x3838c2=_0x501aeb+':\x20'+_0x57fec9;throw this['logger'][_0x2730e5(0x3b7)](this[_0x2730e5(0x1b4)]+'\x20('+this[_0x2730e5(0x479)][_0x2730e5(0x661)]+'):\x20'+_0x3838c2),new m(_0x3838c2);}}get[a0_0x20fba6(0x7f4)](){const _0x35b0d6=a0_0x20fba6;return this[_0x35b0d6(0x792)];}async[a0_0x20fba6(0x374)](_0x35a468){const _0x44fa77=a0_0x20fba6;return await this[_0x44fa77(0x44d)](_0x35a468[_0x44fa77(0x63d)],{'conversation':_0x35a468['textMessage'][_0x44fa77(0x339)]},_0x35a468?.['options']);}async[a0_0x20fba6(0x24e)](_0x1e1c6b){const _0x504336=a0_0x20fba6;if(!_0x1e1c6b[_0x504336(0x7da)])throw new m(_0x504336(0x5b5));if(!_0x1e1c6b['content'])throw new m('Content\x20is\x20required');if(_0x1e1c6b[_0x504336(0x67a)]){let _0x2232bf=await this['repository'][_0x504336(0x5d7)]['find']({'where':{}},this[_0x504336(0x479)][_0x504336(0x661)]);if(!_0x2232bf[_0x504336(0x21c)])throw new m('Contacts\x20not\x20found');_0x1e1c6b[_0x504336(0x16a)]=_0x2232bf['filter'](_0x3c542c=>_0x3c542c['pushName'])['map'](_0x5c102a=>_0x5c102a[_0x504336(0x2a0)]);}if(!_0x1e1c6b['statusJidList']?.[_0x504336(0x21c)]&&!_0x1e1c6b[_0x504336(0x67a)])throw new m('StatusJidList\x20is\x20required');if(_0x1e1c6b[_0x504336(0x7da)]===_0x504336(0x339)){if(!_0x1e1c6b['backgroundColor'])throw new m(_0x504336(0x376));if(!_0x1e1c6b[_0x504336(0x47f)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x1e1c6b[_0x504336(0x49f)]},'option':{'backgroundColor':_0x1e1c6b[_0x504336(0x53a)],'font':_0x1e1c6b['font'],'statusJidList':_0x1e1c6b[_0x504336(0x16a)]}};}if(_0x1e1c6b[_0x504336(0x7da)]==='image')return{'content':{'image':{'url':_0x1e1c6b['content']},'caption':_0x1e1c6b[_0x504336(0x1db)]},'option':{'statusJidList':_0x1e1c6b[_0x504336(0x16a)]}};if(_0x1e1c6b['type']===_0x504336(0x78d))return{'content':{'video':{'url':_0x1e1c6b[_0x504336(0x49f)]},'caption':_0x1e1c6b['caption']},'option':{'statusJidList':_0x1e1c6b[_0x504336(0x16a)]}};if(_0x1e1c6b[_0x504336(0x7da)]===_0x504336(0x23b)){this[_0x504336(0x421)][_0x504336(0x76b)](this[_0x504336(0x1b4)]+'\x20('+this[_0x504336(0x479)]['wuid']+'):Type\x20defined\x20as\x20audio'),this[_0x504336(0x421)]['verbose'](this['instanceName']+'\x20('+this[_0x504336(0x479)][_0x504336(0x661)]+_0x504336(0x190));let _0x3febbf=await this[_0x504336(0x38c)](_0x1e1c6b[_0x504336(0x49f)]);if(typeof _0x3febbf=='string'){this[_0x504336(0x421)][_0x504336(0x76b)](this[_0x504336(0x1b4)]+'\x20('+this[_0x504336(0x479)][_0x504336(0x661)]+_0x504336(0x7f9));let _0x421993=L[_0x504336(0x1cb)](_0x3febbf)[_0x504336(0x176)](_0x504336(0x697));return{'content':{'audio':Buffer[_0x504336(0x3e5)](_0x421993,_0x504336(0x697)),'ptt':!0x0,'mimetype':_0x504336(0x493)},'option':{'statusJidList':_0x1e1c6b[_0x504336(0x16a)]}};}else throw new x(_0x3febbf);}throw new m(_0x504336(0x3f6));}async[a0_0x20fba6(0x1b8)](_0x252ddc){const _0xe4ae86=a0_0x20fba6;return await this[_0xe4ae86(0x44d)](_0xe4ae86(0x394),{'status':await this[_0xe4ae86(0x24e)](_0x252ddc[_0xe4ae86(0x1b8)])});}async[a0_0x20fba6(0x2c5)](_0x1c66a5){const _0x2549c9=a0_0x20fba6;try{let _0x34ee0f=await(0x0,w[_0x2549c9(0x326)])({[_0x1c66a5['mediatype']]:(0x0,k['isURL'])(_0x1c66a5[_0x2549c9(0x44f)])?{'url':_0x1c66a5[_0x2549c9(0x44f)]}:Buffer[_0x2549c9(0x3e5)](_0x1c66a5['media'],'base64')},{'upload':this[_0x2549c9(0x483)][_0x2549c9(0x5d8)]}),_0x7f951d=_0x1c66a5[_0x2549c9(0x7d1)]+_0x2549c9(0x23e);if(_0x1c66a5[_0x2549c9(0x7d1)]===_0x2549c9(0x4cb)&&!_0x1c66a5['fileName']){let _0x2551b7=new RegExp(/.*\/(.+?)\./)[_0x2549c9(0x6f1)](_0x1c66a5['media']);_0x1c66a5[_0x2549c9(0x65f)]=_0x2551b7?_0x2551b7[0x1]:null;}let _0x8bb647;return(0x0,k[_0x2549c9(0x34d)])(_0x1c66a5[_0x2549c9(0x44f)])?_0x8bb647=(await Y[_0x2549c9(0x269)][_0x2549c9(0x6b2)](_0x1c66a5[_0x2549c9(0x44f)],{'responseType':_0x2549c9(0x683)}))[_0x2549c9(0x499)][_0x2549c9(0x28f)]:_0x8bb647=(0x0,Oi[_0x2549c9(0x612)])(_0x1c66a5[_0x2549c9(0x65f)]),_0x34ee0f[_0x7f951d]['caption']=_0x1c66a5?.['caption'],_0x34ee0f[_0x7f951d][_0x2549c9(0x390)]=_0x8bb647,_0x34ee0f[_0x7f951d][_0x2549c9(0x65f)]=_0x1c66a5[_0x2549c9(0x65f)],_0x1c66a5[_0x2549c9(0x7d1)]===_0x2549c9(0x78d)&&(_0x34ee0f[_0x7f951d][_0x2549c9(0x212)]=Uint8Array[_0x2549c9(0x3e5)]((0x0,Le['readFileSync'])((0x0,U['join'])(process['cwd'](),'video-cover.png'))),_0x34ee0f[_0x7f951d]['gifPlayback']=!0x1),(0x0,w[_0x2549c9(0x79d)])('',{[_0x7f951d]:{..._0x34ee0f[_0x7f951d]}},{'userJid':this[_0x2549c9(0x479)]['wuid']});}catch(_0x4d3248){let _0x3a08d8=_0x2549c9(0x3c6),_0x2d1d58=_0x4d3248 instanceof Error?_0x4d3248[_0x2549c9(0x34b)]:typeof _0x4d3248==_0x2549c9(0x6ff)?JSON[_0x2549c9(0x27a)](_0x4d3248):_0x4d3248,_0x4c7c8f=_0x3a08d8+':\x20'+_0x2d1d58;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2549c9(0x479)][_0x2549c9(0x661)]+'):\x20'+_0x4c7c8f),new x(_0x4c7c8f);}}async[a0_0x20fba6(0x202)](_0x247906){const _0x62a161=a0_0x20fba6;let _0x3532a4=await this['prepareMediaMessage'](_0x247906[_0x62a161(0x202)]);return await this[_0x62a161(0x44d)](_0x247906[_0x62a161(0x63d)],{..._0x3532a4[_0x62a161(0x34b)]},_0x247906?.[_0x62a161(0x5a6)]);}async[a0_0x20fba6(0x84a)](_0x5055eb,_0x3f2e30){const _0x3f5418=a0_0x20fba6;try{this[_0x3f5418(0x421)]['verbose'](this['instanceName']+'\x20('+this[_0x3f5418(0x479)][_0x3f5418(0x661)]+_0x3f5418(0x4b1));let _0x2d5b6f,_0x4c6d71=_0x3f2e30+'-'+new Date()[_0x3f5418(0x336)]();this[_0x3f5418(0x421)][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)][_0x3f5418(0x661)]+'):Hash\x20to\x20image\x20name:\x20'+_0x4c6d71);let _0x3d4412=''+(0x0,U[_0x3f5418(0x7ae)])(this['storePath'],_0x4c6d71+_0x3f5418(0x3f5));if(this[_0x3f5418(0x421)][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this['instance'][_0x3f5418(0x661)]+_0x3f5418(0x359)+_0x3d4412),(0x0,k[_0x3f5418(0x550)])(_0x5055eb)){this['logger'][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)][_0x3f5418(0x661)]+_0x3f5418(0x6fe));let _0x1daa09=_0x5055eb['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x47fde1=Buffer[_0x3f5418(0x3e5)](_0x1daa09,'base64');_0x2d5b6f=''+(0x0,U[_0x3f5418(0x7ae)])(this[_0x3f5418(0x4fc)],_0x3f5418(0x6af)+_0x4c6d71+_0x3f5418(0x6ce)),this[_0x3f5418(0x421)][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)][_0x3f5418(0x661)]+_0x3f5418(0x65c)+_0x2d5b6f),await(0x0,jt[_0x3f5418(0x269)])(_0x47fde1)[_0x3f5418(0x48e)](_0x2d5b6f),this[_0x3f5418(0x421)]['verbose'](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)][_0x3f5418(0x661)]+_0x3f5418(0x1e9));}else{this[_0x3f5418(0x421)][_0x3f5418(0x76b)](this['instanceName']+'\x20('+this['instance'][_0x3f5418(0x661)]+'):Image\x20is\x20url');let _0x225913=new Date()[_0x3f5418(0x336)](),_0x63d45f=_0x5055eb+_0x3f5418(0x48b)+_0x225913;this['logger'][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)][_0x3f5418(0x661)]+_0x3f5418(0x3fe)+_0x63d45f);let _0x43d4fb=await Y['default']['get'](_0x63d45f,{'responseType':_0x3f5418(0x683)});this[_0x3f5418(0x421)][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)][_0x3f5418(0x661)]+_0x3f5418(0x4e3));let _0x266885=Buffer[_0x3f5418(0x3e5)](_0x43d4fb['data'],_0x3f5418(0x659));_0x2d5b6f=''+(0x0,U[_0x3f5418(0x7ae)])(this['storePath'],_0x3f5418(0x6af)+_0x4c6d71+'.png'),this['logger'][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)][_0x3f5418(0x661)]+_0x3f5418(0x65c)+_0x2d5b6f),await(0x0,jt[_0x3f5418(0x269)])(_0x266885)[_0x3f5418(0x48e)](_0x2d5b6f),this['logger'][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)]['wuid']+_0x3f5418(0x1e9));}return await(0x0,jt[_0x3f5418(0x269)])(_0x2d5b6f)['webp']()['toFile'](_0x3d4412),this['logger'][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)]['wuid']+_0x3f5418(0x707)),L['unlinkSync'](_0x2d5b6f),this[_0x3f5418(0x421)][_0x3f5418(0x76b)](this[_0x3f5418(0x1b4)]+'\x20('+this[_0x3f5418(0x479)]['wuid']+_0x3f5418(0x77a)),_0x3d4412;}catch(_0x222634){let _0xe9ec74=_0x3f5418(0x2fe),_0x2bf2f6=_0x222634 instanceof Error?_0x222634[_0x3f5418(0x34b)]:typeof _0x222634==_0x3f5418(0x6ff)?JSON[_0x3f5418(0x27a)](_0x222634):_0x222634,_0xa589d7=_0xe9ec74+':\x20'+_0x2bf2f6;this['logger'][_0x3f5418(0x3b7)](this['instanceName']+'\x20('+this['instance'][_0x3f5418(0x661)]+_0x3f5418(0x54d)+_0xa589d7);}}async[a0_0x20fba6(0x177)](_0x5cc1a2){const _0x1e9bf6=a0_0x20fba6;let _0x1b0442=await this[_0x1e9bf6(0x84a)](_0x5cc1a2[_0x1e9bf6(0x5ed)][_0x1e9bf6(0x73b)],_0x5cc1a2[_0x1e9bf6(0x63d)]),_0x27316d=await this[_0x1e9bf6(0x44d)](_0x5cc1a2[_0x1e9bf6(0x63d)],{'sticker':{'url':_0x1b0442}},_0x5cc1a2?.[_0x1e9bf6(0x5a6)]);return L['unlinkSync'](_0x1b0442),this[_0x1e9bf6(0x421)][_0x1e9bf6(0x76b)](this['instanceName']+'\x20('+this[_0x1e9bf6(0x479)][_0x1e9bf6(0x661)]+'):Converted\x20image\x20deleted'),_0x27316d;}async[a0_0x20fba6(0x70f)](_0xf98bbf){const _0x559c95=a0_0x20fba6;if(this[_0x559c95(0x421)][_0x559c95(0x76b)](this['instanceName']+'\x20('+this[_0x559c95(0x479)][_0x559c95(0x661)]+'):Sending\x20audio\x20whatsapp'),!_0xf98bbf[_0x559c95(0x5a6)]?.[_0x559c95(0x6a7)]&&_0xf98bbf[_0x559c95(0x5a6)]?.['encoding']!==!0x1&&(_0xf98bbf['options'][_0x559c95(0x6a7)]=!0x0),_0xf98bbf[_0x559c95(0x5a6)]?.[_0x559c95(0x6a7)]){let _0xf42f28=await this['convertaudio'](_0xf98bbf[_0x559c95(0x3c1)]['audio']);if(typeof _0xf42f28==_0x559c95(0x648)){let _0x11bb4d=L['readFileSync'](_0xf42f28)[_0x559c95(0x176)](_0x559c95(0x697));return this[_0x559c95(0x44d)](_0xf98bbf[_0x559c95(0x63d)],{'audio':Buffer['from'](_0x11bb4d,'base64'),'ptt':!0x0,'mimetype':_0x559c95(0x2de)},{'presence':_0x559c95(0x5a2),'delay':_0xf98bbf?.[_0x559c95(0x5a6)]?.['delay']});}else throw new x(_0xf42f28);}return await this[_0x559c95(0x44d)](_0xf98bbf[_0x559c95(0x63d)],{'audio':(0x0,k[_0x559c95(0x34d)])(_0xf98bbf[_0x559c95(0x3c1)][_0x559c95(0x23b)])?{'url':_0xf98bbf[_0x559c95(0x3c1)][_0x559c95(0x23b)]}:Buffer[_0x559c95(0x3e5)](_0xf98bbf[_0x559c95(0x3c1)][_0x559c95(0x23b)],_0x559c95(0x697)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x559c95(0x5a2),'delay':_0xf98bbf?.[_0x559c95(0x5a6)]?.[_0x559c95(0x4c8)]});}async[a0_0x20fba6(0x38c)](_0x2ffe19){const _0x15334a=a0_0x20fba6;this['logger'][_0x15334a(0x76b)](this['instanceName']+'\x20('+this['instance'][_0x15334a(0x661)]+_0x15334a(0x190));let _0xcf382b=(0x0,k[_0x15334a(0x34d)])(_0x2ffe19)?(0x0,Ne[_0x15334a(0x686)])('sha256')[_0x15334a(0x589)](_0x2ffe19)['digest'](_0x15334a(0x33f)):(0x0,Ne['createHash'])(_0x15334a(0x420))[_0x15334a(0x589)](_0x2ffe19)['digest'](_0x15334a(0x33f)),_0x114335=''+(0x0,U[_0x15334a(0x7ae)])(this[_0x15334a(0x4fc)],_0xcf382b+_0x15334a(0x1b1));if(L[_0x15334a(0x604)](_0x114335))return this[_0x15334a(0x421)]['verbose'](this['instanceName']+'\x20('+this[_0x15334a(0x479)][_0x15334a(0x661)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x114335;let _0x2175d9=''+(0x0,U[_0x15334a(0x7ae)])(this[_0x15334a(0x4fc)],_0x15334a(0x6af)+(0x0,X['v4'])()+_0x15334a(0x5e2));if((0x0,k[_0x15334a(0x34d)])(_0x2ffe19)){let _0x776b1a=new Date()[_0x15334a(0x336)](),_0x2a7312=_0x2ffe19+'?timestamp='+_0x776b1a,_0x18d36f=await Y[_0x15334a(0x269)][_0x15334a(0x6b2)](_0x2a7312,{'responseType':'arraybuffer'});L['writeFileSync'](_0x2175d9,_0x18d36f[_0x15334a(0x6b6)]);}else{let _0x4a3c61=Buffer[_0x15334a(0x3e5)](_0x2ffe19,_0x15334a(0x697));L[_0x15334a(0x86e)](_0x2175d9,_0x4a3c61);}return new Promise((_0x627b91,_0x441b8a)=>{const _0x12da7e=_0x15334a;(0x0,Fe[_0x12da7e(0x6f1)])(_s[_0x12da7e(0x269)][_0x12da7e(0x4e9)]+_0x12da7e(0x766)+_0x2175d9+_0x12da7e(0x1b7)+_0x114335+_0x12da7e(0x7d4),_0x44caa0=>{const _0x2da0c2=_0x12da7e;if(L['unlinkSync'](_0x2175d9),_0x44caa0){this[_0x2da0c2(0x421)][_0x2da0c2(0x76b)](this['instanceName']+'\x20('+this[_0x2da0c2(0x479)][_0x2da0c2(0x661)]+_0x2da0c2(0x57a)),_0x441b8a(_0x44caa0);return;}this[_0x2da0c2(0x421)]['verbose'](this[_0x2da0c2(0x1b4)]+'\x20('+this[_0x2da0c2(0x479)][_0x2da0c2(0x661)]+_0x2da0c2(0x297)),_0x627b91(_0x114335);});});}async[a0_0x20fba6(0x15e)](_0x3e4e3a){const _0xd2ec9b=a0_0x20fba6;this[_0xd2ec9b(0x421)][_0xd2ec9b(0x76b)](this['instanceName']+'\x20('+this['instance'][_0xd2ec9b(0x661)]+_0xd2ec9b(0x190));let _0x581c5f=(0x0,Ne[_0xd2ec9b(0x686)])(_0xd2ec9b(0x420))[_0xd2ec9b(0x589)](_0x3e4e3a)[_0xd2ec9b(0x625)](_0xd2ec9b(0x33f)),_0x14ae34=''+(0x0,U[_0xd2ec9b(0x7ae)])(this[_0xd2ec9b(0x4fc)],_0x581c5f+_0xd2ec9b(0x5e2));if(L[_0xd2ec9b(0x604)](_0x14ae34))return this['logger'][_0xd2ec9b(0x76b)](this[_0xd2ec9b(0x1b4)]+'\x20('+this['instance']['wuid']+_0xd2ec9b(0x406)),U[_0xd2ec9b(0x269)][_0xd2ec9b(0x69f)](_0x14ae34);let _0x4aa077=''+(0x0,U[_0xd2ec9b(0x7ae)])(this[_0xd2ec9b(0x4fc)],'temp-'+_0x581c5f+_0xd2ec9b(0x1b1));if((0x0,k[_0xd2ec9b(0x34d)])(_0x3e4e3a)){let _0xd7ecb0=new Date()[_0xd2ec9b(0x336)](),_0x4e9ac2=_0x3e4e3a+_0xd2ec9b(0x48b)+_0xd7ecb0,_0x24adc9=await Y[_0xd2ec9b(0x269)][_0xd2ec9b(0x6b2)](_0x4e9ac2,{'responseType':_0xd2ec9b(0x683)});L[_0xd2ec9b(0x86e)](_0x4aa077,_0x24adc9[_0xd2ec9b(0x6b6)]);}else{let _0x16ff3a=Buffer['from'](_0x3e4e3a,'base64');L[_0xd2ec9b(0x86e)](_0x4aa077,_0x16ff3a);}return new Promise((_0x2efa1d,_0x2dfb3b)=>{const _0x3ff6c2=_0xd2ec9b;(0x0,Fe[_0x3ff6c2(0x6f1)])(_s[_0x3ff6c2(0x269)][_0x3ff6c2(0x4e9)]+_0x3ff6c2(0x766)+_0x4aa077+_0x3ff6c2(0x29b)+_0x14ae34+_0x3ff6c2(0x7d4),_0x4fda42=>{const _0x252f0e=_0x3ff6c2;if(L[_0x252f0e(0x105)](_0x4aa077),_0x4fda42){this['logger'][_0x252f0e(0x76b)](this[_0x252f0e(0x1b4)]+'\x20('+this[_0x252f0e(0x479)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0x2dfb3b(_0x4fda42);return;}this[_0x252f0e(0x421)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x252f0e(0x661)]+_0x252f0e(0x297)),_0x2efa1d(U['default']['basename'](_0x14ae34));});});}async['buttonMessage'](_0x383950){const _0x4eac8f=a0_0x20fba6;let _0x239c1c={},_0x364bed='TEXT';if(_0x383950['buttonMessage']?.[_0x4eac8f(0x202)]){_0x364bed=_0x383950[_0x4eac8f(0x4d8)][_0x4eac8f(0x202)]?.[_0x4eac8f(0x7d1)]['toUpperCase']()??_0x4eac8f(0x7a4),_0x239c1c[_0x4eac8f(0x5af)]=_0x364bed['toLowerCase']()+'Message';let _0x28d0b2=await this[_0x4eac8f(0x2c5)](_0x383950['buttonMessage']['mediaMessage']);_0x239c1c['message']=_0x28d0b2[_0x4eac8f(0x34b)][_0x239c1c[_0x4eac8f(0x5af)]],_0x239c1c['contentText']='*'+_0x383950[_0x4eac8f(0x4d8)][_0x4eac8f(0x664)]+_0x4eac8f(0x2fb)+_0x383950[_0x4eac8f(0x4d8)][_0x4eac8f(0x136)];}let _0x2f14b3={'text':_0x383950[_0x4eac8f(0x4d8)][_0x4eac8f(0x3f0)][_0x4eac8f(0x5a9)](_0x4579bb=>_0x4579bb[_0x4eac8f(0x7ef)]),'ids':_0x383950[_0x4eac8f(0x4d8)][_0x4eac8f(0x3f0)][_0x4eac8f(0x5a9)](_0x5e11bf=>_0x5e11bf['buttonId'])};if(!(0x0,k[_0x4eac8f(0x6dd)])(_0x2f14b3['text'])||!(0x0,k['arrayUnique'])(_0x2f14b3[_0x4eac8f(0x2b4)]))throw new m(_0x4eac8f(0x3dc),_0x4eac8f(0x856));return await this[_0x4eac8f(0x44d)](_0x383950['number'],{'buttonsMessage':{'text':_0x239c1c?.[_0x4eac8f(0x5af)]?void 0x0:_0x383950[_0x4eac8f(0x4d8)]['title'],'contentText':_0x239c1c?.['contentText']??_0x383950[_0x4eac8f(0x4d8)][_0x4eac8f(0x136)],'footerText':_0x383950[_0x4eac8f(0x4d8)]?.[_0x4eac8f(0x46d)],'buttons':_0x383950[_0x4eac8f(0x4d8)][_0x4eac8f(0x3f0)][_0x4eac8f(0x5a9)](_0x4d1594=>({'buttonText':{'displayText':_0x4d1594[_0x4eac8f(0x7ef)]},'buttonId':_0x4d1594[_0x4eac8f(0x334)],'type':0x1})),'headerType':w[_0x4eac8f(0x82f)][_0x4eac8f(0x23e)][_0x4eac8f(0x1c4)][_0x4eac8f(0x86f)][_0x364bed],[_0x239c1c?.[_0x4eac8f(0x5af)]]:_0x239c1c?.[_0x4eac8f(0x34b)]}},_0x383950?.[_0x4eac8f(0x5a6)]);}async[a0_0x20fba6(0x3a7)](_0x159184){const _0x1dc352=a0_0x20fba6;return await this[_0x1dc352(0x44d)](_0x159184[_0x1dc352(0x63d)],{'locationMessage':{'degreesLatitude':_0x159184[_0x1dc352(0x3a7)][_0x1dc352(0x640)],'degreesLongitude':_0x159184[_0x1dc352(0x3a7)]['longitude'],'name':_0x159184[_0x1dc352(0x3a7)]?.[_0x1dc352(0x217)],'address':_0x159184[_0x1dc352(0x3a7)]?.[_0x1dc352(0x820)]}},_0x159184?.[_0x1dc352(0x5a6)]);}async[a0_0x20fba6(0x1a1)](_0x2e1e50){const _0x15d127=a0_0x20fba6;let _0x4c799f={},_0xe16a7f=async _0x2d4135=>{const _0xdb6d03=a0_0x2eae;let _0x59c212=_0xdb6d03(0x1ff)+_0x2d4135[_0xdb6d03(0x183)]+'\x0aFN:'+_0x2d4135[_0xdb6d03(0x183)]+'\x0a';_0x2d4135['organization']&&(_0x59c212+='ORG:'+_0x2d4135[_0xdb6d03(0x28e)]+';\x0a'),_0x2d4135['email']&&(_0x59c212+='EMAIL:'+_0x2d4135[_0xdb6d03(0x205)]+'\x0a'),_0x2d4135[_0xdb6d03(0x12a)]&&(_0x59c212+=_0xdb6d03(0x52d)+_0x2d4135[_0xdb6d03(0x12a)]+'\x0a');let _0x36230c='',_0x55b171=0x1;if(_0x2d4135['phoneNumber']){let _0x4a6193=_0x2d4135['phoneNumber'][_0xdb6d03(0x2fc)]('|');for(let _0x171edb of _0x4a6193){let _0x554d08=await this['whatsappNumber']({'numbers':[_0x171edb]}),_0xebe92d=(_0x554d08['length']>0x0?_0x554d08[0x0][_0xdb6d03(0x4b4)]:this[_0xdb6d03(0x2c0)](_0x171edb))['replace'](_0xdb6d03(0x1e4),'');_0x36230c+=_0xdb6d03(0x74a)+_0x55b171+_0xdb6d03(0x5cb)+_0xebe92d+':'+_0x171edb+_0xdb6d03(0x7a3)+_0x55b171+_0xdb6d03(0x1b2),_0x55b171++;}}return _0x59c212+=_0x36230c+_0xdb6d03(0x234),_0x59c212;};return _0x2e1e50[_0x15d127(0x1a1)][_0x15d127(0x21c)]===0x1?_0x4c799f['contactMessage']={'displayName':_0x2e1e50[_0x15d127(0x1a1)][0x0][_0x15d127(0x183)],'vcard':await _0xe16a7f(_0x2e1e50[_0x15d127(0x1a1)][0x0])}:_0x4c799f[_0x15d127(0x1b3)]={'displayName':_0x2e1e50['contactMessage'][_0x15d127(0x21c)]+_0x15d127(0x1b9),'contacts':await Promise[_0x15d127(0x1f6)](_0x2e1e50['contactMessage'][_0x15d127(0x5a9)](async _0x395434=>({'displayName':_0x395434[_0x15d127(0x183)],'vcard':await _0xe16a7f(_0x395434)})))},await this[_0x15d127(0x44d)](_0x2e1e50['number'],{..._0x4c799f},_0x2e1e50?.[_0x15d127(0x5a6)]);}async[a0_0x20fba6(0x20d)](_0x5e6900){const _0x51f275=a0_0x20fba6;return await this[_0x51f275(0x44d)](_0x5e6900[_0x51f275(0x20d)][_0x51f275(0x249)]['remoteJid'],{'reactionMessage':{'key':_0x5e6900['reactionMessage'][_0x51f275(0x249)],'text':_0x5e6900['reactionMessage']['reaction']}});}async[a0_0x20fba6(0x43c)](_0x1b78d5){const _0x567f7e=a0_0x20fba6;let _0x525330=[];for await(let _0x3d4298 of _0x1b78d5[_0x567f7e(0x243)]){let _0x1db770=this[_0x567f7e(0x2c0)](_0x3d4298),_0x5a8ed6=!0x1;try{if((0x0,w[_0x567f7e(0x6d6)])(_0x1db770)){let _0x11db60=(await this[_0x567f7e(0x1d5)]['chat'][_0x567f7e(0x79e)]({'where':{'_id':_0x1db770}},this[_0x567f7e(0x479)][_0x567f7e(0x661)]))['groupdata'];_0x11db60?(_0x5a8ed6=!0x0,_0x525330[_0x567f7e(0x2af)](new le(_0x11db60['id'],_0x5a8ed6,_0x11db60?.[_0x567f7e(0x5c7)]))):(_0x11db60=await this['findGroup']({'groupJid':_0x1db770},_0x567f7e(0x6fa)),_0x525330['push'](new le(_0x11db60['id'],!!_0x11db60?.['id'],_0x11db60?.[_0x567f7e(0x5c7)])));}else{if(_0x1db770[_0x567f7e(0x4b0)]('@broadcast'))_0x525330['push'](new le(_0x1db770,!0x0));else{let _0x46e9ad=(await this['client'][_0x567f7e(0x377)](_0x1db770))[0x0];_0x525330[_0x567f7e(0x2af)](new le(_0x46e9ad[_0x567f7e(0x4b4)],_0x46e9ad[_0x567f7e(0x478)]));}}}catch{(0x0,w[_0x567f7e(0x6d6)])(_0x1db770)||await this[_0x567f7e(0x357)](_0x1db770),_0x525330[_0x567f7e(0x2af)](new le(_0x3d4298,!0x1));}}return _0x525330;}async[a0_0x20fba6(0x357)](_0x283c7c){const _0x31a5e6=a0_0x20fba6;try{await this[_0x31a5e6(0x1d5)][_0x31a5e6(0x4a4)][_0x31a5e6(0x79e)]({'where':{'_id':_0x283c7c,'imported':!0x0}},this[_0x31a5e6(0x479)][_0x31a5e6(0x661)])&&(await this[_0x31a5e6(0x1d5)][_0x31a5e6(0x4a4)][_0x31a5e6(0x644)](_0x283c7c,this['instance']['wuid']),this[_0x31a5e6(0x421)][_0x31a5e6(0x7d7)](_0x31a5e6(0x3d8)+_0x283c7c+_0x31a5e6(0x793)));}catch(_0x55783a){let _0xd5a327=_0x31a5e6(0x5fc),_0x4745fe=_0x55783a instanceof Error?_0x55783a['message']:typeof _0x55783a==_0x31a5e6(0x6ff)?JSON[_0x31a5e6(0x27a)](_0x55783a):_0x55783a,_0x4151d6=_0xd5a327+':\x20'+_0x4745fe;this[_0x31a5e6(0x421)]['error'](this[_0x31a5e6(0x1b4)]+'\x20('+this[_0x31a5e6(0x479)][_0x31a5e6(0x661)]+'):\x20'+_0x4151d6);}}async[a0_0x20fba6(0x469)](_0x4f94b6){const _0x46e4b2=a0_0x20fba6;try{let _0x1cc211=_0x4f94b6[_0x46e4b2(0x39a)][_0x46e4b2(0x7a2)](_0x113695=>(0x0,w[_0x46e4b2(0x6d6)])(_0x113695[_0x46e4b2(0x5bc)])||(0x0,w[_0x46e4b2(0x4d2)])(_0x113695[_0x46e4b2(0x5bc)]))[_0x46e4b2(0x5a9)](_0x4643f6=>({'remoteJid':_0x4643f6[_0x46e4b2(0x5bc)],'fromMe':_0x4643f6[_0x46e4b2(0x424)],'id':_0x4643f6['id']}));await this[_0x46e4b2(0x483)][_0x46e4b2(0x39a)](_0x1cc211);let _0x3d7c17=_0x1cc211[_0x46e4b2(0x5a9)](_0x331c55=>this[_0x46e4b2(0x186)](_0x331c55,{'status':'READ','owner':this['instance'][_0x46e4b2(0x661)]})),_0x47880d=_0x1cc211[_0x46e4b2(0x5a9)](_0x45572b=>this[_0x46e4b2(0x1d5)][_0x46e4b2(0x4a4)]['updateOne']({'where':{'_id':_0x45572b[_0x46e4b2(0x5bc)]}},{'unreadcount':0x0},this[_0x46e4b2(0x479)][_0x46e4b2(0x661)])),[_0x49be0b,_0x459c70]=await Promise[_0x46e4b2(0x1f6)]([Promise['all'](_0x3d7c17),Promise[_0x46e4b2(0x1f6)](_0x47880d)]);return _0x459c70[_0x46e4b2(0x7a2)](_0xf9c496=>_0xf9c496!==null)['forEach'](_0x4bd75f=>{const _0x489506=_0x46e4b2;J(this[_0x489506(0x1b4)],_0x489506(0x6f9),{'chat':_0x4bd75f});}),{'message':_0x46e4b2(0x1ed),'read':_0x46e4b2(0x595)};}catch(_0x11297a){let _0x103279='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x4f4c0e=_0x11297a instanceof Error?_0x11297a['message']:typeof _0x11297a=='object'?JSON[_0x46e4b2(0x27a)](_0x11297a):_0x11297a,_0x19ee7f=_0x103279+':\x20'+_0x4f4c0e;throw this['logger'][_0x46e4b2(0x3b7)](this[_0x46e4b2(0x1b4)]+'\x20('+this[_0x46e4b2(0x479)][_0x46e4b2(0x661)]+_0x46e4b2(0x54d)+_0x19ee7f),new x(_0x19ee7f);}}async[a0_0x20fba6(0x2f8)](_0x442dc1){const _0xa348fc=a0_0x20fba6;let _0x5cf134={'where':{'key':{'remoteJid':_0x442dc1}},'limit':0x1},_0x1b81b2=await this[_0xa348fc(0x57b)](_0x5cf134);return _0x1b81b2||(this[_0xa348fc(0x421)][_0xa348fc(0x3b7)](_0xa348fc(0x395)+_0x442dc1),null);}async['archiveChat'](_0xcbe12c){const _0xcd925b=a0_0x20fba6;this[_0xcd925b(0x421)][_0xcd925b(0x76b)](this[_0xcd925b(0x1b4)]+'\x20('+this[_0xcd925b(0x479)][_0xcd925b(0x661)]+_0xcd925b(0x2bb));try{let _0x4f4c27=_0xcbe12c[_0xcd925b(0x1df)],_0x7d192e=_0xcbe12c[_0xcd925b(0x4a4)];if(!_0x4f4c27&&_0x7d192e?_0x4f4c27=await this[_0xcd925b(0x2f8)](_0x7d192e):(_0x4f4c27=_0xcbe12c['lastMessage'],_0x4f4c27[_0xcd925b(0x81b)]=_0x4f4c27?.[_0xcd925b(0x81b)]??Date[_0xcd925b(0x1a6)](),_0x7d192e=_0x4f4c27?.[_0xcd925b(0x249)]?.[_0xcd925b(0x5bc)]),!_0x4f4c27||Object[_0xcd925b(0x1c7)](_0x4f4c27)[_0xcd925b(0x21c)]===0x0)throw new j('Last\x20message\x20not\x20found');this[_0xcd925b(0x421)][_0xcd925b(0x76b)](this[_0xcd925b(0x1b4)]+'\x20('+this['instance'][_0xcd925b(0x661)]+_0xcd925b(0x7b4)+_0x7d192e);try{await this[_0xcd925b(0x483)]['chatModify']({'archive':_0xcbe12c[_0xcd925b(0x569)],'lastMessages':[_0x4f4c27]},this[_0xcd925b(0x2c0)](_0x7d192e));}catch(_0x2246db){let _0x171655='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x7d192e,_0x1afde3=_0x2246db instanceof Error?_0x2246db[_0xcd925b(0x34b)]:typeof _0x2246db=='object'?JSON[_0xcd925b(0x27a)](_0x2246db):_0x2246db,_0x66fbc7=_0x171655+':\x20'+_0x1afde3;this[_0xcd925b(0x421)]['error'](this[_0xcd925b(0x1b4)]+'\x20('+this['instance'][_0xcd925b(0x661)]+_0xcd925b(0x54d)+_0x66fbc7);}this[_0xcd925b(0x421)][_0xcd925b(0x76b)](this[_0xcd925b(0x1b4)]+'\x20('+this[_0xcd925b(0x479)][_0xcd925b(0x661)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x7d192e);let _0x850d1=await this[_0xcd925b(0x1d5)]['chat'][_0xcd925b(0x1e8)]({'where':{'_id':_0x4f4c27?.[_0xcd925b(0x249)]?.['remoteJid']}},{'archived':_0xcbe12c['archive']},this[_0xcd925b(0x479)][_0xcd925b(0x661)]);return _0x850d1?(this[_0xcd925b(0x421)]['verbose'](this[_0xcd925b(0x1b4)]+'\x20('+this[_0xcd925b(0x479)]['wuid']+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0xcd925b(0x27a)](_0x850d1)),J(this[_0xcd925b(0x1b4)],_0xcd925b(0x6f9),{'chat':_0x850d1})):this['logger'][_0xcd925b(0x3b7)](this['instanceName']+'\x20('+this['instance'][_0xcd925b(0x661)]+_0xcd925b(0x4e2)+_0x7d192e),{'chatId':_0x7d192e,'archived':_0xcbe12c[_0xcd925b(0x569)]};}catch(_0x3192b4){let _0x3e0d5d='Erro\x20ao\x20arquivar\x20chat',_0xf1cf66=_0x3192b4 instanceof Error?_0x3192b4['message']:typeof _0x3192b4==_0xcd925b(0x6ff)?JSON['stringify'](_0x3192b4):_0x3192b4,_0xc65846=_0x3e0d5d+':\x20'+_0xf1cf66;throw this['logger'][_0xcd925b(0x3b7)](this['instanceName']+'\x20('+this[_0xcd925b(0x479)][_0xcd925b(0x661)]+_0xcd925b(0x54d)+_0xc65846),new x(_0xc65846);}}async[a0_0x20fba6(0x644)](_0x55a045){const _0x1e5ed=a0_0x20fba6;this[_0x1e5ed(0x421)][_0x1e5ed(0x76b)](this[_0x1e5ed(0x1b4)]+'\x20('+this['instance'][_0x1e5ed(0x661)]+_0x1e5ed(0x629));try{let _0x61cdd2=await this['getLastMessage'](_0x55a045);if(!_0x61cdd2||Object[_0x1e5ed(0x1c7)](_0x61cdd2)['length']===0x0)throw new j(_0x1e5ed(0x27c));let _0x57d750=_0x61cdd2[0x0];this[_0x1e5ed(0x421)][_0x1e5ed(0x76b)](this['instanceName']+'\x20('+this[_0x1e5ed(0x479)][_0x1e5ed(0x661)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x55a045);try{await this[_0x1e5ed(0x483)][_0x1e5ed(0x4aa)]({'delete':!0x0,'lastMessages':[{'key':_0x57d750[_0x1e5ed(0x249)],'messageTimestamp':_0x57d750[_0x1e5ed(0x81b)]}]},this[_0x1e5ed(0x2c0)](_0x55a045));}catch(_0x243975){this[_0x1e5ed(0x421)]['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x55a045+':\x20'+_0x243975[_0x1e5ed(0x176)]());}this['logger']['verbose'](this[_0x1e5ed(0x1b4)]+'\x20('+this[_0x1e5ed(0x479)][_0x1e5ed(0x661)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x55a045);return;}catch(_0x2c0ed3){throw this['logger'][_0x1e5ed(0x3b7)](this[_0x1e5ed(0x1b4)]+'\x20('+this[_0x1e5ed(0x479)][_0x1e5ed(0x661)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x2c0ed3['toString']()),new x({'archived':!0x1,'message':[_0x1e5ed(0x708),_0x2c0ed3['toString']()]});}}async[a0_0x20fba6(0x6ed)](_0x533b88){const _0x3645b2=a0_0x20fba6;try{let _0x4ce330=await this[_0x3645b2(0x483)][_0x3645b2(0x247)](_0x533b88[_0x3645b2(0x5bc)],{'delete':_0x533b88});try{let _0x227177=await this['updateMessage'](_0x533b88,{'status':_0x3645b2(0x804),'owner':this[_0x3645b2(0x479)]['wuid']});this[_0x3645b2(0x421)][_0x3645b2(0x76b)](this[_0x3645b2(0x1b4)]+'\x20('+this[_0x3645b2(0x479)][_0x3645b2(0x661)]+'):\x20updateResult:'+_0x227177);}catch(_0x1d3e8f){this[_0x3645b2(0x421)]['error'](_0x3645b2(0x6a2)+_0x1d3e8f);}return _0x4ce330;}catch(_0x4c36bb){throw new x(_0x3645b2(0x5db),_0x4c36bb?.[_0x3645b2(0x176)]());}}async['getBase64FromMediaMessage'](_0x1c09bf){const _0x1339fc=a0_0x20fba6;try{let _0x262077=_0x1c09bf?.['message']?_0x1c09bf:await this[_0x1339fc(0x615)](_0x1c09bf['key'],!0x0);for(let _0x1cf526 of Ea)_0x262077[_0x1339fc(0x34b)][_0x1cf526]&&(_0x262077['message']=_0x262077[_0x1339fc(0x34b)][_0x1cf526]['message']);let _0x2db046,_0x3fd1df;for(let _0x32f93e of Ca)if(_0x2db046=_0x262077[_0x1339fc(0x34b)][_0x32f93e],_0x2db046){_0x3fd1df=_0x32f93e;break;}if(!_0x2db046)throw _0x1339fc(0x54c);typeof _0x2db046[_0x1339fc(0x5af)]=='object'&&(_0x262077[_0x1339fc(0x34b)]=JSON[_0x1339fc(0x321)](JSON[_0x1339fc(0x27a)](_0x262077[_0x1339fc(0x34b)])));let _0x3a0d72=await(0x0,w[_0x1339fc(0x7e4)])({'key':_0x262077?.[_0x1339fc(0x249)],'message':_0x262077?.[_0x1339fc(0x34b)]},_0x1339fc(0x60e),{},{'logger':(0x0,Ut['default'])({'level':_0x1339fc(0x850)}),'reuploadRequest':this[_0x1339fc(0x483)][_0x1339fc(0x855)]});if(!(_0x3a0d72 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x2b58b3=this[_0x1339fc(0x4e8)][_0x1339fc(0x6b2)](_0x1339fc(0x578)),_0x11bc07,_0x262d53;if(_0x2db046[_0x1339fc(0x65f)])_0x11bc07=_0x2db046['fileName'];else{let _0x5a8f66=_0x2db046['mimetype']?.['match'](/\/(\w+)/),_0x540066=_0x5a8f66?_0x5a8f66[0x1]:null;if(!_0x540066)throw new Error(_0x1339fc(0x114));_0x11bc07=(0x0,X['v4'])()+'.'+_0x540066;}_0x3fd1df==='audioMessage'?_0x262d53=_0x1339fc(0x24d)+await this[_0x1339fc(0x15e)](_0x3a0d72['toString'](_0x1339fc(0x697))):(await this[_0x1339fc(0x4be)](_0x3a0d72,_0x11bc07),_0x262d53=_0x1339fc(0x24d)+_0x11bc07);let _0xdb1ec2=this['configService'][_0x1339fc(0x6b2)](_0x1339fc(0x806))[_0x1339fc(0x6e6)];if(!_0xdb1ec2){let _0x139a51=this[_0x1339fc(0x4e8)]['get'](_0x1339fc(0x170));_0xdb1ec2=_0x1339fc(0x262)+(_0x139a51&&_0x139a51['FULLCHAIN'][_0x1339fc(0x2fc)]('/')[0x4]);}_0x262d53=''+_0xdb1ec2+_0x262d53;let _0x501c04=0xc*0x3c*0x3c*0x3e8,_0x5675b0={'where':{'_id':_0x262077['key']['id']}},_0x33161c={'message_normalized.fileUrl':_0x262d53,'message_normalized.expires_fileUrl':Date[_0x1339fc(0x1a6)]()+_0x501c04};try{let _0x43c4af=await this[_0x1339fc(0x1d5)][_0x1339fc(0x34b)][_0x1339fc(0x589)](_0x5675b0,_0x33161c,this[_0x1339fc(0x479)][_0x1339fc(0x661)]);_0x43c4af&&J(this['instanceName'],'messages',{'message':_0x43c4af});}catch(_0x588e35){let _0x181bf7=_0x1339fc(0x368),_0x47495f=_0x588e35 instanceof Error?_0x588e35['message']:typeof _0x588e35==_0x1339fc(0x6ff)?JSON[_0x1339fc(0x27a)](_0x588e35):_0x588e35,_0x4296e9=_0x181bf7+':\x20'+_0x47495f;this['logger'][_0x1339fc(0x3b7)](this[_0x1339fc(0x1b4)]+'\x20('+this[_0x1339fc(0x479)][_0x1339fc(0x661)]+_0x1339fc(0x54d)+_0x4296e9);}return{'mediaType':_0x3fd1df,'fileName':_0x2db046[_0x1339fc(0x65f)],'caption':_0x2db046['caption'],'size':{'fileLength':_0x2db046[_0x1339fc(0x1ae)],'height':_0x2db046[_0x1339fc(0x55f)],'width':_0x2db046[_0x1339fc(0x1f7)]},'mimetype':_0x2db046[_0x1339fc(0x390)],'base64':_0x3a0d72[_0x1339fc(0x176)](_0x1339fc(0x697)),'fileUrl':_0x262d53,'expires_fileUrl':Date['now']()+_0x501c04};}catch(_0x5a9b5b){let _0x3d2e0b=_0x1339fc(0x64c),_0x48096f=_0x5a9b5b instanceof Error?_0x5a9b5b[_0x1339fc(0x34b)]:typeof _0x5a9b5b==_0x1339fc(0x6ff)?JSON[_0x1339fc(0x27a)](_0x5a9b5b):_0x5a9b5b,_0x21a29e=_0x3d2e0b+':\x20'+_0x48096f;throw this[_0x1339fc(0x421)][_0x1339fc(0x3b7)](this[_0x1339fc(0x1b4)]+'\x20('+this['instance'][_0x1339fc(0x661)]+_0x1339fc(0x54d)+_0x21a29e),new m(_0x21a29e);}}async[a0_0x20fba6(0x4be)](_0xd05547,_0x190145){const _0x38249c=a0_0x20fba6;let _0x1e9d2e=U[_0x38249c(0x269)][_0x38249c(0x7ae)](__dirname,_0x38249c(0x6a4));L['existsSync'](_0x1e9d2e)||L[_0x38249c(0x562)](_0x1e9d2e,{'recursive':!0x0});let _0x10faef=U['default'][_0x38249c(0x7ae)](_0x1e9d2e,_0x190145);return new Promise((_0x5c3ca4,_0xf85d89)=>{L['writeFile'](_0x10faef,_0xd05547,_0x3d3c92=>{const _0x4876fe=a0_0x2eae;_0x3d3c92?(this[_0x4876fe(0x421)]['error'](_0x4876fe(0x146)+(_0x3d3c92 instanceof Error?_0x3d3c92['message']:JSON[_0x4876fe(0x27a)](_0x3d3c92,null,0x2))),_0xf85d89(_0x3d3c92)):(this['logger'][_0x4876fe(0x324)](_0x4876fe(0x11f)+_0x10faef),_0x5c3ca4(_0x10faef));});});}async[a0_0x20fba6(0x2d8)](_0x41d3eb){const _0xc3b842=a0_0x20fba6;return await this[_0xc3b842(0x1d5)]['contact']['find'](_0x41d3eb,this['instance'][_0xc3b842(0x661)]);}async[a0_0x20fba6(0x864)](){const _0x5054d6=a0_0x20fba6;return await this[_0x5054d6(0x1d5)][_0x5054d6(0x3b8)][_0x5054d6(0x568)]({'where':{}},this[_0x5054d6(0x479)][_0x5054d6(0x661)]);}async[a0_0x20fba6(0x57b)](_0x4f82e4){const _0x5731b8=a0_0x20fba6;return await this[_0x5731b8(0x1d5)][_0x5731b8(0x34b)][_0x5731b8(0x568)](_0x4f82e4,this[_0x5731b8(0x479)][_0x5731b8(0x661)]);}async[a0_0x20fba6(0x372)](){const _0x35014e=a0_0x20fba6;return this[_0x35014e(0x1d5)]['chat'][_0x35014e(0x35b)](this[_0x35014e(0x479)][_0x35014e(0x661)]),this['repository'][_0x35014e(0x4a4)][_0x35014e(0x691)](this[_0x35014e(0x479)][_0x35014e(0x661)]),this['repository']['chat']['updateMissingTags'](this[_0x35014e(0x479)]['wuid']),this['repository'][_0x35014e(0x4a4)]['updateMissingCustomFields'](this['instance'][_0x35014e(0x661)]),await this[_0x35014e(0x1d5)][_0x35014e(0x4a4)][_0x35014e(0x568)]({'where':{}},this[_0x35014e(0x479)][_0x35014e(0x661)]);}async[a0_0x20fba6(0x55d)](_0x46aa9c){const _0x428026=a0_0x20fba6;try{if(!Array[_0x428026(0x5e4)](_0x46aa9c)||_0x46aa9c[_0x428026(0x21c)]===0x0)throw new Error(_0x428026(0x573));let _0xbfa09a=[],_0x142c08=[];for(let _0x1b8f0b of _0x46aa9c){if(_0x1b8f0b[_0x428026(0x2a0)])_0x1b8f0b[_0x428026(0x2a0)]=this[_0x428026(0x2c0)](_0x1b8f0b['_id']);else continue;await this['repository'][_0x428026(0x4a4)]['findOne']({'where':{'_id':_0x1b8f0b[_0x428026(0x2a0)]}},this[_0x428026(0x479)]['wuid'])?_0x142c08[_0x428026(0x2af)]({'_id':_0x1b8f0b[_0x428026(0x2a0)],'leadInfo':_0x1b8f0b[_0x428026(0x6ab)],'owner':this[_0x428026(0x479)][_0x428026(0x661)]}):_0xbfa09a[_0x428026(0x2af)]({'_id':_0x1b8f0b[_0x428026(0x2a0)],'owner':this[_0x428026(0x479)][_0x428026(0x661)],'leadInfo':_0x1b8f0b[_0x428026(0x6ab)],'imported':!0x0});}return _0x142c08[_0x428026(0x21c)]>0x0&&await this[_0x428026(0x1d5)][_0x428026(0x4a4)][_0x428026(0x3eb)](_0x142c08[_0x428026(0x5a9)](_0x2a821a=>({'query':{'where':{'_id':_0x2a821a['_id'],'owner':this['instance'][_0x428026(0x661)]}},'update':_0x2a821a}))),_0xbfa09a[_0x428026(0x21c)]>0x0&&await this['repository']['chat'][_0x428026(0x527)](_0xbfa09a,this[_0x428026(0x479)][_0x428026(0x661)]),{'updated':_0x142c08['length'],'inserted':_0xbfa09a[_0x428026(0x21c)]};}catch(_0x227ffe){let _0xb2dab=_0x428026(0x470),_0x4f7122=_0x227ffe instanceof Error?_0x227ffe[_0x428026(0x34b)]:typeof _0x227ffe==_0x428026(0x6ff)?JSON[_0x428026(0x27a)](_0x227ffe):_0x227ffe,_0x40890d=_0xb2dab+':\x20'+_0x4f7122;throw this[_0x428026(0x421)][_0x428026(0x3b7)](this[_0x428026(0x1b4)]+'\x20('+this[_0x428026(0x479)][_0x428026(0x661)]+_0x428026(0x54d)+_0x40890d),new m(_0x40890d);}}async['importChats'](_0x272d19){const _0x49802a=a0_0x20fba6;try{if(!Array['isArray'](_0x272d19)||_0x272d19[_0x49802a(0x21c)]===0x0)throw new Error(_0x49802a(0x573));let _0x5a05fb=0x64,_0xc2023c=0x0;for(let _0xc15757=0x0;_0xc15757<_0x272d19[_0x49802a(0x21c)];_0xc15757+=_0x5a05fb){let _0x53b30c=_0x272d19[_0x49802a(0x17e)](_0xc15757,_0xc15757+_0x5a05fb),{updated:_0x5d992e}=await this[_0x49802a(0x397)](_0x53b30c);_0xc2023c+=_0x5d992e;}return{'updated':_0xc2023c};}catch(_0x36044c){let _0x3095af='Erro\x20ao\x20importar\x20chats',_0x312b8e=_0x36044c instanceof Error?_0x36044c[_0x49802a(0x34b)]:typeof _0x36044c==_0x49802a(0x6ff)?JSON['stringify'](_0x36044c):_0x36044c,_0x15db45=_0x3095af+':\x20'+_0x312b8e;throw this[_0x49802a(0x421)][_0x49802a(0x3b7)](this[_0x49802a(0x1b4)]+'\x20('+this[_0x49802a(0x479)]['wuid']+_0x49802a(0x54d)+_0x15db45),new m(_0x15db45);}}async['importChatsBatch'](_0x50f07a){const _0x5dc6a7=a0_0x20fba6;try{let _0x3b6749=await this[_0x5dc6a7(0x1d5)]['label'][_0x5dc6a7(0x568)]({'where':{}},this[_0x5dc6a7(0x479)][_0x5dc6a7(0x661)]),_0x2c8eee=new Set(_0x3b6749['map'](_0x149f29=>_0x149f29[_0x5dc6a7(0x2a0)])),_0x214482=[],_0x5285a9=[];for(let _0x2da78b of _0x50f07a){if(!_0x2da78b['_id'])continue;_0x2da78b[_0x5dc6a7(0x2a0)]=this['createJid'](_0x2da78b[_0x5dc6a7(0x2a0)]);let _0x5c4889=await this[_0x5dc6a7(0x1d5)][_0x5dc6a7(0x4a4)][_0x5dc6a7(0x79e)]({'where':{'_id':_0x2da78b[_0x5dc6a7(0x2a0)]}},this[_0x5dc6a7(0x479)][_0x5dc6a7(0x661)]),_0x463892={};if(Object[_0x5dc6a7(0x805)](_0x2da78b['leadInfo'])[_0x5dc6a7(0x871)](([_0x146d37,_0x2b8910])=>{_0x463892['leadInfo.'+_0x146d37]=_0x2b8910;}),_0x5c4889&&!_0x5c4889[_0x5dc6a7(0x65b)]){let _0x749c0=(_0x2da78b[_0x5dc6a7(0x6ab)][_0x5dc6a7(0x75b)]||[])['filter'](_0x347589=>_0x2c8eee[_0x5dc6a7(0x7f8)](_0x347589)),_0x3c9611=new Set(_0x5c4889[_0x5dc6a7(0x6ab)][_0x5dc6a7(0x75b)]||[]),_0x51a482=_0x749c0['filter'](_0x447dff=>!_0x3c9611['has'](_0x447dff)),_0x1260d1=[..._0x3c9611][_0x5dc6a7(0x7a2)](_0x5a9480=>!_0x749c0['includes'](_0x5a9480));_0x5285a9['push'](..._0x51a482[_0x5dc6a7(0x5a9)](_0x5c2834=>this[_0x5dc6a7(0x221)](_0x5c2834,_0x2da78b['_id']))),_0x5285a9[_0x5dc6a7(0x2af)](..._0x1260d1[_0x5dc6a7(0x5a9)](_0x522c3d=>this['RemoveChatLabel'](_0x522c3d,_0x2da78b[_0x5dc6a7(0x2a0)]))),_0x2da78b[_0x5dc6a7(0x6ab)][_0x5dc6a7(0x75b)]=_0x749c0,_0x214482['push']({'query':{'where':{'_id':_0x2da78b[_0x5dc6a7(0x2a0)],'owner':this[_0x5dc6a7(0x479)][_0x5dc6a7(0x661)]}},'update':_0x463892});}else _0x463892['imported']=!0x0,_0x214482[_0x5dc6a7(0x2af)]({'query':{'where':{'_id':_0x2da78b[_0x5dc6a7(0x2a0)],'owner':this[_0x5dc6a7(0x479)][_0x5dc6a7(0x661)]}},'update':_0x463892});}let _0x157f1e=await this[_0x5dc6a7(0x1d5)][_0x5dc6a7(0x4a4)][_0x5dc6a7(0x3eb)](_0x214482);return await Promise['all'](_0x5285a9),{'updated':_0x157f1e};}catch(_0x4d6e44){let _0x28ebdf=_0x5dc6a7(0x470),_0x19acca=_0x4d6e44 instanceof Error?_0x4d6e44[_0x5dc6a7(0x34b)]:typeof _0x4d6e44==_0x5dc6a7(0x6ff)?JSON[_0x5dc6a7(0x27a)](_0x4d6e44):_0x4d6e44,_0x4817a4=_0x28ebdf+':\x20'+_0x19acca;throw this['logger'][_0x5dc6a7(0x3b7)](this[_0x5dc6a7(0x1b4)]+'\x20('+this[_0x5dc6a7(0x479)][_0x5dc6a7(0x661)]+_0x5dc6a7(0x54d)+_0x4817a4),new m(_0x4817a4);}}async[a0_0x20fba6(0x5a4)](){return await this['client']['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x389e35){const _0x11c2e9=a0_0x20fba6;try{return await this[_0x11c2e9(0x483)][_0x11c2e9(0x627)](_0x389e35[_0x11c2e9(0x702)][_0x11c2e9(0x3c4)]),await this[_0x11c2e9(0x483)][_0x11c2e9(0x3ef)](_0x389e35[_0x11c2e9(0x702)]['profile']),await this[_0x11c2e9(0x483)][_0x11c2e9(0x18b)](_0x389e35[_0x11c2e9(0x702)][_0x11c2e9(0x59e)]),await this['client'][_0x11c2e9(0x5a3)](_0x389e35['privacySettings'][_0x11c2e9(0x10f)]),await this[_0x11c2e9(0x483)][_0x11c2e9(0x775)](_0x389e35[_0x11c2e9(0x702)][_0x11c2e9(0x773)]),await this[_0x11c2e9(0x483)][_0x11c2e9(0x22e)](_0x389e35[_0x11c2e9(0x702)][_0x11c2e9(0x350)]),this[_0x11c2e9(0x483)]?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x389e35[_0x11c2e9(0x702)][_0x11c2e9(0x3c4)],'profile':_0x389e35['privacySettings'][_0x11c2e9(0x36a)],'status':_0x389e35['privacySettings'][_0x11c2e9(0x59e)],'online':_0x389e35['privacySettings']['online'],'last':_0x389e35[_0x11c2e9(0x702)]['last'],'groupadd':_0x389e35[_0x11c2e9(0x702)][_0x11c2e9(0x350)]}};}catch(_0x96e1f2){let _0x2b6a7c=_0x11c2e9(0x56f),_0x53e71e=_0x96e1f2 instanceof Error?_0x96e1f2[_0x11c2e9(0x34b)]:typeof _0x96e1f2==_0x11c2e9(0x6ff)?JSON[_0x11c2e9(0x27a)](_0x96e1f2):_0x96e1f2,_0x5b3276=_0x2b6a7c+':\x20'+_0x53e71e;throw this[_0x11c2e9(0x421)]['error'](this[_0x11c2e9(0x1b4)]+'\x20('+this[_0x11c2e9(0x479)][_0x11c2e9(0x661)]+_0x11c2e9(0x54d)+_0x5b3276),new m(_0x5b3276);}}async[a0_0x20fba6(0x73e)](_0x4fea2d){const _0x45466e=a0_0x20fba6;let _0x517b35=(_0x4fea2d?this[_0x45466e(0x2c0)](_0x4fea2d):this[_0x45466e(0x483)]?.[_0x45466e(0x82a)]?.['id'])[_0x45466e(0x4f4)](/:\d{1,2}@/g,'@');this[_0x45466e(0x421)]['verbose'](this[_0x45466e(0x1b4)]+'\x20('+this['instance'][_0x45466e(0x661)]+_0x45466e(0x7c3)+_0x517b35);let _0x29e516=await this[_0x45466e(0x1d5)][_0x45466e(0x5d7)]['findOne']({'where':{'_id':_0x517b35}},this[_0x45466e(0x479)][_0x45466e(0x661)]),_0x1839d3=_0x29e516?_0x29e516['pushName']:null;try{let _0x1fe346=(await this['whatsappNumber']({'numbers':[_0x517b35]}))?.['shift'](),_0x5d3a01=(await this['findAndUpdateCacheContact'](_0x517b35,null,!0x1))[_0x45466e(0x5b0)]['pictureUrl'],_0x416ed1=await this[_0x45466e(0x509)](_0x1fe346?.[_0x45466e(0x4b4)]),_0x4da3bc=await this[_0x45466e(0x393)](_0x1fe346?.['jid']),_0x4d7423=(await this[_0x45466e(0x47e)](_0x517b35,null,!0x1))[_0x45466e(0x5b0)][_0x45466e(0x217)],_0x57dc48=await this[_0x45466e(0x1d5)]['chat'][_0x45466e(0x79e)]({'where':{'_id':_0x517b35}},this[_0x45466e(0x479)][_0x45466e(0x661)]),_0x53810c={'imagechat':_0x5d3a01,'contactname':_0x1839d3||null,'pushName':_0x4d7423,'status':_0x416ed1?.[_0x45466e(0x59e)],'isBusiness':_0x4da3bc[_0x45466e(0x153)],'email':_0x4da3bc?.[_0x45466e(0x205)],'description':_0x4da3bc?.[_0x45466e(0x136)],'website':_0x4da3bc?.[_0x45466e(0x513)]?.['shift'](),'lastcache':Date['now'](),'imported':!_0x57dc48},_0x41c3ba=await this['repository'][_0x45466e(0x4a4)][_0x45466e(0x1e8)]({'where':{'_id':_0x517b35}},_0x53810c,this[_0x45466e(0x479)][_0x45466e(0x661)]),_0x4f487a={'owner':this[_0x45466e(0x479)][_0x45466e(0x661)],'_id':_0x517b35,'profilePictureUrl':_0x5d3a01,'status':_0x416ed1?.['status']};return this[_0x45466e(0x1d5)][_0x45466e(0x5d7)][_0x45466e(0x589)]([_0x4f487a],this['instance']['wuid']),_0x41c3ba&&J(this[_0x45466e(0x1b4)],'chats',{'chat':_0x41c3ba}),{'wuid':_0x1fe346?.[_0x45466e(0x4b4)]||_0x517b35,'name':_0x1fe346?.[_0x45466e(0x217)],'pushName':_0x4d7423,'numberExists':_0x1fe346?.['exists'],'picture':_0x5d3a01,'status':_0x416ed1?.[_0x45466e(0x59e)],'isBusiness':_0x4da3bc['isBusiness'],'email':_0x4da3bc?.[_0x45466e(0x205)],'description':_0x4da3bc?.['description'],'website':_0x4da3bc?.[_0x45466e(0x513)]?.[_0x45466e(0x128)]()};}catch(_0xe01ad){return this[_0x45466e(0x421)]['error'](_0x45466e(0x15b)+(_0xe01ad instanceof Error?_0xe01ad[_0x45466e(0x34b)]:JSON[_0x45466e(0x27a)](_0xe01ad,null,0x2))),{};}}async[a0_0x20fba6(0x393)](_0x5d9c71){const _0x38bfee=a0_0x20fba6;this[_0x38bfee(0x421)]['verbose'](this[_0x38bfee(0x1b4)]+'\x20('+this['instance']['wuid']+_0x38bfee(0x78b));try{let _0x435037=_0x5d9c71?this['createJid'](_0x5d9c71):this['instance']['wuid'],_0x41ddf2=await this[_0x38bfee(0x483)][_0x38bfee(0x194)](_0x435037);return this['logger'][_0x38bfee(0x76b)](this[_0x38bfee(0x1b4)]+'\x20('+this[_0x38bfee(0x479)]['wuid']+'):Trying\x20to\x20get\x20business\x20profile'),_0x41ddf2?(this[_0x38bfee(0x421)][_0x38bfee(0x76b)](this[_0x38bfee(0x1b4)]+'\x20('+this['instance']['wuid']+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x41ddf2}):{'isBusiness':!0x1,'message':_0x38bfee(0x48d),...(await this['whatsappNumber']({'numbers':[_0x435037]}))?.[_0x38bfee(0x128)]()};}catch(_0x1adb4d){let _0x346e2c=_0x38bfee(0x39f),_0x5596dd=_0x1adb4d instanceof Error?_0x1adb4d[_0x38bfee(0x34b)]:typeof _0x1adb4d==_0x38bfee(0x6ff)?JSON[_0x38bfee(0x27a)](_0x1adb4d):_0x1adb4d,_0x334ef0=_0x346e2c+':\x20'+_0x5596dd;throw this['logger'][_0x38bfee(0x3b7)](this[_0x38bfee(0x1b4)]+'\x20('+this[_0x38bfee(0x479)][_0x38bfee(0x661)]+'):\x20'+_0x334ef0),new x(_0x334ef0);}}async[a0_0x20fba6(0x509)](_0x1a636d){const _0x111a6b=a0_0x20fba6;let _0x3bb5a5=this[_0x111a6b(0x2c0)](_0x1a636d);try{return{'wuid':_0x3bb5a5,'status':(await this[_0x111a6b(0x483)][_0x111a6b(0x33c)](_0x3bb5a5))[0x0]?.[_0x111a6b(0x59e)]};}catch{return{'wuid':_0x3bb5a5,'status':null};}}async['updateProfileName'](_0x4f2006){const _0xb0502b=a0_0x20fba6;try{return await this[_0xb0502b(0x483)][_0xb0502b(0x2d9)](_0x4f2006),{'update':_0xb0502b(0x595)};}catch(_0x38078c){let _0x3eccbd=_0xb0502b(0x24c),_0x36220c=_0x38078c instanceof Error?_0x38078c[_0xb0502b(0x34b)]:typeof _0x38078c==_0xb0502b(0x6ff)?JSON['stringify'](_0x38078c):_0x38078c,_0x85fd6c=_0x3eccbd+':\x20'+_0x36220c;throw this[_0xb0502b(0x421)]['error'](this[_0xb0502b(0x1b4)]+'\x20('+this[_0xb0502b(0x479)][_0xb0502b(0x661)]+_0xb0502b(0x54d)+_0x85fd6c),new x(_0x85fd6c);}}async[a0_0x20fba6(0x40e)](_0x3a606d){const _0x5e75cb=a0_0x20fba6;try{return await this[_0x5e75cb(0x483)][_0x5e75cb(0x40e)](_0x3a606d),{'update':_0x5e75cb(0x595)};}catch(_0xcb06d9){let _0x2afb44=_0x5e75cb(0x39b),_0x15737c=_0xcb06d9 instanceof Error?_0xcb06d9[_0x5e75cb(0x34b)]:typeof _0xcb06d9==_0x5e75cb(0x6ff)?JSON[_0x5e75cb(0x27a)](_0xcb06d9):_0xcb06d9,_0x3844f2=_0x2afb44+':\x20'+_0x15737c;throw this['logger'][_0x5e75cb(0x3b7)](this[_0x5e75cb(0x1b4)]+'\x20('+this[_0x5e75cb(0x479)]['wuid']+_0x5e75cb(0x54d)+_0x3844f2),new x(_0x3844f2);}}async[a0_0x20fba6(0x7aa)](_0x23996b){const _0x5e5392=a0_0x20fba6;try{let _0x37cbf7;if((0x0,k[_0x5e5392(0x34d)])(_0x23996b)){let _0x169ee2=new Date()[_0x5e5392(0x336)](),_0xef342d=_0x23996b+_0x5e5392(0x48b)+_0x169ee2;_0x37cbf7=(await Y[_0x5e5392(0x269)]['get'](_0xef342d,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,k[_0x5e5392(0x550)])(_0x23996b))_0x37cbf7=Buffer[_0x5e5392(0x3e5)](_0x23996b,_0x5e5392(0x697));else throw new m(_0x5e5392(0x158));}return await this[_0x5e5392(0x483)][_0x5e5392(0x7aa)](this[_0x5e5392(0x479)]['wuid'],_0x37cbf7),{'update':'success'};}catch(_0x280a34){let _0xde5fde=_0x5e5392(0x40d),_0x1e6583=_0x280a34 instanceof Error?_0x280a34[_0x5e5392(0x34b)]:typeof _0x280a34=='object'?JSON[_0x5e5392(0x27a)](_0x280a34):_0x280a34,_0x1b7bfa=_0xde5fde+':\x20'+_0x1e6583;throw this[_0x5e5392(0x421)]['error'](this['instanceName']+'\x20('+this[_0x5e5392(0x479)]['wuid']+_0x5e5392(0x54d)+_0x1b7bfa),new x(_0x1b7bfa);}}async[a0_0x20fba6(0x563)](){const _0x3394f0=a0_0x20fba6;try{return await this[_0x3394f0(0x483)][_0x3394f0(0x563)](this[_0x3394f0(0x479)][_0x3394f0(0x661)]),{'update':_0x3394f0(0x595)};}catch(_0x9fa567){let _0x20da2c=_0x3394f0(0x692),_0x23bae7=_0x9fa567 instanceof Error?_0x9fa567[_0x3394f0(0x34b)]:typeof _0x9fa567==_0x3394f0(0x6ff)?JSON[_0x3394f0(0x27a)](_0x9fa567):_0x9fa567,_0x4669e3=_0x20da2c+':\x20'+_0x23bae7;throw this['logger'][_0x3394f0(0x3b7)](this['instanceName']+'\x20('+this[_0x3394f0(0x479)][_0x3394f0(0x661)]+'):\x20'+_0x4669e3),new x(_0x4669e3);}}async['createGroup'](_0x2274ca){const _0x1fd0f7=a0_0x20fba6;try{let _0x253e62=(await this['whatsappNumber']({'numbers':_0x2274ca['participants']}))[_0x1fd0f7(0x7a2)](_0x38d1a8=>_0x38d1a8[_0x1fd0f7(0x478)])[_0x1fd0f7(0x5a9)](_0x396c9c=>_0x396c9c[_0x1fd0f7(0x4b4)]),{id:_0x4fa1ae}=await this[_0x1fd0f7(0x483)][_0x1fd0f7(0x84b)](_0x2274ca[_0x1fd0f7(0x5c7)],_0x253e62);_0x2274ca?.[_0x1fd0f7(0x136)]&&await this[_0x1fd0f7(0x483)][_0x1fd0f7(0x515)](_0x4fa1ae,_0x2274ca[_0x1fd0f7(0x136)]);let _0x31c2bd=await this[_0x1fd0f7(0x483)][_0x1fd0f7(0x555)](_0x4fa1ae);return _0x31c2bd['awaitingApproval']=[],{'metadata':_0x31c2bd};}catch(_0x3637d5){let _0x2745eb=_0x1fd0f7(0x7bc),_0x3b636b=_0x3637d5 instanceof Error?_0x3637d5[_0x1fd0f7(0x34b)]:typeof _0x3637d5==_0x1fd0f7(0x6ff)?JSON[_0x1fd0f7(0x27a)](_0x3637d5):_0x3637d5,_0x46ee9e=_0x2745eb+':\x20'+_0x3b636b;throw this[_0x1fd0f7(0x421)][_0x1fd0f7(0x3b7)](this[_0x1fd0f7(0x1b4)]+'\x20('+this[_0x1fd0f7(0x479)][_0x1fd0f7(0x661)]+_0x1fd0f7(0x54d)+_0x46ee9e),new x(_0x46ee9e);}}async['groupBetterSetting'](_0x5232d6){const _0x3cbba7=a0_0x20fba6;try{if(_0x5232d6['restrict']===!0x0&&await this[_0x3cbba7(0x483)][_0x3cbba7(0x81d)](_0x5232d6[_0x3cbba7(0x5bf)],_0x3cbba7(0x291)),_0x5232d6[_0x3cbba7(0x1e1)]===!0x1&&await this[_0x3cbba7(0x483)]['groupSettingUpdate'](_0x5232d6[_0x3cbba7(0x5bf)],_0x3cbba7(0x633)),_0x5232d6[_0x3cbba7(0x6f0)]===!0x0&&await this['client']['groupSettingUpdate'](_0x5232d6[_0x3cbba7(0x5bf)],_0x3cbba7(0x703)),_0x5232d6[_0x3cbba7(0x6f0)]===!0x1&&await this[_0x3cbba7(0x483)]['groupSettingUpdate'](_0x5232d6[_0x3cbba7(0x5bf)],_0x3cbba7(0x12e)),_0x5232d6[_0x3cbba7(0x6e8)]===!0x0&&await this[_0x3cbba7(0x483)][_0x3cbba7(0x5b7)](_0x5232d6['groupJid'],_0x3cbba7(0x74e)),_0x5232d6[_0x3cbba7(0x6e8)]===!0x1&&await this['client'][_0x3cbba7(0x5b7)](_0x5232d6[_0x3cbba7(0x5bf)],'admin_add'),_0x5232d6['joinApprovalMode']===!0x0&&await this[_0x3cbba7(0x483)][_0x3cbba7(0x5da)](_0x5232d6['groupJid'],'on'),_0x5232d6['joinApprovalMode']===!0x1&&await this['client'][_0x3cbba7(0x5da)](_0x5232d6['groupJid'],_0x3cbba7(0x626)),typeof _0x5232d6[_0x3cbba7(0x27f)]<'u'&&_0x5232d6['expiration']!==null&&await this['client'][_0x3cbba7(0x516)](_0x5232d6[_0x3cbba7(0x5bf)],_0x5232d6[_0x3cbba7(0x27f)]),_0x5232d6[_0x3cbba7(0x217)]&&await this[_0x3cbba7(0x483)]['groupUpdateSubject'](_0x5232d6['groupJid'],_0x5232d6[_0x3cbba7(0x217)]),_0x5232d6[_0x3cbba7(0x136)]&&await this[_0x3cbba7(0x483)][_0x3cbba7(0x515)](_0x5232d6[_0x3cbba7(0x5bf)],_0x5232d6[_0x3cbba7(0x136)]),_0x5232d6[_0x3cbba7(0x73b)]){let _0xde55d9;if((0x0,k[_0x3cbba7(0x34d)])(_0x5232d6[_0x3cbba7(0x73b)])){let _0x3fccfa=new Date()[_0x3cbba7(0x336)](),_0x4aba5b=_0x5232d6[_0x3cbba7(0x73b)]+'?timestamp='+_0x3fccfa;_0xde55d9=(await Y[_0x3cbba7(0x269)]['get'](_0x4aba5b,{'responseType':_0x3cbba7(0x683)}))['data'];}else{if((0x0,k[_0x3cbba7(0x550)])(_0x5232d6[_0x3cbba7(0x73b)]))_0xde55d9=Buffer[_0x3cbba7(0x3e5)](_0x5232d6[_0x3cbba7(0x73b)],'base64');else throw new m(_0x3cbba7(0x158));}await this[_0x3cbba7(0x483)][_0x3cbba7(0x7aa)](_0x5232d6['groupJid'],_0xde55d9);}return await this[_0x3cbba7(0x5fb)]({'groupJid':_0x5232d6[_0x3cbba7(0x5bf)]});}catch(_0x48e05e){let _0x42b852='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x18c234=_0x48e05e instanceof Error?_0x48e05e[_0x3cbba7(0x34b)]:typeof _0x48e05e==_0x3cbba7(0x6ff)?JSON[_0x3cbba7(0x27a)](_0x48e05e):_0x48e05e,_0x583943=_0x42b852+':\x20'+_0x18c234;throw this[_0x3cbba7(0x421)][_0x3cbba7(0x3b7)](this[_0x3cbba7(0x1b4)]+'\x20('+this[_0x3cbba7(0x479)][_0x3cbba7(0x661)]+_0x3cbba7(0x54d)+_0x583943),new x(_0x583943);}}async[a0_0x20fba6(0x45a)](_0x308af7){const _0x565bd1=a0_0x20fba6;try{if(_0x308af7['action']===_0x565bd1(0x254)||_0x308af7[_0x565bd1(0x37f)]===_0x565bd1(0x848)){let _0x209886=_0x308af7[_0x565bd1(0x261)][_0x565bd1(0x5a9)](_0x58742f=>this[_0x565bd1(0x2c0)](_0x58742f));await this[_0x565bd1(0x483)][_0x565bd1(0x7c9)](_0x308af7[_0x565bd1(0x5bf)],_0x209886,_0x308af7[_0x565bd1(0x37f)]);}else{if(_0x308af7[_0x565bd1(0x37f)]===_0x565bd1(0x86c)){let _0x4a6fe1=(await this[_0x565bd1(0x43c)]({'numbers':_0x308af7[_0x565bd1(0x261)]}))['filter'](_0x4ea803=>_0x4ea803[_0x565bd1(0x478)])[_0x565bd1(0x5a9)](_0xedd9ff=>this['createJid'](_0xedd9ff[_0x565bd1(0x4b4)]));if(_0x4a6fe1[_0x565bd1(0x21c)]===0x0)throw new m(_0x565bd1(0x3ab));await this[_0x565bd1(0x483)][_0x565bd1(0x605)](_0x308af7[_0x565bd1(0x5bf)],_0x4a6fe1,_0x565bd1(0x86c));}else{let _0xb9b21d=_0x308af7[_0x565bd1(0x261)][_0x565bd1(0x5a9)](_0x1f54b6=>this[_0x565bd1(0x2c0)](_0x1f54b6));await this['client'][_0x565bd1(0x605)](_0x308af7[_0x565bd1(0x5bf)],_0xb9b21d,_0x308af7['action']);}}return await this[_0x565bd1(0x5fb)]({'groupJid':_0x308af7[_0x565bd1(0x5bf)]});}catch(_0x47dffb){let _0x33cd51=_0x565bd1(0x405),_0x392d74=_0x47dffb instanceof Error?_0x47dffb['message']:typeof _0x47dffb==_0x565bd1(0x6ff)?JSON[_0x565bd1(0x27a)](_0x47dffb):_0x47dffb,_0x1f500e=_0x33cd51+':\x20'+_0x392d74;throw this[_0x565bd1(0x421)][_0x565bd1(0x3b7)](this[_0x565bd1(0x1b4)]+'\x20('+this[_0x565bd1(0x479)][_0x565bd1(0x661)]+'):\x20'+_0x1f500e),new m(_0x1f500e);}}async['groupGetInviteInfo'](_0x35ba50){const _0x30d0b2=a0_0x20fba6;try{return await this[_0x30d0b2(0x483)][_0x30d0b2(0x868)](_0x35ba50['inviteCode']);}catch(_0x4d14db){let _0x5a1288='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x2ed8f9=_0x4d14db instanceof Error?_0x4d14db[_0x30d0b2(0x34b)]:typeof _0x4d14db==_0x30d0b2(0x6ff)?JSON[_0x30d0b2(0x27a)](_0x4d14db):_0x4d14db,_0x24a10c=_0x5a1288+':\x20'+_0x2ed8f9;throw this[_0x30d0b2(0x421)]['error'](this[_0x30d0b2(0x1b4)]+'\x20('+this[_0x30d0b2(0x479)][_0x30d0b2(0x661)]+'):\x20'+_0x24a10c),new m(_0x24a10c);}}async['findGroup'](_0x185236,_0x4b2883=a0_0x20fba6(0x299)){const _0x46d56a=a0_0x20fba6;try{let _0x367b40=await this[_0x46d56a(0x1d5)][_0x46d56a(0x4a4)][_0x46d56a(0x79e)]({'where':{'_id':_0x185236['groupJid']}},this[_0x46d56a(0x479)][_0x46d56a(0x661)]),_0x3ccf82=_0x367b40?_0x367b40['groupdata']:null,_0x56a2ec=0x18*0x3c*0x3c*0x3e8;if(!_0x3ccf82||_0x3ccf82[_0x46d56a(0x676)]&&Date[_0x46d56a(0x1a6)]()-_0x3ccf82[_0x46d56a(0x676)]>_0x56a2ec){let _0x42ec9e=await this['client'][_0x46d56a(0x555)](_0x185236[_0x46d56a(0x5bf)]);if(_0x42ec9e[_0x46d56a(0x255)]=_0x42ec9e?.['subjectTime']&&_0x42ec9e[_0x46d56a(0x255)][_0x46d56a(0x176)]()[_0x46d56a(0x21c)]<0xd?_0x42ec9e?.[_0x46d56a(0x255)]*0x3e8:_0x42ec9e?.[_0x46d56a(0x255)]||null,_0x42ec9e[_0x46d56a(0x29d)]=_0x42ec9e?.[_0x46d56a(0x29d)]&&_0x42ec9e[_0x46d56a(0x29d)][_0x46d56a(0x176)]()[_0x46d56a(0x21c)]<0xd?_0x42ec9e?.[_0x46d56a(0x29d)]*0x3e8:_0x42ec9e?.['creation']||null,_0x3ccf82={..._0x42ec9e,'lastUpdate':Date[_0x46d56a(0x1a6)]()},!_0x42ec9e)return;}let _0x1d0c21=_0x3ccf82[_0x46d56a(0x261)][_0x46d56a(0x836)](_0x124213=>_0x124213['id']===this[_0x46d56a(0x479)][_0x46d56a(0x661)]+_0x46d56a(0x1e4)&&_0x124213[_0x46d56a(0x63a)]!=null);!_0x3ccf82['inviteCode']&&_0x1d0c21&&(_0x3ccf82[_0x46d56a(0x7f3)]=(await this[_0x46d56a(0x7f3)](_0x185236,!0x1))[_0x46d56a(0x730)]);let _0x592195=(!_0x3ccf82[_0x46d56a(0x6f0)]||_0x1d0c21)&&(!_0x3ccf82[_0x46d56a(0x149)]||_0x3ccf82['isCommunity']&&_0x3ccf82['isCommunityAnnounce']&&_0x1d0c21);_0x3ccf82[_0x46d56a(0x14a)]=_0x1d0c21,_0x3ccf82['canSendMessage']=_0x592195;let _0x5824cc=[];if(_0x1d0c21&&_0x3ccf82[_0x46d56a(0x463)])try{_0x5824cc=await this[_0x46d56a(0x483)][_0x46d56a(0x292)](_0x185236[_0x46d56a(0x5bf)]),_0x3ccf82['lastFetchAwaitingApproval']=Date['now']();}catch(_0x1efb1c){this['logger'][_0x46d56a(0x76b)](this[_0x46d56a(0x1b4)]+'\x20('+this[_0x46d56a(0x479)][_0x46d56a(0x661)]+_0x46d56a(0x4c9)+_0x185236[_0x46d56a(0x5bf)]+':\x20'+(_0x1efb1c instanceof Error?_0x1efb1c[_0x46d56a(0x34b)]:JSON[_0x46d56a(0x27a)](_0x1efb1c,null,0x2)));}try{_0x3ccf82[_0x46d56a(0x73b)]=(await this[_0x46d56a(0x47e)](_0x185236[_0x46d56a(0x5bf)],null,!0x0))[_0x46d56a(0x5b0)]['pictureUrl'];}catch(_0x147ee1){this[_0x46d56a(0x421)][_0x46d56a(0x76b)](this[_0x46d56a(0x1b4)]+'\x20('+this['instance']['wuid']+_0x46d56a(0x61b)+_0x185236[_0x46d56a(0x5bf)]+':\x20'+(_0x147ee1 instanceof Error?_0x147ee1[_0x46d56a(0x34b)]:JSON[_0x46d56a(0x27a)](_0x147ee1,null,0x2)));}let _0xade8c7=_0x3ccf82[_0x46d56a(0x261)][_0x46d56a(0x5a9)](_0x521402=>_0x521402['id']),_0x36c47c=_0x5824cc[_0x46d56a(0x5a9)](_0x57f508=>_0x57f508[_0x46d56a(0x4b4)]),_0x57c829=await this['repository']['cacheContact'][_0x46d56a(0x487)]([..._0xade8c7,..._0x36c47c]);_0x3ccf82[_0x46d56a(0x261)]=_0x3ccf82[_0x46d56a(0x261)][_0x46d56a(0x5a9)](_0x402866=>{const _0x500153=_0x46d56a;let _0x5c7847=_0x57c829[_0x500153(0x568)](_0x24a60d=>_0x24a60d[_0x500153(0x2a0)]===_0x402866['id']);return{'id':_0x402866['id'],'isAdmin':['admin',_0x500153(0x572)][_0x500153(0x4b0)](_0x402866[_0x500153(0x63a)]),'admin':_0x402866[_0x500153(0x63a)],'pushName':_0x5c7847?.[_0x500153(0x217)],'profilePictureUrl':_0x5c7847?.[_0x500153(0x75a)]};}),_0x3ccf82[_0x46d56a(0x3a4)]=_0x5824cc[_0x46d56a(0x5a9)](_0x5df51b=>{const _0x128198=_0x46d56a;let _0x6b9500=_0x57c829['find'](_0x24ceb8=>_0x24ceb8[_0x128198(0x2a0)]===_0x5df51b[_0x128198(0x4b4)]);return{'id':_0x5df51b[_0x128198(0x4b4)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x6b9500?.[_0x128198(0x217)],'profilePictureUrl':_0x6b9500?.[_0x128198(0x75a)],'request_method':_0x5df51b[_0x128198(0x535)],'request_time':_0x5df51b[_0x128198(0x4a2)]};});let _0x3c0a3a=await this[_0x46d56a(0x1d5)][_0x46d56a(0x4a4)][_0x46d56a(0x1e8)]({'where':{'_id':_0x185236[_0x46d56a(0x5bf)]}},{'imagechat':_0x3ccf82['image'],'name':_0x3ccf82[_0x46d56a(0x5c7)],'lastcache':Date[_0x46d56a(0x1a6)](),'groupdata':_0x3ccf82},this['instance']['wuid']);return J(this[_0x46d56a(0x1b4)],_0x46d56a(0x6f9),{'chat':_0x3c0a3a}),{'metadata':_0x3ccf82};}catch(_0x53788f){if(_0x4b2883===_0x46d56a(0x6fa))return;throw new j(_0x46d56a(0x399),_0x53788f[_0x46d56a(0x34b)][_0x46d56a(0x176)]());}}async[a0_0x20fba6(0x58f)](){const _0x160253=a0_0x20fba6;try{this[_0x160253(0x421)][_0x160253(0x7d7)](_0x160253(0x540));let _0x4815d7=Date['now'](),_0x50e45f=0x3*0x3c*0x3c*0x3e8;return _0x4815d7-this[_0x160253(0x6d4)]>_0x50e45f&&(this['findRealGroups'](),this['lastRealGroupsFetch']=_0x4815d7),(await this['repository']['chat'][_0x160253(0x643)]({'where':{'group':!0x0}},this[_0x160253(0x479)][_0x160253(0x661)]))[_0x160253(0x5a9)](_0x5e847a=>({..._0x5e847a[_0x160253(0x2a8)],'groupJid':_0x5e847a?.[_0x160253(0x2a0)],'participants':_0x5e847a?.['groupdata']?.[_0x160253(0x261)]||[],'awaitingApproval':_0x5e847a?.['groupdata']?.['awaitingApproval']||[],'image':_0x5e847a?.[_0x160253(0x4c3)]}));}catch(_0x176b95){let _0x1bae3d=_0x160253(0x244),_0x4ae4e8=_0x176b95 instanceof Error?_0x176b95[_0x160253(0x34b)]:typeof _0x176b95==_0x160253(0x6ff)?JSON['stringify'](_0x176b95):_0x176b95,_0x6b98ab=_0x1bae3d+':\x20'+_0x4ae4e8;throw this[_0x160253(0x421)]['error'](this[_0x160253(0x1b4)]+'\x20('+this[_0x160253(0x479)][_0x160253(0x661)]+_0x160253(0x54d)+_0x6b98ab),new j(_0x6b98ab);}}async[a0_0x20fba6(0x743)](){const _0x31754b=a0_0x20fba6;try{this[_0x31754b(0x421)][_0x31754b(0x7d7)](_0x31754b(0x211));let _0xc8c4d3=[],_0x20714d=await this[_0x31754b(0x483)][_0x31754b(0x32a)](),_0x523c50=Object[_0x31754b(0x1cf)](_0x20714d),_0x409b23=_0x523c50[_0x31754b(0x7a2)](_0x43a771=>(0x0,w[_0x31754b(0x6d6)])(_0x43a771?.['id']))[_0x31754b(0x5a9)](async _0x2b97e5=>{const _0x3afefd=_0x31754b;try{return await this[_0x3afefd(0x483)][_0x3afefd(0x776)](_0x2b97e5['id'],_0x3afefd(0x5f5));}catch(_0x231bd9){return this['logger'][_0x3afefd(0x76b)](this[_0x3afefd(0x1b4)]+'\x20('+this[_0x3afefd(0x479)][_0x3afefd(0x661)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x2b97e5['id']+':\x20'+(_0x231bd9 instanceof Error?_0x231bd9['message']:JSON[_0x3afefd(0x27a)](_0x231bd9,null,0x2))),null;}}),_0x2b77f9=await Promise[_0x31754b(0x1f6)](_0x409b23);for(let _0x4285b1=0x0;_0x4285b1<_0x523c50[_0x31754b(0x21c)];_0x4285b1++){let _0x187f26=_0x523c50[_0x4285b1];(0x0,w[_0x31754b(0x6d6)])(_0x187f26?.['id'])&&(_0xc8c4d3['push']({'groupJid':_0x187f26?.['id'],'subject':_0x187f26?.[_0x31754b(0x5c7)],'subjectOwner':_0x187f26?.[_0x31754b(0x42a)]?.[_0x31754b(0x2fc)]('@')[0x0],'subjectTime':_0x187f26?.[_0x31754b(0x255)],'creation':_0x187f26?.[_0x31754b(0x29d)],'size':_0x187f26?.['participants']?.['length'],'owner':_0x187f26?.['owner']?.[_0x31754b(0x2fc)]('@')[0x0],'desc':_0x187f26?.['desc'],'restrict':_0x187f26?.['restrict'],'announce':_0x187f26?.[_0x31754b(0x6f0)],'image':_0x2b77f9[_0x4285b1],'isCommunity':_0x187f26?.[_0x31754b(0x149)],'joinApprovalMode':_0x187f26?.[_0x31754b(0x463)],'memberCanAddParticipant':_0x187f26?.[_0x31754b(0x6e8)],'participants':_0x187f26?.[_0x31754b(0x261)],'descOwner':_0x187f26?.[_0x31754b(0x4a3)],'descId':_0x187f26?.[_0x31754b(0x3dd)],'memberAddMode':_0x187f26?.[_0x31754b(0x6e8)],'isCommunityAnnounce':_0x187f26?.[_0x31754b(0x80d)],'ephemeralDuration':_0x187f26?.[_0x31754b(0x4e6)]||0x0,'author':_0x187f26?.[_0x31754b(0x779)]}),this[_0x31754b(0x869)](_0x523c50[_0x4285b1]));}return _0xc8c4d3;}catch(_0x3668ed){let _0x2858dd=_0x31754b(0x610),_0x597114=_0x3668ed instanceof Error?_0x3668ed[_0x31754b(0x34b)]:typeof _0x3668ed=='object'?JSON[_0x31754b(0x27a)](_0x3668ed):_0x3668ed,_0x296f0c=_0x2858dd+':\x20'+_0x597114;throw this[_0x31754b(0x421)]['error'](this[_0x31754b(0x1b4)]+'\x20('+this[_0x31754b(0x479)][_0x31754b(0x661)]+_0x31754b(0x54d)+_0x296f0c),new j(_0x296f0c);}}async['updateChatGroupData'](_0x7b397c){const _0x55a7ad=a0_0x20fba6;let _0x7f93e5=await this['repository']['chat'][_0x55a7ad(0x79e)]({'where':{'_id':_0x7b397c['id']}},this[_0x55a7ad(0x479)]['wuid']);_0x7b397c['subjectTime']=_0x7b397c?.[_0x55a7ad(0x255)]&&_0x7b397c['subjectTime'][_0x55a7ad(0x176)]()[_0x55a7ad(0x21c)]<0xd?_0x7b397c?.[_0x55a7ad(0x255)]*0x3e8:_0x7b397c?.[_0x55a7ad(0x255)]||null,_0x7b397c[_0x55a7ad(0x29d)]=_0x7b397c?.[_0x55a7ad(0x29d)]&&_0x7b397c[_0x55a7ad(0x29d)][_0x55a7ad(0x176)]()[_0x55a7ad(0x21c)]<0xd?_0x7b397c?.['creation']*0x3e8:_0x7b397c?.[_0x55a7ad(0x29d)]||null;let _0x14d09e=_0x7f93e5?.[_0x55a7ad(0x2a8)]?.[_0x55a7ad(0x3a4)]||[],_0x5c0de6=_0x7f93e5?.[_0x55a7ad(0x2a8)]?.[_0x55a7ad(0x7cc)],_0x5cf233=_0x7b397c[_0x55a7ad(0x261)][_0x55a7ad(0x5a9)](_0x5f3187=>{const _0x50d858=_0x55a7ad;let _0x552e81=_0x7f93e5?.['groupdata']?.[_0x50d858(0x261)][_0x50d858(0x568)](_0x47d5b2=>_0x47d5b2['id']===_0x5f3187['id']);return{..._0x5f3187,'isAdmin':[_0x50d858(0x63a),_0x50d858(0x572)]['includes'](_0x5f3187['admin']),'admin':_0x5f3187[_0x50d858(0x63a)],'name':_0x552e81?.[_0x50d858(0x217)]||_0x5f3187['name'],'imgUrl':_0x552e81?.['imgUrl']||_0x5f3187[_0x50d858(0x622)]};}),_0x2bb79d=_0x5cf233[_0x55a7ad(0x836)](_0x2bd8a5=>_0x2bd8a5['id']===this[_0x55a7ad(0x479)][_0x55a7ad(0x661)]+_0x55a7ad(0x1e4)&&_0x2bd8a5['isAdmin']),_0x35e75d=(!_0x7b397c[_0x55a7ad(0x6f0)]||_0x2bb79d)&&(!_0x7b397c[_0x55a7ad(0x149)]||_0x7b397c[_0x55a7ad(0x149)]&&_0x7b397c[_0x55a7ad(0x80d)]&&_0x2bb79d),_0x4e84e6={..._0x7b397c,'participants':_0x5cf233,'awaitingApproval':_0x14d09e,'lastFetchAwaitingApproval':_0x5c0de6,'isAdmin':_0x2bb79d,'canSendMessage':_0x35e75d,'lastUpdate':Date[_0x55a7ad(0x1a6)]()};await this[_0x55a7ad(0x1d5)][_0x55a7ad(0x4a4)][_0x55a7ad(0x1e8)]({'where':{'_id':_0x7b397c['id']}},{'name':_0x7b397c[_0x55a7ad(0x5c7)],'group':!0x0,'groupdata':_0x4e84e6,'lastcache':Date[_0x55a7ad(0x1a6)]()},this[_0x55a7ad(0x479)]['wuid']),J(this[_0x55a7ad(0x1b4)],_0x55a7ad(0x6f9),{'chat':_0x7b397c});}async['updateGroupWebhook'](_0x58cb62){const _0x57a83b=a0_0x20fba6;let _0x4e1d96=await this[_0x57a83b(0x1d5)][_0x57a83b(0x4a4)][_0x57a83b(0x79e)]({'where':{'_id':_0x58cb62['id']}},this[_0x57a83b(0x479)][_0x57a83b(0x661)]);_0x58cb62['subjectTime']=_0x58cb62?.[_0x57a83b(0x255)]&&_0x58cb62[_0x57a83b(0x255)][_0x57a83b(0x176)]()[_0x57a83b(0x21c)]<0xd?_0x58cb62?.['subjectTime']*0x3e8:_0x58cb62?.[_0x57a83b(0x255)]||null,_0x58cb62[_0x57a83b(0x29d)]=_0x58cb62?.[_0x57a83b(0x29d)]&&_0x58cb62[_0x57a83b(0x29d)]['toString']()[_0x57a83b(0x21c)]<0xd?_0x58cb62?.['creation']*0x3e8:_0x58cb62?.[_0x57a83b(0x29d)]||null,_0x58cb62[_0x57a83b(0x7f3)]&&(_0x58cb62[_0x57a83b(0x7f3)]=_0x57a83b(0x72a)+_0x58cb62['inviteCode']);let _0x587547=_0x4e1d96?.[_0x57a83b(0x2a8)]?{..._0x4e1d96[_0x57a83b(0x2a8)]}:{};Object[_0x57a83b(0x1c7)](_0x58cb62)['forEach'](_0x38119a=>{_0x38119a!=='id'&&(_0x587547[_0x38119a]=_0x58cb62[_0x38119a]);});let _0x15ca36=_0x587547[_0x57a83b(0x261)]?.['some'](_0x49ef27=>_0x49ef27['id']===this[_0x57a83b(0x479)][_0x57a83b(0x661)]+_0x57a83b(0x1e4)&&_0x49ef27[_0x57a83b(0x14a)])||!0x1;_0x587547[_0x57a83b(0x14a)]=_0x15ca36;let _0xd1f5d2=(!_0x587547[_0x57a83b(0x6f0)]||_0x15ca36)&&(!_0x587547[_0x57a83b(0x149)]||_0x587547[_0x57a83b(0x149)]&&_0x587547['isCommunityAnnounce']&&_0x15ca36);_0x587547[_0x57a83b(0x25c)]=_0xd1f5d2;let _0x5d4580={'group':!0x0,'groupdata':_0x587547};_0x58cb62[_0x57a83b(0x5c7)]&&(_0x5d4580[_0x57a83b(0x217)]=_0x58cb62[_0x57a83b(0x5c7)]),await this[_0x57a83b(0x1d5)][_0x57a83b(0x4a4)][_0x57a83b(0x1e8)]({'where':{'_id':_0x58cb62['id']}},_0x5d4580,this[_0x57a83b(0x479)]['wuid'],{'upsert':!0x0}),J(this[_0x57a83b(0x1b4)],_0x57a83b(0x6f9),{'chat':_0x5d4580});}async[a0_0x20fba6(0x1a7)](_0x44311d){const _0x294395=a0_0x20fba6;let _0x5a96b9=await this['repository'][_0x294395(0x4a4)][_0x294395(0x79e)]({'where':{'_id':_0x44311d['id']}},this[_0x294395(0x479)]['wuid']);if(!_0x5a96b9||!_0x5a96b9[_0x294395(0x2a8)]){this[_0x294395(0x421)][_0x294395(0x7d7)](this[_0x294395(0x1b4)]+'\x20('+this[_0x294395(0x479)][_0x294395(0x661)]+_0x294395(0x82b)+_0x44311d['id']);return;}let _0x27e00d=await this[_0x294395(0x1d5)][_0x294395(0x6ec)]['findManyByIds'](_0x44311d['participants']),_0x5b9331=[..._0x5a96b9['groupdata']?.[_0x294395(0x261)]];switch(_0x44311d[_0x294395(0x37f)]){case _0x294395(0x86c):let _0x535adb=_0x27e00d['map'](_0x2fce46=>({'id':_0x2fce46[_0x294395(0x2a0)],'isAdmin':!0x1,'name':_0x2fce46[_0x294395(0x217)],'imgUrl':_0x2fce46[_0x294395(0x75a)]}));_0x5b9331=[..._0x5b9331,..._0x535adb];break;case _0x294395(0x419):_0x5b9331=_0x5b9331[_0x294395(0x7a2)](_0x38cbe4=>!_0x44311d[_0x294395(0x261)]['includes'](_0x38cbe4['id']));break;case _0x294395(0x360):case'demote':_0x5b9331=_0x5b9331[_0x294395(0x5a9)](_0x24dcd9=>_0x44311d[_0x294395(0x261)][_0x294395(0x4b0)](_0x24dcd9['id'])?{..._0x24dcd9,'isAdmin':_0x44311d[_0x294395(0x37f)]===_0x294395(0x360)}:_0x24dcd9);break;}let _0x2be161=_0x5b9331[_0x294395(0x21c)],_0x29347b=_0x5b9331['some'](_0x28f770=>_0x28f770['id']===this['instance'][_0x294395(0x661)]+_0x294395(0x1e4)),_0x561c86=_0x29347b&&_0x5b9331[_0x294395(0x836)](_0x1691fa=>_0x1691fa['id']===this['instance'][_0x294395(0x661)]+'@s.whatsapp.net'&&_0x1691fa[_0x294395(0x14a)]),_0x14aae3=_0x29347b&&(!_0x5a96b9[_0x294395(0x2a8)][_0x294395(0x6f0)]||_0x561c86)&&(!_0x5a96b9[_0x294395(0x2a8)][_0x294395(0x149)]||_0x5a96b9[_0x294395(0x2a8)][_0x294395(0x149)]&&_0x561c86);await this['repository'][_0x294395(0x4a4)][_0x294395(0x1e8)]({'where':{'_id':_0x44311d['id']}},{'groupdata':{..._0x5a96b9['groupdata'],'participants':_0x5b9331,'size':_0x2be161,'isAdmin':_0x561c86,'canSendMessage':_0x14aae3}},this[_0x294395(0x479)][_0x294395(0x661)]),this[_0x294395(0x421)][_0x294395(0x7d7)](this[_0x294395(0x1b4)]+'\x20('+this[_0x294395(0x479)][_0x294395(0x661)]+_0x294395(0x34c)+_0x44311d['id']+_0x294395(0x85b)+_0x44311d[_0x294395(0x37f)]+_0x294395(0x778)+_0x2be161+_0x294395(0x65d)+_0x561c86+_0x294395(0x494)+_0x14aae3);}async['inviteCode'](_0x377f3d,_0x2ccabc=!0x0){const _0x33f14e=a0_0x20fba6;try{let _0x2c26df=await this[_0x33f14e(0x483)][_0x33f14e(0x2d1)](_0x377f3d[_0x33f14e(0x5bf)]),_0x1c0a96={'groupdata.inviteCode':_0x33f14e(0x72a)+_0x2c26df};if(_0x2ccabc){let _0x29d4c1=await this[_0x33f14e(0x1d5)][_0x33f14e(0x4a4)][_0x33f14e(0x1e8)]({'where':{'_id':_0x377f3d[_0x33f14e(0x5bf)]}},_0x1c0a96,this[_0x33f14e(0x479)][_0x33f14e(0x661)]);}return{'inviteUrl':_0x33f14e(0x72a)+_0x2c26df,'inviteCode':_0x2c26df};}catch(_0x2bfcc0){let _0x5b6247=_0x33f14e(0x1f1),_0x5a2783=_0x2bfcc0 instanceof Error?_0x2bfcc0['message']:typeof _0x2bfcc0==_0x33f14e(0x6ff)?JSON[_0x33f14e(0x27a)](_0x2bfcc0):_0x2bfcc0,_0x141fd6=_0x5b6247+':\x20'+_0x5a2783;throw this[_0x33f14e(0x421)][_0x33f14e(0x3b7)](this[_0x33f14e(0x1b4)]+'\x20('+this['instance'][_0x33f14e(0x661)]+'):\x20'+_0x141fd6),new j(_0x141fd6);}}async[a0_0x20fba6(0x6a5)](_0x3b5967){const _0x2589a2=a0_0x20fba6;try{let _0x45cb60=await this[_0x2589a2(0x483)]['groupRevokeInvite'](_0x3b5967[_0x2589a2(0x5bf)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x45cb60,'inviteCode':_0x45cb60};}catch(_0x5afcf7){let _0x3c4f86=_0x2589a2(0x486),_0x4b3bb3=_0x5afcf7 instanceof Error?_0x5afcf7[_0x2589a2(0x34b)]:typeof _0x5afcf7==_0x2589a2(0x6ff)?JSON['stringify'](_0x5afcf7):_0x5afcf7,_0x3a296d=_0x3c4f86+':\x20'+_0x4b3bb3;throw this[_0x2589a2(0x421)]['error'](this[_0x2589a2(0x1b4)]+'\x20('+this[_0x2589a2(0x479)]['wuid']+_0x2589a2(0x54d)+_0x3a296d),new j(_0x3a296d);}}async[a0_0x20fba6(0x78a)](_0xfa54cf){const _0x3c24f0=a0_0x20fba6;try{if((0x0,k['isURL'])(_0xfa54cf[_0x3c24f0(0x7f3)]))var _0x5a40f3=_0xfa54cf[_0x3c24f0(0x7f3)][_0x3c24f0(0x2fc)]('/')[0x3];else var _0x5a40f3=_0xfa54cf[_0x3c24f0(0x7f3)];let _0x108c53=await this['client'][_0x3c24f0(0x5d6)](_0x5a40f3);return this[_0x3c24f0(0x421)][_0x3c24f0(0x76b)](this['instanceName']+'\x20('+this[_0x3c24f0(0x479)][_0x3c24f0(0x661)]+_0x3c24f0(0x54d)+_0x108c53),{'join':!0x0,'inviteCode':_0x5a40f3,'groupJid':_0x108c53};}catch(_0x50f962){let _0x2f3538=_0x3c24f0(0x25d),_0x12302d=_0x50f962 instanceof Error?_0x50f962['message']:typeof _0x50f962==_0x3c24f0(0x6ff)?JSON[_0x3c24f0(0x27a)](_0x50f962):_0x50f962,_0x1f0ba6=_0x2f3538+':\x20'+_0x12302d;throw this[_0x3c24f0(0x421)][_0x3c24f0(0x3b7)](this[_0x3c24f0(0x1b4)]+'\x20('+this[_0x3c24f0(0x479)][_0x3c24f0(0x661)]+_0x3c24f0(0x54d)+_0x1f0ba6),new j(_0x1f0ba6);}}async['findParticipants'](_0x55ff0a){const _0x5494ff=a0_0x20fba6;try{return{'participants':(await this[_0x5494ff(0x1d5)]['chat'][_0x5494ff(0x79e)]({'where':{'_id':_0x55ff0a[_0x5494ff(0x5bf)]}},this[_0x5494ff(0x479)][_0x5494ff(0x661)]))[_0x5494ff(0x2a8)][_0x5494ff(0x261)]};}catch(_0x2213e7){let _0x380248=_0x5494ff(0x2d3),_0x326946=_0x2213e7 instanceof Error?_0x2213e7['message']:typeof _0x2213e7==_0x5494ff(0x6ff)?JSON[_0x5494ff(0x27a)](_0x2213e7):_0x2213e7,_0x5aeaf7=_0x380248+':\x20'+_0x326946;throw this[_0x5494ff(0x421)][_0x5494ff(0x3b7)](this[_0x5494ff(0x1b4)]+'\x20('+this[_0x5494ff(0x479)][_0x5494ff(0x661)]+_0x5494ff(0x54d)+_0x5aeaf7),new j(_0x5aeaf7);}}async[a0_0x20fba6(0x1ea)](_0x17bf8c){const _0x53f1ab=a0_0x20fba6;try{return await this[_0x53f1ab(0x483)][_0x53f1ab(0x6ca)](_0x17bf8c['groupJid']),{'groupJid':_0x17bf8c[_0x53f1ab(0x5bf)],'leave':!0x0};}catch(_0x1c7812){let _0x3ed914=_0x53f1ab(0x5e6),_0xc14cc1=_0x1c7812 instanceof Error?_0x1c7812[_0x53f1ab(0x34b)]:typeof _0x1c7812==_0x53f1ab(0x6ff)?JSON[_0x53f1ab(0x27a)](_0x1c7812):_0x1c7812,_0x145ae4=_0x3ed914+':\x20'+_0xc14cc1;throw this[_0x53f1ab(0x421)]['error'](this['instanceName']+'\x20('+this[_0x53f1ab(0x479)]['wuid']+_0x53f1ab(0x54d)+_0x145ae4),new m(_0x145ae4);}}async[a0_0x20fba6(0x5f8)](_0x3b1666){const _0x1794f7=a0_0x20fba6;return await this[_0x1794f7(0x44d)](_0x3b1666['number'],{'poll':{'name':_0x3b1666[_0x1794f7(0x5f8)]?.['name'],'selectableCount':_0x3b1666[_0x1794f7(0x5f8)][_0x1794f7(0x21e)],'values':_0x3b1666[_0x1794f7(0x5f8)]['values']}},_0x3b1666?.['options']);}async[a0_0x20fba6(0x461)](_0x2d7bcf){const _0x10bfed=a0_0x20fba6;return await this[_0x10bfed(0x44d)](_0x2d7bcf[_0x10bfed(0x63d)],{'listMessage':{'title':_0x2d7bcf[_0x10bfed(0x461)][_0x10bfed(0x664)],'description':_0x2d7bcf[_0x10bfed(0x461)][_0x10bfed(0x136)],'buttonText':_0x2d7bcf[_0x10bfed(0x461)]?.[_0x10bfed(0x7ef)],'footerText':_0x2d7bcf[_0x10bfed(0x461)]?.[_0x10bfed(0x46d)],'sections':_0x2d7bcf['listMessage']['sections'],'listType':0x2}},_0x2d7bcf?.['options']);}async[a0_0x20fba6(0x351)](_0x125098){const _0x577dcf=a0_0x20fba6;let _0x3ac409;if(_0x125098['menuMessage'][_0x577dcf(0x7da)]===_0x577dcf(0x373)){let _0x38d45b=_0x125098['menuMessage']['text'][_0x577dcf(0x812)]('\x0a'),_0x4d7da6='',_0x2dca13='';_0x38d45b!==-0x1?(_0x4d7da6=_0x125098[_0x577dcf(0x351)][_0x577dcf(0x339)][_0x577dcf(0x473)](0x0,_0x38d45b)[_0x577dcf(0x5b8)](),_0x2dca13=_0x125098[_0x577dcf(0x351)][_0x577dcf(0x339)][_0x577dcf(0x473)](_0x38d45b+0x1)):_0x2dca13=_0x125098[_0x577dcf(0x351)][_0x577dcf(0x339)];let _0x274f6e=_0x125098[_0x577dcf(0x351)][_0x577dcf(0x5a1)]['filter'](_0xfac6ec=>_0xfac6ec[_0x577dcf(0x5b8)]()!==''),_0x1ed458=this[_0x577dcf(0x5c1)](_0x274f6e);_0x3ac409={'listMessage':{'title':_0x4d7da6,'description':_0x2dca13,'buttonText':_0x125098[_0x577dcf(0x351)][_0x577dcf(0x7ef)]||'Selecione','footerText':_0x125098[_0x577dcf(0x351)][_0x577dcf(0x46d)],'sections':_0x1ed458,'listType':0x2}};}else{if(_0x125098[_0x577dcf(0x351)][_0x577dcf(0x7da)]===_0x577dcf(0x680)){let _0x336c38=_0x125098[_0x577dcf(0x351)][_0x577dcf(0x5a1)][_0x577dcf(0x7a2)](_0x537ff9=>!(_0x537ff9['startsWith']('[')&&_0x537ff9[_0x577dcf(0x2cb)](']'))&&_0x537ff9[_0x577dcf(0x5b8)]()!=='')['map'](_0x17d2a7=>_0x17d2a7['split']('\x0a')[0x0]);_0x3ac409={'poll':{'name':_0x125098['menuMessage'][_0x577dcf(0x339)],'selectableCount':_0x125098['menuMessage'][_0x577dcf(0x21e)]||0x1,'values':_0x336c38}};}}return await this[_0x577dcf(0x44d)](_0x125098[_0x577dcf(0x63d)],_0x3ac409,_0x125098?.['options']);}['createSectionsFromValues'](_0x58936f){const _0x55dc86=a0_0x20fba6;let _0x285596=[],_0x50995a={'rows':[]};return _0x58936f[_0x55dc86(0x871)](_0x1882d4=>{const _0x3513b3=_0x55dc86;if(_0x1882d4[_0x3513b3(0x685)]('[')&&_0x1882d4['endsWith'](']'))_0x50995a[_0x3513b3(0x3ae)][_0x3513b3(0x21c)]>0x0&&_0x285596[_0x3513b3(0x2af)](_0x50995a),_0x50995a={'title':_0x1882d4[_0x3513b3(0x17e)](0x1,-0x1),'rows':[]};else{let _0x3974a3=_0x1882d4[_0x3513b3(0x2fc)]('\x0a')[_0x3513b3(0x5a9)](_0x5a36b0=>_0x5a36b0[_0x3513b3(0x5b8)]()),_0x7eb234=_0x3974a3[0x0],_0x51a442=_0x3974a3[0x1]||null,_0x4a43d2=_0x3974a3[0x2]||_0x7eb234;_0x50995a[_0x3513b3(0x3ae)][_0x3513b3(0x2af)]({'title':_0x7eb234,'description':_0x51a442,'rowId':_0x4a43d2});}}),_0x50995a[_0x55dc86(0x3ae)]['length']>0x0&&_0x285596['push'](_0x50995a),_0x285596;}async[a0_0x20fba6(0x186)](_0x31eca9,_0x25586c){const _0x83f527=a0_0x20fba6;if(await this['getMessage'](_0x31eca9,!0x0)){let _0x5ac046={'where':{'_id':_0x31eca9['id']}},_0x57bbff={'status':[_0x25586c[_0x83f527(0x59e)]][0x0]};try{let _0x33bbb4=await this[_0x83f527(0x1d5)]['message']['update'](_0x5ac046,_0x57bbff,this['instance'][_0x83f527(0x661)]);_0x33bbb4&&J(this[_0x83f527(0x1b4)],'messages',{'message':_0x33bbb4});}catch{}}}[a0_0x20fba6(0x3d3)](_0x4ecba5){const _0x17b196=a0_0x20fba6;let _0x473bdb=[];return _0x4ecba5[_0x17b196(0x871)](_0x59a4f9=>{const _0x149467=_0x17b196;_0x59a4f9[_0x149467(0x664)]&&_0x473bdb[_0x149467(0x2af)]('['+_0x59a4f9[_0x149467(0x664)]+']'),_0x59a4f9[_0x149467(0x3ae)][_0x149467(0x871)](_0x1b0ac0=>{const _0x464f10=_0x149467;_0x473bdb[_0x464f10(0x2af)](_0x1b0ac0[_0x464f10(0x664)]);});}),_0x473bdb[_0x17b196(0x7ae)]('|');}[a0_0x20fba6(0x30b)](_0x2cfd46){const _0x5ce53f=a0_0x20fba6;let _0x218578=_0x2cfd46[_0x5ce53f(0x4f4)](/\\n/g,'\x0a')[_0x5ce53f(0x2fc)]('\x0a')[_0x5ce53f(0x7a2)](_0x152774=>_0x152774[_0x5ce53f(0x4b0)](_0x5ce53f(0x2be))||_0x152774['includes'](_0x5ce53f(0x364))),_0x8935aa='';return _0x218578['forEach'](_0x4f8433=>{const _0x5f4798=_0x5ce53f;let _0x3bdc3e=/TEL(?:.*):(.+)/,_0x11c30c=/EMAIL(?:.*):(.+)/,_0xdba902=_0x4f8433['match'](_0x3bdc3e),_0x2c94c4=_0x4f8433[_0x5f4798(0x700)](_0x11c30c);if(_0xdba902){let _0x42528a=_0xdba902[0x1][_0x5f4798(0x4f4)](/-| |\+|\(|\)/g,'')['trim']();_0x8935aa+=_0x5f4798(0x66c)+_0x42528a+'\x0a';}else{if(_0x2c94c4){let _0x111710=_0x2c94c4[0x1]['trim']();_0x8935aa+=_0x5f4798(0x5c4)+_0x111710+'\x0a';}}}),_0x8935aa[_0x5ce53f(0x5b8)]();}async['updateChatWithMessage'](_0x1ec0e3,_0x28256d,_0x4958e6,_0x3793f7=null){const _0x9527d2=a0_0x20fba6;if(_0x1ec0e3['ENABLED'])try{let _0x2b91f9=_0x28256d['key'][_0x9527d2(0x5bc)][_0x9527d2(0x4f4)](/:\d{1,2}@/g,'@'),_0x3f85f5=_0x28256d[_0x9527d2(0x249)][_0x9527d2(0x424)],_0x19b237=_0x2b91f9[_0x9527d2(0x2cb)]('@g.us'),_0x5efd21=_0x28256d['participant']?.['replace'](/:\d{1,2}@/g,'@')||'',_0x3f9ddc=_0x28256d[_0x9527d2(0x2b5)]?.[_0x9527d2(0x339)]||_0x28256d[_0x9527d2(0x2b5)]?.[_0x9527d2(0x1db)]||_0x28256d[_0x9527d2(0x2b5)]?.['vote']||_0x28256d['message_normalized']?.[_0x9527d2(0x217)]||'',_0x5e0f76={'_id':_0x28256d[_0x9527d2(0x2a0)],'remoteJid':_0x3f85f5?this['instance'][_0x9527d2(0x661)]:_0x19b237?_0x5efd21:_0x2b91f9,'pushName':_0x3f85f5?this[_0x9527d2(0x479)][_0x9527d2(0x52a)]||'Eu':_0x28256d['pushName'],'text':_0x3f9ddc,'type':_0x28256d[_0x9527d2(0x2df)],'when':_0x28256d['messageTimestamp']||Date[_0x9527d2(0x1a6)]()};_0x3793f7||(_0x3793f7=await this[_0x9527d2(0x1d5)][_0x9527d2(0x4a4)][_0x9527d2(0x79e)]({'where':{'_id':_0x2b91f9}},this['instance'][_0x9527d2(0x661)]));let _0x1556f2=_0x3793f7?_0x3f85f5?_0x3793f7['unreadcount']:(_0x3793f7[_0x9527d2(0x519)]||0x0)+0x1:_0x3f85f5?0x0:0x1,_0x3a2787={'lastmsg':_0x28256d['messageTimestamp']||Date[_0x9527d2(0x1a6)](),'ephemeralExpiration':_0x28256d['expiration'],'lastMessage':_0x5e0f76,'unreadcount':_0x1556f2,..._0x3f85f5||_0x19b237?{}:{'name':_0x28256d['pushName']},..._0x19b237?{'group':_0x19b237}:{},...!_0x3f85f5&&!_0x19b237&&_0x28256d[_0x9527d2(0x776)]?{'imagechat':_0x28256d[_0x9527d2(0x776)]}:{}};if(!_0x19b237&&(!_0x3793f7?.['leadInfo']||!_0x3793f7['leadInfo'][_0x9527d2(0x3b6)])&&_0x28256d[_0x9527d2(0x41b)]&&!_0x3f85f5&&(_0x3a2787={..._0x3a2787,'leadInfo.nome':_0x28256d['pushName']}),_0x3793f7?.[_0x9527d2(0x6ab)][_0x9527d2(0x75b)]||(_0x3a2787={..._0x3a2787,'leadInfo.etiquetas':[]}),_0x3793f7?.[_0x9527d2(0x6ab)]['customFields']||(_0x3a2787={..._0x3a2787,'leadInfo.customFields':[]}),_0x3793f7?.[_0x9527d2(0x6ab)][_0x9527d2(0x724)]||(_0x3a2787={..._0x3a2787,'leadInfo.tags':[]}),_0x3793f7&&_0x3793f7?.[_0x9527d2(0x65b)]){let _0x36aa4c=await this[_0x9527d2(0x1d5)]['label'][_0x9527d2(0x568)]({'where':{}},this['instance'][_0x9527d2(0x661)]),_0x42e5a6=new Set(_0x36aa4c['map'](_0x52cb5f=>_0x52cb5f['_id'])),_0x21d85c=(_0x3793f7[_0x9527d2(0x6ab)]?.[_0x9527d2(0x75b)]||[])[_0x9527d2(0x7a2)](_0x270272=>_0x42e5a6[_0x9527d2(0x7f8)](_0x270272));_0x3a2787={..._0x3a2787,'imported':!0x1,'leadInfo.etiquetas':_0x21d85c};for(let _0x3c10b3 of _0x21d85c)await this[_0x9527d2(0x221)](_0x3c10b3,_0x2b91f9);}if(!this[_0x9527d2(0x52f)][_0x9527d2(0x344)]['find'](_0x9a75bf=>_0x9a75bf[_0x9527d2(0x453)]&&_0x3f9ddc[_0x9527d2(0x4b0)](_0x9a75bf['startCommand']))&&_0x4958e6==='MESSAGES_UPSERT'&&_0x3f85f5&&this[_0x9527d2(0x52f)]?.[_0x9527d2(0x1f9)][_0x9527d2(0x73f)]&&_0x3f9ddc['trim']()!==this[_0x9527d2(0x52f)]?.['flowConfig'][_0x9527d2(0x738)][_0x9527d2(0x5b8)]()){let _0x8bc0a9=(this[_0x9527d2(0x52f)]?.[_0x9527d2(0x1f9)]['stopWhenYouSendMsg']||0x0)*0xea60,_0x57d648=Date['now']()+_0x8bc0a9;_0x3793f7?.[_0x9527d2(0x6ab)]?.[_0x9527d2(0x701)]===0x0||(_0x3a2787={..._0x3a2787,'leadInfo.desativadoFluxoAte':_0x57d648},this[_0x9527d2(0x421)][_0x9527d2(0x76b)](this['instanceName']+'\x20('+this[_0x9527d2(0x479)]['wuid']+_0x9527d2(0x45f)+_0x57d648+'.'));}if(_0x3f9ddc['trim']()===this[_0x9527d2(0x52f)]?.['flowConfig'][_0x9527d2(0x738)]['trim']()){this[_0x9527d2(0x421)]['verbose'](this[_0x9527d2(0x1b4)]+'\x20('+this[_0x9527d2(0x479)][_0x9527d2(0x661)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x3f9ddc);let _0x3559c6=Date[_0x9527d2(0x1a6)]();this['AutomateSystem']?.[_0x9527d2(0x1f9)]['stopMinutes']===0x0?_0x3a2787={..._0x3a2787,'leadInfo.desativadoFluxoAte':_0x3559c6+0x7591f6200}:_0x3a2787={..._0x3a2787,'leadInfo.desativadoFluxoAte':_0x3559c6+this[_0x9527d2(0x52f)]?.['flowConfig'][_0x9527d2(0x67d)]*0x3c*0x3e8};}if(_0x3793f7=await this['repository']['chat']['updateOne']({'where':{'_id':_0x2b91f9}},_0x3a2787,this['instance'][_0x9527d2(0x661)],{'new':!0x0,'upsert':!0x0}),_0x3793f7)J(this[_0x9527d2(0x1b4)],_0x9527d2(0x6f9),{'chat':_0x3793f7});else{this[_0x9527d2(0x421)][_0x9527d2(0x3b7)](this[_0x9527d2(0x1b4)]+'\x20('+this[_0x9527d2(0x479)][_0x9527d2(0x661)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x3f85f5)return this['logger'][_0x9527d2(0x76b)](this[_0x9527d2(0x1b4)]+'\x20('+this[_0x9527d2(0x479)]['wuid']+_0x9527d2(0x201)),null;if(!this[_0x9527d2(0x52f)]?.['flowConfig']['enabled'])return this['logger'][_0x9527d2(0x76b)](this['instanceName']+'\x20('+this['instance'][_0x9527d2(0x661)]+'):\x20Flow\x20desativado'),null;if(_0x3793f7['_id'][_0x9527d2(0x4b0)]('@g.us')&&this[_0x9527d2(0x52f)]?.[_0x9527d2(0x1f9)]['ignoreGroups']===!0x0)return this[_0x9527d2(0x421)][_0x9527d2(0x76b)](this[_0x9527d2(0x1b4)]+'\x20('+this[_0x9527d2(0x479)][_0x9527d2(0x661)]+_0x9527d2(0x22b)),null;if(_0x3793f7[_0x9527d2(0x6ab)]){if(_0x3793f7[_0x9527d2(0x6ab)][_0x9527d2(0x701)]===0x0||_0x3793f7['leadInfo'][_0x9527d2(0x383)])return this[_0x9527d2(0x421)]['verbose'](this[_0x9527d2(0x1b4)]+'\x20('+this[_0x9527d2(0x479)][_0x9527d2(0x661)]+_0x9527d2(0x81a)+_0x2b91f9+_0x9527d2(0x318)),null;if(_0x3793f7['leadInfo'][_0x9527d2(0x701)]>Date[_0x9527d2(0x1a6)]()&&!_0x28256d[_0x9527d2(0x2b5)]?.[_0x9527d2(0x7ea)])return this[_0x9527d2(0x421)]['verbose'](this[_0x9527d2(0x1b4)]+'\x20('+this['instance']['wuid']+_0x9527d2(0x749)+new Date(_0x3793f7[_0x9527d2(0x6ab)][_0x9527d2(0x701)])[_0x9527d2(0x13e)]()+_0x9527d2(0x318)),null;}this[_0x9527d2(0x421)][_0x9527d2(0x76b)](this[_0x9527d2(0x1b4)]+'\x20('+this[_0x9527d2(0x479)][_0x9527d2(0x661)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0x28256d,_0x4958e6);}catch(_0x5ccc32){let _0x27c137=_0x9527d2(0x285),_0x15b7b8=_0x5ccc32 instanceof Error?_0x5ccc32['message']:typeof _0x5ccc32==_0x9527d2(0x6ff)?JSON['stringify'](_0x5ccc32):_0x5ccc32,_0x39cd54=_0x27c137+':\x20'+_0x15b7b8;return this[_0x9527d2(0x421)][_0x9527d2(0x3b7)](this[_0x9527d2(0x1b4)]+'\x20('+this[_0x9527d2(0x479)][_0x9527d2(0x661)]+_0x9527d2(0x54d)+_0x39cd54),null;}}async['upsertChats'](_0x3bfe8c,_0x348ead){const _0x53b787=a0_0x20fba6;if(_0x348ead['ENABLED']){let _0x2b2f66=_0x3bfe8c[_0x53b787(0x5a9)](async _0x4bf3c5=>{const _0x384d71=_0x53b787;try{let _0x2a3769={'_id':_0x4bf3c5[_0x384d71(0x2a0)],'owner':_0x4bf3c5['owner'],'lastcache':0x0};if(Object['keys'](_0x4bf3c5)['forEach'](_0xe83beb=>{_0x4bf3c5[_0xe83beb]!==null&&(_0x2a3769[_0xe83beb]=_0x4bf3c5[_0xe83beb]);}),_0x2a3769[_0x384d71(0x4c3)]===null&&(_0x2a3769[_0x384d71(0x4c3)]='Imagem\x20não\x20encontrada'),Object[_0x384d71(0x1c7)](_0x2a3769)['length']>0x0)return await this[_0x384d71(0x1d5)]['chat']['updateOne']({'where':{'_id':_0x4bf3c5[_0x384d71(0x2a0)]}},_0x2a3769,this[_0x384d71(0x479)]['wuid']);}catch(_0x1bf614){let _0x17f2a8='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x4bf3c5[_0x384d71(0x2a0)],_0x5db900=_0x1bf614 instanceof Error?_0x1bf614[_0x384d71(0x34b)]:typeof _0x1bf614==_0x384d71(0x6ff)?JSON[_0x384d71(0x27a)](_0x1bf614):_0x1bf614,_0x19f072=_0x17f2a8+':\x20'+_0x5db900;return this['logger'][_0x384d71(0x3b7)](this[_0x384d71(0x1b4)]+'\x20('+this['instance'][_0x384d71(0x661)]+_0x384d71(0x54d)+_0x19f072),null;}}),_0x30bda1=(await Promise[_0x53b787(0x1f6)](_0x2b2f66))[_0x53b787(0x7a2)](_0x45d3bd=>_0x45d3bd!==null)['length'];this['logger'][_0x53b787(0x76b)](this[_0x53b787(0x1b4)]+'\x20('+this[_0x53b787(0x479)][_0x53b787(0x661)]+_0x53b787(0x54d)+_0x30bda1+_0x53b787(0x1e6)+this[_0x53b787(0x479)][_0x53b787(0x661)]+_0x53b787(0x878));}}async['readMessageBot'](_0x4963f9){const _0xa1705b=a0_0x20fba6;this['logger'][_0xa1705b(0x76b)](this['instanceName']+'\x20('+this[_0xa1705b(0x479)]['wuid']+'):\x20Ler\x20mensagem');let _0x31ca74={'readMessages':[{'remoteJid':_0x4963f9['chatLog'][_0xa1705b(0x7b6)]['key'][_0xa1705b(0x5bc)],'fromMe':_0x4963f9[_0xa1705b(0x5ea)][_0xa1705b(0x7b6)][_0xa1705b(0x249)][_0xa1705b(0x424)],'id':_0x4963f9[_0xa1705b(0x5ea)]['lastReceivedMessage'][_0xa1705b(0x249)]['id']}]};await this[_0xa1705b(0x469)](_0x31ca74);}async[a0_0x20fba6(0x593)](_0x5a1f46,_0x22cafc){const _0x5d638f=a0_0x20fba6;try{let {key:_0x18d7be,message_normalized:_0x4a474e}=_0x5a1f46,_0xaaed83=_0x4a474e,_0x23084c=_0x4a474e[_0x5d638f(0x339)]||_0x4a474e[_0x5d638f(0x1db)]||_0x4a474e['vote']||_0x4a474e['name']||'',_0x17cdc3=_0x18d7be[_0x5d638f(0x5bc)],_0x3132a9=null,_0x11c1c3=this['AutomateSystem'][_0x5d638f(0x344)][_0x5d638f(0x568)](_0x568542=>_0x568542['startCommand']&&_0x23084c[_0x5d638f(0x4b0)](_0x568542[_0x5d638f(0x453)]));if(_0x11c1c3&&_0x22cafc===_0x5d638f(0x477)){let _0x24424c=await this[_0x5d638f(0x1d5)][_0x5d638f(0x233)]['findOne']({'where':{'_id':_0x11c1c3[_0x5d638f(0x2a0)]}});if(this['logger'][_0x5d638f(0x76b)](this[_0x5d638f(0x1b4)]+'\x20('+this['instance'][_0x5d638f(0x661)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x24424c&&_0x24424c['whoCanUse']?.[_0x5d638f(0x4b0)](this[_0x5d638f(0x479)][_0x5d638f(0x661)]))_0x3132a9=await this['createNewConversation'](_0x24424c,_0x18d7be,_0xaaed83);else return this[_0x5d638f(0x421)]['verbose'](this[_0x5d638f(0x1b4)]+'\x20('+this[_0x5d638f(0x479)][_0x5d638f(0x661)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x5d638f(0x421)][_0x5d638f(0x76b)](this[_0x5d638f(0x1b4)]+'\x20('+this[_0x5d638f(0x479)][_0x5d638f(0x661)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x3132a9=await this[_0x5d638f(0x6a0)](_0x17cdc3,_0xaaed83),_0x3132a9){this[_0x5d638f(0x421)][_0x5d638f(0x76b)](this['instanceName']+'\x20('+this['instance'][_0x5d638f(0x661)]+_0x5d638f(0x404)),!_0x18d7be[_0x5d638f(0x424)]&&_0x3132a9[_0x5d638f(0x39a)]&&this[_0x5d638f(0x175)](_0x3132a9);let _0x31bd18=await this[_0x5d638f(0x119)](_0x3132a9);_0x31bd18&&await this['processblock'](_0x3132a9,_0x31bd18);}}catch(_0x4b29d8){this['logger']['error'](this[_0x5d638f(0x1b4)]+'\x20('+this[_0x5d638f(0x479)][_0x5d638f(0x661)]+_0x5d638f(0x554)+(_0x4b29d8 instanceof Error?_0x4b29d8[_0x5d638f(0x34b)]:JSON[_0x5d638f(0x27a)](_0x4b29d8,null,0x2)));}}[a0_0x20fba6(0x4a0)](_0xf919a5,_0x23221c='',_0x10bfce={}){const _0x4b208a=a0_0x20fba6;return typeof _0xf919a5!=_0x4b208a(0x6ff)||_0xf919a5===null?(_0x23221c&&(_0x10bfce[_0x23221c]=_0xf919a5),_0x10bfce):(Object[_0x4b208a(0x805)](_0xf919a5)[_0x4b208a(0x871)](([_0x42d001,_0xa071fd])=>{const _0xed93df=_0x4b208a;let _0x44d179=_0x23221c?_0x23221c+'.'+_0x42d001:'_'+_0x42d001;Array[_0xed93df(0x5e4)](_0xa071fd)?_0xa071fd[_0xed93df(0x871)]((_0x55ed15,_0x406b5b)=>{this['flattenObject'](_0x55ed15,_0x44d179+'['+_0x406b5b+']',_0x10bfce);}):typeof _0xa071fd=='object'&&_0xa071fd!==null?this[_0xed93df(0x4a0)](_0xa071fd,_0x44d179,_0x10bfce):_0x10bfce[_0x44d179]=String(_0xa071fd);}),_0x10bfce);}[a0_0x20fba6(0x276)](_0xf06b4d){const _0x41bb8f=a0_0x20fba6;let _0x168d95={};for(let _0x3b86a8 of _0xf06b4d)typeof _0x3b86a8['name']==_0x41bb8f(0x648)&&typeof _0x3b86a8[_0x41bb8f(0x38b)]==_0x41bb8f(0x648)&&(_0x168d95[_0x3b86a8[_0x41bb8f(0x217)]]=_0x3b86a8[_0x41bb8f(0x38b)]);return _0x168d95;}async[a0_0x20fba6(0x119)](_0x176d1b){const _0x3b8834=a0_0x20fba6;if(!this[_0x3b8834(0x52f)]?.[_0x3b8834(0x1f9)][_0x3b8834(0x73f)]||_0x176d1b[_0x3b8834(0x59e)]!==_0x3b8834(0x637)&&_0x176d1b[_0x3b8834(0x543)]==='')return null;let _0x4e7adb=_0x176d1b[_0x3b8834(0x5ea)]['lastBlockId']||_0x3b8834(0x6c0);typeof _0x176d1b['chatLog'][_0x3b8834(0x41f)]>'u'&&(_0x176d1b[_0x3b8834(0x5ea)][_0x3b8834(0x41f)]=!0x0);let _0x38ab43=_0x176d1b['chatLog'][_0x3b8834(0x41f)];this[_0x3b8834(0x421)][_0x3b8834(0x76b)](this[_0x3b8834(0x1b4)]+'\x20('+this['instance'][_0x3b8834(0x661)]+_0x3b8834(0x7f5)+_0x4e7adb+_0x3b8834(0x13c)+_0x38ab43);let _0x19d048=_0x4e7adb===_0x3b8834(0x6c0)?_0x176d1b[_0x3b8834(0x822)][_0x3b8834(0x568)](_0x146887=>_0x146887['type']===_0x3b8834(0x6c0)):_0x176d1b['blocks'][_0x3b8834(0x568)](_0x44a0e8=>_0x44a0e8[_0x3b8834(0x2a0)][_0x3b8834(0x176)]()===_0x4e7adb[_0x3b8834(0x176)]());if(!_0x19d048)return this[_0x3b8834(0x421)][_0x3b8834(0x3b7)](this[_0x3b8834(0x1b4)]+'\x20('+this[_0x3b8834(0x479)]['wuid']+_0x3b8834(0x333)+_0x4e7adb),null;let _0x5d5b4a={'_pushName':_0x176d1b?.[_0x3b8834(0x5ea)]?.[_0x3b8834(0x7b6)]?.['pushName']||'','_sender':this['instance'][_0x3b8834(0x661)]||'',..._0x176d1b[_0x3b8834(0x5ea)][_0x3b8834(0x230)]},_0x2e761a=null;if(_0x176d1b[_0x3b8834(0x543)]){let _0x4180eb=_0x176d1b[_0x3b8834(0x5ea)][_0x3b8834(0x7b6)][_0x3b8834(0x7ea)],_0x1bed14=_0x176d1b['waitingMenu_replyOptions'][_0x3b8834(0x568)](_0x16b761=>_0x16b761[_0x3b8834(0x4b5)]===_0x4180eb);if(_0x1bed14){let _0x233cd9=_0x1bed14['next_groupId'];if(_0x2e761a=_0x176d1b[_0x3b8834(0x822)][_0x3b8834(0x568)](_0x4417a8=>_0x4417a8['groupId']===_0x233cd9&&_0x4417a8[_0x3b8834(0x3ba)]===0x1),_0x19d048['uazapi']['pollOnReplyDelete']){let _0x4b3a7d={'id':_0x176d1b[_0x3b8834(0x543)],'remoteJid':_0x176d1b[_0x3b8834(0x5bc)],'fromMe':!0x0};await this[_0x3b8834(0x6ed)](_0x4b3a7d);}if(_0x19d048[_0x3b8834(0x688)][_0x3b8834(0x3ce)]&&_0x19d048[_0x3b8834(0x688)][_0x3b8834(0x4c5)]&&_0x19d048[_0x3b8834(0x688)]['menuType']==='poll'){let _0x49c0dc={'number':_0x176d1b[_0x3b8834(0x5bc)],'options':{'delay':0x0},'textMessage':{'text':_0x3b8834(0x475)+_0x176d1b[_0x3b8834(0x7ec)]+'\x0a*Você\x20respondeu*:\x0a'+_0x4180eb}};await this[_0x3b8834(0x374)](_0x49c0dc);}_0x176d1b[_0x3b8834(0x59e)]=_0x3b8834(0x637),_0x176d1b[_0x3b8834(0x543)]='',_0x176d1b[_0x3b8834(0x7ec)]='',_0x176d1b[_0x3b8834(0x2e6)]=[];}else{this['logger'][_0x3b8834(0x76b)](this['instanceName']+'\x20('+this[_0x3b8834(0x479)][_0x3b8834(0x661)]+_0x3b8834(0x67b));let _0x3807e6={'activatedCount':_0x176d1b[_0x3b8834(0x5ea)][_0x3b8834(0x87a)][_0x3b8834(0x7a2)](_0x11a11c=>String(_0x11a11c[_0x3b8834(0x723)])===String(_0x4e7adb))[_0x3b8834(0x21c)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x19d048[_0x3b8834(0x688)]['pollErrorMessage']){let _0x521709={'number':_0x176d1b[_0x3b8834(0x5bc)],'options':{'delay':0x0},'textMessage':{'text':_0x19d048[_0x3b8834(0x688)][_0x3b8834(0x138)]}};await this[_0x3b8834(0x374)](_0x521709);}if(_0x19d048['maxActives']!==void 0x0&&_0x3807e6[_0x3b8834(0x498)]>=_0x19d048['maxActives']){let _0x586cc0=Date[_0x3b8834(0x1a6)](),_0x7c0757=_0x19d048[_0x3b8834(0x7e8)]??0xa;isNaN(_0x7c0757)&&(_0x7c0757=0xa);let _0x347306=_0x586cc0+_0x7c0757*0x3c*0x3e8;_0x3807e6['newStoppedUntil']=_0x347306,_0x3807e6[_0x3b8834(0x5e8)][_0x3b8834(0x2af)](_0x3b8834(0x182)),this[_0x3b8834(0x624)](_0x176d1b,_0x347306),_0x176d1b[_0x3b8834(0x543)]='',_0x176d1b['waitingMenu_text']='',_0x176d1b[_0x3b8834(0x2e6)]=[];}return this[_0x3b8834(0x7ce)](_0x176d1b,_0x19d048,_0x3807e6,!0x0),null;}}if(_0x38ab43&&_0x19d048[_0x3b8834(0x361)]&&!_0x176d1b['waitingMenu_id']){let _0x367759=_0x176d1b['blocks'][_0x3b8834(0x7a2)](_0x17d022=>_0x17d022[_0x3b8834(0x4e1)][_0x3b8834(0x176)]()===_0x19d048['next_groupId'][_0x3b8834(0x176)]())[_0x3b8834(0x529)]((_0x29dcd6,_0x5cc01d)=>_0x29dcd6[_0x3b8834(0x3ba)]-_0x5cc01d[_0x3b8834(0x3ba)]);_0x367759['length']>0x0&&(_0x2e761a=_0x367759[0x0]);}if(!_0x2e761a){let _0x560707=_0x19d048[_0x3b8834(0x4e1)],_0x37caf2=_0x176d1b[_0x3b8834(0x822)][_0x3b8834(0x7a2)](_0xdbb611=>_0xdbb611[_0x3b8834(0x4e1)]===_0x560707&&_0xdbb611[_0x3b8834(0x3ba)]>_0x19d048['order'])[_0x3b8834(0x529)]((_0x2d61b7,_0x6d5fef)=>_0x2d61b7['order']-_0x6d5fef['order']);_0x37caf2[_0x3b8834(0x21c)]>0x0&&(_0x2e761a=_0x37caf2[0x0]);}if(!_0x2e761a)return _0x176d1b[_0x3b8834(0x59e)]=_0x3b8834(0x1c9),null;_0x176d1b[_0x3b8834(0x5ea)][_0x3b8834(0x230)]=_0x5d5b4a;let _0x139f8f=JSON[_0x3b8834(0x321)](JSON['stringify'](_0x2e761a));return this[_0x3b8834(0x34f)](_0x139f8f,_0x176d1b[_0x3b8834(0x5ea)][_0x3b8834(0x230)]),_0x176d1b['chatLog'][_0x3b8834(0x5aa)]=_0x139f8f[_0x3b8834(0x2a0)],_0x176d1b['chatLog'][_0x3b8834(0x41f)]=!0x0,_0x139f8f;}[a0_0x20fba6(0x24f)](_0x300a7e,_0x52bd88){const _0x305382=a0_0x20fba6;return _0x300a7e[_0x305382(0x4f4)](/\{\{([^}]+)\}\}/g,(_0x31c8ce,_0xeff5e2)=>_0x52bd88[_0xeff5e2]||'');}[a0_0x20fba6(0x34f)](_0x55ed42,_0x1ec96e){const _0x3dc8b4=a0_0x20fba6;for(let _0x1c8275 in _0x55ed42)typeof _0x55ed42[_0x1c8275]=='string'?_0x55ed42[_0x1c8275]=this[_0x3dc8b4(0x24f)](_0x55ed42[_0x1c8275],_0x1ec96e):typeof _0x55ed42[_0x1c8275]==_0x3dc8b4(0x6ff)&&this[_0x3dc8b4(0x34f)](_0x55ed42[_0x1c8275],_0x1ec96e);}async[a0_0x20fba6(0x7c5)](_0x23a096,_0x92450d){const _0x3b58fd=a0_0x20fba6;let _0x383364=_0x92450d[_0x3b58fd(0x2a0)];if(_0x23a096[_0x3b58fd(0x5ea)]&&_0x23a096[_0x3b58fd(0x5ea)]['blockLogs']){let _0x55a5ac=_0x23a096['chatLog'][_0x3b58fd(0x87a)][_0x3b58fd(0x7a2)](_0x490fce=>String(_0x490fce[_0x3b58fd(0x723)])===String(_0x383364))['pop']();if(_0x55a5ac&&_0x55a5ac['error']&&_0x92450d[_0x3b58fd(0x5e3)])return _0x23a096[_0x3b58fd(0x59e)]=_0x3b58fd(0x1c9),await this[_0x3b58fd(0x382)](_0x23a096),null;}if(_0x92450d[_0x3b58fd(0x7da)]===_0x3b58fd(0x688)&&_0x92450d[_0x3b58fd(0x688)]['command']===_0x3b58fd(0x7c4)&&_0x23a096[_0x3b58fd(0x543)])return _0x23a096['chatLog'][_0x3b58fd(0x5aa)]=_0x383364,await this['saveConversationToDatabase'](_0x23a096),null;let _0x4de17c=await this[_0x3b58fd(0x119)](_0x23a096);if(_0x23a096[_0x3b58fd(0x5ea)]&&_0x23a096['chatLog'][_0x3b58fd(0x87a)]){let _0x69d924=_0x23a096[_0x3b58fd(0x5ea)][_0x3b58fd(0x87a)][_0x3b58fd(0x7a2)](_0x16565b=>String(_0x16565b[_0x3b58fd(0x723)])===String(_0x383364))[_0x3b58fd(0x21c)];if(_0x92450d['maxActives']!==void 0x0&&_0x69d924>=_0x92450d[_0x3b58fd(0x71b)]){let _0x5be9e6=Date[_0x3b58fd(0x1a6)](),_0x44d17f=_0x92450d[_0x3b58fd(0x7e8)]??0xa;isNaN(_0x44d17f)&&(_0x44d17f=0xa);let _0x393a3c=_0x5be9e6+_0x44d17f*0x3c*0x3e8,_0x34c9e5={'newStoppedUntil':_0x393a3c};return this[_0x3b58fd(0x624)](_0x23a096,_0x393a3c),this[_0x3b58fd(0x7ce)](_0x23a096,_0x92450d,_0x34c9e5,!0x0),null;}}_0x4de17c&&_0x4de17c[_0x3b58fd(0x7da)]!=='save'&&await this[_0x3b58fd(0x3f3)](_0x23a096,_0x4de17c),_0x4de17c||await this[_0x3b58fd(0x382)](_0x23a096),_0x4de17c&&_0x4de17c[_0x3b58fd(0x7da)]===_0x3b58fd(0x57c)&&(_0x23a096[_0x3b58fd(0x5ea)][_0x3b58fd(0x5aa)]=_0x383364,await this[_0x3b58fd(0x382)](_0x23a096));}async[a0_0x20fba6(0x3f3)](_0x2e50db,_0x33893b){const _0x332c2e=a0_0x20fba6;try{let _0x3d2ec9=_0x33893b[_0x332c2e(0x7da)];this['logger']['verbose'](this[_0x332c2e(0x1b4)]+'\x20('+this[_0x332c2e(0x479)]['wuid']+_0x332c2e(0x3b2)+_0x3d2ec9);let _0x5cb225={'uazapi':()=>this[_0x332c2e(0x298)](_0x2e50db,_0x33893b),'save':()=>this[_0x332c2e(0x560)](_0x2e50db,_0x33893b),'stop':()=>this[_0x332c2e(0x738)](_0x2e50db,_0x33893b),'condition':()=>this[_0x332c2e(0x828)](_0x2e50db,_0x33893b),'varedit':()=>this[_0x332c2e(0x415)](_0x2e50db,_0x33893b),'apirequest':()=>this['processApiRequest'](_0x2e50db,_0x33893b),'goToFlow':()=>this[_0x332c2e(0x3e8)](_0x2e50db,_0x33893b),'scheduleFlow':()=>this[_0x332c2e(0x41a)](_0x2e50db,_0x33893b),'awaitSeconds':()=>this['processawaitSeconds'](_0x2e50db,_0x33893b),'clearVariables':()=>this[_0x332c2e(0x754)](_0x2e50db,_0x33893b)}[_0x3d2ec9];_0x5cb225&&await _0x5cb225();}catch(_0x1b773f){this[_0x332c2e(0x421)][_0x332c2e(0x3b7)](this[_0x332c2e(0x1b4)]+'\x20('+this[_0x332c2e(0x479)]['wuid']+_0x332c2e(0x7b7)+(_0x1b773f instanceof Error?_0x1b773f[_0x332c2e(0x34b)]:JSON['stringify'](_0x1b773f,null,0x2)));}}async[a0_0x20fba6(0x229)](_0x13f7e4,_0x48fad4){const _0x31012e=a0_0x20fba6;if(this[_0x31012e(0x421)][_0x31012e(0x76b)](this[_0x31012e(0x1b4)]+'\x20('+this[_0x31012e(0x479)][_0x31012e(0x661)]+_0x31012e(0x6be)),!_0x13f7e4||!_0x48fad4)return this['logger'][_0x31012e(0x3b7)](this[_0x31012e(0x1b4)]+'\x20('+this[_0x31012e(0x479)][_0x31012e(0x661)]+_0x31012e(0x6d0)),null;let _0xcca116=+_0x48fad4[_0x31012e(0x3ad)];isNaN(_0xcca116)&&(_0xcca116=0x0),_0xcca116=Math['min'](_0xcca116,0x3c),await(0x0,w[_0x31012e(0x4c8)])(_0xcca116*0x3e8);let _0x1fddc0={'moreLogs':[_0x31012e(0x311)+_0xcca116+_0x31012e(0x618)]};return await this[_0x31012e(0x7ce)](_0x13f7e4,_0x48fad4,_0x1fddc0),_0xcca116;}async[a0_0x20fba6(0x754)](_0xb4db80,_0x547789){const _0x3a428b=a0_0x20fba6;if(this[_0x3a428b(0x421)][_0x3a428b(0x76b)](this[_0x3a428b(0x1b4)]+'\x20('+this[_0x3a428b(0x479)][_0x3a428b(0x661)]+_0x3a428b(0x81e)),!_0xb4db80||!_0x547789)return this['logger'][_0x3a428b(0x3b7)](this[_0x3a428b(0x1b4)]+'\x20('+this[_0x3a428b(0x479)][_0x3a428b(0x661)]+_0x3a428b(0x6d0)),null;let _0x5d0ea8=[];if(_0x547789[_0x3a428b(0x2eb)][_0x3a428b(0x5b8)]()===_0x3a428b(0x67f)){let _0x31049c=[_0x3a428b(0x218),_0x3a428b(0x71f),_0x3a428b(0x718),_0x3a428b(0x7b8),_0x3a428b(0x68e),'_id',_0x3a428b(0x489)];_0x5d0ea8=Object[_0x3a428b(0x1c7)](_0xb4db80[_0x3a428b(0x5ea)][_0x3a428b(0x230)])[_0x3a428b(0x7a2)](_0x4eaee3=>_0x4eaee3[_0x3a428b(0x685)]('_')&&!_0x31049c[_0x3a428b(0x4b0)](_0x4eaee3));}else _0x5d0ea8=_0x547789[_0x3a428b(0x2eb)]['split']('|')[_0x3a428b(0x5a9)](_0x489432=>(_0x489432=_0x489432[_0x3a428b(0x4f4)](/[{}]/g,'')[_0x3a428b(0x5b8)](),_0x489432[_0x3a428b(0x685)]('_')?_0x489432:'_'+_0x489432));let _0x4ad08c=[];_0x5d0ea8[_0x3a428b(0x871)](_0x363bce=>{const _0x10e48e=_0x3a428b;_0x363bce in _0xb4db80[_0x10e48e(0x5ea)][_0x10e48e(0x230)]&&(delete _0xb4db80[_0x10e48e(0x5ea)][_0x10e48e(0x230)][_0x363bce],_0x4ad08c['push'](_0x363bce));}),_0x4ad08c[_0x3a428b(0x21c)]>0x0?this[_0x3a428b(0x421)][_0x3a428b(0x76b)](this['instanceName']+'\x20('+this[_0x3a428b(0x479)][_0x3a428b(0x661)]+_0x3a428b(0x458)+_0x4ad08c[_0x3a428b(0x7ae)](',\x20')):this[_0x3a428b(0x421)][_0x3a428b(0x76b)](this['instanceName']+'\x20('+this['instance'][_0x3a428b(0x661)]+_0x3a428b(0x2a7));let _0x650cac={'moreLogs':[_0x3a428b(0x206)+_0x4ad08c['join'](',\x20')]};return await this[_0x3a428b(0x7ce)](_0xb4db80,_0x547789,_0x650cac),null;}async['processScheduleFlow'](_0x30573b,_0x4dfc86){const _0x11ebf2=a0_0x20fba6;if(this[_0x11ebf2(0x421)][_0x11ebf2(0x76b)](this[_0x11ebf2(0x1b4)]+'\x20('+this['instance'][_0x11ebf2(0x661)]+_0x11ebf2(0x44a)),!_0x30573b||!_0x4dfc86)return this['logger'][_0x11ebf2(0x3b7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x11ebf2(0x6d0)),null;let _0x23c1d7=_0x30573b['remoteJid'];_0x4dfc86[_0x11ebf2(0x3c9)]['remoteJid']&&_0x4dfc86[_0x11ebf2(0x3c9)][_0x11ebf2(0x5bc)][_0x11ebf2(0x5b8)]()!==''&&(_0x23c1d7=_0x4dfc86['uazapi'][_0x11ebf2(0x5bc)][_0x11ebf2(0x5b8)]());let _0x164fe3=_0x4dfc86[_0x11ebf2(0x3c9)][_0x11ebf2(0x558)]*0xea60,_0x59d157=Date[_0x11ebf2(0x1a6)]()+_0x164fe3,_0x188224={'status':_0x11ebf2(0x6e2),'info':_0x11ebf2(0x3f8)+_0x30573b['name'],'remoteJids':[_0x23c1d7],'when':_0x59d157,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x11ebf2(0x233),'flowName':_0x4dfc86['scheduleFlow'][_0x11ebf2(0x7cd)]};this['editScheduleMessage'](_0x188224);let _0x1ed146=await this[_0x11ebf2(0x119)](_0x30573b);_0x1ed146&&await this[_0x11ebf2(0x3f3)](_0x30573b,_0x1ed146);}async['processgoToFlow'](_0x27d33a,_0x3f3b0c){const _0x19b5ea=a0_0x20fba6;if(this['logger'][_0x19b5ea(0x76b)](this[_0x19b5ea(0x1b4)]+'\x20('+this[_0x19b5ea(0x479)]['wuid']+_0x19b5ea(0x865)),!_0x27d33a||!_0x3f3b0c)return this['logger'][_0x19b5ea(0x3b7)](this[_0x19b5ea(0x1b4)]+'\x20('+this[_0x19b5ea(0x479)][_0x19b5ea(0x661)]+_0x19b5ea(0x6d0)),null;await this[_0x19b5ea(0x7ce)](_0x27d33a,_0x3f3b0c,{},!0x0,!0x0);let _0x3980a4=_0x3f3b0c['goToFlow'];_0x27d33a=await this[_0x19b5ea(0x6ee)](_0x3980a4,_0x27d33a['remoteJid'],_0x27d33a[_0x19b5ea(0x5ea)][_0x19b5ea(0x230)]);let _0x4e0d43=await this[_0x19b5ea(0x119)](_0x27d33a);_0x4e0d43&&await this[_0x19b5ea(0x3f3)](_0x27d33a,_0x4e0d43);}async['createConversationforgoToFlow'](_0xecf677,_0x495a47,_0x496b9c){const _0x30c326=a0_0x20fba6;this[_0x30c326(0x421)][_0x30c326(0x76b)](this[_0x30c326(0x1b4)]+'\x20('+this['instance'][_0x30c326(0x661)]+_0x30c326(0x181));try{let _0x618a78=this['AutomateSystem']['flows'][_0x30c326(0x568)](_0x35d012=>_0x35d012[_0x30c326(0x2a0)]===_0xecf677);_0x618a78||this[_0x30c326(0x421)][_0x30c326(0x3b7)](this[_0x30c326(0x1b4)]+'\x20('+this[_0x30c326(0x479)][_0x30c326(0x661)]+_0x30c326(0x49a)+_0xecf677+_0x30c326(0x611));let _0xb04942=await this[_0x30c326(0x1d5)]['flow']['findOne']({'where':{'_id':_0x618a78[_0x30c326(0x2a0)]}});if(!_0xb04942||!_0xb04942['whoCanUse']?.[_0x30c326(0x4b0)](this[_0x30c326(0x479)]['wuid']))throw this[_0x30c326(0x421)]['error'](this[_0x30c326(0x1b4)]+'\x20('+this['instance'][_0x30c326(0x661)]+_0x30c326(0x49a)+_0xecf677+_0x30c326(0x716)),new m(_0x30c326(0x46a)+_0xecf677+_0x30c326(0x716));let _0x20d086=require(_0x30c326(0x3d0))['ObjectId'],_0x1864f2=Date[_0x30c326(0x1a6)](),_0x68ed3f=_0x30c326(0x6c0),_0x5302fa={},_0xa95659={},_0x99695=this[_0x30c326(0x52f)][_0x30c326(0x344)][_0x30c326(0x568)](_0xb25bbb=>_0xb25bbb[_0x30c326(0x2a0)]===_0xb04942[_0x30c326(0x2a0)]?.[_0x30c326(0x176)]()),_0x51227d=_0x99695?.[_0x30c326(0x2f5)]??_0xb04942['minutesToClose']??0x0,_0x14429e=_0x99695?.[_0x30c326(0x39a)]??_0xb04942[_0x30c326(0x39a)]??!0x1,_0x938e22={'flowId':_0x618a78[_0x30c326(0x2a0)],'readMessages':_0x618a78[_0x30c326(0x39a)],..._0xb04942,'chatLog':null},_0xb9b863={'lastReceivedMessage':_0x5302fa,'lastSendMessage':_0xa95659,'lastBlockId':_0x68ed3f,'lastCondition':!0x0,'realVariables':_0x496b9c};_0x938e22[_0x30c326(0x5ea)]=_0xb9b863,_0x938e22[_0x30c326(0x5ea)][_0x30c326(0x230)]={..._0x496b9c},delete _0x938e22[_0x30c326(0x2a0)],_0x938e22['_id']=new _0x20d086(),_0x938e22[_0x30c326(0x639)]=_0x1864f2,_0x938e22[_0x30c326(0x59e)]=_0x30c326(0x637),_0x938e22['remoteJid']=_0x495a47,_0x938e22[_0x30c326(0x2f5)]=_0x51227d,_0x938e22[_0x30c326(0x39a)]=_0x14429e;let _0x338835=await this['repository']['flowConversation']['updateOne'](_0x938e22[_0x30c326(0x2a0)],_0x938e22,this[_0x30c326(0x479)][_0x30c326(0x661)]);return this[_0x30c326(0x421)][_0x30c326(0x76b)](this[_0x30c326(0x1b4)]+'\x20('+this[_0x30c326(0x479)][_0x30c326(0x661)]+_0x30c326(0x7fb)),_0x338835?_0x938e22:null;}catch(_0x43823a){let _0x1a1090=_0x30c326(0x858),_0xe132bb=_0x43823a instanceof Error?_0x43823a[_0x30c326(0x34b)]:typeof _0x43823a==_0x30c326(0x6ff)?JSON[_0x30c326(0x27a)](_0x43823a):_0x43823a,_0x1e7fd2=_0x1a1090+':\x20'+_0xe132bb;throw this[_0x30c326(0x421)][_0x30c326(0x3b7)](this['instanceName']+'\x20('+this[_0x30c326(0x479)][_0x30c326(0x661)]+_0x30c326(0x54d)+_0x1e7fd2),new m(_0x1e7fd2);}}async[a0_0x20fba6(0x3f2)](_0x3289ce,_0x56c67a){const _0x549726=a0_0x20fba6;let _0x163785,_0x4adeab;try{let _0x35e8d0=_0x56c67a[_0x549726(0x557)];if(!_0x35e8d0||!_0x35e8d0['url']||!_0x35e8d0[_0x549726(0x5de)])throw new Error(_0x549726(0x85d));let _0x1b25ca;(['https://api.openai.com/v1/audio/speech',_0x549726(0x173),_0x549726(0x253)][_0x549726(0x836)](_0x165984=>_0x35e8d0[_0x549726(0x12a)][_0x549726(0x4b0)](_0x165984))||_0x35e8d0[_0x549726(0x6c5)])&&(_0x1b25ca=_0x549726(0x683));let _0x3ef4ed='\u205f',_0x50283;try{_0x50283=JSON[_0x549726(0x321)](_0x35e8d0['bodyString'][_0x549726(0x4f4)](new RegExp(_0x3ef4ed,'g'),''));}catch(_0x56ea1c){throw _0x56ea1c;}let _0x3e64fc={'method':_0x35e8d0[_0x549726(0x5de)],'url':_0x35e8d0[_0x549726(0x12a)],'headers':_0x35e8d0[_0x549726(0x370)]||{},..._0x35e8d0[_0x549726(0x5de)][_0x549726(0x1fe)]()!==_0x549726(0x21b)&&_0x35e8d0[_0x549726(0x58c)]?{'data':JSON[_0x549726(0x321)](_0x35e8d0[_0x549726(0x58c)][_0x549726(0x4f4)](new RegExp(_0x3ef4ed,'g'),''))}:{},..._0x1b25ca&&{'responseType':_0x1b25ca}},_0x5e2a65=await(0x0,Y[_0x549726(0x269)])(_0x3e64fc),_0x55b066=_0x5e2a65[_0x549726(0x499)][_0x549726(0x28f)];if(_0x55b066&&_0x55b066[_0x549726(0x4b0)]('application/json')||typeof _0x5e2a65[_0x549726(0x6b6)]=='string'){if(typeof _0x5e2a65['data']==_0x549726(0x648)){let _0x43326f=_0x5e2a65[_0x549726(0x6b6)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x163785=JSON[_0x549726(0x321)](_0x43326f);}catch(_0x3984b3){this[_0x549726(0x421)][_0x549726(0x3b7)](_0x549726(0x571)+_0x3984b3[_0x549726(0x34b)]),_0x163785={'_apiResponse':_0x5e2a65[_0x549726(0x6b6)]};}}else _0x163785=_0x5e2a65[_0x549726(0x6b6)];let _0x54d460=_0x3289ce[_0x549726(0x5ea)][_0x549726(0x230)],_0x52e955=this[_0x549726(0x4a0)](_0x163785);return Object['assign'](_0x54d460,_0x52e955),_0x3289ce['chatLog']['realVariables']=_0x54d460,_0x4adeab={'error':!0x1,'apiResponse':_0x163785},this[_0x549726(0x7ce)](_0x3289ce,_0x56c67a,_0x4adeab),_0x163785;}if(_0x55b066&&(_0x55b066['includes'](_0x549726(0x4fa))||_0x55b066['includes']('image')||_0x55b066['includes'](_0x549726(0x23b))||_0x55b066['includes'](_0x549726(0x78d)))){this[_0x549726(0x421)][_0x549726(0x76b)](this[_0x549726(0x1b4)]+'\x20('+this[_0x549726(0x479)][_0x549726(0x661)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x55b066);let _0x26ad98=(0x0,X['v4'])(),_0x4a2c55='',_0xe23c07={'image/jpeg':_0x549726(0x1cc),'image/png':'.png','image/gif':_0x549726(0x462),'image/webp':_0x549726(0x3f5),'image/svg+xml':_0x549726(0x185),'audio/mpeg':_0x549726(0x5e2),'audio/ogg':_0x549726(0x1b1),'audio/wav':_0x549726(0x258),'video/mp4':_0x549726(0x67e),'video/webm':_0x549726(0x78e),'video/ogg':_0x549726(0x1c8),'text/plain':_0x549726(0x66e),'application/pdf':_0x549726(0x3de),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x549726(0x279),'application/vnd.ms-excel':_0x549726(0x658),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x549726(0x482),'application/vnd.ms-powerpoint':_0x549726(0x16b),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x549726(0x818)};_0xe23c07[_0x55b066]?(_0x4a2c55=_0xe23c07[_0x55b066],this[_0x549726(0x421)][_0x549726(0x76b)](this[_0x549726(0x1b4)]+'\x20('+this['instance'][_0x549726(0x661)]+_0x549726(0x460)+_0x4a2c55)):(_0x4a2c55=_0x549726(0x867),this[_0x549726(0x421)][_0x549726(0x76b)](this[_0x549726(0x1b4)]+'\x20('+this['instance'][_0x549726(0x661)]+_0x549726(0x27d)+_0x4a2c55)),_0x26ad98+=_0x4a2c55,this[_0x549726(0x421)][_0x549726(0x76b)](this['instanceName']+'\x20('+this[_0x549726(0x479)][_0x549726(0x661)]+_0x549726(0x63c)+_0x26ad98);let _0x34b449=this[_0x549726(0x4e8)][_0x549726(0x6b2)](_0x549726(0x806))[_0x549726(0x6e6)];if(!_0x34b449){let _0x2335be=this['configService'][_0x549726(0x6b2)](_0x549726(0x170));_0x34b449=_0x549726(0x262)+(_0x2335be&&_0x2335be['FULLCHAIN']['split']('/')[0x4]);}let _0x3dab07=Buffer[_0x549726(0x3e5)](_0x5e2a65[_0x549726(0x6b6)]);await this[_0x549726(0x4be)](_0x3dab07,_0x26ad98);let _0x45cd4f=_0x549726(0x24d)+_0x26ad98;_0x45cd4f=''+_0x34b449+_0x45cd4f,_0x163785={'fileUrl':_0x45cd4f},_0x3289ce['chatLog'][_0x549726(0x230)]['fileUrl']=_0x45cd4f;let _0x20384d=_0x3289ce[_0x549726(0x5ea)][_0x549726(0x230)],_0x3c01f5=this[_0x549726(0x4a0)](_0x163785);return Object[_0x549726(0x3fa)](_0x20384d,_0x3c01f5),_0x3289ce[_0x549726(0x5ea)][_0x549726(0x230)]=_0x20384d,_0x4adeab={'error':!0x1,'apiResponse':{'fileUrl':_0x45cd4f}},this[_0x549726(0x7ce)](_0x3289ce,_0x56c67a,_0x4adeab),_0x163785;}}catch(_0x5eaeba){this[_0x549726(0x421)][_0x549726(0x3b7)](_0x549726(0x672)+_0x5eaeba[_0x549726(0x34b)]),_0x5eaeba[_0x549726(0x1eb)]&&(_0x163785=_0x5eaeba[_0x549726(0x1eb)]['data']);let _0x2a35cb=_0x3289ce[_0x549726(0x5ea)][_0x549726(0x230)],_0x20bd01=this[_0x549726(0x4a0)](_0x163785);return Object['assign'](_0x2a35cb,_0x20bd01),_0x3289ce[_0x549726(0x5ea)][_0x549726(0x230)]=_0x2a35cb,_0x4adeab={'error':!0x0,'errorLog':_0x5eaeba[_0x549726(0x176)](),'apiResponse':_0x163785},this[_0x549726(0x7ce)](_0x3289ce,_0x56c67a,_0x4adeab),{'success':!0x1};}}[a0_0x20fba6(0x159)](_0x304bcb,_0x5e8a72){const _0x4b1716=a0_0x20fba6;let _0x1699e2=_0x1b319f=>{const _0x386fa7=a0_0x2eae;let _0x56200a=_0x1b319f[_0x386fa7(0x4f4)](/[^0-9.,-]/g,'')[_0x386fa7(0x4f4)](',','.'),_0xb18a53=parseFloat(_0x56200a);return isNaN(_0xb18a53)?null:_0xb18a53;},_0x44fd74=_0x5e8a72['firstValue'],_0x3a848e=_0x5e8a72[_0x4b1716(0x3e2)];typeof _0x44fd74=='string'&&(_0x44fd74=this[_0x4b1716(0x24f)](_0x44fd74,_0x304bcb[_0x4b1716(0x5ea)][_0x4b1716(0x230)])??''),typeof _0x3a848e=='string'&&(_0x3a848e=this[_0x4b1716(0x24f)](_0x3a848e,_0x304bcb[_0x4b1716(0x5ea)]['realVariables'])??'');let _0x5ddd10=null;if(!_0x5e8a72[_0x4b1716(0x620)])return null;switch(this[_0x4b1716(0x421)][_0x4b1716(0x76b)](this[_0x4b1716(0x1b4)]+'\x20('+this['instance'][_0x4b1716(0x661)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x44fd74),this['logger'][_0x4b1716(0x76b)](this[_0x4b1716(0x1b4)]+'\x20('+this[_0x4b1716(0x479)]['wuid']+_0x4b1716(0x35c)+_0x3a848e),_0x5e8a72[_0x4b1716(0x620)]){case'+':case'-':case'*':case'/':let _0x3edadf=_0x1699e2(_0x44fd74||'0'),_0x432b75=_0x1699e2(_0x3a848e||'0');if(_0x3edadf===null)return null;switch(_0x5e8a72[_0x4b1716(0x620)]){case'+':_0x5ddd10=_0x3edadf+(_0x432b75??0x0);break;case'-':_0x5ddd10=_0x3edadf-(_0x432b75??0x0);break;case'*':_0x5ddd10=_0x3edadf*(_0x432b75??0x1);break;case'/':_0x432b75!==0x0&&(_0x5ddd10=_0x3edadf/(_0x432b75??0x1));break;}break;case _0x4b1716(0x86a):case _0x4b1716(0x3a6):let _0x48f5b1=_0x3a848e,_0x5a004e=_0x5e8a72[_0x4b1716(0x28c)];if(typeof _0x5a004e=='string'&&(_0x5a004e=this[_0x4b1716(0x24f)](_0x5a004e,_0x304bcb[_0x4b1716(0x5ea)][_0x4b1716(0x230)])??''),_0x48f5b1&&_0x5a004e!==void 0x0){let _0x10f1be=_0x5e8a72[_0x4b1716(0x620)]===_0x4b1716(0x86a)?new RegExp(_0x48f5b1[_0x4b1716(0x4f4)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x48f5b1,'g');_0x5ddd10=_0x44fd74[_0x4b1716(0x4f4)](_0x10f1be,_0x5a004e);}else console[_0x4b1716(0x536)](_0x4b1716(0x65e));break;case _0x4b1716(0x139):_0x5ddd10=_0x3a848e;break;case _0x4b1716(0x590):let _0x3ca38c=_0x44fd74[_0x4b1716(0x700)](new RegExp(_0x3a848e||''));_0x5ddd10=_0x3ca38c?_0x3ca38c[0x0]:'';break;case'truncatedto':_0x5ddd10=_0x44fd74[_0x4b1716(0x17e)](0x0,parseInt(_0x3a848e||'0'));break;case _0x4b1716(0x26c):let _0x3764a5=parseInt(_0x3a848e||'0');_0x5ddd10=_0x44fd74[_0x4b1716(0x17e)](_0x44fd74[_0x4b1716(0x21c)]-_0x3764a5);break;case'toBrazilianNumberFormat':let _0x731db0=_0x1699e2(_0x44fd74),_0x255124=parseInt(_0x3a848e||'0');_0x255124=Math[_0x4b1716(0x2a2)](_0x255124),_0x731db0!==null?_0x5ddd10=_0x731db0[_0x4b1716(0x13e)](_0x4b1716(0x591),{'minimumFractionDigits':_0x255124,'maximumFractionDigits':_0x255124}):(console[_0x4b1716(0x536)](_0x4b1716(0x650)+_0x44fd74),_0x5ddd10=null);break;case _0x4b1716(0x5f2):let _0x526e66=_0x1699e2(_0x44fd74);_0x526e66!==null?_0x5ddd10=_0x526e66[_0x4b1716(0x13e)]('pt-BR',{'style':'currency','currency':_0x4b1716(0x2b7)}):(console[_0x4b1716(0x536)](_0x4b1716(0x62e)+_0x44fd74),_0x5ddd10=null);break;case _0x4b1716(0x6de):_0x5ddd10=_0x44fd74['toUpperCase']();break;case _0x4b1716(0x623):_0x5ddd10=_0x44fd74[_0x4b1716(0x500)]();break;case _0x4b1716(0x507):_0x5ddd10=_0x44fd74[_0x4b1716(0x2fc)]('\x20')[_0x4b1716(0x5a9)](_0x24ec2f=>_0x24ec2f[_0x4b1716(0x4a6)](0x0)[_0x4b1716(0x1fe)]()+_0x24ec2f[_0x4b1716(0x17e)](0x1)[_0x4b1716(0x500)]())[_0x4b1716(0x7ae)]('\x20');break;case _0x4b1716(0x7b1):_0x5ddd10=JSON[_0x4b1716(0x27a)](_0x44fd74);break;case _0x4b1716(0x259):_0x5ddd10=_0x44fd74['trim']();break;default:_0x5ddd10=_0x44fd74;}return _0x5ddd10!==null?_0x5ddd10[_0x4b1716(0x176)]():null;}async['processvaredits'](_0x444dca,_0x3c5912){const _0x3aa0f9=a0_0x20fba6;try{let _0x2b4bc7=_0x444dca[_0x3aa0f9(0x46c)]?.[_0x3aa0f9(0x7a2)](_0x29611b=>_0x29611b[_0x3aa0f9(0x723)]===_0x3c5912[_0x3aa0f9(0x2a0)]?.['toString']())||[],_0x39dd43=_0x3c5912[_0x3aa0f9(0x268)],_0x1ab0d6=null,_0x3fb98b=[],_0x5f022e=_0x444dca['chatLog'][_0x3aa0f9(0x230)][_0x39dd43];_0x3fb98b[_0x3aa0f9(0x2af)](_0x3aa0f9(0x740)+_0x5f022e+'\x22');for(let _0x44f50d of _0x2b4bc7){_0x44f50d[_0x3aa0f9(0x4f9)]=_0x5f022e,_0x1ab0d6=_0x44f50d[_0x3aa0f9(0x4f9)];let _0x40be6e;try{_0x40be6e=this[_0x3aa0f9(0x159)](_0x444dca,_0x44f50d);}catch(_0x28e93f){this[_0x3aa0f9(0x421)][_0x3aa0f9(0x3b7)](_0x3aa0f9(0x1fb)+_0x28e93f['message']);continue;}if(_0x40be6e!==null){let _0x349cc2=_0x3aa0f9(0x167)+_0x44f50d[_0x3aa0f9(0x620)]+'\x22',_0x75f27=[_0x3aa0f9(0x5f2),_0x3aa0f9(0x6de),_0x3aa0f9(0x623),_0x3aa0f9(0x507),_0x3aa0f9(0x259)];_0x44f50d[_0x3aa0f9(0x620)]==='findAndReplace'||_0x44f50d[_0x3aa0f9(0x620)]===_0x3aa0f9(0x3a6)?_0x349cc2+=_0x3aa0f9(0x733)+_0x44f50d['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x44f50d[_0x3aa0f9(0x28c)]+'\x22':!_0x75f27['includes'](_0x44f50d['editOperator'])&&_0x44f50d[_0x3aa0f9(0x3e2)]!==null&&_0x44f50d['secondValue']!==void 0x0&&(_0x349cc2+=',\x20valor\x20passado:\x20\x22'+_0x44f50d['secondValue']+'\x22'),_0x349cc2+=',\x20resultado:\x20'+_0x40be6e+'.',_0x3fb98b[_0x3aa0f9(0x2af)](_0x349cc2);}_0x40be6e!==null&&(_0x5f022e=_0x40be6e);}if(_0x444dca[_0x3aa0f9(0x5ea)][_0x3aa0f9(0x230)]&&_0x3c5912[_0x3aa0f9(0x268)]){_0x444dca[_0x3aa0f9(0x5ea)][_0x3aa0f9(0x230)][_0x3c5912[_0x3aa0f9(0x268)]]=_0x5f022e;let _0x320f62={'variable':_0x3c5912[_0x3aa0f9(0x268)],'oldValue':_0x1ab0d6,'newValue':_0x5f022e,'moreLogs':_0x3fb98b};try{this[_0x3aa0f9(0x7ce)](_0x444dca,_0x3c5912,_0x320f62);}catch(_0x5bb0b5){this[_0x3aa0f9(0x421)][_0x3aa0f9(0x3b7)](_0x3aa0f9(0x2c6)+_0x5bb0b5[_0x3aa0f9(0x34b)]);}}return _0x39dd43;}catch(_0x1a11b2){return this[_0x3aa0f9(0x421)]['error'](_0x3aa0f9(0x689)+_0x1a11b2[_0x3aa0f9(0x34b)]),null;}}async['processConditions'](_0x512b54,_0x3f859c){const _0x2c86a0=a0_0x20fba6;try{let _0x13fefc=[],_0x122050=_0x512b54[_0x2c86a0(0x7df)][_0x2c86a0(0x7a2)](_0x1c7fab=>_0x1c7fab[_0x2c86a0(0x723)]===_0x3f859c[_0x2c86a0(0x2a0)][_0x2c86a0(0x176)]()),_0x4f6e76=null,_0x2ddd75=!0x1;for(let _0x901f33 of _0x122050){let _0x2634cc=this['evaluateCondition'](_0x512b54,_0x901f33);_0x13fefc[_0x2c86a0(0x2af)](_0x2c86a0(0x744)+_0x901f33[_0x2c86a0(0x4f9)]+_0x2c86a0(0x6e1)+_0x901f33[_0x2c86a0(0x80f)]+_0x2c86a0(0x47c)+_0x901f33['secondValue']+_0x2c86a0(0x113)+_0x2634cc),_0x4f6e76===null?_0x4f6e76=_0x2634cc:_0x901f33[_0x2c86a0(0x4d5)]===_0x2c86a0(0x817)?(_0x4f6e76=_0x4f6e76&&_0x2634cc,_0x2634cc||(_0x2ddd75=!0x0)):_0x901f33[_0x2c86a0(0x4d5)]==='or'&&(_0x2ddd75||(_0x4f6e76=_0x4f6e76||_0x2634cc));}_0x4f6e76===null&&(_0x4f6e76=!0x0);let _0x1ca834={'moreLogs':_0x13fefc};_0x512b54[_0x2c86a0(0x5ea)]['lastCondition']=_0x4f6e76,await this['updateConversation'](_0x512b54,_0x3f859c,_0x1ca834);}catch(_0x49c886){this[_0x2c86a0(0x421)][_0x2c86a0(0x3b7)](this['instanceName']+'\x20('+this[_0x2c86a0(0x479)][_0x2c86a0(0x661)]+_0x2c86a0(0x5ac)+(_0x49c886 instanceof Error?_0x49c886['message']:JSON[_0x2c86a0(0x27a)](_0x49c886,null,0x2)));}}[a0_0x20fba6(0x16f)](_0x4c3029,_0x45f78a){const _0x172c6a=a0_0x20fba6;let _0x125ca9=_0x45f78a['firstValue'],_0xa7a0cb=_0x45f78a[_0x172c6a(0x3e2)];typeof _0x125ca9=='string'&&(_0x125ca9=this[_0x172c6a(0x24f)](_0x125ca9,_0x4c3029[_0x172c6a(0x5ea)][_0x172c6a(0x230)])??''),typeof _0xa7a0cb==_0x172c6a(0x648)&&(_0xa7a0cb=this[_0x172c6a(0x24f)](_0xa7a0cb,_0x4c3029['chatLog'][_0x172c6a(0x230)])??'');try{switch(_0x45f78a[_0x172c6a(0x80f)]){case _0x172c6a(0x226):return _0x125ca9===_0xa7a0cb;case _0x172c6a(0x5a7):return _0x125ca9!==_0xa7a0cb;case _0x172c6a(0x49c):return this[_0x172c6a(0x49c)](_0x125ca9,_0xa7a0cb);case'notContains':return!this[_0x172c6a(0x49c)](_0x125ca9,_0xa7a0cb);case _0x172c6a(0x42d):return parseFloat(_0x125ca9)>parseFloat(_0xa7a0cb);case _0x172c6a(0x75d):return parseFloat(_0x125ca9)<parseFloat(_0xa7a0cb);case _0x172c6a(0x144):return _0x125ca9!=='';case'empty':return _0x125ca9==='';case _0x172c6a(0x564):return new RegExp(_0xa7a0cb)[_0x172c6a(0x69d)](_0x125ca9);case _0x172c6a(0x721):return!new RegExp(_0xa7a0cb)[_0x172c6a(0x69d)](_0x125ca9);default:return!0x1;}}catch(_0x184f69){return this['logger'][_0x172c6a(0x3b7)](_0x172c6a(0x796)+_0x184f69),!0x1;}}[a0_0x20fba6(0x49c)](_0x1f0afe,_0xc9023b){const _0x153259=a0_0x20fba6;if(_0x1f0afe===_0xc9023b&&/^\d+$/[_0x153259(0x69d)](_0x1f0afe))return!0x0;if(this[_0x153259(0x1f5)](_0x1f0afe)&&/^\d+$/[_0x153259(0x69d)](_0xc9023b)){let _0x105101=_0x1f0afe['split'](',')[_0x153259(0x5a9)](_0x51c520=>parseInt(_0x51c520[_0x153259(0x5b8)]())),_0x548ff9=parseInt(_0xc9023b);return _0x105101[_0x153259(0x4b0)](_0x548ff9);}return _0x1f0afe[_0x153259(0x4b0)](_0xc9023b);}[a0_0x20fba6(0x1f5)](_0x31f658){return/^\d+(,\d+)*$/['test'](_0x31f658);}[a0_0x20fba6(0x549)](_0x1fc8e1){const _0x2bbd36=a0_0x20fba6;let _0x5e3d3f=!0x0,_0x1e4712=null;for(let _0x202745 of _0x1fc8e1){let _0x5a6593=this[_0x2bbd36(0x50c)](_0x202745);if(_0x1e4712==='or'&&_0x5a6593){_0x5e3d3f=!0x0;break;}if(_0x1e4712===_0x2bbd36(0x817)&&!_0x5a6593){_0x5e3d3f=!0x1;break;}_0x1e4712=_0x202745[_0x2bbd36(0x4d5)];}return _0x5e3d3f;}[a0_0x20fba6(0x50c)](_0x32b13e){const _0x5570d3=a0_0x20fba6;let _0x312e2e=_0x32b13e['firstValue'],_0x2a7efc=_0x32b13e['secondValue'];try{switch(_0x32b13e[_0x5570d3(0x80f)]){case'equal':return String(_0x312e2e)===String(_0x2a7efc);case'notEqual':return String(_0x312e2e)!==String(_0x2a7efc);case _0x5570d3(0x49c):return String(_0x312e2e)[_0x5570d3(0x4b0)](String(_0x2a7efc));case'notContains':return!String(_0x312e2e)['includes'](String(_0x2a7efc));case _0x5570d3(0x42d):return parseFloat(String(_0x312e2e))>parseFloat(String(_0x2a7efc));case _0x5570d3(0x75d):return parseFloat(String(_0x312e2e))<parseFloat(String(_0x2a7efc));case _0x5570d3(0x144):return String(_0x312e2e)!=='';case _0x5570d3(0x450):return String(_0x312e2e)==='';case _0x5570d3(0x564):return new RegExp(String(_0x2a7efc))[_0x5570d3(0x69d)](String(_0x312e2e));case'notMatchRegex':return!new RegExp(String(_0x2a7efc))[_0x5570d3(0x69d)](String(_0x312e2e));default:return!0x1;}}catch(_0x35a7c4){return this['logger']['error'](_0x5570d3(0x796)+_0x35a7c4),!0x1;}}async[a0_0x20fba6(0x560)](_0x3677bc,_0x3b25d3){const _0x13f265=a0_0x20fba6;if(this['logger'][_0x13f265(0x76b)](this[_0x13f265(0x1b4)]+'\x20('+this[_0x13f265(0x479)][_0x13f265(0x661)]+_0x13f265(0x2fd)),!_0x3677bc||!_0x3b25d3)return this[_0x13f265(0x421)][_0x13f265(0x3b7)](this[_0x13f265(0x1b4)]+'\x20('+this[_0x13f265(0x479)][_0x13f265(0x661)]+_0x13f265(0x6d0)),null;let _0x2e92a2=_0x3677bc[_0x13f265(0x5ea)][_0x13f265(0x7b6)][_0x13f265(0x249)]['id'];this[_0x13f265(0x421)][_0x13f265(0x76b)](this[_0x13f265(0x1b4)]+'\x20('+this[_0x13f265(0x479)][_0x13f265(0x661)]+_0x13f265(0x2c9)+_0x2e92a2);let _0x31bdcf={'key':{'id':_0x2e92a2}},_0x58fc41=_0x3b25d3['saveVariable'];_0x3677bc['chatLog'][_0x13f265(0x230)]['_'+_0x58fc41+_0x13f265(0x10d)]=null,_0x3677bc[_0x13f265(0x5ea)][_0x13f265(0x230)]['_'+_0x58fc41+_0x13f265(0x1ac)]=null,_0x3677bc[_0x13f265(0x5ea)]['realVariables']['_'+_0x58fc41+_0x13f265(0x354)]=null,_0x3677bc[_0x13f265(0x5ea)][_0x13f265(0x230)]['_'+_0x58fc41+_0x13f265(0x53c)]=_0x3677bc[_0x13f265(0x5ea)][_0x13f265(0x7b6)][_0x13f265(0x7da)];try{let _0x4dbec5=await this[_0x13f265(0x2d7)](_0x31bdcf);this['logger'][_0x13f265(0x76b)](this[_0x13f265(0x1b4)]+'\x20('+this[_0x13f265(0x479)][_0x13f265(0x661)]+_0x13f265(0x55c)),_0x3677bc['chatLog'][_0x13f265(0x230)]['_'+_0x58fc41+'.url']=_0x4dbec5[_0x13f265(0x265)],_0x3677bc[_0x13f265(0x5ea)][_0x13f265(0x230)]['_'+_0x58fc41+_0x13f265(0x1ac)]=_0x4dbec5['mimetype'];let _0x996fdd=_0x4dbec5['mimetype'][_0x13f265(0x700)](/\/(\w+)$/),_0x5ab023=_0x996fdd?_0x996fdd[0x1]:null;_0x3677bc[_0x13f265(0x5ea)][_0x13f265(0x230)]['_'+_0x58fc41+_0x13f265(0x354)]=_0x5ab023,this[_0x13f265(0x421)][_0x13f265(0x76b)](this[_0x13f265(0x1b4)]+'\x20('+this['instance'][_0x13f265(0x661)]+_0x13f265(0x2b0)+_0x58fc41+'\x27.');}catch(_0x276e07){this['logger']['error'](this[_0x13f265(0x1b4)]+'\x20('+this['instance']['wuid']+_0x13f265(0x180)+_0x276e07['message']);}let _0x4bade0=_0x3677bc[_0x13f265(0x5ea)][_0x13f265(0x7b6)][_0x13f265(0x339)]||_0x3677bc['chatLog'][_0x13f265(0x7b6)]['caption']||_0x3677bc[_0x13f265(0x5ea)]['lastReceivedMessage'][_0x13f265(0x7ea)];try{_0x3677bc['chatLog'][_0x13f265(0x230)]||(_0x3677bc[_0x13f265(0x5ea)]['realVariables']={});let _0x30a059=_0x3677bc['chatLog'][_0x13f265(0x230)][_0x58fc41];_0x3677bc[_0x13f265(0x5ea)][_0x13f265(0x230)][_0x58fc41]=_0x4bade0;let _0x45abe1={'variable':_0x58fc41,'oldValue':_0x30a059,'newValue':_0x4bade0};this[_0x13f265(0x7ce)](_0x3677bc,_0x3b25d3,_0x45abe1),this[_0x13f265(0x421)]['verbose'](this['instanceName']+'\x20('+this[_0x13f265(0x479)][_0x13f265(0x661)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x7c6523){let _0x11a7d3={'error':!0x0,'errorLog':_0x7c6523[_0x13f265(0x176)]()};return this[_0x13f265(0x7ce)](_0x3677bc,_0x3b25d3,_0x11a7d3),this[_0x13f265(0x421)][_0x13f265(0x3b7)](this[_0x13f265(0x1b4)]+'\x20('+this[_0x13f265(0x479)][_0x13f265(0x661)]+_0x13f265(0x750)+(_0x7c6523 instanceof Error?_0x7c6523[_0x13f265(0x34b)]:JSON['stringify'](_0x7c6523,null,0x2))),null;}}async[a0_0x20fba6(0x738)](_0x113650,_0x121d7e){const _0xbeba22=a0_0x20fba6;if(this[_0xbeba22(0x421)]['verbose'](this[_0xbeba22(0x1b4)]+'\x20('+this[_0xbeba22(0x479)][_0xbeba22(0x661)]+_0xbeba22(0x32c)),!_0x113650||!_0x121d7e)return this['logger']['error'](this['instanceName']+'\x20('+this[_0xbeba22(0x479)][_0xbeba22(0x661)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x1a4ade=Date[_0xbeba22(0x1a6)](),_0x5d52b6=parseInt(_0x121d7e[_0xbeba22(0x67d)],0xa);if(isNaN(_0x5d52b6))return this['logger'][_0xbeba22(0x3b7)](this[_0xbeba22(0x1b4)]+'\x20('+this[_0xbeba22(0x479)][_0xbeba22(0x661)]+_0xbeba22(0x84f)),null;let _0x2de780={'newStoppedUntil':_0x1a4ade+_0x5d52b6*0x3c*0x3e8};return await this[_0xbeba22(0x7ce)](_0x113650,_0x121d7e,_0x2de780,!0x0),null;}async[a0_0x20fba6(0x298)](_0xc7e9c9,_0x48c572){const _0x25c2f5=a0_0x20fba6;try{switch(_0x48c572['uazapi']['command']){case _0x25c2f5(0x6b3):await this['uazapiSendText'](_0xc7e9c9,_0x48c572);break;case _0x25c2f5(0x23a):await this[_0x25c2f5(0x200)](_0xc7e9c9,_0x48c572);break;case _0x25c2f5(0x594):await this[_0x25c2f5(0x3e0)](_0xc7e9c9,_0x48c572);break;case _0x25c2f5(0x861):await this['uazapiSendAudio'](_0xc7e9c9,_0x48c572);break;case _0x25c2f5(0x156):await this[_0x25c2f5(0x6f2)](_0xc7e9c9,_0x48c572);break;case'sendPoll':await this['uazapiSendMenu'](_0xc7e9c9,_0x48c572);break;case _0x25c2f5(0x342):await this['uazapiSendMenu'](_0xc7e9c9,_0x48c572);break;case'deleteMessage':await this[_0x25c2f5(0x178)](_0xc7e9c9,_0x48c572);break;default:this[_0x25c2f5(0x421)][_0x25c2f5(0x3b7)](this[_0x25c2f5(0x1b4)]+'\x20('+this[_0x25c2f5(0x479)][_0x25c2f5(0x661)]+_0x25c2f5(0x7a9)+_0x48c572[_0x25c2f5(0x688)][_0x25c2f5(0x1f0)]);}}catch(_0x29084d){this[_0x25c2f5(0x421)][_0x25c2f5(0x3b7)](this[_0x25c2f5(0x1b4)]+'\x20('+this['instance'][_0x25c2f5(0x661)]+_0x25c2f5(0x1d8)+(_0x29084d instanceof Error?_0x29084d[_0x25c2f5(0x34b)]:JSON[_0x25c2f5(0x27a)](_0x29084d,null,0x2)));}}async[a0_0x20fba6(0x7ce)](_0x2d5916,_0x140743,_0x263024,_0x4046eb=!0x1,_0x2f106a=!0x1){const _0x58d992=a0_0x20fba6;_0x2d5916['chatLog']['blockLogs']||(_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x87a)]=[]);let _0x12e705=(_0x2d5916['chatLog'][_0x58d992(0x87a)]?.[_0x58d992(0x21c)]??0x0)+0x1,_0x11eb3e=_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x87a)][_0x58d992(0x7a2)](_0x57466a=>String(_0x57466a[_0x58d992(0x723)])===String(_0x140743[_0x58d992(0x2a0)]))['length']+0x1,_0x20f70c=_0x263024?.[_0x58d992(0x151)]??Date[_0x58d992(0x1a6)](),_0x470e55=_0x263024?.[_0x58d992(0x3b7)]?_0x263024[_0x58d992(0x4a1)]??_0x263024[_0x58d992(0x3b7)][_0x58d992(0x176)]():void 0x0,_0xa36554={'onTime':_0x20f70c,'blockId':_0x140743[_0x58d992(0x2a0)],'order':_0x12e705,'activatedCount':_0x11eb3e,'error':_0x263024?.[_0x58d992(0x3b7)]??!0x1,'messageId':_0x263024?.['messageId'],'apiResponse':_0x263024?.[_0x58d992(0x83c)],'apiResponseString':_0x263024?.['apiResponse']?JSON[_0x58d992(0x27a)](_0x263024?.[_0x58d992(0x83c)]):void 0x0,'variable':_0x263024?.[_0x58d992(0x18d)],'oldValue':_0x263024?.[_0x58d992(0x3e9)],'newValue':_0x263024?.[_0x58d992(0x239)],'newStoppedUntil':_0x263024?.[_0x58d992(0x302)],'moreLogs':_0x263024?.[_0x58d992(0x5e8)],'errorLog':_0x470e55};if(_0x263024['moreLogs']&&_0x263024[_0x58d992(0x5e8)][_0x58d992(0x21c)]>0x0){let _0x3a5156=_0x263024[_0x58d992(0x5e8)][_0x58d992(0x5a9)](_0x3a3dce=>this[_0x58d992(0x70d)](_0x3a3dce,_0x2d5916[_0x58d992(0x5ea)]['realVariables']));_0xa36554[_0x58d992(0x5e8)]=_0x3a5156;}if(_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x230)]||(_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x230)]={}),_0x2d5916[_0x58d992(0x5ea)]['realVariables'][_0x58d992(0x737)]=String(_0x11eb3e),_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x230)]['_error']=String(_0x263024[_0x58d992(0x3b7)]??!0x1),_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x87a)]['push'](_0xa36554),_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x230)][_0x58d992(0x1c2)]&&_0x2d5916['chatLog'][_0x58d992(0x230)][_0x58d992(0x1c2)]!==_0x2d5916['remoteJid']){let _0xff6e39=(await this['whatsappNumber']({'numbers':[_0x2d5916['chatLog'][_0x58d992(0x230)][_0x58d992(0x1c2)]]}))[0x0][_0x58d992(0x4b4)];_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x230)][_0x58d992(0x1c2)]=_0xff6e39,_0x2d5916[_0x58d992(0x5bc)]=_0xff6e39;try{let _0x80436c={'_id':{'$ne':_0x2d5916[_0x58d992(0x2a0)]},'remoteJid':_0xff6e39,'status':_0x58d992(0x637)},_0x51777d={'status':'closed'};await this['repository'][_0x58d992(0x2f2)][_0x58d992(0x3eb)](_0x80436c,_0x51777d,this['instance'][_0x58d992(0x661)]),this['logger'][_0x58d992(0x76b)](this[_0x58d992(0x1b4)]+'\x20('+this[_0x58d992(0x479)][_0x58d992(0x661)]+_0x58d992(0x40a));}catch(_0x4d3ee1){this[_0x58d992(0x421)][_0x58d992(0x3b7)](this[_0x58d992(0x1b4)]+'\x20('+this[_0x58d992(0x479)]['wuid']+_0x58d992(0x445)+_0x4d3ee1[_0x58d992(0x34b)]);}try{let _0x239721=_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x230)],_0x2f4fee=await this[_0x58d992(0x35d)](_0xff6e39),_0x47c409={..._0x239721,..._0x2f4fee,'_remoteJid':_0xff6e39};_0x2d5916[_0x58d992(0x5ea)]['realVariables']=_0x47c409;}catch(_0x1a6651){this[_0x58d992(0x421)][_0x58d992(0x3b7)](this[_0x58d992(0x1b4)]+'\x20('+this[_0x58d992(0x479)][_0x58d992(0x661)]+_0x58d992(0x582)+_0x1a6651[_0x58d992(0x34b)]);}}_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x5aa)]=_0x140743[_0x58d992(0x2a0)][_0x58d992(0x176)](),_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x879)]&&(_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x879)]=_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x879)]),_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x7b6)]&&(_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x7b6)]=_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x7b6)]),_0x2d5916[_0x58d992(0x5ea)][_0x58d992(0x41f)]&&(_0x2d5916[_0x58d992(0x5ea)]['lastCondition']=_0x2d5916[_0x58d992(0x5ea)]['lastCondition']),_0x2f106a&&(_0x2d5916[_0x58d992(0x59e)]=_0x58d992(0x1c9)),_0x4046eb?this['saveConversationToDatabase'](_0x2d5916):this['goNextblock'](_0x2d5916,_0x140743);}[a0_0x20fba6(0x70d)](_0x2b4d28,_0x480212){const _0x64d261=a0_0x20fba6;return _0x2b4d28[_0x64d261(0x4f4)](/\{\{([^}]+)\}\}/g,(_0x243660,_0x36733b)=>_0x480212[_0x36733b]?'{{'+_0x36733b+_0x64d261(0x843)+_0x480212[_0x36733b]+'\x22':'{{'+_0x36733b+_0x64d261(0x1e7));}async['saveConversationToDatabase'](_0x45cabe){const _0x50f518=a0_0x20fba6;try{let _0x5551db=Object[_0x50f518(0x805)](_0x45cabe[_0x50f518(0x5ea)][_0x50f518(0x230)])[_0x50f518(0x5a9)](([_0x14ab4d,_0x503b3e])=>({'name':_0x14ab4d,'value':_0x503b3e})),_0xc193af={'status':_0x45cabe[_0x50f518(0x59e)],'remoteJid':_0x45cabe[_0x50f518(0x5bc)],'blocks':_0x45cabe[_0x50f518(0x822)],'waitingMenu_id':_0x45cabe[_0x50f518(0x543)],'waitingMenu_text':_0x45cabe['waitingMenu_text'],'waitingMenu_replyOptions':_0x45cabe[_0x50f518(0x2e6)],'chatLog':{'lastBlockId':_0x45cabe['chatLog'][_0x50f518(0x5aa)],'lastSendMessage':_0x45cabe[_0x50f518(0x5ea)][_0x50f518(0x879)],'lastReceivedMessage':_0x45cabe[_0x50f518(0x5ea)][_0x50f518(0x7b6)],'lastCondition':_0x45cabe[_0x50f518(0x5ea)][_0x50f518(0x41f)],'chatVariables':_0x5551db,'realVariables':_0x45cabe[_0x50f518(0x5ea)][_0x50f518(0x230)],'blockLogs':_0x45cabe[_0x50f518(0x5ea)][_0x50f518(0x87a)]}},_0x55dddf=await this[_0x50f518(0x1d5)][_0x50f518(0x2f2)][_0x50f518(0x1e8)](_0x45cabe['_id'],_0xc193af,this[_0x50f518(0x479)][_0x50f518(0x661)]);if(_0x55dddf){this[_0x50f518(0x421)][_0x50f518(0x76b)](this[_0x50f518(0x1b4)]+'\x20('+this[_0x50f518(0x479)]['wuid']+_0x50f518(0x4da)+_0x55dddf[_0x50f518(0x2a0)]);try{let _0x17d918=[_0x50f518(0x3b6),'nomecompleto',_0x50f518(0x205),'cpf','status',_0x50f518(0x281),_0x50f518(0x2d6),_0x50f518(0x724),'etiquetas',_0x50f518(0x383)];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x50f518(0x52f)]))throw new Error(_0x50f518(0x51d));let _0x5f56ec=this[_0x50f518(0x52f)]?.[_0x50f518(0x2ea)][_0x50f518(0x5a9)](_0x1f4a3c=>_0x1f4a3c['name']),_0x16089a={};Object['entries'](_0x45cabe['chatLog'][_0x50f518(0x230)])[_0x50f518(0x871)](([_0x32cb4a,_0x4b33c2])=>{const _0x45b779=_0x50f518;_0x17d918[_0x45b779(0x4b0)](_0x32cb4a)&&(_0x32cb4a===_0x45b779(0x724)&&typeof _0x4b33c2==_0x45b779(0x648)?_0x16089a[_0x32cb4a]=_0x4b33c2[_0x45b779(0x2fc)](',')[_0x45b779(0x5a9)](_0x46eb85=>_0x46eb85[_0x45b779(0x5b8)]())[_0x45b779(0x7a2)](_0x3d3846=>_0x3d3846!==''):_0x32cb4a==='etiquetas'&&typeof _0x4b33c2==_0x45b779(0x648)?_0x16089a[_0x32cb4a]=_0x4b33c2['split'](',')['map'](_0x405bfa=>_0x405bfa[_0x45b779(0x5b8)]())[_0x45b779(0x7a2)](_0x18714a=>_0x18714a!==''):_0x16089a[_0x32cb4a]=_0x4b33c2);});let _0xc0524b=_0x45cabe[_0x50f518(0x5ea)]['blockLogs'][_0x45cabe[_0x50f518(0x5ea)]['blockLogs'][_0x50f518(0x21c)]-0x1];if(_0xc0524b){let _0x512022=_0xc0524b[_0x50f518(0x302)];_0x512022!==void 0x0&&(_0x16089a[_0x50f518(0x701)]=_0x512022[_0x50f518(0x176)]());}let _0x573a3a=_0x5551db[_0x50f518(0x7a2)](_0x1635d2=>_0x5f56ec[_0x50f518(0x4b0)](_0x1635d2['name']));this[_0x50f518(0x421)][_0x50f518(0x76b)](this[_0x50f518(0x1b4)]+'\x20('+this['instance']['wuid']+_0x50f518(0x75c)),this[_0x50f518(0x421)][_0x50f518(0x76b)](_0x16089a),this['logger'][_0x50f518(0x76b)](this['instanceName']+'\x20('+this['instance'][_0x50f518(0x661)]+_0x50f518(0x85f)),this[_0x50f518(0x421)]['verbose'](_0x573a3a);let _0x50e292=_0x573a3a[_0x50f518(0x5a9)](_0x33de3b=>{const _0x1ddcf5=_0x50f518;let _0x338aa6=this[_0x1ddcf5(0x52f)]?.['customFields']['find'](_0x1a5a62=>_0x1a5a62[_0x1ddcf5(0x217)]===_0x33de3b[_0x1ddcf5(0x217)]);if(!_0x338aa6)throw new Error(_0x1ddcf5(0x656)+_0x33de3b[_0x1ddcf5(0x217)]);return{'_id':_0x338aa6[_0x1ddcf5(0x2a0)],'value':_0x33de3b['value']};});this[_0x50f518(0x421)][_0x50f518(0x76b)](this[_0x50f518(0x1b4)]+'\x20('+this[_0x50f518(0x479)][_0x50f518(0x661)]+_0x50f518(0x1d6)),this[_0x50f518(0x421)]['verbose'](_0x50e292),await this[_0x50f518(0x1bf)](_0x45cabe['remoteJid'],_0x16089a,_0x50e292);}catch(_0x559b2a){this['logger'][_0x50f518(0x3b7)](this['instanceName']+'\x20('+this[_0x50f518(0x479)][_0x50f518(0x661)]+_0x50f518(0x436)+(_0x559b2a instanceof Error?_0x559b2a[_0x50f518(0x34b)]:JSON[_0x50f518(0x27a)](_0x559b2a,null,0x2)));}}else this[_0x50f518(0x421)][_0x50f518(0x3b7)](this['instanceName']+'\x20('+this[_0x50f518(0x479)][_0x50f518(0x661)]+_0x50f518(0x7e2));}catch(_0x54d26b){this[_0x50f518(0x421)]['error'](this[_0x50f518(0x1b4)]+'\x20('+this[_0x50f518(0x479)]['wuid']+_0x50f518(0x434)+(_0x54d26b instanceof Error?_0x54d26b[_0x50f518(0x34b)]:JSON[_0x50f518(0x27a)](_0x54d26b,null,0x2)));}}async['saveChatVariables'](_0x14b1a1,_0x5cadce,_0x33a289){const _0x21f356=a0_0x20fba6;try{let _0x6250eb={'leadInfo.leadnome':_0x5cadce[_0x21f356(0x3b6)],'leadInfo.nomecompleto':_0x5cadce[_0x21f356(0x56b)],'leadInfo.email':_0x5cadce['email'],'leadInfo.cpf':_0x5cadce[_0x21f356(0x172)],'leadInfo.status':_0x5cadce['status'],'leadInfo.notas':_0x5cadce[_0x21f356(0x281)],'leadInfo.responsavelid':_0x5cadce['responsavelid'],'leadInfo.tags':_0x5cadce[_0x21f356(0x724)],'leadInfo.etiquetas':_0x5cadce[_0x21f356(0x75b)],'leadInfo.customFields':_0x33a289,'leadInfo.atendimentoAberto':_0x5cadce['atendimentoAberto']},_0x36d8f1=await this[_0x21f356(0x1d5)][_0x21f356(0x4a4)]['findOne']({'where':{'_id':_0x14b1a1}},this[_0x21f356(0x479)]['wuid']);if(!_0x36d8f1)return'chat\x20não\x20encontrado';let _0xb73b3e=new Set(_0x36d8f1[_0x21f356(0x6ab)][_0x21f356(0x75b)]||[]),_0x65c3c8=new Set(_0x5cadce['etiquetas']||[]),_0x132293=await this['repository'][_0x21f356(0x3b8)][_0x21f356(0x568)]({'where':{}},this['instance'][_0x21f356(0x661)]),_0x4b7888=new Set(_0x132293['map'](_0x4b4c6e=>_0x4b4c6e[_0x21f356(0x2a0)])),_0x32c7d2=[..._0x65c3c8][_0x21f356(0x7a2)](_0x317d57=>!_0xb73b3e[_0x21f356(0x7f8)](_0x317d57)&&_0x4b7888[_0x21f356(0x7f8)](_0x317d57)),_0x2e6915=[..._0xb73b3e][_0x21f356(0x7a2)](_0xec6c22=>!_0x65c3c8['has'](_0xec6c22));for(let _0x15c4d5 of _0x32c7d2)await this[_0x21f356(0x221)](_0x15c4d5,_0x36d8f1[_0x21f356(0x2a0)]),_0xb73b3e[_0x21f356(0x86c)](_0x15c4d5);for(let _0x35de86 of _0x2e6915)await this[_0x21f356(0x829)](_0x35de86,_0x36d8f1[_0x21f356(0x2a0)]),_0xb73b3e[_0x21f356(0x665)](_0x35de86);if(_0x21f356(0x701)in _0x5cadce){let _0x16f137=_0x5cadce[_0x21f356(0x701)];_0x6250eb[_0x21f356(0x7ba)]=_0x16f137?Number(_0x16f137):null;}if(_0x21f356(0x383)in _0x5cadce){let _0x293d95=_0x5cadce[_0x21f356(0x383)][_0x21f356(0x500)]();_0x6250eb['leadInfo.atendimentoAberto']=_0x293d95===_0x21f356(0x213)||_0x293d95==='1'||_0x293d95==='yes'||_0x293d95===_0x21f356(0x85c);}let _0x4f947e=await this['repository'][_0x21f356(0x4a4)][_0x21f356(0x1e8)]({'where':{'_id':_0x14b1a1}},_0x6250eb,this[_0x21f356(0x479)][_0x21f356(0x661)]);_0x4f947e?(this['logger'][_0x21f356(0x76b)](this[_0x21f356(0x1b4)]+'\x20('+this['instance'][_0x21f356(0x661)]+_0x21f356(0x4ef)+_0x4f947e[_0x21f356(0x2a0)]),J(this[_0x21f356(0x1b4)],_0x21f356(0x6f9),{'chat':_0x4f947e})):this[_0x21f356(0x421)][_0x21f356(0x3b7)](this['instanceName']+'\x20('+this[_0x21f356(0x479)]['wuid']+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x11aaf9){this['logger'][_0x21f356(0x3b7)](this[_0x21f356(0x1b4)]+'\x20('+this[_0x21f356(0x479)][_0x21f356(0x661)]+_0x21f356(0x34a)+(_0x11aaf9 instanceof Error?_0x11aaf9['message']:JSON[_0x21f356(0x27a)](_0x11aaf9,null,0x2)));}}async[a0_0x20fba6(0x624)](_0x32fcb8,_0x4eef41){const _0x244b59=a0_0x20fba6;this['logger'][_0x244b59(0x76b)](this[_0x244b59(0x1b4)]+'\x20('+this['instance'][_0x244b59(0x661)]+_0x244b59(0x523)+_0x4eef41);try{let _0x2330e6=await this['repository'][_0x244b59(0x4a4)][_0x244b59(0x1e8)]({'where':{'_id':_0x32fcb8['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x4eef41},this[_0x244b59(0x479)][_0x244b59(0x661)]);this[_0x244b59(0x421)]['verbose'](this[_0x244b59(0x1b4)]+'\x20('+this[_0x244b59(0x479)][_0x244b59(0x661)]+_0x244b59(0x787)+_0x32fcb8[_0x244b59(0x2a0)]),this['logger'][_0x244b59(0x76b)](this['instanceName']+'\x20('+this[_0x244b59(0x479)][_0x244b59(0x661)]+_0x244b59(0x523)+JSON[_0x244b59(0x27a)](_0x2330e6,null,0x2)),_0x2330e6&&J(this[_0x244b59(0x1b4)],_0x244b59(0x6f9),{'chat':_0x2330e6});}catch(_0x528439){this[_0x244b59(0x421)][_0x244b59(0x3b7)](this[_0x244b59(0x1b4)]+'\x20('+this['instance'][_0x244b59(0x661)]+_0x244b59(0x278)+(_0x528439 instanceof Error?_0x528439['message']:JSON['stringify'](_0x528439,null,0x2)));}}async[a0_0x20fba6(0x511)](_0x18d971){const _0x29980a=a0_0x20fba6;try{this['logger'][_0x29980a(0x76b)](this[_0x29980a(0x1b4)]+'\x20('+this[_0x29980a(0x479)][_0x29980a(0x661)]+_0x29980a(0x734));let _0x425d56=_0x18d971[_0x29980a(0x4f4)](/\D/g,''),_0x4f1c48=this[_0x29980a(0x52f)][_0x29980a(0x344)]['find'](_0x16b0cb=>_0x16b0cb[_0x29980a(0x59d)]===_0x425d56);if(_0x4f1c48||(this['logger'][_0x29980a(0x76b)](this[_0x29980a(0x1b4)]+'\x20('+this[_0x29980a(0x479)][_0x29980a(0x661)]+_0x29980a(0x82d)),_0x4f1c48=this[_0x29980a(0x52f)]['flows'][_0x29980a(0x568)](_0xf2bcc5=>_0xf2bcc5[_0x29980a(0x269)]===!0x0)),!_0x4f1c48)return this[_0x29980a(0x421)][_0x29980a(0x76b)](this['instanceName']+'\x20('+this[_0x29980a(0x479)][_0x29980a(0x661)]+_0x29980a(0x3c5)),null;let _0x45c676=await this['repository'][_0x29980a(0x233)][_0x29980a(0x79e)]({'where':{'_id':_0x4f1c48[_0x29980a(0x2a0)]}});if(!_0x45c676||!_0x45c676[_0x29980a(0x33d)]?.[_0x29980a(0x4b0)](this[_0x29980a(0x479)]['wuid']))throw this[_0x29980a(0x421)][_0x29980a(0x3b7)](this[_0x29980a(0x1b4)]+'\x20('+this['instance'][_0x29980a(0x661)]+_0x29980a(0x49a)+_0x45c676[_0x29980a(0x2a0)]+_0x29980a(0x716)),new m(_0x29980a(0x46a)+_0x45c676[_0x29980a(0x2a0)]+_0x29980a(0x716));return _0x45c676;}catch(_0x599626){return this['logger']['error'](this[_0x29980a(0x1b4)]+'\x20('+this[_0x29980a(0x479)][_0x29980a(0x661)]+_0x29980a(0x844)+(_0x599626 instanceof Error?_0x599626[_0x29980a(0x34b)]:JSON[_0x29980a(0x27a)](_0x599626,null,0x2))),null;}}async[a0_0x20fba6(0x6a0)](_0x4bdbd0,_0x4c2b4d){const _0x497104=a0_0x20fba6;try{let _0xd73441=!!_0x4c2b4d[_0x497104(0x7ea)],_0x3d935a=_0x4c2b4d[_0x497104(0x42e)],_0x3df181=null;if(this['logger'][_0x497104(0x76b)](this[_0x497104(0x1b4)]+'\x20('+this[_0x497104(0x479)][_0x497104(0x661)]+_0x497104(0x4f1)+_0xd73441+'\x20quoted:\x20'+_0x3d935a),_0xd73441){this['logger'][_0x497104(0x76b)](this[_0x497104(0x1b4)]+'\x20('+this['instance']['wuid']+_0x497104(0x5c0));let _0x531f0f={'where':{'remoteJid':_0x4bdbd0,'waitingMenu_id':_0x3d935a}};if(_0x3df181=await this[_0x497104(0x1d5)][_0x497104(0x2f2)][_0x497104(0x79e)](_0x531f0f,this[_0x497104(0x479)][_0x497104(0x661)]),!_0x3df181)return this[_0x497104(0x421)][_0x497104(0x76b)](this[_0x497104(0x1b4)]+'\x20('+this[_0x497104(0x479)]['wuid']+_0x497104(0x19a)),null;let _0x28ca2d=Date['now'](),_0x4739f3=_0x3df181?.['minutesToClose']||0x0,_0x27fbd4=_0x28ca2d-_0x4739f3*0x3c*0x3e8;if(_0x3df181[_0x497104(0x639)]<_0x27fbd4){this[_0x497104(0x421)][_0x497104(0x76b)](this['instanceName']+'\x20('+this[_0x497104(0x479)]['wuid']+_0x497104(0x273));let _0x5e42ff={'number':_0x3df181['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x3df181['waitingMenu_ExpiredMessage']}};await this[_0x497104(0x374)](_0x5e42ff);let _0x5f2748={'status':_0x497104(0x1c9),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x497104(0x2f2)]['updateOne'](_0x3df181[_0x497104(0x2a0)],_0x5f2748,this[_0x497104(0x479)][_0x497104(0x661)]),null;}return _0x3df181[_0x497104(0x639)]=Date['now'](),_0x3df181[_0x497104(0x5ea)][_0x497104(0x7b6)]=_0x4c2b4d,_0x3df181;}else{this['logger'][_0x497104(0x76b)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+this[_0x497104(0x479)]['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger'][_0x497104(0x76b)](this[_0x497104(0x1b4)]+'\x20('+this[_0x497104(0x479)][_0x497104(0x661)]+'):\x20Procurando\x20conversa');let _0x10c7af={'where':{'remoteJid':_0x4bdbd0,'status':_0x497104(0x637)}};if(_0x3df181=await this['repository'][_0x497104(0x2f2)][_0x497104(0x79e)](_0x10c7af,this['instance'][_0x497104(0x661)]),!_0x3df181){let _0x10abf7=await this[_0x497104(0x511)](_0x4bdbd0);if(_0x10abf7&&(_0x3df181=await this[_0x497104(0x40c)](_0x10abf7,_0x4c2b4d[_0x497104(0x249)],_0x4c2b4d)),!_0x3df181)return null;}let _0x49b5a7=Date['now'](),_0x3bca61=_0x3df181?.[_0x497104(0x2f5)]||0x0,_0x648369=_0x49b5a7-_0x3bca61*0x3c*0x3e8;if(this['logger'][_0x497104(0x76b)](this[_0x497104(0x1b4)]+'\x20('+this[_0x497104(0x479)][_0x497104(0x661)]+_0x497104(0x748)+_0x49b5a7+_0x497104(0x75e)+_0x3bca61+_0x497104(0x526)+_0x648369),this[_0x497104(0x421)][_0x497104(0x76b)](this[_0x497104(0x1b4)]+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x497104(0x421)]['verbose'](this[_0x497104(0x1b4)]+'\x20('+this[_0x497104(0x479)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x3df181[_0x497104(0x639)]),this[_0x497104(0x421)]['verbose'](this[_0x497104(0x1b4)]+'\x20('+this[_0x497104(0x479)]['wuid']+_0x497104(0x189)+_0x648369),_0x3df181[_0x497104(0x639)]<_0x648369){this[_0x497104(0x421)][_0x497104(0x76b)](this[_0x497104(0x1b4)]+'\x20('+this[_0x497104(0x479)][_0x497104(0x661)]+_0x497104(0x521));let _0x3a936a=await this[_0x497104(0x511)](_0x4bdbd0);if(_0x3a936a===null)return null;_0x3df181&&await this[_0x497104(0x1d5)][_0x497104(0x2f2)][_0x497104(0x1e8)](_0x3df181[_0x497104(0x2a0)],{'status':_0x497104(0x1c9)},this[_0x497104(0x479)][_0x497104(0x661)]),_0x3df181=await this[_0x497104(0x40c)](_0x3a936a,_0x4c2b4d[_0x497104(0x249)],_0x4c2b4d);}return _0x3df181[_0x497104(0x639)]=_0x49b5a7,_0x3df181[_0x497104(0x5ea)][_0x497104(0x7b6)]=_0x4c2b4d,_0x3df181;}}catch(_0x26955b){return this[_0x497104(0x421)][_0x497104(0x3b7)](this[_0x497104(0x1b4)]+'\x20('+this['instance'][_0x497104(0x661)]+_0x497104(0x539)+(_0x26955b instanceof Error?_0x26955b[_0x497104(0x34b)]:JSON[_0x497104(0x27a)](_0x26955b,null,0x2))),null;}}async[a0_0x20fba6(0x40c)](_0x40c249,_0x2fe9aa,_0x4ce78e){const _0x353679=a0_0x20fba6;this['logger'][_0x353679(0x76b)](this[_0x353679(0x1b4)]+'\x20('+this[_0x353679(0x479)][_0x353679(0x661)]+_0x353679(0x56e));try{let _0xa4e410=require(_0x353679(0x3d0))['ObjectId'],_0x15b819=Date[_0x353679(0x1a6)](),_0x3e3abb=_0x353679(0x6c0),_0x375bdc=_0x2fe9aa['fromMe']?null:_0x4ce78e,_0x41b147=_0x2fe9aa[_0x353679(0x424)]?_0x4ce78e:null,_0x2d3a96=_0x2fe9aa['remoteJid'],_0x3b5c3c=this['AutomateSystem'][_0x353679(0x344)]['find'](_0x47bff9=>_0x47bff9['_id']===_0x40c249[_0x353679(0x2a0)]?.[_0x353679(0x176)]()),_0xa964fd=_0x3b5c3c?.[_0x353679(0x2f5)]??_0x40c249[_0x353679(0x2f5)]??0x0,_0x2d7c6a=_0x3b5c3c?.[_0x353679(0x39a)]??_0x40c249[_0x353679(0x39a)]??!0x1;await this[_0x353679(0x12f)](_0x2d3a96);let _0x39166d={'flowId':_0x40c249[_0x353679(0x2a0)],..._0x40c249,'chatLog':null},_0x19763c=await this[_0x353679(0x276)](_0x39166d[_0x353679(0x657)]),_0x1f8d97=await this['getVariablesChat'](_0x2d3a96),_0x1eeee7={..._0x19763c,..._0x1f8d97,'_remoteJid':_0x2d3a96},_0xf05a3={'lastReceivedMessage':_0x375bdc,'lastSendMessage':_0x41b147,'lastBlockId':_0x3e3abb,'lastCondition':!0x0,'realVariables':_0x1eeee7};_0x39166d[_0x353679(0x5ea)]=_0xf05a3,delete _0x39166d[_0x353679(0x2a0)],_0x39166d[_0x353679(0x2a0)]=new _0xa4e410(),_0x39166d[_0x353679(0x639)]=_0x15b819,_0x39166d[_0x353679(0x59e)]=_0x353679(0x637),_0x39166d[_0x353679(0x5bc)]=_0x2d3a96,_0x39166d[_0x353679(0x2f5)]=_0xa964fd,_0x39166d[_0x353679(0x39a)]=_0x2d7c6a;let _0x5c9af7=await this['repository'][_0x353679(0x2f2)]['updateOne'](_0x39166d[_0x353679(0x2a0)],_0x39166d,this[_0x353679(0x479)][_0x353679(0x661)]);return this[_0x353679(0x421)][_0x353679(0x76b)](this['instanceName']+'\x20('+this[_0x353679(0x479)][_0x353679(0x661)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5c9af7?_0x39166d:null;}catch(_0x1ea71b){return this[_0x353679(0x421)][_0x353679(0x3b7)](this['instanceName']+'\x20('+this[_0x353679(0x479)]['wuid']+_0x353679(0x133)+(_0x1ea71b instanceof Error?_0x1ea71b[_0x353679(0x34b)]:JSON[_0x353679(0x27a)](_0x1ea71b,null,0x2))),_0x1ea71b;}}async[a0_0x20fba6(0x537)](_0x43b3e4,_0x3113c9){const _0x1762a5=a0_0x20fba6;let _0x1eb050=_0x43b3e4[_0x1762a5(0x5bc)];_0x3113c9[_0x1762a5(0x688)][_0x1762a5(0x5bc)]&&_0x3113c9[_0x1762a5(0x688)]['remoteJid'][_0x1762a5(0x5b8)]()!==''&&(_0x1eb050=_0x3113c9[_0x1762a5(0x688)][_0x1762a5(0x5bc)][_0x1762a5(0x5b8)]()),this['logger'][_0x1762a5(0x76b)](this[_0x1762a5(0x1b4)]+'\x20('+this['instance']['wuid']+_0x1762a5(0x5be));let _0x3db7ba={'number':_0x1eb050,'options':{'delay':_0x3113c9[_0x1762a5(0x688)][_0x1762a5(0x4c8)],'linkPreview':_0x3113c9[_0x1762a5(0x688)]['linkPreview']},'textMessage':{'text':_0x3113c9[_0x1762a5(0x688)][_0x1762a5(0x339)]}};try{let _0x251875=await this[_0x1762a5(0x374)](_0x3db7ba);if(_0x251875){let _0x33a0a2={'_id':_0x251875[_0x1762a5(0x249)]['id'],'_fromMe':_0x251875[_0x1762a5(0x249)][_0x1762a5(0x424)],'_remoteJid':_0x251875[_0x1762a5(0x249)][_0x1762a5(0x5bc)]},_0x1f6283=(0x0,w['normalizeMessageContent'])(_0x251875[_0x1762a5(0x34b)]),_0x201730=(0x0,w[_0x1762a5(0x54e)])(_0x1f6283);_0x43b3e4[_0x1762a5(0x5ea)][_0x1762a5(0x5aa)]=_0x3113c9['_id'][_0x1762a5(0x176)]();let {message_normalized:_0x7cb0fb}=this[_0x1762a5(0x353)](_0x1f6283,_0x201730,null);_0x43b3e4[_0x1762a5(0x5ea)]['lastSendMessage']=await _0x7cb0fb;let _0x47c64a={'messageId':_0x251875['key']['id']},_0x1dd26e=_0x43b3e4[_0x1762a5(0x5ea)][_0x1762a5(0x230)];Object[_0x1762a5(0x3fa)](_0x1dd26e,_0x33a0a2),_0x43b3e4[_0x1762a5(0x5ea)][_0x1762a5(0x230)]=_0x1dd26e,this[_0x1762a5(0x7ce)](_0x43b3e4,_0x3113c9,_0x47c64a);}else{let _0x562174={'error':!0x0};this[_0x1762a5(0x7ce)](_0x43b3e4,_0x3113c9,_0x562174),this[_0x1762a5(0x421)][_0x1762a5(0x3b7)](this[_0x1762a5(0x1b4)]+'\x20('+this[_0x1762a5(0x479)][_0x1762a5(0x661)]+_0x1762a5(0x2f3));}}catch(_0x788cec){let _0x424b97={'error':!0x0,'errorLog':_0x788cec['toString']()};this[_0x1762a5(0x7ce)](_0x43b3e4,_0x3113c9,_0x424b97),this['logger'][_0x1762a5(0x3b7)](this['instanceName']+'\x20('+this['instance'][_0x1762a5(0x661)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x788cec instanceof Error?_0x788cec[_0x1762a5(0x34b)]:JSON[_0x1762a5(0x27a)](_0x788cec,null,0x2)));}}async[a0_0x20fba6(0x200)](_0x57d3ec,_0x3a36d7){const _0x2f7ae7=a0_0x20fba6;let _0x39cd34=_0x57d3ec[_0x2f7ae7(0x5bc)];_0x3a36d7['uazapi'][_0x2f7ae7(0x5bc)]&&_0x3a36d7[_0x2f7ae7(0x688)][_0x2f7ae7(0x5bc)][_0x2f7ae7(0x5b8)]()!==''&&(_0x39cd34=_0x3a36d7['uazapi'][_0x2f7ae7(0x5bc)][_0x2f7ae7(0x5b8)]()),this[_0x2f7ae7(0x421)][_0x2f7ae7(0x76b)](this[_0x2f7ae7(0x1b4)]+'\x20('+this[_0x2f7ae7(0x479)][_0x2f7ae7(0x661)]+_0x2f7ae7(0x295));let _0x1b890e={'number':_0x39cd34,'options':{'delay':_0x3a36d7['uazapi'][_0x2f7ae7(0x4c8)],'linkPreview':_0x3a36d7[_0x2f7ae7(0x688)][_0x2f7ae7(0x860)]},'mediaMessage':{'mediatype':_0x3a36d7[_0x2f7ae7(0x688)]['mediatype'],'caption':_0x3a36d7[_0x2f7ae7(0x688)][_0x2f7ae7(0x1db)],'media':_0x3a36d7['uazapi'][_0x2f7ae7(0x44f)],'fileName':_0x3a36d7[_0x2f7ae7(0x688)]['fileName']}};try{let _0x17ec2d=await this[_0x2f7ae7(0x202)](_0x1b890e);if(_0x17ec2d){let _0x3395cc={'_id':_0x17ec2d[_0x2f7ae7(0x249)]['id'],'_fromMe':_0x17ec2d[_0x2f7ae7(0x249)][_0x2f7ae7(0x424)],'_remoteJid':_0x17ec2d['key'][_0x2f7ae7(0x5bc)]},_0x2efe11=(0x0,w[_0x2f7ae7(0x3b3)])(_0x17ec2d[_0x2f7ae7(0x34b)]),_0x3d0ed1=(0x0,w[_0x2f7ae7(0x54e)])(_0x2efe11);_0x57d3ec[_0x2f7ae7(0x5ea)][_0x2f7ae7(0x5aa)]=_0x3a36d7[_0x2f7ae7(0x2a0)][_0x2f7ae7(0x176)]();let {message_normalized:_0x18d049}=this[_0x2f7ae7(0x353)](_0x2efe11,_0x3d0ed1,null);_0x57d3ec[_0x2f7ae7(0x5ea)][_0x2f7ae7(0x879)]=await _0x18d049;let _0x5a8b4a={'messageId':_0x17ec2d['key']['id']},_0x2e96e0=_0x57d3ec[_0x2f7ae7(0x5ea)][_0x2f7ae7(0x230)];Object[_0x2f7ae7(0x3fa)](_0x2e96e0,_0x3395cc),_0x57d3ec[_0x2f7ae7(0x5ea)]['realVariables']=_0x2e96e0,this[_0x2f7ae7(0x7ce)](_0x57d3ec,_0x3a36d7,_0x5a8b4a);}else{let _0x272e03={'error':!0x0};this['updateConversation'](_0x57d3ec,_0x3a36d7,_0x272e03),this[_0x2f7ae7(0x421)][_0x2f7ae7(0x3b7)](this[_0x2f7ae7(0x1b4)]+'\x20('+this[_0x2f7ae7(0x479)][_0x2f7ae7(0x661)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x619e08){let _0x450d85={'error':!0x0,'errorLog':_0x619e08['toString']()};this[_0x2f7ae7(0x7ce)](_0x57d3ec,_0x3a36d7,_0x450d85),this[_0x2f7ae7(0x421)]['error'](this[_0x2f7ae7(0x1b4)]+'\x20('+this[_0x2f7ae7(0x479)][_0x2f7ae7(0x661)]+_0x2f7ae7(0x23c)+(_0x619e08 instanceof Error?_0x619e08[_0x2f7ae7(0x34b)]:JSON[_0x2f7ae7(0x27a)](_0x619e08,null,0x2)));}}async[a0_0x20fba6(0x3e0)](_0x616400,_0x37a393){const _0x43c36a=a0_0x20fba6;let _0x134514=_0x616400[_0x43c36a(0x5bc)];_0x37a393[_0x43c36a(0x688)][_0x43c36a(0x5bc)]&&_0x37a393[_0x43c36a(0x688)][_0x43c36a(0x5bc)][_0x43c36a(0x5b8)]()!==''&&(_0x134514=_0x37a393[_0x43c36a(0x688)][_0x43c36a(0x5bc)][_0x43c36a(0x5b8)]()),this['logger'][_0x43c36a(0x76b)](this['instanceName']+'\x20('+this[_0x43c36a(0x479)][_0x43c36a(0x661)]+_0x43c36a(0x79f));let _0x12c96b={'number':_0x134514,'options':{'delay':_0x37a393[_0x43c36a(0x688)][_0x43c36a(0x4c8)]},'locationMessage':{'name':_0x37a393['uazapi'][_0x43c36a(0x217)],'address':_0x37a393[_0x43c36a(0x688)][_0x43c36a(0x820)],'latitude':_0x37a393[_0x43c36a(0x688)][_0x43c36a(0x640)],'longitude':_0x37a393['uazapi'][_0x43c36a(0x331)]}};try{let _0x21a8d9=await this[_0x43c36a(0x3a7)](_0x12c96b);if(_0x21a8d9){let _0x4357f2={'_id':_0x21a8d9['key']['id'],'_fromMe':_0x21a8d9[_0x43c36a(0x249)][_0x43c36a(0x424)],'_remoteJid':_0x21a8d9[_0x43c36a(0x249)]['remoteJid']},_0x100ccb=(0x0,w[_0x43c36a(0x3b3)])(_0x21a8d9[_0x43c36a(0x34b)]),_0x53cc78=(0x0,w['getContentType'])(_0x100ccb);_0x616400['chatLog'][_0x43c36a(0x5aa)]=_0x37a393[_0x43c36a(0x2a0)][_0x43c36a(0x176)]();let {message_normalized:_0x58d4c8}=this[_0x43c36a(0x353)](_0x100ccb,_0x53cc78,null);_0x616400[_0x43c36a(0x5ea)][_0x43c36a(0x879)]=await _0x58d4c8;let _0x6c3d1d={'messageId':_0x21a8d9[_0x43c36a(0x249)]['id']},_0x58cdd6=_0x616400[_0x43c36a(0x5ea)][_0x43c36a(0x230)];Object['assign'](_0x58cdd6,_0x4357f2),_0x616400[_0x43c36a(0x5ea)]['realVariables']=_0x58cdd6,this[_0x43c36a(0x7ce)](_0x616400,_0x37a393,_0x6c3d1d);}else{let _0x342b84={'error':!0x0};this[_0x43c36a(0x7ce)](_0x616400,_0x37a393,_0x342b84),this['logger'][_0x43c36a(0x3b7)](this[_0x43c36a(0x1b4)]+'\x20('+this['instance'][_0x43c36a(0x661)]+_0x43c36a(0x839));}}catch(_0x133b78){let _0x880ff2={'error':!0x0,'errorLog':_0x133b78[_0x43c36a(0x176)]()};this[_0x43c36a(0x7ce)](_0x616400,_0x37a393,_0x880ff2),this[_0x43c36a(0x421)][_0x43c36a(0x3b7)](this[_0x43c36a(0x1b4)]+'\x20('+this[_0x43c36a(0x479)][_0x43c36a(0x661)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x133b78 instanceof Error?_0x133b78[_0x43c36a(0x34b)]:JSON[_0x43c36a(0x27a)](_0x133b78,null,0x2)));}}async[a0_0x20fba6(0x802)](_0x419ad5,_0x193e1a){const _0x5e0828=a0_0x20fba6;let _0x4a2abd=_0x419ad5[_0x5e0828(0x5bc)];_0x193e1a[_0x5e0828(0x688)][_0x5e0828(0x5bc)]&&_0x193e1a[_0x5e0828(0x688)][_0x5e0828(0x5bc)][_0x5e0828(0x5b8)]()!==''&&(_0x4a2abd=_0x193e1a['uazapi'][_0x5e0828(0x5bc)][_0x5e0828(0x5b8)]()),this[_0x5e0828(0x421)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5e0828(0x661)]+_0x5e0828(0x2e7));let _0x32637c={'number':_0x4a2abd,'options':{'delay':_0x193e1a['uazapi'][_0x5e0828(0x4c8)]},'audioMessage':{'audio':_0x193e1a[_0x5e0828(0x688)]['audio']}};try{let _0x2505bb=await this['audioWhatsapp'](_0x32637c);if(_0x2505bb){let _0x2f78e6={'_id':_0x2505bb['key']['id'],'_fromMe':_0x2505bb[_0x5e0828(0x249)][_0x5e0828(0x424)],'_remoteJid':_0x2505bb[_0x5e0828(0x249)][_0x5e0828(0x5bc)]},_0x2c3132=(0x0,w[_0x5e0828(0x3b3)])(_0x2505bb['message']),_0x2f2c67=(0x0,w['getContentType'])(_0x2c3132);_0x419ad5[_0x5e0828(0x5ea)]['lastBlockId']=_0x193e1a[_0x5e0828(0x2a0)][_0x5e0828(0x176)]();let {message_normalized:_0xd7f71a}=this[_0x5e0828(0x353)](_0x2c3132,_0x2f2c67,null);_0x419ad5[_0x5e0828(0x5ea)]['lastSendMessage']=await _0xd7f71a;let _0x5b8a9e={'messageId':_0x2505bb[_0x5e0828(0x249)]['id']},_0x5eb295=_0x419ad5[_0x5e0828(0x5ea)][_0x5e0828(0x230)];Object[_0x5e0828(0x3fa)](_0x5eb295,_0x2f78e6),_0x419ad5['chatLog'][_0x5e0828(0x230)]=_0x5eb295,this[_0x5e0828(0x7ce)](_0x419ad5,_0x193e1a,_0x5b8a9e);}else{let _0x46754d={'error':!0x0};this[_0x5e0828(0x7ce)](_0x419ad5,_0x193e1a,_0x46754d),this[_0x5e0828(0x421)]['error'](this['instanceName']+'\x20('+this[_0x5e0828(0x479)][_0x5e0828(0x661)]+_0x5e0828(0x58b));}}catch(_0xfe8952){let _0x522059={'error':!0x0,'errorLog':_0xfe8952[_0x5e0828(0x176)]()};this[_0x5e0828(0x7ce)](_0x419ad5,_0x193e1a,_0x522059),this[_0x5e0828(0x421)][_0x5e0828(0x3b7)](this['instanceName']+'\x20('+this[_0x5e0828(0x479)][_0x5e0828(0x661)]+_0x5e0828(0x341)+(_0xfe8952 instanceof Error?_0xfe8952[_0x5e0828(0x34b)]:JSON[_0x5e0828(0x27a)](_0xfe8952,null,0x2)));}}async[a0_0x20fba6(0x6f2)](_0x182989,_0x43e392){const _0x21fd43=a0_0x20fba6;let _0x305ef8=_0x182989[_0x21fd43(0x5bc)];_0x43e392[_0x21fd43(0x688)][_0x21fd43(0x5bc)]&&_0x43e392[_0x21fd43(0x688)][_0x21fd43(0x5bc)][_0x21fd43(0x5b8)]()!==''&&(_0x305ef8=_0x43e392[_0x21fd43(0x688)][_0x21fd43(0x5bc)][_0x21fd43(0x5b8)]()),this['logger'][_0x21fd43(0x76b)](this[_0x21fd43(0x1b4)]+'\x20('+this['instance'][_0x21fd43(0x661)]+_0x21fd43(0x66a));let _0x7d36af={'number':_0x305ef8,'options':{'delay':_0x43e392[_0x21fd43(0x688)][_0x21fd43(0x4c8)]},'contactMessage':[{'fullName':_0x43e392[_0x21fd43(0x688)]['fullName'],'phoneNumber':_0x43e392[_0x21fd43(0x688)][_0x21fd43(0x125)]}]};try{let _0x2befce=await this[_0x21fd43(0x1a1)](_0x7d36af);if(_0x2befce){let _0x374208={'_id':_0x2befce['key']['id'],'_fromMe':_0x2befce['key'][_0x21fd43(0x424)],'_remoteJid':_0x2befce['key'][_0x21fd43(0x5bc)]},_0x3cc859=(0x0,w[_0x21fd43(0x3b3)])(_0x2befce[_0x21fd43(0x34b)]),_0x46c37d=(0x0,w['getContentType'])(_0x3cc859);_0x182989[_0x21fd43(0x5ea)][_0x21fd43(0x5aa)]=_0x43e392['_id'][_0x21fd43(0x176)]();let {message_normalized:_0x5e07a5}=this[_0x21fd43(0x353)](_0x3cc859,_0x46c37d,null);_0x182989[_0x21fd43(0x5ea)][_0x21fd43(0x879)]=await _0x5e07a5;let _0x56f058={'messageId':_0x2befce['key']['id']},_0x1615cb=_0x182989[_0x21fd43(0x5ea)]['realVariables'];Object['assign'](_0x1615cb,_0x374208),_0x182989[_0x21fd43(0x5ea)]['realVariables']=_0x1615cb,this[_0x21fd43(0x7ce)](_0x182989,_0x43e392,_0x56f058);}else{let _0x2b0581={'error':!0x0};this[_0x21fd43(0x7ce)](_0x182989,_0x43e392,_0x2b0581),this[_0x21fd43(0x421)][_0x21fd43(0x3b7)](this[_0x21fd43(0x1b4)]+'\x20('+this['instance'][_0x21fd43(0x661)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x6c1fc3){let _0x98cef2={'error':!0x0,'errorLog':_0x6c1fc3[_0x21fd43(0x176)]()};this[_0x21fd43(0x7ce)](_0x182989,_0x43e392,_0x98cef2),this[_0x21fd43(0x421)][_0x21fd43(0x3b7)](this[_0x21fd43(0x1b4)]+'\x20('+this[_0x21fd43(0x479)][_0x21fd43(0x661)]+_0x21fd43(0x480)+(_0x6c1fc3 instanceof Error?_0x6c1fc3[_0x21fd43(0x34b)]:JSON[_0x21fd43(0x27a)](_0x6c1fc3,null,0x2)));}}[a0_0x20fba6(0x7bf)](_0x304fce,_0x164b55){const _0x5e1bd0=a0_0x20fba6;for(let _0x4bb17b of _0x304fce)_0x4bb17b[_0x5e1bd0(0x4b5)]&&(_0x4bb17b[_0x5e1bd0(0x4b5)]=this['replaceVariables'](_0x4bb17b[_0x5e1bd0(0x4b5)],_0x164b55)),_0x4bb17b[_0x5e1bd0(0x83e)]&&(_0x4bb17b[_0x5e1bd0(0x83e)]=this[_0x5e1bd0(0x24f)](_0x4bb17b[_0x5e1bd0(0x83e)],_0x164b55));}async[a0_0x20fba6(0x271)](_0x150030,_0x460dd1){const _0x2b3142=a0_0x20fba6;let _0x4292e8=_0x150030[_0x2b3142(0x5bc)];_0x460dd1['uazapi'][_0x2b3142(0x5bc)]&&_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x5bc)]['trim']()!==''&&(_0x4292e8=_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x5bc)][_0x2b3142(0x5b8)]()),this[_0x2b3142(0x421)][_0x2b3142(0x76b)](this[_0x2b3142(0x1b4)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20enquete');let _0x3de0b4=_0x150030['replyOptions'][_0x2b3142(0x7a2)](_0x58fbd6=>_0x58fbd6[_0x2b3142(0x723)]===_0x460dd1[_0x2b3142(0x2a0)])['sort']((_0x3e1cbd,_0x56a726)=>_0x3e1cbd['order']-_0x56a726['order']);this[_0x2b3142(0x7bf)](_0x3de0b4,_0x150030['chatLog'][_0x2b3142(0x230)]);let _0x436ee2=_0x3de0b4[_0x2b3142(0x5a9)](_0x41798b=>_0x41798b['option']),_0x4ebe3b={'number':_0x4292e8,'menuMessage':{'type':_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x4c0)]||_0x2b3142(0x680),'text':_0x460dd1[_0x2b3142(0x688)]['text']||_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x217)],'footerText':_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x46d)],'buttonText':_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x7ef)],'selectableCount':0x1,'choices':_0x436ee2},'options':{'delay':_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x4c8)]}};try{let _0x2c5c33=await this[_0x2b3142(0x351)](_0x4ebe3b);if(_0x2c5c33){let _0x4b31a5={'_id':_0x2c5c33[_0x2b3142(0x249)]['id'],'_fromMe':_0x2c5c33[_0x2b3142(0x249)][_0x2b3142(0x424)],'_remoteJid':_0x2c5c33[_0x2b3142(0x249)][_0x2b3142(0x5bc)]};_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x1ec)]===!0x0&&(_0x150030[_0x2b3142(0x59e)]=_0x2b3142(0x130),this[_0x2b3142(0x421)]['verbose'](this['instanceName']+'\x20('+this[_0x2b3142(0x479)][_0x2b3142(0x661)]+'):\x20conversation.status:\x20'+_0x150030['status'])),this[_0x2b3142(0x421)][_0x2b3142(0x76b)](this[_0x2b3142(0x1b4)]+'\x20('+this[_0x2b3142(0x479)][_0x2b3142(0x661)]+'):\x20nextBlock.uazapi.name'+(_0x460dd1['uazapi']['name']||_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x339)])),_0x150030[_0x2b3142(0x543)]=_0x2c5c33[_0x2b3142(0x249)]['id'],_0x150030[_0x2b3142(0x7ec)]=_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x217)]||_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x339)],_0x150030['waitingMenu_replyOptions']=_0x3de0b4,_0x460dd1[_0x2b3142(0x688)][_0x2b3142(0x4e5)]&&(_0x150030['waitingMenu_ExpiredMessage']=_0x460dd1['uazapi'][_0x2b3142(0x4e5)]),this[_0x2b3142(0x421)]['verbose'](this[_0x2b3142(0x1b4)]+'\x20('+this[_0x2b3142(0x479)][_0x2b3142(0x661)]+_0x2b3142(0x4ed)+_0x150030[_0x2b3142(0x7ec)]);let _0x5a76bb=(0x0,w[_0x2b3142(0x3b3)])(_0x2c5c33['message']),_0x45ce7d=(0x0,w[_0x2b3142(0x54e)])(_0x5a76bb);_0x150030['chatLog'][_0x2b3142(0x5aa)]=_0x460dd1[_0x2b3142(0x2a0)][_0x2b3142(0x176)]();let {message_normalized:_0x359248}=this[_0x2b3142(0x353)](_0x5a76bb,_0x45ce7d,null);_0x150030[_0x2b3142(0x5ea)][_0x2b3142(0x879)]=await _0x359248;let _0x5652b3={'messageId':_0x2c5c33['key']['id']},_0x38be53=_0x150030['chatLog'][_0x2b3142(0x230)];Object[_0x2b3142(0x3fa)](_0x38be53,_0x4b31a5),_0x150030[_0x2b3142(0x5ea)]['realVariables']=_0x38be53,this['updateConversation'](_0x150030,_0x460dd1,_0x5652b3);}else{let _0x264f92={'error':!0x0};this['updateConversation'](_0x150030,_0x460dd1,_0x264f92),this[_0x2b3142(0x421)][_0x2b3142(0x3b7)](this[_0x2b3142(0x1b4)]+'\x20('+this[_0x2b3142(0x479)][_0x2b3142(0x661)]+_0x2b3142(0x857));}}catch(_0x1755f0){let _0x21bf3e={'error':!0x0,'errorLog':_0x1755f0 instanceof Error?_0x1755f0['message']:JSON[_0x2b3142(0x27a)](_0x1755f0,null,0x2)};this['updateConversation'](_0x150030,_0x460dd1,_0x21bf3e),this['logger'][_0x2b3142(0x3b7)](this['instanceName']+'\x20('+this[_0x2b3142(0x479)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x1755f0 instanceof Error?_0x1755f0[_0x2b3142(0x34b)]:JSON[_0x2b3142(0x27a)](_0x1755f0,null,0x2)));}}async['uazapiDeleteMessage'](_0x4b97d8,_0x37d203){const _0x59a5d6=a0_0x20fba6;this[_0x59a5d6(0x421)][_0x59a5d6(0x76b)](this[_0x59a5d6(0x1b4)]+'\x20('+this[_0x59a5d6(0x479)][_0x59a5d6(0x661)]+_0x59a5d6(0x7c0));let _0x500ccf=_0x4b97d8[_0x59a5d6(0x5ea)][_0x59a5d6(0x87a)]['find'](_0x3ebb8d=>_0x3ebb8d[_0x59a5d6(0x723)][_0x59a5d6(0x176)]()===_0x37d203[_0x59a5d6(0x688)][_0x59a5d6(0x723)][_0x59a5d6(0x176)]()),_0x4b5bb8={'id':_0x500ccf[_0x59a5d6(0x3cc)],'remoteJid':_0x500ccf['remoteJid'],'fromMe':_0x500ccf[_0x59a5d6(0x424)]};try{let _0x2ec5d8=await this['deleteMessage'](_0x4b5bb8);if(_0x2ec5d8){let _0xae3a8a=(0x0,w[_0x59a5d6(0x3b3)])(_0x2ec5d8[_0x59a5d6(0x34b)]),_0x54dadb=(0x0,w[_0x59a5d6(0x54e)])(_0xae3a8a);_0x4b97d8[_0x59a5d6(0x5ea)][_0x59a5d6(0x5aa)]=_0x37d203[_0x59a5d6(0x2a0)][_0x59a5d6(0x176)]();let {message_normalized:_0x422c74}=this['normalizeMessage'](_0xae3a8a,_0x54dadb,null);_0x4b97d8['chatLog']['lastSendMessage']=await _0x422c74;let _0x3278b7={};this[_0x59a5d6(0x7ce)](_0x4b97d8,_0x37d203,_0x3278b7);}else{let _0x497379={'error':!0x0};this[_0x59a5d6(0x7ce)](_0x4b97d8,_0x37d203,_0x497379),this[_0x59a5d6(0x421)][_0x59a5d6(0x3b7)](this[_0x59a5d6(0x1b4)]+'\x20('+this[_0x59a5d6(0x479)][_0x59a5d6(0x661)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x41ec74){let _0x2dafa3={'error':!0x0,'errorLog':_0x41ec74 instanceof Error?_0x41ec74[_0x59a5d6(0x34b)]:JSON[_0x59a5d6(0x27a)](_0x41ec74,null,0x2)};this[_0x59a5d6(0x7ce)](_0x4b97d8,_0x37d203,_0x2dafa3),this[_0x59a5d6(0x421)][_0x59a5d6(0x3b7)](this[_0x59a5d6(0x1b4)]+'\x20('+this[_0x59a5d6(0x479)]['wuid']+_0x59a5d6(0x64e)+(_0x41ec74 instanceof Error?_0x41ec74[_0x59a5d6(0x34b)]:JSON['stringify'](_0x41ec74,null,0x2)));}}async[a0_0x20fba6(0x62f)](_0x4fec18,_0x3b9b6a){const _0xd7f4e2=a0_0x20fba6;if(_0x4fec18[_0xd7f4e2(0x217)]||(_0x4fec18[_0xd7f4e2(0x217)]=(0x0,X['v4'])()),_0x3b9b6a!==$i&&_0x4fec18?.['globalShow'])throw new m(_0xd7f4e2(0x6db));if(_0xd7f4e2(0x2a0)in _0x4fec18&&_0xd7f4e2(0x565)in _0x4fec18)return this[_0xd7f4e2(0x41e)](_0x4fec18[_0xd7f4e2(0x565)],_0x4fec18[_0xd7f4e2(0x2a0)]);this[_0xd7f4e2(0x421)][_0xd7f4e2(0x76b)](this['instanceName']+'\x20('+this[_0xd7f4e2(0x479)]['wuid']+_0xd7f4e2(0x308));let _0x58db87=this[_0xd7f4e2(0x59a)](_0x4fec18['name']),_0x3c5cf7=new he[(_0xd7f4e2(0x72c))][(_0xd7f4e2(0x671))](),_0x108894={'_id':_0x3c5cf7,'default':!0x0,'title':_0xd7f4e2(0x653),'x':0x0,'y':0x0},_0x1c02b6={'_id':new he[(_0xd7f4e2(0x72c))][(_0xd7f4e2(0x671))](),'order':0x1,'groupId':_0x3c5cf7['toString'](),'type':'start'},_0x24144a=this[_0xd7f4e2(0x479)][_0xd7f4e2(0x661)],_0x3c5fc1={'_id':(0x0,X['v4'])(),'owner':_0x24144a,'name':_0x58db87,'whoCanEdit':[_0x24144a],'whoCanUse':[_0x24144a],'groups':[_0x108894],'blocks':[_0x1c02b6],..._0x4fec18};try{let _0x274720=await this[_0xd7f4e2(0x1d5)][_0xd7f4e2(0x233)][_0xd7f4e2(0x381)](_0x3c5fc1);return await this[_0xd7f4e2(0x5cd)](),_0x274720;}catch(_0x35c38d){let _0x291982=_0xd7f4e2(0x811),_0x46700d=_0x35c38d instanceof Error?_0x35c38d[_0xd7f4e2(0x34b)]:typeof _0x35c38d==_0xd7f4e2(0x6ff)?JSON[_0xd7f4e2(0x27a)](_0x35c38d):_0x35c38d,_0x4cc6f2=_0x291982+':\x20'+_0x46700d;throw this[_0xd7f4e2(0x421)][_0xd7f4e2(0x3b7)](this[_0xd7f4e2(0x1b4)]+'\x20('+this['instance'][_0xd7f4e2(0x661)]+_0xd7f4e2(0x54d)+_0x4cc6f2),new m(_0x4cc6f2);}}async[a0_0x20fba6(0x41e)](_0x52011e,_0x53b969){const _0x5118fe=a0_0x20fba6;try{this[_0x5118fe(0x421)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5118fe(0x661)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x32ed25=await this[_0x5118fe(0x1d5)][_0x5118fe(0x233)]['findOne']({'where':{'_id':_0x53b969,'owner':_0x52011e}});if(!_0x32ed25)throw new m(_0x5118fe(0x118));if(_0x32ed25[_0x5118fe(0x7e1)]===!0x1&&!_0x32ed25[_0x5118fe(0x283)])throw new m(_0x5118fe(0x538));let _0x3127cd=new Set(_0x32ed25[_0x5118fe(0x33d)]??[]);_0x3127cd[_0x5118fe(0x86c)](this[_0x5118fe(0x479)][_0x5118fe(0x661)]);let _0xaef222=await this[_0x5118fe(0x1d5)][_0x5118fe(0x233)][_0x5118fe(0x1e8)](_0x53b969,{..._0x32ed25,'whoCanUse':Array[_0x5118fe(0x3e5)](_0x3127cd)});return await this['synchronizeAndMapFlows'](),_0xaef222;}catch(_0xd43d52){let _0x5318fd='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x159348=_0xd43d52 instanceof Error?_0xd43d52[_0x5118fe(0x34b)]:typeof _0xd43d52==_0x5118fe(0x6ff)?JSON['stringify'](_0xd43d52):_0xd43d52,_0x498e06=_0x5318fd+':\x20'+_0x159348;throw this[_0x5118fe(0x421)]['error'](this[_0x5118fe(0x1b4)]+'\x20('+this['instance'][_0x5118fe(0x661)]+'):\x20'+_0x498e06),new m(_0x498e06);}}[a0_0x20fba6(0x59a)](_0x345aec){const _0x1b4299=a0_0x20fba6;let _0x2a6cf5=_0x345aec,_0x2e6868=0x1;for(;this[_0x1b4299(0x52f)][_0x1b4299(0x344)][_0x1b4299(0x836)](_0x45a541=>_0x45a541[_0x1b4299(0x217)]===_0x2a6cf5);)_0x2e6868++,_0x2a6cf5=_0x345aec+'\x20('+_0x2e6868+')';return _0x2a6cf5;}async[a0_0x20fba6(0x20a)](_0x4c15c4){const _0x5ca49c=a0_0x20fba6;try{if(this['logger']['verbose'](this[_0x5ca49c(0x1b4)]+'\x20('+this[_0x5ca49c(0x479)][_0x5ca49c(0x661)]+_0x5ca49c(0x845)+_0x4c15c4[_0x5ca49c(0x2a0)]+_0x5ca49c(0x51f)+_0x4c15c4[_0x5ca49c(0x140)]),!this[_0x5ca49c(0x52f)]['flows'][_0x5ca49c(0x568)](_0x5b3639=>_0x5b3639[_0x5ca49c(0x2a0)]===_0x4c15c4[_0x5ca49c(0x2a0)]))throw this['logger']['verbose'](this[_0x5ca49c(0x1b4)]+'\x20('+this['instance']['wuid']+_0x5ca49c(0x667)+_0x4c15c4['_id']+'\x27\x20não\x20encontrado'),new m(_0x5ca49c(0x579));let _0x3adb86=await this[_0x5ca49c(0x1d5)][_0x5ca49c(0x233)][_0x5ca49c(0x79e)]({'where':{'_id':_0x4c15c4[_0x5ca49c(0x2a0)]}});if(!_0x3adb86)throw new m(_0x5ca49c(0x7a7));if(this['instance'][_0x5ca49c(0x661)]===_0x3adb86[_0x5ca49c(0x565)]){this[_0x5ca49c(0x421)][_0x5ca49c(0x76b)](this['instanceName']+'\x20('+this[_0x5ca49c(0x479)][_0x5ca49c(0x661)]+_0x5ca49c(0x7ee)+_0x4c15c4['_id']+_0x5ca49c(0x1d9));let _0x4cd848=await this[_0x5ca49c(0x1d5)][_0x5ca49c(0x233)][_0x5ca49c(0x763)]({'where':{'_id':_0x4c15c4[_0x5ca49c(0x2a0)]}});return await this[_0x5ca49c(0x5cd)](),_0x4cd848;}return this[_0x5ca49c(0x421)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5ca49c(0x661)]+_0x5ca49c(0x22c)+this['instance']['wuid']+_0x5ca49c(0x646)+_0x4c15c4[_0x5ca49c(0x2a0)]+_0x5ca49c(0x2c7)),_0x3adb86[_0x5ca49c(0x33d)]=(_0x3adb86[_0x5ca49c(0x33d)]??[])[_0x5ca49c(0x7a2)](_0x41e7a8=>_0x41e7a8!==this[_0x5ca49c(0x479)]['wuid']),_0x3adb86[_0x5ca49c(0x5e7)]=(_0x3adb86[_0x5ca49c(0x5e7)]??[])[_0x5ca49c(0x7a2)](_0x2167e4=>_0x2167e4!==this[_0x5ca49c(0x479)][_0x5ca49c(0x661)]),_0x3adb86[_0x5ca49c(0x5e7)][_0x5ca49c(0x21c)]===0x0&&_0x3adb86[_0x5ca49c(0x33d)][_0x5ca49c(0x21c)]>0x0&&(_0x3adb86[_0x5ca49c(0x5e7)]['push'](_0x3adb86['whoCanUse'][0x0]),this[_0x5ca49c(0x421)][_0x5ca49c(0x76b)](this[_0x5ca49c(0x1b4)]+'\x20('+this[_0x5ca49c(0x479)][_0x5ca49c(0x661)]+_0x5ca49c(0x2cf)+_0x3adb86[_0x5ca49c(0x33d)][0x0]+_0x5ca49c(0x25a)+_0x4c15c4[_0x5ca49c(0x2a0)]+_0x5ca49c(0x2c7))),await this['repository'][_0x5ca49c(0x233)]['updateOne'](_0x3adb86[_0x5ca49c(0x2a0)],_0x3adb86),await this['synchronizeAndMapFlows'](),{'message':_0x5ca49c(0x5e9)+_0x4c15c4['name']+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x5bd85b){return this['logger'][_0x5ca49c(0x3b7)](this[_0x5ca49c(0x1b4)]+'\x20('+this[_0x5ca49c(0x479)][_0x5ca49c(0x661)]+_0x5ca49c(0x5fe)+(_0x5bd85b instanceof Error?_0x5bd85b['message']:JSON[_0x5ca49c(0x27a)](_0x5bd85b,null,0x2))),{'message':_0x5ca49c(0x317)+(_0x5bd85b instanceof Error?_0x5bd85b[_0x5ca49c(0x34b)]:JSON['stringify'](_0x5bd85b,null,0x2))};}}async['getFlow'](_0xcc8696){const _0x5a8495=a0_0x20fba6;try{if(this['logger'][_0x5a8495(0x7d7)](this[_0x5a8495(0x1b4)]+'\x20('+this[_0x5a8495(0x479)][_0x5a8495(0x661)]+_0x5a8495(0x746)+_0xcc8696),!this[_0x5a8495(0x52f)]&&(await this[_0x5a8495(0x77e)](),!this['AutomateSystem']))return null;let _0x44c9fa=await this[_0x5a8495(0x1d5)][_0x5a8495(0x233)][_0x5a8495(0x79e)]({'where':{'_id':_0xcc8696}});if(!_0x44c9fa)throw new m('Fluxo\x20id\x20\x27'+_0xcc8696+_0x5a8495(0x457));if(!(_0x44c9fa[_0x5a8495(0x283)]||_0x44c9fa[_0x5a8495(0x33d)]?.[_0x5a8495(0x4b0)](this[_0x5a8495(0x479)][_0x5a8495(0x661)])))throw new m(_0x5a8495(0x5f1)+name+'\x27');_0x44c9fa['globalShow']&&!_0x44c9fa[_0x5a8495(0x33d)]?.[_0x5a8495(0x4b0)](this[_0x5a8495(0x479)][_0x5a8495(0x661)])&&(_0x44c9fa['whoCanUse']=[..._0x44c9fa[_0x5a8495(0x33d)]??[],this[_0x5a8495(0x479)][_0x5a8495(0x661)]],await this['repository'][_0x5a8495(0x233)]['updateOne'](_0x44c9fa['_id'],_0x44c9fa),this['synchronizeAndMapFlows']());let _0x1ae7be=this[_0x5a8495(0x52f)]?.[_0x5a8495(0x2ea)][_0x5a8495(0x5a9)](_0x1ad609=>_0x1ad609[_0x5a8495(0x217)]),_0x180461=['nome',_0x5a8495(0x56b),_0x5a8495(0x205),_0x5a8495(0x172),'status','notas',_0x5a8495(0x2d6),'tags','etiquetas',_0x5a8495(0x1c2),_0x5a8495(0x383)];_0x44c9fa['variables']=_0x44c9fa[_0x5a8495(0x657)]['filter'](_0x566c1d=>!(_0x566c1d[_0x5a8495(0x429)]===_0x5a8495(0x6ab)||_0x566c1d[_0x5a8495(0x6ab)])),_0x180461[_0x5a8495(0x871)](_0x180865=>{const _0x25790e=_0x5a8495;_0x44c9fa[_0x25790e(0x657)][_0x25790e(0x2af)]({'folder':_0x25790e(0x6ab),'name':_0x180865,'value':'','doc':'','leadInfo':!0x0});}),_0x1ae7be[_0x5a8495(0x871)](_0x28edcb=>{const _0x3c3991=_0x5a8495;let _0x1c98db=_0x44c9fa[_0x3c3991(0x657)][_0x3c3991(0x831)](_0x176127=>_0x176127['name']===_0x28edcb);_0x1c98db===-0x1?_0x44c9fa['variables']['push']({'folder':_0x3c3991(0x6ab),'name':_0x28edcb,'value':'','doc':'','leadInfo':!0x0}):(_0x44c9fa['variables'][_0x1c98db]['folder']=_0x3c3991(0x6ab),_0x44c9fa['variables'][_0x1c98db][_0x3c3991(0x6ab)]=!0x0);}),_0x44c9fa[_0x5a8495(0x822)]&&_0x44c9fa['blocks'][_0x5a8495(0x21c)]>0x0&&_0x44c9fa['blocks'][_0x5a8495(0x871)](_0x3d8cc4=>{const _0xd971f9=_0x5a8495;_0x3d8cc4['groupId']&&_0x3d8cc4[_0xd971f9(0x361)]&&_0x3d8cc4[_0xd971f9(0x4e1)]===_0x3d8cc4[_0xd971f9(0x361)]&&(_0x3d8cc4[_0xd971f9(0x361)]=null);});let _0x1ab75f=await this[_0x5a8495(0x1d5)][_0x5a8495(0x233)][_0x5a8495(0x1e8)](_0x44c9fa[_0x5a8495(0x2a0)],_0x44c9fa);if(!_0x1ab75f)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1ab75f;}catch(_0x460648){let _0x13a5c3=_0x5a8495(0x414),_0x30040e=_0x460648 instanceof Error?_0x460648[_0x5a8495(0x34b)]:typeof _0x460648=='object'?JSON[_0x5a8495(0x27a)](_0x460648):_0x460648,_0x4a85d5=_0x13a5c3+':\x20'+_0x30040e;throw this[_0x5a8495(0x421)][_0x5a8495(0x3b7)](this['instanceName']+'\x20('+this[_0x5a8495(0x479)][_0x5a8495(0x661)]+_0x5a8495(0x54d)+_0x4a85d5),new m(_0x4a85d5);}}async[a0_0x20fba6(0x1ee)](){const _0x5023f1=a0_0x20fba6;try{this[_0x5023f1(0x421)][_0x5023f1(0x76b)](this[_0x5023f1(0x1b4)]+'\x20('+this[_0x5023f1(0x479)][_0x5023f1(0x661)]+_0x5023f1(0x866)),await this[_0x5023f1(0x5cd)]();let _0x2d8ca2=await this[_0x5023f1(0x1d5)][_0x5023f1(0x233)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x5023f1(0x52f)]['flows'],..._0x2d8ca2];}catch(_0x2e68b4){return this[_0x5023f1(0x421)][_0x5023f1(0x3b7)](this[_0x5023f1(0x1b4)]+'\x20('+this[_0x5023f1(0x479)][_0x5023f1(0x661)]+_0x5023f1(0x275)+(_0x2e68b4 instanceof Error?_0x2e68b4[_0x5023f1(0x34b)]:JSON[_0x5023f1(0x27a)](_0x2e68b4,null,0x2))),{'message':_0x5023f1(0x417)+(_0x2e68b4 instanceof Error?_0x2e68b4['message']:String(_0x2e68b4))};}}async[a0_0x20fba6(0x78f)](_0x312db6,_0x3896a2){const _0x15e105=a0_0x20fba6;try{this[_0x15e105(0x421)][_0x15e105(0x76b)](this[_0x15e105(0x1b4)]+'\x20('+this[_0x15e105(0x479)][_0x15e105(0x661)]+'):\x20Alterando\x20fluxo...');let _0x16e68a=this[_0x15e105(0x52f)][_0x15e105(0x344)]['find'](_0x562ec9=>_0x562ec9[_0x15e105(0x2a0)]===_0x312db6[_0x15e105(0x2a0)]);if(!_0x16e68a)throw this[_0x15e105(0x421)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x15e105(0x661)]+_0x15e105(0x667)+_0x312db6[_0x15e105(0x2a0)]+_0x15e105(0x2b2)),new m(_0x15e105(0x579));let _0x578a2b=await this['repository'][_0x15e105(0x233)][_0x15e105(0x79e)]({'where':{'_id':_0x312db6['_id']}});if(!_0x578a2b||!_0x578a2b[_0x15e105(0x33d)]?.['includes'](this['instance']['wuid']))throw this[_0x15e105(0x421)][_0x15e105(0x3b7)](this[_0x15e105(0x1b4)]+'\x20('+this[_0x15e105(0x479)][_0x15e105(0x661)]+'):\x20Flow\x20\x27'+_0x312db6[_0x15e105(0x2a0)]+_0x15e105(0x716)),new m(_0x15e105(0x46a)+_0x312db6['_id']+_0x15e105(0x716));let _0x193bd4=this[_0x15e105(0x52f)][_0x15e105(0x344)][_0x15e105(0x831)](_0xba176a=>_0xba176a[_0x15e105(0x2a0)]===_0x16e68a[_0x15e105(0x2a0)]);if(_0x193bd4!==-0x1){let _0x2ccb77=this[_0x15e105(0x52f)][_0x15e105(0x344)][_0x193bd4];if(_0x2ccb77[_0x15e105(0x217)]=_0x312db6[_0x15e105(0x217)]??_0x2ccb77[_0x15e105(0x217)],_0x2ccb77['default']=_0x312db6[_0x15e105(0x269)]??_0x2ccb77[_0x15e105(0x269)],_0x2ccb77[_0x15e105(0x59d)]=_0x312db6[_0x15e105(0x59d)]??_0x2ccb77[_0x15e105(0x59d)],_0x2ccb77[_0x15e105(0x453)]=_0x312db6[_0x15e105(0x2f9)]??_0x2ccb77[_0x15e105(0x453)],_0x2ccb77[_0x15e105(0x2f5)]=_0x312db6['minutesToClose']??_0x2ccb77['minutesToClose'],_0x2ccb77[_0x15e105(0x39a)]=_0x312db6['readMessages']??_0x2ccb77[_0x15e105(0x39a)],_0x312db6[_0x15e105(0x269)]&&this[_0x15e105(0x52f)][_0x15e105(0x344)][_0x15e105(0x871)]((_0xb0641,_0x15256b)=>{const _0x51b121=_0x15e105;_0x15256b!==_0x193bd4&&(_0xb0641[_0x51b121(0x269)]=!0x1);}),this[_0x15e105(0x52f)][_0x15e105(0x344)][_0x193bd4]=_0x2ccb77,!await this[_0x15e105(0x1d5)]['automateSystem']['update']({'flows':this[_0x15e105(0x52f)][_0x15e105(0x344)]},this[_0x15e105(0x479)][_0x15e105(0x661)]))throw new m(_0x15e105(0x46e));}let _0x5e6fab=['global',_0x15e105(0x241),_0x15e105(0x3d6),'shareOwners'];for(let _0x458215 of _0x5e6fab)delete _0x312db6[_0x458215];if(_0x578a2b[_0x15e105(0x5e7)]?.[_0x15e105(0x4b0)](this[_0x15e105(0x479)][_0x15e105(0x661)])||(_0x312db6={'_id':_0x312db6[_0x15e105(0x2a0)]}),_0x3896a2!==$i&&_0x312db6?.[_0x15e105(0x283)]&&!_0x578a2b?.[_0x15e105(0x283)])throw new m(_0x15e105(0x122));let _0x2905d9=new Set(_0x312db6['whoCanEdit']??_0x578a2b['whoCanEdit']);_0x2905d9[_0x15e105(0x86c)](_0x578a2b[_0x15e105(0x565)]);let _0x1401f2=new Set(_0x312db6[_0x15e105(0x33d)]??_0x578a2b[_0x15e105(0x33d)]??[]);_0x2905d9[_0x15e105(0x871)](_0x14e580=>_0x1401f2[_0x15e105(0x86c)](_0x14e580)),_0x1401f2['add'](_0x578a2b[_0x15e105(0x565)]),this['logger'][_0x15e105(0x76b)](this[_0x15e105(0x1b4)]+'\x20('+this[_0x15e105(0x479)]['wuid']+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0x15e105(0x3e5)](_0x2905d9)),this[_0x15e105(0x421)][_0x15e105(0x76b)](this['instanceName']+'\x20('+this[_0x15e105(0x479)]['wuid']+_0x15e105(0x6bc)+Array[_0x15e105(0x3e5)](_0x1401f2));let _0x376ab0=await this[_0x15e105(0x722)](Array[_0x15e105(0x3e5)](_0x1401f2)),_0x2942cd=Array[_0x15e105(0x3e5)](_0x2905d9)[_0x15e105(0x7a2)](_0x22f117=>_0x376ab0['includes'](_0x22f117)),_0xab4dc1=Array['from'](_0x1401f2)[_0x15e105(0x7a2)](_0x1c7e32=>_0x376ab0[_0x15e105(0x4b0)](_0x1c7e32));this[_0x15e105(0x421)][_0x15e105(0x76b)](this[_0x15e105(0x1b4)]+'\x20('+this['instance'][_0x15e105(0x661)]+_0x15e105(0x5b4)+_0x2942cd),this['logger'][_0x15e105(0x76b)](this[_0x15e105(0x1b4)]+'\x20('+this['instance'][_0x15e105(0x661)]+_0x15e105(0x6b9)+_0xab4dc1);let _0x47b789={..._0x578a2b,..._0x312db6,'whoCanEdit':_0x2942cd,'whoCanUse':_0xab4dc1},_0x1211a1=await this[_0x15e105(0x1d5)][_0x15e105(0x233)][_0x15e105(0x1e8)](_0x578a2b[_0x15e105(0x2a0)],_0x47b789);return await this[_0x15e105(0x5cd)](),_0x1211a1;}catch(_0x4c437e){let _0x3d425a=_0x15e105(0x1a5),_0xa7c4b3=_0x4c437e instanceof Error?_0x4c437e[_0x15e105(0x34b)]:typeof _0x4c437e==_0x15e105(0x6ff)?JSON[_0x15e105(0x27a)](_0x4c437e):_0x4c437e,_0x37675d=_0x3d425a+':\x20'+_0xa7c4b3;throw this[_0x15e105(0x421)][_0x15e105(0x3b7)](this[_0x15e105(0x1b4)]+'\x20('+this[_0x15e105(0x479)][_0x15e105(0x661)]+_0x15e105(0x54d)+_0x37675d),new m(_0x37675d);}}async['getValidWhatsAppNumbers'](_0x520b60){const _0x5d8bc5=a0_0x20fba6;let _0x3909e6={'numbers':_0x520b60};return(await this[_0x5d8bc5(0x43c)](_0x3909e6))[_0x5d8bc5(0x7a2)](_0x60751=>_0x60751[_0x5d8bc5(0x478)])['map'](_0x5e1d82=>_0x5e1d82[_0x5d8bc5(0x4b4)])[_0x5d8bc5(0x5a9)](_0x2a64ed=>this['extractPhoneNumber'](_0x2a64ed));}[a0_0x20fba6(0x27b)](_0x249cd5){const _0x54e037=a0_0x20fba6;let _0x596890=_0x249cd5[_0x54e037(0x700)](/\d+/);return _0x596890?_0x596890[0x0]:'';}async['editFlowBlock'](_0x3e8b3e){const _0x14f3fc=a0_0x20fba6;try{if(this[_0x14f3fc(0x421)]['verbose'](this[_0x14f3fc(0x1b4)]+'\x20('+this['instance'][_0x14f3fc(0x661)]+_0x14f3fc(0x2c1)),!this['AutomateSystem'][_0x14f3fc(0x344)][_0x14f3fc(0x568)](_0x4c090b=>_0x4c090b[_0x14f3fc(0x2a0)]===_0x3e8b3e[_0x14f3fc(0x2a0)]))throw this[_0x14f3fc(0x421)][_0x14f3fc(0x76b)](this[_0x14f3fc(0x1b4)]+'\x20('+this[_0x14f3fc(0x479)][_0x14f3fc(0x661)]+_0x14f3fc(0x667)+_0x3e8b3e[_0x14f3fc(0x2a0)]+'\x27\x20não\x20encontrado'),new m(_0x14f3fc(0x579));let _0x39607f=await this[_0x14f3fc(0x1d5)][_0x14f3fc(0x233)][_0x14f3fc(0x79e)]({'where':{'_id':_0x3e8b3e[_0x14f3fc(0x2a0)]}});if(!_0x39607f||!_0x39607f[_0x14f3fc(0x33d)]?.[_0x14f3fc(0x4b0)](this[_0x14f3fc(0x479)][_0x14f3fc(0x661)]))throw this[_0x14f3fc(0x421)][_0x14f3fc(0x3b7)](this['instanceName']+'\x20('+this[_0x14f3fc(0x479)]['wuid']+'):\x20Flow\x20\x27'+_0x3e8b3e[_0x14f3fc(0x2a0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x3e8b3e[_0x14f3fc(0x2a0)]+_0x14f3fc(0x716));if(!_0x39607f[_0x14f3fc(0x5e7)]?.[_0x14f3fc(0x4b0)](this[_0x14f3fc(0x479)][_0x14f3fc(0x661)]))throw new m(_0x14f3fc(0x838));let {block:_0xad727a}=_0x3e8b3e;_0xad727a?.[_0x14f3fc(0x38a)]?this['copyBlock'](_0x39607f,_0x3e8b3e):_0xad727a?.['delete']?this['deleteBlock'](_0x39607f,_0x3e8b3e):_0xad727a[_0x14f3fc(0x2a0)]?await this[_0x14f3fc(0x533)](_0x39607f,_0x3e8b3e):this[_0x14f3fc(0x6fb)](_0x39607f,_0x3e8b3e);let _0x246951=await this[_0x14f3fc(0x1d5)][_0x14f3fc(0x233)][_0x14f3fc(0x1e8)](_0x39607f[_0x14f3fc(0x2a0)],_0x39607f);if(!_0x246951)throw new Error(_0x14f3fc(0x472));return _0x246951;}catch(_0x4c421b){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x4c421b[_0x14f3fc(0x34b)]);}}async[a0_0x20fba6(0x459)](_0x5cb11f,_0x2f4688){const _0x354372=a0_0x20fba6;let _0x5eaffa=_0x2f4688[_0x354372(0x4ba)][_0x354372(0x2a0)],_0x3d9f7a=_0x5cb11f[_0x354372(0x822)][_0x354372(0x568)](_0x59e2fa=>_0x59e2fa[_0x354372(0x2a0)]['toString']()===_0x5eaffa);if(!_0x3d9f7a){this[_0x354372(0x421)]['error'](this[_0x354372(0x1b4)]+'\x20('+this[_0x354372(0x479)][_0x354372(0x661)]+_0x354372(0x588)+_0x5eaffa+_0x354372(0x4eb));return;}this[_0x354372(0x421)][_0x354372(0x76b)](this[_0x354372(0x1b4)]+'\x20('+this[_0x354372(0x479)][_0x354372(0x661)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x354372(0x27a)](_0x3d9f7a));let _0x561c20=JSON[_0x354372(0x321)](JSON['stringify'](_0x3d9f7a));_0x561c20[_0x354372(0x2a0)]=new he[(_0x354372(0x269))]['Types'][(_0x354372(0x671))](),this['logger']['verbose'](this[_0x354372(0x1b4)]+'\x20('+this[_0x354372(0x479)][_0x354372(0x661)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x354372(0x27a)](_0x561c20)),_0x5cb11f[_0x354372(0x822)][_0x354372(0x2af)](_0x561c20),this[_0x354372(0x6e5)](_0x5cb11f[_0x354372(0x822)],_0x561c20[_0x354372(0x4e1)]);}[a0_0x20fba6(0x447)](_0x3209fa){const _0x25cb58=a0_0x20fba6;throw this[_0x25cb58(0x421)][_0x25cb58(0x3b7)](this[_0x25cb58(0x1b4)]+'\x20('+this[_0x25cb58(0x479)][_0x25cb58(0x661)]+_0x25cb58(0x54d)+_0x3209fa),new m(_0x3209fa);}[a0_0x20fba6(0x437)](_0x125b48,_0x7dfa73){const _0x4acfe4=a0_0x20fba6;let {block:_0xecea94}=_0x7dfa73;if(_0xecea94['type']==='start'){this['throwAndLogError'](_0x4acfe4(0x835));return;}if(!_0xecea94[_0x4acfe4(0x2a0)]){this[_0x4acfe4(0x447)](_0x4acfe4(0x481));return;}let _0x2f902e=_0x125b48[_0x4acfe4(0x822)][_0x4acfe4(0x568)](_0x212442=>_0x212442[_0x4acfe4(0x2a0)][_0x4acfe4(0x176)]()===_0x7dfa73[_0x4acfe4(0x4ba)]['_id']['toString']());if(!_0x2f902e){this[_0x4acfe4(0x447)](_0x4acfe4(0x64b)+_0xecea94[_0x4acfe4(0x2a0)]+_0x4acfe4(0x39d));return;}_0x125b48[_0x4acfe4(0x822)]=_0x125b48[_0x4acfe4(0x822)]['filter'](_0x5b5925=>_0x5b5925[_0x4acfe4(0x2a0)][_0x4acfe4(0x176)]()!==_0x7dfa73[_0x4acfe4(0x4ba)][_0x4acfe4(0x2a0)][_0x4acfe4(0x176)]()),_0x125b48[_0x4acfe4(0x7df)]=_0x125b48['conditions']['filter'](_0x53d1af=>_0x53d1af[_0x4acfe4(0x723)]!==_0xecea94[_0x4acfe4(0x2a0)][_0x4acfe4(0x176)]()),_0x125b48[_0x4acfe4(0x46c)]=_0x125b48[_0x4acfe4(0x46c)][_0x4acfe4(0x7a2)](_0x54ae1a=>_0x54ae1a[_0x4acfe4(0x723)]!==_0xecea94[_0x4acfe4(0x2a0)][_0x4acfe4(0x176)]()),_0x125b48[_0x4acfe4(0x11d)]=_0x125b48['replyOptions'][_0x4acfe4(0x7a2)](_0x6fc62c=>_0x6fc62c[_0x4acfe4(0x723)]!==_0xecea94[_0x4acfe4(0x2a0)]['toString']()),this[_0x4acfe4(0x6e5)](_0x125b48[_0x4acfe4(0x822)],_0x2f902e[_0x4acfe4(0x4e1)]);}async[a0_0x20fba6(0x533)](_0x9b7c4e,_0x8ce4be){const _0x3ab559=a0_0x20fba6;let _0x36d103=_0x9b7c4e[_0x3ab559(0x822)][_0x3ab559(0x831)](_0x444e41=>_0x444e41[_0x3ab559(0x2a0)]['toString']()===_0x8ce4be[_0x3ab559(0x4ba)][_0x3ab559(0x2a0)]['toString']());if(this[_0x3ab559(0x421)][_0x3ab559(0x76b)](this['instanceName']+'\x20('+this[_0x3ab559(0x479)][_0x3ab559(0x661)]+_0x3ab559(0x196)+_0x36d103),_0x36d103===-0x1){this['logger'][_0x3ab559(0x76b)](_0x3ab559(0x64b)+_0x8ce4be[_0x3ab559(0x4ba)][_0x3ab559(0x2a0)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x9b7c4e['blocks'][_0x36d103]['type']==='start'){let _0x2274c3=Object[_0x3ab559(0x1c7)](_0x8ce4be[_0x3ab559(0x4ba)]);if(_0x2274c3[_0x3ab559(0x21c)]>0x2||_0x2274c3[_0x3ab559(0x21c)]===0x2&&!_0x2274c3[_0x3ab559(0x4b0)](_0x3ab559(0x361))){this['throwAndLogError'](_0x3ab559(0x7bd));return;}}let _0x4c8209=_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x4e1)];for(let _0x47fbf7 in _0x8ce4be[_0x3ab559(0x4ba)])_0x8ce4be[_0x3ab559(0x4ba)]['hasOwnProperty'](_0x47fbf7)&&(_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x47fbf7]=_0x8ce4be[_0x3ab559(0x4ba)][_0x47fbf7]);if(this[_0x3ab559(0x421)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3ab559(0x68c)+JSON['stringify'](_0x9b7c4e[_0x3ab559(0x822)][_0x36d103])),_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)]&&_0x3ab559(0x370)in _0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)]){this[_0x3ab559(0x421)][_0x3ab559(0x76b)](this[_0x3ab559(0x1b4)]+'\x20('+this[_0x3ab559(0x479)][_0x3ab559(0x661)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x23e280=JSON[_0x3ab559(0x27a)](_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)][_0x3ab559(0x370)],null,0x1);_0x23e280[_0x3ab559(0x21c)]>0x2&&(_0x23e280=_0x23e280['substring'](0x1,_0x23e280[_0x3ab559(0x21c)]-0x1)[_0x3ab559(0x5b8)]()),_0x9b7c4e[_0x3ab559(0x822)][_0x36d103]['apirequest'][_0x3ab559(0x237)]=_0x23e280;}if(_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)]&&_0x3ab559(0x739)in _0x9b7c4e[_0x3ab559(0x822)][_0x36d103]['apirequest']&&!('bodyString'in _0x9b7c4e['blocks'][_0x36d103][_0x3ab559(0x557)])){this[_0x3ab559(0x421)][_0x3ab559(0x76b)](this[_0x3ab559(0x1b4)]+'\x20('+this[_0x3ab559(0x479)][_0x3ab559(0x661)]+_0x3ab559(0x1bd)),_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)][_0x3ab559(0x2b3)]=!0x1;let _0x1ecd47=JSON[_0x3ab559(0x27a)](_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)][_0x3ab559(0x739)],null,0x2);_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)]['bodyString']=_0x1ecd47;}if(_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)]&&_0x3ab559(0x58c)in _0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)]){_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)][_0x3ab559(0x2b3)]=!0x1;let _0x37797c=_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)][_0x3ab559(0x58c)],_0xe7cb07=this[_0x3ab559(0x83a)](_0x37797c);_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)][_0x3ab559(0x58c)]=_0xe7cb07['result'],_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x557)][_0x3ab559(0x2b3)]=_0xe7cb07[_0x3ab559(0x3b7)];}let _0x325593=_0x9b7c4e[_0x3ab559(0x822)][_0x36d103][_0x3ab559(0x4e1)];_0x4c8209!==_0x325593?(this[_0x3ab559(0x6e5)](_0x9b7c4e['blocks'],_0x4c8209),this[_0x3ab559(0x6e5)](_0x9b7c4e[_0x3ab559(0x822)],_0x325593)):this['reorderBlocks'](_0x9b7c4e[_0x3ab559(0x822)],_0x4c8209);}[a0_0x20fba6(0x83a)](_0x47b17d){const _0x1ff8e6=a0_0x20fba6;let _0x46a045='\u205f',_0x4937c3=!0x1,_0x257601='';for(let _0xb18d9e=0x0;_0xb18d9e<_0x47b17d[_0x1ff8e6(0x21c)];_0xb18d9e++){let _0x110109=_0x47b17d[_0xb18d9e];_0x110109==='\x22'&&(_0xb18d9e===0x0||_0x47b17d[_0xb18d9e-0x1]!=='\x5c')&&(_0x4937c3=!_0x4937c3),!(!_0x4937c3&&(_0x110109==='\x0a'||_0x110109==='\x20'||_0x110109===_0x46a045))&&(_0x257601+=_0x110109);}let _0x300bcb={},_0x3160ea=9876543210.1234,_0x3b2887=_0x257601[_0x1ff8e6(0x4f4)](/\{\{([^}]+)\}\}/g,_0x2d5d88=>{let _0x18e25d=_0x2d5d88,_0x51629a=''+_0x3160ea;return _0x300bcb[_0x51629a]=_0x18e25d,_0x3160ea+=0.0001,_0x51629a;}),_0x4c7e76='',_0x4c3b1c=!0x1;try{let _0x581097=JSON[_0x1ff8e6(0x321)](_0x3b2887);_0x4c7e76=JSON['stringify'](_0x581097,null,0x2),_0x4c7e76=_0x4c7e76[_0x1ff8e6(0x4f4)](/\n( +)/g,(_0x5a2469,_0x384ec5)=>{const _0x47fa8b=_0x1ff8e6;let _0x480ada=_0x384ec5['length'];return'\x0a'+_0x46a045[_0x47fa8b(0x1b5)](_0x480ada*0x2);}),_0x4c7e76=_0x4c7e76['replace'](/(\d{10,}\.\d+)/g,_0x1f7c42=>_0x300bcb[_0x1f7c42]||_0x1f7c42);}catch(_0x6721e7){this[_0x1ff8e6(0x421)][_0x1ff8e6(0x3b7)]('Error\x20parsing\x20JSON:'+_0x6721e7),_0x4c7e76=_0x47b17d,_0x4c3b1c=!0x0;}return{'result':_0x4c7e76,'error':_0x4c3b1c};}[a0_0x20fba6(0x6fb)](_0x621613,_0x74a190){const _0x40edca=a0_0x20fba6;if(_0x74a190[_0x40edca(0x4ba)][_0x40edca(0x7da)]==='start'){this[_0x40edca(0x447)](_0x40edca(0x422));return;}if(_0x74a190[_0x40edca(0x4ba)]['apirequest']&&'header'in _0x74a190[_0x40edca(0x4ba)]['apirequest']){this[_0x40edca(0x421)]['verbose'](this[_0x40edca(0x1b4)]+'\x20('+this[_0x40edca(0x479)][_0x40edca(0x661)]+_0x40edca(0x37b));let _0x39d732=JSON[_0x40edca(0x27a)](_0x74a190[_0x40edca(0x4ba)][_0x40edca(0x557)][_0x40edca(0x370)],null,0x1);_0x39d732[_0x40edca(0x21c)]>0x2&&(_0x39d732=_0x39d732[_0x40edca(0x473)](0x1,_0x39d732[_0x40edca(0x21c)]-0x1)[_0x40edca(0x5b8)]()),_0x74a190[_0x40edca(0x4ba)]['apirequest'][_0x40edca(0x237)]=_0x39d732;}_0x74a190['block'][_0x40edca(0x557)]&&_0x40edca(0x739)in _0x74a190['block'][_0x40edca(0x557)]&&(this[_0x40edca(0x421)][_0x40edca(0x76b)](this[_0x40edca(0x1b4)]+'\x20('+this['instance'][_0x40edca(0x661)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x74a190[_0x40edca(0x4ba)][_0x40edca(0x557)][_0x40edca(0x58c)]=JSON[_0x40edca(0x27a)](_0x74a190[_0x40edca(0x4ba)]['apirequest'][_0x40edca(0x739)],null,0x1)[_0x40edca(0x5b8)]()),_0x621613['blocks'][_0x40edca(0x2af)](_0x74a190[_0x40edca(0x4ba)]),this[_0x40edca(0x6e5)](_0x621613[_0x40edca(0x822)],_0x74a190['block'][_0x40edca(0x4e1)]);}[a0_0x20fba6(0x6e5)](_0x4336a9,_0x225f65){const _0x1ead43=a0_0x20fba6;let _0x42ae69=_0x4336a9[_0x1ead43(0x7a2)](_0x1fccd6=>_0x1fccd6['groupId']===_0x225f65);_0x42ae69[_0x1ead43(0x529)]((_0x3ba13a,_0x4249cb)=>_0x3ba13a[_0x1ead43(0x3ba)]-_0x4249cb[_0x1ead43(0x3ba)]),_0x42ae69[_0x1ead43(0x871)]((_0x3112d0,_0x3d75aa)=>_0x3112d0[_0x1ead43(0x3ba)]=_0x3d75aa+0x1);}async[a0_0x20fba6(0x31a)](_0x38a222){const _0x2e9a52=a0_0x20fba6;try{if(this[_0x2e9a52(0x421)][_0x2e9a52(0x76b)](this[_0x2e9a52(0x1b4)]+'\x20('+this[_0x2e9a52(0x479)][_0x2e9a52(0x661)]+_0x2e9a52(0x19c)),!_0x38a222||!_0x38a222['replyOption']){this[_0x2e9a52(0x447)](_0x2e9a52(0x147));return;}if(!this[_0x2e9a52(0x52f)][_0x2e9a52(0x344)]['find'](_0x4a80ee=>_0x4a80ee[_0x2e9a52(0x2a0)]===_0x38a222['_id']))throw this[_0x2e9a52(0x421)][_0x2e9a52(0x76b)](this[_0x2e9a52(0x1b4)]+'\x20('+this['instance'][_0x2e9a52(0x661)]+_0x2e9a52(0x667)+_0x38a222['_id']+'\x27\x20não\x20encontrado'),new m(_0x2e9a52(0x579));let _0x3cb1ba=await this[_0x2e9a52(0x1d5)]['flow'][_0x2e9a52(0x79e)]({'where':{'_id':_0x38a222[_0x2e9a52(0x2a0)]}});if(!_0x3cb1ba||!_0x3cb1ba[_0x2e9a52(0x33d)]?.[_0x2e9a52(0x4b0)](this[_0x2e9a52(0x479)][_0x2e9a52(0x661)]))throw this[_0x2e9a52(0x421)]['error'](this[_0x2e9a52(0x1b4)]+'\x20('+this[_0x2e9a52(0x479)][_0x2e9a52(0x661)]+_0x2e9a52(0x49a)+_0x38a222[_0x2e9a52(0x2a0)]+_0x2e9a52(0x716)),new m('Flow\x20\x27'+_0x38a222[_0x2e9a52(0x2a0)]+_0x2e9a52(0x716));if(!_0x3cb1ba[_0x2e9a52(0x5e7)]?.[_0x2e9a52(0x4b0)](this[_0x2e9a52(0x479)]['wuid']))throw new m(_0x2e9a52(0x838));let {replyOption:_0x5c8d1c}=_0x38a222;_0x5c8d1c?.['delete']?(this[_0x2e9a52(0x574)](_0x3cb1ba,_0x38a222),this['reorderReplyOptions'](_0x3cb1ba[_0x2e9a52(0x11d)],_0x38a222[_0x2e9a52(0x26d)][_0x2e9a52(0x723)])):_0x5c8d1c[_0x2e9a52(0x2a0)]?(await this[_0x2e9a52(0x614)](_0x3cb1ba,_0x38a222),this['reorderReplyOptions'](_0x3cb1ba[_0x2e9a52(0x11d)],_0x38a222[_0x2e9a52(0x26d)][_0x2e9a52(0x723)])):(this[_0x2e9a52(0x193)](_0x3cb1ba,_0x38a222),this[_0x2e9a52(0x875)](_0x3cb1ba[_0x2e9a52(0x11d)],_0x38a222['replyOption'][_0x2e9a52(0x723)]));let _0x48b983=await this['repository'][_0x2e9a52(0x233)][_0x2e9a52(0x1e8)](_0x3cb1ba[_0x2e9a52(0x2a0)],_0x3cb1ba);if(!_0x48b983)throw new Error(_0x2e9a52(0x472));return _0x48b983;}catch(_0x352434){this[_0x2e9a52(0x447)](_0x2e9a52(0x78c)+_0x352434);}}[a0_0x20fba6(0x875)](_0x124191,_0xe3a67c){const _0x423b09=a0_0x20fba6;_0x124191[_0x423b09(0x871)](_0x401d7c=>{const _0x30d94e=_0x423b09;_0x401d7c[_0x30d94e(0x723)]===_0xe3a67c&&_0x401d7c[_0x30d94e(0x3ba)]===void 0x0&&(_0x401d7c[_0x30d94e(0x3ba)]=0x270f);});let _0x179585=_0x124191[_0x423b09(0x7a2)](_0x56853a=>_0x56853a[_0x423b09(0x723)]===_0xe3a67c);_0x179585['sort']((_0x5462b4,_0x376daa)=>_0x5462b4[_0x423b09(0x3ba)]-_0x376daa[_0x423b09(0x3ba)]),_0x179585[_0x423b09(0x871)]((_0x144f9c,_0x5e837c)=>{const _0x23cc67=_0x423b09;_0x144f9c[_0x23cc67(0x3ba)]=_0x5e837c+0x1;}),_0x124191[_0x423b09(0x871)](_0x45b063=>{const _0x2010ed=_0x423b09;if(_0x45b063[_0x2010ed(0x723)]===_0xe3a67c){let _0x1eae07=_0x179585[_0x2010ed(0x568)](_0x1c5b96=>_0x1c5b96[_0x2010ed(0x2a0)]&&_0x45b063[_0x2010ed(0x2a0)]&&_0x1c5b96[_0x2010ed(0x2a0)][_0x2010ed(0x176)]()===_0x45b063[_0x2010ed(0x2a0)][_0x2010ed(0x176)]());_0x1eae07&&(_0x45b063[_0x2010ed(0x3ba)]=_0x1eae07[_0x2010ed(0x3ba)]);}});}[a0_0x20fba6(0x574)](_0x3e8c84,_0x1bf055){const _0x3b5f81=a0_0x20fba6;let {replyOption:_0x20f1ea}=_0x1bf055;if(!_0x20f1ea[_0x3b5f81(0x2a0)]){this['throwAndLogError'](_0x3b5f81(0x3e1));return;}if(!_0x3e8c84['replyOptions'][_0x3b5f81(0x568)](_0x3b8b99=>_0x3b8b99[_0x3b5f81(0x2a0)]['toString']()===_0x1bf055['replyOption'][_0x3b5f81(0x2a0)][_0x3b5f81(0x176)]())){this[_0x3b5f81(0x447)](_0x3b5f81(0x384)+_0x20f1ea[_0x3b5f81(0x2a0)]+'\x20não\x20encontrado');return;}_0x3e8c84[_0x3b5f81(0x11d)]=_0x3e8c84[_0x3b5f81(0x11d)][_0x3b5f81(0x7a2)](_0x2f6ba9=>_0x2f6ba9[_0x3b5f81(0x2a0)][_0x3b5f81(0x176)]()!==_0x1bf055['replyOption'][_0x3b5f81(0x2a0)][_0x3b5f81(0x176)]());}async[a0_0x20fba6(0x614)](_0x3f9618,_0x356fa3){const _0x561acf=a0_0x20fba6;let _0x16cfac=_0x3f9618[_0x561acf(0x11d)][_0x561acf(0x831)](_0x1e5ee5=>_0x1e5ee5[_0x561acf(0x2a0)]['toString']()===_0x356fa3[_0x561acf(0x26d)]['_id'][_0x561acf(0x176)]());if(_0x16cfac===-0x1){this[_0x561acf(0x447)](_0x561acf(0x384)+_0x356fa3[_0x561acf(0x26d)][_0x561acf(0x2a0)]+_0x561acf(0x203));return;}for(let _0x231f35 in _0x356fa3[_0x561acf(0x26d)])_0x356fa3['replyOption'][_0x561acf(0x362)](_0x231f35)&&(_0x3f9618[_0x561acf(0x11d)][_0x16cfac][_0x231f35]=_0x356fa3[_0x561acf(0x26d)][_0x231f35]);}[a0_0x20fba6(0x193)](_0x3b5b06,_0x4db5fc){const _0x3df94d=a0_0x20fba6;_0x3b5b06[_0x3df94d(0x11d)]['push'](_0x4db5fc[_0x3df94d(0x26d)]);}async[a0_0x20fba6(0x76d)](_0x2bc562){const _0x149b84=a0_0x20fba6;this['logger'][_0x149b84(0x76b)](this[_0x149b84(0x1b4)]+'\x20('+this[_0x149b84(0x479)][_0x149b84(0x661)]+_0x149b84(0x116)+JSON[_0x149b84(0x27a)](_0x2bc562,null,0x2));try{if(this['logger']['verbose'](this[_0x149b84(0x1b4)]+'\x20('+this[_0x149b84(0x479)][_0x149b84(0x661)]+_0x149b84(0x55e)),!this[_0x149b84(0x52f)][_0x149b84(0x344)][_0x149b84(0x568)](_0x5d642f=>_0x5d642f[_0x149b84(0x2a0)]===_0x2bc562[_0x149b84(0x2a0)]))throw this[_0x149b84(0x421)][_0x149b84(0x76b)](this['instanceName']+'\x20('+this[_0x149b84(0x479)]['wuid']+_0x149b84(0x667)+_0x2bc562[_0x149b84(0x2a0)]+_0x149b84(0x2b2)),new m(_0x149b84(0x579));let _0x32c10=await this[_0x149b84(0x1d5)][_0x149b84(0x233)][_0x149b84(0x79e)]({'where':{'_id':_0x2bc562['_id']}});if(!_0x32c10||!_0x32c10[_0x149b84(0x33d)]?.[_0x149b84(0x4b0)](this['instance']['wuid']))throw this[_0x149b84(0x421)][_0x149b84(0x3b7)](this['instanceName']+'\x20('+this[_0x149b84(0x479)]['wuid']+_0x149b84(0x49a)+_0x2bc562['_id']+_0x149b84(0x716)),new m(_0x149b84(0x46a)+_0x2bc562[_0x149b84(0x2a0)]+_0x149b84(0x716));if(!_0x32c10[_0x149b84(0x5e7)]?.[_0x149b84(0x4b0)](this[_0x149b84(0x479)][_0x149b84(0x661)]))throw new m(_0x149b84(0x838));if(_0x2bc562['group']&&_0x2bc562[_0x149b84(0x74d)]?.[_0x149b84(0x665)]===!0x0){if(this[_0x149b84(0x421)][_0x149b84(0x76b)](this[_0x149b84(0x1b4)]+'\x20('+this['instance'][_0x149b84(0x661)]+_0x149b84(0x33e)),_0x2bc562[_0x149b84(0x74d)]['default']===!0x0)return{'message':_0x149b84(0x50d)};if(_0x32c10[_0x149b84(0x822)]['some'](_0x331c02=>_0x331c02[_0x149b84(0x4e1)]['toString']()===_0x2bc562[_0x149b84(0x74d)][_0x149b84(0x2a0)]))return this[_0x149b84(0x421)][_0x149b84(0x76b)](this[_0x149b84(0x1b4)]+'\x20('+this[_0x149b84(0x479)]['wuid']+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x32c10['groups']=_0x32c10[_0x149b84(0x74c)]['filter'](_0x1d06fc=>_0x1d06fc[_0x149b84(0x2a0)][_0x149b84(0x176)]()!==_0x2bc562[_0x149b84(0x74d)][_0x149b84(0x2a0)]);}else{if(_0x2bc562[_0x149b84(0x74d)]){if(_0x2bc562[_0x149b84(0x74d)][_0x149b84(0x269)]===!0x0)return{'message':_0x149b84(0x833)};if(_0x2bc562[_0x149b84(0x74d)][_0x149b84(0x2a0)]){let _0x2fbfda=_0x32c10['groups'][_0x149b84(0x568)](_0x39f090=>_0x39f090[_0x149b84(0x2a0)][_0x149b84(0x176)]()===_0x2bc562[_0x149b84(0x74d)][_0x149b84(0x2a0)]);_0x2fbfda&&(_0x2bc562[_0x149b84(0x74d)]['x']<0x0&&(_0x2bc562[_0x149b84(0x74d)]['x']=0x0),_0x2bc562[_0x149b84(0x74d)]['y']<0x0&&(_0x2bc562['group']['y']=0x0),Object[_0x149b84(0x3fa)](_0x2fbfda,_0x2bc562[_0x149b84(0x74d)]));}else _0x32c10[_0x149b84(0x74c)][_0x149b84(0x2af)](_0x2bc562[_0x149b84(0x74d)]);}}let _0x218db7=await this['repository'][_0x149b84(0x233)][_0x149b84(0x1e8)](_0x32c10[_0x149b84(0x2a0)],_0x32c10);if(!_0x218db7)throw new Error(_0x149b84(0x472));return _0x218db7;}catch(_0x287b8e){let _0x510cfc=_0x149b84(0x60b),_0x45bf27=_0x287b8e instanceof Error?_0x287b8e[_0x149b84(0x34b)]:typeof _0x287b8e==_0x149b84(0x6ff)?JSON[_0x149b84(0x27a)](_0x287b8e):_0x287b8e,_0x61de27=_0x510cfc+':\x20'+_0x45bf27;throw this[_0x149b84(0x421)][_0x149b84(0x3b7)](this[_0x149b84(0x1b4)]+'\x20('+this[_0x149b84(0x479)]['wuid']+'):\x20'+_0x61de27),new m(_0x61de27);}}async['editFlowCondition'](_0x306c34){const _0x142fbf=a0_0x20fba6;try{if(this[_0x142fbf(0x421)][_0x142fbf(0x76b)](this[_0x142fbf(0x1b4)]+'\x20('+this[_0x142fbf(0x479)][_0x142fbf(0x661)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this['AutomateSystem'][_0x142fbf(0x344)][_0x142fbf(0x568)](_0x1ff62f=>_0x1ff62f[_0x142fbf(0x2a0)]===_0x306c34[_0x142fbf(0x2a0)]))throw this[_0x142fbf(0x421)]['verbose'](this[_0x142fbf(0x1b4)]+'\x20('+this['instance']['wuid']+_0x142fbf(0x667)+_0x306c34[_0x142fbf(0x2a0)]+_0x142fbf(0x2b2)),new m(_0x142fbf(0x579));let _0x1f352f=await this[_0x142fbf(0x1d5)][_0x142fbf(0x233)][_0x142fbf(0x79e)]({'where':{'_id':_0x306c34[_0x142fbf(0x2a0)]}});if(!_0x1f352f||!_0x1f352f[_0x142fbf(0x33d)]?.[_0x142fbf(0x4b0)](this[_0x142fbf(0x479)]['wuid']))throw this[_0x142fbf(0x421)][_0x142fbf(0x3b7)](this[_0x142fbf(0x1b4)]+'\x20('+this[_0x142fbf(0x479)]['wuid']+_0x142fbf(0x49a)+_0x306c34['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x142fbf(0x46a)+_0x306c34[_0x142fbf(0x2a0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1f352f[_0x142fbf(0x5e7)]?.[_0x142fbf(0x4b0)](this['instance'][_0x142fbf(0x661)]))throw new m(_0x142fbf(0x838));let _0x330d89=!0x1;if(_0x306c34[_0x142fbf(0x2c2)]?.[_0x142fbf(0x665)]===!0x0)_0x1f352f[_0x142fbf(0x7df)]=_0x1f352f['conditions'][_0x142fbf(0x7a2)](_0x3a0fab=>_0x3a0fab&&_0x306c34[_0x142fbf(0x2c2)]&&_0x3a0fab[_0x142fbf(0x2a0)]&&_0x306c34[_0x142fbf(0x2c2)][_0x142fbf(0x2a0)]&&_0x3a0fab[_0x142fbf(0x2a0)][_0x142fbf(0x176)]()!==_0x306c34[_0x142fbf(0x2c2)]['_id'][_0x142fbf(0x176)]()),_0x330d89=!0x0;else{let _0x3088a7=_0x1f352f[_0x142fbf(0x7df)][_0x142fbf(0x568)](_0x5a339d=>_0x5a339d&&_0x306c34[_0x142fbf(0x2c2)]&&_0x5a339d['_id']&&_0x306c34['condition'][_0x142fbf(0x2a0)]&&_0x5a339d[_0x142fbf(0x2a0)][_0x142fbf(0x176)]()===_0x306c34[_0x142fbf(0x2c2)][_0x142fbf(0x2a0)]['toString']());_0x3088a7?(_0x330d89=_0x3088a7['order']!==_0x306c34[_0x142fbf(0x2c2)][_0x142fbf(0x3ba)],Object[_0x142fbf(0x3fa)](_0x3088a7,_0x306c34[_0x142fbf(0x2c2)])):(_0x1f352f['conditions']['push'](_0x306c34[_0x142fbf(0x2c2)]),_0x330d89=!0x0);}if(_0x330d89){_0x1f352f['conditions'][_0x142fbf(0x529)]((_0x2b00fb,_0x320254)=>_0x2b00fb[_0x142fbf(0x3ba)]>_0x320254['order']?0x1:_0x320254['order']>_0x2b00fb[_0x142fbf(0x3ba)]?-0x1:0x0);for(let _0x478632=0x0;_0x478632<_0x1f352f['conditions'][_0x142fbf(0x21c)];_0x478632++)_0x1f352f[_0x142fbf(0x7df)][_0x478632][_0x142fbf(0x3ba)]=_0x478632+0x1;_0x1f352f[_0x142fbf(0x7df)]['length']>0x0&&(_0x1f352f[_0x142fbf(0x7df)][0x0][_0x142fbf(0x4d5)]='and');}let _0x50fae1=await this[_0x142fbf(0x1d5)][_0x142fbf(0x233)][_0x142fbf(0x1e8)](_0x1f352f[_0x142fbf(0x2a0)],_0x1f352f);if(!_0x50fae1)throw new Error(_0x142fbf(0x472));return _0x50fae1;}catch(_0x181215){let _0x93928=_0x142fbf(0x841),_0xe9312a=_0x181215 instanceof Error?_0x181215[_0x142fbf(0x34b)]:typeof _0x181215==_0x142fbf(0x6ff)?JSON[_0x142fbf(0x27a)](_0x181215):_0x181215,_0x1cc5e4=_0x93928+':\x20'+_0xe9312a;throw this['logger'][_0x142fbf(0x3b7)](this['instanceName']+'\x20('+this[_0x142fbf(0x479)][_0x142fbf(0x661)]+'):\x20'+_0x1cc5e4),new m(_0x1cc5e4);}}async[a0_0x20fba6(0x518)](_0x3d72e0){const _0x19f325=a0_0x20fba6;try{if(this['logger'][_0x19f325(0x76b)](this[_0x19f325(0x1b4)]+'\x20('+this[_0x19f325(0x479)]['wuid']+_0x19f325(0x586)),!this['AutomateSystem'][_0x19f325(0x344)][_0x19f325(0x568)](_0x4e1d71=>_0x4e1d71[_0x19f325(0x2a0)]===_0x3d72e0[_0x19f325(0x2a0)]))throw this['logger'][_0x19f325(0x76b)](this[_0x19f325(0x1b4)]+'\x20('+this[_0x19f325(0x479)][_0x19f325(0x661)]+_0x19f325(0x667)+_0x3d72e0[_0x19f325(0x2a0)]+_0x19f325(0x2b2)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2f438f=await this['repository']['flow'][_0x19f325(0x79e)]({'where':{'_id':_0x3d72e0[_0x19f325(0x2a0)]}});if(!_0x2f438f||!_0x2f438f[_0x19f325(0x33d)]?.[_0x19f325(0x4b0)](this['instance'][_0x19f325(0x661)]))throw this[_0x19f325(0x421)]['error'](this[_0x19f325(0x1b4)]+'\x20('+this[_0x19f325(0x479)][_0x19f325(0x661)]+_0x19f325(0x49a)+_0x3d72e0[_0x19f325(0x2a0)]+_0x19f325(0x716)),new m(_0x19f325(0x46a)+_0x3d72e0[_0x19f325(0x2a0)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x2f438f[_0x19f325(0x5e7)]?.['includes'](this['instance'][_0x19f325(0x661)]))throw new m(_0x19f325(0x838));let _0x1daa03=!0x1;if(_0x3d72e0[_0x19f325(0x673)]?.[_0x19f325(0x665)]===!0x0)_0x2f438f[_0x19f325(0x46c)]=_0x2f438f[_0x19f325(0x46c)][_0x19f325(0x7a2)](_0x6b6935=>_0x6b6935&&_0x3d72e0[_0x19f325(0x673)]&&_0x6b6935[_0x19f325(0x2a0)]&&_0x3d72e0[_0x19f325(0x673)][_0x19f325(0x2a0)]&&_0x6b6935['_id'][_0x19f325(0x176)]()!==_0x3d72e0[_0x19f325(0x673)][_0x19f325(0x2a0)][_0x19f325(0x176)]()),_0x1daa03=!0x0;else{let _0x2d9e67=_0x2f438f['varedits'][_0x19f325(0x568)](_0x1c4c6c=>_0x1c4c6c&&_0x3d72e0[_0x19f325(0x673)]&&_0x1c4c6c['_id']&&_0x3d72e0[_0x19f325(0x673)][_0x19f325(0x2a0)]&&_0x1c4c6c[_0x19f325(0x2a0)][_0x19f325(0x176)]()===_0x3d72e0[_0x19f325(0x673)]['_id']['toString']());_0x2d9e67?(_0x1daa03=_0x2d9e67[_0x19f325(0x3ba)]!==_0x3d72e0[_0x19f325(0x673)][_0x19f325(0x3ba)],Object['assign'](_0x2d9e67,_0x3d72e0[_0x19f325(0x673)])):(_0x2f438f['varedits'][_0x19f325(0x2af)](_0x3d72e0[_0x19f325(0x673)]),_0x1daa03=!0x0);}if(_0x1daa03){_0x2f438f[_0x19f325(0x46c)][_0x19f325(0x529)]((_0x1aea62,_0xae2e4a)=>_0x1aea62[_0x19f325(0x3ba)]>_0xae2e4a[_0x19f325(0x3ba)]?0x1:_0xae2e4a[_0x19f325(0x3ba)]>_0x1aea62[_0x19f325(0x3ba)]?-0x1:0x0);for(let _0x191389=0x0;_0x191389<_0x2f438f['varedits'][_0x19f325(0x21c)];_0x191389++)_0x2f438f[_0x19f325(0x46c)][_0x191389][_0x19f325(0x3ba)]=_0x191389+0x1;}let _0x31e551=await this['repository']['flow']['updateOne'](_0x2f438f[_0x19f325(0x2a0)],_0x2f438f);if(!_0x31e551)throw new Error(_0x19f325(0x472));return _0x31e551;}catch(_0x5c581a){let _0x3b3fd4='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x572d25=_0x5c581a instanceof Error?_0x5c581a[_0x19f325(0x34b)]:typeof _0x5c581a==_0x19f325(0x6ff)?JSON[_0x19f325(0x27a)](_0x5c581a):_0x5c581a,_0x272c00=_0x3b3fd4+':\x20'+_0x572d25;throw this[_0x19f325(0x421)][_0x19f325(0x3b7)](this[_0x19f325(0x1b4)]+'\x20('+this[_0x19f325(0x479)]['wuid']+_0x19f325(0x54d)+_0x272c00),new m(_0x272c00);}}async[a0_0x20fba6(0x294)](_0xd499ed){const _0x12b342=a0_0x20fba6;try{if(this['logger'][_0x12b342(0x76b)](this['instanceName']+'\x20('+this[_0x12b342(0x479)][_0x12b342(0x661)]+_0x12b342(0x61e)),!this[_0x12b342(0x52f)][_0x12b342(0x344)][_0x12b342(0x568)](_0x341c1e=>_0x341c1e['_id']===_0xd499ed['_id']))throw this[_0x12b342(0x421)][_0x12b342(0x76b)](this[_0x12b342(0x1b4)]+'\x20('+this[_0x12b342(0x479)][_0x12b342(0x661)]+_0x12b342(0x667)+_0xd499ed[_0x12b342(0x2a0)]+'\x27\x20não\x20encontrado'),new m(_0x12b342(0x579));let _0x582391=await this[_0x12b342(0x1d5)][_0x12b342(0x233)]['findOne']({'where':{'_id':_0xd499ed[_0x12b342(0x2a0)]}});if(!_0x582391||!_0x582391[_0x12b342(0x33d)]?.[_0x12b342(0x4b0)](this[_0x12b342(0x479)][_0x12b342(0x661)]))throw this[_0x12b342(0x421)]['error'](this[_0x12b342(0x1b4)]+'\x20('+this[_0x12b342(0x479)][_0x12b342(0x661)]+_0x12b342(0x49a)+_0xd499ed[_0x12b342(0x2a0)]+_0x12b342(0x716)),new m(_0x12b342(0x46a)+_0xd499ed[_0x12b342(0x2a0)]+_0x12b342(0x716));if(!_0x582391['whoCanEdit']?.[_0x12b342(0x4b0)](this[_0x12b342(0x479)][_0x12b342(0x661)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');_0xd499ed[_0x12b342(0x18d)][_0x12b342(0x217)]=_0xd499ed['variable'][_0x12b342(0x217)][_0x12b342(0x5b8)](),_0xd499ed[_0x12b342(0x18d)][_0x12b342(0x217)]['startsWith']('_')&&(_0xd499ed[_0x12b342(0x18d)][_0x12b342(0x217)]=_0xd499ed['variable']['name']['substring'](0x1)),_0xd499ed[_0x12b342(0x18d)][_0x12b342(0x217)]=_0xd499ed['variable'][_0x12b342(0x217)][_0x12b342(0x5b8)]();let _0x1e9eb9=_0x582391['variables']['find'](_0x125111=>_0x125111['name']===_0xd499ed[_0x12b342(0x18d)][_0x12b342(0x217)]);if(_0x1e9eb9?.[_0x12b342(0x6ab)]===!0x0)throw new Error(_0x12b342(0x492));if(_0xd499ed[_0x12b342(0x18d)]?.[_0x12b342(0x665)]===!0x0){if(!_0x1e9eb9)return{'message':_0x12b342(0x80e)};_0x582391['variables']=_0x582391[_0x12b342(0x657)][_0x12b342(0x7a2)](_0xea189a=>_0xea189a[_0x12b342(0x217)]!==_0xd499ed[_0x12b342(0x18d)][_0x12b342(0x217)]);}else _0x1e9eb9?Object[_0x12b342(0x3fa)](_0x1e9eb9,_0xd499ed[_0x12b342(0x18d)]):_0x582391[_0x12b342(0x657)][_0x12b342(0x2af)](_0xd499ed[_0x12b342(0x18d)]);let _0x30befa=await this[_0x12b342(0x1d5)][_0x12b342(0x233)][_0x12b342(0x1e8)](_0x582391[_0x12b342(0x2a0)],_0x582391);if(!_0x30befa)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x30befa;}catch(_0x2df0e0){let _0xccff34=_0x12b342(0x5ef),_0x3f7218=_0x2df0e0 instanceof Error?_0x2df0e0[_0x12b342(0x34b)]:typeof _0x2df0e0==_0x12b342(0x6ff)?JSON['stringify'](_0x2df0e0):_0x2df0e0,_0x24cb6f=_0xccff34+':\x20'+_0x3f7218;throw this[_0x12b342(0x421)][_0x12b342(0x3b7)](this[_0x12b342(0x1b4)]+'\x20('+this['instance'][_0x12b342(0x661)]+'):\x20'+_0x24cb6f),new m(_0x24cb6f);}}async['startFlow'](_0x57f136){const _0x5b9dc6=a0_0x20fba6;let _0x802063=null;try{if(!this[_0x5b9dc6(0x52f)]?.[_0x5b9dc6(0x1f9)][_0x5b9dc6(0x73f)])throw new m(_0x5b9dc6(0x252));this['logger'][_0x5b9dc6(0x76b)](this[_0x5b9dc6(0x1b4)]+'\x20('+this[_0x5b9dc6(0x479)][_0x5b9dc6(0x661)]+_0x5b9dc6(0x85a));let _0x45b375=(await this[_0x5b9dc6(0x43c)]({'numbers':[_0x57f136['remoteJid']]}))[0x0];if(!_0x45b375['exists']&&!(0x0,w['isJidGroup'])(_0x45b375[_0x5b9dc6(0x4b4)])&&!_0x45b375[_0x5b9dc6(0x4b4)]['includes'](_0x5b9dc6(0x520)))throw _0x802063=JSON[_0x5b9dc6(0x27a)](_0x45b375,null,0x2),new m(_0x45b375);let _0x2c9d48;if(_0x57f136[_0x5b9dc6(0x217)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x5b9dc6(0x69d)](_0x57f136[_0x5b9dc6(0x217)])?_0x2c9d48=this['AutomateSystem']['flows'][_0x5b9dc6(0x568)](_0x589c28=>_0x589c28['_id']===_0x57f136['name']):_0x2c9d48=this['AutomateSystem'][_0x5b9dc6(0x344)][_0x5b9dc6(0x568)](_0x3427d2=>_0x3427d2[_0x5b9dc6(0x217)]===_0x57f136[_0x5b9dc6(0x217)]),!_0x2c9d48)throw this[_0x5b9dc6(0x421)][_0x5b9dc6(0x76b)](this['instanceName']+'\x20('+this[_0x5b9dc6(0x479)][_0x5b9dc6(0x661)]+_0x5b9dc6(0x667)+_0x57f136[_0x5b9dc6(0x217)]+_0x5b9dc6(0x2b2)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1e7b9a=await this[_0x5b9dc6(0x1d5)][_0x5b9dc6(0x233)][_0x5b9dc6(0x79e)]({'where':{'_id':_0x2c9d48[_0x5b9dc6(0x2a0)]}});if(!_0x1e7b9a||!_0x1e7b9a[_0x5b9dc6(0x33d)]?.[_0x5b9dc6(0x4b0)](this[_0x5b9dc6(0x479)][_0x5b9dc6(0x661)]))throw this['logger'][_0x5b9dc6(0x3b7)](this[_0x5b9dc6(0x1b4)]+'\x20('+this[_0x5b9dc6(0x479)]['wuid']+_0x5b9dc6(0x49a)+_0x2c9d48['_id']+_0x5b9dc6(0x716)),_0x802063='Flow\x20\x27'+_0x2c9d48['_id']+_0x5b9dc6(0x716),new m(_0x802063);let _0x127dc8=await this[_0x5b9dc6(0x264)](_0x1e7b9a,_0x45b375['jid'],_0x57f136[_0x5b9dc6(0x6b8)]);if(_0x127dc8){this[_0x5b9dc6(0x421)][_0x5b9dc6(0x76b)](this[_0x5b9dc6(0x1b4)]+'\x20('+this[_0x5b9dc6(0x479)][_0x5b9dc6(0x661)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0x130fc6=await this['NextBlock'](_0x127dc8);return _0x130fc6&&await this['processblock'](_0x127dc8,_0x130fc6),{'message':'Flow\x20iniciado\x20com\x20'+_0x57f136[_0x5b9dc6(0x5bc)]};}}catch(_0x334257){if(this[_0x5b9dc6(0x421)][_0x5b9dc6(0x3b7)](this['instanceName']+'\x20('+this['instance'][_0x5b9dc6(0x661)]+_0x5b9dc6(0x570)+(_0x334257 instanceof Error?_0x334257[_0x5b9dc6(0x34b)]:JSON[_0x5b9dc6(0x27a)](_0x334257,null,0x2))),_0x802063=_0x334257 instanceof Error?_0x334257[_0x5b9dc6(0x34b)]:JSON[_0x5b9dc6(0x27a)](_0x334257,null,0x2),_0x802063)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x802063);}}async[a0_0x20fba6(0x4cf)](_0x3adaa6,_0x562dc9,_0x8b4b92){const _0x1f3a32=a0_0x20fba6;let _0x865dad=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x1f3a32(0x73f)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this['logger'][_0x1f3a32(0x76b)](this[_0x1f3a32(0x1b4)]+'\x20('+this[_0x1f3a32(0x479)][_0x1f3a32(0x661)]+_0x1f3a32(0x85a)),_0x562dc9){let _0x5a1f57=(await this['whatsappNumber']({'numbers':[_0x562dc9]}))[0x0];if(!_0x5a1f57[_0x1f3a32(0x478)]&&!(0x0,w[_0x1f3a32(0x6d6)])(_0x5a1f57[_0x1f3a32(0x4b4)])&&!_0x5a1f57['jid'][_0x1f3a32(0x4b0)](_0x1f3a32(0x520)))throw _0x865dad=JSON['stringify'](_0x5a1f57,null,0x2),new m(_0x5a1f57);_0x562dc9=_0x5a1f57['jid'];}else _0x562dc9||(_0x562dc9=(0x0,X['v4'])());let _0x8c1434=await this[_0x1f3a32(0x1d5)][_0x1f3a32(0x233)][_0x1f3a32(0x79e)]({'where':{'_id':_0x3adaa6}});if(!_0x8c1434||!_0x8c1434[_0x1f3a32(0x33d)]?.[_0x1f3a32(0x4b0)](this[_0x1f3a32(0x479)]['wuid']))throw this[_0x1f3a32(0x421)][_0x1f3a32(0x3b7)](this[_0x1f3a32(0x1b4)]+'\x20('+this[_0x1f3a32(0x479)][_0x1f3a32(0x661)]+_0x1f3a32(0x49a)+_0x3adaa6+_0x1f3a32(0x716)),new m('Flow\x20\x27'+_0x3adaa6+_0x1f3a32(0x716));let _0x30fcf6=await this[_0x1f3a32(0x264)](_0x8c1434,_0x562dc9,null);if(_0x30fcf6){this[_0x1f3a32(0x421)][_0x1f3a32(0x76b)](this[_0x1f3a32(0x1b4)]+'\x20('+this[_0x1f3a32(0x479)]['wuid']+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x45a8fc;if(_0x8b4b92){let _0x2dd90a=_0x30fcf6[_0x1f3a32(0x5ea)][_0x1f3a32(0x230)],_0x4838d4=this['flattenObject'](_0x8b4b92);Object[_0x1f3a32(0x3fa)](_0x2dd90a,_0x4838d4),_0x30fcf6['chatLog'][_0x1f3a32(0x230)]=_0x2dd90a,_0x45a8fc={'error':!0x1,'apiResponse':_0x8b4b92};}let _0xb64406=await this[_0x1f3a32(0x119)](_0x30fcf6);return _0xb64406&&await this[_0x1f3a32(0x3f3)](_0x30fcf6,_0xb64406),{'message':_0x1f3a32(0x340)};}}catch(_0xc64f14){if(this[_0x1f3a32(0x421)][_0x1f3a32(0x3b7)](this[_0x1f3a32(0x1b4)]+'\x20('+this['instance'][_0x1f3a32(0x661)]+_0x1f3a32(0x570)+(_0xc64f14 instanceof Error?_0xc64f14[_0x1f3a32(0x34b)]:JSON[_0x1f3a32(0x27a)](_0xc64f14,null,0x2))),_0x865dad=_0xc64f14 instanceof Error?_0xc64f14[_0x1f3a32(0x34b)]:JSON[_0x1f3a32(0x27a)](_0xc64f14,null,0x2),_0x865dad)throw new m(_0x1f3a32(0x786)+_0x865dad);}}async[a0_0x20fba6(0x12f)](_0x59a704){const _0x5b4d3f=a0_0x20fba6;try{let _0x16f74f={'remoteJid':_0x59a704,'status':'open'},_0x4bca0e={'status':_0x5b4d3f(0x1c9)},_0x1ba116=await this[_0x5b4d3f(0x1d5)][_0x5b4d3f(0x2f2)][_0x5b4d3f(0x3eb)](_0x16f74f,_0x4bca0e,this[_0x5b4d3f(0x479)][_0x5b4d3f(0x661)]);return this[_0x5b4d3f(0x421)][_0x5b4d3f(0x76b)](this[_0x5b4d3f(0x1b4)]+'\x20('+this['instance'][_0x5b4d3f(0x661)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x1ba116;}catch(_0x328583){throw this[_0x5b4d3f(0x421)][_0x5b4d3f(0x3b7)](this[_0x5b4d3f(0x1b4)]+'\x20('+this['instance'][_0x5b4d3f(0x661)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x328583['message']),_0x328583;}}async[a0_0x20fba6(0x264)](_0x296110,_0x903595,_0x2e2a7a){const _0x1e6b6c=a0_0x20fba6;this['logger']['verbose'](this[_0x1e6b6c(0x1b4)]+'\x20('+this[_0x1e6b6c(0x479)][_0x1e6b6c(0x661)]+_0x1e6b6c(0x86b)),await this[_0x1e6b6c(0x12f)](_0x903595);try{let _0x1bb94b=require(_0x1e6b6c(0x3d0))[_0x1e6b6c(0x671)],_0x3aee70=Date[_0x1e6b6c(0x1a6)](),_0x33fc60=_0x1e6b6c(0x6c0),_0x4d781a={},_0xc497b4={},_0x5d02e3=this[_0x1e6b6c(0x52f)][_0x1e6b6c(0x344)][_0x1e6b6c(0x568)](_0x1fc7f2=>_0x1fc7f2[_0x1e6b6c(0x2a0)]===_0x296110[_0x1e6b6c(0x2a0)]?.[_0x1e6b6c(0x176)]()),_0x523fd5=_0x5d02e3?.[_0x1e6b6c(0x2f5)]??_0x296110[_0x1e6b6c(0x2f5)]??0x0,_0x26a5db=_0x5d02e3?.[_0x1e6b6c(0x39a)]??_0x296110[_0x1e6b6c(0x39a)]??!0x1,_0x29940c={'flowId':_0x296110[_0x1e6b6c(0x2a0)],..._0x296110,'chatLog':null},_0x445ad1=await this[_0x1e6b6c(0x276)](_0x29940c[_0x1e6b6c(0x657)]),_0x285e1e=await this[_0x1e6b6c(0x35d)](_0x903595),_0x5e204b={..._0x445ad1,..._0x285e1e,'_remoteJid':_0x903595},_0x1a149f={'lastReceivedMessage':_0x4d781a,'lastSendMessage':_0xc497b4,'lastBlockId':_0x33fc60,'lastCondition':!0x0,'realVariables':_0x5e204b};_0x29940c[_0x1e6b6c(0x5ea)]=_0x1a149f,_0x29940c[_0x1e6b6c(0x5ea)][_0x1e6b6c(0x230)]={..._0x5e204b,..._0x2e2a7a},delete _0x29940c['_id'],_0x29940c[_0x1e6b6c(0x2a0)]=new _0x1bb94b(),_0x29940c[_0x1e6b6c(0x639)]=_0x3aee70,_0x29940c[_0x1e6b6c(0x59e)]=_0x1e6b6c(0x637),_0x29940c['remoteJid']=_0x903595,_0x29940c['minutesToClose']=_0x523fd5,_0x29940c['readMessages']=_0x26a5db,_0x29940c[_0x1e6b6c(0x2a0)]=_0x296110['_id'];let _0x37e00d=await this[_0x1e6b6c(0x1d5)][_0x1e6b6c(0x2f2)][_0x1e6b6c(0x1e8)](_0x29940c[_0x1e6b6c(0x2a0)],_0x29940c,this[_0x1e6b6c(0x479)][_0x1e6b6c(0x661)]);return this[_0x1e6b6c(0x421)]['verbose'](this['instanceName']+'\x20('+this[_0x1e6b6c(0x479)][_0x1e6b6c(0x661)]+_0x1e6b6c(0x7fb)),_0x37e00d?_0x29940c:null;}catch(_0x4188fc){let _0x355743=_0x1e6b6c(0x858),_0x4cbf0f=_0x4188fc instanceof Error?_0x4188fc['message']:typeof _0x4188fc==_0x1e6b6c(0x6ff)?JSON[_0x1e6b6c(0x27a)](_0x4188fc):_0x4188fc,_0x5a7fd6=_0x355743+':\x20'+_0x4cbf0f;throw this[_0x1e6b6c(0x421)][_0x1e6b6c(0x3b7)](this[_0x1e6b6c(0x1b4)]+'\x20('+this['instance'][_0x1e6b6c(0x661)]+_0x1e6b6c(0x54d)+_0x5a7fd6),new m(_0x5a7fd6);}}async[a0_0x20fba6(0x5d4)](_0x2f18c9){const _0x485d01=a0_0x20fba6;try{this[_0x485d01(0x421)][_0x485d01(0x76b)](this[_0x485d01(0x1b4)]+'\x20('+this['instance'][_0x485d01(0x661)]+_0x485d01(0x4ae)),this[_0x485d01(0x421)][_0x485d01(0x76b)](this['instanceName']+'\x20('+this[_0x485d01(0x479)]['wuid']+_0x485d01(0x642)+_0x2f18c9);let _0x21a83c={'where':{'_id':_0x2f18c9}};return await this[_0x485d01(0x1d5)][_0x485d01(0x2f2)][_0x485d01(0x79e)](_0x21a83c,this[_0x485d01(0x479)][_0x485d01(0x661)]);}catch(_0x691e98){let _0x43831f=_0x485d01(0x4dd),_0x40f1ed=_0x691e98 instanceof Error?_0x691e98[_0x485d01(0x34b)]:typeof _0x691e98==_0x485d01(0x6ff)?JSON['stringify'](_0x691e98):_0x691e98,_0x106868=_0x43831f+':\x20'+_0x40f1ed;throw this[_0x485d01(0x421)][_0x485d01(0x3b7)](this[_0x485d01(0x1b4)]+'\x20('+this[_0x485d01(0x479)]['wuid']+_0x485d01(0x54d)+_0x106868),new m(_0x106868);}}async[a0_0x20fba6(0x616)](_0x2a7210){const _0x90b9dd=a0_0x20fba6;try{return this[_0x90b9dd(0x421)]['verbose'](this[_0x90b9dd(0x1b4)]+'\x20('+this[_0x90b9dd(0x479)][_0x90b9dd(0x661)]+_0x90b9dd(0x4d1)),await this['repository'][_0x90b9dd(0x2f2)][_0x90b9dd(0x568)](_0x2a7210,this[_0x90b9dd(0x479)][_0x90b9dd(0x661)]);}catch(_0x13cfd5){let _0x58e667=_0x90b9dd(0x753),_0x5b6267=_0x13cfd5 instanceof Error?_0x13cfd5[_0x90b9dd(0x34b)]:typeof _0x13cfd5==_0x90b9dd(0x6ff)?JSON[_0x90b9dd(0x27a)](_0x13cfd5):_0x13cfd5,_0x18dd5d=_0x58e667+':\x20'+_0x5b6267;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x90b9dd(0x661)]+_0x90b9dd(0x54d)+_0x18dd5d),new m(_0x18dd5d);}}async['deleteConversation'](_0x4f56a9){const _0x872a19=a0_0x20fba6;try{return this[_0x872a19(0x421)][_0x872a19(0x76b)](this[_0x872a19(0x1b4)]+'\x20('+this[_0x872a19(0x479)][_0x872a19(0x661)]+'):\x20Deletando\x20conversa...'),this[_0x872a19(0x421)][_0x872a19(0x76b)](this['instanceName']+'\x20('+this[_0x872a19(0x479)]['wuid']+'):\x20Query\x20params:'+_0x4f56a9),(await this['repository'][_0x872a19(0x2f2)][_0x872a19(0x763)]({'where':{'_id':_0x4f56a9[_0x872a19(0x2a0)]}},this['instance'][_0x872a19(0x661)]))[_0x872a19(0x16e)]===0x0?{'message':_0x872a19(0x46b)}:{'message':_0x872a19(0x13f)};}catch(_0x261887){let _0x423361=_0x872a19(0x583),_0x4aeff8=_0x261887 instanceof Error?_0x261887[_0x872a19(0x34b)]:typeof _0x261887=='object'?JSON[_0x872a19(0x27a)](_0x261887):_0x261887,_0x14f0e9=_0x423361+':\x20'+_0x4aeff8;throw this[_0x872a19(0x421)][_0x872a19(0x3b7)](this['instanceName']+'\x20('+this[_0x872a19(0x479)]['wuid']+_0x872a19(0x54d)+_0x14f0e9),new m(_0x14f0e9);}}async[a0_0x20fba6(0x7a1)](_0x5003fd){const _0x3c6c43=a0_0x20fba6;try{let {_id:_0x15e19a,chatLog:_0x176d93,status:_0x4af2e8}=_0x5003fd;if(!_0x15e19a)return{'message':_0x3c6c43(0x402)};let _0x5de0ef={};if(_0x4af2e8!==void 0x0&&(_0x5de0ef[_0x3c6c43(0x59e)]=_0x4af2e8),Object[_0x3c6c43(0x1c7)](_0x5de0ef)[_0x3c6c43(0x21c)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x1e9b7e=await this[_0x3c6c43(0x1d5)][_0x3c6c43(0x2f2)]['updateOne'](_0x15e19a,_0x5de0ef,this['instance'][_0x3c6c43(0x661)]);return _0x1e9b7e||{'message':_0x3c6c43(0x207)};}catch(_0xcce227){let _0x18bb89='Erro\x20ao\x20editar\x20a\x20conversa',_0xf25409=_0xcce227 instanceof Error?_0xcce227[_0x3c6c43(0x34b)]:typeof _0xcce227==_0x3c6c43(0x6ff)?JSON[_0x3c6c43(0x27a)](_0xcce227):_0xcce227,_0x1a0722=_0x18bb89+':\x20'+_0xf25409;throw this[_0x3c6c43(0x421)][_0x3c6c43(0x3b7)](this[_0x3c6c43(0x1b4)]+'\x20('+this[_0x3c6c43(0x479)]['wuid']+'):\x20'+_0x1a0722),new m(_0x1a0722);}}async[a0_0x20fba6(0x704)](_0x34fd24){const _0xb9c2e7=a0_0x20fba6;try{_0x34fd24[_0xb9c2e7(0x2a0)]=this[_0xb9c2e7(0x2c0)](_0x34fd24[_0xb9c2e7(0x2a0)]);let _0x53b1e2=await this['repository']['chat'][_0xb9c2e7(0x79e)]({'where':{'_id':_0x34fd24[_0xb9c2e7(0x2a0)]}},this[_0xb9c2e7(0x479)][_0xb9c2e7(0x661)]);if(!_0x53b1e2)throw new m(_0xb9c2e7(0x5eb));let {_id:_0x121526,leadInfo:_0x3cea1c}=_0x34fd24;if(!_0x121526)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x34fd24['delete']===_0xb9c2e7(0x1f6))return await this[_0xb9c2e7(0x644)](_0x34fd24['_id']),await this[_0xb9c2e7(0x1d5)][_0xb9c2e7(0x4a4)]['delete']({'where':{'_id':_0x34fd24['_id']}},this['instance']['wuid']),await this['repository'][_0xb9c2e7(0x34b)][_0xb9c2e7(0x665)]({'where':{'key':{'remoteJid':_0x34fd24[_0xb9c2e7(0x2a0)]}}},this[_0xb9c2e7(0x479)][_0xb9c2e7(0x661)]),_0x34fd24=await this[_0xb9c2e7(0x1d5)][_0xb9c2e7(0x4a4)][_0xb9c2e7(0x1e8)]({'where':{'_id':_0x34fd24[_0xb9c2e7(0x2a0)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xb9c2e7(0x479)]['wuid']),J(this['instanceName'],_0xb9c2e7(0x6f9),{'chat':_0x34fd24}),{'message':_0xb9c2e7(0x106)};if(_0x34fd24['delete']===_0xb9c2e7(0x7e5))return await this[_0xb9c2e7(0x1d5)]['message'][_0xb9c2e7(0x665)]({'where':{'key':{'remoteJid':_0x34fd24['_id']}}},this[_0xb9c2e7(0x479)][_0xb9c2e7(0x661)]),_0x34fd24=await this[_0xb9c2e7(0x1d5)]['chat'][_0xb9c2e7(0x1e8)]({'where':{'_id':_0x34fd24[_0xb9c2e7(0x2a0)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xb9c2e7(0x479)][_0xb9c2e7(0x661)]),J(this[_0xb9c2e7(0x1b4)],_0xb9c2e7(0x6f9),{'chat':_0x34fd24}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x5d0669=(_0x4662ac,_0x50978a,_0x2f6b45)=>{const _0x1872d8=_0xb9c2e7;_0x4662ac&&_0x2f6b45[_0x1872d8(0x871)](_0x4e6862=>{const _0x11c0a2=_0x1872d8;_0x4662ac[_0x4e6862]!==void 0x0&&(_0x50978a[_0x11c0a2(0x48c)+_0x4e6862]=_0x4662ac[_0x4e6862]);});},_0xc84db={};if(_0xb9c2e7(0x7dc)in _0x34fd24&&(this[_0xb9c2e7(0x421)][_0xb9c2e7(0x76b)](this[_0xb9c2e7(0x1b4)]+'\x20('+this[_0xb9c2e7(0x479)]['wuid']+_0xb9c2e7(0x742)+_0x34fd24[_0xb9c2e7(0x2a0)]),_0x34fd24[_0xb9c2e7(0x7dc)]=_0x34fd24[_0xb9c2e7(0x7dc)]===0x0?null:-0x1,await this[_0xb9c2e7(0x483)][_0xb9c2e7(0x4aa)]({'mute':_0x34fd24[_0xb9c2e7(0x7dc)]},_0x34fd24[_0xb9c2e7(0x2a0)]),_0xc84db[_0xb9c2e7(0x7dc)]=Number(_0x34fd24[_0xb9c2e7(0x7dc)])),_0x3cea1c&&(_0x5d0669(_0x3cea1c,_0xc84db,['nome',_0xb9c2e7(0x56b),_0xb9c2e7(0x205),_0xb9c2e7(0x172),'status',_0xb9c2e7(0x281),_0xb9c2e7(0x724),'atendimentoAberto',_0xb9c2e7(0x2d6),_0xb9c2e7(0x75b),_0xb9c2e7(0x701)]),Array[_0xb9c2e7(0x5e4)](_0x3cea1c['customFields'])&&(_0xc84db[_0xb9c2e7(0x2d4)]=_0x3cea1c['customFields'][_0xb9c2e7(0x5a9)](_0x5681fe=>({'_id':_0x5681fe['_id'],'value':_0x5681fe[_0xb9c2e7(0x38b)]}))),_0x34fd24['leadInfo'][_0xb9c2e7(0x75b)]!==void 0x0)){let _0x10f7a9=await this['repository'][_0xb9c2e7(0x3b8)]['find']({'where':{}},this[_0xb9c2e7(0x479)][_0xb9c2e7(0x661)]),_0x3ddf90=new Set(_0x34fd24[_0xb9c2e7(0x6ab)][_0xb9c2e7(0x75b)]||[]),_0x1bce08=new Set(_0x34fd24[_0xb9c2e7(0x6ab)][_0xb9c2e7(0x75b)]),_0x420d33=new Set(_0x10f7a9['map'](_0x4f2c66=>_0x4f2c66[_0xb9c2e7(0x2a0)])),_0x3d2ed2=[..._0x1bce08][_0xb9c2e7(0x7a2)](_0x31fe22=>!_0x3ddf90[_0xb9c2e7(0x7f8)](_0x31fe22)&&_0x420d33['has'](_0x31fe22)),_0x4e4059=[..._0x3ddf90]['filter'](_0x5327ea=>!_0x1bce08[_0xb9c2e7(0x7f8)](_0x5327ea));if(_0xc84db[_0xb9c2e7(0x510)]=[..._0x3ddf90],_0x53b1e2&&!_0x53b1e2[_0xb9c2e7(0x65b)]){for(let _0x147e9e of _0x3d2ed2)await this['AddChatLabel'](_0x147e9e,_0x34fd24[_0xb9c2e7(0x2a0)]),_0x3ddf90[_0xb9c2e7(0x86c)](_0x147e9e);for(let _0x6df7ac of _0x4e4059)await this[_0xb9c2e7(0x829)](_0x6df7ac,_0x34fd24[_0xb9c2e7(0x2a0)]),_0x3ddf90['delete'](_0x6df7ac);}}if(_0x34fd24[_0xb9c2e7(0x519)]!==void 0x0&&(_0xc84db[_0xb9c2e7(0x519)]=Number(_0x34fd24[_0xb9c2e7(0x519)])),Object[_0xb9c2e7(0x1c7)](_0xc84db)[_0xb9c2e7(0x21c)]===0x0)throw new Error(_0xb9c2e7(0x71c));let _0x3caec7=await this[_0xb9c2e7(0x1d5)][_0xb9c2e7(0x4a4)]['updateOne']({'where':{'_id':_0x34fd24[_0xb9c2e7(0x2a0)]}},_0xc84db,this[_0xb9c2e7(0x479)]['wuid']);return _0x3caec7&&J(this['instanceName'],_0xb9c2e7(0x6f9),{'chat':_0x3caec7}),_0x3caec7?(this[_0xb9c2e7(0x421)][_0xb9c2e7(0x76b)](this['instanceName']+'\x20('+this[_0xb9c2e7(0x479)][_0xb9c2e7(0x661)]+_0xb9c2e7(0x54d)+JSON[_0xb9c2e7(0x27a)](_0x3caec7,null,0x2)),_0x3caec7):{'message':_0xb9c2e7(0x1e5)};}catch(_0x1f8849){let _0x4af653=_0xb9c2e7(0x745),_0x426502=_0x1f8849 instanceof Error?_0x1f8849['message']:typeof _0x1f8849==_0xb9c2e7(0x6ff)?JSON['stringify'](_0x1f8849):_0x1f8849,_0xa1aeab=_0x4af653+':\x20'+_0x426502;throw this[_0xb9c2e7(0x421)][_0xb9c2e7(0x3b7)](this[_0xb9c2e7(0x1b4)]+'\x20('+this[_0xb9c2e7(0x479)][_0xb9c2e7(0x661)]+_0xb9c2e7(0x54d)+_0xa1aeab),new m(_0xa1aeab);}}async['AddChatLabel'](_0x5d91f0,_0x5c403e){const _0x3fdfad=a0_0x20fba6;try{await this['client']['addChatLabel'](_0x5c403e,_0x5d91f0),this['logger'][_0x3fdfad(0x7d7)](this[_0x3fdfad(0x1b4)]+'\x20('+this[_0x3fdfad(0x479)][_0x3fdfad(0x661)]+_0x3fdfad(0x64d)+_0x5d91f0+_0x3fdfad(0x5c2)+_0x5c403e+_0x3fdfad(0x635));}catch(_0x424a22){this['logger'][_0x3fdfad(0x3b7)](_0x3fdfad(0x824)+_0x5d91f0+'\x20ao\x20chat\x20'+_0x5c403e+':\x20'+_0x424a22);}}async[a0_0x20fba6(0x829)](_0x29bc37,_0x14c834){const _0x185510=a0_0x20fba6;try{await this[_0x185510(0x483)][_0x185510(0x35e)](_0x14c834,_0x29bc37),this['logger']['info'](this[_0x185510(0x1b4)]+'\x20('+this[_0x185510(0x479)][_0x185510(0x661)]+_0x185510(0x64d)+_0x29bc37+_0x185510(0x47d)+_0x14c834+'\x20com\x20sucesso.');}catch(_0x1e4206){this[_0x185510(0x421)][_0x185510(0x3b7)](_0x185510(0x863)+_0x29bc37+_0x185510(0x5f3)+_0x14c834+':\x20'+_0x1e4206);}}async[a0_0x20fba6(0x1bc)](_0x341792){const _0xbc82ad=a0_0x20fba6;try{let _0x58d4da=await this[_0xbc82ad(0x1d5)][_0xbc82ad(0x131)][_0xbc82ad(0x7e9)](this[_0xbc82ad(0x479)][_0xbc82ad(0x661)]),_0x2cf6ff=_0x341792[_0xbc82ad(0x2a0)]?_0x58d4da[_0xbc82ad(0x3be)][_0xbc82ad(0x831)](_0x370c21=>_0x370c21[_0xbc82ad(0x2a0)]===_0x341792['_id']):-0x1;if(_0x341792[_0xbc82ad(0x665)]&&_0x2cf6ff>-0x1)_0x58d4da[_0xbc82ad(0x3be)][_0xbc82ad(0x636)](_0x2cf6ff,0x1);else{if(_0x2cf6ff>-0x1){let _0x3abec0=_0x58d4da[_0xbc82ad(0x3be)][_0x2cf6ff];_0x341792[_0xbc82ad(0x74f)]&&(_0x3abec0['fone']=_0x341792[_0xbc82ad(0x74f)]),_0x341792[_0xbc82ad(0x217)]&&(_0x3abec0['name']=_0x341792[_0xbc82ad(0x217)]),_0x341792[_0xbc82ad(0x205)]&&(_0x3abec0[_0xbc82ad(0x205)]=_0x341792[_0xbc82ad(0x205)]),_0x341792['role']&&(_0x3abec0[_0xbc82ad(0x628)]=_0x341792[_0xbc82ad(0x628)]);}else _0x58d4da[_0xbc82ad(0x3be)][_0xbc82ad(0x2af)]({'_id':_0x341792[_0xbc82ad(0x2a0)]||new he[(_0xbc82ad(0x269))][(_0xbc82ad(0x72c))]['ObjectId']()[_0xbc82ad(0x176)](),'fone':_0x341792['fone'],'name':_0x341792[_0xbc82ad(0x217)],'email':_0x341792['email'],'role':_0x341792[_0xbc82ad(0x628)]});}let _0xe9f95a={'agents':_0x58d4da['agents']},_0x3a90c2=await this['repository'][_0xbc82ad(0x131)][_0xbc82ad(0x589)](_0xe9f95a,this[_0xbc82ad(0x479)]['wuid']);return this[_0xbc82ad(0x52f)]=_0x3a90c2,this[_0xbc82ad(0x421)][_0xbc82ad(0x76b)](this[_0xbc82ad(0x1b4)]+'\x20('+this[_0xbc82ad(0x479)]['wuid']+_0xbc82ad(0x862)),this[_0xbc82ad(0x421)]['verbose'](this[_0xbc82ad(0x1b4)]+'\x20('+this[_0xbc82ad(0x479)][_0xbc82ad(0x661)]+_0xbc82ad(0x54d)+this[_0xbc82ad(0x52f)]),_0x3a90c2;}catch(_0x2c270d){let _0x141431='Erro\x20ao\x20editar\x20agentes',_0x55eba0=_0x2c270d instanceof Error?_0x2c270d['message']:typeof _0x2c270d==_0xbc82ad(0x6ff)?JSON[_0xbc82ad(0x27a)](_0x2c270d):_0x2c270d,_0x5dcc02=_0x141431+':\x20'+_0x55eba0;throw this[_0xbc82ad(0x421)][_0xbc82ad(0x3b7)](this[_0xbc82ad(0x1b4)]+'\x20('+this[_0xbc82ad(0x479)]['wuid']+_0xbc82ad(0x54d)+_0x5dcc02),new m(_0x5dcc02);}}async[a0_0x20fba6(0x4a9)](_0x287b79){const _0x10d023=a0_0x20fba6;try{let _0x376427=await this[_0x10d023(0x1d5)]['automateSystem'][_0x10d023(0x7e9)](this[_0x10d023(0x479)]['wuid']),_0x33dc92=_0x287b79[_0x10d023(0x2a0)]?_0x376427[_0x10d023(0x2ea)][_0x10d023(0x831)](_0x328679=>_0x328679[_0x10d023(0x2a0)]===_0x287b79[_0x10d023(0x2a0)]):-0x1,_0x344644=!0x1,_0x2a2c86=_0x376427[_0x10d023(0x2ea)]['some'](_0x876692=>_0x876692[_0x10d023(0x3ba)]===_0x287b79[_0x10d023(0x3ba)]);if(_0x287b79[_0x10d023(0x665)]&&_0x33dc92>-0x1)_0x376427[_0x10d023(0x2ea)][_0x10d023(0x636)](_0x33dc92,0x1),_0x344644=!0x0;else{if(_0x33dc92>-0x1){if(_0x376427[_0x10d023(0x2ea)][_0x10d023(0x836)](_0x27529=>_0x27529['name']===_0x287b79['name']&&_0x27529[_0x10d023(0x2a0)]!==_0x287b79[_0x10d023(0x2a0)]))throw new Error(_0x10d023(0x314));let _0x5c85b9=_0x376427[_0x10d023(0x2ea)][_0x33dc92];_0x287b79[_0x10d023(0x3ba)]&&(_0x2a2c86||!Number[_0x10d023(0x4ce)](_0x287b79['order']))&&(_0x5c85b9['order']=_0x287b79[_0x10d023(0x3ba)],_0x344644=!0x0),_0x287b79[_0x10d023(0x217)]&&(_0x5c85b9[_0x10d023(0x217)]=_0x287b79[_0x10d023(0x217)]);}else{if(_0x376427[_0x10d023(0x2ea)]['some'](_0x2c4fe3=>_0x2c4fe3[_0x10d023(0x217)]===_0x287b79[_0x10d023(0x217)]&&_0x2c4fe3[_0x10d023(0x2a0)]!==_0x287b79[_0x10d023(0x2a0)]))throw new Error(_0x10d023(0x314));_0x376427[_0x10d023(0x2ea)][_0x10d023(0x2af)]({'_id':_0x287b79[_0x10d023(0x2a0)]||new he[(_0x10d023(0x269))][(_0x10d023(0x72c))]['ObjectId']()[_0x10d023(0x176)](),'order':_0x287b79[_0x10d023(0x3ba)],'name':_0x287b79[_0x10d023(0x217)]}),_0x344644=!0x0;}}if(_0x344644){_0x376427[_0x10d023(0x2ea)][_0x10d023(0x529)]((_0x2eb8e5,_0x46d35c)=>_0x2eb8e5['order']>_0x46d35c[_0x10d023(0x3ba)]?0x1:_0x46d35c[_0x10d023(0x3ba)]>_0x2eb8e5[_0x10d023(0x3ba)]?-0x1:0x0);for(let _0x56b6f9=0x0;_0x56b6f9<_0x376427[_0x10d023(0x2ea)][_0x10d023(0x21c)];_0x56b6f9++)_0x376427[_0x10d023(0x2ea)][_0x56b6f9]['order']=_0x56b6f9+0x1;}let _0x161134=await this[_0x10d023(0x1d5)][_0x10d023(0x131)]['update'](_0x376427,this[_0x10d023(0x479)]['wuid']);return this[_0x10d023(0x52f)]=_0x161134,this[_0x10d023(0x421)]['verbose'](this[_0x10d023(0x1b4)]+'\x20('+this[_0x10d023(0x479)]['wuid']+_0x10d023(0x735)),this[_0x10d023(0x421)]['verbose'](this[_0x10d023(0x1b4)]+'\x20('+this[_0x10d023(0x479)][_0x10d023(0x661)]+'):\x20'+this[_0x10d023(0x52f)]),_0x161134;}catch(_0x2aa8dd){let _0x5a4541=_0x10d023(0x35f),_0x2ca802=_0x2aa8dd instanceof Error?_0x2aa8dd[_0x10d023(0x34b)]:typeof _0x2aa8dd==_0x10d023(0x6ff)?JSON[_0x10d023(0x27a)](_0x2aa8dd):_0x2aa8dd,_0x59171f=_0x5a4541+':\x20'+_0x2ca802;throw this[_0x10d023(0x421)][_0x10d023(0x3b7)](this[_0x10d023(0x1b4)]+'\x20('+this[_0x10d023(0x479)][_0x10d023(0x661)]+_0x10d023(0x54d)+_0x59171f),new m(_0x59171f);}}async[a0_0x20fba6(0x847)](_0x4e8527){const _0x7d9ae8=a0_0x20fba6;try{let _0x17732a=await this[_0x7d9ae8(0x1d5)][_0x7d9ae8(0x131)]['findOrCreate'](this[_0x7d9ae8(0x479)][_0x7d9ae8(0x661)]),_0x48d5fb=_0x17732a?.[_0x7d9ae8(0x46f)]?.[_0x7d9ae8(0x831)](_0x418e62=>_0x418e62[_0x7d9ae8(0x2a0)]===_0x4e8527?.[_0x7d9ae8(0x2a0)]);if(_0x4e8527?.[_0x7d9ae8(0x665)])_0x48d5fb>-0x1&&_0x17732a?.['autoCompleteMessages']?.[_0x7d9ae8(0x636)](_0x48d5fb,0x1);else{if(_0x48d5fb>-0x1){let _0x3b451c=_0x17732a['autoCompleteMessages'][_0x48d5fb];_0x3b451c['order']=_0x4e8527?.['order']||_0x3b451c[_0x7d9ae8(0x3ba)],_0x3b451c[_0x7d9ae8(0x1f0)]=_0x4e8527?.[_0x7d9ae8(0x1f0)]||_0x3b451c[_0x7d9ae8(0x1f0)],_0x3b451c[_0x7d9ae8(0x34b)]=_0x4e8527?.[_0x7d9ae8(0x34b)]||_0x3b451c['message'];}else{let _0x1c8188={'_id':_0x4e8527?.[_0x7d9ae8(0x2a0)]||new he[(_0x7d9ae8(0x269))]['Types'][(_0x7d9ae8(0x671))]()[_0x7d9ae8(0x176)](),'order':_0x4e8527?.[_0x7d9ae8(0x3ba)],'command':_0x4e8527?.['command'],'message':_0x4e8527?.[_0x7d9ae8(0x34b)]};_0x17732a?.[_0x7d9ae8(0x46f)]?.[_0x7d9ae8(0x2af)](_0x1c8188);}}_0x17732a?.[_0x7d9ae8(0x46f)]?.['sort']((_0x40155a,_0x2a4fa7)=>_0x40155a[_0x7d9ae8(0x3ba)]-_0x2a4fa7[_0x7d9ae8(0x3ba)]);let _0x210395=await this[_0x7d9ae8(0x1d5)][_0x7d9ae8(0x131)][_0x7d9ae8(0x589)](_0x17732a,this['instance'][_0x7d9ae8(0x661)]);return this[_0x7d9ae8(0x52f)]=_0x210395,this['logger'][_0x7d9ae8(0x76b)](this[_0x7d9ae8(0x1b4)]+'\x20('+this['instance']['wuid']+_0x7d9ae8(0x735)),_0x210395;}catch(_0x353c5e){let _0x1e4ab8=_0x7d9ae8(0x15a),_0x3c5199=_0x353c5e instanceof Error?_0x353c5e['message']:typeof _0x353c5e==_0x7d9ae8(0x6ff)?JSON[_0x7d9ae8(0x27a)](_0x353c5e):_0x353c5e,_0x199a31=_0x1e4ab8+':\x20'+_0x3c5199;throw this['logger'][_0x7d9ae8(0x3b7)](this['instanceName']+'\x20('+this[_0x7d9ae8(0x479)]['wuid']+_0x7d9ae8(0x54d)+_0x199a31),new m(_0x199a31);}}async[a0_0x20fba6(0x814)](_0x3f802d){const _0x58943c=a0_0x20fba6;try{let _0x13a86c=await this[_0x58943c(0x1d5)][_0x58943c(0x131)][_0x58943c(0x7e9)](this['instance'][_0x58943c(0x661)]);if(!_0x13a86c)throw new Error(_0x58943c(0x10b));let _0x2d2050={'_id':_0x13a86c['_id'],'flowConfig':{'enabled':_0x3f802d[_0x58943c(0x73f)]??_0x13a86c['flowConfig'][_0x58943c(0x73f)],'ignoreGroups':_0x3f802d[_0x58943c(0x541)]??_0x13a86c[_0x58943c(0x1f9)][_0x58943c(0x541)],'stopConversation':_0x3f802d['stopConversation'][_0x58943c(0x5b8)]()??_0x13a86c['flowConfig'][_0x58943c(0x738)][_0x58943c(0x5b8)](),'stopMinutes':_0x3f802d[_0x58943c(0x67d)]??_0x13a86c[_0x58943c(0x1f9)][_0x58943c(0x67d)],'stopWhenYouSendMsg':_0x3f802d[_0x58943c(0x619)]??_0x13a86c['flowConfig']['stopWhenYouSendMsg']}},_0x31b2b3=await this['repository'][_0x58943c(0x131)][_0x58943c(0x589)](_0x2d2050,this[_0x58943c(0x479)][_0x58943c(0x661)]);return this[_0x58943c(0x52f)]=_0x31b2b3,this[_0x58943c(0x421)][_0x58943c(0x76b)](this[_0x58943c(0x1b4)]+'\x20('+this[_0x58943c(0x479)]['wuid']+_0x58943c(0x862)),this[_0x58943c(0x421)][_0x58943c(0x76b)](this[_0x58943c(0x1b4)]+'\x20('+this[_0x58943c(0x479)]['wuid']+'):\x20'+this[_0x58943c(0x52f)]),setTimeout(()=>this[_0x58943c(0x42b)](),0x7d0),_0x31b2b3;}catch(_0x5a16f6){let _0x3fd046=_0x58943c(0x2e3),_0x4296ce=_0x5a16f6 instanceof Error?_0x5a16f6[_0x58943c(0x34b)]:typeof _0x5a16f6=='object'?JSON['stringify'](_0x5a16f6):_0x5a16f6,_0xfd9ce=_0x3fd046+':\x20'+_0x4296ce;throw this['logger'][_0x58943c(0x3b7)](this['instanceName']+'\x20('+this[_0x58943c(0x479)][_0x58943c(0x661)]+_0x58943c(0x54d)+_0xfd9ce),new m(_0xfd9ce);}}async[a0_0x20fba6(0x77e)](){const _0x2c37fb=a0_0x20fba6;try{let _0x493f50=await this[_0x2c37fb(0x1d5)]['automateSystem']['findOrCreate'](this[_0x2c37fb(0x479)]['wuid']);return this['AutomateSystem']=_0x493f50,_0x493f50;}catch(_0x3ae2f0){let _0x1caf87=_0x2c37fb(0x14d),_0x53ae27=_0x3ae2f0 instanceof Error?_0x3ae2f0[_0x2c37fb(0x34b)]:typeof _0x3ae2f0==_0x2c37fb(0x6ff)?JSON[_0x2c37fb(0x27a)](_0x3ae2f0):_0x3ae2f0,_0x1ba1d4=_0x1caf87+':\x20'+_0x53ae27;throw this[_0x2c37fb(0x421)]['error'](this[_0x2c37fb(0x1b4)]+'\x20('+this[_0x2c37fb(0x479)][_0x2c37fb(0x661)]+_0x2c37fb(0x54d)+_0x1ba1d4),new m(_0x1ba1d4);}}async['initializeQueue'](){const _0x2afb6c=a0_0x20fba6;let _0x2da9d4=(await import(_0x2afb6c(0x5d0)))[_0x2afb6c(0x269)];this[_0x2afb6c(0x171)]=new _0x2da9d4({'concurrency':0x1});}async['setRestartTimeout'](){const _0x5d6ce3=a0_0x20fba6;this['instance'][_0x5d6ce3(0x76f)][_0x5d6ce3(0x6d9)]&&clearTimeout(this[_0x5d6ce3(0x479)][_0x5d6ce3(0x76f)]['timeout']),this['instance'][_0x5d6ce3(0x76f)][_0x5d6ce3(0x6d9)]=setTimeout(()=>{const _0x4bddab=_0x5d6ce3;this[_0x4bddab(0x7d3)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x20fba6(0x7d3)](){const _0x8d8f37=a0_0x20fba6;let _0x5732cd=this[_0x8d8f37(0x479)][_0x8d8f37(0x76f)]['lastSend'];(_0x5732cd===0x0||_0x5732cd===null||Date[_0x8d8f37(0x1a6)]()-_0x5732cd>=0x1d4c0)&&(this['logger'][_0x8d8f37(0x76b)](this[_0x8d8f37(0x1b4)]+'\x20('+this['instance'][_0x8d8f37(0x661)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x8d8f37(0x479)][_0x8d8f37(0x76f)]['processingGroup']=null,this['instance'][_0x8d8f37(0x76f)][_0x8d8f37(0x55b)]=0x0,this[_0x8d8f37(0x479)][_0x8d8f37(0x76f)]['delayMessage']=0x0,await this['scheduleNextCheck']());}async[a0_0x20fba6(0x42b)](){const _0x23b841=a0_0x20fba6;this[_0x23b841(0x421)]['warn'](this[_0x23b841(0x1b4)]+'\x20('+this[_0x23b841(0x479)][_0x23b841(0x661)]+_0x23b841(0x3b1)),await this['transformScheduledMessagesByType'](),(await this[_0x23b841(0x21a)]())[_0x23b841(0x21c)]>0x0&&this[_0x23b841(0x171)]['add'](()=>this[_0x23b841(0x1dc)]());let _0x3434c0={'where':{'status':_0x23b841(0x6e2),'when':{'$gt':Date[_0x23b841(0x1a6)]()}}},_0x255765=await this[_0x23b841(0x1d5)][_0x23b841(0x1c5)][_0x23b841(0x79e)](_0x3434c0,this['instance'][_0x23b841(0x661)]);_0x255765&&_0x255765[_0x23b841(0x215)]-Date[_0x23b841(0x1a6)]()<=0x6ddd00?this['instance'][_0x23b841(0x76f)][_0x23b841(0x355)]=_0x255765[_0x23b841(0x215)]-Date[_0x23b841(0x1a6)]():this[_0x23b841(0x479)][_0x23b841(0x76f)][_0x23b841(0x355)]=(0x3c+Math[_0x23b841(0x23f)](Math[_0x23b841(0x86d)]()*0x3c))*0x3c*0x3e8,this[_0x23b841(0x479)][_0x23b841(0x76f)][_0x23b841(0x355)]=Math['max'](this['instance'][_0x23b841(0x76f)][_0x23b841(0x355)],0x1*0x2*0x3e8);let _0x460639=Math[_0x23b841(0x242)](this['instance'][_0x23b841(0x76f)]['delayMessage']/0xea60);if(_0x255765){let _0x7c2323=new Date(_0x255765[_0x23b841(0x215)])[_0x23b841(0x13e)]();this['logger'][_0x23b841(0x536)](this['instanceName']+'\x20('+this[_0x23b841(0x479)]['wuid']+_0x23b841(0x358)+_0x7c2323+_0x23b841(0x2b9)+_0x460639+_0x23b841(0x7c2));}else this['logger'][_0x23b841(0x536)](this[_0x23b841(0x1b4)]+'\x20('+this[_0x23b841(0x479)][_0x23b841(0x661)]+_0x23b841(0x3b0)+_0x460639+_0x23b841(0x7c2));setTimeout(()=>{const _0x4ece99=_0x23b841;this[_0x4ece99(0x42b)]();},this[_0x23b841(0x479)]['ScheduleMessage'][_0x23b841(0x355)]);}async[a0_0x20fba6(0x21a)](){const _0x359d3d=a0_0x20fba6;this['logger'][_0x359d3d(0x76b)](this[_0x359d3d(0x1b4)]+'\x20('+this[_0x359d3d(0x479)][_0x359d3d(0x661)]+_0x359d3d(0x3b1));let _0x5bd239=Date[_0x359d3d(0x1a6)]()-0xc*0x3c*0x3c*0x3e8,_0x4125fd={'where':{'status':this[_0x359d3d(0x179)]?['scheduled']:[_0x359d3d(0x6e2),_0x359d3d(0x36b)],'$or':[{'when':{'$lte':Date[_0x359d3d(0x1a6)](),'$gte':_0x5bd239}},{'when':0x0}]}},_0x27510d=await this[_0x359d3d(0x1d5)][_0x359d3d(0x1c5)][_0x359d3d(0x568)](_0x4125fd,this[_0x359d3d(0x479)][_0x359d3d(0x661)]);return this[_0x359d3d(0x421)][_0x359d3d(0x536)](this[_0x359d3d(0x1b4)]+'\x20('+this[_0x359d3d(0x479)][_0x359d3d(0x661)]+'):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20'+_0x27510d[_0x359d3d(0x21c)]),this[_0x359d3d(0x179)]=!0x0,_0x27510d;}async[a0_0x20fba6(0x1dc)](){const _0x370ab8=a0_0x20fba6;let _0x467c69=Math[_0x370ab8(0x23f)](Math['random']()*0x1389)+0xbb8,_0x4e6498=()=>this[_0x370ab8(0x320)][_0x370ab8(0x21c)]===0x0?null:this[_0x370ab8(0x320)]['reduce']((_0x592e60,_0x5b1040)=>(_0x592e60[_0x370ab8(0x3ba)]??Number[_0x370ab8(0x7f2)])<(_0x5b1040['order']??Number[_0x370ab8(0x7f2)])?_0x592e60:_0x5b1040,this[_0x370ab8(0x320)][0x0]),_0x90a0dd=await this['getReadyToSendMessages']();for(let _0x29151c of _0x90a0dd){this['pendingMessages']=_0x29151c[_0x370ab8(0x7e5)][_0x370ab8(0x7a2)](_0x1caac8=>!_0x1caac8[_0x370ab8(0x4e0)]);let _0x57a6e5=0x3*0x3e8,_0x3320ed={'_id':_0x29151c[_0x370ab8(0x2a0)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x370ab8(0x1a6)]()-_0x57a6e5}}]},_0x25a76a={'startSend':Date[_0x370ab8(0x1a6)](),'status':'sending'};if(!await this['repository'][_0x370ab8(0x1c5)]['updateOne'](_0x3320ed,_0x25a76a,this[_0x370ab8(0x479)][_0x370ab8(0x661)]))continue;if(!this[_0x370ab8(0x479)][_0x370ab8(0x76f)][_0x370ab8(0x45d)]){this[_0x370ab8(0x421)][_0x370ab8(0x536)](this[_0x370ab8(0x1b4)]+'\x20('+this[_0x370ab8(0x479)][_0x370ab8(0x661)]+_0x370ab8(0x544));break;}for(;this['pendingMessages'][_0x370ab8(0x21c)]>0x0;){await this['setRestartTimeout']();let _0x4948e8=_0x4e6498();if(!_0x4948e8)break;let _0x450325=_0x29151c[_0x370ab8(0x7e5)][_0x370ab8(0x568)](_0x564e4e=>_0x564e4e[_0x370ab8(0x2a0)]===_0x4948e8[_0x370ab8(0x2a0)]);if(!_0x450325)break;if(this[_0x370ab8(0x479)]['ScheduleMessage']['lastSend']=Date[_0x370ab8(0x1a6)](),_0x450325[_0x370ab8(0x4e0)]){this[_0x370ab8(0x421)]['warn'](this['instanceName']+'\x20('+this[_0x370ab8(0x479)][_0x370ab8(0x661)]+_0x370ab8(0x12b)+_0x450325[_0x370ab8(0x5bc)]+'.\x20Pulando.'),this[_0x370ab8(0x320)]=this[_0x370ab8(0x320)]['filter'](_0x3fc466=>_0x3fc466['_id']!==_0x450325[_0x370ab8(0x2a0)]);continue;}if(!this[_0x370ab8(0x479)]['ScheduleMessage'][_0x370ab8(0x45d)]){this[_0x370ab8(0x421)]['warn'](this[_0x370ab8(0x1b4)]+'\x20('+this['instance'][_0x370ab8(0x661)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x370ab8(0x479)]['ScheduleMessage'][_0x370ab8(0x2ac)]){this[_0x370ab8(0x421)]['warn'](this[_0x370ab8(0x1b4)]+'\x20('+this[_0x370ab8(0x479)]['wuid']+_0x370ab8(0x388)+_0x29151c['_id']+_0x370ab8(0x2a4));break;}let _0x5296b8={'idControl':_0x450325['_id'],'remoteJid':_0x450325[_0x370ab8(0x5bc)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x287627=null;try{this[_0x370ab8(0x421)][_0x370ab8(0x536)](this[_0x370ab8(0x1b4)]+'\x20('+this[_0x370ab8(0x479)][_0x370ab8(0x661)]+_0x370ab8(0x21d)+_0x450325[_0x370ab8(0x5bc)]);let _0x220598=await this[_0x370ab8(0x1fd)](_0x450325[_0x370ab8(0x5bc)],_0x450325);_0x5296b8['error']=_0x220598[_0x370ab8(0x3b7)],_0x5296b8['id']=_0x220598[_0x370ab8(0x3b7)]?null:_0x220598['id'],_0x5296b8[_0x370ab8(0x108)]=_0x220598[_0x370ab8(0x3b7)]?_0x220598['detail']?_0x220598[_0x370ab8(0x675)][_0x370ab8(0x176)]():'':null;let _0x1db2c0=_0x29151c[_0x370ab8(0x7e5)][_0x370ab8(0x831)](_0x434d7a=>_0x434d7a[_0x370ab8(0x2a0)]===_0x450325[_0x370ab8(0x2a0)]);_0x1db2c0!==-0x1&&(_0x29151c[_0x370ab8(0x7e5)][_0x1db2c0][_0x370ab8(0x4e0)]=!0x0);let _0x3007f4={'$push':{'messagesSend':_0x5296b8},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x24b061=[{'elem._id':_0x450325[_0x370ab8(0x2a0)]}];if(this[_0x370ab8(0x421)][_0x370ab8(0x536)](this[_0x370ab8(0x1b4)]+'\x20('+this[_0x370ab8(0x479)][_0x370ab8(0x661)]+_0x370ab8(0x129)+_0x450325[_0x370ab8(0x2a0)]),_0x287627=await this[_0x370ab8(0x1d5)][_0x370ab8(0x1c5)][_0x370ab8(0x1e8)]({'_id':_0x29151c[_0x370ab8(0x2a0)]},_0x3007f4,this['instance']['wuid'],{'arrayFilters':_0x24b061}),_0x220598[_0x370ab8(0x3b7)]){this[_0x370ab8(0x421)][_0x370ab8(0x3b7)](this[_0x370ab8(0x1b4)]+'\x20('+this[_0x370ab8(0x479)]['wuid']+_0x370ab8(0x77f)+_0x220598[_0x370ab8(0x675)]);continue;}let _0x53c823=this['getDelay'](_0x29151c['delaySecMin'],_0x29151c[_0x370ab8(0x245)]);await this[_0x370ab8(0x5df)](_0x53c823);}catch(_0x1d18d0){this['logger'][_0x370ab8(0x3b7)](this[_0x370ab8(0x1b4)]+'\x20('+this[_0x370ab8(0x479)]['wuid']+_0x370ab8(0x6b7)+_0x450325[_0x370ab8(0x5bc)]+':\x20'+(_0x1d18d0 instanceof Error?_0x1d18d0[_0x370ab8(0x34b)]:JSON[_0x370ab8(0x27a)](_0x1d18d0,null,0x2))),_0x5296b8[_0x370ab8(0x3b7)]=!0x0,_0x5296b8[_0x370ab8(0x108)]=_0x1d18d0[_0x370ab8(0x34b)];let _0xeff8c1=_0x29151c[_0x370ab8(0x7e5)][_0x370ab8(0x831)](_0x1e299b=>_0x1e299b[_0x370ab8(0x2a0)]===_0x450325[_0x370ab8(0x2a0)]);_0xeff8c1!==-0x1&&(_0x29151c[_0x370ab8(0x7e5)][_0xeff8c1][_0x370ab8(0x4e0)]=!0x0);let _0x73a9fb={'$push':{'messagesSend':_0x5296b8},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x19248c=[{'elem._id':_0x450325[_0x370ab8(0x2a0)]}];this[_0x370ab8(0x421)]['warn'](this[_0x370ab8(0x1b4)]+'\x20('+this['instance'][_0x370ab8(0x661)]+_0x370ab8(0x111)+_0x450325[_0x370ab8(0x2a0)]),_0x287627=await this['repository'][_0x370ab8(0x1c5)][_0x370ab8(0x1e8)]({'_id':_0x29151c['_id']},_0x73a9fb,this[_0x370ab8(0x479)][_0x370ab8(0x661)],{'arrayFilters':_0x19248c});}finally{if(_0x287627&&_0x287627[_0x370ab8(0x59e)]===_0x370ab8(0x40f)){this[_0x370ab8(0x421)][_0x370ab8(0x536)](this[_0x370ab8(0x1b4)]+'\x20('+this['instance'][_0x370ab8(0x661)]+_0x370ab8(0x388)+_0x450325['_id']+_0x370ab8(0x567));break;}let _0x118f99=_0x287627['messages'][_0x370ab8(0x568)](_0x5f587d=>_0x5f587d[_0x370ab8(0x2a0)]===_0x450325[_0x370ab8(0x2a0)]);if(_0x118f99&&!_0x118f99[_0x370ab8(0x4e0)]){let _0x5d686e={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x6add78=[{'elem._id':_0x450325[_0x370ab8(0x2a0)]}];await this[_0x370ab8(0x1d5)][_0x370ab8(0x1c5)][_0x370ab8(0x1e8)]({'_id':_0x287627[_0x370ab8(0x2a0)]},_0x5d686e,this['instance'][_0x370ab8(0x661)],{'arrayFilters':_0x6add78});}this[_0x370ab8(0x320)]=_0x287627[_0x370ab8(0x7e5)]['filter'](_0x6b6be9=>!_0x6b6be9[_0x370ab8(0x4e0)]),this['instance'][_0x370ab8(0x76f)][_0x370ab8(0x2ac)]=_0x287627;}}this['pendingMessages']=[];let _0x242eb7=await this[_0x370ab8(0x1d5)]['scheduleMessage'][_0x370ab8(0x1de)](_0x29151c['_id'],this[_0x370ab8(0x479)][_0x370ab8(0x661)]);if(_0x242eb7[_0x370ab8(0x7e5)][_0x370ab8(0x36d)](_0x5e8ea3=>_0x5e8ea3[_0x370ab8(0x4e0)])&&_0x242eb7[_0x370ab8(0x59e)]!==_0x370ab8(0x40f)){let _0x4cf0c9={'$set':{'status':_0x370ab8(0x56c)}};await this[_0x370ab8(0x1d5)][_0x370ab8(0x1c5)][_0x370ab8(0x71e)](_0x242eb7[_0x370ab8(0x2a0)],_0x4cf0c9,this[_0x370ab8(0x479)][_0x370ab8(0x661)]);}await new Promise(_0x4e5305=>setTimeout(_0x4e5305,_0x467c69)),global['gc']?global['gc']():console[_0x370ab8(0x536)](_0x370ab8(0x150));}}[a0_0x20fba6(0x7fe)](_0x5e6e34,_0x34b3a3){const _0x1dd3c5=a0_0x20fba6;return _0x5e6e34=Math[_0x1dd3c5(0x3da)](0.5,_0x5e6e34),_0x34b3a3=Math[_0x1dd3c5(0x1a3)](Math[_0x1dd3c5(0x3da)](0x3,_0x34b3a3),0x78),Math[_0x1dd3c5(0x23f)](Math[_0x1dd3c5(0x86d)]()*(_0x34b3a3-_0x5e6e34+0x1)+_0x5e6e34)*0x3e8;}[a0_0x20fba6(0x5df)](_0x59655c){return new Promise(_0x371b01=>setTimeout(_0x371b01,_0x59655c));}async['getVariablesChat'](_0x1b06d5){const _0x13d68d=a0_0x20fba6;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x1b06d5=this[_0x13d68d(0x2c0)](_0x1b06d5);let _0x37bcbc=await this[_0x13d68d(0x1d5)][_0x13d68d(0x4a4)][_0x13d68d(0x79e)]({'where':{'_id':_0x1b06d5}},this[_0x13d68d(0x479)][_0x13d68d(0x661)]),_0x113d1e={};if(_0x37bcbc&&_0x37bcbc[_0x13d68d(0x6ab)]){let _0x59f5dc=_0x37bcbc[_0x13d68d(0x6ab)];typeof _0x59f5dc[_0x13d68d(0x3b6)]==_0x13d68d(0x648)&&(_0x113d1e[_0x13d68d(0x3b6)]=_0x59f5dc['nome']),typeof _0x59f5dc[_0x13d68d(0x56b)]==_0x13d68d(0x648)&&(_0x113d1e[_0x13d68d(0x56b)]=_0x59f5dc['nomecompleto']),typeof _0x59f5dc[_0x13d68d(0x205)]==_0x13d68d(0x648)&&(_0x113d1e[_0x13d68d(0x205)]=_0x59f5dc[_0x13d68d(0x205)]),typeof _0x59f5dc[_0x13d68d(0x172)]==_0x13d68d(0x648)&&(_0x113d1e[_0x13d68d(0x172)]=_0x59f5dc[_0x13d68d(0x172)]),typeof _0x59f5dc[_0x13d68d(0x59e)]=='string'&&(_0x113d1e[_0x13d68d(0x59e)]=_0x59f5dc[_0x13d68d(0x59e)]),typeof _0x59f5dc[_0x13d68d(0x281)]==_0x13d68d(0x648)&&(_0x113d1e[_0x13d68d(0x281)]=_0x59f5dc[_0x13d68d(0x281)]),typeof _0x59f5dc['responsavelid']==_0x13d68d(0x648)&&(_0x113d1e['responsavelid']=_0x59f5dc[_0x13d68d(0x2d6)]),Array['isArray'](_0x59f5dc[_0x13d68d(0x724)])&&(_0x113d1e[_0x13d68d(0x724)]=_0x59f5dc[_0x13d68d(0x724)][_0x13d68d(0x7ae)](',\x20')),Array[_0x13d68d(0x5e4)](_0x59f5dc['etiquetas'])&&(_0x113d1e[_0x13d68d(0x75b)]=_0x59f5dc[_0x13d68d(0x75b)][_0x13d68d(0x7ae)](',\x20'));}return _0x37bcbc&&_0x37bcbc[_0x13d68d(0x6ab)]&&_0x37bcbc[_0x13d68d(0x6ab)][_0x13d68d(0x2ea)]&&_0x37bcbc[_0x13d68d(0x6ab)][_0x13d68d(0x2ea)][_0x13d68d(0x871)](_0x5b8732=>{const _0x11ea81=_0x13d68d;let _0x247a6b=this['AutomateSystem']?.[_0x11ea81(0x2ea)]['find'](_0x5931be=>_0x5931be[_0x11ea81(0x2a0)]===_0x5b8732[_0x11ea81(0x2a0)]);_0x247a6b&&(_0x113d1e[_0x247a6b[_0x11ea81(0x217)]]=_0x5b8732[_0x11ea81(0x38b)]);}),_0x113d1e;}async['replaceVariablesChat'](_0x281213,_0x5630c8){const _0xf1a247=a0_0x20fba6;try{let _0x399af7=await this[_0xf1a247(0x35d)](_0x5630c8);return this[_0xf1a247(0x24f)](_0x281213,_0x399af7);}catch(_0x5421f9){return this['logger']['error']('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x5630c8+':\x20'+_0x5421f9),_0x281213;}}async['transformScheduledMessagesByType'](){const _0x20f270=a0_0x20fba6;let _0x3b4073=async(_0x2de0f8,_0x30673b)=>{const _0x39f0b1=a0_0x2eae;let _0x2339a8=(await this[_0x39f0b1(0x1d5)][_0x39f0b1(0x1c5)][_0x39f0b1(0x568)]({'where':{'type':_0x2de0f8}},this[_0x39f0b1(0x479)]['wuid']))['map'](async _0x5deccf=>{const _0x489b2b=_0x39f0b1;let _0x91b47d=_0x30673b(_0x5deccf),_0x3f4953=_0x30a343=>/^\d+$/[_0x489b2b(0x69d)](_0x30a343),_0x35f7cb=_0x5deccf[_0x489b2b(0x53d)][_0x489b2b(0x7a2)](_0x496ce2=>_0x496ce2[_0x489b2b(0x2cb)](_0x489b2b(0x1e4))?_0x496ce2[_0x489b2b(0x21c)]>0x19:_0x496ce2[_0x489b2b(0x2cb)](_0x489b2b(0x710))?_0x496ce2[_0x489b2b(0x21c)]>0xf:_0x3f4953(_0x496ce2)?_0x496ce2[_0x489b2b(0x21c)]>=0xb:!0x1)['map'](_0x42f1cd=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x5deccf[_0x489b2b(0x2a0)],'type':_0x91b47d,'remoteJid':_0x42f1cd,'flow':_0x5deccf['flowName'],'text':_0x5deccf[_0x489b2b(0x34b)]?.[_0x489b2b(0x339)],'delay':_0x5deccf[_0x489b2b(0x34b)]?.[_0x489b2b(0x4c8)],'urlOrBase64':_0x5deccf[_0x489b2b(0x34b)]?.[_0x489b2b(0x25f)],'linkPreview':_0x5deccf[_0x489b2b(0x34b)]?.[_0x489b2b(0x860)],'fileName':_0x5deccf['message']?.[_0x489b2b(0x65f)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x489b2b(0x1d5)][_0x489b2b(0x1c5)][_0x489b2b(0x71e)](_0x5deccf[_0x489b2b(0x2a0)],{'$set':{'messages':_0x35f7cb},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance'][_0x489b2b(0x661)]);}catch(_0x4c87f6){console[_0x489b2b(0x3b7)](_0x489b2b(0x4cd)+_0x5deccf[_0x489b2b(0x2a0)]+':',_0x4c87f6);}});await Promise['all'](_0x2339a8);};await _0x3b4073(_0x20f270(0x339),_0x20ac99=>'text'),await _0x3b4073(_0x20f270(0x44f),_0x1e5d03=>_0x1e5d03[_0x20f270(0x34b)]?.[_0x20f270(0x7d1)]||_0x20f270(0x44f)),await _0x3b4073(_0x20f270(0x23b),_0xea18c8=>'audio'),await _0x3b4073(_0x20f270(0x233),_0x2baa60=>_0x20f270(0x233)),await _0x3b4073(_0x20f270(0x73b),_0x464989=>'image'),await _0x3b4073('video',_0xad46ac=>_0x20f270(0x78d)),await _0x3b4073(_0x20f270(0x4cb),_0x388a39=>_0x20f270(0x4cb)),this[_0x20f270(0x421)]['warn'](this[_0x20f270(0x1b4)]+'\x20('+this[_0x20f270(0x479)][_0x20f270(0x661)]+_0x20f270(0x141));}async[a0_0x20fba6(0x592)](_0x54a46c){const _0x24001c=a0_0x20fba6;try{if(this[_0x24001c(0x421)][_0x24001c(0x536)](this[_0x24001c(0x1b4)]+'\x20('+this[_0x24001c(0x479)][_0x24001c(0x661)]+_0x24001c(0x157)),_0x54a46c[_0x24001c(0x2a0)]||(_0x54a46c['_id']=(0x0,X['v4'])()),this[_0x24001c(0x479)][_0x24001c(0x76f)]['processingGroup']?.['_id']===_0x54a46c['_id']?.[_0x24001c(0x176)]()){if(_0x54a46c[_0x24001c(0x59e)]==='stopped')this[_0x24001c(0x479)][_0x24001c(0x76f)][_0x24001c(0x2ac)]=null;else throw new Error(_0x24001c(0x152));}if(_0x54a46c[_0x24001c(0x665)]&&_0x54a46c[_0x24001c(0x2a0)]){let _0x273479=await this['repository']['scheduleMessage'][_0x24001c(0x763)](_0x54a46c['_id'],this[_0x24001c(0x479)][_0x24001c(0x661)]);return setTimeout(()=>this[_0x24001c(0x42b)](),0x7d0),_0x273479;}let _0x25cdd1=null;if(_0x54a46c[_0x24001c(0x2a0)]&&(_0x25cdd1=await this[_0x24001c(0x1d5)][_0x24001c(0x1c5)][_0x24001c(0x1de)](_0x54a46c[_0x24001c(0x2a0)],this[_0x24001c(0x479)][_0x24001c(0x661)])),_0x25cdd1){let {_id:_0x1c9681,owner:_0x2f5572,messages:_0x45363a,..._0xcbfa1b}=_0x54a46c;if(_0x45363a){let _0x339446=_0x45363a[_0x24001c(0x7a2)](_0x22cd8d=>!_0x22cd8d['_id']),_0x24c4a3=_0x45363a[_0x24001c(0x7a2)](_0x1eb8ab=>_0x1eb8ab['_id']&&!_0x1eb8ab[_0x24001c(0x665)]),_0x2c643d=_0x45363a[_0x24001c(0x7a2)](_0x4d9f22=>_0x4d9f22[_0x24001c(0x2a0)]&&_0x4d9f22[_0x24001c(0x665)]);if(_0x339446[_0x24001c(0x21c)]>0x0&&await this[_0x24001c(0x617)](_0x54a46c[_0x24001c(0x2a0)],_0x339446),_0x24c4a3[_0x24001c(0x21c)]>0x0&&await this['editMessagesInGroup']({'_id':_0x54a46c[_0x24001c(0x2a0)],'messages':_0x24c4a3}),_0x2c643d[_0x24001c(0x21c)]>0x0){let _0x255ae4=_0x2c643d[_0x24001c(0x5a9)](_0x328b7c=>({'updateOne':{'filter':{'_id':_0x54a46c[_0x24001c(0x2a0)]},'update':{'$pull':{'messages':{'_id':_0x328b7c['_id']}}}}}));await this[_0x24001c(0x1d5)]['scheduleMessage'][_0x24001c(0x504)](_0x255ae4,this[_0x24001c(0x479)][_0x24001c(0x661)]);}}let _0x2db722={'$set':{..._0xcbfa1b,'status':_0x54a46c[_0x24001c(0x59e)]||_0x25cdd1[_0x24001c(0x59e)]}},_0x437a7f=await this[_0x24001c(0x1d5)][_0x24001c(0x1c5)][_0x24001c(0x71e)](_0x54a46c['_id'],_0x2db722,this[_0x24001c(0x479)][_0x24001c(0x661)]);return _0x437a7f&&(this[_0x24001c(0x4b2)](_0x437a7f[_0x24001c(0x7e5)]),await this[_0x24001c(0x1d5)][_0x24001c(0x1c5)]['updateOneById'](_0x437a7f[_0x24001c(0x2a0)],{'$set':{'messages':_0x437a7f[_0x24001c(0x7e5)]}},this[_0x24001c(0x479)][_0x24001c(0x661)])),setTimeout(()=>this[_0x24001c(0x42b)](),0x7d0),await this[_0x24001c(0x43d)](),_0x437a7f;}else{_0x54a46c[_0x24001c(0x565)]=this['instance']['wuid'],_0x54a46c[_0x24001c(0x7e5)]&&_0x54a46c[_0x24001c(0x7e5)][_0x24001c(0x871)](_0x8ba2f=>{const _0x51fc0f=_0x24001c;_0x8ba2f[_0x51fc0f(0x2a0)]||(_0x8ba2f[_0x51fc0f(0x2a0)]=(0x0,X['v4'])()),_0x8ba2f[_0x51fc0f(0x3cd)]||(_0x8ba2f[_0x51fc0f(0x3cd)]=_0x54a46c[_0x51fc0f(0x2a0)]),delete _0x8ba2f['triedToSend'];});let _0xda54b4=await this[_0x24001c(0x1d5)][_0x24001c(0x1c5)][_0x24001c(0x381)](_0x54a46c,this[_0x24001c(0x479)][_0x24001c(0x661)]);return _0xda54b4&&(this[_0x24001c(0x4b2)](_0xda54b4[_0x24001c(0x7e5)]),await this[_0x24001c(0x1d5)]['scheduleMessage']['updateOneById'](_0xda54b4['_id'],{'$set':{'messages':_0xda54b4[_0x24001c(0x7e5)]}},this['instance']['wuid'])),setTimeout(()=>this[_0x24001c(0x42b)](),0x7d0),_0xda54b4;}}catch(_0x2a6da1){let _0x588fc9=_0x24001c(0x3bd),_0x5cd4c7=_0x2a6da1 instanceof Error?_0x2a6da1['message']:typeof _0x2a6da1=='object'?JSON[_0x24001c(0x27a)](_0x2a6da1):_0x2a6da1,_0x5b9bb9=_0x588fc9+':\x20'+_0x5cd4c7;throw this[_0x24001c(0x421)][_0x24001c(0x3b7)](this['instanceName']+'\x20('+this[_0x24001c(0x479)][_0x24001c(0x661)]+'):\x20'+_0x5b9bb9),new m(_0x5b9bb9);}}async['addMessagesToGroup'](_0x2c38d5,_0x2f528b){const _0xdb562=a0_0x20fba6;try{this['logger'][_0xdb562(0x76b)](this[_0xdb562(0x1b4)]+'\x20('+this[_0xdb562(0x479)][_0xdb562(0x661)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x2f528b[_0xdb562(0x871)](_0x39ce64=>{const _0x52e787=_0xdb562;_0x39ce64['_id']||(_0x39ce64[_0x52e787(0x2a0)]=(0x0,X['v4'])()),_0x39ce64[_0x52e787(0x3cd)]||(_0x39ce64[_0x52e787(0x3cd)]=_0x2c38d5),delete _0x39ce64[_0x52e787(0x4e0)];});let _0x3aee83={'$push':{'messages':{'$each':_0x2f528b}}},_0x5c3d7d=await this[_0xdb562(0x1d5)][_0xdb562(0x1c5)]['updateOneById'](_0x2c38d5,_0x3aee83,this[_0xdb562(0x479)]['wuid']);return _0x5c3d7d&&(this[_0xdb562(0x4b2)](_0x5c3d7d[_0xdb562(0x7e5)]),await this[_0xdb562(0x1d5)][_0xdb562(0x1c5)][_0xdb562(0x71e)](_0x5c3d7d[_0xdb562(0x2a0)],{'$set':{'messages':_0x5c3d7d['messages']}},this['instance'][_0xdb562(0x661)])),_0x5c3d7d;}catch(_0x72d227){let _0x1556c9=_0xdb562(0x413),_0x1b0d98=_0x72d227 instanceof Error?_0x72d227[_0xdb562(0x34b)]:typeof _0x72d227==_0xdb562(0x6ff)?JSON[_0xdb562(0x27a)](_0x72d227):_0x72d227,_0x3d658c=_0x1556c9+':\x20'+_0x1b0d98;throw this[_0xdb562(0x421)][_0xdb562(0x3b7)](this[_0xdb562(0x1b4)]+'\x20('+this[_0xdb562(0x479)][_0xdb562(0x661)]+_0xdb562(0x54d)+_0x3d658c),new m(_0x3d658c);}}async[a0_0x20fba6(0x679)](_0x24f627){const _0x47ab94=a0_0x20fba6;try{if(this[_0x47ab94(0x421)]['verbose'](this[_0x47ab94(0x1b4)]+'\x20('+this[_0x47ab94(0x479)][_0x47ab94(0x661)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x24f627[_0x47ab94(0x2a0)]||!_0x24f627[_0x47ab94(0x7e5)])throw new Error(_0x47ab94(0x485));let _0x2cd51a=_0x24f627[_0x47ab94(0x2a0)],_0x345b4e=_0x24f627[_0x47ab94(0x7e5)],_0xb7955c=_0x345b4e[_0x47ab94(0x7a2)](_0x1e3b9b=>!_0x1e3b9b[_0x47ab94(0x665)])[_0x47ab94(0x5a9)](_0x5952ad=>{const _0x1d9adf=_0x47ab94;let _0xa53b56=_0x5952ad[_0x1d9adf(0x2a0)];if(!_0xa53b56)throw new Error(_0x1d9adf(0x44c));return _0x5952ad[_0x1d9adf(0x3cd)]||(_0x5952ad[_0x1d9adf(0x3cd)]=_0x2cd51a),delete _0x5952ad[_0x1d9adf(0x4e0)],{'updateOne':{'filter':{'_id':_0x2cd51a,'messages._id':_0xa53b56},'update':{'$set':{'messages.$[elem]':_0x5952ad}},'arrayFilters':[{'elem._id':_0xa53b56}]}};}),_0x2a30ed=_0x345b4e[_0x47ab94(0x7a2)](_0x3ff8e2=>_0x3ff8e2[_0x47ab94(0x665)])[_0x47ab94(0x5a9)](_0x536ef1=>{const _0x2ee464=_0x47ab94;let _0x3e69ce=_0x536ef1[_0x2ee464(0x2a0)];if(!_0x3e69ce)throw new Error(_0x2ee464(0x83f));return{'updateOne':{'filter':{'_id':_0x2cd51a},'update':{'$pull':{'messages':{'_id':_0x3e69ce}}}}};}),_0x196005=[..._0xb7955c,..._0x2a30ed],_0x10cfa8=await this[_0x47ab94(0x1d5)][_0x47ab94(0x1c5)][_0x47ab94(0x504)](_0x196005,this['instance'][_0x47ab94(0x661)]),_0x17ca6b=await this[_0x47ab94(0x1d5)][_0x47ab94(0x1c5)]['findById'](_0x2cd51a,this[_0x47ab94(0x479)][_0x47ab94(0x661)]);return _0x17ca6b&&(this['reorderMessages'](_0x17ca6b['messages']),await this['repository'][_0x47ab94(0x1c5)][_0x47ab94(0x71e)](_0x17ca6b[_0x47ab94(0x2a0)],{'$set':{'messages':_0x17ca6b[_0x47ab94(0x7e5)]}},this[_0x47ab94(0x479)][_0x47ab94(0x661)])),_0x17ca6b;}catch(_0x599c48){let _0xbdf360=_0x47ab94(0x2b8),_0x21fb8f=_0x599c48 instanceof Error?_0x599c48[_0x47ab94(0x34b)]:typeof _0x599c48==_0x47ab94(0x6ff)?JSON['stringify'](_0x599c48):_0x599c48,_0x56e633=_0xbdf360+':\x20'+_0x21fb8f;throw this[_0x47ab94(0x421)][_0x47ab94(0x3b7)](this[_0x47ab94(0x1b4)]+'\x20('+this['instance'][_0x47ab94(0x661)]+'):\x20'+_0x56e633),new m(_0x56e633);}}async[a0_0x20fba6(0x387)](){const _0x459565=a0_0x20fba6;try{let _0x405c2b={'status':_0x459565(0x56c)},_0x3e3a2d=await this[_0x459565(0x1d5)]['scheduleMessage'][_0x459565(0x407)](_0x405c2b,this[_0x459565(0x479)][_0x459565(0x661)]);if(!_0x3e3a2d[_0x459565(0x3b7)])this[_0x459565(0x421)][_0x459565(0x76b)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x3e3a2d['error'][_0x459565(0x34b)]||_0x459565(0x3d1));return this[_0x459565(0x76a)]();}catch(_0x6cceb){let _0x5764f9='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x478614=_0x6cceb instanceof Error?_0x6cceb[_0x459565(0x34b)]:typeof _0x6cceb==_0x459565(0x6ff)?JSON[_0x459565(0x27a)](_0x6cceb):_0x6cceb,_0xa74455=_0x5764f9+':\x20'+_0x478614;throw this[_0x459565(0x421)][_0x459565(0x3b7)](this[_0x459565(0x1b4)]+'\x20('+this['instance']['wuid']+_0x459565(0x54d)+_0xa74455),new m(_0xa74455);}}async[a0_0x20fba6(0x76a)](){const _0x30222b=a0_0x20fba6;try{return await this[_0x30222b(0x1d5)][_0x30222b(0x1c5)][_0x30222b(0x568)]({'where':{}},this[_0x30222b(0x479)][_0x30222b(0x661)]);}catch(_0xee3209){let _0x2c0e62='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x1d607d=_0xee3209 instanceof Error?_0xee3209[_0x30222b(0x34b)]:typeof _0xee3209==_0x30222b(0x6ff)?JSON[_0x30222b(0x27a)](_0xee3209):_0xee3209,_0x42cfc9=_0x2c0e62+':\x20'+_0x1d607d;throw this[_0x30222b(0x421)][_0x30222b(0x3b7)](this[_0x30222b(0x1b4)]+'\x20('+this[_0x30222b(0x479)][_0x30222b(0x661)]+_0x30222b(0x54d)+_0x42cfc9),new m(_0x42cfc9);}}[a0_0x20fba6(0x4b2)](_0x347676){const _0x4351d6=a0_0x20fba6;_0x347676[_0x4351d6(0x529)]((_0x2d5a83,_0x15d295)=>_0x2d5a83[_0x4351d6(0x3ba)]-_0x15d295[_0x4351d6(0x3ba)]),_0x347676[_0x4351d6(0x871)]((_0x2683af,_0x433301)=>{const _0x1153ea=_0x4351d6;_0x2683af[_0x1153ea(0x3ba)]=_0x433301+0x1;});}async['SendScheduleMessage'](_0x6eebbf,_0x462634){const _0xf657bc=a0_0x20fba6;try{if(!_0x462634)return this[_0xf657bc(0x421)]['error'](this[_0xf657bc(0x1b4)]+'\x20('+this['instance']['wuid']+_0xf657bc(0x4f7)),{'error':!0x0,'detail':_0xf657bc(0x5fd)};if(_0x462634[_0xf657bc(0x7da)]==='flow'&&!this[_0xf657bc(0x52f)]?.['flowConfig'][_0xf657bc(0x73f)])return this[_0xf657bc(0x421)][_0xf657bc(0x3b7)](this['instanceName']+'\x20('+this[_0xf657bc(0x479)][_0xf657bc(0x661)]+_0xf657bc(0x6e9)),{'error':!0x0,'detail':_0xf657bc(0x252)};switch(_0x462634['type']){case _0xf657bc(0x339):return await this[_0xf657bc(0x274)](_0x462634,_0x6eebbf);case'video':case _0xf657bc(0x73b):case _0xf657bc(0x4cb):return await this['scheduleSendMedia'](_0x462634,_0x6eebbf);case'audio':return await this[_0xf657bc(0x1fa)](_0x462634,_0x6eebbf);case _0xf657bc(0x233):let _0x580298=new We();return _0x580298[_0xf657bc(0x217)]=_0x462634[_0xf657bc(0x233)],_0x580298['remoteJid']=_0x6eebbf,await this[_0xf657bc(0x522)](_0x580298);default:return this['logger'][_0xf657bc(0x3b7)](this[_0xf657bc(0x1b4)]+'\x20('+this[_0xf657bc(0x479)][_0xf657bc(0x661)]+_0xf657bc(0x7a9)+_0x462634[_0xf657bc(0x7da)]),{'error':!0x0,'detail':_0xf657bc(0x525)};}}catch(_0x207ced){return this['logger'][_0xf657bc(0x3b7)](this[_0xf657bc(0x1b4)]+'\x20('+this['instance'][_0xf657bc(0x661)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x207ced instanceof Error?_0x207ced['message']:JSON[_0xf657bc(0x27a)](_0x207ced,null,0x2))),{'error':!0x0,'detail':_0x207ced[_0xf657bc(0x34b)]};}}async[a0_0x20fba6(0x274)](_0x50057c,_0x5c3acb){const _0x1f3a5b=a0_0x20fba6;if(this[_0x1f3a5b(0x421)][_0x1f3a5b(0x76b)](this[_0x1f3a5b(0x1b4)]+'\x20('+this[_0x1f3a5b(0x479)][_0x1f3a5b(0x661)]+_0x1f3a5b(0x220)+_0x5c3acb+'\x27'),!_0x50057c[_0x1f3a5b(0x339)]||_0x50057c[_0x1f3a5b(0x339)][_0x1f3a5b(0x21c)]===0x0)return{'error':!0x0,'detail':_0x1f3a5b(0x69c)};let _0x41c546=await this[_0x1f3a5b(0x768)](_0x50057c['text'],_0x5c3acb),_0x5c58f1={'number':_0x5c3acb,'options':{'delay':_0x50057c[_0x1f3a5b(0x4c8)],'linkPreview':_0x50057c[_0x1f3a5b(0x860)]},'textMessage':{'text':_0x41c546}},_0x58bab7=null;try{let _0x5af81b=await this['textMessage'](_0x5c58f1);if(_0x5af81b&&_0x5af81b[_0x1f3a5b(0x59e)])return{'error':!0x1,'id':_0x5af81b['key']['id']};_0x58bab7=JSON[_0x1f3a5b(0x27a)](_0x5af81b),this[_0x1f3a5b(0x421)][_0x1f3a5b(0x76b)](this[_0x1f3a5b(0x1b4)]+'\x20('+this[_0x1f3a5b(0x479)]['wuid']+_0x1f3a5b(0x54d)+_0x58bab7);}catch(_0x3e160b){this['logger'][_0x1f3a5b(0x3b7)](this[_0x1f3a5b(0x1b4)]+'\x20('+this[_0x1f3a5b(0x479)][_0x1f3a5b(0x661)]+_0x1f3a5b(0x227)+(_0x3e160b instanceof Error?_0x3e160b[_0x1f3a5b(0x34b)]:JSON[_0x1f3a5b(0x27a)](_0x3e160b,null,0x2))),_0x58bab7=_0x3e160b[_0x1f3a5b(0x34b)];}if(_0x58bab7)return{'error':!0x0,'detail':(typeof _0x58bab7==_0x1f3a5b(0x6ff)?JSON[_0x1f3a5b(0x27a)](_0x58bab7,null,0x2):_0x58bab7)[_0x1f3a5b(0x4f4)](/[\[\]{}\n]/g,'\x20')[_0x1f3a5b(0x4f4)](/  +/g,'\x20')};}async[a0_0x20fba6(0x791)](_0x18a506,_0x4c58b4){const _0x2e3343=a0_0x20fba6;this[_0x2e3343(0x421)]['verbose'](this[_0x2e3343(0x1b4)]+'\x20('+this[_0x2e3343(0x479)][_0x2e3343(0x661)]+_0x2e3343(0x6a1)+_0x4c58b4+'\x27');let _0x2d3e23;_0x18a506[_0x2e3343(0x339)]&&_0x18a506[_0x2e3343(0x339)][_0x2e3343(0x21c)]>0x0&&(_0x2d3e23=await this[_0x2e3343(0x768)](_0x18a506[_0x2e3343(0x339)],_0x4c58b4));let _0xe50162={'number':_0x4c58b4,'options':{'delay':_0x18a506[_0x2e3343(0x4c8)],'linkPreview':_0x18a506[_0x2e3343(0x860)]},'mediaMessage':{'mediatype':_0x18a506[_0x2e3343(0x7da)],'caption':_0x2d3e23,'media':_0x18a506[_0x2e3343(0x25f)]}},_0xb2b17f=null;try{let _0x127094=await this['mediaMessage'](_0xe50162);if(_0x127094&&_0x127094['status'])return{'error':!0x1,'id':_0x127094[_0x2e3343(0x249)]['id']};_0xb2b17f=JSON[_0x2e3343(0x27a)](_0x127094),this['logger'][_0x2e3343(0x76b)](this[_0x2e3343(0x1b4)]+'\x20('+this[_0x2e3343(0x479)][_0x2e3343(0x661)]+_0x2e3343(0x54d)+_0xb2b17f);}catch(_0x356d7a){this[_0x2e3343(0x421)][_0x2e3343(0x3b7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2e3343(0x3ac)+(_0x356d7a instanceof Error?_0x356d7a[_0x2e3343(0x34b)]:JSON['stringify'](_0x356d7a,null,0x2))),_0xb2b17f=_0x356d7a[_0x2e3343(0x34b)];}if(_0xb2b17f)return{'error':!0x0,'detail':(typeof _0xb2b17f==_0x2e3343(0x6ff)?JSON[_0x2e3343(0x27a)](_0xb2b17f,null,0x2):_0xb2b17f)[_0x2e3343(0x4f4)](/[\[\]{}\n]/g,'\x20')[_0x2e3343(0x4f4)](/  +/g,'\x20')};}async[a0_0x20fba6(0x1fa)](_0x497815,_0x10e882){const _0x216653=a0_0x20fba6;this[_0x216653(0x421)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x216653(0x524)+_0x10e882+'\x27');let _0x334487={'number':_0x10e882,'options':{'delay':_0x497815['delay']},'audioMessage':{'audio':_0x497815[_0x216653(0x25f)]}},_0x325a99=null;try{let _0x545d6e=await this[_0x216653(0x70f)](_0x334487);if(_0x545d6e&&_0x545d6e[_0x216653(0x59e)])return{'error':!0x1,'id':_0x545d6e[_0x216653(0x249)]['id']};_0x325a99=JSON[_0x216653(0x27a)](_0x545d6e),this[_0x216653(0x421)]['verbose'](this[_0x216653(0x1b4)]+'\x20('+this[_0x216653(0x479)][_0x216653(0x661)]+_0x216653(0x54d)+_0x325a99);}catch(_0x466578){this['logger'][_0x216653(0x3b7)](this[_0x216653(0x1b4)]+'\x20('+this[_0x216653(0x479)][_0x216653(0x661)]+_0x216653(0x75f)+(_0x466578 instanceof Error?_0x466578[_0x216653(0x34b)]:JSON[_0x216653(0x27a)](_0x466578,null,0x2))),_0x325a99=_0x466578[_0x216653(0x34b)];}if(_0x325a99)return{'error':!0x0,'detail':(typeof _0x325a99==_0x216653(0x6ff)?JSON[_0x216653(0x27a)](_0x325a99,null,0x2):_0x325a99)['replace'](/[\[\]{}\n]/g,'\x20')[_0x216653(0x4f4)](/  +/g,'\x20')};}async[a0_0x20fba6(0x2ab)](_0x385bd7){const _0x45035b=a0_0x20fba6;try{return await this[_0x45035b(0x483)][_0x45035b(0x515)](_0x385bd7[_0x45035b(0x5bf)],_0x385bd7[_0x45035b(0x136)]),{'update':_0x45035b(0x595)};}catch(_0x5556e4){let _0x1ebf2d=_0x45035b(0x7f6),_0x4baa34=_0x5556e4 instanceof Error?_0x5556e4['message']:typeof _0x5556e4==_0x45035b(0x6ff)?JSON[_0x45035b(0x27a)](_0x5556e4):_0x5556e4,_0x5ee14b=_0x1ebf2d+':\x20'+_0x4baa34;throw this[_0x45035b(0x421)][_0x45035b(0x3b7)](this['instanceName']+'\x20('+this[_0x45035b(0x479)]['wuid']+'):\x20'+_0x5ee14b),new x(_0x5ee14b);}}async[a0_0x20fba6(0x7d9)](_0x40f55c){const _0x51e31a=a0_0x20fba6;try{return await this['client'][_0x51e31a(0x380)](_0x40f55c[_0x51e31a(0x5bf)],_0x40f55c[_0x51e31a(0x217)]),{'update':_0x51e31a(0x595)};}catch(_0x2b1e37){let _0x3d489a='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x58121a=_0x2b1e37 instanceof Error?_0x2b1e37['message']:typeof _0x2b1e37==_0x51e31a(0x6ff)?JSON[_0x51e31a(0x27a)](_0x2b1e37):_0x2b1e37,_0x25f899=_0x3d489a+':\x20'+_0x58121a;throw this['logger'][_0x51e31a(0x3b7)](this[_0x51e31a(0x1b4)]+'\x20('+this[_0x51e31a(0x479)][_0x51e31a(0x661)]+_0x51e31a(0x54d)+_0x25f899),new x(_0x25f899);}}async['toggleEphemeral'](_0x4ad159){const _0x10b28b=a0_0x20fba6;try{let _0x11e3cd=await this['client']['groupToggleEphemeral'](_0x4ad159[_0x10b28b(0x5bf)],_0x4ad159[_0x10b28b(0x27f)]);return{'success':!0x0};}catch(_0x5203de){let _0x35886b=_0x10b28b(0x1d3),_0x548118=_0x5203de instanceof Error?_0x5203de[_0x10b28b(0x34b)]:typeof _0x5203de==_0x10b28b(0x6ff)?JSON['stringify'](_0x5203de):_0x5203de,_0x245a80=_0x35886b+':\x20'+_0x548118;throw this['logger'][_0x10b28b(0x3b7)](this[_0x10b28b(0x1b4)]+'\x20('+this[_0x10b28b(0x479)][_0x10b28b(0x661)]+_0x10b28b(0x54d)+_0x245a80),new x(_0x245a80);}}async[a0_0x20fba6(0x79c)](_0x214b96){const _0x42cca7=a0_0x20fba6;try{return await this[_0x42cca7(0x483)][_0x42cca7(0x81d)](_0x214b96['groupJid'],_0x214b96[_0x42cca7(0x30e)]),{'update':'success'};}catch(_0x1b02c9){let _0xfa536a=_0x42cca7(0x7f0),_0x1dbc72=_0x1b02c9 instanceof Error?_0x1b02c9[_0x42cca7(0x34b)]:typeof _0x1b02c9==_0x42cca7(0x6ff)?JSON[_0x42cca7(0x27a)](_0x1b02c9):_0x1b02c9,_0x23ac37=_0xfa536a+':\x20'+_0x1dbc72;throw this[_0x42cca7(0x421)][_0x42cca7(0x3b7)](this[_0x42cca7(0x1b4)]+'\x20('+this[_0x42cca7(0x479)][_0x42cca7(0x661)]+'):\x20'+_0x23ac37),new x(_0x23ac37);}}async[a0_0x20fba6(0x577)](_0x192594){const _0x33208b=a0_0x20fba6;try{let _0xd4a390;if((0x0,k[_0x33208b(0x34d)])(_0x192594[_0x33208b(0x73b)])){let _0x16d44b=new Date()[_0x33208b(0x336)](),_0x1983b1=_0x192594[_0x33208b(0x73b)]+_0x33208b(0x48b)+_0x16d44b;_0xd4a390=(await Y[_0x33208b(0x269)][_0x33208b(0x6b2)](_0x1983b1,{'responseType':_0x33208b(0x683)}))[_0x33208b(0x6b6)];}else{if((0x0,k[_0x33208b(0x550)])(_0x192594[_0x33208b(0x73b)]))_0xd4a390=Buffer[_0x33208b(0x3e5)](_0x192594[_0x33208b(0x73b)],'base64');else throw new m(_0x33208b(0x158));}return await this[_0x33208b(0x483)]['updateProfilePicture'](_0x192594[_0x33208b(0x5bf)],_0xd4a390),{'update':'success'};}catch(_0x57213a){let _0x1eaa80=_0x33208b(0x5e0),_0x4f746b=_0x57213a instanceof Error?_0x57213a[_0x33208b(0x34b)]:typeof _0x57213a==_0x33208b(0x6ff)?JSON[_0x33208b(0x27a)](_0x57213a):_0x57213a,_0xc8832f=_0x1eaa80+':\x20'+_0x4f746b;throw this[_0x33208b(0x421)][_0x33208b(0x3b7)](this[_0x33208b(0x1b4)]+'\x20('+this[_0x33208b(0x479)][_0x33208b(0x661)]+_0x33208b(0x54d)+_0xc8832f),new x(_0xc8832f);}}},Jt=class u{constructor(_0x4e1743,_0x252f86,_0x26d047){const _0x5ab3af=a0_0x20fba6;this[_0x5ab3af(0x695)]=_0x4e1743,this[_0x5ab3af(0x4e8)]=_0x252f86,this[_0x5ab3af(0x1d5)]=_0x26d047,this['db']={},this[_0x5ab3af(0x503)]={},this[_0x5ab3af(0x421)]=new $(u[_0x5ab3af(0x217)]),this[_0x5ab3af(0x18e)]={},(this[_0x5ab3af(0x30c)](),this[_0x5ab3af(0x38e)](),Object[_0x5ab3af(0x3fa)](this['db'],_0x252f86[_0x5ab3af(0x6b2)]('DATABASE')),Object['assign'](this[_0x5ab3af(0x503)],_0x252f86['get']('REDIS')),this[_0x5ab3af(0x819)]=this['db']['ENABLED']?this['repository'][_0x5ab3af(0x301)]?.['db'](this['db'][_0x5ab3af(0x6b0)][_0x5ab3af(0x426)]+_0x5ab3af(0x36c)):void 0x0,this[_0x5ab3af(0x788)]=this['redis'][_0x5ab3af(0x42c)]?new de(this[_0x5ab3af(0x503)]):void 0x0);}async[a0_0x20fba6(0x823)](_0x3d6b44){const _0x2223f4=a0_0x20fba6;if(_0x3d6b44&&!this[_0x2223f4(0x18e)][_0x3d6b44])throw new j(_0x2223f4(0x2da)+_0x3d6b44+'\x22\x20not\x20found');let _0x1283a7=[];for await(let [_0x2c513e,_0x4d5c3c]of Object['entries'](this[_0x2223f4(0x18e)]))if(_0x4d5c3c&&_0x4d5c3c['connectionStatus']['state']===_0x2223f4(0x637)){let _0x4f9b56=await this[_0x2223f4(0x1d5)][_0x2223f4(0x52b)][_0x2223f4(0x568)](_0x2c513e);_0x1283a7[_0x2223f4(0x2af)]({'instance':{'instanceName':_0x2c513e,'apikey':_0x4f9b56['apikey'],'owner':_0x4d5c3c[_0x2223f4(0x661)],'profileName':await _0x4d5c3c[_0x2223f4(0x1ad)]()||_0x2223f4(0x356),'profilePictureUrl':_0x4d5c3c[_0x2223f4(0x776)]}});}return _0x1283a7['find'](_0xe742cf=>_0xe742cf[_0x2223f4(0x479)][_0x2223f4(0x1b4)]===_0x3d6b44)??_0x1283a7;}async[a0_0x20fba6(0x781)](_0x2f1ce7){const _0x237b4d=a0_0x20fba6;if(this['db'][_0x237b4d(0x42c)]&&(await this['repository'][_0x237b4d(0x301)][_0x237b4d(0x596)](),(await this['dbInstance'][_0x237b4d(0x256)]())['length']>0x0&&await this[_0x237b4d(0x819)][_0x237b4d(0x772)](_0x2f1ce7)),this[_0x237b4d(0x503)][_0x237b4d(0x42c)]){this[_0x237b4d(0x788)][_0x237b4d(0x76e)]=_0x2f1ce7,await this[_0x237b4d(0x788)][_0x237b4d(0x5bd)]();return;}}async['loadInstance'](){const _0x15c662=a0_0x20fba6;await this[_0x15c662(0x293)]();let _0x4d6c3a=async _0x1e1c26=>{const _0x4e667b=_0x15c662;let _0xa34fc8=new $e(this[_0x4e667b(0x4e8)],this[_0x4e667b(0x695)],this[_0x4e667b(0x1d5)]);_0xa34fc8[_0x4e667b(0x1b4)]=_0x1e1c26,await _0xa34fc8['connectToWhatsapp'](),this[_0x4e667b(0x18e)][_0x1e1c26]=_0xa34fc8;};try{if(this['redis']['ENABLED']){let _0x1664bb=await this[_0x15c662(0x788)][_0x15c662(0x33a)]();_0x1664bb?.[_0x15c662(0x21c)]>0x0&&_0x1664bb['forEach'](async _0x2750b8=>await _0x4d6c3a(_0x2750b8['split'](':')[0x1]));return;}if(this['db'][_0x15c662(0x42c)]){await this['repository']['dbServer'][_0x15c662(0x596)]();let _0x414af7=await this[_0x15c662(0x819)][_0x15c662(0x256)]();_0x414af7[_0x15c662(0x21c)]>0x0&&_0x414af7[_0x15c662(0x871)](async _0x4a253b=>await _0x4d6c3a(_0x4a253b[_0x15c662(0x10e)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x15d0d7){this[_0x15c662(0x421)][_0x15c662(0x3b7)](_0x15d0d7);}}async[a0_0x20fba6(0x327)](){const _0xc7039b=a0_0x20fba6;try{let _0x44c843=await this[_0xc7039b(0x1d5)][_0xc7039b(0x52b)][_0xc7039b(0x600)]({'online':!0x1});for(let _0x990d81 of _0x44c843){let _0x3a481c=_0x990d81[_0xc7039b(0x2a0)];await ae['removeIPv6ById'](W,_0x3a481c);}console[_0xc7039b(0x324)](_0xc7039b(0x5c8)+_0x44c843[_0xc7039b(0x21c)]);let _0x4c99d2={'online':!0x1},_0x2ae4f2=await this['repository'][_0xc7039b(0x52b)][_0xc7039b(0x407)](_0x4c99d2);console['log'](_0xc7039b(0x4f0)+_0x2ae4f2[_0xc7039b(0x57e)]);}catch(_0x472399){console['error']('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0x472399);}}async[a0_0x20fba6(0x293)](){const _0x17776c=a0_0x20fba6;try{let _0x350c8b={'online':!0x1},_0x32f842={'online':!0x1,'lastDisconnect':Date[_0x17776c(0x1a6)]()},_0x147742=await this['repository'][_0x17776c(0x52b)][_0x17776c(0x690)](_0x350c8b,_0x32f842);await this[_0x17776c(0x327)]();}catch(_0x3e35dd){console[_0x17776c(0x3b7)](_0x17776c(0x53b),_0x3e35dd);}}[a0_0x20fba6(0x30c)](){const _0x4ca7df=a0_0x20fba6;this[_0x4ca7df(0x695)]['on'](_0x4ca7df(0x4c2),async _0x3dc0b2=>{const _0x5450c9=_0x4ca7df;try{this[_0x5450c9(0x18e)][_0x3dc0b2]=void 0x0;}catch{}try{this[_0x5450c9(0x781)](_0x3dc0b2);}finally{this[_0x5450c9(0x421)][_0x5450c9(0x536)](_0x5450c9(0x2da)+_0x3dc0b2+_0x5450c9(0x11e));}});}[a0_0x20fba6(0x38e)](){const _0x4b6e07=a0_0x20fba6;this['eventEmitter']['on'](_0x4b6e07(0x641),async _0x2367c2=>{const _0x27caf8=_0x4b6e07;try{this['waInstances'][_0x2367c2]=void 0x0;}catch{}try{this[_0x27caf8(0x781)](_0x2367c2);}finally{this[_0x27caf8(0x421)][_0x27caf8(0x536)](_0x27caf8(0x2da)+_0x2367c2+_0x27caf8(0x73d));}});}},qt=class extends _{[a0_0x20fba6(0x484)](_0x2aed39){return Zs(_0x2aed39);}async[a0_0x20fba6(0x42f)](_0x538c6c){const _0x2e69fb=a0_0x20fba6;if(_0x538c6c['length']!==0x0)try{return{'insertCount':(await this[_0x2e69fb(0x484)](_0x538c6c[0x0][_0x2e69fb(0x565)])[_0x2e69fb(0x527)]([..._0x538c6c]))[_0x2e69fb(0x21c)]};}catch(_0x9a4ab5){return _0x9a4ab5;}}async[a0_0x20fba6(0x568)](_0x16a0aa,_0x266fa8){const _0x14bf6f=a0_0x20fba6;try{let _0x1ee6d1=this[_0x14bf6f(0x484)](_0x266fa8),_0x28df57=I(_0x16a0aa[_0x14bf6f(0x31c)]);return await _0x1ee6d1['find'](_0x28df57)[_0x14bf6f(0x529)]({'lastmsg':-0x1})[_0x14bf6f(0x266)](_0x16a0aa?.['limit']??0x0)[_0x14bf6f(0x542)]();}catch{return[];}}async[a0_0x20fba6(0x643)](_0x295c94,_0x22267a){const _0x14c57d=a0_0x20fba6;try{let _0x5a18b1=this[_0x14c57d(0x484)](_0x22267a),_0x535988=I(_0x295c94[_0x14c57d(0x31c)]);return _0x535988[_0x14c57d(0x14c)]={'$ne':[]},await _0x5a18b1[_0x14c57d(0x568)](_0x535988)[_0x14c57d(0x529)]({'lastmsg':-0x1})[_0x14c57d(0x266)](_0x295c94?.[_0x14c57d(0x266)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x4fa148,_0x212959){const _0x285636=a0_0x20fba6;try{return{'deletedCount':(await this[_0x285636(0x484)](_0x212959)[_0x285636(0x407)]({..._0x4fa148[_0x285636(0x31c)]}))[_0x285636(0x16e)]};}catch(_0x1b74c8){return{'error':_0x1b74c8?.[_0x285636(0x176)]()};}}async[a0_0x20fba6(0x315)](_0x2a02ff,_0x11dc11){const _0x1b9759=a0_0x20fba6;try{return await this[_0x1b9759(0x484)](_0x11dc11)['deleteMany']({..._0x2a02ff[_0x1b9759(0x31c)]}),[];}catch(_0xf8fef9){return{'error':_0xf8fef9?.[_0x1b9759(0x176)]()};}}async['findOne'](_0x3b3a19,_0x52f047){const _0x16ba41=a0_0x20fba6;try{let _0x50d0a7=this[_0x16ba41(0x484)](_0x52f047),_0x3dae32=I(_0x3b3a19[_0x16ba41(0x31c)]);return await _0x50d0a7[_0x16ba41(0x79e)](_0x3dae32)[_0x16ba41(0x542)]();}catch{return null;}}async[a0_0x20fba6(0x1e8)](_0x4c102c,_0x387522,_0xa02d78,_0x37d045,_0x29e3dc='$set'){const _0x252827=a0_0x20fba6;try{let _0x56c106={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x37d045},_0x3e6df8=this[_0x252827(0x484)](_0xa02d78),_0x531711=I(_0x4c102c['where']);Object['keys'](_0x387522)[_0x252827(0x871)](_0x47fdb6=>{_0x387522[_0x47fdb6]==null&&delete _0x387522[_0x47fdb6];});let _0x423fc7={};return _0x423fc7[_0x29e3dc]=_0x387522,await _0x3e6df8[_0x252827(0x59c)](_0x531711,_0x423fc7,_0x56c106);}catch(_0x1f814d){return console['error'](_0x1f814d),null;}}async[a0_0x20fba6(0x3eb)](_0x310769){const _0xf2f330=a0_0x20fba6;try{let _0x55100c=this[_0xf2f330(0x484)](_0x310769[0x0][_0xf2f330(0x1e2)]['where']['owner']),_0x58c88f=_0x310769[_0xf2f330(0x5a9)](_0x2efd12=>({'updateOne':{'filter':{..._0x2efd12[_0xf2f330(0x1e2)][_0xf2f330(0x31c)]},'update':{'$set':_0x2efd12[_0xf2f330(0x589)]},'upsert':!0x0}})),_0xdd644b=await _0x55100c[_0xf2f330(0x504)](_0x58c88f);return _0xdd644b[_0xf2f330(0x6df)]+_0xdd644b[_0xf2f330(0x154)];}catch(_0x7b5e15){return console[_0xf2f330(0x3b7)](_0x7b5e15),0x0;}}async[a0_0x20fba6(0x35b)](_0x3ae1c7){const _0x53f3fd=a0_0x20fba6;try{let _0x49c8a7={'group_isCommunity':'','group_announce':'','group_size':''},_0x34f61f={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x466b58={'$unset':_0x49c8a7};return(await this[_0x53f3fd(0x484)](_0x3ae1c7)[_0x53f3fd(0x3eb)](_0x34f61f,_0x466b58))[_0x53f3fd(0x6df)];}catch(_0x1d40d8){return console[_0x53f3fd(0x3b7)](_0x53f3fd(0x3d2),_0x1d40d8),0x0;}}async[a0_0x20fba6(0x691)](_0x2e29cc){const _0xd169e7=a0_0x20fba6;try{let _0x84987b=this[_0xd169e7(0x484)](_0x2e29cc),_0x36fa0e={'leadInfo.etiquetas':{'$exists':!0x1}},_0x5d1810={'$set':{'leadInfo.etiquetas':[]}};return(await _0x84987b['updateMany'](_0x36fa0e,_0x5d1810))[_0xd169e7(0x6df)];}catch(_0xd8e4b4){return console['error'](_0xd8e4b4),0x0;}}async[a0_0x20fba6(0x6f5)](_0x4d63cc){const _0x18e3da=a0_0x20fba6;try{let _0x5bb3a3=this['getChatModelForOwner'](_0x4d63cc),_0x2959a2={'leadInfo.tags':{'$exists':!0x1}},_0x1b7532={'$set':{'leadInfo.tags':[]}};return(await _0x5bb3a3[_0x18e3da(0x3eb)](_0x2959a2,_0x1b7532))[_0x18e3da(0x6df)];}catch(_0x1e5f2b){return console['error'](_0x1e5f2b),0x0;}}async['updateMissingCustomFields'](_0x4af711){const _0x2eec69=a0_0x20fba6;try{let _0x4b4a70=this[_0x2eec69(0x484)](_0x4af711),_0x1330ef={'leadInfo.customFields':{'$exists':!0x1}},_0x1d251b={'$set':{'leadInfo.customFields':[]}};return(await _0x4b4a70['updateMany'](_0x1330ef,_0x1d251b))[_0x2eec69(0x6df)];}catch(_0x34aae8){return console[_0x2eec69(0x3b7)](_0x34aae8),0x0;}}async[a0_0x20fba6(0x527)](_0x26d0e8,_0x119413){const _0x54ca36=a0_0x20fba6;if(!Array[_0x54ca36(0x5e4)](_0x26d0e8)||_0x26d0e8[_0x54ca36(0x21c)]===0x0)throw new Error(_0x54ca36(0x174));try{return(await this[_0x54ca36(0x484)](_0x119413)['insertMany'](_0x26d0e8))[_0x54ca36(0x21c)];}catch(_0x28f240){throw console[_0x54ca36(0x3b7)](_0x54ca36(0x57d),_0x28f240),_0x28f240;}}async[a0_0x20fba6(0x644)](_0x14a529,_0x43e17d){const _0x2fe57f=a0_0x20fba6;try{await this[_0x2fe57f(0x484)](_0x43e17d)[_0x2fe57f(0x763)]({'_id':_0x14a529});}catch(_0x4668e3){throw console[_0x2fe57f(0x3b7)](_0x2fe57f(0x21f),_0x4668e3),_0x4668e3;}}},Vt=class extends _{constructor(_0xd9808,_0x322c6e,_0x478aad){const _0x20ceb9=a0_0x20fba6;super(_0x322c6e),this[_0x20ceb9(0x491)]=_0xd9808,this['configService']=_0x322c6e,this['dbConnection']=_0x478aad;}async['insert'](_0x342df1){const _0xd54d8e=a0_0x20fba6;if(_0x342df1[_0xd54d8e(0x21c)]!==0x0)try{return{'insertCount':(await this[_0xd54d8e(0x491)][_0xd54d8e(0x527)]([..._0x342df1]))[_0xd54d8e(0x21c)]};}catch(_0x48abb8){return _0x48abb8;}}async['update'](_0x55ca47,_0x1aa419){const _0x57d96b=a0_0x20fba6;try{let _0x510419=I(_0x55ca47[_0x57d96b(0x31c)]);return{'updatedCount':(await this['cacheContactModel'][_0x57d96b(0x3eb)](_0x510419,{'$set':_0x1aa419}))['modifiedCount']};}catch(_0x396024){return console[_0x57d96b(0x3b7)](_0x57d96b(0x164),_0x396024),{'error':_0x396024[_0x57d96b(0x176)]()};}}async[a0_0x20fba6(0x487)](_0x881df2){const _0x590647=a0_0x20fba6;try{let _0x56a65a={'_id':{'$in':_0x881df2}};return await this[_0x590647(0x491)][_0x590647(0x568)](_0x56a65a)[_0x590647(0x542)]();}catch(_0x20e410){return console[_0x590647(0x3b7)]('Error\x20finding\x20many\x20contacts:',_0x20e410),[];}}async[a0_0x20fba6(0x665)](_0x4a3a2a){const _0x3565a5=a0_0x20fba6;try{return{'deletedCount':(await this[_0x3565a5(0x491)]['deleteMany']({..._0x4a3a2a[_0x3565a5(0x31c)]}))[_0x3565a5(0x16e)]};}catch(_0xfb544b){return{'error':_0xfb544b?.['toString']()};}}async[a0_0x20fba6(0x568)](_0x31d58a){const _0x1182f2=a0_0x20fba6;try{let _0xadfae0=I(_0x31d58a[_0x1182f2(0x31c)]);return await this[_0x1182f2(0x491)]['find'](_0xadfae0)['limit'](_0x31d58a?.[_0x1182f2(0x266)]??0x0)[_0x1182f2(0x542)]();}catch{return[];}}async[a0_0x20fba6(0x79e)](_0x47a583){const _0x3165e6=a0_0x20fba6;try{let _0x586dee=I(_0x47a583[_0x3165e6(0x31c)]);return await this[_0x3165e6(0x491)]['findOne'](_0x586dee)[_0x3165e6(0x542)]();}catch{return null;}}},Gt=class extends _{[a0_0x20fba6(0x496)](_0x429b4b){return Ma(_0x429b4b);}async[a0_0x20fba6(0x1e8)](_0x208594,_0x2a57d6,_0xaf0dd6,_0x1c4f8d){const _0x45a2dc=a0_0x20fba6;try{let _0x6027e5={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1c4f8d},_0x29f893=this[_0x45a2dc(0x496)](_0xaf0dd6),_0x3f7d71=I(_0x208594[_0x45a2dc(0x31c)]);return await _0x29f893['findOneAndUpdate'](_0x3f7d71,{'$set':_0x2a57d6},_0x6027e5);}catch(_0x2f922c){return console[_0x45a2dc(0x3b7)](_0x2f922c),null;}}async['find'](_0x5150af,_0x219cda){const _0x9f78a9=a0_0x20fba6;try{let _0x16e4cb=this[_0x9f78a9(0x496)](_0x219cda),_0x472567=I(_0x5150af[_0x9f78a9(0x31c)]);return await _0x16e4cb[_0x9f78a9(0x568)](_0x472567);}catch(_0x5bac32){console[_0x9f78a9(0x3b7)](_0x5bac32);}}async[a0_0x20fba6(0x665)](_0x448104,_0x748dce){const _0x513528=a0_0x20fba6;try{let _0x45c50f=this['getLabelModelForOwner'](_0x748dce),_0x102351=I(_0x448104['where']);await _0x45c50f[_0x513528(0x407)](_0x102351);}catch(_0x3d792d){console[_0x513528(0x3b7)](_0x3d792d);}}async[a0_0x20fba6(0x315)](_0x532d72){const _0x59fbfd=a0_0x20fba6;try{return await this[_0x59fbfd(0x496)](_0x532d72)[_0x59fbfd(0x632)][_0x59fbfd(0x2ba)](),{'success':!0x0};}catch(_0x2c5a85){return console['error'](_0x2c5a85),{'success':!0x1,'error':_0x2c5a85};}}},Bt=class{constructor(_0xb0fd38){this['waMonitor']=_0xb0fd38;}async['editChat']({instanceName:_0x52237f},_0x2604ef){const _0x230164=a0_0x20fba6;return await this[_0x230164(0x2ec)]['waInstances'][_0x52237f][_0x230164(0x704)](_0x2604ef);}async[a0_0x20fba6(0x43c)]({instanceName:_0x7accae},_0x4a7733){const _0xd0d57c=a0_0x20fba6;return await this[_0xd0d57c(0x2ec)][_0xd0d57c(0x18e)][_0x7accae][_0xd0d57c(0x43c)](_0x4a7733);}async[a0_0x20fba6(0x1da)]({instanceName:_0x230fc3},_0x4d8ea2){const _0x5675cb=a0_0x20fba6;return await this[_0x5675cb(0x2ec)][_0x5675cb(0x18e)][_0x230fc3][_0x5675cb(0x1da)](_0x4d8ea2);}async[a0_0x20fba6(0x439)]({instanceName:_0x55eca9},_0x4dec29){const _0x51e286=a0_0x20fba6;return await this[_0x51e286(0x2ec)][_0x51e286(0x18e)][_0x55eca9][_0x51e286(0x469)](_0x4dec29);}async[a0_0x20fba6(0x2bd)]({instanceName:_0x29c2a1},_0x308d41){const _0x5051c1=a0_0x20fba6;return await this[_0x5051c1(0x2ec)][_0x5051c1(0x18e)][_0x29c2a1]['archiveChat'](_0x308d41);}async[a0_0x20fba6(0x6ed)]({instanceName:_0x28c97e},_0x2a531e){const _0x493576=a0_0x20fba6;return await this[_0x493576(0x2ec)][_0x493576(0x18e)][_0x28c97e][_0x493576(0x6ed)](_0x2a531e);}async[a0_0x20fba6(0x7fd)]({instanceName:_0x5acd8e},_0x531620){const _0x28ec68=a0_0x20fba6;return await this['waMonitor']['waInstances'][_0x5acd8e][_0x28ec68(0x14b)](_0x531620[_0x28ec68(0x63d)]);}async[a0_0x20fba6(0x73e)]({instanceName:_0x34c331},_0x503d90){const _0x4835a6=a0_0x20fba6;return await this[_0x4835a6(0x2ec)]['waInstances'][_0x34c331][_0x4835a6(0x73e)](_0x503d90[_0x4835a6(0x63d)]);}async[a0_0x20fba6(0x517)]({instanceName:_0x80abb1},_0x35c05d){const _0x40523a=a0_0x20fba6;return await this['waMonitor'][_0x40523a(0x18e)][_0x80abb1][_0x40523a(0x517)](_0x35c05d);}async['fetchContacts']({instanceName:_0x15d02d},_0x4a280d){const _0x1766ab=a0_0x20fba6;return await this[_0x1766ab(0x2ec)][_0x1766ab(0x18e)][_0x15d02d][_0x1766ab(0x2d8)](_0x4a280d);}async[a0_0x20fba6(0x2d7)]({instanceName:_0x59a1be},_0x54bd23){const _0x2e7fa8=a0_0x20fba6;return await this['waMonitor']['waInstances'][_0x59a1be][_0x2e7fa8(0x2d7)](_0x54bd23);}async['fetchMessages']({instanceName:_0x34cc62},_0x30bfe8){const _0x358a88=a0_0x20fba6;return await this[_0x358a88(0x2ec)][_0x358a88(0x18e)][_0x34cc62][_0x358a88(0x57b)](_0x30bfe8);}async[a0_0x20fba6(0x864)]({instanceName:_0x2e21d9}){const _0x4379f4=a0_0x20fba6;return await this[_0x4379f4(0x2ec)]['waInstances'][_0x2e21d9][_0x4379f4(0x864)]();}async[a0_0x20fba6(0x372)]({instanceName:_0x4505ff}){const _0x27f024=a0_0x20fba6;return await this[_0x27f024(0x2ec)][_0x27f024(0x18e)][_0x4505ff]['fetchChats']();}async[a0_0x20fba6(0x5a4)]({instanceName:_0x3246ab}){const _0x27e886=a0_0x20fba6;return await this['waMonitor'][_0x27e886(0x18e)][_0x3246ab][_0x27e886(0x5a4)]();}async['updatePrivacySettings']({instanceName:_0x35a0f6},_0x479db3){const _0x4878c8=a0_0x20fba6;return await this[_0x4878c8(0x2ec)][_0x4878c8(0x18e)][_0x35a0f6]['updatePrivacySettings'](_0x479db3);}async['fetchBusinessProfile']({instanceName:_0x2a5846},_0x1f15a7){const _0xb6acdb=a0_0x20fba6;return await this[_0xb6acdb(0x2ec)][_0xb6acdb(0x18e)][_0x2a5846][_0xb6acdb(0x393)](_0x1f15a7['number']);}async[a0_0x20fba6(0x2d9)]({instanceName:_0x2bbdda},_0x46db63){const _0x2e7f1d=a0_0x20fba6;return await this[_0x2e7f1d(0x2ec)][_0x2e7f1d(0x18e)][_0x2bbdda][_0x2e7f1d(0x2d9)](_0x46db63['name']);}async[a0_0x20fba6(0x40e)]({instanceName:_0x1f24e3},_0x88f777){const _0x30426a=a0_0x20fba6;return await this[_0x30426a(0x2ec)]['waInstances'][_0x1f24e3][_0x30426a(0x40e)](_0x88f777[_0x30426a(0x59e)]);}async[a0_0x20fba6(0x7aa)]({instanceName:_0x136037},_0xf2e32e){const _0x3b0f94=a0_0x20fba6;return await this[_0x3b0f94(0x2ec)][_0x3b0f94(0x18e)][_0x136037][_0x3b0f94(0x7aa)](_0xf2e32e[_0x3b0f94(0x6aa)]);}async[a0_0x20fba6(0x563)]({instanceName:_0x311507},_0xcde533){const _0x628539=a0_0x20fba6;return await this['waMonitor'][_0x628539(0x18e)][_0x311507][_0x628539(0x563)]();}},Wt=require(a0_0x20fba6(0x74b)),zt=class u{constructor(_0x25d4ad,_0x552f65,_0x5f1c55,_0x2b729f,_0x2758af){const _0x3321df=a0_0x20fba6;this['waMonitor']=_0x25d4ad,this[_0x3321df(0x4e8)]=_0x552f65,this[_0x3321df(0x1d5)]=_0x5f1c55,this['eventEmitter']=_0x2b729f,this[_0x3321df(0x807)]=_0x2758af,this['logger']=new $(u[_0x3321df(0x217)]);}async[a0_0x20fba6(0x3e3)]({instanceName:_0x334c84,apikey:_0x5bd2b6,number:_0x41575c,proxy:_0xaaf445=!0x0}){const _0x1dfb0a=a0_0x20fba6;try{let _0x3f728d=new $e(this['configService'],this['eventEmitter'],this[_0x1dfb0a(0x1d5)]);_0x3f728d[_0x1dfb0a(0x1b4)]=_0x334c84,this[_0x1dfb0a(0x2ec)]['waInstances'][_0x3f728d['instanceName']]=_0x3f728d;let _0x66e860={};_0x5bd2b6?(await this[_0x1dfb0a(0x1d5)][_0x1dfb0a(0x52b)][_0x1dfb0a(0x19e)]({'apikey':_0x5bd2b6},_0x334c84),_0x66e860[_0x1dfb0a(0x81c)]=_0x5bd2b6):_0x66e860=await this[_0x1dfb0a(0x807)][_0x1dfb0a(0x2e2)]({'instanceName':_0x3f728d[_0x1dfb0a(0x1b4)]});let _0xdabc34;if(_0x41575c){if(_0xdabc34=await this[_0x1dfb0a(0x2d5)](_0x41575c),_0xdabc34['error'])throw new x(_0xdabc34[_0x1dfb0a(0x3b7)][_0x1dfb0a(0x176)]());_0x41575c=_0xdabc34[_0x1dfb0a(0x63d)];}let _0x199cfb;return await _0x3f728d[_0x1dfb0a(0x214)](_0x41575c),await(0x0,Wt[_0x1dfb0a(0x4c8)])(0xfa0),_0x41575c&&await(0x0,Wt['delay'])(0xbb8),_0x199cfb=_0x3f728d[_0x1dfb0a(0x287)],{'instance':{'instanceName':_0x3f728d[_0x1dfb0a(0x1b4)],'status':_0x1dfb0a(0x678)},'hash':_0x66e860,'qrcode':_0x199cfb};}catch(_0x194caf){throw this[_0x1dfb0a(0x421)][_0x1dfb0a(0x3b7)](_0x194caf),_0x194caf;}}async['connectToWhatsappController']({instanceName:_0xab950d,number:_0x305805=null}){const _0x12cd68=a0_0x20fba6;try{let _0x58977e=this[_0x12cd68(0x2ec)][_0x12cd68(0x18e)][_0xab950d];switch(_0x58977e?.[_0x12cd68(0x7f4)]?.[_0x12cd68(0x6f8)]){case _0x12cd68(0x603):return await _0x58977e[_0x12cd68(0x214)](_0x305805),await(0x0,Wt['delay'])(0x7d0),_0x58977e[_0x12cd68(0x287)];case _0x12cd68(0x222):return _0x58977e[_0x12cd68(0x287)];default:return await this[_0x12cd68(0x50b)]({'instanceName':_0xab950d});}}catch(_0x4abf4f){this[_0x12cd68(0x421)][_0x12cd68(0x324)](_0x4abf4f);}}async['connectionState']({instanceName:_0x12ad9a}){const _0x40cfe1=a0_0x20fba6;let _0x218403=this[_0x40cfe1(0x2ec)][_0x40cfe1(0x18e)][_0x12ad9a][_0x40cfe1(0x7f4)],_0x500b73=null;_0x218403[_0x40cfe1(0x6f8)]===_0x40cfe1(0x637)&&_0x12ad9a&&(_0x500b73=await this['waMonitor'][_0x40cfe1(0x823)](_0x12ad9a));let _0x1583e1=null;return _0x218403[_0x40cfe1(0x6f8)]===_0x40cfe1(0x222)&&_0x12ad9a&&(_0x1583e1=this[_0x40cfe1(0x2ec)][_0x40cfe1(0x18e)][_0x12ad9a]['qrCode']),{'instance':_0x12ad9a,'connectionStatus':_0x218403,'instanceInfo':_0x500b73,'qrcode':_0x1583e1};}async[a0_0x20fba6(0x2d5)](_0x1fb1ca){const _0x32c709=a0_0x20fba6;_0x1fb1ca=_0x1fb1ca[_0x32c709(0x4f4)](/\D/g,'');let _0x38e7ad=Object[_0x32c709(0x1c7)](this[_0x32c709(0x2ec)][_0x32c709(0x18e)])[_0x32c709(0x7a2)](_0x389487=>{const _0x385164=_0x32c709;let _0x2a6ee0=this[_0x385164(0x2ec)][_0x385164(0x18e)][_0x389487];return _0x2a6ee0&&_0x2a6ee0['connectionStatus']&&_0x2a6ee0[_0x385164(0x7f4)][_0x385164(0x6f8)]===_0x385164(0x637);});if(_0x38e7ad['length']===0x0)return{'number':this[_0x32c709(0x466)](_0x1fb1ca)};let _0x304257=Math[_0x32c709(0x23f)](Math['random']()*_0x38e7ad[_0x32c709(0x21c)]),_0x1de2f2=_0x38e7ad[_0x304257];try{let _0x3a7d47=(await this[_0x32c709(0x2ec)][_0x32c709(0x18e)][_0x1de2f2]['whatsappNumber']({'numbers':[_0x1fb1ca]}))[_0x32c709(0x128)]();return _0x3a7d47[_0x32c709(0x478)]?{'number':_0x3a7d47[_0x32c709(0x4b4)][_0x32c709(0x4f4)](_0x32c709(0x1e4),'')}:{'number':_0x1fb1ca,'error':_0x32c709(0x760)};}catch(_0x56559e){return this[_0x32c709(0x421)][_0x32c709(0x3b7)](_0x32c709(0x45c)+_0x56559e),{'number':_0x1fb1ca,'error':_0x32c709(0x371)};}}[a0_0x20fba6(0x466)](_0x28d905){const _0x5c4822=a0_0x20fba6;let _0x4d5d81=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5c4822(0x6f1)](_0x28d905);if(_0x4d5d81&&_0x4d5d81[0x1]==='55'){let _0x97005=_0x4d5d81[0x2],_0xcd2bef=_0x4d5d81[0x3],_0xda25a1=_0x4d5d81[0x4];if(parseInt(_0x97005)>=0x1f&&_0xcd2bef==='9')return _0x4d5d81[0x1]+_0x97005+_0xda25a1;}return _0x28d905;}async[a0_0x20fba6(0x4dc)]({instanceName:_0xe714b8}){const _0x670c71=a0_0x20fba6;try{return this[_0x670c71(0x2ec)]['waInstances'][_0xe714b8]?.[_0x670c71(0x483)]?.['ws']?.[_0x670c71(0x603)](),{'status':_0x670c71(0x44b),'error':!0x1,'response':{'message':_0x670c71(0x126)}};}catch(_0x43d2c0){this['logger']['error'](_0x43d2c0);}}async[a0_0x20fba6(0x442)]({instanceName:_0x49f4dd}){const _0x4ed576=a0_0x20fba6;return _0x49f4dd?this[_0x4ed576(0x2ec)][_0x4ed576(0x823)](_0x49f4dd):this[_0x4ed576(0x2ec)]['instanceInfo']();}async[a0_0x20fba6(0x4f6)]({instanceName:_0x5e8914}){const _0x149564=a0_0x20fba6;try{return await this['waMonitor']['waInstances'][_0x5e8914]?.[_0x149564(0x483)]?.['logout']('Log\x20out\x20instance:\x20'+_0x5e8914),{'error':!0x1,'message':_0x149564(0x304)};}catch(_0x4c420d){throw new x(_0x4c420d['toString']());}}async[a0_0x20fba6(0x115)]({instanceName:_0x4e9d11}){const _0x129883=a0_0x20fba6;if((await this[_0x129883(0x50b)]({'instanceName':_0x4e9d11}))['connectionStatus'][_0x129883(0x6f8)]===_0x129883(0x637))throw new m([_0x129883(0x127),_0x129883(0x3df)]);try{return delete this[_0x129883(0x2ec)][_0x129883(0x18e)][_0x4e9d11],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x6be69e){throw new m(_0x6be69e[_0x129883(0x176)]());}}},ie=require(a0_0x20fba6(0x4b7)),Ht=class{constructor(_0x2c862b){const _0x3372bc=a0_0x20fba6;this[_0x3372bc(0x2ec)]=_0x2c862b;}async[a0_0x20fba6(0x6b3)]({instanceName:_0x2761fd},_0x10a369){const _0x1ddc7c=a0_0x20fba6;return await this[_0x1ddc7c(0x2ec)]['waInstances'][_0x2761fd][_0x1ddc7c(0x374)](_0x10a369);}async[a0_0x20fba6(0x342)]({instanceName:_0x142993},_0x2fb822){const _0x49536a=a0_0x20fba6;return await this[_0x49536a(0x2ec)][_0x49536a(0x18e)][_0x142993]['menuMessage'](_0x2fb822);}async[a0_0x20fba6(0x23a)]({instanceName:_0x5f08d7},_0x434d3d){const _0x271e2b=a0_0x20fba6;if((0x0,ie['isBase64'])(_0x434d3d?.['mediaMessage']?.[_0x271e2b(0x44f)])&&!_0x434d3d?.[_0x271e2b(0x202)]?.[_0x271e2b(0x65f)])throw new m(_0x271e2b(0x191));if((0x0,ie[_0x271e2b(0x34d)])(_0x434d3d?.[_0x271e2b(0x202)]?.[_0x271e2b(0x44f)])||(0x0,ie[_0x271e2b(0x550)])(_0x434d3d?.[_0x271e2b(0x202)]?.['media']))return await this['waMonitor'][_0x271e2b(0x18e)][_0x5f08d7][_0x271e2b(0x202)](_0x434d3d);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x20fba6(0x4f3)]({instanceName:_0x3fed4e},_0x408874){const _0x4baa92=a0_0x20fba6;if((0x0,ie['isURL'])(_0x408874[_0x4baa92(0x5ed)][_0x4baa92(0x73b)])||(0x0,ie[_0x4baa92(0x550)])(_0x408874[_0x4baa92(0x5ed)]['image']))return await this['waMonitor'][_0x4baa92(0x18e)][_0x3fed4e]['mediaSticker'](_0x408874);throw new m(_0x4baa92(0x654));}async[a0_0x20fba6(0x4c7)]({instanceName:_0x3b5181},_0x4affb5){const _0xf4b1a7=a0_0x20fba6;if((0x0,ie[_0xf4b1a7(0x34d)])(_0x4affb5['audioMessage']['audio'])||(0x0,ie[_0xf4b1a7(0x550)])(_0x4affb5[_0xf4b1a7(0x3c1)][_0xf4b1a7(0x23b)]))return await this[_0xf4b1a7(0x2ec)]['waInstances'][_0x3b5181]['audioWhatsapp'](_0x4affb5);throw new m(_0xf4b1a7(0x654));}async[a0_0x20fba6(0x762)]({instanceName:_0x376de7},_0x41a457){const _0xd1770b=a0_0x20fba6;if((0x0,ie[_0xd1770b(0x550)])(_0x41a457[_0xd1770b(0x4d8)][_0xd1770b(0x202)]?.[_0xd1770b(0x44f)])&&!_0x41a457[_0xd1770b(0x4d8)][_0xd1770b(0x202)]?.[_0xd1770b(0x65f)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this['waMonitor'][_0xd1770b(0x18e)][_0x376de7]['buttonMessage'](_0x41a457);}async[a0_0x20fba6(0x594)]({instanceName:_0x2473a2},_0x4a81eb){const _0xd08f0c=a0_0x20fba6;return await this[_0xd08f0c(0x2ec)][_0xd08f0c(0x18e)][_0x2473a2][_0xd08f0c(0x3a7)](_0x4a81eb);}async['sendPoll']({instanceName:_0x46b969},_0x32d3cc){const _0x2ccc66=a0_0x20fba6;return await this[_0x2ccc66(0x2ec)]['waInstances'][_0x46b969][_0x2ccc66(0x5f8)](_0x32d3cc);}async['sendList']({instanceName:_0x2c7efb},_0x375ead){const _0x13b9e6=a0_0x20fba6;return await this[_0x13b9e6(0x2ec)][_0x13b9e6(0x18e)][_0x2c7efb][_0x13b9e6(0x461)](_0x375ead);}async['sendContact']({instanceName:_0x376323},_0x51caf3){const _0x1a6046=a0_0x20fba6;return await this['waMonitor'][_0x1a6046(0x18e)][_0x376323][_0x1a6046(0x1a1)](_0x51caf3);}async['sendReaction']({instanceName:_0x44d9bf},_0x2237a0){const _0x32fa4b=a0_0x20fba6;if(!_0x2237a0[_0x32fa4b(0x20d)]['reaction'][_0x32fa4b(0x700)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x32fa4b(0x3cb));return await this['waMonitor'][_0x32fa4b(0x18e)][_0x44d9bf][_0x32fa4b(0x20d)](_0x2237a0);}async[a0_0x20fba6(0x330)]({instanceName:_0x57e445},_0x151d9e){const _0x13bb25=a0_0x20fba6;return await this['waMonitor'][_0x13bb25(0x18e)][_0x57e445][_0x13bb25(0x1b8)](_0x151d9e);}},xi=require(a0_0x20fba6(0x455)),Ls=require(a0_0x20fba6(0x208)),Kt=class u{constructor(_0x89f3c1,_0x14ce27,_0x408c79){const _0x2c4711=a0_0x20fba6;this[_0x2c4711(0x4e8)]=_0x89f3c1,this[_0x2c4711(0x2ec)]=_0x14ce27,this[_0x2c4711(0x1d5)]=_0x408c79,this[_0x2c4711(0x421)]=new $(u['name']);}async[a0_0x20fba6(0x13a)](_0x38f8dd){const _0x5e401a=a0_0x20fba6;let _0x215f9c=this[_0x5e401a(0x4e8)][_0x5e401a(0x6b2)](_0x5e401a(0x4df))[_0x5e401a(0x29e)],_0x6b43c0=(0x0,xi[_0x5e401a(0x794)])({'instanceName':_0x38f8dd[_0x5e401a(0x1b4)],'apiName':it,'tokenId':(0x0,Ls['v4'])()},_0x215f9c['SECRET'],{'expiresIn':_0x215f9c[_0x5e401a(0x3f4)],'encoding':_0x5e401a(0x5d1),'subject':_0x5e401a(0x2dc)}),_0x38699e=await this[_0x5e401a(0x1d5)][_0x5e401a(0x52b)][_0x5e401a(0x19e)]({'jwt':_0x6b43c0},_0x38f8dd['instanceName']);if(_0x38699e[_0x5e401a(0x3b7)])throw this[_0x5e401a(0x421)][_0x5e401a(0x3b7)]({'localError':u[_0x5e401a(0x217)]+_0x5e401a(0x6e3),'error':_0x38699e['error']}),new m(_0x5e401a(0x20c),_0x38699e['error']?.[_0x5e401a(0x176)]());return{'jwt':_0x6b43c0};}async[a0_0x20fba6(0x81c)](_0x4d4cd9){const _0x15dde4=a0_0x20fba6;let _0x43e701=(0x0,Ls['v4'])()['toUpperCase'](),_0x537f20=await this[_0x15dde4(0x1d5)][_0x15dde4(0x52b)][_0x15dde4(0x19e)]({'apikey':_0x43e701},_0x4d4cd9['instanceName']);if(_0x537f20['error'])throw this[_0x15dde4(0x421)][_0x15dde4(0x3b7)]({'localError':u[_0x15dde4(0x217)]+_0x15dde4(0x6e3),'error':_0x537f20['error']}),new m(_0x15dde4(0x20c),_0x537f20['error']?.[_0x15dde4(0x176)]());return{'apikey':_0x43e701};}async['generateHash'](_0x421cca){const _0x3fd280=a0_0x20fba6;let _0x14c856=this[_0x3fd280(0x4e8)]['get'](_0x3fd280(0x4df));return await this[_0x14c856['TYPE']](_0x421cca);}},Qt=class{constructor(_0x3d35b3){const _0x4d8c0c=a0_0x20fba6;this[_0x4d8c0c(0x2ec)]=_0x3d35b3;}async['createGroup'](_0x38ffdf,_0x28638c){const _0x410942=a0_0x20fba6;return await this[_0x410942(0x2ec)]['waInstances'][_0x38ffdf['instanceName']][_0x410942(0x2ee)](_0x28638c);}async[a0_0x20fba6(0x577)](_0x1e5bcc,_0x19bc95){const _0x54906c=a0_0x20fba6;return await this['waMonitor'][_0x54906c(0x18e)][_0x1e5bcc['instanceName']]['updateGroupPicture'](_0x19bc95);}async[a0_0x20fba6(0x2ab)](_0x2ce964,_0x54e77a){const _0x2d8d99=a0_0x20fba6;return await this[_0x2d8d99(0x2ec)][_0x2d8d99(0x18e)][_0x2ce964[_0x2d8d99(0x1b4)]][_0x2d8d99(0x2ab)](_0x54e77a);}async[a0_0x20fba6(0x7d9)](_0xe62ed,_0x29bfbc){const _0x291901=a0_0x20fba6;return await this[_0x291901(0x2ec)]['waInstances'][_0xe62ed[_0x291901(0x1b4)]]['groupName'](_0x29bfbc);}async['groupBetterSetting'](_0x31165c,_0x3383fd){const _0x32ebb2=a0_0x20fba6;return await this[_0x32ebb2(0x2ec)]['waInstances'][_0x31165c[_0x32ebb2(0x1b4)]][_0x32ebb2(0x43b)](_0x3383fd);}async[a0_0x20fba6(0x79c)](_0x559e99,_0x3b9489){const _0x436702=a0_0x20fba6;return await this[_0x436702(0x2ec)][_0x436702(0x18e)][_0x559e99[_0x436702(0x1b4)]]['groupSetting'](_0x3b9489);}async[a0_0x20fba6(0x41c)](_0x4b5da1,_0x10aa39){const _0x4ce65e=a0_0x20fba6;return await this[_0x4ce65e(0x2ec)][_0x4ce65e(0x18e)][_0x4b5da1[_0x4ce65e(0x1b4)]][_0x4ce65e(0x5fb)](_0x10aa39);}async['findGroups'](_0x5aa99f){const _0x1881b2=a0_0x20fba6;return await this['waMonitor'][_0x1881b2(0x18e)][_0x5aa99f[_0x1881b2(0x1b4)]][_0x1881b2(0x58f)]();}async[a0_0x20fba6(0x7f3)](_0x280a49,_0x402da5){const _0x4fa687=a0_0x20fba6;return await this[_0x4fa687(0x2ec)][_0x4fa687(0x18e)][_0x280a49[_0x4fa687(0x1b4)]][_0x4fa687(0x7f3)](_0x402da5);}async['joinGroup'](_0x24cac3,_0x517efc){const _0x37ce24=a0_0x20fba6;return await this['waMonitor'][_0x37ce24(0x18e)][_0x24cac3[_0x37ce24(0x1b4)]][_0x37ce24(0x78a)](_0x517efc);}async['groupGetInviteInfo'](_0x532c36,_0x3a189d){const _0x3de6d9=a0_0x20fba6;return await this[_0x3de6d9(0x2ec)]['waInstances'][_0x532c36['instanceName']][_0x3de6d9(0x868)](_0x3a189d);}async[a0_0x20fba6(0x6a5)](_0x25e309,_0x21bc77){const _0x579f0e=a0_0x20fba6;return await this[_0x579f0e(0x2ec)][_0x579f0e(0x18e)][_0x25e309[_0x579f0e(0x1b4)]][_0x579f0e(0x6a5)](_0x21bc77);}async[a0_0x20fba6(0x337)](_0x22625e,_0x39f09d){const _0x212ebd=a0_0x20fba6;return await this['waMonitor'][_0x212ebd(0x18e)][_0x22625e[_0x212ebd(0x1b4)]]['findParticipants'](_0x39f09d);}async[a0_0x20fba6(0x26a)](_0x2139f8,_0x19176a){const _0x2b5afa=a0_0x20fba6;return await this['waMonitor'][_0x2b5afa(0x18e)][_0x2139f8[_0x2b5afa(0x1b4)]][_0x2b5afa(0x45a)](_0x19176a);}async[a0_0x20fba6(0x488)](_0x257f47,_0x3b6912){const _0xbc991d=a0_0x20fba6;return await this[_0xbc991d(0x2ec)][_0xbc991d(0x18e)][_0x257f47['instanceName']][_0xbc991d(0x488)](_0x3b6912);}async[a0_0x20fba6(0x1ea)](_0x52ba7c,_0x5c82a3){const _0x3fda05=a0_0x20fba6;return await this[_0x3fda05(0x2ec)][_0x3fda05(0x18e)][_0x52ba7c['instanceName']][_0x3fda05(0x1ea)](_0x5c82a3);}},Yt=class{constructor(_0x5a44a9){const _0x3e13d9=a0_0x20fba6;this[_0x3e13d9(0x2ec)]=_0x5a44a9;}[a0_0x20fba6(0x19e)](_0x223711,_0x4ee360){const _0x4150b2=a0_0x20fba6;return this[_0x4150b2(0x2ec)][_0x4150b2(0x18e)][_0x223711[_0x4150b2(0x1b4)]][_0x4150b2(0x4f8)](_0x4ee360);}async[a0_0x20fba6(0x568)](_0x410a84){const _0x630c41=a0_0x20fba6;try{return await this[_0x630c41(0x2ec)][_0x630c41(0x18e)][_0x410a84[_0x630c41(0x1b4)]][_0x630c41(0x6bb)]();}catch{return{'enabled':null,'url':''};}}},Vp=new $(a0_0x20fba6(0x502)),Xt=class{constructor(_0x1d5e52){const _0x2de644=a0_0x20fba6;this[_0x2de644(0x2ec)]=_0x1d5e52;}async[a0_0x20fba6(0x592)](_0x3666a7,_0x4af354){const _0x414973=a0_0x20fba6;return await this[_0x414973(0x2ec)][_0x414973(0x18e)][_0x3666a7['instanceName']][_0x414973(0x592)](_0x4af354);}async[a0_0x20fba6(0x76a)](_0x35c377){const _0x5587b5=a0_0x20fba6;return await this[_0x5587b5(0x2ec)]['waInstances'][_0x35c377[_0x5587b5(0x1b4)]][_0x5587b5(0x76a)]();}async[a0_0x20fba6(0x387)](_0x3c88aa){const _0x25b5e2=a0_0x20fba6;return await this[_0x25b5e2(0x2ec)][_0x25b5e2(0x18e)][_0x3c88aa['instanceName']][_0x25b5e2(0x387)]();}async[a0_0x20fba6(0x77e)](_0x44671f){const _0x587813=a0_0x20fba6;return await this[_0x587813(0x2ec)][_0x587813(0x18e)][_0x44671f[_0x587813(0x1b4)]][_0x587813(0x77e)]();}async['updateAgent'](_0x4e064e,_0x54c5fa){const _0x7bbd39=a0_0x20fba6;return await this[_0x7bbd39(0x2ec)][_0x7bbd39(0x18e)][_0x4e064e[_0x7bbd39(0x1b4)]][_0x7bbd39(0x1bc)](_0x54c5fa);}async['updateCustomFields'](_0x3675d9,_0xde48d){const _0x20e1a4=a0_0x20fba6;return await this[_0x20e1a4(0x2ec)][_0x20e1a4(0x18e)][_0x3675d9[_0x20e1a4(0x1b4)]][_0x20e1a4(0x4a9)](_0xde48d);}async[a0_0x20fba6(0x847)](_0x7be5bc,_0xf53891){const _0x4c0530=a0_0x20fba6;return await this['waMonitor'][_0x4c0530(0x18e)][_0x7be5bc[_0x4c0530(0x1b4)]]['updateAutoCompleteMessages'](_0xf53891);}async[a0_0x20fba6(0x814)](_0x2555c7,_0x418a5f){const _0x57c7da=a0_0x20fba6;return await this['waMonitor']['waInstances'][_0x2555c7[_0x57c7da(0x1b4)]][_0x57c7da(0x814)](_0x418a5f);}async['startFlow'](_0xa6f868,_0x2d7add){const _0x1c4dc4=a0_0x20fba6;return await this[_0x1c4dc4(0x2ec)]['waInstances'][_0xa6f868[_0x1c4dc4(0x1b4)]]['startFlow'](_0x2d7add);}async[a0_0x20fba6(0x4cf)](_0x18dcca,_0xe240de,_0xa1a5cf,_0x538639){const _0x36f991=a0_0x20fba6;return await this[_0x36f991(0x2ec)][_0x36f991(0x18e)][_0x18dcca][_0x36f991(0x4cf)](_0xe240de,_0xa1a5cf,_0x538639);}async['getConversation'](_0x269794,_0x380baa){const _0x35786c=a0_0x20fba6;return await this['waMonitor'][_0x35786c(0x18e)][_0x269794[_0x35786c(0x1b4)]][_0x35786c(0x5d4)](_0x380baa);}async[a0_0x20fba6(0x616)](_0x1e8323,_0x3838ad){const _0x2f83fe=a0_0x20fba6;return await this['waMonitor'][_0x2f83fe(0x18e)][_0x1e8323[_0x2f83fe(0x1b4)]][_0x2f83fe(0x616)](_0x3838ad);}async[a0_0x20fba6(0x7a1)](_0x383110,_0x25f492){const _0x1fdd68=a0_0x20fba6;return await this[_0x1fdd68(0x2ec)][_0x1fdd68(0x18e)][_0x383110['instanceName']][_0x1fdd68(0x7a1)](_0x25f492);}async['deleteConversation'](_0x247c65,_0x583612){const _0x231dea=a0_0x20fba6;return await this['waMonitor']['waInstances'][_0x247c65['instanceName']][_0x231dea(0x585)](_0x583612);}async[a0_0x20fba6(0x31e)](_0x23d120,_0x5bbdd2){const _0x3f043e=a0_0x20fba6;return await this[_0x3f043e(0x2ec)][_0x3f043e(0x18e)][_0x23d120[_0x3f043e(0x1b4)]][_0x3f043e(0x31e)](_0x5bbdd2[_0x3f043e(0x2a0)]);}async[a0_0x20fba6(0x62f)](_0xcd14d9,_0x487bbd,_0x2c735f){const _0xe84020=a0_0x20fba6;return await this[_0xe84020(0x2ec)][_0xe84020(0x18e)][_0xcd14d9[_0xe84020(0x1b4)]][_0xe84020(0x62f)](_0x487bbd,_0x2c735f);}async['editFlow'](_0x278526,_0x27c83a,_0x40739f){const _0x4e675b=a0_0x20fba6;return await this[_0x4e675b(0x2ec)][_0x4e675b(0x18e)][_0x278526[_0x4e675b(0x1b4)]][_0x4e675b(0x78f)](_0x27c83a,_0x40739f);}async[a0_0x20fba6(0x6ae)](_0x5c0a4d,_0x52ab83){const _0x1f0290=a0_0x20fba6;return await this[_0x1f0290(0x2ec)][_0x1f0290(0x18e)][_0x5c0a4d['instanceName']][_0x1f0290(0x6ae)](_0x52ab83);}async[a0_0x20fba6(0x31a)](_0x38c633,_0x3ac3fe){const _0x4a1aa2=a0_0x20fba6;return await this[_0x4a1aa2(0x2ec)][_0x4a1aa2(0x18e)][_0x38c633[_0x4a1aa2(0x1b4)]][_0x4a1aa2(0x31a)](_0x3ac3fe);}async[a0_0x20fba6(0x76d)](_0x36f9f7,_0x2c3e36){const _0x4f75c9=a0_0x20fba6;return await this['waMonitor'][_0x4f75c9(0x18e)][_0x36f9f7[_0x4f75c9(0x1b4)]][_0x4f75c9(0x76d)](_0x2c3e36);}async[a0_0x20fba6(0x613)](_0x4e7783,_0x37bf33){const _0x3f4821=a0_0x20fba6;return await this[_0x3f4821(0x2ec)][_0x3f4821(0x18e)][_0x4e7783[_0x3f4821(0x1b4)]][_0x3f4821(0x613)](_0x37bf33);}async['editFlowVaredit'](_0x12d371,_0x5d5fba){const _0x300eac=a0_0x20fba6;return await this[_0x300eac(0x2ec)]['waInstances'][_0x12d371[_0x300eac(0x1b4)]]['editFlowVaredit'](_0x5d5fba);}async[a0_0x20fba6(0x294)](_0x1298af,_0x2d5ce4){const _0x14f24e=a0_0x20fba6;return await this[_0x14f24e(0x2ec)]['waInstances'][_0x1298af[_0x14f24e(0x1b4)]][_0x14f24e(0x294)](_0x2d5ce4);}async[a0_0x20fba6(0x20a)](_0x3f7996,_0xdd31a1){const _0x3813c4=a0_0x20fba6;return await this['waMonitor'][_0x3813c4(0x18e)][_0x3f7996['instanceName']][_0x3813c4(0x20a)](_0xdd31a1);}async[a0_0x20fba6(0x1ee)](_0x3a14e4){const _0x2b91d6=a0_0x20fba6;return await this['waMonitor']['waInstances'][_0x3a14e4[_0x2b91d6(0x1b4)]][_0x2b91d6(0x1ee)]();}},Zt=class{constructor(_0x1f68bc){this['webhookService']=_0x1f68bc;}async[a0_0x20fba6(0x2ef)](_0x17666e,_0x4c2ffa){const _0x37d886=a0_0x20fba6;return this[_0x37d886(0x5ad)][_0x37d886(0x19e)](_0x17666e,_0x4c2ffa);}async[a0_0x20fba6(0x6bb)](_0x447902){const _0x377826=a0_0x20fba6;return this[_0x377826(0x5ad)][_0x377826(0x568)](_0x447902);}},es=class extends _{constructor(_0x3e43bf,_0x34e92f){const _0x33cdb6=a0_0x20fba6;super(_0x34e92f),this[_0x33cdb6(0x853)]=_0x3e43bf,this[_0x33cdb6(0x4e8)]=_0x34e92f;}async[a0_0x20fba6(0x19e)](_0x32fc55,_0x5ab568){const _0x4e5dee=a0_0x20fba6;try{return this[_0x4e5dee(0x15c)][_0x4e5dee(0x42c)]?{'insertCount':(await this['webhookModel'][_0x4e5dee(0x693)]({'_id':_0x5ab568},{..._0x32fc55},{'upsert':!0x0}))[_0x4e5dee(0x6df)]}:{'insertCount':0x1};}catch(_0x4ad768){return _0x4ad768;}}async['delete'](_0x186f53){const _0x4b4eac=a0_0x20fba6;try{if(this[_0x4b4eac(0x15c)][_0x4b4eac(0x42c)]){await this[_0x4b4eac(0x853)]['deleteOne']({'_id':_0x186f53});return;}}catch(_0x4356f8){return{'error':_0x4356f8};}}async[a0_0x20fba6(0x568)](_0x255edd){const _0x45e997=a0_0x20fba6;try{if(this[_0x45e997(0x15c)][_0x45e997(0x42c)])return await this[_0x45e997(0x853)][_0x45e997(0x79e)]({'_id':_0x255edd});}catch{return{};}}},ts=class extends _{constructor(_0x6b80ec,_0x3ce9aa){const _0x19ba98=a0_0x20fba6;super(_0x3ce9aa),this[_0x19ba98(0x1f2)]=_0x6b80ec,this['configService']=_0x3ce9aa,this['auth']=_0x3ce9aa[_0x19ba98(0x6b2)](_0x19ba98(0x4df));}async[a0_0x20fba6(0x19e)](_0x153138,_0x5c527){const _0x57f231=a0_0x20fba6;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this['authModel'][_0x57f231(0x1e8)]({'_id':_0x5c527},{'$set':{..._0x153138}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x3bae29){return{'error':_0x3bae29};}}async['updateAll'](_0x3ae1eb,_0x44d43e){const _0x4ba6e7=a0_0x20fba6;try{if(this[_0x4ba6e7(0x15c)][_0x4ba6e7(0x42c)])return{'insertCount':(await this['authModel'][_0x4ba6e7(0x3eb)](_0x3ae1eb,{'$set':_0x44d43e},{'upsert':!0x1}))[_0x4ba6e7(0x6df)]};throw new Error(_0x4ba6e7(0x452));}catch(_0x5a16d8){return{'error':_0x5a16d8};}}async[a0_0x20fba6(0x407)](_0x5385cf){const _0x32ec4a=a0_0x20fba6;try{if(this['dbSettings'][_0x32ec4a(0x42c)])return{'insertCount':(await this['authModel']['deleteMany'](_0x5385cf))[_0x32ec4a(0x16e)]};throw new Error('[AUTH]\x20Database\x20is\x20not\x20enabled');}catch(_0x4d5302){return{'error':_0x4d5302};}}async['delete'](_0x303f8a){const _0x288414=a0_0x20fba6;try{if(this[_0x288414(0x15c)][_0x288414(0x42c)]){await this[_0x288414(0x1f2)]['deleteOne']({'_id':_0x303f8a});return;}}catch(_0xe9153){return{'error':_0xe9153};}}async[a0_0x20fba6(0x568)](_0x173037){const _0x41ea12=a0_0x20fba6;try{if(this[_0x41ea12(0x15c)]['ENABLED'])return await this[_0x41ea12(0x1f2)][_0x41ea12(0x79e)]({'_id':_0x173037});}catch{return{};}}async[a0_0x20fba6(0x423)](){const _0x406bdb=a0_0x20fba6;try{if(this[_0x406bdb(0x15c)][_0x406bdb(0x42c)])return await this[_0x406bdb(0x1f2)][_0x406bdb(0x568)]();}catch{return[];}}async[a0_0x20fba6(0x600)](_0x1d225c){const _0x2a3b36=a0_0x20fba6;try{if(this[_0x2a3b36(0x15c)]['ENABLED'])return await this[_0x2a3b36(0x1f2)][_0x2a3b36(0x568)](_0x1d225c);}catch{return[];}}},ss=class extends _{async[a0_0x20fba6(0x763)](_0x59fd2e){const _0x3f724=a0_0x20fba6;try{let _0x28c250=I(_0x59fd2e[_0x3f724(0x31c)]);return{'deletedCount':(await Me[_0x3f724(0x763)](_0x28c250))[_0x3f724(0x16e)]};}catch(_0x4ef912){return{'error':_0x4ef912?.['toString']()};}}async['updateOne'](_0x239770,_0x426ecc){const _0x4f8705=a0_0x20fba6;try{let _0x19b228=await Me[_0x4f8705(0x1de)](_0x239770);return _0x19b228?(Object[_0x4f8705(0x3fa)](_0x19b228,_0x426ecc),await _0x19b228['save']()):(console['error'](_0x4f8705(0x70c),_0x239770),null);}catch(_0x35d903){return console['error'](_0x4f8705(0x62a),_0x35d903),null;}}async['createAndSave'](_0x36a8be){const _0x2a5b33=a0_0x20fba6;try{return await new Me(_0x36a8be)[_0x2a5b33(0x57c)]();}catch(_0x193d7c){return console[_0x2a5b33(0x3b7)](_0x2a5b33(0x631),_0x193d7c),null;}}async['findAll'](_0x83e209){const _0x593cc6=a0_0x20fba6;try{let _0x5167e0=_0x83e209[_0x593cc6(0x31c)]??{};return await Me[_0x593cc6(0x568)](_0x5167e0)['limit'](_0x83e209[_0x593cc6(0x266)]??0x0)['lean']();}catch(_0x6269aa){return console[_0x593cc6(0x3b7)](_0x593cc6(0x70a),_0x6269aa),[];}}async[a0_0x20fba6(0x79e)](_0xea7dc0){const _0x19de0b=a0_0x20fba6;try{let _0x1d10e2=I(_0xea7dc0[_0x19de0b(0x31c)]);return await Me[_0x19de0b(0x79e)](_0x1d10e2)['lean']();}catch{return null;}}},as=class extends _{[a0_0x20fba6(0x2bf)](_0x1c72b9){return ya(_0x1c72b9);}async[a0_0x20fba6(0x42f)](_0x4d8c46){const _0xa8831e=a0_0x20fba6;if(_0x4d8c46[_0xa8831e(0x21c)]!==0x0)try{return{'insertCount':(await this[_0xa8831e(0x2bf)](_0x4d8c46[0x0][_0xa8831e(0x565)])[_0xa8831e(0x527)]([..._0x4d8c46]))[_0xa8831e(0x21c)]};}catch(_0x4cd387){return _0x4cd387;}}async[a0_0x20fba6(0x665)](_0x43616f,_0x431ffe){const _0x427406=a0_0x20fba6;try{let _0x21c2b9=this[_0x427406(0x2bf)](_0x431ffe),_0x4ff69b=I(_0x43616f[_0x427406(0x31c)]);return{'deletedCount':(await _0x21c2b9[_0x427406(0x407)](_0x4ff69b))[_0x427406(0x16e)]};}catch(_0x4cdff3){return{'error':_0x4cdff3?.['toString']()};}}async[a0_0x20fba6(0x763)](_0x1b3a6e,_0x6cbe8b){const _0x225ef2=a0_0x20fba6;try{let _0x4581b4=this['getConversationModelForOwner'](_0x6cbe8b),_0x2db0a4=I(_0x1b3a6e[_0x225ef2(0x31c)]);return{'deletedCount':(await _0x4581b4['deleteOne'](_0x2db0a4))[_0x225ef2(0x16e)]};}catch(_0x264a05){return{'error':_0x264a05?.['toString']()};}}async['update'](_0x335d5a,_0xcbf5c5){const _0x3f561c=a0_0x20fba6;try{if(_0x335d5a[_0x3f561c(0x21c)]===0x0)return;let _0x4c8096=this['getConversationModelForOwner'](_0xcbf5c5),_0x56f665=_0x335d5a['map'](_0x34b40a=>({'updateOne':{'filter':{'name':_0x34b40a[_0x3f561c(0x217)],'owner':_0xcbf5c5},'update':{..._0x34b40a}}})),{modifiedCount:_0x5f5571}=await _0x4c8096[_0x3f561c(0x504)](_0x56f665);return{'insertCount':_0x5f5571};}catch{return;}}async['updateMany'](_0x8ceeb3,_0x29bb92,_0x146cd6){const _0x4959ea=a0_0x20fba6;try{return{'modifiedCount':(await this[_0x4959ea(0x2bf)](_0x146cd6)[_0x4959ea(0x3eb)](_0x8ceeb3,{'$set':_0x29bb92})[_0x4959ea(0x6f1)]())['modifiedCount']};}catch(_0xc4321e){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0xc4321e),{'error':_0xc4321e};}}async[a0_0x20fba6(0x1e8)](_0x5eea77,_0x28725b,_0x4b0100){const _0x522af5=a0_0x20fba6;try{return await this[_0x522af5(0x2bf)](_0x4b0100)['findOneAndUpdate']({'_id':_0x5eea77},{'$set':_0x28725b},{'new':!0x0,'upsert':!0x0})[_0x522af5(0x542)]();}catch(_0x10fe25){return console[_0x522af5(0x3b7)](_0x10fe25),null;}}async[a0_0x20fba6(0x568)](_0x24d256,_0x1f289a){const _0x3fe2ba=a0_0x20fba6;try{return await this[_0x3fe2ba(0x2bf)](_0x1f289a)['find'](_0x24d256)[_0x3fe2ba(0x529)]({'lastInteraction':-0x1})[_0x3fe2ba(0x542)]();}catch{return[];}}async[a0_0x20fba6(0x79e)](_0x470359,_0x53a42e){const _0x5455ee=a0_0x20fba6;try{return await this[_0x5455ee(0x2bf)](_0x53a42e)[_0x5455ee(0x79e)]({..._0x470359[_0x5455ee(0x31c)]})['lean']();}catch{return null;}}async['deleteAll'](_0x9e0016){const _0x5474f3=a0_0x20fba6;try{return await this[_0x5474f3(0x2bf)](_0x9e0016)['collection'][_0x5474f3(0x2ba)](),{'success':!0x0};}catch(_0x269499){return console[_0x5474f3(0x3b7)](_0x269499),{'success':!0x1,'error':_0x269499};}}},is=class extends _{[a0_0x20fba6(0x4bb)](_0x4ec4aa){return ba(_0x4ec4aa);}async[a0_0x20fba6(0x504)](_0x12d7dd,_0x40276e){const _0x4e3e4f=a0_0x20fba6;try{return await this[_0x4e3e4f(0x4bb)](_0x40276e)[_0x4e3e4f(0x504)](_0x12d7dd);}catch(_0x1ff3f2){return console[_0x4e3e4f(0x3b7)](_0x4e3e4f(0x505),_0x1ff3f2),null;}}async[a0_0x20fba6(0x381)](_0x8cad82,_0x473415){const _0x1139ac=a0_0x20fba6;try{let _0x3e2d61=this[_0x1139ac(0x4bb)](_0x473415);return await new _0x3e2d61(_0x8cad82)['save']();}catch(_0x58d515){return console[_0x1139ac(0x3b7)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x58d515),null;}}async['deleteOne'](_0x1b70fa,_0x2ac100){const _0x8ae5aa=a0_0x20fba6;try{return await this[_0x8ae5aa(0x4bb)](_0x2ac100)[_0x8ae5aa(0x43f)](_0x1b70fa),{};}catch(_0x484a9e){return{'error':_0x484a9e?.[_0x8ae5aa(0x176)]()};}}async['updateOne'](_0x19c266,_0x3d506e,_0x1879ca,_0x1d861e={}){const _0x142c74=a0_0x20fba6;try{return await this['getScheduleMessageModelForOwner'](_0x1879ca)['findOneAndUpdate'](_0x19c266,_0x3d506e,{..._0x1d861e,'new':!0x0})[_0x142c74(0x542)]();}catch(_0x4d1db1){return console[_0x142c74(0x3b7)](_0x142c74(0x4d4),_0x4d1db1),null;}}async['updateOneById'](_0x5c6ae0,_0x1cfa36,_0x1081e4){const _0x35b608=a0_0x20fba6;try{return await this['getScheduleMessageModelForOwner'](_0x1081e4)[_0x35b608(0x238)](_0x5c6ae0,_0x1cfa36,{'new':!0x0})[_0x35b608(0x542)]();}catch(_0x5efa69){return console[_0x35b608(0x3b7)](_0x35b608(0x4d4),_0x5efa69),null;}}async[a0_0x20fba6(0x568)](_0x274a0e,_0x30e7cb){const _0x331f4a=a0_0x20fba6;try{return await this['getScheduleMessageModelForOwner'](_0x30e7cb)[_0x331f4a(0x568)](_0x274a0e[_0x331f4a(0x31c)])[_0x331f4a(0x266)](_0x274a0e?.['limit']??0x0)['sort']({'when':0x1})[_0x331f4a(0x542)]();}catch{return[];}}async['findOne'](_0x2df63d,_0x23d1e3){const _0x1b1e24=a0_0x20fba6;try{return await this[_0x1b1e24(0x4bb)](_0x23d1e3)[_0x1b1e24(0x79e)](_0x2df63d['where'])[_0x1b1e24(0x529)]({'when':0x1})[_0x1b1e24(0x542)]();}catch{return null;}}async[a0_0x20fba6(0x1de)](_0x3d7beb,_0x2f579e){const _0x5a1a54=a0_0x20fba6;try{return await this['getScheduleMessageModelForOwner'](_0x2f579e)[_0x5a1a54(0x1de)](_0x3d7beb)[_0x5a1a54(0x542)]();}catch{return null;}}async[a0_0x20fba6(0x407)](_0xa5ee62,_0x4e11e2){const _0x394e30=a0_0x20fba6;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x4e11e2)[_0x394e30(0x407)](_0xa5ee62))[_0x394e30(0x16e)]};}catch(_0x2fc07b){return console['error'](_0x394e30(0x411),_0x2fc07b),{'error':_0x2fc07b};}}async[a0_0x20fba6(0x315)](_0x354153){const _0x2b078b=a0_0x20fba6;try{return await this[_0x2b078b(0x4bb)](_0x354153)[_0x2b078b(0x632)][_0x2b078b(0x2ba)](),{'success':!0x0};}catch(_0x5be346){return console[_0x2b078b(0x3b7)](_0x5be346),{'success':!0x1,'error':_0x5be346};}}},os=class extends _{async[a0_0x20fba6(0x589)](_0x1838ed,_0x13bd9f){const _0x56660c=a0_0x20fba6;try{if(this['dbSettings']['ENABLED'])return await Ie[_0x56660c(0x59c)]({'_id':_0x13bd9f},{'$set':_0x1838ed},{'new':!0x0});}catch(_0x116e1a){throw console[_0x56660c(0x3b7)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x116e1a),_0x116e1a;}}async[a0_0x20fba6(0x7e9)](_0x468dfe){const _0x3b8eec=a0_0x20fba6;try{let _0xb0772f=await Ie[_0x3b8eec(0x1de)](_0x468dfe);return _0xb0772f?_0xb0772f[_0x3b8eec(0x46f)]||(_0xb0772f[_0x3b8eec(0x46f)]=[],await _0xb0772f[_0x3b8eec(0x57c)]()):(_0xb0772f=new Ie({'_id':_0x468dfe,'autoCompleteMessages':[]}),await _0xb0772f[_0x3b8eec(0x57c)]()),_0xb0772f;}catch(_0x128266){return _0x128266[_0x3b8eec(0x305)]===0x2af8&&_0x128266[_0x3b8eec(0x6d1)]&&_0x128266[_0x3b8eec(0x6d1)][_0x3b8eec(0x56a)]?(console['error'](_0x3b8eec(0x6da)),await Ie['collection'][_0x3b8eec(0x29c)](_0x3b8eec(0x72d)),null):(console[_0x3b8eec(0x3b7)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x128266),null);}}},Fo=new $(a0_0x20fba6(0x800)),Uo=new Ke(S),jo=new qt(S),Jo=new rt(S),qo=new Vt(aa,S),Vo=new es(da,S),Go=new ts(ca,S),Bo=new ve(Be,S),Wo=new ss(S),zo=new Gt(S),Ho=new as(S),Ko=new is(S),Qo=new os(S),me=new ze(Uo,jo,Jo,qo,Vo,Go,Bo,Wo,Ho,zo,Ko,Qo,R?.[a0_0x20fba6(0x5ff)]()),G=new Jt(hs,S,me),Yo=new Kt(S,G,me),Xo=new Yt(G),$s=new Zt(Xo),O=new Xt(G),ue=new zt(G,S,me,hs,Yo),B=new Ht(G),P=new Bt(G),q=new Qt(G);Fo[a0_0x20fba6(0x7d7)](a0_0x20fba6(0x409));var rg=require(a0_0x20fba6(0x18c)),Fs=require('fs'),Di=A(require(a0_0x20fba6(0x729))),Pi=A(require(a0_0x20fba6(0x1c6))),Ue=class u{static #e;static set[a0_0x20fba6(0x553)](_0x5e73b4){this.#e=_0x5e73b4;}static get[a0_0x20fba6(0x729)](){const _0x3cb9d6=a0_0x20fba6;let {FULLCHAIN:_0x30ac52,PRIVKEY:_0x40320d}=S[_0x3cb9d6(0x6b2)](_0x3cb9d6(0x170));return Di['createServer']({'cert':(0x0,Fs[_0x3cb9d6(0x1cb)])(_0x30ac52),'key':(0x0,Fs['readFileSync'])(_0x40320d)},u.#e);}static get['http'](){const _0x2eeb8f=a0_0x20fba6;return Pi[_0x2eeb8f(0x61c)](u.#e);}},je=A(require('fs')),Ji=A(require(a0_0x20fba6(0x6a9))),Je=A(require(a0_0x20fba6(0x751))),ns=A(require(a0_0x20fba6(0x4e9))),rs=require('child_process');function Zo(){const _0x3d97c4=a0_0x20fba6;G[_0x3d97c4(0x4f5)]();let _0x4bd393=ns[_0x3d97c4(0x269)][_0x3d97c4(0x7ae)](__dirname,'downloads');ji(_0x4bd393);}var ji=_0x55eb7e=>{const _0x37e2ae=a0_0x20fba6;let _0x3088ec=je[_0x37e2ae(0x269)]['readdirSync'](_0x55eb7e),_0x135a80=0xc*0x3c*0x3c*0x3e8,_0x282447=0x2*0x3c*0x3c*0x3e8,_0x278c36=new Date()[_0x37e2ae(0x336)]();_0x3088ec[_0x37e2ae(0x871)](_0x337657=>{const _0x12f1ef=_0x37e2ae;let _0x1b8142=ns[_0x12f1ef(0x269)]['join'](_0x55eb7e,_0x337657),_0x38062e=je[_0x12f1ef(0x269)][_0x12f1ef(0x6d3)](_0x1b8142)[_0x12f1ef(0x531)][_0x12f1ef(0x336)]();_0x278c36-_0x38062e>_0x135a80&&(je[_0x12f1ef(0x269)][_0x12f1ef(0x105)](_0x1b8142),console[_0x12f1ef(0x324)](_0x12f1ef(0x2c4)+_0x337657));}),setTimeout(()=>ji(_0x55eb7e),_0x282447);};function er(){const _0x59710a=a0_0x20fba6;let _0x5a5a16=new $(_0x59710a(0x806)),_0xc248e0=(0x0,we[_0x59710a(0x269)])();_0xc248e0['use']((0x0,Ui[_0x59710a(0x269)])({'origin'(_0x490e33,_0x28a5f8){const _0x1230d6=_0x59710a;let {ORIGIN:_0x513590}=S[_0x1230d6(0x6b2)](_0x1230d6(0x396));return _0x490e33||(_0x490e33='*'),_0x513590[_0x1230d6(0x812)]('*')!==-0x1||_0x513590[_0x1230d6(0x812)](_0x490e33)!==-0x1?_0x28a5f8(null,!0x0):_0x28a5f8(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x59710a(0x6b2)](_0x59710a(0x396))[_0x59710a(0x774)]],'credentials':S['get'](_0x59710a(0x396))[_0x59710a(0x3c0)]}),(0x0,we['urlencoded'])({'extended':!0x0,'limit':_0x59710a(0x813)}),(0x0,we['json'])({'limit':_0x59710a(0x813)})),_0xc248e0[_0x59710a(0x145)]((_0x101eef,_0x516868,_0x4c2cac)=>{const _0xb4c629=_0x59710a;_0x101eef[_0xb4c629(0x4e9)]['startsWith'](_0xb4c629(0x66f))?_0x4c2cac():(0x0,Fi[_0xb4c629(0x269)])()(_0x101eef,_0x516868,_0x4c2cac);}),_0xc248e0[_0x59710a(0x73c)](_0x59710a(0x2f0),_0x59710a(0x3af)),_0xc248e0['set'](_0x59710a(0x755),(0x0,js['join'])(ne,_0x59710a(0x755))),_0xc248e0['use'](we['default'][_0x59710a(0x39e)]((0x0,js[_0x59710a(0x7ae)])(ne,_0x59710a(0x13d)))),_0xc248e0[_0x59710a(0x145)]((_0x1dc9ca,_0x20ea6c,_0xe7119b)=>{const _0x42dfb4=_0x59710a;let _0x5f168=_0x20ea6c[_0x42dfb4(0x32e)];_0x20ea6c[_0x42dfb4(0x32e)]=function(_0x262c5d){const _0x43d4a1=_0x42dfb4;if(_0x1dc9ca['query'][_0x43d4a1(0x3d4)]===_0x43d4a1(0x213)||_0x1dc9ca[_0x43d4a1(0x499)][_0x43d4a1(0x688)]===_0x43d4a1(0x213)){let _0x2f361b=JSON['parse'](_0x262c5d);_0x262c5d=JSON['stringify'](_0x15a869(_0x2f361b));}return _0x5f168[_0x43d4a1(0x438)](_0x20ea6c,[_0x262c5d]);},_0xe7119b();}),_0xc248e0['use']('/',ke),_0xc248e0['use']((_0x1868ce,_0x29d5db,_0x332431,_0x3e0b1b)=>{if(_0x1868ce)return _0x332431['status'](_0x1868ce['status']||0x1f4)['json'](_0x1868ce);},(_0x548ced,_0x2e1c45,_0x292dcf)=>{const _0x2ca679=_0x59710a;let {method:_0x55249e,url:_0x585586}=_0x548ced;_0x2e1c45[_0x2ca679(0x59e)](0x194)['json']({'status':0x194,'message':_0x2ca679(0x2b1)+_0x55249e[_0x2ca679(0x1fe)]()+'\x20'+_0x585586,'error':_0x2ca679(0x5ae)}),_0x292dcf();});let _0x15a869=(_0x364c71,_0x358ae2='_p_')=>{const _0x57033b=_0x59710a;let _0x2910ae=(_0x31c773,_0x3f22b0=null,_0x14a6b4=!0x1)=>{const _0x51d2c7=a0_0x2eae;let _0x483ace={};return Object[_0x51d2c7(0x1c7)](_0x31c773)[_0x51d2c7(0x871)](_0xd7694f=>{const _0x1e146f=_0x51d2c7;let _0x4db18e=_0x31c773[_0xd7694f],_0x58f9bf=''+_0x358ae2+_0xd7694f;_0x3f22b0&&!_0x14a6b4&&(_0x58f9bf=_0x3f22b0+'.'+_0xd7694f),!_0x4db18e&&_0x4db18e!==0x0&&_0x4db18e!==!0x1||typeof _0x4db18e>'u'?_0x483ace[_0x58f9bf]=null:typeof _0x4db18e!=_0x1e146f(0x6ff)&&!Array['isArray'](_0x4db18e)?_0x483ace[_0x58f9bf]=_0x4db18e:typeof _0x4db18e==_0x1e146f(0x6ff)&&!Array['isArray'](_0x4db18e)?_0x483ace=Object[_0x1e146f(0x3fa)](_0x483ace,_0x2910ae(_0x4db18e,_0x58f9bf)):Array[_0x1e146f(0x5e4)](_0x4db18e)&&(typeof _0x4db18e[0x0]==_0x1e146f(0x6ff)?(_0x483ace[_0x58f9bf]=[],_0x4db18e['forEach'](_0x123afc=>{const _0x3c9cb7=_0x1e146f;_0x483ace[_0x58f9bf][_0x3c9cb7(0x2af)](_0x2910ae(_0x123afc,_0x58f9bf,!0x0));})):_0x483ace[_0x58f9bf]=_0x4db18e);}),_0x483ace;};return Array[_0x57033b(0x5e4)](_0x364c71)?_0x364c71[_0x57033b(0x5a9)](_0x328ebe=>_0x2910ae(_0x328ebe)):typeof _0x364c71==_0x57033b(0x6ff)&&_0x364c71!==null?_0x2910ae(_0x364c71):{};},_0x510366=S['get']('SERVER');Ue[_0x59710a(0x553)]=_0xc248e0;let _0x30ab21=Ue[_0x510366['TYPE']],_0x23e7d1=_0x59710a(0x2f7);_0x30ab21[_0x59710a(0x3b5)](_0x510366[_0x59710a(0x123)],()=>{const _0x15a977=_0x59710a;_0x5a5a16[_0x15a977(0x324)](_0x23e7d1),_0x5a5a16[_0x15a977(0x324)](_0x510366[_0x15a977(0x3e7)][_0x15a977(0x1fe)]()+_0x15a977(0x60d)+_0x510366[_0x15a977(0x123)]);}),Zo(),Ys();}var tr='https://github.com/uazapi/uazapi.git',sr=ns[a0_0x20fba6(0x269)][a0_0x20fba6(0x7ae)](__dirname,a0_0x20fba6(0x815)),Re=null;function ar(){return new Promise((_0x1097e7,_0x4abb6c)=>{const _0x1f457b=a0_0x2eae;je[_0x1f457b(0x269)][_0x1f457b(0x161)](sr,'utf-8',(_0x151a94,_0x33b89c)=>{const _0x5a33b4=_0x1f457b;if(_0x151a94){Re=_0x151a94,_0x1097e7();return;}Ji[_0x5a33b4(0x269)][_0x5a33b4(0x321)](_0x33b89c)[_0x5a33b4(0x219)]['url']===tr?(Re=null,_0x1097e7()):(Re=new Error(_0x5a33b4(0x698)),_0x1097e7());});});}async function ir(){const _0x183cf5=a0_0x20fba6;try{await ar(),await Js();}catch(_0x12d9dd){console[_0x183cf5(0x3b7)](_0x183cf5(0x7d8)+_0x12d9dd),process[_0x183cf5(0x809)](0x1);}}ir();async function qi(){const _0x466d25=a0_0x20fba6;let _0x5024d8;try{_0x5024d8=(await Je[_0x466d25(0x269)][_0x466d25(0x6b2)](_0x466d25(0x10c)))[_0x466d25(0x6b6)]['ip'];}catch(_0x1e7c11){console[_0x466d25(0x3b7)](_0x1e7c11);try{_0x5024d8=(await Je[_0x466d25(0x269)][_0x466d25(0x6b2)](_0x466d25(0x5b3)))[_0x466d25(0x6b6)]['ip'];}catch(_0x98089){console[_0x466d25(0x3b7)](_0x98089);try{_0x5024d8=(await Je[_0x466d25(0x269)]['get']('http://checkip.dyndns.org'))[_0x466d25(0x6b6)][_0x466d25(0x700)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1a0e44){return console[_0x466d25(0x3b7)](_0x1a0e44),!0x1;}}}return _0x5024d8;}var ki=0x0;async function or(){const _0x3380ab=a0_0x20fba6;let _0x580026=await new de(S[_0x3380ab(0x6b2)](_0x3380ab(0x712)))[_0x3380ab(0x33a)]();return console['log'](_0x3380ab(0x7c7),_0x580026[_0x3380ab(0x21c)]),_0x580026[_0x3380ab(0x21c)];}function rr(_0x3d678a){const _0x587cf3=a0_0x20fba6;let _0x1f2965=_0x3d678a[_0x587cf3(0x6b2)]('SERVER')[_0x587cf3(0x6e6)],_0x4e0454=_0x3d678a['get'](_0x587cf3(0x170));console[_0x587cf3(0x324)](_0x587cf3(0x26e),_0x1f2965),console['log'](_0x587cf3(0x31f),_0x4e0454);let _0x1d19ab='',_0x4aefe7=_0x1f2965||'';if(_0x1f2965){let _0x2f0e3c=_0x1f2965['match'](/\/\/(.*?)\./);console[_0x587cf3(0x324)](_0x587cf3(0x3ff),_0x2f0e3c),_0x2f0e3c&&_0x2f0e3c[0x1]&&(_0x1d19ab=_0x2f0e3c[0x1],console[_0x587cf3(0x324)](_0x587cf3(0x365),_0x1d19ab));}if(!_0x1d19ab&&_0x4e0454&&_0x4e0454[_0x587cf3(0x41d)]){let _0x2ba831=_0x4e0454[_0x587cf3(0x41d)][_0x587cf3(0x2fc)]('/');console['log'](_0x587cf3(0x682),_0x2ba831);let _0x19111e=_0x2ba831[_0x2ba831[_0x587cf3(0x21c)]-0x2];if(console['log'](_0x587cf3(0x736),_0x19111e),_0x19111e){let _0x41a88e=_0x19111e[_0x587cf3(0x2fc)]('.');console[_0x587cf3(0x324)](_0x587cf3(0x80b),_0x41a88e),_0x41a88e[_0x587cf3(0x21c)]>0x2&&(_0x1d19ab=_0x41a88e[0x0],console[_0x587cf3(0x324)](_0x587cf3(0x23d),_0x1d19ab),_0x4aefe7=''+_0x19111e);}}return{'subdomain':_0x1d19ab||_0x587cf3(0x56d),'fullURL':_0x4aefe7||_0x587cf3(0x810)};}var {subdomain:W,fullURL:qs}=rr(S);console[a0_0x20fba6(0x324)](a0_0x20fba6(0x3c3),W),console['log'](a0_0x20fba6(0x6d8),qs);async function nr(){const _0x57a844=a0_0x20fba6;let _0x297d26=S[_0x57a844(0x6b2)](_0x57a844(0x712)),_0x3ba76c=S[_0x57a844(0x6b2)](_0x57a844(0x4df))['API_KEY'][_0x57a844(0x13b)],_0x4e0edf=S['get']('SSL_CONF'),_0xc4eb58=await qi(),_0x4e6505=S[_0x57a844(0x6b2)]('SERVER')[_0x57a844(0x123)],_0x1acbad=qs;try{let _0x2e7a6a={'ip':_0xc4eb58||null,'redis_enable':_0x297d26?.[_0x57a844(0x42c)]||null,'apikey':_0x3ba76c||null,'ssl':_0x4e0edf?.[_0x57a844(0x2ca)]||null,'lastupdate':Vi||null,'port':_0x4e6505||null,'gitInstallError':Re?.[_0x57a844(0x34b)]||null,'url':_0x1acbad||null,'subdomain':W};if(console[_0x57a844(0x324)](_0x57a844(0x2f1),_0x2e7a6a['ip']),_0x297d26&&_0x297d26[_0x57a844(0x42c)]){let _0x21b465=await or();_0x2e7a6a[_0x57a844(0x4d3)]=_0x21b465||null;}for(let _0x47c5d4 in _0x2e7a6a)_0x2e7a6a[_0x57a844(0x362)](_0x47c5d4)&&_0x47c5d4!=='ip'&&(_0x2e7a6a[_0x47c5d4]=JSON['stringify'](_0x2e7a6a[_0x47c5d4]));return(await Je[_0x57a844(0x269)][_0x57a844(0x25b)](_0x57a844(0x3fd),_0x2e7a6a))['data'];}catch(_0xe0fd4e){return console[_0x57a844(0x3b7)](_0xe0fd4e),!0x1;}}var Us=!0x1,Vi=0x267,cr=0x3,Li=0x1b7740;async function Js(){const _0x27ce9b=a0_0x20fba6;let _0x317666='fora\x20do\x20git';Re===null&&(_0x317666=await qi());let _0x46d50b=await nr();if(_0x46d50b){if(_0x46d50b[_0x27ce9b(0x1eb)]['licenca']===!0x0){Re===null&&_0x46d50b[_0x27ce9b(0x1eb)][_0x27ce9b(0x6ad)]-Vi>0x0&&await lr(),Us||(Us=!0x0,er());let _0x5ce372=0x24*0x3c*0x3c,_0x148c8f=_0x46d50b[_0x27ce9b(0x1eb)][_0x27ce9b(0x66b)]>_0x5ce372?_0x5ce372:_0x46d50b[_0x27ce9b(0x1eb)][_0x27ce9b(0x66b)],_0x519f21=Number(_0x148c8f);if(isNaN(_0x519f21)){console[_0x27ce9b(0x3b7)](_0x27ce9b(0x4fb));return;}let _0x846626=Math[_0x27ce9b(0x23f)](_0x519f21/0xe10),_0x14ba32=Math['floor'](_0x519f21%0xe10/0x3c),_0x1f51cc=new Date(Date['now']()+_0x519f21*0x3e8);setTimeout(Js,_0x519f21*0x3e8);let _0x354154=_0x524e1d=>_0x524e1d[_0x27ce9b(0x176)]()['padStart'](0x2,'0'),_0xab5b78=_0x27ce9b(0x433)+_0x354154(_0x846626)+_0x27ce9b(0x4db)+_0x354154(_0x14ba32)+_0x27ce9b(0x69a)+_0x354154(_0x1f51cc[_0x27ce9b(0x7e0)]())+':'+_0x354154(_0x1f51cc[_0x27ce9b(0x798)]())+'.';console[_0x27ce9b(0x324)](_0xab5b78);}else return console[_0x27ce9b(0x324)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Us&&(console[_0x27ce9b(0x324)](_0x27ce9b(0x7d5)),process[_0x27ce9b(0x809)]()),_0x27ce9b(0x59b);}else{if(ki++,ki<cr)console[_0x27ce9b(0x324)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Li/0xea60+'\x20minutos...'),setTimeout(Js,Li);else return console[_0x27ce9b(0x3b7)](_0x27ce9b(0x60a)),_0x27ce9b(0x307);}}async function lr(){const _0x284ef4=a0_0x20fba6;console['log'](_0x284ef4(0x367)),console[_0x284ef4(0x324)](_0x284ef4(0x7dd)),(0x0,rs[_0x284ef4(0x2cd)])(_0x284ef4(0x25e),{'shell':!0x0})['on'](_0x284ef4(0x603),_0x5432f1=>{const _0x50400c=_0x284ef4;_0x5432f1!==0x0?console[_0x50400c(0x3b7)](_0x50400c(0x842)):(console[_0x50400c(0x324)](_0x50400c(0x599)),console['log'](_0x50400c(0x28a)),(0x0,rs['spawn'])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on']('close',_0x26a0be=>{const _0x45c96f=_0x50400c;if(_0x26a0be!==0x0)console[_0x45c96f(0x3b7)]('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.');else{console[_0x45c96f(0x324)](_0x45c96f(0x1f8));let _0x3828c6=(0x0,rs['spawn'])(_0x45c96f(0x559),{'shell':!0x0});_0x3828c6[_0x45c96f(0x2a9)]['on'](_0x45c96f(0x6b6),_0x553683=>{const _0x148d20=_0x45c96f;console[_0x148d20(0x324)](_0x148d20(0x1ce)+_0x553683);}),_0x3828c6[_0x45c96f(0x59f)]['on'](_0x45c96f(0x6b6),_0x48c2df=>{const _0x80a45f=_0x45c96f;console[_0x80a45f(0x3b7)](_0x80a45f(0x696)+_0x48c2df);}),_0x3828c6['on'](_0x45c96f(0x809),_0x46a31d=>{const _0x1eb4f7=_0x45c96f;_0x46a31d!==0x0?console[_0x1eb4f7(0x3b7)](_0x1eb4f7(0x741)+_0x46a31d):console[_0x1eb4f7(0x324)](_0x1eb4f7(0x7e7)),console['log'](_0x1eb4f7(0x2e8)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x20fba6(0x1ca)]={'fullURL':fullURL,'subdomain':subdomain});