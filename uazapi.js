const a0_0x6619de=a0_0x4391;(function(_0x561265,_0x5c45e7){const _0x1d4806=a0_0x4391,_0xb79f51=_0x561265();while(!![]){try{const _0x4e58be=-parseInt(_0x1d4806(0x5ac))/0x1*(-parseInt(_0x1d4806(0x5ab))/0x2)+parseInt(_0x1d4806(0x38f))/0x3+-parseInt(_0x1d4806(0x74e))/0x4*(-parseInt(_0x1d4806(0x678))/0x5)+-parseInt(_0x1d4806(0x634))/0x6*(parseInt(_0x1d4806(0x17b))/0x7)+-parseInt(_0x1d4806(0x746))/0x8*(parseInt(_0x1d4806(0x3ca))/0x9)+-parseInt(_0x1d4806(0x250))/0xa*(-parseInt(_0x1d4806(0x284))/0xb)+-parseInt(_0x1d4806(0x487))/0xc;if(_0x4e58be===_0x5c45e7)break;else _0xb79f51['push'](_0xb79f51['shift']());}catch(_0x1454b3){_0xb79f51['push'](_0xb79f51['shift']());}}}(a0_0x36f7,0x55574));var ho=Object[a0_0x6619de(0x1db)],Es=Object[a0_0x6619de(0x343)],fo=Object['getOwnPropertyDescriptor'],wo=Object[a0_0x6619de(0x683)],yo=Object[a0_0x6619de(0x508)],bo=Object[a0_0x6619de(0x6d6)][a0_0x6619de(0x297)],So=(_0x3b6b7f,_0x12feda,_0x4d1094,_0x2c6140)=>{const _0x5b2c75=a0_0x6619de;if(_0x12feda&&typeof _0x12feda==_0x5b2c75(0x54b)||typeof _0x12feda==_0x5b2c75(0x224)){for(let _0x53cf1f of wo(_0x12feda))!bo[_0x5b2c75(0x6bf)](_0x3b6b7f,_0x53cf1f)&&_0x53cf1f!==_0x4d1094&&Es(_0x3b6b7f,_0x53cf1f,{'get':()=>_0x12feda[_0x53cf1f],'enumerable':!(_0x2c6140=fo(_0x12feda,_0x53cf1f))||_0x2c6140[_0x5b2c75(0x4b3)]});}return _0x3b6b7f;},T=(_0x13d45f,_0x13b75d,_0xad7c24)=>(_0xad7c24=_0x13d45f!=null?ho(yo(_0x13d45f)):{},So(_0x13b75d||!_0x13d45f||!_0x13d45f[a0_0x6619de(0x527)]?Es(_0xad7c24,a0_0x6619de(0x411),{'value':_0x13d45f,'enumerable':!0x0}):_0xad7c24,_0x13d45f)),no=T(require(a0_0x6619de(0x4fa))),Cs=require('fs'),Ns=require(a0_0x6619de(0x5c7)),Ts=require(a0_0x6619de(0x208)),_e=require('path'),Q=process[a0_0x6619de(0x53a)](),j=(0x0,_e[a0_0x6619de(0x262)])(Q,a0_0x6619de(0x4f3)),vs=(0x0,_e['join'])(Q,a0_0x6619de(0x2da)),Gt=(0x0,_e[a0_0x6619de(0x262)])(Q,'store',a0_0x6619de(0x282)),Rs=require(a0_0x6619de(0x1a0)),Jt=class{constructor(){this['loadEnv']();}[a0_0x6619de(0x39d)](_0x4ce089){const _0x62dffa=a0_0x6619de;return this[_0x62dffa(0x2c4)][_0x4ce089];}['loadEnv'](){const _0x534f14=a0_0x6619de;this[_0x534f14(0x2c4)]=process[_0x534f14(0x2c4)]?.['DOCKER_ENV']!=='true'?this[_0x534f14(0x501)]():this[_0x534f14(0x30e)](),this[_0x534f14(0x2c4)][_0x534f14(0x5de)]=process[_0x534f14(0x2c4)]?.['NODE_ENV']===_0x534f14(0x261),process['env']?.['DOCKER_ENV']==='true'&&(this[_0x534f14(0x2c4)]['SERVER'][_0x534f14(0x357)]=_0x534f14(0x60f),this['env'][_0x534f14(0x538)][_0x534f14(0x6aa)]=Number[_0x534f14(0x266)](process[_0x534f14(0x2c4)]?.['SERVER_PORT']??_0x534f14(0x566)));}[a0_0x6619de(0x501)](){const _0x272eaf=a0_0x6619de;return(0x0,Ns[_0x272eaf(0x62c)])((0x0,Cs[_0x272eaf(0x22f)])((0x0,Ts['join'])(vs,_0x272eaf(0x5b3)),{'encoding':_0x272eaf(0x6be)}));}[a0_0x6619de(0x30e)](){const _0x47bb1c=a0_0x6619de;return{'SERVER':{'TYPE':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x70c)],'PORT':Number[_0x47bb1c(0x266)](process[_0x47bb1c(0x2c4)][_0x47bb1c(0x219)])},'CORS':{'ORIGIN':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x68e)][_0x47bb1c(0x635)](','),'METHODS':process['env'][_0x47bb1c(0x301)][_0x47bb1c(0x635)](','),'CREDENTIALS':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x623)]===_0x47bb1c(0x680)},'SSL_CONF':{'PRIVKEY':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x54c)],'FULLCHAIN':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x1cd)]},'STORE':{'CLEANING_INTERVAL':Number[_0x47bb1c(0x72d)](process['env']?.[_0x47bb1c(0x713)])?Number[_0x47bb1c(0x266)](process[_0x47bb1c(0x2c4)][_0x47bb1c(0x713)]):void 0x0,'MESSAGES':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x325)]==='true','CONTACTS':process[_0x47bb1c(0x2c4)]?.['STORE_CONTACTS']===_0x47bb1c(0x680),'CHATS':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x2ab)]===_0x47bb1c(0x680)},'DATABASE':{'CONNECTION':{'HOST':process[_0x47bb1c(0x2c4)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x47bb1c(0x266)](process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x313)]),'USER':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x206)],'PASSWORD':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x5e9)],'URI':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x2a2)],'DB_PREFIX_NAME':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x43b)]},'ENABLED':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x5cc)]===_0x47bb1c(0x680)},'REDIS':{'ENABLED':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x1ba)]===_0x47bb1c(0x680),'URI':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x715)],'PREFIX_KEY':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x3a9)]},'LOG':{'LEVEL':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x498)]['split'](','),'COLOR':process['env']?.['LOG_COLOR']===_0x47bb1c(0x680)},'DEL_INSTANCE':(0x0,Rs[_0x47bb1c(0x1e9)])(process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x45f)])?process[_0x47bb1c(0x2c4)]['DEL_INSTANCE']===_0x47bb1c(0x680):Number[_0x47bb1c(0x266)](process[_0x47bb1c(0x2c4)]['DEL_INSTANCE'])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x28c)]?process[_0x47bb1c(0x2c4)][_0x47bb1c(0x28c)]===_0x47bb1c(0x680):!0x1,'GLOBAL':{'URL':process['env']?.[_0x47bb1c(0x1d0)],'ENABLED':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x1d8)]===_0x47bb1c(0x680)},'EVENTS':{'STATUS_INSTANCE':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x438)]===_0x47bb1c(0x680),'QRCODE_UPDATED':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x417)]===_0x47bb1c(0x680),'MESSAGES_SET':process['env']?.['WEBHOOK_EVENTS_MESSAGES_SET']===_0x47bb1c(0x680),'MESSAGES_UPSERT':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x2e9)]===_0x47bb1c(0x680),'MESSAGES_UPDATE':process['env']?.[_0x47bb1c(0x200)]===_0x47bb1c(0x680),'SEND_MESSAGE':process['env']?.[_0x47bb1c(0x43a)]===_0x47bb1c(0x680),'CONTACTS_SET':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x6f5)]==='true','CONTACTS_UPDATE':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x1f0)]===_0x47bb1c(0x680),'CONTACTS_UPSERT':process['env']?.['WEBHOOK_EVENTS_CONTACTS_UPSERT']==='true','PRESENCE_UPDATE':process['env']?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x47bb1c(0x680),'CHATS_SET':process['env']?.[_0x47bb1c(0x67a)]==='true','CHATS_UPDATE':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x187)]===_0x47bb1c(0x680),'CHATS_UPSERT':process['env']?.[_0x47bb1c(0x6df)]===_0x47bb1c(0x680),'CHATS_DELETE':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x1a7)]===_0x47bb1c(0x680),'CONNECTION_UPDATE':process[_0x47bb1c(0x2c4)]?.['WEBHOOK_EVENTS_CONNECTION_UPDATE']===_0x47bb1c(0x680),'GROUPS_UPSERT':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x6ab)]===_0x47bb1c(0x680),'GROUP_UPDATE':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x257)]==='true','GROUP_PARTICIPANTS_UPDATE':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x2ec)]===_0x47bb1c(0x680),'NEW_JWT_TOKEN':process[_0x47bb1c(0x2c4)]?.['WEBHOOK_EVENTS_NEW_JWT_TOKEN']===_0x47bb1c(0x680)}},'CONFIG_SESSION_PHONE':{'CLIENT':process['env']?.[_0x47bb1c(0x4ff)]||_0x47bb1c(0x46e),'NAME':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x23d)]||_0x47bb1c(0x745)},'QRCODE':{'LIMIT':Number[_0x47bb1c(0x266)](process[_0x47bb1c(0x2c4)][_0x47bb1c(0x693)])||0x5},'TRIAL_AD':process[_0x47bb1c(0x2c4)]?.[_0x47bb1c(0x737)],'TRIAL_INSTANCE_NAME':process[_0x47bb1c(0x2c4)]?.['TRIAL_INSTANCE_NAME'],'AUTHENTICATION':{'TYPE':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x41e)],'API_KEY':{'KEY':process['env'][_0x47bb1c(0x4ac)]},'JWT':{'EXPIRIN_IN':Number[_0x47bb1c(0x72d)](process[_0x47bb1c(0x2c4)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x47bb1c(0x266)](process[_0x47bb1c(0x2c4)][_0x47bb1c(0x49b)]):0xe10,'SECRET':process[_0x47bb1c(0x2c4)][_0x47bb1c(0x179)]}}};}},S=new Jt(),co=T(require(a0_0x6619de(0x292))),ge=T(require(a0_0x6619de(0x6e3))),bs=require('path'),Wt=T(require('dayjs')),Ht=(_0x2a3613=>(_0x2a3613['LOG']=a0_0x6619de(0x662),_0x2a3613[a0_0x6619de(0x225)]=a0_0x6619de(0x4c0),_0x2a3613['WARN']='\x1b[33m',_0x2a3613[a0_0x6619de(0x362)]=a0_0x6619de(0x716),_0x2a3613['DEBUG']=a0_0x6619de(0x329),_0x2a3613['VERBOSE']='\x1b[37m',_0x2a3613[a0_0x6619de(0x3a8)]=a0_0x6619de(0x1ef),_0x2a3613))(Ht||{}),Ms=(_0x373453=>(_0x373453[a0_0x6619de(0x48f)]=a0_0x6619de(0x2c7),_0x373453['DARK']=a0_0x6619de(0x2cc),_0x373453[a0_0x6619de(0x225)]=a0_0x6619de(0x67d),_0x373453[a0_0x6619de(0x6ac)]='\x1b[33m%s\x1b[0m',_0x373453[a0_0x6619de(0x362)]=a0_0x6619de(0x6b4),_0x373453[a0_0x6619de(0x6af)]=a0_0x6619de(0x2d7),_0x373453[a0_0x6619de(0x5f6)]=a0_0x6619de(0x41f),_0x373453))(Ms||{}),As=(_0x906adc=>(_0x906adc[a0_0x6619de(0x48f)]=a0_0x6619de(0x48f),_0x906adc[a0_0x6619de(0x6ac)]=a0_0x6619de(0x6ac),_0x906adc[a0_0x6619de(0x225)]=a0_0x6619de(0x225),_0x906adc[a0_0x6619de(0x3a8)]=a0_0x6619de(0x3a8),_0x906adc[a0_0x6619de(0x362)]=a0_0x6619de(0x362),_0x906adc[a0_0x6619de(0x6af)]=a0_0x6619de(0x6af),_0x906adc[a0_0x6619de(0x5f6)]=a0_0x6619de(0x5f6),_0x906adc))(As||{}),Is=(_0x1c563e=>(_0x1c563e[a0_0x6619de(0x48f)]='\x1b[42m',_0x1c563e[a0_0x6619de(0x225)]='\x1b[44m',_0x1c563e['WARN']=a0_0x6619de(0x376),_0x1c563e['DARK']=a0_0x6619de(0x584),_0x1c563e['ERROR']=a0_0x6619de(0x58e),_0x1c563e['DEBUG']=a0_0x6619de(0x1bf),_0x1c563e['VERBOSE']='\x1b[47m',_0x1c563e))(Is||{}),N=class{constructor(_0x5e3587=a0_0x6619de(0x22b)){const _0x161440=a0_0x6619de;this['context']=_0x5e3587,this[_0x161440(0x42e)]=S;}['setContext'](_0x29f576){const _0x1beae2=a0_0x6619de;this[_0x1beae2(0x5e2)]=_0x29f576;}[a0_0x6619de(0x4f6)](_0x1a7fa8,_0x5d230e){const _0xb8f7f3=a0_0x6619de;let _0x5bfc9f=[];this['configService'][_0xb8f7f3(0x39d)](_0xb8f7f3(0x48f))[_0xb8f7f3(0x3bc)][_0xb8f7f3(0x2e4)](_0x19d1dd=>_0x5bfc9f['push'](As[_0x19d1dd]));let _0x331eec=typeof _0x1a7fa8;_0x5bfc9f[_0xb8f7f3(0x569)](_0x5d230e)&&(S[_0xb8f7f3(0x39d)](_0xb8f7f3(0x48f))[_0xb8f7f3(0x4b5)]?(console[_0xb8f7f3(0x49a)](_0xb8f7f3(0x37a)+Ms[_0x5d230e],_0xb8f7f3(0x330),(0x0,Wt[_0xb8f7f3(0x411)])()[_0xb8f7f3(0x2e7)](_0xb8f7f3(0x603)),'\x1b[0m',Ht[_0x5d230e]+Is[_0x5d230e]+_0xb8f7f3(0x37a),_0x5d230e+_0xb8f7f3(0x6b6),_0xb8f7f3(0x55a),this[_0xb8f7f3(0x5e2)]+_0xb8f7f3(0x39c),Ht[_0x5d230e],_0x331eec!==_0xb8f7f3(0x54b)?_0x1a7fa8:'','\x1b[0m'),_0x331eec==='object'&&console[_0xb8f7f3(0x49a)](_0x1a7fa8,'\x0a')):console[_0xb8f7f3(0x49a)]((0x0,Wt[_0xb8f7f3(0x411)])()[_0xb8f7f3(0x2e7)](_0xb8f7f3(0x4be)),_0x5d230e+'\x20',''+this[_0xb8f7f3(0x5e2)],_0x1a7fa8));}['log'](_0x21e167){const _0x5171f2=a0_0x6619de;this[_0x5171f2(0x4f6)](_0x21e167,_0x5171f2(0x48f));}['info'](_0x50ebfd){const _0x3293b3=a0_0x6619de;this[_0x3293b3(0x4f6)](_0x50ebfd,_0x3293b3(0x225));}['warn'](_0x594327){const _0x2766da=a0_0x6619de;this[_0x2766da(0x4f6)](_0x594327,_0x2766da(0x6ac));}['error'](_0x394859){const _0x14e187=a0_0x6619de;this['console'](_0x394859,_0x14e187(0x362));}[a0_0x6619de(0x45d)](_0x551629){const _0xd04386=a0_0x6619de;this[_0xd04386(0x4f6)](_0x551629,_0xd04386(0x5f6));}[a0_0x6619de(0x493)](_0x57d638){const _0x471318=a0_0x6619de;this[_0x471318(0x4f6)](_0x57d638,'DEBUG');}[a0_0x6619de(0x1b3)](_0x11bc24){const _0xc93bf2=a0_0x6619de;this['console'](_0x11bc24,_0xc93bf2(0x3a8));}};function Ds(){const _0x4aa932=a0_0x6619de;process['on'](_0x4aa932(0x33a),(_0x4af1d3,_0x106fb8)=>{const _0x201a87=_0x4aa932;new N(_0x201a87(0x33a))[_0x201a87(0x6b1)]({'origin':_0x106fb8,'stderr':process[_0x201a87(0x56d)]['fd'],'error':_0x4af1d3});}),process['on']('unhandledRejection',(_0x143f70,_0x778c6d)=>{const _0x2bb0ba=_0x4aa932;new N(_0x2bb0ba(0x1f5))['error']({'origin':_0x778c6d,'stderr':process[_0x2bb0ba(0x56d)]['fd'],'error':_0x143f70});});}var _s=T(require(a0_0x6619de(0x6d3))),Kt=new _s[(a0_0x6619de(0x411))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Oe=require('mongoose'),zt=T(require('mongoose')),Eo=new N(a0_0x6619de(0x4b1)),G=S[a0_0x6619de(0x39d)](a0_0x6619de(0x647)),M=G[a0_0x6619de(0x38c)]?G[a0_0x6619de(0x1a2)][a0_0x6619de(0x310)]?zt[a0_0x6619de(0x411)][a0_0x6619de(0x31c)](G[a0_0x6619de(0x1a2)][a0_0x6619de(0x310)],{'dbName':G[a0_0x6619de(0x1a2)][a0_0x6619de(0x731)]+a0_0x6619de(0x726)}):zt[a0_0x6619de(0x411)][a0_0x6619de(0x31c)](a0_0x6619de(0x4d9)+G[a0_0x6619de(0x1a2)]['HOST']+':'+G[a0_0x6619de(0x1a2)][a0_0x6619de(0x6aa)]+a0_0x6619de(0x2c8),{'user':G[a0_0x6619de(0x1a2)][a0_0x6619de(0x591)],'pass':G[a0_0x6619de(0x1a2)][a0_0x6619de(0x2b7)],'dbName':G[a0_0x6619de(0x1a2)][a0_0x6619de(0x731)]+a0_0x6619de(0x726)}):null;G[a0_0x6619de(0x38c)]&&Eo[a0_0x6619de(0x2ad)](a0_0x6619de(0x1ca)+M[a0_0x6619de(0x4ee)]);var vo=new Oe['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Co=new Oe[(a0_0x6619de(0x694))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[vo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),No=new Oe[(a0_0x6619de(0x694))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Co,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),Os=_0x3475fd=>{const _0x16d8f5=a0_0x6619de;let _0x494c8e='z_'+_0x3475fd+_0x16d8f5(0x26f);return M?.[_0x16d8f5(0x555)]('ChatModel',No,_0x494c8e);},Ps=require(a0_0x6619de(0x526)),To=new Ps[(a0_0x6619de(0x694))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),xs=_0x25eff2=>{const _0x52ec78=a0_0x6619de;let _0x1492eb='z_'+_0x25eff2+_0x52ec78(0x367);return M?.[_0x52ec78(0x555)]('ContactModel',To,_0x1492eb);},$s=require('mongoose'),Ro=new $s[(a0_0x6619de(0x694))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x6619de(0x48e),a0_0x6619de(0x34e),a0_0x6619de(0x26b)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ks=_0x4cacf7=>{const _0x1824b3=a0_0x6619de;let _0x5246ea='z_'+_0x4cacf7+_0x1824b3(0x429);return M?.[_0x1824b3(0x555)](_0x1824b3(0x530),Ro,_0x5246ea);},Ls=require(a0_0x6619de(0x526)),Qt=class{},Mo=new Ls[(a0_0x6619de(0x694))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Us=M?.[a0_0x6619de(0x555)](Qt[a0_0x6619de(0x5c4)],Mo,a0_0x6619de(0x646)),Vs=require(a0_0x6619de(0x526)),Yt=class{},js=new Vs[(a0_0x6619de(0x694))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});js['pre'](a0_0x6619de(0x65c),function(_0x54402e){const _0x5ebee3=a0_0x6619de;delete this[_0x5ebee3(0x23c)],delete this[_0x5ebee3(0x512)],delete this[_0x5ebee3(0x5ad)],delete this['flowStopConversation'],delete this['flowStopMinutes'],_0x54402e();});var Fs=M?.[a0_0x6619de(0x555)](Yt['name'],js,a0_0x6619de(0x23f)),_=require('mongoose'),Bs=new _[(a0_0x6619de(0x694))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Xt=new _[(a0_0x6619de(0x694))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ao=new _[(a0_0x6619de(0x694))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x6619de(0x6d5)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),qs=new _[(a0_0x6619de(0x694))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Io=new _[(a0_0x6619de(0x694))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Do=new _[(a0_0x6619de(0x694))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Gs=new _[(a0_0x6619de(0x694))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ao},'apirequest':Io,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),as=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Js=new _[(a0_0x6619de(0x694))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Zt=class{},Ws=new _['Schema']({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x274eb4=a0_0x6619de;return'!cmd_'+Math[_0x274eb4(0x637)]()[_0x274eb4(0x1cf)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[as],'variablesNotFound':{'type':[String]},'blocks':[Gs],'groups':[Bs],'conditions':[qs],'varedits':[Js],'replyOptions':{'type':[Xt],'default':[]}});Ws[a0_0x6619de(0x525)](a0_0x6619de(0x65c),function(_0x10683b){const _0x4d40bb=a0_0x6619de;let _0xa6def9=new Set(),_0x322236=new Set(this[_0x4d40bb(0x194)]?.['map'](_0x46eb46=>_0x46eb46[_0x4d40bb(0x5c4)])),_0x5472a0=JSON[_0x4d40bb(0x24c)](this),_0x209177=/{{(?!_)([^}]*)}}/g,_0x416d39;for(;(_0x416d39=_0x209177['exec'](_0x5472a0))!==null;)_0x322236[_0x4d40bb(0x1b5)](_0x416d39[0x1])||_0xa6def9[_0x4d40bb(0x46d)](_0x416d39[0x1]);_0xa6def9['size']>0x0?(console[_0x4d40bb(0x366)]('Variáveis\x20não\x20encontradas:',Array[_0x4d40bb(0x734)](_0xa6def9)),this[_0x4d40bb(0x5a8)]=Array['from'](_0xa6def9)):this[_0x4d40bb(0x5a8)]=[],_0x10683b();});var I=M?.[a0_0x6619de(0x555)](Zt[a0_0x6619de(0x5c4)],Ws,a0_0x6619de(0x5e5)),_o=new _[(a0_0x6619de(0x694))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[as],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Do]},{'_id':!0x1}),es=class{},Oo=new _[(a0_0x6619de(0x694))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[as],'blocks':[Gs],'groups':[Bs],'conditions':[qs],'varedits':[Js],'replyOptions':{'type':[Xt],'default':[]},'chatLog':_o,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x6619de(0x70d)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[Xt],'default':[]}}),F=M?.[a0_0x6619de(0x555)](es[a0_0x6619de(0x5c4)],Oo,a0_0x6619de(0x1fa)),ts=class{},Po=new _[(a0_0x6619de(0x694))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),xo=new _[(a0_0x6619de(0x694))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Po,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=M?.[a0_0x6619de(0x555)](ts[a0_0x6619de(0x5c4)],xo,a0_0x6619de(0x3fb)),ss=class{},$o=new _['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ko=new _['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Lo=new _[(a0_0x6619de(0x694))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Uo=new _[(a0_0x6619de(0x694))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Lo]},'customFields':{'type':[$o]},'flowConfig':{'type':ko,'default':{}}}),ae=M?.[a0_0x6619de(0x555)](ss['name'],Uo,a0_0x6619de(0x732)),me=require('fs'),os=require(a0_0x6619de(0x208)),W=class{constructor(_0x39423b){const _0x166069=a0_0x6619de;this[_0x166069(0x67f)]=(0x0,os['join'])(Q,_0x166069(0x2a3)),this[_0x166069(0x60b)]=_0x4d2d09=>{const _0x2acd7b=_0x166069;(0x0,me[_0x2acd7b(0x702)])(_0x4d2d09['path'])||(0x0,me['mkdirSync'])(_0x4d2d09[_0x2acd7b(0x208)],{'recursive':!0x0});try{return(0x0,me[_0x2acd7b(0x56c)])((0x0,os['join'])(_0x4d2d09['path'],_0x4d2d09[_0x2acd7b(0x64d)]+'.json'),JSON[_0x2acd7b(0x24c)]({..._0x4d2d09[_0x2acd7b(0x4b4)]}),{'encoding':_0x2acd7b(0x6be)}),{'message':_0x2acd7b(0x3b5)};}finally{_0x4d2d09[_0x2acd7b(0x4b4)]=void 0x0;}},this['dbSettings']=_0x39423b[_0x166069(0x39d)](_0x166069(0x647));}[a0_0x6619de(0x18a)](_0x61fb38,_0x210c37=!0x1){const _0x133463=a0_0x6619de;throw new Error(_0x133463(0x33d));}[a0_0x6619de(0x451)](_0x3b428e){throw new Error('Method\x20not\x20implemented.');}[a0_0x6619de(0x434)](_0x3c540d,_0x3e6bea){const _0x274a98=a0_0x6619de;throw new Error(_0x274a98(0x33d));}},Pe=class{},xe=class extends W{constructor(_0x13377d){super(_0x13377d),this['configService']=_0x13377d;}['getMessageModelForOwner'](_0x58b4ce){return ks(_0x58b4ce);}async[a0_0x6619de(0x18a)](_0x1b4907){const _0x330a81=a0_0x6619de;if(_0x1b4907[_0x330a81(0x41d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x330a81(0x491)](_0x1b4907[0x0]['owner'])[_0x330a81(0x69f)]([..._0x1b4907]))[_0x330a81(0x41d)]};}catch(_0x3b1e6b){return console[_0x330a81(0x49a)](_0x330a81(0x197),_0x3b1e6b),_0x3b1e6b;}}async[a0_0x6619de(0x451)](_0x4a6752){const _0x2d5fc3=a0_0x6619de;try{let _0x43fae3=this[_0x2d5fc3(0x491)](_0x4a6752[_0x2d5fc3(0x644)][_0x2d5fc3(0x4e4)]);if(_0x4a6752?.[_0x2d5fc3(0x644)]?.['key']){for(let [_0x3033b7,_0x169cbc]of Object[_0x2d5fc3(0x5e8)](_0x4a6752['where']['key']))_0x4a6752['where']['key.'+_0x3033b7]=_0x169cbc;delete _0x4a6752?.[_0x2d5fc3(0x644)]?.['key'];}return await _0x43fae3[_0x2d5fc3(0x451)]({..._0x4a6752[_0x2d5fc3(0x644)]})[_0x2d5fc3(0x685)]({'messageTimestamp':-0x1})['limit'](_0x4a6752?.['limit']??0x0)[_0x2d5fc3(0x221)]();}catch{return[];}}async[a0_0x6619de(0x434)](_0x17b0ef){const _0x47534a=a0_0x6619de;try{await this[_0x47534a(0x491)](_0x17b0ef[_0x47534a(0x644)][_0x47534a(0x4e4)])[_0x47534a(0x21e)]({..._0x17b0ef[_0x47534a(0x644)]});}catch(_0x275a70){console[_0x47534a(0x6b1)](_0x275a70);}}async['update'](_0x2fabe8,_0x354665){const _0x2e99c3=a0_0x6619de;try{return await this[_0x2e99c3(0x491)](_0x2fabe8['where']['owner'])[_0x2e99c3(0x718)]({..._0x2fabe8[_0x2e99c3(0x644)]},{'$set':_0x354665},{'new':!0x0});}catch(_0x3a49e8){throw console[_0x2e99c3(0x6b1)](_0x3a49e8),_0x3a49e8;}}async['insertMany'](_0x8fa294){const _0x28f4a8=a0_0x6619de;if(_0x8fa294['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x28f4a8(0x491)](_0x8fa294[0x0][_0x28f4a8(0x4e4)])[_0x28f4a8(0x69f)]([..._0x8fa294]))[_0x28f4a8(0x41d)]};}catch(_0x2e70eb){return console[_0x28f4a8(0x49a)](_0x28f4a8(0x197),_0x2e70eb),_0x2e70eb;}}async['deleteAll'](_0x506ecb){const _0x448967=a0_0x6619de;try{return await this[_0x448967(0x491)](_0x506ecb)[_0x448967(0x4a9)]['drop'](),{'success':!0x0};}catch(_0x1cbeb8){return console[_0x448967(0x6b1)](_0x1cbeb8),{'success':!0x1,'error':_0x1cbeb8};}}},te=require('fs'),Qa=T(require(a0_0x6619de(0x1d4))),w=T(require(a0_0x6619de(0x540))),Te=require('fs'),$=T(require(a0_0x6619de(0x208))),ce=T(require(a0_0x6619de(0x5b9))),Ya=require(a0_0x6619de(0x296)),Xa=T(require('qrcode')),Za=T(require(a0_0x6619de(0x4eb))),Hs=[a0_0x6619de(0x326),a0_0x6619de(0x72a),a0_0x6619de(0x2dc),a0_0x6619de(0x3a4),a0_0x6619de(0x710)],Ks=[a0_0x6619de(0x559),a0_0x6619de(0x28e),'viewOnceMessage',a0_0x6619de(0x61d)],eo=require('os'),Rt=T(require(a0_0x6619de(0x17a))),Dt=require(a0_0x6619de(0x2fe)),Mt=require(a0_0x6619de(0x17c)),we=T(require(a0_0x6619de(0x526))),O=require(a0_0x6619de(0x1a0)),he=class{constructor(_0x4944ae,_0x15fc6d,_0x3c3426){const _0xf705c=a0_0x6619de;this[_0xf705c(0x6c1)]=_0x4944ae,this['exists']=_0x15fc6d,this[_0xf705c(0x5c4)]=_0x3c3426;}},$e=class{},ke=class{},Se=class{},Le=class{},Ue=class{},fe=class{},Ve=class{},je=class{},Fe=class{},Be=class{},Et=T(require('express')),zs=require('fs'),Qs=require('path');async function qe(_0x542eba){const _0x968a66=a0_0x6619de;let _0x4fa4cd=B[_0x968a66(0x545)][_0x542eba];if(G[_0x968a66(0x38c)]){let _0x4625c6=M[_0x968a66(0x31a)]()['db'](G[_0x968a66(0x1a2)][_0x968a66(0x731)]+_0x968a66(0x4ae))['collection'](_0x542eba);return _0x4fa4cd||(await _0x4625c6[_0x968a66(0x451)]({})[_0x968a66(0x3b8)]())[_0x968a66(0x41d)]>0x0;}return _0x4fa4cd||(0x0,zs['existsSync'])((0x0,Qs[_0x968a66(0x262)])(j,_0x542eba));}async function rs(_0x563c26,_0x18f61b,_0x255814){const _0x50cfe1=a0_0x6619de;if(_0x563c26[_0x50cfe1(0x592)]['includes'](_0x50cfe1(0x684))||_0x563c26[_0x50cfe1(0x592)][_0x50cfe1(0x569)](_0x50cfe1(0x3ba))||_0x563c26['originalUrl'][_0x50cfe1(0x569)](_0x50cfe1(0x2f8)))return _0x255814();let _0x5bce61=_0x563c26[_0x50cfe1(0x39a)];if(!_0x5bce61?.[_0x50cfe1(0x524)])throw new g(_0x50cfe1(0x6cc));if(!await qe(_0x5bce61[_0x50cfe1(0x524)]))throw new x('The\x20'+_0x5bce61[_0x50cfe1(0x524)]+_0x50cfe1(0x38a));_0x255814();}async function Ys(_0x311a19,_0x51609d,_0xb951a9){const _0x549538=a0_0x6619de;if(_0x311a19[_0x549538(0x592)][_0x549538(0x569)](_0x549538(0x684))){let _0x1548d3=_0x311a19[_0x549538(0x23e)];if(await qe(_0x1548d3[_0x549538(0x524)]))throw new oe(_0x549538(0x3cd)+_0x1548d3[_0x549538(0x524)]+_0x549538(0x52a));B[_0x549538(0x545)][_0x1548d3['instanceName']]&&delete B[_0x549538(0x545)][_0x1548d3[_0x549538(0x524)]];}_0xb951a9();}var Xs=require(a0_0x6619de(0x1a0)),Zs=T(require(a0_0x6619de(0x3f2))),Ge='uazapi',jo=new N(a0_0x6619de(0x33f));async function Fo(_0xcd8cc9,_0x1072f0,_0x3abdf9){const _0x2f4481=a0_0x6619de;let _0x4be2de=_0xcd8cc9[_0x2f4481(0x39d)](_0x2f4481(0x4ea));if(_0x4be2de&&S['get'](_0x2f4481(0x6db))[_0x2f4481(0x4db)][_0x2f4481(0x391)]!==_0x4be2de)throw new re();if(S[_0x2f4481(0x39d)](_0x2f4481(0x6db))[_0x2f4481(0x4db)][_0x2f4481(0x391)]===_0x4be2de)return _0x3abdf9();if((_0xcd8cc9['originalUrl'][_0x2f4481(0x569)](_0x2f4481(0x684))||_0xcd8cc9[_0x2f4481(0x592)][_0x2f4481(0x569)](_0x2f4481(0x3ba)))&&!_0x4be2de)throw new oe(_0x2f4481(0x3be),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x4f272f=S[_0x2f4481(0x39d)](_0x2f4481(0x6db))[_0x2f4481(0x6ae)];try{let [_0xfac893,_0x36385d]=_0xcd8cc9[_0x2f4481(0x39d)](_0x2f4481(0x298))[_0x2f4481(0x635)]('\x20');if(_0xfac893[_0x2f4481(0x752)]()!==_0x2f4481(0x659))throw new re();if(!(0x0,Xs[_0x2f4481(0x608)])(_0x36385d))throw new re();let _0x2cba51=_0xcd8cc9[_0x2f4481(0x39a)],_0x535fc7=Zs[_0x2f4481(0x411)]['verify'](_0x36385d,_0x4f272f[_0x2f4481(0x500)],{'ignoreExpiration':_0x4f272f['EXPIRIN_IN']===0x0});if(_0x2cba51[_0x2f4481(0x524)]!==_0x535fc7[_0x2f4481(0x524)]||Ge!==_0x535fc7[_0x2f4481(0x300)])throw new re();return _0x3abdf9();}catch(_0x1f4a93){throw jo['error'](_0x1f4a93),new re();}}async function Bo(_0x384728,_0x469d90,_0x5b8c9b){const _0x4117c6=a0_0x6619de;let _0x4960fd=S[_0x4117c6(0x39d)](_0x4117c6(0x6db))[_0x4117c6(0x4db)],_0x1caff7=_0x384728['get'](_0x4117c6(0x4ea));if(_0x4960fd[_0x4117c6(0x391)]===_0x1caff7)return _0x5b8c9b();if(_0x384728[_0x4117c6(0x592)][_0x4117c6(0x569)]('/instance/create')){let _0x4a1b10=S[_0x4117c6(0x39d)](_0x4117c6(0x5e1)),_0xebb109=_0x384728[_0x4117c6(0x23e)]['instanceName'];if(_0x4a1b10&&_0xebb109[_0x4117c6(0x752)]()[_0x4117c6(0x17f)](_0x4a1b10[_0x4117c6(0x752)]()))return _0x5b8c9b();if(!_0x1caff7)throw new oe(_0x4117c6(0x3be),_0x4117c6(0x52f));}if(_0x384728[_0x4117c6(0x592)]['includes'](_0x4117c6(0x3ba))&&!_0x1caff7)throw new oe(_0x4117c6(0x3be),_0x4117c6(0x52f));if(_0x384728['originalUrl'][_0x4117c6(0x569)](_0x4117c6(0x2f8))&&!_0x1caff7)throw new oe(_0x4117c6(0x3be),_0x4117c6(0x52f));try{let _0x3a3514=_0x384728['params'];if((await le[_0x4117c6(0x282)][_0x4117c6(0x451)](_0x3a3514['instanceName']))['apikey']===_0x1caff7)return _0x5b8c9b();}catch{}throw new re();}var ea={'jwt':Fo,'apikey':Bo},xa=require('express'),v=require('uuid'),E=(..._0x54b999)=>{const _0x56e565=a0_0x6619de;let _0x46f62f={};return _0x54b999[_0x56e565(0x2e4)](_0x57bfec=>_0x46f62f[_0x57bfec]={'minLength':0x1,'description':'The\x20\x22'+_0x57bfec+_0x56e565(0x3a1)}),{'if':{'propertyNames':{'enum':[..._0x54b999]}},'then':{'properties':_0x46f62f}};},C={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'instanceName':{'type':a0_0x6619de(0x3a5)}},...E(a0_0x6619de(0x524))},ta={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'oldToken':{'type':a0_0x6619de(0x3a5)}},'required':[a0_0x6619de(0x632)],...E(a0_0x6619de(0x632))},dn={'properties':{'key':{'type':a0_0x6619de(0x54b),'properties':{'id':{'type':a0_0x6619de(0x3a5)},'remoteJid':{'type':a0_0x6619de(0x3a5)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x6619de(0x2fb),a0_0x6619de(0x1e3)],...E('id',a0_0x6619de(0x2fb))},'message':{'type':a0_0x6619de(0x54b)}}},Y={'properties':{'delay':{'type':a0_0x6619de(0x4c4),'description':a0_0x6619de(0x3db)},'presence':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x6bc),'available',a0_0x6619de(0x57a),a0_0x6619de(0x6a4),'paused']}}},X={'type':a0_0x6619de(0x3a5),'pattern':a0_0x6619de(0x3d1),'description':'Invalid\x20format'},sa={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'options':{...Y},'textMessage':{'type':a0_0x6619de(0x54b),'properties':{'text':{'type':a0_0x6619de(0x3a5)}},'required':[a0_0x6619de(0x2e2)],...E('text')}},'required':[a0_0x6619de(0x655),a0_0x6619de(0x2e5)]},aa={'type':a0_0x6619de(0x3a5),'pattern':a0_0x6619de(0x182),'description':a0_0x6619de(0x64c)},pn={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...aa},'options':{...Y},'textMessage':{'type':a0_0x6619de(0x54b),'properties':{'text':{'type':a0_0x6619de(0x3a5)}},'required':[a0_0x6619de(0x2e2)],...E(a0_0x6619de(0x2e2))}},'required':[a0_0x6619de(0x655),a0_0x6619de(0x2e5)]},gn={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...aa},'options':{...Y},'mediaMessage':{'type':a0_0x6619de(0x54b),'properties':{'mediatype':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x378),a0_0x6619de(0x2c1),a0_0x6619de(0x5f4),a0_0x6619de(0x368)]},'media':{'type':a0_0x6619de(0x3a5)},'fileName':{'type':a0_0x6619de(0x3a5)},'caption':{'type':a0_0x6619de(0x3a5)}},'required':[a0_0x6619de(0x2a4),a0_0x6619de(0x52b)],...E(a0_0x6619de(0x64d),a0_0x6619de(0x430),a0_0x6619de(0x52b))}},'required':[a0_0x6619de(0x3e1),'number']},oa={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'options':{...Y},'stickerMessage':{'type':a0_0x6619de(0x54b),'properties':{'image':{'type':a0_0x6619de(0x3a5)}},'required':['image'],...E(a0_0x6619de(0x378))}},'required':[a0_0x6619de(0x710),a0_0x6619de(0x2e5)]},ra={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'statusMessage':{'type':a0_0x6619de(0x54b),'properties':{'type':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x2e2),a0_0x6619de(0x378),a0_0x6619de(0x368),a0_0x6619de(0x5f4)]},'content':{'type':a0_0x6619de(0x3a5)},'caption':{'type':a0_0x6619de(0x3a5)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x6619de(0x4c4),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x6619de(0x73c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x6619de(0x19c)}},'allContacts':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]}},'required':[a0_0x6619de(0x395),a0_0x6619de(0x4d0)],...E(a0_0x6619de(0x395),a0_0x6619de(0x4d0))}},'required':[a0_0x6619de(0x2dd)]},ia={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'options':{...Y},'mediaMessage':{'type':a0_0x6619de(0x54b),'properties':{'mediatype':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x378),a0_0x6619de(0x2c1),a0_0x6619de(0x5f4),'audio']},'media':{'type':a0_0x6619de(0x3a5)},'fileName':{'type':a0_0x6619de(0x3a5)},'caption':{'type':a0_0x6619de(0x3a5)}},'required':[a0_0x6619de(0x2a4),a0_0x6619de(0x52b)],...E(a0_0x6619de(0x64d),'caption',a0_0x6619de(0x52b))}},'required':[a0_0x6619de(0x3e1),'number']},na={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'options':{...Y},'audioMessage':{'type':a0_0x6619de(0x54b),'properties':{'audio':{'type':a0_0x6619de(0x3a5)}},'required':[a0_0x6619de(0x368)],...E('audio')}},'required':[a0_0x6619de(0x2dc),a0_0x6619de(0x2e5)]},ca={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'pollMessage':{'type':a0_0x6619de(0x54b),'properties':{'name':{'type':a0_0x6619de(0x3a5)},'selectableCount':{'type':a0_0x6619de(0x2e5)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x6619de(0x5c4),a0_0x6619de(0x6a2),'values'],...E('name','selectableCount',a0_0x6619de(0x750))}},'required':[a0_0x6619de(0x2e5),a0_0x6619de(0x63b)]},la={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'options':{...Y},'buttonMessage':{'type':a0_0x6619de(0x54b),'properties':{'title':{'type':a0_0x6619de(0x3a5)},'description':{'type':a0_0x6619de(0x3a5)},'footerText':{'type':a0_0x6619de(0x3a5)},'buttons':{'type':a0_0x6619de(0x73c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x6619de(0x3a5)},'buttonId':{'type':'string'}},'required':['buttonText',a0_0x6619de(0x531)],...E(a0_0x6619de(0x264),a0_0x6619de(0x531))}},'mediaMessage':{'type':a0_0x6619de(0x54b),'properties':{'media':{'type':a0_0x6619de(0x3a5)},'fileName':{'type':a0_0x6619de(0x3a5)},'mediatype':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x378),a0_0x6619de(0x2c1),a0_0x6619de(0x5f4)]}},'required':[a0_0x6619de(0x52b),a0_0x6619de(0x2a4)],...E(a0_0x6619de(0x52b),a0_0x6619de(0x64d))}},'required':[a0_0x6619de(0x736),a0_0x6619de(0x352)],...E('title',a0_0x6619de(0x6c2))}},'required':['number',a0_0x6619de(0x267)]},ua={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'options':{...Y},'locationMessage':{'type':a0_0x6619de(0x54b),'properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':a0_0x6619de(0x3a5)},'address':{'type':a0_0x6619de(0x3a5)}},'required':['latitude',a0_0x6619de(0x2e8)],...E(a0_0x6619de(0x5c4),a0_0x6619de(0x4ad))}},'required':['number',a0_0x6619de(0x46f)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x6619de(0x3a5)},'description':{'type':'string'},'footerText':{'type':a0_0x6619de(0x3a5)},'buttonText':{'type':a0_0x6619de(0x3a5)},'sections':{'type':a0_0x6619de(0x73c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6619de(0x54b),'properties':{'title':{'type':a0_0x6619de(0x3a5)},'rows':{'type':a0_0x6619de(0x73c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x6619de(0x3a5)},'rowId':{'type':a0_0x6619de(0x3a5)}},'required':[a0_0x6619de(0x736),'description',a0_0x6619de(0x57c)],...E(a0_0x6619de(0x736),a0_0x6619de(0x6c2),a0_0x6619de(0x57c))}}},'required':['title','rows'],...E(a0_0x6619de(0x736))}}},'required':[a0_0x6619de(0x736),a0_0x6619de(0x6c2),a0_0x6619de(0x264),a0_0x6619de(0x6c3)],...E(a0_0x6619de(0x736),a0_0x6619de(0x6c2),'buttonText',a0_0x6619de(0x68c))}},'required':[a0_0x6619de(0x2e5),a0_0x6619de(0x533)]},pa={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'options':{...Y},'contactMessage':{'type':a0_0x6619de(0x73c),'items':{'type':a0_0x6619de(0x54b),'properties':{'fullName':{'type':a0_0x6619de(0x3a5)},'phoneNumber':{'type':a0_0x6619de(0x3a5),'minLength':0xa}},'required':['fullName',a0_0x6619de(0x6a0)],...E(a0_0x6619de(0x249))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x6619de(0x402)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x6619de(0x54b),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x6619de(0x3a5)},'fromMe':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]}},'required':['id',a0_0x6619de(0x2fb),a0_0x6619de(0x1e3)],...E('id',a0_0x6619de(0x2fb))},'reaction':{'type':a0_0x6619de(0x3a5)}},'required':['key','reaction'],...E('reaction')}},'required':['reactionMessage']},ma={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'numbers':{'type':a0_0x6619de(0x73c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x6619de(0x5bb),'description':a0_0x6619de(0x6d1)}}}},ha={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'readMessages':{'type':a0_0x6619de(0x73c),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x6619de(0x3a5)},'fromMe':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x6619de(0x3a5)}},'required':['id','fromMe',a0_0x6619de(0x2fb)],...E('id',a0_0x6619de(0x2fb))}}},'required':['readMessages']},fa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x6619de(0x54b),'properties':{'readreceipts':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x703),a0_0x6619de(0x667)]},'profile':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x703),a0_0x6619de(0x6ce),a0_0x6619de(0x6cb),a0_0x6619de(0x667)]},'status':{'type':a0_0x6619de(0x3a5),'enum':['all','contacts',a0_0x6619de(0x6cb),a0_0x6619de(0x667)]},'online':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x703),a0_0x6619de(0x32a)]},'last':{'type':'string','enum':[a0_0x6619de(0x703),a0_0x6619de(0x6ce),'contact_blacklist',a0_0x6619de(0x667)]},'groupadd':{'type':'string','enum':[a0_0x6619de(0x703),'contacts',a0_0x6619de(0x6cb),a0_0x6619de(0x667)]}},'required':['readreceipts',a0_0x6619de(0x351),a0_0x6619de(0x3cc),'online',a0_0x6619de(0x1dd),a0_0x6619de(0x3d7)],...E('readreceipts',a0_0x6619de(0x351),a0_0x6619de(0x3cc),a0_0x6619de(0x601),a0_0x6619de(0x1dd),a0_0x6619de(0x3d7))}},'required':['privacySettings']},wa={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'lastMessage':{'type':a0_0x6619de(0x54b),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x6619de(0x3a5)},'remoteJid':{'type':a0_0x6619de(0x3a5)},'fromMe':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]}},'required':['id',a0_0x6619de(0x1e3),a0_0x6619de(0x2fb)],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x6619de(0x4c4),'minLength':0x1}},'required':[a0_0x6619de(0x648)],...E(a0_0x6619de(0x457))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x6619de(0x435),'archive']},ya={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':a0_0x6619de(0x3a5)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x6619de(0x3a5)}},'required':['id',a0_0x6619de(0x1e3),a0_0x6619de(0x2fb)],...E('id',a0_0x6619de(0x2fb),'participant')},ba={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'where':{'type':a0_0x6619de(0x54b),'properties':{'_id':{'type':a0_0x6619de(0x3a5),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x6619de(0x3a5),'minLength':0x1}},...E(a0_0x6619de(0x519),'id',a0_0x6619de(0x2f4))}}},Sa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x6619de(0x3a5)}},...E(a0_0x6619de(0x5c4))},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'status':{'type':'string'}},...E(a0_0x6619de(0x3cc))},Ee={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x6619de(0x3a5)}}},va={'type':a0_0x6619de(0x54b),'properties':{'wuid':{'type':a0_0x6619de(0x3a5)},'name':{'type':a0_0x6619de(0x3a5)},'picture':{'type':a0_0x6619de(0x3a5)},'status':{'type':a0_0x6619de(0x3a5)},'isBusiness':{'type':a0_0x6619de(0x3ec)}}},Ca={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x6619de(0x54b),'properties':{'_id':{'type':a0_0x6619de(0x3a5),'minLength':0x1},'key':{'type':a0_0x6619de(0x54b),'if':{'propertyNames':{'enum':[a0_0x6619de(0x1e3),a0_0x6619de(0x2fb),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x6619de(0x3a5),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x6619de(0x3a5),'minLength':0x1,'description':a0_0x6619de(0x22d)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x6619de(0x519))},'limit':{'type':a0_0x6619de(0x4c4)}}},mn={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'where':{'type':a0_0x6619de(0x54b),'properties':{'_id':{'type':a0_0x6619de(0x3a5)},'remoteJid':{'type':a0_0x6619de(0x3a5)},'id':{'type':'string'},'fromMe':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x6619de(0x3a5)},'status':{'type':a0_0x6619de(0x3a5),'enum':['ERROR','PENDING',a0_0x6619de(0x61b),a0_0x6619de(0x682),a0_0x6619de(0x60d),a0_0x6619de(0x6fe)]}},...E(a0_0x6619de(0x519),'remoteJid','id',a0_0x6619de(0x3cc))},'limit':{'type':'integer'}}},Na={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'number':{...X},'presence':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x6bc),a0_0x6619de(0x542),a0_0x6619de(0x57a),a0_0x6619de(0x6a4),a0_0x6619de(0x18f)]}},'required':[a0_0x6619de(0x6dd),'number']},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x6619de(0x3a5)},'profilePicture':{'type':a0_0x6619de(0x3a5)},'participants':{'type':a0_0x6619de(0x73c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6619de(0x3a5),'minLength':0xa,'pattern':a0_0x6619de(0x1d1),'description':a0_0x6619de(0x5b7)}}},'required':[a0_0x6619de(0x3cb),a0_0x6619de(0x2c3)],...E('subject',a0_0x6619de(0x6c2),'profilePicture')},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x6619de(0x3a5),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x6619de(0x453)],...E(a0_0x6619de(0x453))},Ra={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x6619de(0x3a5)},'action':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x46d),'remove',a0_0x6619de(0x6b5),a0_0x6619de(0x27c)]},'participants':{'type':a0_0x6619de(0x73c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6619de(0x3a5),'minLength':0xa,'pattern':a0_0x6619de(0x1d1),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x6619de(0x453),'action',a0_0x6619de(0x2c3)],...E(a0_0x6619de(0x453),a0_0x6619de(0x1c7))},Ma={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'groupJid':{'type':a0_0x6619de(0x3a5)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x6619de(0x453),a0_0x6619de(0x48c)],...E('groupJid',a0_0x6619de(0x48c))},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x6619de(0x3a5)},'image':{'type':a0_0x6619de(0x3a5)}},'required':['groupJid','image'],...E('groupJid',a0_0x6619de(0x378))},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'groupJid':{'type':a0_0x6619de(0x3a5)},'description':{'type':a0_0x6619de(0x3a5)}},'required':['groupJid','description'],...E('groupJid','description')},Da={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'groupJid':{'type':a0_0x6619de(0x3a5)},'name':{'type':'string'}},'required':['groupJid',a0_0x6619de(0x5c4)],...E(a0_0x6619de(0x453),a0_0x6619de(0x5c4))},_a={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x6619de(0x3a5),'enum':[a0_0x6619de(0x25d),a0_0x6619de(0x4b8),'unlocked',a0_0x6619de(0x4c5)]}},'required':[a0_0x6619de(0x453),a0_0x6619de(0x53b)],...E(a0_0x6619de(0x453),a0_0x6619de(0x53b))},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'inviteCode':{'type':a0_0x6619de(0x3a5)}},'required':[a0_0x6619de(0x5fb)],...E(a0_0x6619de(0x5fb))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x6619de(0x54b),'properties':{'url':{'type':a0_0x6619de(0x3a5)},'enabled':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]}},'required':[a0_0x6619de(0x751),a0_0x6619de(0x3f1)]},hn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x6619de(0x3ec),'enum':[!0x0,!0x1]}},'required':[a0_0x6619de(0x18c),a0_0x6619de(0x18e),a0_0x6619de(0x739),'MESSAGES_SET',a0_0x6619de(0x31e),a0_0x6619de(0x428),'SEND_MESSAGE','CONTACTS_SET',a0_0x6619de(0x213),a0_0x6619de(0x2fa),'PRESENCE_UPDATE',a0_0x6619de(0x70a),a0_0x6619de(0x3ac),a0_0x6619de(0x5d9),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x6619de(0x486),a0_0x6619de(0x23a),'GROUP_PARTICIPANTS_UPDATE'],...E(a0_0x6619de(0x18c),a0_0x6619de(0x18e),a0_0x6619de(0x739),a0_0x6619de(0x4f2),a0_0x6619de(0x31e),a0_0x6619de(0x428),a0_0x6619de(0x423),a0_0x6619de(0x1a4),a0_0x6619de(0x213),a0_0x6619de(0x2fa),a0_0x6619de(0x1a1),a0_0x6619de(0x70a),a0_0x6619de(0x3ac),'CHATS_UPDATE',a0_0x6619de(0x5bd),'CONNECTION_UPDATE',a0_0x6619de(0x486),a0_0x6619de(0x23a),'GROUP_PARTICIPANTS_UPDATE')},Je=class{},We=class extends W{constructor(_0x3b9a97){const _0x2cc7e8=a0_0x6619de;super(_0x3b9a97),this[_0x2cc7e8(0x42e)]=_0x3b9a97;}['getContactModelForOwner'](_0x5a8d67){return xs(_0x5a8d67);}async[a0_0x6619de(0x18a)](_0x561f2b){const _0x18deb5=a0_0x6619de;if(_0x561f2b[_0x18deb5(0x41d)]!==0x0)try{return{'insertCount':(await this[_0x18deb5(0x226)](_0x561f2b[0x0]['owner'])[_0x18deb5(0x69f)]([..._0x561f2b]))['length']};}catch(_0x2c98eb){return _0x2c98eb;}}async[a0_0x6619de(0x434)](_0x2cc683){const _0x4ca644=a0_0x6619de;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x2cc683['where'][_0x4ca644(0x4e4)])[_0x4ca644(0x21e)]({..._0x2cc683[_0x4ca644(0x644)]}))[_0x4ca644(0x741)]};}catch(_0x195caf){return{'error':_0x195caf?.[_0x4ca644(0x1cf)]()};}}async[a0_0x6619de(0x452)](_0x390772,_0x51e0b3){const _0x1fd573=a0_0x6619de;try{if(_0x390772[_0x1fd573(0x41d)]===0x0)return;let _0x460f69=this[_0x1fd573(0x226)](_0x51e0b3),_0xa51f80=_0x390772[_0x1fd573(0x3e9)](_0xa91199=>({'updateOne':{'filter':{'_id':_0xa91199[_0x1fd573(0x519)],'owner':_0x51e0b3},'update':{..._0xa91199}}})),{modifiedCount:_0x4e6305}=await _0x460f69['bulkWrite'](_0xa51f80);return{'insertCount':_0x4e6305};}catch{return;}}async[a0_0x6619de(0x451)](_0x3a7dca){const _0x12ea50=a0_0x6619de;try{return await this[_0x12ea50(0x226)](_0x3a7dca[_0x12ea50(0x644)][_0x12ea50(0x4e4)])[_0x12ea50(0x451)]({..._0x3a7dca[_0x12ea50(0x644)]})[_0x12ea50(0x2c2)](_0x3a7dca?.[_0x12ea50(0x2c2)]??0x0)[_0x12ea50(0x221)]();}catch{return[];}}async[a0_0x6619de(0x47a)](_0x1be95d){const _0x2561db=a0_0x6619de;try{return await this[_0x2561db(0x226)](_0x1be95d[_0x2561db(0x644)][_0x2561db(0x4e4)])[_0x2561db(0x47a)]({..._0x1be95d['where']})['lean']();}catch{return null;}}async[a0_0x6619de(0x6d4)](_0x706289){const _0x2f87c9=a0_0x6619de;try{return await this['getContactModelForOwner'](_0x706289)[_0x2f87c9(0x4a9)][_0x2f87c9(0x586)](),{'success':!0x0};}catch(_0xfb5f7e){return console[_0x2f87c9(0x6b1)](_0xfb5f7e),{'success':!0x1,'error':_0xfb5f7e};}}},He=require('jsonschema'),Cn=require(a0_0x6619de(0x698)),is=new N(a0_0x6619de(0x744)),k=class{constructor(){}[a0_0x6619de(0x47c)](_0x95523b,_0x4c6a15=!0x0){let _0x3b28fb='/'+_0x95523b;return _0x4c6a15&&(_0x3b28fb+='/:instanceName'),_0x3b28fb;}async[a0_0x6619de(0x671)](_0x58d3f3){const _0xb282ab=a0_0x6619de;let {request:_0x8a9ad7,schema:_0x2b6f3e,ClassRef:_0x131e1d,execute:_0x35e2e5}=_0x58d3f3,_0x335b5c=new _0x131e1d(),_0x3ad100=_0x8a9ad7['body'],_0x33e86d=_0x8a9ad7[_0xb282ab(0x39a)];_0x8a9ad7?.[_0xb282ab(0x575)]&&Object[_0xb282ab(0x5f1)](_0x8a9ad7[_0xb282ab(0x575)])['length']>0x0&&Object['assign'](_0x33e86d,_0x8a9ad7[_0xb282ab(0x575)]),_0x8a9ad7[_0xb282ab(0x592)]['includes'](_0xb282ab(0x684))&&Object[_0xb282ab(0x252)](_0x33e86d,_0x3ad100),Object[_0xb282ab(0x252)](_0x335b5c,_0x3ad100);let _0x288e0b=_0x2b6f3e?(0x0,He[_0xb282ab(0x2f2)])(_0x335b5c,_0x2b6f3e):{'valid':!0x0,'errors':[]};if(!_0x288e0b[_0xb282ab(0x446)]){let _0x316999=_0x288e0b[_0xb282ab(0x3af)][_0xb282ab(0x3e9)](({property:_0x5f1ad9,stack:_0xa99e39,schema:_0x275099})=>{const _0xb4f02b=_0xb282ab;let _0x4c2c44;return _0x275099['description']?_0x4c2c44=_0x275099['description']:_0x4c2c44=_0xa99e39['replace'](_0xb4f02b(0x1bb),''),{'property':_0x5f1ad9[_0xb4f02b(0x613)]('instance.',''),'message':_0x4c2c44};});throw is[_0xb282ab(0x6b1)]([..._0x316999]),new g(..._0x316999);}return await _0x35e2e5(_0x33e86d,_0x335b5c);}async[a0_0x6619de(0x31b)](_0x4d8118){const _0x2d219c=a0_0x6619de;let {request:_0x5a8d98,ClassRef:_0x1aaa73,schema:_0x55f9cf,execute:_0x1e2af2}=_0x4d8118,_0x170134=_0x5a8d98['query'];if(!_0x170134?.['groupJid'])throw new g(_0x2d219c(0x492),_0x2d219c(0x40b));let _0x3de682=_0x5a8d98[_0x2d219c(0x39a)],_0x5f47c3=_0x5a8d98[_0x2d219c(0x23e)],_0x3e2911=new _0x1aaa73();Object[_0x2d219c(0x252)](_0x5f47c3,_0x170134),Object['assign'](_0x3e2911,_0x5f47c3);let _0x30dcca=(0x0,He[_0x2d219c(0x2f2)])(_0x3e2911,_0x55f9cf);if(!_0x30dcca[_0x2d219c(0x446)]){let _0x561570=_0x30dcca[_0x2d219c(0x3af)][_0x2d219c(0x3e9)](({property:_0x625029,stack:_0x4afc1a,schema:_0x1a7c87})=>{const _0x5784b1=_0x2d219c;let _0x128352;return _0x1a7c87[_0x5784b1(0x6c2)]?_0x128352=_0x1a7c87['description']:_0x128352=_0x4afc1a[_0x5784b1(0x613)](_0x5784b1(0x1bb),''),{'property':_0x625029[_0x5784b1(0x613)](_0x5784b1(0x1bb),''),'message':_0x128352};});throw is['error']([..._0x561570]),new g(..._0x561570);}return await _0x1e2af2(_0x3de682,_0x3e2911);}async[a0_0x6619de(0x52e)](_0x5b797b){const _0x397303=a0_0x6619de;let {request:_0xccab1e,ClassRef:_0x4bd1df,schema:_0x4a39d3,execute:_0x54255a}=_0x5b797b,_0x2139db=_0xccab1e[_0x397303(0x23e)];if(!_0x2139db?.[_0x397303(0x5fb)])throw new g('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x397303(0x5e7));let _0x18be8c=_0xccab1e[_0x397303(0x39a)],_0x59ac94=_0xccab1e[_0x397303(0x23e)],_0x46320a=new _0x4bd1df();Object[_0x397303(0x252)](_0x59ac94,_0x2139db),Object[_0x397303(0x252)](_0x46320a,_0x59ac94);let _0x3651de=(0x0,He[_0x397303(0x2f2)])(_0x46320a,_0x4a39d3);if(!_0x3651de[_0x397303(0x446)]){let _0x6a25f=_0x3651de[_0x397303(0x3af)][_0x397303(0x3e9)](({property:_0x95fda6,stack:_0x12cf4e,schema:_0x5a9bc8})=>{const _0x170b7b=_0x397303;let _0x23c332;return _0x5a9bc8['description']?_0x23c332=_0x5a9bc8['description']:_0x23c332=_0x12cf4e[_0x170b7b(0x613)](_0x170b7b(0x1bb),''),{'property':_0x95fda6[_0x170b7b(0x613)](_0x170b7b(0x1bb),''),'message':_0x23c332};});throw is[_0x397303(0x6b1)]([..._0x6a25f]),new g(..._0x6a25f);}return await _0x54255a(_0x18be8c,_0x46320a);}},b=class{},Ke=class extends k{constructor(..._0x3ddf07){const _0x36a8bd=a0_0x6619de;super(),this['router']=(0x0,xa[_0x36a8bd(0x67b)])(),this['router'][_0x36a8bd(0x6e6)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x419)),..._0x3ddf07,async(_0x53d34b,_0x3d96af)=>{const _0x35f37f=_0x36a8bd;let _0x1834dc=await this[_0x35f37f(0x671)]({'request':_0x53d34b,'schema':Na,'ClassRef':$e,'execute':(_0x5a93ad,_0x3e3b21)=>D[_0x35f37f(0x419)](_0x5a93ad,_0x3e3b21)});return _0x3d96af[_0x35f37f(0x3cc)](0xc9)[_0x35f37f(0x5c8)](_0x1834dc);})[_0x36a8bd(0x6e6)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x1e6)),..._0x3ddf07,async(_0x49f963,_0x2d6052)=>{const _0x24a6c4=_0x36a8bd;let _0x3e5090=await this[_0x24a6c4(0x671)]({'request':_0x49f963,'schema':ma,'ClassRef':ke,'execute':(_0x5b07da,_0xb1f9f7)=>D['whatsappNumber'](_0x5b07da,_0xb1f9f7)});return _0x2d6052[_0x24a6c4(0x3cc)](0xc9)[_0x24a6c4(0x5c8)](_0x3e5090);})[_0x36a8bd(0x6e6)](this['routerPath'](_0x36a8bd(0x1a5)),..._0x3ddf07,async(_0x497894,_0x1944a2)=>{const _0x4470cf=_0x36a8bd;let _0x736c23=await this['dataValidate']({'request':_0x497894,'schema':C,'ClassRef':b,'execute':(_0xb7908d,_0x232695)=>D[_0x4470cf(0x1a5)](_0xb7908d,_0x232695)});return _0x1944a2['status'](0xc9)['json'](_0x736c23);})[_0x36a8bd(0x3fc)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x332)),..._0x3ddf07,async(_0x52bd8f,_0x354326)=>{const _0x3cc704=_0x36a8bd;let _0x59dfba=await this[_0x3cc704(0x671)]({'request':_0x52bd8f,'schema':ha,'ClassRef':Ve,'execute':(_0x5b9256,_0x3ed733)=>D[_0x3cc704(0x29b)](_0x5b9256,_0x3ed733)});return _0x354326[_0x3cc704(0x3cc)](0xc9)['json'](_0x59dfba);})[_0x36a8bd(0x3fc)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x275)),..._0x3ddf07,async(_0x2344ae,_0x292b10)=>{const _0x19f450=_0x36a8bd;let _0x7b9845=await this[_0x19f450(0x671)]({'request':_0x2344ae,'schema':wa,'ClassRef':je,'execute':(_0x62dc1e,_0x15ed3d)=>D[_0x19f450(0x275)](_0x62dc1e,_0x15ed3d)});return _0x292b10[_0x19f450(0x3cc)](0xc9)[_0x19f450(0x5c8)](_0x7b9845);})[_0x36a8bd(0x434)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x605)),..._0x3ddf07,async(_0x2fc54d,_0xfdbeec)=>{const _0x39517f=_0x36a8bd;let _0x3f8c6a=await this[_0x39517f(0x671)]({'request':_0x2fc54d,'schema':ya,'ClassRef':Be,'execute':(_0x16090c,_0x5db469)=>D[_0x39517f(0x2c0)](_0x16090c,_0x5db469)});return _0xfdbeec[_0x39517f(0x3cc)](0xc9)[_0x39517f(0x5c8)](_0x3f8c6a);})['post'](this['routerPath']('fetchProfilePictureUrl'),..._0x3ddf07,async(_0x33171a,_0x5e0130)=>{const _0x5a3fc0=_0x36a8bd;let _0x9d6563=await this[_0x5a3fc0(0x671)]({'request':_0x33171a,'schema':Ee,'ClassRef':Se,'execute':(_0x1460f6,_0x35c87b)=>D[_0x5a3fc0(0x263)](_0x1460f6,_0x35c87b)});return _0x5e0130['status'](0xc8)[_0x5a3fc0(0x5c8)](_0x9d6563);})[_0x36a8bd(0x6e6)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x5c5)),..._0x3ddf07,async(_0x257501,_0x46d72f)=>{const _0x57772a=_0x36a8bd;let _0x376c65=await this[_0x57772a(0x671)]({'request':_0x257501,'schema':va,'ClassRef':Se,'execute':(_0x3fb726,_0x390b1c)=>D[_0x57772a(0x5c5)](_0x3fb726,_0x390b1c)});return _0x46d72f['status'](0xc8)[_0x57772a(0x5c8)](_0x376c65);})[_0x36a8bd(0x6e6)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x65e)),..._0x3ddf07,async(_0x3bbe64,_0x446c36)=>{const _0x495e13=_0x36a8bd;let _0x50742d=await this['dataValidate']({'request':_0x3bbe64,'schema':ba,'ClassRef':Je,'execute':(_0x5d58a8,_0x258f45)=>D[_0x495e13(0x18b)](_0x5d58a8,_0x258f45)});return _0x446c36['status'](0xc8)['json'](_0x50742d);})[_0x36a8bd(0x6e6)](this['routerPath'](_0x36a8bd(0x4e7)),..._0x3ddf07,async(_0x392ab0,_0x55dcc5)=>{const _0x9b34db=_0x36a8bd;let _0x122b9f=await this[_0x9b34db(0x671)]({'request':_0x392ab0,'schema':null,'ClassRef':Object,'execute':(_0x1833f9,_0x3f15a4)=>D[_0x9b34db(0x4e7)](_0x1833f9,_0x3f15a4)});return _0x55dcc5[_0x9b34db(0x3cc)](0xc9)['json'](_0x122b9f);})[_0x36a8bd(0x6e6)](this[_0x36a8bd(0x47c)]('findMessages'),..._0x3ddf07,async(_0x14a88c,_0x4472a3)=>{const _0x2c73ec=_0x36a8bd;let _0x568636=await this['dataValidate']({'request':_0x14a88c,'schema':Ca,'ClassRef':Pe,'execute':(_0x480d72,_0x2488bb)=>D[_0x2c73ec(0x1f3)](_0x480d72,_0x2488bb)});return _0x4472a3[_0x2c73ec(0x3cc)](0xc8)[_0x2c73ec(0x5c8)](_0x568636);})[_0x36a8bd(0x39d)](this[_0x36a8bd(0x47c)]('findChats'),..._0x3ddf07,async(_0x4d1d5e,_0x319658)=>{const _0x1c5c05=_0x36a8bd;let _0x1d3072=await this[_0x1c5c05(0x671)]({'request':_0x4d1d5e,'schema':null,'ClassRef':b,'execute':_0x2ca7bb=>D[_0x1c5c05(0x323)](_0x2ca7bb)});return _0x319658['status'](0xc8)[_0x1c5c05(0x5c8)](_0x1d3072);})[_0x36a8bd(0x39d)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x3a6)),..._0x3ddf07,async(_0x1dff44,_0x3898f5)=>{const _0x25d3b1=_0x36a8bd;let _0xfec2fc=await this[_0x25d3b1(0x671)]({'request':_0x1dff44,'schema':null,'ClassRef':b,'execute':_0x16eb8a=>D[_0x25d3b1(0x3a6)](_0x16eb8a)});return _0x3898f5[_0x25d3b1(0x3cc)](0xc8)['json'](_0xfec2fc);})['put'](this[_0x36a8bd(0x47c)](_0x36a8bd(0x442)),..._0x3ddf07,async(_0x45fb01,_0x91a2c3)=>{const _0x29601e=_0x36a8bd;let _0x594273=await this[_0x29601e(0x671)]({'request':_0x45fb01,'schema':fa,'ClassRef':Fe,'execute':(_0x392471,_0xa0216c)=>D[_0x29601e(0x442)](_0x392471,_0xa0216c)});return _0x91a2c3['status'](0xc9)[_0x29601e(0x5c8)](_0x594273);})[_0x36a8bd(0x6e6)](this['routerPath'](_0x36a8bd(0x277)),..._0x3ddf07,async(_0x2f7d86,_0xf79ba3)=>{const _0x3186a9=_0x36a8bd;let _0x48f085=await this['dataValidate']({'request':_0x2f7d86,'schema':Ee,'ClassRef':fe,'execute':(_0x5f1ac8,_0xcb70ba)=>D[_0x3186a9(0x277)](_0x5f1ac8,_0xcb70ba)});return _0xf79ba3[_0x3186a9(0x3cc)](0xc8)['json'](_0x48f085);})[_0x36a8bd(0x6e6)](this[_0x36a8bd(0x47c)]('updateProfileName'),..._0x3ddf07,async(_0x4950b5,_0xa95f55)=>{const _0x4d92ea=_0x36a8bd;let _0x3819d3=await this[_0x4d92ea(0x671)]({'request':_0x4950b5,'schema':Sa,'ClassRef':Le,'execute':(_0x400408,_0x34da94)=>D[_0x4d92ea(0x19e)](_0x400408,_0x34da94)});return _0xa95f55[_0x4d92ea(0x3cc)](0xc8)['json'](_0x3819d3);})[_0x36a8bd(0x6e6)](this[_0x36a8bd(0x47c)](_0x36a8bd(0x20a)),..._0x3ddf07,async(_0x300cc6,_0x53f92b)=>{const _0xa2db11=_0x36a8bd;let _0x5aa651=await this[_0xa2db11(0x671)]({'request':_0x300cc6,'schema':Ea,'ClassRef':Ue,'execute':(_0x4d0227,_0x2577f4)=>D[_0xa2db11(0x20a)](_0x4d0227,_0x2577f4)});return _0x53f92b[_0xa2db11(0x3cc)](0xc8)['json'](_0x5aa651);})[_0x36a8bd(0x3fc)](this['routerPath'](_0x36a8bd(0x658)),..._0x3ddf07,async(_0x805bf1,_0x57515e)=>{const _0x349056=_0x36a8bd;let _0x2231a6=await this['dataValidate']({'request':_0x805bf1,'schema':Ee,'ClassRef':fe,'execute':(_0x36f58e,_0x5b1355)=>D[_0x349056(0x658)](_0x36f58e,_0x5b1355)});return _0x57515e[_0x349056(0x3cc)](0xc8)['json'](_0x2231a6);})['delete'](this[_0x36a8bd(0x47c)]('removeProfilePicture'),..._0x3ddf07,async(_0x478d4c,_0x3cfa52)=>{const _0xa78043=_0x36a8bd;let _0x546ea6=await this[_0xa78043(0x671)]({'request':_0x478d4c,'schema':Ee,'ClassRef':fe,'execute':(_0x21ae71,_0x418f75)=>D[_0xa78043(0x717)](_0x21ae71,_0x418f75)});return _0x3cfa52[_0xa78043(0x3cc)](0xc8)[_0xa78043(0x5c8)](_0x546ea6);});}},$a=require(a0_0x6619de(0x6e3)),ze=class{},Qe=class{},Ye=class{},Xe=class{},Ze=class{},Z=class{},et=class{},tt=class extends Z{},st=class extends Z{},at=class extends k{constructor(..._0x5803c8){const _0xbfb7cb=a0_0x6619de;super(),this[_0xbfb7cb(0x397)]=(0x0,$a['Router'])(),this[_0xbfb7cb(0x397)][_0xbfb7cb(0x6e6)](this[_0xbfb7cb(0x47c)](_0xbfb7cb(0x1db)),..._0x5803c8,async(_0x15fd16,_0x5476e2)=>{const _0x5e01bd=_0xbfb7cb;let _0x3c3afb=await this[_0x5e01bd(0x671)]({'request':_0x15fd16,'schema':Ta,'ClassRef':ze,'execute':(_0x2ce7d1,_0x590026)=>U[_0x5e01bd(0x215)](_0x2ce7d1,_0x590026)});_0x5476e2[_0x5e01bd(0x3cc)](0xc9)[_0x5e01bd(0x5c8)](_0x3c3afb);})[_0xbfb7cb(0x3fc)](this['routerPath'](_0xbfb7cb(0x354)),..._0x5803c8,async(_0x498b01,_0x3670ca)=>{const _0x4ecc20=_0xbfb7cb;let _0x5681bb=await this[_0x4ecc20(0x31b)]({'request':_0x498b01,'schema':Aa,'ClassRef':Qe,'execute':(_0xdc87cb,_0x4a4f28)=>U[_0x4ecc20(0x354)](_0xdc87cb,_0x4a4f28)});_0x3670ca['status'](0xc9)['json'](_0x5681bb);})[_0xbfb7cb(0x3fc)](this[_0xbfb7cb(0x47c)](_0xbfb7cb(0x505)),..._0x5803c8,async(_0xed60d3,_0x4f950a)=>{const _0x2a74f3=_0xbfb7cb;let _0x1b5537=await this[_0x2a74f3(0x31b)]({'request':_0xed60d3,'schema':Ia,'ClassRef':Ye,'execute':(_0x2964c1,_0x52c9a8)=>U['groupDesc'](_0x2964c1,_0x52c9a8)});_0x4f950a[_0x2a74f3(0x3cc)](0xc9)['json'](_0x1b5537);})[_0xbfb7cb(0x3fc)](this[_0xbfb7cb(0x47c)]('groupName'),..._0x5803c8,async(_0x55c2eb,_0x580f26)=>{const _0xb06a46=_0xbfb7cb;let _0x1201e2=await this['groupValidate']({'request':_0x55c2eb,'schema':Da,'ClassRef':Xe,'execute':(_0xd451cf,_0x4d492d)=>U['groupName'](_0xd451cf,_0x4d492d)});_0x580f26[_0xb06a46(0x3cc)](0xc9)[_0xb06a46(0x5c8)](_0x1201e2);})[_0xbfb7cb(0x3fc)](this[_0xbfb7cb(0x47c)]('groupSetting'),..._0x5803c8,async(_0x3b4946,_0x25eb51)=>{const _0x3a5995=_0xbfb7cb;let _0x54b93a=await this[_0x3a5995(0x31b)]({'request':_0x3b4946,'schema':_a,'ClassRef':Ze,'execute':(_0x23cb84,_0x3d5e61)=>U[_0x3a5995(0x1f1)](_0x23cb84,_0x3d5e61)});_0x25eb51['status'](0xc9)[_0x3a5995(0x5c8)](_0x54b93a);})[_0xbfb7cb(0x3fc)](this['routerPath'](_0xbfb7cb(0x70e)),..._0x5803c8,async(_0x3fb8cd,_0x532a67)=>{const _0x2c95b5=_0xbfb7cb;let _0x3f6b13=await this[_0x2c95b5(0x31b)]({'request':_0x3fb8cd,'schema':Ma,'ClassRef':st,'execute':(_0x4dc109,_0x4021ec)=>U['toggleEphemeral'](_0x4dc109,_0x4021ec)});_0x532a67[_0x2c95b5(0x3cc)](0xc9)['json'](_0x3f6b13);})[_0xbfb7cb(0x39d)](this[_0xbfb7cb(0x47c)]('findGroupInfos'),..._0x5803c8,async(_0x119039,_0x121c13)=>{const _0x47c6f8=_0xbfb7cb;let _0x4b932b=await this[_0x47c6f8(0x31b)]({'request':_0x119039,'schema':ve,'ClassRef':Z,'execute':(_0x36bbf0,_0x35ceb9)=>U[_0x47c6f8(0x44f)](_0x36bbf0,_0x35ceb9)});_0x121c13[_0x47c6f8(0x3cc)](0xc8)[_0x47c6f8(0x5c8)](_0x4b932b);})[_0xbfb7cb(0x39d)](this[_0xbfb7cb(0x47c)](_0xbfb7cb(0x27f)),..._0x5803c8,async(_0x25a5ba,_0x2d66eb)=>{const _0x37eb73=_0xbfb7cb;let _0x23551b=await this[_0x37eb73(0x671)]({'request':_0x25a5ba,'schema':C,'ClassRef':b,'execute':_0x22455d=>U['findGroups'](_0x22455d)});_0x2d66eb[_0x37eb73(0x3cc)](0xc8)['json'](_0x23551b);})[_0xbfb7cb(0x39d)](this[_0xbfb7cb(0x47c)](_0xbfb7cb(0x2c3)),..._0x5803c8,async(_0x74a246,_0x2359e8)=>{const _0x5e8f83=_0xbfb7cb;let _0xc10bf8=await this[_0x5e8f83(0x31b)]({'request':_0x74a246,'schema':ve,'ClassRef':Z,'execute':(_0x126a8f,_0x1356d2)=>U['findParticipants'](_0x126a8f,_0x1356d2)});_0x2359e8['status'](0xc8)['json'](_0xc10bf8);})['get'](this[_0xbfb7cb(0x47c)](_0xbfb7cb(0x5fb)),..._0x5803c8,async(_0x40815c,_0x5a9bde)=>{const _0xffa45b=_0xbfb7cb;let _0x544d8f=await this['groupValidate']({'request':_0x40815c,'schema':ve,'ClassRef':Z,'execute':(_0x3c10e9,_0x5f076e)=>U['inviteCode'](_0x3c10e9,_0x5f076e)});_0x5a9bde[_0xffa45b(0x3cc)](0xc8)[_0xffa45b(0x5c8)](_0x544d8f);})['put'](this[_0xbfb7cb(0x47c)](_0xbfb7cb(0x49d)),..._0x5803c8,async(_0x3ffa7e,_0x352d39)=>{const _0x56f432=_0xbfb7cb;let _0x480da1=await this[_0x56f432(0x52e)]({'request':_0x3ffa7e,'schema':Oa,'ClassRef':et,'execute':(_0x5024a0,_0x1e50c7)=>U[_0x56f432(0x49d)](_0x5024a0,_0x1e50c7)});_0x352d39[_0x56f432(0x3cc)](0xc9)[_0x56f432(0x5c8)](_0x480da1);})[_0xbfb7cb(0x3fc)](this['routerPath'](_0xbfb7cb(0x29a)),..._0x5803c8,async(_0x152cd3,_0x33debc)=>{const _0x9636af=_0xbfb7cb;let _0x2b0df5=await this[_0x9636af(0x31b)]({'request':_0x152cd3,'schema':ve,'ClassRef':Z,'execute':(_0xa50d10,_0x17ea2b)=>U[_0x9636af(0x29a)](_0xa50d10,_0x17ea2b)});_0x33debc[_0x9636af(0x3cc)](0xc9)['json'](_0x2b0df5);})[_0xbfb7cb(0x3fc)](this['routerPath']('updateParticipant'),..._0x5803c8,async(_0x4503fa,_0x130fd6)=>{const _0x1dd5a8=_0xbfb7cb;let _0x1391b4=await this[_0x1dd5a8(0x31b)]({'request':_0x4503fa,'schema':Ra,'ClassRef':tt,'execute':(_0x4b76c9,_0x2acd29)=>U[_0x1dd5a8(0x244)](_0x4b76c9,_0x2acd29)});_0x130fd6[_0x1dd5a8(0x3cc)](0xc9)[_0x1dd5a8(0x5c8)](_0x1391b4);})[_0xbfb7cb(0x434)](this[_0xbfb7cb(0x47c)](_0xbfb7cb(0x68d)),..._0x5803c8,async(_0x2473e2,_0x2f7e57)=>{const _0xad92a6=_0xbfb7cb;let _0x1e905e=await this[_0xad92a6(0x31b)]({'request':_0x2473e2,'schema':{},'ClassRef':Z,'execute':(_0x34b199,_0x2f3330)=>U['leaveGroup'](_0x34b199,_0x2f3330)});_0x2f7e57['status'](0xc8)[_0xad92a6(0x5c8)](_0x1e905e);});}},Ua=require(a0_0x6619de(0x6e3)),Ce=require('jsonwebtoken'),ns=require(a0_0x6619de(0x296)),ka=require(a0_0x6619de(0x1a0)),La=T(require(a0_0x6619de(0x5b9))),ot=class{},rt=class c{constructor(_0x257cbf,_0x4561f6,_0x4d0a60){const _0x2e3654=a0_0x6619de;this['configService']=_0x257cbf,this[_0x2e3654(0x6a6)]=_0x4561f6,this[_0x2e3654(0x331)]=_0x4d0a60,this['logger']=new N(c[_0x2e3654(0x5c4)]);}async[a0_0x6619de(0x1b6)](_0x4373f0){const _0x4228f5=a0_0x6619de;let _0x13d13e=this[_0x4228f5(0x42e)][_0x4228f5(0x39d)]('AUTHENTICATION')['JWT'],_0x7db670=(0x0,Ce[_0x4228f5(0x4a7)])({'instanceName':_0x4373f0[_0x4228f5(0x524)],'apiName':Ge,'tokenId':(0x0,ns['v4'])()},_0x13d13e[_0x4228f5(0x500)],{'expiresIn':_0x13d13e[_0x4228f5(0x32d)],'encoding':_0x4228f5(0x5af),'subject':_0x4228f5(0x1c0)}),_0x14b2cd=await this[_0x4228f5(0x331)][_0x4228f5(0x282)][_0x4228f5(0x1db)]({'jwt':_0x7db670},_0x4373f0[_0x4228f5(0x524)]);if(_0x14b2cd[_0x4228f5(0x6b1)])throw this['logger'][_0x4228f5(0x6b1)]({'localError':c['name']+_0x4228f5(0x3fd),'error':_0x14b2cd[_0x4228f5(0x6b1)]}),new g(_0x4228f5(0x73a),_0x14b2cd['error']?.[_0x4228f5(0x1cf)]());return{'jwt':_0x7db670};}async[a0_0x6619de(0x4ea)](_0x57b4b3){const _0x276395=a0_0x6619de;let _0x42af57=(0x0,ns['v4'])()[_0x276395(0x448)](),_0x5418e6=await this[_0x276395(0x331)][_0x276395(0x282)][_0x276395(0x1db)]({'apikey':_0x42af57},_0x57b4b3[_0x276395(0x524)]);if(_0x5418e6[_0x276395(0x6b1)])throw this[_0x276395(0x5a9)][_0x276395(0x6b1)]({'localError':c[_0x276395(0x5c4)]+_0x276395(0x3fd),'error':_0x5418e6[_0x276395(0x6b1)]}),new g(_0x276395(0x73a),_0x5418e6[_0x276395(0x6b1)]?.[_0x276395(0x1cf)]());return{'apikey':_0x42af57};}async[a0_0x6619de(0x29e)](_0x49e64d){const _0x1e488a=a0_0x6619de;let _0x213b98=this[_0x1e488a(0x42e)][_0x1e488a(0x39d)](_0x1e488a(0x6db));return await this[_0x213b98[_0x1e488a(0x357)]](_0x49e64d);}async[a0_0x6619de(0x36a)]({oldToken:_0x2b4021}){const _0x32ff0a=a0_0x6619de;if(!(0x0,ka[_0x32ff0a(0x608)])(_0x2b4021))throw new g(_0x32ff0a(0x3dc));try{let _0x1b4889=this[_0x32ff0a(0x42e)][_0x32ff0a(0x39d)]('AUTHENTICATION')[_0x32ff0a(0x6ae)],_0x56c1a6=(0x0,Ce[_0x32ff0a(0x666)])(_0x2b4021,_0x1b4889[_0x32ff0a(0x500)],{'ignoreExpiration':!0x0}),_0x333ed4=await this[_0x32ff0a(0x331)]['auth'][_0x32ff0a(0x451)](_0x56c1a6[_0x32ff0a(0x524)]),_0x3f26fc=(0x0,Ce[_0x32ff0a(0x666)])(_0x333ed4['jwt'],_0x1b4889[_0x32ff0a(0x500)],{'ignoreExpiration':!0x0});if(_0x56c1a6[_0x32ff0a(0x54e)]!==_0x3f26fc[_0x32ff0a(0x54e)])throw new g('Invalid\x20\x22oldToken\x22');let _0x3ac4c8={'jwt':(await this[_0x32ff0a(0x1b6)]({'instanceName':_0x56c1a6[_0x32ff0a(0x524)]}))[_0x32ff0a(0x1b6)],'instanceName':_0x56c1a6[_0x32ff0a(0x524)]};try{let _0x40f2e9=await this[_0x32ff0a(0x331)][_0x32ff0a(0x23f)][_0x32ff0a(0x451)](_0x56c1a6['instanceName']);_0x40f2e9?.['enabled']&&this[_0x32ff0a(0x42e)][_0x32ff0a(0x39d)](_0x32ff0a(0x6f4))[_0x32ff0a(0x6f3)]['NEW_JWT_TOKEN']&&await La[_0x32ff0a(0x411)][_0x32ff0a(0x1db)]({'baseURL':_0x40f2e9[_0x32ff0a(0x751)]})[_0x32ff0a(0x6e6)]('',{'event':'new.jwt','instance':_0x56c1a6[_0x32ff0a(0x524)],'data':_0x3ac4c8},{'params':{'owner':this['waMonitor'][_0x32ff0a(0x545)][_0x56c1a6[_0x32ff0a(0x524)]][_0x32ff0a(0x4cc)]}});}catch(_0x374ec5){this[_0x32ff0a(0x5a9)]['error'](_0x374ec5);}return _0x3ac4c8;}catch(_0x45d885){throw this[_0x32ff0a(0x5a9)][_0x32ff0a(0x6b1)]({'localError':c[_0x32ff0a(0x5c4)]+_0x32ff0a(0x6da),'error':_0x45d885}),new g('Invalid\x20\x22oldToken\x22');}}},it=class extends k{constructor(_0x5d20de,..._0x2e8db7){const _0x22e1b0=a0_0x6619de;super(),this['configService']=_0x5d20de,this[_0x22e1b0(0x397)]=(0x0,Ua[_0x22e1b0(0x67b)])();let _0x57fe1b=_0x5d20de[_0x22e1b0(0x39d)]('AUTHENTICATION');this[_0x22e1b0(0x397)][_0x22e1b0(0x6e6)](_0x22e1b0(0x649),..._0x2e8db7,async(_0x471cfd,_0x328511)=>{const _0x1b44c5=_0x22e1b0;let {instanceName:_0x300ce8,apikey:_0x131358}=_0x471cfd[_0x1b44c5(0x23e)],_0x156e9d=await ie[_0x1b44c5(0x5c0)]({'instanceName':_0x300ce8,'apikey':_0x131358});return _0x328511[_0x1b44c5(0x3cc)](0xc9)['json'](_0x156e9d);})['put'](this['routerPath'](_0x22e1b0(0x657)),..._0x2e8db7,async(_0x2ad9f3,_0x798c49)=>{const _0xfa1abf=_0x22e1b0;let _0x14f8d1=await this[_0xfa1abf(0x671)]({'request':_0x2ad9f3,'schema':C,'ClassRef':b,'execute':_0x3b27fa=>ie[_0xfa1abf(0x31f)](_0x3b27fa)});return _0x798c49[_0xfa1abf(0x3cc)](0xc8)[_0xfa1abf(0x5c8)](_0x14f8d1);})[_0x22e1b0(0x39d)](this[_0x22e1b0(0x47c)](_0x22e1b0(0x295)),..._0x2e8db7,async(_0x1297f3,_0x39376d)=>{const _0x270708=_0x22e1b0;let _0x24e520=await this['dataValidate']({'request':_0x1297f3,'schema':C,'ClassRef':b,'execute':_0x5f2bac=>ie['connectToWhatsapp'](_0x5f2bac)});return _0x39376d[_0x270708(0x3cc)](0xc8)['json'](_0x24e520);})[_0x22e1b0(0x39d)](this[_0x22e1b0(0x47c)](_0x22e1b0(0x327)),..._0x2e8db7,async(_0x5e0868,_0x1c79e8)=>{const _0xc7da5a=_0x22e1b0;let _0x2b55bd=await this[_0xc7da5a(0x671)]({'request':_0x5e0868,'schema':C,'ClassRef':b,'execute':_0x3ce94c=>ie[_0xc7da5a(0x327)](_0x3ce94c)});return _0x1c79e8[_0xc7da5a(0x3cc)](0xc8)[_0xc7da5a(0x5c8)](_0x2b55bd);})['get'](this[_0x22e1b0(0x47c)]('fetchInstances',!0x1),..._0x2e8db7,async(_0x2ab185,_0x129382)=>{const _0x4eb458=_0x22e1b0;let _0x5eb51a=await this[_0x4eb458(0x671)]({'request':_0x2ab185,'schema':null,'ClassRef':b,'execute':_0xb2fd94=>ie[_0x4eb458(0x5d4)](_0xb2fd94)});return _0x129382['status'](0xc8)[_0x4eb458(0x5c8)](_0x5eb51a);})[_0x22e1b0(0x434)](this[_0x22e1b0(0x47c)](_0x22e1b0(0x2ce)),..._0x2e8db7,async(_0x2a90d6,_0x315f2a)=>{const _0x24cd4e=_0x22e1b0;let _0x1ae95f=await this[_0x24cd4e(0x671)]({'request':_0x2a90d6,'schema':C,'ClassRef':b,'execute':_0x3fc773=>ie[_0x24cd4e(0x2ce)](_0x3fc773)});return _0x315f2a[_0x24cd4e(0x3cc)](0xc8)[_0x24cd4e(0x5c8)](_0x1ae95f);})[_0x22e1b0(0x434)](this[_0x22e1b0(0x47c)](_0x22e1b0(0x434)),..._0x2e8db7,async(_0x1297ae,_0x526031)=>{const _0x5869f8=_0x22e1b0;let _0x45f943=await this['dataValidate']({'request':_0x1297ae,'schema':C,'ClassRef':b,'execute':_0x2121d9=>ie[_0x5869f8(0x2b4)](_0x2121d9)});return _0x526031[_0x5869f8(0x3cc)](0xc8)['json'](_0x45f943);}),_0x57fe1b['TYPE']==='jwt'&&this[_0x22e1b0(0x397)]['put'](_0x22e1b0(0x4b9),async(_0x14fe1a,_0xf15ef1)=>{const _0x49ef9c=_0x22e1b0;let _0x20c2a8=await this[_0x49ef9c(0x671)]({'request':_0x14fe1a,'schema':ta,'ClassRef':ot,'execute':(_0x12ec10,_0x351415)=>ie[_0x49ef9c(0x36a)](_0x12ec10,_0x351415)});return _0xf15ef1[_0x49ef9c(0x3cc)](0xc9)[_0x49ef9c(0x5c8)](_0x20c2a8);});}},Va=require(a0_0x6619de(0x6e3)),cs=class{},z=class extends cs{},nt=class extends z{},ct=class extends z{},lt=class extends z{},Ne=class extends z{},ut=class extends z{},dt=class extends z{},pt=class extends z{},gt=class extends z{},mt=class extends z{},ht=class{},ft=class extends k{constructor(..._0x5343c3){const _0x8372c3=a0_0x6619de;super(),this['router']=(0x0,Va[_0x8372c3(0x67b)])(),this[_0x8372c3(0x397)]['post'](this[_0x8372c3(0x47c)](_0x8372c3(0x48a)),..._0x5343c3,async(_0x1f4639,_0xae1d68)=>{const _0x3961ed=_0x8372c3;let _0x3e5a87=await this[_0x3961ed(0x671)]({'request':_0x1f4639,'schema':sa,'ClassRef':nt,'execute':(_0x114604,_0x55d40e)=>K[_0x3961ed(0x48a)](_0x114604,_0x55d40e)});return _0xae1d68['status'](0xc9)[_0x3961ed(0x5c8)](_0x3e5a87);})[_0x8372c3(0x6e6)](this['routerPath'](_0x8372c3(0x546)),..._0x5343c3,async(_0x3af05b,_0xb94c8d)=>{const _0x33973f=_0x8372c3;let _0x413c3e=await this[_0x33973f(0x671)]({'request':_0x3af05b,'schema':ia,'ClassRef':Ne,'execute':(_0x4dc627,_0xffb141)=>K['sendMedia'](_0x4dc627,_0xffb141)});return _0xb94c8d[_0x33973f(0x3cc)](0xc9)['json'](_0x413c3e);})[_0x8372c3(0x6e6)](this['routerPath']('sendWhatsAppAudio'),..._0x5343c3,async(_0x23c523,_0x67fc54)=>{const _0x55ff21=_0x8372c3;let _0x931156=await this[_0x55ff21(0x671)]({'request':_0x23c523,'schema':na,'ClassRef':Ne,'execute':(_0xaee7f2,_0xfd211)=>K[_0x55ff21(0x3b3)](_0xaee7f2,_0xfd211)});return _0x67fc54[_0x55ff21(0x3cc)](0xc9)['json'](_0x931156);})[_0x8372c3(0x6e6)](this['routerPath'](_0x8372c3(0x290)),..._0x5343c3,async(_0x11df61,_0x3d1b87)=>{const _0x59e0d3=_0x8372c3;let _0x54db33=await this[_0x59e0d3(0x671)]({'request':_0x11df61,'schema':la,'ClassRef':dt,'execute':(_0x430887,_0x5e7e09)=>K[_0x59e0d3(0x290)](_0x430887,_0x5e7e09)});return _0x3d1b87['status'](0xc9)[_0x59e0d3(0x5c8)](_0x54db33);})[_0x8372c3(0x6e6)](this['routerPath'](_0x8372c3(0x708)),..._0x5343c3,async(_0x23b63,_0x100077)=>{const _0x309b06=_0x8372c3;let _0x13a140=await this[_0x309b06(0x671)]({'request':_0x23b63,'schema':ua,'ClassRef':pt,'execute':(_0x2f225f,_0x268ae9)=>K['sendLocation'](_0x2f225f,_0x268ae9)});return _0x100077[_0x309b06(0x3cc)](0xc9)['json'](_0x13a140);})[_0x8372c3(0x6e6)](this[_0x8372c3(0x47c)](_0x8372c3(0x697)),..._0x5343c3,async(_0x3d5b72,_0x767b)=>{const _0x30461d=_0x8372c3;let _0x50ac99=await this['dataValidate']({'request':_0x3d5b72,'schema':da,'ClassRef':gt,'execute':(_0x49b915,_0x1a9501)=>K['sendList'](_0x49b915,_0x1a9501)});return _0x767b[_0x30461d(0x3cc)](0xc9)['json'](_0x50ac99);})['post'](this[_0x8372c3(0x47c)]('sendContact'),..._0x5343c3,async(_0x57ea65,_0x1dab52)=>{const _0x239e50=_0x8372c3;let _0x59e7a7=await this[_0x239e50(0x671)]({'request':_0x57ea65,'schema':pa,'ClassRef':mt,'execute':(_0x5a0990,_0x5bbd1f)=>K['sendContact'](_0x5a0990,_0x5bbd1f)});return _0x1dab52[_0x239e50(0x3cc)](0xc9)[_0x239e50(0x5c8)](_0x59e7a7);})[_0x8372c3(0x6e6)](this[_0x8372c3(0x47c)]('sendReaction'),..._0x5343c3,async(_0x43cf36,_0x23f565)=>{const _0xb38654=_0x8372c3;let _0x29434b=await this['dataValidate']({'request':_0x43cf36,'schema':ga,'ClassRef':ht,'execute':(_0x4fc2fb,_0x151664)=>K['sendReaction'](_0x4fc2fb,_0x151664)});return _0x23f565['status'](0xc9)[_0xb38654(0x5c8)](_0x29434b);})['post'](this[_0x8372c3(0x47c)]('sendPoll'),..._0x5343c3,async(_0x127637,_0x16cd69)=>{const _0x471097=_0x8372c3;let _0x56fd28=await this[_0x471097(0x671)]({'request':_0x127637,'schema':ca,'ClassRef':lt,'execute':(_0x1e9912,_0xeb0728)=>K[_0x471097(0x1d2)](_0x1e9912,_0xeb0728)});return _0x16cd69[_0x471097(0x3cc)](0xc9)[_0x471097(0x5c8)](_0x56fd28);})[_0x8372c3(0x6e6)](this[_0x8372c3(0x47c)](_0x8372c3(0x464)),..._0x5343c3,async(_0x380d30,_0x510b03)=>{const _0x3fed37=_0x8372c3;let _0xbcf2b2=await this['dataValidate']({'request':_0x380d30,'schema':ra,'ClassRef':ct,'execute':(_0x5b6921,_0x134518)=>K[_0x3fed37(0x464)](_0x5b6921,_0x134518)});return _0x510b03['status'](0xc9)[_0x3fed37(0x5c8)](_0xbcf2b2);})[_0x8372c3(0x6e6)](this[_0x8372c3(0x47c)](_0x8372c3(0x3c3)),..._0x5343c3,async(_0x5644fd,_0x5b2f76)=>{const _0xf3caaf=_0x8372c3;let _0x4d4a4e=await this[_0xf3caaf(0x671)]({'request':_0x5644fd,'schema':oa,'ClassRef':ut,'execute':(_0x119dd8,_0x347d43)=>K['sendSticker'](_0x119dd8,_0x347d43)});return _0x5b2f76[_0xf3caaf(0x3cc)](0xc9)[_0xf3caaf(0x5c8)](_0x4d4a4e);});}},ja=require(a0_0x6619de(0x6e3)),wt=class extends k{constructor(..._0x5f370d){const _0x26c325=a0_0x6619de;super(),this[_0x26c325(0x397)]=(0x0,ja[_0x26c325(0x67b)])(),this['router']['get'](this[_0x26c325(0x47c)](_0x26c325(0x279)),..._0x5f370d,(_0x2dbcf4,_0x5b54d3)=>Fa[_0x26c325(0x279)](_0x2dbcf4,_0x5b54d3));}},Ba=require(a0_0x6619de(0x6e3)),yt=class{},bt=class extends k{constructor(..._0x350c4e){const _0x3787fe=a0_0x6619de;super(),this[_0x3787fe(0x397)]=(0x0,Ba[_0x3787fe(0x67b)])(),this[_0x3787fe(0x397)][_0x3787fe(0x6e6)](this[_0x3787fe(0x47c)]('set'),..._0x350c4e,async(_0x1be2f7,_0x286bd1)=>{const _0x39fb37=_0x3787fe;let _0x305cf1=await this[_0x39fb37(0x671)]({'request':_0x1be2f7,'schema':Pa,'ClassRef':yt,'execute':(_0x1cbf5c,_0x17a851)=>ls[_0x39fb37(0x6ad)](_0x1cbf5c,_0x17a851)});_0x286bd1[_0x39fb37(0x3cc)](0xc9)['json'](_0x305cf1);})[_0x3787fe(0x39d)](this[_0x3787fe(0x47c)](_0x3787fe(0x451)),..._0x350c4e,async(_0x27ccb9,_0x3bb424)=>{const _0x5684b9=_0x3787fe;let _0x554f42=await this[_0x5684b9(0x671)]({'request':_0x27ccb9,'schema':C,'ClassRef':b,'execute':_0x3466c5=>ls[_0x5684b9(0x6b9)](_0x3466c5)});_0x3bb424[_0x5684b9(0x3cc)](0xc8)[_0x5684b9(0x5c8)](_0x554f42);});}},qa=require(a0_0x6619de(0x6e3)),h=new N(a0_0x6619de(0x3fa)),St=class extends k{constructor(..._0x28a594){const _0x41fb2b=a0_0x6619de;super(),this[_0x41fb2b(0x397)]=(0x0,qa[_0x41fb2b(0x67b)])(),this[_0x41fb2b(0x397)][_0x41fb2b(0x6e6)](this['routerPath'](_0x41fb2b(0x199)),..._0x28a594,async(_0x4891e2,_0x491852)=>{const _0x31fe08=_0x41fb2b;let _0xb116b9=_0x4891e2[_0x31fe08(0x23e)];h[_0x31fe08(0x45d)](_0x31fe08(0x52d)),h[_0x31fe08(0x45d)](_0x31fe08(0x5d7)),h[_0x31fe08(0x45d)](_0x4891e2[_0x31fe08(0x23e)]);let _0x58be06=await this[_0x31fe08(0x671)]({'request':_0x4891e2,'schema':C,'ClassRef':b,'execute':_0x27b12f=>R[_0x31fe08(0x4ef)](_0x27b12f,_0xb116b9)});_0x491852[_0x31fe08(0x3cc)](0xc8)['json'](_0x58be06);})[_0x41fb2b(0x39d)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x199)),..._0x28a594,async(_0x3c365d,_0x46c047)=>{const _0x24c9e0=_0x41fb2b;let _0x481c9e=await this['dataValidate']({'request':_0x3c365d,'schema':C,'ClassRef':b,'execute':_0x33c8d5=>R[_0x24c9e0(0x3e2)](_0x33c8d5)});_0x46c047[_0x24c9e0(0x3cc)](0xc8)[_0x24c9e0(0x5c8)](_0x481c9e);})[_0x41fb2b(0x434)](this['routerPath'](_0x41fb2b(0x245)),..._0x28a594,async(_0x2278da,_0x201de4)=>{const _0x4ac5d9=_0x41fb2b;h['verbose']('request\x20received\x20in\x20deleteDoneMessages');let _0x29f699=await this[_0x4ac5d9(0x671)]({'request':_0x2278da,'schema':C,'ClassRef':b,'execute':_0x300339=>R['deleteDoneMessages'](_0x300339)});_0x201de4[_0x4ac5d9(0x3cc)](0xc8)['json'](_0x29f699);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x21b)),..._0x28a594,async(_0x53a2e5,_0x4f9b0e)=>{const _0x49c31d=_0x41fb2b;let _0x25e9cb=_0x53a2e5[_0x49c31d(0x23e)];h['verbose'](_0x49c31d(0x5a2)),h[_0x49c31d(0x45d)](_0x49c31d(0x5d7)),h[_0x49c31d(0x45d)](_0x53a2e5[_0x49c31d(0x23e)]);let _0x205aa6=await this['dataValidate']({'request':_0x53a2e5,'schema':C,'ClassRef':b,'execute':_0x57b38f=>R[_0x49c31d(0x21b)](_0x57b38f,_0x25e9cb)});_0x4f9b0e[_0x49c31d(0x3cc)](0xc8)[_0x49c31d(0x5c8)](_0x205aa6);})[_0x41fb2b(0x39d)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x432)),..._0x28a594,async(_0x58e3ed,_0x2352a2)=>{const _0x5dbb60=_0x41fb2b;h[_0x5dbb60(0x45d)](_0x5dbb60(0x642));let _0x2448ce=await this[_0x5dbb60(0x671)]({'request':_0x58e3ed,'schema':C,'ClassRef':b,'execute':_0x4351b2=>R[_0x5dbb60(0x432)](_0x4351b2)});_0x2352a2[_0x5dbb60(0x3cc)](0xc8)[_0x5dbb60(0x5c8)](_0x2448ce);})[_0x41fb2b(0x39d)](this[_0x41fb2b(0x47c)]('getTicketSystem'),..._0x28a594,async(_0x157918,_0x27e064)=>{const _0x2f7603=_0x41fb2b;h[_0x2f7603(0x45d)](_0x2f7603(0x1fe));let _0x286d35=await this['dataValidate']({'request':_0x157918,'schema':C,'ClassRef':b,'execute':_0xdc0895=>R[_0x2f7603(0x432)](_0xdc0895)});_0x27e064[_0x2f7603(0x3cc)](0xc8)[_0x2f7603(0x5c8)](_0x286d35);})[_0x41fb2b(0x6e6)](this['routerPath'](_0x41fb2b(0x32c)),..._0x28a594,async(_0x13163f,_0x3af758)=>{const _0x45b00b=_0x41fb2b;let _0x19619a=_0x13163f[_0x45b00b(0x23e)];h[_0x45b00b(0x45d)](_0x45b00b(0x2f3)),h[_0x45b00b(0x45d)](_0x45b00b(0x5d7)),h['verbose'](_0x13163f[_0x45b00b(0x23e)]);let _0x9b8860=await this[_0x45b00b(0x671)]({'request':_0x13163f,'schema':C,'ClassRef':b,'execute':_0x1f5bd7=>R[_0x45b00b(0x32c)](_0x1f5bd7,_0x19619a)});_0x3af758[_0x45b00b(0x3cc)](0xc8)[_0x45b00b(0x5c8)](_0x9b8860);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)]('updateCustomFields'),..._0x28a594,async(_0xd5c443,_0xa281e)=>{const _0x73c5cf=_0x41fb2b;let _0x18ed08=_0xd5c443['body'];h[_0x73c5cf(0x45d)]('request\x20received\x20in\x20updateCustomFields'),h['verbose']('request\x20body:\x20'),h[_0x73c5cf(0x45d)](_0xd5c443[_0x73c5cf(0x23e)]);let _0x1f9481=await this[_0x73c5cf(0x671)]({'request':_0xd5c443,'schema':C,'ClassRef':b,'execute':_0x46a054=>R[_0x73c5cf(0x232)](_0x46a054,_0x18ed08)});_0xa281e['status'](0xc8)['json'](_0x1f9481);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x271)),..._0x28a594,async(_0x63ce9b,_0xd0638b)=>{const _0xe445b6=_0x41fb2b;let _0x1e2502=_0x63ce9b[_0xe445b6(0x23e)];h['verbose'](_0xe445b6(0x3aa)),h[_0xe445b6(0x45d)](_0xe445b6(0x5d7)),h[_0xe445b6(0x45d)](_0x63ce9b[_0xe445b6(0x23e)]);let _0x4cf46c=await this[_0xe445b6(0x671)]({'request':_0x63ce9b,'schema':C,'ClassRef':b,'execute':_0x2b2f5e=>R['updateFlowConfig'](_0x2b2f5e,_0x1e2502)});_0xd0638b['status'](0xc8)[_0xe445b6(0x5c8)](_0x4cf46c);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x35f)),..._0x28a594,async(_0x1ed9f3,_0x46af9d)=>{const _0x70ed43=_0x41fb2b;let _0x51953b=_0x1ed9f3['body'];h[_0x70ed43(0x45d)]('request\x20received\x20in\x20getConversation'),h[_0x70ed43(0x45d)](_0x70ed43(0x5d7)),h[_0x70ed43(0x45d)](_0x1ed9f3[_0x70ed43(0x23e)]);let _0x3006c8=await this[_0x70ed43(0x671)]({'request':_0x1ed9f3,'schema':C,'ClassRef':b,'execute':_0x12311c=>R[_0x70ed43(0x35f)](_0x12311c,_0x51953b)});_0x46af9d['status'](0xc8)[_0x70ed43(0x5c8)](_0x3006c8);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x4e3)),..._0x28a594,async(_0x14a016,_0x2bef5e)=>{const _0x4adde4=_0x41fb2b;let _0x5e01b5=_0x14a016['body'];h[_0x4adde4(0x45d)](_0x4adde4(0x34f)),h[_0x4adde4(0x45d)](_0x4adde4(0x5d7)),h[_0x4adde4(0x45d)](_0x14a016['body']);let _0x36eb32=await this['dataValidate']({'request':_0x14a016,'schema':C,'ClassRef':b,'execute':_0x1bd4ff=>R[_0x4adde4(0x4e3)](_0x1bd4ff,_0x5e01b5)});_0x2bef5e[_0x4adde4(0x3cc)](0xc8)[_0x4adde4(0x5c8)](_0x36eb32);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)]('editConversation'),..._0x28a594,async(_0xedb511,_0xd2a631)=>{const _0x39e8ac=_0x41fb2b;let _0x4eadad=_0xedb511[_0x39e8ac(0x23e)];h[_0x39e8ac(0x45d)](_0x39e8ac(0x3d5)),h[_0x39e8ac(0x45d)](_0x39e8ac(0x5d7)),h[_0x39e8ac(0x45d)](_0xedb511[_0x39e8ac(0x23e)]);let _0x203905=await this[_0x39e8ac(0x671)]({'request':_0xedb511,'schema':C,'ClassRef':b,'execute':_0x266765=>R[_0x39e8ac(0x1e1)](_0x266765,_0x4eadad)});_0xd2a631['status'](0xc8)[_0x39e8ac(0x5c8)](_0x203905);})[_0x41fb2b(0x434)](this['routerPath'](_0x41fb2b(0x51a)),..._0x28a594,async(_0x1f8a66,_0x7a403f)=>{const _0x437a48=_0x41fb2b;let _0x5f2e06=_0x1f8a66[_0x437a48(0x23e)];h['verbose']('request\x20received\x20in\x20deleteConversation'),h[_0x437a48(0x45d)](_0x437a48(0x5d7)),h[_0x437a48(0x45d)](_0x1f8a66['body']);let _0x23caa7=await this['dataValidate']({'request':_0x1f8a66,'schema':C,'ClassRef':b,'execute':_0x116f22=>R[_0x437a48(0x51a)](_0x116f22,_0x5f2e06)});_0x7a403f['status'](0xc8)[_0x437a48(0x5c8)](_0x23caa7);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x567)),..._0x28a594,async(_0x1a26ab,_0x10db04)=>{const _0x4f3ac4=_0x41fb2b;let _0x4c90e5=_0x1a26ab['body'];h['verbose'](_0x4f3ac4(0x56e)),h[_0x4f3ac4(0x45d)](_0x4f3ac4(0x5d7)),h[_0x4f3ac4(0x45d)](_0x1a26ab[_0x4f3ac4(0x23e)]);let _0x4e4cd7=await this[_0x4f3ac4(0x671)]({'request':_0x1a26ab,'schema':C,'ClassRef':b,'execute':_0x84cc=>R[_0x4f3ac4(0x19a)](_0x84cc,_0x4c90e5)});_0x10db04[_0x4f3ac4(0x3cc)](0xc8)['json'](_0x4e4cd7);})['post'](this[_0x41fb2b(0x47c)](_0x41fb2b(0x424)),..._0x28a594,async(_0x4ea6f7,_0x2dbe3b)=>{const _0x28a3c6=_0x41fb2b;let _0x240976=_0x4ea6f7[_0x28a3c6(0x23e)];h['verbose']('request\x20received\x20in\x20editFlow'),h['verbose'](_0x28a3c6(0x5d7)),h['verbose'](_0x4ea6f7[_0x28a3c6(0x23e)]),delete _0x240976['blocks'],delete _0x240976[_0x28a3c6(0x194)],delete _0x240976[_0x28a3c6(0x272)],delete _0x240976[_0x28a3c6(0x2bf)];let _0x8b1b5b=await this[_0x28a3c6(0x671)]({'request':_0x4ea6f7,'schema':C,'ClassRef':b,'execute':_0x29332f=>R['editFlow'](_0x29332f,_0x240976)});_0x2dbe3b[_0x28a3c6(0x3cc)](0xc8)[_0x28a3c6(0x5c8)](_0x8b1b5b);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x477)),..._0x28a594,async(_0xa3244b,_0x1889ed)=>{const _0x518c3a=_0x41fb2b;let _0x39e737=_0xa3244b[_0x518c3a(0x23e)];h[_0x518c3a(0x45d)]('request\x20received\x20in\x20editFlow'),h['verbose'](_0x518c3a(0x5d7)),h[_0x518c3a(0x45d)](_0xa3244b['body']);let _0x135a80=await this[_0x518c3a(0x671)]({'request':_0xa3244b,'schema':C,'ClassRef':b,'execute':_0x110d52=>R['editFlowBlock'](_0x110d52,_0x39e737)});_0x1889ed[_0x518c3a(0x3cc)](0xc8)[_0x518c3a(0x5c8)](_0x135a80);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x20d)),..._0x28a594,async(_0x29d590,_0x3ecfc1)=>{const _0xf1fccd=_0x41fb2b;let _0x34fd65=_0x29d590[_0xf1fccd(0x23e)];h[_0xf1fccd(0x45d)](_0xf1fccd(0x597)),h[_0xf1fccd(0x45d)]('request\x20body:\x20'),h[_0xf1fccd(0x45d)](_0x29d590['body']);let _0x527338=await this['dataValidate']({'request':_0x29d590,'schema':C,'ClassRef':b,'execute':_0x43db0b=>R[_0xf1fccd(0x281)](_0x43db0b,_0x34fd65)});_0x3ecfc1[_0xf1fccd(0x3cc)](0xc8)[_0xf1fccd(0x5c8)](_0x527338);})['post'](this['routerPath'](_0x41fb2b(0x318)),..._0x28a594,async(_0x24471a,_0x5185da)=>{const _0x46c2a3=_0x41fb2b;let _0x5503eb=_0x24471a[_0x46c2a3(0x23e)];h[_0x46c2a3(0x45d)]('request\x20received\x20in\x20editFlow'),h[_0x46c2a3(0x45d)](_0x46c2a3(0x5d7)),h[_0x46c2a3(0x45d)](_0x24471a[_0x46c2a3(0x23e)]);let _0xe97dec=await this[_0x46c2a3(0x671)]({'request':_0x24471a,'schema':C,'ClassRef':b,'execute':_0x1e3822=>R[_0x46c2a3(0x521)](_0x1e3822,_0x5503eb)});_0x5185da[_0x46c2a3(0x3cc)](0xc8)['json'](_0xe97dec);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x191)),..._0x28a594,async(_0x52d430,_0x16bb57)=>{const _0x4bc101=_0x41fb2b;let _0x4fce4e=_0x52d430[_0x4bc101(0x23e)];h[_0x4bc101(0x45d)]('request\x20received\x20in\x20editFlowgroup'),h[_0x4bc101(0x45d)](_0x4bc101(0x5d7)),h['verbose'](_0x52d430['body']);let _0x4427c7=await this[_0x4bc101(0x671)]({'request':_0x52d430,'schema':C,'ClassRef':b,'execute':_0x2ac1c8=>R['editFlowGroup'](_0x2ac1c8,_0x4fce4e)});_0x16bb57[_0x4bc101(0x3cc)](0xc8)[_0x4bc101(0x5c8)](_0x4427c7);})[_0x41fb2b(0x6e6)](this['routerPath'](_0x41fb2b(0x481)),..._0x28a594,async(_0x4b0214,_0x5e3d94)=>{const _0x4c8927=_0x41fb2b;let _0x285ced=_0x4b0214[_0x4c8927(0x23e)];h[_0x4c8927(0x45d)](_0x4c8927(0x5f3)),h[_0x4c8927(0x45d)](_0x4c8927(0x5d7)),h['verbose'](_0x4b0214[_0x4c8927(0x23e)]);let _0x3a8501=await this['dataValidate']({'request':_0x4b0214,'schema':C,'ClassRef':b,'execute':_0x29602c=>R['editFlowCondition'](_0x29602c,_0x285ced)});_0x5e3d94[_0x4c8927(0x3cc)](0xc8)[_0x4c8927(0x5c8)](_0x3a8501);})['post'](this[_0x41fb2b(0x47c)](_0x41fb2b(0x554)),..._0x28a594,async(_0x13296e,_0x8b34e8)=>{const _0x3ae153=_0x41fb2b;let _0x45e2aa=_0x13296e[_0x3ae153(0x23e)];h[_0x3ae153(0x45d)](_0x3ae153(0x2cd)),h[_0x3ae153(0x45d)](_0x3ae153(0x5d7)),h[_0x3ae153(0x45d)](_0x13296e[_0x3ae153(0x23e)]);let _0x4d3e16=await this['dataValidate']({'request':_0x13296e,'schema':C,'ClassRef':b,'execute':_0x299335=>R[_0x3ae153(0x4bd)](_0x299335,_0x45e2aa)});_0x8b34e8[_0x3ae153(0x3cc)](0xc8)[_0x3ae153(0x5c8)](_0x4d3e16);})[_0x41fb2b(0x6e6)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x598)),..._0x28a594,async(_0x150d80,_0x252560)=>{const _0x5ce5e5=_0x41fb2b;let _0x74122c=_0x150d80[_0x5ce5e5(0x23e)];h[_0x5ce5e5(0x45d)](_0x5ce5e5(0x537)),h[_0x5ce5e5(0x45d)]('request\x20body:\x20'),h[_0x5ce5e5(0x45d)](_0x150d80[_0x5ce5e5(0x23e)]);let _0x49ff70=await this[_0x5ce5e5(0x671)]({'request':_0x150d80,'schema':C,'ClassRef':b,'execute':_0xe4d57b=>R[_0x5ce5e5(0x6cd)](_0xe4d57b,_0x74122c)});_0x252560['status'](0xc8)[_0x5ce5e5(0x5c8)](_0x49ff70);})['delete'](this[_0x41fb2b(0x47c)]('deleteflow'),..._0x28a594,async(_0x3586d5,_0x741cc)=>{const _0x21a385=_0x41fb2b;let _0x247bdc=_0x3586d5[_0x21a385(0x23e)];h[_0x21a385(0x45d)](_0x21a385(0x56e)),h[_0x21a385(0x45d)](_0x21a385(0x5d7)),h[_0x21a385(0x45d)](_0x3586d5[_0x21a385(0x23e)]);let _0xf1815f=await this[_0x21a385(0x671)]({'request':_0x3586d5,'schema':C,'ClassRef':b,'execute':_0x28877f=>R[_0x21a385(0x624)](_0x28877f,_0x247bdc)});_0x741cc['status'](0xc8)[_0x21a385(0x5c8)](_0xf1815f);})[_0x41fb2b(0x39d)](this[_0x41fb2b(0x47c)](_0x41fb2b(0x5d8)),..._0x28a594,async(_0x1f3d82,_0x31b63d)=>{const _0xec5e10=_0x41fb2b;h[_0xec5e10(0x45d)](_0xec5e10(0x416));let _0x43a3fa=await this[_0xec5e10(0x671)]({'request':_0x1f3d82,'schema':C,'ClassRef':b,'execute':_0x17ed30=>R[_0xec5e10(0x28b)](_0x17ed30)});_0x31b63d['status'](0xc8)['json'](_0x43a3fa);});}},Ha=T(require(a0_0x6619de(0x208))),ee={};function Ga(_0x5d4e5f,_0x269375,_0x85bce0,_0x1d904c){ee[_0x5d4e5f]||(ee[_0x5d4e5f]={}),ee[_0x5d4e5f][_0x269375]={'id':_0x269375,'response':_0x85bce0,'events':_0x1d904c};}function Ja(_0x5cafde,_0x4b0e1e){!ee[_0x5cafde]||!ee[_0x5cafde][_0x4b0e1e]||delete ee[_0x5cafde][_0x4b0e1e];}function q(_0x3cfadf,_0x41fbdc,_0x21b0ed){const _0x3f0a88=a0_0x6619de;if(!ee[_0x3cfadf])return;let _0x15e455=_0x3f0a88(0x1a3)+JSON[_0x3f0a88(0x24c)](_0x21b0ed)+'\x0a\x0a';Object[_0x3f0a88(0x750)](ee[_0x3cfadf])[_0x3f0a88(0x2e4)](_0x4b0650=>{const _0x176d67=_0x3f0a88;_0x4b0650['events'][_0x176d67(0x569)](_0x41fbdc)&&_0x4b0650[_0x176d67(0x2bd)][_0x176d67(0x188)](_0x15e455);});}function Wa(){const _0x1b704c=a0_0x6619de;let _0xb9f859={};for(let _0x5ae738 in ee)_0xb9f859[_0x5ae738]=Object[_0x1b704c(0x750)](ee[_0x5ae738])[_0x1b704c(0x3e9)](_0x4f12ec=>({'id':_0x4f12ec['id'],'events':_0x4f12ec[_0x1b704c(0x6b0)]}));return _0xb9f859;}var Ka=require('uuid'),qo=Ha[a0_0x6619de(0x411)][a0_0x6619de(0x262)](__dirname,a0_0x6619de(0x25e)),vt=(0x0,Et[a0_0x6619de(0x67b)])(),Go=S[a0_0x6619de(0x39d)](a0_0x6619de(0x6db))['TYPE'],ue=[rs,Ys,ea[Go]];vt['use'](a0_0x6619de(0x394),Et[a0_0x6619de(0x411)][a0_0x6619de(0x3d8)](qo))['get'](a0_0x6619de(0x4ba),async(_0x36c9e3,_0x139d22)=>{const _0x3d222c=a0_0x6619de;console[_0x3d222c(0x49a)]('bateu\x20events');let _0x6c3c04=_0x36c9e3['params'][_0x3d222c(0x3f3)],_0x3abd58=(_0x36c9e3[_0x3d222c(0x575)][_0x3d222c(0x6b0)]||'')[_0x3d222c(0x635)](','),_0x57020e=(0x0,Ka['v4'])();console[_0x3d222c(0x49a)](_0x3d222c(0x6e1),_0x6c3c04),console[_0x3d222c(0x49a)]('Subscribed\x20Events:',_0x3abd58);let _0x42b02d=S['get'](_0x3d222c(0x6db))['API_KEY'],_0x1c7062=_0x36c9e3[_0x3d222c(0x575)][_0x3d222c(0x4ea)];if(console[_0x3d222c(0x49a)](_0x3d222c(0x238),_0x1c7062),_0x42b02d[_0x3d222c(0x391)]!==_0x1c7062){console[_0x3d222c(0x49a)](_0x3d222c(0x70f));try{let _0xffd9ed=await le[_0x3d222c(0x282)]['find'](_0x6c3c04);if(console[_0x3d222c(0x49a)](_0x3d222c(0x4c1),_0xffd9ed),!_0xffd9ed||_0xffd9ed['apikey']!==_0x1c7062)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x139d22[_0x3d222c(0x3cc)](0x191)['send'](_0x3d222c(0x2de));}catch(_0x1e247d){return console[_0x3d222c(0x6b1)](_0x3d222c(0x471),_0x1e247d),_0x139d22[_0x3d222c(0x3cc)](0x191)[_0x3d222c(0x548)](_0x3d222c(0x342));}}if(!await qe(_0x6c3c04))return _0x139d22[_0x3d222c(0x3cc)](0x194)[_0x3d222c(0x548)](_0x3d222c(0x6a9));_0x139d22[_0x3d222c(0x468)](_0x3d222c(0x617),'text/event-stream'),_0x139d22[_0x3d222c(0x468)](_0x3d222c(0x55d),'no-cache'),_0x139d22['setHeader'](_0x3d222c(0x6de),_0x3d222c(0x203)),_0x139d22[_0x3d222c(0x5cb)]();let _0x525aae=_0x3d222c(0x1a3)+JSON[_0x3d222c(0x24c)]({'info':_0x3d222c(0x5b6)})+'\x0a\x0a';_0x139d22[_0x3d222c(0x188)](_0x525aae),Ga(_0x6c3c04,_0x57020e,_0x139d22,_0x3abd58),_0x36c9e3['on']('close',()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x6c3c04),Ja(_0x6c3c04,_0x57020e);});}),vt['get'](a0_0x6619de(0x4b7),(_0x156f76,_0x25a220)=>{const _0x29614b=a0_0x6619de;let _0x38264f=Wa();_0x25a220[_0x29614b(0x5c8)](_0x38264f);})[a0_0x6619de(0x39d)]('/',(_0x1e5fcd,_0x1ea7c7)=>{const _0x588bbe=a0_0x6619de;let _0x3f0b68=S[_0x588bbe(0x39d)](_0x588bbe(0x609)),_0x433caf=_0x3f0b68&&_0x3f0b68[_0x588bbe(0x62d)][_0x588bbe(0x635)]('/')[0x4];if(_0x433caf){let _0x1f5141=encodeURIComponent(_0x588bbe(0x3f6)+_0x433caf);_0x1ea7c7[_0x588bbe(0x36f)](_0x588bbe(0x377)+_0x1f5141);}else _0x1ea7c7[_0x588bbe(0x36f)](_0x588bbe(0x6d2));})['put']('/exit',...ue,async(_0x112802,_0x3b01b2)=>{const _0x5bdc2b=a0_0x6619de;try{console[_0x5bdc2b(0x49a)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x3b01b2[_0x5bdc2b(0x3cc)](0xc8)['json']({'message':_0x5bdc2b(0x273)}),_0x3b01b2['on']('finish',()=>process[_0x5bdc2b(0x53e)](0x0));}catch(_0x10850e){console[_0x5bdc2b(0x6b1)](_0x5bdc2b(0x17e),_0x10850e),_0x3b01b2['status'](0x1f4)[_0x5bdc2b(0x5c8)]({'message':_0x5bdc2b(0x57b)});}})['use'](a0_0x6619de(0x36c),new it(S,...ue)['router'],new wt(rs)['router'])['use'](a0_0x6619de(0x589),new ft(...ue)[a0_0x6619de(0x397)])[a0_0x6619de(0x695)](a0_0x6619de(0x20c),new Ke(...ue)[a0_0x6619de(0x397)])[a0_0x6619de(0x695)](a0_0x6619de(0x607),new at(...ue)[a0_0x6619de(0x397)])[a0_0x6619de(0x695)](a0_0x6619de(0x21d),new bt(...ue)[a0_0x6619de(0x397)])[a0_0x6619de(0x695)](a0_0x6619de(0x195),new St(...ue)[a0_0x6619de(0x397)]);var g=class{constructor(..._0x278a25){const _0x41d9b7=a0_0x6619de;throw{'status':0x190,'error':_0x41d9b7(0x618),'message':_0x278a25[_0x41d9b7(0x41d)]>0x0?_0x278a25:void 0x0};}},re=class{constructor(..._0x2a776b){const _0x4af366=a0_0x6619de;throw{'status':0x191,'error':_0x4af366(0x724),'message':_0x2a776b[_0x4af366(0x41d)]>0x0?_0x2a776b:void 0x0};}},oe=class{constructor(..._0x48fbf2){const _0x120a5b=a0_0x6619de;throw{'status':0x193,'error':_0x120a5b(0x696),'message':_0x48fbf2[_0x120a5b(0x41d)]>0x0?_0x48fbf2:void 0x0};}},x=class{constructor(..._0x145d4e){const _0x9d353a=a0_0x6619de;throw{'status':0x194,'error':_0x9d353a(0x3b1),'message':_0x145d4e[_0x9d353a(0x41d)]>0x0?_0x145d4e:void 0x0};}},A=class{constructor(..._0x4d51c9){const _0x33aa6f=a0_0x6619de;throw{'status':0x1f4,'error':_0x33aa6f(0x289),'message':_0x4d51c9['length']>0x0?_0x4d51c9:void 0x0};}},de=require(a0_0x6619de(0x540));async function us(_0x205f0b){const _0x6938a2=a0_0x6619de;let _0xf43dac=new N(us['name']),_0x2acf98=M[_0x6938a2(0x31a)](),_0x4ace08=_0x2acf98['db'](S['get'](_0x6938a2(0x647))[_0x6938a2(0x1a2)][_0x6938a2(0x731)]+_0x6938a2(0x4ae))[_0x6938a2(0x4a9)](_0x205f0b),_0x8aa40c=async(_0x47680a,_0x5d5934)=>{const _0x389a43=_0x6938a2;try{return await _0x2acf98[_0x389a43(0x295)](),await _0x4ace08[_0x389a43(0x595)]({'_id':_0x5d5934},JSON[_0x389a43(0x614)](JSON[_0x389a43(0x24c)](_0x47680a,de[_0x389a43(0x50f)][_0x389a43(0x583)])),{'upsert':!0x0});}catch{}},_0x3b40e4=async _0x22e056=>{const _0x1d0045=_0x6938a2;try{await _0x2acf98[_0x1d0045(0x295)]();let _0x471484=await _0x4ace08[_0x1d0045(0x47a)]({'_id':_0x22e056}),_0x153ade=JSON[_0x1d0045(0x24c)](_0x471484);return JSON[_0x1d0045(0x614)](_0x153ade,de[_0x1d0045(0x50f)][_0x1d0045(0x677)]);}catch{}},_0x2d1480=async _0x534d28=>{const _0x5cef0c=_0x6938a2;try{return await _0x2acf98[_0x5cef0c(0x295)](),await _0x4ace08[_0x5cef0c(0x2a1)]({'_id':_0x534d28});}catch{}},_0x221e85=await _0x3b40e4('creds')||(0x0,de[_0x6938a2(0x54f)])();return{'state':{'creds':_0x221e85,'keys':{'get':async(_0x57c233,_0x51bb31)=>{const _0x26dbd8=_0x6938a2;let _0x2794d2={};return await Promise[_0x26dbd8(0x703)](_0x51bb31['map'](async _0x59bc9a=>{const _0x1f62f9=_0x26dbd8;let _0x1a68bb=await _0x3b40e4(_0x57c233+'-'+_0x59bc9a);_0x57c233===_0x1f62f9(0x3ef)&&_0x1a68bb&&(_0x1a68bb=de[_0x1f62f9(0x51c)][_0x1f62f9(0x186)][_0x1f62f9(0x56a)][_0x1f62f9(0x3c9)](_0x1a68bb)),_0x2794d2[_0x59bc9a]=_0x1a68bb;})),_0x2794d2;},'set':async _0x2e9e4=>{const _0x351f0c=_0x6938a2;let _0x5f122c=[];for(let _0x112452 in _0x2e9e4)for(let _0x4b0dce in _0x2e9e4[_0x112452]){let _0x54907d=_0x2e9e4[_0x112452][_0x4b0dce],_0x5461fe=_0x112452+'-'+_0x4b0dce;_0x5f122c[_0x351f0c(0x44c)](_0x54907d?_0x8aa40c(_0x54907d,_0x5461fe):_0x2d1480(_0x5461fe));}await Promise[_0x351f0c(0x703)](_0x5f122c);}}},'saveCreds':async()=>_0x8aa40c(_0x221e85,'creds')};}var ps=T(require('long')),gs=T(require(a0_0x6619de(0x6f1))),Tt=require(a0_0x6619de(0x540)),za=require(a0_0x6619de(0x733)),Nt=require(a0_0x6619de(0x540)),Ct;function Jo(_0x17926d){const _0x5815f3=a0_0x6619de;return Ct||(Ct=(0x0,za[_0x5815f3(0x727)])({'url':_0x17926d[_0x5815f3(0x310)]}),Ct['connect']()),Ct;}function a0_0x36f7(){const _0x28f175=['Error\x20updating\x20participants','client','Type\x20defined\x20as\x20audio','variablesNotFound','logger','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','185026KHNpLq','5zEOcoz','flowPrefixCommand','del','utf8','updateGParticipant','editedMessage','responsavelid','../env.yml','Error\x20change\x20group\x20description','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Conexão\x20estabelecida','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Error\x20change\x20group\x20name','axios','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','^\x5cd+','pollCreationMessageV3','CHATS_DELETE','modifiedCount','buffer','createInstance','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','getDevice','name','fetchProfile','.uazapi.dev','js-yaml','json','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','isURL','flushHeaders','DATABASE_ENABLED','Error\x20creating\x20group','updateMediaMessage','):\x20Enviando\x20mídia','updateProfilePicturePrivacy','\x20minutos','setRestartTimer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','fetchInstances','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','.mp3','request\x20body:\x20','allflows','CHATS_UPDATE','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','./.git/config','):\x20Criou\x20conversa\x20no\x20startFlow:','participant','PRODUCTION','instanceInfo','messageId','TRIAL_INSTANCE_NAME','context','CREDENTIALS','processblock','flow','\x20horas\x20e\x20','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','entries','DATABASE_CONNECTION_PASSWORD','processUazapi','unlinkSync','OrAnd','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','updateBlock','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Revoke\x20error','keys','Font\x20is\x20required','request\x20received\x20in\x20editFlowcondition','video','getBusinessProfile','VERBOSE','Erro\x20de\x20reinicialização:\x20','):\x20tem\x20blocks','):\x20Going\x20to\x20','deleteReplyOption','inviteCode','stopped','repeat','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','CORS','getDelay','online','/wa-chats','DD/MM\x20HH:mm:ss','/wa-message-update','deleteMessageForEveryone','StartBot','/group','isJWT','SSL_CONF','namespace','writeStore','notify','READ','@broadcast','http','mediaSticker','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','exec','replace','parse','out','updateMany','Content-Type','Bad\x20Request','condition','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','SERVER_ACK','created','viewOnceMessageV2','rm\x20-rf\x20','oldValue','conversationTimestamp','Error\x20writing\x20file:\x20','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','CORS_CREDENTIALS','deleteFlow','syscall','charAt','contentText','https://api.ipify.org?format=json','goToFlow','):\x20Ler\x20mensagem','statusJidList','load','FULLCHAIN','chatModify','getChatModelForOwner','instanceKeys','editFlowCondition','oldToken','writeData','546vYgHLc','split','HeaderType','random','env.yml','code','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','pollMessage','firstValue','hSet','timerId','/wa-contacts','Erro\x20ao\x20editar\x20a\x20conversa:\x20','scheduleNextCheck','request\x20received\x20in\x20getAutomateSystem','Error\x20updating\x20privacy\x20settings','where','Error\x20in\x20scheduleNextCheck:\x20','authentication','DATABASE','key','/create','mentions','):\x20Procurando\x20mensagens\x20para\x20envio','Invalid\x20format','fileName','output','truncatedtoEnd','view\x20engine','allContacts','URL:','):\x20Conversa\x20está\x20expirada','Instância:\x20','textMessage','order','restart','updateProfilePicture','bearer','customFields','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','save','Erro\x20ao\x20editar\x20o\x20chat:\x20','findContacts','pollOnReplyDelete','):\x20Conversa\x20atualizada\x20em\x20memória','hostname','\x1b[32m','Error\x20updating\x20setting','LICENSE_INVALID','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','verify','none','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','createServer','uazapiSendLocation','collections','\x22\x20not\x20found','goNextblock','):\x20Comando\x20desconhecido:\x20',',\x20resultado:\x20','getHours','dataValidate','Not\x20allowed\x20by\x20CORS','toBrazilianNumberFormat','Image\x20is\x20url','command','process','reviver','845tZaLbm','equal','WEBHOOK_EVENTS_CHATS_SET','Router','sendPresenceUpdate','\x1b[34m%s\x1b[0m','getStatus','storePath','true','flowConfig','DELIVERY_ACK','getOwnPropertyNames','/instance/create','sort','loggedOut','updateReplyOption','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20','vcard','footerText','leaveGroup','CORS_ORIGIN',',\x20Comparador:\x20','endsWith','Type\x20is\x20required','header','QRCODE_LIMIT','Schema','use','Forbidden','sendList','express-async-errors','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','):\x20teve\x20mudanças\x20chat.displayName:\x20','findParticipants','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','convertaudio','delAll','insertMany','phoneNumber','displayName','selectableCount','urlOrBase64','recording','certbot','waMonitor','presenceSubscribe','waMonit','Instância\x20não\x20encontrada.','PORT','WEBHOOK_EVENTS_GROUPS_UPSERT','WARN','createWebhook','JWT','DEBUG','events','error','group','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','\x1b[31m%s\x1b[0m','promote','\x20\x1b[0m','Trying\x20to\x20get\x20business\x20profile','nomecompleto','findWebhook','isBase64','.sendDataWebhook-global','unavailable','/wa-qrcode','utf-8','call','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','jid','description','sections','DELETED','groupFetchAllParticipating','variablesToObject','Error\x20updating\x20profile\x20status','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','replyOptions','isJidUser','contact_blacklist','instanceName\x20not\x20provided.','getFlow','contacts','eventEmitter','Erro:','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','https://uazapi-plugin.bubbleapps.io/','eventemitter2','deleteAll','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','prototype','groups_ignore','hDel','leadInfo','.refreshToken','AUTHENTICATION','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','presence','Connection','WEBHOOK_EVENTS_CHATS_UPSERT','fetchLatestBaileysVersion','Instance\x20ID:','preview','express','findAndReplace','createJid','post','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','filter','sendContact','archived','):\x20teve\x20mudanças\x20chat.archived:\x20','ButtonsMessage','listen','localWebhook','matchRegex','connectionUpdate','node-cache','Error\x20updating\x20profile\x20name','EVENTS','WEBHOOK','WEBHOOK_EVENTS_CONTACTS_SET','tags','sendReaction','chatHandle','readMessageBot','):\x20lastBlockId:\x20','match','\x20não\x20encontrado','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','PLAYED','headers','floor','set','existsSync','all','badSession','Converted\x20image\x20deleted','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','sendLocation','instancias:\x20','CHATS_SET','public','SERVER_TYPE','open','toggleEphemeral','env.KEY\x20!==\x20key','stickerMessage','fileLength','authService','STORE_CLEANING_TERMINAL','<subdomain>','REDIS_URI','\x1b[31m','removeProfilePicture','findOneAndUpdate','Audio\x20is\x20url','removeInstance','pollCreationMessageKey','toNumber','Primeiro\x20Valor:\x20','findAndReplaceRegex','Deletion\x20failed','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','views','pollCreationMessageV2','Read\x20messages','Unauthorized','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','-whatsapp-api','createClient','NO_IP','newStoppedUntil','documentMessage','delaySecMax','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','isInteger','getTime','uazapiSendText','sendMessageWithTyping','DB_PREFIX_NAME','AutomateSystem','@redis/client','from','notMatchRegex','title','TRIAL_AD','count','QRCODE_UPDATED','Authentication\x20error','messageSecret','array','):\x20Flow\x20desativado','messaging-history.set','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','getMinutes','deletedCount','scheduleSendAudio','contactname','Validate','chrome','72bxLOCL','saveVariable','):\x20atualização\x20chat:\x20','font','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','Sending\x20audio\x20whatsapp','close','and','8TmoAvB','/wa-presence','values','url','toLowerCase','replaceVariables','AUTHENTICATION_JWT_SECRET','pino','32977jhPwPN','node-mime-types','messageHandle','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','startsWith','):\x20Não\x20achou\x20nenhum\x20flow','cpf','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','groupMetadata','Parando\x20aplicação...','sending','Message','WEBHOOK_EVENTS_CHATS_UPDATE','write','reorderBlocks','insert','fetchContacts','local_map','stoppedUntil','STATUS_INSTANCE','paused','CLEANING_INTERVAL','editflowgroup','uazapiSendAudio','ReplyOption\x20com\x20ID\x20','variables','/automate','):\x20Edit\x20schedule\x20message...','ERROR:\x20','delay','scheduleMessage','createFlow','):\x20Editando\x20condição\x20do\x20fluxo...','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','updateProfileName','Types','class-validator','PRESENCE_UPDATE','CONNECTION','data:\x20','CONTACTS_SET','editChat','opendirSync','WEBHOOK_EVENTS_CHATS_DELETE','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','processPollUpdateMessage','.sendDataWebhook-local','arrayUnique','END:VCARD','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','dbClient','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','dbServer','\x22reaction\x22\x20must\x20be\x20an\x20emoji','unreadCount','dark','Instance\x20\x22','has','jwt','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','sticker','@g.us','REDIS_ENABLED','instance.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','latitude','endSession','\x1b[46m','g-t','delayMessage','connection.update','Erro\x20ao\x20buscar\x20conversas:\x20','creds.json','hbs','--standalone','action','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','ON\x20-\x20dbName:\x20','message','readData','SSL_CONF_FULLCHAIN','selectedOptions','toString','WEBHOOK_GLOBAL_URL','\x5cd+','sendPoll','mediaKey','@ffmpeg-installer/ffmpeg','profilePictureUrl','groupHandler','done','WEBHOOK_GLOBAL_ENABLED','max','Processing\x20audio','create','mkdirSync','last','lastCondition','sendMessage','hex','editConversation','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','fromMe','redis','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','whatsappNumbers','readreceipts','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','isBooleanString','shift','gifPlayback','next_groupId','Message\x20not\x20found','reaction','\x1b[30m','WEBHOOK_EVENTS_CONTACTS_UPDATE','groupSetting','slice','fetchMessages','lastmsg','unhandledRejection','notContains','lastInteraction','groupSettingUpdate','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','flowConversation','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','findByIdAndUpdate','fetchProfile2','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','WEBHOOK_EVENTS_MESSAGES_UPDATE','presence.update','remoteJids','keep-alive','applyvaredit','nextBlock:','DATABASE_CONNECTION_USER','):\x20delete\x20=\x20true','path','item','updateProfileStatus','subjectOwner','/chat','editflowreply','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','pollUpdateMessage','):\x20Entrou\x20na\x20função\x20goToFlow','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','CONTACTS_UPSERT','getMIMEType','createGroup','/wa-connection-update','user','):\x20Editando\x20bloco...','SERVER_PORT','URL\x20limpa:\x20','startFlow','):\x20debug\x20alterando\x20this.AutomateSystem','/webhook','deleteMany','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','lean','Fluxo\x20não\x20encontrado','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','function','INFO','getContactModelForOwner','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','cleaningUp','\x20inseridos\x20no\x20banco\x20de\x20dados...','Error\x20in\x20markMessageAsRead:','Logger','toFile','The\x20property\x20cannot\x20be\x20empty','Certbot:\x20','readFileSync','makeCacheableSignalKeyStore','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','updateCustomFields','groupName','Module\x20-\x20ON','toLocaleString','replaceValue','The\x20instance\x20needs\x20to\x20be\x20disconnected','API\x20Key\x20from\x20Request:','upperCase','GROUPS_UPDATE','.ogg','flowActive','CONFIG_SESSION_PHONE_NAME','body','webhook','PENDING','Não\x20respondeu\x20com\x20a\x20enquete.','connectToWhatsapp','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','updateGParticipate','deleteDoneMessages','groupInviteCode','):\x20teve\x20mudanças\x20chat.name:\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','fullName','Temp\x20audio\x20path:\x20','removeData','stringify','waUploadToServer','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','profilePicture','90DvyvMd','uazapiSendPoll','assign','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','arraybuffer','updateMessage','ORG:','WEBHOOK_EVENTS_GROUPS_UPDATE','whatsappNumber','chats.upsert','Error\x20while\x20deleting\x20message\x20for\x20everyone','sleep','uazapiDeleteMessage','announcement','downloads','trimmed','Erro\x20ao\x20iniciar\x20fluxo:\x20','PROD','join','fetchProfilePicture','buttonText','chat','parseInt','buttonMessage','):\x20Enviando\x20contato','setNewValue','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','ios','restrict','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','scheduleSendMedia','_Chats','processingScheduleMessageId','updateFlowConfig','groups','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos',',\x20Resultado:\x20','archiveChat','varedit','fetchBusinessProfile','metadata','qrcode','setWebhook','notEmpty','demote','convertToWebP','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','findGroups','website','editFlowReply','auth','groupUpdateSubject','613811sFrRoh','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','g.us','buttonsMessage','):\x20this.processingScheduleMessageId:\x20','Internal\x20Server\x20Error','WA\x20MODULE','allFlows','WEBHOOK_MAP','\x0a{\x20instance:\x20','documentWithCaptionMessage','optionName','sendButtons','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','cors','greater','segundos','connect','uuid','hasOwnProperty','authorization','render','revokeInviteCode','readMessage','emit','groupUpdateDescription','generateHash','webp','):\x20Erro\x20ao\x20criar\x20fluxo\x20','deleteOne','DATABASE_CONNECTION_URI','store','mediatype','when','/events','authState','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','stdout','padEnd','STORE_CHATS','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','info','CLIENT','ObjectId','ini','errorLog','\x20chats\x20de\x20','@s.whatsapp.net','deleteInstance','remoteJidsRemaining','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','PASSWORD','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','E-mail:\x20',',\x20lastCondition:\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','response','\x0aFN:','conditions','deleteMessage','document','limit','participants','env','stopConversation','error\x20get\x20vote','\x1b[32m%s\x1b[0m','?authSource=admin&readPreference=primary&directConnection=true','userDevicesCache','sendDataWebhook','Erro\x20inesperado\x20em\x20processvaredits:\x20','\x1b[30m%s\x1b[0m','request\x20received\x20in\x20editFlowvariable','logout','saveTextReply','processConditions','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','some','audioWhatsapp','Image\x20path:\x20','\x20mensagens\x20de\x20','Mensagem\x20não\x20suportada','\x1b[36m%s\x1b[0m','Deleted\x20','50mb','src','Variável\x20não\x20encontrada!','audioMessage','statusMessage','API\x20Key\x20inválida.','onTime','EMAIL','vote','text','qrcode.updated','forEach','number','exists','format','longitude','WEBHOOK_EVENTS_MESSAGES_UPSERT','):\x20Buscando\x20conversas...','lastBlockId','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','/wa-groups','readMessages','nome','isBusiness','desativadoFluxoAte','validate','request\x20received\x20in\x20updateAgent','pushName','indexOf','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','isConnected','/exit','SendScheduleMessage','CONTACTS_UPDATE','remoteJid','createConversationforStartFlow','contact','child_process','messages.upsert','apiName','CORS_METHODS','inner','replyOption','refused','GLOBAL','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','onWhatsApp','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','notEqual','Image\x20created','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','envProcess','CONNECTION_UPDATE','URI','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Erro\x20ao\x20buscar\x20conversa:\x20','DATABASE_CONNECTION_HOST','audio/mp4','Getting\x20image\x20from\x20url','prepareMediaMessage','Conversa\x20deletada\x20com\x20sucesso.','editflowvaredit','archive','getClient','groupValidate','createConnection','groupAcceptInvite','MESSAGES_UPDATE','restartInstance','scheduleSendText','lastSendMessage','):\x20isVote','fetchChats','groupCreate','STORE_MESSAGE','imageMessage','connectionState','bodyString','\x1b[36m','match_last_seen','truncatedto','updateAgent','EXPIRIN_IN','\x22\x20-\x20REMOVED','pollCreationMessage','\x1b[1m\x1b[37m','repository','markMessageAsRead','throwAndLogError','Error\x20change\x20group\x20setting','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','options','):\x20Erro\x20durante\x20a\x20atualização:\x20','cleanStore','uncaughtException','CONFIG_SESSION_PHONE','getProfileName','Method\x20not\x20implemented.','Reinicialização\x20iniciada:\x20','GUARD','chats.update','):\x20Procurando\x20conversa','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','defineProperty','getMessage','sendAudio','pt-BR','groupRevokeInvite','messageContextInfo','\x20-y','Not\x20is\x20business\x20profile','variable','Converting\x20audio\x20to\x20mp4','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','web','request\x20received\x20in\x20fetchConversation','atendimentoAberto','profile','buttons','eventHandler','updateGroupPicture','):\x20Erro\x20ao\x20editar\x20agentes:\x20','send.message','TYPE','groups.upsert','):\x20Flow\x20não\x20encontrado','replaceVariablesChat','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','height','readdirSync','):\x20transformedCustomFieldVariables','getConversation','size','NextBlock','ERROR','messagesSend','stopIfLastReturnedError','apiResponse','warn','_Contacts','audio','rmSync','refreshToken','closeExistingConversations','/instance','findConversation','success','redirect','\x22,\x20valor\x20a\x20substituir:\x20\x22','isLong','Temp\x20image\x20deleted','chats','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','moreLogs','\x1b[43m','https://uazapi-plugin.bubbleapps.io/?url=','image','verifiedName','\x1b[1m','apply','contactsArrayMessage','Erro\x20ao\x20editar\x20agentes:\x20','group\x20ignored','minutesToClose','no.connection','toDataURL','test','pop','Audio\x20is\x20base64','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','encoding','now','flattenObject','editOperator','\x20instance\x20does\x20not\x20exist','processApiRequest','ENABLED','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','delInstanceTime','1449387RnlfQn','.mp4','KEY','Certbot\x20executado\x20com\x20sucesso.','Instance\x20restarted','/media','type','):\x20leadInfoVariables','router','option','NAME','params','stanzaId','\x1b[0m','get','interval\x20não\x20é\x20um\x20número','https','Instance\x20logged\x20out','\x22\x20cannot\x20be\x20empty','scheduled','video-cover.png','videoMessage','string','fetchPrivacySettings',',\x20Segundo\x20Valor:\x20','DARK','REDIS_PREFIX_KEY','request\x20received\x20in\x20updateFlowConfig','backgroundColor','CHATS_UPSERT','status.instance','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','errors','convertedOptions','Not\x20Found','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','sendWhatsAppAudio','groupId','create\x20-\x20success','connecting','groupLeave','toArray','temp-','/instance/fetchInstances','start','LEVEL','state','Missing\x20global\x20api\x20key','connectionClosed','mimetype','trim','subdomain','sendSticker','SERVER_OFFLINE','blockId','end','isJidGroup','senderKeyDistributionMessage','fromObject','656433MLKkAs','subject','status','This\x20name\x20','Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Deletando\x20fluxo...','\x5c$&','^\x5cd+[\x5c.@\x5cw-]+','normalizeMessage','TEXT','lowerCase','request\x20received\x20in\x20editConversation','updateConversation','groupadd','static','secondValue','noConnection','Enter\x20a\x20value\x20in\x20milliseconds','Invalid\x20\x22oldToken\x22','mongodb','redisCache','):\x20Entrou\x20na\x20função\x20stop','isArray','mediaMessage','getScheduleMessage','addBlock','processgoToFlow','statSync','contains','msgRetryCounterCache','contacts.upsert','map','contactHandle','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','boolean','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','connectionStatus','app-state-sync-key','licenca','enabled','jsonwebtoken','instance','expression','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','https://','):\x20Enviando\x20texto','ignoreGroups','instanceCount','FlowRouter','scheduleMessages','put','.jwt','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','statusCode','No\x20join\x20group\x20invite\x20code\x20or\x20url','\x20-\x20ON:\x20','contactMessage','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','isDirectory','dropCollection','):\x20Editando\x20replyOption...','):\x20Conversas\x20encontradas:','EMAIL:','error_log','.webp','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Enviando\x20enquete','organization','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','reconnectAttempts','Comando\x20desconhecido','default','/wa-message','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','toBRL','webhookService','request\x20received\x20in\x20allFlows','WEBHOOK_EVENTS_QRCODE_UPDATED','findGroup','updatePresence','resetReconnectionVariables','_p_','chatLog','length','AUTHENTICATION_TYPE','\x1b[37m%s\x1b[0m','findFlow','shutdown\x20-r\x20now','leadInfo.','SEND_MESSAGE','editflow','replaceVariablesInObject',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','capitalizedWords','MESSAGES_UPSERT','_Messages','saveMediaToFile','getRandomText','contextInfo','):\x20Deletando\x20mensagem','configService','):\x20conversation.waitingPollname','caption','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','getAutomateSystem','formatStatusMessage','delete','lastMessage','Desconectado,\x20parando\x20execução.','processConditionsTest','WEBHOOK_EVENTS_STATUS_INSTANCE','):\x20Criando\x20fluxo...','WEBHOOK_EVENTS_SEND_MESSAGE','DATABASE_CONNECTION_DB_PREFIX_NAME','Archiving\x20chat','flowname:\x20','updateChatWithMessage','agents','quotedMessage','):\x20Deletando\x20conversa...','updatePrivacySettings','webhookModel','realVariables','SUCCESS','valid','maxActives','toUpperCase','Instance\x20deleted','lastReceivedMessage','address','push','blocks','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','findGroupInfo','AutomateFunctions','find','update','groupJid','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','.json','?timestamp=','messageTimestamp','jpegThumbnail','protocolMessage','evaluateConditionTest','deleteBlock','saveConversationToDatabase','verbose','):\x20Limpando\x20AutomateSystem','DEL_INSTANCE','announce','Error\x20fetching\x20group','LIMIT','*Pergunta*:\x20\x0a','sendStatus','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Media\x20folder\x20path:','setHeader','birthtime','pollMessageOnDelete','findById','):\x20Editando\x20grupo\x20do\x20fluxo...','add','uazapi','locationMessage','notas','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','Flow\x20already\x20exists','pollErrorMessage','value','prefixCommand','):\x20Falha\x20ao\x20deletar\x20mensagem.','editflowblock','reactionMessage','poll_id','findOne','redisEnv','routerPath','Temp\x20audio\x20created','checkAndRestartProcess','dbSettings','/media/','editflowcondition','defineAuthState','splice','Hash\x20to\x20image\x20name:\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','GROUPS_UPSERT','162612WWlyUY','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','sendText','dbInstance','expiration','messages','android','LOG','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','getMessageModelForOwner','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','debug','round','block','getVariablesChat','loadWebhook','LOG_LEVEL','getContentType','log','AUTHENTICATION_JWT_EXPIRIN_IN','Log\x20out\x20instance:\x20','joinGroup','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','stopMinutes','including\x20timestamp\x20in\x20url:\x20','creds','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Editando\x20edição\x20do\x20fluxo...','Erro\x20de\x20atualização:\x20',',\x20valor\x20passado:\x20\x22','#000000','sign','Read\x20messages\x20fail','collection','editFlowGroup','):\x20alterando\x20this.AutomateSystem','AUTHENTICATION_API_KEY','addresss','-instances','\x0a*Você\x20respondeu*:\x0a','groupParticipantsUpdate','Db\x20Connection','updateStopChat','enumerable','data','COLOR','Contacts\x20not\x20found','/clients-info','not_announcement','/refreshToken','/events/:instance','):\x20Buscando\x20conversa...','Output\x20audio\x20path:\x20','editFlowVariable','HH:mm:ss','role','\x1b[34m','Instance\x20Key\x20from\x20DB:','waitingPoll_name','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','integer','locked','blockLogs','):\x20Buscando\x20flow...','privacySettings','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Data\x20inválida\x20fornecida','hGet','wuid','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','groups.update','base64','content','findIndex','updateStatusPrivacy','loadInstance','):\x20Visualizando\x20AutomateSystem','optionDescription','isRunning','email','picture','mongodb://','):\x20Alterando\x20fluxo...','API_KEY','chats.set','Error\x20updating\x20message\x20status:','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','contacts.update','generate','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','):\x20Editando\x20variável\x20do\x20fluxo...','fetchConversation','owner','removed','unreadcount','getBase64FromMediaMessage','quoted','varedits','apikey','qrcode-terminal','REDIS','getLastMessage','$dbName','editScheduleMessage','Error\x20update\x20group\x20picture','writeFile','MESSAGES_SET','instances','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','formatVCard','console','certonly','):\x20Query\x20params:','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','compression','GROUP_PARTICIPANTS_UPDATE','_doc','https://chat.whatsapp.com/','editFlowBlock','CONFIG_SESSION_PHONE_CLIENT','SECRET','envYaml','):\x20Ignoring\x20group\x20messages.','decryptPollVote','Image\x20converted\x20to\x20WebP','groupDesc','#ffffff','.png','getPrototypeOf','authModel','qrCode','poll','\x22\x20-\x20NOT\x20CONNECTION','replaceVariablesLogs','errno','BufferJSON','waitingPoll_replyOptions','createConversationforgoToFlow','flowIgnoreGroups','):\x20Enviando\x20áudio','No\x20invite\x20code','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','saveChatVariables','method','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','_id','deleteConversation',',\x20qrcodeCount:\x20','proto','changeVariables','DisconnectReason','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','Output\x20path:\x20','editFlowVaredit','uazapiSendMedia','ip:\x20','instanceName','pre','mongoose','__esModule','padStart','):\x20Criando\x20nova\x20conversa','\x20is\x20already\x20in\x20use.','media','reconnectTimestamps','request\x20received\x20in\x20scheduleMessage','joinGroupValidate','The\x20global\x20api\x20key\x20must\x20be\x20set','MessageModel','buttonId','chats.delete','listMessage','PRIVKEY','\x20segundos','MAX_RECONNECT_ATTEMPTS','request\x20received\x20in\x20getFlow','SERVER','):\x20Iniciando\x20bot...','cwd','setting','width','):\x20Entrou\x20na\x20função\x20saveReply','exit','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','@whiskeysockets/baileys','Operador:\x20\x22','available','Telefone:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','waInstances','sendMedia','webhookMap','send','createNewConversation',',\x20fará\x20nova\x20verificação\x20em\x20','object','SSL_CONF_PRIVKEY','stateConnection','tokenId','initAuthCreds','\x20não\x20encontrado\x20para\x20atualização.','URL',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','editflowvariable','model','Temp\x20audio\x20deleted','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','viewOnceMessage','ephemeralMessage','\x1b[33m\x1b[1m','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','PREFIX_KEY','Cache-Control','stopMinutesMaxActives','\x20contacts','headerString','uazapiSendContact','Image\x20is\x20base64','editFlow','spawn','leadInfo.desativadoFluxoAte','8080','createflow','fone','includes','AppStateSyncKeyData','Background\x20color\x20is\x20required','writeFileSync','stderr','request\x20received\x20in\x20createFlow','imagechat','sendCommand','):\x20não\x20encontrou','closed','status@broadcast','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','query','remote\x20\x22origin\x22','Flow\x20não\x20encontrado','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','_error','composing','Erro\x20ao\x20encerrar\x20a\x20API','rowId','apirequest','getAllData','reference','upsertChats','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','\x20minutos\x20verificará\x20novas\x20mensagens','replacer','\x1b[40m','updateReadReceiptsPrivacy','drop','substring','mentioned','/message','updateGroupsAddPrivacy','Erro\x20do\x20Certbot:\x20','StatusJidList\x20is\x20required','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','\x1b[41m','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','group-participants.update','USER','originalUrl','Group\x20not\x20found','newName','replaceOne','https://github.com/uazapi/uazapi.git','request\x20received\x20in\x20editFlow','getflow','Fluxos\x20não\x20estão\x20ativados','updateOne','RECONNECT_TIME_FRAME','empty','folder','conversation','Business\x20profile\x20fetched','lastSend','messages.update','request\x20received\x20in\x20starFlow','):\x20Enviando\x20localização','waitingPoll_id'];a0_0x36f7=function(){return _0x28f175;};return a0_0x36f7();}var ne=class c{constructor(_0x35edf8,_0x33a082){const _0x3aec3f=a0_0x6619de;this[_0x3aec3f(0x47b)]=_0x35edf8,this['instanceName']=_0x33a082,this[_0x3aec3f(0x5a9)]=new N(c['name']),this[_0x3aec3f(0x5a6)]=Jo(_0x35edf8);}set[a0_0x6619de(0x57f)](_0x3badec){const _0x241870=a0_0x6619de;this[_0x241870(0x524)]=_0x3badec;}async[a0_0x6619de(0x630)](){const _0x9b8188=a0_0x6619de;try{return await this[_0x9b8188(0x5a6)][_0x9b8188(0x570)]([_0x9b8188(0x5f1),this[_0x9b8188(0x47b)][_0x9b8188(0x55c)]+':*']);}catch(_0x2f532d){this[_0x9b8188(0x5a9)]['error'](_0x2f532d);}}async[a0_0x6619de(0x633)](_0x63149f,_0x2f1b26){const _0xa8ee5a=a0_0x6619de;try{let _0x382d98=JSON[_0xa8ee5a(0x24c)](_0x2f1b26,Nt[_0xa8ee5a(0x50f)][_0xa8ee5a(0x583)]);return await this[_0xa8ee5a(0x5a6)][_0xa8ee5a(0x63d)](this['redisEnv'][_0xa8ee5a(0x55c)]+':'+this['instanceName'],_0x63149f,_0x382d98);}catch(_0xf0556){this['logger'][_0xa8ee5a(0x6b1)](_0xf0556);}}async[a0_0x6619de(0x57e)](){const _0x1296a8=a0_0x6619de;try{let _0x35261d=await this['client']['hGetAll'](this[_0x1296a8(0x47b)][_0x1296a8(0x55c)]+':'+this[_0x1296a8(0x524)]);if(_0x35261d){for(let _0x7fbea4 in _0x35261d)Object['prototype'][_0x1296a8(0x297)][_0x1296a8(0x6bf)](_0x35261d,_0x7fbea4)&&(_0x35261d[_0x7fbea4]=JSON[_0x1296a8(0x614)](_0x35261d[_0x7fbea4],Nt[_0x1296a8(0x50f)]['reviver']));return _0x35261d;}}catch(_0x5eea47){this['logger'][_0x1296a8(0x6b1)](_0x5eea47);}}async[a0_0x6619de(0x1cc)](_0x19a97b){const _0x34344c=a0_0x6619de;try{let _0x12e8da=await this[_0x34344c(0x5a6)][_0x34344c(0x4cb)](this['redisEnv'][_0x34344c(0x55c)]+':'+this[_0x34344c(0x524)],_0x19a97b);if(_0x12e8da)return JSON[_0x34344c(0x614)](_0x12e8da,Nt['BufferJSON'][_0x34344c(0x677)]);}catch(_0x168c68){this[_0x34344c(0x5a9)]['error'](_0x168c68);}}async['removeData'](_0x280a7f){const _0x579935=a0_0x6619de;try{return await this[_0x579935(0x5a6)][_0x579935(0x6d8)](this[_0x579935(0x47b)][_0x579935(0x55c)]+':'+this['instanceName'],_0x280a7f);}catch(_0x7b5f62){this[_0x579935(0x5a9)][_0x579935(0x6b1)](_0x7b5f62);}}async[a0_0x6619de(0x69e)](_0x2bce31){const _0x1c38c1=a0_0x6619de;try{return await this[_0x1c38c1(0x5a6)][_0x1c38c1(0x5ae)](_0x2bce31||this[_0x1c38c1(0x47b)]['PREFIX_KEY']+':'+this[_0x1c38c1(0x524)]);}catch(_0x1cb2a8){this['logger'][_0x1c38c1(0x6b1)](_0x1cb2a8);}}};async function ds(_0x557bfb,_0x5247c0){const _0x3dc36f=a0_0x6619de;let _0x2eaef3=new N(ds[_0x3dc36f(0x5c4)]),_0x4d927f=new ne(_0x557bfb,_0x5247c0),_0x5707d5=async(_0x302971,_0x4b923e)=>{const _0x313ef6=_0x3dc36f;try{return await _0x4d927f[_0x313ef6(0x633)](_0x4b923e,_0x302971);}catch(_0x57cb8d){return _0x2eaef3[_0x313ef6(0x6b1)]({'localError':'writeData','error':_0x57cb8d});}},_0x143f6d=async _0x16d45f=>{const _0x5685ca=_0x3dc36f;try{return await _0x4d927f[_0x5685ca(0x1cc)](_0x16d45f);}catch(_0x5cc4cd){_0x2eaef3['error']({'readData':'writeData','error':_0x5cc4cd});return;}},_0x494085=async _0x538463=>{const _0x2cf6a9=_0x3dc36f;try{return await _0x4d927f[_0x2cf6a9(0x24b)](_0x538463);}catch(_0x1000c0){_0x2eaef3[_0x2cf6a9(0x6b1)]({'readData':'removeData','error':_0x1000c0});}},_0x3a9173=await _0x143f6d(_0x3dc36f(0x4a1))||(0x0,Tt[_0x3dc36f(0x54f)])();return{'state':{'creds':_0x3a9173,'keys':{'get':async(_0x56a674,_0x2f500d)=>{const _0x2e52c3=_0x3dc36f;let _0x2a682a={};return await Promise['all'](_0x2f500d[_0x2e52c3(0x3e9)](async _0x1fb6be=>{const _0x53625=_0x2e52c3;let _0x2748ec=await _0x143f6d(_0x56a674+'-'+_0x1fb6be);_0x56a674===_0x53625(0x3ef)&&_0x2748ec&&(_0x2748ec=Tt['proto'][_0x53625(0x186)][_0x53625(0x56a)]['fromObject'](_0x2748ec)),_0x2a682a[_0x1fb6be]=_0x2748ec;})),_0x2a682a;},'set':async _0x140345=>{const _0x149465=_0x3dc36f;let _0x2f0963=[];for(let _0xadea2c in _0x140345)for(let _0xde64aa in _0x140345[_0xadea2c]){let _0x27f663=_0x140345[_0xadea2c][_0xde64aa],_0x1a7752=_0xadea2c+'-'+_0xde64aa;_0x2f0963['push'](_0x27f663?await _0x5707d5(_0x27f663,_0x1a7752):await _0x494085(_0x1a7752));}await Promise[_0x149465(0x703)](_0x2f0963);}}},'saveCreds':async()=>await _0x5707d5(_0x3a9173,_0x3dc36f(0x4a1))};}var P=T(require('fs')),At=require(a0_0x6619de(0x296)),It=T(require('sharp'));function J(_0x216166){const _0x400adb=a0_0x6619de;if(_0x216166[_0x400adb(0x558)]||_0x216166['viewOnceMessageV2']){let _0x557d01=_0x216166[_0x400adb(0x558)]?_0x216166[_0x400adb(0x558)][_0x400adb(0x1cb)]:_0x216166['viewOnceMessageV2'][_0x400adb(0x1cb)];return(0x0,w[_0x400adb(0x499)])(_0x557d01);}return _0x216166['pollCreationMessageV3']?_0x400adb(0x5bc):_0x216166['pollCreationMessageV2']?_0x400adb(0x722):(0x0,w['getContentType'])(_0x216166);}var ye=class c{constructor(_0xa31c10,_0x319fce,_0x374f40){const _0x4ddd7a=a0_0x6619de;this[_0x4ddd7a(0x42e)]=_0xa31c10,this[_0x4ddd7a(0x6cf)]=_0x319fce,this[_0x4ddd7a(0x331)]=_0x374f40,this[_0x4ddd7a(0x732)]=null,this['logger']=new N(c['name']),this[_0x4ddd7a(0x3f3)]={},this[_0x4ddd7a(0x6ee)]={},this['stateConnection']={'state':_0x4ddd7a(0x74c)},this[_0x4ddd7a(0x67f)]=(0x0,$[_0x4ddd7a(0x262)])(Q,_0x4ddd7a(0x25e)),this[_0x4ddd7a(0x3e7)]=new gs[(_0x4ddd7a(0x411))](),this['userDevicesCache']=new gs[(_0x4ddd7a(0x411))](),this['endSession']=!0x1,this[_0x4ddd7a(0x547)]={'status.instance':_0x4ddd7a(0x216),'qrcode.updated':_0x4ddd7a(0x6bd),'messages.upsert':_0x4ddd7a(0x412),'messages.update':_0x4ddd7a(0x604),'send.message':'/wa-message','group.upsert':_0x4ddd7a(0x2ed),'group.update':_0x4ddd7a(0x2ed),'group-participants.update':'/wa-groups','connection.update':_0x4ddd7a(0x216),'messages.set':_0x4ddd7a(0x412),'contacts.set':_0x4ddd7a(0x63f),'contacts.upsert':_0x4ddd7a(0x63f),'contacts.update':_0x4ddd7a(0x63f),'presence.update':_0x4ddd7a(0x74f),'chats.set':_0x4ddd7a(0x602),'chats.update':_0x4ddd7a(0x602),'chats.upsert':'/wa-chats','chats.delete':'/wa-chats'},this[_0x4ddd7a(0x40f)]=0x0,this[_0x4ddd7a(0x52c)]=[],this[_0x4ddd7a(0x536)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this[_0x4ddd7a(0x4d6)]=!0x1,this[_0x4ddd7a(0x6f8)]={'chats.upsert':async(_0x4790fc,_0x1309a4)=>{const _0x5b0b82=_0x4ddd7a;let _0x8aa93b=[];for await(let _0x30436f of _0x4790fc)_0x8aa93b[_0x5b0b82(0x44c)]({'_id':_0x30436f['id'],'owner':this[_0x5b0b82(0x3f3)][_0x5b0b82(0x4cc)],'group':_0x30436f['id'][_0x5b0b82(0x690)](_0x5b0b82(0x1b9)),'name':_0x30436f[_0x5b0b82(0x5c4)]||_0x30436f[_0x5b0b82(0x6a1)]||null,'contactname':null,'lastmsg':_0x30436f[_0x5b0b82(0x620)]&&_0x30436f[_0x5b0b82(0x620)]['toString']()[_0x5b0b82(0x41d)]<0xd?_0x30436f[_0x5b0b82(0x620)]*0x3e8:_0x30436f[_0x5b0b82(0x620)]||null,'archived':_0x30436f[_0x5b0b82(0x6ea)]||!0x1,'unreadcount':_0x30436f[_0x5b0b82(0x1b2)]||0x0});await this['sendDataWebhook']('chats.upsert',_0x8aa93b);},'chats.update':async(_0x163064,_0x51b8b1)=>{const _0x2807c1=_0x4ddd7a;for(let _0x3138f2 of _0x163064){let _0x1b71fa={'_id':_0x3138f2['id'],'owner':this['instance'][_0x2807c1(0x4cc)],'group':_0x3138f2['id'][_0x2807c1(0x690)](_0x2807c1(0x1b9)),'name':_0x3138f2['name']||_0x3138f2[_0x2807c1(0x6a1)],'archived':_0x3138f2['archived']},_0x41c1f6=!0x1,_0x339181={};_0x1b71fa[_0x2807c1(0x6ea)]!=null&&(this[_0x2807c1(0x5a9)][_0x2807c1(0x45d)](this[_0x2807c1(0x524)]+'\x20('+this[_0x2807c1(0x3f3)][_0x2807c1(0x4cc)]+_0x2807c1(0x6eb)+_0x3138f2[_0x2807c1(0x6ea)]),_0x41c1f6=!0x0,_0x339181[_0x2807c1(0x6ea)]=_0x3138f2['archived']),_0x3138f2[_0x2807c1(0x5c4)]!=null&&(this['logger'][_0x2807c1(0x45d)](this[_0x2807c1(0x524)]+'\x20('+this[_0x2807c1(0x3f3)][_0x2807c1(0x4cc)]+_0x2807c1(0x247)+_0x3138f2[_0x2807c1(0x5c4)]),_0x41c1f6=!0x0,_0x339181[_0x2807c1(0x5c4)]=_0x3138f2[_0x2807c1(0x5c4)]),_0x3138f2['displayName']!=null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2807c1(0x3f3)][_0x2807c1(0x4cc)]+_0x2807c1(0x69a)+_0x3138f2[_0x2807c1(0x6a1)]),_0x41c1f6=!0x0,_0x339181[_0x2807c1(0x5c4)]=_0x3138f2['displayName']);let _0x4135f4;_0x41c1f6&&(_0x4135f4=await this[_0x2807c1(0x331)][_0x2807c1(0x265)][_0x2807c1(0x59a)]({'where':{'_id':_0x3138f2['id'],'owner':this[_0x2807c1(0x3f3)][_0x2807c1(0x4cc)]}},_0x339181)),_0x4135f4&&q(this[_0x2807c1(0x524)],'chats',{'chat':_0x4135f4});}},'chats.delete':async _0x3de0b9=>{const _0x35ad42=_0x4ddd7a;await this[_0x35ad42(0x2ca)](_0x35ad42(0x532),[..._0x3de0b9]);}},this[_0x4ddd7a(0x3ea)]={'contacts.upsert':async(_0x1c2d15,_0x52b8c2)=>{const _0x199eda=_0x4ddd7a;let _0x44cefa=await this[_0x199eda(0x331)][_0x199eda(0x2fd)][_0x199eda(0x451)]({'where':{'owner':this[_0x199eda(0x3f3)][_0x199eda(0x4cc)]}}),_0x28c836=[];for await(let _0x2c9b38 of _0x1c2d15)_0x44cefa[_0x199eda(0x451)](_0x433d52=>_0x433d52['_id']===_0x2c9b38['id'])||_0x28c836[_0x199eda(0x44c)]({'_id':_0x2c9b38['id'],'pushName':_0x2c9b38?.[_0x199eda(0x5c4)]||_0x2c9b38?.[_0x199eda(0x379)],'owner':this[_0x199eda(0x3f3)][_0x199eda(0x4cc)]});await this[_0x199eda(0x2ca)](_0x199eda(0x3e8),_0x28c836),await this[_0x199eda(0x331)]['contact']['insert'](_0x28c836);},'contacts.update':async(_0x210a44,_0x516ddd)=>{const _0x7233=_0x4ddd7a;let _0x2def51=[];for await(let _0x2b7298 of _0x210a44)_0x2def51['push']({'_id':_0x2b7298['id'],'pushName':_0x2b7298?.[_0x7233(0x5c4)]??_0x2b7298?.[_0x7233(0x379)],'owner':this[_0x7233(0x3f3)][_0x7233(0x4cc)]});await this[_0x7233(0x2ca)](_0x7233(0x4df),_0x2def51);}},this[_0x4ddd7a(0x17d)]={'messaging-history.set':async({messages:_0xf685d5,chats:_0x226801,isLatest:_0x5f20c8},_0x58af9a)=>{const _0x5cab93=_0x4ddd7a;if(_0x5f20c8){let _0x3e8649=await Promise[_0x5cab93(0x703)](_0x226801[_0x5cab93(0x3e9)](async _0xa5793c=>({'_id':_0xa5793c['id'],'owner':this[_0x5cab93(0x3f3)]['wuid'],'group':_0xa5793c['id'][_0x5cab93(0x690)](_0x5cab93(0x1b9)),'name':_0xa5793c['name']||_0xa5793c[_0x5cab93(0x6a1)]||null,'contactname':null,'lastmsg':_0xa5793c['conversationTimestamp']&&_0xa5793c['conversationTimestamp'][_0x5cab93(0x1cf)]()[_0x5cab93(0x41d)]<0xd?_0xa5793c[_0x5cab93(0x620)]*0x3e8:_0xa5793c['conversationTimestamp']||null,'archived':_0xa5793c['archived']||!0x1,'unreadcount':_0xa5793c[_0x5cab93(0x1b2)]||0x0})));await this['sendDataWebhook'](_0x5cab93(0x4dc),_0x3e8649),await this[_0x5cab93(0x580)](_0x3e8649,_0x58af9a);}let _0x476719=[],_0x4e6893=Date[_0x5cab93(0x387)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5999e8]of Object['entries'](_0xf685d5)){if(_0x5999e8[_0x5cab93(0x1cb)]?.[_0x5cab93(0x459)]||_0x5999e8['message']?.['senderKeyDistributionMessage']||!_0x5999e8[_0x5cab93(0x1cb)]||_0x5999e8[_0x5cab93(0x648)][_0x5cab93(0x2fb)]==='status@broadcast'||(ps['default']['isLong'](_0x5999e8?.['messageTimestamp'])&&(_0x5999e8[_0x5cab93(0x457)]=_0x5999e8[_0x5cab93(0x457)]?.[_0x5cab93(0x71c)]()),_0x5999e8[_0x5cab93(0x457)]&&_0x5999e8[_0x5cab93(0x457)][_0x5cab93(0x1cf)]()['length']<0xd&&(_0x5999e8[_0x5cab93(0x457)]=_0x5999e8[_0x5cab93(0x457)]*0x3e8),_0x5999e8[_0x5cab93(0x457)]<_0x4e6893))continue;let {message_normalized:_0x1a8073}=this[_0x5cab93(0x3d2)](_0x5999e8['message'],J(_0x5999e8[_0x5cab93(0x1cb)]),null);Object[_0x5cab93(0x5f1)](_0x1a8073)[_0x5cab93(0x41d)]>0x0&&_0x476719['push']({'_id':_0x5999e8[_0x5cab93(0x648)]['id'],'key':_0x5999e8[_0x5cab93(0x648)],'pushName':_0x5999e8['pushName'],'participant':_0x5999e8[_0x5cab93(0x5dd)],'message':{..._0x5999e8[_0x5cab93(0x1cb)]},'messageType':J(_0x5999e8[_0x5cab93(0x1cb)]),'message_normalized':{'key':_0x5999e8[_0x5cab93(0x648)],'pushName':_0x5999e8[_0x5cab93(0x2f4)],'messageTimestamp':_0x5999e8['messageTimestamp'],..._0x1a8073},'messageTimestamp':_0x5999e8[_0x5cab93(0x457)],'owner':this[_0x5cab93(0x3f3)][_0x5cab93(0x4cc)]});}_0x58af9a[_0x5cab93(0x38c)]&&_0x476719[_0x5cab93(0x41d)]>0x0&&(this['logger']['verbose'](this[_0x5cab93(0x524)]+'\x20('+this['instance'][_0x5cab93(0x4cc)]+_0x5cab93(0x68a)+_0x476719[_0x5cab93(0x41d)]+_0x5cab93(0x2d5)+this[_0x5cab93(0x3f3)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x5cab93(0x331)][_0x5cab93(0x1cb)][_0x5cab93(0x18a)]([..._0x476719])),this[_0x5cab93(0x2ca)]('messages.set',[..._0x476719]),_0xf685d5=void 0x0;},'messages.upsert':async({messages:_0x47d3c2,type:_0x17b0b9},_0x4323db)=>{const _0x252db1=_0x4ddd7a;let _0x288bf9=_0x47d3c2[0x0];if(_0x17b0b9!==_0x252db1(0x60c)||!_0x288bf9?.[_0x252db1(0x1cb)]||_0x288bf9['message']?.[_0x252db1(0x459)]||_0x288bf9[_0x252db1(0x1cb)][_0x252db1(0x3c8)]||_0x288bf9['key'][_0x252db1(0x2fb)]===_0x252db1(0x573))return;let _0xa741b3=null,_0x364fe4=null;try{_0xa741b3=await this[_0x252db1(0x1a9)](_0x288bf9),_0x364fe4=_0xa741b3?_0xa741b3[_0x252db1(0x262)](','):null;}catch(_0x12642c){this[_0x252db1(0x5a9)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x252db1(0x4cc)]+_0x252db1(0x68a)+_0x12642c[_0x252db1(0x1cb)]),_0x364fe4=_0x252db1(0x2c6);}if(this[_0x252db1(0x5a6)][_0x252db1(0x67c)](_0x252db1(0x6bc)),ps[_0x252db1(0x411)][_0x252db1(0x371)](_0x288bf9[_0x252db1(0x457)])&&(_0x288bf9[_0x252db1(0x457)]=_0x288bf9[_0x252db1(0x457)]?.[_0x252db1(0x71c)]()),this[_0x252db1(0x6ee)]?.[_0x252db1(0x6d7)]&&_0x288bf9[_0x252db1(0x648)]['remoteJid'][_0x252db1(0x569)](_0x252db1(0x1b9))){this[_0x252db1(0x5a9)][_0x252db1(0x45d)](_0x252db1(0x37e));return;}_0x288bf9[_0x252db1(0x457)]&&_0x288bf9['messageTimestamp'][_0x252db1(0x1cf)]()[_0x252db1(0x41d)]<0xd&&(_0x288bf9[_0x252db1(0x457)]=_0x288bf9[_0x252db1(0x457)]*0x3e8);let _0x4720b9=_0x288bf9[_0x252db1(0x1cb)],{messageContent:_0x461b86,message_normalized:_0x244e25}=this['normalizeMessage'](_0x4720b9,J(_0x288bf9['message']),_0x364fe4);_0x461b86||console[_0x252db1(0x6b1)](_0x252db1(0x2d6));let _0x5347f0={'_id':_0x288bf9['key']['id'],'key':_0x288bf9[_0x252db1(0x648)],'pushName':_0x288bf9[_0x252db1(0x2f4)],'message':{..._0x288bf9[_0x252db1(0x1cb)]},'messageType':J(_0x288bf9[_0x252db1(0x1cb)]),'message_normalized':{'key':_0x288bf9[_0x252db1(0x648)],'pushName':_0x288bf9[_0x252db1(0x2f4)],'messageTimestamp':_0x288bf9[_0x252db1(0x457)],'source':(0x0,w[_0x252db1(0x5c3)])(_0x288bf9[_0x252db1(0x648)]['id']),..._0x244e25},'messageTimestamp':_0x288bf9['messageTimestamp'],'owner':this['instance'][_0x252db1(0x4cc)]};this[_0x252db1(0x5a9)][_0x252db1(0x49a)](_0x5347f0),await this['repository'][_0x252db1(0x1cb)][_0x252db1(0x18a)]([_0x5347f0]),await this[_0x252db1(0x2ca)](_0x252db1(0x2ff),_0x5347f0),q(this[_0x252db1(0x524)],'messages',{'message':_0x5347f0}),_0x288bf9[_0x252db1(0x648)][_0x252db1(0x2fb)]!=='status@broadcast'&&await this[_0x252db1(0x43e)](_0x4323db,_0x5347f0,'MESSAGES_UPSERT');},'messages.update':async(_0x1084d6,_0x584800)=>{const _0x38d392=_0x4ddd7a;let _0x371269={0x0:_0x38d392(0x362),0x1:_0x38d392(0x240),0x2:_0x38d392(0x61b),0x3:_0x38d392(0x682),0x4:_0x38d392(0x60d),0x5:_0x38d392(0x6fe)};for await(let {key:_0x379ce7,update:_0x4b9985}of _0x1084d6){if(this[_0x38d392(0x6ee)]?.[_0x38d392(0x6d7)]&&_0x379ce7[_0x38d392(0x2fb)][_0x38d392(0x569)](_0x38d392(0x1b9))){this[_0x38d392(0x5a9)][_0x38d392(0x45d)](_0x38d392(0x37e));return;}if(_0x379ce7[_0x38d392(0x2fb)]!==_0x38d392(0x573)){let _0x51ebe8=Date[_0x38d392(0x387)](),_0x4d79f2;_0x4b9985[_0x38d392(0x1cb)]===null&&_0x4b9985['status']===void 0x0?_0x4d79f2='DELETED':_0x4d79f2=_0x371269[_0x4b9985[_0x38d392(0x3cc)]];let _0xb427f7=_0x379ce7['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x46b4de={..._0x379ce7,'remoteJid':_0xb427f7,'status':_0x4d79f2,'datetime':_0x51ebe8,'owner':this[_0x38d392(0x3f3)][_0x38d392(0x4cc)]};await this[_0x38d392(0x2ca)](_0x38d392(0x5a1),_0x46b4de),await this[_0x38d392(0x255)](_0x379ce7,_0xb427f7,_0x46b4de);}}}},this[_0x4ddd7a(0x1d6)]={'groups.upsert':_0x3a6cb9=>{const _0x3bead4=_0x4ddd7a;this['sendDataWebhook'](_0x3bead4(0x358),_0x3a6cb9);},'groups.update':_0x54a509=>{const _0x36f8f2=_0x4ddd7a;this['sendDataWebhook'](_0x36f8f2(0x4ce),_0x54a509);},'group-participants.update':_0x3a82e3=>{const _0x566476=_0x4ddd7a;this[_0x566476(0x2ca)](_0x566476(0x590),_0x3a82e3);}},this[_0x4ddd7a(0x1a9)]=async _0x3c2bc6=>{const _0x228625=_0x4ddd7a;if(_0x3c2bc6[_0x228625(0x1cb)]?.[_0x228625(0x210)]){let _0x3aac88=await this['getMessage'](_0x3c2bc6[_0x228625(0x1cb)]['pollUpdateMessage'][_0x228625(0x71b)],!0x0);if(_0x3aac88){let _0x1f8ea4=_0x3aac88[_0x228625(0x648)][_0x228625(0x1e3)]?this[_0x228625(0x3f3)][_0x228625(0x4cc)]+_0x228625(0x2b3):_0x3aac88[_0x228625(0x648)][_0x228625(0x5dd)]||_0x3aac88['key'][_0x228625(0x2fb)],_0x273370=_0x3aac88['key']['id'],_0x1af946=_0x3aac88[_0x228625(0x1cb)],_0x58fdd3=Buffer[_0x228625(0x734)](_0x1af946[_0x228625(0x348)][_0x228625(0x73b)][_0x228625(0x1cf)](_0x228625(0x1e0)),'hex'),_0x4d8b71=(0x0,w[_0x228625(0x503)])(_0x3c2bc6[_0x228625(0x1cb)][_0x228625(0x210)]['vote'],{'pollCreatorJid':_0x1f8ea4,'pollMsgId':_0x273370,'pollEncKey':_0x58fdd3,'voterJid':_0x3c2bc6['key']['fromMe']?this[_0x228625(0x3f3)][_0x228625(0x4cc)]+_0x228625(0x2b3):_0x3c2bc6[_0x228625(0x648)][_0x228625(0x2fb)][_0x228625(0x690)](_0x228625(0x286))?_0x3c2bc6[_0x228625(0x648)]['participant']:_0x3c2bc6[_0x228625(0x648)]['remoteJid']}),_0x361574=[],_0x5543dc=_0x4d8b71[_0x228625(0x1ce)]['map'](_0x4f24dc=>Buffer[_0x228625(0x734)](_0x4f24dc)[_0x228625(0x1cf)]('hex'));for(let {optionName:_0x2d3b80}of _0x1af946[_0x228625(0x32f)]?.[_0x228625(0x337)]||_0x1af946[_0x228625(0x5bc)]?.[_0x228625(0x337)]||_0x1af946[_0x228625(0x722)]?.[_0x228625(0x337)])_0x5543dc[_0x228625(0x2f5)]((0x0,w['sha256'])(Buffer['from'](_0x2d3b80))[_0x228625(0x1cf)](_0x228625(0x1e0)))>-0x1&&_0x361574[_0x228625(0x44c)](_0x2d3b80);return _0x361574;}}return null;},this[_0x4ddd7a(0x3d2)]=(_0x556120,_0x3c68cb,_0x11f778)=>{const _0x503dc4=_0x4ddd7a;let _0x101be6=_0x3c68cb?_0x556120[_0x3c68cb]:void 0x0,_0x19495b={},_0x2a34f4=null,_0x1b40dd=null,_0x2cd875=null;if(_0x556120[_0x503dc4(0x61d)]?_0x101be6=_0x556120[_0x503dc4(0x61d)][_0x503dc4(0x1cb)][_0x3c68cb]:_0x556120[_0x503dc4(0x558)]?_0x101be6=_0x556120[_0x503dc4(0x558)][_0x503dc4(0x1cb)][_0x3c68cb]:_0x556120[_0x503dc4(0x559)]?_0x101be6=_0x556120[_0x503dc4(0x559)][_0x503dc4(0x1cb)][_0x3c68cb]:_0x556120[_0x503dc4(0x5b1)]?.[_0x503dc4(0x1cb)]?.[_0x503dc4(0x459)]?.[_0x503dc4(0x5b1)]?(_0x2a34f4=_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)][_0x503dc4(0x459)]['key']['id'],_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)][_0x503dc4(0x459)][_0x503dc4(0x5b1)][_0x503dc4(0x59e)]?_0x101be6=_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)][_0x503dc4(0x459)][_0x503dc4(0x5b1)][_0x503dc4(0x59e)]:_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)][_0x503dc4(0x459)][_0x503dc4(0x5b1)][_0x503dc4(0x326)]?_0x101be6=_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)]['protocolMessage'][_0x503dc4(0x5b1)]['imageMessage'][_0x503dc4(0x430)]:_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)][_0x503dc4(0x459)][_0x503dc4(0x5b1)][_0x503dc4(0x3a4)]?_0x101be6=_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)][_0x503dc4(0x459)][_0x503dc4(0x5b1)][_0x503dc4(0x3a4)][_0x503dc4(0x430)]:_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)][_0x503dc4(0x459)][_0x503dc4(0x5b1)][_0x503dc4(0x28e)]?_0x101be6=_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)][_0x503dc4(0x459)][_0x503dc4(0x5b1)]['documentWithCaptionMessage'][_0x503dc4(0x1cb)]['documentMessage'][_0x503dc4(0x430)]:_0x101be6=_0x556120[_0x503dc4(0x5b1)][_0x503dc4(0x1cb)]['protocolMessage']['editedMessage']):_0x101be6=_0x556120[_0x3c68cb],!_0x3c68cb||!_0x101be6)return console[_0x503dc4(0x6b1)]('Unknown\x20message\x20type\x20or\x20empty\x20message',_0x556120),{'messageType':_0x3c68cb,'messageContent':_0x101be6,'message_normalized':{}};_0x556120[_0x3c68cb]?.['contextInfo']?.[_0x503dc4(0x39b)]&&_0x556120[_0x3c68cb]?.[_0x503dc4(0x42c)]?.[_0x503dc4(0x440)]&&(_0x1b40dd=_0x556120[_0x3c68cb][_0x503dc4(0x42c)][_0x503dc4(0x39b)]),_0x556120[_0x503dc4(0x478)]&&(_0x2cd875=_0x556120['reactionMessage']['key']['id']);let _0x5e8508;if(_0x101be6&&typeof _0x101be6==_0x503dc4(0x54b)&&_0x503dc4(0x71b)in _0x101be6&&({pollCreationMessageKey:_0x5e8508}=_0x101be6),_0x3c68cb===_0x503dc4(0x28e)){let _0x550004=_0x101be6?.[_0x503dc4(0x1cb)]?.[_0x503dc4(0x72a)];_0x550004&&(_0x101be6=_0x550004);}if(_0x3c68cb==='pollCreationMessage'||_0x3c68cb===_0x503dc4(0x722)||_0x3c68cb===_0x503dc4(0x5bc)){let _0x58f6ed=_0x101be6[_0x503dc4(0x337)][_0x503dc4(0x3e9)](_0x439a36=>_0x439a36[_0x503dc4(0x28f)])[_0x503dc4(0x262)]('|');_0x19495b[_0x503dc4(0x3b0)]=_0x58f6ed;}let _0x4e5ae2=_0x101be6['name']||_0x101be6[_0x503dc4(0x430)]||_0x101be6[_0x503dc4(0x59e)]||_0x101be6[_0x503dc4(0x6a1)];if(_0x101be6['vcard']){let _0x58fe27=this[_0x503dc4(0x4f5)](JSON[_0x503dc4(0x24c)](_0x101be6[_0x503dc4(0x68b)],null,0x2));_0x4e5ae2=_0x4e5ae2+'\x0a'+_0x58fe27;}if(_0x101be6){let {displayName:_0x43d92d,vcard:_0x211f81,contactVcard:_0x28ea20,name:_0x3b8be1,caption:_0x41b4ac,conversation:_0x50cd70,pollCreationMessageKey:_0x266821,footerText:_0x2fde16,contentText:_0x585431,pageCount:_0x8790fb,headerType:_0x29294b,isAvatar:_0x1c1e4c,isAnimated:_0x56b4d7,fallbackLc:_0x31e624,fallbackLg:_0x426604,namespace:_0x2a08d2,elementName:_0xd82714,localizableParams:_0x4f06a4,viewOnce:_0x86a36f,height:_0x84da92,width:_0x95ca2d,key:_0x51e06a,firstScanLength:_0x530310,firstScanSidecar:_0x21d87f,gifPlayback:_0x215047,gifAttribution:_0x5dd1ab,midQualityFileSha256:_0x3aba37,scansSidecar:_0x171c6a,streamingSidecar:_0x24b851,thumbnailHeight:_0x3dab1a,thumbnailWidth:_0xdbbe5b,thumbnailEncSha256:_0x571e3b,thumbnailDirectPath:_0x2abef7,canonicalUrl:_0x25c02c,matchedText:_0x474b77,previewType:_0x2823d3,thumbnailSha256:_0x4df436,deviceListMetadataVersion:_0x130279,inviteLinkGroupTypeV2:_0x42e349,interactiveAnnotations:_0x453efe,scanLengths:_0x28b896,jpegThumbnail:_0x737bc9,url:_0x3272a0,mediaKeyTimestamp:_0x261f4a,waveform:_0xb924e6,stickerSentTs:_0x5af63e,firstFrameLength:_0x371a2f,fileEncSha256:_0x4d60b8,contextInfo:_0x2c7055,firstFrameSidecar:_0x981306,directPath:_0x2d2943,fileSha256:_0x584640,mediaKey:_0x18121a,senderTimestampMs:_0x5050e5,..._0x331de9}=_0x101be6;typeof _0x101be6=='string'?_0x19495b={'text':_0x101be6,'type':_0x3c68cb||_0x503dc4(0x59e),..._0x2a34f4&&{'edited':_0x2a34f4},..._0x1b40dd&&{'quoted':_0x1b40dd},..._0x2cd875&&{'reaction':_0x2cd875}}:_0x19495b={'text':_0x4e5ae2,..._0x331de9,..._0x3c68cb===_0x503dc4(0x210)?{'poll_id':_0x101be6[_0x503dc4(0x71b)]['id'],'vote':_0x11f778}:{},'type':_0x3c68cb,..._0x2a34f4&&{'edited':_0x2a34f4},..._0x1b40dd&&{'quoted':_0x1b40dd},..._0x2cd875&&{'reaction':_0x2cd875},...(_0x3c68cb==='pollCreationMessage'||_0x3c68cb===_0x503dc4(0x722)||_0x3c68cb==='pollCreationMessageV3')&&{'convertedOptions':_0x19495b['convertedOptions']}};}return{'messageType':_0x3c68cb,'messageContent':_0x101be6,'message_normalized':_0x19495b};},this[_0x4ddd7a(0x270)]=null,this[_0x4ddd7a(0x5a0)]=0x0,this[_0x4ddd7a(0x63e)]=null,(this[_0x4ddd7a(0x339)](),this[_0x4ddd7a(0x3f3)][_0x4ddd7a(0x279)]={'count':0x0});}set[a0_0x6619de(0x524)](_0xa69e43){const _0x156c3f=a0_0x6619de;if(!_0xa69e43){this['instance']['name']=(0x0,Ya['v4'])();return;}this[_0x156c3f(0x3f3)][_0x156c3f(0x5c4)]=_0xa69e43,this['sendDataWebhook'](_0x156c3f(0x3ad),{'instance':this[_0x156c3f(0x3f3)][_0x156c3f(0x5c4)],'status':_0x156c3f(0x61c)});}get[a0_0x6619de(0x524)](){const _0xe9b48c=a0_0x6619de;return this[_0xe9b48c(0x3f3)][_0xe9b48c(0x5c4)];}get[a0_0x6619de(0x4cc)](){const _0x382c80=a0_0x6619de;return this[_0x382c80(0x3f3)][_0x382c80(0x4cc)];}async[a0_0x6619de(0x33c)](){const _0x30fff6=a0_0x6619de;let _0x1cc327=this[_0x30fff6(0x5a6)][_0x30fff6(0x217)]?.[_0x30fff6(0x5c4)]??this[_0x30fff6(0x5a6)][_0x30fff6(0x217)]?.[_0x30fff6(0x379)];if(!_0x1cc327){if(this[_0x30fff6(0x42e)][_0x30fff6(0x39d)](_0x30fff6(0x647))['ENABLED']){let _0x44761f=await M['getClient']()['db'](this['configService'][_0x30fff6(0x39d)]('DATABASE')['CONNECTION'][_0x30fff6(0x731)]+_0x30fff6(0x4ae))[_0x30fff6(0x4a9)](this['instanceName'])[_0x30fff6(0x47a)]({'_id':_0x30fff6(0x4a1)});if(_0x44761f){let _0x418edc=JSON[_0x30fff6(0x614)](JSON[_0x30fff6(0x24c)](_0x44761f),w[_0x30fff6(0x50f)][_0x30fff6(0x677)]);_0x1cc327=_0x418edc['me']?.['name']||_0x418edc['me']?.['verifiedName'];}}else{if((0x0,Te[_0x30fff6(0x702)])((0x0,$['join'])(j,this[_0x30fff6(0x524)],_0x30fff6(0x1c4)))){let _0x3b3e03=JSON[_0x30fff6(0x614)]((0x0,Te['readFileSync'])((0x0,$['join'])(j,this[_0x30fff6(0x524)],_0x30fff6(0x1c4)),{'encoding':_0x30fff6(0x6be)}));_0x1cc327=_0x3b3e03['me']?.[_0x30fff6(0x5c4)]||_0x3b3e03['me']?.['verifiedName'];}}}return _0x1cc327;}get[a0_0x6619de(0x1d5)](){const _0xf7260a=a0_0x6619de;return this[_0xf7260a(0x3f3)][_0xf7260a(0x1d5)];}get[a0_0x6619de(0x50a)](){const _0x5aed4e=a0_0x6619de;return{'code':this[_0x5aed4e(0x3f3)][_0x5aed4e(0x279)]?.[_0x5aed4e(0x639)],'base64':this['instance']['qrcode']?.[_0x5aed4e(0x4cf)]};}async[a0_0x6619de(0x497)](){const _0x4008c4=a0_0x6619de;let _0x147540=await this[_0x4008c4(0x331)]['webhook']['find'](this['instanceName']);this[_0x4008c4(0x6ee)][_0x4008c4(0x751)]=_0x147540?.[_0x4008c4(0x751)],this[_0x4008c4(0x6ee)]['enabled']=_0x147540?.['enabled'],this['localWebhook'][_0x4008c4(0x18c)]=_0x147540?.[_0x4008c4(0x18c)],this[_0x4008c4(0x6ee)]['STATUS_INSTANCE']=_0x147540?.[_0x4008c4(0x18e)],this[_0x4008c4(0x6ee)][_0x4008c4(0x739)]=_0x147540?.[_0x4008c4(0x739)],this[_0x4008c4(0x6ee)][_0x4008c4(0x423)]=_0x147540?.[_0x4008c4(0x423)],this[_0x4008c4(0x6ee)][_0x4008c4(0x428)]=_0x147540?.[_0x4008c4(0x428)],this[_0x4008c4(0x6ee)][_0x4008c4(0x31e)]=_0x147540?.['MESSAGES_UPDATE'],this['localWebhook'][_0x4008c4(0x486)]=_0x147540?.[_0x4008c4(0x486)],this[_0x4008c4(0x6ee)]['GROUPS_UPDATE']=_0x147540?.[_0x4008c4(0x23a)],this[_0x4008c4(0x6ee)]['GROUP_PARTICIPANTS_UPDATE']=_0x147540?.[_0x4008c4(0x4fb)],this[_0x4008c4(0x6ee)][_0x4008c4(0x70a)]=_0x147540?.[_0x4008c4(0x70a)],this[_0x4008c4(0x6ee)][_0x4008c4(0x3ac)]=_0x147540?.[_0x4008c4(0x3ac)],this[_0x4008c4(0x6ee)][_0x4008c4(0x5d9)]=_0x147540?.[_0x4008c4(0x5d9)],this[_0x4008c4(0x6ee)][_0x4008c4(0x5bd)]=_0x147540?.[_0x4008c4(0x5bd)],this[_0x4008c4(0x6ee)][_0x4008c4(0x1a4)]=_0x147540?.[_0x4008c4(0x1a4)],this[_0x4008c4(0x6ee)][_0x4008c4(0x213)]=_0x147540?.['CONTACTS_UPSERT'],this[_0x4008c4(0x6ee)][_0x4008c4(0x2fa)]=_0x147540?.[_0x4008c4(0x2fa)],this[_0x4008c4(0x6ee)]['PRESENCE_UPDATE']=_0x147540?.[_0x4008c4(0x1a1)],this[_0x4008c4(0x6ee)][_0x4008c4(0x4f2)]=_0x147540?.[_0x4008c4(0x4f2)],this[_0x4008c4(0x6ee)][_0x4008c4(0x30f)]=_0x147540?.[_0x4008c4(0x30f)],this[_0x4008c4(0x6ee)]['groups_ignore']=_0x147540?.[_0x4008c4(0x6d7)];}async[a0_0x6619de(0x27a)](_0x450be7){const _0x1cc1cf=a0_0x6619de;let _0x137fd6=[_0x1cc1cf(0x519),_0x1cc1cf(0x751),'enabled',_0x1cc1cf(0x18c),_0x1cc1cf(0x18e),_0x1cc1cf(0x739),_0x1cc1cf(0x31e),'MESSAGES_UPSERT','SEND_MESSAGE',_0x1cc1cf(0x486),_0x1cc1cf(0x23a),_0x1cc1cf(0x4fb),_0x1cc1cf(0x70a),_0x1cc1cf(0x3ac),_0x1cc1cf(0x5d9),'CHATS_DELETE',_0x1cc1cf(0x1a4),_0x1cc1cf(0x213),_0x1cc1cf(0x2fa),'PRESENCE_UPDATE','MESSAGES_SET',_0x1cc1cf(0x30f),_0x1cc1cf(0x6d7)],_0x43d028={};return _0x137fd6['forEach'](_0x32ddbb=>{_0x450be7[_0x32ddbb]!==void 0x0&&(_0x43d028[_0x32ddbb]=_0x450be7[_0x32ddbb]);}),await this['repository'][_0x1cc1cf(0x23f)]['create'](_0x43d028,this[_0x1cc1cf(0x524)]),Object[_0x1cc1cf(0x252)](this[_0x1cc1cf(0x6ee)],_0x43d028),await this[_0x1cc1cf(0x331)][_0x1cc1cf(0x23f)][_0x1cc1cf(0x451)](this[_0x1cc1cf(0x524)]);}async['findWebhook'](){const _0x4fd39e=a0_0x6619de;return await this[_0x4fd39e(0x331)][_0x4fd39e(0x23f)][_0x4fd39e(0x451)](this['instanceName']);}async[a0_0x6619de(0x2ca)](_0x229219,_0x154b63){const _0x20b2c8=a0_0x6619de;let _0xbf7d10=this[_0x20b2c8(0x42e)][_0x20b2c8(0x39d)](_0x20b2c8(0x6f4)),_0x68d476=_0x229219['replace'](/[\.-]/gm,'_')[_0x20b2c8(0x448)](),_0xc2e627=this['localWebhook'][_0x20b2c8(0x3f1)]&&(0x0,O['isURL'])(this[_0x20b2c8(0x6ee)][_0x20b2c8(0x751)])?this['localWebhook'][_0x20b2c8(0x751)]+(this['localWebhook'][_0x20b2c8(0x18c)]?this[_0x20b2c8(0x547)][_0x229219]:''):null,_0x284e8c=_0xbf7d10?.[_0x20b2c8(0x305)],_0x108bb5=_0x284e8c&&_0x284e8c?.[_0x20b2c8(0x38c)]&&(0x0,O[_0x20b2c8(0x5ca)])(_0x284e8c['URL'])?_0x284e8c[_0x20b2c8(0x551)]+(_0xbf7d10[_0x20b2c8(0x28c)]?this[_0x20b2c8(0x547)][_0x229219]:''):null,_0x496c8a=this['localWebhook'][_0x68d476],_0x351fa1=_0xbf7d10?.[_0x20b2c8(0x6f3)]?.[_0x68d476];if(_0x496c8a&&_0xc2e627)try{await ce[_0x20b2c8(0x411)][_0x20b2c8(0x1db)]({'baseURL':_0xc2e627})['post']('',{'event':_0x229219,'instance':this[_0x20b2c8(0x3f3)]['name'],'data':_0x154b63}),this[_0x20b2c8(0x5a9)][_0x20b2c8(0x49a)](_0x20b2c8(0x1b7)+_0x229219+':\x20'+_0xc2e627);}catch(_0x491f03){this[_0x20b2c8(0x5a9)][_0x20b2c8(0x6b1)](this[_0x20b2c8(0x524)]+'\x20('+this[_0x20b2c8(0x3f3)][_0x20b2c8(0x4cc)]+_0x20b2c8(0x68a)+{'local':c[_0x20b2c8(0x5c4)]+_0x20b2c8(0x1aa),'message':_0x491f03?.[_0x20b2c8(0x1cb)],'hostName':_0x491f03?.['hostname'],'syscall':_0x491f03?.[_0x20b2c8(0x625)],'code':_0x491f03?.[_0x20b2c8(0x639)],'error':_0x491f03?.[_0x20b2c8(0x50e)],'stack':_0x491f03?.['stack'],'name':_0x491f03?.[_0x20b2c8(0x5c4)]});}if(_0x351fa1&&_0x108bb5)try{await ce[_0x20b2c8(0x411)][_0x20b2c8(0x1db)]({'baseURL':_0x108bb5})[_0x20b2c8(0x6e6)]('',{'event':_0x229219,'instance':this[_0x20b2c8(0x3f3)][_0x20b2c8(0x5c4)],'data':_0x154b63}),this['logger'][_0x20b2c8(0x49a)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x229219+':\x20'+_0x108bb5);}catch(_0x32dd9f){this[_0x20b2c8(0x5a9)]['error'](this[_0x20b2c8(0x524)]+'\x20('+this[_0x20b2c8(0x3f3)][_0x20b2c8(0x4cc)]+_0x20b2c8(0x68a)+{'local':c[_0x20b2c8(0x5c4)]+_0x20b2c8(0x6bb),'message':_0x32dd9f?.[_0x20b2c8(0x1cb)],'hostName':_0x32dd9f?.[_0x20b2c8(0x661)],'syscall':_0x32dd9f?.[_0x20b2c8(0x625)],'code':_0x32dd9f?.[_0x20b2c8(0x639)],'error':_0x32dd9f?.[_0x20b2c8(0x50e)],'stack':_0x32dd9f?.['stack'],'name':_0x32dd9f?.[_0x20b2c8(0x5c4)]});}}async[a0_0x6619de(0x6f0)]({qr:_0x57af74,connection:_0x1614e6,lastDisconnect:_0x2b89c4}){const _0x210483=a0_0x6619de;if(_0x57af74){if(this[_0x210483(0x3f3)][_0x210483(0x279)]['count']===this[_0x210483(0x42e)][_0x210483(0x39d)]('QRCODE')[_0x210483(0x462)])return this[_0x210483(0x2ca)]('qrcode.updated',{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x210483(0x51e)][_0x210483(0x704)]}),this[_0x210483(0x2ca)](_0x210483(0x1c2),{'instance':this[_0x210483(0x3f3)][_0x210483(0x5c4)],'state':_0x210483(0x304),'statusReason':w['DisconnectReason'][_0x210483(0x3bf)]}),this[_0x210483(0x2ca)](_0x210483(0x3ad),{'instance':this['instance'][_0x210483(0x5c4)],'status':_0x210483(0x4e5)}),this[_0x210483(0x1be)]=!0x0,this['eventEmitter'][_0x210483(0x29c)](_0x210483(0x380),this[_0x210483(0x3f3)][_0x210483(0x5c4)]);this['instance'][_0x210483(0x279)][_0x210483(0x738)]++;let _0x14773e={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x210483(0x506),'dark':_0x210483(0x4a6)}};Xa[_0x210483(0x411)][_0x210483(0x381)](_0x57af74,_0x14773e,(_0x5124f2,_0xa166b4)=>{const _0x294e20=_0x210483;if(_0x5124f2){this['logger'][_0x294e20(0x6b1)](this[_0x294e20(0x524)]+'\x20('+this[_0x294e20(0x3f3)][_0x294e20(0x4cc)]+_0x294e20(0x725)+_0x5124f2[_0x294e20(0x1cf)]());return;}this[_0x294e20(0x3f3)][_0x294e20(0x279)][_0x294e20(0x4cf)]=_0xa166b4,this[_0x294e20(0x3f3)][_0x294e20(0x279)][_0x294e20(0x639)]=_0x57af74,this[_0x294e20(0x2ca)](_0x294e20(0x2e3),{'qrcode':{'instance':this['instance'][_0x294e20(0x5c4)],'code':_0x57af74,'base64':_0xa166b4}});}),Za['default'][_0x210483(0x4e0)](_0x57af74,{'small':!0x0},_0xa423ed=>this[_0x210483(0x5a9)][_0x210483(0x49a)](_0x210483(0x28d)+this['instance'][_0x210483(0x5c4)]+_0x210483(0x51b)+this[_0x210483(0x3f3)][_0x210483(0x279)][_0x210483(0x738)]+'\x20}\x0a'+_0xa423ed));}if(_0x1614e6&&(this[_0x210483(0x54d)]={'state':_0x1614e6,'statusReason':_0x2b89c4?.['error']?.[_0x210483(0x64e)]?.[_0x210483(0x3ff)]??0xc8},this[_0x210483(0x2ca)](_0x210483(0x1c2),{'instance':this['instance'][_0x210483(0x5c4)],...this['stateConnection']})),_0x1614e6==='close'){if(this['reconnectAttempts']++,this[_0x210483(0x52c)][_0x210483(0x44c)](Date[_0x210483(0x387)]()),this['reconnectTimestamps']=this[_0x210483(0x52c)]['filter'](_0x584036=>Date['now']()-_0x584036<this[_0x210483(0x59b)]),_0x2b89c4[_0x210483(0x6b1)]?.['output']?.['statusCode']!==w[_0x210483(0x51e)][_0x210483(0x686)]&&this[_0x210483(0x52c)][_0x210483(0x41d)]<=this[_0x210483(0x536)])await this[_0x210483(0x242)]();else{this['sendDataWebhook'](_0x210483(0x3ad),{'instance':this['instance']['name'],'status':_0x210483(0x4e5)}),this['isConnected']=!0x1;try{this[_0x210483(0x5a9)][_0x210483(0x45d)](this[_0x210483(0x524)]+'\x20('+this['instance'][_0x210483(0x4cc)]+_0x210483(0x1ff));let _0x58c756=await this['repository'][_0x210483(0x1cb)]['deleteAll'](this[_0x210483(0x3f3)][_0x210483(0x4cc)]);_0x58c756[_0x210483(0x36e)]?this['logger'][_0x210483(0x45d)](this[_0x210483(0x524)]+'\x20('+this['instance']['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x210483(0x6b1)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x58c756['error']);}catch(_0x18ae2a){console[_0x210483(0x6b1)](_0x210483(0x27e),_0x18ae2a);}this['delayMessage']!==null&&(this['logger'][_0x210483(0x45d)](this[_0x210483(0x524)]+'\x20('+this[_0x210483(0x3f3)][_0x210483(0x4cc)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x210483(0x1c1)]),this[_0x210483(0x1c1)]=null),this[_0x210483(0x5a9)][_0x210483(0x45d)](this[_0x210483(0x524)]+'\x20('+this[_0x210483(0x3f3)][_0x210483(0x4cc)]+_0x210483(0x45e)),this[_0x210483(0x732)]=null,this['eventEmitter'][_0x210483(0x29c)]('remove.instance',this[_0x210483(0x3f3)]['name'],_0x210483(0x302)),this[_0x210483(0x5a6)]?.['ws']?.[_0x210483(0x74c)](),this['client'][_0x210483(0x3c6)](new Error('Close\x20connection'));}}if(_0x1614e6==='open'){this[_0x210483(0x41a)],this[_0x210483(0x3f3)][_0x210483(0x4cc)]=this['client']['user']['id'][_0x210483(0x613)](/:\d+/,'')[_0x210483(0x613)](_0x210483(0x2b3),''),this[_0x210483(0x3f3)]['profilePictureUrl']=(await this[_0x210483(0x24f)](this[_0x210483(0x3f3)][_0x210483(0x4cc)]+_0x210483(0x2b3)))[_0x210483(0x1d5)];let _0x55a220='Número:\x20'+this[_0x210483(0x3f3)][_0x210483(0x4cc)],_0x1bf8a4=0x28,_0x1715a4=Math[_0x210483(0x700)]((_0x1bf8a4-_0x55a220[_0x210483(0x41d)])/0x2),_0x1a4dbd='\x20'['repeat'](_0x1715a4),_0x38d90c='CONECTADO\x20À\x20UAZAPI',_0x1558f6=_0x210483(0x654)+this[_0x210483(0x3f3)]['name'],_0x1000f6=(''+_0x1a4dbd+_0x55a220+_0x1a4dbd)[_0x210483(0x2aa)](_0x1bf8a4,'\x20'),_0x25beb9=(''+_0x1a4dbd+_0x38d90c+_0x1a4dbd)[_0x210483(0x2aa)](_0x1bf8a4,'\x20'),_0x5b91b5=(''+_0x1a4dbd+_0x1558f6+_0x1a4dbd)[_0x210483(0x2aa)](_0x1bf8a4,'\x20'),_0x2a366c=Math[_0x210483(0x1d9)](_0x1000f6[_0x210483(0x41d)],_0x25beb9[_0x210483(0x41d)],_0x5b91b5[_0x210483(0x41d)]),_0x3b0899=_0x1000f6[_0x210483(0x2aa)](_0x2a366c,'\x20'),_0x302eef=_0x25beb9[_0x210483(0x2aa)](_0x2a366c,'\x20'),_0x188ee1=_0x5b91b5[_0x210483(0x2aa)](_0x2a366c,'\x20');this[_0x210483(0x5a9)][_0x210483(0x2ad)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x210483(0x5fd)](_0x2a366c)+_0x210483(0x1a8)+_0x302eef+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x188ee1+_0x210483(0x489)+_0x3b0899+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x2a366c)+'┘')[_0x210483(0x613)](/^ +/gm,'\x20\x20')),this[_0x210483(0x450)](),this[_0x210483(0x2f7)]=!0x0;}}[a0_0x6619de(0x41a)](){const _0x24ba65=a0_0x6619de;this[_0x24ba65(0x40f)]=0x0,this[_0x24ba65(0x52c)]=[];}async['getMessage'](_0x123285,_0x2cdc6b=!0x1){const _0x119641=a0_0x6619de;try{let _0x5ecf0e=await this[_0x119641(0x331)][_0x119641(0x1cb)][_0x119641(0x451)]({'where':{'owner':this[_0x119641(0x3f3)][_0x119641(0x4cc)],'_id':_0x123285['id']}});return _0x2cdc6b?_0x5ecf0e[0x0]:_0x5ecf0e[0x0][_0x119641(0x1cb)];}catch{return{'conversation':''};}}[a0_0x6619de(0x339)](){const _0x5f4a04=a0_0x6619de;let _0x3ef2cb=this[_0x5f4a04(0x42e)][_0x5f4a04(0x39d)]('STORE'),_0x4ba873=this[_0x5f4a04(0x42e)][_0x5f4a04(0x39d)](_0x5f4a04(0x647));_0x3ef2cb?.[_0x5f4a04(0x190)]&&!_0x4ba873['ENABLED']&&setInterval(()=>{const _0x2a143c=_0x5f4a04;try{for(let [_0x4d2b1c,_0x22aee7]of Object['entries'](_0x3ef2cb))_0x22aee7===!0x0&&(0x0,Dt['execSync'])(_0x2a143c(0x61e)+(0x0,$[_0x2a143c(0x262)])(this[_0x2a143c(0x67f)],_0x4d2b1c[_0x2a143c(0x752)](),this[_0x2a143c(0x3f3)][_0x2a143c(0x4cc)])+'/*.json');}catch{}},(_0x3ef2cb?.[_0x5f4a04(0x190)]??0xe10)*0x3e8);}async[a0_0x6619de(0x482)](){const _0x8c5b41=a0_0x6619de;let _0x287bf6=this[_0x8c5b41(0x42e)][_0x8c5b41(0x39d)](_0x8c5b41(0x647)),_0x5a1ae0=this[_0x8c5b41(0x42e)]['get']('REDIS');return _0x5a1ae0?.[_0x8c5b41(0x38c)]?await ds(_0x5a1ae0,this[_0x8c5b41(0x3f3)][_0x8c5b41(0x5c4)]):_0x287bf6[_0x8c5b41(0x38c)]?await us(this[_0x8c5b41(0x3f3)][_0x8c5b41(0x5c4)]):await(0x0,w['useMultiFileAuthState'])((0x0,$[_0x8c5b41(0x262)])(j,this[_0x8c5b41(0x3f3)][_0x8c5b41(0x5c4)]));}async['AutomateFunctions'](){const _0x4ab7ec=a0_0x6619de;let _0x20652e=()=>Math['floor'](Math[_0x4ab7ec(0x637)]()*0x2711)+0x7d0,_0x17df79=async()=>{const _0x488daf=_0x4ab7ec;if(!this[_0x488daf(0x2f7)]){this[_0x488daf(0x5a9)][_0x488daf(0x45d)](_0x488daf(0x436)),this[_0x488daf(0x4d6)]=!0x1;return;}if(this[_0x488daf(0x3f3)][_0x488daf(0x4cc)]&&this[_0x488daf(0x732)]&&this[_0x488daf(0x1c1)]!==null&&this['delayMessage']!==void 0x0){let _0x27943d=Math[_0x488daf(0x494)](this['delayMessage']/0xea60);this['logger']['verbose'](this[_0x488daf(0x524)]+'\x20('+this[_0x488daf(0x3f3)][_0x488daf(0x4cc)]+_0x488daf(0x665)+_0x27943d+_0x488daf(0x582)),this[_0x488daf(0x4d6)]=!0x1;return;}else this[_0x488daf(0x3f3)][_0x488daf(0x4cc)]&&(this[_0x488daf(0x5a9)]['verbose'](this[_0x488daf(0x524)]+'\x20('+this[_0x488daf(0x3f3)][_0x488daf(0x4cc)]+_0x488daf(0x3ae)),this[_0x488daf(0x732)]||await this[_0x488daf(0x432)](),(this[_0x488daf(0x1c1)]===null||this[_0x488daf(0x1c1)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x488daf(0x4d6)]){let _0x296eea=_0x20652e();this['logger'][_0x488daf(0x45d)](this[_0x488daf(0x524)]+_0x488daf(0x426)+_0x296eea/0x3e8+_0x488daf(0x535)),setTimeout(_0x17df79,_0x296eea);}};if(this[_0x4ab7ec(0x4d6)])return;this[_0x4ab7ec(0x4d6)]=!0x0;let _0x45d927=_0x20652e();setTimeout(_0x17df79,_0x45d927);}async['connectToWhatsapp'](){const _0x5a803c=a0_0x6619de;try{this[_0x5a803c(0x497)](),this[_0x5a803c(0x3f3)][_0x5a803c(0x2a7)]=await this[_0x5a803c(0x482)]();let {version:_0x59f1b6}=await(0x0,w[_0x5a803c(0x6e0)])(),_0x5bc932=this[_0x5a803c(0x42e)][_0x5a803c(0x39d)](_0x5a803c(0x33b)),_0x3a3020=[_0x5bc932[_0x5a803c(0x2ae)],_0x5bc932[_0x5a803c(0x399)],(0x0,eo['release'])()],_0x17f4d3={'auth':{'creds':this['instance']['authState'][_0x5a803c(0x3bd)][_0x5a803c(0x4a1)],'keys':(0x0,w[_0x5a803c(0x230)])(this[_0x5a803c(0x3f3)]['authState']['state'][_0x5a803c(0x5f1)],(0x0,Rt[_0x5a803c(0x411)])({'level':'error'}))},'logger':(0x0,Rt[_0x5a803c(0x411)])({'level':_0x5a803c(0x6b1)}),'printQRInTerminal':!0x1,'browser':_0x3a3020,'version':_0x59f1b6,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x5a803c(0x3e7)],'getMessage':async _0x2ee31b=>await this[_0x5a803c(0x344)](_0x2ee31b),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x5a803c(0x2c9)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x1bccaf=>(!!(_0x1bccaf[_0x5a803c(0x287)]||_0x1bccaf[_0x5a803c(0x533)])&&(_0x1bccaf={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x1bccaf}}}),_0x1bccaf)};return this[_0x5a803c(0x1be)]=!0x1,this[_0x5a803c(0x5a6)]=(0x0,w[_0x5a803c(0x411)])(_0x17f4d3),this[_0x5a803c(0x353)](),this[_0x5a803c(0x5a6)];}catch(_0x588433){throw this[_0x5a803c(0x5a9)][_0x5a803c(0x6b1)](this[_0x5a803c(0x524)]+'\x20('+this[_0x5a803c(0x3f3)][_0x5a803c(0x4cc)]+'):\x20'+_0x588433),new A(_0x588433?.[_0x5a803c(0x1cf)]());}}[a0_0x6619de(0x353)](){const _0x331db0=a0_0x6619de;this[_0x331db0(0x5a6)]['ev'][_0x331db0(0x676)](_0x5b830c=>{const _0x4ab1a0=_0x331db0;if(!this[_0x4ab1a0(0x1be)]){let _0x1d3b71=this[_0x4ab1a0(0x42e)][_0x4ab1a0(0x39d)]('DATABASE');if(_0x5b830c['connection.update']&&this[_0x4ab1a0(0x6f0)](_0x5b830c[_0x4ab1a0(0x1c2)]),_0x5b830c['creds.update']&&this['instance'][_0x4ab1a0(0x2a7)]['saveCreds'](),_0x5b830c[_0x4ab1a0(0x73e)]){let _0x55e9e2=_0x5b830c[_0x4ab1a0(0x73e)];this[_0x4ab1a0(0x17d)]['messaging-history.set'](_0x55e9e2,_0x1d3b71);}if(_0x5b830c['messages.upsert']){let _0x2a0fdc=_0x5b830c[_0x4ab1a0(0x2ff)];this[_0x4ab1a0(0x17d)][_0x4ab1a0(0x2ff)](_0x2a0fdc,_0x1d3b71);}if(_0x5b830c[_0x4ab1a0(0x5a1)]){let _0x14b34c=_0x5b830c[_0x4ab1a0(0x5a1)];this[_0x4ab1a0(0x17d)][_0x4ab1a0(0x5a1)](_0x14b34c,_0x1d3b71);}if(_0x5b830c[_0x4ab1a0(0x201)]){let _0x6e87f1=_0x5b830c[_0x4ab1a0(0x201)];if(this[_0x4ab1a0(0x6ee)]?.[_0x4ab1a0(0x6d7)]&&_0x6e87f1['id'][_0x4ab1a0(0x569)](_0x4ab1a0(0x1b9)))return;this[_0x4ab1a0(0x2ca)](_0x4ab1a0(0x201),_0x6e87f1);}if(!this[_0x4ab1a0(0x6ee)]?.['groups_ignore']){if(_0x5b830c[_0x4ab1a0(0x358)]){let _0x5bd99d=_0x5b830c[_0x4ab1a0(0x358)];this[_0x4ab1a0(0x1d6)][_0x4ab1a0(0x358)](_0x5bd99d);}if(_0x5b830c['groups.update']){let _0x2ccbed=_0x5b830c[_0x4ab1a0(0x4ce)];this[_0x4ab1a0(0x1d6)][_0x4ab1a0(0x4ce)](_0x2ccbed);}if(_0x5b830c[_0x4ab1a0(0x590)]){let _0x63fe21=_0x5b830c[_0x4ab1a0(0x590)];this['groupHandler'][_0x4ab1a0(0x590)](_0x63fe21);}}if(_0x5b830c[_0x4ab1a0(0x259)]){let _0x4e23b6=_0x5b830c['chats.upsert'];this[_0x4ab1a0(0x6f8)][_0x4ab1a0(0x259)](_0x4e23b6,_0x1d3b71);}if(_0x5b830c[_0x4ab1a0(0x340)]){let _0x4e098b=_0x5b830c[_0x4ab1a0(0x340)];this[_0x4ab1a0(0x6f8)]['chats.update'](_0x4e098b,_0x1d3b71);}if(_0x5b830c[_0x4ab1a0(0x532)]){let _0x13a361=_0x5b830c[_0x4ab1a0(0x532)];this['chatHandle'][_0x4ab1a0(0x532)](_0x13a361);}if(_0x5b830c[_0x4ab1a0(0x3e8)]){let _0x54568c=_0x5b830c[_0x4ab1a0(0x3e8)];this[_0x4ab1a0(0x3ea)][_0x4ab1a0(0x3e8)](_0x54568c,_0x1d3b71);}if(_0x5b830c['contacts.update']){let _0x56d920=_0x5b830c['contacts.update'];this[_0x4ab1a0(0x3ea)][_0x4ab1a0(0x4df)](_0x56d920,_0x1d3b71);}}});}['formatBRNumber'](_0x3181be){const _0x98c0b6=a0_0x6619de;let _0x4397a6=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x98c0b6(0x612)](_0x3181be);if(_0x4397a6&&_0x4397a6[0x1]==='55'){let _0x1e5f0b=_0x4397a6[0x2],_0x137b67=_0x4397a6[0x3],_0x1a5586=_0x4397a6[0x4];if(_0x1e5f0b>='31'&&_0x137b67==='9')return _0x4397a6[0x1]+_0x1e5f0b+_0x1a5586;}return _0x3181be;}[a0_0x6619de(0x6e5)](_0x4dc592){const _0x4dbb32=a0_0x6619de;return _0x4dc592[_0x4dbb32(0x569)](_0x4dbb32(0x1b9))||_0x4dc592[_0x4dbb32(0x569)](_0x4dbb32(0x2b3))||_0x4dc592[_0x4dbb32(0x569)](_0x4dbb32(0x60e))?_0x4dc592:(_0x4dc592=_0x4dc592?.['replace'](/\s/g,'')[_0x4dbb32(0x613)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x4dbb32(0x635)]('@')[0x0],_0x4dc592[_0x4dbb32(0x41d)]>=0x12?(_0x4dc592=_0x4dc592['replace'](/[^\d-]/g,''),_0x4dc592+_0x4dbb32(0x1b9)):(_0x4dc592=_0x4dc592[_0x4dbb32(0x613)](/\D/g,''),this['formatBRNumber'](_0x4dc592)+_0x4dbb32(0x2b3)));}async[a0_0x6619de(0x419)](_0x28d34a){const _0x4f872d=a0_0x6619de;let _0x281234=this['createJid'](_0x28d34a['number']),_0x50417e=(await this[_0x4f872d(0x258)]({'numbers':[_0x281234]}))[0x0];if(!_0x50417e[_0x4f872d(0x2e6)]&&!(0x0,w[_0x4f872d(0x3c7)])(_0x50417e['jid']))throw new g(_0x50417e);let _0x4117a1=(0x0,w['isJidGroup'])(_0x281234)?_0x281234:_0x50417e[_0x4f872d(0x6c1)];if((0x0,w[_0x4f872d(0x3c7)])(_0x4117a1))try{await this[_0x4f872d(0x5a6)][_0x4f872d(0x183)](_0x4117a1);}catch{throw new x('Group\x20not\x20found');}try{return await this[_0x4f872d(0x5a6)][_0x4f872d(0x6a7)](_0x4117a1),await this[_0x4f872d(0x5a6)][_0x4f872d(0x67c)](_0x28d34a['presence'],_0x281234),{'status':0xc8,'presence':_0x28d34a['presence']};}catch(_0x5d7436){throw new g(_0x5d7436[_0x4f872d(0x1cf)]());}}async[a0_0x6619de(0x24f)](_0x3f05c4){const _0xaf4916=a0_0x6619de;let _0x1612ce=this[_0xaf4916(0x6e5)](_0x3f05c4);try{return{'wuid':_0x1612ce,'profilePictureUrl':await this[_0xaf4916(0x5a6)][_0xaf4916(0x1d5)](_0x1612ce,'image')};}catch{return{'wuid':_0x1612ce,'profilePictureUrl':null};}}async[a0_0x6619de(0x730)](_0x593c43,_0x27807f,_0x2192ac){const _0x4678ed=a0_0x6619de;let _0x3f5d96=(await this['whatsappNumber']({'numbers':[_0x593c43]}))[0x0];if(!_0x3f5d96[_0x4678ed(0x2e6)]&&!(0x0,w['isJidGroup'])(_0x3f5d96['jid'])&&!_0x3f5d96[_0x4678ed(0x6c1)][_0x4678ed(0x569)](_0x4678ed(0x60e)))throw new g(_0x3f5d96);let _0x214668=_0x3f5d96[_0x4678ed(0x6c1)];try{_0x2192ac?.[_0x4678ed(0x198)]&&(await this[_0x4678ed(0x5a6)][_0x4678ed(0x6a7)](_0x214668),await this[_0x4678ed(0x5a6)][_0x4678ed(0x67c)](_0x2192ac?.[_0x4678ed(0x6dd)]??'composing',_0x214668),await(0x0,w['delay'])(_0x2192ac[_0x4678ed(0x198)]),await this['client'][_0x4678ed(0x67c)](_0x4678ed(0x18f),_0x214668));let _0x45ccb0=_0x2192ac?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x5a5c93;if(_0x2192ac?.[_0x4678ed(0x4e8)]){let _0x556ded=_0x2192ac?.[_0x4678ed(0x4e8)],_0x3f5c4e=_0x556ded?.[_0x4678ed(0x1cb)]?_0x556ded:await this['getMessage'](_0x556ded[_0x4678ed(0x648)],!0x0);if(!_0x3f5c4e)throw _0x4678ed(0x1ed);_0x5a5c93=_0x3f5c4e;}let _0x42722b;if((0x0,w[_0x4678ed(0x3c7)])(_0x214668))try{let _0x99f108=await this[_0x4678ed(0x5a6)][_0x4678ed(0x183)](_0x214668);if(!_0x99f108)throw new x(_0x4678ed(0x593));_0x2192ac?.[_0x4678ed(0x64a)]&&(_0x2192ac['mentions']?.['everyOne']?_0x42722b=_0x99f108[_0x4678ed(0x2c3)][_0x4678ed(0x3e9)](_0x4b94b1=>_0x4b94b1['id']):_0x2192ac[_0x4678ed(0x64a)]?.['mentioned']?.[_0x4678ed(0x41d)]&&(_0x42722b=_0x2192ac[_0x4678ed(0x64a)][_0x4678ed(0x588)][_0x4678ed(0x3e9)](_0x2e2f12=>{const _0x4fa12f=_0x4678ed;let _0x41ab88=this['createJid'](_0x2e2f12);return(0x0,w[_0x4fa12f(0x3c7)])(_0x41ab88)?null:_0x41ab88;})));}catch{throw new x(_0x4678ed(0x593));}let _0x16c45f=await((async()=>{const _0x57b500=_0x4678ed;let _0x394cd4={'quoted':_0x5a5c93};if(!_0x27807f[_0x57b500(0x368)]&&!_0x27807f[_0x57b500(0x50b)]&&!_0x27807f[_0x57b500(0x1b8)]&&!_0x27807f[_0x57b500(0x59e)]&&_0x214668!=='status@broadcast'&&!_0x27807f[_0x57b500(0x368)])return await this[_0x57b500(0x5a6)][_0x57b500(0x1df)](_0x214668,{'forward':{'key':{'remoteJid':this[_0x57b500(0x3f3)]['wuid'],'fromMe':!0x0},'message':_0x27807f},'mentions':_0x42722b},_0x394cd4);if(_0x27807f[_0x57b500(0x59e)]){let _0x4aa672=_0x27807f['conversation'];return _0x2192ac?.[_0x57b500(0x51d)]&&(_0x4aa672=await this[_0x57b500(0x35a)](_0x4aa672,_0x214668)),await this[_0x57b500(0x5a6)][_0x57b500(0x1df)](_0x214668,{'text':_0x4aa672,'mentions':_0x42722b,'linkPreview':_0x45ccb0},_0x394cd4);}return _0x214668===_0x57b500(0x573)?await this[_0x57b500(0x5a6)][_0x57b500(0x1df)](_0x214668,_0x27807f[_0x57b500(0x3cc)][_0x57b500(0x4d0)],{'backgroundColor':_0x27807f[_0x57b500(0x3cc)][_0x57b500(0x398)][_0x57b500(0x3ab)],'font':_0x27807f[_0x57b500(0x3cc)][_0x57b500(0x398)][_0x57b500(0x749)],'statusJidList':_0x27807f[_0x57b500(0x3cc)]['option']['statusJidList']}):await this[_0x57b500(0x5a6)][_0x57b500(0x1df)](_0x214668,_0x27807f,_0x394cd4);})()),{message_normalized:_0x2bdd32}=this['normalizeMessage'](_0x16c45f['message'],J(_0x16c45f[_0x4678ed(0x1cb)]),null),_0x36e8e9={'_id':_0x16c45f[_0x4678ed(0x648)]['id'],'key':_0x16c45f[_0x4678ed(0x648)],'pushName':_0x16c45f[_0x4678ed(0x2f4)],'message':{..._0x16c45f[_0x4678ed(0x1cb)]},'messageType':J(_0x16c45f[_0x4678ed(0x1cb)]),'message_normalized':{'key':_0x16c45f[_0x4678ed(0x648)],'pushName':_0x16c45f[_0x4678ed(0x2f4)],'messageTimestamp':_0x16c45f[_0x4678ed(0x457)]&&_0x16c45f[_0x4678ed(0x457)][_0x4678ed(0x1cf)]()[_0x4678ed(0x41d)]<0xd?_0x16c45f['messageTimestamp']*0x3e8:_0x16c45f[_0x4678ed(0x457)]||null,'source':(0x0,w['getDevice'])(_0x16c45f[_0x4678ed(0x648)]['id']),..._0x2bdd32},'messageTimestamp':_0x16c45f[_0x4678ed(0x457)]&&_0x16c45f[_0x4678ed(0x457)][_0x4678ed(0x1cf)]()[_0x4678ed(0x41d)]<0xd?_0x16c45f[_0x4678ed(0x457)]*0x3e8:_0x16c45f[_0x4678ed(0x457)]||null,'owner':this['instance'][_0x4678ed(0x4cc)],'source':(0x0,w[_0x4678ed(0x5c3)])(_0x16c45f[_0x4678ed(0x648)]['id'])};return this['logger'][_0x4678ed(0x49a)](_0x36e8e9),await this['sendDataWebhook'](_0x4678ed(0x356),_0x36e8e9),q(this[_0x4678ed(0x524)],_0x4678ed(0x48d),{'message':_0x36e8e9}),this[_0x4678ed(0x43e)](this['configService']['get'](_0x4678ed(0x647)),_0x36e8e9,_0x4678ed(0x423)),await this['repository'][_0x4678ed(0x1cb)][_0x4678ed(0x18a)]([_0x36e8e9]),_0x16c45f;}catch(_0xd44106){throw this[_0x4678ed(0x5a9)]['error'](this[_0x4678ed(0x524)]+'\x20('+this['instance'][_0x4678ed(0x4cc)]+'):\x20'+_0xd44106[_0x4678ed(0x1cf)]()),new g(_0xd44106[_0x4678ed(0x1cf)]());}}get[a0_0x6619de(0x3ee)](){const _0x134b78=a0_0x6619de;return this[_0x134b78(0x54d)];}async[a0_0x6619de(0x655)](_0x52e4ca){const _0x201029=a0_0x6619de;let _0x31fa90=this['configService'][_0x201029(0x39d)](_0x201029(0x737)),_0x107472=this[_0x201029(0x42e)][_0x201029(0x39d)]('TRIAL_INSTANCE_NAME');return _0x107472&&this[_0x201029(0x524)]['toLowerCase']()[_0x201029(0x569)](_0x107472[_0x201029(0x752)]())&&(_0x52e4ca[_0x201029(0x655)][_0x201029(0x2e2)]+='\x0a\x0a'+_0x31fa90),await this[_0x201029(0x730)](_0x52e4ca[_0x201029(0x2e5)],{'conversation':_0x52e4ca[_0x201029(0x655)][_0x201029(0x2e2)]},_0x52e4ca?.['options']);}async[a0_0x6619de(0x433)](_0x46fbc8){const _0x4720a4=a0_0x6619de;if(!_0x46fbc8[_0x4720a4(0x395)])throw new g(_0x4720a4(0x691));if(!_0x46fbc8[_0x4720a4(0x4d0)])throw new g('Content\x20is\x20required');if(_0x46fbc8[_0x4720a4(0x651)]){let _0x43111a=await this[_0x4720a4(0x331)]['contact']['find']({'where':{'owner':this['instance'][_0x4720a4(0x4cc)]}});if(!_0x43111a[_0x4720a4(0x41d)])throw new g(_0x4720a4(0x4b6));_0x46fbc8['statusJidList']=_0x43111a['filter'](_0x562b4f=>_0x562b4f['pushName'])[_0x4720a4(0x3e9)](_0x5b9cc9=>_0x5b9cc9['_id']);}if(!_0x46fbc8[_0x4720a4(0x62b)]?.[_0x4720a4(0x41d)]&&!_0x46fbc8[_0x4720a4(0x651)])throw new g(_0x4720a4(0x58c));if(_0x46fbc8[_0x4720a4(0x395)]===_0x4720a4(0x2e2)){if(!_0x46fbc8['backgroundColor'])throw new g(_0x4720a4(0x56b));if(!_0x46fbc8[_0x4720a4(0x749)])throw new g(_0x4720a4(0x5f2));return{'content':{'text':_0x46fbc8[_0x4720a4(0x4d0)]},'option':{'backgroundColor':_0x46fbc8['backgroundColor'],'font':_0x46fbc8[_0x4720a4(0x749)],'statusJidList':_0x46fbc8['statusJidList']}};}if(_0x46fbc8['type']===_0x4720a4(0x378))return{'content':{'image':{'url':_0x46fbc8[_0x4720a4(0x4d0)]},'caption':_0x46fbc8[_0x4720a4(0x430)]},'option':{'statusJidList':_0x46fbc8['statusJidList']}};if(_0x46fbc8[_0x4720a4(0x395)]===_0x4720a4(0x5f4))return{'content':{'video':{'url':_0x46fbc8[_0x4720a4(0x4d0)]},'caption':_0x46fbc8[_0x4720a4(0x430)]},'option':{'statusJidList':_0x46fbc8[_0x4720a4(0x62b)]}};if(_0x46fbc8[_0x4720a4(0x395)]===_0x4720a4(0x368)){this[_0x4720a4(0x5a9)][_0x4720a4(0x45d)](_0x4720a4(0x5a7)),this[_0x4720a4(0x5a9)][_0x4720a4(0x45d)](_0x4720a4(0x1da));let _0x8bded1=await this['convertaudio'](_0x46fbc8[_0x4720a4(0x4d0)]);if(typeof _0x8bded1==_0x4720a4(0x3a5)){this[_0x4720a4(0x5a9)][_0x4720a4(0x45d)]('Audio\x20processed');let _0x4119a4=P[_0x4720a4(0x22f)](_0x8bded1)[_0x4720a4(0x1cf)](_0x4720a4(0x4cf)),_0x2a3374={'content':{'audio':Buffer['from'](_0x4119a4,_0x4720a4(0x4cf)),'ptt':!0x0,'mimetype':_0x4720a4(0x314)},'option':{'statusJidList':_0x46fbc8['statusJidList']}};return P[_0x4720a4(0x5eb)](_0x8bded1),_0x2a3374;}else throw new A(_0x8bded1);}throw new g('Type\x20not\x20found');}async[a0_0x6619de(0x2dd)](_0x497042){const _0x1e34eb=a0_0x6619de;return await this[_0x1e34eb(0x730)](_0x1e34eb(0x573),{'status':await this[_0x1e34eb(0x433)](_0x497042[_0x1e34eb(0x2dd)])});}async[a0_0x6619de(0x316)](_0x138569){const _0x356442=a0_0x6619de;try{let _0x524601=await(0x0,w['prepareWAMessageMedia'])({[_0x138569[_0x356442(0x2a4)]]:(0x0,O[_0x356442(0x5ca)])(_0x138569['media'])?{'url':_0x138569[_0x356442(0x52b)]}:Buffer[_0x356442(0x734)](_0x138569['media'],'base64')},{'upload':this[_0x356442(0x5a6)][_0x356442(0x24d)]}),_0x1ae401=_0x138569[_0x356442(0x2a4)]+_0x356442(0x186);if(_0x138569[_0x356442(0x2a4)]===_0x356442(0x2c1)&&!_0x138569[_0x356442(0x64d)]){let _0x16d2e1=new RegExp(/.*\/(.+?)\./)[_0x356442(0x612)](_0x138569[_0x356442(0x52b)]);_0x138569[_0x356442(0x64d)]=_0x16d2e1?_0x16d2e1[0x1]:null;}let _0x5e93aa=(0x0,O[_0x356442(0x5ca)])(_0x138569[_0x356442(0x52b)])?_0x138569[_0x356442(0x52b)][_0x356442(0x635)]('?')[0x0]:_0x138569[_0x356442(0x52b)];this[_0x356442(0x5a9)][_0x356442(0x45d)](_0x356442(0x21a)+_0x5e93aa);let _0x441b8f;_0x138569[_0x356442(0x64d)]?_0x441b8f=(0x0,Mt[_0x356442(0x214)])(_0x138569[_0x356442(0x64d)]):(0x0,O[_0x356442(0x5ca)])(_0x138569[_0x356442(0x52b)])?_0x441b8f=(0x0,Mt[_0x356442(0x214)])(_0x5e93aa):_0x441b8f=(0x0,Mt[_0x356442(0x214)])(_0x138569[_0x356442(0x52b)]);let _0x449623=this[_0x356442(0x42e)]['get'](_0x356442(0x737)),_0x31ae24=this[_0x356442(0x42e)]['get'](_0x356442(0x5e1));return _0x31ae24&&this['instanceName']['toLowerCase']()[_0x356442(0x569)](_0x31ae24[_0x356442(0x752)]())&&(_0x138569['caption']+='\x0a\x0a'+_0x449623),_0x524601[_0x1ae401][_0x356442(0x430)]=_0x138569?.['caption'],_0x524601[_0x1ae401][_0x356442(0x3c0)]=_0x441b8f,_0x524601[_0x1ae401][_0x356442(0x64d)]=_0x138569[_0x356442(0x64d)],_0x138569[_0x356442(0x2a4)]==='video'&&(_0x524601[_0x1ae401][_0x356442(0x458)]=Uint8Array[_0x356442(0x734)]((0x0,Te[_0x356442(0x22f)])((0x0,$[_0x356442(0x262)])(process['cwd'](),_0x356442(0x3a3)))),_0x524601[_0x1ae401][_0x356442(0x1eb)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x1ae401]:{..._0x524601[_0x1ae401]}},{'userJid':this[_0x356442(0x3f3)]['wuid']});}catch(_0x24e13d){throw this[_0x356442(0x5a9)][_0x356442(0x6b1)](this[_0x356442(0x524)]+'\x20('+this[_0x356442(0x3f3)][_0x356442(0x4cc)]+_0x356442(0x68a)+_0x24e13d),new A(_0x24e13d?.[_0x356442(0x1cf)]()||_0x24e13d);}}async[a0_0x6619de(0x3e1)](_0x45d450){const _0x4a9bfd=a0_0x6619de;let _0x7c4889=await this[_0x4a9bfd(0x316)](_0x45d450[_0x4a9bfd(0x3e1)]);return await this['sendMessageWithTyping'](_0x45d450['number'],{..._0x7c4889[_0x4a9bfd(0x1cb)]},_0x45d450?.[_0x4a9bfd(0x337)]);}async['convertToWebP'](_0x450da0,_0x502b69){const _0x22596c=a0_0x6619de;try{this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x3ce));let _0x21db4a,_0x40d725=_0x502b69+'-'+new Date()[_0x22596c(0x72e)]();this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x484)+_0x40d725);let _0x180bde=''+(0x0,$['join'])(this[_0x22596c(0x67f)],_0x40d725+_0x22596c(0x40a));if(this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x520)+_0x180bde),(0x0,O['isBase64'])(_0x450da0)){this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x562));let _0x263e23=_0x450da0['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x22c3d1=Buffer['from'](_0x263e23,_0x22596c(0x4cf));_0x21db4a=''+(0x0,$[_0x22596c(0x262)])(this[_0x22596c(0x67f)],_0x22596c(0x3b9)+_0x40d725+_0x22596c(0x507)),this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x2d4)+_0x21db4a),await(0x0,It[_0x22596c(0x411)])(_0x22c3d1)[_0x22596c(0x22c)](_0x21db4a),this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x30b));}else{this['logger'][_0x22596c(0x45d)](_0x22596c(0x674));let _0x5c9ffa=new Date()['getTime'](),_0xad6a2a=_0x450da0+_0x22596c(0x456)+_0x5c9ffa;this['logger']['verbose'](_0x22596c(0x4a0)+_0xad6a2a);let _0x574a6b=await ce[_0x22596c(0x411)][_0x22596c(0x39d)](_0xad6a2a,{'responseType':_0x22596c(0x254)});this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x315));let _0x514eea=Buffer['from'](_0x574a6b[_0x22596c(0x4b4)],'binary');_0x21db4a=''+(0x0,$[_0x22596c(0x262)])(this[_0x22596c(0x67f)],'temp-'+_0x40d725+_0x22596c(0x507)),this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x2d4)+_0x21db4a),await(0x0,It[_0x22596c(0x411)])(_0x514eea)[_0x22596c(0x22c)](_0x21db4a),this['logger'][_0x22596c(0x45d)](_0x22596c(0x30b));}return await(0x0,It[_0x22596c(0x411)])(_0x21db4a)[_0x22596c(0x29f)]()[_0x22596c(0x22c)](_0x180bde),this[_0x22596c(0x5a9)]['verbose'](_0x22596c(0x504)),P['unlinkSync'](_0x21db4a),this[_0x22596c(0x5a9)][_0x22596c(0x45d)](_0x22596c(0x372)),_0x180bde;}catch(_0x26adec){console[_0x22596c(0x6b1)](_0x22596c(0x6c8),_0x26adec);}}async[a0_0x6619de(0x610)](_0x47d5df){const _0x55487c=a0_0x6619de;let _0x5059f8=await this[_0x55487c(0x27d)](_0x47d5df['stickerMessage'][_0x55487c(0x378)],_0x47d5df['number']),_0x4d959e=await this['sendMessageWithTyping'](_0x47d5df[_0x55487c(0x2e5)],{'sticker':{'url':_0x5059f8}},_0x47d5df?.[_0x55487c(0x337)]);return P['unlinkSync'](_0x5059f8),this[_0x55487c(0x5a9)][_0x55487c(0x45d)](_0x55487c(0x705)),_0x4d959e;}async[a0_0x6619de(0x2d3)](_0x34f2e1){const _0x44e8cc=a0_0x6619de;if(this[_0x44e8cc(0x5a9)][_0x44e8cc(0x45d)](_0x44e8cc(0x74b)),!_0x34f2e1[_0x44e8cc(0x337)]?.[_0x44e8cc(0x386)]&&_0x34f2e1[_0x44e8cc(0x337)]?.[_0x44e8cc(0x386)]!==!0x1&&(_0x34f2e1[_0x44e8cc(0x337)][_0x44e8cc(0x386)]=!0x0),_0x34f2e1['options']?.[_0x44e8cc(0x386)]){let _0x14ee2c=await this[_0x44e8cc(0x69d)](_0x34f2e1[_0x44e8cc(0x2dc)]['audio']);if(typeof _0x14ee2c==_0x44e8cc(0x3a5)){let _0x1657e3=P['readFileSync'](_0x14ee2c)[_0x44e8cc(0x1cf)]('base64'),_0x54bd86=this[_0x44e8cc(0x730)](_0x34f2e1[_0x44e8cc(0x2e5)],{'audio':Buffer[_0x44e8cc(0x734)](_0x1657e3,_0x44e8cc(0x4cf)),'ptt':!0x0,'mimetype':_0x44e8cc(0x314)},{'presence':_0x44e8cc(0x6a4),'delay':_0x34f2e1?.[_0x44e8cc(0x337)]?.[_0x44e8cc(0x198)]});return P['unlinkSync'](_0x14ee2c),this['logger'][_0x44e8cc(0x45d)]('Converted\x20audio\x20deleted'),_0x54bd86;}else throw new A(_0x14ee2c);}return await this[_0x44e8cc(0x730)](_0x34f2e1[_0x44e8cc(0x2e5)],{'audio':(0x0,O[_0x44e8cc(0x5ca)])(_0x34f2e1[_0x44e8cc(0x2dc)][_0x44e8cc(0x368)])?{'url':_0x34f2e1[_0x44e8cc(0x2dc)]['audio']}:Buffer[_0x44e8cc(0x734)](_0x34f2e1[_0x44e8cc(0x2dc)][_0x44e8cc(0x368)],_0x44e8cc(0x4cf)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x34f2e1?.[_0x44e8cc(0x337)]?.[_0x44e8cc(0x198)]});}async['convertaudio'](_0x4004ac){const _0x2c28bc=a0_0x6619de;this[_0x2c28bc(0x5a9)]['verbose'](_0x2c28bc(0x1da));let _0x296d96,_0x8882a2,_0x301f0b=(0x0,At['v4'])();if(this[_0x2c28bc(0x5a9)][_0x2c28bc(0x45d)]('Hash\x20to\x20audio\x20name:\x20'+_0x301f0b),(0x0,O['isURL'])(_0x4004ac)){this['logger'][_0x2c28bc(0x45d)](_0x2c28bc(0x719)),_0x8882a2=''+(0x0,$[_0x2c28bc(0x262)])(this[_0x2c28bc(0x67f)],_0x301f0b+'.mp4'),_0x296d96=''+(0x0,$[_0x2c28bc(0x262)])(this['storePath'],'temp-'+_0x301f0b+_0x2c28bc(0x5d6)),this['logger'][_0x2c28bc(0x45d)]('Output\x20audio\x20path:\x20'+_0x8882a2),this['logger']['verbose'](_0x2c28bc(0x24a)+_0x296d96);let _0x551112=new Date()[_0x2c28bc(0x72e)](),_0x45399d=_0x4004ac+_0x2c28bc(0x456)+_0x551112;this[_0x2c28bc(0x5a9)][_0x2c28bc(0x45d)]('Including\x20timestamp\x20in\x20url:\x20'+_0x45399d);let _0x190b4a=await ce[_0x2c28bc(0x411)][_0x2c28bc(0x39d)](_0x45399d,{'responseType':_0x2c28bc(0x254)});this[_0x2c28bc(0x5a9)][_0x2c28bc(0x45d)]('Getting\x20audio\x20from\x20url'),P[_0x2c28bc(0x56c)](_0x296d96,_0x190b4a['data']);}else{this[_0x2c28bc(0x5a9)]['verbose'](_0x2c28bc(0x384)),_0x8882a2=''+(0x0,$['join'])(this['storePath'],_0x301f0b+_0x2c28bc(0x390)),_0x296d96=''+(0x0,$[_0x2c28bc(0x262)])(this[_0x2c28bc(0x67f)],'temp-'+_0x301f0b+_0x2c28bc(0x5d6)),this[_0x2c28bc(0x5a9)][_0x2c28bc(0x45d)](_0x2c28bc(0x4bc)+_0x8882a2),this[_0x2c28bc(0x5a9)][_0x2c28bc(0x45d)](_0x2c28bc(0x24a)+_0x296d96);let _0xf031ed=Buffer['from'](_0x4004ac,_0x2c28bc(0x4cf));P[_0x2c28bc(0x56c)](_0x296d96,_0xf031ed),this[_0x2c28bc(0x5a9)][_0x2c28bc(0x45d)](_0x2c28bc(0x47d));}return this['logger'][_0x2c28bc(0x45d)](_0x2c28bc(0x34c)),new Promise((_0x314dba,_0x740a7b)=>{const _0x15b399=_0x2c28bc;(0x0,Dt[_0x15b399(0x612)])(Qa[_0x15b399(0x411)]['path']+'\x20-i\x20'+_0x296d96+_0x15b399(0x72c)+_0x8882a2+_0x15b399(0x349),_0x5d9df8=>{const _0x53b1b9=_0x15b399;P[_0x53b1b9(0x5eb)](_0x296d96),this['logger'][_0x53b1b9(0x45d)](_0x53b1b9(0x556)),_0x5d9df8&&_0x740a7b(_0x5d9df8),this[_0x53b1b9(0x5a9)][_0x53b1b9(0x45d)]('Audio\x20converted\x20to\x20mp4'),_0x314dba(_0x8882a2);});});}async[a0_0x6619de(0x267)](_0xec133b){const _0x510447=a0_0x6619de;let _0x40daab={},_0x281223='TEXT';if(_0xec133b['buttonMessage']?.[_0x510447(0x3e1)]){_0x281223=_0xec133b[_0x510447(0x267)][_0x510447(0x3e1)]?.[_0x510447(0x2a4)]['toUpperCase']()??_0x510447(0x3d3),_0x40daab[_0x510447(0x1d3)]=_0x281223['toLowerCase']()+_0x510447(0x186);let _0xefbf40=await this[_0x510447(0x316)](_0xec133b[_0x510447(0x267)][_0x510447(0x3e1)]);_0x40daab[_0x510447(0x1cb)]=_0xefbf40[_0x510447(0x1cb)][_0x40daab[_0x510447(0x1d3)]],_0x40daab[_0x510447(0x627)]='*'+_0xec133b[_0x510447(0x267)][_0x510447(0x736)]+'*\x0a\x0a'+_0xec133b[_0x510447(0x267)][_0x510447(0x6c2)];}let _0x4bed67={'text':_0xec133b[_0x510447(0x267)][_0x510447(0x352)][_0x510447(0x3e9)](_0x420ebb=>_0x420ebb[_0x510447(0x264)]),'ids':_0xec133b[_0x510447(0x267)][_0x510447(0x352)][_0x510447(0x3e9)](_0x2a2eaa=>_0x2a2eaa[_0x510447(0x531)])};if(!(0x0,O[_0x510447(0x1ab)])(_0x4bed67[_0x510447(0x2e2)])||!(0x0,O[_0x510447(0x1ab)])(_0x4bed67['ids']))throw new g('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x510447(0x730)](_0xec133b[_0x510447(0x2e5)],{'buttonsMessage':{'text':_0x40daab?.[_0x510447(0x1d3)]?void 0x0:_0xec133b[_0x510447(0x267)][_0x510447(0x736)],'contentText':_0x40daab?.['contentText']??_0xec133b['buttonMessage'][_0x510447(0x6c2)],'footerText':_0xec133b['buttonMessage']?.[_0x510447(0x68c)],'buttons':_0xec133b[_0x510447(0x267)][_0x510447(0x352)][_0x510447(0x3e9)](_0x498066=>({'buttonText':{'displayText':_0x498066['buttonText']},'buttonId':_0x498066[_0x510447(0x531)],'type':0x1})),'headerType':w[_0x510447(0x51c)][_0x510447(0x186)][_0x510447(0x6ec)][_0x510447(0x636)][_0x281223],[_0x40daab?.[_0x510447(0x1d3)]]:_0x40daab?.[_0x510447(0x1cb)]}},_0xec133b?.[_0x510447(0x337)]);}async[a0_0x6619de(0x46f)](_0x41495d){const _0x432e2d=a0_0x6619de;return await this['sendMessageWithTyping'](_0x41495d[_0x432e2d(0x2e5)],{'locationMessage':{'degreesLatitude':_0x41495d[_0x432e2d(0x46f)][_0x432e2d(0x1bd)],'degreesLongitude':_0x41495d[_0x432e2d(0x46f)][_0x432e2d(0x2e8)],'name':_0x41495d['locationMessage']?.[_0x432e2d(0x5c4)],'address':_0x41495d[_0x432e2d(0x46f)]?.[_0x432e2d(0x44b)]}},_0x41495d?.['options']);}async[a0_0x6619de(0x533)](_0x317541){const _0x453aea=a0_0x6619de;return await this[_0x453aea(0x730)](_0x317541[_0x453aea(0x2e5)],{'listMessage':{'title':_0x317541['listMessage']['title'],'description':_0x317541[_0x453aea(0x533)]['description'],'buttonText':_0x317541['listMessage']?.[_0x453aea(0x264)],'footerText':_0x317541[_0x453aea(0x533)]?.[_0x453aea(0x68c)],'sections':_0x317541[_0x453aea(0x533)][_0x453aea(0x6c3)],'listType':0x1}},_0x317541?.[_0x453aea(0x337)]);}async[a0_0x6619de(0x402)](_0x580014){const _0x1a4654=a0_0x6619de;let _0xdf823d={},_0x36bc44=_0x41f58a=>{const _0x5eddb0=a0_0x4391;let _0x3b760a='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x41f58a[_0x5eddb0(0x249)]+_0x5eddb0(0x2be)+_0x41f58a[_0x5eddb0(0x249)]+'\x0a';_0x41f58a['organization']&&(_0x3b760a+=_0x5eddb0(0x256)+_0x41f58a[_0x5eddb0(0x40d)]+';\x0a'),_0x41f58a['email']&&(_0x3b760a+=_0x5eddb0(0x408)+_0x41f58a[_0x5eddb0(0x4d7)]+'\x0a'),_0x41f58a[_0x5eddb0(0x751)]&&(_0x3b760a+=_0x5eddb0(0x652)+_0x41f58a['url']+'\x0a');let _0x3538d7='';return _0x41f58a[_0x5eddb0(0x6a0)]&&_0x41f58a[_0x5eddb0(0x6a0)]['split']('|')[_0x5eddb0(0x2e4)]((_0x2970e7,_0x442247)=>{const _0x361ff8=_0x5eddb0;let _0xa1bfe6=this[_0x361ff8(0x6e5)](_0x2970e7)[_0x361ff8(0x613)]('@s.whatsapp.net','');_0x3538d7+=_0x361ff8(0x209)+(_0x442247+0x1)+'.TEL;waid='+_0xa1bfe6+':'+_0x2970e7+'\x0aitem'+(_0x442247+0x1)+'.X-ABLabel:Celular\x0a';}),_0x3b760a+=_0x3538d7+_0x5eddb0(0x1ac),_0x3b760a;};return _0x580014[_0x1a4654(0x402)][_0x1a4654(0x41d)]===0x1?_0xdf823d['contactMessage']={'displayName':_0x580014['contactMessage'][0x0][_0x1a4654(0x249)],'vcard':_0x36bc44(_0x580014[_0x1a4654(0x402)][0x0])}:_0xdf823d[_0x1a4654(0x37c)]={'displayName':_0x580014[_0x1a4654(0x402)]['length']+_0x1a4654(0x55f),'contacts':_0x580014[_0x1a4654(0x402)][_0x1a4654(0x3e9)](_0x15c218=>({'displayName':_0x15c218['fullName'],'vcard':_0x36bc44(_0x15c218)}))},await this[_0x1a4654(0x730)](_0x580014[_0x1a4654(0x2e5)],{..._0xdf823d},_0x580014?.[_0x1a4654(0x337)]);}async[a0_0x6619de(0x478)](_0x59b574){const _0x2660de=a0_0x6619de;return await this[_0x2660de(0x730)](_0x59b574['reactionMessage'][_0x2660de(0x648)][_0x2660de(0x2fb)],{'reactionMessage':{'key':_0x59b574[_0x2660de(0x478)]['key'],'text':_0x59b574['reactionMessage'][_0x2660de(0x1ee)]}});}async[a0_0x6619de(0x258)](_0x5e8fe3){const _0x492cd3=a0_0x6619de;let _0x1a423b=[];for await(let _0x19c43d of _0x5e8fe3['numbers']){let _0x4245b4=this['createJid'](_0x19c43d);if((0x0,w[_0x492cd3(0x3c7)])(_0x4245b4)){let _0x2b21a8=await this[_0x492cd3(0x418)]({'groupJid':_0x4245b4},_0x492cd3(0x302));_0x1a423b[_0x492cd3(0x44c)](new he(_0x2b21a8['metadata']['id'],!!_0x2b21a8?.['metadata']['id'],_0x2b21a8?.[_0x492cd3(0x278)][_0x492cd3(0x3cb)]));}else try{let _0xfcc59=(await this[_0x492cd3(0x5a6)][_0x492cd3(0x308)](_0x4245b4))[0x0];_0x1a423b[_0x492cd3(0x44c)](new he(_0xfcc59[_0x492cd3(0x6c1)],_0xfcc59[_0x492cd3(0x2e6)]));}catch{_0x1a423b['push'](new he(_0x19c43d,!0x1));}}return _0x1a423b;}async['markMessageAsRead'](_0x4574c2){const _0x3095cc=a0_0x6619de;try{let _0x44b1bf=_0x4574c2[_0x3095cc(0x2ee)][_0x3095cc(0x6e8)](_0xa75c1f=>(0x0,w[_0x3095cc(0x3c7)])(_0xa75c1f[_0x3095cc(0x2fb)])||(0x0,w[_0x3095cc(0x6ca)])(_0xa75c1f[_0x3095cc(0x2fb)]))[_0x3095cc(0x3e9)](_0x3494fe=>({'remoteJid':_0x3494fe[_0x3095cc(0x2fb)],'fromMe':_0x3494fe[_0x3095cc(0x1e3)],'id':_0x3494fe['id']}));await this[_0x3095cc(0x5a6)]['readMessages'](_0x44b1bf);let _0x218f8f=_0x44b1bf[_0x3095cc(0x3e9)](_0xf4c831=>this[_0x3095cc(0x255)](_0xf4c831,_0xf4c831['remoteJid'],{'status':_0x3095cc(0x60d),'owner':this[_0x3095cc(0x3f3)][_0x3095cc(0x4cc)]})),_0x2630d2=_0x44b1bf['map'](_0x58cb1e=>this[_0x3095cc(0x331)][_0x3095cc(0x265)][_0x3095cc(0x59a)]({'where':{'_id':_0x58cb1e['remoteJid'],'owner':this[_0x3095cc(0x3f3)][_0x3095cc(0x4cc)]}},{'unreadcount':0x0})),[_0x165d37,_0x1cf685]=await Promise[_0x3095cc(0x703)]([Promise[_0x3095cc(0x703)](_0x218f8f),Promise[_0x3095cc(0x703)](_0x2630d2)]);return _0x1cf685['filter'](_0x161d9c=>_0x161d9c!==null)[_0x3095cc(0x2e4)](_0xf02c2d=>{const _0x27a61c=_0x3095cc;q(this[_0x27a61c(0x524)],_0x27a61c(0x373),{'chat':_0xf02c2d});}),{'message':_0x3095cc(0x723),'read':_0x3095cc(0x36e)};}catch(_0x56b79b){throw console[_0x3095cc(0x6b1)](_0x3095cc(0x22a),_0x56b79b),new A(_0x3095cc(0x4a8),_0x56b79b[_0x3095cc(0x1cf)]());}}async[a0_0x6619de(0x4ed)](_0x50deae){const _0xd7380b=a0_0x6619de;let _0x3f9eb1=await this[_0xd7380b(0x1f3)]({'where':{'key':{'remoteJid':_0x50deae},'owner':this[_0xd7380b(0x3f3)][_0xd7380b(0x5c4)]}}),_0x2fd5fe=_0x3f9eb1[_0xd7380b(0x383)]();for(let _0x4505d9 of _0x3f9eb1)_0x4505d9['messageTimestamp']>=_0x2fd5fe['messageTimestamp']&&(_0x2fd5fe=_0x4505d9);return _0x2fd5fe;}async['archiveChat'](_0x5402f7){const _0x3571ca=a0_0x6619de;this[_0x3571ca(0x5a9)][_0x3571ca(0x45d)](_0x3571ca(0x43c));try{let _0x20d869=_0x5402f7[_0x3571ca(0x435)],_0x32a920=_0x5402f7[_0x3571ca(0x265)];if(!_0x20d869&&_0x32a920?_0x20d869=await this[_0x3571ca(0x4ed)](_0x32a920):(_0x20d869=_0x5402f7[_0x3571ca(0x435)],_0x20d869[_0x3571ca(0x457)]=_0x20d869?.[_0x3571ca(0x457)]??Date[_0x3571ca(0x387)](),_0x32a920=_0x20d869?.[_0x3571ca(0x648)]?.[_0x3571ca(0x2fb)]),!_0x20d869||Object[_0x3571ca(0x5f1)](_0x20d869)[_0x3571ca(0x41d)]===0x0)throw new x('Last\x20message\x20not\x20found');await this[_0x3571ca(0x5a6)][_0x3571ca(0x62e)]({'archive':_0x5402f7['archive'],'lastMessages':[_0x20d869]},this[_0x3571ca(0x6e5)](_0x32a920));let _0x2905e4=await this[_0x3571ca(0x331)][_0x3571ca(0x265)][_0x3571ca(0x59a)]({'where':{'_id':_0x20d869?.[_0x3571ca(0x648)]?.[_0x3571ca(0x2fb)],'owner':this['instance'][_0x3571ca(0x4cc)]}},{'archived':_0x5402f7[_0x3571ca(0x319)]});return _0x2905e4&&q(this[_0x3571ca(0x524)],_0x3571ca(0x373),{'chat':_0x2905e4}),{'chatId':_0x32a920,'archived':_0x5402f7[_0x3571ca(0x319)]};}catch(_0x305080){throw new A({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x305080[_0x3571ca(0x1cf)]()]});}}async[a0_0x6619de(0x2c0)](_0x2d596e){const _0x32c24c=a0_0x6619de;try{let _0xd3de7b=await this['client'][_0x32c24c(0x1df)](_0x2d596e['remoteJid'],{'delete':_0x2d596e});try{let _0xed16e3=await this[_0x32c24c(0x255)](_0x2d596e,_0x2d596e['remoteJid'],{'status':_0x32c24c(0x6c4),'owner':this[_0x32c24c(0x3f3)][_0x32c24c(0x4cc)]});this[_0x32c24c(0x5a9)][_0x32c24c(0x45d)](this['instanceName']+'\x20('+this['instance'][_0x32c24c(0x4cc)]+'):\x20updateResult:'+_0xed16e3);}catch(_0x3c5a4b){console[_0x32c24c(0x6b1)](_0x32c24c(0x4dd),_0x3c5a4b);}return _0xd3de7b;}catch(_0x2dacba){throw new A(_0x32c24c(0x25a),_0x2dacba?.[_0x32c24c(0x1cf)]());}}async[a0_0x6619de(0x4e7)](_0x5af88b){const _0x42093b=a0_0x6619de;try{let _0x1102a9=_0x5af88b?.[_0x42093b(0x1cb)]?_0x5af88b:await this[_0x42093b(0x344)](_0x5af88b[_0x42093b(0x648)],!0x0);for(let _0x1e31f3 of Ks)_0x1102a9[_0x42093b(0x1cb)][_0x1e31f3]&&(_0x1102a9[_0x42093b(0x1cb)]=_0x1102a9['message'][_0x1e31f3][_0x42093b(0x1cb)]);let _0x512a69,_0x20dc63;for(let _0x3ce755 of Hs)if(_0x512a69=_0x1102a9[_0x42093b(0x1cb)][_0x3ce755],_0x512a69){_0x20dc63=_0x3ce755;break;}if(!_0x512a69)throw _0x42093b(0x2ac);typeof _0x512a69['mediaKey']==_0x42093b(0x54b)&&(_0x1102a9[_0x42093b(0x1cb)]=JSON[_0x42093b(0x614)](JSON['stringify'](_0x1102a9[_0x42093b(0x1cb)])));let _0x500235=await(0x0,w['downloadMediaMessage'])({'key':_0x1102a9?.[_0x42093b(0x648)],'message':_0x1102a9?.[_0x42093b(0x1cb)]},_0x42093b(0x5bf),{},{'logger':(0x0,Rt['default'])({'level':_0x42093b(0x6b1)}),'reuploadRequest':this[_0x42093b(0x5a6)][_0x42093b(0x5ce)]});if(!(_0x500235 instanceof Buffer))throw new Error(_0x42093b(0x5d5));let _0x17527f=this[_0x42093b(0x42e)][_0x42093b(0x39d)](_0x42093b(0x647)),_0xb92f29,_0x45f12f;if(_0x512a69['fileName'])_0xb92f29=_0x512a69[_0x42093b(0x64d)];else{let _0x59527d=_0x512a69[_0x42093b(0x3c0)]?.[_0x42093b(0x6fb)](/\/(\w+)/),_0x53c60a=_0x59527d?_0x59527d[0x1]:null;if(!_0x53c60a)throw new Error(_0x42093b(0x707));_0xb92f29=(0x0,At['v4'])()+'.'+_0x53c60a;}_0x20dc63===_0x42093b(0x2dc)&&_0x512a69[_0x42093b(0x3c0)]==='audio/ogg'?(_0xb92f29=(0x0,At['v4'])()+_0x42093b(0x23b),_0x45f12f=_0x42093b(0x480)+await this[_0x42093b(0x69d)](_0x500235[_0x42093b(0x1cf)](_0x42093b(0x4cf)))):(await this[_0x42093b(0x42a)](_0x500235,_0xb92f29),_0x45f12f=_0x42093b(0x480)+_0xb92f29);let _0x2e76f1=this['configService']['get'](_0x42093b(0x609)),_0x19294c=this[_0x42093b(0x42e)]['get'](_0x42093b(0x538))[_0x42093b(0x6aa)],_0x6cf853=_0x2e76f1&&_0x2e76f1['FULLCHAIN'][_0x42093b(0x635)]('/')[0x4];_0x19294c===0x1bb&&(_0x45f12f=''+(_0x42093b(0x3f6)+_0x6cf853)+_0x45f12f);let _0x5ac449=0xc*0x3c*0x3c*0x3e8,_0x56e2f3={'where':{'_id':_0x1102a9[_0x42093b(0x648)]['id'],'owner':this[_0x42093b(0x3f3)][_0x42093b(0x4cc)]}};_0x1102a9['key']['remoteJid'][_0x42093b(0x690)](_0x42093b(0x1b9))&&(_0x56e2f3['where']['key']['participant']=_0x1102a9[_0x42093b(0x648)]['participant']);let _0xe7dae8={'message_normalized.fileUrl':_0x45f12f,'message_normalized.expires_fileUrl':Date[_0x42093b(0x387)]()+_0x5ac449};try{let _0x571bb9=await this['repository']['message'][_0x42093b(0x452)](_0x56e2f3,_0xe7dae8);_0x571bb9&&q(this['instanceName'],_0x42093b(0x48d),{'message':_0x571bb9});}catch{}return{'mediaType':_0x20dc63,'fileName':_0x512a69['fileName'],'caption':_0x512a69[_0x42093b(0x430)],'size':{'fileLength':_0x512a69[_0x42093b(0x711)],'height':_0x512a69[_0x42093b(0x35c)],'width':_0x512a69[_0x42093b(0x53c)]},'mimetype':_0x512a69[_0x42093b(0x3c0)],'base64':_0x500235[_0x42093b(0x1cf)](_0x42093b(0x4cf)),'fileUrl':_0x45f12f,'expires_fileUrl':Date[_0x42093b(0x387)]()+_0x5ac449};}catch(_0x221895){throw this['logger']['error'](this[_0x42093b(0x524)]+'\x20('+this['instance'][_0x42093b(0x4cc)]+_0x42093b(0x68a)+_0x221895),new g(_0x221895['toString']());}}async[a0_0x6619de(0x42a)](_0x2ac9b8,_0x2c804a){const _0x3f7057=a0_0x6619de;console[_0x3f7057(0x49a)]('Initial\x20__dirname:',__dirname),console[_0x3f7057(0x49a)]('Original\x20filename:',_0x2c804a);let _0xed5a89=$[_0x3f7057(0x411)][_0x3f7057(0x262)](__dirname,'downloads');console[_0x3f7057(0x49a)](_0x3f7057(0x467),_0xed5a89),P[_0x3f7057(0x702)](_0xed5a89)||(this[_0x3f7057(0x5a9)][_0x3f7057(0x49a)]('Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...'),P[_0x3f7057(0x1dc)](_0xed5a89,{'recursive':!0x0}));let _0x53e695=$[_0x3f7057(0x411)][_0x3f7057(0x262)](_0xed5a89,_0x2c804a);return console[_0x3f7057(0x49a)]('Full\x20file\x20path:',_0x53e695),new Promise((_0x100416,_0x30f6d7)=>{const _0x340eda=_0x3f7057;P[_0x340eda(0x4f1)](_0x53e695,_0x2ac9b8,_0x59293e=>{const _0x528d29=_0x340eda;_0x59293e?(this[_0x528d29(0x5a9)]['error'](_0x528d29(0x621)+_0x59293e['message']),_0x30f6d7(_0x59293e)):(this[_0x528d29(0x5a9)][_0x528d29(0x49a)]('File\x20written\x20to\x20path:\x20'+_0x53e695),_0x100416(_0x53e695));});});}async['fetchContacts'](_0x167105){const _0x27bd76=a0_0x6619de;return _0x167105?.['where']?_0x167105[_0x27bd76(0x644)][_0x27bd76(0x4e4)]=this['instance'][_0x27bd76(0x4cc)]:_0x167105={'where':{'owner':this['instance'][_0x27bd76(0x4cc)]}},await this['repository'][_0x27bd76(0x2fd)][_0x27bd76(0x451)](_0x167105);}async['fetchMessages'](_0x4ce69c){const _0x118fb8=a0_0x6619de;return _0x4ce69c?.[_0x118fb8(0x644)]?_0x4ce69c[_0x118fb8(0x644)][_0x118fb8(0x4e4)]=this[_0x118fb8(0x3f3)][_0x118fb8(0x4cc)]:_0x4ce69c={'where':{'owner':this['instance'][_0x118fb8(0x4cc)]},'limit':_0x4ce69c?.[_0x118fb8(0x2c2)]},await this[_0x118fb8(0x331)]['message'][_0x118fb8(0x451)](_0x4ce69c);}async[a0_0x6619de(0x323)](){const _0x53c668=a0_0x6619de;return await this['repository']['chat'][_0x53c668(0x451)]({'where':{'owner':this['instance'][_0x53c668(0x4cc)]}});}async['fetchPrivacySettings'](){const _0x368141=a0_0x6619de;return await this[_0x368141(0x5a6)][_0x368141(0x3a6)]();}async[a0_0x6619de(0x442)](_0x4bf249){const _0x719d87=a0_0x6619de;try{return await this[_0x719d87(0x5a6)][_0x719d87(0x585)](_0x4bf249['privacySettings'][_0x719d87(0x1e7)]),await this['client'][_0x719d87(0x5d0)](_0x4bf249[_0x719d87(0x4c8)][_0x719d87(0x351)]),await this[_0x719d87(0x5a6)][_0x719d87(0x4d2)](_0x4bf249['privacySettings'][_0x719d87(0x3cc)]),await this['client']['updateOnlinePrivacy'](_0x4bf249[_0x719d87(0x4c8)][_0x719d87(0x601)]),await this[_0x719d87(0x5a6)]['updateLastSeenPrivacy'](_0x4bf249['privacySettings']['last']),await this[_0x719d87(0x5a6)][_0x719d87(0x58a)](_0x4bf249[_0x719d87(0x4c8)]['groupadd']),this[_0x719d87(0x5a6)]?.['ws']?.['close'](),{'update':_0x719d87(0x36e),'data':{'readreceipts':_0x4bf249[_0x719d87(0x4c8)][_0x719d87(0x1e7)],'profile':_0x4bf249[_0x719d87(0x4c8)][_0x719d87(0x351)],'status':_0x4bf249[_0x719d87(0x4c8)][_0x719d87(0x3cc)],'online':_0x4bf249[_0x719d87(0x4c8)][_0x719d87(0x601)],'last':_0x4bf249['privacySettings']['last'],'groupadd':_0x4bf249[_0x719d87(0x4c8)][_0x719d87(0x3d7)]}};}catch(_0x49b135){throw new A(_0x719d87(0x643),_0x49b135[_0x719d87(0x1cf)]());}}async[a0_0x6619de(0x1fd)](_0x63977f){const _0x3e2240=a0_0x6619de;let _0x25f2f1=_0x63977f?this[_0x3e2240(0x6e5)](_0x63977f):this['client']?.[_0x3e2240(0x217)]?.['id'];this['logger'][_0x3e2240(0x45d)]('Getting\x20profile\x20with\x20jid:\x20'+_0x25f2f1);try{if(this[_0x3e2240(0x5a9)][_0x3e2240(0x45d)]('Getting\x20profile\x20info'),_0x63977f){let _0x35ee77=(await this['whatsappNumber']({'numbers':[_0x25f2f1]}))?.[_0x3e2240(0x1ea)](),_0xdac880=await this[_0x3e2240(0x24f)](_0x35ee77?.['jid']),_0x4cbd18=await this[_0x3e2240(0x67e)](_0x35ee77?.['jid']),_0x199914=await this[_0x3e2240(0x277)](_0x35ee77?.[_0x3e2240(0x6c1)]);return{'wuid':_0x35ee77?.[_0x3e2240(0x6c1)]||_0x25f2f1,'name':_0x35ee77?.[_0x3e2240(0x5c4)],'numberExists':_0x35ee77?.['exists'],'picture':_0xdac880?.['profilePictureUrl'],'status':_0x4cbd18?.['status'],'isBusiness':_0x199914[_0x3e2240(0x2f0)],'email':_0x199914?.['email'],'description':_0x199914?.[_0x3e2240(0x6c2)],'website':_0x199914?.[_0x3e2240(0x280)]?.[_0x3e2240(0x1ea)]()};}}catch{return this[_0x3e2240(0x5a9)][_0x3e2240(0x45d)]('Profile\x20not\x20found'),{'wuid':_0x25f2f1,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x6619de(0x5c5)](_0x1cbe56){const _0x310933=a0_0x6619de;let _0x5ef70a=(_0x1cbe56?this[_0x310933(0x6e5)](_0x1cbe56):this['client']?.[_0x310933(0x217)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x310933(0x5a9)][_0x310933(0x45d)](_0x310933(0x454)+_0x5ef70a);let _0x5b1877=await this['repository'][_0x310933(0x2fd)][_0x310933(0x47a)]({'where':{'_id':_0x5ef70a,'owner':this[_0x310933(0x3f3)][_0x310933(0x4cc)]}}),_0xd5ab9d=_0x5b1877?_0x5b1877[_0x310933(0x2f4)]:null;try{let _0x5c4c63=(await this['whatsappNumber']({'numbers':[_0x5ef70a]}))?.[_0x310933(0x1ea)](),_0x3735fb=await this[_0x310933(0x24f)](_0x5c4c63?.[_0x310933(0x6c1)]),_0x54df9f=await this[_0x310933(0x67e)](_0x5c4c63?.[_0x310933(0x6c1)]),_0x57e6c8=await this[_0x310933(0x277)](_0x5c4c63?.['jid']),_0x1e59b3={'imagechat':_0x3735fb?.[_0x310933(0x1d5)],'contactname':_0xd5ab9d||null,'status':_0x54df9f?.[_0x310933(0x3cc)],'isBusiness':_0x57e6c8['isBusiness'],'email':_0x57e6c8?.[_0x310933(0x4d7)],'description':_0x57e6c8?.['description'],'website':_0x57e6c8?.[_0x310933(0x280)]?.['shift'](),'lastcache':Date['now']()},_0x13b9c8=await this[_0x310933(0x331)][_0x310933(0x265)]['updateOne']({'where':{'_id':_0x5ef70a,'owner':this[_0x310933(0x3f3)][_0x310933(0x4cc)]}},_0x1e59b3),_0x13a641={'owner':this['instance'][_0x310933(0x4cc)],'_id':_0x5ef70a,'profilePictureUrl':_0x3735fb?.[_0x310933(0x1d5)],'status':_0x54df9f?.[_0x310933(0x3cc)]};return this['repository'][_0x310933(0x2fd)]['update']([_0x13a641],this['instance'][_0x310933(0x4cc)]),_0x13b9c8&&q(this[_0x310933(0x524)],_0x310933(0x373),{'chat':_0x13b9c8}),{'wuid':_0x5c4c63?.[_0x310933(0x6c1)]||_0x5ef70a,'name':_0x5c4c63?.[_0x310933(0x5c4)],'numberExists':_0x5c4c63?.[_0x310933(0x2e6)],'picture':_0x3735fb?.[_0x310933(0x1d5)],'status':_0x54df9f?.[_0x310933(0x3cc)],'isBusiness':_0x57e6c8['isBusiness'],'email':_0x57e6c8?.['email'],'description':_0x57e6c8?.[_0x310933(0x6c2)],'website':_0x57e6c8?.[_0x310933(0x280)]?.[_0x310933(0x1ea)]()};}catch(_0x3dc6f3){return this['logger'][_0x310933(0x6b1)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+_0x3dc6f3),{};}}async['fetchBusinessProfile'](_0x563698){const _0x5865d2=a0_0x6619de;this[_0x5865d2(0x5a9)][_0x5865d2(0x45d)]('Fetching\x20business\x20profile');try{let _0x27a495=_0x563698?this[_0x5865d2(0x6e5)](_0x563698):this['instance'][_0x5865d2(0x4cc)],_0xca28f2=await this[_0x5865d2(0x5a6)][_0x5865d2(0x5f5)](_0x27a495);return this[_0x5865d2(0x5a9)]['verbose'](_0x5865d2(0x6b7)),_0xca28f2?(this[_0x5865d2(0x5a9)][_0x5865d2(0x45d)](_0x5865d2(0x59f)),{'isBusiness':!0x0,..._0xca28f2}):{'isBusiness':!0x1,'message':_0x5865d2(0x34a),...(await this[_0x5865d2(0x258)]({'numbers':[_0x27a495]}))?.['shift']()};}catch(_0x4b9942){throw new A(_0x5865d2(0x6f2),_0x4b9942['toString']());}}async[a0_0x6619de(0x67e)](_0x2a636b){const _0x11359a=a0_0x6619de;let _0x35c251=this['createJid'](_0x2a636b);try{return{'wuid':_0x35c251,'status':(await this['client']['fetchStatus'](_0x35c251))?.[_0x11359a(0x3cc)]};}catch{return{'wuid':_0x35c251,'status':null};}}async['updateProfileName'](_0x370dfc){const _0x11e163=a0_0x6619de;try{return await this[_0x11e163(0x5a6)]['updateProfileName'](_0x370dfc),{'update':_0x11e163(0x36e)};}catch(_0x43af04){throw new A(_0x11e163(0x6f2),_0x43af04['toString']());}}async[a0_0x6619de(0x20a)](_0x5f1034){const _0x1410c9=a0_0x6619de;try{return await this[_0x1410c9(0x5a6)][_0x1410c9(0x20a)](_0x5f1034),{'update':_0x1410c9(0x36e)};}catch(_0x55d82c){throw new A(_0x1410c9(0x6c7),_0x55d82c[_0x1410c9(0x1cf)]());}}async[a0_0x6619de(0x658)](_0x584f88){const _0x1bbca3=a0_0x6619de;try{let _0x3145ab;if((0x0,O[_0x1bbca3(0x5ca)])(_0x584f88)){let _0x3805c8=new Date()[_0x1bbca3(0x72e)](),_0xb3c0de=_0x584f88+'?timestamp='+_0x3805c8;_0x3145ab=(await ce[_0x1bbca3(0x411)][_0x1bbca3(0x39d)](_0xb3c0de,{'responseType':_0x1bbca3(0x254)}))[_0x1bbca3(0x4b4)];}else{if((0x0,O['isBase64'])(_0x584f88))_0x3145ab=Buffer['from'](_0x584f88,_0x1bbca3(0x4cf));else throw new g('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x1bbca3(0x5a6)][_0x1bbca3(0x658)](this[_0x1bbca3(0x3f3)][_0x1bbca3(0x4cc)],_0x3145ab),{'update':_0x1bbca3(0x36e)};}catch(_0x45aab8){throw new A('Error\x20updating\x20profile\x20picture',_0x45aab8[_0x1bbca3(0x1cf)]());}}async[a0_0x6619de(0x717)](){const _0x138e4a=a0_0x6619de;try{return await this['client'][_0x138e4a(0x717)](this[_0x138e4a(0x3f3)][_0x138e4a(0x4cc)]),{'update':_0x138e4a(0x36e)};}catch(_0x6785ee){throw new A('Error\x20removing\x20profile\x20picture',_0x6785ee['toString']());}}async[a0_0x6619de(0x215)](_0x4f1206){const _0x3affcb=a0_0x6619de;try{let _0x9c32e7=_0x4f1206['participants']['map'](_0xf69c33=>this['createJid'](_0xf69c33)),{id:_0x5444c6}=await this[_0x3affcb(0x5a6)][_0x3affcb(0x324)](_0x4f1206[_0x3affcb(0x3cb)],_0x9c32e7);return _0x4f1206?.['description']&&await this[_0x3affcb(0x5a6)]['groupUpdateDescription'](_0x5444c6,_0x4f1206[_0x3affcb(0x6c2)]),{'metadata':await this[_0x3affcb(0x5a6)][_0x3affcb(0x183)](_0x5444c6)};}catch(_0x4a4b62){throw this[_0x3affcb(0x5a9)][_0x3affcb(0x6b1)](this[_0x3affcb(0x524)]+'\x20('+this[_0x3affcb(0x3f3)][_0x3affcb(0x4cc)]+'):\x20'+_0x4a4b62),new A(_0x3affcb(0x5cd),_0x4a4b62[_0x3affcb(0x1cf)]());}}async[a0_0x6619de(0x354)](_0x44b0eb){const _0x569662=a0_0x6619de;try{let _0x5044d8;if((0x0,O[_0x569662(0x5ca)])(_0x44b0eb[_0x569662(0x378)])){let _0x48d620=new Date()[_0x569662(0x72e)](),_0x1d58de=_0x44b0eb[_0x569662(0x378)]+'?timestamp='+_0x48d620;_0x5044d8=(await ce[_0x569662(0x411)]['get'](_0x1d58de,{'responseType':_0x569662(0x254)}))[_0x569662(0x4b4)];}else{if((0x0,O['isBase64'])(_0x44b0eb[_0x569662(0x378)]))_0x5044d8=Buffer[_0x569662(0x734)](_0x44b0eb[_0x569662(0x378)],_0x569662(0x4cf));else throw new g(_0x569662(0x69c));}return await this[_0x569662(0x5a6)][_0x569662(0x658)](_0x44b0eb[_0x569662(0x453)],_0x5044d8),{'update':_0x569662(0x36e)};}catch(_0x276567){throw new A(_0x569662(0x4f0),_0x276567[_0x569662(0x1cf)]());}}async[a0_0x6619de(0x418)](_0x43c29a,_0x11241f=a0_0x6619de(0x615)){const _0x5afc05=a0_0x6619de;try{let _0x2e79b5=await this[_0x5afc05(0x5a6)]['groupMetadata'](_0x43c29a[_0x5afc05(0x453)]),_0x314b36=null;try{_0x314b36=(await this[_0x5afc05(0x24f)](_0x43c29a[_0x5afc05(0x453)]))[_0x5afc05(0x1d5)];}catch(_0x20920b){this['logger']['verbose'](this[_0x5afc05(0x524)]+'\x20('+this['instance'][_0x5afc05(0x4cc)]+_0x5afc05(0x5da)+_0x43c29a[_0x5afc05(0x453)]+':\x20'+_0x20920b[_0x5afc05(0x1cf)]());}let _0x7721a8=await this[_0x5afc05(0x331)]['chat'][_0x5afc05(0x59a)]({'where':{'_id':_0x43c29a[_0x5afc05(0x453)],'owner':this[_0x5afc05(0x3f3)][_0x5afc05(0x4cc)]}},{'imagechat':_0x314b36,'name':_0x2e79b5['subject'],'group_size':_0x2e79b5[_0x5afc05(0x360)],'group_announce':_0x2e79b5['announce'],'lastcache':Date[_0x5afc05(0x387)]()});return _0x7721a8&&q(this['instanceName'],_0x5afc05(0x373),{'chat':_0x7721a8}),{'metadata':_0x2e79b5,'image':_0x314b36};}catch(_0x36e2dd){if(_0x11241f===_0x5afc05(0x302))return;throw new x('Error\x20fetching\x20group',_0x36e2dd[_0x5afc05(0x1cf)]());}}async[a0_0x6619de(0x505)](_0xeb1704){const _0x5c5dff=a0_0x6619de;try{return await this[_0x5c5dff(0x5a6)][_0x5c5dff(0x29d)](_0xeb1704[_0x5c5dff(0x453)],_0xeb1704[_0x5c5dff(0x6c2)]),{'update':_0x5c5dff(0x36e)};}catch(_0x773141){throw new A(_0x5c5dff(0x5b4),_0x773141[_0x5c5dff(0x1cf)]());}}async[a0_0x6619de(0x233)](_0x173b63){const _0x66cdab=a0_0x6619de;try{return await this['client'][_0x66cdab(0x283)](_0x173b63['groupJid'],_0x173b63['name']),{'update':_0x66cdab(0x36e)};}catch(_0x400bd8){throw new A(_0x66cdab(0x5b8),_0x400bd8[_0x66cdab(0x1cf)]());}}async[a0_0x6619de(0x1f1)](_0x3c73dd){const _0x1c9ce5=a0_0x6619de;try{return await this[_0x1c9ce5(0x5a6)][_0x1c9ce5(0x1f8)](_0x3c73dd[_0x1c9ce5(0x453)],_0x3c73dd[_0x1c9ce5(0x53b)]),{'update':_0x1c9ce5(0x36e)};}catch(_0x2ec672){throw new A(_0x1c9ce5(0x334),_0x2ec672[_0x1c9ce5(0x1cf)]());}}async[a0_0x6619de(0x27f)](){const _0x524381=a0_0x6619de;try{let _0x383aab=[],_0x509434=await this[_0x524381(0x5a6)][_0x524381(0x6c5)](),_0x436491=Object[_0x524381(0x750)](_0x509434),_0x5eca26=_0x436491[_0x524381(0x6e8)](_0x3de462=>(0x0,w[_0x524381(0x3c7)])(_0x3de462?.['id']))[_0x524381(0x3e9)](async _0x21d1ee=>{const _0x3c7619=_0x524381;try{return await this['client'][_0x3c7619(0x1d5)](_0x21d1ee['id'],_0x3c7619(0x6e2));}catch(_0x16ee50){return this[_0x3c7619(0x5a9)][_0x3c7619(0x45d)](this[_0x3c7619(0x524)]+'\x20('+this[_0x3c7619(0x3f3)][_0x3c7619(0x4cc)]+_0x3c7619(0x5da)+_0x21d1ee['id']+':\x20'+_0x16ee50[_0x3c7619(0x1cf)]()),null;}}),_0x1fca6c=await Promise[_0x524381(0x703)](_0x5eca26);for(let _0x52cc54=0x0;_0x52cc54<_0x436491[_0x524381(0x41d)];_0x52cc54++){let _0x5058df=_0x436491[_0x52cc54];(0x0,w[_0x524381(0x3c7)])(_0x5058df?.['id'])&&_0x383aab[_0x524381(0x44c)]({'groupJid':_0x5058df?.['id'],'subject':_0x5058df?.['subject'],'subjectOwner':_0x5058df?.[_0x524381(0x20b)]?.[_0x524381(0x635)]('@')[0x0],'subjectTime':_0x5058df?.['subjectTime'],'size':_0x5058df?.[_0x524381(0x2c3)]?.[_0x524381(0x41d)],'owner':_0x5058df?.[_0x524381(0x4e4)]?.[_0x524381(0x635)]('@')[0x0],'creation':_0x5058df?.['creation'],'desc':_0x5058df?.['desc'],'restrict':_0x5058df?.[_0x524381(0x26c)],'announce':_0x5058df?.[_0x524381(0x460)],'image':_0x1fca6c[_0x52cc54]});}return _0x383aab;}catch(_0x1f6afa){throw new x(_0x524381(0x461),_0x1f6afa['toString']());}}async['inviteCode'](_0x27978c){const _0x39132b=a0_0x6619de;try{let _0x3d3e2e=await this[_0x39132b(0x5a6)][_0x39132b(0x246)](_0x27978c[_0x39132b(0x453)]);return{'inviteUrl':_0x39132b(0x4fd)+_0x3d3e2e,'inviteCode':_0x3d3e2e};}catch(_0xe814f1){throw new x(_0x39132b(0x514),_0xe814f1[_0x39132b(0x1cf)]());}}async[a0_0x6619de(0x29a)](_0x157aaa){const _0x380aac=a0_0x6619de;try{let _0x7be4af=await this[_0x380aac(0x5a6)][_0x380aac(0x347)](_0x157aaa[_0x380aac(0x453)]);return{'revoked':!0x0,'inviteUrl':_0x380aac(0x4fd)+_0x7be4af,'inviteCode':_0x7be4af};}catch(_0x25dfde){throw new x(_0x380aac(0x5f0),_0x25dfde[_0x380aac(0x1cf)]());}}async['joinGroup'](_0x19c8db){const _0x33feef=a0_0x6619de;try{if((0x0,O[_0x33feef(0x5ca)])(_0x19c8db[_0x33feef(0x5fb)]))var _0x54c305=_0x19c8db[_0x33feef(0x5fb)]['split']('/')[0x3];else var _0x54c305=_0x19c8db[_0x33feef(0x5fb)];let _0x3c3bd1=await this[_0x33feef(0x5a6)][_0x33feef(0x31d)](_0x54c305);return this[_0x33feef(0x5a9)][_0x33feef(0x45d)](this['instanceName']+'\x20('+this['instance'][_0x33feef(0x4cc)]+_0x33feef(0x68a)+_0x3c3bd1),{'join':!0x0,'inviteCode':_0x54c305,'groupJid':_0x3c3bd1};}catch(_0x58cee9){throw new x(_0x33feef(0x400),_0x58cee9['toString']());}}async[a0_0x6619de(0x69b)](_0x2d51da){const _0xf1fd6e=a0_0x6619de;try{return{'participants':(await this[_0xf1fd6e(0x5a6)][_0xf1fd6e(0x183)](_0x2d51da[_0xf1fd6e(0x453)]))[_0xf1fd6e(0x2c3)]};}catch(_0x29abd4){throw new x('No\x20participants',_0x29abd4[_0xf1fd6e(0x1cf)]());}}async[a0_0x6619de(0x5b0)](_0x218032){const _0x4b06a1=a0_0x6619de;try{let _0x562fea=_0x218032[_0x4b06a1(0x2c3)][_0x4b06a1(0x3e9)](_0x2ed82f=>this[_0x4b06a1(0x6e5)](_0x2ed82f));return{'updateParticipants':await this['client'][_0x4b06a1(0x4b0)](_0x218032[_0x4b06a1(0x453)],_0x562fea,_0x218032['action'])};}catch(_0xb67b72){throw new g(_0x4b06a1(0x5a5),_0xb67b72[_0x4b06a1(0x1cf)]());}}async[a0_0x6619de(0x70e)](_0x4f677c){const _0x2a03f1=a0_0x6619de;try{let _0x5cbda1=await this[_0x2a03f1(0x5a6)]['groupToggleEphemeral'](_0x4f677c[_0x2a03f1(0x453)],_0x4f677c['expiration']);return{'success':!0x0};}catch(_0x410b13){throw new g(_0x2a03f1(0x663),_0x410b13['toString']());}}async[a0_0x6619de(0x68d)](_0x2501eb){const _0x1d4353=a0_0x6619de;try{return await this['client'][_0x1d4353(0x3b7)](_0x2501eb[_0x1d4353(0x453)]),{'groupJid':_0x2501eb['groupJid'],'leave':!0x0};}catch(_0x3f91c4){throw new g('Unable\x20to\x20leave\x20the\x20group',_0x3f91c4[_0x1d4353(0x1cf)]());}}async[a0_0x6619de(0x63b)](_0x1d6cb6){const _0x4609b7=a0_0x6619de;return await this[_0x4609b7(0x730)](_0x1d6cb6[_0x4609b7(0x2e5)],{'poll':{'name':_0x1d6cb6['pollMessage']?.[_0x4609b7(0x5c4)],'selectableCount':_0x1d6cb6[_0x4609b7(0x63b)][_0x4609b7(0x6a2)],'values':_0x1d6cb6[_0x4609b7(0x63b)][_0x4609b7(0x750)]}},_0x1d6cb6?.[_0x4609b7(0x337)]);}async[a0_0x6619de(0x255)](_0x6a99e0,_0x3fc843,_0x44cd2a){const _0x44223a=a0_0x6619de;if(await this[_0x44223a(0x344)](_0x6a99e0,!0x0)){let _0x3667c6={'where':{'_id':_0x6a99e0['id'],'owner':this[_0x44223a(0x3f3)]['wuid']}},_0x15c19b={'status':[_0x44cd2a['status']][0x0]};try{let _0x4a07e3=await this[_0x44223a(0x331)][_0x44223a(0x1cb)]['update'](_0x3667c6,_0x15c19b);_0x4a07e3&&q(this[_0x44223a(0x524)],_0x44223a(0x48d),{'message':_0x4a07e3});}catch{}}}[a0_0x6619de(0x4f5)](_0x350da2){const _0x437900=a0_0x6619de;let _0x3ff25e=_0x350da2[_0x437900(0x613)](/\\n/g,'\x0a')['split']('\x0a')[_0x437900(0x6e8)](_0x2ab272=>_0x2ab272['includes']('TEL')||_0x2ab272[_0x437900(0x569)](_0x437900(0x2e0))),_0x34e125='';return _0x3ff25e[_0x437900(0x2e4)](_0x218859=>{const _0xd89abe=_0x437900;let _0x2fb71c=/TEL(?:.*):(.+)/,_0xc69239=/EMAIL(?:.*):(.+)/,_0x18bc0e=_0x218859[_0xd89abe(0x6fb)](_0x2fb71c),_0x367409=_0x218859[_0xd89abe(0x6fb)](_0xc69239);if(_0x18bc0e){let _0x16f5cb=_0x18bc0e[0x1][_0xd89abe(0x613)](/-| |\+|\(|\)/g,'')[_0xd89abe(0x3c1)]();_0x34e125+=_0xd89abe(0x543)+_0x16f5cb+'\x0a';}else{if(_0x367409){let _0x5449d0=_0x367409[0x1][_0xd89abe(0x3c1)]();_0x34e125+=_0xd89abe(0x2ba)+_0x5449d0+'\x0a';}}}),_0x34e125[_0x437900(0x3c1)]();}async['updateChatWithMessage'](_0x5a9b50,_0x3d04b1,_0x219f0c){const _0x240699=a0_0x6619de;let _0x500976=_0x3d04b1['key']['remoteJid'][_0x240699(0x613)](/:\d{1,2}@/g,'@'),_0x289184=_0x3d04b1['key'][_0x240699(0x1e3)],_0x429344=_0x500976[_0x240699(0x690)](_0x240699(0x1b9));if(!_0x5a9b50['ENABLED'])return;let _0x2fbe30={'lastmsg':_0x3d04b1[_0x240699(0x457)]||Date[_0x240699(0x387)](),'unreadcount':_0x289184?0x0:0x1,..._0x289184||_0x429344?{}:{'name':_0x3d04b1[_0x240699(0x2f4)]},..._0x429344?{'group':_0x429344}:{}},_0x50277f=await this[_0x240699(0x331)][_0x240699(0x265)]['updateOne']({'where':{'_id':_0x500976,'owner':this[_0x240699(0x3f3)][_0x240699(0x4cc)]}},_0x2fbe30,{'new':!0x0,'upsert':!0x0});if(!_0x429344&&(!_0x50277f?.[_0x240699(0x6d9)]||!_0x50277f['leadInfo'][_0x240699(0x2ef)])&&_0x3d04b1['pushName']&&!_0x289184&&await this[_0x240699(0x331)][_0x240699(0x265)][_0x240699(0x59a)]({'where':{'_id':_0x500976,'owner':this[_0x240699(0x3f3)][_0x240699(0x4cc)]}},{'leadInfo.nome':_0x3d04b1['pushName']},{'new':!0x0,'upsert':!0x1}),_0x50277f)q(this[_0x240699(0x524)],_0x240699(0x373),{'chat':_0x50277f});else{this[_0x240699(0x5a9)][_0x240699(0x6b1)](this[_0x240699(0x524)]+'\x20('+this[_0x240699(0x3f3)][_0x240699(0x4cc)]+_0x240699(0x466));return;}if(!this['AutomateSystem']?.[_0x240699(0x681)][_0x240699(0x3f1)])return this[_0x240699(0x5a9)]['verbose'](this[_0x240699(0x524)]+'\x20('+this['instance'][_0x240699(0x4cc)]+_0x240699(0x73d)),null;if(_0x50277f[_0x240699(0x519)][_0x240699(0x569)](_0x240699(0x1b9))&&this[_0x240699(0x732)]?.[_0x240699(0x681)]['ignoreGroups']===!0x0)return this['logger'][_0x240699(0x45d)](this[_0x240699(0x524)]+'\x20('+this[_0x240699(0x3f3)][_0x240699(0x4cc)]+_0x240699(0x502)),null;if(_0x50277f['leadInfo']){if(_0x50277f[_0x240699(0x6d9)][_0x240699(0x2f1)]===0x0||_0x50277f['leadInfo'][_0x240699(0x350)])return this[_0x240699(0x5a9)][_0x240699(0x45d)](this[_0x240699(0x524)]+'\x20('+this[_0x240699(0x3f3)][_0x240699(0x4cc)]+_0x240699(0x35b)+_0x500976+',\x20saindo.'),null;if(_0x50277f[_0x240699(0x6d9)][_0x240699(0x2f1)]>Date[_0x240699(0x387)]())return this[_0x240699(0x5a9)][_0x240699(0x45d)](this[_0x240699(0x524)]+'\x20('+this[_0x240699(0x3f3)][_0x240699(0x4cc)]+_0x240699(0x26a)+new Date(_0x50277f['leadInfo']['desativadoFluxoAte'])[_0x240699(0x235)]()+',\x20saindo.'),null;}this[_0x240699(0x5a9)][_0x240699(0x45d)](this[_0x240699(0x524)]+'\x20('+this[_0x240699(0x3f3)][_0x240699(0x4cc)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x240699(0x606)](_0x219f0c,_0x3d04b1,this[_0x240699(0x3f3)][_0x240699(0x4cc)]);}async['upsertChats'](_0x11a16b,_0x17136b){const _0x399163=a0_0x6619de;if(_0x17136b['ENABLED']){let _0x26c30b=_0x11a16b[_0x399163(0x3e9)](async _0x3b6959=>{const _0x5ad5f6=_0x399163;try{let _0x549c1e={'_id':_0x3b6959['_id'],'owner':_0x3b6959['owner'],'lastcache':0x0};if(_0x3b6959[_0x5ad5f6(0x6b2)]!==null&&(_0x549c1e['group']=_0x3b6959[_0x5ad5f6(0x6b2)]),_0x3b6959[_0x5ad5f6(0x5c4)]!==null&&(_0x549c1e[_0x5ad5f6(0x5c4)]=_0x3b6959[_0x5ad5f6(0x5c4)]),_0x3b6959[_0x5ad5f6(0x743)]!==null&&(_0x549c1e[_0x5ad5f6(0x743)]=_0x3b6959['contactname']),_0x3b6959[_0x5ad5f6(0x56f)]!==null&&(_0x549c1e[_0x5ad5f6(0x56f)]=_0x3b6959['imagechat']),_0x3b6959[_0x5ad5f6(0x56f)]===null&&(_0x549c1e['imagechat']='Imagem\x20não\x20encontrada'),_0x3b6959[_0x5ad5f6(0x1f4)]!==null&&(_0x549c1e['lastmsg']=_0x3b6959[_0x5ad5f6(0x1f4)]),_0x3b6959[_0x5ad5f6(0x6ea)]!==null&&(_0x549c1e[_0x5ad5f6(0x6ea)]=_0x3b6959['archived']),_0x3b6959[_0x5ad5f6(0x4e6)]!==null&&(_0x549c1e[_0x5ad5f6(0x4e6)]=_0x3b6959['unreadcount']),Object[_0x5ad5f6(0x5f1)](_0x549c1e)['length']>0x0)return await this['repository'][_0x5ad5f6(0x265)][_0x5ad5f6(0x59a)]({'where':{'_id':_0x3b6959[_0x5ad5f6(0x519)],'owner':_0x3b6959[_0x5ad5f6(0x4e4)]}},_0x549c1e);}catch(_0x8f30fa){return console[_0x5ad5f6(0x6b1)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x3b6959[_0x5ad5f6(0x519)]+':',_0x8f30fa),null;}}),_0x123947=(await Promise[_0x399163(0x703)](_0x26c30b))['filter'](_0x1be7b6=>_0x1be7b6!==null)[_0x399163(0x41d)];this[_0x399163(0x5a9)]['verbose'](this[_0x399163(0x524)]+'\x20('+this['instance'][_0x399163(0x4cc)]+_0x399163(0x68a)+_0x123947+_0x399163(0x2b2)+this[_0x399163(0x3f3)]['wuid']+_0x399163(0x229));}}async['readMessageBot'](_0x1dfa6f){const _0x1472a1=a0_0x6619de;this[_0x1472a1(0x5a9)]['verbose'](this[_0x1472a1(0x524)]+'\x20('+this['instance'][_0x1472a1(0x4cc)]+_0x1472a1(0x62a));let _0xa5c5e3={'readMessages':[{'remoteJid':_0x1dfa6f[_0x1472a1(0x41c)][_0x1472a1(0x44a)][_0x1472a1(0x648)][_0x1472a1(0x2fb)],'fromMe':_0x1dfa6f[_0x1472a1(0x41c)][_0x1472a1(0x44a)][_0x1472a1(0x648)][_0x1472a1(0x1e3)],'id':_0x1dfa6f['chatLog'][_0x1472a1(0x44a)][_0x1472a1(0x648)]['id']}]};await this[_0x1472a1(0x332)](_0xa5c5e3);}async[a0_0x6619de(0x606)](_0x50ca3b,_0x5da840,_0x4e577a){const _0x450ba8=a0_0x6619de;try{let {key:_0x3419cc,message_normalized:_0x767c87}=_0x5da840,_0x14ebe5=_0x767c87,_0x3076ea=_0x767c87[_0x450ba8(0x2e2)]||_0x767c87[_0x450ba8(0x430)]||_0x767c87[_0x450ba8(0x2e1)]||_0x767c87[_0x450ba8(0x5c4)],_0x5e4062=_0x3419cc[_0x450ba8(0x2fb)],_0x2ee632;if(_0x14ebe5['key']['fromMe']&&_0x3076ea[_0x450ba8(0x3c1)]()!==this[_0x450ba8(0x732)]?.['flowConfig'][_0x450ba8(0x2c5)][_0x450ba8(0x3c1)]())return this['logger'][_0x450ba8(0x45d)](this[_0x450ba8(0x524)]+'\x20('+this['instance']['wuid']+_0x450ba8(0x699)),null;if(_0x14ebe5[_0x450ba8(0x648)][_0x450ba8(0x1e3)]&&_0x3076ea[_0x450ba8(0x3c1)]()===this[_0x450ba8(0x732)]?.['flowConfig'][_0x450ba8(0x2c5)][_0x450ba8(0x3c1)]()){this[_0x450ba8(0x5a9)][_0x450ba8(0x45d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0xe1b495=await F[_0x450ba8(0x451)]({'owner':_0x4e577a,'remoteJid':_0x5e4062,'status':_0x450ba8(0x70d)});this[_0x450ba8(0x5a9)][_0x450ba8(0x45d)](this[_0x450ba8(0x524)]+'\x20('+this['instance'][_0x450ba8(0x4cc)]+_0x450ba8(0x407)+_0xe1b495);let _0x2378a0=Date[_0x450ba8(0x387)](),_0x3975be;return this['AutomateSystem']?.[_0x450ba8(0x681)]['stopMinutes']===0x0?_0x3975be={'stoppedUntil':_0x2378a0+0x7591f6200}:_0x3975be={'stoppedUntil':_0x2378a0+this[_0x450ba8(0x732)]?.[_0x450ba8(0x681)][_0x450ba8(0x49f)]*0x3c*0x3e8},this['logger'][_0x450ba8(0x45d)](this[_0x450ba8(0x524)]+'\x20('+this['instance']['wuid']+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x3975be),this[_0x450ba8(0x4b2)](_0x2ee632,_0x3975be[_0x450ba8(0x18d)]),null;}if(_0x3076ea&&_0x3076ea[_0x450ba8(0x17f)](this[_0x450ba8(0x732)]?.[_0x450ba8(0x681)][_0x450ba8(0x475)])&&_0x3076ea[_0x450ba8(0x41d)]>0x4){let _0x29a0f2=await I[_0x450ba8(0x47a)]({'owner':_0x4e577a,'startCommandWord':_0x3076ea});if(this['logger'][_0x450ba8(0x45d)](this['instanceName']+'\x20('+this['instance'][_0x450ba8(0x4cc)]+_0x450ba8(0x220)),_0x29a0f2)_0x2ee632=await this[_0x450ba8(0x549)](_0x29a0f2,_0x14ebe5[_0x450ba8(0x648)],_0x14ebe5);else return this[_0x450ba8(0x5a9)][_0x450ba8(0x45d)](this[_0x450ba8(0x524)]+'\x20('+this[_0x450ba8(0x3f3)]['wuid']+_0x450ba8(0x227)),null;}else _0x2ee632=await this[_0x450ba8(0x36d)](_0x4e577a,_0x5e4062,_0x14ebe5);if(_0x2ee632){this[_0x450ba8(0x5a9)][_0x450ba8(0x45d)](this[_0x450ba8(0x524)]+'\x20('+this[_0x450ba8(0x3f3)][_0x450ba8(0x4cc)]+_0x450ba8(0x253)),!_0x3419cc['fromMe']&&_0x2ee632[_0x450ba8(0x2ee)]&&this[_0x450ba8(0x6f9)](_0x2ee632);let _0xf9a47a=await this[_0x450ba8(0x361)](_0x2ee632);_0xf9a47a&&await this[_0x450ba8(0x5e4)](_0x2ee632,_0xf9a47a,_0x2ee632[_0x450ba8(0x2fb)]);}}catch(_0x2ab0e6){this[_0x450ba8(0x5a9)][_0x450ba8(0x6b1)](this[_0x450ba8(0x524)]+'\x20('+this[_0x450ba8(0x3f3)][_0x450ba8(0x4cc)]+_0x450ba8(0x1fb)+_0x2ab0e6);}}[a0_0x6619de(0x388)](_0x398ad7,_0x1bb93d='',_0x40f5dd={},_0x4b352b=!0x0){const _0x5e0ba2=a0_0x6619de;for(let _0x2ad235 in _0x398ad7){let _0x5b3a62=_0x4b352b?'_'+_0x2ad235:''+_0x1bb93d+_0x2ad235;typeof _0x398ad7[_0x2ad235]==_0x5e0ba2(0x54b)&&_0x398ad7[_0x2ad235]!==null?this['flattenObject'](_0x398ad7[_0x2ad235],_0x5b3a62+'.',_0x40f5dd,!0x1):_0x40f5dd[_0x5b3a62]=String(_0x398ad7[_0x2ad235]);}return _0x40f5dd;}[a0_0x6619de(0x6c6)](_0x1ea350){const _0x225298=a0_0x6619de;let _0x8e264d={};for(let _0x3e9122 of _0x1ea350)typeof _0x3e9122[_0x225298(0x5c4)]==_0x225298(0x3a5)&&typeof _0x3e9122[_0x225298(0x474)]==_0x225298(0x3a5)&&(_0x8e264d[_0x3e9122[_0x225298(0x5c4)]]=_0x3e9122[_0x225298(0x474)]);return _0x8e264d;}async['NextBlock'](_0xfd95d){const _0x48865c=a0_0x6619de;if(!this['AutomateSystem']?.[_0x48865c(0x681)][_0x48865c(0x3f1)]||_0xfd95d['status']!==_0x48865c(0x70d)&&_0xfd95d[_0x48865c(0x5a4)]==='')return null;let _0x51a97a=_0xfd95d['chatLog'][_0x48865c(0x2eb)]||_0x48865c(0x3bb);typeof _0xfd95d['chatLog'][_0x48865c(0x1de)]>'u'&&(_0xfd95d['chatLog']['lastCondition']=!0x0);let _0x435e6b=_0xfd95d['chatLog'][_0x48865c(0x1de)];this[_0x48865c(0x5a9)][_0x48865c(0x45d)](this[_0x48865c(0x524)]+'\x20('+this[_0x48865c(0x3f3)][_0x48865c(0x4cc)]+_0x48865c(0x6fa)+_0x51a97a+_0x48865c(0x2bb)+_0x435e6b);let _0x5acbad=_0x51a97a==='start'?_0xfd95d[_0x48865c(0x44d)]['find'](_0x2c315c=>_0x2c315c['type']===_0x48865c(0x3bb)):_0xfd95d[_0x48865c(0x44d)]['find'](_0x2f0e49=>_0x2f0e49[_0x48865c(0x519)][_0x48865c(0x1cf)]()===_0x51a97a[_0x48865c(0x1cf)]());if(!_0x5acbad)return this['logger'][_0x48865c(0x6b1)](this[_0x48865c(0x524)]+'\x20('+this[_0x48865c(0x3f3)][_0x48865c(0x4cc)]+_0x48865c(0x518)+_0x51a97a),null;let _0x401896={'_pushName':_0xfd95d['chatLog'][_0x48865c(0x44a)][_0x48865c(0x2f4)],..._0xfd95d[_0x48865c(0x41c)][_0x48865c(0x444)]},_0x2fab24=null;if(_0xfd95d[_0x48865c(0x5a4)]){let _0x4c35ff=_0xfd95d[_0x48865c(0x41c)][_0x48865c(0x44a)][_0x48865c(0x2e1)],_0xb1d540=_0xfd95d[_0x48865c(0x510)]['find'](_0x5171d2=>_0x5171d2[_0x48865c(0x398)]===_0x4c35ff);if(_0xb1d540){let _0x28c30c=_0xb1d540[_0x48865c(0x1ec)];if(_0x2fab24=_0xfd95d[_0x48865c(0x44d)][_0x48865c(0x451)](_0x2513e3=>_0x2513e3[_0x48865c(0x3b4)]===_0x28c30c&&_0x2513e3['order']===0x1),_0x5acbad[_0x48865c(0x46e)][_0x48865c(0x65f)]){let _0x19b096={'id':_0xfd95d[_0x48865c(0x5a4)],'remoteJid':_0xfd95d[_0x48865c(0x2fb)],'fromMe':!0x0};await this['deleteMessage'](_0x19b096);}if(_0x5acbad[_0x48865c(0x46e)][_0x48865c(0x65f)]&&_0x5acbad[_0x48865c(0x46e)][_0x48865c(0x46a)]){let _0x3a2432={'number':_0xfd95d[_0x48865c(0x2fb)],'options':{'delay':0x0},'textMessage':{'text':_0x48865c(0x463)+_0xfd95d['waitingPoll_name']+_0x48865c(0x4af)+_0x4c35ff}};await this[_0x48865c(0x655)](_0x3a2432);}_0xfd95d[_0x48865c(0x3cc)]=_0x48865c(0x70d),_0xfd95d[_0x48865c(0x5a4)]='',_0xfd95d[_0x48865c(0x4c2)]='',_0xfd95d[_0x48865c(0x510)]=[];}else{this[_0x48865c(0x5a9)]['verbose'](this[_0x48865c(0x524)]+'\x20('+this[_0x48865c(0x3f3)][_0x48865c(0x4cc)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x5d264c={'activatedCount':_0xfd95d['chatLog'][_0x48865c(0x4c6)][_0x48865c(0x6e8)](_0x14bce1=>String(_0x14bce1[_0x48865c(0x3c5)])===String(_0x51a97a))[_0x48865c(0x41d)],'moreLogs':[_0x48865c(0x241)]};if(_0x5acbad[_0x48865c(0x46e)][_0x48865c(0x473)]){let _0x2bcbfd={'number':_0xfd95d['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5acbad['uazapi'][_0x48865c(0x473)]}};await this[_0x48865c(0x655)](_0x2bcbfd);}if(_0x5acbad[_0x48865c(0x447)]!==void 0x0&&_0x5d264c['activatedCount']>=_0x5acbad[_0x48865c(0x447)]){let _0x4a1953=Date[_0x48865c(0x387)](),_0x5c6276=_0x5acbad['stopMinutesMaxActives']??0xa;isNaN(_0x5c6276)&&(_0x5c6276=0xa);let _0x2871b8=_0x4a1953+_0x5c6276*0x3c*0x3e8;_0x5d264c['newStoppedUntil']=_0x2871b8,_0x5d264c[_0x48865c(0x375)][_0x48865c(0x44c)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x48865c(0x4b2)](_0xfd95d,_0x2871b8),_0xfd95d[_0x48865c(0x5a4)]='',_0xfd95d[_0x48865c(0x4c2)]='',_0xfd95d['waitingPoll_replyOptions']=[];}return this[_0x48865c(0x3d6)](_0xfd95d,_0x5acbad,_0x5d264c,!0x0),null;}}if(_0x435e6b&&_0x5acbad[_0x48865c(0x1ec)]&&!_0xfd95d[_0x48865c(0x5a4)]){let _0x10a3a8=_0xfd95d[_0x48865c(0x44d)][_0x48865c(0x6e8)](_0x5d71a3=>_0x5d71a3[_0x48865c(0x3b4)][_0x48865c(0x1cf)]()===_0x5acbad['next_groupId']['toString']())[_0x48865c(0x685)]((_0xb16ef4,_0x49d476)=>_0xb16ef4[_0x48865c(0x656)]-_0x49d476[_0x48865c(0x656)]);_0x10a3a8[_0x48865c(0x41d)]>0x0&&(_0x2fab24=_0x10a3a8[0x0]);}if(!_0x2fab24){let _0x3b8dc1=_0x5acbad[_0x48865c(0x3b4)],_0x1b52df=_0xfd95d['blocks'][_0x48865c(0x6e8)](_0x3b9974=>_0x3b9974[_0x48865c(0x3b4)]===_0x3b8dc1&&_0x3b9974[_0x48865c(0x656)]>_0x5acbad[_0x48865c(0x656)])['sort']((_0x5bf74c,_0x218d88)=>_0x5bf74c[_0x48865c(0x656)]-_0x218d88['order']);_0x1b52df[_0x48865c(0x41d)]>0x0&&(_0x2fab24=_0x1b52df[0x0]);}if(!_0x2fab24)return _0xfd95d[_0x48865c(0x3cc)]=_0x48865c(0x572),null;_0xfd95d[_0x48865c(0x41c)][_0x48865c(0x444)]=_0x401896;let _0x46cfdb=JSON[_0x48865c(0x614)](JSON['stringify'](_0x2fab24));return this['replaceVariablesInObject'](_0x46cfdb,_0xfd95d[_0x48865c(0x41c)][_0x48865c(0x444)]),_0xfd95d['chatLog'][_0x48865c(0x2eb)]=_0x46cfdb['_id'],_0xfd95d[_0x48865c(0x41c)][_0x48865c(0x1de)]=!0x0,_0x46cfdb;}[a0_0x6619de(0x753)](_0x2c026a,_0x3e6731){const _0x497347=a0_0x6619de;return _0x2c026a[_0x497347(0x613)](/\{\{([^}]+)\}\}/g,(_0x54bf08,_0x3e8922)=>_0x3e6731[_0x3e8922]||'');}['replaceVariablesInObject'](_0x5eb3ec,_0x5682cd){const _0x410356=a0_0x6619de;for(let _0x484cd2 in _0x5eb3ec)typeof _0x5eb3ec[_0x484cd2]==_0x410356(0x3a5)?_0x5eb3ec[_0x484cd2]=this['replaceVariables'](_0x5eb3ec[_0x484cd2],_0x5682cd):typeof _0x5eb3ec[_0x484cd2]==_0x410356(0x54b)&&this[_0x410356(0x425)](_0x5eb3ec[_0x484cd2],_0x5682cd);}async[a0_0x6619de(0x66d)](_0x3646f9,_0x32fbf8){const _0x3ea219=a0_0x6619de;let _0x46ca78=_0x32fbf8[_0x3ea219(0x519)];if(_0x3646f9[_0x3ea219(0x41c)]&&_0x3646f9['chatLog'][_0x3ea219(0x4c6)]){let _0x162ba6=_0x3646f9[_0x3ea219(0x41c)][_0x3ea219(0x4c6)][_0x3ea219(0x6e8)](_0x5c363a=>String(_0x5c363a[_0x3ea219(0x3c5)])===String(_0x46ca78))['pop']();if(_0x162ba6&&_0x162ba6[_0x3ea219(0x6b1)]&&_0x32fbf8[_0x3ea219(0x364)])return _0x3646f9[_0x3ea219(0x3cc)]=_0x3ea219(0x572),await this[_0x3ea219(0x45c)](_0x3646f9),null;}if(_0x32fbf8['type']===_0x3ea219(0x46e)&&_0x32fbf8[_0x3ea219(0x46e)][_0x3ea219(0x675)]==='sendPoll'&&_0x3646f9[_0x3ea219(0x5a4)])return _0x3646f9[_0x3ea219(0x41c)][_0x3ea219(0x2eb)]=_0x46ca78,await this[_0x3ea219(0x45c)](_0x3646f9),null;let _0x14633a=await this[_0x3ea219(0x361)](_0x3646f9);if(_0x3646f9['chatLog']&&_0x3646f9[_0x3ea219(0x41c)]['blockLogs']){let _0x563832=_0x3646f9['chatLog'][_0x3ea219(0x4c6)][_0x3ea219(0x6e8)](_0x63a3b5=>String(_0x63a3b5[_0x3ea219(0x3c5)])===String(_0x46ca78))[_0x3ea219(0x41d)];if(_0x32fbf8['maxActives']!==void 0x0&&_0x563832>=_0x32fbf8[_0x3ea219(0x447)]){let _0x5c64f7=Date[_0x3ea219(0x387)](),_0x50a57c=_0x32fbf8[_0x3ea219(0x55e)]??0xa;isNaN(_0x50a57c)&&(_0x50a57c=0xa);let _0x4bb084=_0x5c64f7+_0x50a57c*0x3c*0x3e8,_0x4a84ed={'newStoppedUntil':_0x4bb084};return this[_0x3ea219(0x4b2)](_0x3646f9,_0x4bb084),this['updateConversation'](_0x3646f9,_0x32fbf8,_0x4a84ed,!0x0),null;}}_0x14633a&&_0x14633a[_0x3ea219(0x395)]!==_0x3ea219(0x65c)&&await this[_0x3ea219(0x5e4)](_0x3646f9,_0x14633a,_0x3646f9[_0x3ea219(0x2fb)]),_0x14633a||await this[_0x3ea219(0x45c)](_0x3646f9),_0x14633a&&_0x14633a[_0x3ea219(0x395)]===_0x3ea219(0x65c)&&(_0x3646f9['chatLog'][_0x3ea219(0x2eb)]=_0x46ca78,await this[_0x3ea219(0x45c)](_0x3646f9));}async['processblock'](_0x253e63,_0x5debfd,_0x159454){const _0x14e2af=a0_0x6619de;try{let _0x547a36=_0x5debfd[_0x14e2af(0x395)];this[_0x14e2af(0x5a9)][_0x14e2af(0x45d)](this['instanceName']+'\x20('+this[_0x14e2af(0x3f3)][_0x14e2af(0x4cc)]+_0x14e2af(0x5f9)+_0x547a36);let _0x59d2e3={'uazapi':()=>this[_0x14e2af(0x5ea)](_0x253e63,_0x5debfd,_0x159454),'save':()=>this[_0x14e2af(0x2cf)](_0x253e63,_0x5debfd),'stop':()=>this[_0x14e2af(0x2c5)](_0x253e63,_0x5debfd),'condition':()=>this[_0x14e2af(0x2d0)](_0x253e63,_0x5debfd),'varedit':()=>this['processvaredits'](_0x253e63,_0x5debfd),'apirequest':()=>this[_0x14e2af(0x38b)](_0x253e63,_0x5debfd),'goToFlow':()=>this['processgoToFlow'](_0x253e63,_0x5debfd)}[_0x547a36];_0x59d2e3&&await _0x59d2e3();}catch(_0x466329){this[_0x14e2af(0x5a9)][_0x14e2af(0x6b1)](this[_0x14e2af(0x524)]+'\x20('+this[_0x14e2af(0x3f3)][_0x14e2af(0x4cc)]+'):\x20Error\x20processing\x20the\x20block:\x20'+_0x466329);}}async[a0_0x6619de(0x3e4)](_0x42d18f,_0x349896){const _0x153172=a0_0x6619de;if(this[_0x153172(0x5a9)][_0x153172(0x45d)](this[_0x153172(0x524)]+'\x20('+this['instance']['wuid']+_0x153172(0x211)),!_0x42d18f||!_0x349896)return this[_0x153172(0x5a9)][_0x153172(0x6b1)](this[_0x153172(0x524)]+'\x20('+this[_0x153172(0x3f3)][_0x153172(0x4cc)]+_0x153172(0x49e)),null;await this[_0x153172(0x3d6)](_0x42d18f,_0x349896,{},!0x0,!0x0),console['log'](_0x153172(0x205)),console[_0x153172(0x49a)](_0x349896);let _0x36e663=_0x349896[_0x153172(0x629)];console[_0x153172(0x49a)](_0x153172(0x43d),_0x36e663),_0x42d18f=await this['createConversationforgoToFlow'](_0x36e663,_0x42d18f[_0x153172(0x2fb)],_0x42d18f['chatLog'][_0x153172(0x444)]),this['logger'][_0x153172(0x45d)](this[_0x153172(0x524)]+'\x20('+this['instance']['wuid']+_0x153172(0x557));let _0x202701=await this[_0x153172(0x361)](_0x42d18f);_0x202701&&await this['processblock'](_0x42d18f,_0x202701,_0x42d18f[_0x153172(0x2fb)]);}async[a0_0x6619de(0x511)](_0x35af28,_0x3c92a7,_0x435728){const _0x3d75d5=a0_0x6619de;this[_0x3d75d5(0x5a9)][_0x3d75d5(0x45d)](this['instanceName']+'\x20('+this[_0x3d75d5(0x3f3)][_0x3d75d5(0x4cc)]+_0x3d75d5(0x529));try{if(_0x35af28=await I[_0x3d75d5(0x47a)]({'owner':this[_0x3d75d5(0x3f3)][_0x3d75d5(0x4cc)],'name':_0x35af28}),!_0x35af28)return this[_0x3d75d5(0x5a9)]['error'](this[_0x3d75d5(0x524)]+'\x20('+this[_0x3d75d5(0x3f3)][_0x3d75d5(0x4cc)]+_0x3d75d5(0x359)),null;let _0x44dfbf=require(_0x3d75d5(0x3dd))[_0x3d75d5(0x2af)],_0x1f7123=Date[_0x3d75d5(0x387)](),_0x2f4c58=_0x3d75d5(0x3bb),_0xc0305d={},_0x668468={},_0x51571a={..._0x35af28[_0x3d75d5(0x4fc)],'chatLog':null},_0x49e4cd={'lastReceivedMessage':_0xc0305d,'lastSendMessage':_0x668468,'lastBlockId':_0x2f4c58,'lastCondition':!0x0,'realVariables':_0x435728};_0x51571a[_0x3d75d5(0x41c)]=_0x49e4cd,_0x51571a[_0x3d75d5(0x41c)]['realVariables']={..._0x435728},delete _0x51571a[_0x3d75d5(0x519)],_0x51571a[_0x3d75d5(0x519)]=new _0x44dfbf(),_0x51571a[_0x3d75d5(0x1f7)]=_0x1f7123,_0x51571a[_0x3d75d5(0x3cc)]=_0x3d75d5(0x70d),_0x51571a[_0x3d75d5(0x2fb)]=_0x3c92a7;let _0x8395ec=await F[_0x3d75d5(0x1db)](_0x51571a);return this[_0x3d75d5(0x5a9)][_0x3d75d5(0x45d)](this['instanceName']+'\x20('+this[_0x3d75d5(0x3f3)][_0x3d75d5(0x4cc)]+_0x3d75d5(0x335)),_0x8395ec?_0x51571a:null;}catch(_0x452af8){throw this[_0x3d75d5(0x5a9)][_0x3d75d5(0x6b1)](this[_0x3d75d5(0x524)]+'\x20('+this[_0x3d75d5(0x3f3)][_0x3d75d5(0x4cc)]+_0x3d75d5(0x30c)+_0x452af8),new g(_0x452af8[_0x3d75d5(0x1cb)]);}}async[a0_0x6619de(0x38b)](_0x301602,_0x47d630){const _0x38e055=a0_0x6619de;let _0x33d74e,_0xae9ec5;try{let _0x2784cb=_0x47d630[_0x38e055(0x57d)];if(!_0x2784cb||!_0x2784cb['url']||!_0x2784cb[_0x38e055(0x517)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x1682f7={'method':_0x2784cb[_0x38e055(0x517)],'url':_0x2784cb[_0x38e055(0x751)],'headers':_0x2784cb[_0x38e055(0x692)]||{},'data':_0x2784cb[_0x38e055(0x23e)]||{}};_0x33d74e=(await(0x0,ce[_0x38e055(0x411)])(_0x1682f7))[_0x38e055(0x4b4)];let _0x4eec02=_0x301602[_0x38e055(0x41c)][_0x38e055(0x444)],_0x8f231f=this['flattenObject'](_0x33d74e);return Object[_0x38e055(0x252)](_0x4eec02,_0x8f231f),_0x301602[_0x38e055(0x41c)]['realVariables']=_0x4eec02,_0xae9ec5={'error':!0x1,'apiResponse':_0x33d74e},this[_0x38e055(0x3d6)](_0x301602,_0x47d630,_0xae9ec5),_0x33d74e;}catch(_0x28d7dd){console[_0x38e055(0x6b1)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x28d7dd),_0x28d7dd[_0x38e055(0x2bd)]&&(_0x33d74e=_0x28d7dd[_0x38e055(0x2bd)][_0x38e055(0x4b4)]);let _0x119d50=_0x301602[_0x38e055(0x41c)]['realVariables'],_0x526ed4=this[_0x38e055(0x388)](_0x33d74e);return Object[_0x38e055(0x252)](_0x119d50,_0x526ed4),_0x301602[_0x38e055(0x41c)][_0x38e055(0x444)]=_0x119d50,_0xae9ec5={'error':!0x0,'errorLog':_0x28d7dd[_0x38e055(0x1cf)](),'apiResponse':_0x33d74e},this[_0x38e055(0x3d6)](_0x301602,_0x47d630,_0xae9ec5),{'success':!0x1};}}[a0_0x6619de(0x204)](_0x5b9cae,_0x25bca2){const _0x23bdfd=a0_0x6619de;let _0x469502=_0x224ff2=>{const _0x1cc9ab=a0_0x4391;let _0x1bf218=_0x224ff2['replace'](/[^0-9.,-]/g,'')[_0x1cc9ab(0x613)](',','.'),_0x15e452=parseFloat(_0x1bf218);return isNaN(_0x15e452)?null:_0x15e452;},_0x15689e=_0x25bca2[_0x23bdfd(0x63c)],_0x354ad1=_0x25bca2[_0x23bdfd(0x3d9)];typeof _0x15689e==_0x23bdfd(0x3a5)&&(_0x15689e=this[_0x23bdfd(0x753)](_0x15689e,_0x5b9cae[_0x23bdfd(0x41c)][_0x23bdfd(0x444)])??''),typeof _0x354ad1=='string'&&(_0x354ad1=this[_0x23bdfd(0x753)](_0x354ad1,_0x5b9cae[_0x23bdfd(0x41c)][_0x23bdfd(0x444)])??'');let _0x1d8558=null;if(!_0x15689e||!_0x25bca2[_0x23bdfd(0x389)])return null;switch(this[_0x23bdfd(0x5a9)][_0x23bdfd(0x45d)](this[_0x23bdfd(0x524)]+'\x20('+this[_0x23bdfd(0x3f3)]['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x15689e),this['logger'][_0x23bdfd(0x45d)](this[_0x23bdfd(0x524)]+'\x20('+this['instance'][_0x23bdfd(0x4cc)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x354ad1),_0x25bca2['editOperator']){case'+':case'-':case'*':case'/':let _0x52e6c0=_0x469502(_0x15689e),_0x263495=_0x469502(_0x354ad1||'0');if(_0x52e6c0===null)return null;switch(_0x25bca2[_0x23bdfd(0x389)]){case'+':_0x1d8558=_0x52e6c0+(_0x263495??0x0);break;case'-':_0x1d8558=_0x52e6c0-(_0x263495??0x0);break;case'*':_0x1d8558=_0x52e6c0*(_0x263495??0x1);break;case'/':_0x263495!==0x0&&(_0x1d8558=_0x52e6c0/(_0x263495??0x1));break;}break;case _0x23bdfd(0x6e4):case _0x23bdfd(0x71e):let _0x554b14=_0x354ad1,_0xe616ee=_0x25bca2[_0x23bdfd(0x236)];if(typeof _0xe616ee==_0x23bdfd(0x3a5)&&(_0xe616ee=this['replaceVariables'](_0xe616ee,_0x5b9cae[_0x23bdfd(0x41c)]['realVariables'])??''),_0x554b14&&_0xe616ee!==void 0x0){let _0x42a727=_0x25bca2[_0x23bdfd(0x389)]===_0x23bdfd(0x6e4)?new RegExp(_0x554b14[_0x23bdfd(0x613)](/[-\/\\^$*+?.()|[\]{}]/g,_0x23bdfd(0x3d0)),'g'):new RegExp(_0x554b14,'g');_0x1d8558=_0x15689e[_0x23bdfd(0x613)](_0x42a727,_0xe616ee);}else console[_0x23bdfd(0x366)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x23bdfd(0x269):_0x1d8558=_0x354ad1;break;case'extractRegex':let _0x41a481=_0x15689e['match'](new RegExp(_0x354ad1||''));_0x1d8558=_0x41a481?_0x41a481[0x0]:'';break;case _0x23bdfd(0x32b):_0x1d8558=_0x15689e[_0x23bdfd(0x1f2)](0x0,parseInt(_0x354ad1||'0'));break;case _0x23bdfd(0x64f):let _0x4ee2cf=parseInt(_0x354ad1||'0');_0x1d8558=_0x15689e[_0x23bdfd(0x1f2)](_0x15689e['length']-_0x4ee2cf);break;case _0x23bdfd(0x673):let _0x4ed9f4=_0x469502(_0x15689e),_0xfe4429=parseInt(_0x354ad1||'0');_0xfe4429=Math['abs'](_0xfe4429),_0x4ed9f4!==null?_0x1d8558=_0x4ed9f4[_0x23bdfd(0x235)](_0x23bdfd(0x346),{'minimumFractionDigits':_0xfe4429,'maximumFractionDigits':_0xfe4429}):(console['warn'](_0x23bdfd(0x3f5)+_0x15689e),_0x1d8558=null);break;case _0x23bdfd(0x414):let _0x74beaa=_0x469502(_0x15689e);_0x74beaa!==null?_0x1d8558=_0x74beaa[_0x23bdfd(0x235)](_0x23bdfd(0x346),{'style':'currency','currency':'BRL'}):(console[_0x23bdfd(0x366)](_0x23bdfd(0x2f6)+_0x15689e),_0x1d8558=null);break;case _0x23bdfd(0x239):_0x1d8558=_0x15689e[_0x23bdfd(0x448)]();break;case _0x23bdfd(0x3d4):_0x1d8558=_0x15689e[_0x23bdfd(0x752)]();break;case'capitalizedWords':_0x1d8558=_0x15689e[_0x23bdfd(0x635)]('\x20')[_0x23bdfd(0x3e9)](_0x180c88=>_0x180c88[_0x23bdfd(0x626)](0x0)[_0x23bdfd(0x448)]()+_0x180c88['slice'](0x1)[_0x23bdfd(0x752)]())[_0x23bdfd(0x262)]('\x20');break;case _0x23bdfd(0x25f):_0x1d8558=_0x15689e[_0x23bdfd(0x3c1)]();break;default:_0x1d8558=_0x15689e;}return _0x1d8558!==null?_0x1d8558[_0x23bdfd(0x1cf)]():null;}async['processvaredits'](_0x5b66ea,_0x496673){const _0x311072=a0_0x6619de;try{let _0x3d24d2=_0x5b66ea[_0x311072(0x4e9)]?.[_0x311072(0x6e8)](_0x416e83=>_0x416e83[_0x311072(0x3c5)]===_0x496673[_0x311072(0x519)]?.[_0x311072(0x1cf)]())||[],_0x30ecfc=_0x496673[_0x311072(0x747)],_0x1e3f9d=null,_0x349f1c=[],_0xed62d=_0x5b66ea[_0x311072(0x41c)][_0x311072(0x444)][_0x30ecfc];_0x349f1c[_0x311072(0x44c)]('Valor\x20inicial:\x20\x22'+_0xed62d+'\x22');for(let _0x24cc95 of _0x3d24d2){_0x24cc95[_0x311072(0x63c)]=_0xed62d,_0x1e3f9d=_0x24cc95[_0x311072(0x63c)];let _0x53ddc4;try{_0x53ddc4=this[_0x311072(0x204)](_0x5b66ea,_0x24cc95);}catch(_0x1df62b){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x1df62b['message']);continue;}if(_0x53ddc4!==null){let _0x38b707=_0x311072(0x541)+_0x24cc95[_0x311072(0x389)]+'\x22',_0x4608d6=[_0x311072(0x414),_0x311072(0x239),'lowerCase',_0x311072(0x427),_0x311072(0x25f)];_0x24cc95[_0x311072(0x389)]==='findAndReplace'||_0x24cc95[_0x311072(0x389)]==='findAndReplaceRegex'?_0x38b707+=_0x311072(0x552)+_0x24cc95[_0x311072(0x3d9)]+_0x311072(0x370)+_0x24cc95[_0x311072(0x236)]+'\x22':!_0x4608d6[_0x311072(0x569)](_0x24cc95[_0x311072(0x389)])&&_0x24cc95['secondValue']!==null&&_0x24cc95[_0x311072(0x3d9)]!==void 0x0&&(_0x38b707+=_0x311072(0x4a5)+_0x24cc95[_0x311072(0x3d9)]+'\x22'),_0x38b707+=_0x311072(0x66f)+_0x53ddc4+'.',_0x349f1c[_0x311072(0x44c)](_0x38b707);}_0x53ddc4!==null&&(_0xed62d=_0x53ddc4);}if(_0x5b66ea[_0x311072(0x41c)]['realVariables']&&_0x496673[_0x311072(0x747)]){_0x5b66ea[_0x311072(0x41c)]['realVariables'][_0x496673['saveVariable']]=_0xed62d;let _0x3b4014={'variable':_0x496673[_0x311072(0x747)],'oldValue':_0x1e3f9d,'newValue':_0xed62d,'moreLogs':_0x349f1c};try{this[_0x311072(0x3d6)](_0x5b66ea,_0x496673,_0x3b4014);}catch(_0x3b37be){console[_0x311072(0x6b1)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x3b37be[_0x311072(0x1cb)]);}}return _0x30ecfc;}catch(_0x2008c8){return console['error'](_0x311072(0x2cb)+_0x2008c8['message']),null;}}async['processConditions'](_0x2c23a6,_0x2ebda7){const _0x5e8a51=a0_0x6619de;try{let _0x112e6c=[],_0x4adc54=_0x2c23a6[_0x5e8a51(0x2bf)]['filter'](_0x55e47a=>_0x55e47a[_0x5e8a51(0x3c5)]===_0x2ebda7[_0x5e8a51(0x519)][_0x5e8a51(0x1cf)]()),_0x33375a=null,_0x452fe9=!0x1;for(let _0xeb8c6e of _0x4adc54){let _0x54f3ef=this['evaluateCondition'](_0x2c23a6,_0xeb8c6e);_0x112e6c[_0x5e8a51(0x44c)](_0x5e8a51(0x71d)+_0xeb8c6e[_0x5e8a51(0x63c)]+_0x5e8a51(0x68f)+_0xeb8c6e[_0x5e8a51(0x3f4)]+_0x5e8a51(0x3a7)+_0xeb8c6e[_0x5e8a51(0x3d9)]+_0x5e8a51(0x274)+_0x54f3ef),_0x33375a===null?_0x33375a=_0x54f3ef:_0xeb8c6e[_0x5e8a51(0x5ec)]==='and'?(_0x33375a=_0x33375a&&_0x54f3ef,_0x54f3ef||(_0x452fe9=!0x0)):_0xeb8c6e[_0x5e8a51(0x5ec)]==='or'&&(_0x452fe9||(_0x33375a=_0x33375a||_0x54f3ef));}_0x33375a===null&&(_0x33375a=!0x0);let _0x4382b6={'moreLogs':_0x112e6c};_0x2c23a6[_0x5e8a51(0x41c)][_0x5e8a51(0x1de)]=_0x33375a,await this[_0x5e8a51(0x3d6)](_0x2c23a6,_0x2ebda7,_0x4382b6);}catch(_0x30d1d6){this[_0x5e8a51(0x5a9)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+_0x30d1d6);}}['evaluateCondition'](_0x58cc10,_0x3e804d){const _0x1cb5eb=a0_0x6619de;let _0x1d0af2=_0x3e804d[_0x1cb5eb(0x63c)],_0x4dd358=_0x3e804d[_0x1cb5eb(0x3d9)];typeof _0x1d0af2==_0x1cb5eb(0x3a5)&&(_0x1d0af2=this['replaceVariables'](_0x1d0af2,_0x58cc10[_0x1cb5eb(0x41c)][_0x1cb5eb(0x444)])??''),typeof _0x4dd358=='string'&&(_0x4dd358=this['replaceVariables'](_0x4dd358,_0x58cc10[_0x1cb5eb(0x41c)]['realVariables'])??'');try{switch(_0x3e804d[_0x1cb5eb(0x3f4)]){case _0x1cb5eb(0x679):return _0x1d0af2===_0x4dd358;case _0x1cb5eb(0x30a):return _0x1d0af2!==_0x4dd358;case _0x1cb5eb(0x3e6):return _0x1d0af2['includes'](_0x4dd358);case'notContains':return!_0x1d0af2['includes'](_0x4dd358);case'greater':return parseFloat(_0x1d0af2)>parseFloat(_0x4dd358);case'less':return parseFloat(_0x1d0af2)<parseFloat(_0x4dd358);case'notEmpty':return _0x1d0af2!=='';case _0x1cb5eb(0x59c):return _0x1d0af2==='';case'matchRegex':return new RegExp(_0x4dd358)[_0x1cb5eb(0x382)](_0x1d0af2);case _0x1cb5eb(0x735):return!new RegExp(_0x4dd358)['test'](_0x1d0af2);default:return!0x1;}}catch(_0x83ff33){return console[_0x1cb5eb(0x6b1)](_0x1cb5eb(0x1af)+_0x83ff33),!0x1;}}[a0_0x6619de(0x437)](_0x5cd498){const _0x2ce3d3=a0_0x6619de;let _0x38a458=!0x0,_0x4a2fc3=null;for(let _0x22d6c5 of _0x5cd498){let _0x3d1224=this[_0x2ce3d3(0x45a)](_0x22d6c5);if(_0x4a2fc3==='or'&&_0x3d1224){_0x38a458=!0x0;break;}if(_0x4a2fc3==='and'&&!_0x3d1224){_0x38a458=!0x1;break;}_0x4a2fc3=_0x22d6c5[_0x2ce3d3(0x5ec)];}return _0x38a458;}[a0_0x6619de(0x45a)](_0x5d10f4){const _0x5b41c9=a0_0x6619de;let _0x565277=_0x5d10f4[_0x5b41c9(0x63c)],_0x476f9f=_0x5d10f4[_0x5b41c9(0x3d9)];try{switch(_0x5d10f4[_0x5b41c9(0x3f4)]){case _0x5b41c9(0x679):return String(_0x565277)===String(_0x476f9f);case _0x5b41c9(0x30a):return String(_0x565277)!==String(_0x476f9f);case _0x5b41c9(0x3e6):return String(_0x565277)['includes'](String(_0x476f9f));case _0x5b41c9(0x1f6):return!String(_0x565277)[_0x5b41c9(0x569)](String(_0x476f9f));case _0x5b41c9(0x293):return parseFloat(String(_0x565277))>parseFloat(String(_0x476f9f));case'less':return parseFloat(String(_0x565277))<parseFloat(String(_0x476f9f));case _0x5b41c9(0x27b):return String(_0x565277)!=='';case _0x5b41c9(0x59c):return String(_0x565277)==='';case _0x5b41c9(0x6ef):return new RegExp(String(_0x476f9f))[_0x5b41c9(0x382)](String(_0x565277));case'notMatchRegex':return!new RegExp(String(_0x476f9f))[_0x5b41c9(0x382)](String(_0x565277));default:return!0x1;}}catch(_0xa20c24){return console['error'](_0x5b41c9(0x1af)+_0xa20c24),!0x1;}}async[a0_0x6619de(0x2cf)](_0x5d459f,_0x215872){const _0x6b2166=a0_0x6619de;if(this['logger'][_0x6b2166(0x45d)](this['instanceName']+'\x20('+this[_0x6b2166(0x3f3)][_0x6b2166(0x4cc)]+_0x6b2166(0x53d)),!_0x5d459f||!_0x215872)return this['logger'][_0x6b2166(0x6b1)](this[_0x6b2166(0x524)]+'\x20('+this[_0x6b2166(0x3f3)]['wuid']+_0x6b2166(0x49e)),null;let _0x393cf4=_0x215872[_0x6b2166(0x747)],_0x41d206=_0x5d459f[_0x6b2166(0x41c)][_0x6b2166(0x44a)][_0x6b2166(0x2e2)]||_0x5d459f[_0x6b2166(0x41c)][_0x6b2166(0x44a)]['caption']||_0x5d459f[_0x6b2166(0x41c)][_0x6b2166(0x44a)][_0x6b2166(0x2e1)];try{_0x5d459f[_0x6b2166(0x41c)][_0x6b2166(0x444)]||(_0x5d459f[_0x6b2166(0x41c)][_0x6b2166(0x444)]={});let _0x2edabd=_0x5d459f[_0x6b2166(0x41c)][_0x6b2166(0x444)][_0x393cf4];_0x5d459f[_0x6b2166(0x41c)][_0x6b2166(0x444)][_0x393cf4]=_0x41d206;let _0x47f360={'variable':_0x393cf4,'oldValue':_0x2edabd,'newValue':_0x41d206};this[_0x6b2166(0x3d6)](_0x5d459f,_0x215872,_0x47f360),this[_0x6b2166(0x5a9)][_0x6b2166(0x45d)](this[_0x6b2166(0x524)]+'\x20('+this[_0x6b2166(0x3f3)][_0x6b2166(0x4cc)]+_0x6b2166(0x660));}catch(_0x41669e){let _0x4ad052={'error':!0x0,'errorLog':_0x41669e[_0x6b2166(0x1cf)]()};return this[_0x6b2166(0x3d6)](_0x5d459f,_0x215872,_0x4ad052),this[_0x6b2166(0x5a9)][_0x6b2166(0x6b1)](this[_0x6b2166(0x524)]+'\x20('+this[_0x6b2166(0x3f3)][_0x6b2166(0x4cc)]+_0x6b2166(0x338)+_0x41669e[_0x6b2166(0x1cb)]),null;}}async['stopConversation'](_0x3dc25f,_0xe90a41){const _0x3fe85f=a0_0x6619de;if(this['logger'][_0x3fe85f(0x45d)](this['instanceName']+'\x20('+this[_0x3fe85f(0x3f3)]['wuid']+_0x3fe85f(0x3df)),!_0x3dc25f||!_0xe90a41)return this[_0x3fe85f(0x5a9)][_0x3fe85f(0x6b1)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x46717d=Date['now'](),_0xc12bf3=parseInt(_0xe90a41['stopMinutes'],0xa);if(isNaN(_0xc12bf3))return this[_0x3fe85f(0x5a9)][_0x3fe85f(0x6b1)](this[_0x3fe85f(0x524)]+'\x20('+this[_0x3fe85f(0x3f3)][_0x3fe85f(0x4cc)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x2af491={'newStoppedUntil':_0x46717d+_0xc12bf3*0x3c*0x3e8};return await this['updateConversation'](_0x3dc25f,_0xe90a41,_0x2af491,!0x0),null;}async[a0_0x6619de(0x5ea)](_0x5f2c14,_0x309343,_0x155fc9){const _0x30ef21=a0_0x6619de;try{switch(_0x309343[_0x30ef21(0x46e)][_0x30ef21(0x675)]){case _0x30ef21(0x48a):await this[_0x30ef21(0x72f)](_0x5f2c14,_0x309343,_0x155fc9);break;case _0x30ef21(0x546):await this[_0x30ef21(0x522)](_0x5f2c14,_0x309343,_0x155fc9);break;case _0x30ef21(0x708):await this[_0x30ef21(0x66a)](_0x5f2c14,_0x309343,_0x155fc9);break;case _0x30ef21(0x345):await this[_0x30ef21(0x192)](_0x5f2c14,_0x309343,_0x155fc9);break;case _0x30ef21(0x6e9):await this['uazapiSendContact'](_0x5f2c14,_0x309343,_0x155fc9);break;case'sendPoll':await this['uazapiSendPoll'](_0x5f2c14,_0x309343,_0x155fc9);break;case'deleteMessage':await this[_0x30ef21(0x25c)](_0x5f2c14,_0x309343,_0x155fc9);break;default:this['logger'][_0x30ef21(0x6b1)](this['instanceName']+'\x20('+this[_0x30ef21(0x3f3)][_0x30ef21(0x4cc)]+_0x30ef21(0x66e)+_0x309343[_0x30ef21(0x46e)][_0x30ef21(0x675)]);}}catch(_0x3f2529){this[_0x30ef21(0x5a9)]['error'](this[_0x30ef21(0x524)]+'\x20('+this[_0x30ef21(0x3f3)]['wuid']+_0x30ef21(0x490)+_0x3f2529);}}async[a0_0x6619de(0x3d6)](_0x34125e,_0x2d58a7,_0x28779e,_0x5c001=!0x1,_0x464a2c=!0x1){const _0x1830bd=a0_0x6619de;_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x4c6)]||(_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x4c6)]=[]);let _0x1b9948=(_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x4c6)]?.[_0x1830bd(0x41d)]??0x0)+0x1,_0x55d5f2=_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x4c6)]['filter'](_0x726926=>String(_0x726926[_0x1830bd(0x3c5)])===String(_0x2d58a7[_0x1830bd(0x519)]))[_0x1830bd(0x41d)]+0x1,_0x1545e6=_0x28779e?.[_0x1830bd(0x2df)]??Date['now'](),_0x2805ac=_0x28779e?.[_0x1830bd(0x6b1)]?_0x28779e[_0x1830bd(0x2b1)]??_0x28779e['error'][_0x1830bd(0x1cf)]():void 0x0,_0x3c8694={'onTime':_0x1545e6,'blockId':_0x2d58a7[_0x1830bd(0x519)],'order':_0x1b9948,'activatedCount':_0x55d5f2,'error':_0x28779e?.['error']??!0x1,'messageId':_0x28779e?.[_0x1830bd(0x5e0)],'apiResponse':_0x28779e?.[_0x1830bd(0x365)],'apiResponseString':_0x28779e?.['apiResponse']?JSON['stringify'](_0x28779e?.[_0x1830bd(0x365)]):void 0x0,'variable':_0x28779e?.['variable'],'oldValue':_0x28779e?.[_0x1830bd(0x61f)],'newValue':_0x28779e?.['newValue'],'newStoppedUntil':_0x28779e?.[_0x1830bd(0x729)],'moreLogs':_0x28779e?.[_0x1830bd(0x375)],'errorLog':_0x2805ac};if(_0x28779e[_0x1830bd(0x375)]&&_0x28779e['moreLogs'][_0x1830bd(0x41d)]>0x0){let _0x3718e6=_0x28779e[_0x1830bd(0x375)]['map'](_0x4474e1=>this[_0x1830bd(0x50d)](_0x4474e1,_0x34125e[_0x1830bd(0x41c)]['realVariables']));_0x3c8694[_0x1830bd(0x375)]=_0x3718e6;}_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x444)]||(_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x444)]={}),_0x34125e[_0x1830bd(0x41c)]['realVariables']['_activatedCount']=String(_0x55d5f2),_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x444)][_0x1830bd(0x579)]=String(_0x28779e[_0x1830bd(0x6b1)]??!0x1),_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x4c6)]['push'](_0x3c8694),_0x34125e[_0x1830bd(0x41c)]['lastBlockId']=_0x2d58a7[_0x1830bd(0x519)][_0x1830bd(0x1cf)](),_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x321)]&&(_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x321)]=_0x34125e['chatLog'][_0x1830bd(0x321)]),_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x44a)]&&(_0x34125e['chatLog'][_0x1830bd(0x44a)]=_0x34125e['chatLog'][_0x1830bd(0x44a)]),_0x34125e['chatLog'][_0x1830bd(0x1de)]&&(_0x34125e[_0x1830bd(0x41c)][_0x1830bd(0x1de)]=_0x34125e[_0x1830bd(0x41c)]['lastCondition']),_0x464a2c&&(_0x34125e['status']=_0x1830bd(0x572)),_0x5c001?this[_0x1830bd(0x45c)](_0x34125e):this['goNextblock'](_0x34125e,_0x2d58a7);}[a0_0x6619de(0x50d)](_0xa485b3,_0x15bb4b){const _0x5edf76=a0_0x6619de;return _0xa485b3[_0x5edf76(0x613)](/\{\{([^}]+)\}\}/g,(_0x1aba22,_0x101506)=>_0x15bb4b[_0x101506]?'{{'+_0x101506+'}}\x20->\x20\x22'+_0x15bb4b[_0x101506]+'\x22':'{{'+_0x101506+'}}\x20->\x20valor\x20não\x20encontrado');}async['saveConversationToDatabase'](_0x27956a){const _0x115b19=a0_0x6619de;try{let _0x524ff5=Object[_0x115b19(0x5e8)](_0x27956a[_0x115b19(0x41c)][_0x115b19(0x444)])[_0x115b19(0x3e9)](([_0x2014dc,_0x6b35db])=>({'name':_0x2014dc,'value':_0x6b35db})),_0x4885da=await F[_0x115b19(0x718)]({'_id':_0x27956a[_0x115b19(0x519)]},{'$set':{'chatLog.lastBlockId':_0x27956a[_0x115b19(0x41c)]['lastBlockId'],'blocks':_0x27956a['blocks'],'chatLog.lastSendMessage':_0x27956a[_0x115b19(0x41c)][_0x115b19(0x321)],'chatLog.lastReceivedMessage':_0x27956a[_0x115b19(0x41c)][_0x115b19(0x44a)],'chatLog.lastCondition':_0x27956a[_0x115b19(0x41c)][_0x115b19(0x1de)],'chatLog.chatVariables':_0x524ff5,'chatLog.realVariables':_0x27956a[_0x115b19(0x41c)]['realVariables'],'status':_0x27956a['status'],'chatLog.blockLogs':_0x27956a[_0x115b19(0x41c)]['blockLogs'],'waitingPoll_id':_0x27956a[_0x115b19(0x5a4)],'waitingPoll_name':_0x27956a[_0x115b19(0x4c2)],'waitingPoll_replyOptions':_0x27956a['waitingPoll_replyOptions']}},{'new':!0x0});if(_0x4885da){this[_0x115b19(0x5a9)][_0x115b19(0x45d)](this[_0x115b19(0x524)]+'\x20('+this[_0x115b19(0x3f3)]['wuid']+_0x115b19(0x4de)+_0x4885da[_0x115b19(0x519)]);try{let _0x21635c=[_0x115b19(0x2ef),_0x115b19(0x6b8),_0x115b19(0x4d7),_0x115b19(0x181),'status',_0x115b19(0x470),_0x115b19(0x5b2),_0x115b19(0x6f6)];if(!this[_0x115b19(0x732)]&&(await this[_0x115b19(0x432)](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x1190aa=this[_0x115b19(0x732)]?.[_0x115b19(0x65a)][_0x115b19(0x3e9)](_0x55eba9=>_0x55eba9[_0x115b19(0x5c4)]),_0x474349={};Object[_0x115b19(0x5e8)](_0x27956a[_0x115b19(0x41c)][_0x115b19(0x444)])['forEach'](([_0x966946,_0x41ac2e])=>{const _0x83f418=_0x115b19;_0x21635c[_0x83f418(0x569)](_0x966946)&&(_0x966946===_0x83f418(0x6f6)&&typeof _0x41ac2e==_0x83f418(0x3a5)?_0x474349[_0x966946]=_0x41ac2e[_0x83f418(0x635)](',')[_0x83f418(0x3e9)](_0x58ba4b=>_0x58ba4b[_0x83f418(0x3c1)]())[_0x83f418(0x6e8)](_0x527ef7=>_0x527ef7!==''):_0x474349[_0x966946]=_0x41ac2e);});let _0x2d1bea=_0x27956a['chatLog'][_0x115b19(0x4c6)][_0x27956a[_0x115b19(0x41c)]['blockLogs'][_0x115b19(0x41d)]-0x1];if(_0x2d1bea){let _0x40fd63=_0x2d1bea[_0x115b19(0x729)];_0x40fd63!==void 0x0&&(_0x474349[_0x115b19(0x2f1)]=_0x40fd63[_0x115b19(0x1cf)]());}let _0x1a958d=_0x524ff5['filter'](_0xc7bb01=>_0x1190aa[_0x115b19(0x569)](_0xc7bb01[_0x115b19(0x5c4)]));this[_0x115b19(0x5a9)][_0x115b19(0x45d)](this[_0x115b19(0x524)]+'\x20('+this['instance'][_0x115b19(0x4cc)]+_0x115b19(0x396)),this['logger'][_0x115b19(0x45d)](_0x474349),this[_0x115b19(0x5a9)][_0x115b19(0x45d)](this['instanceName']+'\x20('+this[_0x115b19(0x3f3)][_0x115b19(0x4cc)]+'):\x20customFieldVariables'),this[_0x115b19(0x5a9)]['verbose'](_0x1a958d);let _0xb3332=_0x1a958d[_0x115b19(0x3e9)](_0xf45c51=>{const _0x316f56=_0x115b19;let _0x2f6d23=this[_0x316f56(0x732)]?.[_0x316f56(0x65a)][_0x316f56(0x451)](_0x13bf2a=>_0x13bf2a[_0x316f56(0x5c4)]===_0xf45c51[_0x316f56(0x5c4)]);if(!_0x2f6d23)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0xf45c51[_0x316f56(0x5c4)]);return{'_id':_0x2f6d23[_0x316f56(0x519)],'value':_0xf45c51[_0x316f56(0x474)]};});this['logger'][_0x115b19(0x45d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x115b19(0x35e)),this[_0x115b19(0x5a9)][_0x115b19(0x45d)](_0xb3332),await this[_0x115b19(0x516)](_0x27956a[_0x115b19(0x2fb)],_0x474349,_0xb3332);}catch(_0x18929a){this[_0x115b19(0x5a9)][_0x115b19(0x6b1)](this['instanceName']+'\x20('+this['instance'][_0x115b19(0x4cc)]+_0x115b19(0x1c9)+JSON[_0x115b19(0x24c)](_0x18929a));}}else this[_0x115b19(0x5a9)][_0x115b19(0x6b1)](this[_0x115b19(0x524)]+'\x20('+this[_0x115b19(0x3f3)][_0x115b19(0x4cc)]+_0x115b19(0x30d));}catch(_0x2567fb){this['logger'][_0x115b19(0x6b1)](this[_0x115b19(0x524)]+'\x20('+this[_0x115b19(0x3f3)][_0x115b19(0x4cc)]+_0x115b19(0x223)+JSON['stringify'](_0x2567fb));}}async['saveChatVariables'](_0x22339e,_0x440338,_0x345b94){const _0xb3a524=a0_0x6619de;try{let _0x57de99={'leadInfo.leadnome':_0x440338['nome'],'leadInfo.nomecompleto':_0x440338[_0xb3a524(0x6b8)],'leadInfo.email':_0x440338[_0xb3a524(0x4d7)],'leadInfo.cpf':_0x440338[_0xb3a524(0x181)],'leadInfo.status':_0x440338['status'],'leadInfo.notas':_0x440338[_0xb3a524(0x470)],'leadInfo.responsavelid':_0x440338['responsavelid'],'leadInfo.tags':_0x440338[_0xb3a524(0x6f6)],'leadInfo.customFields':_0x345b94};if(_0xb3a524(0x2f1)in _0x440338){let _0x270bef=_0x440338['desativadoFluxoAte'];_0x57de99[_0xb3a524(0x565)]=_0x270bef?Number(_0x270bef):null;}let _0x4749df=await this[_0xb3a524(0x331)]['chat'][_0xb3a524(0x59a)]({'where':{'_id':_0x22339e,'owner':this['instance'][_0xb3a524(0x4cc)]}},_0x57de99);_0x4749df?(this[_0xb3a524(0x5a9)]['verbose'](this['instanceName']+'\x20('+this[_0xb3a524(0x3f3)]['wuid']+_0xb3a524(0x19d)+_0x4749df[_0xb3a524(0x519)]),q(this[_0xb3a524(0x524)],'chats',{'chat':_0x4749df})):this[_0xb3a524(0x5a9)][_0xb3a524(0x6b1)](this[_0xb3a524(0x524)]+'\x20('+this[_0xb3a524(0x3f3)]['wuid']+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x563f89){this[_0xb3a524(0x5a9)][_0xb3a524(0x6b1)](this['instanceName']+'\x20('+this['instance'][_0xb3a524(0x4cc)]+_0xb3a524(0x413)+_0x563f89);}}async[a0_0x6619de(0x4b2)](_0x20761b,_0x237548){const _0x5e883e=a0_0x6619de;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5e883e(0x4cc)]+'):\x20atualização\x20chat:\x20'+_0x237548);try{let _0x4dc12c=await this['repository']['chat'][_0x5e883e(0x59a)]({'where':{'_id':_0x20761b['remoteJid'],'owner':_0x20761b[_0x5e883e(0x4e4)]}},{'leadInfo.desativadoFluxoAte':_0x237548});this[_0x5e883e(0x5a9)][_0x5e883e(0x45d)](this[_0x5e883e(0x524)]+'\x20('+this['instance'][_0x5e883e(0x4cc)]+_0x5e883e(0x668)+_0x20761b[_0x5e883e(0x519)]),this[_0x5e883e(0x5a9)][_0x5e883e(0x45d)](this[_0x5e883e(0x524)]+'\x20('+this[_0x5e883e(0x3f3)]['wuid']+_0x5e883e(0x748)+JSON[_0x5e883e(0x24c)](_0x4dc12c,null,0x2)),_0x4dc12c&&q(this[_0x5e883e(0x524)],_0x5e883e(0x373),{'chat':_0x4dc12c});}catch(_0xe33e44){this[_0x5e883e(0x5a9)][_0x5e883e(0x6b1)](this[_0x5e883e(0x524)]+'\x20('+this[_0x5e883e(0x3f3)][_0x5e883e(0x4cc)]+_0x5e883e(0x385)+JSON['stringify'](_0xe33e44));}}async['findFlow'](_0x1ce053,_0x3cd19e){const _0x3ace0f=a0_0x6619de;try{this[_0x3ace0f(0x5a9)][_0x3ace0f(0x45d)](this[_0x3ace0f(0x524)]+'\x20('+this[_0x3ace0f(0x3f3)][_0x3ace0f(0x4cc)]+_0x3ace0f(0x4c7));let _0x5b17c9=_0x3cd19e[_0x3ace0f(0x613)](/\D/g,''),_0x5e45c7=await I[_0x3ace0f(0x47a)]({'owner':_0x1ce053,'testingWith':_0x5b17c9});return _0x5e45c7||(this[_0x3ace0f(0x5a9)][_0x3ace0f(0x45d)](this['instanceName']+'\x20('+this[_0x3ace0f(0x3f3)][_0x3ace0f(0x4cc)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x5e45c7=await I['findOne']({'owner':_0x1ce053,'default':!0x0})),_0x5e45c7||(this[_0x3ace0f(0x5a9)][_0x3ace0f(0x45d)](this[_0x3ace0f(0x524)]+'\x20('+this[_0x3ace0f(0x3f3)][_0x3ace0f(0x4cc)]+_0x3ace0f(0x180)),null);}catch(_0x37c2f1){return this[_0x3ace0f(0x5a9)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3ace0f(0x4cc)]+_0x3ace0f(0x2bc)+_0x37c2f1),null;}}async[a0_0x6619de(0x36d)](_0x1de1cf,_0x2c7c2c,_0x500fd9){const _0x17e417=a0_0x6619de;try{let _0x46aaa7=!!_0x500fd9[_0x17e417(0x2e1)],_0xac5139=_0x500fd9[_0x17e417(0x479)],_0x45dd4a=null;if(this[_0x17e417(0x5a9)][_0x17e417(0x45d)](this[_0x17e417(0x524)]+'\x20('+this['instance'][_0x17e417(0x4cc)]+_0x17e417(0x322)+_0x46aaa7+_0x17e417(0x479)+_0xac5139),_0x46aaa7)return this[_0x17e417(0x5a9)][_0x17e417(0x45d)](this['instanceName']+'\x20('+this['instance'][_0x17e417(0x4cc)]+_0x17e417(0x689)),_0x45dd4a=await F[_0x17e417(0x47a)]({'owner':_0x1de1cf,'remoteJid':_0x2c7c2c,'waitingPoll_id':_0xac5139}),_0x45dd4a?(_0x45dd4a[_0x17e417(0x1f7)]=Date['now'](),_0x45dd4a['chatLog'][_0x17e417(0x44a)]=_0x500fd9,_0x45dd4a):(this[_0x17e417(0x5a9)][_0x17e417(0x45d)](this[_0x17e417(0x524)]+'\x20('+this[_0x17e417(0x3f3)][_0x17e417(0x4cc)]+_0x17e417(0x571)),null);{if(this[_0x17e417(0x5a9)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x17e417(0x4cc)]+_0x17e417(0x68a)+this[_0x17e417(0x3f3)][_0x17e417(0x4cc)]+_0x17e417(0x5ef)),this['logger'][_0x17e417(0x45d)](this[_0x17e417(0x524)]+'\x20('+this[_0x17e417(0x3f3)][_0x17e417(0x4cc)]+_0x17e417(0x341)),_0x45dd4a=await F[_0x17e417(0x47a)]({'owner':_0x1de1cf,'remoteJid':_0x2c7c2c,'status':'open'}),!_0x45dd4a){let _0x54b255=await this[_0x17e417(0x420)](_0x1de1cf,_0x2c7c2c);if(_0x54b255&&(_0x45dd4a=await this[_0x17e417(0x549)](_0x54b255,_0x500fd9[_0x17e417(0x648)],_0x500fd9)),!_0x45dd4a)return null;}let _0x549350=Date[_0x17e417(0x387)](),_0x317ac7=_0x45dd4a?.[_0x17e417(0x37f)]||0x0,_0x5e4b09=_0x549350-_0x317ac7*0x3c*0x3e8;if(this[_0x17e417(0x5a9)][_0x17e417(0x45d)](this[_0x17e417(0x524)]+'\x20('+this[_0x17e417(0x3f3)][_0x17e417(0x4cc)]+'):\x20Current\x20Time:\x20'+_0x549350+',\x20Minutes\x20to\x20Close:\x20'+_0x317ac7+',\x20Expiration\x20Time:\x20'+_0x5e4b09),this[_0x17e417(0x5a9)][_0x17e417(0x45d)](this['instanceName']+'\x20('+this[_0x17e417(0x3f3)][_0x17e417(0x4cc)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x17e417(0x5a9)][_0x17e417(0x45d)](this['instanceName']+'\x20('+this['instance'][_0x17e417(0x4cc)]+'):\x20conversation.lastInteraction:\x20'+_0x45dd4a['lastInteraction']),this['logger']['verbose'](this[_0x17e417(0x524)]+'\x20('+this[_0x17e417(0x3f3)][_0x17e417(0x4cc)]+'):\x20expirationTime:\x20'+_0x5e4b09),_0x45dd4a[_0x17e417(0x1f7)]<_0x5e4b09){this[_0x17e417(0x5a9)]['verbose'](this[_0x17e417(0x524)]+'\x20('+this[_0x17e417(0x3f3)][_0x17e417(0x4cc)]+_0x17e417(0x653));let _0x2cf205=await this[_0x17e417(0x420)](_0x1de1cf,_0x2c7c2c);if(_0x2cf205===null)return null;_0x45dd4a&&await F['updateOne']({'_id':_0x45dd4a[_0x17e417(0x519)]},{'status':_0x17e417(0x572)}),_0x45dd4a=await this[_0x17e417(0x549)](_0x2cf205,_0x500fd9[_0x17e417(0x648)],_0x500fd9);}return _0x45dd4a[_0x17e417(0x1f7)]=_0x549350,_0x45dd4a[_0x17e417(0x41c)]['lastReceivedMessage']=_0x500fd9,_0x45dd4a;}}catch(_0x89dd60){return this[_0x17e417(0x5a9)][_0x17e417(0x6b1)](this[_0x17e417(0x524)]+'\x20('+this['instance']['wuid']+_0x17e417(0x2b6)+_0x89dd60),null;}}async[a0_0x6619de(0x549)](_0x4807fc,_0xf34788,_0x99b4f6){const _0xd86078=a0_0x6619de;this[_0xd86078(0x5a9)][_0xd86078(0x45d)](this['instanceName']+'\x20('+this[_0xd86078(0x3f3)][_0xd86078(0x4cc)]+'):\x20Criando\x20nova\x20conversa');try{let _0x43a6ae=require(_0xd86078(0x3dd))[_0xd86078(0x2af)],_0x1d94b5=Date[_0xd86078(0x387)](),_0x4eda27=_0xd86078(0x3bb),_0x1a3364=_0xf34788[_0xd86078(0x1e3)]?null:_0x99b4f6,_0x4fce07=_0xf34788[_0xd86078(0x1e3)]?_0x99b4f6:null,_0x3719ae=_0xf34788['remoteJid'];await this[_0xd86078(0x36b)](_0x3719ae);let _0x55aa2d={..._0x4807fc['_doc'],'chatLog':null},_0x42e271=await this[_0xd86078(0x6c6)](_0x55aa2d['variables']),_0x307b8a=await this['getVariablesChat'](_0x3719ae),_0x36fa8c={..._0x42e271,..._0x307b8a,'_remoteJid':_0x3719ae},_0x5c045a={'lastReceivedMessage':_0x1a3364,'lastSendMessage':_0x4fce07,'lastBlockId':_0x4eda27,'lastCondition':!0x0,'realVariables':_0x36fa8c};_0x55aa2d[_0xd86078(0x41c)]=_0x5c045a,delete _0x55aa2d[_0xd86078(0x519)],_0x55aa2d['_id']=new _0x43a6ae(),_0x55aa2d[_0xd86078(0x1f7)]=_0x1d94b5,_0x55aa2d[_0xd86078(0x3cc)]='open',_0x55aa2d[_0xd86078(0x2fb)]=_0x3719ae;let _0x1aac05=await F[_0xd86078(0x1db)](_0x55aa2d);return this[_0xd86078(0x5a9)]['verbose'](this[_0xd86078(0x524)]+'\x20('+this[_0xd86078(0x3f3)]['wuid']+_0xd86078(0x335)),_0x1aac05?_0x55aa2d:null;}catch(_0x3a8c0b){return this[_0xd86078(0x5a9)][_0xd86078(0x6b1)](this[_0xd86078(0x524)]+'\x20('+this['instance'][_0xd86078(0x4cc)]+_0xd86078(0x30c)+_0x3a8c0b),_0x3a8c0b;}}async[a0_0x6619de(0x72f)](_0x174963,_0x49ebe9,_0xf8d0e8){const _0x57d3e5=a0_0x6619de;this[_0x57d3e5(0x5a9)][_0x57d3e5(0x45d)](this[_0x57d3e5(0x524)]+'\x20('+this[_0x57d3e5(0x3f3)][_0x57d3e5(0x4cc)]+_0x57d3e5(0x3f7));let _0x53238a={'number':_0xf8d0e8,'options':{'delay':_0x49ebe9['uazapi'][_0x57d3e5(0x198)]},'textMessage':{'text':_0x49ebe9[_0x57d3e5(0x46e)][_0x57d3e5(0x2e2)]}};try{let _0x36f8d2=await this['textMessage'](_0x53238a);if(_0x36f8d2){let _0xd8e416={'_id':_0x36f8d2[_0x57d3e5(0x648)]['id'],'_fromMe':_0x36f8d2['key'][_0x57d3e5(0x1e3)],'_remoteJid':_0x36f8d2[_0x57d3e5(0x648)][_0x57d3e5(0x2fb)]};_0x174963[_0x57d3e5(0x41c)]['lastBlockId']=_0x49ebe9['_id'][_0x57d3e5(0x1cf)]();let {message_normalized:_0x106765}=this[_0x57d3e5(0x3d2)](_0x36f8d2[_0x57d3e5(0x1cb)],J(_0x36f8d2['message']),null);_0x174963[_0x57d3e5(0x41c)][_0x57d3e5(0x321)]=await _0x106765;let _0x5405d3={'messageId':_0x36f8d2['key']['id']},_0x8e987e=_0x174963[_0x57d3e5(0x41c)][_0x57d3e5(0x444)];Object[_0x57d3e5(0x252)](_0x8e987e,_0xd8e416),_0x174963[_0x57d3e5(0x41c)]['realVariables']=_0x8e987e,this['updateConversation'](_0x174963,_0x49ebe9,_0x5405d3);}else{let _0x3a9106={'error':!0x0};this[_0x57d3e5(0x3d6)](_0x174963,_0x49ebe9,_0x3a9106),this[_0x57d3e5(0x5a9)][_0x57d3e5(0x6b1)](this[_0x57d3e5(0x524)]+'\x20('+this[_0x57d3e5(0x3f3)][_0x57d3e5(0x4cc)]+_0x57d3e5(0x40e));}}catch(_0x3a7d85){let _0x442291={'error':!0x0,'errorLog':_0x3a7d85[_0x57d3e5(0x1cf)]()};this[_0x57d3e5(0x3d6)](_0x174963,_0x49ebe9,_0x442291),this[_0x57d3e5(0x5a9)][_0x57d3e5(0x6b1)](this[_0x57d3e5(0x524)]+'\x20('+this[_0x57d3e5(0x3f3)][_0x57d3e5(0x4cc)]+_0x57d3e5(0x5ed)+_0x3a7d85['toString']());}}async[a0_0x6619de(0x522)](_0x4cdbba,_0x4fa029,_0x3346c9){const _0x5b4235=a0_0x6619de;this[_0x5b4235(0x5a9)][_0x5b4235(0x45d)](this['instanceName']+'\x20('+this[_0x5b4235(0x3f3)][_0x5b4235(0x4cc)]+_0x5b4235(0x5cf));let _0x1ad4dc={'number':_0x3346c9,'options':{'delay':_0x4fa029['uazapi']['delay']},'mediaMessage':{'mediatype':_0x4fa029['uazapi'][_0x5b4235(0x2a4)],'caption':_0x4fa029['uazapi'][_0x5b4235(0x430)],'media':_0x4fa029[_0x5b4235(0x46e)][_0x5b4235(0x52b)],'fileName':_0x4fa029[_0x5b4235(0x46e)]['fileName']}};try{let _0x3abfac=await this[_0x5b4235(0x3e1)](_0x1ad4dc);if(_0x3abfac){let _0x2d9734={'_id':_0x3abfac[_0x5b4235(0x648)]['id'],'_fromMe':_0x3abfac[_0x5b4235(0x648)]['fromMe'],'_remoteJid':_0x3abfac['key'][_0x5b4235(0x2fb)]};_0x4cdbba[_0x5b4235(0x41c)]['lastBlockId']=_0x4fa029['_id'][_0x5b4235(0x1cf)]();let {message_normalized:_0x354e31}=this[_0x5b4235(0x3d2)](_0x3abfac[_0x5b4235(0x1cb)],J(_0x3abfac[_0x5b4235(0x1cb)]),null);_0x4cdbba['chatLog'][_0x5b4235(0x321)]=await _0x354e31;let _0x210892={'messageId':_0x3abfac[_0x5b4235(0x648)]['id']},_0x117c00=_0x4cdbba[_0x5b4235(0x41c)][_0x5b4235(0x444)];Object[_0x5b4235(0x252)](_0x117c00,_0x2d9734),_0x4cdbba[_0x5b4235(0x41c)][_0x5b4235(0x444)]=_0x117c00,this[_0x5b4235(0x3d6)](_0x4cdbba,_0x4fa029,_0x210892);}else{let _0x124c76={'error':!0x0};this[_0x5b4235(0x3d6)](_0x4cdbba,_0x4fa029,_0x124c76),this[_0x5b4235(0x5a9)][_0x5b4235(0x6b1)](this[_0x5b4235(0x524)]+'\x20('+this[_0x5b4235(0x3f3)][_0x5b4235(0x4cc)]+_0x5b4235(0x1bc));}}catch(_0x1df555){let _0x52dc78={'error':!0x0,'errorLog':_0x1df555['toString']()};this['updateConversation'](_0x4cdbba,_0x4fa029,_0x52dc78),this[_0x5b4235(0x5a9)][_0x5b4235(0x6b1)](this[_0x5b4235(0x524)]+'\x20('+this[_0x5b4235(0x3f3)][_0x5b4235(0x4cc)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+_0x1df555[_0x5b4235(0x1cf)]());}}async['uazapiSendLocation'](_0x4f8b75,_0xfbb861,_0x2cc54d){const _0x264d61=a0_0x6619de;this[_0x264d61(0x5a9)]['verbose'](this[_0x264d61(0x524)]+'\x20('+this['instance']['wuid']+_0x264d61(0x5a3));let _0x193539={'number':_0x2cc54d,'options':{'delay':_0xfbb861['uazapi'][_0x264d61(0x198)]},'locationMessage':{'name':_0xfbb861[_0x264d61(0x46e)][_0x264d61(0x5c4)],'address':_0xfbb861[_0x264d61(0x46e)]['address'],'latitude':_0xfbb861[_0x264d61(0x46e)][_0x264d61(0x1bd)],'longitude':_0xfbb861[_0x264d61(0x46e)]['longitude']}};try{let _0x51c55b=await this['locationMessage'](_0x193539);if(_0x51c55b){let _0x844b5c={'_id':_0x51c55b[_0x264d61(0x648)]['id'],'_fromMe':_0x51c55b[_0x264d61(0x648)]['fromMe'],'_remoteJid':_0x51c55b[_0x264d61(0x648)][_0x264d61(0x2fb)]};_0x4f8b75[_0x264d61(0x41c)][_0x264d61(0x2eb)]=_0xfbb861[_0x264d61(0x519)][_0x264d61(0x1cf)]();let {message_normalized:_0x2014f6}=this[_0x264d61(0x3d2)](_0x51c55b[_0x264d61(0x1cb)],J(_0x51c55b[_0x264d61(0x1cb)]),null);_0x4f8b75[_0x264d61(0x41c)][_0x264d61(0x321)]=await _0x2014f6;let _0x6839f1={'messageId':_0x51c55b[_0x264d61(0x648)]['id']},_0x42011a=_0x4f8b75['chatLog'][_0x264d61(0x444)];Object[_0x264d61(0x252)](_0x42011a,_0x844b5c),_0x4f8b75[_0x264d61(0x41c)][_0x264d61(0x444)]=_0x42011a,this[_0x264d61(0x3d6)](_0x4f8b75,_0xfbb861,_0x6839f1);}else{let _0x483928={'error':!0x0};this[_0x264d61(0x3d6)](_0x4f8b75,_0xfbb861,_0x483928),this[_0x264d61(0x5a9)][_0x264d61(0x6b1)](this['instanceName']+'\x20('+this[_0x264d61(0x3f3)][_0x264d61(0x4cc)]+_0x264d61(0x720));}}catch(_0x4def76){let _0x34c7de={'error':!0x0,'errorLog':_0x4def76['toString']()};this['updateConversation'](_0x4f8b75,_0xfbb861,_0x34c7de),this[_0x264d61(0x5a9)]['error'](this[_0x264d61(0x524)]+'\x20('+this[_0x264d61(0x3f3)][_0x264d61(0x4cc)]+_0x264d61(0x336)+_0x4def76[_0x264d61(0x1cf)]());}}async['uazapiSendAudio'](_0x7a367b,_0x1925d6,_0x17e9f9){const _0x35353f=a0_0x6619de;this['logger'][_0x35353f(0x45d)](this[_0x35353f(0x524)]+'\x20('+this['instance'][_0x35353f(0x4cc)]+_0x35353f(0x513));let _0x599221={'number':_0x17e9f9,'options':{'delay':_0x1925d6[_0x35353f(0x46e)][_0x35353f(0x198)]},'audioMessage':{'audio':_0x1925d6['uazapi'][_0x35353f(0x368)]}};try{let _0x5cadf7=await this[_0x35353f(0x2d3)](_0x599221);if(_0x5cadf7){let _0x350bd9={'_id':_0x5cadf7['key']['id'],'_fromMe':_0x5cadf7['key'][_0x35353f(0x1e3)],'_remoteJid':_0x5cadf7[_0x35353f(0x648)][_0x35353f(0x2fb)]};_0x7a367b[_0x35353f(0x41c)][_0x35353f(0x2eb)]=_0x1925d6[_0x35353f(0x519)][_0x35353f(0x1cf)]();let {message_normalized:_0x3b2738}=this['normalizeMessage'](_0x5cadf7[_0x35353f(0x1cb)],J(_0x5cadf7[_0x35353f(0x1cb)]),null);_0x7a367b[_0x35353f(0x41c)][_0x35353f(0x321)]=await _0x3b2738;let _0x3634d1={'messageId':_0x5cadf7[_0x35353f(0x648)]['id']},_0x3db6e9=_0x7a367b[_0x35353f(0x41c)][_0x35353f(0x444)];Object[_0x35353f(0x252)](_0x3db6e9,_0x350bd9),_0x7a367b[_0x35353f(0x41c)]['realVariables']=_0x3db6e9,this['updateConversation'](_0x7a367b,_0x1925d6,_0x3634d1);}else{let _0x512852={'error':!0x0};this['updateConversation'](_0x7a367b,_0x1925d6,_0x512852),this[_0x35353f(0x5a9)][_0x35353f(0x6b1)](this[_0x35353f(0x524)]+'\x20('+this[_0x35353f(0x3f3)]['wuid']+_0x35353f(0x307));}}catch(_0x2bc652){let _0x1d6c6b={'error':!0x0,'errorLog':_0x2bc652['toString']()};this['updateConversation'](_0x7a367b,_0x1925d6,_0x1d6c6b),this[_0x35353f(0x5a9)]['error'](this['instanceName']+'\x20('+this[_0x35353f(0x3f3)]['wuid']+_0x35353f(0x5d3)+_0x2bc652['toString']());}}async[a0_0x6619de(0x561)](_0x3ab677,_0x928fa1,_0x833d6b){const _0x30e692=a0_0x6619de;this[_0x30e692(0x5a9)]['verbose'](this[_0x30e692(0x524)]+'\x20('+this[_0x30e692(0x3f3)][_0x30e692(0x4cc)]+_0x30e692(0x268));let _0x52d17b={'number':_0x833d6b,'options':{'delay':_0x928fa1[_0x30e692(0x46e)][_0x30e692(0x198)]},'contactMessage':[{'fullName':_0x928fa1[_0x30e692(0x46e)][_0x30e692(0x249)],'phoneNumber':_0x928fa1[_0x30e692(0x46e)][_0x30e692(0x6a0)]}]};try{let _0x218d5c=await this['contactMessage'](_0x52d17b);if(_0x218d5c){let _0x402612={'_id':_0x218d5c[_0x30e692(0x648)]['id'],'_fromMe':_0x218d5c[_0x30e692(0x648)][_0x30e692(0x1e3)],'_remoteJid':_0x218d5c[_0x30e692(0x648)][_0x30e692(0x2fb)]};_0x3ab677[_0x30e692(0x41c)]['lastBlockId']=_0x928fa1['_id'][_0x30e692(0x1cf)]();let {message_normalized:_0x527a6b}=this[_0x30e692(0x3d2)](_0x218d5c[_0x30e692(0x1cb)],J(_0x218d5c[_0x30e692(0x1cb)]),null);_0x3ab677[_0x30e692(0x41c)][_0x30e692(0x321)]=await _0x527a6b;let _0x240ce0={'messageId':_0x218d5c[_0x30e692(0x648)]['id']},_0x416432=_0x3ab677[_0x30e692(0x41c)][_0x30e692(0x444)];Object['assign'](_0x416432,_0x402612),_0x3ab677['chatLog'][_0x30e692(0x444)]=_0x416432,this[_0x30e692(0x3d6)](_0x3ab677,_0x928fa1,_0x240ce0);}else{let _0x1bbfab={'error':!0x0};this[_0x30e692(0x3d6)](_0x3ab677,_0x928fa1,_0x1bbfab),this[_0x30e692(0x5a9)]['error'](this[_0x30e692(0x524)]+'\x20('+this[_0x30e692(0x3f3)][_0x30e692(0x4cc)]+_0x30e692(0x3b2));}}catch(_0x3cfded){let _0x384a33={'error':!0x0,'errorLog':_0x3cfded[_0x30e692(0x1cf)]()};this[_0x30e692(0x3d6)](_0x3ab677,_0x928fa1,_0x384a33),this[_0x30e692(0x5a9)][_0x30e692(0x6b1)](this[_0x30e692(0x524)]+'\x20('+this['instance'][_0x30e692(0x4cc)]+_0x30e692(0x5c1)+_0x3cfded[_0x30e692(0x1cf)]());}}['replaceVariablesInReplyOptions'](_0x470ae7,_0x4a2065){const _0x212a70=a0_0x6619de;for(let _0x189f45 of _0x470ae7)_0x189f45['option']&&(_0x189f45[_0x212a70(0x398)]=this[_0x212a70(0x753)](_0x189f45[_0x212a70(0x398)],_0x4a2065)),_0x189f45['optionDescription']&&(_0x189f45[_0x212a70(0x4d5)]=this['replaceVariables'](_0x189f45[_0x212a70(0x4d5)],_0x4a2065));}async[a0_0x6619de(0x251)](_0x33b6c3,_0x1495b7,_0x25b42d){const _0x448e88=a0_0x6619de;this[_0x448e88(0x5a9)][_0x448e88(0x45d)](this[_0x448e88(0x524)]+'\x20('+this[_0x448e88(0x3f3)][_0x448e88(0x4cc)]+_0x448e88(0x40c));let _0x2e5f89=_0x33b6c3['replyOptions'][_0x448e88(0x6e8)](_0x5e810c=>_0x5e810c['blockId']===_0x1495b7[_0x448e88(0x519)]);this['replaceVariablesInReplyOptions'](_0x2e5f89,_0x33b6c3[_0x448e88(0x41c)][_0x448e88(0x444)]);let _0x32264a=_0x2e5f89['map'](_0x2887db=>_0x2887db[_0x448e88(0x398)]),_0x25f498={'number':_0x25b42d,'options':{'delay':_0x1495b7['uazapi'][_0x448e88(0x198)]},'pollMessage':{'name':_0x1495b7[_0x448e88(0x46e)][_0x448e88(0x5c4)],'selectableCount':0x1,'values':_0x32264a}};try{let _0x53faf7=await this[_0x448e88(0x63b)](_0x25f498);if(_0x53faf7){let _0x58766d={'_id':_0x53faf7[_0x448e88(0x648)]['id'],'_fromMe':_0x53faf7[_0x448e88(0x648)][_0x448e88(0x1e3)],'_remoteJid':_0x53faf7[_0x448e88(0x648)]['remoteJid']};this[_0x448e88(0x5a9)][_0x448e88(0x45d)](this['instanceName']+'\x20('+this[_0x448e88(0x3f3)][_0x448e88(0x4cc)]+'):\x20nextBlock.uazapi.name'+_0x1495b7[_0x448e88(0x46e)][_0x448e88(0x5c4)]),_0x33b6c3[_0x448e88(0x5a4)]=_0x53faf7['key']['id'],_0x33b6c3[_0x448e88(0x4c2)]=_0x1495b7[_0x448e88(0x46e)][_0x448e88(0x5c4)],_0x33b6c3[_0x448e88(0x510)]=_0x2e5f89,this[_0x448e88(0x5a9)][_0x448e88(0x45d)](this[_0x448e88(0x524)]+'\x20('+this[_0x448e88(0x3f3)]['wuid']+_0x448e88(0x42f)+_0x33b6c3[_0x448e88(0x4c2)]),_0x33b6c3[_0x448e88(0x41c)]['lastBlockId']=_0x1495b7[_0x448e88(0x519)][_0x448e88(0x1cf)]();let {message_normalized:_0x258f78}=this['normalizeMessage'](_0x53faf7[_0x448e88(0x1cb)],J(_0x53faf7[_0x448e88(0x1cb)]),null);_0x33b6c3[_0x448e88(0x41c)]['lastSendMessage']=await _0x258f78;let _0x251c65={'messageId':_0x53faf7[_0x448e88(0x648)]['id']},_0x1bda3e=_0x33b6c3['chatLog'][_0x448e88(0x444)];Object[_0x448e88(0x252)](_0x1bda3e,_0x58766d),_0x33b6c3['chatLog'][_0x448e88(0x444)]=_0x1bda3e,this[_0x448e88(0x3d6)](_0x33b6c3,_0x1495b7,_0x251c65);}else{let _0x206b9c={'error':!0x0};this[_0x448e88(0x3d6)](_0x33b6c3,_0x1495b7,_0x206b9c),this[_0x448e88(0x5a9)]['error'](this[_0x448e88(0x524)]+'\x20('+this[_0x448e88(0x3f3)][_0x448e88(0x4cc)]+_0x448e88(0x20e));}}catch(_0xeefca2){let _0x1422c3={'error':!0x0,'errorLog':_0xeefca2['toString']()};this[_0x448e88(0x3d6)](_0x33b6c3,_0x1495b7,_0x1422c3),this[_0x448e88(0x5a9)][_0x448e88(0x6b1)](this[_0x448e88(0x524)]+'\x20('+this['instance'][_0x448e88(0x4cc)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+_0xeefca2['toString']());}}async[a0_0x6619de(0x25c)](_0x1f54de,_0x181989,_0x248185){const _0x5d277b=a0_0x6619de;this[_0x5d277b(0x5a9)][_0x5d277b(0x45d)](this[_0x5d277b(0x524)]+'\x20('+this[_0x5d277b(0x3f3)][_0x5d277b(0x4cc)]+_0x5d277b(0x42d));let _0x176709=_0x1f54de[_0x5d277b(0x41c)][_0x5d277b(0x4c6)][_0x5d277b(0x451)](_0x1a6870=>_0x1a6870['blockId'][_0x5d277b(0x1cf)]()===_0x181989['uazapi'][_0x5d277b(0x3c5)]['toString']()),_0x54672c={'id':_0x176709[_0x5d277b(0x5e0)],'remoteJid':_0x176709['remoteJid'],'fromMe':_0x176709[_0x5d277b(0x1e3)]};try{let _0x5e2ae3=await this['deleteMessage'](_0x54672c);if(_0x5e2ae3){_0x1f54de[_0x5d277b(0x41c)]['lastBlockId']=_0x181989[_0x5d277b(0x519)][_0x5d277b(0x1cf)]();let {message_normalized:_0x583896}=this[_0x5d277b(0x3d2)](_0x5e2ae3['message'],J(_0x5e2ae3['message']),null);_0x1f54de[_0x5d277b(0x41c)]['lastSendMessage']=await _0x583896;let _0x8bef2c={};this[_0x5d277b(0x3d6)](_0x1f54de,_0x181989,_0x8bef2c);}else{let _0x5cfad2={'error':!0x0};this[_0x5d277b(0x3d6)](_0x1f54de,_0x181989,_0x5cfad2),this[_0x5d277b(0x5a9)][_0x5d277b(0x6b1)](this[_0x5d277b(0x524)]+'\x20('+this['instance'][_0x5d277b(0x4cc)]+_0x5d277b(0x476));}}catch(_0x5da98d){let _0x4123ed={'error':!0x0,'errorLog':_0x5da98d['toString']()};this['updateConversation'](_0x1f54de,_0x181989,_0x4123ed),this[_0x5d277b(0x5a9)][_0x5d277b(0x6b1)](this['instanceName']+'\x20('+this[_0x5d277b(0x3f3)][_0x5d277b(0x4cc)]+_0x5d277b(0x58d)+_0x5da98d[_0x5d277b(0x1cf)]());}}async['createFlow'](_0x2011e3){const _0x103e9e=a0_0x6619de;try{if(this[_0x103e9e(0x5a9)]['verbose'](this['instanceName']+'\x20('+this[_0x103e9e(0x3f3)][_0x103e9e(0x4cc)]+_0x103e9e(0x439)),await I[_0x103e9e(0x47a)]({'owner':this[_0x103e9e(0x3f3)][_0x103e9e(0x4cc)],'name':_0x2011e3[_0x103e9e(0x5c4)]}))return{'message':_0x103e9e(0x472)};_0x2011e3[_0x103e9e(0x411)]===!0x0&&await I['updateMany']({'owner':this[_0x103e9e(0x3f3)][_0x103e9e(0x4cc)]},{'default':!0x1});let _0x1f60ec=new we[(_0x103e9e(0x19f))]['ObjectId'](),_0x4dcc8f={'_id':_0x1f60ec,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x29a87f={'_id':new we[(_0x103e9e(0x19f))][(_0x103e9e(0x2af))](),'order':0x1,'groupId':_0x1f60ec[_0x103e9e(0x1cf)](),'type':'start'};return await I[_0x103e9e(0x1db)]({'owner':this[_0x103e9e(0x3f3)][_0x103e9e(0x4cc)],'name':_0x2011e3[_0x103e9e(0x5c4)],'groups':[_0x4dcc8f],'blocks':[_0x29a87f],..._0x2011e3});}catch(_0x5ac3d3){throw this[_0x103e9e(0x5a9)][_0x103e9e(0x6b1)](this[_0x103e9e(0x524)]+'\x20('+this[_0x103e9e(0x3f3)][_0x103e9e(0x4cc)]+_0x103e9e(0x2a0)+_0x5ac3d3),new g(_0x103e9e(0x74a)+_0x5ac3d3);}}async[a0_0x6619de(0x624)](_0x2d25b0){const _0x5b7a7a=a0_0x6619de;try{return this['logger'][_0x5b7a7a(0x45d)](this[_0x5b7a7a(0x524)]+'\x20('+this[_0x5b7a7a(0x3f3)]['wuid']+_0x5b7a7a(0x3cf)),await I[_0x5b7a7a(0x2a1)]({'owner':this['instance'][_0x5b7a7a(0x4cc)],'name':_0x2d25b0});}catch(_0x4c95c3){return this[_0x5b7a7a(0x5a9)][_0x5b7a7a(0x6b1)](this['instanceName']+'\x20('+this[_0x5b7a7a(0x3f3)][_0x5b7a7a(0x4cc)]+_0x5b7a7a(0x20f)+_0x4c95c3),{'message':_0x5b7a7a(0x248)+_0x4c95c3};}}async[a0_0x6619de(0x6cd)](_0x4db95a){const _0x4ff6a7=a0_0x6619de;try{this[_0x4ff6a7(0x5a9)][_0x4ff6a7(0x45d)](this[_0x4ff6a7(0x524)]+'\x20('+this[_0x4ff6a7(0x3f3)][_0x4ff6a7(0x4cc)]+_0x4ff6a7(0x4c7));let _0x30e4ae=await I[_0x4ff6a7(0x47a)]({'owner':this[_0x4ff6a7(0x3f3)][_0x4ff6a7(0x4cc)],'name':_0x4db95a});if(!_0x30e4ae)throw new Error(_0x4ff6a7(0x577));if(!this[_0x4ff6a7(0x732)]&&(await this[_0x4ff6a7(0x432)](),!this[_0x4ff6a7(0x732)]))return null;let _0x1633f3=this['AutomateSystem']?.[_0x4ff6a7(0x65a)][_0x4ff6a7(0x3e9)](_0x3476d4=>_0x3476d4[_0x4ff6a7(0x5c4)]),_0x360c97=[_0x4ff6a7(0x2ef),'nomecompleto',_0x4ff6a7(0x4d7),_0x4ff6a7(0x181),_0x4ff6a7(0x3cc),_0x4ff6a7(0x470),_0x4ff6a7(0x5b2),_0x4ff6a7(0x6f6)];return _0x30e4ae[_0x4ff6a7(0x194)]=_0x30e4ae[_0x4ff6a7(0x194)][_0x4ff6a7(0x6e8)](_0x9c88b8=>!(_0x9c88b8[_0x4ff6a7(0x59d)]==='leadInfo'||_0x9c88b8[_0x4ff6a7(0x6d9)])),_0x360c97[_0x4ff6a7(0x2e4)](_0x20ef1c=>{const _0x37066f=_0x4ff6a7;_0x30e4ae[_0x37066f(0x194)][_0x37066f(0x44c)]({'folder':_0x37066f(0x6d9),'name':_0x20ef1c,'value':'','doc':'','leadInfo':!0x0});}),_0x1633f3[_0x4ff6a7(0x2e4)](_0x21669e=>{const _0x535cc2=_0x4ff6a7;let _0x21d597=_0x30e4ae[_0x535cc2(0x194)][_0x535cc2(0x4d1)](_0x4add72=>_0x4add72[_0x535cc2(0x5c4)]===_0x21669e);_0x21d597===-0x1?_0x30e4ae['variables'][_0x535cc2(0x44c)]({'folder':'leadInfo','name':_0x21669e,'value':'','doc':'','leadInfo':!0x0}):(_0x30e4ae[_0x535cc2(0x194)][_0x21d597][_0x535cc2(0x59d)]=_0x535cc2(0x6d9),_0x30e4ae['variables'][_0x21d597][_0x535cc2(0x6d9)]=!0x0);}),_0x30e4ae[_0x4ff6a7(0x44d)]&&_0x30e4ae[_0x4ff6a7(0x44d)][_0x4ff6a7(0x41d)]>0x0&&_0x30e4ae[_0x4ff6a7(0x44d)][_0x4ff6a7(0x2e4)](_0x468e55=>{const _0x6bb23b=_0x4ff6a7;_0x468e55[_0x6bb23b(0x3b4)]&&_0x468e55[_0x6bb23b(0x1ec)]&&_0x468e55[_0x6bb23b(0x3b4)]===_0x468e55[_0x6bb23b(0x1ec)]&&(_0x468e55[_0x6bb23b(0x1ec)]=null);}),await _0x30e4ae['save'](),_0x30e4ae;}catch(_0x5d4718){throw this[_0x4ff6a7(0x5a9)][_0x4ff6a7(0x6b1)](this['instanceName']+'\x20('+this[_0x4ff6a7(0x3f3)][_0x4ff6a7(0x4cc)]+_0x4ff6a7(0x231)+_0x5d4718),new g(_0x4ff6a7(0x53f)+_0x5d4718);}}async[a0_0x6619de(0x28b)](){const _0x424522=a0_0x6619de;try{return this[_0x424522(0x5a9)][_0x424522(0x45d)](this[_0x424522(0x524)]+'\x20('+this[_0x424522(0x3f3)][_0x424522(0x4cc)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await I[_0x424522(0x451)]({'owner':this['instance']['wuid']});}catch(_0x2ebff0){return this[_0x424522(0x5a9)][_0x424522(0x6b1)](this['instanceName']+'\x20('+this[_0x424522(0x3f3)][_0x424522(0x4cc)]+_0x424522(0x4a2)+_0x2ebff0),{'message':_0x424522(0x403)+_0x2ebff0};}}async[a0_0x6619de(0x563)](_0x1706bd){const _0x7f6915=a0_0x6619de;try{this[_0x7f6915(0x5a9)][_0x7f6915(0x45d)](this[_0x7f6915(0x524)]+'\x20('+this[_0x7f6915(0x3f3)][_0x7f6915(0x4cc)]+_0x7f6915(0x4da));let _0x3e63c8=await I['findOne']({'owner':this[_0x7f6915(0x3f3)][_0x7f6915(0x4cc)],'name':_0x1706bd[_0x7f6915(0x5c4)]});if(!_0x3e63c8)return{'message':_0x7f6915(0x222)};if(_0x1706bd[_0x7f6915(0x411)]===!0x0&&await I[_0x7f6915(0x616)]({'owner':this[_0x7f6915(0x3f3)][_0x7f6915(0x4cc)]},{'default':!0x1}),_0x1706bd[_0x7f6915(0x594)]){if(await I[_0x7f6915(0x47a)]({'owner':this[_0x7f6915(0x3f3)][_0x7f6915(0x4cc)],'name':_0x1706bd[_0x7f6915(0x594)]}))return{'message':'Já\x20existe\x20fluxo\x20com\x20esse\x20nome'};_0x1706bd[_0x7f6915(0x5c4)]=_0x1706bd['newName'],delete _0x1706bd[_0x7f6915(0x594)];}return await I[_0x7f6915(0x1fc)](_0x3e63c8[_0x7f6915(0x519)],{'$set':_0x1706bd},{'new':!0x0});}catch(_0x8a689f){throw this[_0x7f6915(0x5a9)][_0x7f6915(0x6b1)](this[_0x7f6915(0x524)]+'\x20('+this[_0x7f6915(0x3f3)]['wuid']+_0x7f6915(0x1e2)+_0x8a689f),new g(_0x7f6915(0x1e5)+_0x8a689f);}}async[a0_0x6619de(0x4fe)](_0x4c96f8){const _0x45f72e=a0_0x6619de;try{this[_0x45f72e(0x5a9)][_0x45f72e(0x45d)](this[_0x45f72e(0x524)]+'\x20('+this['instance'][_0x45f72e(0x4cc)]+_0x45f72e(0x218));let _0x3f4811={'owner':this[_0x45f72e(0x3f3)]['wuid'],'name':_0x4c96f8['name']},_0x4bdfe=await I[_0x45f72e(0x47a)](_0x3f4811);_0x4bdfe||this['throwAndLogError']('Flow\x20não\x20encontrado');let {block:_0xd682ab}=_0x4c96f8;return _0xd682ab?.[_0x45f72e(0x434)]?this[_0x45f72e(0x45b)](_0x4bdfe,_0x4c96f8):_0xd682ab[_0x45f72e(0x519)]?await this[_0x45f72e(0x5ee)](_0x4bdfe,_0x4c96f8):this[_0x45f72e(0x3e3)](_0x4bdfe,_0x4c96f8),await _0x4bdfe[_0x45f72e(0x65c)](),_0x4bdfe;}catch(_0x58a6cc){this[_0x45f72e(0x333)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x58a6cc);}}[a0_0x6619de(0x333)](_0x3daeb8){const _0x461ed3=a0_0x6619de;throw this[_0x461ed3(0x5a9)][_0x461ed3(0x6b1)](this[_0x461ed3(0x524)]+'\x20('+this['instance'][_0x461ed3(0x4cc)]+_0x461ed3(0x68a)+_0x3daeb8),new g(_0x3daeb8);}['deleteBlock'](_0x24bfd6,_0x4e07ba){const _0x2de0fa=a0_0x6619de;let {block:_0x4a522e}=_0x4e07ba;if(_0x4a522e['type']==='start'){this['throwAndLogError'](_0x2de0fa(0x5fe));return;}if(!_0x4a522e[_0x2de0fa(0x519)]){this[_0x2de0fa(0x333)](_0x2de0fa(0x55b));return;}let _0x2e1366=_0x24bfd6['blocks'][_0x2de0fa(0x451)](_0x1d9bec=>_0x1d9bec['_id'][_0x2de0fa(0x1cf)]()===_0x4e07ba[_0x2de0fa(0x495)][_0x2de0fa(0x519)]['toString']());if(!_0x2e1366){this[_0x2de0fa(0x333)]('Bloco\x20com\x20ID\x20'+_0x4a522e[_0x2de0fa(0x519)]+'\x20não\x20encontrado');return;}_0x24bfd6[_0x2de0fa(0x44d)]=_0x24bfd6[_0x2de0fa(0x44d)][_0x2de0fa(0x6e8)](_0x12c5f3=>_0x12c5f3[_0x2de0fa(0x519)][_0x2de0fa(0x1cf)]()!==_0x4e07ba['block'][_0x2de0fa(0x519)]['toString']()),_0x24bfd6[_0x2de0fa(0x2bf)]=_0x24bfd6[_0x2de0fa(0x2bf)][_0x2de0fa(0x6e8)](_0x314346=>_0x314346[_0x2de0fa(0x3c5)]!==_0x4a522e['_id'][_0x2de0fa(0x1cf)]()),_0x24bfd6[_0x2de0fa(0x4e9)]=_0x24bfd6[_0x2de0fa(0x4e9)]['filter'](_0x49d796=>_0x49d796['blockId']!==_0x4a522e['_id'][_0x2de0fa(0x1cf)]()),_0x24bfd6[_0x2de0fa(0x6c9)]=_0x24bfd6[_0x2de0fa(0x6c9)][_0x2de0fa(0x6e8)](_0x455108=>_0x455108[_0x2de0fa(0x3c5)]!==_0x4a522e['_id'][_0x2de0fa(0x1cf)]()),this[_0x2de0fa(0x189)](_0x24bfd6[_0x2de0fa(0x44d)],_0x2e1366[_0x2de0fa(0x3b4)]);}async[a0_0x6619de(0x5ee)](_0xc13d0d,_0x3ecb5e){const _0x2872d8=a0_0x6619de;let _0x1d005d=_0xc13d0d[_0x2872d8(0x44d)]['findIndex'](_0x5417ae=>_0x5417ae[_0x2872d8(0x519)][_0x2872d8(0x1cf)]()===_0x3ecb5e[_0x2872d8(0x495)][_0x2872d8(0x519)][_0x2872d8(0x1cf)]());if(this[_0x2872d8(0x5a9)][_0x2872d8(0x45d)](this[_0x2872d8(0x524)]+'\x20('+this['instance'][_0x2872d8(0x4cc)]+_0x2872d8(0x485)+_0x1d005d),_0x1d005d===-0x1){this[_0x2872d8(0x5a9)]['verbose']('Bloco\x20com\x20ID\x20'+_0x3ecb5e[_0x2872d8(0x495)][_0x2872d8(0x519)]+_0x2872d8(0x550));return;}if(_0xc13d0d['blocks'][_0x1d005d]['type']===_0x2872d8(0x3bb)){let _0x5040d9=Object[_0x2872d8(0x5f1)](_0x3ecb5e[_0x2872d8(0x495)]);if(_0x5040d9['length']>0x2||_0x5040d9[_0x2872d8(0x41d)]===0x2&&!_0x5040d9[_0x2872d8(0x569)](_0x2872d8(0x1ec))){this[_0x2872d8(0x333)](_0x2872d8(0x4f4));return;}}let _0x1b1369=_0xc13d0d['blocks'][_0x1d005d][_0x2872d8(0x3b4)];for(let _0x59848c in _0x3ecb5e[_0x2872d8(0x495)])_0x3ecb5e['block']['hasOwnProperty'](_0x59848c)&&(_0xc13d0d['blocks'][_0x1d005d][_0x59848c]=_0x3ecb5e[_0x2872d8(0x495)][_0x59848c]);if(this[_0x2872d8(0x5a9)][_0x2872d8(0x45d)](this[_0x2872d8(0x524)]+'\x20('+this[_0x2872d8(0x3f3)]['wuid']+_0x2872d8(0x706)+JSON[_0x2872d8(0x24c)](_0xc13d0d['blocks'][_0x1d005d])),_0xc13d0d['blocks'][_0x1d005d][_0x2872d8(0x57d)]&&_0x2872d8(0x692)in _0xc13d0d[_0x2872d8(0x44d)][_0x1d005d]['apirequest']){this[_0x2872d8(0x5a9)][_0x2872d8(0x45d)](this[_0x2872d8(0x524)]+'\x20('+this[_0x2872d8(0x3f3)][_0x2872d8(0x4cc)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4d57a7=JSON[_0x2872d8(0x24c)](_0xc13d0d['blocks'][_0x1d005d]['apirequest'][_0x2872d8(0x692)],null,0x1);_0x4d57a7[_0x2872d8(0x41d)]>0x2&&(_0x4d57a7=_0x4d57a7[_0x2872d8(0x587)](0x1,_0x4d57a7['length']-0x1)['trim']()),_0xc13d0d[_0x2872d8(0x44d)][_0x1d005d][_0x2872d8(0x57d)][_0x2872d8(0x560)]=_0x4d57a7;}if(_0xc13d0d[_0x2872d8(0x44d)][_0x1d005d][_0x2872d8(0x57d)]&&_0x2872d8(0x23e)in _0xc13d0d['blocks'][_0x1d005d][_0x2872d8(0x57d)]){this[_0x2872d8(0x5a9)][_0x2872d8(0x45d)](this[_0x2872d8(0x524)]+'\x20('+this['instance'][_0x2872d8(0x4cc)]+_0x2872d8(0x24e));let _0x249d49=JSON[_0x2872d8(0x24c)](_0xc13d0d[_0x2872d8(0x44d)][_0x1d005d][_0x2872d8(0x57d)][_0x2872d8(0x23e)],null,0x1);_0x249d49[_0x2872d8(0x41d)]>0x2&&(_0x249d49=_0x249d49[_0x2872d8(0x587)](0x1,_0x249d49[_0x2872d8(0x41d)]-0x1)[_0x2872d8(0x3c1)]()),_0xc13d0d[_0x2872d8(0x44d)][_0x1d005d]['apirequest']['bodyString']=_0x249d49;}let _0x36b435=_0xc13d0d['blocks'][_0x1d005d][_0x2872d8(0x3b4)];_0x1b1369!==_0x36b435?(this[_0x2872d8(0x189)](_0xc13d0d['blocks'],_0x1b1369),this['reorderBlocks'](_0xc13d0d['blocks'],_0x36b435)):this['reorderBlocks'](_0xc13d0d[_0x2872d8(0x44d)],_0x1b1369);}[a0_0x6619de(0x3e3)](_0x4bf521,_0x3cd139){const _0x17b9c8=a0_0x6619de;if(_0x3cd139[_0x17b9c8(0x495)]['type']===_0x17b9c8(0x3bb)){this[_0x17b9c8(0x333)](_0x17b9c8(0x311));return;}if(_0x3cd139[_0x17b9c8(0x495)][_0x17b9c8(0x57d)]&&_0x17b9c8(0x692)in _0x3cd139[_0x17b9c8(0x495)]['apirequest']){this[_0x17b9c8(0x5a9)][_0x17b9c8(0x45d)](this[_0x17b9c8(0x524)]+'\x20('+this[_0x17b9c8(0x3f3)][_0x17b9c8(0x4cc)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x91d031=JSON[_0x17b9c8(0x24c)](_0x3cd139[_0x17b9c8(0x495)]['apirequest'][_0x17b9c8(0x692)],null,0x1);_0x91d031[_0x17b9c8(0x41d)]>0x2&&(_0x91d031=_0x91d031[_0x17b9c8(0x587)](0x1,_0x91d031[_0x17b9c8(0x41d)]-0x1)['trim']()),_0x3cd139[_0x17b9c8(0x495)][_0x17b9c8(0x57d)][_0x17b9c8(0x560)]=_0x91d031;}_0x3cd139[_0x17b9c8(0x495)][_0x17b9c8(0x57d)]&&_0x17b9c8(0x23e)in _0x3cd139[_0x17b9c8(0x495)][_0x17b9c8(0x57d)]&&(this['logger'][_0x17b9c8(0x45d)](this[_0x17b9c8(0x524)]+'\x20('+this['instance'][_0x17b9c8(0x4cc)]+_0x17b9c8(0x24e)),_0x3cd139[_0x17b9c8(0x495)][_0x17b9c8(0x57d)][_0x17b9c8(0x328)]=JSON[_0x17b9c8(0x24c)](_0x3cd139[_0x17b9c8(0x495)]['apirequest'][_0x17b9c8(0x23e)],null,0x1)[_0x17b9c8(0x3c1)]()),_0x4bf521['blocks'][_0x17b9c8(0x44c)](_0x3cd139[_0x17b9c8(0x495)]),this[_0x17b9c8(0x189)](_0x4bf521[_0x17b9c8(0x44d)],_0x3cd139[_0x17b9c8(0x495)][_0x17b9c8(0x3b4)]);}['reorderBlocks'](_0x8e5bc0,_0x446ea9){const _0x3b2575=a0_0x6619de;let _0x2627f3=_0x8e5bc0[_0x3b2575(0x6e8)](_0x294454=>_0x294454[_0x3b2575(0x3b4)]===_0x446ea9);_0x2627f3[_0x3b2575(0x685)]((_0x2da7ca,_0x40b3e7)=>_0x2da7ca[_0x3b2575(0x656)]-_0x40b3e7[_0x3b2575(0x656)]),_0x2627f3['forEach']((_0x4acce1,_0x2e023f)=>_0x4acce1['order']=_0x2e023f+0x1);}async[a0_0x6619de(0x281)](_0x1f045c){const _0x54e23a=a0_0x6619de;try{if(this['logger'][_0x54e23a(0x45d)](this[_0x54e23a(0x524)]+'\x20('+this[_0x54e23a(0x3f3)][_0x54e23a(0x4cc)]+_0x54e23a(0x406)),!_0x1f045c||!_0x1f045c[_0x54e23a(0x303)]){this[_0x54e23a(0x333)](_0x54e23a(0x4ca));return;}let _0x343573={'owner':this[_0x54e23a(0x3f3)][_0x54e23a(0x4cc)],'name':_0x1f045c[_0x54e23a(0x5c4)]},_0x519fbe=await I[_0x54e23a(0x47a)](_0x343573);_0x519fbe||this[_0x54e23a(0x333)](_0x54e23a(0x577));let {replyOption:_0x5a3d22}=_0x1f045c;return _0x5a3d22?.[_0x54e23a(0x434)]?this[_0x54e23a(0x5fa)](_0x519fbe,_0x1f045c):_0x5a3d22[_0x54e23a(0x519)]?await this[_0x54e23a(0x687)](_0x519fbe,_0x1f045c):this['addReplyOption'](_0x519fbe,_0x1f045c),await _0x519fbe[_0x54e23a(0x65c)](),_0x519fbe;}catch(_0xb1868d){this[_0x54e23a(0x333)](_0x54e23a(0x44e)+_0xb1868d);}}[a0_0x6619de(0x5fa)](_0x5b0378,_0x1ba162){const _0xab8d1f=a0_0x6619de;let {replyOption:_0x2fc477}=_0x1ba162;if(!_0x2fc477[_0xab8d1f(0x519)]){this[_0xab8d1f(0x333)](_0xab8d1f(0x3fe));return;}if(!_0x5b0378[_0xab8d1f(0x6c9)][_0xab8d1f(0x451)](_0xc09fef=>_0xc09fef['_id']['toString']()===_0x1ba162[_0xab8d1f(0x303)][_0xab8d1f(0x519)][_0xab8d1f(0x1cf)]())){this[_0xab8d1f(0x333)](_0xab8d1f(0x193)+_0x2fc477['_id']+_0xab8d1f(0x6fc));return;}_0x5b0378[_0xab8d1f(0x6c9)]=_0x5b0378[_0xab8d1f(0x6c9)]['filter'](_0x26e0d1=>_0x26e0d1['_id'][_0xab8d1f(0x1cf)]()!==_0x1ba162[_0xab8d1f(0x303)][_0xab8d1f(0x519)][_0xab8d1f(0x1cf)]());}async[a0_0x6619de(0x687)](_0x1c0605,_0x181f3b){const _0x279238=a0_0x6619de;let _0x591c09=_0x1c0605[_0x279238(0x6c9)][_0x279238(0x4d1)](_0x3105fb=>_0x3105fb[_0x279238(0x519)][_0x279238(0x1cf)]()===_0x181f3b[_0x279238(0x303)][_0x279238(0x519)][_0x279238(0x1cf)]());if(_0x591c09===-0x1){this[_0x279238(0x333)](_0x279238(0x193)+_0x181f3b['replyOption'][_0x279238(0x519)]+_0x279238(0x550));return;}for(let _0x4c9118 in _0x181f3b[_0x279238(0x303)])_0x181f3b[_0x279238(0x303)][_0x279238(0x297)](_0x4c9118)&&(_0x1c0605[_0x279238(0x6c9)][_0x591c09][_0x4c9118]=_0x181f3b[_0x279238(0x303)][_0x4c9118]);}['addReplyOption'](_0x160e74,_0x8910ea){const _0x3e0f0c=a0_0x6619de;_0x160e74[_0x3e0f0c(0x6c9)][_0x3e0f0c(0x44c)](_0x8910ea['replyOption']);}async[a0_0x6619de(0x4aa)](_0x545033){const _0x272a65=a0_0x6619de;this[_0x272a65(0x5a9)][_0x272a65(0x45d)](this[_0x272a65(0x524)]+'\x20('+this['instance'][_0x272a65(0x4cc)]+_0x272a65(0x2a8)+_0x545033);try{this[_0x272a65(0x5a9)][_0x272a65(0x45d)](this['instanceName']+'\x20('+this[_0x272a65(0x3f3)]['wuid']+_0x272a65(0x46c));let _0xc67a98={'owner':this[_0x272a65(0x3f3)][_0x272a65(0x4cc)],'name':_0x545033[_0x272a65(0x5c4)]},_0x38b737=await I[_0x272a65(0x47a)](_0xc67a98);if(!_0x38b737)throw new Error(_0x272a65(0x577));if(_0x545033[_0x272a65(0x6b2)]&&_0x545033['group']?.[_0x272a65(0x434)]===!0x0){if(this[_0x272a65(0x5a9)][_0x272a65(0x45d)](this[_0x272a65(0x524)]+'\x20('+this[_0x272a65(0x3f3)]['wuid']+_0x272a65(0x207)),_0x545033['group']['default']===!0x0)return{'message':_0x272a65(0x3ed)};if(_0x38b737[_0x272a65(0x44d)][_0x272a65(0x2d2)](_0x2a2119=>_0x2a2119[_0x272a65(0x3b4)][_0x272a65(0x1cf)]()===_0x545033[_0x272a65(0x6b2)][_0x272a65(0x519)]))return this[_0x272a65(0x5a9)][_0x272a65(0x45d)](this[_0x272a65(0x524)]+'\x20('+this['instance'][_0x272a65(0x4cc)]+_0x272a65(0x5f8)),{'message':_0x272a65(0x1f9)};_0x38b737[_0x272a65(0x272)]=_0x38b737['groups'][_0x272a65(0x6e8)](_0x5ccc4d=>_0x5ccc4d[_0x272a65(0x519)][_0x272a65(0x1cf)]()!==_0x545033[_0x272a65(0x6b2)]['_id']);}else{if(_0x545033[_0x272a65(0x6b2)]){if(_0x545033[_0x272a65(0x6b2)][_0x272a65(0x411)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x545033[_0x272a65(0x6b2)][_0x272a65(0x519)]){let _0x23b403=_0x38b737[_0x272a65(0x272)]['find'](_0x269b1a=>_0x269b1a[_0x272a65(0x519)][_0x272a65(0x1cf)]()===_0x545033[_0x272a65(0x6b2)][_0x272a65(0x519)]);_0x23b403&&(_0x545033[_0x272a65(0x6b2)]['x']<0x0&&(_0x545033[_0x272a65(0x6b2)]['x']=0x0),_0x545033[_0x272a65(0x6b2)]['y']<0x0&&(_0x545033[_0x272a65(0x6b2)]['y']=0x0),Object['assign'](_0x23b403,_0x545033[_0x272a65(0x6b2)]));}else _0x38b737[_0x272a65(0x272)][_0x272a65(0x44c)](_0x545033[_0x272a65(0x6b2)]);}}return await _0x38b737[_0x272a65(0x65c)](),_0x38b737;}catch(_0x414989){throw this[_0x272a65(0x5a9)][_0x272a65(0x6b1)](this[_0x272a65(0x524)]+'\x20('+this[_0x272a65(0x3f3)][_0x272a65(0x4cc)]+_0x272a65(0x1ad)+_0x414989),new g(_0x272a65(0x6dc)+_0x414989);}}async[a0_0x6619de(0x631)](_0x217e67){const _0x5e1f54=a0_0x6619de;try{this['logger'][_0x5e1f54(0x45d)](this[_0x5e1f54(0x524)]+'\x20('+this[_0x5e1f54(0x3f3)][_0x5e1f54(0x4cc)]+_0x5e1f54(0x19b));let _0x3013a2={'owner':this[_0x5e1f54(0x3f3)][_0x5e1f54(0x4cc)],'name':_0x217e67[_0x5e1f54(0x5c4)]},_0x53cd53=await I[_0x5e1f54(0x47a)](_0x3013a2);if(!_0x53cd53)throw new Error(_0x5e1f54(0x577));let _0x398fbd=!0x1;if(_0x217e67['condition']?.[_0x5e1f54(0x434)]===!0x0)_0x53cd53[_0x5e1f54(0x2bf)]=_0x53cd53['conditions'][_0x5e1f54(0x6e8)](_0x29f1d8=>_0x29f1d8&&_0x217e67[_0x5e1f54(0x619)]&&_0x29f1d8[_0x5e1f54(0x519)]&&_0x217e67['condition'][_0x5e1f54(0x519)]&&_0x29f1d8[_0x5e1f54(0x519)][_0x5e1f54(0x1cf)]()!==_0x217e67[_0x5e1f54(0x619)][_0x5e1f54(0x519)]['toString']()),_0x398fbd=!0x0;else{let _0x1a93b8=_0x53cd53['conditions'][_0x5e1f54(0x451)](_0x3f1ea2=>_0x3f1ea2&&_0x217e67[_0x5e1f54(0x619)]&&_0x3f1ea2[_0x5e1f54(0x519)]&&_0x217e67[_0x5e1f54(0x619)][_0x5e1f54(0x519)]&&_0x3f1ea2[_0x5e1f54(0x519)][_0x5e1f54(0x1cf)]()===_0x217e67[_0x5e1f54(0x619)]['_id'][_0x5e1f54(0x1cf)]());_0x1a93b8?(_0x398fbd=_0x1a93b8[_0x5e1f54(0x656)]!==_0x217e67['condition']['order'],Object[_0x5e1f54(0x252)](_0x1a93b8,_0x217e67[_0x5e1f54(0x619)])):(_0x53cd53[_0x5e1f54(0x2bf)][_0x5e1f54(0x44c)](_0x217e67['condition']),_0x398fbd=!0x0);}if(_0x398fbd){_0x53cd53['conditions'][_0x5e1f54(0x685)]((_0x3b3092,_0xa1e353)=>_0x3b3092[_0x5e1f54(0x656)]>_0xa1e353[_0x5e1f54(0x656)]?0x1:_0xa1e353[_0x5e1f54(0x656)]>_0x3b3092['order']?-0x1:0x0);for(let _0x39cba3=0x0;_0x39cba3<_0x53cd53[_0x5e1f54(0x2bf)][_0x5e1f54(0x41d)];_0x39cba3++)_0x53cd53['conditions'][_0x39cba3][_0x5e1f54(0x656)]=_0x39cba3+0x1;_0x53cd53[_0x5e1f54(0x2bf)]['length']>0x0&&(_0x53cd53[_0x5e1f54(0x2bf)][0x0][_0x5e1f54(0x5ec)]=_0x5e1f54(0x74d));}return await _0x53cd53[_0x5e1f54(0x65c)](),_0x53cd53;}catch(_0x3f580c){throw this['logger']['error'](this[_0x5e1f54(0x524)]+'\x20('+this['instance'][_0x5e1f54(0x4cc)]+_0x5e1f54(0x2d1)+_0x3f580c),new Error(_0x5e1f54(0x4c9)+_0x3f580c);}}async['editFlowVaredit'](_0x35d8b9){const _0x3f1416=a0_0x6619de;try{this['logger']['verbose'](this[_0x3f1416(0x524)]+'\x20('+this[_0x3f1416(0x3f3)][_0x3f1416(0x4cc)]+_0x3f1416(0x4a3));let _0x3e6a9b={'owner':this[_0x3f1416(0x3f3)][_0x3f1416(0x4cc)],'name':_0x35d8b9[_0x3f1416(0x5c4)]},_0x4aa896=await I[_0x3f1416(0x47a)](_0x3e6a9b);if(!_0x4aa896)throw new Error('Flow\x20não\x20encontrado');let _0x371261=!0x1;if(_0x35d8b9[_0x3f1416(0x276)]?.['delete']===!0x0)_0x4aa896[_0x3f1416(0x4e9)]=_0x4aa896[_0x3f1416(0x4e9)][_0x3f1416(0x6e8)](_0x5c2c60=>_0x5c2c60&&_0x35d8b9[_0x3f1416(0x276)]&&_0x5c2c60[_0x3f1416(0x519)]&&_0x35d8b9[_0x3f1416(0x276)]['_id']&&_0x5c2c60['_id'][_0x3f1416(0x1cf)]()!==_0x35d8b9['varedit'][_0x3f1416(0x519)]['toString']()),_0x371261=!0x0;else{let _0x1c35db=_0x4aa896[_0x3f1416(0x4e9)][_0x3f1416(0x451)](_0xc99ae6=>_0xc99ae6&&_0x35d8b9[_0x3f1416(0x276)]&&_0xc99ae6['_id']&&_0x35d8b9['varedit'][_0x3f1416(0x519)]&&_0xc99ae6[_0x3f1416(0x519)][_0x3f1416(0x1cf)]()===_0x35d8b9[_0x3f1416(0x276)][_0x3f1416(0x519)]['toString']());_0x1c35db?(_0x371261=_0x1c35db['order']!==_0x35d8b9[_0x3f1416(0x276)][_0x3f1416(0x656)],Object['assign'](_0x1c35db,_0x35d8b9['varedit'])):(_0x4aa896[_0x3f1416(0x4e9)][_0x3f1416(0x44c)](_0x35d8b9['varedit']),_0x371261=!0x0);}if(_0x371261){_0x4aa896['varedits']['sort']((_0x492c6d,_0x1a91fb)=>_0x492c6d[_0x3f1416(0x656)]>_0x1a91fb[_0x3f1416(0x656)]?0x1:_0x1a91fb[_0x3f1416(0x656)]>_0x492c6d[_0x3f1416(0x656)]?-0x1:0x0);for(let _0x4cf6c1=0x0;_0x4cf6c1<_0x4aa896[_0x3f1416(0x4e9)]['length'];_0x4cf6c1++)_0x4aa896[_0x3f1416(0x4e9)][_0x4cf6c1][_0x3f1416(0x656)]=_0x4cf6c1+0x1;}return await _0x4aa896[_0x3f1416(0x65c)](),_0x4aa896;}catch(_0x1a533e){throw this['logger'][_0x3f1416(0x6b1)](this[_0x3f1416(0x524)]+'\x20('+this[_0x3f1416(0x3f3)]['wuid']+_0x3f1416(0x2d1)+_0x1a533e),new g(_0x3f1416(0x4c9)+_0x1a533e);}}async[a0_0x6619de(0x4bd)](_0x35a41f){const _0x4c28ae=a0_0x6619de;try{this[_0x4c28ae(0x5a9)]['verbose'](this[_0x4c28ae(0x524)]+'\x20('+this['instance'][_0x4c28ae(0x4cc)]+_0x4c28ae(0x4e2));let _0x490801={'owner':this['instance'][_0x4c28ae(0x4cc)],'name':_0x35a41f[_0x4c28ae(0x5c4)]},_0x3aab07=await I[_0x4c28ae(0x47a)](_0x490801);if(!_0x3aab07)throw new Error('Flow\x20não\x20encontrado');_0x35a41f[_0x4c28ae(0x34b)][_0x4c28ae(0x5c4)]=_0x35a41f[_0x4c28ae(0x34b)][_0x4c28ae(0x5c4)][_0x4c28ae(0x3c1)](),_0x35a41f[_0x4c28ae(0x34b)][_0x4c28ae(0x5c4)][_0x4c28ae(0x17f)]('_')&&(_0x35a41f[_0x4c28ae(0x34b)][_0x4c28ae(0x5c4)]=_0x35a41f['variable'][_0x4c28ae(0x5c4)]['substring'](0x1)),_0x35a41f['variable'][_0x4c28ae(0x5c4)]=_0x35a41f[_0x4c28ae(0x34b)][_0x4c28ae(0x5c4)][_0x4c28ae(0x3c1)]();let _0x50f9fa=_0x3aab07[_0x4c28ae(0x194)]['find'](_0x8a1897=>_0x8a1897[_0x4c28ae(0x5c4)]===_0x35a41f[_0x4c28ae(0x34b)][_0x4c28ae(0x5c4)]);if(_0x50f9fa?.[_0x4c28ae(0x6d9)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x35a41f[_0x4c28ae(0x34b)]?.[_0x4c28ae(0x434)]===!0x0){if(!_0x50f9fa)return{'message':_0x4c28ae(0x2db)};_0x3aab07[_0x4c28ae(0x194)]=_0x3aab07[_0x4c28ae(0x194)][_0x4c28ae(0x6e8)](_0x1210f8=>_0x1210f8[_0x4c28ae(0x5c4)]!==_0x35a41f[_0x4c28ae(0x34b)]['name']);}else _0x50f9fa?Object[_0x4c28ae(0x252)](_0x50f9fa,_0x35a41f[_0x4c28ae(0x34b)]):_0x3aab07[_0x4c28ae(0x194)]['push'](_0x35a41f['variable']);return await _0x3aab07[_0x4c28ae(0x65c)](),_0x3aab07;}catch(_0x52447e){throw this['logger'][_0x4c28ae(0x6b1)](this[_0x4c28ae(0x524)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x52447e),new g(_0x4c28ae(0x581)+_0x52447e);}}async[a0_0x6619de(0x21b)](_0xafbf78){const _0x3f9cbe=a0_0x6619de;try{if(!this['AutomateSystem']?.[_0x3f9cbe(0x681)]['enabled'])throw new g(_0x3f9cbe(0x599));this[_0x3f9cbe(0x5a9)][_0x3f9cbe(0x45d)](this[_0x3f9cbe(0x524)]+'\x20('+this[_0x3f9cbe(0x3f3)][_0x3f9cbe(0x4cc)]+_0x3f9cbe(0x539));let _0x493fc6=(await this[_0x3f9cbe(0x258)]({'numbers':[_0xafbf78[_0x3f9cbe(0x2fb)]]}))[0x0];if(!_0x493fc6[_0x3f9cbe(0x2e6)]&&!(0x0,w[_0x3f9cbe(0x3c7)])(_0x493fc6[_0x3f9cbe(0x6c1)])&&!_0x493fc6[_0x3f9cbe(0x6c1)][_0x3f9cbe(0x569)]('@broadcast'))throw new g(_0x493fc6);let _0x228d89=await I[_0x3f9cbe(0x47a)]({'owner':this[_0x3f9cbe(0x3f3)][_0x3f9cbe(0x4cc)],'name':_0xafbf78[_0x3f9cbe(0x5c4)]});if(!_0x228d89)return this['logger'][_0x3f9cbe(0x6b1)](this['instanceName']+'\x20('+this[_0x3f9cbe(0x3f3)]['wuid']+_0x3f9cbe(0x359)),{'message':_0x3f9cbe(0x577)};let _0x11c22c=await this['createConversationforStartFlow'](_0x228d89,_0x493fc6[_0x3f9cbe(0x6c1)],_0xafbf78[_0x3f9cbe(0x51d)]);if(_0x11c22c){this['logger'][_0x3f9cbe(0x45d)](this['instanceName']+'\x20('+this[_0x3f9cbe(0x3f3)][_0x3f9cbe(0x4cc)]+_0x3f9cbe(0x5dc));let _0x5659e1=await this['NextBlock'](_0x11c22c);return _0x5659e1&&await this[_0x3f9cbe(0x5e4)](_0x11c22c,_0x5659e1,_0x11c22c[_0x3f9cbe(0x2fb)]),{'message':'Flow\x20iniciado\x20com\x20'+_0xafbf78['remoteJid']};}}catch(_0x31eb43){if(this[_0x3f9cbe(0x5a9)][_0x3f9cbe(0x6b1)](this[_0x3f9cbe(0x524)]+'\x20('+this['instance'][_0x3f9cbe(0x4cc)]+_0x3f9cbe(0x212)+_0x31eb43),_0x31eb43&&_0x31eb43[_0x3f9cbe(0x1cb)]&&Array[_0x3f9cbe(0x3e0)](_0x31eb43['message'])&&_0x31eb43[_0x3f9cbe(0x1cb)][0x0]){let {jid:_0x173326,exists:_0x413862}=_0x31eb43['message'][0x0];}throw new g(_0x3f9cbe(0x260)+_0x31eb43[_0x3f9cbe(0x1cb)]);}}async[a0_0x6619de(0x36b)](_0x1347bb){const _0x4dc992=a0_0x6619de;let _0x223868=await F['updateMany']({'owner':this['instance'][_0x4dc992(0x4cc)],'remoteJid':_0x1347bb,'status':_0x4dc992(0x70d)},{'$set':{'status':_0x4dc992(0x572)}});return this[_0x4dc992(0x5a9)]['verbose'](this[_0x4dc992(0x524)]+'\x20('+this[_0x4dc992(0x3f3)]['wuid']+_0x4dc992(0x34d)),_0x223868;}async[a0_0x6619de(0x2fc)](_0xb966ac,_0x4a230f,_0x50fd53){const _0x110a3d=a0_0x6619de;this[_0x110a3d(0x5a9)]['verbose'](this['instanceName']+'\x20('+this[_0x110a3d(0x3f3)][_0x110a3d(0x4cc)]+_0x110a3d(0x529)),await this[_0x110a3d(0x36b)](_0x4a230f);try{let _0x51748a=require(_0x110a3d(0x3dd))[_0x110a3d(0x2af)],_0x4544f6=Date[_0x110a3d(0x387)](),_0x1be814=_0x110a3d(0x3bb),_0x27b3c0={},_0x28a19d={},_0x5b6579={..._0xb966ac[_0x110a3d(0x4fc)],'chatLog':null},_0x3355fa=await this[_0x110a3d(0x6c6)](_0x5b6579[_0x110a3d(0x194)]),_0x4d554b=await this['getVariablesChat'](_0x4a230f),_0x3dc48e={..._0x3355fa,..._0x4d554b,'_remoteJid':_0x4a230f},_0x1cfc40={'lastReceivedMessage':_0x27b3c0,'lastSendMessage':_0x28a19d,'lastBlockId':_0x1be814,'lastCondition':!0x0,'realVariables':_0x3dc48e};_0x5b6579[_0x110a3d(0x41c)]=_0x1cfc40,_0x5b6579[_0x110a3d(0x41c)]['realVariables']={..._0x3dc48e,..._0x50fd53},delete _0x5b6579['_id'],_0x5b6579[_0x110a3d(0x519)]=new _0x51748a(),_0x5b6579[_0x110a3d(0x1f7)]=_0x4544f6,_0x5b6579[_0x110a3d(0x3cc)]=_0x110a3d(0x70d),_0x5b6579['remoteJid']=_0x4a230f;let _0x5c8e10=await F['create'](_0x5b6579);return this['logger'][_0x110a3d(0x45d)](this[_0x110a3d(0x524)]+'\x20('+this[_0x110a3d(0x3f3)][_0x110a3d(0x4cc)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5c8e10?_0x5b6579:null;}catch(_0x1b3183){throw this[_0x110a3d(0x5a9)][_0x110a3d(0x6b1)](this[_0x110a3d(0x524)]+'\x20('+this[_0x110a3d(0x3f3)]['wuid']+_0x110a3d(0x30c)+_0x1b3183),new g(_0x1b3183[_0x110a3d(0x1cb)]);}}async[a0_0x6619de(0x35f)](_0x382eff){const _0x5c731e=a0_0x6619de;try{return this[_0x5c731e(0x5a9)][_0x5c731e(0x45d)](this[_0x5c731e(0x524)]+'\x20('+this[_0x5c731e(0x3f3)]['wuid']+_0x5c731e(0x4bb)),this[_0x5c731e(0x5a9)][_0x5c731e(0x45d)](this['instanceName']+'\x20('+this[_0x5c731e(0x3f3)]['wuid']+'):\x20Query\x20params:'+{'owner':this[_0x5c731e(0x3f3)][_0x5c731e(0x4cc)],'_id':_0x382eff}),await F[_0x5c731e(0x47a)]({'owner':this[_0x5c731e(0x3f3)][_0x5c731e(0x4cc)],'_id':_0x382eff});}catch(_0x55558d){throw this[_0x5c731e(0x5a9)][_0x5c731e(0x6b1)](this[_0x5c731e(0x524)]+'\x20('+this[_0x5c731e(0x3f3)][_0x5c731e(0x4cc)]+_0x5c731e(0x4c3)+_0x55558d),new g(_0x5c731e(0x312)+_0x55558d[_0x5c731e(0x1cb)]);}}async[a0_0x6619de(0x4e3)](_0x5f13f0,_0x3b0450=0x64){const _0x368f19=a0_0x6619de;try{this['logger'][_0x368f19(0x45d)](this[_0x368f19(0x524)]+'\x20('+this[_0x368f19(0x3f3)][_0x368f19(0x4cc)]+_0x368f19(0x2ea));let _0x2cb205={..._0x5f13f0,'owner':this[_0x368f19(0x3f3)][_0x368f19(0x4cc)]};return this[_0x368f19(0x5a9)][_0x368f19(0x45d)](_0x2cb205),await F[_0x368f19(0x451)](_0x2cb205)['limit'](_0x3b0450)['sort']({'lastInteraction':-0x1});}catch(_0x2563e4){throw this[_0x368f19(0x5a9)]['error'](this[_0x368f19(0x524)]+'\x20('+this[_0x368f19(0x3f3)][_0x368f19(0x4cc)]+_0x368f19(0x465)+_0x2563e4),new g(_0x368f19(0x1c3)+_0x2563e4[_0x368f19(0x1cb)]);}}async[a0_0x6619de(0x51a)](_0x5bc493){const _0x19473f=a0_0x6619de;try{return this[_0x19473f(0x5a9)][_0x19473f(0x45d)](this[_0x19473f(0x524)]+'\x20('+this[_0x19473f(0x3f3)]['wuid']+_0x19473f(0x441)),this[_0x19473f(0x5a9)][_0x19473f(0x45d)](this[_0x19473f(0x524)]+'\x20('+this['instance'][_0x19473f(0x4cc)]+_0x19473f(0x4f8)+{'owner':this['instance'][_0x19473f(0x4cc)],'_id':_0x5bc493}),(await F[_0x19473f(0x2a1)]({'owner':this[_0x19473f(0x3f3)][_0x19473f(0x4cc)],'_id':_0x5bc493}))[_0x19473f(0x741)]===0x0?{'message':_0x19473f(0x544)}:{'message':_0x19473f(0x317)};}catch(_0x2c731b){throw this[_0x19473f(0x5a9)][_0x19473f(0x6b1)](this[_0x19473f(0x524)]+'\x20('+this['instance'][_0x19473f(0x4cc)]+_0x19473f(0x4e1)+_0x2c731b),new g(_0x19473f(0x4f9)+_0x2c731b[_0x19473f(0x1cb)]);}}async[a0_0x6619de(0x1e1)](_0x209948){const _0x353cc9=a0_0x6619de;try{let {_id:_0x5de460,chatLog:_0xb05b3,status:_0x333e97}=_0x209948;if(!_0x5de460)return{'message':_0x353cc9(0x291)};let _0x1ce3c9={};if(_0x333e97!==void 0x0&&(_0x1ce3c9['status']=_0x333e97),Object[_0x353cc9(0x5f1)](_0x1ce3c9)[_0x353cc9(0x41d)]===0x0)return{'message':_0x353cc9(0x578)};let _0x1c9fa=this['instance'][_0x353cc9(0x4cc)],_0x2209aa=await F['findOneAndUpdate']({'_id':_0x5de460,'owner':_0x1c9fa},{'$set':_0x1ce3c9},{'new':!0x0});return _0x2209aa||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x161915){throw this[_0x353cc9(0x5a9)]['error'](this['instanceName']+'\x20('+this[_0x353cc9(0x3f3)][_0x353cc9(0x4cc)]+_0x353cc9(0x2b8)+_0x161915),new g(_0x353cc9(0x640)+_0x161915[_0x353cc9(0x1cb)]);}}async[a0_0x6619de(0x1a5)](_0x58841f){const _0x1446a4=a0_0x6619de;try{_0x58841f[_0x1446a4(0x519)]=this[_0x1446a4(0x6e5)](_0x58841f[_0x1446a4(0x519)]);let {_id:_0x5094c4,leadInfo:_0x107811}=_0x58841f;if(!_0x5094c4)throw new Error(_0x1446a4(0x243));let _0x80634f=(_0x264bee,_0x452f19,_0xc3378b)=>{const _0x29b271=_0x1446a4;_0xc3378b[_0x29b271(0x2e4)](_0x57ba73=>{const _0x3ffeb0=_0x29b271;_0x264bee[_0x57ba73]!==void 0x0&&(_0x452f19[_0x3ffeb0(0x422)+_0x57ba73]=_0x264bee[_0x57ba73]);});},_0x40f0e0={};if(_0x80634f(_0x107811,_0x40f0e0,[_0x1446a4(0x2ef),_0x1446a4(0x6b8),'email',_0x1446a4(0x181),_0x1446a4(0x3cc),_0x1446a4(0x470),_0x1446a4(0x6f6),'atendimentoAberto',_0x1446a4(0x5b2)]),Array[_0x1446a4(0x3e0)](_0x107811[_0x1446a4(0x65a)])&&(_0x40f0e0['leadInfo.customFields']=_0x107811[_0x1446a4(0x65a)][_0x1446a4(0x3e9)](_0x47f53d=>({'_id':_0x47f53d[_0x1446a4(0x519)],'value':_0x47f53d['value']}))),_0x58841f['leadInfo']['desativadoFluxoAte']!==void 0x0&&(_0x40f0e0[_0x1446a4(0x565)]=Number(_0x58841f['leadInfo'][_0x1446a4(0x2f1)])),_0x58841f[_0x1446a4(0x4e6)]!==void 0x0&&(_0x40f0e0[_0x1446a4(0x4e6)]=Number(_0x58841f[_0x1446a4(0x4e6)])),Object[_0x1446a4(0x5f1)](_0x40f0e0)[_0x1446a4(0x41d)]===0x0)throw new Error(_0x1446a4(0x578));let _0x3a8734=this[_0x1446a4(0x3f3)][_0x1446a4(0x4cc)];if(!_0x3a8734)throw new Error(_0x1446a4(0x2b9));if(!await this[_0x1446a4(0x331)][_0x1446a4(0x265)][_0x1446a4(0x47a)]({'where':{'_id':_0x58841f[_0x1446a4(0x519)],'owner':_0x3a8734}})){let _0x3480c1=(await this['whatsappNumber']({'numbers':[_0x58841f[_0x1446a4(0x519)]]}))[0x0];if(!_0x3480c1[_0x1446a4(0x2e6)]&&!(0x0,w['isJidGroup'])(_0x3480c1[_0x1446a4(0x6c1)])&&!_0x3480c1['jid']['includes'](_0x1446a4(0x60e)))throw new g(_0x3480c1);_0x58841f[_0x1446a4(0x519)]=_0x3480c1[_0x1446a4(0x6c1)];}let _0x55e1a4=await this[_0x1446a4(0x331)][_0x1446a4(0x265)][_0x1446a4(0x59a)]({'where':{'_id':_0x58841f['_id'],'owner':_0x3a8734}},_0x40f0e0);return _0x55e1a4&&q(this[_0x1446a4(0x524)],_0x1446a4(0x373),{'chat':_0x55e1a4}),_0x55e1a4?(this['logger'][_0x1446a4(0x45d)](this[_0x1446a4(0x524)]+'\x20('+this[_0x1446a4(0x3f3)][_0x1446a4(0x4cc)]+_0x1446a4(0x68a)+_0x55e1a4),_0x55e1a4):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x5be7cd){throw this[_0x1446a4(0x5a9)][_0x1446a4(0x6b1)](this[_0x1446a4(0x524)]+'\x20('+this[_0x1446a4(0x3f3)][_0x1446a4(0x4cc)]+_0x1446a4(0x38d)+_0x5be7cd),new g(_0x1446a4(0x65d)+_0x5be7cd[_0x1446a4(0x1cb)]);}}async[a0_0x6619de(0x32c)](_0x5bed24){const _0x13965e=a0_0x6619de;let _0x590d85=this['instance'][_0x13965e(0x4cc)];try{let _0x46a0c9=await ae[_0x13965e(0x46b)](_0x590d85);_0x46a0c9||(_0x46a0c9=new ae({'_id':_0x590d85}),await _0x46a0c9[_0x13965e(0x65c)]());let _0x2d75e6=_0x5bed24[_0x13965e(0x519)]?_0x46a0c9['agents']['findIndex'](_0x150664=>_0x150664[_0x13965e(0x519)]===_0x5bed24[_0x13965e(0x519)]):-0x1;if(_0x5bed24[_0x13965e(0x434)]&&_0x2d75e6>-0x1)_0x46a0c9[_0x13965e(0x43f)][_0x13965e(0x483)](_0x2d75e6,0x1);else{if(_0x2d75e6>-0x1){let _0x99f452=_0x46a0c9[_0x13965e(0x43f)][_0x2d75e6];_0x5bed24[_0x13965e(0x568)]&&(_0x99f452[_0x13965e(0x568)]=_0x5bed24[_0x13965e(0x568)]),_0x5bed24['name']&&(_0x99f452[_0x13965e(0x5c4)]=_0x5bed24['name']),_0x5bed24[_0x13965e(0x4d7)]&&(_0x99f452[_0x13965e(0x4d7)]=_0x5bed24['email']),_0x5bed24[_0x13965e(0x4bf)]&&(_0x99f452['role']=_0x5bed24[_0x13965e(0x4bf)]);}else _0x46a0c9['agents']['push']({'_id':_0x5bed24['_id']||new we[(_0x13965e(0x411))]['Types'][(_0x13965e(0x2af))]()[_0x13965e(0x1cf)](),'fone':_0x5bed24[_0x13965e(0x568)],'name':_0x5bed24[_0x13965e(0x5c4)],'email':_0x5bed24[_0x13965e(0x4d7)],'role':_0x5bed24[_0x13965e(0x4bf)]});}let _0xc66094=await _0x46a0c9[_0x13965e(0x65c)]();return this[_0x13965e(0x732)]=_0xc66094,this[_0x13965e(0x5a9)][_0x13965e(0x45d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x13965e(0x4ab)),this[_0x13965e(0x5a9)]['verbose'](this[_0x13965e(0x524)]+'\x20('+this['instance'][_0x13965e(0x4cc)]+_0x13965e(0x68a)+this[_0x13965e(0x732)]),_0xc66094;}catch(_0x16c803){throw this[_0x13965e(0x5a9)][_0x13965e(0x6b1)](this[_0x13965e(0x524)]+'\x20('+this[_0x13965e(0x3f3)][_0x13965e(0x4cc)]+_0x13965e(0x355)+_0x16c803),new g(_0x13965e(0x37d)+_0x16c803[_0x13965e(0x1cb)]);}}async[a0_0x6619de(0x232)](_0x3cdd56){const _0x3a1e87=a0_0x6619de;let _0x431f3e=this[_0x3a1e87(0x3f3)][_0x3a1e87(0x4cc)];try{let _0x55781e=await ae['findById'](_0x431f3e);_0x55781e||(_0x55781e=new ae({'_id':_0x431f3e}),await _0x55781e[_0x3a1e87(0x65c)]());let _0x22025c=_0x3cdd56[_0x3a1e87(0x519)]?_0x55781e['customFields'][_0x3a1e87(0x4d1)](_0x22ddfe=>_0x22ddfe[_0x3a1e87(0x519)]===_0x3cdd56['_id']):-0x1,_0x35b237=!0x1,_0x4f43d1=_0x55781e['customFields'][_0x3a1e87(0x2d2)](_0x3a3ea4=>_0x3a3ea4[_0x3a1e87(0x656)]===_0x3cdd56[_0x3a1e87(0x656)]);if(_0x3cdd56[_0x3a1e87(0x434)]&&_0x22025c>-0x1)_0x55781e[_0x3a1e87(0x65a)][_0x3a1e87(0x483)](_0x22025c,0x1),_0x35b237=!0x0;else{if(_0x22025c>-0x1){if(_0x55781e[_0x3a1e87(0x65a)][_0x3a1e87(0x2d2)](_0x558bf8=>_0x558bf8['name']===_0x3cdd56['name']&&_0x558bf8['_id']!==_0x3cdd56['_id']))throw new Error(_0x3a1e87(0x6b3));let _0x1b5297=_0x55781e[_0x3a1e87(0x65a)][_0x22025c];_0x3cdd56[_0x3a1e87(0x656)]&&(_0x4f43d1||!Number[_0x3a1e87(0x72d)](_0x3cdd56[_0x3a1e87(0x656)]))&&(_0x1b5297['order']=_0x3cdd56[_0x3a1e87(0x656)],_0x35b237=!0x0),_0x3cdd56['name']&&(_0x1b5297[_0x3a1e87(0x5c4)]=_0x3cdd56[_0x3a1e87(0x5c4)]);}else{if(_0x55781e[_0x3a1e87(0x65a)][_0x3a1e87(0x2d2)](_0xb5ae6d=>_0xb5ae6d['name']===_0x3cdd56['name']&&_0xb5ae6d[_0x3a1e87(0x519)]!==_0x3cdd56[_0x3a1e87(0x519)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x55781e[_0x3a1e87(0x65a)][_0x3a1e87(0x44c)]({'_id':_0x3cdd56[_0x3a1e87(0x519)]||new we['default'][(_0x3a1e87(0x19f))][(_0x3a1e87(0x2af))]()[_0x3a1e87(0x1cf)](),'order':_0x3cdd56['order'],'name':_0x3cdd56[_0x3a1e87(0x5c4)]}),_0x35b237=!0x0;}}if(_0x35b237){_0x55781e[_0x3a1e87(0x65a)][_0x3a1e87(0x685)]((_0x2404df,_0x3e3a15)=>_0x2404df[_0x3a1e87(0x656)]>_0x3e3a15[_0x3a1e87(0x656)]?0x1:_0x3e3a15[_0x3a1e87(0x656)]>_0x2404df[_0x3a1e87(0x656)]?-0x1:0x0);for(let _0x3db3df=0x0;_0x3db3df<_0x55781e['customFields'][_0x3a1e87(0x41d)];_0x3db3df++)_0x55781e[_0x3a1e87(0x65a)][_0x3db3df][_0x3a1e87(0x656)]=_0x3db3df+0x1;}let _0x1c3b08=await _0x55781e['save']();return this[_0x3a1e87(0x732)]=_0x1c3b08,this[_0x3a1e87(0x5a9)][_0x3a1e87(0x45d)](this['instanceName']+'\x20('+this[_0x3a1e87(0x3f3)]['wuid']+_0x3a1e87(0x21c)),this[_0x3a1e87(0x5a9)][_0x3a1e87(0x45d)](this['instanceName']+'\x20('+this['instance'][_0x3a1e87(0x4cc)]+_0x3a1e87(0x68a)+this['AutomateSystem']),_0x1c3b08;}catch(_0x47b432){throw this[_0x3a1e87(0x5a9)]['error'](this['instanceName']+'\x20('+this[_0x3a1e87(0x3f3)][_0x3a1e87(0x4cc)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x47b432),new g(_0x3a1e87(0x515)+_0x47b432[_0x3a1e87(0x1cb)]);}}async[a0_0x6619de(0x271)](_0x37b502){const _0x543308=a0_0x6619de;let _0x294995=this[_0x543308(0x3f3)][_0x543308(0x4cc)];try{let _0xc846da=await ae[_0x543308(0x46b)](_0x294995);_0xc846da||(_0xc846da=new ae({'_id':_0x294995}),await _0xc846da[_0x543308(0x65c)]()),_0xc846da['flowConfig'][_0x543308(0x3f1)]=_0x37b502?.[_0x543308(0x3f1)]!==void 0x0?_0x37b502?.[_0x543308(0x3f1)]:_0xc846da[_0x543308(0x681)][_0x543308(0x3f1)],_0xc846da[_0x543308(0x681)][_0x543308(0x3f8)]=_0x37b502?.[_0x543308(0x3f8)]!==void 0x0?_0x37b502?.['ignoreGroups']:_0xc846da[_0x543308(0x681)][_0x543308(0x3f8)],_0xc846da['flowConfig'][_0x543308(0x475)]=_0x37b502?.[_0x543308(0x475)]??_0xc846da[_0x543308(0x681)]['prefixCommand'],_0xc846da[_0x543308(0x681)][_0x543308(0x2c5)]=_0x37b502?.[_0x543308(0x2c5)]??_0xc846da[_0x543308(0x681)][_0x543308(0x2c5)],_0xc846da[_0x543308(0x681)][_0x543308(0x49f)]=_0x37b502?.[_0x543308(0x49f)]??_0xc846da[_0x543308(0x681)]['stopMinutes'];let _0x4095ec=await _0xc846da[_0x543308(0x65c)]();return this[_0x543308(0x732)]=_0x4095ec,this[_0x543308(0x5a9)]['verbose'](this['instanceName']+'\x20('+this[_0x543308(0x3f3)]['wuid']+_0x543308(0x4ab)),this[_0x543308(0x5a9)]['verbose'](this[_0x543308(0x524)]+'\x20('+this[_0x543308(0x3f3)][_0x543308(0x4cc)]+_0x543308(0x68a)+this[_0x543308(0x732)]),_0x4095ec;}catch(_0x197610){throw this['logger'][_0x543308(0x6b1)](this[_0x543308(0x524)]+'\x20('+this[_0x543308(0x3f3)][_0x543308(0x4cc)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x197610),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x197610[_0x543308(0x1cb)]);}}async[a0_0x6619de(0x432)](){const _0x173b74=a0_0x6619de;let _0x52dcd7=this[_0x173b74(0x3f3)][_0x173b74(0x4cc)];try{let _0x21b01e=await ae[_0x173b74(0x46b)](_0x52dcd7);return _0x21b01e||(_0x21b01e=new ae({'_id':_0x52dcd7})),_0x21b01e['flowConfig']=_0x21b01e[_0x173b74(0x681)]||{},_0x21b01e[_0x173b74(0x681)]['enabled']===void 0x0&&(_0x21b01e['flowConfig'][_0x173b74(0x3f1)]=!0x1),_0x21b01e[_0x173b74(0x681)][_0x173b74(0x3f8)]===void 0x0&&(_0x21b01e[_0x173b74(0x681)][_0x173b74(0x3f8)]=!0x0),_0x21b01e[_0x173b74(0x681)][_0x173b74(0x475)]===void 0x0&&(_0x21b01e[_0x173b74(0x681)][_0x173b74(0x475)]='!'),_0x21b01e['flowConfig']['stopConversation']===void 0x0&&(_0x21b01e[_0x173b74(0x681)][_0x173b74(0x2c5)]='!stop'),_0x21b01e[_0x173b74(0x681)][_0x173b74(0x49f)]===void 0x0&&(_0x21b01e[_0x173b74(0x681)][_0x173b74(0x49f)]=0x14),await _0x21b01e[_0x173b74(0x65c)](),this[_0x173b74(0x732)]=_0x21b01e,this[_0x173b74(0x5a9)][_0x173b74(0x45d)](this[_0x173b74(0x524)]+'\x20('+this[_0x173b74(0x3f3)][_0x173b74(0x4cc)]+_0x173b74(0x4d4)),this['logger'][_0x173b74(0x45d)](this[_0x173b74(0x732)]),_0x21b01e;}catch(_0x5a1bbb){throw this['logger'][_0x173b74(0x6b1)](this[_0x173b74(0x524)]+'\x20('+this['instance'][_0x173b74(0x4cc)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x5a1bbb['message']),new g(_0x173b74(0x5c9)+_0x5a1bbb['message']);}}async[a0_0x6619de(0x5d2)](){const _0x25926b=a0_0x6619de;this[_0x25926b(0x63e)]&&clearTimeout(this[_0x25926b(0x63e)]),this[_0x25926b(0x63e)]=setTimeout(()=>{const _0x2adb03=_0x25926b;this[_0x2adb03(0x47e)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x6619de(0x47e)](){const _0x583e80=a0_0x6619de;Date['now']()-this['lastSend']>=0x1d4c0&&(this['logger'][_0x583e80(0x45d)](this['instanceName']+'\x20('+this[_0x583e80(0x3f3)][_0x583e80(0x4cc)]+_0x583e80(0x622)),this[_0x583e80(0x270)]=null,this[_0x583e80(0x5a0)]=0x0,this['delayMessage']=0x0,await this[_0x583e80(0x641)]());}async[a0_0x6619de(0x641)](){const _0x2dc880=a0_0x6619de;let _0x2c9081=()=>{const _0x53df0c=a0_0x4391;this[_0x53df0c(0x5a9)][_0x53df0c(0x45d)](this['instanceName']+'\x20('+this['instance'][_0x53df0c(0x4cc)]+_0x53df0c(0x288)+this[_0x53df0c(0x270)]+'\x20saindo\x20da\x20função');},_0xda03d8=async()=>{const _0x621b7b=a0_0x4391;this[_0x621b7b(0x5a9)][_0x621b7b(0x45d)](this[_0x621b7b(0x524)]+'\x20('+this[_0x621b7b(0x3f3)]['wuid']+_0x621b7b(0x64b));let _0x40328b=Date[_0x621b7b(0x387)]()-0xc*0x3c*0x3c*0x3e8;return await L[_0x621b7b(0x451)]({'owner':this[_0x621b7b(0x3f3)][_0x621b7b(0x4cc)],'status':{'$in':['scheduled',_0x621b7b(0x185)]},'$or':[{'when':{'$lte':Date[_0x621b7b(0x387)](),'$gte':_0x40328b}},{'when':0x0}]});},_0x4bb878=async _0x44cddd=>{const _0x3cc200=a0_0x4391;for(let _0x38c74e of _0x44cddd){if(!await L['findOneAndUpdate']({'_id':_0x38c74e[_0x3cc200(0x519)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},{'$set':{'startSend':Date['now']()}}))return;if(!this[_0x3cc200(0x2f7)]){this[_0x3cc200(0x5a9)][_0x3cc200(0x45d)](this[_0x3cc200(0x524)]+'\x20('+this[_0x3cc200(0x3f3)][_0x3cc200(0x4cc)]+_0x3cc200(0x5c2));break;}(!_0x38c74e[_0x3cc200(0x2b5)]||_0x38c74e['remoteJidsRemaining'][_0x3cc200(0x41d)]===0x0)&&(_0x38c74e=await L[_0x3cc200(0x1fc)](_0x38c74e[_0x3cc200(0x519)],{'$set':{'status':_0x3cc200(0x185),'remoteJidsRemaining':[..._0x38c74e[_0x3cc200(0x202)]]}},{'new':!0x0}));for(let _0x1c5a60 of _0x38c74e[_0x3cc200(0x2b5)]){if(await this[_0x3cc200(0x5d2)](),this[_0x3cc200(0x5a0)]=Date[_0x3cc200(0x387)](),_0x38c74e[_0x3cc200(0x363)][_0x3cc200(0x2d2)](_0x16d7b2=>_0x16d7b2[_0x3cc200(0x2fb)]===_0x1c5a60)){this[_0x3cc200(0x5a9)][_0x3cc200(0x45d)](this[_0x3cc200(0x524)]+'\x20('+this[_0x3cc200(0x3f3)][_0x3cc200(0x4cc)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x1c5a60+'.\x20Pulando.');continue;}try{let _0x3ab232=await this['SendScheduleMessage'](_0x1c5a60,_0x38c74e),_0x4bccd3={'remoteJid':_0x1c5a60,'error':_0x3ab232[_0x3cc200(0x6b1)],'id':_0x3ab232['id']||null,'error_log':_0x3ab232[_0x3cc200(0x409)]||null,'log_timestamp':Date[_0x3cc200(0x387)]()};if((await L[_0x3cc200(0x1fc)](_0x38c74e[_0x3cc200(0x519)],{'$push':{'messagesSend':_0x4bccd3},'$pull':{'remoteJidsRemaining':_0x1c5a60}},{'new':!0x0}))[_0x3cc200(0x3cc)]===_0x3cc200(0x5fc)){this[_0x3cc200(0x5a9)][_0x3cc200(0x45d)](this['instanceName']+'\x20('+this[_0x3cc200(0x3f3)][_0x3cc200(0x4cc)]+_0x3cc200(0x6fd)+_0x38c74e[_0x3cc200(0x519)]+_0x3cc200(0x374));break;}if(!this[_0x3cc200(0x2f7)]){this['logger'][_0x3cc200(0x45d)](this[_0x3cc200(0x524)]+'\x20('+this[_0x3cc200(0x3f3)]['wuid']+_0x3cc200(0x3eb));break;}if(!this[_0x3cc200(0x270)]){this[_0x3cc200(0x5a9)]['verbose'](this[_0x3cc200(0x524)]+'\x20('+this['instance']['wuid']+_0x3cc200(0x6fd)+_0x38c74e[_0x3cc200(0x519)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x40ed76=this['getDelay'](_0x38c74e['delaySecMin'],_0x38c74e[_0x3cc200(0x72b)]);await this[_0x3cc200(0x25b)](_0x40ed76);}catch(_0x33b49d){this[_0x3cc200(0x5a9)][_0x3cc200(0x6b1)](this[_0x3cc200(0x524)]+'\x20('+this[_0x3cc200(0x3f3)][_0x3cc200(0x4cc)]+_0x3cc200(0x6e7)+_0x1c5a60+':\x20'+_0x33b49d['message']);let _0x1e90cb={'remoteJid':_0x1c5a60,'status':'error','timestamp':Date[_0x3cc200(0x387)](),'error':_0x33b49d[_0x3cc200(0x1cb)]};await L[_0x3cc200(0x1fc)](_0x38c74e[_0x3cc200(0x519)],{'$push':{'messagesSend':_0x1e90cb},'$pull':{'remoteJidsRemaining':_0x1c5a60}},{'new':!0x0});}}let _0x5829b8=await L[_0x3cc200(0x46b)](_0x38c74e[_0x3cc200(0x519)]);_0x5829b8[_0x3cc200(0x2b5)]['length']===0x0&&_0x5829b8[_0x3cc200(0x3cc)]!==_0x3cc200(0x5fc)&&await L['findByIdAndUpdate'](_0x38c74e[_0x3cc200(0x519)],{'$set':{'status':_0x3cc200(0x1d7)}},{'new':!0x0}),await new Promise(_0x19bc1f=>setTimeout(_0x19bc1f,0x1388));}},_0x104b91=async()=>{const _0x349c21=a0_0x4391;let _0xbb9607=await L[_0x349c21(0x47a)]({'owner':this['instance'][_0x349c21(0x4cc)],'status':_0x349c21(0x3a2),'when':{'$gt':Date['now']()}})[_0x349c21(0x685)]({'when':0x1});_0xbb9607&&_0xbb9607[_0x349c21(0x2a5)]-Date[_0x349c21(0x387)]()<=0x5265c00?this[_0x349c21(0x1c1)]=_0xbb9607[_0x349c21(0x2a5)]-Date['now']():this['delayMessage']=(0x3c+Math[_0x349c21(0x700)](Math[_0x349c21(0x637)]()*0x3c))*0x3c*0x3e8,this[_0x349c21(0x1c1)]=Math['max'](this['delayMessage'],0x7d0);let _0x268681=Math[_0x349c21(0x494)](this[_0x349c21(0x1c1)]/0xea60);if(_0xbb9607){let _0x32e844=new Date(_0xbb9607['when'])[_0x349c21(0x235)]();this[_0x349c21(0x5a9)][_0x349c21(0x45d)](this[_0x349c21(0x524)]+'\x20('+this[_0x349c21(0x3f3)][_0x349c21(0x4cc)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x32e844+_0x349c21(0x54a)+_0x268681+_0x349c21(0x5d1));}else this[_0x349c21(0x5a9)]['verbose'](this['instanceName']+'\x20('+this[_0x349c21(0x3f3)][_0x349c21(0x4cc)]+_0x349c21(0x65b)+_0x268681+_0x349c21(0x5d1));setTimeout(()=>this[_0x349c21(0x641)](),this['delayMessage']);};if(this[_0x2dc880(0x270)]){await this[_0x2dc880(0x5d2)](),_0x2c9081();return;}try{let _0x244d8f=await _0xda03d8();_0x244d8f['length']===0x0?this[_0x2dc880(0x5a9)][_0x2dc880(0x45d)](this[_0x2dc880(0x524)]+'\x20('+this[_0x2dc880(0x3f3)][_0x2dc880(0x4cc)]+_0x2dc880(0x553)):(this[_0x2dc880(0x270)]=_0x244d8f[0x0][_0x2dc880(0x519)],await _0x4bb878(_0x244d8f)),await _0x104b91(),this['processingScheduleMessageId']=null;}catch(_0x56819d){this[_0x2dc880(0x5a9)][_0x2dc880(0x6b1)](_0x2dc880(0x645)+_0x56819d[_0x2dc880(0x1cb)]);}}[a0_0x6619de(0x600)](_0x57fd08,_0x3d1a02){const _0x1676ba=a0_0x6619de;return _0x57fd08=Math[_0x1676ba(0x1d9)](0.5,_0x57fd08),_0x3d1a02=Math[_0x1676ba(0x1d9)](0x3,_0x3d1a02),Math[_0x1676ba(0x700)](Math[_0x1676ba(0x637)]()*(_0x3d1a02-_0x57fd08+0x1)+_0x57fd08)*0x3e8;}[a0_0x6619de(0x25b)](_0x4b9b53){return new Promise(_0x5ba69f=>setTimeout(_0x5ba69f,_0x4b9b53));}async[a0_0x6619de(0x496)](_0x316ee0){const _0x13d795=a0_0x6619de;if(!this[_0x13d795(0x732)]&&(await this[_0x13d795(0x432)](),!this[_0x13d795(0x732)]))return null;_0x316ee0=this[_0x13d795(0x6e5)](_0x316ee0);let _0x14303e=await this[_0x13d795(0x331)][_0x13d795(0x265)][_0x13d795(0x47a)]({'where':{'_id':_0x316ee0,'owner':this[_0x13d795(0x3f3)][_0x13d795(0x4cc)]}}),_0x1cb9ed={};if(_0x14303e&&_0x14303e['leadInfo']){let _0x4ca235=_0x14303e[_0x13d795(0x6d9)];typeof _0x4ca235['nome']==_0x13d795(0x3a5)&&(_0x1cb9ed['nome']=_0x4ca235[_0x13d795(0x2ef)]),typeof _0x4ca235[_0x13d795(0x6b8)]==_0x13d795(0x3a5)&&(_0x1cb9ed[_0x13d795(0x6b8)]=_0x4ca235['nomecompleto']),typeof _0x4ca235['email']==_0x13d795(0x3a5)&&(_0x1cb9ed[_0x13d795(0x4d7)]=_0x4ca235['email']),typeof _0x4ca235[_0x13d795(0x181)]=='string'&&(_0x1cb9ed[_0x13d795(0x181)]=_0x4ca235[_0x13d795(0x181)]),typeof _0x4ca235[_0x13d795(0x3cc)]==_0x13d795(0x3a5)&&(_0x1cb9ed['status']=_0x4ca235[_0x13d795(0x3cc)]),typeof _0x4ca235['notas']==_0x13d795(0x3a5)&&(_0x1cb9ed[_0x13d795(0x470)]=_0x4ca235['notas']),typeof _0x4ca235[_0x13d795(0x5b2)]==_0x13d795(0x3a5)&&(_0x1cb9ed['responsavelid']=_0x4ca235[_0x13d795(0x5b2)]),Array[_0x13d795(0x3e0)](_0x4ca235[_0x13d795(0x6f6)])&&(_0x1cb9ed[_0x13d795(0x6f6)]=_0x4ca235[_0x13d795(0x6f6)]['join'](',\x20'));}return _0x14303e&&_0x14303e[_0x13d795(0x6d9)]&&_0x14303e[_0x13d795(0x6d9)]['customFields']&&_0x14303e['leadInfo'][_0x13d795(0x65a)][_0x13d795(0x2e4)](_0xcf74a8=>{const _0x322753=_0x13d795;let _0x2ef92f=this[_0x322753(0x732)]?.[_0x322753(0x65a)][_0x322753(0x451)](_0x19d7b3=>_0x19d7b3[_0x322753(0x519)]===_0xcf74a8[_0x322753(0x519)]);_0x2ef92f&&(_0x1cb9ed[_0x2ef92f['name']]=_0xcf74a8[_0x322753(0x474)]);}),_0x1cb9ed;}async[a0_0x6619de(0x35a)](_0x422197,_0x53f8cc){const _0x34ab28=a0_0x6619de;let _0xe22441=await this[_0x34ab28(0x496)](_0x53f8cc);return this['replaceVariables'](_0x422197,_0xe22441);}async['editScheduleMessage'](_0x1048fa){const _0xcf3fe4=a0_0x6619de;try{if(this[_0xcf3fe4(0x5a9)][_0xcf3fe4(0x45d)](this[_0xcf3fe4(0x524)]+'\x20('+this[_0xcf3fe4(0x3f3)][_0xcf3fe4(0x4cc)]+_0xcf3fe4(0x196)),_0x1048fa[_0xcf3fe4(0x434)]&&_0x1048fa['_id']){if(this[_0xcf3fe4(0x270)]===_0x1048fa[_0xcf3fe4(0x519)][_0xcf3fe4(0x1cf)]())throw new Error(_0xcf3fe4(0x26d));let _0x1f2b1d=await L['findByIdAndDelete'](_0x1048fa[_0xcf3fe4(0x519)]);return setTimeout(()=>this[_0xcf3fe4(0x641)](),0x7d0),_0x1f2b1d;}let _0x3f6777;if(_0x1048fa[_0xcf3fe4(0x519)]&&(_0x3f6777=await L['findOne']({'owner':this[_0xcf3fe4(0x3f3)][_0xcf3fe4(0x4cc)],'_id':_0x1048fa[_0xcf3fe4(0x519)]})),_0x3f6777){let _0x54db31=_0x1048fa;this[_0xcf3fe4(0x270)]===_0x3f6777['_id'][_0xcf3fe4(0x1cf)]()&&(_0x54db31={'status':_0x1048fa['status'],'_id':_0x1048fa[_0xcf3fe4(0x519)]});let _0x708873=await L['findByIdAndUpdate'](_0x3f6777[_0xcf3fe4(0x519)],{'$set':_0x54db31},{'new':!0x0});return setTimeout(()=>this[_0xcf3fe4(0x641)](),0x7d0),_0x708873;}else{_0x1048fa[_0xcf3fe4(0x4e4)]=this[_0xcf3fe4(0x3f3)][_0xcf3fe4(0x4cc)];let _0x45c3b0=await new L(_0x1048fa)[_0xcf3fe4(0x65c)]();return setTimeout(()=>this[_0xcf3fe4(0x641)](),0x7d0),_0x45c3b0;}}catch(_0xfaeea6){throw this['logger'][_0xcf3fe4(0x6b1)](this[_0xcf3fe4(0x524)]+'\x20('+this[_0xcf3fe4(0x3f3)]['wuid']+_0xcf3fe4(0x5b5)+_0xfaeea6),new g(_0xcf3fe4(0x6d0)+_0xfaeea6['message']);}}async['getScheduleMessage'](){const _0x537596=a0_0x6619de;try{return await L[_0x537596(0x451)]({'owner':this['instance'][_0x537596(0x4cc)]})[_0x537596(0x685)]({'when':0x1});}catch(_0x451cef){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x537596(0x3f3)][_0x537596(0x4cc)]+_0x537596(0x51f)+_0x451cef),new g(_0x537596(0x6d0)+_0x451cef[_0x537596(0x1cb)]);}}async[a0_0x6619de(0x245)](){const _0x26d31f=a0_0x6619de;try{return await L['deleteMany']({'owner':this[_0x26d31f(0x3f3)][_0x26d31f(0x4cc)],'status':_0x26d31f(0x1d7)}),this['logger'][_0x26d31f(0x45d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x26d31f(0x5aa)),this[_0x26d31f(0x3e2)]();}catch(_0x51c515){throw this[_0x26d31f(0x5a9)][_0x26d31f(0x6b1)](this[_0x26d31f(0x524)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+_0x51c515),new g('Erro:'+_0x51c515[_0x26d31f(0x1cb)]);}}async[a0_0x6619de(0x2f9)](_0x1f240f,_0x4adc94){const _0x2eca2a=a0_0x6619de;try{switch(_0x4adc94[_0x2eca2a(0x395)]){case'text':return await this[_0x2eca2a(0x320)](_0x4adc94,_0x1f240f);case _0x2eca2a(0x52b):return await this[_0x2eca2a(0x26e)](_0x4adc94,_0x1f240f);case _0x2eca2a(0x368):return await this[_0x2eca2a(0x742)](_0x4adc94,_0x1f240f);default:return this[_0x2eca2a(0x5a9)][_0x2eca2a(0x6b1)](this[_0x2eca2a(0x524)]+'\x20('+this[_0x2eca2a(0x3f3)][_0x2eca2a(0x4cc)]+_0x2eca2a(0x66e)+_0x4adc94[_0x2eca2a(0x395)]),{'status':'error','detail':_0x2eca2a(0x410)};}}catch(_0x308be9){return this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x2eca2a(0x4cc)]+_0x2eca2a(0x488)+_0x308be9),{'status':_0x2eca2a(0x6b1),'detail':_0x308be9[_0x2eca2a(0x1cb)]};}}['getRandomText'](_0x58b252){const _0x544a46=a0_0x6619de;let _0x2199ba=_0x58b252['split']('|'),_0x22fdc0=Math[_0x544a46(0x700)](Math['random']()*_0x2199ba[_0x544a46(0x41d)]);return _0x2199ba[_0x22fdc0][_0x544a46(0x3c1)]();}async[a0_0x6619de(0x320)](_0x1af58b,_0x255fd8){const _0x4b17a3=a0_0x6619de;if(this[_0x4b17a3(0x5a9)][_0x4b17a3(0x45d)](this[_0x4b17a3(0x524)]+'\x20('+this[_0x4b17a3(0x3f3)][_0x4b17a3(0x4cc)]+_0x4b17a3(0x3f7)),!_0x1af58b[_0x4b17a3(0x1cb)][_0x4b17a3(0x2e2)]||_0x1af58b[_0x4b17a3(0x1cb)][_0x4b17a3(0x2e2)][_0x4b17a3(0x41d)]===0x0)return{'error':!0x0,'error_log':'sem\x20texto\x20na\x20mensagem'};let _0x2c6eb6=this[_0x4b17a3(0x42b)](_0x1af58b[_0x4b17a3(0x1cb)][_0x4b17a3(0x2e2)]),_0x49093e=await this['replaceVariablesChat'](_0x2c6eb6,_0x255fd8),_0x46b68b={'number':_0x255fd8,'options':{'delay':_0x1af58b[_0x4b17a3(0x1cb)][_0x4b17a3(0x198)]},'textMessage':{'text':_0x49093e}},_0x5e73ef=null;try{let _0x37fb06=await this[_0x4b17a3(0x655)](_0x46b68b);if(_0x37fb06&&_0x37fb06[_0x4b17a3(0x3cc)])return{'error':!0x1,'id':_0x37fb06[_0x4b17a3(0x648)]['id']};_0x5e73ef=JSON['stringify'](_0x37fb06),this[_0x4b17a3(0x5a9)]['verbose'](this['instanceName']+'\x20('+this[_0x4b17a3(0x3f3)][_0x4b17a3(0x4cc)]+_0x4b17a3(0x68a)+_0x5e73ef);}catch(_0xfb9092){this['logger']['error'](this[_0x4b17a3(0x524)]+'\x20('+this[_0x4b17a3(0x3f3)][_0x4b17a3(0x4cc)]+_0x4b17a3(0x574)+_0xfb9092),_0x5e73ef=_0xfb9092[_0x4b17a3(0x1cb)];}if(_0x5e73ef)return{'error':!0x0,'error_log':(typeof _0x5e73ef==_0x4b17a3(0x54b)?JSON[_0x4b17a3(0x24c)](_0x5e73ef,null,0x2):_0x5e73ef)[_0x4b17a3(0x613)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x6619de(0x26e)](_0x487770,_0x103ad7){const _0x567541=a0_0x6619de;this[_0x567541(0x5a9)]['verbose'](this[_0x567541(0x524)]+'\x20('+this[_0x567541(0x3f3)]['wuid']+'):\x20Enviando\x20mídia');let _0x4e790f;if(_0x487770[_0x567541(0x1cb)]['text']&&_0x487770[_0x567541(0x1cb)]['text']['length']>0x0){let _0xccab88=this['getRandomText'](_0x487770[_0x567541(0x1cb)][_0x567541(0x2e2)]);_0x4e790f=await this[_0x567541(0x35a)](_0xccab88,_0x103ad7);}let _0x121ad8={'number':_0x103ad7,'options':{'delay':_0x487770['message'][_0x567541(0x198)]},'mediaMessage':{'mediatype':_0x487770[_0x567541(0x1cb)][_0x567541(0x2a4)],'caption':_0x4e790f,'media':_0x487770['message'][_0x567541(0x6a3)]}},_0x49fd88=null;try{let _0x4132ab=await this['mediaMessage'](_0x121ad8);if(_0x4132ab&&_0x4132ab[_0x567541(0x3cc)])return{'error':!0x1,'id':_0x4132ab['key']['id']};_0x49fd88=JSON[_0x567541(0x24c)](_0x4132ab),this['logger'][_0x567541(0x45d)](this[_0x567541(0x524)]+'\x20('+this[_0x567541(0x3f3)]['wuid']+_0x567541(0x68a)+_0x49fd88);}catch(_0x33cec9){this[_0x567541(0x5a9)][_0x567541(0x6b1)](this[_0x567541(0x524)]+'\x20('+this[_0x567541(0x3f3)][_0x567541(0x4cc)]+_0x567541(0x6c0)+_0x33cec9['message']),_0x49fd88=_0x33cec9['message'];}if(_0x49fd88)return{'error':!0x0,'error_log':(typeof _0x49fd88==_0x567541(0x54b)?JSON[_0x567541(0x24c)](_0x49fd88,null,0x2):_0x49fd88)[_0x567541(0x613)](/[\[\]{}\n]/g,'\x20')[_0x567541(0x613)](/  +/g,'\x20')};}async[a0_0x6619de(0x742)](_0x347608,_0x131f64){const _0x3920ce=a0_0x6619de;this[_0x3920ce(0x5a9)][_0x3920ce(0x45d)](this[_0x3920ce(0x524)]+'\x20('+this[_0x3920ce(0x3f3)][_0x3920ce(0x4cc)]+_0x3920ce(0x513));let _0x2bec89={'number':_0x131f64,'options':{'delay':_0x347608[_0x3920ce(0x1cb)][_0x3920ce(0x198)]},'audioMessage':{'audio':_0x347608[_0x3920ce(0x1cb)]['urlOrBase64']}},_0x417c66=null;try{let _0x3fb228=await this[_0x3920ce(0x2d3)](_0x2bec89);if(_0x3fb228&&_0x3fb228[_0x3920ce(0x3cc)])return{'error':!0x1,'id':_0x3fb228[_0x3920ce(0x648)]['id']};_0x417c66=JSON[_0x3920ce(0x24c)](_0x3fb228),this[_0x3920ce(0x5a9)]['verbose'](this[_0x3920ce(0x524)]+'\x20('+this[_0x3920ce(0x3f3)]['wuid']+_0x3920ce(0x68a)+_0x417c66);}catch(_0x321f26){this['logger'][_0x3920ce(0x6b1)](this[_0x3920ce(0x524)]+'\x20('+this[_0x3920ce(0x3f3)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:'+_0x321f26),_0x417c66=_0x321f26[_0x3920ce(0x1cb)];}if(_0x417c66)return{'error':!0x0,'error_log':(typeof _0x417c66==_0x3920ce(0x54b)?JSON[_0x3920ce(0x24c)](_0x417c66,null,0x2):_0x417c66)[_0x3920ce(0x613)](/[\[\]{}\n]/g,'\x20')[_0x3920ce(0x613)](/  +/g,'\x20')};}},be=require(a0_0x6619de(0x208)),_t=class c{constructor(_0x28dfc1,_0x12c756,_0x259dd7){const _0x1ce8eb=a0_0x6619de;this[_0x1ce8eb(0x6cf)]=_0x28dfc1,this[_0x1ce8eb(0x42e)]=_0x12c756,this[_0x1ce8eb(0x331)]=_0x259dd7,this['db']={},this[_0x1ce8eb(0x1e4)]={},this[_0x1ce8eb(0x5a9)]=new N(c[_0x1ce8eb(0x5c4)]),this['waInstances']={},(this['removeInstance'](),this[_0x1ce8eb(0x3da)](),this['delInstanceFiles'](),Object['assign'](this['db'],_0x12c756[_0x1ce8eb(0x39d)]('DATABASE')),Object[_0x1ce8eb(0x252)](this[_0x1ce8eb(0x1e4)],_0x12c756[_0x1ce8eb(0x39d)](_0x1ce8eb(0x4ec))),this['dbInstance']=this['db'][_0x1ce8eb(0x38c)]?this[_0x1ce8eb(0x331)][_0x1ce8eb(0x1b0)]?.['db'](this['db'][_0x1ce8eb(0x1a2)][_0x1ce8eb(0x731)]+'-instances'):void 0x0,this[_0x1ce8eb(0x3de)]=this[_0x1ce8eb(0x1e4)]['ENABLED']?new ne(this[_0x1ce8eb(0x1e4)]):void 0x0);}[a0_0x6619de(0x38e)](_0x5966c3){const _0xc11e58=a0_0x6619de;let _0x5a06a1=this['configService'][_0xc11e58(0x39d)](_0xc11e58(0x45f));typeof _0x5a06a1==_0xc11e58(0x2e5)&&_0x5a06a1>0x0&&setTimeout(()=>{const _0xc4654a=_0xc11e58;this['waInstances'][_0x5966c3]?.[_0xc4654a(0x3ee)]?.['state']!=='open'&&delete this[_0xc4654a(0x545)][_0x5966c3];},0x3e8*0x3c*_0x5a06a1);}async[a0_0x6619de(0x5df)](_0x9dad1b){const _0x5da7be=a0_0x6619de;if(_0x9dad1b&&!this[_0x5da7be(0x545)][_0x9dad1b])throw new x(_0x5da7be(0x1b4)+_0x9dad1b+_0x5da7be(0x66c));let _0x5eb5f6=[];for await(let [_0xe26ffc,_0xfe592d]of Object[_0x5da7be(0x5e8)](this[_0x5da7be(0x545)]))if(_0xfe592d&&_0xfe592d[_0x5da7be(0x3ee)][_0x5da7be(0x3bd)]===_0x5da7be(0x70d)){let _0x18419e=await this[_0x5da7be(0x331)]['auth'][_0x5da7be(0x451)](_0xe26ffc);_0x5eb5f6['push']({'instance':{'instanceName':_0xe26ffc,'apikey':_0x18419e['apikey'],'owner':_0xfe592d['wuid'],'profileName':await _0xfe592d['getProfileName']()||'not\x20loaded','profilePictureUrl':_0xfe592d['profilePictureUrl']}});}return _0x5eb5f6[_0x5da7be(0x451)](_0x4302b3=>_0x4302b3[_0x5da7be(0x3f3)][_0x5da7be(0x524)]===_0x9dad1b)??_0x5eb5f6;}['delInstanceFiles'](){setInterval(async()=>{const _0x4f974e=a0_0x4391;if(this['db'][_0x4f974e(0x38c)])(await this[_0x4f974e(0x48b)]['collections']())[_0x4f974e(0x2e4)](async _0x16ef22=>{const _0x1608df=_0x4f974e;let _0x7b862e=_0x16ef22[_0x1608df(0x60a)]['replace'](/^[\w-]+./,'');await this[_0x1608df(0x48b)][_0x1608df(0x4a9)](_0x7b862e)[_0x1608df(0x21e)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x32c202=(0x0,te[_0x4f974e(0x1a6)])(j,{'encoding':_0x4f974e(0x6be)});for await(let _0x38bd45 of _0x32c202)_0x38bd45['isDirectory']()&&(0x0,te[_0x4f974e(0x35d)])((0x0,be['join'])(j,_0x38bd45[_0x4f974e(0x5c4)]),{'encoding':_0x4f974e(0x6be)})[_0x4f974e(0x2e4)](async _0x2918ff=>{const _0x54043e=_0x4f974e;(_0x2918ff['match'](/^app.state.*/)||_0x2918ff['match'](/^session-.*/))&&(0x0,te['rmSync'])((0x0,be[_0x54043e(0x262)])(j,_0x38bd45['name'],_0x2918ff),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x1ffb11){const _0x2290c1=a0_0x6619de;this['db'][_0x2290c1(0x38c)]&&(await this['repository'][_0x2290c1(0x1b0)][_0x2290c1(0x295)](),(await this[_0x2290c1(0x48b)][_0x2290c1(0x66b)]())[_0x2290c1(0x41d)]>0x0&&await this[_0x2290c1(0x48b)][_0x2290c1(0x405)](_0x1ffb11)),this['redis'][_0x2290c1(0x38c)]&&(this[_0x2290c1(0x3de)][_0x2290c1(0x57f)]=_0x1ffb11,await this[_0x2290c1(0x3de)][_0x2290c1(0x69e)]()),!this['db'][_0x2290c1(0x38c)]&&!this['redis'][_0x2290c1(0x38c)]&&(0x0,te[_0x2290c1(0x369)])((0x0,be[_0x2290c1(0x262)])(j,_0x1ffb11),{'recursive':!0x0,'force':!0x0});}async[a0_0x6619de(0x4d3)](){const _0x33e037=a0_0x6619de;let _0x57ac29=async _0x53254e=>{const _0x2e1e85=a0_0x4391;let _0x51d362=new ye(this['configService'],this[_0x2e1e85(0x6cf)],this[_0x2e1e85(0x331)]);_0x51d362[_0x2e1e85(0x524)]=_0x53254e,await _0x51d362['connectToWhatsapp'](),this[_0x2e1e85(0x545)][_0x53254e]=_0x51d362;};try{if(this[_0x33e037(0x1e4)][_0x33e037(0x38c)]){let _0x131598=await this[_0x33e037(0x3de)][_0x33e037(0x630)]();_0x131598?.['length']>0x0&&_0x131598[_0x33e037(0x2e4)](async _0x249eb1=>await _0x57ac29(_0x249eb1[_0x33e037(0x635)](':')[0x1]));}if(this['db'][_0x33e037(0x38c)]){await this['repository'][_0x33e037(0x1b0)]['connect']();let _0x2f54f8=await this[_0x33e037(0x48b)][_0x33e037(0x66b)]();_0x2f54f8['length']>0x0&&_0x2f54f8[_0x33e037(0x2e4)](async _0x466d4a=>await _0x57ac29(_0x466d4a['namespace'][_0x33e037(0x613)](/^[\w-]+\./,'')));return;}let _0x13e0bf=(0x0,te[_0x33e037(0x1a6)])(j,{'encoding':_0x33e037(0x6be)});for await(let _0x2dd4ee of _0x13e0bf)if(_0x2dd4ee[_0x33e037(0x404)]()){if((0x0,te[_0x33e037(0x35d)])((0x0,be['join'])(j,_0x2dd4ee['name']),{'encoding':_0x33e037(0x6be)})['length']===0x0){(0x0,te[_0x33e037(0x369)])((0x0,be[_0x33e037(0x262)])(j,_0x2dd4ee[_0x33e037(0x5c4)]),{'recursive':!0x0,'force':!0x0});break;}await _0x57ac29(_0x2dd4ee[_0x33e037(0x5c4)]);}}catch(_0x503aab){this[_0x33e037(0x5a9)][_0x33e037(0x6b1)](_0x503aab);}}[a0_0x6619de(0x71a)](){const _0x5785ab=a0_0x6619de;this[_0x5785ab(0x6cf)]['on']('remove.instance',async _0x1df058=>{const _0x5cb7fd=_0x5785ab;try{this[_0x5cb7fd(0x545)][_0x1df058]=void 0x0;}catch{}try{this[_0x5cb7fd(0x228)](_0x1df058);}finally{this[_0x5cb7fd(0x5a9)][_0x5cb7fd(0x366)](_0x5cb7fd(0x1b4)+_0x1df058+_0x5cb7fd(0x32e));}});}[a0_0x6619de(0x3da)](){const _0x2802b7=a0_0x6619de;this['eventEmitter']['on'](_0x2802b7(0x380),async _0x4c89a1=>{const _0x3c70c1=_0x2802b7;try{this[_0x3c70c1(0x545)][_0x4c89a1]=void 0x0,this[_0x3c70c1(0x228)](_0x4c89a1);}catch(_0xe6a49a){this[_0x3c70c1(0x5a9)][_0x3c70c1(0x6b1)]({'localError':_0x3c70c1(0x3da),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0xe6a49a});}finally{this[_0x3c70c1(0x5a9)][_0x3c70c1(0x366)](_0x3c70c1(0x1b4)+_0x4c89a1+_0x3c70c1(0x50c));}});}},Ot=class extends W{constructor(_0x4afbe1){const _0x42de41=a0_0x6619de;super(_0x4afbe1),this[_0x42de41(0x42e)]=_0x4afbe1;}[a0_0x6619de(0x62f)](_0x50c5a6){return Os(_0x50c5a6);}async[a0_0x6619de(0x18a)](_0x4c3e94){const _0x9dc624=a0_0x6619de;if(_0x4c3e94[_0x9dc624(0x41d)]!==0x0)try{return{'insertCount':(await this[_0x9dc624(0x62f)](_0x4c3e94[0x0]['owner'])['insertMany']([..._0x4c3e94]))[_0x9dc624(0x41d)]};}catch(_0x3f132e){return _0x3f132e;}}async[a0_0x6619de(0x451)](_0x29f172){const _0x136b96=a0_0x6619de;try{return await this[_0x136b96(0x62f)](_0x29f172['where'][_0x136b96(0x4e4)])['find']({..._0x29f172['where']})['sort']({'lastmsg':-0x1})['limit'](_0x29f172?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x6619de(0x434)](_0x31e410){const _0x62de91=a0_0x6619de;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x31e410[_0x62de91(0x644)][_0x62de91(0x4e4)])[_0x62de91(0x21e)]({..._0x31e410[_0x62de91(0x644)]}))['deletedCount']};}catch(_0x285905){return{'error':_0x285905?.[_0x62de91(0x1cf)]()};}}async['deleteAll'](_0x4cba13){const _0xd6e5ab=a0_0x6619de;try{return await this[_0xd6e5ab(0x62f)](_0x4cba13[_0xd6e5ab(0x644)]['owner'])[_0xd6e5ab(0x21e)]({..._0x4cba13['where']}),[];}catch(_0x51b895){return{'error':_0x51b895?.[_0xd6e5ab(0x1cf)]()};}}async[a0_0x6619de(0x47a)](_0x6c1208){const _0x41be94=a0_0x6619de;try{return await this[_0x41be94(0x62f)](_0x6c1208['where'][_0x41be94(0x4e4)])[_0x41be94(0x47a)]({..._0x6c1208[_0x41be94(0x644)]})['lean']();}catch{return null;}}async['updateOne'](_0x5ac615,_0x1be285,_0x38a5b9){const _0x5f0623=a0_0x6619de;try{let _0x3a822d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x38a5b9};return await this[_0x5f0623(0x62f)](_0x5ac615[_0x5f0623(0x644)]['owner'])['findOneAndUpdate']({..._0x5ac615[_0x5f0623(0x644)]},{'$set':_0x1be285},_0x3a822d);}catch(_0x3c1efe){return console[_0x5f0623(0x6b1)](_0x3c1efe),null;}}async[a0_0x6619de(0x616)](_0x262c5e){const _0x545c79=a0_0x6619de;try{let _0x68313b=this[_0x545c79(0x62f)](_0x262c5e[0x0][_0x545c79(0x575)][_0x545c79(0x644)][_0x545c79(0x4e4)]),_0x86429a=_0x262c5e[_0x545c79(0x3e9)](_0x6c14f4=>({'updateOne':{'filter':{..._0x6c14f4[_0x545c79(0x575)]['where']},'update':{'$set':_0x6c14f4[_0x545c79(0x452)]}}}));return(await _0x68313b['bulkWrite'](_0x86429a))[_0x545c79(0x5be)];}catch(_0xad3d83){return console[_0x545c79(0x6b1)](_0xad3d83),0x0;}}},Pt=class{constructor(_0xae5bc8){const _0xa91f79=a0_0x6619de;this[_0xa91f79(0x6a6)]=_0xae5bc8;}async[a0_0x6619de(0x1a5)]({instanceName:_0x59c5e3},_0x2ad352){const _0x5314c8=a0_0x6619de;return await this['waMonitor'][_0x5314c8(0x545)][_0x59c5e3]['editChat'](_0x2ad352);}async[a0_0x6619de(0x258)]({instanceName:_0x393c21},_0x5bb7ca){const _0x116b37=a0_0x6619de;return await this[_0x116b37(0x6a6)][_0x116b37(0x545)][_0x393c21][_0x116b37(0x258)](_0x5bb7ca);}async['readMessage']({instanceName:_0x3acb66},_0x5b142f){const _0x4471bd=a0_0x6619de;return await this[_0x4471bd(0x6a6)]['waInstances'][_0x3acb66][_0x4471bd(0x332)](_0x5b142f);}async[a0_0x6619de(0x275)]({instanceName:_0x55183a},_0x21f9e0){const _0x4f6ccd=a0_0x6619de;return await this[_0x4f6ccd(0x6a6)]['waInstances'][_0x55183a][_0x4f6ccd(0x275)](_0x21f9e0);}async['deleteMessage']({instanceName:_0x129b4f},_0x1aeae6){const _0x23ddfb=a0_0x6619de;return await this[_0x23ddfb(0x6a6)][_0x23ddfb(0x545)][_0x129b4f]['deleteMessage'](_0x1aeae6);}async['fetchProfilePicture']({instanceName:_0x1d18c1},_0x24f3f1){const _0x211dbc=a0_0x6619de;return await this[_0x211dbc(0x6a6)][_0x211dbc(0x545)][_0x1d18c1]['profilePicture'](_0x24f3f1[_0x211dbc(0x2e5)]);}async[a0_0x6619de(0x5c5)]({instanceName:_0x5b4b5d},_0x18099d){const _0x2607e1=a0_0x6619de;return await this['waMonitor']['waInstances'][_0x5b4b5d][_0x2607e1(0x5c5)](_0x18099d['number']);}async[a0_0x6619de(0x419)]({instanceName:_0x186e2a},_0x22e54c){const _0x1dfd49=a0_0x6619de;return await this[_0x1dfd49(0x6a6)][_0x1dfd49(0x545)][_0x186e2a][_0x1dfd49(0x419)](_0x22e54c);}async[a0_0x6619de(0x18b)]({instanceName:_0x1cefbf},_0x5383b6){const _0x27b74f=a0_0x6619de;return await this[_0x27b74f(0x6a6)][_0x27b74f(0x545)][_0x1cefbf][_0x27b74f(0x18b)](_0x5383b6);}async[a0_0x6619de(0x4e7)]({instanceName:_0x1378ad},_0x1a5787){const _0x1a2b6b=a0_0x6619de;return await this[_0x1a2b6b(0x6a6)][_0x1a2b6b(0x545)][_0x1378ad]['getBase64FromMediaMessage'](_0x1a5787);}async[a0_0x6619de(0x1f3)]({instanceName:_0x375721},_0x1db320){const _0x1b75be=a0_0x6619de;return await this[_0x1b75be(0x6a6)][_0x1b75be(0x545)][_0x375721][_0x1b75be(0x1f3)](_0x1db320);}async['fetchChats']({instanceName:_0x1a9ee0}){const _0x5757b3=a0_0x6619de;return await this[_0x5757b3(0x6a6)][_0x5757b3(0x545)][_0x1a9ee0]['fetchChats']();}async[a0_0x6619de(0x3a6)]({instanceName:_0xcba8f7}){const _0x2ca59e=a0_0x6619de;return await this['waMonitor']['waInstances'][_0xcba8f7][_0x2ca59e(0x3a6)]();}async[a0_0x6619de(0x442)]({instanceName:_0x49d883},_0x56f892){const _0x2f0b06=a0_0x6619de;return await this['waMonitor'][_0x2f0b06(0x545)][_0x49d883]['updatePrivacySettings'](_0x56f892);}async[a0_0x6619de(0x277)]({instanceName:_0x427e92},_0x39f763){const _0x220365=a0_0x6619de;return await this[_0x220365(0x6a6)][_0x220365(0x545)][_0x427e92][_0x220365(0x277)](_0x39f763[_0x220365(0x2e5)]);}async[a0_0x6619de(0x19e)]({instanceName:_0x2f9b0f},_0x4bd814){const _0x191e0e=a0_0x6619de;return await this[_0x191e0e(0x6a6)][_0x191e0e(0x545)][_0x2f9b0f][_0x191e0e(0x19e)](_0x4bd814[_0x191e0e(0x5c4)]);}async[a0_0x6619de(0x20a)]({instanceName:_0x3db398},_0x57e497){const _0x5f0edf=a0_0x6619de;return await this['waMonitor'][_0x5f0edf(0x545)][_0x3db398]['updateProfileStatus'](_0x57e497[_0x5f0edf(0x3cc)]);}async[a0_0x6619de(0x658)]({instanceName:_0x56ed58},_0x9ac6eb){const _0x1af788=a0_0x6619de;return await this[_0x1af788(0x6a6)]['waInstances'][_0x56ed58]['updateProfilePicture'](_0x9ac6eb[_0x1af788(0x4d8)]);}async['removeProfilePicture']({instanceName:_0x397852},_0x43d59f){const _0x574557=a0_0x6619de;return await this[_0x574557(0x6a6)][_0x574557(0x545)][_0x397852][_0x574557(0x717)]();}},ms=require(a0_0x6619de(0x540)),xt=class c{constructor(_0x5478d6,_0x3d2dab,_0x14a45a,_0x1c2cd9,_0x1a06fc){const _0x6e707d=a0_0x6619de;this[_0x6e707d(0x6a6)]=_0x5478d6,this[_0x6e707d(0x42e)]=_0x3d2dab,this['repository']=_0x14a45a,this[_0x6e707d(0x6cf)]=_0x1c2cd9,this[_0x6e707d(0x712)]=_0x1a06fc,this[_0x6e707d(0x5a9)]=new N(c[_0x6e707d(0x5c4)]);}async['createInstance']({instanceName:_0x2d351d,apikey:_0xab93af}){const _0x5cc1b2=a0_0x6619de;let _0x25d706=new ye(this[_0x5cc1b2(0x42e)],this['eventEmitter'],this[_0x5cc1b2(0x331)]);_0x25d706[_0x5cc1b2(0x524)]=_0x2d351d,this['waMonitor']['waInstances'][_0x25d706[_0x5cc1b2(0x524)]]=_0x25d706,this[_0x5cc1b2(0x6a6)][_0x5cc1b2(0x38e)](_0x25d706[_0x5cc1b2(0x524)]);let _0x3714df={};_0xab93af?(await this[_0x5cc1b2(0x331)][_0x5cc1b2(0x282)][_0x5cc1b2(0x1db)]({'apikey':_0xab93af},_0x2d351d),_0x3714df[_0x5cc1b2(0x4ea)]=_0xab93af):_0x3714df=await this[_0x5cc1b2(0x712)]['generateHash']({'instanceName':_0x25d706[_0x5cc1b2(0x524)]});let _0x104d18;return await _0x25d706[_0x5cc1b2(0x242)](),await(0x0,ms[_0x5cc1b2(0x198)])(0x7d0),_0x104d18=_0x25d706[_0x5cc1b2(0x50a)],{'instance':{'instanceName':_0x25d706[_0x5cc1b2(0x524)],'status':_0x5cc1b2(0x61c)},'hash':_0x3714df,'qrcode':_0x104d18};}async['connectToWhatsapp']({instanceName:_0x55b2f5}){const _0xbdfd62=a0_0x6619de;try{let _0x2167c1=this[_0xbdfd62(0x6a6)]['waInstances'][_0x55b2f5];switch(_0x2167c1[_0xbdfd62(0x3ee)]?.[_0xbdfd62(0x3bd)]){case _0xbdfd62(0x74c):return await _0x2167c1[_0xbdfd62(0x242)](),await(0x0,ms[_0xbdfd62(0x198)])(0x7d0),_0x2167c1[_0xbdfd62(0x50a)];case _0xbdfd62(0x3b6):return _0x2167c1['qrCode'];default:return await this[_0xbdfd62(0x327)]({'instanceName':_0x55b2f5});}}catch(_0x4e600f){this[_0xbdfd62(0x5a9)][_0xbdfd62(0x49a)](_0x4e600f);}}async['connectionState']({instanceName:_0x5efaf0}){const _0x2b7993=a0_0x6619de;let _0x372ea7=this[_0x2b7993(0x6a6)][_0x2b7993(0x545)][_0x5efaf0][_0x2b7993(0x3ee)],_0x4b8560=null;_0x372ea7[_0x2b7993(0x3bd)]===_0x2b7993(0x70d)&&_0x5efaf0&&(_0x4b8560=await this['waMonitor'][_0x2b7993(0x5df)](_0x5efaf0));let _0x2e14fa=null;return _0x372ea7['state']===_0x2b7993(0x3b6)&&_0x5efaf0&&(_0x2e14fa=this['waMonitor'][_0x2b7993(0x545)][_0x5efaf0][_0x2b7993(0x50a)]),{'instance':_0x5efaf0,'connectionStatus':_0x372ea7,'instanceInfo':_0x4b8560,'qrcode':_0x2e14fa};}async[a0_0x6619de(0x31f)]({instanceName:_0x2a8129}){const _0x42c8a6=a0_0x6619de;try{return this[_0x42c8a6(0x6a6)][_0x42c8a6(0x545)][_0x2a8129]?.[_0x42c8a6(0x5a6)]?.['ws']?.[_0x42c8a6(0x74c)](),{'status':_0x42c8a6(0x445),'error':!0x1,'response':{'message':_0x42c8a6(0x393)}};}catch(_0x391b99){this[_0x42c8a6(0x5a9)][_0x42c8a6(0x6b1)](_0x391b99);}}async['fetchInstances']({instanceName:_0x33072f}){const _0x3d685c=a0_0x6619de;return _0x33072f?this[_0x3d685c(0x6a6)]['instanceInfo'](_0x33072f):this[_0x3d685c(0x6a6)]['instanceInfo']();}async[a0_0x6619de(0x2ce)]({instanceName:_0x4e554d}){const _0x11fe86=a0_0x6619de;try{return await this['waMonitor'][_0x11fe86(0x545)][_0x4e554d]?.[_0x11fe86(0x5a6)]?.[_0x11fe86(0x2ce)](_0x11fe86(0x49c)+_0x4e554d),{'error':!0x1,'message':_0x11fe86(0x3a0)};}catch(_0x1695eb){throw new A(_0x1695eb['toString']());}}async[a0_0x6619de(0x2b4)]({instanceName:_0x1fb406}){const _0x2ce888=a0_0x6619de;if((await this[_0x2ce888(0x327)]({'instanceName':_0x1fb406}))['connectionStatus']['state']===_0x2ce888(0x70d))throw new g([_0x2ce888(0x71f),_0x2ce888(0x237)]);try{return delete this[_0x2ce888(0x6a6)][_0x2ce888(0x545)][_0x1fb406],{'error':!0x1,'message':_0x2ce888(0x449)};}catch(_0x4dda76){throw new g(_0x4dda76[_0x2ce888(0x1cf)]());}}async[a0_0x6619de(0x36a)](_0x157b6b,_0x32f81b){const _0x488353=a0_0x6619de;return await this[_0x488353(0x712)][_0x488353(0x36a)](_0x32f81b);}},se=require(a0_0x6619de(0x1a0)),$t=class{constructor(_0x2e441a){const _0x4a6071=a0_0x6619de;this[_0x4a6071(0x6a6)]=_0x2e441a;}async[a0_0x6619de(0x48a)]({instanceName:_0x304780},_0x78d5fa){const _0xe8944e=a0_0x6619de;return await this[_0xe8944e(0x6a6)]['waInstances'][_0x304780][_0xe8944e(0x655)](_0x78d5fa);}async[a0_0x6619de(0x546)]({instanceName:_0x256d86},_0x2fbb1e){const _0x37dd0b=a0_0x6619de;if((0x0,se['isBase64'])(_0x2fbb1e?.[_0x37dd0b(0x3e1)]?.[_0x37dd0b(0x52b)])&&!_0x2fbb1e?.[_0x37dd0b(0x3e1)]?.['fileName'])throw new g(_0x37dd0b(0x431));if((0x0,se[_0x37dd0b(0x5ca)])(_0x2fbb1e?.[_0x37dd0b(0x3e1)]?.['media'])||(0x0,se[_0x37dd0b(0x6ba)])(_0x2fbb1e?.[_0x37dd0b(0x3e1)]?.[_0x37dd0b(0x52b)]))return await this[_0x37dd0b(0x6a6)][_0x37dd0b(0x545)][_0x256d86][_0x37dd0b(0x3e1)](_0x2fbb1e);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x522309},_0x11a0ec){const _0x25a005=a0_0x6619de;if((0x0,se['isURL'])(_0x11a0ec[_0x25a005(0x710)][_0x25a005(0x378)])||(0x0,se[_0x25a005(0x6ba)])(_0x11a0ec['stickerMessage'][_0x25a005(0x378)]))return await this[_0x25a005(0x6a6)][_0x25a005(0x545)][_0x522309][_0x25a005(0x610)](_0x11a0ec);throw new g(_0x25a005(0x306));}async[a0_0x6619de(0x3b3)]({instanceName:_0x268ee8},_0x13dd7d){const _0x409c66=a0_0x6619de;if((0x0,se[_0x409c66(0x5ca)])(_0x13dd7d[_0x409c66(0x2dc)][_0x409c66(0x368)])||(0x0,se['isBase64'])(_0x13dd7d[_0x409c66(0x2dc)][_0x409c66(0x368)]))return await this[_0x409c66(0x6a6)][_0x409c66(0x545)][_0x268ee8][_0x409c66(0x2d3)](_0x13dd7d);throw new g(_0x409c66(0x306));}async[a0_0x6619de(0x290)]({instanceName:_0x7c9fe2},_0x396a50){const _0x10caf0=a0_0x6619de;if((0x0,se[_0x10caf0(0x6ba)])(_0x396a50['buttonMessage'][_0x10caf0(0x3e1)]?.['media'])&&!_0x396a50[_0x10caf0(0x267)][_0x10caf0(0x3e1)]?.[_0x10caf0(0x64d)])throw new g('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x10caf0(0x6a6)][_0x10caf0(0x545)][_0x7c9fe2][_0x10caf0(0x267)](_0x396a50);}async[a0_0x6619de(0x708)]({instanceName:_0x163721},_0x3bb3a1){const _0x55f7a4=a0_0x6619de;return await this[_0x55f7a4(0x6a6)][_0x55f7a4(0x545)][_0x163721][_0x55f7a4(0x46f)](_0x3bb3a1);}async['sendPoll']({instanceName:_0x346a42},_0x31ec8f){const _0x509749=a0_0x6619de;return await this[_0x509749(0x6a6)]['waInstances'][_0x346a42][_0x509749(0x63b)](_0x31ec8f);}async[a0_0x6619de(0x697)]({instanceName:_0x421fbe},_0x2f8a00){const _0x457cab=a0_0x6619de;return await this[_0x457cab(0x6a6)][_0x457cab(0x545)][_0x421fbe][_0x457cab(0x533)](_0x2f8a00);}async[a0_0x6619de(0x6e9)]({instanceName:_0x315da3},_0xb226a6){const _0x344323=a0_0x6619de;return await this['waMonitor'][_0x344323(0x545)][_0x315da3][_0x344323(0x402)](_0xb226a6);}async[a0_0x6619de(0x6f7)]({instanceName:_0x57c848},_0x39a4c2){const _0x36f79c=a0_0x6619de;if(!_0x39a4c2['reactionMessage'][_0x36f79c(0x1ee)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x36f79c(0x1b1));return await this[_0x36f79c(0x6a6)][_0x36f79c(0x545)][_0x57c848]['reactionMessage'](_0x39a4c2);}async[a0_0x6619de(0x464)]({instanceName:_0x20e495},_0x13a4b6){const _0x558c12=a0_0x6619de;return await this[_0x558c12(0x6a6)][_0x558c12(0x545)][_0x20e495]['statusMessage'](_0x13a4b6);}},kt=class{constructor(_0x485f25){const _0x41686e=a0_0x6619de;this[_0x41686e(0x6a6)]=_0x485f25;}async[a0_0x6619de(0x215)](_0x26aeb1,_0x59945f){const _0x45bf6d=a0_0x6619de;return await this['waMonitor']['waInstances'][_0x26aeb1[_0x45bf6d(0x524)]][_0x45bf6d(0x215)](_0x59945f);}async[a0_0x6619de(0x354)](_0x28e72f,_0x41f934){const _0x2ea5d2=a0_0x6619de;return await this[_0x2ea5d2(0x6a6)][_0x2ea5d2(0x545)][_0x28e72f[_0x2ea5d2(0x524)]][_0x2ea5d2(0x354)](_0x41f934);}async[a0_0x6619de(0x505)](_0x2066b5,_0x1bc672){const _0x5a7330=a0_0x6619de;return await this[_0x5a7330(0x6a6)][_0x5a7330(0x545)][_0x2066b5['instanceName']][_0x5a7330(0x505)](_0x1bc672);}async[a0_0x6619de(0x233)](_0x434dbe,_0x2cdaae){const _0x5bb949=a0_0x6619de;return await this[_0x5bb949(0x6a6)]['waInstances'][_0x434dbe[_0x5bb949(0x524)]][_0x5bb949(0x233)](_0x2cdaae);}async[a0_0x6619de(0x1f1)](_0x32a005,_0x4423d8){const _0x24e7a6=a0_0x6619de;return await this[_0x24e7a6(0x6a6)][_0x24e7a6(0x545)][_0x32a005['instanceName']][_0x24e7a6(0x1f1)](_0x4423d8);}async[a0_0x6619de(0x44f)](_0x17d9cb,_0x17328a){const _0x512390=a0_0x6619de;return await this['waMonitor'][_0x512390(0x545)][_0x17d9cb[_0x512390(0x524)]][_0x512390(0x418)](_0x17328a);}async['findGroups'](_0x54e7dd){const _0x2c0c35=a0_0x6619de;return await this[_0x2c0c35(0x6a6)][_0x2c0c35(0x545)][_0x54e7dd['instanceName']][_0x2c0c35(0x27f)]();}async[a0_0x6619de(0x5fb)](_0x2feab2,_0x23d654){const _0x4d5344=a0_0x6619de;return await this[_0x4d5344(0x6a6)]['waInstances'][_0x2feab2[_0x4d5344(0x524)]][_0x4d5344(0x5fb)](_0x23d654);}async[a0_0x6619de(0x49d)](_0x233771,_0x509437){const _0x142bc4=a0_0x6619de;return await this['waMonitor'][_0x142bc4(0x545)][_0x233771[_0x142bc4(0x524)]]['joinGroup'](_0x509437);}async[a0_0x6619de(0x29a)](_0x52ab3d,_0x3a68be){const _0x3e4924=a0_0x6619de;return await this[_0x3e4924(0x6a6)][_0x3e4924(0x545)][_0x52ab3d[_0x3e4924(0x524)]][_0x3e4924(0x29a)](_0x3a68be);}async[a0_0x6619de(0x69b)](_0xb85dfb,_0x2e0e7a){const _0x114523=a0_0x6619de;return await this[_0x114523(0x6a6)][_0x114523(0x545)][_0xb85dfb['instanceName']][_0x114523(0x69b)](_0x2e0e7a);}async['updateGParticipate'](_0xf3fc3b,_0x361b78){const _0x3fe668=a0_0x6619de;return await this[_0x3fe668(0x6a6)]['waInstances'][_0xf3fc3b[_0x3fe668(0x524)]][_0x3fe668(0x5b0)](_0x361b78);}async[a0_0x6619de(0x70e)](_0x3f5b74,_0x1ad4e1){const _0x18ba51=a0_0x6619de;return await this[_0x18ba51(0x6a6)][_0x18ba51(0x545)][_0x3f5b74['instanceName']]['toggleEphemeral'](_0x1ad4e1);}async['leaveGroup'](_0x385041,_0x396e9b){const _0x54fa04=a0_0x6619de;return await this[_0x54fa04(0x6a6)]['waInstances'][_0x385041['instanceName']][_0x54fa04(0x68d)](_0x396e9b);}},Lt=class{constructor(_0x57c5e7,_0x42c1b9){const _0x5dba62=a0_0x6619de;this['waMonit']=_0x57c5e7,this[_0x5dba62(0x42e)]=_0x42c1b9;}async[a0_0x6619de(0x279)](_0x562a42,_0x1dcc8b){const _0x46923b=a0_0x6619de;try{let _0x21c828=_0x562a42[_0x46923b(0x39a)];if(this[_0x46923b(0x6a8)][_0x46923b(0x545)][_0x21c828['instanceName']][_0x46923b(0x3ee)][_0x46923b(0x3bd)]===_0x46923b(0x70d))throw new g('The\x20instance\x20is\x20already\x20connected');let _0x46c675=this[_0x46923b(0x42e)][_0x46923b(0x39d)](_0x46923b(0x6db))[_0x46923b(0x357)];return _0x1dcc8b[_0x46923b(0x3cc)](0xc8)[_0x46923b(0x299)]('qrcode',{'type':_0x46c675,..._0x21c828});}catch(_0x374cae){console[_0x46923b(0x49a)]('ERROR:\x20',_0x374cae);}}},Ut=class{constructor(_0x8d9191){const _0x5e714b=a0_0x6619de;this[_0x5e714b(0x6a6)]=_0x8d9191;}[a0_0x6619de(0x1db)](_0x21708a,_0x235fb4){const _0x7d938e=a0_0x6619de;return this[_0x7d938e(0x6a6)][_0x7d938e(0x545)][_0x21708a['instanceName']][_0x7d938e(0x27a)](_0x235fb4);}async[a0_0x6619de(0x451)](_0x38b3b4){const _0x12746c=a0_0x6619de;try{return await this[_0x12746c(0x6a6)][_0x12746c(0x545)][_0x38b3b4[_0x12746c(0x524)]][_0x12746c(0x6b9)]();}catch{return{'enabled':null,'url':''};}}},ad=new N('FlowController'),Vt=class{constructor(_0x535f24){this['waMonitor']=_0x535f24;}async['editScheduleMessage'](_0x2d7272,_0x202f79){const _0x1c0e1f=a0_0x6619de;return await this[_0x1c0e1f(0x6a6)][_0x1c0e1f(0x545)][_0x2d7272['instanceName']]['editScheduleMessage'](_0x202f79);}async[a0_0x6619de(0x3e2)](_0x5e4b31){const _0x4ccc76=a0_0x6619de;return await this[_0x4ccc76(0x6a6)][_0x4ccc76(0x545)][_0x5e4b31[_0x4ccc76(0x524)]][_0x4ccc76(0x3e2)]();}async[a0_0x6619de(0x245)](_0x57ebd9){const _0x11e978=a0_0x6619de;return await this[_0x11e978(0x6a6)][_0x11e978(0x545)][_0x57ebd9[_0x11e978(0x524)]]['deleteDoneMessages']();}async['getAutomateSystem'](_0x40d4fa){const _0x141b06=a0_0x6619de;return await this[_0x141b06(0x6a6)][_0x141b06(0x545)][_0x40d4fa[_0x141b06(0x524)]]['getAutomateSystem']();}async[a0_0x6619de(0x32c)](_0x925546,_0x481730){const _0x45e074=a0_0x6619de;return await this[_0x45e074(0x6a6)][_0x45e074(0x545)][_0x925546[_0x45e074(0x524)]][_0x45e074(0x32c)](_0x481730);}async['updateCustomFields'](_0x24595f,_0x26039b){const _0x4bdc11=a0_0x6619de;return await this[_0x4bdc11(0x6a6)][_0x4bdc11(0x545)][_0x24595f[_0x4bdc11(0x524)]][_0x4bdc11(0x232)](_0x26039b);}async[a0_0x6619de(0x271)](_0x51c173,_0x592aba){const _0x2f0725=a0_0x6619de;return await this[_0x2f0725(0x6a6)][_0x2f0725(0x545)][_0x51c173[_0x2f0725(0x524)]][_0x2f0725(0x271)](_0x592aba);}async[a0_0x6619de(0x21b)](_0x382d41,_0x4e7a25){const _0x25df00=a0_0x6619de;return await this[_0x25df00(0x6a6)][_0x25df00(0x545)][_0x382d41[_0x25df00(0x524)]]['startFlow'](_0x4e7a25);}async[a0_0x6619de(0x35f)](_0x126fb5,_0x3216e8){const _0x4f793f=a0_0x6619de;return await this[_0x4f793f(0x6a6)][_0x4f793f(0x545)][_0x126fb5[_0x4f793f(0x524)]][_0x4f793f(0x35f)](_0x3216e8);}async[a0_0x6619de(0x4e3)](_0x23ae22,_0x1a1183){const _0x4237b4=a0_0x6619de;return await this['waMonitor'][_0x4237b4(0x545)][_0x23ae22[_0x4237b4(0x524)]]['fetchConversation'](_0x1a1183);}async[a0_0x6619de(0x1e1)](_0x248a1d,_0xf0aef0){const _0x335358=a0_0x6619de;return await this[_0x335358(0x6a6)]['waInstances'][_0x248a1d[_0x335358(0x524)]][_0x335358(0x1e1)](_0xf0aef0);}async[a0_0x6619de(0x51a)](_0x425de2,_0x275fd0){const _0x567d36=a0_0x6619de;return await this['waMonitor'][_0x567d36(0x545)][_0x425de2[_0x567d36(0x524)]][_0x567d36(0x51a)](_0x275fd0);}async[a0_0x6619de(0x6cd)](_0x175ca7,_0x8c8223){const _0x18a78f=a0_0x6619de;return await this[_0x18a78f(0x6a6)][_0x18a78f(0x545)][_0x175ca7[_0x18a78f(0x524)]][_0x18a78f(0x6cd)](_0x8c8223[_0x18a78f(0x5c4)]);}async[a0_0x6619de(0x19a)](_0x581a1d,_0x4fd79a){const _0x1cc14b=a0_0x6619de;return await this[_0x1cc14b(0x6a6)][_0x1cc14b(0x545)][_0x581a1d[_0x1cc14b(0x524)]][_0x1cc14b(0x19a)](_0x4fd79a);}async[a0_0x6619de(0x563)](_0x58716f,_0x3f57d8){const _0x4158d5=a0_0x6619de;return await this[_0x4158d5(0x6a6)][_0x4158d5(0x545)][_0x58716f[_0x4158d5(0x524)]][_0x4158d5(0x563)](_0x3f57d8);}async['editFlowBlock'](_0x130980,_0x10bb7c){const _0x48901e=a0_0x6619de;return await this[_0x48901e(0x6a6)][_0x48901e(0x545)][_0x130980[_0x48901e(0x524)]]['editFlowBlock'](_0x10bb7c);}async['editFlowReply'](_0x59b01c,_0x3edadb){const _0x23f4b7=a0_0x6619de;return await this[_0x23f4b7(0x6a6)][_0x23f4b7(0x545)][_0x59b01c[_0x23f4b7(0x524)]]['editFlowReply'](_0x3edadb);}async['editFlowGroup'](_0x2e60c1,_0x52b46f){const _0x4c9ebb=a0_0x6619de;return await this['waMonitor'][_0x4c9ebb(0x545)][_0x2e60c1[_0x4c9ebb(0x524)]][_0x4c9ebb(0x4aa)](_0x52b46f);}async[a0_0x6619de(0x631)](_0x5507e4,_0x12dee7){const _0x39054b=a0_0x6619de;return await this[_0x39054b(0x6a6)][_0x39054b(0x545)][_0x5507e4['instanceName']]['editFlowCondition'](_0x12dee7);}async[a0_0x6619de(0x521)](_0x583e52,_0xb661dc){const _0x3e6591=a0_0x6619de;return await this['waMonitor'][_0x3e6591(0x545)][_0x583e52[_0x3e6591(0x524)]][_0x3e6591(0x521)](_0xb661dc);}async[a0_0x6619de(0x4bd)](_0xc3989e,_0x248fe8){const _0xa7942=a0_0x6619de;return await this[_0xa7942(0x6a6)][_0xa7942(0x545)][_0xc3989e[_0xa7942(0x524)]][_0xa7942(0x4bd)](_0x248fe8);}async['deleteFlow'](_0x384ce1,_0x7a619a){const _0x5cd8df=a0_0x6619de;return await this[_0x5cd8df(0x6a6)][_0x5cd8df(0x545)][_0x384ce1[_0x5cd8df(0x524)]]['deleteFlow'](_0x7a619a[_0x5cd8df(0x5c4)]);}async['allFlows'](_0xe0be92){const _0x16bb6c=a0_0x6619de;return await this[_0x16bb6c(0x6a6)][_0x16bb6c(0x545)][_0xe0be92['instanceName']][_0x16bb6c(0x28b)]();}},jt=class{constructor(_0xf0b237){const _0x4b749c=a0_0x6619de;this[_0x4b749c(0x415)]=_0xf0b237;}async[a0_0x6619de(0x6ad)](_0x77087f,_0x999f0e){return this['webhookService']['create'](_0x77087f,_0x999f0e);}async[a0_0x6619de(0x6b9)](_0x1ccbb6){const _0x35c9e3=a0_0x6619de;return this[_0x35c9e3(0x415)][_0x35c9e3(0x451)](_0x1ccbb6);}},Ft=class{constructor(_0x16152d,_0x571eb4,_0x2fcacb,_0x5d7446,_0x17f36d,_0x2afdca){const _0x3346a8=a0_0x6619de;this[_0x3346a8(0x1cb)]=_0x16152d,this['chat']=_0x571eb4,this[_0x3346a8(0x2fd)]=_0x2fcacb,this[_0x3346a8(0x23f)]=_0x5d7446,this['auth']=_0x17f36d,this[_0x3346a8(0x1ae)]=_0x2afdca;}get[a0_0x6619de(0x1b0)](){const _0x1f8364=a0_0x6619de;return this[_0x1f8364(0x1ae)];}},hs=require('path'),to=require('fs'),Bt=class extends W{constructor(_0x38c8e2,_0x50486b){const _0x2d0801=a0_0x6619de;super(_0x50486b),this[_0x2d0801(0x443)]=_0x38c8e2,this[_0x2d0801(0x42e)]=_0x50486b;}async[a0_0x6619de(0x1db)](_0x4598fa,_0x29196f){const _0x570490=a0_0x6619de;try{return this['dbSettings'][_0x570490(0x38c)]?{'insertCount':(await this[_0x570490(0x443)][_0x570490(0x595)]({'_id':_0x29196f},{..._0x4598fa},{'upsert':!0x0}))[_0x570490(0x5be)]}:(this['writeStore']({'path':(0x0,hs[_0x570490(0x262)])(this[_0x570490(0x67f)],_0x570490(0x23f)),'fileName':_0x29196f,'data':_0x4598fa}),{'insertCount':0x1});}catch(_0x1bb332){return _0x1bb332;}}async[a0_0x6619de(0x451)](_0x57f5ff){const _0x228427=a0_0x6619de;try{return this[_0x228427(0x47f)]['ENABLED']?await this[_0x228427(0x443)][_0x228427(0x47a)]({'_id':_0x57f5ff}):JSON['parse']((0x0,to[_0x228427(0x22f)])((0x0,hs['join'])(this[_0x228427(0x67f)],'webhook',_0x57f5ff+'.json'),{'encoding':_0x228427(0x6be)}));}catch{return{};}}},fs=require('path'),so=require('fs'),qt=class extends W{constructor(_0x692e70,_0x5a9ab9){const _0x39463c=a0_0x6619de;super(_0x5a9ab9),this['authModel']=_0x692e70,this[_0x39463c(0x42e)]=_0x5a9ab9,this[_0x39463c(0x282)]=_0x5a9ab9[_0x39463c(0x39d)](_0x39463c(0x6db));}async[a0_0x6619de(0x1db)](_0x5ac3e7,_0x46cb7f){const _0x57b1a3=a0_0x6619de;try{return this['dbSettings'][_0x57b1a3(0x38c)]?{'insertCount':(await this['authModel'][_0x57b1a3(0x595)]({'_id':_0x46cb7f},{..._0x5ac3e7},{'upsert':!0x0}))[_0x57b1a3(0x5be)]}:(this[_0x57b1a3(0x60b)]({'path':(0x0,fs[_0x57b1a3(0x262)])(Gt,this[_0x57b1a3(0x282)]['TYPE']),'fileName':_0x46cb7f,'data':_0x5ac3e7}),{'insertCount':0x1});}catch(_0x49b749){return{'error':_0x49b749};}}async['find'](_0xa5c349){const _0x1e69fd=a0_0x6619de;try{return this[_0x1e69fd(0x47f)]['ENABLED']?await this[_0x1e69fd(0x509)][_0x1e69fd(0x47a)]({'_id':_0xa5c349}):JSON['parse']((0x0,so['readFileSync'])((0x0,fs['join'])(Gt,this[_0x1e69fd(0x282)][_0x1e69fd(0x357)],_0xa5c349+_0x1e69fd(0x455)),{'encoding':_0x1e69fd(0x6be)}));}catch{return{};}}},Wo=new N(a0_0x6619de(0x28a)),Ho=new xe(S),Ko=new Ot(S),zo=new We(S),Qo=new Bt(Fs,S),Yo=new qt(Us,S),le=new Ft(Ho,Ko,zo,Qo,Yo,M?.[a0_0x6619de(0x31a)]()),B=new _t(Kt,S,le),Xo=new rt(S,B,le),Zo=new Ut(B),ls=new jt(Zo),R=new Vt(B),ie=new xt(B,S,le,Kt,Xo),Fa=new Lt(B,S),K=new $t(B),D=new Pt(B),U=new kt(B);Wo[a0_0x6619de(0x2ad)](a0_0x6619de(0x234));var Xd=require(a0_0x6619de(0x698)),ws=require('fs'),ao=T(require(a0_0x6619de(0x39f))),oo=T(require(a0_0x6619de(0x60f))),Re=class c{static #e;static set['app'](_0x1cf57b){this.#e=_0x1cf57b;}static get[a0_0x6619de(0x39f)](){const _0x1e1156=a0_0x6619de;let {FULLCHAIN:_0x488036,PRIVKEY:_0x5962e5}=S[_0x1e1156(0x39d)](_0x1e1156(0x609));return ao[_0x1e1156(0x669)]({'cert':(0x0,ws[_0x1e1156(0x22f)])(_0x488036),'key':(0x0,ws[_0x1e1156(0x22f)])(_0x5962e5)},c.#e);}static get[a0_0x6619de(0x60f)](){const _0x3e069f=a0_0x6619de;return oo[_0x3e069f(0x669)](c.#e);}},pe=T(require('fs')),uo=T(require(a0_0x6619de(0x2b0))),Me=T(require(a0_0x6619de(0x5b9))),Ie=T(require(a0_0x6619de(0x208))),De=require(a0_0x6619de(0x2fe));function er(){const _0x398841=a0_0x6619de;B[_0x398841(0x4d3)]();let _0xaf2506=Ie['default'][_0x398841(0x262)](__dirname,_0x398841(0x25e));lo(_0xaf2506);}var lo=_0x15ba86=>{const _0x22a213=a0_0x6619de;let _0x1ea914=pe['default'][_0x22a213(0x35d)](_0x15ba86),_0x22402e=0xc*0x3c*0x3c*0x3e8,_0x256a25=0x2*0x3c*0x3c*0x3e8,_0x3e3cb0=new Date()[_0x22a213(0x72e)]();_0x1ea914[_0x22a213(0x2e4)](_0x566451=>{const _0x330993=_0x22a213;let _0x2c6350=Ie[_0x330993(0x411)][_0x330993(0x262)](_0x15ba86,_0x566451),_0x13304e=pe['default'][_0x330993(0x3e5)](_0x2c6350)[_0x330993(0x469)][_0x330993(0x72e)]();_0x3e3cb0-_0x13304e>_0x22402e&&(pe[_0x330993(0x411)][_0x330993(0x5eb)](_0x2c6350),console[_0x330993(0x49a)](_0x330993(0x2d8)+_0x566451));}),setTimeout(()=>lo(_0x15ba86),_0x256a25);};function tr(){const _0x3f83ec=a0_0x6619de;let _0x412f1f=new N(_0x3f83ec(0x538)),_0x7cdec6=(0x0,ge['default'])();_0x7cdec6[_0x3f83ec(0x695)]((0x0,co[_0x3f83ec(0x411)])({'origin'(_0x5ca1a8,_0x56a57e){const _0x4e0575=_0x3f83ec;let {ORIGIN:_0x1761e7}=S['get'](_0x4e0575(0x5ff));return _0x5ca1a8||(_0x5ca1a8='*'),_0x1761e7[_0x4e0575(0x2f5)]('*')!==-0x1||_0x1761e7[_0x4e0575(0x2f5)](_0x5ca1a8)!==-0x1?_0x56a57e(null,!0x0):_0x56a57e(new Error(_0x4e0575(0x672)));},'methods':[...S[_0x3f83ec(0x39d)](_0x3f83ec(0x5ff))['METHODS']],'credentials':S[_0x3f83ec(0x39d)](_0x3f83ec(0x5ff))[_0x3f83ec(0x5e3)]}),(0x0,ge['urlencoded'])({'extended':!0x0,'limit':_0x3f83ec(0x2d9)}),(0x0,ge[_0x3f83ec(0x5c8)])({'limit':'50mb'})),_0x7cdec6[_0x3f83ec(0x695)]((_0x53f562,_0x2cc586,_0x232268)=>{const _0x577955=_0x3f83ec;_0x53f562[_0x577955(0x208)][_0x577955(0x17f)](_0x577955(0x2a6))?_0x232268():(0x0,no[_0x577955(0x411)])()(_0x53f562,_0x2cc586,_0x232268);}),_0x7cdec6['set'](_0x3f83ec(0x650),_0x3f83ec(0x1c5)),_0x7cdec6[_0x3f83ec(0x701)](_0x3f83ec(0x721),(0x0,bs['join'])(Q,_0x3f83ec(0x721))),_0x7cdec6[_0x3f83ec(0x695)](ge[_0x3f83ec(0x411)][_0x3f83ec(0x3d8)]((0x0,bs[_0x3f83ec(0x262)])(Q,_0x3f83ec(0x70b)))),_0x7cdec6[_0x3f83ec(0x695)]((_0x37b3b3,_0x8652ef,_0x5aa960)=>{const _0x5730f0=_0x3f83ec;let _0x20de59=_0x8652ef[_0x5730f0(0x548)];_0x8652ef[_0x5730f0(0x548)]=function(_0x285d4b){const _0x2b408f=_0x5730f0;if(_0x37b3b3[_0x2b408f(0x575)]['convert']===_0x2b408f(0x680)||_0x37b3b3[_0x2b408f(0x6ff)][_0x2b408f(0x46e)]==='true'){let _0x4b4876=JSON[_0x2b408f(0x614)](_0x285d4b);_0x285d4b=JSON[_0x2b408f(0x24c)](_0x5e8f7e(_0x4b4876));}return _0x20de59[_0x2b408f(0x37b)](_0x8652ef,[_0x285d4b]);},_0x5aa960();}),_0x7cdec6[_0x3f83ec(0x695)]('/',vt),_0x7cdec6[_0x3f83ec(0x695)]((_0x5077ea,_0x37b5a9,_0x452c38,_0x331dab)=>{const _0x2139c9=_0x3f83ec;if(_0x5077ea)return _0x452c38[_0x2139c9(0x3cc)](_0x5077ea[_0x2139c9(0x3cc)]||0x1f4)[_0x2139c9(0x5c8)](_0x5077ea);},(_0x315d35,_0x39b7c0,_0x3574c2)=>{const _0x54f2dc=_0x3f83ec;let {method:_0x52dcf2,url:_0x345e29}=_0x315d35;_0x39b7c0['status'](0x194)[_0x54f2dc(0x5c8)]({'status':0x194,'message':'Cannot\x20'+_0x52dcf2[_0x54f2dc(0x448)]()+'\x20'+_0x345e29,'error':_0x54f2dc(0x3b1)}),_0x3574c2();});let _0x5e8f7e=(_0x172218,_0x49db63=_0x3f83ec(0x41b))=>{const _0x3a9196=_0x3f83ec;let _0x5817ba=(_0x17b30f,_0x57ea92=null,_0x51bea5=!0x1)=>{const _0xd316da=a0_0x4391;let _0x2ad7c5={};return Object['keys'](_0x17b30f)[_0xd316da(0x2e4)](_0x422acd=>{const _0x4ff5eb=_0xd316da;let _0x4f07b6=_0x17b30f[_0x422acd],_0x2cad29=''+_0x49db63+_0x422acd;_0x57ea92&&!_0x51bea5&&(_0x2cad29=_0x57ea92+'.'+_0x422acd),!_0x4f07b6&&_0x4f07b6!==0x0&&_0x4f07b6!==!0x1||typeof _0x4f07b6>'u'?_0x2ad7c5[_0x2cad29]=null:typeof _0x4f07b6!='object'&&!Array[_0x4ff5eb(0x3e0)](_0x4f07b6)?_0x2ad7c5[_0x2cad29]=_0x4f07b6:typeof _0x4f07b6=='object'&&!Array[_0x4ff5eb(0x3e0)](_0x4f07b6)?_0x2ad7c5=Object[_0x4ff5eb(0x252)](_0x2ad7c5,_0x5817ba(_0x4f07b6,_0x2cad29)):Array[_0x4ff5eb(0x3e0)](_0x4f07b6)&&(typeof _0x4f07b6[0x0]=='object'?(_0x2ad7c5[_0x2cad29]=[],_0x4f07b6[_0x4ff5eb(0x2e4)](_0x3ec160=>{const _0x5651af=_0x4ff5eb;_0x2ad7c5[_0x2cad29][_0x5651af(0x44c)](_0x5817ba(_0x3ec160,_0x2cad29,!0x0));})):_0x2ad7c5[_0x2cad29]=_0x4f07b6);}),_0x2ad7c5;};return Array['isArray'](_0x172218)?_0x172218[_0x3a9196(0x3e9)](_0x571072=>_0x5817ba(_0x571072)):typeof _0x172218==_0x3a9196(0x54b)&&_0x172218!==null?_0x5817ba(_0x172218):{};},_0x22af02=S[_0x3f83ec(0x39d)](_0x3f83ec(0x538));Re['app']=_0x7cdec6;let _0x45a24b=Re[_0x22af02[_0x3f83ec(0x357)]],_0x2ef6d7=_0x3f83ec(0x611);_0x45a24b[_0x3f83ec(0x6ed)](_0x22af02[_0x3f83ec(0x6aa)],()=>{const _0x1c684e=_0x3f83ec;_0x412f1f[_0x1c684e(0x49a)](_0x2ef6d7),_0x412f1f['log'](_0x22af02['TYPE'][_0x1c684e(0x448)]()+_0x1c684e(0x401)+_0x22af02[_0x1c684e(0x6aa)]);}),er(),Ds();}var sr=a0_0x6619de(0x596),ar=Ie[a0_0x6619de(0x411)][a0_0x6619de(0x262)](__dirname,a0_0x6619de(0x5db)),Ae=null;function or(){return new Promise((_0x314be3,_0x3ac606)=>{const _0x2fe550=a0_0x4391;pe[_0x2fe550(0x411)]['readFile'](ar,'utf-8',(_0x1ff104,_0x4936de)=>{const _0x4def10=_0x2fe550;if(_0x1ff104){Ae=_0x1ff104,_0x314be3();return;}uo['default']['parse'](_0x4936de)[_0x4def10(0x576)]['url']===sr?(Ae=null,_0x314be3()):(Ae=new Error(_0x4def10(0x309)),_0x314be3());});});}async function rr(){const _0x2a73eb=a0_0x6619de;try{await or(),await Ss();}catch(_0xb3d7ba){console[_0x2a73eb(0x6b1)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0xb3d7ba),process[_0x2a73eb(0x53e)](0x1);}}rr();function a0_0x4391(_0x106dca,_0x35c791){const _0x36f791=a0_0x36f7();return a0_0x4391=function(_0x4391a8,_0x744efa){_0x4391a8=_0x4391a8-0x179;let _0x45f0bd=_0x36f791[_0x4391a8];return _0x45f0bd;},a0_0x4391(_0x106dca,_0x35c791);}async function po(){const _0x138c48=a0_0x6619de;let _0x4613fb;try{_0x4613fb=(await Me[_0x138c48(0x411)][_0x138c48(0x39d)]('https://jsonip.com'))['data']['ip'];}catch(_0x23538a){console[_0x138c48(0x6b1)](_0x23538a);try{_0x4613fb=(await Me[_0x138c48(0x411)][_0x138c48(0x39d)](_0x138c48(0x628)))['data']['ip'];}catch(_0x338175){console[_0x138c48(0x6b1)](_0x338175);try{_0x4613fb=(await Me[_0x138c48(0x411)][_0x138c48(0x39d)]('http://checkip.dyndns.org'))['data']['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4caa9f){return console[_0x138c48(0x6b1)](_0x4caa9f),!0x1;}}}return _0x4613fb;}var ro=0x0;async function ir(){const _0x40a23c=a0_0x6619de;let _0x1d37d3=await new ne(S['get']('REDIS'))['instanceKeys']();return console[_0x40a23c(0x49a)](_0x40a23c(0x709),_0x1d37d3[_0x40a23c(0x41d)]),_0x1d37d3[_0x40a23c(0x41d)];}async function nr(){const _0x4be54b=a0_0x6619de;let _0x2a69bd=S[_0x4be54b(0x39d)](_0x4be54b(0x4ec)),_0x107370=S[_0x4be54b(0x39d)]('AUTHENTICATION')[_0x4be54b(0x4db)][_0x4be54b(0x391)],_0x21b1db=S[_0x4be54b(0x39d)]('SSL_CONF'),_0x43f764=await po(),_0x259f38=S[_0x4be54b(0x39d)](_0x4be54b(0x538))[_0x4be54b(0x6aa)];try{let _0x222d4c={'ip':_0x43f764||null,'redis_enable':_0x2a69bd?.[_0x4be54b(0x38c)]||null,'apikey':_0x107370||null,'ssl':_0x21b1db?.[_0x4be54b(0x534)]||null,'lastupdate':go||null,'port':_0x259f38||null,'gitInstallError':Ae?.['message']||null};if(console[_0x4be54b(0x49a)](_0x4be54b(0x523),_0x222d4c['ip']),_0x2a69bd&&_0x2a69bd[_0x4be54b(0x38c)]){let _0x46eafc=await ir();_0x222d4c[_0x4be54b(0x3f9)]=_0x46eafc||null;}for(let _0x337e2f in _0x222d4c)_0x222d4c[_0x4be54b(0x297)](_0x337e2f)&&_0x337e2f!=='ip'&&(_0x222d4c[_0x337e2f]=JSON[_0x4be54b(0x24c)](_0x222d4c[_0x337e2f]));return(await Me[_0x4be54b(0x411)]['post'](_0x4be54b(0x58f),_0x222d4c))[_0x4be54b(0x4b4)];}catch(_0x26c7d7){return console['error'](_0x26c7d7),!0x1;}}var ys=!0x1,go=0x211,cr=0x3,io=0x1b7740;async function Ss(){const _0x23daed=a0_0x6619de;if(!await po())return console[_0x23daed(0x6b1)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x23daed(0x728);let _0x5e1dfc=await nr();if(_0x5e1dfc){if(_0x5e1dfc[_0x23daed(0x2bd)][_0x23daed(0x3f0)]===!0x0){S['get'](_0x23daed(0x609))['PRIVKEY'][_0x23daed(0x569)](_0x23daed(0x714))&&_0x5e1dfc[_0x23daed(0x2bd)][_0x23daed(0x3c2)]&&(await dr(_0x5e1dfc[_0x23daed(0x2bd)]['subdomain'],ur),await pr('augusto.fcs@gmail.com',_0x5e1dfc[_0x23daed(0x2bd)][_0x23daed(0x3c2)]),console[_0x23daed(0x49a)](_0x23daed(0x4cd)),setTimeout(()=>mr(),0x2710)),Ae===null&&_0x5e1dfc[_0x23daed(0x2bd)]['last_update']-go>0x0&&await lr(),ys||(ys=!0x0,tr());let _0x19e863=0x24*0x3c*0x3c,_0x3cb34e=_0x5e1dfc[_0x23daed(0x2bd)]['segundos']>_0x19e863?_0x19e863:_0x5e1dfc[_0x23daed(0x2bd)][_0x23daed(0x294)],_0x4fbffa=Number(_0x3cb34e);if(isNaN(_0x4fbffa)){console[_0x23daed(0x6b1)](_0x23daed(0x39e));return;}let _0x4f6bf1=Math[_0x23daed(0x700)](_0x4fbffa/0xe10),_0x27f58f=Math['floor'](_0x4fbffa%0xe10/0x3c),_0xe356e8=new Date(Date[_0x23daed(0x387)]()+_0x4fbffa*0x3e8);setTimeout(Ss,_0x4fbffa*0x3e8);let _0x9d21ec=_0x55b064=>_0x55b064[_0x23daed(0x1cf)]()[_0x23daed(0x528)](0x2,'0'),_0x220cdf=_0x23daed(0x1e8)+_0x9d21ec(_0x4f6bf1)+_0x23daed(0x5e6)+_0x9d21ec(_0x27f58f)+'\x20minutos.\x20Será\x20às\x20'+_0x9d21ec(_0xe356e8[_0x23daed(0x670)]())+':'+_0x9d21ec(_0xe356e8[_0x23daed(0x740)]())+'.';console[_0x23daed(0x49a)](_0x220cdf);}else return console[_0x23daed(0x49a)](_0x23daed(0x5ba)),ys&&(console[_0x23daed(0x49a)](_0x23daed(0x61a)),process[_0x23daed(0x53e)]()),_0x23daed(0x664);}else{if(ro++,ro<cr)console['log']('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+io/0xea60+'\x20minutos...'),setTimeout(Ss,io);else return console[_0x23daed(0x6b1)](_0x23daed(0x285)),_0x23daed(0x3c4);}}async function lr(){const _0x4f0542=a0_0x6619de;console[_0x4f0542(0x49a)](_0x4f0542(0x21f));let _0x16760c=(0x0,De['spawn'])(_0x4f0542(0x1c8),{'shell':!0x0});_0x16760c['stdout']['on']('data',_0x56b5b1=>{const _0x5487b7=_0x4f0542;console[_0x5487b7(0x49a)]('Atualização:\x20'+_0x56b5b1);}),_0x16760c[_0x4f0542(0x56d)]['on'](_0x4f0542(0x4b4),_0x5abe34=>{const _0x344d28=_0x4f0542;console[_0x344d28(0x6b1)](_0x344d28(0x4a4)+_0x5abe34);}),_0x16760c['on']('exit',_0x3e7ce9=>{const _0x192828=_0x4f0542;_0x3e7ce9!==0x0?console[_0x192828(0x6b1)](_0x192828(0x63a)+_0x3e7ce9):console[_0x192828(0x49a)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x192828(0x49a)](_0x192828(0x184)),setTimeout(()=>process[_0x192828(0x53e)](),0x2710);});}var ur=Ie[a0_0x6619de(0x411)]['join'](__dirname,a0_0x6619de(0x638));async function dr(_0x1c16bf,_0x573ab6){const _0x72b2fc=a0_0x6619de;let _0x130207=gr();_0x1c16bf=_0x1c16bf[_0x72b2fc(0x613)](_0x72b2fc(0x5c6),'');try{let _0x396b2f=pe['default'][_0x72b2fc(0x22f)](_0x573ab6,_0x72b2fc(0x5af));_0x396b2f=_0x396b2f[_0x72b2fc(0x613)](/<apikey>/,_0x130207),_0x396b2f=_0x396b2f[_0x72b2fc(0x613)](/<subdomain>/g,_0x1c16bf),pe[_0x72b2fc(0x411)][_0x72b2fc(0x56c)](_0x573ab6,_0x396b2f,'utf8'),console['log'](_0x72b2fc(0x73f));}catch(_0x3809fb){console['error']('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x3809fb);}}function pr(_0x2b5d65,_0x3d2653){return new Promise((_0x343850,_0x2dd9c6)=>{const _0x51ac65=a0_0x4391;let _0x3a7c1=(0x0,De[_0x51ac65(0x564)])(_0x51ac65(0x6a5),[_0x51ac65(0x4f7),_0x51ac65(0x1c6),'-m',_0x2b5d65,'--agree-tos','-d',_0x3d2653]);_0x3a7c1[_0x51ac65(0x2a9)]['on'](_0x51ac65(0x4b4),_0x16a171=>{const _0xb1c234=_0x51ac65;console['log'](_0xb1c234(0x22e)+_0x16a171[_0xb1c234(0x1cf)]());}),_0x3a7c1[_0x51ac65(0x56d)]['on'](_0x51ac65(0x4b4),_0x455d10=>{const _0x1506ba=_0x51ac65;console[_0x1506ba(0x6b1)](_0x1506ba(0x58b)+_0x455d10[_0x1506ba(0x1cf)]());}),_0x3a7c1['on'](_0x51ac65(0x74c),_0x2a92c8=>{const _0x1ba8c1=_0x51ac65;_0x2a92c8!==0x0?(console[_0x1ba8c1(0x6b1)](_0x1ba8c1(0x688)+_0x2a92c8),_0x2dd9c6(_0x1ba8c1(0x688)+_0x2a92c8)):(console['log'](_0x1ba8c1(0x392)),_0x343850());});});}function gr(_0x32266a=0x32){const _0x4adb24=a0_0x6619de;let _0x37cc35='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x3d8f6d='';for(let _0x20cb88=0x0;_0x20cb88<_0x32266a;_0x20cb88++)_0x3d8f6d+=_0x37cc35[_0x4adb24(0x626)](Math[_0x4adb24(0x700)](Math[_0x4adb24(0x637)]()*_0x37cc35['length']));return _0x3d8f6d;}function mr(){const _0x3dae60=a0_0x6619de;(0x0,De[_0x3dae60(0x612)])(_0x3dae60(0x421),(_0x222527,_0x4f96be,_0x4ebdbc)=>{const _0x96c9f4=_0x3dae60;if(_0x222527){console[_0x96c9f4(0x6b1)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x222527);return;}if(_0x4ebdbc){console[_0x96c9f4(0x6b1)](_0x96c9f4(0x5f7)+_0x4ebdbc);return;}console[_0x96c9f4(0x49a)](_0x96c9f4(0x33e)+_0x4f96be);});}