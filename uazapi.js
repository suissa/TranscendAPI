const a0_0x2a87a6=a0_0xe551;(function(_0x26c6fb,_0x367647){const _0xe3466d=a0_0xe551,_0x3201da=_0x26c6fb();while(!![]){try{const _0x474a7d=parseInt(_0xe3466d(0x138))/0x1+parseInt(_0xe3466d(0x6cf))/0x2*(parseInt(_0xe3466d(0x194))/0x3)+-parseInt(_0xe3466d(0x679))/0x4+-parseInt(_0xe3466d(0x55b))/0x5*(-parseInt(_0xe3466d(0x751))/0x6)+parseInt(_0xe3466d(0x48f))/0x7*(parseInt(_0xe3466d(0x692))/0x8)+parseInt(_0xe3466d(0x4fe))/0x9*(parseInt(_0xe3466d(0x527))/0xa)+-parseInt(_0xe3466d(0x1f8))/0xb;if(_0x474a7d===_0x367647)break;else _0x3201da['push'](_0x3201da['shift']());}catch(_0x31a709){_0x3201da['push'](_0x3201da['shift']());}}}(a0_0x4c91,0xc2db2));var Ki=Object['create'],Be=Object['defineProperty'],Qi=Object[a0_0x2a87a6(0x4fc)],Yi=Object[a0_0x2a87a6(0x450)],Xi=Object[a0_0x2a87a6(0x2d3)],Zi=Object['prototype'][a0_0x2a87a6(0x26c)],eo=(_0x560380,_0x5b5a29)=>{for(var _0x506971 in _0x5b5a29)Be(_0x560380,_0x506971,{'get':_0x5b5a29[_0x506971],'enumerable':!0x0});},Hs=(_0x582407,_0x123303,_0x1e6394,_0x4f625e)=>{const _0x49a847=a0_0x2a87a6;if(_0x123303&&typeof _0x123303==_0x49a847(0x3ae)||typeof _0x123303==_0x49a847(0x2d8)){for(let _0x3965e8 of Yi(_0x123303))!Zi[_0x49a847(0x409)](_0x582407,_0x3965e8)&&_0x3965e8!==_0x1e6394&&Be(_0x582407,_0x3965e8,{'get':()=>_0x123303[_0x3965e8],'enumerable':!(_0x4f625e=Qi(_0x123303,_0x3965e8))||_0x4f625e['enumerable']});}return _0x582407;},I=(_0x19a779,_0x2dc156,_0x3f7430)=>(_0x3f7430=_0x19a779!=null?Ki(Xi(_0x19a779)):{},Hs(_0x2dc156||!_0x19a779||!_0x19a779[a0_0x2a87a6(0x729)]?Be(_0x3f7430,a0_0x2a87a6(0x667),{'value':_0x19a779,'enumerable':!0x0}):_0x3f7430,_0x19a779)),to=_0x79a9fd=>Hs(Be({},a0_0x2a87a6(0x729),{'value':!0x0}),_0x79a9fd),mr={};eo(mr,{'fullURL':()=>Ws,'subdomain':()=>K}),module['exports']=to(mr);var Vi=I(require(a0_0x2a87a6(0x383))),Qs=require('fs'),Ys=require(a0_0x2a87a6(0x805)),Xs=require(a0_0x2a87a6(0x339)),We=require(a0_0x2a87a6(0x339)),ue=process[a0_0x2a87a6(0x4ca)](),Me=(0x0,We[a0_0x2a87a6(0x52e)])(ue,a0_0x2a87a6(0x74c)),Ks=(0x0,We[a0_0x2a87a6(0x52e)])(ue,a0_0x2a87a6(0x78c)),an=(0x0,We[a0_0x2a87a6(0x52e)])(ue,'store','auth'),hs=class{constructor(){const _0x40ca9c=a0_0x2a87a6;this[_0x40ca9c(0x5e2)]();}['get'](_0x22824c){return this['env'][_0x22824c];}['loadEnv'](){const _0x1ce59d=a0_0x2a87a6;this[_0x1ce59d(0x447)]=process[_0x1ce59d(0x447)]?.[_0x1ce59d(0x6ad)]!==_0x1ce59d(0x5c0)?this[_0x1ce59d(0x36b)]():this[_0x1ce59d(0x556)](),process[_0x1ce59d(0x447)]?.['DOCKER_ENV']===_0x1ce59d(0x5c0)&&(this[_0x1ce59d(0x447)][_0x1ce59d(0x596)][_0x1ce59d(0x809)]=_0x1ce59d(0x4d8),this[_0x1ce59d(0x447)][_0x1ce59d(0x596)][_0x1ce59d(0x871)]=Number[_0x1ce59d(0x438)](process[_0x1ce59d(0x447)]?.[_0x1ce59d(0x481)]??_0x1ce59d(0x80a)));}[a0_0x2a87a6(0x36b)](){const _0x26c97c=a0_0x2a87a6;return(0x0,Ys[_0x26c97c(0x1ac)])((0x0,Qs['readFileSync'])((0x0,Xs[_0x26c97c(0x52e)])(Ks,_0x26c97c(0x4f3)),{'encoding':_0x26c97c(0x35d)}));}['envProcess'](){const _0x37717a=a0_0x2a87a6;return{'SERVER':{'TYPE':process[_0x37717a(0x447)][_0x37717a(0x658)],'PORT':Number[_0x37717a(0x438)](process[_0x37717a(0x447)]['SERVER_PORT']),'URL':process[_0x37717a(0x447)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x37717a(0x447)][_0x37717a(0x7a4)][_0x37717a(0x259)](','),'METHODS':process['env'][_0x37717a(0x77f)][_0x37717a(0x259)](','),'CREDENTIALS':process[_0x37717a(0x447)]?.[_0x37717a(0x387)]===_0x37717a(0x5c0)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x37717a(0x785)],'FULLCHAIN':process[_0x37717a(0x447)]?.[_0x37717a(0x4f5)]},'STORE':{'CLEANING_INTERVAL':Number[_0x37717a(0x29c)](process[_0x37717a(0x447)]?.[_0x37717a(0x1ba)])?Number[_0x37717a(0x438)](process[_0x37717a(0x447)][_0x37717a(0x1ba)]):void 0x0,'MESSAGES':process['env']?.['STORE_MESSAGE']===_0x37717a(0x5c0),'CONTACTS':process['env']?.[_0x37717a(0x688)]===_0x37717a(0x5c0),'CHATS':process[_0x37717a(0x447)]?.['STORE_CHATS']===_0x37717a(0x5c0)},'DATABASE':{'CONNECTION':{'HOST':process[_0x37717a(0x447)]?.[_0x37717a(0x76a)],'PORT':Number['parseInt'](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x37717a(0x447)][_0x37717a(0x6a3)],'PASSWORD':process[_0x37717a(0x447)][_0x37717a(0x157)],'URI':process[_0x37717a(0x447)][_0x37717a(0x4c2)],'DB_PREFIX_NAME':process['env'][_0x37717a(0x22f)]},'ENABLED':process[_0x37717a(0x447)]?.[_0x37717a(0x752)]===_0x37717a(0x5c0)},'REDIS':{'ENABLED':process[_0x37717a(0x447)]?.[_0x37717a(0x2d5)]===_0x37717a(0x5c0),'URI':process[_0x37717a(0x447)][_0x37717a(0x87e)]||_0x37717a(0x1ef),'PREFIX_KEY':process[_0x37717a(0x447)][_0x37717a(0x802)]||_0x37717a(0x20d)},'LOG':{'LEVEL':process['env']?.[_0x37717a(0x87c)]['split'](','),'COLOR':process['env']?.[_0x37717a(0x2ac)]===_0x37717a(0x5c0)},'PROXY':process[_0x37717a(0x447)]?.[_0x37717a(0x88b)]===_0x37717a(0x5c0),'AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x37717a(0x447)][_0x37717a(0x4e3)]},'JWT':{'EXPIRIN_IN':Number[_0x37717a(0x29c)](process[_0x37717a(0x447)]?.[_0x37717a(0x4e2)])?Number[_0x37717a(0x438)](process[_0x37717a(0x447)][_0x37717a(0x4e2)]):0xe10,'SECRET':process[_0x37717a(0x447)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new hs(),Gi=I(require(a0_0x2a87a6(0x6a0))),be=I(require(a0_0x2a87a6(0x611))),Gs=require(a0_0x2a87a6(0x339)),gs=I(require(a0_0x2a87a6(0x7f2))),ms=(_0x248893=>(_0x248893[a0_0x2a87a6(0x14c)]=a0_0x2a87a6(0x7cb),_0x248893['INFO']=a0_0x2a87a6(0x60f),_0x248893[a0_0x2a87a6(0x1e6)]='\x1b[33m',_0x248893[a0_0x2a87a6(0x1d6)]=a0_0x2a87a6(0x499),_0x248893[a0_0x2a87a6(0x24b)]=a0_0x2a87a6(0x560),_0x248893[a0_0x2a87a6(0x24f)]=a0_0x2a87a6(0x3e8),_0x248893['DARK']=a0_0x2a87a6(0x6ef),_0x248893))(ms||{}),Zs=(_0x3317b1=>(_0x3317b1['LOG']=a0_0x2a87a6(0x6b7),_0x3317b1[a0_0x2a87a6(0x3f1)]=a0_0x2a87a6(0x3a9),_0x3317b1[a0_0x2a87a6(0x3b7)]='\x1b[34m%s\x1b[0m',_0x3317b1[a0_0x2a87a6(0x1e6)]=a0_0x2a87a6(0x4d5),_0x3317b1[a0_0x2a87a6(0x1d6)]='\x1b[31m%s\x1b[0m',_0x3317b1[a0_0x2a87a6(0x24b)]=a0_0x2a87a6(0x54f),_0x3317b1['VERBOSE']=a0_0x2a87a6(0x25c),_0x3317b1))(Zs||{}),ea=(_0x699e6c=>(_0x699e6c['LOG']=a0_0x2a87a6(0x14c),_0x699e6c['WARN']=a0_0x2a87a6(0x1e6),_0x699e6c[a0_0x2a87a6(0x3b7)]=a0_0x2a87a6(0x3b7),_0x699e6c['DARK']=a0_0x2a87a6(0x3f1),_0x699e6c[a0_0x2a87a6(0x1d6)]=a0_0x2a87a6(0x1d6),_0x699e6c[a0_0x2a87a6(0x24b)]=a0_0x2a87a6(0x24b),_0x699e6c[a0_0x2a87a6(0x24f)]='VERBOSE',_0x699e6c))(ea||{}),ta=(_0x255bea=>(_0x255bea[a0_0x2a87a6(0x14c)]=a0_0x2a87a6(0x229),_0x255bea[a0_0x2a87a6(0x3b7)]=a0_0x2a87a6(0x824),_0x255bea[a0_0x2a87a6(0x1e6)]=a0_0x2a87a6(0x3f0),_0x255bea[a0_0x2a87a6(0x3f1)]=a0_0x2a87a6(0x4ff),_0x255bea['ERROR']=a0_0x2a87a6(0x2b8),_0x255bea[a0_0x2a87a6(0x24b)]=a0_0x2a87a6(0x3c9),_0x255bea[a0_0x2a87a6(0x24f)]='\x1b[47m',_0x255bea))(ta||{}),$=class{constructor(_0x4ca54e='Logger'){const _0x1c256c=a0_0x2a87a6;this[_0x1c256c(0x578)]=_0x4ca54e,this[_0x1c256c(0x5ca)]=b;}['setContext'](_0x57cd67){const _0x2895ab=a0_0x2a87a6;this[_0x2895ab(0x578)]=_0x57cd67;}[a0_0x2a87a6(0x40f)](_0x163b40,_0x8245e7){const _0x2541fd=a0_0x2a87a6;let _0x47763a=[];this['configService'][_0x2541fd(0x7eb)]('LOG')[_0x2541fd(0x6c0)][_0x2541fd(0x32f)](_0x13e8af=>_0x47763a['push'](ea[_0x13e8af]));let _0x1ef289=typeof _0x163b40;_0x47763a[_0x2541fd(0x708)](_0x8245e7)&&(b[_0x2541fd(0x7eb)](_0x2541fd(0x14c))[_0x2541fd(0x457)]?(console[_0x2541fd(0x1a4)]('\x1b[1m'+Zs[_0x8245e7],_0x2541fd(0x6f3),(0x0,gs['default'])()['format'](_0x2541fd(0x7b2)),'\x1b[0m',ms[_0x8245e7]+ta[_0x8245e7]+_0x2541fd(0x301),_0x8245e7+_0x2541fd(0x3b3),_0x2541fd(0x44c),this[_0x2541fd(0x578)]+_0x2541fd(0x856),ms[_0x8245e7],_0x1ef289!==_0x2541fd(0x3ae)?_0x163b40:'',_0x2541fd(0x856)),_0x1ef289===_0x2541fd(0x3ae)&&console[_0x2541fd(0x1a4)](_0x163b40,'\x0a')):console[_0x2541fd(0x1a4)]((0x0,gs[_0x2541fd(0x667)])()[_0x2541fd(0x36f)]('HH:mm:ss'),_0x8245e7+'\x20',''+this[_0x2541fd(0x578)],_0x163b40));}['log'](_0x3e68ae){const _0x4e2082=a0_0x2a87a6;this['console'](_0x3e68ae,_0x4e2082(0x14c));}[a0_0x2a87a6(0x2e4)](_0x3d856c){const _0x491b9f=a0_0x2a87a6;this['console'](_0x3d856c,_0x491b9f(0x3b7));}[a0_0x2a87a6(0x3fa)](_0x5926d8){const _0x16e1f1=a0_0x2a87a6;this['console'](_0x5926d8,_0x16e1f1(0x1e6));}[a0_0x2a87a6(0x495)](_0x2cd010){const _0x3b9b85=a0_0x2a87a6;this[_0x3b9b85(0x40f)](_0x2cd010,_0x3b9b85(0x1d6));}[a0_0x2a87a6(0x216)](_0xd9b3d7){const _0x1df6bc=a0_0x2a87a6;this[_0x1df6bc(0x40f)](_0xd9b3d7,'VERBOSE');}[a0_0x2a87a6(0x703)](_0x5d5318){const _0x5a0903=a0_0x2a87a6;this[_0x5a0903(0x40f)](_0x5d5318,_0x5a0903(0x24b));}[a0_0x2a87a6(0x154)](_0x3fb449){const _0x1b32ef=a0_0x2a87a6;this[_0x1b32ef(0x40f)](_0x3fb449,'DARK');}};function sa(){const _0x12867e=a0_0x2a87a6;process['on']('uncaughtException',(_0x2bffc7,_0x8fa1c)=>{const _0x583d05=a0_0xe551;new $(_0x583d05(0x13c))[_0x583d05(0x495)]({'origin':_0x8fa1c,'stderr':process['stderr']['fd'],'error':_0x2bffc7});}),process['on'](_0x12867e(0x315),(_0x4831c9,_0x31a2ec)=>{const _0x1bee37=_0x12867e;new $('unhandledRejection')[_0x1bee37(0x495)]({'origin':_0x31a2ec,'stderr':process[_0x1bee37(0x402)]['fd'],'error':_0x4831c9});});}var aa=I(require(a0_0x2a87a6(0x756))),fs=new aa['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require(a0_0x2a87a6(0x196)),Ie=I(require(a0_0x2a87a6(0x196))),ze=new $(a0_0x2a87a6(0x40c)),U=b[a0_0x2a87a6(0x7eb)]('DATABASE'),R=U['ENABLED']?U[a0_0x2a87a6(0x68d)]['URI']?Ie[a0_0x2a87a6(0x667)][a0_0x2a87a6(0x837)](U[a0_0x2a87a6(0x68d)]['URI'],{'dbName':U[a0_0x2a87a6(0x68d)][a0_0x2a87a6(0x693)]+a0_0x2a87a6(0x7d4)}):Ie[a0_0x2a87a6(0x667)]['createConnection'](a0_0x2a87a6(0x727)+U[a0_0x2a87a6(0x68d)][a0_0x2a87a6(0x374)]+':'+U[a0_0x2a87a6(0x68d)][a0_0x2a87a6(0x871)]+a0_0x2a87a6(0x3bf),{'user':U['CONNECTION']['USER'],'pass':U['CONNECTION'][a0_0x2a87a6(0x48b)],'dbName':U[a0_0x2a87a6(0x68d)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;U[a0_0x2a87a6(0x15e)]&&ze[a0_0x2a87a6(0x2e4)](a0_0x2a87a6(0x4c8)+R['$dbName']);var de=U['ENABLED']?U[a0_0x2a87a6(0x68d)]['URI']?Ie['default'][a0_0x2a87a6(0x837)](U[a0_0x2a87a6(0x68d)][a0_0x2a87a6(0x83b)],{'dbName':a0_0x2a87a6(0x774)}):Ie[a0_0x2a87a6(0x667)]['createConnection'](a0_0x2a87a6(0x727)+U[a0_0x2a87a6(0x68d)][a0_0x2a87a6(0x374)]+':'+U[a0_0x2a87a6(0x68d)][a0_0x2a87a6(0x871)]+a0_0x2a87a6(0x3bf),{'user':U[a0_0x2a87a6(0x68d)][a0_0x2a87a6(0x30c)],'pass':U[a0_0x2a87a6(0x68d)][a0_0x2a87a6(0x48b)],'dbName':a0_0x2a87a6(0x7cc)}):null;de&&ze['info'](a0_0x2a87a6(0x4c8)+de[a0_0x2a87a6(0x254)]),process['on'](a0_0x2a87a6(0x1a5),()=>{const _0x4230e1=a0_0x2a87a6;R&&R[_0x4230e1(0x516)](()=>{const _0x3634dc=_0x4230e1;ze[_0x3634dc(0x2e4)]('Database\x20connection\x20closed.');}),de&&de[_0x4230e1(0x516)](()=>{const _0x5c484c=_0x4230e1;ze[_0x5c484c(0x2e4)](_0x5c484c(0x29b));});});var so=new Ce[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),ao=new Ce[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),io=new Ce[(a0_0x2a87a6(0x3ad))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),oo=new Ce[(a0_0x2a87a6(0x3ad))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[so],'default':[]}},{'_id':!0x1}),ro=new Ce[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':oo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':ao},'groupdata':{'type':io,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ia=_0x28521b=>{const _0x51f97b=a0_0x2a87a6;let _0x1d3db0='z_'+_0x28521b+_0x51f97b(0x745);return R?.[_0x51f97b(0x864)](_0x51f97b(0x7a5),ro,_0x1d3db0);},oa=require(a0_0x2a87a6(0x196)),no=new oa[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=_0x1ec384=>{const _0x4893f4=a0_0x2a87a6;let _0x4d0450='z_'+_0x1ec384+_0x4893f4(0x1d8);return R?.['model'](_0x4893f4(0x3a1),no,_0x4d0450);},na=require(a0_0x2a87a6(0x196)),ws=class{},co=new na[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ca=de?.[a0_0x2a87a6(0x864)](ws[a0_0x2a87a6(0x366)],co,a0_0x2a87a6(0x51e)),la=require(a0_0x2a87a6(0x196)),ys=class{},lo=new la[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),He=de?.[a0_0x2a87a6(0x864)](ys['name'],lo,a0_0x2a87a6(0x74c)),ua=require(a0_0x2a87a6(0x196)),uo=new ua[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),da=_0x22c632=>{const _0x249a06=a0_0x2a87a6;let _0x7a175b='z_'+_0x22c632+_0x249a06(0x576);return R?.[_0x249a06(0x864)](_0x249a06(0x525),uo,_0x7a175b);},pa=require('mongoose'),bs=class{},po=new pa[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ha=R?.[a0_0x2a87a6(0x864)](bs[a0_0x2a87a6(0x366)],po,a0_0x2a87a6(0x511)),ga=require('mongoose'),Ss=class{},ma=new ga[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ma[a0_0x2a87a6(0x34e)](a0_0x2a87a6(0x49e),function(_0x38ec2e){const _0x50d37e=a0_0x2a87a6;delete this[_0x50d37e(0x749)],delete this[_0x50d37e(0x67f)],delete this[_0x50d37e(0x208)],delete this['flowStopConversation'],delete this[_0x50d37e(0x38d)],_0x38ec2e();});var fa=R?.[a0_0x2a87a6(0x864)](Ss[a0_0x2a87a6(0x366)],ma,a0_0x2a87a6(0x2d6)),P=require(a0_0x2a87a6(0x196)),Ms=require('uuid'),Ke=class{},ya=new P[(a0_0x2a87a6(0x3ad))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x2a87a6(0x3ad))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ho=new P[(a0_0x2a87a6(0x3ad))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x2a87a6(0x3d8)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x2a87a6(0x33d)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x2a87a6(0x86f)},'pollErrorMessage':{'type':String,'default':a0_0x2a87a6(0x43d)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ba=new P[(a0_0x2a87a6(0x3ad))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),go=new P[(a0_0x2a87a6(0x3ad))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),mo=new P[(a0_0x2a87a6(0x3ad))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ns=new P[(a0_0x2a87a6(0x3ad))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),fo=new P[(a0_0x2a87a6(0x3ad))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),Sa=new P[(a0_0x2a87a6(0x3ad))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ho},'apirequest':go,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':fo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),Ma=new P[(a0_0x2a87a6(0x3ad))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Es=class{},Ca=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ns],'blocks':[Sa],'groups':[ya],'conditions':[ba],'varedits':[Ma],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x1e7a07=a0_0x2a87a6;return _0x1e7a07(0x66a)+Math['random']()['toString'](0x24)[_0x1e7a07(0x26a)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ms['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ms['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ca[a0_0x2a87a6(0x34e)](a0_0x2a87a6(0x4cc),function(_0x5b553f){const _0x1feac6=a0_0x2a87a6;let _0x3b8122=this[_0x1feac6(0x5a2)]();if(_0x3b8122&&typeof _0x3b8122==_0x1feac6(0x3ae)&&_0x1feac6(0x49b)in _0x3b8122){let _0x4ea2fc=_0x3b8122[_0x1feac6(0x49b)];if(_0x4ea2fc){let _0x4e89ae=new Set(),_0x54b529=new Set(_0x4ea2fc[_0x1feac6(0x37f)]?.['map'](_0x2e61d5=>_0x2e61d5[_0x1feac6(0x366)])),_0x24dd12=JSON[_0x1feac6(0x15a)](_0x4ea2fc),_0x71a432=/{{(?!_)([^}]*)}}/g,_0x2f6073;for(;(_0x2f6073=_0x71a432['exec'](_0x24dd12))!==null;)_0x54b529['has'](_0x2f6073[0x1])||_0x4e89ae['add'](_0x2f6073[0x1]);_0x4e89ae[_0x1feac6(0x5a4)]>0x0?(console[_0x1feac6(0x3fa)]('Variáveis\x20não\x20encontradas:',Array[_0x1feac6(0x696)](_0x4e89ae)),_0x4ea2fc[_0x1feac6(0x6bf)]=Array['from'](_0x4e89ae)):_0x4ea2fc[_0x1feac6(0x6bf)]=[],this[_0x1feac6(0x512)]({'$set':_0x4ea2fc});}}_0x5b553f();});var Ee=R?.[a0_0x2a87a6(0x864)](Es[a0_0x2a87a6(0x366)],Ca,a0_0x2a87a6(0x5bc)),wo=new P['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ns],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[mo]},{'_id':!0x1}),yo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ns],'blocks':[Sa],'groups':[ya],'conditions':[ba],'varedits':[Ma],'replyOptions':{'type':[Cs],'default':[]},'chatLog':wo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x2a87a6(0x2cd)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x2a87a6(0x86f)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Ea=_0x472cb4=>{const _0x4e90b4=a0_0x2a87a6;let _0x419244='z_'+_0x472cb4+_0x4e90b4(0x738);return R?.['model'](_0x4e90b4(0x587),yo,_0x419244);},bo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),wa=new P[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),So=new P[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[wa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x2a87a6(0x21d)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[bo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':wa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),va=_0x21c431=>{const _0x24984e=a0_0x2a87a6;let _0x1b8f1b='z_'+_0x21c431+_0x24984e(0x3c2);return R?.['model'](_0x24984e(0x45a),So,_0x1b8f1b);},vs=class{},Mo=new P[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Co=new P[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Eo=new P[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),vo=new P[(a0_0x2a87a6(0x3ad))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x2a87a6(0x5cd)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),No=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),$o=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[No]},'customFields':{'type':[Eo]},'flowConfig':{'type':vo,'default':{}},'flows':{'type':[Co],'default':[]},'autoCompleteMessages':{'type':[Mo],'default':[]}}),Te=R?.[a0_0x2a87a6(0x864)](vs[a0_0x2a87a6(0x366)],$o,'AutomateSystem'),Na=require(a0_0x2a87a6(0x196)),Ro=new Na['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),$a=_0x28088b=>{const _0x47750a=a0_0x2a87a6;let _0x2fdf8b='z_'+_0x28088b+_0x47750a(0x237);return R?.[_0x47750a(0x864)]('LabelModel',Ro,_0x2fdf8b);},_=class{constructor(_0x484187){const _0x356755=a0_0x2a87a6;this['dbSettings']=_0x484187['get'](_0x356755(0x2a1));}};function A(_0x44bbca){const _0x4d3422=a0_0x2a87a6;let _0x41612c={};for(let [_0x14311e,_0x188be8]of Object[_0x4d3422(0x58a)](_0x44bbca))if(typeof _0x188be8==_0x4d3422(0x3ae)&&!Array[_0x4d3422(0x272)](_0x188be8)){for(let [_0xe7a7f6,_0x528da2]of Object[_0x4d3422(0x58a)](_0x188be8))_0x41612c[_0x14311e+'.'+_0xe7a7f6]=_0x528da2;}else _0x41612c[_0x14311e]=_0x188be8;return _0x41612c;}var Qe=class{constructor(_0x53bbbf,_0xc012cf,_0x4d6763,_0x3b3102,_0x53f193,_0x247b0d,_0x274108,_0x2b6537,_0x3e71d7,_0x5a0f13,_0x6a5837,_0x422193,_0x5e570d){const _0xc0d224=a0_0x2a87a6;this[_0xc0d224(0x5af)]=_0x53bbbf,this[_0xc0d224(0x6eb)]=_0xc012cf,this['contact']=_0x4d6763,this[_0xc0d224(0x4a0)]=_0x3b3102,this['webhook']=_0x53f193,this[_0xc0d224(0x674)]=_0x247b0d,this['instance']=_0x274108,this[_0xc0d224(0x452)]=_0x2b6537,this[_0xc0d224(0x2f7)]=_0x3e71d7,this[_0xc0d224(0x61e)]=_0x5a0f13,this['scheduleMessage']=_0x6a5837,this[_0xc0d224(0x82d)]=_0x422193,this[_0xc0d224(0x780)]=_0x5e570d;}get[a0_0x2a87a6(0x205)](){return this['dbClient'];}},Ye=class{},Xe=class extends _{['getMessageModelForOwner'](_0x2dd9dd){return da(_0x2dd9dd);}async[a0_0x2a87a6(0x39f)](_0x3b1f8d,_0x5513c8){const _0x531076=a0_0x2a87a6;if(_0x3b1f8d[_0x531076(0x30d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x531076(0x1af)](_0x5513c8)['insertMany']([..._0x3b1f8d]))[_0x531076(0x30d)]};}catch(_0x300427){return _0x300427;}}async[a0_0x2a87a6(0x2f6)](_0x39f762,_0x51810d){const _0x5f5259=a0_0x2a87a6;try{let _0x4b10e0=this['getMessageModelForOwner'](_0x51810d),_0x38122b=A(_0x39f762[_0x5f5259(0x72b)]);return await _0x4b10e0['find'](_0x38122b)[_0x5f5259(0x7ce)]({'messageTimestamp':-0x1})[_0x5f5259(0x759)](_0x39f762?.[_0x5f5259(0x759)]??0x0)[_0x5f5259(0x13a)]();}catch{return[];}}async[a0_0x2a87a6(0x17e)](_0xcd1fdf,_0x5a95a7){const _0x4063c1=a0_0x2a87a6;try{let _0x127694=this[_0x4063c1(0x1af)](_0x5a95a7),_0x2e0fed=A(_0xcd1fdf[_0x4063c1(0x72b)]);await _0x127694[_0x4063c1(0x583)](_0x2e0fed);}catch(_0x1c8674){console[_0x4063c1(0x495)](_0x1c8674);}}async[a0_0x2a87a6(0x7ee)](_0x2c20ae,_0x2116b7,_0x35acc4){const _0x27c847=a0_0x2a87a6;try{let _0x102567=this[_0x27c847(0x1af)](_0x35acc4),_0x1e5d70=A(_0x2c20ae[_0x27c847(0x72b)]);return await _0x102567['findOneAndUpdate'](_0x1e5d70,{'$set':_0x2116b7},{'new':!0x0});}catch(_0x2f6b21){throw console['error'](_0x2f6b21),_0x2f6b21;}}async[a0_0x2a87a6(0x71b)](_0x150682,_0xa8ceb5){const _0x161679=a0_0x2a87a6;if(_0x150682[_0x161679(0x30d)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x161679(0x1af)](_0xa8ceb5)['insertMany']([..._0x150682]))[_0x161679(0x30d)]};}catch(_0xf2ead6){return console['log']('ERROR:\x20',_0xf2ead6),_0xf2ead6;}}async[a0_0x2a87a6(0x465)](_0x4d4289){const _0x5a10db=a0_0x2a87a6;try{return await this[_0x5a10db(0x1af)](_0x4d4289)[_0x5a10db(0x178)][_0x5a10db(0x3d5)](),{'success':!0x0};}catch(_0x5edebe){return console['error'](_0x5edebe),{'success':!0x1,'error':_0x5edebe};}}},Ps=I(require(a0_0x2a87a6(0x35e))),w=I(require('@whiskeysockets/baileys')),Fe=require('fs'),j=I(require(a0_0x2a87a6(0x339))),te=I(require('axios')),xi=require(a0_0x2a87a6(0x2f4)),Di=I(require(a0_0x2a87a6(0x4e7))),Pi=I(require(a0_0x2a87a6(0x4b9))),Ra=[a0_0x2a87a6(0x858),a0_0x2a87a6(0x412),a0_0x2a87a6(0x3bd),a0_0x2a87a6(0x711),a0_0x2a87a6(0x7b4)],Aa=[a0_0x2a87a6(0x790),a0_0x2a87a6(0x58d),a0_0x2a87a6(0x561),a0_0x2a87a6(0x7bd)],ks=require('os'),qt=I(require(a0_0x2a87a6(0x1b7))),Ue=require(a0_0x2a87a6(0x341)),ki=require(a0_0x2a87a6(0x4c0)),Ls=require(a0_0x2a87a6(0x355)),fe=I(require('mongoose')),L=require(a0_0x2a87a6(0x483)),pe=class{constructor(_0x4d589f,_0x432ccb,_0x48585e){const _0x4c1e04=a0_0x2a87a6;this['jid']=_0x4d589f,this[_0x4c1e04(0x585)]=_0x432ccb,this['name']=_0x48585e;}},Ze=class{},et=class{},Oe=class{},tt=class{},st=class{},ve=class{},at=class{},it=class{},ot=class{},rt=class{},kt=I(require(a0_0x2a87a6(0x611))),Ia=require('fs'),Ta=require(a0_0x2a87a6(0x339));async function _e(_0x21308d){const _0x1bf1dc=a0_0x2a87a6;let _0x675abb=z[_0x1bf1dc(0x4b6)][_0x21308d];if(U[_0x1bf1dc(0x15e)]){let _0x4f8d95=R[_0x1bf1dc(0x623)]()['db'](U['CONNECTION'][_0x1bf1dc(0x693)]+_0x1bf1dc(0x24a))[_0x1bf1dc(0x178)](_0x21308d);return _0x675abb||(await _0x4f8d95[_0x1bf1dc(0x2f6)]({})[_0x1bf1dc(0x217)]())[_0x1bf1dc(0x30d)]>0x0;}return _0x675abb||(0x0,Ia[_0x1bf1dc(0x534)])((0x0,Ta['join'])(Me,_0x21308d));}async function Oa(_0x185e42,_0x27d18d,_0x19d18a){const _0x7fb6f8=a0_0x2a87a6;if(_0x185e42[_0x7fb6f8(0x57b)][_0x7fb6f8(0x708)](_0x7fb6f8(0x2cc))||_0x185e42[_0x7fb6f8(0x57b)][_0x7fb6f8(0x708)](_0x7fb6f8(0x41d))||_0x185e42['originalUrl'][_0x7fb6f8(0x708)](_0x7fb6f8(0x41f))||_0x185e42[_0x7fb6f8(0x57b)][_0x7fb6f8(0x708)]('/config')||_0x185e42[_0x7fb6f8(0x57b)][_0x7fb6f8(0x708)](_0x7fb6f8(0x803))||_0x185e42[_0x7fb6f8(0x57b)][_0x7fb6f8(0x708)](_0x7fb6f8(0x5f2))||_0x185e42[_0x7fb6f8(0x57b)]['includes'](_0x7fb6f8(0x7c7)))return _0x19d18a();let _0x55f1ec=_0x185e42['params'];if(!_0x55f1ec?.[_0x7fb6f8(0x798)])throw new m('instanceName\x20not\x20provided.');if(!await _e(_0x55f1ec[_0x7fb6f8(0x798)]))throw new J('The\x20'+_0x55f1ec['instanceName']+'\x20instance\x20does\x20not\x20exist');_0x19d18a();}async function _a(_0xda8b62,_0x5cd3ec,_0x5ed917){const _0x25e9c3=a0_0x2a87a6;if(_0xda8b62[_0x25e9c3(0x57b)][_0x25e9c3(0x708)]('/instance/create')){let _0x1a8640=_0xda8b62['body'];if(await _e(_0x1a8640['instanceName']))throw new se(_0x25e9c3(0x1bc)+_0x1a8640['instanceName']+_0x25e9c3(0x1f4));z['waInstances'][_0x1a8640[_0x25e9c3(0x798)]]&&delete z[_0x25e9c3(0x4b6)][_0x1a8640['instanceName']];}_0x5ed917();}var xa=require('class-validator'),Da=I(require(a0_0x2a87a6(0x5e1))),nt=a0_0x2a87a6(0x20d),Io=new $(a0_0x2a87a6(0x2b2));async function To(_0x520235,_0x17c126,_0x559570){const _0x4dfcee=a0_0x2a87a6;let _0x127cb3=_0x520235[_0x4dfcee(0x7eb)]('apikey');if(_0x127cb3&&b['get'](_0x4dfcee(0x636))[_0x4dfcee(0x844)][_0x4dfcee(0x1b3)]!==_0x127cb3)throw new ce();if(b['get'](_0x4dfcee(0x636))[_0x4dfcee(0x844)]['KEY']===_0x127cb3)return _0x559570();if((_0x520235[_0x4dfcee(0x57b)]['includes'](_0x4dfcee(0x2cc))||_0x520235[_0x4dfcee(0x57b)][_0x4dfcee(0x708)]('/instance/fetchInstances'))&&!_0x127cb3)throw new se(_0x4dfcee(0x5d9),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x3749b2=b[_0x4dfcee(0x7eb)](_0x4dfcee(0x636))[_0x4dfcee(0x267)];try{let [_0x3cf0ef,_0x1d333b]=_0x520235[_0x4dfcee(0x7eb)](_0x4dfcee(0x551))[_0x4dfcee(0x259)]('\x20');if(_0x3cf0ef[_0x4dfcee(0x203)]()!==_0x4dfcee(0x56a))throw new ce();if(!(0x0,xa['isJWT'])(_0x1d333b))throw new ce();let _0x4531c0=_0x520235[_0x4dfcee(0x4d6)],_0x394242=Da['default'][_0x4dfcee(0x3fe)](_0x1d333b,_0x3749b2[_0x4dfcee(0x2dc)],{'ignoreExpiration':_0x3749b2[_0x4dfcee(0x53a)]===0x0});if(_0x4531c0[_0x4dfcee(0x798)]!==_0x394242['instanceName']||nt!==_0x394242['apiName'])throw new ce();return _0x559570();}catch(_0x4dcae0){throw Io[_0x4dfcee(0x495)](_0x4dcae0),new ce();}}async function Oo(_0x423a8a,_0x369559,_0xfc3f53){const _0xe87449=a0_0x2a87a6;let _0x120b76=b[_0xe87449(0x7eb)]('AUTHENTICATION')['API_KEY'],_0x6cddc1=_0x423a8a['get'](_0xe87449(0x725));if(_0x120b76[_0xe87449(0x1b3)]===_0x6cddc1)return _0xfc3f53();if(_0x423a8a[_0xe87449(0x57b)][_0xe87449(0x708)](_0xe87449(0x2cc))){let _0x4c91d8=ka,_0x22d00a=_0x423a8a[_0xe87449(0x5cc)][_0xe87449(0x798)];if(_0x4c91d8&&_0x22d00a[_0xe87449(0x203)]()['startsWith'](_0x4c91d8[_0xe87449(0x203)]()))return _0xfc3f53();if(!_0x6cddc1)throw new se(_0xe87449(0x5d9),_0xe87449(0x88f));}if(_0x423a8a[_0xe87449(0x57b)]['includes'](_0xe87449(0x41d))&&!_0x6cddc1)throw new se('Missing\x20global\x20api\x20key',_0xe87449(0x88f));if(_0x423a8a['originalUrl']['includes'](_0xe87449(0x41f))&&!_0x6cddc1)throw new se(_0xe87449(0x5d9),_0xe87449(0x88f));if(_0x423a8a['originalUrl'][_0xe87449(0x708)](_0xe87449(0x640))&&!_0x6cddc1)throw new se('Missing\x20global\x20api\x20key',_0xe87449(0x88f));try{let _0x162e61=_0x423a8a[_0xe87449(0x4d6)],_0x4c0d0c=await we[_0xe87449(0x674)][_0xe87449(0x2f6)](_0x162e61['instanceName']);if(_0x4c0d0c&&_0x4c0d0c[_0xe87449(0x725)]===_0x6cddc1)return _0xfc3f53();}catch{}throw new ce();}var Pa={'jwt':To,'apikey':Oo},fi=require(a0_0x2a87a6(0x611)),E=require('uuid'),C=(..._0x16cf4a)=>{const _0x32f58d=a0_0x2a87a6;let _0x1917ea={};return _0x16cf4a[_0x32f58d(0x32f)](_0x2f1cd3=>_0x1917ea[_0x2f1cd3]={'minLength':0x1,'description':'The\x20\x22'+_0x2f1cd3+_0x32f58d(0x1e5)}),{'if':{'propertyNames':{'enum':[..._0x16cf4a]}},'then':{'properties':_0x1917ea}};},v={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':'string'}},...C(a0_0x2a87a6(0x798))},fc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':'string'}},'required':[a0_0x2a87a6(0x793)],...C(a0_0x2a87a6(0x793))},wc={'properties':{'key':{'type':a0_0x2a87a6(0x3ae),'properties':{'id':{'type':a0_0x2a87a6(0x634)},'remoteJid':{'type':a0_0x2a87a6(0x634)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x2a87a6(0x536)],...C('id',a0_0x2a87a6(0x6f5))},'message':{'type':a0_0x2a87a6(0x3ae)}}},ae={'properties':{'delay':{'type':a0_0x2a87a6(0x721),'description':a0_0x2a87a6(0x3ea)},'presence':{'type':a0_0x2a87a6(0x634),'enum':['unavailable',a0_0x2a87a6(0x345),a0_0x2a87a6(0x284),'recording',a0_0x2a87a6(0x1dc)]}}},Z={'type':'string','description':a0_0x2a87a6(0x761)},La={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0x2a87a6(0x210)],...C(a0_0x2a87a6(0x210))}},'required':[a0_0x2a87a6(0x319),a0_0x2a87a6(0x2be)]},Fa={'type':'string','pattern':a0_0x2a87a6(0x367),'description':a0_0x2a87a6(0x761)},yc={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'number':{...Fa},'options':{...ae},'textMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'text':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x210)],...C(a0_0x2a87a6(0x210))}},'required':[a0_0x2a87a6(0x319),a0_0x2a87a6(0x2be)]},bc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Fa},'options':{...ae},'mediaMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'mediatype':{'type':'string','enum':[a0_0x2a87a6(0x14a),a0_0x2a87a6(0x25d),a0_0x2a87a6(0x715),a0_0x2a87a6(0x415)]},'media':{'type':a0_0x2a87a6(0x634)},'fileName':{'type':a0_0x2a87a6(0x634)},'caption':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x22c),a0_0x2a87a6(0x5ce)],...C('fileName',a0_0x2a87a6(0x784),'media')}},'required':['mediaMessage',a0_0x2a87a6(0x2be)]},Ua={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'image':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x14a)],...C(a0_0x2a87a6(0x14a))}},'required':[a0_0x2a87a6(0x7b4),a0_0x2a87a6(0x2be)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x2a87a6(0x634),'enum':[a0_0x2a87a6(0x210),a0_0x2a87a6(0x14a),'audio',a0_0x2a87a6(0x715)]},'content':{'type':'string'},'caption':{'type':a0_0x2a87a6(0x634)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x2a87a6(0x721),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x2a87a6(0x517),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a87a6(0x634),'pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]}},'required':[a0_0x2a87a6(0x3c1),a0_0x2a87a6(0x325)],...C(a0_0x2a87a6(0x3c1),a0_0x2a87a6(0x325))}},'required':[a0_0x2a87a6(0x5b3)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x2a87a6(0x14a),a0_0x2a87a6(0x25d),a0_0x2a87a6(0x715),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x2a87a6(0x634)},'caption':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x22c),a0_0x2a87a6(0x5ce)],...C(a0_0x2a87a6(0x55f),a0_0x2a87a6(0x784),a0_0x2a87a6(0x5ce))}},'required':[a0_0x2a87a6(0x3b8),'number']},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'audio':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x415)],...C(a0_0x2a87a6(0x415))}},'required':['audioMessage',a0_0x2a87a6(0x2be)]},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':'object','properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x2a87a6(0x2be)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2a87a6(0x366),a0_0x2a87a6(0x894),a0_0x2a87a6(0x5e9)],...C('name',a0_0x2a87a6(0x894),a0_0x2a87a6(0x5e9))}},'required':[a0_0x2a87a6(0x2be),a0_0x2a87a6(0x139)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x2a87a6(0x517),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x2a87a6(0x6a7)],...C(a0_0x2a87a6(0x210),'choices')}},'required':[a0_0x2a87a6(0x2be),'menuMessage']},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'buttonMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x2a87a6(0x634)},'footerText':{'type':a0_0x2a87a6(0x634)},'buttons':{'type':a0_0x2a87a6(0x517),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a87a6(0x3ae),'properties':{'buttonText':{'type':a0_0x2a87a6(0x634)},'buttonId':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x312),a0_0x2a87a6(0x686)],...C(a0_0x2a87a6(0x312),a0_0x2a87a6(0x686))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x2a87a6(0x634)},'fileName':{'type':a0_0x2a87a6(0x634)},'mediatype':{'type':a0_0x2a87a6(0x634),'enum':[a0_0x2a87a6(0x14a),a0_0x2a87a6(0x25d),a0_0x2a87a6(0x715)]}},'required':[a0_0x2a87a6(0x5ce),a0_0x2a87a6(0x22c)],...C(a0_0x2a87a6(0x5ce),'fileName')}},'required':[a0_0x2a87a6(0x36d),a0_0x2a87a6(0x57a)],...C('title','description')}},'required':[a0_0x2a87a6(0x2be),a0_0x2a87a6(0x492)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'latitude':{'type':a0_0x2a87a6(0x2be)},'longitude':{'type':'number'},'name':{'type':a0_0x2a87a6(0x634)},'address':{'type':a0_0x2a87a6(0x634)}},'required':['latitude','longitude'],...C('name',a0_0x2a87a6(0x399))}},'required':[a0_0x2a87a6(0x2be),a0_0x2a87a6(0x463)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'title':{'type':a0_0x2a87a6(0x634)},'description':{'type':a0_0x2a87a6(0x634)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x2a87a6(0x634)},'sections':{'type':a0_0x2a87a6(0x517),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x2a87a6(0x634)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a87a6(0x3ae),'properties':{'title':{'type':a0_0x2a87a6(0x634)},'description':{'type':a0_0x2a87a6(0x634)},'rowId':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x36d),a0_0x2a87a6(0x6b6)],...C(a0_0x2a87a6(0x36d),a0_0x2a87a6(0x6b6))}}},'required':[a0_0x2a87a6(0x36d),a0_0x2a87a6(0x590)],...C('title')}}},'required':[a0_0x2a87a6(0x36d),a0_0x2a87a6(0x406),a0_0x2a87a6(0x312),a0_0x2a87a6(0x2bb)],...C('title','description','buttonText',a0_0x2a87a6(0x7d0))}},'required':['number','listMessage']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x2a87a6(0x517),'items':{'type':a0_0x2a87a6(0x3ae),'properties':{'fullName':{'type':a0_0x2a87a6(0x634)},'phoneNumber':{'type':a0_0x2a87a6(0x634),'minLength':0xa}},'required':['fullName','phoneNumber'],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2a87a6(0x2be),a0_0x2a87a6(0x682)]},Ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2a87a6(0x6f5),a0_0x2a87a6(0x536)],...C('id',a0_0x2a87a6(0x6f5))},'reaction':{'type':'string'}},'required':['key',a0_0x2a87a6(0x2b3)],...C(a0_0x2a87a6(0x2b3))}},'required':[a0_0x2a87a6(0x59a)]},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2a87a6(0x634),'pattern':'^\x5cd+','description':a0_0x2a87a6(0x878)}}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'readMessages':{'type':a0_0x2a87a6(0x517),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x2a87a6(0x634)},'fromMe':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2a87a6(0x634)}},'required':['id','fromMe','remoteJid'],...C('id',a0_0x2a87a6(0x6f5))}}},'required':[a0_0x2a87a6(0x584)]},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'privacySettings':{'type':a0_0x2a87a6(0x3ae),'properties':{'readreceipts':{'type':'string','enum':['all','none']},'profile':{'type':a0_0x2a87a6(0x634),'enum':[a0_0x2a87a6(0x3e2),a0_0x2a87a6(0x353),a0_0x2a87a6(0x4e1),a0_0x2a87a6(0x731)]},'status':{'type':a0_0x2a87a6(0x634),'enum':['all',a0_0x2a87a6(0x353),a0_0x2a87a6(0x4e1),a0_0x2a87a6(0x731)]},'online':{'type':'string','enum':[a0_0x2a87a6(0x3e2),a0_0x2a87a6(0x464)]},'last':{'type':a0_0x2a87a6(0x634),'enum':['all',a0_0x2a87a6(0x353),a0_0x2a87a6(0x4e1),a0_0x2a87a6(0x731)]},'groupadd':{'type':a0_0x2a87a6(0x634),'enum':['all',a0_0x2a87a6(0x353),a0_0x2a87a6(0x4e1),a0_0x2a87a6(0x731)]}},'required':['readreceipts',a0_0x2a87a6(0x77a),'status',a0_0x2a87a6(0x462),a0_0x2a87a6(0x403),a0_0x2a87a6(0x20f)],...C(a0_0x2a87a6(0x685),a0_0x2a87a6(0x77a),a0_0x2a87a6(0x5f7),a0_0x2a87a6(0x462),'last',a0_0x2a87a6(0x20f))}},'required':[a0_0x2a87a6(0x54b)]},Za={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'lastMessage':{'type':a0_0x2a87a6(0x3ae),'properties':{'key':{'type':a0_0x2a87a6(0x3ae),'properties':{'id':{'type':a0_0x2a87a6(0x634)},'remoteJid':{'type':a0_0x2a87a6(0x634)},'fromMe':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2a87a6(0x536),a0_0x2a87a6(0x6f5)],...C('id','remoteJid')},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...C('messageTimestamp')},'archive':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]}},'required':[a0_0x2a87a6(0x612),a0_0x2a87a6(0x1f3)]},ei={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2a87a6(0x634)},'participant':{'type':a0_0x2a87a6(0x634)}},'required':['id','fromMe',a0_0x2a87a6(0x6f5)],...C('id',a0_0x2a87a6(0x6f5),'participant')},ti={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'where':{'type':a0_0x2a87a6(0x3ae),'properties':{'_id':{'type':a0_0x2a87a6(0x634),'minLength':0x1},'pushName':{'type':a0_0x2a87a6(0x634),'minLength':0x1},'id':{'type':a0_0x2a87a6(0x634),'minLength':0x1}},...C(a0_0x2a87a6(0x2f9),'id',a0_0x2a87a6(0x346))}}},si={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'name':{'type':a0_0x2a87a6(0x634)}},...C('name')},ai={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'status':{'type':a0_0x2a87a6(0x634)}},...C(a0_0x2a87a6(0x5f7))},xe={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0x2a87a6(0x634)},'picture':{'type':a0_0x2a87a6(0x634)}}},ii={'type':a0_0x2a87a6(0x3ae),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x2a87a6(0x634)},'picture':{'type':a0_0x2a87a6(0x634)},'status':{'type':a0_0x2a87a6(0x634)},'isBusiness':{'type':a0_0x2a87a6(0x4a5)}}},oi={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x2a87a6(0x536),a0_0x2a87a6(0x6f5),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2a87a6(0x634),'minLength':0x1,'description':a0_0x2a87a6(0x209)},'id':{'type':a0_0x2a87a6(0x634),'minLength':0x1,'description':a0_0x2a87a6(0x209)},'fromMe':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C('_id')},'limit':{'type':a0_0x2a87a6(0x721)}}},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x2a87a6(0x634)},'id':{'type':'string'},'fromMe':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x2a87a6(0x634),'enum':[a0_0x2a87a6(0x1d6),'PENDING','SERVER_ACK',a0_0x2a87a6(0x292),a0_0x2a87a6(0x5de),'PLAYED']}},...C(a0_0x2a87a6(0x2f9),a0_0x2a87a6(0x6f5),'id',a0_0x2a87a6(0x5f7))},'limit':{'type':a0_0x2a87a6(0x721)}}},ri={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'number':{...Z},'presence':{'type':a0_0x2a87a6(0x634),'enum':[a0_0x2a87a6(0x2b1),a0_0x2a87a6(0x345),'composing',a0_0x2a87a6(0x2f5),a0_0x2a87a6(0x1dc)]}},'required':[a0_0x2a87a6(0x4ae),a0_0x2a87a6(0x2be)]},ni={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':a0_0x2a87a6(0x634)},'profilePicture':{'type':a0_0x2a87a6(0x634)},'participants':{'type':a0_0x2a87a6(0x517),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x2a87a6(0x472),'description':a0_0x2a87a6(0x393)}}},'required':['subject',a0_0x2a87a6(0x20b)],...C(a0_0x2a87a6(0x24e),a0_0x2a87a6(0x406),a0_0x2a87a6(0x424))},De={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'groupJid':{'type':a0_0x2a87a6(0x634),'pattern':a0_0x2a87a6(0x753)}},'required':['groupJid'],...C(a0_0x2a87a6(0x3a6))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'groupJid':{'type':a0_0x2a87a6(0x634)},'action':{'type':'string','enum':[a0_0x2a87a6(0x136),'remove',a0_0x2a87a6(0x41e),a0_0x2a87a6(0x38b),a0_0x2a87a6(0x2e9),a0_0x2a87a6(0x2b6)]},'participants':{'type':a0_0x2a87a6(0x517),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x2a87a6(0x472),'description':a0_0x2a87a6(0x393)}}},'required':[a0_0x2a87a6(0x3a6),'action',a0_0x2a87a6(0x20b)],...C(a0_0x2a87a6(0x3a6),a0_0x2a87a6(0x439))},li={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'groupJid':{'type':a0_0x2a87a6(0x634)},'expiration':{'type':a0_0x2a87a6(0x2be),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x2a87a6(0x3a6),a0_0x2a87a6(0x71e)],...C(a0_0x2a87a6(0x3a6),'expiration')},ui={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x2a87a6(0x634)}},'required':['groupJid',a0_0x2a87a6(0x14a)],...C('groupJid',a0_0x2a87a6(0x14a))},di={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'groupJid':{'type':a0_0x2a87a6(0x634)},'description':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x3a6),a0_0x2a87a6(0x406)],...C(a0_0x2a87a6(0x3a6),a0_0x2a87a6(0x406))},pi={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'groupJid':{'type':'string'},'name':{'type':'string'}},'required':[a0_0x2a87a6(0x3a6),'name'],...C(a0_0x2a87a6(0x3a6),a0_0x2a87a6(0x366))},hi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2a87a6(0x634)},'setting':{'type':a0_0x2a87a6(0x634),'enum':[a0_0x2a87a6(0x5e5),a0_0x2a87a6(0x232),a0_0x2a87a6(0x31b),a0_0x2a87a6(0x5b4)]}},'required':[a0_0x2a87a6(0x3a6),a0_0x2a87a6(0x2b9)],...C('groupJid',a0_0x2a87a6(0x2b9))},gi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2a87a6(0x634)},'restrict':{'type':a0_0x2a87a6(0x4a5)},'announce':{'type':a0_0x2a87a6(0x4a5)},'memberAddMode':{'type':a0_0x2a87a6(0x4a5)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x2a87a6(0x721),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x2a87a6(0x634)},'description':{'type':a0_0x2a87a6(0x634)},'image':{'type':a0_0x2a87a6(0x634)}}},$s={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'inviteCode':{'type':a0_0x2a87a6(0x634)}},'required':[a0_0x2a87a6(0x186)],...C(a0_0x2a87a6(0x186))},mi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':'string'},'enabled':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]}},'required':[a0_0x2a87a6(0x1a2),a0_0x2a87a6(0x6d1)]},Mc={'$id':(0x0,E['v4'])(),'type':a0_0x2a87a6(0x3ae),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x2a87a6(0x4a5),'enum':[!0x0,!0x1]}},'required':[a0_0x2a87a6(0x498),a0_0x2a87a6(0x78b),a0_0x2a87a6(0x6cc),'MESSAGES_SET',a0_0x2a87a6(0x1e2),a0_0x2a87a6(0x712),'SEND_MESSAGE',a0_0x2a87a6(0x25b),a0_0x2a87a6(0x87d),a0_0x2a87a6(0x4cb),a0_0x2a87a6(0x426),a0_0x2a87a6(0x85a),a0_0x2a87a6(0x631),a0_0x2a87a6(0x3c8),a0_0x2a87a6(0x650),a0_0x2a87a6(0x4e4),a0_0x2a87a6(0x508),a0_0x2a87a6(0x1e3),'GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x2a87a6(0x498),a0_0x2a87a6(0x78b),a0_0x2a87a6(0x6cc),a0_0x2a87a6(0x735),a0_0x2a87a6(0x1e2),'MESSAGES_UPSERT',a0_0x2a87a6(0x3a8),a0_0x2a87a6(0x25b),a0_0x2a87a6(0x87d),a0_0x2a87a6(0x4cb),a0_0x2a87a6(0x426),'CHATS_SET','CHATS_UPSERT',a0_0x2a87a6(0x3c8),a0_0x2a87a6(0x650),a0_0x2a87a6(0x4e4),a0_0x2a87a6(0x508),a0_0x2a87a6(0x1e3),a0_0x2a87a6(0x195))},ct=class{},lt=class extends _{['getContactModelForOwner'](_0xb979ea){return ra(_0xb979ea);}async[a0_0x2a87a6(0x39f)](_0x129b80){const _0x3a607e=a0_0x2a87a6;if(_0x129b80['length']!==0x0)try{return{'insertCount':(await this[_0x3a607e(0x83a)](_0x129b80[0x0][_0x3a607e(0x200)])['insertMany']([..._0x129b80]))[_0x3a607e(0x30d)]};}catch(_0x176484){return _0x176484;}}async[a0_0x2a87a6(0x17e)](_0x3c4f19,_0x61e403){const _0x13c4a5=a0_0x2a87a6;try{return{'deletedCount':(await this[_0x13c4a5(0x83a)](_0x61e403)[_0x13c4a5(0x583)]({..._0x3c4f19['where']}))[_0x13c4a5(0x85e)]};}catch(_0x3408e3){return{'error':_0x3408e3?.['toString']()};}}async[a0_0x2a87a6(0x7ee)](_0x3b8ce9,_0x447ab1){const _0x154c66=a0_0x2a87a6;try{if(_0x3b8ce9[_0x154c66(0x30d)]===0x0)return;let _0x597d52=this[_0x154c66(0x83a)](_0x447ab1),_0x53e490=_0x3b8ce9['map'](_0x24e782=>({'updateOne':{'filter':{'_id':_0x24e782['_id'],'owner':_0x447ab1},'update':{..._0x24e782}}})),{modifiedCount:_0x251256}=await _0x597d52[_0x154c66(0x4db)](_0x53e490);return{'insertCount':_0x251256};}catch{return;}}async[a0_0x2a87a6(0x2f6)](_0xe1855,_0x2d7bac){const _0x1f8b1c=a0_0x2a87a6;try{let _0x38260a=this['getContactModelForOwner'](_0x2d7bac),_0x44f3ea=A(_0xe1855[_0x1f8b1c(0x72b)]);return await _0x38260a[_0x1f8b1c(0x2f6)](_0x44f3ea)[_0x1f8b1c(0x759)](_0xe1855?.['limit']??0x0)[_0x1f8b1c(0x13a)]();}catch{return[];}}async[a0_0x2a87a6(0x654)](_0x54d5d6,_0x48b688){const _0x23684f=a0_0x2a87a6;try{let _0x32a562=this[_0x23684f(0x83a)](_0x48b688),_0x265428=A(_0x54d5d6[_0x23684f(0x72b)]);return await _0x32a562['findOne'](_0x265428)[_0x23684f(0x13a)]();}catch{return null;}}async[a0_0x2a87a6(0x465)](_0x2b55b9){const _0x4b04d4=a0_0x2a87a6;try{return await this['getContactModelForOwner'](_0x2b55b9)['collection']['drop'](),{'success':!0x0};}catch(_0x6aa23){return console[_0x4b04d4(0x495)](_0x6aa23),{'success':!0x1,'error':_0x6aa23};}}},ut=require(a0_0x2a87a6(0x60e)),Tc=require(a0_0x2a87a6(0x586)),Rs=new $(a0_0x2a87a6(0x626)),G=class{['routerPath'](_0x5f44a7,_0x216369=!0x0){let _0x38fdae='/'+_0x5f44a7;return _0x216369&&(_0x38fdae+='/:instanceName'),_0x38fdae;}async['dataValidate'](_0xcd81ed){const _0x549115=a0_0x2a87a6;let {request:_0x19ecd9,schema:_0x186838,ClassRef:_0x1309e5,execute:_0x1ec086}=_0xcd81ed,_0x5091a3=new _0x1309e5(),_0x4b237e=_0x19ecd9[_0x549115(0x5cc)],_0x1dfc94=_0x19ecd9[_0x549115(0x4d6)];_0x19ecd9?.[_0x549115(0x1be)]&&Object['keys'](_0x19ecd9[_0x549115(0x1be)])[_0x549115(0x30d)]>0x0&&Object[_0x549115(0x7b1)](_0x1dfc94,_0x19ecd9[_0x549115(0x1be)]),_0x19ecd9[_0x549115(0x57b)][_0x549115(0x708)](_0x549115(0x2cc))&&Object[_0x549115(0x7b1)](_0x1dfc94,_0x4b237e),Object[_0x549115(0x7b1)](_0x5091a3,_0x4b237e);let _0x49f040=_0x186838?(0x0,ut[_0x549115(0x213)])(_0x5091a3,_0x186838):{'valid':!0x0,'errors':[]};if(!_0x49f040[_0x549115(0x277)]){let _0x1ca26c=_0x49f040[_0x549115(0x44b)]['map'](({property:_0x5e0d7e,stack:_0x3a6d78,schema:_0x584d4})=>{const _0x42ad72=_0x549115;let _0x56c0ba;return _0x584d4[_0x42ad72(0x406)]?_0x56c0ba=_0x584d4[_0x42ad72(0x406)]:_0x56c0ba=_0x3a6d78[_0x42ad72(0x1ee)](_0x42ad72(0x2c3),''),{'property':_0x5e0d7e['replace'](_0x42ad72(0x2c3),''),'message':_0x56c0ba};});throw Rs[_0x549115(0x495)]([..._0x1ca26c]),new m(..._0x1ca26c);}return await _0x1ec086(_0x1dfc94,_0x5091a3);}async[a0_0x2a87a6(0x7e6)](_0x7b9a57){const _0x232e67=a0_0x2a87a6;let {request:_0x17516d,ClassRef:_0x1fcac9,schema:_0x25ef45,execute:_0x523e1f}=_0x7b9a57,_0x2971a4=_0x17516d['query'];if(!_0x2971a4?.[_0x232e67(0x3a6)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ex:\x20\x22groupJid=120362@g.us\x22');let _0x48ea64=_0x17516d['params'],_0x5d05be=_0x17516d[_0x232e67(0x5cc)],_0xcd9ccf=new _0x1fcac9();Object['assign'](_0x5d05be,_0x2971a4),Object[_0x232e67(0x7b1)](_0xcd9ccf,_0x5d05be);let _0x4dd051=(0x0,ut[_0x232e67(0x213)])(_0xcd9ccf,_0x25ef45);if(!_0x4dd051[_0x232e67(0x277)]){let _0x530baa=_0x4dd051[_0x232e67(0x44b)][_0x232e67(0x639)](({property:_0x54c392,stack:_0x61c5de,schema:_0x8b2869})=>{const _0x4265a9=_0x232e67;let _0x1f44e6;return _0x8b2869['description']?_0x1f44e6=_0x8b2869[_0x4265a9(0x406)]:_0x1f44e6=_0x61c5de[_0x4265a9(0x1ee)](_0x4265a9(0x2c3),''),{'property':_0x54c392['replace'](_0x4265a9(0x2c3),''),'message':_0x1f44e6};});throw Rs['error']([..._0x530baa]),new m(..._0x530baa);}return await _0x523e1f(_0x48ea64,_0xcd9ccf);}async[a0_0x2a87a6(0x656)](_0x198636){const _0x3b937a=a0_0x2a87a6;let {request:_0x579ff5,ClassRef:_0x56d92a,schema:_0x27250d,execute:_0x33abdb}=_0x198636,_0x19817d=_0x579ff5['body'];if(!_0x19817d?.['inviteCode'])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x3b937a(0x3f7));let _0x3f8094=_0x579ff5['params'],_0x1b67bc=_0x579ff5[_0x3b937a(0x5cc)],_0x3f1f94=new _0x56d92a();Object[_0x3b937a(0x7b1)](_0x1b67bc,_0x19817d),Object[_0x3b937a(0x7b1)](_0x3f1f94,_0x1b67bc);let _0x56aa46=(0x0,ut['validate'])(_0x3f1f94,_0x27250d);if(!_0x56aa46[_0x3b937a(0x277)]){let _0x31dfd2=_0x56aa46[_0x3b937a(0x44b)][_0x3b937a(0x639)](({property:_0xa7f8da,stack:_0x38e1b6,schema:_0x1fc804})=>{const _0x3425d4=_0x3b937a;let _0x54f2ba;return _0x1fc804[_0x3425d4(0x406)]?_0x54f2ba=_0x1fc804['description']:_0x54f2ba=_0x38e1b6[_0x3425d4(0x1ee)](_0x3425d4(0x2c3),''),{'property':_0xa7f8da[_0x3425d4(0x1ee)](_0x3425d4(0x2c3),''),'message':_0x54f2ba};});throw Rs[_0x3b937a(0x495)]([..._0x31dfd2]),new m(..._0x31dfd2);}return await _0x33abdb(_0x3f8094,_0x3f1f94);}},M=class{},Bc=new $(a0_0x2a87a6(0x7f7)),dt=class extends G{constructor(..._0x1673e6){const _0x49250b=a0_0x2a87a6;super(),this[_0x49250b(0x827)]=(0x0,fi['Router'])(),this[_0x49250b(0x827)][_0x49250b(0x641)](this[_0x49250b(0x489)]('updatePresence'),..._0x1673e6,async(_0x4dfe25,_0x4474b0)=>{const _0x33d288=_0x49250b;let _0x4d4134=await this['dataValidate']({'request':_0x4dfe25,'schema':ri,'ClassRef':Ze,'execute':(_0x158e89,_0x13fcfe)=>k[_0x33d288(0x757)](_0x158e89,_0x13fcfe)});return _0x4474b0[_0x33d288(0x5f7)](0xc9)[_0x33d288(0x7e5)](_0x4d4134);})['post'](this[_0x49250b(0x489)](_0x49250b(0x1c0)),..._0x1673e6,async(_0x54afa9,_0x15098a)=>{const _0x4cb195=_0x49250b;let _0x1d23aa=await this['dataValidate']({'request':_0x54afa9,'schema':Qa,'ClassRef':et,'execute':(_0x443149,_0x573a27)=>k[_0x4cb195(0x7e0)](_0x443149,_0x573a27)});return _0x15098a[_0x4cb195(0x5f7)](0xc9)[_0x4cb195(0x7e5)](_0x1d23aa);})['post'](this['routerPath'](_0x49250b(0x554)),..._0x1673e6,async(_0xae146,_0x284d5c)=>{const _0x41284d=_0x49250b;let _0x47f3fc=await this[_0x41284d(0x47d)]({'request':_0xae146,'schema':v,'ClassRef':M,'execute':(_0x377e8e,_0xb7125f)=>k[_0x41284d(0x554)](_0x377e8e,_0xb7125f)});return _0x284d5c[_0x41284d(0x5f7)](0xc9)[_0x41284d(0x7e5)](_0x47f3fc);})[_0x49250b(0x5bb)](this[_0x49250b(0x489)]('markMessageAsRead'),..._0x1673e6,async(_0xfebaf9,_0x5d9f6c)=>{const _0x1b5e15=_0x49250b;let _0x441f1e=await this[_0x1b5e15(0x47d)]({'request':_0xfebaf9,'schema':Ya,'ClassRef':at,'execute':(_0x4e1073,_0x76c685)=>k[_0x1b5e15(0x7d2)](_0x4e1073,_0x76c685)});return _0x5d9f6c[_0x1b5e15(0x5f7)](0xc9)['json'](_0x441f1e);})[_0x49250b(0x5bb)](this[_0x49250b(0x489)](_0x49250b(0x6af)),..._0x1673e6,async(_0x57f554,_0x22ac5a)=>{const _0x499786=_0x49250b;let _0x571a17=await this['dataValidate']({'request':_0x57f554,'schema':Za,'ClassRef':it,'execute':(_0x15b26d,_0x237679)=>k['archiveChat'](_0x15b26d,_0x237679)});return _0x22ac5a['status'](0xc9)[_0x499786(0x7e5)](_0x571a17);})[_0x49250b(0x17e)](this[_0x49250b(0x489)](_0x49250b(0x74f)),..._0x1673e6,async(_0x15122d,_0x47711b)=>{const _0x4e0c48=_0x49250b;let _0x127c33=await this[_0x4e0c48(0x47d)]({'request':_0x15122d,'schema':ei,'ClassRef':rt,'execute':(_0x1b14cb,_0x520003)=>k['deleteMessage'](_0x1b14cb,_0x520003)});return _0x47711b[_0x4e0c48(0x5f7)](0xc9)[_0x4e0c48(0x7e5)](_0x127c33);})[_0x49250b(0x641)](this[_0x49250b(0x489)](_0x49250b(0x719)),..._0x1673e6,async(_0x2e3473,_0x366520)=>{const _0x1533c0=_0x49250b;let _0x1f732a=await this[_0x1533c0(0x47d)]({'request':_0x2e3473,'schema':xe,'ClassRef':Oe,'execute':(_0x57a8f2,_0x4d224d)=>k[_0x1533c0(0x702)](_0x57a8f2,_0x4d224d)});return _0x366520[_0x1533c0(0x5f7)](0xc8)[_0x1533c0(0x7e5)](_0x1f732a);})['post'](this[_0x49250b(0x489)]('fetchProfile'),..._0x1673e6,async(_0x5d502a,_0x2c5f2c)=>{const _0xde4b58=_0x49250b;let _0x1f07ea=await this[_0xde4b58(0x47d)]({'request':_0x5d502a,'schema':ii,'ClassRef':Oe,'execute':(_0x1ef2d5,_0x4acc8b)=>k['fetchProfile'](_0x1ef2d5,_0x4acc8b)});return _0x2c5f2c[_0xde4b58(0x5f7)](0xc8)['json'](_0x1f07ea);})[_0x49250b(0x641)](this[_0x49250b(0x489)]('findContacts'),..._0x1673e6,async(_0x5983cb,_0x3edc48)=>{const _0x4afc80=_0x49250b;let _0x2b5713=await this[_0x4afc80(0x47d)]({'request':_0x5983cb,'schema':ti,'ClassRef':ct,'execute':(_0x548d32,_0x43670d)=>k[_0x4afc80(0x1fe)](_0x548d32,_0x43670d)});return _0x3edc48[_0x4afc80(0x5f7)](0xc8)['json'](_0x2b5713);})[_0x49250b(0x641)](this[_0x49250b(0x489)](_0x49250b(0x5d0)),..._0x1673e6,async(_0xcef737,_0x558442)=>{const _0xfe113a=_0x49250b;let _0x1ad0fe=await this[_0xfe113a(0x47d)]({'request':_0xcef737,'schema':null,'ClassRef':Object,'execute':(_0xc71774,_0x1c6951)=>k[_0xfe113a(0x5d0)](_0xc71774,_0x1c6951)});return _0x558442[_0xfe113a(0x5f7)](0xc9)[_0xfe113a(0x7e5)](_0x1ad0fe);})['post'](this[_0x49250b(0x489)](_0x49250b(0x705)),..._0x1673e6,async(_0x2ca90c,_0x24018d)=>{const _0x46bc94=_0x49250b;let _0x44ad06=await this[_0x46bc94(0x47d)]({'request':_0x2ca90c,'schema':oi,'ClassRef':Ye,'execute':(_0xb6a8a5,_0x13b525)=>k['fetchMessages'](_0xb6a8a5,_0x13b525)});return _0x24018d[_0x46bc94(0x5f7)](0xc8)[_0x46bc94(0x7e5)](_0x44ad06);})[_0x49250b(0x7eb)](this['routerPath']('findChats'),..._0x1673e6,async(_0x4d13fb,_0x224606)=>{const _0x352b3e=_0x49250b;let _0x5316f7=await this[_0x352b3e(0x47d)]({'request':_0x4d13fb,'schema':null,'ClassRef':M,'execute':_0x76f244=>k[_0x352b3e(0x1a3)](_0x76f244)});return _0x224606[_0x352b3e(0x5f7)](0xc8)[_0x352b3e(0x7e5)](_0x5316f7);})['get'](this[_0x49250b(0x489)](_0x49250b(0x5b8)),..._0x1673e6,async(_0x357f0e,_0x5b8cba)=>{const _0x4e6383=_0x49250b;let _0x14b826=await this[_0x4e6383(0x47d)]({'request':_0x357f0e,'schema':null,'ClassRef':M,'execute':_0x52520a=>k[_0x4e6383(0x781)](_0x52520a)});return _0x5b8cba['status'](0xc8)['json'](_0x14b826);})[_0x49250b(0x5bb)](this['routerPath']('importChats'),..._0x1673e6,async(_0x4ca0a9,_0x13b1c1)=>{const _0x249d04=_0x49250b;let _0x476091=await this[_0x249d04(0x47d)]({'request':_0x4ca0a9,'schema':null,'ClassRef':Array,'execute':(_0x4043b2,_0x1b0dfc)=>k[_0x249d04(0x240)](_0x4043b2,_0x1b0dfc)});return _0x13b1c1[_0x249d04(0x5f7)](0xc8)[_0x249d04(0x7e5)](_0x476091);})['get'](this['routerPath'](_0x49250b(0x5e7)),..._0x1673e6,async(_0x59e96b,_0x4b5926)=>{const _0x454a9c=_0x49250b;let _0x46d917=await this[_0x454a9c(0x47d)]({'request':_0x59e96b,'schema':null,'ClassRef':M,'execute':_0x652663=>k['fetchPrivacySettings'](_0x652663)});return _0x4b5926['status'](0xc8)['json'](_0x46d917);})[_0x49250b(0x5bb)](this[_0x49250b(0x489)](_0x49250b(0x4c5)),..._0x1673e6,async(_0x4d5d9e,_0x419027)=>{const _0x11f3c4=_0x49250b;let _0x51c316=await this[_0x11f3c4(0x47d)]({'request':_0x4d5d9e,'schema':Xa,'ClassRef':ot,'execute':(_0x48033c,_0x16ad83)=>k[_0x11f3c4(0x4c5)](_0x48033c,_0x16ad83)});return _0x419027[_0x11f3c4(0x5f7)](0xc9)['json'](_0x51c316);})['post'](this[_0x49250b(0x489)](_0x49250b(0x1ed)),..._0x1673e6,async(_0x295170,_0x2e73a1)=>{const _0x3ed355=_0x49250b;let _0x37c2c1=await this['dataValidate']({'request':_0x295170,'schema':xe,'ClassRef':ve,'execute':(_0xabd778,_0x2396d9)=>k[_0x3ed355(0x1ed)](_0xabd778,_0x2396d9)});return _0x2e73a1[_0x3ed355(0x5f7)](0xc8)[_0x3ed355(0x7e5)](_0x37c2c1);})[_0x49250b(0x641)](this[_0x49250b(0x489)]('updateProfileName'),..._0x1673e6,async(_0x332015,_0xfdb735)=>{const _0x281f13=_0x49250b;let _0x36d637=await this['dataValidate']({'request':_0x332015,'schema':si,'ClassRef':tt,'execute':(_0x3ed83f,_0x3b84b0)=>k[_0x281f13(0x7cd)](_0x3ed83f,_0x3b84b0)});return _0xfdb735['status'](0xc8)[_0x281f13(0x7e5)](_0x36d637);})[_0x49250b(0x641)](this[_0x49250b(0x489)](_0x49250b(0x62f)),..._0x1673e6,async(_0x914bcf,_0x27f5d7)=>{const _0x463a78=_0x49250b;let _0x22a809=await this[_0x463a78(0x47d)]({'request':_0x914bcf,'schema':ai,'ClassRef':st,'execute':(_0x7bd7b4,_0x15a051)=>k['updateProfileStatus'](_0x7bd7b4,_0x15a051)});return _0x27f5d7[_0x463a78(0x5f7)](0xc8)[_0x463a78(0x7e5)](_0x22a809);})[_0x49250b(0x5bb)](this[_0x49250b(0x489)](_0x49250b(0x40e)),..._0x1673e6,async(_0x1cd29e,_0x5e4f67)=>{const _0xd62117=_0x49250b;let _0x561f7b=await this[_0xd62117(0x47d)]({'request':_0x1cd29e,'schema':xe,'ClassRef':ve,'execute':(_0x2b9449,_0xe81f49)=>k[_0xd62117(0x40e)](_0x2b9449,_0xe81f49)});return _0x5e4f67['status'](0xc8)[_0xd62117(0x7e5)](_0x561f7b);})[_0x49250b(0x17e)](this[_0x49250b(0x489)](_0x49250b(0x273)),..._0x1673e6,async(_0x44bc9d,_0x13925b)=>{const _0x140c3f=_0x49250b;let _0x5e0248=await this[_0x140c3f(0x47d)]({'request':_0x44bc9d,'schema':xe,'ClassRef':ve,'execute':(_0x3773e7,_0x482ddb)=>k[_0x140c3f(0x273)](_0x3773e7,_0x482ddb)});return _0x13925b[_0x140c3f(0x5f7)](0xc8)['json'](_0x5e0248);});}},wi=require(a0_0x2a87a6(0x611)),pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},ie=class{},Pe=class{},yt=class extends ie{},bt=class extends ie{},St=class extends G{constructor(..._0x94168b){const _0x1b0e6d=a0_0x2a87a6;super(),this[_0x1b0e6d(0x827)]=(0x0,wi[_0x1b0e6d(0x376)])(),this[_0x1b0e6d(0x827)][_0x1b0e6d(0x641)](this[_0x1b0e6d(0x489)]('create'),..._0x94168b,async(_0x2ec6a4,_0x1214e1)=>{const _0x377dfa=_0x1b0e6d;let _0x5cdcd6=await this[_0x377dfa(0x47d)]({'request':_0x2ec6a4,'schema':ni,'ClassRef':pt,'execute':(_0x2ae174,_0x297884)=>V[_0x377dfa(0x33e)](_0x2ae174,_0x297884)});_0x1214e1[_0x377dfa(0x5f7)](0xc9)[_0x377dfa(0x7e5)](_0x5cdcd6);})[_0x1b0e6d(0x5bb)](this[_0x1b0e6d(0x489)]('updateGroupPicture'),..._0x94168b,async(_0x3132b9,_0x4fabf1)=>{const _0x256cb1=_0x1b0e6d;let _0x4edbc3=await this[_0x256cb1(0x7e6)]({'request':_0x3132b9,'schema':ui,'ClassRef':ht,'execute':(_0x2355c0,_0x13ecb6)=>V[_0x256cb1(0x5dc)](_0x2355c0,_0x13ecb6)});_0x4fabf1[_0x256cb1(0x5f7)](0xc9)[_0x256cb1(0x7e5)](_0x4edbc3);})[_0x1b0e6d(0x5bb)](this[_0x1b0e6d(0x489)](_0x1b0e6d(0x17d)),..._0x94168b,async(_0x1c374f,_0x5a481d)=>{const _0x22b5bb=_0x1b0e6d;let _0x1eab42=await this['groupValidate']({'request':_0x1c374f,'schema':di,'ClassRef':gt,'execute':(_0x42fffb,_0x13216b)=>V[_0x22b5bb(0x17d)](_0x42fffb,_0x13216b)});_0x5a481d[_0x22b5bb(0x5f7)](0xc9)[_0x22b5bb(0x7e5)](_0x1eab42);})[_0x1b0e6d(0x5bb)](this['routerPath'](_0x1b0e6d(0x5ea)),..._0x94168b,async(_0x421f19,_0x4d3735)=>{const _0x5ef1de=_0x1b0e6d;let _0x89f662=await this[_0x5ef1de(0x7e6)]({'request':_0x421f19,'schema':pi,'ClassRef':mt,'execute':(_0x160d18,_0x38e52c)=>V['groupName'](_0x160d18,_0x38e52c)});_0x4d3735[_0x5ef1de(0x5f7)](0xc9)[_0x5ef1de(0x7e5)](_0x89f662);})['put'](this[_0x1b0e6d(0x489)](_0x1b0e6d(0x264)),..._0x94168b,async(_0x405005,_0x3a1391)=>{const _0xc5c914=_0x1b0e6d;let _0x5de34e=await this[_0xc5c914(0x7e6)]({'request':_0x405005,'schema':gi,'ClassRef':wt,'execute':(_0x4d199f,_0x49a8a0)=>V[_0xc5c914(0x264)](_0x4d199f,_0x49a8a0)});_0x3a1391[_0xc5c914(0x5f7)](0xc9)[_0xc5c914(0x7e5)](_0x5de34e);})[_0x1b0e6d(0x5bb)](this['routerPath'](_0x1b0e6d(0x3b1)),..._0x94168b,async(_0x2a46fe,_0x375d1e)=>{const _0xdfa253=_0x1b0e6d;let _0x44e484=await this[_0xdfa253(0x7e6)]({'request':_0x2a46fe,'schema':hi,'ClassRef':ft,'execute':(_0x578c8d,_0x1aaf6a)=>V[_0xdfa253(0x3b1)](_0x578c8d,_0x1aaf6a)});_0x375d1e[_0xdfa253(0x5f7)](0xc9)[_0xdfa253(0x7e5)](_0x44e484);})[_0x1b0e6d(0x5bb)](this[_0x1b0e6d(0x489)]('toggleEphemeral'),..._0x94168b,async(_0x43a2d9,_0x5e8717)=>{const _0x2df166=_0x1b0e6d;let _0x1cf21c=await this[_0x2df166(0x7e6)]({'request':_0x43a2d9,'schema':li,'ClassRef':bt,'execute':(_0x261427,_0x1c5e8a)=>V[_0x2df166(0x64f)](_0x261427,_0x1c5e8a)});_0x5e8717['status'](0xc9)[_0x2df166(0x7e5)](_0x1cf21c);})[_0x1b0e6d(0x7eb)](this[_0x1b0e6d(0x489)](_0x1b0e6d(0x5d7)),..._0x94168b,async(_0x5e7bec,_0x27a523)=>{const _0x11459b=_0x1b0e6d;let _0xdceb03=await this[_0x11459b(0x7e6)]({'request':_0x5e7bec,'schema':De,'ClassRef':ie,'execute':(_0x364508,_0x46e213)=>V[_0x11459b(0x5f0)](_0x364508,_0x46e213)});_0x27a523['status'](0xc8)[_0x11459b(0x7e5)](_0xdceb03);})[_0x1b0e6d(0x7eb)](this[_0x1b0e6d(0x489)](_0x1b0e6d(0x1c5)),..._0x94168b,async(_0x3650bd,_0x441de9)=>{const _0xda4be6=_0x1b0e6d;let _0x1cdd57=await this[_0xda4be6(0x47d)]({'request':_0x3650bd,'schema':v,'ClassRef':M,'execute':_0xaeede0=>V[_0xda4be6(0x1c5)](_0xaeede0)});_0x441de9[_0xda4be6(0x5f7)](0xc8)[_0xda4be6(0x7e5)](_0x1cdd57);})[_0x1b0e6d(0x7eb)](this[_0x1b0e6d(0x489)](_0x1b0e6d(0x20b)),..._0x94168b,async(_0x3dd20c,_0x4e335a)=>{const _0x121437=_0x1b0e6d;let _0x39fb07=await this[_0x121437(0x7e6)]({'request':_0x3dd20c,'schema':De,'ClassRef':ie,'execute':(_0x4cddca,_0x2a0e72)=>V[_0x121437(0x6f0)](_0x4cddca,_0x2a0e72)});_0x4e335a[_0x121437(0x5f7)](0xc8)[_0x121437(0x7e5)](_0x39fb07);})[_0x1b0e6d(0x7eb)](this[_0x1b0e6d(0x489)]('inviteCode'),..._0x94168b,async(_0x25180f,_0x117e3)=>{const _0x5f43d3=_0x1b0e6d;let _0x4f3c7c=await this[_0x5f43d3(0x7e6)]({'request':_0x25180f,'schema':De,'ClassRef':ie,'execute':(_0x3d828b,_0x684665)=>V[_0x5f43d3(0x186)](_0x3d828b,_0x684665)});_0x117e3[_0x5f43d3(0x5f7)](0xc8)[_0x5f43d3(0x7e5)](_0x4f3c7c);})[_0x1b0e6d(0x641)](this['routerPath']('inviteCodeDetails'),..._0x94168b,async(_0x2ef315,_0x1310df)=>{const _0x16fc41=_0x1b0e6d;let _0x598a27=await this[_0x16fc41(0x656)]({'request':_0x2ef315,'schema':$s,'ClassRef':Pe,'execute':(_0x5301bc,_0x5f40ac)=>V[_0x16fc41(0x162)](_0x5301bc,_0x5f40ac)});_0x1310df[_0x16fc41(0x5f7)](0xc9)[_0x16fc41(0x7e5)](_0x598a27);})[_0x1b0e6d(0x5bb)](this[_0x1b0e6d(0x489)]('joinGroup'),..._0x94168b,async(_0x379822,_0x2865de)=>{const _0x23d24d=_0x1b0e6d;let _0x1b9dff=await this[_0x23d24d(0x656)]({'request':_0x379822,'schema':$s,'ClassRef':Pe,'execute':(_0x1398be,_0x4e9591)=>V[_0x23d24d(0x215)](_0x1398be,_0x4e9591)});_0x2865de['status'](0xc9)[_0x23d24d(0x7e5)](_0x1b9dff);})[_0x1b0e6d(0x5bb)](this[_0x1b0e6d(0x489)](_0x1b0e6d(0x819)),..._0x94168b,async(_0x390682,_0x583381)=>{const _0x205ae4=_0x1b0e6d;let _0x3fae0a=await this[_0x205ae4(0x7e6)]({'request':_0x390682,'schema':De,'ClassRef':ie,'execute':(_0x33ffb1,_0x5913ff)=>V[_0x205ae4(0x819)](_0x33ffb1,_0x5913ff)});_0x583381['status'](0xc9)[_0x205ae4(0x7e5)](_0x3fae0a);})[_0x1b0e6d(0x5bb)](this[_0x1b0e6d(0x489)](_0x1b0e6d(0x63b)),..._0x94168b,async(_0x3527c9,_0x252e88)=>{const _0x37737f=_0x1b0e6d;let _0x43f543=await this[_0x37737f(0x7e6)]({'request':_0x3527c9,'schema':ci,'ClassRef':yt,'execute':(_0x2ac9a9,_0x56c4f5)=>V[_0x37737f(0x853)](_0x2ac9a9,_0x56c4f5)});_0x252e88['status'](0xc9)[_0x37737f(0x7e5)](_0x43f543);})[_0x1b0e6d(0x17e)](this[_0x1b0e6d(0x489)]('leaveGroup'),..._0x94168b,async(_0x326bdc,_0x576df7)=>{const _0x39bc5c=_0x1b0e6d;let _0x4af5b4=await this['groupValidate']({'request':_0x326bdc,'schema':{},'ClassRef':ie,'execute':(_0x4862a0,_0x11cace)=>V[_0x39bc5c(0x72e)](_0x4862a0,_0x11cace)});_0x576df7[_0x39bc5c(0x5f7)](0xc8)[_0x39bc5c(0x7e5)](_0x4af5b4);});}},yi=require(a0_0x2a87a6(0x611)),Mt=class extends G{constructor(_0x173d1e,..._0x4bd325){const _0x5628cc=a0_0x2a87a6;super(),this[_0x5628cc(0x5ca)]=_0x173d1e,this['router']=(0x0,yi[_0x5628cc(0x376)])();let _0xec594d=_0x173d1e[_0x5628cc(0x7eb)](_0x5628cc(0x636));this[_0x5628cc(0x827)][_0x5628cc(0x641)](_0x5628cc(0x7c8),..._0x4bd325,async(_0x629363,_0x3ed4d7)=>{const _0x5bcd10=_0x5628cc;let {instanceName:_0x580464,apikey:_0xdcbbed,number:_0x2c7b53}=_0x629363[_0x5bcd10(0x5cc)],_0x271f55=await he[_0x5bcd10(0x16c)]({'instanceName':_0x580464,'apikey':_0xdcbbed,'number':_0x2c7b53});return _0x3ed4d7[_0x5bcd10(0x5f7)](0xc9)[_0x5bcd10(0x7e5)](_0x271f55);})[_0x5628cc(0x5bb)](this['routerPath']('restart'),..._0x4bd325,async(_0x340be4,_0x4689a4)=>{const _0x4b670b=_0x5628cc;let _0x5d1510=await this[_0x4b670b(0x47d)]({'request':_0x340be4,'schema':v,'ClassRef':M,'execute':_0x4251ca=>he[_0x4b670b(0x2fc)](_0x4251ca)});return _0x4689a4[_0x4b670b(0x5f7)](0xc8)[_0x4b670b(0x7e5)](_0x5d1510);})[_0x5628cc(0x7eb)](this[_0x5628cc(0x489)]('connect'),..._0x4bd325,async(_0x2208db,_0x3ee1c0)=>{const _0x12a72f=_0x5628cc;let _0x4ee3ff=await this[_0x12a72f(0x47d)]({'request':_0x2208db,'schema':v,'ClassRef':M,'execute':_0x4dbe80=>he['connectToWhatsappController'](_0x4dbe80)});return _0x3ee1c0[_0x12a72f(0x5f7)](0xc8)[_0x12a72f(0x7e5)](_0x4ee3ff);})['get'](this[_0x5628cc(0x489)](_0x5628cc(0x418)),..._0x4bd325,async(_0x403b4d,_0x3213ad)=>{const _0x312fc3=_0x5628cc;let _0x309598=await this[_0x312fc3(0x47d)]({'request':_0x403b4d,'schema':v,'ClassRef':M,'execute':_0x34f606=>he[_0x312fc3(0x418)](_0x34f606)});return _0x3213ad[_0x312fc3(0x5f7)](0xc8)[_0x312fc3(0x7e5)](_0x309598);})[_0x5628cc(0x7eb)](this['routerPath']('fetchInstances',!0x1),..._0x4bd325,async(_0x1531fb,_0x210c41)=>{const _0x356205=_0x5628cc;let _0x3ed8fb=await this['dataValidate']({'request':_0x1531fb,'schema':null,'ClassRef':M,'execute':_0xa43346=>he[_0x356205(0x873)](_0xa43346)});return _0x210c41[_0x356205(0x5f7)](0xc8)['json'](_0x3ed8fb);})[_0x5628cc(0x17e)](this[_0x5628cc(0x489)](_0x5628cc(0x76d)),..._0x4bd325,async(_0x48a6e2,_0x5c32c7)=>{const _0x132c0c=_0x5628cc;let _0x129835=await this['dataValidate']({'request':_0x48a6e2,'schema':v,'ClassRef':M,'execute':_0x3f8067=>he[_0x132c0c(0x76d)](_0x3f8067)});return _0x5c32c7['status'](0xc8)[_0x132c0c(0x7e5)](_0x129835);})['delete'](this[_0x5628cc(0x489)](_0x5628cc(0x17e)),..._0x4bd325,async(_0x44e9c4,_0x2bbd8a)=>{let _0x4adf5f=await this['dataValidate']({'request':_0x44e9c4,'schema':v,'ClassRef':M,'execute':_0xfee458=>he['deleteInstance'](_0xfee458)});return _0x2bbd8a['status'](0xc8)['json'](_0x4adf5f);});}},bi=require(a0_0x2a87a6(0x611)),As=class{},Y=class extends As{},Ct=class extends Y{},Et=class extends Y{},vt=class extends Y{},Nt=class extends Y{},ke=class extends Y{},$t=class extends Y{},Rt=class extends Y{},At=class extends Y{},It=class extends Y{},Tt=class extends Y{},Ot=class{},_t=class extends G{constructor(..._0x438ad5){const _0x51d686=a0_0x2a87a6;super(),this[_0x51d686(0x827)]=(0x0,bi[_0x51d686(0x376)])(),this['router'][_0x51d686(0x641)](this[_0x51d686(0x489)](_0x51d686(0x3d9)),..._0x438ad5,async(_0x3c2fa8,_0x2ffc8d)=>{const _0x2fadd4=_0x51d686;let _0x43e712=await this[_0x2fadd4(0x47d)]({'request':_0x3c2fa8,'schema':La,'ClassRef':Ct,'execute':(_0x1c2515,_0x12f3b0)=>H[_0x2fadd4(0x3d9)](_0x1c2515,_0x12f3b0)});return _0x2ffc8d['status'](0xc9)[_0x2fadd4(0x7e5)](_0x43e712);})['post'](this[_0x51d686(0x489)](_0x51d686(0x857)),..._0x438ad5,async(_0x141ad4,_0x1d25ec)=>{const _0x58e136=_0x51d686;let _0x7cbbef=await this[_0x58e136(0x47d)]({'request':_0x141ad4,'schema':Ja,'ClassRef':ke,'execute':(_0x2485ab,_0x51313f)=>H[_0x58e136(0x857)](_0x2485ab,_0x51313f)});return _0x1d25ec[_0x58e136(0x5f7)](0xc9)['json'](_0x7cbbef);})[_0x51d686(0x641)](this['routerPath']('sendMenu'),..._0x438ad5,async(_0x1290b4,_0x69db38)=>{const _0x3d042f=_0x51d686;let _0x18a4a1=await this['dataValidate']({'request':_0x1290b4,'schema':Ga,'ClassRef':Nt,'execute':(_0x29f51b,_0x488a1a)=>H[_0x3d042f(0x39a)](_0x29f51b,_0x488a1a)});return _0x69db38[_0x3d042f(0x5f7)](0xc9)['json'](_0x18a4a1);})[_0x51d686(0x641)](this['routerPath'](_0x51d686(0x7c4)),..._0x438ad5,async(_0x44bfd5,_0x40eb69)=>{const _0x19c723=_0x51d686;let _0x3446a5=await this[_0x19c723(0x47d)]({'request':_0x44bfd5,'schema':qa,'ClassRef':ke,'execute':(_0x336bfd,_0x43c199)=>H[_0x19c723(0x7c4)](_0x336bfd,_0x43c199)});return _0x40eb69[_0x19c723(0x5f7)](0xc9)[_0x19c723(0x7e5)](_0x3446a5);})[_0x51d686(0x641)](this[_0x51d686(0x489)](_0x51d686(0x19f)),..._0x438ad5,async(_0x4e320f,_0x140fc3)=>{const _0x1ba67a=_0x51d686;let _0x57e690=await this[_0x1ba67a(0x47d)]({'request':_0x4e320f,'schema':Ba,'ClassRef':Rt,'execute':(_0x1a1efc,_0x3de73c)=>H[_0x1ba67a(0x19f)](_0x1a1efc,_0x3de73c)});return _0x140fc3[_0x1ba67a(0x5f7)](0xc9)['json'](_0x57e690);})['post'](this['routerPath']('sendLocation'),..._0x438ad5,async(_0x3b889e,_0xed2a74)=>{const _0x40b597=_0x51d686;let _0x51fd80=await this[_0x40b597(0x47d)]({'request':_0x3b889e,'schema':Wa,'ClassRef':At,'execute':(_0x180dd8,_0x526bfa)=>H[_0x40b597(0x5a8)](_0x180dd8,_0x526bfa)});return _0xed2a74[_0x40b597(0x5f7)](0xc9)[_0x40b597(0x7e5)](_0x51fd80);})[_0x51d686(0x641)](this[_0x51d686(0x489)](_0x51d686(0x812)),..._0x438ad5,async(_0x3f1ebc,_0x55f72a)=>{const _0x8beeeb=_0x51d686;let _0xb0bde9=await this['dataValidate']({'request':_0x3f1ebc,'schema':za,'ClassRef':It,'execute':(_0x154881,_0x22725b)=>H['sendList'](_0x154881,_0x22725b)});return _0x55f72a[_0x8beeeb(0x5f7)](0xc9)[_0x8beeeb(0x7e5)](_0xb0bde9);})['post'](this['routerPath'](_0x51d686(0x5c4)),..._0x438ad5,async(_0xee8ff3,_0x5d539d)=>{const _0x210d8f=_0x51d686;let _0x1b5d8d=await this[_0x210d8f(0x47d)]({'request':_0xee8ff3,'schema':Ha,'ClassRef':Tt,'execute':(_0x301f60,_0x16c2f8)=>H['sendContact'](_0x301f60,_0x16c2f8)});return _0x5d539d[_0x210d8f(0x5f7)](0xc9)['json'](_0x1b5d8d);})['post'](this[_0x51d686(0x489)](_0x51d686(0x6b8)),..._0x438ad5,async(_0x16a59b,_0x19dd93)=>{const _0xc7d7f2=_0x51d686;let _0x1acb2f=await this[_0xc7d7f2(0x47d)]({'request':_0x16a59b,'schema':Ka,'ClassRef':Ot,'execute':(_0x13b73a,_0x22be14)=>H[_0xc7d7f2(0x6b8)](_0x13b73a,_0x22be14)});return _0x19dd93[_0xc7d7f2(0x5f7)](0xc9)[_0xc7d7f2(0x7e5)](_0x1acb2f);})['post'](this[_0x51d686(0x489)]('sendPoll'),..._0x438ad5,async(_0x250e3c,_0x18fe6b)=>{const _0x4841e9=_0x51d686;let _0xe228c=await this[_0x4841e9(0x47d)]({'request':_0x250e3c,'schema':Va,'ClassRef':vt,'execute':(_0x138dd3,_0x4f42ad)=>H[_0x4841e9(0x23b)](_0x138dd3,_0x4f42ad)});return _0x18fe6b['status'](0xc9)['json'](_0xe228c);})[_0x51d686(0x641)](this[_0x51d686(0x489)](_0x51d686(0x4b1)),..._0x438ad5,async(_0x2e48c8,_0x483e42)=>{const _0x124df1=_0x51d686;let _0x1892cd=await this[_0x124df1(0x47d)]({'request':_0x2e48c8,'schema':ja,'ClassRef':Et,'execute':(_0x530290,_0x49f3df)=>H['sendStatus'](_0x530290,_0x49f3df)});return _0x483e42[_0x124df1(0x5f7)](0xc9)[_0x124df1(0x7e5)](_0x1892cd);})[_0x51d686(0x641)](this[_0x51d686(0x489)]('sendSticker'),..._0x438ad5,async(_0x31392d,_0x9231f4)=>{const _0x173e0a=_0x51d686;let _0x5edda8=await this['dataValidate']({'request':_0x31392d,'schema':Ua,'ClassRef':$t,'execute':(_0x259736,_0x53a668)=>H[_0x173e0a(0x513)](_0x259736,_0x53a668)});return _0x9231f4[_0x173e0a(0x5f7)](0xc9)[_0x173e0a(0x7e5)](_0x5edda8);});}},Si=require('express'),xt=class{},Dt=class extends G{constructor(..._0x5c7bbc){const _0x369c76=a0_0x2a87a6;super(),this[_0x369c76(0x827)]=(0x0,Si[_0x369c76(0x376)])(),this[_0x369c76(0x827)][_0x369c76(0x641)](this[_0x369c76(0x489)](_0x369c76(0x6fe)),..._0x5c7bbc,async(_0x2a9186,_0x1d9644)=>{const _0x3b0e02=_0x369c76;let _0x539a75=await this[_0x3b0e02(0x47d)]({'request':_0x2a9186,'schema':mi,'ClassRef':xt,'execute':(_0x29b003,_0xb960f0)=>Is[_0x3b0e02(0x823)](_0x29b003,_0xb960f0)});_0x1d9644['status'](0xc9)[_0x3b0e02(0x7e5)](_0x539a75);})[_0x369c76(0x7eb)](this['routerPath'](_0x369c76(0x2f6)),..._0x5c7bbc,async(_0x3b5418,_0x350218)=>{const _0x40e3af=_0x369c76;let _0x447df6=await this[_0x40e3af(0x47d)]({'request':_0x3b5418,'schema':v,'ClassRef':M,'execute':_0x43a9a9=>Is['findWebhook'](_0x43a9a9)});_0x350218[_0x40e3af(0x5f7)](0xc8)[_0x40e3af(0x7e5)](_0x447df6);});}},Mi=require(a0_0x2a87a6(0x611)),y=new $(a0_0x2a87a6(0x13e)),Pt=class extends G{constructor(..._0x4022d8){const _0x5de314=a0_0x2a87a6;super(),this[_0x5de314(0x827)]=(0x0,Mi[_0x5de314(0x376)])(),this[_0x5de314(0x827)]['post'](this[_0x5de314(0x489)](_0x5de314(0x271)),..._0x4022d8,async(_0x521016,_0x3d7f78)=>{const _0x187b32=_0x5de314;let _0x4aff69=_0x521016['body'];y['verbose'](_0x187b32(0x1cd)),y['verbose']('request\x20body:\x20'),y[_0x187b32(0x216)](_0x521016[_0x187b32(0x5cc)]);let _0x19ebbd=await this['dataValidate']({'request':_0x521016,'schema':v,'ClassRef':M,'execute':_0xce796d=>T[_0x187b32(0x490)](_0xce796d,_0x4aff69)});_0x3d7f78[_0x187b32(0x5f7)](0xc8)[_0x187b32(0x7e5)](_0x19ebbd);})['get'](this['routerPath'](_0x5de314(0x271)),..._0x4022d8,async(_0x443ef0,_0x29c22e)=>{const _0x44010d=_0x5de314;let _0x56d2a3=await this['dataValidate']({'request':_0x443ef0,'schema':v,'ClassRef':M,'execute':_0x27169b=>T[_0x44010d(0x7a8)](_0x27169b)});_0x29c22e[_0x44010d(0x5f7)](0xc8)['json'](_0x56d2a3);})[_0x5de314(0x17e)](this[_0x5de314(0x489)](_0x5de314(0x732)),..._0x4022d8,async(_0x9fa00f,_0x44ee72)=>{const _0x5de221=_0x5de314;y['verbose'](_0x5de221(0x775));let _0x19306f=await this[_0x5de221(0x47d)]({'request':_0x9fa00f,'schema':v,'ClassRef':M,'execute':_0x527619=>T[_0x5de221(0x732)](_0x527619)});_0x44ee72[_0x5de221(0x5f7)](0xc8)[_0x5de221(0x7e5)](_0x19306f);})[_0x5de314(0x641)](this[_0x5de314(0x489)]('startFlow'),..._0x4022d8,async(_0x2e3fdb,_0x239d8b)=>{const _0x1b6f2f=_0x5de314;let _0xbeea29=_0x2e3fdb['body'];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x1b6f2f(0x216)](_0x1b6f2f(0x7b5)),y[_0x1b6f2f(0x216)](_0x2e3fdb[_0x1b6f2f(0x5cc)]);let _0x1e93b7=await this[_0x1b6f2f(0x47d)]({'request':_0x2e3fdb,'schema':v,'ClassRef':M,'execute':_0x1ca94b=>T[_0x1b6f2f(0x181)](_0x1ca94b,_0xbeea29)});_0x239d8b['status'](0xc8)[_0x1b6f2f(0x7e5)](_0x1e93b7);})[_0x5de314(0x7eb)](this[_0x5de314(0x489)](_0x5de314(0x1e1)),..._0x4022d8,async(_0x2af692,_0x19fe15)=>{const _0x3ebd2b=_0x5de314;y[_0x3ebd2b(0x216)](_0x3ebd2b(0x5d5));let _0x137164=await this[_0x3ebd2b(0x47d)]({'request':_0x2af692,'schema':v,'ClassRef':M,'execute':_0x8c47af=>T['getAutomateSystem'](_0x8c47af)});_0x19fe15[_0x3ebd2b(0x5f7)](0xc8)[_0x3ebd2b(0x7e5)](_0x137164);})['get'](this['routerPath'](_0x5de314(0x187)),..._0x4022d8,async(_0x5c3bb9,_0x338b89)=>{const _0x51f73c=_0x5de314;y['verbose'](_0x51f73c(0x3ac));let _0x3565e6=await this[_0x51f73c(0x47d)]({'request':_0x5c3bb9,'schema':v,'ClassRef':M,'execute':_0x5b6f22=>T[_0x51f73c(0x1e1)](_0x5b6f22)});_0x338b89[_0x51f73c(0x5f7)](0xc8)['json'](_0x3565e6);})[_0x5de314(0x641)](this[_0x5de314(0x489)]('updateAgent'),..._0x4022d8,async(_0x2904da,_0x245386)=>{const _0x18a61e=_0x5de314;let _0xbd8caa=_0x2904da[_0x18a61e(0x5cc)];y['verbose']('request\x20received\x20in\x20updateAgent'),y[_0x18a61e(0x216)]('request\x20body:\x20'),y[_0x18a61e(0x216)](_0x2904da['body']);let _0x4f19b0=await this['dataValidate']({'request':_0x2904da,'schema':v,'ClassRef':M,'execute':_0x157851=>T[_0x18a61e(0x6c2)](_0x157851,_0xbd8caa)});_0x245386[_0x18a61e(0x5f7)](0xc8)[_0x18a61e(0x7e5)](_0x4f19b0);})[_0x5de314(0x641)](this[_0x5de314(0x489)]('updateCustomFields'),..._0x4022d8,async(_0x37d7ac,_0x1d8305)=>{const _0x2ac33b=_0x5de314;let _0x49edb1=_0x37d7ac[_0x2ac33b(0x5cc)];y[_0x2ac33b(0x216)](_0x2ac33b(0x1ca)),y[_0x2ac33b(0x216)]('request\x20body:\x20'),y[_0x2ac33b(0x216)](_0x37d7ac['body']);let _0xe15b44=await this['dataValidate']({'request':_0x37d7ac,'schema':v,'ClassRef':M,'execute':_0x2a6636=>T[_0x2ac33b(0x228)](_0x2a6636,_0x49edb1)});_0x1d8305[_0x2ac33b(0x5f7)](0xc8)[_0x2ac33b(0x7e5)](_0xe15b44);})[_0x5de314(0x641)](this[_0x5de314(0x489)](_0x5de314(0x20a)),..._0x4022d8,async(_0x49ef69,_0x1a0a3b)=>{const _0x26b1fb=_0x5de314;let _0x1fa97b=_0x49ef69[_0x26b1fb(0x5cc)];y[_0x26b1fb(0x216)](_0x26b1fb(0x62c)),y['verbose'](_0x26b1fb(0x7b5)),y[_0x26b1fb(0x216)](_0x49ef69[_0x26b1fb(0x5cc)]);let _0x57834c=await this[_0x26b1fb(0x47d)]({'request':_0x49ef69,'schema':v,'ClassRef':M,'execute':_0x349317=>T[_0x26b1fb(0x20a)](_0x349317,_0x1fa97b)});_0x1a0a3b[_0x26b1fb(0x5f7)](0xc8)[_0x26b1fb(0x7e5)](_0x57834c);})['post'](this[_0x5de314(0x489)](_0x5de314(0x207)),..._0x4022d8,async(_0x35a732,_0x268001)=>{const _0x1b5fa1=_0x5de314;let _0x2ae18e=_0x35a732[_0x1b5fa1(0x5cc)];y['verbose'](_0x1b5fa1(0x2ae)),y['verbose'](_0x1b5fa1(0x7b5)),y['verbose'](_0x35a732['body']);let _0x4ccbf9=await this[_0x1b5fa1(0x47d)]({'request':_0x35a732,'schema':v,'ClassRef':M,'execute':_0x31d5ef=>T[_0x1b5fa1(0x207)](_0x31d5ef,_0x2ae18e)});_0x268001['status'](0xc8)[_0x1b5fa1(0x7e5)](_0x4ccbf9);})[_0x5de314(0x641)](this['routerPath']('getConversation'),..._0x4022d8,async(_0x12c43f,_0x17e934)=>{const _0xafa8eb=_0x5de314;let _0x930c3f=_0x12c43f['body'];y['verbose'](_0xafa8eb(0x451)),y[_0xafa8eb(0x216)]('request\x20body:\x20'),y[_0xafa8eb(0x216)](_0x12c43f['body']);let _0x3a636c=await this['dataValidate']({'request':_0x12c43f,'schema':v,'ClassRef':M,'execute':_0x3e0c95=>T['getConversation'](_0x3e0c95,_0x930c3f)});_0x17e934['status'](0xc8)[_0xafa8eb(0x7e5)](_0x3a636c);})[_0x5de314(0x641)](this[_0x5de314(0x489)]('fetchConversation'),..._0x4022d8,async(_0x4cc858,_0x55efac)=>{const _0x5f3e9e=_0x5de314;let _0x5caf28=_0x4cc858[_0x5f3e9e(0x5cc)];y[_0x5f3e9e(0x216)]('request\x20received\x20in\x20fetchConversation'),y[_0x5f3e9e(0x216)]('request\x20body:\x20'),y[_0x5f3e9e(0x216)](_0x4cc858[_0x5f3e9e(0x5cc)]);let _0x34de66=await this[_0x5f3e9e(0x47d)]({'request':_0x4cc858,'schema':v,'ClassRef':M,'execute':_0x106e4c=>T[_0x5f3e9e(0x1d7)](_0x106e4c,_0x5caf28)});_0x55efac[_0x5f3e9e(0x5f7)](0xc8)[_0x5f3e9e(0x7e5)](_0x34de66);})['post'](this['routerPath'](_0x5de314(0x27c)),..._0x4022d8,async(_0x2cd5e1,_0x3faf94)=>{const _0x4a160c=_0x5de314;let _0x34f94d=_0x2cd5e1[_0x4a160c(0x5cc)];y[_0x4a160c(0x216)](_0x4a160c(0x4fd)),y[_0x4a160c(0x216)](_0x4a160c(0x7b5)),y[_0x4a160c(0x216)](_0x2cd5e1[_0x4a160c(0x5cc)]);let _0x3cb488=await this[_0x4a160c(0x47d)]({'request':_0x2cd5e1,'schema':v,'ClassRef':M,'execute':_0x2e8bcb=>T['editConversation'](_0x2e8bcb,_0x34f94d)});_0x3faf94[_0x4a160c(0x5f7)](0xc8)[_0x4a160c(0x7e5)](_0x3cb488);})[_0x5de314(0x17e)](this['routerPath'](_0x5de314(0x2ff)),..._0x4022d8,async(_0x3f912d,_0xa1aa58)=>{const _0x48d60d=_0x5de314;let _0x245a0=_0x3f912d[_0x48d60d(0x5cc)];y[_0x48d60d(0x216)](_0x48d60d(0x651)),y[_0x48d60d(0x216)](_0x48d60d(0x7b5)),y['verbose'](_0x3f912d[_0x48d60d(0x5cc)]);let _0x2a3f1a=await this['dataValidate']({'request':_0x3f912d,'schema':v,'ClassRef':M,'execute':_0x5cf798=>T['deleteConversation'](_0x5cf798,_0x245a0)});_0xa1aa58['status'](0xc8)[_0x48d60d(0x7e5)](_0x2a3f1a);})[_0x5de314(0x641)](this['routerPath'](_0x5de314(0x523)),..._0x4022d8,async(_0x1008e0,_0x11069b)=>{const _0x3df39e=_0x5de314;let _0x50edee=_0x1008e0['body'],_0x104569=_0x1008e0[_0x3df39e(0x24c)]['apikey'];y[_0x3df39e(0x216)](_0x3df39e(0x50f)),y[_0x3df39e(0x216)](_0x3df39e(0x7b5)),y['verbose'](_0x1008e0[_0x3df39e(0x5cc)]);let _0x54877a=await this['dataValidate']({'request':_0x1008e0,'schema':v,'ClassRef':M,'execute':_0x4e5182=>T[_0x3df39e(0x73e)](_0x4e5182,_0x50edee,_0x104569)});_0x11069b[_0x3df39e(0x5f7)](0xc8)[_0x3df39e(0x7e5)](_0x54877a);})[_0x5de314(0x641)](this[_0x5de314(0x489)](_0x5de314(0x53f)),..._0x4022d8,async(_0x3bcfb8,_0x353988)=>{const _0x5a3cbd=_0x5de314;let _0x329bbe=_0x3bcfb8[_0x5a3cbd(0x5cc)],_0xfa304e=_0x3bcfb8[_0x5a3cbd(0x24c)][_0x5a3cbd(0x725)];y[_0x5a3cbd(0x216)](_0x5a3cbd(0x600)),y['verbose']('request\x20body:\x20'),y[_0x5a3cbd(0x216)](_0x3bcfb8['body']),delete _0x329bbe['blocks'],delete _0x329bbe['variables'],delete _0x329bbe[_0x5a3cbd(0x5d2)],delete _0x329bbe[_0x5a3cbd(0x80b)];let _0x1373a1=await this[_0x5a3cbd(0x47d)]({'request':_0x3bcfb8,'schema':v,'ClassRef':M,'execute':_0x5db81c=>T[_0x5a3cbd(0x570)](_0x5db81c,_0x329bbe,_0xfa304e)});_0x353988[_0x5a3cbd(0x5f7)](0xc8)[_0x5a3cbd(0x7e5)](_0x1373a1);})['post'](this['routerPath']('editflowblock'),..._0x4022d8,async(_0x3fb9aa,_0x49c337)=>{const _0x4140d7=_0x5de314;let _0x1f15f7=_0x3fb9aa['body'];y['verbose'](_0x4140d7(0x600)),y['verbose'](_0x4140d7(0x7b5)),y[_0x4140d7(0x216)](_0x3fb9aa[_0x4140d7(0x5cc)]);let _0x88dacc=await this[_0x4140d7(0x47d)]({'request':_0x3fb9aa,'schema':v,'ClassRef':M,'execute':_0x16f1f=>T[_0x4140d7(0x32c)](_0x16f1f,_0x1f15f7)});_0x49c337[_0x4140d7(0x5f7)](0xc8)[_0x4140d7(0x7e5)](_0x88dacc);})[_0x5de314(0x641)](this[_0x5de314(0x489)](_0x5de314(0x550)),..._0x4022d8,async(_0x44bf50,_0x56f267)=>{const _0x140c35=_0x5de314;let _0x1e747f=_0x44bf50[_0x140c35(0x5cc)];y[_0x140c35(0x216)](_0x140c35(0x600)),y[_0x140c35(0x216)](_0x140c35(0x7b5)),y[_0x140c35(0x216)](_0x44bf50[_0x140c35(0x5cc)]);let _0x5ecfe6=await this['dataValidate']({'request':_0x44bf50,'schema':v,'ClassRef':M,'execute':_0x1e3672=>T[_0x140c35(0x700)](_0x1e3672,_0x1e747f)});_0x56f267['status'](0xc8)[_0x140c35(0x7e5)](_0x5ecfe6);})[_0x5de314(0x641)](this[_0x5de314(0x489)](_0x5de314(0x4d7)),..._0x4022d8,async(_0x3ddb23,_0x1ba7a1)=>{const _0x4d71bf=_0x5de314;let _0x308d04=_0x3ddb23[_0x4d71bf(0x5cc)];y[_0x4d71bf(0x216)]('request\x20received\x20in\x20editFlow'),y[_0x4d71bf(0x216)]('request\x20body:\x20'),y[_0x4d71bf(0x216)](_0x3ddb23[_0x4d71bf(0x5cc)]);let _0x1cba12=await this[_0x4d71bf(0x47d)]({'request':_0x3ddb23,'schema':v,'ClassRef':M,'execute':_0x4e473b=>T[_0x4d71bf(0x4f0)](_0x4e473b,_0x308d04)});_0x1ba7a1[_0x4d71bf(0x5f7)](0xc8)[_0x4d71bf(0x7e5)](_0x1cba12);})[_0x5de314(0x641)](this[_0x5de314(0x489)]('editflowgroup'),..._0x4022d8,async(_0x4eaf92,_0x28c504)=>{const _0x204f59=_0x5de314;let _0xe7eacb=_0x4eaf92['body'];y[_0x204f59(0x216)](_0x204f59(0x3ba)),y[_0x204f59(0x216)](_0x204f59(0x7b5)),y[_0x204f59(0x216)](_0x4eaf92[_0x204f59(0x5cc)]);let _0x3fccc7=await this[_0x204f59(0x47d)]({'request':_0x4eaf92,'schema':v,'ClassRef':M,'execute':_0x662ce0=>T[_0x204f59(0x595)](_0x662ce0,_0xe7eacb)});_0x28c504['status'](0xc8)[_0x204f59(0x7e5)](_0x3fccc7);})['post'](this['routerPath'](_0x5de314(0x681)),..._0x4022d8,async(_0x42d5a8,_0x43663a)=>{const _0x4bb32b=_0x5de314;let _0x4febe1=_0x42d5a8[_0x4bb32b(0x5cc)];y['verbose'](_0x4bb32b(0x204)),y[_0x4bb32b(0x216)](_0x4bb32b(0x7b5)),y['verbose'](_0x42d5a8[_0x4bb32b(0x5cc)]);let _0x4c44a0=await this[_0x4bb32b(0x47d)]({'request':_0x42d5a8,'schema':v,'ClassRef':M,'execute':_0x389eb8=>T['editFlowCondition'](_0x389eb8,_0x4febe1)});_0x43663a[_0x4bb32b(0x5f7)](0xc8)[_0x4bb32b(0x7e5)](_0x4c44a0);})[_0x5de314(0x641)](this[_0x5de314(0x489)](_0x5de314(0x31e)),..._0x4022d8,async(_0x2a1b0b,_0x4380e7)=>{const _0x10edc0=_0x5de314;let _0x270a11=_0x2a1b0b[_0x10edc0(0x5cc)];y['verbose'](_0x10edc0(0x30e)),y['verbose']('request\x20body:\x20'),y[_0x10edc0(0x216)](_0x2a1b0b[_0x10edc0(0x5cc)]);let _0x55eb81=await this[_0x10edc0(0x47d)]({'request':_0x2a1b0b,'schema':v,'ClassRef':M,'execute':_0x4fc82e=>T[_0x10edc0(0x323)](_0x4fc82e,_0x270a11)});_0x4380e7[_0x10edc0(0x5f7)](0xc8)['json'](_0x55eb81);})[_0x5de314(0x641)](this[_0x5de314(0x489)](_0x5de314(0x5b7)),..._0x4022d8,async(_0x5b5e88,_0x36dc37)=>{const _0xccc6f8=_0x5de314;let _0x5d6c92=_0x5b5e88[_0xccc6f8(0x5cc)];y['verbose'](_0xccc6f8(0x579)),y['verbose']('request\x20body:\x20'),y[_0xccc6f8(0x216)](_0x5b5e88[_0xccc6f8(0x5cc)]);let _0x57c6ac=await this[_0xccc6f8(0x47d)]({'request':_0x5b5e88,'schema':v,'ClassRef':M,'execute':_0x453d2d=>T[_0xccc6f8(0x739)](_0x453d2d,_0x5d6c92)});_0x36dc37[_0xccc6f8(0x5f7)](0xc8)['json'](_0x57c6ac);})[_0x5de314(0x17e)](this[_0x5de314(0x489)](_0x5de314(0x2fb)),..._0x4022d8,async(_0x1a0307,_0x23adc4)=>{const _0x263cd3=_0x5de314;let _0x586efb=_0x1a0307[_0x263cd3(0x5cc)];y['verbose']('request\x20received\x20in\x20deleteFlow'),y[_0x263cd3(0x216)](_0x263cd3(0x7b5)),y[_0x263cd3(0x216)](_0x1a0307['body']);let _0x31b4bf=await this[_0x263cd3(0x47d)]({'request':_0x1a0307,'schema':v,'ClassRef':M,'execute':_0x386b85=>T['deleteFlow'](_0x386b85,_0x586efb)});_0x23adc4[_0x263cd3(0x5f7)](0xc8)[_0x263cd3(0x7e5)](_0x31b4bf);})[_0x5de314(0x7eb)](this[_0x5de314(0x489)](_0x5de314(0x89a)),..._0x4022d8,async(_0x51baeb,_0x227ec4)=>{const _0x374609=_0x5de314;y['verbose'](_0x374609(0x6df));let _0x2b4373=await this[_0x374609(0x47d)]({'request':_0x51baeb,'schema':v,'ClassRef':M,'execute':_0x14621a=>T[_0x374609(0x5bc)](_0x14621a)});_0x227ec4['status'](0xc8)[_0x374609(0x7e5)](_0x2b4373);});}},Ni=I(require(a0_0x2a87a6(0x339))),oe={};function Ci(_0x2940de,_0x5a035f,_0x120ca7,_0x2674a7){oe[_0x2940de]||(oe[_0x2940de]={}),oe[_0x2940de][_0x5a035f]={'id':_0x5a035f,'response':_0x120ca7,'events':_0x2674a7};}function Ei(_0x42436b,_0x7ec94c){!oe[_0x42436b]||!oe[_0x42436b][_0x7ec94c]||delete oe[_0x42436b][_0x7ec94c];}function a0_0x4c91(){const _0xf43abb=['-whatsapp-api','#92ceac','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20whoCanUse\x20before\x20validation:\x20','padStart','insertCount','isAdmin','participant','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20Ler\x20mensagem','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','unknown\x20operation\x20type\x20[','whatsappNumber','pt-BR','Erro\x20ao\x20adicionar\x20label\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','some','json','groupValidate','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','createSectionsFromValues','isListOfNumbers','):Audio\x20converted\x20and\x20stored\x20in\x20cache','get','lastRealGroupsFetch','isRunning','update','startCommand','lastBlockId','optionDescription','dayjs','.txt','instanceKeys','/wa-groups','/chat','ChatRouter','flowName','pollCreationMessageKey','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','findOrCreate','Flow\x20iniciado','Read\x20messages','50mb','getVariablesChat','messageId','):Sending\x20audio\x20whatsapp','REDIS_PREFIX_KEY','/instance/connect','.pptx','js-yaml','notEmpty','method','\x27\x20do\x20banco\x20de\x20dados...','TYPE','8080','conditions','Telefone:\x20','uazapiSendText','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Criando\x20fluxo...','now','updateReadReceiptsPrivacy','sendList','muteEndTime','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','finish','updateMissingEtiquetas','height','app-state-sync-key','revokeInviteCode','.mimetype','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','URL:','optionName',',\x20valor\x20passado:\x20\x22','METHODS','Erro\x20ao\x20atualizar\x20o\x20flow.','/wa-chats','):\x20Deletando\x20conversa...','createWebhook','\x1b[44m','uazapiSendMedia','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','router','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','instanceInfo','logger','Retornando\x20grupos\x20SEM\x20cache','proxy:\x20','automateSystem','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','connectedName','Limpando\x20logs\x20do\x20PM2...','truncatedtoEnd','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','imported','timeInMinutes','createConnection','statusCode','generateWAMessageFromContent','getContactModelForOwner','URI','):\x20conversation.lastInteraction:\x20','userDevicesCache','deleteImportedChat','groupRequestParticipantsList','delAll','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','stopWhenYouSendMsg','phoneNumber','API_KEY','leadInfo.desativadoFluxoAte','selectedOptions','Garbage\x20collection\x20não\x20está\x20disponível.','EMAIL:','\x20-i\x20','fileLength','FULLCHAIN','):\x20Going\x20to\x20','ip:\x20','prepareWAMessageMedia','linkPreview','importChatsBatch','Falhou\x20ao\x20encontrar\x20chat\x20','File\x20written\x20to\x20path:\x20','updateGParticipate','imagechat','createConversationforStartFlow','\x1b[0m','sendMedia','imageMessage','newStoppedUntil','CHATS_SET','then','reorderBlocks','editedMessage','deletedCount','notMatchRegex','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','Not\x20allowed\x20by\x20CORS','senderKeyDistributionMessage','createClient','model','copyBlock','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','Nenhum\x20fluxo\x20correspondente\x20encontrado.','.ogg','No\x20suitable\x20network\x20interface\x20found','text/event-stream','markMessageAsRead','Mensagens\x20deletadas\x20com\x20sucesso.','):\x20\x27Enviando\x20mídia\x20para\x20\x27','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Esse\x20fluxo\x20expirou','Erro\x20ao\x20normalizar\x20a\x20mensagem:','PORT','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','fetchInstances','release','https://uazapi-plugin.bubbleapps.io/?url=','.gif','hGet','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','unlinkSync','\x20adicionado\x20ao\x20chat\x20','Pausado\x20por\x20','LOG_LEVEL','CONTACTS_UPSERT','REDIS_URI','delayChatLabel_RETRY_DELAY_MS','folder',',\x20Minutes\x20to\x20Close:\x20','inviteUrl','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','reduce','findMany','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','):\x20newFirstValue\x20após\x20replaceVariables:','ORG:','checkMutex','longitude','PROXY','processclearVariables','ListMessage','):\x20\x27Enviando\x20audio\x20para\x20\x27','The\x20global\x20api\x20key\x20must\x20be\x20set','pollMessageOnDelete','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','hex','isJidGroup','selectableCount','closed','Erro\x20ao\x20buscar\x20fluxos:','deviceSentMessage','tags','creds','allflows','Erro\x20ao\x20editar\x20o\x20chat','resetReconnectionVariables','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','add','group','1427780SDnIHP','pollMessage','lean','Erro\x20ao\x20remover\x20label\x20','uncaughtException','cache','FlowRouter','):\x20Editando\x20condição\x20do\x20fluxo...','\x20contacts','\x20Tentativa\x20de\x20reconexão\x20','contentText','canSendMessage','dropCollection','):\x20Procurando\x20conversa','getScheduleMessageModelForOwner','):\x20Entrou\x20na\x20função\x20processawaitSeconds','hbs','Partes\x20do\x20caminho\x20FULLCHAIN:','image','#56ccb4','LOG','scheduleSendMedia','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','):\x20\x27Deletando\x20fluxo,\x20id:\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','output','Fluxo\x20agendado\x20pelo\x20fluxo\x20','extractRegex','dark','redis','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','DATABASE_CONNECTION_PASSWORD','/startFlow/:instance/:startID','processPollUpdateMessage','stringify','saveVariable','ip\x20-6\x20addr\x20show\x20dev\x20','waMonitor','ENABLED','):\x20delete\x20=\x20true','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','groupGetInviteInfo','collections','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','removeData','processConditionsTest','create','.\x20Aguardando\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Internal\x20Server\x20Error','createInstance','#9568cf','Generated\x20IPv6:\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','/wa-contacts','delayMessage','mentions','keys','jid','Número\x20não\x20possui\x20WhatsApp.','descId','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','collection','/wa-message-update','https://chat.whatsapp.com/','arraybuffer','filter','groupDesc','delete','):\x20Envio\x20interrompido\x20devido\x20a\x20UUID\x20de\x20processo\x20não\x20corresponder.','Valor\x20inicial:\x20\x22','startFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','sendMessageWithTyping','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','contactsArrayMessage','inviteCode','getTicketSystem','.type','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','removed','Safari','/group','view\x20engine','Cache\x20instance\x20update\x20result:\x20','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','findFlow','):\x20Label\x20','):\x20Entrou\x20na\x20função\x20clearVariables','):\x20whoCanEdit\x20before\x20validation:\x20','798ThDNUc','GROUP_PARTICIPANTS_UPDATE','mongoose','myAppStateKeyId','public','\x20}\x0a','createConversationforgoToFlow','getValidWhatsAppNumbers','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Network\x20Interface\x20detected:\x20','less','sendButtons','Connection','):\x20Iniciando\x20bot...','url','fetchChats','log','beforeExit','generateRandomIPv6','messages.update','convertedOptions','contains','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Fluxo\x20não\x20encontrado\x20na\x20memória.','load','greater','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','getMessageModelForOwner','mentioned','):\x20Comando\x20desconhecido:\x20','groupdata','KEY','onWhatsApp','readFile','Erro\x20ao\x20atualizar\x20conversa:\x20','pino','processUazapi','util','STORE_CLEANING_TERMINAL','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','This\x20name\x20','Atualização:\x20','query','):\x20Enviando\x20mídia','whatsappNumbers','):\x20Bloco\x20original\x20para\x20cópia:\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','Erro\x20inesperado\x20em\x20processvaredits:\x20','waUploadToServer','findGroups','randomMac','):\x20Chat\x20','HeaderType','.doc','request\x20received\x20in\x20updateCustomFields','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','preview','request\x20received\x20in\x20scheduleMessage','connectedClient','):\x20Criando\x20nova\x20conversa[createNewConversation]','isConnected','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','Erro\x20de\x20atualização:\x20','updateGParticipant','leadInfo.etiquetas',',\x20isAdmin:\x20','ERROR','fetchConversation','_Contacts','replacer','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20','paused','Rótulo\x20deletado:\x27,\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20',',\x20global:\x20','AppStateSyncKeyData','getAutomateSystem','MESSAGES_UPDATE','GROUPS_UPDATE','groups.update','\x22\x20cannot\x20be\x20empty','WARN','\x27\x20não\x20encontrado','\x27...','*\x0a\x0a','processConditions','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','contacts.update','fetchBusinessProfile','replace','redis://127.0.0.1:6379','):\x20Error\x20processing\x20the\x20block:\x20','temp-','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','archive','\x20is\x20already\x20in\x20use.','RECONNECT_TIME_FRAME','https://','statusJidList','50910508VAEugf','Subscribed\x20Events:','AddUserFlow','Message','PLAYED','Bad\x20Request','fetchContacts','Instância:\x20','owner','atendimentoAberto','IPv6\x20Prefix\x20detected:\x20','toLowerCase','request\x20received\x20in\x20editFlowcondition','dbServer','deleted','updateFlowConfig','flowPrefixCommand','The\x20property\x20cannot\x20be\x20empty','updateAutoCompleteMessages','participants','):\x20Enviando\x20contato','uazapi','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','groupadd','text','groupToggleEphemeral','DELETED','validate','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','joinGroup','verbose','toArray','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','application/json','writeData','maxActives','deleteInstance','scheduled','.xls','deleteChat','):\x20whoCanEdit\x20after\x20validation:\x20','Forbidden','variable','empty','nome','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):Type\x20defined\x20as\x20audio','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','updateCustomFields','\x1b[42m','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','sectionsToString','mediatype','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','/events','DATABASE_CONNECTION_DB_PREFIX_NAME','sim','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','not_announcement','Error\x20parsing\x20JSON:','Error\x20adding\x20IPv6\x20address:\x20','profileName','Erro\x20ao\x20encerrar\x20a\x20API','_Labels','protocolMessage','Esse\x20fluxo\x20não\x20permite\x20importação.','\x20quoted:\x20','sendPoll','):\x20Não\x20achou\x20nenhum\x20flow','sendMessage','Configuração\x20SSL\x20recuperada:','pollErrorMessage','importChats','getDelay','#fed428','upsertChats','exports','BufferJSON','removeUnusedChatFields','Instance\x20ID:','customFields','newValue','-instances','DEBUG','headers','lastSendMessage','subject','VERBOSE','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','\x22\x20-\x20NOT\x20CONNECTION','Erro\x20ao\x20tentar\x20updateCustomFields','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','$dbName','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','node-cache','every','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','split','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','CONTACTS_SET','\x1b[37m%s\x1b[0m','document','bodyString','#9ba6ff','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','RemoteJid:','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','groupBetterSetting','Falha\x20ao\x20recriar\x20IPv6.','/clients-info','JWT','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','slice','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','hasOwnProperty','groupUpdateDescription','Retornando\x20grupos\x20COM\x20cache','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','vcard','scheduleMessage','isArray','removeProfilePicture','archived','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','StartID:','valid','idSchedule','@s.whatsapp.net','Instâncias\x20removidas:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','editConversation','Erro\x20ao\x20deletar\x20mensagens:','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','convertaudio','editFlowCondition','Não\x20respondeu\x20com\x20a\x20enquete.','Instance\x20Name:','Erro\x20ao\x20iniciar\x20o\x20fluxo.','composing','.X-ABLabel:Celular\x0a','cacheInstanceRepository','URL','value','Novo\x20IP\x20criado:\x20','application/octet-stream','BRL','\x20inseridas\x20no\x20banco\x20de\x20dados...',']\x20(','Erro\x20ao\x20buscar\x20a\x20conversa','Operador:\x20\x22','reviver','\x20ao\x20chat\x20','DELIVERY_ACK','inet6','https://api.ipify.org?format=json','created','messageTimestamp','[AUTH]\x20Database\x20is\x20not\x20enabled','ignoreGroups','startsWith','_fromMe','CacheContacts\x20database\x20connection\x20closed.','isInteger','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','use','groupRevokeInvite','\x20segundos\x20antes\x20de\x20reconectar...','DATABASE','exit','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','Error\x20updating\x20cache\x20contact:','):\x20atualização\x20chat:\x20','.\x20Pulando.','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','statSync','saveCreds','):Delete\x20chat','@broadcast','LOG_COLOR','keep-alive','request\x20received\x20in\x20updateFlowConfig','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','message_normalized','unavailable','GUARD','reaction','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','Erro\x20ao\x20editar\x20o\x20bloco:\x20','approve','toDataURL','\x1b[41m','setting','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','sections','.webm','leadInfo.','number','dropIndex','delayChatLabel','/events/:instance','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','instance.','\x20do\x20chat\x20','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','https://v6.ident.me','localWebhook','isJidBroadcast','):\x20isVote:\x20','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','utf8','/instance/create','open','Comando\x20desconhecido','Type\x20not\x20found','SSL_CONF','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','updateStopChat','getPrototypeOf','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','REDIS_ENABLED','webhook','data','function','sendPresenceUpdate','addMessagesToGroup','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','SECRET','urlencoded','addChatLabel','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','Log\x20out\x20instance:\x20','API\x20Key\x20from\x20Request:','count','Início','info','https://api.elevenlabs.io/v1/text-to-speech/','equal','segundos','formatVCard','reject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','ephemeralExpiration','sign','cacheInstanceModel','.mp4','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','):\x20Mensagem\x20já\x20enviada\x20para\x20','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','uuid','recording','find','flowConversation','joinApprovalMode','_id','sharePass','deleteflow','restartInstance','#dfaef0','):Fetching\x20business\x20profile','deleteConversation','autoCompleteMessages.command_1','\x1b[1m','#6f7bcf','removeIPv6ById','REDIS','removeChatLabel','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):\x20error:\x20','getChatModelForOwner','autoCompleteMessages','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','getAllData','USER','length','request\x20received\x20in\x20editFlowvariable','pop','uazapiSendMenu','replyOption','buttonText','/wa-qrcode','loadWebhook','unhandledRejection','https','ids','XX:XX:XX:XX:XX:XX','textMessage','updateOneById','unlocked','organization','notify','editflowvariable','Font\x20is\x20required','Nenhum\x20participante\x20válido\x20encontrado.','\x20minutos.\x20Será\x20às\x20','getMessage','editFlowVariable','pictureUrl','content','inner','getLastMessage','flowConfig','OrAnd','testingWith','refused','editFlowBlock','sharp','setRestartTimeout','forEach','lastUpdate','vote','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','convertaudioMP3','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','fetchMessages','uazapiSendLocation','https://api.openai.com/v1/images/generations','remove','path','\x20tentativas.','lastSend','indexOf','Selecione','createGroup','write','chatId','child_process','displayName','updateChatWithMessage','Erro\x20ao\x20copiar\x20o\x20documento','available','pushName','config','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','key','):\x20alterando\x20this.AutomateSystem','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Last\x20message\x20not\x20found','condition','pre','downloadMediaMessage','status.instance','onTime','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','contacts','apiResponse','async-mutex','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Error\x20testing\x20IP\x20with\x20','Types','stopIfLastReturnedError','static','urlOrBase64','initAuthCreds','utf-8','@ffmpeg-installer/ffmpeg','configureIPv6','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','scheduleNextCheck','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','#64c4ff','):\x20conversation.waitingMenu_name','docker','name','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','END:VCARD','):\x20Conversa\x20atualizada\x20em\x20memória','sendDataWebhook','envYaml','unreadcount','title','waitingMenu_replyOptions','format','expression','Flow\x20\x27','notas','goNextblock','HOST','messages.upsert','Router','Error\x20finding\x20many\x20contacts:','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Erro\x20ao\x20iniciar\x20fluxo:\x20','https://uazapi-plugin.bubbleapps.io/','\x20não\x20encontrado','menuIgnoreNonVotes','encoding','listMessage','variables','startID','lastCondition','Erro\x20ao\x20inserir\x20chats:','compression','/media','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...',',\x20pairCode:\x20','CORS_CREDENTIALS','/*.json','truncatedto','NextBlock','demote','Detalhes\x20do\x20erro:','flowStopMinutes','charAt','redisEnv','Usando\x20IP\x20existente:\x20','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','chatHandle','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','readdirSync','defineAuthState','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','connectionClosed','@g.us','addresss','sendMenu','redirect','Not\x20Found','and','pendingMessages','insert','pollUpdateMessage','ContactModel','uazapiDeleteMessage','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',',\x20valor\x20a\x20encontrar:\x20\x22','global','groupJid','updateAll','SEND_MESSAGE','\x1b[30m%s\x1b[0m','stopped','Erro\x20ao\x20atualizar\x20AutomateSystem:','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Schema','object','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','poll','groupSetting','createNewConversation','\x20\x1b[0m','formatStatusMessage','toFile','\x20saindo\x20da\x20função','INFO','mediaMessage','CORS','request\x20received\x20in\x20editFlowgroup','getHours','deleteMessage','audioMessage','\x0a*Você\x20respondeu*:\x0a','?authSource=admin&readPreference=primary&directConnection=true','everyOne','type','_ScheduleMessages','Mutex','startFlowWebhook','):\x20Editando\x20edição\x20do\x20fluxo...','fora\x20do\x20git','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','CHATS_UPDATE','\x1b[46m','exec','conversation','pollCreationMessageV2','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Query\x20params:','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','block','backgroundColor','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','\x20depois\x20','):Archiving\x20chat','drop','.ogv','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','list','sendText','success','Error\x20removing\x20unused\x20chat\x20fields:','reconnectTimestamps','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','secondValue','padEnd','capitalizedWords','importChatsAntigo','all','transformScheduledMessagesByType','stopMinutes','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','):\x20Enviando\x20texto','\x1b[37m','next_groupId','Enter\x20a\x20value\x20in\x20milliseconds','findAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Erro\x20ao\x20editar\x20a\x20conversa','stdout','mongodb','\x1b[43m','DARK',',\x20resultado:\x20','findIndex','):Error\x20in\x20converting\x20audio','.svg','code','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20newSecondValue\x20após\x20replaceVariables:','error\x20get\x20vote','warn','findGroupsEspecial','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','email','verify','\x20and\x20data:','checkAndRestartProcess','Error\x20updating\x20message\x20status:','stderr','last','saveMediaToFile','SERVER_OFFLINE','description','flattenObject','findConversation','call','#d8e651','):\x20debug\x20alterando\x20this.AutomateSystem','Db\x20Connection','Erro\x20ao\x20atualizar\x20o\x20fluxo:','updateProfilePicture','console','replaceValue','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','documentMessage','whoCanEdit','ObjectId','audio','fetchStatus','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','connectionState','Bloco\x20com\x20ID\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','getProfileName','labels.association','/instance/fetchInstances','promote','/exit','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','AutomateSystem\x20não\x20foi\x20inicializado','command','last_update','profilePicture','pairingCode','PRESENCE_UPDATE','nomecompleto','groupdata.participants','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','currency','delaySecMin','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','subjectTime','groupInviteCode','retrySendMessage','findByIdAndUpdate','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','start','.webp','Erro\x20ao\x20buscar\x20conversas','data:\x20','StartBot','buffer','parseInt','action','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','isBusiness','proto','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.',',\x20fará\x20nova\x20verificação\x20em\x20','SendScheduleMessage','option','leadInfo','enviado\x20para','reconnectAttempts','readData','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','env','/wa-all-message','groupRequestParticipantsUpdate','arrayUnique','errors','\x1b[33m\x1b[1m','lastInteraction','):Processing\x20audio','PRODUCT_LIST','getOwnPropertyNames','request\x20received\x20in\x20getConversation','flow','updateMissingTags','min','IP\x20mismatch:\x20configured\x20','wuid','COLOR','/wa-connection-update','All_Instances_Config','ScheduleMessageModel','\x0aFN:','_p_','Primeiro\x20Valor:\x20','has','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','sem\x20texto\x20na\x20mensagem','Connection\x20closed\x20for\x20instance:\x20','online','locationMessage','match_last_seen','deleteAll','chatModify','.TEL;waid=','updateGroupWebhook','):\x20Buscando\x20conversa...','):\x20Entrou\x20na\x20função\x20goToFlow','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Flow\x20desativado','):Temp\x20image\x20deleted','\x20minutos','#f64847','#000000','formatBRNumber','\x5cd+','):\x20Enviando\x20áudio','authState','connection.update','delayChatLabel_MAX_RETRIES','Content-Type','instance','Instance\x20restarted','setNewValue','readFileSync','client','dataValidate','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','admin','Erro\x20ao\x20aplicar\x20varedit:\x20','SERVER_PORT','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','class-validator','prepareMediaMessage','scheduleSendText','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','?timestamp=','gifPlayback','routerPath','uazapiSendAudio','PASSWORD','width','no-cache','catch','153104lhlFlB','editScheduleMessage','isValidIPv6Config','buttonMessage','leadInfo.customFields','IPv6\x20addresses\x20detected:\x20','error','Authentication\x20error','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','local_map','\x1b[31m','WA\x20MODULE','$set','IPv6\x20address\x20removed:\x20','):\x20expirationTime:\x20','save','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','cacheContact','\x20-y','unreadCount','activatedCount','shift','boolean','saveChatVariables','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','test','https://ifconfig.me/ip','replaceVariablesInReplyOptions','messageHandle','waitingMenu_text','_error','presence','ff:fe','badSession','sendStatus','fullName','Falta\x20informação\x20para\x20a\x20chamada\x20API','findAndReplaceRegex','Button\x20IDs\x20cannot\x20be\x20repeated.','waInstances','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','processgoToFlow','qrcode-terminal','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','verifiedName','audio/ogg;\x20codecs=opus','restartMutex','Conversa\x20deletada\x20com\x20sucesso.','webp','node-mime-types','round','DATABASE_CONNECTION_URI','updateProfilePicturePrivacy','.jpg','updatePrivacySettings','Erro\x20ao\x20importar\x20chats','beautifyWithPlaceholders','ON\x20-\x20dbName:\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','cwd','CONTACTS_UPDATE','findOneAndUpdate','Error\x20writing\x20file:\x20','decryptPollVote','findWebhook','oldValue','noConnection','chat\x20não\x20encontrado','authService','restrict','\x1b[33m%s\x1b[0m','params','editflowvaredit','http','descOwner','InstancesAlterarTodas','bulkWrite','isCommunityAnnounce','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','fetchLatestBaileysVersion','jwt','contact_blacklist','AUTHENTICATION_JWT_EXPIRIN_IN','AUTHENTICATION_API_KEY','CONNECTION_UPDATE','replaceVariablesInObject','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','qrcode','keyPattern','MAX_SAFE_INTEGER','Partes\x20do\x20domínio:','groupParticipantsUpdate','order','user','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','variablesToObject','editFlowVaredit','messages','dbSettings','../env.yml','):\x20Enviando\x20enquete','SSL_CONF_FULLCHAIN','Database\x20update\x20result:','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','promisify','Group\x20not\x20found','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','off','getOwnPropertyDescriptor','request\x20received\x20in\x20editConversation','9HubMIu','\x1b[40m','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','color','Removidas\x20as\x20variáveis:\x20','stack','addReplyOption','blockLogs','createJid','throwAndLogError','GROUPS_UPSERT','processawaitSeconds','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','\x0aitem','ScheduleMessage','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','LICENSE_INVALID','request\x20received\x20in\x20createFlow','parse','authentication','setUpdate','sendSticker','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','close','array','updateGroupsAddPrivacy','deleteOne','replaceVariables','send.message','contactHandle','verifyWhatsAppNumber','ContactsAndGroups','URL\x20não\x20disponível','group-participants.update','replaceVariablesLogs','superadmin','createflow','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','MessageModel','toLocaleString','14947190QSFJxh','deleteBlock','dbConnection','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','when','undefined','audioWhatsapp','join','chatLog','webhookService','/wa-message','/automate','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','existsSync','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','fromMe','env.KEY\x20!==\x20key','goToFlow','evaluateConditionTest','EXPIRIN_IN','https://github.com/uazapi/uazapi.git','#9ab6c1','#00a1f2','}}\x20->\x20valor\x20não\x20encontrado','editflow','header','):\x20Deletando\x20mensagem','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Chat\x20com\x20ID\x20','imgUrl','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','eventEmitter','send','pollCreationMessage','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','menuMessage','privacySettings','isValidAndUniqueIPv6','removeIPv6','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','\x1b[36m%s\x1b[0m','editflowreply','authorization','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','_pushName','editChat','updateOnlinePrivacy','envProcess','Rótulo\x20inválido\x20ou\x20sem\x20ID.','autoCompleteMessages.command','licenca','processUUID','1865BCndFk','normalizeMessageContent','):\x20Flow\x20\x27','trimmed','fileName','\x1b[36m','viewOnceMessage','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','getTime','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','\x20removido\x20do\x20chat\x20','findByIdAndDelete','memberAddMode','birthtime','#01d0e2','bearer','\x27\x20não\x20encontrado\x20na\x20memória','\x20minutos\x20verificará\x20novas\x20mensagens','processvaredits','$pull','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','editFlow','scheduleSendAudio','readMessageBot','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','):\x20Enviando\x20localização','blockId','_Messages','):\x20tem\x20blocks','context','request\x20received\x20in\x20getFlow','buttons','originalUrl','all_member_add','@whiskeysockets/baileys','groupCreate','updateConversation','fetchProfile','address','process','deleteMany','readMessages','exists','express-async-errors','ConversationModel','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Erro\x20ao\x20atualizar\x20agendamento\x20','entries','responsavelid','shareOwners','documentWithCaptionMessage','apirequest','spawn','rows','connecting','getStatus','saveTextReply','Instance\x20Key\x20from\x20DB:','editFlowGroup','SERVER','mediaSticker','\x20com\x20sucesso.','CONECTADO\x20À\x20UAZAPI','reactionMessage','contextInfo','lastFetchAwaitingApproval','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','deleteReplyOption','instanceCount','getDevice','endsWith','getUpdate','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','size','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','EMAIL','}}\x20->\x20\x22','sendLocation','timeout','detectIPv6PrefixAndInterface','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','pollOnReplyDelete','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','hDel','message','useMultiFileAuthState','webhookMap','Variável\x20não\x20encontrada!','statusMessage','locked','normalizeMessage','):\x20Rótulo\x20atualizado:\x20','getflow','findLabels','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','put','allFlows','):\x20Editando\x20variável\x20do\x20fluxo...','updateMissingCustomFields','fileUrl','true','writeFileSync','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','qrCode','sendContact','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','.docx','reorderReplyOptions','status@broadcast','connect','configService','scheduleFlow','body','!stop','media','isCommunity','getBase64FromMediaMessage','state','groups','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','):\x20Buscando\x20flow...','request\x20received\x20in\x20getAutomateSystem','bodyStringErrorParse','findGroupInfos',',\x20canSendMessage:\x20','Missing\x20global\x20api\x20key','sleep','Stack\x20trace:','updateGroupPicture','processingGroup','READ','[all]','lowerCase','jsonwebtoken','loadEnv',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','\x20mensagens\x20de\x20','announcement','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','fetchPrivacySettings','toUpperCase','values','groupName','applyvaredit','Background\x20color\x20is\x20required','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','):\x20conversation.status:\x20','ip6eui','findGroupInfo','username','/instance/connectionState','\x20segundos','.wav','updateMany','announce','status','pollCreationMessageV3','stopMinutesMaxActives','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','delaySecMax','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','groupMetadata','detail','setWebhook','request\x20received\x20in\x20editFlow','replaceVariablesChat','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','Request\x20Body:','evaluateCondition','Falha\x20ao\x20processar\x20fetchBusinessProfile','webhookModel','findAndReplace','isBase64','not\x20loaded','sending','Network\x20interfaces\x20detected:\x20','replaceOne','\x5c$&','jsonschema','\x1b[34m','cleanStore','express','lastMessage','.png','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','groupJoinApprovalMode','connectToWhatsapp','cachedContact','ini','Erro\x20ao\x20atualizar\x20cacheInstance:','waitingMenu_id','Module\x20-\x20ON','awaitSeconds','label','\x27\x20removido\x20do\x20AutomateSystem.','https://api.openai.com/v1/audio/speech','):\x20Entrou\x20na\x20função\x20scheduleFlow','quotedMessage','getClient','updateLastSeenPrivacy','waitingForReplyMenu','Validate','cleaningUp','PRIVKEY','):\x20Enviando\x20mensagem\x20para\x20','setHeader','connectionUpdate','request\x20received\x20in\x20updateAutoCompleteMessages','splice','):\x20Editando\x20mensagens\x20no\x20grupo...','updateProfileStatus','Conexão\x20estabelecida','CHATS_UPSERT','):\x20Bloco\x20com\x20ID\x20','content-type','string','toString','AUTHENTICATION','generateHash','isURL','map','sendAudio','updateParticipant','):\x20Erro\x20durante\x20a\x20atualização:\x20','):Converted\x20image\x20deleted','):\x20Fluxos\x20não\x20estão\x20ativados','uazapiSendContact','/config','post','Cannot\x20','):\x20Adicionando\x20\x27','):\x20Entrou\x20na\x20função\x20saveReply','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','ip\x20-6\x20addr\x20add\x20','removeInstance','Unauthorized','Deleted\x20','Resultado\x20da\x20correspondência\x20de\x20URL:','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','sticker','):\x20Editando\x20bloco...','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','toggleEphemeral','CHATS_DELETE','request\x20received\x20in\x20deleteConversation','updateBlock','max','findOne','messages.set','joinGroupValidate','Valor\x20de\x20find\x20ou\x20replace\x20ausente','SERVER_TYPE','messageType','mimetype','cleanDisconnectedInstances','RemoveChatLabel','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',',\x20received\x20','silent','getBusinessProfile','authModel','chats.upsert','telefone','mediaKey','SINGLE_SELECT','ListType','default','groupUpdateSubject','views','!cmd_','):\x20Entrou\x20na\x20função\x20stop','AutomateFunctions','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','synchronizeAndMapFlows','random','/media/','firstValue','sha256','Erro\x20ao\x20alterar\x20fluxo','auth','fone','errorLog','findById','findManyByIds','419912Ohsjqn','g-t','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','push','execSync','reorderMessages','flowIgnoreGroups','toNumber','editflowcondition','contactMessage','video-cover.png','.mp3','readreceipts','buttonId','hSet','STORE_CONTACTS','latitude','admin_add','error_log','$addToSet','CONNECTION','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','creation','groupId','cacheContactModel','464QdFfQI','DB_PREFIX_NAME','ReplyOption\x20com\x20ID\x20','saveConversationToDatabase','from','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','isLong','createHash','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20Fluxo\x20\x27','groupSettingUpdate','):\x20Criou\x20conversa\x20no\x20startFlow','):Trying\x20to\x20get\x20business\x20profile','startCommandWord','cors','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','PENDING','DATABASE_CONNECTION_USER','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','no.connection','groupHandler','choices','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','Instance\x20logged\x20out','generate','_activatedCount','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','DOCKER_ENV','repository','archiveChat','trim','ephemeralDuration','Mensagem\x20não\x20suportada','moreLogs','Tentando\x20reconectar...','Error\x20fetching\x20and\x20updating\x20profile:\x20','rowId','\x1b[32m%s\x1b[0m','sendReaction','messaging-history.set','getUniqueFlowName','Erro\x20ao\x20criar\x20fluxo','\x20não\x20encontrado\x20para\x20atualização.','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','variablesNotFound','LEVEL','minutesToClose','updateAgent','getConversation',',\x20qrcodeCount:\x20','substring','delay','):\x20Falha\x20ao\x20deletar\x20mensagem.','processScheduleFlow','):Image\x20path:\x20','waitingMenu_ExpiredMessage','copy','QRCODE_UPDATED','GET','getConversationModelForOwner','6378mdWQEI','Subdomínio\x20não\x20encontrado','enabled','digest','.jwt','):including\x20timestamp\x20in\x20url:\x20','end','contacts.upsert','Falha\x20ao\x20processar\x20a\x20solicitação','\x20:\x20','http://checkip.dyndns.org','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','):Desconectado,\x20parando\x20execução.','):Image\x20is\x20base64','listResponseMessage','editOperator','request\x20received\x20in\x20allFlows','):\x20Editando\x20replyOption...','findGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','):\x20Limpando\x20AutomateSystem','downloads','stanzaId','etiquetas','StatusJidList\x20is\x20required','updateMediaMessage','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','presenceSubscribe','chat','STORE','findRealGroups','instancias:\x20','\x1b[30m','findParticipants','basename','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','\x1b[1m\x1b[37m',',\x20saindo.','remoteJid','SUCCESS','Error\x20removing\x20IPv6\x20address:\x20','floor','createIPv6','binary','CLEANING_INTERVAL','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20enviado\x20para\x20[','set','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','editFlowReply','crypto','fetchProfilePicture','debug','):Notifying\x20clients\x20for\x20chat:\x20','findMessages','deleteFlow','chats','includes','PREFIX_KEY','flows','Erro\x20na\x20função\x20updateChatWithMessage:\x20','profilePictureUrl','stateConnection','):\x20[messages.update]\x20group\x20ignored','remove.instance','groups_ignore','videoMessage','MESSAGES_UPSERT',',\x20Segundo\x20Valor:\x20','sendMessageAck','video','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','getMIMEType','whoCanUse','fetchProfilePictureUrl','SERVER_ACK','insertMany','notEqual','blocks','expiration','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','getLabelModelForOwner','integer','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','ip\x20-6\x20addr\x20del\x20','ipv6Prefix','apikey','runExclusive','mongodb://','fromObject','__esModule','match','where','getMinutes','FlowController','leaveGroup','agents','lastReceivedMessage','none','deleteDoneMessages','realVariables','Error\x20fetching\x20group','MESSAGES_SET','clearVariables','):\x20Conversa\x20inserida\x20com\x20sucesso.','_FlowHistorico','getFlow','stopConversation','conversationTimestamp','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','writeFile','createFlow','Erro\x20ao\x20arquivar\x20chat','menuExpiredMessage','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','updateChatGroupData','varedits','desativadoFluxoAte','_Chats','base64','createOrUpdate','closeExistingConversations','flowActive','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','connectToWhatsappController','instances','):Image\x20created','createAndSave','deleteMessageForEveryone','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','7914NdVhFu','DATABASE_ENABLED','^\x5cd+([-]\x5cd+)*@g.us$','matchRegex','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','eventemitter2','updatePresence','Close\x20connection','limit','Imagem\x20não\x20encontrada','*Pergunta*:\x20\x0a','presence.update','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','#fe9dfe',',\x20Novo\x20tamanho:\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Invalid\x20format','updateReplyOption','):\x20Buscando\x20flow,\x20id:\x20','options','connectionStatus','qrcode.updated','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','updateOne','updateGroupParticipantsWebhook','DATABASE_CONNECTION_HOST','):\x20nextBlock.uazapi.name','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','logout','):\x20sender\x20=\x20number:\x20','globalShow','Instância\x20não\x20encontrada.','#83e421','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','cachedData-whatsapp','request\x20received\x20in\x20deleteDoneMessages','chats.delete','response','loggedOut','groupMemberAddMode','profile','upsertedCount','eventHandler','AutomateSystem','Parando\x20aplicação...','CORS_METHODS','dbClient','fetchLabels',',\x20lastCondition:\x20','findAndUpdateCacheContact','caption','SSL_CONF_PRIVKEY','awaitingApproval','):\x20mediaMessageInfoId\x20:\x20','website','shareFlow','):Image\x20converted\x20to\x20WebP','STATUS_INSTANCE','src','AddChatLabel','events','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','ephemeralMessage','endSession','repeat','oldToken','done','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','IP\x20confirmed:\x20','processblock','instanceName','networkInterface','bateu\x20events','extractPhoneNumber','createServer','addBlock','processApiRequest','DisconnectReason','Parando\x20aplicação,\x20atualização\x20recebida','Subdomínio\x20final:','contact','role','CORS_ORIGIN','ChatModel','cpf','msgRetryCounterCache','getScheduleMessage','varedit','triedToSend','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','):Audio\x20processed','updateMessage','modifiedCount','groups.upsert','assign','DD/MM\x20HH:mm:ss','):\x20lastBlockId:\x20','stickerMessage','request\x20body:\x20','TEXT','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','getContentType','listType','Erro\x20ao\x20deletar\x20chat:','flush','remote\x20\x22origin\x22','viewOnceMessageV2','result','replyOptions','ip\x20-br\x20link\x20show','convertToWebP','quoted','storePath','sendWhatsAppAudio','dbInstance','.extension','/instance/delete','/create','):\x20Buscando\x20todos\x20os\x20fluxos...','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','\x1b[32m','cachedContacts-whatsapp','updateProfileName','sort','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','footerText','):\x20ev.flush\x20realizado','readMessage','Erro\x20ao\x20editar\x20agentes'];a0_0x4c91=function(){return _0xf43abb;};return a0_0x4c91();}function q(_0x3d9032,_0x5c73b8,_0x46a7e3){const _0x491ca9=a0_0x2a87a6;if(!oe[_0x3d9032])return;let _0x332d52=_0x491ca9(0x435)+JSON[_0x491ca9(0x15a)](_0x46a7e3)+'\x0a\x0a';Object['values'](oe[_0x3d9032])['forEach'](_0x567a5e=>{const _0x243a0f=_0x491ca9;_0x567a5e[_0x243a0f(0x78e)]['includes'](_0x5c73b8)&&_0x567a5e[_0x243a0f(0x777)][_0x243a0f(0x33f)](_0x332d52);});}function vi(){const _0x8dcc0d=a0_0x2a87a6;let _0x2d354e={};for(let _0x15d43d in oe)_0x2d354e[_0x15d43d]=Object['values'](oe[_0x15d43d])[_0x8dcc0d(0x639)](_0x53b976=>({'id':_0x53b976['id'],'events':_0x53b976[_0x8dcc0d(0x78e)]}));return _0x2d354e;}var $i=require('uuid'),Os=require(a0_0x2a87a6(0x196)),Ts=class{},_o=new Os[(a0_0x2a87a6(0x3ad))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),xo=new Os[(a0_0x2a87a6(0x3ad))]({'_id':{'type':String,'default':a0_0x2a87a6(0x347)},'WebhookGlobal':{'type':_o},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=R?.[a0_0x2a87a6(0x864)](Ts[a0_0x2a87a6(0x366)],xo,a0_0x2a87a6(0x459)),Do=Ni[a0_0x2a87a6(0x667)]['join'](__dirname,a0_0x2a87a6(0x6e4)),Le=(0x0,kt[a0_0x2a87a6(0x376)])(),Po=b['get'](a0_0x2a87a6(0x636))[a0_0x2a87a6(0x809)],le=[Oa,_a,Pa[Po]];Le[a0_0x2a87a6(0x29e)](a0_0x2a87a6(0x384),kt[a0_0x2a87a6(0x667)]['static'](Do))['get'](a0_0x2a87a6(0x2c1),async(_0x45c877,_0x1d058d)=>{const _0x585de2=a0_0x2a87a6;console[_0x585de2(0x1a4)](_0x585de2(0x79a));let _0x53cbb8=_0x45c877[_0x585de2(0x4d6)][_0x585de2(0x478)],_0x4cde86=(_0x45c877['query'][_0x585de2(0x78e)]||'')['split'](','),_0xacea56=(0x0,$i['v4'])();console['log'](_0x585de2(0x247),_0x53cbb8),console[_0x585de2(0x1a4)](_0x585de2(0x1f9),_0x4cde86);let _0x2c7c19=b['get'](_0x585de2(0x636))['API_KEY'],_0x175c78=_0x45c877[_0x585de2(0x1be)][_0x585de2(0x725)];if(console['log'](_0x585de2(0x2e1),_0x175c78),_0x2c7c19['KEY']!==_0x175c78){console[_0x585de2(0x1a4)](_0x585de2(0x537));try{let _0x570067=await we[_0x585de2(0x674)][_0x585de2(0x2f6)](_0x53cbb8);if(console[_0x585de2(0x1a4)](_0x585de2(0x594),_0x570067),!_0x570067||_0x570067['apikey']!==_0x175c78)return console['log'](_0x585de2(0x429)),_0x1d058d['status'](0x191)[_0x585de2(0x547)]('API\x20Key\x20inválida.');}catch(_0x114bfc){return console[_0x585de2(0x495)](_0x585de2(0x533),_0x114bfc),_0x1d058d['status'](0x191)[_0x585de2(0x547)](_0x585de2(0x5ad));}}if(!await _e(_0x53cbb8))return _0x1d058d[_0x585de2(0x5f7)](0x194)[_0x585de2(0x547)](_0x585de2(0x770));_0x1d058d[_0x585de2(0x62a)](_0x585de2(0x477),_0x585de2(0x86a)),_0x1d058d[_0x585de2(0x62a)]('Cache-Control',_0x585de2(0x48d)),_0x1d058d['setHeader'](_0x585de2(0x1a0),_0x585de2(0x2ad)),_0x1d058d['flushHeaders']();let _0x102501='data:\x20'+JSON[_0x585de2(0x15a)]({'info':_0x585de2(0x630)})+'\x0a\x0a';_0x1d058d['write'](_0x102501),Ci(_0x53cbb8,_0xacea56,_0x1d058d,_0x4cde86),_0x45c877['on'](_0x585de2(0x516),()=>{const _0xb6e103=_0x585de2;console[_0xb6e103(0x1a4)](_0xb6e103(0x461)+_0x53cbb8),Ei(_0x53cbb8,_0xacea56);});}),Le['post'](a0_0x2a87a6(0x158),async(_0x483fde,_0x97a8cb)=>{const _0x8a1c12=a0_0x2a87a6;console[_0x8a1c12(0x1a4)]('iniciando\x20fluxo\x20router');let _0x2025fb=_0x483fde[_0x8a1c12(0x4d6)][_0x8a1c12(0x478)],_0x4fe4fd=_0x483fde[_0x8a1c12(0x4d6)][_0x8a1c12(0x380)],_0x34f5c7=_0x483fde[_0x8a1c12(0x1be)]['remoteJid']||'',_0x4f66df=_0x483fde[_0x8a1c12(0x5cc)];console['log'](_0x8a1c12(0x282),_0x2025fb),console[_0x8a1c12(0x1a4)](_0x8a1c12(0x276),_0x4fe4fd),console['log'](_0x8a1c12(0x262),_0x34f5c7),console[_0x8a1c12(0x1a4)](_0x8a1c12(0x603),_0x4f66df);try{if(!await _e(_0x2025fb))return _0x97a8cb[_0x8a1c12(0x5f7)](0x194)[_0x8a1c12(0x547)](_0x8a1c12(0x770));let _0x59fe53=await T[_0x8a1c12(0x3c4)](_0x2025fb,_0x4fe4fd,_0x34f5c7,_0x4f66df);_0x97a8cb[_0x8a1c12(0x547)](_0x59fe53);}catch(_0x41512d){console[_0x8a1c12(0x495)](_0x41512d),_0x97a8cb[_0x8a1c12(0x5f7)](0x1f4)[_0x8a1c12(0x547)](_0x8a1c12(0x283));}}),Le[a0_0x2a87a6(0x7eb)](a0_0x2a87a6(0x266),(_0x188a51,_0x29d97f)=>{const _0x479726=a0_0x2a87a6;let _0x446300=vi();_0x29d97f[_0x479726(0x7e5)](_0x446300);})[a0_0x2a87a6(0x7eb)]('/',(_0x192fda,_0x1de0b2)=>{const _0x12ce28=a0_0x2a87a6;let _0x54567b=b[_0x12ce28(0x7eb)](_0x12ce28(0x596))[_0x12ce28(0x287)];if(_0x54567b){let _0x21c9e5=encodeURIComponent(''+_0x54567b);_0x1de0b2[_0x12ce28(0x39b)](_0x12ce28(0x875)+_0x21c9e5);return;}let _0x508b18=b['get'](_0x12ce28(0x2d0)),_0x59cc0b=_0x508b18&&_0x508b18[_0x12ce28(0x84b)][_0x12ce28(0x259)]('/')[0x4];if(_0x59cc0b){let _0x20e6d2=encodeURIComponent('https://'+_0x59cc0b);_0x1de0b2[_0x12ce28(0x39b)](_0x12ce28(0x875)+_0x20e6d2);}else _0x1de0b2[_0x12ce28(0x39b)](_0x12ce28(0x37a));})[a0_0x2a87a6(0x5bb)]('/exit',...le,async(_0x3dd98f,_0x23487)=>{const _0x178e01=a0_0x2a87a6;try{console[_0x178e01(0x1a4)](_0x178e01(0x46b)),_0x23487[_0x178e01(0x5f7)](0xc8)['json']({'message':_0x178e01(0x2ef)}),_0x23487['on'](_0x178e01(0x815),()=>process[_0x178e01(0x2a2)](0x0));}catch(_0x2bc00f){console[_0x178e01(0x495)](_0x178e01(0x602),_0x2bc00f),_0x23487['status'](0x1f4)[_0x178e01(0x7e5)]({'message':_0x178e01(0x236)});}})[a0_0x2a87a6(0x5bb)](a0_0x2a87a6(0x640),...le,async(_0x2298f4,_0x3e2715)=>{const _0xf9fe3=a0_0x2a87a6;try{let _0x2c5f1a=_0x2298f4[_0xf9fe3(0x5cc)];await Ne[_0xf9fe3(0x768)]({},{'$set':_0x2c5f1a},{'upsert':!0x0});let _0x49cac2=await Ne[_0xf9fe3(0x654)]();_0x3e2715[_0xf9fe3(0x7e5)](_0x49cac2);}catch(_0x236511){_0x3e2715[_0xf9fe3(0x5f7)](0x190)['send'](_0x236511[_0xf9fe3(0x5af)]);}})[a0_0x2a87a6(0x7eb)](a0_0x2a87a6(0x640),...le,async(_0x4c5368,_0x1e7a89)=>{const _0x876d23=a0_0x2a87a6;try{let _0x204a7a=await Ne['findOne']();if(!_0x204a7a)return _0x1e7a89[_0x876d23(0x7e5)]({});_0x1e7a89['json'](_0x204a7a);}catch(_0x3e2d83){_0x1e7a89[_0x876d23(0x5f7)](0x1f4)[_0x876d23(0x547)](_0x3e2d83['message']);}})[a0_0x2a87a6(0x29e)]('/instance',new Mt(b,...le)['router'])[a0_0x2a87a6(0x29e)]('/message',new _t(...le)[a0_0x2a87a6(0x827)])['use'](a0_0x2a87a6(0x7f6),new dt(...le)[a0_0x2a87a6(0x827)])[a0_0x2a87a6(0x29e)](a0_0x2a87a6(0x18c),new St(...le)[a0_0x2a87a6(0x827)])[a0_0x2a87a6(0x29e)]('/webhook',new Dt(...le)[a0_0x2a87a6(0x827)])[a0_0x2a87a6(0x29e)](a0_0x2a87a6(0x532),new Pt(...le)['router']);var m=class{constructor(..._0xfe1527){const _0x4bed5c=a0_0x2a87a6;throw{'status':0x190,'error':_0x4bed5c(0x1fd),'message':_0xfe1527[_0x4bed5c(0x30d)]>0x0?_0xfe1527:void 0x0};}},ce=class{constructor(..._0x248ea6){const _0x5ebe8c=a0_0x2a87a6;throw{'status':0x191,'error':_0x5ebe8c(0x648),'message':_0x248ea6[_0x5ebe8c(0x30d)]>0x0?_0x248ea6:void 0x0};}},se=class{constructor(..._0x50e752){const _0x1d2966=a0_0x2a87a6;throw{'status':0x193,'error':_0x1d2966(0x221),'message':_0x50e752[_0x1d2966(0x30d)]>0x0?_0x50e752:void 0x0};}},J=class{constructor(..._0x271524){const _0x50b514=a0_0x2a87a6;throw{'status':0x194,'error':_0x50b514(0x39c),'message':_0x271524['length']>0x0?_0x271524:void 0x0};}},x=class{constructor(..._0x5a886d){const _0x1f1c3b=a0_0x2a87a6;throw{'status':0x1f4,'error':_0x1f1c3b(0x16b),'message':_0x5a886d[_0x1f1c3b(0x30d)]>0x0?_0x5a886d:void 0x0};}},ye=require(a0_0x2a87a6(0x57d));async function _s(_0x23f483){const _0x34d9b8=a0_0x2a87a6;let _0x94137d=new $(_s[_0x34d9b8(0x366)]),_0x4e7008=R[_0x34d9b8(0x623)](),_0x57aa87=_0x4e7008['db'](b[_0x34d9b8(0x7eb)](_0x34d9b8(0x2a1))[_0x34d9b8(0x68d)][_0x34d9b8(0x693)]+_0x34d9b8(0x24a))[_0x34d9b8(0x178)](_0x23f483),_0x30d5ab=async(_0x1108eb,_0x434f6a)=>{const _0x233425=_0x34d9b8;try{return await _0x4e7008[_0x233425(0x5c9)](),await _0x57aa87[_0x233425(0x60c)]({'_id':_0x434f6a},JSON['parse'](JSON['stringify'](_0x1108eb,ye[_0x233425(0x245)][_0x233425(0x1d9)])),{'upsert':!0x0});}catch{}},_0x136269=async _0x8086f0=>{const _0x1356ec=_0x34d9b8;try{await _0x4e7008[_0x1356ec(0x5c9)]();let _0x1a0b93=await _0x57aa87[_0x1356ec(0x654)]({'_id':_0x8086f0}),_0x4d8738=JSON[_0x1356ec(0x15a)](_0x1a0b93);return JSON[_0x1356ec(0x510)](_0x4d8738,ye[_0x1356ec(0x245)]['reviver']);}catch{}},_0x4e7337=async _0x32c0c5=>{const _0x33e2e0=_0x34d9b8;try{return await _0x4e7008[_0x33e2e0(0x5c9)](),await _0x57aa87[_0x33e2e0(0x519)]({'_id':_0x32c0c5});}catch{}},_0x38f5bc=await _0x136269(_0x34d9b8(0x899))||(0x0,ye[_0x34d9b8(0x35c)])();return{'state':{'creds':_0x38f5bc,'keys':{'get':async(_0x4de4bc,_0x33d62f)=>{const _0x1951b9=_0x34d9b8;let _0x4c8797={};return await Promise['all'](_0x33d62f[_0x1951b9(0x639)](async _0x1ba1e8=>{const _0xa92c6=_0x1951b9;let _0x511d70=await _0x136269(_0x4de4bc+'-'+_0x1ba1e8);_0x4de4bc===_0xa92c6(0x818)&&_0x511d70&&(_0x511d70=ye[_0xa92c6(0x43c)][_0xa92c6(0x1fb)]['AppStateSyncKeyData'][_0xa92c6(0x728)](_0x511d70)),_0x4c8797[_0x1ba1e8]=_0x511d70;})),_0x4c8797;},'set':async _0x566428=>{const _0x4db307=_0x34d9b8;let _0x5f6ecd=[];for(let _0x36776d in _0x566428)for(let _0xb6090 in _0x566428[_0x36776d]){let _0x364657=_0x566428[_0x36776d][_0xb6090],_0x2b0109=_0x36776d+'-'+_0xb6090;_0x5f6ecd['push'](_0x364657?_0x30d5ab(_0x364657,_0x2b0109):_0x4e7337(_0x2b0109));}await Promise[_0x4db307(0x3e2)](_0x5f6ecd);}}},'saveCreds':async()=>_0x30d5ab(_0x38f5bc,_0x34d9b8(0x899))};}var Fs=I(require('long')),Us=I(require(a0_0x2a87a6(0x256))),Ut=require(a0_0x2a87a6(0x57d)),Ri=require('@redis/client'),Ft=require('@whiskeysockets/baileys'),Lt;function ko(_0x4a00f1){const _0x4c9801=a0_0x2a87a6;return Lt||(Lt=(0x0,Ri[_0x4c9801(0x863)])({'url':_0x4a00f1[_0x4c9801(0x83b)]}),Lt[_0x4c9801(0x5c9)]()),Lt;}var ge=class u{constructor(_0x10633e,_0x747654){const _0x387e7c=a0_0x2a87a6;this[_0x387e7c(0x38f)]=_0x10633e,this[_0x387e7c(0x798)]=_0x747654,this['logger']=new $(u[_0x387e7c(0x366)]),this['client']=ko(_0x10633e);}set['reference'](_0xc44fdb){const _0x46a8ad=a0_0x2a87a6;this[_0x46a8ad(0x798)]=_0xc44fdb;}async[a0_0x2a87a6(0x7f4)](){const _0x2ec911=a0_0x2a87a6;try{return await this['client']['sendCommand'](['keys',this['redisEnv']['PREFIX_KEY']+':*']);}catch(_0xcca8c){this[_0x2ec911(0x82a)][_0x2ec911(0x495)](_0xcca8c);}}async[a0_0x2a87a6(0x21a)](_0x16cefe,_0x5ea0fa){const _0x59b5db=a0_0x2a87a6;try{let _0x29bff1=JSON[_0x59b5db(0x15a)](_0x5ea0fa,Ft['BufferJSON'][_0x59b5db(0x1d9)]);return await this[_0x59b5db(0x47c)][_0x59b5db(0x687)](this['redisEnv'][_0x59b5db(0x709)]+':'+this['instanceName'],_0x16cefe,_0x29bff1);}catch(_0x132efb){this[_0x59b5db(0x82a)][_0x59b5db(0x495)](_0x132efb);}}async[a0_0x2a87a6(0x30b)](){const _0xe68794=a0_0x2a87a6;try{let _0x102d3d=await this[_0xe68794(0x47c)]['hGetAll'](this[_0xe68794(0x38f)]['PREFIX_KEY']+':'+this[_0xe68794(0x798)]);if(_0x102d3d){for(let _0x5b4df3 in _0x102d3d)Object['prototype']['hasOwnProperty'][_0xe68794(0x409)](_0x102d3d,_0x5b4df3)&&(_0x102d3d[_0x5b4df3]=JSON[_0xe68794(0x510)](_0x102d3d[_0x5b4df3],Ft['BufferJSON'][_0xe68794(0x290)]));return _0x102d3d;}}catch(_0x120d87){this['logger'][_0xe68794(0x495)](_0x120d87);}}async[a0_0x2a87a6(0x444)](_0x545d07){const _0x12c881=a0_0x2a87a6;try{let _0x3e5a94=await this['client'][_0x12c881(0x877)](this['redisEnv'][_0x12c881(0x709)]+':'+this[_0x12c881(0x798)],_0x545d07);if(_0x3e5a94)return JSON[_0x12c881(0x510)](_0x3e5a94,Ft['BufferJSON'][_0x12c881(0x290)]);}catch(_0xd5bba1){this[_0x12c881(0x82a)][_0x12c881(0x495)](_0xd5bba1);}}async[a0_0x2a87a6(0x166)](_0xf01500){const _0x7676a0=a0_0x2a87a6;try{return await this[_0x7676a0(0x47c)][_0x7676a0(0x5ae)](this[_0x7676a0(0x38f)][_0x7676a0(0x709)]+':'+this[_0x7676a0(0x798)],_0xf01500);}catch(_0x14f0e3){this['logger'][_0x7676a0(0x495)](_0x14f0e3);}}async['delAll'](_0xf88713){const _0x392c75=a0_0x2a87a6;try{return await this[_0x392c75(0x47c)]['del'](_0xf88713||this[_0x392c75(0x38f)][_0x392c75(0x709)]+':'+this[_0x392c75(0x798)]);}catch(_0x36e8f4){this[_0x392c75(0x82a)][_0x392c75(0x495)](_0x36e8f4);}}};async function xs(_0x3396b6,_0x23adc0){const _0x2bdc65=a0_0x2a87a6;let _0x5b90f0=new $(xs[_0x2bdc65(0x366)]),_0x59c5c9=new ge(_0x3396b6,_0x23adc0),_0x1af3fe=async(_0x3b73b2,_0x37dfc0)=>{const _0x3f584c=_0x2bdc65;try{return await _0x59c5c9[_0x3f584c(0x21a)](_0x37dfc0,_0x3b73b2);}catch(_0x51ef29){return _0x5b90f0[_0x3f584c(0x495)]({'localError':_0x3f584c(0x21a),'error':_0x51ef29});}},_0x27fd19=async _0x77d012=>{const _0x2a239b=_0x2bdc65;try{return await _0x59c5c9['readData'](_0x77d012);}catch(_0x554162){_0x5b90f0[_0x2a239b(0x495)]({'readData':_0x2a239b(0x21a),'error':_0x554162});return;}},_0xb4da0f=async _0x5c1d7e=>{const _0x4a00d7=_0x2bdc65;try{return await _0x59c5c9[_0x4a00d7(0x166)](_0x5c1d7e);}catch(_0x1bcc5f){_0x5b90f0[_0x4a00d7(0x495)]({'readData':'removeData','error':_0x1bcc5f});}},_0x103c9e=await _0x27fd19('creds')||(0x0,Ut[_0x2bdc65(0x35c)])();return{'state':{'creds':_0x103c9e,'keys':{'get':async(_0x5833e3,_0x3bdfcb)=>{const _0x354eb7=_0x2bdc65;let _0x195e94={};return await Promise[_0x354eb7(0x3e2)](_0x3bdfcb[_0x354eb7(0x639)](async _0x554d3b=>{const _0x48e286=_0x354eb7;let _0x2c0121=await _0x27fd19(_0x5833e3+'-'+_0x554d3b);_0x5833e3===_0x48e286(0x818)&&_0x2c0121&&(_0x2c0121=Ut[_0x48e286(0x43c)][_0x48e286(0x1fb)][_0x48e286(0x1e0)][_0x48e286(0x728)](_0x2c0121)),_0x195e94[_0x554d3b]=_0x2c0121;})),_0x195e94;},'set':async _0x3f7185=>{const _0x1e02ee=_0x2bdc65;let _0xaee22=[];for(let _0x5cdda1 in _0x3f7185)for(let _0x1b456c in _0x3f7185[_0x5cdda1]){let _0x49b7ae=_0x3f7185[_0x5cdda1][_0x1b456c],_0x216a33=_0x5cdda1+'-'+_0x1b456c;_0xaee22[_0x1e02ee(0x67c)](_0x49b7ae?await _0x1af3fe(_0x49b7ae,_0x216a33):await _0xb4da0f(_0x216a33));}await Promise[_0x1e02ee(0x3e2)](_0xaee22);}}},'saveCreds':async()=>await _0x1af3fe(_0x103c9e,'creds')};}var F=I(require('fs')),X=require('uuid'),Vt=I(require(a0_0x2a87a6(0x32d))),Gt=require(a0_0x2a87a6(0x701)),Ai=require('child_process'),Ii=require(a0_0x2a87a6(0x1b9)),Ti=I(require('axios')),$e=class extends _{constructor(_0x25e8f9,_0x28dd6c,_0x31e2ab){const _0x34934e=a0_0x2a87a6;super(_0x28dd6c),this['cacheInstanceModel']=_0x25e8f9,this[_0x34934e(0x5ca)]=_0x28dd6c,this[_0x34934e(0x529)]=_0x31e2ab;}async[a0_0x2a87a6(0x747)](_0x8e170a,_0x312e83){const _0x51013a=a0_0x2a87a6;try{if(this[_0x51013a(0x4f2)][_0x51013a(0x15e)]){console['log'](_0x51013a(0x255)+_0x312e83+_0x51013a(0x3ff),_0x8e170a);let _0x4a980d=await this[_0x51013a(0x2ed)]['findOneAndUpdate']({'_id':_0x312e83},{'$set':_0x8e170a},{'new':!0x0,'upsert':!0x0});return console[_0x51013a(0x1a4)](_0x51013a(0x4f6),_0x4a980d),_0x4a980d;}}catch(_0x5dcf29){throw console[_0x51013a(0x495)](_0x51013a(0x61a),_0x5dcf29),_0x5dcf29;}return null;}async[a0_0x2a87a6(0x519)](_0xd86d0c){const _0x5f5844=a0_0x2a87a6;try{let _0x3eff28=A(_0xd86d0c['where']);return{'deletedCount':(await this[_0x5f5844(0x2ed)][_0x5f5844(0x519)](_0x3eff28))[_0x5f5844(0x85e)]};}catch(_0x2eecc0){return{'error':_0x2eecc0?.[_0x5f5844(0x635)]()};}}async[a0_0x2a87a6(0x654)](_0x3e67b7){const _0x885fff=a0_0x2a87a6;try{let _0x109fe4=A(_0x3e67b7[_0x885fff(0x72b)]);return await this['cacheInstanceModel']['findOne'](_0x109fe4)['lean']();}catch{return null;}}},jt=(0x0,Ii[a0_0x2a87a6(0x4f8)])(Ai['exec']),Lo=b[a0_0x2a87a6(0x7eb)](a0_0x2a87a6(0x88b)),Ds=class{constructor(){const _0x54f73d=a0_0x2a87a6;this[_0x54f73d(0x286)]=new $e(He,b),(!this[_0x54f73d(0x724)]||!this[_0x54f73d(0x799)])&&Lo&&this[_0x54f73d(0x5aa)]()[_0x54f73d(0x85b)](()=>{const _0x4a6f4e=_0x54f73d;console[_0x4a6f4e(0x1a4)](_0x4a6f4e(0x202)+this[_0x4a6f4e(0x724)]),console[_0x4a6f4e(0x1a4)](_0x4a6f4e(0x19d)+this[_0x4a6f4e(0x799)]);})[_0x54f73d(0x48e)](_0x4fc737=>{const _0xb9c993=_0x54f73d;console[_0xb9c993(0x495)](_0xb9c993(0x1d1)+_0x4fc737[_0xb9c993(0x5af)]);});}async[a0_0x2a87a6(0x5aa)](){const _0x40fab0=a0_0x2a87a6;try{let {stdout:_0x22562c}=await jt(_0x40fab0(0x7c0));console[_0x40fab0(0x1a4)](_0x40fab0(0x60b)+_0x22562c);let _0xbf1b52=_0x22562c[_0x40fab0(0x259)]('\x0a')[_0x40fab0(0x639)](_0x1c1a84=>_0x1c1a84[_0x40fab0(0x259)]('\x20')[0x0])[_0x40fab0(0x17c)](_0x49b135=>!_0x49b135[_0x40fab0(0x708)]('lo')&&!_0x49b135['includes'](_0x40fab0(0x365))&&!_0x49b135[_0x40fab0(0x708)]('vir')&&!_0x49b135[_0x40fab0(0x708)]('wl')&&!_0x49b135[_0x40fab0(0x708)]('@'));if(console['log']('Filtered\x20network\x20interfaces:\x20'+_0xbf1b52),_0xbf1b52[_0x40fab0(0x30d)]===0x0)throw new Error(_0x40fab0(0x869));this[_0x40fab0(0x799)]=_0xbf1b52[0x0];let {stdout:_0xf448dc}=await jt(_0x40fab0(0x15c)+this[_0x40fab0(0x799)]);console[_0x40fab0(0x1a4)](_0x40fab0(0x494)+_0xf448dc);let _0x16b3b8=_0xf448dc[_0x40fab0(0x259)]('\x0a')['find'](_0x842558=>_0x842558[_0x40fab0(0x708)](_0x40fab0(0x293))&&_0x842558[_0x40fab0(0x708)]('global'));if(!_0x16b3b8)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x3c5008=_0x16b3b8[_0x40fab0(0x72a)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x3c5008)throw new Error(_0x40fab0(0x431));let [_0x32fa4e,_0x322883,_0x334564]=_0x3c5008,_0x4f603c=Math['floor'](Number(_0x334564)/0x10),_0x22dbb5=Number(_0x334564)%0x10,_0x3b9467=_0x322883[_0x40fab0(0x259)](':')[_0x40fab0(0x26a)](0x0,_0x4f603c)[_0x40fab0(0x52e)](':');if(_0x22dbb5>0x0){let _0x3da4d1=_0x322883[_0x40fab0(0x259)](':')[_0x4f603c],_0x2663e2=0xffff<<0x10-_0x22dbb5&0xffff,_0x4a3e0d=(parseInt(_0x3da4d1,0x10)&_0x2663e2)['toString'](0x10)[_0x40fab0(0x7d8)](0x4,'0');_0x3b9467+=':'+_0x4a3e0d;}this[_0x40fab0(0x724)]=_0x3b9467+':';}catch(_0x5ec318){console[_0x40fab0(0x495)](_0x40fab0(0x7ab),_0x5ec318);}}async[a0_0x2a87a6(0x35f)](_0x5ebf00){const _0xa29f20=a0_0x2a87a6;let _0x128a7b=_0xa29f20(0x646)+_0x5ebf00+'/64\x20dev\x20'+this[_0xa29f20(0x799)];try{await jt(_0x128a7b),console[_0xa29f20(0x1a4)]('IPv6\x20address\x20configured:\x20'+_0x5ebf00);}catch(_0x3fab27){console['error'](_0xa29f20(0x234)+_0x3fab27);}}async[a0_0x2a87a6(0x54d)](_0x4f6b3b){const _0x505ba9=a0_0x2a87a6;let _0x1d8eac=_0x505ba9(0x723)+_0x4f6b3b+'/64\x20dev\x20'+this[_0x505ba9(0x799)];try{await jt(_0x1d8eac),console[_0x505ba9(0x1a4)](_0x505ba9(0x49c)+_0x4f6b3b);}catch(_0x4cb568){console['error'](_0x505ba9(0x6f7)+_0x4cb568);}}[a0_0x2a87a6(0x1c6)](){const _0x2ea54f=a0_0x2a87a6;return _0x2ea54f(0x318)['replace'](/X/g,()=>'0123456789ABCDEF'[_0x2ea54f(0x38e)](Math['floor'](Math[_0x2ea54f(0x66f)]()*0x10)));}[a0_0x2a87a6(0x5ef)](_0x22a816,_0x4b2704){const _0x3f1b2f=a0_0x2a87a6;let _0x5745e0=_0x4b2704['split'](':');return _0x5745e0[0x0]=(parseInt(_0x5745e0[0x0],0x10)^0x2)[_0x3f1b2f(0x635)](0x10)[_0x3f1b2f(0x7d8)](0x2,'0'),''+_0x22a816+_0x5745e0[0x0]+_0x5745e0[0x1]+':'+_0x5745e0[0x2]+_0x3f1b2f(0x4af)+_0x5745e0[0x3]+':'+_0x5745e0[0x4]+_0x5745e0[0x5];}[a0_0x2a87a6(0x1a6)](){const _0x3bb032=a0_0x2a87a6;let _0x3c3187=this[_0x3bb032(0x724)];_0x3c3187[_0x3bb032(0x5a1)](':')||(_0x3c3187+=':');let _0x2e0abb=this[_0x3bb032(0x1c6)]();return this[_0x3bb032(0x5ef)](_0x3c3187,_0x2e0abb);}[a0_0x2a87a6(0x491)](_0x466046){const _0x3101b2=a0_0x2a87a6;return new RegExp(_0x3101b2(0x43a))[_0x3101b2(0x4a8)](_0x466046);}async['testIPv6'](_0x3b837b){const _0x3380a7=a0_0x2a87a6;let _0x4889e7=[{'url':'https://ipv6.jsonip.com','parse':_0x453cec=>_0x453cec['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0xc21483=>_0xc21483['ip']},{'url':_0x3380a7(0x4a9),'parse':_0x1f2674=>_0x1f2674['trim']()},{'url':_0x3380a7(0x2c6),'parse':_0xa659c9=>_0xa659c9[_0x3380a7(0x6b0)]()}],_0xda2540=_0x4889e7[Math[_0x3380a7(0x6f8)](Math['random']()*_0x4889e7[_0x3380a7(0x30d)])];try{let _0x38ff65=await Ti['default'][_0x3380a7(0x7eb)](_0xda2540[_0x3380a7(0x1a2)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x3b837b}}),_0x5ce4c0=_0xda2540[_0x3380a7(0x510)](_0x38ff65['data']);return _0x5ce4c0['toLowerCase']()===_0x3b837b[_0x3380a7(0x203)]()?(console[_0x3380a7(0x1a4)](_0x3380a7(0x796)+_0x3b837b),!0x0):(console[_0x3380a7(0x495)](_0x3380a7(0x455)+_0x3b837b+_0x3380a7(0x65e)+_0x5ce4c0),!0x1);}catch(_0x19fad4){return console[_0x3380a7(0x495)](_0x3380a7(0x357)+_0xda2540[_0x3380a7(0x1a2)]+':\x20'+_0x19fad4[_0x3380a7(0x5af)]),!0x1;}}async[a0_0x2a87a6(0x6f9)](_0xb70e0a,_0x4bf702){const _0x15fcdf=a0_0x2a87a6;if(!this[_0x15fcdf(0x724)]||!this[_0x15fcdf(0x799)])return console[_0x15fcdf(0x495)](_0x15fcdf(0x6be)),null;let _0x1ea50d;do _0x1ea50d=this[_0x15fcdf(0x1a6)](),console['log'](_0x15fcdf(0x16e)+_0x1ea50d);while(!await this[_0x15fcdf(0x54c)](_0x1ea50d));await this[_0x15fcdf(0x35f)](_0x1ea50d),console[_0x15fcdf(0x1a4)]('Configured\x20IPv6:\x20'+_0x1ea50d);let _0x3857f7={'_id':_0xb70e0a+'-'+_0x4bf702,'ip':_0x1ea50d},_0x38db13=await this['cacheInstanceRepository']['createOrUpdate'](_0x3857f7,_0x3857f7[_0x15fcdf(0x2f9)]);return console[_0x15fcdf(0x1a4)](_0x15fcdf(0x18e)+_0x38db13),_0x1ea50d;}async[a0_0x2a87a6(0x54c)](_0x4ca45e){const _0x438baa=a0_0x2a87a6;return this[_0x438baa(0x491)](_0x4ca45e)?!await this[_0x438baa(0x286)][_0x438baa(0x654)]({'where':{'ip':_0x4ca45e}}):!0x1;}async['removeIPv6ById'](_0xb52250,_0x3684fc){const _0x358d5f=a0_0x2a87a6;let _0x5eae51=_0xb52250+'-'+_0x3684fc,_0x32fec0=await this[_0x358d5f(0x286)][_0x358d5f(0x654)]({'where':{'_id':_0x5eae51}});_0x32fec0&&_0x32fec0['ip']&&(await this[_0x358d5f(0x54d)](_0x32fec0['ip']),await this[_0x358d5f(0x286)][_0x358d5f(0x519)]({'where':{'_id':_0x5eae51}}));}},Fo=new Ds(),re=Fo,js=a0_0x2a87a6(0x18b),Li,me=null,ka=null,Uo=0x3,jo=null,Oi=b[a0_0x2a87a6(0x7eb)](a0_0x2a87a6(0x636))[a0_0x2a87a6(0x844)][a0_0x2a87a6(0x1b3)],_i=b['get']('PROXY');async function Jo(){const _0x142130=a0_0x2a87a6;let _0x7c0884=await Ne[_0x142130(0x654)]();me=_0x7c0884?.['WebhookGlobal']??null,jo=_0x7c0884?.['DaysToDelete']??null,js=_0x7c0884?.[_0x142130(0x1ce)]??'Safari',Li=_0x7c0884?.[_0x142130(0x830)]??K??_0x142130(0x20d);}async function qo(){await Jo();}qo();var Jt={},Re=class u{constructor(_0x43dc05,_0x1bb42a,_0x97bc13){const _0x5cc780=a0_0x2a87a6;this[_0x5cc780(0x5ca)]=_0x43dc05,this[_0x5cc780(0x546)]=_0x1bb42a,this['repository']=_0x97bc13,this[_0x5cc780(0x77d)]=null,this['logger']=new $(u[_0x5cc780(0x366)]),this[_0x5cc780(0x478)]={},this[_0x5cc780(0x2c7)]={},this['stateConnection']={'state':_0x5cc780(0x516)},this[_0x5cc780(0x7c3)]=(0x0,j['join'])(ue,_0x5cc780(0x6e4)),this[_0x5cc780(0x7a7)]=new Us['default'](),this['userDevicesCache']=new Us['default'](),this[_0x5cc780(0x791)]=!0x1,this[_0x5cc780(0x5b1)]={'status.instance':_0x5cc780(0x458),'connection.update':_0x5cc780(0x458),'qrcode.updated':_0x5cc780(0x313),'messages.upsert':_0x5cc780(0x531),'send.message':_0x5cc780(0x531),'messages.update':_0x5cc780(0x179),'group.upsert':_0x5cc780(0x7f5),'group.update':_0x5cc780(0x7f5),'group-participants.update':'/wa-groups','messages.set':_0x5cc780(0x448),'contacts.set':_0x5cc780(0x170),'contacts.upsert':_0x5cc780(0x170),'contacts.update':_0x5cc780(0x170),'presence.update':'/wa-presence','chats.set':_0x5cc780(0x821),'chats.update':_0x5cc780(0x821),'chats.upsert':_0x5cc780(0x821),'chats.delete':'/wa-chats'},this[_0x5cc780(0x443)]=0x0,this[_0x5cc780(0x3dc)]=[],this[_0x5cc780(0x1f5)]=0xea60,this[_0x5cc780(0x7ed)]=!0x1,this[_0x5cc780(0x392)]={'chats.upsert':async(_0x2bebdf,_0x59628e)=>{const _0x5daeaf=_0x5cc780;let _0x12cbc7=[];for await(let _0xc5145b of _0x2bebdf)_0x12cbc7[_0x5daeaf(0x67c)]({'_id':_0xc5145b['id'],'owner':this[_0x5daeaf(0x478)][_0x5daeaf(0x456)],'group':_0xc5145b['id'][_0x5daeaf(0x5a1)](_0x5daeaf(0x398)),'name':_0xc5145b[_0x5daeaf(0x366)]||_0xc5145b[_0x5daeaf(0x342)]||null,'contactname':null,'lastmsg':_0xc5145b[_0x5daeaf(0x73b)]&&_0xc5145b[_0x5daeaf(0x73b)][_0x5daeaf(0x635)]()[_0x5daeaf(0x30d)]<0xd?_0xc5145b[_0x5daeaf(0x73b)]*0x3e8:_0xc5145b['conversationTimestamp']||null,'archived':_0xc5145b[_0x5daeaf(0x274)]||!0x1,'unreadcount':_0xc5145b[_0x5daeaf(0x4a2)]||0x0,'ephemeralExpiration':_0xc5145b[_0x5daeaf(0x2eb)]||0x0});this[_0x5daeaf(0x36a)](_0x5daeaf(0x662),_0x12cbc7);},'chats.update':async(_0x3d2202,_0x330a0f)=>{const _0x16eb96=_0x5cc780;for(let _0x58bae7 of _0x3d2202){let _0x3996c5={'_id':_0x58bae7['id'],'owner':this[_0x16eb96(0x478)][_0x16eb96(0x456)],'archived':_0x58bae7[_0x16eb96(0x274)],'muteEndTime':_0x58bae7[_0x16eb96(0x813)],'ephemeralExpiration':_0x58bae7[_0x16eb96(0x2eb)]},_0x514637=!0x1,_0x1b229e={};_0x3996c5[_0x16eb96(0x274)]!=null&&(this[_0x16eb96(0x82a)][_0x16eb96(0x216)](this[_0x16eb96(0x798)]+'\x20('+this['instance'][_0x16eb96(0x456)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x58bae7['id']+_0x16eb96(0x6d8)+_0x58bae7[_0x16eb96(0x274)]),_0x514637=!0x0,_0x1b229e[_0x16eb96(0x274)]=_0x58bae7['archived']),_0x16eb96(0x813)in _0x58bae7&&(this[_0x16eb96(0x82a)][_0x16eb96(0x216)](this[_0x16eb96(0x798)]+'\x20('+this['instance']['wuid']+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x58bae7['id']+_0x16eb96(0x6d8)+(_0x58bae7['muteEndTime']??'0')),_0x514637=!0x0,_0x1b229e[_0x16eb96(0x813)]=_0x58bae7['muteEndTime']??0x0),_0x16eb96(0x2eb)in _0x58bae7&&(this[_0x16eb96(0x82a)]['verbose'](this[_0x16eb96(0x798)]+'\x20('+this['instance']['wuid']+_0x16eb96(0x3c7)+_0x58bae7['id']+'\x20:\x20'+(_0x58bae7[_0x16eb96(0x2eb)]!==void 0x0?_0x58bae7[_0x16eb96(0x2eb)]:_0x16eb96(0x52c))),_0x1b229e[_0x16eb96(0x2eb)]=_0x58bae7[_0x16eb96(0x2eb)]===null?0x0:_0x58bae7['ephemeralExpiration'],_0x514637=!0x0);let _0x15396c;_0x514637&&(_0x15396c=await this[_0x16eb96(0x6ae)][_0x16eb96(0x6eb)]['updateOne']({'where':{'_id':_0x58bae7['id']}},_0x1b229e,this['instance'][_0x16eb96(0x456)])),_0x15396c&&q(this[_0x16eb96(0x798)],_0x16eb96(0x707),{'chat':_0x15396c});}},'chats.delete':async _0x17e6a3=>{const _0x5c5e6c=_0x5cc780;for(let _0x4505cf of _0x17e6a3)if(_0x4505cf[_0x5c5e6c(0x5a1)](_0x5c5e6c(0x398))){await this['repository']['chat'][_0x5c5e6c(0x17e)]({'where':{'_id':_0x4505cf}},this[_0x5c5e6c(0x478)][_0x5c5e6c(0x456)]);let _0x4b8a58={'where':{'key':{'remoteJid':_0x4505cf}}};await this['repository'][_0x5c5e6c(0x5af)][_0x5c5e6c(0x17e)](_0x4b8a58,this[_0x5c5e6c(0x478)][_0x5c5e6c(0x456)]);}else{await this[_0x5c5e6c(0x6ae)][_0x5c5e6c(0x6eb)][_0x5c5e6c(0x768)]({'where':{'_id':_0x4505cf}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5c5e6c(0x478)]['wuid']);let _0x416988={'where':{'key':{'remoteJid':_0x4505cf}}};await this[_0x5c5e6c(0x6ae)]['message'][_0x5c5e6c(0x17e)](_0x416988,this[_0x5c5e6c(0x478)]['wuid']);}this[_0x5c5e6c(0x36a)](_0x5c5e6c(0x776),[..._0x17e6a3]);}},this[_0x5cc780(0x51c)]={'contacts.upsert':async(_0x54bc46,_0x21ff6c)=>{const _0x5e17ab=_0x5cc780;let _0x7b952d=await this[_0x5e17ab(0x6ae)][_0x5e17ab(0x7a2)][_0x5e17ab(0x2f6)]({'where':{}},this['instance'][_0x5e17ab(0x456)]),_0x1b83df=[];for await(let _0x29fb35 of _0x54bc46)_0x7b952d[_0x5e17ab(0x2f6)](_0x186949=>_0x186949[_0x5e17ab(0x2f9)]===_0x29fb35['id'])||_0x1b83df[_0x5e17ab(0x67c)]({'_id':_0x29fb35['id'],'pushName':_0x29fb35?.[_0x5e17ab(0x366)]||_0x29fb35?.[_0x5e17ab(0x4bb)],'owner':this[_0x5e17ab(0x478)]['wuid']});this[_0x5e17ab(0x36a)](_0x5e17ab(0x6d6),_0x1b83df),await this[_0x5e17ab(0x6ae)][_0x5e17ab(0x7a2)][_0x5e17ab(0x39f)](_0x1b83df);},'contacts.update':async(_0x5af7f0,_0x2c4d38)=>{const _0x360c2c=_0x5cc780;let _0x558789=[];for await(let _0x4fc883 of _0x5af7f0)_0x558789[_0x360c2c(0x67c)]({'_id':_0x4fc883['id'],'pushName':_0x4fc883?.[_0x360c2c(0x366)]??_0x4fc883?.[_0x360c2c(0x4bb)],'owner':this[_0x360c2c(0x478)][_0x360c2c(0x456)]});this['sendDataWebhook'](_0x360c2c(0x1ec),_0x558789);}},this[_0x5cc780(0x4ab)]={'messaging-history.set':async({messages:_0x308a03,chats:_0x4be5fb,isLatest:_0x1daf63},_0x34f85c)=>{const _0x42d889=_0x5cc780;if(_0x1daf63){let _0x343f8c=await Promise[_0x42d889(0x3e2)](_0x4be5fb[_0x42d889(0x639)](async _0xfd0170=>({'_id':_0xfd0170['id'],'owner':this[_0x42d889(0x478)]['wuid'],'group':_0xfd0170['id'][_0x42d889(0x5a1)](_0x42d889(0x398)),'name':_0xfd0170[_0x42d889(0x366)]||_0xfd0170[_0x42d889(0x342)]||_0xfd0170[_0x42d889(0x5f1)]||null,'contactname':null,'lastmsg':_0xfd0170[_0x42d889(0x73b)]&&_0xfd0170['conversationTimestamp']['toString']()[_0x42d889(0x30d)]<0xd?_0xfd0170[_0x42d889(0x73b)]*0x3e8:_0xfd0170[_0x42d889(0x73b)]||null,'archived':_0xfd0170[_0x42d889(0x274)]||!0x1,'unreadcount':_0xfd0170[_0x42d889(0x4a2)]||0x0,'ephemeralExpiration':_0xfd0170[_0x42d889(0x2eb)]||0x0,'muteEndTime':_0xfd0170['muteEndTime']||0x0})));this[_0x42d889(0x36a)]('chats.set',_0x343f8c),await this[_0x42d889(0x243)](_0x343f8c,_0x34f85c);}let _0x1fd1c2=[],_0x2ceb57=Date[_0x42d889(0x810)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x16f0c5]of Object['entries'](_0x308a03)){if(_0x16f0c5[_0x42d889(0x5af)]?.['protocolMessage']||_0x16f0c5[_0x42d889(0x5af)]?.[_0x42d889(0x862)]||!_0x16f0c5[_0x42d889(0x5af)]||_0x16f0c5[_0x42d889(0x349)][_0x42d889(0x6f5)]===_0x42d889(0x5c8)||(Fs['default'][_0x42d889(0x698)](_0x16f0c5?.['messageTimestamp'])&&(_0x16f0c5[_0x42d889(0x296)]=_0x16f0c5[_0x42d889(0x296)]?.[_0x42d889(0x680)]()),_0x16f0c5[_0x42d889(0x296)]&&_0x16f0c5[_0x42d889(0x296)][_0x42d889(0x635)]()[_0x42d889(0x30d)]<0xd&&(_0x16f0c5[_0x42d889(0x296)]=_0x16f0c5[_0x42d889(0x296)]*0x3e8),_0x16f0c5['messageTimestamp']<_0x2ceb57))continue;let _0x5c1cd7=(0x0,w[_0x42d889(0x55c)])(_0x16f0c5[_0x42d889(0x5af)]),_0x4e0d88=(0x0,w[_0x42d889(0x7b8)])(_0x5c1cd7),{message_normalized:_0x316188}=this[_0x42d889(0x5b5)](_0x5c1cd7,_0x4e0d88,null);Object[_0x42d889(0x173)](_0x316188)[_0x42d889(0x30d)]>0x0&&_0x1fd1c2[_0x42d889(0x67c)]({'_id':_0x16f0c5[_0x42d889(0x349)]['id'],'key':_0x16f0c5[_0x42d889(0x349)],'pushName':_0x16f0c5['pushName'],'participant':_0x16f0c5[_0x42d889(0x7db)],'message':_0x5c1cd7,'messageType':_0x4e0d88,'message_normalized':{'key':_0x16f0c5[_0x42d889(0x349)],'pushName':_0x16f0c5[_0x42d889(0x346)],'messageTimestamp':_0x16f0c5[_0x42d889(0x296)],..._0x316188},'messageTimestamp':_0x16f0c5[_0x42d889(0x296)],'owner':this[_0x42d889(0x478)][_0x42d889(0x456)]});}_0x34f85c[_0x42d889(0x15e)]&&_0x1fd1c2[_0x42d889(0x30d)]>0x0&&(this['logger'][_0x42d889(0x216)](this[_0x42d889(0x798)]+'\x20('+this[_0x42d889(0x478)][_0x42d889(0x456)]+_0x42d889(0x1db)+_0x1fd1c2[_0x42d889(0x30d)]+_0x42d889(0x5e4)+this['instance'][_0x42d889(0x456)]+_0x42d889(0x28c)),await this[_0x42d889(0x6ae)]['message'][_0x42d889(0x39f)]([..._0x1fd1c2],this[_0x42d889(0x478)][_0x42d889(0x456)])),this['sendDataWebhook'](_0x42d889(0x655),[..._0x1fd1c2]),_0x308a03=void 0x0;},'messages.upsert':async({messages:_0x19cabc,type:_0x299e88},_0x323ece)=>{const _0x5bdfe3=_0x5cc780;for(let _0xc540ca of _0x19cabc){if(this[_0x5bdfe3(0x2c7)]?.[_0x5bdfe3(0x710)]&&_0xc540ca['key']['remoteJid'][_0x5bdfe3(0x708)]('@g.us')){this[_0x5bdfe3(0x82a)]['verbose'](this[_0x5bdfe3(0x798)]+'\x20('+this[_0x5bdfe3(0x478)]['wuid']+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x299e88!==_0x5bdfe3(0x31d)||!_0xc540ca?.[_0x5bdfe3(0x5af)]||_0xc540ca[_0x5bdfe3(0x5af)]?.['protocolMessage']||_0xc540ca['message'][_0x5bdfe3(0x862)]||_0xc540ca[_0x5bdfe3(0x349)][_0x5bdfe3(0x6f5)]===_0x5bdfe3(0x5c8))return;let _0x244185=null,_0x395a23=null;if(_0xc540ca['messageStubParameters']&&_0xc540ca['messageStubParameters'][0x0]==='Message\x20absent\x20from\x20node'){console[_0x5bdfe3(0x495)](_0x5bdfe3(0x14e)),Jt[_0xc540ca[_0x5bdfe3(0x349)]['id']]=_0xc540ca,this[_0x5bdfe3(0x42f)](_0xc540ca,0x0);return;}Jt[_0xc540ca['key']['id']]&&(console[_0x5bdfe3(0x495)](_0x5bdfe3(0x1eb)),delete Jt[_0xc540ca[_0x5bdfe3(0x349)]['id']]);try{_0x244185=await this[_0x5bdfe3(0x159)](_0xc540ca),_0x395a23=_0x244185?_0x244185[_0x5bdfe3(0x52e)](','):null;}catch(_0x5ab09a){this[_0x5bdfe3(0x82a)]['verbose'](this[_0x5bdfe3(0x798)]+'\x20('+this[_0x5bdfe3(0x478)][_0x5bdfe3(0x456)]+_0x5bdfe3(0x1db)+(_0x5ab09a instanceof Error?_0x5ab09a['message']:JSON[_0x5bdfe3(0x15a)](_0x5ab09a,null,0x2))),_0x395a23=_0x5bdfe3(0x3f9);}this['client'][_0x5bdfe3(0x2d9)](_0x5bdfe3(0x2b1)),Fs[_0x5bdfe3(0x667)]['isLong'](_0xc540ca[_0x5bdfe3(0x296)])&&(_0xc540ca[_0x5bdfe3(0x296)]=_0xc540ca[_0x5bdfe3(0x296)]?.[_0x5bdfe3(0x680)]()),_0xc540ca[_0x5bdfe3(0x296)]&&_0xc540ca[_0x5bdfe3(0x296)][_0x5bdfe3(0x635)]()[_0x5bdfe3(0x30d)]<0xd&&(_0xc540ca[_0x5bdfe3(0x296)]=_0xc540ca[_0x5bdfe3(0x296)]*0x3e8);let _0x18965e=_0xc540ca[_0x5bdfe3(0x5af)],_0x260cb9=(0x0,w['normalizeMessageContent'])(_0x18965e),_0x50a0a0=(0x0,w[_0x5bdfe3(0x7b8)])(_0x260cb9),{messageContent:_0x56527e,message_normalized:_0x128ad2}=this[_0x5bdfe3(0x5b5)](_0x260cb9,_0x50a0a0,_0x395a23);_0x50a0a0===_0x5bdfe3(0x238)&&_0x56527e?.[_0x5bdfe3(0x85d)]&&(_0x50a0a0=_0x5bdfe3(0x85d));let _0xf522b2,_0x2f0e13=_0xc540ca['key'][_0x5bdfe3(0x6f5)][_0x5bdfe3(0x5a1)](_0x5bdfe3(0x398));if(_0xc540ca[_0x5bdfe3(0x349)][_0x5bdfe3(0x536)])_0xf522b2=this['instance'][_0x5bdfe3(0x70c)];else{let _0x5254e6=_0x2f0e13?_0xc540ca[_0x5bdfe3(0x349)]['participant']:_0xc540ca['key'][_0x5bdfe3(0x6f5)];_0xf522b2=(await this[_0x5bdfe3(0x783)](_0x5254e6,_0xc540ca[_0x5bdfe3(0x346)],!0x1))[_0x5bdfe3(0x618)][_0x5bdfe3(0x324)];}let _0x487b17={'_id':_0xc540ca['key']['id'],'key':_0xc540ca[_0x5bdfe3(0x349)],'isGroup':_0x2f0e13,'profilePictureUrl':_0xf522b2,'pushName':_0xc540ca[_0x5bdfe3(0x346)],'message':_0x260cb9,'messageType':_0x50a0a0,'message_normalized':{'key':_0xc540ca[_0x5bdfe3(0x349)],'pushName':_0xc540ca[_0x5bdfe3(0x346)],'messageTimestamp':_0xc540ca['messageTimestamp'],'source':(0x0,w[_0x5bdfe3(0x5a0)])(_0xc540ca[_0x5bdfe3(0x349)]['id']),..._0x128ad2},'messageTimestamp':_0xc540ca[_0x5bdfe3(0x296)],'owner':this['instance'][_0x5bdfe3(0x456)],'source':(0x0,w[_0x5bdfe3(0x5a0)])(_0xc540ca[_0x5bdfe3(0x349)]['id']),'expiration':_0x56527e?.[_0x5bdfe3(0x59b)]?.['expiration']||0x0};_0x56527e||(this[_0x5bdfe3(0x82a)]['error'](_0x5bdfe3(0x6b2)),this[_0x5bdfe3(0x82a)][_0x5bdfe3(0x495)](_0x487b17)),this[_0x5bdfe3(0x82a)][_0x5bdfe3(0x1a4)](this[_0x5bdfe3(0x798)]+'\x20('+this[_0x5bdfe3(0x478)][_0x5bdfe3(0x456)]+_0x5bdfe3(0x1db)+(_0x487b17[_0x5bdfe3(0x349)]?.[_0x5bdfe3(0x536)]?_0x5bdfe3(0x442):'recebido\x20de')+'\x20['+_0x487b17['key']?.['remoteJid'][_0x5bdfe3(0x1ee)](_0x5bdfe3(0x279),'')+_0x5bdfe3(0x28d)+_0x487b17['messageType']+')'),_0x487b17[_0x5bdfe3(0x2b0)]?.[_0x5bdfe3(0x210)]&&this[_0x5bdfe3(0x82a)][_0x5bdfe3(0x1a4)](_0xc540ca[_0x5bdfe3(0x349)]['id']+':\x20'+_0x487b17['message_normalized']?.[_0x5bdfe3(0x210)]),await this[_0x5bdfe3(0x6ae)][_0x5bdfe3(0x5af)][_0x5bdfe3(0x39f)]([_0x487b17],this[_0x5bdfe3(0x478)]['wuid']),this[_0x5bdfe3(0x36a)](_0x5bdfe3(0x375),_0x487b17),q(this[_0x5bdfe3(0x798)],_0x5bdfe3(0x4f1),{'message':_0x487b17}),_0xc540ca['key'][_0x5bdfe3(0x6f5)]!=='status@broadcast'&&await this[_0x5bdfe3(0x343)](_0x323ece,_0x487b17,_0x5bdfe3(0x712));}},'messages.update':async(_0xdc0b11,_0xc56be0)=>{const _0x5ac34c=_0x5cc780;let _0x521f3d={0x0:_0x5ac34c(0x1d6),0x1:_0x5ac34c(0x6a2),0x2:_0x5ac34c(0x71a),0x3:_0x5ac34c(0x292),0x4:'READ',0x5:_0x5ac34c(0x1fc)};for await(let {key:_0x270faf,update:_0x33a10b}of _0xdc0b11){if(this[_0x5ac34c(0x2c7)]?.[_0x5ac34c(0x710)]&&_0x270faf[_0x5ac34c(0x6f5)][_0x5ac34c(0x708)](_0x5ac34c(0x398))){this[_0x5ac34c(0x82a)][_0x5ac34c(0x216)](this['instanceName']+'\x20('+this[_0x5ac34c(0x478)][_0x5ac34c(0x456)]+_0x5ac34c(0x70e));return;}if(_0x270faf[_0x5ac34c(0x6f5)]!==_0x5ac34c(0x5c8)){let _0x556d85=Date[_0x5ac34c(0x810)](),_0x54bd9b;_0x33a10b[_0x5ac34c(0x5af)]===null&&_0x33a10b[_0x5ac34c(0x5f7)]===void 0x0?_0x54bd9b=_0x5ac34c(0x212):_0x54bd9b=_0x521f3d[_0x33a10b[_0x5ac34c(0x5f7)]];let _0x537225=_0x270faf[_0x5ac34c(0x6f5)][_0x5ac34c(0x1ee)](/:\d{1,2}@/g,'@'),_0x3fc4e4={..._0x270faf,'remoteJid':_0x537225,'status':_0x54bd9b,'datetime':_0x556d85,'owner':this[_0x5ac34c(0x478)][_0x5ac34c(0x456)]};this['sendDataWebhook'](_0x5ac34c(0x1a7),_0x3fc4e4),await this[_0x5ac34c(0x7ae)](_0x270faf,_0x3fc4e4);}}},'labels.association':async({type:_0x243bf3,association:_0x20836e})=>{const _0x4527cc=_0x5cc780;if(_0x20836e[_0x4527cc(0x3c1)]==='label_jid'){let _0x4a6efb,_0x45b19f=0x0;for(;!_0x4a6efb&&_0x45b19f<this[_0x4527cc(0x476)];)_0x4a6efb=await this[_0x4527cc(0x6ae)][_0x4527cc(0x6eb)][_0x4527cc(0x654)]({'where':{'_id':_0x20836e[_0x4527cc(0x340)]}},this[_0x4527cc(0x478)]['wuid']),_0x4a6efb||(_0x45b19f++,this['logger'][_0x4527cc(0x2e4)](this[_0x4527cc(0x798)]+'\x20('+this[_0x4527cc(0x478)][_0x4527cc(0x456)]+_0x4527cc(0x1c7)+_0x20836e[_0x4527cc(0x340)]+_0x4527cc(0x164)+this[_0x4527cc(0x87f)]+'ms\x20(tentativa\x20'+_0x45b19f+'/'+this[_0x4527cc(0x476)]+')'),await this[_0x4527cc(0x2c0)](this[_0x4527cc(0x87f)]));if(!_0x4a6efb){this[_0x4527cc(0x82a)]['error'](_0x4527cc(0x851)+_0x20836e[_0x4527cc(0x340)]+_0x4527cc(0x3d3)+this[_0x4527cc(0x476)]+_0x4527cc(0x33a));return;}switch(_0x243bf3){case _0x4527cc(0x136):console[_0x4527cc(0x1a4)](_0x20836e),await this[_0x4527cc(0x6ae)][_0x4527cc(0x6eb)][_0x4527cc(0x768)]({'where':{'_id':_0x20836e[_0x4527cc(0x340)]}},{'leadInfo.etiquetas':_0x20836e['labelId']},this[_0x4527cc(0x478)][_0x4527cc(0x456)],void 0x0,_0x4527cc(0x68c));break;case _0x4527cc(0x338):console['log'](_0x20836e),await this[_0x4527cc(0x6ae)]['chat'][_0x4527cc(0x768)]({'where':{'_id':_0x20836e[_0x4527cc(0x340)]}},{'leadInfo.etiquetas':_0x20836e['labelId']},this['instance'][_0x4527cc(0x456)],void 0x0,_0x4527cc(0x56e));break;default:this[_0x4527cc(0x82a)][_0x4527cc(0x495)](_0x4527cc(0x7df)+_0x243bf3+']');}}},'labels.edit':async _0x11004f=>{const _0x10a35f=_0x5cc780;if(!_0x11004f||!_0x11004f['id']){this['logger']['error'](_0x10a35f(0x557));return;}if(!_0x11004f['deleted']){let _0x3868c2=['#ff9484',_0x10a35f(0x363),_0x10a35f(0x242),_0x10a35f(0x2fd),_0x10a35f(0x53c),_0x10a35f(0x14b),_0x10a35f(0x75e),'#d3a91f',_0x10a35f(0x302),_0x10a35f(0x40a),_0x10a35f(0x569),'#ffc5c7',_0x10a35f(0x7d5),_0x10a35f(0x46f),_0x10a35f(0x53d),_0x10a35f(0x771),'#ffae04','#b4ebff',_0x10a35f(0x25f),_0x10a35f(0x16d)],_0x3bdc8c;typeof _0x11004f[_0x10a35f(0x501)]==_0x10a35f(0x2be)&&_0x11004f['color']>=0x0&&_0x11004f[_0x10a35f(0x501)]<_0x3868c2[_0x10a35f(0x30d)]?_0x3bdc8c=_0x3868c2[_0x11004f['color']]:(this[_0x10a35f(0x82a)]['error'](_0x10a35f(0x497)+_0x11004f[_0x10a35f(0x501)]),_0x3bdc8c=_0x10a35f(0x470));let _0x3b71aa={'_id':_0x11004f['id'],'colorHex':_0x3bdc8c,'color':_0x11004f?.['color'],'name':_0x11004f?.[_0x10a35f(0x366)],'owner':this['instance'][_0x10a35f(0x456)]};await this['repository'][_0x10a35f(0x61e)][_0x10a35f(0x768)]({'where':{'_id':_0x11004f['id']}},_0x3b71aa,this[_0x10a35f(0x478)][_0x10a35f(0x456)]),this[_0x10a35f(0x82a)][_0x10a35f(0x2e4)](this['instanceName']+'\x20('+this['instance'][_0x10a35f(0x456)]+_0x10a35f(0x5b6)+_0x11004f);}_0x11004f[_0x10a35f(0x206)]&&(await this[_0x10a35f(0x6ae)][_0x10a35f(0x61e)][_0x10a35f(0x17e)]({'where':{'_id':_0x11004f['id']}},this[_0x10a35f(0x478)][_0x10a35f(0x456)]),this[_0x10a35f(0x82a)]['info'](_0x10a35f(0x1dd)+_0x11004f['id']));}},this['groupHandler']={'groups.upsert':async _0x5825db=>{const _0x796fac=_0x5cc780;this[_0x796fac(0x2c7)]?.[_0x796fac(0x710)]||this[_0x796fac(0x36a)]('groups.upsert',_0x5825db);for(let _0x23f496 of _0x5825db)await this['updateGroupWebhook'](_0x23f496);},'groups.update':async _0x1e6c42=>{const _0x5e6b72=_0x5cc780;this[_0x5e6b72(0x2c7)]?.[_0x5e6b72(0x710)]||this[_0x5e6b72(0x36a)](_0x5e6b72(0x1e4),_0x1e6c42);for(let _0x4b6375 of _0x1e6c42)await this[_0x5e6b72(0x468)](_0x4b6375);},'group-participants.update':async _0x217515=>{const _0x38473b=_0x5cc780;this['localWebhook']?.[_0x38473b(0x710)]||this['sendDataWebhook'](_0x38473b(0x520),_0x217515),await this[_0x38473b(0x769)](_0x217515);}},this[_0x5cc780(0x476)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x5cc780(0x7ec)]=0x0,this['processPollUpdateMessage']=async _0x337755=>{const _0x3eb9b4=_0x5cc780;if(_0x337755[_0x3eb9b4(0x5af)]?.[_0x3eb9b4(0x3a0)]){let _0x2752d4=await this[_0x3eb9b4(0x322)](_0x337755['message']['pollUpdateMessage'][_0x3eb9b4(0x7f9)],!0x0);if(_0x2752d4){let _0x123373=_0x2752d4[_0x3eb9b4(0x349)][_0x3eb9b4(0x536)]?this['instance'][_0x3eb9b4(0x456)]+_0x3eb9b4(0x279):_0x2752d4[_0x3eb9b4(0x349)][_0x3eb9b4(0x7db)]||_0x2752d4['key'][_0x3eb9b4(0x6f5)],_0x5469bc=_0x2752d4[_0x3eb9b4(0x349)]['id'],_0x3e5054=_0x2752d4[_0x3eb9b4(0x5af)],_0x13055b=Buffer[_0x3eb9b4(0x696)](_0x3e5054['messageContextInfo']['messageSecret'][_0x3eb9b4(0x635)]('hex'),_0x3eb9b4(0x892)),_0x1c675a=(0x0,w[_0x3eb9b4(0x4ce)])(_0x337755[_0x3eb9b4(0x5af)][_0x3eb9b4(0x3a0)][_0x3eb9b4(0x331)],{'pollCreatorJid':_0x123373,'pollMsgId':_0x5469bc,'pollEncKey':_0x13055b,'voterJid':_0x337755[_0x3eb9b4(0x349)][_0x3eb9b4(0x536)]?this[_0x3eb9b4(0x478)][_0x3eb9b4(0x456)]+_0x3eb9b4(0x279):_0x337755['key']['remoteJid'][_0x3eb9b4(0x5a1)]('g.us')?_0x337755[_0x3eb9b4(0x349)][_0x3eb9b4(0x7db)]:_0x337755[_0x3eb9b4(0x349)][_0x3eb9b4(0x6f5)]}),_0xa637a4=[],_0x336e46=_0x1c675a[_0x3eb9b4(0x846)][_0x3eb9b4(0x639)](_0x2a9258=>Buffer[_0x3eb9b4(0x696)](_0x2a9258)[_0x3eb9b4(0x635)](_0x3eb9b4(0x892)));for(let {optionName:_0x36d3a0}of _0x3e5054[_0x3eb9b4(0x548)]?.[_0x3eb9b4(0x764)]||_0x3e5054[_0x3eb9b4(0x5f8)]?.[_0x3eb9b4(0x764)]||_0x3e5054[_0x3eb9b4(0x3cc)]?.[_0x3eb9b4(0x764)])_0x336e46['indexOf']((0x0,w['sha256'])(Buffer[_0x3eb9b4(0x696)](_0x36d3a0))[_0x3eb9b4(0x635)](_0x3eb9b4(0x892)))>-0x1&&_0xa637a4['push'](_0x36d3a0);return _0xa637a4;}}return null;},this[_0x5cc780(0x5b5)]=(_0x4cd69e,_0x549e38,_0x1f27f8)=>{const _0x2b9824=_0x5cc780;try{let _0x2fbb42=_0x4cd69e?(0x0,w['extractMessageContent'])(_0x4cd69e)[_0x549e38]:void 0x0,_0x5e2fe6={},_0x2f2e04=null,_0x2a66e1=null,_0xb1434a=null;_0x549e38==='protocolMessage'&&_0x2fbb42?.['editedMessage']&&(_0x549e38=(0x0,w[_0x2b9824(0x7b8)])(_0x2fbb42[_0x2b9824(0x85d)]),_0x2f2e04=_0x4cd69e[_0x2b9824(0x238)][_0x2b9824(0x349)]['id'],_0x2fbb42=_0x4cd69e['protocolMessage'][_0x2b9824(0x85d)][_0x549e38]),_0x4cd69e[_0x549e38]?.[_0x2b9824(0x59b)]?.[_0x2b9824(0x6e5)]&&_0x4cd69e[_0x549e38]?.[_0x2b9824(0x59b)]?.[_0x2b9824(0x622)]&&(_0x2a66e1=_0x4cd69e[_0x549e38][_0x2b9824(0x59b)][_0x2b9824(0x6e5)]),_0x4cd69e[_0x2b9824(0x59a)]&&(_0xb1434a=_0x4cd69e[_0x2b9824(0x59a)][_0x2b9824(0x349)]['id']);let _0x43c052;if(_0x2fbb42&&typeof _0x2fbb42==_0x2b9824(0x3ae)&&'pollCreationMessageKey'in _0x2fbb42&&({pollCreationMessageKey:_0x43c052}=_0x2fbb42),_0x549e38==='pollCreationMessage'||_0x549e38===_0x2b9824(0x3cc)||_0x549e38==='pollCreationMessageV3'){let _0x29259e=_0x2fbb42['options']['map'](_0x3417c0=>_0x3417c0[_0x2b9824(0x81d)])[_0x2b9824(0x52e)]('|');_0x5e2fe6[_0x2b9824(0x1a8)]=_0x29259e;}let _0x2da586='';if(_0x2fbb42&&(_0x2da586+=_0x2fbb42['name']?_0x2fbb42[_0x2b9824(0x366)]:'',_0x2da586+=_0x2fbb42[_0x2b9824(0x784)]?'\x20'+_0x2fbb42['caption']:'',_0x2da586+=_0x2fbb42[_0x2b9824(0x3cb)]?'\x20'+_0x2fbb42['conversation']:'',_0x2da586+=_0x2fbb42[_0x2b9824(0x342)]?'\x20'+_0x2fbb42[_0x2b9824(0x342)]:''),_0x549e38===_0x2b9824(0x37e)){_0x2da586=(_0x2fbb42[_0x2b9824(0x36d)]||'')+'\x0a'+(_0x2fbb42[_0x2b9824(0x406)]||'')+'\x0a'+(_0x2fbb42[_0x2b9824(0x7d0)]||'');let _0x418f32=this[_0x2b9824(0x22b)](_0x2fbb42[_0x2b9824(0x2bb)]);_0x5e2fe6[_0x2b9824(0x1a8)]=_0x418f32;}if(_0x549e38===_0x2b9824(0x6dd)&&(_0x1f27f8=_0x2fbb42[_0x2b9824(0x36d)]),_0x2fbb42&&_0x2fbb42['vcard']){let _0x5196f9=this[_0x2b9824(0x2e8)](JSON[_0x2b9824(0x15a)](_0x2fbb42[_0x2b9824(0x270)],null,0x2));_0x2da586=_0x2da586+'\x0a'+_0x5196f9;}if(_0x2fbb42){let {sections:_0x4adf2a,listType:_0x1b5a94,displayName:_0x45bfb7,vcard:_0x3b55bb,contactVcard:_0x1633e7,name:_0x13bb0f,caption:_0x4dd68f,conversation:_0x58c39c,pollCreationMessageKey:_0x2641d,footerText:_0x2957cf,contentText:_0x18fc43,pageCount:_0x1acfea,headerType:_0x2622ca,isAvatar:_0x2f73b8,isAnimated:_0x2f4eb6,fallbackLc:_0x570bc5,fallbackLg:_0x2974b5,namespace:_0x22a7b4,elementName:_0x3e9712,localizableParams:_0x1debee,viewOnce:_0x13ae78,height:_0x280942,width:_0x330fab,key:_0x23ad72,firstScanLength:_0x1f14ec,firstScanSidecar:_0x39990a,gifPlayback:_0x42caca,gifAttribution:_0xe22b71,midQualityFileSha256:_0x403810,scansSidecar:_0x3f6740,streamingSidecar:_0xfd2959,thumbnailHeight:_0x39df23,thumbnailWidth:_0x8d945b,thumbnailEncSha256:_0x108d55,thumbnailDirectPath:_0x270743,canonicalUrl:_0x102856,matchedText:_0x4a0f6d,previewType:_0x259f83,thumbnailSha256:_0x2f58eb,deviceListMetadataVersion:_0x4c83a9,inviteLinkGroupTypeV2:_0x55ff01,interactiveAnnotations:_0x580c2d,scanLengths:_0x658df5,jpegThumbnail:_0x2b74de,url:_0x4ba187,mediaKeyTimestamp:_0x43313d,waveform:_0x2350ff,stickerSentTs:_0x2338bd,firstFrameLength:_0x1060ff,fileEncSha256:_0x5743d0,contextInfo:_0x2a1f21,firstFrameSidecar:_0x391b4e,directPath:_0x1dd0eb,fileSha256:_0x517494,mediaKey:_0x90db9c,senderTimestampMs:_0x33f5cc,..._0x21e4fa}=_0x2fbb42;(_0x549e38===_0x2b9824(0x37e)||_0x549e38===_0x2b9824(0x6dd))&&(delete _0x21e4fa[_0x2b9824(0x36d)],delete _0x21e4fa[_0x2b9824(0x406)]),typeof _0x2fbb42=='string'?_0x5e2fe6={'text':_0x2fbb42,'type':_0x549e38||_0x2b9824(0x3cb),..._0x2f2e04&&{'edited':_0x2f2e04},..._0x2a66e1&&{'quoted':_0x2a66e1},..._0xb1434a&&{'reaction':_0xb1434a}}:_0x5e2fe6={'text':_0x2da586,..._0x21e4fa,..._0x549e38===_0x2b9824(0x3a0)?{'poll_id':_0x2fbb42['pollCreationMessageKey']['id'],'quoted':_0x2fbb42[_0x2b9824(0x7f9)]['id'],'vote':_0x1f27f8}:{},..._0x549e38===_0x2b9824(0x6dd)?{'vote':_0x1f27f8}:{},'type':_0x549e38,..._0x2f2e04&&{'edited':_0x2f2e04},..._0x2a66e1&&{'quoted':_0x2a66e1},..._0xb1434a&&{'reaction':_0xb1434a},...(_0x549e38===_0x2b9824(0x548)||_0x549e38==='pollCreationMessageV2'||_0x549e38===_0x2b9824(0x5f8)||_0x549e38===_0x2b9824(0x37e))&&{'convertedOptions':_0x5e2fe6[_0x2b9824(0x1a8)]}};}return{'messageType':_0x549e38,'messageContent':_0x2fbb42,'message_normalized':_0x5e2fe6};}catch(_0x3ef732){return this[_0x2b9824(0x82a)][_0x2b9824(0x495)](_0x2b9824(0x870)+_0x3ef732),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x5cc780(0x4bd)]=new Ls[(_0x5cc780(0x3c3))](),this[_0x5cc780(0x889)]=new Ls[(_0x5cc780(0x3c3))](),this[_0x5cc780(0x55a)]=null,this[_0x5cc780(0x39e)]=[],(this['cleanStore'](),this['instance'][_0x5cc780(0x4e7)]={'count':0x0},this[_0x5cc780(0x478)][_0x5cc780(0x50c)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set['instanceName'](_0x240dc6){const _0x4025b3=a0_0x2a87a6;if(!_0x240dc6){this['instance'][_0x4025b3(0x366)]=(0x0,xi['v4'])();return;}this[_0x4025b3(0x478)][_0x4025b3(0x366)]=_0x240dc6,this[_0x4025b3(0x36a)](_0x4025b3(0x350),{'instance':this['instance'][_0x4025b3(0x366)],'status':_0x4025b3(0x295)});}get[a0_0x2a87a6(0x798)](){const _0x496a22=a0_0x2a87a6;return this[_0x496a22(0x478)]['name'];}get[a0_0x2a87a6(0x456)](){const _0xfd1872=a0_0x2a87a6;return this[_0xfd1872(0x478)][_0xfd1872(0x456)];}async['getProfileName'](){const _0x50f263=a0_0x2a87a6;let _0x817f32=this['client']['user']?.[_0x50f263(0x366)]??this[_0x50f263(0x47c)][_0x50f263(0x4ed)]?.[_0x50f263(0x4bb)];if(!_0x817f32){if(this['configService']['get'](_0x50f263(0x2a1))['ENABLED']){let _0x4098bc=await R['getClient']()['db'](this['configService'][_0x50f263(0x7eb)](_0x50f263(0x2a1))[_0x50f263(0x68d)][_0x50f263(0x693)]+'-instances')[_0x50f263(0x178)](this['instanceName'])['findOne']({'_id':_0x50f263(0x899)});if(_0x4098bc){let _0x4b76d3=JSON[_0x50f263(0x510)](JSON[_0x50f263(0x15a)](_0x4098bc),w[_0x50f263(0x245)][_0x50f263(0x290)]);_0x817f32=_0x4b76d3['me']?.[_0x50f263(0x366)]||_0x4b76d3['me']?.[_0x50f263(0x4bb)];}}else{if((0x0,Fe[_0x50f263(0x534)])((0x0,j['join'])(Me,this[_0x50f263(0x798)],'creds.json'))){let _0x1e2ba4=JSON[_0x50f263(0x510)]((0x0,Fe[_0x50f263(0x47b)])((0x0,j['join'])(Me,this[_0x50f263(0x798)],'creds.json'),{'encoding':'utf-8'}));_0x817f32=_0x1e2ba4['me']?.['name']||_0x1e2ba4['me']?.[_0x50f263(0x4bb)];}}}return _0x817f32;}get['profilePictureUrl'](){const _0x2eea1e=a0_0x2a87a6;return this[_0x2eea1e(0x478)][_0x2eea1e(0x70c)];}get[a0_0x2a87a6(0x5c3)](){const _0x44c7fb=a0_0x2a87a6;return this[_0x44c7fb(0x478)][_0x44c7fb(0x4e7)]?.['pairingCode']?{'pairingCode':this[_0x44c7fb(0x478)][_0x44c7fb(0x4e7)]?.[_0x44c7fb(0x425)]}:{'code':this[_0x44c7fb(0x478)][_0x44c7fb(0x4e7)]?.[_0x44c7fb(0x3f6)],'base64':this['instance'][_0x44c7fb(0x4e7)]?.[_0x44c7fb(0x746)]};}async[a0_0x2a87a6(0x314)](){const _0x29e582=a0_0x2a87a6;let _0x128a9b=await this[_0x29e582(0x6ae)][_0x29e582(0x2d6)][_0x29e582(0x2f6)](this[_0x29e582(0x798)]);this[_0x29e582(0x2c7)][_0x29e582(0x1a2)]=_0x128a9b?.[_0x29e582(0x1a2)],this[_0x29e582(0x2c7)]['enabled']=_0x128a9b?.[_0x29e582(0x6d1)],this[_0x29e582(0x2c7)][_0x29e582(0x498)]=_0x128a9b?.[_0x29e582(0x498)],this[_0x29e582(0x2c7)][_0x29e582(0x78b)]=_0x128a9b?.[_0x29e582(0x78b)],this[_0x29e582(0x2c7)][_0x29e582(0x6cc)]=_0x128a9b?.[_0x29e582(0x6cc)],this[_0x29e582(0x2c7)]['SEND_MESSAGE']=_0x128a9b?.[_0x29e582(0x3a8)],this[_0x29e582(0x2c7)][_0x29e582(0x712)]=_0x128a9b?.[_0x29e582(0x712)],this['localWebhook'][_0x29e582(0x1e2)]=_0x128a9b?.[_0x29e582(0x1e2)],this[_0x29e582(0x2c7)]['GROUPS_UPSERT']=_0x128a9b?.[_0x29e582(0x508)],this['localWebhook'][_0x29e582(0x1e3)]=_0x128a9b?.[_0x29e582(0x1e3)],this[_0x29e582(0x2c7)]['GROUP_PARTICIPANTS_UPDATE']=_0x128a9b?.[_0x29e582(0x195)],this[_0x29e582(0x2c7)][_0x29e582(0x85a)]=_0x128a9b?.[_0x29e582(0x85a)],this[_0x29e582(0x2c7)][_0x29e582(0x631)]=_0x128a9b?.['CHATS_UPSERT'],this[_0x29e582(0x2c7)][_0x29e582(0x3c8)]=_0x128a9b?.[_0x29e582(0x3c8)],this[_0x29e582(0x2c7)]['CHATS_DELETE']=_0x128a9b?.[_0x29e582(0x650)],this[_0x29e582(0x2c7)]['CONTACTS_SET']=_0x128a9b?.[_0x29e582(0x25b)],this[_0x29e582(0x2c7)][_0x29e582(0x87d)]=_0x128a9b?.[_0x29e582(0x87d)],this[_0x29e582(0x2c7)]['CONTACTS_UPDATE']=_0x128a9b?.[_0x29e582(0x4cb)],this[_0x29e582(0x2c7)]['PRESENCE_UPDATE']=_0x128a9b?.[_0x29e582(0x426)],this[_0x29e582(0x2c7)][_0x29e582(0x735)]=_0x128a9b?.[_0x29e582(0x735)],this[_0x29e582(0x2c7)][_0x29e582(0x4e4)]=_0x128a9b?.[_0x29e582(0x4e4)],this['localWebhook'][_0x29e582(0x710)]=_0x128a9b?.[_0x29e582(0x710)];}async[a0_0x2a87a6(0x5ff)](_0x1ae7d3){const _0x4aaea0=a0_0x2a87a6;let _0x271fba=['_id','url',_0x4aaea0(0x6d1),_0x4aaea0(0x498),_0x4aaea0(0x78b),'QRCODE_UPDATED','MESSAGES_UPDATE',_0x4aaea0(0x712),_0x4aaea0(0x3a8),_0x4aaea0(0x508),_0x4aaea0(0x1e3),'GROUP_PARTICIPANTS_UPDATE',_0x4aaea0(0x85a),_0x4aaea0(0x631),_0x4aaea0(0x3c8),_0x4aaea0(0x650),_0x4aaea0(0x25b),_0x4aaea0(0x87d),_0x4aaea0(0x4cb),_0x4aaea0(0x426),_0x4aaea0(0x735),_0x4aaea0(0x4e4),'groups_ignore'],_0xbd33d8={};return _0x271fba[_0x4aaea0(0x32f)](_0x576f66=>{_0x1ae7d3[_0x576f66]!==void 0x0&&(_0xbd33d8[_0x576f66]=_0x1ae7d3[_0x576f66]);}),_0xbd33d8['url']&&(_0xbd33d8[_0x4aaea0(0x1a2)]=_0xbd33d8[_0x4aaea0(0x1a2)][_0x4aaea0(0x6b0)]()),await this[_0x4aaea0(0x6ae)][_0x4aaea0(0x2d6)][_0x4aaea0(0x168)](_0xbd33d8,this[_0x4aaea0(0x798)]),Object['assign'](this['localWebhook'],_0xbd33d8),await this['repository'][_0x4aaea0(0x2d6)][_0x4aaea0(0x2f6)](this[_0x4aaea0(0x798)]);}async['findWebhook'](){const _0x2e2ae6=a0_0x2a87a6;return await this[_0x2e2ae6(0x6ae)][_0x2e2ae6(0x2d6)][_0x2e2ae6(0x2f6)](this[_0x2e2ae6(0x798)]);}async['sendDataWebhook'](_0x482c99,_0x5bfd6a){const _0x5ac420=a0_0x2a87a6;let _0x152d85=_0x482c99[_0x5ac420(0x1ee)](/[\.-]/gm,'_')[_0x5ac420(0x5e8)](),_0x491f1a=this[_0x5ac420(0x2c7)]['enabled']&&(0x0,L[_0x5ac420(0x638)])(this[_0x5ac420(0x2c7)][_0x5ac420(0x1a2)])?this['localWebhook'][_0x5ac420(0x1a2)]+(this['localWebhook'][_0x5ac420(0x498)]?this[_0x5ac420(0x5b1)][_0x482c99]:''):null,_0x5d1da1=this[_0x5ac420(0x2c7)][_0x152d85],_0xc63709=me&&me[_0x5ac420(0x6d1)]&&(0x0,L[_0x5ac420(0x638)])(me[_0x5ac420(0x1a2)])?me[_0x5ac420(0x1a2)]+(me['local_map']?this[_0x5ac420(0x5b1)][_0x482c99]:''):null,_0xa3acf0=me?me[_0x152d85]:null;if(_0x5d1da1&&_0x491f1a)try{await te[_0x5ac420(0x667)]['create']({'baseURL':_0x491f1a})[_0x5ac420(0x641)]('',{'event':_0x482c99,'instance':this[_0x5ac420(0x478)][_0x5ac420(0x366)],'apikey':this['instance']['apikey'],'data':_0x5bfd6a}),this[_0x5ac420(0x82a)]['log'](this[_0x5ac420(0x798)]+'\x20('+this[_0x5ac420(0x478)][_0x5ac420(0x456)]+_0x5ac420(0x767)+_0x482c99+':\x20'+_0x491f1a);}catch{this[_0x5ac420(0x82a)][_0x5ac420(0x495)](this[_0x5ac420(0x798)]+'\x20('+this[_0x5ac420(0x478)][_0x5ac420(0x456)]+_0x5ac420(0x7b7)+_0x482c99+':\x20'+_0x491f1a);}if(_0xa3acf0&&_0xc63709)try{await te[_0x5ac420(0x667)][_0x5ac420(0x168)]({'baseURL':_0xc63709})[_0x5ac420(0x641)]('',{'event':_0x482c99,'instance':this['instance'][_0x5ac420(0x366)],'apikey':this[_0x5ac420(0x478)][_0x5ac420(0x725)],'data':_0x5bfd6a}),this['logger']['log'](this['instanceName']+'\x20('+this['instance'][_0x5ac420(0x456)]+_0x5ac420(0x2af)+_0x482c99+':\x20'+_0xc63709);}catch{this[_0x5ac420(0x82a)]['error'](this['instanceName']+'\x20('+this[_0x5ac420(0x478)][_0x5ac420(0x456)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x482c99+':\x20'+_0xc63709);}}async[a0_0x2a87a6(0x62b)]({qr:_0x24bdac,connection:_0x48b8c9,lastDisconnect:_0x34e7c2}){const _0x478c95=a0_0x2a87a6;if(_0x24bdac){if(this[_0x478c95(0x478)][_0x478c95(0x4e7)]['count']===Uo)return this[_0x478c95(0x36a)](_0x478c95(0x766),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x478c95(0x79f)][_0x478c95(0x4b0)]}),this[_0x478c95(0x70d)]={'state':_0x478c95(0x32b),'statusReason':w[_0x478c95(0x79f)][_0x478c95(0x397)]},this[_0x478c95(0x36a)](_0x478c95(0x475),{'instance':this['instance'][_0x478c95(0x366)],...this['stateConnection']}),this[_0x478c95(0x36a)](_0x478c95(0x350),{'instance':this[_0x478c95(0x478)][_0x478c95(0x366)],'status':_0x478c95(0x18a)}),this[_0x478c95(0x6ae)][_0x478c95(0x674)][_0x478c95(0x17e)](this['instance'][_0x478c95(0x366)]),this[_0x478c95(0x791)]=!0x0,re['removeIPv6ById'](K,this[_0x478c95(0x478)][_0x478c95(0x366)]),this[_0x478c95(0x546)]['emit'](_0x478c95(0x6a5),this['instance']['name']);this[_0x478c95(0x478)]['qrcode']['count']++;let _0x46c43d={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x478c95(0x470)}};Di['default'][_0x478c95(0x2b7)](_0x24bdac,_0x46c43d,(_0x41a880,_0xcdd900)=>{const _0x53a393=_0x478c95;if(_0x41a880){this['logger'][_0x53a393(0x495)](this['instanceName']+'\x20('+this[_0x53a393(0x478)]['wuid']+_0x53a393(0x52a)+(_0x41a880 instanceof Error?_0x41a880[_0x53a393(0x5af)]:JSON[_0x53a393(0x15a)](_0x41a880,null,0x2)));return;}this[_0x53a393(0x478)][_0x53a393(0x4e7)]['base64']=_0xcdd900,this[_0x53a393(0x478)][_0x53a393(0x4e7)]['code']=_0x24bdac,!this['phoneNumber']&&this['sendDataWebhook'](_0x53a393(0x766),{'qrcode':{'instance':this[_0x53a393(0x478)][_0x53a393(0x366)],'pairingCode':this['instance'][_0x53a393(0x4e7)]['pairingCode'],'code':_0x24bdac,'base64':_0xcdd900}});}),this['phoneNumber']?this[_0x478c95(0x478)]['qrcode'][_0x478c95(0x425)]||(await(0x0,w[_0x478c95(0x6c6)])(0x7d0),this[_0x478c95(0x478)][_0x478c95(0x4e7)][_0x478c95(0x425)]=await this[_0x478c95(0x47c)]['requestPairingCode'](this[_0x478c95(0x843)])):this[_0x478c95(0x478)][_0x478c95(0x4e7)][_0x478c95(0x425)]=null,Pi[_0x478c95(0x667)][_0x478c95(0x6aa)](_0x24bdac,{'small':!0x0},_0x3d65ba=>this[_0x478c95(0x82a)][_0x478c95(0x1a4)]('\x0a{\x20instance:\x20'+this[_0x478c95(0x478)]['name']+_0x478c95(0x6c4)+this[_0x478c95(0x478)][_0x478c95(0x4e7)][_0x478c95(0x2e2)]+_0x478c95(0x386)+this[_0x478c95(0x478)][_0x478c95(0x4e7)][_0x478c95(0x425)]+_0x478c95(0x199)+_0x3d65ba));}if(_0x48b8c9&&(this['stateConnection']={'state':_0x48b8c9,'statusReason':_0x34e7c2?.['error']?.['output']?.[_0x478c95(0x838)]??0xc8},this['sendDataWebhook']('connection.update',{'instance':this['instance'][_0x478c95(0x366)],...this[_0x478c95(0x70d)]})),_0x48b8c9==='close'){if(this[_0x478c95(0x443)]++,this[_0x478c95(0x3dc)][_0x478c95(0x67c)](Date[_0x478c95(0x810)]()),this[_0x478c95(0x3dc)]=this['reconnectTimestamps'][_0x478c95(0x17c)](_0x566968=>Date[_0x478c95(0x810)]()-_0x566968<this['RECONNECT_TIME_FRAME']),_0x34e7c2['error']?.[_0x478c95(0x151)]?.[_0x478c95(0x838)]!==w[_0x478c95(0x79f)][_0x478c95(0x778)]){let _0x5aa9f6=this[_0x478c95(0x443)]<=0x1?0x0:Math[_0x478c95(0x454)](Math['pow'](0x2,this[_0x478c95(0x443)]-0x1)*0x3e8,0x493e0);console[_0x478c95(0x1a4)](this[_0x478c95(0x798)]+_0x478c95(0x141)+this[_0x478c95(0x443)]+_0x478c95(0x169)+_0x5aa9f6/0x3e8+_0x478c95(0x2a0)),await new Promise(_0x3a8b3d=>setTimeout(_0x3a8b3d,_0x5aa9f6)),console[_0x478c95(0x1a4)](_0x478c95(0x6b4)),await this[_0x478c95(0x617)]();}else{this[_0x478c95(0x36a)](_0x478c95(0x350),{'instance':this[_0x478c95(0x478)][_0x478c95(0x366)],'status':_0x478c95(0x18a)}),this[_0x478c95(0x478)][_0x478c95(0x50c)][_0x478c95(0x1d0)]=!0x1,this[_0x478c95(0x6ae)]['webhook'][_0x478c95(0x17e)](this[_0x478c95(0x798)]),this[_0x478c95(0x6ae)][_0x478c95(0x674)][_0x478c95(0x168)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x478c95(0x810)]()},this[_0x478c95(0x478)]['name']),re['removeIPv6ById'](K,this[_0x478c95(0x478)][_0x478c95(0x366)]);try{this[_0x478c95(0x82a)][_0x478c95(0x216)](this[_0x478c95(0x798)]+'\x20('+this['instance'][_0x478c95(0x456)]+_0x478c95(0x34b));let _0x4d0174=await this['repository']['message'][_0x478c95(0x465)](this['instance'][_0x478c95(0x456)]);_0x4d0174[_0x478c95(0x3da)]?this['logger'][_0x478c95(0x216)](this['instanceName']+'\x20('+this[_0x478c95(0x478)][_0x478c95(0x456)]+_0x478c95(0x49f)):this['logger'][_0x478c95(0x495)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x4d0174['error']);}catch(_0x3d95b5){this[_0x478c95(0x82a)][_0x478c95(0x495)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x3d95b5[_0x478c95(0x5af)]);}this[_0x478c95(0x478)][_0x478c95(0x50c)][_0x478c95(0x171)]!==null&&(this[_0x478c95(0x82a)][_0x478c95(0x216)](this['instanceName']+'\x20('+this[_0x478c95(0x478)][_0x478c95(0x456)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x478c95(0x478)][_0x478c95(0x50c)]['delayMessage']),this[_0x478c95(0x478)][_0x478c95(0x50c)][_0x478c95(0x171)]=null),this['logger']['verbose'](this[_0x478c95(0x798)]+'\x20('+this[_0x478c95(0x478)][_0x478c95(0x456)]+_0x478c95(0x6e3)),this['AutomateSystem']=null,this[_0x478c95(0x546)]['emit'](_0x478c95(0x70f),this[_0x478c95(0x478)]['name'],_0x478c95(0x326)),this[_0x478c95(0x47c)]?.['ws']?.[_0x478c95(0x516)](),this[_0x478c95(0x47c)][_0x478c95(0x6d5)](new Error(_0x478c95(0x758)));}}if(_0x48b8c9===_0x478c95(0x2cd)){this[_0x478c95(0x82a)][_0x478c95(0x3fa)](this['instanceName']+'\x20('+this[_0x478c95(0x478)]['wuid']+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x478c95(0x47c)]['authState']['creds']?.[_0x478c95(0x197)]),this[_0x478c95(0x47c)][_0x478c95(0x474)][_0x478c95(0x899)]?.[_0x478c95(0x197)]||(this[_0x478c95(0x82a)][_0x478c95(0x3fa)](this[_0x478c95(0x798)]+'\x20('+this['instance'][_0x478c95(0x456)]+_0x478c95(0x7d1)),this[_0x478c95(0x47c)]['ev'][_0x478c95(0x7bb)]()),this[_0x478c95(0x134)],this[_0x478c95(0x478)][_0x478c95(0x456)]=this[_0x478c95(0x47c)][_0x478c95(0x4ed)]['id'][_0x478c95(0x1ee)](/:\d+/,'')['replace'](_0x478c95(0x279),''),this[_0x478c95(0x478)][_0x478c95(0x70c)]=(await this['profilePicture'](this['instance'][_0x478c95(0x456)]+_0x478c95(0x279)))[_0x478c95(0x70c)],this[_0x478c95(0x6ae)][_0x478c95(0x674)][_0x478c95(0x168)]({'online':!0x0,'owner':this[_0x478c95(0x478)]['wuid'],'lastDisconnect':null},this[_0x478c95(0x478)]['name']);let _0x59d7ce='Número:\x20'+this[_0x478c95(0x478)]['wuid'],_0x39bbbf=0x28,_0x1e72f8=Math[_0x478c95(0x6f8)]((_0x39bbbf-_0x59d7ce[_0x478c95(0x30d)])/0x2),_0x14c5d5='\x20'[_0x478c95(0x792)](_0x1e72f8),_0x56707e=_0x478c95(0x599),_0x4e8934=_0x478c95(0x1ff)+this[_0x478c95(0x478)][_0x478c95(0x366)],_0x510511=(''+_0x14c5d5+_0x59d7ce+_0x14c5d5)['padEnd'](_0x39bbbf,'\x20'),_0x1adf46=(''+_0x14c5d5+_0x56707e+_0x14c5d5)[_0x478c95(0x3df)](_0x39bbbf,'\x20'),_0x5919df=(''+_0x14c5d5+_0x4e8934+_0x14c5d5)[_0x478c95(0x3df)](_0x39bbbf,'\x20'),_0x1f954c=Math[_0x478c95(0x653)](_0x510511[_0x478c95(0x30d)],_0x1adf46['length'],_0x5919df[_0x478c95(0x30d)]),_0xfb1239=_0x510511[_0x478c95(0x3df)](_0x1f954c,'\x20'),_0x46b58a=_0x1adf46[_0x478c95(0x3df)](_0x1f954c,'\x20'),_0x1b70b3=_0x5919df[_0x478c95(0x3df)](_0x1f954c,'\x20');this['logger'][_0x478c95(0x2e4)]((_0x478c95(0x564)+'─'['repeat'](_0x1f954c)+_0x478c95(0x760)+_0x46b58a+_0x478c95(0x260)+_0x1b70b3+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xfb1239+_0x478c95(0x250)+'─'[_0x478c95(0x792)](_0x1f954c)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x478c95(0x66c)](),this['instance'][_0x478c95(0x50c)][_0x478c95(0x1d0)]=!0x0;}}[a0_0x2a87a6(0x134)](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async[a0_0x2a87a6(0x322)](_0x5e62ec,_0x526cb8=!0x1){const _0x205c1a=a0_0x2a87a6;try{let _0x2ac54c=await this[_0x205c1a(0x6ae)]['message'][_0x205c1a(0x2f6)]({'where':{'_id':_0x5e62ec['id']}},this[_0x205c1a(0x478)][_0x205c1a(0x456)]);return _0x526cb8?_0x2ac54c[0x0]:_0x2ac54c[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x2a87a6(0x610)](){const _0x384c74=a0_0x2a87a6;let _0x9b648b=this[_0x384c74(0x5ca)][_0x384c74(0x7eb)](_0x384c74(0x6ec)),_0x1936ff=this[_0x384c74(0x5ca)][_0x384c74(0x7eb)](_0x384c74(0x2a1));_0x9b648b?.[_0x384c74(0x6fb)]&&!_0x1936ff['ENABLED']&&setInterval(()=>{const _0x286aca=_0x384c74;try{for(let [_0x45b142,_0x36059c]of Object[_0x286aca(0x58a)](_0x9b648b))_0x36059c===!0x0&&(0x0,Ue[_0x286aca(0x67d)])('rm\x20-rf\x20'+(0x0,j[_0x286aca(0x52e)])(this['storePath'],_0x45b142[_0x286aca(0x203)](),this[_0x286aca(0x478)][_0x286aca(0x456)])+_0x286aca(0x388));}catch{}},(_0x9b648b?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x2a87a6(0x395)](){const _0x337074=a0_0x2a87a6;let _0x60fe86=this['configService'][_0x337074(0x7eb)](_0x337074(0x2a1)),_0x1c36f9=this['configService']['get'](_0x337074(0x304));return _0x1c36f9?.[_0x337074(0x15e)]?await xs(_0x1c36f9,this['instance']['name']):_0x60fe86[_0x337074(0x15e)]?await _s(this[_0x337074(0x478)][_0x337074(0x366)]):await(0x0,w[_0x337074(0x5b0)])((0x0,j[_0x337074(0x52e)])(Me,this[_0x337074(0x478)]['name']));}async[a0_0x2a87a6(0x66c)](){const _0x9564af=a0_0x2a87a6;let _0x370683=()=>Math[_0x9564af(0x6f8)](Math[_0x9564af(0x66f)]()*0x4e21)+0x7d0,_0x42aa55=async()=>{const _0xcaf57b=_0x9564af;if(!this['instance'][_0xcaf57b(0x50c)]['isConnected']){this[_0xcaf57b(0x82a)][_0xcaf57b(0x216)](this['instanceName']+'\x20('+this['instance'][_0xcaf57b(0x456)]+_0xcaf57b(0x6db)),this[_0xcaf57b(0x7ed)]=!0x1;return;}if(this[_0xcaf57b(0x478)]['wuid']&&this[_0xcaf57b(0x77d)]&&this[_0xcaf57b(0x478)][_0xcaf57b(0x50c)][_0xcaf57b(0x171)]!==null&&this[_0xcaf57b(0x478)][_0xcaf57b(0x50c)][_0xcaf57b(0x171)]!==void 0x0){let _0x14eb85=Math[_0xcaf57b(0x4c1)](this[_0xcaf57b(0x478)][_0xcaf57b(0x50c)][_0xcaf57b(0x171)]/0xea60);this[_0xcaf57b(0x82a)][_0xcaf57b(0x216)](this['instanceName']+'\x20('+this[_0xcaf57b(0x478)][_0xcaf57b(0x456)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x14eb85+_0xcaf57b(0x56c)),this[_0xcaf57b(0x7ed)]=!0x1;return;}else this['instance'][_0xcaf57b(0x456)]&&(this['logger']['verbose'](this[_0xcaf57b(0x798)]+'\x20('+this[_0xcaf57b(0x478)][_0xcaf57b(0x456)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0xcaf57b(0x77d)]||(await this['getAutomateSystem'](),this[_0xcaf57b(0x6ed)](),this[_0xcaf57b(0x66e)]()),(this[_0xcaf57b(0x478)][_0xcaf57b(0x50c)]['delayMessage']===null||this['instance']['ScheduleMessage']['delayMessage']===void 0x0)&&await this['scheduleNextCheck']());if(this[_0xcaf57b(0x7ed)]){let _0x41a0d9=_0x370683();this['logger'][_0xcaf57b(0x216)](this[_0xcaf57b(0x798)]+_0xcaf57b(0x5e3)+_0x41a0d9/0x3e8+_0xcaf57b(0x5f3)),setTimeout(_0x42aa55,_0x41a0d9);}};if(this[_0x9564af(0x7ed)])return;this[_0x9564af(0x7ed)]=!0x0;let _0x29b7a0=_0x370683();setTimeout(_0x42aa55,_0x29b7a0);}async['synchronizeAndMapFlows'](){const _0x55ea9d=a0_0x2a87a6;let _0x48e87b=this[_0x55ea9d(0x478)][_0x55ea9d(0x456)];try{let _0x8cfae0=await this[_0x55ea9d(0x6ae)][_0x55ea9d(0x452)][_0x55ea9d(0x3eb)]({'where':{'$or':[{'owner':_0x48e87b},{'whoCanUse':{'$in':[_0x48e87b]}},{'shareOwners':{'$in':[_0x48e87b]}}]}}),_0x5d927=new Map(this[_0x55ea9d(0x77d)][_0x55ea9d(0x70a)]['map'](_0x39d828=>[_0x39d828['_id'],_0x39d828])),_0x375882=_0x8cfae0[_0x55ea9d(0x639)](_0x5754ce=>{const _0xb0be27=_0x55ea9d;let _0x4a9262=_0x5d927[_0xb0be27(0x7eb)](_0x5754ce['_id']?.[_0xb0be27(0x635)]());return{'_id':_0x5754ce[_0xb0be27(0x2f9)]?.['toString'](),'name':_0x4a9262?.[_0xb0be27(0x366)]??_0x5754ce[_0xb0be27(0x366)],'default':_0x4a9262?.[_0xb0be27(0x667)]??_0x5754ce[_0xb0be27(0x667)]??!0x1,'startCommand':_0x4a9262?.[_0xb0be27(0x7ef)]??_0x5754ce['startCommandWord'],'minutesToClose':_0x4a9262?.['minutesToClose']??_0x5754ce[_0xb0be27(0x6c1)]??0xa,'readMessages':_0x4a9262?.[_0xb0be27(0x584)]??_0x5754ce[_0xb0be27(0x584)]??!0x1,'testingWith':_0x4a9262?.['testingWith']??_0x5754ce[_0xb0be27(0x32a)],'canEdit':_0x5754ce['owner']===_0x48e87b||(_0x5754ce[_0xb0be27(0x413)]??[])['includes'](_0x48e87b),'usersCount':(_0x5754ce[_0xb0be27(0x58c)]??[])['length']??0x0};}),_0x19de9e=!0x1;_0x375882[_0x55ea9d(0x32f)](_0x2a960c=>{const _0xbe2e7b=_0x55ea9d;_0x2a960c[_0xbe2e7b(0x667)]&&(_0x19de9e?_0x2a960c[_0xbe2e7b(0x667)]=!0x1:_0x19de9e=!0x0);}),this['AutomateSystem']['flows']=_0x375882;let _0x1812cc={'flows':_0x375882};return await this[_0x55ea9d(0x6ae)]['automateSystem']['update'](_0x1812cc,_0x48e87b),this['logger'][_0x55ea9d(0x216)](this[_0x55ea9d(0x798)]+'\x20('+_0x48e87b+_0x55ea9d(0x5ed)),_0x375882[_0x55ea9d(0x30d)];}catch(_0x260d7e){return this[_0x55ea9d(0x82a)][_0x55ea9d(0x495)](this[_0x55ea9d(0x798)]+'\x20('+_0x48e87b+_0x55ea9d(0x2c2)+(_0x260d7e instanceof Error?_0x260d7e[_0x55ea9d(0x5af)]:JSON[_0x55ea9d(0x15a)](_0x260d7e,null,0x2))),{'message':_0x55ea9d(0x2c5)+(_0x260d7e instanceof Error?_0x260d7e[_0x55ea9d(0x5af)]:JSON[_0x55ea9d(0x15a)](_0x260d7e,null,0x2))};}}async[a0_0x2a87a6(0x617)](_0x277ea4){const _0x1f17f8=a0_0x2a87a6;try{let _0x83b7c8=await this['repository'][_0x1f17f8(0x478)][_0x1f17f8(0x654)]({'where':{'_id':K+'-'+this['instanceName']}}),_0x9c0fdf,_0x57927a=!re['ipv6Prefix']||!re[_0x1f17f8(0x799)];console[_0x1f17f8(0x1a4)]('--------------------------------------'),console[_0x1f17f8(0x1a4)](_0x1f17f8(0x82c),_i),console[_0x1f17f8(0x1a4)]('this.reconnectAttempts:\x20',this[_0x1f17f8(0x443)]),console['log']('--------------------------------------'),_i&&!_0x57927a&&(this[_0x1f17f8(0x443)]<0x4||!this['reconnectAttempts']?_0x83b7c8&&_0x83b7c8['ip']?(_0x9c0fdf=_0x83b7c8['ip'],console[_0x1f17f8(0x1a4)](_0x1f17f8(0x390)+_0x9c0fdf)):(_0x9c0fdf=await re['createIPv6'](K,this['instance'][_0x1f17f8(0x366)]),_0x9c0fdf?(console['log'](_0x1f17f8(0x289)+_0x9c0fdf),await(0x0,w[_0x1f17f8(0x6c6)])(0x7d0)):console[_0x1f17f8(0x495)]('Falha\x20ao\x20criar\x20IPv6.')):this[_0x1f17f8(0x443)]<0x6&&(await re[_0x1f17f8(0x303)](K,this[_0x1f17f8(0x478)]['name']),console[_0x1f17f8(0x1a4)](_0x1f17f8(0x4ee)),_0x9c0fdf=await re[_0x1f17f8(0x6f9)](K,this[_0x1f17f8(0x478)][_0x1f17f8(0x366)]),_0x9c0fdf?(console[_0x1f17f8(0x1a4)](_0x1f17f8(0x289)+_0x9c0fdf),await(0x0,w[_0x1f17f8(0x6c6)])(0x7d0)):console[_0x1f17f8(0x495)](_0x1f17f8(0x265)))),this[_0x1f17f8(0x314)](),this[_0x1f17f8(0x478)][_0x1f17f8(0x725)]=(await this[_0x1f17f8(0x6ae)][_0x1f17f8(0x674)][_0x1f17f8(0x2f6)](this[_0x1f17f8(0x478)][_0x1f17f8(0x366)]))['apikey'],this[_0x1f17f8(0x478)]['authState']=await this['defineAuthState']();let {version:_0x148f00}=await(0x0,w[_0x1f17f8(0x4df)])(),_0x3a2dbf=[Li,js,(0x0,ks[_0x1f17f8(0x874)])()],_0x3583e6={'localAddress':_0x9c0fdf,'auth':{'creds':this[_0x1f17f8(0x478)][_0x1f17f8(0x474)][_0x1f17f8(0x5d1)]['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x1f17f8(0x478)][_0x1f17f8(0x474)][_0x1f17f8(0x5d1)][_0x1f17f8(0x173)],(0x0,qt[_0x1f17f8(0x667)])({'level':_0x1f17f8(0x495)}))},'logger':(0x0,qt['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x277ea4?['Mac\x20OS',js,(0x0,ks[_0x1f17f8(0x874)])()]:_0x3a2dbf,'version':_0x148f00,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3ba481=>{const _0x992d79=_0x1f17f8;let _0x32bcae=this[_0x992d79(0x2c7)]?.[_0x992d79(0x710)]&&(0x0,w[_0x992d79(0x893)])(_0x3ba481);return(0x0,w[_0x992d79(0x2c8)])(_0x3ba481)||_0x32bcae;},'msgRetryCounterCache':this[_0x1f17f8(0x7a7)],'getMessage':async _0x342d9a=>await this[_0x1f17f8(0x322)](_0x342d9a),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1f17f8(0x83d)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x5804b3){const _0x255673=_0x1f17f8;return _0x5804b3[_0x255673(0x897)]?.['message']?.[_0x255673(0x37e)]?.['listType']===w[_0x255673(0x43c)][_0x255673(0x1fb)]['ListMessage'][_0x255673(0x666)][_0x255673(0x44f)]&&(_0x5804b3=JSON['parse'](JSON[_0x255673(0x15a)](_0x5804b3)),_0x5804b3[_0x255673(0x897)][_0x255673(0x5af)][_0x255673(0x37e)][_0x255673(0x7b9)]=w['proto'][_0x255673(0x1fb)][_0x255673(0x88d)][_0x255673(0x666)][_0x255673(0x665)]),_0x5804b3[_0x255673(0x37e)]?.[_0x255673(0x7b9)]==w['proto'][_0x255673(0x1fb)][_0x255673(0x88d)][_0x255673(0x666)][_0x255673(0x44f)]&&(_0x5804b3=JSON['parse'](JSON[_0x255673(0x15a)](_0x5804b3)),_0x5804b3[_0x255673(0x37e)][_0x255673(0x7b9)]=w['proto'][_0x255673(0x1fb)][_0x255673(0x88d)]['ListType'][_0x255673(0x665)]),_0x5804b3;}};return this[_0x1f17f8(0x791)]=!0x1,this[_0x1f17f8(0x47c)]=(0x0,w[_0x1f17f8(0x667)])(_0x3583e6),this[_0x1f17f8(0x77c)](),this[_0x1f17f8(0x843)]=_0x277ea4,this[_0x1f17f8(0x47c)];}catch(_0x280fab){let _0x5405aa=_0x1f17f8(0x795),_0x131298=_0x280fab instanceof Error?_0x280fab['message']:typeof _0x280fab==_0x1f17f8(0x3ae)?JSON['stringify'](_0x280fab):_0x280fab,_0x50d50b=_0x5405aa+':\x20'+_0x131298;throw this[_0x1f17f8(0x82a)]['error'](this['instanceName']+'\x20('+this[_0x1f17f8(0x478)][_0x1f17f8(0x456)]+_0x1f17f8(0x1db)+_0x50d50b),console[_0x1f17f8(0x495)](_0x1f17f8(0x38c),_0x280fab),_0x280fab instanceof Error&&console[_0x1f17f8(0x495)](_0x1f17f8(0x5db),_0x280fab[_0x1f17f8(0x503)]),new x(_0x50d50b);}}[a0_0x2a87a6(0x77c)](){const _0x567cc3=a0_0x2a87a6;this[_0x567cc3(0x47c)]['ev'][_0x567cc3(0x582)](_0xcf8ba5=>{const _0x1f598b=_0x567cc3;if(!this[_0x1f598b(0x791)]){let _0x5c35eb=this['configService'][_0x1f598b(0x7eb)]('DATABASE');if(_0xcf8ba5['labels.edit']){let _0x2a4074=_0xcf8ba5['labels.edit'];this[_0x1f598b(0x4ab)]['labels.edit'](_0x2a4074);}if(_0xcf8ba5[_0x1f598b(0x41c)]){let _0x18f4d8=_0xcf8ba5[_0x1f598b(0x41c)];this['messageHandle'][_0x1f598b(0x41c)](_0x18f4d8);}if(_0xcf8ba5[_0x1f598b(0x475)]&&this[_0x1f598b(0x62b)](_0xcf8ba5[_0x1f598b(0x475)]),_0xcf8ba5['creds.update']&&this[_0x1f598b(0x478)][_0x1f598b(0x474)][_0x1f598b(0x2a9)](),_0xcf8ba5[_0x1f598b(0x6b9)]){let _0xb1c940=_0xcf8ba5[_0x1f598b(0x6b9)];this[_0x1f598b(0x4ab)]['messaging-history.set'](_0xb1c940,_0x5c35eb);}if(_0xcf8ba5['messages.upsert']){let _0x334566=_0xcf8ba5[_0x1f598b(0x375)];this[_0x1f598b(0x4ab)][_0x1f598b(0x375)](_0x334566,_0x5c35eb);}if(_0xcf8ba5[_0x1f598b(0x1a7)]){let _0x336b9b=_0xcf8ba5[_0x1f598b(0x1a7)];this[_0x1f598b(0x4ab)][_0x1f598b(0x1a7)](_0x336b9b,_0x5c35eb);}if(_0xcf8ba5[_0x1f598b(0x75c)]){let _0x36a197=_0xcf8ba5[_0x1f598b(0x75c)];if(this['localWebhook']?.[_0x1f598b(0x710)]&&_0x36a197['id'][_0x1f598b(0x708)]('@g.us'))return;this[_0x1f598b(0x36a)](_0x1f598b(0x75c),_0x36a197);}if(_0xcf8ba5[_0x1f598b(0x7b0)]){let _0x4575c1=_0xcf8ba5['groups.upsert'];this[_0x1f598b(0x6a6)][_0x1f598b(0x7b0)](_0x4575c1);}if(_0xcf8ba5[_0x1f598b(0x1e4)]){let _0x5a9a3e=_0xcf8ba5[_0x1f598b(0x1e4)];this['groupHandler']['groups.update'](_0x5a9a3e);}if(_0xcf8ba5['group-participants.update']){let _0x502e59=_0xcf8ba5[_0x1f598b(0x520)];this['groupHandler'][_0x1f598b(0x520)](_0x502e59);}if(_0xcf8ba5[_0x1f598b(0x662)]){let _0x24ea29=_0xcf8ba5[_0x1f598b(0x662)];this['chatHandle']['chats.upsert'](_0x24ea29,_0x5c35eb);}if(_0xcf8ba5['chats.update']){let _0xb4016d=_0xcf8ba5['chats.update'];this[_0x1f598b(0x392)]['chats.update'](_0xb4016d,_0x5c35eb);}if(_0xcf8ba5[_0x1f598b(0x776)]){let _0x1c6978=_0xcf8ba5['chats.delete'];this[_0x1f598b(0x392)][_0x1f598b(0x776)](_0x1c6978);}if(_0xcf8ba5[_0x1f598b(0x6d6)]){let _0x1d628e=_0xcf8ba5['contacts.upsert'];this[_0x1f598b(0x51c)][_0x1f598b(0x6d6)](_0x1d628e,_0x5c35eb);}if(_0xcf8ba5[_0x1f598b(0x1ec)]){let _0x396a59=_0xcf8ba5[_0x1f598b(0x1ec)];this[_0x1f598b(0x51c)]['contacts.update'](_0x396a59,_0x5c35eb);}}});}async[a0_0x2a87a6(0x42f)](_0xa583cb,_0x1cc4b9){const _0x22d0eb=a0_0x2a87a6;if(_0x1cc4b9>=0xa){console[_0x22d0eb(0x495)](this['instanceName']+'\x20('+this[_0x22d0eb(0x478)][_0x22d0eb(0x456)]+_0x22d0eb(0x75d)),delete Jt[_0xa583cb[_0x22d0eb(0x349)]['id']];return;}try{console[_0x22d0eb(0x495)](this[_0x22d0eb(0x798)]+'\x20('+this[_0x22d0eb(0x478)][_0x22d0eb(0x456)]+_0x22d0eb(0x253)+(_0x1cc4b9+0x1)),await this[_0x22d0eb(0x47c)][_0x22d0eb(0x714)](JSON[_0x22d0eb(0x510)](_0xa583cb['messageStubParameters'][0x1],w[_0x22d0eb(0x245)][_0x22d0eb(0x290)])),console[_0x22d0eb(0x495)](_0x22d0eb(0x5fa));}catch(_0x1d9cea){console['error'](this['instanceName']+'\x20('+this[_0x22d0eb(0x478)][_0x22d0eb(0x456)]+_0x22d0eb(0x6a8)+_0x1d9cea),setTimeout(()=>this['retrySendMessage'](_0xa583cb,_0x1cc4b9+0x1),Math['pow'](0x2,_0x1cc4b9)*0x3e8);}}[a0_0x2a87a6(0x2c0)](_0x3e52b1){return new Promise(_0x677116=>setTimeout(_0x677116,_0x3e52b1));}[a0_0x2a87a6(0x471)](_0x575fb8){const _0x1902f6=a0_0x2a87a6;_0x575fb8=_0x575fb8['replace'](/\D/g,'');let _0x50ec44=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1902f6(0x3ca)](_0x575fb8);if(_0x50ec44&&_0x50ec44[0x1]==='55'){let _0x28fa5d=_0x50ec44[0x2],_0xbf4ba6=_0x50ec44[0x3],_0x2e71cd=_0x50ec44[0x4];if(parseInt(_0x28fa5d)>=0x1f&&_0xbf4ba6==='9')return _0x50ec44[0x1]+_0x28fa5d+_0x2e71cd;}return _0x575fb8;}['createJid'](_0x3bf1d9){const _0x1d8757=a0_0x2a87a6;return _0x3bf1d9[_0x1d8757(0x708)](_0x1d8757(0x398))||_0x3bf1d9['includes'](_0x1d8757(0x279))||_0x3bf1d9[_0x1d8757(0x708)](_0x1d8757(0x2ab))?_0x3bf1d9:(_0x3bf1d9=_0x3bf1d9?.[_0x1d8757(0x1ee)](/\s/g,'')[_0x1d8757(0x1ee)](/\+/g,'')[_0x1d8757(0x1ee)](/\(/g,'')[_0x1d8757(0x1ee)](/\)/g,'')[_0x1d8757(0x259)](/\:/)[0x0]['split']('@')[0x0],_0x3bf1d9[_0x1d8757(0x30d)]>=0x12?(_0x3bf1d9=_0x3bf1d9['replace'](/[^\d-]/g,''),_0x3bf1d9+'@g.us'):(_0x3bf1d9=_0x3bf1d9[_0x1d8757(0x1ee)](/\D/g,''),_0x3bf1d9+_0x1d8757(0x279)));}async['updatePresence'](_0x297fa2){const _0x3e7857=a0_0x2a87a6;let _0x5d482b=(await this[_0x3e7857(0x7e0)]({'numbers':[_0x297fa2['number']]}))[0x0];if(!_0x5d482b[_0x3e7857(0x585)]&&!(0x0,w[_0x3e7857(0x893)])(_0x5d482b[_0x3e7857(0x174)])&&!_0x5d482b[_0x3e7857(0x174)]['includes']('@broadcast'))throw new m(_0x5d482b);let _0xd77ea1=_0x5d482b['jid'];try{return await this[_0x3e7857(0x47c)][_0x3e7857(0x6ea)](_0xd77ea1),await this[_0x3e7857(0x47c)]['sendPresenceUpdate'](_0x297fa2[_0x3e7857(0x4ae)],_0xd77ea1),{'status':0xc8,'presence':_0x297fa2[_0x3e7857(0x4ae)]};}catch(_0x25bbcf){let _0x10c09a=_0x3e7857(0x214),_0x4303b3=_0x25bbcf instanceof Error?_0x25bbcf['message']:typeof _0x25bbcf==_0x3e7857(0x3ae)?JSON['stringify'](_0x25bbcf):_0x25bbcf,_0x597191=_0x10c09a+':\x20'+_0x4303b3;throw this['logger'][_0x3e7857(0x495)](this[_0x3e7857(0x798)]+'\x20('+this['instance'][_0x3e7857(0x456)]+'):\x20'+_0x597191),new m(_0x597191);}}async[a0_0x2a87a6(0x783)](_0x5876d5,_0x1bfe64,_0x2e3b0e,_0x5d7231=!0x0){const _0x462c67=a0_0x2a87a6;let _0x33edb8=await this['repository']['cacheContact']['findOne']({'where':{'_id':_0x5876d5}});if(!_0x33edb8&&!_0x5d7231)return;let _0x2a2ee2={'lastUpdate':Date[_0x462c67(0x810)]()};if(_0x2e3b0e||!_0x33edb8?.[_0x462c67(0x330)]||Date[_0x462c67(0x810)]()-_0x33edb8[_0x462c67(0x330)]>0x18*0x3c*0x3c*0x3e8)try{let _0x22cf3e=(await this[_0x462c67(0x424)](_0x5876d5))['profilePictureUrl'];_0x2a2ee2['pictureUrl']=_0x22cf3e;}catch(_0x3158a4){let _0x3a5d53=_0x462c67(0x7ac),_0x5f5b1a=_0x3158a4 instanceof Error?_0x3158a4[_0x462c67(0x5af)]:typeof _0x3158a4==_0x462c67(0x3ae)?JSON[_0x462c67(0x15a)](_0x3158a4):_0x3158a4,_0x5199a1=_0x3a5d53+':\x20'+_0x5f5b1a;throw this[_0x462c67(0x82a)][_0x462c67(0x495)](this[_0x462c67(0x798)]+'\x20('+this['instance'][_0x462c67(0x456)]+_0x462c67(0x1db)+_0x5199a1),new m(_0x5199a1);}return _0x1bfe64&&_0x33edb8?.[_0x462c67(0x366)]!==_0x1bfe64&&(_0x2a2ee2[_0x462c67(0x366)]=_0x1bfe64),Object[_0x462c67(0x173)](_0x2a2ee2)['length']>0x1&&(_0x33edb8?await this[_0x462c67(0x6ae)][_0x462c67(0x4a0)][_0x462c67(0x7ee)]({'where':{'_id':_0x5876d5}},_0x2a2ee2):await this[_0x462c67(0x6ae)]['cacheContact'][_0x462c67(0x39f)]([{'_id':_0x5876d5,..._0x2a2ee2}]),_0x33edb8={..._0x33edb8,..._0x2a2ee2}),{'cachedContact':_0x33edb8};}async[a0_0x2a87a6(0x424)](_0x408087){const _0xf117a7=a0_0x2a87a6;let _0x2da8ac=this[_0xf117a7(0x506)](_0x408087);try{return{'wuid':_0x2da8ac,'profilePictureUrl':await this[_0xf117a7(0x47c)][_0xf117a7(0x70c)](_0x2da8ac,_0xf117a7(0x14a))};}catch{return{'wuid':_0x2da8ac,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x405163,_0x1251f6,_0x34e5c1){const _0x30f47d=a0_0x2a87a6;let _0x4b1ba4;try{let _0x31267a=(await this[_0x30f47d(0x7e0)]({'numbers':[_0x405163]}))?.[_0x30f47d(0x4a4)]();if(!_0x31267a['exists']&&!(0x0,w['isJidGroup'])(_0x31267a[_0x30f47d(0x174)])&&!_0x31267a[_0x30f47d(0x174)]['includes'](_0x30f47d(0x2ab)))throw new m(_0x31267a);_0x4b1ba4=_0x31267a['jid'];}catch(_0x16cb55){_0x4b1ba4=_0x405163,this['logger'][_0x30f47d(0x3fa)](this[_0x30f47d(0x798)]+'\x20('+this[_0x30f47d(0x478)]['wuid']+_0x30f47d(0x307)+_0x16cb55[_0x30f47d(0x5af)]),this[_0x30f47d(0x82a)][_0x30f47d(0x3fa)](this[_0x30f47d(0x798)]+'\x20('+this[_0x30f47d(0x478)]['wuid']+_0x30f47d(0x76e)+_0x4b1ba4);}try{if(_0x4b1ba4||(_0x4b1ba4=_0x405163,this[_0x30f47d(0x82a)][_0x30f47d(0x3fa)](this[_0x30f47d(0x798)]+'\x20('+this['instance'][_0x30f47d(0x456)]+_0x30f47d(0x81b)+_0x4b1ba4)),_0x34e5c1||(_0x34e5c1={}),_0x34e5c1?.[_0x30f47d(0x6c6)]){await this[_0x30f47d(0x47c)][_0x30f47d(0x6ea)](_0x4b1ba4),await this[_0x30f47d(0x47c)]['sendPresenceUpdate'](_0x34e5c1?.[_0x30f47d(0x4ae)]??'composing',_0x4b1ba4);let _0x5ae0e0=Math[_0x30f47d(0x454)](_0x34e5c1[_0x30f47d(0x6c6)],0x2710);await(0x0,w[_0x30f47d(0x6c6)])(_0x5ae0e0),await this[_0x30f47d(0x47c)]['sendPresenceUpdate'](_0x30f47d(0x1dc),_0x4b1ba4);}let _0x5c0d35=_0x34e5c1?.[_0x30f47d(0x84f)]!=!0x1?void 0x0:!0x1,_0x235ee6;if(_0x34e5c1?.[_0x30f47d(0x7c2)]){let _0x3ffedd=_0x34e5c1?.[_0x30f47d(0x7c2)],_0xf9a1ac=_0x3ffedd?.[_0x30f47d(0x5af)]?_0x3ffedd:await this['getMessage'](_0x3ffedd[_0x30f47d(0x349)],!0x0);_0xf9a1ac&&(_0x235ee6=_0xf9a1ac);}let _0x11a944=await this[_0x30f47d(0x6ae)][_0x30f47d(0x6eb)][_0x30f47d(0x654)]({'where':{'_id':_0x4b1ba4}},this[_0x30f47d(0x478)][_0x30f47d(0x456)]),_0x5a068e,_0x2a7a87=null;if((0x0,w[_0x30f47d(0x893)])(_0x4b1ba4))try{if(_0x2a7a87=_0x11a944[_0x30f47d(0x1b2)],!_0x2a7a87)throw new J(_0x30f47d(0x4f9));_0x34e5c1?.[_0x30f47d(0x172)]&&(_0x34e5c1[_0x30f47d(0x172)]?.[_0x30f47d(0x3c0)]?_0x5a068e=_0x2a7a87['participants'][_0x30f47d(0x639)](_0x15ae56=>_0x15ae56['id']):_0x34e5c1['mentions']?.[_0x30f47d(0x1b0)]?.[_0x30f47d(0x30d)]&&(_0x5a068e=_0x34e5c1['mentions'][_0x30f47d(0x1b0)][_0x30f47d(0x639)](_0x34da0e=>{const _0x4a3ef2=_0x30f47d;let _0x30620b=this[_0x4a3ef2(0x506)](_0x34da0e);return(0x0,w['isJidGroup'])(_0x30620b)?null:_0x30620b;})));}catch{throw new J(_0x30f47d(0x4f9));}let _0x45d1a2=await((async()=>{const _0x3688ba=_0x30f47d;let _0x5caa55={'quoted':_0x235ee6,'ephemeralExpiration':_0x11a944?.[_0x3688ba(0x2eb)]??0x0};if(!_0x1251f6['audio']&&!_0x1251f6[_0x3688ba(0x3b0)]&&!_0x1251f6[_0x3688ba(0x64c)]&&!_0x1251f6[_0x3688ba(0x3cb)]&&_0x4b1ba4!==_0x3688ba(0x5c8)&&_0x1251f6[_0x3688ba(0x59a)])return await this[_0x3688ba(0x47c)][_0x3688ba(0x23d)](_0x4b1ba4,{'react':{'text':_0x1251f6[_0x3688ba(0x59a)][_0x3688ba(0x210)],'key':_0x1251f6[_0x3688ba(0x59a)][_0x3688ba(0x349)]}},_0x5caa55);if(_0x1251f6[_0x3688ba(0x3cb)]){let _0x5a83b5=_0x1251f6['conversation'];return _0x34e5c1?.['changeVariables']&&(_0x5a83b5=await this[_0x3688ba(0x601)](_0x5a83b5,_0x4b1ba4)),await this['client'][_0x3688ba(0x23d)](_0x4b1ba4,{'text':_0x5a83b5,'mentions':_0x5a068e,'linkPreview':_0x5c0d35},_0x5caa55);}return!_0x1251f6['audio']&&!_0x1251f6[_0x3688ba(0x3b0)]&&_0x4b1ba4!='status@broadcast'?await this[_0x3688ba(0x47c)][_0x3688ba(0x23d)](_0x4b1ba4,{'forward':{'key':{'remoteJid':this[_0x3688ba(0x478)]['wuid'],'fromMe':!0x0},'message':_0x1251f6},'mentions':_0x5a068e},_0x5caa55):_0x4b1ba4==='status@broadcast'?await this['client']['sendMessage'](_0x4b1ba4,_0x1251f6[_0x3688ba(0x5f7)][_0x3688ba(0x325)],{'backgroundColor':_0x1251f6['status'][_0x3688ba(0x440)][_0x3688ba(0x3d1)],'font':_0x1251f6[_0x3688ba(0x5f7)][_0x3688ba(0x440)]['font'],'statusJidList':_0x1251f6[_0x3688ba(0x5f7)][_0x3688ba(0x440)][_0x3688ba(0x1f7)]}):await this['client']['sendMessage'](_0x4b1ba4,_0x1251f6,_0x5caa55);})()),_0x580536=(0x0,w[_0x30f47d(0x55c)])(_0x45d1a2['message']),_0x5dd0aa=(0x0,w[_0x30f47d(0x7b8)])(_0x580536),{message_normalized:_0x14b35d}=this[_0x30f47d(0x5b5)](_0x580536,_0x5dd0aa,null),_0x534766={'_id':_0x45d1a2[_0x30f47d(0x349)]['id'],'key':_0x45d1a2[_0x30f47d(0x349)],'pushName':_0x45d1a2['pushName'],'isGroup':_0x45d1a2[_0x30f47d(0x349)][_0x30f47d(0x6f5)]['endsWith'](_0x30f47d(0x398)),'profilePictureUrl':this[_0x30f47d(0x478)][_0x30f47d(0x70c)],'message':_0x580536,'messageType':_0x5dd0aa,'message_normalized':{'key':_0x45d1a2[_0x30f47d(0x349)],'pushName':_0x45d1a2[_0x30f47d(0x346)],'messageTimestamp':_0x45d1a2[_0x30f47d(0x296)]&&_0x45d1a2[_0x30f47d(0x296)]['toString']()['length']<0xd?_0x45d1a2[_0x30f47d(0x296)]*0x3e8:_0x45d1a2['messageTimestamp']||null,'source':(0x0,w[_0x30f47d(0x5a0)])(_0x45d1a2[_0x30f47d(0x349)]['id']),..._0x14b35d},'messageTimestamp':_0x45d1a2['messageTimestamp']&&_0x45d1a2['messageTimestamp']['toString']()[_0x30f47d(0x30d)]<0xd?_0x45d1a2[_0x30f47d(0x296)]*0x3e8:_0x45d1a2[_0x30f47d(0x296)]||null,'owner':this[_0x30f47d(0x478)][_0x30f47d(0x456)],'source':(0x0,w[_0x30f47d(0x5a0)])(_0x45d1a2[_0x30f47d(0x349)]['id'])};return this[_0x30f47d(0x82a)][_0x30f47d(0x3fa)](this[_0x30f47d(0x798)]+'\x20('+this['instance'][_0x30f47d(0x456)]+_0x30f47d(0x6fd)+_0x534766[_0x30f47d(0x349)]?.[_0x30f47d(0x6f5)]['replace'](_0x30f47d(0x279),'')+_0x30f47d(0x28d)+_0x534766[_0x30f47d(0x659)]+')'),_0x534766[_0x30f47d(0x2b0)]?.['text']&&this['logger'][_0x30f47d(0x3fa)](_0x534766[_0x30f47d(0x2b0)]?.['text']),this['sendDataWebhook'](_0x30f47d(0x51b),_0x534766),q(this[_0x30f47d(0x798)],_0x30f47d(0x4f1),{'message':_0x534766}),this[_0x30f47d(0x343)](this['configService'][_0x30f47d(0x7eb)]('DATABASE'),_0x534766,'SEND_MESSAGE',_0x11a944),await this['repository'][_0x30f47d(0x5af)][_0x30f47d(0x39f)]([_0x534766],this[_0x30f47d(0x478)][_0x30f47d(0x456)]),_0x45d1a2;}catch(_0x2cf6dc){let _0x1a1573=_0x30f47d(0x2df)+_0x4b1ba4,_0x193b95=_0x2cf6dc instanceof Error?_0x2cf6dc['message']:typeof _0x2cf6dc=='object'?JSON[_0x30f47d(0x15a)](_0x2cf6dc):_0x2cf6dc,_0x4a3899=_0x1a1573+':\x20'+_0x193b95;throw this[_0x30f47d(0x82a)][_0x30f47d(0x495)](this[_0x30f47d(0x798)]+'\x20('+this['instance'][_0x30f47d(0x456)]+_0x30f47d(0x1db)+_0x4a3899),new m(_0x4a3899);}}get['connectionStatus'](){const _0x52677f=a0_0x2a87a6;return this[_0x52677f(0x70d)];}async[a0_0x2a87a6(0x319)](_0x5a12ba){const _0x2db6f3=a0_0x2a87a6;return await this[_0x2db6f3(0x183)](_0x5a12ba[_0x2db6f3(0x2be)],{'conversation':_0x5a12ba[_0x2db6f3(0x319)][_0x2db6f3(0x210)]},_0x5a12ba?.[_0x2db6f3(0x764)]);}async[a0_0x2a87a6(0x3b4)](_0x6d912f){const _0x11001c=a0_0x2a87a6;if(!_0x6d912f[_0x11001c(0x3c1)])throw new m('Type\x20is\x20required');if(!_0x6d912f[_0x11001c(0x325)])throw new m('Content\x20is\x20required');if(_0x6d912f['allContacts']){let _0x3e9191=await this[_0x11001c(0x6ae)][_0x11001c(0x7a2)][_0x11001c(0x2f6)]({'where':{}},this['instance'][_0x11001c(0x456)]);if(!_0x3e9191[_0x11001c(0x30d)])throw new m('Contacts\x20not\x20found');_0x6d912f[_0x11001c(0x1f7)]=_0x3e9191[_0x11001c(0x17c)](_0x5cc5bc=>_0x5cc5bc[_0x11001c(0x346)])[_0x11001c(0x639)](_0x5e8707=>_0x5e8707[_0x11001c(0x2f9)]);}if(!_0x6d912f['statusJidList']?.[_0x11001c(0x30d)]&&!_0x6d912f['allContacts'])throw new m(_0x11001c(0x6e7));if(_0x6d912f[_0x11001c(0x3c1)]===_0x11001c(0x210)){if(!_0x6d912f[_0x11001c(0x3d1)])throw new m(_0x11001c(0x5ec));if(!_0x6d912f['font'])throw new m(_0x11001c(0x31f));return{'content':{'text':_0x6d912f[_0x11001c(0x325)]},'option':{'backgroundColor':_0x6d912f['backgroundColor'],'font':_0x6d912f['font'],'statusJidList':_0x6d912f[_0x11001c(0x1f7)]}};}if(_0x6d912f[_0x11001c(0x3c1)]==='image')return{'content':{'image':{'url':_0x6d912f['content']},'caption':_0x6d912f[_0x11001c(0x784)]},'option':{'statusJidList':_0x6d912f[_0x11001c(0x1f7)]}};if(_0x6d912f[_0x11001c(0x3c1)]==='video')return{'content':{'video':{'url':_0x6d912f['content']},'caption':_0x6d912f[_0x11001c(0x784)]},'option':{'statusJidList':_0x6d912f[_0x11001c(0x1f7)]}};if(_0x6d912f[_0x11001c(0x3c1)]===_0x11001c(0x415)){this[_0x11001c(0x82a)][_0x11001c(0x216)](this[_0x11001c(0x798)]+'\x20('+this[_0x11001c(0x478)][_0x11001c(0x456)]+_0x11001c(0x226)),this[_0x11001c(0x82a)][_0x11001c(0x216)](this['instanceName']+'\x20('+this['instance'][_0x11001c(0x456)]+_0x11001c(0x44e));let _0x19140c=await this[_0x11001c(0x27f)](_0x6d912f['content']);if(typeof _0x19140c==_0x11001c(0x634)){this[_0x11001c(0x82a)][_0x11001c(0x216)](this[_0x11001c(0x798)]+'\x20('+this['instance'][_0x11001c(0x456)]+_0x11001c(0x7ad));let _0x4c9836=F[_0x11001c(0x47b)](_0x19140c)[_0x11001c(0x635)](_0x11001c(0x746));return{'content':{'audio':Buffer[_0x11001c(0x696)](_0x4c9836,_0x11001c(0x746)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x6d912f[_0x11001c(0x1f7)]}};}else throw new x(_0x19140c);}throw new m(_0x11001c(0x2cf));}async[a0_0x2a87a6(0x5b3)](_0x421f75){const _0x47a157=a0_0x2a87a6;return await this[_0x47a157(0x183)](_0x47a157(0x5c8),{'status':await this[_0x47a157(0x3b4)](_0x421f75[_0x47a157(0x5b3)])});}async[a0_0x2a87a6(0x484)](_0x24a08d){const _0x54ce88=a0_0x2a87a6;try{let _0x463a1c=await(0x0,w[_0x54ce88(0x84e)])({[_0x24a08d['mediatype']]:(0x0,L[_0x54ce88(0x638)])(_0x24a08d[_0x54ce88(0x5ce)])?{'url':_0x24a08d[_0x54ce88(0x5ce)]}:Buffer[_0x54ce88(0x696)](_0x24a08d[_0x54ce88(0x5ce)],_0x54ce88(0x746))},{'upload':this[_0x54ce88(0x47c)][_0x54ce88(0x1c4)]}),_0x1dc989=_0x24a08d[_0x54ce88(0x22c)]+_0x54ce88(0x1fb);if(_0x24a08d['mediatype']===_0x54ce88(0x25d)&&!_0x24a08d[_0x54ce88(0x55f)]){let _0x1f4fd9=new RegExp(/.*\/(.+?)\./)[_0x54ce88(0x3ca)](_0x24a08d[_0x54ce88(0x5ce)]);_0x24a08d[_0x54ce88(0x55f)]=_0x1f4fd9?_0x1f4fd9[0x1]:null;}let _0x9b61a1;return(0x0,L[_0x54ce88(0x638)])(_0x24a08d[_0x54ce88(0x5ce)])?_0x9b61a1=(await te[_0x54ce88(0x667)][_0x54ce88(0x7eb)](_0x24a08d['media'],{'responseType':_0x54ce88(0x17b)}))[_0x54ce88(0x24c)][_0x54ce88(0x633)]:_0x9b61a1=(0x0,ki[_0x54ce88(0x717)])(_0x24a08d['fileName']),_0x463a1c[_0x1dc989][_0x54ce88(0x784)]=_0x24a08d?.[_0x54ce88(0x784)],_0x463a1c[_0x1dc989][_0x54ce88(0x65a)]=_0x9b61a1,_0x463a1c[_0x1dc989][_0x54ce88(0x55f)]=_0x24a08d[_0x54ce88(0x55f)],_0x24a08d[_0x54ce88(0x22c)]===_0x54ce88(0x715)&&(_0x463a1c[_0x1dc989]['jpegThumbnail']=Uint8Array['from']((0x0,Fe[_0x54ce88(0x47b)])((0x0,j['join'])(process[_0x54ce88(0x4ca)](),_0x54ce88(0x683)))),_0x463a1c[_0x1dc989][_0x54ce88(0x488)]=!0x1),(0x0,w[_0x54ce88(0x839)])('',{[_0x1dc989]:{..._0x463a1c[_0x1dc989]}},{'userJid':this[_0x54ce88(0x478)][_0x54ce88(0x456)]});}catch(_0x1584e8){let _0x1eb479=_0x54ce88(0x269),_0x3237a4=_0x1584e8 instanceof Error?_0x1584e8['message']:typeof _0x1584e8==_0x54ce88(0x3ae)?JSON[_0x54ce88(0x15a)](_0x1584e8):_0x1584e8,_0x3f15b4=_0x1eb479+':\x20'+_0x3237a4;throw this[_0x54ce88(0x82a)]['error'](this['instanceName']+'\x20('+this[_0x54ce88(0x478)][_0x54ce88(0x456)]+_0x54ce88(0x1db)+_0x3f15b4),new x(_0x3f15b4);}}async[a0_0x2a87a6(0x3b8)](_0x3133d8){const _0x1942ab=a0_0x2a87a6;let _0x21a68d=await this[_0x1942ab(0x484)](_0x3133d8[_0x1942ab(0x3b8)]);return await this['sendMessageWithTyping'](_0x3133d8[_0x1942ab(0x2be)],{..._0x21a68d[_0x1942ab(0x5af)]},_0x3133d8?.[_0x1942ab(0x764)]);}async[a0_0x2a87a6(0x7c1)](_0x181aa3,_0x5a6b47){const _0x29aa8a=a0_0x2a87a6;try{this[_0x29aa8a(0x82a)][_0x29aa8a(0x216)](this[_0x29aa8a(0x798)]+'\x20('+this[_0x29aa8a(0x478)]['wuid']+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x330f4b,_0xa3873a=_0x5a6b47+'-'+new Date()[_0x29aa8a(0x563)]();this[_0x29aa8a(0x82a)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):Hash\x20to\x20image\x20name:\x20'+_0xa3873a);let _0x55329d=''+(0x0,j[_0x29aa8a(0x52e)])(this[_0x29aa8a(0x7c3)],_0xa3873a+_0x29aa8a(0x433));if(this[_0x29aa8a(0x82a)][_0x29aa8a(0x216)](this['instanceName']+'\x20('+this[_0x29aa8a(0x478)]['wuid']+'):Output\x20path:\x20'+_0x55329d),(0x0,L['isBase64'])(_0x181aa3)){this[_0x29aa8a(0x82a)][_0x29aa8a(0x216)](this['instanceName']+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+_0x29aa8a(0x6dc));let _0x432ac5=_0x181aa3['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x275a05=Buffer[_0x29aa8a(0x696)](_0x432ac5,'base64');_0x330f4b=''+(0x0,j[_0x29aa8a(0x52e)])(this[_0x29aa8a(0x7c3)],'temp-'+_0xa3873a+_0x29aa8a(0x613)),this[_0x29aa8a(0x82a)][_0x29aa8a(0x216)](this[_0x29aa8a(0x798)]+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+_0x29aa8a(0x6c9)+_0x330f4b),await(0x0,Vt[_0x29aa8a(0x667)])(_0x275a05)[_0x29aa8a(0x3b5)](_0x330f4b),this[_0x29aa8a(0x82a)][_0x29aa8a(0x216)](this[_0x29aa8a(0x798)]+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+_0x29aa8a(0x74d));}else{this[_0x29aa8a(0x82a)][_0x29aa8a(0x216)](this[_0x29aa8a(0x798)]+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+'):Image\x20is\x20url');let _0x5a0c8a=new Date()['getTime'](),_0x25da29=_0x181aa3+_0x29aa8a(0x487)+_0x5a0c8a;this[_0x29aa8a(0x82a)]['verbose'](this[_0x29aa8a(0x798)]+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+_0x29aa8a(0x6d4)+_0x25da29);let _0x88e0d2=await te[_0x29aa8a(0x667)][_0x29aa8a(0x7eb)](_0x25da29,{'responseType':_0x29aa8a(0x17b)});this[_0x29aa8a(0x82a)][_0x29aa8a(0x216)](this['instanceName']+'\x20('+this['instance'][_0x29aa8a(0x456)]+'):Getting\x20image\x20from\x20url');let _0x55f0ab=Buffer[_0x29aa8a(0x696)](_0x88e0d2[_0x29aa8a(0x2d7)],_0x29aa8a(0x6fa));_0x330f4b=''+(0x0,j['join'])(this[_0x29aa8a(0x7c3)],'temp-'+_0xa3873a+'.png'),this[_0x29aa8a(0x82a)]['verbose'](this['instanceName']+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+'):Image\x20path:\x20'+_0x330f4b),await(0x0,Vt[_0x29aa8a(0x667)])(_0x55f0ab)[_0x29aa8a(0x3b5)](_0x330f4b),this[_0x29aa8a(0x82a)]['verbose'](this[_0x29aa8a(0x798)]+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+_0x29aa8a(0x74d));}return await(0x0,Vt[_0x29aa8a(0x667)])(_0x330f4b)[_0x29aa8a(0x4bf)]()[_0x29aa8a(0x3b5)](_0x55329d),this[_0x29aa8a(0x82a)]['verbose'](this[_0x29aa8a(0x798)]+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+_0x29aa8a(0x78a)),F[_0x29aa8a(0x879)](_0x330f4b),this[_0x29aa8a(0x82a)][_0x29aa8a(0x216)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x29aa8a(0x46d)),_0x55329d;}catch(_0x5bcec1){let _0x56bcb4=_0x29aa8a(0x360),_0x3e56e6=_0x5bcec1 instanceof Error?_0x5bcec1[_0x29aa8a(0x5af)]:typeof _0x5bcec1==_0x29aa8a(0x3ae)?JSON[_0x29aa8a(0x15a)](_0x5bcec1):_0x5bcec1,_0x22b20e=_0x56bcb4+':\x20'+_0x3e56e6;this['logger']['error'](this[_0x29aa8a(0x798)]+'\x20('+this[_0x29aa8a(0x478)][_0x29aa8a(0x456)]+'):\x20'+_0x22b20e);}}async['mediaSticker'](_0x1db65a){const _0x5a0d37=a0_0x2a87a6;let _0x410d23=await this[_0x5a0d37(0x7c1)](_0x1db65a[_0x5a0d37(0x7b4)]['image'],_0x1db65a['number']),_0x16e6b2=await this[_0x5a0d37(0x183)](_0x1db65a[_0x5a0d37(0x2be)],{'sticker':{'url':_0x410d23}},_0x1db65a?.[_0x5a0d37(0x764)]);return F['unlinkSync'](_0x410d23),this[_0x5a0d37(0x82a)][_0x5a0d37(0x216)](this['instanceName']+'\x20('+this[_0x5a0d37(0x478)]['wuid']+_0x5a0d37(0x63d)),_0x16e6b2;}async['audioWhatsapp'](_0x5eb07c){const _0x210405=a0_0x2a87a6;if(this[_0x210405(0x82a)][_0x210405(0x216)](this['instanceName']+'\x20('+this[_0x210405(0x478)][_0x210405(0x456)]+_0x210405(0x801)),!_0x5eb07c['options']?.[_0x210405(0x37d)]&&_0x5eb07c['options']?.[_0x210405(0x37d)]!==!0x1&&(_0x5eb07c[_0x210405(0x764)][_0x210405(0x37d)]=!0x0),_0x5eb07c[_0x210405(0x764)]?.[_0x210405(0x37d)]){let _0x2ca332=await this[_0x210405(0x27f)](_0x5eb07c[_0x210405(0x3bd)]['audio']);if(typeof _0x2ca332==_0x210405(0x634)){let _0x4caffc=F[_0x210405(0x47b)](_0x2ca332)['toString'](_0x210405(0x746));return this[_0x210405(0x183)](_0x5eb07c['number'],{'audio':Buffer[_0x210405(0x696)](_0x4caffc,_0x210405(0x746)),'ptt':!0x0,'mimetype':_0x210405(0x4bc)},{'presence':_0x210405(0x2f5),'delay':_0x5eb07c?.['options']?.[_0x210405(0x6c6)]});}else throw new x(_0x2ca332);}return await this[_0x210405(0x183)](_0x5eb07c[_0x210405(0x2be)],{'audio':(0x0,L[_0x210405(0x638)])(_0x5eb07c[_0x210405(0x3bd)][_0x210405(0x415)])?{'url':_0x5eb07c['audioMessage']['audio']}:Buffer['from'](_0x5eb07c['audioMessage']['audio'],_0x210405(0x746)),'ptt':!0x0,'mimetype':_0x210405(0x4bc)},{'presence':'recording','delay':_0x5eb07c?.[_0x210405(0x764)]?.['delay']});}async[a0_0x2a87a6(0x27f)](_0x182605){const _0x1f682b=a0_0x2a87a6;this[_0x1f682b(0x82a)][_0x1f682b(0x216)](this[_0x1f682b(0x798)]+'\x20('+this[_0x1f682b(0x478)][_0x1f682b(0x456)]+'):Processing\x20audio');let _0x581ea7=(0x0,L[_0x1f682b(0x638)])(_0x182605)?(0x0,Gt[_0x1f682b(0x699)])(_0x1f682b(0x672))[_0x1f682b(0x7ee)](_0x182605)[_0x1f682b(0x6d2)](_0x1f682b(0x892)):(0x0,Gt[_0x1f682b(0x699)])('sha256')['update'](_0x182605)[_0x1f682b(0x6d2)]('hex'),_0xde7761=''+(0x0,j[_0x1f682b(0x52e)])(this['storePath'],_0x581ea7+'.ogg');if(F[_0x1f682b(0x534)](_0xde7761))return this[_0x1f682b(0x82a)][_0x1f682b(0x216)](this[_0x1f682b(0x798)]+'\x20('+this[_0x1f682b(0x478)]['wuid']+_0x1f682b(0x6a1)),_0xde7761;let _0x497af1=''+(0x0,j['join'])(this[_0x1f682b(0x7c3)],_0x1f682b(0x1f1)+(0x0,X['v4'])()+_0x1f682b(0x684));if((0x0,L[_0x1f682b(0x638)])(_0x182605)){let _0x20a3ac=new Date()['getTime'](),_0x2da5a9=_0x182605+_0x1f682b(0x487)+_0x20a3ac,_0x414807=await te[_0x1f682b(0x667)][_0x1f682b(0x7eb)](_0x2da5a9,{'responseType':_0x1f682b(0x17b)});F[_0x1f682b(0x5c1)](_0x497af1,_0x414807[_0x1f682b(0x2d7)]);}else{let _0x397d0e=Buffer[_0x1f682b(0x696)](_0x182605,'base64');F[_0x1f682b(0x5c1)](_0x497af1,_0x397d0e);}return new Promise((_0x277b13,_0xa6a775)=>{const _0x4786a0=_0x1f682b;(0x0,Ue[_0x4786a0(0x3ca)])(Ps[_0x4786a0(0x667)][_0x4786a0(0x339)]+_0x4786a0(0x849)+_0x497af1+_0x4786a0(0x5c5)+_0xde7761+_0x4786a0(0x4a1),_0x105420=>{const _0x196305=_0x4786a0;if(F[_0x196305(0x879)](_0x497af1),_0x105420){this[_0x196305(0x82a)][_0x196305(0x216)](this[_0x196305(0x798)]+'\x20('+this[_0x196305(0x478)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0xa6a775(_0x105420);return;}this[_0x196305(0x82a)][_0x196305(0x216)](this['instanceName']+'\x20('+this['instance'][_0x196305(0x456)]+_0x196305(0x7ea)),_0x277b13(_0xde7761);});});}async['convertaudioMP3'](_0x4e64cd){const _0x38403e=a0_0x2a87a6;this['logger'][_0x38403e(0x216)](this[_0x38403e(0x798)]+'\x20('+this[_0x38403e(0x478)][_0x38403e(0x456)]+'):Processing\x20audio');let _0x5c5999=(0x0,Gt[_0x38403e(0x699)])(_0x38403e(0x672))['update'](_0x4e64cd)[_0x38403e(0x6d2)](_0x38403e(0x892)),_0x3c87ab=''+(0x0,j[_0x38403e(0x52e)])(this['storePath'],_0x5c5999+'.mp3');if(F[_0x38403e(0x534)](_0x3c87ab))return this[_0x38403e(0x82a)][_0x38403e(0x216)](this[_0x38403e(0x798)]+'\x20('+this['instance']['wuid']+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j[_0x38403e(0x667)][_0x38403e(0x6f1)](_0x3c87ab);let _0x38f187=''+(0x0,j[_0x38403e(0x52e)])(this[_0x38403e(0x7c3)],_0x38403e(0x1f1)+_0x5c5999+_0x38403e(0x868));if((0x0,L[_0x38403e(0x638)])(_0x4e64cd)){let _0x57d486=new Date()[_0x38403e(0x563)](),_0x579ec0=_0x4e64cd+'?timestamp='+_0x57d486,_0x4fd635=await te[_0x38403e(0x667)]['get'](_0x579ec0,{'responseType':_0x38403e(0x17b)});F[_0x38403e(0x5c1)](_0x38f187,_0x4fd635[_0x38403e(0x2d7)]);}else{let _0x57f368=Buffer[_0x38403e(0x696)](_0x4e64cd,_0x38403e(0x746));F[_0x38403e(0x5c1)](_0x38f187,_0x57f368);}return new Promise((_0x2d833b,_0x24716f)=>{const _0x1a94cf=_0x38403e;(0x0,Ue[_0x1a94cf(0x3ca)])(Ps[_0x1a94cf(0x667)][_0x1a94cf(0x339)]+_0x1a94cf(0x849)+_0x38f187+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x3c87ab+_0x1a94cf(0x4a1),_0x18b90c=>{const _0x1d5bb2=_0x1a94cf;if(F[_0x1d5bb2(0x879)](_0x38f187),_0x18b90c){this[_0x1d5bb2(0x82a)][_0x1d5bb2(0x216)](this[_0x1d5bb2(0x798)]+'\x20('+this[_0x1d5bb2(0x478)]['wuid']+_0x1d5bb2(0x3f4)),_0x24716f(_0x18b90c);return;}this[_0x1d5bb2(0x82a)]['verbose'](this[_0x1d5bb2(0x798)]+'\x20('+this[_0x1d5bb2(0x478)]['wuid']+_0x1d5bb2(0x7ea)),_0x2d833b(j['default'][_0x1d5bb2(0x6f1)](_0x3c87ab));});});}async[a0_0x2a87a6(0x492)](_0x43a56e){const _0x227361=a0_0x2a87a6;let _0x55e6bb={},_0x14a338=_0x227361(0x7b6);if(_0x43a56e['buttonMessage']?.[_0x227361(0x3b8)]){_0x14a338=_0x43a56e[_0x227361(0x492)][_0x227361(0x3b8)]?.[_0x227361(0x22c)][_0x227361(0x5e8)]()??_0x227361(0x7b6),_0x55e6bb[_0x227361(0x664)]=_0x14a338[_0x227361(0x203)]()+_0x227361(0x1fb);let _0x23e2ae=await this[_0x227361(0x484)](_0x43a56e[_0x227361(0x492)][_0x227361(0x3b8)]);_0x55e6bb['message']=_0x23e2ae[_0x227361(0x5af)][_0x55e6bb[_0x227361(0x664)]],_0x55e6bb[_0x227361(0x142)]='*'+_0x43a56e['buttonMessage']['title']+_0x227361(0x1e9)+_0x43a56e[_0x227361(0x492)][_0x227361(0x406)];}let _0x34bced={'text':_0x43a56e[_0x227361(0x492)][_0x227361(0x57a)]['map'](_0x23d4cc=>_0x23d4cc['buttonText']),'ids':_0x43a56e['buttonMessage'][_0x227361(0x57a)][_0x227361(0x639)](_0x326834=>_0x326834[_0x227361(0x686)])};if(!(0x0,L['arrayUnique'])(_0x34bced[_0x227361(0x210)])||!(0x0,L[_0x227361(0x44a)])(_0x34bced[_0x227361(0x317)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x227361(0x4b5));return await this['sendMessageWithTyping'](_0x43a56e[_0x227361(0x2be)],{'buttonsMessage':{'text':_0x55e6bb?.[_0x227361(0x664)]?void 0x0:_0x43a56e[_0x227361(0x492)]['title'],'contentText':_0x55e6bb?.[_0x227361(0x142)]??_0x43a56e[_0x227361(0x492)][_0x227361(0x406)],'footerText':_0x43a56e[_0x227361(0x492)]?.['footerText'],'buttons':_0x43a56e[_0x227361(0x492)][_0x227361(0x57a)]['map'](_0x2d661c=>({'buttonText':{'displayText':_0x2d661c[_0x227361(0x312)]},'buttonId':_0x2d661c[_0x227361(0x686)],'type':0x1})),'headerType':w[_0x227361(0x43c)][_0x227361(0x1fb)]['ButtonsMessage'][_0x227361(0x1c8)][_0x14a338],[_0x55e6bb?.[_0x227361(0x664)]]:_0x55e6bb?.[_0x227361(0x5af)]}},_0x43a56e?.['options']);}async[a0_0x2a87a6(0x463)](_0x3e5b7d){const _0x3535f4=a0_0x2a87a6;return await this['sendMessageWithTyping'](_0x3e5b7d[_0x3535f4(0x2be)],{'locationMessage':{'degreesLatitude':_0x3e5b7d[_0x3535f4(0x463)][_0x3535f4(0x689)],'degreesLongitude':_0x3e5b7d['locationMessage'][_0x3535f4(0x88a)],'name':_0x3e5b7d[_0x3535f4(0x463)]?.[_0x3535f4(0x366)],'address':_0x3e5b7d[_0x3535f4(0x463)]?.[_0x3535f4(0x581)]}},_0x3e5b7d?.['options']);}async['contactMessage'](_0xd4a256){const _0x594d8d=a0_0x2a87a6;let _0x2d9a9d={},_0x13d09f=async _0x14762a=>{const _0x31272e=a0_0xe551;let _0x1881a0='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x14762a['fullName']+_0x31272e(0x45b)+_0x14762a[_0x31272e(0x4b2)]+'\x0a';_0x14762a[_0x31272e(0x31c)]&&(_0x1881a0+=_0x31272e(0x888)+_0x14762a['organization']+';\x0a'),_0x14762a[_0x31272e(0x3fd)]&&(_0x1881a0+=_0x31272e(0x848)+_0x14762a['email']+'\x0a'),_0x14762a[_0x31272e(0x1a2)]&&(_0x1881a0+=_0x31272e(0x81c)+_0x14762a[_0x31272e(0x1a2)]+'\x0a');let _0x4e1e95='',_0x433775=0x1;if(_0x14762a[_0x31272e(0x843)]){let _0x5e31f0=_0x14762a[_0x31272e(0x843)][_0x31272e(0x259)]('|');for(let _0x2785d0 of _0x5e31f0){let _0x1ae675=await this[_0x31272e(0x7e0)]({'numbers':[_0x2785d0]}),_0x301d56=(_0x1ae675[_0x31272e(0x30d)]>0x0?_0x1ae675[0x0][_0x31272e(0x174)]:this['createJid'](_0x2785d0))[_0x31272e(0x1ee)](_0x31272e(0x279),'');_0x4e1e95+='item'+_0x433775+_0x31272e(0x467)+_0x301d56+':'+_0x2785d0+_0x31272e(0x50b)+_0x433775+_0x31272e(0x285),_0x433775++;}}return _0x1881a0+=_0x4e1e95+_0x31272e(0x368),_0x1881a0;};return _0xd4a256[_0x594d8d(0x682)]['length']===0x1?_0x2d9a9d['contactMessage']={'displayName':_0xd4a256[_0x594d8d(0x682)][0x0][_0x594d8d(0x4b2)],'vcard':await _0x13d09f(_0xd4a256[_0x594d8d(0x682)][0x0])}:_0x2d9a9d[_0x594d8d(0x185)]={'displayName':_0xd4a256[_0x594d8d(0x682)]['length']+_0x594d8d(0x140),'contacts':await Promise[_0x594d8d(0x3e2)](_0xd4a256['contactMessage'][_0x594d8d(0x639)](async _0x5d7b0a=>({'displayName':_0x5d7b0a[_0x594d8d(0x4b2)],'vcard':await _0x13d09f(_0x5d7b0a)})))},await this['sendMessageWithTyping'](_0xd4a256[_0x594d8d(0x2be)],{..._0x2d9a9d},_0xd4a256?.['options']);}async[a0_0x2a87a6(0x59a)](_0xe74306){const _0x266d33=a0_0x2a87a6;return await this[_0x266d33(0x183)](_0xe74306[_0x266d33(0x59a)][_0x266d33(0x349)][_0x266d33(0x6f5)],{'reactionMessage':{'key':_0xe74306[_0x266d33(0x59a)][_0x266d33(0x349)],'text':_0xe74306[_0x266d33(0x59a)][_0x266d33(0x2b3)]}});}async[a0_0x2a87a6(0x7e0)](_0x1151bf){const _0x47da12=a0_0x2a87a6;let _0x4bc4eb=[];for await(let _0x16caad of _0x1151bf['numbers']){let _0x1b10a9=this[_0x47da12(0x506)](_0x16caad),_0x53846c=!0x1;try{if((0x0,w[_0x47da12(0x893)])(_0x1b10a9)){let _0x570185=(await this['repository'][_0x47da12(0x6eb)]['findOne']({'where':{'_id':_0x1b10a9}},this['instance'][_0x47da12(0x456)]))[_0x47da12(0x1b2)];_0x570185?(_0x53846c=!0x0,_0x4bc4eb[_0x47da12(0x67c)](new pe(_0x570185['id'],_0x53846c,_0x570185?.[_0x47da12(0x24e)]))):(_0x570185=await this[_0x47da12(0x6e1)]({'groupJid':_0x1b10a9},_0x47da12(0x326)),_0x4bc4eb[_0x47da12(0x67c)](new pe(_0x570185['id'],!!_0x570185?.['id'],_0x570185?.['subject'])));}else{if(_0x1b10a9[_0x47da12(0x708)](_0x47da12(0x2ab)))_0x4bc4eb[_0x47da12(0x67c)](new pe(_0x1b10a9,!0x0));else{let _0x965874=(await this['client'][_0x47da12(0x1b4)](_0x1b10a9))[0x0];_0x4bc4eb[_0x47da12(0x67c)](new pe(_0x965874['jid'],_0x965874['exists']));}}}catch{(0x0,w[_0x47da12(0x893)])(_0x1b10a9)||await this[_0x47da12(0x83e)](_0x1b10a9),_0x4bc4eb[_0x47da12(0x67c)](new pe(_0x16caad,!0x1));}}return _0x4bc4eb;}async[a0_0x2a87a6(0x83e)](_0x1c7a44){const _0x4af0ba=a0_0x2a87a6;try{await this[_0x4af0ba(0x6ae)][_0x4af0ba(0x6eb)]['findOne']({'where':{'_id':_0x1c7a44,'imported':!0x0}},this[_0x4af0ba(0x478)][_0x4af0ba(0x456)])&&(await this['repository'][_0x4af0ba(0x6eb)][_0x4af0ba(0x21f)](_0x1c7a44,this[_0x4af0ba(0x478)][_0x4af0ba(0x456)]),this[_0x4af0ba(0x82a)][_0x4af0ba(0x2e4)](_0x4af0ba(0x543)+_0x1c7a44+_0x4af0ba(0x22d)));}catch(_0x7da00){let _0x348ab6=_0x4af0ba(0x552),_0xf41baf=_0x7da00 instanceof Error?_0x7da00[_0x4af0ba(0x5af)]:typeof _0x7da00==_0x4af0ba(0x3ae)?JSON['stringify'](_0x7da00):_0x7da00,_0x2c131b=_0x348ab6+':\x20'+_0xf41baf;this[_0x4af0ba(0x82a)]['error'](this[_0x4af0ba(0x798)]+'\x20('+this['instance'][_0x4af0ba(0x456)]+_0x4af0ba(0x1db)+_0x2c131b);}}async[a0_0x2a87a6(0x86b)](_0x21d463){const _0xd37eda=a0_0x2a87a6;try{let _0x3515e2=_0x21d463['readMessages'][_0xd37eda(0x17c)](_0x260b18=>(0x0,w[_0xd37eda(0x893)])(_0x260b18[_0xd37eda(0x6f5)])||(0x0,w['isJidUser'])(_0x260b18[_0xd37eda(0x6f5)]))[_0xd37eda(0x639)](_0x2cbff4=>({'remoteJid':_0x2cbff4[_0xd37eda(0x6f5)],'fromMe':_0x2cbff4[_0xd37eda(0x536)],'id':_0x2cbff4['id']}));await this[_0xd37eda(0x47c)][_0xd37eda(0x584)](_0x3515e2);let _0x5b7718=_0x3515e2['map'](_0x39fa26=>this[_0xd37eda(0x7ae)](_0x39fa26,{'status':_0xd37eda(0x5de),'owner':this[_0xd37eda(0x478)][_0xd37eda(0x456)]})),_0x54a289=_0x3515e2[_0xd37eda(0x639)](_0xc3209=>this[_0xd37eda(0x6ae)][_0xd37eda(0x6eb)][_0xd37eda(0x768)]({'where':{'_id':_0xc3209['remoteJid']}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x5aa481,_0x795880]=await Promise[_0xd37eda(0x3e2)]([Promise[_0xd37eda(0x3e2)](_0x5b7718),Promise['all'](_0x54a289)]);return _0x795880['filter'](_0x1b1c37=>_0x1b1c37!==null)[_0xd37eda(0x32f)](_0x2d23e3=>{const _0x49547b=_0xd37eda;q(this[_0x49547b(0x798)],_0x49547b(0x707),{'chat':_0x2d23e3});}),{'message':_0xd37eda(0x7fd),'read':_0xd37eda(0x3da)};}catch(_0x14e30a){let _0x43502f=_0xd37eda(0x47e),_0x37d1ed=_0x14e30a instanceof Error?_0x14e30a['message']:typeof _0x14e30a==_0xd37eda(0x3ae)?JSON[_0xd37eda(0x15a)](_0x14e30a):_0x14e30a,_0x8f21ea=_0x43502f+':\x20'+_0x37d1ed;throw this[_0xd37eda(0x82a)]['error'](this['instanceName']+'\x20('+this[_0xd37eda(0x478)]['wuid']+'):\x20'+_0x8f21ea),new x(_0x8f21ea);}}async[a0_0x2a87a6(0x327)](_0x25c7a9){const _0x231483=a0_0x2a87a6;let _0x21c5a0={'where':{'key':{'remoteJid':_0x25c7a9}},'limit':0x1},_0x1eb5bd=await this['fetchMessages'](_0x21c5a0);return _0x1eb5bd||(this[_0x231483(0x82a)][_0x231483(0x495)]('Last\x20message\x20not\x20found\x20for\x20number:\x20'+_0x25c7a9),null);}async[a0_0x2a87a6(0x6af)](_0x5e5c76){const _0x4a3b95=a0_0x2a87a6;this[_0x4a3b95(0x82a)][_0x4a3b95(0x216)](this[_0x4a3b95(0x798)]+'\x20('+this[_0x4a3b95(0x478)]['wuid']+_0x4a3b95(0x3d4));try{let _0x4eae21=_0x5e5c76[_0x4a3b95(0x612)],_0x2dfb41=_0x5e5c76[_0x4a3b95(0x6eb)];if(!_0x4eae21&&_0x2dfb41?_0x4eae21=await this[_0x4a3b95(0x327)](_0x2dfb41):(_0x4eae21=_0x5e5c76[_0x4a3b95(0x612)],_0x4eae21[_0x4a3b95(0x296)]=_0x4eae21?.[_0x4a3b95(0x296)]??Date[_0x4a3b95(0x810)](),_0x2dfb41=_0x4eae21?.[_0x4a3b95(0x349)]?.[_0x4a3b95(0x6f5)]),!_0x4eae21||Object[_0x4a3b95(0x173)](_0x4eae21)[_0x4a3b95(0x30d)]===0x0)throw new J('Last\x20message\x20not\x20found');this['logger'][_0x4a3b95(0x216)](this[_0x4a3b95(0x798)]+'\x20('+this[_0x4a3b95(0x478)][_0x4a3b95(0x456)]+_0x4a3b95(0x1aa)+_0x2dfb41);try{await this[_0x4a3b95(0x47c)][_0x4a3b95(0x466)]({'archive':_0x5e5c76[_0x4a3b95(0x1f3)],'lastMessages':[_0x4eae21]},this[_0x4a3b95(0x506)](_0x2dfb41));}catch(_0x23cf70){let _0x365d24='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x2dfb41,_0x1a4cb4=_0x23cf70 instanceof Error?_0x23cf70[_0x4a3b95(0x5af)]:typeof _0x23cf70=='object'?JSON[_0x4a3b95(0x15a)](_0x23cf70):_0x23cf70,_0x28a1c1=_0x365d24+':\x20'+_0x1a4cb4;this['logger'][_0x4a3b95(0x495)](this[_0x4a3b95(0x798)]+'\x20('+this[_0x4a3b95(0x478)][_0x4a3b95(0x456)]+_0x4a3b95(0x1db)+_0x28a1c1);}this[_0x4a3b95(0x82a)][_0x4a3b95(0x216)](this['instanceName']+'\x20('+this['instance'][_0x4a3b95(0x456)]+_0x4a3b95(0x27e)+_0x2dfb41);let _0xd91bb7=await this[_0x4a3b95(0x6ae)][_0x4a3b95(0x6eb)][_0x4a3b95(0x768)]({'where':{'_id':_0x4eae21?.[_0x4a3b95(0x349)]?.[_0x4a3b95(0x6f5)]}},{'archived':_0x5e5c76[_0x4a3b95(0x1f3)]},this[_0x4a3b95(0x478)][_0x4a3b95(0x456)]);return _0xd91bb7?(this['logger'][_0x4a3b95(0x216)](this[_0x4a3b95(0x798)]+'\x20('+this[_0x4a3b95(0x478)][_0x4a3b95(0x456)]+_0x4a3b95(0x704)+JSON['stringify'](_0xd91bb7)),q(this[_0x4a3b95(0x798)],_0x4a3b95(0x707),{'chat':_0xd91bb7})):this[_0x4a3b95(0x82a)][_0x4a3b95(0x495)](this[_0x4a3b95(0x798)]+'\x20('+this[_0x4a3b95(0x478)][_0x4a3b95(0x456)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x2dfb41),{'chatId':_0x2dfb41,'archived':_0x5e5c76[_0x4a3b95(0x1f3)]};}catch(_0x4eedde){let _0x152ac9=_0x4a3b95(0x73f),_0x59b45d=_0x4eedde instanceof Error?_0x4eedde[_0x4a3b95(0x5af)]:typeof _0x4eedde==_0x4a3b95(0x3ae)?JSON['stringify'](_0x4eedde):_0x4eedde,_0x3c3293=_0x152ac9+':\x20'+_0x59b45d;throw this['logger']['error'](this[_0x4a3b95(0x798)]+'\x20('+this[_0x4a3b95(0x478)][_0x4a3b95(0x456)]+_0x4a3b95(0x1db)+_0x3c3293),new x(_0x3c3293);}}async['deleteChat'](_0x157aa7){const _0x53c094=a0_0x2a87a6;this[_0x53c094(0x82a)][_0x53c094(0x216)](this[_0x53c094(0x798)]+'\x20('+this[_0x53c094(0x478)][_0x53c094(0x456)]+_0x53c094(0x2aa));try{let _0x1b91c3=await this['getLastMessage'](_0x157aa7);if(!_0x1b91c3||Object['keys'](_0x1b91c3)[_0x53c094(0x30d)]===0x0)throw new J(_0x53c094(0x34c));let _0x21e3f8=_0x1b91c3[0x0];this['logger'][_0x53c094(0x216)](this[_0x53c094(0x798)]+'\x20('+this['instance']['wuid']+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x157aa7);try{await this[_0x53c094(0x47c)][_0x53c094(0x466)]({'delete':!0x0,'lastMessages':[{'key':_0x21e3f8[_0x53c094(0x349)],'messageTimestamp':_0x21e3f8[_0x53c094(0x296)]}]},this[_0x53c094(0x506)](_0x157aa7));}catch(_0x149a85){this[_0x53c094(0x82a)][_0x53c094(0x495)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x157aa7+':\x20'+_0x149a85['toString']());}this[_0x53c094(0x82a)]['verbose'](this[_0x53c094(0x798)]+'\x20('+this['instance'][_0x53c094(0x456)]+_0x53c094(0x27e)+_0x157aa7);return;}catch(_0x608e05){throw this['logger'][_0x53c094(0x495)](this[_0x53c094(0x798)]+'\x20('+this[_0x53c094(0x478)][_0x53c094(0x456)]+_0x53c094(0x2a3)+_0x608e05['toString']()),new x({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x608e05[_0x53c094(0x635)]()]});}}async[a0_0x2a87a6(0x3bc)](_0x5c7a36){const _0x1bab89=a0_0x2a87a6;try{let _0x171f83=await this['client'][_0x1bab89(0x23d)](_0x5c7a36[_0x1bab89(0x6f5)],{'delete':_0x5c7a36});try{let _0x38deb4=await this['updateMessage'](_0x5c7a36,{'status':_0x1bab89(0x212),'owner':this[_0x1bab89(0x478)][_0x1bab89(0x456)]});this['logger'][_0x1bab89(0x216)](this[_0x1bab89(0x798)]+'\x20('+this[_0x1bab89(0x478)]['wuid']+'):\x20updateResult:'+_0x38deb4);}catch(_0x3633ad){this[_0x1bab89(0x82a)][_0x1bab89(0x495)](_0x1bab89(0x401)+_0x3633ad);}return _0x171f83;}catch(_0xb37e5c){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0xb37e5c?.[_0x1bab89(0x635)]());}}async['getBase64FromMediaMessage'](_0x2b2a7b){const _0x56edf1=a0_0x2a87a6;try{let _0x2b5f17=_0x2b2a7b?.['message']?_0x2b2a7b:await this[_0x56edf1(0x322)](_0x2b2a7b[_0x56edf1(0x349)],!0x0);for(let _0x52876a of Aa)_0x2b5f17[_0x56edf1(0x5af)][_0x52876a]&&(_0x2b5f17['message']=_0x2b5f17['message'][_0x52876a][_0x56edf1(0x5af)]);let _0x3b1998,_0x3b911a;for(let _0x229b0b of Ra)if(_0x3b1998=_0x2b5f17[_0x56edf1(0x5af)][_0x229b0b],_0x3b1998){_0x3b911a=_0x229b0b;break;}if(!_0x3b1998)throw _0x56edf1(0x588);typeof _0x3b1998[_0x56edf1(0x664)]==_0x56edf1(0x3ae)&&(_0x2b5f17[_0x56edf1(0x5af)]=JSON[_0x56edf1(0x510)](JSON[_0x56edf1(0x15a)](_0x2b5f17['message'])));let _0x34b68c=await(0x0,w[_0x56edf1(0x34f)])({'key':_0x2b5f17?.['key'],'message':_0x2b5f17?.[_0x56edf1(0x5af)]},_0x56edf1(0x437),{},{'logger':(0x0,qt[_0x56edf1(0x667)])({'level':_0x56edf1(0x65f)}),'reuploadRequest':this[_0x56edf1(0x47c)][_0x56edf1(0x6e8)]});if(!(_0x34b68c instanceof Buffer))throw new Error(_0x56edf1(0x86e));let _0x9fee48=this['configService'][_0x56edf1(0x7eb)]('DATABASE'),_0x29e404,_0x414a33;if(_0x3b1998[_0x56edf1(0x55f)])_0x29e404=_0x3b1998[_0x56edf1(0x55f)];else{let _0x50ccbd=_0x3b1998['mimetype']?.[_0x56edf1(0x72a)](/\/(\w+)/),_0x3bf5e7=_0x50ccbd?_0x50ccbd[0x1]:null;if(!_0x3bf5e7)throw new Error(_0x56edf1(0x73c));_0x29e404=(0x0,X['v4'])()+'.'+_0x3bf5e7;}_0x3b911a==='audioMessage'?_0x414a33=_0x56edf1(0x670)+await this[_0x56edf1(0x333)](_0x34b68c[_0x56edf1(0x635)](_0x56edf1(0x746))):(await this['saveMediaToFile'](_0x34b68c,_0x29e404),_0x414a33=_0x56edf1(0x670)+_0x29e404);let _0x4b1264=this[_0x56edf1(0x5ca)][_0x56edf1(0x7eb)](_0x56edf1(0x596))[_0x56edf1(0x287)];if(!_0x4b1264){let _0x440c22=this[_0x56edf1(0x5ca)][_0x56edf1(0x7eb)](_0x56edf1(0x2d0));_0x4b1264=_0x56edf1(0x1f6)+(_0x440c22&&_0x440c22['FULLCHAIN'][_0x56edf1(0x259)]('/')[0x4]);}_0x414a33=''+_0x4b1264+_0x414a33;let _0x3e41f5=0xc*0x3c*0x3c*0x3e8,_0x3dc02b={'where':{'_id':_0x2b5f17['key']['id']}},_0xfb598c={'message_normalized.fileUrl':_0x414a33,'message_normalized.expires_fileUrl':Date['now']()+_0x3e41f5};try{let _0x27e6ab=await this['repository'][_0x56edf1(0x5af)][_0x56edf1(0x7ee)](_0x3dc02b,_0xfb598c,this[_0x56edf1(0x478)][_0x56edf1(0x456)]);_0x27e6ab&&q(this[_0x56edf1(0x798)],_0x56edf1(0x4f1),{'message':_0x27e6ab});}catch(_0x2f64f9){let _0x1654da=_0x56edf1(0x3af),_0x29ec11=_0x2f64f9 instanceof Error?_0x2f64f9['message']:typeof _0x2f64f9==_0x56edf1(0x3ae)?JSON[_0x56edf1(0x15a)](_0x2f64f9):_0x2f64f9,_0x5bb3ad=_0x1654da+':\x20'+_0x29ec11;this[_0x56edf1(0x82a)]['error'](this[_0x56edf1(0x798)]+'\x20('+this[_0x56edf1(0x478)][_0x56edf1(0x456)]+_0x56edf1(0x1db)+_0x5bb3ad);}return{'mediaType':_0x3b911a,'fileName':_0x3b1998[_0x56edf1(0x55f)],'caption':_0x3b1998['caption'],'size':{'fileLength':_0x3b1998[_0x56edf1(0x84a)],'height':_0x3b1998[_0x56edf1(0x817)],'width':_0x3b1998[_0x56edf1(0x48c)]},'mimetype':_0x3b1998[_0x56edf1(0x65a)],'base64':_0x34b68c['toString'](_0x56edf1(0x746)),'fileUrl':_0x414a33,'expires_fileUrl':Date[_0x56edf1(0x810)]()+_0x3e41f5};}catch(_0x10d0a9){let _0x11bbe8=_0x56edf1(0x6d7),_0x2d94f6=_0x10d0a9 instanceof Error?_0x10d0a9['message']:typeof _0x10d0a9==_0x56edf1(0x3ae)?JSON[_0x56edf1(0x15a)](_0x10d0a9):_0x10d0a9,_0x1036dc=_0x11bbe8+':\x20'+_0x2d94f6;throw this[_0x56edf1(0x82a)][_0x56edf1(0x495)](this['instanceName']+'\x20('+this['instance'][_0x56edf1(0x456)]+_0x56edf1(0x1db)+_0x1036dc),new m(_0x1036dc);}}async['saveMediaToFile'](_0x58a8db,_0x362c6c){const _0x5f6e85=a0_0x2a87a6;let _0x3e9563=j['default']['join'](__dirname,_0x5f6e85(0x6e4));F['existsSync'](_0x3e9563)||F['mkdirSync'](_0x3e9563,{'recursive':!0x0});let _0x36b201=j[_0x5f6e85(0x667)][_0x5f6e85(0x52e)](_0x3e9563,_0x362c6c);return new Promise((_0x3d1895,_0x5006aa)=>{const _0xbf33c5=_0x5f6e85;F[_0xbf33c5(0x73d)](_0x36b201,_0x58a8db,_0x2751fd=>{const _0x5393a8=_0xbf33c5;_0x2751fd?(this['logger'][_0x5393a8(0x495)](_0x5393a8(0x4cd)+(_0x2751fd instanceof Error?_0x2751fd[_0x5393a8(0x5af)]:JSON[_0x5393a8(0x15a)](_0x2751fd,null,0x2))),_0x5006aa(_0x2751fd)):(this[_0x5393a8(0x82a)][_0x5393a8(0x1a4)](_0x5393a8(0x852)+_0x36b201),_0x3d1895(_0x36b201));});});}async[a0_0x2a87a6(0x1fe)](_0x164827){const _0x4d167b=a0_0x2a87a6;return await this[_0x4d167b(0x6ae)]['contact'][_0x4d167b(0x2f6)](_0x164827,this[_0x4d167b(0x478)][_0x4d167b(0x456)]);}async[a0_0x2a87a6(0x781)](){const _0x45b3b9=a0_0x2a87a6;return await this[_0x45b3b9(0x6ae)][_0x45b3b9(0x61e)][_0x45b3b9(0x2f6)]({'where':{}},this[_0x45b3b9(0x478)]['wuid']);}async['fetchMessages'](_0x5656d5){const _0x2e5f7d=a0_0x2a87a6;return await this[_0x2e5f7d(0x6ae)][_0x2e5f7d(0x5af)]['find'](_0x5656d5,this[_0x2e5f7d(0x478)][_0x2e5f7d(0x456)]);}async['fetchChats'](){const _0x1449e2=a0_0x2a87a6;return this[_0x1449e2(0x6ae)][_0x1449e2(0x6eb)][_0x1449e2(0x246)](this[_0x1449e2(0x478)]['wuid']),this[_0x1449e2(0x6ae)][_0x1449e2(0x6eb)][_0x1449e2(0x816)](this['instance'][_0x1449e2(0x456)]),this['repository'][_0x1449e2(0x6eb)][_0x1449e2(0x453)](this[_0x1449e2(0x478)][_0x1449e2(0x456)]),this[_0x1449e2(0x6ae)][_0x1449e2(0x6eb)][_0x1449e2(0x5be)](this[_0x1449e2(0x478)][_0x1449e2(0x456)]),await this[_0x1449e2(0x6ae)][_0x1449e2(0x6eb)]['find']({'where':{}},this[_0x1449e2(0x478)][_0x1449e2(0x456)]);}async[a0_0x2a87a6(0x3e1)](_0x13dfc6){const _0x1aab34=a0_0x2a87a6;try{if(!Array['isArray'](_0x13dfc6)||_0x13dfc6['length']===0x0)throw new Error(_0x1aab34(0x4f7));let _0xa548ca=[],_0x51397f=[];for(let _0x3d4e58 of _0x13dfc6){if(_0x3d4e58['_id'])_0x3d4e58[_0x1aab34(0x2f9)]=this[_0x1aab34(0x506)](_0x3d4e58[_0x1aab34(0x2f9)]);else continue;await this[_0x1aab34(0x6ae)][_0x1aab34(0x6eb)][_0x1aab34(0x654)]({'where':{'_id':_0x3d4e58[_0x1aab34(0x2f9)]}},this[_0x1aab34(0x478)][_0x1aab34(0x456)])?_0x51397f[_0x1aab34(0x67c)]({'_id':_0x3d4e58['_id'],'leadInfo':_0x3d4e58[_0x1aab34(0x441)],'owner':this['instance'][_0x1aab34(0x456)]}):_0xa548ca[_0x1aab34(0x67c)]({'_id':_0x3d4e58['_id'],'owner':this[_0x1aab34(0x478)]['wuid'],'leadInfo':_0x3d4e58[_0x1aab34(0x441)],'imported':!0x0});}return _0x51397f[_0x1aab34(0x30d)]>0x0&&await this[_0x1aab34(0x6ae)][_0x1aab34(0x6eb)]['updateMany'](_0x51397f[_0x1aab34(0x639)](_0x2e976a=>({'query':{'where':{'_id':_0x2e976a[_0x1aab34(0x2f9)],'owner':this[_0x1aab34(0x478)][_0x1aab34(0x456)]}},'update':_0x2e976a}))),_0xa548ca[_0x1aab34(0x30d)]>0x0&&await this[_0x1aab34(0x6ae)][_0x1aab34(0x6eb)]['insertMany'](_0xa548ca,this[_0x1aab34(0x478)][_0x1aab34(0x456)]),{'updated':_0x51397f[_0x1aab34(0x30d)],'inserted':_0xa548ca['length']};}catch(_0x484558){let _0x5217e1=_0x1aab34(0x4c6),_0x192b23=_0x484558 instanceof Error?_0x484558[_0x1aab34(0x5af)]:typeof _0x484558==_0x1aab34(0x3ae)?JSON[_0x1aab34(0x15a)](_0x484558):_0x484558,_0x2b0e17=_0x5217e1+':\x20'+_0x192b23;throw this[_0x1aab34(0x82a)][_0x1aab34(0x495)](this[_0x1aab34(0x798)]+'\x20('+this['instance']['wuid']+_0x1aab34(0x1db)+_0x2b0e17),new m(_0x2b0e17);}}async['importChats'](_0x4b8de1){const _0xa1b853=a0_0x2a87a6;try{if(!Array[_0xa1b853(0x272)](_0x4b8de1)||_0x4b8de1[_0xa1b853(0x30d)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0xece355=0x64,_0x4fd1c5=0x0;for(let _0x21d849=0x0;_0x21d849<_0x4b8de1[_0xa1b853(0x30d)];_0x21d849+=_0xece355){let _0x335f3a=_0x4b8de1['slice'](_0x21d849,_0x21d849+_0xece355),{updated:_0x1b47eb}=await this[_0xa1b853(0x850)](_0x335f3a);_0x4fd1c5+=_0x1b47eb;}return{'updated':_0x4fd1c5};}catch(_0x27a4f4){let _0x3a7d1f='Erro\x20ao\x20importar\x20chats',_0x5565ff=_0x27a4f4 instanceof Error?_0x27a4f4[_0xa1b853(0x5af)]:typeof _0x27a4f4==_0xa1b853(0x3ae)?JSON[_0xa1b853(0x15a)](_0x27a4f4):_0x27a4f4,_0xa6463a=_0x3a7d1f+':\x20'+_0x5565ff;throw this['logger'][_0xa1b853(0x495)](this[_0xa1b853(0x798)]+'\x20('+this[_0xa1b853(0x478)][_0xa1b853(0x456)]+_0xa1b853(0x1db)+_0xa6463a),new m(_0xa6463a);}}async['importChatsBatch'](_0x73e6a1){const _0x2c799d=a0_0x2a87a6;try{let _0x1fe75e=await this[_0x2c799d(0x6ae)][_0x2c799d(0x61e)][_0x2c799d(0x2f6)]({'where':{}},this[_0x2c799d(0x478)][_0x2c799d(0x456)]),_0x24753c=new Set(_0x1fe75e[_0x2c799d(0x639)](_0x5baee4=>_0x5baee4[_0x2c799d(0x2f9)])),_0x328fec=[],_0x5320ca=[];for(let _0x34e1eb of _0x73e6a1){if(!_0x34e1eb['_id'])continue;_0x34e1eb[_0x2c799d(0x2f9)]=this[_0x2c799d(0x506)](_0x34e1eb[_0x2c799d(0x2f9)]);let _0x36df2f=await this[_0x2c799d(0x6ae)][_0x2c799d(0x6eb)][_0x2c799d(0x654)]({'where':{'_id':_0x34e1eb['_id']}},this[_0x2c799d(0x478)][_0x2c799d(0x456)]),_0x1fab8c={};if(Object['entries'](_0x34e1eb[_0x2c799d(0x441)])['forEach'](([_0x29003a,_0x10356b])=>{const _0x1df2f4=_0x2c799d;_0x1fab8c[_0x1df2f4(0x2bd)+_0x29003a]=_0x10356b;}),_0x36df2f&&!_0x36df2f[_0x2c799d(0x835)]){let _0x4ff621=(_0x34e1eb[_0x2c799d(0x441)][_0x2c799d(0x6e6)]||[])[_0x2c799d(0x17c)](_0x2815e2=>_0x24753c[_0x2c799d(0x45e)](_0x2815e2)),_0x28c4a4=new Set(_0x36df2f[_0x2c799d(0x441)][_0x2c799d(0x6e6)]||[]),_0x4f8945=_0x4ff621[_0x2c799d(0x17c)](_0x177b5c=>!_0x28c4a4[_0x2c799d(0x45e)](_0x177b5c)),_0x36ce97=[..._0x28c4a4][_0x2c799d(0x17c)](_0x4e4fe4=>!_0x4ff621[_0x2c799d(0x708)](_0x4e4fe4));_0x5320ca[_0x2c799d(0x67c)](..._0x4f8945[_0x2c799d(0x639)](_0x3fa37a=>this[_0x2c799d(0x78d)](_0x3fa37a,_0x34e1eb['_id']))),_0x5320ca[_0x2c799d(0x67c)](..._0x36ce97[_0x2c799d(0x639)](_0x5a431a=>this[_0x2c799d(0x65c)](_0x5a431a,_0x34e1eb['_id']))),_0x34e1eb[_0x2c799d(0x441)][_0x2c799d(0x6e6)]=_0x4ff621,_0x328fec[_0x2c799d(0x67c)]({'query':{'where':{'_id':_0x34e1eb[_0x2c799d(0x2f9)],'owner':this['instance']['wuid']}},'update':_0x1fab8c});}else _0x1fab8c['imported']=!0x0,_0x328fec[_0x2c799d(0x67c)]({'query':{'where':{'_id':_0x34e1eb[_0x2c799d(0x2f9)],'owner':this[_0x2c799d(0x478)][_0x2c799d(0x456)]}},'update':_0x1fab8c});}let _0x4eae49=await this[_0x2c799d(0x6ae)][_0x2c799d(0x6eb)][_0x2c799d(0x5f5)](_0x328fec);return await Promise[_0x2c799d(0x3e2)](_0x5320ca),{'updated':_0x4eae49};}catch(_0x90d805){let _0x10f7c9='Erro\x20ao\x20importar\x20chats',_0x42d6db=_0x90d805 instanceof Error?_0x90d805[_0x2c799d(0x5af)]:typeof _0x90d805==_0x2c799d(0x3ae)?JSON[_0x2c799d(0x15a)](_0x90d805):_0x90d805,_0x5f50fb=_0x10f7c9+':\x20'+_0x42d6db;throw this[_0x2c799d(0x82a)][_0x2c799d(0x495)](this[_0x2c799d(0x798)]+'\x20('+this[_0x2c799d(0x478)][_0x2c799d(0x456)]+_0x2c799d(0x1db)+_0x5f50fb),new m(_0x5f50fb);}}async[a0_0x2a87a6(0x5e7)](){const _0x3f178b=a0_0x2a87a6;return await this[_0x3f178b(0x47c)][_0x3f178b(0x5e7)]();}async[a0_0x2a87a6(0x4c5)](_0xe0e329){const _0x5bb9dc=a0_0x2a87a6;try{return await this[_0x5bb9dc(0x47c)][_0x5bb9dc(0x811)](_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x685)]),await this['client'][_0x5bb9dc(0x4c3)](_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x77a)]),await this[_0x5bb9dc(0x47c)]['updateStatusPrivacy'](_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x5f7)]),await this[_0x5bb9dc(0x47c)][_0x5bb9dc(0x555)](_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x462)]),await this['client'][_0x5bb9dc(0x624)](_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x403)]),await this[_0x5bb9dc(0x47c)][_0x5bb9dc(0x518)](_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x20f)]),this[_0x5bb9dc(0x47c)]?.['ws']?.[_0x5bb9dc(0x516)](),{'update':_0x5bb9dc(0x3da),'data':{'readreceipts':_0xe0e329[_0x5bb9dc(0x54b)]['readreceipts'],'profile':_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x77a)],'status':_0xe0e329['privacySettings'][_0x5bb9dc(0x5f7)],'online':_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x462)],'last':_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x403)],'groupadd':_0xe0e329[_0x5bb9dc(0x54b)][_0x5bb9dc(0x20f)]}};}catch(_0x409ef2){let _0x2606c1='Erro\x20ao\x20alterar\x20privacidade',_0x49e647=_0x409ef2 instanceof Error?_0x409ef2['message']:typeof _0x409ef2==_0x5bb9dc(0x3ae)?JSON['stringify'](_0x409ef2):_0x409ef2,_0xb3713e=_0x2606c1+':\x20'+_0x49e647;throw this[_0x5bb9dc(0x82a)][_0x5bb9dc(0x495)](this[_0x5bb9dc(0x798)]+'\x20('+this['instance'][_0x5bb9dc(0x456)]+_0x5bb9dc(0x1db)+_0xb3713e),new m(_0xb3713e);}}async[a0_0x2a87a6(0x580)](_0x7e9661){const _0x3b9d07=a0_0x2a87a6;let _0x4288c7=(_0x7e9661?this[_0x3b9d07(0x506)](_0x7e9661):this[_0x3b9d07(0x47c)]?.[_0x3b9d07(0x4ed)]?.['id'])[_0x3b9d07(0x1ee)](/:\d{1,2}@/g,'@');this[_0x3b9d07(0x82a)][_0x3b9d07(0x216)](this[_0x3b9d07(0x798)]+'\x20('+this[_0x3b9d07(0x478)][_0x3b9d07(0x456)]+_0x3b9d07(0x615)+_0x4288c7);let _0x4a97f2=await this[_0x3b9d07(0x6ae)][_0x3b9d07(0x7a2)]['findOne']({'where':{'_id':_0x4288c7}},this[_0x3b9d07(0x478)][_0x3b9d07(0x456)]),_0x3da9ac=_0x4a97f2?_0x4a97f2[_0x3b9d07(0x346)]:null;try{let _0x42279f=(await this[_0x3b9d07(0x7e0)]({'numbers':[_0x4288c7]}))?.[_0x3b9d07(0x4a4)](),_0x3d9581=(await this[_0x3b9d07(0x783)](_0x4288c7,null,!0x1))['cachedContact'][_0x3b9d07(0x324)],_0x4b4c31=await this[_0x3b9d07(0x592)](_0x42279f?.[_0x3b9d07(0x174)]),_0x2b1bd7=await this[_0x3b9d07(0x1ed)](_0x42279f?.[_0x3b9d07(0x174)]),_0x1417bf=(await this[_0x3b9d07(0x783)](_0x4288c7,null,!0x1))['cachedContact']['name'],_0x3ceb51=await this[_0x3b9d07(0x6ae)][_0x3b9d07(0x6eb)][_0x3b9d07(0x654)]({'where':{'_id':_0x4288c7}},this[_0x3b9d07(0x478)]['wuid']),_0x55298c={'imagechat':_0x3d9581,'contactname':_0x3da9ac||null,'pushName':_0x1417bf,'status':_0x4b4c31?.[_0x3b9d07(0x5f7)],'isBusiness':_0x2b1bd7[_0x3b9d07(0x43b)],'email':_0x2b1bd7?.[_0x3b9d07(0x3fd)],'description':_0x2b1bd7?.[_0x3b9d07(0x406)],'website':_0x2b1bd7?.[_0x3b9d07(0x788)]?.['shift'](),'lastcache':Date[_0x3b9d07(0x810)](),'imported':!_0x3ceb51},_0x495e88=await this[_0x3b9d07(0x6ae)][_0x3b9d07(0x6eb)][_0x3b9d07(0x768)]({'where':{'_id':_0x4288c7}},_0x55298c,this[_0x3b9d07(0x478)]['wuid']),_0x1d0b12={'owner':this['instance'][_0x3b9d07(0x456)],'_id':_0x4288c7,'profilePictureUrl':_0x3d9581,'status':_0x4b4c31?.[_0x3b9d07(0x5f7)]};return this['repository'][_0x3b9d07(0x7a2)]['update']([_0x1d0b12],this[_0x3b9d07(0x478)][_0x3b9d07(0x456)]),_0x495e88&&q(this[_0x3b9d07(0x798)],_0x3b9d07(0x707),{'chat':_0x495e88}),{'wuid':_0x42279f?.[_0x3b9d07(0x174)]||_0x4288c7,'name':_0x42279f?.[_0x3b9d07(0x366)],'pushName':_0x1417bf,'numberExists':_0x42279f?.[_0x3b9d07(0x585)],'picture':_0x3d9581,'status':_0x4b4c31?.[_0x3b9d07(0x5f7)],'isBusiness':_0x2b1bd7['isBusiness'],'email':_0x2b1bd7?.[_0x3b9d07(0x3fd)],'description':_0x2b1bd7?.[_0x3b9d07(0x406)],'website':_0x2b1bd7?.[_0x3b9d07(0x788)]?.[_0x3b9d07(0x4a4)]()};}catch(_0x5c7b20){return this['logger'][_0x3b9d07(0x495)](_0x3b9d07(0x6b5)+(_0x5c7b20 instanceof Error?_0x5c7b20[_0x3b9d07(0x5af)]:JSON[_0x3b9d07(0x15a)](_0x5c7b20,null,0x2))),{};}}async[a0_0x2a87a6(0x1ed)](_0x1caa10){const _0x14aa7d=a0_0x2a87a6;this[_0x14aa7d(0x82a)][_0x14aa7d(0x216)](this[_0x14aa7d(0x798)]+'\x20('+this[_0x14aa7d(0x478)][_0x14aa7d(0x456)]+_0x14aa7d(0x2fe));try{let _0x9fec6e=_0x1caa10?this['createJid'](_0x1caa10):this[_0x14aa7d(0x478)]['wuid'],_0x52cbcf=await this[_0x14aa7d(0x47c)][_0x14aa7d(0x660)](_0x9fec6e);return this[_0x14aa7d(0x82a)][_0x14aa7d(0x216)](this[_0x14aa7d(0x798)]+'\x20('+this[_0x14aa7d(0x478)][_0x14aa7d(0x456)]+_0x14aa7d(0x69e)),_0x52cbcf?(this['logger'][_0x14aa7d(0x216)](this[_0x14aa7d(0x798)]+'\x20('+this[_0x14aa7d(0x478)]['wuid']+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x52cbcf}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x14aa7d(0x7e0)]({'numbers':[_0x9fec6e]}))?.[_0x14aa7d(0x4a4)]()};}catch(_0x58964c){let _0xa1ead7=_0x14aa7d(0x605),_0x5bd083=_0x58964c instanceof Error?_0x58964c[_0x14aa7d(0x5af)]:typeof _0x58964c==_0x14aa7d(0x3ae)?JSON[_0x14aa7d(0x15a)](_0x58964c):_0x58964c,_0x5da923=_0xa1ead7+':\x20'+_0x5bd083;throw this[_0x14aa7d(0x82a)][_0x14aa7d(0x495)](this[_0x14aa7d(0x798)]+'\x20('+this[_0x14aa7d(0x478)][_0x14aa7d(0x456)]+_0x14aa7d(0x1db)+_0x5da923),new x(_0x5da923);}}async[a0_0x2a87a6(0x592)](_0x410574){const _0x4e0971=a0_0x2a87a6;let _0x37028f=this[_0x4e0971(0x506)](_0x410574);try{return{'wuid':_0x37028f,'status':(await this[_0x4e0971(0x47c)][_0x4e0971(0x416)](_0x37028f))[0x0]?.[_0x4e0971(0x5f7)]};}catch{return{'wuid':_0x37028f,'status':null};}}async[a0_0x2a87a6(0x7cd)](_0x5f5bac){const _0x2a10ae=a0_0x2a87a6;try{return await this[_0x2a10ae(0x47c)][_0x2a10ae(0x7cd)](_0x5f5bac),{'update':'success'};}catch(_0x5d47c9){let _0xf1e8c6=_0x2a10ae(0x7fa),_0xb6f467=_0x5d47c9 instanceof Error?_0x5d47c9[_0x2a10ae(0x5af)]:typeof _0x5d47c9==_0x2a10ae(0x3ae)?JSON['stringify'](_0x5d47c9):_0x5d47c9,_0x2685b0=_0xf1e8c6+':\x20'+_0xb6f467;throw this[_0x2a10ae(0x82a)]['error'](this[_0x2a10ae(0x798)]+'\x20('+this['instance']['wuid']+_0x2a10ae(0x1db)+_0x2685b0),new x(_0x2685b0);}}async[a0_0x2a87a6(0x62f)](_0x510e95){const _0xb74be2=a0_0x2a87a6;try{return await this[_0xb74be2(0x47c)][_0xb74be2(0x62f)](_0x510e95),{'update':_0xb74be2(0x3da)};}catch(_0x452765){let _0x2b7fa5=_0xb74be2(0x5a3),_0xdf22d2=_0x452765 instanceof Error?_0x452765[_0xb74be2(0x5af)]:typeof _0x452765==_0xb74be2(0x3ae)?JSON[_0xb74be2(0x15a)](_0x452765):_0x452765,_0x53437a=_0x2b7fa5+':\x20'+_0xdf22d2;throw this[_0xb74be2(0x82a)][_0xb74be2(0x495)](this[_0xb74be2(0x798)]+'\x20('+this[_0xb74be2(0x478)][_0xb74be2(0x456)]+_0xb74be2(0x1db)+_0x53437a),new x(_0x53437a);}}async[a0_0x2a87a6(0x40e)](_0x492f22){const _0x3e7ba4=a0_0x2a87a6;try{let _0x57629e;if((0x0,L['isURL'])(_0x492f22)){let _0x142aea=new Date()[_0x3e7ba4(0x563)](),_0x1ba60e=_0x492f22+'?timestamp='+_0x142aea;_0x57629e=(await te[_0x3e7ba4(0x667)][_0x3e7ba4(0x7eb)](_0x1ba60e,{'responseType':_0x3e7ba4(0x17b)}))[_0x3e7ba4(0x2d7)];}else{if((0x0,L[_0x3e7ba4(0x608)])(_0x492f22))_0x57629e=Buffer[_0x3e7ba4(0x696)](_0x492f22,'base64');else throw new m(_0x3e7ba4(0x841));}return await this[_0x3e7ba4(0x47c)]['updateProfilePicture'](this[_0x3e7ba4(0x478)]['wuid'],_0x57629e),{'update':_0x3e7ba4(0x3da)};}catch(_0x43d7da){let _0x18049c=_0x3e7ba4(0x5b9),_0x58542f=_0x43d7da instanceof Error?_0x43d7da['message']:typeof _0x43d7da==_0x3e7ba4(0x3ae)?JSON[_0x3e7ba4(0x15a)](_0x43d7da):_0x43d7da,_0x38d126=_0x18049c+':\x20'+_0x58542f;throw this[_0x3e7ba4(0x82a)][_0x3e7ba4(0x495)](this[_0x3e7ba4(0x798)]+'\x20('+this['instance'][_0x3e7ba4(0x456)]+_0x3e7ba4(0x1db)+_0x38d126),new x(_0x38d126);}}async[a0_0x2a87a6(0x273)](){const _0xf917e6=a0_0x2a87a6;try{return await this[_0xf917e6(0x47c)][_0xf917e6(0x273)](this[_0xf917e6(0x478)][_0xf917e6(0x456)]),{'update':'success'};}catch(_0x33da5f){let _0x51bea5=_0xf917e6(0x2f0),_0xc2f8a5=_0x33da5f instanceof Error?_0x33da5f[_0xf917e6(0x5af)]:typeof _0x33da5f=='object'?JSON['stringify'](_0x33da5f):_0x33da5f,_0x22033c=_0x51bea5+':\x20'+_0xc2f8a5;throw this['logger'][_0xf917e6(0x495)](this['instanceName']+'\x20('+this[_0xf917e6(0x478)][_0xf917e6(0x456)]+_0xf917e6(0x1db)+_0x22033c),new x(_0x22033c);}}async[a0_0x2a87a6(0x33e)](_0x5261cf){const _0x4e290b=a0_0x2a87a6;try{let _0x9665f3=(await this[_0x4e290b(0x7e0)]({'numbers':_0x5261cf[_0x4e290b(0x20b)]}))['filter'](_0x3ca3e7=>_0x3ca3e7[_0x4e290b(0x585)])[_0x4e290b(0x639)](_0x10707a=>_0x10707a['jid']),{id:_0x528275}=await this['client'][_0x4e290b(0x57e)](_0x5261cf[_0x4e290b(0x24e)],_0x9665f3);_0x5261cf?.[_0x4e290b(0x406)]&&await this['client']['groupUpdateDescription'](_0x528275,_0x5261cf[_0x4e290b(0x406)]);let _0x39c42a=await this[_0x4e290b(0x47c)]['groupMetadata'](_0x528275);return _0x39c42a[_0x4e290b(0x786)]=[],{'metadata':_0x39c42a};}catch(_0x25edbc){let _0x350000=_0x4e290b(0x750),_0x2a2b99=_0x25edbc instanceof Error?_0x25edbc['message']:typeof _0x25edbc==_0x4e290b(0x3ae)?JSON[_0x4e290b(0x15a)](_0x25edbc):_0x25edbc,_0x1ced3d=_0x350000+':\x20'+_0x2a2b99;throw this[_0x4e290b(0x82a)][_0x4e290b(0x495)](this[_0x4e290b(0x798)]+'\x20('+this[_0x4e290b(0x478)][_0x4e290b(0x456)]+_0x4e290b(0x1db)+_0x1ced3d),new x(_0x1ced3d);}}async[a0_0x2a87a6(0x264)](_0x4fd35a){const _0x38ad0c=a0_0x2a87a6;try{if(_0x4fd35a[_0x38ad0c(0x4d4)]===!0x0&&await this['client']['groupSettingUpdate'](_0x4fd35a[_0x38ad0c(0x3a6)],_0x38ad0c(0x5b4)),_0x4fd35a[_0x38ad0c(0x4d4)]===!0x1&&await this['client'][_0x38ad0c(0x69c)](_0x4fd35a[_0x38ad0c(0x3a6)],'unlocked'),_0x4fd35a[_0x38ad0c(0x5f6)]===!0x0&&await this['client'][_0x38ad0c(0x69c)](_0x4fd35a['groupJid'],'announcement'),_0x4fd35a['announce']===!0x1&&await this['client'][_0x38ad0c(0x69c)](_0x4fd35a['groupJid'],_0x38ad0c(0x232)),_0x4fd35a[_0x38ad0c(0x567)]===!0x0&&await this[_0x38ad0c(0x47c)][_0x38ad0c(0x779)](_0x4fd35a[_0x38ad0c(0x3a6)],_0x38ad0c(0x57c)),_0x4fd35a[_0x38ad0c(0x567)]===!0x1&&await this[_0x38ad0c(0x47c)][_0x38ad0c(0x779)](_0x4fd35a[_0x38ad0c(0x3a6)],_0x38ad0c(0x68a)),_0x4fd35a[_0x38ad0c(0x2f8)]===!0x0&&await this['client'][_0x38ad0c(0x616)](_0x4fd35a[_0x38ad0c(0x3a6)],'on'),_0x4fd35a['joinApprovalMode']===!0x1&&await this['client'][_0x38ad0c(0x616)](_0x4fd35a[_0x38ad0c(0x3a6)],_0x38ad0c(0x4fb)),typeof _0x4fd35a[_0x38ad0c(0x71e)]<'u'&&_0x4fd35a[_0x38ad0c(0x71e)]!==null&&await this[_0x38ad0c(0x47c)][_0x38ad0c(0x211)](_0x4fd35a[_0x38ad0c(0x3a6)],_0x4fd35a[_0x38ad0c(0x71e)]),_0x4fd35a[_0x38ad0c(0x366)]&&await this[_0x38ad0c(0x47c)]['groupUpdateSubject'](_0x4fd35a[_0x38ad0c(0x3a6)],_0x4fd35a[_0x38ad0c(0x366)]),_0x4fd35a[_0x38ad0c(0x406)]&&await this[_0x38ad0c(0x47c)][_0x38ad0c(0x26d)](_0x4fd35a[_0x38ad0c(0x3a6)],_0x4fd35a[_0x38ad0c(0x406)]),_0x4fd35a['image']){let _0x29d431;if((0x0,L['isURL'])(_0x4fd35a[_0x38ad0c(0x14a)])){let _0xdf4328=new Date()[_0x38ad0c(0x563)](),_0x5f1ba3=_0x4fd35a['image']+_0x38ad0c(0x487)+_0xdf4328;_0x29d431=(await te['default']['get'](_0x5f1ba3,{'responseType':'arraybuffer'}))[_0x38ad0c(0x2d7)];}else{if((0x0,L[_0x38ad0c(0x608)])(_0x4fd35a['image']))_0x29d431=Buffer[_0x38ad0c(0x696)](_0x4fd35a[_0x38ad0c(0x14a)],_0x38ad0c(0x746));else throw new m(_0x38ad0c(0x841));}await this[_0x38ad0c(0x47c)][_0x38ad0c(0x40e)](_0x4fd35a[_0x38ad0c(0x3a6)],_0x29d431);}return await this[_0x38ad0c(0x6e1)]({'groupJid':_0x4fd35a[_0x38ad0c(0x3a6)]});}catch(_0x2c043b){let _0x31df2e=_0x38ad0c(0x3d2),_0x44958f=_0x2c043b instanceof Error?_0x2c043b[_0x38ad0c(0x5af)]:typeof _0x2c043b==_0x38ad0c(0x3ae)?JSON[_0x38ad0c(0x15a)](_0x2c043b):_0x2c043b,_0x3914db=_0x31df2e+':\x20'+_0x44958f;throw this[_0x38ad0c(0x82a)][_0x38ad0c(0x495)](this[_0x38ad0c(0x798)]+'\x20('+this[_0x38ad0c(0x478)][_0x38ad0c(0x456)]+_0x38ad0c(0x1db)+_0x3914db),new x(_0x3914db);}}async[a0_0x2a87a6(0x1d3)](_0x1d236e){const _0x584a17=a0_0x2a87a6;try{if(_0x1d236e['action']===_0x584a17(0x2b6)||_0x1d236e[_0x584a17(0x439)]===_0x584a17(0x2e9)){let _0x494241=_0x1d236e['participants']['map'](_0x270a4c=>this[_0x584a17(0x506)](_0x270a4c));await this[_0x584a17(0x47c)][_0x584a17(0x449)](_0x1d236e[_0x584a17(0x3a6)],_0x494241,_0x1d236e['action']);}else{if(_0x1d236e[_0x584a17(0x439)]===_0x584a17(0x136)){let _0xac20a3=(await this['whatsappNumber']({'numbers':_0x1d236e[_0x584a17(0x20b)]}))[_0x584a17(0x17c)](_0x3fe223=>_0x3fe223[_0x584a17(0x585)])[_0x584a17(0x639)](_0x5d8818=>this[_0x584a17(0x506)](_0x5d8818[_0x584a17(0x174)]));if(_0xac20a3['length']===0x0)throw new m(_0x584a17(0x320));await this[_0x584a17(0x47c)]['groupParticipantsUpdate'](_0x1d236e['groupJid'],_0xac20a3,_0x584a17(0x136));}else{let _0x265172=_0x1d236e[_0x584a17(0x20b)][_0x584a17(0x639)](_0x4b99b4=>this[_0x584a17(0x506)](_0x4b99b4));await this[_0x584a17(0x47c)][_0x584a17(0x4eb)](_0x1d236e[_0x584a17(0x3a6)],_0x265172,_0x1d236e['action']);}}return await this['findGroup']({'groupJid':_0x1d236e[_0x584a17(0x3a6)]});}catch(_0x3d5d28){let _0x311dcf='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x308505=_0x3d5d28 instanceof Error?_0x3d5d28[_0x584a17(0x5af)]:typeof _0x3d5d28==_0x584a17(0x3ae)?JSON[_0x584a17(0x15a)](_0x3d5d28):_0x3d5d28,_0x10c1ca=_0x311dcf+':\x20'+_0x308505;throw this[_0x584a17(0x82a)]['error'](this[_0x584a17(0x798)]+'\x20('+this[_0x584a17(0x478)]['wuid']+_0x584a17(0x1db)+_0x10c1ca),new m(_0x10c1ca);}}async[a0_0x2a87a6(0x162)](_0x3387cb){const _0x1a5b53=a0_0x2a87a6;try{return await this['client'][_0x1a5b53(0x162)](_0x3387cb['inviteCode']);}catch(_0x5ce2e9){let _0x1d248b=_0x1a5b53(0x573),_0x22ab36=_0x5ce2e9 instanceof Error?_0x5ce2e9[_0x1a5b53(0x5af)]:typeof _0x5ce2e9==_0x1a5b53(0x3ae)?JSON['stringify'](_0x5ce2e9):_0x5ce2e9,_0x750902=_0x1d248b+':\x20'+_0x22ab36;throw this[_0x1a5b53(0x82a)][_0x1a5b53(0x495)](this[_0x1a5b53(0x798)]+'\x20('+this[_0x1a5b53(0x478)][_0x1a5b53(0x456)]+_0x1a5b53(0x1db)+_0x750902),new m(_0x750902);}}async['findGroup'](_0x3165a8,_0xa82001='out'){const _0x19d07f=a0_0x2a87a6;try{let _0xb0308b=await this[_0x19d07f(0x6ae)][_0x19d07f(0x6eb)][_0x19d07f(0x654)]({'where':{'_id':_0x3165a8[_0x19d07f(0x3a6)]}},this[_0x19d07f(0x478)][_0x19d07f(0x456)]),_0x390ed0=_0xb0308b?_0xb0308b[_0x19d07f(0x1b2)]:null,_0x4feae9=0x18*0x3c*0x3c*0x3e8;if(!_0x390ed0||_0x390ed0[_0x19d07f(0x330)]&&Date['now']()-_0x390ed0['lastUpdate']>_0x4feae9){let _0x54eac6=await this['client'][_0x19d07f(0x5fd)](_0x3165a8[_0x19d07f(0x3a6)]);if(_0x54eac6['subjectTime']=_0x54eac6?.[_0x19d07f(0x42d)]&&_0x54eac6[_0x19d07f(0x42d)]['toString']()[_0x19d07f(0x30d)]<0xd?_0x54eac6?.['subjectTime']*0x3e8:_0x54eac6?.[_0x19d07f(0x42d)]||null,_0x54eac6[_0x19d07f(0x68f)]=_0x54eac6?.['creation']&&_0x54eac6[_0x19d07f(0x68f)][_0x19d07f(0x635)]()['length']<0xd?_0x54eac6?.[_0x19d07f(0x68f)]*0x3e8:_0x54eac6?.[_0x19d07f(0x68f)]||null,_0x390ed0={..._0x54eac6,'lastUpdate':Date[_0x19d07f(0x810)]()},!_0x54eac6)return;}let _0x3ef3f1=_0x390ed0['participants'][_0x19d07f(0x7e4)](_0x4f0178=>_0x4f0178['id']===this['instance'][_0x19d07f(0x456)]+'@s.whatsapp.net'&&_0x4f0178['admin']!=null);!_0x390ed0[_0x19d07f(0x186)]&&_0x3ef3f1&&(_0x390ed0[_0x19d07f(0x186)]=(await this['inviteCode'](_0x3165a8,!0x1))[_0x19d07f(0x882)]);let _0x4c4b6a=(!_0x390ed0[_0x19d07f(0x5f6)]||_0x3ef3f1)&&(!_0x390ed0[_0x19d07f(0x5cf)]||_0x390ed0[_0x19d07f(0x5cf)]&&_0x390ed0[_0x19d07f(0x4dc)]&&_0x3ef3f1);_0x390ed0[_0x19d07f(0x7da)]=_0x3ef3f1,_0x390ed0[_0x19d07f(0x143)]=_0x4c4b6a;let _0x148f8a=[];if(_0x3ef3f1&&_0x390ed0[_0x19d07f(0x2f8)])try{_0x148f8a=await this['client'][_0x19d07f(0x83f)](_0x3165a8[_0x19d07f(0x3a6)]),_0x390ed0[_0x19d07f(0x59c)]=Date[_0x19d07f(0x810)]();}catch(_0x5507d7){this[_0x19d07f(0x82a)][_0x19d07f(0x216)](this[_0x19d07f(0x798)]+'\x20('+this[_0x19d07f(0x478)][_0x19d07f(0x456)]+_0x19d07f(0x306)+_0x3165a8[_0x19d07f(0x3a6)]+':\x20'+(_0x5507d7 instanceof Error?_0x5507d7[_0x19d07f(0x5af)]:JSON[_0x19d07f(0x15a)](_0x5507d7,null,0x2)));}try{_0x390ed0[_0x19d07f(0x14a)]=(await this[_0x19d07f(0x783)](_0x3165a8[_0x19d07f(0x3a6)],null,!0x0))[_0x19d07f(0x618)][_0x19d07f(0x324)];}catch(_0x5ca96a){this['logger']['verbose'](this[_0x19d07f(0x798)]+'\x20('+this[_0x19d07f(0x478)][_0x19d07f(0x456)]+_0x19d07f(0x396)+_0x3165a8[_0x19d07f(0x3a6)]+':\x20'+(_0x5ca96a instanceof Error?_0x5ca96a[_0x19d07f(0x5af)]:JSON['stringify'](_0x5ca96a,null,0x2)));}let _0x5247d8=_0x390ed0[_0x19d07f(0x20b)][_0x19d07f(0x639)](_0x1bffcc=>_0x1bffcc['id']),_0xd01f3a=_0x148f8a[_0x19d07f(0x639)](_0x5831f9=>_0x5831f9[_0x19d07f(0x174)]),_0x2f2238=await this[_0x19d07f(0x6ae)][_0x19d07f(0x4a0)][_0x19d07f(0x678)]([..._0x5247d8,..._0xd01f3a]);_0x390ed0[_0x19d07f(0x20b)]=_0x390ed0[_0x19d07f(0x20b)]['map'](_0x3e36f9=>{const _0x7c8457=_0x19d07f;let _0x3338ee=_0x2f2238['find'](_0xeb9eee=>_0xeb9eee[_0x7c8457(0x2f9)]===_0x3e36f9['id']);return{'id':_0x3e36f9['id'],'isAdmin':[_0x7c8457(0x47f),_0x7c8457(0x522)]['includes'](_0x3e36f9['admin']),'admin':_0x3e36f9[_0x7c8457(0x47f)],'pushName':_0x3338ee?.[_0x7c8457(0x366)],'profilePictureUrl':_0x3338ee?.[_0x7c8457(0x324)]};}),_0x390ed0[_0x19d07f(0x786)]=_0x148f8a[_0x19d07f(0x639)](_0x20bc5f=>{const _0x3577be=_0x19d07f;let _0x4f297c=_0x2f2238[_0x3577be(0x2f6)](_0x284c77=>_0x284c77[_0x3577be(0x2f9)]===_0x20bc5f[_0x3577be(0x174)]);return{'id':_0x20bc5f[_0x3577be(0x174)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x4f297c?.[_0x3577be(0x366)],'profilePictureUrl':_0x4f297c?.[_0x3577be(0x324)],'request_method':_0x20bc5f['request_method'],'request_time':_0x20bc5f['request_time']};});let _0x262ef2=await this[_0x19d07f(0x6ae)][_0x19d07f(0x6eb)][_0x19d07f(0x768)]({'where':{'_id':_0x3165a8['groupJid']}},{'imagechat':_0x390ed0[_0x19d07f(0x14a)],'name':_0x390ed0['subject'],'lastcache':Date[_0x19d07f(0x810)](),'groupdata':_0x390ed0},this['instance'][_0x19d07f(0x456)]);return q(this[_0x19d07f(0x798)],'chats',{'chat':_0x262ef2}),{'metadata':_0x390ed0};}catch(_0x5def51){if(_0xa82001===_0x19d07f(0x326))return;throw new J(_0x19d07f(0x734),_0x5def51['message']['toString']());}}async[a0_0x2a87a6(0x1c5)](){const _0x3facb1=a0_0x2a87a6;try{this[_0x3facb1(0x82a)][_0x3facb1(0x2e4)](_0x3facb1(0x26e));let _0x1550e9=Date['now'](),_0x112f79=0x3*0x3c*0x3c*0x3e8;return _0x1550e9-this[_0x3facb1(0x7ec)]>_0x112f79&&(this[_0x3facb1(0x6ed)](),this[_0x3facb1(0x7ec)]=_0x1550e9),(await this['repository'][_0x3facb1(0x6eb)]['findGroupsEspecial']({'where':{'group':!0x0}},this[_0x3facb1(0x478)][_0x3facb1(0x456)]))[_0x3facb1(0x639)](_0x261fbc=>({..._0x261fbc[_0x3facb1(0x1b2)],'groupJid':_0x261fbc?.[_0x3facb1(0x2f9)],'participants':_0x261fbc?.[_0x3facb1(0x1b2)]?.[_0x3facb1(0x20b)]||[],'awaitingApproval':_0x261fbc?.[_0x3facb1(0x1b2)]?.[_0x3facb1(0x786)]||[],'image':_0x261fbc?.[_0x3facb1(0x854)]}));}catch(_0x5c8623){let _0x4d96c3='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x44392d=_0x5c8623 instanceof Error?_0x5c8623['message']:typeof _0x5c8623==_0x3facb1(0x3ae)?JSON[_0x3facb1(0x15a)](_0x5c8623):_0x5c8623,_0x4edd60=_0x4d96c3+':\x20'+_0x44392d;throw this[_0x3facb1(0x82a)][_0x3facb1(0x495)](this[_0x3facb1(0x798)]+'\x20('+this[_0x3facb1(0x478)][_0x3facb1(0x456)]+_0x3facb1(0x1db)+_0x4edd60),new J(_0x4edd60);}}async[a0_0x2a87a6(0x6ed)](){const _0x2e7150=a0_0x2a87a6;try{this[_0x2e7150(0x82a)][_0x2e7150(0x2e4)](_0x2e7150(0x82b));let _0x5aba56=[],_0x29939a=await this['client']['groupFetchAllParticipating'](),_0x1bc58a=Object[_0x2e7150(0x5e9)](_0x29939a),_0x1e6bcf=_0x1bc58a['filter'](_0x509e30=>(0x0,w['isJidGroup'])(_0x509e30?.['id']))[_0x2e7150(0x639)](async _0x149bb8=>{const _0x36cf80=_0x2e7150;try{return await this[_0x36cf80(0x47c)]['profilePictureUrl'](_0x149bb8['id'],_0x36cf80(0x1cc));}catch(_0x528625){return this['logger']['verbose'](this[_0x36cf80(0x798)]+'\x20('+this[_0x36cf80(0x478)][_0x36cf80(0x456)]+_0x36cf80(0x396)+_0x149bb8['id']+':\x20'+(_0x528625 instanceof Error?_0x528625['message']:JSON['stringify'](_0x528625,null,0x2))),null;}}),_0x193455=await Promise[_0x2e7150(0x3e2)](_0x1e6bcf);for(let _0x168fdf=0x0;_0x168fdf<_0x1bc58a[_0x2e7150(0x30d)];_0x168fdf++){let _0x3351ca=_0x1bc58a[_0x168fdf];(0x0,w[_0x2e7150(0x893)])(_0x3351ca?.['id'])&&(_0x5aba56[_0x2e7150(0x67c)]({'groupJid':_0x3351ca?.['id'],'subject':_0x3351ca?.['subject'],'subjectOwner':_0x3351ca?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x3351ca?.[_0x2e7150(0x42d)],'creation':_0x3351ca?.['creation'],'size':_0x3351ca?.[_0x2e7150(0x20b)]?.[_0x2e7150(0x30d)],'owner':_0x3351ca?.[_0x2e7150(0x200)]?.[_0x2e7150(0x259)]('@')[0x0],'desc':_0x3351ca?.['desc'],'restrict':_0x3351ca?.[_0x2e7150(0x4d4)],'announce':_0x3351ca?.[_0x2e7150(0x5f6)],'image':_0x193455[_0x168fdf],'isCommunity':_0x3351ca?.[_0x2e7150(0x5cf)],'joinApprovalMode':_0x3351ca?.['joinApprovalMode'],'memberCanAddParticipant':_0x3351ca?.['memberAddMode'],'participants':_0x3351ca?.[_0x2e7150(0x20b)],'descOwner':_0x3351ca?.[_0x2e7150(0x4d9)],'descId':_0x3351ca?.[_0x2e7150(0x176)],'memberAddMode':_0x3351ca?.[_0x2e7150(0x567)],'isCommunityAnnounce':_0x3351ca?.['isCommunityAnnounce'],'ephemeralDuration':_0x3351ca?.[_0x2e7150(0x6b1)]||0x0,'author':_0x3351ca?.['author']}),this[_0x2e7150(0x742)](_0x1bc58a[_0x168fdf]));}return _0x5aba56;}catch(_0x474e83){let _0x54dc76='Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups',_0x10e8da=_0x474e83 instanceof Error?_0x474e83[_0x2e7150(0x5af)]:typeof _0x474e83=='object'?JSON['stringify'](_0x474e83):_0x474e83,_0x2f0844=_0x54dc76+':\x20'+_0x10e8da;throw this['logger'][_0x2e7150(0x495)](this[_0x2e7150(0x798)]+'\x20('+this['instance'][_0x2e7150(0x456)]+_0x2e7150(0x1db)+_0x2f0844),new J(_0x2f0844);}}async[a0_0x2a87a6(0x742)](_0x37287b){const _0x56b611=a0_0x2a87a6;let _0x50eb77=await this[_0x56b611(0x6ae)][_0x56b611(0x6eb)][_0x56b611(0x654)]({'where':{'_id':_0x37287b['id']}},this[_0x56b611(0x478)][_0x56b611(0x456)]);_0x37287b[_0x56b611(0x42d)]=_0x37287b?.[_0x56b611(0x42d)]&&_0x37287b['subjectTime']['toString']()[_0x56b611(0x30d)]<0xd?_0x37287b?.['subjectTime']*0x3e8:_0x37287b?.['subjectTime']||null,_0x37287b[_0x56b611(0x68f)]=_0x37287b?.[_0x56b611(0x68f)]&&_0x37287b[_0x56b611(0x68f)][_0x56b611(0x635)]()['length']<0xd?_0x37287b?.[_0x56b611(0x68f)]*0x3e8:_0x37287b?.[_0x56b611(0x68f)]||null;let _0x3398ed=_0x50eb77?.[_0x56b611(0x1b2)]?.[_0x56b611(0x786)]||[],_0x3169eb=_0x50eb77?.['groupdata']?.[_0x56b611(0x59c)],_0x1b4802=_0x37287b[_0x56b611(0x20b)]['map'](_0x1492da=>{const _0x261ea3=_0x56b611;let _0x34ebac=_0x50eb77?.[_0x261ea3(0x1b2)]?.[_0x261ea3(0x20b)][_0x261ea3(0x2f6)](_0x274cbe=>_0x274cbe['id']===_0x1492da['id']);return{..._0x1492da,'isAdmin':[_0x261ea3(0x47f),_0x261ea3(0x522)]['includes'](_0x1492da[_0x261ea3(0x47f)]),'admin':_0x1492da[_0x261ea3(0x47f)],'name':_0x34ebac?.[_0x261ea3(0x366)]||_0x1492da['name'],'imgUrl':_0x34ebac?.[_0x261ea3(0x544)]||_0x1492da['imgUrl']};}),_0x49f624=_0x1b4802['some'](_0x78a79=>_0x78a79['id']===this[_0x56b611(0x478)]['wuid']+_0x56b611(0x279)&&_0x78a79[_0x56b611(0x7da)]),_0x5de52f=(!_0x37287b[_0x56b611(0x5f6)]||_0x49f624)&&(!_0x37287b['isCommunity']||_0x37287b[_0x56b611(0x5cf)]&&_0x37287b[_0x56b611(0x4dc)]&&_0x49f624),_0x54b676={..._0x37287b,'participants':_0x1b4802,'awaitingApproval':_0x3398ed,'lastFetchAwaitingApproval':_0x3169eb,'isAdmin':_0x49f624,'canSendMessage':_0x5de52f,'lastUpdate':Date['now']()};await this[_0x56b611(0x6ae)][_0x56b611(0x6eb)][_0x56b611(0x768)]({'where':{'_id':_0x37287b['id']}},{'name':_0x37287b[_0x56b611(0x24e)],'group':!0x0,'groupdata':_0x54b676,'lastcache':Date[_0x56b611(0x810)]()},this[_0x56b611(0x478)][_0x56b611(0x456)]),q(this[_0x56b611(0x798)],_0x56b611(0x707),{'chat':_0x37287b});}async[a0_0x2a87a6(0x468)](_0x5cbee7){const _0x1c382d=a0_0x2a87a6;let _0x11791b=await this['repository']['chat']['findOne']({'where':{'_id':_0x5cbee7['id']}},this[_0x1c382d(0x478)][_0x1c382d(0x456)]);_0x5cbee7[_0x1c382d(0x42d)]=_0x5cbee7?.[_0x1c382d(0x42d)]&&_0x5cbee7[_0x1c382d(0x42d)][_0x1c382d(0x635)]()[_0x1c382d(0x30d)]<0xd?_0x5cbee7?.[_0x1c382d(0x42d)]*0x3e8:_0x5cbee7?.[_0x1c382d(0x42d)]||null,_0x5cbee7['creation']=_0x5cbee7?.[_0x1c382d(0x68f)]&&_0x5cbee7[_0x1c382d(0x68f)][_0x1c382d(0x635)]()['length']<0xd?_0x5cbee7?.['creation']*0x3e8:_0x5cbee7?.[_0x1c382d(0x68f)]||null,_0x5cbee7[_0x1c382d(0x186)]&&(_0x5cbee7[_0x1c382d(0x186)]='https://chat.whatsapp.com/'+_0x5cbee7[_0x1c382d(0x186)]);let _0x87f030=_0x11791b?.[_0x1c382d(0x1b2)]?{..._0x11791b[_0x1c382d(0x1b2)]}:{};Object[_0x1c382d(0x173)](_0x5cbee7)[_0x1c382d(0x32f)](_0x826778=>{_0x826778!=='id'&&(_0x87f030[_0x826778]=_0x5cbee7[_0x826778]);});let _0x539733=_0x87f030[_0x1c382d(0x20b)]?.['some'](_0x5a2886=>_0x5a2886['id']===this['instance']['wuid']+_0x1c382d(0x279)&&_0x5a2886[_0x1c382d(0x7da)])||!0x1;_0x87f030[_0x1c382d(0x7da)]=_0x539733;let _0x33db40=(!_0x87f030[_0x1c382d(0x5f6)]||_0x539733)&&(!_0x87f030['isCommunity']||_0x87f030[_0x1c382d(0x5cf)]&&_0x87f030[_0x1c382d(0x4dc)]&&_0x539733);_0x87f030[_0x1c382d(0x143)]=_0x33db40;let _0x166beb={'group':!0x0,'groupdata':_0x87f030};_0x5cbee7[_0x1c382d(0x24e)]&&(_0x166beb['name']=_0x5cbee7[_0x1c382d(0x24e)]),await this[_0x1c382d(0x6ae)][_0x1c382d(0x6eb)]['updateOne']({'where':{'_id':_0x5cbee7['id']}},_0x166beb,this[_0x1c382d(0x478)]['wuid'],{'upsert':!0x0}),q(this[_0x1c382d(0x798)],'chats',{'chat':_0x166beb});}async['updateGroupParticipantsWebhook'](_0x51a9a2){const _0x3d7aed=a0_0x2a87a6;let _0x5dd568=await this[_0x3d7aed(0x6ae)][_0x3d7aed(0x6eb)][_0x3d7aed(0x654)]({'where':{'_id':_0x51a9a2['id']}},this[_0x3d7aed(0x478)][_0x3d7aed(0x456)]);if(!_0x5dd568||!_0x5dd568[_0x3d7aed(0x1b2)]){this[_0x3d7aed(0x82a)][_0x3d7aed(0x2e4)](this[_0x3d7aed(0x798)]+'\x20('+this['instance'][_0x3d7aed(0x456)]+'):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20'+_0x51a9a2['id']);return;}let _0x203158=await this[_0x3d7aed(0x6ae)][_0x3d7aed(0x4a0)]['findManyByIds'](_0x51a9a2[_0x3d7aed(0x20b)]),_0x3e0c43=[..._0x5dd568[_0x3d7aed(0x1b2)]?.['participants']];switch(_0x51a9a2['action']){case _0x3d7aed(0x136):let _0x507852=_0x203158[_0x3d7aed(0x639)](_0x342aa9=>({'id':_0x342aa9[_0x3d7aed(0x2f9)],'isAdmin':!0x1,'name':_0x342aa9[_0x3d7aed(0x366)],'imgUrl':_0x342aa9['pictureUrl']}));_0x3e0c43=[..._0x3e0c43,..._0x507852];break;case _0x3d7aed(0x338):_0x3e0c43=_0x3e0c43[_0x3d7aed(0x17c)](_0x8f8109=>!_0x51a9a2[_0x3d7aed(0x20b)][_0x3d7aed(0x708)](_0x8f8109['id']));break;case _0x3d7aed(0x41e):case _0x3d7aed(0x38b):_0x3e0c43=_0x3e0c43[_0x3d7aed(0x639)](_0x296754=>_0x51a9a2[_0x3d7aed(0x20b)][_0x3d7aed(0x708)](_0x296754['id'])?{..._0x296754,'isAdmin':_0x51a9a2[_0x3d7aed(0x439)]===_0x3d7aed(0x41e)}:_0x296754);break;}let _0x1260bf=_0x3e0c43[_0x3d7aed(0x30d)],_0x490118=_0x3e0c43[_0x3d7aed(0x7e4)](_0x237a80=>_0x237a80['id']===this[_0x3d7aed(0x478)][_0x3d7aed(0x456)]+_0x3d7aed(0x279)),_0x11d92d=_0x490118&&_0x3e0c43[_0x3d7aed(0x7e4)](_0x4b3df5=>_0x4b3df5['id']===this[_0x3d7aed(0x478)][_0x3d7aed(0x456)]+_0x3d7aed(0x279)&&_0x4b3df5['isAdmin']),_0x315e38=_0x490118&&(!_0x5dd568[_0x3d7aed(0x1b2)][_0x3d7aed(0x5f6)]||_0x11d92d)&&(!_0x5dd568[_0x3d7aed(0x1b2)]['isCommunity']||_0x5dd568[_0x3d7aed(0x1b2)]['isCommunity']&&_0x11d92d);await this['repository'][_0x3d7aed(0x6eb)][_0x3d7aed(0x768)]({'where':{'_id':_0x51a9a2['id']}},{'groupdata':{..._0x5dd568[_0x3d7aed(0x1b2)],'participants':_0x3e0c43,'size':_0x1260bf,'isAdmin':_0x11d92d,'canSendMessage':_0x315e38}},this['instance'][_0x3d7aed(0x456)]),this[_0x3d7aed(0x82a)][_0x3d7aed(0x2e4)](this[_0x3d7aed(0x798)]+'\x20('+this['instance'][_0x3d7aed(0x456)]+'):\x20Grupo\x20'+_0x51a9a2['id']+_0x3d7aed(0x258)+_0x51a9a2['action']+_0x3d7aed(0x75f)+_0x1260bf+_0x3d7aed(0x1d5)+_0x11d92d+_0x3d7aed(0x5d8)+_0x315e38);}async[a0_0x2a87a6(0x186)](_0x1a15f9,_0x384425=!0x0){const _0x5470d0=a0_0x2a87a6;try{let _0x3ad5a6=await this[_0x5470d0(0x47c)][_0x5470d0(0x42e)](_0x1a15f9[_0x5470d0(0x3a6)]),_0x5b02ec={'groupdata.inviteCode':_0x5470d0(0x17a)+_0x3ad5a6};if(_0x384425){let _0x3e86e3=await this[_0x5470d0(0x6ae)][_0x5470d0(0x6eb)][_0x5470d0(0x768)]({'where':{'_id':_0x1a15f9['groupJid']}},_0x5b02ec,this[_0x5470d0(0x478)][_0x5470d0(0x456)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x3ad5a6,'inviteCode':_0x3ad5a6};}catch(_0x4eb4a3){let _0x2d75c5='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x2a5e66=_0x4eb4a3 instanceof Error?_0x4eb4a3['message']:typeof _0x4eb4a3==_0x5470d0(0x3ae)?JSON['stringify'](_0x4eb4a3):_0x4eb4a3,_0x2fc686=_0x2d75c5+':\x20'+_0x2a5e66;throw this[_0x5470d0(0x82a)][_0x5470d0(0x495)](this['instanceName']+'\x20('+this[_0x5470d0(0x478)][_0x5470d0(0x456)]+_0x5470d0(0x1db)+_0x2fc686),new J(_0x2fc686);}}async['revokeInviteCode'](_0xc72483){const _0x43d997=a0_0x2a87a6;try{let _0x1f6971=await this[_0x43d997(0x47c)][_0x43d997(0x29f)](_0xc72483[_0x43d997(0x3a6)]);return{'revoked':!0x0,'inviteUrl':_0x43d997(0x17a)+_0x1f6971,'inviteCode':_0x1f6971};}catch(_0x1bc769){let _0x311807='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x38bbf8=_0x1bc769 instanceof Error?_0x1bc769[_0x43d997(0x5af)]:typeof _0x1bc769=='object'?JSON[_0x43d997(0x15a)](_0x1bc769):_0x1bc769,_0x2b54bb=_0x311807+':\x20'+_0x38bbf8;throw this[_0x43d997(0x82a)][_0x43d997(0x495)](this[_0x43d997(0x798)]+'\x20('+this[_0x43d997(0x478)][_0x43d997(0x456)]+'):\x20'+_0x2b54bb),new J(_0x2b54bb);}}async[a0_0x2a87a6(0x215)](_0x1443a2){const _0x13a22f=a0_0x2a87a6;try{if((0x0,L[_0x13a22f(0x638)])(_0x1443a2[_0x13a22f(0x186)]))var _0x9b181c=_0x1443a2['inviteCode'][_0x13a22f(0x259)]('/')[0x3];else var _0x9b181c=_0x1443a2[_0x13a22f(0x186)];let _0x4908f7=await this[_0x13a22f(0x47c)]['groupAcceptInvite'](_0x9b181c);return this[_0x13a22f(0x82a)][_0x13a22f(0x216)](this[_0x13a22f(0x798)]+'\x20('+this[_0x13a22f(0x478)][_0x13a22f(0x456)]+_0x13a22f(0x1db)+_0x4908f7),{'join':!0x0,'inviteCode':_0x9b181c,'groupJid':_0x4908f7};}catch(_0x394dc3){let _0x14dc00='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x23b4f2=_0x394dc3 instanceof Error?_0x394dc3['message']:typeof _0x394dc3==_0x13a22f(0x3ae)?JSON['stringify'](_0x394dc3):_0x394dc3,_0x5ed4c4=_0x14dc00+':\x20'+_0x23b4f2;throw this[_0x13a22f(0x82a)][_0x13a22f(0x495)](this[_0x13a22f(0x798)]+'\x20('+this[_0x13a22f(0x478)][_0x13a22f(0x456)]+'):\x20'+_0x5ed4c4),new J(_0x5ed4c4);}}async[a0_0x2a87a6(0x6f0)](_0x501079){const _0x5f3414=a0_0x2a87a6;try{return{'participants':(await this[_0x5f3414(0x6ae)]['chat'][_0x5f3414(0x654)]({'where':{'_id':_0x501079[_0x5f3414(0x3a6)]}},this['instance'][_0x5f3414(0x456)]))[_0x5f3414(0x1b2)]['participants']};}catch(_0x10f42f){let _0x428d7c='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x4f49a7=_0x10f42f instanceof Error?_0x10f42f[_0x5f3414(0x5af)]:typeof _0x10f42f==_0x5f3414(0x3ae)?JSON[_0x5f3414(0x15a)](_0x10f42f):_0x10f42f,_0x2ab3e1=_0x428d7c+':\x20'+_0x4f49a7;throw this[_0x5f3414(0x82a)][_0x5f3414(0x495)](this['instanceName']+'\x20('+this[_0x5f3414(0x478)][_0x5f3414(0x456)]+_0x5f3414(0x1db)+_0x2ab3e1),new J(_0x2ab3e1);}}async[a0_0x2a87a6(0x72e)](_0x5c2d3c){const _0x2b7d81=a0_0x2a87a6;try{return await this[_0x2b7d81(0x47c)]['groupLeave'](_0x5c2d3c[_0x2b7d81(0x3a6)]),{'groupJid':_0x5c2d3c[_0x2b7d81(0x3a6)],'leave':!0x0};}catch(_0x21591b){let _0x175557='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0xa8ae0c=_0x21591b instanceof Error?_0x21591b[_0x2b7d81(0x5af)]:typeof _0x21591b==_0x2b7d81(0x3ae)?JSON['stringify'](_0x21591b):_0x21591b,_0x3e11f6=_0x175557+':\x20'+_0xa8ae0c;throw this[_0x2b7d81(0x82a)]['error'](this[_0x2b7d81(0x798)]+'\x20('+this[_0x2b7d81(0x478)][_0x2b7d81(0x456)]+_0x2b7d81(0x1db)+_0x3e11f6),new m(_0x3e11f6);}}async['pollMessage'](_0xe5e07b){const _0x5a2a2f=a0_0x2a87a6;return await this[_0x5a2a2f(0x183)](_0xe5e07b[_0x5a2a2f(0x2be)],{'poll':{'name':_0xe5e07b[_0x5a2a2f(0x139)]?.[_0x5a2a2f(0x366)],'selectableCount':_0xe5e07b[_0x5a2a2f(0x139)][_0x5a2a2f(0x894)],'values':_0xe5e07b[_0x5a2a2f(0x139)][_0x5a2a2f(0x5e9)]}},_0xe5e07b?.[_0x5a2a2f(0x764)]);}async[a0_0x2a87a6(0x37e)](_0x5d58f7){const _0x39fc7e=a0_0x2a87a6;return await this['sendMessageWithTyping'](_0x5d58f7[_0x39fc7e(0x2be)],{'listMessage':{'title':_0x5d58f7[_0x39fc7e(0x37e)]['title'],'description':_0x5d58f7['listMessage'][_0x39fc7e(0x406)],'buttonText':_0x5d58f7['listMessage']?.[_0x39fc7e(0x312)],'footerText':_0x5d58f7[_0x39fc7e(0x37e)]?.[_0x39fc7e(0x7d0)],'sections':_0x5d58f7[_0x39fc7e(0x37e)]['sections'],'listType':0x2}},_0x5d58f7?.[_0x39fc7e(0x764)]);}async['menuMessage'](_0xc2dc46){const _0x554d7e=a0_0x2a87a6;let _0xacab80;if(_0xc2dc46[_0x554d7e(0x54a)][_0x554d7e(0x3c1)]==='list'){let _0x183212=_0xc2dc46['menuMessage'][_0x554d7e(0x210)][_0x554d7e(0x33c)]('\x0a'),_0x10ed5f='',_0x434983='';_0x183212!==-0x1?(_0x10ed5f=_0xc2dc46[_0x554d7e(0x54a)][_0x554d7e(0x210)][_0x554d7e(0x6c5)](0x0,_0x183212)['trim'](),_0x434983=_0xc2dc46[_0x554d7e(0x54a)][_0x554d7e(0x210)]['substring'](_0x183212+0x1)):_0x434983=_0xc2dc46['menuMessage'][_0x554d7e(0x210)];let _0x152547=_0xc2dc46[_0x554d7e(0x54a)][_0x554d7e(0x6a7)]['filter'](_0x5bf334=>_0x5bf334[_0x554d7e(0x6b0)]()!==''),_0x5d2141=this[_0x554d7e(0x7e8)](_0x152547);_0xacab80={'listMessage':{'title':_0x10ed5f,'description':_0x434983,'buttonText':_0xc2dc46[_0x554d7e(0x54a)][_0x554d7e(0x312)]||_0x554d7e(0x33d),'footerText':_0xc2dc46[_0x554d7e(0x54a)][_0x554d7e(0x7d0)],'sections':_0x5d2141,'listType':0x2}};}else{if(_0xc2dc46[_0x554d7e(0x54a)]['type']===_0x554d7e(0x3b0)){let _0x43f399=_0xc2dc46[_0x554d7e(0x54a)]['choices'][_0x554d7e(0x17c)](_0x331078=>!(_0x331078[_0x554d7e(0x299)]('[')&&_0x331078[_0x554d7e(0x5a1)](']'))&&_0x331078['trim']()!=='')['map'](_0x32d59b=>_0x32d59b[_0x554d7e(0x259)]('\x0a')[0x0]);_0xacab80={'poll':{'name':_0xc2dc46[_0x554d7e(0x54a)][_0x554d7e(0x210)],'selectableCount':_0xc2dc46[_0x554d7e(0x54a)][_0x554d7e(0x894)]||0x1,'values':_0x43f399}};}}return await this[_0x554d7e(0x183)](_0xc2dc46[_0x554d7e(0x2be)],_0xacab80,_0xc2dc46?.['options']);}[a0_0x2a87a6(0x7e8)](_0xe61121){const _0x168d3e=a0_0x2a87a6;let _0x4fc86b=[],_0x10105b={'rows':[]};return _0xe61121[_0x168d3e(0x32f)](_0x1c9a05=>{const _0x1dec07=_0x168d3e;if(_0x1c9a05[_0x1dec07(0x299)]('[')&&_0x1c9a05[_0x1dec07(0x5a1)](']'))_0x10105b['rows'][_0x1dec07(0x30d)]>0x0&&_0x4fc86b['push'](_0x10105b),_0x10105b={'title':_0x1c9a05['slice'](0x1,-0x1),'rows':[]};else{let _0x4df0b0=_0x1c9a05[_0x1dec07(0x259)]('\x0a')[_0x1dec07(0x639)](_0xbc3c83=>_0xbc3c83[_0x1dec07(0x6b0)]()),_0x327357=_0x4df0b0[0x0],_0x33aca2=_0x4df0b0[0x1]||null,_0x4ef305=_0x4df0b0[0x2]||_0x327357;_0x10105b[_0x1dec07(0x590)][_0x1dec07(0x67c)]({'title':_0x327357,'description':_0x33aca2,'rowId':_0x4ef305});}}),_0x10105b[_0x168d3e(0x590)][_0x168d3e(0x30d)]>0x0&&_0x4fc86b[_0x168d3e(0x67c)](_0x10105b),_0x4fc86b;}async['updateMessage'](_0x25e11d,_0x153c4b){const _0x3c5839=a0_0x2a87a6;if(await this[_0x3c5839(0x322)](_0x25e11d,!0x0)){let _0x49efbc={'where':{'_id':_0x25e11d['id']}},_0x2c8b1c={'status':[_0x153c4b['status']][0x0]};try{let _0x405b07=await this[_0x3c5839(0x6ae)]['message'][_0x3c5839(0x7ee)](_0x49efbc,_0x2c8b1c,this[_0x3c5839(0x478)][_0x3c5839(0x456)]);_0x405b07&&q(this['instanceName'],_0x3c5839(0x4f1),{'message':_0x405b07});}catch{}}}[a0_0x2a87a6(0x22b)](_0x4de37e){let _0xd82d00=[];return _0x4de37e['forEach'](_0x7b4e4f=>{const _0x15aef=a0_0xe551;_0x7b4e4f[_0x15aef(0x36d)]&&_0xd82d00[_0x15aef(0x67c)]('['+_0x7b4e4f[_0x15aef(0x36d)]+']'),_0x7b4e4f[_0x15aef(0x590)][_0x15aef(0x32f)](_0x116208=>{const _0x5ded79=_0x15aef;_0xd82d00[_0x5ded79(0x67c)](_0x116208[_0x5ded79(0x36d)]);});}),_0xd82d00['join']('|');}[a0_0x2a87a6(0x2e8)](_0x3aa34d){const _0x358d12=a0_0x2a87a6;let _0x2bb54a=_0x3aa34d[_0x358d12(0x1ee)](/\\n/g,'\x0a')[_0x358d12(0x259)]('\x0a')['filter'](_0x2ed412=>_0x2ed412[_0x358d12(0x708)]('TEL')||_0x2ed412[_0x358d12(0x708)](_0x358d12(0x5a6))),_0x21ee4d='';return _0x2bb54a['forEach'](_0x95dc94=>{const _0x454de1=_0x358d12;let _0x1ab1cb=/TEL(?:.*):(.+)/,_0x2f61c0=/EMAIL(?:.*):(.+)/,_0x412257=_0x95dc94['match'](_0x1ab1cb),_0x36fb8c=_0x95dc94[_0x454de1(0x72a)](_0x2f61c0);if(_0x412257){let _0x40d843=_0x412257[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x454de1(0x6b0)]();_0x21ee4d+=_0x454de1(0x80c)+_0x40d843+'\x0a';}else{if(_0x36fb8c){let _0x2a9c78=_0x36fb8c[0x1][_0x454de1(0x6b0)]();_0x21ee4d+='E-mail:\x20'+_0x2a9c78+'\x0a';}}}),_0x21ee4d[_0x358d12(0x6b0)]();}async[a0_0x2a87a6(0x343)](_0x6f0f6b,_0xa9e79e,_0x2aa285,_0x3e50c8=null){const _0x4c9ee8=a0_0x2a87a6;if(_0x6f0f6b[_0x4c9ee8(0x15e)])try{let _0x4319d5=_0xa9e79e[_0x4c9ee8(0x349)][_0x4c9ee8(0x6f5)][_0x4c9ee8(0x1ee)](/:\d{1,2}@/g,'@'),_0x21e197=_0xa9e79e[_0x4c9ee8(0x349)][_0x4c9ee8(0x536)],_0x3efb07=_0x4319d5[_0x4c9ee8(0x5a1)](_0x4c9ee8(0x398)),_0x27d5ac=_0xa9e79e[_0x4c9ee8(0x7db)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x59f3f3=_0xa9e79e[_0x4c9ee8(0x2b0)]?.['text']||_0xa9e79e[_0x4c9ee8(0x2b0)]?.[_0x4c9ee8(0x784)]||_0xa9e79e['message_normalized']?.[_0x4c9ee8(0x331)]||_0xa9e79e[_0x4c9ee8(0x2b0)]?.['name']||'',_0x4d3984={'_id':_0xa9e79e['_id'],'remoteJid':_0x21e197?this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]:_0x3efb07?_0x27d5ac:_0x4319d5,'pushName':_0x21e197?this[_0x4c9ee8(0x478)][_0x4c9ee8(0x235)]||'Eu':_0xa9e79e['pushName'],'text':_0x59f3f3,'type':_0xa9e79e[_0x4c9ee8(0x659)],'when':_0xa9e79e[_0x4c9ee8(0x296)]||Date[_0x4c9ee8(0x810)]()};_0x3e50c8||(_0x3e50c8=await this['repository'][_0x4c9ee8(0x6eb)]['findOne']({'where':{'_id':_0x4319d5}},this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]));let _0x587abb=_0x3e50c8?_0x21e197?_0x3e50c8[_0x4c9ee8(0x36c)]:(_0x3e50c8[_0x4c9ee8(0x36c)]||0x0)+0x1:_0x21e197?0x0:0x1,_0x50866d={'lastmsg':_0xa9e79e[_0x4c9ee8(0x296)]||Date['now'](),'ephemeralExpiration':_0xa9e79e['expiration'],'lastMessage':_0x4d3984,'unreadcount':_0x587abb,..._0x21e197||_0x3efb07?{}:{'name':_0xa9e79e[_0x4c9ee8(0x346)]},..._0x3efb07?{'group':_0x3efb07}:{},...!_0x21e197&&!_0x3efb07&&_0xa9e79e[_0x4c9ee8(0x70c)]?{'imagechat':_0xa9e79e[_0x4c9ee8(0x70c)]}:{}};if(!_0x3efb07&&(!_0x3e50c8?.['leadInfo']||!_0x3e50c8[_0x4c9ee8(0x441)][_0x4c9ee8(0x224)])&&_0xa9e79e[_0x4c9ee8(0x346)]&&!_0x21e197&&(_0x50866d={..._0x50866d,'leadInfo.nome':_0xa9e79e[_0x4c9ee8(0x346)]}),_0x3e50c8?.[_0x4c9ee8(0x441)][_0x4c9ee8(0x6e6)]||(_0x50866d={..._0x50866d,'leadInfo.etiquetas':[]}),_0x3e50c8?.['leadInfo'][_0x4c9ee8(0x248)]||(_0x50866d={..._0x50866d,'leadInfo.customFields':[]}),_0x3e50c8?.[_0x4c9ee8(0x441)]['tags']||(_0x50866d={..._0x50866d,'leadInfo.tags':[]}),_0x3e50c8&&_0x3e50c8?.[_0x4c9ee8(0x835)]){let _0x443996=await this[_0x4c9ee8(0x6ae)][_0x4c9ee8(0x61e)]['find']({'where':{}},this[_0x4c9ee8(0x478)]['wuid']),_0x4232ba=new Set(_0x443996[_0x4c9ee8(0x639)](_0x5f2f67=>_0x5f2f67[_0x4c9ee8(0x2f9)])),_0x59810d=(_0x3e50c8[_0x4c9ee8(0x441)]?.['etiquetas']||[])[_0x4c9ee8(0x17c)](_0x59f31d=>_0x4232ba['has'](_0x59f31d));_0x50866d={..._0x50866d,'imported':!0x1,'leadInfo.etiquetas':_0x59810d};for(let _0x2c348b of _0x59810d)await this['AddChatLabel'](_0x2c348b,_0x4319d5);}if(!this[_0x4c9ee8(0x77d)][_0x4c9ee8(0x70a)][_0x4c9ee8(0x2f6)](_0x1f486a=>_0x1f486a[_0x4c9ee8(0x7ef)]&&_0x59f3f3[_0x4c9ee8(0x708)](_0x1f486a[_0x4c9ee8(0x7ef)]))&&_0x2aa285===_0x4c9ee8(0x712)&&_0x21e197&&this[_0x4c9ee8(0x77d)]?.['flowConfig'][_0x4c9ee8(0x6d1)]&&_0x59f3f3[_0x4c9ee8(0x6b0)]()!==this[_0x4c9ee8(0x77d)]?.[_0x4c9ee8(0x328)]['stopConversation'][_0x4c9ee8(0x6b0)]()){let _0x331841=(this[_0x4c9ee8(0x77d)]?.[_0x4c9ee8(0x328)][_0x4c9ee8(0x842)]||0x0)*0xea60,_0x24b1a6=Date[_0x4c9ee8(0x810)]()+_0x331841;_0x3e50c8?.[_0x4c9ee8(0x441)]?.[_0x4c9ee8(0x744)]===0x0||(_0x50866d={..._0x50866d,'leadInfo.desativadoFluxoAte':_0x24b1a6},this[_0x4c9ee8(0x82a)][_0x4c9ee8(0x216)](this[_0x4c9ee8(0x798)]+'\x20('+this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]+_0x4c9ee8(0x334)+_0x24b1a6+'.'));}if(_0x59f3f3['trim']()===this['AutomateSystem']?.[_0x4c9ee8(0x328)][_0x4c9ee8(0x73a)][_0x4c9ee8(0x6b0)]()){this['logger'][_0x4c9ee8(0x216)](this[_0x4c9ee8(0x798)]+'\x20('+this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]+_0x4c9ee8(0x30a)+_0x59f3f3);let _0x33f2c8=Date['now']();this['AutomateSystem']?.[_0x4c9ee8(0x328)]['stopMinutes']===0x0?_0x50866d={..._0x50866d,'leadInfo.desativadoFluxoAte':_0x33f2c8+0x7591f6200}:_0x50866d={..._0x50866d,'leadInfo.desativadoFluxoAte':_0x33f2c8+this[_0x4c9ee8(0x77d)]?.[_0x4c9ee8(0x328)][_0x4c9ee8(0x3e4)]*0x3c*0x3e8};}if(_0x3e50c8=await this['repository']['chat'][_0x4c9ee8(0x768)]({'where':{'_id':_0x4319d5}},_0x50866d,this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)],{'new':!0x0,'upsert':!0x0}),_0x3e50c8)q(this['instanceName'],_0x4c9ee8(0x707),{'chat':_0x3e50c8});else{this[_0x4c9ee8(0x82a)][_0x4c9ee8(0x495)](this[_0x4c9ee8(0x798)]+'\x20('+this[_0x4c9ee8(0x478)]['wuid']+_0x4c9ee8(0x3cf));return;}if(_0x21e197)return this[_0x4c9ee8(0x82a)][_0x4c9ee8(0x216)](this['instanceName']+'\x20('+this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]+_0x4c9ee8(0x7ca)),null;if(!this[_0x4c9ee8(0x77d)]?.[_0x4c9ee8(0x328)][_0x4c9ee8(0x6d1)])return this[_0x4c9ee8(0x82a)]['verbose'](this[_0x4c9ee8(0x798)]+'\x20('+this['instance'][_0x4c9ee8(0x456)]+_0x4c9ee8(0x46c)),null;if(_0x3e50c8[_0x4c9ee8(0x2f9)][_0x4c9ee8(0x708)]('@g.us')&&this[_0x4c9ee8(0x77d)]?.[_0x4c9ee8(0x328)]['ignoreGroups']===!0x0)return this[_0x4c9ee8(0x82a)][_0x4c9ee8(0x216)](this[_0x4c9ee8(0x798)]+'\x20('+this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x3e50c8[_0x4c9ee8(0x441)]){if(_0x3e50c8['leadInfo']['desativadoFluxoAte']===0x0||_0x3e50c8['leadInfo'][_0x4c9ee8(0x201)])return this[_0x4c9ee8(0x82a)][_0x4c9ee8(0x216)](this['instanceName']+'\x20('+this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]+_0x4c9ee8(0x549)+_0x4319d5+_0x4c9ee8(0x6f4)),null;if(_0x3e50c8[_0x4c9ee8(0x441)][_0x4c9ee8(0x744)]>Date[_0x4c9ee8(0x810)]()&&!_0xa9e79e['message_normalized']?.[_0x4c9ee8(0x331)])return this[_0x4c9ee8(0x82a)][_0x4c9ee8(0x216)](this[_0x4c9ee8(0x798)]+'\x20('+this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]+_0x4c9ee8(0x814)+new Date(_0x3e50c8[_0x4c9ee8(0x441)][_0x4c9ee8(0x744)])[_0x4c9ee8(0x526)]()+_0x4c9ee8(0x6f4)),null;}this[_0x4c9ee8(0x82a)]['verbose'](this[_0x4c9ee8(0x798)]+'\x20('+this[_0x4c9ee8(0x478)][_0x4c9ee8(0x456)]+_0x4c9ee8(0x562)),this['StartBot'](_0xa9e79e,_0x2aa285);}catch(_0x3d03df){let _0x136bd8=_0x4c9ee8(0x70b),_0x4ebec2=_0x3d03df instanceof Error?_0x3d03df[_0x4c9ee8(0x5af)]:typeof _0x3d03df==_0x4c9ee8(0x3ae)?JSON['stringify'](_0x3d03df):_0x3d03df,_0x491aa5=_0x136bd8+':\x20'+_0x4ebec2;return this[_0x4c9ee8(0x82a)][_0x4c9ee8(0x495)](this['instanceName']+'\x20('+this[_0x4c9ee8(0x478)]['wuid']+'):\x20'+_0x491aa5),null;}}async[a0_0x2a87a6(0x243)](_0x2e9053,_0x2e500b){const _0x2fe335=a0_0x2a87a6;if(_0x2e500b[_0x2fe335(0x15e)]){let _0x3bfeab=_0x2e9053[_0x2fe335(0x639)](async _0x2278e2=>{const _0x8d0185=_0x2fe335;try{let _0x35df7d={'_id':_0x2278e2[_0x8d0185(0x2f9)],'owner':_0x2278e2['owner'],'lastcache':0x0};if(Object[_0x8d0185(0x173)](_0x2278e2)[_0x8d0185(0x32f)](_0x463216=>{_0x2278e2[_0x463216]!==null&&(_0x35df7d[_0x463216]=_0x2278e2[_0x463216]);}),_0x35df7d['imagechat']===null&&(_0x35df7d[_0x8d0185(0x854)]=_0x8d0185(0x75a)),Object['keys'](_0x35df7d)['length']>0x0)return await this[_0x8d0185(0x6ae)]['chat'][_0x8d0185(0x768)]({'where':{'_id':_0x2278e2[_0x8d0185(0x2f9)]}},_0x35df7d,this['instance'][_0x8d0185(0x456)]);}catch(_0x10789f){let _0xa51b50=_0x8d0185(0x5fc)+_0x2278e2['_id'],_0x4680a5=_0x10789f instanceof Error?_0x10789f[_0x8d0185(0x5af)]:typeof _0x10789f==_0x8d0185(0x3ae)?JSON['stringify'](_0x10789f):_0x10789f,_0x4fa1d2=_0xa51b50+':\x20'+_0x4680a5;return this[_0x8d0185(0x82a)]['error'](this[_0x8d0185(0x798)]+'\x20('+this[_0x8d0185(0x478)][_0x8d0185(0x456)]+'):\x20'+_0x4fa1d2),null;}}),_0x426dcd=(await Promise[_0x2fe335(0x3e2)](_0x3bfeab))[_0x2fe335(0x17c)](_0x4a4c60=>_0x4a4c60!==null)[_0x2fe335(0x30d)];this[_0x2fe335(0x82a)][_0x2fe335(0x216)](this[_0x2fe335(0x798)]+'\x20('+this['instance'][_0x2fe335(0x456)]+_0x2fe335(0x1db)+_0x426dcd+'\x20chats\x20de\x20'+this[_0x2fe335(0x478)][_0x2fe335(0x456)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x2a87a6(0x572)](_0x3afcd6){const _0x2a3d6e=a0_0x2a87a6;this[_0x2a3d6e(0x82a)][_0x2a3d6e(0x216)](this['instanceName']+'\x20('+this['instance'][_0x2a3d6e(0x456)]+_0x2a3d6e(0x7dd));let _0x66a69c={'readMessages':[{'remoteJid':_0x3afcd6['chatLog']['lastReceivedMessage']['key'][_0x2a3d6e(0x6f5)],'fromMe':_0x3afcd6[_0x2a3d6e(0x52f)][_0x2a3d6e(0x730)]['key']['fromMe'],'id':_0x3afcd6[_0x2a3d6e(0x52f)][_0x2a3d6e(0x730)][_0x2a3d6e(0x349)]['id']}]};await this[_0x2a3d6e(0x86b)](_0x66a69c);}async[a0_0x2a87a6(0x436)](_0x560613,_0x30a186){const _0x1eae3e=a0_0x2a87a6;try{let {key:_0x526807,message_normalized:_0x5e7093}=_0x560613,_0x2e1fe6=_0x5e7093,_0x346976=_0x5e7093[_0x1eae3e(0x210)]||_0x5e7093[_0x1eae3e(0x784)]||_0x5e7093['vote']||_0x5e7093[_0x1eae3e(0x366)]||'',_0x511d83=_0x526807['remoteJid'],_0xf0fc91=null,_0x359efe=this['AutomateSystem']['flows'][_0x1eae3e(0x2f6)](_0x22b17b=>_0x22b17b['startCommand']&&_0x346976[_0x1eae3e(0x708)](_0x22b17b[_0x1eae3e(0x7ef)]));if(_0x359efe&&_0x30a186===_0x1eae3e(0x712)){let _0xc2a487=await this['repository'][_0x1eae3e(0x452)][_0x1eae3e(0x654)]({'where':{'_id':_0x359efe[_0x1eae3e(0x2f9)]}});if(this[_0x1eae3e(0x82a)][_0x1eae3e(0x216)](this[_0x1eae3e(0x798)]+'\x20('+this[_0x1eae3e(0x478)][_0x1eae3e(0x456)]+_0x1eae3e(0x26f)),_0xc2a487&&_0xc2a487[_0x1eae3e(0x718)]?.[_0x1eae3e(0x708)](this[_0x1eae3e(0x478)][_0x1eae3e(0x456)]))_0xf0fc91=await this[_0x1eae3e(0x3b2)](_0xc2a487,_0x526807,_0x2e1fe6);else return this['logger']['verbose'](this[_0x1eae3e(0x798)]+'\x20('+this['instance'][_0x1eae3e(0x456)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x1eae3e(0x82a)][_0x1eae3e(0x216)](this['instanceName']+'\x20('+this['instance'][_0x1eae3e(0x456)]+_0x1eae3e(0x59d));if(_0xf0fc91=await this[_0x1eae3e(0x408)](_0x511d83,_0x2e1fe6),_0xf0fc91){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1eae3e(0x478)][_0x1eae3e(0x456)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x526807['fromMe']&&_0xf0fc91['readMessages']&&this[_0x1eae3e(0x572)](_0xf0fc91);let _0x5a02cb=await this[_0x1eae3e(0x38a)](_0xf0fc91);_0x5a02cb&&await this['processblock'](_0xf0fc91,_0x5a02cb);}}catch(_0x34ed48){this[_0x1eae3e(0x82a)][_0x1eae3e(0x495)](this[_0x1eae3e(0x798)]+'\x20('+this[_0x1eae3e(0x478)][_0x1eae3e(0x456)]+_0x1eae3e(0x7dc)+(_0x34ed48 instanceof Error?_0x34ed48[_0x1eae3e(0x5af)]:JSON[_0x1eae3e(0x15a)](_0x34ed48,null,0x2)));}}[a0_0x2a87a6(0x407)](_0x3cf49f,_0x117e36='',_0x40cb6a={}){const _0x3f9cb7=a0_0x2a87a6;return typeof _0x3cf49f!=_0x3f9cb7(0x3ae)||_0x3cf49f===null?(_0x117e36&&(_0x40cb6a[_0x117e36]=_0x3cf49f),_0x40cb6a):(Object['entries'](_0x3cf49f)[_0x3f9cb7(0x32f)](([_0x367f35,_0x44ef1e])=>{const _0x33967e=_0x3f9cb7;let _0x161bc7=_0x117e36?_0x117e36+'.'+_0x367f35:'_'+_0x367f35;Array[_0x33967e(0x272)](_0x44ef1e)?_0x44ef1e[_0x33967e(0x32f)]((_0x27bcc9,_0x24987f)=>{this['flattenObject'](_0x27bcc9,_0x161bc7+'['+_0x24987f+']',_0x40cb6a);}):typeof _0x44ef1e==_0x33967e(0x3ae)&&_0x44ef1e!==null?this[_0x33967e(0x407)](_0x44ef1e,_0x161bc7,_0x40cb6a):_0x40cb6a[_0x161bc7]=String(_0x44ef1e);}),_0x40cb6a);}[a0_0x2a87a6(0x4ef)](_0x3b91bf){const _0x151ff6=a0_0x2a87a6;let _0x568708={};for(let _0x1c45e0 of _0x3b91bf)typeof _0x1c45e0['name']==_0x151ff6(0x634)&&typeof _0x1c45e0[_0x151ff6(0x288)]=='string'&&(_0x568708[_0x1c45e0[_0x151ff6(0x366)]]=_0x1c45e0[_0x151ff6(0x288)]);return _0x568708;}async[a0_0x2a87a6(0x38a)](_0x5c785f){const _0x933823=a0_0x2a87a6;if(!this[_0x933823(0x77d)]?.[_0x933823(0x328)][_0x933823(0x6d1)]||_0x5c785f[_0x933823(0x5f7)]!==_0x933823(0x2cd)&&_0x5c785f[_0x933823(0x61b)]==='')return null;let _0x3fdf4c=_0x5c785f[_0x933823(0x52f)][_0x933823(0x7f0)]||_0x933823(0x432);typeof _0x5c785f['chatLog']['lastCondition']>'u'&&(_0x5c785f[_0x933823(0x52f)][_0x933823(0x381)]=!0x0);let _0xfce890=_0x5c785f['chatLog'][_0x933823(0x381)];this['logger'][_0x933823(0x216)](this['instanceName']+'\x20('+this[_0x933823(0x478)][_0x933823(0x456)]+_0x933823(0x7b3)+_0x3fdf4c+_0x933823(0x782)+_0xfce890);let _0x1d8b22=_0x3fdf4c==='start'?_0x5c785f[_0x933823(0x71d)][_0x933823(0x2f6)](_0x439187=>_0x439187[_0x933823(0x3c1)]==='start'):_0x5c785f[_0x933823(0x71d)]['find'](_0x202780=>_0x202780[_0x933823(0x2f9)]['toString']()===_0x3fdf4c[_0x933823(0x635)]());if(!_0x1d8b22)return this[_0x933823(0x82a)]['error'](this[_0x933823(0x798)]+'\x20('+this[_0x933823(0x478)][_0x933823(0x456)]+_0x933823(0x82f)+_0x3fdf4c),null;let _0x58395b={'_pushName':_0x5c785f?.[_0x933823(0x52f)]?.[_0x933823(0x730)]?.[_0x933823(0x346)]||'','_sender':this['instance'][_0x933823(0x456)]||'',..._0x5c785f[_0x933823(0x52f)]['realVariables']},_0x2f7dd1=null;if(_0x5c785f['waitingMenu_id']){let _0x2e3d61=_0x5c785f[_0x933823(0x52f)][_0x933823(0x730)]['vote'],_0x5edd99=_0x5c785f[_0x933823(0x36e)][_0x933823(0x2f6)](_0xdf85cd=>_0xdf85cd[_0x933823(0x440)]===_0x2e3d61);if(_0x5edd99){let _0x1acebc=_0x5edd99['next_groupId'];if(_0x2f7dd1=_0x5c785f[_0x933823(0x71d)][_0x933823(0x2f6)](_0x1d0d7f=>_0x1d0d7f['groupId']===_0x1acebc&&_0x1d0d7f[_0x933823(0x4ec)]===0x1),_0x1d8b22[_0x933823(0x20d)][_0x933823(0x5ac)]){let _0x5b15a7={'id':_0x5c785f[_0x933823(0x61b)],'remoteJid':_0x5c785f[_0x933823(0x6f5)],'fromMe':!0x0};await this[_0x933823(0x3bc)](_0x5b15a7);}if(_0x1d8b22[_0x933823(0x20d)]['pollOnReplyDelete']&&_0x1d8b22[_0x933823(0x20d)][_0x933823(0x890)]&&_0x1d8b22[_0x933823(0x20d)]['menuType']===_0x933823(0x3b0)){let _0x59e6a0={'number':_0x5c785f['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x933823(0x75b)+_0x5c785f[_0x933823(0x4ac)]+_0x933823(0x3be)+_0x2e3d61}};await this['textMessage'](_0x59e6a0);}_0x5c785f['status']=_0x933823(0x2cd),_0x5c785f[_0x933823(0x61b)]='',_0x5c785f[_0x933823(0x4ac)]='',_0x5c785f[_0x933823(0x36e)]=[];}else{this[_0x933823(0x82a)][_0x933823(0x216)](this[_0x933823(0x798)]+'\x20('+this[_0x933823(0x478)]['wuid']+_0x933823(0x135));let _0x191957={'activatedCount':_0x5c785f[_0x933823(0x52f)][_0x933823(0x505)][_0x933823(0x17c)](_0x22987b=>String(_0x22987b['blockId'])===String(_0x3fdf4c))[_0x933823(0x30d)],'moreLogs':[_0x933823(0x281)]};if(_0x1d8b22[_0x933823(0x20d)][_0x933823(0x23f)]){let _0x4e534b={'number':_0x5c785f['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x1d8b22[_0x933823(0x20d)][_0x933823(0x23f)]}};await this[_0x933823(0x319)](_0x4e534b);}if(_0x1d8b22['maxActives']!==void 0x0&&_0x191957[_0x933823(0x4a3)]>=_0x1d8b22[_0x933823(0x21b)]){let _0x217fbb=Date['now'](),_0x23fe5d=_0x1d8b22['stopMinutesMaxActives']??0xa;isNaN(_0x23fe5d)&&(_0x23fe5d=0xa);let _0x521f23=_0x217fbb+_0x23fe5d*0x3c*0x3e8;_0x191957['newStoppedUntil']=_0x521f23,_0x191957[_0x933823(0x6b3)][_0x933823(0x67c)](_0x933823(0x7e7)),this[_0x933823(0x2d2)](_0x5c785f,_0x521f23),_0x5c785f['waitingMenu_id']='',_0x5c785f[_0x933823(0x4ac)]='',_0x5c785f['waitingMenu_replyOptions']=[];}return this['updateConversation'](_0x5c785f,_0x1d8b22,_0x191957,!0x0),null;}}if(_0xfce890&&_0x1d8b22['next_groupId']&&!_0x5c785f['waitingMenu_id']){let _0x2cd5d8=_0x5c785f['blocks']['filter'](_0x3cfdc8=>_0x3cfdc8[_0x933823(0x690)][_0x933823(0x635)]()===_0x1d8b22[_0x933823(0x3e9)][_0x933823(0x635)]())[_0x933823(0x7ce)]((_0xaed826,_0x21e9da)=>_0xaed826[_0x933823(0x4ec)]-_0x21e9da[_0x933823(0x4ec)]);_0x2cd5d8[_0x933823(0x30d)]>0x0&&(_0x2f7dd1=_0x2cd5d8[0x0]);}if(!_0x2f7dd1){let _0xab1dd8=_0x1d8b22['groupId'],_0x3c4966=_0x5c785f[_0x933823(0x71d)][_0x933823(0x17c)](_0x3febd8=>_0x3febd8[_0x933823(0x690)]===_0xab1dd8&&_0x3febd8[_0x933823(0x4ec)]>_0x1d8b22[_0x933823(0x4ec)])[_0x933823(0x7ce)]((_0x5ea4d9,_0x33adf4)=>_0x5ea4d9[_0x933823(0x4ec)]-_0x33adf4[_0x933823(0x4ec)]);_0x3c4966['length']>0x0&&(_0x2f7dd1=_0x3c4966[0x0]);}if(!_0x2f7dd1)return _0x5c785f[_0x933823(0x5f7)]='closed',null;_0x5c785f[_0x933823(0x52f)]['realVariables']=_0x58395b;let _0x357916=JSON[_0x933823(0x510)](JSON['stringify'](_0x2f7dd1));return this[_0x933823(0x4e5)](_0x357916,_0x5c785f[_0x933823(0x52f)][_0x933823(0x733)]),_0x5c785f[_0x933823(0x52f)][_0x933823(0x7f0)]=_0x357916[_0x933823(0x2f9)],_0x5c785f[_0x933823(0x52f)]['lastCondition']=!0x0,_0x357916;}[a0_0x2a87a6(0x51a)](_0x557536,_0x3659ae){const _0x5798ac=a0_0x2a87a6;return _0x557536[_0x5798ac(0x1ee)](/\{\{([^}]+)\}\}/g,(_0x7ebc3c,_0x5c3ef4)=>_0x3659ae[_0x5c3ef4]||'');}[a0_0x2a87a6(0x4e5)](_0xb0d960,_0x2c4ed6){const _0x143334=a0_0x2a87a6;for(let _0x41fbff in _0xb0d960)typeof _0xb0d960[_0x41fbff]=='string'?_0xb0d960[_0x41fbff]=this['replaceVariables'](_0xb0d960[_0x41fbff],_0x2c4ed6):typeof _0xb0d960[_0x41fbff]==_0x143334(0x3ae)&&this[_0x143334(0x4e5)](_0xb0d960[_0x41fbff],_0x2c4ed6);}async[a0_0x2a87a6(0x373)](_0x5608dc,_0x51afe4){const _0x2b89c2=a0_0x2a87a6;let _0x2ac451=_0x51afe4['_id'];if(_0x5608dc[_0x2b89c2(0x52f)]&&_0x5608dc[_0x2b89c2(0x52f)][_0x2b89c2(0x505)]){let _0x138a68=_0x5608dc[_0x2b89c2(0x52f)]['blockLogs'][_0x2b89c2(0x17c)](_0x477343=>String(_0x477343[_0x2b89c2(0x575)])===String(_0x2ac451))[_0x2b89c2(0x30f)]();if(_0x138a68&&_0x138a68['error']&&_0x51afe4[_0x2b89c2(0x359)])return _0x5608dc[_0x2b89c2(0x5f7)]='closed',await this['saveConversationToDatabase'](_0x5608dc),null;}if(_0x51afe4[_0x2b89c2(0x3c1)]==='uazapi'&&_0x51afe4[_0x2b89c2(0x20d)][_0x2b89c2(0x422)]==='sendPoll'&&_0x5608dc[_0x2b89c2(0x61b)])return _0x5608dc[_0x2b89c2(0x52f)][_0x2b89c2(0x7f0)]=_0x2ac451,await this[_0x2b89c2(0x695)](_0x5608dc),null;let _0x3b79aa=await this[_0x2b89c2(0x38a)](_0x5608dc);if(_0x5608dc[_0x2b89c2(0x52f)]&&_0x5608dc['chatLog'][_0x2b89c2(0x505)]){let _0x349974=_0x5608dc['chatLog'][_0x2b89c2(0x505)][_0x2b89c2(0x17c)](_0x1f3506=>String(_0x1f3506[_0x2b89c2(0x575)])===String(_0x2ac451))[_0x2b89c2(0x30d)];if(_0x51afe4['maxActives']!==void 0x0&&_0x349974>=_0x51afe4[_0x2b89c2(0x21b)]){let _0x9104a3=Date[_0x2b89c2(0x810)](),_0x405c4f=_0x51afe4[_0x2b89c2(0x5f9)]??0xa;isNaN(_0x405c4f)&&(_0x405c4f=0xa);let _0x56e4f1=_0x9104a3+_0x405c4f*0x3c*0x3e8,_0xaf6585={'newStoppedUntil':_0x56e4f1};return this['updateStopChat'](_0x5608dc,_0x56e4f1),this['updateConversation'](_0x5608dc,_0x51afe4,_0xaf6585,!0x0),null;}}_0x3b79aa&&_0x3b79aa[_0x2b89c2(0x3c1)]!=='save'&&await this[_0x2b89c2(0x797)](_0x5608dc,_0x3b79aa),_0x3b79aa||await this[_0x2b89c2(0x695)](_0x5608dc),_0x3b79aa&&_0x3b79aa[_0x2b89c2(0x3c1)]===_0x2b89c2(0x49e)&&(_0x5608dc[_0x2b89c2(0x52f)]['lastBlockId']=_0x2ac451,await this['saveConversationToDatabase'](_0x5608dc));}async[a0_0x2a87a6(0x797)](_0x249881,_0x1a8790){const _0x4cf808=a0_0x2a87a6;try{let _0x520d25=_0x1a8790[_0x4cf808(0x3c1)];this[_0x4cf808(0x82a)][_0x4cf808(0x216)](this[_0x4cf808(0x798)]+'\x20('+this[_0x4cf808(0x478)][_0x4cf808(0x456)]+_0x4cf808(0x84c)+_0x520d25);let _0x43afb6={'uazapi':()=>this['processUazapi'](_0x249881,_0x1a8790),'save':()=>this[_0x4cf808(0x593)](_0x249881,_0x1a8790),'stop':()=>this[_0x4cf808(0x73a)](_0x249881,_0x1a8790),'condition':()=>this[_0x4cf808(0x1ea)](_0x249881,_0x1a8790),'varedit':()=>this[_0x4cf808(0x56d)](_0x249881,_0x1a8790),'apirequest':()=>this[_0x4cf808(0x79e)](_0x249881,_0x1a8790),'goToFlow':()=>this[_0x4cf808(0x4b8)](_0x249881,_0x1a8790),'scheduleFlow':()=>this[_0x4cf808(0x6c8)](_0x249881,_0x1a8790),'awaitSeconds':()=>this[_0x4cf808(0x509)](_0x249881,_0x1a8790),'clearVariables':()=>this['processclearVariables'](_0x249881,_0x1a8790)}[_0x520d25];_0x43afb6&&await _0x43afb6();}catch(_0x34e258){this[_0x4cf808(0x82a)][_0x4cf808(0x495)](this[_0x4cf808(0x798)]+'\x20('+this[_0x4cf808(0x478)][_0x4cf808(0x456)]+_0x4cf808(0x1f0)+(_0x34e258 instanceof Error?_0x34e258[_0x4cf808(0x5af)]:JSON[_0x4cf808(0x15a)](_0x34e258,null,0x2)));}}async[a0_0x2a87a6(0x509)](_0x62cba9,_0x27e817){const _0x55c25b=a0_0x2a87a6;if(this['logger'][_0x55c25b(0x216)](this['instanceName']+'\x20('+this[_0x55c25b(0x478)]['wuid']+_0x55c25b(0x147)),!_0x62cba9||!_0x27e817)return this[_0x55c25b(0x82a)]['error'](this[_0x55c25b(0x798)]+'\x20('+this[_0x55c25b(0x478)][_0x55c25b(0x456)]+_0x55c25b(0x6a4)),null;let _0x4cc1cf=+_0x27e817[_0x55c25b(0x61d)];isNaN(_0x4cc1cf)&&(_0x4cc1cf=0x0),_0x4cc1cf=Math[_0x55c25b(0x454)](_0x4cc1cf,0x3c),await(0x0,w['delay'])(_0x4cc1cf*0x3e8);let _0xc7377c={'moreLogs':[_0x55c25b(0x87b)+_0x4cc1cf+_0x55c25b(0x5f3)]};return await this[_0x55c25b(0x57f)](_0x62cba9,_0x27e817,_0xc7377c),_0x4cc1cf;}async[a0_0x2a87a6(0x88c)](_0x1faeb1,_0x54297c){const _0x174ac9=a0_0x2a87a6;if(this['logger'][_0x174ac9(0x216)](this[_0x174ac9(0x798)]+'\x20('+this[_0x174ac9(0x478)][_0x174ac9(0x456)]+_0x174ac9(0x192)),!_0x1faeb1||!_0x54297c)return this[_0x174ac9(0x82a)]['error'](this['instanceName']+'\x20('+this[_0x174ac9(0x478)][_0x174ac9(0x456)]+_0x174ac9(0x6a4)),null;let _0x45b950=[];if(_0x54297c[_0x174ac9(0x736)][_0x174ac9(0x6b0)]()===_0x174ac9(0x5df)){let _0x3f5cce=['_sender',_0x174ac9(0x553),'_error','_activedCount','_remoteJid',_0x174ac9(0x2f9),_0x174ac9(0x29a)];_0x45b950=Object[_0x174ac9(0x173)](_0x1faeb1['chatLog'][_0x174ac9(0x733)])[_0x174ac9(0x17c)](_0x21cd6d=>_0x21cd6d[_0x174ac9(0x299)]('_')&&!_0x3f5cce[_0x174ac9(0x708)](_0x21cd6d));}else _0x45b950=_0x54297c['clearVariables'][_0x174ac9(0x259)]('|')[_0x174ac9(0x639)](_0x1350dc=>(_0x1350dc=_0x1350dc['replace'](/[{}]/g,'')[_0x174ac9(0x6b0)](),_0x1350dc[_0x174ac9(0x299)]('_')?_0x1350dc:'_'+_0x1350dc));let _0x21fec8=[];_0x45b950[_0x174ac9(0x32f)](_0x338083=>{const _0x14ffc3=_0x174ac9;_0x338083 in _0x1faeb1[_0x14ffc3(0x52f)][_0x14ffc3(0x733)]&&(delete _0x1faeb1['chatLog'][_0x14ffc3(0x733)][_0x338083],_0x21fec8[_0x14ffc3(0x67c)](_0x338083));}),_0x21fec8[_0x174ac9(0x30d)]>0x0?this['logger'][_0x174ac9(0x216)](this['instanceName']+'\x20('+this['instance'][_0x174ac9(0x456)]+_0x174ac9(0x833)+_0x21fec8['join'](',\x20')):this[_0x174ac9(0x82a)][_0x174ac9(0x216)](this['instanceName']+'\x20('+this[_0x174ac9(0x478)][_0x174ac9(0x456)]+_0x174ac9(0x2f2));let _0x38578b={'moreLogs':[_0x174ac9(0x502)+_0x21fec8[_0x174ac9(0x52e)](',\x20')]};return await this['updateConversation'](_0x1faeb1,_0x54297c,_0x38578b),null;}async[a0_0x2a87a6(0x6c8)](_0x14fe48,_0x320424){const _0x44645f=a0_0x2a87a6;if(this[_0x44645f(0x82a)][_0x44645f(0x216)](this[_0x44645f(0x798)]+'\x20('+this[_0x44645f(0x478)][_0x44645f(0x456)]+_0x44645f(0x621)),!_0x14fe48||!_0x320424)return this[_0x44645f(0x82a)][_0x44645f(0x495)](this[_0x44645f(0x798)]+'\x20('+this[_0x44645f(0x478)][_0x44645f(0x456)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4fd874=_0x14fe48[_0x44645f(0x6f5)];_0x320424[_0x44645f(0x5cb)][_0x44645f(0x6f5)]&&_0x320424[_0x44645f(0x5cb)]['remoteJid']['trim']()!==''&&(_0x4fd874=_0x320424[_0x44645f(0x20d)]['remoteJid'][_0x44645f(0x6b0)]());let _0x551102=_0x320424['scheduleFlow'][_0x44645f(0x836)]*0xea60,_0x17c44d=Date[_0x44645f(0x810)]()+_0x551102,_0x535e53={'status':_0x44645f(0x21d),'info':_0x44645f(0x152)+_0x14fe48['name'],'remoteJids':[_0x4fd874],'when':_0x17c44d,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x320424[_0x44645f(0x5cb)][_0x44645f(0x7f8)]};this[_0x44645f(0x490)](_0x535e53);let _0x519b0c=await this[_0x44645f(0x38a)](_0x14fe48);_0x519b0c&&await this['processblock'](_0x14fe48,_0x519b0c);}async[a0_0x2a87a6(0x4b8)](_0x29132f,_0x265a2d){const _0xa11fbf=a0_0x2a87a6;if(this[_0xa11fbf(0x82a)]['verbose'](this[_0xa11fbf(0x798)]+'\x20('+this[_0xa11fbf(0x478)]['wuid']+_0xa11fbf(0x46a)),!_0x29132f||!_0x265a2d)return this[_0xa11fbf(0x82a)][_0xa11fbf(0x495)](this[_0xa11fbf(0x798)]+'\x20('+this['instance']['wuid']+_0xa11fbf(0x6a4)),null;await this[_0xa11fbf(0x57f)](_0x29132f,_0x265a2d,{},!0x0,!0x0);let _0x4b8092=_0x265a2d[_0xa11fbf(0x538)];_0x29132f=await this[_0xa11fbf(0x19a)](_0x4b8092,_0x29132f['remoteJid'],_0x29132f['chatLog']['realVariables']);let _0x4c16c6=await this[_0xa11fbf(0x38a)](_0x29132f);_0x4c16c6&&await this[_0xa11fbf(0x797)](_0x29132f,_0x4c16c6);}async[a0_0x2a87a6(0x19a)](_0x56fd44,_0x281959,_0x3371a4){const _0x4ef1f6=a0_0x2a87a6;this[_0x4ef1f6(0x82a)][_0x4ef1f6(0x216)](this['instanceName']+'\x20('+this['instance'][_0x4ef1f6(0x456)]+_0x4ef1f6(0x45f));try{let _0x56388a=this[_0x4ef1f6(0x77d)][_0x4ef1f6(0x70a)]['find'](_0x3fe4db=>_0x3fe4db['_id']===_0x56fd44);_0x56388a||this['logger']['error'](this[_0x4ef1f6(0x798)]+'\x20('+this[_0x4ef1f6(0x478)][_0x4ef1f6(0x456)]+_0x4ef1f6(0x55d)+_0x56fd44+_0x4ef1f6(0x56b));let _0x56f701=await this['repository'][_0x4ef1f6(0x452)][_0x4ef1f6(0x654)]({'where':{'_id':_0x56388a[_0x4ef1f6(0x2f9)]}});if(!_0x56f701||!_0x56f701[_0x4ef1f6(0x718)]?.['includes'](this[_0x4ef1f6(0x478)][_0x4ef1f6(0x456)]))throw this['logger'][_0x4ef1f6(0x495)](this[_0x4ef1f6(0x798)]+'\x20('+this[_0x4ef1f6(0x478)]['wuid']+_0x4ef1f6(0x55d)+_0x56fd44+_0x4ef1f6(0x514)),new m(_0x4ef1f6(0x371)+_0x56fd44+_0x4ef1f6(0x514));let _0x47a19a=require(_0x4ef1f6(0x3ef))[_0x4ef1f6(0x414)],_0xdbb570=Date[_0x4ef1f6(0x810)](),_0x4fbde2='start',_0x5a03d3={},_0x2b9b5a={},_0x2b24e9=this[_0x4ef1f6(0x77d)]['flows']['find'](_0x589b23=>_0x589b23['_id']===_0x56f701[_0x4ef1f6(0x2f9)]?.['toString']()),_0x6d4a43=_0x2b24e9?.[_0x4ef1f6(0x6c1)]??_0x56f701[_0x4ef1f6(0x6c1)]??0x0,_0x4dd4bc=_0x2b24e9?.[_0x4ef1f6(0x584)]??_0x56f701[_0x4ef1f6(0x584)]??!0x1,_0x195d8f={'flowId':_0x56388a[_0x4ef1f6(0x2f9)],'readMessages':_0x56388a[_0x4ef1f6(0x584)],..._0x56f701,'chatLog':null},_0x4aef66={'lastReceivedMessage':_0x5a03d3,'lastSendMessage':_0x2b9b5a,'lastBlockId':_0x4fbde2,'lastCondition':!0x0,'realVariables':_0x3371a4};_0x195d8f['chatLog']=_0x4aef66,_0x195d8f[_0x4ef1f6(0x52f)][_0x4ef1f6(0x733)]={..._0x3371a4},delete _0x195d8f[_0x4ef1f6(0x2f9)],_0x195d8f[_0x4ef1f6(0x2f9)]=new _0x47a19a(),_0x195d8f['lastInteraction']=_0xdbb570,_0x195d8f[_0x4ef1f6(0x5f7)]=_0x4ef1f6(0x2cd),_0x195d8f[_0x4ef1f6(0x6f5)]=_0x281959,_0x195d8f[_0x4ef1f6(0x6c1)]=_0x6d4a43,_0x195d8f['readMessages']=_0x4dd4bc;let _0x11ae04=await this['repository']['flowConversation'][_0x4ef1f6(0x768)](_0x195d8f[_0x4ef1f6(0x2f9)],_0x195d8f,this[_0x4ef1f6(0x478)][_0x4ef1f6(0x456)]);return this['logger'][_0x4ef1f6(0x216)](this['instanceName']+'\x20('+this[_0x4ef1f6(0x478)]['wuid']+_0x4ef1f6(0x737)),_0x11ae04?_0x195d8f:null;}catch(_0x52f1e2){let _0x192561='Erro\x20ao\x20copiar\x20o\x20documento',_0x2cd205=_0x52f1e2 instanceof Error?_0x52f1e2[_0x4ef1f6(0x5af)]:typeof _0x52f1e2==_0x4ef1f6(0x3ae)?JSON[_0x4ef1f6(0x15a)](_0x52f1e2):_0x52f1e2,_0xf3c066=_0x192561+':\x20'+_0x2cd205;throw this[_0x4ef1f6(0x82a)][_0x4ef1f6(0x495)](this[_0x4ef1f6(0x798)]+'\x20('+this[_0x4ef1f6(0x478)][_0x4ef1f6(0x456)]+_0x4ef1f6(0x1db)+_0xf3c066),new m(_0xf3c066);}}async[a0_0x2a87a6(0x79e)](_0x1dd6d2,_0x2f5a71){const _0x2c1b18=a0_0x2a87a6;let _0x385500,_0x577d9f;try{let _0x44fad9=_0x2f5a71[_0x2c1b18(0x58e)];if(!_0x44fad9||!_0x44fad9['url']||!_0x44fad9[_0x2c1b18(0x807)])throw new Error(_0x2c1b18(0x4b3));let _0x402cec;([_0x2c1b18(0x620),_0x2c1b18(0x337),_0x2c1b18(0x2e5)][_0x2c1b18(0x7e4)](_0x36b185=>_0x44fad9[_0x2c1b18(0x1a2)]['includes'](_0x36b185))||_0x44fad9['requestFile'])&&(_0x402cec=_0x2c1b18(0x17b));let _0x1ca31c='\u205f',_0x47acfd;try{_0x47acfd=JSON[_0x2c1b18(0x510)](_0x44fad9['bodyString']['replace'](new RegExp(_0x1ca31c,'g'),''));}catch(_0x42f96b){throw _0x42f96b;}let _0x383b75={'method':_0x44fad9[_0x2c1b18(0x807)],'url':_0x44fad9[_0x2c1b18(0x1a2)],'headers':_0x44fad9[_0x2c1b18(0x540)]||{},..._0x44fad9[_0x2c1b18(0x807)]['toUpperCase']()!==_0x2c1b18(0x6cd)&&_0x44fad9[_0x2c1b18(0x25e)]?{'data':JSON['parse'](_0x44fad9[_0x2c1b18(0x25e)][_0x2c1b18(0x1ee)](new RegExp(_0x1ca31c,'g'),''))}:{},..._0x402cec&&{'responseType':_0x402cec}},_0x2cc9b4=await(0x0,te[_0x2c1b18(0x667)])(_0x383b75),_0x54ee73=_0x2cc9b4[_0x2c1b18(0x24c)][_0x2c1b18(0x633)];if(_0x54ee73&&_0x54ee73['includes'](_0x2c1b18(0x219))||typeof _0x2cc9b4[_0x2c1b18(0x2d7)]=='string'){if(typeof _0x2cc9b4[_0x2c1b18(0x2d7)]==_0x2c1b18(0x634)){let _0x387530=_0x2cc9b4[_0x2c1b18(0x2d7)][_0x2c1b18(0x1ee)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x2c1b18(0x6b0)]();try{_0x385500=JSON[_0x2c1b18(0x510)](_0x387530);}catch(_0x40a566){this[_0x2c1b18(0x82a)][_0x2c1b18(0x495)](_0x2c1b18(0x261)+_0x40a566[_0x2c1b18(0x5af)]),_0x385500={'_apiResponse':_0x2cc9b4[_0x2c1b18(0x2d7)]};}}else _0x385500=_0x2cc9b4[_0x2c1b18(0x2d7)];let _0x1f0fe0=_0x1dd6d2[_0x2c1b18(0x52f)]['realVariables'],_0x5e2eeb=this['flattenObject'](_0x385500);return Object['assign'](_0x1f0fe0,_0x5e2eeb),_0x1dd6d2[_0x2c1b18(0x52f)][_0x2c1b18(0x733)]=_0x1f0fe0,_0x577d9f={'error':!0x1,'apiResponse':_0x385500},this[_0x2c1b18(0x57f)](_0x1dd6d2,_0x2f5a71,_0x577d9f),_0x385500;}if(_0x54ee73&&(_0x54ee73[_0x2c1b18(0x708)](_0x2c1b18(0x28a))||_0x54ee73[_0x2c1b18(0x708)](_0x2c1b18(0x14a))||_0x54ee73['includes']('audio')||_0x54ee73['includes'](_0x2c1b18(0x715)))){this[_0x2c1b18(0x82a)][_0x2c1b18(0x216)](this['instanceName']+'\x20('+this[_0x2c1b18(0x478)][_0x2c1b18(0x456)]+_0x2c1b18(0x348)+_0x54ee73);let _0x5ea556=(0x0,X['v4'])(),_0x849b5d='',_0x2a4c41={'image/jpeg':_0x2c1b18(0x4c4),'image/png':_0x2c1b18(0x613),'image/gif':_0x2c1b18(0x876),'image/webp':_0x2c1b18(0x433),'image/svg+xml':_0x2c1b18(0x3f5),'audio/mpeg':_0x2c1b18(0x684),'audio/ogg':'.ogg','audio/wav':_0x2c1b18(0x5f4),'video/mp4':_0x2c1b18(0x2ee),'video/webm':_0x2c1b18(0x2bc),'video/ogg':_0x2c1b18(0x3d6),'text/plain':_0x2c1b18(0x7f3),'application/pdf':'.pdf','application/msword':_0x2c1b18(0x1c9),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x2c1b18(0x5c6),'application/vnd.ms-excel':_0x2c1b18(0x21e),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x2c1b18(0x804)};_0x2a4c41[_0x54ee73]?(_0x849b5d=_0x2a4c41[_0x54ee73],this['logger'][_0x2c1b18(0x216)](this[_0x2c1b18(0x798)]+'\x20('+this['instance']['wuid']+_0x2c1b18(0x4b7)+_0x849b5d)):(_0x849b5d='.error',this[_0x2c1b18(0x82a)]['verbose'](this[_0x2c1b18(0x798)]+'\x20('+this['instance'][_0x2c1b18(0x456)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x849b5d)),_0x5ea556+=_0x849b5d,this[_0x2c1b18(0x82a)][_0x2c1b18(0x216)](this[_0x2c1b18(0x798)]+'\x20('+this[_0x2c1b18(0x478)][_0x2c1b18(0x456)]+_0x2c1b18(0x828)+_0x5ea556);let _0x434650=this['configService'][_0x2c1b18(0x7eb)]('SERVER')[_0x2c1b18(0x287)];if(!_0x434650){let _0x266f78=this['configService'][_0x2c1b18(0x7eb)](_0x2c1b18(0x2d0));_0x434650=_0x2c1b18(0x1f6)+(_0x266f78&&_0x266f78['FULLCHAIN']['split']('/')[0x4]);}let _0x56230b=Buffer[_0x2c1b18(0x696)](_0x2cc9b4[_0x2c1b18(0x2d7)]);await this[_0x2c1b18(0x404)](_0x56230b,_0x5ea556);let _0x4cbcdc='/media/'+_0x5ea556;_0x4cbcdc=''+_0x434650+_0x4cbcdc,_0x385500={'fileUrl':_0x4cbcdc},_0x1dd6d2['chatLog']['realVariables'][_0x2c1b18(0x5bf)]=_0x4cbcdc;let _0x1e6adc=_0x1dd6d2[_0x2c1b18(0x52f)][_0x2c1b18(0x733)],_0x3b2179=this['flattenObject'](_0x385500);return Object['assign'](_0x1e6adc,_0x3b2179),_0x1dd6d2['chatLog'][_0x2c1b18(0x733)]=_0x1e6adc,_0x577d9f={'error':!0x1,'apiResponse':{'fileUrl':_0x4cbcdc}},this[_0x2c1b18(0x57f)](_0x1dd6d2,_0x2f5a71,_0x577d9f),_0x385500;}}catch(_0x5dbfca){this[_0x2c1b18(0x82a)][_0x2c1b18(0x495)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x5dbfca[_0x2c1b18(0x5af)]),_0x5dbfca[_0x2c1b18(0x777)]&&(_0x385500=_0x5dbfca['response'][_0x2c1b18(0x2d7)]);let _0x28d569=_0x1dd6d2['chatLog'][_0x2c1b18(0x733)],_0x2e783a=this[_0x2c1b18(0x407)](_0x385500);return Object[_0x2c1b18(0x7b1)](_0x28d569,_0x2e783a),_0x1dd6d2['chatLog']['realVariables']=_0x28d569,_0x577d9f={'error':!0x0,'errorLog':_0x5dbfca[_0x2c1b18(0x635)](),'apiResponse':_0x385500},this['updateConversation'](_0x1dd6d2,_0x2f5a71,_0x577d9f),{'success':!0x1};}}[a0_0x2a87a6(0x5eb)](_0x28409f,_0x1540b0){const _0x79d35=a0_0x2a87a6;let _0x80e4d3=_0x164d0e=>{const _0x4d8a5e=a0_0xe551;let _0x4ba70d=_0x164d0e[_0x4d8a5e(0x1ee)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x5a93a3=parseFloat(_0x4ba70d);return isNaN(_0x5a93a3)?null:_0x5a93a3;},_0x44b08c=_0x1540b0[_0x79d35(0x671)],_0x31bf59=_0x1540b0[_0x79d35(0x3de)];typeof _0x44b08c=='string'&&(_0x44b08c=this['replaceVariables'](_0x44b08c,_0x28409f['chatLog']['realVariables'])??''),typeof _0x31bf59==_0x79d35(0x634)&&(_0x31bf59=this['replaceVariables'](_0x31bf59,_0x28409f[_0x79d35(0x52f)][_0x79d35(0x733)])??'');let _0x5d324e=null;if(!_0x1540b0[_0x79d35(0x6de)])return null;switch(this[_0x79d35(0x82a)][_0x79d35(0x216)](this[_0x79d35(0x798)]+'\x20('+this[_0x79d35(0x478)][_0x79d35(0x456)]+_0x79d35(0x887)+_0x44b08c),this[_0x79d35(0x82a)][_0x79d35(0x216)](this[_0x79d35(0x798)]+'\x20('+this[_0x79d35(0x478)]['wuid']+_0x79d35(0x3f8)+_0x31bf59),_0x1540b0[_0x79d35(0x6de)]){case'+':case'-':case'*':case'/':let _0x9d9afd=_0x80e4d3(_0x44b08c||'0'),_0x31b60a=_0x80e4d3(_0x31bf59||'0');if(_0x9d9afd===null)return null;switch(_0x1540b0[_0x79d35(0x6de)]){case'+':_0x5d324e=_0x9d9afd+(_0x31b60a??0x0);break;case'-':_0x5d324e=_0x9d9afd-(_0x31b60a??0x0);break;case'*':_0x5d324e=_0x9d9afd*(_0x31b60a??0x1);break;case'/':_0x31b60a!==0x0&&(_0x5d324e=_0x9d9afd/(_0x31b60a??0x1));break;}break;case'findAndReplace':case _0x79d35(0x4b4):let _0x392291=_0x31bf59,_0x115da2=_0x1540b0['replaceValue'];if(typeof _0x115da2==_0x79d35(0x634)&&(_0x115da2=this[_0x79d35(0x51a)](_0x115da2,_0x28409f['chatLog']['realVariables'])??''),_0x392291&&_0x115da2!==void 0x0){let _0x529119=_0x1540b0[_0x79d35(0x6de)]===_0x79d35(0x607)?new RegExp(_0x392291['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x79d35(0x60d)),'g'):new RegExp(_0x392291,'g');_0x5d324e=_0x44b08c[_0x79d35(0x1ee)](_0x529119,_0x115da2);}else console['warn'](_0x79d35(0x657));break;case _0x79d35(0x47a):_0x5d324e=_0x31bf59;break;case _0x79d35(0x153):let _0x4dd8d8=_0x44b08c[_0x79d35(0x72a)](new RegExp(_0x31bf59||''));_0x5d324e=_0x4dd8d8?_0x4dd8d8[0x0]:'';break;case _0x79d35(0x389):_0x5d324e=_0x44b08c[_0x79d35(0x26a)](0x0,parseInt(_0x31bf59||'0'));break;case _0x79d35(0x832):let _0x1882ea=parseInt(_0x31bf59||'0');_0x5d324e=_0x44b08c['slice'](_0x44b08c[_0x79d35(0x30d)]-_0x1882ea);break;case'toBrazilianNumberFormat':let _0x37da1a=_0x80e4d3(_0x44b08c),_0x1324ca=parseInt(_0x31bf59||'0');_0x1324ca=Math['abs'](_0x1324ca),_0x37da1a!==null?_0x5d324e=_0x37da1a[_0x79d35(0x526)](_0x79d35(0x7e1),{'minimumFractionDigits':_0x1324ca,'maximumFractionDigits':_0x1324ca}):(console[_0x79d35(0x3fa)](_0x79d35(0x5ab)+_0x44b08c),_0x5d324e=null);break;case'toBRL':let _0x22be5f=_0x80e4d3(_0x44b08c);_0x22be5f!==null?_0x5d324e=_0x22be5f[_0x79d35(0x526)](_0x79d35(0x7e1),{'style':_0x79d35(0x42a),'currency':_0x79d35(0x28b)}):(console['warn'](_0x79d35(0x645)+_0x44b08c),_0x5d324e=null);break;case'upperCase':_0x5d324e=_0x44b08c[_0x79d35(0x5e8)]();break;case _0x79d35(0x5e0):_0x5d324e=_0x44b08c[_0x79d35(0x203)]();break;case _0x79d35(0x3e0):_0x5d324e=_0x44b08c['split']('\x20')[_0x79d35(0x639)](_0x3deb9b=>_0x3deb9b['charAt'](0x0)[_0x79d35(0x5e8)]()+_0x3deb9b[_0x79d35(0x26a)](0x1)[_0x79d35(0x203)]())[_0x79d35(0x52e)]('\x20');break;case _0x79d35(0x55e):_0x5d324e=_0x44b08c[_0x79d35(0x6b0)]();break;default:_0x5d324e=_0x44b08c;}return _0x5d324e!==null?_0x5d324e[_0x79d35(0x635)]():null;}async[a0_0x2a87a6(0x56d)](_0x19d3f5,_0xab519d){const _0x5a758f=a0_0x2a87a6;try{let _0x2933c2=_0x19d3f5[_0x5a758f(0x743)]?.[_0x5a758f(0x17c)](_0x7285f5=>_0x7285f5['blockId']===_0xab519d[_0x5a758f(0x2f9)]?.[_0x5a758f(0x635)]())||[],_0x4bc4ea=_0xab519d[_0x5a758f(0x15b)],_0x46e65f=null,_0x157da4=[],_0x4db3cc=_0x19d3f5[_0x5a758f(0x52f)][_0x5a758f(0x733)][_0x4bc4ea];_0x157da4[_0x5a758f(0x67c)](_0x5a758f(0x180)+_0x4db3cc+'\x22');for(let _0x4c0f45 of _0x2933c2){_0x4c0f45[_0x5a758f(0x671)]=_0x4db3cc,_0x46e65f=_0x4c0f45[_0x5a758f(0x671)];let _0x325733;try{_0x325733=this[_0x5a758f(0x5eb)](_0x19d3f5,_0x4c0f45);}catch(_0x1b51af){this[_0x5a758f(0x82a)][_0x5a758f(0x495)](_0x5a758f(0x480)+_0x1b51af['message']);continue;}if(_0x325733!==null){let _0xf4bee3=_0x5a758f(0x28f)+_0x4c0f45[_0x5a758f(0x6de)]+'\x22',_0x409e97=['toBRL','upperCase','lowerCase',_0x5a758f(0x3e0),_0x5a758f(0x55e)];_0x4c0f45['editOperator']==='findAndReplace'||_0x4c0f45[_0x5a758f(0x6de)]===_0x5a758f(0x4b4)?_0xf4bee3+=_0x5a758f(0x3a4)+_0x4c0f45['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x4c0f45[_0x5a758f(0x410)]+'\x22':!_0x409e97['includes'](_0x4c0f45['editOperator'])&&_0x4c0f45[_0x5a758f(0x3de)]!==null&&_0x4c0f45['secondValue']!==void 0x0&&(_0xf4bee3+=_0x5a758f(0x81e)+_0x4c0f45['secondValue']+'\x22'),_0xf4bee3+=_0x5a758f(0x3f2)+_0x325733+'.',_0x157da4['push'](_0xf4bee3);}_0x325733!==null&&(_0x4db3cc=_0x325733);}if(_0x19d3f5[_0x5a758f(0x52f)][_0x5a758f(0x733)]&&_0xab519d['saveVariable']){_0x19d3f5[_0x5a758f(0x52f)][_0x5a758f(0x733)][_0xab519d['saveVariable']]=_0x4db3cc;let _0x1253c5={'variable':_0xab519d[_0x5a758f(0x15b)],'oldValue':_0x46e65f,'newValue':_0x4db3cc,'moreLogs':_0x157da4};try{this['updateConversation'](_0x19d3f5,_0xab519d,_0x1253c5);}catch(_0x34e9f8){this['logger'][_0x5a758f(0x495)](_0x5a758f(0x1b6)+_0x34e9f8[_0x5a758f(0x5af)]);}}return _0x4bc4ea;}catch(_0x4386c4){return this['logger'][_0x5a758f(0x495)](_0x5a758f(0x1c3)+_0x4386c4[_0x5a758f(0x5af)]),null;}}async['processConditions'](_0x182eff,_0x5ab46d){const _0x16e035=a0_0x2a87a6;try{let _0x109896=[],_0x3de8db=_0x182eff[_0x16e035(0x80b)][_0x16e035(0x17c)](_0x1cd655=>_0x1cd655['blockId']===_0x5ab46d[_0x16e035(0x2f9)][_0x16e035(0x635)]()),_0x434d83=null,_0x5bccc8=!0x1;for(let _0x27a2e7 of _0x3de8db){let _0x177df4=this[_0x16e035(0x604)](_0x182eff,_0x27a2e7);_0x109896['push'](_0x16e035(0x45d)+_0x27a2e7[_0x16e035(0x671)]+',\x20Comparador:\x20'+_0x27a2e7[_0x16e035(0x370)]+_0x16e035(0x713)+_0x27a2e7['secondValue']+',\x20Resultado:\x20'+_0x177df4),_0x434d83===null?_0x434d83=_0x177df4:_0x27a2e7[_0x16e035(0x329)]===_0x16e035(0x39d)?(_0x434d83=_0x434d83&&_0x177df4,_0x177df4||(_0x5bccc8=!0x0)):_0x27a2e7[_0x16e035(0x329)]==='or'&&(_0x5bccc8||(_0x434d83=_0x434d83||_0x177df4));}_0x434d83===null&&(_0x434d83=!0x0);let _0x2d41be={'moreLogs':_0x109896};_0x182eff[_0x16e035(0x52f)][_0x16e035(0x381)]=_0x434d83,await this[_0x16e035(0x57f)](_0x182eff,_0x5ab46d,_0x2d41be);}catch(_0x74fada){this['logger']['error'](this[_0x16e035(0x798)]+'\x20('+this['instance']['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+(_0x74fada instanceof Error?_0x74fada[_0x16e035(0x5af)]:JSON['stringify'](_0x74fada,null,0x2)));}}[a0_0x2a87a6(0x604)](_0x558154,_0x42d898){const _0x41aa72=a0_0x2a87a6;let _0xf06a3e=_0x42d898['firstValue'],_0x460c4c=_0x42d898[_0x41aa72(0x3de)];typeof _0xf06a3e==_0x41aa72(0x634)&&(_0xf06a3e=this[_0x41aa72(0x51a)](_0xf06a3e,_0x558154[_0x41aa72(0x52f)]['realVariables'])??''),typeof _0x460c4c=='string'&&(_0x460c4c=this[_0x41aa72(0x51a)](_0x460c4c,_0x558154['chatLog'][_0x41aa72(0x733)])??'');try{switch(_0x42d898['expression']){case _0x41aa72(0x2e6):return _0xf06a3e===_0x460c4c;case'notEqual':return _0xf06a3e!==_0x460c4c;case _0x41aa72(0x1a9):return this['contains'](_0xf06a3e,_0x460c4c);case'notContains':return!this[_0x41aa72(0x1a9)](_0xf06a3e,_0x460c4c);case _0x41aa72(0x1ad):return parseFloat(_0xf06a3e)>parseFloat(_0x460c4c);case _0x41aa72(0x19e):return parseFloat(_0xf06a3e)<parseFloat(_0x460c4c);case'notEmpty':return _0xf06a3e!=='';case _0x41aa72(0x223):return _0xf06a3e==='';case _0x41aa72(0x754):return new RegExp(_0x460c4c)[_0x41aa72(0x4a8)](_0xf06a3e);case _0x41aa72(0x85f):return!new RegExp(_0x460c4c)['test'](_0xf06a3e);default:return!0x1;}}catch(_0x2bcb1f){return this[_0x41aa72(0x82a)][_0x41aa72(0x495)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x2bcb1f),!0x1;}}[a0_0x2a87a6(0x1a9)](_0x4fe8d8,_0x38c412){const _0x585fed=a0_0x2a87a6;if(_0x4fe8d8===_0x38c412&&/^\d+$/[_0x585fed(0x4a8)](_0x4fe8d8))return!0x0;if(this['isListOfNumbers'](_0x4fe8d8)&&/^\d+$/[_0x585fed(0x4a8)](_0x38c412)){let _0x345ef1=_0x4fe8d8[_0x585fed(0x259)](',')[_0x585fed(0x639)](_0x3fbb92=>parseInt(_0x3fbb92[_0x585fed(0x6b0)]())),_0x132f54=parseInt(_0x38c412);return _0x345ef1[_0x585fed(0x708)](_0x132f54);}return _0x4fe8d8[_0x585fed(0x708)](_0x38c412);}[a0_0x2a87a6(0x7e9)](_0x16f551){const _0x571562=a0_0x2a87a6;return/^\d+(,\d+)*$/[_0x571562(0x4a8)](_0x16f551);}[a0_0x2a87a6(0x167)](_0x109193){const _0x2a1dfb=a0_0x2a87a6;let _0x44f597=!0x0,_0x3926fb=null;for(let _0x6e224c of _0x109193){let _0x37ebcd=this[_0x2a1dfb(0x539)](_0x6e224c);if(_0x3926fb==='or'&&_0x37ebcd){_0x44f597=!0x0;break;}if(_0x3926fb==='and'&&!_0x37ebcd){_0x44f597=!0x1;break;}_0x3926fb=_0x6e224c[_0x2a1dfb(0x329)];}return _0x44f597;}['evaluateConditionTest'](_0x3e67ff){const _0x4f4a50=a0_0x2a87a6;let _0x5c0bb9=_0x3e67ff[_0x4f4a50(0x671)],_0x1247b6=_0x3e67ff[_0x4f4a50(0x3de)];try{switch(_0x3e67ff[_0x4f4a50(0x370)]){case _0x4f4a50(0x2e6):return String(_0x5c0bb9)===String(_0x1247b6);case _0x4f4a50(0x71c):return String(_0x5c0bb9)!==String(_0x1247b6);case _0x4f4a50(0x1a9):return String(_0x5c0bb9)[_0x4f4a50(0x708)](String(_0x1247b6));case'notContains':return!String(_0x5c0bb9)[_0x4f4a50(0x708)](String(_0x1247b6));case'greater':return parseFloat(String(_0x5c0bb9))>parseFloat(String(_0x1247b6));case _0x4f4a50(0x19e):return parseFloat(String(_0x5c0bb9))<parseFloat(String(_0x1247b6));case _0x4f4a50(0x806):return String(_0x5c0bb9)!=='';case _0x4f4a50(0x223):return String(_0x5c0bb9)==='';case'matchRegex':return new RegExp(String(_0x1247b6))[_0x4f4a50(0x4a8)](String(_0x5c0bb9));case _0x4f4a50(0x85f):return!new RegExp(String(_0x1247b6))[_0x4f4a50(0x4a8)](String(_0x5c0bb9));default:return!0x1;}}catch(_0x4b455a){return this[_0x4f4a50(0x82a)][_0x4f4a50(0x495)](_0x4f4a50(0x535)+_0x4b455a),!0x1;}}async['saveTextReply'](_0xb1f5d2,_0x1e7912){const _0x4b6f8f=a0_0x2a87a6;if(this[_0x4b6f8f(0x82a)]['verbose'](this[_0x4b6f8f(0x798)]+'\x20('+this[_0x4b6f8f(0x478)][_0x4b6f8f(0x456)]+_0x4b6f8f(0x644)),!_0xb1f5d2||!_0x1e7912)return this[_0x4b6f8f(0x82a)]['error'](this[_0x4b6f8f(0x798)]+'\x20('+this[_0x4b6f8f(0x478)][_0x4b6f8f(0x456)]+_0x4b6f8f(0x6a4)),null;let _0x26e196=_0xb1f5d2[_0x4b6f8f(0x52f)]['lastReceivedMessage'][_0x4b6f8f(0x349)]['id'];this[_0x4b6f8f(0x82a)][_0x4b6f8f(0x216)](this[_0x4b6f8f(0x798)]+'\x20('+this[_0x4b6f8f(0x478)][_0x4b6f8f(0x456)]+_0x4b6f8f(0x787)+_0x26e196);let _0x14015c={'key':{'id':_0x26e196}},_0x29a6bf=_0x1e7912[_0x4b6f8f(0x15b)];_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x733)]['_'+_0x29a6bf+'.fileUrl']=null,_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x733)]['_'+_0x29a6bf+_0x4b6f8f(0x81a)]=null,_0xb1f5d2[_0x4b6f8f(0x52f)]['realVariables']['_'+_0x29a6bf+'.extension']=null,_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x733)]['_'+_0x29a6bf+_0x4b6f8f(0x188)]=_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x730)][_0x4b6f8f(0x3c1)];try{let _0x5ef280=await this[_0x4b6f8f(0x5d0)](_0x14015c);this['logger'][_0x4b6f8f(0x216)](this[_0x4b6f8f(0x798)]+'\x20('+this[_0x4b6f8f(0x478)]['wuid']+_0x4b6f8f(0x545)),_0xb1f5d2[_0x4b6f8f(0x52f)]['realVariables']['_'+_0x29a6bf+'.url']=_0x5ef280['fileUrl'],_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x733)]['_'+_0x29a6bf+_0x4b6f8f(0x81a)]=_0x5ef280[_0x4b6f8f(0x65a)];let _0x506bda=_0x5ef280['mimetype'][_0x4b6f8f(0x72a)](/\/(\w+)$/),_0x53c45c=_0x506bda?_0x506bda[0x1]:null;_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x733)]['_'+_0x29a6bf+_0x4b6f8f(0x7c6)]=_0x53c45c,this[_0x4b6f8f(0x82a)][_0x4b6f8f(0x216)](this[_0x4b6f8f(0x798)]+'\x20('+this[_0x4b6f8f(0x478)]['wuid']+_0x4b6f8f(0x1f2)+_0x29a6bf+'\x27.');}catch(_0x4127a9){this['logger']['error'](this[_0x4b6f8f(0x798)]+'\x20('+this[_0x4b6f8f(0x478)]['wuid']+_0x4b6f8f(0x2a7)+_0x4127a9['message']);}let _0x5841fb=_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x730)][_0x4b6f8f(0x210)]||_0xb1f5d2[_0x4b6f8f(0x52f)]['lastReceivedMessage'][_0x4b6f8f(0x784)]||_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x730)][_0x4b6f8f(0x331)];try{_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x733)]||(_0xb1f5d2['chatLog'][_0x4b6f8f(0x733)]={});let _0x278688=_0xb1f5d2[_0x4b6f8f(0x52f)]['realVariables'][_0x29a6bf];_0xb1f5d2[_0x4b6f8f(0x52f)][_0x4b6f8f(0x733)][_0x29a6bf]=_0x5841fb;let _0x520d46={'variable':_0x29a6bf,'oldValue':_0x278688,'newValue':_0x5841fb};this[_0x4b6f8f(0x57f)](_0xb1f5d2,_0x1e7912,_0x520d46),this[_0x4b6f8f(0x82a)][_0x4b6f8f(0x216)](this[_0x4b6f8f(0x798)]+'\x20('+this[_0x4b6f8f(0x478)][_0x4b6f8f(0x456)]+_0x4b6f8f(0x369));}catch(_0x423ec6){let _0x3b05c0={'error':!0x0,'errorLog':_0x423ec6['toString']()};return this['updateConversation'](_0xb1f5d2,_0x1e7912,_0x3b05c0),this[_0x4b6f8f(0x82a)][_0x4b6f8f(0x495)](this['instanceName']+'\x20('+this[_0x4b6f8f(0x478)]['wuid']+_0x4b6f8f(0x63c)+(_0x423ec6 instanceof Error?_0x423ec6[_0x4b6f8f(0x5af)]:JSON[_0x4b6f8f(0x15a)](_0x423ec6,null,0x2))),null;}}async[a0_0x2a87a6(0x73a)](_0x3e1ff0,_0x4d7897){const _0x35b17c=a0_0x2a87a6;if(this[_0x35b17c(0x82a)][_0x35b17c(0x216)](this[_0x35b17c(0x798)]+'\x20('+this[_0x35b17c(0x478)][_0x35b17c(0x456)]+_0x35b17c(0x66b)),!_0x3e1ff0||!_0x4d7897)return this[_0x35b17c(0x82a)]['error'](this[_0x35b17c(0x798)]+'\x20('+this[_0x35b17c(0x478)][_0x35b17c(0x456)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2a6e19=Date[_0x35b17c(0x810)](),_0x133213=parseInt(_0x4d7897[_0x35b17c(0x3e4)],0xa);if(isNaN(_0x133213))return this[_0x35b17c(0x82a)][_0x35b17c(0x495)](this[_0x35b17c(0x798)]+'\x20('+this['instance'][_0x35b17c(0x456)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x101f80={'newStoppedUntil':_0x2a6e19+_0x133213*0x3c*0x3e8};return await this['updateConversation'](_0x3e1ff0,_0x4d7897,_0x101f80,!0x0),null;}async[a0_0x2a87a6(0x1b8)](_0x13d081,_0x369a85){const _0x56eb5a=a0_0x2a87a6;try{switch(_0x369a85[_0x56eb5a(0x20d)][_0x56eb5a(0x422)]){case _0x56eb5a(0x3d9):await this[_0x56eb5a(0x80d)](_0x13d081,_0x369a85);break;case'sendMedia':await this['uazapiSendMedia'](_0x13d081,_0x369a85);break;case'sendLocation':await this[_0x56eb5a(0x336)](_0x13d081,_0x369a85);break;case _0x56eb5a(0x63a):await this['uazapiSendAudio'](_0x13d081,_0x369a85);break;case _0x56eb5a(0x5c4):await this[_0x56eb5a(0x63f)](_0x13d081,_0x369a85);break;case _0x56eb5a(0x23b):await this['uazapiSendMenu'](_0x13d081,_0x369a85);break;case'sendMenu':await this[_0x56eb5a(0x310)](_0x13d081,_0x369a85);break;case _0x56eb5a(0x3bc):await this[_0x56eb5a(0x3a2)](_0x13d081,_0x369a85);break;default:this['logger'][_0x56eb5a(0x495)](this[_0x56eb5a(0x798)]+'\x20('+this[_0x56eb5a(0x478)][_0x56eb5a(0x456)]+_0x56eb5a(0x1b1)+_0x369a85[_0x56eb5a(0x20d)][_0x56eb5a(0x422)]);}}catch(_0x2153af){this['logger'][_0x56eb5a(0x495)](this[_0x56eb5a(0x798)]+'\x20('+this[_0x56eb5a(0x478)][_0x56eb5a(0x456)]+_0x56eb5a(0x27b)+(_0x2153af instanceof Error?_0x2153af[_0x56eb5a(0x5af)]:JSON[_0x56eb5a(0x15a)](_0x2153af,null,0x2)));}}async[a0_0x2a87a6(0x57f)](_0x4459e4,_0x3e7ab1,_0x18da62,_0x3ba032=!0x1,_0x2cf207=!0x1){const _0x3df5ab=a0_0x2a87a6;_0x4459e4['chatLog']['blockLogs']||(_0x4459e4[_0x3df5ab(0x52f)]['blockLogs']=[]);let _0x5c18dd=(_0x4459e4['chatLog'][_0x3df5ab(0x505)]?.['length']??0x0)+0x1,_0x20d73c=_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x505)][_0x3df5ab(0x17c)](_0x3540cd=>String(_0x3540cd[_0x3df5ab(0x575)])===String(_0x3e7ab1[_0x3df5ab(0x2f9)]))[_0x3df5ab(0x30d)]+0x1,_0x672eb8=_0x18da62?.[_0x3df5ab(0x351)]??Date['now'](),_0x25ae90=_0x18da62?.[_0x3df5ab(0x495)]?_0x18da62[_0x3df5ab(0x676)]??_0x18da62[_0x3df5ab(0x495)][_0x3df5ab(0x635)]():void 0x0,_0x290399={'onTime':_0x672eb8,'blockId':_0x3e7ab1['_id'],'order':_0x5c18dd,'activatedCount':_0x20d73c,'error':_0x18da62?.[_0x3df5ab(0x495)]??!0x1,'messageId':_0x18da62?.[_0x3df5ab(0x800)],'apiResponse':_0x18da62?.[_0x3df5ab(0x354)],'apiResponseString':_0x18da62?.[_0x3df5ab(0x354)]?JSON[_0x3df5ab(0x15a)](_0x18da62?.[_0x3df5ab(0x354)]):void 0x0,'variable':_0x18da62?.[_0x3df5ab(0x222)],'oldValue':_0x18da62?.[_0x3df5ab(0x4d0)],'newValue':_0x18da62?.[_0x3df5ab(0x249)],'newStoppedUntil':_0x18da62?.[_0x3df5ab(0x859)],'moreLogs':_0x18da62?.[_0x3df5ab(0x6b3)],'errorLog':_0x25ae90};if(_0x18da62['moreLogs']&&_0x18da62[_0x3df5ab(0x6b3)][_0x3df5ab(0x30d)]>0x0){let _0x5166f8=_0x18da62[_0x3df5ab(0x6b3)][_0x3df5ab(0x639)](_0x4fd3d4=>this[_0x3df5ab(0x521)](_0x4fd3d4,_0x4459e4[_0x3df5ab(0x52f)]['realVariables']));_0x290399['moreLogs']=_0x5166f8;}if(_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x733)]||(_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x733)]={}),_0x4459e4['chatLog'][_0x3df5ab(0x733)][_0x3df5ab(0x6ab)]=String(_0x20d73c),_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x733)][_0x3df5ab(0x4ad)]=String(_0x18da62[_0x3df5ab(0x495)]??!0x1),_0x4459e4['chatLog'][_0x3df5ab(0x505)][_0x3df5ab(0x67c)](_0x290399),_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x733)]['telefone']&&_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x733)]['telefone']!==_0x4459e4[_0x3df5ab(0x6f5)]){let _0x40fb53=(await this[_0x3df5ab(0x7e0)]({'numbers':[_0x4459e4[_0x3df5ab(0x52f)]['realVariables']['telefone']]}))[0x0][_0x3df5ab(0x174)];_0x4459e4['chatLog']['realVariables'][_0x3df5ab(0x663)]=_0x40fb53,_0x4459e4[_0x3df5ab(0x6f5)]=_0x40fb53;try{let _0x29acb0={'_id':{'$ne':_0x4459e4[_0x3df5ab(0x2f9)]},'remoteJid':_0x40fb53,'status':_0x3df5ab(0x2cd)},_0x2859a9={'status':_0x3df5ab(0x895)};await this[_0x3df5ab(0x6ae)][_0x3df5ab(0x2f7)][_0x3df5ab(0x5f5)](_0x29acb0,_0x2859a9,this[_0x3df5ab(0x478)]['wuid']),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3df5ab(0x478)][_0x3df5ab(0x456)]+_0x3df5ab(0x71f));}catch(_0x52ae5c){this['logger'][_0x3df5ab(0x495)](this[_0x3df5ab(0x798)]+'\x20('+this[_0x3df5ab(0x478)]['wuid']+_0x3df5ab(0x4dd)+_0x52ae5c[_0x3df5ab(0x5af)]);}try{let _0x3c5b21=_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x733)],_0x2ac3ed=await this[_0x3df5ab(0x7ff)](_0x40fb53),_0x74646b={..._0x3c5b21,..._0x2ac3ed,'_remoteJid':_0x40fb53};_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x733)]=_0x74646b;}catch(_0x1ccef2){this[_0x3df5ab(0x82a)][_0x3df5ab(0x495)](this['instanceName']+'\x20('+this[_0x3df5ab(0x478)][_0x3df5ab(0x456)]+_0x3df5ab(0x834)+_0x1ccef2['message']);}}_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x7f0)]=_0x3e7ab1[_0x3df5ab(0x2f9)][_0x3df5ab(0x635)](),_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x24d)]&&(_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x24d)]=_0x4459e4[_0x3df5ab(0x52f)]['lastSendMessage']),_0x4459e4[_0x3df5ab(0x52f)]['lastReceivedMessage']&&(_0x4459e4['chatLog'][_0x3df5ab(0x730)]=_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x730)]),_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x381)]&&(_0x4459e4[_0x3df5ab(0x52f)][_0x3df5ab(0x381)]=_0x4459e4['chatLog']['lastCondition']),_0x2cf207&&(_0x4459e4['status']=_0x3df5ab(0x895)),_0x3ba032?this[_0x3df5ab(0x695)](_0x4459e4):this[_0x3df5ab(0x373)](_0x4459e4,_0x3e7ab1);}[a0_0x2a87a6(0x521)](_0x944692,_0x450b87){const _0x242eb1=a0_0x2a87a6;return _0x944692[_0x242eb1(0x1ee)](/\{\{([^}]+)\}\}/g,(_0x253c72,_0x4db0ce)=>_0x450b87[_0x4db0ce]?'{{'+_0x4db0ce+_0x242eb1(0x5a7)+_0x450b87[_0x4db0ce]+'\x22':'{{'+_0x4db0ce+_0x242eb1(0x53e));}async[a0_0x2a87a6(0x695)](_0x2430c7){const _0x2a926d=a0_0x2a87a6;try{let _0x4fd5f9=Object[_0x2a926d(0x58a)](_0x2430c7[_0x2a926d(0x52f)][_0x2a926d(0x733)])[_0x2a926d(0x639)](([_0x2fc9ba,_0x28a594])=>({'name':_0x2fc9ba,'value':_0x28a594})),_0x53ec03={'status':_0x2430c7[_0x2a926d(0x5f7)],'remoteJid':_0x2430c7[_0x2a926d(0x6f5)],'blocks':_0x2430c7['blocks'],'waitingMenu_id':_0x2430c7[_0x2a926d(0x61b)],'waitingMenu_text':_0x2430c7[_0x2a926d(0x4ac)],'waitingMenu_replyOptions':_0x2430c7['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x2430c7[_0x2a926d(0x52f)][_0x2a926d(0x7f0)],'lastSendMessage':_0x2430c7['chatLog'][_0x2a926d(0x24d)],'lastReceivedMessage':_0x2430c7[_0x2a926d(0x52f)][_0x2a926d(0x730)],'lastCondition':_0x2430c7[_0x2a926d(0x52f)][_0x2a926d(0x381)],'chatVariables':_0x4fd5f9,'realVariables':_0x2430c7[_0x2a926d(0x52f)]['realVariables'],'blockLogs':_0x2430c7['chatLog'][_0x2a926d(0x505)]}},_0x290044=await this[_0x2a926d(0x6ae)]['flowConversation'][_0x2a926d(0x768)](_0x2430c7[_0x2a926d(0x2f9)],_0x53ec03,this[_0x2a926d(0x478)][_0x2a926d(0x456)]);if(_0x290044){this[_0x2a926d(0x82a)][_0x2a926d(0x216)](this[_0x2a926d(0x798)]+'\x20('+this[_0x2a926d(0x478)][_0x2a926d(0x456)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x290044['_id']);try{let _0x555317=[_0x2a926d(0x224),_0x2a926d(0x427),_0x2a926d(0x3fd),_0x2a926d(0x7a6),_0x2a926d(0x5f7),_0x2a926d(0x372),_0x2a926d(0x58b),_0x2a926d(0x898),_0x2a926d(0x6e6),_0x2a926d(0x201)];if(!this[_0x2a926d(0x77d)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error(_0x2a926d(0x421));let _0x4a2498=this['AutomateSystem']?.[_0x2a926d(0x248)]['map'](_0xdfe77c=>_0xdfe77c[_0x2a926d(0x366)]),_0x4ec281={};Object[_0x2a926d(0x58a)](_0x2430c7[_0x2a926d(0x52f)][_0x2a926d(0x733)])[_0x2a926d(0x32f)](([_0x2f24e9,_0x4484f0])=>{const _0x3411da=_0x2a926d;_0x555317[_0x3411da(0x708)](_0x2f24e9)&&(_0x2f24e9===_0x3411da(0x898)&&typeof _0x4484f0==_0x3411da(0x634)?_0x4ec281[_0x2f24e9]=_0x4484f0['split'](',')[_0x3411da(0x639)](_0x136c72=>_0x136c72[_0x3411da(0x6b0)]())[_0x3411da(0x17c)](_0x5c99ec=>_0x5c99ec!==''):_0x2f24e9===_0x3411da(0x6e6)&&typeof _0x4484f0=='string'?_0x4ec281[_0x2f24e9]=_0x4484f0['split'](',')[_0x3411da(0x639)](_0x2cad59=>_0x2cad59[_0x3411da(0x6b0)]())[_0x3411da(0x17c)](_0xdbb88=>_0xdbb88!==''):_0x4ec281[_0x2f24e9]=_0x4484f0);});let _0x5de337=_0x2430c7[_0x2a926d(0x52f)][_0x2a926d(0x505)][_0x2430c7[_0x2a926d(0x52f)]['blockLogs'][_0x2a926d(0x30d)]-0x1];if(_0x5de337){let _0x15b88c=_0x5de337[_0x2a926d(0x859)];_0x15b88c!==void 0x0&&(_0x4ec281[_0x2a926d(0x744)]=_0x15b88c[_0x2a926d(0x635)]());}let _0x4e1785=_0x4fd5f9[_0x2a926d(0x17c)](_0x44c7b8=>_0x4a2498[_0x2a926d(0x708)](_0x44c7b8[_0x2a926d(0x366)]));this['logger'][_0x2a926d(0x216)](this[_0x2a926d(0x798)]+'\x20('+this['instance'][_0x2a926d(0x456)]+'):\x20leadInfoVariables'),this[_0x2a926d(0x82a)]['verbose'](_0x4ec281),this[_0x2a926d(0x82a)][_0x2a926d(0x216)](this[_0x2a926d(0x798)]+'\x20('+this['instance'][_0x2a926d(0x456)]+'):\x20customFieldVariables'),this[_0x2a926d(0x82a)][_0x2a926d(0x216)](_0x4e1785);let _0x3fdde5=_0x4e1785[_0x2a926d(0x639)](_0x5f20ff=>{const _0x4cbf6c=_0x2a926d;let _0x37ee28=this['AutomateSystem']?.[_0x4cbf6c(0x248)][_0x4cbf6c(0x2f6)](_0x443c28=>_0x443c28[_0x4cbf6c(0x366)]===_0x5f20ff[_0x4cbf6c(0x366)]);if(!_0x37ee28)throw new Error(_0x4cbf6c(0x177)+_0x5f20ff[_0x4cbf6c(0x366)]);return{'_id':_0x37ee28[_0x4cbf6c(0x2f9)],'value':_0x5f20ff[_0x4cbf6c(0x288)]};});this[_0x2a926d(0x82a)][_0x2a926d(0x216)](this['instanceName']+'\x20('+this[_0x2a926d(0x478)][_0x2a926d(0x456)]+'):\x20transformedCustomFieldVariables'),this[_0x2a926d(0x82a)][_0x2a926d(0x216)](_0x3fdde5),await this[_0x2a926d(0x4a6)](_0x2430c7[_0x2a926d(0x6f5)],_0x4ec281,_0x3fdde5);}catch(_0x47dab5){this[_0x2a926d(0x82a)]['error'](this[_0x2a926d(0x798)]+'\x20('+this[_0x2a926d(0x478)][_0x2a926d(0x456)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x47dab5 instanceof Error?_0x47dab5[_0x2a926d(0x5af)]:JSON['stringify'](_0x47dab5,null,0x2)));}}else this[_0x2a926d(0x82a)][_0x2a926d(0x495)](this['instanceName']+'\x20('+this[_0x2a926d(0x478)][_0x2a926d(0x456)]+_0x2a926d(0x1da));}catch(_0x353e75){this[_0x2a926d(0x82a)][_0x2a926d(0x495)](this[_0x2a926d(0x798)]+'\x20('+this[_0x2a926d(0x478)][_0x2a926d(0x456)]+_0x2a926d(0x1de)+(_0x353e75 instanceof Error?_0x353e75[_0x2a926d(0x5af)]:JSON[_0x2a926d(0x15a)](_0x353e75,null,0x2)));}}async['saveChatVariables'](_0x4a401a,_0x2b4334,_0x4bca35){const _0xbb9878=a0_0x2a87a6;try{let _0x129a15={'leadInfo.leadnome':_0x2b4334['nome'],'leadInfo.nomecompleto':_0x2b4334[_0xbb9878(0x427)],'leadInfo.email':_0x2b4334['email'],'leadInfo.cpf':_0x2b4334['cpf'],'leadInfo.status':_0x2b4334[_0xbb9878(0x5f7)],'leadInfo.notas':_0x2b4334[_0xbb9878(0x372)],'leadInfo.responsavelid':_0x2b4334[_0xbb9878(0x58b)],'leadInfo.tags':_0x2b4334[_0xbb9878(0x898)],'leadInfo.etiquetas':_0x2b4334['etiquetas'],'leadInfo.customFields':_0x4bca35,'leadInfo.atendimentoAberto':_0x2b4334[_0xbb9878(0x201)]},_0x3e9126=await this['repository'][_0xbb9878(0x6eb)][_0xbb9878(0x654)]({'where':{'_id':_0x4a401a}},this['instance'][_0xbb9878(0x456)]);if(!_0x3e9126)return _0xbb9878(0x4d2);let _0x3401ad=new Set(_0x3e9126[_0xbb9878(0x441)]['etiquetas']||[]),_0x3aeac2=new Set(_0x2b4334[_0xbb9878(0x6e6)]||[]),_0x2ba581=await this[_0xbb9878(0x6ae)][_0xbb9878(0x61e)]['find']({'where':{}},this[_0xbb9878(0x478)][_0xbb9878(0x456)]),_0x17bd9c=new Set(_0x2ba581[_0xbb9878(0x639)](_0x243fca=>_0x243fca[_0xbb9878(0x2f9)])),_0x355bad=[..._0x3aeac2][_0xbb9878(0x17c)](_0x2317d6=>!_0x3401ad[_0xbb9878(0x45e)](_0x2317d6)&&_0x17bd9c['has'](_0x2317d6)),_0x530e26=[..._0x3401ad][_0xbb9878(0x17c)](_0x27bbaf=>!_0x3aeac2[_0xbb9878(0x45e)](_0x27bbaf));for(let _0xee1125 of _0x355bad)await this[_0xbb9878(0x78d)](_0xee1125,_0x3e9126[_0xbb9878(0x2f9)]),_0x3401ad[_0xbb9878(0x136)](_0xee1125);for(let _0x4d3d4c of _0x530e26)await this[_0xbb9878(0x65c)](_0x4d3d4c,_0x3e9126[_0xbb9878(0x2f9)]),_0x3401ad[_0xbb9878(0x17e)](_0x4d3d4c);if(_0xbb9878(0x744)in _0x2b4334){let _0x161386=_0x2b4334[_0xbb9878(0x744)];_0x129a15[_0xbb9878(0x845)]=_0x161386?Number(_0x161386):null;}if(_0xbb9878(0x201)in _0x2b4334){let _0x374d7e=_0x2b4334[_0xbb9878(0x201)][_0xbb9878(0x203)]();_0x129a15['leadInfo.atendimentoAberto']=_0x374d7e===_0xbb9878(0x5c0)||_0x374d7e==='1'||_0x374d7e==='yes'||_0x374d7e===_0xbb9878(0x230);}let _0x510175=await this['repository'][_0xbb9878(0x6eb)][_0xbb9878(0x768)]({'where':{'_id':_0x4a401a}},_0x129a15,this[_0xbb9878(0x478)][_0xbb9878(0x456)]);_0x510175?(this[_0xbb9878(0x82a)][_0xbb9878(0x216)](this['instanceName']+'\x20('+this[_0xbb9878(0x478)][_0xbb9878(0x456)]+_0xbb9878(0x417)+_0x510175['_id']),q(this['instanceName'],'chats',{'chat':_0x510175})):this[_0xbb9878(0x82a)]['error'](this['instanceName']+'\x20('+this[_0xbb9878(0x478)]['wuid']+_0xbb9878(0x6e9));}catch(_0x4305fa){this[_0xbb9878(0x82a)][_0xbb9878(0x495)](this[_0xbb9878(0x798)]+'\x20('+this[_0xbb9878(0x478)][_0xbb9878(0x456)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x4305fa instanceof Error?_0x4305fa['message']:JSON[_0xbb9878(0x15a)](_0x4305fa,null,0x2)));}}async[a0_0x2a87a6(0x2d2)](_0x390220,_0x42f37e){const _0x88e9fa=a0_0x2a87a6;this[_0x88e9fa(0x82a)][_0x88e9fa(0x216)](this[_0x88e9fa(0x798)]+'\x20('+this['instance']['wuid']+_0x88e9fa(0x2a5)+_0x42f37e);try{let _0x52520e=await this[_0x88e9fa(0x6ae)]['chat']['updateOne']({'where':{'_id':_0x390220[_0x88e9fa(0x6f5)]}},{'leadInfo.desativadoFluxoAte':_0x42f37e},this['instance']['wuid']);this[_0x88e9fa(0x82a)][_0x88e9fa(0x216)](this['instanceName']+'\x20('+this['instance'][_0x88e9fa(0x456)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x390220['_id']),this[_0x88e9fa(0x82a)][_0x88e9fa(0x216)](this[_0x88e9fa(0x798)]+'\x20('+this[_0x88e9fa(0x478)][_0x88e9fa(0x456)]+'):\x20atualização\x20chat:\x20'+JSON[_0x88e9fa(0x15a)](_0x52520e,null,0x2)),_0x52520e&&q(this[_0x88e9fa(0x798)],_0x88e9fa(0x707),{'chat':_0x52520e});}catch(_0x21c7bf){this['logger'][_0x88e9fa(0x495)](this['instanceName']+'\x20('+this[_0x88e9fa(0x478)][_0x88e9fa(0x456)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x21c7bf instanceof Error?_0x21c7bf['message']:JSON[_0x88e9fa(0x15a)](_0x21c7bf,null,0x2)));}}async[a0_0x2a87a6(0x190)](_0x52dd3f){const _0x2f042f=a0_0x2a87a6;try{this[_0x2f042f(0x82a)]['verbose'](this[_0x2f042f(0x798)]+'\x20('+this['instance'][_0x2f042f(0x456)]+_0x2f042f(0x5d4));let _0x32172d=_0x52dd3f['replace'](/\D/g,''),_0x55e404=this[_0x2f042f(0x77d)][_0x2f042f(0x70a)][_0x2f042f(0x2f6)](_0x562895=>_0x562895['testingWith']===_0x32172d);if(_0x55e404||(this[_0x2f042f(0x82a)][_0x2f042f(0x216)](this[_0x2f042f(0x798)]+'\x20('+this['instance'][_0x2f042f(0x456)]+_0x2f042f(0x69a)),_0x55e404=this[_0x2f042f(0x77d)][_0x2f042f(0x70a)][_0x2f042f(0x2f6)](_0x1509a3=>_0x1509a3[_0x2f042f(0x667)]===!0x0)),!_0x55e404)return this['logger'][_0x2f042f(0x216)](this[_0x2f042f(0x798)]+'\x20('+this[_0x2f042f(0x478)]['wuid']+_0x2f042f(0x23c)),null;let _0x100635=await this[_0x2f042f(0x6ae)][_0x2f042f(0x452)][_0x2f042f(0x654)]({'where':{'_id':_0x55e404[_0x2f042f(0x2f9)]}});if(!_0x100635||!_0x100635[_0x2f042f(0x718)]?.[_0x2f042f(0x708)](this[_0x2f042f(0x478)][_0x2f042f(0x456)]))throw this[_0x2f042f(0x82a)][_0x2f042f(0x495)](this[_0x2f042f(0x798)]+'\x20('+this[_0x2f042f(0x478)]['wuid']+_0x2f042f(0x55d)+_0x100635['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2f042f(0x371)+_0x100635[_0x2f042f(0x2f9)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x100635;}catch(_0x1c8da5){return this['logger'][_0x2f042f(0x495)](this[_0x2f042f(0x798)]+'\x20('+this[_0x2f042f(0x478)][_0x2f042f(0x456)]+_0x2f042f(0x515)+(_0x1c8da5 instanceof Error?_0x1c8da5['message']:JSON[_0x2f042f(0x15a)](_0x1c8da5,null,0x2))),null;}}async[a0_0x2a87a6(0x408)](_0x10ed83,_0x20e463){const _0x23ac78=a0_0x2a87a6;try{let _0x4eb72a=!!_0x20e463[_0x23ac78(0x331)],_0x25b0d5=_0x20e463[_0x23ac78(0x7c2)],_0x5bd2f9=null;if(this[_0x23ac78(0x82a)][_0x23ac78(0x216)](this[_0x23ac78(0x798)]+'\x20('+this['instance'][_0x23ac78(0x456)]+_0x23ac78(0x2c9)+_0x4eb72a+_0x23ac78(0x23a)+_0x25b0d5),_0x4eb72a){this[_0x23ac78(0x82a)]['verbose'](this[_0x23ac78(0x798)]+'\x20('+this['instance']['wuid']+_0x23ac78(0x3fc));let _0x14a0e4={'where':{'remoteJid':_0x10ed83,'waitingMenu_id':_0x25b0d5}};if(_0x5bd2f9=await this[_0x23ac78(0x6ae)][_0x23ac78(0x2f7)][_0x23ac78(0x654)](_0x14a0e4,this['instance'][_0x23ac78(0x456)]),!_0x5bd2f9)return this[_0x23ac78(0x82a)][_0x23ac78(0x216)](this[_0x23ac78(0x798)]+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+'):\x20não\x20encontrou'),null;let _0xde6bf=Date[_0x23ac78(0x810)](),_0x2d9ec8=_0x5bd2f9?.[_0x23ac78(0x6c1)]||0x0,_0x8b6626=_0xde6bf-_0x2d9ec8*0x3c*0x3e8;if(_0x5bd2f9[_0x23ac78(0x44d)]<_0x8b6626){this[_0x23ac78(0x82a)][_0x23ac78(0x216)](this[_0x23ac78(0x798)]+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x3f437c={'number':_0x5bd2f9[_0x23ac78(0x6f5)],'options':{'delay':0x0},'textMessage':{'text':_0x5bd2f9[_0x23ac78(0x6ca)]}};await this['textMessage'](_0x3f437c);let _0xea16c1={'status':_0x23ac78(0x895),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x23ac78(0x6ae)][_0x23ac78(0x2f7)][_0x23ac78(0x768)](_0x5bd2f9[_0x23ac78(0x2f9)],_0xea16c1,this[_0x23ac78(0x478)][_0x23ac78(0x456)]),null;}return _0x5bd2f9[_0x23ac78(0x44d)]=Date[_0x23ac78(0x810)](),_0x5bd2f9[_0x23ac78(0x52f)][_0x23ac78(0x730)]=_0x20e463,_0x5bd2f9;}else{this[_0x23ac78(0x82a)][_0x23ac78(0x216)](this[_0x23ac78(0x798)]+'\x20('+this['instance'][_0x23ac78(0x456)]+_0x23ac78(0x1db)+this[_0x23ac78(0x478)]['wuid']+_0x23ac78(0x275)),this[_0x23ac78(0x82a)][_0x23ac78(0x216)](this[_0x23ac78(0x798)]+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+_0x23ac78(0x145));let _0x40f300={'where':{'remoteJid':_0x10ed83,'status':_0x23ac78(0x2cd)}};if(_0x5bd2f9=await this[_0x23ac78(0x6ae)][_0x23ac78(0x2f7)][_0x23ac78(0x654)](_0x40f300,this['instance'][_0x23ac78(0x456)]),!_0x5bd2f9){let _0x274d05=await this[_0x23ac78(0x190)](_0x10ed83);if(_0x274d05&&(_0x5bd2f9=await this['createNewConversation'](_0x274d05,_0x20e463['key'],_0x20e463)),!_0x5bd2f9)return null;}let _0x5c2307=Date['now'](),_0x529fc3=_0x5bd2f9?.[_0x23ac78(0x6c1)]||0x0,_0x51688b=_0x5c2307-_0x529fc3*0x3c*0x3e8;if(this[_0x23ac78(0x82a)]['verbose'](this[_0x23ac78(0x798)]+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+'):\x20Current\x20Time:\x20'+_0x5c2307+_0x23ac78(0x881)+_0x529fc3+',\x20Expiration\x20Time:\x20'+_0x51688b),this[_0x23ac78(0x82a)]['verbose'](this['instanceName']+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+_0x23ac78(0x50a)),this[_0x23ac78(0x82a)][_0x23ac78(0x216)](this[_0x23ac78(0x798)]+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+_0x23ac78(0x83c)+_0x5bd2f9[_0x23ac78(0x44d)]),this[_0x23ac78(0x82a)]['verbose'](this[_0x23ac78(0x798)]+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+_0x23ac78(0x49d)+_0x51688b),_0x5bd2f9[_0x23ac78(0x44d)]<_0x51688b){this[_0x23ac78(0x82a)][_0x23ac78(0x216)](this[_0x23ac78(0x798)]+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+'):\x20Conversa\x20está\x20expirada');let _0x478821=await this[_0x23ac78(0x190)](_0x10ed83);if(_0x478821===null)return null;_0x5bd2f9&&await this[_0x23ac78(0x6ae)][_0x23ac78(0x2f7)][_0x23ac78(0x768)](_0x5bd2f9[_0x23ac78(0x2f9)],{'status':_0x23ac78(0x895)},this[_0x23ac78(0x478)][_0x23ac78(0x456)]),_0x5bd2f9=await this['createNewConversation'](_0x478821,_0x20e463[_0x23ac78(0x349)],_0x20e463);}return _0x5bd2f9[_0x23ac78(0x44d)]=_0x5c2307,_0x5bd2f9[_0x23ac78(0x52f)][_0x23ac78(0x730)]=_0x20e463,_0x5bd2f9;}}catch(_0x4df11d){return this[_0x23ac78(0x82a)][_0x23ac78(0x495)](this[_0x23ac78(0x798)]+'\x20('+this[_0x23ac78(0x478)][_0x23ac78(0x456)]+_0x23ac78(0x4e6)+(_0x4df11d instanceof Error?_0x4df11d['message']:JSON[_0x23ac78(0x15a)](_0x4df11d,null,0x2))),null;}}async[a0_0x2a87a6(0x3b2)](_0x261d96,_0x53ce0a,_0x102bca){const _0x193962=a0_0x2a87a6;this[_0x193962(0x82a)][_0x193962(0x216)](this[_0x193962(0x798)]+'\x20('+this[_0x193962(0x478)][_0x193962(0x456)]+_0x193962(0x1cf));try{let _0x17c9d2=require(_0x193962(0x3ef))[_0x193962(0x414)],_0x499124=Date[_0x193962(0x810)](),_0x1439ec=_0x193962(0x432),_0x94e091=_0x53ce0a[_0x193962(0x536)]?null:_0x102bca,_0x1bcf51=_0x53ce0a['fromMe']?_0x102bca:null,_0xeea729=_0x53ce0a[_0x193962(0x6f5)],_0x15eef7=this[_0x193962(0x77d)][_0x193962(0x70a)]['find'](_0x58b3a4=>_0x58b3a4[_0x193962(0x2f9)]===_0x261d96[_0x193962(0x2f9)]?.['toString']()),_0x1bac03=_0x15eef7?.[_0x193962(0x6c1)]??_0x261d96[_0x193962(0x6c1)]??0x0,_0x2cc103=_0x15eef7?.['readMessages']??_0x261d96['readMessages']??!0x1;await this[_0x193962(0x748)](_0xeea729);let _0x55ee77={'flowId':_0x261d96[_0x193962(0x2f9)],..._0x261d96,'chatLog':null},_0x11ad69=await this[_0x193962(0x4ef)](_0x55ee77['variables']),_0x183c50=await this[_0x193962(0x7ff)](_0xeea729),_0x476827={..._0x11ad69,..._0x183c50,'_remoteJid':_0xeea729},_0x2053d8={'lastReceivedMessage':_0x94e091,'lastSendMessage':_0x1bcf51,'lastBlockId':_0x1439ec,'lastCondition':!0x0,'realVariables':_0x476827};_0x55ee77[_0x193962(0x52f)]=_0x2053d8,delete _0x55ee77[_0x193962(0x2f9)],_0x55ee77[_0x193962(0x2f9)]=new _0x17c9d2(),_0x55ee77[_0x193962(0x44d)]=_0x499124,_0x55ee77[_0x193962(0x5f7)]=_0x193962(0x2cd),_0x55ee77[_0x193962(0x6f5)]=_0xeea729,_0x55ee77['minutesToClose']=_0x1bac03,_0x55ee77[_0x193962(0x584)]=_0x2cc103;let _0x2ea937=await this[_0x193962(0x6ae)][_0x193962(0x2f7)][_0x193962(0x768)](_0x55ee77['_id'],_0x55ee77,this[_0x193962(0x478)][_0x193962(0x456)]);return this[_0x193962(0x82a)][_0x193962(0x216)](this[_0x193962(0x798)]+'\x20('+this['instance'][_0x193962(0x456)]+_0x193962(0x737)),_0x2ea937?_0x55ee77:null;}catch(_0x3fe5ba){return this[_0x193962(0x82a)][_0x193962(0x495)](this[_0x193962(0x798)]+'\x20('+this[_0x193962(0x478)][_0x193962(0x456)]+_0x193962(0x524)+(_0x3fe5ba instanceof Error?_0x3fe5ba[_0x193962(0x5af)]:JSON[_0x193962(0x15a)](_0x3fe5ba,null,0x2))),_0x3fe5ba;}}async[a0_0x2a87a6(0x80d)](_0x309c77,_0x290ffb){const _0x5801d1=a0_0x2a87a6;let _0x2bed3a=_0x309c77[_0x5801d1(0x6f5)];_0x290ffb[_0x5801d1(0x20d)][_0x5801d1(0x6f5)]&&_0x290ffb[_0x5801d1(0x20d)][_0x5801d1(0x6f5)]['trim']()!==''&&(_0x2bed3a=_0x290ffb['uazapi'][_0x5801d1(0x6f5)][_0x5801d1(0x6b0)]()),this[_0x5801d1(0x82a)][_0x5801d1(0x216)](this[_0x5801d1(0x798)]+'\x20('+this[_0x5801d1(0x478)][_0x5801d1(0x456)]+_0x5801d1(0x3e7));let _0x49858e={'number':_0x2bed3a,'options':{'delay':_0x290ffb['uazapi'][_0x5801d1(0x6c6)],'linkPreview':_0x290ffb[_0x5801d1(0x20d)]['linkPreview']},'textMessage':{'text':_0x290ffb[_0x5801d1(0x20d)][_0x5801d1(0x210)]}};try{let _0xec92a9=await this[_0x5801d1(0x319)](_0x49858e);if(_0xec92a9){let _0x4952c4={'_id':_0xec92a9[_0x5801d1(0x349)]['id'],'_fromMe':_0xec92a9['key'][_0x5801d1(0x536)],'_remoteJid':_0xec92a9['key'][_0x5801d1(0x6f5)]},_0x1cce4e=(0x0,w[_0x5801d1(0x55c)])(_0xec92a9[_0x5801d1(0x5af)]),_0x429072=(0x0,w[_0x5801d1(0x7b8)])(_0x1cce4e);_0x309c77[_0x5801d1(0x52f)]['lastBlockId']=_0x290ffb[_0x5801d1(0x2f9)][_0x5801d1(0x635)]();let {message_normalized:_0x14aa76}=this[_0x5801d1(0x5b5)](_0x1cce4e,_0x429072,null);_0x309c77['chatLog'][_0x5801d1(0x24d)]=await _0x14aa76;let _0x4de1df={'messageId':_0xec92a9['key']['id']},_0x4c2a96=_0x309c77[_0x5801d1(0x52f)]['realVariables'];Object[_0x5801d1(0x7b1)](_0x4c2a96,_0x4952c4),_0x309c77[_0x5801d1(0x52f)][_0x5801d1(0x733)]=_0x4c2a96,this[_0x5801d1(0x57f)](_0x309c77,_0x290ffb,_0x4de1df);}else{let _0x1ed8d1={'error':!0x0};this[_0x5801d1(0x57f)](_0x309c77,_0x290ffb,_0x1ed8d1),this[_0x5801d1(0x82a)]['error'](this['instanceName']+'\x20('+this[_0x5801d1(0x478)]['wuid']+_0x5801d1(0x2d4));}}catch(_0xc1d228){let _0x10ba80={'error':!0x0,'errorLog':_0xc1d228[_0x5801d1(0x635)]()};this[_0x5801d1(0x57f)](_0x309c77,_0x290ffb,_0x10ba80),this[_0x5801d1(0x82a)][_0x5801d1(0x495)](this['instanceName']+'\x20('+this['instance'][_0x5801d1(0x456)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0xc1d228 instanceof Error?_0xc1d228[_0x5801d1(0x5af)]:JSON['stringify'](_0xc1d228,null,0x2)));}}async[a0_0x2a87a6(0x825)](_0x11e1f3,_0x40cf2b){const _0x2ac554=a0_0x2a87a6;let _0x4d6aff=_0x11e1f3[_0x2ac554(0x6f5)];_0x40cf2b[_0x2ac554(0x20d)]['remoteJid']&&_0x40cf2b[_0x2ac554(0x20d)][_0x2ac554(0x6f5)][_0x2ac554(0x6b0)]()!==''&&(_0x4d6aff=_0x40cf2b[_0x2ac554(0x20d)][_0x2ac554(0x6f5)][_0x2ac554(0x6b0)]()),this[_0x2ac554(0x82a)][_0x2ac554(0x216)](this[_0x2ac554(0x798)]+'\x20('+this[_0x2ac554(0x478)][_0x2ac554(0x456)]+_0x2ac554(0x1bf));let _0x29151e={'number':_0x4d6aff,'options':{'delay':_0x40cf2b[_0x2ac554(0x20d)][_0x2ac554(0x6c6)],'linkPreview':_0x40cf2b[_0x2ac554(0x20d)][_0x2ac554(0x84f)]},'mediaMessage':{'mediatype':_0x40cf2b[_0x2ac554(0x20d)][_0x2ac554(0x22c)],'caption':_0x40cf2b[_0x2ac554(0x20d)][_0x2ac554(0x784)],'media':_0x40cf2b[_0x2ac554(0x20d)][_0x2ac554(0x5ce)],'fileName':_0x40cf2b[_0x2ac554(0x20d)]['fileName']}};try{let _0x17af85=await this[_0x2ac554(0x3b8)](_0x29151e);if(_0x17af85){let _0x4cc4f1={'_id':_0x17af85[_0x2ac554(0x349)]['id'],'_fromMe':_0x17af85[_0x2ac554(0x349)][_0x2ac554(0x536)],'_remoteJid':_0x17af85['key'][_0x2ac554(0x6f5)]},_0x346606=(0x0,w[_0x2ac554(0x55c)])(_0x17af85[_0x2ac554(0x5af)]),_0x26965d=(0x0,w[_0x2ac554(0x7b8)])(_0x346606);_0x11e1f3['chatLog'][_0x2ac554(0x7f0)]=_0x40cf2b['_id'][_0x2ac554(0x635)]();let {message_normalized:_0x517dc1}=this[_0x2ac554(0x5b5)](_0x346606,_0x26965d,null);_0x11e1f3[_0x2ac554(0x52f)]['lastSendMessage']=await _0x517dc1;let _0x124d93={'messageId':_0x17af85[_0x2ac554(0x349)]['id']},_0x536477=_0x11e1f3[_0x2ac554(0x52f)]['realVariables'];Object['assign'](_0x536477,_0x4cc4f1),_0x11e1f3[_0x2ac554(0x52f)]['realVariables']=_0x536477,this[_0x2ac554(0x57f)](_0x11e1f3,_0x40cf2b,_0x124d93);}else{let _0x3693e7={'error':!0x0};this[_0x2ac554(0x57f)](_0x11e1f3,_0x40cf2b,_0x3693e7),this['logger'][_0x2ac554(0x495)](this[_0x2ac554(0x798)]+'\x20('+this[_0x2ac554(0x478)]['wuid']+_0x2ac554(0x3ec));}}catch(_0x276734){let _0x2dadc1={'error':!0x0,'errorLog':_0x276734[_0x2ac554(0x635)]()};this[_0x2ac554(0x57f)](_0x11e1f3,_0x40cf2b,_0x2dadc1),this[_0x2ac554(0x82a)][_0x2ac554(0x495)](this[_0x2ac554(0x798)]+'\x20('+this[_0x2ac554(0x478)][_0x2ac554(0x456)]+_0x2ac554(0x826)+(_0x276734 instanceof Error?_0x276734['message']:JSON['stringify'](_0x276734,null,0x2)));}}async['uazapiSendLocation'](_0x1b0cb0,_0x9e85b9){const _0x3a9b43=a0_0x2a87a6;let _0x1f3aca=_0x1b0cb0[_0x3a9b43(0x6f5)];_0x9e85b9[_0x3a9b43(0x20d)]['remoteJid']&&_0x9e85b9[_0x3a9b43(0x20d)]['remoteJid']['trim']()!==''&&(_0x1f3aca=_0x9e85b9[_0x3a9b43(0x20d)][_0x3a9b43(0x6f5)][_0x3a9b43(0x6b0)]()),this['logger']['verbose'](this[_0x3a9b43(0x798)]+'\x20('+this[_0x3a9b43(0x478)][_0x3a9b43(0x456)]+_0x3a9b43(0x574));let _0x76199c={'number':_0x1f3aca,'options':{'delay':_0x9e85b9[_0x3a9b43(0x20d)][_0x3a9b43(0x6c6)]},'locationMessage':{'name':_0x9e85b9[_0x3a9b43(0x20d)][_0x3a9b43(0x366)],'address':_0x9e85b9['uazapi'][_0x3a9b43(0x581)],'latitude':_0x9e85b9[_0x3a9b43(0x20d)][_0x3a9b43(0x689)],'longitude':_0x9e85b9[_0x3a9b43(0x20d)][_0x3a9b43(0x88a)]}};try{let _0x5e60fd=await this[_0x3a9b43(0x463)](_0x76199c);if(_0x5e60fd){let _0xea216c={'_id':_0x5e60fd[_0x3a9b43(0x349)]['id'],'_fromMe':_0x5e60fd[_0x3a9b43(0x349)][_0x3a9b43(0x536)],'_remoteJid':_0x5e60fd[_0x3a9b43(0x349)][_0x3a9b43(0x6f5)]},_0x46a548=(0x0,w[_0x3a9b43(0x55c)])(_0x5e60fd[_0x3a9b43(0x5af)]),_0x6fef3e=(0x0,w[_0x3a9b43(0x7b8)])(_0x46a548);_0x1b0cb0[_0x3a9b43(0x52f)]['lastBlockId']=_0x9e85b9[_0x3a9b43(0x2f9)]['toString']();let {message_normalized:_0x5b522b}=this[_0x3a9b43(0x5b5)](_0x46a548,_0x6fef3e,null);_0x1b0cb0['chatLog'][_0x3a9b43(0x24d)]=await _0x5b522b;let _0x32f1eb={'messageId':_0x5e60fd[_0x3a9b43(0x349)]['id']},_0x414a48=_0x1b0cb0[_0x3a9b43(0x52f)][_0x3a9b43(0x733)];Object[_0x3a9b43(0x7b1)](_0x414a48,_0xea216c),_0x1b0cb0[_0x3a9b43(0x52f)]['realVariables']=_0x414a48,this[_0x3a9b43(0x57f)](_0x1b0cb0,_0x9e85b9,_0x32f1eb);}else{let _0x5ee593={'error':!0x0};this['updateConversation'](_0x1b0cb0,_0x9e85b9,_0x5ee593),this[_0x3a9b43(0x82a)]['error'](this[_0x3a9b43(0x798)]+'\x20('+this[_0x3a9b43(0x478)][_0x3a9b43(0x456)]+_0x3a9b43(0x20e));}}catch(_0x6bea38){let _0x10af16={'error':!0x0,'errorLog':_0x6bea38[_0x3a9b43(0x635)]()};this['updateConversation'](_0x1b0cb0,_0x9e85b9,_0x10af16),this[_0x3a9b43(0x82a)][_0x3a9b43(0x495)](this[_0x3a9b43(0x798)]+'\x20('+this[_0x3a9b43(0x478)][_0x3a9b43(0x456)]+_0x3a9b43(0x16a)+(_0x6bea38 instanceof Error?_0x6bea38[_0x3a9b43(0x5af)]:JSON[_0x3a9b43(0x15a)](_0x6bea38,null,0x2)));}}async[a0_0x2a87a6(0x48a)](_0x36f4b0,_0x83633a){const _0x59a600=a0_0x2a87a6;let _0x37e3e6=_0x36f4b0['remoteJid'];_0x83633a['uazapi'][_0x59a600(0x6f5)]&&_0x83633a[_0x59a600(0x20d)][_0x59a600(0x6f5)][_0x59a600(0x6b0)]()!==''&&(_0x37e3e6=_0x83633a[_0x59a600(0x20d)]['remoteJid'][_0x59a600(0x6b0)]()),this[_0x59a600(0x82a)][_0x59a600(0x216)](this['instanceName']+'\x20('+this[_0x59a600(0x478)]['wuid']+_0x59a600(0x473));let _0x1141d3={'number':_0x37e3e6,'options':{'delay':_0x83633a['uazapi'][_0x59a600(0x6c6)]},'audioMessage':{'audio':_0x83633a[_0x59a600(0x20d)][_0x59a600(0x415)]}};try{let _0x3981b4=await this['audioWhatsapp'](_0x1141d3);if(_0x3981b4){let _0x149cc9={'_id':_0x3981b4[_0x59a600(0x349)]['id'],'_fromMe':_0x3981b4[_0x59a600(0x349)]['fromMe'],'_remoteJid':_0x3981b4[_0x59a600(0x349)][_0x59a600(0x6f5)]},_0x54f0a7=(0x0,w['normalizeMessageContent'])(_0x3981b4['message']),_0x2a5f85=(0x0,w[_0x59a600(0x7b8)])(_0x54f0a7);_0x36f4b0[_0x59a600(0x52f)][_0x59a600(0x7f0)]=_0x83633a[_0x59a600(0x2f9)][_0x59a600(0x635)]();let {message_normalized:_0x2ff309}=this[_0x59a600(0x5b5)](_0x54f0a7,_0x2a5f85,null);_0x36f4b0['chatLog']['lastSendMessage']=await _0x2ff309;let _0x18fbe5={'messageId':_0x3981b4['key']['id']},_0x35ed16=_0x36f4b0[_0x59a600(0x52f)][_0x59a600(0x733)];Object[_0x59a600(0x7b1)](_0x35ed16,_0x149cc9),_0x36f4b0[_0x59a600(0x52f)]['realVariables']=_0x35ed16,this['updateConversation'](_0x36f4b0,_0x83633a,_0x18fbe5);}else{let _0x129515={'error':!0x0};this[_0x59a600(0x57f)](_0x36f4b0,_0x83633a,_0x129515),this[_0x59a600(0x82a)][_0x59a600(0x495)](this[_0x59a600(0x798)]+'\x20('+this['instance'][_0x59a600(0x456)]+_0x59a600(0x5ba));}}catch(_0x87d374){let _0x23bbf2={'error':!0x0,'errorLog':_0x87d374[_0x59a600(0x635)]()};this['updateConversation'](_0x36f4b0,_0x83633a,_0x23bbf2),this['logger'][_0x59a600(0x495)](this[_0x59a600(0x798)]+'\x20('+this[_0x59a600(0x478)][_0x59a600(0x456)]+_0x59a600(0x755)+(_0x87d374 instanceof Error?_0x87d374[_0x59a600(0x5af)]:JSON[_0x59a600(0x15a)](_0x87d374,null,0x2)));}}async[a0_0x2a87a6(0x63f)](_0x4e8a02,_0x1ebf51){const _0x17c1ab=a0_0x2a87a6;let _0x26ce0a=_0x4e8a02[_0x17c1ab(0x6f5)];_0x1ebf51[_0x17c1ab(0x20d)]['remoteJid']&&_0x1ebf51[_0x17c1ab(0x20d)][_0x17c1ab(0x6f5)][_0x17c1ab(0x6b0)]()!==''&&(_0x26ce0a=_0x1ebf51['uazapi']['remoteJid'][_0x17c1ab(0x6b0)]()),this[_0x17c1ab(0x82a)][_0x17c1ab(0x216)](this[_0x17c1ab(0x798)]+'\x20('+this['instance'][_0x17c1ab(0x456)]+_0x17c1ab(0x20c));let _0x2b9e75={'number':_0x26ce0a,'options':{'delay':_0x1ebf51[_0x17c1ab(0x20d)][_0x17c1ab(0x6c6)]},'contactMessage':[{'fullName':_0x1ebf51[_0x17c1ab(0x20d)]['fullName'],'phoneNumber':_0x1ebf51[_0x17c1ab(0x20d)][_0x17c1ab(0x843)]}]};try{let _0x15ba49=await this[_0x17c1ab(0x682)](_0x2b9e75);if(_0x15ba49){let _0x54ad19={'_id':_0x15ba49[_0x17c1ab(0x349)]['id'],'_fromMe':_0x15ba49[_0x17c1ab(0x349)][_0x17c1ab(0x536)],'_remoteJid':_0x15ba49['key'][_0x17c1ab(0x6f5)]},_0x2ea11a=(0x0,w[_0x17c1ab(0x55c)])(_0x15ba49['message']),_0x461f7a=(0x0,w[_0x17c1ab(0x7b8)])(_0x2ea11a);_0x4e8a02[_0x17c1ab(0x52f)]['lastBlockId']=_0x1ebf51[_0x17c1ab(0x2f9)]['toString']();let {message_normalized:_0x2dd495}=this[_0x17c1ab(0x5b5)](_0x2ea11a,_0x461f7a,null);_0x4e8a02[_0x17c1ab(0x52f)][_0x17c1ab(0x24d)]=await _0x2dd495;let _0x31bdb5={'messageId':_0x15ba49[_0x17c1ab(0x349)]['id']},_0x42df19=_0x4e8a02[_0x17c1ab(0x52f)]['realVariables'];Object[_0x17c1ab(0x7b1)](_0x42df19,_0x54ad19),_0x4e8a02['chatLog']['realVariables']=_0x42df19,this['updateConversation'](_0x4e8a02,_0x1ebf51,_0x31bdb5);}else{let _0x3ca349={'error':!0x0};this[_0x17c1ab(0x57f)](_0x4e8a02,_0x1ebf51,_0x3ca349),this['logger'][_0x17c1ab(0x495)](this[_0x17c1ab(0x798)]+'\x20('+this[_0x17c1ab(0x478)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x4f131f){let _0x289cdb={'error':!0x0,'errorLog':_0x4f131f['toString']()};this[_0x17c1ab(0x57f)](_0x4e8a02,_0x1ebf51,_0x289cdb),this[_0x17c1ab(0x82a)][_0x17c1ab(0x495)](this[_0x17c1ab(0x798)]+'\x20('+this[_0x17c1ab(0x478)][_0x17c1ab(0x456)]+_0x17c1ab(0x2f3)+(_0x4f131f instanceof Error?_0x4f131f['message']:JSON[_0x17c1ab(0x15a)](_0x4f131f,null,0x2)));}}[a0_0x2a87a6(0x4aa)](_0x3e52dd,_0xe0eae5){const _0x2a1b35=a0_0x2a87a6;for(let _0x4cdb1d of _0x3e52dd)_0x4cdb1d[_0x2a1b35(0x440)]&&(_0x4cdb1d[_0x2a1b35(0x440)]=this[_0x2a1b35(0x51a)](_0x4cdb1d[_0x2a1b35(0x440)],_0xe0eae5)),_0x4cdb1d[_0x2a1b35(0x7f1)]&&(_0x4cdb1d[_0x2a1b35(0x7f1)]=this[_0x2a1b35(0x51a)](_0x4cdb1d[_0x2a1b35(0x7f1)],_0xe0eae5));}async['uazapiSendMenu'](_0x45c123,_0x483eb8){const _0x1f1bcc=a0_0x2a87a6;let _0x3ca801=_0x45c123[_0x1f1bcc(0x6f5)];_0x483eb8['uazapi'][_0x1f1bcc(0x6f5)]&&_0x483eb8['uazapi'][_0x1f1bcc(0x6f5)]['trim']()!==''&&(_0x3ca801=_0x483eb8[_0x1f1bcc(0x20d)][_0x1f1bcc(0x6f5)]['trim']()),this[_0x1f1bcc(0x82a)][_0x1f1bcc(0x216)](this[_0x1f1bcc(0x798)]+'\x20('+this[_0x1f1bcc(0x478)]['wuid']+_0x1f1bcc(0x4f4));let _0x208ef6=_0x45c123[_0x1f1bcc(0x7bf)][_0x1f1bcc(0x17c)](_0xeb6e1e=>_0xeb6e1e['blockId']===_0x483eb8[_0x1f1bcc(0x2f9)])[_0x1f1bcc(0x7ce)]((_0x3dff90,_0x21822e)=>_0x3dff90[_0x1f1bcc(0x4ec)]-_0x21822e[_0x1f1bcc(0x4ec)]);this['replaceVariablesInReplyOptions'](_0x208ef6,_0x45c123[_0x1f1bcc(0x52f)][_0x1f1bcc(0x733)]);let _0x6a0eb=_0x208ef6[_0x1f1bcc(0x639)](_0xb0b5d=>_0xb0b5d[_0x1f1bcc(0x440)]),_0x1e675c={'number':_0x3ca801,'menuMessage':{'type':_0x483eb8['uazapi']['menuType']||_0x1f1bcc(0x3b0),'text':_0x483eb8[_0x1f1bcc(0x20d)][_0x1f1bcc(0x210)]||_0x483eb8[_0x1f1bcc(0x20d)][_0x1f1bcc(0x366)],'footerText':_0x483eb8[_0x1f1bcc(0x20d)][_0x1f1bcc(0x7d0)],'buttonText':_0x483eb8[_0x1f1bcc(0x20d)][_0x1f1bcc(0x312)],'selectableCount':0x1,'choices':_0x6a0eb},'options':{'delay':_0x483eb8[_0x1f1bcc(0x20d)][_0x1f1bcc(0x6c6)]}};try{let _0x1ef0a5=await this[_0x1f1bcc(0x54a)](_0x1e675c);if(_0x1ef0a5){let _0x40c1d8={'_id':_0x1ef0a5[_0x1f1bcc(0x349)]['id'],'_fromMe':_0x1ef0a5[_0x1f1bcc(0x349)]['fromMe'],'_remoteJid':_0x1ef0a5['key'][_0x1f1bcc(0x6f5)]};_0x483eb8['uazapi'][_0x1f1bcc(0x37c)]===!0x0&&(_0x45c123['status']=_0x1f1bcc(0x625),this[_0x1f1bcc(0x82a)][_0x1f1bcc(0x216)](this['instanceName']+'\x20('+this[_0x1f1bcc(0x478)][_0x1f1bcc(0x456)]+_0x1f1bcc(0x5ee)+_0x45c123['status'])),this['logger'][_0x1f1bcc(0x216)](this[_0x1f1bcc(0x798)]+'\x20('+this[_0x1f1bcc(0x478)][_0x1f1bcc(0x456)]+_0x1f1bcc(0x76b)+(_0x483eb8[_0x1f1bcc(0x20d)]['name']||_0x483eb8['uazapi'][_0x1f1bcc(0x210)])),_0x45c123[_0x1f1bcc(0x61b)]=_0x1ef0a5[_0x1f1bcc(0x349)]['id'],_0x45c123[_0x1f1bcc(0x4ac)]=_0x483eb8[_0x1f1bcc(0x20d)][_0x1f1bcc(0x366)]||_0x483eb8[_0x1f1bcc(0x20d)][_0x1f1bcc(0x210)],_0x45c123['waitingMenu_replyOptions']=_0x208ef6,_0x483eb8['uazapi']['menuExpiredMessage']&&(_0x45c123[_0x1f1bcc(0x6ca)]=_0x483eb8['uazapi'][_0x1f1bcc(0x740)]),this[_0x1f1bcc(0x82a)][_0x1f1bcc(0x216)](this['instanceName']+'\x20('+this[_0x1f1bcc(0x478)][_0x1f1bcc(0x456)]+_0x1f1bcc(0x364)+_0x45c123[_0x1f1bcc(0x4ac)]);let _0x3cf920=(0x0,w['normalizeMessageContent'])(_0x1ef0a5[_0x1f1bcc(0x5af)]),_0x9ead55=(0x0,w[_0x1f1bcc(0x7b8)])(_0x3cf920);_0x45c123[_0x1f1bcc(0x52f)][_0x1f1bcc(0x7f0)]=_0x483eb8[_0x1f1bcc(0x2f9)][_0x1f1bcc(0x635)]();let {message_normalized:_0x41d1eb}=this[_0x1f1bcc(0x5b5)](_0x3cf920,_0x9ead55,null);_0x45c123[_0x1f1bcc(0x52f)][_0x1f1bcc(0x24d)]=await _0x41d1eb;let _0x2f47e0={'messageId':_0x1ef0a5[_0x1f1bcc(0x349)]['id']},_0x21ef5e=_0x45c123[_0x1f1bcc(0x52f)][_0x1f1bcc(0x733)];Object[_0x1f1bcc(0x7b1)](_0x21ef5e,_0x40c1d8),_0x45c123[_0x1f1bcc(0x52f)][_0x1f1bcc(0x733)]=_0x21ef5e,this[_0x1f1bcc(0x57f)](_0x45c123,_0x483eb8,_0x2f47e0);}else{let _0x38ca71={'error':!0x0};this['updateConversation'](_0x45c123,_0x483eb8,_0x38ca71),this[_0x1f1bcc(0x82a)][_0x1f1bcc(0x495)](this['instanceName']+'\x20('+this[_0x1f1bcc(0x478)][_0x1f1bcc(0x456)]+_0x1f1bcc(0x2ea));}}catch(_0x2e2ef7){let _0x48f86f={'error':!0x0,'errorLog':_0x2e2ef7 instanceof Error?_0x2e2ef7[_0x1f1bcc(0x5af)]:JSON[_0x1f1bcc(0x15a)](_0x2e2ef7,null,0x2)};this['updateConversation'](_0x45c123,_0x483eb8,_0x48f86f),this[_0x1f1bcc(0x82a)][_0x1f1bcc(0x495)](this['instanceName']+'\x20('+this['instance'][_0x1f1bcc(0x456)]+_0x1f1bcc(0x886)+(_0x2e2ef7 instanceof Error?_0x2e2ef7[_0x1f1bcc(0x5af)]:JSON['stringify'](_0x2e2ef7,null,0x2)));}}async[a0_0x2a87a6(0x3a2)](_0x2e6c83,_0x1afb69){const _0x5bf9ee=a0_0x2a87a6;this['logger']['verbose'](this[_0x5bf9ee(0x798)]+'\x20('+this[_0x5bf9ee(0x478)][_0x5bf9ee(0x456)]+_0x5bf9ee(0x541));let _0x1f2e4e=_0x2e6c83[_0x5bf9ee(0x52f)][_0x5bf9ee(0x505)][_0x5bf9ee(0x2f6)](_0x2c0f18=>_0x2c0f18[_0x5bf9ee(0x575)]['toString']()===_0x1afb69[_0x5bf9ee(0x20d)]['blockId'][_0x5bf9ee(0x635)]()),_0x54564a={'id':_0x1f2e4e['messageId'],'remoteJid':_0x1f2e4e[_0x5bf9ee(0x6f5)],'fromMe':_0x1f2e4e['fromMe']};try{let _0x17c20f=await this['deleteMessage'](_0x54564a);if(_0x17c20f){let _0x305d3e=(0x0,w[_0x5bf9ee(0x55c)])(_0x17c20f[_0x5bf9ee(0x5af)]),_0x20a940=(0x0,w[_0x5bf9ee(0x7b8)])(_0x305d3e);_0x2e6c83[_0x5bf9ee(0x52f)][_0x5bf9ee(0x7f0)]=_0x1afb69[_0x5bf9ee(0x2f9)][_0x5bf9ee(0x635)]();let {message_normalized:_0x412c52}=this[_0x5bf9ee(0x5b5)](_0x305d3e,_0x20a940,null);_0x2e6c83[_0x5bf9ee(0x52f)][_0x5bf9ee(0x24d)]=await _0x412c52;let _0x41f471={};this[_0x5bf9ee(0x57f)](_0x2e6c83,_0x1afb69,_0x41f471);}else{let _0x2309e3={'error':!0x0};this['updateConversation'](_0x2e6c83,_0x1afb69,_0x2309e3),this[_0x5bf9ee(0x82a)]['error'](this['instanceName']+'\x20('+this[_0x5bf9ee(0x478)]['wuid']+_0x5bf9ee(0x6c7));}}catch(_0x5a9bf3){let _0x406393={'error':!0x0,'errorLog':_0x5a9bf3 instanceof Error?_0x5a9bf3[_0x5bf9ee(0x5af)]:JSON[_0x5bf9ee(0x15a)](_0x5a9bf3,null,0x2)};this[_0x5bf9ee(0x57f)](_0x2e6c83,_0x1afb69,_0x406393),this[_0x5bf9ee(0x82a)][_0x5bf9ee(0x495)](this[_0x5bf9ee(0x798)]+'\x20('+this[_0x5bf9ee(0x478)]['wuid']+_0x5bf9ee(0x6f2)+(_0x5a9bf3 instanceof Error?_0x5a9bf3[_0x5bf9ee(0x5af)]:JSON['stringify'](_0x5a9bf3,null,0x2)));}}async[a0_0x2a87a6(0x73e)](_0xd3f132,_0x389e9b){const _0x411445=a0_0x2a87a6;if(_0xd3f132['name']||(_0xd3f132[_0x411445(0x366)]=(0x0,X['v4'])()),_0x389e9b!==Oi&&_0xd3f132?.['globalShow'])throw new m(_0x411445(0x741));if(_0x411445(0x2f9)in _0xd3f132&&'owner'in _0xd3f132)return this[_0x411445(0x1fa)](_0xd3f132['owner'],_0xd3f132[_0x411445(0x2f9)]);this[_0x411445(0x82a)]['verbose'](this[_0x411445(0x798)]+'\x20('+this[_0x411445(0x478)]['wuid']+_0x411445(0x80f));let _0x4c24b9=this[_0x411445(0x6ba)](_0xd3f132[_0x411445(0x366)]),_0x216476=new fe['Types']['ObjectId'](),_0xc6237b={'_id':_0x216476,'default':!0x0,'title':_0x411445(0x2e3),'x':0x0,'y':0x0},_0x19f47c={'_id':new fe[(_0x411445(0x358))][(_0x411445(0x414))](),'order':0x1,'groupId':_0x216476['toString'](),'type':_0x411445(0x432)},_0x114dbe=this[_0x411445(0x478)][_0x411445(0x456)],_0x4937a6={'_id':(0x0,X['v4'])(),'owner':_0x114dbe,'name':_0x4c24b9,'whoCanEdit':[_0x114dbe],'whoCanUse':[_0x114dbe],'groups':[_0xc6237b],'blocks':[_0x19f47c],..._0xd3f132};try{let _0x2501c2=await this[_0x411445(0x6ae)][_0x411445(0x452)][_0x411445(0x74e)](_0x4937a6);return await this[_0x411445(0x66e)](),_0x2501c2;}catch(_0x1c3608){let _0x4114c5=_0x411445(0x6bb),_0x5e5f95=_0x1c3608 instanceof Error?_0x1c3608[_0x411445(0x5af)]:typeof _0x1c3608==_0x411445(0x3ae)?JSON[_0x411445(0x15a)](_0x1c3608):_0x1c3608,_0xb34c24=_0x4114c5+':\x20'+_0x5e5f95;throw this['logger']['error'](this[_0x411445(0x798)]+'\x20('+this[_0x411445(0x478)][_0x411445(0x456)]+_0x411445(0x1db)+_0xb34c24),new m(_0xb34c24);}}async[a0_0x2a87a6(0x1fa)](_0x53b4b7,_0x1e706e){const _0x1101d5=a0_0x2a87a6;try{this[_0x1101d5(0x82a)][_0x1101d5(0x216)](this[_0x1101d5(0x798)]+'\x20('+this[_0x1101d5(0x478)][_0x1101d5(0x456)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0xd24a15=await this['repository'][_0x1101d5(0x452)][_0x1101d5(0x654)]({'where':{'_id':_0x1e706e,'owner':_0x53b4b7}});if(!_0xd24a15)throw new m(_0x1101d5(0x867));if(_0xd24a15[_0x1101d5(0x789)]===!0x1&&!_0xd24a15[_0x1101d5(0x76f)])throw new m(_0x1101d5(0x239));let _0x4de87e=new Set(_0xd24a15[_0x1101d5(0x718)]??[]);_0x4de87e[_0x1101d5(0x136)](this[_0x1101d5(0x478)][_0x1101d5(0x456)]);let _0x59cb6a=await this[_0x1101d5(0x6ae)][_0x1101d5(0x452)][_0x1101d5(0x768)](_0x1e706e,{..._0xd24a15,'whoCanUse':Array[_0x1101d5(0x696)](_0x4de87e)});return await this[_0x1101d5(0x66e)](),_0x59cb6a;}catch(_0x1ec892){let _0x32abc9=_0x1101d5(0x41a),_0x129782=_0x1ec892 instanceof Error?_0x1ec892[_0x1101d5(0x5af)]:typeof _0x1ec892==_0x1101d5(0x3ae)?JSON[_0x1101d5(0x15a)](_0x1ec892):_0x1ec892,_0x1b7700=_0x32abc9+':\x20'+_0x129782;throw this[_0x1101d5(0x82a)][_0x1101d5(0x495)](this['instanceName']+'\x20('+this[_0x1101d5(0x478)][_0x1101d5(0x456)]+'):\x20'+_0x1b7700),new m(_0x1b7700);}}[a0_0x2a87a6(0x6ba)](_0xd0f01c){const _0x2c9e35=a0_0x2a87a6;let _0x489398=_0xd0f01c,_0x20a0bd=0x1;for(;this['AutomateSystem']['flows'][_0x2c9e35(0x7e4)](_0x4415d7=>_0x4415d7[_0x2c9e35(0x366)]===_0x489398);)_0x20a0bd++,_0x489398=_0xd0f01c+'\x20('+_0x20a0bd+')';return _0x489398;}async[a0_0x2a87a6(0x706)](_0x5d30c2){const _0x1d5e89=a0_0x2a87a6;try{if(this['logger'][_0x1d5e89(0x216)](this[_0x1d5e89(0x798)]+'\x20('+this[_0x1d5e89(0x478)][_0x1d5e89(0x456)]+_0x1d5e89(0x14f)+_0x5d30c2[_0x1d5e89(0x2f9)]+_0x1d5e89(0x1df)+_0x5d30c2[_0x1d5e89(0x3a5)]),!this[_0x1d5e89(0x77d)][_0x1d5e89(0x70a)][_0x1d5e89(0x2f6)](_0x205791=>_0x205791[_0x1d5e89(0x2f9)]===_0x5d30c2[_0x1d5e89(0x2f9)]))throw this[_0x1d5e89(0x82a)]['verbose'](this['instanceName']+'\x20('+this[_0x1d5e89(0x478)][_0x1d5e89(0x456)]+_0x1d5e89(0x69b)+_0x5d30c2[_0x1d5e89(0x2f9)]+_0x1d5e89(0x1e7)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x54240e=await this[_0x1d5e89(0x6ae)][_0x1d5e89(0x452)]['findOne']({'where':{'_id':_0x5d30c2[_0x1d5e89(0x2f9)]}});if(!_0x54240e)throw new m(_0x1d5e89(0x891));if(this['instance'][_0x1d5e89(0x456)]===_0x54240e[_0x1d5e89(0x200)]){this['logger'][_0x1d5e89(0x216)](this['instanceName']+'\x20('+this[_0x1d5e89(0x478)][_0x1d5e89(0x456)]+_0x1d5e89(0x2b4)+_0x5d30c2[_0x1d5e89(0x2f9)]+_0x1d5e89(0x808));let _0x4ae065=await this[_0x1d5e89(0x6ae)][_0x1d5e89(0x452)]['deleteOne']({'where':{'_id':_0x5d30c2[_0x1d5e89(0x2f9)]}});return await this[_0x1d5e89(0x66e)](),_0x4ae065;}return this[_0x1d5e89(0x82a)][_0x1d5e89(0x216)](this[_0x1d5e89(0x798)]+'\x20('+this[_0x1d5e89(0x478)][_0x1d5e89(0x456)]+'):\x20Removendo\x20\x27'+this[_0x1d5e89(0x478)]['wuid']+_0x1d5e89(0x2db)+_0x5d30c2['_id']+_0x1d5e89(0x1e8)),_0x54240e['whoCanUse']=(_0x54240e[_0x1d5e89(0x718)]??[])[_0x1d5e89(0x17c)](_0x47d20a=>_0x47d20a!==this[_0x1d5e89(0x478)][_0x1d5e89(0x456)]),_0x54240e[_0x1d5e89(0x413)]=(_0x54240e[_0x1d5e89(0x413)]??[])[_0x1d5e89(0x17c)](_0x38422f=>_0x38422f!==this[_0x1d5e89(0x478)][_0x1d5e89(0x456)]),_0x54240e[_0x1d5e89(0x413)][_0x1d5e89(0x30d)]===0x0&&_0x54240e[_0x1d5e89(0x718)][_0x1d5e89(0x30d)]>0x0&&(_0x54240e[_0x1d5e89(0x413)][_0x1d5e89(0x67c)](_0x54240e[_0x1d5e89(0x718)][0x0]),this[_0x1d5e89(0x82a)][_0x1d5e89(0x216)](this['instanceName']+'\x20('+this['instance'][_0x1d5e89(0x456)]+_0x1d5e89(0x643)+_0x54240e['whoCanUse'][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x5d30c2[_0x1d5e89(0x2f9)]+_0x1d5e89(0x1e8))),await this[_0x1d5e89(0x6ae)]['flow']['updateOne'](_0x54240e['_id'],_0x54240e),await this[_0x1d5e89(0x66e)](),{'message':'Fluxo\x20\x27'+_0x5d30c2[_0x1d5e89(0x366)]+_0x1d5e89(0x61f)};}catch(_0x6bac6b){return this[_0x1d5e89(0x82a)]['error'](this['instanceName']+'\x20('+this[_0x1d5e89(0x478)]['wuid']+_0x1d5e89(0x7d6)+(_0x6bac6b instanceof Error?_0x6bac6b['message']:JSON[_0x1d5e89(0x15a)](_0x6bac6b,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x6bac6b instanceof Error?_0x6bac6b[_0x1d5e89(0x5af)]:JSON['stringify'](_0x6bac6b,null,0x2))};}}async[a0_0x2a87a6(0x739)](_0x3e7531){const _0x4f664f=a0_0x2a87a6;try{if(this[_0x4f664f(0x82a)][_0x4f664f(0x2e4)](this[_0x4f664f(0x798)]+'\x20('+this[_0x4f664f(0x478)][_0x4f664f(0x456)]+_0x4f664f(0x763)+_0x3e7531),!this['AutomateSystem']&&(await this[_0x4f664f(0x1e1)](),!this['AutomateSystem']))return null;let _0x6d4ee2=await this['repository'][_0x4f664f(0x452)][_0x4f664f(0x654)]({'where':{'_id':_0x3e7531}});if(!_0x6d4ee2)throw new m('Fluxo\x20id\x20\x27'+_0x3e7531+_0x4f664f(0x16f));if(!(_0x6d4ee2[_0x4f664f(0x76f)]||_0x6d4ee2['whoCanUse']?.[_0x4f664f(0x708)](this[_0x4f664f(0x478)][_0x4f664f(0x456)])))throw new m(_0x4f664f(0x4a7)+name+'\x27');_0x6d4ee2[_0x4f664f(0x76f)]&&!_0x6d4ee2['whoCanUse']?.[_0x4f664f(0x708)](this['instance'][_0x4f664f(0x456)])&&(_0x6d4ee2[_0x4f664f(0x718)]=[..._0x6d4ee2[_0x4f664f(0x718)]??[],this[_0x4f664f(0x478)]['wuid']],await this['repository'][_0x4f664f(0x452)][_0x4f664f(0x768)](_0x6d4ee2['_id'],_0x6d4ee2),this[_0x4f664f(0x66e)]());let _0x5d7480=this['AutomateSystem']?.['customFields'][_0x4f664f(0x639)](_0x4efbeb=>_0x4efbeb[_0x4f664f(0x366)]),_0x6173e9=[_0x4f664f(0x224),_0x4f664f(0x427),_0x4f664f(0x3fd),'cpf','status',_0x4f664f(0x372),_0x4f664f(0x58b),_0x4f664f(0x898),'etiquetas','telefone',_0x4f664f(0x201)];_0x6d4ee2[_0x4f664f(0x37f)]=_0x6d4ee2[_0x4f664f(0x37f)]['filter'](_0x3a954f=>!(_0x3a954f[_0x4f664f(0x880)]===_0x4f664f(0x441)||_0x3a954f[_0x4f664f(0x441)])),_0x6173e9[_0x4f664f(0x32f)](_0x3d70e0=>{const _0x5edf8c=_0x4f664f;_0x6d4ee2['variables']['push']({'folder':_0x5edf8c(0x441),'name':_0x3d70e0,'value':'','doc':'','leadInfo':!0x0});}),_0x5d7480['forEach'](_0x112015=>{const _0x1ba173=_0x4f664f;let _0x562e6d=_0x6d4ee2[_0x1ba173(0x37f)][_0x1ba173(0x3f3)](_0x3a346a=>_0x3a346a[_0x1ba173(0x366)]===_0x112015);_0x562e6d===-0x1?_0x6d4ee2[_0x1ba173(0x37f)][_0x1ba173(0x67c)]({'folder':'leadInfo','name':_0x112015,'value':'','doc':'','leadInfo':!0x0}):(_0x6d4ee2[_0x1ba173(0x37f)][_0x562e6d][_0x1ba173(0x880)]=_0x1ba173(0x441),_0x6d4ee2[_0x1ba173(0x37f)][_0x562e6d][_0x1ba173(0x441)]=!0x0);}),_0x6d4ee2['blocks']&&_0x6d4ee2[_0x4f664f(0x71d)]['length']>0x0&&_0x6d4ee2['blocks'][_0x4f664f(0x32f)](_0x40f3a5=>{const _0x47951c=_0x4f664f;_0x40f3a5['groupId']&&_0x40f3a5[_0x47951c(0x3e9)]&&_0x40f3a5['groupId']===_0x40f3a5[_0x47951c(0x3e9)]&&(_0x40f3a5[_0x47951c(0x3e9)]=null);});let _0xe29fb=await this['repository'][_0x4f664f(0x452)][_0x4f664f(0x768)](_0x6d4ee2[_0x4f664f(0x2f9)],_0x6d4ee2);if(!_0xe29fb)throw new Error(_0x4f664f(0x820));return _0xe29fb;}catch(_0x405372){let _0x2a8616='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x1f1f8=_0x405372 instanceof Error?_0x405372[_0x4f664f(0x5af)]:typeof _0x405372=='object'?JSON[_0x4f664f(0x15a)](_0x405372):_0x405372,_0x2bf3ab=_0x2a8616+':\x20'+_0x1f1f8;throw this[_0x4f664f(0x82a)][_0x4f664f(0x495)](this[_0x4f664f(0x798)]+'\x20('+this['instance'][_0x4f664f(0x456)]+_0x4f664f(0x1db)+_0x2bf3ab),new m(_0x2bf3ab);}}async[a0_0x2a87a6(0x5bc)](){const _0x122da2=a0_0x2a87a6;try{this['logger'][_0x122da2(0x216)](this['instanceName']+'\x20('+this[_0x122da2(0x478)][_0x122da2(0x456)]+_0x122da2(0x7c9)),await this[_0x122da2(0x66e)]();let _0x274900=await this[_0x122da2(0x6ae)][_0x122da2(0x452)][_0x122da2(0x3eb)]({'where':{'globalShow':!0x0}});return[...this[_0x122da2(0x77d)][_0x122da2(0x70a)],..._0x274900];}catch(_0xd5be32){return this['logger'][_0x122da2(0x495)](this[_0x122da2(0x798)]+'\x20('+this['instance']['wuid']+_0x122da2(0x4c9)+(_0xd5be32 instanceof Error?_0xd5be32['message']:JSON[_0x122da2(0x15a)](_0xd5be32,null,0x2))),{'message':_0x122da2(0x6bd)+(_0xd5be32 instanceof Error?_0xd5be32['message']:String(_0xd5be32))};}}async[a0_0x2a87a6(0x570)](_0x35013c,_0x5a6cf5){const _0x18e4ff=a0_0x2a87a6;try{this['logger'][_0x18e4ff(0x216)](this[_0x18e4ff(0x798)]+'\x20('+this[_0x18e4ff(0x478)][_0x18e4ff(0x456)]+'):\x20Alterando\x20fluxo...');let _0x31c350=this['AutomateSystem'][_0x18e4ff(0x70a)][_0x18e4ff(0x2f6)](_0x4b46b8=>_0x4b46b8['_id']===_0x35013c[_0x18e4ff(0x2f9)]);if(!_0x31c350)throw this[_0x18e4ff(0x82a)][_0x18e4ff(0x216)](this['instanceName']+'\x20('+this[_0x18e4ff(0x478)][_0x18e4ff(0x456)]+_0x18e4ff(0x69b)+_0x35013c[_0x18e4ff(0x2f9)]+'\x27\x20não\x20encontrado'),new m(_0x18e4ff(0x1ab));let _0x1bdd33=await this[_0x18e4ff(0x6ae)][_0x18e4ff(0x452)][_0x18e4ff(0x654)]({'where':{'_id':_0x35013c[_0x18e4ff(0x2f9)]}});if(!_0x1bdd33||!_0x1bdd33[_0x18e4ff(0x718)]?.['includes'](this[_0x18e4ff(0x478)][_0x18e4ff(0x456)]))throw this['logger'][_0x18e4ff(0x495)](this[_0x18e4ff(0x798)]+'\x20('+this[_0x18e4ff(0x478)][_0x18e4ff(0x456)]+_0x18e4ff(0x55d)+_0x35013c[_0x18e4ff(0x2f9)]+_0x18e4ff(0x514)),new m('Flow\x20\x27'+_0x35013c[_0x18e4ff(0x2f9)]+_0x18e4ff(0x514));let _0x25b93c=this[_0x18e4ff(0x77d)][_0x18e4ff(0x70a)]['findIndex'](_0x12d074=>_0x12d074[_0x18e4ff(0x2f9)]===_0x31c350['_id']);if(_0x25b93c!==-0x1){let _0x42a2f1=this[_0x18e4ff(0x77d)][_0x18e4ff(0x70a)][_0x25b93c];if(_0x42a2f1[_0x18e4ff(0x366)]=_0x35013c[_0x18e4ff(0x366)]??_0x42a2f1['name'],_0x42a2f1['default']=_0x35013c['default']??_0x42a2f1[_0x18e4ff(0x667)],_0x42a2f1[_0x18e4ff(0x32a)]=_0x35013c['testingWith']??_0x42a2f1[_0x18e4ff(0x32a)],_0x42a2f1[_0x18e4ff(0x7ef)]=_0x35013c[_0x18e4ff(0x69f)]??_0x42a2f1[_0x18e4ff(0x7ef)],_0x42a2f1[_0x18e4ff(0x6c1)]=_0x35013c[_0x18e4ff(0x6c1)]??_0x42a2f1['minutesToClose'],_0x42a2f1['readMessages']=_0x35013c[_0x18e4ff(0x584)]??_0x42a2f1[_0x18e4ff(0x584)],_0x35013c[_0x18e4ff(0x667)]&&this['AutomateSystem'][_0x18e4ff(0x70a)]['forEach']((_0x10b977,_0x3a6fde)=>{const _0x1d295a=_0x18e4ff;_0x3a6fde!==_0x25b93c&&(_0x10b977[_0x1d295a(0x667)]=!0x1);}),this[_0x18e4ff(0x77d)][_0x18e4ff(0x70a)][_0x25b93c]=_0x42a2f1,!await this['repository']['automateSystem']['update']({'flows':this[_0x18e4ff(0x77d)][_0x18e4ff(0x70a)]},this[_0x18e4ff(0x478)][_0x18e4ff(0x456)]))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x1369b9=[_0x18e4ff(0x3a5),_0x18e4ff(0x380),_0x18e4ff(0x2fa),'shareOwners'];for(let _0xd68a59 of _0x1369b9)delete _0x35013c[_0xd68a59];if(_0x1bdd33['whoCanEdit']?.[_0x18e4ff(0x708)](this[_0x18e4ff(0x478)][_0x18e4ff(0x456)])||(_0x35013c={'_id':_0x35013c[_0x18e4ff(0x2f9)]}),_0x5a6cf5!==Oi&&_0x35013c?.[_0x18e4ff(0x76f)]&&!_0x1bdd33?.['globalShow'])throw new m(_0x18e4ff(0x3e6));let _0x380884=new Set(_0x35013c[_0x18e4ff(0x413)]??_0x1bdd33[_0x18e4ff(0x413)]);_0x380884['add'](_0x1bdd33[_0x18e4ff(0x200)]);let _0x2c6f6a=new Set(_0x35013c[_0x18e4ff(0x718)]??_0x1bdd33[_0x18e4ff(0x718)]??[]);_0x380884[_0x18e4ff(0x32f)](_0x5e1fe2=>_0x2c6f6a['add'](_0x5e1fe2)),_0x2c6f6a[_0x18e4ff(0x136)](_0x1bdd33['owner']),this[_0x18e4ff(0x82a)][_0x18e4ff(0x216)](this['instanceName']+'\x20('+this[_0x18e4ff(0x478)]['wuid']+_0x18e4ff(0x193)+Array['from'](_0x380884)),this[_0x18e4ff(0x82a)][_0x18e4ff(0x216)](this['instanceName']+'\x20('+this[_0x18e4ff(0x478)][_0x18e4ff(0x456)]+_0x18e4ff(0x7d7)+Array[_0x18e4ff(0x696)](_0x2c6f6a));let _0x5a41fe=await this[_0x18e4ff(0x19b)](Array[_0x18e4ff(0x696)](_0x2c6f6a)),_0x25b931=Array[_0x18e4ff(0x696)](_0x380884)[_0x18e4ff(0x17c)](_0x14370d=>_0x5a41fe['includes'](_0x14370d)),_0x2c1e0d=Array['from'](_0x2c6f6a)[_0x18e4ff(0x17c)](_0x158fa7=>_0x5a41fe[_0x18e4ff(0x708)](_0x158fa7));this[_0x18e4ff(0x82a)][_0x18e4ff(0x216)](this[_0x18e4ff(0x798)]+'\x20('+this[_0x18e4ff(0x478)][_0x18e4ff(0x456)]+_0x18e4ff(0x220)+_0x25b931),this['logger']['verbose'](this[_0x18e4ff(0x798)]+'\x20('+this['instance'][_0x18e4ff(0x456)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x2c1e0d);let _0x3d5176={..._0x1bdd33,..._0x35013c,'whoCanEdit':_0x25b931,'whoCanUse':_0x2c1e0d},_0x5f318c=await this[_0x18e4ff(0x6ae)]['flow'][_0x18e4ff(0x768)](_0x1bdd33[_0x18e4ff(0x2f9)],_0x3d5176);return await this[_0x18e4ff(0x66e)](),_0x5f318c;}catch(_0x2e92cc){let _0x24a47d=_0x18e4ff(0x673),_0x1afc30=_0x2e92cc instanceof Error?_0x2e92cc[_0x18e4ff(0x5af)]:typeof _0x2e92cc==_0x18e4ff(0x3ae)?JSON[_0x18e4ff(0x15a)](_0x2e92cc):_0x2e92cc,_0x1cd8cf=_0x24a47d+':\x20'+_0x1afc30;throw this[_0x18e4ff(0x82a)][_0x18e4ff(0x495)](this[_0x18e4ff(0x798)]+'\x20('+this[_0x18e4ff(0x478)][_0x18e4ff(0x456)]+_0x18e4ff(0x1db)+_0x1cd8cf),new m(_0x1cd8cf);}}async[a0_0x2a87a6(0x19b)](_0x54e73e){const _0x57dfd9=a0_0x2a87a6;let _0x4687f7={'numbers':_0x54e73e};return(await this[_0x57dfd9(0x7e0)](_0x4687f7))[_0x57dfd9(0x17c)](_0x214113=>_0x214113['exists'])['map'](_0x8891e1=>_0x8891e1['jid'])[_0x57dfd9(0x639)](_0x255097=>this[_0x57dfd9(0x79b)](_0x255097));}[a0_0x2a87a6(0x79b)](_0xafb6d9){let _0x1c58f0=_0xafb6d9['match'](/\d+/);return _0x1c58f0?_0x1c58f0[0x0]:'';}async[a0_0x2a87a6(0x32c)](_0xf9e561){const _0x355154=a0_0x2a87a6;try{if(this[_0x355154(0x82a)][_0x355154(0x216)](this[_0x355154(0x798)]+'\x20('+this[_0x355154(0x478)][_0x355154(0x456)]+_0x355154(0x64d)),!this[_0x355154(0x77d)]['flows'][_0x355154(0x2f6)](_0x493603=>_0x493603['_id']===_0xf9e561[_0x355154(0x2f9)]))throw this['logger'][_0x355154(0x216)](this[_0x355154(0x798)]+'\x20('+this['instance'][_0x355154(0x456)]+_0x355154(0x69b)+_0xf9e561[_0x355154(0x2f9)]+_0x355154(0x1e7)),new m(_0x355154(0x1ab));let _0x1c8ff1=await this['repository'][_0x355154(0x452)]['findOne']({'where':{'_id':_0xf9e561[_0x355154(0x2f9)]}});if(!_0x1c8ff1||!_0x1c8ff1[_0x355154(0x718)]?.[_0x355154(0x708)](this[_0x355154(0x478)][_0x355154(0x456)]))throw this[_0x355154(0x82a)][_0x355154(0x495)](this[_0x355154(0x798)]+'\x20('+this[_0x355154(0x478)][_0x355154(0x456)]+'):\x20Flow\x20\x27'+_0xf9e561[_0x355154(0x2f9)]+_0x355154(0x514)),new m('Flow\x20\x27'+_0xf9e561[_0x355154(0x2f9)]+_0x355154(0x514));if(!_0x1c8ff1['whoCanEdit']?.[_0x355154(0x708)](this[_0x355154(0x478)][_0x355154(0x456)]))throw new m(_0x355154(0x227));let {block:_0x172698}=_0xf9e561;_0x172698?.[_0x355154(0x6cb)]?this[_0x355154(0x865)](_0x1c8ff1,_0xf9e561):_0x172698?.['delete']?this[_0x355154(0x528)](_0x1c8ff1,_0xf9e561):_0x172698[_0x355154(0x2f9)]?await this['updateBlock'](_0x1c8ff1,_0xf9e561):this[_0x355154(0x79d)](_0x1c8ff1,_0xf9e561);let _0x18dad7=await this[_0x355154(0x6ae)][_0x355154(0x452)][_0x355154(0x768)](_0x1c8ff1['_id'],_0x1c8ff1);if(!_0x18dad7)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x18dad7;}catch(_0x5530aa){this[_0x355154(0x507)](_0x355154(0x2b5)+_0x5530aa[_0x355154(0x5af)]);}}async[a0_0x2a87a6(0x865)](_0x3899e5,_0x1c25ec){const _0x4ebdef=a0_0x2a87a6;let _0x1be4b9=_0x1c25ec[_0x4ebdef(0x3d0)][_0x4ebdef(0x2f9)],_0x14b680=_0x3899e5['blocks'][_0x4ebdef(0x2f6)](_0x235c2a=>_0x235c2a['_id']['toString']()===_0x1be4b9);if(!_0x14b680){this[_0x4ebdef(0x82a)][_0x4ebdef(0x495)](this[_0x4ebdef(0x798)]+'\x20('+this[_0x4ebdef(0x478)]['wuid']+_0x4ebdef(0x632)+_0x1be4b9+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x4ebdef(0x82a)][_0x4ebdef(0x216)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4ebdef(0x1c1)+JSON[_0x4ebdef(0x15a)](_0x14b680));let _0x41e732=JSON['parse'](JSON[_0x4ebdef(0x15a)](_0x14b680));_0x41e732['_id']=new fe['default']['Types']['ObjectId'](),this[_0x4ebdef(0x82a)][_0x4ebdef(0x216)](this[_0x4ebdef(0x798)]+'\x20('+this[_0x4ebdef(0x478)]['wuid']+'):\x20Bloco\x20copiado:\x20'+JSON['stringify'](_0x41e732)),_0x3899e5['blocks'][_0x4ebdef(0x67c)](_0x41e732),this[_0x4ebdef(0x85c)](_0x3899e5[_0x4ebdef(0x71d)],_0x41e732[_0x4ebdef(0x690)]);}['throwAndLogError'](_0x7e4508){const _0x986b99=a0_0x2a87a6;throw this[_0x986b99(0x82a)][_0x986b99(0x495)](this[_0x986b99(0x798)]+'\x20('+this[_0x986b99(0x478)]['wuid']+'):\x20'+_0x7e4508),new m(_0x7e4508);}[a0_0x2a87a6(0x528)](_0x4961d8,_0xd62787){const _0x1155a3=a0_0x2a87a6;let {block:_0x1ac1e1}=_0xd62787;if(_0x1ac1e1[_0x1155a3(0x3c1)]===_0x1155a3(0x432)){this[_0x1155a3(0x507)](_0x1155a3(0x56f));return;}if(!_0x1ac1e1[_0x1155a3(0x2f9)]){this[_0x1155a3(0x507)](_0x1155a3(0x6ff));return;}let _0xbda087=_0x4961d8[_0x1155a3(0x71d)]['find'](_0x22d2d6=>_0x22d2d6[_0x1155a3(0x2f9)][_0x1155a3(0x635)]()===_0xd62787['block']['_id'][_0x1155a3(0x635)]());if(!_0xbda087){this[_0x1155a3(0x507)](_0x1155a3(0x419)+_0x1ac1e1['_id']+'\x20não\x20encontrado');return;}_0x4961d8[_0x1155a3(0x71d)]=_0x4961d8['blocks'][_0x1155a3(0x17c)](_0x1e8e6c=>_0x1e8e6c[_0x1155a3(0x2f9)][_0x1155a3(0x635)]()!==_0xd62787[_0x1155a3(0x3d0)]['_id'][_0x1155a3(0x635)]()),_0x4961d8[_0x1155a3(0x80b)]=_0x4961d8['conditions']['filter'](_0x6a2557=>_0x6a2557[_0x1155a3(0x575)]!==_0x1ac1e1[_0x1155a3(0x2f9)][_0x1155a3(0x635)]()),_0x4961d8[_0x1155a3(0x743)]=_0x4961d8[_0x1155a3(0x743)][_0x1155a3(0x17c)](_0x39813d=>_0x39813d['blockId']!==_0x1ac1e1[_0x1155a3(0x2f9)][_0x1155a3(0x635)]()),_0x4961d8[_0x1155a3(0x7bf)]=_0x4961d8[_0x1155a3(0x7bf)][_0x1155a3(0x17c)](_0x4c77b4=>_0x4c77b4[_0x1155a3(0x575)]!==_0x1ac1e1[_0x1155a3(0x2f9)][_0x1155a3(0x635)]()),this['reorderBlocks'](_0x4961d8[_0x1155a3(0x71d)],_0xbda087[_0x1155a3(0x690)]);}async[a0_0x2a87a6(0x652)](_0x382426,_0x18fd36){const _0x3d1284=a0_0x2a87a6;let _0x8701cc=_0x382426[_0x3d1284(0x71d)][_0x3d1284(0x3f3)](_0x12230c=>_0x12230c[_0x3d1284(0x2f9)]['toString']()===_0x18fd36[_0x3d1284(0x3d0)]['_id']['toString']());if(this[_0x3d1284(0x82a)][_0x3d1284(0x216)](this[_0x3d1284(0x798)]+'\x20('+this[_0x3d1284(0x478)][_0x3d1284(0x456)]+_0x3d1284(0x7e3)+_0x8701cc),_0x8701cc===-0x1){this[_0x3d1284(0x82a)]['verbose'](_0x3d1284(0x419)+_0x18fd36[_0x3d1284(0x3d0)][_0x3d1284(0x2f9)]+_0x3d1284(0x6bc));return;}if(_0x382426['blocks'][_0x8701cc][_0x3d1284(0x3c1)]==='start'){let _0xb15899=Object['keys'](_0x18fd36[_0x3d1284(0x3d0)]);if(_0xb15899[_0x3d1284(0x30d)]>0x2||_0xb15899['length']===0x2&&!_0xb15899[_0x3d1284(0x708)]('next_groupId')){this[_0x3d1284(0x507)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x39e285=_0x382426[_0x3d1284(0x71d)][_0x8701cc][_0x3d1284(0x690)];for(let _0x41f1ea in _0x18fd36[_0x3d1284(0x3d0)])_0x18fd36[_0x3d1284(0x3d0)][_0x3d1284(0x26c)](_0x41f1ea)&&(_0x382426[_0x3d1284(0x71d)][_0x8701cc][_0x41f1ea]=_0x18fd36[_0x3d1284(0x3d0)][_0x41f1ea]);if(this[_0x3d1284(0x82a)][_0x3d1284(0x216)](this['instanceName']+'\x20('+this['instance'][_0x3d1284(0x456)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x3d1284(0x15a)](_0x382426[_0x3d1284(0x71d)][_0x8701cc])),_0x382426[_0x3d1284(0x71d)][_0x8701cc]['apirequest']&&_0x3d1284(0x540)in _0x382426[_0x3d1284(0x71d)][_0x8701cc]['apirequest']){this[_0x3d1284(0x82a)]['verbose'](this[_0x3d1284(0x798)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x22117b=JSON[_0x3d1284(0x15a)](_0x382426[_0x3d1284(0x71d)][_0x8701cc]['apirequest'][_0x3d1284(0x540)],null,0x1);_0x22117b[_0x3d1284(0x30d)]>0x2&&(_0x22117b=_0x22117b[_0x3d1284(0x6c5)](0x1,_0x22117b['length']-0x1)[_0x3d1284(0x6b0)]()),_0x382426[_0x3d1284(0x71d)][_0x8701cc][_0x3d1284(0x58e)]['headerString']=_0x22117b;}if(_0x382426[_0x3d1284(0x71d)][_0x8701cc]['apirequest']&&_0x3d1284(0x5cc)in _0x382426[_0x3d1284(0x71d)][_0x8701cc]['apirequest']&&!(_0x3d1284(0x25e)in _0x382426[_0x3d1284(0x71d)][_0x8701cc][_0x3d1284(0x58e)])){this[_0x3d1284(0x82a)][_0x3d1284(0x216)](this[_0x3d1284(0x798)]+'\x20('+this[_0x3d1284(0x478)][_0x3d1284(0x456)]+_0x3d1284(0x22a)),_0x382426[_0x3d1284(0x71d)][_0x8701cc][_0x3d1284(0x58e)][_0x3d1284(0x5d6)]=!0x1;let _0x4ac241=JSON[_0x3d1284(0x15a)](_0x382426['blocks'][_0x8701cc]['apirequest'][_0x3d1284(0x5cc)],null,0x2);_0x382426['blocks'][_0x8701cc][_0x3d1284(0x58e)][_0x3d1284(0x25e)]=_0x4ac241;}if(_0x382426['blocks'][_0x8701cc][_0x3d1284(0x58e)]&&_0x3d1284(0x25e)in _0x382426[_0x3d1284(0x71d)][_0x8701cc][_0x3d1284(0x58e)]){_0x382426[_0x3d1284(0x71d)][_0x8701cc][_0x3d1284(0x58e)][_0x3d1284(0x5d6)]=!0x1;let _0x4b14ce=_0x382426['blocks'][_0x8701cc][_0x3d1284(0x58e)][_0x3d1284(0x25e)],_0x5de208=this[_0x3d1284(0x4c7)](_0x4b14ce);_0x382426[_0x3d1284(0x71d)][_0x8701cc][_0x3d1284(0x58e)][_0x3d1284(0x25e)]=_0x5de208[_0x3d1284(0x7be)],_0x382426[_0x3d1284(0x71d)][_0x8701cc]['apirequest']['bodyStringErrorParse']=_0x5de208['error'];}let _0xdb6bd9=_0x382426[_0x3d1284(0x71d)][_0x8701cc]['groupId'];_0x39e285!==_0xdb6bd9?(this[_0x3d1284(0x85c)](_0x382426[_0x3d1284(0x71d)],_0x39e285),this['reorderBlocks'](_0x382426[_0x3d1284(0x71d)],_0xdb6bd9)):this[_0x3d1284(0x85c)](_0x382426[_0x3d1284(0x71d)],_0x39e285);}['beautifyWithPlaceholders'](_0x112afb){const _0x1f6d97=a0_0x2a87a6;let _0x442e2d='\u205f',_0x1a57c0=!0x1,_0x2b0910='';for(let _0x35643c=0x0;_0x35643c<_0x112afb[_0x1f6d97(0x30d)];_0x35643c++){let _0x1ad8ed=_0x112afb[_0x35643c];_0x1ad8ed==='\x22'&&(_0x35643c===0x0||_0x112afb[_0x35643c-0x1]!=='\x5c')&&(_0x1a57c0=!_0x1a57c0),!(!_0x1a57c0&&(_0x1ad8ed==='\x0a'||_0x1ad8ed==='\x20'||_0x1ad8ed===_0x442e2d))&&(_0x2b0910+=_0x1ad8ed);}let _0x54928d={},_0x37c9fc=9876543210.1234,_0x3ac90a=_0x2b0910[_0x1f6d97(0x1ee)](/\{\{([^}]+)\}\}/g,_0x4692fa=>{let _0x570f43=_0x4692fa,_0x3ffe51=''+_0x37c9fc;return _0x54928d[_0x3ffe51]=_0x570f43,_0x37c9fc+=0.0001,_0x3ffe51;}),_0x1953d7='',_0x5cc4f4=!0x1;try{let _0x3ee013=JSON[_0x1f6d97(0x510)](_0x3ac90a);_0x1953d7=JSON[_0x1f6d97(0x15a)](_0x3ee013,null,0x2),_0x1953d7=_0x1953d7[_0x1f6d97(0x1ee)](/\n( +)/g,(_0x19b71f,_0x1b3103)=>{const _0x4ab029=_0x1f6d97;let _0x48525e=_0x1b3103[_0x4ab029(0x30d)];return'\x0a'+_0x442e2d[_0x4ab029(0x792)](_0x48525e*0x2);}),_0x1953d7=_0x1953d7['replace'](/(\d{10,}\.\d+)/g,_0x16a07b=>_0x54928d[_0x16a07b]||_0x16a07b);}catch(_0x449bc){this[_0x1f6d97(0x82a)][_0x1f6d97(0x495)](_0x1f6d97(0x233)+_0x449bc),_0x1953d7=_0x112afb,_0x5cc4f4=!0x0;}return{'result':_0x1953d7,'error':_0x5cc4f4};}[a0_0x2a87a6(0x79d)](_0x390771,_0x167d9f){const _0x3916a0=a0_0x2a87a6;if(_0x167d9f[_0x3916a0(0x3d0)][_0x3916a0(0x3c1)]===_0x3916a0(0x432)){this[_0x3916a0(0x507)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x167d9f['block'][_0x3916a0(0x58e)]&&_0x3916a0(0x540)in _0x167d9f[_0x3916a0(0x3d0)][_0x3916a0(0x58e)]){this[_0x3916a0(0x82a)][_0x3916a0(0x216)](this['instanceName']+'\x20('+this[_0x3916a0(0x478)]['wuid']+_0x3916a0(0x160));let _0x7a8ebe=JSON[_0x3916a0(0x15a)](_0x167d9f[_0x3916a0(0x3d0)][_0x3916a0(0x58e)]['header'],null,0x1);_0x7a8ebe['length']>0x2&&(_0x7a8ebe=_0x7a8ebe[_0x3916a0(0x6c5)](0x1,_0x7a8ebe[_0x3916a0(0x30d)]-0x1)['trim']()),_0x167d9f['block'][_0x3916a0(0x58e)]['headerString']=_0x7a8ebe;}_0x167d9f[_0x3916a0(0x3d0)]['apirequest']&&_0x3916a0(0x5cc)in _0x167d9f[_0x3916a0(0x3d0)][_0x3916a0(0x58e)]&&(this[_0x3916a0(0x82a)][_0x3916a0(0x216)](this[_0x3916a0(0x798)]+'\x20('+this['instance']['wuid']+_0x3916a0(0x22a)),_0x167d9f[_0x3916a0(0x3d0)]['apirequest'][_0x3916a0(0x25e)]=JSON[_0x3916a0(0x15a)](_0x167d9f['block'][_0x3916a0(0x58e)]['body'],null,0x1)[_0x3916a0(0x6b0)]()),_0x390771[_0x3916a0(0x71d)][_0x3916a0(0x67c)](_0x167d9f[_0x3916a0(0x3d0)]),this[_0x3916a0(0x85c)](_0x390771['blocks'],_0x167d9f[_0x3916a0(0x3d0)][_0x3916a0(0x690)]);}[a0_0x2a87a6(0x85c)](_0xdf8e52,_0xa9d658){const _0x61332c=a0_0x2a87a6;let _0x12ee13=_0xdf8e52[_0x61332c(0x17c)](_0x50cb64=>_0x50cb64['groupId']===_0xa9d658);_0x12ee13[_0x61332c(0x7ce)]((_0x51ac59,_0x49a0f6)=>_0x51ac59[_0x61332c(0x4ec)]-_0x49a0f6[_0x61332c(0x4ec)]),_0x12ee13[_0x61332c(0x32f)]((_0x4c9357,_0x785a6a)=>_0x4c9357[_0x61332c(0x4ec)]=_0x785a6a+0x1);}async[a0_0x2a87a6(0x700)](_0x4fb2b7){const _0x234806=a0_0x2a87a6;try{if(this['logger'][_0x234806(0x216)](this['instanceName']+'\x20('+this[_0x234806(0x478)]['wuid']+_0x234806(0x6e0)),!_0x4fb2b7||!_0x4fb2b7[_0x234806(0x311)]){this[_0x234806(0x507)]('Data\x20inválida\x20fornecida');return;}if(!this['AutomateSystem'][_0x234806(0x70a)][_0x234806(0x2f6)](_0x285a1a=>_0x285a1a[_0x234806(0x2f9)]===_0x4fb2b7[_0x234806(0x2f9)]))throw this[_0x234806(0x82a)][_0x234806(0x216)](this[_0x234806(0x798)]+'\x20('+this[_0x234806(0x478)]['wuid']+_0x234806(0x69b)+_0x4fb2b7[_0x234806(0x2f9)]+_0x234806(0x1e7)),new m(_0x234806(0x1ab));let _0x3bdaa2=await this[_0x234806(0x6ae)]['flow'][_0x234806(0x654)]({'where':{'_id':_0x4fb2b7[_0x234806(0x2f9)]}});if(!_0x3bdaa2||!_0x3bdaa2[_0x234806(0x718)]?.[_0x234806(0x708)](this['instance'][_0x234806(0x456)]))throw this[_0x234806(0x82a)][_0x234806(0x495)](this[_0x234806(0x798)]+'\x20('+this[_0x234806(0x478)][_0x234806(0x456)]+_0x234806(0x55d)+_0x4fb2b7[_0x234806(0x2f9)]+_0x234806(0x514)),new m(_0x234806(0x371)+_0x4fb2b7[_0x234806(0x2f9)]+_0x234806(0x514));if(!_0x3bdaa2[_0x234806(0x413)]?.[_0x234806(0x708)](this[_0x234806(0x478)][_0x234806(0x456)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x344795}=_0x4fb2b7;_0x344795?.[_0x234806(0x17e)]?(this[_0x234806(0x59e)](_0x3bdaa2,_0x4fb2b7),this[_0x234806(0x5c7)](_0x3bdaa2['replyOptions'],_0x4fb2b7[_0x234806(0x311)]['blockId'])):_0x344795[_0x234806(0x2f9)]?(await this[_0x234806(0x762)](_0x3bdaa2,_0x4fb2b7),this['reorderReplyOptions'](_0x3bdaa2[_0x234806(0x7bf)],_0x4fb2b7[_0x234806(0x311)][_0x234806(0x575)])):(this['addReplyOption'](_0x3bdaa2,_0x4fb2b7),this[_0x234806(0x5c7)](_0x3bdaa2['replyOptions'],_0x4fb2b7[_0x234806(0x311)][_0x234806(0x575)]));let _0xdc6737=await this[_0x234806(0x6ae)]['flow'][_0x234806(0x768)](_0x3bdaa2[_0x234806(0x2f9)],_0x3bdaa2);if(!_0xdc6737)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0xdc6737;}catch(_0x3caa91){this[_0x234806(0x507)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x3caa91);}}[a0_0x2a87a6(0x5c7)](_0x3cf4ed,_0x369611){const _0x2b1bc1=a0_0x2a87a6;_0x3cf4ed[_0x2b1bc1(0x32f)](_0x56ebf5=>{const _0x119858=_0x2b1bc1;_0x56ebf5[_0x119858(0x575)]===_0x369611&&_0x56ebf5[_0x119858(0x4ec)]===void 0x0&&(_0x56ebf5[_0x119858(0x4ec)]=0x270f);});let _0x19f60b=_0x3cf4ed[_0x2b1bc1(0x17c)](_0x38bae4=>_0x38bae4[_0x2b1bc1(0x575)]===_0x369611);_0x19f60b[_0x2b1bc1(0x7ce)]((_0x2bb29f,_0xfa6749)=>_0x2bb29f['order']-_0xfa6749[_0x2b1bc1(0x4ec)]),_0x19f60b['forEach']((_0x1b5d6d,_0x5e89a4)=>{const _0x43b5fe=_0x2b1bc1;_0x1b5d6d[_0x43b5fe(0x4ec)]=_0x5e89a4+0x1;}),_0x3cf4ed[_0x2b1bc1(0x32f)](_0x972ab3=>{const _0x10ca22=_0x2b1bc1;if(_0x972ab3['blockId']===_0x369611){let _0x3574e4=_0x19f60b[_0x10ca22(0x2f6)](_0x31135d=>_0x31135d['_id']&&_0x972ab3[_0x10ca22(0x2f9)]&&_0x31135d['_id'][_0x10ca22(0x635)]()===_0x972ab3[_0x10ca22(0x2f9)][_0x10ca22(0x635)]());_0x3574e4&&(_0x972ab3['order']=_0x3574e4['order']);}});}['deleteReplyOption'](_0x5463fc,_0x57981f){const _0x57fa8d=a0_0x2a87a6;let {replyOption:_0x204f4b}=_0x57981f;if(!_0x204f4b[_0x57fa8d(0x2f9)]){this[_0x57fa8d(0x507)](_0x57fa8d(0x5e6));return;}if(!_0x5463fc[_0x57fa8d(0x7bf)][_0x57fa8d(0x2f6)](_0x12c27a=>_0x12c27a[_0x57fa8d(0x2f9)][_0x57fa8d(0x635)]()===_0x57981f[_0x57fa8d(0x311)][_0x57fa8d(0x2f9)][_0x57fa8d(0x635)]())){this[_0x57fa8d(0x507)](_0x57fa8d(0x694)+_0x204f4b[_0x57fa8d(0x2f9)]+_0x57fa8d(0x37b));return;}_0x5463fc[_0x57fa8d(0x7bf)]=_0x5463fc[_0x57fa8d(0x7bf)][_0x57fa8d(0x17c)](_0x207018=>_0x207018[_0x57fa8d(0x2f9)][_0x57fa8d(0x635)]()!==_0x57981f[_0x57fa8d(0x311)][_0x57fa8d(0x2f9)][_0x57fa8d(0x635)]());}async[a0_0x2a87a6(0x762)](_0x5c475a,_0x5f26fc){const _0x156966=a0_0x2a87a6;let _0xdbf8e4=_0x5c475a[_0x156966(0x7bf)][_0x156966(0x3f3)](_0x26df19=>_0x26df19[_0x156966(0x2f9)]['toString']()===_0x5f26fc[_0x156966(0x311)][_0x156966(0x2f9)]['toString']());if(_0xdbf8e4===-0x1){this[_0x156966(0x507)](_0x156966(0x694)+_0x5f26fc[_0x156966(0x311)][_0x156966(0x2f9)]+_0x156966(0x6bc));return;}for(let _0x1f5492 in _0x5f26fc['replyOption'])_0x5f26fc[_0x156966(0x311)][_0x156966(0x26c)](_0x1f5492)&&(_0x5c475a[_0x156966(0x7bf)][_0xdbf8e4][_0x1f5492]=_0x5f26fc[_0x156966(0x311)][_0x1f5492]);}[a0_0x2a87a6(0x504)](_0x467d12,_0x4437cf){const _0x3322a5=a0_0x2a87a6;_0x467d12[_0x3322a5(0x7bf)][_0x3322a5(0x67c)](_0x4437cf[_0x3322a5(0x311)]);}async['editFlowGroup'](_0x327a39){const _0x2d4022=a0_0x2a87a6;this[_0x2d4022(0x82a)][_0x2d4022(0x216)](this[_0x2d4022(0x798)]+'\x20('+this[_0x2d4022(0x478)]['wuid']+_0x2d4022(0x697)+JSON[_0x2d4022(0x15a)](_0x327a39,null,0x2));try{if(this[_0x2d4022(0x82a)]['verbose'](this[_0x2d4022(0x798)]+'\x20('+this[_0x2d4022(0x478)]['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this[_0x2d4022(0x77d)][_0x2d4022(0x70a)][_0x2d4022(0x2f6)](_0x1e963c=>_0x1e963c['_id']===_0x327a39[_0x2d4022(0x2f9)]))throw this['logger'][_0x2d4022(0x216)](this[_0x2d4022(0x798)]+'\x20('+this[_0x2d4022(0x478)]['wuid']+'):\x20Fluxo\x20\x27'+_0x327a39[_0x2d4022(0x2f9)]+_0x2d4022(0x1e7)),new m(_0x2d4022(0x1ab));let _0x340683=await this[_0x2d4022(0x6ae)][_0x2d4022(0x452)][_0x2d4022(0x654)]({'where':{'_id':_0x327a39[_0x2d4022(0x2f9)]}});if(!_0x340683||!_0x340683[_0x2d4022(0x718)]?.[_0x2d4022(0x708)](this[_0x2d4022(0x478)]['wuid']))throw this[_0x2d4022(0x82a)]['error'](this[_0x2d4022(0x798)]+'\x20('+this[_0x2d4022(0x478)]['wuid']+_0x2d4022(0x55d)+_0x327a39[_0x2d4022(0x2f9)]+_0x2d4022(0x514)),new m(_0x2d4022(0x371)+_0x327a39[_0x2d4022(0x2f9)]+_0x2d4022(0x514));if(!_0x340683[_0x2d4022(0x413)]?.[_0x2d4022(0x708)](this[_0x2d4022(0x478)][_0x2d4022(0x456)]))throw new m(_0x2d4022(0x227));if(_0x327a39[_0x2d4022(0x137)]&&_0x327a39['group']?.[_0x2d4022(0x17e)]===!0x0){if(this[_0x2d4022(0x82a)][_0x2d4022(0x216)](this[_0x2d4022(0x798)]+'\x20('+this[_0x2d4022(0x478)][_0x2d4022(0x456)]+_0x2d4022(0x15f)),_0x327a39[_0x2d4022(0x137)][_0x2d4022(0x667)]===!0x0)return{'message':_0x2d4022(0x773)};if(_0x340683['blocks'][_0x2d4022(0x7e4)](_0x1cfd25=>_0x1cfd25[_0x2d4022(0x690)][_0x2d4022(0x635)]()===_0x327a39[_0x2d4022(0x137)]['_id']))return this[_0x2d4022(0x82a)][_0x2d4022(0x216)](this[_0x2d4022(0x798)]+'\x20('+this[_0x2d4022(0x478)]['wuid']+_0x2d4022(0x577)),{'message':_0x2d4022(0x74a)};_0x340683[_0x2d4022(0x5d2)]=_0x340683['groups'][_0x2d4022(0x17c)](_0xc7b047=>_0xc7b047[_0x2d4022(0x2f9)][_0x2d4022(0x635)]()!==_0x327a39[_0x2d4022(0x137)][_0x2d4022(0x2f9)]);}else{if(_0x327a39[_0x2d4022(0x137)]){if(_0x327a39[_0x2d4022(0x137)][_0x2d4022(0x667)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x327a39[_0x2d4022(0x137)][_0x2d4022(0x2f9)]){let _0x355ee1=_0x340683[_0x2d4022(0x5d2)]['find'](_0xf6a887=>_0xf6a887[_0x2d4022(0x2f9)]['toString']()===_0x327a39[_0x2d4022(0x137)][_0x2d4022(0x2f9)]);_0x355ee1&&(_0x327a39[_0x2d4022(0x137)]['x']<0x0&&(_0x327a39[_0x2d4022(0x137)]['x']=0x0),_0x327a39[_0x2d4022(0x137)]['y']<0x0&&(_0x327a39[_0x2d4022(0x137)]['y']=0x0),Object[_0x2d4022(0x7b1)](_0x355ee1,_0x327a39[_0x2d4022(0x137)]));}else _0x340683[_0x2d4022(0x5d2)]['push'](_0x327a39[_0x2d4022(0x137)]);}}let _0x1fff9b=await this[_0x2d4022(0x6ae)]['flow'][_0x2d4022(0x768)](_0x340683[_0x2d4022(0x2f9)],_0x340683);if(!_0x1fff9b)throw new Error(_0x2d4022(0x820));return _0x1fff9b;}catch(_0x2c66fe){let _0x46bd37=_0x2d4022(0x722),_0x19e214=_0x2c66fe instanceof Error?_0x2c66fe[_0x2d4022(0x5af)]:typeof _0x2c66fe==_0x2d4022(0x3ae)?JSON[_0x2d4022(0x15a)](_0x2c66fe):_0x2c66fe,_0x272280=_0x46bd37+':\x20'+_0x19e214;throw this[_0x2d4022(0x82a)][_0x2d4022(0x495)](this['instanceName']+'\x20('+this['instance'][_0x2d4022(0x456)]+'):\x20'+_0x272280),new m(_0x272280);}}async['editFlowCondition'](_0x12325a){const _0x43b611=a0_0x2a87a6;try{if(this[_0x43b611(0x82a)][_0x43b611(0x216)](this[_0x43b611(0x798)]+'\x20('+this[_0x43b611(0x478)][_0x43b611(0x456)]+_0x43b611(0x13f)),!this['AutomateSystem']['flows'][_0x43b611(0x2f6)](_0x3b03b8=>_0x3b03b8[_0x43b611(0x2f9)]===_0x12325a['_id']))throw this['logger'][_0x43b611(0x216)](this['instanceName']+'\x20('+this[_0x43b611(0x478)][_0x43b611(0x456)]+_0x43b611(0x69b)+_0x12325a[_0x43b611(0x2f9)]+_0x43b611(0x1e7)),new m(_0x43b611(0x1ab));let _0x324a42=await this[_0x43b611(0x6ae)][_0x43b611(0x452)][_0x43b611(0x654)]({'where':{'_id':_0x12325a[_0x43b611(0x2f9)]}});if(!_0x324a42||!_0x324a42[_0x43b611(0x718)]?.[_0x43b611(0x708)](this[_0x43b611(0x478)][_0x43b611(0x456)]))throw this[_0x43b611(0x82a)][_0x43b611(0x495)](this[_0x43b611(0x798)]+'\x20('+this[_0x43b611(0x478)][_0x43b611(0x456)]+'):\x20Flow\x20\x27'+_0x12325a[_0x43b611(0x2f9)]+_0x43b611(0x514)),new m(_0x43b611(0x371)+_0x12325a[_0x43b611(0x2f9)]+_0x43b611(0x514));if(!_0x324a42['whoCanEdit']?.[_0x43b611(0x708)](this[_0x43b611(0x478)][_0x43b611(0x456)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x45b05b=!0x1;if(_0x12325a[_0x43b611(0x34d)]?.[_0x43b611(0x17e)]===!0x0)_0x324a42['conditions']=_0x324a42[_0x43b611(0x80b)][_0x43b611(0x17c)](_0x2cb055=>_0x2cb055&&_0x12325a[_0x43b611(0x34d)]&&_0x2cb055[_0x43b611(0x2f9)]&&_0x12325a[_0x43b611(0x34d)][_0x43b611(0x2f9)]&&_0x2cb055[_0x43b611(0x2f9)][_0x43b611(0x635)]()!==_0x12325a['condition'][_0x43b611(0x2f9)][_0x43b611(0x635)]()),_0x45b05b=!0x0;else{let _0x1bbd20=_0x324a42[_0x43b611(0x80b)][_0x43b611(0x2f6)](_0x58e1fa=>_0x58e1fa&&_0x12325a[_0x43b611(0x34d)]&&_0x58e1fa[_0x43b611(0x2f9)]&&_0x12325a[_0x43b611(0x34d)][_0x43b611(0x2f9)]&&_0x58e1fa[_0x43b611(0x2f9)][_0x43b611(0x635)]()===_0x12325a['condition'][_0x43b611(0x2f9)][_0x43b611(0x635)]());_0x1bbd20?(_0x45b05b=_0x1bbd20[_0x43b611(0x4ec)]!==_0x12325a[_0x43b611(0x34d)][_0x43b611(0x4ec)],Object['assign'](_0x1bbd20,_0x12325a[_0x43b611(0x34d)])):(_0x324a42[_0x43b611(0x80b)][_0x43b611(0x67c)](_0x12325a[_0x43b611(0x34d)]),_0x45b05b=!0x0);}if(_0x45b05b){_0x324a42[_0x43b611(0x80b)][_0x43b611(0x7ce)]((_0x474b3c,_0x52b70)=>_0x474b3c[_0x43b611(0x4ec)]>_0x52b70[_0x43b611(0x4ec)]?0x1:_0x52b70[_0x43b611(0x4ec)]>_0x474b3c[_0x43b611(0x4ec)]?-0x1:0x0);for(let _0x5cba1d=0x0;_0x5cba1d<_0x324a42[_0x43b611(0x80b)][_0x43b611(0x30d)];_0x5cba1d++)_0x324a42[_0x43b611(0x80b)][_0x5cba1d][_0x43b611(0x4ec)]=_0x5cba1d+0x1;_0x324a42[_0x43b611(0x80b)][_0x43b611(0x30d)]>0x0&&(_0x324a42[_0x43b611(0x80b)][0x0]['OrAnd']=_0x43b611(0x39d));}let _0x41325e=await this[_0x43b611(0x6ae)][_0x43b611(0x452)]['updateOne'](_0x324a42[_0x43b611(0x2f9)],_0x324a42);if(!_0x41325e)throw new Error(_0x43b611(0x820));return _0x41325e;}catch(_0xdc7bfa){let _0x3badbe=_0x43b611(0x420),_0x3b2185=_0xdc7bfa instanceof Error?_0xdc7bfa['message']:typeof _0xdc7bfa==_0x43b611(0x3ae)?JSON[_0x43b611(0x15a)](_0xdc7bfa):_0xdc7bfa,_0x1c378f=_0x3badbe+':\x20'+_0x3b2185;throw this['logger']['error'](this[_0x43b611(0x798)]+'\x20('+this['instance'][_0x43b611(0x456)]+'):\x20'+_0x1c378f),new m(_0x1c378f);}}async[a0_0x2a87a6(0x4f0)](_0x2fb6ad){const _0x3788ab=a0_0x2a87a6;try{if(this['logger'][_0x3788ab(0x216)](this['instanceName']+'\x20('+this[_0x3788ab(0x478)]['wuid']+_0x3788ab(0x3c5)),!this[_0x3788ab(0x77d)]['flows'][_0x3788ab(0x2f6)](_0x286f88=>_0x286f88[_0x3788ab(0x2f9)]===_0x2fb6ad[_0x3788ab(0x2f9)]))throw this['logger'][_0x3788ab(0x216)](this['instanceName']+'\x20('+this[_0x3788ab(0x478)][_0x3788ab(0x456)]+'):\x20Fluxo\x20\x27'+_0x2fb6ad[_0x3788ab(0x2f9)]+_0x3788ab(0x1e7)),new m(_0x3788ab(0x1ab));let _0x2cff0d=await this[_0x3788ab(0x6ae)]['flow'][_0x3788ab(0x654)]({'where':{'_id':_0x2fb6ad[_0x3788ab(0x2f9)]}});if(!_0x2cff0d||!_0x2cff0d['whoCanUse']?.[_0x3788ab(0x708)](this[_0x3788ab(0x478)][_0x3788ab(0x456)]))throw this['logger'][_0x3788ab(0x495)](this[_0x3788ab(0x798)]+'\x20('+this[_0x3788ab(0x478)][_0x3788ab(0x456)]+_0x3788ab(0x55d)+_0x2fb6ad[_0x3788ab(0x2f9)]+_0x3788ab(0x514)),new m(_0x3788ab(0x371)+_0x2fb6ad['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x2cff0d[_0x3788ab(0x413)]?.[_0x3788ab(0x708)](this[_0x3788ab(0x478)][_0x3788ab(0x456)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x5bff51=!0x1;if(_0x2fb6ad['varedit']?.[_0x3788ab(0x17e)]===!0x0)_0x2cff0d[_0x3788ab(0x743)]=_0x2cff0d[_0x3788ab(0x743)][_0x3788ab(0x17c)](_0x383a65=>_0x383a65&&_0x2fb6ad[_0x3788ab(0x7a9)]&&_0x383a65['_id']&&_0x2fb6ad[_0x3788ab(0x7a9)][_0x3788ab(0x2f9)]&&_0x383a65[_0x3788ab(0x2f9)][_0x3788ab(0x635)]()!==_0x2fb6ad[_0x3788ab(0x7a9)]['_id']['toString']()),_0x5bff51=!0x0;else{let _0x21b5f4=_0x2cff0d[_0x3788ab(0x743)][_0x3788ab(0x2f6)](_0x37b8ac=>_0x37b8ac&&_0x2fb6ad['varedit']&&_0x37b8ac[_0x3788ab(0x2f9)]&&_0x2fb6ad['varedit'][_0x3788ab(0x2f9)]&&_0x37b8ac[_0x3788ab(0x2f9)][_0x3788ab(0x635)]()===_0x2fb6ad[_0x3788ab(0x7a9)][_0x3788ab(0x2f9)]['toString']());_0x21b5f4?(_0x5bff51=_0x21b5f4[_0x3788ab(0x4ec)]!==_0x2fb6ad[_0x3788ab(0x7a9)][_0x3788ab(0x4ec)],Object['assign'](_0x21b5f4,_0x2fb6ad[_0x3788ab(0x7a9)])):(_0x2cff0d['varedits'][_0x3788ab(0x67c)](_0x2fb6ad[_0x3788ab(0x7a9)]),_0x5bff51=!0x0);}if(_0x5bff51){_0x2cff0d[_0x3788ab(0x743)]['sort']((_0x30821b,_0x16e007)=>_0x30821b['order']>_0x16e007['order']?0x1:_0x16e007['order']>_0x30821b[_0x3788ab(0x4ec)]?-0x1:0x0);for(let _0x3a835b=0x0;_0x3a835b<_0x2cff0d['varedits'][_0x3788ab(0x30d)];_0x3a835b++)_0x2cff0d[_0x3788ab(0x743)][_0x3a835b][_0x3788ab(0x4ec)]=_0x3a835b+0x1;}let _0x484c1d=await this[_0x3788ab(0x6ae)][_0x3788ab(0x452)][_0x3788ab(0x768)](_0x2cff0d[_0x3788ab(0x2f9)],_0x2cff0d);if(!_0x484c1d)throw new Error(_0x3788ab(0x820));return _0x484c1d;}catch(_0x4fedbc){let _0x5f0f8d=_0x3788ab(0x420),_0x426cba=_0x4fedbc instanceof Error?_0x4fedbc[_0x3788ab(0x5af)]:typeof _0x4fedbc==_0x3788ab(0x3ae)?JSON['stringify'](_0x4fedbc):_0x4fedbc,_0x4c3577=_0x5f0f8d+':\x20'+_0x426cba;throw this[_0x3788ab(0x82a)][_0x3788ab(0x495)](this[_0x3788ab(0x798)]+'\x20('+this['instance'][_0x3788ab(0x456)]+_0x3788ab(0x1db)+_0x4c3577),new m(_0x4c3577);}}async[a0_0x2a87a6(0x323)](_0xa8369e){const _0xc051e=a0_0x2a87a6;try{if(this['logger'][_0xc051e(0x216)](this[_0xc051e(0x798)]+'\x20('+this['instance']['wuid']+_0xc051e(0x5bd)),!this['AutomateSystem']['flows'][_0xc051e(0x2f6)](_0x2c86d4=>_0x2c86d4[_0xc051e(0x2f9)]===_0xa8369e['_id']))throw this['logger'][_0xc051e(0x216)](this['instanceName']+'\x20('+this[_0xc051e(0x478)]['wuid']+'):\x20Fluxo\x20\x27'+_0xa8369e[_0xc051e(0x2f9)]+_0xc051e(0x1e7)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4ac4f6=await this[_0xc051e(0x6ae)]['flow'][_0xc051e(0x654)]({'where':{'_id':_0xa8369e[_0xc051e(0x2f9)]}});if(!_0x4ac4f6||!_0x4ac4f6['whoCanUse']?.[_0xc051e(0x708)](this['instance'][_0xc051e(0x456)]))throw this[_0xc051e(0x82a)][_0xc051e(0x495)](this[_0xc051e(0x798)]+'\x20('+this['instance'][_0xc051e(0x456)]+_0xc051e(0x55d)+_0xa8369e['_id']+_0xc051e(0x514)),new m(_0xc051e(0x371)+_0xa8369e[_0xc051e(0x2f9)]+_0xc051e(0x514));if(!_0x4ac4f6[_0xc051e(0x413)]?.[_0xc051e(0x708)](this[_0xc051e(0x478)][_0xc051e(0x456)]))throw new m(_0xc051e(0x227));_0xa8369e[_0xc051e(0x222)][_0xc051e(0x366)]=_0xa8369e[_0xc051e(0x222)][_0xc051e(0x366)][_0xc051e(0x6b0)](),_0xa8369e[_0xc051e(0x222)]['name'][_0xc051e(0x299)]('_')&&(_0xa8369e[_0xc051e(0x222)][_0xc051e(0x366)]=_0xa8369e['variable'][_0xc051e(0x366)][_0xc051e(0x6c5)](0x1)),_0xa8369e[_0xc051e(0x222)][_0xc051e(0x366)]=_0xa8369e[_0xc051e(0x222)][_0xc051e(0x366)][_0xc051e(0x6b0)]();let _0x58d0fb=_0x4ac4f6['variables'][_0xc051e(0x2f6)](_0xd6dffb=>_0xd6dffb[_0xc051e(0x366)]===_0xa8369e['variable'][_0xc051e(0x366)]);if(_0x58d0fb?.[_0xc051e(0x441)]===!0x0)throw new Error(_0xc051e(0x883));if(_0xa8369e['variable']?.[_0xc051e(0x17e)]===!0x0){if(!_0x58d0fb)return{'message':_0xc051e(0x5b2)};_0x4ac4f6[_0xc051e(0x37f)]=_0x4ac4f6[_0xc051e(0x37f)][_0xc051e(0x17c)](_0x50e0dc=>_0x50e0dc[_0xc051e(0x366)]!==_0xa8369e[_0xc051e(0x222)]['name']);}else _0x58d0fb?Object[_0xc051e(0x7b1)](_0x58d0fb,_0xa8369e['variable']):_0x4ac4f6[_0xc051e(0x37f)][_0xc051e(0x67c)](_0xa8369e[_0xc051e(0x222)]);let _0x1df705=await this[_0xc051e(0x6ae)][_0xc051e(0x452)][_0xc051e(0x768)](_0x4ac4f6[_0xc051e(0x2f9)],_0x4ac4f6);if(!_0x1df705)throw new Error(_0xc051e(0x820));return _0x1df705;}catch(_0x5f3eff){let _0x58e233=_0xc051e(0x772),_0xabdb5e=_0x5f3eff instanceof Error?_0x5f3eff[_0xc051e(0x5af)]:typeof _0x5f3eff==_0xc051e(0x3ae)?JSON[_0xc051e(0x15a)](_0x5f3eff):_0x5f3eff,_0x595063=_0x58e233+':\x20'+_0xabdb5e;throw this[_0xc051e(0x82a)][_0xc051e(0x495)](this[_0xc051e(0x798)]+'\x20('+this[_0xc051e(0x478)][_0xc051e(0x456)]+'):\x20'+_0x595063),new m(_0x595063);}}async['startFlow'](_0x5adcaa){const _0x1c0b88=a0_0x2a87a6;let _0x2102bf=null;try{if(!this[_0x1c0b88(0x77d)]?.[_0x1c0b88(0x328)][_0x1c0b88(0x6d1)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x1c0b88(0x82a)][_0x1c0b88(0x216)](this[_0x1c0b88(0x798)]+'\x20('+this[_0x1c0b88(0x478)][_0x1c0b88(0x456)]+_0x1c0b88(0x1a1));let _0x5505f6=(await this['whatsappNumber']({'numbers':[_0x5adcaa[_0x1c0b88(0x6f5)]]}))[0x0];if(!_0x5505f6[_0x1c0b88(0x585)]&&!(0x0,w[_0x1c0b88(0x893)])(_0x5505f6[_0x1c0b88(0x174)])&&!_0x5505f6[_0x1c0b88(0x174)][_0x1c0b88(0x708)](_0x1c0b88(0x2ab)))throw _0x2102bf=JSON['stringify'](_0x5505f6,null,0x2),new m(_0x5505f6);let _0x59f18b;if(_0x5adcaa[_0x1c0b88(0x366)][_0x1c0b88(0x30d)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x1c0b88(0x4a8)](_0x5adcaa['name'])?_0x59f18b=this[_0x1c0b88(0x77d)][_0x1c0b88(0x70a)][_0x1c0b88(0x2f6)](_0x35707d=>_0x35707d[_0x1c0b88(0x2f9)]===_0x5adcaa[_0x1c0b88(0x366)]):_0x59f18b=this['AutomateSystem'][_0x1c0b88(0x70a)][_0x1c0b88(0x2f6)](_0x3ffc2b=>_0x3ffc2b[_0x1c0b88(0x366)]===_0x5adcaa[_0x1c0b88(0x366)]),!_0x59f18b)throw this[_0x1c0b88(0x82a)][_0x1c0b88(0x216)](this[_0x1c0b88(0x798)]+'\x20('+this['instance']['wuid']+_0x1c0b88(0x69b)+_0x5adcaa[_0x1c0b88(0x366)]+_0x1c0b88(0x1e7)),new m(_0x1c0b88(0x1ab));let _0x4d2eb4=await this[_0x1c0b88(0x6ae)][_0x1c0b88(0x452)][_0x1c0b88(0x654)]({'where':{'_id':_0x59f18b['_id']}});if(!_0x4d2eb4||!_0x4d2eb4[_0x1c0b88(0x718)]?.[_0x1c0b88(0x708)](this[_0x1c0b88(0x478)][_0x1c0b88(0x456)]))throw this[_0x1c0b88(0x82a)][_0x1c0b88(0x495)](this['instanceName']+'\x20('+this['instance'][_0x1c0b88(0x456)]+'):\x20Flow\x20\x27'+_0x59f18b['_id']+_0x1c0b88(0x514)),_0x2102bf=_0x1c0b88(0x371)+_0x59f18b[_0x1c0b88(0x2f9)]+_0x1c0b88(0x514),new m(_0x2102bf);let _0xd6a052=await this[_0x1c0b88(0x855)](_0x4d2eb4,_0x5505f6[_0x1c0b88(0x174)],_0x5adcaa['changeVariables']);if(_0xd6a052){this[_0x1c0b88(0x82a)][_0x1c0b88(0x216)](this[_0x1c0b88(0x798)]+'\x20('+this['instance'][_0x1c0b88(0x456)]+_0x1c0b88(0x69d));let _0x1d60aa=await this[_0x1c0b88(0x38a)](_0xd6a052);return _0x1d60aa&&await this[_0x1c0b88(0x797)](_0xd6a052,_0x1d60aa),{'message':'Flow\x20iniciado\x20com\x20'+_0x5adcaa[_0x1c0b88(0x6f5)]};}}catch(_0x1be124){if(this['logger'][_0x1c0b88(0x495)](this[_0x1c0b88(0x798)]+'\x20('+this[_0x1c0b88(0x478)][_0x1c0b88(0x456)]+_0x1c0b88(0x225)+(_0x1be124 instanceof Error?_0x1be124[_0x1c0b88(0x5af)]:JSON[_0x1c0b88(0x15a)](_0x1be124,null,0x2))),_0x2102bf=_0x1be124 instanceof Error?_0x1be124[_0x1c0b88(0x5af)]:JSON[_0x1c0b88(0x15a)](_0x1be124,null,0x2),_0x2102bf)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x2102bf);}}async[a0_0x2a87a6(0x3c4)](_0x4bee6d,_0xe0ebda,_0x5d4ecc){const _0x5370d8=a0_0x2a87a6;let _0x3fac59=null;try{if(!this[_0x5370d8(0x77d)]?.[_0x5370d8(0x328)][_0x5370d8(0x6d1)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x5370d8(0x82a)]['verbose'](this[_0x5370d8(0x798)]+'\x20('+this[_0x5370d8(0x478)][_0x5370d8(0x456)]+'):\x20Iniciando\x20bot...'),_0xe0ebda){let _0x5bcdde=(await this[_0x5370d8(0x7e0)]({'numbers':[_0xe0ebda]}))[0x0];if(!_0x5bcdde[_0x5370d8(0x585)]&&!(0x0,w['isJidGroup'])(_0x5bcdde[_0x5370d8(0x174)])&&!_0x5bcdde[_0x5370d8(0x174)]['includes'](_0x5370d8(0x2ab)))throw _0x3fac59=JSON[_0x5370d8(0x15a)](_0x5bcdde,null,0x2),new m(_0x5bcdde);_0xe0ebda=_0x5bcdde[_0x5370d8(0x174)];}else _0xe0ebda||(_0xe0ebda=(0x0,X['v4'])());let _0x255368=await this[_0x5370d8(0x6ae)][_0x5370d8(0x452)][_0x5370d8(0x654)]({'where':{'_id':_0x4bee6d}});if(!_0x255368||!_0x255368[_0x5370d8(0x718)]?.[_0x5370d8(0x708)](this['instance'][_0x5370d8(0x456)]))throw this[_0x5370d8(0x82a)]['error'](this[_0x5370d8(0x798)]+'\x20('+this[_0x5370d8(0x478)][_0x5370d8(0x456)]+_0x5370d8(0x55d)+_0x4bee6d+_0x5370d8(0x514)),new m(_0x5370d8(0x371)+_0x4bee6d+_0x5370d8(0x514));let _0x48f033=await this['createConversationforStartFlow'](_0x255368,_0xe0ebda,null);if(_0x48f033){this[_0x5370d8(0x82a)]['verbose'](this[_0x5370d8(0x798)]+'\x20('+this[_0x5370d8(0x478)][_0x5370d8(0x456)]+_0x5370d8(0x150));let _0x43f0ca;if(_0x5d4ecc){let _0x1e0757=_0x48f033[_0x5370d8(0x52f)][_0x5370d8(0x733)],_0x1067bc=this[_0x5370d8(0x407)](_0x5d4ecc);Object[_0x5370d8(0x7b1)](_0x1e0757,_0x1067bc),_0x48f033[_0x5370d8(0x52f)][_0x5370d8(0x733)]=_0x1e0757,_0x43f0ca={'error':!0x1,'apiResponse':_0x5d4ecc};}let _0x1a09c1=await this[_0x5370d8(0x38a)](_0x48f033);return _0x1a09c1&&await this[_0x5370d8(0x797)](_0x48f033,_0x1a09c1),{'message':_0x5370d8(0x7fc)};}}catch(_0x599316){if(this[_0x5370d8(0x82a)][_0x5370d8(0x495)](this[_0x5370d8(0x798)]+'\x20('+this[_0x5370d8(0x478)][_0x5370d8(0x456)]+_0x5370d8(0x225)+(_0x599316 instanceof Error?_0x599316['message']:JSON['stringify'](_0x599316,null,0x2))),_0x3fac59=_0x599316 instanceof Error?_0x599316[_0x5370d8(0x5af)]:JSON[_0x5370d8(0x15a)](_0x599316,null,0x2),_0x3fac59)throw new m(_0x5370d8(0x379)+_0x3fac59);}}async['closeExistingConversations'](_0x3c130e){const _0x567147=a0_0x2a87a6;try{let _0x62264c={'remoteJid':_0x3c130e,'status':_0x567147(0x2cd)},_0x5bd901={'status':_0x567147(0x895)},_0xa3018c=await this[_0x567147(0x6ae)][_0x567147(0x2f7)][_0x567147(0x5f5)](_0x62264c,_0x5bd901,this[_0x567147(0x478)]['wuid']);return this[_0x567147(0x82a)][_0x567147(0x216)](this['instanceName']+'\x20('+this[_0x567147(0x478)][_0x567147(0x456)]+_0x567147(0x71f)),_0xa3018c;}catch(_0x8e4704){throw this[_0x567147(0x82a)][_0x567147(0x495)](this[_0x567147(0x798)]+'\x20('+this[_0x567147(0x478)][_0x567147(0x456)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x8e4704[_0x567147(0x5af)]),_0x8e4704;}}async[a0_0x2a87a6(0x855)](_0x4d5b68,_0x4b30de,_0x430529){const _0x3c64f2=a0_0x2a87a6;this[_0x3c64f2(0x82a)]['verbose'](this[_0x3c64f2(0x798)]+'\x20('+this[_0x3c64f2(0x478)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x3c64f2(0x748)](_0x4b30de);try{let _0x2f333e=require(_0x3c64f2(0x3ef))[_0x3c64f2(0x414)],_0x4f2292=Date[_0x3c64f2(0x810)](),_0x516662=_0x3c64f2(0x432),_0x1e343a={},_0x5d48df={},_0x33de51=this[_0x3c64f2(0x77d)][_0x3c64f2(0x70a)][_0x3c64f2(0x2f6)](_0x4ed14e=>_0x4ed14e[_0x3c64f2(0x2f9)]===_0x4d5b68[_0x3c64f2(0x2f9)]?.[_0x3c64f2(0x635)]()),_0x408b24=_0x33de51?.[_0x3c64f2(0x6c1)]??_0x4d5b68['minutesToClose']??0x0,_0x25791c=_0x33de51?.[_0x3c64f2(0x584)]??_0x4d5b68[_0x3c64f2(0x584)]??!0x1,_0x2b855b={'flowId':_0x4d5b68[_0x3c64f2(0x2f9)],..._0x4d5b68,'chatLog':null},_0x3f5e58=await this[_0x3c64f2(0x4ef)](_0x2b855b['variables']),_0x58372f=await this[_0x3c64f2(0x7ff)](_0x4b30de),_0x1371c2={..._0x3f5e58,..._0x58372f,'_remoteJid':_0x4b30de},_0x3d2a7f={'lastReceivedMessage':_0x1e343a,'lastSendMessage':_0x5d48df,'lastBlockId':_0x516662,'lastCondition':!0x0,'realVariables':_0x1371c2};_0x2b855b['chatLog']=_0x3d2a7f,_0x2b855b[_0x3c64f2(0x52f)][_0x3c64f2(0x733)]={..._0x1371c2,..._0x430529},delete _0x2b855b['_id'],_0x2b855b[_0x3c64f2(0x2f9)]=new _0x2f333e(),_0x2b855b[_0x3c64f2(0x44d)]=_0x4f2292,_0x2b855b['status']='open',_0x2b855b[_0x3c64f2(0x6f5)]=_0x4b30de,_0x2b855b[_0x3c64f2(0x6c1)]=_0x408b24,_0x2b855b['readMessages']=_0x25791c,_0x2b855b[_0x3c64f2(0x2f9)]=_0x4d5b68['_id'];let _0x4dc5c1=await this[_0x3c64f2(0x6ae)][_0x3c64f2(0x2f7)][_0x3c64f2(0x768)](_0x2b855b[_0x3c64f2(0x2f9)],_0x2b855b,this['instance'][_0x3c64f2(0x456)]);return this['logger'][_0x3c64f2(0x216)](this[_0x3c64f2(0x798)]+'\x20('+this[_0x3c64f2(0x478)][_0x3c64f2(0x456)]+_0x3c64f2(0x737)),_0x4dc5c1?_0x2b855b:null;}catch(_0x56df51){let _0x52b25f=_0x3c64f2(0x344),_0x293aaf=_0x56df51 instanceof Error?_0x56df51[_0x3c64f2(0x5af)]:typeof _0x56df51==_0x3c64f2(0x3ae)?JSON[_0x3c64f2(0x15a)](_0x56df51):_0x56df51,_0x443d94=_0x52b25f+':\x20'+_0x293aaf;throw this[_0x3c64f2(0x82a)][_0x3c64f2(0x495)](this[_0x3c64f2(0x798)]+'\x20('+this[_0x3c64f2(0x478)]['wuid']+'):\x20'+_0x443d94),new m(_0x443d94);}}async[a0_0x2a87a6(0x6c3)](_0x5d557a){const _0x1236a1=a0_0x2a87a6;try{this[_0x1236a1(0x82a)][_0x1236a1(0x216)](this[_0x1236a1(0x798)]+'\x20('+this[_0x1236a1(0x478)]['wuid']+_0x1236a1(0x469)),this[_0x1236a1(0x82a)][_0x1236a1(0x216)](this[_0x1236a1(0x798)]+'\x20('+this[_0x1236a1(0x478)][_0x1236a1(0x456)]+'):\x20Query\x20params:\x20'+_0x5d557a);let _0x8d6889={'where':{'_id':_0x5d557a}};return await this[_0x1236a1(0x6ae)][_0x1236a1(0x2f7)][_0x1236a1(0x654)](_0x8d6889,this[_0x1236a1(0x478)]['wuid']);}catch(_0x33d849){let _0x3e82da=_0x1236a1(0x28e),_0x90344e=_0x33d849 instanceof Error?_0x33d849[_0x1236a1(0x5af)]:typeof _0x33d849==_0x1236a1(0x3ae)?JSON['stringify'](_0x33d849):_0x33d849,_0x19d7a0=_0x3e82da+':\x20'+_0x90344e;throw this[_0x1236a1(0x82a)][_0x1236a1(0x495)](this[_0x1236a1(0x798)]+'\x20('+this['instance']['wuid']+_0x1236a1(0x1db)+_0x19d7a0),new m(_0x19d7a0);}}async[a0_0x2a87a6(0x1d7)](_0x2d5754){const _0x298e2d=a0_0x2a87a6;try{return this[_0x298e2d(0x82a)]['verbose'](this['instanceName']+'\x20('+this[_0x298e2d(0x478)][_0x298e2d(0x456)]+'):\x20Buscando\x20conversas...'),await this[_0x298e2d(0x6ae)]['flowConversation'][_0x298e2d(0x2f6)](_0x2d5754,this['instance'][_0x298e2d(0x456)]);}catch(_0x2e9211){let _0xb6277b=_0x298e2d(0x434),_0x3d5c20=_0x2e9211 instanceof Error?_0x2e9211[_0x298e2d(0x5af)]:typeof _0x2e9211=='object'?JSON[_0x298e2d(0x15a)](_0x2e9211):_0x2e9211,_0x2b9d8b=_0xb6277b+':\x20'+_0x3d5c20;throw this['logger']['error'](this[_0x298e2d(0x798)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x2b9d8b),new m(_0x2b9d8b);}}async[a0_0x2a87a6(0x2ff)](_0x2f39af){const _0x2b9f39=a0_0x2a87a6;try{return this['logger']['verbose'](this[_0x2b9f39(0x798)]+'\x20('+this[_0x2b9f39(0x478)][_0x2b9f39(0x456)]+_0x2b9f39(0x822)),this[_0x2b9f39(0x82a)][_0x2b9f39(0x216)](this[_0x2b9f39(0x798)]+'\x20('+this['instance'][_0x2b9f39(0x456)]+_0x2b9f39(0x3ce)+_0x2f39af),(await this[_0x2b9f39(0x6ae)][_0x2b9f39(0x2f7)][_0x2b9f39(0x519)]({'where':{'_id':_0x2f39af[_0x2b9f39(0x2f9)]}},this[_0x2b9f39(0x478)][_0x2b9f39(0x456)]))['deletedCount']===0x0?{'message':_0x2b9f39(0x268)}:{'message':_0x2b9f39(0x4be)};}catch(_0x57ff85){let _0x475800='Erro\x20ao\x20deletar\x20a\x20conversa',_0x55d413=_0x57ff85 instanceof Error?_0x57ff85[_0x2b9f39(0x5af)]:typeof _0x57ff85==_0x2b9f39(0x3ae)?JSON[_0x2b9f39(0x15a)](_0x57ff85):_0x57ff85,_0x215902=_0x475800+':\x20'+_0x55d413;throw this[_0x2b9f39(0x82a)][_0x2b9f39(0x495)](this[_0x2b9f39(0x798)]+'\x20('+this['instance'][_0x2b9f39(0x456)]+_0x2b9f39(0x1db)+_0x215902),new m(_0x215902);}}async[a0_0x2a87a6(0x27c)](_0x2bb596){const _0x13f670=a0_0x2a87a6;try{let {_id:_0x5e5ba8,chatLog:_0x36235a,status:_0x2704ed}=_0x2bb596;if(!_0x5e5ba8)return{'message':_0x13f670(0x2ba)};let _0x419600={};if(_0x2704ed!==void 0x0&&(_0x419600['status']=_0x2704ed),Object[_0x13f670(0x173)](_0x419600)[_0x13f670(0x30d)]===0x0)return{'message':_0x13f670(0x4de)};let _0x2a43e2=await this[_0x13f670(0x6ae)][_0x13f670(0x2f7)][_0x13f670(0x768)](_0x5e5ba8,_0x419600,this['instance'][_0x13f670(0x456)]);return _0x2a43e2||{'message':_0x13f670(0x231)};}catch(_0x4b12d0){let _0x4a2d82=_0x13f670(0x3ed),_0x1c2f5d=_0x4b12d0 instanceof Error?_0x4b12d0[_0x13f670(0x5af)]:typeof _0x4b12d0==_0x13f670(0x3ae)?JSON['stringify'](_0x4b12d0):_0x4b12d0,_0x18425c=_0x4a2d82+':\x20'+_0x1c2f5d;throw this[_0x13f670(0x82a)][_0x13f670(0x495)](this['instanceName']+'\x20('+this[_0x13f670(0x478)][_0x13f670(0x456)]+_0x13f670(0x1db)+_0x18425c),new m(_0x18425c);}}async['editChat'](_0x25b8d3){const _0x3ae481=a0_0x2a87a6;try{_0x25b8d3[_0x3ae481(0x2f9)]=this[_0x3ae481(0x506)](_0x25b8d3[_0x3ae481(0x2f9)]);let _0x30d022=await this[_0x3ae481(0x6ae)][_0x3ae481(0x6eb)][_0x3ae481(0x654)]({'where':{'_id':_0x25b8d3[_0x3ae481(0x2f9)]}},this[_0x3ae481(0x478)][_0x3ae481(0x456)]);if(!_0x30d022)throw new m(_0x3ae481(0x64e));let {_id:_0xf1ac25,leadInfo:_0x41ff71}=_0x25b8d3;if(!_0xf1ac25)throw new Error(_0x3ae481(0x66d));if(_0x25b8d3[_0x3ae481(0x17e)]===_0x3ae481(0x3e2))return await this['deleteChat'](_0x25b8d3['_id']),await this[_0x3ae481(0x6ae)]['chat'][_0x3ae481(0x17e)]({'where':{'_id':_0x25b8d3['_id']}},this[_0x3ae481(0x478)]['wuid']),await this[_0x3ae481(0x6ae)]['message'][_0x3ae481(0x17e)]({'where':{'key':{'remoteJid':_0x25b8d3[_0x3ae481(0x2f9)]}}},this[_0x3ae481(0x478)]['wuid']),_0x25b8d3=await this[_0x3ae481(0x6ae)]['chat'][_0x3ae481(0x768)]({'where':{'_id':_0x25b8d3[_0x3ae481(0x2f9)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3ae481(0x478)][_0x3ae481(0x456)]),q(this[_0x3ae481(0x798)],_0x3ae481(0x707),{'chat':_0x25b8d3}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x25b8d3['delete']==='messages')return await this['repository'][_0x3ae481(0x5af)][_0x3ae481(0x17e)]({'where':{'key':{'remoteJid':_0x25b8d3[_0x3ae481(0x2f9)]}}},this[_0x3ae481(0x478)][_0x3ae481(0x456)]),_0x25b8d3=await this[_0x3ae481(0x6ae)][_0x3ae481(0x6eb)][_0x3ae481(0x768)]({'where':{'_id':_0x25b8d3['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3ae481(0x478)][_0x3ae481(0x456)]),q(this['instanceName'],_0x3ae481(0x707),{'chat':_0x25b8d3}),{'message':_0x3ae481(0x86c)};let _0x132b6b=(_0x3c58da,_0x69fae3,_0x3d24e3)=>{const _0x5c4eb1=_0x3ae481;_0x3c58da&&_0x3d24e3[_0x5c4eb1(0x32f)](_0x252ab4=>{const _0x35edb6=_0x5c4eb1;_0x3c58da[_0x252ab4]!==void 0x0&&(_0x69fae3[_0x35edb6(0x2bd)+_0x252ab4]=_0x3c58da[_0x252ab4]);});},_0x4b8c9c={};if('muteEndTime'in _0x25b8d3&&(this[_0x3ae481(0x82a)][_0x3ae481(0x216)](this['instanceName']+'\x20('+this['instance'][_0x3ae481(0x456)]+_0x3ae481(0x3d7)+_0x25b8d3[_0x3ae481(0x2f9)]),_0x25b8d3[_0x3ae481(0x813)]=_0x25b8d3[_0x3ae481(0x813)]===0x0?null:-0x1,await this['client'][_0x3ae481(0x466)]({'mute':_0x25b8d3[_0x3ae481(0x813)]},_0x25b8d3[_0x3ae481(0x2f9)]),_0x4b8c9c[_0x3ae481(0x813)]=Number(_0x25b8d3[_0x3ae481(0x813)])),_0x41ff71&&(_0x132b6b(_0x41ff71,_0x4b8c9c,[_0x3ae481(0x224),_0x3ae481(0x427),'email',_0x3ae481(0x7a6),_0x3ae481(0x5f7),_0x3ae481(0x372),_0x3ae481(0x898),_0x3ae481(0x201),_0x3ae481(0x58b),_0x3ae481(0x6e6),_0x3ae481(0x744)]),Array[_0x3ae481(0x272)](_0x41ff71[_0x3ae481(0x248)])&&(_0x4b8c9c[_0x3ae481(0x493)]=_0x41ff71[_0x3ae481(0x248)][_0x3ae481(0x639)](_0x21f8b4=>({'_id':_0x21f8b4[_0x3ae481(0x2f9)],'value':_0x21f8b4['value']}))),_0x25b8d3['leadInfo'][_0x3ae481(0x6e6)]!==void 0x0)){let _0x1b984b=await this['repository'][_0x3ae481(0x61e)][_0x3ae481(0x2f6)]({'where':{}},this['instance'][_0x3ae481(0x456)]),_0x2ecbc7=new Set(_0x25b8d3['leadInfo']['etiquetas']||[]),_0x2eaef3=new Set(_0x25b8d3[_0x3ae481(0x441)][_0x3ae481(0x6e6)]),_0x46d300=new Set(_0x1b984b[_0x3ae481(0x639)](_0x3aef60=>_0x3aef60[_0x3ae481(0x2f9)])),_0x5a7a8d=[..._0x2eaef3][_0x3ae481(0x17c)](_0x19a62c=>!_0x2ecbc7[_0x3ae481(0x45e)](_0x19a62c)&&_0x46d300[_0x3ae481(0x45e)](_0x19a62c)),_0x2eb136=[..._0x2ecbc7]['filter'](_0x352ff9=>!_0x2eaef3[_0x3ae481(0x45e)](_0x352ff9));if(_0x4b8c9c[_0x3ae481(0x1d4)]=[..._0x2ecbc7],_0x30d022&&!_0x30d022[_0x3ae481(0x835)]){for(let _0x5e07bc of _0x5a7a8d)await this['AddChatLabel'](_0x5e07bc,_0x25b8d3[_0x3ae481(0x2f9)]),_0x2ecbc7[_0x3ae481(0x136)](_0x5e07bc);for(let _0x1626fd of _0x2eb136)await this[_0x3ae481(0x65c)](_0x1626fd,_0x25b8d3[_0x3ae481(0x2f9)]),_0x2ecbc7[_0x3ae481(0x17e)](_0x1626fd);}}if(_0x25b8d3[_0x3ae481(0x36c)]!==void 0x0&&(_0x4b8c9c['unreadcount']=Number(_0x25b8d3[_0x3ae481(0x36c)])),Object[_0x3ae481(0x173)](_0x4b8c9c)[_0x3ae481(0x30d)]===0x0)throw new Error(_0x3ae481(0x4de));let _0x17f21c=await this[_0x3ae481(0x6ae)][_0x3ae481(0x6eb)]['updateOne']({'where':{'_id':_0x25b8d3[_0x3ae481(0x2f9)]}},_0x4b8c9c,this[_0x3ae481(0x478)][_0x3ae481(0x456)]);return _0x17f21c&&q(this[_0x3ae481(0x798)],_0x3ae481(0x707),{'chat':_0x17f21c}),_0x17f21c?(this[_0x3ae481(0x82a)][_0x3ae481(0x216)](this['instanceName']+'\x20('+this[_0x3ae481(0x478)][_0x3ae481(0x456)]+_0x3ae481(0x1db)+JSON[_0x3ae481(0x15a)](_0x17f21c,null,0x2)),_0x17f21c):{'message':_0x3ae481(0x378)};}catch(_0x4a9465){let _0x4fec39=_0x3ae481(0x89b),_0x302089=_0x4a9465 instanceof Error?_0x4a9465['message']:typeof _0x4a9465==_0x3ae481(0x3ae)?JSON[_0x3ae481(0x15a)](_0x4a9465):_0x4a9465,_0x58fe99=_0x4fec39+':\x20'+_0x302089;throw this[_0x3ae481(0x82a)]['error'](this[_0x3ae481(0x798)]+'\x20('+this[_0x3ae481(0x478)][_0x3ae481(0x456)]+_0x3ae481(0x1db)+_0x58fe99),new m(_0x58fe99);}}async[a0_0x2a87a6(0x78d)](_0x4f740a,_0x27ca9a){const _0x1c0cf2=a0_0x2a87a6;try{await this[_0x1c0cf2(0x47c)][_0x1c0cf2(0x2de)](_0x27ca9a,_0x4f740a),this[_0x1c0cf2(0x82a)]['info'](this[_0x1c0cf2(0x798)]+'\x20('+this[_0x1c0cf2(0x478)][_0x1c0cf2(0x456)]+'):\x20Label\x20'+_0x4f740a+_0x1c0cf2(0x87a)+_0x27ca9a+_0x1c0cf2(0x598));}catch(_0x261957){this[_0x1c0cf2(0x82a)][_0x1c0cf2(0x495)](_0x1c0cf2(0x7e2)+_0x4f740a+_0x1c0cf2(0x291)+_0x27ca9a+':\x20'+_0x261957);}}async[a0_0x2a87a6(0x65c)](_0x3fbb17,_0x51c74c){const _0x59bbee=a0_0x2a87a6;try{await this['client'][_0x59bbee(0x305)](_0x51c74c,_0x3fbb17),this[_0x59bbee(0x82a)][_0x59bbee(0x2e4)](this['instanceName']+'\x20('+this[_0x59bbee(0x478)][_0x59bbee(0x456)]+_0x59bbee(0x191)+_0x3fbb17+_0x59bbee(0x565)+_0x51c74c+'\x20com\x20sucesso.');}catch(_0x2a2011){this[_0x59bbee(0x82a)][_0x59bbee(0x495)](_0x59bbee(0x13b)+_0x3fbb17+_0x59bbee(0x2c4)+_0x51c74c+':\x20'+_0x2a2011);}}async[a0_0x2a87a6(0x6c2)](_0x2bbff3){const _0x3e379a=a0_0x2a87a6;try{let _0x684392=await this[_0x3e379a(0x6ae)][_0x3e379a(0x82d)][_0x3e379a(0x7fb)](this['instance']['wuid']),_0x737b6e=_0x2bbff3[_0x3e379a(0x2f9)]?_0x684392[_0x3e379a(0x72f)][_0x3e379a(0x3f3)](_0x4eb211=>_0x4eb211[_0x3e379a(0x2f9)]===_0x2bbff3[_0x3e379a(0x2f9)]):-0x1;if(_0x2bbff3['delete']&&_0x737b6e>-0x1)_0x684392['agents'][_0x3e379a(0x62d)](_0x737b6e,0x1);else{if(_0x737b6e>-0x1){let _0x59f6e9=_0x684392[_0x3e379a(0x72f)][_0x737b6e];_0x2bbff3['fone']&&(_0x59f6e9['fone']=_0x2bbff3[_0x3e379a(0x675)]),_0x2bbff3[_0x3e379a(0x366)]&&(_0x59f6e9[_0x3e379a(0x366)]=_0x2bbff3[_0x3e379a(0x366)]),_0x2bbff3[_0x3e379a(0x3fd)]&&(_0x59f6e9[_0x3e379a(0x3fd)]=_0x2bbff3['email']),_0x2bbff3[_0x3e379a(0x7a3)]&&(_0x59f6e9['role']=_0x2bbff3['role']);}else _0x684392[_0x3e379a(0x72f)][_0x3e379a(0x67c)]({'_id':_0x2bbff3[_0x3e379a(0x2f9)]||new fe['default']['Types'][(_0x3e379a(0x414))]()[_0x3e379a(0x635)](),'fone':_0x2bbff3[_0x3e379a(0x675)],'name':_0x2bbff3[_0x3e379a(0x366)],'email':_0x2bbff3[_0x3e379a(0x3fd)],'role':_0x2bbff3[_0x3e379a(0x7a3)]});}let _0x46e6bf={'agents':_0x684392[_0x3e379a(0x72f)]},_0x48293f=await this[_0x3e379a(0x6ae)][_0x3e379a(0x82d)]['update'](_0x46e6bf,this[_0x3e379a(0x478)][_0x3e379a(0x456)]);return this[_0x3e379a(0x77d)]=_0x48293f,this['logger'][_0x3e379a(0x216)](this[_0x3e379a(0x798)]+'\x20('+this[_0x3e379a(0x478)][_0x3e379a(0x456)]+_0x3e379a(0x34a)),this[_0x3e379a(0x82a)][_0x3e379a(0x216)](this['instanceName']+'\x20('+this[_0x3e379a(0x478)]['wuid']+_0x3e379a(0x1db)+this[_0x3e379a(0x77d)]),_0x48293f;}catch(_0x2a955f){let _0x4f15f3=_0x3e379a(0x7d3),_0xd58a83=_0x2a955f instanceof Error?_0x2a955f[_0x3e379a(0x5af)]:typeof _0x2a955f==_0x3e379a(0x3ae)?JSON['stringify'](_0x2a955f):_0x2a955f,_0x179a84=_0x4f15f3+':\x20'+_0xd58a83;throw this[_0x3e379a(0x82a)][_0x3e379a(0x495)](this[_0x3e379a(0x798)]+'\x20('+this['instance'][_0x3e379a(0x456)]+'):\x20'+_0x179a84),new m(_0x179a84);}}async[a0_0x2a87a6(0x228)](_0x1fc0e2){const _0x937001=a0_0x2a87a6;try{let _0x1c7d07=await this['repository'][_0x937001(0x82d)][_0x937001(0x7fb)](this[_0x937001(0x478)][_0x937001(0x456)]),_0x4deafd=_0x1fc0e2[_0x937001(0x2f9)]?_0x1c7d07[_0x937001(0x248)][_0x937001(0x3f3)](_0x261199=>_0x261199['_id']===_0x1fc0e2[_0x937001(0x2f9)]):-0x1,_0x34d2f5=!0x1,_0xe1e7c9=_0x1c7d07[_0x937001(0x248)][_0x937001(0x7e4)](_0x25fee6=>_0x25fee6[_0x937001(0x4ec)]===_0x1fc0e2[_0x937001(0x4ec)]);if(_0x1fc0e2['delete']&&_0x4deafd>-0x1)_0x1c7d07[_0x937001(0x248)][_0x937001(0x62d)](_0x4deafd,0x1),_0x34d2f5=!0x0;else{if(_0x4deafd>-0x1){if(_0x1c7d07[_0x937001(0x248)][_0x937001(0x7e4)](_0x4e0c35=>_0x4e0c35['name']===_0x1fc0e2[_0x937001(0x366)]&&_0x4e0c35[_0x937001(0x2f9)]!==_0x1fc0e2[_0x937001(0x2f9)]))throw new Error(_0x937001(0x19c));let _0x2a5b1b=_0x1c7d07[_0x937001(0x248)][_0x4deafd];_0x1fc0e2[_0x937001(0x4ec)]&&(_0xe1e7c9||!Number[_0x937001(0x29c)](_0x1fc0e2[_0x937001(0x4ec)]))&&(_0x2a5b1b[_0x937001(0x4ec)]=_0x1fc0e2[_0x937001(0x4ec)],_0x34d2f5=!0x0),_0x1fc0e2[_0x937001(0x366)]&&(_0x2a5b1b[_0x937001(0x366)]=_0x1fc0e2[_0x937001(0x366)]);}else{if(_0x1c7d07[_0x937001(0x248)][_0x937001(0x7e4)](_0x34f216=>_0x34f216[_0x937001(0x366)]===_0x1fc0e2[_0x937001(0x366)]&&_0x34f216[_0x937001(0x2f9)]!==_0x1fc0e2['_id']))throw new Error(_0x937001(0x19c));_0x1c7d07[_0x937001(0x248)][_0x937001(0x67c)]({'_id':_0x1fc0e2[_0x937001(0x2f9)]||new fe[(_0x937001(0x667))][(_0x937001(0x358))][(_0x937001(0x414))]()[_0x937001(0x635)](),'order':_0x1fc0e2[_0x937001(0x4ec)],'name':_0x1fc0e2[_0x937001(0x366)]}),_0x34d2f5=!0x0;}}if(_0x34d2f5){_0x1c7d07[_0x937001(0x248)][_0x937001(0x7ce)]((_0xcf37e,_0x45d548)=>_0xcf37e['order']>_0x45d548[_0x937001(0x4ec)]?0x1:_0x45d548['order']>_0xcf37e[_0x937001(0x4ec)]?-0x1:0x0);for(let _0x2824ad=0x0;_0x2824ad<_0x1c7d07[_0x937001(0x248)][_0x937001(0x30d)];_0x2824ad++)_0x1c7d07[_0x937001(0x248)][_0x2824ad]['order']=_0x2824ad+0x1;}let _0x4dd598=await this[_0x937001(0x6ae)][_0x937001(0x82d)][_0x937001(0x7ee)](_0x1c7d07,this[_0x937001(0x478)][_0x937001(0x456)]);return this[_0x937001(0x77d)]=_0x4dd598,this['logger']['verbose'](this[_0x937001(0x798)]+'\x20('+this[_0x937001(0x478)][_0x937001(0x456)]+_0x937001(0x40b)),this[_0x937001(0x82a)][_0x937001(0x216)](this['instanceName']+'\x20('+this[_0x937001(0x478)][_0x937001(0x456)]+_0x937001(0x1db)+this[_0x937001(0x77d)]),_0x4dd598;}catch(_0x18bbe4){let _0x32f0f6=_0x937001(0x252),_0x67d20b=_0x18bbe4 instanceof Error?_0x18bbe4['message']:typeof _0x18bbe4==_0x937001(0x3ae)?JSON[_0x937001(0x15a)](_0x18bbe4):_0x18bbe4,_0x299865=_0x32f0f6+':\x20'+_0x67d20b;throw this[_0x937001(0x82a)]['error'](this[_0x937001(0x798)]+'\x20('+this[_0x937001(0x478)]['wuid']+'):\x20'+_0x299865),new m(_0x299865);}}async['updateAutoCompleteMessages'](_0x3f590b){const _0x38e7f3=a0_0x2a87a6;try{let _0x297b45=await this['repository'][_0x38e7f3(0x82d)][_0x38e7f3(0x7fb)](this['instance'][_0x38e7f3(0x456)]),_0x19bf5e=_0x297b45?.[_0x38e7f3(0x309)]?.[_0x38e7f3(0x3f3)](_0x8c235d=>_0x8c235d['_id']===_0x3f590b?.[_0x38e7f3(0x2f9)]);if(_0x3f590b?.[_0x38e7f3(0x17e)])_0x19bf5e>-0x1&&_0x297b45?.[_0x38e7f3(0x309)]?.['splice'](_0x19bf5e,0x1);else{if(_0x19bf5e>-0x1){let _0x42d6a0=_0x297b45[_0x38e7f3(0x309)][_0x19bf5e];_0x42d6a0[_0x38e7f3(0x4ec)]=_0x3f590b?.['order']||_0x42d6a0[_0x38e7f3(0x4ec)],_0x42d6a0[_0x38e7f3(0x422)]=_0x3f590b?.[_0x38e7f3(0x422)]||_0x42d6a0[_0x38e7f3(0x422)],_0x42d6a0[_0x38e7f3(0x5af)]=_0x3f590b?.['message']||_0x42d6a0[_0x38e7f3(0x5af)];}else{let _0x4c4a47={'_id':_0x3f590b?.[_0x38e7f3(0x2f9)]||new fe[(_0x38e7f3(0x667))][(_0x38e7f3(0x358))][(_0x38e7f3(0x414))]()[_0x38e7f3(0x635)](),'order':_0x3f590b?.[_0x38e7f3(0x4ec)],'command':_0x3f590b?.[_0x38e7f3(0x422)],'message':_0x3f590b?.[_0x38e7f3(0x5af)]};_0x297b45?.[_0x38e7f3(0x309)]?.[_0x38e7f3(0x67c)](_0x4c4a47);}}_0x297b45?.['autoCompleteMessages']?.[_0x38e7f3(0x7ce)]((_0x1ad691,_0x59a3c3)=>_0x1ad691[_0x38e7f3(0x4ec)]-_0x59a3c3['order']);let _0x5b68e1=await this[_0x38e7f3(0x6ae)]['automateSystem'][_0x38e7f3(0x7ee)](_0x297b45,this[_0x38e7f3(0x478)][_0x38e7f3(0x456)]);return this[_0x38e7f3(0x77d)]=_0x5b68e1,this[_0x38e7f3(0x82a)][_0x38e7f3(0x216)](this[_0x38e7f3(0x798)]+'\x20('+this[_0x38e7f3(0x478)][_0x38e7f3(0x456)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x5b68e1;}catch(_0x487885){let _0x5c6678='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x11e5d8=_0x487885 instanceof Error?_0x487885['message']:typeof _0x487885==_0x38e7f3(0x3ae)?JSON[_0x38e7f3(0x15a)](_0x487885):_0x487885,_0x306280=_0x5c6678+':\x20'+_0x11e5d8;throw this[_0x38e7f3(0x82a)][_0x38e7f3(0x495)](this[_0x38e7f3(0x798)]+'\x20('+this['instance'][_0x38e7f3(0x456)]+_0x38e7f3(0x1db)+_0x306280),new m(_0x306280);}}async[a0_0x2a87a6(0x207)](_0xd9f4b2){const _0x27d890=a0_0x2a87a6;try{let _0x2cf4ac=await this[_0x27d890(0x6ae)]['automateSystem'][_0x27d890(0x7fb)](this[_0x27d890(0x478)]['wuid']);if(!_0x2cf4ac)throw new Error(_0x27d890(0x391));let _0x1e354a={'_id':_0x2cf4ac[_0x27d890(0x2f9)],'flowConfig':{'enabled':_0xd9f4b2['enabled']??_0x2cf4ac['flowConfig']['enabled'],'ignoreGroups':_0xd9f4b2[_0x27d890(0x298)]??_0x2cf4ac[_0x27d890(0x328)][_0x27d890(0x298)],'stopConversation':_0xd9f4b2[_0x27d890(0x73a)][_0x27d890(0x6b0)]()??_0x2cf4ac[_0x27d890(0x328)][_0x27d890(0x73a)][_0x27d890(0x6b0)](),'stopMinutes':_0xd9f4b2[_0x27d890(0x3e4)]??_0x2cf4ac[_0x27d890(0x328)][_0x27d890(0x3e4)],'stopWhenYouSendMsg':_0xd9f4b2['stopWhenYouSendMsg']??_0x2cf4ac[_0x27d890(0x328)][_0x27d890(0x842)]}},_0x13fa2f=await this[_0x27d890(0x6ae)][_0x27d890(0x82d)][_0x27d890(0x7ee)](_0x1e354a,this[_0x27d890(0x478)][_0x27d890(0x456)]);return this[_0x27d890(0x77d)]=_0x13fa2f,this[_0x27d890(0x82a)][_0x27d890(0x216)](this[_0x27d890(0x798)]+'\x20('+this[_0x27d890(0x478)][_0x27d890(0x456)]+_0x27d890(0x34a)),this[_0x27d890(0x82a)][_0x27d890(0x216)](this[_0x27d890(0x798)]+'\x20('+this[_0x27d890(0x478)][_0x27d890(0x456)]+_0x27d890(0x1db)+this['AutomateSystem']),setTimeout(()=>this[_0x27d890(0x361)](),0x7d0),_0x13fa2f;}catch(_0x4f67d5){let _0x1e4e7e=_0x27d890(0x362),_0x26f862=_0x4f67d5 instanceof Error?_0x4f67d5[_0x27d890(0x5af)]:typeof _0x4f67d5=='object'?JSON[_0x27d890(0x15a)](_0x4f67d5):_0x4f67d5,_0x19919c=_0x1e4e7e+':\x20'+_0x26f862;throw this['logger'][_0x27d890(0x495)](this[_0x27d890(0x798)]+'\x20('+this['instance'][_0x27d890(0x456)]+_0x27d890(0x1db)+_0x19919c),new m(_0x19919c);}}async[a0_0x2a87a6(0x1e1)](){const _0x214ef8=a0_0x2a87a6;try{let _0x5d5444=await this[_0x214ef8(0x6ae)][_0x214ef8(0x82d)][_0x214ef8(0x7fb)](this[_0x214ef8(0x478)][_0x214ef8(0x456)]);return this[_0x214ef8(0x77d)]=_0x5d5444,_0x5d5444;}catch(_0x4b32f2){let _0x2343aa=_0x214ef8(0x3a3),_0x576d3e=_0x4b32f2 instanceof Error?_0x4b32f2[_0x214ef8(0x5af)]:typeof _0x4b32f2==_0x214ef8(0x3ae)?JSON[_0x214ef8(0x15a)](_0x4b32f2):_0x4b32f2,_0x35db6c=_0x2343aa+':\x20'+_0x576d3e;throw this['logger'][_0x214ef8(0x495)](this[_0x214ef8(0x798)]+'\x20('+this['instance'][_0x214ef8(0x456)]+'):\x20'+_0x35db6c),new m(_0x35db6c);}}async[a0_0x2a87a6(0x32e)](){const _0x5ce6c9=a0_0x2a87a6;await this[_0x5ce6c9(0x4bd)][_0x5ce6c9(0x726)](async()=>{const _0x246c4e=_0x5ce6c9;this['instance'][_0x246c4e(0x50c)][_0x246c4e(0x5a9)]&&clearTimeout(this[_0x246c4e(0x478)][_0x246c4e(0x50c)]['timeout']),this[_0x246c4e(0x478)][_0x246c4e(0x50c)][_0x246c4e(0x5a9)]=setTimeout(()=>{const _0x13d82c=_0x246c4e;this[_0x13d82c(0x400)]();},0x2*0x3c*0x3e8+0x14*0x3e8);});}async['checkAndRestartProcess'](){const _0x4924d1=a0_0x2a87a6;Date[_0x4924d1(0x810)]()-this['instance'][_0x4924d1(0x50c)]['lastSend']>=0x1d4c0&&(this[_0x4924d1(0x82a)][_0x4924d1(0x216)](this['instanceName']+'\x20('+this[_0x4924d1(0x478)][_0x4924d1(0x456)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x4924d1(0x478)][_0x4924d1(0x50c)][_0x4924d1(0x5dd)]=null,this[_0x4924d1(0x478)][_0x4924d1(0x50c)]['lastSend']=0x0,this[_0x4924d1(0x478)][_0x4924d1(0x50c)][_0x4924d1(0x171)]=0x0,this[_0x4924d1(0x55a)]=null,await this[_0x4924d1(0x361)]());}async['scheduleNextCheck'](){await this['checkMutex']['runExclusive'](async()=>{const _0x5e6a19=a0_0xe551;let _0x33c4b7=!0x1;this['pendingMessages']=[],this[_0x5e6a19(0x55a)]=(0x0,X['v4'])(),await this[_0x5e6a19(0x3e3)]();let _0x38224a=()=>{const _0x3b2481=_0x5e6a19;this[_0x3b2481(0x82a)]['warn'](this[_0x3b2481(0x798)]+'\x20('+this[_0x3b2481(0x478)][_0x3b2481(0x456)]+'):\x20this.processingGroup._id:\x20'+this['instance'][_0x3b2481(0x50c)]['processingGroup']?.[_0x3b2481(0x2f9)]+_0x3b2481(0x3b6));},_0x31b7d1=async()=>{const _0x450a8f=_0x5e6a19;this[_0x450a8f(0x82a)][_0x450a8f(0x3fa)](this['instanceName']+'\x20('+this[_0x450a8f(0x478)]['wuid']+_0x450a8f(0x3cd));let _0x5396f9=new Date(Date[_0x450a8f(0x810)]()-0xc*0x3c*0x3c*0x3e8),_0x3fe5f2={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':new Date(),'$gte':_0x5396f9}},{'when':0x0}]}},_0x5d4bee=await this['repository'][_0x450a8f(0x271)][_0x450a8f(0x2f6)](_0x3fe5f2,this[_0x450a8f(0x478)][_0x450a8f(0x456)]);return this['logger'][_0x450a8f(0x3fa)](this[_0x450a8f(0x798)]+'\x20('+this[_0x450a8f(0x478)][_0x450a8f(0x456)]+_0x450a8f(0x5a5)+_0x5d4bee['length']),_0x5d4bee;},_0xe33ddc=()=>this[_0x5e6a19(0x39e)]['length']===0x0?null:this[_0x5e6a19(0x39e)][_0x5e6a19(0x884)]((_0x250050,_0x55b1aa)=>(_0x250050['order']??Number[_0x5e6a19(0x4e9)])<(_0x55b1aa[_0x5e6a19(0x4ec)]??Number['MAX_SAFE_INTEGER'])?_0x250050:_0x55b1aa,this[_0x5e6a19(0x39e)][0x0]),_0x7f21b2=async _0x1c65d4=>{const _0x21141e=_0x5e6a19;let _0x2f40a2=Math[_0x21141e(0x6f8)](Math[_0x21141e(0x66f)]()*0x1389)+0xbb8;for(let _0x18f18c of _0x1c65d4){let _0x19fb09={'_id':_0x18f18c[_0x21141e(0x2f9)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x21141e(0x810)]()-0x2710}}]},_0x981e2b={'startSend':Date['now'](),'processUUID':this[_0x21141e(0x55a)],'status':_0x21141e(0x60a)};if(!await this['repository']['scheduleMessage'][_0x21141e(0x768)](_0x19fb09,_0x981e2b,this['instance'][_0x21141e(0x456)]))return;if(!this['instance'][_0x21141e(0x50c)][_0x21141e(0x1d0)]){this[_0x21141e(0x82a)][_0x21141e(0x3fa)](this['instanceName']+'\x20('+this[_0x21141e(0x478)][_0x21141e(0x456)]+_0x21141e(0x29d));break;}for(this[_0x21141e(0x39e)]=_0x18f18c[_0x21141e(0x4f1)]['filter'](_0x3966c2=>!_0x3966c2[_0x21141e(0x7aa)]);this[_0x21141e(0x39e)][_0x21141e(0x30d)]>0x0||!_0x33c4b7;){await this[_0x21141e(0x32e)]();let _0x216ecb=_0xe33ddc();if(!_0x216ecb){_0x33c4b7=!0x0;break;}let _0x45e8dd=_0x18f18c[_0x21141e(0x4f1)]['find'](_0x241c46=>_0x241c46['_id']===_0x216ecb[_0x21141e(0x2f9)]);if(!_0x45e8dd){_0x33c4b7=!0x0;break;}if(this[_0x21141e(0x478)][_0x21141e(0x50c)][_0x21141e(0x33b)]=Date[_0x21141e(0x810)](),_0x45e8dd[_0x21141e(0x7aa)]){this[_0x21141e(0x82a)]['warn'](this[_0x21141e(0x798)]+'\x20('+this[_0x21141e(0x478)]['wuid']+_0x21141e(0x2f1)+_0x45e8dd[_0x21141e(0x6f5)]+_0x21141e(0x2a6)),this[_0x21141e(0x39e)]=this['pendingMessages'][_0x21141e(0x17c)](_0x570738=>_0x570738[_0x21141e(0x2f9)]!==_0x45e8dd[_0x21141e(0x2f9)]);continue;}if(!this[_0x21141e(0x478)][_0x21141e(0x50c)]['isConnected']){this[_0x21141e(0x82a)][_0x21141e(0x3fa)](this[_0x21141e(0x798)]+'\x20('+this['instance'][_0x21141e(0x456)]+_0x21141e(0x542));break;}if(!this[_0x21141e(0x478)]['ScheduleMessage'][_0x21141e(0x5dd)]){this['logger']['warn'](this['instanceName']+'\x20('+this[_0x21141e(0x478)][_0x21141e(0x456)]+_0x21141e(0x64b)+_0x18f18c[_0x21141e(0x2f9)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x45e8dd[_0x21141e(0x3c1)]===_0x21141e(0x452)&&!this[_0x21141e(0x77d)]?.['flowConfig'][_0x21141e(0x6d1)]){this[_0x21141e(0x82a)][_0x21141e(0x495)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x21141e(0x50d));break;}let _0x3bb7c7={'idControl':_0x45e8dd[_0x21141e(0x2f9)],'remoteJid':_0x45e8dd[_0x21141e(0x6f5)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x21141e(0x810)]()},_0x2e6582=null;try{this['logger']['warn'](this['instanceName']+'\x20('+this[_0x21141e(0x478)][_0x21141e(0x456)]+_0x21141e(0x629)+_0x45e8dd[_0x21141e(0x6f5)]);let _0x3ba1a0=await this[_0x21141e(0x43f)](_0x45e8dd[_0x21141e(0x6f5)],_0x45e8dd);_0x3bb7c7[_0x21141e(0x495)]=_0x3ba1a0[_0x21141e(0x495)],_0x3bb7c7['id']=_0x3ba1a0[_0x21141e(0x495)]?null:_0x3ba1a0['id'],_0x3bb7c7['error_log']=_0x3ba1a0[_0x21141e(0x495)]?_0x3ba1a0[_0x21141e(0x5fe)]?_0x3ba1a0[_0x21141e(0x5fe)][_0x21141e(0x635)]():'':null;let _0x34f2c2=_0x18f18c[_0x21141e(0x4f1)]['findIndex'](_0x2cb6c9=>_0x2cb6c9[_0x21141e(0x2f9)]===_0x45e8dd[_0x21141e(0x2f9)]);_0x34f2c2!==-0x1&&(_0x18f18c[_0x21141e(0x4f1)][_0x34f2c2][_0x21141e(0x7aa)]=!0x0);let _0xaa63c8={'$push':{'messagesSend':_0x3bb7c7},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x23132e=[{'elem._id':_0x45e8dd[_0x21141e(0x2f9)]}];if(this[_0x21141e(0x82a)]['warn'](this[_0x21141e(0x798)]+'\x20('+this[_0x21141e(0x478)]['wuid']+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x45e8dd['_id']),_0x2e6582=await this[_0x21141e(0x6ae)][_0x21141e(0x271)][_0x21141e(0x768)]({'_id':_0x18f18c[_0x21141e(0x2f9)]},_0xaa63c8,this[_0x21141e(0x478)][_0x21141e(0x456)],{'arrayFilters':_0x23132e}),_0x3ba1a0['error']){this[_0x21141e(0x82a)][_0x21141e(0x495)](this[_0x21141e(0x798)]+'\x20('+this[_0x21141e(0x478)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0x3ba1a0['detail']);continue;}let _0x22b14f=this[_0x21141e(0x241)](_0x18f18c[_0x21141e(0x42b)],_0x18f18c[_0x21141e(0x5fb)]);await this['sleep'](_0x22b14f);}catch(_0x2fa260){this[_0x21141e(0x82a)][_0x21141e(0x495)](this['instanceName']+'\x20('+this[_0x21141e(0x478)][_0x21141e(0x456)]+_0x21141e(0x7cf)+_0x45e8dd[_0x21141e(0x6f5)]+':\x20'+(_0x2fa260 instanceof Error?_0x2fa260[_0x21141e(0x5af)]:JSON['stringify'](_0x2fa260,null,0x2))),_0x3bb7c7[_0x21141e(0x495)]=!0x0,_0x3bb7c7[_0x21141e(0x68b)]=_0x2fa260[_0x21141e(0x5af)];let _0x2ec491=_0x18f18c['messages']['findIndex'](_0x21b360=>_0x21b360[_0x21141e(0x2f9)]===_0x45e8dd['_id']);_0x2ec491!==-0x1&&(_0x18f18c[_0x21141e(0x4f1)][_0x2ec491][_0x21141e(0x7aa)]=!0x0);let _0x250ce1={'$push':{'messagesSend':_0x3bb7c7},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x352162=[{'elem._id':_0x45e8dd['_id']}];this[_0x21141e(0x82a)][_0x21141e(0x3fa)](this[_0x21141e(0x798)]+'\x20('+this['instance'][_0x21141e(0x456)]+_0x21141e(0x6da)+_0x45e8dd['_id']),_0x2e6582=await this[_0x21141e(0x6ae)][_0x21141e(0x271)][_0x21141e(0x768)]({'_id':_0x18f18c['_id']},_0x250ce1,this[_0x21141e(0x478)][_0x21141e(0x456)],{'arrayFilters':_0x352162});}finally{if(_0x2e6582&&_0x2e6582['status']===_0x21141e(0x3aa)){this[_0x21141e(0x82a)]['warn'](this[_0x21141e(0x798)]+'\x20('+this[_0x21141e(0x478)]['wuid']+_0x21141e(0x64b)+_0x45e8dd[_0x21141e(0x2f9)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}let _0x2f970a=_0x2e6582['messages']['find'](_0x332221=>_0x332221[_0x21141e(0x2f9)]===_0x45e8dd['_id']);if(_0x2f970a&&!_0x2f970a[_0x21141e(0x7aa)]){let _0x408677={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x41abb5=[{'elem._id':_0x45e8dd[_0x21141e(0x2f9)]}];await this[_0x21141e(0x6ae)][_0x21141e(0x271)][_0x21141e(0x768)]({'_id':_0x2e6582[_0x21141e(0x2f9)]},_0x408677,this[_0x21141e(0x478)][_0x21141e(0x456)],{'arrayFilters':_0x41abb5});}if(this[_0x21141e(0x39e)]=_0x2e6582[_0x21141e(0x4f1)]['filter'](_0x265190=>!_0x265190[_0x21141e(0x7aa)]),_0x33c4b7=this['pendingMessages'][_0x21141e(0x30d)]===0x0,_0x2e6582[_0x21141e(0x55a)]!==this[_0x21141e(0x55a)]){this[_0x21141e(0x82a)][_0x21141e(0x3fa)](this['instanceName']+'\x20('+this['instance'][_0x21141e(0x456)]+_0x21141e(0x17f));return;}this['instance'][_0x21141e(0x50c)][_0x21141e(0x5dd)]=_0x2e6582;}}this[_0x21141e(0x39e)]=[];let _0x3c4fef=await this['repository'][_0x21141e(0x271)]['findById'](_0x18f18c[_0x21141e(0x2f9)],this[_0x21141e(0x478)]['wuid']);if(_0x33c4b7=_0x3c4fef[_0x21141e(0x4f1)][_0x21141e(0x257)](_0x5cfbaf=>_0x5cfbaf[_0x21141e(0x7aa)]),_0x33c4b7&&_0x3c4fef[_0x21141e(0x5f7)]!==_0x21141e(0x3aa)){let _0x56f2ec={'$set':{'status':_0x21141e(0x794)}};await this[_0x21141e(0x6ae)][_0x21141e(0x271)][_0x21141e(0x31a)](_0x3c4fef['_id'],_0x56f2ec,this[_0x21141e(0x478)][_0x21141e(0x456)]);}await new Promise(_0x52d464=>setTimeout(_0x52d464,_0x2f40a2)),global['gc']?global['gc']():console['warn'](_0x21141e(0x847));}this[_0x21141e(0x55a)]=null;},_0x12cbb6=async()=>{const _0x29e105=_0x5e6a19;let _0x35c486=new Date(Date[_0x29e105(0x810)]()-0x2932e00),_0x1c4c77={'where':{'status':'scheduled','$or':[{'when':{'$lte':new Date(),'$gte':_0x35c486}},{'when':0x0}]}},_0x54152e=await this['repository'][_0x29e105(0x271)][_0x29e105(0x654)](_0x1c4c77,this[_0x29e105(0x478)][_0x29e105(0x456)]);_0x54152e&&_0x54152e[_0x29e105(0x52b)]>Date[_0x29e105(0x810)]()?this[_0x29e105(0x478)][_0x29e105(0x50c)][_0x29e105(0x171)]=_0x54152e[_0x29e105(0x52b)]-Date[_0x29e105(0x810)]():this[_0x29e105(0x478)][_0x29e105(0x50c)]['delayMessage']=(0x3c+Math[_0x29e105(0x6f8)](Math[_0x29e105(0x66f)]()*0x3c))*0x3c*0x3e8,this[_0x29e105(0x478)][_0x29e105(0x50c)]['delayMessage']=Math['max'](this[_0x29e105(0x478)][_0x29e105(0x50c)][_0x29e105(0x171)],0x2*0x3e8);let _0x1c1f26=Math['round'](this[_0x29e105(0x478)][_0x29e105(0x50c)][_0x29e105(0x171)]/0xea60);if(_0x54152e){let _0xd2f7fa=new Date(_0x54152e['when'])[_0x29e105(0x526)]();this[_0x29e105(0x82a)][_0x29e105(0x3fa)](this[_0x29e105(0x798)]+'\x20('+this[_0x29e105(0x478)][_0x29e105(0x456)]+_0x29e105(0x218)+_0xd2f7fa+_0x29e105(0x43e)+_0x1c1f26+_0x29e105(0x46e));}else this['logger'][_0x29e105(0x3fa)](this[_0x29e105(0x798)]+'\x20('+this[_0x29e105(0x478)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x1c1f26+_0x29e105(0x46e));setTimeout(()=>this[_0x29e105(0x361)](),this[_0x29e105(0x478)]['ScheduleMessage']['delayMessage']);};if(this[_0x5e6a19(0x478)][_0x5e6a19(0x50c)][_0x5e6a19(0x5dd)]){await this['setRestartTimeout'](),_0x38224a();return;}if(!this[_0x5e6a19(0x478)][_0x5e6a19(0x50c)][_0x5e6a19(0x1d0)]){this[_0x5e6a19(0x82a)][_0x5e6a19(0x3fa)](this[_0x5e6a19(0x798)]+'\x20('+this[_0x5e6a19(0x478)][_0x5e6a19(0x456)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x5e6a19(0x478)][_0x5e6a19(0x50c)][_0x5e6a19(0x5dd)]=null,this[_0x5e6a19(0x478)]['ScheduleMessage']['lastSend']=0x0,this['instance'][_0x5e6a19(0x50c)][_0x5e6a19(0x171)]=0x0;return;}try{let _0x6b49e=await _0x31b7d1();_0x6b49e[_0x5e6a19(0x30d)]===0x0?this[_0x5e6a19(0x82a)][_0x5e6a19(0x3fa)](this[_0x5e6a19(0x798)]+'\x20('+this[_0x5e6a19(0x478)][_0x5e6a19(0x456)]+_0x5e6a19(0x716)):(this[_0x5e6a19(0x478)][_0x5e6a19(0x50c)]['processingGroup']=_0x6b49e[0x0],await _0x7f21b2(_0x6b49e)),await _0x12cbb6(),this[_0x5e6a19(0x478)][_0x5e6a19(0x50c)]['processingGroup']=null;}catch(_0x903f76){this[_0x5e6a19(0x82a)][_0x5e6a19(0x495)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x903f76 instanceof Error?_0x903f76[_0x5e6a19(0x5af)]:JSON[_0x5e6a19(0x15a)](_0x903f76,null,0x2)));}});}[a0_0x2a87a6(0x241)](_0x333be3,_0x6ff201){const _0x22b262=a0_0x2a87a6;return _0x333be3=Math[_0x22b262(0x653)](0.5,_0x333be3),_0x6ff201=Math[_0x22b262(0x454)](Math['max'](0x3,_0x6ff201),0x78),Math[_0x22b262(0x6f8)](Math[_0x22b262(0x66f)]()*(_0x6ff201-_0x333be3+0x1)+_0x333be3)*0x3e8;}[a0_0x2a87a6(0x5da)](_0x11d6d8){return new Promise(_0x11dd98=>setTimeout(_0x11dd98,_0x11d6d8));}async[a0_0x2a87a6(0x7ff)](_0x2f1381){const _0x26f9fa=a0_0x2a87a6;if(!this[_0x26f9fa(0x77d)]&&(await this[_0x26f9fa(0x1e1)](),!this[_0x26f9fa(0x77d)]))return null;_0x2f1381=this[_0x26f9fa(0x506)](_0x2f1381);let _0x3b1e98=await this[_0x26f9fa(0x6ae)][_0x26f9fa(0x6eb)][_0x26f9fa(0x654)]({'where':{'_id':_0x2f1381}},this[_0x26f9fa(0x478)][_0x26f9fa(0x456)]),_0x55e344={};if(_0x3b1e98&&_0x3b1e98[_0x26f9fa(0x441)]){let _0x4f188a=_0x3b1e98[_0x26f9fa(0x441)];typeof _0x4f188a[_0x26f9fa(0x224)]==_0x26f9fa(0x634)&&(_0x55e344[_0x26f9fa(0x224)]=_0x4f188a[_0x26f9fa(0x224)]),typeof _0x4f188a[_0x26f9fa(0x427)]=='string'&&(_0x55e344[_0x26f9fa(0x427)]=_0x4f188a['nomecompleto']),typeof _0x4f188a[_0x26f9fa(0x3fd)]==_0x26f9fa(0x634)&&(_0x55e344[_0x26f9fa(0x3fd)]=_0x4f188a[_0x26f9fa(0x3fd)]),typeof _0x4f188a[_0x26f9fa(0x7a6)]==_0x26f9fa(0x634)&&(_0x55e344[_0x26f9fa(0x7a6)]=_0x4f188a[_0x26f9fa(0x7a6)]),typeof _0x4f188a[_0x26f9fa(0x5f7)]==_0x26f9fa(0x634)&&(_0x55e344[_0x26f9fa(0x5f7)]=_0x4f188a['status']),typeof _0x4f188a['notas']==_0x26f9fa(0x634)&&(_0x55e344[_0x26f9fa(0x372)]=_0x4f188a[_0x26f9fa(0x372)]),typeof _0x4f188a[_0x26f9fa(0x58b)]==_0x26f9fa(0x634)&&(_0x55e344[_0x26f9fa(0x58b)]=_0x4f188a[_0x26f9fa(0x58b)]),Array[_0x26f9fa(0x272)](_0x4f188a[_0x26f9fa(0x898)])&&(_0x55e344[_0x26f9fa(0x898)]=_0x4f188a[_0x26f9fa(0x898)][_0x26f9fa(0x52e)](',\x20')),Array[_0x26f9fa(0x272)](_0x4f188a[_0x26f9fa(0x6e6)])&&(_0x55e344['etiquetas']=_0x4f188a[_0x26f9fa(0x6e6)][_0x26f9fa(0x52e)](',\x20'));}return _0x3b1e98&&_0x3b1e98[_0x26f9fa(0x441)]&&_0x3b1e98[_0x26f9fa(0x441)][_0x26f9fa(0x248)]&&_0x3b1e98[_0x26f9fa(0x441)][_0x26f9fa(0x248)]['forEach'](_0x543822=>{const _0x111110=_0x26f9fa;let _0x121efb=this[_0x111110(0x77d)]?.[_0x111110(0x248)][_0x111110(0x2f6)](_0x60e36a=>_0x60e36a['_id']===_0x543822['_id']);_0x121efb&&(_0x55e344[_0x121efb[_0x111110(0x366)]]=_0x543822[_0x111110(0x288)]);}),_0x55e344;}async['replaceVariablesChat'](_0x5f3aae,_0x4910ee){const _0x38b0ef=a0_0x2a87a6;try{let _0x10c449=await this['getVariablesChat'](_0x4910ee);return this[_0x38b0ef(0x51a)](_0x5f3aae,_0x10c449);}catch(_0x1e65d3){return this[_0x38b0ef(0x82a)][_0x38b0ef(0x495)](_0x38b0ef(0x161)+_0x4910ee+':\x20'+_0x1e65d3),_0x5f3aae;}}async[a0_0x2a87a6(0x3e3)](){const _0x4a4ec9=a0_0x2a87a6;let _0x295645=async(_0x3767f3,_0xea66a6)=>{const _0x44bf95=a0_0xe551;let _0x265257=(await this[_0x44bf95(0x6ae)][_0x44bf95(0x271)]['find']({'where':{'type':_0x3767f3}},this[_0x44bf95(0x478)][_0x44bf95(0x456)]))[_0x44bf95(0x639)](async _0x130818=>{const _0x578ae0=_0x44bf95;let _0xf9fa9=_0xea66a6(_0x130818),_0x4de66a=_0x565f4d=>/^\d+$/[_0x578ae0(0x4a8)](_0x565f4d),_0x52fd25=_0x130818['remoteJids'][_0x578ae0(0x17c)](_0x4ee7e4=>_0x4ee7e4[_0x578ae0(0x5a1)](_0x578ae0(0x279))?_0x4ee7e4[_0x578ae0(0x30d)]>0x19:_0x4ee7e4[_0x578ae0(0x5a1)](_0x578ae0(0x398))?_0x4ee7e4[_0x578ae0(0x30d)]>0xf:_0x4de66a(_0x4ee7e4)?_0x4ee7e4[_0x578ae0(0x30d)]>=0xb:!0x1)[_0x578ae0(0x639)](_0x602d9d=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x130818[_0x578ae0(0x2f9)],'type':_0xf9fa9,'remoteJid':_0x602d9d,'flow':_0x130818[_0x578ae0(0x7f8)],'text':_0x130818['message']?.[_0x578ae0(0x210)],'delay':_0x130818[_0x578ae0(0x5af)]?.['delay'],'urlOrBase64':_0x130818[_0x578ae0(0x5af)]?.[_0x578ae0(0x35b)],'linkPreview':_0x130818[_0x578ae0(0x5af)]?.[_0x578ae0(0x84f)],'fileName':_0x130818['message']?.[_0x578ae0(0x55f)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x578ae0(0x271)]['updateOneById'](_0x130818[_0x578ae0(0x2f9)],{'$set':{'messages':_0x52fd25},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x578ae0(0x478)]['wuid']);}catch(_0x31c594){console[_0x578ae0(0x495)](_0x578ae0(0x589)+_0x130818[_0x578ae0(0x2f9)]+':',_0x31c594);}});await Promise[_0x44bf95(0x3e2)](_0x265257);};await _0x295645(_0x4a4ec9(0x210),_0x4259c8=>_0x4a4ec9(0x210)),await _0x295645(_0x4a4ec9(0x5ce),_0x3f2224=>_0x3f2224[_0x4a4ec9(0x5af)]?.['mediatype']||_0x4a4ec9(0x5ce)),await _0x295645(_0x4a4ec9(0x415),_0x466e69=>_0x4a4ec9(0x415)),await _0x295645(_0x4a4ec9(0x452),_0x34017a=>_0x4a4ec9(0x452)),await _0x295645(_0x4a4ec9(0x14a),_0x26d05c=>'image'),await _0x295645(_0x4a4ec9(0x715),_0xbd942d=>_0x4a4ec9(0x715)),await _0x295645(_0x4a4ec9(0x25d),_0x4b1f79=>_0x4a4ec9(0x25d)),this[_0x4a4ec9(0x82a)][_0x4a4ec9(0x3fa)](this[_0x4a4ec9(0x798)]+'\x20('+this[_0x4a4ec9(0x478)]['wuid']+_0x4a4ec9(0x5c2));}async[a0_0x2a87a6(0x490)](_0x4487cb){const _0x53a866=a0_0x2a87a6;try{if(this[_0x53a866(0x82a)][_0x53a866(0x3fa)](this[_0x53a866(0x798)]+'\x20('+this[_0x53a866(0x478)]['wuid']+_0x53a866(0x2ca)),_0x4487cb[_0x53a866(0x2f9)]||(_0x4487cb[_0x53a866(0x2f9)]=(0x0,X['v4'])()),this[_0x53a866(0x478)]['ScheduleMessage'][_0x53a866(0x5dd)]?.['_id']===_0x4487cb[_0x53a866(0x2f9)]?.[_0x53a866(0x635)]()&&_0x4487cb[_0x53a866(0x5f7)]!==_0x53a866(0x3aa))throw new Error(_0x53a866(0x1ae));if(_0x4487cb[_0x53a866(0x17e)]&&_0x4487cb[_0x53a866(0x2f9)]){let _0x433f02=await this['repository'][_0x53a866(0x271)][_0x53a866(0x519)](_0x4487cb[_0x53a866(0x2f9)],this[_0x53a866(0x478)][_0x53a866(0x456)]);return setTimeout(()=>this[_0x53a866(0x361)](),0x7d0),_0x433f02;}let _0x47fce4=null;if(_0x4487cb[_0x53a866(0x2f9)]&&(_0x47fce4=await this[_0x53a866(0x6ae)]['scheduleMessage'][_0x53a866(0x677)](_0x4487cb[_0x53a866(0x2f9)],this[_0x53a866(0x478)]['wuid'])),_0x47fce4){let {_id:_0x2bad68,owner:_0x40b44b,messages:_0x4e1cd8,..._0x7edd6b}=_0x4487cb;if(_0x4e1cd8){let _0x418b34=_0x4e1cd8[_0x53a866(0x17c)](_0xef81f8=>!_0xef81f8['_id']),_0x40c163=_0x4e1cd8[_0x53a866(0x17c)](_0x21a0d5=>_0x21a0d5[_0x53a866(0x2f9)]&&!_0x21a0d5[_0x53a866(0x17e)]),_0x31ab19=_0x4e1cd8[_0x53a866(0x17c)](_0x4baaec=>_0x4baaec[_0x53a866(0x2f9)]&&_0x4baaec['delete']);if(_0x418b34[_0x53a866(0x30d)]>0x0&&await this[_0x53a866(0x2da)](_0x4487cb[_0x53a866(0x2f9)],_0x418b34),_0x40c163['length']>0x0&&await this['editMessagesInGroup']({'_id':_0x4487cb[_0x53a866(0x2f9)],'messages':_0x40c163}),_0x31ab19[_0x53a866(0x30d)]>0x0){let _0x57d478=_0x31ab19[_0x53a866(0x639)](_0x1caeb7=>({'updateOne':{'filter':{'_id':_0x4487cb[_0x53a866(0x2f9)]},'update':{'$pull':{'messages':{'_id':_0x1caeb7[_0x53a866(0x2f9)]}}}}}));await this[_0x53a866(0x6ae)][_0x53a866(0x271)][_0x53a866(0x4db)](_0x57d478,this[_0x53a866(0x478)]['wuid']);}}let _0x240df5={'$set':{..._0x7edd6b,'status':_0x4487cb[_0x53a866(0x5f7)]||_0x47fce4[_0x53a866(0x5f7)]}},_0x50ef69=await this[_0x53a866(0x6ae)]['scheduleMessage'][_0x53a866(0x31a)](_0x4487cb[_0x53a866(0x2f9)],_0x240df5,this['instance']['wuid']);return _0x50ef69&&(this[_0x53a866(0x67e)](_0x50ef69[_0x53a866(0x4f1)]),await this[_0x53a866(0x6ae)][_0x53a866(0x271)][_0x53a866(0x31a)](_0x50ef69['_id'],{'$set':{'messages':_0x50ef69['messages']}},this[_0x53a866(0x478)][_0x53a866(0x456)])),setTimeout(()=>this[_0x53a866(0x361)](),0x7d0),await this['transformScheduledMessagesByType'](),_0x50ef69;}else{_0x4487cb[_0x53a866(0x200)]=this[_0x53a866(0x478)][_0x53a866(0x456)],_0x4487cb['messages']&&_0x4487cb[_0x53a866(0x4f1)][_0x53a866(0x32f)](_0xb9db88=>{const _0x31e328=_0x53a866;_0xb9db88[_0x31e328(0x2f9)]||(_0xb9db88[_0x31e328(0x2f9)]=(0x0,X['v4'])()),_0xb9db88[_0x31e328(0x278)]||(_0xb9db88[_0x31e328(0x278)]=_0x4487cb['_id']),delete _0xb9db88[_0x31e328(0x7aa)];});let _0x394d59=await this['repository'][_0x53a866(0x271)][_0x53a866(0x74e)](_0x4487cb,this[_0x53a866(0x478)]['wuid']);return _0x394d59&&(this['reorderMessages'](_0x394d59['messages']),await this['repository'][_0x53a866(0x271)][_0x53a866(0x31a)](_0x394d59['_id'],{'$set':{'messages':_0x394d59[_0x53a866(0x4f1)]}},this[_0x53a866(0x478)][_0x53a866(0x456)])),setTimeout(()=>this[_0x53a866(0x361)](),0x7d0),_0x394d59;}}catch(_0x5cf478){let _0x507505=_0x53a866(0x5d3),_0xf428cc=_0x5cf478 instanceof Error?_0x5cf478['message']:typeof _0x5cf478==_0x53a866(0x3ae)?JSON[_0x53a866(0x15a)](_0x5cf478):_0x5cf478,_0x49f0e2=_0x507505+':\x20'+_0xf428cc;throw this[_0x53a866(0x82a)]['error'](this[_0x53a866(0x798)]+'\x20('+this[_0x53a866(0x478)][_0x53a866(0x456)]+_0x53a866(0x1db)+_0x49f0e2),new m(_0x49f0e2);}}async['addMessagesToGroup'](_0x395b5d,_0x5b6048){const _0x3f1b6e=a0_0x2a87a6;try{this[_0x3f1b6e(0x82a)][_0x3f1b6e(0x216)](this[_0x3f1b6e(0x798)]+'\x20('+this[_0x3f1b6e(0x478)][_0x3f1b6e(0x456)]+_0x3f1b6e(0x67b)),_0x5b6048[_0x3f1b6e(0x32f)](_0x400e4e=>{const _0x523d98=_0x3f1b6e;_0x400e4e[_0x523d98(0x2f9)]||(_0x400e4e[_0x523d98(0x2f9)]=(0x0,X['v4'])()),_0x400e4e[_0x523d98(0x278)]||(_0x400e4e[_0x523d98(0x278)]=_0x395b5d),delete _0x400e4e[_0x523d98(0x7aa)];});let _0x446efa={'$push':{'messages':{'$each':_0x5b6048}}},_0x30ef2e=await this[_0x3f1b6e(0x6ae)]['scheduleMessage'][_0x3f1b6e(0x31a)](_0x395b5d,_0x446efa,this[_0x3f1b6e(0x478)]['wuid']);return _0x30ef2e&&(this[_0x3f1b6e(0x67e)](_0x30ef2e[_0x3f1b6e(0x4f1)]),await this[_0x3f1b6e(0x6ae)][_0x3f1b6e(0x271)][_0x3f1b6e(0x31a)](_0x30ef2e[_0x3f1b6e(0x2f9)],{'$set':{'messages':_0x30ef2e[_0x3f1b6e(0x4f1)]}},this['instance'][_0x3f1b6e(0x456)])),_0x30ef2e;}catch(_0x401c86){let _0x550f3c=_0x3f1b6e(0x26b),_0x565606=_0x401c86 instanceof Error?_0x401c86[_0x3f1b6e(0x5af)]:typeof _0x401c86==_0x3f1b6e(0x3ae)?JSON[_0x3f1b6e(0x15a)](_0x401c86):_0x401c86,_0x4ca65c=_0x550f3c+':\x20'+_0x565606;throw this[_0x3f1b6e(0x82a)]['error'](this[_0x3f1b6e(0x798)]+'\x20('+this[_0x3f1b6e(0x478)][_0x3f1b6e(0x456)]+_0x3f1b6e(0x1db)+_0x4ca65c),new m(_0x4ca65c);}}async['editMessagesInGroup'](_0x2561db){const _0x3e2fff=a0_0x2a87a6;try{if(this['logger']['verbose'](this[_0x3e2fff(0x798)]+'\x20('+this['instance'][_0x3e2fff(0x456)]+_0x3e2fff(0x62e)),!_0x2561db[_0x3e2fff(0x2f9)]||!_0x2561db[_0x3e2fff(0x4f1)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x4999cb=_0x2561db[_0x3e2fff(0x2f9)],_0x339384=_0x2561db['messages'],_0x282bfe=_0x339384[_0x3e2fff(0x17c)](_0x3c988f=>!_0x3c988f[_0x3e2fff(0x17e)])[_0x3e2fff(0x639)](_0x38cc4d=>{const _0x2ee349=_0x3e2fff;let _0x4a87a3=_0x38cc4d[_0x2ee349(0x2f9)];if(!_0x4a87a3)throw new Error(_0x2ee349(0x3e5));return _0x38cc4d[_0x2ee349(0x278)]||(_0x38cc4d[_0x2ee349(0x278)]=_0x4999cb),delete _0x38cc4d[_0x2ee349(0x7aa)],{'updateOne':{'filter':{'_id':_0x4999cb,'messages._id':_0x4a87a3},'update':{'$set':{'messages.$[elem]':_0x38cc4d}},'arrayFilters':[{'elem._id':_0x4a87a3}]}};}),_0x3c974e=_0x339384[_0x3e2fff(0x17c)](_0x3cbeb2=>_0x3cbeb2[_0x3e2fff(0x17e)])['map'](_0x5cef73=>{const _0x512303=_0x3e2fff;let _0xcf14be=_0x5cef73[_0x512303(0x2f9)];if(!_0xcf14be)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x4999cb},'update':{'$pull':{'messages':{'_id':_0xcf14be}}}}};}),_0x40df00=[..._0x282bfe,..._0x3c974e],_0x207c63=await this[_0x3e2fff(0x6ae)][_0x3e2fff(0x271)]['bulkWrite'](_0x40df00,this[_0x3e2fff(0x478)][_0x3e2fff(0x456)]),_0x5e8142=await this['repository'][_0x3e2fff(0x271)][_0x3e2fff(0x677)](_0x4999cb,this['instance'][_0x3e2fff(0x456)]);return _0x5e8142&&(this[_0x3e2fff(0x67e)](_0x5e8142[_0x3e2fff(0x4f1)]),await this['repository']['scheduleMessage'][_0x3e2fff(0x31a)](_0x5e8142[_0x3e2fff(0x2f9)],{'$set':{'messages':_0x5e8142['messages']}},this['instance'][_0x3e2fff(0x456)])),_0x5e8142;}catch(_0x5aa9ae){let _0x482aba=_0x3e2fff(0x18f),_0x446cb2=_0x5aa9ae instanceof Error?_0x5aa9ae[_0x3e2fff(0x5af)]:typeof _0x5aa9ae=='object'?JSON[_0x3e2fff(0x15a)](_0x5aa9ae):_0x5aa9ae,_0x5f5231=_0x482aba+':\x20'+_0x446cb2;throw this['logger'][_0x3e2fff(0x495)](this[_0x3e2fff(0x798)]+'\x20('+this[_0x3e2fff(0x478)]['wuid']+_0x3e2fff(0x1db)+_0x5f5231),new m(_0x5f5231);}}async[a0_0x2a87a6(0x732)](){const _0x27ad03=a0_0x2a87a6;try{let _0x244d45={'status':_0x27ad03(0x794)},_0x4bca21=await this[_0x27ad03(0x6ae)][_0x27ad03(0x271)]['deleteMany'](_0x244d45,this[_0x27ad03(0x478)][_0x27ad03(0x456)]);if(!_0x4bca21[_0x27ad03(0x495)])this['logger'][_0x27ad03(0x216)](this[_0x27ad03(0x798)]+'\x20('+this['instance'][_0x27ad03(0x456)]+_0x27ad03(0x866));else throw new Error(_0x4bca21['error']['message']||_0x27ad03(0x42c));return this['getScheduleMessage']();}catch(_0x49b7a4){let _0x5b93c6='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x38c83e=_0x49b7a4 instanceof Error?_0x49b7a4['message']:typeof _0x49b7a4=='object'?JSON['stringify'](_0x49b7a4):_0x49b7a4,_0x43e963=_0x5b93c6+':\x20'+_0x38c83e;throw this['logger'][_0x27ad03(0x495)](this['instanceName']+'\x20('+this[_0x27ad03(0x478)][_0x27ad03(0x456)]+_0x27ad03(0x1db)+_0x43e963),new m(_0x43e963);}}async[a0_0x2a87a6(0x7a8)](){const _0xf3892c=a0_0x2a87a6;try{return await this[_0xf3892c(0x6ae)][_0xf3892c(0x271)][_0xf3892c(0x2f6)]({'where':{}},this['instance'][_0xf3892c(0x456)]);}catch(_0x72f93){let _0x333fbb='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x9a380d=_0x72f93 instanceof Error?_0x72f93[_0xf3892c(0x5af)]:typeof _0x72f93==_0xf3892c(0x3ae)?JSON[_0xf3892c(0x15a)](_0x72f93):_0x72f93,_0x41a4f8=_0x333fbb+':\x20'+_0x9a380d;throw this[_0xf3892c(0x82a)][_0xf3892c(0x495)](this[_0xf3892c(0x798)]+'\x20('+this[_0xf3892c(0x478)][_0xf3892c(0x456)]+_0xf3892c(0x1db)+_0x41a4f8),new m(_0x41a4f8);}}[a0_0x2a87a6(0x67e)](_0x29ef39){const _0x3c442a=a0_0x2a87a6;_0x29ef39['sort']((_0x60cb35,_0x5d8e27)=>_0x60cb35[_0x3c442a(0x4ec)]-_0x5d8e27[_0x3c442a(0x4ec)]),_0x29ef39[_0x3c442a(0x32f)]((_0x2e803b,_0x15310d)=>{_0x2e803b['order']=_0x15310d+0x1;});}async['SendScheduleMessage'](_0x224c9a,_0x438041){const _0x5a5ab3=a0_0x2a87a6;try{if(!_0x438041)return this[_0x5a5ab3(0x82a)][_0x5a5ab3(0x495)](this[_0x5a5ab3(0x798)]+'\x20('+this[_0x5a5ab3(0x478)][_0x5a5ab3(0x456)]+_0x5a5ab3(0x78f)),{'error':!0x0,'detail':_0x5a5ab3(0x860)};if(_0x438041[_0x5a5ab3(0x3c1)]==='flow'&&!this[_0x5a5ab3(0x77d)]?.['flowConfig'][_0x5a5ab3(0x6d1)])return this['logger']['error'](this[_0x5a5ab3(0x798)]+'\x20('+this[_0x5a5ab3(0x478)][_0x5a5ab3(0x456)]+_0x5a5ab3(0x63e)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x438041[_0x5a5ab3(0x3c1)]){case'text':return await this['scheduleSendText'](_0x438041,_0x224c9a);case _0x5a5ab3(0x715):case _0x5a5ab3(0x14a):case'document':return await this[_0x5a5ab3(0x14d)](_0x438041,_0x224c9a);case _0x5a5ab3(0x415):return await this[_0x5a5ab3(0x571)](_0x438041,_0x224c9a);case'flow':let _0x1d661d=new Ke();return _0x1d661d[_0x5a5ab3(0x366)]=_0x438041[_0x5a5ab3(0x452)],_0x1d661d['remoteJid']=_0x224c9a,await this['startFlow'](_0x1d661d);default:return this[_0x5a5ab3(0x82a)][_0x5a5ab3(0x495)](this[_0x5a5ab3(0x798)]+'\x20('+this[_0x5a5ab3(0x478)]['wuid']+_0x5a5ab3(0x1b1)+_0x438041[_0x5a5ab3(0x3c1)]),{'error':!0x0,'detail':_0x5a5ab3(0x2ce)};}}catch(_0x24909d){return this[_0x5a5ab3(0x82a)][_0x5a5ab3(0x495)](this[_0x5a5ab3(0x798)]+'\x20('+this[_0x5a5ab3(0x478)][_0x5a5ab3(0x456)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x24909d instanceof Error?_0x24909d['message']:JSON[_0x5a5ab3(0x15a)](_0x24909d,null,0x2))),{'error':!0x0,'detail':_0x24909d[_0x5a5ab3(0x5af)]};}}async[a0_0x2a87a6(0x485)](_0x387113,_0xaedb53){const _0x1fac1b=a0_0x2a87a6;if(this[_0x1fac1b(0x82a)][_0x1fac1b(0x216)](this[_0x1fac1b(0x798)]+'\x20('+this[_0x1fac1b(0x478)][_0x1fac1b(0x456)]+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0xaedb53+'\x27'),!_0x387113[_0x1fac1b(0x210)]||_0x387113[_0x1fac1b(0x210)][_0x1fac1b(0x30d)]===0x0)return{'error':!0x0,'detail':_0x1fac1b(0x460)};let _0x1dbf01=await this['replaceVariablesChat'](_0x387113[_0x1fac1b(0x210)],_0xaedb53),_0x462dc6={'number':_0xaedb53,'options':{'delay':_0x387113[_0x1fac1b(0x6c6)],'linkPreview':_0x387113[_0x1fac1b(0x84f)]},'textMessage':{'text':_0x1dbf01}},_0x48dc5f=null;try{let _0x2b003d=await this[_0x1fac1b(0x319)](_0x462dc6);if(_0x2b003d&&_0x2b003d[_0x1fac1b(0x5f7)])return{'error':!0x1,'id':_0x2b003d[_0x1fac1b(0x349)]['id']};_0x48dc5f=JSON[_0x1fac1b(0x15a)](_0x2b003d),this[_0x1fac1b(0x82a)][_0x1fac1b(0x216)](this['instanceName']+'\x20('+this['instance'][_0x1fac1b(0x456)]+_0x1fac1b(0x1db)+_0x48dc5f);}catch(_0x3be3cd){this[_0x1fac1b(0x82a)]['error'](this['instanceName']+'\x20('+this[_0x1fac1b(0x478)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x3be3cd instanceof Error?_0x3be3cd[_0x1fac1b(0x5af)]:JSON[_0x1fac1b(0x15a)](_0x3be3cd,null,0x2))),_0x48dc5f=_0x3be3cd['message'];}if(_0x48dc5f)return{'error':!0x0,'detail':(typeof _0x48dc5f==_0x1fac1b(0x3ae)?JSON['stringify'](_0x48dc5f,null,0x2):_0x48dc5f)[_0x1fac1b(0x1ee)](/[\[\]{}\n]/g,'\x20')[_0x1fac1b(0x1ee)](/  +/g,'\x20')};}async[a0_0x2a87a6(0x14d)](_0x6e1ea7,_0x29eaa6){const _0x15e7ee=a0_0x2a87a6;this[_0x15e7ee(0x82a)]['verbose'](this[_0x15e7ee(0x798)]+'\x20('+this[_0x15e7ee(0x478)][_0x15e7ee(0x456)]+_0x15e7ee(0x86d)+_0x29eaa6+'\x27');let _0x534e54;_0x6e1ea7[_0x15e7ee(0x210)]&&_0x6e1ea7['text'][_0x15e7ee(0x30d)]>0x0&&(_0x534e54=await this[_0x15e7ee(0x601)](_0x6e1ea7[_0x15e7ee(0x210)],_0x29eaa6));let _0x31164b={'number':_0x29eaa6,'options':{'delay':_0x6e1ea7[_0x15e7ee(0x6c6)],'linkPreview':_0x6e1ea7[_0x15e7ee(0x84f)]},'mediaMessage':{'mediatype':_0x6e1ea7[_0x15e7ee(0x3c1)],'caption':_0x534e54,'media':_0x6e1ea7[_0x15e7ee(0x35b)]}},_0x506dd0=null;try{let _0x1e0703=await this[_0x15e7ee(0x3b8)](_0x31164b);if(_0x1e0703&&_0x1e0703[_0x15e7ee(0x5f7)])return{'error':!0x1,'id':_0x1e0703[_0x15e7ee(0x349)]['id']};_0x506dd0=JSON[_0x15e7ee(0x15a)](_0x1e0703),this[_0x15e7ee(0x82a)][_0x15e7ee(0x216)](this[_0x15e7ee(0x798)]+'\x20('+this[_0x15e7ee(0x478)][_0x15e7ee(0x456)]+'):\x20'+_0x506dd0);}catch(_0x44e4ea){this['logger']['error'](this[_0x15e7ee(0x798)]+'\x20('+this[_0x15e7ee(0x478)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x44e4ea instanceof Error?_0x44e4ea[_0x15e7ee(0x5af)]:JSON[_0x15e7ee(0x15a)](_0x44e4ea,null,0x2))),_0x506dd0=_0x44e4ea[_0x15e7ee(0x5af)];}if(_0x506dd0)return{'error':!0x0,'detail':(typeof _0x506dd0==_0x15e7ee(0x3ae)?JSON[_0x15e7ee(0x15a)](_0x506dd0,null,0x2):_0x506dd0)[_0x15e7ee(0x1ee)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x2a87a6(0x571)](_0x4306a9,_0x3053a3){const _0x4a15c8=a0_0x2a87a6;this[_0x4a15c8(0x82a)][_0x4a15c8(0x216)](this[_0x4a15c8(0x798)]+'\x20('+this[_0x4a15c8(0x478)]['wuid']+_0x4a15c8(0x88e)+_0x3053a3+'\x27');let _0x48aab7={'number':_0x3053a3,'options':{'delay':_0x4306a9[_0x4a15c8(0x6c6)]},'audioMessage':{'audio':_0x4306a9[_0x4a15c8(0x35b)]}},_0x5b25f7=null;try{let _0x16bddb=await this['audioWhatsapp'](_0x48aab7);if(_0x16bddb&&_0x16bddb['status'])return{'error':!0x1,'id':_0x16bddb['key']['id']};_0x5b25f7=JSON[_0x4a15c8(0x15a)](_0x16bddb),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4a15c8(0x478)][_0x4a15c8(0x456)]+_0x4a15c8(0x1db)+_0x5b25f7);}catch(_0x3c8c7e){this[_0x4a15c8(0x82a)][_0x4a15c8(0x495)](this[_0x4a15c8(0x798)]+'\x20('+this[_0x4a15c8(0x478)][_0x4a15c8(0x456)]+_0x4a15c8(0x1bb)+(_0x3c8c7e instanceof Error?_0x3c8c7e[_0x4a15c8(0x5af)]:JSON[_0x4a15c8(0x15a)](_0x3c8c7e,null,0x2))),_0x5b25f7=_0x3c8c7e[_0x4a15c8(0x5af)];}if(_0x5b25f7)return{'error':!0x0,'detail':(typeof _0x5b25f7==_0x4a15c8(0x3ae)?JSON['stringify'](_0x5b25f7,null,0x2):_0x5b25f7)[_0x4a15c8(0x1ee)](/[\[\]{}\n]/g,'\x20')[_0x4a15c8(0x1ee)](/  +/g,'\x20')};}async['groupDesc'](_0x436b96){const _0x3bd126=a0_0x2a87a6;try{return await this['client'][_0x3bd126(0x26d)](_0x436b96[_0x3bd126(0x3a6)],_0x436b96[_0x3bd126(0x406)]),{'update':_0x3bd126(0x3da)};}catch(_0x4d2570){let _0x2689b8=_0x3bd126(0x6e2),_0xfcba60=_0x4d2570 instanceof Error?_0x4d2570[_0x3bd126(0x5af)]:typeof _0x4d2570==_0x3bd126(0x3ae)?JSON['stringify'](_0x4d2570):_0x4d2570,_0x54e687=_0x2689b8+':\x20'+_0xfcba60;throw this[_0x3bd126(0x82a)][_0x3bd126(0x495)](this[_0x3bd126(0x798)]+'\x20('+this['instance'][_0x3bd126(0x456)]+'):\x20'+_0x54e687),new x(_0x54e687);}}async['groupName'](_0x380fc4){const _0x308218=a0_0x2a87a6;try{return await this['client'][_0x308218(0x668)](_0x380fc4['groupJid'],_0x380fc4[_0x308218(0x366)]),{'update':_0x308218(0x3da)};}catch(_0x5188c2){let _0x1acbc9=_0x308218(0x2d1),_0x3ccad7=_0x5188c2 instanceof Error?_0x5188c2[_0x308218(0x5af)]:typeof _0x5188c2==_0x308218(0x3ae)?JSON[_0x308218(0x15a)](_0x5188c2):_0x5188c2,_0x3dd6cb=_0x1acbc9+':\x20'+_0x3ccad7;throw this[_0x308218(0x82a)][_0x308218(0x495)](this['instanceName']+'\x20('+this[_0x308218(0x478)]['wuid']+_0x308218(0x1db)+_0x3dd6cb),new x(_0x3dd6cb);}}async[a0_0x2a87a6(0x64f)](_0x407e14){const _0x2d115c=a0_0x2a87a6;try{let _0x15ac53=await this['client'][_0x2d115c(0x211)](_0x407e14[_0x2d115c(0x3a6)],_0x407e14[_0x2d115c(0x71e)]);return{'success':!0x0};}catch(_0x2532d5){let _0x1a37fa=_0x2d115c(0x182),_0x47b9fb=_0x2532d5 instanceof Error?_0x2532d5[_0x2d115c(0x5af)]:typeof _0x2532d5=='object'?JSON[_0x2d115c(0x15a)](_0x2532d5):_0x2532d5,_0x4bc070=_0x1a37fa+':\x20'+_0x47b9fb;throw this[_0x2d115c(0x82a)][_0x2d115c(0x495)](this[_0x2d115c(0x798)]+'\x20('+this['instance'][_0x2d115c(0x456)]+_0x2d115c(0x1db)+_0x4bc070),new x(_0x4bc070);}}async[a0_0x2a87a6(0x3b1)](_0x44c8d5){const _0xf56131=a0_0x2a87a6;try{return await this['client']['groupSettingUpdate'](_0x44c8d5[_0xf56131(0x3a6)],_0x44c8d5[_0xf56131(0x2b9)]),{'update':_0xf56131(0x3da)};}catch(_0x5d2f75){let _0x485db8=_0xf56131(0x482),_0x8032b9=_0x5d2f75 instanceof Error?_0x5d2f75['message']:typeof _0x5d2f75==_0xf56131(0x3ae)?JSON[_0xf56131(0x15a)](_0x5d2f75):_0x5d2f75,_0x20835d=_0x485db8+':\x20'+_0x8032b9;throw this[_0xf56131(0x82a)]['error'](this[_0xf56131(0x798)]+'\x20('+this['instance'][_0xf56131(0x456)]+_0xf56131(0x1db)+_0x20835d),new x(_0x20835d);}}async[a0_0x2a87a6(0x5dc)](_0x17b619){const _0x1ac094=a0_0x2a87a6;try{let _0x53e894;if((0x0,L[_0x1ac094(0x638)])(_0x17b619[_0x1ac094(0x14a)])){let _0xdeaa97=new Date()['getTime'](),_0x2fc530=_0x17b619[_0x1ac094(0x14a)]+_0x1ac094(0x487)+_0xdeaa97;_0x53e894=(await te[_0x1ac094(0x667)][_0x1ac094(0x7eb)](_0x2fc530,{'responseType':_0x1ac094(0x17b)}))[_0x1ac094(0x2d7)];}else{if((0x0,L['isBase64'])(_0x17b619['image']))_0x53e894=Buffer['from'](_0x17b619['image'],'base64');else throw new m(_0x1ac094(0x841));}return await this[_0x1ac094(0x47c)][_0x1ac094(0x40e)](_0x17b619[_0x1ac094(0x3a6)],_0x53e894),{'update':_0x1ac094(0x3da)};}catch(_0x31f144){let _0xc7944a=_0x1ac094(0x54e),_0x52d421=_0x31f144 instanceof Error?_0x31f144[_0x1ac094(0x5af)]:typeof _0x31f144==_0x1ac094(0x3ae)?JSON[_0x1ac094(0x15a)](_0x31f144):_0x31f144,_0x3437aa=_0xc7944a+':\x20'+_0x52d421;throw this[_0x1ac094(0x82a)]['error'](this[_0x1ac094(0x798)]+'\x20('+this[_0x1ac094(0x478)][_0x1ac094(0x456)]+_0x1ac094(0x1db)+_0x3437aa),new x(_0x3437aa);}}},Bt=class u{constructor(_0x2d93cf,_0x24c65b,_0x15b717){const _0x2f949e=a0_0x2a87a6;this[_0x2f949e(0x546)]=_0x2d93cf,this[_0x2f949e(0x5ca)]=_0x24c65b,this['repository']=_0x15b717,this['db']={},this[_0x2f949e(0x155)]={},this[_0x2f949e(0x82a)]=new $(u[_0x2f949e(0x366)]),this[_0x2f949e(0x4b6)]={},(this[_0x2f949e(0x647)](),this[_0x2f949e(0x4d1)](),Object[_0x2f949e(0x7b1)](this['db'],_0x24c65b[_0x2f949e(0x7eb)](_0x2f949e(0x2a1))),Object[_0x2f949e(0x7b1)](this[_0x2f949e(0x155)],_0x24c65b[_0x2f949e(0x7eb)]('REDIS')),this[_0x2f949e(0x7c5)]=this['db'][_0x2f949e(0x15e)]?this['repository'][_0x2f949e(0x205)]?.['db'](this['db']['CONNECTION'][_0x2f949e(0x693)]+_0x2f949e(0x24a)):void 0x0,this[_0x2f949e(0x13d)]=this[_0x2f949e(0x155)][_0x2f949e(0x15e)]?new ge(this['redis']):void 0x0);}async[a0_0x2a87a6(0x829)](_0x508f0b){const _0x1e8ff9=a0_0x2a87a6;if(_0x508f0b&&!this[_0x1e8ff9(0x4b6)][_0x508f0b])throw new J('Instance\x20\x22'+_0x508f0b+'\x22\x20not\x20found');let _0x493497=[];for await(let [_0x441b14,_0x385d55]of Object['entries'](this[_0x1e8ff9(0x4b6)]))if(_0x385d55&&_0x385d55[_0x1e8ff9(0x765)]['state']===_0x1e8ff9(0x2cd)){let _0x322974=await this['repository'][_0x1e8ff9(0x674)]['find'](_0x441b14);_0x493497['push']({'instance':{'instanceName':_0x441b14,'apikey':_0x322974[_0x1e8ff9(0x725)],'owner':_0x385d55[_0x1e8ff9(0x456)],'profileName':await _0x385d55[_0x1e8ff9(0x41b)]()||_0x1e8ff9(0x609),'profilePictureUrl':_0x385d55[_0x1e8ff9(0x70c)]}});}return _0x493497[_0x1e8ff9(0x2f6)](_0x33a0af=>_0x33a0af[_0x1e8ff9(0x478)][_0x1e8ff9(0x798)]===_0x508f0b)??_0x493497;}async[a0_0x2a87a6(0x627)](_0x29365f){const _0x3a2bac=a0_0x2a87a6;if(this['db'][_0x3a2bac(0x15e)]&&(await this[_0x3a2bac(0x6ae)][_0x3a2bac(0x205)][_0x3a2bac(0x5c9)](),(await this[_0x3a2bac(0x7c5)]['collections']())[_0x3a2bac(0x30d)]>0x0&&await this[_0x3a2bac(0x7c5)][_0x3a2bac(0x144)](_0x29365f)),this[_0x3a2bac(0x155)][_0x3a2bac(0x15e)]){this[_0x3a2bac(0x13d)]['reference']=_0x29365f,await this[_0x3a2bac(0x13d)][_0x3a2bac(0x840)]();return;}}async['loadInstance'](){const _0x7ec026=a0_0x2a87a6;await this[_0x7ec026(0x4da)]();let _0x30afd8=async _0x466718=>{const _0x3d7b9e=_0x7ec026;let _0x4d4500=new Re(this[_0x3d7b9e(0x5ca)],this[_0x3d7b9e(0x546)],this[_0x3d7b9e(0x6ae)]);_0x4d4500['instanceName']=_0x466718,await _0x4d4500[_0x3d7b9e(0x617)](),this[_0x3d7b9e(0x4b6)][_0x466718]=_0x4d4500;};try{if(this[_0x7ec026(0x155)][_0x7ec026(0x15e)]){let _0x5e27ca=await this['cache'][_0x7ec026(0x7f4)]();_0x5e27ca?.['length']>0x0&&_0x5e27ca['forEach'](async _0x2435bf=>await _0x30afd8(_0x2435bf['split'](':')[0x1]));return;}if(this['db'][_0x7ec026(0x15e)]){await this[_0x7ec026(0x6ae)][_0x7ec026(0x205)][_0x7ec026(0x5c9)]();let _0x51c1fc=await this[_0x7ec026(0x7c5)][_0x7ec026(0x163)]();_0x51c1fc[_0x7ec026(0x30d)]>0x0&&_0x51c1fc['forEach'](async _0x36f785=>await _0x30afd8(_0x36f785['namespace'][_0x7ec026(0x1ee)](/^[\w-]+\./,'')));return;}}catch(_0x32902f){this[_0x7ec026(0x82a)][_0x7ec026(0x495)](_0x32902f);}}async[a0_0x2a87a6(0x65b)](){const _0xc2dd13=a0_0x2a87a6;try{let _0x2e8b06=await this[_0xc2dd13(0x6ae)][_0xc2dd13(0x674)][_0xc2dd13(0x885)]({'online':!0x1});for(let _0x5a8a43 of _0x2e8b06){let _0xbc2332=_0x5a8a43[_0xc2dd13(0x2f9)];await re[_0xc2dd13(0x303)](K,_0xbc2332);}console['log'](_0xc2dd13(0x25a)+_0x2e8b06[_0xc2dd13(0x30d)]);let _0x1d3c27={'online':!0x1},_0x2425f6=await this[_0xc2dd13(0x6ae)]['auth'][_0xc2dd13(0x583)](_0x1d3c27);console['log'](_0xc2dd13(0x27a)+_0x2425f6[_0xc2dd13(0x7d9)]);}catch(_0xdf12c){console[_0xc2dd13(0x495)](_0xc2dd13(0x184),_0xdf12c);}}async['InstancesAlterarTodas'](){const _0x1f3d53=a0_0x2a87a6;try{let _0x2d2551={'online':!0x1},_0x1218b5={'online':!0x1,'lastDisconnect':Date[_0x1f3d53(0x810)]()},_0x405193=await this[_0x1f3d53(0x6ae)][_0x1f3d53(0x674)]['updateAll'](_0x2d2551,_0x1218b5);await this[_0x1f3d53(0x65b)]();}catch(_0x257d9c){console[_0x1f3d53(0x495)](_0x1f3d53(0x68e),_0x257d9c);}}[a0_0x2a87a6(0x647)](){const _0x9fa17f=a0_0x2a87a6;this[_0x9fa17f(0x546)]['on'](_0x9fa17f(0x70f),async _0x52a541=>{const _0x275b7a=_0x9fa17f;try{this[_0x275b7a(0x4b6)][_0x52a541]=void 0x0;}catch{}try{this[_0x275b7a(0x627)](_0x52a541);}finally{this[_0x275b7a(0x82a)]['warn']('Instance\x20\x22'+_0x52a541+'\x22\x20-\x20REMOVED');}});}[a0_0x2a87a6(0x4d1)](){const _0xef1ffc=a0_0x2a87a6;this[_0xef1ffc(0x546)]['on']('no.connection',async _0x4a049e=>{const _0xa20b31=_0xef1ffc;try{this[_0xa20b31(0x4b6)][_0x4a049e]=void 0x0;}catch{}try{this[_0xa20b31(0x627)](_0x4a049e);}finally{this[_0xa20b31(0x82a)][_0xa20b31(0x3fa)]('Instance\x20\x22'+_0x4a049e+_0xa20b31(0x251));}});}},Wt=class extends _{[a0_0x2a87a6(0x308)](_0x50dbcc){return ia(_0x50dbcc);}async[a0_0x2a87a6(0x39f)](_0x4d30f9){const _0x11ab0f=a0_0x2a87a6;if(_0x4d30f9['length']!==0x0)try{return{'insertCount':(await this[_0x11ab0f(0x308)](_0x4d30f9[0x0][_0x11ab0f(0x200)])[_0x11ab0f(0x71b)]([..._0x4d30f9]))[_0x11ab0f(0x30d)]};}catch(_0x350f49){return _0x350f49;}}async['find'](_0x4769e6,_0xa69584){const _0x3fabc7=a0_0x2a87a6;try{let _0x320f13=this[_0x3fabc7(0x308)](_0xa69584),_0x32e019=A(_0x4769e6['where']);return await _0x320f13[_0x3fabc7(0x2f6)](_0x32e019)[_0x3fabc7(0x7ce)]({'lastmsg':-0x1})[_0x3fabc7(0x759)](_0x4769e6?.[_0x3fabc7(0x759)]??0x0)[_0x3fabc7(0x13a)]();}catch{return[];}}async[a0_0x2a87a6(0x3fb)](_0x29db56,_0x2d40c1){const _0x556cf7=a0_0x2a87a6;try{let _0x128180=this['getChatModelForOwner'](_0x2d40c1),_0x4837bd=A(_0x29db56[_0x556cf7(0x72b)]);return _0x4837bd[_0x556cf7(0x428)]={'$ne':[]},await _0x128180[_0x556cf7(0x2f6)](_0x4837bd)[_0x556cf7(0x7ce)]({'lastmsg':-0x1})[_0x556cf7(0x759)](_0x29db56?.[_0x556cf7(0x759)]??0x0)['lean']();}catch{return[];}}async['delete'](_0xd3ec54,_0x6b88df){const _0x2fcc4b=a0_0x2a87a6;try{return{'deletedCount':(await this[_0x2fcc4b(0x308)](_0x6b88df)[_0x2fcc4b(0x583)]({..._0xd3ec54[_0x2fcc4b(0x72b)]}))[_0x2fcc4b(0x85e)]};}catch(_0x31641e){return{'error':_0x31641e?.[_0x2fcc4b(0x635)]()};}}async[a0_0x2a87a6(0x465)](_0x5be492,_0x1e89a3){const _0x4c7f69=a0_0x2a87a6;try{return await this[_0x4c7f69(0x308)](_0x1e89a3)[_0x4c7f69(0x583)]({..._0x5be492['where']}),[];}catch(_0x205f67){return{'error':_0x205f67?.[_0x4c7f69(0x635)]()};}}async[a0_0x2a87a6(0x654)](_0x5eb0d4,_0x4964b9){const _0x3d4409=a0_0x2a87a6;try{let _0x42e11f=this[_0x3d4409(0x308)](_0x4964b9),_0x51c076=A(_0x5eb0d4['where']);return await _0x42e11f['findOne'](_0x51c076)[_0x3d4409(0x13a)]();}catch{return null;}}async[a0_0x2a87a6(0x768)](_0xd4f0bd,_0x17d488,_0xbd53c5,_0x156dbb,_0x49bdba=a0_0x2a87a6(0x49b)){const _0x5a69f4=a0_0x2a87a6;try{let _0x256d4f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x156dbb},_0x2a329b=this['getChatModelForOwner'](_0xbd53c5),_0x4af2ca=A(_0xd4f0bd[_0x5a69f4(0x72b)]);Object[_0x5a69f4(0x173)](_0x17d488)['forEach'](_0x37a155=>{_0x17d488[_0x37a155]==null&&delete _0x17d488[_0x37a155];});let _0x22c954={};return _0x22c954[_0x49bdba]=_0x17d488,await _0x2a329b[_0x5a69f4(0x4cc)](_0x4af2ca,_0x22c954,_0x256d4f);}catch(_0x5aebad){return console['error'](_0x5aebad),null;}}async['updateMany'](_0x137df4){const _0x58a209=a0_0x2a87a6;try{let _0x412947=this[_0x58a209(0x308)](_0x137df4[0x0]['query'][_0x58a209(0x72b)]['owner']),_0x582a6e=_0x137df4[_0x58a209(0x639)](_0x151150=>({'updateOne':{'filter':{..._0x151150[_0x58a209(0x1be)][_0x58a209(0x72b)]},'update':{'$set':_0x151150[_0x58a209(0x7ee)]},'upsert':!0x0}})),_0x146287=await _0x412947[_0x58a209(0x4db)](_0x582a6e);return _0x146287['modifiedCount']+_0x146287[_0x58a209(0x77b)];}catch(_0x39e370){return console[_0x58a209(0x495)](_0x39e370),0x0;}}async[a0_0x2a87a6(0x246)](_0x63f26a){const _0x35500b=a0_0x2a87a6;try{let _0x55cfd5={'group_isCommunity':'','group_announce':'','group_size':''},_0x2e1261={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x3dd685={'$unset':_0x55cfd5};return(await this[_0x35500b(0x308)](_0x63f26a)[_0x35500b(0x5f5)](_0x2e1261,_0x3dd685))[_0x35500b(0x7af)];}catch(_0x7e1ba4){return console[_0x35500b(0x495)](_0x35500b(0x3db),_0x7e1ba4),0x0;}}async[a0_0x2a87a6(0x816)](_0x1f0cbf){const _0x3a0888=a0_0x2a87a6;try{let _0x13dfe6=this[_0x3a0888(0x308)](_0x1f0cbf),_0xc2960c={'leadInfo.etiquetas':{'$exists':!0x1}},_0x25750b={'$set':{'leadInfo.etiquetas':[]}};return(await _0x13dfe6[_0x3a0888(0x5f5)](_0xc2960c,_0x25750b))['modifiedCount'];}catch(_0x19505e){return console[_0x3a0888(0x495)](_0x19505e),0x0;}}async[a0_0x2a87a6(0x453)](_0x261b0f){const _0x3d59d4=a0_0x2a87a6;try{let _0x5623de=this[_0x3d59d4(0x308)](_0x261b0f),_0x4ab063={'leadInfo.tags':{'$exists':!0x1}},_0x4a02d1={'$set':{'leadInfo.tags':[]}};return(await _0x5623de[_0x3d59d4(0x5f5)](_0x4ab063,_0x4a02d1))[_0x3d59d4(0x7af)];}catch(_0x5cfe14){return console[_0x3d59d4(0x495)](_0x5cfe14),0x0;}}async[a0_0x2a87a6(0x5be)](_0x38ef92){const _0x2a2b61=a0_0x2a87a6;try{let _0x2e5a7f=this[_0x2a2b61(0x308)](_0x38ef92),_0x1f9c66={'leadInfo.customFields':{'$exists':!0x1}},_0x41b0ce={'$set':{'leadInfo.customFields':[]}};return(await _0x2e5a7f['updateMany'](_0x1f9c66,_0x41b0ce))[_0x2a2b61(0x7af)];}catch(_0x267665){return console['error'](_0x267665),0x0;}}async[a0_0x2a87a6(0x71b)](_0x2f9237,_0x25e548){const _0x2532d7=a0_0x2a87a6;if(!Array[_0x2532d7(0x272)](_0x2f9237)||_0x2f9237[_0x2532d7(0x30d)]===0x0)throw new Error(_0x2532d7(0x4ba));try{return(await this['getChatModelForOwner'](_0x25e548)[_0x2532d7(0x71b)](_0x2f9237))['length'];}catch(_0x44a30d){throw console['error'](_0x2532d7(0x382),_0x44a30d),_0x44a30d;}}async[a0_0x2a87a6(0x21f)](_0x504c5d,_0x4f3904){const _0x225f44=a0_0x2a87a6;try{await this[_0x225f44(0x308)](_0x4f3904)[_0x225f44(0x519)]({'_id':_0x504c5d});}catch(_0xe88e3a){throw console[_0x225f44(0x495)](_0x225f44(0x7ba),_0xe88e3a),_0xe88e3a;}}},zt=class extends _{constructor(_0x3ead76,_0x52ee6b,_0x2d9fab){const _0x4db0bb=a0_0x2a87a6;super(_0x52ee6b),this[_0x4db0bb(0x691)]=_0x3ead76,this[_0x4db0bb(0x5ca)]=_0x52ee6b,this[_0x4db0bb(0x529)]=_0x2d9fab;}async['insert'](_0xa39ad2){const _0x456af2=a0_0x2a87a6;if(_0xa39ad2[_0x456af2(0x30d)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x456af2(0x71b)]([..._0xa39ad2]))[_0x456af2(0x30d)]};}catch(_0x3cc1a8){return _0x3cc1a8;}}async['update'](_0x4b7c8c,_0x4cf14e){const _0x46ba2f=a0_0x2a87a6;try{let _0x47951b=A(_0x4b7c8c['where']);return{'updatedCount':(await this[_0x46ba2f(0x691)][_0x46ba2f(0x5f5)](_0x47951b,{'$set':_0x4cf14e}))[_0x46ba2f(0x7af)]};}catch(_0x2cef5f){return console[_0x46ba2f(0x495)](_0x46ba2f(0x2a4),_0x2cef5f),{'error':_0x2cef5f[_0x46ba2f(0x635)]()};}}async[a0_0x2a87a6(0x678)](_0x616ce8){const _0x1e2700=a0_0x2a87a6;try{let _0x536770={'_id':{'$in':_0x616ce8}};return await this['cacheContactModel'][_0x1e2700(0x2f6)](_0x536770)['lean']();}catch(_0xa724d2){return console[_0x1e2700(0x495)](_0x1e2700(0x377),_0xa724d2),[];}}async[a0_0x2a87a6(0x17e)](_0x449fc6){const _0x3ba381=a0_0x2a87a6;try{return{'deletedCount':(await this['cacheContactModel'][_0x3ba381(0x583)]({..._0x449fc6[_0x3ba381(0x72b)]}))[_0x3ba381(0x85e)]};}catch(_0x37fc3e){return{'error':_0x37fc3e?.[_0x3ba381(0x635)]()};}}async['find'](_0x5e072a){const _0x467576=a0_0x2a87a6;try{let _0x3ca71e=A(_0x5e072a[_0x467576(0x72b)]);return await this[_0x467576(0x691)]['find'](_0x3ca71e)[_0x467576(0x759)](_0x5e072a?.[_0x467576(0x759)]??0x0)[_0x467576(0x13a)]();}catch{return[];}}async[a0_0x2a87a6(0x654)](_0x5efb3a){const _0x5b6966=a0_0x2a87a6;try{let _0x2f7319=A(_0x5efb3a[_0x5b6966(0x72b)]);return await this[_0x5b6966(0x691)][_0x5b6966(0x654)](_0x2f7319)['lean']();}catch{return null;}}},Ht=class extends _{['getLabelModelForOwner'](_0x5f354e){return $a(_0x5f354e);}async[a0_0x2a87a6(0x768)](_0x5b2477,_0x51ac68,_0x49ec6b,_0x232cac){const _0x536ee3=a0_0x2a87a6;try{let _0x18c0c8={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x232cac},_0x12a6dc=this[_0x536ee3(0x720)](_0x49ec6b),_0x18cde9=A(_0x5b2477[_0x536ee3(0x72b)]);return await _0x12a6dc[_0x536ee3(0x4cc)](_0x18cde9,{'$set':_0x51ac68},_0x18c0c8);}catch(_0x1b1daf){return console[_0x536ee3(0x495)](_0x1b1daf),null;}}async[a0_0x2a87a6(0x2f6)](_0x100b70,_0x113896){const _0x5c17d8=a0_0x2a87a6;try{let _0x399542=this[_0x5c17d8(0x720)](_0x113896),_0x16bad9=A(_0x100b70['where']);return await _0x399542['find'](_0x16bad9);}catch(_0x7ddf1e){console[_0x5c17d8(0x495)](_0x7ddf1e);}}async['delete'](_0x337962,_0x38b8db){const _0x56b9e4=a0_0x2a87a6;try{let _0x591311=this[_0x56b9e4(0x720)](_0x38b8db),_0x5ba8e4=A(_0x337962[_0x56b9e4(0x72b)]);await _0x591311[_0x56b9e4(0x583)](_0x5ba8e4);}catch(_0x33742c){console['error'](_0x33742c);}}async[a0_0x2a87a6(0x465)](_0x260cae){const _0x31d63b=a0_0x2a87a6;try{return await this[_0x31d63b(0x720)](_0x260cae)[_0x31d63b(0x178)]['drop'](),{'success':!0x0};}catch(_0x81e684){return console[_0x31d63b(0x495)](_0x81e684),{'success':!0x1,'error':_0x81e684};}}},Kt=class{constructor(_0x3b034c){const _0x1a9ced=a0_0x2a87a6;this[_0x1a9ced(0x15d)]=_0x3b034c;}async[a0_0x2a87a6(0x554)]({instanceName:_0x215edf},_0x2e6f56){const _0x371cb1=a0_0x2a87a6;return await this[_0x371cb1(0x15d)]['waInstances'][_0x215edf][_0x371cb1(0x554)](_0x2e6f56);}async[a0_0x2a87a6(0x7e0)]({instanceName:_0x1a2aaf},_0x484f37){const _0x2e09f9=a0_0x2a87a6;return await this['waMonitor'][_0x2e09f9(0x4b6)][_0x1a2aaf]['whatsappNumber'](_0x484f37);}async[a0_0x2a87a6(0x240)]({instanceName:_0x19c52d},_0x308e53){const _0x4a6477=a0_0x2a87a6;return await this[_0x4a6477(0x15d)][_0x4a6477(0x4b6)][_0x19c52d]['importChats'](_0x308e53);}async[a0_0x2a87a6(0x7d2)]({instanceName:_0x9fd79c},_0x39d74a){const _0x3364cf=a0_0x2a87a6;return await this['waMonitor'][_0x3364cf(0x4b6)][_0x9fd79c]['markMessageAsRead'](_0x39d74a);}async['archiveChat']({instanceName:_0x3a845d},_0xae0c34){const _0x609900=a0_0x2a87a6;return await this[_0x609900(0x15d)]['waInstances'][_0x3a845d][_0x609900(0x6af)](_0xae0c34);}async[a0_0x2a87a6(0x3bc)]({instanceName:_0x50d5f5},_0x526205){const _0x4a995a=a0_0x2a87a6;return await this['waMonitor']['waInstances'][_0x50d5f5][_0x4a995a(0x3bc)](_0x526205);}async[a0_0x2a87a6(0x702)]({instanceName:_0xec8ce1},_0x598822){const _0x3cbefd=a0_0x2a87a6;return await this[_0x3cbefd(0x15d)][_0x3cbefd(0x4b6)][_0xec8ce1]['profilePicture'](_0x598822[_0x3cbefd(0x2be)]);}async['fetchProfile']({instanceName:_0xe9df2c},_0xae9309){const _0x238f2a=a0_0x2a87a6;return await this[_0x238f2a(0x15d)][_0x238f2a(0x4b6)][_0xe9df2c][_0x238f2a(0x580)](_0xae9309[_0x238f2a(0x2be)]);}async['updatePresence']({instanceName:_0x6120d3},_0x476042){const _0x2b7127=a0_0x2a87a6;return await this[_0x2b7127(0x15d)]['waInstances'][_0x6120d3][_0x2b7127(0x757)](_0x476042);}async['fetchContacts']({instanceName:_0x4e9985},_0x1ef0cf){const _0x1c5253=a0_0x2a87a6;return await this['waMonitor'][_0x1c5253(0x4b6)][_0x4e9985][_0x1c5253(0x1fe)](_0x1ef0cf);}async[a0_0x2a87a6(0x5d0)]({instanceName:_0x4e9c77},_0x270f1f){const _0x531fc0=a0_0x2a87a6;return await this['waMonitor'][_0x531fc0(0x4b6)][_0x4e9c77][_0x531fc0(0x5d0)](_0x270f1f);}async['fetchMessages']({instanceName:_0x1c4ff4},_0x23c04b){const _0x32c26b=a0_0x2a87a6;return await this['waMonitor'][_0x32c26b(0x4b6)][_0x1c4ff4][_0x32c26b(0x335)](_0x23c04b);}async[a0_0x2a87a6(0x781)]({instanceName:_0x31a947}){const _0x6ebc0c=a0_0x2a87a6;return await this[_0x6ebc0c(0x15d)][_0x6ebc0c(0x4b6)][_0x31a947][_0x6ebc0c(0x781)]();}async[a0_0x2a87a6(0x1a3)]({instanceName:_0x49f493}){const _0x3cba62=a0_0x2a87a6;return await this[_0x3cba62(0x15d)]['waInstances'][_0x49f493][_0x3cba62(0x1a3)]();}async[a0_0x2a87a6(0x5e7)]({instanceName:_0x882878}){const _0x4bc098=a0_0x2a87a6;return await this[_0x4bc098(0x15d)][_0x4bc098(0x4b6)][_0x882878][_0x4bc098(0x5e7)]();}async[a0_0x2a87a6(0x4c5)]({instanceName:_0xe6d23},_0x29f8a6){const _0x11da8b=a0_0x2a87a6;return await this[_0x11da8b(0x15d)][_0x11da8b(0x4b6)][_0xe6d23]['updatePrivacySettings'](_0x29f8a6);}async['fetchBusinessProfile']({instanceName:_0x5421e6},_0x4631f5){const _0x3c364f=a0_0x2a87a6;return await this[_0x3c364f(0x15d)][_0x3c364f(0x4b6)][_0x5421e6][_0x3c364f(0x1ed)](_0x4631f5['number']);}async[a0_0x2a87a6(0x7cd)]({instanceName:_0x303db8},_0x4e559e){const _0x22c6b3=a0_0x2a87a6;return await this[_0x22c6b3(0x15d)][_0x22c6b3(0x4b6)][_0x303db8][_0x22c6b3(0x7cd)](_0x4e559e['name']);}async['updateProfileStatus']({instanceName:_0x3deb01},_0x5b9b7b){const _0x61b24f=a0_0x2a87a6;return await this[_0x61b24f(0x15d)][_0x61b24f(0x4b6)][_0x3deb01][_0x61b24f(0x62f)](_0x5b9b7b[_0x61b24f(0x5f7)]);}async['updateProfilePicture']({instanceName:_0x5a814d},_0x3734aa){const _0x231889=a0_0x2a87a6;return await this[_0x231889(0x15d)]['waInstances'][_0x5a814d]['updateProfilePicture'](_0x3734aa['picture']);}async[a0_0x2a87a6(0x273)]({instanceName:_0x2b865d},_0x40bf2a){const _0x40d1ba=a0_0x2a87a6;return await this[_0x40d1ba(0x15d)][_0x40d1ba(0x4b6)][_0x2b865d][_0x40d1ba(0x273)]();}},Qt=require(a0_0x2a87a6(0x57d)),Yt=class u{constructor(_0x5914e8,_0x54a6ea,_0x2f488f,_0x38d38c,_0x57b7a3){const _0x22ea8b=a0_0x2a87a6;this[_0x22ea8b(0x15d)]=_0x5914e8,this[_0x22ea8b(0x5ca)]=_0x54a6ea,this[_0x22ea8b(0x6ae)]=_0x2f488f,this[_0x22ea8b(0x546)]=_0x38d38c,this['authService']=_0x57b7a3,this[_0x22ea8b(0x82a)]=new $(u[_0x22ea8b(0x366)]);}async[a0_0x2a87a6(0x16c)]({instanceName:_0x5090dd,apikey:_0x96c296,number:_0x12d84b,proxy:_0x2748f0=!0x0}){const _0x57005a=a0_0x2a87a6;try{let _0x164941=new Re(this['configService'],this[_0x57005a(0x546)],this[_0x57005a(0x6ae)]);_0x164941[_0x57005a(0x798)]=_0x5090dd,this[_0x57005a(0x15d)][_0x57005a(0x4b6)][_0x164941[_0x57005a(0x798)]]=_0x164941;let _0x544e4b={};_0x96c296?(await this['repository'][_0x57005a(0x674)][_0x57005a(0x168)]({'apikey':_0x96c296},_0x5090dd),_0x544e4b[_0x57005a(0x725)]=_0x96c296):_0x544e4b=await this[_0x57005a(0x4d3)][_0x57005a(0x637)]({'instanceName':_0x164941[_0x57005a(0x798)]});let _0x5c9ac1;if(_0x12d84b){if(_0x5c9ac1=await this['verifyWhatsAppNumber'](_0x12d84b),_0x5c9ac1[_0x57005a(0x495)])throw new x(_0x5c9ac1[_0x57005a(0x495)][_0x57005a(0x635)]());_0x12d84b=_0x5c9ac1[_0x57005a(0x2be)];}let _0x38f93b;return await _0x164941['connectToWhatsapp'](_0x12d84b),await(0x0,Qt[_0x57005a(0x6c6)])(0xfa0),_0x12d84b&&await(0x0,Qt[_0x57005a(0x6c6)])(0xbb8),_0x38f93b=_0x164941[_0x57005a(0x5c3)],{'instance':{'instanceName':_0x164941[_0x57005a(0x798)],'status':'created'},'hash':_0x544e4b,'qrcode':_0x38f93b};}catch(_0x171f51){throw this[_0x57005a(0x82a)][_0x57005a(0x495)](_0x171f51),_0x171f51;}}async[a0_0x2a87a6(0x74b)]({instanceName:_0x24865c,number:_0x2fafb0=null}){const _0x4c2ef5=a0_0x2a87a6;try{let _0x10e343=this['waMonitor'][_0x4c2ef5(0x4b6)][_0x24865c];switch(_0x10e343?.['connectionStatus']?.[_0x4c2ef5(0x5d1)]){case'close':return await _0x10e343[_0x4c2ef5(0x617)](_0x2fafb0),await(0x0,Qt[_0x4c2ef5(0x6c6)])(0x7d0),_0x10e343[_0x4c2ef5(0x5c3)];case _0x4c2ef5(0x591):return _0x10e343[_0x4c2ef5(0x5c3)];default:return await this['connectionState']({'instanceName':_0x24865c});}}catch(_0x45afaf){this['logger']['log'](_0x45afaf);}}async[a0_0x2a87a6(0x418)]({instanceName:_0x23023f}){const _0x5bd718=a0_0x2a87a6;let _0x22d0f2=this[_0x5bd718(0x15d)][_0x5bd718(0x4b6)][_0x23023f]['connectionStatus'],_0x24fc53=null;_0x22d0f2['state']==='open'&&_0x23023f&&(_0x24fc53=await this[_0x5bd718(0x15d)]['instanceInfo'](_0x23023f));let _0x10980f=null;return _0x22d0f2[_0x5bd718(0x5d1)]===_0x5bd718(0x591)&&_0x23023f&&(_0x10980f=this[_0x5bd718(0x15d)]['waInstances'][_0x23023f][_0x5bd718(0x5c3)]),{'instance':_0x23023f,'connectionStatus':_0x22d0f2,'instanceInfo':_0x24fc53,'qrcode':_0x10980f};}async[a0_0x2a87a6(0x51d)](_0x40feca){const _0x547860=a0_0x2a87a6;_0x40feca=_0x40feca[_0x547860(0x1ee)](/\D/g,'');let _0x133fed=Object['keys'](this[_0x547860(0x15d)][_0x547860(0x4b6)])[_0x547860(0x17c)](_0x3629d0=>{const _0x4b15db=_0x547860;let _0x22a583=this[_0x4b15db(0x15d)][_0x4b15db(0x4b6)][_0x3629d0];return _0x22a583&&_0x22a583[_0x4b15db(0x765)]&&_0x22a583[_0x4b15db(0x765)][_0x4b15db(0x5d1)]===_0x4b15db(0x2cd);});if(_0x133fed['length']===0x0)return{'number':this[_0x547860(0x471)](_0x40feca)};let _0x20c7d9=Math[_0x547860(0x6f8)](Math['random']()*_0x133fed[_0x547860(0x30d)]),_0x5633fb=_0x133fed[_0x20c7d9];try{let _0x40f295=(await this[_0x547860(0x15d)][_0x547860(0x4b6)][_0x5633fb]['whatsappNumber']({'numbers':[_0x40feca]}))[_0x547860(0x4a4)]();return _0x40f295[_0x547860(0x585)]?{'number':_0x40f295[_0x547860(0x174)][_0x547860(0x1ee)](_0x547860(0x279),'')}:{'number':_0x40feca,'error':_0x547860(0x175)};}catch(_0x3e131f){return this[_0x547860(0x82a)][_0x547860(0x495)](_0x547860(0x445)+_0x3e131f),{'number':_0x40feca,'error':_0x547860(0x872)};}}['formatBRNumber'](_0x3bd838){const _0x1cd5fc=a0_0x2a87a6;let _0x4c404c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1cd5fc(0x3ca)](_0x3bd838);if(_0x4c404c&&_0x4c404c[0x1]==='55'){let _0x597b6d=_0x4c404c[0x2],_0x397243=_0x4c404c[0x3],_0x9d7864=_0x4c404c[0x4];if(parseInt(_0x597b6d)>=0x1f&&_0x397243==='9')return _0x4c404c[0x1]+_0x597b6d+_0x9d7864;}return _0x3bd838;}async[a0_0x2a87a6(0x2fc)]({instanceName:_0x24db9f}){const _0x53a626=a0_0x2a87a6;try{return this[_0x53a626(0x15d)][_0x53a626(0x4b6)][_0x24db9f]?.[_0x53a626(0x47c)]?.['ws']?.[_0x53a626(0x516)](),{'status':_0x53a626(0x6f6),'error':!0x1,'response':{'message':_0x53a626(0x479)}};}catch(_0x5f4297){this['logger']['error'](_0x5f4297);}}async[a0_0x2a87a6(0x873)]({instanceName:_0x34a21e}){const _0x1ade96=a0_0x2a87a6;return _0x34a21e?this['waMonitor']['instanceInfo'](_0x34a21e):this[_0x1ade96(0x15d)][_0x1ade96(0x829)]();}async[a0_0x2a87a6(0x76d)]({instanceName:_0x21e12a}){const _0x5f0f5e=a0_0x2a87a6;try{return await this['waMonitor'][_0x5f0f5e(0x4b6)][_0x21e12a]?.[_0x5f0f5e(0x47c)]?.['logout'](_0x5f0f5e(0x2e0)+_0x21e12a),{'error':!0x1,'message':_0x5f0f5e(0x6a9)};}catch(_0x2ca3f1){throw new x(_0x2ca3f1['toString']());}}async[a0_0x2a87a6(0x21c)]({instanceName:_0x3f0f9f}){const _0x1ecfa8=a0_0x2a87a6;if((await this['connectionState']({'instanceName':_0x3f0f9f}))[_0x1ecfa8(0x765)][_0x1ecfa8(0x5d1)]===_0x1ecfa8(0x2cd))throw new m(['Deletion\x20failed',_0x1ecfa8(0x6fc)]);try{return delete this['waMonitor']['waInstances'][_0x3f0f9f],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x2ea3b8){throw new m(_0x2ea3b8[_0x1ecfa8(0x635)]());}}},ne=require(a0_0x2a87a6(0x483)),Xt=class{constructor(_0x49fac5){this['waMonitor']=_0x49fac5;}async[a0_0x2a87a6(0x3d9)]({instanceName:_0x1642fa},_0xc78dd3){const _0xa43f9d=a0_0x2a87a6;return await this['waMonitor'][_0xa43f9d(0x4b6)][_0x1642fa][_0xa43f9d(0x319)](_0xc78dd3);}async['sendMenu']({instanceName:_0x4f9e6e},_0x4a9580){const _0x37574c=a0_0x2a87a6;return await this[_0x37574c(0x15d)][_0x37574c(0x4b6)][_0x4f9e6e]['menuMessage'](_0x4a9580);}async[a0_0x2a87a6(0x857)]({instanceName:_0x98992a},_0x1e9d00){const _0xce6e9=a0_0x2a87a6;if((0x0,ne['isBase64'])(_0x1e9d00?.[_0xce6e9(0x3b8)]?.[_0xce6e9(0x5ce)])&&!_0x1e9d00?.[_0xce6e9(0x3b8)]?.[_0xce6e9(0x55f)])throw new m(_0xce6e9(0x263));if((0x0,ne[_0xce6e9(0x638)])(_0x1e9d00?.[_0xce6e9(0x3b8)]?.[_0xce6e9(0x5ce)])||(0x0,ne[_0xce6e9(0x608)])(_0x1e9d00?.['mediaMessage']?.[_0xce6e9(0x5ce)]))return await this[_0xce6e9(0x15d)][_0xce6e9(0x4b6)][_0x98992a][_0xce6e9(0x3b8)](_0x1e9d00);throw new m(_0xce6e9(0x76c));}async[a0_0x2a87a6(0x513)]({instanceName:_0x532692},_0x54224d){const _0x91c27e=a0_0x2a87a6;if((0x0,ne['isURL'])(_0x54224d[_0x91c27e(0x7b4)][_0x91c27e(0x14a)])||(0x0,ne[_0x91c27e(0x608)])(_0x54224d['stickerMessage'][_0x91c27e(0x14a)]))return await this[_0x91c27e(0x15d)][_0x91c27e(0x4b6)][_0x532692][_0x91c27e(0x597)](_0x54224d);throw new m(_0x91c27e(0x76c));}async[a0_0x2a87a6(0x7c4)]({instanceName:_0x4ca563},_0x71c2b2){const _0x4c3f02=a0_0x2a87a6;if((0x0,ne['isURL'])(_0x71c2b2[_0x4c3f02(0x3bd)]['audio'])||(0x0,ne[_0x4c3f02(0x608)])(_0x71c2b2[_0x4c3f02(0x3bd)][_0x4c3f02(0x415)]))return await this[_0x4c3f02(0x15d)][_0x4c3f02(0x4b6)][_0x4ca563][_0x4c3f02(0x52d)](_0x71c2b2);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x2a87a6(0x19f)]({instanceName:_0xcbb2c5},_0x2f2c9a){const _0x5cd530=a0_0x2a87a6;if((0x0,ne['isBase64'])(_0x2f2c9a['buttonMessage']['mediaMessage']?.[_0x5cd530(0x5ce)])&&!_0x2f2c9a[_0x5cd530(0x492)][_0x5cd530(0x3b8)]?.[_0x5cd530(0x55f)])throw new m(_0x5cd530(0x263));return await this[_0x5cd530(0x15d)][_0x5cd530(0x4b6)][_0xcbb2c5][_0x5cd530(0x492)](_0x2f2c9a);}async[a0_0x2a87a6(0x5a8)]({instanceName:_0x35fc79},_0x36be74){const _0x42708c=a0_0x2a87a6;return await this['waMonitor'][_0x42708c(0x4b6)][_0x35fc79][_0x42708c(0x463)](_0x36be74);}async[a0_0x2a87a6(0x23b)]({instanceName:_0x4364f3},_0x439bab){const _0x496223=a0_0x2a87a6;return await this[_0x496223(0x15d)][_0x496223(0x4b6)][_0x4364f3][_0x496223(0x139)](_0x439bab);}async[a0_0x2a87a6(0x812)]({instanceName:_0x3a31d5},_0x5474ef){const _0x261841=a0_0x2a87a6;return await this['waMonitor']['waInstances'][_0x3a31d5][_0x261841(0x37e)](_0x5474ef);}async[a0_0x2a87a6(0x5c4)]({instanceName:_0x41c749},_0x440e78){const _0x434c05=a0_0x2a87a6;return await this['waMonitor'][_0x434c05(0x4b6)][_0x41c749][_0x434c05(0x682)](_0x440e78);}async[a0_0x2a87a6(0x6b8)]({instanceName:_0xab8692},_0x449876){const _0x4b7ec5=a0_0x2a87a6;if(!_0x449876['reactionMessage'][_0x4b7ec5(0x2b3)][_0x4b7ec5(0x72a)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x4b7ec5(0x15d)]['waInstances'][_0xab8692][_0x4b7ec5(0x59a)](_0x449876);}async[a0_0x2a87a6(0x4b1)]({instanceName:_0x11460d},_0x1b9fa4){const _0x368160=a0_0x2a87a6;return await this[_0x368160(0x15d)]['waInstances'][_0x11460d]['statusMessage'](_0x1b9fa4);}},Fi=require(a0_0x2a87a6(0x5e1)),Js=require(a0_0x2a87a6(0x2f4)),Zt=class u{constructor(_0x51937f,_0x5a8bc8,_0x53799){const _0x3c6541=a0_0x2a87a6;this[_0x3c6541(0x5ca)]=_0x51937f,this[_0x3c6541(0x15d)]=_0x5a8bc8,this[_0x3c6541(0x6ae)]=_0x53799,this[_0x3c6541(0x82a)]=new $(u[_0x3c6541(0x366)]);}async[a0_0x2a87a6(0x4e0)](_0x1e4ae2){const _0x4bc866=a0_0x2a87a6;let _0x275b9a=this[_0x4bc866(0x5ca)][_0x4bc866(0x7eb)](_0x4bc866(0x636))[_0x4bc866(0x267)],_0x5b4b82=(0x0,Fi[_0x4bc866(0x2ec)])({'instanceName':_0x1e4ae2[_0x4bc866(0x798)],'apiName':nt,'tokenId':(0x0,Js['v4'])()},_0x275b9a[_0x4bc866(0x2dc)],{'expiresIn':_0x275b9a[_0x4bc866(0x53a)],'encoding':_0x4bc866(0x2cb),'subject':_0x4bc866(0x67a)}),_0x113ba1=await this['repository']['auth']['create']({'jwt':_0x5b4b82},_0x1e4ae2[_0x4bc866(0x798)]);if(_0x113ba1['error'])throw this[_0x4bc866(0x82a)][_0x4bc866(0x495)]({'localError':u['name']+_0x4bc866(0x6d3),'error':_0x113ba1[_0x4bc866(0x495)]}),new m('Authentication\x20error',_0x113ba1[_0x4bc866(0x495)]?.[_0x4bc866(0x635)]());return{'jwt':_0x5b4b82};}async[a0_0x2a87a6(0x725)](_0x5dfc47){const _0x22977a=a0_0x2a87a6;let _0x16ff6f=(0x0,Js['v4'])()[_0x22977a(0x5e8)](),_0x3f0f91=await this[_0x22977a(0x6ae)][_0x22977a(0x674)]['create']({'apikey':_0x16ff6f},_0x5dfc47['instanceName']);if(_0x3f0f91[_0x22977a(0x495)])throw this[_0x22977a(0x82a)][_0x22977a(0x495)]({'localError':u[_0x22977a(0x366)]+'.jwt','error':_0x3f0f91[_0x22977a(0x495)]}),new m(_0x22977a(0x496),_0x3f0f91['error']?.[_0x22977a(0x635)]());return{'apikey':_0x16ff6f};}async[a0_0x2a87a6(0x637)](_0x69412f){const _0x2111e7=a0_0x2a87a6;let _0x5073c4=this[_0x2111e7(0x5ca)][_0x2111e7(0x7eb)]('AUTHENTICATION');return await this[_0x5073c4[_0x2111e7(0x809)]](_0x69412f);}},es=class{constructor(_0x3c5bf5){const _0x3ac8b3=a0_0x2a87a6;this[_0x3ac8b3(0x15d)]=_0x3c5bf5;}async['createGroup'](_0x23b1f6,_0x38accb){const _0x295e07=a0_0x2a87a6;return await this['waMonitor']['waInstances'][_0x23b1f6[_0x295e07(0x798)]][_0x295e07(0x33e)](_0x38accb);}async[a0_0x2a87a6(0x5dc)](_0x6a7dfc,_0x52193f){const _0x3b5a66=a0_0x2a87a6;return await this[_0x3b5a66(0x15d)][_0x3b5a66(0x4b6)][_0x6a7dfc['instanceName']][_0x3b5a66(0x5dc)](_0x52193f);}async[a0_0x2a87a6(0x17d)](_0x2c6fd4,_0x219172){const _0x29c7c1=a0_0x2a87a6;return await this[_0x29c7c1(0x15d)][_0x29c7c1(0x4b6)][_0x2c6fd4[_0x29c7c1(0x798)]]['groupDesc'](_0x219172);}async[a0_0x2a87a6(0x5ea)](_0xd6d9ae,_0x1c2a5b){const _0x22283f=a0_0x2a87a6;return await this[_0x22283f(0x15d)][_0x22283f(0x4b6)][_0xd6d9ae[_0x22283f(0x798)]]['groupName'](_0x1c2a5b);}async[a0_0x2a87a6(0x264)](_0x427a25,_0x52c94d){const _0x1a8496=a0_0x2a87a6;return await this[_0x1a8496(0x15d)]['waInstances'][_0x427a25[_0x1a8496(0x798)]][_0x1a8496(0x264)](_0x52c94d);}async[a0_0x2a87a6(0x3b1)](_0x68320c,_0x3ec6b4){const _0x482b10=a0_0x2a87a6;return await this[_0x482b10(0x15d)][_0x482b10(0x4b6)][_0x68320c[_0x482b10(0x798)]][_0x482b10(0x3b1)](_0x3ec6b4);}async[a0_0x2a87a6(0x5f0)](_0xbcd93,_0x584339){const _0x261014=a0_0x2a87a6;return await this[_0x261014(0x15d)]['waInstances'][_0xbcd93[_0x261014(0x798)]][_0x261014(0x6e1)](_0x584339);}async[a0_0x2a87a6(0x1c5)](_0x4166ed){const _0x2bc750=a0_0x2a87a6;return await this[_0x2bc750(0x15d)][_0x2bc750(0x4b6)][_0x4166ed[_0x2bc750(0x798)]]['findGroups']();}async[a0_0x2a87a6(0x186)](_0x417c64,_0x1d8082){const _0x2925f1=a0_0x2a87a6;return await this[_0x2925f1(0x15d)]['waInstances'][_0x417c64[_0x2925f1(0x798)]][_0x2925f1(0x186)](_0x1d8082);}async[a0_0x2a87a6(0x215)](_0x5c1c3e,_0x1f0d47){const _0x562c44=a0_0x2a87a6;return await this[_0x562c44(0x15d)][_0x562c44(0x4b6)][_0x5c1c3e[_0x562c44(0x798)]][_0x562c44(0x215)](_0x1f0d47);}async[a0_0x2a87a6(0x162)](_0x3038d3,_0x32bc96){const _0x5a8d2f=a0_0x2a87a6;return await this[_0x5a8d2f(0x15d)][_0x5a8d2f(0x4b6)][_0x3038d3[_0x5a8d2f(0x798)]][_0x5a8d2f(0x162)](_0x32bc96);}async[a0_0x2a87a6(0x819)](_0xbc335f,_0x12a141){const _0x1c46a3=a0_0x2a87a6;return await this['waMonitor'][_0x1c46a3(0x4b6)][_0xbc335f[_0x1c46a3(0x798)]][_0x1c46a3(0x819)](_0x12a141);}async['findParticipants'](_0x129697,_0x3c8f9d){const _0x5756ab=a0_0x2a87a6;return await this[_0x5756ab(0x15d)][_0x5756ab(0x4b6)][_0x129697[_0x5756ab(0x798)]][_0x5756ab(0x6f0)](_0x3c8f9d);}async[a0_0x2a87a6(0x853)](_0x5ebdbd,_0x3f3105){const _0x30b109=a0_0x2a87a6;return await this[_0x30b109(0x15d)][_0x30b109(0x4b6)][_0x5ebdbd[_0x30b109(0x798)]][_0x30b109(0x1d3)](_0x3f3105);}async[a0_0x2a87a6(0x64f)](_0x5f369c,_0x163bf2){const _0x2894ae=a0_0x2a87a6;return await this[_0x2894ae(0x15d)][_0x2894ae(0x4b6)][_0x5f369c['instanceName']][_0x2894ae(0x64f)](_0x163bf2);}async[a0_0x2a87a6(0x72e)](_0x34f768,_0x2086a1){const _0x33c391=a0_0x2a87a6;return await this[_0x33c391(0x15d)][_0x33c391(0x4b6)][_0x34f768[_0x33c391(0x798)]][_0x33c391(0x72e)](_0x2086a1);}},ts=class{constructor(_0x2895c9){const _0x114fb3=a0_0x2a87a6;this[_0x114fb3(0x15d)]=_0x2895c9;}[a0_0x2a87a6(0x168)](_0x48cfa6,_0x382ebf){const _0xe6cbe2=a0_0x2a87a6;return this[_0xe6cbe2(0x15d)][_0xe6cbe2(0x4b6)][_0x48cfa6[_0xe6cbe2(0x798)]][_0xe6cbe2(0x5ff)](_0x382ebf);}async[a0_0x2a87a6(0x2f6)](_0x3ac3a0){const _0x148903=a0_0x2a87a6;try{return await this['waMonitor']['waInstances'][_0x3ac3a0['instanceName']][_0x148903(0x4cf)]();}catch{return{'enabled':null,'url':''};}}},Bp=new $(a0_0x2a87a6(0x72d)),ss=class{constructor(_0x890711){this['waMonitor']=_0x890711;}async['editScheduleMessage'](_0x256716,_0x1f345f){const _0x47829b=a0_0x2a87a6;return await this[_0x47829b(0x15d)]['waInstances'][_0x256716[_0x47829b(0x798)]]['editScheduleMessage'](_0x1f345f);}async['getScheduleMessage'](_0x5d68c5){const _0x49a4b4=a0_0x2a87a6;return await this[_0x49a4b4(0x15d)][_0x49a4b4(0x4b6)][_0x5d68c5[_0x49a4b4(0x798)]]['getScheduleMessage']();}async[a0_0x2a87a6(0x732)](_0xa75fd6){const _0x1425c1=a0_0x2a87a6;return await this[_0x1425c1(0x15d)][_0x1425c1(0x4b6)][_0xa75fd6[_0x1425c1(0x798)]][_0x1425c1(0x732)]();}async['getAutomateSystem'](_0x5eac14){const _0x5ea48a=a0_0x2a87a6;return await this[_0x5ea48a(0x15d)][_0x5ea48a(0x4b6)][_0x5eac14[_0x5ea48a(0x798)]]['getAutomateSystem']();}async['updateAgent'](_0x2a59a0,_0x1413be){const _0x18fefc=a0_0x2a87a6;return await this[_0x18fefc(0x15d)]['waInstances'][_0x2a59a0[_0x18fefc(0x798)]][_0x18fefc(0x6c2)](_0x1413be);}async[a0_0x2a87a6(0x228)](_0x590735,_0x23ec09){const _0x2fb5cf=a0_0x2a87a6;return await this[_0x2fb5cf(0x15d)]['waInstances'][_0x590735['instanceName']][_0x2fb5cf(0x228)](_0x23ec09);}async[a0_0x2a87a6(0x20a)](_0x3202ef,_0x36c88c){const _0x523fee=a0_0x2a87a6;return await this['waMonitor'][_0x523fee(0x4b6)][_0x3202ef['instanceName']][_0x523fee(0x20a)](_0x36c88c);}async[a0_0x2a87a6(0x207)](_0x1c6c85,_0x280452){const _0x5e16bf=a0_0x2a87a6;return await this['waMonitor']['waInstances'][_0x1c6c85['instanceName']][_0x5e16bf(0x207)](_0x280452);}async['startFlow'](_0x33ea18,_0x3984af){const _0x3bb38e=a0_0x2a87a6;return await this[_0x3bb38e(0x15d)]['waInstances'][_0x33ea18['instanceName']][_0x3bb38e(0x181)](_0x3984af);}async[a0_0x2a87a6(0x3c4)](_0x497e61,_0x2c7327,_0x19d38c,_0x40696b){const _0x4e581e=a0_0x2a87a6;return await this['waMonitor'][_0x4e581e(0x4b6)][_0x497e61]['startFlowWebhook'](_0x2c7327,_0x19d38c,_0x40696b);}async[a0_0x2a87a6(0x6c3)](_0x12fbdf,_0x4323f5){const _0x57147a=a0_0x2a87a6;return await this[_0x57147a(0x15d)][_0x57147a(0x4b6)][_0x12fbdf['instanceName']][_0x57147a(0x6c3)](_0x4323f5);}async['fetchConversation'](_0x37a4d0,_0x5b1025){const _0x1ff63b=a0_0x2a87a6;return await this[_0x1ff63b(0x15d)]['waInstances'][_0x37a4d0[_0x1ff63b(0x798)]][_0x1ff63b(0x1d7)](_0x5b1025);}async['editConversation'](_0x4cc11e,_0x125b31){const _0x40dc94=a0_0x2a87a6;return await this[_0x40dc94(0x15d)][_0x40dc94(0x4b6)][_0x4cc11e[_0x40dc94(0x798)]][_0x40dc94(0x27c)](_0x125b31);}async[a0_0x2a87a6(0x2ff)](_0x592564,_0x3cf959){const _0x4e994a=a0_0x2a87a6;return await this[_0x4e994a(0x15d)][_0x4e994a(0x4b6)][_0x592564[_0x4e994a(0x798)]][_0x4e994a(0x2ff)](_0x3cf959);}async[a0_0x2a87a6(0x739)](_0x56b3e4,_0x4bcc67){const _0x4d2f1a=a0_0x2a87a6;return await this['waMonitor'][_0x4d2f1a(0x4b6)][_0x56b3e4[_0x4d2f1a(0x798)]][_0x4d2f1a(0x739)](_0x4bcc67[_0x4d2f1a(0x2f9)]);}async[a0_0x2a87a6(0x73e)](_0x24d89e,_0x1efbe5,_0x511220){const _0x2cee45=a0_0x2a87a6;return await this[_0x2cee45(0x15d)][_0x2cee45(0x4b6)][_0x24d89e[_0x2cee45(0x798)]]['createFlow'](_0x1efbe5,_0x511220);}async[a0_0x2a87a6(0x570)](_0x25ab58,_0x4626dd,_0x132db){const _0x391903=a0_0x2a87a6;return await this[_0x391903(0x15d)]['waInstances'][_0x25ab58[_0x391903(0x798)]][_0x391903(0x570)](_0x4626dd,_0x132db);}async[a0_0x2a87a6(0x32c)](_0x4ea71a,_0x386b19){const _0x11e431=a0_0x2a87a6;return await this[_0x11e431(0x15d)][_0x11e431(0x4b6)][_0x4ea71a[_0x11e431(0x798)]]['editFlowBlock'](_0x386b19);}async['editFlowReply'](_0x1056b1,_0x2d506f){const _0x31b24c=a0_0x2a87a6;return await this[_0x31b24c(0x15d)][_0x31b24c(0x4b6)][_0x1056b1[_0x31b24c(0x798)]][_0x31b24c(0x700)](_0x2d506f);}async['editFlowGroup'](_0x1075a7,_0x4bc18b){const _0xc01db3=a0_0x2a87a6;return await this[_0xc01db3(0x15d)]['waInstances'][_0x1075a7[_0xc01db3(0x798)]][_0xc01db3(0x595)](_0x4bc18b);}async[a0_0x2a87a6(0x280)](_0x2f8324,_0x2e5175){const _0x599351=a0_0x2a87a6;return await this[_0x599351(0x15d)][_0x599351(0x4b6)][_0x2f8324[_0x599351(0x798)]][_0x599351(0x280)](_0x2e5175);}async['editFlowVaredit'](_0x475b34,_0x264256){const _0x5a6c40=a0_0x2a87a6;return await this['waMonitor']['waInstances'][_0x475b34[_0x5a6c40(0x798)]]['editFlowVaredit'](_0x264256);}async['editFlowVariable'](_0x25fa4f,_0x1c5486){const _0x308169=a0_0x2a87a6;return await this[_0x308169(0x15d)]['waInstances'][_0x25fa4f[_0x308169(0x798)]][_0x308169(0x323)](_0x1c5486);}async[a0_0x2a87a6(0x706)](_0x1f0857,_0x41645f){const _0x1d67b0=a0_0x2a87a6;return await this[_0x1d67b0(0x15d)][_0x1d67b0(0x4b6)][_0x1f0857[_0x1d67b0(0x798)]][_0x1d67b0(0x706)](_0x41645f);}async['allFlows'](_0x28e660){const _0x559b34=a0_0x2a87a6;return await this[_0x559b34(0x15d)][_0x559b34(0x4b6)][_0x28e660[_0x559b34(0x798)]][_0x559b34(0x5bc)]();}},as=class{constructor(_0x54f062){const _0xa88065=a0_0x2a87a6;this[_0xa88065(0x530)]=_0x54f062;}async[a0_0x2a87a6(0x823)](_0x5bf22f,_0xfe7fb8){const _0xa82c1e=a0_0x2a87a6;return this['webhookService'][_0xa82c1e(0x168)](_0x5bf22f,_0xfe7fb8);}async[a0_0x2a87a6(0x4cf)](_0x13ab50){const _0x135e5a=a0_0x2a87a6;return this[_0x135e5a(0x530)][_0x135e5a(0x2f6)](_0x13ab50);}},is=class extends _{constructor(_0xfee334,_0x433e30){const _0x1384d1=a0_0x2a87a6;super(_0x433e30),this['webhookModel']=_0xfee334,this[_0x1384d1(0x5ca)]=_0x433e30;}async[a0_0x2a87a6(0x168)](_0x5adb76,_0x2ff8b8){const _0x3232d8=a0_0x2a87a6;try{return this['dbSettings'][_0x3232d8(0x15e)]?{'insertCount':(await this[_0x3232d8(0x606)][_0x3232d8(0x60c)]({'_id':_0x2ff8b8},{..._0x5adb76},{'upsert':!0x0}))[_0x3232d8(0x7af)]}:{'insertCount':0x1};}catch(_0xd46966){return _0xd46966;}}async[a0_0x2a87a6(0x17e)](_0xa6921){const _0x26c5d1=a0_0x2a87a6;try{if(this['dbSettings'][_0x26c5d1(0x15e)]){await this[_0x26c5d1(0x606)][_0x26c5d1(0x519)]({'_id':_0xa6921});return;}}catch(_0x46f615){return{'error':_0x46f615};}}async['find'](_0x1cb9b6){const _0x4d868b=a0_0x2a87a6;try{if(this['dbSettings'][_0x4d868b(0x15e)])return await this[_0x4d868b(0x606)][_0x4d868b(0x654)]({'_id':_0x1cb9b6});}catch{return{};}}},os=class extends _{constructor(_0x22f024,_0x4491c8){const _0x525776=a0_0x2a87a6;super(_0x4491c8),this['authModel']=_0x22f024,this[_0x525776(0x5ca)]=_0x4491c8,this[_0x525776(0x674)]=_0x4491c8[_0x525776(0x7eb)](_0x525776(0x636));}async['create'](_0x1f1af0,_0x1f1873){const _0x40d19a=a0_0x2a87a6;try{if(this['dbSettings'][_0x40d19a(0x15e)])return{'insertCount':(await this['authModel'][_0x40d19a(0x768)]({'_id':_0x1f1873},{'$set':{..._0x1f1af0}},{'upsert':!0x0}))[_0x40d19a(0x7af)]};}catch(_0x4b96f7){return{'error':_0x4b96f7};}}async[a0_0x2a87a6(0x3a7)](_0x535c8b,_0x35553a){const _0x1005a3=a0_0x2a87a6;try{if(this[_0x1005a3(0x4f2)][_0x1005a3(0x15e)])return{'insertCount':(await this[_0x1005a3(0x661)]['updateMany'](_0x535c8b,{'$set':_0x35553a},{'upsert':!0x1}))[_0x1005a3(0x7af)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x405a0c){return{'error':_0x405a0c};}}async[a0_0x2a87a6(0x583)](_0x28b23e){const _0x44507e=a0_0x2a87a6;try{if(this[_0x44507e(0x4f2)]['ENABLED'])return{'insertCount':(await this[_0x44507e(0x661)][_0x44507e(0x583)](_0x28b23e))['deletedCount']};throw new Error(_0x44507e(0x297));}catch(_0x44c3ce){return{'error':_0x44c3ce};}}async[a0_0x2a87a6(0x17e)](_0x39e61f){const _0x57eaf1=a0_0x2a87a6;try{if(this[_0x57eaf1(0x4f2)]['ENABLED']){await this[_0x57eaf1(0x661)][_0x57eaf1(0x519)]({'_id':_0x39e61f});return;}}catch(_0x50ce7c){return{'error':_0x50ce7c};}}async[a0_0x2a87a6(0x2f6)](_0xbe0433){const _0x48ada2=a0_0x2a87a6;try{if(this[_0x48ada2(0x4f2)][_0x48ada2(0x15e)])return await this[_0x48ada2(0x661)][_0x48ada2(0x654)]({'_id':_0xbe0433});}catch{return{};}}async[a0_0x2a87a6(0x3eb)](){const _0x268ab9=a0_0x2a87a6;try{if(this['dbSettings'][_0x268ab9(0x15e)])return await this['authModel'][_0x268ab9(0x2f6)]();}catch{return[];}}async['findMany'](_0x24eb35){const _0x2c167b=a0_0x2a87a6;try{if(this[_0x2c167b(0x4f2)][_0x2c167b(0x15e)])return await this[_0x2c167b(0x661)][_0x2c167b(0x2f6)](_0x24eb35);}catch{return[];}}},rs=class extends _{async['deleteOne'](_0x1a9297){const _0x4e5286=a0_0x2a87a6;try{let _0x34e81c=A(_0x1a9297[_0x4e5286(0x72b)]);return{'deletedCount':(await Ee[_0x4e5286(0x519)](_0x34e81c))[_0x4e5286(0x85e)]};}catch(_0x4cfdb2){return{'error':_0x4cfdb2?.['toString']()};}}async[a0_0x2a87a6(0x768)](_0x407c71,_0x388679){const _0x20e0c2=a0_0x2a87a6;try{let _0x4e4cb6=await Ee['findById'](_0x407c71);return _0x4e4cb6?(Object[_0x20e0c2(0x7b1)](_0x4e4cb6,_0x388679),await _0x4e4cb6['save']()):(console['error']('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x407c71),null);}catch(_0x30e405){return console['error'](_0x20e0c2(0x40d),_0x30e405),null;}}async['createAndSave'](_0x4b0701){const _0x226cec=a0_0x2a87a6;try{return await new Ee(_0x4b0701)['save']();}catch(_0x3e21a8){return console[_0x226cec(0x495)](_0x226cec(0x6ac),_0x3e21a8),null;}}async['findAll'](_0x4ce631){const _0x33fbe0=a0_0x2a87a6;try{let _0x23ea37=_0x4ce631[_0x33fbe0(0x72b)]??{};return await Ee[_0x33fbe0(0x2f6)](_0x23ea37)['limit'](_0x4ce631[_0x33fbe0(0x759)]??0x0)['lean']();}catch(_0x58bc31){return console[_0x33fbe0(0x495)](_0x33fbe0(0x896),_0x58bc31),[];}}async['findOne'](_0x1c9c27){const _0x326bbb=a0_0x2a87a6;try{let _0xacf4ec=A(_0x1c9c27[_0x326bbb(0x72b)]);return await Ee[_0x326bbb(0x654)](_0xacf4ec)[_0x326bbb(0x13a)]();}catch{return null;}}},ns=class extends _{[a0_0x2a87a6(0x6ce)](_0x920815){return Ea(_0x920815);}async[a0_0x2a87a6(0x39f)](_0x141f11){const _0x3775f8=a0_0x2a87a6;if(_0x141f11[_0x3775f8(0x30d)]!==0x0)try{return{'insertCount':(await this[_0x3775f8(0x6ce)](_0x141f11[0x0][_0x3775f8(0x200)])[_0x3775f8(0x71b)]([..._0x141f11]))['length']};}catch(_0x5f5b1b){return _0x5f5b1b;}}async[a0_0x2a87a6(0x17e)](_0x2b5d3c,_0x46f3db){const _0x3c6281=a0_0x2a87a6;try{let _0x16600e=this[_0x3c6281(0x6ce)](_0x46f3db),_0x3283e7=A(_0x2b5d3c[_0x3c6281(0x72b)]);return{'deletedCount':(await _0x16600e[_0x3c6281(0x583)](_0x3283e7))[_0x3c6281(0x85e)]};}catch(_0x15af7b){return{'error':_0x15af7b?.['toString']()};}}async[a0_0x2a87a6(0x519)](_0xd29a7a,_0xf6090d){const _0x292747=a0_0x2a87a6;try{let _0x2deb44=this[_0x292747(0x6ce)](_0xf6090d),_0x670dec=A(_0xd29a7a[_0x292747(0x72b)]);return{'deletedCount':(await _0x2deb44[_0x292747(0x519)](_0x670dec))[_0x292747(0x85e)]};}catch(_0x451465){return{'error':_0x451465?.['toString']()};}}async['update'](_0xac7b55,_0x5b0fa1){const _0x4a2e29=a0_0x2a87a6;try{if(_0xac7b55[_0x4a2e29(0x30d)]===0x0)return;let _0x294f2c=this['getConversationModelForOwner'](_0x5b0fa1),_0x456862=_0xac7b55[_0x4a2e29(0x639)](_0x5a4e36=>({'updateOne':{'filter':{'name':_0x5a4e36[_0x4a2e29(0x366)],'owner':_0x5b0fa1},'update':{..._0x5a4e36}}})),{modifiedCount:_0x3a6770}=await _0x294f2c['bulkWrite'](_0x456862);return{'insertCount':_0x3a6770};}catch{return;}}async[a0_0x2a87a6(0x5f5)](_0x40c14b,_0x5cd28a,_0x2a5789){const _0x54279c=a0_0x2a87a6;try{return{'modifiedCount':(await this[_0x54279c(0x6ce)](_0x2a5789)['updateMany'](_0x40c14b,{'$set':_0x5cd28a})[_0x54279c(0x3ca)]())['modifiedCount']};}catch(_0x1dd78f){return console['error'](_0x54279c(0x65d),_0x1dd78f),{'error':_0x1dd78f};}}async[a0_0x2a87a6(0x768)](_0x4733b7,_0x5ac6fa,_0x3de155){const _0x351db1=a0_0x2a87a6;try{return await this['getConversationModelForOwner'](_0x3de155)[_0x351db1(0x4cc)]({'_id':_0x4733b7},{'$set':_0x5ac6fa},{'new':!0x0,'upsert':!0x0})[_0x351db1(0x13a)]();}catch(_0x3b128c){return console[_0x351db1(0x495)](_0x3b128c),null;}}async[a0_0x2a87a6(0x2f6)](_0x3c54db,_0x49860d){const _0x3c918f=a0_0x2a87a6;try{return await this[_0x3c918f(0x6ce)](_0x49860d)['find'](_0x3c54db)[_0x3c918f(0x7ce)]({'lastInteraction':-0x1})[_0x3c918f(0x13a)]();}catch{return[];}}async['findOne'](_0x55ed17,_0x32e185){const _0x47adc6=a0_0x2a87a6;try{return await this['getConversationModelForOwner'](_0x32e185)[_0x47adc6(0x654)]({..._0x55ed17[_0x47adc6(0x72b)]})[_0x47adc6(0x13a)]();}catch{return null;}}async['deleteAll'](_0x4b1432){const _0x43b28a=a0_0x2a87a6;try{return await this['getConversationModelForOwner'](_0x4b1432)['collection'][_0x43b28a(0x3d5)](),{'success':!0x0};}catch(_0x479f14){return console[_0x43b28a(0x495)](_0x479f14),{'success':!0x1,'error':_0x479f14};}}},cs=class extends _{[a0_0x2a87a6(0x146)](_0x51b737){return va(_0x51b737);}async[a0_0x2a87a6(0x4db)](_0x2d9362,_0x1b1097){const _0x16cb54=a0_0x2a87a6;try{return await this[_0x16cb54(0x146)](_0x1b1097)['bulkWrite'](_0x2d9362);}catch(_0x287d33){return console['error']('Erro\x20ao\x20executar\x20bulkWrite:',_0x287d33),null;}}async[a0_0x2a87a6(0x74e)](_0x4d36c7,_0xaf2794){const _0x4e8fbd=a0_0x2a87a6;try{let _0x4b284f=this[_0x4e8fbd(0x146)](_0xaf2794);return await new _0x4b284f(_0x4d36c7)[_0x4e8fbd(0x49e)]();}catch(_0x6bfc5f){return console['error'](_0x4e8fbd(0x356),_0x6bfc5f),null;}}async[a0_0x2a87a6(0x519)](_0x5deeea,_0x4341c0){const _0x45205e=a0_0x2a87a6;try{return await this['getScheduleMessageModelForOwner'](_0x4341c0)[_0x45205e(0x566)](_0x5deeea),{};}catch(_0x11f8fb){return{'error':_0x11f8fb?.[_0x45205e(0x635)]()};}}async[a0_0x2a87a6(0x768)](_0x98350,_0x3acc30,_0x3c1859,_0x2c4726={}){const _0x9a9efb=a0_0x2a87a6;try{return await this['getScheduleMessageModelForOwner'](_0x3c1859)['findOneAndUpdate'](_0x98350,_0x3acc30,{..._0x2c4726,'new':!0x0})[_0x9a9efb(0x13a)]();}catch(_0x29443d){return console[_0x9a9efb(0x495)](_0x9a9efb(0x189),_0x29443d),null;}}async[a0_0x2a87a6(0x31a)](_0x5136f9,_0x2a629c,_0x467332){const _0x15ade3=a0_0x2a87a6;try{return await this[_0x15ade3(0x146)](_0x467332)[_0x15ade3(0x430)](_0x5136f9,_0x2a629c,{'new':!0x0})[_0x15ade3(0x13a)]();}catch(_0x44666d){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x44666d),null;}}async['find'](_0x1a5d2b,_0x5c9b4d){const _0x3a89f7=a0_0x2a87a6;try{return await this[_0x3a89f7(0x146)](_0x5c9b4d)[_0x3a89f7(0x2f6)](_0x1a5d2b[_0x3a89f7(0x72b)])[_0x3a89f7(0x759)](_0x1a5d2b?.[_0x3a89f7(0x759)]??0x0)[_0x3a89f7(0x7ce)]({'when':0x1})[_0x3a89f7(0x13a)]();}catch{return[];}}async[a0_0x2a87a6(0x654)](_0x5b7131,_0x1f8e37){const _0x493639=a0_0x2a87a6;try{return await this[_0x493639(0x146)](_0x1f8e37)[_0x493639(0x654)](_0x5b7131[_0x493639(0x72b)])[_0x493639(0x7ce)]({'when':0x1})[_0x493639(0x13a)]();}catch{return null;}}async[a0_0x2a87a6(0x677)](_0x4baa47,_0x22c759){const _0x4892b1=a0_0x2a87a6;try{return await this['getScheduleMessageModelForOwner'](_0x22c759)[_0x4892b1(0x677)](_0x4baa47)[_0x4892b1(0x13a)]();}catch{return null;}}async[a0_0x2a87a6(0x583)](_0x202c05,_0x464f18){const _0x1105e6=a0_0x2a87a6;try{return{'deletedCount':(await this[_0x1105e6(0x146)](_0x464f18)[_0x1105e6(0x583)](_0x202c05))[_0x1105e6(0x85e)]};}catch(_0x466882){return console[_0x1105e6(0x495)](_0x1105e6(0x27d),_0x466882),{'error':_0x466882};}}async[a0_0x2a87a6(0x465)](_0x395694){const _0x492bb9=a0_0x2a87a6;try{return await this[_0x492bb9(0x146)](_0x395694)[_0x492bb9(0x178)]['drop'](),{'success':!0x0};}catch(_0x221d85){return console[_0x492bb9(0x495)](_0x221d85),{'success':!0x1,'error':_0x221d85};}}},ls=class extends _{async[a0_0x2a87a6(0x7ee)](_0x498c55,_0x32d5dc){const _0x48465b=a0_0x2a87a6;try{if(this[_0x48465b(0x4f2)][_0x48465b(0x15e)])return await Te[_0x48465b(0x4cc)]({'_id':_0x32d5dc},{'$set':_0x498c55},{'new':!0x0});}catch(_0xcfb055){throw console[_0x48465b(0x495)](_0x48465b(0x3ab),_0xcfb055),_0xcfb055;}}async[a0_0x2a87a6(0x7fb)](_0x4206b9){const _0x54bd04=a0_0x2a87a6;try{let _0x2cfad5=await Te['findById'](_0x4206b9);return _0x2cfad5?_0x2cfad5[_0x54bd04(0x309)]||(_0x2cfad5[_0x54bd04(0x309)]=[],await _0x2cfad5[_0x54bd04(0x49e)]()):(_0x2cfad5=new Te({'_id':_0x4206b9,'autoCompleteMessages':[]}),await _0x2cfad5[_0x54bd04(0x49e)]()),_0x2cfad5;}catch(_0x2165ba){return _0x2165ba[_0x54bd04(0x3f6)]===0x2af8&&_0x2165ba['keyPattern']&&_0x2165ba[_0x54bd04(0x4e8)][_0x54bd04(0x558)]?(console[_0x54bd04(0x495)](_0x54bd04(0x385)),await Te[_0x54bd04(0x178)][_0x54bd04(0x2bf)](_0x54bd04(0x300)),null):(console[_0x54bd04(0x495)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x2165ba),null);}}},Vo=new $(a0_0x2a87a6(0x49a)),Go=new Xe(b),Bo=new Wt(b),Wo=new lt(b),zo=new zt(ca,b),Ho=new is(fa,b),Ko=new os(ha,b),Qo=new $e(He,b),Yo=new rs(b),Xo=new Ht(b),Zo=new ns(b),er=new cs(b),tr=new ls(b),we=new Qe(Go,Bo,Wo,zo,Ho,Ko,Qo,Yo,Zo,Xo,er,tr,R?.[a0_0x2a87a6(0x623)]()),z=new Bt(fs,b,we),sr=new Zt(b,z,we),ar=new ts(z),Is=new as(ar),T=new ss(z),he=new Yt(z,b,we,fs,sr),H=new Xt(z),k=new Kt(z),V=new es(z);Vo['info'](a0_0x2a87a6(0x61c));var cg=require(a0_0x2a87a6(0x586)),qs=require('fs'),Ui=I(require(a0_0x2a87a6(0x316))),ji=I(require(a0_0x2a87a6(0x4d8))),je=class u{static #e;static set['app'](_0x40b5f7){this.#e=_0x40b5f7;}static get[a0_0x2a87a6(0x316)](){const _0x2b182c=a0_0x2a87a6;let {FULLCHAIN:_0x4f5fd0,PRIVKEY:_0x410fd6}=b[_0x2b182c(0x7eb)](_0x2b182c(0x2d0));return Ui[_0x2b182c(0x79c)]({'cert':(0x0,qs[_0x2b182c(0x47b)])(_0x4f5fd0),'key':(0x0,qs[_0x2b182c(0x47b)])(_0x410fd6)},u.#e);}static get[a0_0x2a87a6(0x4d8)](){const _0x34fb64=a0_0x2a87a6;return ji[_0x34fb64(0x79c)](u.#e);}},Je=I(require('fs')),Wi=I(require(a0_0x2a87a6(0x619))),qe=I(require('axios')),ds=I(require('path')),us=require(a0_0x2a87a6(0x341));function ir(){const _0x54fde8=a0_0x2a87a6;z['loadInstance']();let _0x339e37=ds[_0x54fde8(0x667)][_0x54fde8(0x52e)](__dirname,'downloads');Bi(_0x339e37);}var Bi=_0x49d1cb=>{const _0x123c3b=a0_0x2a87a6;let _0x2a858a=Je['default'][_0x123c3b(0x394)](_0x49d1cb),_0x16160f=0xc*0x3c*0x3c*0x3e8,_0x1b3254=0x2*0x3c*0x3c*0x3e8,_0x5f4f7b=new Date()[_0x123c3b(0x563)]();_0x2a858a[_0x123c3b(0x32f)](_0x14a9c6=>{const _0x30ab37=_0x123c3b;let _0x48b441=ds[_0x30ab37(0x667)]['join'](_0x49d1cb,_0x14a9c6),_0x35ba8c=Je[_0x30ab37(0x667)][_0x30ab37(0x2a8)](_0x48b441)[_0x30ab37(0x568)][_0x30ab37(0x563)]();_0x5f4f7b-_0x35ba8c>_0x16160f&&(Je[_0x30ab37(0x667)][_0x30ab37(0x879)](_0x48b441),console[_0x30ab37(0x1a4)](_0x30ab37(0x649)+_0x14a9c6));}),setTimeout(()=>Bi(_0x49d1cb),_0x1b3254);};function or(){const _0x561ea9=a0_0x2a87a6;let _0x2cd0ad=new $('SERVER'),_0x1194f1=(0x0,be['default'])();_0x1194f1['use']((0x0,Gi['default'])({'origin'(_0x518daf,_0x4f0194){const _0x30841e=a0_0xe551;let {ORIGIN:_0xbea109}=b[_0x30841e(0x7eb)](_0x30841e(0x3b9));return _0x518daf||(_0x518daf='*'),_0xbea109[_0x30841e(0x33c)]('*')!==-0x1||_0xbea109[_0x30841e(0x33c)](_0x518daf)!==-0x1?_0x4f0194(null,!0x0):_0x4f0194(new Error(_0x30841e(0x861)));},'methods':[...b[_0x561ea9(0x7eb)](_0x561ea9(0x3b9))[_0x561ea9(0x81f)]],'credentials':b[_0x561ea9(0x7eb)](_0x561ea9(0x3b9))['CREDENTIALS']}),(0x0,be[_0x561ea9(0x2dd)])({'extended':!0x0,'limit':'50mb'}),(0x0,be[_0x561ea9(0x7e5)])({'limit':_0x561ea9(0x7fe)})),_0x1194f1[_0x561ea9(0x29e)]((_0x249c54,_0x31b0ab,_0x76dd5)=>{const _0x119869=_0x561ea9;_0x249c54[_0x119869(0x339)][_0x119869(0x299)](_0x119869(0x22e))?_0x76dd5():(0x0,Vi[_0x119869(0x667)])()(_0x249c54,_0x31b0ab,_0x76dd5);}),_0x1194f1[_0x561ea9(0x6fe)](_0x561ea9(0x18d),_0x561ea9(0x148)),_0x1194f1[_0x561ea9(0x6fe)]('views',(0x0,Gs[_0x561ea9(0x52e)])(ue,_0x561ea9(0x669))),_0x1194f1['use'](be[_0x561ea9(0x667)][_0x561ea9(0x35a)]((0x0,Gs[_0x561ea9(0x52e)])(ue,_0x561ea9(0x198)))),_0x1194f1[_0x561ea9(0x29e)]((_0x2e09c9,_0x459489,_0x4d47c1)=>{let _0x4b831c=_0x459489['send'];_0x459489['send']=function(_0x3b0c00){const _0x65c22=a0_0xe551;if(_0x2e09c9['query']['convert']===_0x65c22(0x5c0)||_0x2e09c9[_0x65c22(0x24c)][_0x65c22(0x20d)]===_0x65c22(0x5c0)){let _0x5e5017=JSON[_0x65c22(0x510)](_0x3b0c00);_0x3b0c00=JSON[_0x65c22(0x15a)](_0x3b1b60(_0x5e5017));}return _0x4b831c['apply'](_0x459489,[_0x3b0c00]);},_0x4d47c1();}),_0x1194f1[_0x561ea9(0x29e)]('/',Le),_0x1194f1[_0x561ea9(0x29e)]((_0x5b00e6,_0x328306,_0x1220a8,_0x210106)=>{const _0x294888=_0x561ea9;if(_0x5b00e6)return _0x1220a8['status'](_0x5b00e6['status']||0x1f4)[_0x294888(0x7e5)](_0x5b00e6);},(_0x51e749,_0x4bd1fc,_0x542448)=>{const _0xa669ad=_0x561ea9;let {method:_0x320efb,url:_0x2d154e}=_0x51e749;_0x4bd1fc[_0xa669ad(0x5f7)](0x194)[_0xa669ad(0x7e5)]({'status':0x194,'message':_0xa669ad(0x642)+_0x320efb[_0xa669ad(0x5e8)]()+'\x20'+_0x2d154e,'error':'Not\x20Found'}),_0x542448();});let _0x3b1b60=(_0x4da62b,_0x2558d3=_0x561ea9(0x45c))=>{const _0x48c679=_0x561ea9;let _0x500259=(_0x506820,_0x40f752=null,_0x2662a9=!0x1)=>{const _0x39f3aa=a0_0xe551;let _0x570630={};return Object['keys'](_0x506820)[_0x39f3aa(0x32f)](_0x4c1203=>{const _0x3cd6ad=_0x39f3aa;let _0x367a59=_0x506820[_0x4c1203],_0xa66fa0=''+_0x2558d3+_0x4c1203;_0x40f752&&!_0x2662a9&&(_0xa66fa0=_0x40f752+'.'+_0x4c1203),!_0x367a59&&_0x367a59!==0x0&&_0x367a59!==!0x1||typeof _0x367a59>'u'?_0x570630[_0xa66fa0]=null:typeof _0x367a59!='object'&&!Array['isArray'](_0x367a59)?_0x570630[_0xa66fa0]=_0x367a59:typeof _0x367a59==_0x3cd6ad(0x3ae)&&!Array[_0x3cd6ad(0x272)](_0x367a59)?_0x570630=Object['assign'](_0x570630,_0x500259(_0x367a59,_0xa66fa0)):Array['isArray'](_0x367a59)&&(typeof _0x367a59[0x0]==_0x3cd6ad(0x3ae)?(_0x570630[_0xa66fa0]=[],_0x367a59[_0x3cd6ad(0x32f)](_0x246264=>{const _0x3db68e=_0x3cd6ad;_0x570630[_0xa66fa0][_0x3db68e(0x67c)](_0x500259(_0x246264,_0xa66fa0,!0x0));})):_0x570630[_0xa66fa0]=_0x367a59);}),_0x570630;};return Array[_0x48c679(0x272)](_0x4da62b)?_0x4da62b[_0x48c679(0x639)](_0x3b95dd=>_0x500259(_0x3b95dd)):typeof _0x4da62b==_0x48c679(0x3ae)&&_0x4da62b!==null?_0x500259(_0x4da62b):{};},_0x14b159=b[_0x561ea9(0x7eb)](_0x561ea9(0x596));je['app']=_0x1194f1;let _0x5d4e66=je[_0x14b159[_0x561ea9(0x809)]],_0x2ec093='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x5d4e66['listen'](_0x14b159[_0x561ea9(0x871)],()=>{const _0x53cb02=_0x561ea9;_0x2cd0ad[_0x53cb02(0x1a4)](_0x2ec093),_0x2cd0ad[_0x53cb02(0x1a4)](_0x14b159['TYPE'][_0x53cb02(0x5e8)]()+'\x20-\x20ON:\x20'+_0x14b159[_0x53cb02(0x871)]);}),ir(),sa();}var rr=a0_0x2a87a6(0x53b),nr=ds['default']['join'](__dirname,'./.git/config'),Ae=null;function cr(){return new Promise((_0x513cb7,_0xbdcabc)=>{const _0x1ae4fb=a0_0xe551;Je[_0x1ae4fb(0x667)][_0x1ae4fb(0x1b5)](nr,_0x1ae4fb(0x35d),(_0x34c407,_0x37d867)=>{const _0x438588=_0x1ae4fb;if(_0x34c407){Ae=_0x34c407,_0x513cb7();return;}Wi[_0x438588(0x667)][_0x438588(0x510)](_0x37d867)[_0x438588(0x7bc)][_0x438588(0x1a2)]===rr?(Ae=null,_0x513cb7()):(Ae=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x513cb7());});});}async function lr(){const _0x2ee615=a0_0x2a87a6;try{await cr(),await Bs();}catch(_0xd2a9c6){console[_0x2ee615(0x495)](_0x2ee615(0x165)+_0xd2a9c6),process[_0x2ee615(0x2a2)](0x1);}}lr();async function zi(){const _0x4ff57f=a0_0x2a87a6;let _0x4c5441;try{_0x4c5441=(await qe[_0x4ff57f(0x667)]['get']('https://jsonip.com'))[_0x4ff57f(0x2d7)]['ip'];}catch(_0x42e06b){console[_0x4ff57f(0x495)](_0x42e06b);try{_0x4c5441=(await qe[_0x4ff57f(0x667)]['get'](_0x4ff57f(0x294)))[_0x4ff57f(0x2d7)]['ip'];}catch(_0x43a46f){console['error'](_0x43a46f);try{_0x4c5441=(await qe[_0x4ff57f(0x667)][_0x4ff57f(0x7eb)](_0x4ff57f(0x6d9)))[_0x4ff57f(0x2d7)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2cd1d9){return console[_0x4ff57f(0x495)](_0x2cd1d9),!0x1;}}}return _0x4c5441;}var Ji=0x0;function a0_0xe551(_0x40e086,_0x58365e){const _0x4c91df=a0_0x4c91();return a0_0xe551=function(_0xe551fc,_0x1da5e0){_0xe551fc=_0xe551fc-0x134;let _0x5f12ca=_0x4c91df[_0xe551fc];return _0x5f12ca;},a0_0xe551(_0x40e086,_0x58365e);}async function ur(){const _0x1fff19=a0_0x2a87a6;let _0x22450c=await new ge(b[_0x1fff19(0x7eb)](_0x1fff19(0x304)))[_0x1fff19(0x7f4)]();return console[_0x1fff19(0x1a4)](_0x1fff19(0x6ee),_0x22450c[_0x1fff19(0x30d)]),_0x22450c['length'];}function dr(_0x339043){const _0xb8ce89=a0_0x2a87a6;let _0x49c0b9=_0x339043[_0xb8ce89(0x7eb)](_0xb8ce89(0x596))[_0xb8ce89(0x287)],_0x54c052=_0x339043[_0xb8ce89(0x7eb)](_0xb8ce89(0x2d0));console[_0xb8ce89(0x1a4)]('Valor\x20da\x20URL\x20recuperada:',_0x49c0b9),console['log'](_0xb8ce89(0x23e),_0x54c052);let _0x2342f8='',_0x200caf=_0x49c0b9||'';if(_0x49c0b9){let _0x2d624d=_0x49c0b9[_0xb8ce89(0x72a)](/\/\/(.*?)\./);console[_0xb8ce89(0x1a4)](_0xb8ce89(0x64a),_0x2d624d),_0x2d624d&&_0x2d624d[0x1]&&(_0x2342f8=_0x2d624d[0x1],console[_0xb8ce89(0x1a4)]('Subdomínio\x20extraído\x20da\x20URL:',_0x2342f8));}if(!_0x2342f8&&_0x54c052&&_0x54c052[_0xb8ce89(0x84b)]){let _0x11eb1e=_0x54c052['FULLCHAIN'][_0xb8ce89(0x259)]('/');console[_0xb8ce89(0x1a4)](_0xb8ce89(0x149),_0x11eb1e);let _0x50cfdc=_0x11eb1e[_0x11eb1e[_0xb8ce89(0x30d)]-0x2];if(console['log'](_0xb8ce89(0x352),_0x50cfdc),_0x50cfdc){let _0x3173be=_0x50cfdc[_0xb8ce89(0x259)]('.');console[_0xb8ce89(0x1a4)](_0xb8ce89(0x4ea),_0x3173be),_0x3173be[_0xb8ce89(0x30d)]>0x2&&(_0x2342f8=_0x3173be[0x0],console[_0xb8ce89(0x1a4)](_0xb8ce89(0x4fa),_0x2342f8),_0x200caf=''+_0x50cfdc);}}return{'subdomain':_0x2342f8||_0xb8ce89(0x6d0),'fullURL':_0x200caf||_0xb8ce89(0x51f)};}var {subdomain:K,fullURL:Ws}=dr(b);console[a0_0x2a87a6(0x1a4)](a0_0x2a87a6(0x7a1),K),console[a0_0x2a87a6(0x1a4)]('URL\x20completa:',Ws);async function pr(){const _0x45f009=a0_0x2a87a6;let _0x5436d9=b[_0x45f009(0x7eb)](_0x45f009(0x304)),_0x112d5d=b[_0x45f009(0x7eb)](_0x45f009(0x636))['API_KEY'][_0x45f009(0x1b3)],_0x331a97=b[_0x45f009(0x7eb)](_0x45f009(0x2d0)),_0x282372=await zi(),_0x4bd7ea=b[_0x45f009(0x7eb)](_0x45f009(0x596))['PORT'],_0x1d9eb4=Ws;try{let _0x19c38c={'ip':_0x282372||null,'redis_enable':_0x5436d9?.[_0x45f009(0x15e)]||null,'apikey':_0x112d5d||null,'ssl':_0x331a97?.[_0x45f009(0x628)]||null,'lastupdate':Hi||null,'port':_0x4bd7ea||null,'gitInstallError':Ae?.[_0x45f009(0x5af)]||null,'url':_0x1d9eb4||null,'subdomain':K};if(console[_0x45f009(0x1a4)](_0x45f009(0x84d),_0x19c38c['ip']),_0x5436d9&&_0x5436d9['ENABLED']){let _0x2a89ec=await ur();_0x19c38c[_0x45f009(0x59f)]=_0x2a89ec||null;}for(let _0x3dcd1b in _0x19c38c)_0x19c38c['hasOwnProperty'](_0x3dcd1b)&&_0x3dcd1b!=='ip'&&(_0x19c38c[_0x3dcd1b]=JSON['stringify'](_0x19c38c[_0x3dcd1b]));return(await qe[_0x45f009(0x667)][_0x45f009(0x641)](_0x45f009(0x332),_0x19c38c))[_0x45f009(0x2d7)];}catch(_0x5a69b7){return console[_0x45f009(0x495)](_0x5a69b7),!0x1;}}var Vs=!0x1,Hi=0x25e,hr=0x3,qi=0x1b7740;async function Bs(){const _0x271bf5=a0_0x2a87a6;let _0x1a6f0a=_0x271bf5(0x3c6);Ae===null&&(_0x1a6f0a=await zi());let _0x38a417=await pr();if(_0x38a417){if(_0x38a417[_0x271bf5(0x777)][_0x271bf5(0x559)]===!0x0){Ae===null&&_0x38a417['response'][_0x271bf5(0x423)]-Hi>0x0&&await gr(),Vs||(Vs=!0x0,or());let _0x4352d8=0x24*0x3c*0x3c,_0x2b80b7=_0x38a417[_0x271bf5(0x777)]['segundos']>_0x4352d8?_0x4352d8:_0x38a417[_0x271bf5(0x777)][_0x271bf5(0x2e7)],_0x12ae5a=Number(_0x2b80b7);if(isNaN(_0x12ae5a)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x1dda17=Math[_0x271bf5(0x6f8)](_0x12ae5a/0xe10),_0x583619=Math['floor'](_0x12ae5a%0xe10/0x3c),_0x12be00=new Date(Date[_0x271bf5(0x810)]()+_0x12ae5a*0x3e8);setTimeout(Bs,_0x12ae5a*0x3e8);let _0xd154b4=_0xf69338=>_0xf69338['toString']()[_0x271bf5(0x7d8)](0x2,'0'),_0x3a8c88='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0xd154b4(_0x1dda17)+'\x20horas\x20e\x20'+_0xd154b4(_0x583619)+_0x271bf5(0x321)+_0xd154b4(_0x12be00[_0x271bf5(0x3bb)]())+':'+_0xd154b4(_0x12be00[_0x271bf5(0x72c)]())+'.';console[_0x271bf5(0x1a4)](_0x3a8c88);}else return console[_0x271bf5(0x1a4)](_0x271bf5(0x1c2)),Vs&&(console['log'](_0x271bf5(0x3dd)),process[_0x271bf5(0x2a2)]()),_0x271bf5(0x50e);}else{if(Ji++,Ji<hr)console[_0x271bf5(0x1a4)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+qi/0xea60+'\x20minutos...'),setTimeout(Bs,qi);else return console[_0x271bf5(0x495)](_0x271bf5(0x156)),_0x271bf5(0x405);}}async function gr(){const _0x1f83f5=a0_0x2a87a6;console['log'](_0x1f83f5(0x7a0)),console[_0x1f83f5(0x1a4)](_0x1f83f5(0x831)),(0x0,us[_0x1f83f5(0x58f)])('pm2\x20flush',{'shell':!0x0})['on'](_0x1f83f5(0x516),_0x91cd61=>{const _0x1910a0=_0x1f83f5;_0x91cd61!==0x0?console[_0x1910a0(0x495)](_0x1910a0(0x411)):(console[_0x1910a0(0x1a4)](_0x1910a0(0x7de)),console[_0x1910a0(0x1a4)](_0x1910a0(0x614)),(0x0,us['spawn'])(_0x1910a0(0x1cb),{'shell':!0x0})['on'](_0x1910a0(0x516),_0x2dcef4=>{const _0x2e9d09=_0x1910a0;if(_0x2dcef4!==0x0)console[_0x2e9d09(0x495)](_0x2e9d09(0x82e));else{console[_0x2e9d09(0x1a4)](_0x2e9d09(0x500));let _0x515037=(0x0,us['spawn'])(_0x2e9d09(0x446),{'shell':!0x0});_0x515037[_0x2e9d09(0x3ee)]['on'](_0x2e9d09(0x2d7),_0x34f229=>{const _0x57ae17=_0x2e9d09;console[_0x57ae17(0x1a4)](_0x57ae17(0x1bd)+_0x34f229);}),_0x515037[_0x2e9d09(0x402)]['on'](_0x2e9d09(0x2d7),_0x5145c8=>{const _0x1d2fd5=_0x2e9d09;console[_0x1d2fd5(0x495)](_0x1d2fd5(0x1d2)+_0x5145c8);}),_0x515037['on'](_0x2e9d09(0x2a2),_0x20dc57=>{const _0x546fe3=_0x2e9d09;_0x20dc57!==0x0?console['error'](_0x546fe3(0x486)+_0x20dc57):console['log'](_0x546fe3(0x80e)),console[_0x546fe3(0x1a4)](_0x546fe3(0x77e)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x2a87a6(0x244)]={'fullURL':fullURL,'subdomain':subdomain});