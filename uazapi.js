const a0_0x5f0ca0=a0_0x2797;(function(_0x5152f4,_0xfebf45){const _0x8920b0=a0_0x2797,_0x596e81=_0x5152f4();while(!![]){try{const _0x4b65ad=parseInt(_0x8920b0(0x610))/0x1+-parseInt(_0x8920b0(0xf1))/0x2*(-parseInt(_0x8920b0(0x44f))/0x3)+-parseInt(_0x8920b0(0x56f))/0x4*(-parseInt(_0x8920b0(0x6f8))/0x5)+parseInt(_0x8920b0(0x542))/0x6*(-parseInt(_0x8920b0(0x741))/0x7)+-parseInt(_0x8920b0(0x2f5))/0x8*(parseInt(_0x8920b0(0x420))/0x9)+parseInt(_0x8920b0(0x722))/0xa*(parseInt(_0x8920b0(0x32f))/0xb)+-parseInt(_0x8920b0(0x6c8))/0xc*(-parseInt(_0x8920b0(0x1cb))/0xd);if(_0x4b65ad===_0xfebf45)break;else _0x596e81['push'](_0x596e81['shift']());}catch(_0x1b8023){_0x596e81['push'](_0x596e81['shift']());}}}(a0_0x1165,0x8a61e));var Pr=Object['create'],Ie=Object[a0_0x5f0ca0(0x732)],$r=Object[a0_0x5f0ca0(0x208)],kr=Object['getOwnPropertyNames'],Lr=Object[a0_0x5f0ca0(0x20e)],Fr=Object[a0_0x5f0ca0(0x5b7)][a0_0x5f0ca0(0x445)],jr=(_0x2d7cf2,_0x4078bb)=>{for(var _0x4127ac in _0x4078bb)Ie(_0x2d7cf2,_0x4127ac,{'get':_0x4078bb[_0x4127ac],'enumerable':!0x0});},xs=(_0x453b59,_0x2822ad,_0x2b7679,_0x4d8af9)=>{const _0x35959=a0_0x5f0ca0;if(_0x2822ad&&typeof _0x2822ad==_0x35959(0x6c6)||typeof _0x2822ad==_0x35959(0x555)){for(let _0x2a77ad of kr(_0x2822ad))!Fr[_0x35959(0x1a8)](_0x453b59,_0x2a77ad)&&_0x2a77ad!==_0x2b7679&&Ie(_0x453b59,_0x2a77ad,{'get':()=>_0x2822ad[_0x2a77ad],'enumerable':!(_0x4d8af9=$r(_0x2822ad,_0x2a77ad))||_0x4d8af9[_0x35959(0x133)]});}return _0x453b59;},T=(_0x588d82,_0x2dcd0d,_0x21a9d1)=>(_0x21a9d1=_0x588d82!=null?Pr(Lr(_0x588d82)):{},xs(_0x2dcd0d||!_0x588d82||!_0x588d82[a0_0x5f0ca0(0x2d6)]?Ie(_0x21a9d1,a0_0x5f0ca0(0x19d),{'value':_0x588d82,'enumerable':!0x0}):_0x21a9d1,_0x588d82)),Ur=_0xa101f2=>xs(Ie({},a0_0x5f0ca0(0x2d6),{'value':!0x0}),_0xa101f2),Hi={};jr(Hi,{'subdomain':()=>vs}),module[a0_0x5f0ca0(0x252)]=Ur(Hi);function a0_0x2797(_0x2f4c5a,_0x1f9847){const _0x1165f7=a0_0x1165();return a0_0x2797=function(_0x27972e,_0x4b432a){_0x27972e=_0x27972e-0xd9;let _0x9473db=_0x1165f7[_0x27972e];return _0x9473db;},a0_0x2797(_0x2f4c5a,_0x1f9847);}function a0_0x1165(){const _0x1dbeda=['_p_','qrcode.updated','HttpsProxyAgent','env.yml','StatusJidList\x20is\x20required','address','updateStatusPrivacy','fileName','Message','vote','findConversation','groupInviteCode','Font\x20is\x20required','delay','password','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Connection\x20closed\x20for\x20instance:\x20','subjectTime','deleteFlow','SECRET','chats.set','.error','sendWhatsAppAudio','created','PENDING','instanceName\x20not\x20provided.','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','updateMany','authService','createConnection','application/octet-stream','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','reorderBlocks','imagechat','#f64847','Error\x20in\x20chatModify\x20for\x20number\x20','inner','lastInteraction','selectedOptions','unhandledRejection','chats.delete','values','-instances','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','evaluateConditionTest','sendPresenceUpdate','GROUPS_UPDATE','STATUS_INSTANCE','object','sendList','372dsLYDk','/wa-chats','lastCondition','instances','unlinkSync','Failed\x20to\x20find\x20chat\x20','Resultado\x20da\x20atualização:','connect','getTicketSystem','updateMediaMessage','createClient','updateMissingCustomFields','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','insertCount','bulkWrite','findAndReplaceRegex','DELETED','stderr','js-yaml','addresss',',\x20Comparador:\x20','API\x20Key\x20inválida.','hGetAll','editFlow','):\x20customFieldVariables','Instance\x20\x22','https://jsonip.com','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x20minutos...','Falta\x20informação\x20para\x20a\x20chamada\x20API','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','):\x20Buscando\x20todos\x20os\x20fluxos...','timerId','connectToWhatsapp','includes','fromMe','):\x20Bloco\x20copiado:\x20','fetchConversation',':\x20IP\x20funcionando!','mentions','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','getRandomText','deleted','#fed428','toLowerCase','Rótulo\x20atualizado:','SEND_MESSAGE','isBase64','1103415Nyugtk','pollCreationMessage','MESSAGES_SET','groupFetchAllParticipating','):\x20Erro\x20ao\x20buscar\x20conversas\x20','video','deleteflow','max','PROXY','\x1b[41m','segundos','InstancesAsDisconnectedX','generateHash','detail','https://uazapi-plugin.bubbleapps.io/','Erro\x20de\x20atualização:\x20','DisconnectReason','.mp4','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','node-mime-types','color','image','split','waitingMenu_id','):\x20Conversas\x20encontradas:','status.instance','SERVER_ACK','.ppt','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','readFile','LOG','authState','certbot','ini',',\x20saindo.','CHATS_DELETE','http','apirequest','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','messaging-history.set','goNextblock','12880gzLAnX','less','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','assign','Erro\x20ao\x20editar\x20agentes:\x20','LEVEL','):\x20Limpando\x20AutomateSystem','findByIdAndUpdate','key','getLastMessage','ListMessage','cache','arraybuffer','https://api.openai.com/v1/images/generations','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Instance\x20ID:','defineProperty','defineAuthState','deleteConversation','body','instanceCount','createSharedFlow','synchronizeFlows','Instance\x20deleted','\x1b[43m','sendButtons',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','updateReplyOption','Erro\x20ao\x20editar\x20a\x20conversa:\x20','SERVER_OFFLINE','fetchProfilePicture','1530872srqiLR','messageSecret','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','toBrazilianNumberFormat','@broadcast','URL:','getFlowModelForOwner','):\x20atualização\x20chat:\x20','labels.edit','env','\x22reaction\x22\x20must\x20be\x20an\x20emoji','remove','labelId','responsavelid','scheduleNextCheck','logout','variable','local_map','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','pop','leadInfo.desativadoFluxoAte','scheduleSendAudio','createSectionsFromValues','Image\x20path:\x20','URL\x20limpa:\x20','none','nome','apiResponse','Flow\x20não\x20encontrado','\x22\x20-\x20NOT\x20CONNECTION','requestFile','):\x20Procurando\x20mensagens\x20para\x20envio','writeFileSync','isBusiness','sendDataWebhook','\x20attempts.','creds','WebhookGlobal','sendPoll','Authentication\x20error','updateGParticipant','STORE_CLEANING_TERMINAL','messages.set','deleteMany','uazapiDeleteMessage','ConversationModel','groupadd','REDIS_PREFIX_KEY',',\x20Expiration\x20Time:\x20','PRIVKEY','locked','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','saveMediaToFile','dataValidate','removed','delete','join','menuType','blockId','longitude','\x0a*Você\x20respondeu*:\x0a','request\x20body:\x20','localWebhook','blocks','\x22,\x20valor\x20a\x20substituir:\x20\x22','API_KEY','readMessage','AppStateSyncKeyData','DB_PREFIX_NAME','Error\x20change\x20group\x20setting','1938pCsOrL','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','DATABASE_CONNECTION_DB_PREFIX_NAME','upsertedCount','get','?timestamp=','createHash','atendimentoAberto','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','^\x5cd+[\x5c.@\x5cw-]+','):\x20Current\x20Time:\x20','/wa-contacts','closeExistingConversations','toBRL','buttonId','Enter\x20a\x20value\x20in\x20milliseconds','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','ephemeralMessage','recording','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','chats.upsert','CHATS_UPSERT','msgRetryCounterCache','eventHandler','senderKeyDistributionMessage','Error\x20updating\x20profile\x20picture','contactHandle','.ogg','scheduled','updateMissingEtiquetas','http://checkip.dyndns.org','viewOnceMessageV2','Erro\x20do\x20Certbot:\x20','numbers','/instance/create','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Type\x20is\x20required','Início','last_update','):\x20Editando\x20edição\x20do\x20fluxo...','document','arrayUnique','sendSticker','):\x20Editando\x20variável\x20do\x20fluxo...','repository','stopConversation','user','contact_blacklist','configService','length','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','updateLastSeenPrivacy','startFlow','findIndex','groupAcceptInvite','scheduleSendText','Database\x20is\x20not\x20enabled','\x1b[34m','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','createServer','notContains','webhookMap','setHeader','enumerable','generate','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','MESSAGES_UPSERT','value','qrcode','deleteMessage','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','base64','node-cache','utf-8','success','@newsletter','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','QRCODE_UPDATED','#000000','role','substring','sleep','END:VCARD','Db\x20Connection','@s.whatsapp.net','urlencoded','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','updateAgent','sort','/wa-connection-update','textMessage','end','birthtime','Forbidden','moreLogs','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','https://','send','groupMetadata','Bloco\x20com\x20ID\x20','secondValue','desativadoFluxoAte','hSet','flowPrefixCommand','\x20com\x20sucesso.','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','loadEnv','):\x20Entrou\x20na\x20função\x20stop','/media/','Reinicialização\x20iniciada:\x20','eventEmitter','replacer','ids','bearer','Erro\x20ao\x20atualizar\x20AutomateSystem:','Trying\x20to\x20get\x20business\x20profile','mediaSticker','statusJidList','?authSource=admin&readPreference=primary&directConnection=true','sendAudio','http://ifconfig.me/ip','_Chats','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','replaceVariablesChat',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','WA\x20MODULE','#d3a91f','forEach','updateFlowConfig','archive','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','VERBOSE','$addToSet','/events/:instance','@redis/client','request\x20received\x20in\x20scheduleMessage','PREFIX_KEY','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','promote','slice','uncaughtException','push','\x1b[1m\x1b[37m','readreceipts','\x1b[36m','#92ceac','close','contact','createConversationforStartFlow','true','Primeiro\x20Valor:\x20','Log\x20out\x20instance:\x20','.webp','CONNECTION_UPDATE','createFlow','headerString','prepareWAMessageMedia','readFileSync','apiName','The\x20\x22','\x20after\x20','utf8','dark','where','locationMessage','reconnectTimestamps','reconnectAttempts','Internal\x20Server\x20Error','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','default','minutesToClose','router','preview',',\x20pairCode:\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','phoneNumber','sendText','Message\x20not\x20found','presence.update','AutomateSystem','call','notEmpty','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','\x0aFN:','Tentando\x20reconectar...','No\x20join\x20group\x20invite\x20code\x20or\x20url','equal','Validate','leaveGroup','):\x20Editando\x20condição\x20do\x20fluxo...','axios','cleaningUp','activatedCount','mongoose','chatHandle','all','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','evaluateCondition','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','):\x20Dados\x20migrados\x20com\x20sucesso','ReplyOption\x20com\x20ID\x20','announcement','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','addBlock','newStoppedUntil','viewOnceMessage','unreadcount','repeat','updateProfilePicturePrivacy','stringify','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','profilePicture','\x1b[37m%s\x1b[0m','434993nfUwfT','profile','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','deleteMessageForEveryone','AUTHENTICATION','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','fileUrl','binary','Read\x20messages\x20fail','processConditions','groupHandler','editFlowBlock','mentioned','):\x20Procurando\x20conversa','delayChatLabel_MAX_RETRIES','getMIMEType',',\x20Resultado:\x20','CORS_ORIGIN','removeOlderDisconnectedInstances',',\x20Minutes\x20to\x20Close:\x20','isInteger','/clients-info','limit','-whatsapp-api','varedits','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','Valor\x20inicial:\x20\x22','done','customFields','imageMessage','^\x5cd+','out','application/json','round','deleteChat','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20Enviando\x20texto','findOne','_id','creation','joinGroup','encoding','\x20minutos\x20verificará\x20novas\x20mensagens','enabled','\x20não\x20encontrado','request\x20received\x20in\x20getFlow',',\x20Segundo\x20Valor:\x20','Temp\x20image\x20deleted','qrcode-terminal','$dbName','\x20tentativa:\x20remotejid=','removeProfilePicture','messageId','isJidBroadcast','startsWith','OrAnd','match','sendMedia','FlowRouter','processPollUpdateMessage','stoppedUntil','getOwnPropertyDescriptor','setting','optionName','fetchLabels','creds.update','context','getPrototypeOf','\x1b[0m','updateMessage','removeInstance','recebido\x20de','findGroupInfo','Chat\x20','find','selectableCount','Notifying\x20clients\x20for\x20chat:\x20','AUTHENTICATION_TYPE','GROUP_PARTICIPANTS_UPDATE','nomecompleto','query','/wa-message','statSync','https','):\x20Enviando\x20mídia','announce','poll','uazapi','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','SUCCESS','saveConversationToDatabase','.png','flowStopConversation','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','LOG_COLOR','getDelay','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','webhookModel','Type\x20defined\x20as\x20audio','connectionStatus','userDevicesCache','next_groupId','online','No\x20invite\x20code','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','\x20is\x20already\x20in\x20use.','Getting\x20profile\x20with\x20jid:\x20','replyOptions','Error\x20while\x20deleting\x20message\x20for\x20everyone','write','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','Cached\x20audio\x20found,\x20returning\x20existing\x20file','groups.upsert','Image\x20created','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','.gif','leadInfo.etiquetas','SINGLE_SELECT','stdout','Erro\x20ao\x20deletar\x20mensagens:','Audio\x20processed','/webhook','buffer','state','WARN','parseInt','stopMinutes','documentMessage','getMinutes','contacts','digest','Erro\x20ao\x20importar\x20chats:','loggedOut','mongodb','/wa-presence','exports','.ogv','indexOf','oldToken','sendReaction','Error\x20fetching\x20and\x20updating\x20profile:\x20','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','updatePresence','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','chats','update','jsonwebtoken','replyOption','content','lastSendMessage','TYPE','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','chatLog','Invalid\x20format','createConversationforgoToFlow','floor','test',',\x20lastCondition:\x20','authorization','\x1b[31m','originalUrl','model','pre','audio/ogg','pollUpdateMessage','DATABASE','available','URI','condition','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','importChatsBatch','buttonMessage','views','output','replace','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','extractRegex','app-state-sync-key','loadInstance','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','errorLog','add','lastSend','updateProfileName','owner','StartBot','):\x20Going\x20to\x20','Erro:','createAndSave','fetchChats','\x20adicionado\x20ao\x20chat\x20','qrCode','copyBlock',',\x20valor\x20passado:\x20\x22','getMessageModelForOwner','fetchBusinessProfile','):\x20Editando\x20grupo\x20do\x20fluxo...','FlowController','updateMissingTags','getAutomateSystem','execSync','checkAndUpdateChatStatus','process','sections','findOneAndUpdate','dayjs','updateBlock','CONTACTS_UPDATE','app','@g.us','trim','Last\x20message\x20not\x20found','verifiedName','PORT','/message','verify','METHODS','editFlowCondition','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20',':\x20IP\x20configurado:\x20','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','MESSAGES_UPDATE','LOG_LEVEL','.\x20Pulando.','messageContextInfo','Fluxos\x20não\x20estão\x20ativados','convertToWebP','scheduleSendMedia','emit','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','varedit','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','#9ba6ff','presence','Label\x20','title','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','del','goToFlow','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','\x20foi\x20interrompido\x20pelo\x20usuário.','_activatedCount','}}\x20->\x20valor\x20não\x20encontrado','formatVCard','archived','truncatedto','):\x20Limpando\x20delayMessage','height','folder','AddChatLabel','AUTHENTICATION_JWT_SECRET','Subscribed\x20Events:','CONTACTS_SET','quoted','processApiRequest','STORE_CONTACTS','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Content\x20is\x20required','!cmd_','conversationTimestamp','*Pergunta*:\x20\x0a','request\x20received\x20in\x20deleteFlow','request\x20received\x20in\x20updateFlowConfig','getFlow','__esModule','filter','mimetype','mkdirSync','https-proxy-agent','updateConversation','desc','/instance/connectionState','):\x20Ler\x20mensagem','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','requestPairingCode','_Labels','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','participant','CHATS_SET','Router','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','presenceSubscribe','config','CORS_CREDENTIALS','mediatype','shutdown\x20-r\x20now','insertMany','EXPIRIN_IN','getflow','parse','isConnected','Atualização:\x20','reaction','):\x20this.processingScheduleMessageId:\x20','2859016ETQZZO','isJidGroup','createflow','):\x20Deletando\x20fluxo...','messageStubType','):\x20Entrou\x20na\x20função\x20goToFlow','\x20contacts','writeData','pino','uazapiSendText','restartInstance','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','info','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário',',\x20resultado:\x20','unavailable','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','subjectOwner','getUpdate','uazapiSendAudio','name','stopIfLastReturnedError','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','option','_error','):\x20Visualizando\x20AutomateSystem','certonly','groupCreate','\x1b[33m','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','#9568cf','):\x20Conversa\x20atualizada\x20em\x20memória','sharePass','subdomain','\x1b[32m%s\x1b[0m','://','connectedClient','prepareMediaMessage','envProcess','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','groupSettingUpdate','groupUpdateDescription','SERVER_TYPE','static','LabelModel','<subdomain>','SSL_CONF_FULLCHAIN','variables','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','no.connection','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','):\x20leadInfoVariables','temp-','nextBlock:','host','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20enviado\x20para\x20[','1331ggUekO','open','):\x20Buscando\x20conversas...','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','rows','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','splice','font','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','label','):\x20delete\x20=\x20true','\x20-\x20retornado:\x20','set','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','email','bodyString','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','http://ip-api.com/json','CLEANING_INTERVAL','Error\x20updating\x20profile\x20status','list','):\x20Entrou\x20na\x20função\x20saveReply','flow','allflows','editflowcondition','contacts.update','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','method','DARK','CONNECTION','saveChatVariables','uazapiSendMenu','REDIS','listMessage','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','processgoToFlow','BRL','../env.yml','profilePictureUrl','headers','\x1b[32m','/instance','flowIgnoreGroups','\x20inseridos\x20no\x20banco\x20de\x20dados...','messageType','JWT','deleteAll','bateu\x20events','deletedCount','video-cover.png','ignoreGroups','^\x5cd+([-]\x5cd+)*@g.us$','connectionUpdate','ChatRouter','groupDesc','editChat','onWhatsApp','validate','webhookService','etiquetas','Missing\x20global\x20api\x20key','):\x20Enviando\x20localização','allFlows','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','variablesNotFound','spawn','Variável\x20não\x20encontrada!','Error\x20fetching\x20group','.doc','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Error\x20in\x20markMessageAsRead:','env.KEY\x20!==\x20key','DELIVERY_ACK','audioMessage','lastMessage','/instance/fetchInstances','stateConnection','Schema','boolean','getBase64FromMediaMessage','.TEL;waid=','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','status@broadcast','Comando\x20desconhecido','readMessages','The\x20property\x20cannot\x20be\x20empty','stickerMessage','groupToggleEphemeral','):\x20Flow\x20desativado','group','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','size','Erro\x20ao\x20adicionar\x20label\x20','File\x20written\x20to\x20path:\x20','dbSettings','/wa-message-update','findOrCreate','port','hex','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','CREDENTIALS','\x20e\x20ID=','Cache-Control','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','editFlowVaredit','enviado\x20para','Esse\x20fluxo\x20expirou','reviver','editOperator','jpegThumbnail','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','replaceOne','PLAYED','\x20não\x20encontrado\x20para\x20cópia','convertaudio','Erro\x20ao\x20atualizar\x20conversa:\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','metadata','}}\x20->\x20\x22','Erro\x20ao\x20inserir\x20chats:','Processing\x20audio','createGroup','revokeInviteCode',':\x20Tentativa\x20','normalizeMessageContent','editflow','jid','participants','delaySecMin','deleteOne','https://chat.whatsapp.com/','toUpperCase','updateChatWithMessage','):\x20teve\x20mudanças\x20chat.archived:\x20','redirect','notify','editFlowReply','toNumber','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','#6f7bcf','ENABLED','http://icanhazip.com/','Deleted\x20','audioWhatsapp','modifiedCount','integer','ERROR:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','#dfaef0','Erro\x20ao\x20normalizar\x20a\x20mensagem:','processblock','toggleEphemeral','ListType','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Getting\x20profile\x20info','Rótulo\x20inválido\x20ou\x20sem\x20ID.','displayName','\x20horas\x20e\x20','stopWhenYouSendMsg','sendStatus','min','dropCollection','http://ipecho.net/plain','jwt','\x22\x20-\x20REMOVED','updatePrivacySettings','delAll','exec','authModel','#b4ebff','):\x20teve\x20mudanças\x20chat.displayName:\x20','URL','label_jid','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','\x20minutos','whatsappNumbers','updateMissingLabels','send.message','Erro\x20de\x20reinicialização:\x20','readData','/media','processingScheduleMessageId','leadInfo.','request\x20received\x20in\x20editFlowcondition','remoteJid','#ff9484','):\x20Comando\x20desconhecido:\x20','\x20ao\x20chat\x20','\x20Tentativa\x20de\x20reconexão\x20','DD/MM\x20HH:mm:ss','storePath','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Image\x20converted\x20to\x20WebP','\x1b[33m\x1b[1m','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','badSession','editFlowVariable','trimmed','redis','getDevice','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','#56ccb4','ERROR','Image\x20is\x20url','webhook','MAX_RECONNECT_ATTEMPTS','findFlow','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','):\x20Query\x20params:\x20','updateOnlinePrivacy','DATABASE_CONNECTION_URI','GROUPS_UPSERT','findWebhook','getVariablesChat','The\x20instance\x20needs\x20to\x20be\x20disconnected','waitingMenu_replyOptions','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','Types','#00a1f2','updateStopChat','importChats','\x20inseridas\x20no\x20banco\x20de\x20dados...','findParticipants','fone','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','/group','fetchProfile','loadproxy','path','ON\x20-\x20dbName:\x20','):\x20Enviando\x20enquete','):\x20Bloco\x20com\x20ID\x20','getScheduleMessage','fetchInstances','updateOne','Background\x20color\x20is\x20required','findById','):\x20[messages.upsert]\x20group\x20ignored','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','9iOSGuy','https://uazapi-plugin.bubbleapps.io/?url=','downloadMediaMessage','now','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','audio','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','create','contactname','error','creds.json','findAll','chat','pollOnReplyDelete','createRegularFlow','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','sha256','request\x20received\x20in\x20deleteConversation','findGroup','Archiving\x20chat','pushName','addReplyOption','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','.wav','importChatsAntigo','remoteJidsRemaining','uuid','existsSync','Instance\x20restarted','upperCase','when','Not\x20is\x20business\x20profile','subject','\x1b[47m','_FlowHistorico','--standalone','hasOwnProperty','STORE_CHATS','Error\x20updating\x20privacy\x20settings','getProfileName','dbServer','reactionMessage','composing','Flow\x20iniciado\x20com\x20','request\x20received\x20in\x20updateCustomFields','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','177tCHrAG','getClient','routerPath','has','express-async-errors','content-type','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','audio/mp4','protocolMessage','groups_ignore','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','not_announcement','request\x20received\x20in\x20editFlowvariable','.mp3','request\x20received\x20in\x20getConversation','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Chat\x20com\x20ID\x20','createNewConversation','optionDescription','Desconectado,\x20parando\x20execução.','connectedName','inviteCode','media','updateGParticipate','findLabels','findMessages','mediaMessage','#9ab6c1','toFile','DATABASE_ENABLED',']\x20(','extractMessageContent','Erro\x20ao\x20editar\x20o\x20chat:\x20','useMultiFileAuthState','):\x20Deletando\x20conversa...','updateGroupPicture','contextInfo','automateSystem','findChats','text/event-stream','Type\x20not\x20found','instancias:\x20','DOCKER_ENV','valid','STORE','loadWebhook','instanceKeys','padEnd','):\x20Enviando\x20áudio','groupJid','variablesToObject','onTime','Erro\x20ao\x20buscar\x20conversas:\x20','flushHeaders','caption','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','params','request\x20received\x20in\x20createFlow','All_Instances_Config','messages','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Conexão\x20estabelecida','CONTACTS_UPSERT','contactsArrayMessage','instanceInfo','pollMessage','request\x20received\x20in\x20deleteDoneMessages','Instância:\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','endSession','Sistema\x20atualizado\x20com\x20sucesso!','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','menuExpiredMessage','conversation','pollCreationMessageKey','store','groups','isJidUser','unknown\x20operation\x20type\x20[','abs','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','processConditionsTest','):\x20alterando\x20this.AutomateSystem','options','Erro\x20ao\x20copiar\x20dados:','editflowreply','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','CONECTADO\x20À\x20UAZAPI','collection','array','#01d0e2','drop','Group\x20not\x20found','connectToWhatsappController','instance','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','sendContact','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','TEXT','firstValue','editFlowGroup','instanceName','Button\x20texts\x20cannot\x20be\x20repeated','and','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','#fe9dfe','Instance\x20Key\x20from\x20DB:','chats.update','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','shift','COLOR','AUTHENTICATION_API_KEY','restrict','message_normalized','processUazapi','STORE_MESSAGE','Error\x20updating\x20profile\x20name','envYaml','Selecione','statusMessage','reorderReplyOptions','LICENSE_INVALID','getContentType','Getting\x20image\x20from\x20url','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','upsertChats','flowActive','KEY','removeData','):\x20Buscando\x20conversa...','fetchLatestBaileysVersion','DATABASE_CONNECTION_HOST','fetchProfile2','entries','ultimaTentativaRemoteJid','lowerCase','ObjectId','):\x20Fluxos\x20não\x20estão\x20ativados','REDIS_ENABLED','use','buttonText','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20[messages.update]\x20group\x20ignored','SendScheduleMessage','rowId','Parando\x20aplicação...','post','HH:mm:ss','toLocaleString','INFO','website','oldValue','updateMissingShareOwners','redis://127.0.0.1:6379','archiveChat','random','RECONNECT_TIME_FRAME','ip:\x20','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','code','remove.instance','):\x20Bloco\x20original\x20para\x20cópia:\x20','checkAndRestartProcess','\x20->\x20CONFIRMADO.','AutomateFunctions','restart','@whiskeysockets/baileys','50mb','scheduleMessage','convert','json','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20Flow\x20não\x20encontrado','editConversation','setWebhook','request\x20received\x20in\x20editFlow','Safari\x20(MacOS)','sendLocation','PRODUCT_LIST','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20Mensagem\x20já\x20enviada\x20para\x20','toArray','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Cannot\x20','\x0aitem',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','decryptPollVote','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Telefone:\x20','SSL_CONF','editflowvaredit','proto','type','copyDataToNewModel','lastmsg','markMessageAsRead','groupSetting','linkPreview','chatId','noConnection','contains','\x20segundos','):\x20conversation.status:\x20','some','#ffc5c7','maxActives','NextBlock','gifPlayback','debug','keys','instance.','/*.json','):\x20tem\x20blocks','verbose','sectionsToString','reference','):\x20Edit\x20schedule\x20message...','mediaKey','):\x20Enviando\x20contato','setContext','error_log','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','protocol','getBusinessProfile','getHours','uazapiSendContact','everyOne','replaceValue','insert','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20newFirstValue\x20após\x20replaceVariables:','waitingMenu_ExpiredMessage','BufferJSON','changeVariables','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','groups.update','expiration','\x20do\x20chat\x20','Not\x20Found','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','contacts.upsert','connectionState','findByIdAndDelete','18ytDBkj','):\x20','request\x20received\x20in\x20fetchConversation','view\x20engine','demote','Business\x20profile\x20fetched','getContactModelForOwner','groupId','whatsappNumber','groupLeave','\x20não\x20encontrado\x20para\x20atualização.','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','ephemeralExpiration','flowConfig','):\x20não\x20encontrou','Converted\x20image\x20deleted','child_process','save','public','function','delayMessage','groupName','unreadCount','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','downloads','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','cwd','lastDisconnect','#d8e651','blockLogs','delayChatLabel_RETRY_DELAY_MS','Certbot\x20executado\x20com\x20sucesso.','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','item','findContacts','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','.jwt','createWebhook','silent','makeCacheableSignalKeyStore','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','organization','/instance/connect','4WaeQyq','):\x20conversation.lastInteraction:\x20','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):\x20lastBlockId:\x20','buttons','refused','flowConversation',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','sharp','exit','capitalizedWords','addChatLabel','errors','MessageModel','\x20-\x20ON:\x20','findGroups','number','!stop','statusCode','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','express','\x20-y','messages.update','isArray','/config','response','Certbot:\x20','updateReadReceiptsPrivacy','Last\x20message\x20not\x20found\x20for\x20number:','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','put','Erro\x20ao\x20encerrar\x20a\x20API','lean','stanzaId','fetchStatus','uazapiSendMedia','menuIgnoreNonVotes','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','fetchContacts','labels.association','pairingCode','Unauthorized','contentText','getConversationModelForOwner','toString','from','flowname:\x20','block','map','request\x20received\x20in\x20allFlows','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','long','waitingMenu_text','\x20}\x0a','remote\x20\x22origin\x22',',\x20valor\x20a\x20encontrar:\x20\x22','flattenObject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','eventemitter2','$set','pollErrorMessage','):\x20Error\x20processing\x20conditions:\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','flowName','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','editflowgroup','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','messages.upsert','.txt','editedMessage','Rótulo\x20deletado:','prototype','getMessage','notas','data:\x20','updateProfileStatus','warn','log','not\x20loaded','\x1b[46m','isRunning','sign','saveTextReply','tags','\x1b[40m','apikey','truncatedtoEnd','cpf','TEL','isJWT','logger','Error\x20removing\x20profile\x20picture','leadInfo','closed','expression','command','replaceVariablesInReplyOptions','getStatus','dbClient','pollCreationMessageV2','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','joinGroupValidate','):\x20Conversa\x20está\x20expirada\x20-\x20voto','endsWith','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','paused','findAndReplace','events','\x20instance\x20does\x20not\x20exist','messageHandle','):\x20Erro\x20ao\x20editar\x20agentes:\x20','\x20removido\x20do\x20chat\x20','listResponseMessage','SERVER','updateCustomFields','Audio\x20converted\x20and\x20stored\x20in\x20cache','getLabelModelForOwner','footerText','conditions','.xlsx','#ffffff','fromObject','DATABASE_CONNECTION_PASSWORD','deleteDoneMessages','class-validator','console','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','action','text','PRESENCE_UPDATE','apply','FULLCHAIN','saveVariable','Erro\x20ao\x20buscar\x20conversa:\x20','lastReceivedMessage','contactMessage','group-participants.update','client','request\x20received\x20in\x20editConversation','editScheduleMessage','testProxy','@ffmpeg-installer/ffmpeg','READ','status','greater','/exit','setRestartTimer','sendMenu','lastBlockId','):\x20teve\x20mudanças\x20chat.name:\x20','):\x20Alterando\x20fluxo...','pollCreationMessageV3','sendMessage','throwAndLogError','\x1b[33m%s\x1b[0m','\x22\x20cannot\x20be\x20empty','choices','auth','):\x20Ignoring\x20group\x20messages.','\x20mensagens\x20de\x20','109286qytFMF','replaceVariables','string','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','createInstance','cors','jsonschema','fetchPrivacySettings','wuid','\x20not\x20found,\x20retrying\x20in\x20','/create','isListOfNumbers','notEqual','connectionClosed','\x20-i\x20','pt-BR','request\x20received\x20in\x20editFlowgroup','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','hDel','waMonitor','./.git/config','Deletion\x20failed','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','dbInstance','username','ex:\x20\x22groupJid=120362@g.us\x22','sendMessageWithTyping','DaysToDelete','padStart','data','):\x20isVote:\x20','.pptx','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','Erro\x20ao\x20atualizar\x20o\x20flow.','getTime','updateAll','Data\x20inválida\x20fornecida','/wa-groups','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','empty','\x1b[44m','):\x20Buscando\x20flow...','\x1b[36m%s\x1b[0m',',\x20qrcodeCount:\x20','fullName','Hash\x20to\x20image\x20name:\x20','isLong','realVariables','GUARD','DATABASE_CONNECTION_USER','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','Image\x20is\x20base64','\x1b[34m%s\x1b[0m','waitingForReplyMenu','Número:\x20','messageTimestamp','updateProfilePicture','groupUpdateSubject','connection.update','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','stopMinutesMaxActives','isURL','prefixCommand','flowStopMinutes','readMessageBot','https://api.ipify.org?format=json','order','listType','SERVER_URL','Logger','\x20->\x20NÃO\x20CORRESPONDE.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','waInstances','groupValidate','Erro\x20ao\x20aplicar\x20varedit:\x20','RemoveChatLabel','getChatModelForOwner','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','cleanStore','\x20minutos.\x20Será\x20às\x20','Variáveis\x20não\x20encontradas:','\x1b[31m%s\x1b[0m','DEBUG','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','Erro\x20ao\x20editar\x20o\x20bloco:\x20','removeChatLabel','start','\x1b[37m','InstancesAlterarTodas','getScheduleMessageModelForOwner','matchRegex','vcard','imported','8080','deleteInstance','header','backgroundColor','Read\x20messages','REDIS_URI','getAllData','updateParticipant','getConversation','urlOrBase64','url','convertedOptions','groupRevokeInvite','privacySettings','allContacts','createJid','agents','updateOneById','normalizeMessage','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','last','findGroupInfos','Error\x20update\x20group\x20picture','fetchMessages','menuMessage','message','Error\x20occurred\x20while\x20archiving\x20chat:\x20','\x1b[30m','exists','description','Sending\x20audio\x20whatsapp','count','CHATS_UPDATE','_ScheduleMessages','delayChatLabel','redisEnv','shareOwners','):\x20Criando\x20nova\x20conversa[createNewConversation]'];a0_0x1165=function(){return _0x1dbeda;};return a0_0x1165();}var Or=T(require('compression')),_s=require('fs'),Ps=require(a0_0x5f0ca0(0x6da)),$s=require('path'),xe=require(a0_0x5f0ca0(0x414)),re=process[a0_0x5f0ca0(0x55e)](),ge=(0x0,xe[a0_0x5f0ca0(0xe3)])(re,a0_0x5f0ca0(0x6cb)),Ds=(0x0,xe[a0_0x5f0ca0(0xe3)])(re,'src'),Vo=(0x0,xe[a0_0x5f0ca0(0xe3)])(re,a0_0x5f0ca0(0x49a),a0_0x5f0ca0(0x60d)),es=class{constructor(){const _0x4c6736=a0_0x5f0ca0;this[_0x4c6736(0x15e)]();}['get'](_0x487c39){const _0x3c7761=a0_0x5f0ca0;return this[_0x3c7761(0x74a)][_0x487c39];}[a0_0x5f0ca0(0x15e)](){const _0x197264=a0_0x5f0ca0;this[_0x197264(0x74a)]=process[_0x197264(0x74a)]?.[_0x197264(0x479)]!=='true'?this[_0x197264(0x4c4)]():this['envProcess'](),process[_0x197264(0x74a)]?.[_0x197264(0x479)]==='true'&&(this[_0x197264(0x74a)][_0x197264(0x5e1)][_0x197264(0x261)]=_0x197264(0x71d),this[_0x197264(0x74a)][_0x197264(0x5e1)][_0x197264(0x2a1)]=Number[_0x197264(0x248)](process[_0x197264(0x74a)]?.['SERVER_PORT']??_0x197264(0x670)));}[a0_0x5f0ca0(0x4c4)](){const _0xe7ca71=a0_0x5f0ca0;return(0x0,Ps['load'])((0x0,_s[_0xe7ca71(0x191)])((0x0,$s['join'])(Ds,_0xe7ca71(0x354)),{'encoding':_0xe7ca71(0x13d)}));}[a0_0x5f0ca0(0x31c)](){const _0x5f0921=a0_0x5f0ca0;return{'SERVER':{'TYPE':process[_0x5f0921(0x74a)][_0x5f0921(0x320)],'PORT':Number[_0x5f0921(0x248)](process[_0x5f0921(0x74a)]['SERVER_PORT']),'URL':process[_0x5f0921(0x74a)][_0x5f0921(0x655)]},'CORS':{'ORIGIN':process['env'][_0x5f0921(0x1dc)][_0x5f0921(0x70e)](','),'METHODS':process[_0x5f0921(0x74a)]['CORS_METHODS']['split'](','),'CREDENTIALS':process['env']?.[_0x5f0921(0x2ea)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x5f0921(0x74a)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process['env']?.[_0x5f0921(0x324)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x5f0921(0x76a)])?Number[_0x5f0921(0x248)](process[_0x5f0921(0x74a)][_0x5f0921(0x76a)]):void 0x0,'MESSAGES':process[_0x5f0921(0x74a)]?.[_0x5f0921(0x4c2)]===_0x5f0921(0x189),'CONTACTS':process[_0x5f0921(0x74a)]?.[_0x5f0921(0x2cd)]===_0x5f0921(0x189),'CHATS':process[_0x5f0921(0x74a)]?.[_0x5f0921(0x446)]===_0x5f0921(0x189)},'DATABASE':{'CONNECTION':{'HOST':process[_0x5f0921(0x74a)]?.[_0x5f0921(0x4d2)],'PORT':Number[_0x5f0921(0x248)](process[_0x5f0921(0x74a)]?.[_0x5f0921(0x4d2)]),'USER':process[_0x5f0921(0x74a)][_0x5f0921(0x642)],'PASSWORD':process['env'][_0x5f0921(0x5ea)],'URI':process[_0x5f0921(0x74a)][_0x5f0921(0x402)],'DB_PREFIX_NAME':process[_0x5f0921(0x74a)][_0x5f0921(0xf3)]},'ENABLED':process[_0x5f0921(0x74a)]?.[_0x5f0921(0x46c)]===_0x5f0921(0x189)},'REDIS':{'ENABLED':process[_0x5f0921(0x74a)]?.[_0x5f0921(0x4d9)]===_0x5f0921(0x189),'URI':process[_0x5f0921(0x74a)][_0x5f0921(0x675)]||_0x5f0921(0x4e8),'PREFIX_KEY':process[_0x5f0921(0x74a)][_0x5f0921(0xda)]||_0x5f0921(0x222)},'LOG':{'LEVEL':process[_0x5f0921(0x74a)]?.[_0x5f0921(0x2aa)][_0x5f0921(0x70e)](','),'COLOR':process[_0x5f0921(0x74a)]?.[_0x5f0921(0x229)]===_0x5f0921(0x189)},'PROXY':Number[_0x5f0921(0x248)](process[_0x5f0921(0x74a)]?.[_0x5f0921(0x700)]),'AUTHENTICATION':{'TYPE':process[_0x5f0921(0x74a)][_0x5f0921(0x218)],'API_KEY':{'KEY':process[_0x5f0921(0x74a)][_0x5f0921(0x4be)]},'JWT':{'EXPIRIN_IN':Number[_0x5f0921(0x1df)](process['env']?.[_0x5f0921(0x41e)])?Number[_0x5f0921(0x248)](process[_0x5f0921(0x74a)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x5f0921(0x2c8)]}}};}},b=new es(),Ar=T(require(a0_0x5f0ca0(0x615))),he=T(require(a0_0x5f0ca0(0x583))),As=require('path'),ts=T(require(a0_0x5f0ca0(0x299))),ss=(_0x544e05=>(_0x544e05['LOG']=a0_0x5f0ca0(0x357),_0x544e05[a0_0x5f0ca0(0x4e4)]=a0_0x5f0ca0(0x12d),_0x544e05[a0_0x5f0ca0(0x247)]=a0_0x5f0ca0(0x312),_0x544e05[a0_0x5f0ca0(0x3fa)]=a0_0x5f0ca0(0x26b),_0x544e05[a0_0x5f0ca0(0x664)]=a0_0x5f0ca0(0x184),_0x544e05[a0_0x5f0ca0(0x177)]=a0_0x5f0ca0(0x66a),_0x544e05[a0_0x5f0ca0(0x34b)]=a0_0x5f0ca0(0x68b),_0x544e05))(ss||{}),ks=(_0x3b1a23=>(_0x3b1a23[a0_0x5f0ca0(0x717)]=a0_0x5f0ca0(0x318),_0x3b1a23[a0_0x5f0ca0(0x34b)]='\x1b[30m%s\x1b[0m',_0x3b1a23[a0_0x5f0ca0(0x4e4)]=a0_0x5f0ca0(0x645),_0x3b1a23[a0_0x5f0ca0(0x247)]=a0_0x5f0ca0(0x60a),_0x3b1a23[a0_0x5f0ca0(0x3fa)]=a0_0x5f0ca0(0x663),_0x3b1a23[a0_0x5f0ca0(0x664)]=a0_0x5f0ca0(0x63b),_0x3b1a23[a0_0x5f0ca0(0x177)]=a0_0x5f0ca0(0x1ca),_0x3b1a23))(ks||{}),Ls=(_0xdbeaf4=>(_0xdbeaf4[a0_0x5f0ca0(0x717)]=a0_0x5f0ca0(0x717),_0xdbeaf4[a0_0x5f0ca0(0x247)]=a0_0x5f0ca0(0x247),_0xdbeaf4[a0_0x5f0ca0(0x4e4)]=a0_0x5f0ca0(0x4e4),_0xdbeaf4[a0_0x5f0ca0(0x34b)]=a0_0x5f0ca0(0x34b),_0xdbeaf4[a0_0x5f0ca0(0x3fa)]=a0_0x5f0ca0(0x3fa),_0xdbeaf4[a0_0x5f0ca0(0x664)]='DEBUG',_0xdbeaf4['VERBOSE']=a0_0x5f0ca0(0x177),_0xdbeaf4))(Ls||{}),Fs=(_0x3b412c=>(_0x3b412c[a0_0x5f0ca0(0x717)]='\x1b[42m',_0x3b412c[a0_0x5f0ca0(0x4e4)]=a0_0x5f0ca0(0x639),_0x3b412c['WARN']=a0_0x5f0ca0(0x73a),_0x3b412c[a0_0x5f0ca0(0x34b)]=a0_0x5f0ca0(0x5c4),_0x3b412c[a0_0x5f0ca0(0x3fa)]=a0_0x5f0ca0(0x701),_0x3b412c[a0_0x5f0ca0(0x664)]=a0_0x5f0ca0(0x5bf),_0x3b412c[a0_0x5f0ca0(0x177)]=a0_0x5f0ca0(0x442),_0x3b412c))(Fs||{}),N=class{constructor(_0x13ffa0=a0_0x5f0ca0(0x656)){const _0x48e6c3=a0_0x5f0ca0;this[_0x48e6c3(0x20d)]=_0x13ffa0,this[_0x48e6c3(0x122)]=b;}[a0_0x5f0ca0(0x52a)](_0x1ae0fd){const _0x2a7ab8=a0_0x5f0ca0;this[_0x2a7ab8(0x20d)]=_0x1ae0fd;}[a0_0x5f0ca0(0x5ed)](_0x8232d8,_0x215ed2){const _0x4f6c39=a0_0x5f0ca0;let _0x33a470=[];this[_0x4f6c39(0x122)][_0x4f6c39(0xf5)](_0x4f6c39(0x717))[_0x4f6c39(0x727)][_0x4f6c39(0x173)](_0x1636f8=>_0x33a470[_0x4f6c39(0x181)](Ls[_0x1636f8]));let _0x120a9d=typeof _0x8232d8;_0x33a470['includes'](_0x215ed2)&&(b[_0x4f6c39(0xf5)](_0x4f6c39(0x717))[_0x4f6c39(0x4bd)]?(console['log']('\x1b[1m'+ks[_0x215ed2],_0x4f6c39(0x182),(0x0,ts[_0x4f6c39(0x19d)])()['format'](_0x4f6c39(0x3ed)),_0x4f6c39(0x20f),ss[_0x215ed2]+Fs[_0x215ed2]+'\x1b[1m',_0x215ed2+'\x20\x1b[0m',_0x4f6c39(0x3f1),this[_0x4f6c39(0x20d)]+_0x4f6c39(0x20f),ss[_0x215ed2],_0x120a9d!==_0x4f6c39(0x6c6)?_0x8232d8:'',_0x4f6c39(0x20f)),_0x120a9d===_0x4f6c39(0x6c6)&&console[_0x4f6c39(0x5bd)](_0x8232d8,'\x0a')):console[_0x4f6c39(0x5bd)]((0x0,ts[_0x4f6c39(0x19d)])()['format'](_0x4f6c39(0x4e2)),_0x215ed2+'\x20',''+this[_0x4f6c39(0x20d)],_0x8232d8));}[a0_0x5f0ca0(0x5bd)](_0x508fc2){const _0xf9f9b8=a0_0x5f0ca0;this[_0xf9f9b8(0x5ed)](_0x508fc2,_0xf9f9b8(0x717));}[a0_0x5f0ca0(0x301)](_0x331d36){const _0x52279f=a0_0x5f0ca0;this[_0x52279f(0x5ed)](_0x331d36,_0x52279f(0x4e4));}[a0_0x5f0ca0(0x5bc)](_0x4352a8){const _0x5a9002=a0_0x5f0ca0;this[_0x5a9002(0x5ed)](_0x4352a8,'WARN');}['error'](_0x50e6c4){this['console'](_0x50e6c4,'ERROR');}[a0_0x5f0ca0(0x524)](_0x33ec54){const _0x56bf57=a0_0x5f0ca0;this['console'](_0x33ec54,_0x56bf57(0x177));}[a0_0x5f0ca0(0x51f)](_0x4358b3){const _0x7551a3=a0_0x5f0ca0;this[_0x7551a3(0x5ed)](_0x4358b3,_0x7551a3(0x664));}[a0_0x5f0ca0(0x196)](_0x5e210a){const _0x3e4190=a0_0x5f0ca0;this[_0x3e4190(0x5ed)](_0x5e210a,_0x3e4190(0x34b));}};function js(){const _0x5834ec=a0_0x5f0ca0;process['on'](_0x5834ec(0x180),(_0x6cf6c7,_0x493c21)=>{const _0x2ef81a=_0x5834ec;new N(_0x2ef81a(0x180))['error']({'origin':_0x493c21,'stderr':process[_0x2ef81a(0x6d9)]['fd'],'error':_0x6cf6c7});}),process['on'](_0x5834ec(0x6bd),(_0x57503d,_0x59c93b)=>{const _0x30b4b0=_0x5834ec;new N(_0x30b4b0(0x6bd))['error']({'origin':_0x59c93b,'stderr':process['stderr']['fd'],'error':_0x57503d});});}var Us=T(require(a0_0x5f0ca0(0x5aa))),as=new Us[(a0_0x5f0ca0(0x19d))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),rs=T(require(a0_0x5f0ca0(0x1b5))),qr=new N(a0_0x5f0ca0(0x147)),J=b[a0_0x5f0ca0(0xf5)](a0_0x5f0ca0(0x271)),R=J[a0_0x5f0ca0(0x3bb)]?J[a0_0x5f0ca0(0x34c)][a0_0x5f0ca0(0x273)]?rs[a0_0x5f0ca0(0x19d)][a0_0x5f0ca0(0x6b3)](J['CONNECTION'][a0_0x5f0ca0(0x273)],{'dbName':J[a0_0x5f0ca0(0x34c)][a0_0x5f0ca0(0xef)]+a0_0x5f0ca0(0x1e2)}):rs[a0_0x5f0ca0(0x19d)]['createConnection']('mongodb://'+J[a0_0x5f0ca0(0x34c)]['HOST']+':'+J['CONNECTION'][a0_0x5f0ca0(0x2a1)]+a0_0x5f0ca0(0x16a),{'user':J[a0_0x5f0ca0(0x34c)]['USER'],'pass':J['CONNECTION']['PASSWORD'],'dbName':J[a0_0x5f0ca0(0x34c)]['DB_PREFIX_NAME']+a0_0x5f0ca0(0x1e2)}):null;J[a0_0x5f0ca0(0x3bb)]&&qr[a0_0x5f0ca0(0x301)](a0_0x5f0ca0(0x415)+R[a0_0x5f0ca0(0x1fc)]);var Jr=new De[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vr=new De[(a0_0x5f0ca0(0x37c))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Br=new De[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Vr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),qs=_0x1ca6d0=>{const _0x555e6b=a0_0x5f0ca0;let _0x2f4e71='z_'+_0x1ca6d0+_0x555e6b(0x16d);return R?.[_0x555e6b(0x26d)]('ChatModel',Br,_0x2f4e71);},Js=require(a0_0x5f0ca0(0x1b5)),Gr=new Js[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x1ff7e4=>{const _0x2da37d=a0_0x5f0ca0;let _0xdcf0d6='z_'+_0x1ff7e4+'_Contacts';return R?.[_0x2da37d(0x26d)]('ContactModel',Gr,_0xdcf0d6);},Bs=require('mongoose'),Wr=new Bs['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x5d2c6a=>{const _0x32a789=a0_0x5f0ca0;let _0x36e7d4='z_'+_0x5d2c6a+'_Messages';return R?.[_0x32a789(0x26d)](_0x32a789(0x57c),Wr,_0x36e7d4);},Ws=require(a0_0x5f0ca0(0x1b5)),is=class{},zr=new Ws[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=R?.[a0_0x5f0ca0(0x26d)](is['name'],zr,'authentication'),Hs=require(a0_0x5f0ca0(0x1b5)),os=class{},Ks=new Hs[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x5f0ca0(0x26e)](a0_0x5f0ca0(0x553),function(_0x392c12){const _0x188d0b=a0_0x5f0ca0;delete this[_0x188d0b(0x4cd)],delete this[_0x188d0b(0x359)],delete this[_0x188d0b(0x15b)],delete this[_0x188d0b(0x227)],delete this[_0x188d0b(0x650)],_0x392c12();});var Qs=R?.['model'](os[a0_0x5f0ca0(0x309)],Ks,a0_0x5f0ca0(0x3fc)),P=require(a0_0x5f0ca0(0x1b5)),Ys=require(a0_0x5f0ca0(0x43b)),_e=class{},Xs=new P[(a0_0x5f0ca0(0x37c))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ns=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Hr=new P[(a0_0x5f0ca0(0x37c))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x5f0ca0(0x343)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x5f0ca0(0x4c5)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x5f0ca0(0x399)},'pollErrorMessage':{'type':String,'default':a0_0x5f0ca0(0x3f8)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new P[(a0_0x5f0ca0(0x37c))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Kr=new P[(a0_0x5f0ca0(0x37c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Qr=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ea=new P[(a0_0x5f0ca0(0x37c))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Hr},'apirequest':Kr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ps=new P[(a0_0x5f0ca0(0x37c))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ta=new P[(a0_0x5f0ca0(0x37c))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),cs=class{},Pe=new P[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,Ys['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x4c4c06=a0_0x5f0ca0;return _0x4c4c06(0x2d0)+Math[_0x4c4c06(0x4ea)]()['toString'](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ps],'variablesNotFound':{'type':[String]},'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[ns],'default':[]}});Pe[a0_0x5f0ca0(0x26e)](a0_0x5f0ca0(0x553),function(_0x1c5801){const _0x4902e9=a0_0x5f0ca0;let _0x587197=new Set(),_0x3b68dc=new Set(this[_0x4902e9(0x325)]?.['map'](_0x369677=>_0x369677[_0x4902e9(0x309)])),_0x6822d8=JSON[_0x4902e9(0x1c7)](this),_0x2bd54c=/{{(?!_)([^}]*)}}/g,_0x119de;for(;(_0x119de=_0x2bd54c[_0x4902e9(0x3d7)](_0x6822d8))!==null;)_0x3b68dc[_0x4902e9(0x452)](_0x119de[0x1])||_0x587197[_0x4902e9(0x281)](_0x119de[0x1]);_0x587197[_0x4902e9(0x38a)]>0x0?(console[_0x4902e9(0x5bc)](_0x4902e9(0x662),Array[_0x4902e9(0x59c)](_0x587197)),this['variablesNotFound']=Array['from'](_0x587197)):this['variablesNotFound']=[],_0x1c5801();}),Pe[a0_0x5f0ca0(0x26e)](a0_0x5f0ca0(0x298),function(_0x5024a7){const _0x8463a8=a0_0x5f0ca0;let _0x3e82ce=this[_0x8463a8(0x307)]();if(_0x3e82ce&&typeof _0x3e82ce==_0x8463a8(0x6c6)&&'$set'in _0x3e82ce){let _0x37145d=_0x3e82ce[_0x8463a8(0x5ab)];if(_0x37145d){let _0x314319=new Set(),_0xf178ce=new Set(_0x37145d['variables']?.[_0x8463a8(0x59f)](_0xfb09ac=>_0xfb09ac[_0x8463a8(0x309)])),_0x162725=JSON[_0x8463a8(0x1c7)](_0x37145d),_0x5cb1f9=/{{(?!_)([^}]*)}}/g,_0x2e0a73;for(;(_0x2e0a73=_0x5cb1f9[_0x8463a8(0x3d7)](_0x162725))!==null;)_0xf178ce[_0x8463a8(0x452)](_0x2e0a73[0x1])||_0x314319[_0x8463a8(0x281)](_0x2e0a73[0x1]);_0x314319[_0x8463a8(0x38a)]>0x0?(console[_0x8463a8(0x5bc)](_0x8463a8(0x662),Array[_0x8463a8(0x59c)](_0x314319)),_0x37145d[_0x8463a8(0x36f)]=Array['from'](_0x314319)):_0x37145d[_0x8463a8(0x36f)]=[],this['setUpdate']({'$set':_0x37145d});}}_0x5024a7();});var sa=_0xe5220=>{let _0x2019c6='z_'+_0xe5220+'_Flows';return R?.['model']('FlowModel',Pe,_0x2019c6);},aa=R?.[a0_0x5f0ca0(0x26d)](cs[a0_0x5f0ca0(0x309)],Pe,a0_0x5f0ca0(0x345)),Yr=new P[(a0_0x5f0ca0(0x37c))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ps],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Qr]},{'_id':!0x1}),ls=class{},ra=new P[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ps],'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[ns],'default':[]},'chatLog':Yr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5f0ca0(0x330)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x5f0ca0(0x399)},'waitingMenu_replyOptions':{'type':[ns],'default':[]}}),ia=_0x5f531e=>{const _0x49b715=a0_0x5f0ca0;let _0x4c5940='z_'+_0x5f531e+_0x49b715(0x443);return R?.['model'](_0x49b715(0x76e),ra,_0x4c5940);},oa=R?.['model'](ls[a0_0x5f0ca0(0x309)],ra,a0_0x5f0ca0(0x575)),us=class{},Xr=new P['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Zr=new P[(a0_0x5f0ca0(0x37c))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),na=new P[(a0_0x5f0ca0(0x37c))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x5f0ca0(0x10e)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Zr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Xr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ca=_0x54c5c6=>{const _0x553317=a0_0x5f0ca0;let _0x5eeed7='z_'+_0x54c5c6+_0x553317(0x691);return R?.['model']('ScheduleMessageModel',na,_0x5eeed7);},la=R?.[a0_0x5f0ca0(0x26d)](us[a0_0x5f0ca0(0x309)],na,'scheduleMessages'),ds=class{},ei=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ti=new P[(a0_0x5f0ca0(0x37c))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x5f0ca0(0x580)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),si=new P[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),ai=new P[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[si]},'customFields':{'type':[ei]},'flowConfig':{'type':ti,'default':{}}}),$e=R?.[a0_0x5f0ca0(0x26d)](ds['name'],ai,a0_0x5f0ca0(0x1a7)),ua=require(a0_0x5f0ca0(0x1b5)),ri=new ua['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),da=_0x49407c=>{const _0x247371=a0_0x5f0ca0;let _0x1166f5='z_'+_0x49407c+_0x247371(0x2e1);return R?.[_0x247371(0x26d)](_0x247371(0x322),ri,_0x1166f5);},D=class{constructor(_0x4eff98){const _0x238946=a0_0x5f0ca0;this[_0x238946(0x38d)]=_0x4eff98[_0x238946(0xf5)](_0x238946(0x271));}};function A(_0x1ac0bd){const _0x51fe3b=a0_0x5f0ca0;let _0x2f2962={};for(let [_0x26a175,_0x555083]of Object[_0x51fe3b(0x4d4)](_0x1ac0bd))if(typeof _0x555083==_0x51fe3b(0x6c6)&&!Array[_0x51fe3b(0x586)](_0x555083)){for(let [_0x24293d,_0x380101]of Object[_0x51fe3b(0x4d4)](_0x555083))_0x2f2962[_0x26a175+'.'+_0x24293d]=_0x380101;}else _0x2f2962[_0x26a175]=_0x555083;return _0x2f2962;}var ke=class{constructor(_0x34d780,_0x1c0933,_0x1b65d4,_0x49667c,_0x49a74e,_0x501549,_0x17645b,_0xcfcd55,_0x226f77,_0x1497aa,_0x3bf555){const _0x5698dc=a0_0x5f0ca0;this[_0x5698dc(0x689)]=_0x34d780,this['chat']=_0x1c0933,this[_0x5698dc(0x187)]=_0x1b65d4,this[_0x5698dc(0x3fc)]=_0x49667c,this[_0x5698dc(0x60d)]=_0x49a74e,this[_0x5698dc(0x345)]=_0x501549,this['flowConversation']=_0x17645b,this[_0x5698dc(0x338)]=_0xcfcd55,this['scheduleMessage']=_0x226f77,this[_0x5698dc(0x474)]=_0x1497aa,this[_0x5698dc(0x5d2)]=_0x3bf555;}get[a0_0x5f0ca0(0x449)](){return this['dbClient'];}},Le=class{},Fe=class extends D{[a0_0x5f0ca0(0x28e)](_0x6c1f31){return Gs(_0x6c1f31);}async['insert'](_0x3838fb,_0x54b3b8){const _0x136adf=a0_0x5f0ca0;if(_0x3838fb[_0x136adf(0x123)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x136adf(0x28e)](_0x54b3b8)['insertMany']([..._0x3838fb]))[_0x136adf(0x123)]};}catch(_0x452b64){return _0x452b64;}}async[a0_0x5f0ca0(0x215)](_0x39f268,_0x48fcf6){const _0x38fca5=a0_0x5f0ca0;try{let _0x515ca7=this[_0x38fca5(0x28e)](_0x48fcf6),_0x4b7dc4=A(_0x39f268['where']);return await _0x515ca7['find'](_0x4b7dc4)[_0x38fca5(0x14c)]({'messageTimestamp':-0x1})[_0x38fca5(0x1e1)](_0x39f268?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x5f0ca0(0xe2)](_0x17219e,_0x4dae63){const _0x12732b=a0_0x5f0ca0;try{let _0xf68fd7=this[_0x12732b(0x28e)](_0x4dae63),_0x2af9fd=A(_0x17219e[_0x12732b(0x197)]);await _0xf68fd7[_0x12732b(0x76c)](_0x2af9fd);}catch(_0x220ead){console[_0x12732b(0x429)](_0x220ead);}}async[a0_0x5f0ca0(0x25c)](_0x57356b,_0x4d3d4b,_0xd0963e){const _0x1c6b46=a0_0x5f0ca0;try{let _0x45e340=this[_0x1c6b46(0x28e)](_0xd0963e),_0x3f3bc4=A(_0x57356b['where']);return await _0x45e340[_0x1c6b46(0x298)](_0x3f3bc4,{'$set':_0x4d3d4b},{'new':!0x0});}catch(_0x1d3d99){throw console['error'](_0x1d3d99),_0x1d3d99;}}async[a0_0x5f0ca0(0x2ed)](_0x5ec277,_0x224ff5){const _0x381ebb=a0_0x5f0ca0;if(_0x5ec277[_0x381ebb(0x123)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x381ebb(0x28e)](_0x224ff5)[_0x381ebb(0x2ed)]([..._0x5ec277]))['length']};}catch(_0x19d1a9){return console[_0x381ebb(0x5bd)](_0x381ebb(0x3c1),_0x19d1a9),_0x19d1a9;}}async[a0_0x5f0ca0(0x35d)](_0x4d325a){const _0x553886=a0_0x5f0ca0;try{return await this[_0x553886(0x28e)](_0x4d325a)[_0x553886(0x4a7)][_0x553886(0x4aa)](),{'success':!0x0};}catch(_0x35ff17){return console[_0x553886(0x429)](_0x35ff17),{'success':!0x1,'error':_0x35ff17};}}},fr=T(require(a0_0x5f0ca0(0x5fd))),g=T(require(a0_0x5f0ca0(0x4f5))),ve=require('fs'),j=T(require(a0_0x5f0ca0(0x414))),se=T(require(a0_0x5f0ca0(0x1b2))),wr=require(a0_0x5f0ca0(0x43b)),yr=T(require(a0_0x5f0ca0(0x138))),br=T(require(a0_0x5f0ca0(0x1fb))),pa=[a0_0x5f0ca0(0x1e8),a0_0x5f0ca0(0x24a),a0_0x5f0ca0(0x378),'videoMessage','stickerMessage'],ha=[a0_0x5f0ca0(0x103),'documentWithCaptionMessage',a0_0x5f0ca0(0x1c3),a0_0x5f0ca0(0x111)],Sr=require('os'),It=T(require(a0_0x5f0ca0(0x2fd))),Pt=require(a0_0x5f0ca0(0x552)),xt=require(a0_0x5f0ca0(0x70b)),ce=T(require(a0_0x5f0ca0(0x1b5))),$=require(a0_0x5f0ca0(0x5ec)),me=class{constructor(_0x4131c0,_0x457058,_0x242fbd){const _0x5ef8f2=a0_0x5f0ca0;this[_0x5ef8f2(0x3ad)]=_0x4131c0,this[_0x5ef8f2(0x68c)]=_0x457058,this['name']=_0x242fbd;}},je=class{},Ue=class{},be=class{},qe=class{},Je=class{},fe=class{},Ve=class{},Be=class{},Ge=class{},We=class{},vt=T(require(a0_0x5f0ca0(0x583))),ga=require('fs'),ma=require(a0_0x5f0ca0(0x414));async function ze(_0xefe5a3){const _0x14c21b=a0_0x5f0ca0;let _0x494a48=V[_0x14c21b(0x659)][_0xefe5a3];if(J[_0x14c21b(0x3bb)]){let _0x29929f=R['getClient']()['db'](J['CONNECTION'][_0x14c21b(0xef)]+_0x14c21b(0x6c0))['collection'](_0xefe5a3);return _0x494a48||(await _0x29929f[_0x14c21b(0x215)]({})[_0x14c21b(0x504)]())[_0x14c21b(0x123)]>0x0;}return _0x494a48||(0x0,ga[_0x14c21b(0x43c)])((0x0,ma[_0x14c21b(0xe3)])(ge,_0xefe5a3));}async function fa(_0x429123,_0x201f90,_0x215703){const _0x86e5f4=a0_0x5f0ca0;if(_0x429123[_0x86e5f4(0x26c)]['includes'](_0x86e5f4(0x114))||_0x429123['originalUrl']['includes']('/instance/fetchInstances')||_0x429123[_0x86e5f4(0x26c)]['includes']('/exit')||_0x429123[_0x86e5f4(0x26c)]['includes'](_0x86e5f4(0x587))||_0x429123[_0x86e5f4(0x26c)][_0x86e5f4(0x6ea)](_0x86e5f4(0x56e))||_0x429123[_0x86e5f4(0x26c)][_0x86e5f4(0x6ea)](_0x86e5f4(0x2dd))||_0x429123[_0x86e5f4(0x26c)][_0x86e5f4(0x6ea)]('/instance/delete'))return _0x215703();let _0x128eeb=_0x429123['params'];if(!_0x128eeb?.[_0x86e5f4(0x4b4)])throw new w(_0x86e5f4(0x6af));if(!await ze(_0x128eeb[_0x86e5f4(0x4b4)]))throw new k('The\x20'+_0x128eeb[_0x86e5f4(0x4b4)]+_0x86e5f4(0x5dc));_0x215703();}async function wa(_0x318e14,_0x24f984,_0x4ee8f7){const _0x263d0e=a0_0x5f0ca0;if(_0x318e14[_0x263d0e(0x26c)][_0x263d0e(0x6ea)]('/instance/create')){let _0x1102f6=_0x318e14[_0x263d0e(0x735)];if(await ze(_0x1102f6[_0x263d0e(0x4b4)]))throw new H('This\x20name\x20'+_0x1102f6['instanceName']+_0x263d0e(0x234));V['waInstances'][_0x1102f6['instanceName']]&&delete V[_0x263d0e(0x659)][_0x1102f6[_0x263d0e(0x4b4)]];}_0x4ee8f7();}var ya=require(a0_0x5f0ca0(0x5ec)),ba=T(require(a0_0x5f0ca0(0x25d))),He=a0_0x5f0ca0(0x222),oi=new N(a0_0x5f0ca0(0x641));async function ni(_0x419866,_0x280e33,_0x30fba2){const _0x558caa=a0_0x5f0ca0;let _0x156e58=_0x419866[_0x558caa(0xf5)]('apikey');if(_0x156e58&&b['get'](_0x558caa(0x1cf))['API_KEY'][_0x558caa(0x4ce)]!==_0x156e58)throw new ee();if(b[_0x558caa(0xf5)](_0x558caa(0x1cf))['API_KEY'][_0x558caa(0x4ce)]===_0x156e58)return _0x30fba2();if((_0x419866[_0x558caa(0x26c)][_0x558caa(0x6ea)](_0x558caa(0x114))||_0x419866[_0x558caa(0x26c)]['includes'](_0x558caa(0x37a)))&&!_0x156e58)throw new H('Missing\x20global\x20api\x20key',_0x558caa(0x1a2));let _0x1503ab=b[_0x558caa(0xf5)](_0x558caa(0x1cf))['JWT'];try{let [_0x469a45,_0x363026]=_0x419866[_0x558caa(0xf5)](_0x558caa(0x26a))['split']('\x20');if(_0x469a45[_0x558caa(0x6f4)]()!==_0x558caa(0x165))throw new ee();if(!(0x0,ya[_0x558caa(0x5c9)])(_0x363026))throw new ee();let _0x3433ba=_0x419866[_0x558caa(0x487)],_0x4e436a=ba[_0x558caa(0x19d)][_0x558caa(0x2a3)](_0x363026,_0x1503ab[_0x558caa(0x6a9)],{'ignoreExpiration':_0x1503ab[_0x558caa(0x2ee)]===0x0});if(_0x3433ba[_0x558caa(0x4b4)]!==_0x4e436a[_0x558caa(0x4b4)]||He!==_0x4e436a[_0x558caa(0x192)])throw new ee();return _0x30fba2();}catch(_0x565f7c){throw oi[_0x558caa(0x429)](_0x565f7c),new ee();}}async function ci(_0xdb0b0d,_0x530e,_0x54c740){const _0x5b3f0b=a0_0x5f0ca0;let _0x37e48d=b[_0x5b3f0b(0xf5)](_0x5b3f0b(0x1cf))['API_KEY'],_0x35459f=_0xdb0b0d[_0x5b3f0b(0xf5)](_0x5b3f0b(0x5c5));if(_0x37e48d['KEY']===_0x35459f)return _0x54c740();if(_0xdb0b0d[_0x5b3f0b(0x26c)][_0x5b3f0b(0x6ea)](_0x5b3f0b(0x114))){let _0x1cd10c=Ke,_0x30f5ba=_0xdb0b0d['body'][_0x5b3f0b(0x4b4)];if(_0x1cd10c&&_0x30f5ba[_0x5b3f0b(0x6f4)]()[_0x5b3f0b(0x201)](_0x1cd10c[_0x5b3f0b(0x6f4)]()))return _0x54c740();if(!_0x35459f)throw new H(_0x5b3f0b(0x36b),_0x5b3f0b(0x1a2));}if(_0xdb0b0d[_0x5b3f0b(0x26c)][_0x5b3f0b(0x6ea)]('/instance/fetchInstances')&&!_0x35459f)throw new H('Missing\x20global\x20api\x20key',_0x5b3f0b(0x1a2));if(_0xdb0b0d[_0x5b3f0b(0x26c)][_0x5b3f0b(0x6ea)](_0x5b3f0b(0x601))&&!_0x35459f)throw new H(_0x5b3f0b(0x36b),_0x5b3f0b(0x1a2));if(_0xdb0b0d[_0x5b3f0b(0x26c)][_0x5b3f0b(0x6ea)](_0x5b3f0b(0x587))&&!_0x35459f)throw new H(_0x5b3f0b(0x36b),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x54605b=_0xdb0b0d[_0x5b3f0b(0x487)];if((await ue[_0x5b3f0b(0x60d)][_0x5b3f0b(0x215)](_0x54605b['instanceName']))[_0x5b3f0b(0x5c5)]===_0x35459f)return _0x54c740();}catch{}throw new ee();}var Sa={'jwt':ni,'apikey':ci},er=require(a0_0x5f0ca0(0x583)),C=require(a0_0x5f0ca0(0x43b)),E=(..._0x5a0c0d)=>{const _0x4088e5=a0_0x5f0ca0;let _0x55ca9e={};return _0x5a0c0d[_0x4088e5(0x173)](_0x1dac2e=>_0x55ca9e[_0x1dac2e]={'minLength':0x1,'description':_0x4088e5(0x193)+_0x1dac2e+_0x4088e5(0x60b)}),{'if':{'propertyNames':{'enum':[..._0x5a0c0d]}},'then':{'properties':_0x55ca9e}};},v={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'instanceName':{'type':'string'}},...E(a0_0x5f0ca0(0x4b4))},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'oldToken':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x255)],...E(a0_0x5f0ca0(0x255))},Yn={'properties':{'key':{'type':a0_0x5f0ca0(0x6c6),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x5f0ca0(0x612)},'fromMe':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5f0ca0(0x3e8),a0_0x5f0ca0(0x6eb)],...E('id',a0_0x5f0ca0(0x3e8))},'message':{'type':'object'}}},K={'properties':{'delay':{'type':a0_0x5f0ca0(0x3c0),'description':a0_0x5f0ca0(0x100)},'presence':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x304),'available','composing',a0_0x5f0ca0(0x104),a0_0x5f0ca0(0x5d9)]}}},W={'type':'string','pattern':a0_0x5f0ca0(0xfa),'description':a0_0x5f0ca0(0x265)},Ea={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'text':{'type':a0_0x5f0ca0(0x612)}},'required':['text'],...E(a0_0x5f0ca0(0x5f0))}},'required':['textMessage',a0_0x5f0ca0(0x57f)]},Ca={'type':a0_0x5f0ca0(0x612),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...Ca},'options':{...K},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x5f0ca0(0x612)}},'required':['text'],...E('text')}},'required':['textMessage',a0_0x5f0ca0(0x57f)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...Ca},'options':{...K},'mediaMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'mediatype':{'type':'string','enum':[a0_0x5f0ca0(0x70d),'document',a0_0x5f0ca0(0x6fd),'audio']},'media':{'type':a0_0x5f0ca0(0x612)},'fileName':{'type':a0_0x5f0ca0(0x612)},'caption':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x2eb),a0_0x5f0ca0(0x465)],...E(a0_0x5f0ca0(0x69d),a0_0x5f0ca0(0x485),'media')}},'required':['mediaMessage',a0_0x5f0ca0(0x57f)]},Ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x70d)],...E('image')}},'required':[a0_0x5f0ca0(0x385),a0_0x5f0ca0(0x57f)]},va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'type':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x5f0),a0_0x5f0ca0(0x70d),a0_0x5f0ca0(0x425),a0_0x5f0ca0(0x6fd)]},'content':{'type':a0_0x5f0ca0(0x612)},'caption':{'type':a0_0x5f0ca0(0x612)},'backgroundColor':{'type':a0_0x5f0ca0(0x612)},'font':{'type':a0_0x5f0ca0(0x3c0),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x5f0ca0(0x4a8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5f0ca0(0x612),'pattern':a0_0x5f0ca0(0x1e9),'description':a0_0x5f0ca0(0x58c)}},'allContacts':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]}},'required':[a0_0x5f0ca0(0x50f),a0_0x5f0ca0(0x25f)],...E(a0_0x5f0ca0(0x50f),a0_0x5f0ca0(0x25f))}},'required':[a0_0x5f0ca0(0x4c6)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'mediatype':{'type':'string','enum':[a0_0x5f0ca0(0x70d),'document',a0_0x5f0ca0(0x6fd),a0_0x5f0ca0(0x425)]},'media':{'type':a0_0x5f0ca0(0x612)},'fileName':{'type':'string'},'caption':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x2eb),a0_0x5f0ca0(0x465)],...E(a0_0x5f0ca0(0x69d),a0_0x5f0ca0(0x485),a0_0x5f0ca0(0x465))}},'required':[a0_0x5f0ca0(0x469),a0_0x5f0ca0(0x57f)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'audio':{'type':a0_0x5f0ca0(0x612)}},'required':['audio'],...E('audio')}},'required':[a0_0x5f0ca0(0x378),'number']},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...W},'pollMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'name':{'type':a0_0x5f0ca0(0x612)},'selectableCount':{'type':a0_0x5f0ca0(0x57f)},'values':{'type':a0_0x5f0ca0(0x4a8),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5f0ca0(0x309),a0_0x5f0ca0(0x216),a0_0x5f0ca0(0x6bf)],...E(a0_0x5f0ca0(0x309),'selectableCount',a0_0x5f0ca0(0x6bf))}},'required':['number',a0_0x5f0ca0(0x490)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...W},'menuMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'text':{'type':a0_0x5f0ca0(0x612)},'choices':{'type':a0_0x5f0ca0(0x4a8),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5f0ca0(0x5f0),a0_0x5f0ca0(0x60c)],...E(a0_0x5f0ca0(0x5f0),'choices')}},'required':['number',a0_0x5f0ca0(0x688)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'title':{'type':a0_0x5f0ca0(0x612)},'description':{'type':a0_0x5f0ca0(0x612)},'footerText':{'type':'string'},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5f0ca0(0x6c6),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x4db),a0_0x5f0ca0(0xff)],...E(a0_0x5f0ca0(0x4db),a0_0x5f0ca0(0xff))}},'mediaMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x5f0ca0(0x612)},'mediatype':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x70d),a0_0x5f0ca0(0x11a),a0_0x5f0ca0(0x6fd)]}},'required':[a0_0x5f0ca0(0x465),'mediatype'],...E(a0_0x5f0ca0(0x465),'fileName')}},'required':[a0_0x5f0ca0(0x2b9),a0_0x5f0ca0(0x573)],...E(a0_0x5f0ca0(0x2b9),a0_0x5f0ca0(0x68d))}},'required':[a0_0x5f0ca0(0x57f),a0_0x5f0ca0(0x277)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'latitude':{'type':a0_0x5f0ca0(0x57f)},'longitude':{'type':a0_0x5f0ca0(0x57f)},'name':{'type':a0_0x5f0ca0(0x612)},'address':{'type':a0_0x5f0ca0(0x612)}},'required':['latitude',a0_0x5f0ca0(0xe6)],...E('name',a0_0x5f0ca0(0x6db))}},'required':[a0_0x5f0ca0(0x57f),a0_0x5f0ca0(0x198)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'title':{'type':a0_0x5f0ca0(0x612)},'description':{'type':a0_0x5f0ca0(0x612)},'footerText':{'type':a0_0x5f0ca0(0x612)},'buttonText':{'type':a0_0x5f0ca0(0x612)},'sections':{'type':a0_0x5f0ca0(0x4a8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5f0ca0(0x6c6),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x5f0ca0(0x4a8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5f0ca0(0x6c6),'properties':{'title':{'type':a0_0x5f0ca0(0x612)},'description':{'type':'string'},'rowId':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x2b9),a0_0x5f0ca0(0x4df)],...E(a0_0x5f0ca0(0x2b9),a0_0x5f0ca0(0x4df))}}},'required':['title',a0_0x5f0ca0(0x333)],...E(a0_0x5f0ca0(0x2b9))}}},'required':[a0_0x5f0ca0(0x2b9),a0_0x5f0ca0(0x68d),a0_0x5f0ca0(0x4db),a0_0x5f0ca0(0x297)],...E(a0_0x5f0ca0(0x2b9),'description',a0_0x5f0ca0(0x4db),a0_0x5f0ca0(0x5e5))}},'required':[a0_0x5f0ca0(0x57f),'listMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':'array','items':{'type':a0_0x5f0ca0(0x6c6),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x5f0ca0(0x612),'minLength':0xa}},'required':[a0_0x5f0ca0(0x63d),a0_0x5f0ca0(0x1a3)],...E(a0_0x5f0ca0(0x63d))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x5f0ca0(0x57f),a0_0x5f0ca0(0x5f7)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'reactionMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'key':{'type':a0_0x5f0ca0(0x6c6),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x5f0ca0(0x6eb)],...E('id',a0_0x5f0ca0(0x3e8))},'reaction':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x72a),a0_0x5f0ca0(0x2f3)],...E('reaction')}},'required':['reactionMessage']},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5f0ca0(0x612),'pattern':a0_0x5f0ca0(0x1e9),'description':a0_0x5f0ca0(0x3a3)}}}},$a={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'readMessages':{'type':a0_0x5f0ca0(0x4a8),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x5f0ca0(0x6eb),a0_0x5f0ca0(0x3e8)],...E('id','remoteJid')}}},'required':[a0_0x5f0ca0(0x383)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':['all','none']},'profile':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x1b7),'contacts','contact_blacklist',a0_0x5f0ca0(0x75a)]},'status':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x1b7),'contacts',a0_0x5f0ca0(0x121),a0_0x5f0ca0(0x75a)]},'online':{'type':a0_0x5f0ca0(0x612),'enum':['all','match_last_seen']},'last':{'type':a0_0x5f0ca0(0x612),'enum':['all',a0_0x5f0ca0(0x24c),a0_0x5f0ca0(0x121),a0_0x5f0ca0(0x75a)]},'groupadd':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x1b7),a0_0x5f0ca0(0x24c),'contact_blacklist',a0_0x5f0ca0(0x75a)]}},'required':[a0_0x5f0ca0(0x183),a0_0x5f0ca0(0x1cc),'status',a0_0x5f0ca0(0x231),a0_0x5f0ca0(0x684),a0_0x5f0ca0(0xd9)],...E(a0_0x5f0ca0(0x183),a0_0x5f0ca0(0x1cc),a0_0x5f0ca0(0x5ff),a0_0x5f0ca0(0x231),'last',a0_0x5f0ca0(0xd9))}},'required':['privacySettings']},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x5f0ca0(0x6c6),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x5f0ca0(0x612)},'remoteJid':{'type':a0_0x5f0ca0(0x612)},'fromMe':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5f0ca0(0x6eb),'remoteJid'],...E('id',a0_0x5f0ca0(0x3e8))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x5f0ca0(0x72a)],...E(a0_0x5f0ca0(0x648))},'archive':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x5f0ca0(0x175)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'id':{'type':a0_0x5f0ca0(0x612)},'fromMe':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5f0ca0(0x612)},'participant':{'type':a0_0x5f0ca0(0x612)}},'required':['id',a0_0x5f0ca0(0x6eb),a0_0x5f0ca0(0x3e8)],...E('id','remoteJid',a0_0x5f0ca0(0x2e3))},ja={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'where':{'type':a0_0x5f0ca0(0x6c6),'properties':{'_id':{'type':a0_0x5f0ca0(0x612),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...E(a0_0x5f0ca0(0x1f1),'id',a0_0x5f0ca0(0x435))}}},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'name':{'type':'string'}},...E('name')},qa={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'status':{'type':a0_0x5f0ca0(0x612)}},...E(a0_0x5f0ca0(0x5ff))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'number':{'type':'string'},'picture':{'type':'string'}}},Ja={'type':'object','properties':{'wuid':{'type':'string'},'name':{'type':a0_0x5f0ca0(0x612)},'picture':{'type':a0_0x5f0ca0(0x612)},'status':{'type':a0_0x5f0ca0(0x612)},'isBusiness':{'type':a0_0x5f0ca0(0x37d)}}},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x5f0ca0(0x6c6),'properties':{'_id':{'type':a0_0x5f0ca0(0x612),'minLength':0x1},'key':{'type':a0_0x5f0ca0(0x6c6),'if':{'propertyNames':{'enum':[a0_0x5f0ca0(0x6eb),a0_0x5f0ca0(0x3e8),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5f0ca0(0x612),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':'string','minLength':0x1,'description':a0_0x5f0ca0(0x384)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x5f0ca0(0x1f1))},'limit':{'type':a0_0x5f0ca0(0x3c0)}}},ec={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'where':{'type':a0_0x5f0ca0(0x6c6),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':a0_0x5f0ca0(0x612)},'fromMe':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5f0ca0(0x612)},'status':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x3fa),a0_0x5f0ca0(0x6ae),a0_0x5f0ca0(0x712),a0_0x5f0ca0(0x377),a0_0x5f0ca0(0x5fe),a0_0x5f0ca0(0x39f)]}},...E(a0_0x5f0ca0(0x1f1),'remoteJid','id','status')},'limit':{'type':a0_0x5f0ca0(0x3c0)}}},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...W},'presence':{'type':'string','enum':[a0_0x5f0ca0(0x304),a0_0x5f0ca0(0x272),a0_0x5f0ca0(0x44b),a0_0x5f0ca0(0x104),a0_0x5f0ca0(0x5d9)]}},'required':[a0_0x5f0ca0(0x2b7),a0_0x5f0ca0(0x57f)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x5f0ca0(0x612)},'profilePicture':{'type':a0_0x5f0ca0(0x612)},'participants':{'type':a0_0x5f0ca0(0x4a8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5f0ca0(0x612),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x5f0ca0(0x44e)}}},'required':['subject',a0_0x5f0ca0(0x3ae)],...E(a0_0x5f0ca0(0x441),a0_0x5f0ca0(0x68d),a0_0x5f0ca0(0x1c9))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'groupJid':{'type':a0_0x5f0ca0(0x612),'pattern':a0_0x5f0ca0(0x362)}},'required':['groupJid'],...E('groupJid')},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x281),a0_0x5f0ca0(0x74c),a0_0x5f0ca0(0x17e),a0_0x5f0ca0(0x546)]},'participants':{'type':a0_0x5f0ca0(0x4a8),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0x5f0ca0(0x44e)}}},'required':[a0_0x5f0ca0(0x480),'action',a0_0x5f0ca0(0x3ae)],...E(a0_0x5f0ca0(0x480),a0_0x5f0ca0(0x5ef))},za={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x5f0ca0(0x57f),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5f0ca0(0x480),'expiration'],...E(a0_0x5f0ca0(0x480),'expiration')},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'groupJid':{'type':a0_0x5f0ca0(0x612)},'image':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x480),a0_0x5f0ca0(0x70d)],...E(a0_0x5f0ca0(0x480),a0_0x5f0ca0(0x70d))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'groupJid':{'type':a0_0x5f0ca0(0x612)},'description':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x480),a0_0x5f0ca0(0x68d)],...E(a0_0x5f0ca0(0x480),'description')},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x480),a0_0x5f0ca0(0x309)],...E(a0_0x5f0ca0(0x480),'name')},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x5f0ca0(0x612),'enum':[a0_0x5f0ca0(0x1bf),a0_0x5f0ca0(0x45a),'unlocked',a0_0x5f0ca0(0xdd)]}},'required':[a0_0x5f0ca0(0x480),'setting'],...E(a0_0x5f0ca0(0x480),a0_0x5f0ca0(0x209))},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x5f0ca0(0x612)}},'required':[a0_0x5f0ca0(0x464)],...E('inviteCode')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'url':{'type':a0_0x5f0ca0(0x612)},'enabled':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]}},'required':[a0_0x5f0ca0(0x67a),a0_0x5f0ca0(0x1f6)]},tc={'$id':(0x0,C['v4'])(),'type':a0_0x5f0ca0(0x6c6),'properties':{'local_map':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x5f0ca0(0x37d),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x5f0ca0(0x752),a0_0x5f0ca0(0x6c5),a0_0x5f0ca0(0x141),'MESSAGES_SET',a0_0x5f0ca0(0x2a9),a0_0x5f0ca0(0x136),'SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT',a0_0x5f0ca0(0x29b),a0_0x5f0ca0(0x5f1),a0_0x5f0ca0(0x2e4),'CHATS_UPSERT',a0_0x5f0ca0(0x690),a0_0x5f0ca0(0x71c),a0_0x5f0ca0(0x18d),a0_0x5f0ca0(0x403),a0_0x5f0ca0(0x6c4),a0_0x5f0ca0(0x219)],...E('local_map',a0_0x5f0ca0(0x6c5),a0_0x5f0ca0(0x141),a0_0x5f0ca0(0x6fa),'MESSAGES_UPDATE',a0_0x5f0ca0(0x136),'SEND_MESSAGE',a0_0x5f0ca0(0x2ca),a0_0x5f0ca0(0x48d),a0_0x5f0ca0(0x29b),a0_0x5f0ca0(0x5f1),a0_0x5f0ca0(0x2e4),a0_0x5f0ca0(0x107),a0_0x5f0ca0(0x690),a0_0x5f0ca0(0x71c),a0_0x5f0ca0(0x18d),a0_0x5f0ca0(0x403),'GROUPS_UPDATE',a0_0x5f0ca0(0x219))},Qe=class{},Ye=class extends D{[a0_0x5f0ca0(0x548)](_0x349dfd){return Vs(_0x349dfd);}async[a0_0x5f0ca0(0x533)](_0x55b4c1){const _0x95e88f=a0_0x5f0ca0;if(_0x55b4c1[_0x95e88f(0x123)]!==0x0)try{return{'insertCount':(await this[_0x95e88f(0x548)](_0x55b4c1[0x0][_0x95e88f(0x284)])['insertMany']([..._0x55b4c1]))[_0x95e88f(0x123)]};}catch(_0x3fbfe7){return _0x3fbfe7;}}async[a0_0x5f0ca0(0xe2)](_0x4dbaa2,_0x28cc60){const _0x337e2c=a0_0x5f0ca0;try{return{'deletedCount':(await this[_0x337e2c(0x548)](_0x28cc60)[_0x337e2c(0x76c)]({..._0x4dbaa2[_0x337e2c(0x197)]}))[_0x337e2c(0x35f)]};}catch(_0x4a0eb3){return{'error':_0x4a0eb3?.[_0x337e2c(0x59b)]()};}}async['update'](_0x20b01e,_0x40ae82){const _0x4e1d8e=a0_0x5f0ca0;try{if(_0x20b01e[_0x4e1d8e(0x123)]===0x0)return;let _0x4cfa7d=this[_0x4e1d8e(0x548)](_0x40ae82),_0x5bcc94=_0x20b01e[_0x4e1d8e(0x59f)](_0x2127a3=>({'updateOne':{'filter':{'_id':_0x2127a3['_id'],'owner':_0x40ae82},'update':{..._0x2127a3}}})),{modifiedCount:_0x51d2d2}=await _0x4cfa7d[_0x4e1d8e(0x6d6)](_0x5bcc94);return{'insertCount':_0x51d2d2};}catch{return;}}async[a0_0x5f0ca0(0x215)](_0x3aca81,_0x1f77b9){const _0x2afdd5=a0_0x5f0ca0;try{let _0x45736a=this['getContactModelForOwner'](_0x1f77b9),_0x5b3709=A(_0x3aca81[_0x2afdd5(0x197)]);return await _0x45736a[_0x2afdd5(0x215)](_0x5b3709)[_0x2afdd5(0x1e1)](_0x3aca81?.[_0x2afdd5(0x1e1)]??0x0)[_0x2afdd5(0x58f)]();}catch{return[];}}async['findOne'](_0x520a1d,_0x511122){const _0x166582=a0_0x5f0ca0;try{let _0xad5a24=this['getContactModelForOwner'](_0x511122),_0x819ffb=A(_0x520a1d[_0x166582(0x197)]);return await _0xad5a24[_0x166582(0x1f0)](_0x819ffb)[_0x166582(0x58f)]();}catch{return null;}}async['deleteAll'](_0x335df7){const _0x3747c5=a0_0x5f0ca0;try{return await this['getContactModelForOwner'](_0x335df7)[_0x3747c5(0x4a7)]['drop'](),{'success':!0x0};}catch(_0x404fad){return console[_0x3747c5(0x429)](_0x404fad),{'success':!0x1,'error':_0x404fad};}}},Xe=require(a0_0x5f0ca0(0x616)),uc=require(a0_0x5f0ca0(0x453)),hs=new N(a0_0x5f0ca0(0x1af)),U=class{[a0_0x5f0ca0(0x451)](_0x1a08d4,_0x581bd1=!0x0){let _0x32c6dc='/'+_0x1a08d4;return _0x581bd1&&(_0x32c6dc+='/:instanceName'),_0x32c6dc;}async[a0_0x5f0ca0(0xe0)](_0xcf60d9){const _0x1b050d=a0_0x5f0ca0;let {request:_0x5e9087,schema:_0x1b97a7,ClassRef:_0xb51c3f,execute:_0x418373}=_0xcf60d9,_0x31b8f1=new _0xb51c3f(),_0x53aa95=_0x5e9087['body'],_0x2251b9=_0x5e9087[_0x1b050d(0x487)];_0x5e9087?.['query']&&Object['keys'](_0x5e9087['query'])['length']>0x0&&Object['assign'](_0x2251b9,_0x5e9087[_0x1b050d(0x21b)]),_0x5e9087[_0x1b050d(0x26c)][_0x1b050d(0x6ea)]('/instance/create')&&Object[_0x1b050d(0x725)](_0x2251b9,_0x53aa95),Object['assign'](_0x31b8f1,_0x53aa95);let _0x368674=_0x1b97a7?(0x0,Xe[_0x1b050d(0x368)])(_0x31b8f1,_0x1b97a7):{'valid':!0x0,'errors':[]};if(!_0x368674[_0x1b050d(0x47a)]){let _0x41fa27=_0x368674['errors'][_0x1b050d(0x59f)](({property:_0x30211a,stack:_0x3711bb,schema:_0x547397})=>{const _0x13403b=_0x1b050d;let _0x1ef8dd;return _0x547397[_0x13403b(0x68d)]?_0x1ef8dd=_0x547397[_0x13403b(0x68d)]:_0x1ef8dd=_0x3711bb[_0x13403b(0x27a)](_0x13403b(0x521),''),{'property':_0x30211a[_0x13403b(0x27a)](_0x13403b(0x521),''),'message':_0x1ef8dd};});throw hs['error']([..._0x41fa27]),new w(..._0x41fa27);}return await _0x418373(_0x2251b9,_0x31b8f1);}async['groupValidate'](_0x261cf3){const _0x371d6d=a0_0x5f0ca0;let {request:_0x376c10,ClassRef:_0x197539,schema:_0x1eb20b,execute:_0x1a835b}=_0x261cf3,_0x25a98a=_0x376c10[_0x371d6d(0x21b)];if(!_0x25a98a?.['groupJid'])throw new w(_0x371d6d(0x262),_0x371d6d(0x62a));let _0x2d4d67=_0x376c10[_0x371d6d(0x487)],_0x335071=_0x376c10[_0x371d6d(0x735)],_0x3184f1=new _0x197539();Object[_0x371d6d(0x725)](_0x335071,_0x25a98a),Object[_0x371d6d(0x725)](_0x3184f1,_0x335071);let _0x22cf5c=(0x0,Xe[_0x371d6d(0x368)])(_0x3184f1,_0x1eb20b);if(!_0x22cf5c['valid']){let _0x298ce4=_0x22cf5c[_0x371d6d(0x57b)][_0x371d6d(0x59f)](({property:_0x57f0d9,stack:_0x56914d,schema:_0x209d41})=>{const _0x4519ec=_0x371d6d;let _0x24fd1c;return _0x209d41['description']?_0x24fd1c=_0x209d41['description']:_0x24fd1c=_0x56914d[_0x4519ec(0x27a)](_0x4519ec(0x521),''),{'property':_0x57f0d9[_0x4519ec(0x27a)](_0x4519ec(0x521),''),'message':_0x24fd1c};});throw hs[_0x371d6d(0x429)]([..._0x298ce4]),new w(..._0x298ce4);}return await _0x1a835b(_0x2d4d67,_0x3184f1);}async['joinGroupValidate'](_0x5e6f10){const _0x1ff29a=a0_0x5f0ca0;let {request:_0x1a377f,ClassRef:_0x168b54,schema:_0x950236,execute:_0xd45110}=_0x5e6f10,_0x50792a=_0x1a377f['body'];if(!_0x50792a?.[_0x1ff29a(0x464)])throw new w(_0x1ff29a(0x55d),_0x1ff29a(0x437));let _0x46816a=_0x1a377f[_0x1ff29a(0x487)],_0xa630d=_0x1a377f[_0x1ff29a(0x735)],_0x2031c6=new _0x168b54();Object[_0x1ff29a(0x725)](_0xa630d,_0x50792a),Object[_0x1ff29a(0x725)](_0x2031c6,_0xa630d);let _0x5caf2a=(0x0,Xe['validate'])(_0x2031c6,_0x950236);if(!_0x5caf2a['valid']){let _0x3994a0=_0x5caf2a['errors'][_0x1ff29a(0x59f)](({property:_0x528061,stack:_0x128a73,schema:_0x107555})=>{const _0x2ccd8c=_0x1ff29a;let _0x28f40e;return _0x107555[_0x2ccd8c(0x68d)]?_0x28f40e=_0x107555[_0x2ccd8c(0x68d)]:_0x28f40e=_0x128a73[_0x2ccd8c(0x27a)](_0x2ccd8c(0x521),''),{'property':_0x528061[_0x2ccd8c(0x27a)](_0x2ccd8c(0x521),''),'message':_0x28f40e};});throw hs[_0x1ff29a(0x429)]([..._0x3994a0]),new w(..._0x3994a0);}return await _0xd45110(_0x46816a,_0x2031c6);}},S=class{},Nc=new N(a0_0x5f0ca0(0x364)),Ze=class extends U{constructor(..._0x564996){const _0x4709ce=a0_0x5f0ca0;super(),this[_0x4709ce(0x19f)]=(0x0,er[_0x4709ce(0x2e5)])(),this['router'][_0x4709ce(0x4e1)](this[_0x4709ce(0x451)](_0x4709ce(0x259)),..._0x564996,async(_0x2bbf48,_0x1fd685)=>{const _0x2ecee8=_0x4709ce;let _0x56c77e=await this['dataValidate']({'request':_0x2bbf48,'schema':Ba,'ClassRef':je,'execute':(_0x438a76,_0x4cd941)=>_[_0x2ecee8(0x259)](_0x438a76,_0x4cd941)});return _0x1fd685['status'](0xc9)[_0x2ecee8(0x4f9)](_0x56c77e);})['post'](this[_0x4709ce(0x451)](_0x4709ce(0x3df)),..._0x564996,async(_0x4cc388,_0x155597)=>{const _0x23d574=_0x4709ce;let _0x49ccab=await this['dataValidate']({'request':_0x4cc388,'schema':Pa,'ClassRef':Ue,'execute':(_0x1257bb,_0x56a630)=>_['whatsappNumber'](_0x1257bb,_0x56a630)});return _0x155597[_0x23d574(0x5ff)](0xc9)[_0x23d574(0x4f9)](_0x49ccab);})[_0x4709ce(0x4e1)](this['routerPath'](_0x4709ce(0x366)),..._0x564996,async(_0xced8d,_0x2304af)=>{const _0x102ba2=_0x4709ce;let _0x5d139e=await this[_0x102ba2(0xe0)]({'request':_0xced8d,'schema':v,'ClassRef':S,'execute':(_0x249214,_0x5de14d)=>_['editChat'](_0x249214,_0x5de14d)});return _0x2304af[_0x102ba2(0x5ff)](0xc9)['json'](_0x5d139e);})[_0x4709ce(0x58d)](this[_0x4709ce(0x451)](_0x4709ce(0x512)),..._0x564996,async(_0xe3882e,_0x51ef11)=>{const _0x249235=_0x4709ce;let _0x4d46a7=await this['dataValidate']({'request':_0xe3882e,'schema':$a,'ClassRef':Ve,'execute':(_0x2334f4,_0x6e426f)=>_['readMessage'](_0x2334f4,_0x6e426f)});return _0x51ef11[_0x249235(0x5ff)](0xc9)[_0x249235(0x4f9)](_0x4d46a7);})[_0x4709ce(0x58d)](this[_0x4709ce(0x451)](_0x4709ce(0x4e9)),..._0x564996,async(_0xa4fd35,_0x4cdb27)=>{const _0x53fb1b=_0x4709ce;let _0x430aed=await this['dataValidate']({'request':_0xa4fd35,'schema':La,'ClassRef':Be,'execute':(_0x2cf737,_0xf9f9f6)=>_[_0x53fb1b(0x4e9)](_0x2cf737,_0xf9f9f6)});return _0x4cdb27['status'](0xc9)['json'](_0x430aed);})['delete'](this[_0x4709ce(0x451)](_0x4709ce(0x1ce)),..._0x564996,async(_0x491306,_0xb63afd)=>{const _0x44f3f1=_0x4709ce;let _0x5bdeb1=await this['dataValidate']({'request':_0x491306,'schema':Fa,'ClassRef':We,'execute':(_0x12b60d,_0x2700b3)=>_['deleteMessage'](_0x12b60d,_0x2700b3)});return _0xb63afd['status'](0xc9)[_0x44f3f1(0x4f9)](_0x5bdeb1);})[_0x4709ce(0x4e1)](this[_0x4709ce(0x451)]('fetchProfilePictureUrl'),..._0x564996,async(_0x1cc823,_0x3996e8)=>{const _0x4edcb9=_0x4709ce;let _0x491b17=await this[_0x4edcb9(0xe0)]({'request':_0x1cc823,'schema':Se,'ClassRef':be,'execute':(_0x5065e8,_0xe36e5d)=>_[_0x4edcb9(0x740)](_0x5065e8,_0xe36e5d)});return _0x3996e8[_0x4edcb9(0x5ff)](0xc8)['json'](_0x491b17);})[_0x4709ce(0x4e1)](this[_0x4709ce(0x451)](_0x4709ce(0x412)),..._0x564996,async(_0x1a8eb2,_0x4ca5d9)=>{const _0x4721ef=_0x4709ce;let _0x42a193=await this[_0x4721ef(0xe0)]({'request':_0x1a8eb2,'schema':Ja,'ClassRef':be,'execute':(_0x459fb8,_0x592abc)=>_[_0x4721ef(0x412)](_0x459fb8,_0x592abc)});return _0x4ca5d9['status'](0xc8)[_0x4721ef(0x4f9)](_0x42a193);})[_0x4709ce(0x4e1)](this['routerPath'](_0x4709ce(0x566)),..._0x564996,async(_0x1d0a46,_0x536e86)=>{const _0x638e62=_0x4709ce;let _0x4b9ea7=await this[_0x638e62(0xe0)]({'request':_0x1d0a46,'schema':ja,'ClassRef':Qe,'execute':(_0x3326a1,_0x435a55)=>_[_0x638e62(0x595)](_0x3326a1,_0x435a55)});return _0x536e86[_0x638e62(0x5ff)](0xc8)['json'](_0x4b9ea7);})[_0x4709ce(0x4e1)](this['routerPath'](_0x4709ce(0x37e)),..._0x564996,async(_0x1c7f7d,_0x1cfd53)=>{const _0x2d3293=_0x4709ce;let _0x10c160=await this[_0x2d3293(0xe0)]({'request':_0x1c7f7d,'schema':null,'ClassRef':Object,'execute':(_0x350d46,_0x116755)=>_['getBase64FromMediaMessage'](_0x350d46,_0x116755)});return _0x1cfd53[_0x2d3293(0x5ff)](0xc9)[_0x2d3293(0x4f9)](_0x10c160);})['post'](this[_0x4709ce(0x451)](_0x4709ce(0x468)),..._0x564996,async(_0x4e6f39,_0x20a955)=>{const _0x1bb92=_0x4709ce;let _0x36d85a=await this[_0x1bb92(0xe0)]({'request':_0x4e6f39,'schema':Va,'ClassRef':Le,'execute':(_0x30ef03,_0x22216b)=>_['fetchMessages'](_0x30ef03,_0x22216b)});return _0x20a955[_0x1bb92(0x5ff)](0xc8)[_0x1bb92(0x4f9)](_0x36d85a);})[_0x4709ce(0xf5)](this[_0x4709ce(0x451)](_0x4709ce(0x475)),..._0x564996,async(_0x110627,_0x29a99f)=>{const _0x740ad1=_0x4709ce;let _0x5fd073=await this[_0x740ad1(0xe0)]({'request':_0x110627,'schema':null,'ClassRef':S,'execute':_0x28009a=>_['fetchChats'](_0x28009a)});return _0x29a99f['status'](0xc8)[_0x740ad1(0x4f9)](_0x5fd073);})[_0x4709ce(0xf5)](this[_0x4709ce(0x451)](_0x4709ce(0x467)),..._0x564996,async(_0x11899f,_0xe8301)=>{const _0xcdcd18=_0x4709ce;let _0x2a4e71=await this[_0xcdcd18(0xe0)]({'request':_0x11899f,'schema':null,'ClassRef':S,'execute':_0xa632dc=>_[_0xcdcd18(0x20b)](_0xa632dc)});return _0xe8301[_0xcdcd18(0x5ff)](0xc8)['json'](_0x2a4e71);})[_0x4709ce(0x58d)](this[_0x4709ce(0x451)](_0x4709ce(0x40c)),..._0x564996,async(_0x4146c7,_0x16bc17)=>{const _0x3b8f3d=_0x4709ce;let _0xc8237=await this[_0x3b8f3d(0xe0)]({'request':_0x4146c7,'schema':null,'ClassRef':Array,'execute':(_0x204751,_0x14aa67)=>_[_0x3b8f3d(0x40c)](_0x204751,_0x14aa67)});return _0x16bc17[_0x3b8f3d(0x5ff)](0xc8)[_0x3b8f3d(0x4f9)](_0xc8237);})[_0x4709ce(0xf5)](this[_0x4709ce(0x451)](_0x4709ce(0x617)),..._0x564996,async(_0x34f351,_0x23bb46)=>{const _0x2a05bb=_0x4709ce;let _0x4ace36=await this[_0x2a05bb(0xe0)]({'request':_0x34f351,'schema':null,'ClassRef':S,'execute':_0xffc275=>_[_0x2a05bb(0x617)](_0xffc275)});return _0x23bb46[_0x2a05bb(0x5ff)](0xc8)[_0x2a05bb(0x4f9)](_0x4ace36);})['put'](this[_0x4709ce(0x451)](_0x4709ce(0x3d5)),..._0x564996,async(_0x2cf7d3,_0x169e96)=>{const _0x2ee377=_0x4709ce;let _0x265301=await this[_0x2ee377(0xe0)]({'request':_0x2cf7d3,'schema':ka,'ClassRef':Ge,'execute':(_0x2d4aff,_0x2d930f)=>_['updatePrivacySettings'](_0x2d4aff,_0x2d930f)});return _0x169e96[_0x2ee377(0x5ff)](0xc9)['json'](_0x265301);})[_0x4709ce(0x4e1)](this[_0x4709ce(0x451)]('fetchBusinessProfile'),..._0x564996,async(_0x30c26b,_0x1f226b)=>{const _0x2244ac=_0x4709ce;let _0x4ab5ea=await this[_0x2244ac(0xe0)]({'request':_0x30c26b,'schema':Se,'ClassRef':fe,'execute':(_0x500bb5,_0x33bd95)=>_[_0x2244ac(0x28f)](_0x500bb5,_0x33bd95)});return _0x1f226b[_0x2244ac(0x5ff)](0xc8)['json'](_0x4ab5ea);})[_0x4709ce(0x4e1)](this[_0x4709ce(0x451)]('updateProfileName'),..._0x564996,async(_0x49c8a1,_0xa2cfb6)=>{const _0xe01a65=_0x4709ce;let _0x9cb0b=await this['dataValidate']({'request':_0x49c8a1,'schema':Ua,'ClassRef':qe,'execute':(_0x3456f0,_0x58cfc0)=>_[_0xe01a65(0x283)](_0x3456f0,_0x58cfc0)});return _0xa2cfb6['status'](0xc8)[_0xe01a65(0x4f9)](_0x9cb0b);})[_0x4709ce(0x4e1)](this[_0x4709ce(0x451)](_0x4709ce(0x5bb)),..._0x564996,async(_0x5ae5b3,_0x3ebbca)=>{const _0x30012d=_0x4709ce;let _0x778f8e=await this[_0x30012d(0xe0)]({'request':_0x5ae5b3,'schema':qa,'ClassRef':Je,'execute':(_0x52b896,_0x3fed7a)=>_['updateProfileStatus'](_0x52b896,_0x3fed7a)});return _0x3ebbca[_0x30012d(0x5ff)](0xc8)[_0x30012d(0x4f9)](_0x778f8e);})[_0x4709ce(0x58d)](this['routerPath']('updateProfilePicture'),..._0x564996,async(_0x284339,_0x45da58)=>{const _0x3dff8f=_0x4709ce;let _0x575082=await this[_0x3dff8f(0xe0)]({'request':_0x284339,'schema':Se,'ClassRef':fe,'execute':(_0x2d61c9,_0x2d6f73)=>_[_0x3dff8f(0x649)](_0x2d61c9,_0x2d6f73)});return _0x45da58[_0x3dff8f(0x5ff)](0xc8)[_0x3dff8f(0x4f9)](_0x575082);})['delete'](this[_0x4709ce(0x451)](_0x4709ce(0x1fe)),..._0x564996,async(_0x50051c,_0x5dae5d)=>{const _0x26dca0=_0x4709ce;let _0x4a85a4=await this[_0x26dca0(0xe0)]({'request':_0x50051c,'schema':Se,'ClassRef':fe,'execute':(_0x26599b,_0x2109fa)=>_[_0x26dca0(0x1fe)](_0x26599b,_0x2109fa)});return _0x5dae5d['status'](0xc8)['json'](_0x4a85a4);});}},tr=require(a0_0x5f0ca0(0x583)),et=class{},tt=class{},st=class{},at=class{},rt=class{},Q=class{},it=class{},ot=class extends Q{},nt=class extends Q{},ct=class extends U{constructor(..._0xd4a50a){const _0x31af2c=a0_0x5f0ca0;super(),this[_0x31af2c(0x19f)]=(0x0,tr[_0x31af2c(0x2e5)])(),this[_0x31af2c(0x19f)][_0x31af2c(0x4e1)](this[_0x31af2c(0x451)](_0x31af2c(0x427)),..._0xd4a50a,async(_0x32d6c2,_0x42f415)=>{const _0xf9dfd2=_0x31af2c;let _0x170761=await this[_0xf9dfd2(0xe0)]({'request':_0x32d6c2,'schema':Ga,'ClassRef':et,'execute':(_0x14eb4d,_0x2a6706)=>F[_0xf9dfd2(0x3a8)](_0x14eb4d,_0x2a6706)});_0x42f415['status'](0xc9)['json'](_0x170761);})[_0x31af2c(0x58d)](this['routerPath'](_0x31af2c(0x472)),..._0xd4a50a,async(_0xaa834b,_0x4df8f6)=>{const _0x224dba=_0x31af2c;let _0x5f1046=await this[_0x224dba(0x65a)]({'request':_0xaa834b,'schema':Ha,'ClassRef':tt,'execute':(_0x249adb,_0x48fa9c)=>F[_0x224dba(0x472)](_0x249adb,_0x48fa9c)});_0x4df8f6[_0x224dba(0x5ff)](0xc9)[_0x224dba(0x4f9)](_0x5f1046);})[_0x31af2c(0x58d)](this[_0x31af2c(0x451)]('groupDesc'),..._0xd4a50a,async(_0x48ba1f,_0x13f054)=>{const _0x1ef0b6=_0x31af2c;let _0x2e0123=await this[_0x1ef0b6(0x65a)]({'request':_0x48ba1f,'schema':Ka,'ClassRef':st,'execute':(_0x4132ed,_0x285d3c)=>F[_0x1ef0b6(0x365)](_0x4132ed,_0x285d3c)});_0x13f054[_0x1ef0b6(0x5ff)](0xc9)[_0x1ef0b6(0x4f9)](_0x2e0123);})[_0x31af2c(0x58d)](this[_0x31af2c(0x451)]('groupName'),..._0xd4a50a,async(_0x116af8,_0x1cd681)=>{const _0x9975ac=_0x31af2c;let _0x28d84b=await this[_0x9975ac(0x65a)]({'request':_0x116af8,'schema':Qa,'ClassRef':at,'execute':(_0x58e362,_0x3cc902)=>F['groupName'](_0x58e362,_0x3cc902)});_0x1cd681[_0x9975ac(0x5ff)](0xc9)[_0x9975ac(0x4f9)](_0x28d84b);})[_0x31af2c(0x58d)](this['routerPath'](_0x31af2c(0x513)),..._0xd4a50a,async(_0x46b0ee,_0x1f53d2)=>{const _0xbb966d=_0x31af2c;let _0xe98f96=await this[_0xbb966d(0x65a)]({'request':_0x46b0ee,'schema':Ya,'ClassRef':rt,'execute':(_0x47a53b,_0x3f7f9c)=>F['groupSetting'](_0x47a53b,_0x3f7f9c)});_0x1f53d2[_0xbb966d(0x5ff)](0xc9)[_0xbb966d(0x4f9)](_0xe98f96);})[_0x31af2c(0x58d)](this[_0x31af2c(0x451)](_0x31af2c(0x3c6)),..._0xd4a50a,async(_0xcd634e,_0x484e3c)=>{const _0x201a43=_0x31af2c;let _0x51727a=await this['groupValidate']({'request':_0xcd634e,'schema':za,'ClassRef':nt,'execute':(_0x2cffae,_0x32e5f8)=>F[_0x201a43(0x3c6)](_0x2cffae,_0x32e5f8)});_0x484e3c['status'](0xc9)['json'](_0x51727a);})[_0x31af2c(0xf5)](this['routerPath'](_0x31af2c(0x685)),..._0xd4a50a,async(_0x2ef3a8,_0x21fd84)=>{const _0x1ca53f=_0x31af2c;let _0x1e7deb=await this[_0x1ca53f(0x65a)]({'request':_0x2ef3a8,'schema':Ee,'ClassRef':Q,'execute':(_0x5e8bd1,_0x8181b8)=>F[_0x1ca53f(0x213)](_0x5e8bd1,_0x8181b8)});_0x21fd84[_0x1ca53f(0x5ff)](0xc8)[_0x1ca53f(0x4f9)](_0x1e7deb);})['get'](this['routerPath'](_0x31af2c(0x57e)),..._0xd4a50a,async(_0x27289e,_0x1042b6)=>{const _0x1567b5=_0x31af2c;let _0x2106d8=await this['dataValidate']({'request':_0x27289e,'schema':v,'ClassRef':S,'execute':_0x517270=>F[_0x1567b5(0x57e)](_0x517270)});_0x1042b6[_0x1567b5(0x5ff)](0xc8)[_0x1567b5(0x4f9)](_0x2106d8);})['get'](this[_0x31af2c(0x451)](_0x31af2c(0x3ae)),..._0xd4a50a,async(_0x1d8578,_0x2cf348)=>{const _0x594e21=_0x31af2c;let _0x14f57e=await this[_0x594e21(0x65a)]({'request':_0x1d8578,'schema':Ee,'ClassRef':Q,'execute':(_0x4f94be,_0x1497f0)=>F[_0x594e21(0x40e)](_0x4f94be,_0x1497f0)});_0x2cf348[_0x594e21(0x5ff)](0xc8)[_0x594e21(0x4f9)](_0x14f57e);})[_0x31af2c(0xf5)](this[_0x31af2c(0x451)](_0x31af2c(0x464)),..._0xd4a50a,async(_0x1504bb,_0x569e2c)=>{const _0xae6c27=_0x31af2c;let _0x22bce1=await this['groupValidate']({'request':_0x1504bb,'schema':Ee,'ClassRef':Q,'execute':(_0x21a885,_0x43e70d)=>F[_0xae6c27(0x464)](_0x21a885,_0x43e70d)});_0x569e2c['status'](0xc8)[_0xae6c27(0x4f9)](_0x22bce1);})[_0x31af2c(0x58d)](this[_0x31af2c(0x451)]('joinGroup'),..._0xd4a50a,async(_0x9dd9af,_0x2ad460)=>{const _0x1e8797=_0x31af2c;let _0x457377=await this[_0x1e8797(0x5d5)]({'request':_0x9dd9af,'schema':Xa,'ClassRef':it,'execute':(_0x1675ea,_0x179328)=>F[_0x1e8797(0x1f3)](_0x1675ea,_0x179328)});_0x2ad460[_0x1e8797(0x5ff)](0xc9)[_0x1e8797(0x4f9)](_0x457377);})[_0x31af2c(0x58d)](this[_0x31af2c(0x451)](_0x31af2c(0x3a9)),..._0xd4a50a,async(_0x3cadba,_0x441ca2)=>{const _0x1a840d=_0x31af2c;let _0x421b01=await this[_0x1a840d(0x65a)]({'request':_0x3cadba,'schema':Ee,'ClassRef':Q,'execute':(_0x59966d,_0x167d8e)=>F['revokeInviteCode'](_0x59966d,_0x167d8e)});_0x441ca2[_0x1a840d(0x5ff)](0xc9)[_0x1a840d(0x4f9)](_0x421b01);})[_0x31af2c(0x58d)](this[_0x31af2c(0x451)](_0x31af2c(0x677)),..._0xd4a50a,async(_0x31938f,_0x46197e)=>{const _0x43b9d3=_0x31af2c;let _0x2e5f4d=await this[_0x43b9d3(0x65a)]({'request':_0x31938f,'schema':Wa,'ClassRef':ot,'execute':(_0x44f1a1,_0x581565)=>F[_0x43b9d3(0x466)](_0x44f1a1,_0x581565)});_0x46197e[_0x43b9d3(0x5ff)](0xc9)[_0x43b9d3(0x4f9)](_0x2e5f4d);})[_0x31af2c(0xe2)](this[_0x31af2c(0x451)](_0x31af2c(0x1b0)),..._0xd4a50a,async(_0x3a7302,_0x3cd8a1)=>{const _0x1d3d8b=_0x31af2c;let _0x2a1206=await this[_0x1d3d8b(0x65a)]({'request':_0x3a7302,'schema':{},'ClassRef':Q,'execute':(_0x4bed47,_0x3f0d60)=>F[_0x1d3d8b(0x1b0)](_0x4bed47,_0x3f0d60)});_0x3cd8a1['status'](0xc8)[_0x1d3d8b(0x4f9)](_0x2a1206);});}},sr=require(a0_0x5f0ca0(0x583)),lt=class extends U{constructor(_0x1bcbd2,..._0x8fb33b){const _0x36fb32=a0_0x5f0ca0;super(),this[_0x36fb32(0x122)]=_0x1bcbd2,this[_0x36fb32(0x19f)]=(0x0,sr[_0x36fb32(0x2e5)])();let _0x580181=_0x1bcbd2['get'](_0x36fb32(0x1cf));this['router']['post'](_0x36fb32(0x61a),..._0x8fb33b,async(_0x4aeb67,_0x2bb167)=>{const _0x3647a5=_0x36fb32;let {instanceName:_0x425a38,apikey:_0x124679,number:_0x24dbc3}=_0x4aeb67[_0x3647a5(0x735)],_0x4e946a=await ie['createInstance']({'instanceName':_0x425a38,'apikey':_0x124679,'number':_0x24dbc3});return _0x2bb167[_0x3647a5(0x5ff)](0xc9)[_0x3647a5(0x4f9)](_0x4e946a);})[_0x36fb32(0x58d)](this[_0x36fb32(0x451)](_0x36fb32(0x4f4)),..._0x8fb33b,async(_0x12ed8e,_0x5319ea)=>{const _0x5dd4aa=_0x36fb32;let _0xe52c3f=await this['dataValidate']({'request':_0x12ed8e,'schema':v,'ClassRef':S,'execute':_0x3c9cc7=>ie[_0x5dd4aa(0x2ff)](_0x3c9cc7)});return _0x5319ea[_0x5dd4aa(0x5ff)](0xc8)[_0x5dd4aa(0x4f9)](_0xe52c3f);})['get'](this[_0x36fb32(0x451)]('connect'),..._0x8fb33b,async(_0x2070fb,_0x587a6e)=>{const _0x4fe253=_0x36fb32;let _0x2ff7af=await this[_0x4fe253(0xe0)]({'request':_0x2070fb,'schema':v,'ClassRef':S,'execute':_0x198551=>ie[_0x4fe253(0x4ac)](_0x198551)});return _0x587a6e[_0x4fe253(0x5ff)](0xc8)['json'](_0x2ff7af);})['get'](this[_0x36fb32(0x451)](_0x36fb32(0x540)),..._0x8fb33b,async(_0x353056,_0x30b447)=>{const _0x52f827=_0x36fb32;let _0x3fb695=await this['dataValidate']({'request':_0x353056,'schema':v,'ClassRef':S,'execute':_0x3e6974=>ie[_0x52f827(0x540)](_0x3e6974)});return _0x30b447[_0x52f827(0x5ff)](0xc8)[_0x52f827(0x4f9)](_0x3fb695);})[_0x36fb32(0xf5)](this['routerPath']('fetchInstances',!0x1),..._0x8fb33b,async(_0x4f2236,_0x6efcee)=>{const _0x542fdc=_0x36fb32;let _0x47dfbd=await this[_0x542fdc(0xe0)]({'request':_0x4f2236,'schema':null,'ClassRef':S,'execute':_0x4dba98=>ie[_0x542fdc(0x419)](_0x4dba98)});return _0x6efcee[_0x542fdc(0x5ff)](0xc8)[_0x542fdc(0x4f9)](_0x47dfbd);})[_0x36fb32(0xe2)](this[_0x36fb32(0x451)](_0x36fb32(0x750)),..._0x8fb33b,async(_0x375382,_0x35876c)=>{const _0xe17437=_0x36fb32;let _0x54c5b4=await this[_0xe17437(0xe0)]({'request':_0x375382,'schema':v,'ClassRef':S,'execute':_0x203ab7=>ie[_0xe17437(0x750)](_0x203ab7)});return _0x35876c[_0xe17437(0x5ff)](0xc8)[_0xe17437(0x4f9)](_0x54c5b4);})[_0x36fb32(0xe2)](this[_0x36fb32(0x451)](_0x36fb32(0xe2)),..._0x8fb33b,async(_0xababd3,_0x52e487)=>{const _0x566cbf=_0x36fb32;let _0x333235=await this[_0x566cbf(0xe0)]({'request':_0xababd3,'schema':v,'ClassRef':S,'execute':_0x388776=>ie[_0x566cbf(0x671)](_0x388776)});return _0x52e487[_0x566cbf(0x5ff)](0xc8)[_0x566cbf(0x4f9)](_0x333235);});}},ar=require('express'),gs=class{},G=class extends gs{},ut=class extends G{},dt=class extends G{},pt=class extends G{},ht=class extends G{},Ce=class extends G{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},yt=class extends G{},bt=class{},St=class extends U{constructor(..._0x23e952){const _0x3a52c6=a0_0x5f0ca0;super(),this[_0x3a52c6(0x19f)]=(0x0,ar[_0x3a52c6(0x2e5)])(),this[_0x3a52c6(0x19f)][_0x3a52c6(0x4e1)](this[_0x3a52c6(0x451)]('sendText'),..._0x23e952,async(_0x358b82,_0x4bef3b)=>{const _0x3a9a25=_0x3a52c6;let _0x470f2b=await this[_0x3a9a25(0xe0)]({'request':_0x358b82,'schema':Ea,'ClassRef':ut,'execute':(_0x4a2bd5,_0x281690)=>B['sendText'](_0x4a2bd5,_0x281690)});return _0x4bef3b[_0x3a9a25(0x5ff)](0xc9)['json'](_0x470f2b);})[_0x3a52c6(0x4e1)](this[_0x3a52c6(0x451)](_0x3a52c6(0x204)),..._0x23e952,async(_0x5085da,_0x3094d6)=>{const _0x11a654=_0x3a52c6;let _0x447eac=await this[_0x11a654(0xe0)]({'request':_0x5085da,'schema':Na,'ClassRef':Ce,'execute':(_0x50e643,_0x4a864e)=>B['sendMedia'](_0x50e643,_0x4a864e)});return _0x3094d6[_0x11a654(0x5ff)](0xc9)['json'](_0x447eac);})[_0x3a52c6(0x4e1)](this['routerPath'](_0x3a52c6(0x603)),..._0x23e952,async(_0x403046,_0x4ee031)=>{const _0x4ea7d5=_0x3a52c6;let _0x301a78=await this['dataValidate']({'request':_0x403046,'schema':Oa,'ClassRef':ht,'execute':(_0x402271,_0x1f2546)=>B['sendMenu'](_0x402271,_0x1f2546)});return _0x4ee031[_0x4ea7d5(0x5ff)](0xc9)[_0x4ea7d5(0x4f9)](_0x301a78);})['post'](this['routerPath'](_0x3a52c6(0x6ac)),..._0x23e952,async(_0x24ce8f,_0x54e55f)=>{const _0x3ff0a9=_0x3a52c6;let _0x5a7bee=await this[_0x3ff0a9(0xe0)]({'request':_0x24ce8f,'schema':Ra,'ClassRef':Ce,'execute':(_0x34181c,_0x3aadad)=>B[_0x3ff0a9(0x6ac)](_0x34181c,_0x3aadad)});return _0x54e55f[_0x3ff0a9(0x5ff)](0xc9)[_0x3ff0a9(0x4f9)](_0x5a7bee);})[_0x3a52c6(0x4e1)](this['routerPath'](_0x3a52c6(0x73b)),..._0x23e952,async(_0xeb623a,_0x303fb5)=>{const _0x2a35fe=_0x3a52c6;let _0x3949a8=await this[_0x2a35fe(0xe0)]({'request':_0xeb623a,'schema':Aa,'ClassRef':mt,'execute':(_0x588d60,_0x1473e2)=>B[_0x2a35fe(0x73b)](_0x588d60,_0x1473e2)});return _0x303fb5[_0x2a35fe(0x5ff)](0xc9)[_0x2a35fe(0x4f9)](_0x3949a8);})[_0x3a52c6(0x4e1)](this['routerPath'](_0x3a52c6(0x500)),..._0x23e952,async(_0x2d8f51,_0x5c9595)=>{const _0x446d20=_0x3a52c6;let _0x538230=await this[_0x446d20(0xe0)]({'request':_0x2d8f51,'schema':Ia,'ClassRef':ft,'execute':(_0x1998ed,_0x2b6986)=>B['sendLocation'](_0x1998ed,_0x2b6986)});return _0x5c9595[_0x446d20(0x5ff)](0xc9)[_0x446d20(0x4f9)](_0x538230);})[_0x3a52c6(0x4e1)](this[_0x3a52c6(0x451)](_0x3a52c6(0x6c7)),..._0x23e952,async(_0x387840,_0x57e1e5)=>{const _0x551c86=_0x3a52c6;let _0x3381c7=await this[_0x551c86(0xe0)]({'request':_0x387840,'schema':xa,'ClassRef':wt,'execute':(_0x2a050f,_0x2bfe91)=>B[_0x551c86(0x6c7)](_0x2a050f,_0x2bfe91)});return _0x57e1e5[_0x551c86(0x5ff)](0xc9)[_0x551c86(0x4f9)](_0x3381c7);})[_0x3a52c6(0x4e1)](this[_0x3a52c6(0x451)](_0x3a52c6(0x4af)),..._0x23e952,async(_0x446409,_0x3c92e4)=>{const _0x5d269e=_0x3a52c6;let _0x2b21ba=await this[_0x5d269e(0xe0)]({'request':_0x446409,'schema':Da,'ClassRef':yt,'execute':(_0x1eb24a,_0x265abd)=>B[_0x5d269e(0x4af)](_0x1eb24a,_0x265abd)});return _0x3c92e4[_0x5d269e(0x5ff)](0xc9)[_0x5d269e(0x4f9)](_0x2b21ba);})[_0x3a52c6(0x4e1)](this['routerPath'](_0x3a52c6(0x256)),..._0x23e952,async(_0x49eec9,_0x5c7aad)=>{const _0x18d230=_0x3a52c6;let _0x26cc3c=await this[_0x18d230(0xe0)]({'request':_0x49eec9,'schema':_a,'ClassRef':bt,'execute':(_0x46ac81,_0x229515)=>B[_0x18d230(0x256)](_0x46ac81,_0x229515)});return _0x5c7aad['status'](0xc9)[_0x18d230(0x4f9)](_0x26cc3c);})[_0x3a52c6(0x4e1)](this['routerPath'](_0x3a52c6(0x767)),..._0x23e952,async(_0x19e0cc,_0x389f55)=>{const _0x3eae4e=_0x3a52c6;let _0x49bae2=await this[_0x3eae4e(0xe0)]({'request':_0x19e0cc,'schema':Ta,'ClassRef':pt,'execute':(_0x408f9a,_0x54ae25)=>B[_0x3eae4e(0x767)](_0x408f9a,_0x54ae25)});return _0x389f55['status'](0xc9)[_0x3eae4e(0x4f9)](_0x49bae2);})['post'](this['routerPath'](_0x3a52c6(0x3cf)),..._0x23e952,async(_0x4c2d91,_0x59e477)=>{const _0x12e5df=_0x3a52c6;let _0x31723f=await this[_0x12e5df(0xe0)]({'request':_0x4c2d91,'schema':va,'ClassRef':dt,'execute':(_0x335b75,_0x17644b)=>B[_0x12e5df(0x3cf)](_0x335b75,_0x17644b)});return _0x59e477[_0x12e5df(0x5ff)](0xc9)['json'](_0x31723f);})[_0x3a52c6(0x4e1)](this['routerPath'](_0x3a52c6(0x11c)),..._0x23e952,async(_0x248e64,_0x241813)=>{const _0x18f6ab=_0x3a52c6;let _0x227bd6=await this[_0x18f6ab(0xe0)]({'request':_0x248e64,'schema':Ma,'ClassRef':gt,'execute':(_0x46d6cc,_0x3a6ce9)=>B['sendSticker'](_0x46d6cc,_0x3a6ce9)});return _0x241813[_0x18f6ab(0x5ff)](0xc9)['json'](_0x227bd6);});}},rr=require(a0_0x5f0ca0(0x583)),Et=class{},Ct=class extends U{constructor(..._0x31f13a){const _0x3c4818=a0_0x5f0ca0;super(),this[_0x3c4818(0x19f)]=(0x0,rr[_0x3c4818(0x2e5)])(),this['router'][_0x3c4818(0x4e1)](this['routerPath']('set'),..._0x31f13a,async(_0x418629,_0x8ee4db)=>{const _0x54fb1c=_0x3c4818;let _0x1a8a56=await this[_0x54fb1c(0xe0)]({'request':_0x418629,'schema':Za,'ClassRef':Et,'execute':(_0x301b01,_0x5740c0)=>ms[_0x54fb1c(0x569)](_0x301b01,_0x5740c0)});_0x8ee4db[_0x54fb1c(0x5ff)](0xc9)[_0x54fb1c(0x4f9)](_0x1a8a56);})[_0x3c4818(0xf5)](this[_0x3c4818(0x451)]('find'),..._0x31f13a,async(_0x490f8b,_0x130075)=>{const _0x2f4dc5=_0x3c4818;let _0x26dce6=await this[_0x2f4dc5(0xe0)]({'request':_0x490f8b,'schema':v,'ClassRef':S,'execute':_0x2b0105=>ms[_0x2f4dc5(0x404)](_0x2b0105)});_0x130075[_0x2f4dc5(0x5ff)](0xc8)[_0x2f4dc5(0x4f9)](_0x26dce6);});}},ir=require('express'),y=new N(a0_0x5f0ca0(0x205)),Mt=class extends U{constructor(..._0x271fa7){const _0xbfbab4=a0_0x5f0ca0;super(),this['router']=(0x0,ir[_0xbfbab4(0x2e5)])(),this[_0xbfbab4(0x19f)]['post'](this[_0xbfbab4(0x451)](_0xbfbab4(0x4f7)),..._0x271fa7,async(_0x37550c,_0x1eaba9)=>{const _0x1d8d6f=_0xbfbab4;let _0x5ded75=_0x37550c[_0x1d8d6f(0x735)];y[_0x1d8d6f(0x524)](_0x1d8d6f(0x17b)),y[_0x1d8d6f(0x524)](_0x1d8d6f(0xe8)),y[_0x1d8d6f(0x524)](_0x37550c[_0x1d8d6f(0x735)]);let _0x28dd8c=await this[_0x1d8d6f(0xe0)]({'request':_0x37550c,'schema':v,'ClassRef':S,'execute':_0x35f0dd=>O[_0x1d8d6f(0x5fb)](_0x35f0dd,_0x5ded75)});_0x1eaba9[_0x1d8d6f(0x5ff)](0xc8)[_0x1d8d6f(0x4f9)](_0x28dd8c);})[_0xbfbab4(0xf5)](this['routerPath'](_0xbfbab4(0x4f7)),..._0x271fa7,async(_0x2d80a2,_0x4b012c)=>{const _0x138248=_0xbfbab4;let _0x30ab72=await this['dataValidate']({'request':_0x2d80a2,'schema':v,'ClassRef':S,'execute':_0x174e0a=>O['getScheduleMessage'](_0x174e0a)});_0x4b012c[_0x138248(0x5ff)](0xc8)[_0x138248(0x4f9)](_0x30ab72);})[_0xbfbab4(0xe2)](this[_0xbfbab4(0x451)]('deleteDoneMessages'),..._0x271fa7,async(_0x462f82,_0x55c3a7)=>{const _0x35f6b8=_0xbfbab4;y[_0x35f6b8(0x524)](_0x35f6b8(0x491));let _0x47e874=await this['dataValidate']({'request':_0x462f82,'schema':v,'ClassRef':S,'execute':_0x5581ab=>O[_0x35f6b8(0x5eb)](_0x5581ab)});_0x55c3a7[_0x35f6b8(0x5ff)](0xc8)[_0x35f6b8(0x4f9)](_0x47e874);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x128)),..._0x271fa7,async(_0xb6013,_0x247383)=>{const _0x458634=_0xbfbab4;let _0x27990d=_0xb6013['body'];y[_0x458634(0x524)]('request\x20received\x20in\x20starFlow'),y[_0x458634(0x524)]('request\x20body:\x20'),y[_0x458634(0x524)](_0xb6013[_0x458634(0x735)]);let _0x35bdf7=await this[_0x458634(0xe0)]({'request':_0xb6013,'schema':v,'ClassRef':S,'execute':_0x4543d8=>O[_0x458634(0x128)](_0x4543d8,_0x27990d)});_0x247383[_0x458634(0x5ff)](0xc8)[_0x458634(0x4f9)](_0x35bdf7);})[_0xbfbab4(0xf5)](this[_0xbfbab4(0x451)](_0xbfbab4(0x293)),..._0x271fa7,async(_0x50da78,_0x1ad2b4)=>{const _0x24b964=_0xbfbab4;y[_0x24b964(0x524)]('request\x20received\x20in\x20getAutomateSystem');let _0x2cf7ab=await this['dataValidate']({'request':_0x50da78,'schema':v,'ClassRef':S,'execute':_0x3be8da=>O[_0x24b964(0x293)](_0x3be8da)});_0x1ad2b4[_0x24b964(0x5ff)](0xc8)['json'](_0x2cf7ab);})['get'](this['routerPath'](_0xbfbab4(0x6d0)),..._0x271fa7,async(_0x781de,_0x48ff16)=>{const _0x5042a1=_0xbfbab4;y[_0x5042a1(0x524)](_0x5042a1(0x1ba));let _0xf85f39=await this[_0x5042a1(0xe0)]({'request':_0x781de,'schema':v,'ClassRef':S,'execute':_0x737951=>O[_0x5042a1(0x293)](_0x737951)});_0x48ff16[_0x5042a1(0x5ff)](0xc8)[_0x5042a1(0x4f9)](_0xf85f39);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x14b)),..._0x271fa7,async(_0x3a8742,_0x142515)=>{const _0x30d9a8=_0xbfbab4;let _0x42c562=_0x3a8742[_0x30d9a8(0x735)];y[_0x30d9a8(0x524)]('request\x20received\x20in\x20updateAgent'),y[_0x30d9a8(0x524)](_0x30d9a8(0xe8)),y[_0x30d9a8(0x524)](_0x3a8742[_0x30d9a8(0x735)]);let _0x5e2f65=await this[_0x30d9a8(0xe0)]({'request':_0x3a8742,'schema':v,'ClassRef':S,'execute':_0x3680aa=>O[_0x30d9a8(0x14b)](_0x3680aa,_0x42c562)});_0x142515[_0x30d9a8(0x5ff)](0xc8)[_0x30d9a8(0x4f9)](_0x5e2f65);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x5e2)),..._0x271fa7,async(_0x4c26bb,_0x168193)=>{const _0x3bdc6a=_0xbfbab4;let _0x3fe242=_0x4c26bb[_0x3bdc6a(0x735)];y[_0x3bdc6a(0x524)](_0x3bdc6a(0x44d)),y[_0x3bdc6a(0x524)](_0x3bdc6a(0xe8)),y['verbose'](_0x4c26bb['body']);let _0x53d324=await this[_0x3bdc6a(0xe0)]({'request':_0x4c26bb,'schema':v,'ClassRef':S,'execute':_0x16b7f7=>O['updateCustomFields'](_0x16b7f7,_0x3fe242)});_0x168193[_0x3bdc6a(0x5ff)](0xc8)['json'](_0x53d324);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x174)),..._0x271fa7,async(_0x5604bb,_0x72ca18)=>{const _0x4e74c4=_0xbfbab4;let _0x5bfe04=_0x5604bb[_0x4e74c4(0x735)];y[_0x4e74c4(0x524)](_0x4e74c4(0x2d4)),y[_0x4e74c4(0x524)](_0x4e74c4(0xe8)),y[_0x4e74c4(0x524)](_0x5604bb[_0x4e74c4(0x735)]);let _0x2db1dc=await this['dataValidate']({'request':_0x5604bb,'schema':v,'ClassRef':S,'execute':_0xe126eb=>O[_0x4e74c4(0x174)](_0xe126eb,_0x5bfe04)});_0x72ca18[_0x4e74c4(0x5ff)](0xc8)['json'](_0x2db1dc);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)]('getConversation'),..._0x271fa7,async(_0x650fb9,_0x31cdda)=>{const _0x42d0df=_0xbfbab4;let _0x44bd94=_0x650fb9[_0x42d0df(0x735)];y['verbose'](_0x42d0df(0x45d)),y[_0x42d0df(0x524)](_0x42d0df(0xe8)),y[_0x42d0df(0x524)](_0x650fb9['body']);let _0x544a79=await this[_0x42d0df(0xe0)]({'request':_0x650fb9,'schema':v,'ClassRef':S,'execute':_0x1af65c=>O[_0x42d0df(0x678)](_0x1af65c,_0x44bd94)});_0x31cdda[_0x42d0df(0x5ff)](0xc8)[_0x42d0df(0x4f9)](_0x544a79);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x6ed)),..._0x271fa7,async(_0x369d1c,_0x4c7fb2)=>{const _0x181f02=_0xbfbab4;let _0x63d1a8=_0x369d1c['body'];y[_0x181f02(0x524)](_0x181f02(0x544)),y[_0x181f02(0x524)](_0x181f02(0xe8)),y['verbose'](_0x369d1c[_0x181f02(0x735)]);let _0x434ea5=await this[_0x181f02(0xe0)]({'request':_0x369d1c,'schema':v,'ClassRef':S,'execute':_0x27c55f=>O[_0x181f02(0x6ed)](_0x27c55f,_0x63d1a8)});_0x4c7fb2['status'](0xc8)['json'](_0x434ea5);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x4fc)),..._0x271fa7,async(_0x221dc9,_0x5cc217)=>{const _0x3021ae=_0xbfbab4;let _0xe6ba70=_0x221dc9['body'];y[_0x3021ae(0x524)](_0x3021ae(0x5fa)),y[_0x3021ae(0x524)]('request\x20body:\x20'),y['verbose'](_0x221dc9['body']);let _0xa6387f=await this[_0x3021ae(0xe0)]({'request':_0x221dc9,'schema':v,'ClassRef':S,'execute':_0x132196=>O['editConversation'](_0x132196,_0xe6ba70)});_0x5cc217[_0x3021ae(0x5ff)](0xc8)[_0x3021ae(0x4f9)](_0xa6387f);})[_0xbfbab4(0xe2)](this[_0xbfbab4(0x451)](_0xbfbab4(0x734)),..._0x271fa7,async(_0x4ec534,_0x57fdd9)=>{const _0x2b6f69=_0xbfbab4;let _0x5e364d=_0x4ec534[_0x2b6f69(0x735)];y['verbose'](_0x2b6f69(0x432)),y['verbose'](_0x2b6f69(0xe8)),y[_0x2b6f69(0x524)](_0x4ec534['body']);let _0x3ab452=await this['dataValidate']({'request':_0x4ec534,'schema':v,'ClassRef':S,'execute':_0x5995a4=>O['deleteConversation'](_0x5995a4,_0x5e364d)});_0x57fdd9[_0x2b6f69(0x5ff)](0xc8)['json'](_0x3ab452);})[_0xbfbab4(0x4e1)](this['routerPath'](_0xbfbab4(0x2f7)),..._0x271fa7,async(_0x530dc8,_0x48f454)=>{const _0x28c342=_0xbfbab4;let _0x178e9b=_0x530dc8[_0x28c342(0x735)];y[_0x28c342(0x524)](_0x28c342(0x488)),y[_0x28c342(0x524)](_0x28c342(0xe8)),y[_0x28c342(0x524)](_0x530dc8[_0x28c342(0x735)]);let _0xa550d3=await this[_0x28c342(0xe0)]({'request':_0x530dc8,'schema':v,'ClassRef':S,'execute':_0x2b9431=>O[_0x28c342(0x18e)](_0x2b9431,_0x178e9b)});_0x48f454[_0x28c342(0x5ff)](0xc8)[_0x28c342(0x4f9)](_0xa550d3);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x3ac)),..._0x271fa7,async(_0x268b49,_0x31aeb9)=>{const _0x56b7bd=_0xbfbab4;let _0x32ecb7=_0x268b49[_0x56b7bd(0x735)];y[_0x56b7bd(0x524)](_0x56b7bd(0x4fe)),y[_0x56b7bd(0x524)](_0x56b7bd(0xe8)),y[_0x56b7bd(0x524)](_0x268b49[_0x56b7bd(0x735)]),delete _0x32ecb7[_0x56b7bd(0xea)],delete _0x32ecb7['variables'],delete _0x32ecb7['groups'],delete _0x32ecb7[_0x56b7bd(0x5e6)];let _0x31e729=await this[_0x56b7bd(0xe0)]({'request':_0x268b49,'schema':v,'ClassRef':S,'execute':_0x3c2a54=>O['editFlow'](_0x3c2a54,_0x32ecb7)});_0x31aeb9[_0x56b7bd(0x5ff)](0xc8)['json'](_0x31e729);})['post'](this[_0xbfbab4(0x451)]('editflowblock'),..._0x271fa7,async(_0x1f5cea,_0x3e69c6)=>{const _0x1c93a2=_0xbfbab4;let _0xaf0a2f=_0x1f5cea[_0x1c93a2(0x735)];y[_0x1c93a2(0x524)](_0x1c93a2(0x4fe)),y['verbose'](_0x1c93a2(0xe8)),y['verbose'](_0x1f5cea[_0x1c93a2(0x735)]);let _0x588249=await this[_0x1c93a2(0xe0)]({'request':_0x1f5cea,'schema':v,'ClassRef':S,'execute':_0x35fedc=>O[_0x1c93a2(0x1d6)](_0x35fedc,_0xaf0a2f)});_0x3e69c6['status'](0xc8)['json'](_0x588249);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x4a4)),..._0x271fa7,async(_0x500ae6,_0x180f05)=>{const _0x2fae18=_0xbfbab4;let _0x5a65af=_0x500ae6[_0x2fae18(0x735)];y['verbose'](_0x2fae18(0x4fe)),y[_0x2fae18(0x524)](_0x2fae18(0xe8)),y['verbose'](_0x500ae6[_0x2fae18(0x735)]);let _0x29c286=await this[_0x2fae18(0xe0)]({'request':_0x500ae6,'schema':v,'ClassRef':S,'execute':_0x4967a7=>O[_0x2fae18(0x3b7)](_0x4967a7,_0x5a65af)});_0x180f05[_0x2fae18(0x5ff)](0xc8)[_0x2fae18(0x4f9)](_0x29c286);})['post'](this[_0xbfbab4(0x451)](_0xbfbab4(0x50d)),..._0x271fa7,async(_0x32a7b3,_0x4eaf10)=>{const _0x14c5f0=_0xbfbab4;let _0x537780=_0x32a7b3[_0x14c5f0(0x735)];y[_0x14c5f0(0x524)](_0x14c5f0(0x4fe)),y[_0x14c5f0(0x524)](_0x14c5f0(0xe8)),y[_0x14c5f0(0x524)](_0x32a7b3[_0x14c5f0(0x735)]);let _0x1eceed=await this[_0x14c5f0(0xe0)]({'request':_0x32a7b3,'schema':v,'ClassRef':S,'execute':_0xde6142=>O[_0x14c5f0(0x397)](_0xde6142,_0x537780)});_0x4eaf10[_0x14c5f0(0x5ff)](0xc8)[_0x14c5f0(0x4f9)](_0x1eceed);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)](_0xbfbab4(0x5b1)),..._0x271fa7,async(_0x5ee294,_0x1a9939)=>{const _0x271f16=_0xbfbab4;let _0x9dd707=_0x5ee294[_0x271f16(0x735)];y['verbose'](_0x271f16(0x620)),y[_0x271f16(0x524)](_0x271f16(0xe8)),y['verbose'](_0x5ee294[_0x271f16(0x735)]);let _0x141467=await this[_0x271f16(0xe0)]({'request':_0x5ee294,'schema':v,'ClassRef':S,'execute':_0x6a04f0=>O[_0x271f16(0x4b3)](_0x6a04f0,_0x9dd707)});_0x1a9939[_0x271f16(0x5ff)](0xc8)[_0x271f16(0x4f9)](_0x141467);})['post'](this['routerPath'](_0xbfbab4(0x347)),..._0x271fa7,async(_0x28a7ad,_0x393e5c)=>{const _0x11a65d=_0xbfbab4;let _0xd989ba=_0x28a7ad[_0x11a65d(0x735)];y[_0x11a65d(0x524)](_0x11a65d(0x3e7)),y[_0x11a65d(0x524)](_0x11a65d(0xe8)),y[_0x11a65d(0x524)](_0x28a7ad[_0x11a65d(0x735)]);let _0x32768a=await this[_0x11a65d(0xe0)]({'request':_0x28a7ad,'schema':v,'ClassRef':S,'execute':_0x42f6c2=>O[_0x11a65d(0x2a5)](_0x42f6c2,_0xd989ba)});_0x393e5c['status'](0xc8)[_0x11a65d(0x4f9)](_0x32768a);})[_0xbfbab4(0x4e1)](this[_0xbfbab4(0x451)]('editflowvariable'),..._0x271fa7,async(_0x244043,_0x17f32f)=>{const _0x450241=_0xbfbab4;let _0x5b64ac=_0x244043['body'];y['verbose'](_0x450241(0x45b)),y['verbose'](_0x450241(0xe8)),y[_0x450241(0x524)](_0x244043[_0x450241(0x735)]);let _0x574911=await this[_0x450241(0xe0)]({'request':_0x244043,'schema':v,'ClassRef':S,'execute':_0x26b4db=>O[_0x450241(0x3f4)](_0x26b4db,_0x5b64ac)});_0x17f32f['status'](0xc8)[_0x450241(0x4f9)](_0x574911);})[_0xbfbab4(0x4e1)](this['routerPath'](_0xbfbab4(0x2ef)),..._0x271fa7,async(_0x57939e,_0x510f22)=>{const _0x5036b6=_0xbfbab4;let _0x3626ff=_0x57939e[_0x5036b6(0x735)];y[_0x5036b6(0x524)](_0x5036b6(0x1f8)),y[_0x5036b6(0x524)]('request\x20body:\x20'),y[_0x5036b6(0x524)](_0x57939e[_0x5036b6(0x735)]);let _0x36b078=await this[_0x5036b6(0xe0)]({'request':_0x57939e,'schema':v,'ClassRef':S,'execute':_0x3f73ce=>O['getFlow'](_0x3f73ce,_0x3626ff)});_0x510f22[_0x5036b6(0x5ff)](0xc8)[_0x5036b6(0x4f9)](_0x36b078);})[_0xbfbab4(0xe2)](this[_0xbfbab4(0x451)](_0xbfbab4(0x6fe)),..._0x271fa7,async(_0x477d64,_0xc5b62d)=>{const _0x105789=_0xbfbab4;let _0x2f6311=_0x477d64[_0x105789(0x735)];y[_0x105789(0x524)](_0x105789(0x2d3)),y[_0x105789(0x524)](_0x105789(0xe8)),y[_0x105789(0x524)](_0x477d64[_0x105789(0x735)]);let _0x452d66=await this[_0x105789(0xe0)]({'request':_0x477d64,'schema':v,'ClassRef':S,'execute':_0x2fbdeb=>O[_0x105789(0x6a8)](_0x2fbdeb,_0x2f6311)});_0xc5b62d[_0x105789(0x5ff)](0xc8)[_0x105789(0x4f9)](_0x452d66);})[_0xbfbab4(0xf5)](this['routerPath'](_0xbfbab4(0x346)),..._0x271fa7,async(_0x292527,_0xa8f79d)=>{const _0x573815=_0xbfbab4;y[_0x573815(0x524)](_0x573815(0x5a0));let _0x47d248=await this[_0x573815(0xe0)]({'request':_0x292527,'schema':v,'ClassRef':S,'execute':_0x21632c=>O[_0x573815(0x36d)](_0x21632c)});_0xa8f79d[_0x573815(0x5ff)](0xc8)[_0x573815(0x4f9)](_0x47d248);});}},lr=T(require('path')),Y={};function or(_0x354e24,_0x17f0bb,_0x7e1108,_0x2613d9){Y[_0x354e24]||(Y[_0x354e24]={}),Y[_0x354e24][_0x17f0bb]={'id':_0x17f0bb,'response':_0x7e1108,'events':_0x2613d9};}function nr(_0x24f76f,_0x14a7fa){!Y[_0x24f76f]||!Y[_0x24f76f][_0x14a7fa]||delete Y[_0x24f76f][_0x14a7fa];}function q(_0x45cacd,_0xdafc3a,_0xbfac0d){const _0x498440=a0_0x5f0ca0;if(!Y[_0x45cacd])return;let _0x71b4cf=_0x498440(0x5ba)+JSON[_0x498440(0x1c7)](_0xbfac0d)+'\x0a\x0a';Object['values'](Y[_0x45cacd])[_0x498440(0x173)](_0xcd5bd1=>{const _0x4b693e=_0x498440;_0xcd5bd1['events'][_0x4b693e(0x6ea)](_0xdafc3a)&&_0xcd5bd1['response'][_0x4b693e(0x238)](_0x71b4cf);});}function cr(){const _0x50d8b0=a0_0x5f0ca0;let _0x5264de={};for(let _0x3dc65a in Y)_0x5264de[_0x3dc65a]=Object['values'](Y[_0x3dc65a])[_0x50d8b0(0x59f)](_0x15279b=>({'id':_0x15279b['id'],'events':_0x15279b[_0x50d8b0(0x5db)]}));return _0x5264de;}var ur=require(a0_0x5f0ca0(0x43b)),ws=require(a0_0x5f0ca0(0x1b5)),fs=class{},li=new ws['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),ui=new ws[(a0_0x5f0ca0(0x37c))]({'_id':{'type':String,'default':a0_0x5f0ca0(0x2e9)},'WebhookGlobal':{'type':li},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=R?.[a0_0x5f0ca0(0x26d)](fs[a0_0x5f0ca0(0x309)],ui,a0_0x5f0ca0(0x489)),di=lr[a0_0x5f0ca0(0x19d)][a0_0x5f0ca0(0xe3)](__dirname,a0_0x5f0ca0(0x55a)),Nt=(0x0,vt[a0_0x5f0ca0(0x2e5)])(),pi=b[a0_0x5f0ca0(0xf5)](a0_0x5f0ca0(0x1cf))[a0_0x5f0ca0(0x261)],te=[fa,wa,Sa[pi]];Nt[a0_0x5f0ca0(0x4da)](a0_0x5f0ca0(0x3e4),vt[a0_0x5f0ca0(0x19d)][a0_0x5f0ca0(0x321)](di))[a0_0x5f0ca0(0xf5)](a0_0x5f0ca0(0x179),async(_0x46f1a0,_0x30b191)=>{const _0x18f891=a0_0x5f0ca0;console[_0x18f891(0x5bd)](_0x18f891(0x35e));let _0x24af8e=_0x46f1a0[_0x18f891(0x487)][_0x18f891(0x4ad)],_0xf79f10=(_0x46f1a0[_0x18f891(0x21b)][_0x18f891(0x5db)]||'')[_0x18f891(0x70e)](','),_0x1c8e30=(0x0,ur['v4'])();console['log'](_0x18f891(0x731),_0x24af8e),console[_0x18f891(0x5bd)](_0x18f891(0x2c9),_0xf79f10);let _0x3a009b=b[_0x18f891(0xf5)](_0x18f891(0x1cf))[_0x18f891(0xec)],_0x15c2ff=_0x46f1a0[_0x18f891(0x21b)][_0x18f891(0x5c5)];if(console[_0x18f891(0x5bd)]('API\x20Key\x20from\x20Request:',_0x15c2ff),_0x3a009b[_0x18f891(0x4ce)]!==_0x15c2ff){console[_0x18f891(0x5bd)](_0x18f891(0x376));try{let _0x1df934=await ue[_0x18f891(0x60d)]['find'](_0x24af8e);if(console['log'](_0x18f891(0x4b9),_0x1df934),!_0x1df934||_0x1df934[_0x18f891(0x5c5)]!==_0x15c2ff)return console[_0x18f891(0x5bd)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x30b191['status'](0x191)[_0x18f891(0x155)](_0x18f891(0x6dd));}catch(_0x5c7f6a){return console['error']('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x5c7f6a),_0x30b191[_0x18f891(0x5ff)](0x191)['send'](_0x18f891(0x42f));}}if(!await ze(_0x24af8e))return _0x30b191['status'](0x194)[_0x18f891(0x155)]('Instância\x20não\x20encontrada.');_0x30b191[_0x18f891(0x132)]('Content-Type',_0x18f891(0x476)),_0x30b191[_0x18f891(0x132)](_0x18f891(0x395),'no-cache'),_0x30b191['setHeader']('Connection','keep-alive'),_0x30b191[_0x18f891(0x484)]();let _0x15a65c='data:\x20'+JSON['stringify']({'info':_0x18f891(0x48c)})+'\x0a\x0a';_0x30b191['write'](_0x15a65c),or(_0x24af8e,_0x1c8e30,_0x30b191,_0xf79f10),_0x46f1a0['on']('close',()=>{const _0x148779=_0x18f891;console[_0x148779(0x5bd)](_0x148779(0x6a6)+_0x24af8e),nr(_0x24af8e,_0x1c8e30);});}),Nt[a0_0x5f0ca0(0xf5)](a0_0x5f0ca0(0x1e0),(_0x3ade90,_0xc3b57d)=>{const _0x35c9dc=a0_0x5f0ca0;let _0x17f010=cr();_0xc3b57d[_0x35c9dc(0x4f9)](_0x17f010);})['get']('/',(_0x170114,_0x67ea30)=>{const _0x1aa602=a0_0x5f0ca0;let _0x3b21a5=b[_0x1aa602(0xf5)](_0x1aa602(0x5e1))['URL'];if(_0x3b21a5){let _0x2bcb9e=encodeURIComponent(''+_0x3b21a5);_0x67ea30[_0x1aa602(0x3b5)](_0x1aa602(0x421)+_0x2bcb9e);return;}let _0x156eb2=b[_0x1aa602(0xf5)]('SSL_CONF'),_0x1adada=_0x156eb2&&_0x156eb2[_0x1aa602(0x5f3)][_0x1aa602(0x70e)]('/')[0x4];if(_0x1adada){let _0x12eeaa=encodeURIComponent(_0x1aa602(0x154)+_0x1adada);_0x67ea30[_0x1aa602(0x3b5)](_0x1aa602(0x421)+_0x12eeaa);}else _0x67ea30[_0x1aa602(0x3b5)](_0x1aa602(0x706));})[a0_0x5f0ca0(0x58d)](a0_0x5f0ca0(0x601),...te,async(_0x48af44,_0x4979ea)=>{const _0x2258e5=a0_0x5f0ca0;try{console[_0x2258e5(0x5bd)](_0x2258e5(0x5b0)),_0x4979ea[_0x2258e5(0x5ff)](0xc8)[_0x2258e5(0x4f9)]({'message':_0x2258e5(0x3ef)}),_0x4979ea['on']('finish',()=>process[_0x2258e5(0x578)](0x0));}catch(_0x3e9393){console['error'](_0x2258e5(0x424),_0x3e9393),_0x4979ea['status'](0x1f4)[_0x2258e5(0x4f9)]({'message':_0x2258e5(0x58e)});}})[a0_0x5f0ca0(0x58d)](a0_0x5f0ca0(0x587),...te,async(_0x304941,_0x16482b)=>{const _0x1169f2=a0_0x5f0ca0;try{let _0x36fa93=_0x304941[_0x1169f2(0x735)];await we[_0x1169f2(0x41a)]({},{'$set':_0x36fa93},{'upsert':!0x0});let _0x57376d=await we[_0x1169f2(0x1f0)]();_0x16482b[_0x1169f2(0x4f9)](_0x57376d);}catch(_0x3d804f){_0x16482b[_0x1169f2(0x5ff)](0x190)[_0x1169f2(0x155)](_0x3d804f[_0x1169f2(0x689)]);}})[a0_0x5f0ca0(0xf5)]('/config',...te,async(_0x1a58f2,_0x34c480)=>{const _0x588467=a0_0x5f0ca0;try{let _0x3edd45=await we['findOne']();if(!_0x3edd45)return _0x34c480['json']({});_0x34c480[_0x588467(0x4f9)](_0x3edd45);}catch(_0x1df1c0){_0x34c480[_0x588467(0x5ff)](0x1f4)[_0x588467(0x155)](_0x1df1c0[_0x588467(0x689)]);}})[a0_0x5f0ca0(0x4da)](a0_0x5f0ca0(0x358),new lt(b,...te)[a0_0x5f0ca0(0x19f)])[a0_0x5f0ca0(0x4da)](a0_0x5f0ca0(0x2a2),new St(...te)['router'])[a0_0x5f0ca0(0x4da)]('/chat',new Ze(...te)[a0_0x5f0ca0(0x19f)])['use'](a0_0x5f0ca0(0x411),new ct(...te)[a0_0x5f0ca0(0x19f)])['use'](a0_0x5f0ca0(0x244),new Ct(...te)[a0_0x5f0ca0(0x19f)])[a0_0x5f0ca0(0x4da)]('/automate',new Mt(...te)[a0_0x5f0ca0(0x19f)]);var w=class{constructor(..._0x322118){const _0x17c0d0=a0_0x5f0ca0;throw{'status':0x190,'error':'Bad\x20Request','message':_0x322118[_0x17c0d0(0x123)]>0x0?_0x322118:void 0x0};}},ee=class{constructor(..._0x55e56d){const _0x1a5ab9=a0_0x5f0ca0;throw{'status':0x191,'error':_0x1a5ab9(0x598),'message':_0x55e56d[_0x1a5ab9(0x123)]>0x0?_0x55e56d:void 0x0};}},H=class{constructor(..._0x11b0e2){const _0x388437=a0_0x5f0ca0;throw{'status':0x193,'error':_0x388437(0x151),'message':_0x11b0e2['length']>0x0?_0x11b0e2:void 0x0};}},k=class{constructor(..._0x162238){const _0xc484e2=a0_0x5f0ca0;throw{'status':0x194,'error':_0xc484e2(0x53d),'message':_0x162238['length']>0x0?_0x162238:void 0x0};}},I=class{constructor(..._0x3aaa20){const _0x47bc42=a0_0x5f0ca0;throw{'status':0x1f4,'error':_0x47bc42(0x19b),'message':_0x3aaa20['length']>0x0?_0x3aaa20:void 0x0};}},de=require(a0_0x5f0ca0(0x4f5));async function ys(_0x58d5f1){const _0x473efc=a0_0x5f0ca0;let _0x18c61b=new N(ys['name']),_0xfbc1ff=R[_0x473efc(0x450)](),_0xec4128=_0xfbc1ff['db'](b[_0x473efc(0xf5)](_0x473efc(0x271))[_0x473efc(0x34c)][_0x473efc(0xef)]+_0x473efc(0x6c0))[_0x473efc(0x4a7)](_0x58d5f1),_0x303db7=async(_0x5dd38f,_0x10d9f9)=>{const _0x133733=_0x473efc;try{return await _0xfbc1ff[_0x133733(0x6cf)](),await _0xec4128['replaceOne']({'_id':_0x10d9f9},JSON[_0x133733(0x2f0)](JSON['stringify'](_0x5dd38f,de[_0x133733(0x537)]['replacer'])),{'upsert':!0x0});}catch{}},_0x5cc7d4=async _0x50c05c=>{const _0x552e35=_0x473efc;try{await _0xfbc1ff['connect']();let _0x41b78e=await _0xec4128[_0x552e35(0x1f0)]({'_id':_0x50c05c}),_0xe14262=JSON['stringify'](_0x41b78e);return JSON[_0x552e35(0x2f0)](_0xe14262,de[_0x552e35(0x537)][_0x552e35(0x39a)]);}catch{}},_0x545e9b=async _0xd0505d=>{const _0x17a17e=_0x473efc;try{return await _0xfbc1ff['connect'](),await _0xec4128[_0x17a17e(0x3b0)]({'_id':_0xd0505d});}catch{}},_0x21c3eb=await _0x5cc7d4(_0x473efc(0x765))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x21c3eb,'keys':{'get':async(_0x1ed95f,_0x2f9975)=>{let _0x5f5daa={};return await Promise['all'](_0x2f9975['map'](async _0x32a544=>{const _0x5aef37=a0_0x2797;let _0x228c08=await _0x5cc7d4(_0x1ed95f+'-'+_0x32a544);_0x1ed95f===_0x5aef37(0x27d)&&_0x228c08&&(_0x228c08=de[_0x5aef37(0x50e)][_0x5aef37(0x69e)]['AppStateSyncKeyData'][_0x5aef37(0x5e9)](_0x228c08)),_0x5f5daa[_0x32a544]=_0x228c08;})),_0x5f5daa;},'set':async _0x1c05cf=>{const _0x195d1b=_0x473efc;let _0x1fa9bc=[];for(let _0x3583fb in _0x1c05cf)for(let _0x4be830 in _0x1c05cf[_0x3583fb]){let _0x144984=_0x1c05cf[_0x3583fb][_0x4be830],_0x41cdb1=_0x3583fb+'-'+_0x4be830;_0x1fa9bc[_0x195d1b(0x181)](_0x144984?_0x303db7(_0x144984,_0x41cdb1):_0x545e9b(_0x41cdb1));}await Promise[_0x195d1b(0x1b7)](_0x1fa9bc);}}},'saveCreds':async()=>_0x303db7(_0x21c3eb,_0x473efc(0x765))};}var Es=T(require(a0_0x5f0ca0(0x5a3))),Cs=T(require(a0_0x5f0ca0(0x13c))),Ot=require(a0_0x5f0ca0(0x4f5)),dr=require(a0_0x5f0ca0(0x17a)),Tt=require(a0_0x5f0ca0(0x4f5)),Rt;function hi(_0x7f5da1){const _0x29c438=a0_0x5f0ca0;return Rt||(Rt=(0x0,dr[_0x29c438(0x6d2)])({'url':_0x7f5da1[_0x29c438(0x273)]}),Rt[_0x29c438(0x6cf)]()),Rt;}var oe=class c{constructor(_0x105ccf,_0x3fb8b1){const _0x213bc5=a0_0x5f0ca0;this[_0x213bc5(0x693)]=_0x105ccf,this[_0x213bc5(0x4b4)]=_0x3fb8b1,this[_0x213bc5(0x5ca)]=new N(c[_0x213bc5(0x309)]),this['client']=hi(_0x105ccf);}set[a0_0x5f0ca0(0x526)](_0x463221){this['instanceName']=_0x463221;}async[a0_0x5f0ca0(0x47d)](){const _0x58207c=a0_0x5f0ca0;try{return await this[_0x58207c(0x5f9)]['sendCommand']([_0x58207c(0x520),this[_0x58207c(0x693)][_0x58207c(0x17c)]+':*']);}catch(_0x1bf3b1){this[_0x58207c(0x5ca)][_0x58207c(0x429)](_0x1bf3b1);}}async[a0_0x5f0ca0(0x2fc)](_0x32618a,_0x572c33){const _0xc6e58b=a0_0x5f0ca0;try{let _0x35712c=JSON['stringify'](_0x572c33,Tt[_0xc6e58b(0x537)][_0xc6e58b(0x163)]);return await this[_0xc6e58b(0x5f9)][_0xc6e58b(0x15a)](this[_0xc6e58b(0x693)][_0xc6e58b(0x17c)]+':'+this[_0xc6e58b(0x4b4)],_0x32618a,_0x35712c);}catch(_0x590980){this[_0xc6e58b(0x5ca)]['error'](_0x590980);}}async[a0_0x5f0ca0(0x676)](){const _0x5321d9=a0_0x5f0ca0;try{let _0x1ce7d2=await this[_0x5321d9(0x5f9)][_0x5321d9(0x6de)](this[_0x5321d9(0x693)]['PREFIX_KEY']+':'+this[_0x5321d9(0x4b4)]);if(_0x1ce7d2){for(let _0xdccb12 in _0x1ce7d2)Object[_0x5321d9(0x5b7)][_0x5321d9(0x445)]['call'](_0x1ce7d2,_0xdccb12)&&(_0x1ce7d2[_0xdccb12]=JSON[_0x5321d9(0x2f0)](_0x1ce7d2[_0xdccb12],Tt[_0x5321d9(0x537)][_0x5321d9(0x39a)]));return _0x1ce7d2;}}catch(_0x3cb58a){this[_0x5321d9(0x5ca)][_0x5321d9(0x429)](_0x3cb58a);}}async[a0_0x5f0ca0(0x3e3)](_0x179d91){const _0x12c7e8=a0_0x5f0ca0;try{let _0x1e11c8=await this[_0x12c7e8(0x5f9)]['hGet'](this['redisEnv']['PREFIX_KEY']+':'+this['instanceName'],_0x179d91);if(_0x1e11c8)return JSON['parse'](_0x1e11c8,Tt[_0x12c7e8(0x537)][_0x12c7e8(0x39a)]);}catch(_0x4b14d3){this[_0x12c7e8(0x5ca)][_0x12c7e8(0x429)](_0x4b14d3);}}async[a0_0x5f0ca0(0x4cf)](_0x420eef){const _0x40da84=a0_0x5f0ca0;try{return await this['client'][_0x40da84(0x623)](this[_0x40da84(0x693)][_0x40da84(0x17c)]+':'+this[_0x40da84(0x4b4)],_0x420eef);}catch(_0x22e954){this['logger'][_0x40da84(0x429)](_0x22e954);}}async[a0_0x5f0ca0(0x3d6)](_0x22f446){const _0x1244df=a0_0x5f0ca0;try{return await this['client'][_0x1244df(0x2bb)](_0x22f446||this[_0x1244df(0x693)][_0x1244df(0x17c)]+':'+this[_0x1244df(0x4b4)]);}catch(_0x284967){this[_0x1244df(0x5ca)][_0x1244df(0x429)](_0x284967);}}};async function bs(_0x1a9e11,_0x5e6967){const _0x3cfe20=a0_0x5f0ca0;let _0x20108b=new N(bs[_0x3cfe20(0x309)]),_0x5ac413=new oe(_0x1a9e11,_0x5e6967),_0x55a3a8=async(_0x370b86,_0x14f02e)=>{const _0x207bc1=_0x3cfe20;try{return await _0x5ac413[_0x207bc1(0x2fc)](_0x14f02e,_0x370b86);}catch(_0x12a812){return _0x20108b['error']({'localError':'writeData','error':_0x12a812});}},_0xd7001e=async _0x3a5f72=>{const _0x337283=_0x3cfe20;try{return await _0x5ac413['readData'](_0x3a5f72);}catch(_0x1e9418){_0x20108b[_0x337283(0x429)]({'readData':_0x337283(0x2fc),'error':_0x1e9418});return;}},_0x105e17=async _0xf75a9=>{const _0x536354=_0x3cfe20;try{return await _0x5ac413[_0x536354(0x4cf)](_0xf75a9);}catch(_0x1308e7){_0x20108b[_0x536354(0x429)]({'readData':_0x536354(0x4cf),'error':_0x1308e7});}},_0x54fdbf=await _0xd7001e(_0x3cfe20(0x765))||(0x0,Ot['initAuthCreds'])();return{'state':{'creds':_0x54fdbf,'keys':{'get':async(_0x2afc88,_0x372fff)=>{const _0x1aab64=_0x3cfe20;let _0x5c0b02={};return await Promise[_0x1aab64(0x1b7)](_0x372fff[_0x1aab64(0x59f)](async _0x573728=>{const _0x68db0f=_0x1aab64;let _0x30ac7f=await _0xd7001e(_0x2afc88+'-'+_0x573728);_0x2afc88==='app-state-sync-key'&&_0x30ac7f&&(_0x30ac7f=Ot['proto']['Message'][_0x68db0f(0xee)]['fromObject'](_0x30ac7f)),_0x5c0b02[_0x573728]=_0x30ac7f;})),_0x5c0b02;},'set':async _0x1a9efb=>{const _0x13d73d=_0x3cfe20;let _0x4072a5=[];for(let _0x449dae in _0x1a9efb)for(let _0x4a481f in _0x1a9efb[_0x449dae]){let _0x20feaf=_0x1a9efb[_0x449dae][_0x4a481f],_0x43b141=_0x449dae+'-'+_0x4a481f;_0x4072a5['push'](_0x20feaf?await _0x55a3a8(_0x20feaf,_0x43b141):await _0x105e17(_0x43b141));}await Promise[_0x13d73d(0x1b7)](_0x4072a5);}}},'saveCreds':async()=>await _0x55a3a8(_0x54fdbf,'creds')};}var L=T(require('fs')),Me=require('uuid'),Dt=T(require(a0_0x5f0ca0(0x577))),_t=require(a0_0x5f0ca0(0x2da)),gi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x5f0ca0(0x29e)](),At=gi[a0_0x5f0ca0(0x70e)]('\x0a')[a0_0x5f0ca0(0x59f)](_0x2bb0e7=>{const _0x251f63=a0_0x5f0ca0;let _0x5c8ef1=_0x2bb0e7[_0x251f63(0x70e)](':'),_0x812a04={'host':_0x5c8ef1[0x0],'port':_0x5c8ef1[0x1],'protocol':_0x251f63(0x71d)};return _0x5c8ef1[_0x251f63(0x123)]===0x4&&(_0x812a04[_0x251f63(0x629)]=_0x5c8ef1[0x2],_0x812a04[_0x251f63(0x6a4)]=_0x5c8ef1[0x3]),_0x812a04;});function pr(_0x4d0cd1){const _0x4007d2=a0_0x5f0ca0;return At[_0x4007d2(0x215)](_0x3b95bf=>_0x3b95bf[_0x4007d2(0x32c)]===_0x4d0cd1)||null;}function hr(){const _0x58ee90=a0_0x5f0ca0;if(At[_0x58ee90(0x123)]===0x0)return null;let _0xb474f5=Math[_0x58ee90(0x267)](Math[_0x58ee90(0x4ea)]()*At[_0x58ee90(0x123)]);return At[_0xb474f5];}function Ss(_0x288a35){const _0x33e9fe=a0_0x5f0ca0;let _0x312342=_0x3f705d=>typeof _0x3f705d==_0x33e9fe(0x612)&&_0x3f705d['length']>0x0,_0x2d3b5f=_0x500406=>{let _0x3b33b9=parseInt(_0x500406,0xa);return!isNaN(_0x3b33b9)&&_0x3b33b9>0x0&&_0x3b33b9<=0xffff;},_0x3cb0b6=_0x55005b=>typeof _0x55005b==_0x33e9fe(0x612)&&_0x55005b[_0x33e9fe(0x123)]>0x0;return _0x288a35&&_0x312342(_0x288a35['host'])&&_0x2d3b5f(_0x288a35[_0x33e9fe(0x390)])&&(!_0x288a35[_0x33e9fe(0x629)]||_0x3cb0b6(_0x288a35['username']))&&(!_0x288a35[_0x33e9fe(0x6a4)]||_0x3cb0b6(_0x288a35[_0x33e9fe(0x6a4)]))&&(_0x288a35[_0x33e9fe(0x52d)]===_0x33e9fe(0x71d)||_0x288a35[_0x33e9fe(0x52d)]===_0x33e9fe(0x21e));}var Ms=require('crypto'),Er=a0_0x5f0ca0(0x4ff),Cr,ne=null,gr=null,Ke=null,mi=0x3,fi=null;async function wi(){const _0x15196e=a0_0x5f0ca0;let _0x27b736=await we['findOne']();ne=_0x27b736?.[_0x15196e(0x766)]??null,fi=_0x27b736?.[_0x15196e(0x62c)]??null,Er=_0x27b736?.[_0x15196e(0x31a)]??'Chrome',Cr=_0x27b736?.[_0x15196e(0x463)]??vs??'uazapi',console[_0x15196e(0x5bd)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x15196e(0x5bd)](_0x27b736);}async function yi(){await wi();}yi();var mr={},X={},ye=class c{constructor(_0x4cc3fb,_0x404c32,_0x4ff56e){const _0x2ef44d=a0_0x5f0ca0;this[_0x2ef44d(0x122)]=_0x4cc3fb,this[_0x2ef44d(0x162)]=_0x404c32,this[_0x2ef44d(0x11e)]=_0x4ff56e,this['AutomateSystem']=null,this[_0x2ef44d(0x5ca)]=new N(c[_0x2ef44d(0x309)]),this[_0x2ef44d(0x4ad)]={},this['localWebhook']={},this[_0x2ef44d(0x37b)]={'state':_0x2ef44d(0x186)},this['storePath']=(0x0,j[_0x2ef44d(0xe3)])(re,_0x2ef44d(0x55a)),this['msgRetryCounterCache']=new Cs[(_0x2ef44d(0x19d))](),this[_0x2ef44d(0x22f)]=new Cs['default'](),this[_0x2ef44d(0x494)]=!0x1,this[_0x2ef44d(0x131)]={'status.instance':_0x2ef44d(0x14d),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x2ef44d(0x21c),'messages.update':_0x2ef44d(0x38e),'send.message':_0x2ef44d(0x21c),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0x2ef44d(0x636),'connection.update':'/wa-connection-update','messages.set':_0x2ef44d(0x21c),'contacts.set':_0x2ef44d(0xfc),'contacts.upsert':'/wa-contacts','contacts.update':_0x2ef44d(0xfc),'presence.update':_0x2ef44d(0x251),'chats.set':_0x2ef44d(0x6c9),'chats.update':_0x2ef44d(0x6c9),'chats.upsert':_0x2ef44d(0x6c9),'chats.delete':_0x2ef44d(0x6c9)},this[_0x2ef44d(0x19a)]=0x0,this[_0x2ef44d(0x199)]=[],this[_0x2ef44d(0x3fd)]=0xa,this[_0x2ef44d(0x4eb)]=0xea60,this[_0x2ef44d(0x5c0)]=!0x1,this[_0x2ef44d(0x1b6)]={'chats.upsert':async(_0x16fd9f,_0x399e59)=>{const _0x1d5c2c=_0x2ef44d;let _0x27f458=[];for await(let _0x51d75b of _0x16fd9f)_0x27f458[_0x1d5c2c(0x181)]({'_id':_0x51d75b['id'],'owner':this[_0x1d5c2c(0x4ad)]['wuid'],'group':_0x51d75b['id'][_0x1d5c2c(0x5d7)](_0x1d5c2c(0x29d)),'name':_0x51d75b[_0x1d5c2c(0x309)]||_0x51d75b[_0x1d5c2c(0x3cc)]||null,'contactname':null,'lastmsg':_0x51d75b[_0x1d5c2c(0x2d1)]&&_0x51d75b[_0x1d5c2c(0x2d1)][_0x1d5c2c(0x59b)]()['length']<0xd?_0x51d75b[_0x1d5c2c(0x2d1)]*0x3e8:_0x51d75b[_0x1d5c2c(0x2d1)]||null,'archived':_0x51d75b[_0x1d5c2c(0x2c2)]||!0x1,'unreadcount':_0x51d75b['unreadCount']||0x0});this['sendDataWebhook'](_0x1d5c2c(0x106),_0x27f458);},'chats.update':async(_0x4cbbe3,_0x408bb7)=>{const _0x56d25b=_0x2ef44d;for(let _0x4fd7c8 of _0x4cbbe3){let _0x37d4eb={'_id':_0x4fd7c8['id'],'owner':this[_0x56d25b(0x4ad)]['wuid'],'group':_0x4fd7c8['id'][_0x56d25b(0x5d7)]('@g.us'),'name':_0x4fd7c8[_0x56d25b(0x309)]||_0x4fd7c8[_0x56d25b(0x3cc)],'archived':_0x4fd7c8['archived'],'ephemeralExpiration':_0x4fd7c8[_0x56d25b(0x54e)]},_0x461d7c=!0x1,_0xd6fe4b={};_0x37d4eb[_0x56d25b(0x2c2)]!=null&&(this[_0x56d25b(0x5ca)]['verbose'](this[_0x56d25b(0x4b4)]+'\x20('+this[_0x56d25b(0x4ad)][_0x56d25b(0x618)]+_0x56d25b(0x3b4)+_0x4fd7c8[_0x56d25b(0x2c2)]),_0x461d7c=!0x0,_0xd6fe4b[_0x56d25b(0x2c2)]=_0x4fd7c8[_0x56d25b(0x2c2)]),_0x4fd7c8[_0x56d25b(0x309)]!=null&&(this[_0x56d25b(0x5ca)][_0x56d25b(0x524)](this[_0x56d25b(0x4b4)]+'\x20('+this[_0x56d25b(0x4ad)][_0x56d25b(0x618)]+_0x56d25b(0x605)+_0x4fd7c8[_0x56d25b(0x309)]),_0x461d7c=!0x0,_0xd6fe4b[_0x56d25b(0x309)]=_0x4fd7c8[_0x56d25b(0x309)]),_0x4fd7c8['displayName']!=null&&(this[_0x56d25b(0x5ca)]['verbose'](this[_0x56d25b(0x4b4)]+'\x20('+this[_0x56d25b(0x4ad)][_0x56d25b(0x618)]+_0x56d25b(0x3da)+_0x4fd7c8[_0x56d25b(0x3cc)]),_0x461d7c=!0x0,_0xd6fe4b['name']=_0x4fd7c8[_0x56d25b(0x3cc)]);let _0xc4ff05;_0x461d7c&&(_0xc4ff05=await this[_0x56d25b(0x11e)][_0x56d25b(0x42c)]['updateOne']({'where':{'_id':_0x4fd7c8['id']}},_0xd6fe4b,this['instance'][_0x56d25b(0x618)])),_0xc4ff05&&q(this[_0x56d25b(0x4b4)],'chats',{'chat':_0xc4ff05});}},'chats.delete':async _0x133eb1=>{const _0x2624c5=_0x2ef44d;this[_0x2624c5(0x763)]('chats.delete',[..._0x133eb1]);}},this[_0x2ef44d(0x10c)]={'contacts.upsert':async(_0x71d622,_0x1c4305)=>{const _0x2a10b4=_0x2ef44d;let _0x3d4ec4=await this[_0x2a10b4(0x11e)][_0x2a10b4(0x187)][_0x2a10b4(0x215)]({'where':{}},this[_0x2a10b4(0x4ad)]['wuid']),_0x1203bf=[];for await(let _0x578424 of _0x71d622)_0x3d4ec4[_0x2a10b4(0x215)](_0x1fead2=>_0x1fead2['_id']===_0x578424['id'])||_0x1203bf[_0x2a10b4(0x181)]({'_id':_0x578424['id'],'pushName':_0x578424?.[_0x2a10b4(0x309)]||_0x578424?.[_0x2a10b4(0x2a0)],'owner':this[_0x2a10b4(0x4ad)][_0x2a10b4(0x618)]});this['sendDataWebhook']('contacts.upsert',_0x1203bf),await this['repository']['contact'][_0x2a10b4(0x533)](_0x1203bf);},'contacts.update':async(_0x1abbf8,_0x259b45)=>{const _0x2fb675=_0x2ef44d;let _0x4d9458=[];for await(let _0x254aff of _0x1abbf8)_0x4d9458[_0x2fb675(0x181)]({'_id':_0x254aff['id'],'pushName':_0x254aff?.[_0x2fb675(0x309)]??_0x254aff?.[_0x2fb675(0x2a0)],'owner':this[_0x2fb675(0x4ad)][_0x2fb675(0x618)]});this[_0x2fb675(0x763)](_0x2fb675(0x348),_0x4d9458);}},this[_0x2ef44d(0x5dd)]={'messaging-history.set':async({messages:_0x5c0185,chats:_0x5017e5,isLatest:_0x5b2b7c},_0x442b9f)=>{const _0x151410=_0x2ef44d;if(_0x5b2b7c){let _0x5412d2=await Promise['all'](_0x5017e5['map'](async _0x4b8b7e=>({'_id':_0x4b8b7e['id'],'owner':this[_0x151410(0x4ad)][_0x151410(0x618)],'group':_0x4b8b7e['id'][_0x151410(0x5d7)](_0x151410(0x29d)),'name':_0x4b8b7e['name']||_0x4b8b7e['displayName']||null,'contactname':null,'lastmsg':_0x4b8b7e[_0x151410(0x2d1)]&&_0x4b8b7e[_0x151410(0x2d1)][_0x151410(0x59b)]()['length']<0xd?_0x4b8b7e[_0x151410(0x2d1)]*0x3e8:_0x4b8b7e[_0x151410(0x2d1)]||null,'archived':_0x4b8b7e['archived']||!0x1,'unreadcount':_0x4b8b7e[_0x151410(0x558)]||0x0})));this[_0x151410(0x763)](_0x151410(0x6aa),_0x5412d2),await this[_0x151410(0x4cc)](_0x5412d2,_0x442b9f);}let _0x4f6e3d=[],_0x43fdfd=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4ca274]of Object[_0x151410(0x4d4)](_0x5c0185)){if(_0x4ca274[_0x151410(0x689)]?.[_0x151410(0x457)]||_0x4ca274['message']?.['senderKeyDistributionMessage']||!_0x4ca274[_0x151410(0x689)]||_0x4ca274['key'][_0x151410(0x3e8)]===_0x151410(0x381)||(Es[_0x151410(0x19d)][_0x151410(0x63f)](_0x4ca274?.[_0x151410(0x648)])&&(_0x4ca274['messageTimestamp']=_0x4ca274['messageTimestamp']?.[_0x151410(0x3b8)]()),_0x4ca274[_0x151410(0x648)]&&_0x4ca274['messageTimestamp'][_0x151410(0x59b)]()[_0x151410(0x123)]<0xd&&(_0x4ca274[_0x151410(0x648)]=_0x4ca274[_0x151410(0x648)]*0x3e8),_0x4ca274[_0x151410(0x648)]<_0x43fdfd))continue;let _0x3950df=(0x0,g[_0x151410(0x3ab)])(_0x4ca274[_0x151410(0x689)]),_0x2d081d=(0x0,g[_0x151410(0x4c9)])(_0x3950df),{message_normalized:_0x1e3db1}=this['normalizeMessage'](_0x3950df,_0x2d081d,null);Object[_0x151410(0x520)](_0x1e3db1)[_0x151410(0x123)]>0x0&&_0x4f6e3d[_0x151410(0x181)]({'_id':_0x4ca274[_0x151410(0x72a)]['id'],'key':_0x4ca274[_0x151410(0x72a)],'pushName':_0x4ca274[_0x151410(0x435)],'participant':_0x4ca274[_0x151410(0x2e3)],'message':_0x3950df,'messageType':_0x2d081d,'message_normalized':{'key':_0x4ca274['key'],'pushName':_0x4ca274[_0x151410(0x435)],'messageTimestamp':_0x4ca274[_0x151410(0x648)],..._0x1e3db1},'messageTimestamp':_0x4ca274[_0x151410(0x648)],'owner':this['instance'][_0x151410(0x618)]});}_0x442b9f['ENABLED']&&_0x4f6e3d[_0x151410(0x123)]>0x0&&(this[_0x151410(0x5ca)]['verbose'](this['instanceName']+'\x20('+this[_0x151410(0x4ad)]['wuid']+_0x151410(0x543)+_0x4f6e3d[_0x151410(0x123)]+_0x151410(0x60f)+this[_0x151410(0x4ad)][_0x151410(0x618)]+_0x151410(0x40d)),await this[_0x151410(0x11e)]['message'][_0x151410(0x533)]([..._0x4f6e3d],this['instance'][_0x151410(0x618)])),this[_0x151410(0x763)](_0x151410(0x76b),[..._0x4f6e3d]),_0x5c0185=void 0x0;},'messages.upsert':async({messages:_0x260a78,type:_0x1d61fa},_0x516a16)=>{const _0x4550b3=_0x2ef44d;let _0x176e6b=_0x260a78[0x0],_0x48edbd=_0x176e6b['key']['id'],_0x4493ba=_0x176e6b[_0x4550b3(0x2f9)]===0x2,_0x36e1b3=0xa;if(this[_0x4550b3(0xe9)]?.[_0x4550b3(0x458)]&&_0x176e6b[_0x4550b3(0x72a)][_0x4550b3(0x3e8)]['includes'](_0x4550b3(0x29d))){this['logger'][_0x4550b3(0x524)](this['instanceName']+'\x20('+this[_0x4550b3(0x4ad)]['wuid']+_0x4550b3(0x41d));return;}if(_0x4493ba){if(X[_0x48edbd]||(X[_0x48edbd]=0x0),X[_0x48edbd]++,this[_0x4550b3(0x5ca)][_0x4550b3(0x429)](this[_0x4550b3(0x4b4)]+'\x20('+this[_0x4550b3(0x4ad)]['wuid']+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x176e6b[_0x4550b3(0x72a)][_0x4550b3(0x3e8)]+'\x20e\x20ID='+_0x48edbd+':\x20'+X[_0x48edbd]+'/'+_0x36e1b3),X[_0x48edbd]===Math[_0x4550b3(0x267)](_0x36e1b3/0x2)&&this[_0x4550b3(0x5f9)]['uploadPreKeys'](),X[_0x48edbd]>=_0x36e1b3){this['logger'][_0x4550b3(0x429)](this[_0x4550b3(0x4b4)]+'\x20('+this[_0x4550b3(0x4ad)]['wuid']+_0x4550b3(0x13a)+_0x176e6b['key'][_0x4550b3(0x3e8)]+_0x4550b3(0x394)+_0x48edbd+'.');let _0x29c19f={'key':{..._0x176e6b['key']},'message':{'conversation':_0x4550b3(0x6b5)+_0x48edbd+_0x4550b3(0x176)}};_0x176e6b[_0x4550b3(0x72a)][_0x4550b3(0x3e8)][_0x4550b3(0x6ea)](_0x4550b3(0x148))&&this[_0x4550b3(0x5f9)]['ev'][_0x4550b3(0x2b0)](_0x4550b3(0x5b3),{'messages':[_0x29c19f],'type':_0x4550b3(0x3b6)}),delete X[_0x48edbd];}}else X[_0x48edbd]&&(this[_0x4550b3(0x5ca)][_0x4550b3(0x429)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20na\x20'+X[_0x48edbd]+_0x4550b3(0x1fd)+_0x176e6b[_0x4550b3(0x72a)][_0x4550b3(0x3e8)]+_0x4550b3(0x394)+_0x48edbd),delete X[_0x48edbd]);if(_0x1d61fa!==_0x4550b3(0x3b6)||!_0x176e6b?.['message']||_0x176e6b['message']?.[_0x4550b3(0x457)]||_0x176e6b['message'][_0x4550b3(0x10a)]||_0x176e6b['key'][_0x4550b3(0x3e8)]===_0x4550b3(0x381))return;let _0x325015=null,_0x5676f2=null;try{_0x325015=await this[_0x4550b3(0x206)](_0x176e6b),_0x5676f2=_0x325015?_0x325015['join'](','):null;}catch(_0x4f5b20){this['logger'][_0x4550b3(0x524)](this[_0x4550b3(0x4b4)]+'\x20('+this[_0x4550b3(0x4ad)]['wuid']+_0x4550b3(0x543)+(_0x4f5b20 instanceof Error?_0x4f5b20[_0x4550b3(0x689)]:JSON[_0x4550b3(0x1c7)](_0x4f5b20,null,0x2))),_0x5676f2='error\x20get\x20vote';}this[_0x4550b3(0x5f9)][_0x4550b3(0x6c3)](_0x4550b3(0x304)),Es[_0x4550b3(0x19d)][_0x4550b3(0x63f)](_0x176e6b[_0x4550b3(0x648)])&&(_0x176e6b[_0x4550b3(0x648)]=_0x176e6b[_0x4550b3(0x648)]?.[_0x4550b3(0x3b8)]()),_0x176e6b[_0x4550b3(0x648)]&&_0x176e6b['messageTimestamp'][_0x4550b3(0x59b)]()[_0x4550b3(0x123)]<0xd&&(_0x176e6b[_0x4550b3(0x648)]=_0x176e6b[_0x4550b3(0x648)]*0x3e8);let _0x5207a0=_0x176e6b[_0x4550b3(0x689)],_0x44dd5d=(0x0,g[_0x4550b3(0x3ab)])(_0x5207a0),_0x41880f=(0x0,g[_0x4550b3(0x4c9)])(_0x44dd5d),{messageContent:_0x5254c9,message_normalized:_0x36126d}=this[_0x4550b3(0x682)](_0x44dd5d,_0x41880f,_0x5676f2);_0x41880f===_0x4550b3(0x457)&&_0x5254c9?.[_0x4550b3(0x5b5)]&&(_0x41880f=_0x4550b3(0x5b5));let _0x43a71f={'_id':_0x176e6b[_0x4550b3(0x72a)]['id'],'key':_0x176e6b[_0x4550b3(0x72a)],'pushName':_0x176e6b['pushName'],'message':_0x44dd5d,'messageType':_0x41880f,'message_normalized':{'key':_0x176e6b['key'],'pushName':_0x176e6b[_0x4550b3(0x435)],'messageTimestamp':_0x176e6b[_0x4550b3(0x648)],'source':(0x0,g[_0x4550b3(0x3f7)])(_0x176e6b['key']['id']),..._0x36126d},'messageTimestamp':_0x176e6b[_0x4550b3(0x648)],'owner':this[_0x4550b3(0x4ad)]['wuid'],'source':(0x0,g[_0x4550b3(0x3f7)])(_0x176e6b['key']['id'])};_0x5254c9||(console[_0x4550b3(0x429)]('Mensagem\x20não\x20suportada'),this['logger'][_0x4550b3(0x429)](_0x43a71f)),this[_0x4550b3(0x5ca)][_0x4550b3(0x5bd)](this[_0x4550b3(0x4b4)]+'\x20('+this[_0x4550b3(0x4ad)][_0x4550b3(0x618)]+_0x4550b3(0x543)+(_0x43a71f[_0x4550b3(0x72a)]?.['fromMe']?_0x4550b3(0x398):_0x4550b3(0x212))+'\x20['+_0x43a71f[_0x4550b3(0x72a)]?.[_0x4550b3(0x3e8)]['replace'](_0x4550b3(0x148),'')+']\x20('+_0x43a71f[_0x4550b3(0x35b)]+')'),_0x43a71f[_0x4550b3(0x4c0)]?.[_0x4550b3(0x5f0)]&&this['logger'][_0x4550b3(0x5bd)](_0x48edbd+':\x20'+_0x43a71f[_0x4550b3(0x4c0)]?.[_0x4550b3(0x5f0)]),await this[_0x4550b3(0x11e)]['message'][_0x4550b3(0x533)]([_0x43a71f],this[_0x4550b3(0x4ad)][_0x4550b3(0x618)]),this['sendDataWebhook']('messages.upsert',_0x43a71f),q(this[_0x4550b3(0x4b4)],_0x4550b3(0x48a),{'message':_0x43a71f}),_0x176e6b[_0x4550b3(0x72a)]['remoteJid']!==_0x4550b3(0x381)&&await this[_0x4550b3(0x3b3)](_0x516a16,_0x43a71f,_0x4550b3(0x136));},'messages.update':async(_0x2e550,_0x35df4b)=>{const _0x2d2d2f=_0x2ef44d;let _0x202445={0x0:_0x2d2d2f(0x3fa),0x1:_0x2d2d2f(0x6ae),0x2:_0x2d2d2f(0x712),0x3:_0x2d2d2f(0x377),0x4:_0x2d2d2f(0x5fe),0x5:_0x2d2d2f(0x39f)};for await(let {key:_0x999d76,update:_0x38ca3c}of _0x2e550){if(this[_0x2d2d2f(0xe9)]?.[_0x2d2d2f(0x458)]&&_0x999d76['remoteJid'][_0x2d2d2f(0x6ea)](_0x2d2d2f(0x29d))){this['logger'][_0x2d2d2f(0x524)](this[_0x2d2d2f(0x4b4)]+'\x20('+this[_0x2d2d2f(0x4ad)][_0x2d2d2f(0x618)]+_0x2d2d2f(0x4dd));return;}if(_0x999d76['remoteJid']!==_0x2d2d2f(0x381)){let _0x103cde=Date['now'](),_0x3439e8;_0x38ca3c[_0x2d2d2f(0x689)]===null&&_0x38ca3c[_0x2d2d2f(0x5ff)]===void 0x0?_0x3439e8=_0x2d2d2f(0x6d8):_0x3439e8=_0x202445[_0x38ca3c['status']];let _0x6db196=_0x999d76[_0x2d2d2f(0x3e8)][_0x2d2d2f(0x27a)](/:\d{1,2}@/g,'@'),_0x5dd9a0={..._0x999d76,'remoteJid':_0x6db196,'status':_0x3439e8,'datetime':_0x103cde,'owner':this[_0x2d2d2f(0x4ad)][_0x2d2d2f(0x618)]};this[_0x2d2d2f(0x763)](_0x2d2d2f(0x585),_0x5dd9a0),await this['updateMessage'](_0x999d76,_0x5dd9a0);}}},'labels.association':async({type:_0x5a55c8,association:_0x3eb3c5})=>{const _0xd9a3a0=_0x2ef44d;if(_0x3eb3c5[_0xd9a3a0(0x50f)]===_0xd9a3a0(0x3dc)){let _0x8645e0,_0x521144=0x0;for(;!_0x8645e0&&_0x521144<this[_0xd9a3a0(0x1d9)];)_0x8645e0=await this[_0xd9a3a0(0x11e)][_0xd9a3a0(0x42c)][_0xd9a3a0(0x1f0)]({'where':{'_id':_0x3eb3c5[_0xd9a3a0(0x515)]}},this['instance'][_0xd9a3a0(0x618)]),_0x8645e0||(_0x521144++,console[_0xd9a3a0(0x5bd)](_0xd9a3a0(0x214)+_0x3eb3c5[_0xd9a3a0(0x515)]+_0xd9a3a0(0x619)+this[_0xd9a3a0(0x562)]+'ms\x20(Attempt\x20'+_0x521144+'/'+this[_0xd9a3a0(0x1d9)]+')'),await this[_0xd9a3a0(0x692)](this[_0xd9a3a0(0x562)]));if(!_0x8645e0){console[_0xd9a3a0(0x429)](_0xd9a3a0(0x6cd)+_0x3eb3c5[_0xd9a3a0(0x515)]+_0xd9a3a0(0x194)+this[_0xd9a3a0(0x1d9)]+_0xd9a3a0(0x764));return;}switch(_0x5a55c8){case'add':console['log'](_0x3eb3c5),await this[_0xd9a3a0(0x11e)][_0xd9a3a0(0x42c)][_0xd9a3a0(0x41a)]({'where':{'_id':_0x3eb3c5[_0xd9a3a0(0x515)]}},{'leadInfo.etiquetas':_0x3eb3c5[_0xd9a3a0(0x74d)]},this[_0xd9a3a0(0x4ad)][_0xd9a3a0(0x618)],void 0x0,_0xd9a3a0(0x178));break;case _0xd9a3a0(0x74c):console[_0xd9a3a0(0x5bd)](_0x3eb3c5),await this[_0xd9a3a0(0x11e)]['chat'][_0xd9a3a0(0x41a)]({'where':{'_id':_0x3eb3c5['chatId']}},{'leadInfo.etiquetas':_0x3eb3c5[_0xd9a3a0(0x74d)]},this[_0xd9a3a0(0x4ad)][_0xd9a3a0(0x618)],void 0x0,'$pull');break;default:console[_0xd9a3a0(0x429)](_0xd9a3a0(0x49d)+_0x5a55c8+']');}}},'labels.edit':async _0x177e6b=>{const _0x5ee695=_0x2ef44d;if(!_0x177e6b||!_0x177e6b['id']){console[_0x5ee695(0x429)](_0x5ee695(0x3cb));return;}if(!_0x177e6b['deleted']){let _0x15cfbb=[_0x5ee695(0x3e9),'#64c4ff',_0x5ee695(0x6f3),_0x5ee695(0x3c3),_0x5ee695(0x46a),_0x5ee695(0x3f9),_0x5ee695(0x4b8),_0x5ee695(0x172),_0x5ee695(0x3ba),_0x5ee695(0x560),_0x5ee695(0x4a9),_0x5ee695(0x51b),_0x5ee695(0x185),_0x5ee695(0x6b8),_0x5ee695(0x40a),'#83e421','#ffae04',_0x5ee695(0x3d9),_0x5ee695(0x2b6),_0x5ee695(0x314)],_0x468d31;typeof _0x177e6b[_0x5ee695(0x70c)]==_0x5ee695(0x57f)&&_0x177e6b['color']>=0x0&&_0x177e6b[_0x5ee695(0x70c)]<_0x15cfbb[_0x5ee695(0x123)]?_0x468d31=_0x15cfbb[_0x177e6b[_0x5ee695(0x70c)]]:(console[_0x5ee695(0x429)](_0x5ee695(0x665),_0x177e6b[_0x5ee695(0x70c)]),_0x468d31='#000000');let _0x2d3423={'_id':_0x177e6b['id'],'colorHex':_0x468d31,'color':_0x177e6b?.[_0x5ee695(0x70c)],'name':_0x177e6b?.[_0x5ee695(0x309)],'owner':this[_0x5ee695(0x4ad)][_0x5ee695(0x618)]};await this['repository'][_0x5ee695(0x338)][_0x5ee695(0x41a)]({'where':{'_id':_0x177e6b['id']}},_0x2d3423,this[_0x5ee695(0x4ad)]['wuid']),console[_0x5ee695(0x5bd)](_0x5ee695(0x6f5),_0x177e6b);}_0x177e6b[_0x5ee695(0x6f2)]&&(await this[_0x5ee695(0x11e)]['label'][_0x5ee695(0xe2)]({'where':{'_id':_0x177e6b['id']}},this[_0x5ee695(0x4ad)][_0x5ee695(0x618)]),console[_0x5ee695(0x5bd)](_0x5ee695(0x5b6),_0x177e6b['id']));}},this[_0x2ef44d(0x1d5)]={'groups.upsert':_0x213b98=>{const _0x589a7f=_0x2ef44d;this[_0x589a7f(0x763)](_0x589a7f(0x23b),_0x213b98);},'groups.update':_0xd0bc09=>{const _0xcf86e0=_0x2ef44d;this[_0xcf86e0(0x763)](_0xcf86e0(0x53a),_0xd0bc09);},'group-participants.update':_0x146223=>{const _0x13a081=_0x2ef44d;this['sendDataWebhook'](_0x13a081(0x5f8),_0x146223);}},this[_0x2ef44d(0x1d9)]=0x5,this[_0x2ef44d(0x562)]=0x1388,this[_0x2ef44d(0x206)]=async _0xd86cc0=>{const _0x3eb414=_0x2ef44d;if(_0xd86cc0[_0x3eb414(0x689)]?.['pollUpdateMessage']){let _0x5c3689=await this[_0x3eb414(0x5b8)](_0xd86cc0[_0x3eb414(0x689)][_0x3eb414(0x270)][_0x3eb414(0x499)],!0x0);if(_0x5c3689){let _0x6966e2=_0x5c3689[_0x3eb414(0x72a)][_0x3eb414(0x6eb)]?this['instance'][_0x3eb414(0x618)]+_0x3eb414(0x148):_0x5c3689[_0x3eb414(0x72a)][_0x3eb414(0x2e3)]||_0x5c3689[_0x3eb414(0x72a)][_0x3eb414(0x3e8)],_0x13fefb=_0x5c3689[_0x3eb414(0x72a)]['id'],_0x181ef2=_0x5c3689[_0x3eb414(0x689)],_0x3d441f=Buffer[_0x3eb414(0x59c)](_0x181ef2[_0x3eb414(0x2ac)][_0x3eb414(0x742)][_0x3eb414(0x59b)](_0x3eb414(0x391)),_0x3eb414(0x391)),_0x225e53=(0x0,g[_0x3eb414(0x509)])(_0xd86cc0[_0x3eb414(0x689)][_0x3eb414(0x270)][_0x3eb414(0x69f)],{'pollCreatorJid':_0x6966e2,'pollMsgId':_0x13fefb,'pollEncKey':_0x3d441f,'voterJid':_0xd86cc0[_0x3eb414(0x72a)][_0x3eb414(0x6eb)]?this['instance']['wuid']+_0x3eb414(0x148):_0xd86cc0['key'][_0x3eb414(0x3e8)][_0x3eb414(0x5d7)]('g.us')?_0xd86cc0['key'][_0x3eb414(0x2e3)]:_0xd86cc0['key'][_0x3eb414(0x3e8)]}),_0x3be423=[],_0x1faa8e=_0x225e53[_0x3eb414(0x6bc)]['map'](_0x5f2cd5=>Buffer[_0x3eb414(0x59c)](_0x5f2cd5)[_0x3eb414(0x59b)](_0x3eb414(0x391)));for(let {optionName:_0x38b17e}of _0x181ef2[_0x3eb414(0x6f9)]?.[_0x3eb414(0x4a2)]||_0x181ef2[_0x3eb414(0x607)]?.[_0x3eb414(0x4a2)]||_0x181ef2[_0x3eb414(0x5d3)]?.[_0x3eb414(0x4a2)])_0x1faa8e[_0x3eb414(0x254)]((0x0,g[_0x3eb414(0x431)])(Buffer[_0x3eb414(0x59c)](_0x38b17e))[_0x3eb414(0x59b)](_0x3eb414(0x391)))>-0x1&&_0x3be423[_0x3eb414(0x181)](_0x38b17e);return _0x3be423;}}return null;},this['normalizeMessage']=(_0x396e3f,_0xf25aa4,_0x50355b)=>{const _0x5714fb=_0x2ef44d;try{let _0x515409=_0x396e3f?(0x0,g[_0x5714fb(0x46e)])(_0x396e3f)[_0xf25aa4]:void 0x0,_0x513184={},_0x283ccb=null,_0x3c20f=null,_0x5c5e23=null;_0xf25aa4===_0x5714fb(0x457)&&_0x515409?.[_0x5714fb(0x5b5)]&&(_0xf25aa4=(0x0,g[_0x5714fb(0x4c9)])(_0x515409[_0x5714fb(0x5b5)]),_0x283ccb=_0x396e3f[_0x5714fb(0x457)][_0x5714fb(0x72a)]['id'],_0x515409=_0x396e3f[_0x5714fb(0x457)][_0x5714fb(0x5b5)][_0xf25aa4]),_0x396e3f[_0xf25aa4]?.[_0x5714fb(0x473)]?.['stanzaId']&&_0x396e3f[_0xf25aa4]?.[_0x5714fb(0x473)]?.['quotedMessage']&&(_0x3c20f=_0x396e3f[_0xf25aa4][_0x5714fb(0x473)][_0x5714fb(0x590)]),_0x396e3f[_0x5714fb(0x44a)]&&(_0x5c5e23=_0x396e3f[_0x5714fb(0x44a)]['key']['id']);let _0x1a89f9;if(_0x515409&&typeof _0x515409==_0x5714fb(0x6c6)&&_0x5714fb(0x499)in _0x515409&&({pollCreationMessageKey:_0x1a89f9}=_0x515409),_0xf25aa4==='pollCreationMessage'||_0xf25aa4===_0x5714fb(0x5d3)||_0xf25aa4===_0x5714fb(0x607)){let _0x3956ab=_0x515409[_0x5714fb(0x4a2)][_0x5714fb(0x59f)](_0x96de13=>_0x96de13[_0x5714fb(0x20a)])[_0x5714fb(0xe3)]('|');_0x513184[_0x5714fb(0x67b)]=_0x3956ab;}let _0x541345='';if(_0x515409&&(_0x541345+=_0x515409[_0x5714fb(0x309)]?_0x515409[_0x5714fb(0x309)]:'',_0x541345+=_0x515409[_0x5714fb(0x485)]?'\x20'+_0x515409[_0x5714fb(0x485)]:'',_0x541345+=_0x515409[_0x5714fb(0x498)]?'\x20'+_0x515409[_0x5714fb(0x498)]:'',_0x541345+=_0x515409[_0x5714fb(0x3cc)]?'\x20'+_0x515409[_0x5714fb(0x3cc)]:''),_0xf25aa4===_0x5714fb(0x350)){_0x541345=(_0x515409[_0x5714fb(0x2b9)]||'')+'\x0a'+(_0x515409[_0x5714fb(0x68d)]||'')+'\x0a'+(_0x515409[_0x5714fb(0x5e5)]||'');let _0x501708=this['sectionsToString'](_0x515409[_0x5714fb(0x297)]);_0x513184[_0x5714fb(0x67b)]=_0x501708;}if(_0xf25aa4===_0x5714fb(0x5e0)&&(_0x50355b=_0x515409[_0x5714fb(0x2b9)]),_0x515409&&_0x515409[_0x5714fb(0x66e)]){let _0x53846b=this[_0x5714fb(0x2c1)](JSON['stringify'](_0x515409[_0x5714fb(0x66e)],null,0x2));_0x541345=_0x541345+'\x0a'+_0x53846b;}if(_0x515409){let {sections:_0x352537,listType:_0x3cd035,displayName:_0x22f7ad,vcard:_0x53d3cf,contactVcard:_0x939403,name:_0x527bf7,caption:_0x37543a,conversation:_0x2be12e,pollCreationMessageKey:_0x47c72f,footerText:_0x5d2d8d,contentText:_0x5b288e,pageCount:_0x16c219,headerType:_0x591b2a,isAvatar:_0x365818,isAnimated:_0x10bb42,fallbackLc:_0x3268cf,fallbackLg:_0x6b9b8f,namespace:_0xe758d,elementName:_0x22b4d3,localizableParams:_0x262506,viewOnce:_0x20134b,height:_0x4f2674,width:_0x307ab9,key:_0x475240,firstScanLength:_0x4c7f76,firstScanSidecar:_0x14db9a,gifPlayback:_0x43e25b,gifAttribution:_0x47f16a,midQualityFileSha256:_0x5a7d58,scansSidecar:_0x4eedb7,streamingSidecar:_0x4e7b0d,thumbnailHeight:_0x884111,thumbnailWidth:_0x5998b2,thumbnailEncSha256:_0x264a96,thumbnailDirectPath:_0x2c13a5,canonicalUrl:_0x5a35b0,matchedText:_0x1591d1,previewType:_0x3796ac,thumbnailSha256:_0xf34882,deviceListMetadataVersion:_0x43f667,inviteLinkGroupTypeV2:_0x31a97f,interactiveAnnotations:_0x5d9d5f,scanLengths:_0x3b57e6,jpegThumbnail:_0x2ca157,url:_0x348e9f,mediaKeyTimestamp:_0x4f0bb7,waveform:_0x50d6d9,stickerSentTs:_0x42ca1f,firstFrameLength:_0x541594,fileEncSha256:_0xab2980,contextInfo:_0x1ad277,firstFrameSidecar:_0x47cfa3,directPath:_0x4be98a,fileSha256:_0x22f871,mediaKey:_0x419776,senderTimestampMs:_0x3fdae2,..._0x453748}=_0x515409;(_0xf25aa4===_0x5714fb(0x350)||_0xf25aa4===_0x5714fb(0x5e0))&&(delete _0x453748['title'],delete _0x453748[_0x5714fb(0x68d)]),typeof _0x515409==_0x5714fb(0x612)?_0x513184={'text':_0x515409,'type':_0xf25aa4||_0x5714fb(0x498),..._0x283ccb&&{'edited':_0x283ccb},..._0x3c20f&&{'quoted':_0x3c20f},..._0x5c5e23&&{'reaction':_0x5c5e23}}:_0x513184={'text':_0x541345,..._0x453748,..._0xf25aa4===_0x5714fb(0x270)?{'poll_id':_0x515409[_0x5714fb(0x499)]['id'],'quoted':_0x515409[_0x5714fb(0x499)]['id'],'vote':_0x50355b}:{},..._0xf25aa4===_0x5714fb(0x5e0)?{'vote':_0x50355b}:{},'type':_0xf25aa4,..._0x283ccb&&{'edited':_0x283ccb},..._0x3c20f&&{'quoted':_0x3c20f},..._0x5c5e23&&{'reaction':_0x5c5e23},...(_0xf25aa4===_0x5714fb(0x6f9)||_0xf25aa4==='pollCreationMessageV2'||_0xf25aa4==='pollCreationMessageV3'||_0xf25aa4===_0x5714fb(0x350))&&{'convertedOptions':_0x513184[_0x5714fb(0x67b)]}};}return{'messageType':_0xf25aa4,'messageContent':_0x515409,'message_normalized':_0x513184};}catch(_0x4c9fe0){return console[_0x5714fb(0x429)](_0x5714fb(0x3c4),_0x4c9fe0),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x2ef44d(0x3e5)]=null,this['lastSend']=0x0,this[_0x2ef44d(0x6e8)]=null,this[_0x2ef44d(0x4d5)]=null,(this['cleanStore'](),this['instance'][_0x2ef44d(0x138)]={'count':0x0});}set[a0_0x5f0ca0(0x4b4)](_0x319493){const _0x33630c=a0_0x5f0ca0;if(!_0x319493){this[_0x33630c(0x4ad)][_0x33630c(0x309)]=(0x0,wr['v4'])();return;}this['instance']['name']=_0x319493,this[_0x33630c(0x763)](_0x33630c(0x711),{'instance':this['instance']['name'],'status':_0x33630c(0x6ad)});}get[a0_0x5f0ca0(0x4b4)](){const _0x41de61=a0_0x5f0ca0;return this[_0x41de61(0x4ad)][_0x41de61(0x309)];}get[a0_0x5f0ca0(0x618)](){return this['instance']['wuid'];}async['getProfileName'](){const _0x37ae05=a0_0x5f0ca0;let _0x1b83d5=this[_0x37ae05(0x5f9)][_0x37ae05(0x120)]?.[_0x37ae05(0x309)]??this[_0x37ae05(0x5f9)][_0x37ae05(0x120)]?.[_0x37ae05(0x2a0)];if(!_0x1b83d5){if(this[_0x37ae05(0x122)]['get'](_0x37ae05(0x271))[_0x37ae05(0x3bb)]){let _0x32ff4=await R['getClient']()['db'](this[_0x37ae05(0x122)][_0x37ae05(0xf5)](_0x37ae05(0x271))[_0x37ae05(0x34c)][_0x37ae05(0xef)]+_0x37ae05(0x6c0))[_0x37ae05(0x4a7)](this[_0x37ae05(0x4b4)])[_0x37ae05(0x1f0)]({'_id':'creds'});if(_0x32ff4){let _0x2f4546=JSON[_0x37ae05(0x2f0)](JSON[_0x37ae05(0x1c7)](_0x32ff4),g[_0x37ae05(0x537)][_0x37ae05(0x39a)]);_0x1b83d5=_0x2f4546['me']?.[_0x37ae05(0x309)]||_0x2f4546['me']?.[_0x37ae05(0x2a0)];}}else{if((0x0,ve[_0x37ae05(0x43c)])((0x0,j[_0x37ae05(0xe3)])(ge,this[_0x37ae05(0x4b4)],_0x37ae05(0x42a)))){let _0x560d7c=JSON[_0x37ae05(0x2f0)]((0x0,ve[_0x37ae05(0x191)])((0x0,j['join'])(ge,this[_0x37ae05(0x4b4)],_0x37ae05(0x42a)),{'encoding':_0x37ae05(0x13d)}));_0x1b83d5=_0x560d7c['me']?.[_0x37ae05(0x309)]||_0x560d7c['me']?.['verifiedName'];}}}return _0x1b83d5;}get[a0_0x5f0ca0(0x355)](){const _0x48d254=a0_0x5f0ca0;return this[_0x48d254(0x4ad)][_0x48d254(0x355)];}get[a0_0x5f0ca0(0x28b)](){const _0x37c2fc=a0_0x5f0ca0;return{'pairingCode':this[_0x37c2fc(0x4ad)]['qrcode']?.[_0x37c2fc(0x597)],'code':this['instance']['qrcode']?.[_0x37c2fc(0x4ee)],'base64':this[_0x37c2fc(0x4ad)][_0x37c2fc(0x138)]?.[_0x37c2fc(0x13b)]};}async[a0_0x5f0ca0(0x47c)](){const _0x4ff543=a0_0x5f0ca0;let _0x2a5cc8=await this[_0x4ff543(0x11e)]['webhook'][_0x4ff543(0x215)](this[_0x4ff543(0x4b4)]);this[_0x4ff543(0xe9)][_0x4ff543(0x67a)]=_0x2a5cc8?.['url'],this[_0x4ff543(0xe9)][_0x4ff543(0x1f6)]=_0x2a5cc8?.[_0x4ff543(0x1f6)],this[_0x4ff543(0xe9)][_0x4ff543(0x752)]=_0x2a5cc8?.[_0x4ff543(0x752)],this[_0x4ff543(0xe9)][_0x4ff543(0x6c5)]=_0x2a5cc8?.[_0x4ff543(0x6c5)],this[_0x4ff543(0xe9)][_0x4ff543(0x141)]=_0x2a5cc8?.[_0x4ff543(0x141)],this['localWebhook'][_0x4ff543(0x6f6)]=_0x2a5cc8?.['SEND_MESSAGE'],this['localWebhook'][_0x4ff543(0x136)]=_0x2a5cc8?.[_0x4ff543(0x136)],this[_0x4ff543(0xe9)][_0x4ff543(0x2a9)]=_0x2a5cc8?.[_0x4ff543(0x2a9)],this[_0x4ff543(0xe9)][_0x4ff543(0x403)]=_0x2a5cc8?.[_0x4ff543(0x403)],this[_0x4ff543(0xe9)]['GROUPS_UPDATE']=_0x2a5cc8?.[_0x4ff543(0x6c4)],this[_0x4ff543(0xe9)]['GROUP_PARTICIPANTS_UPDATE']=_0x2a5cc8?.[_0x4ff543(0x219)],this[_0x4ff543(0xe9)]['CHATS_SET']=_0x2a5cc8?.[_0x4ff543(0x2e4)],this['localWebhook'][_0x4ff543(0x107)]=_0x2a5cc8?.[_0x4ff543(0x107)],this[_0x4ff543(0xe9)][_0x4ff543(0x690)]=_0x2a5cc8?.[_0x4ff543(0x690)],this['localWebhook'][_0x4ff543(0x71c)]=_0x2a5cc8?.[_0x4ff543(0x71c)],this[_0x4ff543(0xe9)][_0x4ff543(0x2ca)]=_0x2a5cc8?.[_0x4ff543(0x2ca)],this[_0x4ff543(0xe9)]['CONTACTS_UPSERT']=_0x2a5cc8?.[_0x4ff543(0x48d)],this['localWebhook'][_0x4ff543(0x29b)]=_0x2a5cc8?.[_0x4ff543(0x29b)],this[_0x4ff543(0xe9)][_0x4ff543(0x5f1)]=_0x2a5cc8?.[_0x4ff543(0x5f1)],this[_0x4ff543(0xe9)][_0x4ff543(0x6fa)]=_0x2a5cc8?.[_0x4ff543(0x6fa)],this[_0x4ff543(0xe9)][_0x4ff543(0x18d)]=_0x2a5cc8?.[_0x4ff543(0x18d)],this['localWebhook']['groups_ignore']=_0x2a5cc8?.[_0x4ff543(0x458)];}async[a0_0x5f0ca0(0x4fd)](_0x21efe3){const _0x90c43=a0_0x5f0ca0;let _0x31c902=['_id','url',_0x90c43(0x1f6),_0x90c43(0x752),_0x90c43(0x6c5),_0x90c43(0x141),_0x90c43(0x2a9),_0x90c43(0x136),_0x90c43(0x6f6),_0x90c43(0x403),'GROUPS_UPDATE',_0x90c43(0x219),_0x90c43(0x2e4),'CHATS_UPSERT','CHATS_UPDATE',_0x90c43(0x71c),_0x90c43(0x2ca),_0x90c43(0x48d),_0x90c43(0x29b),_0x90c43(0x5f1),'MESSAGES_SET','CONNECTION_UPDATE',_0x90c43(0x458)],_0x4495ab={};return _0x31c902[_0x90c43(0x173)](_0x1b96a8=>{_0x21efe3[_0x1b96a8]!==void 0x0&&(_0x4495ab[_0x1b96a8]=_0x21efe3[_0x1b96a8]);}),await this['repository'][_0x90c43(0x3fc)]['create'](_0x4495ab,this['instanceName']),Object['assign'](this[_0x90c43(0xe9)],_0x4495ab),await this['repository'][_0x90c43(0x3fc)][_0x90c43(0x215)](this[_0x90c43(0x4b4)]);}async['findWebhook'](){const _0x1b1373=a0_0x5f0ca0;return await this[_0x1b1373(0x11e)][_0x1b1373(0x3fc)][_0x1b1373(0x215)](this['instanceName']);}async[a0_0x5f0ca0(0x763)](_0x2ec97b,_0xa1ffa){const _0x9dc89c=a0_0x5f0ca0;let _0x437a66=_0x2ec97b[_0x9dc89c(0x27a)](/[\.-]/gm,'_')[_0x9dc89c(0x3b2)](),_0xcd84ff=this['localWebhook'][_0x9dc89c(0x1f6)]&&(0x0,$[_0x9dc89c(0x64e)])(this[_0x9dc89c(0xe9)][_0x9dc89c(0x67a)])?this[_0x9dc89c(0xe9)][_0x9dc89c(0x67a)]+(this['localWebhook'][_0x9dc89c(0x752)]?this[_0x9dc89c(0x131)][_0x2ec97b]:''):null,_0x475654=this[_0x9dc89c(0xe9)][_0x437a66],_0x206f27=ne&&ne['enabled']&&(0x0,$[_0x9dc89c(0x64e)])(ne['url'])?ne[_0x9dc89c(0x67a)]+(ne['local_map']?this['webhookMap'][_0x2ec97b]:''):null,_0x5ace74=ne?ne[_0x437a66]:null;if(_0x475654&&_0xcd84ff)try{await se[_0x9dc89c(0x19d)][_0x9dc89c(0x427)]({'baseURL':_0xcd84ff})[_0x9dc89c(0x4e1)]('',{'event':_0x2ec97b,'instance':this[_0x9dc89c(0x4ad)][_0x9dc89c(0x309)],'apikey':this[_0x9dc89c(0x4ad)][_0x9dc89c(0x5c5)],'data':_0xa1ffa}),this[_0x9dc89c(0x5ca)]['log'](this[_0x9dc89c(0x4b4)]+'\x20('+this[_0x9dc89c(0x4ad)][_0x9dc89c(0x618)]+_0x9dc89c(0x715)+_0x2ec97b+':\x20'+_0xcd84ff);}catch{this['logger'][_0x9dc89c(0x429)](this[_0x9dc89c(0x4b4)]+'\x20('+this['instance'][_0x9dc89c(0x618)]+_0x9dc89c(0x2b4)+_0x2ec97b+':\x20'+_0xcd84ff);}if(_0x5ace74&&_0x206f27)try{await se[_0x9dc89c(0x19d)][_0x9dc89c(0x427)]({'baseURL':_0x206f27})['post']('',{'event':_0x2ec97b,'instance':this[_0x9dc89c(0x4ad)][_0x9dc89c(0x309)],'apikey':this[_0x9dc89c(0x4ad)][_0x9dc89c(0x5c5)],'data':_0xa1ffa}),this[_0x9dc89c(0x5ca)][_0x9dc89c(0x5bd)](this['instanceName']+'\x20('+this[_0x9dc89c(0x4ad)][_0x9dc89c(0x618)]+_0x9dc89c(0x4b7)+_0x2ec97b+':\x20'+_0x206f27);}catch{this['logger'][_0x9dc89c(0x429)](this[_0x9dc89c(0x4b4)]+'\x20('+this['instance']['wuid']+_0x9dc89c(0xde)+_0x2ec97b+':\x20'+_0x206f27);}}async[a0_0x5f0ca0(0x363)]({qr:_0x13d8a4,connection:_0x1bf51a,lastDisconnect:_0x245508}){const _0x211fd3=a0_0x5f0ca0;if(_0x13d8a4){if(this[_0x211fd3(0x4ad)][_0x211fd3(0x138)][_0x211fd3(0x68f)]===mi)return this[_0x211fd3(0x763)]('qrcode.updated',{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':g[_0x211fd3(0x708)][_0x211fd3(0x3f3)]}),this[_0x211fd3(0x37b)]={'state':_0x211fd3(0x574),'statusReason':g[_0x211fd3(0x708)][_0x211fd3(0x61d)]},this['sendDataWebhook'](_0x211fd3(0x64b),{'instance':this['instance']['name'],...this[_0x211fd3(0x37b)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x211fd3(0x4ad)]['name'],'status':'removed'}),this[_0x211fd3(0x11e)][_0x211fd3(0x60d)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x211fd3(0x423)]()},this[_0x211fd3(0x4ad)][_0x211fd3(0x309)]),this[_0x211fd3(0x494)]=!0x0,this[_0x211fd3(0x162)][_0x211fd3(0x2b0)](_0x211fd3(0x327),this[_0x211fd3(0x4ad)]['name']);this[_0x211fd3(0x4ad)][_0x211fd3(0x138)][_0x211fd3(0x68f)]++;let _0x5c3509={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x211fd3(0x5e8),'dark':_0x211fd3(0x142)}};yr[_0x211fd3(0x19d)]['toDataURL'](_0x13d8a4,_0x5c3509,(_0x3ab55c,_0x5e97fc)=>{const _0x4f38f2=_0x211fd3;if(_0x3ab55c){this['logger']['error'](this[_0x4f38f2(0x4b4)]+'\x20('+this[_0x4f38f2(0x4ad)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x3ab55c instanceof Error?_0x3ab55c[_0x4f38f2(0x689)]:JSON[_0x4f38f2(0x1c7)](_0x3ab55c,null,0x2)));return;}this[_0x4f38f2(0x4ad)][_0x4f38f2(0x138)][_0x4f38f2(0x13b)]=_0x5e97fc,this[_0x4f38f2(0x4ad)]['qrcode']['code']=_0x13d8a4,this['sendDataWebhook'](_0x4f38f2(0x697),{'qrcode':{'instance':this[_0x4f38f2(0x4ad)]['name'],'pairingCode':this[_0x4f38f2(0x4ad)][_0x4f38f2(0x138)]['pairingCode'],'code':_0x13d8a4,'base64':_0x5e97fc}});}),this[_0x211fd3(0x1a3)]?(await(0x0,g['delay'])(0x7d0),this[_0x211fd3(0x4ad)][_0x211fd3(0x138)][_0x211fd3(0x597)]=await this['client'][_0x211fd3(0x2e0)](this[_0x211fd3(0x1a3)])):this[_0x211fd3(0x4ad)]['qrcode'][_0x211fd3(0x597)]=null,br[_0x211fd3(0x19d)][_0x211fd3(0x134)](_0x13d8a4,{'small':!0x0},_0x3d70bd=>this[_0x211fd3(0x5ca)][_0x211fd3(0x5bd)]('\x0a{\x20instance:\x20'+this[_0x211fd3(0x4ad)][_0x211fd3(0x309)]+_0x211fd3(0x63c)+this[_0x211fd3(0x4ad)][_0x211fd3(0x138)]['count']+_0x211fd3(0x1a1)+this['instance'][_0x211fd3(0x138)]['pairingCode']+_0x211fd3(0x5a5)+_0x3d70bd));}if(_0x1bf51a&&(this['stateConnection']={'state':_0x1bf51a,'statusReason':_0x245508?.[_0x211fd3(0x429)]?.[_0x211fd3(0x279)]?.[_0x211fd3(0x581)]??0xc8},this[_0x211fd3(0x763)](_0x211fd3(0x64b),{'instance':this[_0x211fd3(0x4ad)][_0x211fd3(0x309)],...this[_0x211fd3(0x37b)]})),_0x1bf51a==='close'){if(this[_0x211fd3(0x19a)]++,this['reconnectTimestamps'][_0x211fd3(0x181)](Date['now']()),this[_0x211fd3(0x199)]=this[_0x211fd3(0x199)][_0x211fd3(0x2d7)](_0x40cdc0=>Date[_0x211fd3(0x423)]()-_0x40cdc0<this[_0x211fd3(0x4eb)]),_0x245508[_0x211fd3(0x429)]?.[_0x211fd3(0x279)]?.[_0x211fd3(0x581)]!==g[_0x211fd3(0x708)][_0x211fd3(0x24f)]&&this['reconnectTimestamps'][_0x211fd3(0x123)]<=this[_0x211fd3(0x3fd)])console[_0x211fd3(0x5bd)](this[_0x211fd3(0x4b4)]+_0x211fd3(0x3ec)+this['reconnectAttempts']+'/'+this[_0x211fd3(0x3fd)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x211fd3(0x5bd)](_0x211fd3(0x1ac)),await this[_0x211fd3(0x6e9)]();else{this['sendDataWebhook']('status.instance',{'instance':this[_0x211fd3(0x4ad)][_0x211fd3(0x309)],'status':_0x211fd3(0xe1)}),this[_0x211fd3(0x2f1)]=!0x1,this['repository'][_0x211fd3(0x3fc)]['delete'](this[_0x211fd3(0x4b4)]),this[_0x211fd3(0x11e)][_0x211fd3(0x60d)][_0x211fd3(0x427)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x211fd3(0x423)]()},this[_0x211fd3(0x4ad)][_0x211fd3(0x309)]);try{this[_0x211fd3(0x5ca)][_0x211fd3(0x524)](this[_0x211fd3(0x4b4)]+'\x20('+this[_0x211fd3(0x4ad)][_0x211fd3(0x618)]+_0x211fd3(0x17d));let _0x464074=await this[_0x211fd3(0x11e)][_0x211fd3(0x689)]['deleteAll'](this[_0x211fd3(0x4ad)][_0x211fd3(0x618)]);_0x464074[_0x211fd3(0x13e)]?this['logger'][_0x211fd3(0x524)](this[_0x211fd3(0x4b4)]+'\x20('+this['instance'][_0x211fd3(0x618)]+_0x211fd3(0x3f2)):console[_0x211fd3(0x429)](_0x211fd3(0x643),_0x464074[_0x211fd3(0x429)]);}catch(_0x319b40){console['error'](_0x211fd3(0x567),_0x319b40);}this[_0x211fd3(0x556)]!==null&&(this[_0x211fd3(0x5ca)][_0x211fd3(0x524)](this[_0x211fd3(0x4b4)]+'\x20('+this[_0x211fd3(0x4ad)]['wuid']+_0x211fd3(0x2c4)),clearInterval(this[_0x211fd3(0x556)]),this[_0x211fd3(0x556)]=null),this[_0x211fd3(0x5ca)]['verbose'](this[_0x211fd3(0x4b4)]+'\x20('+this['instance'][_0x211fd3(0x618)]+_0x211fd3(0x728)),this[_0x211fd3(0x1a7)]=null,this[_0x211fd3(0x162)][_0x211fd3(0x2b0)](_0x211fd3(0x4ef),this['instance']['name'],_0x211fd3(0x6ba)),this[_0x211fd3(0x5f9)]?.['ws']?.['close'](),this['client'][_0x211fd3(0x14f)](new Error('Close\x20connection'));}}if(_0x1bf51a===_0x211fd3(0x330)){this['client']['ev']['flush'](),this['resetReconnectionVariables'],this['instance'][_0x211fd3(0x618)]=this[_0x211fd3(0x5f9)][_0x211fd3(0x120)]['id'][_0x211fd3(0x27a)](/:\d+/,'')[_0x211fd3(0x27a)](_0x211fd3(0x148),''),this[_0x211fd3(0x4ad)]['profilePictureUrl']=(await this[_0x211fd3(0x1c9)](this[_0x211fd3(0x4ad)]['wuid']+_0x211fd3(0x148)))[_0x211fd3(0x355)],this[_0x211fd3(0x11e)]['auth'][_0x211fd3(0x427)]({'online':!0x0,'owner':this[_0x211fd3(0x4ad)][_0x211fd3(0x618)],'lastDisconnect':null},this[_0x211fd3(0x4ad)][_0x211fd3(0x309)]);let _0x1baf4b=_0x211fd3(0x647)+this[_0x211fd3(0x4ad)]['wuid'],_0x114325=0x28,_0x150a7c=Math[_0x211fd3(0x267)]((_0x114325-_0x1baf4b['length'])/0x2),_0x47355b='\x20'[_0x211fd3(0x1c5)](_0x150a7c),_0x23de96=_0x211fd3(0x4a6),_0x19e37d=_0x211fd3(0x492)+this[_0x211fd3(0x4ad)][_0x211fd3(0x309)],_0x3da6f3=(''+_0x47355b+_0x1baf4b+_0x47355b)[_0x211fd3(0x47e)](_0x114325,'\x20'),_0x1b8f2c=(''+_0x47355b+_0x23de96+_0x47355b)['padEnd'](_0x114325,'\x20'),_0x2339f6=(''+_0x47355b+_0x19e37d+_0x47355b)[_0x211fd3(0x47e)](_0x114325,'\x20'),_0x391c74=Math[_0x211fd3(0x6ff)](_0x3da6f3[_0x211fd3(0x123)],_0x1b8f2c['length'],_0x2339f6[_0x211fd3(0x123)]),_0x3d9631=_0x3da6f3['padEnd'](_0x391c74,'\x20'),_0x104b48=_0x1b8f2c[_0x211fd3(0x47e)](_0x391c74,'\x20'),_0x43bd83=_0x2339f6[_0x211fd3(0x47e)](_0x391c74,'\x20');this[_0x211fd3(0x5ca)][_0x211fd3(0x301)]((_0x211fd3(0x65f)+'─'[_0x211fd3(0x1c5)](_0x391c74)+_0x211fd3(0x2b1)+_0x104b48+_0x211fd3(0x2ba)+_0x43bd83+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3d9631+_0x211fd3(0x4fa)+'─'[_0x211fd3(0x1c5)](_0x391c74)+'┘')[_0x211fd3(0x27a)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0xb62a0a=a0_0x5f0ca0;this[_0xb62a0a(0x19a)]=0x0,this[_0xb62a0a(0x199)]=[];}async[a0_0x5f0ca0(0x5b8)](_0x4ebde9,_0x3151f0=!0x1){const _0x68ee4=a0_0x5f0ca0;try{let _0x278c3a=await this['repository']['message']['find']({'where':{'_id':_0x4ebde9['id']}},this[_0x68ee4(0x4ad)][_0x68ee4(0x618)]);return _0x3151f0?_0x278c3a[0x0]:_0x278c3a[0x0][_0x68ee4(0x689)];}catch{return{'conversation':''};}}[a0_0x5f0ca0(0x660)](){const _0x33a89d=a0_0x5f0ca0;let _0x4a0010=this[_0x33a89d(0x122)]['get'](_0x33a89d(0x47b)),_0x36b838=this[_0x33a89d(0x122)][_0x33a89d(0xf5)](_0x33a89d(0x271));_0x4a0010?.[_0x33a89d(0x341)]&&!_0x36b838['ENABLED']&&setInterval(()=>{const _0x346e6c=_0x33a89d;try{for(let [_0x52006d,_0x225c71]of Object[_0x346e6c(0x4d4)](_0x4a0010))_0x225c71===!0x0&&(0x0,Pt[_0x346e6c(0x294)])('rm\x20-rf\x20'+(0x0,j[_0x346e6c(0xe3)])(this[_0x346e6c(0x3ee)],_0x52006d[_0x346e6c(0x6f4)](),this['instance'][_0x346e6c(0x618)])+_0x346e6c(0x522));}catch{}},(_0x4a0010?.[_0x33a89d(0x341)]??0xe10)*0x3e8);}async[a0_0x5f0ca0(0x733)](){const _0xec3628=a0_0x5f0ca0;let _0x218aae=this[_0xec3628(0x122)]['get'](_0xec3628(0x271)),_0x3e2f01=this[_0xec3628(0x122)][_0xec3628(0xf5)](_0xec3628(0x34f));return _0x3e2f01?.[_0xec3628(0x3bb)]?await bs(_0x3e2f01,this[_0xec3628(0x4ad)][_0xec3628(0x309)]):_0x218aae['ENABLED']?await ys(this[_0xec3628(0x4ad)][_0xec3628(0x309)]):await(0x0,g[_0xec3628(0x470)])((0x0,j['join'])(ge,this['instance']['name']));}async[a0_0x5f0ca0(0x4f3)](){const _0x3a17f4=a0_0x5f0ca0;let _0x1cb2bb=()=>Math['floor'](Math[_0x3a17f4(0x4ea)]()*0x2711)+0x7d0,_0x22eaf3=async()=>{const _0x24f145=_0x3a17f4;if(!this[_0x24f145(0x2f1)]){this['logger'][_0x24f145(0x524)](_0x24f145(0x462)),this[_0x24f145(0x5c0)]=!0x1;return;}if(this['instance'][_0x24f145(0x618)]&&this[_0x24f145(0x1a7)]&&this[_0x24f145(0x556)]!==null&&this[_0x24f145(0x556)]!==void 0x0){let _0x4aebef=Math[_0x24f145(0x1ec)](this[_0x24f145(0x556)]/0xea60);this[_0x24f145(0x5ca)][_0x24f145(0x524)](this[_0x24f145(0x4b4)]+'\x20('+this[_0x24f145(0x4ad)][_0x24f145(0x618)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x4aebef+_0x24f145(0x1f5)),this[_0x24f145(0x5c0)]=!0x1;return;}else this['instance'][_0x24f145(0x618)]&&(this[_0x24f145(0x5ca)][_0x24f145(0x524)](this[_0x24f145(0x4b4)]+'\x20('+this[_0x24f145(0x4ad)]['wuid']+_0x24f145(0x334)),this[_0x24f145(0x5ca)][_0x24f145(0x524)](this[_0x24f145(0x4b4)]+'\x20('+this[_0x24f145(0x4ad)][_0x24f145(0x618)]+_0x24f145(0x1bd)),this['AutomateSystem']||await this['getAutomateSystem'](),(this[_0x24f145(0x556)]===null||this[_0x24f145(0x556)]===void 0x0)&&await this[_0x24f145(0x74f)]());if(this['isRunning']){let _0x2c7c28=_0x1cb2bb();this[_0x24f145(0x5ca)][_0x24f145(0x524)](this['instanceName']+_0x24f145(0x576)+_0x2c7c28/0x3e8+_0x24f145(0x518)),setTimeout(_0x22eaf3,_0x2c7c28);}};if(this[_0x3a17f4(0x5c0)])return;this['isRunning']=!0x0;let _0x30a71d=_0x1cb2bb();setTimeout(_0x22eaf3,_0x30a71d);}async[a0_0x5f0ca0(0x413)](_0x3f61b8=0x0,_0x4b22c1=!0x1){const _0x33e593=a0_0x5f0ca0;try{let _0x2ffc74=this['configService'][_0x33e593(0xf5)]('PROXY');if(_0x2ffc74!==0x1||typeof _0x2ffc74>'u'||_0x3f61b8>=0x5)return this['logger'][_0x33e593(0x5bc)](_0x33e593(0x65e)),this[_0x33e593(0x11e)][_0x33e593(0x60d)]['create']({'ip':null},this[_0x33e593(0x4ad)]['name']),{};this[_0x33e593(0x5ca)]['verbose'](this[_0x33e593(0x4b4)]+_0x33e593(0x3aa)+(_0x3f61b8+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x1e0b15;if(!_0x4b22c1){let _0x500a83=await this[_0x33e593(0x11e)][_0x33e593(0x60d)][_0x33e593(0x215)](this[_0x33e593(0x4b4)]);_0x500a83&&_0x500a83['ip']&&(_0x1e0b15=pr(_0x500a83['ip']));}if((!_0x1e0b15||!Ss(_0x1e0b15))&&(this[_0x33e593(0x5ca)]['warn'](this[_0x33e593(0x4b4)]+_0x33e593(0x508)),_0x1e0b15=hr()),_0x1e0b15&&Ss(_0x1e0b15)){let _0x149c68=_0x1e0b15['username']&&_0x1e0b15[_0x33e593(0x6a4)]?_0x1e0b15['protocol']+_0x33e593(0x319)+_0x1e0b15[_0x33e593(0x629)]+':'+_0x1e0b15[_0x33e593(0x6a4)]+'@'+_0x1e0b15[_0x33e593(0x32c)]+':'+_0x1e0b15[_0x33e593(0x390)]:_0x1e0b15['protocol']+'://'+_0x1e0b15[_0x33e593(0x32c)]+':'+_0x1e0b15[_0x33e593(0x390)];return await this[_0x33e593(0x5fc)](_0x149c68,_0x1e0b15['host'])?(this[_0x33e593(0x5ca)][_0x33e593(0x524)](this[_0x33e593(0x4b4)]+_0x33e593(0x6ee)),this[_0x33e593(0x11e)]['auth'][_0x33e593(0x427)]({'ip':_0x1e0b15[_0x33e593(0x32c)]},this[_0x33e593(0x4ad)][_0x33e593(0x309)]),{'agent':new _t[(_0x33e593(0x698))](_0x149c68),'fetchAgent':new _t[(_0x33e593(0x698))](_0x149c68)}):(this[_0x33e593(0x5ca)][_0x33e593(0x5bc)](this[_0x33e593(0x4b4)]+_0x33e593(0x73c)),await(0x0,g[_0x33e593(0x6a3)])(0xc8),this['loadproxy'](_0x3f61b8+0x1,!0x0));}else return this[_0x33e593(0x5ca)][_0x33e593(0x5bc)](this['instanceName']+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,g[_0x33e593(0x6a3)])(0xc8),this[_0x33e593(0x413)](_0x3f61b8+0x1,!0x0);}catch(_0x4f5fa3){return this[_0x33e593(0x5ca)]['error'](this[_0x33e593(0x4b4)]+':\x20Erro\x20durante\x20loadproxy\x20-\x20'+_0x4f5fa3[_0x33e593(0x689)]),{};}}async[a0_0x5f0ca0(0x5fc)](_0x4233d1,_0x46ec7e){const _0x57278b=a0_0x5f0ca0;let _0x482b71=new _t[(_0x57278b(0x698))](_0x4233d1),_0x4043ac=0x1388,_0x41bc6e=[{'url':_0x57278b(0x6e2),'parse':_0xe589cf=>_0xe589cf['ip']},{'url':_0x57278b(0x652),'parse':_0x3ac4c9=>_0x3ac4c9['ip']},{'url':_0x57278b(0x110),'parse':_0x1ab5f=>_0x1ab5f[_0x57278b(0x203)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0x43d357=>_0x43d357['ip']},{'url':_0x57278b(0x16c),'parse':_0x1b675f=>_0x1b675f[_0x57278b(0x29e)]()},{'url':_0x57278b(0x3d2),'parse':_0x1735d1=>_0x1735d1[_0x57278b(0x29e)]()},{'url':_0x57278b(0x340),'parse':_0x5635f5=>_0x5635f5[_0x57278b(0x21b)]},{'url':'http://myexternalip.com/raw','parse':_0x5d2426=>_0x5d2426[_0x57278b(0x29e)]()},{'url':_0x57278b(0x3bc),'parse':_0x525c78=>_0x525c78[_0x57278b(0x29e)]()}],_0x5aa0d6=_0x41bc6e[Math[_0x57278b(0x267)](Math['random']()*_0x41bc6e[_0x57278b(0x123)])];try{let _0xf80ee8=await se['default'][_0x57278b(0xf5)](_0x5aa0d6['url'],{'httpsAgent':_0x482b71,'timeout':_0x4043ac}),_0x40c867=_0x5aa0d6['parse'](_0xf80ee8[_0x57278b(0x62e)]);return _0x40c867===_0x46ec7e?(this['logger'][_0x57278b(0x524)](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x46ec7e+'\x20-\x20retornado:\x20'+_0x40c867+_0x57278b(0x4f2)),!0x0):(this['logger'][_0x57278b(0x429)](this[_0x57278b(0x4b4)]+_0x57278b(0x2a7)+_0x46ec7e+_0x57278b(0x33a)+_0x40c867+_0x57278b(0x657)),!0x1);}catch(_0x4719a2){return this[_0x57278b(0x5ca)][_0x57278b(0x429)](this['instanceName']+_0x57278b(0x170)+_0x5aa0d6[_0x57278b(0x67a)]+':\x20'+_0x4719a2[_0x57278b(0x689)]),!0x1;}}async['connectToWhatsapp'](_0x5054ba){const _0x407461=a0_0x5f0ca0;try{let _0x1c896d=await this[_0x407461(0x413)]();this[_0x407461(0x47c)](),this[_0x407461(0x4ad)][_0x407461(0x5c5)]=(await this['repository']['auth'][_0x407461(0x215)](this[_0x407461(0x4ad)][_0x407461(0x309)]))[_0x407461(0x5c5)],this[_0x407461(0x4ad)][_0x407461(0x718)]=await this[_0x407461(0x733)]();let {version:_0x4705f6}=await(0x0,g[_0x407461(0x4d1)])(),_0x5a2239=[Cr,Er,(0x0,Sr['release'])()],_0x50ef0c={..._0x1c896d,'auth':{'creds':this[_0x407461(0x4ad)][_0x407461(0x718)]['state'][_0x407461(0x765)],'keys':(0x0,g[_0x407461(0x56b)])(this[_0x407461(0x4ad)][_0x407461(0x718)][_0x407461(0x246)][_0x407461(0x520)],(0x0,It[_0x407461(0x19d)])({'level':_0x407461(0x429)}))},'logger':(0x0,It[_0x407461(0x19d)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x5a2239,'version':_0x4705f6,'maxMsgRetryCount':0x9,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x1ed06c=>{const _0x3dcf6f=_0x407461;let _0x583103=_0x1ed06c[_0x3dcf6f(0x5d7)](_0x3dcf6f(0x13f)),_0x3bbeaa=this['localWebhook']?.[_0x3dcf6f(0x458)]&&_0x1ed06c[_0x3dcf6f(0x5d7)](_0x3dcf6f(0x29d));return _0x583103||(0x0,g[_0x3dcf6f(0x200)])(_0x1ed06c)||_0x3bbeaa;},'msgRetryCounterCache':this[_0x407461(0x108)],'getMessage':async _0x1dfec0=>await this[_0x407461(0x5b8)](_0x1dfec0),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x407461(0x22f)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3b53ae=>(_0x3b53ae['listMessage']?.[_0x407461(0x654)]==g[_0x407461(0x50e)][_0x407461(0x69e)][_0x407461(0x72c)][_0x407461(0x3c7)][_0x407461(0x501)]&&(_0x3b53ae=JSON[_0x407461(0x2f0)](JSON[_0x407461(0x1c7)](_0x3b53ae)),_0x3b53ae[_0x407461(0x350)][_0x407461(0x654)]=g[_0x407461(0x50e)][_0x407461(0x69e)][_0x407461(0x72c)][_0x407461(0x3c7)][_0x407461(0x240)]),_0x3b53ae)};return this['endSession']=!0x1,this['client']=(0x0,g[_0x407461(0x19d)])(_0x50ef0c),this[_0x407461(0x109)](),this[_0x407461(0x1a3)]=_0x5054ba,this[_0x407461(0x5f9)];}catch(_0x56d716){throw this[_0x407461(0x5ca)][_0x407461(0x429)](this['instanceName']+'\x20('+this[_0x407461(0x4ad)]['wuid']+_0x407461(0x543)+(_0x56d716 instanceof Error?_0x56d716[_0x407461(0x689)]:JSON['stringify'](_0x56d716,null,0x2))),new I(_0x56d716?.[_0x407461(0x59b)]());}}[a0_0x5f0ca0(0x109)](){const _0x3b6008=a0_0x5f0ca0;this[_0x3b6008(0x5f9)]['ev'][_0x3b6008(0x296)](_0x52a5b1=>{const _0x347907=_0x3b6008;if(!this['endSession']){let _0x2e487a=this[_0x347907(0x122)][_0x347907(0xf5)](_0x347907(0x271));if(_0x52a5b1[_0x347907(0x749)]){let _0x44d8c9=_0x52a5b1['labels.edit'];this[_0x347907(0x5dd)][_0x347907(0x749)](_0x44d8c9);}if(_0x52a5b1[_0x347907(0x596)]){let _0x1b2610=_0x52a5b1[_0x347907(0x596)];this['messageHandle'][_0x347907(0x596)](_0x1b2610);}if(_0x52a5b1['connection.update']&&this[_0x347907(0x363)](_0x52a5b1[_0x347907(0x64b)]),_0x52a5b1[_0x347907(0x20c)]&&this[_0x347907(0x4ad)][_0x347907(0x718)]['saveCreds'](),_0x52a5b1['messaging-history.set']){let _0x41be4a=_0x52a5b1[_0x347907(0x720)];this[_0x347907(0x5dd)]['messaging-history.set'](_0x41be4a,_0x2e487a);}if(_0x52a5b1[_0x347907(0x5b3)]){let _0x3c9d5a=_0x52a5b1[_0x347907(0x5b3)];this[_0x347907(0x5dd)][_0x347907(0x5b3)](_0x3c9d5a,_0x2e487a);}if(_0x52a5b1[_0x347907(0x585)]){let _0x18b3ac=_0x52a5b1[_0x347907(0x585)];_0x18b3ac[_0x347907(0x173)](_0x51e60b=>{const _0x3cf9ac=_0x347907;if(mr[_0x51e60b['key']['id']]){this['client']['ev'][_0x3cf9ac(0x2b0)]('messages.upsert',{'messages':[_0x51e60b],'type':_0x3cf9ac(0x3b6)}),delete mr[_0x51e60b['key']['id']];return;}}),this[_0x347907(0x5dd)]['messages.update'](_0x18b3ac,_0x2e487a);}if(_0x52a5b1[_0x347907(0x1a6)]){let _0x4fef80=_0x52a5b1['presence.update'];if(this[_0x347907(0xe9)]?.[_0x347907(0x458)]&&_0x4fef80['id'][_0x347907(0x6ea)](_0x347907(0x29d)))return;this[_0x347907(0x763)](_0x347907(0x1a6),_0x4fef80);}if(!this[_0x347907(0xe9)]?.[_0x347907(0x458)]){if(_0x52a5b1[_0x347907(0x23b)]){let _0x27eb15=_0x52a5b1[_0x347907(0x23b)];this[_0x347907(0x1d5)][_0x347907(0x23b)](_0x27eb15);}if(_0x52a5b1['groups.update']){let _0x592338=_0x52a5b1[_0x347907(0x53a)];this['groupHandler'][_0x347907(0x53a)](_0x592338);}if(_0x52a5b1[_0x347907(0x5f8)]){let _0xa30e96=_0x52a5b1['group-participants.update'];this['groupHandler'][_0x347907(0x5f8)](_0xa30e96);}}if(_0x52a5b1[_0x347907(0x106)]){let _0x4fe526=_0x52a5b1[_0x347907(0x106)];this[_0x347907(0x1b6)]['chats.upsert'](_0x4fe526,_0x2e487a);}if(_0x52a5b1['chats.update']){let _0x69266a=_0x52a5b1[_0x347907(0x4ba)];this['chatHandle'][_0x347907(0x4ba)](_0x69266a,_0x2e487a);}if(_0x52a5b1['chats.delete']){let _0x4ec43f=_0x52a5b1[_0x347907(0x6be)];this[_0x347907(0x1b6)][_0x347907(0x6be)](_0x4ec43f);}if(_0x52a5b1[_0x347907(0x53f)]){let _0x27a142=_0x52a5b1[_0x347907(0x53f)];this[_0x347907(0x10c)][_0x347907(0x53f)](_0x27a142,_0x2e487a);}if(_0x52a5b1[_0x347907(0x348)]){let _0xa315c6=_0x52a5b1[_0x347907(0x348)];this['contactHandle'][_0x347907(0x348)](_0xa315c6,_0x2e487a);}}});}['delayChatLabel'](_0x5d5883){return new Promise(_0x3835e3=>setTimeout(_0x3835e3,_0x5d5883));}['formatBRNumber'](_0xb8ca4d){const _0x5edcd3=a0_0x5f0ca0;let _0x50941c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5edcd3(0x3d7)](_0xb8ca4d);if(_0x50941c&&_0x50941c[0x1]==='55'){let _0x11ccee=_0x50941c[0x2],_0x2945b7=_0x50941c[0x3],_0xebb724=_0x50941c[0x4];if(_0x11ccee>='31'&&_0x2945b7==='9')return _0x50941c[0x1]+_0x11ccee+_0xebb724;}return _0xb8ca4d;}['createJid'](_0x7130c0){const _0x5867f9=a0_0x5f0ca0;return _0x7130c0[_0x5867f9(0x6ea)](_0x5867f9(0x29d))||_0x7130c0[_0x5867f9(0x6ea)](_0x5867f9(0x148))||_0x7130c0['includes'](_0x5867f9(0x745))?_0x7130c0:(_0x7130c0=_0x7130c0?.['replace'](/\s/g,'')[_0x5867f9(0x27a)](/\+/g,'')[_0x5867f9(0x27a)](/\(/g,'')[_0x5867f9(0x27a)](/\)/g,'')[_0x5867f9(0x70e)](/\:/)[0x0][_0x5867f9(0x70e)]('@')[0x0],_0x7130c0[_0x5867f9(0x123)]>=0x12?(_0x7130c0=_0x7130c0[_0x5867f9(0x27a)](/[^\d-]/g,''),_0x7130c0+'@g.us'):(_0x7130c0=_0x7130c0[_0x5867f9(0x27a)](/\D/g,''),this['formatBRNumber'](_0x7130c0)+'@s.whatsapp.net'));}async[a0_0x5f0ca0(0x259)](_0x161db9){const _0x1adafb=a0_0x5f0ca0;let _0x448bac=this[_0x1adafb(0x67f)](_0x161db9[_0x1adafb(0x57f)]),_0x5b0097=(await this[_0x1adafb(0x54a)]({'numbers':[_0x448bac]}))[0x0];if(!_0x5b0097['exists']&&!(0x0,g[_0x1adafb(0x2f6)])(_0x5b0097[_0x1adafb(0x3ad)]))throw new w(_0x5b0097);let _0x55558f=(0x0,g[_0x1adafb(0x2f6)])(_0x448bac)?_0x448bac:_0x5b0097[_0x1adafb(0x3ad)];if((0x0,g[_0x1adafb(0x2f6)])(_0x55558f))try{await this[_0x1adafb(0x5f9)][_0x1adafb(0x156)](_0x55558f);}catch{throw new k(_0x1adafb(0x4ab));}try{return await this['client'][_0x1adafb(0x2e8)](_0x55558f),await this[_0x1adafb(0x5f9)]['sendPresenceUpdate'](_0x161db9[_0x1adafb(0x2b7)],_0x448bac),{'status':0xc8,'presence':_0x161db9[_0x1adafb(0x2b7)]};}catch(_0x2d388a){throw new w(_0x2d388a[_0x1adafb(0x59b)]());}}async[a0_0x5f0ca0(0x1c9)](_0x47bdbd){const _0x4e5e70=a0_0x5f0ca0;let _0x369d61=this['createJid'](_0x47bdbd);try{return{'wuid':_0x369d61,'profilePictureUrl':await this[_0x4e5e70(0x5f9)]['profilePictureUrl'](_0x369d61,'image')};}catch{return{'wuid':_0x369d61,'profilePictureUrl':null};}}async[a0_0x5f0ca0(0x62b)](_0x5776ff,_0x396c11,_0x20df6d){const _0x3dd61f=a0_0x5f0ca0;_0x20df6d||(_0x20df6d={});let _0x5d7d24=(await this['whatsappNumber']({'numbers':[_0x5776ff]}))[0x0];if(!_0x5d7d24['exists']&&!(0x0,g[_0x3dd61f(0x2f6)])(_0x5d7d24[_0x3dd61f(0x3ad)])&&!_0x5d7d24[_0x3dd61f(0x3ad)][_0x3dd61f(0x6ea)]('@broadcast'))throw new w(_0x5d7d24);let _0x55db98=_0x5d7d24[_0x3dd61f(0x3ad)];try{_0x20df6d?.['delay']&&(await this[_0x3dd61f(0x5f9)][_0x3dd61f(0x2e8)](_0x55db98),await this[_0x3dd61f(0x5f9)][_0x3dd61f(0x6c3)](_0x20df6d?.['presence']??_0x3dd61f(0x44b),_0x55db98),await(0x0,g[_0x3dd61f(0x6a3)])(_0x20df6d['delay']),await this[_0x3dd61f(0x5f9)][_0x3dd61f(0x6c3)](_0x3dd61f(0x5d9),_0x55db98));let _0x8b37c4=_0x20df6d?.[_0x3dd61f(0x514)]!=!0x1?void 0x0:!0x1,_0x2f5796;if(_0x20df6d?.[_0x3dd61f(0x2cb)]){let _0x44fd42=_0x20df6d?.[_0x3dd61f(0x2cb)],_0x3c56b8=_0x44fd42?.[_0x3dd61f(0x689)]?_0x44fd42:await this['getMessage'](_0x44fd42['key'],!0x0);if(!_0x3c56b8)throw _0x3dd61f(0x1a5);_0x2f5796=_0x3c56b8;}let _0x3d4bbf;if((0x0,g[_0x3dd61f(0x2f6)])(_0x55db98))try{let _0x3b7994=await this[_0x3dd61f(0x5f9)]['groupMetadata'](_0x55db98);if(!_0x3b7994)throw new k(_0x3dd61f(0x4ab));_0x20df6d?.['mentions']&&(_0x20df6d[_0x3dd61f(0x6ef)]?.[_0x3dd61f(0x531)]?_0x3d4bbf=_0x3b7994[_0x3dd61f(0x3ae)][_0x3dd61f(0x59f)](_0x5ee7d0=>_0x5ee7d0['id']):_0x20df6d[_0x3dd61f(0x6ef)]?.[_0x3dd61f(0x1d7)]?.[_0x3dd61f(0x123)]&&(_0x3d4bbf=_0x20df6d[_0x3dd61f(0x6ef)][_0x3dd61f(0x1d7)]['map'](_0x27d605=>{const _0x1f532d=_0x3dd61f;let _0x71d34a=this[_0x1f532d(0x67f)](_0x27d605);return(0x0,g['isJidGroup'])(_0x71d34a)?null:_0x71d34a;})));}catch{throw new k('Group\x20not\x20found');}let _0x1de091=await((async()=>{const _0xfc1a5e=_0x3dd61f;let _0x57d11c={'quoted':_0x2f5796};if(!_0x396c11[_0xfc1a5e(0x425)]&&!_0x396c11['poll']&&!_0x396c11['sticker']&&!_0x396c11[_0xfc1a5e(0x498)]&&_0x55db98!==_0xfc1a5e(0x381)&&!_0x396c11[_0xfc1a5e(0x425)])return await this['client'][_0xfc1a5e(0x608)](_0x55db98,{'forward':{'key':{'remoteJid':this[_0xfc1a5e(0x4ad)]['wuid'],'fromMe':!0x0},'message':_0x396c11},'mentions':_0x3d4bbf},_0x57d11c);if(_0x396c11['reactionMessage'])return await this['client'][_0xfc1a5e(0x608)](_0x55db98,{'react':{'text':_0x396c11[_0xfc1a5e(0x44a)][_0xfc1a5e(0x5f0)],'key':_0x396c11[_0xfc1a5e(0x44a)]['key']}},_0x57d11c);if(_0x396c11[_0xfc1a5e(0x498)]){let _0x2b4622=_0x396c11[_0xfc1a5e(0x498)];return _0x20df6d?.[_0xfc1a5e(0x538)]&&(_0x2b4622=await this[_0xfc1a5e(0x16f)](_0x2b4622,_0x55db98)),await this[_0xfc1a5e(0x5f9)][_0xfc1a5e(0x608)](_0x55db98,{'text':_0x2b4622,'mentions':_0x3d4bbf,'linkPreview':_0x8b37c4},_0x57d11c);}return _0x55db98===_0xfc1a5e(0x381)?await this[_0xfc1a5e(0x5f9)][_0xfc1a5e(0x608)](_0x55db98,_0x396c11[_0xfc1a5e(0x5ff)][_0xfc1a5e(0x25f)],{'backgroundColor':_0x396c11[_0xfc1a5e(0x5ff)][_0xfc1a5e(0x30d)][_0xfc1a5e(0x673)],'font':_0x396c11[_0xfc1a5e(0x5ff)][_0xfc1a5e(0x30d)][_0xfc1a5e(0x336)],'statusJidList':_0x396c11[_0xfc1a5e(0x5ff)][_0xfc1a5e(0x30d)][_0xfc1a5e(0x169)]}):await this[_0xfc1a5e(0x5f9)][_0xfc1a5e(0x608)](_0x55db98,_0x396c11,_0x57d11c);})()),_0x3b03a=(0x0,g[_0x3dd61f(0x3ab)])(_0x1de091[_0x3dd61f(0x689)]),_0x3083b4=(0x0,g[_0x3dd61f(0x4c9)])(_0x3b03a),{message_normalized:_0x1cf52a}=this[_0x3dd61f(0x682)](_0x3b03a,_0x3083b4,null),_0x10bad5={'_id':_0x1de091[_0x3dd61f(0x72a)]['id'],'key':_0x1de091[_0x3dd61f(0x72a)],'pushName':_0x1de091[_0x3dd61f(0x435)],'message':_0x3b03a,'messageType':_0x3083b4,'message_normalized':{'key':_0x1de091[_0x3dd61f(0x72a)],'pushName':_0x1de091[_0x3dd61f(0x435)],'messageTimestamp':_0x1de091[_0x3dd61f(0x648)]&&_0x1de091['messageTimestamp'][_0x3dd61f(0x59b)]()[_0x3dd61f(0x123)]<0xd?_0x1de091[_0x3dd61f(0x648)]*0x3e8:_0x1de091[_0x3dd61f(0x648)]||null,'source':(0x0,g['getDevice'])(_0x1de091[_0x3dd61f(0x72a)]['id']),..._0x1cf52a},'messageTimestamp':_0x1de091[_0x3dd61f(0x648)]&&_0x1de091['messageTimestamp'][_0x3dd61f(0x59b)]()[_0x3dd61f(0x123)]<0xd?_0x1de091[_0x3dd61f(0x648)]*0x3e8:_0x1de091[_0x3dd61f(0x648)]||null,'owner':this[_0x3dd61f(0x4ad)][_0x3dd61f(0x618)],'source':(0x0,g[_0x3dd61f(0x3f7)])(_0x1de091['key']['id'])};return this['logger']['warn'](this['instanceName']+'\x20('+this['instance'][_0x3dd61f(0x618)]+_0x3dd61f(0x32e)+_0x10bad5[_0x3dd61f(0x72a)]?.[_0x3dd61f(0x3e8)][_0x3dd61f(0x27a)](_0x3dd61f(0x148),'')+_0x3dd61f(0x46d)+_0x10bad5['messageType']+')'),_0x10bad5[_0x3dd61f(0x4c0)]?.[_0x3dd61f(0x5f0)]&&this[_0x3dd61f(0x5ca)]['warn'](_0x10bad5[_0x3dd61f(0x4c0)]?.['text']),this[_0x3dd61f(0x763)](_0x3dd61f(0x3e1),_0x10bad5),q(this[_0x3dd61f(0x4b4)],_0x3dd61f(0x48a),{'message':_0x10bad5}),this[_0x3dd61f(0x3b3)](this['configService'][_0x3dd61f(0xf5)]('DATABASE'),_0x10bad5,_0x3dd61f(0x6f6)),await this[_0x3dd61f(0x11e)][_0x3dd61f(0x689)][_0x3dd61f(0x533)]([_0x10bad5],this['instance'][_0x3dd61f(0x618)]),_0x1de091;}catch(_0x21cc51){throw this[_0x3dd61f(0x5ca)][_0x3dd61f(0x429)](this['instanceName']+'\x20('+this['instance'][_0x3dd61f(0x618)]+_0x3dd61f(0x543)+_0x21cc51['toString']()),new w(_0x21cc51[_0x3dd61f(0x59b)]());}}get[a0_0x5f0ca0(0x22e)](){return this['stateConnection'];}async[a0_0x5f0ca0(0x14e)](_0x4d7fab){const _0x1c118d=a0_0x5f0ca0;let _0x27df02=gr,_0x820c7=Ke;return _0x820c7&&this[_0x1c118d(0x4b4)][_0x1c118d(0x6f4)]()[_0x1c118d(0x6ea)](_0x820c7[_0x1c118d(0x6f4)]())&&(_0x4d7fab['textMessage'][_0x1c118d(0x5f0)]+='\x0a\x0a'+_0x27df02),await this[_0x1c118d(0x62b)](_0x4d7fab[_0x1c118d(0x57f)],{'conversation':_0x4d7fab[_0x1c118d(0x14e)][_0x1c118d(0x5f0)]},_0x4d7fab?.[_0x1c118d(0x4a2)]);}async['formatStatusMessage'](_0x3fc671){const _0x9e8ef9=a0_0x5f0ca0;if(!_0x3fc671[_0x9e8ef9(0x50f)])throw new w(_0x9e8ef9(0x116));if(!_0x3fc671[_0x9e8ef9(0x25f)])throw new w(_0x9e8ef9(0x2cf));if(_0x3fc671[_0x9e8ef9(0x67e)]){let _0x1c7a93=await this[_0x9e8ef9(0x11e)]['contact'][_0x9e8ef9(0x215)]({'where':{}},this[_0x9e8ef9(0x4ad)]['wuid']);if(!_0x1c7a93[_0x9e8ef9(0x123)])throw new w('Contacts\x20not\x20found');_0x3fc671[_0x9e8ef9(0x169)]=_0x1c7a93['filter'](_0x2fd6e3=>_0x2fd6e3[_0x9e8ef9(0x435)])[_0x9e8ef9(0x59f)](_0x51edaf=>_0x51edaf['_id']);}if(!_0x3fc671['statusJidList']?.[_0x9e8ef9(0x123)]&&!_0x3fc671['allContacts'])throw new w(_0x9e8ef9(0x69a));if(_0x3fc671[_0x9e8ef9(0x50f)]===_0x9e8ef9(0x5f0)){if(!_0x3fc671[_0x9e8ef9(0x673)])throw new w(_0x9e8ef9(0x41b));if(!_0x3fc671['font'])throw new w(_0x9e8ef9(0x6a2));return{'content':{'text':_0x3fc671['content']},'option':{'backgroundColor':_0x3fc671['backgroundColor'],'font':_0x3fc671[_0x9e8ef9(0x336)],'statusJidList':_0x3fc671[_0x9e8ef9(0x169)]}};}if(_0x3fc671['type']===_0x9e8ef9(0x70d))return{'content':{'image':{'url':_0x3fc671['content']},'caption':_0x3fc671[_0x9e8ef9(0x485)]},'option':{'statusJidList':_0x3fc671['statusJidList']}};if(_0x3fc671[_0x9e8ef9(0x50f)]==='video')return{'content':{'video':{'url':_0x3fc671[_0x9e8ef9(0x25f)]},'caption':_0x3fc671['caption']},'option':{'statusJidList':_0x3fc671[_0x9e8ef9(0x169)]}};if(_0x3fc671[_0x9e8ef9(0x50f)]===_0x9e8ef9(0x425)){this[_0x9e8ef9(0x5ca)]['verbose'](_0x9e8ef9(0x22d)),this[_0x9e8ef9(0x5ca)][_0x9e8ef9(0x524)](_0x9e8ef9(0x3a7));let _0xe4f72b=await this[_0x9e8ef9(0x3a1)](_0x3fc671[_0x9e8ef9(0x25f)]);if(typeof _0xe4f72b==_0x9e8ef9(0x612)){this[_0x9e8ef9(0x5ca)][_0x9e8ef9(0x524)](_0x9e8ef9(0x243));let _0x1bc40a=L[_0x9e8ef9(0x191)](_0xe4f72b)[_0x9e8ef9(0x59b)](_0x9e8ef9(0x13b));return{'content':{'audio':Buffer[_0x9e8ef9(0x59c)](_0x1bc40a,_0x9e8ef9(0x13b)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x3fc671['statusJidList']}};}else throw new I(_0xe4f72b);}throw new w(_0x9e8ef9(0x477));}async[a0_0x5f0ca0(0x4c6)](_0x12f23a){const _0x1c310e=a0_0x5f0ca0;return await this[_0x1c310e(0x62b)]('status@broadcast',{'status':await this['formatStatusMessage'](_0x12f23a['statusMessage'])});}async[a0_0x5f0ca0(0x31b)](_0x3e63ce){const _0x209dc9=a0_0x5f0ca0;try{let _0x3477dc=await(0x0,g[_0x209dc9(0x190)])({[_0x3e63ce[_0x209dc9(0x2eb)]]:(0x0,$['isURL'])(_0x3e63ce['media'])?{'url':_0x3e63ce['media']}:Buffer[_0x209dc9(0x59c)](_0x3e63ce[_0x209dc9(0x465)],_0x209dc9(0x13b))},{'upload':this[_0x209dc9(0x5f9)]['waUploadToServer']}),_0x351354=_0x3e63ce['mediatype']+'Message';if(_0x3e63ce[_0x209dc9(0x2eb)]===_0x209dc9(0x11a)&&!_0x3e63ce[_0x209dc9(0x69d)]){let _0xb6e7a9=new RegExp(/.*\/(.+?)\./)[_0x209dc9(0x3d7)](_0x3e63ce[_0x209dc9(0x465)]);_0x3e63ce[_0x209dc9(0x69d)]=_0xb6e7a9?_0xb6e7a9[0x1]:null;}let _0x1598a0=(0x0,$['isURL'])(_0x3e63ce[_0x209dc9(0x465)])?_0x3e63ce[_0x209dc9(0x465)][_0x209dc9(0x70e)]('?')[0x0]:_0x3e63ce[_0x209dc9(0x465)];this[_0x209dc9(0x5ca)]['verbose'](_0x209dc9(0x759)+_0x1598a0);let _0x4229af;(0x0,$[_0x209dc9(0x64e)])(_0x3e63ce[_0x209dc9(0x465)])?_0x4229af=(0x0,xt['getMIMEType'])(_0x1598a0):_0x3e63ce[_0x209dc9(0x69d)]&&_0x3e63ce[_0x209dc9(0x69d)][_0x209dc9(0x6ea)]('.')?_0x4229af=(0x0,xt[_0x209dc9(0x1da)])(_0x3e63ce[_0x209dc9(0x69d)]):_0x4229af=(0x0,xt[_0x209dc9(0x1da)])(_0x3e63ce[_0x209dc9(0x465)]);let _0x25d76d=gr,_0x2738d9=Ke;return _0x2738d9&&this[_0x209dc9(0x4b4)][_0x209dc9(0x6f4)]()[_0x209dc9(0x6ea)](_0x2738d9['toLowerCase']())&&(_0x3e63ce[_0x209dc9(0x485)]+='\x0a\x0a'+_0x25d76d),_0x3477dc[_0x351354]['caption']=_0x3e63ce?.[_0x209dc9(0x485)],_0x3477dc[_0x351354]['mimetype']=_0x4229af,_0x3477dc[_0x351354][_0x209dc9(0x69d)]=_0x3e63ce['fileName'],_0x3e63ce['mediatype']===_0x209dc9(0x6fd)&&(_0x3477dc[_0x351354][_0x209dc9(0x39c)]=Uint8Array[_0x209dc9(0x59c)]((0x0,ve[_0x209dc9(0x191)])((0x0,j[_0x209dc9(0xe3)])(process[_0x209dc9(0x55e)](),_0x209dc9(0x360)))),_0x3477dc[_0x351354][_0x209dc9(0x51e)]=!0x1),(0x0,g['generateWAMessageFromContent'])('',{[_0x351354]:{..._0x3477dc[_0x351354]}},{'userJid':this[_0x209dc9(0x4ad)][_0x209dc9(0x618)]});}catch(_0x40859d){throw this[_0x209dc9(0x5ca)][_0x209dc9(0x429)](this[_0x209dc9(0x4b4)]+'\x20('+this[_0x209dc9(0x4ad)][_0x209dc9(0x618)]+'):\x20'+(_0x40859d instanceof Error?_0x40859d[_0x209dc9(0x689)]:JSON['stringify'](_0x40859d,null,0x2))),new I(_0x40859d?.['toString']()||_0x40859d);}}async[a0_0x5f0ca0(0x469)](_0x1a7869){const _0x42005e=a0_0x5f0ca0;let _0x3c4f28=await this[_0x42005e(0x31b)](_0x1a7869[_0x42005e(0x469)]);return await this['sendMessageWithTyping'](_0x1a7869[_0x42005e(0x57f)],{..._0x3c4f28[_0x42005e(0x689)]},_0x1a7869?.[_0x42005e(0x4a2)]);}async[a0_0x5f0ca0(0x2ae)](_0x578be5,_0x54f93e){const _0x48cfaa=a0_0x5f0ca0;try{this[_0x48cfaa(0x5ca)][_0x48cfaa(0x524)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x40fc33,_0x528a1b=_0x54f93e+'-'+new Date()[_0x48cfaa(0x633)]();this[_0x48cfaa(0x5ca)]['verbose'](_0x48cfaa(0x63e)+_0x528a1b);let _0x264fbb=''+(0x0,j['join'])(this[_0x48cfaa(0x3ee)],_0x528a1b+_0x48cfaa(0x18c));if(this[_0x48cfaa(0x5ca)]['verbose']('Output\x20path:\x20'+_0x264fbb),(0x0,$[_0x48cfaa(0x6f7)])(_0x578be5)){this[_0x48cfaa(0x5ca)][_0x48cfaa(0x524)](_0x48cfaa(0x644));let _0x44b862=_0x578be5[_0x48cfaa(0x27a)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x48b49e=Buffer[_0x48cfaa(0x59c)](_0x44b862,_0x48cfaa(0x13b));_0x40fc33=''+(0x0,j[_0x48cfaa(0xe3)])(this[_0x48cfaa(0x3ee)],_0x48cfaa(0x32a)+_0x528a1b+_0x48cfaa(0x226)),this[_0x48cfaa(0x5ca)][_0x48cfaa(0x524)](_0x48cfaa(0x758)+_0x40fc33),await(0x0,Dt['default'])(_0x48b49e)[_0x48cfaa(0x46b)](_0x40fc33),this[_0x48cfaa(0x5ca)][_0x48cfaa(0x524)]('Image\x20created');}else{this['logger']['verbose'](_0x48cfaa(0x3fb));let _0x589ae2=new Date()[_0x48cfaa(0x633)](),_0x5b216a=_0x578be5+_0x48cfaa(0xf6)+_0x589ae2;this[_0x48cfaa(0x5ca)]['verbose']('including\x20timestamp\x20in\x20url:\x20'+_0x5b216a);let _0x5b72f2=await se[_0x48cfaa(0x19d)][_0x48cfaa(0xf5)](_0x5b216a,{'responseType':'arraybuffer'});this[_0x48cfaa(0x5ca)][_0x48cfaa(0x524)](_0x48cfaa(0x4ca));let _0xbfa560=Buffer[_0x48cfaa(0x59c)](_0x5b72f2['data'],_0x48cfaa(0x1d2));_0x40fc33=''+(0x0,j['join'])(this[_0x48cfaa(0x3ee)],_0x48cfaa(0x32a)+_0x528a1b+'.png'),this[_0x48cfaa(0x5ca)]['verbose'](_0x48cfaa(0x758)+_0x40fc33),await(0x0,Dt[_0x48cfaa(0x19d)])(_0xbfa560)[_0x48cfaa(0x46b)](_0x40fc33),this['logger'][_0x48cfaa(0x524)](_0x48cfaa(0x23c));}return await(0x0,Dt['default'])(_0x40fc33)['webp']()[_0x48cfaa(0x46b)](_0x264fbb),this['logger'][_0x48cfaa(0x524)](_0x48cfaa(0x3f0)),L['unlinkSync'](_0x40fc33),this['logger']['verbose'](_0x48cfaa(0x1fa)),_0x264fbb;}catch(_0x371efa){console[_0x48cfaa(0x429)](_0x48cfaa(0x2e6),_0x371efa instanceof Error?_0x371efa[_0x48cfaa(0x689)]:JSON['stringify'](_0x371efa,null,0x2));}}async[a0_0x5f0ca0(0x168)](_0x4a133c){const _0x4d6de5=a0_0x5f0ca0;let _0x590a63=await this[_0x4d6de5(0x2ae)](_0x4a133c['stickerMessage'][_0x4d6de5(0x70d)],_0x4a133c[_0x4d6de5(0x57f)]),_0x2de2cd=await this[_0x4d6de5(0x62b)](_0x4a133c[_0x4d6de5(0x57f)],{'sticker':{'url':_0x590a63}},_0x4a133c?.[_0x4d6de5(0x4a2)]);return L['unlinkSync'](_0x590a63),this[_0x4d6de5(0x5ca)]['verbose'](_0x4d6de5(0x551)),_0x2de2cd;}async['audioWhatsapp'](_0x5534d7){const _0x18f3f4=a0_0x5f0ca0;if(this[_0x18f3f4(0x5ca)][_0x18f3f4(0x524)](_0x18f3f4(0x68e)),!_0x5534d7[_0x18f3f4(0x4a2)]?.['encoding']&&_0x5534d7[_0x18f3f4(0x4a2)]?.[_0x18f3f4(0x1f4)]!==!0x1&&(_0x5534d7[_0x18f3f4(0x4a2)][_0x18f3f4(0x1f4)]=!0x0),_0x5534d7[_0x18f3f4(0x4a2)]?.[_0x18f3f4(0x1f4)]){let _0x29e277=await this[_0x18f3f4(0x3a1)](_0x5534d7[_0x18f3f4(0x378)][_0x18f3f4(0x425)]);if(typeof _0x29e277=='string'){let _0x398bee=L['readFileSync'](_0x29e277)[_0x18f3f4(0x59b)](_0x18f3f4(0x13b));return this[_0x18f3f4(0x62b)](_0x5534d7[_0x18f3f4(0x57f)],{'audio':Buffer[_0x18f3f4(0x59c)](_0x398bee,_0x18f3f4(0x13b)),'ptt':!0x0,'mimetype':_0x18f3f4(0x456)},{'presence':_0x18f3f4(0x104),'delay':_0x5534d7?.[_0x18f3f4(0x4a2)]?.['delay']});}else throw new I(_0x29e277);}return await this['sendMessageWithTyping'](_0x5534d7[_0x18f3f4(0x57f)],{'audio':(0x0,$[_0x18f3f4(0x64e)])(_0x5534d7['audioMessage'][_0x18f3f4(0x425)])?{'url':_0x5534d7['audioMessage'][_0x18f3f4(0x425)]}:Buffer[_0x18f3f4(0x59c)](_0x5534d7[_0x18f3f4(0x378)][_0x18f3f4(0x425)],'base64'),'ptt':!0x0,'mimetype':'audio/mpeg'},{'presence':_0x18f3f4(0x104),'delay':_0x5534d7?.[_0x18f3f4(0x4a2)]?.[_0x18f3f4(0x6a3)]});}async[a0_0x5f0ca0(0x3a1)](_0x360e75){const _0x3b8f3c=a0_0x5f0ca0;this[_0x3b8f3c(0x5ca)][_0x3b8f3c(0x524)](_0x3b8f3c(0x3a7));let _0x3a875b=(0x0,$[_0x3b8f3c(0x64e)])(_0x360e75)?(0x0,Ms[_0x3b8f3c(0xf7)])(_0x3b8f3c(0x431))[_0x3b8f3c(0x25c)](_0x360e75)['digest'](_0x3b8f3c(0x391)):(0x0,Ms[_0x3b8f3c(0xf7)])(_0x3b8f3c(0x431))[_0x3b8f3c(0x25c)](_0x360e75)[_0x3b8f3c(0x24d)]('hex'),_0x4b0876=''+(0x0,j[_0x3b8f3c(0xe3)])(this[_0x3b8f3c(0x3ee)],_0x3a875b+'.mp4');if(L[_0x3b8f3c(0x43c)](_0x4b0876))return this['logger'][_0x3b8f3c(0x524)](_0x3b8f3c(0x23a)),_0x4b0876;let _0x2aed94=''+(0x0,j[_0x3b8f3c(0xe3)])(this[_0x3b8f3c(0x3ee)],_0x3b8f3c(0x32a)+(0x0,Me['v4'])()+'.mp3');if((0x0,$['isURL'])(_0x360e75)){let _0x51c8f2=new Date()[_0x3b8f3c(0x633)](),_0xe0ef8c=_0x360e75+_0x3b8f3c(0xf6)+_0x51c8f2,_0x55cc1c=await se['default'][_0x3b8f3c(0xf5)](_0xe0ef8c,{'responseType':_0x3b8f3c(0x72e)});L[_0x3b8f3c(0x761)](_0x2aed94,_0x55cc1c['data']);}else{let _0x35626c=Buffer['from'](_0x360e75,_0x3b8f3c(0x13b));L[_0x3b8f3c(0x761)](_0x2aed94,_0x35626c);}return new Promise((_0x2f3bba,_0x1556e2)=>{const _0x4f3fd0=_0x3b8f3c;(0x0,Pt[_0x4f3fd0(0x3d7)])(fr[_0x4f3fd0(0x19d)][_0x4f3fd0(0x414)]+_0x4f3fd0(0x61e)+_0x2aed94+_0x4f3fd0(0x36e)+_0x4b0876+_0x4f3fd0(0x584),_0x150c0b=>{const _0x20d7d0=_0x4f3fd0;if(L[_0x20d7d0(0x6cc)](_0x2aed94),_0x150c0b){this[_0x20d7d0(0x5ca)][_0x20d7d0(0x524)]('Error\x20in\x20converting\x20audio'),_0x1556e2(_0x150c0b);return;}this[_0x20d7d0(0x5ca)][_0x20d7d0(0x524)](_0x20d7d0(0x5e3)),_0x2f3bba(_0x4b0876);});});}async['buttonMessage'](_0x571008){const _0x4aa09d=a0_0x5f0ca0;let _0x26575f={},_0x22d4cf=_0x4aa09d(0x4b1);if(_0x571008[_0x4aa09d(0x277)]?.[_0x4aa09d(0x469)]){_0x22d4cf=_0x571008[_0x4aa09d(0x277)][_0x4aa09d(0x469)]?.['mediatype']['toUpperCase']()??_0x4aa09d(0x4b1),_0x26575f[_0x4aa09d(0x528)]=_0x22d4cf[_0x4aa09d(0x6f4)]()+_0x4aa09d(0x69e);let _0x149bd3=await this[_0x4aa09d(0x31b)](_0x571008[_0x4aa09d(0x277)]['mediaMessage']);_0x26575f[_0x4aa09d(0x689)]=_0x149bd3[_0x4aa09d(0x689)][_0x26575f[_0x4aa09d(0x528)]],_0x26575f[_0x4aa09d(0x599)]='*'+_0x571008[_0x4aa09d(0x277)][_0x4aa09d(0x2b9)]+'*\x0a\x0a'+_0x571008['buttonMessage'][_0x4aa09d(0x68d)];}let _0x3d08a2={'text':_0x571008[_0x4aa09d(0x277)][_0x4aa09d(0x573)][_0x4aa09d(0x59f)](_0x29f139=>_0x29f139[_0x4aa09d(0x4db)]),'ids':_0x571008[_0x4aa09d(0x277)][_0x4aa09d(0x573)][_0x4aa09d(0x59f)](_0x347ae0=>_0x347ae0[_0x4aa09d(0xff)])};if(!(0x0,$[_0x4aa09d(0x11b)])(_0x3d08a2[_0x4aa09d(0x5f0)])||!(0x0,$[_0x4aa09d(0x11b)])(_0x3d08a2[_0x4aa09d(0x164)]))throw new w(_0x4aa09d(0x4b5),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x4aa09d(0x62b)](_0x571008[_0x4aa09d(0x57f)],{'buttonsMessage':{'text':_0x26575f?.[_0x4aa09d(0x528)]?void 0x0:_0x571008[_0x4aa09d(0x277)][_0x4aa09d(0x2b9)],'contentText':_0x26575f?.[_0x4aa09d(0x599)]??_0x571008[_0x4aa09d(0x277)][_0x4aa09d(0x68d)],'footerText':_0x571008[_0x4aa09d(0x277)]?.[_0x4aa09d(0x5e5)],'buttons':_0x571008['buttonMessage'][_0x4aa09d(0x573)][_0x4aa09d(0x59f)](_0x239566=>({'buttonText':{'displayText':_0x239566[_0x4aa09d(0x4db)]},'buttonId':_0x239566['buttonId'],'type':0x1})),'headerType':g['proto'][_0x4aa09d(0x69e)]['ButtonsMessage']['HeaderType'][_0x22d4cf],[_0x26575f?.[_0x4aa09d(0x528)]]:_0x26575f?.[_0x4aa09d(0x689)]}},_0x571008?.[_0x4aa09d(0x4a2)]);}async[a0_0x5f0ca0(0x198)](_0x25c252){const _0x49f93b=a0_0x5f0ca0;return await this[_0x49f93b(0x62b)](_0x25c252['number'],{'locationMessage':{'degreesLatitude':_0x25c252[_0x49f93b(0x198)]['latitude'],'degreesLongitude':_0x25c252[_0x49f93b(0x198)][_0x49f93b(0xe6)],'name':_0x25c252['locationMessage']?.[_0x49f93b(0x309)],'address':_0x25c252['locationMessage']?.[_0x49f93b(0x69b)]}},_0x25c252?.[_0x49f93b(0x4a2)]);}async[a0_0x5f0ca0(0x5f7)](_0x108041){const _0x39de9d=a0_0x5f0ca0;let _0x18b8f0={},_0x3b4b9b=_0x476af0=>{const _0x1deb74=a0_0x2797;let _0x1da097=_0x1deb74(0x3c9)+_0x476af0['fullName']+_0x1deb74(0x1ab)+_0x476af0[_0x1deb74(0x63d)]+'\x0a';_0x476af0[_0x1deb74(0x56d)]&&(_0x1da097+='ORG:'+_0x476af0[_0x1deb74(0x56d)]+';\x0a'),_0x476af0[_0x1deb74(0x33d)]&&(_0x1da097+='EMAIL:'+_0x476af0[_0x1deb74(0x33d)]+'\x0a'),_0x476af0[_0x1deb74(0x67a)]&&(_0x1da097+=_0x1deb74(0x746)+_0x476af0['url']+'\x0a');let _0x50cb42='';return _0x476af0[_0x1deb74(0x1a3)]&&_0x476af0[_0x1deb74(0x1a3)][_0x1deb74(0x70e)]('|')[_0x1deb74(0x173)]((_0x32a141,_0x2fec51)=>{const _0x54b1f8=_0x1deb74;let _0x586f14=this[_0x54b1f8(0x67f)](_0x32a141)[_0x54b1f8(0x27a)](_0x54b1f8(0x148),'');_0x50cb42+=_0x54b1f8(0x565)+(_0x2fec51+0x1)+_0x54b1f8(0x37f)+_0x586f14+':'+_0x32a141+_0x54b1f8(0x507)+(_0x2fec51+0x1)+'.X-ABLabel:Celular\x0a';}),_0x1da097+=_0x50cb42+_0x1deb74(0x146),_0x1da097;};return _0x108041['contactMessage']['length']===0x1?_0x18b8f0[_0x39de9d(0x5f7)]={'displayName':_0x108041[_0x39de9d(0x5f7)][0x0][_0x39de9d(0x63d)],'vcard':_0x3b4b9b(_0x108041[_0x39de9d(0x5f7)][0x0])}:_0x18b8f0[_0x39de9d(0x48e)]={'displayName':_0x108041[_0x39de9d(0x5f7)][_0x39de9d(0x123)]+_0x39de9d(0x2fb),'contacts':_0x108041[_0x39de9d(0x5f7)]['map'](_0x3ad38b=>({'displayName':_0x3ad38b[_0x39de9d(0x63d)],'vcard':_0x3b4b9b(_0x3ad38b)}))},await this[_0x39de9d(0x62b)](_0x108041['number'],{..._0x18b8f0},_0x108041?.[_0x39de9d(0x4a2)]);}async[a0_0x5f0ca0(0x44a)](_0x53f96e){const _0x2d4d26=a0_0x5f0ca0;return await this[_0x2d4d26(0x62b)](_0x53f96e[_0x2d4d26(0x44a)][_0x2d4d26(0x72a)][_0x2d4d26(0x3e8)],{'reactionMessage':{'key':_0x53f96e[_0x2d4d26(0x44a)][_0x2d4d26(0x72a)],'text':_0x53f96e[_0x2d4d26(0x44a)][_0x2d4d26(0x2f3)]}});}async[a0_0x5f0ca0(0x54a)](_0x49b5ee){const _0x3b1ef8=a0_0x5f0ca0;let _0xe09d53=[];for await(let _0x13baa3 of _0x49b5ee[_0x3b1ef8(0x113)]){let _0x1a5d6b=this['createJid'](_0x13baa3),_0x53ae8e=!0x1;try{if((0x0,g[_0x3b1ef8(0x2f6)])(_0x1a5d6b)){let _0x36ef03=await this[_0x3b1ef8(0x433)]({'groupJid':_0x1a5d6b},_0x3b1ef8(0x6ba));_0xe09d53[_0x3b1ef8(0x181)](new me(_0x36ef03[_0x3b1ef8(0x3a4)]['id'],!!_0x36ef03?.[_0x3b1ef8(0x3a4)]['id'],_0x36ef03?.[_0x3b1ef8(0x3a4)][_0x3b1ef8(0x441)])),_0x53ae8e=!!_0x36ef03?.[_0x3b1ef8(0x3a4)]['id'];}else{let _0x18876e=(await this['client'][_0x3b1ef8(0x367)](_0x1a5d6b))[0x0];_0xe09d53[_0x3b1ef8(0x181)](new me(_0x18876e['jid'],_0x18876e['exists'])),_0x53ae8e=_0x18876e['exists'];}}catch{await this['checkAndUpdateChatStatus'](_0x1a5d6b,_0x53ae8e),_0xe09d53[_0x3b1ef8(0x181)](new me(_0x13baa3,!0x1));}}return _0xe09d53;}async[a0_0x5f0ca0(0x295)](_0x1e4f93,_0x1fb9d1){const _0x468537=a0_0x5f0ca0;try{await this[_0x468537(0x11e)][_0x468537(0x42c)][_0x468537(0x1f0)]({'where':{'_id':_0x1e4f93,'imported':!0x0}},this[_0x468537(0x4ad)][_0x468537(0x618)])&&(_0x1fb9d1||(await this[_0x468537(0x11e)][_0x468537(0x42c)]['deleteChat'](_0x1e4f93,this[_0x468537(0x4ad)]['wuid']),console['log'](_0x468537(0x45f)+_0x1e4f93+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x532e69){console['error']('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x532e69);}}async[a0_0x5f0ca0(0x512)](_0x3fe16e){const _0x298f02=a0_0x5f0ca0;try{let _0x3bee88=_0x3fe16e['readMessages']['filter'](_0x19fade=>(0x0,g['isJidGroup'])(_0x19fade[_0x298f02(0x3e8)])||(0x0,g[_0x298f02(0x49c)])(_0x19fade[_0x298f02(0x3e8)]))['map'](_0x40c331=>({'remoteJid':_0x40c331[_0x298f02(0x3e8)],'fromMe':_0x40c331['fromMe'],'id':_0x40c331['id']}));await this[_0x298f02(0x5f9)][_0x298f02(0x383)](_0x3bee88);let _0x3d41cb=_0x3bee88[_0x298f02(0x59f)](_0x153b57=>this[_0x298f02(0x210)](_0x153b57,{'status':_0x298f02(0x5fe),'owner':this[_0x298f02(0x4ad)][_0x298f02(0x618)]})),_0x34b686=_0x3bee88['map'](_0x41dd51=>this['repository'][_0x298f02(0x42c)][_0x298f02(0x41a)]({'where':{'_id':_0x41dd51[_0x298f02(0x3e8)]}},{'unreadcount':0x0},this[_0x298f02(0x4ad)][_0x298f02(0x618)])),[_0x184a23,_0x4c2cbf]=await Promise[_0x298f02(0x1b7)]([Promise['all'](_0x3d41cb),Promise[_0x298f02(0x1b7)](_0x34b686)]);return _0x4c2cbf[_0x298f02(0x2d7)](_0x181fdd=>_0x181fdd!==null)[_0x298f02(0x173)](_0x3e590f=>{const _0xace5f7=_0x298f02;q(this['instanceName'],_0xace5f7(0x25b),{'chat':_0x3e590f});}),{'message':_0x298f02(0x674),'read':'success'};}catch(_0x248f30){throw console['error'](_0x298f02(0x375),_0x248f30),new I(_0x298f02(0x1d3),_0x248f30[_0x298f02(0x59b)]());}}async[a0_0x5f0ca0(0x72b)](_0x79df35){const _0x296bbe=a0_0x5f0ca0;let _0x5e476f={'where':{'key':{'remoteJid':_0x79df35}},'limit':0x1},_0x367e56=await this['fetchMessages'](_0x5e476f);return _0x367e56||(console[_0x296bbe(0x429)](_0x296bbe(0x58b),_0x79df35),null);}async[a0_0x5f0ca0(0x4e9)](_0xb4cbce){const _0x345cdb=a0_0x5f0ca0;this['logger'][_0x345cdb(0x524)](_0x345cdb(0x434));try{let _0x241607=_0xb4cbce['lastMessage'],_0x33e394=_0xb4cbce[_0x345cdb(0x42c)];if(!_0x241607&&_0x33e394?_0x241607=await this[_0x345cdb(0x72b)](_0x33e394):(_0x241607=_0xb4cbce[_0x345cdb(0x379)],_0x241607[_0x345cdb(0x648)]=_0x241607?.['messageTimestamp']??Date['now'](),_0x33e394=_0x241607?.[_0x345cdb(0x72a)]?.[_0x345cdb(0x3e8)]),!_0x241607||Object[_0x345cdb(0x520)](_0x241607)[_0x345cdb(0x123)]===0x0)throw new k(_0x345cdb(0x29f));this['logger'][_0x345cdb(0x524)](_0x345cdb(0x496)+_0x33e394);try{await this['client']['chatModify']({'archive':_0xb4cbce[_0x345cdb(0x175)],'lastMessages':[_0x241607]},this[_0x345cdb(0x67f)](_0x33e394));}catch(_0x322f4b){this[_0x345cdb(0x5ca)][_0x345cdb(0x429)](_0x345cdb(0x6b9)+_0x33e394+':\x20'+_0x322f4b['toString']());}this[_0x345cdb(0x5ca)][_0x345cdb(0x524)](_0x345cdb(0x3dd)+_0x33e394);let _0x47aa7b=await this[_0x345cdb(0x11e)][_0x345cdb(0x42c)][_0x345cdb(0x41a)]({'where':{'_id':_0x241607?.['key']?.[_0x345cdb(0x3e8)]}},{'archived':_0xb4cbce[_0x345cdb(0x175)]},this[_0x345cdb(0x4ad)]['wuid']);return _0x47aa7b?(this[_0x345cdb(0x5ca)][_0x345cdb(0x524)](_0x345cdb(0x217)+JSON[_0x345cdb(0x1c7)](_0x47aa7b)),q(this[_0x345cdb(0x4b4)],_0x345cdb(0x25b),{'chat':_0x47aa7b})):this[_0x345cdb(0x5ca)][_0x345cdb(0x429)](_0x345cdb(0x19c)+_0x33e394),{'chatId':_0x33e394,'archived':_0xb4cbce[_0x345cdb(0x175)]};}catch(_0x2f0c54){throw this[_0x345cdb(0x5ca)][_0x345cdb(0x429)](_0x345cdb(0x68a)+_0x2f0c54[_0x345cdb(0x59b)]()),new I({'archived':!0x1,'message':[_0x345cdb(0x332),_0x2f0c54[_0x345cdb(0x59b)]()]});}}async[a0_0x5f0ca0(0x139)](_0x375208){const _0x3c5297=a0_0x5f0ca0;try{let _0x82c6e1=await this['client'][_0x3c5297(0x608)](_0x375208[_0x3c5297(0x3e8)],{'delete':_0x375208});try{let _0x4cb26f=await this['updateMessage'](_0x375208,{'status':_0x3c5297(0x6d8),'owner':this['instance'][_0x3c5297(0x618)]});this[_0x3c5297(0x5ca)]['verbose'](this[_0x3c5297(0x4b4)]+'\x20('+this['instance']['wuid']+'):\x20updateResult:'+_0x4cb26f);}catch(_0x2bbc56){console[_0x3c5297(0x429)]('Error\x20updating\x20message\x20status:',_0x2bbc56);}return _0x82c6e1;}catch(_0x38116c){throw new I(_0x3c5297(0x237),_0x38116c?.[_0x3c5297(0x59b)]());}}async[a0_0x5f0ca0(0x37e)](_0x43bafe){const _0x3dbb93=a0_0x5f0ca0;try{let _0x3bd5f5=_0x43bafe?.[_0x3dbb93(0x689)]?_0x43bafe:await this['getMessage'](_0x43bafe[_0x3dbb93(0x72a)],!0x0);for(let _0x5b63ad of ha)_0x3bd5f5[_0x3dbb93(0x689)][_0x5b63ad]&&(_0x3bd5f5[_0x3dbb93(0x689)]=_0x3bd5f5[_0x3dbb93(0x689)][_0x5b63ad][_0x3dbb93(0x689)]);let _0x11729e,_0xe13de6;for(let _0x574480 of pa)if(_0x11729e=_0x3bd5f5[_0x3dbb93(0x689)][_0x574480],_0x11729e){_0xe13de6=_0x574480;break;}if(!_0x11729e)throw _0x3dbb93(0x2b2);typeof _0x11729e['mediaKey']==_0x3dbb93(0x6c6)&&(_0x3bd5f5[_0x3dbb93(0x689)]=JSON[_0x3dbb93(0x2f0)](JSON[_0x3dbb93(0x1c7)](_0x3bd5f5[_0x3dbb93(0x689)])));let _0x5695a6=await(0x0,g[_0x3dbb93(0x422)])({'key':_0x3bd5f5?.['key'],'message':_0x3bd5f5?.[_0x3dbb93(0x689)]},_0x3dbb93(0x245),{},{'logger':(0x0,It[_0x3dbb93(0x19d)])({'level':_0x3dbb93(0x56a)}),'reuploadRequest':this['client'][_0x3dbb93(0x6d1)]});if(!(_0x5695a6 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x3ea01b=this['configService'][_0x3dbb93(0xf5)]('DATABASE'),_0xc30303,_0x118361;if(_0x11729e['fileName'])_0xc30303=_0x11729e[_0x3dbb93(0x69d)];else{let _0x46a5e4=_0x11729e[_0x3dbb93(0x2d8)]?.[_0x3dbb93(0x203)](/\/(\w+)/),_0x28fa56=_0x46a5e4?_0x46a5e4[0x1]:null;if(!_0x28fa56)throw new Error(_0x3dbb93(0x4ae));_0xc30303=(0x0,Me['v4'])()+'.'+_0x28fa56;}_0xe13de6==='audioMessage'&&_0x11729e[_0x3dbb93(0x2d8)]===_0x3dbb93(0x26f)?(_0xc30303=(0x0,Me['v4'])()+'.ogg',_0x118361=_0x3dbb93(0x160)+await this['convertaudio'](_0x5695a6['toString'](_0x3dbb93(0x13b)))):(await this[_0x3dbb93(0xdf)](_0x5695a6,_0xc30303),_0x118361=_0x3dbb93(0x160)+_0xc30303);let _0x1dba29=this[_0x3dbb93(0x122)][_0x3dbb93(0xf5)](_0x3dbb93(0x5e1))['URL'];if(!_0x1dba29){let _0x26997f=this[_0x3dbb93(0x122)][_0x3dbb93(0xf5)](_0x3dbb93(0x50c));_0x1dba29=_0x3dbb93(0x154)+(_0x26997f&&_0x26997f[_0x3dbb93(0x5f3)][_0x3dbb93(0x70e)]('/')[0x4]);}_0x118361=''+_0x1dba29+_0x118361;let _0x299634=0xc*0x3c*0x3c*0x3e8,_0xd612ca={'where':{'_id':_0x3bd5f5['key']['id']}},_0xbe0578={'message_normalized.fileUrl':_0x118361,'message_normalized.expires_fileUrl':Date[_0x3dbb93(0x423)]()+_0x299634};try{let _0x388b2e=await this[_0x3dbb93(0x11e)][_0x3dbb93(0x689)][_0x3dbb93(0x25c)](_0xd612ca,_0xbe0578,this[_0x3dbb93(0x4ad)][_0x3dbb93(0x618)]);_0x388b2e&&q(this[_0x3dbb93(0x4b4)],'messages',{'message':_0x388b2e});}catch(_0x83d0ca){this[_0x3dbb93(0x5ca)]['error'](this[_0x3dbb93(0x4b4)]+'\x20('+this['instance'][_0x3dbb93(0x618)]+_0x3dbb93(0x543)+(_0x83d0ca instanceof Error?_0x83d0ca['message']:JSON[_0x3dbb93(0x1c7)](_0x83d0ca,null,0x2)));}return{'mediaType':_0xe13de6,'fileName':_0x11729e[_0x3dbb93(0x69d)],'caption':_0x11729e[_0x3dbb93(0x485)],'size':{'fileLength':_0x11729e['fileLength'],'height':_0x11729e[_0x3dbb93(0x2c5)],'width':_0x11729e['width']},'mimetype':_0x11729e[_0x3dbb93(0x2d8)],'base64':_0x5695a6[_0x3dbb93(0x59b)](_0x3dbb93(0x13b)),'fileUrl':_0x118361,'expires_fileUrl':Date[_0x3dbb93(0x423)]()+_0x299634};}catch(_0x251298){throw this[_0x3dbb93(0x5ca)]['error'](this[_0x3dbb93(0x4b4)]+'\x20('+this['instance']['wuid']+_0x3dbb93(0x543)+(_0x251298 instanceof Error?_0x251298['message']:JSON[_0x3dbb93(0x1c7)](_0x251298,null,0x2))),new w(_0x251298['toString']());}}async[a0_0x5f0ca0(0xdf)](_0x19ffa6,_0x4a720e){const _0x166bd0=a0_0x5f0ca0;let _0x344efd=j[_0x166bd0(0x19d)][_0x166bd0(0xe3)](__dirname,_0x166bd0(0x55a));L[_0x166bd0(0x43c)](_0x344efd)||L[_0x166bd0(0x2d9)](_0x344efd,{'recursive':!0x0});let _0x55fdac=j['default'][_0x166bd0(0xe3)](_0x344efd,_0x4a720e);return new Promise((_0x2bddb8,_0xb4d1ec)=>{L['writeFile'](_0x55fdac,_0x19ffa6,_0x2c7321=>{const _0x4d723d=a0_0x2797;_0x2c7321?(this[_0x4d723d(0x5ca)][_0x4d723d(0x429)]('Error\x20writing\x20file:\x20'+(_0x2c7321 instanceof Error?_0x2c7321[_0x4d723d(0x689)]:JSON[_0x4d723d(0x1c7)](_0x2c7321,null,0x2))),_0xb4d1ec(_0x2c7321)):(this[_0x4d723d(0x5ca)][_0x4d723d(0x5bd)](_0x4d723d(0x38c)+_0x55fdac),_0x2bddb8(_0x55fdac));});});}async[a0_0x5f0ca0(0x595)](_0x551f55){const _0x327080=a0_0x5f0ca0;return await this[_0x327080(0x11e)][_0x327080(0x187)]['find'](_0x551f55,this[_0x327080(0x4ad)]['wuid']);}async[a0_0x5f0ca0(0x20b)](){const _0x27fb11=a0_0x5f0ca0;return await this[_0x27fb11(0x11e)][_0x27fb11(0x338)][_0x27fb11(0x215)]({'where':{}},this[_0x27fb11(0x4ad)]['wuid']);}async[a0_0x5f0ca0(0x687)](_0x442e6f){const _0xfdb0e6=a0_0x5f0ca0;return await this[_0xfdb0e6(0x11e)][_0xfdb0e6(0x689)][_0xfdb0e6(0x215)](_0x442e6f,this['instance']['wuid']);}async[a0_0x5f0ca0(0x289)](){const _0x30bc17=a0_0x5f0ca0;return this[_0x30bc17(0x11e)]['chat'][_0x30bc17(0x3e0)](this['instance'][_0x30bc17(0x618)]),this[_0x30bc17(0x11e)]['chat'][_0x30bc17(0x10f)](this[_0x30bc17(0x4ad)][_0x30bc17(0x618)]),this['repository'][_0x30bc17(0x42c)][_0x30bc17(0x292)](this['instance'][_0x30bc17(0x618)]),this[_0x30bc17(0x11e)]['chat']['updateMissingCustomFields'](this[_0x30bc17(0x4ad)][_0x30bc17(0x618)]),await this[_0x30bc17(0x11e)][_0x30bc17(0x42c)][_0x30bc17(0x215)]({'where':{}},this[_0x30bc17(0x4ad)]['wuid']);}async[a0_0x5f0ca0(0x439)](_0x579a3e){const _0x592efc=a0_0x5f0ca0;try{if(!Array[_0x592efc(0x586)](_0x579a3e)||_0x579a3e[_0x592efc(0x123)]===0x0)throw new Error(_0x592efc(0x30c));let _0x3ea2c5=[],_0x38c0ea=[];for(let _0x2c592b of _0x579a3e){if(_0x2c592b['_id'])_0x2c592b[_0x592efc(0x1f1)]=this[_0x592efc(0x67f)](_0x2c592b['_id']);else continue;await this[_0x592efc(0x11e)]['chat'][_0x592efc(0x1f0)]({'where':{'_id':_0x2c592b['_id']}},this[_0x592efc(0x4ad)][_0x592efc(0x618)])?_0x38c0ea[_0x592efc(0x181)]({'_id':_0x2c592b[_0x592efc(0x1f1)],'leadInfo':_0x2c592b[_0x592efc(0x5cc)],'owner':this[_0x592efc(0x4ad)]['wuid']}):_0x3ea2c5[_0x592efc(0x181)]({'_id':_0x2c592b[_0x592efc(0x1f1)],'owner':this[_0x592efc(0x4ad)][_0x592efc(0x618)],'leadInfo':_0x2c592b['leadInfo'],'imported':!0x0});}return _0x38c0ea['length']>0x0&&await this[_0x592efc(0x11e)]['chat'][_0x592efc(0x6b1)](_0x38c0ea['map'](_0xe57528=>({'query':{'where':{'_id':_0xe57528[_0x592efc(0x1f1)],'owner':this[_0x592efc(0x4ad)]['wuid']}},'update':_0xe57528}))),_0x3ea2c5[_0x592efc(0x123)]>0x0&&await this[_0x592efc(0x11e)][_0x592efc(0x42c)][_0x592efc(0x2ed)](_0x3ea2c5,this[_0x592efc(0x4ad)]['wuid']),{'updated':_0x38c0ea[_0x592efc(0x123)],'inserted':_0x3ea2c5['length']};}catch(_0x551eae){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0x551eae),_0x551eae;}}async[a0_0x5f0ca0(0x40c)](_0x47d09b){const _0x10adb1=a0_0x5f0ca0;try{if(!Array[_0x10adb1(0x586)](_0x47d09b)||_0x47d09b[_0x10adb1(0x123)]===0x0)throw new Error(_0x10adb1(0x30c));let _0x38dc71=0x64,_0x41503a=0x0;for(let _0x1c6b57=0x0;_0x1c6b57<_0x47d09b[_0x10adb1(0x123)];_0x1c6b57+=_0x38dc71){let _0x186166=_0x47d09b['slice'](_0x1c6b57,_0x1c6b57+_0x38dc71),{updated:_0x260992}=await this[_0x10adb1(0x276)](_0x186166);_0x41503a+=_0x260992;}return{'updated':_0x41503a};}catch(_0x4d1311){throw console[_0x10adb1(0x429)](_0x10adb1(0x24e),_0x4d1311),_0x4d1311;}}async[a0_0x5f0ca0(0x276)](_0x5cb065){const _0x171808=a0_0x5f0ca0;try{let _0xdb7733=await this[_0x171808(0x11e)][_0x171808(0x338)][_0x171808(0x215)]({'where':{}},this[_0x171808(0x4ad)][_0x171808(0x618)]),_0x51a537=new Set(_0xdb7733[_0x171808(0x59f)](_0x3de1f7=>_0x3de1f7[_0x171808(0x1f1)])),_0x27e7dc=[],_0x205d04=[];for(let _0x590a5f of _0x5cb065){if(!_0x590a5f[_0x171808(0x1f1)])continue;_0x590a5f[_0x171808(0x1f1)]=this['createJid'](_0x590a5f[_0x171808(0x1f1)]);let _0x3b3ee8=await this[_0x171808(0x11e)]['chat'][_0x171808(0x1f0)]({'where':{'_id':_0x590a5f['_id']}},this[_0x171808(0x4ad)][_0x171808(0x618)]),_0x984efd={};if(Object[_0x171808(0x4d4)](_0x590a5f[_0x171808(0x5cc)])[_0x171808(0x173)](([_0x458525,_0x25cc04])=>{const _0xfddee8=_0x171808;_0x984efd[_0xfddee8(0x3e6)+_0x458525]=_0x25cc04;}),_0x3b3ee8&&!_0x3b3ee8['imported']){let _0x82fe14=(_0x590a5f[_0x171808(0x5cc)][_0x171808(0x36a)]||[])['filter'](_0x21878f=>_0x51a537[_0x171808(0x452)](_0x21878f)),_0x5f5d1c=new Set(_0x3b3ee8[_0x171808(0x5cc)][_0x171808(0x36a)]||[]),_0x582672=_0x82fe14[_0x171808(0x2d7)](_0x305a3d=>!_0x5f5d1c['has'](_0x305a3d)),_0x5d9f94=[..._0x5f5d1c]['filter'](_0x243423=>!_0x82fe14[_0x171808(0x6ea)](_0x243423));_0x205d04[_0x171808(0x181)](..._0x582672['map'](_0x34a669=>this[_0x171808(0x2c7)](_0x34a669,_0x590a5f[_0x171808(0x1f1)]))),_0x205d04[_0x171808(0x181)](..._0x5d9f94[_0x171808(0x59f)](_0x2e1739=>this[_0x171808(0x65c)](_0x2e1739,_0x590a5f['_id']))),_0x590a5f[_0x171808(0x5cc)][_0x171808(0x36a)]=_0x82fe14,_0x27e7dc[_0x171808(0x181)]({'query':{'where':{'_id':_0x590a5f[_0x171808(0x1f1)],'owner':this[_0x171808(0x4ad)][_0x171808(0x618)]}},'update':_0x984efd});}else _0x984efd[_0x171808(0x66f)]=!0x0,_0x27e7dc[_0x171808(0x181)]({'query':{'where':{'_id':_0x590a5f[_0x171808(0x1f1)],'owner':this[_0x171808(0x4ad)][_0x171808(0x618)]}},'update':_0x984efd});}let _0x4ff42c=await this[_0x171808(0x11e)][_0x171808(0x42c)]['updateMany'](_0x27e7dc);return await Promise[_0x171808(0x1b7)](_0x205d04),{'updated':_0x4ff42c};}catch(_0x29c978){throw console[_0x171808(0x429)](_0x171808(0x24e),_0x29c978),_0x29c978;}}async[a0_0x5f0ca0(0x617)](){const _0x5b95c9=a0_0x5f0ca0;return await this['client'][_0x5b95c9(0x617)]();}async[a0_0x5f0ca0(0x3d5)](_0x4a5554){const _0x47e38e=a0_0x5f0ca0;try{return await this[_0x47e38e(0x5f9)][_0x47e38e(0x58a)](_0x4a5554[_0x47e38e(0x67d)][_0x47e38e(0x183)]),await this[_0x47e38e(0x5f9)][_0x47e38e(0x1c6)](_0x4a5554[_0x47e38e(0x67d)]['profile']),await this[_0x47e38e(0x5f9)][_0x47e38e(0x69c)](_0x4a5554['privacySettings'][_0x47e38e(0x5ff)]),await this[_0x47e38e(0x5f9)][_0x47e38e(0x401)](_0x4a5554[_0x47e38e(0x67d)][_0x47e38e(0x231)]),await this[_0x47e38e(0x5f9)][_0x47e38e(0x127)](_0x4a5554[_0x47e38e(0x67d)]['last']),await this[_0x47e38e(0x5f9)]['updateGroupsAddPrivacy'](_0x4a5554[_0x47e38e(0x67d)][_0x47e38e(0xd9)]),this['client']?.['ws']?.[_0x47e38e(0x186)](),{'update':_0x47e38e(0x13e),'data':{'readreceipts':_0x4a5554['privacySettings']['readreceipts'],'profile':_0x4a5554[_0x47e38e(0x67d)][_0x47e38e(0x1cc)],'status':_0x4a5554['privacySettings'][_0x47e38e(0x5ff)],'online':_0x4a5554[_0x47e38e(0x67d)][_0x47e38e(0x231)],'last':_0x4a5554[_0x47e38e(0x67d)][_0x47e38e(0x684)],'groupadd':_0x4a5554['privacySettings'][_0x47e38e(0xd9)]}};}catch(_0x55a043){throw new I(_0x47e38e(0x447),_0x55a043[_0x47e38e(0x59b)]());}}async[a0_0x5f0ca0(0x4d3)](_0x2518cb){const _0x243ffb=a0_0x5f0ca0;let _0x5dfd65=_0x2518cb?this['createJid'](_0x2518cb):this['client']?.[_0x243ffb(0x120)]?.['id'];this[_0x243ffb(0x5ca)][_0x243ffb(0x524)](_0x243ffb(0x235)+_0x5dfd65);try{if(this[_0x243ffb(0x5ca)][_0x243ffb(0x524)](_0x243ffb(0x3ca)),_0x2518cb){let _0x17f876=(await this[_0x243ffb(0x54a)]({'numbers':[_0x5dfd65]}))?.[_0x243ffb(0x4bc)](),_0x3a3010=await this['profilePicture'](_0x17f876?.['jid']),_0x7f945b=await this[_0x243ffb(0x5d1)](_0x17f876?.[_0x243ffb(0x3ad)]),_0x21f4b6=await this[_0x243ffb(0x28f)](_0x17f876?.[_0x243ffb(0x3ad)]);return{'wuid':_0x17f876?.[_0x243ffb(0x3ad)]||_0x5dfd65,'name':_0x17f876?.[_0x243ffb(0x309)],'numberExists':_0x17f876?.[_0x243ffb(0x68c)],'picture':_0x3a3010?.[_0x243ffb(0x355)],'status':_0x7f945b?.[_0x243ffb(0x5ff)],'isBusiness':_0x21f4b6[_0x243ffb(0x762)],'email':_0x21f4b6?.[_0x243ffb(0x33d)],'description':_0x21f4b6?.[_0x243ffb(0x68d)],'website':_0x21f4b6?.['website']?.['shift']()};}}catch{return this[_0x243ffb(0x5ca)]['verbose']('Profile\x20not\x20found'),{'wuid':_0x5dfd65,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x5f0ca0(0x412)](_0x31ccc7){const _0x201cb8=a0_0x5f0ca0;let _0x3a7a28=(_0x31ccc7?this[_0x201cb8(0x67f)](_0x31ccc7):this[_0x201cb8(0x5f9)]?.[_0x201cb8(0x120)]?.['id'])[_0x201cb8(0x27a)](/:\d{1,2}@/g,'@');this[_0x201cb8(0x5ca)][_0x201cb8(0x524)](_0x201cb8(0x14a)+_0x3a7a28);let _0xf71b84=await this[_0x201cb8(0x11e)][_0x201cb8(0x187)][_0x201cb8(0x1f0)]({'where':{'_id':_0x3a7a28}},this['instance'][_0x201cb8(0x618)]),_0x5a91ae=_0xf71b84?_0xf71b84[_0x201cb8(0x435)]:null;try{let _0x409028=(await this[_0x201cb8(0x54a)]({'numbers':[_0x3a7a28]}))?.[_0x201cb8(0x4bc)](),_0x3bb3d1=await this[_0x201cb8(0x1c9)](_0x409028?.['jid']),_0x3178a2=await this[_0x201cb8(0x5d1)](_0x409028?.[_0x201cb8(0x3ad)]),_0x477f15=await this[_0x201cb8(0x28f)](_0x409028?.[_0x201cb8(0x3ad)]),_0x4c957c=await this[_0x201cb8(0x11e)][_0x201cb8(0x42c)][_0x201cb8(0x1f0)]({'where':{'_id':_0x3a7a28}},this['instance'][_0x201cb8(0x618)]),_0x112740={'imagechat':_0x3bb3d1?.[_0x201cb8(0x355)],'contactname':_0x5a91ae||null,'status':_0x3178a2?.['status'],'isBusiness':_0x477f15[_0x201cb8(0x762)],'email':_0x477f15?.[_0x201cb8(0x33d)],'description':_0x477f15?.[_0x201cb8(0x68d)],'website':_0x477f15?.[_0x201cb8(0x4e5)]?.['shift'](),'lastcache':Date[_0x201cb8(0x423)](),'imported':!_0x4c957c},_0x1e7867=await this[_0x201cb8(0x11e)][_0x201cb8(0x42c)][_0x201cb8(0x41a)]({'where':{'_id':_0x3a7a28}},_0x112740,this[_0x201cb8(0x4ad)][_0x201cb8(0x618)]),_0x38a75c={'owner':this['instance'][_0x201cb8(0x618)],'_id':_0x3a7a28,'profilePictureUrl':_0x3bb3d1?.[_0x201cb8(0x355)],'status':_0x3178a2?.[_0x201cb8(0x5ff)]};return this['repository'][_0x201cb8(0x187)][_0x201cb8(0x25c)]([_0x38a75c],this[_0x201cb8(0x4ad)][_0x201cb8(0x618)]),_0x1e7867&&q(this[_0x201cb8(0x4b4)],'chats',{'chat':_0x1e7867}),{'wuid':_0x409028?.[_0x201cb8(0x3ad)]||_0x3a7a28,'name':_0x409028?.['name'],'numberExists':_0x409028?.[_0x201cb8(0x68c)],'picture':_0x3bb3d1?.[_0x201cb8(0x355)],'status':_0x3178a2?.[_0x201cb8(0x5ff)],'isBusiness':_0x477f15['isBusiness'],'email':_0x477f15?.['email'],'description':_0x477f15?.[_0x201cb8(0x68d)],'website':_0x477f15?.['website']?.[_0x201cb8(0x4bc)]()};}catch(_0x5e286f){return this[_0x201cb8(0x5ca)][_0x201cb8(0x429)](_0x201cb8(0x257)+(_0x5e286f instanceof Error?_0x5e286f[_0x201cb8(0x689)]:JSON[_0x201cb8(0x1c7)](_0x5e286f,null,0x2))),{};}}async['fetchBusinessProfile'](_0x21d708){const _0x38a2ea=a0_0x5f0ca0;this[_0x38a2ea(0x5ca)]['verbose']('Fetching\x20business\x20profile');try{let _0x432538=_0x21d708?this[_0x38a2ea(0x67f)](_0x21d708):this[_0x38a2ea(0x4ad)][_0x38a2ea(0x618)],_0x1bf3d3=await this[_0x38a2ea(0x5f9)][_0x38a2ea(0x52e)](_0x432538);return this[_0x38a2ea(0x5ca)][_0x38a2ea(0x524)](_0x38a2ea(0x167)),_0x1bf3d3?(this[_0x38a2ea(0x5ca)][_0x38a2ea(0x524)](_0x38a2ea(0x547)),{'isBusiness':!0x0,..._0x1bf3d3}):{'isBusiness':!0x1,'message':_0x38a2ea(0x440),...(await this[_0x38a2ea(0x54a)]({'numbers':[_0x432538]}))?.['shift']()};}catch(_0xdb8770){throw new I('Error\x20updating\x20profile\x20name',_0xdb8770[_0x38a2ea(0x59b)]());}}async[a0_0x5f0ca0(0x5d1)](_0xe4cd1e){const _0x55bff1=a0_0x5f0ca0;let _0x38b9f0=this[_0x55bff1(0x67f)](_0xe4cd1e);try{return{'wuid':_0x38b9f0,'status':(await this[_0x55bff1(0x5f9)][_0x55bff1(0x591)](_0x38b9f0))?.['status']};}catch{return{'wuid':_0x38b9f0,'status':null};}}async[a0_0x5f0ca0(0x283)](_0xff5e26){const _0x5cabdf=a0_0x5f0ca0;try{return await this[_0x5cabdf(0x5f9)][_0x5cabdf(0x283)](_0xff5e26),{'update':_0x5cabdf(0x13e)};}catch(_0x341b2d){throw new I(_0x5cabdf(0x4c3),_0x341b2d[_0x5cabdf(0x59b)]());}}async[a0_0x5f0ca0(0x5bb)](_0x3d24a3){const _0x38acb5=a0_0x5f0ca0;try{return await this[_0x38acb5(0x5f9)][_0x38acb5(0x5bb)](_0x3d24a3),{'update':_0x38acb5(0x13e)};}catch(_0x327e41){throw new I(_0x38acb5(0x342),_0x327e41[_0x38acb5(0x59b)]());}}async[a0_0x5f0ca0(0x649)](_0x410f89){const _0x41726e=a0_0x5f0ca0;try{let _0x33a14c;if((0x0,$['isURL'])(_0x410f89)){let _0x33c678=new Date()[_0x41726e(0x633)](),_0x1c4026=_0x410f89+_0x41726e(0xf6)+_0x33c678;_0x33a14c=(await se[_0x41726e(0x19d)][_0x41726e(0xf5)](_0x1c4026,{'responseType':'arraybuffer'}))[_0x41726e(0x62e)];}else{if((0x0,$[_0x41726e(0x6f7)])(_0x410f89))_0x33a14c=Buffer['from'](_0x410f89,_0x41726e(0x13b));else throw new w(_0x41726e(0x683));}return await this['client'][_0x41726e(0x649)](this[_0x41726e(0x4ad)][_0x41726e(0x618)],_0x33a14c),{'update':_0x41726e(0x13e)};}catch(_0x387941){throw new I(_0x41726e(0x10b),_0x387941[_0x41726e(0x59b)]());}}async['removeProfilePicture'](){const _0x532703=a0_0x5f0ca0;try{return await this['client'][_0x532703(0x1fe)](this[_0x532703(0x4ad)][_0x532703(0x618)]),{'update':_0x532703(0x13e)};}catch(_0x15c90c){throw new I(_0x532703(0x5cb),_0x15c90c[_0x532703(0x59b)]());}}async[a0_0x5f0ca0(0x3a8)](_0x20615e){const _0x164bae=a0_0x5f0ca0;try{let _0x457e03=_0x20615e[_0x164bae(0x3ae)][_0x164bae(0x59f)](_0x5253e8=>this[_0x164bae(0x67f)](_0x5253e8)),{id:_0x4f9ac4}=await this[_0x164bae(0x5f9)][_0x164bae(0x311)](_0x20615e['subject'],_0x457e03);return _0x20615e?.[_0x164bae(0x68d)]&&await this['client'][_0x164bae(0x31f)](_0x4f9ac4,_0x20615e['description']),{'metadata':await this[_0x164bae(0x5f9)][_0x164bae(0x156)](_0x4f9ac4)};}catch(_0x5912b6){throw this[_0x164bae(0x5ca)][_0x164bae(0x429)](this[_0x164bae(0x4b4)]+'\x20('+this[_0x164bae(0x4ad)][_0x164bae(0x618)]+_0x164bae(0x543)+(_0x5912b6 instanceof Error?_0x5912b6[_0x164bae(0x689)]:JSON[_0x164bae(0x1c7)](_0x5912b6,null,0x2))),new I('Error\x20creating\x20group',_0x5912b6['toString']());}}async[a0_0x5f0ca0(0x472)](_0x56cb3e){const _0x3cc3e7=a0_0x5f0ca0;try{let _0x4ca423;if((0x0,$[_0x3cc3e7(0x64e)])(_0x56cb3e[_0x3cc3e7(0x70d)])){let _0x1a6ee7=new Date()[_0x3cc3e7(0x633)](),_0x48139a=_0x56cb3e[_0x3cc3e7(0x70d)]+_0x3cc3e7(0xf6)+_0x1a6ee7;_0x4ca423=(await se['default'][_0x3cc3e7(0xf5)](_0x48139a,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,$[_0x3cc3e7(0x6f7)])(_0x56cb3e[_0x3cc3e7(0x70d)]))_0x4ca423=Buffer[_0x3cc3e7(0x59c)](_0x56cb3e[_0x3cc3e7(0x70d)],_0x3cc3e7(0x13b));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x3cc3e7(0x649)](_0x56cb3e[_0x3cc3e7(0x480)],_0x4ca423),{'update':_0x3cc3e7(0x13e)};}catch(_0x462ce9){throw new I(_0x3cc3e7(0x686),_0x462ce9[_0x3cc3e7(0x59b)]());}}async[a0_0x5f0ca0(0x433)](_0x5779ba,_0x56831d=a0_0x5f0ca0(0x1ea)){const _0x10383e=a0_0x5f0ca0;try{let _0x1fcf2c=await this[_0x10383e(0x5f9)]['groupMetadata'](_0x5779ba['groupJid']),_0x118cde=null;try{_0x118cde=(await this['profilePicture'](_0x5779ba[_0x10383e(0x480)]))[_0x10383e(0x355)];}catch(_0xe5e457){this[_0x10383e(0x5ca)]['verbose'](this[_0x10383e(0x4b4)]+'\x20('+this[_0x10383e(0x4ad)]['wuid']+_0x10383e(0x374)+_0x5779ba[_0x10383e(0x480)]+':\x20'+(_0xe5e457 instanceof Error?_0xe5e457[_0x10383e(0x689)]:JSON[_0x10383e(0x1c7)](_0xe5e457,null,0x2)));}let _0x10eb31=await this[_0x10383e(0x11e)]['chat'][_0x10383e(0x41a)]({'where':{'_id':_0x5779ba[_0x10383e(0x480)]}},{'imagechat':_0x118cde,'name':_0x1fcf2c['subject'],'group_size':_0x1fcf2c[_0x10383e(0x38a)],'group_announce':_0x1fcf2c[_0x10383e(0x220)],'lastcache':Date['now']()},this[_0x10383e(0x4ad)][_0x10383e(0x618)]);return _0x10eb31&&q(this[_0x10383e(0x4b4)],_0x10383e(0x25b),{'chat':_0x10eb31}),{'metadata':_0x1fcf2c,'image':_0x118cde};}catch(_0xa8fdd0){if(_0x56831d===_0x10383e(0x6ba))return;throw new k(_0x10383e(0x372),_0xa8fdd0['toString']());}}async[a0_0x5f0ca0(0x365)](_0x45e869){const _0x1d8d65=a0_0x5f0ca0;try{return await this['client']['groupUpdateDescription'](_0x45e869[_0x1d8d65(0x480)],_0x45e869[_0x1d8d65(0x68d)]),{'update':_0x1d8d65(0x13e)};}catch(_0x36210c){throw new I('Error\x20change\x20group\x20description',_0x36210c[_0x1d8d65(0x59b)]());}}async[a0_0x5f0ca0(0x557)](_0xce440f){const _0x201071=a0_0x5f0ca0;try{return await this[_0x201071(0x5f9)][_0x201071(0x64a)](_0xce440f[_0x201071(0x480)],_0xce440f[_0x201071(0x309)]),{'update':_0x201071(0x13e)};}catch(_0x97fd06){throw new I('Error\x20change\x20group\x20name',_0x97fd06[_0x201071(0x59b)]());}}async['groupSetting'](_0x45512a){const _0x44719f=a0_0x5f0ca0;try{return await this[_0x44719f(0x5f9)][_0x44719f(0x31e)](_0x45512a[_0x44719f(0x480)],_0x45512a[_0x44719f(0x209)]),{'update':_0x44719f(0x13e)};}catch(_0x2c8386){throw new I(_0x44719f(0xf0),_0x2c8386[_0x44719f(0x59b)]());}}async[a0_0x5f0ca0(0x57e)](){const _0xd2db0c=a0_0x5f0ca0;try{let _0x5e1db4=[],_0x166034=await this[_0xd2db0c(0x5f9)][_0xd2db0c(0x6fb)](),_0x5249d6=Object[_0xd2db0c(0x6bf)](_0x166034),_0x4809d6=_0x5249d6[_0xd2db0c(0x2d7)](_0x247081=>(0x0,g[_0xd2db0c(0x2f6)])(_0x247081?.['id']))['map'](async _0x32d47f=>{const _0x10a9e3=_0xd2db0c;try{return await this[_0x10a9e3(0x5f9)]['profilePictureUrl'](_0x32d47f['id'],_0x10a9e3(0x1a0));}catch(_0x14676b){return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x10a9e3(0x4ad)][_0x10a9e3(0x618)]+_0x10a9e3(0x374)+_0x32d47f['id']+':\x20'+(_0x14676b instanceof Error?_0x14676b[_0x10a9e3(0x689)]:JSON[_0x10a9e3(0x1c7)](_0x14676b,null,0x2))),null;}}),_0x511427=await Promise[_0xd2db0c(0x1b7)](_0x4809d6);for(let _0x17ada4=0x0;_0x17ada4<_0x5249d6[_0xd2db0c(0x123)];_0x17ada4++){let _0x746280=_0x5249d6[_0x17ada4];(0x0,g[_0xd2db0c(0x2f6)])(_0x746280?.['id'])&&_0x5e1db4['push']({'groupJid':_0x746280?.['id'],'subject':_0x746280?.[_0xd2db0c(0x441)],'subjectOwner':_0x746280?.[_0xd2db0c(0x306)]?.['split']('@')[0x0],'subjectTime':_0x746280?.[_0xd2db0c(0x6a7)],'size':_0x746280?.[_0xd2db0c(0x3ae)]?.[_0xd2db0c(0x123)],'owner':_0x746280?.[_0xd2db0c(0x284)]?.[_0xd2db0c(0x70e)]('@')[0x0],'creation':_0x746280?.[_0xd2db0c(0x1f2)],'desc':_0x746280?.[_0xd2db0c(0x2dc)],'restrict':_0x746280?.[_0xd2db0c(0x4bf)],'announce':_0x746280?.[_0xd2db0c(0x220)],'image':_0x511427[_0x17ada4]});}return _0x5e1db4;}catch(_0x1702e6){throw new k(_0xd2db0c(0x372),_0x1702e6[_0xd2db0c(0x59b)]());}}async[a0_0x5f0ca0(0x464)](_0x56acb8){const _0x94f362=a0_0x5f0ca0;try{let _0x28572a=await this[_0x94f362(0x5f9)][_0x94f362(0x6a1)](_0x56acb8[_0x94f362(0x480)]);return{'inviteUrl':_0x94f362(0x3b1)+_0x28572a,'inviteCode':_0x28572a};}catch(_0x42de3d){throw new k(_0x94f362(0x232),_0x42de3d[_0x94f362(0x59b)]());}}async[a0_0x5f0ca0(0x3a9)](_0x1bb822){const _0x43ba89=a0_0x5f0ca0;try{let _0x389a7d=await this[_0x43ba89(0x5f9)][_0x43ba89(0x67c)](_0x1bb822[_0x43ba89(0x480)]);return{'revoked':!0x0,'inviteUrl':_0x43ba89(0x3b1)+_0x389a7d,'inviteCode':_0x389a7d};}catch(_0x59516b){throw new k('Revoke\x20error',_0x59516b[_0x43ba89(0x59b)]());}}async[a0_0x5f0ca0(0x1f3)](_0x2a0859){const _0x41c9fb=a0_0x5f0ca0;try{if((0x0,$[_0x41c9fb(0x64e)])(_0x2a0859['inviteCode']))var _0x34c8da=_0x2a0859['inviteCode'][_0x41c9fb(0x70e)]('/')[0x3];else var _0x34c8da=_0x2a0859[_0x41c9fb(0x464)];let _0x5c4a6a=await this[_0x41c9fb(0x5f9)][_0x41c9fb(0x12a)](_0x34c8da);return this[_0x41c9fb(0x5ca)]['verbose'](this[_0x41c9fb(0x4b4)]+'\x20('+this[_0x41c9fb(0x4ad)][_0x41c9fb(0x618)]+_0x41c9fb(0x543)+_0x5c4a6a),{'join':!0x0,'inviteCode':_0x34c8da,'groupJid':_0x5c4a6a};}catch(_0x220619){throw new k(_0x41c9fb(0x1ad),_0x220619[_0x41c9fb(0x59b)]());}}async[a0_0x5f0ca0(0x40e)](_0x29a421){const _0x40d511=a0_0x5f0ca0;try{return{'participants':(await this[_0x40d511(0x5f9)][_0x40d511(0x156)](_0x29a421[_0x40d511(0x480)]))[_0x40d511(0x3ae)]};}catch(_0xfbe50){throw new k('No\x20participants',_0xfbe50[_0x40d511(0x59b)]());}}async[a0_0x5f0ca0(0x769)](_0x214181){const _0x24035e=a0_0x5f0ca0;try{let _0x9ced=_0x214181['participants']['map'](_0x10c281=>this[_0x24035e(0x67f)](_0x10c281));return{'updateParticipants':await this[_0x24035e(0x5f9)]['groupParticipantsUpdate'](_0x214181[_0x24035e(0x480)],_0x9ced,_0x214181['action'])};}catch(_0x2102ef){throw new w('Error\x20updating\x20participants',_0x2102ef[_0x24035e(0x59b)]());}}async[a0_0x5f0ca0(0x3c6)](_0x40225f){const _0x25ec10=a0_0x5f0ca0;try{let _0x2c97b2=await this[_0x25ec10(0x5f9)][_0x25ec10(0x386)](_0x40225f[_0x25ec10(0x480)],_0x40225f[_0x25ec10(0x53b)]);return{'success':!0x0};}catch(_0x5cafe2){throw new w('Error\x20updating\x20setting',_0x5cafe2[_0x25ec10(0x59b)]());}}async[a0_0x5f0ca0(0x1b0)](_0x37ea16){const _0x37d020=a0_0x5f0ca0;try{return await this[_0x37d020(0x5f9)][_0x37d020(0x54b)](_0x37ea16['groupJid']),{'groupJid':_0x37ea16[_0x37d020(0x480)],'leave':!0x0};}catch(_0x441be0){throw new w('Unable\x20to\x20leave\x20the\x20group',_0x441be0['toString']());}}async[a0_0x5f0ca0(0x490)](_0x2d92c3){const _0x59b835=a0_0x5f0ca0;return await this[_0x59b835(0x62b)](_0x2d92c3[_0x59b835(0x57f)],{'poll':{'name':_0x2d92c3[_0x59b835(0x490)]?.[_0x59b835(0x309)],'selectableCount':_0x2d92c3[_0x59b835(0x490)]['selectableCount'],'values':_0x2d92c3[_0x59b835(0x490)][_0x59b835(0x6bf)]}},_0x2d92c3?.[_0x59b835(0x4a2)]);}async[a0_0x5f0ca0(0x350)](_0x9a84a8){const _0x4a031b=a0_0x5f0ca0;return await this[_0x4a031b(0x62b)](_0x9a84a8[_0x4a031b(0x57f)],{'listMessage':{'title':_0x9a84a8[_0x4a031b(0x350)][_0x4a031b(0x2b9)],'description':_0x9a84a8[_0x4a031b(0x350)]['description'],'buttonText':_0x9a84a8[_0x4a031b(0x350)]?.[_0x4a031b(0x4db)],'footerText':_0x9a84a8[_0x4a031b(0x350)]?.[_0x4a031b(0x5e5)],'sections':_0x9a84a8['listMessage'][_0x4a031b(0x297)],'listType':0x2}},_0x9a84a8?.['options']);}async[a0_0x5f0ca0(0x688)](_0x295ea2){const _0x1f0f7f=a0_0x5f0ca0;let _0x236df6;if(_0x295ea2['menuMessage'][_0x1f0f7f(0x50f)]===_0x1f0f7f(0x343)){let _0x2f764b=_0x295ea2[_0x1f0f7f(0x688)][_0x1f0f7f(0x5f0)][_0x1f0f7f(0x254)]('\x0a'),_0x5bf03b='',_0x27e191='';_0x2f764b!==-0x1?(_0x5bf03b=_0x295ea2[_0x1f0f7f(0x688)]['text'][_0x1f0f7f(0x144)](0x0,_0x2f764b)[_0x1f0f7f(0x29e)](),_0x27e191=_0x295ea2[_0x1f0f7f(0x688)][_0x1f0f7f(0x5f0)][_0x1f0f7f(0x144)](_0x2f764b+0x1)):_0x27e191=_0x295ea2[_0x1f0f7f(0x688)][_0x1f0f7f(0x5f0)];let _0x1dd720=_0x295ea2[_0x1f0f7f(0x688)]['choices']['filter'](_0x598263=>_0x598263['trim']()!==''),_0x5b2dd9=this[_0x1f0f7f(0x757)](_0x1dd720);_0x236df6={'listMessage':{'title':_0x5bf03b,'description':_0x27e191,'buttonText':_0x295ea2[_0x1f0f7f(0x688)]['buttonText']||_0x1f0f7f(0x4c5),'footerText':_0x295ea2[_0x1f0f7f(0x688)][_0x1f0f7f(0x5e5)],'sections':_0x5b2dd9,'listType':0x2}};}else{if(_0x295ea2[_0x1f0f7f(0x688)][_0x1f0f7f(0x50f)]===_0x1f0f7f(0x221)){let _0x302c3b=_0x295ea2[_0x1f0f7f(0x688)]['choices'][_0x1f0f7f(0x2d7)](_0x492151=>!(_0x492151[_0x1f0f7f(0x201)]('[')&&_0x492151[_0x1f0f7f(0x5d7)](']'))&&_0x492151['trim']()!=='')[_0x1f0f7f(0x59f)](_0x3e9c41=>_0x3e9c41[_0x1f0f7f(0x70e)]('\x0a')[0x0]);_0x236df6={'poll':{'name':_0x295ea2[_0x1f0f7f(0x688)][_0x1f0f7f(0x5f0)],'selectableCount':_0x295ea2['menuMessage'][_0x1f0f7f(0x216)]||0x1,'values':_0x302c3b}};}}return await this[_0x1f0f7f(0x62b)](_0x295ea2[_0x1f0f7f(0x57f)],_0x236df6,_0x295ea2?.[_0x1f0f7f(0x4a2)]);}[a0_0x5f0ca0(0x757)](_0xa8165d){const _0x2af574=a0_0x5f0ca0;let _0x5bf5e3=[],_0x6ed5e1={'rows':[]};return _0xa8165d[_0x2af574(0x173)](_0x407915=>{const _0x27ef6a=_0x2af574;if(_0x407915[_0x27ef6a(0x201)]('[')&&_0x407915[_0x27ef6a(0x5d7)](']'))_0x6ed5e1[_0x27ef6a(0x333)][_0x27ef6a(0x123)]>0x0&&_0x5bf5e3['push'](_0x6ed5e1),_0x6ed5e1={'title':_0x407915[_0x27ef6a(0x17f)](0x1,-0x1),'rows':[]};else{let _0x447562=_0x407915[_0x27ef6a(0x70e)]('\x0a')[_0x27ef6a(0x59f)](_0x49f245=>_0x49f245[_0x27ef6a(0x29e)]()),_0x515b10=_0x447562[0x0],_0x25d3e4=_0x447562[0x1]||null,_0x4d0395=_0x447562[0x2]||_0x515b10;_0x6ed5e1[_0x27ef6a(0x333)]['push']({'title':_0x515b10,'description':_0x25d3e4,'rowId':_0x4d0395});}}),_0x6ed5e1['rows']['length']>0x0&&_0x5bf5e3['push'](_0x6ed5e1),_0x5bf5e3;}async[a0_0x5f0ca0(0x210)](_0x4a6b71,_0x38336f){const _0x3c7963=a0_0x5f0ca0;if(await this[_0x3c7963(0x5b8)](_0x4a6b71,!0x0)){let _0x3cfe96={'where':{'_id':_0x4a6b71['id']}},_0x4b1492={'status':[_0x38336f['status']][0x0]};try{let _0x56397b=await this['repository'][_0x3c7963(0x689)][_0x3c7963(0x25c)](_0x3cfe96,_0x4b1492,this['instance'][_0x3c7963(0x618)]);_0x56397b&&q(this[_0x3c7963(0x4b4)],_0x3c7963(0x48a),{'message':_0x56397b});}catch{}}}[a0_0x5f0ca0(0x525)](_0x4e6d47){const _0x3e3f1f=a0_0x5f0ca0;let _0x2edc14=[];return _0x4e6d47[_0x3e3f1f(0x173)](_0x1ea9a7=>{const _0x53feee=_0x3e3f1f;_0x1ea9a7[_0x53feee(0x2b9)]&&_0x2edc14['push']('['+_0x1ea9a7[_0x53feee(0x2b9)]+']'),_0x1ea9a7[_0x53feee(0x333)][_0x53feee(0x173)](_0x111e9f=>{const _0x5c73f1=_0x53feee;_0x2edc14['push'](_0x111e9f[_0x5c73f1(0x2b9)]);});}),_0x2edc14[_0x3e3f1f(0xe3)]('|');}['formatVCard'](_0x1c5396){const _0x2a633b=a0_0x5f0ca0;let _0x28541c=_0x1c5396[_0x2a633b(0x27a)](/\\n/g,'\x0a')['split']('\x0a')[_0x2a633b(0x2d7)](_0x3d4a25=>_0x3d4a25['includes'](_0x2a633b(0x5c8))||_0x3d4a25['includes']('EMAIL')),_0x584ed0='';return _0x28541c[_0x2a633b(0x173)](_0x46ccd6=>{const _0x2dff0d=_0x2a633b;let _0x244f5a=/TEL(?:.*):(.+)/,_0x2d7556=/EMAIL(?:.*):(.+)/,_0x2ad758=_0x46ccd6['match'](_0x244f5a),_0x1d89ba=_0x46ccd6[_0x2dff0d(0x203)](_0x2d7556);if(_0x2ad758){let _0x32e7aa=_0x2ad758[0x1]['replace'](/-| |\+|\(|\)/g,'')['trim']();_0x584ed0+=_0x2dff0d(0x50b)+_0x32e7aa+'\x0a';}else{if(_0x1d89ba){let _0x34555e=_0x1d89ba[0x1]['trim']();_0x584ed0+='E-mail:\x20'+_0x34555e+'\x0a';}}}),_0x584ed0['trim']();}async[a0_0x5f0ca0(0x3b3)](_0x1fcecc,_0xccea27,_0x5db8db){const _0x1739d2=a0_0x5f0ca0;if(!_0x1fcecc[_0x1739d2(0x3bb)])return;let _0x5c0bb1=_0xccea27[_0x1739d2(0x72a)][_0x1739d2(0x3e8)]['replace'](/:\d{1,2}@/g,'@'),_0xb24fce=_0xccea27[_0x1739d2(0x72a)][_0x1739d2(0x6eb)],_0x1cf16f=_0x5c0bb1[_0x1739d2(0x5d7)]('@g.us'),_0x429bf8=_0xccea27['message_normalized']?.['text']||_0xccea27[_0x1739d2(0x4c0)]?.['caption']||_0xccea27[_0x1739d2(0x4c0)]?.['vote']||_0xccea27[_0x1739d2(0x4c0)]?.[_0x1739d2(0x309)],_0x10ebc1={'lastmsg':_0xccea27['messageTimestamp']||Date[_0x1739d2(0x423)](),'unreadcount':_0xb24fce?0x0:0x1,..._0xb24fce||_0x1cf16f?{}:{'name':_0xccea27[_0x1739d2(0x435)]},..._0x1cf16f?{'group':_0x1cf16f}:{}},_0xb5c581=await this[_0x1739d2(0x11e)][_0x1739d2(0x42c)][_0x1739d2(0x41a)]({'where':{'_id':_0x5c0bb1}},_0x10ebc1,this[_0x1739d2(0x4ad)][_0x1739d2(0x618)],{'new':!0x0,'upsert':!0x0});if(_0xb5c581['imported']){let _0x58ec93=await this[_0x1739d2(0x11e)]['label'][_0x1739d2(0x215)]({'where':{}},this['instance'][_0x1739d2(0x618)]),_0x1de7bc=new Set(_0x58ec93[_0x1739d2(0x59f)](_0x1fa7b6=>_0x1fa7b6[_0x1739d2(0x1f1)])),_0x41930c=(_0xb5c581['leadInfo']?.[_0x1739d2(0x36a)]||[])[_0x1739d2(0x2d7)](_0xe4b43f=>_0x1de7bc[_0x1739d2(0x452)](_0xe4b43f)),_0xcb34ab={'leadInfo.etiquetas':_0x41930c,'imported':!0x1};_0xb5c581=await this['repository'][_0x1739d2(0x42c)][_0x1739d2(0x41a)]({'where':{'_id':_0x5c0bb1}},_0xcb34ab,this[_0x1739d2(0x4ad)][_0x1739d2(0x618)]);for(let _0x3a893e of _0x41930c)await this[_0x1739d2(0x2c7)](_0x3a893e,_0x5c0bb1);}if(!_0x1cf16f&&(!_0xb5c581?.['leadInfo']||!_0xb5c581['leadInfo'][_0x1739d2(0x75b)])&&_0xccea27[_0x1739d2(0x435)]&&!_0xb24fce&&(_0xb5c581=await this[_0x1739d2(0x11e)][_0x1739d2(0x42c)][_0x1739d2(0x41a)]({'where':{'_id':_0x5c0bb1}},{'leadInfo.nome':_0xccea27[_0x1739d2(0x435)]},this[_0x1739d2(0x4ad)][_0x1739d2(0x618)],{'new':!0x0,'upsert':!0x0})),_0x5db8db===_0x1739d2(0x136)&&_0xb24fce&&this[_0x1739d2(0x1a7)]?.['flowConfig'][_0x1739d2(0x1f6)]&&!_0x429bf8[_0x1739d2(0x201)](this[_0x1739d2(0x1a7)]?.[_0x1739d2(0x54f)]['prefixCommand'])){let _0x14e0ac=(this[_0x1739d2(0x1a7)]?.[_0x1739d2(0x54f)][_0x1739d2(0x3ce)]||0x5)*0xea60,_0x1721f2=Date[_0x1739d2(0x423)]()+_0x14e0ac;_0xb5c581?.[_0x1739d2(0x5cc)]?.[_0x1739d2(0x159)]===0x0||(await this['repository']['chat'][_0x1739d2(0x41a)]({'where':{'_id':_0x5c0bb1}},{'leadInfo.desativadoFluxoAte':_0x1721f2},this['instance']['wuid'],{'new':!0x0,'upsert':!0x1}),this['logger'][_0x1739d2(0x524)](this[_0x1739d2(0x4b4)]+'\x20('+this[_0x1739d2(0x4ad)]['wuid']+_0x1739d2(0x724)+_0x1721f2+'.'));}if(_0xb5c581)q(this[_0x1739d2(0x4b4)],'chats',{'chat':_0xb5c581});else{this[_0x1739d2(0x5ca)][_0x1739d2(0x429)](this[_0x1739d2(0x4b4)]+'\x20('+this[_0x1739d2(0x4ad)][_0x1739d2(0x618)]+_0x1739d2(0x41f));return;}if(!this[_0x1739d2(0x1a7)]?.[_0x1739d2(0x54f)][_0x1739d2(0x1f6)])return this[_0x1739d2(0x5ca)]['verbose'](this[_0x1739d2(0x4b4)]+'\x20('+this[_0x1739d2(0x4ad)][_0x1739d2(0x618)]+_0x1739d2(0x387)),null;if(_0xb5c581[_0x1739d2(0x1f1)][_0x1739d2(0x6ea)]('@g.us')&&this[_0x1739d2(0x1a7)]?.['flowConfig'][_0x1739d2(0x361)]===!0x0)return this[_0x1739d2(0x5ca)]['verbose'](this['instanceName']+'\x20('+this[_0x1739d2(0x4ad)][_0x1739d2(0x618)]+_0x1739d2(0x60e)),null;if(_0xb5c581[_0x1739d2(0x5cc)]){if(_0xb5c581[_0x1739d2(0x5cc)][_0x1739d2(0x159)]===0x0||_0xb5c581[_0x1739d2(0x5cc)]['atendimentoAberto'])return this['logger']['verbose'](this[_0x1739d2(0x4b4)]+'\x20('+this['instance'][_0x1739d2(0x618)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x5c0bb1+_0x1739d2(0x71b)),null;if(_0xb5c581[_0x1739d2(0x5cc)]['desativadoFluxoAte']>Date[_0x1739d2(0x423)]()&&!_0xccea27[_0x1739d2(0x4c0)]?.[_0x1739d2(0x69f)])return this[_0x1739d2(0x5ca)][_0x1739d2(0x524)](this[_0x1739d2(0x4b4)]+'\x20('+this[_0x1739d2(0x4ad)][_0x1739d2(0x618)]+_0x1739d2(0x3c8)+new Date(_0xb5c581[_0x1739d2(0x5cc)]['desativadoFluxoAte'])[_0x1739d2(0x4e3)]()+_0x1739d2(0x71b)),null;}this[_0x1739d2(0x5ca)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1739d2(0x618)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x1739d2(0x285)](_0x5db8db,_0xccea27);}async['upsertChats'](_0x2dcda6,_0x53edaf){const _0x3d86b0=a0_0x5f0ca0;if(_0x53edaf['ENABLED']){let _0x32768b=_0x2dcda6[_0x3d86b0(0x59f)](async _0x4fd951=>{const _0x34db60=_0x3d86b0;try{let _0x17102c={'_id':_0x4fd951[_0x34db60(0x1f1)],'owner':_0x4fd951[_0x34db60(0x284)],'lastcache':0x0};if(_0x4fd951[_0x34db60(0x388)]!==null&&(_0x17102c[_0x34db60(0x388)]=_0x4fd951['group']),_0x4fd951[_0x34db60(0x309)]!==null&&(_0x17102c[_0x34db60(0x309)]=_0x4fd951['name']),_0x4fd951[_0x34db60(0x428)]!==null&&(_0x17102c[_0x34db60(0x428)]=_0x4fd951[_0x34db60(0x428)]),_0x4fd951[_0x34db60(0x6b7)]!==null&&(_0x17102c[_0x34db60(0x6b7)]=_0x4fd951[_0x34db60(0x6b7)]),_0x4fd951[_0x34db60(0x6b7)]===null&&(_0x17102c[_0x34db60(0x6b7)]='Imagem\x20não\x20encontrada'),_0x4fd951[_0x34db60(0x511)]!==null&&(_0x17102c[_0x34db60(0x511)]=_0x4fd951[_0x34db60(0x511)]),_0x4fd951[_0x34db60(0x2c2)]!==null&&(_0x17102c[_0x34db60(0x2c2)]=_0x4fd951['archived']),_0x4fd951[_0x34db60(0x1c4)]!==null&&(_0x17102c[_0x34db60(0x1c4)]=_0x4fd951[_0x34db60(0x1c4)]),Object[_0x34db60(0x520)](_0x17102c)[_0x34db60(0x123)]>0x0)return await this[_0x34db60(0x11e)][_0x34db60(0x42c)][_0x34db60(0x41a)]({'where':{'_id':_0x4fd951['_id']}},_0x17102c,this[_0x34db60(0x4ad)][_0x34db60(0x618)]);}catch(_0x4bc67a){return console['error'](_0x34db60(0x101)+_0x4fd951[_0x34db60(0x1f1)]+':',_0x4bc67a),null;}}),_0x102c0d=(await Promise[_0x3d86b0(0x1b7)](_0x32768b))['filter'](_0x24c666=>_0x24c666!==null)[_0x3d86b0(0x123)];this[_0x3d86b0(0x5ca)][_0x3d86b0(0x524)](this['instanceName']+'\x20('+this['instance'][_0x3d86b0(0x618)]+_0x3d86b0(0x543)+_0x102c0d+'\x20chats\x20de\x20'+this[_0x3d86b0(0x4ad)]['wuid']+_0x3d86b0(0x35a));}}async[a0_0x5f0ca0(0x651)](_0x4b5e62){const _0x3b3d9b=a0_0x5f0ca0;this[_0x3b3d9b(0x5ca)][_0x3b3d9b(0x524)](this[_0x3b3d9b(0x4b4)]+'\x20('+this[_0x3b3d9b(0x4ad)][_0x3b3d9b(0x618)]+_0x3b3d9b(0x2de));let _0x152b4b={'readMessages':[{'remoteJid':_0x4b5e62[_0x3b3d9b(0x264)]['lastReceivedMessage']['key'][_0x3b3d9b(0x3e8)],'fromMe':_0x4b5e62[_0x3b3d9b(0x264)][_0x3b3d9b(0x5f6)][_0x3b3d9b(0x72a)][_0x3b3d9b(0x6eb)],'id':_0x4b5e62['chatLog'][_0x3b3d9b(0x5f6)][_0x3b3d9b(0x72a)]['id']}]};await this[_0x3b3d9b(0x512)](_0x152b4b);}async[a0_0x5f0ca0(0x285)](_0x2567e1,_0x2be17e){const _0x1d56ed=a0_0x5f0ca0;try{let {key:_0x397124,message_normalized:_0x27fa57}=_0x2be17e,_0x734774=_0x27fa57,_0x5d5fb3=_0x27fa57[_0x1d56ed(0x5f0)]||_0x27fa57[_0x1d56ed(0x485)]||_0x27fa57[_0x1d56ed(0x69f)]||_0x27fa57[_0x1d56ed(0x309)],_0x445f5e=_0x397124[_0x1d56ed(0x3e8)],_0x9541b8;if(_0x734774[_0x1d56ed(0x72a)][_0x1d56ed(0x6eb)]&&_0x5d5fb3[_0x1d56ed(0x29e)]()!==this[_0x1d56ed(0x1a7)]?.['flowConfig'][_0x1d56ed(0x11f)]['trim']())return this[_0x1d56ed(0x5ca)][_0x1d56ed(0x524)](this[_0x1d56ed(0x4b4)]+'\x20('+this[_0x1d56ed(0x4ad)][_0x1d56ed(0x618)]+_0x1d56ed(0x54d)),null;if(_0x734774[_0x1d56ed(0x72a)][_0x1d56ed(0x6eb)]&&_0x5d5fb3[_0x1d56ed(0x29e)]()===this[_0x1d56ed(0x1a7)]?.[_0x1d56ed(0x54f)][_0x1d56ed(0x11f)][_0x1d56ed(0x29e)]()){this['logger'][_0x1d56ed(0x524)](this[_0x1d56ed(0x4b4)]+'\x20('+this[_0x1d56ed(0x4ad)][_0x1d56ed(0x618)]+_0x1d56ed(0x22b));let _0x10dc6d=await this[_0x1d56ed(0x11e)][_0x1d56ed(0x575)][_0x1d56ed(0x215)]({'remoteJid':_0x445f5e,'status':'open'},this[_0x1d56ed(0x4ad)][_0x1d56ed(0x618)]);this['logger'][_0x1d56ed(0x524)](this['instanceName']+'\x20('+this['instance'][_0x1d56ed(0x618)]+_0x1d56ed(0x710)+_0x10dc6d);let _0x1757e3=Date[_0x1d56ed(0x423)](),_0x37240f;return this[_0x1d56ed(0x1a7)]?.[_0x1d56ed(0x54f)][_0x1d56ed(0x249)]===0x0?_0x37240f={'stoppedUntil':_0x1757e3+0x7591f6200}:_0x37240f={'stoppedUntil':_0x1757e3+this[_0x1d56ed(0x1a7)]?.[_0x1d56ed(0x54f)]['stopMinutes']*0x3c*0x3e8},this[_0x1d56ed(0x5ca)]['verbose'](this['instanceName']+'\x20('+this[_0x1d56ed(0x4ad)][_0x1d56ed(0x618)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x37240f),this[_0x1d56ed(0x40b)](_0x9541b8,_0x37240f[_0x1d56ed(0x207)]),null;}if(_0x5d5fb3&&_0x5d5fb3['startsWith'](this[_0x1d56ed(0x1a7)]?.[_0x1d56ed(0x54f)][_0x1d56ed(0x64f)])&&_0x5d5fb3[_0x1d56ed(0x123)]>0x4){let _0x53b05e=await this[_0x1d56ed(0x11e)][_0x1d56ed(0x345)][_0x1d56ed(0x1f0)]({'where':{'startCommandWord':_0x5d5fb3}},this['instance'][_0x1d56ed(0x618)]);if(this[_0x1d56ed(0x5ca)][_0x1d56ed(0x524)](this[_0x1d56ed(0x4b4)]+'\x20('+this['instance']['wuid']+_0x1d56ed(0x48b)),_0x53b05e)_0x9541b8=await this[_0x1d56ed(0x460)](_0x53b05e,_0x734774[_0x1d56ed(0x72a)],_0x734774);else return this[_0x1d56ed(0x5ca)][_0x1d56ed(0x524)](this[_0x1d56ed(0x4b4)]+'\x20('+this[_0x1d56ed(0x4ad)][_0x1d56ed(0x618)]+_0x1d56ed(0x239)),null;}else _0x9541b8=await this[_0x1d56ed(0x6a0)](_0x445f5e,_0x734774);if(_0x9541b8){this[_0x1d56ed(0x5ca)][_0x1d56ed(0x524)](this[_0x1d56ed(0x4b4)]+'\x20('+this['instance'][_0x1d56ed(0x618)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x397124[_0x1d56ed(0x6eb)]&&_0x9541b8['readMessages']&&this[_0x1d56ed(0x651)](_0x9541b8);let _0x446a27=await this['NextBlock'](_0x9541b8);_0x446a27&&await this[_0x1d56ed(0x3c5)](_0x9541b8,_0x446a27);}}catch(_0x26a6f5){this[_0x1d56ed(0x5ca)]['error'](this[_0x1d56ed(0x4b4)]+'\x20('+this[_0x1d56ed(0x4ad)]['wuid']+_0x1d56ed(0x5ae)+(_0x26a6f5 instanceof Error?_0x26a6f5['message']:JSON['stringify'](_0x26a6f5,null,0x2)));}}['flattenObject'](_0x2eafed,_0x4dc1ae='',_0x4958c7={},_0x223e58=!0x0){const _0x59cc92=a0_0x5f0ca0;for(let _0x1b9a92 in _0x2eafed){let _0x53db97=_0x223e58?'_'+_0x1b9a92:''+_0x4dc1ae+_0x1b9a92;typeof _0x2eafed[_0x1b9a92]==_0x59cc92(0x6c6)&&_0x2eafed[_0x1b9a92]!==null?this['flattenObject'](_0x2eafed[_0x1b9a92],_0x53db97+'.',_0x4958c7,!0x1):_0x4958c7[_0x53db97]=String(_0x2eafed[_0x1b9a92]);}return _0x4958c7;}[a0_0x5f0ca0(0x481)](_0x597731){const _0x1287a2=a0_0x5f0ca0;let _0x5b381d={};for(let _0x58614d of _0x597731)typeof _0x58614d[_0x1287a2(0x309)]==_0x1287a2(0x612)&&typeof _0x58614d[_0x1287a2(0x137)]==_0x1287a2(0x612)&&(_0x5b381d[_0x58614d['name']]=_0x58614d['value']);return _0x5b381d;}async[a0_0x5f0ca0(0x51d)](_0xc9bec6){const _0x69f758=a0_0x5f0ca0;if(!this[_0x69f758(0x1a7)]?.[_0x69f758(0x54f)][_0x69f758(0x1f6)]||_0xc9bec6[_0x69f758(0x5ff)]!==_0x69f758(0x330)&&_0xc9bec6[_0x69f758(0x70f)]==='')return null;let _0x3dc66c=_0xc9bec6['chatLog'][_0x69f758(0x604)]||_0x69f758(0x669);typeof _0xc9bec6[_0x69f758(0x264)]['lastCondition']>'u'&&(_0xc9bec6[_0x69f758(0x264)][_0x69f758(0x6ca)]=!0x0);let _0x44f8c8=_0xc9bec6[_0x69f758(0x264)][_0x69f758(0x6ca)];this[_0x69f758(0x5ca)][_0x69f758(0x524)](this[_0x69f758(0x4b4)]+'\x20('+this[_0x69f758(0x4ad)]['wuid']+_0x69f758(0x572)+_0x3dc66c+_0x69f758(0x269)+_0x44f8c8);let _0x57175f=_0x3dc66c===_0x69f758(0x669)?_0xc9bec6[_0x69f758(0xea)][_0x69f758(0x215)](_0x35b378=>_0x35b378['type']===_0x69f758(0x669)):_0xc9bec6[_0x69f758(0xea)][_0x69f758(0x215)](_0xa65d43=>_0xa65d43[_0x69f758(0x1f1)][_0x69f758(0x59b)]()===_0x3dc66c[_0x69f758(0x59b)]());if(!_0x57175f)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x69f758(0x4ad)][_0x69f758(0x618)]+_0x69f758(0x27b)+_0x3dc66c),null;let _0x3c141e={'_pushName':_0xc9bec6[_0x69f758(0x264)][_0x69f758(0x5f6)][_0x69f758(0x435)],..._0xc9bec6[_0x69f758(0x264)][_0x69f758(0x640)]},_0x197ea3=null;if(_0xc9bec6[_0x69f758(0x70f)]){let _0x26c2df=_0xc9bec6['chatLog'][_0x69f758(0x5f6)][_0x69f758(0x69f)],_0x5eeeb9=_0xc9bec6['waitingMenu_replyOptions'][_0x69f758(0x215)](_0x552328=>_0x552328[_0x69f758(0x30d)]===_0x26c2df);if(_0x5eeeb9){let _0x21030e=_0x5eeeb9['next_groupId'];if(_0x197ea3=_0xc9bec6['blocks'][_0x69f758(0x215)](_0x12fb34=>_0x12fb34[_0x69f758(0x549)]===_0x21030e&&_0x12fb34[_0x69f758(0x653)]===0x1),_0x57175f[_0x69f758(0x222)][_0x69f758(0x42d)]){let _0x476309={'id':_0xc9bec6['waitingMenu_id'],'remoteJid':_0xc9bec6[_0x69f758(0x3e8)],'fromMe':!0x0};await this[_0x69f758(0x139)](_0x476309);}if(_0x57175f[_0x69f758(0x222)][_0x69f758(0x42d)]&&_0x57175f['uazapi']['pollMessageOnDelete']&&_0x57175f[_0x69f758(0x222)][_0x69f758(0xe4)]===_0x69f758(0x221)){let _0x5dee96={'number':_0xc9bec6[_0x69f758(0x3e8)],'options':{'delay':0x0},'textMessage':{'text':_0x69f758(0x2d2)+_0xc9bec6[_0x69f758(0x5a4)]+_0x69f758(0xe7)+_0x26c2df}};await this[_0x69f758(0x14e)](_0x5dee96);}_0xc9bec6[_0x69f758(0x5ff)]=_0x69f758(0x330),_0xc9bec6[_0x69f758(0x70f)]='',_0xc9bec6[_0x69f758(0x5a4)]='',_0xc9bec6[_0x69f758(0x407)]=[];}else{this['logger'][_0x69f758(0x524)](this[_0x69f758(0x4b4)]+'\x20('+this[_0x69f758(0x4ad)][_0x69f758(0x618)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x5a369d={'activatedCount':_0xc9bec6[_0x69f758(0x264)][_0x69f758(0x561)][_0x69f758(0x2d7)](_0x503073=>String(_0x503073[_0x69f758(0xe5)])===String(_0x3dc66c))[_0x69f758(0x123)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x57175f[_0x69f758(0x222)][_0x69f758(0x5ac)]){let _0x823cf1={'number':_0xc9bec6[_0x69f758(0x3e8)],'options':{'delay':0x0},'textMessage':{'text':_0x57175f['uazapi'][_0x69f758(0x5ac)]}};await this['textMessage'](_0x823cf1);}if(_0x57175f[_0x69f758(0x51c)]!==void 0x0&&_0x5a369d[_0x69f758(0x1b4)]>=_0x57175f[_0x69f758(0x51c)]){let _0x55f5e8=Date[_0x69f758(0x423)](),_0x123643=_0x57175f[_0x69f758(0x64d)]??0xa;isNaN(_0x123643)&&(_0x123643=0xa);let _0x4294e2=_0x55f5e8+_0x123643*0x3c*0x3e8;_0x5a369d['newStoppedUntil']=_0x4294e2,_0x5a369d[_0x69f758(0x152)][_0x69f758(0x181)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x69f758(0x40b)](_0xc9bec6,_0x4294e2),_0xc9bec6[_0x69f758(0x70f)]='',_0xc9bec6['waitingMenu_text']='',_0xc9bec6[_0x69f758(0x407)]=[];}return this['updateConversation'](_0xc9bec6,_0x57175f,_0x5a369d,!0x0),null;}}if(_0x44f8c8&&_0x57175f[_0x69f758(0x230)]&&!_0xc9bec6[_0x69f758(0x70f)]){let _0x50f07f=_0xc9bec6[_0x69f758(0xea)][_0x69f758(0x2d7)](_0xef1fa4=>_0xef1fa4['groupId']['toString']()===_0x57175f[_0x69f758(0x230)][_0x69f758(0x59b)]())[_0x69f758(0x14c)]((_0x2e99cf,_0x3da918)=>_0x2e99cf[_0x69f758(0x653)]-_0x3da918['order']);_0x50f07f[_0x69f758(0x123)]>0x0&&(_0x197ea3=_0x50f07f[0x0]);}if(!_0x197ea3){let _0xe9007a=_0x57175f[_0x69f758(0x549)],_0x4056e2=_0xc9bec6[_0x69f758(0xea)][_0x69f758(0x2d7)](_0x2472e7=>_0x2472e7[_0x69f758(0x549)]===_0xe9007a&&_0x2472e7[_0x69f758(0x653)]>_0x57175f['order'])[_0x69f758(0x14c)]((_0x41b746,_0x1cd7d8)=>_0x41b746['order']-_0x1cd7d8[_0x69f758(0x653)]);_0x4056e2[_0x69f758(0x123)]>0x0&&(_0x197ea3=_0x4056e2[0x0]);}if(!_0x197ea3)return _0xc9bec6[_0x69f758(0x5ff)]='closed',null;_0xc9bec6[_0x69f758(0x264)][_0x69f758(0x640)]=_0x3c141e;let _0x1c8f61=JSON[_0x69f758(0x2f0)](JSON[_0x69f758(0x1c7)](_0x197ea3));return this['replaceVariablesInObject'](_0x1c8f61,_0xc9bec6['chatLog'][_0x69f758(0x640)]),_0xc9bec6['chatLog'][_0x69f758(0x604)]=_0x1c8f61[_0x69f758(0x1f1)],_0xc9bec6[_0x69f758(0x264)][_0x69f758(0x6ca)]=!0x0,_0x1c8f61;}[a0_0x5f0ca0(0x611)](_0x4d9f31,_0x1fc52b){const _0x4bf590=a0_0x5f0ca0;return _0x4d9f31[_0x4bf590(0x27a)](/\{\{([^}]+)\}\}/g,(_0x3ec264,_0x5789f0)=>_0x1fc52b[_0x5789f0]||'');}['replaceVariablesInObject'](_0x4972d8,_0x3bfe0d){const _0x5331c6=a0_0x5f0ca0;for(let _0x271429 in _0x4972d8)typeof _0x4972d8[_0x271429]==_0x5331c6(0x612)?_0x4972d8[_0x271429]=this['replaceVariables'](_0x4972d8[_0x271429],_0x3bfe0d):typeof _0x4972d8[_0x271429]==_0x5331c6(0x6c6)&&this['replaceVariablesInObject'](_0x4972d8[_0x271429],_0x3bfe0d);}async['goNextblock'](_0x363dff,_0x81e9fa){const _0xb64fab=a0_0x5f0ca0;let _0x2b5dd9=_0x81e9fa[_0xb64fab(0x1f1)];if(_0x363dff[_0xb64fab(0x264)]&&_0x363dff[_0xb64fab(0x264)][_0xb64fab(0x561)]){let _0xec778b=_0x363dff[_0xb64fab(0x264)]['blockLogs'][_0xb64fab(0x2d7)](_0x297983=>String(_0x297983['blockId'])===String(_0x2b5dd9))[_0xb64fab(0x754)]();if(_0xec778b&&_0xec778b['error']&&_0x81e9fa[_0xb64fab(0x30a)])return _0x363dff[_0xb64fab(0x5ff)]='closed',await this[_0xb64fab(0x225)](_0x363dff),null;}if(_0x81e9fa[_0xb64fab(0x50f)]===_0xb64fab(0x222)&&_0x81e9fa[_0xb64fab(0x222)]['command']===_0xb64fab(0x767)&&_0x363dff[_0xb64fab(0x70f)])return _0x363dff[_0xb64fab(0x264)][_0xb64fab(0x604)]=_0x2b5dd9,await this[_0xb64fab(0x225)](_0x363dff),null;let _0x1ab1f3=await this['NextBlock'](_0x363dff);if(_0x363dff[_0xb64fab(0x264)]&&_0x363dff['chatLog'][_0xb64fab(0x561)]){let _0x19710f=_0x363dff[_0xb64fab(0x264)][_0xb64fab(0x561)][_0xb64fab(0x2d7)](_0x12b805=>String(_0x12b805['blockId'])===String(_0x2b5dd9))[_0xb64fab(0x123)];if(_0x81e9fa[_0xb64fab(0x51c)]!==void 0x0&&_0x19710f>=_0x81e9fa['maxActives']){let _0x4caa9e=Date[_0xb64fab(0x423)](),_0x1930db=_0x81e9fa[_0xb64fab(0x64d)]??0xa;isNaN(_0x1930db)&&(_0x1930db=0xa);let _0x1b661a=_0x4caa9e+_0x1930db*0x3c*0x3e8,_0x5bf8d8={'newStoppedUntil':_0x1b661a};return this['updateStopChat'](_0x363dff,_0x1b661a),this[_0xb64fab(0x2db)](_0x363dff,_0x81e9fa,_0x5bf8d8,!0x0),null;}}_0x1ab1f3&&_0x1ab1f3[_0xb64fab(0x50f)]!==_0xb64fab(0x553)&&await this[_0xb64fab(0x3c5)](_0x363dff,_0x1ab1f3),_0x1ab1f3||await this['saveConversationToDatabase'](_0x363dff),_0x1ab1f3&&_0x1ab1f3[_0xb64fab(0x50f)]===_0xb64fab(0x553)&&(_0x363dff[_0xb64fab(0x264)]['lastBlockId']=_0x2b5dd9,await this[_0xb64fab(0x225)](_0x363dff));}async['processblock'](_0x54e68d,_0x55a272){const _0x2e30f6=a0_0x5f0ca0;try{let _0x16cba8=_0x55a272['type'];this[_0x2e30f6(0x5ca)]['verbose'](this[_0x2e30f6(0x4b4)]+'\x20('+this['instance']['wuid']+_0x2e30f6(0x286)+_0x16cba8);let _0x6ef1d1={'uazapi':()=>this[_0x2e30f6(0x4c1)](_0x54e68d,_0x55a272),'save':()=>this['saveTextReply'](_0x54e68d,_0x55a272),'stop':()=>this[_0x2e30f6(0x11f)](_0x54e68d,_0x55a272),'condition':()=>this['processConditions'](_0x54e68d,_0x55a272),'varedit':()=>this['processvaredits'](_0x54e68d,_0x55a272),'apirequest':()=>this[_0x2e30f6(0x2cc)](_0x54e68d,_0x55a272),'goToFlow':()=>this[_0x2e30f6(0x352)](_0x54e68d,_0x55a272)}[_0x16cba8];_0x6ef1d1&&await _0x6ef1d1();}catch(_0x54e98b){this['logger'][_0x2e30f6(0x429)](this[_0x2e30f6(0x4b4)]+'\x20('+this['instance'][_0x2e30f6(0x618)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x54e98b instanceof Error?_0x54e98b[_0x2e30f6(0x689)]:JSON['stringify'](_0x54e98b,null,0x2)));}}async[a0_0x5f0ca0(0x352)](_0x3e016a,_0xe31329){const _0x51bb0e=a0_0x5f0ca0;if(this[_0x51bb0e(0x5ca)][_0x51bb0e(0x524)](this['instanceName']+'\x20('+this['instance'][_0x51bb0e(0x618)]+_0x51bb0e(0x2fa)),!_0x3e016a||!_0xe31329)return this[_0x51bb0e(0x5ca)][_0x51bb0e(0x429)](this[_0x51bb0e(0x4b4)]+'\x20('+this['instance'][_0x51bb0e(0x618)]+_0x51bb0e(0x50a)),null;await this['updateConversation'](_0x3e016a,_0xe31329,{},!0x0,!0x0),console['log'](_0x51bb0e(0x32b)),console[_0x51bb0e(0x5bd)](_0xe31329);let _0x537601=_0xe31329[_0x51bb0e(0x2bc)];console[_0x51bb0e(0x5bd)](_0x51bb0e(0x59d),_0x537601),_0x3e016a=await this[_0x51bb0e(0x266)](_0x537601,_0x3e016a[_0x51bb0e(0x3e8)],_0x3e016a[_0x51bb0e(0x264)]['realVariables']),this[_0x51bb0e(0x5ca)][_0x51bb0e(0x524)](this[_0x51bb0e(0x4b4)]+'\x20('+this[_0x51bb0e(0x4ad)][_0x51bb0e(0x618)]+_0x51bb0e(0x30b));let _0x15b582=await this[_0x51bb0e(0x51d)](_0x3e016a);_0x15b582&&await this[_0x51bb0e(0x3c5)](_0x3e016a,_0x15b582);}async['createConversationforgoToFlow'](_0x5a266b,_0x3a94ac,_0x3858f4){const _0x5defcf=a0_0x5f0ca0;this['logger'][_0x5defcf(0x524)](this[_0x5defcf(0x4b4)]+'\x20('+this[_0x5defcf(0x4ad)][_0x5defcf(0x618)]+_0x5defcf(0x153));try{if(_0x5a266b=await this[_0x5defcf(0x11e)][_0x5defcf(0x345)]['findOne']({'where':{'name':_0x5a266b}},this['instance'][_0x5defcf(0x618)]),!_0x5a266b)return this[_0x5defcf(0x5ca)]['error'](this[_0x5defcf(0x4b4)]+'\x20('+this[_0x5defcf(0x4ad)][_0x5defcf(0x618)]+_0x5defcf(0x4fb)),null;let _0x3d09da=require(_0x5defcf(0x250))['ObjectId'],_0x2c3916=Date[_0x5defcf(0x423)](),_0x488344=_0x5defcf(0x669),_0x40edd9={},_0xb336ff={},_0x53d913={..._0x5a266b,'chatLog':null},_0x54775b={'lastReceivedMessage':_0x40edd9,'lastSendMessage':_0xb336ff,'lastBlockId':_0x488344,'lastCondition':!0x0,'realVariables':_0x3858f4};_0x53d913[_0x5defcf(0x264)]=_0x54775b,_0x53d913[_0x5defcf(0x264)][_0x5defcf(0x640)]={..._0x3858f4},delete _0x53d913[_0x5defcf(0x1f1)],_0x53d913[_0x5defcf(0x1f1)]=new _0x3d09da(),_0x53d913[_0x5defcf(0x6bb)]=_0x2c3916,_0x53d913[_0x5defcf(0x5ff)]=_0x5defcf(0x330),_0x53d913[_0x5defcf(0x3e8)]=_0x3a94ac;let _0x113e09=await this[_0x5defcf(0x11e)][_0x5defcf(0x575)][_0x5defcf(0x41a)](_0x53d913[_0x5defcf(0x1f1)],_0x53d913,this['instance'][_0x5defcf(0x618)]);return this['logger'][_0x5defcf(0x524)](this['instanceName']+'\x20('+this['instance'][_0x5defcf(0x618)]+_0x5defcf(0x6e3)),_0x113e09?_0x53d913:null;}catch(_0x3ab821){throw this[_0x5defcf(0x5ca)][_0x5defcf(0x429)](this[_0x5defcf(0x4b4)]+'\x20('+this[_0x5defcf(0x4ad)]['wuid']+_0x5defcf(0x124)+(_0x3ab821 instanceof Error?_0x3ab821[_0x5defcf(0x689)]:JSON[_0x5defcf(0x1c7)](_0x3ab821,null,0x2))),new w(_0x3ab821[_0x5defcf(0x689)]);}}async[a0_0x5f0ca0(0x2cc)](_0x47f7e3,_0x16af9c){const _0x150a9c=a0_0x5f0ca0;let _0x1358a8,_0x1b0d14;try{let _0x11b2e2=_0x16af9c[_0x150a9c(0x71e)];if(!_0x11b2e2||!_0x11b2e2[_0x150a9c(0x67a)]||!_0x11b2e2[_0x150a9c(0x34a)])throw new Error(_0x150a9c(0x6e5));let _0x171582;(['https://api.openai.com/v1/audio/speech',_0x150a9c(0x72f),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x150a9c(0x51a)](_0x42670d=>_0x11b2e2[_0x150a9c(0x67a)][_0x150a9c(0x6ea)](_0x42670d))||_0x11b2e2[_0x150a9c(0x75f)])&&(_0x171582=_0x150a9c(0x72e));let _0x40d6c6={'method':_0x11b2e2['method'],'url':_0x11b2e2[_0x150a9c(0x67a)],'headers':_0x11b2e2[_0x150a9c(0x672)]||{},'data':_0x11b2e2['body']||{},..._0x171582&&{'responseType':_0x171582}},_0x5dab35=await(0x0,se[_0x150a9c(0x19d)])(_0x40d6c6),_0x48d742=_0x5dab35[_0x150a9c(0x356)][_0x150a9c(0x454)];if(_0x48d742&&_0x48d742['includes'](_0x150a9c(0x1eb))){_0x1358a8=_0x5dab35['data'];let _0x4f58c5=_0x47f7e3['chatLog'][_0x150a9c(0x640)],_0x1cdf97=this[_0x150a9c(0x5a8)](_0x1358a8);return Object['assign'](_0x4f58c5,_0x1cdf97),_0x47f7e3['chatLog'][_0x150a9c(0x640)]=_0x4f58c5,_0x1b0d14={'error':!0x1,'apiResponse':_0x1358a8},this[_0x150a9c(0x2db)](_0x47f7e3,_0x16af9c,_0x1b0d14),_0x1358a8;}if(_0x48d742&&(_0x48d742[_0x150a9c(0x6ea)](_0x150a9c(0x6b4))||_0x48d742[_0x150a9c(0x6ea)](_0x150a9c(0x70d))||_0x48d742[_0x150a9c(0x6ea)]('audio')||_0x48d742[_0x150a9c(0x6ea)](_0x150a9c(0x6fd)))){this['logger']['verbose'](this[_0x150a9c(0x4b4)]+'\x20('+this['instance'][_0x150a9c(0x618)]+_0x150a9c(0x380)+_0x48d742);let _0x2ffabb=(0x0,Me['v4'])(),_0xa09900='',_0x5b2452={'image/jpeg':'.jpg','image/png':'.png','image/gif':_0x150a9c(0x23e),'image/webp':_0x150a9c(0x18c),'image/svg+xml':'.svg','audio/mpeg':_0x150a9c(0x45c),'audio/ogg':_0x150a9c(0x10d),'audio/wav':_0x150a9c(0x438),'video/mp4':_0x150a9c(0x709),'video/webm':'.webm','video/ogg':_0x150a9c(0x253),'text/plain':_0x150a9c(0x5b4),'application/pdf':'.pdf','application/msword':_0x150a9c(0x373),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x150a9c(0x5e7),'application/vnd.ms-powerpoint':_0x150a9c(0x713),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x150a9c(0x630)};_0x5b2452[_0x48d742]?(_0xa09900=_0x5b2452[_0x48d742],this[_0x150a9c(0x5ca)][_0x150a9c(0x524)](this[_0x150a9c(0x4b4)]+'\x20('+this[_0x150a9c(0x4ad)]['wuid']+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0xa09900)):(_0xa09900=_0x150a9c(0x6ab),this[_0x150a9c(0x5ca)]['verbose'](this[_0x150a9c(0x4b4)]+'\x20('+this[_0x150a9c(0x4ad)][_0x150a9c(0x618)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0xa09900)),_0x2ffabb+=_0xa09900,this['logger']['verbose'](this[_0x150a9c(0x4b4)]+'\x20('+this[_0x150a9c(0x4ad)][_0x150a9c(0x618)]+_0x150a9c(0x52c)+_0x2ffabb);let _0x23cf50=this[_0x150a9c(0x122)]['get'](_0x150a9c(0x5e1))[_0x150a9c(0x3db)];if(!_0x23cf50){let _0x308235=this[_0x150a9c(0x122)][_0x150a9c(0xf5)](_0x150a9c(0x50c));_0x23cf50=_0x150a9c(0x154)+(_0x308235&&_0x308235['FULLCHAIN']['split']('/')[0x4]);}let _0x1a224e=Buffer[_0x150a9c(0x59c)](_0x5dab35[_0x150a9c(0x62e)]);await this[_0x150a9c(0xdf)](_0x1a224e,_0x2ffabb);let _0xa06958=_0x150a9c(0x160)+_0x2ffabb;_0xa06958=''+_0x23cf50+_0xa06958,_0x1358a8={'fileUrl':_0xa06958},_0x47f7e3[_0x150a9c(0x264)][_0x150a9c(0x640)][_0x150a9c(0x1d1)]=_0xa06958;let _0x5da1ee=_0x47f7e3[_0x150a9c(0x264)]['realVariables'],_0x121b23=this[_0x150a9c(0x5a8)](_0x1358a8);return Object[_0x150a9c(0x725)](_0x5da1ee,_0x121b23),_0x47f7e3[_0x150a9c(0x264)]['realVariables']=_0x5da1ee,_0x1b0d14={'error':!0x1,'apiResponse':{'fileUrl':_0xa06958}},this['updateConversation'](_0x47f7e3,_0x16af9c,_0x1b0d14),_0x1358a8;}}catch(_0xb3d5fe){console[_0x150a9c(0x429)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0xb3d5fe),_0xb3d5fe['response']&&(_0x1358a8=_0xb3d5fe[_0x150a9c(0x588)][_0x150a9c(0x62e)]);let _0x568567=_0x47f7e3['chatLog']['realVariables'],_0x29a336=this[_0x150a9c(0x5a8)](_0x1358a8);return Object['assign'](_0x568567,_0x29a336),_0x47f7e3[_0x150a9c(0x264)][_0x150a9c(0x640)]=_0x568567,_0x1b0d14={'error':!0x0,'errorLog':_0xb3d5fe[_0x150a9c(0x59b)](),'apiResponse':_0x1358a8},this[_0x150a9c(0x2db)](_0x47f7e3,_0x16af9c,_0x1b0d14),{'success':!0x1};}}['applyvaredit'](_0x26f32e,_0xdc2285){const _0x436e50=a0_0x5f0ca0;let _0xe42789=_0x53c4d2=>{const _0x5cc518=a0_0x2797;let _0xa13097=_0x53c4d2[_0x5cc518(0x27a)](/[^0-9.,-]/g,'')[_0x5cc518(0x27a)](',','.'),_0x15bdb5=parseFloat(_0xa13097);return isNaN(_0x15bdb5)?null:_0x15bdb5;},_0x371f80=_0xdc2285[_0x436e50(0x4b2)],_0x4c7607=_0xdc2285['secondValue'];typeof _0x371f80=='string'&&(_0x371f80=this['replaceVariables'](_0x371f80,_0x26f32e[_0x436e50(0x264)][_0x436e50(0x640)])??''),typeof _0x4c7607==_0x436e50(0x612)&&(_0x4c7607=this[_0x436e50(0x611)](_0x4c7607,_0x26f32e[_0x436e50(0x264)][_0x436e50(0x640)])??'');let _0x11430e=null;if(!_0xdc2285[_0x436e50(0x39b)])return null;switch(this[_0x436e50(0x5ca)][_0x436e50(0x524)](this[_0x436e50(0x4b4)]+'\x20('+this['instance'][_0x436e50(0x618)]+_0x436e50(0x535)+_0x371f80),this[_0x436e50(0x5ca)][_0x436e50(0x524)](this[_0x436e50(0x4b4)]+'\x20('+this[_0x436e50(0x4ad)][_0x436e50(0x618)]+_0x436e50(0x5a1)+_0x4c7607),_0xdc2285[_0x436e50(0x39b)]){case'+':case'-':case'*':case'/':let _0x16d87c=_0xe42789(_0x371f80||'0'),_0x1f623b=_0xe42789(_0x4c7607||'0');if(_0x16d87c===null)return null;switch(_0xdc2285[_0x436e50(0x39b)]){case'+':_0x11430e=_0x16d87c+(_0x1f623b??0x0);break;case'-':_0x11430e=_0x16d87c-(_0x1f623b??0x0);break;case'*':_0x11430e=_0x16d87c*(_0x1f623b??0x1);break;case'/':_0x1f623b!==0x0&&(_0x11430e=_0x16d87c/(_0x1f623b??0x1));break;}break;case _0x436e50(0x5da):case'findAndReplaceRegex':let _0x1b6466=_0x4c7607,_0x47f0b8=_0xdc2285[_0x436e50(0x532)];if(typeof _0x47f0b8==_0x436e50(0x612)&&(_0x47f0b8=this[_0x436e50(0x611)](_0x47f0b8,_0x26f32e[_0x436e50(0x264)][_0x436e50(0x640)])??''),_0x1b6466&&_0x47f0b8!==void 0x0){let _0x53134f=_0xdc2285[_0x436e50(0x39b)]==='findAndReplace'?new RegExp(_0x1b6466[_0x436e50(0x27a)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x1b6466,'g');_0x11430e=_0x371f80['replace'](_0x53134f,_0x47f0b8);}else console[_0x436e50(0x5bc)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x11430e=_0x4c7607;break;case _0x436e50(0x27c):let _0x2e21a5=_0x371f80[_0x436e50(0x203)](new RegExp(_0x4c7607||''));_0x11430e=_0x2e21a5?_0x2e21a5[0x0]:'';break;case _0x436e50(0x2c3):_0x11430e=_0x371f80[_0x436e50(0x17f)](0x0,parseInt(_0x4c7607||'0'));break;case _0x436e50(0x5c6):let _0x1b3b3d=parseInt(_0x4c7607||'0');_0x11430e=_0x371f80['slice'](_0x371f80['length']-_0x1b3b3d);break;case _0x436e50(0x744):let _0x1ced1e=_0xe42789(_0x371f80),_0x52477b=parseInt(_0x4c7607||'0');_0x52477b=Math[_0x436e50(0x49e)](_0x52477b),_0x1ced1e!==null?_0x11430e=_0x1ced1e[_0x436e50(0x4e3)](_0x436e50(0x61f),{'minimumFractionDigits':_0x52477b,'maximumFractionDigits':_0x52477b}):(console['warn'](_0x436e50(0x4a5)+_0x371f80),_0x11430e=null);break;case _0x436e50(0xfe):let _0x12d1bf=_0xe42789(_0x371f80);_0x12d1bf!==null?_0x11430e=_0x12d1bf[_0x436e50(0x4e3)](_0x436e50(0x61f),{'style':'currency','currency':_0x436e50(0x353)}):(console[_0x436e50(0x5bc)](_0x436e50(0x275)+_0x371f80),_0x11430e=null);break;case'upperCase':_0x11430e=_0x371f80[_0x436e50(0x3b2)]();break;case _0x436e50(0x4d6):_0x11430e=_0x371f80['toLowerCase']();break;case _0x436e50(0x579):_0x11430e=_0x371f80[_0x436e50(0x70e)]('\x20')['map'](_0x1ce3fd=>_0x1ce3fd['charAt'](0x0)[_0x436e50(0x3b2)]()+_0x1ce3fd[_0x436e50(0x17f)](0x1)[_0x436e50(0x6f4)]())[_0x436e50(0xe3)]('\x20');break;case _0x436e50(0x3f5):_0x11430e=_0x371f80['trim']();break;default:_0x11430e=_0x371f80;}return _0x11430e!==null?_0x11430e[_0x436e50(0x59b)]():null;}async['processvaredits'](_0x465f66,_0x368772){const _0x1299e3=a0_0x5f0ca0;try{let _0x789fab=_0x465f66[_0x1299e3(0x1e3)]?.['filter'](_0x2d438a=>_0x2d438a[_0x1299e3(0xe5)]===_0x368772[_0x1299e3(0x1f1)]?.[_0x1299e3(0x59b)]())||[],_0x7115=_0x368772[_0x1299e3(0x5f4)],_0x315172=null,_0x203af1=[],_0x5d4ab1=_0x465f66['chatLog'][_0x1299e3(0x640)][_0x7115];_0x203af1[_0x1299e3(0x181)](_0x1299e3(0x1e5)+_0x5d4ab1+'\x22');for(let _0x534d6f of _0x789fab){_0x534d6f['firstValue']=_0x5d4ab1,_0x315172=_0x534d6f[_0x1299e3(0x4b2)];let _0x341fc3;try{_0x341fc3=this['applyvaredit'](_0x465f66,_0x534d6f);}catch(_0x3b34cf){console[_0x1299e3(0x429)](_0x1299e3(0x65b)+_0x3b34cf[_0x1299e3(0x689)]);continue;}if(_0x341fc3!==null){let _0x50781b='Operador:\x20\x22'+_0x534d6f[_0x1299e3(0x39b)]+'\x22',_0x5eb76e=[_0x1299e3(0xfe),_0x1299e3(0x43e),'lowerCase',_0x1299e3(0x579),_0x1299e3(0x3f5)];_0x534d6f[_0x1299e3(0x39b)]===_0x1299e3(0x5da)||_0x534d6f['editOperator']===_0x1299e3(0x6d7)?_0x50781b+=_0x1299e3(0x5a7)+_0x534d6f['secondValue']+_0x1299e3(0xeb)+_0x534d6f[_0x1299e3(0x532)]+'\x22':!_0x5eb76e[_0x1299e3(0x6ea)](_0x534d6f[_0x1299e3(0x39b)])&&_0x534d6f['secondValue']!==null&&_0x534d6f[_0x1299e3(0x158)]!==void 0x0&&(_0x50781b+=_0x1299e3(0x28d)+_0x534d6f[_0x1299e3(0x158)]+'\x22'),_0x50781b+=_0x1299e3(0x303)+_0x341fc3+'.',_0x203af1[_0x1299e3(0x181)](_0x50781b);}_0x341fc3!==null&&(_0x5d4ab1=_0x341fc3);}if(_0x465f66[_0x1299e3(0x264)][_0x1299e3(0x640)]&&_0x368772[_0x1299e3(0x5f4)]){_0x465f66['chatLog'][_0x1299e3(0x640)][_0x368772[_0x1299e3(0x5f4)]]=_0x5d4ab1;let _0x314b26={'variable':_0x368772[_0x1299e3(0x5f4)],'oldValue':_0x315172,'newValue':_0x5d4ab1,'moreLogs':_0x203af1};try{this['updateConversation'](_0x465f66,_0x368772,_0x314b26);}catch(_0x1a0b21){console[_0x1299e3(0x429)](_0x1299e3(0x3a2)+_0x1a0b21[_0x1299e3(0x689)]);}}return _0x7115;}catch(_0x10ba3f){return console['error']('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x10ba3f[_0x1299e3(0x689)]),null;}}async[a0_0x5f0ca0(0x1d4)](_0x53161b,_0x112393){const _0x37cc16=a0_0x5f0ca0;try{let _0x4fb96f=[],_0x555bfe=_0x53161b[_0x37cc16(0x5e6)][_0x37cc16(0x2d7)](_0x456011=>_0x456011[_0x37cc16(0xe5)]===_0x112393['_id'][_0x37cc16(0x59b)]()),_0x20efe9=null,_0x1bab00=!0x1;for(let _0x34750d of _0x555bfe){let _0x14499b=this[_0x37cc16(0x1b9)](_0x53161b,_0x34750d);_0x4fb96f[_0x37cc16(0x181)](_0x37cc16(0x18a)+_0x34750d[_0x37cc16(0x4b2)]+_0x37cc16(0x6dc)+_0x34750d[_0x37cc16(0x5ce)]+_0x37cc16(0x1f9)+_0x34750d[_0x37cc16(0x158)]+_0x37cc16(0x1db)+_0x14499b),_0x20efe9===null?_0x20efe9=_0x14499b:_0x34750d[_0x37cc16(0x202)]===_0x37cc16(0x4b6)?(_0x20efe9=_0x20efe9&&_0x14499b,_0x14499b||(_0x1bab00=!0x0)):_0x34750d[_0x37cc16(0x202)]==='or'&&(_0x1bab00||(_0x20efe9=_0x20efe9||_0x14499b));}_0x20efe9===null&&(_0x20efe9=!0x0);let _0x12375b={'moreLogs':_0x4fb96f};_0x53161b[_0x37cc16(0x264)][_0x37cc16(0x6ca)]=_0x20efe9,await this[_0x37cc16(0x2db)](_0x53161b,_0x112393,_0x12375b);}catch(_0x9282){this[_0x37cc16(0x5ca)][_0x37cc16(0x429)](this['instanceName']+'\x20('+this[_0x37cc16(0x4ad)][_0x37cc16(0x618)]+_0x37cc16(0x5ad)+(_0x9282 instanceof Error?_0x9282['message']:JSON[_0x37cc16(0x1c7)](_0x9282,null,0x2)));}}['evaluateCondition'](_0x19cd19,_0x2e7915){const _0x378f36=a0_0x5f0ca0;let _0x144f6b=_0x2e7915[_0x378f36(0x4b2)],_0x57e01b=_0x2e7915[_0x378f36(0x158)];typeof _0x144f6b=='string'&&(_0x144f6b=this['replaceVariables'](_0x144f6b,_0x19cd19[_0x378f36(0x264)]['realVariables'])??''),typeof _0x57e01b==_0x378f36(0x612)&&(_0x57e01b=this[_0x378f36(0x611)](_0x57e01b,_0x19cd19['chatLog'][_0x378f36(0x640)])??'');try{switch(_0x2e7915['expression']){case _0x378f36(0x1ae):return _0x144f6b===_0x57e01b;case _0x378f36(0x61c):return _0x144f6b!==_0x57e01b;case _0x378f36(0x517):return this[_0x378f36(0x517)](_0x144f6b,_0x57e01b);case'notContains':return!this[_0x378f36(0x517)](_0x144f6b,_0x57e01b);case _0x378f36(0x600):return parseFloat(_0x144f6b)>parseFloat(_0x57e01b);case _0x378f36(0x723):return parseFloat(_0x144f6b)<parseFloat(_0x57e01b);case'notEmpty':return _0x144f6b!=='';case'empty':return _0x144f6b==='';case'matchRegex':return new RegExp(_0x57e01b)[_0x378f36(0x268)](_0x144f6b);case'notMatchRegex':return!new RegExp(_0x57e01b)[_0x378f36(0x268)](_0x144f6b);default:return!0x1;}}catch(_0x359c8a){return console[_0x378f36(0x429)](_0x378f36(0x33f)+_0x359c8a),!0x1;}}[a0_0x5f0ca0(0x517)](_0x179ddd,_0xb78a39){const _0x5741a0=a0_0x5f0ca0;if(_0x179ddd===_0xb78a39&&/^\d+$/[_0x5741a0(0x268)](_0x179ddd))return!0x0;if(this[_0x5741a0(0x61b)](_0x179ddd)&&/^\d+$/[_0x5741a0(0x268)](_0xb78a39)){let _0x1d8bfd=_0x179ddd[_0x5741a0(0x70e)](',')['map'](_0x5ba28c=>parseInt(_0x5ba28c[_0x5741a0(0x29e)]())),_0x37fe73=parseInt(_0xb78a39);return _0x1d8bfd[_0x5741a0(0x6ea)](_0x37fe73);}return _0x179ddd[_0x5741a0(0x6ea)](_0xb78a39);}[a0_0x5f0ca0(0x61b)](_0x6f06b5){const _0x2cd3ad=a0_0x5f0ca0;return/^\d+(,\d+)*$/[_0x2cd3ad(0x268)](_0x6f06b5);}[a0_0x5f0ca0(0x4a0)](_0x215855){const _0xc44511=a0_0x5f0ca0;let _0x4d69c7=!0x0,_0x1e9b9d=null;for(let _0x8c8c91 of _0x215855){let _0x21a77e=this['evaluateConditionTest'](_0x8c8c91);if(_0x1e9b9d==='or'&&_0x21a77e){_0x4d69c7=!0x0;break;}if(_0x1e9b9d===_0xc44511(0x4b6)&&!_0x21a77e){_0x4d69c7=!0x1;break;}_0x1e9b9d=_0x8c8c91[_0xc44511(0x202)];}return _0x4d69c7;}[a0_0x5f0ca0(0x6c2)](_0x27bc80){const _0x4b56a7=a0_0x5f0ca0;let _0x2f58d6=_0x27bc80[_0x4b56a7(0x4b2)],_0x38cf54=_0x27bc80[_0x4b56a7(0x158)];try{switch(_0x27bc80[_0x4b56a7(0x5ce)]){case _0x4b56a7(0x1ae):return String(_0x2f58d6)===String(_0x38cf54);case _0x4b56a7(0x61c):return String(_0x2f58d6)!==String(_0x38cf54);case _0x4b56a7(0x517):return String(_0x2f58d6)[_0x4b56a7(0x6ea)](String(_0x38cf54));case _0x4b56a7(0x130):return!String(_0x2f58d6)[_0x4b56a7(0x6ea)](String(_0x38cf54));case _0x4b56a7(0x600):return parseFloat(String(_0x2f58d6))>parseFloat(String(_0x38cf54));case'less':return parseFloat(String(_0x2f58d6))<parseFloat(String(_0x38cf54));case _0x4b56a7(0x1a9):return String(_0x2f58d6)!=='';case _0x4b56a7(0x638):return String(_0x2f58d6)==='';case _0x4b56a7(0x66d):return new RegExp(String(_0x38cf54))[_0x4b56a7(0x268)](String(_0x2f58d6));case'notMatchRegex':return!new RegExp(String(_0x38cf54))[_0x4b56a7(0x268)](String(_0x2f58d6));default:return!0x1;}}catch(_0x28d3ed){return console[_0x4b56a7(0x429)](_0x4b56a7(0x33f)+_0x28d3ed),!0x1;}}async[a0_0x5f0ca0(0x5c2)](_0x1cb42a,_0x254012){const _0x562c8d=a0_0x5f0ca0;if(this[_0x562c8d(0x5ca)]['verbose'](this[_0x562c8d(0x4b4)]+'\x20('+this['instance']['wuid']+_0x562c8d(0x344)),!_0x1cb42a||!_0x254012)return this[_0x562c8d(0x5ca)][_0x562c8d(0x429)](this[_0x562c8d(0x4b4)]+'\x20('+this[_0x562c8d(0x4ad)][_0x562c8d(0x618)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3478e9=_0x254012[_0x562c8d(0x5f4)],_0x297168=_0x1cb42a['chatLog']['lastReceivedMessage'][_0x562c8d(0x5f0)]||_0x1cb42a[_0x562c8d(0x264)][_0x562c8d(0x5f6)][_0x562c8d(0x485)]||_0x1cb42a[_0x562c8d(0x264)][_0x562c8d(0x5f6)][_0x562c8d(0x69f)];try{_0x1cb42a[_0x562c8d(0x264)][_0x562c8d(0x640)]||(_0x1cb42a[_0x562c8d(0x264)][_0x562c8d(0x640)]={});let _0x161085=_0x1cb42a[_0x562c8d(0x264)][_0x562c8d(0x640)][_0x3478e9];_0x1cb42a[_0x562c8d(0x264)]['realVariables'][_0x3478e9]=_0x297168;let _0x31ad99={'variable':_0x3478e9,'oldValue':_0x161085,'newValue':_0x297168};this[_0x562c8d(0x2db)](_0x1cb42a,_0x254012,_0x31ad99),this[_0x562c8d(0x5ca)][_0x562c8d(0x524)](this[_0x562c8d(0x4b4)]+'\x20('+this[_0x562c8d(0x4ad)][_0x562c8d(0x618)]+_0x562c8d(0x315));}catch(_0x42194e){let _0x3f777e={'error':!0x0,'errorLog':_0x42194e['toString']()};return this['updateConversation'](_0x1cb42a,_0x254012,_0x3f777e),this[_0x562c8d(0x5ca)][_0x562c8d(0x429)](this['instanceName']+'\x20('+this[_0x562c8d(0x4ad)]['wuid']+_0x562c8d(0x55b)+(_0x42194e instanceof Error?_0x42194e[_0x562c8d(0x689)]:JSON[_0x562c8d(0x1c7)](_0x42194e,null,0x2))),null;}}async['stopConversation'](_0x15cdde,_0x5aada8){const _0x374296=a0_0x5f0ca0;if(this['logger'][_0x374296(0x524)](this[_0x374296(0x4b4)]+'\x20('+this[_0x374296(0x4ad)]['wuid']+_0x374296(0x15f)),!_0x15cdde||!_0x5aada8)return this[_0x374296(0x5ca)]['error'](this[_0x374296(0x4b4)]+'\x20('+this[_0x374296(0x4ad)][_0x374296(0x618)]+_0x374296(0x50a)),null;let _0x586535=Date['now'](),_0x50fb40=parseInt(_0x5aada8[_0x374296(0x249)],0xa);if(isNaN(_0x50fb40))return this[_0x374296(0x5ca)][_0x374296(0x429)](this[_0x374296(0x4b4)]+'\x20('+this['instance'][_0x374296(0x618)]+_0x374296(0x5ee)),null;let _0x195fa1={'newStoppedUntil':_0x586535+_0x50fb40*0x3c*0x3e8};return await this[_0x374296(0x2db)](_0x15cdde,_0x5aada8,_0x195fa1,!0x0),null;}async[a0_0x5f0ca0(0x4c1)](_0x873a84,_0x4c0dd8){const _0xa1b731=a0_0x5f0ca0;try{switch(_0x4c0dd8['uazapi'][_0xa1b731(0x5cf)]){case _0xa1b731(0x1a4):await this[_0xa1b731(0x2fe)](_0x873a84,_0x4c0dd8);break;case _0xa1b731(0x204):await this['uazapiSendMedia'](_0x873a84,_0x4c0dd8);break;case _0xa1b731(0x500):await this['uazapiSendLocation'](_0x873a84,_0x4c0dd8);break;case _0xa1b731(0x16b):await this['uazapiSendAudio'](_0x873a84,_0x4c0dd8);break;case _0xa1b731(0x4af):await this[_0xa1b731(0x530)](_0x873a84,_0x4c0dd8);break;case _0xa1b731(0x767):await this[_0xa1b731(0x34e)](_0x873a84,_0x4c0dd8);break;case _0xa1b731(0x603):await this[_0xa1b731(0x34e)](_0x873a84,_0x4c0dd8);break;case _0xa1b731(0x139):await this['uazapiDeleteMessage'](_0x873a84,_0x4c0dd8);break;default:this[_0xa1b731(0x5ca)][_0xa1b731(0x429)](this[_0xa1b731(0x4b4)]+'\x20('+this['instance'][_0xa1b731(0x618)]+_0xa1b731(0x3ea)+_0x4c0dd8[_0xa1b731(0x222)][_0xa1b731(0x5cf)]);}}catch(_0x312e55){this['logger'][_0xa1b731(0x429)](this[_0xa1b731(0x4b4)]+'\x20('+this['instance']['wuid']+_0xa1b731(0x64c)+(_0x312e55 instanceof Error?_0x312e55[_0xa1b731(0x689)]:JSON[_0xa1b731(0x1c7)](_0x312e55,null,0x2)));}}async[a0_0x5f0ca0(0x2db)](_0x3b1b28,_0x29ea8f,_0x35a941,_0x46f027=!0x1,_0xc30256=!0x1){const _0x243daf=a0_0x5f0ca0;_0x3b1b28['chatLog'][_0x243daf(0x561)]||(_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x561)]=[]);let _0x4c9ce6=(_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x561)]?.[_0x243daf(0x123)]??0x0)+0x1,_0x482e71=_0x3b1b28[_0x243daf(0x264)]['blockLogs']['filter'](_0x1a5d77=>String(_0x1a5d77['blockId'])===String(_0x29ea8f[_0x243daf(0x1f1)]))[_0x243daf(0x123)]+0x1,_0x48cc7c=_0x35a941?.[_0x243daf(0x482)]??Date['now'](),_0x154a99=_0x35a941?.['error']?_0x35a941[_0x243daf(0x280)]??_0x35a941[_0x243daf(0x429)][_0x243daf(0x59b)]():void 0x0,_0x1d019f={'onTime':_0x48cc7c,'blockId':_0x29ea8f[_0x243daf(0x1f1)],'order':_0x4c9ce6,'activatedCount':_0x482e71,'error':_0x35a941?.[_0x243daf(0x429)]??!0x1,'messageId':_0x35a941?.[_0x243daf(0x1ff)],'apiResponse':_0x35a941?.[_0x243daf(0x75c)],'apiResponseString':_0x35a941?.['apiResponse']?JSON[_0x243daf(0x1c7)](_0x35a941?.[_0x243daf(0x75c)]):void 0x0,'variable':_0x35a941?.['variable'],'oldValue':_0x35a941?.[_0x243daf(0x4e6)],'newValue':_0x35a941?.['newValue'],'newStoppedUntil':_0x35a941?.[_0x243daf(0x1c2)],'moreLogs':_0x35a941?.['moreLogs'],'errorLog':_0x154a99};if(_0x35a941[_0x243daf(0x152)]&&_0x35a941[_0x243daf(0x152)][_0x243daf(0x123)]>0x0){let _0x48a623=_0x35a941[_0x243daf(0x152)]['map'](_0x4caa3a=>this['replaceVariablesLogs'](_0x4caa3a,_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x640)]));_0x1d019f['moreLogs']=_0x48a623;}_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x640)]||(_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x640)]={}),_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x640)][_0x243daf(0x2bf)]=String(_0x482e71),_0x3b1b28['chatLog'][_0x243daf(0x640)][_0x243daf(0x30e)]=String(_0x35a941['error']??!0x1),_0x3b1b28[_0x243daf(0x264)]['blockLogs'][_0x243daf(0x181)](_0x1d019f),_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x604)]=_0x29ea8f[_0x243daf(0x1f1)][_0x243daf(0x59b)](),_0x3b1b28[_0x243daf(0x264)]['lastSendMessage']&&(_0x3b1b28[_0x243daf(0x264)]['lastSendMessage']=_0x3b1b28[_0x243daf(0x264)]['lastSendMessage']),_0x3b1b28[_0x243daf(0x264)]['lastReceivedMessage']&&(_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x5f6)]=_0x3b1b28[_0x243daf(0x264)]['lastReceivedMessage']),_0x3b1b28[_0x243daf(0x264)]['lastCondition']&&(_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x6ca)]=_0x3b1b28[_0x243daf(0x264)][_0x243daf(0x6ca)]),_0xc30256&&(_0x3b1b28[_0x243daf(0x5ff)]=_0x243daf(0x5cd)),_0x46f027?this['saveConversationToDatabase'](_0x3b1b28):this[_0x243daf(0x721)](_0x3b1b28,_0x29ea8f);}['replaceVariablesLogs'](_0x28ef,_0x4ebc2d){const _0x156f05=a0_0x5f0ca0;return _0x28ef['replace'](/\{\{([^}]+)\}\}/g,(_0x2d6306,_0x935510)=>_0x4ebc2d[_0x935510]?'{{'+_0x935510+_0x156f05(0x3a5)+_0x4ebc2d[_0x935510]+'\x22':'{{'+_0x935510+_0x156f05(0x2c0));}async[a0_0x5f0ca0(0x225)](_0xbca7c3){const _0x308de0=a0_0x5f0ca0;try{let _0x3ef816=Object[_0x308de0(0x4d4)](_0xbca7c3[_0x308de0(0x264)][_0x308de0(0x640)])[_0x308de0(0x59f)](([_0x565547,_0x36ecd7])=>({'name':_0x565547,'value':_0x36ecd7})),_0x3fd5fa={'status':_0xbca7c3[_0x308de0(0x5ff)],'blocks':_0xbca7c3[_0x308de0(0xea)],'waitingMenu_id':_0xbca7c3[_0x308de0(0x70f)],'waitingMenu_text':_0xbca7c3['waitingMenu_text'],'waitingMenu_replyOptions':_0xbca7c3[_0x308de0(0x407)],'chatLog':{'lastBlockId':_0xbca7c3[_0x308de0(0x264)]['lastBlockId'],'lastSendMessage':_0xbca7c3[_0x308de0(0x264)][_0x308de0(0x260)],'lastReceivedMessage':_0xbca7c3[_0x308de0(0x264)][_0x308de0(0x5f6)],'lastCondition':_0xbca7c3[_0x308de0(0x264)][_0x308de0(0x6ca)],'chatVariables':_0x3ef816,'realVariables':_0xbca7c3[_0x308de0(0x264)]['realVariables'],'blockLogs':_0xbca7c3['chatLog'][_0x308de0(0x561)]}},_0x190a08=await this[_0x308de0(0x11e)][_0x308de0(0x575)][_0x308de0(0x41a)](_0xbca7c3[_0x308de0(0x1f1)],_0x3fd5fa,this[_0x308de0(0x4ad)][_0x308de0(0x618)]);if(_0x190a08){this[_0x308de0(0x5ca)]['verbose'](this[_0x308de0(0x4b4)]+'\x20('+this['instance'][_0x308de0(0x618)]+_0x308de0(0x71f)+_0x190a08[_0x308de0(0x1f1)]);try{let _0x238852=[_0x308de0(0x75b),_0x308de0(0x21a),'email',_0x308de0(0x5c7),_0x308de0(0x5ff),_0x308de0(0x5b9),_0x308de0(0x74e),_0x308de0(0x5c3),'etiquetas'];if(!this[_0x308de0(0x1a7)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x2d87bb=this[_0x308de0(0x1a7)]?.[_0x308de0(0x1e7)][_0x308de0(0x59f)](_0x28025d=>_0x28025d['name']),_0x102577={};Object[_0x308de0(0x4d4)](_0xbca7c3[_0x308de0(0x264)]['realVariables'])['forEach'](([_0x11f9f9,_0x33ab1e])=>{const _0x4d40e1=_0x308de0;_0x238852[_0x4d40e1(0x6ea)](_0x11f9f9)&&(_0x11f9f9===_0x4d40e1(0x5c3)&&typeof _0x33ab1e==_0x4d40e1(0x612)?_0x102577[_0x11f9f9]=_0x33ab1e[_0x4d40e1(0x70e)](',')[_0x4d40e1(0x59f)](_0xc14404=>_0xc14404[_0x4d40e1(0x29e)]())[_0x4d40e1(0x2d7)](_0x23d08e=>_0x23d08e!==''):_0x11f9f9===_0x4d40e1(0x36a)&&typeof _0x33ab1e==_0x4d40e1(0x612)?_0x102577[_0x11f9f9]=_0x33ab1e[_0x4d40e1(0x70e)](',')['map'](_0x21c74e=>_0x21c74e[_0x4d40e1(0x29e)]())[_0x4d40e1(0x2d7)](_0x40ec55=>_0x40ec55!==''):_0x102577[_0x11f9f9]=_0x33ab1e);});let _0x12ae11=_0xbca7c3[_0x308de0(0x264)][_0x308de0(0x561)][_0xbca7c3[_0x308de0(0x264)][_0x308de0(0x561)][_0x308de0(0x123)]-0x1];if(_0x12ae11){let _0x57f742=_0x12ae11[_0x308de0(0x1c2)];_0x57f742!==void 0x0&&(_0x102577[_0x308de0(0x159)]=_0x57f742[_0x308de0(0x59b)]());}let _0x2d52dd=_0x3ef816[_0x308de0(0x2d7)](_0x2e573d=>_0x2d87bb[_0x308de0(0x6ea)](_0x2e573d[_0x308de0(0x309)]));this[_0x308de0(0x5ca)]['verbose'](this[_0x308de0(0x4b4)]+'\x20('+this[_0x308de0(0x4ad)][_0x308de0(0x618)]+_0x308de0(0x329)),this[_0x308de0(0x5ca)][_0x308de0(0x524)](_0x102577),this['logger']['verbose'](this[_0x308de0(0x4b4)]+'\x20('+this[_0x308de0(0x4ad)][_0x308de0(0x618)]+_0x308de0(0x6e0)),this['logger']['verbose'](_0x2d52dd);let _0x246625=_0x2d52dd[_0x308de0(0x59f)](_0x4143e0=>{const _0x41bf42=_0x308de0;let _0x4219d1=this[_0x41bf42(0x1a7)]?.['customFields'][_0x41bf42(0x215)](_0x2b6d6a=>_0x2b6d6a['name']===_0x4143e0['name']);if(!_0x4219d1)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x4143e0[_0x41bf42(0x309)]);return{'_id':_0x4219d1['_id'],'value':_0x4143e0['value']};});this[_0x308de0(0x5ca)]['verbose'](this[_0x308de0(0x4b4)]+'\x20('+this[_0x308de0(0x4ad)][_0x308de0(0x618)]+'):\x20transformedCustomFieldVariables'),this[_0x308de0(0x5ca)]['verbose'](_0x246625),await this['saveChatVariables'](_0xbca7c3[_0x308de0(0x3e8)],_0x102577,_0x246625);}catch(_0x2f8b71){this['logger'][_0x308de0(0x429)](this[_0x308de0(0x4b4)]+'\x20('+this[_0x308de0(0x4ad)]['wuid']+_0x308de0(0x53e)+(_0x2f8b71 instanceof Error?_0x2f8b71['message']:JSON[_0x308de0(0x1c7)](_0x2f8b71,null,0x2)));}}else this['logger'][_0x308de0(0x429)](this[_0x308de0(0x4b4)]+'\x20('+this['instance'][_0x308de0(0x618)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x337b21){this[_0x308de0(0x5ca)]['error'](this[_0x308de0(0x4b4)]+'\x20('+this[_0x308de0(0x4ad)]['wuid']+_0x308de0(0x105)+(_0x337b21 instanceof Error?_0x337b21[_0x308de0(0x689)]:JSON['stringify'](_0x337b21,null,0x2)));}}async[a0_0x5f0ca0(0x34d)](_0x52437d,_0x235e3b,_0x1d51b0){const _0x1ef109=a0_0x5f0ca0;try{let _0x4f4543={'leadInfo.leadnome':_0x235e3b[_0x1ef109(0x75b)],'leadInfo.nomecompleto':_0x235e3b[_0x1ef109(0x21a)],'leadInfo.email':_0x235e3b[_0x1ef109(0x33d)],'leadInfo.cpf':_0x235e3b['cpf'],'leadInfo.status':_0x235e3b[_0x1ef109(0x5ff)],'leadInfo.notas':_0x235e3b['notas'],'leadInfo.responsavelid':_0x235e3b[_0x1ef109(0x74e)],'leadInfo.tags':_0x235e3b[_0x1ef109(0x5c3)],'leadInfo.etiquetas':_0x235e3b[_0x1ef109(0x36a)],'leadInfo.customFields':_0x1d51b0},_0x16475b=await this[_0x1ef109(0x11e)]['chat'][_0x1ef109(0x1f0)]({'where':{'_id':_0x52437d}},this[_0x1ef109(0x4ad)]['wuid']),_0x149741=new Set(_0x16475b[_0x1ef109(0x5cc)][_0x1ef109(0x36a)]||[]),_0x1ca059=new Set(_0x235e3b['etiquetas']||[]),_0x41fc61=await this['repository'][_0x1ef109(0x338)][_0x1ef109(0x215)]({'where':{}},this[_0x1ef109(0x4ad)][_0x1ef109(0x618)]),_0x377a69=new Set(_0x41fc61[_0x1ef109(0x59f)](_0x39d563=>_0x39d563[_0x1ef109(0x1f1)])),_0x301b50=[..._0x1ca059][_0x1ef109(0x2d7)](_0x52a802=>!_0x149741['has'](_0x52a802)&&_0x377a69[_0x1ef109(0x452)](_0x52a802)),_0x4e63f8=[..._0x149741]['filter'](_0x8e0999=>!_0x1ca059['has'](_0x8e0999));for(let _0x51e672 of _0x301b50)await this[_0x1ef109(0x2c7)](_0x51e672,_0x16475b['_id']),_0x149741['add'](_0x51e672);for(let _0x32a604 of _0x4e63f8)await this['RemoveChatLabel'](_0x32a604,_0x16475b[_0x1ef109(0x1f1)]),_0x149741[_0x1ef109(0xe2)](_0x32a604);if('desativadoFluxoAte'in _0x235e3b){let _0x3b9880=_0x235e3b[_0x1ef109(0x159)];_0x4f4543[_0x1ef109(0x755)]=_0x3b9880?Number(_0x3b9880):null;}let _0x15e235=await this[_0x1ef109(0x11e)][_0x1ef109(0x42c)][_0x1ef109(0x41a)]({'where':{'_id':_0x52437d}},_0x4f4543,this['instance']['wuid']);_0x15e235?(this[_0x1ef109(0x5ca)][_0x1ef109(0x524)](this[_0x1ef109(0x4b4)]+'\x20('+this[_0x1ef109(0x4ad)]['wuid']+_0x1ef109(0xf9)+_0x15e235[_0x1ef109(0x1f1)]),q(this[_0x1ef109(0x4b4)],_0x1ef109(0x25b),{'chat':_0x15e235})):this[_0x1ef109(0x5ca)]['error'](this[_0x1ef109(0x4b4)]+'\x20('+this[_0x1ef109(0x4ad)][_0x1ef109(0x618)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x20f4ae){this[_0x1ef109(0x5ca)][_0x1ef109(0x429)](this['instanceName']+'\x20('+this[_0x1ef109(0x4ad)]['wuid']+_0x1ef109(0x408)+(_0x20f4ae instanceof Error?_0x20f4ae[_0x1ef109(0x689)]:JSON[_0x1ef109(0x1c7)](_0x20f4ae,null,0x2)));}}async[a0_0x5f0ca0(0x40b)](_0x4ba54f,_0x479a40){const _0x23295e=a0_0x5f0ca0;this[_0x23295e(0x5ca)][_0x23295e(0x524)](this[_0x23295e(0x4b4)]+'\x20('+this['instance']['wuid']+_0x23295e(0x748)+_0x479a40);try{let _0x380c80=await this['repository']['chat'][_0x23295e(0x41a)]({'where':{'_id':_0x4ba54f['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x479a40},this['instance'][_0x23295e(0x618)]);this[_0x23295e(0x5ca)][_0x23295e(0x524)](this[_0x23295e(0x4b4)]+'\x20('+this[_0x23295e(0x4ad)][_0x23295e(0x618)]+_0x23295e(0x396)+_0x4ba54f[_0x23295e(0x1f1)]),this['logger']['verbose'](this[_0x23295e(0x4b4)]+'\x20('+this[_0x23295e(0x4ad)][_0x23295e(0x618)]+_0x23295e(0x748)+JSON[_0x23295e(0x1c7)](_0x380c80,null,0x2)),_0x380c80&&q(this[_0x23295e(0x4b4)],_0x23295e(0x25b),{'chat':_0x380c80});}catch(_0x1587a0){this[_0x23295e(0x5ca)][_0x23295e(0x429)](this[_0x23295e(0x4b4)]+'\x20('+this['instance'][_0x23295e(0x618)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x1587a0 instanceof Error?_0x1587a0['message']:JSON[_0x23295e(0x1c7)](_0x1587a0,null,0x2)));}}async[a0_0x5f0ca0(0x3fe)](_0xeb5ab8){const _0xac919a=a0_0x5f0ca0;try{this[_0xac919a(0x5ca)][_0xac919a(0x524)](this[_0xac919a(0x4b4)]+'\x20('+this['instance'][_0xac919a(0x618)]+_0xac919a(0x63a));let _0xf33ef7=_0xeb5ab8[_0xac919a(0x27a)](/\D/g,''),_0x1d807d=await this[_0xac919a(0x11e)]['flow'][_0xac919a(0x1f0)]({'where':{'testingWith':_0xf33ef7}},this[_0xac919a(0x4ad)][_0xac919a(0x618)]);return _0x1d807d||(this[_0xac919a(0x5ca)]['verbose'](this[_0xac919a(0x4b4)]+'\x20('+this[_0xac919a(0x4ad)][_0xac919a(0x618)]+_0xac919a(0x5a2)),_0x1d807d=await this[_0xac919a(0x11e)]['flow'][_0xac919a(0x1f0)]({'where':{'default':!0x0}},this['instance'][_0xac919a(0x618)])),_0x1d807d||(this[_0xac919a(0x5ca)][_0xac919a(0x524)](this['instanceName']+'\x20('+this[_0xac919a(0x4ad)][_0xac919a(0x618)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x12de0c){return this['logger'][_0xac919a(0x429)](this[_0xac919a(0x4b4)]+'\x20('+this['instance'][_0xac919a(0x618)]+_0xac919a(0x6d4)+(_0x12de0c instanceof Error?_0x12de0c[_0xac919a(0x689)]:JSON[_0xac919a(0x1c7)](_0x12de0c,null,0x2))),null;}}async['findConversation'](_0x27ea47,_0x327a1a){const _0x263963=a0_0x5f0ca0;try{let _0x3af213=!!_0x327a1a[_0x263963(0x69f)],_0x10b102=_0x327a1a[_0x263963(0x2cb)],_0x292732=null;if(this[_0x263963(0x5ca)][_0x263963(0x524)](this[_0x263963(0x4b4)]+'\x20('+this[_0x263963(0x4ad)][_0x263963(0x618)]+_0x263963(0x62f)+_0x3af213+'\x20quoted:\x20'+_0x10b102),_0x3af213){this['logger'][_0x263963(0x524)](this[_0x263963(0x4b4)]+'\x20('+this['instance'][_0x263963(0x618)]+_0x263963(0x4cb));let _0x2d729a={'where':{'remoteJid':_0x27ea47,'waitingMenu_id':_0x10b102}};if(_0x292732=await this[_0x263963(0x11e)][_0x263963(0x575)][_0x263963(0x1f0)](_0x2d729a,this[_0x263963(0x4ad)][_0x263963(0x618)]),!_0x292732)return this[_0x263963(0x5ca)]['verbose'](this[_0x263963(0x4b4)]+'\x20('+this['instance'][_0x263963(0x618)]+_0x263963(0x550)),null;let _0x14e196=Date['now'](),_0x35aee6=_0x292732?.[_0x263963(0x19e)]||0x0,_0x599eb1=_0x14e196-_0x35aee6*0x3c*0x3e8;if(_0x292732[_0x263963(0x6bb)]<_0x599eb1){this[_0x263963(0x5ca)][_0x263963(0x524)](this[_0x263963(0x4b4)]+'\x20('+this[_0x263963(0x4ad)][_0x263963(0x618)]+_0x263963(0x5d6));let _0x4e9f39={'number':_0x292732[_0x263963(0x3e8)],'options':{'delay':0x0},'textMessage':{'text':_0x292732[_0x263963(0x536)]}};await this[_0x263963(0x14e)](_0x4e9f39);let _0x16d6ce={'status':_0x263963(0x5cd),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x263963(0x11e)][_0x263963(0x575)][_0x263963(0x41a)](_0x292732[_0x263963(0x1f1)],_0x16d6ce,this[_0x263963(0x4ad)][_0x263963(0x618)]),null;}return _0x292732[_0x263963(0x6bb)]=Date['now'](),_0x292732[_0x263963(0x264)][_0x263963(0x5f6)]=_0x327a1a,_0x292732;}else{this[_0x263963(0x5ca)][_0x263963(0x524)](this['instanceName']+'\x20('+this[_0x263963(0x4ad)][_0x263963(0x618)]+_0x263963(0x543)+this[_0x263963(0x4ad)][_0x263963(0x618)]+_0x263963(0x302)),this['logger'][_0x263963(0x524)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x263963(0x1d8));let _0x1404d1={'where':{'remoteJid':_0x27ea47,'status':'open'}};if(_0x292732=await this['repository'][_0x263963(0x575)]['findOne'](_0x1404d1,this[_0x263963(0x4ad)]['wuid']),!_0x292732){let _0x2af3f1=await this[_0x263963(0x3fe)](_0x27ea47);if(_0x2af3f1&&(_0x292732=await this[_0x263963(0x460)](_0x2af3f1,_0x327a1a[_0x263963(0x72a)],_0x327a1a)),!_0x292732)return null;}let _0x1888c6=Date['now'](),_0x56590a=_0x292732?.[_0x263963(0x19e)]||0x0,_0x4c0a14=_0x1888c6-_0x56590a*0x3c*0x3e8;if(this['logger'][_0x263963(0x524)](this[_0x263963(0x4b4)]+'\x20('+this['instance']['wuid']+_0x263963(0xfb)+_0x1888c6+_0x263963(0x1de)+_0x56590a+_0x263963(0xdb)+_0x4c0a14),this[_0x263963(0x5ca)][_0x263963(0x524)](this[_0x263963(0x4b4)]+'\x20('+this[_0x263963(0x4ad)]['wuid']+_0x263963(0x3b9)),this[_0x263963(0x5ca)][_0x263963(0x524)](this[_0x263963(0x4b4)]+'\x20('+this[_0x263963(0x4ad)][_0x263963(0x618)]+_0x263963(0x570)+_0x292732[_0x263963(0x6bb)]),this[_0x263963(0x5ca)]['verbose'](this[_0x263963(0x4b4)]+'\x20('+this['instance'][_0x263963(0x618)]+'):\x20expirationTime:\x20'+_0x4c0a14),_0x292732['lastInteraction']<_0x4c0a14){this[_0x263963(0x5ca)][_0x263963(0x524)](this[_0x263963(0x4b4)]+'\x20('+this[_0x263963(0x4ad)][_0x263963(0x618)]+'):\x20Conversa\x20está\x20expirada');let _0x998fcd=await this[_0x263963(0x3fe)](_0x27ea47);if(_0x998fcd===null)return null;_0x292732&&await this['repository'][_0x263963(0x575)][_0x263963(0x41a)](_0x292732[_0x263963(0x1f1)],{'status':_0x263963(0x5cd)},this[_0x263963(0x4ad)][_0x263963(0x618)]),_0x292732=await this[_0x263963(0x460)](_0x998fcd,_0x327a1a['key'],_0x327a1a);}return _0x292732['lastInteraction']=_0x1888c6,_0x292732[_0x263963(0x264)][_0x263963(0x5f6)]=_0x327a1a,_0x292732;}}catch(_0x19f3eb){return this[_0x263963(0x5ca)][_0x263963(0x429)](this['instanceName']+'\x20('+this[_0x263963(0x4ad)][_0x263963(0x618)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x19f3eb instanceof Error?_0x19f3eb[_0x263963(0x689)]:JSON[_0x263963(0x1c7)](_0x19f3eb,null,0x2))),null;}}async['createNewConversation'](_0x230901,_0x144671,_0x9c4776){const _0x2ca6d4=a0_0x5f0ca0;this[_0x2ca6d4(0x5ca)][_0x2ca6d4(0x524)](this[_0x2ca6d4(0x4b4)]+'\x20('+this['instance'][_0x2ca6d4(0x618)]+_0x2ca6d4(0x695));try{let _0x3163f0=require(_0x2ca6d4(0x250))[_0x2ca6d4(0x4d7)],_0x4978c7=Date['now'](),_0x528b24=_0x2ca6d4(0x669),_0x3b294e=_0x144671['fromMe']?null:_0x9c4776,_0x38a07e=_0x144671['fromMe']?_0x9c4776:null,_0x3c2055=_0x144671[_0x2ca6d4(0x3e8)];await this['closeExistingConversations'](_0x3c2055);let _0x14c92e={..._0x230901,'chatLog':null},_0x4b3a9d=await this[_0x2ca6d4(0x481)](_0x14c92e[_0x2ca6d4(0x325)]),_0x33614f=await this[_0x2ca6d4(0x405)](_0x3c2055),_0x25eb9e={..._0x4b3a9d,..._0x33614f,'_remoteJid':_0x3c2055},_0x2210ae={'lastReceivedMessage':_0x3b294e,'lastSendMessage':_0x38a07e,'lastBlockId':_0x528b24,'lastCondition':!0x0,'realVariables':_0x25eb9e};_0x14c92e[_0x2ca6d4(0x264)]=_0x2210ae,delete _0x14c92e[_0x2ca6d4(0x1f1)],_0x14c92e[_0x2ca6d4(0x1f1)]=new _0x3163f0(),_0x14c92e[_0x2ca6d4(0x6bb)]=_0x4978c7,_0x14c92e[_0x2ca6d4(0x5ff)]=_0x2ca6d4(0x330),_0x14c92e['remoteJid']=_0x3c2055;let _0x1c4e4a=await this[_0x2ca6d4(0x11e)][_0x2ca6d4(0x575)][_0x2ca6d4(0x41a)](_0x14c92e['_id'],_0x14c92e,this[_0x2ca6d4(0x4ad)][_0x2ca6d4(0x618)]);return this[_0x2ca6d4(0x5ca)]['verbose'](this['instanceName']+'\x20('+this[_0x2ca6d4(0x4ad)][_0x2ca6d4(0x618)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x1c4e4a?_0x14c92e:null;}catch(_0x94b5a6){return this['logger']['error'](this[_0x2ca6d4(0x4b4)]+'\x20('+this[_0x2ca6d4(0x4ad)][_0x2ca6d4(0x618)]+_0x2ca6d4(0x124)+(_0x94b5a6 instanceof Error?_0x94b5a6['message']:JSON[_0x2ca6d4(0x1c7)](_0x94b5a6,null,0x2))),_0x94b5a6;}}async[a0_0x5f0ca0(0x2fe)](_0x3efad2,_0xc01076){const _0x25bcc2=a0_0x5f0ca0;let _0x125365=_0x3efad2[_0x25bcc2(0x3e8)];_0xc01076[_0x25bcc2(0x222)][_0x25bcc2(0x3e8)]&&_0xc01076[_0x25bcc2(0x222)][_0x25bcc2(0x3e8)][_0x25bcc2(0x29e)]()!==''&&(_0x125365=_0xc01076[_0x25bcc2(0x222)][_0x25bcc2(0x3e8)][_0x25bcc2(0x29e)]()),this[_0x25bcc2(0x5ca)][_0x25bcc2(0x524)](this['instanceName']+'\x20('+this['instance'][_0x25bcc2(0x618)]+_0x25bcc2(0x1ef));let _0x1e32e8={'number':_0x125365,'options':{'delay':_0xc01076[_0x25bcc2(0x222)][_0x25bcc2(0x6a3)]},'textMessage':{'text':_0xc01076[_0x25bcc2(0x222)][_0x25bcc2(0x5f0)]}};try{let _0x5e3968=await this['textMessage'](_0x1e32e8);if(_0x5e3968){let _0x4db3b6={'_id':_0x5e3968[_0x25bcc2(0x72a)]['id'],'_fromMe':_0x5e3968[_0x25bcc2(0x72a)][_0x25bcc2(0x6eb)],'_remoteJid':_0x5e3968[_0x25bcc2(0x72a)][_0x25bcc2(0x3e8)]},_0x33c7b9=(0x0,g['normalizeMessageContent'])(_0x5e3968[_0x25bcc2(0x689)]),_0x3f7a8c=(0x0,g[_0x25bcc2(0x4c9)])(_0x33c7b9);_0x3efad2[_0x25bcc2(0x264)]['lastBlockId']=_0xc01076[_0x25bcc2(0x1f1)]['toString']();let {message_normalized:_0x336087}=this[_0x25bcc2(0x682)](_0x33c7b9,_0x3f7a8c,null);_0x3efad2[_0x25bcc2(0x264)][_0x25bcc2(0x260)]=await _0x336087;let _0x4523f4={'messageId':_0x5e3968[_0x25bcc2(0x72a)]['id']},_0x1deba7=_0x3efad2[_0x25bcc2(0x264)][_0x25bcc2(0x640)];Object['assign'](_0x1deba7,_0x4db3b6),_0x3efad2[_0x25bcc2(0x264)][_0x25bcc2(0x640)]=_0x1deba7,this[_0x25bcc2(0x2db)](_0x3efad2,_0xc01076,_0x4523f4);}else{let _0x374fb3={'error':!0x0};this[_0x25bcc2(0x2db)](_0x3efad2,_0xc01076,_0x374fb3),this[_0x25bcc2(0x5ca)][_0x25bcc2(0x429)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x25bcc2(0x1c0));}}catch(_0x3651e4){let _0x3353ae={'error':!0x0,'errorLog':_0x3651e4[_0x25bcc2(0x59b)]()};this['updateConversation'](_0x3efad2,_0xc01076,_0x3353ae),this[_0x25bcc2(0x5ca)]['error'](this[_0x25bcc2(0x4b4)]+'\x20('+this[_0x25bcc2(0x4ad)][_0x25bcc2(0x618)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x3651e4 instanceof Error?_0x3651e4[_0x25bcc2(0x689)]:JSON['stringify'](_0x3651e4,null,0x2)));}}async[a0_0x5f0ca0(0x592)](_0x2b4ee7,_0x3043b0){const _0x4546a4=a0_0x5f0ca0;let _0xff7834=_0x2b4ee7[_0x4546a4(0x3e8)];_0x3043b0[_0x4546a4(0x222)][_0x4546a4(0x3e8)]&&_0x3043b0['uazapi']['remoteJid'][_0x4546a4(0x29e)]()!==''&&(_0xff7834=_0x3043b0[_0x4546a4(0x222)][_0x4546a4(0x3e8)][_0x4546a4(0x29e)]()),this['logger'][_0x4546a4(0x524)](this['instanceName']+'\x20('+this[_0x4546a4(0x4ad)][_0x4546a4(0x618)]+'):\x20Enviando\x20mídia');let _0x22bbf4={'number':_0xff7834,'options':{'delay':_0x3043b0[_0x4546a4(0x222)]['delay']},'mediaMessage':{'mediatype':_0x3043b0[_0x4546a4(0x222)][_0x4546a4(0x2eb)],'caption':_0x3043b0['uazapi']['caption'],'media':_0x3043b0[_0x4546a4(0x222)]['media'],'fileName':_0x3043b0[_0x4546a4(0x222)]['fileName']}};try{let _0x21e42c=await this[_0x4546a4(0x469)](_0x22bbf4);if(_0x21e42c){let _0x2337a1={'_id':_0x21e42c[_0x4546a4(0x72a)]['id'],'_fromMe':_0x21e42c['key'][_0x4546a4(0x6eb)],'_remoteJid':_0x21e42c[_0x4546a4(0x72a)][_0x4546a4(0x3e8)]},_0x46a9d4=(0x0,g['normalizeMessageContent'])(_0x21e42c[_0x4546a4(0x689)]),_0xc9e436=(0x0,g[_0x4546a4(0x4c9)])(_0x46a9d4);_0x2b4ee7[_0x4546a4(0x264)][_0x4546a4(0x604)]=_0x3043b0[_0x4546a4(0x1f1)][_0x4546a4(0x59b)]();let {message_normalized:_0x3d791c}=this[_0x4546a4(0x682)](_0x46a9d4,_0xc9e436,null);_0x2b4ee7[_0x4546a4(0x264)][_0x4546a4(0x260)]=await _0x3d791c;let _0x470c52={'messageId':_0x21e42c[_0x4546a4(0x72a)]['id']},_0x2f47c4=_0x2b4ee7['chatLog']['realVariables'];Object[_0x4546a4(0x725)](_0x2f47c4,_0x2337a1),_0x2b4ee7['chatLog'][_0x4546a4(0x640)]=_0x2f47c4,this[_0x4546a4(0x2db)](_0x2b4ee7,_0x3043b0,_0x470c52);}else{let _0x9c176b={'error':!0x0};this[_0x4546a4(0x2db)](_0x2b4ee7,_0x3043b0,_0x9c176b),this[_0x4546a4(0x5ca)][_0x4546a4(0x429)](this[_0x4546a4(0x4b4)]+'\x20('+this[_0x4546a4(0x4ad)][_0x4546a4(0x618)]+_0x4546a4(0x658));}}catch(_0x3dd37d){let _0x164836={'error':!0x0,'errorLog':_0x3dd37d['toString']()};this[_0x4546a4(0x2db)](_0x2b4ee7,_0x3043b0,_0x164836),this[_0x4546a4(0x5ca)][_0x4546a4(0x429)](this[_0x4546a4(0x4b4)]+'\x20('+this[_0x4546a4(0x4ad)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x3dd37d instanceof Error?_0x3dd37d['message']:JSON[_0x4546a4(0x1c7)](_0x3dd37d,null,0x2)));}}async['uazapiSendLocation'](_0x3c4abf,_0x1d2710){const _0xbea4b1=a0_0x5f0ca0;let _0x18a8ad=_0x3c4abf[_0xbea4b1(0x3e8)];_0x1d2710[_0xbea4b1(0x222)][_0xbea4b1(0x3e8)]&&_0x1d2710[_0xbea4b1(0x222)]['remoteJid'][_0xbea4b1(0x29e)]()!==''&&(_0x18a8ad=_0x1d2710[_0xbea4b1(0x222)][_0xbea4b1(0x3e8)][_0xbea4b1(0x29e)]()),this[_0xbea4b1(0x5ca)][_0xbea4b1(0x524)](this['instanceName']+'\x20('+this[_0xbea4b1(0x4ad)][_0xbea4b1(0x618)]+_0xbea4b1(0x36c));let _0xbce823={'number':_0x18a8ad,'options':{'delay':_0x1d2710['uazapi'][_0xbea4b1(0x6a3)]},'locationMessage':{'name':_0x1d2710['uazapi'][_0xbea4b1(0x309)],'address':_0x1d2710[_0xbea4b1(0x222)]['address'],'latitude':_0x1d2710[_0xbea4b1(0x222)]['latitude'],'longitude':_0x1d2710['uazapi']['longitude']}};try{let _0x2438cf=await this['locationMessage'](_0xbce823);if(_0x2438cf){let _0xcf1f5b={'_id':_0x2438cf[_0xbea4b1(0x72a)]['id'],'_fromMe':_0x2438cf[_0xbea4b1(0x72a)][_0xbea4b1(0x6eb)],'_remoteJid':_0x2438cf['key']['remoteJid']},_0x1dfa00=(0x0,g['normalizeMessageContent'])(_0x2438cf[_0xbea4b1(0x689)]),_0x5f4396=(0x0,g[_0xbea4b1(0x4c9)])(_0x1dfa00);_0x3c4abf[_0xbea4b1(0x264)]['lastBlockId']=_0x1d2710['_id'][_0xbea4b1(0x59b)]();let {message_normalized:_0x30e6e2}=this[_0xbea4b1(0x682)](_0x1dfa00,_0x5f4396,null);_0x3c4abf[_0xbea4b1(0x264)][_0xbea4b1(0x260)]=await _0x30e6e2;let _0x697a1d={'messageId':_0x2438cf['key']['id']},_0x2f165a=_0x3c4abf[_0xbea4b1(0x264)][_0xbea4b1(0x640)];Object[_0xbea4b1(0x725)](_0x2f165a,_0xcf1f5b),_0x3c4abf[_0xbea4b1(0x264)][_0xbea4b1(0x640)]=_0x2f165a,this[_0xbea4b1(0x2db)](_0x3c4abf,_0x1d2710,_0x697a1d);}else{let _0x3da353={'error':!0x0};this['updateConversation'](_0x3c4abf,_0x1d2710,_0x3da353),this[_0xbea4b1(0x5ca)][_0xbea4b1(0x429)](this['instanceName']+'\x20('+this['instance'][_0xbea4b1(0x618)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x3661f9){let _0x4aa1da={'error':!0x0,'errorLog':_0x3661f9['toString']()};this[_0xbea4b1(0x2db)](_0x3c4abf,_0x1d2710,_0x4aa1da),this[_0xbea4b1(0x5ca)][_0xbea4b1(0x429)](this[_0xbea4b1(0x4b4)]+'\x20('+this[_0xbea4b1(0x4ad)][_0xbea4b1(0x618)]+_0xbea4b1(0x5a9)+(_0x3661f9 instanceof Error?_0x3661f9[_0xbea4b1(0x689)]:JSON[_0xbea4b1(0x1c7)](_0x3661f9,null,0x2)));}}async[a0_0x5f0ca0(0x308)](_0x340c2b,_0x3639e9){const _0x10cb8e=a0_0x5f0ca0;let _0x44b94a=_0x340c2b['remoteJid'];_0x3639e9[_0x10cb8e(0x222)][_0x10cb8e(0x3e8)]&&_0x3639e9[_0x10cb8e(0x222)]['remoteJid'][_0x10cb8e(0x29e)]()!==''&&(_0x44b94a=_0x3639e9[_0x10cb8e(0x222)][_0x10cb8e(0x3e8)][_0x10cb8e(0x29e)]()),this[_0x10cb8e(0x5ca)][_0x10cb8e(0x524)](this['instanceName']+'\x20('+this[_0x10cb8e(0x4ad)]['wuid']+_0x10cb8e(0x47f));let _0x17d782={'number':_0x44b94a,'options':{'delay':_0x3639e9[_0x10cb8e(0x222)]['delay']},'audioMessage':{'audio':_0x3639e9[_0x10cb8e(0x222)][_0x10cb8e(0x425)]}};try{let _0x1990de=await this[_0x10cb8e(0x3be)](_0x17d782);if(_0x1990de){let _0x2ba20a={'_id':_0x1990de['key']['id'],'_fromMe':_0x1990de[_0x10cb8e(0x72a)]['fromMe'],'_remoteJid':_0x1990de[_0x10cb8e(0x72a)][_0x10cb8e(0x3e8)]},_0x3e8932=(0x0,g[_0x10cb8e(0x3ab)])(_0x1990de[_0x10cb8e(0x689)]),_0x14fbf4=(0x0,g[_0x10cb8e(0x4c9)])(_0x3e8932);_0x340c2b[_0x10cb8e(0x264)][_0x10cb8e(0x604)]=_0x3639e9[_0x10cb8e(0x1f1)][_0x10cb8e(0x59b)]();let {message_normalized:_0x19bb0e}=this['normalizeMessage'](_0x3e8932,_0x14fbf4,null);_0x340c2b[_0x10cb8e(0x264)][_0x10cb8e(0x260)]=await _0x19bb0e;let _0x348975={'messageId':_0x1990de[_0x10cb8e(0x72a)]['id']},_0x52b9aa=_0x340c2b[_0x10cb8e(0x264)][_0x10cb8e(0x640)];Object[_0x10cb8e(0x725)](_0x52b9aa,_0x2ba20a),_0x340c2b['chatLog'][_0x10cb8e(0x640)]=_0x52b9aa,this[_0x10cb8e(0x2db)](_0x340c2b,_0x3639e9,_0x348975);}else{let _0x115d58={'error':!0x0};this[_0x10cb8e(0x2db)](_0x340c2b,_0x3639e9,_0x115d58),this[_0x10cb8e(0x5ca)][_0x10cb8e(0x429)](this['instanceName']+'\x20('+this[_0x10cb8e(0x4ad)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x4e2c58){let _0x25ea89={'error':!0x0,'errorLog':_0x4e2c58[_0x10cb8e(0x59b)]()};this['updateConversation'](_0x340c2b,_0x3639e9,_0x25ea89),this[_0x10cb8e(0x5ca)][_0x10cb8e(0x429)](this[_0x10cb8e(0x4b4)]+'\x20('+this[_0x10cb8e(0x4ad)][_0x10cb8e(0x618)]+_0x10cb8e(0x505)+(_0x4e2c58 instanceof Error?_0x4e2c58[_0x10cb8e(0x689)]:JSON[_0x10cb8e(0x1c7)](_0x4e2c58,null,0x2)));}}async[a0_0x5f0ca0(0x530)](_0x7533a4,_0x9008a3){const _0x52d6f8=a0_0x5f0ca0;let _0xfbe74b=_0x7533a4['remoteJid'];_0x9008a3[_0x52d6f8(0x222)][_0x52d6f8(0x3e8)]&&_0x9008a3['uazapi']['remoteJid'][_0x52d6f8(0x29e)]()!==''&&(_0xfbe74b=_0x9008a3[_0x52d6f8(0x222)][_0x52d6f8(0x3e8)][_0x52d6f8(0x29e)]()),this[_0x52d6f8(0x5ca)][_0x52d6f8(0x524)](this[_0x52d6f8(0x4b4)]+'\x20('+this['instance'][_0x52d6f8(0x618)]+_0x52d6f8(0x529));let _0x318174={'number':_0xfbe74b,'options':{'delay':_0x9008a3[_0x52d6f8(0x222)][_0x52d6f8(0x6a3)]},'contactMessage':[{'fullName':_0x9008a3[_0x52d6f8(0x222)][_0x52d6f8(0x63d)],'phoneNumber':_0x9008a3[_0x52d6f8(0x222)][_0x52d6f8(0x1a3)]}]};try{let _0x6e3b2d=await this[_0x52d6f8(0x5f7)](_0x318174);if(_0x6e3b2d){let _0x1743e9={'_id':_0x6e3b2d[_0x52d6f8(0x72a)]['id'],'_fromMe':_0x6e3b2d[_0x52d6f8(0x72a)][_0x52d6f8(0x6eb)],'_remoteJid':_0x6e3b2d['key'][_0x52d6f8(0x3e8)]},_0x70ddce=(0x0,g[_0x52d6f8(0x3ab)])(_0x6e3b2d[_0x52d6f8(0x689)]),_0x2aa8a4=(0x0,g['getContentType'])(_0x70ddce);_0x7533a4['chatLog'][_0x52d6f8(0x604)]=_0x9008a3[_0x52d6f8(0x1f1)][_0x52d6f8(0x59b)]();let {message_normalized:_0x291bd2}=this[_0x52d6f8(0x682)](_0x70ddce,_0x2aa8a4,null);_0x7533a4[_0x52d6f8(0x264)][_0x52d6f8(0x260)]=await _0x291bd2;let _0x1a77eb={'messageId':_0x6e3b2d[_0x52d6f8(0x72a)]['id']},_0x3ae02b=_0x7533a4[_0x52d6f8(0x264)][_0x52d6f8(0x640)];Object[_0x52d6f8(0x725)](_0x3ae02b,_0x1743e9),_0x7533a4['chatLog'][_0x52d6f8(0x640)]=_0x3ae02b,this['updateConversation'](_0x7533a4,_0x9008a3,_0x1a77eb);}else{let _0x2bed35={'error':!0x0};this[_0x52d6f8(0x2db)](_0x7533a4,_0x9008a3,_0x2bed35),this[_0x52d6f8(0x5ca)][_0x52d6f8(0x429)](this[_0x52d6f8(0x4b4)]+'\x20('+this[_0x52d6f8(0x4ad)]['wuid']+_0x52d6f8(0x31d));}}catch(_0x20ea3b){let _0x373837={'error':!0x0,'errorLog':_0x20ea3b[_0x52d6f8(0x59b)]()};this[_0x52d6f8(0x2db)](_0x7533a4,_0x9008a3,_0x373837),this[_0x52d6f8(0x5ca)][_0x52d6f8(0x429)](this[_0x52d6f8(0x4b4)]+'\x20('+this[_0x52d6f8(0x4ad)][_0x52d6f8(0x618)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x20ea3b instanceof Error?_0x20ea3b['message']:JSON[_0x52d6f8(0x1c7)](_0x20ea3b,null,0x2)));}}[a0_0x5f0ca0(0x5d0)](_0x29b7a0,_0x6f2d8a){const _0x5dc666=a0_0x5f0ca0;for(let _0x39bd3d of _0x29b7a0)_0x39bd3d['option']&&(_0x39bd3d[_0x5dc666(0x30d)]=this['replaceVariables'](_0x39bd3d[_0x5dc666(0x30d)],_0x6f2d8a)),_0x39bd3d['optionDescription']&&(_0x39bd3d[_0x5dc666(0x461)]=this['replaceVariables'](_0x39bd3d[_0x5dc666(0x461)],_0x6f2d8a));}async[a0_0x5f0ca0(0x34e)](_0x4398fa,_0x317efd){const _0x10229e=a0_0x5f0ca0;let _0x55e7d7=_0x4398fa[_0x10229e(0x3e8)];_0x317efd[_0x10229e(0x222)][_0x10229e(0x3e8)]&&_0x317efd['uazapi'][_0x10229e(0x3e8)]['trim']()!==''&&(_0x55e7d7=_0x317efd[_0x10229e(0x222)][_0x10229e(0x3e8)][_0x10229e(0x29e)]()),this[_0x10229e(0x5ca)]['verbose'](this['instanceName']+'\x20('+this[_0x10229e(0x4ad)][_0x10229e(0x618)]+_0x10229e(0x416));let _0x51bf80=_0x4398fa[_0x10229e(0x236)]['filter'](_0x43aad4=>_0x43aad4['blockId']===_0x317efd[_0x10229e(0x1f1)])['sort']((_0x9c8b24,_0xe4beb6)=>_0x9c8b24[_0x10229e(0x653)]-_0xe4beb6[_0x10229e(0x653)]);this[_0x10229e(0x5d0)](_0x51bf80,_0x4398fa['chatLog'][_0x10229e(0x640)]);let _0x115355=_0x51bf80['map'](_0x2b8e77=>_0x2b8e77[_0x10229e(0x30d)]),_0x496c27={'number':_0x55e7d7,'menuMessage':{'type':_0x317efd[_0x10229e(0x222)][_0x10229e(0xe4)]||_0x10229e(0x221),'text':_0x317efd[_0x10229e(0x222)][_0x10229e(0x5f0)]||_0x317efd[_0x10229e(0x222)][_0x10229e(0x309)],'footerText':_0x317efd[_0x10229e(0x222)][_0x10229e(0x5e5)],'buttonText':_0x317efd[_0x10229e(0x222)][_0x10229e(0x4db)],'selectableCount':0x1,'choices':_0x115355},'options':{'delay':_0x317efd[_0x10229e(0x222)][_0x10229e(0x6a3)]}};try{let _0x2538b1=await this[_0x10229e(0x688)](_0x496c27);if(_0x2538b1){let _0x15c68b={'_id':_0x2538b1[_0x10229e(0x72a)]['id'],'_fromMe':_0x2538b1[_0x10229e(0x72a)]['fromMe'],'_remoteJid':_0x2538b1['key']['remoteJid']};_0x317efd['uazapi'][_0x10229e(0x593)]===!0x0&&(_0x4398fa[_0x10229e(0x5ff)]=_0x10229e(0x646),this[_0x10229e(0x5ca)]['verbose'](this['instanceName']+'\x20('+this[_0x10229e(0x4ad)][_0x10229e(0x618)]+_0x10229e(0x519)+_0x4398fa['status'])),this[_0x10229e(0x5ca)][_0x10229e(0x524)](this['instanceName']+'\x20('+this[_0x10229e(0x4ad)][_0x10229e(0x618)]+'):\x20nextBlock.uazapi.name'+(_0x317efd[_0x10229e(0x222)][_0x10229e(0x309)]||_0x317efd['uazapi'][_0x10229e(0x5f0)])),_0x4398fa[_0x10229e(0x70f)]=_0x2538b1[_0x10229e(0x72a)]['id'],_0x4398fa[_0x10229e(0x5a4)]=_0x317efd[_0x10229e(0x222)][_0x10229e(0x309)]||_0x317efd[_0x10229e(0x222)]['text'],_0x4398fa[_0x10229e(0x407)]=_0x51bf80,_0x317efd[_0x10229e(0x222)][_0x10229e(0x497)]&&(_0x4398fa[_0x10229e(0x536)]=_0x317efd[_0x10229e(0x222)]['menuExpiredMessage']),this[_0x10229e(0x5ca)][_0x10229e(0x524)](this[_0x10229e(0x4b4)]+'\x20('+this['instance']['wuid']+'):\x20conversation.waitingMenu_name'+_0x4398fa[_0x10229e(0x5a4)]);let _0x2b6954=(0x0,g[_0x10229e(0x3ab)])(_0x2538b1[_0x10229e(0x689)]),_0x59fda9=(0x0,g[_0x10229e(0x4c9)])(_0x2b6954);_0x4398fa[_0x10229e(0x264)][_0x10229e(0x604)]=_0x317efd[_0x10229e(0x1f1)]['toString']();let {message_normalized:_0x19d9f8}=this[_0x10229e(0x682)](_0x2b6954,_0x59fda9,null);_0x4398fa[_0x10229e(0x264)]['lastSendMessage']=await _0x19d9f8;let _0x2e4d08={'messageId':_0x2538b1[_0x10229e(0x72a)]['id']},_0x185870=_0x4398fa[_0x10229e(0x264)]['realVariables'];Object[_0x10229e(0x725)](_0x185870,_0x15c68b),_0x4398fa[_0x10229e(0x264)]['realVariables']=_0x185870,this[_0x10229e(0x2db)](_0x4398fa,_0x317efd,_0x2e4d08);}else{let _0x3ac85f={'error':!0x0};this['updateConversation'](_0x4398fa,_0x317efd,_0x3ac85f),this[_0x10229e(0x5ca)][_0x10229e(0x429)](this[_0x10229e(0x4b4)]+'\x20('+this[_0x10229e(0x4ad)][_0x10229e(0x618)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x1a8109){let _0x2f336a={'error':!0x0,'errorLog':_0x1a8109 instanceof Error?_0x1a8109['message']:JSON['stringify'](_0x1a8109,null,0x2)};this['updateConversation'](_0x4398fa,_0x317efd,_0x2f336a),this[_0x10229e(0x5ca)][_0x10229e(0x429)](this[_0x10229e(0x4b4)]+'\x20('+this['instance'][_0x10229e(0x618)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x1a8109 instanceof Error?_0x1a8109[_0x10229e(0x689)]:JSON[_0x10229e(0x1c7)](_0x1a8109,null,0x2)));}}async[a0_0x5f0ca0(0x76d)](_0x5d550a,_0x552e6d){const _0x31853c=a0_0x5f0ca0;this[_0x31853c(0x5ca)][_0x31853c(0x524)](this[_0x31853c(0x4b4)]+'\x20('+this[_0x31853c(0x4ad)][_0x31853c(0x618)]+'):\x20Deletando\x20mensagem');let _0x382d63=_0x5d550a['chatLog'][_0x31853c(0x561)][_0x31853c(0x215)](_0x5bdb89=>_0x5bdb89[_0x31853c(0xe5)]['toString']()===_0x552e6d[_0x31853c(0x222)][_0x31853c(0xe5)]['toString']()),_0x573c55={'id':_0x382d63[_0x31853c(0x1ff)],'remoteJid':_0x382d63[_0x31853c(0x3e8)],'fromMe':_0x382d63[_0x31853c(0x6eb)]};try{let _0x9f4d21=await this[_0x31853c(0x139)](_0x573c55);if(_0x9f4d21){let _0x2013c0=(0x0,g[_0x31853c(0x3ab)])(_0x9f4d21[_0x31853c(0x689)]),_0x502554=(0x0,g['getContentType'])(_0x2013c0);_0x5d550a[_0x31853c(0x264)]['lastBlockId']=_0x552e6d[_0x31853c(0x1f1)][_0x31853c(0x59b)]();let {message_normalized:_0x106375}=this['normalizeMessage'](_0x2013c0,_0x502554,null);_0x5d550a[_0x31853c(0x264)][_0x31853c(0x260)]=await _0x106375;let _0x2409b3={};this['updateConversation'](_0x5d550a,_0x552e6d,_0x2409b3);}else{let _0x52391d={'error':!0x0};this[_0x31853c(0x2db)](_0x5d550a,_0x552e6d,_0x52391d),this[_0x31853c(0x5ca)][_0x31853c(0x429)](this[_0x31853c(0x4b4)]+'\x20('+this[_0x31853c(0x4ad)][_0x31853c(0x618)]+_0x31853c(0x1ee));}}catch(_0x433dd9){let _0x465303={'error':!0x0,'errorLog':_0x433dd9 instanceof Error?_0x433dd9[_0x31853c(0x689)]:JSON[_0x31853c(0x1c7)](_0x433dd9,null,0x2)};this[_0x31853c(0x2db)](_0x5d550a,_0x552e6d,_0x465303),this['logger']['error'](this[_0x31853c(0x4b4)]+'\x20('+this[_0x31853c(0x4ad)]['wuid']+_0x31853c(0x613)+(_0x433dd9 instanceof Error?_0x433dd9[_0x31853c(0x689)]:JSON[_0x31853c(0x1c7)](_0x433dd9,null,0x2)));}}async[a0_0x5f0ca0(0x18e)](_0x5c638f){const _0x4ac913=a0_0x5f0ca0;if(!_0x5c638f['name'])throw new w(_0x4ac913(0x300));if(await this['repository'][_0x4ac913(0x345)][_0x4ac913(0x1f0)]({'where':{'name':_0x5c638f[_0x4ac913(0x309)]}},this[_0x4ac913(0x4ad)][_0x4ac913(0x618)]))throw new w('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x4ac913(0x309)in _0x5c638f&&_0x4ac913(0x316)in _0x5c638f&&'owner'in _0x5c638f&&Object[_0x4ac913(0x520)](_0x5c638f)[_0x4ac913(0x123)]===0x3?this[_0x4ac913(0x737)](_0x5c638f[_0x4ac913(0x284)],_0x5c638f[_0x4ac913(0x316)],_0x5c638f[_0x4ac913(0x309)]):this[_0x4ac913(0x42e)](_0x5c638f);}async[a0_0x5f0ca0(0x737)](_0x27e2f2,_0x40effc,_0x3651e5){const _0x562a01=a0_0x5f0ca0;try{this[_0x562a01(0x5ca)][_0x562a01(0x524)](this[_0x562a01(0x4b4)]+'\x20('+this[_0x562a01(0x4ad)][_0x562a01(0x618)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x57b33c=await this[_0x562a01(0x11e)][_0x562a01(0x345)][_0x562a01(0x1f0)]({'where':{'name':_0x3651e5,'sharePass':_0x40effc}},_0x27e2f2);if(!_0x57b33c)throw new w(_0x562a01(0x627));let _0x471047={..._0x57b33c};return _0x471047[_0x562a01(0x284)]=this[_0x562a01(0x4ad)][_0x562a01(0x618)],_0x471047[_0x562a01(0x694)]=Array[_0x562a01(0x59c)](new Set([..._0x57b33c[_0x562a01(0x694)]||[],_0x57b33c[_0x562a01(0x284)],this[_0x562a01(0x4ad)]['wuid']])),_0x57b33c[_0x562a01(0x694)]=_0x471047['shareOwners'],await this[_0x562a01(0x11e)][_0x562a01(0x345)]['updateOne'](_0x57b33c[_0x562a01(0x1f1)],{'shareOwners':_0x57b33c['shareOwners']},_0x57b33c[_0x562a01(0x284)]),_0x57b33c['default']===!0x0&&await this['repository'][_0x562a01(0x345)][_0x562a01(0x6b1)]({},{'default':!0x1},this['instance']['wuid']),await this['repository'][_0x562a01(0x345)][_0x562a01(0x288)](_0x471047,this[_0x562a01(0x4ad)][_0x562a01(0x618)]);}catch(_0x283eae){throw this[_0x562a01(0x5ca)][_0x562a01(0x429)](this['instanceName']+'\x20('+this['instance'][_0x562a01(0x618)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x283eae),new w(_0x562a01(0x25a)+_0x283eae);}}async['createRegularFlow'](_0x232495){const _0x375390=a0_0x5f0ca0;try{this['logger'][_0x375390(0x524)](this[_0x375390(0x4b4)]+'\x20('+this['instance'][_0x375390(0x618)]+'):\x20Criando\x20fluxo\x20regular...'),delete _0x232495[_0x375390(0x694)],delete _0x232495['sharePass'],delete _0x232495[_0x375390(0x284)],_0x232495[_0x375390(0x19d)]===!0x0&&await this[_0x375390(0x11e)]['flow']['updateMany']({},{'default':!0x1},this[_0x375390(0x4ad)][_0x375390(0x618)]);let _0x16ba4a=new ce['Types'][(_0x375390(0x4d7))](),_0x1b70f9={'_id':_0x16ba4a,'default':!0x0,'title':_0x375390(0x117),'x':0x0,'y':0x0},_0x3806c4={'_id':new ce[(_0x375390(0x409))][(_0x375390(0x4d7))](),'order':0x1,'groupId':_0x16ba4a['toString'](),'type':_0x375390(0x669)},_0x5cb053={'_id':new ce[(_0x375390(0x409))][(_0x375390(0x4d7))](),'owner':this[_0x375390(0x4ad)][_0x375390(0x618)],'name':_0x232495['name'],'groups':[_0x1b70f9],'blocks':[_0x3806c4],..._0x232495};return await this[_0x375390(0x11e)][_0x375390(0x345)][_0x375390(0x288)](_0x5cb053,this[_0x375390(0x4ad)][_0x375390(0x618)]);}catch(_0x3c2718){throw this['logger'][_0x375390(0x429)](this['instanceName']+'\x20('+this[_0x375390(0x4ad)][_0x375390(0x618)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20'+_0x3c2718),new w(_0x375390(0x349)+_0x3c2718);}}async['synchronizeFlows'](_0x5378ba,_0x26d5d0){const _0x4bba67=a0_0x5f0ca0;try{let _0x2e767f=await this['repository']['flow'][_0x4bba67(0x1f0)]({'where':{'_id':_0x5378ba}},_0x26d5d0);if(_0x2e767f&&_0x2e767f['shareOwners']){for(let _0x1f6a29 of _0x2e767f[_0x4bba67(0x694)])if(_0x1f6a29!==_0x26d5d0){let _0x301290={..._0x2e767f,'owner':_0x1f6a29};await this['repository'][_0x4bba67(0x345)]['replaceOne'](_0x5378ba,_0x301290,_0x1f6a29);}}}catch(_0x27586c){this[_0x4bba67(0x5ca)][_0x4bba67(0x429)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x27586c);}}async['deleteFlow'](_0x397bf1){const _0x133f6d=a0_0x5f0ca0;try{this[_0x133f6d(0x5ca)][_0x133f6d(0x524)](this[_0x133f6d(0x4b4)]+'\x20('+this[_0x133f6d(0x4ad)][_0x133f6d(0x618)]+_0x133f6d(0x2f8));let _0x10fe7c=await this['repository']['flow'][_0x133f6d(0x1f0)]({'where':{'name':_0x397bf1}},this[_0x133f6d(0x4ad)][_0x133f6d(0x618)]);if(_0x10fe7c&&_0x10fe7c[_0x133f6d(0x694)]&&_0x10fe7c[_0x133f6d(0x694)][_0x133f6d(0x123)]>0x1){for(let _0x6ead5f of _0x10fe7c[_0x133f6d(0x694)])if(_0x6ead5f!==this[_0x133f6d(0x4ad)]['wuid']){let _0x247e9c=await this[_0x133f6d(0x11e)]['flow'][_0x133f6d(0x1f0)]({'where':{'sharePass':_0x10fe7c[_0x133f6d(0x316)]}},_0x6ead5f);_0x247e9c&&(_0x247e9c[_0x133f6d(0x694)]=_0x247e9c[_0x133f6d(0x694)][_0x133f6d(0x2d7)](_0x1093ad=>_0x1093ad!==_0x10fe7c[_0x133f6d(0x284)]),await this[_0x133f6d(0x11e)][_0x133f6d(0x345)][_0x133f6d(0x41a)](_0x247e9c[_0x133f6d(0x1f1)],{'shareOwners':_0x247e9c[_0x133f6d(0x694)]},_0x6ead5f));}}return await this[_0x133f6d(0x11e)][_0x133f6d(0x345)][_0x133f6d(0x3b0)]({'where':{'name':_0x397bf1}},this[_0x133f6d(0x4ad)][_0x133f6d(0x618)]);}catch(_0x35c567){return this['logger']['error'](this[_0x133f6d(0x4b4)]+'\x20('+this['instance'][_0x133f6d(0x618)]+_0x133f6d(0x4dc)+(_0x35c567 instanceof Error?_0x35c567[_0x133f6d(0x689)]:JSON[_0x133f6d(0x1c7)](_0x35c567,null,0x2))),{'message':_0x133f6d(0x486)+_0x35c567};}}async['getFlow'](_0x2786ae){const _0x261e26=a0_0x5f0ca0;try{this[_0x261e26(0x5ca)][_0x261e26(0x524)](this[_0x261e26(0x4b4)]+'\x20('+this['instance'][_0x261e26(0x618)]+_0x261e26(0x63a));let _0x1fad8c=await this[_0x261e26(0x11e)][_0x261e26(0x345)][_0x261e26(0x1f0)]({'where':{'name':_0x2786ae}},this[_0x261e26(0x4ad)][_0x261e26(0x618)]);if(!_0x1fad8c)throw new Error('Flow\x20não\x20encontrado');if(!this['AutomateSystem']&&(await this[_0x261e26(0x293)](),!this[_0x261e26(0x1a7)]))return null;let _0x2937f0=this[_0x261e26(0x1a7)]?.['customFields'][_0x261e26(0x59f)](_0x3829d7=>_0x3829d7['name']),_0x22b9ba=[_0x261e26(0x75b),_0x261e26(0x21a),_0x261e26(0x33d),_0x261e26(0x5c7),_0x261e26(0x5ff),'notas','responsavelid',_0x261e26(0x5c3),_0x261e26(0x36a)];_0x1fad8c[_0x261e26(0x325)]=_0x1fad8c[_0x261e26(0x325)][_0x261e26(0x2d7)](_0x3e5a1f=>!(_0x3e5a1f['folder']==='leadInfo'||_0x3e5a1f[_0x261e26(0x5cc)])),_0x22b9ba[_0x261e26(0x173)](_0x362eae=>{const _0x4fdd18=_0x261e26;_0x1fad8c['variables'][_0x4fdd18(0x181)]({'folder':_0x4fdd18(0x5cc),'name':_0x362eae,'value':'','doc':'','leadInfo':!0x0});}),_0x2937f0[_0x261e26(0x173)](_0x2878c4=>{const _0x707eef=_0x261e26;let _0x32fac6=_0x1fad8c['variables'][_0x707eef(0x129)](_0x49bbb7=>_0x49bbb7[_0x707eef(0x309)]===_0x2878c4);_0x32fac6===-0x1?_0x1fad8c['variables']['push']({'folder':_0x707eef(0x5cc),'name':_0x2878c4,'value':'','doc':'','leadInfo':!0x0}):(_0x1fad8c[_0x707eef(0x325)][_0x32fac6][_0x707eef(0x2c6)]=_0x707eef(0x5cc),_0x1fad8c[_0x707eef(0x325)][_0x32fac6][_0x707eef(0x5cc)]=!0x0);}),_0x1fad8c['blocks']&&_0x1fad8c[_0x261e26(0xea)]['length']>0x0&&_0x1fad8c['blocks']['forEach'](_0x522be0=>{const _0x4dfe58=_0x261e26;_0x522be0['groupId']&&_0x522be0[_0x4dfe58(0x230)]&&_0x522be0[_0x4dfe58(0x549)]===_0x522be0[_0x4dfe58(0x230)]&&(_0x522be0[_0x4dfe58(0x230)]=null);});let _0x11e61e=await this[_0x261e26(0x11e)][_0x261e26(0x345)][_0x261e26(0x41a)](_0x1fad8c[_0x261e26(0x1f1)],_0x1fad8c,this[_0x261e26(0x4ad)]['wuid']);if(!_0x11e61e)throw new Error(_0x261e26(0x632));return _0x11e61e;}catch(_0x433cd0){throw this['logger'][_0x261e26(0x429)](this[_0x261e26(0x4b4)]+'\x20('+this[_0x261e26(0x4ad)][_0x261e26(0x618)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x433cd0 instanceof Error?_0x433cd0['message']:JSON[_0x261e26(0x1c7)](_0x433cd0,null,0x2))),new w('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x433cd0);}}async[a0_0x5f0ca0(0x36d)](){const _0x1d1c1d=a0_0x5f0ca0;try{return this[_0x1d1c1d(0x5ca)][_0x1d1c1d(0x524)](this[_0x1d1c1d(0x4b4)]+'\x20('+this[_0x1d1c1d(0x4ad)]['wuid']+_0x1d1c1d(0x6e7)),await this[_0x1d1c1d(0x11e)][_0x1d1c1d(0x345)][_0x1d1c1d(0x4e7)](this[_0x1d1c1d(0x4ad)]['wuid']),await this[_0x1d1c1d(0x11e)][_0x1d1c1d(0x345)]['findAll']({'where':{}},this[_0x1d1c1d(0x4ad)][_0x1d1c1d(0x618)]);}catch(_0x38bc57){return this['logger'][_0x1d1c1d(0x429)](this['instanceName']+'\x20('+this['instance'][_0x1d1c1d(0x618)]+_0x1d1c1d(0x56c)+(_0x38bc57 instanceof Error?_0x38bc57['message']:JSON[_0x1d1c1d(0x1c7)](_0x38bc57,null,0x2))),{'message':_0x1d1c1d(0x326)+_0x38bc57};}}async[a0_0x5f0ca0(0x6df)](_0x73d977){const _0x209b04=a0_0x5f0ca0;try{this[_0x209b04(0x5ca)][_0x209b04(0x524)](this[_0x209b04(0x4b4)]+'\x20('+this[_0x209b04(0x4ad)][_0x209b04(0x618)]+_0x209b04(0x606));let _0x1fe2d2=await this['repository'][_0x209b04(0x345)]['findOne']({'where':{'name':_0x73d977[_0x209b04(0x309)]}},this['instance']['wuid']);if(!_0x1fe2d2)return{'message':'Fluxo\x20não\x20encontrado'};_0x73d977[_0x209b04(0x19d)]===!0x0&&await this[_0x209b04(0x11e)][_0x209b04(0x345)]['updateMany']({},{'default':!0x1},this[_0x209b04(0x4ad)][_0x209b04(0x618)]),delete _0x73d977['shareOwners'],delete _0x73d977[_0x209b04(0x316)];let _0x939f95=await this[_0x209b04(0x11e)][_0x209b04(0x345)][_0x209b04(0x41a)](_0x1fe2d2[_0x209b04(0x1f1)],_0x73d977,this['instance'][_0x209b04(0x618)]);return _0x939f95&&_0x939f95[_0x209b04(0x694)]&&_0x939f95[_0x209b04(0x694)]['length']>0x1&&this[_0x209b04(0x738)](_0x939f95['_id'],this[_0x209b04(0x4ad)][_0x209b04(0x618)]),_0x939f95;}catch(_0x50a9a1){throw this[_0x209b04(0x5ca)]['error'](this[_0x209b04(0x4b4)]+'\x20('+this[_0x209b04(0x4ad)][_0x209b04(0x618)]+_0x209b04(0x4bb)+(_0x50a9a1 instanceof Error?_0x50a9a1['message']:JSON[_0x209b04(0x1c7)](_0x50a9a1,null,0x2))),new w('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x50a9a1 instanceof Error?_0x50a9a1[_0x209b04(0x689)]:JSON[_0x209b04(0x1c7)](_0x50a9a1,null,0x2)));}}async['editFlowBlock'](_0x126596){const _0xb5f59f=a0_0x5f0ca0;try{this[_0xb5f59f(0x5ca)][_0xb5f59f(0x524)](this['instanceName']+'\x20('+this[_0xb5f59f(0x4ad)]['wuid']+'):\x20Editando\x20bloco...');let _0x1875b3=await this[_0xb5f59f(0x11e)]['flow']['findOne']({'where':{'name':_0x126596[_0xb5f59f(0x309)]}},this[_0xb5f59f(0x4ad)][_0xb5f59f(0x618)]);_0x1875b3||this[_0xb5f59f(0x609)](_0xb5f59f(0x75d));let {block:_0x67c86e}=_0x126596;_0x67c86e?.['copy']?this[_0xb5f59f(0x28c)](_0x1875b3,_0x126596):_0x67c86e?.[_0xb5f59f(0xe2)]?this['deleteBlock'](_0x1875b3,_0x126596):_0x67c86e[_0xb5f59f(0x1f1)]?await this[_0xb5f59f(0x29a)](_0x1875b3,_0x126596):this[_0xb5f59f(0x1c1)](_0x1875b3,_0x126596);let _0x2259a5=await this[_0xb5f59f(0x11e)][_0xb5f59f(0x345)]['updateOne'](_0x1875b3[_0xb5f59f(0x1f1)],_0x1875b3,this['instance'][_0xb5f59f(0x618)]);if(_0x2259a5&&_0x2259a5[_0xb5f59f(0x694)]&&_0x2259a5[_0xb5f59f(0x694)]['length']>0x1&&this['synchronizeFlows'](_0x2259a5[_0xb5f59f(0x1f1)],this[_0xb5f59f(0x4ad)]['wuid']),!_0x2259a5)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2259a5;}catch(_0x208992){this[_0xb5f59f(0x609)](_0xb5f59f(0x667)+_0x208992);}}async[a0_0x5f0ca0(0x28c)](_0xc68460,_0x2a461b){const _0x1a7dae=a0_0x5f0ca0;let _0x22093f=_0x2a461b[_0x1a7dae(0x59e)][_0x1a7dae(0x1f1)],_0x512ab7=_0xc68460[_0x1a7dae(0xea)][_0x1a7dae(0x215)](_0x2f27ad=>_0x2f27ad[_0x1a7dae(0x1f1)][_0x1a7dae(0x59b)]()===_0x22093f);if(!_0x512ab7){this[_0x1a7dae(0x5ca)][_0x1a7dae(0x429)](this[_0x1a7dae(0x4b4)]+'\x20('+this[_0x1a7dae(0x4ad)]['wuid']+_0x1a7dae(0x417)+_0x22093f+_0x1a7dae(0x3a0));return;}this[_0x1a7dae(0x5ca)][_0x1a7dae(0x524)](this[_0x1a7dae(0x4b4)]+'\x20('+this[_0x1a7dae(0x4ad)][_0x1a7dae(0x618)]+_0x1a7dae(0x4f0)+JSON[_0x1a7dae(0x1c7)](_0x512ab7));let _0x21b959=JSON[_0x1a7dae(0x2f0)](JSON['stringify'](_0x512ab7));_0x21b959[_0x1a7dae(0x1f1)]=new ce[(_0x1a7dae(0x19d))]['Types']['ObjectId'](),this['logger'][_0x1a7dae(0x524)](this[_0x1a7dae(0x4b4)]+'\x20('+this[_0x1a7dae(0x4ad)][_0x1a7dae(0x618)]+_0x1a7dae(0x6ec)+JSON[_0x1a7dae(0x1c7)](_0x21b959)),_0xc68460['blocks'][_0x1a7dae(0x181)](_0x21b959),this['reorderBlocks'](_0xc68460['blocks'],_0x21b959['groupId']);}[a0_0x5f0ca0(0x609)](_0x490649){const _0x4a97b2=a0_0x5f0ca0;throw this[_0x4a97b2(0x5ca)][_0x4a97b2(0x429)](this[_0x4a97b2(0x4b4)]+'\x20('+this[_0x4a97b2(0x4ad)]['wuid']+_0x4a97b2(0x543)+_0x490649),new w(_0x490649);}['deleteBlock'](_0x46f9b0,_0x5377e4){const _0x47ea13=a0_0x5f0ca0;let {block:_0x30eb35}=_0x5377e4;if(_0x30eb35[_0x47ea13(0x50f)]==='start'){this[_0x47ea13(0x609)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x30eb35[_0x47ea13(0x1f1)]){this[_0x47ea13(0x609)](_0x47ea13(0x2ce));return;}let _0x4e1b51=_0x46f9b0[_0x47ea13(0xea)][_0x47ea13(0x215)](_0x24d533=>_0x24d533[_0x47ea13(0x1f1)]['toString']()===_0x5377e4['block']['_id']['toString']());if(!_0x4e1b51){this[_0x47ea13(0x609)](_0x47ea13(0x157)+_0x30eb35[_0x47ea13(0x1f1)]+_0x47ea13(0x1f7));return;}_0x46f9b0[_0x47ea13(0xea)]=_0x46f9b0[_0x47ea13(0xea)]['filter'](_0x1d1266=>_0x1d1266[_0x47ea13(0x1f1)][_0x47ea13(0x59b)]()!==_0x5377e4[_0x47ea13(0x59e)][_0x47ea13(0x1f1)][_0x47ea13(0x59b)]()),_0x46f9b0[_0x47ea13(0x5e6)]=_0x46f9b0[_0x47ea13(0x5e6)]['filter'](_0x3b91ef=>_0x3b91ef[_0x47ea13(0xe5)]!==_0x30eb35[_0x47ea13(0x1f1)]['toString']()),_0x46f9b0[_0x47ea13(0x1e3)]=_0x46f9b0[_0x47ea13(0x1e3)]['filter'](_0x4dd7e4=>_0x4dd7e4['blockId']!==_0x30eb35[_0x47ea13(0x1f1)][_0x47ea13(0x59b)]()),_0x46f9b0[_0x47ea13(0x236)]=_0x46f9b0[_0x47ea13(0x236)][_0x47ea13(0x2d7)](_0x4c5d6e=>_0x4c5d6e[_0x47ea13(0xe5)]!==_0x30eb35[_0x47ea13(0x1f1)][_0x47ea13(0x59b)]()),this['reorderBlocks'](_0x46f9b0[_0x47ea13(0xea)],_0x4e1b51[_0x47ea13(0x549)]);}async['updateBlock'](_0x24e06a,_0x71a3cc){const _0x5f0b12=a0_0x5f0ca0;let _0x20c47d=_0x24e06a[_0x5f0b12(0xea)]['findIndex'](_0x218324=>_0x218324[_0x5f0b12(0x1f1)][_0x5f0b12(0x59b)]()===_0x71a3cc[_0x5f0b12(0x59e)][_0x5f0b12(0x1f1)][_0x5f0b12(0x59b)]());if(this[_0x5f0b12(0x5ca)][_0x5f0b12(0x524)](this[_0x5f0b12(0x4b4)]+'\x20('+this[_0x5f0b12(0x4ad)]['wuid']+_0x5f0b12(0x55c)+_0x20c47d),_0x20c47d===-0x1){this['logger']['verbose']('Bloco\x20com\x20ID\x20'+_0x71a3cc[_0x5f0b12(0x59e)][_0x5f0b12(0x1f1)]+_0x5f0b12(0x54c));return;}if(_0x24e06a['blocks'][_0x20c47d][_0x5f0b12(0x50f)]===_0x5f0b12(0x669)){let _0x157f07=Object['keys'](_0x71a3cc[_0x5f0b12(0x59e)]);if(_0x157f07['length']>0x2||_0x157f07['length']===0x2&&!_0x157f07[_0x5f0b12(0x6ea)](_0x5f0b12(0x230))){this[_0x5f0b12(0x609)](_0x5f0b12(0x392));return;}}let _0x26db81=_0x24e06a['blocks'][_0x20c47d][_0x5f0b12(0x549)];for(let _0x930e in _0x71a3cc['block'])_0x71a3cc[_0x5f0b12(0x59e)][_0x5f0b12(0x445)](_0x930e)&&(_0x24e06a[_0x5f0b12(0xea)][_0x20c47d][_0x930e]=_0x71a3cc[_0x5f0b12(0x59e)][_0x930e]);if(this['logger']['verbose'](this[_0x5f0b12(0x4b4)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x5f0b12(0x1c7)](_0x24e06a[_0x5f0b12(0xea)][_0x20c47d])),_0x24e06a['blocks'][_0x20c47d][_0x5f0b12(0x71e)]&&_0x5f0b12(0x672)in _0x24e06a[_0x5f0b12(0xea)][_0x20c47d]['apirequest']){this[_0x5f0b12(0x5ca)][_0x5f0b12(0x524)](this[_0x5f0b12(0x4b4)]+'\x20('+this[_0x5f0b12(0x4ad)]['wuid']+_0x5f0b12(0x582));let _0xad93db=JSON[_0x5f0b12(0x1c7)](_0x24e06a[_0x5f0b12(0xea)][_0x20c47d][_0x5f0b12(0x71e)][_0x5f0b12(0x672)],null,0x1);_0xad93db[_0x5f0b12(0x123)]>0x2&&(_0xad93db=_0xad93db[_0x5f0b12(0x144)](0x1,_0xad93db[_0x5f0b12(0x123)]-0x1)[_0x5f0b12(0x29e)]()),_0x24e06a['blocks'][_0x20c47d][_0x5f0b12(0x71e)][_0x5f0b12(0x18f)]=_0xad93db;}if(_0x24e06a['blocks'][_0x20c47d]['apirequest']&&'body'in _0x24e06a['blocks'][_0x20c47d][_0x5f0b12(0x71e)]){this[_0x5f0b12(0x5ca)]['verbose'](this[_0x5f0b12(0x4b4)]+'\x20('+this[_0x5f0b12(0x4ad)][_0x5f0b12(0x618)]+_0x5f0b12(0x135));let _0x1c0ce6=JSON['stringify'](_0x24e06a[_0x5f0b12(0xea)][_0x20c47d][_0x5f0b12(0x71e)][_0x5f0b12(0x735)],null,0x1);_0x1c0ce6[_0x5f0b12(0x123)]>0x2&&(_0x1c0ce6=_0x1c0ce6[_0x5f0b12(0x144)](0x1,_0x1c0ce6[_0x5f0b12(0x123)]-0x1)[_0x5f0b12(0x29e)]()),_0x24e06a[_0x5f0b12(0xea)][_0x20c47d][_0x5f0b12(0x71e)][_0x5f0b12(0x33e)]=_0x1c0ce6;}let _0x1392eb=_0x24e06a[_0x5f0b12(0xea)][_0x20c47d]['groupId'];_0x26db81!==_0x1392eb?(this[_0x5f0b12(0x6b6)](_0x24e06a[_0x5f0b12(0xea)],_0x26db81),this[_0x5f0b12(0x6b6)](_0x24e06a[_0x5f0b12(0xea)],_0x1392eb)):this['reorderBlocks'](_0x24e06a[_0x5f0b12(0xea)],_0x26db81);}[a0_0x5f0ca0(0x1c1)](_0x3eaf52,_0x17cbc2){const _0x509485=a0_0x5f0ca0;if(_0x17cbc2[_0x509485(0x59e)][_0x509485(0x50f)]===_0x509485(0x669)){this['throwAndLogError'](_0x509485(0x12e));return;}if(_0x17cbc2[_0x509485(0x59e)]['apirequest']&&_0x509485(0x672)in _0x17cbc2[_0x509485(0x59e)]['apirequest']){this['logger'][_0x509485(0x524)](this[_0x509485(0x4b4)]+'\x20('+this[_0x509485(0x4ad)][_0x509485(0x618)]+_0x509485(0x582));let _0x2ecad6=JSON['stringify'](_0x17cbc2[_0x509485(0x59e)][_0x509485(0x71e)][_0x509485(0x672)],null,0x1);_0x2ecad6['length']>0x2&&(_0x2ecad6=_0x2ecad6[_0x509485(0x144)](0x1,_0x2ecad6[_0x509485(0x123)]-0x1)[_0x509485(0x29e)]()),_0x17cbc2[_0x509485(0x59e)][_0x509485(0x71e)][_0x509485(0x18f)]=_0x2ecad6;}_0x17cbc2[_0x509485(0x59e)][_0x509485(0x71e)]&&_0x509485(0x735)in _0x17cbc2[_0x509485(0x59e)][_0x509485(0x71e)]&&(this['logger'][_0x509485(0x524)](this[_0x509485(0x4b4)]+'\x20('+this['instance'][_0x509485(0x618)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x17cbc2[_0x509485(0x59e)]['apirequest'][_0x509485(0x33e)]=JSON[_0x509485(0x1c7)](_0x17cbc2[_0x509485(0x59e)]['apirequest'][_0x509485(0x735)],null,0x1)['trim']()),_0x3eaf52[_0x509485(0xea)][_0x509485(0x181)](_0x17cbc2[_0x509485(0x59e)]),this[_0x509485(0x6b6)](_0x3eaf52['blocks'],_0x17cbc2[_0x509485(0x59e)]['groupId']);}[a0_0x5f0ca0(0x6b6)](_0xc55327,_0x3bd6cb){const _0x606efc=a0_0x5f0ca0;let _0x29b142=_0xc55327[_0x606efc(0x2d7)](_0x21da41=>_0x21da41['groupId']===_0x3bd6cb);_0x29b142[_0x606efc(0x14c)]((_0x583ce6,_0x16a924)=>_0x583ce6[_0x606efc(0x653)]-_0x16a924[_0x606efc(0x653)]),_0x29b142[_0x606efc(0x173)]((_0x23552b,_0x535cef)=>_0x23552b[_0x606efc(0x653)]=_0x535cef+0x1);}async[a0_0x5f0ca0(0x3b7)](_0x29946b){const _0x7f2834=a0_0x5f0ca0;try{if(this[_0x7f2834(0x5ca)][_0x7f2834(0x524)](this[_0x7f2834(0x4b4)]+'\x20('+this[_0x7f2834(0x4ad)][_0x7f2834(0x618)]+'):\x20Editando\x20replyOption...'),!_0x29946b||!_0x29946b[_0x7f2834(0x25e)]){this[_0x7f2834(0x609)](_0x7f2834(0x635));return;}let _0x2a1072=await this[_0x7f2834(0x11e)][_0x7f2834(0x345)][_0x7f2834(0x1f0)]({'where':{'name':_0x29946b[_0x7f2834(0x309)]}},this[_0x7f2834(0x4ad)][_0x7f2834(0x618)]);_0x2a1072||this[_0x7f2834(0x609)]('Flow\x20não\x20encontrado');let {replyOption:_0x1974a7}=_0x29946b;_0x1974a7?.[_0x7f2834(0xe2)]?(this['deleteReplyOption'](_0x2a1072,_0x29946b),this[_0x7f2834(0x4c7)](_0x2a1072[_0x7f2834(0x236)],_0x29946b[_0x7f2834(0x25e)]['blockId'])):_0x1974a7['_id']?(await this['updateReplyOption'](_0x2a1072,_0x29946b),this['reorderReplyOptions'](_0x2a1072['replyOptions'],_0x29946b[_0x7f2834(0x25e)][_0x7f2834(0xe5)])):(this[_0x7f2834(0x436)](_0x2a1072,_0x29946b),this['reorderReplyOptions'](_0x2a1072['replyOptions'],_0x29946b[_0x7f2834(0x25e)][_0x7f2834(0xe5)]));let _0x1a2ee2=await this[_0x7f2834(0x11e)][_0x7f2834(0x345)]['updateOne'](_0x2a1072[_0x7f2834(0x1f1)],_0x2a1072,this['instance'][_0x7f2834(0x618)]);if(_0x1a2ee2&&_0x1a2ee2[_0x7f2834(0x694)]&&_0x1a2ee2['shareOwners'][_0x7f2834(0x123)]>0x1&&this['synchronizeFlows'](_0x1a2ee2[_0x7f2834(0x1f1)],this['instance'][_0x7f2834(0x618)]),!_0x1a2ee2)throw new Error(_0x7f2834(0x632));return _0x1a2ee2;}catch(_0x332e18){this['throwAndLogError'](_0x7f2834(0x228)+_0x332e18);}}[a0_0x5f0ca0(0x4c7)](_0x19e43e,_0x5b189d){const _0x466c3b=a0_0x5f0ca0;console['log'](_0x466c3b(0x23d),_0x5b189d),_0x19e43e[_0x466c3b(0x173)](_0x5be058=>{const _0x6461d2=_0x466c3b;_0x5be058[_0x6461d2(0xe5)]===_0x5b189d&&_0x5be058[_0x6461d2(0x653)]===void 0x0&&(_0x5be058[_0x6461d2(0x653)]=0x270f);});let _0x2f0745=_0x19e43e['filter'](_0x458772=>_0x458772[_0x466c3b(0xe5)]===_0x5b189d);_0x2f0745[_0x466c3b(0x14c)]((_0x5f3eff,_0x41e011)=>_0x5f3eff[_0x466c3b(0x653)]-_0x41e011[_0x466c3b(0x653)]),_0x2f0745[_0x466c3b(0x173)]((_0xa60f7e,_0x404556)=>{const _0x5e8b62=_0x466c3b;_0xa60f7e[_0x5e8b62(0x653)]=_0x404556+0x1;}),_0x19e43e[_0x466c3b(0x173)](_0x2b9762=>{const _0x13a7af=_0x466c3b;if(_0x2b9762[_0x13a7af(0xe5)]===_0x5b189d){let _0x25bcd6=_0x2f0745['find'](_0x1d065a=>_0x1d065a[_0x13a7af(0x1f1)]&&_0x2b9762[_0x13a7af(0x1f1)]&&_0x1d065a[_0x13a7af(0x1f1)][_0x13a7af(0x59b)]()===_0x2b9762['_id'][_0x13a7af(0x59b)]());_0x25bcd6&&(_0x2b9762['order']=_0x25bcd6[_0x13a7af(0x653)]);}}),console[_0x466c3b(0x5bd)]('ReplyOptions\x20finais\x20após\x20reordenação:',_0x19e43e);}['deleteReplyOption'](_0x57a984,_0xe6956d){const _0x2d56dd=a0_0x5f0ca0;let {replyOption:_0x335f9a}=_0xe6956d;if(!_0x335f9a[_0x2d56dd(0x1f1)]){this[_0x2d56dd(0x609)](_0x2d56dd(0x430));return;}if(!_0x57a984['replyOptions'][_0x2d56dd(0x215)](_0x7a8c93=>_0x7a8c93[_0x2d56dd(0x1f1)][_0x2d56dd(0x59b)]()===_0xe6956d[_0x2d56dd(0x25e)][_0x2d56dd(0x1f1)]['toString']())){this[_0x2d56dd(0x609)](_0x2d56dd(0x1be)+_0x335f9a[_0x2d56dd(0x1f1)]+_0x2d56dd(0x1f7));return;}_0x57a984[_0x2d56dd(0x236)]=_0x57a984[_0x2d56dd(0x236)][_0x2d56dd(0x2d7)](_0xf4a771=>_0xf4a771[_0x2d56dd(0x1f1)][_0x2d56dd(0x59b)]()!==_0xe6956d[_0x2d56dd(0x25e)][_0x2d56dd(0x1f1)]['toString']());}async[a0_0x5f0ca0(0x73d)](_0x429149,_0x54b8f5){const _0xbcb452=a0_0x5f0ca0;let _0x33cccc=_0x429149[_0xbcb452(0x236)][_0xbcb452(0x129)](_0x18ee53=>_0x18ee53['_id'][_0xbcb452(0x59b)]()===_0x54b8f5[_0xbcb452(0x25e)]['_id'][_0xbcb452(0x59b)]());if(_0x33cccc===-0x1){this['throwAndLogError'](_0xbcb452(0x1be)+_0x54b8f5[_0xbcb452(0x25e)][_0xbcb452(0x1f1)]+_0xbcb452(0x54c));return;}for(let _0x14db67 in _0x54b8f5[_0xbcb452(0x25e)])_0x54b8f5['replyOption']['hasOwnProperty'](_0x14db67)&&(_0x429149['replyOptions'][_0x33cccc][_0x14db67]=_0x54b8f5[_0xbcb452(0x25e)][_0x14db67]);}[a0_0x5f0ca0(0x436)](_0x47d0b5,_0x14d2c8){const _0xbb8972=a0_0x5f0ca0;_0x47d0b5['replyOptions'][_0xbb8972(0x181)](_0x14d2c8['replyOption']);}async['editFlowGroup'](_0x30672d){const _0x54b191=a0_0x5f0ca0;this[_0x54b191(0x5ca)]['verbose'](this[_0x54b191(0x4b4)]+'\x20('+this[_0x54b191(0x4ad)][_0x54b191(0x618)]+_0x54b191(0x337)+_0x30672d);try{this['logger'][_0x54b191(0x524)](this['instanceName']+'\x20('+this[_0x54b191(0x4ad)][_0x54b191(0x618)]+_0x54b191(0x290));let _0x38725c=await this[_0x54b191(0x11e)]['flow'][_0x54b191(0x1f0)]({'where':{'name':_0x30672d['name']}},this['instance']['wuid']);if(!_0x38725c)throw new Error(_0x54b191(0x75d));if(_0x30672d[_0x54b191(0x388)]&&_0x30672d['group']?.[_0x54b191(0xe2)]===!0x0){if(this[_0x54b191(0x5ca)][_0x54b191(0x524)](this[_0x54b191(0x4b4)]+'\x20('+this[_0x54b191(0x4ad)][_0x54b191(0x618)]+_0x54b191(0x339)),_0x30672d[_0x54b191(0x388)][_0x54b191(0x19d)]===!0x0)return{'message':_0x54b191(0x1bb)};if(_0x38725c[_0x54b191(0xea)][_0x54b191(0x51a)](_0x58943c=>_0x58943c[_0x54b191(0x549)]['toString']()===_0x30672d[_0x54b191(0x388)]['_id']))return this['logger'][_0x54b191(0x524)](this['instanceName']+'\x20('+this[_0x54b191(0x4ad)]['wuid']+_0x54b191(0x523)),{'message':_0x54b191(0x115)};_0x38725c[_0x54b191(0x49b)]=_0x38725c[_0x54b191(0x49b)]['filter'](_0x4fc510=>_0x4fc510[_0x54b191(0x1f1)]['toString']()!==_0x30672d['group'][_0x54b191(0x1f1)]);}else{if(_0x30672d['group']){if(_0x30672d[_0x54b191(0x388)][_0x54b191(0x19d)]===!0x0)return{'message':_0x54b191(0x5d8)};if(_0x30672d[_0x54b191(0x388)]['_id']){let _0x508c0b=_0x38725c[_0x54b191(0x49b)][_0x54b191(0x215)](_0x49c835=>_0x49c835[_0x54b191(0x1f1)][_0x54b191(0x59b)]()===_0x30672d['group']['_id']);_0x508c0b&&(_0x30672d[_0x54b191(0x388)]['x']<0x0&&(_0x30672d['group']['x']=0x0),_0x30672d[_0x54b191(0x388)]['y']<0x0&&(_0x30672d[_0x54b191(0x388)]['y']=0x0),Object[_0x54b191(0x725)](_0x508c0b,_0x30672d[_0x54b191(0x388)]));}else _0x38725c['groups']['push'](_0x30672d['group']);}}let _0x3408ac=await this['repository'][_0x54b191(0x345)][_0x54b191(0x41a)](_0x38725c[_0x54b191(0x1f1)],_0x38725c,this[_0x54b191(0x4ad)]['wuid']);if(_0x3408ac&&_0x3408ac[_0x54b191(0x694)]&&_0x3408ac[_0x54b191(0x694)][_0x54b191(0x123)]>0x1&&this['synchronizeFlows'](_0x3408ac[_0x54b191(0x1f1)],this[_0x54b191(0x4ad)][_0x54b191(0x618)]),!_0x3408ac)throw new Error(_0x54b191(0x632));return _0x3408ac;}catch(_0x3b57d4){throw this[_0x54b191(0x5ca)][_0x54b191(0x429)](this[_0x54b191(0x4b4)]+'\x20('+this['instance'][_0x54b191(0x618)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x3b57d4 instanceof Error?_0x3b57d4['message']:JSON['stringify'](_0x3b57d4,null,0x2))),new w(_0x54b191(0x622)+(_0x3b57d4 instanceof Error?_0x3b57d4[_0x54b191(0x689)]:JSON['stringify'](_0x3b57d4,null,0x2)));}}async[a0_0x5f0ca0(0x2a5)](_0x29646e){const _0x1ebff2=a0_0x5f0ca0;try{this[_0x1ebff2(0x5ca)][_0x1ebff2(0x524)](this[_0x1ebff2(0x4b4)]+'\x20('+this[_0x1ebff2(0x4ad)][_0x1ebff2(0x618)]+_0x1ebff2(0x1b1));let _0x2576ef=await this[_0x1ebff2(0x11e)]['flow']['findOne']({'where':{'name':_0x29646e[_0x1ebff2(0x309)]}},this[_0x1ebff2(0x4ad)][_0x1ebff2(0x618)]);if(!_0x2576ef)throw new Error(_0x1ebff2(0x75d));let _0xba135b=!0x1;if(_0x29646e[_0x1ebff2(0x274)]?.[_0x1ebff2(0xe2)]===!0x0)_0x2576ef[_0x1ebff2(0x5e6)]=_0x2576ef[_0x1ebff2(0x5e6)][_0x1ebff2(0x2d7)](_0x4bfd5d=>_0x4bfd5d&&_0x29646e[_0x1ebff2(0x274)]&&_0x4bfd5d[_0x1ebff2(0x1f1)]&&_0x29646e[_0x1ebff2(0x274)]['_id']&&_0x4bfd5d[_0x1ebff2(0x1f1)][_0x1ebff2(0x59b)]()!==_0x29646e[_0x1ebff2(0x274)][_0x1ebff2(0x1f1)][_0x1ebff2(0x59b)]()),_0xba135b=!0x0;else{let _0x2a73cf=_0x2576ef[_0x1ebff2(0x5e6)][_0x1ebff2(0x215)](_0x59b8ad=>_0x59b8ad&&_0x29646e[_0x1ebff2(0x274)]&&_0x59b8ad[_0x1ebff2(0x1f1)]&&_0x29646e['condition'][_0x1ebff2(0x1f1)]&&_0x59b8ad['_id'][_0x1ebff2(0x59b)]()===_0x29646e[_0x1ebff2(0x274)][_0x1ebff2(0x1f1)]['toString']());_0x2a73cf?(_0xba135b=_0x2a73cf['order']!==_0x29646e[_0x1ebff2(0x274)][_0x1ebff2(0x653)],Object[_0x1ebff2(0x725)](_0x2a73cf,_0x29646e['condition'])):(_0x2576ef['conditions'][_0x1ebff2(0x181)](_0x29646e['condition']),_0xba135b=!0x0);}if(_0xba135b){_0x2576ef[_0x1ebff2(0x5e6)]['sort']((_0xc5251d,_0xfd3d45)=>_0xc5251d[_0x1ebff2(0x653)]>_0xfd3d45[_0x1ebff2(0x653)]?0x1:_0xfd3d45['order']>_0xc5251d[_0x1ebff2(0x653)]?-0x1:0x0);for(let _0x278004=0x0;_0x278004<_0x2576ef[_0x1ebff2(0x5e6)]['length'];_0x278004++)_0x2576ef[_0x1ebff2(0x5e6)][_0x278004][_0x1ebff2(0x653)]=_0x278004+0x1;_0x2576ef[_0x1ebff2(0x5e6)]['length']>0x0&&(_0x2576ef[_0x1ebff2(0x5e6)][0x0]['OrAnd']=_0x1ebff2(0x4b6));}let _0x12cafa=await this[_0x1ebff2(0x11e)][_0x1ebff2(0x345)][_0x1ebff2(0x41a)](_0x2576ef[_0x1ebff2(0x1f1)],_0x2576ef,this[_0x1ebff2(0x4ad)][_0x1ebff2(0x618)]);if(_0x12cafa&&_0x12cafa[_0x1ebff2(0x694)]&&_0x12cafa[_0x1ebff2(0x694)][_0x1ebff2(0x123)]>0x1&&this[_0x1ebff2(0x738)](_0x12cafa[_0x1ebff2(0x1f1)],this[_0x1ebff2(0x4ad)][_0x1ebff2(0x618)]),!_0x12cafa)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x12cafa;}catch(_0x1ae914){throw this['logger'][_0x1ebff2(0x429)](this[_0x1ebff2(0x4b4)]+'\x20('+this[_0x1ebff2(0x4ad)][_0x1ebff2(0x618)]+_0x1ebff2(0x6f0)+(_0x1ae914 instanceof Error?_0x1ae914[_0x1ebff2(0x689)]:JSON[_0x1ebff2(0x1c7)](_0x1ae914,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x1ae914 instanceof Error?_0x1ae914[_0x1ebff2(0x689)]:JSON[_0x1ebff2(0x1c7)](_0x1ae914,null,0x2)));}}async[a0_0x5f0ca0(0x397)](_0x13a2c8){const _0x431c96=a0_0x5f0ca0;try{this[_0x431c96(0x5ca)][_0x431c96(0x524)](this[_0x431c96(0x4b4)]+'\x20('+this[_0x431c96(0x4ad)]['wuid']+_0x431c96(0x119));let _0x2acc2f=await this[_0x431c96(0x11e)][_0x431c96(0x345)][_0x431c96(0x1f0)]({'where':{'name':_0x13a2c8[_0x431c96(0x309)]}},this[_0x431c96(0x4ad)][_0x431c96(0x618)]);if(!_0x2acc2f)throw new Error(_0x431c96(0x75d));let _0x504feb=!0x1;if(_0x13a2c8[_0x431c96(0x2b3)]?.[_0x431c96(0xe2)]===!0x0)_0x2acc2f[_0x431c96(0x1e3)]=_0x2acc2f[_0x431c96(0x1e3)][_0x431c96(0x2d7)](_0x39f4ab=>_0x39f4ab&&_0x13a2c8['varedit']&&_0x39f4ab['_id']&&_0x13a2c8[_0x431c96(0x2b3)][_0x431c96(0x1f1)]&&_0x39f4ab[_0x431c96(0x1f1)][_0x431c96(0x59b)]()!==_0x13a2c8[_0x431c96(0x2b3)]['_id'][_0x431c96(0x59b)]()),_0x504feb=!0x0;else{let _0x20af58=_0x2acc2f[_0x431c96(0x1e3)][_0x431c96(0x215)](_0x204685=>_0x204685&&_0x13a2c8[_0x431c96(0x2b3)]&&_0x204685[_0x431c96(0x1f1)]&&_0x13a2c8[_0x431c96(0x2b3)][_0x431c96(0x1f1)]&&_0x204685[_0x431c96(0x1f1)][_0x431c96(0x59b)]()===_0x13a2c8[_0x431c96(0x2b3)][_0x431c96(0x1f1)][_0x431c96(0x59b)]());_0x20af58?(_0x504feb=_0x20af58['order']!==_0x13a2c8['varedit']['order'],Object[_0x431c96(0x725)](_0x20af58,_0x13a2c8[_0x431c96(0x2b3)])):(_0x2acc2f[_0x431c96(0x1e3)][_0x431c96(0x181)](_0x13a2c8[_0x431c96(0x2b3)]),_0x504feb=!0x0);}if(_0x504feb){_0x2acc2f[_0x431c96(0x1e3)][_0x431c96(0x14c)]((_0x5114d5,_0x480fae)=>_0x5114d5[_0x431c96(0x653)]>_0x480fae[_0x431c96(0x653)]?0x1:_0x480fae[_0x431c96(0x653)]>_0x5114d5[_0x431c96(0x653)]?-0x1:0x0);for(let _0x2a884a=0x0;_0x2a884a<_0x2acc2f[_0x431c96(0x1e3)][_0x431c96(0x123)];_0x2a884a++)_0x2acc2f[_0x431c96(0x1e3)][_0x2a884a][_0x431c96(0x653)]=_0x2a884a+0x1;}let _0x754297=await this['repository']['flow']['updateOne'](_0x2acc2f['_id'],_0x2acc2f,this[_0x431c96(0x4ad)][_0x431c96(0x618)]);if(_0x754297&&_0x754297[_0x431c96(0x694)]&&_0x754297[_0x431c96(0x694)]['length']>0x1&&this[_0x431c96(0x738)](_0x754297[_0x431c96(0x1f1)],this['instance'][_0x431c96(0x618)]),!_0x754297)throw new Error(_0x431c96(0x632));return _0x754297;}catch(_0x44cf14){throw this[_0x431c96(0x5ca)]['error'](this[_0x431c96(0x4b4)]+'\x20('+this[_0x431c96(0x4ad)][_0x431c96(0x618)]+_0x431c96(0x6f0)+(_0x44cf14 instanceof Error?_0x44cf14[_0x431c96(0x689)]:JSON[_0x431c96(0x1c7)](_0x44cf14,null,0x2))),new w('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x44cf14 instanceof Error?_0x44cf14[_0x431c96(0x689)]:JSON['stringify'](_0x44cf14,null,0x2)));}}async[a0_0x5f0ca0(0x3f4)](_0xf0211d){const _0x3dabe2=a0_0x5f0ca0;try{this[_0x3dabe2(0x5ca)][_0x3dabe2(0x524)](this[_0x3dabe2(0x4b4)]+'\x20('+this[_0x3dabe2(0x4ad)]['wuid']+_0x3dabe2(0x11d));let _0x2872cf=await this[_0x3dabe2(0x11e)][_0x3dabe2(0x345)][_0x3dabe2(0x1f0)]({'where':{'name':_0xf0211d['name']}},this[_0x3dabe2(0x4ad)]['wuid']);if(!_0x2872cf)throw new Error(_0x3dabe2(0x75d));_0xf0211d['variable'][_0x3dabe2(0x309)]=_0xf0211d[_0x3dabe2(0x751)]['name']['trim'](),_0xf0211d[_0x3dabe2(0x751)]['name']['startsWith']('_')&&(_0xf0211d[_0x3dabe2(0x751)][_0x3dabe2(0x309)]=_0xf0211d['variable']['name']['substring'](0x1)),_0xf0211d['variable'][_0x3dabe2(0x309)]=_0xf0211d[_0x3dabe2(0x751)][_0x3dabe2(0x309)][_0x3dabe2(0x29e)]();let _0x5c247f=_0x2872cf[_0x3dabe2(0x325)][_0x3dabe2(0x215)](_0x5eb4ea=>_0x5eb4ea['name']===_0xf0211d['variable'][_0x3dabe2(0x309)]);if(_0x5c247f?.[_0x3dabe2(0x5cc)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0xf0211d[_0x3dabe2(0x751)]?.[_0x3dabe2(0xe2)]===!0x0){if(!_0x5c247f)return{'message':_0x3dabe2(0x371)};_0x2872cf[_0x3dabe2(0x325)]=_0x2872cf['variables']['filter'](_0x3f56bf=>_0x3f56bf['name']!==_0xf0211d[_0x3dabe2(0x751)]['name']);}else _0x5c247f?Object[_0x3dabe2(0x725)](_0x5c247f,_0xf0211d[_0x3dabe2(0x751)]):_0x2872cf[_0x3dabe2(0x325)][_0x3dabe2(0x181)](_0xf0211d['variable']);let _0x285298=await this['repository'][_0x3dabe2(0x345)][_0x3dabe2(0x41a)](_0x2872cf[_0x3dabe2(0x1f1)],_0x2872cf,this[_0x3dabe2(0x4ad)][_0x3dabe2(0x618)]);if(_0x285298&&_0x285298[_0x3dabe2(0x694)]&&_0x285298[_0x3dabe2(0x694)][_0x3dabe2(0x123)]>0x1&&this[_0x3dabe2(0x738)](_0x285298[_0x3dabe2(0x1f1)],this[_0x3dabe2(0x4ad)][_0x3dabe2(0x618)]),!_0x285298)throw new Error(_0x3dabe2(0x632));return _0x285298;}catch(_0x3226d9){throw this[_0x3dabe2(0x5ca)][_0x3dabe2(0x429)](this[_0x3dabe2(0x4b4)]+'\x20('+this[_0x3dabe2(0x4ad)][_0x3dabe2(0x618)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x3226d9 instanceof Error?_0x3226d9[_0x3dabe2(0x689)]:JSON['stringify'](_0x3226d9,null,0x2))),new w(_0x3dabe2(0x594)+(_0x3226d9 instanceof Error?_0x3226d9[_0x3dabe2(0x689)]:JSON['stringify'](_0x3226d9,null,0x2)));}}async[a0_0x5f0ca0(0x128)](_0x35d6ce){const _0x2353c1=a0_0x5f0ca0;let _0x310e2e=null;try{if(!this[_0x2353c1(0x1a7)]?.[_0x2353c1(0x54f)]['enabled'])throw new w(_0x2353c1(0x2ad));this['logger'][_0x2353c1(0x524)](this[_0x2353c1(0x4b4)]+'\x20('+this['instance'][_0x2353c1(0x618)]+'):\x20Iniciando\x20bot...');let _0x108a87=(await this[_0x2353c1(0x54a)]({'numbers':[_0x35d6ce['remoteJid']]}))[0x0];if(!_0x108a87['exists']&&!(0x0,g[_0x2353c1(0x2f6)])(_0x108a87['jid'])&&!_0x108a87[_0x2353c1(0x3ad)][_0x2353c1(0x6ea)]('@broadcast'))throw _0x310e2e=JSON['stringify'](_0x108a87,null,0x2),new w(_0x108a87);let _0x329ae1=await this[_0x2353c1(0x11e)][_0x2353c1(0x345)][_0x2353c1(0x1f0)]({'where':{'name':_0x35d6ce[_0x2353c1(0x309)]}},this[_0x2353c1(0x4ad)][_0x2353c1(0x618)]);if(!_0x329ae1)return this[_0x2353c1(0x5ca)][_0x2353c1(0x429)](this[_0x2353c1(0x4b4)]+'\x20('+this['instance'][_0x2353c1(0x618)]+_0x2353c1(0x4fb)),{'message':_0x2353c1(0x75d)};let _0x2d7240=await this[_0x2353c1(0x188)](_0x329ae1,_0x108a87['jid'],_0x35d6ce['changeVariables']);if(_0x2d7240){this[_0x2353c1(0x5ca)][_0x2353c1(0x524)](this[_0x2353c1(0x4b4)]+'\x20('+this[_0x2353c1(0x4ad)][_0x2353c1(0x618)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x48000b=await this[_0x2353c1(0x51d)](_0x2d7240);return _0x48000b&&await this[_0x2353c1(0x3c5)](_0x2d7240,_0x48000b),{'message':_0x2353c1(0x44c)+_0x35d6ce[_0x2353c1(0x3e8)]};}}catch(_0x1f3cd2){if(this[_0x2353c1(0x5ca)][_0x2353c1(0x429)](this[_0x2353c1(0x4b4)]+'\x20('+this[_0x2353c1(0x4ad)]['wuid']+_0x2353c1(0x4b0)+(_0x1f3cd2 instanceof Error?_0x1f3cd2[_0x2353c1(0x689)]:JSON[_0x2353c1(0x1c7)](_0x1f3cd2,null,0x2))),_0x310e2e=_0x1f3cd2 instanceof Error?_0x1f3cd2[_0x2353c1(0x689)]:JSON[_0x2353c1(0x1c7)](_0x1f3cd2,null,0x2),_0x310e2e)throw new w('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x310e2e);}}async[a0_0x5f0ca0(0xfd)](_0x390c42){const _0x4aed10=a0_0x5f0ca0;try{let _0x3cbdd7={'remoteJid':_0x390c42,'status':_0x4aed10(0x330)},_0xff34e1={'status':_0x4aed10(0x5cd)},_0x5cfa85=await this[_0x4aed10(0x11e)][_0x4aed10(0x575)][_0x4aed10(0x6b1)](_0x3cbdd7,_0xff34e1,this[_0x4aed10(0x4ad)][_0x4aed10(0x618)]);return this[_0x4aed10(0x5ca)][_0x4aed10(0x524)](this[_0x4aed10(0x4b4)]+'\x20('+this[_0x4aed10(0x4ad)]['wuid']+_0x4aed10(0x263)),_0x5cfa85;}catch(_0x2b000c){throw this[_0x4aed10(0x5ca)]['error'](this[_0x4aed10(0x4b4)]+'\x20('+this[_0x4aed10(0x4ad)][_0x4aed10(0x618)]+_0x4aed10(0x5b2)+_0x2b000c[_0x4aed10(0x689)]),_0x2b000c;}}async[a0_0x5f0ca0(0x188)](_0x1e73c9,_0x1fb1a2,_0x2cfe50){const _0x37d75b=a0_0x5f0ca0;this[_0x37d75b(0x5ca)][_0x37d75b(0x524)](this[_0x37d75b(0x4b4)]+'\x20('+this[_0x37d75b(0x4ad)][_0x37d75b(0x618)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x37d75b(0xfd)](_0x1fb1a2);try{let _0x5cf2e8=require(_0x37d75b(0x250))[_0x37d75b(0x4d7)],_0x8a52bb=Date[_0x37d75b(0x423)](),_0x176317=_0x37d75b(0x669),_0xe8546a={},_0x2d33d8={},_0x5c254b={..._0x1e73c9,'chatLog':null},_0x24bbe6=await this[_0x37d75b(0x481)](_0x5c254b['variables']),_0x2a187d=await this[_0x37d75b(0x405)](_0x1fb1a2),_0x43bbbc={..._0x24bbe6,..._0x2a187d,'_remoteJid':_0x1fb1a2},_0x3c9ed9={'lastReceivedMessage':_0xe8546a,'lastSendMessage':_0x2d33d8,'lastBlockId':_0x176317,'lastCondition':!0x0,'realVariables':_0x43bbbc};_0x5c254b[_0x37d75b(0x264)]=_0x3c9ed9,_0x5c254b['chatLog'][_0x37d75b(0x640)]={..._0x43bbbc,..._0x2cfe50},delete _0x5c254b[_0x37d75b(0x1f1)],_0x5c254b['_id']=new _0x5cf2e8(),_0x5c254b[_0x37d75b(0x6bb)]=_0x8a52bb,_0x5c254b[_0x37d75b(0x5ff)]=_0x37d75b(0x330),_0x5c254b[_0x37d75b(0x3e8)]=_0x1fb1a2;let _0x542dde=await this['repository']['flowConversation'][_0x37d75b(0x41a)](_0x5c254b[_0x37d75b(0x1f1)],_0x5c254b,this[_0x37d75b(0x4ad)][_0x37d75b(0x618)]);return this['logger']['verbose'](this[_0x37d75b(0x4b4)]+'\x20('+this['instance'][_0x37d75b(0x618)]+_0x37d75b(0x6e3)),_0x542dde?_0x5c254b:null;}catch(_0x13ca19){throw this[_0x37d75b(0x5ca)][_0x37d75b(0x429)](this[_0x37d75b(0x4b4)]+'\x20('+this[_0x37d75b(0x4ad)][_0x37d75b(0x618)]+_0x37d75b(0x124)+(_0x13ca19 instanceof Error?_0x13ca19[_0x37d75b(0x689)]:JSON['stringify'](_0x13ca19,null,0x2))),new w(_0x13ca19['message']);}}async['getConversation'](_0x1e6a83){const _0xe51744=a0_0x5f0ca0;try{this[_0xe51744(0x5ca)]['verbose'](this[_0xe51744(0x4b4)]+'\x20('+this[_0xe51744(0x4ad)][_0xe51744(0x618)]+_0xe51744(0x4d0)),this[_0xe51744(0x5ca)][_0xe51744(0x524)](this[_0xe51744(0x4b4)]+'\x20('+this[_0xe51744(0x4ad)][_0xe51744(0x618)]+_0xe51744(0x400)+_0x1e6a83);let _0x10428b={'where':{'_id':_0x1e6a83}};return await this['repository'][_0xe51744(0x575)][_0xe51744(0x1f0)](_0x10428b,this[_0xe51744(0x4ad)][_0xe51744(0x618)]);}catch(_0x19d9ad){throw this[_0xe51744(0x5ca)]['error'](this[_0xe51744(0x4b4)]+'\x20('+this[_0xe51744(0x4ad)]['wuid']+_0xe51744(0x1c8)+(_0x19d9ad instanceof Error?_0x19d9ad[_0xe51744(0x689)]:JSON[_0xe51744(0x1c7)](_0x19d9ad,null,0x2))),new w(_0xe51744(0x5f5)+_0x19d9ad[_0xe51744(0x689)]);}}async[a0_0x5f0ca0(0x6ed)](_0x5e5e2c){const _0x2d64ed=a0_0x5f0ca0;try{return this[_0x2d64ed(0x5ca)][_0x2d64ed(0x524)](this[_0x2d64ed(0x4b4)]+'\x20('+this[_0x2d64ed(0x4ad)][_0x2d64ed(0x618)]+_0x2d64ed(0x331)),await this[_0x2d64ed(0x11e)][_0x2d64ed(0x575)][_0x2d64ed(0x215)](_0x5e5e2c,this[_0x2d64ed(0x4ad)][_0x2d64ed(0x618)]);}catch(_0x5611ee){throw this[_0x2d64ed(0x5ca)]['error'](this['instanceName']+'\x20('+this[_0x2d64ed(0x4ad)][_0x2d64ed(0x618)]+_0x2d64ed(0x6fc)+(_0x5611ee instanceof Error?_0x5611ee[_0x2d64ed(0x689)]:JSON[_0x2d64ed(0x1c7)](_0x5611ee,null,0x2))),new w(_0x2d64ed(0x483)+_0x5611ee[_0x2d64ed(0x689)]);}}async[a0_0x5f0ca0(0x734)](_0x5b9359){const _0x37f040=a0_0x5f0ca0;try{return this[_0x37f040(0x5ca)][_0x37f040(0x524)](this['instanceName']+'\x20('+this[_0x37f040(0x4ad)][_0x37f040(0x618)]+_0x37f040(0x471)),this[_0x37f040(0x5ca)][_0x37f040(0x524)](this[_0x37f040(0x4b4)]+'\x20('+this[_0x37f040(0x4ad)][_0x37f040(0x618)]+'):\x20Query\x20params:'+_0x5b9359),(await this[_0x37f040(0x11e)][_0x37f040(0x575)][_0x37f040(0x3b0)]({'where':{'_id':_0x5b9359}},this['instance'][_0x37f040(0x618)]))[_0x37f040(0x35f)]===0x0?{'message':_0x37f040(0x426)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x24eeea){throw this[_0x37f040(0x5ca)]['error'](this[_0x37f040(0x4b4)]+'\x20('+this['instance']['wuid']+_0x37f040(0x33c)+(_0x24eeea instanceof Error?_0x24eeea[_0x37f040(0x689)]:JSON[_0x37f040(0x1c7)](_0x24eeea,null,0x2))),new w(_0x37f040(0x3ff)+_0x24eeea[_0x37f040(0x689)]);}}async[a0_0x5f0ca0(0x4fc)](_0x4ebd18){const _0x12a5b5=a0_0x5f0ca0;try{let {_id:_0x1162fb,chatLog:_0x2cf6f5,status:_0x2411a1}=_0x4ebd18;if(!_0x1162fb)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x4da3ab={};if(_0x2411a1!==void 0x0&&(_0x4da3ab[_0x12a5b5(0x5ff)]=_0x2411a1),Object['keys'](_0x4da3ab)[_0x12a5b5(0x123)]===0x0)return{'message':_0x12a5b5(0x140)};let _0x170ff5=await this[_0x12a5b5(0x11e)][_0x12a5b5(0x575)][_0x12a5b5(0x41a)](_0x1162fb,_0x4da3ab,this['instance'][_0x12a5b5(0x618)]);return _0x170ff5||{'message':_0x12a5b5(0x564)};}catch(_0x53d5dc){throw this[_0x12a5b5(0x5ca)]['error'](this[_0x12a5b5(0x4b4)]+'\x20('+this[_0x12a5b5(0x4ad)][_0x12a5b5(0x618)]+_0x12a5b5(0x2e2)+(_0x53d5dc instanceof Error?_0x53d5dc['message']:JSON['stringify'](_0x53d5dc,null,0x2))),new w(_0x12a5b5(0x73e)+_0x53d5dc['message']);}}async['editChat'](_0x2c9035){const _0x516b69=a0_0x5f0ca0;let _0x5872bd=await this[_0x516b69(0x11e)][_0x516b69(0x42c)][_0x516b69(0x1f0)]({'where':{'_id':_0x2c9035[_0x516b69(0x1f1)]}},this['instance'][_0x516b69(0x618)]);if(!_0x5872bd)throw new w('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');console[_0x516b69(0x5bd)](_0x2c9035);try{_0x2c9035[_0x516b69(0x1f1)]=this[_0x516b69(0x67f)](_0x2c9035['_id']);let {_id:_0x39b70e,leadInfo:_0x23d8bc}=_0x2c9035;if(!_0x39b70e)throw new Error(_0x516b69(0x455));let _0x4aa17d=(_0xe46467,_0x19ca32,_0x21299a)=>{const _0x5e1a28=_0x516b69;_0xe46467&&_0x21299a[_0x5e1a28(0x173)](_0x485dad=>{_0xe46467[_0x485dad]!==void 0x0&&(_0x19ca32['leadInfo.'+_0x485dad]=_0xe46467[_0x485dad]);});},_0x227a88={};if(_0x23d8bc&&(_0x4aa17d(_0x23d8bc,_0x227a88,[_0x516b69(0x75b),_0x516b69(0x21a),_0x516b69(0x33d),_0x516b69(0x5c7),'status',_0x516b69(0x5b9),_0x516b69(0x5c3),_0x516b69(0xf8),'responsavelid',_0x516b69(0x36a)]),Array[_0x516b69(0x586)](_0x23d8bc[_0x516b69(0x1e7)])&&(_0x227a88['leadInfo.customFields']=_0x23d8bc[_0x516b69(0x1e7)]['map'](_0xdf2785=>({'_id':_0xdf2785[_0x516b69(0x1f1)],'value':_0xdf2785[_0x516b69(0x137)]}))),_0x2c9035[_0x516b69(0x5cc)]['etiquetas']!==void 0x0)){let _0x553db5=await this[_0x516b69(0x11e)][_0x516b69(0x338)][_0x516b69(0x215)]({'where':{}},this['instance'][_0x516b69(0x618)]),_0x2fe5ec=new Set(_0x2c9035[_0x516b69(0x5cc)][_0x516b69(0x36a)]||[]),_0x435a1e=new Set(_0x2c9035[_0x516b69(0x5cc)]['etiquetas']),_0x4aab49=new Set(_0x553db5['map'](_0x2fb765=>_0x2fb765[_0x516b69(0x1f1)])),_0x565f66=[..._0x435a1e][_0x516b69(0x2d7)](_0x32c4b3=>!_0x2fe5ec[_0x516b69(0x452)](_0x32c4b3)&&_0x4aab49[_0x516b69(0x452)](_0x32c4b3)),_0x1eff13=[..._0x2fe5ec][_0x516b69(0x2d7)](_0x3edd57=>!_0x435a1e[_0x516b69(0x452)](_0x3edd57));if(_0x227a88[_0x516b69(0x23f)]=[..._0x2fe5ec],_0x5872bd&&!_0x5872bd[_0x516b69(0x66f)]){for(let _0x3f396a of _0x565f66)await this[_0x516b69(0x2c7)](_0x3f396a,_0x2c9035[_0x516b69(0x1f1)]),_0x2fe5ec[_0x516b69(0x281)](_0x3f396a);for(let _0x5d4243 of _0x1eff13)await this[_0x516b69(0x65c)](_0x5d4243,_0x2c9035[_0x516b69(0x1f1)]),_0x2fe5ec[_0x516b69(0xe2)](_0x5d4243);}}if(_0x2c9035[_0x516b69(0x1c4)]!==void 0x0&&(_0x227a88[_0x516b69(0x1c4)]=Number(_0x2c9035[_0x516b69(0x1c4)])),Object[_0x516b69(0x520)](_0x227a88)[_0x516b69(0x123)]===0x0)throw new Error(_0x516b69(0x140));let _0x3a708f=await this[_0x516b69(0x11e)][_0x516b69(0x42c)][_0x516b69(0x41a)]({'where':{'_id':_0x2c9035[_0x516b69(0x1f1)]}},_0x227a88,this[_0x516b69(0x4ad)][_0x516b69(0x618)]);return _0x3a708f&&q(this['instanceName'],_0x516b69(0x25b),{'chat':_0x3a708f}),_0x3a708f?(this[_0x516b69(0x5ca)][_0x516b69(0x524)](this[_0x516b69(0x4b4)]+'\x20('+this[_0x516b69(0x4ad)][_0x516b69(0x618)]+_0x516b69(0x543)+JSON[_0x516b69(0x1c7)](_0x3a708f,null,0x2)),_0x3a708f):{'message':_0x516b69(0x493)};}catch(_0x17de38){throw this[_0x516b69(0x5ca)][_0x516b69(0x429)](this[_0x516b69(0x4b4)]+'\x20('+this[_0x516b69(0x4ad)][_0x516b69(0x618)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x17de38 instanceof Error?_0x17de38[_0x516b69(0x689)]:JSON[_0x516b69(0x1c7)](_0x17de38,null,0x2))),new w(_0x516b69(0x46f)+_0x17de38['message']);}}async[a0_0x5f0ca0(0x2c7)](_0x5956f2,_0x16c95e){const _0x5bc09b=a0_0x5f0ca0;try{await this['client'][_0x5bc09b(0x57a)](_0x16c95e,_0x5956f2),console['log']('Label\x20'+_0x5956f2+_0x5bc09b(0x28a)+_0x16c95e+_0x5bc09b(0x15c));}catch(_0x4c67fb){console[_0x5bc09b(0x429)](_0x5bc09b(0x38b)+_0x5956f2+_0x5bc09b(0x3eb)+_0x16c95e+':',_0x4c67fb);}}async[a0_0x5f0ca0(0x65c)](_0x351b61,_0x471779){const _0x43a7c1=a0_0x5f0ca0;try{await this[_0x43a7c1(0x5f9)][_0x43a7c1(0x668)](_0x471779,_0x351b61),console[_0x43a7c1(0x5bd)](_0x43a7c1(0x2b8)+_0x351b61+_0x43a7c1(0x5df)+_0x471779+_0x43a7c1(0x15c));}catch(_0x2273e9){console[_0x43a7c1(0x429)]('Erro\x20ao\x20remover\x20label\x20'+_0x351b61+_0x43a7c1(0x53c)+_0x471779+':',_0x2273e9);}}async[a0_0x5f0ca0(0x14b)](_0x18a8b5){const _0x28d005=a0_0x5f0ca0;try{let _0x2c3a98=await this[_0x28d005(0x11e)]['automateSystem'][_0x28d005(0x38f)](this[_0x28d005(0x4ad)][_0x28d005(0x618)]),_0x2cdbcf=_0x18a8b5[_0x28d005(0x1f1)]?_0x2c3a98[_0x28d005(0x680)]['findIndex'](_0x22d51d=>_0x22d51d[_0x28d005(0x1f1)]===_0x18a8b5[_0x28d005(0x1f1)]):-0x1;if(_0x18a8b5[_0x28d005(0xe2)]&&_0x2cdbcf>-0x1)_0x2c3a98[_0x28d005(0x680)][_0x28d005(0x335)](_0x2cdbcf,0x1);else{if(_0x2cdbcf>-0x1){let _0x838363=_0x2c3a98[_0x28d005(0x680)][_0x2cdbcf];_0x18a8b5[_0x28d005(0x40f)]&&(_0x838363[_0x28d005(0x40f)]=_0x18a8b5[_0x28d005(0x40f)]),_0x18a8b5[_0x28d005(0x309)]&&(_0x838363[_0x28d005(0x309)]=_0x18a8b5[_0x28d005(0x309)]),_0x18a8b5[_0x28d005(0x33d)]&&(_0x838363[_0x28d005(0x33d)]=_0x18a8b5['email']),_0x18a8b5[_0x28d005(0x143)]&&(_0x838363[_0x28d005(0x143)]=_0x18a8b5[_0x28d005(0x143)]);}else _0x2c3a98[_0x28d005(0x680)][_0x28d005(0x181)]({'_id':_0x18a8b5[_0x28d005(0x1f1)]||new ce[(_0x28d005(0x19d))][(_0x28d005(0x409))][(_0x28d005(0x4d7))]()['toString'](),'fone':_0x18a8b5[_0x28d005(0x40f)],'name':_0x18a8b5[_0x28d005(0x309)],'email':_0x18a8b5[_0x28d005(0x33d)],'role':_0x18a8b5[_0x28d005(0x143)]});}let _0x4744e2={'agents':_0x2c3a98['agents']},_0x39d703=await this[_0x28d005(0x11e)]['automateSystem'][_0x28d005(0x25c)](_0x4744e2,this[_0x28d005(0x4ad)][_0x28d005(0x618)]);return this[_0x28d005(0x1a7)]=_0x39d703,this[_0x28d005(0x5ca)][_0x28d005(0x524)](this[_0x28d005(0x4b4)]+'\x20('+this[_0x28d005(0x4ad)][_0x28d005(0x618)]+_0x28d005(0x4a1)),this[_0x28d005(0x5ca)][_0x28d005(0x524)](this[_0x28d005(0x4b4)]+'\x20('+this[_0x28d005(0x4ad)]['wuid']+_0x28d005(0x543)+this[_0x28d005(0x1a7)]),_0x39d703;}catch(_0x3eb93a){throw this[_0x28d005(0x5ca)][_0x28d005(0x429)](this[_0x28d005(0x4b4)]+'\x20('+this['instance'][_0x28d005(0x618)]+_0x28d005(0x5de)+(_0x3eb93a instanceof Error?_0x3eb93a[_0x28d005(0x689)]:JSON[_0x28d005(0x1c7)](_0x3eb93a,null,0x2))),new w(_0x28d005(0x726)+_0x3eb93a[_0x28d005(0x689)]);}}async[a0_0x5f0ca0(0x5e2)](_0x246e44){const _0x3e3e67=a0_0x5f0ca0;try{let _0x472aab=await this[_0x3e3e67(0x11e)][_0x3e3e67(0x474)][_0x3e3e67(0x38f)](this[_0x3e3e67(0x4ad)][_0x3e3e67(0x618)]),_0x44805b=_0x246e44[_0x3e3e67(0x1f1)]?_0x472aab['customFields']['findIndex'](_0x445e51=>_0x445e51['_id']===_0x246e44[_0x3e3e67(0x1f1)]):-0x1,_0xb83e10=!0x1,_0x2db848=_0x472aab[_0x3e3e67(0x1e7)]['some'](_0x5d1edf=>_0x5d1edf[_0x3e3e67(0x653)]===_0x246e44[_0x3e3e67(0x653)]);if(_0x246e44[_0x3e3e67(0xe2)]&&_0x44805b>-0x1)_0x472aab[_0x3e3e67(0x1e7)]['splice'](_0x44805b,0x1),_0xb83e10=!0x0;else{if(_0x44805b>-0x1){if(_0x472aab[_0x3e3e67(0x1e7)]['some'](_0x5de435=>_0x5de435[_0x3e3e67(0x309)]===_0x246e44['name']&&_0x5de435[_0x3e3e67(0x1f1)]!==_0x246e44['_id']))throw new Error(_0x3e3e67(0x3c2));let _0xa9e523=_0x472aab[_0x3e3e67(0x1e7)][_0x44805b];_0x246e44['order']&&(_0x2db848||!Number[_0x3e3e67(0x1df)](_0x246e44[_0x3e3e67(0x653)]))&&(_0xa9e523[_0x3e3e67(0x653)]=_0x246e44[_0x3e3e67(0x653)],_0xb83e10=!0x0),_0x246e44[_0x3e3e67(0x309)]&&(_0xa9e523[_0x3e3e67(0x309)]=_0x246e44[_0x3e3e67(0x309)]);}else{if(_0x472aab[_0x3e3e67(0x1e7)][_0x3e3e67(0x51a)](_0x7d3bba=>_0x7d3bba[_0x3e3e67(0x309)]===_0x246e44[_0x3e3e67(0x309)]&&_0x7d3bba[_0x3e3e67(0x1f1)]!==_0x246e44[_0x3e3e67(0x1f1)]))throw new Error(_0x3e3e67(0x3c2));_0x472aab['customFields']['push']({'_id':_0x246e44['_id']||new ce[(_0x3e3e67(0x19d))]['Types'][(_0x3e3e67(0x4d7))]()[_0x3e3e67(0x59b)](),'order':_0x246e44[_0x3e3e67(0x653)],'name':_0x246e44['name']}),_0xb83e10=!0x0;}}if(_0xb83e10){_0x472aab[_0x3e3e67(0x1e7)]['sort']((_0x1ad14b,_0x56d905)=>_0x1ad14b[_0x3e3e67(0x653)]>_0x56d905['order']?0x1:_0x56d905[_0x3e3e67(0x653)]>_0x1ad14b[_0x3e3e67(0x653)]?-0x1:0x0);for(let _0x3b26af=0x0;_0x3b26af<_0x472aab[_0x3e3e67(0x1e7)][_0x3e3e67(0x123)];_0x3b26af++)_0x472aab[_0x3e3e67(0x1e7)][_0x3b26af][_0x3e3e67(0x653)]=_0x3b26af+0x1;}let _0x15d6e3=await this[_0x3e3e67(0x11e)]['automateSystem'][_0x3e3e67(0x25c)](_0x472aab,this['instance'][_0x3e3e67(0x618)]);return this[_0x3e3e67(0x1a7)]=_0x15d6e3,this[_0x3e3e67(0x5ca)][_0x3e3e67(0x524)](this[_0x3e3e67(0x4b4)]+'\x20('+this[_0x3e3e67(0x4ad)]['wuid']+_0x3e3e67(0x32d)),this[_0x3e3e67(0x5ca)][_0x3e3e67(0x524)](this['instanceName']+'\x20('+this[_0x3e3e67(0x4ad)][_0x3e3e67(0x618)]+_0x3e3e67(0x543)+this[_0x3e3e67(0x1a7)]),_0x15d6e3;}catch(_0x4ad70e){throw this[_0x3e3e67(0x5ca)][_0x3e3e67(0x429)](this[_0x3e3e67(0x4b4)]+'\x20('+this[_0x3e3e67(0x4ad)][_0x3e3e67(0x618)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x4ad70e instanceof Error?_0x4ad70e[_0x3e3e67(0x689)]:JSON[_0x3e3e67(0x1c7)](_0x4ad70e,null,0x2))),new w(_0x3e3e67(0x16e)+_0x4ad70e[_0x3e3e67(0x689)]);}}async[a0_0x5f0ca0(0x174)](_0x54ce20){const _0x436237=a0_0x5f0ca0;try{let _0x322bd2=await this[_0x436237(0x11e)][_0x436237(0x474)][_0x436237(0x38f)](this[_0x436237(0x4ad)][_0x436237(0x618)]);if(!_0x322bd2)throw new Error(_0x436237(0x1aa));let _0x59b6a0={'_id':_0x322bd2['_id'],'flowConfig':{'enabled':_0x54ce20[_0x436237(0x1f6)]??_0x322bd2['flowConfig'][_0x436237(0x1f6)],'ignoreGroups':_0x54ce20[_0x436237(0x361)]??_0x322bd2[_0x436237(0x54f)][_0x436237(0x361)],'prefixCommand':_0x54ce20[_0x436237(0x64f)]??_0x322bd2[_0x436237(0x54f)][_0x436237(0x64f)],'stopConversation':_0x54ce20[_0x436237(0x11f)]??_0x322bd2[_0x436237(0x54f)][_0x436237(0x11f)],'stopMinutes':_0x54ce20[_0x436237(0x249)]??_0x322bd2[_0x436237(0x54f)][_0x436237(0x249)],'stopWhenYouSendMsg':_0x54ce20[_0x436237(0x3ce)]??_0x322bd2[_0x436237(0x54f)]['stopWhenYouSendMsg']}},_0x39221f=await this['repository'][_0x436237(0x474)][_0x436237(0x25c)](_0x59b6a0,this[_0x436237(0x4ad)][_0x436237(0x618)]);return this['AutomateSystem']=_0x39221f,this[_0x436237(0x5ca)][_0x436237(0x524)](this[_0x436237(0x4b4)]+'\x20('+this[_0x436237(0x4ad)][_0x436237(0x618)]+_0x436237(0x4a1)),this[_0x436237(0x5ca)][_0x436237(0x524)](this['instanceName']+'\x20('+this[_0x436237(0x4ad)][_0x436237(0x618)]+_0x436237(0x543)+this[_0x436237(0x1a7)]),setTimeout(()=>this[_0x436237(0x74f)](),0x7d0),_0x39221f;}catch(_0x42eef1){throw this[_0x436237(0x5ca)]['error'](this[_0x436237(0x4b4)]+'\x20('+this[_0x436237(0x4ad)][_0x436237(0x618)]+_0x436237(0x6c1)+(_0x42eef1 instanceof Error?_0x42eef1[_0x436237(0x689)]:JSON[_0x436237(0x1c7)](_0x42eef1,null,0x2))),new w(_0x436237(0x258)+_0x42eef1[_0x436237(0x689)]);}}async[a0_0x5f0ca0(0x293)](){const _0x20aa37=a0_0x5f0ca0;try{let _0x5d1e60=await this[_0x20aa37(0x11e)][_0x20aa37(0x474)][_0x20aa37(0x38f)](this[_0x20aa37(0x4ad)][_0x20aa37(0x618)]);return this[_0x20aa37(0x1a7)]=_0x5d1e60,this[_0x20aa37(0x5ca)][_0x20aa37(0x524)](this[_0x20aa37(0x4b4)]+'\x20('+this['instance'][_0x20aa37(0x618)]+_0x20aa37(0x30f)),this[_0x20aa37(0x5ca)]['verbose'](this[_0x20aa37(0x1a7)]),_0x5d1e60;}catch(_0x3101e4){throw this[_0x20aa37(0x5ca)][_0x20aa37(0x429)](this['instanceName']+'\x20('+this['instance'][_0x20aa37(0x618)]+_0x20aa37(0x126)+(_0x3101e4 instanceof Error?_0x3101e4[_0x20aa37(0x689)]:JSON[_0x20aa37(0x1c7)](_0x3101e4,null,0x2))),new w(_0x20aa37(0xf2)+_0x3101e4[_0x20aa37(0x689)]);}}async[a0_0x5f0ca0(0x602)](){const _0xa6422b=a0_0x5f0ca0;this['timerId']&&clearTimeout(this[_0xa6422b(0x6e8)]),this[_0xa6422b(0x6e8)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5f0ca0(0x4f1)](){const _0x2c9de3=a0_0x5f0ca0;Date[_0x2c9de3(0x423)]()-this[_0x2c9de3(0x282)]>=0x1d4c0&&(this[_0x2c9de3(0x5ca)][_0x2c9de3(0x524)](this[_0x2c9de3(0x4b4)]+'\x20('+this[_0x2c9de3(0x4ad)][_0x2c9de3(0x618)]+_0x2c9de3(0x2a8)),this['processingScheduleMessageId']=null,this[_0x2c9de3(0x282)]=0x0,this[_0x2c9de3(0x556)]=0x0,await this[_0x2c9de3(0x74f)]());}async['scheduleNextCheck'](){const _0x30df5c=a0_0x5f0ca0;let _0x169326=()=>{const _0x1cf581=a0_0x2797;this[_0x1cf581(0x5ca)]['verbose'](this[_0x1cf581(0x4b4)]+'\x20('+this[_0x1cf581(0x4ad)][_0x1cf581(0x618)]+_0x1cf581(0x2f4)+this[_0x1cf581(0x3e5)]+'\x20saindo\x20da\x20função');},_0x271359=async()=>{const _0x4ca6cb=a0_0x2797;this[_0x4ca6cb(0x5ca)][_0x4ca6cb(0x524)](this['instanceName']+'\x20('+this[_0x4ca6cb(0x4ad)][_0x4ca6cb(0x618)]+_0x4ca6cb(0x760));let _0x4391e4=Date[_0x4ca6cb(0x423)]()-0xc*0x3c*0x3c*0x3e8,_0x288d68={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x4ca6cb(0x423)](),'$gte':_0x4391e4}},{'when':0x0}]}};return await this[_0x4ca6cb(0x11e)][_0x4ca6cb(0x4f7)]['find'](_0x288d68,this['instance'][_0x4ca6cb(0x618)]);},_0x136ea8=async _0x31800a=>{const _0x3c9fba=a0_0x2797;for(let _0x5d38f4 of _0x31800a){let _0x5711d3={'_id':_0x5d38f4[_0x3c9fba(0x1f1)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3c9fba(0x423)]()-0x1770}}]},_0x3fc11d={'startSend':Date[_0x3c9fba(0x423)]()};if(!await this[_0x3c9fba(0x11e)]['scheduleMessage']['updateOne'](_0x5711d3,_0x3fc11d,this['instance'][_0x3c9fba(0x618)]))return;if(!this[_0x3c9fba(0x2f1)]){this[_0x3c9fba(0x5ca)][_0x3c9fba(0x524)](this[_0x3c9fba(0x4b4)]+'\x20('+this[_0x3c9fba(0x4ad)]['wuid']+_0x3c9fba(0x714));break;}if(_0x5d38f4['type']===_0x3c9fba(0x345)&&!this[_0x3c9fba(0x1a7)]?.[_0x3c9fba(0x54f)][_0x3c9fba(0x1f6)]){this[_0x3c9fba(0x5ca)][_0x3c9fba(0x429)](this[_0x3c9fba(0x4b4)]+'\x20('+this['instance'][_0x3c9fba(0x618)]+_0x3c9fba(0x2df));continue;}(!_0x5d38f4['remoteJidsRemaining']||_0x5d38f4[_0x3c9fba(0x43a)]['length']===0x0)&&(_0x5d38f4=await this[_0x3c9fba(0x11e)]['scheduleMessage'][_0x3c9fba(0x681)](_0x5d38f4['_id'],{'status':'sending','remoteJidsRemaining':[..._0x5d38f4['remoteJids']]},this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]));for(let _0x535fb0 of _0x5d38f4[_0x3c9fba(0x43a)]){if(await this[_0x3c9fba(0x602)](),this['lastSend']=Date['now'](),this['ultimaTentativaRemoteJid']===_0x535fb0){this['logger'][_0x3c9fba(0x429)](this[_0x3c9fba(0x4b4)]+'\x20('+this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x535fb0+_0x3c9fba(0x410));let _0x301462={'$push':{'messagesSend':{'remoteJid':_0x535fb0,'error':!0x0,'id':null,'error_log':'Falha\x20após\x20várias\x20tentativas.','log_timestamp':Date[_0x3c9fba(0x423)]()}},'$pull':{'remoteJidsRemaining':_0x535fb0}};await this[_0x3c9fba(0x11e)]['scheduleMessage'][_0x3c9fba(0x681)](_0x5d38f4[_0x3c9fba(0x1f1)],_0x301462,this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]);continue;}if(this[_0x3c9fba(0x4d5)]=_0x535fb0,_0x5d38f4['messagesSend'][_0x3c9fba(0x51a)](_0x290695=>_0x290695[_0x3c9fba(0x3e8)]===_0x535fb0)){this[_0x3c9fba(0x5ca)][_0x3c9fba(0x524)](this[_0x3c9fba(0x4b4)]+'\x20('+this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]+_0x3c9fba(0x503)+_0x535fb0+_0x3c9fba(0x2ab));continue;}if(!this[_0x3c9fba(0x2f1)]){this[_0x3c9fba(0x5ca)]['verbose'](this[_0x3c9fba(0x4b4)]+'\x20('+this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]+_0x3c9fba(0x571));break;}if(!this[_0x3c9fba(0x3e5)]){this[_0x3c9fba(0x5ca)][_0x3c9fba(0x524)](this[_0x3c9fba(0x4b4)]+'\x20('+this[_0x3c9fba(0x4ad)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x5d38f4[_0x3c9fba(0x1f1)]+_0x3c9fba(0x2be));break;}if(_0x5d38f4[_0x3c9fba(0x50f)]===_0x3c9fba(0x345)&&!this[_0x3c9fba(0x1a7)]?.[_0x3c9fba(0x54f)]['enabled']){this[_0x3c9fba(0x5ca)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3c9fba(0x2df));break;}let _0x15d883={'remoteJid':_0x535fb0,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3c9fba(0x423)]()},_0x12449f=null;try{let _0x373fc4=await this[_0x3c9fba(0x4de)](_0x535fb0,_0x5d38f4);_0x15d883[_0x3c9fba(0x429)]=_0x373fc4['error'],_0x15d883['id']=_0x373fc4['error']?null:_0x373fc4['id'],_0x15d883[_0x3c9fba(0x52b)]=_0x373fc4[_0x3c9fba(0x429)]?_0x373fc4[_0x3c9fba(0x705)]?_0x373fc4[_0x3c9fba(0x705)][_0x3c9fba(0x59b)]():'':null;let _0x33b749={'$push':{'messagesSend':_0x15d883},'$pull':{'remoteJidsRemaining':_0x535fb0}},_0xeb0a82=_0x5d38f4[_0x3c9fba(0x1f1)];if(_0x12449f=await this[_0x3c9fba(0x11e)][_0x3c9fba(0x4f7)][_0x3c9fba(0x681)](_0xeb0a82,_0x33b749,this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]),_0x373fc4[_0x3c9fba(0x429)])continue;let _0x270677=this['getDelay'](_0x5d38f4[_0x3c9fba(0x3af)],_0x5d38f4['delaySecMax']);await this[_0x3c9fba(0x145)](_0x270677);}catch(_0x1a10bf){this[_0x3c9fba(0x5ca)][_0x3c9fba(0x429)](this['instanceName']+'\x20('+this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x535fb0+':\x20'+(_0x1a10bf instanceof Error?_0x1a10bf[_0x3c9fba(0x689)]:JSON[_0x3c9fba(0x1c7)](_0x1a10bf,null,0x2))),_0x15d883['error']=!0x0,_0x15d883[_0x3c9fba(0x52b)]=_0x1a10bf[_0x3c9fba(0x689)];let _0x5bbe2e={'$push':{'messagesSend':_0x15d883},'$pull':{'remoteJidsRemaining':_0x535fb0}},_0x3c4b0a=_0x5d38f4[_0x3c9fba(0x1f1)];_0x12449f=await this[_0x3c9fba(0x11e)][_0x3c9fba(0x4f7)][_0x3c9fba(0x681)](_0x3c4b0a,_0x5bbe2e,this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]);}finally{if(_0x12449f&&_0x12449f['status']==='stopped'){this[_0x3c9fba(0x5ca)][_0x3c9fba(0x524)](this['instanceName']+'\x20('+this['instance'][_0x3c9fba(0x618)]+_0x3c9fba(0x1cd)+_0x5d38f4['_id']+_0x3c9fba(0x6e6));break;}}}let _0x3fc0f4=await this[_0x3c9fba(0x11e)]['scheduleMessage'][_0x3c9fba(0x41c)](_0x5d38f4[_0x3c9fba(0x1f1)],this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]);if(_0x3fc0f4[_0x3c9fba(0x43a)][_0x3c9fba(0x123)]===0x0&&_0x3fc0f4[_0x3c9fba(0x5ff)]!=='stopped'){let _0x5b18aa={'$set':{'status':_0x3c9fba(0x1e6)}},_0x71f9d5=_0x3fc0f4[_0x3c9fba(0x1f1)];await this[_0x3c9fba(0x11e)][_0x3c9fba(0x4f7)][_0x3c9fba(0x681)](_0x71f9d5,_0x5b18aa,this[_0x3c9fba(0x4ad)][_0x3c9fba(0x618)]);}await new Promise(_0x47d728=>setTimeout(_0x47d728,0x1388));}},_0x5d095c=async()=>{const _0x2b3ea2=a0_0x2797;let _0x5f590f={'where':{'status':_0x2b3ea2(0x10e),'when':{'$gt':Date['now']()}}},_0x353ac2=await this[_0x2b3ea2(0x11e)]['scheduleMessage'][_0x2b3ea2(0x1f0)](_0x5f590f,this[_0x2b3ea2(0x4ad)][_0x2b3ea2(0x618)]);_0x353ac2&&_0x353ac2[_0x2b3ea2(0x43f)]-Date[_0x2b3ea2(0x423)]()<=0x5265c00?this[_0x2b3ea2(0x556)]=_0x353ac2['when']-Date[_0x2b3ea2(0x423)]():this[_0x2b3ea2(0x556)]=(0x3c+Math['floor'](Math[_0x2b3ea2(0x4ea)]()*0x3c))*0x3c*0x3e8,this[_0x2b3ea2(0x556)]=Math[_0x2b3ea2(0x6ff)](this[_0x2b3ea2(0x556)],0x7d0);let _0xb815ae=Math[_0x2b3ea2(0x1ec)](this[_0x2b3ea2(0x556)]/0xea60);if(_0x353ac2){let _0x36022f=new Date(_0x353ac2[_0x2b3ea2(0x43f)])[_0x2b3ea2(0x4e3)]();this[_0x2b3ea2(0x5ca)]['verbose'](this[_0x2b3ea2(0x4b4)]+'\x20('+this[_0x2b3ea2(0x4ad)]['wuid']+_0x2b3ea2(0x328)+_0x36022f+',\x20fará\x20nova\x20verificação\x20em\x20'+_0xb815ae+_0x2b3ea2(0x3de));}else this['logger']['verbose'](this[_0x2b3ea2(0x4b4)]+'\x20('+this[_0x2b3ea2(0x4ad)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0xb815ae+_0x2b3ea2(0x3de));setTimeout(()=>this[_0x2b3ea2(0x74f)](),this[_0x2b3ea2(0x556)]);};if(this[_0x30df5c(0x3e5)]){await this['setRestartTimer'](),_0x169326();return;}if(!this[_0x30df5c(0x2f1)]){this['logger']['verbose'](this[_0x30df5c(0x4b4)]+'\x20('+this['instance'][_0x30df5c(0x618)]+_0x30df5c(0x223)),this[_0x30df5c(0x3e5)]=null,this[_0x30df5c(0x282)]=0x0,this[_0x30df5c(0x556)]=0x0;return;}try{let _0x464140=await _0x271359();_0x464140['length']===0x0?this['logger'][_0x30df5c(0x524)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x30df5c(0x753)):(this['processingScheduleMessageId']=_0x464140[0x0][_0x30df5c(0x1f1)],await _0x136ea8(_0x464140)),await _0x5d095c(),this[_0x30df5c(0x3e5)]=null;}catch(_0x5efdaa){this[_0x30df5c(0x5ca)][_0x30df5c(0x429)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x5efdaa instanceof Error?_0x5efdaa[_0x30df5c(0x689)]:JSON[_0x30df5c(0x1c7)](_0x5efdaa,null,0x2)));}}[a0_0x5f0ca0(0x22a)](_0x5aca0a,_0x269fd9){const _0x499e47=a0_0x5f0ca0;return _0x5aca0a=Math[_0x499e47(0x6ff)](0.5,_0x5aca0a),_0x269fd9=Math[_0x499e47(0x3d0)](Math[_0x499e47(0x6ff)](0x3,_0x269fd9),0x78),Math['floor'](Math[_0x499e47(0x4ea)]()*(_0x269fd9-_0x5aca0a+0x1)+_0x5aca0a)*0x3e8;}[a0_0x5f0ca0(0x145)](_0x3aec23){return new Promise(_0x105122=>setTimeout(_0x105122,_0x3aec23));}async[a0_0x5f0ca0(0x405)](_0x31379b){const _0x1b8b71=a0_0x5f0ca0;if(!this['AutomateSystem']&&(await this[_0x1b8b71(0x293)](),!this['AutomateSystem']))return null;_0x31379b=this[_0x1b8b71(0x67f)](_0x31379b);let _0x498f75=await this[_0x1b8b71(0x11e)][_0x1b8b71(0x42c)][_0x1b8b71(0x1f0)]({'where':{'_id':_0x31379b}},this[_0x1b8b71(0x4ad)][_0x1b8b71(0x618)]),_0x194491={};if(_0x498f75&&_0x498f75[_0x1b8b71(0x5cc)]){let _0x4849d4=_0x498f75[_0x1b8b71(0x5cc)];typeof _0x4849d4[_0x1b8b71(0x75b)]==_0x1b8b71(0x612)&&(_0x194491['nome']=_0x4849d4[_0x1b8b71(0x75b)]),typeof _0x4849d4[_0x1b8b71(0x21a)]==_0x1b8b71(0x612)&&(_0x194491[_0x1b8b71(0x21a)]=_0x4849d4[_0x1b8b71(0x21a)]),typeof _0x4849d4[_0x1b8b71(0x33d)]==_0x1b8b71(0x612)&&(_0x194491[_0x1b8b71(0x33d)]=_0x4849d4[_0x1b8b71(0x33d)]),typeof _0x4849d4[_0x1b8b71(0x5c7)]==_0x1b8b71(0x612)&&(_0x194491[_0x1b8b71(0x5c7)]=_0x4849d4[_0x1b8b71(0x5c7)]),typeof _0x4849d4[_0x1b8b71(0x5ff)]==_0x1b8b71(0x612)&&(_0x194491[_0x1b8b71(0x5ff)]=_0x4849d4[_0x1b8b71(0x5ff)]),typeof _0x4849d4[_0x1b8b71(0x5b9)]==_0x1b8b71(0x612)&&(_0x194491[_0x1b8b71(0x5b9)]=_0x4849d4[_0x1b8b71(0x5b9)]),typeof _0x4849d4['responsavelid']==_0x1b8b71(0x612)&&(_0x194491[_0x1b8b71(0x74e)]=_0x4849d4['responsavelid']),Array[_0x1b8b71(0x586)](_0x4849d4[_0x1b8b71(0x5c3)])&&(_0x194491['tags']=_0x4849d4['tags'][_0x1b8b71(0xe3)](',\x20')),Array[_0x1b8b71(0x586)](_0x4849d4[_0x1b8b71(0x36a)])&&(_0x194491[_0x1b8b71(0x36a)]=_0x4849d4['etiquetas']['join'](',\x20'));}return _0x498f75&&_0x498f75[_0x1b8b71(0x5cc)]&&_0x498f75['leadInfo'][_0x1b8b71(0x1e7)]&&_0x498f75['leadInfo'][_0x1b8b71(0x1e7)][_0x1b8b71(0x173)](_0x11f3b9=>{const _0x5228fb=_0x1b8b71;let _0x587176=this['AutomateSystem']?.[_0x5228fb(0x1e7)]['find'](_0x8aa415=>_0x8aa415[_0x5228fb(0x1f1)]===_0x11f3b9[_0x5228fb(0x1f1)]);_0x587176&&(_0x194491[_0x587176[_0x5228fb(0x309)]]=_0x11f3b9[_0x5228fb(0x137)]);}),_0x194491;}async[a0_0x5f0ca0(0x16f)](_0x13e2c3,_0x2804f6){const _0x4593f2=a0_0x5f0ca0;let _0x59be3c=await this['getVariablesChat'](_0x2804f6);return this[_0x4593f2(0x611)](_0x13e2c3,_0x59be3c);}async[a0_0x5f0ca0(0x5fb)](_0x3f2f55){const _0x104184=a0_0x5f0ca0;try{if(this[_0x104184(0x5ca)][_0x104184(0x524)](this[_0x104184(0x4b4)]+'\x20('+this['instance'][_0x104184(0x618)]+_0x104184(0x527)),_0x3f2f55['delete']&&_0x3f2f55[_0x104184(0x1f1)]){if(this['processingScheduleMessageId']===_0x3f2f55[_0x104184(0x1f1)]['toString']())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x4bc7fb=await this[_0x104184(0x11e)][_0x104184(0x4f7)][_0x104184(0x3b0)](_0x3f2f55[_0x104184(0x1f1)],this[_0x104184(0x4ad)][_0x104184(0x618)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4bc7fb;}let _0x53a8dc;if(_0x3f2f55[_0x104184(0x1f1)]&&(_0x53a8dc=await this[_0x104184(0x11e)][_0x104184(0x4f7)][_0x104184(0x41c)](_0x3f2f55[_0x104184(0x1f1)],this[_0x104184(0x4ad)][_0x104184(0x618)])),_0x53a8dc){let _0x570c26;if(this[_0x104184(0x3e5)]===_0x53a8dc[_0x104184(0x1f1)][_0x104184(0x59b)]())_0x570c26={'$set':{'status':_0x3f2f55[_0x104184(0x5ff)]}};else{let {_id:_0x487ffb,..._0x546680}=_0x3f2f55;_0x570c26={'$set':_0x546680};}let _0x2fc207=await this[_0x104184(0x11e)]['scheduleMessage'][_0x104184(0x681)](_0x3f2f55[_0x104184(0x1f1)],_0x570c26,this[_0x104184(0x4ad)][_0x104184(0x618)]);return setTimeout(()=>this[_0x104184(0x74f)](),0x7d0),_0x2fc207;}else{_0x3f2f55[_0x104184(0x284)]=this[_0x104184(0x4ad)][_0x104184(0x618)];let _0x2c1b9c=await this[_0x104184(0x11e)][_0x104184(0x4f7)]['createAndSave'](_0x3f2f55,this[_0x104184(0x4ad)][_0x104184(0x618)]);return setTimeout(()=>this[_0x104184(0x74f)](),0x7d0),_0x2c1b9c;}}catch(_0x146164){throw this[_0x104184(0x5ca)]['error'](this[_0x104184(0x4b4)]+'\x20('+this[_0x104184(0x4ad)]['wuid']+_0x104184(0x743)+(_0x146164 instanceof Error?_0x146164[_0x104184(0x689)]:JSON[_0x104184(0x1c7)](_0x146164,null,0x2))),new w(_0x104184(0x287)+_0x146164[_0x104184(0x689)]);}}async[a0_0x5f0ca0(0x418)](){const _0x2343d7=a0_0x5f0ca0;try{return await this[_0x2343d7(0x11e)]['scheduleMessage'][_0x2343d7(0x215)]({'where':{}},this['instance'][_0x2343d7(0x618)]);}catch(_0x17dd6c){throw this[_0x2343d7(0x5ca)]['error'](this[_0x2343d7(0x4b4)]+'\x20('+this['instance'][_0x2343d7(0x618)]+_0x2343d7(0x1e4)+(_0x17dd6c instanceof Error?_0x17dd6c['message']:JSON[_0x2343d7(0x1c7)](_0x17dd6c,null,0x2))),new w('Erro:'+_0x17dd6c[_0x2343d7(0x689)]);}}async['deleteDoneMessages'](){const _0x3550b8=a0_0x5f0ca0;try{let _0x119fa5={'status':_0x3550b8(0x1e6)},_0xbb2232=await this[_0x3550b8(0x11e)][_0x3550b8(0x4f7)][_0x3550b8(0x76c)](_0x119fa5,this[_0x3550b8(0x4ad)][_0x3550b8(0x618)]);if(!_0xbb2232['error'])this['logger'][_0x3550b8(0x524)](this[_0x3550b8(0x4b4)]+'\x20('+this['instance'][_0x3550b8(0x618)]+_0x3550b8(0x621));else throw new Error(_0xbb2232['error'][_0x3550b8(0x689)]||_0x3550b8(0x534));return this[_0x3550b8(0x418)]();}catch(_0xf8a0db){throw this[_0x3550b8(0x5ca)][_0x3550b8(0x429)](this['instanceName']+'\x20('+this[_0x3550b8(0x4ad)][_0x3550b8(0x618)]+_0x3550b8(0x539)+(_0xf8a0db instanceof Error?_0xf8a0db['message']:JSON[_0x3550b8(0x1c7)](_0xf8a0db,null,0x2))),new w(_0x3550b8(0x287)+_0xf8a0db[_0x3550b8(0x689)]);}}async['SendScheduleMessage'](_0x3d1133,_0x101a2a){const _0x457dee=a0_0x5f0ca0;try{if(_0x101a2a[_0x457dee(0x50f)]==='flow'&&!this[_0x457dee(0x1a7)]?.[_0x457dee(0x54f)][_0x457dee(0x1f6)])return this['logger'][_0x457dee(0x429)](this[_0x457dee(0x4b4)]+'\x20('+this[_0x457dee(0x4ad)][_0x457dee(0x618)]+_0x457dee(0x4d8)),{'error':!0x0,'detail':_0x457dee(0x2ad)};switch(_0x101a2a[_0x457dee(0x50f)]){case _0x457dee(0x5f0):return await this[_0x457dee(0x12b)](_0x101a2a,_0x3d1133);case _0x457dee(0x465):return await this[_0x457dee(0x2af)](_0x101a2a,_0x3d1133);case _0x457dee(0x425):return await this[_0x457dee(0x756)](_0x101a2a,_0x3d1133);case _0x457dee(0x345):let _0x39961b=new _e();return _0x39961b[_0x457dee(0x309)]=_0x101a2a[_0x457dee(0x5af)],_0x39961b['remoteJid']=_0x3d1133,await this[_0x457dee(0x128)](_0x39961b);break;default:return this[_0x457dee(0x5ca)][_0x457dee(0x429)](this[_0x457dee(0x4b4)]+'\x20('+this[_0x457dee(0x4ad)]['wuid']+_0x457dee(0x3ea)+_0x101a2a[_0x457dee(0x50f)]),{'error':!0x0,'detail':_0x457dee(0x382)};}}catch(_0x2a393f){return this[_0x457dee(0x5ca)][_0x457dee(0x429)](this[_0x457dee(0x4b4)]+'\x20('+this[_0x457dee(0x4ad)][_0x457dee(0x618)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x2a393f instanceof Error?_0x2a393f['message']:JSON[_0x457dee(0x1c7)](_0x2a393f,null,0x2))),{'error':!0x0,'detail':_0x2a393f[_0x457dee(0x689)]};}}[a0_0x5f0ca0(0x6f1)](_0x515faf){const _0x1c2b0d=a0_0x5f0ca0;let _0x1b229f=_0x515faf[_0x1c2b0d(0x70e)]('|'),_0x630dc0=Math['floor'](Math[_0x1c2b0d(0x4ea)]()*_0x1b229f[_0x1c2b0d(0x123)]);return _0x1b229f[_0x630dc0][_0x1c2b0d(0x29e)]();}async['scheduleSendText'](_0xc3a91f,_0x2d09c4){const _0x49b9d9=a0_0x5f0ca0;if(this['logger'][_0x49b9d9(0x524)](this[_0x49b9d9(0x4b4)]+'\x20('+this[_0x49b9d9(0x4ad)][_0x49b9d9(0x618)]+_0x49b9d9(0x1ef)),!_0xc3a91f['message'][_0x49b9d9(0x5f0)]||_0xc3a91f[_0x49b9d9(0x689)][_0x49b9d9(0x5f0)]['length']===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x1eeb3e=this['getRandomText'](_0xc3a91f[_0x49b9d9(0x689)][_0x49b9d9(0x5f0)]),_0x53f535=await this[_0x49b9d9(0x16f)](_0x1eeb3e,_0x2d09c4),_0x3b908a={'number':_0x2d09c4,'options':{'delay':_0xc3a91f[_0x49b9d9(0x689)][_0x49b9d9(0x6a3)]},'textMessage':{'text':_0x53f535}},_0x21ed75=null;try{let _0x4cc37a=await this[_0x49b9d9(0x14e)](_0x3b908a);if(_0x4cc37a&&_0x4cc37a[_0x49b9d9(0x5ff)])return{'error':!0x1,'id':_0x4cc37a['key']['id']};_0x21ed75=JSON['stringify'](_0x4cc37a),this[_0x49b9d9(0x5ca)][_0x49b9d9(0x524)](this[_0x49b9d9(0x4b4)]+'\x20('+this[_0x49b9d9(0x4ad)][_0x49b9d9(0x618)]+_0x49b9d9(0x543)+_0x21ed75);}catch(_0x189b1a){this['logger'][_0x49b9d9(0x429)](this[_0x49b9d9(0x4b4)]+'\x20('+this[_0x49b9d9(0x4ad)][_0x49b9d9(0x618)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x189b1a instanceof Error?_0x189b1a['message']:JSON[_0x49b9d9(0x1c7)](_0x189b1a,null,0x2))),_0x21ed75=_0x189b1a[_0x49b9d9(0x689)];}if(_0x21ed75)return{'error':!0x0,'detail':(typeof _0x21ed75==_0x49b9d9(0x6c6)?JSON['stringify'](_0x21ed75,null,0x2):_0x21ed75)[_0x49b9d9(0x27a)](/[\[\]{}\n]/g,'\x20')[_0x49b9d9(0x27a)](/  +/g,'\x20')};}async[a0_0x5f0ca0(0x2af)](_0x3fcc45,_0x5b47f2){const _0x1646c5=a0_0x5f0ca0;this[_0x1646c5(0x5ca)][_0x1646c5(0x524)](this['instanceName']+'\x20('+this[_0x1646c5(0x4ad)][_0x1646c5(0x618)]+_0x1646c5(0x21f));let _0x4fb813;if(_0x3fcc45[_0x1646c5(0x689)][_0x1646c5(0x5f0)]&&_0x3fcc45['message']['text'][_0x1646c5(0x123)]>0x0){let _0xd539e1=this[_0x1646c5(0x6f1)](_0x3fcc45['message'][_0x1646c5(0x5f0)]);_0x4fb813=await this[_0x1646c5(0x16f)](_0xd539e1,_0x5b47f2);}let _0x179897={'number':_0x5b47f2,'options':{'delay':_0x3fcc45[_0x1646c5(0x689)][_0x1646c5(0x6a3)]},'mediaMessage':{'mediatype':_0x3fcc45[_0x1646c5(0x689)][_0x1646c5(0x2eb)],'caption':_0x4fb813,'media':_0x3fcc45['message'][_0x1646c5(0x679)]}},_0x95a254=null;try{let _0x7c1744=await this[_0x1646c5(0x469)](_0x179897);if(_0x7c1744&&_0x7c1744[_0x1646c5(0x5ff)])return{'error':!0x1,'id':_0x7c1744[_0x1646c5(0x72a)]['id']};_0x95a254=JSON[_0x1646c5(0x1c7)](_0x7c1744),this[_0x1646c5(0x5ca)][_0x1646c5(0x524)](this['instanceName']+'\x20('+this[_0x1646c5(0x4ad)][_0x1646c5(0x618)]+'):\x20'+_0x95a254);}catch(_0x341d4d){this[_0x1646c5(0x5ca)][_0x1646c5(0x429)](this[_0x1646c5(0x4b4)]+'\x20('+this[_0x1646c5(0x4ad)][_0x1646c5(0x618)]+_0x1646c5(0x6a5)+(_0x341d4d instanceof Error?_0x341d4d[_0x1646c5(0x689)]:JSON[_0x1646c5(0x1c7)](_0x341d4d,null,0x2))),_0x95a254=_0x341d4d['message'];}if(_0x95a254)return{'error':!0x0,'detail':(typeof _0x95a254==_0x1646c5(0x6c6)?JSON[_0x1646c5(0x1c7)](_0x95a254,null,0x2):_0x95a254)[_0x1646c5(0x27a)](/[\[\]{}\n]/g,'\x20')[_0x1646c5(0x27a)](/  +/g,'\x20')};}async[a0_0x5f0ca0(0x756)](_0x4d731b,_0x464489){const _0x3765f6=a0_0x5f0ca0;this['logger'][_0x3765f6(0x524)](this[_0x3765f6(0x4b4)]+'\x20('+this[_0x3765f6(0x4ad)][_0x3765f6(0x618)]+_0x3765f6(0x47f));let _0x3688b1={'number':_0x464489,'options':{'delay':_0x4d731b[_0x3765f6(0x689)][_0x3765f6(0x6a3)]},'audioMessage':{'audio':_0x4d731b[_0x3765f6(0x689)]['urlOrBase64']}},_0x252ed1=null;try{let _0x68788c=await this[_0x3765f6(0x3be)](_0x3688b1);if(_0x68788c&&_0x68788c['status'])return{'error':!0x1,'id':_0x68788c[_0x3765f6(0x72a)]['id']};_0x252ed1=JSON[_0x3765f6(0x1c7)](_0x68788c),this[_0x3765f6(0x5ca)][_0x3765f6(0x524)](this[_0x3765f6(0x4b4)]+'\x20('+this[_0x3765f6(0x4ad)][_0x3765f6(0x618)]+'):\x20'+_0x252ed1);}catch(_0x35e2dc){this['logger']['error'](this[_0x3765f6(0x4b4)]+'\x20('+this[_0x3765f6(0x4ad)][_0x3765f6(0x618)]+_0x3765f6(0x637)+(_0x35e2dc instanceof Error?_0x35e2dc[_0x3765f6(0x689)]:JSON[_0x3765f6(0x1c7)](_0x35e2dc,null,0x2))),_0x252ed1=_0x35e2dc[_0x3765f6(0x689)];}if(_0x252ed1)return{'error':!0x0,'detail':(typeof _0x252ed1=='object'?JSON['stringify'](_0x252ed1,null,0x2):_0x252ed1)[_0x3765f6(0x27a)](/[\[\]{}\n]/g,'\x20')[_0x3765f6(0x27a)](/  +/g,'\x20')};}},$t=class c{constructor(_0xd0ab0,_0x3f59d0,_0x321944){const _0x26baaa=a0_0x5f0ca0;this[_0x26baaa(0x162)]=_0xd0ab0,this['configService']=_0x3f59d0,this[_0x26baaa(0x11e)]=_0x321944,this['db']={},this[_0x26baaa(0x3f6)]={},this[_0x26baaa(0x5ca)]=new N(c[_0x26baaa(0x309)]),this[_0x26baaa(0x659)]={},(this[_0x26baaa(0x211)](),this[_0x26baaa(0x516)](),Object['assign'](this['db'],_0x3f59d0['get'](_0x26baaa(0x271))),Object[_0x26baaa(0x725)](this['redis'],_0x3f59d0['get'](_0x26baaa(0x34f))),this[_0x26baaa(0x628)]=this['db'][_0x26baaa(0x3bb)]?this[_0x26baaa(0x11e)][_0x26baaa(0x449)]?.['db'](this['db'][_0x26baaa(0x34c)][_0x26baaa(0xef)]+'-instances'):void 0x0,this['cache']=this[_0x26baaa(0x3f6)][_0x26baaa(0x3bb)]?new oe(this[_0x26baaa(0x3f6)]):void 0x0);}async[a0_0x5f0ca0(0x48f)](_0xbdfe0d){const _0xdced0f=a0_0x5f0ca0;if(_0xbdfe0d&&!this['waInstances'][_0xbdfe0d])throw new k(_0xdced0f(0x6e1)+_0xbdfe0d+'\x22\x20not\x20found');let _0x17bd7a=[];for await(let [_0x281ca1,_0x415054]of Object[_0xdced0f(0x4d4)](this[_0xdced0f(0x659)]))if(_0x415054&&_0x415054[_0xdced0f(0x22e)][_0xdced0f(0x246)]===_0xdced0f(0x330)){let _0x3ac977=await this[_0xdced0f(0x11e)][_0xdced0f(0x60d)]['find'](_0x281ca1);_0x17bd7a['push']({'instance':{'instanceName':_0x281ca1,'apikey':_0x3ac977[_0xdced0f(0x5c5)],'owner':_0x415054['wuid'],'profileName':await _0x415054[_0xdced0f(0x448)]()||_0xdced0f(0x5be),'profilePictureUrl':_0x415054['profilePictureUrl']}});}return _0x17bd7a[_0xdced0f(0x215)](_0x58552e=>_0x58552e['instance'][_0xdced0f(0x4b4)]===_0xbdfe0d)??_0x17bd7a;}async[a0_0x5f0ca0(0x1b3)](_0x2889cf){const _0x3d19d0=a0_0x5f0ca0;if(this['db']['ENABLED']&&(await this[_0x3d19d0(0x11e)][_0x3d19d0(0x449)][_0x3d19d0(0x6cf)](),(await this[_0x3d19d0(0x628)]['collections']())[_0x3d19d0(0x123)]>0x0&&await this[_0x3d19d0(0x628)][_0x3d19d0(0x3d1)](_0x2889cf)),this['redis'][_0x3d19d0(0x3bb)]){this[_0x3d19d0(0x72d)]['reference']=_0x2889cf,await this[_0x3d19d0(0x72d)][_0x3d19d0(0x3d6)]();return;}}async[a0_0x5f0ca0(0x27e)](){const _0x43e819=a0_0x5f0ca0;await this[_0x43e819(0x66b)]();let _0x2e1a8e=async _0x3408f=>{const _0x595625=_0x43e819;let _0x555729=new ye(this[_0x595625(0x122)],this[_0x595625(0x162)],this[_0x595625(0x11e)]);_0x555729[_0x595625(0x4b4)]=_0x3408f,await _0x555729['connectToWhatsapp'](),this[_0x595625(0x659)][_0x3408f]=_0x555729;};try{if(this[_0x43e819(0x3f6)][_0x43e819(0x3bb)]){let _0xe1dc2e=await this[_0x43e819(0x72d)]['instanceKeys']();_0xe1dc2e?.[_0x43e819(0x123)]>0x0&&_0xe1dc2e[_0x43e819(0x173)](async _0x144028=>await _0x2e1a8e(_0x144028[_0x43e819(0x70e)](':')[0x1]));return;}if(this['db'][_0x43e819(0x3bb)]){await this[_0x43e819(0x11e)][_0x43e819(0x449)]['connect']();let _0x5b51f9=await this[_0x43e819(0x628)]['collections']();_0x5b51f9[_0x43e819(0x123)]>0x0&&_0x5b51f9[_0x43e819(0x173)](async _0x227f1a=>await _0x2e1a8e(_0x227f1a['namespace'][_0x43e819(0x27a)](/^[\w-]+\./,'')));return;}}catch(_0x786274){this[_0x43e819(0x5ca)][_0x43e819(0x429)](_0x786274);}}async[a0_0x5f0ca0(0x703)](){const _0x38bb8c=a0_0x5f0ca0;let _0x36bdd8=await this[_0x38bb8c(0x11e)][_0x38bb8c(0x60d)][_0x38bb8c(0x42b)](),_0x5aa90c=_0x36bdd8[_0x38bb8c(0x2d7)](_0xd61045=>!this[_0x38bb8c(0x659)][_0xd61045[_0x38bb8c(0x1f1)]]&&(_0xd61045['online']||typeof _0xd61045['online']>'u'));_0x5aa90c[_0x38bb8c(0x123)]>0x0&&await Promise[_0x38bb8c(0x1b7)](_0x5aa90c[_0x38bb8c(0x59f)](async _0x1b280c=>{const _0x587d32=_0x38bb8c;let _0x3bac99={'online':!0x1,'lastDisconnect':Date[_0x587d32(0x423)]()};await this['repository']['auth'][_0x587d32(0x427)](_0x3bac99,_0x1b280c['_id']);}));let _0x443de6=Date[_0x38bb8c(0x423)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5098fb=_0x36bdd8[_0x38bb8c(0x2d7)](_0x5d293f=>!this[_0x38bb8c(0x659)][_0x5d293f[_0x38bb8c(0x1f1)]]&&typeof _0x5d293f[_0x38bb8c(0x55f)]<'u'&&_0x5d293f['lastDisconnect']<_0x443de6);_0x5098fb[_0x38bb8c(0x123)]>0x0&&await Promise[_0x38bb8c(0x1b7)](_0x5098fb['map'](async _0x4c8598=>{}));}async[a0_0x5f0ca0(0x66b)](){const _0x2fa005=a0_0x5f0ca0;try{let _0x185aca={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x4efe88={'online':!0x1,'lastDisconnect':Date[_0x2fa005(0x423)]()},_0x4ad6df=await this[_0x2fa005(0x11e)][_0x2fa005(0x60d)][_0x2fa005(0x634)](_0x185aca,_0x4efe88);console['log']('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x4ad6df[_0x2fa005(0x6d5)]),await this[_0x2fa005(0x1dd)]();}catch(_0x1bc4b3){console[_0x2fa005(0x429)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x1bc4b3);}}async['removeOlderDisconnectedInstances'](){const _0x106c55=a0_0x5f0ca0;try{let _0x25717b={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x10d024=await this[_0x106c55(0x11e)]['auth'][_0x106c55(0x76c)](_0x25717b);console[_0x106c55(0x5bd)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x10d024[_0x106c55(0x6d5)]);}catch(_0x359187){console[_0x106c55(0x429)](_0x106c55(0x730),_0x359187);}}['removeInstance'](){const _0x4ea073=a0_0x5f0ca0;this[_0x4ea073(0x162)]['on'](_0x4ea073(0x4ef),async _0x5df643=>{const _0x17dd41=_0x4ea073;try{this['waInstances'][_0x5df643]=void 0x0;}catch{}try{this[_0x17dd41(0x1b3)](_0x5df643);}finally{this['logger']['warn'](_0x17dd41(0x6e1)+_0x5df643+_0x17dd41(0x3d4));}});}[a0_0x5f0ca0(0x516)](){const _0x308902=a0_0x5f0ca0;this[_0x308902(0x162)]['on'](_0x308902(0x327),async _0x27c06d=>{const _0x2ba370=_0x308902;try{this['waInstances'][_0x27c06d]=void 0x0;}catch{}try{this[_0x2ba370(0x1b3)](_0x27c06d);}finally{this[_0x2ba370(0x5ca)][_0x2ba370(0x5bc)](_0x2ba370(0x6e1)+_0x27c06d+_0x2ba370(0x75e));}});}},kt=class extends D{['getChatModelForOwner'](_0x46e35e){return qs(_0x46e35e);}async[a0_0x5f0ca0(0x533)](_0x22403f){const _0xc96d0=a0_0x5f0ca0;if(_0x22403f[_0xc96d0(0x123)]!==0x0)try{return{'insertCount':(await this[_0xc96d0(0x65d)](_0x22403f[0x0]['owner'])[_0xc96d0(0x2ed)]([..._0x22403f]))[_0xc96d0(0x123)]};}catch(_0x3f31e4){return _0x3f31e4;}}async[a0_0x5f0ca0(0x215)](_0x3ba4ff,_0x5e2ec3){const _0x3f48fa=a0_0x5f0ca0;try{let _0x48608a=this['getChatModelForOwner'](_0x5e2ec3),_0x2334d0=A(_0x3ba4ff['where']);return await _0x48608a['find'](_0x2334d0)[_0x3f48fa(0x14c)]({'lastmsg':-0x1})[_0x3f48fa(0x1e1)](_0x3ba4ff?.[_0x3f48fa(0x1e1)]??0x0)['lean']();}catch{return[];}}async[a0_0x5f0ca0(0x35d)](_0x1a12ca,_0x382aed){const _0x3b9d47=a0_0x5f0ca0;try{return await this[_0x3b9d47(0x65d)](_0x382aed)[_0x3b9d47(0x76c)]({..._0x1a12ca[_0x3b9d47(0x197)]}),[];}catch(_0x54923f){return{'error':_0x54923f?.[_0x3b9d47(0x59b)]()};}}async[a0_0x5f0ca0(0x1f0)](_0xbb21e6,_0x51f2c0){const _0x36aab0=a0_0x5f0ca0;try{let _0x9128a6=this[_0x36aab0(0x65d)](_0x51f2c0),_0x7668e9=A(_0xbb21e6['where']);return await _0x9128a6['findOne'](_0x7668e9)[_0x36aab0(0x58f)]();}catch{return null;}}async[a0_0x5f0ca0(0x41a)](_0xbd47d3,_0x5670f1,_0x35228d,_0x1a3323,_0x1b5332='$set'){const _0x1684f4=a0_0x5f0ca0;try{let _0x3f924e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1a3323},_0x36ebc6=this[_0x1684f4(0x65d)](_0x35228d),_0x33a46c=A(_0xbd47d3[_0x1684f4(0x197)]);Object[_0x1684f4(0x520)](_0x5670f1)[_0x1684f4(0x173)](_0x121d64=>{_0x5670f1[_0x121d64]==null&&delete _0x5670f1[_0x121d64];});let _0x1a6de4={};return _0x1a6de4[_0x1b5332]=_0x5670f1,await _0x36ebc6[_0x1684f4(0x298)](_0x33a46c,_0x1a6de4,_0x3f924e);}catch(_0x4af533){return console[_0x1684f4(0x429)](_0x4af533),null;}}async[a0_0x5f0ca0(0x6b1)](_0x1fec58){const _0x271c08=a0_0x5f0ca0;try{let _0x4de4bb=this[_0x271c08(0x65d)](_0x1fec58[0x0]['query'][_0x271c08(0x197)]['owner']),_0x3ed9c3=_0x1fec58[_0x271c08(0x59f)](_0x3a4397=>({'updateOne':{'filter':{..._0x3a4397[_0x271c08(0x21b)][_0x271c08(0x197)]},'update':{'$set':_0x3a4397[_0x271c08(0x25c)]},'upsert':!0x0}})),_0x1e3233=await _0x4de4bb[_0x271c08(0x6d6)](_0x3ed9c3);return _0x1e3233[_0x271c08(0x3bf)]+_0x1e3233[_0x271c08(0xf4)];}catch(_0x3b81c1){return console[_0x271c08(0x429)](_0x3b81c1),0x0;}}async['updateMissingLabels'](_0x28df96){const _0x176314=a0_0x5f0ca0;try{let _0x4cc139=this['getChatModelForOwner'](_0x28df96),_0xd44d3a={'labels':{'$exists':!0x0}},_0x57059c={'$unset':{'labels':''}};return(await _0x4cc139['updateMany'](_0xd44d3a,_0x57059c))[_0x176314(0x3bf)];}catch(_0x571b32){return console[_0x176314(0x429)](_0x571b32),0x0;}}async[a0_0x5f0ca0(0x10f)](_0x3d75fc){const _0x1c73c1=a0_0x5f0ca0;try{let _0x5fa3a1=this[_0x1c73c1(0x65d)](_0x3d75fc),_0x18f6c7={'leadInfo.etiquetas':{'$exists':!0x1}},_0x547949={'$set':{'leadInfo.etiquetas':[]}};return(await _0x5fa3a1['updateMany'](_0x18f6c7,_0x547949))[_0x1c73c1(0x3bf)];}catch(_0xd33a6c){return console[_0x1c73c1(0x429)](_0xd33a6c),0x0;}}async['updateMissingTags'](_0x4fdd56){const _0x326181=a0_0x5f0ca0;try{let _0x2e7849=this[_0x326181(0x65d)](_0x4fdd56),_0x4e986b={'leadInfo.tags':{'$exists':!0x1}},_0x36e7a3={'$set':{'leadInfo.tags':[]}};return(await _0x2e7849['updateMany'](_0x4e986b,_0x36e7a3))['modifiedCount'];}catch(_0x60a904){return console[_0x326181(0x429)](_0x60a904),0x0;}}async[a0_0x5f0ca0(0x6d3)](_0x37dc70){const _0x226811=a0_0x5f0ca0;try{let _0x3a5749=this[_0x226811(0x65d)](_0x37dc70),_0x5ba93d={'leadInfo.customFields':{'$exists':!0x1}},_0x5edefe={'$set':{'leadInfo.customFields':[]}};return(await _0x3a5749['updateMany'](_0x5ba93d,_0x5edefe))[_0x226811(0x3bf)];}catch(_0x277963){return console[_0x226811(0x429)](_0x277963),0x0;}}async['insertMany'](_0x51881f,_0xf061df){const _0x3e8185=a0_0x5f0ca0;if(!Array['isArray'](_0x51881f)||_0x51881f[_0x3e8185(0x123)]===0x0)throw new Error(_0x3e8185(0x6b0));try{return(await this[_0x3e8185(0x65d)](_0xf061df)[_0x3e8185(0x2ed)](_0x51881f))[_0x3e8185(0x123)];}catch(_0x25c3ff){throw console['error'](_0x3e8185(0x3a6),_0x25c3ff),_0x25c3ff;}}async[a0_0x5f0ca0(0x1ed)](_0x2916ac,_0x4522ed){const _0x1b21a3=a0_0x5f0ca0;try{await this[_0x1b21a3(0x65d)](_0x4522ed)['deleteOne']({'_id':_0x2916ac});}catch(_0x21b77d){throw console[_0x1b21a3(0x429)]('Erro\x20ao\x20deletar\x20chat:',_0x21b77d),_0x21b77d;}}},Lt=class extends D{['getLabelModelForOwner'](_0x109c9b){return da(_0x109c9b);}async[a0_0x5f0ca0(0x41a)](_0x5dae16,_0x596e98,_0x37ab61,_0x2c3a09){const _0x40cb91=a0_0x5f0ca0;try{let _0x31bb6a={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2c3a09},_0x44d853=this[_0x40cb91(0x5e4)](_0x37ab61),_0x4aeff3=A(_0x5dae16['where']);return await _0x44d853['findOneAndUpdate'](_0x4aeff3,{'$set':_0x596e98},_0x31bb6a);}catch(_0x57181c){return console[_0x40cb91(0x429)](_0x57181c),null;}}async['find'](_0x2c6621,_0x131801){const _0x4544ed=a0_0x5f0ca0;try{let _0x36d4ad=this['getLabelModelForOwner'](_0x131801),_0x2e1f45=A(_0x2c6621[_0x4544ed(0x197)]);return await _0x36d4ad['find'](_0x2e1f45);}catch(_0x5bd993){console['error'](_0x5bd993);}}async[a0_0x5f0ca0(0xe2)](_0xce84e0,_0x4b3493){const _0x457a06=a0_0x5f0ca0;try{let _0x2bc29c=this['getLabelModelForOwner'](_0x4b3493),_0x4114f2=A(_0xce84e0[_0x457a06(0x197)]);await _0x2bc29c[_0x457a06(0x76c)](_0x4114f2);}catch(_0x5d62d3){console[_0x457a06(0x429)](_0x5d62d3);}}async[a0_0x5f0ca0(0x35d)](_0x281fe5){const _0x498a04=a0_0x5f0ca0;try{return await this[_0x498a04(0x5e4)](_0x281fe5)[_0x498a04(0x4a7)][_0x498a04(0x4aa)](),{'success':!0x0};}catch(_0x497099){return console['error'](_0x497099),{'success':!0x1,'error':_0x497099};}}},Ft=class{constructor(_0x1f9e2f){const _0x471523=a0_0x5f0ca0;this[_0x471523(0x624)]=_0x1f9e2f;}async['editChat']({instanceName:_0x3e2baf},_0x316472){const _0x449e8f=a0_0x5f0ca0;return await this[_0x449e8f(0x624)]['waInstances'][_0x3e2baf][_0x449e8f(0x366)](_0x316472);}async['whatsappNumber']({instanceName:_0x2f843d},_0x2b145e){const _0x3e6d5a=a0_0x5f0ca0;return await this[_0x3e6d5a(0x624)][_0x3e6d5a(0x659)][_0x2f843d][_0x3e6d5a(0x54a)](_0x2b145e);}async['importChats']({instanceName:_0xb04e51},_0x39b69d){const _0x287fa5=a0_0x5f0ca0;return await this[_0x287fa5(0x624)][_0x287fa5(0x659)][_0xb04e51][_0x287fa5(0x40c)](_0x39b69d);}async[a0_0x5f0ca0(0xed)]({instanceName:_0x45a7b0},_0x13ce3f){const _0x44c91f=a0_0x5f0ca0;return await this[_0x44c91f(0x624)]['waInstances'][_0x45a7b0][_0x44c91f(0x512)](_0x13ce3f);}async[a0_0x5f0ca0(0x4e9)]({instanceName:_0x7549ba},_0x4cc84e){const _0x5001aa=a0_0x5f0ca0;return await this[_0x5001aa(0x624)]['waInstances'][_0x7549ba][_0x5001aa(0x4e9)](_0x4cc84e);}async['deleteMessage']({instanceName:_0x28af5c},_0x1e444d){const _0x532704=a0_0x5f0ca0;return await this[_0x532704(0x624)][_0x532704(0x659)][_0x28af5c][_0x532704(0x139)](_0x1e444d);}async[a0_0x5f0ca0(0x740)]({instanceName:_0x1c85c1},_0x17ccad){const _0x4f43f0=a0_0x5f0ca0;return await this[_0x4f43f0(0x624)][_0x4f43f0(0x659)][_0x1c85c1][_0x4f43f0(0x1c9)](_0x17ccad[_0x4f43f0(0x57f)]);}async[a0_0x5f0ca0(0x412)]({instanceName:_0x1ca9fb},_0x218405){const _0x5d1bb7=a0_0x5f0ca0;return await this['waMonitor'][_0x5d1bb7(0x659)][_0x1ca9fb][_0x5d1bb7(0x412)](_0x218405['number']);}async[a0_0x5f0ca0(0x259)]({instanceName:_0x5240af},_0x4541a2){const _0x2b3c8a=a0_0x5f0ca0;return await this['waMonitor'][_0x2b3c8a(0x659)][_0x5240af]['updatePresence'](_0x4541a2);}async[a0_0x5f0ca0(0x595)]({instanceName:_0x5d2911},_0x101802){const _0x5e3338=a0_0x5f0ca0;return await this[_0x5e3338(0x624)]['waInstances'][_0x5d2911][_0x5e3338(0x595)](_0x101802);}async['getBase64FromMediaMessage']({instanceName:_0x2011bb},_0x2bd5f4){const _0x5d3c3c=a0_0x5f0ca0;return await this[_0x5d3c3c(0x624)]['waInstances'][_0x2011bb][_0x5d3c3c(0x37e)](_0x2bd5f4);}async[a0_0x5f0ca0(0x687)]({instanceName:_0x5e7e10},_0x57836b){const _0x48e77d=a0_0x5f0ca0;return await this[_0x48e77d(0x624)][_0x48e77d(0x659)][_0x5e7e10][_0x48e77d(0x687)](_0x57836b);}async['fetchLabels']({instanceName:_0x25730a}){const _0x4dbbc7=a0_0x5f0ca0;return await this[_0x4dbbc7(0x624)][_0x4dbbc7(0x659)][_0x25730a]['fetchLabels']();}async[a0_0x5f0ca0(0x289)]({instanceName:_0x2495be}){const _0x1eb751=a0_0x5f0ca0;return await this['waMonitor'][_0x1eb751(0x659)][_0x2495be][_0x1eb751(0x289)]();}async[a0_0x5f0ca0(0x617)]({instanceName:_0x3cc411}){return await this['waMonitor']['waInstances'][_0x3cc411]['fetchPrivacySettings']();}async[a0_0x5f0ca0(0x3d5)]({instanceName:_0x56f899},_0x554d9d){const _0x130d8d=a0_0x5f0ca0;return await this[_0x130d8d(0x624)][_0x130d8d(0x659)][_0x56f899][_0x130d8d(0x3d5)](_0x554d9d);}async['fetchBusinessProfile']({instanceName:_0x58d124},_0x5a6080){const _0x1b5992=a0_0x5f0ca0;return await this['waMonitor'][_0x1b5992(0x659)][_0x58d124][_0x1b5992(0x28f)](_0x5a6080[_0x1b5992(0x57f)]);}async[a0_0x5f0ca0(0x283)]({instanceName:_0x19f80b},_0x154a78){const _0x47700c=a0_0x5f0ca0;return await this[_0x47700c(0x624)][_0x47700c(0x659)][_0x19f80b][_0x47700c(0x283)](_0x154a78[_0x47700c(0x309)]);}async['updateProfileStatus']({instanceName:_0x1acb47},_0x30dff0){const _0x1781bb=a0_0x5f0ca0;return await this[_0x1781bb(0x624)][_0x1781bb(0x659)][_0x1acb47][_0x1781bb(0x5bb)](_0x30dff0['status']);}async[a0_0x5f0ca0(0x649)]({instanceName:_0x395c7e},_0x3a1fdf){const _0x27526b=a0_0x5f0ca0;return await this[_0x27526b(0x624)][_0x27526b(0x659)][_0x395c7e][_0x27526b(0x649)](_0x3a1fdf['picture']);}async[a0_0x5f0ca0(0x1fe)]({instanceName:_0x31d0f4},_0x1b8890){const _0x247065=a0_0x5f0ca0;return await this[_0x247065(0x624)][_0x247065(0x659)][_0x31d0f4][_0x247065(0x1fe)]();}},Ns=require(a0_0x5f0ca0(0x4f5)),jt=class c{constructor(_0xe90e07,_0x7550fd,_0x251522,_0x4ac783,_0x23aa0b){const _0x4d669b=a0_0x5f0ca0;this[_0x4d669b(0x624)]=_0xe90e07,this[_0x4d669b(0x122)]=_0x7550fd,this[_0x4d669b(0x11e)]=_0x251522,this[_0x4d669b(0x162)]=_0x4ac783,this['authService']=_0x23aa0b,this[_0x4d669b(0x5ca)]=new N(c['name']);}async[a0_0x5f0ca0(0x614)]({instanceName:_0x498790,apikey:_0x5bf6f8,number:_0x2bf38d,proxy:_0x5a122d=!0x0}){const _0x12be59=a0_0x5f0ca0;try{let _0x3d3b8d=new ye(this[_0x12be59(0x122)],this[_0x12be59(0x162)],this[_0x12be59(0x11e)]);_0x3d3b8d[_0x12be59(0x4b4)]=_0x498790,this[_0x12be59(0x624)][_0x12be59(0x659)][_0x3d3b8d[_0x12be59(0x4b4)]]=_0x3d3b8d;let _0x115035={};_0x5bf6f8?(await this['repository'][_0x12be59(0x60d)][_0x12be59(0x427)]({'apikey':_0x5bf6f8},_0x498790),_0x115035[_0x12be59(0x5c5)]=_0x5bf6f8):_0x115035=await this[_0x12be59(0x6b2)][_0x12be59(0x704)]({'instanceName':_0x3d3b8d['instanceName']});let _0x50286d;return await _0x3d3b8d[_0x12be59(0x6e9)](_0x2bf38d),await(0x0,Ns[_0x12be59(0x6a3)])(0x7d0),_0x50286d=_0x3d3b8d[_0x12be59(0x28b)],{'instance':{'instanceName':_0x3d3b8d[_0x12be59(0x4b4)],'status':_0x12be59(0x6ad)},'hash':_0x115035,'qrcode':_0x50286d};}catch(_0x2ba20d){this[_0x12be59(0x5ca)]['error'](_0x2ba20d);}}async[a0_0x5f0ca0(0x4ac)]({instanceName:_0x71722d,number:_0xace577=null}){const _0x54e327=a0_0x5f0ca0;try{let _0x18f105=this['waMonitor'][_0x54e327(0x659)][_0x71722d];switch(_0x18f105?.[_0x54e327(0x22e)]?.['state']){case _0x54e327(0x186):return await _0x18f105[_0x54e327(0x6e9)](_0xace577),await(0x0,Ns[_0x54e327(0x6a3)])(0x7d0),_0x18f105[_0x54e327(0x28b)];case'connecting':return _0x18f105[_0x54e327(0x28b)];default:return await this[_0x54e327(0x540)]({'instanceName':_0x71722d});}}catch(_0x338ad7){this['logger']['log'](_0x338ad7);}}async[a0_0x5f0ca0(0x540)]({instanceName:_0x5437d9}){const _0x1d54b3=a0_0x5f0ca0;let _0x3fe4f8=this[_0x1d54b3(0x624)]['waInstances'][_0x5437d9][_0x1d54b3(0x22e)],_0x13efb4=null;_0x3fe4f8['state']===_0x1d54b3(0x330)&&_0x5437d9&&(_0x13efb4=await this[_0x1d54b3(0x624)][_0x1d54b3(0x48f)](_0x5437d9));let _0x137869=null;return _0x3fe4f8[_0x1d54b3(0x246)]==='connecting'&&_0x5437d9&&(_0x137869=this[_0x1d54b3(0x624)][_0x1d54b3(0x659)][_0x5437d9][_0x1d54b3(0x28b)]),{'instance':_0x5437d9,'connectionStatus':_0x3fe4f8,'instanceInfo':_0x13efb4,'qrcode':_0x137869};}async[a0_0x5f0ca0(0x2ff)]({instanceName:_0x58a680}){const _0x3e1821=a0_0x5f0ca0;try{return this[_0x3e1821(0x624)][_0x3e1821(0x659)][_0x58a680]?.[_0x3e1821(0x5f9)]?.['ws']?.['close'](),{'status':_0x3e1821(0x224),'error':!0x1,'response':{'message':_0x3e1821(0x43d)}};}catch(_0x4482df){this[_0x3e1821(0x5ca)][_0x3e1821(0x429)](_0x4482df);}}async['fetchInstances']({instanceName:_0x757cf5}){const _0x150fab=a0_0x5f0ca0;return _0x757cf5?this[_0x150fab(0x624)]['instanceInfo'](_0x757cf5):this[_0x150fab(0x624)][_0x150fab(0x48f)]();}async['logout']({instanceName:_0x7b3821}){const _0x461248=a0_0x5f0ca0;try{return await this[_0x461248(0x624)][_0x461248(0x659)][_0x7b3821]?.[_0x461248(0x5f9)]?.['logout'](_0x461248(0x18b)+_0x7b3821),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x407146){throw new I(_0x407146[_0x461248(0x59b)]());}}async[a0_0x5f0ca0(0x671)]({instanceName:_0x1a0ed5}){const _0x2eb2=a0_0x5f0ca0;if((await this[_0x2eb2(0x540)]({'instanceName':_0x1a0ed5}))['connectionStatus']['state']===_0x2eb2(0x330))throw new w([_0x2eb2(0x626),_0x2eb2(0x406)]);try{return delete this[_0x2eb2(0x624)][_0x2eb2(0x659)][_0x1a0ed5],{'error':!0x1,'message':_0x2eb2(0x739)};}catch(_0x31640e){throw new w(_0x31640e[_0x2eb2(0x59b)]());}}},Z=require(a0_0x5f0ca0(0x5ec)),Ut=class{constructor(_0x13f6f1){this['waMonitor']=_0x13f6f1;}async[a0_0x5f0ca0(0x1a4)]({instanceName:_0x341157},_0x185178){const _0x28abde=a0_0x5f0ca0;return await this['waMonitor'][_0x28abde(0x659)][_0x341157][_0x28abde(0x14e)](_0x185178);}async[a0_0x5f0ca0(0x603)]({instanceName:_0x3621cd},_0x33cf75){const _0x241324=a0_0x5f0ca0;return await this[_0x241324(0x624)][_0x241324(0x659)][_0x3621cd]['menuMessage'](_0x33cf75);}async[a0_0x5f0ca0(0x204)]({instanceName:_0x27fb4e},_0x54c2ac){const _0x1fb379=a0_0x5f0ca0;if((0x0,Z[_0x1fb379(0x6f7)])(_0x54c2ac?.['mediaMessage']?.[_0x1fb379(0x465)])&&!_0x54c2ac?.['mediaMessage']?.[_0x1fb379(0x69d)])throw new w(_0x1fb379(0x2b5));if((0x0,Z[_0x1fb379(0x64e)])(_0x54c2ac?.[_0x1fb379(0x469)]?.[_0x1fb379(0x465)])||(0x0,Z[_0x1fb379(0x6f7)])(_0x54c2ac?.[_0x1fb379(0x469)]?.[_0x1fb379(0x465)]))return await this[_0x1fb379(0x624)][_0x1fb379(0x659)][_0x27fb4e][_0x1fb379(0x469)](_0x54c2ac);throw new w(_0x1fb379(0x313));}async[a0_0x5f0ca0(0x11c)]({instanceName:_0x297278},_0x7740f3){const _0x2c8396=a0_0x5f0ca0;if((0x0,Z['isURL'])(_0x7740f3[_0x2c8396(0x385)]['image'])||(0x0,Z[_0x2c8396(0x6f7)])(_0x7740f3[_0x2c8396(0x385)]['image']))return await this['waMonitor'][_0x2c8396(0x659)][_0x297278][_0x2c8396(0x168)](_0x7740f3);throw new w(_0x2c8396(0x313));}async[a0_0x5f0ca0(0x6ac)]({instanceName:_0x20c70b},_0x5b8f68){const _0x3f745c=a0_0x5f0ca0;if((0x0,Z[_0x3f745c(0x64e)])(_0x5b8f68[_0x3f745c(0x378)]['audio'])||(0x0,Z[_0x3f745c(0x6f7)])(_0x5b8f68[_0x3f745c(0x378)][_0x3f745c(0x425)]))return await this[_0x3f745c(0x624)]['waInstances'][_0x20c70b][_0x3f745c(0x3be)](_0x5b8f68);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5f0ca0(0x73b)]({instanceName:_0x37da20},_0x4613d6){const _0x458e0c=a0_0x5f0ca0;if((0x0,Z[_0x458e0c(0x6f7)])(_0x4613d6[_0x458e0c(0x277)]['mediaMessage']?.[_0x458e0c(0x465)])&&!_0x4613d6['buttonMessage'][_0x458e0c(0x469)]?.['fileName'])throw new w(_0x458e0c(0x2b5));return await this[_0x458e0c(0x624)][_0x458e0c(0x659)][_0x37da20][_0x458e0c(0x277)](_0x4613d6);}async[a0_0x5f0ca0(0x500)]({instanceName:_0x486ddc},_0x3535c4){const _0x185bb9=a0_0x5f0ca0;return await this[_0x185bb9(0x624)]['waInstances'][_0x486ddc][_0x185bb9(0x198)](_0x3535c4);}async['sendPoll']({instanceName:_0x100a1f},_0x4373e2){const _0x2c5a5c=a0_0x5f0ca0;return await this[_0x2c5a5c(0x624)][_0x2c5a5c(0x659)][_0x100a1f]['pollMessage'](_0x4373e2);}async[a0_0x5f0ca0(0x6c7)]({instanceName:_0x88318c},_0x364de6){const _0x15d704=a0_0x5f0ca0;return await this[_0x15d704(0x624)]['waInstances'][_0x88318c][_0x15d704(0x350)](_0x364de6);}async[a0_0x5f0ca0(0x4af)]({instanceName:_0x105bff},_0x508b41){const _0x1d73d5=a0_0x5f0ca0;return await this['waMonitor'][_0x1d73d5(0x659)][_0x105bff][_0x1d73d5(0x5f7)](_0x508b41);}async[a0_0x5f0ca0(0x256)]({instanceName:_0x5a714b},_0x388051){const _0x29fc65=a0_0x5f0ca0;if(!_0x388051['reactionMessage'][_0x29fc65(0x2f3)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x29fc65(0x74b));return await this[_0x29fc65(0x624)]['waInstances'][_0x5a714b][_0x29fc65(0x44a)](_0x388051);}async['sendStatus']({instanceName:_0x4a6f51},_0x113494){const _0x2fc4e4=a0_0x5f0ca0;return await this[_0x2fc4e4(0x624)][_0x2fc4e4(0x659)][_0x4a6f51][_0x2fc4e4(0x4c6)](_0x113494);}},Mr=require(a0_0x5f0ca0(0x25d)),Rs=require(a0_0x5f0ca0(0x43b)),qt=class c{constructor(_0x2c23ce,_0x4b13e7,_0x3b96c6){const _0x35b9bb=a0_0x5f0ca0;this[_0x35b9bb(0x122)]=_0x2c23ce,this['waMonitor']=_0x4b13e7,this[_0x35b9bb(0x11e)]=_0x3b96c6,this[_0x35b9bb(0x5ca)]=new N(c[_0x35b9bb(0x309)]);}async[a0_0x5f0ca0(0x3d3)](_0x41249a){const _0x43b725=a0_0x5f0ca0;let _0x54313c=this[_0x43b725(0x122)][_0x43b725(0xf5)](_0x43b725(0x1cf))[_0x43b725(0x35c)],_0x209aa7=(0x0,Mr[_0x43b725(0x5c1)])({'instanceName':_0x41249a[_0x43b725(0x4b4)],'apiName':He,'tokenId':(0x0,Rs['v4'])()},_0x54313c['SECRET'],{'expiresIn':_0x54313c['EXPIRIN_IN'],'encoding':_0x43b725(0x195),'subject':'g-t'}),_0x53451a=await this[_0x43b725(0x11e)][_0x43b725(0x60d)][_0x43b725(0x427)]({'jwt':_0x209aa7},_0x41249a[_0x43b725(0x4b4)]);if(_0x53451a['error'])throw this[_0x43b725(0x5ca)][_0x43b725(0x429)]({'localError':c[_0x43b725(0x309)]+_0x43b725(0x568),'error':_0x53451a['error']}),new w(_0x43b725(0x768),_0x53451a[_0x43b725(0x429)]?.[_0x43b725(0x59b)]());return{'jwt':_0x209aa7};}async['apikey'](_0x42e030){const _0x26759a=a0_0x5f0ca0;let _0x2ed750=(0x0,Rs['v4'])()['toUpperCase'](),_0x5ecd44=await this['repository'][_0x26759a(0x60d)][_0x26759a(0x427)]({'apikey':_0x2ed750},_0x42e030['instanceName']);if(_0x5ecd44[_0x26759a(0x429)])throw this[_0x26759a(0x5ca)][_0x26759a(0x429)]({'localError':c[_0x26759a(0x309)]+'.jwt','error':_0x5ecd44['error']}),new w(_0x26759a(0x768),_0x5ecd44[_0x26759a(0x429)]?.[_0x26759a(0x59b)]());return{'apikey':_0x2ed750};}async[a0_0x5f0ca0(0x704)](_0x4fc446){const _0x2ea357=a0_0x5f0ca0;let _0x40ef08=this['configService'][_0x2ea357(0xf5)]('AUTHENTICATION');return await this[_0x40ef08[_0x2ea357(0x261)]](_0x4fc446);}},Jt=class{constructor(_0x48fb72){const _0xceca35=a0_0x5f0ca0;this[_0xceca35(0x624)]=_0x48fb72;}async['createGroup'](_0x84e92e,_0x37688a){const _0xd61aff=a0_0x5f0ca0;return await this[_0xd61aff(0x624)][_0xd61aff(0x659)][_0x84e92e[_0xd61aff(0x4b4)]][_0xd61aff(0x3a8)](_0x37688a);}async['updateGroupPicture'](_0x1a48ed,_0x23172e){const _0x11ed12=a0_0x5f0ca0;return await this[_0x11ed12(0x624)][_0x11ed12(0x659)][_0x1a48ed[_0x11ed12(0x4b4)]][_0x11ed12(0x472)](_0x23172e);}async[a0_0x5f0ca0(0x365)](_0x24512a,_0x4360d3){const _0x38d4b0=a0_0x5f0ca0;return await this[_0x38d4b0(0x624)][_0x38d4b0(0x659)][_0x24512a[_0x38d4b0(0x4b4)]][_0x38d4b0(0x365)](_0x4360d3);}async[a0_0x5f0ca0(0x557)](_0x345f78,_0x48fce6){const _0x593eab=a0_0x5f0ca0;return await this[_0x593eab(0x624)][_0x593eab(0x659)][_0x345f78[_0x593eab(0x4b4)]]['groupName'](_0x48fce6);}async[a0_0x5f0ca0(0x513)](_0x2f3689,_0x19e22c){const _0x34d233=a0_0x5f0ca0;return await this[_0x34d233(0x624)][_0x34d233(0x659)][_0x2f3689['instanceName']][_0x34d233(0x513)](_0x19e22c);}async[a0_0x5f0ca0(0x213)](_0x220255,_0x462ce7){const _0x219541=a0_0x5f0ca0;return await this['waMonitor'][_0x219541(0x659)][_0x220255[_0x219541(0x4b4)]][_0x219541(0x433)](_0x462ce7);}async[a0_0x5f0ca0(0x57e)](_0x1b2461){const _0x1144d3=a0_0x5f0ca0;return await this[_0x1144d3(0x624)][_0x1144d3(0x659)][_0x1b2461[_0x1144d3(0x4b4)]][_0x1144d3(0x57e)]();}async['inviteCode'](_0x19ca7c,_0x4faab6){const _0x49d5b0=a0_0x5f0ca0;return await this[_0x49d5b0(0x624)][_0x49d5b0(0x659)][_0x19ca7c[_0x49d5b0(0x4b4)]]['inviteCode'](_0x4faab6);}async['joinGroup'](_0x2c9154,_0x564453){const _0x2aa477=a0_0x5f0ca0;return await this[_0x2aa477(0x624)][_0x2aa477(0x659)][_0x2c9154[_0x2aa477(0x4b4)]][_0x2aa477(0x1f3)](_0x564453);}async[a0_0x5f0ca0(0x3a9)](_0x394de3,_0x423055){const _0x34f30a=a0_0x5f0ca0;return await this['waMonitor']['waInstances'][_0x394de3['instanceName']][_0x34f30a(0x3a9)](_0x423055);}async[a0_0x5f0ca0(0x40e)](_0x27117e,_0x5e2fc7){const _0x500e64=a0_0x5f0ca0;return await this[_0x500e64(0x624)][_0x500e64(0x659)][_0x27117e[_0x500e64(0x4b4)]][_0x500e64(0x40e)](_0x5e2fc7);}async[a0_0x5f0ca0(0x466)](_0x3a474f,_0x16c410){const _0x50b21b=a0_0x5f0ca0;return await this[_0x50b21b(0x624)][_0x50b21b(0x659)][_0x3a474f[_0x50b21b(0x4b4)]]['updateGParticipant'](_0x16c410);}async[a0_0x5f0ca0(0x3c6)](_0x3a88f7,_0x1ad56b){const _0x2f6da6=a0_0x5f0ca0;return await this[_0x2f6da6(0x624)][_0x2f6da6(0x659)][_0x3a88f7['instanceName']][_0x2f6da6(0x3c6)](_0x1ad56b);}async[a0_0x5f0ca0(0x1b0)](_0x1e2b13,_0xbeee67){const _0x581ade=a0_0x5f0ca0;return await this[_0x581ade(0x624)][_0x581ade(0x659)][_0x1e2b13[_0x581ade(0x4b4)]]['leaveGroup'](_0xbeee67);}},Vt=class{constructor(_0x24a173){const _0x3d668f=a0_0x5f0ca0;this[_0x3d668f(0x624)]=_0x24a173;}['create'](_0x38bb74,_0x306fe8){const _0x3c9a50=a0_0x5f0ca0;return this['waMonitor']['waInstances'][_0x38bb74[_0x3c9a50(0x4b4)]][_0x3c9a50(0x4fd)](_0x306fe8);}async[a0_0x5f0ca0(0x215)](_0x36e4c1){const _0x14640e=a0_0x5f0ca0;try{return await this[_0x14640e(0x624)]['waInstances'][_0x36e4c1[_0x14640e(0x4b4)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Zd=new N(a0_0x5f0ca0(0x291)),Bt=class{constructor(_0x212aa1){const _0xcbc2e2=a0_0x5f0ca0;this[_0xcbc2e2(0x624)]=_0x212aa1;}async[a0_0x5f0ca0(0x5fb)](_0x2c001b,_0x1b24af){const _0x4d0d85=a0_0x5f0ca0;return await this[_0x4d0d85(0x624)]['waInstances'][_0x2c001b[_0x4d0d85(0x4b4)]]['editScheduleMessage'](_0x1b24af);}async[a0_0x5f0ca0(0x418)](_0x1e9b1c){const _0x3d6db8=a0_0x5f0ca0;return await this[_0x3d6db8(0x624)][_0x3d6db8(0x659)][_0x1e9b1c[_0x3d6db8(0x4b4)]]['getScheduleMessage']();}async[a0_0x5f0ca0(0x5eb)](_0x2db602){const _0xd086ad=a0_0x5f0ca0;return await this[_0xd086ad(0x624)][_0xd086ad(0x659)][_0x2db602[_0xd086ad(0x4b4)]][_0xd086ad(0x5eb)]();}async[a0_0x5f0ca0(0x293)](_0x1c076c){const _0x398214=a0_0x5f0ca0;return await this[_0x398214(0x624)][_0x398214(0x659)][_0x1c076c['instanceName']][_0x398214(0x293)]();}async['updateAgent'](_0x3fa9c,_0x116e8e){const _0x309acb=a0_0x5f0ca0;return await this[_0x309acb(0x624)][_0x309acb(0x659)][_0x3fa9c['instanceName']][_0x309acb(0x14b)](_0x116e8e);}async['updateCustomFields'](_0x8b493e,_0xa748a2){const _0x371563=a0_0x5f0ca0;return await this[_0x371563(0x624)][_0x371563(0x659)][_0x8b493e[_0x371563(0x4b4)]][_0x371563(0x5e2)](_0xa748a2);}async[a0_0x5f0ca0(0x174)](_0x4de856,_0x2cc79b){const _0x5441b7=a0_0x5f0ca0;return await this['waMonitor'][_0x5441b7(0x659)][_0x4de856[_0x5441b7(0x4b4)]][_0x5441b7(0x174)](_0x2cc79b);}async['startFlow'](_0x20a87e,_0x3b623d){const _0x2352af=a0_0x5f0ca0;return await this['waMonitor'][_0x2352af(0x659)][_0x20a87e['instanceName']][_0x2352af(0x128)](_0x3b623d);}async[a0_0x5f0ca0(0x678)](_0x17139f,_0x18251e){const _0x280197=a0_0x5f0ca0;return await this[_0x280197(0x624)][_0x280197(0x659)][_0x17139f[_0x280197(0x4b4)]][_0x280197(0x678)](_0x18251e);}async[a0_0x5f0ca0(0x6ed)](_0x158bb5,_0xe65508){const _0x2fe83a=a0_0x5f0ca0;return await this[_0x2fe83a(0x624)][_0x2fe83a(0x659)][_0x158bb5['instanceName']][_0x2fe83a(0x6ed)](_0xe65508);}async[a0_0x5f0ca0(0x4fc)](_0x59d114,_0x4e2ded){const _0x52baf2=a0_0x5f0ca0;return await this['waMonitor'][_0x52baf2(0x659)][_0x59d114[_0x52baf2(0x4b4)]][_0x52baf2(0x4fc)](_0x4e2ded);}async['deleteConversation'](_0x305852,_0x18858b){const _0x2ca112=a0_0x5f0ca0;return await this['waMonitor']['waInstances'][_0x305852[_0x2ca112(0x4b4)]][_0x2ca112(0x734)](_0x18858b);}async[a0_0x5f0ca0(0x2d5)](_0x3f6e0f,_0x65c52c){const _0x4f3852=a0_0x5f0ca0;return await this['waMonitor'][_0x4f3852(0x659)][_0x3f6e0f['instanceName']][_0x4f3852(0x2d5)](_0x65c52c[_0x4f3852(0x309)]);}async[a0_0x5f0ca0(0x18e)](_0x1da273,_0x30fc04){const _0x4f72fa=a0_0x5f0ca0;return await this['waMonitor'][_0x4f72fa(0x659)][_0x1da273[_0x4f72fa(0x4b4)]][_0x4f72fa(0x18e)](_0x30fc04);}async[a0_0x5f0ca0(0x6df)](_0x20bce5,_0x27a387){const _0x527bce=a0_0x5f0ca0;return await this[_0x527bce(0x624)]['waInstances'][_0x20bce5['instanceName']]['editFlow'](_0x27a387);}async[a0_0x5f0ca0(0x1d6)](_0x4584dc,_0x517965){const _0x580b33=a0_0x5f0ca0;return await this[_0x580b33(0x624)][_0x580b33(0x659)][_0x4584dc['instanceName']][_0x580b33(0x1d6)](_0x517965);}async[a0_0x5f0ca0(0x3b7)](_0x4f05df,_0x38fb52){const _0x5082d6=a0_0x5f0ca0;return await this[_0x5082d6(0x624)][_0x5082d6(0x659)][_0x4f05df['instanceName']]['editFlowReply'](_0x38fb52);}async[a0_0x5f0ca0(0x4b3)](_0x26d425,_0x39b4f9){const _0x3de54f=a0_0x5f0ca0;return await this['waMonitor'][_0x3de54f(0x659)][_0x26d425[_0x3de54f(0x4b4)]][_0x3de54f(0x4b3)](_0x39b4f9);}async['editFlowCondition'](_0xb29188,_0x31adb2){const _0xc964c5=a0_0x5f0ca0;return await this[_0xc964c5(0x624)]['waInstances'][_0xb29188[_0xc964c5(0x4b4)]][_0xc964c5(0x2a5)](_0x31adb2);}async[a0_0x5f0ca0(0x397)](_0x1aaced,_0x5885f0){const _0xf42ba7=a0_0x5f0ca0;return await this[_0xf42ba7(0x624)]['waInstances'][_0x1aaced['instanceName']][_0xf42ba7(0x397)](_0x5885f0);}async[a0_0x5f0ca0(0x3f4)](_0x8d89cc,_0x306db7){const _0x3a1c68=a0_0x5f0ca0;return await this['waMonitor']['waInstances'][_0x8d89cc['instanceName']][_0x3a1c68(0x3f4)](_0x306db7);}async[a0_0x5f0ca0(0x6a8)](_0x31a409,_0xc60960){const _0x55d5c2=a0_0x5f0ca0;return await this[_0x55d5c2(0x624)][_0x55d5c2(0x659)][_0x31a409['instanceName']][_0x55d5c2(0x6a8)](_0xc60960[_0x55d5c2(0x309)]);}async['allFlows'](_0x591b4f){const _0x38c060=a0_0x5f0ca0;return await this[_0x38c060(0x624)][_0x38c060(0x659)][_0x591b4f[_0x38c060(0x4b4)]][_0x38c060(0x36d)]();}},Gt=class{constructor(_0x410ed2){const _0x30f444=a0_0x5f0ca0;this[_0x30f444(0x369)]=_0x410ed2;}async['createWebhook'](_0xc3c777,_0x465f58){const _0x38420d=a0_0x5f0ca0;return this[_0x38420d(0x369)][_0x38420d(0x427)](_0xc3c777,_0x465f58);}async[a0_0x5f0ca0(0x404)](_0x5a4da7){const _0x4d565f=a0_0x5f0ca0;return this['webhookService'][_0x4d565f(0x215)](_0x5a4da7);}},Wt=class extends D{constructor(_0x333d5e,_0x3816df){super(_0x3816df),this['webhookModel']=_0x333d5e,this['configService']=_0x3816df;}async['create'](_0x947957,_0x11f734){const _0x1165b3=a0_0x5f0ca0;try{return this[_0x1165b3(0x38d)][_0x1165b3(0x3bb)]?{'insertCount':(await this[_0x1165b3(0x22c)]['replaceOne']({'_id':_0x11f734},{..._0x947957},{'upsert':!0x0}))[_0x1165b3(0x3bf)]}:{'insertCount':0x1};}catch(_0x8f1587){return _0x8f1587;}}async[a0_0x5f0ca0(0xe2)](_0x18c1d3){const _0x154bb9=a0_0x5f0ca0;try{if(this['dbSettings'][_0x154bb9(0x3bb)]){await this[_0x154bb9(0x22c)][_0x154bb9(0x3b0)]({'_id':_0x18c1d3});return;}}catch(_0x5f1be9){return{'error':_0x5f1be9};}}async['find'](_0x2b0eb5){const _0x56cd0a=a0_0x5f0ca0;try{if(this[_0x56cd0a(0x38d)][_0x56cd0a(0x3bb)])return await this['webhookModel'][_0x56cd0a(0x1f0)]({'_id':_0x2b0eb5});}catch{return{};}}},zt=class extends D{constructor(_0x470e14,_0x45defd){const _0xd6d981=a0_0x5f0ca0;super(_0x45defd),this['authModel']=_0x470e14,this[_0xd6d981(0x122)]=_0x45defd,this[_0xd6d981(0x60d)]=_0x45defd['get'](_0xd6d981(0x1cf));}async[a0_0x5f0ca0(0x427)](_0x5231f1,_0x3f6cbd){const _0x379c56=a0_0x5f0ca0;try{if(this[_0x379c56(0x38d)][_0x379c56(0x3bb)])return{'insertCount':(await this[_0x379c56(0x3d8)][_0x379c56(0x41a)]({'_id':_0x3f6cbd},{'$set':{..._0x5231f1}},{'upsert':!0x0}))[_0x379c56(0x3bf)]};}catch(_0x1c1577){return{'error':_0x1c1577};}}async[a0_0x5f0ca0(0x634)](_0x536f38,_0x53f246){const _0x554ecf=a0_0x5f0ca0;try{if(this[_0x554ecf(0x38d)][_0x554ecf(0x3bb)])return{'insertCount':(await this[_0x554ecf(0x3d8)][_0x554ecf(0x6b1)](_0x536f38,{'$set':_0x53f246},{'upsert':!0x1}))[_0x554ecf(0x3bf)]};throw new Error(_0x554ecf(0x12c));}catch(_0x17b3bb){return{'error':_0x17b3bb};}}async[a0_0x5f0ca0(0x76c)](_0xed2130){const _0x2bb29d=a0_0x5f0ca0;try{if(this[_0x2bb29d(0x38d)]['ENABLED'])return{'insertCount':(await this[_0x2bb29d(0x3d8)][_0x2bb29d(0x76c)](_0xed2130))[_0x2bb29d(0x35f)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x58ac73){return{'error':_0x58ac73};}}async['delete'](_0x153b1b){const _0x4eec70=a0_0x5f0ca0;try{if(this[_0x4eec70(0x38d)][_0x4eec70(0x3bb)]){await this[_0x4eec70(0x3d8)][_0x4eec70(0x3b0)]({'_id':_0x153b1b});return;}}catch(_0x369d05){return{'error':_0x369d05};}}async[a0_0x5f0ca0(0x215)](_0x113c78){const _0x105eef=a0_0x5f0ca0;try{if(this[_0x105eef(0x38d)][_0x105eef(0x3bb)])return await this[_0x105eef(0x3d8)][_0x105eef(0x1f0)]({'_id':_0x113c78});}catch{return{};}}async[a0_0x5f0ca0(0x42b)](){const _0x2aadd4=a0_0x5f0ca0;try{if(this[_0x2aadd4(0x38d)][_0x2aadd4(0x3bb)])return await this[_0x2aadd4(0x3d8)][_0x2aadd4(0x215)]();}catch{return[];}}},Ht=class extends D{[a0_0x5f0ca0(0x747)](_0x17b93e){return sa(_0x17b93e);}async[a0_0x5f0ca0(0x510)](_0x78294d){const _0x2916d2=a0_0x5f0ca0;try{let _0x2ce2b8=aa,_0x5d8b25=this[_0x2916d2(0x747)](_0x78294d),_0xc9c65b=await _0x2ce2b8[_0x2916d2(0x215)]({'owner':_0x78294d})['lean'](),_0x2b4377=[],_0x390987=[];for(let _0xbc1636 of _0xc9c65b)await _0x5d8b25[_0x2916d2(0x41c)](_0xbc1636[_0x2916d2(0x1f1)])[_0x2916d2(0x58f)]()||(_0x2b4377[_0x2916d2(0x181)](_0xbc1636),_0x390987[_0x2916d2(0x181)](_0xbc1636[_0x2916d2(0x1f1)]));return _0x2b4377[_0x2916d2(0x123)]>0x0&&await _0x5d8b25[_0x2916d2(0x2ed)](_0x2b4377,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4a3156){return console['error'](_0x2916d2(0x4a3),_0x4a3156),{'success':!0x1,'error':_0x4a3156};}}async[a0_0x5f0ca0(0xe2)](_0x39f899,_0xdd33b5){const _0x3ab852=a0_0x5f0ca0;try{let _0x1852e1=this['getFlowModelForOwner'](_0xdd33b5),_0x5ee299=A(_0x39f899['where']);return{'deletedCount':(await _0x1852e1[_0x3ab852(0x76c)](_0x5ee299))[_0x3ab852(0x35f)]};}catch(_0x1728cd){return{'error':_0x1728cd?.[_0x3ab852(0x59b)]()};}}async['deleteOne'](_0x4601e2,_0x1f6177){const _0x5be292=a0_0x5f0ca0;try{let _0x33fe64=this[_0x5be292(0x747)](_0x1f6177),_0x3fb68b=A(_0x4601e2[_0x5be292(0x197)]);return{'deletedCount':(await _0x33fe64[_0x5be292(0x3b0)](_0x3fb68b))[_0x5be292(0x35f)]};}catch(_0x542550){return{'error':_0x542550?.[_0x5be292(0x59b)]()};}}async[a0_0x5f0ca0(0x39e)](_0x35dcce,_0xe6d435,_0x15326c){const _0x2ebfd8=a0_0x5f0ca0;try{let _0x5060fe=await this[_0x2ebfd8(0x747)](_0x15326c)[_0x2ebfd8(0x729)](_0x35dcce,_0xe6d435,{'overwrite':!0x0,'new':!0x0});return _0x5060fe||(console[_0x2ebfd8(0x429)](_0x2ebfd8(0x15d),_0x35dcce),null);}catch(_0xe452d7){return console[_0x2ebfd8(0x429)](_0x2ebfd8(0x102),_0xe452d7),null;}}async[a0_0x5f0ca0(0x41a)](_0x41bd12,_0x360303,_0xba115f){const _0x9d1b27=a0_0x5f0ca0;try{let _0x5ae612=await this[_0x9d1b27(0x747)](_0xba115f)[_0x9d1b27(0x41c)](_0x41bd12);return _0x5ae612?(Object[_0x9d1b27(0x725)](_0x5ae612,_0x360303),await _0x5ae612[_0x9d1b27(0x553)]()):(console[_0x9d1b27(0x429)](_0x9d1b27(0x1bc),_0x41bd12),null);}catch(_0x38df2a){return console[_0x9d1b27(0x429)](_0x9d1b27(0x102),_0x38df2a),null;}}async[a0_0x5f0ca0(0x4e7)](_0x117e25){const _0x58f7d9=a0_0x5f0ca0;try{let _0x243f1e=this[_0x58f7d9(0x747)](_0x117e25),_0x134f6c={'shareOwners':{'$exists':!0x1}},_0x2f4b5c={'$set':{'shareOwners':[]}};return(await _0x243f1e[_0x58f7d9(0x6b1)](_0x134f6c,_0x2f4b5c))[_0x58f7d9(0x3bf)];}catch(_0xb212f3){return console[_0x58f7d9(0x429)](_0xb212f3),0x0;}}async[a0_0x5f0ca0(0x288)](_0x5e4602,_0x207e93){const _0x9e58a8=a0_0x5f0ca0;try{let _0x51497c=this[_0x9e58a8(0x747)](_0x207e93);return await new _0x51497c(_0x5e4602)[_0x9e58a8(0x553)]();}catch(_0x17b9f0){return console[_0x9e58a8(0x429)](_0x9e58a8(0x351),_0x17b9f0),null;}}async[a0_0x5f0ca0(0x6b1)](_0x8b7b4d,_0x425edd,_0x133d55){const _0x3b1b6b=a0_0x5f0ca0;try{return{'modifiedCount':(await this[_0x3b1b6b(0x747)](_0x133d55)[_0x3b1b6b(0x6b1)](_0x8b7b4d,{'$set':_0x425edd}))[_0x3b1b6b(0x3bf)]};}catch(_0x3d5bb6){return console[_0x3b1b6b(0x429)](_0x3b1b6b(0x45e),_0x3d5bb6),{'error':_0x3d5bb6};}}async[a0_0x5f0ca0(0x42b)](_0xcb2d9e,_0x11067e){const _0x36393b=a0_0x5f0ca0;try{let _0x5c9217=this['getFlowModelForOwner'](_0x11067e),_0x2e0608=A(_0xcb2d9e['where']);return await _0x5c9217['find'](_0x2e0608)[_0x36393b(0x1e1)](_0xcb2d9e?.[_0x36393b(0x1e1)]??0x0)[_0x36393b(0x58f)]();}catch{return[];}}async[a0_0x5f0ca0(0x1f0)](_0x280cf0,_0x48aaac){const _0x448246=a0_0x5f0ca0;try{let _0xae015d=this[_0x448246(0x747)](_0x48aaac),_0x15309a=A(_0x280cf0[_0x448246(0x197)]);return await _0xae015d[_0x448246(0x1f0)](_0x15309a)[_0x448246(0x58f)]();}catch{return null;}}async[a0_0x5f0ca0(0x35d)](_0x381a5a){const _0x1fe6a7=a0_0x5f0ca0;try{return await this[_0x1fe6a7(0x747)](_0x381a5a)['collection'][_0x1fe6a7(0x4aa)](),{'success':!0x0};}catch(_0x56ab66){return console[_0x1fe6a7(0x429)](_0x56ab66),{'success':!0x1,'error':_0x56ab66};}}},Kt=class extends D{[a0_0x5f0ca0(0x59a)](_0x332f5b){return ia(_0x332f5b);}async['copyDataToNewModel'](_0x1615a6){const _0xf2effd=a0_0x5f0ca0;try{let _0x451775=oa,_0xe4bd94=this['getConversationModelForOwner'](_0x1615a6),_0x598097=await _0x451775[_0xf2effd(0x215)]({'owner':_0x1615a6})[_0xf2effd(0x58f)](),_0x218130=[],_0x3b4c26=[];for(let _0x5ed8b8 of _0x598097)await _0xe4bd94['findById'](_0x5ed8b8[_0xf2effd(0x1f1)])[_0xf2effd(0x58f)]()||(_0x218130[_0xf2effd(0x181)](_0x5ed8b8),_0x3b4c26['push'](_0x5ed8b8[_0xf2effd(0x1f1)]));return _0x218130[_0xf2effd(0x123)]>0x0&&await _0xe4bd94[_0xf2effd(0x2ed)](_0x218130,{'ordered':!0x1}),{'success':!0x0};}catch(_0x275f85){return console[_0xf2effd(0x429)](_0xf2effd(0x4a3),_0x275f85),{'success':!0x1,'error':_0x275f85};}}async['insert'](_0x5cbbf9){const _0x26e870=a0_0x5f0ca0;if(_0x5cbbf9[_0x26e870(0x123)]!==0x0)try{return{'insertCount':(await this[_0x26e870(0x59a)](_0x5cbbf9[0x0][_0x26e870(0x284)])[_0x26e870(0x2ed)]([..._0x5cbbf9]))[_0x26e870(0x123)]};}catch(_0xbfa54){return _0xbfa54;}}async['delete'](_0x659618,_0x2c92f6){const _0xbce7d3=a0_0x5f0ca0;try{let _0xc40d2c=this['getConversationModelForOwner'](_0x2c92f6),_0x1bb014=A(_0x659618[_0xbce7d3(0x197)]);return{'deletedCount':(await _0xc40d2c['deleteMany'](_0x1bb014))[_0xbce7d3(0x35f)]};}catch(_0x2a39f5){return{'error':_0x2a39f5?.['toString']()};}}async[a0_0x5f0ca0(0x3b0)](_0x1bebea,_0xb7cc45){const _0x24d0d9=a0_0x5f0ca0;try{let _0x55cef8=this[_0x24d0d9(0x59a)](_0xb7cc45),_0xa2aeeb=A(_0x1bebea[_0x24d0d9(0x197)]);return{'deletedCount':(await _0x55cef8['deleteOne'](_0xa2aeeb))[_0x24d0d9(0x35f)]};}catch(_0x391298){return{'error':_0x391298?.[_0x24d0d9(0x59b)]()};}}async[a0_0x5f0ca0(0x25c)](_0x567204,_0x410c92){const _0xa06900=a0_0x5f0ca0;try{if(_0x567204[_0xa06900(0x123)]===0x0)return;let _0x3c484a=this[_0xa06900(0x59a)](_0x410c92),_0x557030=_0x567204[_0xa06900(0x59f)](_0x58a988=>({'updateOne':{'filter':{'name':_0x58a988[_0xa06900(0x309)],'owner':_0x410c92},'update':{..._0x58a988}}})),{modifiedCount:_0xf161c6}=await _0x3c484a[_0xa06900(0x6d6)](_0x557030);return{'insertCount':_0xf161c6};}catch{return;}}async[a0_0x5f0ca0(0x6b1)](_0x4d77ff,_0x273e5e,_0x5e7a44){const _0x4d8fcf=a0_0x5f0ca0;try{return{'modifiedCount':(await this[_0x4d8fcf(0x59a)](_0x5e7a44)[_0x4d8fcf(0x6b1)](_0x4d77ff,{'$set':_0x273e5e}))[_0x4d8fcf(0x3bf)]};}catch(_0x3837dc){return console[_0x4d8fcf(0x429)](_0x4d8fcf(0x2bd),_0x3837dc),{'error':_0x3837dc};}}async['updateOne'](_0x1c91cc,_0x345f4f,_0x102129){const _0x1653a7=a0_0x5f0ca0;try{return await this[_0x1653a7(0x59a)](_0x102129)[_0x1653a7(0x298)]({'_id':_0x1c91cc},{'$set':_0x345f4f},{'new':!0x0,'upsert':!0x0})[_0x1653a7(0x58f)]();}catch(_0x2533a9){return console['error'](_0x2533a9),null;}}async[a0_0x5f0ca0(0x215)](_0x4d59cf,_0x138c9f){const _0x1e6847=a0_0x5f0ca0;try{return await this[_0x1e6847(0x59a)](_0x138c9f)[_0x1e6847(0x215)](_0x4d59cf)[_0x1e6847(0x14c)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x5f0ca0(0x1f0)](_0x2b4ee8,_0x55f97c){const _0x29105e=a0_0x5f0ca0;try{return await this[_0x29105e(0x59a)](_0x55f97c)[_0x29105e(0x1f0)]({..._0x2b4ee8[_0x29105e(0x197)]})[_0x29105e(0x58f)]();}catch{return null;}}async[a0_0x5f0ca0(0x35d)](_0x38da81){const _0x35261e=a0_0x5f0ca0;try{return await this['getConversationModelForOwner'](_0x38da81)['collection'][_0x35261e(0x4aa)](),{'success':!0x0};}catch(_0x46ea5b){return console['error'](_0x46ea5b),{'success':!0x1,'error':_0x46ea5b};}}},Qt=class extends D{['getScheduleMessageModelForOwner'](_0x382d9e){return ca(_0x382d9e);}async[a0_0x5f0ca0(0x510)](_0x33bee5){const _0x42c069=a0_0x5f0ca0;try{let _0x27dd30=la,_0x1a8b79=this['getScheduleMessageModelForOwner'](_0x33bee5),_0x5ac79a=await _0x27dd30['find']({'owner':_0x33bee5})[_0x42c069(0x58f)](),_0x168ddc=[],_0x54168e=[];for(let _0x1f7e7e of _0x5ac79a)await _0x1a8b79[_0x42c069(0x41c)](_0x1f7e7e['_id'])[_0x42c069(0x58f)]()||(_0x168ddc['push'](_0x1f7e7e),_0x54168e['push'](_0x1f7e7e[_0x42c069(0x1f1)]));return _0x168ddc[_0x42c069(0x123)]>0x0&&await _0x1a8b79['insertMany'](_0x168ddc,{'ordered':!0x1}),{'success':!0x0};}catch(_0x375de){return console[_0x42c069(0x429)](_0x42c069(0x4a3),_0x375de),{'success':!0x1,'error':_0x375de};}}async['createAndSave'](_0x559fe5,_0x31862d){const _0x8e2d97=a0_0x5f0ca0;try{let _0x13b8c8=this[_0x8e2d97(0x66c)](_0x31862d);return await new _0x13b8c8(_0x559fe5)['save']();}catch(_0x44e1c2){return console[_0x8e2d97(0x429)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x44e1c2),null;}}async['deleteOne'](_0x2fc637,_0x468cba){const _0x4a27f3=a0_0x5f0ca0;try{return await this[_0x4a27f3(0x66c)](_0x468cba)[_0x4a27f3(0x541)](_0x2fc637),{};}catch(_0x1901db){return{'error':_0x1901db?.[_0x4a27f3(0x59b)]()};}}async['updateOne'](_0x37a372,_0x1a3a3a,_0x1fc240){const _0x2639e7=a0_0x5f0ca0;try{return await this['getScheduleMessageModelForOwner'](_0x1fc240)[_0x2639e7(0x298)](_0x37a372,{'$set':_0x1a3a3a},{'new':!0x0})[_0x2639e7(0x58f)]();}catch(_0x178e0a){return console[_0x2639e7(0x429)](_0x2639e7(0x502),_0x178e0a),null;}}async['updateOneById'](_0x4bf067,_0xe15e43,_0x2bbd52){const _0x2c5f5e=a0_0x5f0ca0;try{return await this[_0x2c5f5e(0x66c)](_0x2bbd52)[_0x2c5f5e(0x729)](_0x4bf067,_0xe15e43,{'new':!0x0})['lean']();}catch(_0xd2dd50){return console[_0x2c5f5e(0x429)](_0x2c5f5e(0x502),_0xd2dd50),null;}}async[a0_0x5f0ca0(0x215)](_0x2dcc90,_0xd3f26c){const _0x591b46=a0_0x5f0ca0;try{return await this['getScheduleMessageModelForOwner'](_0xd3f26c)['find'](_0x2dcc90[_0x591b46(0x197)])[_0x591b46(0x1e1)](_0x2dcc90?.[_0x591b46(0x1e1)]??0x0)[_0x591b46(0x14c)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x5f0ca0(0x1f0)](_0x330227,_0x16c92f){const _0x3e969b=a0_0x5f0ca0;try{return await this[_0x3e969b(0x66c)](_0x16c92f)[_0x3e969b(0x1f0)](_0x330227[_0x3e969b(0x197)])[_0x3e969b(0x14c)]({'when':0x1})['lean']();}catch{return null;}}async['findById'](_0x18cce4,_0x304d3b){const _0x588a0b=a0_0x5f0ca0;try{return await this['getScheduleMessageModelForOwner'](_0x304d3b)[_0x588a0b(0x41c)](_0x18cce4)[_0x588a0b(0x58f)]();}catch{return null;}}async[a0_0x5f0ca0(0x76c)](_0x478b4d,_0x5b8563){const _0x201bfc=a0_0x5f0ca0;try{return{'deletedCount':(await this[_0x201bfc(0x66c)](_0x5b8563)[_0x201bfc(0x76c)](_0x478b4d))[_0x201bfc(0x35f)]};}catch(_0x1a9326){return console['error'](_0x201bfc(0x242),_0x1a9326),{'error':_0x1a9326};}}async[a0_0x5f0ca0(0x35d)](_0x241dae){const _0x5e3eca=a0_0x5f0ca0;try{return await this[_0x5e3eca(0x66c)](_0x241dae)['collection'][_0x5e3eca(0x4aa)](),{'success':!0x0};}catch(_0x508cd1){return console['error'](_0x508cd1),{'success':!0x1,'error':_0x508cd1};}}},Yt=class extends D{async['update'](_0x58ae01,_0x3579e1){const _0xa3c61c=a0_0x5f0ca0;try{if(this['dbSettings'][_0xa3c61c(0x3bb)]){let _0x3e625d=await $e[_0xa3c61c(0x298)]({'_id':_0x3579e1},{'$set':_0x58ae01},{'new':!0x0});return console[_0xa3c61c(0x5bd)](_0xa3c61c(0x6ce),_0x3e625d),_0x3e625d;}}catch(_0x465b12){throw console[_0xa3c61c(0x429)](_0xa3c61c(0x166),_0x465b12),_0x465b12;}}async['findOrCreate'](_0x4eafed){const _0x3478dd=a0_0x5f0ca0;try{let _0x20a761=await $e[_0x3478dd(0x41c)](_0x4eafed);return _0x20a761||(_0x20a761=new $e({'_id':_0x4eafed}),await _0x20a761[_0x3478dd(0x553)]()),_0x20a761;}catch(_0x5b4219){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x5b4219),null;}}},bi=new N(a0_0x5f0ca0(0x171)),Si=new Fe(b),Ei=new kt(b),Ci=new Ye(b),Mi=new Wt(Qs,b),vi=new zt(zs,b),Ni=new Ht(b),Ri=new Lt(b),Ti=new Kt(b),Oi=new Qt(b),Ai=new Yt(b),ue=new ke(Si,Ei,Ci,Mi,vi,Ni,Ti,Ri,Oi,Ai,R?.[a0_0x5f0ca0(0x450)]()),V=new $t(as,b,ue),Ii=new qt(b,V,ue),xi=new Vt(V),ms=new Gt(xi),O=new Bt(V),ie=new jt(V,b,ue,as,Ii),B=new Ut(V),_=new Ft(V),F=new Jt(V);bi[a0_0x5f0ca0(0x301)]('Module\x20-\x20ON');var mh=require(a0_0x5f0ca0(0x453)),Ts=require('fs'),vr=T(require(a0_0x5f0ca0(0x21e))),Nr=T(require(a0_0x5f0ca0(0x71d))),Ne=class c{static #e;static set[a0_0x5f0ca0(0x29c)](_0x47c5e5){this.#e=_0x47c5e5;}static get['https'](){const _0x5d60ef=a0_0x5f0ca0;let {FULLCHAIN:_0x58ef76,PRIVKEY:_0x4ea34d}=b[_0x5d60ef(0xf5)]('SSL_CONF');return vr[_0x5d60ef(0x12f)]({'cert':(0x0,Ts[_0x5d60ef(0x191)])(_0x58ef76),'key':(0x0,Ts['readFileSync'])(_0x4ea34d)},c.#e);}static get[a0_0x5f0ca0(0x71d)](){const _0x2f7d74=a0_0x5f0ca0;return Nr[_0x2f7d74(0x12f)](c.#e);}},pe=T(require('fs')),xr=T(require(a0_0x5f0ca0(0x71a))),Re=T(require(a0_0x5f0ca0(0x1b2))),Oe=T(require('path')),Ae=require(a0_0x5f0ca0(0x552));function Di(){const _0x440e45=a0_0x5f0ca0;V['loadInstance']();let _0x4f04c3=Oe[_0x440e45(0x19d)][_0x440e45(0xe3)](__dirname,_0x440e45(0x55a));Ir(_0x4f04c3);}var Ir=_0x48ffb2=>{const _0x59cd3b=a0_0x5f0ca0;let _0x4ef101=pe['default']['readdirSync'](_0x48ffb2),_0x53470b=0xc*0x3c*0x3c*0x3e8,_0x1d2c11=0x2*0x3c*0x3c*0x3e8,_0x264f11=new Date()[_0x59cd3b(0x633)]();_0x4ef101[_0x59cd3b(0x173)](_0x864095=>{const _0x315060=_0x59cd3b;let _0x28443e=Oe[_0x315060(0x19d)]['join'](_0x48ffb2,_0x864095),_0x2ae501=pe[_0x315060(0x19d)][_0x315060(0x21d)](_0x28443e)[_0x315060(0x150)][_0x315060(0x633)]();_0x264f11-_0x2ae501>_0x53470b&&(pe[_0x315060(0x19d)]['unlinkSync'](_0x28443e),console[_0x315060(0x5bd)](_0x315060(0x3bd)+_0x864095));}),setTimeout(()=>Ir(_0x48ffb2),_0x1d2c11);};function _i(){const _0xe63d57=a0_0x5f0ca0;let _0x48b7fc=new N('SERVER'),_0x4b8d6b=(0x0,he[_0xe63d57(0x19d)])();_0x4b8d6b[_0xe63d57(0x4da)]((0x0,Ar[_0xe63d57(0x19d)])({'origin'(_0xbd5df6,_0x2d411f){const _0x139aac=_0xe63d57;let {ORIGIN:_0x4e8943}=b['get']('CORS');return _0xbd5df6||(_0xbd5df6='*'),_0x4e8943[_0x139aac(0x254)]('*')!==-0x1||_0x4e8943[_0x139aac(0x254)](_0xbd5df6)!==-0x1?_0x2d411f(null,!0x0):_0x2d411f(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0xe63d57(0xf5)]('CORS')[_0xe63d57(0x2a4)]],'credentials':b[_0xe63d57(0xf5)]('CORS')[_0xe63d57(0x393)]}),(0x0,he[_0xe63d57(0x149)])({'extended':!0x0,'limit':_0xe63d57(0x4f6)}),(0x0,he[_0xe63d57(0x4f9)])({'limit':_0xe63d57(0x4f6)})),_0x4b8d6b[_0xe63d57(0x4da)]((_0x2f71fc,_0x36cc03,_0x3247ef)=>{const _0x4e768f=_0xe63d57;_0x2f71fc[_0x4e768f(0x414)][_0x4e768f(0x201)]('/events')?_0x3247ef():(0x0,Or['default'])()(_0x2f71fc,_0x36cc03,_0x3247ef);}),_0x4b8d6b[_0xe63d57(0x33b)](_0xe63d57(0x545),'hbs'),_0x4b8d6b[_0xe63d57(0x33b)]('views',(0x0,As[_0xe63d57(0xe3)])(re,_0xe63d57(0x278))),_0x4b8d6b[_0xe63d57(0x4da)](he[_0xe63d57(0x19d)]['static']((0x0,As[_0xe63d57(0xe3)])(re,_0xe63d57(0x554)))),_0x4b8d6b[_0xe63d57(0x4da)]((_0x474556,_0x1b4ee9,_0x484456)=>{const _0x294daa=_0xe63d57;let _0x2edfc5=_0x1b4ee9[_0x294daa(0x155)];_0x1b4ee9['send']=function(_0x39c6dc){const _0x2e0714=_0x294daa;if(_0x474556['query'][_0x2e0714(0x4f8)]===_0x2e0714(0x189)||_0x474556[_0x2e0714(0x356)][_0x2e0714(0x222)]==='true'){let _0x4281c1=JSON[_0x2e0714(0x2f0)](_0x39c6dc);_0x39c6dc=JSON['stringify'](_0x5099d5(_0x4281c1));}return _0x2edfc5[_0x2e0714(0x5f2)](_0x1b4ee9,[_0x39c6dc]);},_0x484456();}),_0x4b8d6b['use']('/',Nt),_0x4b8d6b[_0xe63d57(0x4da)]((_0x5e3b64,_0x3846f4,_0x27d7c4,_0x5df06b)=>{const _0x5cdfaa=_0xe63d57;if(_0x5e3b64)return _0x27d7c4[_0x5cdfaa(0x5ff)](_0x5e3b64[_0x5cdfaa(0x5ff)]||0x1f4)[_0x5cdfaa(0x4f9)](_0x5e3b64);},(_0x565469,_0xbf22cf,_0x29cbca)=>{const _0x2383eb=_0xe63d57;let {method:_0x4d5225,url:_0x38b2c1}=_0x565469;_0xbf22cf[_0x2383eb(0x5ff)](0x194)['json']({'status':0x194,'message':_0x2383eb(0x506)+_0x4d5225[_0x2383eb(0x3b2)]()+'\x20'+_0x38b2c1,'error':_0x2383eb(0x53d)}),_0x29cbca();});let _0x5099d5=(_0x139782,_0x2e8a89=_0xe63d57(0x696))=>{const _0x5680e8=_0xe63d57;let _0x433cc8=(_0x24d2bf,_0x3cc199=null,_0x3a7e7a=!0x1)=>{const _0x5d6ba0=a0_0x2797;let _0x534b36={};return Object['keys'](_0x24d2bf)[_0x5d6ba0(0x173)](_0x324b08=>{const _0x55d394=_0x5d6ba0;let _0x5c7f32=_0x24d2bf[_0x324b08],_0x25bee0=''+_0x2e8a89+_0x324b08;_0x3cc199&&!_0x3a7e7a&&(_0x25bee0=_0x3cc199+'.'+_0x324b08),!_0x5c7f32&&_0x5c7f32!==0x0&&_0x5c7f32!==!0x1||typeof _0x5c7f32>'u'?_0x534b36[_0x25bee0]=null:typeof _0x5c7f32!=_0x55d394(0x6c6)&&!Array[_0x55d394(0x586)](_0x5c7f32)?_0x534b36[_0x25bee0]=_0x5c7f32:typeof _0x5c7f32==_0x55d394(0x6c6)&&!Array[_0x55d394(0x586)](_0x5c7f32)?_0x534b36=Object[_0x55d394(0x725)](_0x534b36,_0x433cc8(_0x5c7f32,_0x25bee0)):Array[_0x55d394(0x586)](_0x5c7f32)&&(typeof _0x5c7f32[0x0]==_0x55d394(0x6c6)?(_0x534b36[_0x25bee0]=[],_0x5c7f32[_0x55d394(0x173)](_0x806e63=>{const _0x5eac3b=_0x55d394;_0x534b36[_0x25bee0][_0x5eac3b(0x181)](_0x433cc8(_0x806e63,_0x25bee0,!0x0));})):_0x534b36[_0x25bee0]=_0x5c7f32);}),_0x534b36;};return Array[_0x5680e8(0x586)](_0x139782)?_0x139782[_0x5680e8(0x59f)](_0x556e62=>_0x433cc8(_0x556e62)):typeof _0x139782==_0x5680e8(0x6c6)&&_0x139782!==null?_0x433cc8(_0x139782):{};},_0x4b9942=b[_0xe63d57(0xf5)](_0xe63d57(0x5e1));Ne[_0xe63d57(0x29c)]=_0x4b8d6b;let _0x595cb4=Ne[_0x4b9942[_0xe63d57(0x261)]],_0x50f585=_0xe63d57(0x459);_0x595cb4['listen'](_0x4b9942[_0xe63d57(0x2a1)],()=>{const _0xf5921e=_0xe63d57;_0x48b7fc[_0xf5921e(0x5bd)](_0x50f585),_0x48b7fc[_0xf5921e(0x5bd)](_0x4b9942[_0xf5921e(0x261)]['toUpperCase']()+_0xf5921e(0x57d)+_0x4b9942[_0xf5921e(0x2a1)]);}),Di(),js();}var Pi='https://github.com/uazapi/uazapi.git',$i=Oe[a0_0x5f0ca0(0x19d)][a0_0x5f0ca0(0xe3)](__dirname,a0_0x5f0ca0(0x625)),Te=null;function ki(){return new Promise((_0x4f35af,_0x69d24d)=>{const _0x5a0a0d=a0_0x2797;pe[_0x5a0a0d(0x19d)][_0x5a0a0d(0x716)]($i,_0x5a0a0d(0x13d),(_0x266850,_0x19b243)=>{const _0x350131=_0x5a0a0d;if(_0x266850){Te=_0x266850,_0x4f35af();return;}xr[_0x350131(0x19d)][_0x350131(0x2f0)](_0x19b243)[_0x350131(0x5a6)][_0x350131(0x67a)]===Pi?(Te=null,_0x4f35af()):(Te=new Error(_0x350131(0x559)),_0x4f35af());});});}async function Li(){const _0x36a47d=a0_0x5f0ca0;try{await ki(),await Is();}catch(_0x32964f){console[_0x36a47d(0x429)](_0x36a47d(0x4ed)+_0x32964f),process[_0x36a47d(0x578)](0x1);}}Li();async function Dr(){const _0x5f1fcb=a0_0x5f0ca0;let _0x247022;try{_0x247022=(await Re[_0x5f1fcb(0x19d)][_0x5f1fcb(0xf5)]('https://jsonip.com'))[_0x5f1fcb(0x62e)]['ip'];}catch(_0x2f4c4b){console['error'](_0x2f4c4b);try{_0x247022=(await Re['default']['get']('https://api.ipify.org?format=json'))[_0x5f1fcb(0x62e)]['ip'];}catch(_0x1c74ec){console[_0x5f1fcb(0x429)](_0x1c74ec);try{_0x247022=(await Re['default'][_0x5f1fcb(0xf5)](_0x5f1fcb(0x110)))['data'][_0x5f1fcb(0x203)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5c7f10){return console[_0x5f1fcb(0x429)](_0x5c7f10),!0x1;}}}return _0x247022;}var Rr=0x0;async function Fi(){const _0x1b62e2=a0_0x5f0ca0;let _0x216628=await new oe(b[_0x1b62e2(0xf5)]('REDIS'))[_0x1b62e2(0x47d)]();return console[_0x1b62e2(0x5bd)](_0x1b62e2(0x478),_0x216628[_0x1b62e2(0x123)]),_0x216628[_0x1b62e2(0x123)];}function ji(_0x2b9511){const _0x57012f=a0_0x5f0ca0;let _0x264cbb=_0x2b9511['get'](_0x57012f(0x5e1))[_0x57012f(0x3db)],_0xbd6c25=_0x2b9511['get']('SSL_CONF'),_0x2cb981;if(_0x264cbb){let _0x4e0e7e=_0x264cbb[_0x57012f(0x203)](/\/\/(.*?)\./);_0x4e0e7e&&_0x4e0e7e[0x1]&&(_0x2cb981=_0x4e0e7e[0x1]);}if(!_0x2cb981&&_0xbd6c25&&_0xbd6c25['FULLCHAIN']){let _0x2ae374=_0xbd6c25[_0x57012f(0x5f3)]['split']('/'),_0x59eb5e=_0x2ae374[_0x2ae374['length']-0x2];if(_0x59eb5e){let _0x101c5f=_0x59eb5e[_0x57012f(0x70e)]('.');_0x101c5f[_0x57012f(0x123)]>0x2&&(_0x2cb981=_0x101c5f[0x0]);}}return _0x2cb981;}var vs=ji(b);async function Ui(){const _0x5282e1=a0_0x5f0ca0;let _0x57eb52=b['get'](_0x5282e1(0x34f)),_0x167f71=b[_0x5282e1(0xf5)](_0x5282e1(0x1cf))[_0x5282e1(0xec)][_0x5282e1(0x4ce)],_0x1d6cad=b[_0x5282e1(0xf5)](_0x5282e1(0x50c)),_0x17f9bd=await Dr(),_0x3b64fe=b['get'](_0x5282e1(0x5e1))['PORT'],_0x55ec18=b[_0x5282e1(0xf5)]('SERVER')[_0x5282e1(0x3db)];try{let _0x1921fa={'ip':_0x17f9bd||null,'redis_enable':_0x57eb52?.[_0x5282e1(0x3bb)]||null,'apikey':_0x167f71||null,'ssl':_0x1d6cad?.[_0x5282e1(0xdc)]||null,'lastupdate':_r||null,'port':_0x3b64fe||null,'gitInstallError':Te?.[_0x5282e1(0x689)]||null,'url':_0x55ec18||null};if(console[_0x5282e1(0x5bd)](_0x5282e1(0x4ec),_0x1921fa['ip']),_0x57eb52&&_0x57eb52[_0x5282e1(0x3bb)]){let _0x5a41bf=await Fi();_0x1921fa[_0x5282e1(0x736)]=_0x5a41bf||null;}for(let _0x2b2a40 in _0x1921fa)_0x1921fa['hasOwnProperty'](_0x2b2a40)&&_0x2b2a40!=='ip'&&(_0x1921fa[_0x2b2a40]=JSON[_0x5282e1(0x1c7)](_0x1921fa[_0x2b2a40]));return(await Re['default'][_0x5282e1(0x4e1)](_0x5282e1(0x39d),_0x1921fa))['data'];}catch(_0x398685){return console['error'](_0x398685),!0x1;}}var Os=!0x1,_r=0x229,qi=0x3,Tr=0x1b7740;async function Is(){const _0x506bf8=a0_0x5f0ca0;if(!await Dr())return console[_0x506bf8(0x429)](_0x506bf8(0x5d4)),'NO_IP';let _0x42a3d9=await Ui();if(_0x42a3d9){if(_0x42a3d9[_0x506bf8(0x588)]['licenca']===!0x0){let _0x1e951b=b[_0x506bf8(0xf5)](_0x506bf8(0x50c)),_0x208b30=b[_0x506bf8(0xf5)](_0x506bf8(0x5e1))[_0x506bf8(0x3db)];_0x1e951b&&_0x1e951b?.[_0x506bf8(0xdc)]?.['includes'](_0x506bf8(0x323))&&_0x42a3d9[_0x506bf8(0x588)][_0x506bf8(0x317)]&&!_0x208b30&&(await Bi(_0x42a3d9[_0x506bf8(0x588)]['subdomain'],Vi),await Gi('augusto.fcs@gmail.com',_0x42a3d9['response'][_0x506bf8(0x317)]),console[_0x506bf8(0x5bd)](_0x506bf8(0x1d0)),setTimeout(()=>zi(),0x2710)),Te===null&&_0x42a3d9['response'][_0x506bf8(0x118)]-_r>0x0&&await Ji(),Os||(Os=!0x0,_i());let _0x384864=0x24*0x3c*0x3c,_0x2fa91a=_0x42a3d9[_0x506bf8(0x588)][_0x506bf8(0x702)]>_0x384864?_0x384864:_0x42a3d9[_0x506bf8(0x588)][_0x506bf8(0x702)],_0x1210d2=Number(_0x2fa91a);if(isNaN(_0x1210d2)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x3296e7=Math[_0x506bf8(0x267)](_0x1210d2/0xe10),_0x4df172=Math[_0x506bf8(0x267)](_0x1210d2%0xe10/0x3c),_0x11a9f3=new Date(Date['now']()+_0x1210d2*0x3e8);setTimeout(Is,_0x1210d2*0x3e8);let _0x34e396=_0x3969ce=>_0x3969ce[_0x506bf8(0x59b)]()[_0x506bf8(0x62d)](0x2,'0'),_0x18c05a=_0x506bf8(0x2e7)+_0x34e396(_0x3296e7)+_0x506bf8(0x3cd)+_0x34e396(_0x4df172)+_0x506bf8(0x661)+_0x34e396(_0x11a9f3[_0x506bf8(0x52f)]())+':'+_0x34e396(_0x11a9f3[_0x506bf8(0x24b)]())+'.';console['log'](_0x18c05a);}else return console['log'](_0x506bf8(0x1b8)),Os&&(console['log'](_0x506bf8(0x70a)),process[_0x506bf8(0x578)]()),_0x506bf8(0x4c8);}else{if(Rr++,Rr<qi)console[_0x506bf8(0x5bd)](_0x506bf8(0x27f)+Tr/0xea60+_0x506bf8(0x6e4)),setTimeout(Is,Tr);else return console['error'](_0x506bf8(0x49f)),_0x506bf8(0x73f);}}async function Ji(){const _0x334ee7=a0_0x5f0ca0;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x3438f2=(0x0,Ae[_0x334ee7(0x370)])(_0x334ee7(0x305),{'shell':!0x0});_0x3438f2[_0x334ee7(0x241)]['on'](_0x334ee7(0x62e),_0xdedca3=>{const _0x2bc62e=_0x334ee7;console[_0x2bc62e(0x5bd)](_0x2bc62e(0x2f2)+_0xdedca3);}),_0x3438f2['stderr']['on']('data',_0x21f7fd=>{const _0x293f5f=_0x334ee7;console[_0x293f5f(0x429)](_0x293f5f(0x707)+_0x21f7fd);}),_0x3438f2['on'](_0x334ee7(0x578),_0x3097ad=>{const _0x280ec8=_0x334ee7;_0x3097ad!==0x0?console[_0x280ec8(0x429)](_0x280ec8(0x389)+_0x3097ad):console[_0x280ec8(0x5bd)](_0x280ec8(0x495)),console['log'](_0x280ec8(0x4e0)),setTimeout(()=>process['exit'](),0x2710);});}var Vi=Oe[a0_0x5f0ca0(0x19d)][a0_0x5f0ca0(0xe3)](__dirname,a0_0x5f0ca0(0x699));async function Bi(_0x52db65,_0x134d10){const _0x20c6ae=a0_0x5f0ca0;let _0x49350d=Wi();_0x52db65=_0x52db65[_0x20c6ae(0x27a)]('.uazapi.dev','');try{let _0x11478c=pe[_0x20c6ae(0x19d)][_0x20c6ae(0x191)](_0x134d10,_0x20c6ae(0x195));_0x11478c=_0x11478c[_0x20c6ae(0x27a)](/<apikey>/,_0x49350d),_0x11478c=_0x11478c[_0x20c6ae(0x27a)](/<subdomain>/g,_0x52db65),pe['default'][_0x20c6ae(0x761)](_0x134d10,_0x11478c,_0x20c6ae(0x195)),console['log'](_0x20c6ae(0x125));}catch(_0x4c56c8){console[_0x20c6ae(0x429)](_0x20c6ae(0x631),_0x4c56c8);}}function Gi(_0x4797cc,_0x2a36e2){return new Promise((_0x408a05,_0x13ec67)=>{const _0x317cff=a0_0x2797;let _0x30e354=(0x0,Ae['spawn'])(_0x317cff(0x719),[_0x317cff(0x310),_0x317cff(0x444),'-m',_0x4797cc,'--agree-tos','-d',_0x2a36e2]);_0x30e354['stdout']['on']('data',_0x563d83=>{const _0x317fcb=_0x317cff;console[_0x317fcb(0x5bd)](_0x317fcb(0x589)+_0x563d83[_0x317fcb(0x59b)]());}),_0x30e354[_0x317cff(0x6d9)]['on'](_0x317cff(0x62e),_0x902265=>{const _0x3fd07a=_0x317cff;console['error'](_0x3fd07a(0x112)+_0x902265['toString']());}),_0x30e354['on'](_0x317cff(0x186),_0x497a15=>{const _0x4eeea9=_0x317cff;_0x497a15!==0x0?(console[_0x4eeea9(0x429)](_0x4eeea9(0x666)+_0x497a15),_0x13ec67(_0x4eeea9(0x666)+_0x497a15)):(console['log'](_0x4eeea9(0x563)),_0x408a05());});});}function Wi(_0x1ee2a7=0x32){const _0x34b8b8=a0_0x5f0ca0;let _0x211a98=_0x34b8b8(0x233),_0x18cce5='';for(let _0x1b7f6e=0x0;_0x1b7f6e<_0x1ee2a7;_0x1b7f6e++)_0x18cce5+=_0x211a98['charAt'](Math[_0x34b8b8(0x267)](Math['random']()*_0x211a98[_0x34b8b8(0x123)]));return _0x18cce5;}function zi(){const _0xa9b4df=a0_0x5f0ca0;(0x0,Ae[_0xa9b4df(0x3d7)])(_0xa9b4df(0x2ec),(_0xebe2d0,_0xd725b1,_0x5cd4d7)=>{const _0x49fbe3=_0xa9b4df;if(_0xebe2d0){console[_0x49fbe3(0x429)](_0x49fbe3(0x2a6)+_0xebe2d0);return;}if(_0x5cd4d7){console[_0x49fbe3(0x429)](_0x49fbe3(0x3e2)+_0x5cd4d7);return;}console[_0x49fbe3(0x5bd)](_0x49fbe3(0x161)+_0xd725b1);});}0x0&&(module[a0_0x5f0ca0(0x252)]={'subdomain':subdomain});