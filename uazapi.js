const a0_0x3656ce=a0_0x4f47;(function(_0x4a4954,_0x11839e){const _0x2d0f81=a0_0x4f47,_0x274309=_0x4a4954();while(!![]){try{const _0x4a10ff=-parseInt(_0x2d0f81(0x2a8))/0x1*(parseInt(_0x2d0f81(0x29b))/0x2)+-parseInt(_0x2d0f81(0x402))/0x3*(-parseInt(_0x2d0f81(0x286))/0x4)+parseInt(_0x2d0f81(0x339))/0x5*(-parseInt(_0x2d0f81(0x3ad))/0x6)+-parseInt(_0x2d0f81(0x436))/0x7+parseInt(_0x2d0f81(0x40b))/0x8*(-parseInt(_0x2d0f81(0x5e2))/0x9)+-parseInt(_0x2d0f81(0x352))/0xa+parseInt(_0x2d0f81(0x15d))/0xb;if(_0x4a10ff===_0x11839e)break;else _0x274309['push'](_0x274309['shift']());}catch(_0x297dad){_0x274309['push'](_0x274309['shift']());}}}(a0_0xbc39,0x4a326));var Ir=Object['create'],Ae=Object['defineProperty'],Dr=Object[a0_0x3656ce(0x6fb)],xr=Object['getOwnPropertyNames'],_r=Object['getPrototypeOf'],Pr=Object[a0_0x3656ce(0x4b3)][a0_0x3656ce(0x27e)],$r=(_0x4e3a2b,_0x5710ed)=>{for(var _0x1b151a in _0x5710ed)Ae(_0x4e3a2b,_0x1b151a,{'get':_0x5710ed[_0x1b151a],'enumerable':!0x0});},Os=(_0xffd914,_0x13e8e2,_0x257523,_0xc11f71)=>{const _0x823b7c=a0_0x3656ce;if(_0x13e8e2&&typeof _0x13e8e2=='object'||typeof _0x13e8e2==_0x823b7c(0x695)){for(let _0x100874 of xr(_0x13e8e2))!Pr[_0x823b7c(0x4b4)](_0xffd914,_0x100874)&&_0x100874!==_0x257523&&Ae(_0xffd914,_0x100874,{'get':()=>_0x13e8e2[_0x100874],'enumerable':!(_0xc11f71=Dr(_0x13e8e2,_0x100874))||_0xc11f71[_0x823b7c(0x66d)]});}return _0xffd914;},R=(_0x1f6dde,_0x4c7b72,_0x543091)=>(_0x543091=_0x1f6dde!=null?Ir(_r(_0x1f6dde)):{},Os(_0x4c7b72||!_0x1f6dde||!_0x1f6dde['__esModule']?Ae(_0x543091,a0_0x3656ce(0x3d0),{'value':_0x1f6dde,'enumerable':!0x0}):_0x543091,_0x1f6dde)),kr=_0x2f1717=>Os(Ae({},a0_0x3656ce(0x4eb),{'value':!0x0}),_0x2f1717),Go={};$r(Go,{'subdomain':()=>Es}),module[a0_0x3656ce(0x40f)]=kr(Go);var vr=R(require(a0_0x3656ce(0x47b))),Ds=require('fs'),xs=require(a0_0x3656ce(0x1cb)),_s=require(a0_0x3656ce(0x324)),Oe=require(a0_0x3656ce(0x324)),se=process[a0_0x3656ce(0x2a5)](),de=(0x0,Oe[a0_0x3656ce(0x3f5)])(se,a0_0x3656ce(0x737)),Is=(0x0,Oe[a0_0x3656ce(0x3f5)])(se,a0_0x3656ce(0x3f6)),ji=(0x0,Oe[a0_0x3656ce(0x3f5)])(se,'store',a0_0x3656ce(0x5e1)),Ht=class{constructor(){const _0x22dbb4=a0_0x3656ce;this[_0x22dbb4(0x6d2)]();}[a0_0x3656ce(0x786)](_0x293e37){const _0x2286d6=a0_0x3656ce;return this[_0x2286d6(0x1e1)][_0x293e37];}[a0_0x3656ce(0x6d2)](){const _0xef92eb=a0_0x3656ce;this[_0xef92eb(0x1e1)]=process[_0xef92eb(0x1e1)]?.[_0xef92eb(0x373)]!=='true'?this[_0xef92eb(0x2f2)]():this['envProcess'](),process['env']?.[_0xef92eb(0x373)]===_0xef92eb(0x486)&&(this[_0xef92eb(0x1e1)]['SERVER'][_0xef92eb(0x199)]=_0xef92eb(0x79d),this[_0xef92eb(0x1e1)][_0xef92eb(0x3ff)][_0xef92eb(0x225)]=Number[_0xef92eb(0x453)](process[_0xef92eb(0x1e1)]?.[_0xef92eb(0x280)]??_0xef92eb(0x26e)));}[a0_0x3656ce(0x2f2)](){const _0x35ec1c=a0_0x3656ce;return(0x0,xs[_0x35ec1c(0x76f)])((0x0,Ds[_0x35ec1c(0x43e)])((0x0,_s[_0x35ec1c(0x3f5)])(Is,_0x35ec1c(0x388)),{'encoding':_0x35ec1c(0x230)}));}['envProcess'](){const _0x3f4439=a0_0x3656ce;return{'SERVER':{'TYPE':process['env'][_0x3f4439(0x3f0)],'PORT':Number[_0x3f4439(0x453)](process[_0x3f4439(0x1e1)][_0x3f4439(0x280)]),'URL':process['env'][_0x3f4439(0x4b5)]},'CORS':{'ORIGIN':process[_0x3f4439(0x1e1)][_0x3f4439(0x26c)][_0x3f4439(0x232)](','),'METHODS':process[_0x3f4439(0x1e1)][_0x3f4439(0x5d7)]['split'](','),'CREDENTIALS':process[_0x3f4439(0x1e1)]?.[_0x3f4439(0x5fe)]===_0x3f4439(0x486)},'SSL_CONF':{'PRIVKEY':process['env']?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x3f4439(0x1e1)]?.[_0x3f4439(0x66c)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x3f4439(0x1e1)]?.[_0x3f4439(0x25b)])?Number[_0x3f4439(0x453)](process[_0x3f4439(0x1e1)][_0x3f4439(0x25b)]):void 0x0,'MESSAGES':process[_0x3f4439(0x1e1)]?.['STORE_MESSAGE']==='true','CONTACTS':process[_0x3f4439(0x1e1)]?.[_0x3f4439(0x3f2)]==='true','CHATS':process['env']?.['STORE_CHATS']==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x3f4439(0x1e1)]?.[_0x3f4439(0x28d)],'PORT':Number[_0x3f4439(0x453)](process[_0x3f4439(0x1e1)]?.[_0x3f4439(0x28d)]),'USER':process[_0x3f4439(0x1e1)][_0x3f4439(0x1a2)],'PASSWORD':process[_0x3f4439(0x1e1)][_0x3f4439(0x254)],'URI':process[_0x3f4439(0x1e1)][_0x3f4439(0x22a)],'DB_PREFIX_NAME':process[_0x3f4439(0x1e1)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0x3f4439(0x79f)]===_0x3f4439(0x486)},'REDIS':{'ENABLED':process[_0x3f4439(0x1e1)]?.['REDIS_ENABLED']===_0x3f4439(0x486),'URI':process[_0x3f4439(0x1e1)]['REDIS_URI']||_0x3f4439(0x5ae),'PREFIX_KEY':process[_0x3f4439(0x1e1)][_0x3f4439(0x193)]||_0x3f4439(0x6ab)},'LOG':{'LEVEL':process[_0x3f4439(0x1e1)]?.['LOG_LEVEL'][_0x3f4439(0x232)](','),'COLOR':process[_0x3f4439(0x1e1)]?.['LOG_COLOR']==='true'},'AUTHENTICATION':{'TYPE':process[_0x3f4439(0x1e1)][_0x3f4439(0x170)],'API_KEY':{'KEY':process[_0x3f4439(0x1e1)][_0x3f4439(0x295)]},'JWT':{'EXPIRIN_IN':Number[_0x3f4439(0x63b)](process[_0x3f4439(0x1e1)]?.[_0x3f4439(0x25c)])?Number[_0x3f4439(0x453)](process[_0x3f4439(0x1e1)][_0x3f4439(0x25c)]):0xe10,'SECRET':process[_0x3f4439(0x1e1)][_0x3f4439(0x176)]}}};}},b=new Ht(),Nr=R(require(a0_0x3656ce(0x1ad))),ue=R(require('express')),Rs=require('path'),Kt=R(require(a0_0x3656ce(0x471))),Qt=(_0x55f2d2=>(_0x55f2d2[a0_0x3656ce(0x2b6)]=a0_0x3656ce(0x220),_0x55f2d2['INFO']='\x1b[34m',_0x55f2d2[a0_0x3656ce(0x71b)]=a0_0x3656ce(0x613),_0x55f2d2[a0_0x3656ce(0x775)]=a0_0x3656ce(0x1b7),_0x55f2d2[a0_0x3656ce(0x756)]=a0_0x3656ce(0x393),_0x55f2d2[a0_0x3656ce(0x513)]='\x1b[37m',_0x55f2d2[a0_0x3656ce(0x27a)]=a0_0x3656ce(0x6d9),_0x55f2d2))(Qt||{}),Ps=(_0x2c092a=>(_0x2c092a[a0_0x3656ce(0x2b6)]=a0_0x3656ce(0x4e4),_0x2c092a['DARK']='\x1b[30m%s\x1b[0m',_0x2c092a[a0_0x3656ce(0x257)]='\x1b[34m%s\x1b[0m',_0x2c092a['WARN']=a0_0x3656ce(0x5f2),_0x2c092a[a0_0x3656ce(0x775)]=a0_0x3656ce(0x47e),_0x2c092a[a0_0x3656ce(0x756)]='\x1b[36m%s\x1b[0m',_0x2c092a[a0_0x3656ce(0x513)]=a0_0x3656ce(0x2cd),_0x2c092a))(Ps||{}),$s=(_0x97da79=>(_0x97da79[a0_0x3656ce(0x2b6)]=a0_0x3656ce(0x2b6),_0x97da79[a0_0x3656ce(0x71b)]=a0_0x3656ce(0x71b),_0x97da79[a0_0x3656ce(0x257)]=a0_0x3656ce(0x257),_0x97da79['DARK']=a0_0x3656ce(0x27a),_0x97da79[a0_0x3656ce(0x775)]=a0_0x3656ce(0x775),_0x97da79['DEBUG']=a0_0x3656ce(0x756),_0x97da79[a0_0x3656ce(0x513)]=a0_0x3656ce(0x513),_0x97da79))($s||{}),ks=(_0x28bd31=>(_0x28bd31[a0_0x3656ce(0x2b6)]='\x1b[42m',_0x28bd31['INFO']=a0_0x3656ce(0x3d3),_0x28bd31[a0_0x3656ce(0x71b)]=a0_0x3656ce(0x6cb),_0x28bd31['DARK']=a0_0x3656ce(0x39e),_0x28bd31['ERROR']=a0_0x3656ce(0x37a),_0x28bd31[a0_0x3656ce(0x756)]='\x1b[46m',_0x28bd31[a0_0x3656ce(0x513)]=a0_0x3656ce(0x64f),_0x28bd31))(ks||{}),v=class{constructor(_0x49da51=a0_0x3656ce(0x1bb)){const _0x5d0fb4=a0_0x3656ce;this['context']=_0x49da51,this[_0x5d0fb4(0x5b9)]=b;}[a0_0x3656ce(0x635)](_0x31607a){const _0x1c2164=a0_0x3656ce;this[_0x1c2164(0x5b2)]=_0x31607a;}[a0_0x3656ce(0x239)](_0x37924c,_0x1290fb){const _0x4f3bb3=a0_0x3656ce;let _0x480efc=[];this['configService'][_0x4f3bb3(0x786)]('LOG')[_0x4f3bb3(0x4df)][_0x4f3bb3(0x579)](_0x14244f=>_0x480efc[_0x4f3bb3(0x7a1)]($s[_0x14244f]));let _0x403ee1=typeof _0x37924c;_0x480efc[_0x4f3bb3(0x516)](_0x1290fb)&&(b[_0x4f3bb3(0x786)](_0x4f3bb3(0x2b6))[_0x4f3bb3(0x74d)]?(console[_0x4f3bb3(0x16d)](_0x4f3bb3(0x4bf)+Ps[_0x1290fb],_0x4f3bb3(0x279),(0x0,Kt[_0x4f3bb3(0x3d0)])()[_0x4f3bb3(0x683)](_0x4f3bb3(0x34c)),_0x4f3bb3(0x289),Qt[_0x1290fb]+ks[_0x1290fb]+_0x4f3bb3(0x4bf),_0x1290fb+_0x4f3bb3(0x62f),_0x4f3bb3(0x2e9),this[_0x4f3bb3(0x5b2)]+_0x4f3bb3(0x289),Qt[_0x1290fb],_0x403ee1!=='object'?_0x37924c:'',_0x4f3bb3(0x289)),_0x403ee1===_0x4f3bb3(0x4ee)&&console[_0x4f3bb3(0x16d)](_0x37924c,'\x0a')):console[_0x4f3bb3(0x16d)]((0x0,Kt[_0x4f3bb3(0x3d0)])()[_0x4f3bb3(0x683)](_0x4f3bb3(0x5ca)),_0x1290fb+'\x20',''+this[_0x4f3bb3(0x5b2)],_0x37924c));}[a0_0x3656ce(0x16d)](_0x5b5ff9){const _0x3e4627=a0_0x3656ce;this['console'](_0x5b5ff9,_0x3e4627(0x2b6));}[a0_0x3656ce(0x5e0)](_0x43a4f3){const _0x5be449=a0_0x3656ce;this['console'](_0x43a4f3,_0x5be449(0x257));}[a0_0x3656ce(0x72a)](_0x77db1f){const _0x347d7d=a0_0x3656ce;this[_0x347d7d(0x239)](_0x77db1f,_0x347d7d(0x71b));}[a0_0x3656ce(0x417)](_0x590bd){const _0x56ec6e=a0_0x3656ce;this[_0x56ec6e(0x239)](_0x590bd,'ERROR');}[a0_0x3656ce(0x49e)](_0x50654e){const _0x28c01d=a0_0x3656ce;this[_0x28c01d(0x239)](_0x50654e,_0x28c01d(0x513));}['debug'](_0x14d64a){const _0x504b74=a0_0x3656ce;this[_0x504b74(0x239)](_0x14d64a,'DEBUG');}[a0_0x3656ce(0x6ef)](_0x443751){const _0x4c3b28=a0_0x3656ce;this[_0x4c3b28(0x239)](_0x443751,_0x4c3b28(0x27a));}};function Ls(){const _0x354851=a0_0x3656ce;process['on'](_0x354851(0x596),(_0x389264,_0x3809c2)=>{const _0xf59922=_0x354851;new v(_0xf59922(0x596))[_0xf59922(0x417)]({'origin':_0x3809c2,'stderr':process['stderr']['fd'],'error':_0x389264});}),process['on'](_0x354851(0x49b),(_0x259dbd,_0x3f932f)=>{const _0x30e159=_0x354851;new v(_0x30e159(0x49b))[_0x30e159(0x417)]({'origin':_0x3f932f,'stderr':process[_0x30e159(0x2d2)]['fd'],'error':_0x259dbd});});}var Fs=R(require(a0_0x3656ce(0x1b0))),Yt=new Fs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ie=require(a0_0x3656ce(0x420)),Xt=R(require(a0_0x3656ce(0x420))),Lr=new v(a0_0x3656ce(0x72b)),q=b['get']('DATABASE'),N=q['ENABLED']?q[a0_0x3656ce(0x50c)]['URI']?Xt[a0_0x3656ce(0x3d0)][a0_0x3656ce(0x6aa)](q[a0_0x3656ce(0x50c)][a0_0x3656ce(0x237)],{'dbName':q['CONNECTION']['DB_PREFIX_NAME']+a0_0x3656ce(0x712)}):Xt[a0_0x3656ce(0x3d0)]['createConnection'](a0_0x3656ce(0x2df)+q[a0_0x3656ce(0x50c)][a0_0x3656ce(0x5da)]+':'+q['CONNECTION']['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':q[a0_0x3656ce(0x50c)][a0_0x3656ce(0x5df)],'pass':q['CONNECTION'][a0_0x3656ce(0x378)],'dbName':q['CONNECTION'][a0_0x3656ce(0x4c4)]+a0_0x3656ce(0x712)}):null;q[a0_0x3656ce(0x6da)]&&Lr['info'](a0_0x3656ce(0x26d)+N['$dbName']);var Fr=new Ie['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),Ur=new Ie[(a0_0x3656ce(0x49c))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Fr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Jr=new Ie[(a0_0x3656ce(0x49c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ur,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),Us=_0x16f0e4=>{const _0x4c838e=a0_0x3656ce;let _0x58d140='z_'+_0x16f0e4+_0x4c838e(0x427);return N?.['model'](_0x4c838e(0x701),Jr,_0x58d140);},Js=require('mongoose'),jr=new Js[(a0_0x3656ce(0x49c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),js=_0x23eedd=>{const _0x56696b=a0_0x3656ce;let _0x13e68e='z_'+_0x23eedd+'_Contacts';return N?.[_0x56696b(0x57d)](_0x56696b(0x1a7),jr,_0x13e68e);},qs=require(a0_0x3656ce(0x420)),qr=new qs['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Vs=_0x153f9f=>{const _0x461273=a0_0x3656ce;let _0x4f4235='z_'+_0x153f9f+_0x461273(0x6b0);return N?.['model'](_0x461273(0x336),qr,_0x4f4235);},Bs=require(a0_0x3656ce(0x420)),Zt=class{},Vr=new Bs[(a0_0x3656ce(0x49c))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),Gs=N?.[a0_0x3656ce(0x57d)](Zt[a0_0x3656ce(0x6ba)],Vr,a0_0x3656ce(0x5eb)),Ws=require(a0_0x3656ce(0x420)),es=class{},zs=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});zs[a0_0x3656ce(0x743)]('save',function(_0xa54aad){const _0x22257d=a0_0x3656ce;delete this[_0x22257d(0x4b6)],delete this[_0x22257d(0x432)],delete this[_0x22257d(0x365)],delete this[_0x22257d(0x652)],delete this[_0x22257d(0x63d)],_0xa54aad();});var Hs=N?.[a0_0x3656ce(0x57d)](es[a0_0x3656ce(0x6ba)],zs,a0_0x3656ce(0x58a)),x=require(a0_0x3656ce(0x420)),De=class{},Ks=new x['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ts=new x[(a0_0x3656ce(0x49c))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Br=new x['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x3656ce(0x547)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x3656ce(0x380)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Qs=new x[(a0_0x3656ce(0x49c))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Gr=new x[(a0_0x3656ce(0x49c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Wr=new x[(a0_0x3656ce(0x49c))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ys=new x[(a0_0x3656ce(0x49c))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Br},'apirequest':Gr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),is=new x[(a0_0x3656ce(0x49c))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Xs=new x[(a0_0x3656ce(0x49c))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ss=class{},ns=new x[(a0_0x3656ce(0x49c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x3b6a64=a0_0x3656ce;return _0x3b6a64(0x501)+Math['random']()[_0x3b6a64(0x368)](0x24)[_0x3b6a64(0x62c)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[is],'variablesNotFound':{'type':[String]},'blocks':[Ys],'groups':[Ks],'conditions':[Qs],'varedits':[Xs],'replyOptions':{'type':[ts],'default':[]}});ns['pre']('save',function(_0x3cecf3){const _0x482885=a0_0x3656ce;let _0x56c21e=new Set(),_0xc380cd=new Set(this[_0x482885(0x480)]?.[_0x482885(0x568)](_0x2d1822=>_0x2d1822['name'])),_0x138c23=JSON[_0x482885(0x4cd)](this),_0x20ace1=/{{(?!_)([^}]*)}}/g,_0x29f38e;for(;(_0x29f38e=_0x20ace1[_0x482885(0x3c3)](_0x138c23))!==null;)_0xc380cd['has'](_0x29f38e[0x1])||_0x56c21e[_0x482885(0x4da)](_0x29f38e[0x1]);_0x56c21e[_0x482885(0x5c3)]>0x0?(console['warn'](_0x482885(0x3c2),Array[_0x482885(0x40e)](_0x56c21e)),this[_0x482885(0x5de)]=Array[_0x482885(0x40e)](_0x56c21e)):this[_0x482885(0x5de)]=[],_0x3cecf3();});var Zs=_0x2ee3ad=>{const _0x10c7f4=a0_0x3656ce;let _0x42fe78='z_'+_0x2ee3ad+_0x10c7f4(0x2da);return N?.['model'](_0x10c7f4(0x73b),ns,_0x42fe78);},ea=N?.[a0_0x3656ce(0x57d)](ss[a0_0x3656ce(0x6ba)],ns,'flow'),zr=new x[(a0_0x3656ce(0x49c))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[is],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Wr]},{'_id':!0x1}),as=class{},ta=new x['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[is],'blocks':[Ys],'groups':[Ks],'conditions':[Qs],'varedits':[Xs],'replyOptions':{'type':[ts],'default':[]},'chatLog':zr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x3656ce(0x1c3)},'waitingMenu_replyOptions':{'type':[ts],'default':[]}}),sa=_0x3e1fc5=>{const _0x17d891=a0_0x3656ce;let _0x17f534='z_'+_0x3e1fc5+_0x17d891(0x3bc);return N?.[_0x17d891(0x57d)](_0x17d891(0x59d),ta,_0x17f534);},aa=N?.[a0_0x3656ce(0x57d)](as[a0_0x3656ce(0x6ba)],ta,a0_0x3656ce(0x5cd)),rs=class{},Hr=new x[(a0_0x3656ce(0x49c))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Kr=new x[(a0_0x3656ce(0x49c))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ra=new x[(a0_0x3656ce(0x49c))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x3656ce(0x5ac)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Kr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Hr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),oa=_0x2cc729=>{const _0x1dae2a=a0_0x3656ce;let _0x122d32='z_'+_0x2cc729+'_ScheduleMessages';return N?.[_0x1dae2a(0x57d)](_0x1dae2a(0x70c),ra,_0x122d32);},ia=N?.[a0_0x3656ce(0x57d)](rs[a0_0x3656ce(0x6ba)],ra,a0_0x3656ce(0x3cb)),os=class{},Qr=new x[(a0_0x3656ce(0x49c))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Yr=new x[(a0_0x3656ce(0x49c))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x3656ce(0x4ef)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),Xr=new x[(a0_0x3656ce(0x49c))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Zr=new x[(a0_0x3656ce(0x49c))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Xr]},'customFields':{'type':[Qr]},'flowConfig':{'type':Yr,'default':{}}}),xe=N?.[a0_0x3656ce(0x57d)](os['name'],Zr,a0_0x3656ce(0x573)),na=require(a0_0x3656ce(0x420)),eo=new na[(a0_0x3656ce(0x49c))]({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ca=_0x235bdd=>{const _0x1a982a=a0_0x3656ce;let _0x5dea80='z_'+_0x235bdd+_0x1a982a(0x784);return N?.[_0x1a982a(0x57d)]('LabelModel',eo,_0x5dea80);},I=class{constructor(_0xe1c23a){const _0x1ca88e=a0_0x3656ce;this[_0x1ca88e(0x1a1)]=_0xe1c23a[_0x1ca88e(0x786)]('DATABASE');}};function A(_0x78e450){const _0x270695=a0_0x3656ce;let _0x251f53={};for(let [_0xf84e95,_0x14e26f]of Object[_0x270695(0x41e)](_0x78e450))if(typeof _0x14e26f==_0x270695(0x4ee)&&!Array[_0x270695(0x604)](_0x14e26f)){for(let [_0x17245d,_0x47042e]of Object['entries'](_0x14e26f))_0x251f53[_0xf84e95+'.'+_0x17245d]=_0x47042e;}else _0x251f53[_0xf84e95]=_0x14e26f;return _0x251f53;}function a0_0xbc39(){const _0x46ce15=['data:\x20','updateProfileStatus','spawn','desc','reference','testProxy','express','deletedCount','createGroup','viewOnceMessageV2Extension','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','CORS_CREDENTIALS','ERROR:\x20','group\x20ignored','-instances','extractRegex','pino','isArray','authService','editChat','fetchChats','TEXT','getLastMessage','Data\x20inválida\x20fornecida','deleteMany','request\x20received\x20in\x20editFlow','output','createJid','updateGroupPicture','):\x20Bloco\x20original\x20para\x20cópia:\x20','truncatedto','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','\x1b[33m','flushHeaders','Instance\x20deleted','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20Conversa\x20atualizada\x20em\x20memória','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','StartBot','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','last_update','STATUS_INSTANCE','hostname','buttonMessage','variablesToObject','licenca','.png','\x20minutos.\x20Será\x20às\x20','readFile','DisconnectReason','replyOption','all','url','remoteJid','editflowcondition','Initial\x20__dirname:','leadInfo.customFields','slice','):\x20Editando\x20variável\x20do\x20fluxo...','urlencoded','\x20\x1b[0m','):\x20teve\x20mudanças\x20chat.name:\x20','desativadoFluxoAte','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','AddChatLabel','Unknown\x20message\x20type\x20or\x20empty\x20message','setContext','locked','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Erro\x20durante\x20a\x20atualização:\x20','privacySettings','contextInfo','isInteger','Connection\x20closed\x20for\x20instance:\x20','flowStopMinutes','No\x20invite\x20code','vcard','copy','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','audioWhatsapp','waitingMenu_text','/create','):\x20Enviando\x20enquete','removeInstance','Erro\x20ao\x20buscar\x20conversas:\x20','originalUrl','eventEmitter','audio/aac','entrou\x20na\x20função\x20importChats2','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','\x20com\x20sucesso.','\x1b[47m','mediatype','local_map','flowStopConversation','padStart','keep-alive','):\x20Fluxos\x20não\x20estão\x20ativados','Conversa\x20deletada\x20com\x20sucesso.','Erro\x20ao\x20atualizar\x20conversa:\x20','/wa-contacts','profilePictureUrl','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','dropCollection','Erro\x20ao\x20inserir\x20chats:','fetchProfilePicture','restartInstance','mediaSticker','recording','findGroupInfos','contact','ini','CORS','fileLength','stanzaId','Falta\x20informação\x20para\x20a\x20chamada\x20API','^\x5cd+[\x5c.@\x5cw-]+','g.us','groupId','proto','SSL_CONF_FULLCHAIN','enumerable','release','statSync','/instance/delete','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','dbClient','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','sendPresenceUpdate','contacts.update','mentions','replaceValue','@s.whatsapp.net','messages.set','Business\x20profile\x20fetched','sendList','updateCustomFields','pushName','AutomateFunctions','mongodb','toLowerCase','@ffmpeg-installer/ffmpeg','CREDENTIALS','format','):\x20this.processingScheduleMessageId:\x20','value','Media\x20folder\x20path:','groupHandler','https://jsonip.com','useMultiFileAuthState','contactsArrayMessage','Error\x20updating\x20privacy\x20settings','Error\x20change\x20group\x20description','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Query\x20params:','\x0a{\x20instance:\x20','test','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Enter\x20a\x20value\x20in\x20milliseconds','deleteOne','sending','function','set','instanceCount','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','headers','replace','Type\x20is\x20required','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','waUploadToServer','Parando\x20aplicação...','sendDataWebhook','segundos','profile','ListMessage','trim','findOneAndUpdate','sectionsToString','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','createConnection','uazapi','fetchLabels','processConditions','STORE','toDataURL','_Messages','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','sort','downloadMediaMessage','replaceVariablesLogs','status','action','updateProfileName','PRESENCE_UPDATE','name','request','isJidUser','findAndReplaceRegex','g-t','refused','setNewValue','waInstances','AppStateSyncKeyData','menuExpiredMessage','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','messagesSend','closeExistingConversations','Temp\x20audio\x20deleted','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','\x1b[43m','connecting','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','document','This\x20name\x20','loadEnv','available','Label\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','groupSetting','groupUpdateSubject','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','\x1b[30m','ENABLED','--standalone','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','utf8','_error','selectableCount','updateFlowConfig','):\x20não\x20encontrou','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','static','editOperator','remove.instance','Content\x20is\x20required','evaluateConditionTest','announce','localWebhook','reorderBlocks','flowName','Error\x20status:','):\x20Buscando\x20conversas...','Connection','dark','params','nomecompleto','goNextblock','redirect','ORG:','CONTACTS_SET',',\x20Minutes\x20to\x20Close:\x20','Unable\x20to\x20leave\x20the\x20group','SERVER_OFFLINE','protocolMessage','request\x20received\x20in\x20deleteDoneMessages','getOwnPropertyDescriptor','delay','request\x20received\x20in\x20scheduleMessage','authorization','bulkWrite','equal','ChatModel','messageId','getHours','participants','----------------------ADD----------------------------','\x22\x20-\x20NOT\x20CONNECTION','createSectionsFromValues','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','bearer','.mp3','ScheduleMessageModel','Audio\x20is\x20url','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','getConversation','/wa-message-update','removeOlderDisconnectedInstances','-whatsapp-api','):\x20Edit\x20schedule\x20message...','ephemeralExpiration','now','replacer','All_Instances_Config','Flow\x20não\x20encontrado','createflow','description','WARN','editflowgroup','leadInfo.desativadoFluxoAte','displayName','expression',',\x20qrcodeCount:\x20','testProxy\x20response\x20from\x20','PRODUCT_LIST','backgroundColor','truncatedtoEnd','createConversationforStartFlow','removed','menuIgnoreNonVotes','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','leadInfo.','warn','Db\x20Connection','):\x20Dados\x20migrados\x20com\x20sucesso','createInstance','getDelay','fromMe','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','https://api.ipify.org?format=json','subjectOwner','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','getContentType','Reinicialização\x20iniciada:\x20','instances','isConnected','username','\x20-\x20ON:\x20','FlowModel','setRestartTimer','deleteAll','authState','findById','charAt','toBrazilianNumberFormat','Full\x20file\x20path:','pre','findOrCreate','AllProxy','sharp','):\x20Erro\x20ao\x20editar\x20agentes:\x20','goToFlow','leaveGroup','/wa-presence','group','findParticipants','COLOR','isJWT','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','statusMessage','chatId','findFlow','sendStatus','matchRegex','redis','DEBUG','readdirSync','listResponseMessage','deleteChat','has','RemoveChatLabel','updateGParticipate','}}\x20->\x20\x22','where','dbInstance','empty','prepareWAMessageMedia','boolean','editflowblock','inviteCode','creds','header','SSL_CONF','code','fileName','generateHash','shift','Type\x20not\x20found','Instance\x20restarted','array','load','subject','editConversation','presence.update','indexOf','rows','ERROR','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','birthtime','Original\x20filename:','audioMessage','command','Database\x20is\x20not\x20enabled','deleteMessage','Read\x20messages\x20fail','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):\x20newFirstValue\x20após\x20replaceVariables:','downloads','sendText','host','^\x5cd+([-]\x5cd+)*@g.us$','_Labels','ex:\x20\x22groupJid=120362@g.us\x22','get','pollCreationMessageV2','updateGroupsAddPrivacy','conversationTimestamp','public','next_groupId','announcement','lowerCase','unlocked','incrementIsValidAttempts','Hash\x20to\x20image\x20name:\x20','textMessage','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','updateStatusPrivacy','Instance\x20logged\x20out','deleteFlow','request\x20received\x20in\x20getAutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','E-mail:\x20','Temp\x20image\x20deleted','METHODS','max','apply','http','Conexão\x20estabelecida','DATABASE_ENABLED','addChatLabel','push','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','copyBlock','request\x20received\x20in\x20getFlow','reconnectTimestamps','imageMessage','Module\x20-\x20ON','response','AutomateSystem\x20não\x20foi\x20inicializado','14342977udDjsn','lastInteraction','WA\x20MODULE','capitalizedWords',',\x20resultado:\x20','):\x20Enviando\x20texto','\x20-y','Cannot\x20','chatLog','findOne','state','sendSticker','conversation','locationMessage','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Limpando\x20AutomateSystem','log','qrCode','/wa-message','AUTHENTICATION_TYPE','updateMany','videoMessage','AUTHENTICATION','\x20adicionado\x20ao\x20chat\x20','send','AUTHENTICATION_JWT_SECRET','getScheduleMessageModelForOwner','statusJidList','webhookService','groupLeave','):\x20Entrou\x20na\x20função\x20stop','noConnection','Não\x20respondeu\x20com\x20a\x20enquete.','onWhatsApp','findGroupInfo','request\x20received\x20in\x20deleteFlow','):\x20lastBlockId:\x20','use','expiration','msgRetryCounterCache','everyOne','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Group\x20not\x20found','Including\x20timestamp\x20in\x20url:\x20','menuType','Bad\x20Request','chats.set','writeFile','readMessageBot','deleteConversation','Deletion\x20failed','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','ephemeralMessage','SERVER_ACK','REDIS_PREFIX_KEY','storePath','chats','):\x20Limpando\x20delayMessage','/wa-chats','sections','TYPE','processgoToFlow','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','valid','tags','):\x20Comando\x20desconhecido:\x20','emit','dbSettings','DATABASE_CONNECTION_USER','editedMessage','status.instance','):\x20Criou\x20conversa\x20no\x20startFlow:','type','ContactModel','application/octet-stream','video','keys','readreceipts','encoding','cors','Internal\x20Server\x20Error','):\x20Flow\x20desativado','eventemitter2','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Error\x20update\x20group\x20picture','title','setting','Erro\x20ao\x20remover\x20label\x20','\x1b[31m','50mb','editFlowReply','choices','Logger','editFlow','RECONNECT_TIME_FRAME','no-cache','close','fetchConversation','updateBlock','getConversationModelForOwner','Esse\x20fluxo\x20expirou','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','groupUpdateDescription','\x0aitem','organization','JWT','updatePresence','messageHandle','js-yaml','view\x20engine','throwAndLogError','documentMessage','lastmsg','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','defineAuthState','listType','save','modifiedCount','less','markMessageAsRead','Rótulo\x20inválido\x20ou\x20sem\x20ID.','insertMany','query','gifPlayback','content-type','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Getting\x20profile\x20info','connect','):\x20atualização\x20chat:\x20','fetchProfile','env','Error\x20updating\x20profile\x20status','waitingMenu_ExpiredMessage','):\x20alterando\x20this.AutomateSystem','hGetAll','\x20quoted:\x20','contentText','deleteBlock','OrAnd','Certbot\x20executado\x20com\x20sucesso.','minutesToClose','order','createServer','makeCacheableSignalKeyStore','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','temp-','phoneNumber','sendMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','urlOrBase64','startFlow','Not\x20Found','updateOneById','findGroup','repository','audio','DELIVERY_ACK','startsWith','picture','oldValue','hbs','convert','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','linkPreview','^\x5cd+','number','round','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','buttonText','#000000','ObjectId','LICENSE_INVALID','request\x20received\x20in\x20editFlowgroup','cache','filter','\x20is\x20already\x20in\x20use.','Erro\x20de\x20atualização:\x20','app','rm\x20-rf\x20','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','normalizeMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','updateReplyOption','\x20using\x20the\x20proxy:','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Converted\x20audio\x20deleted','https://github.com/uazapi/uazapi.git','CONNECTION_UPDATE','exists','existsSync','listMessage','pop','File\x20written\x20to\x20path:\x20','\x1b[32m','getDevice','apikey','pt-BR','):\x20Editando\x20grupo\x20do\x20fluxo...','PORT','fileUrl','min','key','replyOptions','DATABASE_CONNECTION_URI','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','customFields','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','notEmpty','utf-8','senderKeyDistributionMessage','split','inner','errno','findIndex','messages.upsert','URI','participant','console','):\x20Iniciando\x20bot...','/group','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','variable','sendWhatsAppAudio','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','put','redisEnv','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','connectionStatus','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','logout','):\x20Editando\x20edição\x20do\x20fluxo...','http://checkip.dyndns.org','cleaningUp','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','maxActives','presenceSubscribe','reconnectAttempts','oldToken','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','pollErrorMessage','end','newValue','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','groups_ignore','DATABASE_CONNECTION_PASSWORD','processPollUpdateMessage','sem\x20texto\x20na\x20mensagem','INFO','\x20-i\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','wuid','STORE_CLEANING_TERMINAL','AUTHENTICATION_JWT_EXPIRIN_IN','convertToWebP','Temp\x20audio\x20created','leadInfo.customFields.','env.KEY\x20!==\x20key','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','ListType','create','):\x20teve\x20mudanças\x20chat.archived:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','getFlow','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','done','Router','splice','URL:','CORS_ORIGIN','ON\x20-\x20dbName:\x20','8080','pollMessage','EXPIRIN_IN','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','Sending\x20audio\x20whatsapp','):\x20Procurando\x20mensagens\x20para\x20envio','stickerMessage','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Fluxos\x20não\x20estão\x20ativados','qrcode','generateWAMessageFromContent','\x1b[1m\x1b[37m','DARK','match','delete','restart','hasOwnProperty','updateOne','SERVER_PORT','$addToSet','post','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','class-validator','find','3868GIstok','hex','getChatModelForOwner','\x1b[0m','getAllData','condition','):\x20Bloco\x20com\x20ID\x20','DATABASE_CONNECTION_HOST','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','The\x20instance\x20needs\x20to\x20be\x20disconnected','moreLogs','waMonitor','owner','CHATS_DELETE','stdout','AUTHENTICATION_API_KEY','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Instance\x20\x22','mediaKey','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','isRunning','1896sBVUIy','jid','optionDescription','data','unlinkSync','/chat','chatHandle','message','varedit','):\x20Campos\x20a\x20serem\x20atualizados:','cwd','):\x20conversation.status:\x20','REDIS','585pnjarO','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Subscribed\x20Events:','validate','flow','removeProfilePicture','Telefone:\x20','reorderReplyOptions','conditions','buttonId','formatVCard','formatBRNumber','apirequest','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','LOG','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','\x20}\x0a','saveVariable','messages','success','Error\x20fetching\x20group','color','groupMetadata','editFlowBlock','}}\x20->\x20valor\x20não\x20encontrado','\x22,\x20valor\x20a\x20substituir:\x20\x22','isURL','whatsappNumber','demote','env.yml','message_normalized','ignoreGroups','trimmed','request\x20body:\x20','user','evaluateCondition','Image\x20path:\x20','\x1b[37m%s\x1b[0m','authModel','DATABASE','addresss','MAX_RECONNECT_ATTEMPTS','stderr','varedits','subjectTime','listen','Type\x20defined\x20as\x20audio','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Deletando\x20fluxo...','Mensagem\x20não\x20suportada','_Flows','CLEANING_INTERVAL','Button\x20texts\x20cannot\x20be\x20repeated','Fetching\x20business\x20profile','writeFileSync','mongodb://','Error\x20removing\x20profile\x20picture','/instance/connect','):\x20expirationTime:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','text/event-stream','integer','ids','pairingCode','\x1b[33m\x1b[1m','collection','readData','\x0a*Você\x20respondeu*:\x0a','EMAIL','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','):\x20Erro\x20ao\x20buscar\x20conversas\x20','saveTextReply','/events/:instance','envYaml','\x20não\x20encontrado\x20para\x20atualização.','Desconectado,\x20parando\x20execução.','viewOnceMessage','readMessages','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.',',\x20lastCondition:\x20','Contacts\x20not\x20found','send.message','):\x20Bloco\x20copiado:\x20','base64','The\x20property\x20cannot\x20be\x20empty','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','open','reviver','CHATS_SET','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','dbServer','toUpperCase','Forbidden','fetchPrivacySettings','loadInstance','express-async-errors','PRIVKEY','font','):\x20Enviando\x20contato','/config','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','findAll','media','error\x20get\x20vote','PENDING','none','):\x20updateResult:','stopped','/clients-info','longitude','body','BufferJSON','sleep','lean','Chat\x20com\x20ID\x20','NO_IP','ip:\x20','endsWith','Audio\x20is\x20base64','getScheduleMessage','abs','Erro\x20ao\x20configurar\x20proxy:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','path','):\x20Ler\x20mensagem','toArray','sendReaction','):\x20newSecondValue\x20após\x20replaceVariables:','quoted','ensureChatIdsExist','updateProfilePicture','rowId','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','joinGroup','Cache-Control','MESSAGES_UPSERT','readMessage','height','@whiskeysockets/baileys','Failed\x20to\x20get\x20IP\x20from\x20','.X-ABLabel:Celular\x0a','MessageModel','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','5JcuXPL','mkdirSync','Instância\x20não\x20encontrada.','activatedCount','unreadCount','URL','labels.edit','Error\x20creating\x20group','silent','verifiedName','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Primeiro\x20Valor:\x20','toLocaleString','saveConversationToDatabase','Authentication\x20error','initAuthCreds','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','documentWithCaptionMessage','.jwt','DD/MM\x20HH:mm:ss','stack','_id','Not\x20is\x20business\x20profile','\x22\x20cannot\x20be\x20empty','unknown\x20operation\x20type\x20[','3034380TuGBKV','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','paused','connection.update','waitingMenu_id','createConversationforgoToFlow','Erro\x20ao\x20deletar\x20chat:','getClient','stoppedUntil','Converting\x20image\x20to\x20WebP\x20to\x20sticker','errors','ReplyOption\x20com\x20ID\x20','automateSystem','stopMinutesMaxActives','):\x20leadInfoVariables','):\x20Alterando\x20fluxo...','Erro\x20ao\x20atualizar\x20o\x20fluxo:','copyDataToNewModel','ChatRouter','flowPrefixCommand','Erro\x20ao\x20aplicar\x20varedit:\x20','mediaMessage','toString','----------------------------','lastCondition','Instância:\x20','getTicketSystem','creds.update','getAutomateSystem','findConversation','child_process','Configuração\x20de\x20proxy\x20inválida\x20gerada.',',\x20Expiration\x20Time:\x20','DOCKER_ENV','SEND_MESSAGE','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','updateProfilePicturePrivacy','updateGParticipant','PASSWORD','createClient','\x1b[41m','scheduleNextCheck','Valor\x20inicial:\x20\x22','tryProxy','groupName','/media','Selecione','updateAll','processblock','composing','.uazapi.dev','drop','label','sendContact','../env.yml','ProxyAgent','deleteflow','Error\x20headers:','router','whatsappNumbers','fetchInstances','password','scheduleSendAudio','length','.TEL;waid=','\x1b[36m','/automate','createAndSave','status@broadcast','):\x20Visualizando\x20AutomateSystem','editFlowVariable','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','processvaredits','contact_blacklist','Audio\x20converted\x20to\x20mp4','interval\x20não\x20é\x20um\x20número','\x1b[40m','uazapiSendLocation','/wa-groups','messageTimestamp','CONECTADO\x20À\x20UAZAPI','getMessageModelForOwner','dataValidate',',\x20Resultado:\x20','SendScheduleMessage','instanceName','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','not\x20loaded','replaceVariables','decryptPollVote','<subdomain>','1120428dUhYVy','createNewConversation','errorLog','enabled','bodyString','audio/mp4','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','realVariables','Flow\x20already\x20exists','request\x20received\x20in\x20createFlow','Erro\x20ao\x20normalizar\x20a\x20mensagem:','chats.upsert','lastMessage','API_KEY','toFile','_FlowHistorico','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','not_announcement','values','The\x20\x22','API\x20Key\x20inválida.','Variáveis\x20não\x20encontradas:','exec','width','\x20saindo\x20da\x20função','detail','updateStopChat','webhookModel','request\x20received\x20in\x20fetchConversation','getBase64FromMediaMessage','scheduleMessages','protocol','replaceVariablesInReplyOptions','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','stateConnection','default','deleteInstance','instanceInfo','\x1b[44m','.mp4','findContacts','_p_','$pull','editScheduleMessage','):\x20isVote:\x20','poll','options','nextBlock:','error_log','folder','statusCode','getLabelModelForOwner','labelId','getContactModelForOwner','fetchMessages','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','greater','timerId','ButtonsMessage','SUCCESS','jsonschema','Converted\x20image\x20deleted','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','blockLogs','eventHandler','importChats','createWebhook','SERVER_TYPE','):\x20transformedCustomFieldVariables','STORE_CONTACTS','leadInfo','arrayUnique','join','src','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','stopWhenYouSendMsg','InstancesAlterarTodas','userDevicesCache','pollCreationMessageKey','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','address','sendButtons','SERVER','request\x20received\x20in\x20updateCustomFields','addBlock','1584kwWWAI','SECRET','sendPoll','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','syscall','headerString','group-participants.update','isBusiness','buttons','27152UTdGBD','removeData','resetReconnectionVariables','from','exports','editflowvariable','Error\x20updating\x20setting','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','repeat','unreadcount','groupValidate','error','editFlowGroup','processUazapi','processingScheduleMessageId','when','Output\x20audio\x20path:\x20','/webhook','entries','mimetype','mongoose','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Deleted\x20','routerPath','blocks','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','contains','_Chats','Types','uuid','):\x20Entrou\x20na\x20função\x20saveReply','notMatchRegex','/instance/connectionState','parse','):\x20Error\x20processing\x20conditions:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','metadata','https','flowIgnoreGroups','viewOnceMessageV2','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','latitude','1550143FuhVSd','\x20inseridos\x20no\x20banco\x20de\x20dados...','editflowvaredit','Erro\x20ao\x20copiar\x20dados:','uazapiSendMenu','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','request\x20received\x20in\x20allFlows','working','readFileSync','MESSAGES_UPDATE','Message\x20not\x20found','contactname','Erro\x20ao\x20atualizar\x20AutomateSystem:','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','updateReadReceiptsPrivacy','remoteJidsRemaining','CHATS_UPDATE','isBase64','apiResponse','https://uazapi-plugin.bubbleapps.io/','The\x20global\x20api\x20key\x20must\x20be\x20set','and','menuMessage','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','created','stopMinutes','applyvaredit','request\x20received\x20in\x20editConversation','editFlowVaredit','parseInt','item','groupCreate','write','Erro\x20ao\x20encerrar\x20a\x20API','update','updateAgent','findLabels','allFlows','EMAIL:','presence','agents','Error\x20writing\x20file:\x20','stopIfLastReturnedError','Image\x20is\x20url','GROUP_PARTICIPANTS_UPDATE','lastBlockId','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','Valor\x20de\x20find\x20ou\x20replace\x20ausente','--agree-tos','\x20minutos','labels','Instance\x20ID:','start','Missing\x20global\x20api\x20key','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','/events','groupSettingUpdate','groups.upsert','isLong','dayjs','chats.update','Last\x20message\x20not\x20found','string','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','createProxyConfig','closed','):\x20','fetchContacts','deleted','compression','DaysToDelete','qrcode-terminal','\x1b[31m%s\x1b[0m','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','variables','no.connection','/instance/fetchInstances','messages.update','Erro\x20ao\x20deletar\x20mensagens:','processApiRequest','true','some','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','/wa-connection-update','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','TEL','profilePicture','reactionMessage','remoteJids','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','checkAndUpdateChatStatus','finish','prefixCommand','archived','Read\x20messages','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','contacts.upsert','chat','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','@g.us','fone','unhandledRejection','Schema','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','verbose','count','role','port','KEY','Temp\x20audio\x20path:\x20','node-mime-types','audio/ogg','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','video-cover.png','loadWebhook','collections','uazapiSendContact','responsavelid','/message','events','fullName','padEnd','replaceVariablesInObject','flowname:\x20','atendimentoAberto','prototype','call','SERVER_URL','flowActive','addReplyOption','replaceVariablesChat','waitingMenu_replyOptions','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','getTime','text','groupadd','pollCreationMessageV3','\x1b[1m','https://','flowConfig','notEqual','/instance/create','DB_PREFIX_NAME','ipify.org','sendMessageWithTyping','json','request\x20received\x20in\x20updateAgent','groupAcceptInvite','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','creds.json','lastReceivedMessage','stringify','writeData','sendMedia','fetchStatus','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','notas','*\x0a\x0a','sendLocation','connectionState','getFlowModelForOwner','mentioned','insert','replaceOne','add','\x20não\x20encontrado','Nenhum\x20chat\x20encontrado\x20para\x20editar.','/exit','footerText','LEVEL','imagechat','Imagem\x20não\x20encontrada','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','contactMessage','\x1b[32m%s\x1b[0m','?timestamp=','deleteReplyOption','limit','allflows','proxy','editflow','__esModule','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','object','!stop','connectionUpdate','pollMessageOnDelete','QRCODE_UPDATED','updateConversation','/media/','groupInviteCode','.chatId','assign','stopConversation',',\x20Comparador:\x20','uazapiSendMedia','online','notify','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Editando\x20bloco...','updatePrivacySettings','pollCreationMessage','!cmd_','):\x20conversation.waitingMenu_name','Erro\x20ao\x20iniciar\x20fluxo:\x20','delayMessage','Erro\x20ao\x20importar\x20chats:','logger',',\x20valor\x20a\x20encontrar:\x20\x22','Error\x20change\x20group\x20setting','sha256','Bloco\x20com\x20ID\x20','Image\x20converted\x20to\x20WebP','CONNECTION','unavailable','READ','Chrome','Close\x20connection','.\x20Pulando.','messaging-history.set','VERBOSE','No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Procurando\x20conversa','includes','newStoppedUntil','contactHandle','\x0aFN:','lastSendMessage','cpf','sign','Erro\x20ao\x20editar\x20agentes:\x20','verify','delAll','editFlowCondition','FULLCHAIN','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','):\x20Erro\x20ao\x20criar\x20fluxo\x20','uazapiSendText','vote','insertCount','image','subdomain','sendMenu','option','https://chat.whatsapp.com/','setHeader','ReplyOptions\x20finais\x20após\x20reordenação:','cleanStore','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','hDel','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','instance','prepareMediaMessage','webhookMap','lastSend','Error\x20updating\x20profile\x20picture','https://uazapi-plugin.bubbleapps.io/?url=','contacts','updateMessage','):\x20Enviando\x20áudio','fetchLatestBaileysVersion','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','#ffffff','MESSAGES_SET','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','groupJid','Error\x20updating\x20profile\x20name','connectionClosed','client','The\x20','GROUPS_UPSERT','----------------------REMOVE----------------------------','list','):\x20Going\x20to\x20','views','):\x20Criando\x20fluxo...','PREFIX_KEY','fetchProfilePictureUrl','Formato\x20inválido\x20de\x20proxy','random','):\x20Flow\x20não\x20encontrado','formatStatusMessage','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','fromObject','Rótulo\x20deletado:','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','request\x20received\x20in\x20updateFlowConfig','pollOnReplyDelete','):\x20nextBlock.uazapi.name','messageSecret','\x20inseridas\x20no\x20banco\x20de\x20dados...','Número:\x20','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','getVariablesChat','buffer','archive','instanceKeys','scheduleSendText','jpegThumbnail','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','website','last','email','Validate','map','):\x20Conversas\x20encontradas:','dyndns.org','getRandomText','connectToWhatsapp','groupDesc','instancias:\x20','secondValue','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','checkAndRestartProcess','findMessages','AutomateSystem','block','groups','del','CHATS_UPSERT','No\x20participants','forEach','firstValue','):\x20Buscando\x20flow...','.sendDataWebhook-global','model','upsertChats','NextBlock','$set','CONTACTS_UPDATE','upperCase','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','getStatus','):\x20Entrou\x20na\x20função\x20goToFlow','isJidGroup','qrcode.updated','method','chats.delete','webhook','delaySecMax','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Background\x20color\x20is\x20required','uazapiDeleteMessage',',\x20valor\x20passado:\x20\x22','blockId','CONTACTS_UPSERT','notContains','/wa-qrcode',',\x20Segundo\x20Valor:\x20','exit','uncaughtException','Rótulo\x20atualizado:','/:instanceName','toggleEphemeral','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','flattenObject','findGroups','ConversationModel','deleteDoneMessages','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','saveChatVariables','removeChatLabel','allContacts','Archiving\x20chat','):\x20Conversa\x20inserida\x20com\x20sucesso.','lastDisconnect','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','API\x20Key\x20from\x20Request:','content','convertaudio','saveMediaToFile','hGet','scheduled','preview','redis://127.0.0.1:6379','currency','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Image\x20created','context','scheduleMessage','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','findWebhook','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','revokeInviteCode','fetchBusinessProfile','configService','GROUPS_UPDATE','archiveChat','floor','.webp','caption','WebhookGlobal','connectToWhatsappController','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','\x5cd+','size','instanceName\x20not\x20provided.','\x20removido\x20do\x20chat\x20','Converting\x20audio\x20to\x20mp4','getMessage','instance.','@broadcast','HH:mm:ss','uazapiSendAudio','quotedMessage','flowConversation','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','endSession','substring','DELETED','pollUpdateMessage','findAndReplace','connectedClient','Erro:','nome','CORS_METHODS','labels.association','getMIMEType','HOST','groups.update','):\x20Buscando\x20conversa...','):\x20tem\x20blocks','variablesNotFound','USER','info','auth','648SjftWt','findByIdAndUpdate','Error\x20change\x20group\x20name','toBRL','app-state-sync-key','changeVariables','Processing\x20audio','Invalid\x20format','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','authentication','reaction','createFlow','\x20horas\x20e\x20','Message','config','arraybuffer','\x1b[33m%s\x1b[0m'];a0_0xbc39=function(){return _0x46ce15;};return a0_0xbc39();}var _e=class{constructor(_0x162a7d,_0x539ffc,_0x35b5b8,_0x2fb8f6,_0x20b5f1,_0x533cd8,_0x24c51f,_0x5aa2bd,_0x33a90c,_0xe25368,_0x53d359){const _0x751ed3=a0_0x3656ce;this[_0x751ed3(0x2a2)]=_0x162a7d,this[_0x751ed3(0x497)]=_0x539ffc,this['contact']=_0x35b5b8,this[_0x751ed3(0x58a)]=_0x2fb8f6,this[_0x751ed3(0x5e1)]=_0x20b5f1,this[_0x751ed3(0x2ac)]=_0x533cd8,this[_0x751ed3(0x5cd)]=_0x24c51f,this[_0x751ed3(0x386)]=_0x5aa2bd,this['scheduleMessage']=_0x33a90c,this[_0x751ed3(0x35e)]=_0xe25368,this[_0x751ed3(0x672)]=_0x53d359;}get[a0_0x3656ce(0x303)](){const _0x4af93b=a0_0x3656ce;return this[_0x4af93b(0x672)];}},Pe=class{},$e=class extends I{['getMessageModelForOwner'](_0x361a8c){return Vs(_0x361a8c);}async[a0_0x3656ce(0x4d8)](_0x27e360,_0x203391){const _0x35d830=a0_0x3656ce;if(_0x27e360['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x35d830(0x3a3)](_0x203391)[_0x35d830(0x1d8)]([..._0x27e360]))['length']};}catch(_0x361120){return console[_0x35d830(0x16d)](_0x35d830(0x5ff),_0x361120),_0x361120;}}async[a0_0x3656ce(0x285)](_0x1d6c91,_0x23b85e){const _0x66741c=a0_0x3656ce;try{let _0x4934c0=this['getMessageModelForOwner'](_0x23b85e),_0x506bf3=A(_0x1d6c91[_0x66741c(0x75e)]);return await _0x4934c0[_0x66741c(0x285)](_0x506bf3)[_0x66741c(0x6b3)]({'messageTimestamp':-0x1})[_0x66741c(0x4e7)](_0x1d6c91?.[_0x66741c(0x4e7)]??0x0)[_0x66741c(0x31a)]();}catch{return[];}}async['delete'](_0x2d5107,_0x10220f){const _0x9b37cf=a0_0x3656ce;try{let _0x592607=this[_0x9b37cf(0x3a3)](_0x10220f),_0x332f5c=A(_0x2d5107[_0x9b37cf(0x75e)]);await _0x592607[_0x9b37cf(0x60b)](_0x332f5c);}catch(_0x5c24b9){console[_0x9b37cf(0x417)](_0x5c24b9);}}async[a0_0x3656ce(0x458)](_0x11c4e9,_0x39f3f9,_0xab0f7d){const _0x3179fd=a0_0x3656ce;try{let _0x3940ea=this[_0x3179fd(0x3a3)](_0xab0f7d),_0x28bc02=A(_0x11c4e9[_0x3179fd(0x75e)]);return await _0x3940ea[_0x3179fd(0x6a4)](_0x28bc02,{'$set':_0x39f3f9},{'new':!0x0});}catch(_0x30e9fd){throw console[_0x3179fd(0x417)](_0x30e9fd),_0x30e9fd;}}async[a0_0x3656ce(0x1d8)](_0x3b151a,_0x1c8854){const _0x5d36f1=a0_0x3656ce;if(_0x3b151a['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5d36f1(0x3a3)](_0x1c8854)[_0x5d36f1(0x1d8)]([..._0x3b151a]))['length']};}catch(_0x4bcb3e){return console[_0x5d36f1(0x16d)](_0x5d36f1(0x5ff),_0x4bcb3e),_0x4bcb3e;}}async[a0_0x3656ce(0x73d)](_0x3c74a4){const _0x25a546=a0_0x3656ce;try{return await this[_0x25a546(0x3a3)](_0x3c74a4)[_0x25a546(0x2ea)][_0x25a546(0x385)](),{'success':!0x0};}catch(_0x241dc8){return console[_0x25a546(0x417)](_0x241dc8),{'success':!0x1,'error':_0x241dc8};}}},pr=R(require(a0_0x3656ce(0x681))),w=R(require('@whiskeysockets/baileys')),Ee=require('fs'),P=R(require(a0_0x3656ce(0x324))),te=R(require('axios')),gr=require(a0_0x3656ce(0x429)),hr=R(require(a0_0x3656ce(0x277))),mr=R(require(a0_0x3656ce(0x47d))),la=[a0_0x3656ce(0x7a6),a0_0x3656ce(0x1ce),a0_0x3656ce(0x779),a0_0x3656ce(0x172),'stickerMessage'],ua=[a0_0x3656ce(0x191),a0_0x3656ce(0x34a),'viewOnceMessage',a0_0x3656ce(0x433)],ys=require('os'),Rt=R(require(a0_0x3656ce(0x603))),Ot=require(a0_0x3656ce(0x370)),Tt=require(a0_0x3656ce(0x4a4)),ie=R(require(a0_0x3656ce(0x420))),$=require(a0_0x3656ce(0x284)),pe=class{constructor(_0x11d633,_0x2c0dfa,_0x527844){const _0x19c4db=a0_0x3656ce;this[_0x19c4db(0x29c)]=_0x11d633,this['exists']=_0x2c0dfa,this[_0x19c4db(0x6ba)]=_0x527844;}},ke=class{},Le=class{},ye=class{},Fe=class{},Ue=class{},ge=class{},Je=class{},je=class{},qe=class{},Ve=class{},Et=R(require(a0_0x3656ce(0x5f9))),da=require('fs'),pa=require(a0_0x3656ce(0x324));async function Be(_0x50c8f2){const _0x1e27d3=a0_0x3656ce;let _0x39303b=V[_0x1e27d3(0x6c1)][_0x50c8f2];if(q['ENABLED']){let _0x53e46b=N[_0x1e27d3(0x359)]()['db'](q[_0x1e27d3(0x50c)][_0x1e27d3(0x4c4)]+'-instances')[_0x1e27d3(0x2ea)](_0x50c8f2);return _0x39303b||(await _0x53e46b[_0x1e27d3(0x285)]({})[_0x1e27d3(0x326)]())[_0x1e27d3(0x391)]>0x0;}return _0x39303b||(0x0,da[_0x1e27d3(0x21c)])((0x0,pa[_0x1e27d3(0x3f5)])(de,_0x50c8f2));}async function ga(_0x26d22c,_0xc9d11f,_0x101068){const _0x64dcc5=a0_0x3656ce;if(_0x26d22c[_0x64dcc5(0x649)][_0x64dcc5(0x516)](_0x64dcc5(0x4c3))||_0x26d22c[_0x64dcc5(0x649)][_0x64dcc5(0x516)](_0x64dcc5(0x482))||_0x26d22c[_0x64dcc5(0x649)][_0x64dcc5(0x516)](_0x64dcc5(0x4dd))||_0x26d22c[_0x64dcc5(0x649)][_0x64dcc5(0x516)](_0x64dcc5(0x30c))||_0x26d22c[_0x64dcc5(0x649)][_0x64dcc5(0x516)](_0x64dcc5(0x2e1))||_0x26d22c[_0x64dcc5(0x649)][_0x64dcc5(0x516)](_0x64dcc5(0x42c))||_0x26d22c[_0x64dcc5(0x649)][_0x64dcc5(0x516)](_0x64dcc5(0x670)))return _0x101068();let _0x58c572=_0x26d22c['params'];if(!_0x58c572?.[_0x64dcc5(0x3a7)])throw new h(_0x64dcc5(0x5c4));if(!await Be(_0x58c572[_0x64dcc5(0x3a7)]))throw new L(_0x64dcc5(0x544)+_0x58c572[_0x64dcc5(0x3a7)]+'\x20instance\x20does\x20not\x20exist');_0x101068();}async function ha(_0x1c4bbc,_0x4034c8,_0x5cfb26){const _0x48c0a4=a0_0x3656ce;if(_0x1c4bbc[_0x48c0a4(0x649)]['includes'](_0x48c0a4(0x4c3))){let _0x32b1e0=_0x1c4bbc['body'];if(await Be(_0x32b1e0[_0x48c0a4(0x3a7)]))throw new H(_0x48c0a4(0x6d1)+_0x32b1e0[_0x48c0a4(0x3a7)]+_0x48c0a4(0x20e));V[_0x48c0a4(0x6c1)][_0x32b1e0['instanceName']]&&delete V[_0x48c0a4(0x6c1)][_0x32b1e0[_0x48c0a4(0x3a7)]];}_0x5cfb26();}var ma=require(a0_0x3656ce(0x284)),fa=R(require('jsonwebtoken')),Ge=a0_0x3656ce(0x6ab),so=new v('GUARD');async function ao(_0x554d03,_0x287bd2,_0x507469){const _0x16d4d7=a0_0x3656ce;let _0x3725f2=_0x554d03[_0x16d4d7(0x786)]('apikey');if(_0x3725f2&&b[_0x16d4d7(0x786)]('AUTHENTICATION')['API_KEY'][_0x16d4d7(0x4a2)]!==_0x3725f2)throw new Z();if(b['get'](_0x16d4d7(0x173))[_0x16d4d7(0x3ba)][_0x16d4d7(0x4a2)]===_0x3725f2)return _0x507469();if((_0x554d03[_0x16d4d7(0x649)][_0x16d4d7(0x516)]('/instance/create')||_0x554d03['originalUrl'][_0x16d4d7(0x516)](_0x16d4d7(0x482)))&&!_0x3725f2)throw new H('Missing\x20global\x20api\x20key',_0x16d4d7(0x44a));let _0x284b6e=b['get'](_0x16d4d7(0x173))[_0x16d4d7(0x1c8)];try{let [_0xecf281,_0x7c94a6]=_0x554d03[_0x16d4d7(0x786)](_0x16d4d7(0x6fe))[_0x16d4d7(0x232)]('\x20');if(_0xecf281['toLowerCase']()!==_0x16d4d7(0x70a))throw new Z();if(!(0x0,ma[_0x16d4d7(0x74e)])(_0x7c94a6))throw new Z();let _0x22a02f=_0x554d03['params'],_0x419d67=fa['default'][_0x16d4d7(0x51e)](_0x7c94a6,_0x284b6e[_0x16d4d7(0x403)],{'ignoreExpiration':_0x284b6e['EXPIRIN_IN']===0x0});if(_0x22a02f[_0x16d4d7(0x3a7)]!==_0x419d67[_0x16d4d7(0x3a7)]||Ge!==_0x419d67['apiName'])throw new Z();return _0x507469();}catch(_0x231ec5){throw so[_0x16d4d7(0x417)](_0x231ec5),new Z();}}async function ro(_0x4ece7c,_0x315c33,_0xbfc494){const _0x51b209=a0_0x3656ce;let _0x51a967=b['get']('AUTHENTICATION')[_0x51b209(0x3ba)],_0x389537=_0x4ece7c['get'](_0x51b209(0x222));if(_0x51a967['KEY']===_0x389537)return _0xbfc494();if(_0x4ece7c[_0x51b209(0x649)][_0x51b209(0x516)](_0x51b209(0x4c3))){let _0x34508e=We,_0xc14cf4=_0x4ece7c[_0x51b209(0x317)][_0x51b209(0x3a7)];if(_0x34508e&&_0xc14cf4['toLowerCase']()[_0x51b209(0x1fc)](_0x34508e['toLowerCase']()))return _0xbfc494();if(!_0x389537)throw new H(_0x51b209(0x46b),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x4ece7c[_0x51b209(0x649)][_0x51b209(0x516)](_0x51b209(0x482))&&!_0x389537)throw new H(_0x51b209(0x46b),_0x51b209(0x44a));if(_0x4ece7c[_0x51b209(0x649)][_0x51b209(0x516)](_0x51b209(0x4dd))&&!_0x389537)throw new H(_0x51b209(0x46b),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4ece7c['originalUrl'][_0x51b209(0x516)](_0x51b209(0x30c))&&!_0x389537)throw new H(_0x51b209(0x46b),_0x51b209(0x44a));try{let _0x3e3ee5=_0x4ece7c[_0x51b209(0x6f0)];if((await ne['auth'][_0x51b209(0x285)](_0x3e3ee5[_0x51b209(0x3a7)]))['apikey']===_0x389537)return _0xbfc494();}catch{}throw new Z();}var ya={'jwt':ao,'apikey':ro},Ya=require(a0_0x3656ce(0x5f9)),M=require(a0_0x3656ce(0x429)),E=(..._0xa456d4)=>{const _0x378102=a0_0x3656ce;let _0x5edf5f={};return _0xa456d4[_0x378102(0x579)](_0x4ad0a1=>_0x5edf5f[_0x4ad0a1]={'minLength':0x1,'description':_0x378102(0x3c0)+_0x4ad0a1+_0x378102(0x350)}),{'if':{'propertyNames':{'enum':[..._0xa456d4]}},'then':{'properties':_0x5edf5f}};},C={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'instanceName':{'type':'string'}},...E(a0_0x3656ce(0x3a7))},Hn={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'oldToken':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x24d)],...E(a0_0x3656ce(0x24d))},Kn={'properties':{'key':{'type':a0_0x3656ce(0x4ee),'properties':{'id':{'type':a0_0x3656ce(0x474)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x3656ce(0x72f)],...E('id','remoteJid')},'message':{'type':a0_0x3656ce(0x4ee)}}},K={'properties':{'delay':{'type':a0_0x3656ce(0x2e6),'description':a0_0x3656ce(0x692)},'presence':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x50d),a0_0x3656ce(0x6d3),a0_0x3656ce(0x383),a0_0x3656ce(0x660),a0_0x3656ce(0x354)]}}},W={'type':a0_0x3656ce(0x474),'pattern':a0_0x3656ce(0x668),'description':'Invalid\x20format'},wa={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'number':{...W},'options':{...K},'textMessage':{'type':a0_0x3656ce(0x4ee),'properties':{'text':{'type':'string'}},'required':['text'],...E(a0_0x3656ce(0x4bc))}},'required':[a0_0x3656ce(0x791),'number']},ba={'type':'string','pattern':a0_0x3656ce(0x70e),'description':a0_0x3656ce(0x5e9)},Qn={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...ba},'options':{...K},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x3656ce(0x474)}},'required':['text'],...E(a0_0x3656ce(0x4bc))}},'required':[a0_0x3656ce(0x791),a0_0x3656ce(0x204)]},Yn={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...ba},'options':{...K},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x527),a0_0x3656ce(0x6d0),'video',a0_0x3656ce(0x1fa)]},'media':{'type':'string'},'fileName':{'type':a0_0x3656ce(0x474)},'caption':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x650),a0_0x3656ce(0x30f)],...E('fileName',a0_0x3656ce(0x5be),a0_0x3656ce(0x30f))}},'required':['mediaMessage',a0_0x3656ce(0x204)]},Sa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':[a0_0x3656ce(0x527)],...E('image')}},'required':[a0_0x3656ce(0x274),'number']},Ea={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'statusMessage':{'type':a0_0x3656ce(0x4ee),'properties':{'type':{'type':'string','enum':[a0_0x3656ce(0x4bc),a0_0x3656ce(0x527),'audio',a0_0x3656ce(0x1a9)]},'content':{'type':a0_0x3656ce(0x474)},'caption':{'type':a0_0x3656ce(0x474)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x3656ce(0x2e6),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x3656ce(0x76e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x3656ce(0x203),'description':a0_0x3656ce(0x338)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type',a0_0x3656ce(0x5a8)],...E(a0_0x3656ce(0x1a6),'content')}},'required':[a0_0x3656ce(0x750)]},Ma={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'number':{...W},'options':{...K},'mediaMessage':{'type':a0_0x3656ce(0x4ee),'properties':{'mediatype':{'type':a0_0x3656ce(0x474),'enum':['image',a0_0x3656ce(0x6d0),a0_0x3656ce(0x1a9),'audio']},'media':{'type':a0_0x3656ce(0x474)},'fileName':{'type':a0_0x3656ce(0x474)},'caption':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x650),a0_0x3656ce(0x30f)],...E(a0_0x3656ce(0x769),a0_0x3656ce(0x5be),a0_0x3656ce(0x30f))}},'required':[a0_0x3656ce(0x367),'number']},Ca={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'audioMessage':{'type':a0_0x3656ce(0x4ee),'properties':{'audio':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x1fa)],...E('audio')}},'required':[a0_0x3656ce(0x779),a0_0x3656ce(0x204)]},va={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'pollMessage':{'type':a0_0x3656ce(0x4ee),'properties':{'name':{'type':a0_0x3656ce(0x474)},'selectableCount':{'type':a0_0x3656ce(0x204)},'values':{'type':a0_0x3656ce(0x76e),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3656ce(0x6ba),a0_0x3656ce(0x6df),a0_0x3656ce(0x3bf)],...E(a0_0x3656ce(0x6ba),a0_0x3656ce(0x6df),a0_0x3656ce(0x3bf))}},'required':[a0_0x3656ce(0x204),'pollMessage']},Na={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'number':{...W},'menuMessage':{'type':'object','properties':{'text':{'type':'string'},'choices':{'type':a0_0x3656ce(0x76e),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x3656ce(0x4bc),a0_0x3656ce(0x1ba)],...E(a0_0x3656ce(0x4bc),a0_0x3656ce(0x1ba))}},'required':[a0_0x3656ce(0x204),a0_0x3656ce(0x44c)]},Ra={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'number':{...W},'options':{...K},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x3656ce(0x474)},'description':{'type':a0_0x3656ce(0x474)},'footerText':{'type':a0_0x3656ce(0x474)},'buttons':{'type':a0_0x3656ce(0x76e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3656ce(0x4ee),'properties':{'buttonText':{'type':a0_0x3656ce(0x474)},'buttonId':{'type':'string'}},'required':[a0_0x3656ce(0x207),a0_0x3656ce(0x2b1)],...E('buttonText',a0_0x3656ce(0x2b1))}},'mediaMessage':{'type':a0_0x3656ce(0x4ee),'properties':{'media':{'type':a0_0x3656ce(0x474)},'fileName':{'type':a0_0x3656ce(0x474)},'mediatype':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x527),a0_0x3656ce(0x6d0),a0_0x3656ce(0x1a9)]}},'required':[a0_0x3656ce(0x30f),a0_0x3656ce(0x650)],...E(a0_0x3656ce(0x30f),a0_0x3656ce(0x769))}},'required':['title',a0_0x3656ce(0x40a)],...E(a0_0x3656ce(0x1b4),a0_0x3656ce(0x71a))}},'required':[a0_0x3656ce(0x204),a0_0x3656ce(0x61e)]},Ta={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...K},'locationMessage':{'type':a0_0x3656ce(0x4ee),'properties':{'latitude':{'type':a0_0x3656ce(0x204)},'longitude':{'type':a0_0x3656ce(0x204)},'name':{'type':a0_0x3656ce(0x474)},'address':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x435),'longitude'],...E(a0_0x3656ce(0x6ba),a0_0x3656ce(0x2d0))}},'required':[a0_0x3656ce(0x204),'locationMessage']},Aa={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'number':{...W},'options':{...K},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x3656ce(0x474)},'footerText':{'type':a0_0x3656ce(0x474)},'buttonText':{'type':'string'},'sections':{'type':a0_0x3656ce(0x76e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3656ce(0x4ee),'properties':{'title':{'type':a0_0x3656ce(0x474)},'rows':{'type':a0_0x3656ce(0x76e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x3656ce(0x474)},'description':{'type':a0_0x3656ce(0x474)},'rowId':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x1b4),a0_0x3656ce(0x32c)],...E(a0_0x3656ce(0x1b4),a0_0x3656ce(0x32c))}}},'required':[a0_0x3656ce(0x1b4),'rows'],...E('title')}}},'required':['title',a0_0x3656ce(0x71a),a0_0x3656ce(0x207),a0_0x3656ce(0x198)],...E(a0_0x3656ce(0x1b4),a0_0x3656ce(0x71a),'buttonText',a0_0x3656ce(0x4de))}},'required':['number',a0_0x3656ce(0x21d)]},Oa={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'number':{...W},'options':{...K},'contactMessage':{'type':a0_0x3656ce(0x76e),'items':{'type':a0_0x3656ce(0x4ee),'properties':{'fullName':{'type':a0_0x3656ce(0x474)},'phoneNumber':{'type':a0_0x3656ce(0x474),'minLength':0xa}},'required':[a0_0x3656ce(0x4ae),a0_0x3656ce(0x1f1)],...E(a0_0x3656ce(0x4ae))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x3656ce(0x204),a0_0x3656ce(0x4e3)]},Ia={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x3656ce(0x4ee),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x3656ce(0x474)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x3656ce(0x628))},'reaction':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x228),'reaction'],...E(a0_0x3656ce(0x5ec))}},'required':[a0_0x3656ce(0x48d)]},Da={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'numbers':{'type':a0_0x3656ce(0x76e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3656ce(0x474),'pattern':a0_0x3656ce(0x203),'description':a0_0x3656ce(0x2e4)}}}},xa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3656ce(0x474)}},'required':['id',a0_0x3656ce(0x72f),a0_0x3656ce(0x628)],...E('id',a0_0x3656ce(0x628))}}},'required':[a0_0x3656ce(0x2f6)]},_a={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'privacySettings':{'type':a0_0x3656ce(0x4ee),'properties':{'readreceipts':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x626),'none']},'profile':{'type':'string','enum':[a0_0x3656ce(0x626),'contacts','contact_blacklist',a0_0x3656ce(0x312)]},'status':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x626),a0_0x3656ce(0x538),'contact_blacklist',a0_0x3656ce(0x312)]},'online':{'type':'string','enum':[a0_0x3656ce(0x626),'match_last_seen']},'last':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x626),'contacts',a0_0x3656ce(0x39b),a0_0x3656ce(0x312)]},'groupadd':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x626),'contacts',a0_0x3656ce(0x39b),a0_0x3656ce(0x312)]}},'required':[a0_0x3656ce(0x1ab),a0_0x3656ce(0x6a1),a0_0x3656ce(0x6b6),a0_0x3656ce(0x4fb),'last',a0_0x3656ce(0x4bd)],...E(a0_0x3656ce(0x1ab),a0_0x3656ce(0x6a1),'status',a0_0x3656ce(0x4fb),a0_0x3656ce(0x565),a0_0x3656ce(0x4bd))}},'required':[a0_0x3656ce(0x639)]},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'lastMessage':{'type':a0_0x3656ce(0x4ee),'properties':{'key':{'type':a0_0x3656ce(0x4ee),'properties':{'id':{'type':a0_0x3656ce(0x474)},'remoteJid':{'type':a0_0x3656ce(0x474)},'fromMe':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]}},'required':['id',a0_0x3656ce(0x72f),'remoteJid'],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x3656ce(0x2e6),'minLength':0x1}},'required':[a0_0x3656ce(0x228)],...E('messageTimestamp')},'archive':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]}},'required':[a0_0x3656ce(0x3b9),a0_0x3656ce(0x55f)]},$a={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'id':{'type':a0_0x3656ce(0x474)},'fromMe':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x3656ce(0x474)},'participant':{'type':a0_0x3656ce(0x474)}},'required':['id',a0_0x3656ce(0x72f),a0_0x3656ce(0x628)],...E('id','remoteJid','participant')},ka={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'where':{'type':a0_0x3656ce(0x4ee),'properties':{'_id':{'type':a0_0x3656ce(0x474),'minLength':0x1},'pushName':{'type':a0_0x3656ce(0x474),'minLength':0x1},'id':{'type':a0_0x3656ce(0x474),'minLength':0x1}},...E(a0_0x3656ce(0x34e),'id',a0_0x3656ce(0x67d))}}},La={'$id':(0x0,M['v4'])(),'type':'object','properties':{'name':{'type':a0_0x3656ce(0x474)}},...E(a0_0x3656ce(0x6ba))},Fa={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'status':{'type':a0_0x3656ce(0x474)}},...E(a0_0x3656ce(0x6b6))},we={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'number':{'type':a0_0x3656ce(0x474)},'picture':{'type':a0_0x3656ce(0x474)}}},Ua={'type':'object','properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':'string'},'status':{'type':a0_0x3656ce(0x474)},'isBusiness':{'type':a0_0x3656ce(0x762)}}},Ja={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x3656ce(0x474),'minLength':0x1},'key':{'type':a0_0x3656ce(0x4ee),'if':{'propertyNames':{'enum':[a0_0x3656ce(0x72f),a0_0x3656ce(0x628),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x3656ce(0x474),'minLength':0x1,'description':a0_0x3656ce(0x2fd)},'id':{'type':a0_0x3656ce(0x474),'minLength':0x1,'description':a0_0x3656ce(0x2fd)},'fromMe':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x3656ce(0x4ee)}},...E(a0_0x3656ce(0x34e))},'limit':{'type':a0_0x3656ce(0x2e6)}}},Xn={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x3656ce(0x474)},'id':{'type':a0_0x3656ce(0x474)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x3656ce(0x474)},'status':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x775),'PENDING',a0_0x3656ce(0x192),a0_0x3656ce(0x1fb),'READ','PLAYED']}},...E('_id','remoteJid','id',a0_0x3656ce(0x6b6))},'limit':{'type':a0_0x3656ce(0x2e6)}}},ja={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'number':{...W},'presence':{'type':'string','enum':[a0_0x3656ce(0x50d),'available',a0_0x3656ce(0x383),a0_0x3656ce(0x660),a0_0x3656ce(0x354)]}},'required':[a0_0x3656ce(0x45d),a0_0x3656ce(0x204)]},qa={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'subject':{'type':'string'},'description':{'type':'string'},'profilePicture':{'type':a0_0x3656ce(0x474)},'participants':{'type':a0_0x3656ce(0x76e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x3656ce(0x5c2),'description':a0_0x3656ce(0x244)}}},'required':[a0_0x3656ce(0x770),a0_0x3656ce(0x704)],...E(a0_0x3656ce(0x770),a0_0x3656ce(0x71a),'profilePicture')},be={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'groupJid':{'type':a0_0x3656ce(0x474),'pattern':a0_0x3656ce(0x783)}},'required':['groupJid'],...E(a0_0x3656ce(0x540))},Va={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'groupJid':{'type':a0_0x3656ce(0x474)},'action':{'type':a0_0x3656ce(0x474),'enum':[a0_0x3656ce(0x4da),'remove','promote',a0_0x3656ce(0x2c4)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x3656ce(0x474),'minLength':0xa,'pattern':a0_0x3656ce(0x5c2),'description':a0_0x3656ce(0x244)}}},'required':[a0_0x3656ce(0x540),'action','participants'],...E(a0_0x3656ce(0x540),a0_0x3656ce(0x6b7))},Ba={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'groupJid':{'type':a0_0x3656ce(0x474)},'expiration':{'type':a0_0x3656ce(0x204),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x3656ce(0x183)],...E(a0_0x3656ce(0x540),a0_0x3656ce(0x183))},Ga={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x3656ce(0x474)},'image':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x540),'image'],...E(a0_0x3656ce(0x540),'image')},Wa={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'groupJid':{'type':a0_0x3656ce(0x474)},'description':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x540),a0_0x3656ce(0x71a)],...E(a0_0x3656ce(0x540),a0_0x3656ce(0x71a))},za={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'groupJid':{'type':a0_0x3656ce(0x474)},'name':{'type':a0_0x3656ce(0x474)}},'required':[a0_0x3656ce(0x540),a0_0x3656ce(0x6ba)],...E(a0_0x3656ce(0x540),a0_0x3656ce(0x6ba))},Ha={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'groupJid':{'type':a0_0x3656ce(0x474)},'setting':{'type':'string','enum':[a0_0x3656ce(0x78c),a0_0x3656ce(0x3be),a0_0x3656ce(0x78e),a0_0x3656ce(0x636)]}},'required':['groupJid','setting'],...E(a0_0x3656ce(0x540),'setting')},Ka={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'inviteCode':{'type':a0_0x3656ce(0x474)}},'required':['inviteCode'],...E(a0_0x3656ce(0x764))},Qa={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'url':{'type':a0_0x3656ce(0x474)},'enabled':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]}},'required':[a0_0x3656ce(0x627),a0_0x3656ce(0x3b0)]},Zn={'$id':(0x0,M['v4'])(),'type':a0_0x3656ce(0x4ee),'properties':{'local_map':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x3656ce(0x762),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x3656ce(0x61c),a0_0x3656ce(0x4f2),a0_0x3656ce(0x53e),'MESSAGES_UPDATE',a0_0x3656ce(0x330),a0_0x3656ce(0x374),a0_0x3656ce(0x6f5),'CONTACTS_UPSERT',a0_0x3656ce(0x581),'PRESENCE_UPDATE',a0_0x3656ce(0x301),a0_0x3656ce(0x577),a0_0x3656ce(0x446),'CHATS_DELETE',a0_0x3656ce(0x21a),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x3656ce(0x462)],...E(a0_0x3656ce(0x651),a0_0x3656ce(0x61c),a0_0x3656ce(0x4f2),a0_0x3656ce(0x53e),a0_0x3656ce(0x43f),a0_0x3656ce(0x330),a0_0x3656ce(0x374),a0_0x3656ce(0x6f5),a0_0x3656ce(0x591),a0_0x3656ce(0x581),a0_0x3656ce(0x6b9),a0_0x3656ce(0x301),a0_0x3656ce(0x577),a0_0x3656ce(0x446),'CHATS_DELETE',a0_0x3656ce(0x21a),a0_0x3656ce(0x545),a0_0x3656ce(0x5ba),'GROUP_PARTICIPANTS_UPDATE')},ze=class{},He=class extends I{['getContactModelForOwner'](_0x26e6e2){return js(_0x26e6e2);}async[a0_0x3656ce(0x4d8)](_0x59a931){const _0x408c6c=a0_0x3656ce;if(_0x59a931['length']!==0x0)try{return{'insertCount':(await this[_0x408c6c(0x3e2)](_0x59a931[0x0][_0x408c6c(0x292)])[_0x408c6c(0x1d8)]([..._0x59a931]))[_0x408c6c(0x391)]};}catch(_0xccb454){return _0xccb454;}}async['delete'](_0xcd6807,_0x2ef79c){const _0x11ccea=a0_0x3656ce;try{return{'deletedCount':(await this[_0x11ccea(0x3e2)](_0x2ef79c)[_0x11ccea(0x60b)]({..._0xcd6807[_0x11ccea(0x75e)]}))[_0x11ccea(0x5fa)]};}catch(_0x44ccf6){return{'error':_0x44ccf6?.[_0x11ccea(0x368)]()};}}async[a0_0x3656ce(0x458)](_0x5577e6,_0x228393){const _0x3cd951=a0_0x3656ce;try{if(_0x5577e6['length']===0x0)return;let _0x4aab4c=this[_0x3cd951(0x3e2)](_0x228393),_0x16c487=_0x5577e6[_0x3cd951(0x568)](_0x5b192=>({'updateOne':{'filter':{'_id':_0x5b192[_0x3cd951(0x34e)],'owner':_0x228393},'update':{..._0x5b192}}})),{modifiedCount:_0x46188f}=await _0x4aab4c[_0x3cd951(0x6ff)](_0x16c487);return{'insertCount':_0x46188f};}catch{return;}}async[a0_0x3656ce(0x285)](_0x548618,_0x32e959){const _0x5b3777=a0_0x3656ce;try{let _0x44336b=this[_0x5b3777(0x3e2)](_0x32e959),_0xab0145=A(_0x548618[_0x5b3777(0x75e)]);return await _0x44336b[_0x5b3777(0x285)](_0xab0145)[_0x5b3777(0x4e7)](_0x548618?.[_0x5b3777(0x4e7)]??0x0)[_0x5b3777(0x31a)]();}catch{return[];}}async[a0_0x3656ce(0x166)](_0x3b6385,_0x392b3b){const _0x4f17b9=a0_0x3656ce;try{let _0x4c2cc5=this[_0x4f17b9(0x3e2)](_0x392b3b),_0x540217=A(_0x3b6385[_0x4f17b9(0x75e)]);return await _0x4c2cc5[_0x4f17b9(0x166)](_0x540217)[_0x4f17b9(0x31a)]();}catch{return null;}}async[a0_0x3656ce(0x73d)](_0x3a1036){const _0x56e16d=a0_0x3656ce;try{return await this['getContactModelForOwner'](_0x3a1036)[_0x56e16d(0x2ea)][_0x56e16d(0x385)](),{'success':!0x0};}catch(_0x48b480){return console['error'](_0x48b480),{'success':!0x1,'error':_0x48b480};}}},Ke=require(a0_0x3656ce(0x3e9)),cc=require(a0_0x3656ce(0x308)),cs=new v(a0_0x3656ce(0x567)),J=class{[a0_0x3656ce(0x423)](_0x197662,_0x4cde05=!0x0){const _0xbe3379=a0_0x3656ce;let _0xe19de='/'+_0x197662;return _0x4cde05&&(_0xe19de+=_0xbe3379(0x598)),_0xe19de;}async['dataValidate'](_0x227422){const _0x5ec79e=a0_0x3656ce;let {request:_0x117a3b,schema:_0x5b9dd9,ClassRef:_0x4845df,execute:_0x2da2d2}=_0x227422,_0xf782c6=new _0x4845df(),_0xd94338=_0x117a3b[_0x5ec79e(0x317)],_0x3c15a4=_0x117a3b[_0x5ec79e(0x6f0)];_0x117a3b?.['query']&&Object[_0x5ec79e(0x1aa)](_0x117a3b[_0x5ec79e(0x1d9)])[_0x5ec79e(0x391)]>0x0&&Object[_0x5ec79e(0x4f7)](_0x3c15a4,_0x117a3b[_0x5ec79e(0x1d9)]),_0x117a3b['originalUrl'][_0x5ec79e(0x516)](_0x5ec79e(0x4c3))&&Object[_0x5ec79e(0x4f7)](_0x3c15a4,_0xd94338),Object['assign'](_0xf782c6,_0xd94338);let _0x55b054=_0x5b9dd9?(0x0,Ke[_0x5ec79e(0x2ab)])(_0xf782c6,_0x5b9dd9):{'valid':!0x0,'errors':[]};if(!_0x55b054[_0x5ec79e(0x19d)]){let _0x43b8a1=_0x55b054[_0x5ec79e(0x35c)][_0x5ec79e(0x568)](({property:_0x4bbbdc,stack:_0x393faf,schema:_0x58ef44})=>{const _0x4b05b8=_0x5ec79e;let _0x351c6e;return _0x58ef44[_0x4b05b8(0x71a)]?_0x351c6e=_0x58ef44[_0x4b05b8(0x71a)]:_0x351c6e=_0x393faf[_0x4b05b8(0x69a)]('instance.',''),{'property':_0x4bbbdc[_0x4b05b8(0x69a)](_0x4b05b8(0x5c8),''),'message':_0x351c6e};});throw cs['error']([..._0x43b8a1]),new h(..._0x43b8a1);}return await _0x2da2d2(_0x3c15a4,_0xf782c6);}async['groupValidate'](_0x1e6619){const _0x1ce293=a0_0x3656ce;let {request:_0x19f15d,ClassRef:_0x320fc8,schema:_0x3b9a3a,execute:_0x57d71c}=_0x1e6619,_0x1a8052=_0x19f15d[_0x1ce293(0x1d9)];if(!_0x1a8052?.[_0x1ce293(0x540)])throw new h(_0x1ce293(0x708),_0x1ce293(0x785));let _0x1582d3=_0x19f15d[_0x1ce293(0x6f0)],_0x302277=_0x19f15d[_0x1ce293(0x317)],_0x368b00=new _0x320fc8();Object[_0x1ce293(0x4f7)](_0x302277,_0x1a8052),Object[_0x1ce293(0x4f7)](_0x368b00,_0x302277);let _0x55fd14=(0x0,Ke['validate'])(_0x368b00,_0x3b9a3a);if(!_0x55fd14[_0x1ce293(0x19d)]){let _0x2e1483=_0x55fd14[_0x1ce293(0x35c)][_0x1ce293(0x568)](({property:_0x4011c8,stack:_0x48cd37,schema:_0x5d9b49})=>{const _0x325cb9=_0x1ce293;let _0x5b1355;return _0x5d9b49[_0x325cb9(0x71a)]?_0x5b1355=_0x5d9b49['description']:_0x5b1355=_0x48cd37['replace'](_0x325cb9(0x5c8),''),{'property':_0x4011c8[_0x325cb9(0x69a)](_0x325cb9(0x5c8),''),'message':_0x5b1355};});throw cs['error']([..._0x2e1483]),new h(..._0x2e1483);}return await _0x57d71c(_0x1582d3,_0x368b00);}async['joinGroupValidate'](_0x49d4ca){const _0x1e3931=a0_0x3656ce;let {request:_0x436765,ClassRef:_0x4aaefb,schema:_0x289bc1,execute:_0x8ff481}=_0x49d4ca,_0x5a63b1=_0x436765[_0x1e3931(0x317)];if(!_0x5a63b1?.[_0x1e3931(0x764)])throw new h(_0x1e3931(0x421),_0x1e3931(0x5fd));let _0x69139a=_0x436765['params'],_0x4f8604=_0x436765[_0x1e3931(0x317)],_0x48cbd9=new _0x4aaefb();Object[_0x1e3931(0x4f7)](_0x4f8604,_0x5a63b1),Object[_0x1e3931(0x4f7)](_0x48cbd9,_0x4f8604);let _0x152202=(0x0,Ke[_0x1e3931(0x2ab)])(_0x48cbd9,_0x289bc1);if(!_0x152202['valid']){let _0x17e497=_0x152202['errors']['map'](({property:_0x1c43b0,stack:_0x5e7064,schema:_0x15e775})=>{const _0x242cbd=_0x1e3931;let _0x30d597;return _0x15e775[_0x242cbd(0x71a)]?_0x30d597=_0x15e775[_0x242cbd(0x71a)]:_0x30d597=_0x5e7064[_0x242cbd(0x69a)](_0x242cbd(0x5c8),''),{'property':_0x1c43b0[_0x242cbd(0x69a)](_0x242cbd(0x5c8),''),'message':_0x30d597};});throw cs[_0x1e3931(0x417)]([..._0x17e497]),new h(..._0x17e497);}return await _0x8ff481(_0x69139a,_0x48cbd9);}},S=class{},Cc=new v(a0_0x3656ce(0x364)),Qe=class extends J{constructor(..._0x2ff6cd){const _0x5c2eb5=a0_0x3656ce;super(),this['router']=(0x0,Ya['Router'])(),this[_0x5c2eb5(0x38c)][_0x5c2eb5(0x282)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x1c9)),..._0x2ff6cd,async(_0x3a1c12,_0x151904)=>{const _0x5aed7a=_0x5c2eb5;let _0x1cac08=await this[_0x5aed7a(0x3a4)]({'request':_0x3a1c12,'schema':ja,'ClassRef':ke,'execute':(_0x5dccc9,_0x400187)=>D[_0x5aed7a(0x1c9)](_0x5dccc9,_0x400187)});return _0x151904[_0x5aed7a(0x6b6)](0xc9)[_0x5aed7a(0x4c7)](_0x1cac08);})[_0x5c2eb5(0x282)](this['routerPath'](_0x5c2eb5(0x38d)),..._0x2ff6cd,async(_0x526048,_0x39789d)=>{const _0x1890a8=_0x5c2eb5;let _0x31aa0c=await this[_0x1890a8(0x3a4)]({'request':_0x526048,'schema':Da,'ClassRef':Le,'execute':(_0x8723d,_0x1dbd12)=>D['whatsappNumber'](_0x8723d,_0x1dbd12)});return _0x39789d[_0x1890a8(0x6b6)](0xc9)['json'](_0x31aa0c);})[_0x5c2eb5(0x282)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x606)),..._0x2ff6cd,async(_0x13bfd0,_0x7700f0)=>{const _0x57288d=_0x5c2eb5;let _0x3971c6=await this[_0x57288d(0x3a4)]({'request':_0x13bfd0,'schema':C,'ClassRef':S,'execute':(_0x3b6cc8,_0x29d484)=>D[_0x57288d(0x606)](_0x3b6cc8,_0x29d484)});return _0x7700f0[_0x57288d(0x6b6)](0xc9)[_0x57288d(0x4c7)](_0x3971c6);})[_0x5c2eb5(0x240)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x1d6)),..._0x2ff6cd,async(_0x5a330e,_0x24ff23)=>{const _0x258b10=_0x5c2eb5;let _0x2a539b=await this['dataValidate']({'request':_0x5a330e,'schema':xa,'ClassRef':Je,'execute':(_0x3db1bd,_0x414673)=>D[_0x258b10(0x331)](_0x3db1bd,_0x414673)});return _0x24ff23[_0x258b10(0x6b6)](0xc9)[_0x258b10(0x4c7)](_0x2a539b);})[_0x5c2eb5(0x240)](this['routerPath'](_0x5c2eb5(0x5bb)),..._0x2ff6cd,async(_0x9b1f8f,_0x561989)=>{const _0x1c9743=_0x5c2eb5;let _0x342699=await this[_0x1c9743(0x3a4)]({'request':_0x9b1f8f,'schema':Pa,'ClassRef':je,'execute':(_0x57836e,_0x16c865)=>D[_0x1c9743(0x5bb)](_0x57836e,_0x16c865)});return _0x561989[_0x1c9743(0x6b6)](0xc9)[_0x1c9743(0x4c7)](_0x342699);})[_0x5c2eb5(0x27c)](this[_0x5c2eb5(0x423)]('deleteMessageForEveryone'),..._0x2ff6cd,async(_0x1d810a,_0x683a15)=>{const _0x3ab702=_0x5c2eb5;let _0xf8a0f8=await this[_0x3ab702(0x3a4)]({'request':_0x1d810a,'schema':$a,'ClassRef':Ve,'execute':(_0x1e6449,_0xec6c6f)=>D[_0x3ab702(0x77c)](_0x1e6449,_0xec6c6f)});return _0x683a15[_0x3ab702(0x6b6)](0xc9)[_0x3ab702(0x4c7)](_0xf8a0f8);})[_0x5c2eb5(0x282)](this['routerPath'](_0x5c2eb5(0x54c)),..._0x2ff6cd,async(_0x51235c,_0x411817)=>{const _0x5a7446=_0x5c2eb5;let _0x12e95f=await this['dataValidate']({'request':_0x51235c,'schema':we,'ClassRef':ye,'execute':(_0x4409d1,_0x2a5735)=>D[_0x5a7446(0x65d)](_0x4409d1,_0x2a5735)});return _0x411817[_0x5a7446(0x6b6)](0xc8)[_0x5a7446(0x4c7)](_0x12e95f);})['post'](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x1e0)),..._0x2ff6cd,async(_0x2733b1,_0x584441)=>{const _0x2a6f61=_0x5c2eb5;let _0xf5223=await this[_0x2a6f61(0x3a4)]({'request':_0x2733b1,'schema':Ua,'ClassRef':ye,'execute':(_0x2f0221,_0xc8a588)=>D['fetchProfile'](_0x2f0221,_0xc8a588)});return _0x584441[_0x2a6f61(0x6b6)](0xc8)[_0x2a6f61(0x4c7)](_0xf5223);})[_0x5c2eb5(0x282)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x3d5)),..._0x2ff6cd,async(_0x2cee70,_0x373ca2)=>{const _0x136f30=_0x5c2eb5;let _0x3c1a1b=await this[_0x136f30(0x3a4)]({'request':_0x2cee70,'schema':ka,'ClassRef':ze,'execute':(_0x106f27,_0x429a26)=>D[_0x136f30(0x479)](_0x106f27,_0x429a26)});return _0x373ca2[_0x136f30(0x6b6)](0xc8)['json'](_0x3c1a1b);})['post'](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x3ca)),..._0x2ff6cd,async(_0x4b891b,_0x220926)=>{const _0x26690e=_0x5c2eb5;let _0x3a06a5=await this[_0x26690e(0x3a4)]({'request':_0x4b891b,'schema':null,'ClassRef':Object,'execute':(_0x450fd4,_0x5c7528)=>D[_0x26690e(0x3ca)](_0x450fd4,_0x5c7528)});return _0x220926[_0x26690e(0x6b6)](0xc9)[_0x26690e(0x4c7)](_0x3a06a5);})[_0x5c2eb5(0x282)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x572)),..._0x2ff6cd,async(_0xb93d0e,_0x645192)=>{const _0xec9b95=_0x5c2eb5;let _0x5e0a7=await this['dataValidate']({'request':_0xb93d0e,'schema':Ja,'ClassRef':Pe,'execute':(_0x3e9f16,_0x5ecde7)=>D[_0xec9b95(0x3e3)](_0x3e9f16,_0x5ecde7)});return _0x645192[_0xec9b95(0x6b6)](0xc8)[_0xec9b95(0x4c7)](_0x5e0a7);})[_0x5c2eb5(0x786)](this[_0x5c2eb5(0x423)]('findChats'),..._0x2ff6cd,async(_0x705de9,_0x1b627b)=>{const _0x104a15=_0x5c2eb5;let _0x131a6b=await this['dataValidate']({'request':_0x705de9,'schema':null,'ClassRef':S,'execute':_0x5be2dd=>D[_0x104a15(0x607)](_0x5be2dd)});return _0x1b627b['status'](0xc8)[_0x104a15(0x4c7)](_0x131a6b);})[_0x5c2eb5(0x786)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x45a)),..._0x2ff6cd,async(_0x24bb24,_0x559fd6)=>{const _0xea5e1d=_0x5c2eb5;let _0x555a18=await this[_0xea5e1d(0x3a4)]({'request':_0x24bb24,'schema':null,'ClassRef':S,'execute':_0x2906c9=>D['fetchLabels'](_0x2906c9)});return _0x559fd6['status'](0xc8)[_0xea5e1d(0x4c7)](_0x555a18);})[_0x5c2eb5(0x240)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x3ee)),..._0x2ff6cd,async(_0x4f7df5,_0x58455d)=>{const _0x7e6609=_0x5c2eb5;let _0x182e3d=await this[_0x7e6609(0x3a4)]({'request':_0x4f7df5,'schema':null,'ClassRef':Array,'execute':(_0x4e0e64,_0xa064be)=>D['importChats'](_0x4e0e64,_0xa064be)});return _0x58455d['status'](0xc8)['json'](_0x182e3d);})[_0x5c2eb5(0x786)](this[_0x5c2eb5(0x423)]('fetchPrivacySettings'),..._0x2ff6cd,async(_0x239185,_0x4a3982)=>{const _0x37e58a=_0x5c2eb5;let _0x42287d=await this['dataValidate']({'request':_0x239185,'schema':null,'ClassRef':S,'execute':_0x4c6168=>D[_0x37e58a(0x306)](_0x4c6168)});return _0x4a3982[_0x37e58a(0x6b6)](0xc8)[_0x37e58a(0x4c7)](_0x42287d);})[_0x5c2eb5(0x240)](this['routerPath'](_0x5c2eb5(0x4ff)),..._0x2ff6cd,async(_0x44f79e,_0x58427)=>{const _0x39c8af=_0x5c2eb5;let _0x400290=await this[_0x39c8af(0x3a4)]({'request':_0x44f79e,'schema':_a,'ClassRef':qe,'execute':(_0x5583d0,_0x5ad373)=>D[_0x39c8af(0x4ff)](_0x5583d0,_0x5ad373)});return _0x58427[_0x39c8af(0x6b6)](0xc9)[_0x39c8af(0x4c7)](_0x400290);})[_0x5c2eb5(0x282)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x5b8)),..._0x2ff6cd,async(_0x212422,_0x1f51da)=>{const _0x39883a=_0x5c2eb5;let _0x35d76d=await this[_0x39883a(0x3a4)]({'request':_0x212422,'schema':we,'ClassRef':ge,'execute':(_0x401e98,_0x4928f8)=>D[_0x39883a(0x5b8)](_0x401e98,_0x4928f8)});return _0x1f51da[_0x39883a(0x6b6)](0xc8)[_0x39883a(0x4c7)](_0x35d76d);})[_0x5c2eb5(0x282)](this['routerPath'](_0x5c2eb5(0x6b8)),..._0x2ff6cd,async(_0x359fdd,_0x4fb0a5)=>{const _0x175120=_0x5c2eb5;let _0x5e80ac=await this[_0x175120(0x3a4)]({'request':_0x359fdd,'schema':La,'ClassRef':Fe,'execute':(_0x56dc8c,_0x1e5d38)=>D[_0x175120(0x6b8)](_0x56dc8c,_0x1e5d38)});return _0x4fb0a5[_0x175120(0x6b6)](0xc8)[_0x175120(0x4c7)](_0x5e80ac);})[_0x5c2eb5(0x282)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x5f4)),..._0x2ff6cd,async(_0x14e4c5,_0x4e5c62)=>{const _0x8d98af=_0x5c2eb5;let _0x53ca81=await this[_0x8d98af(0x3a4)]({'request':_0x14e4c5,'schema':Fa,'ClassRef':Ue,'execute':(_0x25fc36,_0x3806a6)=>D[_0x8d98af(0x5f4)](_0x25fc36,_0x3806a6)});return _0x4e5c62[_0x8d98af(0x6b6)](0xc8)[_0x8d98af(0x4c7)](_0x53ca81);})[_0x5c2eb5(0x240)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x32b)),..._0x2ff6cd,async(_0x40844f,_0x4ace0f)=>{const _0x2f452e=_0x5c2eb5;let _0x4c023a=await this['dataValidate']({'request':_0x40844f,'schema':we,'ClassRef':ge,'execute':(_0x88f39f,_0x3cde4e)=>D['updateProfilePicture'](_0x88f39f,_0x3cde4e)});return _0x4ace0f[_0x2f452e(0x6b6)](0xc8)[_0x2f452e(0x4c7)](_0x4c023a);})[_0x5c2eb5(0x27c)](this[_0x5c2eb5(0x423)](_0x5c2eb5(0x2ad)),..._0x2ff6cd,async(_0x26051d,_0x51bced)=>{const _0x121070=_0x5c2eb5;let _0x1ddc53=await this[_0x121070(0x3a4)]({'request':_0x26051d,'schema':we,'ClassRef':ge,'execute':(_0x4064ad,_0xd8124b)=>D['removeProfilePicture'](_0x4064ad,_0xd8124b)});return _0x51bced['status'](0xc8)['json'](_0x1ddc53);});}},Xa=require(a0_0x3656ce(0x5f9)),Ye=class{},Xe=class{},Ze=class{},et=class{},tt=class{},Q=class{},st=class{},at=class extends Q{},rt=class extends Q{},ot=class extends J{constructor(..._0x2f33c3){const _0x5b49ab=a0_0x3656ce;super(),this[_0x5b49ab(0x38c)]=(0x0,Xa[_0x5b49ab(0x269)])(),this[_0x5b49ab(0x38c)][_0x5b49ab(0x282)](this['routerPath']('create'),..._0x2f33c3,async(_0x3033bc,_0x4f1437)=>{const _0xde4d1a=_0x5b49ab;let _0x49a34a=await this[_0xde4d1a(0x3a4)]({'request':_0x3033bc,'schema':qa,'ClassRef':Ye,'execute':(_0x8fe875,_0x709042)=>U[_0xde4d1a(0x5fb)](_0x8fe875,_0x709042)});_0x4f1437['status'](0xc9)['json'](_0x49a34a);})[_0x5b49ab(0x240)](this[_0x5b49ab(0x423)]('updateGroupPicture'),..._0x2f33c3,async(_0xd167c4,_0x336b5e)=>{const _0x833cf8=_0x5b49ab;let _0xff3e90=await this['groupValidate']({'request':_0xd167c4,'schema':Ga,'ClassRef':Xe,'execute':(_0x264747,_0x2ba54d)=>U[_0x833cf8(0x60f)](_0x264747,_0x2ba54d)});_0x336b5e[_0x833cf8(0x6b6)](0xc9)[_0x833cf8(0x4c7)](_0xff3e90);})[_0x5b49ab(0x240)](this[_0x5b49ab(0x423)](_0x5b49ab(0x56d)),..._0x2f33c3,async(_0xc4a0c4,_0x392005)=>{const _0x1357f6=_0x5b49ab;let _0x2fe5da=await this[_0x1357f6(0x416)]({'request':_0xc4a0c4,'schema':Wa,'ClassRef':Ze,'execute':(_0x13dd80,_0x1ea329)=>U['groupDesc'](_0x13dd80,_0x1ea329)});_0x392005[_0x1357f6(0x6b6)](0xc9)[_0x1357f6(0x4c7)](_0x2fe5da);})[_0x5b49ab(0x240)](this[_0x5b49ab(0x423)](_0x5b49ab(0x37e)),..._0x2f33c3,async(_0x284322,_0x2039e7)=>{const _0x3b5919=_0x5b49ab;let _0x128627=await this[_0x3b5919(0x416)]({'request':_0x284322,'schema':za,'ClassRef':et,'execute':(_0x509d72,_0x2f473a)=>U[_0x3b5919(0x37e)](_0x509d72,_0x2f473a)});_0x2039e7[_0x3b5919(0x6b6)](0xc9)[_0x3b5919(0x4c7)](_0x128627);})[_0x5b49ab(0x240)](this[_0x5b49ab(0x423)](_0x5b49ab(0x6d6)),..._0x2f33c3,async(_0x3da6e8,_0x4c54d9)=>{const _0x8a29d5=_0x5b49ab;let _0x3134dc=await this[_0x8a29d5(0x416)]({'request':_0x3da6e8,'schema':Ha,'ClassRef':tt,'execute':(_0x17da58,_0x17685f)=>U[_0x8a29d5(0x6d6)](_0x17da58,_0x17685f)});_0x4c54d9[_0x8a29d5(0x6b6)](0xc9)[_0x8a29d5(0x4c7)](_0x3134dc);})[_0x5b49ab(0x240)](this['routerPath'](_0x5b49ab(0x599)),..._0x2f33c3,async(_0x545d5c,_0x3e8cdf)=>{const _0xb965e4=_0x5b49ab;let _0x58fc44=await this['groupValidate']({'request':_0x545d5c,'schema':Ba,'ClassRef':rt,'execute':(_0x46e522,_0x669cde)=>U[_0xb965e4(0x599)](_0x46e522,_0x669cde)});_0x3e8cdf['status'](0xc9)[_0xb965e4(0x4c7)](_0x58fc44);})['get'](this[_0x5b49ab(0x423)](_0x5b49ab(0x661)),..._0x2f33c3,async(_0x37dde5,_0x15e174)=>{const _0x14aef4=_0x5b49ab;let _0x50c56e=await this[_0x14aef4(0x416)]({'request':_0x37dde5,'schema':be,'ClassRef':Q,'execute':(_0x152b51,_0x15b8c0)=>U[_0x14aef4(0x17f)](_0x152b51,_0x15b8c0)});_0x15e174[_0x14aef4(0x6b6)](0xc8)[_0x14aef4(0x4c7)](_0x50c56e);})[_0x5b49ab(0x786)](this['routerPath']('findGroups'),..._0x2f33c3,async(_0x3a6e93,_0x4801d9)=>{const _0x11fae6=_0x5b49ab;let _0x18859f=await this[_0x11fae6(0x3a4)]({'request':_0x3a6e93,'schema':C,'ClassRef':S,'execute':_0x1f4b93=>U[_0x11fae6(0x59c)](_0x1f4b93)});_0x4801d9[_0x11fae6(0x6b6)](0xc8)[_0x11fae6(0x4c7)](_0x18859f);})[_0x5b49ab(0x786)](this[_0x5b49ab(0x423)](_0x5b49ab(0x704)),..._0x2f33c3,async(_0x1ec9b9,_0x3cb6a3)=>{const _0x5b43da=_0x5b49ab;let _0x4e37b5=await this[_0x5b43da(0x416)]({'request':_0x1ec9b9,'schema':be,'ClassRef':Q,'execute':(_0x9ad894,_0xd9ce27)=>U[_0x5b43da(0x74c)](_0x9ad894,_0xd9ce27)});_0x3cb6a3[_0x5b43da(0x6b6)](0xc8)[_0x5b43da(0x4c7)](_0x4e37b5);})[_0x5b49ab(0x786)](this[_0x5b49ab(0x423)](_0x5b49ab(0x764)),..._0x2f33c3,async(_0x6cba2c,_0x3bd67e)=>{const _0x588f3d=_0x5b49ab;let _0x3ae486=await this[_0x588f3d(0x416)]({'request':_0x6cba2c,'schema':be,'ClassRef':Q,'execute':(_0x56c00c,_0x54dbf7)=>U[_0x588f3d(0x764)](_0x56c00c,_0x54dbf7)});_0x3bd67e['status'](0xc8)['json'](_0x3ae486);})[_0x5b49ab(0x240)](this[_0x5b49ab(0x423)](_0x5b49ab(0x32e)),..._0x2f33c3,async(_0x22c194,_0x3875dc)=>{const _0x40b94f=_0x5b49ab;let _0x1ac4c6=await this['joinGroupValidate']({'request':_0x22c194,'schema':Ka,'ClassRef':st,'execute':(_0x53c7f9,_0x14c25a)=>U['joinGroup'](_0x53c7f9,_0x14c25a)});_0x3875dc[_0x40b94f(0x6b6)](0xc9)[_0x40b94f(0x4c7)](_0x1ac4c6);})['put'](this['routerPath']('revokeInviteCode'),..._0x2f33c3,async(_0x365e0a,_0x45e885)=>{const _0x9bc0ab=_0x5b49ab;let _0x809f71=await this[_0x9bc0ab(0x416)]({'request':_0x365e0a,'schema':be,'ClassRef':Q,'execute':(_0x48c357,_0x2d8fcc)=>U['revokeInviteCode'](_0x48c357,_0x2d8fcc)});_0x45e885[_0x9bc0ab(0x6b6)](0xc9)[_0x9bc0ab(0x4c7)](_0x809f71);})[_0x5b49ab(0x240)](this[_0x5b49ab(0x423)]('updateParticipant'),..._0x2f33c3,async(_0x510120,_0x1b5512)=>{const _0x105329=_0x5b49ab;let _0x4f5a88=await this[_0x105329(0x416)]({'request':_0x510120,'schema':Va,'ClassRef':at,'execute':(_0x3dfd49,_0x29af35)=>U[_0x105329(0x75c)](_0x3dfd49,_0x29af35)});_0x1b5512['status'](0xc9)[_0x105329(0x4c7)](_0x4f5a88);})['delete'](this['routerPath']('leaveGroup'),..._0x2f33c3,async(_0x36d5bf,_0x3f9a04)=>{const _0x13083f=_0x5b49ab;let _0x4441b4=await this[_0x13083f(0x416)]({'request':_0x36d5bf,'schema':{},'ClassRef':Q,'execute':(_0x9a4f7b,_0x324ff9)=>U[_0x13083f(0x749)](_0x9a4f7b,_0x324ff9)});_0x3f9a04[_0x13083f(0x6b6)](0xc8)['json'](_0x4441b4);});}},Za=require('express'),it=class extends J{constructor(_0x3d2e5c,..._0x57d865){const _0x4b3dfc=a0_0x3656ce;super(),this['configService']=_0x3d2e5c,this[_0x4b3dfc(0x38c)]=(0x0,Za[_0x4b3dfc(0x269)])();let _0xe0272d=_0x3d2e5c['get'](_0x4b3dfc(0x173));this[_0x4b3dfc(0x38c)][_0x4b3dfc(0x282)](_0x4b3dfc(0x645),..._0x57d865,async(_0xc0d57c,_0x227c22)=>{const _0x1fca11=_0x4b3dfc;let {instanceName:_0x42d263,apikey:_0xfc4a11,number:_0x4230ec}=_0xc0d57c[_0x1fca11(0x317)],_0x2f8ae=await ae[_0x1fca11(0x72d)]({'instanceName':_0x42d263,'apikey':_0xfc4a11,'number':_0x4230ec});return _0x227c22[_0x1fca11(0x6b6)](0xc9)[_0x1fca11(0x4c7)](_0x2f8ae);})[_0x4b3dfc(0x240)](this[_0x4b3dfc(0x423)](_0x4b3dfc(0x27d)),..._0x57d865,async(_0x5bc127,_0xd8af3)=>{const _0x30a91e=_0x4b3dfc;let _0x5993b5=await this[_0x30a91e(0x3a4)]({'request':_0x5bc127,'schema':C,'ClassRef':S,'execute':_0x1bfd80=>ae[_0x30a91e(0x65e)](_0x1bfd80)});return _0xd8af3[_0x30a91e(0x6b6)](0xc8)['json'](_0x5993b5);})[_0x4b3dfc(0x282)](this[_0x4b3dfc(0x423)](_0x4b3dfc(0x1de)),..._0x57d865,async(_0x3bbe02,_0x1e81fa)=>{const _0x498e76=_0x4b3dfc;let _0x475c75=await this[_0x498e76(0x3a4)]({'request':_0x3bbe02,'schema':C,'ClassRef':S,'execute':_0xa4b846=>ae[_0x498e76(0x5c0)](_0xa4b846)});return _0x1e81fa[_0x498e76(0x6b6)](0xc8)['json'](_0x475c75);})[_0x4b3dfc(0x786)](this['routerPath'](_0x4b3dfc(0x4d5)),..._0x57d865,async(_0x271d85,_0x431373)=>{const _0x51e9ef=_0x4b3dfc;let _0x2fabfa=await this[_0x51e9ef(0x3a4)]({'request':_0x271d85,'schema':C,'ClassRef':S,'execute':_0x400e6a=>ae['connectionState'](_0x400e6a)});return _0x431373['status'](0xc8)['json'](_0x2fabfa);})[_0x4b3dfc(0x786)](this[_0x4b3dfc(0x423)](_0x4b3dfc(0x38e),!0x1),..._0x57d865,async(_0x2bfcd8,_0x2a4200)=>{const _0x1654d0=_0x4b3dfc;let _0x4d2ff2=await this[_0x1654d0(0x3a4)]({'request':_0x2bfcd8,'schema':null,'ClassRef':S,'execute':_0x2fabfd=>ae[_0x1654d0(0x38e)](_0x2fabfd)});return _0x2a4200['status'](0xc8)['json'](_0x4d2ff2);})['delete'](this[_0x4b3dfc(0x423)](_0x4b3dfc(0x245)),..._0x57d865,async(_0x3b19f3,_0x4ef29b)=>{const _0x157db8=_0x4b3dfc;let _0x1676b1=await this[_0x157db8(0x3a4)]({'request':_0x3b19f3,'schema':C,'ClassRef':S,'execute':_0x22a72b=>ae['logout'](_0x22a72b)});return _0x4ef29b[_0x157db8(0x6b6)](0xc8)['json'](_0x1676b1);})[_0x4b3dfc(0x27c)](this[_0x4b3dfc(0x423)](_0x4b3dfc(0x27c)),..._0x57d865,async(_0x1ea9d6,_0x2893fd)=>{const _0x46b59f=_0x4b3dfc;let _0x10bd4b=await this[_0x46b59f(0x3a4)]({'request':_0x1ea9d6,'schema':C,'ClassRef':S,'execute':_0x38f2be=>ae[_0x46b59f(0x3d1)](_0x38f2be)});return _0x2893fd[_0x46b59f(0x6b6)](0xc8)[_0x46b59f(0x4c7)](_0x10bd4b);});}},er=require('express'),ls=class{},G=class extends ls{},nt=class extends G{},ct=class extends G{},lt=class extends G{},ut=class extends G{},Se=class extends G{},dt=class extends G{},pt=class extends G{},gt=class extends G{},ht=class extends G{},mt=class extends G{},ft=class{},yt=class extends J{constructor(..._0x58c7d0){const _0x27c6d9=a0_0x3656ce;super(),this['router']=(0x0,er[_0x27c6d9(0x269)])(),this['router'][_0x27c6d9(0x282)](this[_0x27c6d9(0x423)]('sendText'),..._0x58c7d0,async(_0x59e13e,_0x1b2bb7)=>{const _0x1e6a11=_0x27c6d9;let _0xe1c396=await this[_0x1e6a11(0x3a4)]({'request':_0x59e13e,'schema':wa,'ClassRef':nt,'execute':(_0x489771,_0x268131)=>B['sendText'](_0x489771,_0x268131)});return _0x1b2bb7[_0x1e6a11(0x6b6)](0xc9)['json'](_0xe1c396);})[_0x27c6d9(0x282)](this['routerPath'](_0x27c6d9(0x4cf)),..._0x58c7d0,async(_0x40a02c,_0x2b331b)=>{const _0x46eafc=_0x27c6d9;let _0x4ceccb=await this['dataValidate']({'request':_0x40a02c,'schema':Ma,'ClassRef':Se,'execute':(_0x37ceba,_0x592e3e)=>B['sendMedia'](_0x37ceba,_0x592e3e)});return _0x2b331b['status'](0xc9)[_0x46eafc(0x4c7)](_0x4ceccb);})['post'](this[_0x27c6d9(0x423)]('sendMenu'),..._0x58c7d0,async(_0x52cf6f,_0x35f2db)=>{const _0x43c618=_0x27c6d9;let _0x15a033=await this[_0x43c618(0x3a4)]({'request':_0x52cf6f,'schema':Na,'ClassRef':ut,'execute':(_0x4966b5,_0x199202)=>B[_0x43c618(0x529)](_0x4966b5,_0x199202)});return _0x35f2db[_0x43c618(0x6b6)](0xc9)[_0x43c618(0x4c7)](_0x15a033);})['post'](this[_0x27c6d9(0x423)](_0x27c6d9(0x23e)),..._0x58c7d0,async(_0x37e3e2,_0x55dc15)=>{const _0x75bdbc=_0x27c6d9;let _0x3f3329=await this[_0x75bdbc(0x3a4)]({'request':_0x37e3e2,'schema':Ca,'ClassRef':Se,'execute':(_0x527eef,_0x266f99)=>B[_0x75bdbc(0x23e)](_0x527eef,_0x266f99)});return _0x55dc15[_0x75bdbc(0x6b6)](0xc9)['json'](_0x3f3329);})['post'](this['routerPath'](_0x27c6d9(0x3fe)),..._0x58c7d0,async(_0x62d375,_0x3f0a52)=>{const _0x2d007c=_0x27c6d9;let _0x3ab04e=await this[_0x2d007c(0x3a4)]({'request':_0x62d375,'schema':Ra,'ClassRef':pt,'execute':(_0x57ff0e,_0x3b2cc2)=>B[_0x2d007c(0x3fe)](_0x57ff0e,_0x3b2cc2)});return _0x3f0a52['status'](0xc9)[_0x2d007c(0x4c7)](_0x3ab04e);})[_0x27c6d9(0x282)](this[_0x27c6d9(0x423)](_0x27c6d9(0x4d4)),..._0x58c7d0,async(_0x1c4dcf,_0x8eb30f)=>{const _0x1f9750=_0x27c6d9;let _0x457b27=await this[_0x1f9750(0x3a4)]({'request':_0x1c4dcf,'schema':Ta,'ClassRef':gt,'execute':(_0x28a88d,_0x4a5492)=>B['sendLocation'](_0x28a88d,_0x4a5492)});return _0x8eb30f['status'](0xc9)[_0x1f9750(0x4c7)](_0x457b27);})[_0x27c6d9(0x282)](this['routerPath'](_0x27c6d9(0x67b)),..._0x58c7d0,async(_0x237d8e,_0x494ea4)=>{const _0x20084e=_0x27c6d9;let _0x51848e=await this[_0x20084e(0x3a4)]({'request':_0x237d8e,'schema':Aa,'ClassRef':ht,'execute':(_0x592a01,_0x3857d9)=>B[_0x20084e(0x67b)](_0x592a01,_0x3857d9)});return _0x494ea4[_0x20084e(0x6b6)](0xc9)[_0x20084e(0x4c7)](_0x51848e);})['post'](this[_0x27c6d9(0x423)](_0x27c6d9(0x387)),..._0x58c7d0,async(_0x345ab5,_0x2f937d)=>{const _0x3e6490=_0x27c6d9;let _0x299212=await this[_0x3e6490(0x3a4)]({'request':_0x345ab5,'schema':Oa,'ClassRef':mt,'execute':(_0xa4b867,_0x2d7c06)=>B[_0x3e6490(0x387)](_0xa4b867,_0x2d7c06)});return _0x2f937d[_0x3e6490(0x6b6)](0xc9)[_0x3e6490(0x4c7)](_0x299212);})[_0x27c6d9(0x282)](this[_0x27c6d9(0x423)](_0x27c6d9(0x327)),..._0x58c7d0,async(_0x5415e7,_0x1c46be)=>{const _0x23344f=_0x27c6d9;let _0x225656=await this[_0x23344f(0x3a4)]({'request':_0x5415e7,'schema':Ia,'ClassRef':ft,'execute':(_0x14161e,_0x57cabe)=>B[_0x23344f(0x327)](_0x14161e,_0x57cabe)});return _0x1c46be['status'](0xc9)[_0x23344f(0x4c7)](_0x225656);})[_0x27c6d9(0x282)](this['routerPath'](_0x27c6d9(0x404)),..._0x58c7d0,async(_0x3ea32c,_0x2b8cea)=>{const _0x33fa11=_0x27c6d9;let _0x4f0007=await this[_0x33fa11(0x3a4)]({'request':_0x3ea32c,'schema':va,'ClassRef':lt,'execute':(_0x201d2a,_0xbd03d1)=>B[_0x33fa11(0x404)](_0x201d2a,_0xbd03d1)});return _0x2b8cea[_0x33fa11(0x6b6)](0xc9)['json'](_0x4f0007);})['post'](this[_0x27c6d9(0x423)](_0x27c6d9(0x753)),..._0x58c7d0,async(_0x134305,_0x5384ab)=>{const _0x21d92b=_0x27c6d9;let _0x53f566=await this['dataValidate']({'request':_0x134305,'schema':Ea,'ClassRef':ct,'execute':(_0x59e122,_0x578aae)=>B[_0x21d92b(0x753)](_0x59e122,_0x578aae)});return _0x5384ab['status'](0xc9)[_0x21d92b(0x4c7)](_0x53f566);})['post'](this[_0x27c6d9(0x423)](_0x27c6d9(0x168)),..._0x58c7d0,async(_0x555a2c,_0x19e79f)=>{const _0x63d649=_0x27c6d9;let _0x1385ee=await this[_0x63d649(0x3a4)]({'request':_0x555a2c,'schema':Sa,'ClassRef':dt,'execute':(_0x31f340,_0x15f789)=>B[_0x63d649(0x168)](_0x31f340,_0x15f789)});return _0x19e79f[_0x63d649(0x6b6)](0xc9)[_0x63d649(0x4c7)](_0x1385ee);});}},tr=require(a0_0x3656ce(0x5f9)),wt=class{},bt=class extends J{constructor(..._0x36cdf6){const _0x3ddb0c=a0_0x3656ce;super(),this[_0x3ddb0c(0x38c)]=(0x0,tr[_0x3ddb0c(0x269)])(),this[_0x3ddb0c(0x38c)][_0x3ddb0c(0x282)](this['routerPath']('set'),..._0x36cdf6,async(_0x48c0bb,_0x14dc41)=>{const _0x3bd1e2=_0x3ddb0c;let _0x148b94=await this[_0x3bd1e2(0x3a4)]({'request':_0x48c0bb,'schema':Qa,'ClassRef':wt,'execute':(_0x376478,_0x4da95c)=>us[_0x3bd1e2(0x3ef)](_0x376478,_0x4da95c)});_0x14dc41[_0x3bd1e2(0x6b6)](0xc9)[_0x3bd1e2(0x4c7)](_0x148b94);})[_0x3ddb0c(0x786)](this[_0x3ddb0c(0x423)](_0x3ddb0c(0x285)),..._0x36cdf6,async(_0x3e5c44,_0x4035a2)=>{const _0x104157=_0x3ddb0c;let _0x43ade9=await this['dataValidate']({'request':_0x3e5c44,'schema':C,'ClassRef':S,'execute':_0x5bdc1b=>us['findWebhook'](_0x5bdc1b)});_0x4035a2[_0x104157(0x6b6)](0xc8)[_0x104157(0x4c7)](_0x43ade9);});}},sr=require(a0_0x3656ce(0x5f9)),f=new v('FlowRouter'),St=class extends J{constructor(..._0x25f2e8){const _0x4ec4bc=a0_0x3656ce;super(),this[_0x4ec4bc(0x38c)]=(0x0,sr['Router'])(),this[_0x4ec4bc(0x38c)][_0x4ec4bc(0x282)](this['routerPath'](_0x4ec4bc(0x5b3)),..._0x25f2e8,async(_0x5cb2a7,_0x53640e)=>{const _0x1c0a5d=_0x4ec4bc;let _0x2c1e9c=_0x5cb2a7[_0x1c0a5d(0x317)];f[_0x1c0a5d(0x49e)](_0x1c0a5d(0x6fd)),f[_0x1c0a5d(0x49e)](_0x1c0a5d(0x2c9)),f[_0x1c0a5d(0x49e)](_0x5cb2a7[_0x1c0a5d(0x317)]);let _0xc95b82=await this[_0x1c0a5d(0x3a4)]({'request':_0x5cb2a7,'schema':C,'ClassRef':S,'execute':_0x21bf21=>T[_0x1c0a5d(0x3d8)](_0x21bf21,_0x2c1e9c)});_0x53640e[_0x1c0a5d(0x6b6)](0xc8)[_0x1c0a5d(0x4c7)](_0xc95b82);})[_0x4ec4bc(0x786)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x5b3)),..._0x25f2e8,async(_0x325ef,_0x1fbda7)=>{const _0x348cad=_0x4ec4bc;let _0x376e84=await this[_0x348cad(0x3a4)]({'request':_0x325ef,'schema':C,'ClassRef':S,'execute':_0x9e1e9c=>T['getScheduleMessage'](_0x9e1e9c)});_0x1fbda7[_0x348cad(0x6b6)](0xc8)[_0x348cad(0x4c7)](_0x376e84);})[_0x4ec4bc(0x27c)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x59e)),..._0x25f2e8,async(_0x352571,_0x2d7268)=>{const _0x2313ef=_0x4ec4bc;f['verbose'](_0x2313ef(0x6fa));let _0xe03c76=await this[_0x2313ef(0x3a4)]({'request':_0x352571,'schema':C,'ClassRef':S,'execute':_0x3d1603=>T[_0x2313ef(0x59e)](_0x3d1603)});_0x2d7268[_0x2313ef(0x6b6)](0xc8)[_0x2313ef(0x4c7)](_0xe03c76);})['post'](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x1f5)),..._0x25f2e8,async(_0x58b1b4,_0x2cacb5)=>{const _0x59a0de=_0x4ec4bc;let _0x389dc3=_0x58b1b4[_0x59a0de(0x317)];f['verbose']('request\x20received\x20in\x20starFlow'),f['verbose']('request\x20body:\x20'),f['verbose'](_0x58b1b4['body']);let _0x32df4a=await this[_0x59a0de(0x3a4)]({'request':_0x58b1b4,'schema':C,'ClassRef':S,'execute':_0x2e37c8=>T['startFlow'](_0x2e37c8,_0x389dc3)});_0x2cacb5[_0x59a0de(0x6b6)](0xc8)['json'](_0x32df4a);})[_0x4ec4bc(0x786)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x36e)),..._0x25f2e8,async(_0x4e8110,_0xd8e07f)=>{const _0x510e2d=_0x4ec4bc;f[_0x510e2d(0x49e)](_0x510e2d(0x796));let _0x28a90f=await this[_0x510e2d(0x3a4)]({'request':_0x4e8110,'schema':C,'ClassRef':S,'execute':_0x372ac1=>T[_0x510e2d(0x36e)](_0x372ac1)});_0xd8e07f[_0x510e2d(0x6b6)](0xc8)[_0x510e2d(0x4c7)](_0x28a90f);})[_0x4ec4bc(0x786)](this['routerPath'](_0x4ec4bc(0x36c)),..._0x25f2e8,async(_0x270d79,_0x28cd2e)=>{const _0x20d3fb=_0x4ec4bc;f[_0x20d3fb(0x49e)](_0x20d3fb(0x201));let _0x1b47b7=await this['dataValidate']({'request':_0x270d79,'schema':C,'ClassRef':S,'execute':_0x50e207=>T[_0x20d3fb(0x36e)](_0x50e207)});_0x28cd2e[_0x20d3fb(0x6b6)](0xc8)[_0x20d3fb(0x4c7)](_0x1b47b7);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x459)),..._0x25f2e8,async(_0x26f921,_0x420f45)=>{const _0x5d428d=_0x4ec4bc;let _0x38c920=_0x26f921[_0x5d428d(0x317)];f['verbose'](_0x5d428d(0x4c8)),f[_0x5d428d(0x49e)](_0x5d428d(0x2c9)),f[_0x5d428d(0x49e)](_0x26f921[_0x5d428d(0x317)]);let _0x560d58=await this[_0x5d428d(0x3a4)]({'request':_0x26f921,'schema':C,'ClassRef':S,'execute':_0x4d441a=>T[_0x5d428d(0x459)](_0x4d441a,_0x38c920)});_0x420f45[_0x5d428d(0x6b6)](0xc8)[_0x5d428d(0x4c7)](_0x560d58);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x67c)),..._0x25f2e8,async(_0x57c0dc,_0xa26068)=>{const _0x18a21e=_0x4ec4bc;let _0x436f60=_0x57c0dc[_0x18a21e(0x317)];f['verbose'](_0x18a21e(0x400)),f[_0x18a21e(0x49e)](_0x18a21e(0x2c9)),f[_0x18a21e(0x49e)](_0x57c0dc['body']);let _0x86d567=await this[_0x18a21e(0x3a4)]({'request':_0x57c0dc,'schema':C,'ClassRef':S,'execute':_0x32aa49=>T[_0x18a21e(0x67c)](_0x32aa49,_0x436f60)});_0xa26068['status'](0xc8)[_0x18a21e(0x4c7)](_0x86d567);})[_0x4ec4bc(0x282)](this['routerPath']('updateFlowConfig'),..._0x25f2e8,async(_0x545e27,_0x5a537e)=>{const _0x187ee1=_0x4ec4bc;let _0x43820a=_0x545e27['body'];f['verbose'](_0x187ee1(0x555)),f[_0x187ee1(0x49e)](_0x187ee1(0x2c9)),f[_0x187ee1(0x49e)](_0x545e27[_0x187ee1(0x317)]);let _0x15da78=await this['dataValidate']({'request':_0x545e27,'schema':C,'ClassRef':S,'execute':_0x2658d7=>T[_0x187ee1(0x6e0)](_0x2658d7,_0x43820a)});_0x5a537e[_0x187ee1(0x6b6)](0xc8)[_0x187ee1(0x4c7)](_0x15da78);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x70f)),..._0x25f2e8,async(_0x1b6dd4,_0x5ba8a4)=>{const _0x364b49=_0x4ec4bc;let _0x38f055=_0x1b6dd4[_0x364b49(0x317)];f[_0x364b49(0x49e)]('request\x20received\x20in\x20getConversation'),f[_0x364b49(0x49e)](_0x364b49(0x2c9)),f['verbose'](_0x1b6dd4[_0x364b49(0x317)]);let _0x5b2956=await this[_0x364b49(0x3a4)]({'request':_0x1b6dd4,'schema':C,'ClassRef':S,'execute':_0x424d7d=>T[_0x364b49(0x70f)](_0x424d7d,_0x38f055)});_0x5ba8a4['status'](0xc8)[_0x364b49(0x4c7)](_0x5b2956);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x1c0)),..._0x25f2e8,async(_0x39beeb,_0x5cec03)=>{const _0x5d2e32=_0x4ec4bc;let _0x571a47=_0x39beeb[_0x5d2e32(0x317)];f[_0x5d2e32(0x49e)](_0x5d2e32(0x3c9)),f[_0x5d2e32(0x49e)](_0x5d2e32(0x2c9)),f[_0x5d2e32(0x49e)](_0x39beeb[_0x5d2e32(0x317)]);let _0x5728f3=await this[_0x5d2e32(0x3a4)]({'request':_0x39beeb,'schema':C,'ClassRef':S,'execute':_0x575e3d=>T[_0x5d2e32(0x1c0)](_0x575e3d,_0x571a47)});_0x5cec03['status'](0xc8)['json'](_0x5728f3);})['post'](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x771)),..._0x25f2e8,async(_0x57663f,_0x534a48)=>{const _0x9e4fda=_0x4ec4bc;let _0x5e604f=_0x57663f[_0x9e4fda(0x317)];f[_0x9e4fda(0x49e)](_0x9e4fda(0x451)),f[_0x9e4fda(0x49e)](_0x9e4fda(0x2c9)),f['verbose'](_0x57663f['body']);let _0x2424fe=await this[_0x9e4fda(0x3a4)]({'request':_0x57663f,'schema':C,'ClassRef':S,'execute':_0x242222=>T['editConversation'](_0x242222,_0x5e604f)});_0x534a48[_0x9e4fda(0x6b6)](0xc8)[_0x9e4fda(0x4c7)](_0x2424fe);})['delete'](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x18e)),..._0x25f2e8,async(_0x2be888,_0xa64be3)=>{const _0x228bd7=_0x4ec4bc;let _0x430e8f=_0x2be888[_0x228bd7(0x317)];f[_0x228bd7(0x49e)]('request\x20received\x20in\x20deleteConversation'),f[_0x228bd7(0x49e)](_0x228bd7(0x2c9)),f[_0x228bd7(0x49e)](_0x2be888['body']);let _0x16453a=await this[_0x228bd7(0x3a4)]({'request':_0x2be888,'schema':C,'ClassRef':S,'execute':_0x5ecb79=>T['deleteConversation'](_0x5ecb79,_0x430e8f)});_0xa64be3[_0x228bd7(0x6b6)](0xc8)[_0x228bd7(0x4c7)](_0x16453a);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x719)),..._0x25f2e8,async(_0xfac592,_0x4e99f6)=>{const _0x1fb844=_0x4ec4bc;let _0x3e087a=_0xfac592[_0x1fb844(0x317)];f[_0x1fb844(0x49e)](_0x1fb844(0x3b6)),f[_0x1fb844(0x49e)](_0x1fb844(0x2c9)),f[_0x1fb844(0x49e)](_0xfac592['body']);let _0x350f52=await this[_0x1fb844(0x3a4)]({'request':_0xfac592,'schema':C,'ClassRef':S,'execute':_0xa8ae19=>T[_0x1fb844(0x5ed)](_0xa8ae19,_0x3e087a)});_0x4e99f6[_0x1fb844(0x6b6)](0xc8)[_0x1fb844(0x4c7)](_0x350f52);})[_0x4ec4bc(0x282)](this['routerPath'](_0x4ec4bc(0x4ea)),..._0x25f2e8,async(_0xe0d95e,_0x1039a4)=>{const _0x878aad=_0x4ec4bc;let _0x3c1809=_0xe0d95e[_0x878aad(0x317)];f[_0x878aad(0x49e)](_0x878aad(0x60c)),f[_0x878aad(0x49e)]('request\x20body:\x20'),f[_0x878aad(0x49e)](_0xe0d95e[_0x878aad(0x317)]),delete _0x3c1809[_0x878aad(0x424)],delete _0x3c1809['variables'],delete _0x3c1809['groups'],delete _0x3c1809['conditions'];let _0x3944df=await this[_0x878aad(0x3a4)]({'request':_0xe0d95e,'schema':C,'ClassRef':S,'execute':_0xed70ba=>T[_0x878aad(0x1bc)](_0xed70ba,_0x3c1809)});_0x1039a4[_0x878aad(0x6b6)](0xc8)['json'](_0x3944df);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x763)),..._0x25f2e8,async(_0x450390,_0x188f2d)=>{const _0x5e82de=_0x4ec4bc;let _0x255e98=_0x450390['body'];f[_0x5e82de(0x49e)]('request\x20received\x20in\x20editFlow'),f[_0x5e82de(0x49e)](_0x5e82de(0x2c9)),f[_0x5e82de(0x49e)](_0x450390[_0x5e82de(0x317)]);let _0x2aa0d9=await this[_0x5e82de(0x3a4)]({'request':_0x450390,'schema':C,'ClassRef':S,'execute':_0x1e550b=>T['editFlowBlock'](_0x1e550b,_0x255e98)});_0x188f2d['status'](0xc8)['json'](_0x2aa0d9);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)]('editflowreply'),..._0x25f2e8,async(_0x177527,_0x2185d3)=>{const _0x3cc7b8=_0x4ec4bc;let _0x2d526f=_0x177527[_0x3cc7b8(0x317)];f[_0x3cc7b8(0x49e)]('request\x20received\x20in\x20editFlow'),f[_0x3cc7b8(0x49e)](_0x3cc7b8(0x2c9)),f[_0x3cc7b8(0x49e)](_0x177527[_0x3cc7b8(0x317)]);let _0xf49c7a=await this['dataValidate']({'request':_0x177527,'schema':C,'ClassRef':S,'execute':_0x4c9cb3=>T[_0x3cc7b8(0x1b9)](_0x4c9cb3,_0x2d526f)});_0x2185d3[_0x3cc7b8(0x6b6)](0xc8)[_0x3cc7b8(0x4c7)](_0xf49c7a);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x438)),..._0x25f2e8,async(_0x387763,_0x212387)=>{const _0x211c51=_0x4ec4bc;let _0x46c445=_0x387763[_0x211c51(0x317)];f[_0x211c51(0x49e)]('request\x20received\x20in\x20editFlow'),f[_0x211c51(0x49e)]('request\x20body:\x20'),f['verbose'](_0x387763[_0x211c51(0x317)]);let _0x579e30=await this[_0x211c51(0x3a4)]({'request':_0x387763,'schema':C,'ClassRef':S,'execute':_0x4f25c1=>T[_0x211c51(0x452)](_0x4f25c1,_0x46c445)});_0x212387[_0x211c51(0x6b6)](0xc8)[_0x211c51(0x4c7)](_0x579e30);})['post'](this['routerPath'](_0x4ec4bc(0x71c)),..._0x25f2e8,async(_0x11a49a,_0x3f91e5)=>{const _0x82eccb=_0x4ec4bc;let _0x5614b2=_0x11a49a[_0x82eccb(0x317)];f[_0x82eccb(0x49e)](_0x82eccb(0x20b)),f[_0x82eccb(0x49e)]('request\x20body:\x20'),f[_0x82eccb(0x49e)](_0x11a49a[_0x82eccb(0x317)]);let _0x430d86=await this['dataValidate']({'request':_0x11a49a,'schema':C,'ClassRef':S,'execute':_0x3ce32f=>T[_0x82eccb(0x418)](_0x3ce32f,_0x5614b2)});_0x3f91e5[_0x82eccb(0x6b6)](0xc8)[_0x82eccb(0x4c7)](_0x430d86);})[_0x4ec4bc(0x282)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x629)),..._0x25f2e8,async(_0x1c5228,_0x543f20)=>{const _0x180870=_0x4ec4bc;let _0x964460=_0x1c5228[_0x180870(0x317)];f['verbose']('request\x20received\x20in\x20editFlowcondition'),f[_0x180870(0x49e)]('request\x20body:\x20'),f[_0x180870(0x49e)](_0x1c5228[_0x180870(0x317)]);let _0x210675=await this[_0x180870(0x3a4)]({'request':_0x1c5228,'schema':C,'ClassRef':S,'execute':_0x4c4e90=>T[_0x180870(0x520)](_0x4c4e90,_0x964460)});_0x543f20[_0x180870(0x6b6)](0xc8)['json'](_0x210675);})[_0x4ec4bc(0x282)](this['routerPath'](_0x4ec4bc(0x410)),..._0x25f2e8,async(_0x2df8f6,_0x5a6c39)=>{const _0x840b01=_0x4ec4bc;let _0x3bfd15=_0x2df8f6[_0x840b01(0x317)];f[_0x840b01(0x49e)]('request\x20received\x20in\x20editFlowvariable'),f['verbose'](_0x840b01(0x2c9)),f[_0x840b01(0x49e)](_0x2df8f6[_0x840b01(0x317)]);let _0x20cacc=await this[_0x840b01(0x3a4)]({'request':_0x2df8f6,'schema':C,'ClassRef':S,'execute':_0x279817=>T['editFlowVariable'](_0x279817,_0x3bfd15)});_0x5a6c39[_0x840b01(0x6b6)](0xc8)[_0x840b01(0x4c7)](_0x20cacc);})[_0x4ec4bc(0x282)](this['routerPath']('getflow'),..._0x25f2e8,async(_0x23a402,_0x25a37d)=>{const _0x87f558=_0x4ec4bc;let _0x361ede=_0x23a402[_0x87f558(0x317)];f[_0x87f558(0x49e)](_0x87f558(0x7a4)),f[_0x87f558(0x49e)](_0x87f558(0x2c9)),f[_0x87f558(0x49e)](_0x23a402['body']);let _0x210091=await this[_0x87f558(0x3a4)]({'request':_0x23a402,'schema':C,'ClassRef':S,'execute':_0x3f87d9=>T['getFlow'](_0x3f87d9,_0x361ede)});_0x25a37d[_0x87f558(0x6b6)](0xc8)['json'](_0x210091);})[_0x4ec4bc(0x27c)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x38a)),..._0x25f2e8,async(_0x23dcef,_0x180af6)=>{const _0x121e76=_0x4ec4bc;let _0x128089=_0x23dcef[_0x121e76(0x317)];f['verbose'](_0x121e76(0x180)),f['verbose']('request\x20body:\x20'),f['verbose'](_0x23dcef[_0x121e76(0x317)]);let _0x5a2622=await this[_0x121e76(0x3a4)]({'request':_0x23dcef,'schema':C,'ClassRef':S,'execute':_0xda4084=>T[_0x121e76(0x795)](_0xda4084,_0x128089)});_0x180af6[_0x121e76(0x6b6)](0xc8)[_0x121e76(0x4c7)](_0x5a2622);})[_0x4ec4bc(0x786)](this[_0x4ec4bc(0x423)](_0x4ec4bc(0x4e8)),..._0x25f2e8,async(_0x424622,_0x5889f8)=>{const _0x13ca1c=_0x4ec4bc;f[_0x13ca1c(0x49e)](_0x13ca1c(0x43c));let _0x120871=await this[_0x13ca1c(0x3a4)]({'request':_0x424622,'schema':C,'ClassRef':S,'execute':_0x3a4b70=>T[_0x13ca1c(0x45b)](_0x3a4b70)});_0x5889f8[_0x13ca1c(0x6b6)](0xc8)['json'](_0x120871);});}},ir=R(require(a0_0x3656ce(0x324))),Y={};function ar(_0x885405,_0x477bef,_0x347157,_0x1f9a76){Y[_0x885405]||(Y[_0x885405]={}),Y[_0x885405][_0x477bef]={'id':_0x477bef,'response':_0x347157,'events':_0x1f9a76};}function rr(_0x5dd9fc,_0x352c4f){!Y[_0x5dd9fc]||!Y[_0x5dd9fc][_0x352c4f]||delete Y[_0x5dd9fc][_0x352c4f];}function j(_0x2757e1,_0x526d2c,_0x2660f1){const _0x48d992=a0_0x3656ce;if(!Y[_0x2757e1])return;let _0x7038b1='data:\x20'+JSON[_0x48d992(0x4cd)](_0x2660f1)+'\x0a\x0a';Object[_0x48d992(0x3bf)](Y[_0x2757e1])[_0x48d992(0x579)](_0x4621a2=>{const _0x3e3db0=_0x48d992;_0x4621a2[_0x3e3db0(0x4ad)][_0x3e3db0(0x516)](_0x526d2c)&&_0x4621a2[_0x3e3db0(0x15b)][_0x3e3db0(0x456)](_0x7038b1);});}function or(){const _0x2fd8a6=a0_0x3656ce;let _0x5be02f={};for(let _0x59fa3f in Y)_0x5be02f[_0x59fa3f]=Object[_0x2fd8a6(0x3bf)](Y[_0x59fa3f])['map'](_0x1a0ffa=>({'id':_0x1a0ffa['id'],'events':_0x1a0ffa[_0x2fd8a6(0x4ad)]}));return _0x5be02f;}var nr=require(a0_0x3656ce(0x429)),ps=require(a0_0x3656ce(0x420)),ds=class{},oo=new ps[(a0_0x3656ce(0x49c))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),io=new ps[(a0_0x3656ce(0x49c))]({'_id':{'type':String,'default':a0_0x3656ce(0x5f0)},'WebhookGlobal':{'type':oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),he=N?.[a0_0x3656ce(0x57d)](ds[a0_0x3656ce(0x6ba)],io,a0_0x3656ce(0x717)),no=ir[a0_0x3656ce(0x3d0)][a0_0x3656ce(0x3f5)](__dirname,'downloads'),Mt=(0x0,Et['Router'])(),co=b[a0_0x3656ce(0x786)]('AUTHENTICATION')['TYPE'],ee=[ga,ha,ya[co]];Mt[a0_0x3656ce(0x182)](a0_0x3656ce(0x37f),Et['default'][a0_0x3656ce(0x6e3)](no))[a0_0x3656ce(0x786)](a0_0x3656ce(0x2f1),async(_0x5f04d7,_0x2f6074)=>{const _0x3697c2=a0_0x3656ce;console[_0x3697c2(0x16d)]('bateu\x20events');let _0x27c19f=_0x5f04d7[_0x3697c2(0x6f0)]['instance'],_0x2a7a14=(_0x5f04d7[_0x3697c2(0x1d9)]['events']||'')[_0x3697c2(0x232)](','),_0x32a20f=(0x0,nr['v4'])();console['log'](_0x3697c2(0x469),_0x27c19f),console['log'](_0x3697c2(0x2aa),_0x2a7a14);let _0x579730=b[_0x3697c2(0x786)]('AUTHENTICATION')[_0x3697c2(0x3ba)],_0x332cb7=_0x5f04d7['query'][_0x3697c2(0x222)];if(console[_0x3697c2(0x16d)](_0x3697c2(0x5a7),_0x332cb7),_0x579730[_0x3697c2(0x4a2)]!==_0x332cb7){console[_0x3697c2(0x16d)](_0x3697c2(0x260));try{let _0x11f765=await ne[_0x3697c2(0x5e1)][_0x3697c2(0x285)](_0x27c19f);if(console[_0x3697c2(0x16d)]('Instance\x20Key\x20from\x20DB:',_0x11f765),!_0x11f765||_0x11f765[_0x3697c2(0x222)]!==_0x332cb7)return console[_0x3697c2(0x16d)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x2f6074[_0x3697c2(0x6b6)](0x191)[_0x3697c2(0x175)](_0x3697c2(0x3c1));}catch(_0x46fdea){return console[_0x3697c2(0x417)](_0x3697c2(0x733),_0x46fdea),_0x2f6074[_0x3697c2(0x6b6)](0x191)[_0x3697c2(0x175)](_0x3697c2(0x217));}}if(!await Be(_0x27c19f))return _0x2f6074[_0x3697c2(0x6b6)](0x194)[_0x3697c2(0x175)](_0x3697c2(0x33b));_0x2f6074[_0x3697c2(0x52c)]('Content-Type',_0x3697c2(0x2e5)),_0x2f6074[_0x3697c2(0x52c)](_0x3697c2(0x32f),_0x3697c2(0x1be)),_0x2f6074[_0x3697c2(0x52c)](_0x3697c2(0x6ee),_0x3697c2(0x654)),_0x2f6074[_0x3697c2(0x614)]();let _0x1eb6b7=_0x3697c2(0x5f3)+JSON['stringify']({'info':_0x3697c2(0x79e)})+'\x0a\x0a';_0x2f6074[_0x3697c2(0x456)](_0x1eb6b7),ar(_0x27c19f,_0x32a20f,_0x2f6074,_0x2a7a14),_0x5f04d7['on']('close',()=>{const _0x2eaa74=_0x3697c2;console[_0x2eaa74(0x16d)](_0x2eaa74(0x63c)+_0x27c19f),rr(_0x27c19f,_0x32a20f);});}),Mt['get'](a0_0x3656ce(0x315),(_0x255600,_0x25762f)=>{const _0x2276e8=a0_0x3656ce;let _0x2ae5f0=or();_0x25762f[_0x2276e8(0x4c7)](_0x2ae5f0);})[a0_0x3656ce(0x786)]('/',(_0x12ceea,_0x57f86b)=>{const _0x14dcfe=a0_0x3656ce;let _0xb336bc=b['get']('SSL_CONF'),_0x572ad7=_0xb336bc&&_0xb336bc['FULLCHAIN']['split']('/')[0x4];if(_0x572ad7){let _0x3326a0=encodeURIComponent(_0x14dcfe(0x4c0)+_0x572ad7);_0x57f86b['redirect'](_0x14dcfe(0x537)+_0x3326a0);}else _0x57f86b[_0x14dcfe(0x6f3)](_0x14dcfe(0x449));})[a0_0x3656ce(0x240)]('/exit',...ee,async(_0x2c6366,_0x51a87c)=>{const _0x20ddac=a0_0x3656ce;try{console[_0x20ddac(0x16d)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x51a87c[_0x20ddac(0x6b6)](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x51a87c['on'](_0x20ddac(0x491),()=>process[_0x20ddac(0x595)](0x0));}catch(_0x11a3dd){console[_0x20ddac(0x417)](_0x20ddac(0x522),_0x11a3dd),_0x51a87c[_0x20ddac(0x6b6)](0x1f4)[_0x20ddac(0x4c7)]({'message':_0x20ddac(0x457)});}})[a0_0x3656ce(0x240)]('/config',...ee,async(_0x1a16f2,_0x24893)=>{const _0x3cd425=a0_0x3656ce;try{let _0x2bd51b=_0x1a16f2[_0x3cd425(0x317)];await he[_0x3cd425(0x27f)]({},{'$set':_0x2bd51b},{'upsert':!0x0});let _0x5efd62=await he['findOne']();_0x24893[_0x3cd425(0x4c7)](_0x5efd62);}catch(_0xaa952){_0x24893[_0x3cd425(0x6b6)](0x190)[_0x3cd425(0x175)](_0xaa952['message']);}})[a0_0x3656ce(0x786)](a0_0x3656ce(0x30c),...ee,async(_0x812371,_0x426a1d)=>{const _0x264ad9=a0_0x3656ce;try{let _0x39cc8a=await he[_0x264ad9(0x166)]();if(!_0x39cc8a)return _0x426a1d['json']({});_0x426a1d['json'](_0x39cc8a);}catch(_0x384a05){_0x426a1d[_0x264ad9(0x6b6)](0x1f4)[_0x264ad9(0x175)](_0x384a05[_0x264ad9(0x2a2)]);}})[a0_0x3656ce(0x182)]('/instance',new it(b,...ee)[a0_0x3656ce(0x38c)])[a0_0x3656ce(0x182)](a0_0x3656ce(0x4ac),new yt(...ee)['router'])[a0_0x3656ce(0x182)](a0_0x3656ce(0x2a0),new Qe(...ee)[a0_0x3656ce(0x38c)])['use'](a0_0x3656ce(0x23b),new ot(...ee)[a0_0x3656ce(0x38c)])['use'](a0_0x3656ce(0x41d),new bt(...ee)[a0_0x3656ce(0x38c)])[a0_0x3656ce(0x182)](a0_0x3656ce(0x394),new St(...ee)[a0_0x3656ce(0x38c)]);var h=class{constructor(..._0x45a92c){const _0x38dc0a=a0_0x3656ce;throw{'status':0x190,'error':_0x38dc0a(0x18a),'message':_0x45a92c[_0x38dc0a(0x391)]>0x0?_0x45a92c:void 0x0};}},Z=class{constructor(..._0x2eaf43){const _0x162341=a0_0x3656ce;throw{'status':0x191,'error':'Unauthorized','message':_0x2eaf43[_0x162341(0x391)]>0x0?_0x2eaf43:void 0x0};}},H=class{constructor(..._0x2128f4){const _0x4384db=a0_0x3656ce;throw{'status':0x193,'error':_0x4384db(0x305),'message':_0x2128f4[_0x4384db(0x391)]>0x0?_0x2128f4:void 0x0};}},L=class{constructor(..._0xd217f1){const _0x363479=a0_0x3656ce;throw{'status':0x194,'error':'Not\x20Found','message':_0xd217f1[_0x363479(0x391)]>0x0?_0xd217f1:void 0x0};}},O=class{constructor(..._0x25bf18){const _0x3285a8=a0_0x3656ce;throw{'status':0x1f4,'error':_0x3285a8(0x1ae),'message':_0x25bf18[_0x3285a8(0x391)]>0x0?_0x25bf18:void 0x0};}},ce=require(a0_0x3656ce(0x333));async function gs(_0x574d0e){const _0x167928=a0_0x3656ce;let _0x5597fe=new v(gs[_0x167928(0x6ba)]),_0x316598=N['getClient'](),_0x5558a9=_0x316598['db'](b['get'](_0x167928(0x2cf))[_0x167928(0x50c)][_0x167928(0x4c4)]+_0x167928(0x601))['collection'](_0x574d0e),_0x20e713=async(_0x4fdbe6,_0x5b4de7)=>{const _0x4b0dbf=_0x167928;try{return await _0x316598[_0x4b0dbf(0x1de)](),await _0x5558a9['replaceOne']({'_id':_0x5b4de7},JSON[_0x4b0dbf(0x42d)](JSON[_0x4b0dbf(0x4cd)](_0x4fdbe6,ce['BufferJSON']['replacer'])),{'upsert':!0x0});}catch{}},_0x5c11e4=async _0x37c05f=>{const _0x3c4ee3=_0x167928;try{await _0x316598[_0x3c4ee3(0x1de)]();let _0x1dce9d=await _0x5558a9['findOne']({'_id':_0x37c05f}),_0x59f588=JSON[_0x3c4ee3(0x4cd)](_0x1dce9d);return JSON['parse'](_0x59f588,ce[_0x3c4ee3(0x318)][_0x3c4ee3(0x300)]);}catch{}},_0x4ac517=async _0x19e980=>{const _0x1bb01a=_0x167928;try{return await _0x316598[_0x1bb01a(0x1de)](),await _0x5558a9[_0x1bb01a(0x693)]({'_id':_0x19e980});}catch{}},_0x4bf780=await _0x5c11e4(_0x167928(0x765))||(0x0,ce['initAuthCreds'])();return{'state':{'creds':_0x4bf780,'keys':{'get':async(_0x21391e,_0x540f9b)=>{const _0x1354ca=_0x167928;let _0x1e9f3a={};return await Promise[_0x1354ca(0x626)](_0x540f9b['map'](async _0xc9bf4a=>{const _0x42bfc0=_0x1354ca;let _0x53b19c=await _0x5c11e4(_0x21391e+'-'+_0xc9bf4a);_0x21391e===_0x42bfc0(0x5e6)&&_0x53b19c&&(_0x53b19c=ce['proto']['Message']['AppStateSyncKeyData']['fromObject'](_0x53b19c)),_0x1e9f3a[_0xc9bf4a]=_0x53b19c;})),_0x1e9f3a;},'set':async _0xfe585f=>{const _0x1b5c4f=_0x167928;let _0x448bc9=[];for(let _0x2d1aa5 in _0xfe585f)for(let _0x2d4119 in _0xfe585f[_0x2d1aa5]){let _0x48def1=_0xfe585f[_0x2d1aa5][_0x2d4119],_0x11e9b3=_0x2d1aa5+'-'+_0x2d4119;_0x448bc9[_0x1b5c4f(0x7a1)](_0x48def1?_0x20e713(_0x48def1,_0x11e9b3):_0x4ac517(_0x11e9b3));}await Promise[_0x1b5c4f(0x626)](_0x448bc9);}}},'saveCreds':async()=>_0x20e713(_0x4bf780,_0x167928(0x765))};}var ws=R(require('long')),bs=R(require('node-cache')),Nt=require('@whiskeysockets/baileys'),cr=require('@redis/client'),vt=require(a0_0x3656ce(0x333)),Ct;function lo(_0x46f357){const _0x589aa0=a0_0x3656ce;return Ct||(Ct=(0x0,cr[_0x589aa0(0x379)])({'url':_0x46f357[_0x589aa0(0x237)]}),Ct[_0x589aa0(0x1de)]()),Ct;}var re=class c{constructor(_0x3f113c,_0xef0d38){const _0x4aab44=a0_0x3656ce;this[_0x4aab44(0x241)]=_0x3f113c,this[_0x4aab44(0x3a7)]=_0xef0d38,this['logger']=new v(c['name']),this[_0x4aab44(0x543)]=lo(_0x3f113c);}set[a0_0x3656ce(0x5f7)](_0x2cc87d){const _0x260d13=a0_0x3656ce;this[_0x260d13(0x3a7)]=_0x2cc87d;}async['instanceKeys'](){const _0x32da1a=a0_0x3656ce;try{return await this[_0x32da1a(0x543)]['sendCommand'](['keys',this[_0x32da1a(0x241)][_0x32da1a(0x54b)]+':*']);}catch(_0x579a46){this['logger'][_0x32da1a(0x417)](_0x579a46);}}async[a0_0x3656ce(0x4ce)](_0x5f0c9b,_0x5e7b13){const _0x45a8fd=a0_0x3656ce;try{let _0x41d567=JSON['stringify'](_0x5e7b13,vt[_0x45a8fd(0x318)][_0x45a8fd(0x716)]);return await this[_0x45a8fd(0x543)]['hSet'](this['redisEnv'][_0x45a8fd(0x54b)]+':'+this['instanceName'],_0x5f0c9b,_0x41d567);}catch(_0x5ec05a){this[_0x45a8fd(0x506)][_0x45a8fd(0x417)](_0x5ec05a);}}async[a0_0x3656ce(0x28a)](){const _0x423af3=a0_0x3656ce;try{let _0x22c816=await this['client'][_0x423af3(0x1e5)](this[_0x423af3(0x241)][_0x423af3(0x54b)]+':'+this['instanceName']);if(_0x22c816){for(let _0x301f9c in _0x22c816)Object[_0x423af3(0x4b3)][_0x423af3(0x27e)]['call'](_0x22c816,_0x301f9c)&&(_0x22c816[_0x301f9c]=JSON[_0x423af3(0x42d)](_0x22c816[_0x301f9c],vt[_0x423af3(0x318)][_0x423af3(0x300)]));return _0x22c816;}}catch(_0x1b68fa){this[_0x423af3(0x506)][_0x423af3(0x417)](_0x1b68fa);}}async[a0_0x3656ce(0x2eb)](_0x168192){const _0x46ddfc=a0_0x3656ce;try{let _0x504a4f=await this[_0x46ddfc(0x543)][_0x46ddfc(0x5ab)](this[_0x46ddfc(0x241)][_0x46ddfc(0x54b)]+':'+this['instanceName'],_0x168192);if(_0x504a4f)return JSON[_0x46ddfc(0x42d)](_0x504a4f,vt[_0x46ddfc(0x318)][_0x46ddfc(0x300)]);}catch(_0x47117a){this[_0x46ddfc(0x506)][_0x46ddfc(0x417)](_0x47117a);}}async['removeData'](_0x34b0df){const _0x4302d2=a0_0x3656ce;try{return await this[_0x4302d2(0x543)][_0x4302d2(0x530)](this['redisEnv'][_0x4302d2(0x54b)]+':'+this['instanceName'],_0x34b0df);}catch(_0x593580){this[_0x4302d2(0x506)][_0x4302d2(0x417)](_0x593580);}}async[a0_0x3656ce(0x51f)](_0x687155){const _0x4468f3=a0_0x3656ce;try{return await this[_0x4468f3(0x543)][_0x4468f3(0x576)](_0x687155||this[_0x4468f3(0x241)]['PREFIX_KEY']+':'+this[_0x4468f3(0x3a7)]);}catch(_0x59139f){this[_0x4468f3(0x506)][_0x4468f3(0x417)](_0x59139f);}}};async function hs(_0x57560b,_0x1dd753){const _0x582ab7=a0_0x3656ce;let _0x1a5844=new v(hs[_0x582ab7(0x6ba)]),_0x4e048e=new re(_0x57560b,_0x1dd753),_0x184413=async(_0x2f45aa,_0x582966)=>{const _0x37e60b=_0x582ab7;try{return await _0x4e048e[_0x37e60b(0x4ce)](_0x582966,_0x2f45aa);}catch(_0x1b0f02){return _0x1a5844['error']({'localError':'writeData','error':_0x1b0f02});}},_0xe12b82=async _0x230c56=>{const _0x2aa182=_0x582ab7;try{return await _0x4e048e[_0x2aa182(0x2eb)](_0x230c56);}catch(_0x26d793){_0x1a5844['error']({'readData':_0x2aa182(0x4ce),'error':_0x26d793});return;}},_0xb41580=async _0x520be9=>{const _0x58c181=_0x582ab7;try{return await _0x4e048e[_0x58c181(0x40c)](_0x520be9);}catch(_0x479cae){_0x1a5844['error']({'readData':_0x58c181(0x40c),'error':_0x479cae});}},_0x32b775=await _0xe12b82('creds')||(0x0,Nt[_0x582ab7(0x348)])();return{'state':{'creds':_0x32b775,'keys':{'get':async(_0x2d9455,_0x4223fd)=>{const _0x534bb0=_0x582ab7;let _0x2b2c8a={};return await Promise[_0x534bb0(0x626)](_0x4223fd['map'](async _0x157811=>{const _0x531b9d=_0x534bb0;let _0x38ce02=await _0xe12b82(_0x2d9455+'-'+_0x157811);_0x2d9455==='app-state-sync-key'&&_0x38ce02&&(_0x38ce02=Nt[_0x531b9d(0x66b)][_0x531b9d(0x5ef)][_0x531b9d(0x6c2)][_0x531b9d(0x552)](_0x38ce02)),_0x2b2c8a[_0x157811]=_0x38ce02;})),_0x2b2c8a;},'set':async _0x1e8ad4=>{const _0xa651f6=_0x582ab7;let _0x1a8f61=[];for(let _0x1737e0 in _0x1e8ad4)for(let _0x1e91c2 in _0x1e8ad4[_0x1737e0]){let _0x17273e=_0x1e8ad4[_0x1737e0][_0x1e91c2],_0x47d0f0=_0x1737e0+'-'+_0x1e91c2;_0x1a8f61[_0xa651f6(0x7a1)](_0x17273e?await _0x184413(_0x17273e,_0x47d0f0):await _0xb41580(_0x47d0f0));}await Promise[_0xa651f6(0x626)](_0x1a8f61);}}},'saveCreds':async()=>await _0x184413(_0x32b775,_0x582ab7(0x765))};}var k=R(require('fs')),me=require(a0_0x3656ce(0x429)),At=R(require(a0_0x3656ce(0x746))),fr=require('proxy-agent'),uo=a0_0x3656ce(0x5a6)['trim'](),ms=uo[a0_0x3656ce(0x232)]('\x0a')[a0_0x3656ce(0x568)](_0x33edfd=>{const _0x1ed8da=a0_0x3656ce;let _0x489a76=_0x33edfd[_0x1ed8da(0x232)](':');return{'host':_0x489a76[0x0],'port':_0x489a76[0x1],'username':_0x489a76[0x2],'password':_0x489a76[0x3],'protocol':_0x1ed8da(0x79d)};});function lr(){const _0x18ad54=a0_0x3656ce;if(ms[_0x18ad54(0x391)]===0x0)return null;let _0x1c8de0=Math['floor'](Math[_0x18ad54(0x54e)]()*ms[_0x18ad54(0x391)]);return ms[_0x1c8de0];}function fs(_0x52b921){const _0x27100a=a0_0x3656ce;return _0x52b921&&_0x52b921['host']&&_0x52b921[_0x27100a(0x4a1)]&&_0x52b921['username']&&_0x52b921[_0x27100a(0x38f)];}var yr=a0_0x3656ce(0x50f),Ss,oe=null,ur=null,We=null,po=0x3,go=null,wr=!0x1;async function ho(){const _0x460248=a0_0x3656ce;let _0x88969d=await he['findOne']();oe=_0x88969d?.[_0x460248(0x5bf)]??null,go=_0x88969d?.[_0x460248(0x47c)]??null,yr=_0x88969d?.[_0x460248(0x5d4)]??_0x460248(0x50f),Ss=_0x88969d?.['connectedName']??Es??_0x460248(0x6ab),wr=_0x88969d?.[_0x460248(0x745)]??!0x1,console[_0x460248(0x16d)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x460248(0x16d)](_0x88969d);}async function mo(){await ho();}function a0_0x4f47(_0x57df74,_0x426695){const _0xbc39f1=a0_0xbc39();return a0_0x4f47=function(_0x4f47da,_0xd616e0){_0x4f47da=_0x4f47da-0x15a;let _0x5a2b31=_0xbc39f1[_0x4f47da];return _0x5a2b31;},a0_0x4f47(_0x57df74,_0x426695);}mo();function _(_0x5ced17){const _0x4ab20a=a0_0x3656ce;if(_0x5ced17[_0x4ab20a(0x2f5)]||_0x5ced17[_0x4ab20a(0x433)]){let _0x445cba=_0x5ced17['viewOnceMessage']?_0x5ced17[_0x4ab20a(0x2f5)][_0x4ab20a(0x2a2)]:_0x5ced17[_0x4ab20a(0x433)][_0x4ab20a(0x2a2)];return(0x0,w[_0x4ab20a(0x735)])(_0x445cba);}return _0x5ced17[_0x4ab20a(0x4be)]?_0x4ab20a(0x4be):_0x5ced17[_0x4ab20a(0x787)]?_0x4ab20a(0x787):_0x5ced17[_0x4ab20a(0x5fc)]?_0x4ab20a(0x5fc):(0x0,w[_0x4ab20a(0x735)])(_0x5ced17);}var dr={},fe=class c{constructor(_0x471af2,_0x2a2299,_0x470ea6){const _0x52d7b8=a0_0x3656ce;this[_0x52d7b8(0x5b9)]=_0x471af2,this['eventEmitter']=_0x2a2299,this[_0x52d7b8(0x1f9)]=_0x470ea6,this['AutomateSystem']=null,this['logger']=new v(c[_0x52d7b8(0x6ba)]),this[_0x52d7b8(0x532)]={},this[_0x52d7b8(0x6e9)]={},this[_0x52d7b8(0x3cf)]={'state':_0x52d7b8(0x1bf)},this[_0x52d7b8(0x194)]=(0x0,P[_0x52d7b8(0x3f5)])(se,_0x52d7b8(0x780)),this['msgRetryCounterCache']=new bs[(_0x52d7b8(0x3d0))](),this[_0x52d7b8(0x3fa)]=new bs[(_0x52d7b8(0x3d0))](),this[_0x52d7b8(0x5cf)]=!0x1,this[_0x52d7b8(0x534)]={'status.instance':_0x52d7b8(0x489),'qrcode.updated':_0x52d7b8(0x593),'messages.upsert':_0x52d7b8(0x16f),'messages.update':_0x52d7b8(0x710),'send.message':_0x52d7b8(0x16f),'group.upsert':_0x52d7b8(0x3a0),'group.update':_0x52d7b8(0x3a0),'group-participants.update':'/wa-groups','connection.update':_0x52d7b8(0x489),'messages.set':_0x52d7b8(0x16f),'contacts.set':_0x52d7b8(0x658),'contacts.upsert':'/wa-contacts','contacts.update':_0x52d7b8(0x658),'presence.update':_0x52d7b8(0x74a),'chats.set':_0x52d7b8(0x197),'chats.update':_0x52d7b8(0x197),'chats.upsert':_0x52d7b8(0x197),'chats.delete':_0x52d7b8(0x197)},this[_0x52d7b8(0x24c)]=0x0,this[_0x52d7b8(0x7a5)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0x52d7b8(0x1bd)]=0x7530,this[_0x52d7b8(0x29a)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x33c259,_0x2d68ca)=>{const _0x2d5a25=_0x52d7b8;let _0x2a1b27=[];for await(let _0x1ded45 of _0x33c259)_0x2a1b27[_0x2d5a25(0x7a1)]({'_id':_0x1ded45['id'],'owner':this[_0x2d5a25(0x532)]['wuid'],'group':_0x1ded45['id'][_0x2d5a25(0x31e)](_0x2d5a25(0x499)),'name':_0x1ded45[_0x2d5a25(0x6ba)]||_0x1ded45[_0x2d5a25(0x71e)]||null,'contactname':null,'lastmsg':_0x1ded45[_0x2d5a25(0x789)]&&_0x1ded45['conversationTimestamp'][_0x2d5a25(0x368)]()[_0x2d5a25(0x391)]<0xd?_0x1ded45['conversationTimestamp']*0x3e8:_0x1ded45[_0x2d5a25(0x789)]||null,'archived':_0x1ded45[_0x2d5a25(0x493)]||!0x1,'unreadcount':_0x1ded45[_0x2d5a25(0x33d)]||0x0});this[_0x2d5a25(0x69f)](_0x2d5a25(0x3b8),_0x2a1b27);},'chats.update':async(_0x365080,_0xecac49)=>{const _0x23c0d7=_0x52d7b8;for(let _0x4345a8 of _0x365080){let _0x553239={'_id':_0x4345a8['id'],'owner':this[_0x23c0d7(0x532)]['wuid'],'group':_0x4345a8['id'][_0x23c0d7(0x31e)](_0x23c0d7(0x499)),'name':_0x4345a8[_0x23c0d7(0x6ba)]||_0x4345a8[_0x23c0d7(0x71e)],'archived':_0x4345a8[_0x23c0d7(0x493)],'ephemeralExpiration':_0x4345a8['ephemeralExpiration']},_0x228226=!0x1,_0x3d5930={};_0x553239[_0x23c0d7(0x493)]!=null&&(this[_0x23c0d7(0x506)][_0x23c0d7(0x49e)](this[_0x23c0d7(0x3a7)]+'\x20('+this[_0x23c0d7(0x532)][_0x23c0d7(0x25a)]+_0x23c0d7(0x264)+_0x4345a8[_0x23c0d7(0x493)]),_0x228226=!0x0,_0x3d5930[_0x23c0d7(0x493)]=_0x4345a8['archived']),_0x4345a8['name']!=null&&(this[_0x23c0d7(0x506)][_0x23c0d7(0x49e)](this[_0x23c0d7(0x3a7)]+'\x20('+this[_0x23c0d7(0x532)][_0x23c0d7(0x25a)]+_0x23c0d7(0x630)+_0x4345a8[_0x23c0d7(0x6ba)]),_0x228226=!0x0,_0x3d5930['name']=_0x4345a8['name']),_0x4345a8[_0x23c0d7(0x71e)]!=null&&(this[_0x23c0d7(0x506)][_0x23c0d7(0x49e)](this[_0x23c0d7(0x3a7)]+'\x20('+this[_0x23c0d7(0x532)][_0x23c0d7(0x25a)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x4345a8[_0x23c0d7(0x71e)]),_0x228226=!0x0,_0x3d5930['name']=_0x4345a8['displayName']),_0x4345a8[_0x23c0d7(0x714)]!=null&&(this['logger'][_0x23c0d7(0x49e)](this[_0x23c0d7(0x3a7)]+'\x20('+this[_0x23c0d7(0x532)]['wuid']+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x4345a8[_0x23c0d7(0x714)]),_0x228226=!0x0,_0x3d5930['ephemeralExpiration']=_0x4345a8[_0x23c0d7(0x714)]);let _0x4051fb;_0x228226&&(_0x4051fb=await this['repository'][_0x23c0d7(0x497)]['updateOne']({'where':{'_id':_0x4345a8['id']}},_0x3d5930,this[_0x23c0d7(0x532)][_0x23c0d7(0x25a)])),_0x4051fb&&j(this[_0x23c0d7(0x3a7)],_0x23c0d7(0x195),{'chat':_0x4051fb});}},'chats.delete':async _0x940757=>{const _0x4323f6=_0x52d7b8;this[_0x4323f6(0x69f)]('chats.delete',[..._0x940757]);}},this['contactHandle']={'contacts.upsert':async(_0x61a39d,_0x320eb1)=>{const _0x5b2041=_0x52d7b8;let _0x5bc6f2=await this[_0x5b2041(0x1f9)][_0x5b2041(0x662)][_0x5b2041(0x285)]({'where':{}},this[_0x5b2041(0x532)]['wuid']),_0x16c5f4=[];for await(let _0x552501 of _0x61a39d)_0x5bc6f2[_0x5b2041(0x285)](_0x455f19=>_0x455f19[_0x5b2041(0x34e)]===_0x552501['id'])||_0x16c5f4[_0x5b2041(0x7a1)]({'_id':_0x552501['id'],'pushName':_0x552501?.[_0x5b2041(0x6ba)]||_0x552501?.[_0x5b2041(0x342)],'owner':this[_0x5b2041(0x532)][_0x5b2041(0x25a)]});this[_0x5b2041(0x69f)]('contacts.upsert',_0x16c5f4),await this[_0x5b2041(0x1f9)][_0x5b2041(0x662)][_0x5b2041(0x4d8)](_0x16c5f4);},'contacts.update':async(_0x328f07,_0x5046f2)=>{const _0x1bf6fd=_0x52d7b8;let _0x45cb9a=[];for await(let _0x1907ef of _0x328f07)_0x45cb9a[_0x1bf6fd(0x7a1)]({'_id':_0x1907ef['id'],'pushName':_0x1907ef?.[_0x1bf6fd(0x6ba)]??_0x1907ef?.['verifiedName'],'owner':this['instance'][_0x1bf6fd(0x25a)]});this['sendDataWebhook']('contacts.update',_0x45cb9a);}},this[_0x52d7b8(0x1ca)]={'messaging-history.set':async({messages:_0x3a225a,chats:_0x214505,isLatest:_0x4be02b},_0x528db1)=>{const _0x78944b=_0x52d7b8;if(_0x4be02b){let _0x32d86a=await Promise['all'](_0x214505[_0x78944b(0x568)](async _0x1b30da=>({'_id':_0x1b30da['id'],'owner':this[_0x78944b(0x532)][_0x78944b(0x25a)],'group':_0x1b30da['id'][_0x78944b(0x31e)]('@g.us'),'name':_0x1b30da['name']||_0x1b30da[_0x78944b(0x71e)]||null,'contactname':null,'lastmsg':_0x1b30da[_0x78944b(0x789)]&&_0x1b30da[_0x78944b(0x789)][_0x78944b(0x368)]()['length']<0xd?_0x1b30da[_0x78944b(0x789)]*0x3e8:_0x1b30da[_0x78944b(0x789)]||null,'archived':_0x1b30da[_0x78944b(0x493)]||!0x1,'unreadcount':_0x1b30da['unreadCount']||0x0})));this[_0x78944b(0x69f)](_0x78944b(0x18b),_0x32d86a),await this[_0x78944b(0x57e)](_0x32d86a,_0x528db1);}let _0x13669e=[],_0x4c3f48=Date[_0x78944b(0x715)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x238dc7]of Object[_0x78944b(0x41e)](_0x3a225a)){if(_0x238dc7[_0x78944b(0x2a2)]?.[_0x78944b(0x6f9)]||_0x238dc7[_0x78944b(0x2a2)]?.[_0x78944b(0x231)]||!_0x238dc7[_0x78944b(0x2a2)]||_0x238dc7[_0x78944b(0x228)][_0x78944b(0x628)]===_0x78944b(0x396)||(ws[_0x78944b(0x3d0)][_0x78944b(0x470)](_0x238dc7?.[_0x78944b(0x3a1)])&&(_0x238dc7[_0x78944b(0x3a1)]=_0x238dc7[_0x78944b(0x3a1)]?.['toNumber']()),_0x238dc7['messageTimestamp']&&_0x238dc7[_0x78944b(0x3a1)][_0x78944b(0x368)]()['length']<0xd&&(_0x238dc7[_0x78944b(0x3a1)]=_0x238dc7[_0x78944b(0x3a1)]*0x3e8),_0x238dc7[_0x78944b(0x3a1)]<_0x4c3f48))continue;let {message_normalized:_0x64f2c8}=this[_0x78944b(0x213)](_0x238dc7['message'],_(_0x238dc7['message']),null);Object[_0x78944b(0x1aa)](_0x64f2c8)[_0x78944b(0x391)]>0x0&&_0x13669e['push']({'_id':_0x238dc7[_0x78944b(0x228)]['id'],'key':_0x238dc7['key'],'pushName':_0x238dc7[_0x78944b(0x67d)],'participant':_0x238dc7[_0x78944b(0x238)],'message':{..._0x238dc7[_0x78944b(0x2a2)]},'messageType':_(_0x238dc7[_0x78944b(0x2a2)]),'message_normalized':{'key':_0x238dc7[_0x78944b(0x228)],'pushName':_0x238dc7[_0x78944b(0x67d)],'messageTimestamp':_0x238dc7['messageTimestamp'],..._0x64f2c8},'messageTimestamp':_0x238dc7['messageTimestamp'],'owner':this[_0x78944b(0x532)]['wuid']});}_0x528db1[_0x78944b(0x6da)]&&_0x13669e[_0x78944b(0x391)]>0x0&&(this[_0x78944b(0x506)][_0x78944b(0x49e)](this['instanceName']+'\x20('+this[_0x78944b(0x532)]['wuid']+_0x78944b(0x478)+_0x13669e[_0x78944b(0x391)]+'\x20mensagens\x20de\x20'+this[_0x78944b(0x532)][_0x78944b(0x25a)]+_0x78944b(0x559)),await this[_0x78944b(0x1f9)]['message'][_0x78944b(0x4d8)]([..._0x13669e],this['instance']['wuid'])),this[_0x78944b(0x69f)](_0x78944b(0x679),[..._0x13669e]),_0x3a225a=void 0x0;},'messages.upsert':async({messages:_0x380184,type:_0x283f46},_0x4264d0)=>{const _0x3f2c85=_0x52d7b8;let _0x561b68=_0x380184[0x0];if(_0x283f46!==_0x3f2c85(0x4fc)||!_0x561b68?.[_0x3f2c85(0x2a2)]||_0x561b68[_0x3f2c85(0x2a2)]?.[_0x3f2c85(0x6f9)]||_0x561b68[_0x3f2c85(0x2a2)][_0x3f2c85(0x231)]||_0x561b68[_0x3f2c85(0x228)][_0x3f2c85(0x628)]===_0x3f2c85(0x396))return;let _0x5af847=null,_0x159b00=null;try{_0x5af847=await this[_0x3f2c85(0x255)](_0x561b68),_0x159b00=_0x5af847?_0x5af847[_0x3f2c85(0x3f5)](','):null;}catch(_0x1ade8e){this[_0x3f2c85(0x506)]['verbose'](this[_0x3f2c85(0x3a7)]+'\x20('+this[_0x3f2c85(0x532)]['wuid']+_0x3f2c85(0x478)+(_0x1ade8e instanceof Error?_0x1ade8e[_0x3f2c85(0x2a2)]:JSON[_0x3f2c85(0x4cd)](_0x1ade8e,null,0x2))),_0x159b00=_0x3f2c85(0x310);}if(this[_0x3f2c85(0x543)][_0x3f2c85(0x674)](_0x3f2c85(0x50d)),ws[_0x3f2c85(0x3d0)][_0x3f2c85(0x470)](_0x561b68[_0x3f2c85(0x3a1)])&&(_0x561b68[_0x3f2c85(0x3a1)]=_0x561b68['messageTimestamp']?.['toNumber']()),this[_0x3f2c85(0x6e9)]?.[_0x3f2c85(0x253)]&&_0x561b68[_0x3f2c85(0x228)][_0x3f2c85(0x628)][_0x3f2c85(0x516)](_0x3f2c85(0x499))){this[_0x3f2c85(0x506)][_0x3f2c85(0x49e)](_0x3f2c85(0x600));return;}_0x561b68[_0x3f2c85(0x3a1)]&&_0x561b68[_0x3f2c85(0x3a1)][_0x3f2c85(0x368)]()[_0x3f2c85(0x391)]<0xd&&(_0x561b68[_0x3f2c85(0x3a1)]=_0x561b68['messageTimestamp']*0x3e8);let _0x5cdbe8=_0x561b68[_0x3f2c85(0x2a2)],{messageContent:_0xef2bc4,message_normalized:_0x58951b}=this['normalizeMessage'](_0x5cdbe8,_(_0x561b68[_0x3f2c85(0x2a2)]),_0x159b00);_0xef2bc4||console['error'](_0x3f2c85(0x2d9));let _0x33d022={'_id':_0x561b68[_0x3f2c85(0x228)]['id'],'key':_0x561b68['key'],'pushName':_0x561b68['pushName'],'message':{..._0x561b68[_0x3f2c85(0x2a2)]},'messageType':_(_0x561b68[_0x3f2c85(0x2a2)]),'message_normalized':{'key':_0x561b68[_0x3f2c85(0x228)],'pushName':_0x561b68['pushName'],'messageTimestamp':_0x561b68[_0x3f2c85(0x3a1)],'source':(0x0,w[_0x3f2c85(0x221)])(_0x561b68[_0x3f2c85(0x228)]['id']),..._0x58951b},'messageTimestamp':_0x561b68['messageTimestamp'],'owner':this[_0x3f2c85(0x532)]['wuid'],'source':(0x0,w[_0x3f2c85(0x221)])(_0x561b68['key']['id'])};this[_0x3f2c85(0x506)][_0x3f2c85(0x16d)](_0x33d022),await this[_0x3f2c85(0x1f9)][_0x3f2c85(0x2a2)][_0x3f2c85(0x4d8)]([_0x33d022],this[_0x3f2c85(0x532)]['wuid']),this[_0x3f2c85(0x69f)](_0x3f2c85(0x236),_0x33d022),j(this[_0x3f2c85(0x3a7)],_0x3f2c85(0x2ba),{'message':_0x33d022}),_0x561b68[_0x3f2c85(0x228)]['remoteJid']!==_0x3f2c85(0x396)&&await this['updateChatWithMessage'](_0x4264d0,_0x33d022,_0x3f2c85(0x330));},'messages.update':async(_0x4da6c4,_0x46d5b2)=>{const _0x19e99f=_0x52d7b8;let _0x29005c={0x0:_0x19e99f(0x775),0x1:_0x19e99f(0x311),0x2:_0x19e99f(0x192),0x3:_0x19e99f(0x1fb),0x4:_0x19e99f(0x50e),0x5:'PLAYED'};for await(let {key:_0x162c7b,update:_0x33f0c5}of _0x4da6c4){if(this[_0x19e99f(0x6e9)]?.['groups_ignore']&&_0x162c7b[_0x19e99f(0x628)][_0x19e99f(0x516)](_0x19e99f(0x499))){this[_0x19e99f(0x506)][_0x19e99f(0x49e)](_0x19e99f(0x600));return;}if(_0x162c7b['remoteJid']!==_0x19e99f(0x396)){let _0x2a845c=Date['now'](),_0x3971df;_0x33f0c5[_0x19e99f(0x2a2)]===null&&_0x33f0c5[_0x19e99f(0x6b6)]===void 0x0?_0x3971df=_0x19e99f(0x5d1):_0x3971df=_0x29005c[_0x33f0c5[_0x19e99f(0x6b6)]];let _0x4697df=_0x162c7b[_0x19e99f(0x628)]['replace'](/:\d{1,2}@/g,'@'),_0x44c1ef={..._0x162c7b,'remoteJid':_0x4697df,'status':_0x3971df,'datetime':_0x2a845c,'owner':this[_0x19e99f(0x532)][_0x19e99f(0x25a)]};this[_0x19e99f(0x69f)](_0x19e99f(0x483),_0x44c1ef),await this[_0x19e99f(0x539)](_0x162c7b,_0x44c1ef);}}},'labels.association':async({type:_0x4e0599,association:_0x505c88})=>{const _0x3d17e7=_0x52d7b8;if(_0x505c88['type']==='label_jid')switch(_0x4e0599){case'add':console[_0x3d17e7(0x16d)](_0x3d17e7(0x705)),console[_0x3d17e7(0x16d)](_0x505c88),await this[_0x3d17e7(0x1f9)][_0x3d17e7(0x497)][_0x3d17e7(0x27f)]({'where':{'_id':_0x505c88[_0x3d17e7(0x751)]}},{'labels':_0x505c88[_0x3d17e7(0x3e1)]},this[_0x3d17e7(0x532)]['wuid'],void 0x0,_0x3d17e7(0x281));break;case'remove':console[_0x3d17e7(0x16d)](_0x3d17e7(0x546)),console[_0x3d17e7(0x16d)](_0x505c88),await this[_0x3d17e7(0x1f9)][_0x3d17e7(0x497)]['updateOne']({'where':{'_id':_0x505c88[_0x3d17e7(0x751)]}},{'labels':_0x505c88[_0x3d17e7(0x3e1)]},this[_0x3d17e7(0x532)][_0x3d17e7(0x25a)],void 0x0,_0x3d17e7(0x3d7));break;default:console[_0x3d17e7(0x417)](_0x3d17e7(0x351)+_0x4e0599+']');}},'labels.edit':async _0x12a878=>{const _0x2bf011=_0x52d7b8;if(!_0x12a878||!_0x12a878['id']){console[_0x2bf011(0x417)](_0x2bf011(0x1d7));return;}let _0xce3353={'_id':_0x12a878['id'],'color':_0x12a878?.[_0x2bf011(0x2bd)],'name':_0x12a878?.['name'],'owner':this['instance'][_0x2bf011(0x25a)]};await this[_0x2bf011(0x1f9)][_0x2bf011(0x386)][_0x2bf011(0x27f)]({'where':{'_id':_0x12a878['id']}},_0xce3353,this[_0x2bf011(0x532)][_0x2bf011(0x25a)]),console[_0x2bf011(0x16d)](_0x2bf011(0x597),_0x12a878),_0x12a878[_0x2bf011(0x47a)]&&(await this[_0x2bf011(0x1f9)][_0x2bf011(0x386)][_0x2bf011(0x27c)]({'where':{'_id':_0x12a878['id']}},this['instance'][_0x2bf011(0x25a)]),console[_0x2bf011(0x16d)](_0x2bf011(0x553),_0x12a878['id']));}},this['groupHandler']={'groups.upsert':_0x582f4d=>{const _0x2262c6=_0x52d7b8;this[_0x2262c6(0x69f)](_0x2262c6(0x46f),_0x582f4d);},'groups.update':_0x3ce7bb=>{const _0x3e4a9d=_0x52d7b8;this[_0x3e4a9d(0x69f)](_0x3e4a9d(0x5db),_0x3ce7bb);},'group-participants.update':_0x41b5d9=>{const _0x93c006=_0x52d7b8;this[_0x93c006(0x69f)]('group-participants.update',_0x41b5d9);}},this[_0x52d7b8(0x255)]=async _0x2bfe10=>{const _0x3e97e9=_0x52d7b8;if(_0x2bfe10[_0x3e97e9(0x2a2)]?.[_0x3e97e9(0x5d2)]){let _0x6c06fa=await this[_0x3e97e9(0x5c7)](_0x2bfe10[_0x3e97e9(0x2a2)][_0x3e97e9(0x5d2)][_0x3e97e9(0x3fb)],!0x0);if(_0x6c06fa){let _0x595016=_0x6c06fa['key']['fromMe']?this['instance'][_0x3e97e9(0x25a)]+_0x3e97e9(0x678):_0x6c06fa[_0x3e97e9(0x228)][_0x3e97e9(0x238)]||_0x6c06fa[_0x3e97e9(0x228)][_0x3e97e9(0x628)],_0x281e0c=_0x6c06fa[_0x3e97e9(0x228)]['id'],_0x3588f8=_0x6c06fa[_0x3e97e9(0x2a2)],_0x533b8a=Buffer[_0x3e97e9(0x40e)](_0x3588f8['messageContextInfo'][_0x3e97e9(0x558)][_0x3e97e9(0x368)](_0x3e97e9(0x287)),_0x3e97e9(0x287)),_0x3b4c20=(0x0,w[_0x3e97e9(0x3ab)])(_0x2bfe10[_0x3e97e9(0x2a2)][_0x3e97e9(0x5d2)][_0x3e97e9(0x525)],{'pollCreatorJid':_0x595016,'pollMsgId':_0x281e0c,'pollEncKey':_0x533b8a,'voterJid':_0x2bfe10['key'][_0x3e97e9(0x72f)]?this[_0x3e97e9(0x532)]['wuid']+'@s.whatsapp.net':_0x2bfe10[_0x3e97e9(0x228)][_0x3e97e9(0x628)][_0x3e97e9(0x31e)](_0x3e97e9(0x669))?_0x2bfe10[_0x3e97e9(0x228)][_0x3e97e9(0x238)]:_0x2bfe10[_0x3e97e9(0x228)]['remoteJid']}),_0x2d4e4c=[],_0x852579=_0x3b4c20['selectedOptions'][_0x3e97e9(0x568)](_0x3bbb24=>Buffer[_0x3e97e9(0x40e)](_0x3bbb24)['toString'](_0x3e97e9(0x287)));for(let {optionName:_0x18a2a4}of _0x3588f8['pollCreationMessage']?.[_0x3e97e9(0x3db)]||_0x3588f8[_0x3e97e9(0x4be)]?.[_0x3e97e9(0x3db)]||_0x3588f8['pollCreationMessageV2']?.[_0x3e97e9(0x3db)])_0x852579[_0x3e97e9(0x773)]((0x0,w[_0x3e97e9(0x509)])(Buffer[_0x3e97e9(0x40e)](_0x18a2a4))[_0x3e97e9(0x368)](_0x3e97e9(0x287)))>-0x1&&_0x2d4e4c[_0x3e97e9(0x7a1)](_0x18a2a4);return _0x2d4e4c;}}return null;},this[_0x52d7b8(0x213)]=(_0x2f81da,_0xe7d4bd,_0x48abd4)=>{const _0x50e318=_0x52d7b8;try{let _0xd38837=_0xe7d4bd?_0x2f81da[_0xe7d4bd]:void 0x0,_0xffbd94={},_0x28438d=null,_0xfcecfd=null,_0x2c636f=null;if(_0x2f81da[_0x50e318(0x433)]?(_0xe7d4bd=_(_0x2f81da['viewOnceMessageV2']['message']),_0xd38837=_0x2f81da['viewOnceMessageV2']['message'][_0xe7d4bd]):_0x2f81da[_0x50e318(0x5fc)]?(_0xe7d4bd=_(_0x2f81da[_0x50e318(0x5fc)]['message']),_0xd38837=_0x2f81da['viewOnceMessageV2Extension'][_0x50e318(0x2a2)][_0xe7d4bd]):_0x2f81da[_0x50e318(0x2f5)]?(_0xe7d4bd=_(_0x2f81da[_0x50e318(0x2f5)][_0x50e318(0x2a2)]),_0xd38837=_0x2f81da[_0x50e318(0x2f5)][_0x50e318(0x2a2)][_0xe7d4bd]):_0x2f81da[_0x50e318(0x191)]?(_0xe7d4bd=_(_0x2f81da[_0x50e318(0x2a2)][_0x50e318(0x191)][_0x50e318(0x2a2)]),_0xd38837=_0x2f81da[_0x50e318(0x2a2)][_0x50e318(0x191)][_0x50e318(0x2a2)][_0xe7d4bd]):_0x2f81da[_0x50e318(0x1a3)]?.[_0x50e318(0x2a2)]?.[_0x50e318(0x6f9)]?.[_0x50e318(0x1a3)]?(_0xe7d4bd=_(_0x2f81da[_0x50e318(0x1a3)][_0x50e318(0x2a2)][_0x50e318(0x6f9)][_0x50e318(0x1a3)]),_0x28438d=_0x2f81da[_0x50e318(0x1a3)][_0x50e318(0x2a2)][_0x50e318(0x6f9)][_0x50e318(0x228)]['id'],_0xd38837=_0x2f81da[_0x50e318(0x1a3)][_0x50e318(0x2a2)][_0x50e318(0x6f9)]['editedMessage'][_0xe7d4bd]):_0xd38837=_0x2f81da[_0xe7d4bd],!_0xe7d4bd||!_0xd38837)return console[_0x50e318(0x417)](_0x50e318(0x634),_0x2f81da),{'messageType':_0xe7d4bd,'messageContent':_0xd38837,'message_normalized':{}};_0x2f81da[_0xe7d4bd]?.['contextInfo']?.[_0x50e318(0x666)]&&_0x2f81da[_0xe7d4bd]?.[_0x50e318(0x63a)]?.[_0x50e318(0x5cc)]&&(_0xfcecfd=_0x2f81da[_0xe7d4bd][_0x50e318(0x63a)][_0x50e318(0x666)]),_0x2f81da['reactionMessage']&&(_0x2c636f=_0x2f81da['reactionMessage'][_0x50e318(0x228)]['id']);let _0x173be0;if(_0xd38837&&typeof _0xd38837=='object'&&'pollCreationMessageKey'in _0xd38837&&({pollCreationMessageKey:_0x173be0}=_0xd38837),_0xe7d4bd===_0x50e318(0x34a)){let _0xc8ce1c=_0xd38837?.[_0x50e318(0x2a2)]?.[_0x50e318(0x1ce)];_0xc8ce1c&&(_0xd38837=_0xc8ce1c);}if(_0xe7d4bd===_0x50e318(0x500)||_0xe7d4bd===_0x50e318(0x787)||_0xe7d4bd===_0x50e318(0x4be)){let _0x233a8a=_0xd38837['options'][_0x50e318(0x568)](_0x2fd6d2=>_0x2fd6d2['optionName'])[_0x50e318(0x3f5)]('|');_0xffbd94['convertedOptions']=_0x233a8a;}let _0x29388f=_0xd38837[_0x50e318(0x6ba)]||_0xd38837[_0x50e318(0x5be)]||_0xd38837[_0x50e318(0x169)]||_0xd38837[_0x50e318(0x71e)];if(_0xe7d4bd===_0x50e318(0x21d)){_0x29388f=(_0xd38837[_0x50e318(0x1b4)]||'')+'\x0a'+(_0xd38837['description']||'')+'\x0a'+(_0xd38837[_0x50e318(0x4de)]||'');let _0x4a4f2a=this['sectionsToString'](_0xd38837[_0x50e318(0x198)]);_0xffbd94['convertedOptions']=_0x4a4f2a;}if(_0xe7d4bd==='listResponseMessage'&&(_0x48abd4=_0xd38837[_0x50e318(0x1b4)]),_0xd38837[_0x50e318(0x63f)]){let _0x3390d2=this[_0x50e318(0x2b2)](JSON['stringify'](_0xd38837[_0x50e318(0x63f)],null,0x2));_0x29388f=_0x29388f+'\x0a'+_0x3390d2;}if(_0xd38837){let {sections:_0x44f991,listType:_0xccceb0,displayName:_0x259829,vcard:_0x3d8295,contactVcard:_0x5f0417,name:_0x4fd2cd,caption:_0x29ff80,conversation:_0x3ec6c1,pollCreationMessageKey:_0x2f5d97,footerText:_0x434a20,contentText:_0x5b947a,pageCount:_0x2fa59d,headerType:_0x5b7366,isAvatar:_0x3bb014,isAnimated:_0x5caf43,fallbackLc:_0x767c07,fallbackLg:_0x584bf3,namespace:_0x22f8a9,elementName:_0x4e61b9,localizableParams:_0x43147c,viewOnce:_0x2ef61d,height:_0x38fba6,width:_0x26b4bd,key:_0x3b6535,firstScanLength:_0x2d8921,firstScanSidecar:_0x4afc3c,gifPlayback:_0x2c0191,gifAttribution:_0x2c2d0c,midQualityFileSha256:_0x221fae,scansSidecar:_0x567263,streamingSidecar:_0x49c394,thumbnailHeight:_0x30ad62,thumbnailWidth:_0x3da110,thumbnailEncSha256:_0x3413da,thumbnailDirectPath:_0x1d5973,canonicalUrl:_0x22f4ac,matchedText:_0x47d544,previewType:_0x4293c3,thumbnailSha256:_0x292a91,deviceListMetadataVersion:_0x3232cb,inviteLinkGroupTypeV2:_0x4a93a5,interactiveAnnotations:_0x1fdae1,scanLengths:_0x23ccb4,jpegThumbnail:_0x5a1192,url:_0x1cb581,mediaKeyTimestamp:_0x296189,waveform:_0x3e964d,stickerSentTs:_0x36bf72,firstFrameLength:_0x46c27a,fileEncSha256:_0xedd789,contextInfo:_0x4a60e4,firstFrameSidecar:_0xb167f,directPath:_0x3478cd,fileSha256:_0x1da74d,mediaKey:_0x153c6c,senderTimestampMs:_0x1b363d,..._0x4f0ab6}=_0xd38837;(_0xe7d4bd===_0x50e318(0x21d)||_0xe7d4bd===_0x50e318(0x758))&&(delete _0x4f0ab6[_0x50e318(0x1b4)],delete _0x4f0ab6[_0x50e318(0x71a)]),typeof _0xd38837==_0x50e318(0x474)?_0xffbd94={'text':_0xd38837,'type':_0xe7d4bd||'conversation',..._0x28438d&&{'edited':_0x28438d},..._0xfcecfd&&{'quoted':_0xfcecfd},..._0x2c636f&&{'reaction':_0x2c636f}}:_0xffbd94={'text':_0x29388f,..._0x4f0ab6,..._0xe7d4bd===_0x50e318(0x5d2)?{'poll_id':_0xd38837[_0x50e318(0x3fb)]['id'],'quoted':_0xd38837[_0x50e318(0x3fb)]['id'],'vote':_0x48abd4}:{},..._0xe7d4bd===_0x50e318(0x758)?{'vote':_0x48abd4}:{},'type':_0xe7d4bd,..._0x28438d&&{'edited':_0x28438d},..._0xfcecfd&&{'quoted':_0xfcecfd},..._0x2c636f&&{'reaction':_0x2c636f},...(_0xe7d4bd===_0x50e318(0x500)||_0xe7d4bd===_0x50e318(0x787)||_0xe7d4bd===_0x50e318(0x4be)||_0xe7d4bd===_0x50e318(0x21d))&&{'convertedOptions':_0xffbd94['convertedOptions']}};}return{'messageType':_0xe7d4bd,'messageContent':_0xd38837,'message_normalized':_0xffbd94};}catch(_0xd7e01a){console[_0x50e318(0x417)](_0x50e318(0x3b7),_0xd7e01a);}},this[_0x52d7b8(0x41a)]=null,this[_0x52d7b8(0x535)]=0x0,this[_0x52d7b8(0x3e6)]=null,(this['cleanStore'](),this[_0x52d7b8(0x532)]['qrcode']={'count':0x0});}set['instanceName'](_0x349d0b){const _0x2c1202=a0_0x3656ce;if(!_0x349d0b){this[_0x2c1202(0x532)]['name']=(0x0,gr['v4'])();return;}this[_0x2c1202(0x532)][_0x2c1202(0x6ba)]=_0x349d0b,this[_0x2c1202(0x69f)](_0x2c1202(0x1a4),{'instance':this['instance'][_0x2c1202(0x6ba)],'status':_0x2c1202(0x44e)});}get['instanceName'](){const _0x51350f=a0_0x3656ce;return this[_0x51350f(0x532)]['name'];}get['wuid'](){const _0x9cae8c=a0_0x3656ce;return this[_0x9cae8c(0x532)][_0x9cae8c(0x25a)];}async['getProfileName'](){const _0x276aa1=a0_0x3656ce;let _0x5201c0=this[_0x276aa1(0x543)]['user']?.['name']??this[_0x276aa1(0x543)][_0x276aa1(0x2ca)]?.[_0x276aa1(0x342)];if(!_0x5201c0){if(this[_0x276aa1(0x5b9)][_0x276aa1(0x786)](_0x276aa1(0x2cf))[_0x276aa1(0x6da)]){let _0x253928=await N[_0x276aa1(0x359)]()['db'](this['configService']['get']('DATABASE')[_0x276aa1(0x50c)][_0x276aa1(0x4c4)]+_0x276aa1(0x601))[_0x276aa1(0x2ea)](this['instanceName'])[_0x276aa1(0x166)]({'_id':'creds'});if(_0x253928){let _0x59bad4=JSON[_0x276aa1(0x42d)](JSON[_0x276aa1(0x4cd)](_0x253928),w[_0x276aa1(0x318)][_0x276aa1(0x300)]);_0x5201c0=_0x59bad4['me']?.[_0x276aa1(0x6ba)]||_0x59bad4['me']?.[_0x276aa1(0x342)];}}else{if((0x0,Ee[_0x276aa1(0x21c)])((0x0,P[_0x276aa1(0x3f5)])(de,this[_0x276aa1(0x3a7)],'creds.json'))){let _0x185d28=JSON[_0x276aa1(0x42d)]((0x0,Ee[_0x276aa1(0x43e)])((0x0,P['join'])(de,this['instanceName'],_0x276aa1(0x4cb)),{'encoding':_0x276aa1(0x230)}));_0x5201c0=_0x185d28['me']?.[_0x276aa1(0x6ba)]||_0x185d28['me']?.[_0x276aa1(0x342)];}}}return _0x5201c0;}get[a0_0x3656ce(0x659)](){const _0xc5f6fe=a0_0x3656ce;return this['instance'][_0xc5f6fe(0x659)];}get['qrCode'](){const _0x31007d=a0_0x3656ce;return{'pairingCode':this[_0x31007d(0x532)][_0x31007d(0x277)]?.[_0x31007d(0x2e8)],'code':this[_0x31007d(0x532)]['qrcode']?.[_0x31007d(0x768)],'base64':this[_0x31007d(0x532)][_0x31007d(0x277)]?.[_0x31007d(0x2fc)]};}async[a0_0x3656ce(0x4a8)](){const _0x24df1e=a0_0x3656ce;let _0x1bcf93=await this[_0x24df1e(0x1f9)][_0x24df1e(0x58a)]['find'](this['instanceName']);this[_0x24df1e(0x6e9)][_0x24df1e(0x627)]=_0x1bcf93?.['url'],this[_0x24df1e(0x6e9)]['enabled']=_0x1bcf93?.['enabled'],this[_0x24df1e(0x6e9)][_0x24df1e(0x651)]=_0x1bcf93?.[_0x24df1e(0x651)],this['localWebhook']['STATUS_INSTANCE']=_0x1bcf93?.[_0x24df1e(0x61c)],this['localWebhook'][_0x24df1e(0x4f2)]=_0x1bcf93?.['QRCODE_UPDATED'],this[_0x24df1e(0x6e9)][_0x24df1e(0x374)]=_0x1bcf93?.[_0x24df1e(0x374)],this['localWebhook'][_0x24df1e(0x330)]=_0x1bcf93?.['MESSAGES_UPSERT'],this[_0x24df1e(0x6e9)][_0x24df1e(0x43f)]=_0x1bcf93?.['MESSAGES_UPDATE'],this[_0x24df1e(0x6e9)]['GROUPS_UPSERT']=_0x1bcf93?.[_0x24df1e(0x545)],this[_0x24df1e(0x6e9)][_0x24df1e(0x5ba)]=_0x1bcf93?.[_0x24df1e(0x5ba)],this['localWebhook'][_0x24df1e(0x462)]=_0x1bcf93?.[_0x24df1e(0x462)],this['localWebhook']['CHATS_SET']=_0x1bcf93?.[_0x24df1e(0x301)],this['localWebhook'][_0x24df1e(0x577)]=_0x1bcf93?.['CHATS_UPSERT'],this[_0x24df1e(0x6e9)][_0x24df1e(0x446)]=_0x1bcf93?.[_0x24df1e(0x446)],this[_0x24df1e(0x6e9)][_0x24df1e(0x293)]=_0x1bcf93?.[_0x24df1e(0x293)],this[_0x24df1e(0x6e9)][_0x24df1e(0x6f5)]=_0x1bcf93?.[_0x24df1e(0x6f5)],this[_0x24df1e(0x6e9)][_0x24df1e(0x591)]=_0x1bcf93?.[_0x24df1e(0x591)],this[_0x24df1e(0x6e9)][_0x24df1e(0x581)]=_0x1bcf93?.[_0x24df1e(0x581)],this[_0x24df1e(0x6e9)][_0x24df1e(0x6b9)]=_0x1bcf93?.[_0x24df1e(0x6b9)],this['localWebhook'][_0x24df1e(0x53e)]=_0x1bcf93?.[_0x24df1e(0x53e)],this[_0x24df1e(0x6e9)][_0x24df1e(0x21a)]=_0x1bcf93?.[_0x24df1e(0x21a)],this[_0x24df1e(0x6e9)]['groups_ignore']=_0x1bcf93?.[_0x24df1e(0x253)];}async['setWebhook'](_0x2d405c){const _0x57762b=a0_0x3656ce;let _0x4c39b2=['_id',_0x57762b(0x627),_0x57762b(0x3b0),_0x57762b(0x651),_0x57762b(0x61c),_0x57762b(0x4f2),_0x57762b(0x43f),_0x57762b(0x330),'SEND_MESSAGE',_0x57762b(0x545),_0x57762b(0x5ba),'GROUP_PARTICIPANTS_UPDATE',_0x57762b(0x301),'CHATS_UPSERT',_0x57762b(0x446),_0x57762b(0x293),_0x57762b(0x6f5),'CONTACTS_UPSERT',_0x57762b(0x581),_0x57762b(0x6b9),_0x57762b(0x53e),_0x57762b(0x21a),_0x57762b(0x253)],_0x2b43a2={};return _0x4c39b2[_0x57762b(0x579)](_0x53dce9=>{_0x2d405c[_0x53dce9]!==void 0x0&&(_0x2b43a2[_0x53dce9]=_0x2d405c[_0x53dce9]);}),await this[_0x57762b(0x1f9)][_0x57762b(0x58a)][_0x57762b(0x263)](_0x2b43a2,this[_0x57762b(0x3a7)]),Object[_0x57762b(0x4f7)](this[_0x57762b(0x6e9)],_0x2b43a2),await this['repository'][_0x57762b(0x58a)][_0x57762b(0x285)](this[_0x57762b(0x3a7)]);}async[a0_0x3656ce(0x5b5)](){const _0x18de44=a0_0x3656ce;return await this[_0x18de44(0x1f9)]['webhook'][_0x18de44(0x285)](this[_0x18de44(0x3a7)]);}async['sendDataWebhook'](_0x562cb0,_0x53dcfc){const _0x904464=a0_0x3656ce;let _0x3fe994=_0x562cb0[_0x904464(0x69a)](/[\.-]/gm,'_')[_0x904464(0x304)](),_0x1648c9=this[_0x904464(0x6e9)][_0x904464(0x3b0)]&&(0x0,$['isURL'])(this[_0x904464(0x6e9)]['url'])?this[_0x904464(0x6e9)][_0x904464(0x627)]+(this[_0x904464(0x6e9)][_0x904464(0x651)]?this['webhookMap'][_0x562cb0]:''):null,_0x35a4fd=this[_0x904464(0x6e9)][_0x3fe994],_0x3005df=oe&&oe[_0x904464(0x3b0)]&&(0x0,$['isURL'])(oe[_0x904464(0x627)])?oe[_0x904464(0x627)]+(oe[_0x904464(0x651)]?this[_0x904464(0x534)][_0x562cb0]:''):null,_0x18d0e3=oe?oe[_0x3fe994]:null;if(_0x35a4fd&&_0x1648c9)try{await te[_0x904464(0x3d0)][_0x904464(0x263)]({'baseURL':_0x1648c9})[_0x904464(0x282)]('',{'event':_0x562cb0,'instance':this[_0x904464(0x532)][_0x904464(0x6ba)],'data':_0x53dcfc}),this[_0x904464(0x506)][_0x904464(0x16d)](_0x904464(0x6b1)+_0x562cb0+':\x20'+_0x1648c9);}catch(_0xe7bd6){this['logger']['error'](this[_0x904464(0x3a7)]+'\x20('+this['instance'][_0x904464(0x25a)]+_0x904464(0x478)+{'local':c[_0x904464(0x6ba)]+'.sendDataWebhook-local','message':_0xe7bd6?.[_0x904464(0x2a2)],'hostName':_0xe7bd6?.[_0x904464(0x61d)],'syscall':_0xe7bd6?.[_0x904464(0x406)],'code':_0xe7bd6?.[_0x904464(0x768)],'error':_0xe7bd6?.[_0x904464(0x234)],'stack':_0xe7bd6?.[_0x904464(0x34d)],'name':_0xe7bd6?.[_0x904464(0x6ba)]});}if(_0x18d0e3&&_0x3005df)try{await te['default'][_0x904464(0x263)]({'baseURL':_0x3005df})[_0x904464(0x282)]('',{'event':_0x562cb0,'instance':this[_0x904464(0x532)][_0x904464(0x6ba)],'data':_0x53dcfc}),this[_0x904464(0x506)][_0x904464(0x16d)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x562cb0+':\x20'+_0x3005df);}catch(_0x52d4a7){this[_0x904464(0x506)][_0x904464(0x417)](this[_0x904464(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20'+{'local':c[_0x904464(0x6ba)]+_0x904464(0x57c),'message':_0x52d4a7?.[_0x904464(0x2a2)],'hostName':_0x52d4a7?.[_0x904464(0x61d)],'syscall':_0x52d4a7?.[_0x904464(0x406)],'code':_0x52d4a7?.['code'],'error':_0x52d4a7?.[_0x904464(0x234)],'stack':_0x52d4a7?.['stack'],'name':_0x52d4a7?.['name']});}}async[a0_0x3656ce(0x4f0)]({qr:_0x2b34ed,connection:_0x516e96,lastDisconnect:_0x25d7fa}){const _0x11a231=a0_0x3656ce;if(_0x2b34ed){if(this[_0x11a231(0x532)]['qrcode'][_0x11a231(0x49f)]===po)return this[_0x11a231(0x69f)](_0x11a231(0x587),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x11a231(0x624)]['badSession']}),this[_0x11a231(0x3cf)]={'state':_0x11a231(0x6bf),'statusReason':w[_0x11a231(0x624)][_0x11a231(0x542)]},this[_0x11a231(0x69f)](_0x11a231(0x355),{'instance':this[_0x11a231(0x532)][_0x11a231(0x6ba)],...this[_0x11a231(0x3cf)]}),this[_0x11a231(0x69f)]('status.instance',{'instance':this[_0x11a231(0x532)]['name'],'status':_0x11a231(0x726)}),this[_0x11a231(0x1f9)]['auth'][_0x11a231(0x263)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x11a231(0x715)]()},this[_0x11a231(0x532)]['name']),this[_0x11a231(0x5cf)]=!0x0,this[_0x11a231(0x64a)]['emit']('no.connection',this[_0x11a231(0x532)][_0x11a231(0x6ba)]);this[_0x11a231(0x532)][_0x11a231(0x277)][_0x11a231(0x49f)]++;let _0x582f49={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x11a231(0x53d),'dark':_0x11a231(0x208)}};hr[_0x11a231(0x3d0)][_0x11a231(0x6af)](_0x2b34ed,_0x582f49,(_0x49e3e2,_0x464474)=>{const _0x1a3be2=_0x11a231;if(_0x49e3e2){this[_0x1a3be2(0x506)][_0x1a3be2(0x417)](this[_0x1a3be2(0x3a7)]+'\x20('+this[_0x1a3be2(0x532)][_0x1a3be2(0x25a)]+_0x1a3be2(0x6d5)+(_0x49e3e2 instanceof Error?_0x49e3e2[_0x1a3be2(0x2a2)]:JSON[_0x1a3be2(0x4cd)](_0x49e3e2,null,0x2)));return;}this[_0x1a3be2(0x532)]['qrcode']['base64']=_0x464474,this[_0x1a3be2(0x532)][_0x1a3be2(0x277)][_0x1a3be2(0x768)]=_0x2b34ed,this['sendDataWebhook'](_0x1a3be2(0x587),{'qrcode':{'instance':this[_0x1a3be2(0x532)][_0x1a3be2(0x6ba)],'pairingCode':this['instance']['qrcode']['pairingCode'],'code':_0x2b34ed,'base64':_0x464474}});}),this[_0x11a231(0x1f1)]?this[_0x11a231(0x532)][_0x11a231(0x277)]['pairingCode']=await this[_0x11a231(0x543)]['requestPairingCode'](this[_0x11a231(0x1f1)]):this[_0x11a231(0x532)]['qrcode']['pairingCode']=null,mr['default']['generate'](_0x2b34ed,{'small':!0x0},_0x37a949=>this[_0x11a231(0x506)][_0x11a231(0x16d)](_0x11a231(0x68f)+this[_0x11a231(0x532)]['name']+_0x11a231(0x720)+this[_0x11a231(0x532)][_0x11a231(0x277)][_0x11a231(0x49f)]+',\x20pairCode:\x20'+this[_0x11a231(0x532)][_0x11a231(0x277)]['pairingCode']+_0x11a231(0x2b8)+_0x37a949));}if(_0x516e96&&(this['stateConnection']={'state':_0x516e96,'statusReason':_0x25d7fa?.[_0x11a231(0x417)]?.[_0x11a231(0x60d)]?.[_0x11a231(0x3df)]??0xc8},this[_0x11a231(0x69f)]('connection.update',{'instance':this[_0x11a231(0x532)][_0x11a231(0x6ba)],...this[_0x11a231(0x3cf)]})),_0x516e96===_0x11a231(0x1bf)){if(this[_0x11a231(0x24c)]++,this['reconnectTimestamps'][_0x11a231(0x7a1)](Date[_0x11a231(0x715)]()),this['reconnectTimestamps']=this[_0x11a231(0x7a5)][_0x11a231(0x20d)](_0x270c14=>Date['now']()-_0x270c14<this[_0x11a231(0x1bd)]),_0x25d7fa['error']?.[_0x11a231(0x60d)]?.[_0x11a231(0x3df)]!==w[_0x11a231(0x624)]['loggedOut']&&this['reconnectTimestamps']['length']<=this[_0x11a231(0x2d1)])await this[_0x11a231(0x56c)]();else{this[_0x11a231(0x69f)](_0x11a231(0x1a4),{'instance':this['instance']['name'],'status':_0x11a231(0x726)}),this[_0x11a231(0x738)]=!0x1,this['repository'][_0x11a231(0x58a)]['delete'](this[_0x11a231(0x3a7)]),this[_0x11a231(0x1f9)][_0x11a231(0x5e1)][_0x11a231(0x263)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x11a231(0x715)]()},this[_0x11a231(0x532)][_0x11a231(0x6ba)]);try{this[_0x11a231(0x506)]['verbose'](this['instanceName']+'\x20('+this[_0x11a231(0x532)]['wuid']+_0x11a231(0x3e4));let _0x435480=await this[_0x11a231(0x1f9)][_0x11a231(0x2a2)][_0x11a231(0x73d)](this[_0x11a231(0x532)][_0x11a231(0x25a)]);_0x435480[_0x11a231(0x2bb)]?this['logger'][_0x11a231(0x49e)](this[_0x11a231(0x3a7)]+'\x20('+this['instance']['wuid']+_0x11a231(0x1ef)):console[_0x11a231(0x417)](_0x11a231(0x612),_0x435480['error']);}catch(_0x5d3846){console[_0x11a231(0x417)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x5d3846);}this[_0x11a231(0x504)]!==null&&(this[_0x11a231(0x506)][_0x11a231(0x49e)](this[_0x11a231(0x3a7)]+'\x20('+this['instance'][_0x11a231(0x25a)]+_0x11a231(0x196)),clearInterval(this[_0x11a231(0x504)]),this[_0x11a231(0x504)]=null),this[_0x11a231(0x506)]['verbose'](this[_0x11a231(0x3a7)]+'\x20('+this[_0x11a231(0x532)][_0x11a231(0x25a)]+_0x11a231(0x16c)),this[_0x11a231(0x573)]=null,this[_0x11a231(0x64a)][_0x11a231(0x1a0)]('remove.instance',this[_0x11a231(0x532)][_0x11a231(0x6ba)],_0x11a231(0x233)),this[_0x11a231(0x543)]?.['ws']?.[_0x11a231(0x1bf)](),this[_0x11a231(0x543)][_0x11a231(0x250)](new Error(_0x11a231(0x510)));}}if(_0x516e96===_0x11a231(0x2ff)){this[_0x11a231(0x40d)],this['instance']['wuid']=this[_0x11a231(0x543)][_0x11a231(0x2ca)]['id'][_0x11a231(0x69a)](/:\d+/,'')[_0x11a231(0x69a)](_0x11a231(0x678),''),this[_0x11a231(0x532)][_0x11a231(0x659)]=(await this[_0x11a231(0x48c)](this[_0x11a231(0x532)][_0x11a231(0x25a)]+_0x11a231(0x678)))[_0x11a231(0x659)],this['repository'][_0x11a231(0x5e1)][_0x11a231(0x263)]({'online':!0x0,'owner':this[_0x11a231(0x532)][_0x11a231(0x25a)],'lastDisconnect':null},this[_0x11a231(0x532)][_0x11a231(0x6ba)]);let _0x1d5542=_0x11a231(0x55a)+this['instance']['wuid'],_0x5ab878=0x28,_0x297666=Math[_0x11a231(0x5bc)]((_0x5ab878-_0x1d5542[_0x11a231(0x391)])/0x2),_0x4f8607='\x20'[_0x11a231(0x414)](_0x297666),_0x477945=_0x11a231(0x3a2),_0x19cb08=_0x11a231(0x36b)+this[_0x11a231(0x532)][_0x11a231(0x6ba)],_0x54ceb=(''+_0x4f8607+_0x1d5542+_0x4f8607)['padEnd'](_0x5ab878,'\x20'),_0x4b7b21=(''+_0x4f8607+_0x477945+_0x4f8607)[_0x11a231(0x4af)](_0x5ab878,'\x20'),_0x4a6c15=(''+_0x4f8607+_0x19cb08+_0x4f8607)[_0x11a231(0x4af)](_0x5ab878,'\x20'),_0x1ed500=Math['max'](_0x54ceb[_0x11a231(0x391)],_0x4b7b21[_0x11a231(0x391)],_0x4a6c15[_0x11a231(0x391)]),_0x2c0bec=_0x54ceb[_0x11a231(0x4af)](_0x1ed500,'\x20'),_0x2137e1=_0x4b7b21[_0x11a231(0x4af)](_0x1ed500,'\x20'),_0x2640fd=_0x4a6c15['padEnd'](_0x1ed500,'\x20');this[_0x11a231(0x506)][_0x11a231(0x5e0)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x11a231(0x414)](_0x1ed500)+_0x11a231(0x498)+_0x2137e1+_0x11a231(0x551)+_0x2640fd+_0x11a231(0x551)+_0x2c0bec+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x11a231(0x414)](_0x1ed500)+'┘')[_0x11a231(0x69a)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x11a231(0x738)]=!0x0;}}['resetReconnectionVariables'](){const _0x97e05c=a0_0x3656ce;this['reconnectAttempts']=0x0,this[_0x97e05c(0x7a5)]=[];}async[a0_0x3656ce(0x5c7)](_0x4e5b7b,_0xb326fd=!0x1){const _0x14b4c5=a0_0x3656ce;try{let _0xbe80c0=await this['repository']['message'][_0x14b4c5(0x285)]({'where':{'_id':_0x4e5b7b['id']}},this['instance'][_0x14b4c5(0x25a)]);return _0xb326fd?_0xbe80c0[0x0]:_0xbe80c0[0x0][_0x14b4c5(0x2a2)];}catch{return{'conversation':''};}}[a0_0x3656ce(0x52e)](){const _0x2ef6f6=a0_0x3656ce;let _0x54eafd=this[_0x2ef6f6(0x5b9)]['get'](_0x2ef6f6(0x6ae)),_0x52c448=this['configService']['get'](_0x2ef6f6(0x2cf));_0x54eafd?.[_0x2ef6f6(0x2db)]&&!_0x52c448['ENABLED']&&setInterval(()=>{const _0x5a9c58=_0x2ef6f6;try{for(let [_0x511ec3,_0x17238b]of Object[_0x5a9c58(0x41e)](_0x54eafd))_0x17238b===!0x0&&(0x0,Ot['execSync'])(_0x5a9c58(0x211)+(0x0,P[_0x5a9c58(0x3f5)])(this[_0x5a9c58(0x194)],_0x511ec3[_0x5a9c58(0x680)](),this[_0x5a9c58(0x532)][_0x5a9c58(0x25a)])+'/*.json');}catch{}},(_0x54eafd?.[_0x2ef6f6(0x2db)]??0xe10)*0x3e8);}async[a0_0x3656ce(0x1d1)](){const _0x7c06d=a0_0x3656ce;let _0xfe8188=this[_0x7c06d(0x5b9)][_0x7c06d(0x786)](_0x7c06d(0x2cf)),_0x3c5033=this[_0x7c06d(0x5b9)][_0x7c06d(0x786)](_0x7c06d(0x2a7));return _0x3c5033?.[_0x7c06d(0x6da)]?await hs(_0x3c5033,this['instance'][_0x7c06d(0x6ba)]):_0xfe8188[_0x7c06d(0x6da)]?await gs(this[_0x7c06d(0x532)][_0x7c06d(0x6ba)]):await(0x0,w[_0x7c06d(0x689)])((0x0,P[_0x7c06d(0x3f5)])(de,this[_0x7c06d(0x532)]['name']));}async[a0_0x3656ce(0x67e)](){const _0x4404b7=a0_0x3656ce;let _0xef4286=()=>Math['floor'](Math[_0x4404b7(0x54e)]()*0x2711)+0x7d0,_0x509f97=async()=>{const _0x20cfbf=_0x4404b7;if(!this[_0x20cfbf(0x738)]){this[_0x20cfbf(0x506)][_0x20cfbf(0x49e)](_0x20cfbf(0x2f4)),this[_0x20cfbf(0x29a)]=!0x1;return;}if(this[_0x20cfbf(0x532)][_0x20cfbf(0x25a)]&&this[_0x20cfbf(0x573)]&&this['delayMessage']!==null&&this[_0x20cfbf(0x504)]!==void 0x0){let _0x1f8d18=Math['round'](this[_0x20cfbf(0x504)]/0xea60);this[_0x20cfbf(0x506)]['verbose'](this[_0x20cfbf(0x3a7)]+'\x20('+this['instance'][_0x20cfbf(0x25a)]+_0x20cfbf(0x30d)+_0x1f8d18+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x20cfbf(0x29a)]=!0x1;return;}else this['instance']['wuid']&&(this[_0x20cfbf(0x506)][_0x20cfbf(0x49e)](this[_0x20cfbf(0x3a7)]+'\x20('+this[_0x20cfbf(0x532)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),await this['repository'][_0x20cfbf(0x5cd)][_0x20cfbf(0x363)](this['instance'][_0x20cfbf(0x25a)]),await this[_0x20cfbf(0x1f9)][_0x20cfbf(0x2ac)]['copyDataToNewModel'](this['instance'][_0x20cfbf(0x25a)]),await this[_0x20cfbf(0x1f9)]['scheduleMessage'][_0x20cfbf(0x363)](this[_0x20cfbf(0x532)][_0x20cfbf(0x25a)]),this[_0x20cfbf(0x506)][_0x20cfbf(0x49e)](this[_0x20cfbf(0x3a7)]+'\x20('+this[_0x20cfbf(0x532)][_0x20cfbf(0x25a)]+_0x20cfbf(0x72c)),this['AutomateSystem']||await this[_0x20cfbf(0x36e)](),(this[_0x20cfbf(0x504)]===null||this[_0x20cfbf(0x504)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x2d1029=_0xef4286();this[_0x20cfbf(0x506)][_0x20cfbf(0x49e)](this[_0x20cfbf(0x3a7)]+_0x20cfbf(0x6c6)+_0x2d1029/0x3e8+'\x20segundos'),setTimeout(_0x509f97,_0x2d1029);}};if(this[_0x4404b7(0x29a)])return;this['isRunning']=!0x0;let _0x44f2b9=_0xef4286();setTimeout(_0x509f97,_0x44f2b9);}async['testProxy'](_0x1128fd,_0x534aa3,_0x30f402,_0x44dcb4,_0x34382d){const _0x257c92=a0_0x3656ce;this[_0x257c92(0x506)]['verbose']('requested\x20testProxy');try{let _0x5acaab={'host':_0x1128fd,'port':parseInt(_0x534aa3),'protocol':_0x30f402};_0x44dcb4&&_0x34382d&&(_0x5acaab={..._0x5acaab,'auth':{'username':_0x44dcb4,'password':_0x34382d}});let _0x46bc09=[_0x257c92(0x688),'https://api.ipify.org?format=json',_0x257c92(0x247)];for(let _0x141c84 of _0x46bc09)try{let _0x3f8ac4=await te[_0x257c92(0x3d0)][_0x257c92(0x786)](_0x141c84,{'proxy':_0x5acaab}),_0x2ceb31;return _0x141c84[_0x257c92(0x516)]('jsonip.com')||_0x141c84['includes'](_0x257c92(0x4c5))?_0x2ceb31=_0x3f8ac4[_0x257c92(0x29e)]['ip']:_0x141c84[_0x257c92(0x516)](_0x257c92(0x56a))&&(_0x2ceb31=_0x3f8ac4['data']['match'](/\d+\.\d+\.\d+\.\d+/)[0x0]),this['logger'][_0x257c92(0x49e)](_0x257c92(0x721)+_0x141c84+':\x20'+_0x2ceb31),!0x0;}catch(_0x439dac){this[_0x257c92(0x506)][_0x257c92(0x417)](_0x257c92(0x334)+_0x141c84+_0x257c92(0x216)+_0x439dac);}return!0x1;}catch(_0x4138c9){return this[_0x257c92(0x506)][_0x257c92(0x417)]('testProxy\x20error:\x20'+_0x4138c9),_0x4138c9[_0x257c92(0x15b)]?(this[_0x257c92(0x506)][_0x257c92(0x417)]('Error\x20data:'+_0x4138c9[_0x257c92(0x15b)]['data']),this[_0x257c92(0x506)]['error'](_0x257c92(0x6ec)+_0x4138c9[_0x257c92(0x15b)]['status']),this['logger'][_0x257c92(0x417)](_0x257c92(0x38b)+_0x4138c9['response'][_0x257c92(0x699)])):_0x4138c9[_0x257c92(0x6bb)]?this['logger'][_0x257c92(0x417)]('No\x20response\x20received:'+_0x4138c9['request']):this[_0x257c92(0x506)][_0x257c92(0x417)]('Error\x20message:'+_0x4138c9[_0x257c92(0x2a2)]),!0x1;}}async['tryProxy'](_0x4755bb){const _0x3269d3=a0_0x3656ce;if(console[_0x3269d3(0x16d)](_0x3269d3(0x37d)),await this[_0x3269d3(0x5f8)](_0x4755bb[_0x3269d3(0x782)],_0x4755bb[_0x3269d3(0x4a1)],_0x4755bb[_0x3269d3(0x3cc)],_0x4755bb['username'],_0x4755bb[_0x3269d3(0x38f)])){console[_0x3269d3(0x16d)](_0x3269d3(0x43d));let _0x44ce96=_0x4755bb[_0x3269d3(0x3cc)]+'://'+_0x4755bb[_0x3269d3(0x782)]+':'+_0x4755bb['port'];return _0x4755bb[_0x3269d3(0x739)]&&_0x4755bb['password']&&(_0x44ce96=_0x4755bb[_0x3269d3(0x739)]+':'+_0x4755bb['password']+'@'+_0x44ce96),this[_0x3269d3(0x1f9)][_0x3269d3(0x5e1)][_0x3269d3(0x263)]({'proxy':_0x44ce96},this[_0x3269d3(0x532)]['name']),{'agent':new fr[(_0x3269d3(0x389))](_0x44ce96)};}return null;}[a0_0x3656ce(0x476)](_0x41708a){const _0x55ca86=a0_0x3656ce;let _0x4c6382=_0x41708a['split'](':');if(_0x4c6382[_0x55ca86(0x391)]!==0x4)throw new Error(_0x55ca86(0x54d));return{'host':_0x4c6382[0x0],'port':_0x4c6382[0x1],'username':_0x4c6382[0x2],'password':_0x4c6382[0x3],'protocol':_0x55ca86(0x79d)};}async[a0_0x3656ce(0x56c)](_0x3e4143,_0x4d604d=!0x0){const _0x2e855c=a0_0x3656ce;try{let _0x4f4a84={},_0xd3f975=0x0;if(wr&&_0x4d604d){let _0x22f850;try{let _0x46f8af=(await this[_0x2e855c(0x1f9)][_0x2e855c(0x5e1)]['find'](this['instanceName']))[_0x2e855c(0x4e9)];for(_0x46f8af&&(_0x22f850=this['createProxyConfig'](_0x46f8af)),_0x46f8af&&fs(_0x22f850)&&(_0x4f4a84=await this[_0x2e855c(0x37d)](_0x22f850),_0x4f4a84&&_0xd3f975++);!_0x4f4a84&&_0xd3f975<0x3;){let _0x2497b5=lr();if(_0x2497b5){if(_0x22f850=this[_0x2e855c(0x476)](_0x2497b5[_0x2e855c(0x782)]+':'+_0x2497b5[_0x2e855c(0x4a1)]+':'+_0x2497b5[_0x2e855c(0x739)]+':'+_0x2497b5[_0x2e855c(0x38f)]),fs(_0x22f850)){if(_0x4f4a84=await this[_0x2e855c(0x37d)](_0x22f850),_0x4f4a84)break;}else this['logger'][_0x2e855c(0x417)](_0x2e855c(0x371));}_0xd3f975++;}}catch(_0x194d34){this[_0x2e855c(0x506)]['error'](_0x2e855c(0x322)+_0x194d34),_0x4f4a84={};}!_0x4f4a84&&_0xd3f975>=0x3&&(this[_0x2e855c(0x506)]['warn'](_0x2e855c(0x19c)),_0x4f4a84={});}this['loadWebhook'](),this[_0x2e855c(0x532)]['authState']=await this[_0x2e855c(0x1d1)]();let {version:_0x5a46b7}=await(0x0,w[_0x2e855c(0x53b)])(),_0x207ccd=[Ss,yr,(0x0,ys[_0x2e855c(0x66e)])()];console[_0x2e855c(0x16d)]('options'),console[_0x2e855c(0x16d)](_0x4f4a84);let _0x2a6640={..._0x4f4a84,'auth':{'creds':this[_0x2e855c(0x532)][_0x2e855c(0x73e)][_0x2e855c(0x167)][_0x2e855c(0x765)],'keys':(0x0,w[_0x2e855c(0x1ee)])(this['instance'][_0x2e855c(0x73e)][_0x2e855c(0x167)][_0x2e855c(0x1aa)],(0x0,Rt[_0x2e855c(0x3d0)])({'level':_0x2e855c(0x417)}))},'logger':(0x0,Rt[_0x2e855c(0x3d0)])({'level':_0x2e855c(0x417)}),'printQRInTerminal':!0x1,'browser':_0x3e4143?['Safari\x20(Mac\x20OS)',Ss,(0x0,ys[_0x2e855c(0x66e)])()]:_0x207ccd,'version':_0x5a46b7,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x2e855c(0x184)],'getMessage':async _0xad0182=>await this[_0x2e855c(0x5c7)](_0xad0182),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2e855c(0x3fa)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x559418=>(_0x559418[_0x2e855c(0x21d)]?.['listType']==w[_0x2e855c(0x66b)][_0x2e855c(0x5ef)][_0x2e855c(0x6a2)][_0x2e855c(0x262)][_0x2e855c(0x722)]&&(_0x559418=JSON[_0x2e855c(0x42d)](JSON[_0x2e855c(0x4cd)](_0x559418)),_0x559418[_0x2e855c(0x21d)][_0x2e855c(0x1d2)]=w[_0x2e855c(0x66b)]['Message'][_0x2e855c(0x6a2)][_0x2e855c(0x262)]['SINGLE_SELECT']),_0x559418)};return this[_0x2e855c(0x5cf)]=!0x1,this[_0x2e855c(0x543)]=(0x0,w[_0x2e855c(0x3d0)])(_0x2a6640),this[_0x2e855c(0x3ed)](),this[_0x2e855c(0x1f1)]=_0x3e4143,this[_0x2e855c(0x543)];}catch(_0x333cf7){throw this['logger'][_0x2e855c(0x417)](this['instanceName']+'\x20('+this[_0x2e855c(0x532)][_0x2e855c(0x25a)]+'):\x20'+(_0x333cf7 instanceof Error?_0x333cf7[_0x2e855c(0x2a2)]:JSON[_0x2e855c(0x4cd)](_0x333cf7,null,0x2))),new O(_0x333cf7?.[_0x2e855c(0x368)]());}}[a0_0x3656ce(0x3ed)](){const _0x215641=a0_0x3656ce;this[_0x215641(0x543)]['ev']['process'](_0xa0c6bc=>{const _0x219cb4=_0x215641;if(!this['endSession']){let _0x110d85=this[_0x219cb4(0x5b9)][_0x219cb4(0x786)](_0x219cb4(0x2cf));if(_0xa0c6bc['labels.edit']){let _0xd20b32=_0xa0c6bc[_0x219cb4(0x33f)];this[_0x219cb4(0x1ca)][_0x219cb4(0x33f)](_0xd20b32);}if(_0xa0c6bc[_0x219cb4(0x5d8)]){let _0x57d47a=_0xa0c6bc[_0x219cb4(0x5d8)];this[_0x219cb4(0x1ca)][_0x219cb4(0x5d8)](_0x57d47a);}if(_0xa0c6bc['connection.update']&&this[_0x219cb4(0x4f0)](_0xa0c6bc[_0x219cb4(0x355)]),_0xa0c6bc[_0x219cb4(0x36d)]&&this[_0x219cb4(0x532)][_0x219cb4(0x73e)]['saveCreds'](),_0xa0c6bc[_0x219cb4(0x512)]){let _0x2cb83c=_0xa0c6bc[_0x219cb4(0x512)];this[_0x219cb4(0x1ca)][_0x219cb4(0x512)](_0x2cb83c,_0x110d85);}if(_0xa0c6bc[_0x219cb4(0x236)]){let _0x1f83ab=_0xa0c6bc[_0x219cb4(0x236)];this[_0x219cb4(0x1ca)][_0x219cb4(0x236)](_0x1f83ab,_0x110d85);}if(_0xa0c6bc[_0x219cb4(0x483)]){let _0x338765=_0xa0c6bc[_0x219cb4(0x483)];_0x338765[_0x219cb4(0x579)](_0x47f512=>{const _0x27726f=_0x219cb4;if(dr[_0x47f512[_0x27726f(0x228)]['id']]){this[_0x27726f(0x543)]['ev']['emit'](_0x27726f(0x236),{'messages':[_0x47f512],'type':'notify'}),delete dr[_0x47f512[_0x27726f(0x228)]['id']];return;}}),this[_0x219cb4(0x1ca)][_0x219cb4(0x483)](_0x338765,_0x110d85);}if(_0xa0c6bc[_0x219cb4(0x772)]){let _0x40e7d0=_0xa0c6bc[_0x219cb4(0x772)];if(this[_0x219cb4(0x6e9)]?.[_0x219cb4(0x253)]&&_0x40e7d0['id']['includes']('@g.us'))return;this[_0x219cb4(0x69f)](_0x219cb4(0x772),_0x40e7d0);}if(!this[_0x219cb4(0x6e9)]?.[_0x219cb4(0x253)]){if(_0xa0c6bc[_0x219cb4(0x46f)]){let _0x3c32af=_0xa0c6bc['groups.upsert'];this[_0x219cb4(0x687)][_0x219cb4(0x46f)](_0x3c32af);}if(_0xa0c6bc[_0x219cb4(0x5db)]){let _0x35bb82=_0xa0c6bc[_0x219cb4(0x5db)];this[_0x219cb4(0x687)]['groups.update'](_0x35bb82);}if(_0xa0c6bc[_0x219cb4(0x408)]){let _0x4809af=_0xa0c6bc[_0x219cb4(0x408)];this[_0x219cb4(0x687)]['group-participants.update'](_0x4809af);}}if(_0xa0c6bc[_0x219cb4(0x3b8)]){let _0x2edd20=_0xa0c6bc['chats.upsert'];this[_0x219cb4(0x2a1)][_0x219cb4(0x3b8)](_0x2edd20,_0x110d85);}if(_0xa0c6bc['chats.update']){let _0x59ce3e=_0xa0c6bc[_0x219cb4(0x472)];this[_0x219cb4(0x2a1)][_0x219cb4(0x472)](_0x59ce3e,_0x110d85);}if(_0xa0c6bc[_0x219cb4(0x589)]){let _0xd3c785=_0xa0c6bc['chats.delete'];this[_0x219cb4(0x2a1)][_0x219cb4(0x589)](_0xd3c785);}if(_0xa0c6bc[_0x219cb4(0x496)]){let _0x1a86b1=_0xa0c6bc[_0x219cb4(0x496)];this[_0x219cb4(0x518)]['contacts.upsert'](_0x1a86b1,_0x110d85);}if(_0xa0c6bc[_0x219cb4(0x675)]){let _0x14b1b1=_0xa0c6bc[_0x219cb4(0x675)];this[_0x219cb4(0x518)][_0x219cb4(0x675)](_0x14b1b1,_0x110d85);}}});}[a0_0x3656ce(0x2b3)](_0x1552cc){const _0x281108=a0_0x3656ce;let _0x43bd32=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x281108(0x3c3)](_0x1552cc);if(_0x43bd32&&_0x43bd32[0x1]==='55'){let _0x2170a9=_0x43bd32[0x2],_0x329b1a=_0x43bd32[0x3],_0x38ab15=_0x43bd32[0x4];if(_0x2170a9>='31'&&_0x329b1a==='9')return _0x43bd32[0x1]+_0x2170a9+_0x38ab15;}return _0x1552cc;}[a0_0x3656ce(0x60e)](_0x59f366){const _0x150fdd=a0_0x3656ce;return _0x59f366[_0x150fdd(0x516)]('@g.us')||_0x59f366[_0x150fdd(0x516)](_0x150fdd(0x678))||_0x59f366[_0x150fdd(0x516)](_0x150fdd(0x5c9))?_0x59f366:(_0x59f366=_0x59f366?.[_0x150fdd(0x69a)](/\s/g,'')['replace'](/\+/g,'')[_0x150fdd(0x69a)](/\(/g,'')['replace'](/\)/g,'')[_0x150fdd(0x232)](/\:/)[0x0][_0x150fdd(0x232)]('@')[0x0],_0x59f366[_0x150fdd(0x391)]>=0x12?(_0x59f366=_0x59f366['replace'](/[^\d-]/g,''),_0x59f366+'@g.us'):(_0x59f366=_0x59f366[_0x150fdd(0x69a)](/\D/g,''),this['formatBRNumber'](_0x59f366)+'@s.whatsapp.net'));}async[a0_0x3656ce(0x1c9)](_0x53d3e6){const _0x2ebe5a=a0_0x3656ce;let _0x19f4e6=this[_0x2ebe5a(0x60e)](_0x53d3e6[_0x2ebe5a(0x204)]),_0x4c6a0b=(await this[_0x2ebe5a(0x2c3)]({'numbers':[_0x19f4e6]}))[0x0];if(!_0x4c6a0b[_0x2ebe5a(0x21b)]&&!(0x0,w[_0x2ebe5a(0x586)])(_0x4c6a0b['jid']))throw new h(_0x4c6a0b);let _0x2c1d5d=(0x0,w['isJidGroup'])(_0x19f4e6)?_0x19f4e6:_0x4c6a0b[_0x2ebe5a(0x29c)];if((0x0,w['isJidGroup'])(_0x2c1d5d))try{await this[_0x2ebe5a(0x543)][_0x2ebe5a(0x2be)](_0x2c1d5d);}catch{throw new L(_0x2ebe5a(0x187));}try{return await this['client'][_0x2ebe5a(0x24b)](_0x2c1d5d),await this[_0x2ebe5a(0x543)][_0x2ebe5a(0x674)](_0x53d3e6['presence'],_0x19f4e6),{'status':0xc8,'presence':_0x53d3e6['presence']};}catch(_0x31857f){throw new h(_0x31857f[_0x2ebe5a(0x368)]());}}async['profilePicture'](_0xdeeaad){const _0x10acd4=a0_0x3656ce;let _0x7d7f0e=this[_0x10acd4(0x60e)](_0xdeeaad);try{return{'wuid':_0x7d7f0e,'profilePictureUrl':await this[_0x10acd4(0x543)][_0x10acd4(0x659)](_0x7d7f0e,_0x10acd4(0x527))};}catch{return{'wuid':_0x7d7f0e,'profilePictureUrl':null};}}async[a0_0x3656ce(0x4c6)](_0x371637,_0x71b469,_0x5f03c4){const _0x463c5f=a0_0x3656ce;_0x5f03c4||(_0x5f03c4={});let _0x1a0a8b=(await this[_0x463c5f(0x2c3)]({'numbers':[_0x371637]}))[0x0];if(!_0x1a0a8b['exists']&&!(0x0,w['isJidGroup'])(_0x1a0a8b['jid'])&&!_0x1a0a8b[_0x463c5f(0x29c)]['includes'](_0x463c5f(0x5c9)))throw new h(_0x1a0a8b);let _0x51d346=_0x1a0a8b[_0x463c5f(0x29c)];try{_0x5f03c4?.['delay']&&(await this['client']['presenceSubscribe'](_0x51d346),await this[_0x463c5f(0x543)][_0x463c5f(0x674)](_0x5f03c4?.[_0x463c5f(0x45d)]??'composing',_0x51d346),await(0x0,w[_0x463c5f(0x6fc)])(_0x5f03c4[_0x463c5f(0x6fc)]),await this[_0x463c5f(0x543)][_0x463c5f(0x674)](_0x463c5f(0x354),_0x51d346));let _0x39f983=_0x5f03c4?.[_0x463c5f(0x202)]!=!0x1?void 0x0:!0x1,_0xa01b2e;if(_0x5f03c4?.['quoted']){let _0x3c6b2a=_0x5f03c4?.[_0x463c5f(0x329)],_0x29d0d7=_0x3c6b2a?.['message']?_0x3c6b2a:await this[_0x463c5f(0x5c7)](_0x3c6b2a[_0x463c5f(0x228)],!0x0);if(!_0x29d0d7)throw _0x463c5f(0x440);_0xa01b2e=_0x29d0d7;}let _0x45dd0a;if((0x0,w['isJidGroup'])(_0x51d346))try{let _0x2b37c3=await this[_0x463c5f(0x543)][_0x463c5f(0x2be)](_0x51d346);if(!_0x2b37c3)throw new L(_0x463c5f(0x187));_0x5f03c4?.['mentions']&&(_0x5f03c4[_0x463c5f(0x676)]?.[_0x463c5f(0x185)]?_0x45dd0a=_0x2b37c3[_0x463c5f(0x704)][_0x463c5f(0x568)](_0x260f50=>_0x260f50['id']):_0x5f03c4[_0x463c5f(0x676)]?.[_0x463c5f(0x4d7)]?.[_0x463c5f(0x391)]&&(_0x45dd0a=_0x5f03c4[_0x463c5f(0x676)][_0x463c5f(0x4d7)][_0x463c5f(0x568)](_0x1db393=>{const _0x5a8f30=_0x463c5f;let _0x503d9d=this[_0x5a8f30(0x60e)](_0x1db393);return(0x0,w['isJidGroup'])(_0x503d9d)?null:_0x503d9d;})));}catch{throw new L(_0x463c5f(0x187));}let _0x59b3ee=await((async()=>{const _0x4cd0ff=_0x463c5f;let _0x417860={'quoted':_0xa01b2e};if(!_0x71b469['audio']&&!_0x71b469[_0x4cd0ff(0x3da)]&&!_0x71b469['sticker']&&!_0x71b469[_0x4cd0ff(0x169)]&&_0x51d346!==_0x4cd0ff(0x396)&&!_0x71b469[_0x4cd0ff(0x1fa)])return await this[_0x4cd0ff(0x543)][_0x4cd0ff(0x1f2)](_0x51d346,{'forward':{'key':{'remoteJid':this[_0x4cd0ff(0x532)][_0x4cd0ff(0x25a)],'fromMe':!0x0},'message':_0x71b469},'mentions':_0x45dd0a},_0x417860);if(_0x71b469['conversation']){let _0x539b32=_0x71b469['conversation'];return _0x5f03c4?.['changeVariables']&&(_0x539b32=await this[_0x4cd0ff(0x4b8)](_0x539b32,_0x51d346)),await this['client'][_0x4cd0ff(0x1f2)](_0x51d346,{'text':_0x539b32,'mentions':_0x45dd0a,'linkPreview':_0x39f983},_0x417860);}return _0x51d346===_0x4cd0ff(0x396)?await this['client'][_0x4cd0ff(0x1f2)](_0x51d346,_0x71b469[_0x4cd0ff(0x6b6)]['content'],{'backgroundColor':_0x71b469[_0x4cd0ff(0x6b6)]['option']['backgroundColor'],'font':_0x71b469[_0x4cd0ff(0x6b6)][_0x4cd0ff(0x52a)][_0x4cd0ff(0x30a)],'statusJidList':_0x71b469[_0x4cd0ff(0x6b6)][_0x4cd0ff(0x52a)][_0x4cd0ff(0x178)]}):await this[_0x4cd0ff(0x543)][_0x4cd0ff(0x1f2)](_0x51d346,_0x71b469,_0x417860);})()),{message_normalized:_0x16fcba}=this['normalizeMessage'](_0x59b3ee[_0x463c5f(0x2a2)],_(_0x59b3ee['message']),null),_0xcdb70f={'_id':_0x59b3ee[_0x463c5f(0x228)]['id'],'key':_0x59b3ee[_0x463c5f(0x228)],'pushName':_0x59b3ee['pushName'],'message':{..._0x59b3ee[_0x463c5f(0x2a2)]},'messageType':_(_0x59b3ee[_0x463c5f(0x2a2)]),'message_normalized':{'key':_0x59b3ee[_0x463c5f(0x228)],'pushName':_0x59b3ee[_0x463c5f(0x67d)],'messageTimestamp':_0x59b3ee[_0x463c5f(0x3a1)]&&_0x59b3ee[_0x463c5f(0x3a1)][_0x463c5f(0x368)]()[_0x463c5f(0x391)]<0xd?_0x59b3ee[_0x463c5f(0x3a1)]*0x3e8:_0x59b3ee[_0x463c5f(0x3a1)]||null,'source':(0x0,w['getDevice'])(_0x59b3ee[_0x463c5f(0x228)]['id']),..._0x16fcba},'messageTimestamp':_0x59b3ee[_0x463c5f(0x3a1)]&&_0x59b3ee[_0x463c5f(0x3a1)][_0x463c5f(0x368)]()[_0x463c5f(0x391)]<0xd?_0x59b3ee[_0x463c5f(0x3a1)]*0x3e8:_0x59b3ee['messageTimestamp']||null,'owner':this['instance']['wuid'],'source':(0x0,w[_0x463c5f(0x221)])(_0x59b3ee['key']['id'])};return this['logger'][_0x463c5f(0x16d)](_0xcdb70f),this['sendDataWebhook'](_0x463c5f(0x2fa),_0xcdb70f),j(this[_0x463c5f(0x3a7)],_0x463c5f(0x2ba),{'message':_0xcdb70f}),this['updateChatWithMessage'](this[_0x463c5f(0x5b9)][_0x463c5f(0x786)]('DATABASE'),_0xcdb70f,'SEND_MESSAGE'),await this['repository'][_0x463c5f(0x2a2)]['insert']([_0xcdb70f],this[_0x463c5f(0x532)][_0x463c5f(0x25a)]),_0x59b3ee;}catch(_0x49f097){throw this[_0x463c5f(0x506)][_0x463c5f(0x417)](this[_0x463c5f(0x3a7)]+'\x20('+this[_0x463c5f(0x532)]['wuid']+_0x463c5f(0x478)+_0x49f097['toString']()),new h(_0x49f097[_0x463c5f(0x368)]());}}get[a0_0x3656ce(0x243)](){const _0xdfc9a0=a0_0x3656ce;return this[_0xdfc9a0(0x3cf)];}async[a0_0x3656ce(0x791)](_0x505e1c){const _0x1abf7a=a0_0x3656ce;let _0x17e76b=ur,_0x27ad3f=We;return _0x27ad3f&&this[_0x1abf7a(0x3a7)][_0x1abf7a(0x680)]()['includes'](_0x27ad3f[_0x1abf7a(0x680)]())&&(_0x505e1c['textMessage'][_0x1abf7a(0x4bc)]+='\x0a\x0a'+_0x17e76b),await this[_0x1abf7a(0x4c6)](_0x505e1c[_0x1abf7a(0x204)],{'conversation':_0x505e1c[_0x1abf7a(0x791)][_0x1abf7a(0x4bc)]},_0x505e1c?.[_0x1abf7a(0x3db)]);}async[a0_0x3656ce(0x550)](_0x584ecc){const _0x2fb8df=a0_0x3656ce;if(!_0x584ecc[_0x2fb8df(0x1a6)])throw new h(_0x2fb8df(0x69b));if(!_0x584ecc[_0x2fb8df(0x5a8)])throw new h(_0x2fb8df(0x6e6));if(_0x584ecc[_0x2fb8df(0x5a2)]){let _0xc86803=await this[_0x2fb8df(0x1f9)][_0x2fb8df(0x662)][_0x2fb8df(0x285)]({'where':{}},this[_0x2fb8df(0x532)][_0x2fb8df(0x25a)]);if(!_0xc86803[_0x2fb8df(0x391)])throw new h(_0x2fb8df(0x2f9));_0x584ecc[_0x2fb8df(0x178)]=_0xc86803['filter'](_0x444d05=>_0x444d05[_0x2fb8df(0x67d)])[_0x2fb8df(0x568)](_0x1cb067=>_0x1cb067['_id']);}if(!_0x584ecc[_0x2fb8df(0x178)]?.[_0x2fb8df(0x391)]&&!_0x584ecc[_0x2fb8df(0x5a2)])throw new h('StatusJidList\x20is\x20required');if(_0x584ecc[_0x2fb8df(0x1a6)]===_0x2fb8df(0x4bc)){if(!_0x584ecc[_0x2fb8df(0x723)])throw new h(_0x2fb8df(0x58d));if(!_0x584ecc[_0x2fb8df(0x30a)])throw new h('Font\x20is\x20required');return{'content':{'text':_0x584ecc[_0x2fb8df(0x5a8)]},'option':{'backgroundColor':_0x584ecc['backgroundColor'],'font':_0x584ecc['font'],'statusJidList':_0x584ecc['statusJidList']}};}if(_0x584ecc[_0x2fb8df(0x1a6)]===_0x2fb8df(0x527))return{'content':{'image':{'url':_0x584ecc['content']},'caption':_0x584ecc[_0x2fb8df(0x5be)]},'option':{'statusJidList':_0x584ecc['statusJidList']}};if(_0x584ecc[_0x2fb8df(0x1a6)]===_0x2fb8df(0x1a9))return{'content':{'video':{'url':_0x584ecc['content']},'caption':_0x584ecc[_0x2fb8df(0x5be)]},'option':{'statusJidList':_0x584ecc['statusJidList']}};if(_0x584ecc['type']===_0x2fb8df(0x1fa)){this[_0x2fb8df(0x506)][_0x2fb8df(0x49e)](_0x2fb8df(0x2d6)),this[_0x2fb8df(0x506)][_0x2fb8df(0x49e)](_0x2fb8df(0x5e8));let _0x1fdb03=await this['convertaudio'](_0x584ecc[_0x2fb8df(0x5a8)]);if(typeof _0x1fdb03==_0x2fb8df(0x474)){this[_0x2fb8df(0x506)][_0x2fb8df(0x49e)]('Audio\x20processed');let _0x1e8bd9=k['readFileSync'](_0x1fdb03)[_0x2fb8df(0x368)](_0x2fb8df(0x2fc)),_0x3a5b3a={'content':{'audio':Buffer[_0x2fb8df(0x40e)](_0x1e8bd9,_0x2fb8df(0x2fc)),'ptt':!0x0,'mimetype':_0x2fb8df(0x3b2)},'option':{'statusJidList':_0x584ecc[_0x2fb8df(0x178)]}};return k[_0x2fb8df(0x29f)](_0x1fdb03),_0x3a5b3a;}else throw new O(_0x1fdb03);}throw new h(_0x2fb8df(0x76c));}async[a0_0x3656ce(0x750)](_0x4ad2e0){const _0x3ef3b8=a0_0x3656ce;return await this[_0x3ef3b8(0x4c6)](_0x3ef3b8(0x396),{'status':await this[_0x3ef3b8(0x550)](_0x4ad2e0['statusMessage'])});}async[a0_0x3656ce(0x533)](_0x54ae11){const _0x4e1319=a0_0x3656ce;try{let _0x3f55cc=await(0x0,w[_0x4e1319(0x761)])({[_0x54ae11[_0x4e1319(0x650)]]:(0x0,$['isURL'])(_0x54ae11['media'])?{'url':_0x54ae11[_0x4e1319(0x30f)]}:Buffer[_0x4e1319(0x40e)](_0x54ae11[_0x4e1319(0x30f)],_0x4e1319(0x2fc))},{'upload':this['client'][_0x4e1319(0x69d)]}),_0x4a7bc5=_0x54ae11['mediatype']+_0x4e1319(0x5ef);if(_0x54ae11[_0x4e1319(0x650)]===_0x4e1319(0x6d0)&&!_0x54ae11['fileName']){let _0x415f9e=new RegExp(/.*\/(.+?)\./)[_0x4e1319(0x3c3)](_0x54ae11[_0x4e1319(0x30f)]);_0x54ae11[_0x4e1319(0x769)]=_0x415f9e?_0x415f9e[0x1]:null;}let _0x5063f1=(0x0,$[_0x4e1319(0x2c2)])(_0x54ae11[_0x4e1319(0x30f)])?_0x54ae11[_0x4e1319(0x30f)]['split']('?')[0x0]:_0x54ae11[_0x4e1319(0x30f)];this['logger'][_0x4e1319(0x49e)]('URL\x20limpa:\x20'+_0x5063f1);let _0x5a5bd1;(0x0,$['isURL'])(_0x54ae11[_0x4e1319(0x30f)])?_0x5a5bd1=(0x0,Tt['getMIMEType'])(_0x5063f1):_0x54ae11[_0x4e1319(0x769)]&&_0x54ae11[_0x4e1319(0x769)][_0x4e1319(0x516)]('.')?_0x5a5bd1=(0x0,Tt['getMIMEType'])(_0x54ae11[_0x4e1319(0x769)]):_0x5a5bd1=(0x0,Tt[_0x4e1319(0x5d9)])(_0x54ae11['media']);let _0x3612a3=ur,_0x2a8b87=We;return _0x2a8b87&&this[_0x4e1319(0x3a7)][_0x4e1319(0x680)]()['includes'](_0x2a8b87['toLowerCase']())&&(_0x54ae11[_0x4e1319(0x5be)]+='\x0a\x0a'+_0x3612a3),_0x3f55cc[_0x4a7bc5][_0x4e1319(0x5be)]=_0x54ae11?.[_0x4e1319(0x5be)],_0x3f55cc[_0x4a7bc5][_0x4e1319(0x41f)]=_0x5a5bd1,_0x3f55cc[_0x4a7bc5][_0x4e1319(0x769)]=_0x54ae11[_0x4e1319(0x769)],_0x54ae11[_0x4e1319(0x650)]==='video'&&(_0x3f55cc[_0x4a7bc5][_0x4e1319(0x562)]=Uint8Array[_0x4e1319(0x40e)]((0x0,Ee[_0x4e1319(0x43e)])((0x0,P['join'])(process[_0x4e1319(0x2a5)](),_0x4e1319(0x4a7)))),_0x3f55cc[_0x4a7bc5][_0x4e1319(0x1da)]=!0x1),(0x0,w[_0x4e1319(0x278)])('',{[_0x4a7bc5]:{..._0x3f55cc[_0x4a7bc5]}},{'userJid':this[_0x4e1319(0x532)][_0x4e1319(0x25a)]});}catch(_0x4a88a7){throw this[_0x4e1319(0x506)][_0x4e1319(0x417)](this[_0x4e1319(0x3a7)]+'\x20('+this['instance'][_0x4e1319(0x25a)]+_0x4e1319(0x478)+(_0x4a88a7 instanceof Error?_0x4a88a7[_0x4e1319(0x2a2)]:JSON[_0x4e1319(0x4cd)](_0x4a88a7,null,0x2))),new O(_0x4a88a7?.[_0x4e1319(0x368)]()||_0x4a88a7);}}async[a0_0x3656ce(0x367)](_0x2d7336){const _0x12ab28=a0_0x3656ce;let _0x3c817e=await this['prepareMediaMessage'](_0x2d7336[_0x12ab28(0x367)]);return await this[_0x12ab28(0x4c6)](_0x2d7336[_0x12ab28(0x204)],{..._0x3c817e['message']},_0x2d7336?.[_0x12ab28(0x3db)]);}async[a0_0x3656ce(0x25d)](_0x20e75f,_0x3b0e17){const _0x426a53=a0_0x3656ce;try{this[_0x426a53(0x506)]['verbose'](_0x426a53(0x35b));let _0x470940,_0x11e51e=_0x3b0e17+'-'+new Date()[_0x426a53(0x4bb)]();this['logger'][_0x426a53(0x49e)](_0x426a53(0x790)+_0x11e51e);let _0x57d234=''+(0x0,P[_0x426a53(0x3f5)])(this['storePath'],_0x11e51e+_0x426a53(0x5bd));if(this[_0x426a53(0x506)][_0x426a53(0x49e)]('Output\x20path:\x20'+_0x57d234),(0x0,$[_0x426a53(0x447)])(_0x20e75f)){this[_0x426a53(0x506)][_0x426a53(0x49e)]('Image\x20is\x20base64');let _0x5460b9=_0x20e75f['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5d8e6e=Buffer['from'](_0x5460b9,_0x426a53(0x2fc));_0x470940=''+(0x0,P['join'])(this['storePath'],_0x426a53(0x1f0)+_0x11e51e+_0x426a53(0x621)),this[_0x426a53(0x506)][_0x426a53(0x49e)](_0x426a53(0x2cc)+_0x470940),await(0x0,At[_0x426a53(0x3d0)])(_0x5d8e6e)[_0x426a53(0x3bb)](_0x470940),this[_0x426a53(0x506)]['verbose'](_0x426a53(0x5b1));}else{this[_0x426a53(0x506)][_0x426a53(0x49e)](_0x426a53(0x461));let _0x3176e0=new Date()[_0x426a53(0x4bb)](),_0x5c5396=_0x20e75f+_0x426a53(0x4e5)+_0x3176e0;this['logger'][_0x426a53(0x49e)]('including\x20timestamp\x20in\x20url:\x20'+_0x5c5396);let _0x1d07f2=await te[_0x426a53(0x3d0)][_0x426a53(0x786)](_0x5c5396,{'responseType':_0x426a53(0x5f1)});this[_0x426a53(0x506)][_0x426a53(0x49e)]('Getting\x20image\x20from\x20url');let _0x369994=Buffer['from'](_0x1d07f2[_0x426a53(0x29e)],'binary');_0x470940=''+(0x0,P[_0x426a53(0x3f5)])(this[_0x426a53(0x194)],_0x426a53(0x1f0)+_0x11e51e+_0x426a53(0x621)),this[_0x426a53(0x506)][_0x426a53(0x49e)](_0x426a53(0x2cc)+_0x470940),await(0x0,At[_0x426a53(0x3d0)])(_0x369994)[_0x426a53(0x3bb)](_0x470940),this['logger'][_0x426a53(0x49e)](_0x426a53(0x5b1));}return await(0x0,At[_0x426a53(0x3d0)])(_0x470940)['webp']()[_0x426a53(0x3bb)](_0x57d234),this['logger'][_0x426a53(0x49e)](_0x426a53(0x50b)),k[_0x426a53(0x29f)](_0x470940),this[_0x426a53(0x506)]['verbose'](_0x426a53(0x799)),_0x57d234;}catch(_0x2a72a9){console[_0x426a53(0x417)](_0x426a53(0x6a6),_0x2a72a9 instanceof Error?_0x2a72a9[_0x426a53(0x2a2)]:JSON[_0x426a53(0x4cd)](_0x2a72a9,null,0x2));}}async['mediaSticker'](_0x1bc2b6){const _0x1a137d=a0_0x3656ce;let _0x3952ec=await this['convertToWebP'](_0x1bc2b6['stickerMessage'][_0x1a137d(0x527)],_0x1bc2b6[_0x1a137d(0x204)]),_0x1cb5ac=await this[_0x1a137d(0x4c6)](_0x1bc2b6[_0x1a137d(0x204)],{'sticker':{'url':_0x3952ec}},_0x1bc2b6?.[_0x1a137d(0x3db)]);return k[_0x1a137d(0x29f)](_0x3952ec),this[_0x1a137d(0x506)][_0x1a137d(0x49e)](_0x1a137d(0x3ea)),_0x1cb5ac;}async[a0_0x3656ce(0x643)](_0x495bcc){const _0x4bc306=a0_0x3656ce;if(this[_0x4bc306(0x506)][_0x4bc306(0x49e)](_0x4bc306(0x272)),!_0x495bcc[_0x4bc306(0x3db)]?.[_0x4bc306(0x1ac)]&&_0x495bcc[_0x4bc306(0x3db)]?.['encoding']!==!0x1&&(_0x495bcc[_0x4bc306(0x3db)]['encoding']=!0x0),_0x495bcc[_0x4bc306(0x3db)]?.['encoding']){let _0x5638e4=await this[_0x4bc306(0x5a9)](_0x495bcc[_0x4bc306(0x779)]['audio']);if(typeof _0x5638e4==_0x4bc306(0x474)){let _0x37a16a=k[_0x4bc306(0x43e)](_0x5638e4)[_0x4bc306(0x368)](_0x4bc306(0x2fc)),_0x590a13=this[_0x4bc306(0x4c6)](_0x495bcc[_0x4bc306(0x204)],{'audio':Buffer[_0x4bc306(0x40e)](_0x37a16a,_0x4bc306(0x2fc)),'ptt':!0x0,'mimetype':_0x4bc306(0x3b2)},{'presence':'recording','delay':_0x495bcc?.[_0x4bc306(0x3db)]?.[_0x4bc306(0x6fc)]});return k[_0x4bc306(0x29f)](_0x5638e4),this[_0x4bc306(0x506)][_0x4bc306(0x49e)](_0x4bc306(0x218)),_0x590a13;}else throw new O(_0x5638e4);}return await this[_0x4bc306(0x4c6)](_0x495bcc['number'],{'audio':(0x0,$[_0x4bc306(0x2c2)])(_0x495bcc[_0x4bc306(0x779)][_0x4bc306(0x1fa)])?{'url':_0x495bcc[_0x4bc306(0x779)][_0x4bc306(0x1fa)]}:Buffer['from'](_0x495bcc['audioMessage'][_0x4bc306(0x1fa)],_0x4bc306(0x2fc)),'ptt':!0x0,'mimetype':_0x4bc306(0x64b)},{'presence':'recording','delay':_0x495bcc?.[_0x4bc306(0x3db)]?.[_0x4bc306(0x6fc)]});}async['convertaudio'](_0x26919e){const _0xcca224=a0_0x3656ce;this[_0xcca224(0x506)][_0xcca224(0x49e)](_0xcca224(0x5e8));let _0x2ae23d,_0x2e385e,_0x5d82e2=(0x0,me['v4'])();if(this[_0xcca224(0x506)]['verbose']('Hash\x20to\x20audio\x20name:\x20'+_0x5d82e2),(0x0,$['isURL'])(_0x26919e)){this['logger'][_0xcca224(0x49e)](_0xcca224(0x70d)),_0x2e385e=''+(0x0,P['join'])(this[_0xcca224(0x194)],_0x5d82e2+_0xcca224(0x3d4)),_0x2ae23d=''+(0x0,P['join'])(this[_0xcca224(0x194)],_0xcca224(0x1f0)+_0x5d82e2+_0xcca224(0x70b)),this[_0xcca224(0x506)][_0xcca224(0x49e)](_0xcca224(0x41c)+_0x2e385e),this[_0xcca224(0x506)]['verbose'](_0xcca224(0x4a3)+_0x2ae23d);let _0x133eca=new Date()[_0xcca224(0x4bb)](),_0xe2a4af=_0x26919e+_0xcca224(0x4e5)+_0x133eca;this[_0xcca224(0x506)]['verbose'](_0xcca224(0x188)+_0xe2a4af);let _0x608156=await te['default'][_0xcca224(0x786)](_0xe2a4af,{'responseType':'arraybuffer'});this[_0xcca224(0x506)][_0xcca224(0x49e)]('Getting\x20audio\x20from\x20url'),k[_0xcca224(0x2de)](_0x2ae23d,_0x608156[_0xcca224(0x29e)]);}else{this[_0xcca224(0x506)][_0xcca224(0x49e)](_0xcca224(0x31f)),_0x2e385e=''+(0x0,P[_0xcca224(0x3f5)])(this[_0xcca224(0x194)],_0x5d82e2+_0xcca224(0x3d4)),_0x2ae23d=''+(0x0,P[_0xcca224(0x3f5)])(this[_0xcca224(0x194)],_0xcca224(0x1f0)+_0x5d82e2+_0xcca224(0x70b)),this[_0xcca224(0x506)][_0xcca224(0x49e)](_0xcca224(0x41c)+_0x2e385e),this[_0xcca224(0x506)][_0xcca224(0x49e)]('Temp\x20audio\x20path:\x20'+_0x2ae23d);let _0x5a1532=Buffer['from'](_0x26919e,_0xcca224(0x2fc));k[_0xcca224(0x2de)](_0x2ae23d,_0x5a1532),this['logger'][_0xcca224(0x49e)](_0xcca224(0x25e));}return this[_0xcca224(0x506)][_0xcca224(0x49e)](_0xcca224(0x5c6)),new Promise((_0x51ffcb,_0x4279a2)=>{const _0x1eadf6=_0xcca224;(0x0,Ot[_0x1eadf6(0x3c3)])(pr[_0x1eadf6(0x3d0)][_0x1eadf6(0x324)]+_0x1eadf6(0x258)+_0x2ae23d+_0x1eadf6(0x32d)+_0x2e385e+_0x1eadf6(0x163),_0x57f1f3=>{const _0x20b52c=_0x1eadf6;k[_0x20b52c(0x29f)](_0x2ae23d),this[_0x20b52c(0x506)][_0x20b52c(0x49e)](_0x20b52c(0x6c9)),_0x57f1f3&&_0x4279a2(_0x57f1f3),this[_0x20b52c(0x506)]['verbose'](_0x20b52c(0x39c)),_0x51ffcb(_0x2e385e);});});}async[a0_0x3656ce(0x61e)](_0x2406c4){const _0x91f7d8=a0_0x3656ce;let _0x4b8e09={},_0xba6caf=_0x91f7d8(0x608);if(_0x2406c4[_0x91f7d8(0x61e)]?.[_0x91f7d8(0x367)]){_0xba6caf=_0x2406c4['buttonMessage'][_0x91f7d8(0x367)]?.[_0x91f7d8(0x650)][_0x91f7d8(0x304)]()??_0x91f7d8(0x608),_0x4b8e09[_0x91f7d8(0x298)]=_0xba6caf['toLowerCase']()+'Message';let _0x3e491a=await this[_0x91f7d8(0x533)](_0x2406c4[_0x91f7d8(0x61e)][_0x91f7d8(0x367)]);_0x4b8e09[_0x91f7d8(0x2a2)]=_0x3e491a[_0x91f7d8(0x2a2)][_0x4b8e09[_0x91f7d8(0x298)]],_0x4b8e09[_0x91f7d8(0x1e7)]='*'+_0x2406c4['buttonMessage'][_0x91f7d8(0x1b4)]+_0x91f7d8(0x4d3)+_0x2406c4['buttonMessage'][_0x91f7d8(0x71a)];}let _0x2eb346={'text':_0x2406c4[_0x91f7d8(0x61e)]['buttons']['map'](_0x517335=>_0x517335[_0x91f7d8(0x207)]),'ids':_0x2406c4[_0x91f7d8(0x61e)][_0x91f7d8(0x40a)][_0x91f7d8(0x568)](_0x2e4c90=>_0x2e4c90[_0x91f7d8(0x2b1)])};if(!(0x0,$[_0x91f7d8(0x3f4)])(_0x2eb346[_0x91f7d8(0x4bc)])||!(0x0,$['arrayUnique'])(_0x2eb346[_0x91f7d8(0x2e7)]))throw new h(_0x91f7d8(0x2dc),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x91f7d8(0x4c6)](_0x2406c4[_0x91f7d8(0x204)],{'buttonsMessage':{'text':_0x4b8e09?.[_0x91f7d8(0x298)]?void 0x0:_0x2406c4[_0x91f7d8(0x61e)]['title'],'contentText':_0x4b8e09?.['contentText']??_0x2406c4[_0x91f7d8(0x61e)]['description'],'footerText':_0x2406c4[_0x91f7d8(0x61e)]?.[_0x91f7d8(0x4de)],'buttons':_0x2406c4[_0x91f7d8(0x61e)][_0x91f7d8(0x40a)][_0x91f7d8(0x568)](_0x1c5595=>({'buttonText':{'displayText':_0x1c5595[_0x91f7d8(0x207)]},'buttonId':_0x1c5595[_0x91f7d8(0x2b1)],'type':0x1})),'headerType':w[_0x91f7d8(0x66b)][_0x91f7d8(0x5ef)][_0x91f7d8(0x3e7)]['HeaderType'][_0xba6caf],[_0x4b8e09?.[_0x91f7d8(0x298)]]:_0x4b8e09?.[_0x91f7d8(0x2a2)]}},_0x2406c4?.['options']);}async[a0_0x3656ce(0x16a)](_0x57d171){const _0x10c83c=a0_0x3656ce;return await this['sendMessageWithTyping'](_0x57d171[_0x10c83c(0x204)],{'locationMessage':{'degreesLatitude':_0x57d171[_0x10c83c(0x16a)][_0x10c83c(0x435)],'degreesLongitude':_0x57d171[_0x10c83c(0x16a)][_0x10c83c(0x316)],'name':_0x57d171[_0x10c83c(0x16a)]?.['name'],'address':_0x57d171[_0x10c83c(0x16a)]?.[_0x10c83c(0x3fd)]}},_0x57d171?.[_0x10c83c(0x3db)]);}async[a0_0x3656ce(0x4e3)](_0x22c02c){const _0xc576d8=a0_0x3656ce;let _0xed2745={},_0x1e6943=_0x322a0f=>{const _0x28c6f1=a0_0x4f47;let _0x1a2720=_0x28c6f1(0x28e)+_0x322a0f['fullName']+_0x28c6f1(0x519)+_0x322a0f[_0x28c6f1(0x4ae)]+'\x0a';_0x322a0f['organization']&&(_0x1a2720+=_0x28c6f1(0x6f4)+_0x322a0f[_0x28c6f1(0x1c7)]+';\x0a'),_0x322a0f['email']&&(_0x1a2720+=_0x28c6f1(0x45c)+_0x322a0f['email']+'\x0a'),_0x322a0f['url']&&(_0x1a2720+=_0x28c6f1(0x26b)+_0x322a0f[_0x28c6f1(0x627)]+'\x0a');let _0x5f5161='';return _0x322a0f['phoneNumber']&&_0x322a0f[_0x28c6f1(0x1f1)][_0x28c6f1(0x232)]('|')[_0x28c6f1(0x579)]((_0x38a4bf,_0x4b5c80)=>{const _0x3a4304=_0x28c6f1;let _0x2661f8=this[_0x3a4304(0x60e)](_0x38a4bf)[_0x3a4304(0x69a)](_0x3a4304(0x678),'');_0x5f5161+=_0x3a4304(0x454)+(_0x4b5c80+0x1)+_0x3a4304(0x392)+_0x2661f8+':'+_0x38a4bf+_0x3a4304(0x1c6)+(_0x4b5c80+0x1)+_0x3a4304(0x335);}),_0x1a2720+=_0x5f5161+'END:VCARD',_0x1a2720;};return _0x22c02c[_0xc576d8(0x4e3)][_0xc576d8(0x391)]===0x1?_0xed2745[_0xc576d8(0x4e3)]={'displayName':_0x22c02c['contactMessage'][0x0]['fullName'],'vcard':_0x1e6943(_0x22c02c[_0xc576d8(0x4e3)][0x0])}:_0xed2745[_0xc576d8(0x68a)]={'displayName':_0x22c02c[_0xc576d8(0x4e3)][_0xc576d8(0x391)]+'\x20contacts','contacts':_0x22c02c[_0xc576d8(0x4e3)][_0xc576d8(0x568)](_0x17b7ca=>({'displayName':_0x17b7ca[_0xc576d8(0x4ae)],'vcard':_0x1e6943(_0x17b7ca)}))},await this[_0xc576d8(0x4c6)](_0x22c02c[_0xc576d8(0x204)],{..._0xed2745},_0x22c02c?.[_0xc576d8(0x3db)]);}async[a0_0x3656ce(0x48d)](_0x33164d){const _0x3ce2ce=a0_0x3656ce;return await this[_0x3ce2ce(0x4c6)](_0x33164d['reactionMessage'][_0x3ce2ce(0x228)][_0x3ce2ce(0x628)],{'reactionMessage':{'key':_0x33164d[_0x3ce2ce(0x48d)][_0x3ce2ce(0x228)],'text':_0x33164d[_0x3ce2ce(0x48d)][_0x3ce2ce(0x5ec)]}});}async[a0_0x3656ce(0x2c3)](_0x34f82d){const _0xf260c=a0_0x3656ce;let _0x4fe470=[];for await(let _0xeae5d6 of _0x34f82d['numbers']){let _0x48057d=this[_0xf260c(0x60e)](_0xeae5d6),_0x74a852=!0x1;try{if((0x0,w[_0xf260c(0x586)])(_0x48057d)){let _0x2e7a7b=await this['findGroup']({'groupJid':_0x48057d},_0xf260c(0x233));_0x4fe470[_0xf260c(0x7a1)](new pe(_0x2e7a7b[_0xf260c(0x430)]['id'],!!_0x2e7a7b?.[_0xf260c(0x430)]['id'],_0x2e7a7b?.[_0xf260c(0x430)][_0xf260c(0x770)])),_0x74a852=!!_0x2e7a7b?.[_0xf260c(0x430)]['id'];}else{let _0xfe7402=(await this[_0xf260c(0x543)][_0xf260c(0x17e)](_0x48057d))[0x0];_0x4fe470[_0xf260c(0x7a1)](new pe(_0xfe7402[_0xf260c(0x29c)],_0xfe7402[_0xf260c(0x21b)])),_0x74a852=_0xfe7402[_0xf260c(0x21b)];}}catch{_0x4fe470['push'](new pe(_0xeae5d6,!0x1));}finally{await this['checkAndUpdateChatStatus'](_0x48057d,_0x74a852);}}return _0x4fe470;}async[a0_0x3656ce(0x490)](_0x56caa9,_0x1ced20){const _0x16d44f=a0_0x3656ce;try{await this[_0x16d44f(0x1f9)][_0x16d44f(0x497)][_0x16d44f(0x166)]({'where':{'_id':_0x56caa9,'imported':!0x0}},this[_0x16d44f(0x532)][_0x16d44f(0x25a)])&&(_0x1ced20?await this['repository'][_0x16d44f(0x497)][_0x16d44f(0x27f)]({'where':{'_id':_0x56caa9}},{'imported':!0x1},this[_0x16d44f(0x532)][_0x16d44f(0x25a)],void 0x0,'$unset'):(await this['repository'][_0x16d44f(0x497)][_0x16d44f(0x759)](_0x56caa9,this[_0x16d44f(0x532)]['wuid']),console[_0x16d44f(0x16d)](_0x16d44f(0x31b)+_0x56caa9+_0x16d44f(0x443))));}catch(_0x3d319d){console[_0x16d44f(0x417)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x3d319d);}}async[a0_0x3656ce(0x1d6)](_0x156238){const _0x23da7b=a0_0x3656ce;try{let _0x594d0e=_0x156238[_0x23da7b(0x2f6)]['filter'](_0x48b91d=>(0x0,w[_0x23da7b(0x586)])(_0x48b91d[_0x23da7b(0x628)])||(0x0,w[_0x23da7b(0x6bc)])(_0x48b91d['remoteJid']))[_0x23da7b(0x568)](_0x6f49e3=>({'remoteJid':_0x6f49e3[_0x23da7b(0x628)],'fromMe':_0x6f49e3['fromMe'],'id':_0x6f49e3['id']}));await this[_0x23da7b(0x543)][_0x23da7b(0x2f6)](_0x594d0e);let _0x18df36=_0x594d0e[_0x23da7b(0x568)](_0x540e91=>this[_0x23da7b(0x539)](_0x540e91,{'status':_0x23da7b(0x50e),'owner':this[_0x23da7b(0x532)][_0x23da7b(0x25a)]})),_0x2fd5dd=_0x594d0e['map'](_0x3232f6=>this[_0x23da7b(0x1f9)][_0x23da7b(0x497)]['updateOne']({'where':{'_id':_0x3232f6[_0x23da7b(0x628)]}},{'unreadcount':0x0},this[_0x23da7b(0x532)][_0x23da7b(0x25a)])),[_0xdf367f,_0x2eba36]=await Promise[_0x23da7b(0x626)]([Promise[_0x23da7b(0x626)](_0x18df36),Promise[_0x23da7b(0x626)](_0x2fd5dd)]);return _0x2eba36['filter'](_0x4adbd5=>_0x4adbd5!==null)[_0x23da7b(0x579)](_0x4a23dc=>{const _0x37e33d=_0x23da7b;j(this[_0x37e33d(0x3a7)],_0x37e33d(0x195),{'chat':_0x4a23dc});}),{'message':_0x23da7b(0x494),'read':_0x23da7b(0x2bb)};}catch(_0x10a514){throw console[_0x23da7b(0x417)]('Error\x20in\x20markMessageAsRead:',_0x10a514),new O(_0x23da7b(0x77d),_0x10a514['toString']());}}async[a0_0x3656ce(0x609)](_0x31f09b){const _0x2fdb2c=a0_0x3656ce;let _0x54583d=await this[_0x2fdb2c(0x3e3)]({'where':{'key':{'remoteJid':_0x31f09b}}}),_0x1a6647=_0x54583d[_0x2fdb2c(0x21e)]();for(let _0x5d9c6a of _0x54583d)_0x5d9c6a[_0x2fdb2c(0x3a1)]>=_0x1a6647['messageTimestamp']&&(_0x1a6647=_0x5d9c6a);return _0x1a6647;}async[a0_0x3656ce(0x5bb)](_0x224431){const _0x266bb8=a0_0x3656ce;this[_0x266bb8(0x506)][_0x266bb8(0x49e)](_0x266bb8(0x5a3));try{let _0x311cfe=_0x224431['lastMessage'],_0x27eed8=_0x224431[_0x266bb8(0x497)];if(!_0x311cfe&&_0x27eed8?_0x311cfe=await this[_0x266bb8(0x609)](_0x27eed8):(_0x311cfe=_0x224431[_0x266bb8(0x3b9)],_0x311cfe[_0x266bb8(0x3a1)]=_0x311cfe?.[_0x266bb8(0x3a1)]??Date[_0x266bb8(0x715)](),_0x27eed8=_0x311cfe?.[_0x266bb8(0x228)]?.[_0x266bb8(0x628)]),!_0x311cfe||Object[_0x266bb8(0x1aa)](_0x311cfe)['length']===0x0)throw new L(_0x266bb8(0x473));await this['client']['chatModify']({'archive':_0x224431['archive'],'lastMessages':[_0x311cfe]},this[_0x266bb8(0x60e)](_0x27eed8));let _0x2424d8=await this[_0x266bb8(0x1f9)][_0x266bb8(0x497)]['updateOne']({'where':{'_id':_0x311cfe?.[_0x266bb8(0x228)]?.[_0x266bb8(0x628)]}},{'archived':_0x224431[_0x266bb8(0x55f)]},this[_0x266bb8(0x532)][_0x266bb8(0x25a)]);return _0x2424d8&&j(this[_0x266bb8(0x3a7)],_0x266bb8(0x195),{'chat':_0x2424d8}),{'chatId':_0x27eed8,'archived':_0x224431['archive']};}catch(_0x539d3a){throw new O({'archived':!0x1,'message':[_0x266bb8(0x375),_0x539d3a[_0x266bb8(0x368)]()]});}}async['deleteMessage'](_0x1ae83d){const _0x89e92f=a0_0x3656ce;try{let _0x4cbc49=await this[_0x89e92f(0x543)][_0x89e92f(0x1f2)](_0x1ae83d['remoteJid'],{'delete':_0x1ae83d});try{let _0x5c5d6b=await this[_0x89e92f(0x539)](_0x1ae83d,{'status':_0x89e92f(0x5d1),'owner':this['instance'][_0x89e92f(0x25a)]});this['logger'][_0x89e92f(0x49e)](this[_0x89e92f(0x3a7)]+'\x20('+this[_0x89e92f(0x532)]['wuid']+_0x89e92f(0x313)+_0x5c5d6b);}catch(_0x4fcf98){console['error']('Error\x20updating\x20message\x20status:',_0x4fcf98);}return _0x4cbc49;}catch(_0x369cef){throw new O('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x369cef?.[_0x89e92f(0x368)]());}}async[a0_0x3656ce(0x3ca)](_0x9d2fcf){const _0x380467=a0_0x3656ce;try{let _0x7b0b20=_0x9d2fcf?.[_0x380467(0x2a2)]?_0x9d2fcf:await this[_0x380467(0x5c7)](_0x9d2fcf[_0x380467(0x228)],!0x0);for(let _0x39a47a of ua)_0x7b0b20[_0x380467(0x2a2)][_0x39a47a]&&(_0x7b0b20['message']=_0x7b0b20['message'][_0x39a47a][_0x380467(0x2a2)]);let _0x461e1d,_0x3d88f5;for(let _0x15dc63 of la)if(_0x461e1d=_0x7b0b20['message'][_0x15dc63],_0x461e1d){_0x3d88f5=_0x15dc63;break;}if(!_0x461e1d)throw _0x380467(0x531);typeof _0x461e1d[_0x380467(0x298)]==_0x380467(0x4ee)&&(_0x7b0b20[_0x380467(0x2a2)]=JSON[_0x380467(0x42d)](JSON[_0x380467(0x4cd)](_0x7b0b20[_0x380467(0x2a2)])));let _0x49f73f=await(0x0,w[_0x380467(0x6b4)])({'key':_0x7b0b20?.['key'],'message':_0x7b0b20?.[_0x380467(0x2a2)]},_0x380467(0x55e),{},{'logger':(0x0,Rt[_0x380467(0x3d0)])({'level':_0x380467(0x341)}),'reuploadRequest':this['client']['updateMediaMessage']});if(!(_0x49f73f instanceof Buffer))throw new Error(_0x380467(0x673));let _0x2748ae=this[_0x380467(0x5b9)][_0x380467(0x786)](_0x380467(0x2cf)),_0x1bf05c,_0xc8ae59;if(_0x461e1d['fileName'])_0x1bf05c=_0x461e1d[_0x380467(0x769)];else{let _0x2a4460=_0x461e1d['mimetype']?.[_0x380467(0x27b)](/\/(\w+)/),_0x4e27bd=_0x2a4460?_0x2a4460[0x1]:null;if(!_0x4e27bd)throw new Error(_0x380467(0x61a));_0x1bf05c=(0x0,me['v4'])()+'.'+_0x4e27bd;}_0x3d88f5===_0x380467(0x779)&&_0x461e1d[_0x380467(0x41f)]===_0x380467(0x4a5)?(_0x1bf05c=(0x0,me['v4'])()+'.ogg',_0xc8ae59=_0x380467(0x4f4)+await this[_0x380467(0x5a9)](_0x49f73f[_0x380467(0x368)]('base64'))):(await this[_0x380467(0x5aa)](_0x49f73f,_0x1bf05c),_0xc8ae59=_0x380467(0x4f4)+_0x1bf05c);let _0x374300=this[_0x380467(0x5b9)][_0x380467(0x786)](_0x380467(0x3ff))[_0x380467(0x33e)];if(!_0x374300){let _0x155bd2=this[_0x380467(0x5b9)][_0x380467(0x786)]('SSL_CONF');_0x374300=_0x380467(0x4c0)+(_0x155bd2&&_0x155bd2['FULLCHAIN']['split']('/')[0x4]);}_0xc8ae59=''+_0x374300+_0xc8ae59;let _0x22b57c=0xc*0x3c*0x3c*0x3e8,_0x3c3fda={'where':{'_id':_0x7b0b20[_0x380467(0x228)]['id']}},_0x56e8ab={'message_normalized.fileUrl':_0xc8ae59,'message_normalized.expires_fileUrl':Date[_0x380467(0x715)]()+_0x22b57c};try{let _0x2e8820=await this['repository'][_0x380467(0x2a2)]['update'](_0x3c3fda,_0x56e8ab,this[_0x380467(0x532)][_0x380467(0x25a)]);_0x2e8820&&j(this[_0x380467(0x3a7)],_0x380467(0x2ba),{'message':_0x2e8820});}catch(_0xa8ec8f){this[_0x380467(0x506)][_0x380467(0x417)](this['instanceName']+'\x20('+this[_0x380467(0x532)]['wuid']+_0x380467(0x478)+(_0xa8ec8f instanceof Error?_0xa8ec8f[_0x380467(0x2a2)]:JSON[_0x380467(0x4cd)](_0xa8ec8f,null,0x2)));}return{'mediaType':_0x3d88f5,'fileName':_0x461e1d['fileName'],'caption':_0x461e1d[_0x380467(0x5be)],'size':{'fileLength':_0x461e1d[_0x380467(0x665)],'height':_0x461e1d[_0x380467(0x332)],'width':_0x461e1d[_0x380467(0x3c4)]},'mimetype':_0x461e1d[_0x380467(0x41f)],'base64':_0x49f73f['toString'](_0x380467(0x2fc)),'fileUrl':_0xc8ae59,'expires_fileUrl':Date['now']()+_0x22b57c};}catch(_0x18ec18){throw this[_0x380467(0x506)]['error'](this['instanceName']+'\x20('+this[_0x380467(0x532)][_0x380467(0x25a)]+'):\x20'+(_0x18ec18 instanceof Error?_0x18ec18['message']:JSON[_0x380467(0x4cd)](_0x18ec18,null,0x2))),new h(_0x18ec18[_0x380467(0x368)]());}}async['saveMediaToFile'](_0x26dfdc,_0x50b48d){const _0x41e59e=a0_0x3656ce;console[_0x41e59e(0x16d)](_0x41e59e(0x62a),__dirname),console[_0x41e59e(0x16d)](_0x41e59e(0x778),_0x50b48d);let _0x5d8254=P[_0x41e59e(0x3d0)]['join'](__dirname,_0x41e59e(0x780));console[_0x41e59e(0x16d)](_0x41e59e(0x686),_0x5d8254),k['existsSync'](_0x5d8254)||(this[_0x41e59e(0x506)]['log'](_0x41e59e(0x53c)),k[_0x41e59e(0x33a)](_0x5d8254,{'recursive':!0x0}));let _0x547b95=P[_0x41e59e(0x3d0)][_0x41e59e(0x3f5)](_0x5d8254,_0x50b48d);return console[_0x41e59e(0x16d)](_0x41e59e(0x742),_0x547b95),new Promise((_0x22b19e,_0x4deab3)=>{const _0x6a45f3=_0x41e59e;k[_0x6a45f3(0x18c)](_0x547b95,_0x26dfdc,_0x13fdff=>{const _0x26a2c8=_0x6a45f3;_0x13fdff?(this[_0x26a2c8(0x506)][_0x26a2c8(0x417)](_0x26a2c8(0x45f)+(_0x13fdff instanceof Error?_0x13fdff[_0x26a2c8(0x2a2)]:JSON[_0x26a2c8(0x4cd)](_0x13fdff,null,0x2))),_0x4deab3(_0x13fdff)):(this['logger']['log'](_0x26a2c8(0x21f)+_0x547b95),_0x22b19e(_0x547b95));});});}async[a0_0x3656ce(0x479)](_0x46c915){const _0x2ee374=a0_0x3656ce;return await this[_0x2ee374(0x1f9)][_0x2ee374(0x662)]['find'](_0x46c915,this['instance'][_0x2ee374(0x25a)]);}async[a0_0x3656ce(0x6ac)](){const _0x3988f3=a0_0x3656ce;return await this[_0x3988f3(0x1f9)]['label'][_0x3988f3(0x285)]({'where':{}},this[_0x3988f3(0x532)][_0x3988f3(0x25a)]);}async['fetchMessages'](_0x27eb6b){const _0x59a1f=a0_0x3656ce;return await this[_0x59a1f(0x1f9)][_0x59a1f(0x2a2)][_0x59a1f(0x285)](_0x27eb6b,this[_0x59a1f(0x532)][_0x59a1f(0x25a)]);}async[a0_0x3656ce(0x607)](){const _0x5d6da6=a0_0x3656ce;let _0x115abf=[{'query':{'where':{'owner':this[_0x5d6da6(0x532)]['wuid'],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x5d6da6(0x532)][_0x5d6da6(0x25a)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this['repository'][_0x5d6da6(0x497)][_0x5d6da6(0x171)](_0x115abf),this['ensureChatIdsExist'](),await this[_0x5d6da6(0x1f9)][_0x5d6da6(0x497)][_0x5d6da6(0x285)]({'where':{}},this[_0x5d6da6(0x532)][_0x5d6da6(0x25a)]);}async[a0_0x3656ce(0x32a)](){const _0x58fe08=a0_0x3656ce;let _0x27ac90=await this['repository'][_0x58fe08(0x497)][_0x58fe08(0x285)]({'where':{}},this[_0x58fe08(0x532)][_0x58fe08(0x25a)]);for(let _0x1c0f1c of _0x27ac90)for(let _0x437a44=0x0;_0x437a44<_0x1c0f1c['leadInfo']['customFields']['length'];_0x437a44++)if(!_0x1c0f1c['leadInfo']['customFields'][_0x437a44][_0x58fe08(0x751)]){let _0x548493={'where':{'_id':_0x1c0f1c[_0x58fe08(0x34e)]}},_0x44a392={[_0x58fe08(0x25f)+_0x437a44+_0x58fe08(0x4f6)]:_0x1c0f1c[_0x58fe08(0x34e)]};await this[_0x58fe08(0x1f9)][_0x58fe08(0x497)][_0x58fe08(0x27f)](_0x548493,_0x44a392,this[_0x58fe08(0x532)]['wuid']);}}async['importChats'](_0x34c0d6){const _0x35261b=a0_0x3656ce;console[_0x35261b(0x16d)](_0x35261b(0x64c)),console[_0x35261b(0x16d)](_0x35261b(0x369)),console[_0x35261b(0x16d)](_0x34c0d6),console['log'](_0x35261b(0x369));try{if(!Array['isArray'](_0x34c0d6)||_0x34c0d6[_0x35261b(0x391)]===0x0)throw new Error(_0x35261b(0x4d1));let _0x548923=[],_0x28ab47=[];for(let _0x559b5f of _0x34c0d6){if(_0x559b5f[_0x35261b(0x34e)])_0x559b5f['_id']=this['createJid'](_0x559b5f[_0x35261b(0x34e)]);else continue;await this[_0x35261b(0x1f9)][_0x35261b(0x497)][_0x35261b(0x166)]({'where':{'_id':_0x559b5f[_0x35261b(0x34e)]}},this[_0x35261b(0x532)][_0x35261b(0x25a)])?_0x28ab47['push']({'_id':_0x559b5f[_0x35261b(0x34e)],'leadInfo':_0x559b5f[_0x35261b(0x3f3)],'owner':this[_0x35261b(0x532)][_0x35261b(0x25a)]}):_0x548923[_0x35261b(0x7a1)]({'_id':_0x559b5f[_0x35261b(0x34e)],'owner':this[_0x35261b(0x532)][_0x35261b(0x25a)],'leadInfo':_0x559b5f['leadInfo']});}return _0x28ab47[_0x35261b(0x391)]>0x0&&await this[_0x35261b(0x1f9)][_0x35261b(0x497)]['updateMany'](_0x28ab47[_0x35261b(0x568)](_0x460ff9=>({'query':{'where':{'_id':_0x460ff9[_0x35261b(0x34e)],'owner':this[_0x35261b(0x532)]['wuid']}},'update':_0x460ff9}))),_0x548923[_0x35261b(0x391)]>0x0&&await this[_0x35261b(0x1f9)][_0x35261b(0x497)][_0x35261b(0x1d8)](_0x548923,this[_0x35261b(0x532)][_0x35261b(0x25a)]),{'updated':_0x28ab47[_0x35261b(0x391)],'inserted':_0x548923[_0x35261b(0x391)]};}catch(_0x2df77e){throw console[_0x35261b(0x417)](_0x35261b(0x505),_0x2df77e),_0x2df77e;}}async[a0_0x3656ce(0x306)](){return await this['client']['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x257e2e){const _0x21ab05=a0_0x3656ce;try{return await this[_0x21ab05(0x543)][_0x21ab05(0x444)](_0x257e2e['privacySettings']['readreceipts']),await this[_0x21ab05(0x543)][_0x21ab05(0x376)](_0x257e2e[_0x21ab05(0x639)][_0x21ab05(0x6a1)]),await this[_0x21ab05(0x543)][_0x21ab05(0x793)](_0x257e2e['privacySettings']['status']),await this['client']['updateOnlinePrivacy'](_0x257e2e[_0x21ab05(0x639)][_0x21ab05(0x4fb)]),await this[_0x21ab05(0x543)]['updateLastSeenPrivacy'](_0x257e2e['privacySettings'][_0x21ab05(0x565)]),await this[_0x21ab05(0x543)][_0x21ab05(0x788)](_0x257e2e['privacySettings'][_0x21ab05(0x4bd)]),this[_0x21ab05(0x543)]?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x257e2e[_0x21ab05(0x639)][_0x21ab05(0x1ab)],'profile':_0x257e2e[_0x21ab05(0x639)][_0x21ab05(0x6a1)],'status':_0x257e2e['privacySettings'][_0x21ab05(0x6b6)],'online':_0x257e2e[_0x21ab05(0x639)][_0x21ab05(0x4fb)],'last':_0x257e2e[_0x21ab05(0x639)][_0x21ab05(0x565)],'groupadd':_0x257e2e[_0x21ab05(0x639)][_0x21ab05(0x4bd)]}};}catch(_0x5cb56b){throw new O(_0x21ab05(0x68b),_0x5cb56b[_0x21ab05(0x368)]());}}async['fetchProfile2'](_0x12c94e){const _0x9c5b05=a0_0x3656ce;let _0x3de029=_0x12c94e?this[_0x9c5b05(0x60e)](_0x12c94e):this[_0x9c5b05(0x543)]?.[_0x9c5b05(0x2ca)]?.['id'];this[_0x9c5b05(0x506)][_0x9c5b05(0x49e)]('Getting\x20profile\x20with\x20jid:\x20'+_0x3de029);try{if(this[_0x9c5b05(0x506)][_0x9c5b05(0x49e)](_0x9c5b05(0x1dd)),_0x12c94e){let _0x900dba=(await this[_0x9c5b05(0x2c3)]({'numbers':[_0x3de029]}))?.[_0x9c5b05(0x76b)](),_0x2b129e=await this['profilePicture'](_0x900dba?.[_0x9c5b05(0x29c)]),_0x13f344=await this['getStatus'](_0x900dba?.[_0x9c5b05(0x29c)]),_0x595577=await this[_0x9c5b05(0x5b8)](_0x900dba?.['jid']);return{'wuid':_0x900dba?.['jid']||_0x3de029,'name':_0x900dba?.[_0x9c5b05(0x6ba)],'numberExists':_0x900dba?.[_0x9c5b05(0x21b)],'picture':_0x2b129e?.[_0x9c5b05(0x659)],'status':_0x13f344?.[_0x9c5b05(0x6b6)],'isBusiness':_0x595577[_0x9c5b05(0x409)],'email':_0x595577?.[_0x9c5b05(0x566)],'description':_0x595577?.['description'],'website':_0x595577?.[_0x9c5b05(0x564)]?.['shift']()};}}catch{return this[_0x9c5b05(0x506)][_0x9c5b05(0x49e)]('Profile\x20not\x20found'),{'wuid':_0x3de029,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x3656ce(0x1e0)](_0x1a9eee){const _0x5c1416=a0_0x3656ce;let _0x442166=(_0x1a9eee?this[_0x5c1416(0x60e)](_0x1a9eee):this[_0x5c1416(0x543)]?.[_0x5c1416(0x2ca)]?.['id'])[_0x5c1416(0x69a)](/:\d{1,2}@/g,'@');this['logger'][_0x5c1416(0x49e)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x442166);let _0x28d9ae=await this[_0x5c1416(0x1f9)][_0x5c1416(0x662)][_0x5c1416(0x166)]({'where':{'_id':_0x442166}},this['instance'][_0x5c1416(0x25a)]),_0x1ee527=_0x28d9ae?_0x28d9ae[_0x5c1416(0x67d)]:null;try{let _0x5270a7=(await this[_0x5c1416(0x2c3)]({'numbers':[_0x442166]}))?.[_0x5c1416(0x76b)](),_0x50c3eb=await this[_0x5c1416(0x48c)](_0x5270a7?.[_0x5c1416(0x29c)]),_0x4a52ea=await this[_0x5c1416(0x584)](_0x5270a7?.[_0x5c1416(0x29c)]),_0x2d9976=await this[_0x5c1416(0x5b8)](_0x5270a7?.[_0x5c1416(0x29c)]),_0x412daa={'imagechat':_0x50c3eb?.['profilePictureUrl'],'contactname':_0x1ee527||null,'status':_0x4a52ea?.[_0x5c1416(0x6b6)],'isBusiness':_0x2d9976[_0x5c1416(0x409)],'email':_0x2d9976?.[_0x5c1416(0x566)],'description':_0x2d9976?.[_0x5c1416(0x71a)],'website':_0x2d9976?.[_0x5c1416(0x564)]?.[_0x5c1416(0x76b)](),'lastcache':Date[_0x5c1416(0x715)]()},_0x558aeb=await this[_0x5c1416(0x1f9)][_0x5c1416(0x497)][_0x5c1416(0x27f)]({'where':{'_id':_0x442166}},_0x412daa,this['instance']['wuid']),_0x54a8f7={'owner':this[_0x5c1416(0x532)][_0x5c1416(0x25a)],'_id':_0x442166,'profilePictureUrl':_0x50c3eb?.[_0x5c1416(0x659)],'status':_0x4a52ea?.['status']};return this[_0x5c1416(0x1f9)][_0x5c1416(0x662)][_0x5c1416(0x458)]([_0x54a8f7],this[_0x5c1416(0x532)][_0x5c1416(0x25a)]),_0x558aeb&&j(this['instanceName'],_0x5c1416(0x195),{'chat':_0x558aeb}),{'wuid':_0x5270a7?.['jid']||_0x442166,'name':_0x5270a7?.[_0x5c1416(0x6ba)],'numberExists':_0x5270a7?.[_0x5c1416(0x21b)],'picture':_0x50c3eb?.[_0x5c1416(0x659)],'status':_0x4a52ea?.['status'],'isBusiness':_0x2d9976[_0x5c1416(0x409)],'email':_0x2d9976?.[_0x5c1416(0x566)],'description':_0x2d9976?.[_0x5c1416(0x71a)],'website':_0x2d9976?.[_0x5c1416(0x564)]?.[_0x5c1416(0x76b)]()};}catch(_0x472ee6){return this['logger']['error'](_0x5c1416(0x637)+(_0x472ee6 instanceof Error?_0x472ee6[_0x5c1416(0x2a2)]:JSON[_0x5c1416(0x4cd)](_0x472ee6,null,0x2))),{};}}async['fetchBusinessProfile'](_0x400f73){const _0x4d9479=a0_0x3656ce;this[_0x4d9479(0x506)]['verbose'](_0x4d9479(0x2dd));try{let _0x3d49b2=_0x400f73?this[_0x4d9479(0x60e)](_0x400f73):this[_0x4d9479(0x532)][_0x4d9479(0x25a)],_0x15311c=await this['client']['getBusinessProfile'](_0x3d49b2);return this[_0x4d9479(0x506)]['verbose']('Trying\x20to\x20get\x20business\x20profile'),_0x15311c?(this[_0x4d9479(0x506)][_0x4d9479(0x49e)](_0x4d9479(0x67a)),{'isBusiness':!0x0,..._0x15311c}):{'isBusiness':!0x1,'message':_0x4d9479(0x34f),...(await this['whatsappNumber']({'numbers':[_0x3d49b2]}))?.[_0x4d9479(0x76b)]()};}catch(_0x3e82cd){throw new O('Error\x20updating\x20profile\x20name',_0x3e82cd[_0x4d9479(0x368)]());}}async[a0_0x3656ce(0x584)](_0x5ac01c){const _0x2fa973=a0_0x3656ce;let _0x4e4d60=this[_0x2fa973(0x60e)](_0x5ac01c);try{return{'wuid':_0x4e4d60,'status':(await this[_0x2fa973(0x543)][_0x2fa973(0x4d0)](_0x4e4d60))?.[_0x2fa973(0x6b6)]};}catch{return{'wuid':_0x4e4d60,'status':null};}}async['updateProfileName'](_0x430f1d){const _0x151e1d=a0_0x3656ce;try{return await this[_0x151e1d(0x543)][_0x151e1d(0x6b8)](_0x430f1d),{'update':_0x151e1d(0x2bb)};}catch(_0x1cb4ae){throw new O(_0x151e1d(0x541),_0x1cb4ae[_0x151e1d(0x368)]());}}async['updateProfileStatus'](_0x19b792){const _0x224859=a0_0x3656ce;try{return await this['client'][_0x224859(0x5f4)](_0x19b792),{'update':_0x224859(0x2bb)};}catch(_0x321239){throw new O(_0x224859(0x1e2),_0x321239[_0x224859(0x368)]());}}async[a0_0x3656ce(0x32b)](_0x459e81){const _0x341475=a0_0x3656ce;try{let _0x3dd774;if((0x0,$['isURL'])(_0x459e81)){let _0x76bed6=new Date()[_0x341475(0x4bb)](),_0x141d26=_0x459e81+_0x341475(0x4e5)+_0x76bed6;_0x3dd774=(await te[_0x341475(0x3d0)][_0x341475(0x786)](_0x141d26,{'responseType':'arraybuffer'}))[_0x341475(0x29e)];}else{if((0x0,$[_0x341475(0x447)])(_0x459e81))_0x3dd774=Buffer['from'](_0x459e81,_0x341475(0x2fc));else throw new h('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x341475(0x543)][_0x341475(0x32b)](this[_0x341475(0x532)][_0x341475(0x25a)],_0x3dd774),{'update':_0x341475(0x2bb)};}catch(_0x2f424d){throw new O(_0x341475(0x536),_0x2f424d['toString']());}}async[a0_0x3656ce(0x2ad)](){const _0x258c4e=a0_0x3656ce;try{return await this['client'][_0x258c4e(0x2ad)](this[_0x258c4e(0x532)][_0x258c4e(0x25a)]),{'update':_0x258c4e(0x2bb)};}catch(_0x3cd24f){throw new O(_0x258c4e(0x2e0),_0x3cd24f[_0x258c4e(0x368)]());}}async[a0_0x3656ce(0x5fb)](_0x570972){const _0x12d105=a0_0x3656ce;try{let _0x499caf=_0x570972[_0x12d105(0x704)][_0x12d105(0x568)](_0x5b3d8a=>this[_0x12d105(0x60e)](_0x5b3d8a)),{id:_0x3577f4}=await this[_0x12d105(0x543)][_0x12d105(0x455)](_0x570972[_0x12d105(0x770)],_0x499caf);return _0x570972?.['description']&&await this[_0x12d105(0x543)][_0x12d105(0x1c5)](_0x3577f4,_0x570972[_0x12d105(0x71a)]),{'metadata':await this[_0x12d105(0x543)][_0x12d105(0x2be)](_0x3577f4)};}catch(_0x388bcc){throw this[_0x12d105(0x506)][_0x12d105(0x417)](this['instanceName']+'\x20('+this[_0x12d105(0x532)]['wuid']+'):\x20'+(_0x388bcc instanceof Error?_0x388bcc[_0x12d105(0x2a2)]:JSON[_0x12d105(0x4cd)](_0x388bcc,null,0x2))),new O(_0x12d105(0x340),_0x388bcc['toString']());}}async[a0_0x3656ce(0x60f)](_0x3634bb){const _0x29cc0c=a0_0x3656ce;try{let _0x5c3f4b;if((0x0,$[_0x29cc0c(0x2c2)])(_0x3634bb[_0x29cc0c(0x527)])){let _0x567590=new Date()[_0x29cc0c(0x4bb)](),_0x3261ea=_0x3634bb[_0x29cc0c(0x527)]+'?timestamp='+_0x567590;_0x5c3f4b=(await te[_0x29cc0c(0x3d0)][_0x29cc0c(0x786)](_0x3261ea,{'responseType':_0x29cc0c(0x5f1)}))['data'];}else{if((0x0,$[_0x29cc0c(0x447)])(_0x3634bb[_0x29cc0c(0x527)]))_0x5c3f4b=Buffer[_0x29cc0c(0x40e)](_0x3634bb[_0x29cc0c(0x527)],'base64');else throw new h(_0x29cc0c(0x52f));}return await this[_0x29cc0c(0x543)]['updateProfilePicture'](_0x3634bb[_0x29cc0c(0x540)],_0x5c3f4b),{'update':_0x29cc0c(0x2bb)};}catch(_0x15f9cf){throw new O(_0x29cc0c(0x1b3),_0x15f9cf[_0x29cc0c(0x368)]());}}async['findGroup'](_0x4d5629,_0x49c5cb='out'){const _0x536c01=a0_0x3656ce;try{let _0xdfd276=await this['client'][_0x536c01(0x2be)](_0x4d5629[_0x536c01(0x540)]),_0x192111=null;try{_0x192111=(await this[_0x536c01(0x48c)](_0x4d5629['groupJid']))['profilePictureUrl'];}catch(_0x407cd9){this[_0x536c01(0x506)]['verbose'](this[_0x536c01(0x3a7)]+'\x20('+this[_0x536c01(0x532)][_0x536c01(0x25a)]+_0x536c01(0x792)+_0x4d5629[_0x536c01(0x540)]+':\x20'+(_0x407cd9 instanceof Error?_0x407cd9[_0x536c01(0x2a2)]:JSON[_0x536c01(0x4cd)](_0x407cd9,null,0x2)));}let _0x566ba3=await this[_0x536c01(0x1f9)][_0x536c01(0x497)][_0x536c01(0x27f)]({'where':{'_id':_0x4d5629['groupJid']}},{'imagechat':_0x192111,'name':_0xdfd276['subject'],'group_size':_0xdfd276[_0x536c01(0x5c3)],'group_announce':_0xdfd276[_0x536c01(0x6e8)],'lastcache':Date[_0x536c01(0x715)]()},this[_0x536c01(0x532)]['wuid']);return _0x566ba3&&j(this[_0x536c01(0x3a7)],_0x536c01(0x195),{'chat':_0x566ba3}),{'metadata':_0xdfd276,'image':_0x192111};}catch(_0x4408e3){if(_0x49c5cb==='inner')return;throw new L('Error\x20fetching\x20group',_0x4408e3[_0x536c01(0x368)]());}}async[a0_0x3656ce(0x56d)](_0x461fdc){const _0x596086=a0_0x3656ce;try{return await this[_0x596086(0x543)][_0x596086(0x1c5)](_0x461fdc[_0x596086(0x540)],_0x461fdc[_0x596086(0x71a)]),{'update':'success'};}catch(_0x46c8e0){throw new O(_0x596086(0x68c),_0x46c8e0['toString']());}}async[a0_0x3656ce(0x37e)](_0x4275aa){const _0x2613d4=a0_0x3656ce;try{return await this[_0x2613d4(0x543)][_0x2613d4(0x6d7)](_0x4275aa[_0x2613d4(0x540)],_0x4275aa[_0x2613d4(0x6ba)]),{'update':'success'};}catch(_0x2f4010){throw new O(_0x2613d4(0x5e4),_0x2f4010[_0x2613d4(0x368)]());}}async[a0_0x3656ce(0x6d6)](_0x588e15){const _0x37b396=a0_0x3656ce;try{return await this['client'][_0x37b396(0x46e)](_0x588e15['groupJid'],_0x588e15[_0x37b396(0x1b5)]),{'update':_0x37b396(0x2bb)};}catch(_0x33d374){throw new O(_0x37b396(0x508),_0x33d374['toString']());}}async[a0_0x3656ce(0x59c)](){const _0x3cb4bf=a0_0x3656ce;try{let _0x7aaf63=[],_0x34f7ad=await this['client']['groupFetchAllParticipating'](),_0x2d7842=Object[_0x3cb4bf(0x3bf)](_0x34f7ad),_0x410086=_0x2d7842[_0x3cb4bf(0x20d)](_0x40a2be=>(0x0,w[_0x3cb4bf(0x586)])(_0x40a2be?.['id']))[_0x3cb4bf(0x568)](async _0x2d964e=>{const _0x2a423c=_0x3cb4bf;try{return await this[_0x2a423c(0x543)][_0x2a423c(0x659)](_0x2d964e['id'],_0x2a423c(0x5ad));}catch(_0x581d1f){return this[_0x2a423c(0x506)][_0x2a423c(0x49e)](this[_0x2a423c(0x3a7)]+'\x20('+this[_0x2a423c(0x532)][_0x2a423c(0x25a)]+_0x2a423c(0x792)+_0x2d964e['id']+':\x20'+(_0x581d1f instanceof Error?_0x581d1f[_0x2a423c(0x2a2)]:JSON['stringify'](_0x581d1f,null,0x2))),null;}}),_0x15aa7f=await Promise[_0x3cb4bf(0x626)](_0x410086);for(let _0x541c29=0x0;_0x541c29<_0x2d7842[_0x3cb4bf(0x391)];_0x541c29++){let _0x27dc72=_0x2d7842[_0x541c29];(0x0,w[_0x3cb4bf(0x586)])(_0x27dc72?.['id'])&&_0x7aaf63[_0x3cb4bf(0x7a1)]({'groupJid':_0x27dc72?.['id'],'subject':_0x27dc72?.[_0x3cb4bf(0x770)],'subjectOwner':_0x27dc72?.[_0x3cb4bf(0x732)]?.[_0x3cb4bf(0x232)]('@')[0x0],'subjectTime':_0x27dc72?.[_0x3cb4bf(0x2d4)],'size':_0x27dc72?.[_0x3cb4bf(0x704)]?.['length'],'owner':_0x27dc72?.[_0x3cb4bf(0x292)]?.[_0x3cb4bf(0x232)]('@')[0x0],'creation':_0x27dc72?.['creation'],'desc':_0x27dc72?.[_0x3cb4bf(0x5f6)],'restrict':_0x27dc72?.['restrict'],'announce':_0x27dc72?.['announce'],'image':_0x15aa7f[_0x541c29]});}return _0x7aaf63;}catch(_0x460785){throw new L(_0x3cb4bf(0x2bc),_0x460785[_0x3cb4bf(0x368)]());}}async[a0_0x3656ce(0x764)](_0x100001){const _0x1af187=a0_0x3656ce;try{let _0x398d2a=await this['client'][_0x1af187(0x4f5)](_0x100001['groupJid']);return{'inviteUrl':_0x1af187(0x52b)+_0x398d2a,'inviteCode':_0x398d2a};}catch(_0x3c3bf4){throw new L(_0x1af187(0x63e),_0x3c3bf4[_0x1af187(0x368)]());}}async[a0_0x3656ce(0x5b7)](_0x404b88){const _0x24d939=a0_0x3656ce;try{let _0x532392=await this['client']['groupRevokeInvite'](_0x404b88[_0x24d939(0x540)]);return{'revoked':!0x0,'inviteUrl':_0x24d939(0x52b)+_0x532392,'inviteCode':_0x532392};}catch(_0x1efe7c){throw new L('Revoke\x20error',_0x1efe7c['toString']());}}async[a0_0x3656ce(0x32e)](_0x55bb9c){const _0x455679=a0_0x3656ce;try{if((0x0,$[_0x455679(0x2c2)])(_0x55bb9c[_0x455679(0x764)]))var _0x4d839e=_0x55bb9c[_0x455679(0x764)][_0x455679(0x232)]('/')[0x3];else var _0x4d839e=_0x55bb9c['inviteCode'];let _0x50a777=await this[_0x455679(0x543)][_0x455679(0x4c9)](_0x4d839e);return this[_0x455679(0x506)]['verbose'](this[_0x455679(0x3a7)]+'\x20('+this['instance'][_0x455679(0x25a)]+_0x455679(0x478)+_0x50a777),{'join':!0x0,'inviteCode':_0x4d839e,'groupJid':_0x50a777};}catch(_0x5147be){throw new L(_0x455679(0x514),_0x5147be[_0x455679(0x368)]());}}async[a0_0x3656ce(0x74c)](_0x44c34d){const _0x47ccd6=a0_0x3656ce;try{return{'participants':(await this[_0x47ccd6(0x543)][_0x47ccd6(0x2be)](_0x44c34d['groupJid']))['participants']};}catch(_0x3c718a){throw new L(_0x47ccd6(0x578),_0x3c718a[_0x47ccd6(0x368)]());}}async['updateGParticipant'](_0x22131b){const _0x43d807=a0_0x3656ce;try{let _0x14812f=_0x22131b[_0x43d807(0x704)][_0x43d807(0x568)](_0x3c1b28=>this[_0x43d807(0x60e)](_0x3c1b28));return{'updateParticipants':await this[_0x43d807(0x543)]['groupParticipantsUpdate'](_0x22131b[_0x43d807(0x540)],_0x14812f,_0x22131b['action'])};}catch(_0x55e005){throw new h('Error\x20updating\x20participants',_0x55e005[_0x43d807(0x368)]());}}async[a0_0x3656ce(0x599)](_0x3bd4d9){const _0x596ab7=a0_0x3656ce;try{let _0x4209ed=await this[_0x596ab7(0x543)]['groupToggleEphemeral'](_0x3bd4d9[_0x596ab7(0x540)],_0x3bd4d9[_0x596ab7(0x183)]);return{'success':!0x0};}catch(_0x11cbcd){throw new h(_0x596ab7(0x411),_0x11cbcd[_0x596ab7(0x368)]());}}async['leaveGroup'](_0xcf8452){const _0x43ce2d=a0_0x3656ce;try{return await this[_0x43ce2d(0x543)][_0x43ce2d(0x17a)](_0xcf8452[_0x43ce2d(0x540)]),{'groupJid':_0xcf8452[_0x43ce2d(0x540)],'leave':!0x0};}catch(_0x25396e){throw new h(_0x43ce2d(0x6f7),_0x25396e['toString']());}}async['pollMessage'](_0xdeeb40){const _0x5d75ee=a0_0x3656ce;return await this[_0x5d75ee(0x4c6)](_0xdeeb40[_0x5d75ee(0x204)],{'poll':{'name':_0xdeeb40[_0x5d75ee(0x26f)]?.['name'],'selectableCount':_0xdeeb40['pollMessage']['selectableCount'],'values':_0xdeeb40[_0x5d75ee(0x26f)]['values']}},_0xdeeb40?.['options']);}async[a0_0x3656ce(0x21d)](_0x1fd030){const _0x27e370=a0_0x3656ce;return await this[_0x27e370(0x4c6)](_0x1fd030[_0x27e370(0x204)],{'listMessage':{'title':_0x1fd030['listMessage']['title'],'description':_0x1fd030[_0x27e370(0x21d)][_0x27e370(0x71a)],'buttonText':_0x1fd030[_0x27e370(0x21d)]?.['buttonText'],'footerText':_0x1fd030[_0x27e370(0x21d)]?.['footerText'],'sections':_0x1fd030[_0x27e370(0x21d)][_0x27e370(0x198)],'listType':0x2}},_0x1fd030?.['options']);}async[a0_0x3656ce(0x44c)](_0x44c01f){const _0x2c9b68=a0_0x3656ce;let _0x260669;if(_0x44c01f[_0x2c9b68(0x44c)][_0x2c9b68(0x1a6)]===_0x2c9b68(0x547)){let _0x3a0ec6=_0x44c01f[_0x2c9b68(0x44c)]['text']['indexOf']('\x0a'),_0x1869c5='',_0x44390c='';_0x3a0ec6!==-0x1?(_0x1869c5=_0x44c01f[_0x2c9b68(0x44c)][_0x2c9b68(0x4bc)][_0x2c9b68(0x5d0)](0x0,_0x3a0ec6)[_0x2c9b68(0x6a3)](),_0x44390c=_0x44c01f['menuMessage'][_0x2c9b68(0x4bc)][_0x2c9b68(0x5d0)](_0x3a0ec6+0x1)):_0x44390c=_0x44c01f[_0x2c9b68(0x44c)][_0x2c9b68(0x4bc)];let _0x317858=this[_0x2c9b68(0x707)](_0x44c01f['menuMessage'][_0x2c9b68(0x1ba)]);_0x260669={'listMessage':{'title':_0x1869c5,'description':_0x44390c,'buttonText':_0x44c01f[_0x2c9b68(0x44c)][_0x2c9b68(0x207)]||_0x2c9b68(0x380),'footerText':_0x44c01f[_0x2c9b68(0x44c)][_0x2c9b68(0x4de)],'sections':_0x317858,'listType':0x2}};}else{if(_0x44c01f['menuMessage'][_0x2c9b68(0x1a6)]==='poll'){let _0x304a94=_0x44c01f[_0x2c9b68(0x44c)][_0x2c9b68(0x1ba)]['filter'](_0x44e649=>!(_0x44e649['startsWith']('[')&&_0x44e649['endsWith'](']')))[_0x2c9b68(0x568)](_0x4f98ed=>_0x4f98ed['split']('\x0a')[0x0]);_0x260669={'poll':{'name':_0x44c01f[_0x2c9b68(0x44c)]['text'],'selectableCount':_0x44c01f[_0x2c9b68(0x44c)]['selectableCount']||0x1,'values':_0x304a94}};}}return await this[_0x2c9b68(0x4c6)](_0x44c01f[_0x2c9b68(0x204)],_0x260669,_0x44c01f?.[_0x2c9b68(0x3db)]);}['createSectionsFromValues'](_0x187379){const _0x3d4b37=a0_0x3656ce;let _0x35ba2a=[],_0x5a16af={'rows':[]};return _0x187379['forEach'](_0x445515=>{const _0xeace28=a0_0x4f47;if(_0x445515[_0xeace28(0x1fc)]('[')&&_0x445515[_0xeace28(0x31e)](']'))_0x5a16af[_0xeace28(0x774)][_0xeace28(0x391)]>0x0&&_0x35ba2a[_0xeace28(0x7a1)](_0x5a16af),_0x5a16af={'title':_0x445515['slice'](0x1,-0x1),'rows':[]};else{let _0x5d0059=_0x445515['split']('\x0a')[_0xeace28(0x568)](_0x2cfdad=>_0x2cfdad['trim']()),_0x463a7a=_0x5d0059[0x0],_0x4cfba8=_0x5d0059[0x1]||null,_0x19475b=_0x5d0059[0x2]||_0x463a7a;_0x5a16af[_0xeace28(0x774)][_0xeace28(0x7a1)]({'title':_0x463a7a,'description':_0x4cfba8,'rowId':_0x19475b});}}),_0x5a16af['rows'][_0x3d4b37(0x391)]>0x0&&_0x35ba2a[_0x3d4b37(0x7a1)](_0x5a16af),_0x35ba2a;}async[a0_0x3656ce(0x539)](_0x5ec8a6,_0x2e4a1d){const _0x376b82=a0_0x3656ce;if(await this['getMessage'](_0x5ec8a6,!0x0)){let _0x310204={'where':{'_id':_0x5ec8a6['id']}},_0x35144e={'status':[_0x2e4a1d['status']][0x0]};try{let _0x34ff5c=await this[_0x376b82(0x1f9)][_0x376b82(0x2a2)]['update'](_0x310204,_0x35144e,this['instance'][_0x376b82(0x25a)]);_0x34ff5c&&j(this['instanceName'],_0x376b82(0x2ba),{'message':_0x34ff5c});}catch{}}}[a0_0x3656ce(0x6a5)](_0x20b650){const _0x3835fa=a0_0x3656ce;let _0x13152f=[];return _0x20b650[_0x3835fa(0x579)](_0x56884d=>{const _0x254318=_0x3835fa;_0x56884d[_0x254318(0x1b4)]&&_0x13152f[_0x254318(0x7a1)]('['+_0x56884d['title']+']'),_0x56884d[_0x254318(0x774)][_0x254318(0x579)](_0x3eeddb=>{const _0x236512=_0x254318;let _0x13fdeb=_0x3eeddb['title'];_0x3eeddb['description']&&(_0x13fdeb+='\x0a'+_0x3eeddb[_0x236512(0x71a)]),_0x13fdeb+='\x0a'+_0x3eeddb['rowId'],_0x13152f[_0x236512(0x7a1)](_0x13fdeb);});}),_0x13152f['join']('|');}[a0_0x3656ce(0x2b2)](_0x1b902b){const _0x316c08=a0_0x3656ce;let _0x5f47fd=_0x1b902b[_0x316c08(0x69a)](/\\n/g,'\x0a')['split']('\x0a')[_0x316c08(0x20d)](_0x550d66=>_0x550d66[_0x316c08(0x516)](_0x316c08(0x48b))||_0x550d66['includes'](_0x316c08(0x2ed))),_0x3a5df4='';return _0x5f47fd[_0x316c08(0x579)](_0x1fd4c8=>{const _0x4c67af=_0x316c08;let _0x3756ce=/TEL(?:.*):(.+)/,_0x2e008f=/EMAIL(?:.*):(.+)/,_0x1d9546=_0x1fd4c8[_0x4c67af(0x27b)](_0x3756ce),_0x49784a=_0x1fd4c8[_0x4c67af(0x27b)](_0x2e008f);if(_0x1d9546){let _0x20402b=_0x1d9546[0x1][_0x4c67af(0x69a)](/-| |\+|\(|\)/g,'')[_0x4c67af(0x6a3)]();_0x3a5df4+=_0x4c67af(0x2ae)+_0x20402b+'\x0a';}else{if(_0x49784a){let _0x2a56c8=_0x49784a[0x1][_0x4c67af(0x6a3)]();_0x3a5df4+=_0x4c67af(0x798)+_0x2a56c8+'\x0a';}}}),_0x3a5df4['trim']();}async['updateChatWithMessage'](_0x66915e,_0x191b14,_0x37ca04){const _0x4c9e96=a0_0x3656ce;if(!_0x66915e[_0x4c9e96(0x6da)])return;let _0x1fd4c6=_0x191b14['key'][_0x4c9e96(0x628)][_0x4c9e96(0x69a)](/:\d{1,2}@/g,'@'),_0x43171a=_0x191b14[_0x4c9e96(0x228)][_0x4c9e96(0x72f)],_0x554d12=_0x1fd4c6['endsWith']('@g.us'),_0x2f30bc=_0x191b14['message_normalized']?.[_0x4c9e96(0x4bc)]||_0x191b14['message_normalized']?.[_0x4c9e96(0x5be)]||_0x191b14[_0x4c9e96(0x2c6)]?.['vote']||_0x191b14[_0x4c9e96(0x2c6)]?.['name'],_0x3de8e2={'lastmsg':_0x191b14[_0x4c9e96(0x3a1)]||Date[_0x4c9e96(0x715)](),'unreadcount':_0x43171a?0x0:0x1,..._0x43171a||_0x554d12?{}:{'name':_0x191b14[_0x4c9e96(0x67d)]},..._0x554d12?{'group':_0x554d12}:{}};if(_0x37ca04===_0x4c9e96(0x330)&&_0x43171a&&this[_0x4c9e96(0x573)]?.[_0x4c9e96(0x4c1)][_0x4c9e96(0x3b0)]&&!_0x2f30bc[_0x4c9e96(0x1fc)](this[_0x4c9e96(0x573)]?.[_0x4c9e96(0x4c1)][_0x4c9e96(0x492)])){let _0x991198=(this['AutomateSystem']?.[_0x4c9e96(0x4c1)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x259c4d=Date['now']()+_0x991198;_0x3de8e2[_0x4c9e96(0x71d)]=_0x259c4d,this[_0x4c9e96(0x506)][_0x4c9e96(0x49e)](this[_0x4c9e96(0x3a7)]+'\x20('+this[_0x4c9e96(0x532)]['wuid']+_0x4c9e96(0x698)+_0x259c4d+'.');}let _0x157e8c=await this[_0x4c9e96(0x1f9)][_0x4c9e96(0x497)]['updateOne']({'where':{'_id':_0x1fd4c6}},_0x3de8e2,this[_0x4c9e96(0x532)][_0x4c9e96(0x25a)],{'new':!0x0,'upsert':!0x0});if(!_0x554d12&&(!_0x157e8c?.[_0x4c9e96(0x3f3)]||!_0x157e8c[_0x4c9e96(0x3f3)][_0x4c9e96(0x5d6)])&&_0x191b14[_0x4c9e96(0x67d)]&&!_0x43171a&&await this[_0x4c9e96(0x1f9)][_0x4c9e96(0x497)][_0x4c9e96(0x27f)]({'where':{'_id':_0x1fd4c6}},{'leadInfo':{'nome':_0x191b14['pushName']}},this['instance'][_0x4c9e96(0x25a)],{'new':!0x0,'upsert':!0x1}),_0x157e8c)j(this['instanceName'],_0x4c9e96(0x195),{'chat':_0x157e8c});else{this['logger'][_0x4c9e96(0x417)](this[_0x4c9e96(0x3a7)]+'\x20('+this[_0x4c9e96(0x532)][_0x4c9e96(0x25a)]+_0x4c9e96(0x64d));return;}if(!this[_0x4c9e96(0x573)]?.[_0x4c9e96(0x4c1)]['enabled'])return this[_0x4c9e96(0x506)][_0x4c9e96(0x49e)](this[_0x4c9e96(0x3a7)]+'\x20('+this[_0x4c9e96(0x532)][_0x4c9e96(0x25a)]+_0x4c9e96(0x1af)),null;if(_0x157e8c[_0x4c9e96(0x34e)]['includes'](_0x4c9e96(0x499))&&this[_0x4c9e96(0x573)]?.[_0x4c9e96(0x4c1)]['ignoreGroups']===!0x0)return this[_0x4c9e96(0x506)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4c9e96(0x25a)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x157e8c[_0x4c9e96(0x3f3)]){if(_0x157e8c[_0x4c9e96(0x3f3)][_0x4c9e96(0x631)]===0x0||_0x157e8c['leadInfo'][_0x4c9e96(0x4b2)])return this[_0x4c9e96(0x506)]['verbose'](this[_0x4c9e96(0x3a7)]+'\x20('+this['instance']['wuid']+_0x4c9e96(0x22d)+_0x1fd4c6+',\x20saindo.'),null;if(_0x157e8c[_0x4c9e96(0x3f3)][_0x4c9e96(0x631)]>Date[_0x4c9e96(0x715)]()&&!_0x191b14['message_normalized']?.[_0x4c9e96(0x525)])return this[_0x4c9e96(0x506)][_0x4c9e96(0x49e)](this[_0x4c9e96(0x3a7)]+'\x20('+this['instance']['wuid']+_0x4c9e96(0x349)+new Date(_0x157e8c[_0x4c9e96(0x3f3)][_0x4c9e96(0x631)])[_0x4c9e96(0x345)]()+',\x20saindo.'),null;}this[_0x4c9e96(0x506)][_0x4c9e96(0x49e)](this['instanceName']+'\x20('+this[_0x4c9e96(0x532)]['wuid']+_0x4c9e96(0x6a9)),this[_0x4c9e96(0x619)](_0x37ca04,_0x191b14);}async['upsertChats'](_0x34e774,_0x164e6a){const _0x75d6fc=a0_0x3656ce;if(_0x164e6a[_0x75d6fc(0x6da)]){let _0x43c0ab=_0x34e774[_0x75d6fc(0x568)](async _0x1a64b0=>{const _0x3a30cb=_0x75d6fc;try{let _0x2f79bd={'_id':_0x1a64b0[_0x3a30cb(0x34e)],'owner':_0x1a64b0[_0x3a30cb(0x292)],'lastcache':0x0};if(_0x1a64b0[_0x3a30cb(0x74b)]!==null&&(_0x2f79bd[_0x3a30cb(0x74b)]=_0x1a64b0[_0x3a30cb(0x74b)]),_0x1a64b0[_0x3a30cb(0x6ba)]!==null&&(_0x2f79bd['name']=_0x1a64b0[_0x3a30cb(0x6ba)]),_0x1a64b0[_0x3a30cb(0x441)]!==null&&(_0x2f79bd[_0x3a30cb(0x441)]=_0x1a64b0[_0x3a30cb(0x441)]),_0x1a64b0[_0x3a30cb(0x4e0)]!==null&&(_0x2f79bd[_0x3a30cb(0x4e0)]=_0x1a64b0[_0x3a30cb(0x4e0)]),_0x1a64b0['imagechat']===null&&(_0x2f79bd['imagechat']=_0x3a30cb(0x4e1)),_0x1a64b0['lastmsg']!==null&&(_0x2f79bd[_0x3a30cb(0x1cf)]=_0x1a64b0[_0x3a30cb(0x1cf)]),_0x1a64b0['archived']!==null&&(_0x2f79bd[_0x3a30cb(0x493)]=_0x1a64b0['archived']),_0x1a64b0[_0x3a30cb(0x415)]!==null&&(_0x2f79bd[_0x3a30cb(0x415)]=_0x1a64b0['unreadcount']),Object[_0x3a30cb(0x1aa)](_0x2f79bd)[_0x3a30cb(0x391)]>0x0)return await this[_0x3a30cb(0x1f9)][_0x3a30cb(0x497)][_0x3a30cb(0x27f)]({'where':{'_id':_0x1a64b0[_0x3a30cb(0x34e)]}},_0x2f79bd,this[_0x3a30cb(0x532)][_0x3a30cb(0x25a)]);}catch(_0x28e6e6){return console[_0x3a30cb(0x417)](_0x3a30cb(0x261)+_0x1a64b0[_0x3a30cb(0x34e)]+':',_0x28e6e6),null;}}),_0x103bd5=(await Promise[_0x75d6fc(0x626)](_0x43c0ab))[_0x75d6fc(0x20d)](_0x2e7b04=>_0x2e7b04!==null)['length'];this[_0x75d6fc(0x506)]['verbose'](this['instanceName']+'\x20('+this[_0x75d6fc(0x532)]['wuid']+_0x75d6fc(0x478)+_0x103bd5+'\x20chats\x20de\x20'+this[_0x75d6fc(0x532)][_0x75d6fc(0x25a)]+_0x75d6fc(0x437));}}async[a0_0x3656ce(0x18d)](_0x2f7ef4){const _0x4c25f3=a0_0x3656ce;this[_0x4c25f3(0x506)][_0x4c25f3(0x49e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4c25f3(0x325));let _0x4fcda5={'readMessages':[{'remoteJid':_0x2f7ef4['chatLog']['lastReceivedMessage'][_0x4c25f3(0x228)][_0x4c25f3(0x628)],'fromMe':_0x2f7ef4['chatLog'][_0x4c25f3(0x4cc)][_0x4c25f3(0x228)][_0x4c25f3(0x72f)],'id':_0x2f7ef4[_0x4c25f3(0x165)][_0x4c25f3(0x4cc)][_0x4c25f3(0x228)]['id']}]};await this[_0x4c25f3(0x1d6)](_0x4fcda5);}async[a0_0x3656ce(0x619)](_0x3df700,_0x30f3e7){const _0xc864d5=a0_0x3656ce;try{let {key:_0x2fa13b,message_normalized:_0x540435}=_0x30f3e7,_0x24f943=_0x540435,_0x4865c7=_0x540435['text']||_0x540435['caption']||_0x540435[_0xc864d5(0x525)]||_0x540435['name'],_0x541d88=_0x2fa13b['remoteJid'],_0x496494;if(_0x24f943[_0xc864d5(0x228)][_0xc864d5(0x72f)]&&_0x4865c7[_0xc864d5(0x6a3)]()!==this['AutomateSystem']?.[_0xc864d5(0x4c1)][_0xc864d5(0x4f8)][_0xc864d5(0x6a3)]())return this[_0xc864d5(0x506)]['verbose'](this[_0xc864d5(0x3a7)]+'\x20('+this[_0xc864d5(0x532)][_0xc864d5(0x25a)]+_0xc864d5(0x259)),null;if(_0x24f943[_0xc864d5(0x228)][_0xc864d5(0x72f)]&&_0x4865c7[_0xc864d5(0x6a3)]()===this['AutomateSystem']?.['flowConfig'][_0xc864d5(0x4f8)][_0xc864d5(0x6a3)]()){this[_0xc864d5(0x506)][_0xc864d5(0x49e)](this[_0xc864d5(0x3a7)]+'\x20('+this[_0xc864d5(0x532)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x3e83c5=await this[_0xc864d5(0x1f9)][_0xc864d5(0x5cd)][_0xc864d5(0x285)]({'where':{'remoteJid':_0x541d88,'status':'open'}},this[_0xc864d5(0x532)][_0xc864d5(0x25a)]);this[_0xc864d5(0x506)][_0xc864d5(0x49e)](this[_0xc864d5(0x3a7)]+'\x20('+this[_0xc864d5(0x532)][_0xc864d5(0x25a)]+_0xc864d5(0x569)+_0x3e83c5);let _0x319268=Date[_0xc864d5(0x715)](),_0xb5946a;return this['AutomateSystem']?.[_0xc864d5(0x4c1)][_0xc864d5(0x44f)]===0x0?_0xb5946a={'stoppedUntil':_0x319268+0x7591f6200}:_0xb5946a={'stoppedUntil':_0x319268+this['AutomateSystem']?.[_0xc864d5(0x4c1)][_0xc864d5(0x44f)]*0x3c*0x3e8},this['logger'][_0xc864d5(0x49e)](this[_0xc864d5(0x3a7)]+'\x20('+this[_0xc864d5(0x532)][_0xc864d5(0x25a)]+_0xc864d5(0x2a4)+_0xb5946a),this[_0xc864d5(0x3c7)](_0x496494,_0xb5946a[_0xc864d5(0x35a)]),null;}if(_0x4865c7&&_0x4865c7[_0xc864d5(0x1fc)](this[_0xc864d5(0x573)]?.['flowConfig'][_0xc864d5(0x492)])&&_0x4865c7[_0xc864d5(0x391)]>0x4){let _0x157244=await this['repository'][_0xc864d5(0x2ac)]['findOne']({'where':{'startCommandWord':_0x4865c7}},this['instance'][_0xc864d5(0x25a)]);if(this[_0xc864d5(0x506)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xc864d5(0x25a)]+_0xc864d5(0x23f)),_0x157244)_0x496494=await this[_0xc864d5(0x3ae)](_0x157244,_0x24f943['key'],_0x24f943);else return this[_0xc864d5(0x506)][_0xc864d5(0x49e)](this['instanceName']+'\x20('+this[_0xc864d5(0x532)][_0xc864d5(0x25a)]+_0xc864d5(0x6ce)),null;}else _0x496494=await this[_0xc864d5(0x36f)](_0x541d88,_0x24f943);if(_0x496494){this[_0xc864d5(0x506)][_0xc864d5(0x49e)](this[_0xc864d5(0x3a7)]+'\x20('+this[_0xc864d5(0x532)][_0xc864d5(0x25a)]+_0xc864d5(0x1d0)),!_0x2fa13b[_0xc864d5(0x72f)]&&_0x496494[_0xc864d5(0x2f6)]&&this[_0xc864d5(0x18d)](_0x496494);let _0x4f5e7d=await this[_0xc864d5(0x57f)](_0x496494);_0x4f5e7d&&await this[_0xc864d5(0x382)](_0x496494,_0x4f5e7d);}}catch(_0x10e468){this[_0xc864d5(0x506)][_0xc864d5(0x417)](this[_0xc864d5(0x3a7)]+'\x20('+this[_0xc864d5(0x532)][_0xc864d5(0x25a)]+_0xc864d5(0x2fe)+(_0x10e468 instanceof Error?_0x10e468[_0xc864d5(0x2a2)]:JSON[_0xc864d5(0x4cd)](_0x10e468,null,0x2)));}}[a0_0x3656ce(0x59b)](_0x27c035,_0x231a59='',_0x27fbd1={},_0x266ca1=!0x0){for(let _0x51635f in _0x27c035){let _0x346b63=_0x266ca1?'_'+_0x51635f:''+_0x231a59+_0x51635f;typeof _0x27c035[_0x51635f]=='object'&&_0x27c035[_0x51635f]!==null?this['flattenObject'](_0x27c035[_0x51635f],_0x346b63+'.',_0x27fbd1,!0x1):_0x27fbd1[_0x346b63]=String(_0x27c035[_0x51635f]);}return _0x27fbd1;}['variablesToObject'](_0x406c6d){const _0x483a22=a0_0x3656ce;let _0x295863={};for(let _0xe0e2bc of _0x406c6d)typeof _0xe0e2bc[_0x483a22(0x6ba)]==_0x483a22(0x474)&&typeof _0xe0e2bc[_0x483a22(0x685)]==_0x483a22(0x474)&&(_0x295863[_0xe0e2bc[_0x483a22(0x6ba)]]=_0xe0e2bc[_0x483a22(0x685)]);return _0x295863;}async[a0_0x3656ce(0x57f)](_0x401b19){const _0x30d545=a0_0x3656ce;if(!this[_0x30d545(0x573)]?.[_0x30d545(0x4c1)][_0x30d545(0x3b0)]||_0x401b19['status']!==_0x30d545(0x2ff)&&_0x401b19[_0x30d545(0x356)]==='')return null;let _0x584266=_0x401b19[_0x30d545(0x165)][_0x30d545(0x463)]||_0x30d545(0x46a);typeof _0x401b19[_0x30d545(0x165)]['lastCondition']>'u'&&(_0x401b19[_0x30d545(0x165)]['lastCondition']=!0x0);let _0x2d3803=_0x401b19['chatLog'][_0x30d545(0x36a)];this['logger'][_0x30d545(0x49e)](this['instanceName']+'\x20('+this[_0x30d545(0x532)]['wuid']+_0x30d545(0x181)+_0x584266+_0x30d545(0x2f8)+_0x2d3803);let _0x6c4685=_0x584266===_0x30d545(0x46a)?_0x401b19['blocks'][_0x30d545(0x285)](_0x5eebf1=>_0x5eebf1[_0x30d545(0x1a6)]===_0x30d545(0x46a)):_0x401b19[_0x30d545(0x424)]['find'](_0x3d80ec=>_0x3d80ec[_0x30d545(0x34e)][_0x30d545(0x368)]()===_0x584266[_0x30d545(0x368)]());if(!_0x6c4685)return this[_0x30d545(0x506)]['error'](this[_0x30d545(0x3a7)]+'\x20('+this[_0x30d545(0x532)][_0x30d545(0x25a)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x584266),null;let _0x191a6d={'_pushName':_0x401b19[_0x30d545(0x165)][_0x30d545(0x4cc)][_0x30d545(0x67d)],..._0x401b19[_0x30d545(0x165)]['realVariables']},_0x2eadb4=null;if(_0x401b19['waitingMenu_id']){let _0x198a6d=_0x401b19[_0x30d545(0x165)][_0x30d545(0x4cc)][_0x30d545(0x525)],_0x42d862=_0x401b19[_0x30d545(0x4b9)]['find'](_0x4b89dc=>_0x4b89dc[_0x30d545(0x52a)]===_0x198a6d);if(_0x42d862){let _0xf0fb48=_0x42d862['next_groupId'];if(_0x2eadb4=_0x401b19[_0x30d545(0x424)][_0x30d545(0x285)](_0x2ee17a=>_0x2ee17a[_0x30d545(0x66a)]===_0xf0fb48&&_0x2ee17a[_0x30d545(0x1ec)]===0x1),_0x6c4685[_0x30d545(0x6ab)][_0x30d545(0x556)]){let _0x318a69={'id':_0x401b19[_0x30d545(0x356)],'remoteJid':_0x401b19['remoteJid'],'fromMe':!0x0};await this[_0x30d545(0x77c)](_0x318a69);}if(_0x6c4685[_0x30d545(0x6ab)][_0x30d545(0x556)]&&_0x6c4685['uazapi'][_0x30d545(0x4f1)]&&_0x6c4685[_0x30d545(0x6ab)][_0x30d545(0x189)]===_0x30d545(0x3da)){let _0x323837={'number':_0x401b19[_0x30d545(0x628)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x401b19['waitingMenu_text']+_0x30d545(0x2ec)+_0x198a6d}};await this[_0x30d545(0x791)](_0x323837);}_0x401b19[_0x30d545(0x6b6)]=_0x30d545(0x2ff),_0x401b19[_0x30d545(0x356)]='',_0x401b19[_0x30d545(0x644)]='',_0x401b19[_0x30d545(0x4b9)]=[];}else{this['logger'][_0x30d545(0x49e)](this['instanceName']+'\x20('+this[_0x30d545(0x532)][_0x30d545(0x25a)]+_0x30d545(0x283));let _0x2d87ce={'activatedCount':_0x401b19[_0x30d545(0x165)][_0x30d545(0x3ec)][_0x30d545(0x20d)](_0x3130db=>String(_0x3130db[_0x30d545(0x590)])===String(_0x584266))[_0x30d545(0x391)],'moreLogs':[_0x30d545(0x17d)]};if(_0x6c4685[_0x30d545(0x6ab)][_0x30d545(0x24f)]){let _0xae74b0={'number':_0x401b19[_0x30d545(0x628)],'options':{'delay':0x0},'textMessage':{'text':_0x6c4685[_0x30d545(0x6ab)][_0x30d545(0x24f)]}};await this['textMessage'](_0xae74b0);}if(_0x6c4685['maxActives']!==void 0x0&&_0x2d87ce[_0x30d545(0x33c)]>=_0x6c4685[_0x30d545(0x24a)]){let _0x4d4d06=Date[_0x30d545(0x715)](),_0x38ae1c=_0x6c4685['stopMinutesMaxActives']??0xa;isNaN(_0x38ae1c)&&(_0x38ae1c=0xa);let _0xcce47f=_0x4d4d06+_0x38ae1c*0x3c*0x3e8;_0x2d87ce[_0x30d545(0x517)]=_0xcce47f,_0x2d87ce['moreLogs']['push'](_0x30d545(0x5ce)),this[_0x30d545(0x3c7)](_0x401b19,_0xcce47f),_0x401b19[_0x30d545(0x356)]='',_0x401b19['waitingMenu_text']='',_0x401b19['waitingMenu_replyOptions']=[];}return this[_0x30d545(0x4f3)](_0x401b19,_0x6c4685,_0x2d87ce,!0x0),null;}}if(_0x2d3803&&_0x6c4685['next_groupId']&&!_0x401b19[_0x30d545(0x356)]){let _0x50a789=_0x401b19[_0x30d545(0x424)][_0x30d545(0x20d)](_0x17e5fc=>_0x17e5fc[_0x30d545(0x66a)]['toString']()===_0x6c4685['next_groupId'][_0x30d545(0x368)]())[_0x30d545(0x6b3)]((_0x308ce6,_0x496222)=>_0x308ce6[_0x30d545(0x1ec)]-_0x496222[_0x30d545(0x1ec)]);_0x50a789[_0x30d545(0x391)]>0x0&&(_0x2eadb4=_0x50a789[0x0]);}if(!_0x2eadb4){let _0x51565b=_0x6c4685[_0x30d545(0x66a)],_0x5bc83a=_0x401b19['blocks'][_0x30d545(0x20d)](_0x4c0268=>_0x4c0268[_0x30d545(0x66a)]===_0x51565b&&_0x4c0268[_0x30d545(0x1ec)]>_0x6c4685[_0x30d545(0x1ec)])[_0x30d545(0x6b3)]((_0xdf4db5,_0x4a9afc)=>_0xdf4db5[_0x30d545(0x1ec)]-_0x4a9afc[_0x30d545(0x1ec)]);_0x5bc83a[_0x30d545(0x391)]>0x0&&(_0x2eadb4=_0x5bc83a[0x0]);}if(!_0x2eadb4)return _0x401b19[_0x30d545(0x6b6)]='closed',null;_0x401b19[_0x30d545(0x165)][_0x30d545(0x3b4)]=_0x191a6d;let _0xa1a433=JSON[_0x30d545(0x42d)](JSON[_0x30d545(0x4cd)](_0x2eadb4));return this[_0x30d545(0x4b0)](_0xa1a433,_0x401b19[_0x30d545(0x165)][_0x30d545(0x3b4)]),_0x401b19[_0x30d545(0x165)][_0x30d545(0x463)]=_0xa1a433[_0x30d545(0x34e)],_0x401b19['chatLog']['lastCondition']=!0x0,_0xa1a433;}[a0_0x3656ce(0x3aa)](_0x24769e,_0xc5d398){const _0x2d6bf4=a0_0x3656ce;return _0x24769e[_0x2d6bf4(0x69a)](/\{\{([^}]+)\}\}/g,(_0x2d2538,_0xfda869)=>_0xc5d398[_0xfda869]||'');}[a0_0x3656ce(0x4b0)](_0x464839,_0x583848){const _0x1e7ab6=a0_0x3656ce;for(let _0x3aecc9 in _0x464839)typeof _0x464839[_0x3aecc9]==_0x1e7ab6(0x474)?_0x464839[_0x3aecc9]=this[_0x1e7ab6(0x3aa)](_0x464839[_0x3aecc9],_0x583848):typeof _0x464839[_0x3aecc9]=='object'&&this[_0x1e7ab6(0x4b0)](_0x464839[_0x3aecc9],_0x583848);}async['goNextblock'](_0x553dfb,_0x5073b7){const _0x4b13f3=a0_0x3656ce;let _0x4ad80a=_0x5073b7[_0x4b13f3(0x34e)];if(_0x553dfb[_0x4b13f3(0x165)]&&_0x553dfb[_0x4b13f3(0x165)][_0x4b13f3(0x3ec)]){let _0x11b185=_0x553dfb[_0x4b13f3(0x165)][_0x4b13f3(0x3ec)][_0x4b13f3(0x20d)](_0x25b03e=>String(_0x25b03e[_0x4b13f3(0x590)])===String(_0x4ad80a))[_0x4b13f3(0x21e)]();if(_0x11b185&&_0x11b185[_0x4b13f3(0x417)]&&_0x5073b7[_0x4b13f3(0x460)])return _0x553dfb[_0x4b13f3(0x6b6)]='closed',await this[_0x4b13f3(0x346)](_0x553dfb),null;}if(_0x5073b7[_0x4b13f3(0x1a6)]==='uazapi'&&_0x5073b7[_0x4b13f3(0x6ab)]['command']===_0x4b13f3(0x404)&&_0x553dfb['waitingMenu_id'])return _0x553dfb['chatLog'][_0x4b13f3(0x463)]=_0x4ad80a,await this['saveConversationToDatabase'](_0x553dfb),null;let _0x4ca935=await this[_0x4b13f3(0x57f)](_0x553dfb);if(_0x553dfb[_0x4b13f3(0x165)]&&_0x553dfb[_0x4b13f3(0x165)]['blockLogs']){let _0x4b2734=_0x553dfb[_0x4b13f3(0x165)][_0x4b13f3(0x3ec)][_0x4b13f3(0x20d)](_0x4852f1=>String(_0x4852f1['blockId'])===String(_0x4ad80a))[_0x4b13f3(0x391)];if(_0x5073b7['maxActives']!==void 0x0&&_0x4b2734>=_0x5073b7[_0x4b13f3(0x24a)]){let _0x5d8845=Date[_0x4b13f3(0x715)](),_0x57c927=_0x5073b7[_0x4b13f3(0x35f)]??0xa;isNaN(_0x57c927)&&(_0x57c927=0xa);let _0x3a3c00=_0x5d8845+_0x57c927*0x3c*0x3e8,_0xcb5f0d={'newStoppedUntil':_0x3a3c00};return this[_0x4b13f3(0x3c7)](_0x553dfb,_0x3a3c00),this['updateConversation'](_0x553dfb,_0x5073b7,_0xcb5f0d,!0x0),null;}}_0x4ca935&&_0x4ca935[_0x4b13f3(0x1a6)]!=='save'&&await this[_0x4b13f3(0x382)](_0x553dfb,_0x4ca935),_0x4ca935||await this[_0x4b13f3(0x346)](_0x553dfb),_0x4ca935&&_0x4ca935[_0x4b13f3(0x1a6)]===_0x4b13f3(0x1d3)&&(_0x553dfb[_0x4b13f3(0x165)][_0x4b13f3(0x463)]=_0x4ad80a,await this[_0x4b13f3(0x346)](_0x553dfb));}async[a0_0x3656ce(0x382)](_0x236b5d,_0x36e387){const _0x183234=a0_0x3656ce;try{let _0x451534=_0x36e387[_0x183234(0x1a6)];this[_0x183234(0x506)][_0x183234(0x49e)](this[_0x183234(0x3a7)]+'\x20('+this[_0x183234(0x532)][_0x183234(0x25a)]+_0x183234(0x548)+_0x451534);let _0x409492={'uazapi':()=>this[_0x183234(0x419)](_0x236b5d,_0x36e387),'save':()=>this[_0x183234(0x2f0)](_0x236b5d,_0x36e387),'stop':()=>this[_0x183234(0x4f8)](_0x236b5d,_0x36e387),'condition':()=>this[_0x183234(0x6ad)](_0x236b5d,_0x36e387),'varedit':()=>this['processvaredits'](_0x236b5d,_0x36e387),'apirequest':()=>this[_0x183234(0x485)](_0x236b5d,_0x36e387),'goToFlow':()=>this['processgoToFlow'](_0x236b5d,_0x36e387)}[_0x451534];_0x409492&&await _0x409492();}catch(_0x5bdb58){this[_0x183234(0x506)][_0x183234(0x417)](this['instanceName']+'\x20('+this[_0x183234(0x532)][_0x183234(0x25a)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x5bdb58 instanceof Error?_0x5bdb58['message']:JSON['stringify'](_0x5bdb58,null,0x2)));}}async[a0_0x3656ce(0x19a)](_0x4371b6,_0x3fbd9c){const _0x23d404=a0_0x3656ce;if(this[_0x23d404(0x506)][_0x23d404(0x49e)](this[_0x23d404(0x3a7)]+'\x20('+this[_0x23d404(0x532)][_0x23d404(0x25a)]+_0x23d404(0x585)),!_0x4371b6||!_0x3fbd9c)return this['logger'][_0x23d404(0x417)](this[_0x23d404(0x3a7)]+'\x20('+this['instance'][_0x23d404(0x25a)]+_0x23d404(0x434)),null;await this[_0x23d404(0x4f3)](_0x4371b6,_0x3fbd9c,{},!0x0,!0x0),console[_0x23d404(0x16d)](_0x23d404(0x3dc)),console[_0x23d404(0x16d)](_0x3fbd9c);let _0x45e14c=_0x3fbd9c[_0x23d404(0x748)];console[_0x23d404(0x16d)](_0x23d404(0x4b1),_0x45e14c),_0x4371b6=await this[_0x23d404(0x357)](_0x45e14c,_0x4371b6['remoteJid'],_0x4371b6[_0x23d404(0x165)][_0x23d404(0x3b4)]),this[_0x23d404(0x506)][_0x23d404(0x49e)](this['instanceName']+'\x20('+this[_0x23d404(0x532)][_0x23d404(0x25a)]+_0x23d404(0x252));let _0x265c5a=await this[_0x23d404(0x57f)](_0x4371b6);_0x265c5a&&await this[_0x23d404(0x382)](_0x4371b6,_0x265c5a);}async['createConversationforgoToFlow'](_0x5bf4bf,_0x6944d2,_0x2d33e3){const _0x4503bd=a0_0x3656ce;this[_0x4503bd(0x506)][_0x4503bd(0x49e)](this[_0x4503bd(0x3a7)]+'\x20('+this[_0x4503bd(0x532)][_0x4503bd(0x25a)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x5bf4bf=await this['repository']['flow'][_0x4503bd(0x166)]({'where':{'name':_0x5bf4bf}},this[_0x4503bd(0x532)]['wuid']),!_0x5bf4bf)return this[_0x4503bd(0x506)]['error'](this[_0x4503bd(0x3a7)]+'\x20('+this[_0x4503bd(0x532)][_0x4503bd(0x25a)]+_0x4503bd(0x54f)),null;let _0x2b25eb=require(_0x4503bd(0x67f))[_0x4503bd(0x209)],_0x194f35=Date['now'](),_0xf54c05=_0x4503bd(0x46a),_0x176e0b={},_0x4f9ea2={},_0x572a88={..._0x5bf4bf,'chatLog':null},_0x1b1a31={'lastReceivedMessage':_0x176e0b,'lastSendMessage':_0x4f9ea2,'lastBlockId':_0xf54c05,'lastCondition':!0x0,'realVariables':_0x2d33e3};_0x572a88[_0x4503bd(0x165)]=_0x1b1a31,_0x572a88[_0x4503bd(0x165)][_0x4503bd(0x3b4)]={..._0x2d33e3},delete _0x572a88[_0x4503bd(0x34e)],_0x572a88[_0x4503bd(0x34e)]=new _0x2b25eb(),_0x572a88[_0x4503bd(0x15e)]=_0x194f35,_0x572a88[_0x4503bd(0x6b6)]=_0x4503bd(0x2ff),_0x572a88[_0x4503bd(0x628)]=_0x6944d2;let _0x25701d=await this[_0x4503bd(0x1f9)][_0x4503bd(0x5cd)][_0x4503bd(0x27f)](_0x572a88[_0x4503bd(0x34e)],_0x572a88,this['instance'][_0x4503bd(0x25a)]);return this['logger'][_0x4503bd(0x49e)](this[_0x4503bd(0x3a7)]+'\x20('+this['instance'][_0x4503bd(0x25a)]+_0x4503bd(0x5a4)),_0x25701d?_0x572a88:null;}catch(_0x361e20){throw this[_0x4503bd(0x506)]['error'](this[_0x4503bd(0x3a7)]+'\x20('+this[_0x4503bd(0x532)][_0x4503bd(0x25a)]+_0x4503bd(0x48a)+(_0x361e20 instanceof Error?_0x361e20['message']:JSON[_0x4503bd(0x4cd)](_0x361e20,null,0x2))),new h(_0x361e20['message']);}}async[a0_0x3656ce(0x485)](_0x297e57,_0x69eb19){const _0x2f6d03=a0_0x3656ce;let _0x236afe,_0x1c5c15;try{let _0x2ae6b6=_0x69eb19['apirequest'];if(!_0x2ae6b6||!_0x2ae6b6[_0x2f6d03(0x627)]||!_0x2ae6b6[_0x2f6d03(0x588)])throw new Error(_0x2f6d03(0x667));let _0x14d503={'method':_0x2ae6b6[_0x2f6d03(0x588)],'url':_0x2ae6b6[_0x2f6d03(0x627)],'headers':_0x2ae6b6[_0x2f6d03(0x766)]||{},'data':_0x2ae6b6[_0x2f6d03(0x317)]||{}},_0x3c4b8c=await(0x0,te[_0x2f6d03(0x3d0)])(_0x14d503),_0x2f098a=_0x3c4b8c['headers'][_0x2f6d03(0x1db)];if(_0x2f098a&&_0x2f098a[_0x2f6d03(0x516)]('application/json')){_0x236afe=_0x3c4b8c['data'];let _0x3f8dee=_0x297e57[_0x2f6d03(0x165)][_0x2f6d03(0x3b4)],_0x50ec07=this[_0x2f6d03(0x59b)](_0x236afe);return Object[_0x2f6d03(0x4f7)](_0x3f8dee,_0x50ec07),_0x297e57[_0x2f6d03(0x165)][_0x2f6d03(0x3b4)]=_0x3f8dee,_0x1c5c15={'error':!0x1,'apiResponse':_0x236afe},this[_0x2f6d03(0x4f3)](_0x297e57,_0x69eb19,_0x1c5c15),_0x236afe;}else{if(_0x2f098a&&(_0x2f098a['includes'](_0x2f6d03(0x1a8))||_0x2f098a['includes']('image')||_0x2f098a[_0x2f6d03(0x516)](_0x2f6d03(0x1fa))||_0x2f098a['includes'](_0x2f6d03(0x1a9)))){let _0x591daf=''+(0x0,me['v4'])(),_0x440ab4=_0x3c4b8c[_0x2f6d03(0x699)]['content-disposition'];if(_0x440ab4){let _0x53b682=_0x440ab4['match'](/filename="?(.+)"?/);if(_0x53b682&&_0x53b682[0x1]){let _0x273b13=_0x53b682[0x1],_0x22647e=P['default']['extname'](_0x273b13);_0x591daf=''+(0x0,me['v4'])()+_0x22647e;}}let _0x1b3de2=this[_0x2f6d03(0x5b9)][_0x2f6d03(0x786)](_0x2f6d03(0x3ff))[_0x2f6d03(0x33e)];if(!_0x1b3de2){let _0x45d353=this[_0x2f6d03(0x5b9)][_0x2f6d03(0x786)](_0x2f6d03(0x767));_0x1b3de2='https://'+(_0x45d353&&_0x45d353['FULLCHAIN'][_0x2f6d03(0x232)]('/')[0x4]);}let _0x272b78=Buffer[_0x2f6d03(0x40e)](_0x3c4b8c[_0x2f6d03(0x29e)]);await this[_0x2f6d03(0x5aa)](_0x272b78,_0x591daf);let _0x161ad1=_0x2f6d03(0x4f4)+_0x591daf;return _0x161ad1=''+_0x1b3de2+_0x161ad1,_0x236afe={'fileUrl':_0x161ad1},_0x297e57[_0x2f6d03(0x165)][_0x2f6d03(0x3b4)][_0x2f6d03(0x226)]=_0x161ad1,_0x1c5c15={'error':!0x1,'apiResponse':{'fileUrl':_0x161ad1}},this['updateConversation'](_0x297e57,_0x69eb19,_0x1c5c15),_0x236afe;}}}catch(_0x58d191){console[_0x2f6d03(0x417)](_0x2f6d03(0x2b7),_0x58d191),_0x58d191[_0x2f6d03(0x15b)]&&(_0x236afe=_0x58d191[_0x2f6d03(0x15b)]['data']);let _0x4e8a53=_0x297e57[_0x2f6d03(0x165)][_0x2f6d03(0x3b4)],_0x4d50bc=this[_0x2f6d03(0x59b)](_0x236afe);return Object['assign'](_0x4e8a53,_0x4d50bc),_0x297e57[_0x2f6d03(0x165)][_0x2f6d03(0x3b4)]=_0x4e8a53,_0x1c5c15={'error':!0x0,'errorLog':_0x58d191[_0x2f6d03(0x368)](),'apiResponse':_0x236afe},this['updateConversation'](_0x297e57,_0x69eb19,_0x1c5c15),{'success':!0x1};}}[a0_0x3656ce(0x450)](_0x3b4f3b,_0x496e4){const _0xfbb6fd=a0_0x3656ce;let _0x278555=_0x1e2d5b=>{const _0x5c596e=a0_0x4f47;let _0x20134c=_0x1e2d5b[_0x5c596e(0x69a)](/[^0-9.,-]/g,'')[_0x5c596e(0x69a)](',','.'),_0x4eba48=parseFloat(_0x20134c);return isNaN(_0x4eba48)?null:_0x4eba48;},_0x1d4261=_0x496e4[_0xfbb6fd(0x57a)],_0x3a967c=_0x496e4[_0xfbb6fd(0x56f)];typeof _0x1d4261==_0xfbb6fd(0x474)&&(_0x1d4261=this[_0xfbb6fd(0x3aa)](_0x1d4261,_0x3b4f3b[_0xfbb6fd(0x165)]['realVariables'])??''),typeof _0x3a967c==_0xfbb6fd(0x474)&&(_0x3a967c=this[_0xfbb6fd(0x3aa)](_0x3a967c,_0x3b4f3b[_0xfbb6fd(0x165)][_0xfbb6fd(0x3b4)])??'');let _0x970de0=null;if(!_0x496e4['editOperator'])return null;switch(this['logger'][_0xfbb6fd(0x49e)](this[_0xfbb6fd(0x3a7)]+'\x20('+this[_0xfbb6fd(0x532)][_0xfbb6fd(0x25a)]+_0xfbb6fd(0x77f)+_0x1d4261),this[_0xfbb6fd(0x506)][_0xfbb6fd(0x49e)](this['instanceName']+'\x20('+this[_0xfbb6fd(0x532)]['wuid']+_0xfbb6fd(0x328)+_0x3a967c),_0x496e4[_0xfbb6fd(0x6e4)]){case'+':case'-':case'*':case'/':let _0x2694b8=_0x278555(_0x1d4261||'0'),_0x214a68=_0x278555(_0x3a967c||'0');if(_0x2694b8===null)return null;switch(_0x496e4['editOperator']){case'+':_0x970de0=_0x2694b8+(_0x214a68??0x0);break;case'-':_0x970de0=_0x2694b8-(_0x214a68??0x0);break;case'*':_0x970de0=_0x2694b8*(_0x214a68??0x1);break;case'/':_0x214a68!==0x0&&(_0x970de0=_0x2694b8/(_0x214a68??0x1));break;}break;case'findAndReplace':case _0xfbb6fd(0x6bd):let _0x57163d=_0x3a967c,_0x29651c=_0x496e4[_0xfbb6fd(0x677)];if(typeof _0x29651c==_0xfbb6fd(0x474)&&(_0x29651c=this['replaceVariables'](_0x29651c,_0x3b4f3b[_0xfbb6fd(0x165)][_0xfbb6fd(0x3b4)])??''),_0x57163d&&_0x29651c!==void 0x0){let _0x49a4ad=_0x496e4['editOperator']==='findAndReplace'?new RegExp(_0x57163d[_0xfbb6fd(0x69a)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x57163d,'g');_0x970de0=_0x1d4261['replace'](_0x49a4ad,_0x29651c);}else console[_0xfbb6fd(0x72a)](_0xfbb6fd(0x465));break;case _0xfbb6fd(0x6c0):_0x970de0=_0x3a967c;break;case _0xfbb6fd(0x602):let _0x3886c0=_0x1d4261[_0xfbb6fd(0x27b)](new RegExp(_0x3a967c||''));_0x970de0=_0x3886c0?_0x3886c0[0x0]:'';break;case _0xfbb6fd(0x611):_0x970de0=_0x1d4261[_0xfbb6fd(0x62c)](0x0,parseInt(_0x3a967c||'0'));break;case _0xfbb6fd(0x724):let _0x5a3771=parseInt(_0x3a967c||'0');_0x970de0=_0x1d4261[_0xfbb6fd(0x62c)](_0x1d4261[_0xfbb6fd(0x391)]-_0x5a3771);break;case _0xfbb6fd(0x741):let _0x1cced0=_0x278555(_0x1d4261),_0x1a9ce2=parseInt(_0x3a967c||'0');_0x1a9ce2=Math[_0xfbb6fd(0x321)](_0x1a9ce2),_0x1cced0!==null?_0x970de0=_0x1cced0[_0xfbb6fd(0x345)](_0xfbb6fd(0x223),{'minimumFractionDigits':_0x1a9ce2,'maximumFractionDigits':_0x1a9ce2}):(console['warn'](_0xfbb6fd(0x55c)+_0x1d4261),_0x970de0=null);break;case _0xfbb6fd(0x5e5):let _0x2be74c=_0x278555(_0x1d4261);_0x2be74c!==null?_0x970de0=_0x2be74c[_0xfbb6fd(0x345)](_0xfbb6fd(0x223),{'style':_0xfbb6fd(0x5af),'currency':'BRL'}):(console[_0xfbb6fd(0x72a)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1d4261),_0x970de0=null);break;case _0xfbb6fd(0x582):_0x970de0=_0x1d4261[_0xfbb6fd(0x304)]();break;case _0xfbb6fd(0x78d):_0x970de0=_0x1d4261[_0xfbb6fd(0x680)]();break;case'capitalizedWords':_0x970de0=_0x1d4261[_0xfbb6fd(0x232)]('\x20')[_0xfbb6fd(0x568)](_0x1cda1c=>_0x1cda1c[_0xfbb6fd(0x740)](0x0)[_0xfbb6fd(0x304)]()+_0x1cda1c[_0xfbb6fd(0x62c)](0x1)['toLowerCase']())[_0xfbb6fd(0x3f5)]('\x20');break;case _0xfbb6fd(0x2c8):_0x970de0=_0x1d4261[_0xfbb6fd(0x6a3)]();break;default:_0x970de0=_0x1d4261;}return _0x970de0!==null?_0x970de0[_0xfbb6fd(0x368)]():null;}async[a0_0x3656ce(0x39a)](_0x1a5ea4,_0xea6350){const _0x3fc94e=a0_0x3656ce;try{let _0x44f2af=_0x1a5ea4['varedits']?.[_0x3fc94e(0x20d)](_0x33b9d5=>_0x33b9d5['blockId']===_0xea6350[_0x3fc94e(0x34e)]?.[_0x3fc94e(0x368)]())||[],_0x2aeadc=_0xea6350[_0x3fc94e(0x2b9)],_0x2781bd=null,_0x413eb0=[],_0x107907=_0x1a5ea4[_0x3fc94e(0x165)][_0x3fc94e(0x3b4)][_0x2aeadc];_0x413eb0[_0x3fc94e(0x7a1)](_0x3fc94e(0x37c)+_0x107907+'\x22');for(let _0x1c46e7 of _0x44f2af){_0x1c46e7[_0x3fc94e(0x57a)]=_0x107907,_0x2781bd=_0x1c46e7[_0x3fc94e(0x57a)];let _0x35b919;try{_0x35b919=this['applyvaredit'](_0x1a5ea4,_0x1c46e7);}catch(_0x306c02){console[_0x3fc94e(0x417)](_0x3fc94e(0x366)+_0x306c02[_0x3fc94e(0x2a2)]);continue;}if(_0x35b919!==null){let _0x3935d7='Operador:\x20\x22'+_0x1c46e7[_0x3fc94e(0x6e4)]+'\x22',_0x21f730=[_0x3fc94e(0x5e5),_0x3fc94e(0x582),_0x3fc94e(0x78d),_0x3fc94e(0x160),_0x3fc94e(0x2c8)];_0x1c46e7[_0x3fc94e(0x6e4)]===_0x3fc94e(0x5d3)||_0x1c46e7['editOperator']===_0x3fc94e(0x6bd)?_0x3935d7+=_0x3fc94e(0x507)+_0x1c46e7[_0x3fc94e(0x56f)]+_0x3fc94e(0x2c1)+_0x1c46e7['replaceValue']+'\x22':!_0x21f730[_0x3fc94e(0x516)](_0x1c46e7['editOperator'])&&_0x1c46e7[_0x3fc94e(0x56f)]!==null&&_0x1c46e7[_0x3fc94e(0x56f)]!==void 0x0&&(_0x3935d7+=_0x3fc94e(0x58f)+_0x1c46e7['secondValue']+'\x22'),_0x3935d7+=_0x3fc94e(0x161)+_0x35b919+'.',_0x413eb0[_0x3fc94e(0x7a1)](_0x3935d7);}_0x35b919!==null&&(_0x107907=_0x35b919);}if(_0x1a5ea4[_0x3fc94e(0x165)][_0x3fc94e(0x3b4)]&&_0xea6350[_0x3fc94e(0x2b9)]){_0x1a5ea4[_0x3fc94e(0x165)][_0x3fc94e(0x3b4)][_0xea6350[_0x3fc94e(0x2b9)]]=_0x107907;let _0x41001={'variable':_0xea6350[_0x3fc94e(0x2b9)],'oldValue':_0x2781bd,'newValue':_0x107907,'moreLogs':_0x413eb0};try{this[_0x3fc94e(0x4f3)](_0x1a5ea4,_0xea6350,_0x41001);}catch(_0x24961e){console['error'](_0x3fc94e(0x657)+_0x24961e['message']);}}return _0x2aeadc;}catch(_0x2c9b7f){return console['error']('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x2c9b7f[_0x3fc94e(0x2a2)]),null;}}async[a0_0x3656ce(0x6ad)](_0x16cb53,_0x94e62f){const _0x415506=a0_0x3656ce;try{let _0x50852b=[],_0x576f95=_0x16cb53['conditions']['filter'](_0x30979c=>_0x30979c['blockId']===_0x94e62f[_0x415506(0x34e)][_0x415506(0x368)]()),_0x5c5b1b=null,_0x65dbc3=!0x1;for(let _0x580233 of _0x576f95){let _0x35180a=this[_0x415506(0x2cb)](_0x16cb53,_0x580233);_0x50852b[_0x415506(0x7a1)](_0x415506(0x344)+_0x580233[_0x415506(0x57a)]+_0x415506(0x4f9)+_0x580233[_0x415506(0x71f)]+_0x415506(0x594)+_0x580233[_0x415506(0x56f)]+_0x415506(0x3a5)+_0x35180a),_0x5c5b1b===null?_0x5c5b1b=_0x35180a:_0x580233[_0x415506(0x1e9)]===_0x415506(0x44b)?(_0x5c5b1b=_0x5c5b1b&&_0x35180a,_0x35180a||(_0x65dbc3=!0x0)):_0x580233[_0x415506(0x1e9)]==='or'&&(_0x65dbc3||(_0x5c5b1b=_0x5c5b1b||_0x35180a));}_0x5c5b1b===null&&(_0x5c5b1b=!0x0);let _0x368967={'moreLogs':_0x50852b};_0x16cb53['chatLog'][_0x415506(0x36a)]=_0x5c5b1b,await this[_0x415506(0x4f3)](_0x16cb53,_0x94e62f,_0x368967);}catch(_0x4c5dfd){this['logger'][_0x415506(0x417)](this[_0x415506(0x3a7)]+'\x20('+this[_0x415506(0x532)][_0x415506(0x25a)]+_0x415506(0x42e)+(_0x4c5dfd instanceof Error?_0x4c5dfd[_0x415506(0x2a2)]:JSON['stringify'](_0x4c5dfd,null,0x2)));}}[a0_0x3656ce(0x2cb)](_0x205fab,_0xc6151){const _0x2e0757=a0_0x3656ce;let _0x3262b1=_0xc6151['firstValue'],_0x374b1f=_0xc6151[_0x2e0757(0x56f)];typeof _0x3262b1==_0x2e0757(0x474)&&(_0x3262b1=this[_0x2e0757(0x3aa)](_0x3262b1,_0x205fab[_0x2e0757(0x165)][_0x2e0757(0x3b4)])??''),typeof _0x374b1f==_0x2e0757(0x474)&&(_0x374b1f=this[_0x2e0757(0x3aa)](_0x374b1f,_0x205fab[_0x2e0757(0x165)][_0x2e0757(0x3b4)])??'');try{switch(_0xc6151['expression']){case _0x2e0757(0x700):return _0x3262b1===_0x374b1f;case _0x2e0757(0x4c2):return _0x3262b1!==_0x374b1f;case _0x2e0757(0x426):return _0x3262b1[_0x2e0757(0x516)](_0x374b1f);case _0x2e0757(0x592):return!_0x3262b1['includes'](_0x374b1f);case _0x2e0757(0x3e5):return parseFloat(_0x3262b1)>parseFloat(_0x374b1f);case _0x2e0757(0x1d5):return parseFloat(_0x3262b1)<parseFloat(_0x374b1f);case _0x2e0757(0x22f):return _0x3262b1!=='';case _0x2e0757(0x760):return _0x3262b1==='';case _0x2e0757(0x754):return new RegExp(_0x374b1f)[_0x2e0757(0x690)](_0x3262b1);case _0x2e0757(0x42b):return!new RegExp(_0x374b1f)['test'](_0x3262b1);default:return!0x1;}}catch(_0x162b7b){return console[_0x2e0757(0x417)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x162b7b),!0x1;}}['processConditionsTest'](_0x4b6662){const _0x55492b=a0_0x3656ce;let _0x5d7180=!0x0,_0x10cfd3=null;for(let _0x2da866 of _0x4b6662){let _0x910fc1=this['evaluateConditionTest'](_0x2da866);if(_0x10cfd3==='or'&&_0x910fc1){_0x5d7180=!0x0;break;}if(_0x10cfd3===_0x55492b(0x44b)&&!_0x910fc1){_0x5d7180=!0x1;break;}_0x10cfd3=_0x2da866[_0x55492b(0x1e9)];}return _0x5d7180;}[a0_0x3656ce(0x6e7)](_0x3e4bb1){const _0x5786b0=a0_0x3656ce;let _0x4787c7=_0x3e4bb1[_0x5786b0(0x57a)],_0x1cb823=_0x3e4bb1['secondValue'];try{switch(_0x3e4bb1['expression']){case _0x5786b0(0x700):return String(_0x4787c7)===String(_0x1cb823);case'notEqual':return String(_0x4787c7)!==String(_0x1cb823);case'contains':return String(_0x4787c7)[_0x5786b0(0x516)](String(_0x1cb823));case _0x5786b0(0x592):return!String(_0x4787c7)[_0x5786b0(0x516)](String(_0x1cb823));case'greater':return parseFloat(String(_0x4787c7))>parseFloat(String(_0x1cb823));case _0x5786b0(0x1d5):return parseFloat(String(_0x4787c7))<parseFloat(String(_0x1cb823));case'notEmpty':return String(_0x4787c7)!=='';case _0x5786b0(0x760):return String(_0x4787c7)==='';case _0x5786b0(0x754):return new RegExp(String(_0x1cb823))[_0x5786b0(0x690)](String(_0x4787c7));case'notMatchRegex':return!new RegExp(String(_0x1cb823))['test'](String(_0x4787c7));default:return!0x1;}}catch(_0x3e006b){return console[_0x5786b0(0x417)](_0x5786b0(0x22b)+_0x3e006b),!0x1;}}async[a0_0x3656ce(0x2f0)](_0x393500,_0x1025a4){const _0x48842f=a0_0x3656ce;if(this[_0x48842f(0x506)][_0x48842f(0x49e)](this[_0x48842f(0x3a7)]+'\x20('+this[_0x48842f(0x532)][_0x48842f(0x25a)]+_0x48842f(0x42a)),!_0x393500||!_0x1025a4)return this[_0x48842f(0x506)][_0x48842f(0x417)](this[_0x48842f(0x3a7)]+'\x20('+this['instance']['wuid']+_0x48842f(0x434)),null;let _0x41ee9e=_0x1025a4[_0x48842f(0x2b9)],_0x1de21e=_0x393500['chatLog']['lastReceivedMessage'][_0x48842f(0x4bc)]||_0x393500['chatLog'][_0x48842f(0x4cc)]['caption']||_0x393500['chatLog']['lastReceivedMessage'][_0x48842f(0x525)];try{_0x393500[_0x48842f(0x165)][_0x48842f(0x3b4)]||(_0x393500[_0x48842f(0x165)]['realVariables']={});let _0x40cf02=_0x393500[_0x48842f(0x165)][_0x48842f(0x3b4)][_0x41ee9e];_0x393500['chatLog'][_0x48842f(0x3b4)][_0x41ee9e]=_0x1de21e;let _0x152e49={'variable':_0x41ee9e,'oldValue':_0x40cf02,'newValue':_0x1de21e};this['updateConversation'](_0x393500,_0x1025a4,_0x152e49),this['logger'][_0x48842f(0x49e)](this[_0x48842f(0x3a7)]+'\x20('+this['instance'][_0x48842f(0x25a)]+_0x48842f(0x617));}catch(_0x113a7c){let _0x44cb96={'error':!0x0,'errorLog':_0x113a7c[_0x48842f(0x368)]()};return this[_0x48842f(0x4f3)](_0x393500,_0x1025a4,_0x44cb96),this['logger'][_0x48842f(0x417)](this[_0x48842f(0x3a7)]+'\x20('+this[_0x48842f(0x532)]['wuid']+_0x48842f(0x638)+(_0x113a7c instanceof Error?_0x113a7c[_0x48842f(0x2a2)]:JSON['stringify'](_0x113a7c,null,0x2))),null;}}async[a0_0x3656ce(0x4f8)](_0x37554c,_0x463329){const _0x3e3375=a0_0x3656ce;if(this[_0x3e3375(0x506)][_0x3e3375(0x49e)](this[_0x3e3375(0x3a7)]+'\x20('+this[_0x3e3375(0x532)][_0x3e3375(0x25a)]+_0x3e3375(0x17b)),!_0x37554c||!_0x463329)return this[_0x3e3375(0x506)][_0x3e3375(0x417)](this[_0x3e3375(0x3a7)]+'\x20('+this[_0x3e3375(0x532)][_0x3e3375(0x25a)]+_0x3e3375(0x434)),null;let _0x21a7c3=Date[_0x3e3375(0x715)](),_0x283c70=parseInt(_0x463329[_0x3e3375(0x44f)],0xa);if(isNaN(_0x283c70))return this[_0x3e3375(0x506)][_0x3e3375(0x417)](this[_0x3e3375(0x3a7)]+'\x20('+this[_0x3e3375(0x532)][_0x3e3375(0x25a)]+_0x3e3375(0x6a7)),null;let _0x5cc3d2={'newStoppedUntil':_0x21a7c3+_0x283c70*0x3c*0x3e8};return await this[_0x3e3375(0x4f3)](_0x37554c,_0x463329,_0x5cc3d2,!0x0),null;}async[a0_0x3656ce(0x419)](_0x3f80b9,_0x20d062){const _0x3de41=a0_0x3656ce;try{switch(_0x20d062[_0x3de41(0x6ab)]['command']){case _0x3de41(0x781):await this['uazapiSendText'](_0x3f80b9,_0x20d062);break;case _0x3de41(0x4cf):await this[_0x3de41(0x4fa)](_0x3f80b9,_0x20d062);break;case'sendLocation':await this[_0x3de41(0x39f)](_0x3f80b9,_0x20d062);break;case'sendAudio':await this['uazapiSendAudio'](_0x3f80b9,_0x20d062);break;case _0x3de41(0x387):await this[_0x3de41(0x4aa)](_0x3f80b9,_0x20d062);break;case _0x3de41(0x404):await this[_0x3de41(0x43a)](_0x3f80b9,_0x20d062);break;case _0x3de41(0x529):await this[_0x3de41(0x43a)](_0x3f80b9,_0x20d062);break;case _0x3de41(0x77c):await this[_0x3de41(0x58e)](_0x3f80b9,_0x20d062);break;default:this[_0x3de41(0x506)][_0x3de41(0x417)](this[_0x3de41(0x3a7)]+'\x20('+this[_0x3de41(0x532)]['wuid']+_0x3de41(0x19f)+_0x20d062[_0x3de41(0x6ab)][_0x3de41(0x77a)]);}}catch(_0x119ac5){this[_0x3de41(0x506)][_0x3de41(0x417)](this[_0x3de41(0x3a7)]+'\x20('+this['instance'][_0x3de41(0x25a)]+_0x3de41(0x632)+(_0x119ac5 instanceof Error?_0x119ac5[_0x3de41(0x2a2)]:JSON[_0x3de41(0x4cd)](_0x119ac5,null,0x2)));}}async[a0_0x3656ce(0x4f3)](_0x933997,_0x47388b,_0x5a7e90,_0x6bbe49=!0x1,_0x1e777f=!0x1){const _0x2ac82d=a0_0x3656ce;_0x933997['chatLog']['blockLogs']||(_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x3ec)]=[]);let _0xee225b=(_0x933997[_0x2ac82d(0x165)]['blockLogs']?.[_0x2ac82d(0x391)]??0x0)+0x1,_0x13d3f1=_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x3ec)]['filter'](_0x18aff6=>String(_0x18aff6[_0x2ac82d(0x590)])===String(_0x47388b[_0x2ac82d(0x34e)]))[_0x2ac82d(0x391)]+0x1,_0x565ce9=_0x5a7e90?.['onTime']??Date[_0x2ac82d(0x715)](),_0x306181=_0x5a7e90?.[_0x2ac82d(0x417)]?_0x5a7e90[_0x2ac82d(0x3af)]??_0x5a7e90[_0x2ac82d(0x417)][_0x2ac82d(0x368)]():void 0x0,_0x166c93={'onTime':_0x565ce9,'blockId':_0x47388b['_id'],'order':_0xee225b,'activatedCount':_0x13d3f1,'error':_0x5a7e90?.[_0x2ac82d(0x417)]??!0x1,'messageId':_0x5a7e90?.[_0x2ac82d(0x702)],'apiResponse':_0x5a7e90?.[_0x2ac82d(0x448)],'apiResponseString':_0x5a7e90?.[_0x2ac82d(0x448)]?JSON[_0x2ac82d(0x4cd)](_0x5a7e90?.['apiResponse']):void 0x0,'variable':_0x5a7e90?.[_0x2ac82d(0x23d)],'oldValue':_0x5a7e90?.[_0x2ac82d(0x1fe)],'newValue':_0x5a7e90?.[_0x2ac82d(0x251)],'newStoppedUntil':_0x5a7e90?.[_0x2ac82d(0x517)],'moreLogs':_0x5a7e90?.['moreLogs'],'errorLog':_0x306181};if(_0x5a7e90[_0x2ac82d(0x290)]&&_0x5a7e90['moreLogs'][_0x2ac82d(0x391)]>0x0){let _0x15ece8=_0x5a7e90[_0x2ac82d(0x290)]['map'](_0x59b7c4=>this[_0x2ac82d(0x6b5)](_0x59b7c4,_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x3b4)]));_0x166c93[_0x2ac82d(0x290)]=_0x15ece8;}_0x933997[_0x2ac82d(0x165)]['realVariables']||(_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x3b4)]={}),_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x3b4)]['_activatedCount']=String(_0x13d3f1),_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x3b4)][_0x2ac82d(0x6de)]=String(_0x5a7e90[_0x2ac82d(0x417)]??!0x1),_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x3ec)]['push'](_0x166c93),_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x463)]=_0x47388b[_0x2ac82d(0x34e)][_0x2ac82d(0x368)](),_0x933997[_0x2ac82d(0x165)]['lastSendMessage']&&(_0x933997[_0x2ac82d(0x165)]['lastSendMessage']=_0x933997['chatLog'][_0x2ac82d(0x51a)]),_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x4cc)]&&(_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x4cc)]=_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x4cc)]),_0x933997[_0x2ac82d(0x165)]['lastCondition']&&(_0x933997[_0x2ac82d(0x165)][_0x2ac82d(0x36a)]=_0x933997[_0x2ac82d(0x165)]['lastCondition']),_0x1e777f&&(_0x933997[_0x2ac82d(0x6b6)]=_0x2ac82d(0x477)),_0x6bbe49?this['saveConversationToDatabase'](_0x933997):this[_0x2ac82d(0x6f2)](_0x933997,_0x47388b);}[a0_0x3656ce(0x6b5)](_0x3357da,_0x4fabc1){const _0x23fbd8=a0_0x3656ce;return _0x3357da[_0x23fbd8(0x69a)](/\{\{([^}]+)\}\}/g,(_0x1975dd,_0x52d0b2)=>_0x4fabc1[_0x52d0b2]?'{{'+_0x52d0b2+_0x23fbd8(0x75d)+_0x4fabc1[_0x52d0b2]+'\x22':'{{'+_0x52d0b2+_0x23fbd8(0x2c0));}async['saveConversationToDatabase'](_0x39c3a8){const _0x71dff0=a0_0x3656ce;try{let _0xc6920b=Object[_0x71dff0(0x41e)](_0x39c3a8[_0x71dff0(0x165)][_0x71dff0(0x3b4)])['map'](([_0x1b4482,_0x4ebdcf])=>({'name':_0x1b4482,'value':_0x4ebdcf})),_0x3c5ea7={'status':_0x39c3a8[_0x71dff0(0x6b6)],'blocks':_0x39c3a8['blocks'],'waitingMenu_id':_0x39c3a8[_0x71dff0(0x356)],'waitingMenu_text':_0x39c3a8[_0x71dff0(0x644)],'waitingMenu_replyOptions':_0x39c3a8[_0x71dff0(0x4b9)],'chatLog':{'lastBlockId':_0x39c3a8[_0x71dff0(0x165)][_0x71dff0(0x463)],'lastSendMessage':_0x39c3a8[_0x71dff0(0x165)][_0x71dff0(0x51a)],'lastReceivedMessage':_0x39c3a8[_0x71dff0(0x165)][_0x71dff0(0x4cc)],'lastCondition':_0x39c3a8['chatLog']['lastCondition'],'chatVariables':_0xc6920b,'realVariables':_0x39c3a8['chatLog'][_0x71dff0(0x3b4)],'blockLogs':_0x39c3a8[_0x71dff0(0x165)][_0x71dff0(0x3ec)]}},_0x150213=await this[_0x71dff0(0x1f9)]['flowConversation'][_0x71dff0(0x27f)](_0x39c3a8['_id'],_0x3c5ea7,this[_0x71dff0(0x532)][_0x71dff0(0x25a)]);if(_0x150213){this[_0x71dff0(0x506)][_0x71dff0(0x49e)](this[_0x71dff0(0x3a7)]+'\x20('+this[_0x71dff0(0x532)]['wuid']+_0x71dff0(0x47f)+_0x150213['_id']);try{let _0x19d4a1=[_0x71dff0(0x5d6),_0x71dff0(0x6f1),_0x71dff0(0x566),'cpf',_0x71dff0(0x6b6),_0x71dff0(0x4d2),_0x71dff0(0x4ab),_0x71dff0(0x19e)];if(!this['AutomateSystem']&&(await this[_0x71dff0(0x36e)](),!this[_0x71dff0(0x573)]))throw new Error(_0x71dff0(0x15c));let _0x1edc91=this[_0x71dff0(0x573)]?.['customFields']['map'](_0x51f802=>_0x51f802[_0x71dff0(0x6ba)]),_0x26d6a8={};Object[_0x71dff0(0x41e)](_0x39c3a8[_0x71dff0(0x165)][_0x71dff0(0x3b4)])['forEach'](([_0xd2cfdc,_0x3b1d82])=>{const _0x3fdf0d=_0x71dff0;_0x19d4a1['includes'](_0xd2cfdc)&&(_0xd2cfdc===_0x3fdf0d(0x19e)&&typeof _0x3b1d82==_0x3fdf0d(0x474)?_0x26d6a8[_0xd2cfdc]=_0x3b1d82[_0x3fdf0d(0x232)](',')[_0x3fdf0d(0x568)](_0x3e9e3d=>_0x3e9e3d[_0x3fdf0d(0x6a3)]())[_0x3fdf0d(0x20d)](_0x2d73d1=>_0x2d73d1!==''):_0x26d6a8[_0xd2cfdc]=_0x3b1d82);});let _0x1998f5=_0x39c3a8[_0x71dff0(0x165)][_0x71dff0(0x3ec)][_0x39c3a8['chatLog']['blockLogs'][_0x71dff0(0x391)]-0x1];if(_0x1998f5){let _0x544095=_0x1998f5[_0x71dff0(0x517)];_0x544095!==void 0x0&&(_0x26d6a8[_0x71dff0(0x631)]=_0x544095[_0x71dff0(0x368)]());}let _0x11bd65=_0xc6920b['filter'](_0x44a48f=>_0x1edc91[_0x71dff0(0x516)](_0x44a48f[_0x71dff0(0x6ba)]));this['logger']['verbose'](this[_0x71dff0(0x3a7)]+'\x20('+this[_0x71dff0(0x532)][_0x71dff0(0x25a)]+_0x71dff0(0x360)),this['logger'][_0x71dff0(0x49e)](_0x26d6a8),this[_0x71dff0(0x506)][_0x71dff0(0x49e)](this[_0x71dff0(0x3a7)]+'\x20('+this[_0x71dff0(0x532)]['wuid']+'):\x20customFieldVariables'),this['logger']['verbose'](_0x11bd65);let _0x369365=_0x11bd65[_0x71dff0(0x568)](_0x7fc128=>{const _0xfe280=_0x71dff0;let _0x558c80=this[_0xfe280(0x573)]?.[_0xfe280(0x22c)][_0xfe280(0x285)](_0x12fa45=>_0x12fa45[_0xfe280(0x6ba)]===_0x7fc128[_0xfe280(0x6ba)]);if(!_0x558c80)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x7fc128['name']);return{'_id':_0x558c80[_0xfe280(0x34e)],'value':_0x7fc128[_0xfe280(0x685)]};});this[_0x71dff0(0x506)][_0x71dff0(0x49e)](this[_0x71dff0(0x3a7)]+'\x20('+this[_0x71dff0(0x532)]['wuid']+_0x71dff0(0x3f1)),this[_0x71dff0(0x506)][_0x71dff0(0x49e)](_0x369365),await this[_0x71dff0(0x5a0)](_0x39c3a8[_0x71dff0(0x628)],_0x26d6a8,_0x369365);}catch(_0x1250f4){this['logger'][_0x71dff0(0x417)](this['instanceName']+'\x20('+this[_0x71dff0(0x532)][_0x71dff0(0x25a)]+_0x71dff0(0x275)+(_0x1250f4 instanceof Error?_0x1250f4[_0x71dff0(0x2a2)]:JSON['stringify'](_0x1250f4,null,0x2)));}}else this[_0x71dff0(0x506)][_0x71dff0(0x417)](this[_0x71dff0(0x3a7)]+'\x20('+this[_0x71dff0(0x532)][_0x71dff0(0x25a)]+_0x71dff0(0x53f));}catch(_0xb338cb){this[_0x71dff0(0x506)][_0x71dff0(0x417)](this[_0x71dff0(0x3a7)]+'\x20('+this['instance'][_0x71dff0(0x25a)]+_0x71dff0(0x4ba)+(_0xb338cb instanceof Error?_0xb338cb['message']:JSON[_0x71dff0(0x4cd)](_0xb338cb,null,0x2)));}}async[a0_0x3656ce(0x5a0)](_0x36c0ea,_0xb9e757,_0x2364fb){const _0x17b201=a0_0x3656ce;try{let _0x2658f5={'leadInfo.leadnome':_0xb9e757['nome'],'leadInfo.nomecompleto':_0xb9e757[_0x17b201(0x6f1)],'leadInfo.email':_0xb9e757['email'],'leadInfo.cpf':_0xb9e757['cpf'],'leadInfo.status':_0xb9e757[_0x17b201(0x6b6)],'leadInfo.notas':_0xb9e757[_0x17b201(0x4d2)],'leadInfo.responsavelid':_0xb9e757[_0x17b201(0x4ab)],'leadInfo.tags':_0xb9e757[_0x17b201(0x19e)],'leadInfo.customFields':_0x2364fb};if(_0x17b201(0x631)in _0xb9e757){let _0xa4a9b0=_0xb9e757[_0x17b201(0x631)];_0x2658f5[_0x17b201(0x71d)]=_0xa4a9b0?Number(_0xa4a9b0):null;}let _0x2fd498=await this[_0x17b201(0x1f9)][_0x17b201(0x497)][_0x17b201(0x27f)]({'where':{'_id':_0x36c0ea}},_0x2658f5,this[_0x17b201(0x532)][_0x17b201(0x25a)]);_0x2fd498?(this[_0x17b201(0x506)][_0x17b201(0x49e)](this['instanceName']+'\x20('+this[_0x17b201(0x532)]['wuid']+_0x17b201(0x337)+_0x2fd498[_0x17b201(0x34e)]),j(this['instanceName'],_0x17b201(0x195),{'chat':_0x2fd498})):this[_0x17b201(0x506)]['error'](this[_0x17b201(0x3a7)]+'\x20('+this['instance'][_0x17b201(0x25a)]+_0x17b201(0x242));}catch(_0x555275){this[_0x17b201(0x506)][_0x17b201(0x417)](this[_0x17b201(0x3a7)]+'\x20('+this['instance'][_0x17b201(0x25a)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x555275 instanceof Error?_0x555275[_0x17b201(0x2a2)]:JSON['stringify'](_0x555275,null,0x2)));}}async[a0_0x3656ce(0x3c7)](_0x57ada1,_0x3b8c62){const _0x219581=a0_0x3656ce;this['logger'][_0x219581(0x49e)](this[_0x219581(0x3a7)]+'\x20('+this[_0x219581(0x532)]['wuid']+_0x219581(0x1df)+_0x3b8c62);try{let _0x127ae0=await this[_0x219581(0x1f9)][_0x219581(0x497)][_0x219581(0x27f)]({'where':{'_id':_0x57ada1['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x3b8c62},this[_0x219581(0x532)][_0x219581(0x25a)]);this[_0x219581(0x506)][_0x219581(0x49e)](this[_0x219581(0x3a7)]+'\x20('+this[_0x219581(0x532)]['wuid']+_0x219581(0x48f)+_0x57ada1[_0x219581(0x34e)]),this[_0x219581(0x506)][_0x219581(0x49e)](this[_0x219581(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20atualização\x20chat:\x20'+JSON[_0x219581(0x4cd)](_0x127ae0,null,0x2)),_0x127ae0&&j(this[_0x219581(0x3a7)],_0x219581(0x195),{'chat':_0x127ae0});}catch(_0x9ce517){this[_0x219581(0x506)][_0x219581(0x417)](this['instanceName']+'\x20('+this[_0x219581(0x532)][_0x219581(0x25a)]+_0x219581(0x69c)+(_0x9ce517 instanceof Error?_0x9ce517[_0x219581(0x2a2)]:JSON[_0x219581(0x4cd)](_0x9ce517,null,0x2)));}}async[a0_0x3656ce(0x752)](_0x317df8){const _0x38136a=a0_0x3656ce;try{this[_0x38136a(0x506)]['verbose'](this[_0x38136a(0x3a7)]+'\x20('+this['instance']['wuid']+_0x38136a(0x57b));let _0xf45f9b=_0x317df8[_0x38136a(0x69a)](/\D/g,''),_0x374b54=await this[_0x38136a(0x1f9)]['flow']['findOne']({'where':{'testingWith':_0xf45f9b}},this[_0x38136a(0x532)]['wuid']);return _0x374b54||(this[_0x38136a(0x506)][_0x38136a(0x49e)](this[_0x38136a(0x3a7)]+'\x20('+this[_0x38136a(0x532)][_0x38136a(0x25a)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x374b54=await this[_0x38136a(0x1f9)][_0x38136a(0x2ac)][_0x38136a(0x166)]({'where':{'default':!0x0}},this[_0x38136a(0x532)]['wuid'])),_0x374b54||(this['logger'][_0x38136a(0x49e)](this[_0x38136a(0x3a7)]+'\x20('+this[_0x38136a(0x532)][_0x38136a(0x25a)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x5836ef){return this[_0x38136a(0x506)]['error'](this[_0x38136a(0x3a7)]+'\x20('+this[_0x38136a(0x532)][_0x38136a(0x25a)]+_0x38136a(0x1b1)+(_0x5836ef instanceof Error?_0x5836ef[_0x38136a(0x2a2)]:JSON['stringify'](_0x5836ef,null,0x2))),null;}}async['findConversation'](_0x2584af,_0x48a13c){const _0x456265=a0_0x3656ce;try{let _0x3e4b7b=!!_0x48a13c[_0x456265(0x525)],_0x5cdfa3=_0x48a13c[_0x456265(0x329)],_0x34f4df=null;if(this['logger'][_0x456265(0x49e)](this[_0x456265(0x3a7)]+'\x20('+this[_0x456265(0x532)][_0x456265(0x25a)]+_0x456265(0x3d9)+_0x3e4b7b+_0x456265(0x1e6)+_0x5cdfa3),_0x3e4b7b){this[_0x456265(0x506)][_0x456265(0x49e)](this[_0x456265(0x3a7)]+'\x20('+this[_0x456265(0x532)]['wuid']+_0x456265(0x2b5));let _0x206c0e={'where':{'remoteJid':_0x2584af,'waitingMenu_id':_0x5cdfa3}};if(_0x34f4df=await this[_0x456265(0x1f9)]['flowConversation']['findOne'](_0x206c0e,this[_0x456265(0x532)]['wuid']),!_0x34f4df)return this[_0x456265(0x506)]['verbose'](this[_0x456265(0x3a7)]+'\x20('+this['instance']['wuid']+_0x456265(0x6e1)),null;let _0x3fe11a=Date[_0x456265(0x715)](),_0x1ff5c1=_0x34f4df?.[_0x456265(0x1eb)]||0x0,_0x3abe1c=_0x3fe11a-_0x1ff5c1*0x3c*0x3e8;if(_0x34f4df[_0x456265(0x15e)]<_0x3abe1c){this[_0x456265(0x506)][_0x456265(0x49e)](this[_0x456265(0x3a7)]+'\x20('+this[_0x456265(0x532)][_0x456265(0x25a)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x44feee={'number':_0x34f4df[_0x456265(0x628)],'options':{'delay':0x0},'textMessage':{'text':_0x34f4df[_0x456265(0x1e3)]}};await this[_0x456265(0x791)](_0x44feee);let _0x4ef50f={'status':_0x456265(0x477),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x456265(0x1f9)][_0x456265(0x5cd)][_0x456265(0x27f)](_0x34f4df[_0x456265(0x34e)],_0x4ef50f,this[_0x456265(0x532)][_0x456265(0x25a)]),null;}return _0x34f4df[_0x456265(0x15e)]=Date[_0x456265(0x715)](),_0x34f4df[_0x456265(0x165)][_0x456265(0x4cc)]=_0x48a13c,_0x34f4df;}else{this[_0x456265(0x506)][_0x456265(0x49e)](this[_0x456265(0x3a7)]+'\x20('+this[_0x456265(0x532)][_0x456265(0x25a)]+_0x456265(0x478)+this['instance'][_0x456265(0x25a)]+_0x456265(0x3a8)),this['logger'][_0x456265(0x49e)](this[_0x456265(0x3a7)]+'\x20('+this[_0x456265(0x532)][_0x456265(0x25a)]+_0x456265(0x515));let _0xb4ba51={'where':{'remoteJid':_0x2584af,'status':_0x456265(0x2ff)}};if(_0x34f4df=await this[_0x456265(0x1f9)]['flowConversation'][_0x456265(0x166)](_0xb4ba51,this[_0x456265(0x532)][_0x456265(0x25a)]),!_0x34f4df){let _0x28b78f=await this['findFlow'](_0x2584af);if(_0x28b78f&&(_0x34f4df=await this['createNewConversation'](_0x28b78f,_0x48a13c[_0x456265(0x228)],_0x48a13c)),!_0x34f4df)return null;}let _0x3c06a1=Date[_0x456265(0x715)](),_0x5a64b1=_0x34f4df?.[_0x456265(0x1eb)]||0x0,_0x11a59f=_0x3c06a1-_0x5a64b1*0x3c*0x3e8;if(this[_0x456265(0x506)]['verbose'](this[_0x456265(0x3a7)]+'\x20('+this['instance'][_0x456265(0x25a)]+'):\x20Current\x20Time:\x20'+_0x3c06a1+_0x456265(0x6f6)+_0x5a64b1+_0x456265(0x372)+_0x11a59f),this['logger']['verbose'](this[_0x456265(0x3a7)]+'\x20('+this[_0x456265(0x532)]['wuid']+_0x456265(0x405)),this[_0x456265(0x506)][_0x456265(0x49e)](this[_0x456265(0x3a7)]+'\x20('+this[_0x456265(0x532)][_0x456265(0x25a)]+'):\x20conversation.lastInteraction:\x20'+_0x34f4df[_0x456265(0x15e)]),this[_0x456265(0x506)][_0x456265(0x49e)](this[_0x456265(0x3a7)]+'\x20('+this[_0x456265(0x532)][_0x456265(0x25a)]+_0x456265(0x2e2)+_0x11a59f),_0x34f4df[_0x456265(0x15e)]<_0x11a59f){this[_0x456265(0x506)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20está\x20expirada');let _0x4ef1e0=await this[_0x456265(0x752)](_0x2584af);if(_0x4ef1e0===null)return null;_0x34f4df&&await this['repository'][_0x456265(0x5cd)][_0x456265(0x27f)](_0x34f4df[_0x456265(0x34e)],{'status':_0x456265(0x477)},this['instance']['wuid']),_0x34f4df=await this['createNewConversation'](_0x4ef1e0,_0x48a13c['key'],_0x48a13c);}return _0x34f4df[_0x456265(0x15e)]=_0x3c06a1,_0x34f4df[_0x456265(0x165)][_0x456265(0x4cc)]=_0x48a13c,_0x34f4df;}}catch(_0x579dae){return this[_0x456265(0x506)][_0x456265(0x417)](this[_0x456265(0x3a7)]+'\x20('+this['instance'][_0x456265(0x25a)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x579dae instanceof Error?_0x579dae[_0x456265(0x2a2)]:JSON['stringify'](_0x579dae,null,0x2))),null;}}async['createNewConversation'](_0x51ac4d,_0x443506,_0x304e79){const _0x47fec6=a0_0x3656ce;this[_0x47fec6(0x506)][_0x47fec6(0x49e)](this[_0x47fec6(0x3a7)]+'\x20('+this[_0x47fec6(0x532)][_0x47fec6(0x25a)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x36d271=require(_0x47fec6(0x67f))[_0x47fec6(0x209)],_0x8c4fc3=Date[_0x47fec6(0x715)](),_0x42c65f=_0x47fec6(0x46a),_0x3cba31=_0x443506['fromMe']?null:_0x304e79,_0x332242=_0x443506[_0x47fec6(0x72f)]?_0x304e79:null,_0x1b53ef=_0x443506['remoteJid'];await this[_0x47fec6(0x6c8)](_0x1b53ef);let _0x1a04ca={..._0x51ac4d,'chatLog':null},_0x341341=await this[_0x47fec6(0x61f)](_0x1a04ca[_0x47fec6(0x480)]),_0x49a3b2=await this[_0x47fec6(0x55d)](_0x1b53ef),_0x23c569={..._0x341341,..._0x49a3b2,'_remoteJid':_0x1b53ef},_0x3430a9={'lastReceivedMessage':_0x3cba31,'lastSendMessage':_0x332242,'lastBlockId':_0x42c65f,'lastCondition':!0x0,'realVariables':_0x23c569};_0x1a04ca[_0x47fec6(0x165)]=_0x3430a9,delete _0x1a04ca[_0x47fec6(0x34e)],_0x1a04ca[_0x47fec6(0x34e)]=new _0x36d271(),_0x1a04ca[_0x47fec6(0x15e)]=_0x8c4fc3,_0x1a04ca[_0x47fec6(0x6b6)]=_0x47fec6(0x2ff),_0x1a04ca['remoteJid']=_0x1b53ef;let _0x4b355b=await this['repository'][_0x47fec6(0x5cd)][_0x47fec6(0x27f)](_0x1a04ca[_0x47fec6(0x34e)],_0x1a04ca,this[_0x47fec6(0x532)]['wuid']);return this[_0x47fec6(0x506)][_0x47fec6(0x49e)](this['instanceName']+'\x20('+this['instance'][_0x47fec6(0x25a)]+_0x47fec6(0x5a4)),_0x4b355b?_0x1a04ca:null;}catch(_0x3904a2){return this['logger']['error'](this[_0x47fec6(0x3a7)]+'\x20('+this[_0x47fec6(0x532)][_0x47fec6(0x25a)]+_0x47fec6(0x48a)+(_0x3904a2 instanceof Error?_0x3904a2[_0x47fec6(0x2a2)]:JSON[_0x47fec6(0x4cd)](_0x3904a2,null,0x2))),_0x3904a2;}}async[a0_0x3656ce(0x524)](_0x50d299,_0x58b2d4){const _0x528ceb=a0_0x3656ce;let _0x38f544=_0x50d299[_0x528ceb(0x628)];_0x58b2d4['uazapi']['remoteJid']&&_0x58b2d4[_0x528ceb(0x6ab)]['remoteJid'][_0x528ceb(0x6a3)]()!==''&&(_0x38f544=_0x58b2d4['uazapi'][_0x528ceb(0x628)][_0x528ceb(0x6a3)]()),this[_0x528ceb(0x506)][_0x528ceb(0x49e)](this[_0x528ceb(0x3a7)]+'\x20('+this['instance']['wuid']+_0x528ceb(0x162));let _0x130df1={'number':_0x38f544,'options':{'delay':_0x58b2d4['uazapi'][_0x528ceb(0x6fc)]},'textMessage':{'text':_0x58b2d4['uazapi']['text']}};try{let _0x1f0d89=await this['textMessage'](_0x130df1);if(_0x1f0d89){let _0x159b34={'_id':_0x1f0d89['key']['id'],'_fromMe':_0x1f0d89['key'][_0x528ceb(0x72f)],'_remoteJid':_0x1f0d89[_0x528ceb(0x228)][_0x528ceb(0x628)]};_0x50d299[_0x528ceb(0x165)][_0x528ceb(0x463)]=_0x58b2d4[_0x528ceb(0x34e)][_0x528ceb(0x368)]();let {message_normalized:_0x5904ca}=this[_0x528ceb(0x213)](_0x1f0d89[_0x528ceb(0x2a2)],_(_0x1f0d89[_0x528ceb(0x2a2)]),null);_0x50d299[_0x528ceb(0x165)][_0x528ceb(0x51a)]=await _0x5904ca;let _0x2818c9={'messageId':_0x1f0d89[_0x528ceb(0x228)]['id']},_0x351cbe=_0x50d299[_0x528ceb(0x165)][_0x528ceb(0x3b4)];Object[_0x528ceb(0x4f7)](_0x351cbe,_0x159b34),_0x50d299[_0x528ceb(0x165)][_0x528ceb(0x3b4)]=_0x351cbe,this['updateConversation'](_0x50d299,_0x58b2d4,_0x2818c9);}else{let _0x1f790f={'error':!0x0};this[_0x528ceb(0x4f3)](_0x50d299,_0x58b2d4,_0x1f790f),this[_0x528ceb(0x506)][_0x528ceb(0x417)](this[_0x528ceb(0x3a7)]+'\x20('+this['instance'][_0x528ceb(0x25a)]+_0x528ceb(0x4ec));}}catch(_0x4c2767){let _0x4726bc={'error':!0x0,'errorLog':_0x4c2767[_0x528ceb(0x368)]()};this['updateConversation'](_0x50d299,_0x58b2d4,_0x4726bc),this['logger'][_0x528ceb(0x417)](this['instanceName']+'\x20('+this[_0x528ceb(0x532)][_0x528ceb(0x25a)]+_0x528ceb(0x3eb)+(_0x4c2767 instanceof Error?_0x4c2767['message']:JSON[_0x528ceb(0x4cd)](_0x4c2767,null,0x2)));}}async['uazapiSendMedia'](_0xefce54,_0x3220f1){const _0x223a8f=a0_0x3656ce;let _0x2bc3dc=_0xefce54[_0x223a8f(0x628)];_0x3220f1[_0x223a8f(0x6ab)][_0x223a8f(0x628)]&&_0x3220f1[_0x223a8f(0x6ab)][_0x223a8f(0x628)]['trim']()!==''&&(_0x2bc3dc=_0x3220f1[_0x223a8f(0x6ab)][_0x223a8f(0x628)]['trim']()),this[_0x223a8f(0x506)][_0x223a8f(0x49e)](this['instanceName']+'\x20('+this[_0x223a8f(0x532)][_0x223a8f(0x25a)]+'):\x20Enviando\x20mídia');let _0x5f3159={'number':_0x2bc3dc,'options':{'delay':_0x3220f1[_0x223a8f(0x6ab)][_0x223a8f(0x6fc)]},'mediaMessage':{'mediatype':_0x3220f1[_0x223a8f(0x6ab)]['mediatype'],'caption':_0x3220f1[_0x223a8f(0x6ab)][_0x223a8f(0x5be)],'media':_0x3220f1[_0x223a8f(0x6ab)]['media'],'fileName':_0x3220f1[_0x223a8f(0x6ab)][_0x223a8f(0x769)]}};try{let _0x57a043=await this[_0x223a8f(0x367)](_0x5f3159);if(_0x57a043){let _0x34be27={'_id':_0x57a043['key']['id'],'_fromMe':_0x57a043['key'][_0x223a8f(0x72f)],'_remoteJid':_0x57a043['key']['remoteJid']};_0xefce54[_0x223a8f(0x165)]['lastBlockId']=_0x3220f1[_0x223a8f(0x34e)][_0x223a8f(0x368)]();let {message_normalized:_0x5d7f10}=this[_0x223a8f(0x213)](_0x57a043[_0x223a8f(0x2a2)],_(_0x57a043[_0x223a8f(0x2a2)]),null);_0xefce54[_0x223a8f(0x165)][_0x223a8f(0x51a)]=await _0x5d7f10;let _0xc06304={'messageId':_0x57a043[_0x223a8f(0x228)]['id']},_0x331924=_0xefce54['chatLog'][_0x223a8f(0x3b4)];Object['assign'](_0x331924,_0x34be27),_0xefce54[_0x223a8f(0x165)][_0x223a8f(0x3b4)]=_0x331924,this[_0x223a8f(0x4f3)](_0xefce54,_0x3220f1,_0xc06304);}else{let _0x298ffa={'error':!0x0};this[_0x223a8f(0x4f3)](_0xefce54,_0x3220f1,_0x298ffa),this['logger']['error'](this[_0x223a8f(0x3a7)]+'\x20('+this[_0x223a8f(0x532)][_0x223a8f(0x25a)]+_0x223a8f(0x353));}}catch(_0x366b0a){let _0x441c87={'error':!0x0,'errorLog':_0x366b0a[_0x223a8f(0x368)]()};this['updateConversation'](_0xefce54,_0x3220f1,_0x441c87),this['logger'][_0x223a8f(0x417)](this[_0x223a8f(0x3a7)]+'\x20('+this['instance'][_0x223a8f(0x25a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x366b0a instanceof Error?_0x366b0a[_0x223a8f(0x2a2)]:JSON[_0x223a8f(0x4cd)](_0x366b0a,null,0x2)));}}async[a0_0x3656ce(0x39f)](_0x5b1f0b,_0x9385af){const _0x5ea5f5=a0_0x3656ce;let _0x52e34e=_0x5b1f0b['remoteJid'];_0x9385af[_0x5ea5f5(0x6ab)][_0x5ea5f5(0x628)]&&_0x9385af[_0x5ea5f5(0x6ab)]['remoteJid'][_0x5ea5f5(0x6a3)]()!==''&&(_0x52e34e=_0x9385af[_0x5ea5f5(0x6ab)][_0x5ea5f5(0x628)][_0x5ea5f5(0x6a3)]()),this[_0x5ea5f5(0x506)][_0x5ea5f5(0x49e)](this['instanceName']+'\x20('+this['instance'][_0x5ea5f5(0x25a)]+'):\x20Enviando\x20localização');let _0x44e1dd={'number':_0x52e34e,'options':{'delay':_0x9385af['uazapi'][_0x5ea5f5(0x6fc)]},'locationMessage':{'name':_0x9385af[_0x5ea5f5(0x6ab)][_0x5ea5f5(0x6ba)],'address':_0x9385af[_0x5ea5f5(0x6ab)][_0x5ea5f5(0x3fd)],'latitude':_0x9385af[_0x5ea5f5(0x6ab)][_0x5ea5f5(0x435)],'longitude':_0x9385af['uazapi']['longitude']}};try{let _0x362d14=await this['locationMessage'](_0x44e1dd);if(_0x362d14){let _0x13d020={'_id':_0x362d14[_0x5ea5f5(0x228)]['id'],'_fromMe':_0x362d14['key'][_0x5ea5f5(0x72f)],'_remoteJid':_0x362d14[_0x5ea5f5(0x228)][_0x5ea5f5(0x628)]};_0x5b1f0b[_0x5ea5f5(0x165)]['lastBlockId']=_0x9385af[_0x5ea5f5(0x34e)][_0x5ea5f5(0x368)]();let {message_normalized:_0x15b5cd}=this['normalizeMessage'](_0x362d14[_0x5ea5f5(0x2a2)],_(_0x362d14['message']),null);_0x5b1f0b['chatLog'][_0x5ea5f5(0x51a)]=await _0x15b5cd;let _0x3a4e93={'messageId':_0x362d14[_0x5ea5f5(0x228)]['id']},_0x54b17a=_0x5b1f0b[_0x5ea5f5(0x165)][_0x5ea5f5(0x3b4)];Object[_0x5ea5f5(0x4f7)](_0x54b17a,_0x13d020),_0x5b1f0b['chatLog'][_0x5ea5f5(0x3b4)]=_0x54b17a,this['updateConversation'](_0x5b1f0b,_0x9385af,_0x3a4e93);}else{let _0x2b3a5f={'error':!0x0};this[_0x5ea5f5(0x4f3)](_0x5b1f0b,_0x9385af,_0x2b3a5f),this['logger'][_0x5ea5f5(0x417)](this['instanceName']+'\x20('+this['instance'][_0x5ea5f5(0x25a)]+_0x5ea5f5(0x3fc));}}catch(_0x5ba20d){let _0x429310={'error':!0x0,'errorLog':_0x5ba20d[_0x5ea5f5(0x368)]()};this[_0x5ea5f5(0x4f3)](_0x5b1f0b,_0x9385af,_0x429310),this['logger'][_0x5ea5f5(0x417)](this[_0x5ea5f5(0x3a7)]+'\x20('+this[_0x5ea5f5(0x532)][_0x5ea5f5(0x25a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x5ba20d instanceof Error?_0x5ba20d['message']:JSON[_0x5ea5f5(0x4cd)](_0x5ba20d,null,0x2)));}}async[a0_0x3656ce(0x5cb)](_0x1edd47,_0x57be0f){const _0x32c9cb=a0_0x3656ce;let _0x32c744=_0x1edd47[_0x32c9cb(0x628)];_0x57be0f['uazapi'][_0x32c9cb(0x628)]&&_0x57be0f[_0x32c9cb(0x6ab)][_0x32c9cb(0x628)][_0x32c9cb(0x6a3)]()!==''&&(_0x32c744=_0x57be0f[_0x32c9cb(0x6ab)][_0x32c9cb(0x628)]['trim']()),this['logger'][_0x32c9cb(0x49e)](this[_0x32c9cb(0x3a7)]+'\x20('+this[_0x32c9cb(0x532)]['wuid']+_0x32c9cb(0x53a));let _0x590887={'number':_0x32c744,'options':{'delay':_0x57be0f[_0x32c9cb(0x6ab)]['delay']},'audioMessage':{'audio':_0x57be0f[_0x32c9cb(0x6ab)]['audio']}};try{let _0x46c14e=await this[_0x32c9cb(0x643)](_0x590887);if(_0x46c14e){let _0x148d6c={'_id':_0x46c14e['key']['id'],'_fromMe':_0x46c14e[_0x32c9cb(0x228)][_0x32c9cb(0x72f)],'_remoteJid':_0x46c14e['key'][_0x32c9cb(0x628)]};_0x1edd47[_0x32c9cb(0x165)][_0x32c9cb(0x463)]=_0x57be0f['_id'][_0x32c9cb(0x368)]();let {message_normalized:_0x4dd41e}=this['normalizeMessage'](_0x46c14e[_0x32c9cb(0x2a2)],_(_0x46c14e[_0x32c9cb(0x2a2)]),null);_0x1edd47[_0x32c9cb(0x165)][_0x32c9cb(0x51a)]=await _0x4dd41e;let _0x580020={'messageId':_0x46c14e[_0x32c9cb(0x228)]['id']},_0xe878c0=_0x1edd47[_0x32c9cb(0x165)][_0x32c9cb(0x3b4)];Object[_0x32c9cb(0x4f7)](_0xe878c0,_0x148d6c),_0x1edd47[_0x32c9cb(0x165)][_0x32c9cb(0x3b4)]=_0xe878c0,this[_0x32c9cb(0x4f3)](_0x1edd47,_0x57be0f,_0x580020);}else{let _0x1da17e={'error':!0x0};this['updateConversation'](_0x1edd47,_0x57be0f,_0x1da17e),this[_0x32c9cb(0x506)][_0x32c9cb(0x417)](this[_0x32c9cb(0x3a7)]+'\x20('+this[_0x32c9cb(0x532)][_0x32c9cb(0x25a)]+_0x32c9cb(0x43b));}}catch(_0xb6d06b){let _0x3243b6={'error':!0x0,'errorLog':_0xb6d06b['toString']()};this[_0x32c9cb(0x4f3)](_0x1edd47,_0x57be0f,_0x3243b6),this['logger'][_0x32c9cb(0x417)](this[_0x32c9cb(0x3a7)]+'\x20('+this[_0x32c9cb(0x532)][_0x32c9cb(0x25a)]+_0x32c9cb(0x22e)+(_0xb6d06b instanceof Error?_0xb6d06b[_0x32c9cb(0x2a2)]:JSON[_0x32c9cb(0x4cd)](_0xb6d06b,null,0x2)));}}async[a0_0x3656ce(0x4aa)](_0x5484c6,_0x4eff50){const _0xc2931f=a0_0x3656ce;let _0x32322d=_0x5484c6[_0xc2931f(0x628)];_0x4eff50[_0xc2931f(0x6ab)][_0xc2931f(0x628)]&&_0x4eff50[_0xc2931f(0x6ab)][_0xc2931f(0x628)][_0xc2931f(0x6a3)]()!==''&&(_0x32322d=_0x4eff50['uazapi']['remoteJid']['trim']()),this[_0xc2931f(0x506)][_0xc2931f(0x49e)](this[_0xc2931f(0x3a7)]+'\x20('+this[_0xc2931f(0x532)][_0xc2931f(0x25a)]+_0xc2931f(0x30b));let _0x36c76f={'number':_0x32322d,'options':{'delay':_0x4eff50[_0xc2931f(0x6ab)]['delay']},'contactMessage':[{'fullName':_0x4eff50[_0xc2931f(0x6ab)][_0xc2931f(0x4ae)],'phoneNumber':_0x4eff50[_0xc2931f(0x6ab)]['phoneNumber']}]};try{let _0x2df7bd=await this[_0xc2931f(0x4e3)](_0x36c76f);if(_0x2df7bd){let _0x4bc87a={'_id':_0x2df7bd[_0xc2931f(0x228)]['id'],'_fromMe':_0x2df7bd[_0xc2931f(0x228)][_0xc2931f(0x72f)],'_remoteJid':_0x2df7bd['key']['remoteJid']};_0x5484c6[_0xc2931f(0x165)]['lastBlockId']=_0x4eff50[_0xc2931f(0x34e)]['toString']();let {message_normalized:_0x993af0}=this[_0xc2931f(0x213)](_0x2df7bd[_0xc2931f(0x2a2)],_(_0x2df7bd['message']),null);_0x5484c6['chatLog'][_0xc2931f(0x51a)]=await _0x993af0;let _0x6bb61a={'messageId':_0x2df7bd[_0xc2931f(0x228)]['id']},_0x3445ae=_0x5484c6[_0xc2931f(0x165)][_0xc2931f(0x3b4)];Object[_0xc2931f(0x4f7)](_0x3445ae,_0x4bc87a),_0x5484c6[_0xc2931f(0x165)][_0xc2931f(0x3b4)]=_0x3445ae,this[_0xc2931f(0x4f3)](_0x5484c6,_0x4eff50,_0x6bb61a);}else{let _0x12b07e={'error':!0x0};this[_0xc2931f(0x4f3)](_0x5484c6,_0x4eff50,_0x12b07e),this['logger'][_0xc2931f(0x417)](this[_0xc2931f(0x3a7)]+'\x20('+this['instance'][_0xc2931f(0x25a)]+_0xc2931f(0x299));}}catch(_0x4235da){let _0x1e7bee={'error':!0x0,'errorLog':_0x4235da[_0xc2931f(0x368)]()};this[_0xc2931f(0x4f3)](_0x5484c6,_0x4eff50,_0x1e7bee),this['logger']['error'](this[_0xc2931f(0x3a7)]+'\x20('+this[_0xc2931f(0x532)][_0xc2931f(0x25a)]+_0xc2931f(0x323)+(_0x4235da instanceof Error?_0x4235da[_0xc2931f(0x2a2)]:JSON[_0xc2931f(0x4cd)](_0x4235da,null,0x2)));}}[a0_0x3656ce(0x3cd)](_0x169bab,_0x54a68c){const _0x3978ce=a0_0x3656ce;for(let _0x5bfcc4 of _0x169bab)_0x5bfcc4[_0x3978ce(0x52a)]&&(_0x5bfcc4[_0x3978ce(0x52a)]=this[_0x3978ce(0x3aa)](_0x5bfcc4[_0x3978ce(0x52a)],_0x54a68c)),_0x5bfcc4[_0x3978ce(0x29d)]&&(_0x5bfcc4['optionDescription']=this[_0x3978ce(0x3aa)](_0x5bfcc4[_0x3978ce(0x29d)],_0x54a68c));}async['uazapiSendMenu'](_0x3b0be9,_0x2e89aa){const _0x1ad179=a0_0x3656ce;let _0x4efe18=_0x3b0be9[_0x1ad179(0x628)];_0x2e89aa[_0x1ad179(0x6ab)]['remoteJid']&&_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x628)][_0x1ad179(0x6a3)]()!==''&&(_0x4efe18=_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x628)][_0x1ad179(0x6a3)]()),this['logger'][_0x1ad179(0x49e)](this[_0x1ad179(0x3a7)]+'\x20('+this['instance'][_0x1ad179(0x25a)]+_0x1ad179(0x646));let _0x3b9ea8=_0x3b0be9[_0x1ad179(0x229)][_0x1ad179(0x20d)](_0x290d42=>_0x290d42['blockId']===_0x2e89aa[_0x1ad179(0x34e)])[_0x1ad179(0x6b3)]((_0x513d12,_0x17c445)=>_0x513d12[_0x1ad179(0x1ec)]-_0x17c445['order']);this[_0x1ad179(0x3cd)](_0x3b9ea8,_0x3b0be9[_0x1ad179(0x165)][_0x1ad179(0x3b4)]);let _0x14a91d=_0x3b9ea8[_0x1ad179(0x568)](_0x16680f=>_0x16680f[_0x1ad179(0x52a)]),_0x507346={'number':_0x4efe18,'menuMessage':{'type':_0x2e89aa[_0x1ad179(0x6ab)]['menuType']||_0x1ad179(0x3da),'text':_0x2e89aa[_0x1ad179(0x6ab)]['text']||_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x6ba)],'footerText':_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x4de)],'buttonText':_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x207)],'selectableCount':0x1,'choices':_0x14a91d},'options':{'delay':_0x2e89aa[_0x1ad179(0x6ab)]['delay']}};try{let _0x42093b=await this[_0x1ad179(0x44c)](_0x507346);if(_0x42093b){let _0x476685={'_id':_0x42093b[_0x1ad179(0x228)]['id'],'_fromMe':_0x42093b[_0x1ad179(0x228)][_0x1ad179(0x72f)],'_remoteJid':_0x42093b['key']['remoteJid']};_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x727)]===!0x0&&(_0x3b0be9[_0x1ad179(0x6b6)]='waitingForReplyMenu',this['logger'][_0x1ad179(0x49e)](this[_0x1ad179(0x3a7)]+'\x20('+this[_0x1ad179(0x532)]['wuid']+_0x1ad179(0x2a6)+_0x3b0be9[_0x1ad179(0x6b6)])),this[_0x1ad179(0x506)][_0x1ad179(0x49e)](this['instanceName']+'\x20('+this[_0x1ad179(0x532)][_0x1ad179(0x25a)]+_0x1ad179(0x557)+(_0x2e89aa['uazapi'][_0x1ad179(0x6ba)]||_0x2e89aa['uazapi'][_0x1ad179(0x4bc)])),_0x3b0be9[_0x1ad179(0x356)]=_0x42093b[_0x1ad179(0x228)]['id'],_0x3b0be9[_0x1ad179(0x644)]=_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x6ba)]||_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x4bc)],_0x3b0be9[_0x1ad179(0x4b9)]=_0x3b9ea8,_0x2e89aa[_0x1ad179(0x6ab)][_0x1ad179(0x6c3)]&&(_0x3b0be9[_0x1ad179(0x1e3)]=_0x2e89aa['uazapi'][_0x1ad179(0x6c3)]),this[_0x1ad179(0x506)][_0x1ad179(0x49e)](this['instanceName']+'\x20('+this[_0x1ad179(0x532)][_0x1ad179(0x25a)]+_0x1ad179(0x502)+_0x3b0be9[_0x1ad179(0x644)]),_0x3b0be9[_0x1ad179(0x165)]['lastBlockId']=_0x2e89aa['_id'][_0x1ad179(0x368)]();let {message_normalized:_0x1d6105}=this[_0x1ad179(0x213)](_0x42093b[_0x1ad179(0x2a2)],_(_0x42093b[_0x1ad179(0x2a2)]),null);_0x3b0be9['chatLog'][_0x1ad179(0x51a)]=await _0x1d6105;let _0x55cbd2={'messageId':_0x42093b['key']['id']},_0x13e3ce=_0x3b0be9[_0x1ad179(0x165)]['realVariables'];Object['assign'](_0x13e3ce,_0x476685),_0x3b0be9[_0x1ad179(0x165)][_0x1ad179(0x3b4)]=_0x13e3ce,this[_0x1ad179(0x4f3)](_0x3b0be9,_0x2e89aa,_0x55cbd2);}else{let _0x344dfe={'error':!0x0};this[_0x1ad179(0x4f3)](_0x3b0be9,_0x2e89aa,_0x344dfe),this['logger'][_0x1ad179(0x417)](this['instanceName']+'\x20('+this['instance'][_0x1ad179(0x25a)]+_0x1ad179(0x797));}}catch(_0x10d24b){let _0x54a178={'error':!0x0,'errorLog':_0x10d24b instanceof Error?_0x10d24b['message']:JSON[_0x1ad179(0x4cd)](_0x10d24b,null,0x2)};this[_0x1ad179(0x4f3)](_0x3b0be9,_0x2e89aa,_0x54a178),this['logger'][_0x1ad179(0x417)](this[_0x1ad179(0x3a7)]+'\x20('+this[_0x1ad179(0x532)]['wuid']+_0x1ad179(0x1f3)+(_0x10d24b instanceof Error?_0x10d24b[_0x1ad179(0x2a2)]:JSON[_0x1ad179(0x4cd)](_0x10d24b,null,0x2)));}}async['uazapiDeleteMessage'](_0x1415ba,_0x4ea5d8){const _0x1ec057=a0_0x3656ce;this[_0x1ec057(0x506)]['verbose'](this[_0x1ec057(0x3a7)]+'\x20('+this[_0x1ec057(0x532)][_0x1ec057(0x25a)]+'):\x20Deletando\x20mensagem');let _0x5d5a18=_0x1415ba[_0x1ec057(0x165)][_0x1ec057(0x3ec)][_0x1ec057(0x285)](_0x4d965b=>_0x4d965b[_0x1ec057(0x590)]['toString']()===_0x4ea5d8[_0x1ec057(0x6ab)]['blockId'][_0x1ec057(0x368)]()),_0x26b4a3={'id':_0x5d5a18[_0x1ec057(0x702)],'remoteJid':_0x5d5a18['remoteJid'],'fromMe':_0x5d5a18[_0x1ec057(0x72f)]};try{let _0x4f3546=await this['deleteMessage'](_0x26b4a3);if(_0x4f3546){_0x1415ba['chatLog']['lastBlockId']=_0x4ea5d8['_id']['toString']();let {message_normalized:_0x3b8d2e}=this[_0x1ec057(0x213)](_0x4f3546[_0x1ec057(0x2a2)],_(_0x4f3546[_0x1ec057(0x2a2)]),null);_0x1415ba['chatLog']['lastSendMessage']=await _0x3b8d2e;let _0x412c6f={};this[_0x1ec057(0x4f3)](_0x1415ba,_0x4ea5d8,_0x412c6f);}else{let _0x488f4e={'error':!0x0};this[_0x1ec057(0x4f3)](_0x1415ba,_0x4ea5d8,_0x488f4e),this[_0x1ec057(0x506)]['error'](this[_0x1ec057(0x3a7)]+'\x20('+this[_0x1ec057(0x532)][_0x1ec057(0x25a)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x3cf57b){let _0xacce30={'error':!0x0,'errorLog':_0x3cf57b instanceof Error?_0x3cf57b[_0x1ec057(0x2a2)]:JSON[_0x1ec057(0x4cd)](_0x3cf57b,null,0x2)};this[_0x1ec057(0x4f3)](_0x1415ba,_0x4ea5d8,_0xacce30),this[_0x1ec057(0x506)]['error'](this[_0x1ec057(0x3a7)]+'\x20('+this[_0x1ec057(0x532)][_0x1ec057(0x25a)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x3cf57b instanceof Error?_0x3cf57b[_0x1ec057(0x2a2)]:JSON['stringify'](_0x3cf57b,null,0x2)));}}async[a0_0x3656ce(0x5ed)](_0x521551){const _0xca1b40=a0_0x3656ce;try{if(this['logger'][_0xca1b40(0x49e)](this[_0xca1b40(0x3a7)]+'\x20('+this[_0xca1b40(0x532)][_0xca1b40(0x25a)]+_0xca1b40(0x54a)),await this[_0xca1b40(0x1f9)][_0xca1b40(0x2ac)][_0xca1b40(0x166)]({'where':{'name':_0x521551[_0xca1b40(0x6ba)]}},this['instance'][_0xca1b40(0x25a)]))return{'message':_0xca1b40(0x3b5)};_0x521551[_0xca1b40(0x3d0)]===!0x0&&await this['repository'][_0xca1b40(0x2ac)][_0xca1b40(0x171)]({},{'default':!0x1},this[_0xca1b40(0x532)][_0xca1b40(0x25a)]);let _0x4d2960=new ie['Types'][(_0xca1b40(0x209))](),_0x134dc4={'_id':_0x4d2960,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x45daa9={'_id':new ie[(_0xca1b40(0x428))]['ObjectId'](),'order':0x1,'groupId':_0x4d2960[_0xca1b40(0x368)](),'type':_0xca1b40(0x46a)},_0x1be8b6={'_id':new ie[(_0xca1b40(0x428))][(_0xca1b40(0x209))](),'owner':this[_0xca1b40(0x532)]['wuid'],'name':_0x521551[_0xca1b40(0x6ba)],'groups':[_0x134dc4],'blocks':[_0x45daa9],..._0x521551};return _0x1be8b6=await this[_0xca1b40(0x1f9)][_0xca1b40(0x2ac)][_0xca1b40(0x395)](_0x1be8b6,this[_0xca1b40(0x532)][_0xca1b40(0x25a)]),_0x1be8b6;}catch(_0x566100){throw this[_0xca1b40(0x506)][_0xca1b40(0x417)](this['instanceName']+'\x20('+this[_0xca1b40(0x532)][_0xca1b40(0x25a)]+_0xca1b40(0x523)+(_0x566100 instanceof Error?_0x566100[_0xca1b40(0x2a2)]:JSON[_0xca1b40(0x4cd)](_0x566100,null,0x2))),new h('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x566100);}}async[a0_0x3656ce(0x795)](_0x1b1237){const _0x766dc1=a0_0x3656ce;try{return this['logger'][_0x766dc1(0x49e)](this[_0x766dc1(0x3a7)]+'\x20('+this[_0x766dc1(0x532)][_0x766dc1(0x25a)]+_0x766dc1(0x2d8)),await this[_0x766dc1(0x1f9)][_0x766dc1(0x2ac)][_0x766dc1(0x693)]({'where':{'name':_0x1b1237}},this['instance'][_0x766dc1(0x25a)]);}catch(_0x46d654){return this[_0x766dc1(0x506)]['error'](this[_0x766dc1(0x3a7)]+'\x20('+this[_0x766dc1(0x532)][_0x766dc1(0x25a)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x46d654 instanceof Error?_0x46d654[_0x766dc1(0x2a2)]:JSON['stringify'](_0x46d654,null,0x2))),{'message':_0x766dc1(0x4e2)+_0x46d654};}}async['getFlow'](_0x4d2595){const _0x19e545=a0_0x3656ce;try{this[_0x19e545(0x506)][_0x19e545(0x49e)](this[_0x19e545(0x3a7)]+'\x20('+this[_0x19e545(0x532)][_0x19e545(0x25a)]+_0x19e545(0x57b));let _0x487ee5=await this[_0x19e545(0x1f9)][_0x19e545(0x2ac)][_0x19e545(0x166)]({'where':{'name':_0x4d2595}},this[_0x19e545(0x532)][_0x19e545(0x25a)]);if(!_0x487ee5)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x19e545(0x573)]&&(await this[_0x19e545(0x36e)](),!this[_0x19e545(0x573)]))return null;let _0x2057b7=this[_0x19e545(0x573)]?.[_0x19e545(0x22c)][_0x19e545(0x568)](_0x3b5669=>_0x3b5669[_0x19e545(0x6ba)]),_0x3f8cc8=[_0x19e545(0x5d6),_0x19e545(0x6f1),'email','cpf','status',_0x19e545(0x4d2),_0x19e545(0x4ab),'tags'];_0x487ee5[_0x19e545(0x480)]=_0x487ee5[_0x19e545(0x480)]['filter'](_0x5d76ef=>!(_0x5d76ef[_0x19e545(0x3de)]===_0x19e545(0x3f3)||_0x5d76ef[_0x19e545(0x3f3)])),_0x3f8cc8[_0x19e545(0x579)](_0x197f1e=>{const _0x58959d=_0x19e545;_0x487ee5[_0x58959d(0x480)][_0x58959d(0x7a1)]({'folder':_0x58959d(0x3f3),'name':_0x197f1e,'value':'','doc':'','leadInfo':!0x0});}),_0x2057b7[_0x19e545(0x579)](_0x26446b=>{const _0x8e7f7b=_0x19e545;let _0x38ec56=_0x487ee5['variables']['findIndex'](_0x2b1aa5=>_0x2b1aa5['name']===_0x26446b);_0x38ec56===-0x1?_0x487ee5[_0x8e7f7b(0x480)][_0x8e7f7b(0x7a1)]({'folder':'leadInfo','name':_0x26446b,'value':'','doc':'','leadInfo':!0x0}):(_0x487ee5[_0x8e7f7b(0x480)][_0x38ec56][_0x8e7f7b(0x3de)]=_0x8e7f7b(0x3f3),_0x487ee5[_0x8e7f7b(0x480)][_0x38ec56][_0x8e7f7b(0x3f3)]=!0x0);}),_0x487ee5[_0x19e545(0x424)]&&_0x487ee5[_0x19e545(0x424)][_0x19e545(0x391)]>0x0&&_0x487ee5['blocks']['forEach'](_0x3f80a9=>{const _0x2d4652=_0x19e545;_0x3f80a9[_0x2d4652(0x66a)]&&_0x3f80a9[_0x2d4652(0x78b)]&&_0x3f80a9[_0x2d4652(0x66a)]===_0x3f80a9[_0x2d4652(0x78b)]&&(_0x3f80a9[_0x2d4652(0x78b)]=null);});let _0x2d1bd9=await this[_0x19e545(0x1f9)][_0x19e545(0x2ac)][_0x19e545(0x27f)](_0x487ee5['_id'],_0x487ee5,this[_0x19e545(0x532)][_0x19e545(0x25a)]);if(!_0x2d1bd9)throw new Error(_0x19e545(0x2d7));return _0x2d1bd9;}catch(_0x15838f){throw this['logger'][_0x19e545(0x417)](this[_0x19e545(0x3a7)]+'\x20('+this[_0x19e545(0x532)][_0x19e545(0x25a)]+_0x19e545(0x49d)+(_0x15838f instanceof Error?_0x15838f['message']:JSON[_0x19e545(0x4cd)](_0x15838f,null,0x2))),new h(_0x19e545(0x488)+_0x15838f);}}async[a0_0x3656ce(0x45b)](){const _0x218cb3=a0_0x3656ce;try{return this['logger']['verbose'](this[_0x218cb3(0x3a7)]+'\x20('+this[_0x218cb3(0x532)][_0x218cb3(0x25a)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x218cb3(0x1f9)][_0x218cb3(0x2ac)]['findAll']({'where':{}},this[_0x218cb3(0x532)][_0x218cb3(0x25a)]);}catch(_0x36ac7d){return this[_0x218cb3(0x506)][_0x218cb3(0x417)](this['instanceName']+'\x20('+this[_0x218cb3(0x532)][_0x218cb3(0x25a)]+_0x218cb3(0x6cf)+(_0x36ac7d instanceof Error?_0x36ac7d[_0x218cb3(0x2a2)]:JSON[_0x218cb3(0x4cd)](_0x36ac7d,null,0x2))),{'message':_0x218cb3(0x5b4)+_0x36ac7d};}}async[a0_0x3656ce(0x1bc)](_0x480362){const _0x4df3f=a0_0x3656ce;try{this[_0x4df3f(0x506)]['verbose'](this[_0x4df3f(0x3a7)]+'\x20('+this[_0x4df3f(0x532)]['wuid']+_0x4df3f(0x361));let _0x144ea9=await this['repository'][_0x4df3f(0x2ac)][_0x4df3f(0x166)]({'where':{'name':_0x480362[_0x4df3f(0x6ba)]}},this[_0x4df3f(0x532)][_0x4df3f(0x25a)]);return _0x144ea9?(_0x480362['default']===!0x0&&await this[_0x4df3f(0x1f9)][_0x4df3f(0x2ac)]['updateMany']({},{'default':!0x1},this[_0x4df3f(0x532)]['wuid']),await this['repository'][_0x4df3f(0x2ac)][_0x4df3f(0x27f)](_0x144ea9[_0x4df3f(0x34e)],_0x480362,this[_0x4df3f(0x532)][_0x4df3f(0x25a)])):{'message':'Fluxo\x20não\x20encontrado'};}catch(_0x5b8b4f){throw this[_0x4df3f(0x506)][_0x4df3f(0x417)](this[_0x4df3f(0x3a7)]+'\x20('+this[_0x4df3f(0x532)][_0x4df3f(0x25a)]+_0x4df3f(0x4a6)+(_0x5b8b4f instanceof Error?_0x5b8b4f[_0x4df3f(0x2a2)]:JSON['stringify'](_0x5b8b4f,null,0x2))),new h('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x5b8b4f instanceof Error?_0x5b8b4f[_0x4df3f(0x2a2)]:JSON['stringify'](_0x5b8b4f,null,0x2)));}}async['editFlowBlock'](_0x4d9a39){const _0x5b082f=a0_0x3656ce;try{this['logger'][_0x5b082f(0x49e)](this[_0x5b082f(0x3a7)]+'\x20('+this[_0x5b082f(0x532)][_0x5b082f(0x25a)]+_0x5b082f(0x4fe));let _0x451d04=await this['repository'][_0x5b082f(0x2ac)][_0x5b082f(0x166)]({'where':{'name':_0x4d9a39[_0x5b082f(0x6ba)]}},this[_0x5b082f(0x532)]['wuid']);_0x451d04||this[_0x5b082f(0x1cd)]('Flow\x20não\x20encontrado');let {block:_0x493bb0}=_0x4d9a39;_0x493bb0?.[_0x5b082f(0x640)]?this[_0x5b082f(0x7a3)](_0x451d04,_0x4d9a39):_0x493bb0?.['delete']?this[_0x5b082f(0x1e8)](_0x451d04,_0x4d9a39):_0x493bb0[_0x5b082f(0x34e)]?await this['updateBlock'](_0x451d04,_0x4d9a39):this[_0x5b082f(0x401)](_0x451d04,_0x4d9a39);let _0x331103=await this[_0x5b082f(0x1f9)][_0x5b082f(0x2ac)]['updateOne'](_0x451d04[_0x5b082f(0x34e)],_0x451d04,this[_0x5b082f(0x532)][_0x5b082f(0x25a)]);if(!_0x331103)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x331103;}catch(_0x499169){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x499169);}}async['copyBlock'](_0x411640,_0x40373e){const _0x5503a9=a0_0x3656ce;let _0x18b57c=_0x40373e['block']['_id'],_0x2a69c0=_0x411640[_0x5503a9(0x424)][_0x5503a9(0x285)](_0x7570e4=>_0x7570e4[_0x5503a9(0x34e)][_0x5503a9(0x368)]()===_0x18b57c);if(!_0x2a69c0){this[_0x5503a9(0x506)][_0x5503a9(0x417)](this[_0x5503a9(0x3a7)]+'\x20('+this['instance'][_0x5503a9(0x25a)]+_0x5503a9(0x28c)+_0x18b57c+'\x20não\x20encontrado\x20para\x20cópia');return;}this['logger'][_0x5503a9(0x49e)](this[_0x5503a9(0x3a7)]+'\x20('+this['instance']['wuid']+_0x5503a9(0x610)+JSON[_0x5503a9(0x4cd)](_0x2a69c0));let _0x4e387b=JSON[_0x5503a9(0x42d)](JSON[_0x5503a9(0x4cd)](_0x2a69c0));_0x4e387b[_0x5503a9(0x34e)]=new ie['default'][(_0x5503a9(0x428))][(_0x5503a9(0x209))](),this[_0x5503a9(0x506)][_0x5503a9(0x49e)](this['instanceName']+'\x20('+this[_0x5503a9(0x532)][_0x5503a9(0x25a)]+_0x5503a9(0x2fb)+JSON[_0x5503a9(0x4cd)](_0x4e387b)),_0x411640[_0x5503a9(0x424)][_0x5503a9(0x7a1)](_0x4e387b),this[_0x5503a9(0x6ea)](_0x411640['blocks'],_0x4e387b[_0x5503a9(0x66a)]);}['throwAndLogError'](_0x33c3a7){const _0x36bc91=a0_0x3656ce;throw this['logger']['error'](this[_0x36bc91(0x3a7)]+'\x20('+this['instance'][_0x36bc91(0x25a)]+_0x36bc91(0x478)+_0x33c3a7),new h(_0x33c3a7);}['deleteBlock'](_0x486561,_0x2a359b){const _0x34377d=a0_0x3656ce;let {block:_0xadcd07}=_0x2a359b;if(_0xadcd07[_0x34377d(0x1a6)]==='start'){this['throwAndLogError'](_0x34377d(0x265));return;}if(!_0xadcd07[_0x34377d(0x34e)]){this[_0x34377d(0x1cd)](_0x34377d(0x728));return;}let _0x19b461=_0x486561[_0x34377d(0x424)][_0x34377d(0x285)](_0x11e3ac=>_0x11e3ac[_0x34377d(0x34e)][_0x34377d(0x368)]()===_0x2a359b[_0x34377d(0x574)]['_id'][_0x34377d(0x368)]());if(!_0x19b461){this['throwAndLogError'](_0x34377d(0x50a)+_0xadcd07[_0x34377d(0x34e)]+_0x34377d(0x4db));return;}_0x486561[_0x34377d(0x424)]=_0x486561['blocks'][_0x34377d(0x20d)](_0x146391=>_0x146391[_0x34377d(0x34e)][_0x34377d(0x368)]()!==_0x2a359b[_0x34377d(0x574)][_0x34377d(0x34e)][_0x34377d(0x368)]()),_0x486561[_0x34377d(0x2b0)]=_0x486561[_0x34377d(0x2b0)][_0x34377d(0x20d)](_0x34ae6c=>_0x34ae6c[_0x34377d(0x590)]!==_0xadcd07['_id'][_0x34377d(0x368)]()),_0x486561[_0x34377d(0x2d3)]=_0x486561[_0x34377d(0x2d3)][_0x34377d(0x20d)](_0x16abb5=>_0x16abb5[_0x34377d(0x590)]!==_0xadcd07[_0x34377d(0x34e)][_0x34377d(0x368)]()),_0x486561[_0x34377d(0x229)]=_0x486561[_0x34377d(0x229)][_0x34377d(0x20d)](_0xe64623=>_0xe64623['blockId']!==_0xadcd07[_0x34377d(0x34e)]['toString']()),this[_0x34377d(0x6ea)](_0x486561['blocks'],_0x19b461[_0x34377d(0x66a)]);}async[a0_0x3656ce(0x1c1)](_0x171c65,_0x83ff2b){const _0x31a69f=a0_0x3656ce;let _0x486626=_0x171c65[_0x31a69f(0x424)][_0x31a69f(0x235)](_0xf216e4=>_0xf216e4[_0x31a69f(0x34e)]['toString']()===_0x83ff2b[_0x31a69f(0x574)][_0x31a69f(0x34e)][_0x31a69f(0x368)]());if(this[_0x31a69f(0x506)][_0x31a69f(0x49e)](this[_0x31a69f(0x3a7)]+'\x20('+this['instance'][_0x31a69f(0x25a)]+_0x31a69f(0x3ce)+_0x486626),_0x486626===-0x1){this[_0x31a69f(0x506)][_0x31a69f(0x49e)](_0x31a69f(0x50a)+_0x83ff2b[_0x31a69f(0x574)][_0x31a69f(0x34e)]+_0x31a69f(0x2f3));return;}if(_0x171c65[_0x31a69f(0x424)][_0x486626]['type']===_0x31a69f(0x46a)){let _0x25a55b=Object['keys'](_0x83ff2b['block']);if(_0x25a55b[_0x31a69f(0x391)]>0x2||_0x25a55b[_0x31a69f(0x391)]===0x2&&!_0x25a55b[_0x31a69f(0x516)](_0x31a69f(0x78b))){this[_0x31a69f(0x1cd)](_0x31a69f(0x671));return;}}let _0x5c8b90=_0x171c65[_0x31a69f(0x424)][_0x486626]['groupId'];for(let _0x527af in _0x83ff2b[_0x31a69f(0x574)])_0x83ff2b['block'][_0x31a69f(0x27e)](_0x527af)&&(_0x171c65['blocks'][_0x486626][_0x527af]=_0x83ff2b[_0x31a69f(0x574)][_0x527af]);if(this[_0x31a69f(0x506)][_0x31a69f(0x49e)](this[_0x31a69f(0x3a7)]+'\x20('+this[_0x31a69f(0x532)][_0x31a69f(0x25a)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x171c65['blocks'][_0x486626])),_0x171c65[_0x31a69f(0x424)][_0x486626][_0x31a69f(0x2b4)]&&_0x31a69f(0x766)in _0x171c65[_0x31a69f(0x424)][_0x486626][_0x31a69f(0x2b4)]){this[_0x31a69f(0x506)][_0x31a69f(0x49e)](this['instanceName']+'\x20('+this[_0x31a69f(0x532)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5c3839=JSON[_0x31a69f(0x4cd)](_0x171c65['blocks'][_0x486626][_0x31a69f(0x2b4)][_0x31a69f(0x766)],null,0x1);_0x5c3839[_0x31a69f(0x391)]>0x2&&(_0x5c3839=_0x5c3839[_0x31a69f(0x5d0)](0x1,_0x5c3839[_0x31a69f(0x391)]-0x1)['trim']()),_0x171c65['blocks'][_0x486626]['apirequest'][_0x31a69f(0x407)]=_0x5c3839;}if(_0x171c65[_0x31a69f(0x424)][_0x486626][_0x31a69f(0x2b4)]&&'body'in _0x171c65[_0x31a69f(0x424)][_0x486626][_0x31a69f(0x2b4)]){this[_0x31a69f(0x506)][_0x31a69f(0x49e)](this[_0x31a69f(0x3a7)]+'\x20('+this[_0x31a69f(0x532)]['wuid']+_0x31a69f(0x4ed));let _0x14af9b=JSON[_0x31a69f(0x4cd)](_0x171c65[_0x31a69f(0x424)][_0x486626][_0x31a69f(0x2b4)][_0x31a69f(0x317)],null,0x1);_0x14af9b['length']>0x2&&(_0x14af9b=_0x14af9b[_0x31a69f(0x5d0)](0x1,_0x14af9b['length']-0x1)[_0x31a69f(0x6a3)]()),_0x171c65[_0x31a69f(0x424)][_0x486626][_0x31a69f(0x2b4)][_0x31a69f(0x3b1)]=_0x14af9b;}let _0x2ee4f7=_0x171c65[_0x31a69f(0x424)][_0x486626][_0x31a69f(0x66a)];_0x5c8b90!==_0x2ee4f7?(this['reorderBlocks'](_0x171c65[_0x31a69f(0x424)],_0x5c8b90),this[_0x31a69f(0x6ea)](_0x171c65[_0x31a69f(0x424)],_0x2ee4f7)):this[_0x31a69f(0x6ea)](_0x171c65['blocks'],_0x5c8b90);}[a0_0x3656ce(0x401)](_0x4661b2,_0x54d63b){const _0x5931c1=a0_0x3656ce;if(_0x54d63b[_0x5931c1(0x574)][_0x5931c1(0x1a6)]===_0x5931c1(0x46a)){this[_0x5931c1(0x1cd)](_0x5931c1(0x44d));return;}if(_0x54d63b['block'][_0x5931c1(0x2b4)]&&_0x5931c1(0x766)in _0x54d63b['block'][_0x5931c1(0x2b4)]){this[_0x5931c1(0x506)][_0x5931c1(0x49e)](this[_0x5931c1(0x3a7)]+'\x20('+this[_0x5931c1(0x532)][_0x5931c1(0x25a)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x30bfc3=JSON[_0x5931c1(0x4cd)](_0x54d63b[_0x5931c1(0x574)][_0x5931c1(0x2b4)]['header'],null,0x1);_0x30bfc3[_0x5931c1(0x391)]>0x2&&(_0x30bfc3=_0x30bfc3['substring'](0x1,_0x30bfc3['length']-0x1)[_0x5931c1(0x6a3)]()),_0x54d63b[_0x5931c1(0x574)][_0x5931c1(0x2b4)][_0x5931c1(0x407)]=_0x30bfc3;}_0x54d63b[_0x5931c1(0x574)]['apirequest']&&_0x5931c1(0x317)in _0x54d63b[_0x5931c1(0x574)]['apirequest']&&(this[_0x5931c1(0x506)][_0x5931c1(0x49e)](this['instanceName']+'\x20('+this[_0x5931c1(0x532)]['wuid']+_0x5931c1(0x4ed)),_0x54d63b[_0x5931c1(0x574)][_0x5931c1(0x2b4)][_0x5931c1(0x3b1)]=JSON[_0x5931c1(0x4cd)](_0x54d63b[_0x5931c1(0x574)][_0x5931c1(0x2b4)][_0x5931c1(0x317)],null,0x1)[_0x5931c1(0x6a3)]()),_0x4661b2['blocks'][_0x5931c1(0x7a1)](_0x54d63b['block']),this[_0x5931c1(0x6ea)](_0x4661b2[_0x5931c1(0x424)],_0x54d63b[_0x5931c1(0x574)][_0x5931c1(0x66a)]);}[a0_0x3656ce(0x6ea)](_0x4ccd39,_0x220f63){const _0x4f7fb8=a0_0x3656ce;let _0x51e16e=_0x4ccd39['filter'](_0x154045=>_0x154045[_0x4f7fb8(0x66a)]===_0x220f63);_0x51e16e['sort']((_0x2bd637,_0x32d9a2)=>_0x2bd637[_0x4f7fb8(0x1ec)]-_0x32d9a2[_0x4f7fb8(0x1ec)]),_0x51e16e[_0x4f7fb8(0x579)]((_0x2a6d54,_0x2f1239)=>_0x2a6d54[_0x4f7fb8(0x1ec)]=_0x2f1239+0x1);}async[a0_0x3656ce(0x1b9)](_0x2e8fd8){const _0x1fd509=a0_0x3656ce;try{if(this[_0x1fd509(0x506)][_0x1fd509(0x49e)](this[_0x1fd509(0x3a7)]+'\x20('+this[_0x1fd509(0x532)][_0x1fd509(0x25a)]+'):\x20Editando\x20replyOption...'),!_0x2e8fd8||!_0x2e8fd8['replyOption']){this[_0x1fd509(0x1cd)](_0x1fd509(0x60a));return;}let _0x4156ea=await this[_0x1fd509(0x1f9)][_0x1fd509(0x2ac)][_0x1fd509(0x166)]({'where':{'name':_0x2e8fd8[_0x1fd509(0x6ba)]}},this[_0x1fd509(0x532)][_0x1fd509(0x25a)]);_0x4156ea||this[_0x1fd509(0x1cd)](_0x1fd509(0x718));let {replyOption:_0x5a211c}=_0x2e8fd8;_0x5a211c?.['delete']?(this[_0x1fd509(0x4e6)](_0x4156ea,_0x2e8fd8),this[_0x1fd509(0x2af)](_0x4156ea[_0x1fd509(0x229)],_0x2e8fd8[_0x1fd509(0x625)][_0x1fd509(0x590)])):_0x5a211c['_id']?(await this['updateReplyOption'](_0x4156ea,_0x2e8fd8),this[_0x1fd509(0x2af)](_0x4156ea['replyOptions'],_0x2e8fd8['replyOption']['blockId'])):(this[_0x1fd509(0x4b7)](_0x4156ea,_0x2e8fd8),this[_0x1fd509(0x2af)](_0x4156ea['replyOptions'],_0x2e8fd8[_0x1fd509(0x625)][_0x1fd509(0x590)]));let _0x168667=await this[_0x1fd509(0x1f9)][_0x1fd509(0x2ac)][_0x1fd509(0x27f)](_0x4156ea[_0x1fd509(0x34e)],_0x4156ea,this[_0x1fd509(0x532)][_0x1fd509(0x25a)]);if(!_0x168667)throw new Error(_0x1fd509(0x2d7));return _0x168667;}catch(_0x13c1bb){this[_0x1fd509(0x1cd)](_0x1fd509(0x1c4)+_0x13c1bb);}}[a0_0x3656ce(0x2af)](_0x4a45c4,_0x2ca9e9){const _0x17ad8d=a0_0x3656ce;console['log'](_0x17ad8d(0x5b6),_0x2ca9e9),_0x4a45c4[_0x17ad8d(0x579)](_0x1c8c89=>{const _0x3c04f4=_0x17ad8d;_0x1c8c89[_0x3c04f4(0x590)]===_0x2ca9e9&&_0x1c8c89[_0x3c04f4(0x1ec)]===void 0x0&&(_0x1c8c89[_0x3c04f4(0x1ec)]=0x270f);});let _0x2c4698=_0x4a45c4[_0x17ad8d(0x20d)](_0x4f7da2=>_0x4f7da2[_0x17ad8d(0x590)]===_0x2ca9e9);_0x2c4698[_0x17ad8d(0x6b3)]((_0x25d9a4,_0x556b53)=>_0x25d9a4[_0x17ad8d(0x1ec)]-_0x556b53[_0x17ad8d(0x1ec)]),_0x2c4698['forEach']((_0x593dad,_0x1ab6bc)=>{_0x593dad['order']=_0x1ab6bc+0x1;}),_0x4a45c4['forEach'](_0x16ef19=>{const _0x290814=_0x17ad8d;if(_0x16ef19[_0x290814(0x590)]===_0x2ca9e9){let _0x327e1b=_0x2c4698[_0x290814(0x285)](_0x4c8764=>_0x4c8764[_0x290814(0x34e)][_0x290814(0x368)]()===_0x16ef19['_id'][_0x290814(0x368)]());_0x327e1b&&(_0x16ef19[_0x290814(0x1ec)]=_0x327e1b['order']);}}),console['log'](_0x17ad8d(0x52d),_0x4a45c4);}[a0_0x3656ce(0x4e6)](_0x1627a8,_0x5be01b){const _0x1ed82a=a0_0x3656ce;let {replyOption:_0x1ad6c0}=_0x5be01b;if(!_0x1ad6c0[_0x1ed82a(0x34e)]){this[_0x1ed82a(0x1cd)](_0x1ed82a(0x6c5));return;}if(!_0x1627a8[_0x1ed82a(0x229)][_0x1ed82a(0x285)](_0x54c434=>_0x54c434[_0x1ed82a(0x34e)][_0x1ed82a(0x368)]()===_0x5be01b[_0x1ed82a(0x625)][_0x1ed82a(0x34e)]['toString']())){this['throwAndLogError'](_0x1ed82a(0x35d)+_0x1ad6c0[_0x1ed82a(0x34e)]+_0x1ed82a(0x4db));return;}_0x1627a8[_0x1ed82a(0x229)]=_0x1627a8[_0x1ed82a(0x229)][_0x1ed82a(0x20d)](_0x465b5e=>_0x465b5e[_0x1ed82a(0x34e)][_0x1ed82a(0x368)]()!==_0x5be01b[_0x1ed82a(0x625)]['_id'][_0x1ed82a(0x368)]());}async[a0_0x3656ce(0x215)](_0x13246c,_0x232c57){const _0x3e7671=a0_0x3656ce;let _0x2bb93e=_0x13246c['replyOptions'][_0x3e7671(0x235)](_0x551f8f=>_0x551f8f[_0x3e7671(0x34e)]['toString']()===_0x232c57[_0x3e7671(0x625)][_0x3e7671(0x34e)][_0x3e7671(0x368)]());if(_0x2bb93e===-0x1){this[_0x3e7671(0x1cd)](_0x3e7671(0x35d)+_0x232c57[_0x3e7671(0x625)][_0x3e7671(0x34e)]+_0x3e7671(0x2f3));return;}for(let _0x3b475a in _0x232c57['replyOption'])_0x232c57[_0x3e7671(0x625)]['hasOwnProperty'](_0x3b475a)&&(_0x13246c['replyOptions'][_0x2bb93e][_0x3b475a]=_0x232c57[_0x3e7671(0x625)][_0x3b475a]);}['addReplyOption'](_0xda465f,_0x349839){const _0x4d8a74=a0_0x3656ce;_0xda465f[_0x4d8a74(0x229)][_0x4d8a74(0x7a1)](_0x349839[_0x4d8a74(0x625)]);}async[a0_0x3656ce(0x418)](_0x39463e){const _0x1fa2e5=a0_0x3656ce;this['logger'][_0x1fa2e5(0x49e)](this[_0x1fa2e5(0x3a7)]+'\x20('+this[_0x1fa2e5(0x532)][_0x1fa2e5(0x25a)]+_0x1fa2e5(0x464)+_0x39463e);try{this['logger']['verbose'](this[_0x1fa2e5(0x3a7)]+'\x20('+this['instance'][_0x1fa2e5(0x25a)]+_0x1fa2e5(0x224));let _0x396adb=await this['repository']['flow']['findOne']({'where':{'name':_0x39463e['name']}},this[_0x1fa2e5(0x532)][_0x1fa2e5(0x25a)]);if(!_0x396adb)throw new Error(_0x1fa2e5(0x718));if(_0x39463e[_0x1fa2e5(0x74b)]&&_0x39463e[_0x1fa2e5(0x74b)]?.['delete']===!0x0){if(this[_0x1fa2e5(0x506)]['verbose'](this[_0x1fa2e5(0x3a7)]+'\x20('+this[_0x1fa2e5(0x532)][_0x1fa2e5(0x25a)]+'):\x20delete\x20=\x20true'),_0x39463e[_0x1fa2e5(0x74b)][_0x1fa2e5(0x3d0)]===!0x0)return{'message':_0x1fa2e5(0x58c)};if(_0x396adb[_0x1fa2e5(0x424)][_0x1fa2e5(0x487)](_0x31a934=>_0x31a934[_0x1fa2e5(0x66a)][_0x1fa2e5(0x368)]()===_0x39463e[_0x1fa2e5(0x74b)][_0x1fa2e5(0x34e)]))return this[_0x1fa2e5(0x506)]['verbose'](this[_0x1fa2e5(0x3a7)]+'\x20('+this[_0x1fa2e5(0x532)][_0x1fa2e5(0x25a)]+_0x1fa2e5(0x5dd)),{'message':_0x1fa2e5(0x709)};_0x396adb[_0x1fa2e5(0x575)]=_0x396adb['groups'][_0x1fa2e5(0x20d)](_0x11c2f3=>_0x11c2f3[_0x1fa2e5(0x34e)][_0x1fa2e5(0x368)]()!==_0x39463e[_0x1fa2e5(0x74b)][_0x1fa2e5(0x34e)]);}else{if(_0x39463e['group']){if(_0x39463e['group'][_0x1fa2e5(0x3d0)]===!0x0)return{'message':_0x1fa2e5(0x413)};if(_0x39463e[_0x1fa2e5(0x74b)]['_id']){let _0x161766=_0x396adb['groups']['find'](_0x362596=>_0x362596[_0x1fa2e5(0x34e)][_0x1fa2e5(0x368)]()===_0x39463e['group']['_id']);_0x161766&&(_0x39463e[_0x1fa2e5(0x74b)]['x']<0x0&&(_0x39463e[_0x1fa2e5(0x74b)]['x']=0x0),_0x39463e[_0x1fa2e5(0x74b)]['y']<0x0&&(_0x39463e[_0x1fa2e5(0x74b)]['y']=0x0),Object[_0x1fa2e5(0x4f7)](_0x161766,_0x39463e[_0x1fa2e5(0x74b)]));}else _0x396adb['groups'][_0x1fa2e5(0x7a1)](_0x39463e['group']);}}let _0x584e56=await this[_0x1fa2e5(0x1f9)]['flow'][_0x1fa2e5(0x27f)](_0x396adb[_0x1fa2e5(0x34e)],_0x396adb,this[_0x1fa2e5(0x532)][_0x1fa2e5(0x25a)]);if(!_0x584e56)throw new Error(_0x1fa2e5(0x2d7));return _0x584e56;}catch(_0x40dba2){throw this[_0x1fa2e5(0x506)][_0x1fa2e5(0x417)](this[_0x1fa2e5(0x3a7)]+'\x20('+this[_0x1fa2e5(0x532)][_0x1fa2e5(0x25a)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x40dba2 instanceof Error?_0x40dba2[_0x1fa2e5(0x2a2)]:JSON[_0x1fa2e5(0x4cd)](_0x40dba2,null,0x2))),new h(_0x1fa2e5(0x68d)+(_0x40dba2 instanceof Error?_0x40dba2[_0x1fa2e5(0x2a2)]:JSON[_0x1fa2e5(0x4cd)](_0x40dba2,null,0x2)));}}async[a0_0x3656ce(0x520)](_0x2b6370){const _0x39031e=a0_0x3656ce;try{this[_0x39031e(0x506)][_0x39031e(0x49e)](this['instanceName']+'\x20('+this['instance'][_0x39031e(0x25a)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0xe48fbf=await this[_0x39031e(0x1f9)][_0x39031e(0x2ac)][_0x39031e(0x166)]({'where':{'name':_0x2b6370['name']}},this[_0x39031e(0x532)]['wuid']);if(!_0xe48fbf)throw new Error(_0x39031e(0x718));let _0x4e3769=!0x1;if(_0x2b6370[_0x39031e(0x28b)]?.[_0x39031e(0x27c)]===!0x0)_0xe48fbf[_0x39031e(0x2b0)]=_0xe48fbf[_0x39031e(0x2b0)]['filter'](_0x352104=>_0x352104&&_0x2b6370[_0x39031e(0x28b)]&&_0x352104[_0x39031e(0x34e)]&&_0x2b6370[_0x39031e(0x28b)]['_id']&&_0x352104['_id'][_0x39031e(0x368)]()!==_0x2b6370[_0x39031e(0x28b)][_0x39031e(0x34e)][_0x39031e(0x368)]()),_0x4e3769=!0x0;else{let _0x172e59=_0xe48fbf[_0x39031e(0x2b0)][_0x39031e(0x285)](_0x2b45a4=>_0x2b45a4&&_0x2b6370[_0x39031e(0x28b)]&&_0x2b45a4[_0x39031e(0x34e)]&&_0x2b6370[_0x39031e(0x28b)][_0x39031e(0x34e)]&&_0x2b45a4[_0x39031e(0x34e)][_0x39031e(0x368)]()===_0x2b6370['condition']['_id'][_0x39031e(0x368)]());_0x172e59?(_0x4e3769=_0x172e59['order']!==_0x2b6370[_0x39031e(0x28b)]['order'],Object[_0x39031e(0x4f7)](_0x172e59,_0x2b6370['condition'])):(_0xe48fbf['conditions'][_0x39031e(0x7a1)](_0x2b6370[_0x39031e(0x28b)]),_0x4e3769=!0x0);}if(_0x4e3769){_0xe48fbf['conditions'][_0x39031e(0x6b3)]((_0x3e3294,_0x248bea)=>_0x3e3294[_0x39031e(0x1ec)]>_0x248bea[_0x39031e(0x1ec)]?0x1:_0x248bea[_0x39031e(0x1ec)]>_0x3e3294[_0x39031e(0x1ec)]?-0x1:0x0);for(let _0x7674f8=0x0;_0x7674f8<_0xe48fbf[_0x39031e(0x2b0)][_0x39031e(0x391)];_0x7674f8++)_0xe48fbf[_0x39031e(0x2b0)][_0x7674f8][_0x39031e(0x1ec)]=_0x7674f8+0x1;_0xe48fbf['conditions'][_0x39031e(0x391)]>0x0&&(_0xe48fbf[_0x39031e(0x2b0)][0x0][_0x39031e(0x1e9)]=_0x39031e(0x44b));}let _0x2c669c=await this['repository'][_0x39031e(0x2ac)]['updateOne'](_0xe48fbf[_0x39031e(0x34e)],_0xe48fbf,this[_0x39031e(0x532)][_0x39031e(0x25a)]);if(!_0x2c669c)throw new Error(_0x39031e(0x2d7));return _0x2c669c;}catch(_0x2aab11){throw this[_0x39031e(0x506)][_0x39031e(0x417)](this['instanceName']+'\x20('+this[_0x39031e(0x532)][_0x39031e(0x25a)]+_0x39031e(0x190)+(_0x2aab11 instanceof Error?_0x2aab11[_0x39031e(0x2a2)]:JSON[_0x39031e(0x4cd)](_0x2aab11,null,0x2))),new Error(_0x39031e(0x5ea)+(_0x2aab11 instanceof Error?_0x2aab11[_0x39031e(0x2a2)]:JSON[_0x39031e(0x4cd)](_0x2aab11,null,0x2)));}}async[a0_0x3656ce(0x452)](_0x51d2c0){const _0x11641b=a0_0x3656ce;try{this['logger'][_0x11641b(0x49e)](this[_0x11641b(0x3a7)]+'\x20('+this[_0x11641b(0x532)][_0x11641b(0x25a)]+_0x11641b(0x246));let _0x20d0ea=await this[_0x11641b(0x1f9)][_0x11641b(0x2ac)][_0x11641b(0x166)]({'where':{'name':_0x51d2c0[_0x11641b(0x6ba)]}},this[_0x11641b(0x532)][_0x11641b(0x25a)]);if(!_0x20d0ea)throw new Error(_0x11641b(0x718));let _0x37f4ca=!0x1;if(_0x51d2c0[_0x11641b(0x2a3)]?.['delete']===!0x0)_0x20d0ea[_0x11641b(0x2d3)]=_0x20d0ea[_0x11641b(0x2d3)][_0x11641b(0x20d)](_0x3dfea8=>_0x3dfea8&&_0x51d2c0['varedit']&&_0x3dfea8[_0x11641b(0x34e)]&&_0x51d2c0[_0x11641b(0x2a3)][_0x11641b(0x34e)]&&_0x3dfea8['_id']['toString']()!==_0x51d2c0[_0x11641b(0x2a3)]['_id'][_0x11641b(0x368)]()),_0x37f4ca=!0x0;else{let _0x37a500=_0x20d0ea[_0x11641b(0x2d3)][_0x11641b(0x285)](_0x1e7691=>_0x1e7691&&_0x51d2c0['varedit']&&_0x1e7691['_id']&&_0x51d2c0[_0x11641b(0x2a3)][_0x11641b(0x34e)]&&_0x1e7691['_id']['toString']()===_0x51d2c0[_0x11641b(0x2a3)][_0x11641b(0x34e)][_0x11641b(0x368)]());_0x37a500?(_0x37f4ca=_0x37a500[_0x11641b(0x1ec)]!==_0x51d2c0[_0x11641b(0x2a3)][_0x11641b(0x1ec)],Object[_0x11641b(0x4f7)](_0x37a500,_0x51d2c0[_0x11641b(0x2a3)])):(_0x20d0ea[_0x11641b(0x2d3)][_0x11641b(0x7a1)](_0x51d2c0[_0x11641b(0x2a3)]),_0x37f4ca=!0x0);}if(_0x37f4ca){_0x20d0ea[_0x11641b(0x2d3)][_0x11641b(0x6b3)]((_0x2712e1,_0x1f20e7)=>_0x2712e1[_0x11641b(0x1ec)]>_0x1f20e7[_0x11641b(0x1ec)]?0x1:_0x1f20e7[_0x11641b(0x1ec)]>_0x2712e1['order']?-0x1:0x0);for(let _0x2e2b0b=0x0;_0x2e2b0b<_0x20d0ea[_0x11641b(0x2d3)][_0x11641b(0x391)];_0x2e2b0b++)_0x20d0ea[_0x11641b(0x2d3)][_0x2e2b0b][_0x11641b(0x1ec)]=_0x2e2b0b+0x1;}let _0x199987=await this[_0x11641b(0x1f9)]['flow'][_0x11641b(0x27f)](_0x20d0ea[_0x11641b(0x34e)],_0x20d0ea,this[_0x11641b(0x532)][_0x11641b(0x25a)]);if(!_0x199987)throw new Error(_0x11641b(0x2d7));return _0x199987;}catch(_0x1b6b5b){throw this[_0x11641b(0x506)][_0x11641b(0x417)](this[_0x11641b(0x3a7)]+'\x20('+this[_0x11641b(0x532)]['wuid']+_0x11641b(0x190)+(_0x1b6b5b instanceof Error?_0x1b6b5b[_0x11641b(0x2a2)]:JSON[_0x11641b(0x4cd)](_0x1b6b5b,null,0x2))),new h(_0x11641b(0x5ea)+(_0x1b6b5b instanceof Error?_0x1b6b5b[_0x11641b(0x2a2)]:JSON[_0x11641b(0x4cd)](_0x1b6b5b,null,0x2)));}}async['editFlowVariable'](_0x3cb841){const _0x36fe79=a0_0x3656ce;try{this[_0x36fe79(0x506)]['verbose'](this[_0x36fe79(0x3a7)]+'\x20('+this[_0x36fe79(0x532)][_0x36fe79(0x25a)]+_0x36fe79(0x62d));let _0x275f20=await this['repository'][_0x36fe79(0x2ac)][_0x36fe79(0x166)]({'where':{'name':_0x3cb841[_0x36fe79(0x6ba)]}},this[_0x36fe79(0x532)][_0x36fe79(0x25a)]);if(!_0x275f20)throw new Error(_0x36fe79(0x718));_0x3cb841[_0x36fe79(0x23d)][_0x36fe79(0x6ba)]=_0x3cb841['variable'][_0x36fe79(0x6ba)][_0x36fe79(0x6a3)](),_0x3cb841[_0x36fe79(0x23d)]['name'][_0x36fe79(0x1fc)]('_')&&(_0x3cb841['variable'][_0x36fe79(0x6ba)]=_0x3cb841['variable'][_0x36fe79(0x6ba)][_0x36fe79(0x5d0)](0x1)),_0x3cb841[_0x36fe79(0x23d)]['name']=_0x3cb841[_0x36fe79(0x23d)][_0x36fe79(0x6ba)][_0x36fe79(0x6a3)]();let _0x2dec18=_0x275f20[_0x36fe79(0x480)][_0x36fe79(0x285)](_0x1e619a=>_0x1e619a[_0x36fe79(0x6ba)]===_0x3cb841['variable'][_0x36fe79(0x6ba)]);if(_0x2dec18?.[_0x36fe79(0x3f3)]===!0x0)throw new Error(_0x36fe79(0x4fd));if(_0x3cb841['variable']?.[_0x36fe79(0x27c)]===!0x0){if(!_0x2dec18)return{'message':'Variável\x20não\x20encontrada!'};_0x275f20[_0x36fe79(0x480)]=_0x275f20[_0x36fe79(0x480)][_0x36fe79(0x20d)](_0x7c9e=>_0x7c9e[_0x36fe79(0x6ba)]!==_0x3cb841[_0x36fe79(0x23d)]['name']);}else _0x2dec18?Object[_0x36fe79(0x4f7)](_0x2dec18,_0x3cb841[_0x36fe79(0x23d)]):_0x275f20['variables']['push'](_0x3cb841[_0x36fe79(0x23d)]);let _0x23d065=await this[_0x36fe79(0x1f9)][_0x36fe79(0x2ac)][_0x36fe79(0x27f)](_0x275f20['_id'],_0x275f20,this[_0x36fe79(0x532)][_0x36fe79(0x25a)]);if(!_0x23d065)throw new Error(_0x36fe79(0x2d7));return _0x23d065;}catch(_0x5c4f0f){throw this[_0x36fe79(0x506)][_0x36fe79(0x417)](this[_0x36fe79(0x3a7)]+'\x20('+this['instance'][_0x36fe79(0x25a)]+_0x36fe79(0x583)+(_0x5c4f0f instanceof Error?_0x5c4f0f[_0x36fe79(0x2a2)]:JSON[_0x36fe79(0x4cd)](_0x5c4f0f,null,0x2))),new h(_0x36fe79(0x730)+(_0x5c4f0f instanceof Error?_0x5c4f0f[_0x36fe79(0x2a2)]:JSON['stringify'](_0x5c4f0f,null,0x2)));}}async[a0_0x3656ce(0x1f5)](_0x5eb37d){const _0x573565=a0_0x3656ce;let _0x2fcf17=null;try{if(!this[_0x573565(0x573)]?.['flowConfig'][_0x573565(0x3b0)])throw new h(_0x573565(0x276));this[_0x573565(0x506)][_0x573565(0x49e)](this['instanceName']+'\x20('+this[_0x573565(0x532)]['wuid']+_0x573565(0x23a));let _0x5347ce=(await this[_0x573565(0x2c3)]({'numbers':[_0x5eb37d[_0x573565(0x628)]]}))[0x0];if(!_0x5347ce['exists']&&!(0x0,w[_0x573565(0x586)])(_0x5347ce[_0x573565(0x29c)])&&!_0x5347ce[_0x573565(0x29c)][_0x573565(0x516)](_0x573565(0x5c9)))throw _0x2fcf17=JSON[_0x573565(0x4cd)](_0x5347ce,null,0x2),new h(_0x5347ce);let _0x5b6d71=await this['repository'][_0x573565(0x2ac)][_0x573565(0x166)]({'where':{'name':_0x5eb37d[_0x573565(0x6ba)]}},this['instance']['wuid']);if(!_0x5b6d71)return this[_0x573565(0x506)][_0x573565(0x417)](this[_0x573565(0x3a7)]+'\x20('+this[_0x573565(0x532)][_0x573565(0x25a)]+_0x573565(0x54f)),{'message':'Flow\x20não\x20encontrado'};let _0x9c9aab=await this[_0x573565(0x725)](_0x5b6d71,_0x5347ce['jid'],_0x5eb37d[_0x573565(0x5e7)]);if(_0x9c9aab){this['logger'][_0x573565(0x49e)](this['instanceName']+'\x20('+this[_0x573565(0x532)][_0x573565(0x25a)]+_0x573565(0x1a5));let _0x2f3956=await this['NextBlock'](_0x9c9aab);return _0x2f3956&&await this[_0x573565(0x382)](_0x9c9aab,_0x2f3956),{'message':'Flow\x20iniciado\x20com\x20'+_0x5eb37d[_0x573565(0x628)]};}}catch(_0x23b278){if(this['logger'][_0x573565(0x417)](this[_0x573565(0x3a7)]+'\x20('+this[_0x573565(0x532)][_0x573565(0x25a)]+_0x573565(0x6e2)+(_0x23b278 instanceof Error?_0x23b278[_0x573565(0x2a2)]:JSON['stringify'](_0x23b278,null,0x2))),_0x2fcf17=_0x23b278 instanceof Error?_0x23b278[_0x573565(0x2a2)]:JSON['stringify'](_0x23b278,null,0x2),_0x2fcf17)throw new h(_0x573565(0x503)+_0x2fcf17);}}async['closeExistingConversations'](_0x423186){const _0x4faa3e=a0_0x3656ce;try{let _0x3ce9d6={'remoteJid':_0x423186,'status':_0x4faa3e(0x2ff)},_0x5ebd63={'status':_0x4faa3e(0x477)},_0xdb9478=await this['repository']['flowConversation']['updateMany'](_0x3ce9d6,_0x5ebd63,this[_0x4faa3e(0x532)][_0x4faa3e(0x25a)]);return this[_0x4faa3e(0x506)]['verbose'](this[_0x4faa3e(0x3a7)]+'\x20('+this[_0x4faa3e(0x532)][_0x4faa3e(0x25a)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0xdb9478;}catch(_0x57a6e1){throw this[_0x4faa3e(0x506)][_0x4faa3e(0x417)](this[_0x4faa3e(0x3a7)]+'\x20('+this[_0x4faa3e(0x532)][_0x4faa3e(0x25a)]+_0x4faa3e(0x691)+_0x57a6e1[_0x4faa3e(0x2a2)]),_0x57a6e1;}}async[a0_0x3656ce(0x725)](_0x37db62,_0x45dad9,_0x293623){const _0x49e066=a0_0x3656ce;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x49e066(0x532)][_0x49e066(0x25a)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x49e066(0x6c8)](_0x45dad9);try{let _0x54320f=require(_0x49e066(0x67f))[_0x49e066(0x209)],_0x28187a=Date[_0x49e066(0x715)](),_0x5aafd5=_0x49e066(0x46a),_0x148259={},_0x38794e={},_0x478c62={..._0x37db62,'chatLog':null},_0xccbf35=await this[_0x49e066(0x61f)](_0x478c62[_0x49e066(0x480)]),_0xefd7e=await this['getVariablesChat'](_0x45dad9),_0x5ac470={..._0xccbf35,..._0xefd7e,'_remoteJid':_0x45dad9},_0x1fc7c0={'lastReceivedMessage':_0x148259,'lastSendMessage':_0x38794e,'lastBlockId':_0x5aafd5,'lastCondition':!0x0,'realVariables':_0x5ac470};_0x478c62[_0x49e066(0x165)]=_0x1fc7c0,_0x478c62[_0x49e066(0x165)][_0x49e066(0x3b4)]={..._0x5ac470,..._0x293623},delete _0x478c62[_0x49e066(0x34e)],_0x478c62[_0x49e066(0x34e)]=new _0x54320f(),_0x478c62[_0x49e066(0x15e)]=_0x28187a,_0x478c62[_0x49e066(0x6b6)]=_0x49e066(0x2ff),_0x478c62[_0x49e066(0x628)]=_0x45dad9;let _0x22c926=await this['repository'][_0x49e066(0x5cd)][_0x49e066(0x27f)](_0x478c62['_id'],_0x478c62,this[_0x49e066(0x532)][_0x49e066(0x25a)]);return this['logger'][_0x49e066(0x49e)](this[_0x49e066(0x3a7)]+'\x20('+this[_0x49e066(0x532)][_0x49e066(0x25a)]+_0x49e066(0x5a4)),_0x22c926?_0x478c62:null;}catch(_0x486f16){throw this[_0x49e066(0x506)][_0x49e066(0x417)](this[_0x49e066(0x3a7)]+'\x20('+this[_0x49e066(0x532)][_0x49e066(0x25a)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x486f16 instanceof Error?_0x486f16[_0x49e066(0x2a2)]:JSON['stringify'](_0x486f16,null,0x2))),new h(_0x486f16['message']);}}async['getConversation'](_0x3d25bb){const _0x405c23=a0_0x3656ce;try{this[_0x405c23(0x506)]['verbose'](this[_0x405c23(0x3a7)]+'\x20('+this['instance'][_0x405c23(0x25a)]+_0x405c23(0x5dc)),this[_0x405c23(0x506)]['verbose'](this[_0x405c23(0x3a7)]+'\x20('+this[_0x405c23(0x532)]['wuid']+'):\x20Query\x20params:\x20'+_0x3d25bb);let _0x134a68={'where':{'_id':_0x3d25bb}};return await this[_0x405c23(0x1f9)][_0x405c23(0x5cd)][_0x405c23(0x166)](_0x134a68,this[_0x405c23(0x532)]['wuid']);}catch(_0x58f07e){throw this[_0x405c23(0x506)][_0x405c23(0x417)](this[_0x405c23(0x3a7)]+'\x20('+this[_0x405c23(0x532)][_0x405c23(0x25a)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x58f07e instanceof Error?_0x58f07e[_0x405c23(0x2a2)]:JSON[_0x405c23(0x4cd)](_0x58f07e,null,0x2))),new h('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x58f07e['message']);}}async[a0_0x3656ce(0x1c0)](_0x3bf1ec,_0xe7bd25=0x64){const _0x5f3280=a0_0x3656ce;try{return this['logger'][_0x5f3280(0x49e)](this[_0x5f3280(0x3a7)]+'\x20('+this[_0x5f3280(0x532)][_0x5f3280(0x25a)]+_0x5f3280(0x6ed)),await this[_0x5f3280(0x1f9)][_0x5f3280(0x5cd)][_0x5f3280(0x285)](_0x3bf1ec,this[_0x5f3280(0x532)]['wuid']);}catch(_0x12bf00){throw this[_0x5f3280(0x506)][_0x5f3280(0x417)](this[_0x5f3280(0x3a7)]+'\x20('+this[_0x5f3280(0x532)]['wuid']+_0x5f3280(0x2ef)+(_0x12bf00 instanceof Error?_0x12bf00[_0x5f3280(0x2a2)]:JSON[_0x5f3280(0x4cd)](_0x12bf00,null,0x2))),new h(_0x5f3280(0x648)+_0x12bf00['message']);}}async[a0_0x3656ce(0x18e)](_0x274195){const _0xadaf4c=a0_0x3656ce;try{return this[_0xadaf4c(0x506)]['verbose'](this['instanceName']+'\x20('+this[_0xadaf4c(0x532)][_0xadaf4c(0x25a)]+'):\x20Deletando\x20conversa...'),this[_0xadaf4c(0x506)]['verbose'](this[_0xadaf4c(0x3a7)]+'\x20('+this[_0xadaf4c(0x532)][_0xadaf4c(0x25a)]+_0xadaf4c(0x68e)+_0x274195),(await this[_0xadaf4c(0x1f9)]['flowConversation']['deleteOne']({'where':{'_id':_0x274195}},this[_0xadaf4c(0x532)][_0xadaf4c(0x25a)]))[_0xadaf4c(0x5fa)]===0x0?{'message':_0xadaf4c(0x214)}:{'message':_0xadaf4c(0x656)};}catch(_0x5882bd){throw this['logger']['error'](this[_0xadaf4c(0x3a7)]+'\x20('+this['instance']['wuid']+_0xadaf4c(0x24e)+(_0x5882bd instanceof Error?_0x5882bd[_0xadaf4c(0x2a2)]:JSON['stringify'](_0x5882bd,null,0x2))),new h(_0xadaf4c(0x19b)+_0x5882bd[_0xadaf4c(0x2a2)]);}}async[a0_0x3656ce(0x771)](_0x217bac){const _0x2ca21e=a0_0x3656ce;try{let {_id:_0x4fb114,chatLog:_0x42e79a,status:_0x511909}=_0x217bac;if(!_0x4fb114)return{'message':_0x2ca21e(0x6b2)};let _0x1d0470={};if(_0x511909!==void 0x0&&(_0x1d0470[_0x2ca21e(0x6b6)]=_0x511909),Object[_0x2ca21e(0x1aa)](_0x1d0470)[_0x2ca21e(0x391)]===0x0)return{'message':_0x2ca21e(0x206)};let _0x106460=await this[_0x2ca21e(0x1f9)][_0x2ca21e(0x5cd)]['updateOne'](_0x4fb114,_0x1d0470,this[_0x2ca21e(0x532)][_0x2ca21e(0x25a)]);return _0x106460||{'message':_0x2ca21e(0x3b3)};}catch(_0x2e4847){throw this['logger'][_0x2ca21e(0x417)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+(_0x2e4847 instanceof Error?_0x2e4847[_0x2ca21e(0x2a2)]:JSON[_0x2ca21e(0x4cd)](_0x2e4847,null,0x2))),new h('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x2e4847[_0x2ca21e(0x2a2)]);}}async[a0_0x3656ce(0x606)](_0x12d657){const _0x13e48c=a0_0x3656ce;try{_0x12d657[_0x13e48c(0x34e)]=this['createJid'](_0x12d657['_id']);let {_id:_0x4be933,leadInfo:_0x406b76}=_0x12d657;if(!_0x4be933)throw new Error(_0x13e48c(0x6ca));let _0x49078c=(_0x35d6c4,_0xf278b5,_0x1f3208)=>{const _0x1ba8ef=_0x13e48c;_0x1f3208[_0x1ba8ef(0x579)](_0x304638=>{const _0x155a11=_0x1ba8ef;_0x35d6c4[_0x304638]!==void 0x0&&(_0xf278b5[_0x155a11(0x729)+_0x304638]=_0x35d6c4[_0x304638]);});},_0x29f694={};if(_0x49078c(_0x406b76,_0x29f694,[_0x13e48c(0x5d6),'nomecompleto',_0x13e48c(0x566),_0x13e48c(0x51b),_0x13e48c(0x6b6),_0x13e48c(0x4d2),_0x13e48c(0x19e),_0x13e48c(0x4b2),_0x13e48c(0x4ab)]),Array[_0x13e48c(0x604)](_0x406b76[_0x13e48c(0x22c)])&&(_0x29f694[_0x13e48c(0x62b)]=_0x406b76[_0x13e48c(0x22c)][_0x13e48c(0x568)](_0x1027cd=>({'_id':_0x1027cd['_id'],'value':_0x1027cd[_0x13e48c(0x685)]}))),_0x12d657[_0x13e48c(0x3f3)][_0x13e48c(0x631)]!==void 0x0&&(_0x29f694['leadInfo.desativadoFluxoAte']=Number(_0x12d657[_0x13e48c(0x3f3)][_0x13e48c(0x631)])),_0x12d657[_0x13e48c(0x415)]!==void 0x0&&(_0x29f694[_0x13e48c(0x415)]=Number(_0x12d657['unreadcount'])),Object[_0x13e48c(0x1aa)](_0x29f694)[_0x13e48c(0x391)]===0x0)throw new Error(_0x13e48c(0x206));let _0x52b6a8=await this[_0x13e48c(0x1f9)][_0x13e48c(0x497)][_0x13e48c(0x166)]({'where':{'_id':_0x12d657[_0x13e48c(0x34e)]}},this['instance']['wuid']);if(!_0x52b6a8){let _0x4b7c7b=(await this[_0x13e48c(0x2c3)]({'numbers':[_0x12d657['_id']]}))[0x0];if(!_0x4b7c7b[_0x13e48c(0x21b)]&&!(0x0,w['isJidGroup'])(_0x4b7c7b[_0x13e48c(0x29c)])&&!_0x4b7c7b[_0x13e48c(0x29c)]['includes'](_0x13e48c(0x5c9)))throw new h(_0x4b7c7b);_0x12d657[_0x13e48c(0x34e)]=_0x4b7c7b[_0x13e48c(0x29c)];}if(_0x12d657[_0x13e48c(0x468)]!==void 0x0){let _0x2ed69f=await this[_0x13e48c(0x1f9)]['label'][_0x13e48c(0x285)]({'where':{}},this['instance']['wuid']),_0x119d98=new Set(_0x52b6a8[_0x13e48c(0x468)]||[]),_0x2641c2=new Set(_0x12d657['labels']),_0x136ab1=new Set(_0x2ed69f[_0x13e48c(0x568)](_0x218ff9=>_0x218ff9[_0x13e48c(0x34e)])),_0x3779da=[..._0x2641c2]['filter'](_0x5ae645=>!_0x119d98[_0x13e48c(0x75a)](_0x5ae645)&&_0x136ab1[_0x13e48c(0x75a)](_0x5ae645)),_0x17e051=[..._0x119d98][_0x13e48c(0x20d)](_0x3bde68=>!_0x2641c2[_0x13e48c(0x75a)](_0x3bde68));for(let _0x3c0208 of _0x3779da)await this[_0x13e48c(0x633)](_0x3c0208,_0x12d657[_0x13e48c(0x34e)]),_0x119d98[_0x13e48c(0x4da)](_0x3c0208);for(let _0x12fa19 of _0x17e051)await this['RemoveChatLabel'](_0x12fa19,_0x12d657[_0x13e48c(0x34e)]),_0x119d98[_0x13e48c(0x27c)](_0x12fa19);_0x29f694[_0x13e48c(0x468)]=[..._0x119d98];}let _0x3fc70d=await this[_0x13e48c(0x1f9)][_0x13e48c(0x497)][_0x13e48c(0x27f)]({'where':{'_id':_0x12d657[_0x13e48c(0x34e)]}},_0x29f694,this[_0x13e48c(0x532)]['wuid']);return _0x3fc70d&&j(this[_0x13e48c(0x3a7)],_0x13e48c(0x195),{'chat':_0x3fc70d}),_0x3fc70d?(this[_0x13e48c(0x506)][_0x13e48c(0x49e)](this[_0x13e48c(0x3a7)]+'\x20('+this['instance'][_0x13e48c(0x25a)]+_0x13e48c(0x478)+JSON['stringify'](_0x3fc70d,null,0x2)),_0x3fc70d):{'message':_0x13e48c(0x4dc)};}catch(_0x57d900){throw this[_0x13e48c(0x506)]['error'](this[_0x13e48c(0x3a7)]+'\x20('+this['instance'][_0x13e48c(0x25a)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+(_0x57d900 instanceof Error?_0x57d900['message']:JSON[_0x13e48c(0x4cd)](_0x57d900,null,0x2))),new h('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x57d900['message']);}}async[a0_0x3656ce(0x633)](_0x5df4ff,_0x5c75c1){const _0x24fa08=a0_0x3656ce;try{await this[_0x24fa08(0x543)][_0x24fa08(0x7a0)](_0x5c75c1,_0x5df4ff),console['log'](_0x24fa08(0x6d4)+_0x5df4ff+_0x24fa08(0x174)+_0x5c75c1+_0x24fa08(0x64e));}catch(_0x1432b1){console[_0x24fa08(0x417)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x5df4ff+'\x20ao\x20chat\x20'+_0x5c75c1+':',_0x1432b1);}}async[a0_0x3656ce(0x75b)](_0x571851,_0x20f086){const _0x201a3d=a0_0x3656ce;try{await this[_0x201a3d(0x543)][_0x201a3d(0x5a1)](_0x20f086,_0x571851),console[_0x201a3d(0x16d)](_0x201a3d(0x6d4)+_0x571851+_0x201a3d(0x5c5)+_0x20f086+'\x20com\x20sucesso.');}catch(_0x2fc536){console[_0x201a3d(0x417)](_0x201a3d(0x1b6)+_0x571851+'\x20do\x20chat\x20'+_0x20f086+':',_0x2fc536);}}async[a0_0x3656ce(0x459)](_0x2cc285){const _0x30dbfb=a0_0x3656ce;try{let _0x553e80=await this[_0x30dbfb(0x1f9)][_0x30dbfb(0x35e)]['findOrCreate'](this[_0x30dbfb(0x532)][_0x30dbfb(0x25a)]),_0xfd5f50=_0x2cc285[_0x30dbfb(0x34e)]?_0x553e80['agents'][_0x30dbfb(0x235)](_0x11e80e=>_0x11e80e[_0x30dbfb(0x34e)]===_0x2cc285[_0x30dbfb(0x34e)]):-0x1;if(_0x2cc285['delete']&&_0xfd5f50>-0x1)_0x553e80[_0x30dbfb(0x45e)][_0x30dbfb(0x26a)](_0xfd5f50,0x1);else{if(_0xfd5f50>-0x1){let _0x1bc558=_0x553e80[_0x30dbfb(0x45e)][_0xfd5f50];_0x2cc285[_0x30dbfb(0x49a)]&&(_0x1bc558['fone']=_0x2cc285[_0x30dbfb(0x49a)]),_0x2cc285[_0x30dbfb(0x6ba)]&&(_0x1bc558[_0x30dbfb(0x6ba)]=_0x2cc285[_0x30dbfb(0x6ba)]),_0x2cc285[_0x30dbfb(0x566)]&&(_0x1bc558[_0x30dbfb(0x566)]=_0x2cc285['email']),_0x2cc285[_0x30dbfb(0x4a0)]&&(_0x1bc558[_0x30dbfb(0x4a0)]=_0x2cc285[_0x30dbfb(0x4a0)]);}else _0x553e80[_0x30dbfb(0x45e)][_0x30dbfb(0x7a1)]({'_id':_0x2cc285['_id']||new ie[(_0x30dbfb(0x3d0))]['Types'][(_0x30dbfb(0x209))]()['toString'](),'fone':_0x2cc285[_0x30dbfb(0x49a)],'name':_0x2cc285[_0x30dbfb(0x6ba)],'email':_0x2cc285[_0x30dbfb(0x566)],'role':_0x2cc285['role']});}let _0x416284={'agents':_0x553e80['agents']},_0x4cfe87=await this['repository'][_0x30dbfb(0x35e)][_0x30dbfb(0x458)](_0x416284,this['instance']['wuid']);return this[_0x30dbfb(0x573)]=_0x4cfe87,this[_0x30dbfb(0x506)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x30dbfb(0x25a)]+_0x30dbfb(0x1e4)),this[_0x30dbfb(0x506)]['verbose'](this[_0x30dbfb(0x3a7)]+'\x20('+this[_0x30dbfb(0x532)]['wuid']+_0x30dbfb(0x478)+this[_0x30dbfb(0x573)]),_0x4cfe87;}catch(_0xd0cfa2){throw this[_0x30dbfb(0x506)]['error'](this[_0x30dbfb(0x3a7)]+'\x20('+this[_0x30dbfb(0x532)][_0x30dbfb(0x25a)]+_0x30dbfb(0x747)+(_0xd0cfa2 instanceof Error?_0xd0cfa2[_0x30dbfb(0x2a2)]:JSON['stringify'](_0xd0cfa2,null,0x2))),new h(_0x30dbfb(0x51d)+_0xd0cfa2[_0x30dbfb(0x2a2)]);}}async[a0_0x3656ce(0x67c)](_0x35cc43){const _0x36fa76=a0_0x3656ce;try{let _0x2b3c1f=await this['repository'][_0x36fa76(0x35e)][_0x36fa76(0x744)](this[_0x36fa76(0x532)][_0x36fa76(0x25a)]),_0x3b8131=_0x35cc43['_id']?_0x2b3c1f[_0x36fa76(0x22c)][_0x36fa76(0x235)](_0x3f5679=>_0x3f5679['_id']===_0x35cc43['_id']):-0x1,_0x422454=!0x1,_0x3e6368=_0x2b3c1f[_0x36fa76(0x22c)][_0x36fa76(0x487)](_0x6cb61e=>_0x6cb61e[_0x36fa76(0x1ec)]===_0x35cc43[_0x36fa76(0x1ec)]);if(_0x35cc43[_0x36fa76(0x27c)]&&_0x3b8131>-0x1)_0x2b3c1f[_0x36fa76(0x22c)][_0x36fa76(0x26a)](_0x3b8131,0x1),_0x422454=!0x0;else{if(_0x3b8131>-0x1){if(_0x2b3c1f[_0x36fa76(0x22c)][_0x36fa76(0x487)](_0x5aa938=>_0x5aa938['name']===_0x35cc43['name']&&_0x5aa938[_0x36fa76(0x34e)]!==_0x35cc43[_0x36fa76(0x34e)]))throw new Error(_0x36fa76(0x343));let _0x11918e=_0x2b3c1f[_0x36fa76(0x22c)][_0x3b8131];_0x35cc43[_0x36fa76(0x1ec)]&&(_0x3e6368||!Number[_0x36fa76(0x63b)](_0x35cc43[_0x36fa76(0x1ec)]))&&(_0x11918e[_0x36fa76(0x1ec)]=_0x35cc43['order'],_0x422454=!0x0),_0x35cc43[_0x36fa76(0x6ba)]&&(_0x11918e[_0x36fa76(0x6ba)]=_0x35cc43['name']);}else{if(_0x2b3c1f['customFields'][_0x36fa76(0x487)](_0xec8895=>_0xec8895[_0x36fa76(0x6ba)]===_0x35cc43[_0x36fa76(0x6ba)]&&_0xec8895[_0x36fa76(0x34e)]!==_0x35cc43[_0x36fa76(0x34e)]))throw new Error(_0x36fa76(0x343));_0x2b3c1f[_0x36fa76(0x22c)][_0x36fa76(0x7a1)]({'_id':_0x35cc43[_0x36fa76(0x34e)]||new ie['default']['Types'][(_0x36fa76(0x209))]()[_0x36fa76(0x368)](),'order':_0x35cc43[_0x36fa76(0x1ec)],'name':_0x35cc43[_0x36fa76(0x6ba)]}),_0x422454=!0x0;}}if(_0x422454){_0x2b3c1f[_0x36fa76(0x22c)][_0x36fa76(0x6b3)]((_0x286d01,_0x6b445d)=>_0x286d01[_0x36fa76(0x1ec)]>_0x6b445d[_0x36fa76(0x1ec)]?0x1:_0x6b445d[_0x36fa76(0x1ec)]>_0x286d01['order']?-0x1:0x0);for(let _0x3ae043=0x0;_0x3ae043<_0x2b3c1f[_0x36fa76(0x22c)]['length'];_0x3ae043++)_0x2b3c1f['customFields'][_0x3ae043][_0x36fa76(0x1ec)]=_0x3ae043+0x1;}let _0x12cfe9=await this[_0x36fa76(0x1f9)]['automateSystem'][_0x36fa76(0x458)](_0x2b3c1f,this[_0x36fa76(0x532)][_0x36fa76(0x25a)]);return this[_0x36fa76(0x573)]=_0x12cfe9,this[_0x36fa76(0x506)][_0x36fa76(0x49e)](this['instanceName']+'\x20('+this['instance'][_0x36fa76(0x25a)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this['logger'][_0x36fa76(0x49e)](this[_0x36fa76(0x3a7)]+'\x20('+this['instance'][_0x36fa76(0x25a)]+_0x36fa76(0x478)+this[_0x36fa76(0x573)]),_0x12cfe9;}catch(_0x5a22d3){throw this[_0x36fa76(0x506)]['error'](this[_0x36fa76(0x3a7)]+'\x20('+this['instance'][_0x36fa76(0x25a)]+_0x36fa76(0x59f)+(_0x5a22d3 instanceof Error?_0x5a22d3[_0x36fa76(0x2a2)]:JSON[_0x36fa76(0x4cd)](_0x5a22d3,null,0x2))),new h(_0x36fa76(0x2ee)+_0x5a22d3[_0x36fa76(0x2a2)]);}}async[a0_0x3656ce(0x6e0)](_0x5f1eca){const _0x31c9b5=a0_0x3656ce;try{let _0x509b47=await this[_0x31c9b5(0x1f9)][_0x31c9b5(0x35e)][_0x31c9b5(0x744)](this[_0x31c9b5(0x532)][_0x31c9b5(0x25a)]);if(!_0x509b47)throw new Error(_0x31c9b5(0x2f7));let _0x530338={'_id':_0x509b47[_0x31c9b5(0x34e)],'flowConfig':{'enabled':_0x5f1eca['enabled']??_0x509b47[_0x31c9b5(0x4c1)][_0x31c9b5(0x3b0)],'ignoreGroups':_0x5f1eca[_0x31c9b5(0x2c7)]??_0x509b47[_0x31c9b5(0x4c1)][_0x31c9b5(0x2c7)],'prefixCommand':_0x5f1eca['prefixCommand']??_0x509b47[_0x31c9b5(0x4c1)][_0x31c9b5(0x492)],'stopConversation':_0x5f1eca[_0x31c9b5(0x4f8)]??_0x509b47['flowConfig'][_0x31c9b5(0x4f8)],'stopMinutes':_0x5f1eca['stopMinutes']??_0x509b47['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x5f1eca[_0x31c9b5(0x3f8)]??_0x509b47[_0x31c9b5(0x4c1)][_0x31c9b5(0x3f8)]}},_0x28ae9b=await this[_0x31c9b5(0x1f9)]['automateSystem'][_0x31c9b5(0x458)](_0x530338,this['instance'][_0x31c9b5(0x25a)]);return this[_0x31c9b5(0x573)]=_0x28ae9b,this[_0x31c9b5(0x506)][_0x31c9b5(0x49e)](this['instanceName']+'\x20('+this[_0x31c9b5(0x532)][_0x31c9b5(0x25a)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x31c9b5(0x49e)](this[_0x31c9b5(0x3a7)]+'\x20('+this[_0x31c9b5(0x532)][_0x31c9b5(0x25a)]+_0x31c9b5(0x478)+this[_0x31c9b5(0x573)]),setTimeout(()=>this[_0x31c9b5(0x37b)](),0x7d0),_0x28ae9b;}catch(_0xbde9b3){throw this[_0x31c9b5(0x506)]['error'](this[_0x31c9b5(0x3a7)]+'\x20('+this[_0x31c9b5(0x532)][_0x31c9b5(0x25a)]+_0x31c9b5(0x212)+(_0xbde9b3 instanceof Error?_0xbde9b3[_0x31c9b5(0x2a2)]:JSON[_0x31c9b5(0x4cd)](_0xbde9b3,null,0x2))),new h(_0x31c9b5(0x399)+_0xbde9b3['message']);}}async['getAutomateSystem'](){const _0x28fe6d=a0_0x3656ce;try{let _0x5b98e1=await this[_0x28fe6d(0x1f9)]['automateSystem'][_0x28fe6d(0x744)](this[_0x28fe6d(0x532)][_0x28fe6d(0x25a)]);return this[_0x28fe6d(0x573)]=_0x5b98e1,this[_0x28fe6d(0x506)][_0x28fe6d(0x49e)](this[_0x28fe6d(0x3a7)]+'\x20('+this['instance'][_0x28fe6d(0x25a)]+_0x28fe6d(0x397)),this['logger'][_0x28fe6d(0x49e)](this[_0x28fe6d(0x573)]),_0x5b98e1;}catch(_0x40e1cd){throw this['logger']['error'](this[_0x28fe6d(0x3a7)]+'\x20('+this[_0x28fe6d(0x532)]['wuid']+_0x28fe6d(0x1dc)+(_0x40e1cd instanceof Error?_0x40e1cd[_0x28fe6d(0x2a2)]:JSON[_0x28fe6d(0x4cd)](_0x40e1cd,null,0x2))),new h(_0x28fe6d(0x641)+_0x40e1cd[_0x28fe6d(0x2a2)]);}}async['setRestartTimer'](){const _0x53038f=a0_0x3656ce;this['timerId']&&clearTimeout(this[_0x53038f(0x3e6)]),this[_0x53038f(0x3e6)]=setTimeout(()=>{const _0xa6fc20=_0x53038f;this[_0xa6fc20(0x571)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x3656ce(0x571)](){const _0x2f23b6=a0_0x3656ce;Date['now']()-this['lastSend']>=0x1d4c0&&(this[_0x2f23b6(0x506)]['verbose'](this['instanceName']+'\x20('+this[_0x2f23b6(0x532)][_0x2f23b6(0x25a)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['processingScheduleMessageId']=null,this[_0x2f23b6(0x535)]=0x0,this[_0x2f23b6(0x504)]=0x0,await this[_0x2f23b6(0x37b)]());}async[a0_0x3656ce(0x37b)](){const _0x334535=a0_0x3656ce;let _0x59a73e=()=>{const _0x13f2b9=a0_0x4f47;this['logger'][_0x13f2b9(0x49e)](this[_0x13f2b9(0x3a7)]+'\x20('+this[_0x13f2b9(0x532)][_0x13f2b9(0x25a)]+_0x13f2b9(0x684)+this['processingScheduleMessageId']+_0x13f2b9(0x3c5));},_0x37a34a=async()=>{const _0x1abf82=a0_0x4f47;this[_0x1abf82(0x506)]['verbose'](this[_0x1abf82(0x3a7)]+'\x20('+this[_0x1abf82(0x532)][_0x1abf82(0x25a)]+_0x1abf82(0x273));let _0x13ce75=Date[_0x1abf82(0x715)]()-0xc*0x3c*0x3c*0x3e8,_0x3804fa={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x13ce75}},{'when':0x0}]}};return await this[_0x1abf82(0x1f9)]['scheduleMessage'][_0x1abf82(0x285)](_0x3804fa,this[_0x1abf82(0x532)][_0x1abf82(0x25a)]);},_0x5b92de=async _0x46d5e8=>{const _0x27ec8d=a0_0x4f47;for(let _0x26edae of _0x46d5e8){if(!await this[_0x27ec8d(0x1f9)][_0x27ec8d(0x5b3)][_0x27ec8d(0x27f)]({'_id':_0x26edae[_0x27ec8d(0x34e)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x27ec8d(0x715)]()-0x1770}}]},{'$set':{'startSend':Date['now']()}},this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]))return;if(!this[_0x27ec8d(0x738)]){this[_0x27ec8d(0x506)]['verbose'](this[_0x27ec8d(0x3a7)]+'\x20('+this['instance'][_0x27ec8d(0x25a)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x26edae[_0x27ec8d(0x1a6)]===_0x27ec8d(0x2ac)&&!this[_0x27ec8d(0x573)]?.[_0x27ec8d(0x4c1)][_0x27ec8d(0x3b0)]){this['logger'][_0x27ec8d(0x417)](this[_0x27ec8d(0x3a7)]+'\x20('+this['instance'][_0x27ec8d(0x25a)]+_0x27ec8d(0x267));continue;}(!_0x26edae['remoteJidsRemaining']||_0x26edae[_0x27ec8d(0x445)][_0x27ec8d(0x391)]===0x0)&&(_0x26edae=await this['repository']['scheduleMessage'][_0x27ec8d(0x1f7)](_0x26edae[_0x27ec8d(0x34e)],{'status':_0x27ec8d(0x694),'remoteJidsRemaining':[..._0x26edae[_0x27ec8d(0x48e)]]},this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]));for(let _0x47ff0a of _0x26edae[_0x27ec8d(0x445)]){if(await this[_0x27ec8d(0x73c)](),this['lastSend']=Date['now'](),_0x26edae[_0x27ec8d(0x6c7)][_0x27ec8d(0x487)](_0xd8100=>_0xd8100[_0x27ec8d(0x628)]===_0x47ff0a)){this[_0x27ec8d(0x506)][_0x27ec8d(0x49e)](this[_0x27ec8d(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x47ff0a+_0x27ec8d(0x511));continue;}if(!this[_0x27ec8d(0x738)]){this[_0x27ec8d(0x506)][_0x27ec8d(0x49e)](this[_0x27ec8d(0x3a7)]+'\x20('+this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]+_0x27ec8d(0x77e));break;}if(!this['processingScheduleMessageId']){this[_0x27ec8d(0x506)][_0x27ec8d(0x49e)](this['instanceName']+'\x20('+this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]+_0x27ec8d(0x74f)+_0x26edae[_0x27ec8d(0x34e)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x26edae[_0x27ec8d(0x1a6)]===_0x27ec8d(0x2ac)&&!this[_0x27ec8d(0x573)]?.[_0x27ec8d(0x4c1)][_0x27ec8d(0x3b0)]){this[_0x27ec8d(0x506)][_0x27ec8d(0x417)](this[_0x27ec8d(0x3a7)]+'\x20('+this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]+_0x27ec8d(0x267));break;}let _0x11710d={'remoteJid':_0x47ff0a,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x27ec8d(0x715)]()},_0x1927ce=null;try{let _0x577d9f=await this[_0x27ec8d(0x3a6)](_0x47ff0a,_0x26edae);_0x11710d[_0x27ec8d(0x417)]=_0x577d9f[_0x27ec8d(0x417)],_0x11710d['id']=_0x577d9f[_0x27ec8d(0x417)]?null:_0x577d9f['id'],_0x11710d[_0x27ec8d(0x3dd)]=_0x577d9f[_0x27ec8d(0x417)]?_0x577d9f['detail']?_0x577d9f[_0x27ec8d(0x3c6)]['toString']():'':null;let _0x261b20={'$push':{'messagesSend':_0x11710d},'$pull':{'remoteJidsRemaining':_0x47ff0a}},_0xfec7f2=_0x26edae[_0x27ec8d(0x34e)];if(_0x1927ce=await this[_0x27ec8d(0x1f9)][_0x27ec8d(0x5b3)][_0x27ec8d(0x1f7)](_0xfec7f2,_0x261b20,this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]),_0x577d9f[_0x27ec8d(0x417)])continue;let _0x464b91=this[_0x27ec8d(0x72e)](_0x26edae['delaySecMin'],_0x26edae[_0x27ec8d(0x58b)]);await this[_0x27ec8d(0x319)](_0x464b91);}catch(_0x2e9622){this['logger'][_0x27ec8d(0x417)](this[_0x27ec8d(0x3a7)]+'\x20('+this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]+_0x27ec8d(0x16b)+_0x47ff0a+':\x20'+(_0x2e9622 instanceof Error?_0x2e9622[_0x27ec8d(0x2a2)]:JSON[_0x27ec8d(0x4cd)](_0x2e9622,null,0x2))),_0x11710d[_0x27ec8d(0x417)]=!0x0,_0x11710d[_0x27ec8d(0x3dd)]=_0x2e9622[_0x27ec8d(0x2a2)];let _0x5cedcf={'$push':{'messagesSend':_0x11710d},'$pull':{'remoteJidsRemaining':_0x47ff0a}},_0x18de83=_0x26edae[_0x27ec8d(0x34e)];_0x1927ce=await this[_0x27ec8d(0x1f9)][_0x27ec8d(0x5b3)][_0x27ec8d(0x1f7)](_0x18de83,_0x5cedcf,this['instance'][_0x27ec8d(0x25a)]);}finally{if(_0x1927ce&&_0x1927ce[_0x27ec8d(0x6b6)]===_0x27ec8d(0x314)){this[_0x27ec8d(0x506)][_0x27ec8d(0x49e)](this['instanceName']+'\x20('+this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]+_0x27ec8d(0x74f)+_0x26edae['_id']+_0x27ec8d(0x6d8));break;}}}let _0x10b247=await this[_0x27ec8d(0x1f9)][_0x27ec8d(0x5b3)][_0x27ec8d(0x73f)](_0x26edae[_0x27ec8d(0x34e)],this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]);if(_0x10b247[_0x27ec8d(0x445)][_0x27ec8d(0x391)]===0x0&&_0x10b247['status']!=='stopped'){let _0x114084={'$set':{'status':_0x27ec8d(0x268)}},_0x2ed926=_0x10b247[_0x27ec8d(0x34e)];await this[_0x27ec8d(0x1f9)][_0x27ec8d(0x5b3)][_0x27ec8d(0x1f7)](_0x2ed926,_0x114084,this[_0x27ec8d(0x532)][_0x27ec8d(0x25a)]);}await new Promise(_0x484851=>setTimeout(_0x484851,0x1388));}},_0x10c942=async()=>{const _0xc3b65d=a0_0x4f47;let _0x55f759={'where':{'status':_0xc3b65d(0x5ac),'when':{'$gt':Date[_0xc3b65d(0x715)]()}}},_0x525b9e=await this[_0xc3b65d(0x1f9)]['scheduleMessage'][_0xc3b65d(0x166)](_0x55f759,this[_0xc3b65d(0x532)][_0xc3b65d(0x25a)]);_0x525b9e&&_0x525b9e[_0xc3b65d(0x41b)]-Date[_0xc3b65d(0x715)]()<=0x5265c00?this['delayMessage']=_0x525b9e[_0xc3b65d(0x41b)]-Date[_0xc3b65d(0x715)]():this['delayMessage']=(0x3c+Math[_0xc3b65d(0x5bc)](Math[_0xc3b65d(0x54e)]()*0x3c))*0x3c*0x3e8,this[_0xc3b65d(0x504)]=Math[_0xc3b65d(0x79b)](this['delayMessage'],0x7d0);let _0x5bde75=Math[_0xc3b65d(0x205)](this[_0xc3b65d(0x504)]/0xea60);if(_0x525b9e){let _0x3cf348=new Date(_0x525b9e['when'])['toLocaleString']();this['logger'][_0xc3b65d(0x49e)](this[_0xc3b65d(0x3a7)]+'\x20('+this['instance'][_0xc3b65d(0x25a)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x3cf348+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x5bde75+'\x20minutos');}else this[_0xc3b65d(0x506)][_0xc3b65d(0x49e)](this[_0xc3b65d(0x3a7)]+'\x20('+this['instance'][_0xc3b65d(0x25a)]+_0xc3b65d(0x4ca)+_0x5bde75+_0xc3b65d(0x467));setTimeout(()=>this[_0xc3b65d(0x37b)](),this[_0xc3b65d(0x504)]);};if(this[_0x334535(0x41a)]){await this[_0x334535(0x73c)](),_0x59a73e();return;}if(!this[_0x334535(0x738)]){this[_0x334535(0x506)][_0x334535(0x49e)](this[_0x334535(0x3a7)]+'\x20('+this[_0x334535(0x532)]['wuid']+_0x334535(0x554)),this[_0x334535(0x41a)]=null,this[_0x334535(0x535)]=0x0,this[_0x334535(0x504)]=0x0;return;}try{let _0x51debf=await _0x37a34a();_0x51debf[_0x334535(0x391)]===0x0?this[_0x334535(0x506)][_0x334535(0x49e)](this['instanceName']+'\x20('+this[_0x334535(0x532)][_0x334535(0x25a)]+_0x334535(0x6dc)):(this[_0x334535(0x41a)]=_0x51debf[0x0]['_id'],await _0x5b92de(_0x51debf)),await _0x10c942(),this[_0x334535(0x41a)]=null;}catch(_0xde5a8f){this[_0x334535(0x506)][_0x334535(0x417)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0xde5a8f instanceof Error?_0xde5a8f[_0x334535(0x2a2)]:JSON['stringify'](_0xde5a8f,null,0x2)));}}['getDelay'](_0x1d6c78,_0x105ce0){const _0x1cd26e=a0_0x3656ce;return _0x1d6c78=Math[_0x1cd26e(0x79b)](0.5,_0x1d6c78),_0x105ce0=Math[_0x1cd26e(0x227)](Math[_0x1cd26e(0x79b)](0x3,_0x105ce0),0x78),Math[_0x1cd26e(0x5bc)](Math[_0x1cd26e(0x54e)]()*(_0x105ce0-_0x1d6c78+0x1)+_0x1d6c78)*0x3e8;}[a0_0x3656ce(0x319)](_0x2896e7){return new Promise(_0x88c033=>setTimeout(_0x88c033,_0x2896e7));}async[a0_0x3656ce(0x55d)](_0x481e85){const _0x43e86c=a0_0x3656ce;if(!this[_0x43e86c(0x573)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x481e85=this[_0x43e86c(0x60e)](_0x481e85);let _0x4aefde=await this[_0x43e86c(0x1f9)][_0x43e86c(0x497)][_0x43e86c(0x166)]({'where':{'_id':_0x481e85}},this[_0x43e86c(0x532)][_0x43e86c(0x25a)]),_0x400c37={};if(_0x4aefde&&_0x4aefde[_0x43e86c(0x3f3)]){let _0x4812d5=_0x4aefde[_0x43e86c(0x3f3)];typeof _0x4812d5[_0x43e86c(0x5d6)]==_0x43e86c(0x474)&&(_0x400c37[_0x43e86c(0x5d6)]=_0x4812d5[_0x43e86c(0x5d6)]),typeof _0x4812d5[_0x43e86c(0x6f1)]==_0x43e86c(0x474)&&(_0x400c37[_0x43e86c(0x6f1)]=_0x4812d5[_0x43e86c(0x6f1)]),typeof _0x4812d5[_0x43e86c(0x566)]==_0x43e86c(0x474)&&(_0x400c37[_0x43e86c(0x566)]=_0x4812d5['email']),typeof _0x4812d5[_0x43e86c(0x51b)]==_0x43e86c(0x474)&&(_0x400c37['cpf']=_0x4812d5['cpf']),typeof _0x4812d5[_0x43e86c(0x6b6)]==_0x43e86c(0x474)&&(_0x400c37[_0x43e86c(0x6b6)]=_0x4812d5[_0x43e86c(0x6b6)]),typeof _0x4812d5[_0x43e86c(0x4d2)]==_0x43e86c(0x474)&&(_0x400c37[_0x43e86c(0x4d2)]=_0x4812d5[_0x43e86c(0x4d2)]),typeof _0x4812d5[_0x43e86c(0x4ab)]==_0x43e86c(0x474)&&(_0x400c37[_0x43e86c(0x4ab)]=_0x4812d5[_0x43e86c(0x4ab)]),Array[_0x43e86c(0x604)](_0x4812d5[_0x43e86c(0x19e)])&&(_0x400c37[_0x43e86c(0x19e)]=_0x4812d5[_0x43e86c(0x19e)][_0x43e86c(0x3f5)](',\x20'));}return _0x4aefde&&_0x4aefde[_0x43e86c(0x3f3)]&&_0x4aefde[_0x43e86c(0x3f3)][_0x43e86c(0x22c)]&&_0x4aefde[_0x43e86c(0x3f3)][_0x43e86c(0x22c)][_0x43e86c(0x579)](_0x41b219=>{const _0x33050c=_0x43e86c;let _0x59b38f=this[_0x33050c(0x573)]?.[_0x33050c(0x22c)][_0x33050c(0x285)](_0x4c8751=>_0x4c8751[_0x33050c(0x34e)]===_0x41b219[_0x33050c(0x34e)]);_0x59b38f&&(_0x400c37[_0x59b38f[_0x33050c(0x6ba)]]=_0x41b219[_0x33050c(0x685)]);}),_0x400c37;}async[a0_0x3656ce(0x4b8)](_0x5dd2cd,_0x7098f3){const _0x26cb9d=a0_0x3656ce;let _0x33a1a3=await this[_0x26cb9d(0x55d)](_0x7098f3);return this[_0x26cb9d(0x3aa)](_0x5dd2cd,_0x33a1a3);}async['editScheduleMessage'](_0x31cf38){const _0x3f3924=a0_0x3656ce;try{if(this[_0x3f3924(0x506)][_0x3f3924(0x49e)](this['instanceName']+'\x20('+this[_0x3f3924(0x532)][_0x3f3924(0x25a)]+_0x3f3924(0x713)),_0x31cf38['delete']&&_0x31cf38[_0x3f3924(0x34e)]){if(this[_0x3f3924(0x41a)]===_0x31cf38[_0x3f3924(0x34e)]['toString']())throw new Error(_0x3f3924(0x55b));let _0x1d51bf=await this[_0x3f3924(0x1f9)][_0x3f3924(0x5b3)][_0x3f3924(0x693)](_0x31cf38[_0x3f3924(0x34e)],this[_0x3f3924(0x532)][_0x3f3924(0x25a)]);return setTimeout(()=>this[_0x3f3924(0x37b)](),0x7d0),_0x1d51bf;}let _0x2b196b;if(_0x31cf38['_id']&&(_0x2b196b=await this['repository']['scheduleMessage'][_0x3f3924(0x73f)](_0x31cf38[_0x3f3924(0x34e)],this[_0x3f3924(0x532)][_0x3f3924(0x25a)])),_0x2b196b){let _0x4dd05b;if(this[_0x3f3924(0x41a)]===_0x2b196b['_id'][_0x3f3924(0x368)]())_0x4dd05b={'$set':{'status':_0x31cf38['status']}};else{let {_id:_0x494352,..._0x4e8f50}=_0x31cf38;_0x4dd05b={'$set':_0x4e8f50};}let _0x35f9d3=await this[_0x3f3924(0x1f9)]['scheduleMessage'][_0x3f3924(0x1f7)](_0x31cf38[_0x3f3924(0x34e)],_0x4dd05b,this[_0x3f3924(0x532)][_0x3f3924(0x25a)]);return setTimeout(()=>this[_0x3f3924(0x37b)](),0x7d0),_0x35f9d3;}else{_0x31cf38[_0x3f3924(0x292)]=this[_0x3f3924(0x532)][_0x3f3924(0x25a)];let _0x31534f=await this['repository'][_0x3f3924(0x5b3)][_0x3f3924(0x395)](_0x31cf38,this[_0x3f3924(0x532)][_0x3f3924(0x25a)]);return setTimeout(()=>this[_0x3f3924(0x37b)](),0x7d0),_0x31534f;}}catch(_0x57d9ed){throw this['logger'][_0x3f3924(0x417)](this[_0x3f3924(0x3a7)]+'\x20('+this[_0x3f3924(0x532)][_0x3f3924(0x25a)]+_0x3f3924(0x5b0)+(_0x57d9ed instanceof Error?_0x57d9ed[_0x3f3924(0x2a2)]:JSON[_0x3f3924(0x4cd)](_0x57d9ed,null,0x2))),new h(_0x3f3924(0x5d5)+_0x57d9ed[_0x3f3924(0x2a2)]);}}async[a0_0x3656ce(0x320)](){const _0x5f2b9e=a0_0x3656ce;try{return await this[_0x5f2b9e(0x1f9)]['scheduleMessage']['find']({'where':{}},this[_0x5f2b9e(0x532)][_0x5f2b9e(0x25a)]);}catch(_0x3608b9){throw this[_0x5f2b9e(0x506)][_0x5f2b9e(0x417)](this[_0x5f2b9e(0x3a7)]+'\x20('+this[_0x5f2b9e(0x532)][_0x5f2b9e(0x25a)]+_0x5f2b9e(0x412)+(_0x3608b9 instanceof Error?_0x3608b9[_0x5f2b9e(0x2a2)]:JSON[_0x5f2b9e(0x4cd)](_0x3608b9,null,0x2))),new h(_0x5f2b9e(0x5d5)+_0x3608b9[_0x5f2b9e(0x2a2)]);}}async['deleteDoneMessages'](){const _0x482f4a=a0_0x3656ce;try{let _0x54849b={'status':_0x482f4a(0x268)},_0x28d8f1=await this[_0x482f4a(0x1f9)][_0x482f4a(0x5b3)]['deleteMany'](_0x54849b,this[_0x482f4a(0x532)]['wuid']);if(!_0x28d8f1[_0x482f4a(0x417)])this[_0x482f4a(0x506)][_0x482f4a(0x49e)](this[_0x482f4a(0x3a7)]+'\x20('+this['instance']['wuid']+_0x482f4a(0x734));else throw new Error(_0x28d8f1[_0x482f4a(0x417)][_0x482f4a(0x2a2)]||_0x482f4a(0x475));return this[_0x482f4a(0x320)]();}catch(_0x40e011){throw this[_0x482f4a(0x506)]['error'](this[_0x482f4a(0x3a7)]+'\x20('+this[_0x482f4a(0x532)][_0x482f4a(0x25a)]+_0x482f4a(0x65a)+(_0x40e011 instanceof Error?_0x40e011[_0x482f4a(0x2a2)]:JSON[_0x482f4a(0x4cd)](_0x40e011,null,0x2))),new h(_0x482f4a(0x5d5)+_0x40e011[_0x482f4a(0x2a2)]);}}async['SendScheduleMessage'](_0x21d670,_0x3fbdd5){const _0x58c48c=a0_0x3656ce;try{if(_0x3fbdd5[_0x58c48c(0x1a6)]===_0x58c48c(0x2ac)&&!this[_0x58c48c(0x573)]?.[_0x58c48c(0x4c1)][_0x58c48c(0x3b0)])return this['logger'][_0x58c48c(0x417)](this[_0x58c48c(0x3a7)]+'\x20('+this[_0x58c48c(0x532)][_0x58c48c(0x25a)]+_0x58c48c(0x655)),{'error':!0x0,'detail':_0x58c48c(0x276)};switch(_0x3fbdd5[_0x58c48c(0x1a6)]){case'text':return await this[_0x58c48c(0x561)](_0x3fbdd5,_0x21d670);case'media':return await this['scheduleSendMedia'](_0x3fbdd5,_0x21d670);case'audio':return await this[_0x58c48c(0x390)](_0x3fbdd5,_0x21d670);case'flow':let _0x2bd6b2=new De();return _0x2bd6b2[_0x58c48c(0x6ba)]=_0x3fbdd5[_0x58c48c(0x6eb)],_0x2bd6b2[_0x58c48c(0x628)]=_0x21d670,await this[_0x58c48c(0x1f5)](_0x2bd6b2);break;default:return this[_0x58c48c(0x506)][_0x58c48c(0x417)](this[_0x58c48c(0x3a7)]+'\x20('+this[_0x58c48c(0x532)][_0x58c48c(0x25a)]+'):\x20Comando\x20desconhecido:\x20'+_0x3fbdd5[_0x58c48c(0x1a6)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x289a57){return this[_0x58c48c(0x506)][_0x58c48c(0x417)](this['instanceName']+'\x20('+this[_0x58c48c(0x532)][_0x58c48c(0x25a)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x289a57 instanceof Error?_0x289a57['message']:JSON[_0x58c48c(0x4cd)](_0x289a57,null,0x2))),{'error':!0x0,'detail':_0x289a57[_0x58c48c(0x2a2)]};}}[a0_0x3656ce(0x56b)](_0x5266b0){const _0x2d123b=a0_0x3656ce;let _0x280bc6=_0x5266b0[_0x2d123b(0x232)]('|'),_0x580066=Math[_0x2d123b(0x5bc)](Math['random']()*_0x280bc6[_0x2d123b(0x391)]);return _0x280bc6[_0x580066]['trim']();}async[a0_0x3656ce(0x561)](_0x2225b5,_0x571699){const _0x468014=a0_0x3656ce;if(this[_0x468014(0x506)][_0x468014(0x49e)](this[_0x468014(0x3a7)]+'\x20('+this[_0x468014(0x532)][_0x468014(0x25a)]+'):\x20Enviando\x20texto'),!_0x2225b5[_0x468014(0x2a2)][_0x468014(0x4bc)]||_0x2225b5[_0x468014(0x2a2)][_0x468014(0x4bc)][_0x468014(0x391)]===0x0)return{'error':!0x0,'detail':_0x468014(0x256)};let _0x46e11f=this[_0x468014(0x56b)](_0x2225b5[_0x468014(0x2a2)][_0x468014(0x4bc)]),_0x2cda2a=await this[_0x468014(0x4b8)](_0x46e11f,_0x571699),_0x2d7e6e={'number':_0x571699,'options':{'delay':_0x2225b5['message'][_0x468014(0x6fc)]},'textMessage':{'text':_0x2cda2a}},_0x351986=null;try{let _0x58611d=await this['textMessage'](_0x2d7e6e);if(_0x58611d&&_0x58611d['status'])return{'error':!0x1,'id':_0x58611d[_0x468014(0x228)]['id']};_0x351986=JSON['stringify'](_0x58611d),this[_0x468014(0x506)]['verbose'](this[_0x468014(0x3a7)]+'\x20('+this[_0x468014(0x532)]['wuid']+_0x468014(0x478)+_0x351986);}catch(_0x4aa84b){this[_0x468014(0x506)][_0x468014(0x417)](this['instanceName']+'\x20('+this[_0x468014(0x532)][_0x468014(0x25a)]+_0x468014(0x46c)+(_0x4aa84b instanceof Error?_0x4aa84b[_0x468014(0x2a2)]:JSON[_0x468014(0x4cd)](_0x4aa84b,null,0x2))),_0x351986=_0x4aa84b[_0x468014(0x2a2)];}if(_0x351986)return{'error':!0x0,'detail':(typeof _0x351986==_0x468014(0x4ee)?JSON[_0x468014(0x4cd)](_0x351986,null,0x2):_0x351986)[_0x468014(0x69a)](/[\[\]{}\n]/g,'\x20')[_0x468014(0x69a)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x4bae5d,_0x5cf0c1){const _0x17e34e=a0_0x3656ce;this[_0x17e34e(0x506)]['verbose'](this[_0x17e34e(0x3a7)]+'\x20('+this[_0x17e34e(0x532)]['wuid']+'):\x20Enviando\x20mídia');let _0x1dfdc4;if(_0x4bae5d[_0x17e34e(0x2a2)][_0x17e34e(0x4bc)]&&_0x4bae5d[_0x17e34e(0x2a2)]['text'][_0x17e34e(0x391)]>0x0){let _0x34dea4=this[_0x17e34e(0x56b)](_0x4bae5d[_0x17e34e(0x2a2)]['text']);_0x1dfdc4=await this['replaceVariablesChat'](_0x34dea4,_0x5cf0c1);}let _0x57cf20={'number':_0x5cf0c1,'options':{'delay':_0x4bae5d[_0x17e34e(0x2a2)][_0x17e34e(0x6fc)]},'mediaMessage':{'mediatype':_0x4bae5d[_0x17e34e(0x2a2)][_0x17e34e(0x650)],'caption':_0x1dfdc4,'media':_0x4bae5d[_0x17e34e(0x2a2)][_0x17e34e(0x1f4)]}},_0x3980d7=null;try{let _0x5b2a75=await this[_0x17e34e(0x367)](_0x57cf20);if(_0x5b2a75&&_0x5b2a75[_0x17e34e(0x6b6)])return{'error':!0x1,'id':_0x5b2a75[_0x17e34e(0x228)]['id']};_0x3980d7=JSON[_0x17e34e(0x4cd)](_0x5b2a75),this[_0x17e34e(0x506)][_0x17e34e(0x49e)](this['instanceName']+'\x20('+this['instance'][_0x17e34e(0x25a)]+_0x17e34e(0x478)+_0x3980d7);}catch(_0x4a7311){this[_0x17e34e(0x506)][_0x17e34e(0x417)](this[_0x17e34e(0x3a7)]+'\x20('+this[_0x17e34e(0x532)]['wuid']+_0x17e34e(0x42f)+(_0x4a7311 instanceof Error?_0x4a7311[_0x17e34e(0x2a2)]:JSON[_0x17e34e(0x4cd)](_0x4a7311,null,0x2))),_0x3980d7=_0x4a7311[_0x17e34e(0x2a2)];}if(_0x3980d7)return{'error':!0x0,'detail':(typeof _0x3980d7=='object'?JSON[_0x17e34e(0x4cd)](_0x3980d7,null,0x2):_0x3980d7)[_0x17e34e(0x69a)](/[\[\]{}\n]/g,'\x20')[_0x17e34e(0x69a)](/  +/g,'\x20')};}async[a0_0x3656ce(0x390)](_0x540d1a,_0x49c596){const _0x5cf71d=a0_0x3656ce;this[_0x5cf71d(0x506)][_0x5cf71d(0x49e)](this['instanceName']+'\x20('+this[_0x5cf71d(0x532)][_0x5cf71d(0x25a)]+_0x5cf71d(0x53a));let _0x16080e={'number':_0x49c596,'options':{'delay':_0x540d1a[_0x5cf71d(0x2a2)][_0x5cf71d(0x6fc)]},'audioMessage':{'audio':_0x540d1a['message']['urlOrBase64']}},_0x484ac1=null;try{let _0x881173=await this['audioWhatsapp'](_0x16080e);if(_0x881173&&_0x881173['status'])return{'error':!0x1,'id':_0x881173[_0x5cf71d(0x228)]['id']};_0x484ac1=JSON[_0x5cf71d(0x4cd)](_0x881173),this[_0x5cf71d(0x506)][_0x5cf71d(0x49e)](this[_0x5cf71d(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x484ac1);}catch(_0x2cec16){this['logger']['error'](this[_0x5cf71d(0x3a7)]+'\x20('+this[_0x5cf71d(0x532)]['wuid']+_0x5cf71d(0x642)+(_0x2cec16 instanceof Error?_0x2cec16[_0x5cf71d(0x2a2)]:JSON['stringify'](_0x2cec16,null,0x2))),_0x484ac1=_0x2cec16['message'];}if(_0x484ac1)return{'error':!0x0,'detail':(typeof _0x484ac1==_0x5cf71d(0x4ee)?JSON[_0x5cf71d(0x4cd)](_0x484ac1,null,0x2):_0x484ac1)[_0x5cf71d(0x69a)](/[\[\]{}\n]/g,'\x20')[_0x5cf71d(0x69a)](/  +/g,'\x20')};}},It=class c{constructor(_0x49705b,_0x1019a3,_0x4e29a3){const _0x33ce47=a0_0x3656ce;this[_0x33ce47(0x64a)]=_0x49705b,this[_0x33ce47(0x5b9)]=_0x1019a3,this[_0x33ce47(0x1f9)]=_0x4e29a3,this['db']={},this['redis']={},this[_0x33ce47(0x506)]=new v(c[_0x33ce47(0x6ba)]),this[_0x33ce47(0x6c1)]={},(this[_0x33ce47(0x647)](),this[_0x33ce47(0x17c)](),Object['assign'](this['db'],_0x1019a3['get'](_0x33ce47(0x2cf))),Object[_0x33ce47(0x4f7)](this[_0x33ce47(0x755)],_0x1019a3['get'](_0x33ce47(0x2a7))),this[_0x33ce47(0x75f)]=this['db']['ENABLED']?this[_0x33ce47(0x1f9)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x33ce47(0x4c4)]+'-instances'):void 0x0,this[_0x33ce47(0x20c)]=this[_0x33ce47(0x755)][_0x33ce47(0x6da)]?new re(this[_0x33ce47(0x755)]):void 0x0);}async[a0_0x3656ce(0x3d2)](_0x4a6c03){const _0x584081=a0_0x3656ce;if(_0x4a6c03&&!this['waInstances'][_0x4a6c03])throw new L(_0x584081(0x297)+_0x4a6c03+'\x22\x20not\x20found');let _0x60c6cc=[];for await(let [_0x1f9352,_0x106d2c]of Object[_0x584081(0x41e)](this[_0x584081(0x6c1)]))if(_0x106d2c&&_0x106d2c[_0x584081(0x243)][_0x584081(0x167)]===_0x584081(0x2ff)){let _0x17d89f=await this['repository'][_0x584081(0x5e1)]['find'](_0x1f9352);_0x60c6cc[_0x584081(0x7a1)]({'instance':{'instanceName':_0x1f9352,'apikey':_0x17d89f['apikey'],'owner':_0x106d2c[_0x584081(0x25a)],'profileName':await _0x106d2c['getProfileName']()||_0x584081(0x3a9),'profilePictureUrl':_0x106d2c[_0x584081(0x659)]}});}return _0x60c6cc[_0x584081(0x285)](_0xad9837=>_0xad9837[_0x584081(0x532)][_0x584081(0x3a7)]===_0x4a6c03)??_0x60c6cc;}async['cleaningUp'](_0x5babc0){const _0x5e5b0c=a0_0x3656ce;if(this['db'][_0x5e5b0c(0x6da)]&&(await this[_0x5e5b0c(0x1f9)][_0x5e5b0c(0x303)]['connect'](),(await this['dbInstance'][_0x5e5b0c(0x4a9)]())[_0x5e5b0c(0x391)]>0x0&&await this[_0x5e5b0c(0x75f)][_0x5e5b0c(0x65b)](_0x5babc0)),this[_0x5e5b0c(0x755)]['ENABLED']){this[_0x5e5b0c(0x20c)]['reference']=_0x5babc0,await this['cache'][_0x5e5b0c(0x51f)]();return;}}async[a0_0x3656ce(0x307)](){const _0x4a1669=a0_0x3656ce;await this['InstancesAlterarTodas']();let _0x3e58d2=async _0x27f80f=>{const _0xc75eb7=a0_0x4f47;let _0x8b2e13=new fe(this['configService'],this['eventEmitter'],this[_0xc75eb7(0x1f9)]);_0x8b2e13['instanceName']=_0x27f80f,await _0x8b2e13[_0xc75eb7(0x56c)](),this[_0xc75eb7(0x6c1)][_0x27f80f]=_0x8b2e13;};try{if(this[_0x4a1669(0x755)]['ENABLED']){let _0xeda202=await this[_0x4a1669(0x20c)][_0x4a1669(0x560)]();_0xeda202?.[_0x4a1669(0x391)]>0x0&&_0xeda202[_0x4a1669(0x579)](async _0x153851=>await _0x3e58d2(_0x153851[_0x4a1669(0x232)](':')[0x1]));return;}if(this['db'][_0x4a1669(0x6da)]){await this[_0x4a1669(0x1f9)][_0x4a1669(0x303)]['connect']();let _0x49d814=await this['dbInstance']['collections']();_0x49d814['length']>0x0&&_0x49d814['forEach'](async _0x676a9c=>await _0x3e58d2(_0x676a9c['namespace'][_0x4a1669(0x69a)](/^[\w-]+\./,'')));return;}}catch(_0x2ab181){this[_0x4a1669(0x506)]['error'](_0x2ab181);}}async['InstancesAsDisconnectedX'](){const _0x51939a=a0_0x3656ce;let _0x5ccaa4=await this['repository'][_0x51939a(0x5e1)]['findAll'](),_0x340c2e=_0x5ccaa4[_0x51939a(0x20d)](_0x517996=>!this[_0x51939a(0x6c1)][_0x517996['_id']]&&(_0x517996[_0x51939a(0x4fb)]||typeof _0x517996[_0x51939a(0x4fb)]>'u'));_0x340c2e[_0x51939a(0x391)]>0x0&&await Promise[_0x51939a(0x626)](_0x340c2e[_0x51939a(0x568)](async _0x2f6160=>{const _0x3017b7=_0x51939a;let _0x2f61e4={'online':!0x1,'lastDisconnect':Date[_0x3017b7(0x715)]()};await this['repository'][_0x3017b7(0x5e1)][_0x3017b7(0x263)](_0x2f61e4,_0x2f6160[_0x3017b7(0x34e)]);}));let _0xd416d7=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0xed12dc=_0x5ccaa4['filter'](_0x2ae137=>!this[_0x51939a(0x6c1)][_0x2ae137[_0x51939a(0x34e)]]&&typeof _0x2ae137[_0x51939a(0x5a5)]<'u'&&_0x2ae137[_0x51939a(0x5a5)]<_0xd416d7);_0xed12dc[_0x51939a(0x391)]>0x0&&await Promise['all'](_0xed12dc['map'](async _0x1687cc=>{}));}async[a0_0x3656ce(0x3f9)](){const _0x28b47e=a0_0x3656ce;try{let _0x4b833e={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x263d3f={'online':!0x1,'lastDisconnect':Date[_0x28b47e(0x715)]()},_0x2c9ca6=await this[_0x28b47e(0x1f9)]['auth'][_0x28b47e(0x381)](_0x4b833e,_0x263d3f);console[_0x28b47e(0x16d)](_0x28b47e(0x249)+_0x2c9ca6[_0x28b47e(0x526)]),await this['removeOlderDisconnectedInstances']();}catch(_0x3050a5){console['error'](_0x28b47e(0x776),_0x3050a5);}}async[a0_0x3656ce(0x711)](){const _0x177aa9=a0_0x3656ce;try{let _0x216cdf={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x2dcc54=await this[_0x177aa9(0x1f9)][_0x177aa9(0x5e1)][_0x177aa9(0x60b)](_0x216cdf);console['log'](_0x177aa9(0x3bd)+_0x2dcc54[_0x177aa9(0x526)]);}catch(_0x2c0f53){console['error']('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x2c0f53);}}['removeInstance'](){const _0x2424f4=a0_0x3656ce;this['eventEmitter']['on'](_0x2424f4(0x6e5),async _0x4f45d0=>{const _0x3a2cd7=_0x2424f4;try{this[_0x3a2cd7(0x6c1)][_0x4f45d0]=void 0x0;}catch{}try{this[_0x3a2cd7(0x248)](_0x4f45d0);}finally{this[_0x3a2cd7(0x506)][_0x3a2cd7(0x72a)](_0x3a2cd7(0x297)+_0x4f45d0+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x170a49=a0_0x3656ce;this[_0x170a49(0x64a)]['on'](_0x170a49(0x481),async _0x2f26a3=>{const _0x174da6=_0x170a49;try{this['waInstances'][_0x2f26a3]=void 0x0;}catch{}try{this['cleaningUp'](_0x2f26a3);}finally{this[_0x174da6(0x506)][_0x174da6(0x72a)](_0x174da6(0x297)+_0x2f26a3+_0x174da6(0x706));}});}},Dt=class extends I{[a0_0x3656ce(0x288)](_0x403a22){return Us(_0x403a22);}async[a0_0x3656ce(0x4d8)](_0x387853){const _0x2dd367=a0_0x3656ce;if(_0x387853[_0x2dd367(0x391)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x387853[0x0][_0x2dd367(0x292)])[_0x2dd367(0x1d8)]([..._0x387853]))['length']};}catch(_0x3e0282){return _0x3e0282;}}async['find'](_0x33154d,_0x3cdc57){const _0x548143=a0_0x3656ce;try{let _0x80f38d=this[_0x548143(0x288)](_0x3cdc57),_0x160a24=A(_0x33154d['where']);return await _0x80f38d[_0x548143(0x285)](_0x160a24)['sort']({'lastmsg':-0x1})[_0x548143(0x4e7)](_0x33154d?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x3656ce(0x73d)](_0x4b40bb,_0x2aa5ca){const _0x3ae03b=a0_0x3656ce;try{return await this['getChatModelForOwner'](_0x2aa5ca)['deleteMany']({..._0x4b40bb[_0x3ae03b(0x75e)]}),[];}catch(_0x3bc0d2){return{'error':_0x3bc0d2?.[_0x3ae03b(0x368)]()};}}async['findOne'](_0x108f0c,_0x129043){const _0x4b07bf=a0_0x3656ce;try{let _0x66ee46=this[_0x4b07bf(0x288)](_0x129043),_0x151f21=A(_0x108f0c['where']);return await _0x66ee46[_0x4b07bf(0x166)](_0x151f21)['lean']();}catch{return null;}}async['updateOne'](_0x11710a,_0x5483d5,_0x35e779,_0x385410,_0x9858cc=a0_0x3656ce(0x580)){const _0x2be36a=a0_0x3656ce;try{let _0x2fc124={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x385410},_0x2b3ce5=this[_0x2be36a(0x288)](_0x35e779),_0x249db0=A(_0x11710a[_0x2be36a(0x75e)]),_0xa55aa4={};return _0xa55aa4[_0x9858cc]=_0x5483d5,await _0x2b3ce5[_0x2be36a(0x6a4)](_0x249db0,_0xa55aa4,_0x2fc124);}catch(_0x111257){return console[_0x2be36a(0x417)](_0x111257),null;}}async['updateMany'](_0x4cfa17){const _0x24e232=a0_0x3656ce;try{let _0x3e9fee=this[_0x24e232(0x288)](_0x4cfa17[0x0]['query'][_0x24e232(0x75e)][_0x24e232(0x292)]),_0x293001=_0x4cfa17[_0x24e232(0x568)](_0x2b83c1=>({'updateOne':{'filter':{..._0x2b83c1[_0x24e232(0x1d9)][_0x24e232(0x75e)]},'update':{'$set':_0x2b83c1['update']}}}));return(await _0x3e9fee['bulkWrite'](_0x293001))[_0x24e232(0x1d4)];}catch(_0x3d59d5){return console[_0x24e232(0x417)](_0x3d59d5),0x0;}}async[a0_0x3656ce(0x1d8)](_0xd49dc1,_0xef9ca5){const _0x4a3739=a0_0x3656ce;if(!Array[_0x4a3739(0x604)](_0xd49dc1)||_0xd49dc1[_0x4a3739(0x391)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x4a3739(0x288)](_0xef9ca5)[_0x4a3739(0x1d8)](_0xd49dc1))[_0x4a3739(0x391)];}catch(_0x2d59fa){throw console[_0x4a3739(0x417)](_0x4a3739(0x65c),_0x2d59fa),_0x2d59fa;}}async[a0_0x3656ce(0x78f)](_0x4348f8,_0x16bbb2){const _0x5520e9=a0_0x3656ce;try{await this[_0x5520e9(0x288)](_0x16bbb2)[_0x5520e9(0x27f)]({'_id':_0x4348f8},{'$inc':{'isValidAttempts':0x1}});}catch(_0x318604){throw console[_0x5520e9(0x417)]('Erro\x20ao\x20incrementar\x20isValidAttempts:',_0x318604),_0x318604;}}async[a0_0x3656ce(0x759)](_0x1a085f,_0x5ecf03){const _0x45c8a3=a0_0x3656ce;try{await this['getChatModelForOwner'](_0x5ecf03)[_0x45c8a3(0x693)]({'_id':_0x1a085f});}catch(_0x49db6d){throw console['error'](_0x45c8a3(0x358),_0x49db6d),_0x49db6d;}}},xt=class extends I{[a0_0x3656ce(0x3e0)](_0x1718b2){return ca(_0x1718b2);}async['updateOne'](_0x498b3f,_0x198dc5,_0x25e158,_0xbbebac){const _0x50598e=a0_0x3656ce;try{let _0x41d151={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xbbebac},_0x212a24=this[_0x50598e(0x3e0)](_0x25e158),_0x2951d0=A(_0x498b3f[_0x50598e(0x75e)]);return await _0x212a24[_0x50598e(0x6a4)](_0x2951d0,{'$set':_0x198dc5},_0x41d151);}catch(_0x4ab565){return console[_0x50598e(0x417)](_0x4ab565),null;}}async[a0_0x3656ce(0x285)](_0x42be0a,_0x164dbc){const _0x4bcc04=a0_0x3656ce;try{let _0x5d8cf2=this['getLabelModelForOwner'](_0x164dbc),_0x23ff00=A(_0x42be0a[_0x4bcc04(0x75e)]);return await _0x5d8cf2['find'](_0x23ff00);}catch(_0x353be1){console[_0x4bcc04(0x417)](_0x353be1);}}async[a0_0x3656ce(0x27c)](_0x2d6e46,_0x6665d9){const _0x90ceca=a0_0x3656ce;try{let _0x2a169d=this[_0x90ceca(0x3e0)](_0x6665d9),_0x305854=A(_0x2d6e46[_0x90ceca(0x75e)]);await _0x2a169d[_0x90ceca(0x60b)](_0x305854);}catch(_0x4e8745){console[_0x90ceca(0x417)](_0x4e8745);}}async[a0_0x3656ce(0x73d)](_0x225e7b){const _0x2bf58c=a0_0x3656ce;try{return await this[_0x2bf58c(0x3e0)](_0x225e7b)[_0x2bf58c(0x2ea)]['drop'](),{'success':!0x0};}catch(_0x27b3ee){return console['error'](_0x27b3ee),{'success':!0x1,'error':_0x27b3ee};}}},_t=class{constructor(_0x4fa2bc){const _0x27b4f2=a0_0x3656ce;this[_0x27b4f2(0x291)]=_0x4fa2bc;}async['editChat']({instanceName:_0x485094},_0x23fec1){const _0x471626=a0_0x3656ce;return await this[_0x471626(0x291)][_0x471626(0x6c1)][_0x485094]['editChat'](_0x23fec1);}async[a0_0x3656ce(0x2c3)]({instanceName:_0x2863a6},_0x480c00){const _0x758cfa=a0_0x3656ce;return await this[_0x758cfa(0x291)][_0x758cfa(0x6c1)][_0x2863a6]['whatsappNumber'](_0x480c00);}async['importChats']({instanceName:_0x17b2d6},_0x580ba5){const _0x3fea54=a0_0x3656ce;return await this[_0x3fea54(0x291)][_0x3fea54(0x6c1)][_0x17b2d6]['importChats'](_0x580ba5);}async[a0_0x3656ce(0x331)]({instanceName:_0x2b5f98},_0x5538c5){const _0x46f13b=a0_0x3656ce;return await this['waMonitor'][_0x46f13b(0x6c1)][_0x2b5f98][_0x46f13b(0x1d6)](_0x5538c5);}async['archiveChat']({instanceName:_0xa9bbf6},_0x42aefa){const _0x505397=a0_0x3656ce;return await this['waMonitor'][_0x505397(0x6c1)][_0xa9bbf6][_0x505397(0x5bb)](_0x42aefa);}async['deleteMessage']({instanceName:_0x237c4b},_0x14e44d){const _0xd1ac31=a0_0x3656ce;return await this[_0xd1ac31(0x291)][_0xd1ac31(0x6c1)][_0x237c4b]['deleteMessage'](_0x14e44d);}async['fetchProfilePicture']({instanceName:_0xcc3d9b},_0x424f7d){const _0x177298=a0_0x3656ce;return await this[_0x177298(0x291)][_0x177298(0x6c1)][_0xcc3d9b]['profilePicture'](_0x424f7d[_0x177298(0x204)]);}async[a0_0x3656ce(0x1e0)]({instanceName:_0x44aa85},_0x4701e7){const _0x34b94e=a0_0x3656ce;return await this[_0x34b94e(0x291)]['waInstances'][_0x44aa85]['fetchProfile'](_0x4701e7[_0x34b94e(0x204)]);}async[a0_0x3656ce(0x1c9)]({instanceName:_0x3b62ac},_0xa7877c){const _0x2ee210=a0_0x3656ce;return await this[_0x2ee210(0x291)]['waInstances'][_0x3b62ac]['updatePresence'](_0xa7877c);}async[a0_0x3656ce(0x479)]({instanceName:_0x69ad48},_0x56865d){const _0x5af6a7=a0_0x3656ce;return await this['waMonitor']['waInstances'][_0x69ad48][_0x5af6a7(0x479)](_0x56865d);}async[a0_0x3656ce(0x3ca)]({instanceName:_0xda9b7a},_0x70d147){const _0xbe12f8=a0_0x3656ce;return await this[_0xbe12f8(0x291)][_0xbe12f8(0x6c1)][_0xda9b7a][_0xbe12f8(0x3ca)](_0x70d147);}async['fetchMessages']({instanceName:_0xe40e0b},_0x5575c9){const _0x5c2d21=a0_0x3656ce;return await this[_0x5c2d21(0x291)]['waInstances'][_0xe40e0b][_0x5c2d21(0x3e3)](_0x5575c9);}async['fetchLabels']({instanceName:_0x154a92}){const _0xaa8731=a0_0x3656ce;return await this[_0xaa8731(0x291)][_0xaa8731(0x6c1)][_0x154a92][_0xaa8731(0x6ac)]();}async[a0_0x3656ce(0x607)]({instanceName:_0x276881}){const _0x67127b=a0_0x3656ce;return await this[_0x67127b(0x291)][_0x67127b(0x6c1)][_0x276881][_0x67127b(0x607)]();}async[a0_0x3656ce(0x306)]({instanceName:_0x8f7d48}){const _0x5bdd73=a0_0x3656ce;return await this[_0x5bdd73(0x291)][_0x5bdd73(0x6c1)][_0x8f7d48][_0x5bdd73(0x306)]();}async[a0_0x3656ce(0x4ff)]({instanceName:_0x56a4ee},_0x318cf2){const _0x4b674b=a0_0x3656ce;return await this['waMonitor'][_0x4b674b(0x6c1)][_0x56a4ee][_0x4b674b(0x4ff)](_0x318cf2);}async[a0_0x3656ce(0x5b8)]({instanceName:_0x473c06},_0xff8922){const _0x1dd9aa=a0_0x3656ce;return await this[_0x1dd9aa(0x291)][_0x1dd9aa(0x6c1)][_0x473c06]['fetchBusinessProfile'](_0xff8922[_0x1dd9aa(0x204)]);}async['updateProfileName']({instanceName:_0x1dae4f},_0x412ec8){const _0xda8068=a0_0x3656ce;return await this[_0xda8068(0x291)][_0xda8068(0x6c1)][_0x1dae4f][_0xda8068(0x6b8)](_0x412ec8[_0xda8068(0x6ba)]);}async[a0_0x3656ce(0x5f4)]({instanceName:_0x1cff5a},_0x3f3426){const _0x1fbd09=a0_0x3656ce;return await this[_0x1fbd09(0x291)][_0x1fbd09(0x6c1)][_0x1cff5a][_0x1fbd09(0x5f4)](_0x3f3426[_0x1fbd09(0x6b6)]);}async[a0_0x3656ce(0x32b)]({instanceName:_0x364f87},_0x576a8b){const _0xe09eb5=a0_0x3656ce;return await this['waMonitor'][_0xe09eb5(0x6c1)][_0x364f87][_0xe09eb5(0x32b)](_0x576a8b[_0xe09eb5(0x1fd)]);}async[a0_0x3656ce(0x2ad)]({instanceName:_0x418b70},_0x1ea93d){const _0x2dae01=a0_0x3656ce;return await this[_0x2dae01(0x291)][_0x2dae01(0x6c1)][_0x418b70][_0x2dae01(0x2ad)]();}},Ms=require(a0_0x3656ce(0x333)),Pt=class c{constructor(_0x2175f4,_0x1eb7b6,_0x977e9d,_0x42bf7f,_0x328090){const _0x4620e4=a0_0x3656ce;this[_0x4620e4(0x291)]=_0x2175f4,this[_0x4620e4(0x5b9)]=_0x1eb7b6,this[_0x4620e4(0x1f9)]=_0x977e9d,this[_0x4620e4(0x64a)]=_0x42bf7f,this[_0x4620e4(0x605)]=_0x328090,this[_0x4620e4(0x506)]=new v(c[_0x4620e4(0x6ba)]);}async[a0_0x3656ce(0x72d)]({instanceName:_0x5edc93,apikey:_0x1042e9,number:_0x236f8d,proxy:_0x310bc2=!0x0}){const _0x3ce8b6=a0_0x3656ce;try{let _0x15ae7a=new fe(this[_0x3ce8b6(0x5b9)],this[_0x3ce8b6(0x64a)],this['repository']);_0x15ae7a[_0x3ce8b6(0x3a7)]=_0x5edc93,this[_0x3ce8b6(0x291)]['waInstances'][_0x15ae7a[_0x3ce8b6(0x3a7)]]=_0x15ae7a;let _0x1b2e2e={};_0x1042e9?(await this['repository'][_0x3ce8b6(0x5e1)][_0x3ce8b6(0x263)]({'apikey':_0x1042e9},_0x5edc93),_0x1b2e2e[_0x3ce8b6(0x222)]=_0x1042e9):_0x1b2e2e=await this['authService']['generateHash']({'instanceName':_0x15ae7a[_0x3ce8b6(0x3a7)]});let _0x280421;return await _0x15ae7a['connectToWhatsapp'](_0x236f8d,_0x310bc2),await(0x0,Ms[_0x3ce8b6(0x6fc)])(0x7d0),_0x280421=_0x15ae7a[_0x3ce8b6(0x16e)],{'instance':{'instanceName':_0x15ae7a['instanceName'],'status':'created'},'hash':_0x1b2e2e,'qrcode':_0x280421};}catch(_0x84840f){this[_0x3ce8b6(0x506)][_0x3ce8b6(0x417)](_0x84840f);}}async[a0_0x3656ce(0x5c0)]({instanceName:_0x976145,number:_0x2ed194=null,proxy:_0x125dad=!0x0}){const _0x1f3d4b=a0_0x3656ce;try{let _0x16df0d=this[_0x1f3d4b(0x291)]['waInstances'][_0x976145];switch(_0x16df0d?.[_0x1f3d4b(0x243)]?.['state']){case _0x1f3d4b(0x1bf):return await _0x16df0d[_0x1f3d4b(0x56c)](_0x2ed194,_0x125dad),await(0x0,Ms['delay'])(0x7d0),_0x16df0d[_0x1f3d4b(0x16e)];case _0x1f3d4b(0x6cc):return _0x16df0d[_0x1f3d4b(0x16e)];default:return await this['connectionState']({'instanceName':_0x976145});}}catch(_0xf7d102){this['logger'][_0x1f3d4b(0x16d)](_0xf7d102);}}async[a0_0x3656ce(0x4d5)]({instanceName:_0x4d24a8}){const _0x491ff0=a0_0x3656ce;let _0x185a12=this[_0x491ff0(0x291)][_0x491ff0(0x6c1)][_0x4d24a8][_0x491ff0(0x243)],_0x3acb3f=null;_0x185a12[_0x491ff0(0x167)]===_0x491ff0(0x2ff)&&_0x4d24a8&&(_0x3acb3f=await this['waMonitor'][_0x491ff0(0x3d2)](_0x4d24a8));let _0x186e3c=null;return _0x185a12[_0x491ff0(0x167)]===_0x491ff0(0x6cc)&&_0x4d24a8&&(_0x186e3c=this[_0x491ff0(0x291)][_0x491ff0(0x6c1)][_0x4d24a8][_0x491ff0(0x16e)]),{'instance':_0x4d24a8,'connectionStatus':_0x185a12,'instanceInfo':_0x3acb3f,'qrcode':_0x186e3c};}async[a0_0x3656ce(0x65e)]({instanceName:_0x47f0c3}){const _0xe4dc2f=a0_0x3656ce;try{return this[_0xe4dc2f(0x291)][_0xe4dc2f(0x6c1)][_0x47f0c3]?.['client']?.['ws']?.[_0xe4dc2f(0x1bf)](),{'status':_0xe4dc2f(0x3e8),'error':!0x1,'response':{'message':_0xe4dc2f(0x76d)}};}catch(_0x3ac3c1){this['logger']['error'](_0x3ac3c1);}}async['fetchInstances']({instanceName:_0x4909b3}){const _0xc949=a0_0x3656ce;return _0x4909b3?this['waMonitor'][_0xc949(0x3d2)](_0x4909b3):this[_0xc949(0x291)][_0xc949(0x3d2)]();}async[a0_0x3656ce(0x245)]({instanceName:_0x3065e6}){const _0x4f982c=a0_0x3656ce;try{return await this['waMonitor'][_0x4f982c(0x6c1)][_0x3065e6]?.[_0x4f982c(0x543)]?.[_0x4f982c(0x245)]('Log\x20out\x20instance:\x20'+_0x3065e6),{'error':!0x1,'message':_0x4f982c(0x794)};}catch(_0x1e59d6){throw new O(_0x1e59d6[_0x4f982c(0x368)]());}}async['deleteInstance']({instanceName:_0x148116}){const _0x3856d7=a0_0x3656ce;if((await this[_0x3856d7(0x4d5)]({'instanceName':_0x148116}))[_0x3856d7(0x243)]['state']===_0x3856d7(0x2ff))throw new h([_0x3856d7(0x18f),_0x3856d7(0x28f)]);try{return delete this[_0x3856d7(0x291)][_0x3856d7(0x6c1)][_0x148116],{'error':!0x1,'message':_0x3856d7(0x615)};}catch(_0x49c6a1){throw new h(_0x49c6a1[_0x3856d7(0x368)]());}}},X=require(a0_0x3656ce(0x284)),$t=class{constructor(_0x233519){this['waMonitor']=_0x233519;}async[a0_0x3656ce(0x781)]({instanceName:_0x3bff61},_0x27d932){const _0x210648=a0_0x3656ce;return await this[_0x210648(0x291)][_0x210648(0x6c1)][_0x3bff61][_0x210648(0x791)](_0x27d932);}async['sendMenu']({instanceName:_0x2c7a82},_0x57fe02){const _0x35aedc=a0_0x3656ce;return await this[_0x35aedc(0x291)][_0x35aedc(0x6c1)][_0x2c7a82][_0x35aedc(0x44c)](_0x57fe02);}async[a0_0x3656ce(0x4cf)]({instanceName:_0x56cc74},_0x2d3781){const _0x45f6a2=a0_0x3656ce;if((0x0,X[_0x45f6a2(0x447)])(_0x2d3781?.['mediaMessage']?.['media'])&&!_0x2d3781?.[_0x45f6a2(0x367)]?.[_0x45f6a2(0x769)])throw new h('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,X['isURL'])(_0x2d3781?.[_0x45f6a2(0x367)]?.[_0x45f6a2(0x30f)])||(0x0,X['isBase64'])(_0x2d3781?.['mediaMessage']?.[_0x45f6a2(0x30f)]))return await this[_0x45f6a2(0x291)][_0x45f6a2(0x6c1)][_0x56cc74]['mediaMessage'](_0x2d3781);throw new h(_0x45f6a2(0x616));}async['sendSticker']({instanceName:_0x494dfa},_0x2b82fd){const _0x56011b=a0_0x3656ce;if((0x0,X[_0x56011b(0x2c2)])(_0x2b82fd[_0x56011b(0x274)][_0x56011b(0x527)])||(0x0,X[_0x56011b(0x447)])(_0x2b82fd[_0x56011b(0x274)][_0x56011b(0x527)]))return await this['waMonitor']['waInstances'][_0x494dfa][_0x56011b(0x65f)](_0x2b82fd);throw new h('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendWhatsAppAudio']({instanceName:_0x4cebbe},_0x29e8f5){const _0x1cbbf8=a0_0x3656ce;if((0x0,X[_0x1cbbf8(0x2c2)])(_0x29e8f5['audioMessage'][_0x1cbbf8(0x1fa)])||(0x0,X['isBase64'])(_0x29e8f5['audioMessage']['audio']))return await this[_0x1cbbf8(0x291)]['waInstances'][_0x4cebbe]['audioWhatsapp'](_0x29e8f5);throw new h(_0x1cbbf8(0x616));}async[a0_0x3656ce(0x3fe)]({instanceName:_0x5dea69},_0x37bd81){const _0xa97ec7=a0_0x3656ce;if((0x0,X[_0xa97ec7(0x447)])(_0x37bd81[_0xa97ec7(0x61e)][_0xa97ec7(0x367)]?.[_0xa97ec7(0x30f)])&&!_0x37bd81[_0xa97ec7(0x61e)]['mediaMessage']?.['fileName'])throw new h(_0xa97ec7(0x296));return await this[_0xa97ec7(0x291)][_0xa97ec7(0x6c1)][_0x5dea69]['buttonMessage'](_0x37bd81);}async[a0_0x3656ce(0x4d4)]({instanceName:_0x19f082},_0x2f1170){const _0x59cc79=a0_0x3656ce;return await this['waMonitor'][_0x59cc79(0x6c1)][_0x19f082][_0x59cc79(0x16a)](_0x2f1170);}async[a0_0x3656ce(0x404)]({instanceName:_0x406f03},_0x6b81da){const _0x3bd268=a0_0x3656ce;return await this[_0x3bd268(0x291)][_0x3bd268(0x6c1)][_0x406f03][_0x3bd268(0x26f)](_0x6b81da);}async[a0_0x3656ce(0x67b)]({instanceName:_0x4ef8b7},_0x2f8587){const _0x22981f=a0_0x3656ce;return await this[_0x22981f(0x291)][_0x22981f(0x6c1)][_0x4ef8b7][_0x22981f(0x21d)](_0x2f8587);}async[a0_0x3656ce(0x387)]({instanceName:_0x396055},_0x17cbcf){const _0xb4d4eb=a0_0x3656ce;return await this['waMonitor'][_0xb4d4eb(0x6c1)][_0x396055][_0xb4d4eb(0x4e3)](_0x17cbcf);}async[a0_0x3656ce(0x327)]({instanceName:_0x4e350b},_0x40cfc2){const _0x1be2a4=a0_0x3656ce;if(!_0x40cfc2[_0x1be2a4(0x48d)]['reaction'][_0x1be2a4(0x27b)](/[^\(\)\w\sà-ú"-\+]+/))throw new h(_0x1be2a4(0x2e3));return await this[_0x1be2a4(0x291)]['waInstances'][_0x4e350b]['reactionMessage'](_0x40cfc2);}async[a0_0x3656ce(0x753)]({instanceName:_0x20bf4f},_0x3073e1){const _0x5138ad=a0_0x3656ce;return await this[_0x5138ad(0x291)][_0x5138ad(0x6c1)][_0x20bf4f]['statusMessage'](_0x3073e1);}},br=require('jsonwebtoken'),Cs=require(a0_0x3656ce(0x429)),kt=class c{constructor(_0x53bf9d,_0xe65660,_0x4c8b55){const _0x4b975c=a0_0x3656ce;this['configService']=_0x53bf9d,this[_0x4b975c(0x291)]=_0xe65660,this[_0x4b975c(0x1f9)]=_0x4c8b55,this[_0x4b975c(0x506)]=new v(c[_0x4b975c(0x6ba)]);}async['jwt'](_0x18cd41){const _0x54c28d=a0_0x3656ce;let _0x578ab6=this[_0x54c28d(0x5b9)][_0x54c28d(0x786)]('AUTHENTICATION')[_0x54c28d(0x1c8)],_0x3e71b2=(0x0,br[_0x54c28d(0x51c)])({'instanceName':_0x18cd41['instanceName'],'apiName':Ge,'tokenId':(0x0,Cs['v4'])()},_0x578ab6[_0x54c28d(0x403)],{'expiresIn':_0x578ab6[_0x54c28d(0x270)],'encoding':_0x54c28d(0x6dd),'subject':_0x54c28d(0x6be)}),_0x59655a=await this['repository'][_0x54c28d(0x5e1)][_0x54c28d(0x263)]({'jwt':_0x3e71b2},_0x18cd41[_0x54c28d(0x3a7)]);if(_0x59655a['error'])throw this['logger'][_0x54c28d(0x417)]({'localError':c['name']+_0x54c28d(0x34b),'error':_0x59655a[_0x54c28d(0x417)]}),new h(_0x54c28d(0x347),_0x59655a['error']?.['toString']());return{'jwt':_0x3e71b2};}async[a0_0x3656ce(0x222)](_0x35e35a){const _0xe1fcce=a0_0x3656ce;let _0x40ba91=(0x0,Cs['v4'])()[_0xe1fcce(0x304)](),_0x255f8c=await this[_0xe1fcce(0x1f9)][_0xe1fcce(0x5e1)][_0xe1fcce(0x263)]({'apikey':_0x40ba91},_0x35e35a[_0xe1fcce(0x3a7)]);if(_0x255f8c['error'])throw this[_0xe1fcce(0x506)][_0xe1fcce(0x417)]({'localError':c[_0xe1fcce(0x6ba)]+_0xe1fcce(0x34b),'error':_0x255f8c[_0xe1fcce(0x417)]}),new h('Authentication\x20error',_0x255f8c[_0xe1fcce(0x417)]?.['toString']());return{'apikey':_0x40ba91};}async[a0_0x3656ce(0x76a)](_0x161745){const _0x2358b2=a0_0x3656ce;let _0x210728=this[_0x2358b2(0x5b9)][_0x2358b2(0x786)]('AUTHENTICATION');return await this[_0x210728[_0x2358b2(0x199)]](_0x161745);}},Lt=class{constructor(_0x22596c){this['waMonitor']=_0x22596c;}async[a0_0x3656ce(0x5fb)](_0x482877,_0x5d42db){const _0x2f4045=a0_0x3656ce;return await this['waMonitor'][_0x2f4045(0x6c1)][_0x482877[_0x2f4045(0x3a7)]][_0x2f4045(0x5fb)](_0x5d42db);}async[a0_0x3656ce(0x60f)](_0x1e6f9f,_0x3fa628){const _0xa15a66=a0_0x3656ce;return await this[_0xa15a66(0x291)][_0xa15a66(0x6c1)][_0x1e6f9f['instanceName']]['updateGroupPicture'](_0x3fa628);}async[a0_0x3656ce(0x56d)](_0x24ee6a,_0x4c2740){const _0x24ec6b=a0_0x3656ce;return await this['waMonitor']['waInstances'][_0x24ee6a[_0x24ec6b(0x3a7)]][_0x24ec6b(0x56d)](_0x4c2740);}async[a0_0x3656ce(0x37e)](_0x320273,_0x5d1648){const _0x2586e7=a0_0x3656ce;return await this[_0x2586e7(0x291)][_0x2586e7(0x6c1)][_0x320273[_0x2586e7(0x3a7)]][_0x2586e7(0x37e)](_0x5d1648);}async[a0_0x3656ce(0x6d6)](_0x48876c,_0x385aae){const _0x1bf462=a0_0x3656ce;return await this['waMonitor'][_0x1bf462(0x6c1)][_0x48876c['instanceName']][_0x1bf462(0x6d6)](_0x385aae);}async['findGroupInfo'](_0x58eb00,_0x163ea3){const _0x4472d6=a0_0x3656ce;return await this[_0x4472d6(0x291)][_0x4472d6(0x6c1)][_0x58eb00[_0x4472d6(0x3a7)]][_0x4472d6(0x1f8)](_0x163ea3);}async[a0_0x3656ce(0x59c)](_0x4c80d4){const _0x166b52=a0_0x3656ce;return await this['waMonitor']['waInstances'][_0x4c80d4['instanceName']][_0x166b52(0x59c)]();}async['inviteCode'](_0x52c3a0,_0x2b9661){const _0x3a482e=a0_0x3656ce;return await this[_0x3a482e(0x291)]['waInstances'][_0x52c3a0[_0x3a482e(0x3a7)]][_0x3a482e(0x764)](_0x2b9661);}async[a0_0x3656ce(0x32e)](_0x1b2211,_0xe8ec45){const _0x4c4836=a0_0x3656ce;return await this[_0x4c4836(0x291)][_0x4c4836(0x6c1)][_0x1b2211[_0x4c4836(0x3a7)]][_0x4c4836(0x32e)](_0xe8ec45);}async['revokeInviteCode'](_0x3e5b4f,_0x55f864){const _0x40450b=a0_0x3656ce;return await this[_0x40450b(0x291)][_0x40450b(0x6c1)][_0x3e5b4f[_0x40450b(0x3a7)]]['revokeInviteCode'](_0x55f864);}async[a0_0x3656ce(0x74c)](_0x35ca5b,_0x3a6985){const _0x4fc78c=a0_0x3656ce;return await this[_0x4fc78c(0x291)][_0x4fc78c(0x6c1)][_0x35ca5b[_0x4fc78c(0x3a7)]][_0x4fc78c(0x74c)](_0x3a6985);}async[a0_0x3656ce(0x75c)](_0x396893,_0x13e960){const _0x383f0b=a0_0x3656ce;return await this[_0x383f0b(0x291)][_0x383f0b(0x6c1)][_0x396893['instanceName']][_0x383f0b(0x377)](_0x13e960);}async['toggleEphemeral'](_0x5581ab,_0x308b1d){const _0x198e5e=a0_0x3656ce;return await this[_0x198e5e(0x291)]['waInstances'][_0x5581ab['instanceName']][_0x198e5e(0x599)](_0x308b1d);}async[a0_0x3656ce(0x749)](_0x1bb76e,_0x3332ad){const _0x1392d2=a0_0x3656ce;return await this['waMonitor'][_0x1392d2(0x6c1)][_0x1bb76e[_0x1392d2(0x3a7)]][_0x1392d2(0x749)](_0x3332ad);}},Ft=class{constructor(_0x31c6f1){const _0x2f7bf0=a0_0x3656ce;this[_0x2f7bf0(0x291)]=_0x31c6f1;}['create'](_0x4a76f3,_0x4227c0){const _0x2e4ac7=a0_0x3656ce;return this[_0x2e4ac7(0x291)]['waInstances'][_0x4a76f3[_0x2e4ac7(0x3a7)]]['setWebhook'](_0x4227c0);}async[a0_0x3656ce(0x285)](_0x29f7f1){const _0x4759ca=a0_0x3656ce;try{return await this[_0x4759ca(0x291)][_0x4759ca(0x6c1)][_0x29f7f1[_0x4759ca(0x3a7)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Qd=new v('FlowController'),Ut=class{constructor(_0x281ae3){const _0x279082=a0_0x3656ce;this[_0x279082(0x291)]=_0x281ae3;}async[a0_0x3656ce(0x3d8)](_0x3ff62e,_0x58b583){const _0x31fe38=a0_0x3656ce;return await this[_0x31fe38(0x291)][_0x31fe38(0x6c1)][_0x3ff62e['instanceName']][_0x31fe38(0x3d8)](_0x58b583);}async['getScheduleMessage'](_0x37b1e9){const _0x38177a=a0_0x3656ce;return await this[_0x38177a(0x291)][_0x38177a(0x6c1)][_0x37b1e9[_0x38177a(0x3a7)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x348620){const _0x3c1604=a0_0x3656ce;return await this[_0x3c1604(0x291)][_0x3c1604(0x6c1)][_0x348620[_0x3c1604(0x3a7)]][_0x3c1604(0x59e)]();}async[a0_0x3656ce(0x36e)](_0x6980e4){const _0x142505=a0_0x3656ce;return await this[_0x142505(0x291)][_0x142505(0x6c1)][_0x6980e4['instanceName']][_0x142505(0x36e)]();}async[a0_0x3656ce(0x459)](_0x104c1e,_0x37bf38){const _0x414de2=a0_0x3656ce;return await this[_0x414de2(0x291)][_0x414de2(0x6c1)][_0x104c1e['instanceName']][_0x414de2(0x459)](_0x37bf38);}async[a0_0x3656ce(0x67c)](_0x5107c8,_0x1557b1){const _0x399569=a0_0x3656ce;return await this[_0x399569(0x291)][_0x399569(0x6c1)][_0x5107c8['instanceName']]['updateCustomFields'](_0x1557b1);}async['updateFlowConfig'](_0x254360,_0x29209b){const _0x4e28c4=a0_0x3656ce;return await this[_0x4e28c4(0x291)][_0x4e28c4(0x6c1)][_0x254360['instanceName']][_0x4e28c4(0x6e0)](_0x29209b);}async[a0_0x3656ce(0x1f5)](_0xb09a23,_0x2dc9e9){const _0x2fef1a=a0_0x3656ce;return await this[_0x2fef1a(0x291)][_0x2fef1a(0x6c1)][_0xb09a23[_0x2fef1a(0x3a7)]]['startFlow'](_0x2dc9e9);}async[a0_0x3656ce(0x70f)](_0x2455be,_0x4fd85f){const _0x4c89c6=a0_0x3656ce;return await this['waMonitor'][_0x4c89c6(0x6c1)][_0x2455be['instanceName']]['getConversation'](_0x4fd85f);}async[a0_0x3656ce(0x1c0)](_0x5521e2,_0x2d9e75){const _0x3d9624=a0_0x3656ce;return await this[_0x3d9624(0x291)][_0x3d9624(0x6c1)][_0x5521e2[_0x3d9624(0x3a7)]][_0x3d9624(0x1c0)](_0x2d9e75);}async['editConversation'](_0x5dab6c,_0x2ac915){const _0x454177=a0_0x3656ce;return await this[_0x454177(0x291)]['waInstances'][_0x5dab6c['instanceName']][_0x454177(0x771)](_0x2ac915);}async[a0_0x3656ce(0x18e)](_0x15e82b,_0x2158d4){const _0xb21d3f=a0_0x3656ce;return await this[_0xb21d3f(0x291)][_0xb21d3f(0x6c1)][_0x15e82b[_0xb21d3f(0x3a7)]][_0xb21d3f(0x18e)](_0x2158d4);}async[a0_0x3656ce(0x266)](_0x321322,_0x4d62fc){const _0x2f1a4a=a0_0x3656ce;return await this[_0x2f1a4a(0x291)]['waInstances'][_0x321322['instanceName']]['getFlow'](_0x4d62fc[_0x2f1a4a(0x6ba)]);}async[a0_0x3656ce(0x5ed)](_0x550ede,_0x36da3b){const _0x5ec36b=a0_0x3656ce;return await this[_0x5ec36b(0x291)]['waInstances'][_0x550ede[_0x5ec36b(0x3a7)]][_0x5ec36b(0x5ed)](_0x36da3b);}async[a0_0x3656ce(0x1bc)](_0x3d5528,_0x349866){const _0x54ba98=a0_0x3656ce;return await this[_0x54ba98(0x291)][_0x54ba98(0x6c1)][_0x3d5528['instanceName']]['editFlow'](_0x349866);}async[a0_0x3656ce(0x2bf)](_0x35582e,_0xf910b9){const _0x46bcf8=a0_0x3656ce;return await this[_0x46bcf8(0x291)][_0x46bcf8(0x6c1)][_0x35582e[_0x46bcf8(0x3a7)]][_0x46bcf8(0x2bf)](_0xf910b9);}async[a0_0x3656ce(0x1b9)](_0x1319be,_0x2508ab){const _0x5afa50=a0_0x3656ce;return await this[_0x5afa50(0x291)][_0x5afa50(0x6c1)][_0x1319be[_0x5afa50(0x3a7)]][_0x5afa50(0x1b9)](_0x2508ab);}async[a0_0x3656ce(0x418)](_0xe02f69,_0x55387a){const _0x1bb7dd=a0_0x3656ce;return await this['waMonitor'][_0x1bb7dd(0x6c1)][_0xe02f69['instanceName']][_0x1bb7dd(0x418)](_0x55387a);}async['editFlowCondition'](_0x33c7f0,_0x58000a){const _0x10c412=a0_0x3656ce;return await this[_0x10c412(0x291)][_0x10c412(0x6c1)][_0x33c7f0[_0x10c412(0x3a7)]][_0x10c412(0x520)](_0x58000a);}async[a0_0x3656ce(0x452)](_0x523b62,_0x2de4fb){const _0x18288c=a0_0x3656ce;return await this[_0x18288c(0x291)][_0x18288c(0x6c1)][_0x523b62[_0x18288c(0x3a7)]][_0x18288c(0x452)](_0x2de4fb);}async['editFlowVariable'](_0x2156b3,_0x58b25c){const _0xeeb2fb=a0_0x3656ce;return await this['waMonitor'][_0xeeb2fb(0x6c1)][_0x2156b3[_0xeeb2fb(0x3a7)]][_0xeeb2fb(0x398)](_0x58b25c);}async[a0_0x3656ce(0x795)](_0x460e5b,_0x2a1906){const _0x196c89=a0_0x3656ce;return await this[_0x196c89(0x291)][_0x196c89(0x6c1)][_0x460e5b[_0x196c89(0x3a7)]][_0x196c89(0x795)](_0x2a1906[_0x196c89(0x6ba)]);}async[a0_0x3656ce(0x45b)](_0x797f8b){const _0x39f97b=a0_0x3656ce;return await this['waMonitor'][_0x39f97b(0x6c1)][_0x797f8b[_0x39f97b(0x3a7)]][_0x39f97b(0x45b)]();}},Jt=class{constructor(_0x48f352){const _0x55ee7c=a0_0x3656ce;this[_0x55ee7c(0x179)]=_0x48f352;}async[a0_0x3656ce(0x3ef)](_0x1326f5,_0xf131ed){const _0x3e7ee0=a0_0x3656ce;return this[_0x3e7ee0(0x179)][_0x3e7ee0(0x263)](_0x1326f5,_0xf131ed);}async[a0_0x3656ce(0x5b5)](_0x56be34){const _0x188354=a0_0x3656ce;return this['webhookService'][_0x188354(0x285)](_0x56be34);}},jt=class extends I{constructor(_0x3f28d2,_0x29eb26){const _0x323563=a0_0x3656ce;super(_0x29eb26),this[_0x323563(0x3c8)]=_0x3f28d2,this[_0x323563(0x5b9)]=_0x29eb26;}async[a0_0x3656ce(0x263)](_0x4a95e7,_0x358b79){const _0x264f77=a0_0x3656ce;try{return this[_0x264f77(0x1a1)]['ENABLED']?{'insertCount':(await this[_0x264f77(0x3c8)][_0x264f77(0x4d9)]({'_id':_0x358b79},{..._0x4a95e7},{'upsert':!0x0}))[_0x264f77(0x1d4)]}:{'insertCount':0x1};}catch(_0x2867e7){return _0x2867e7;}}async[a0_0x3656ce(0x27c)](_0x5908c6){const _0x512942=a0_0x3656ce;try{if(this['dbSettings'][_0x512942(0x6da)]){await this[_0x512942(0x3c8)][_0x512942(0x693)]({'_id':_0x5908c6});return;}}catch(_0xf2f8){return{'error':_0xf2f8};}}async[a0_0x3656ce(0x285)](_0x53f83b){const _0x3e500c=a0_0x3656ce;try{if(this[_0x3e500c(0x1a1)][_0x3e500c(0x6da)])return await this[_0x3e500c(0x3c8)][_0x3e500c(0x166)]({'_id':_0x53f83b});}catch{return{};}}},qt=class extends I{constructor(_0x19db68,_0x2472aa){const _0x43a198=a0_0x3656ce;super(_0x2472aa),this[_0x43a198(0x2ce)]=_0x19db68,this[_0x43a198(0x5b9)]=_0x2472aa,this['auth']=_0x2472aa[_0x43a198(0x786)](_0x43a198(0x173));}async[a0_0x3656ce(0x263)](_0x5db2d3,_0x5324e0){const _0x152d4e=a0_0x3656ce;try{if(this[_0x152d4e(0x1a1)][_0x152d4e(0x6da)])return{'insertCount':(await this[_0x152d4e(0x2ce)][_0x152d4e(0x27f)]({'_id':_0x5324e0},{'$set':{..._0x5db2d3}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x53fe9f){return{'error':_0x53fe9f};}}async['updateAll'](_0x34502f,_0x2cbd41){const _0x861d57=a0_0x3656ce;try{if(this['dbSettings'][_0x861d57(0x6da)])return{'insertCount':(await this[_0x861d57(0x2ce)][_0x861d57(0x171)](_0x34502f,{'$set':_0x2cbd41},{'upsert':!0x1}))[_0x861d57(0x1d4)]};throw new Error(_0x861d57(0x77b));}catch(_0x48defb){return{'error':_0x48defb};}}async[a0_0x3656ce(0x60b)](_0x2bef65){const _0xb9ff8e=a0_0x3656ce;try{if(this[_0xb9ff8e(0x1a1)][_0xb9ff8e(0x6da)])return{'insertCount':(await this[_0xb9ff8e(0x2ce)][_0xb9ff8e(0x60b)](_0x2bef65))[_0xb9ff8e(0x5fa)]};throw new Error(_0xb9ff8e(0x77b));}catch(_0x5039be){return{'error':_0x5039be};}}async[a0_0x3656ce(0x27c)](_0x5cf2fa){const _0x2580c9=a0_0x3656ce;try{if(this[_0x2580c9(0x1a1)]['ENABLED']){await this[_0x2580c9(0x2ce)]['deleteOne']({'_id':_0x5cf2fa});return;}}catch(_0x3540a0){return{'error':_0x3540a0};}}async['find'](_0x3e0b27){const _0x595f92=a0_0x3656ce;try{if(this[_0x595f92(0x1a1)]['ENABLED'])return await this['authModel'][_0x595f92(0x166)]({'_id':_0x3e0b27});}catch{return{};}}async[a0_0x3656ce(0x30e)](){const _0x3612fb=a0_0x3656ce;try{if(this[_0x3612fb(0x1a1)][_0x3612fb(0x6da)])return await this[_0x3612fb(0x2ce)][_0x3612fb(0x285)]();}catch{return[];}}},Vt=class extends I{[a0_0x3656ce(0x4d6)](_0xcdde5){return Zs(_0xcdde5);}async[a0_0x3656ce(0x363)](_0xb1211d){const _0x1ced04=a0_0x3656ce;try{let _0x1de7e7=ea,_0xf46876=this[_0x1ced04(0x4d6)](_0xb1211d),_0xfba69a=await _0x1de7e7[_0x1ced04(0x285)]({'owner':_0xb1211d})['lean'](),_0x23d4bf=[],_0x2e0f4f=[];for(let _0x7fdd95 of _0xfba69a)await _0xf46876[_0x1ced04(0x73f)](_0x7fdd95[_0x1ced04(0x34e)])[_0x1ced04(0x31a)]()||(_0x23d4bf['push'](_0x7fdd95),_0x2e0f4f[_0x1ced04(0x7a1)](_0x7fdd95[_0x1ced04(0x34e)]));return _0x23d4bf[_0x1ced04(0x391)]>0x0&&await _0xf46876[_0x1ced04(0x1d8)](_0x23d4bf,{'ordered':!0x1}),{'success':!0x0};}catch(_0x49f435){return console[_0x1ced04(0x417)](_0x1ced04(0x439),_0x49f435),{'success':!0x1,'error':_0x49f435};}}async[a0_0x3656ce(0x27c)](_0x5ec6e1,_0x580e2f){const _0x5cc362=a0_0x3656ce;try{let _0x17477e=this[_0x5cc362(0x4d6)](_0x580e2f),_0xc2e64=A(_0x5ec6e1[_0x5cc362(0x75e)]);return{'deletedCount':(await _0x17477e[_0x5cc362(0x60b)](_0xc2e64))[_0x5cc362(0x5fa)]};}catch(_0x3fdf2f){return{'error':_0x3fdf2f?.[_0x5cc362(0x368)]()};}}async[a0_0x3656ce(0x693)](_0x4f2338,_0x49a417){const _0xae88b0=a0_0x3656ce;try{let _0x1c50e8=this[_0xae88b0(0x4d6)](_0x49a417),_0x279640=A(_0x4f2338[_0xae88b0(0x75e)]);return{'deletedCount':(await _0x1c50e8[_0xae88b0(0x693)](_0x279640))[_0xae88b0(0x5fa)]};}catch(_0x373450){return{'error':_0x373450?.[_0xae88b0(0x368)]()};}}async[a0_0x3656ce(0x27f)](_0x3fdaae,_0x339bf8,_0x5a695a){const _0x24171a=a0_0x3656ce;try{return await this[_0x24171a(0x4d6)](_0x5a695a)[_0x24171a(0x5e3)](_0x3fdaae,_0x339bf8,{'new':!0x0});}catch(_0x1d47aa){return console[_0x24171a(0x417)](_0x24171a(0x362),_0x1d47aa),null;}}async['createAndSave'](_0x3d2513,_0x16c813){const _0x57294e=a0_0x3656ce;try{let _0x47c8a9=this['getFlowModelForOwner'](_0x16c813);return await new _0x47c8a9(_0x3d2513)[_0x57294e(0x1d3)]();}catch(_0x39e14a){return console[_0x57294e(0x417)](_0x57294e(0x563),_0x39e14a),null;}}async[a0_0x3656ce(0x171)](_0x173574,_0x2c0f5f,_0x4c3a6c){const _0x29b266=a0_0x3656ce;try{return{'modifiedCount':(await this[_0x29b266(0x4d6)](_0x4c3a6c)['updateMany'](_0x173574,{'$set':_0x2c0f5f}))[_0x29b266(0x1d4)]};}catch(_0x86624c){return console[_0x29b266(0x417)](_0x29b266(0x5c1),_0x86624c),{'error':_0x86624c};}}async['findAll'](_0x339c37,_0x96a6ab){const _0x38ff57=a0_0x3656ce;try{let _0x49ab06=this[_0x38ff57(0x4d6)](_0x96a6ab),_0x4a5ae2=A(_0x339c37[_0x38ff57(0x75e)]);return await _0x49ab06[_0x38ff57(0x285)](_0x4a5ae2)[_0x38ff57(0x4e7)](_0x339c37?.[_0x38ff57(0x4e7)]??0x0)[_0x38ff57(0x31a)]();}catch{return[];}}async['findOne'](_0x3cfee5,_0x1abfb4){const _0x4aa6c6=a0_0x3656ce;try{let _0x55b9ac=this['getFlowModelForOwner'](_0x1abfb4),_0x24d518=A(_0x3cfee5[_0x4aa6c6(0x75e)]);return await _0x55b9ac['findOne'](_0x24d518)[_0x4aa6c6(0x31a)]();}catch{return null;}}async[a0_0x3656ce(0x73d)](_0x3e95c9){const _0x43045f=a0_0x3656ce;try{return await this[_0x43045f(0x4d6)](_0x3e95c9)['collection'][_0x43045f(0x385)](),{'success':!0x0};}catch(_0x1e372d){return console[_0x43045f(0x417)](_0x1e372d),{'success':!0x1,'error':_0x1e372d};}}},Bt=class extends I{[a0_0x3656ce(0x1c2)](_0x55736a){return sa(_0x55736a);}async['copyDataToNewModel'](_0xaf1fc9){const _0x1c38b1=a0_0x3656ce;try{let _0x1dd462=aa,_0x133bc4=this[_0x1c38b1(0x1c2)](_0xaf1fc9),_0x2bf00c=await _0x1dd462[_0x1c38b1(0x285)]({'owner':_0xaf1fc9})[_0x1c38b1(0x31a)](),_0x3affa6=[],_0x34fa39=[];for(let _0x2c30d2 of _0x2bf00c)await _0x133bc4[_0x1c38b1(0x73f)](_0x2c30d2[_0x1c38b1(0x34e)])[_0x1c38b1(0x31a)]()||(_0x3affa6[_0x1c38b1(0x7a1)](_0x2c30d2),_0x34fa39[_0x1c38b1(0x7a1)](_0x2c30d2[_0x1c38b1(0x34e)]));return _0x3affa6[_0x1c38b1(0x391)]>0x0&&await _0x133bc4[_0x1c38b1(0x1d8)](_0x3affa6,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2802f1){return console[_0x1c38b1(0x417)](_0x1c38b1(0x439),_0x2802f1),{'success':!0x1,'error':_0x2802f1};}}async['insert'](_0x1d04b9){const _0x2e01dc=a0_0x3656ce;if(_0x1d04b9[_0x2e01dc(0x391)]!==0x0)try{return{'insertCount':(await this[_0x2e01dc(0x1c2)](_0x1d04b9[0x0]['owner'])[_0x2e01dc(0x1d8)]([..._0x1d04b9]))[_0x2e01dc(0x391)]};}catch(_0x32ebdc){return _0x32ebdc;}}async[a0_0x3656ce(0x27c)](_0x494624,_0x20e636){const _0x4d47fc=a0_0x3656ce;try{let _0x4fbb44=this[_0x4d47fc(0x1c2)](_0x20e636),_0x567196=A(_0x494624['where']);return{'deletedCount':(await _0x4fbb44[_0x4d47fc(0x60b)](_0x567196))[_0x4d47fc(0x5fa)]};}catch(_0x3e43bc){return{'error':_0x3e43bc?.[_0x4d47fc(0x368)]()};}}async[a0_0x3656ce(0x693)](_0xc98499,_0xdc364e){const _0x3c1f11=a0_0x3656ce;try{let _0x39e4a1=this[_0x3c1f11(0x1c2)](_0xdc364e),_0x178e60=A(_0xc98499[_0x3c1f11(0x75e)]);return{'deletedCount':(await _0x39e4a1[_0x3c1f11(0x693)](_0x178e60))[_0x3c1f11(0x5fa)]};}catch(_0x3cd386){return{'error':_0x3cd386?.['toString']()};}}async[a0_0x3656ce(0x458)](_0x17c4fc,_0x400f28){const _0x53ad43=a0_0x3656ce;try{if(_0x17c4fc[_0x53ad43(0x391)]===0x0)return;let _0x374a36=this[_0x53ad43(0x1c2)](_0x400f28),_0x1262be=_0x17c4fc[_0x53ad43(0x568)](_0x19d90d=>({'updateOne':{'filter':{'name':_0x19d90d[_0x53ad43(0x6ba)],'owner':_0x400f28},'update':{..._0x19d90d}}})),{modifiedCount:_0x913a2}=await _0x374a36['bulkWrite'](_0x1262be);return{'insertCount':_0x913a2};}catch{return;}}async[a0_0x3656ce(0x171)](_0x53acd1,_0x214963,_0x2f1706){const _0x49d223=a0_0x3656ce;try{return{'modifiedCount':(await this[_0x49d223(0x1c2)](_0x2f1706)['updateMany'](_0x53acd1,{'$set':_0x214963}))[_0x49d223(0x1d4)]};}catch(_0x2b6c41){return console['error'](_0x49d223(0x186),_0x2b6c41),{'error':_0x2b6c41};}}async['updateOne'](_0x92eb5a,_0x369cad,_0x408052){const _0x218d5d=a0_0x3656ce;try{return await this[_0x218d5d(0x1c2)](_0x408052)['findOneAndUpdate']({'_id':_0x92eb5a},{'$set':_0x369cad},{'new':!0x0,'upsert':!0x0})[_0x218d5d(0x31a)]();}catch(_0x1de2f1){return console[_0x218d5d(0x417)](_0x1de2f1),null;}}async['find'](_0x4f77b9,_0x3cb61a){const _0x46cf42=a0_0x3656ce;try{let _0x3ec1af=this[_0x46cf42(0x1c2)](_0x3cb61a),_0x759873=A(_0x4f77b9['where']);return await _0x3ec1af['find'](_0x759873)[_0x46cf42(0x4e7)](_0x4f77b9?.[_0x46cf42(0x4e7)]??0x0)[_0x46cf42(0x6b3)]({'lastInteraction':-0x1})[_0x46cf42(0x31a)]();}catch{return[];}}async[a0_0x3656ce(0x166)](_0x48db7e,_0x1c1bc5){const _0x361fdd=a0_0x3656ce;try{return await this[_0x361fdd(0x1c2)](_0x1c1bc5)[_0x361fdd(0x166)]({..._0x48db7e[_0x361fdd(0x75e)]})['lean']();}catch{return null;}}async[a0_0x3656ce(0x73d)](_0x3e566e){const _0x20d9f9=a0_0x3656ce;try{return await this[_0x20d9f9(0x1c2)](_0x3e566e)['collection'][_0x20d9f9(0x385)](),{'success':!0x0};}catch(_0x1511d7){return console['error'](_0x1511d7),{'success':!0x1,'error':_0x1511d7};}}},Gt=class extends I{[a0_0x3656ce(0x177)](_0xaa24e3){return oa(_0xaa24e3);}async[a0_0x3656ce(0x363)](_0x510d0e){const _0x3cf8d4=a0_0x3656ce;try{let _0x489289=ia,_0x36a31c=this[_0x3cf8d4(0x177)](_0x510d0e),_0x5b5fa8=await _0x489289[_0x3cf8d4(0x285)]({'owner':_0x510d0e})[_0x3cf8d4(0x31a)](),_0x562e6a=[],_0x5a3555=[];for(let _0xbf20f8 of _0x5b5fa8)await _0x36a31c[_0x3cf8d4(0x73f)](_0xbf20f8['_id'])['lean']()||(_0x562e6a[_0x3cf8d4(0x7a1)](_0xbf20f8),_0x5a3555[_0x3cf8d4(0x7a1)](_0xbf20f8[_0x3cf8d4(0x34e)]));return _0x562e6a[_0x3cf8d4(0x391)]>0x0&&await _0x36a31c['insertMany'](_0x562e6a,{'ordered':!0x1}),{'success':!0x0};}catch(_0x13a2fe){return console['error'](_0x3cf8d4(0x439),_0x13a2fe),{'success':!0x1,'error':_0x13a2fe};}}async[a0_0x3656ce(0x395)](_0x51d76b,_0x30dd58){const _0x471aa6=a0_0x3656ce;try{let _0x4fd538=this['getScheduleMessageModelForOwner'](_0x30dd58);return await new _0x4fd538(_0x51d76b)['save']();}catch(_0x40851e){return console['error'](_0x471aa6(0x563),_0x40851e),null;}}async[a0_0x3656ce(0x693)](_0x5725c8,_0x221306){const _0x24dd32=a0_0x3656ce;try{return await this[_0x24dd32(0x177)](_0x221306)['findByIdAndDelete'](_0x5725c8),{};}catch(_0x7f5337){return{'error':_0x7f5337?.[_0x24dd32(0x368)]()};}}async['updateOne'](_0x226a77,_0x23b3af,_0x164baf){const _0x3bb898=a0_0x3656ce;try{return await this['getScheduleMessageModelForOwner'](_0x164baf)[_0x3bb898(0x6a4)](_0x226a77,{'$set':_0x23b3af})[_0x3bb898(0x31a)]();}catch(_0xd285b7){return console[_0x3bb898(0x417)](_0x3bb898(0x2a9),_0xd285b7),null;}}async[a0_0x3656ce(0x1f7)](_0x3e28c7,_0x45f8c0,_0x50cbe5){const _0x118e2f=a0_0x3656ce;try{return await this['getScheduleMessageModelForOwner'](_0x50cbe5)[_0x118e2f(0x5e3)](_0x3e28c7,_0x45f8c0,{'new':!0x0})[_0x118e2f(0x31a)]();}catch(_0x28dc50){return console[_0x118e2f(0x417)](_0x118e2f(0x2a9),_0x28dc50),null;}}async[a0_0x3656ce(0x285)](_0x1944ba,_0x490e4d){const _0x41bbf8=a0_0x3656ce;try{return await this[_0x41bbf8(0x177)](_0x490e4d)[_0x41bbf8(0x285)](_0x1944ba['where'])[_0x41bbf8(0x4e7)](_0x1944ba?.[_0x41bbf8(0x4e7)]??0x0)['sort']({'when':0x1})[_0x41bbf8(0x31a)]();}catch{return[];}}async[a0_0x3656ce(0x166)](_0x4781d0,_0x587704){const _0x2b8193=a0_0x3656ce;try{return await this[_0x2b8193(0x177)](_0x587704)[_0x2b8193(0x166)](_0x4781d0[_0x2b8193(0x75e)])[_0x2b8193(0x6b3)]({'when':0x1})[_0x2b8193(0x31a)]();}catch{return null;}}async[a0_0x3656ce(0x73f)](_0x2dafcc,_0x50a509){try{return await this['getScheduleMessageModelForOwner'](_0x50a509)['findById'](_0x2dafcc)['lean']();}catch{return null;}}async['deleteMany'](_0x14b684,_0x4d1e34){const _0x1c827e=a0_0x3656ce;try{return{'deletedCount':(await this[_0x1c827e(0x177)](_0x4d1e34)[_0x1c827e(0x60b)](_0x14b684))[_0x1c827e(0x5fa)]};}catch(_0x4a9b5d){return console['error'](_0x1c827e(0x484),_0x4a9b5d),{'error':_0x4a9b5d};}}async['deleteAll'](_0x24f8fa){const _0x214e13=a0_0x3656ce;try{return await this[_0x214e13(0x177)](_0x24f8fa)[_0x214e13(0x2ea)][_0x214e13(0x385)](),{'success':!0x0};}catch(_0x281d11){return console[_0x214e13(0x417)](_0x281d11),{'success':!0x1,'error':_0x281d11};}}},Wt=class extends I{async[a0_0x3656ce(0x458)](_0x421311,_0x48ff2d){const _0x154dec=a0_0x3656ce;try{if(this[_0x154dec(0x1a1)][_0x154dec(0x6da)]){let _0xc498ad=await xe[_0x154dec(0x6a4)]({'_id':_0x48ff2d},{'$set':_0x421311},{'new':!0x0});return console[_0x154dec(0x16d)]('Resultado\x20da\x20atualização:',_0xc498ad),_0xc498ad;}}catch(_0x2b8e8f){throw console[_0x154dec(0x417)](_0x154dec(0x442),_0x2b8e8f),_0x2b8e8f;}}async[a0_0x3656ce(0x744)](_0x43d5c2){const _0x3da830=a0_0x3656ce;try{let _0x3a5460=await xe[_0x3da830(0x73f)](_0x43d5c2);return _0x3a5460||(_0x3a5460=new xe({'_id':_0x43d5c2}),await _0x3a5460[_0x3da830(0x1d3)]()),_0x3a5460;}catch(_0x213d1c){return console[_0x3da830(0x417)](_0x3da830(0x1b2),_0x213d1c),null;}}},fo=new v(a0_0x3656ce(0x15f)),yo=new $e(b),wo=new Dt(b),bo=new He(b),So=new jt(Hs,b),Eo=new qt(Gs,b),Mo=new Vt(b),Co=new xt(b),vo=new Bt(b),No=new Gt(b),Ro=new Wt(b),ne=new _e(yo,wo,bo,So,Eo,Mo,vo,Co,No,Ro,N?.[a0_0x3656ce(0x359)]()),V=new It(Yt,b,ne),To=new kt(b,V,ne),Ao=new Ft(V),us=new Jt(Ao),T=new Ut(V),ae=new Pt(V,b,ne,Yt,To),B=new $t(V),D=new _t(V),U=new Lt(V);fo[a0_0x3656ce(0x5e0)](a0_0x3656ce(0x15a));var pg=require(a0_0x3656ce(0x308)),vs=require('fs'),Sr=R(require(a0_0x3656ce(0x431))),Er=R(require(a0_0x3656ce(0x79d))),Me=class c{static #e;static set['app'](_0x29d23b){this.#e=_0x29d23b;}static get[a0_0x3656ce(0x431)](){const _0x151fa1=a0_0x3656ce;let {FULLCHAIN:_0x1cf038,PRIVKEY:_0x247c46}=b[_0x151fa1(0x786)](_0x151fa1(0x767));return Sr[_0x151fa1(0x1ed)]({'cert':(0x0,vs[_0x151fa1(0x43e)])(_0x1cf038),'key':(0x0,vs['readFileSync'])(_0x247c46)},c.#e);}static get[a0_0x3656ce(0x79d)](){const _0x3622ea=a0_0x3656ce;return Er[_0x3622ea(0x1ed)](c.#e);}},le=R(require('fs')),Tr=R(require(a0_0x3656ce(0x663))),Ce=R(require('axios')),Ne=R(require('path')),Re=require(a0_0x3656ce(0x370));function Oo(){const _0x2700a6=a0_0x3656ce;V[_0x2700a6(0x307)]();let _0x3d1658=Ne[_0x2700a6(0x3d0)][_0x2700a6(0x3f5)](__dirname,_0x2700a6(0x780));Rr(_0x3d1658);}var Rr=_0x202d74=>{const _0x575ccc=a0_0x3656ce;let _0x131d34=le['default'][_0x575ccc(0x757)](_0x202d74),_0x3eb666=0xc*0x3c*0x3c*0x3e8,_0x529454=0x2*0x3c*0x3c*0x3e8,_0x496027=new Date()[_0x575ccc(0x4bb)]();_0x131d34[_0x575ccc(0x579)](_0x59930f=>{const _0x1b5916=_0x575ccc;let _0x57793e=Ne[_0x1b5916(0x3d0)][_0x1b5916(0x3f5)](_0x202d74,_0x59930f),_0x2f2f16=le[_0x1b5916(0x3d0)][_0x1b5916(0x66f)](_0x57793e)[_0x1b5916(0x777)]['getTime']();_0x496027-_0x2f2f16>_0x3eb666&&(le[_0x1b5916(0x3d0)][_0x1b5916(0x29f)](_0x57793e),console['log'](_0x1b5916(0x422)+_0x59930f));}),setTimeout(()=>Rr(_0x202d74),_0x529454);};function Io(){const _0x44ff94=a0_0x3656ce;let _0x21bfb8=new v('SERVER'),_0x328c9f=(0x0,ue[_0x44ff94(0x3d0)])();_0x328c9f[_0x44ff94(0x182)]((0x0,Nr[_0x44ff94(0x3d0)])({'origin'(_0x2f8ac9,_0x1f9c61){const _0xf690b5=_0x44ff94;let {ORIGIN:_0x424799}=b[_0xf690b5(0x786)]('CORS');return _0x2f8ac9||(_0x2f8ac9='*'),_0x424799[_0xf690b5(0x773)]('*')!==-0x1||_0x424799[_0xf690b5(0x773)](_0x2f8ac9)!==-0x1?_0x1f9c61(null,!0x0):_0x1f9c61(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x44ff94(0x786)](_0x44ff94(0x664))[_0x44ff94(0x79a)]],'credentials':b[_0x44ff94(0x786)]('CORS')[_0x44ff94(0x682)]}),(0x0,ue[_0x44ff94(0x62e)])({'extended':!0x0,'limit':_0x44ff94(0x1b8)}),(0x0,ue['json'])({'limit':'50mb'})),_0x328c9f['use']((_0x1d2698,_0x7b0d9e,_0x50aa15)=>{const _0x70d573=_0x44ff94;_0x1d2698['path'][_0x70d573(0x1fc)](_0x70d573(0x46d))?_0x50aa15():(0x0,vr[_0x70d573(0x3d0)])()(_0x1d2698,_0x7b0d9e,_0x50aa15);}),_0x328c9f['set'](_0x44ff94(0x1cc),_0x44ff94(0x1ff)),_0x328c9f[_0x44ff94(0x696)](_0x44ff94(0x549),(0x0,Rs[_0x44ff94(0x3f5)])(se,_0x44ff94(0x549))),_0x328c9f['use'](ue[_0x44ff94(0x3d0)][_0x44ff94(0x6e3)]((0x0,Rs[_0x44ff94(0x3f5)])(se,_0x44ff94(0x78a)))),_0x328c9f[_0x44ff94(0x182)]((_0x3fc612,_0x3bbd13,_0x3e05fd)=>{const _0x4dedb9=_0x44ff94;let _0x16e0f2=_0x3bbd13[_0x4dedb9(0x175)];_0x3bbd13['send']=function(_0xbb8428){const _0x850522=_0x4dedb9;if(_0x3fc612[_0x850522(0x1d9)][_0x850522(0x200)]===_0x850522(0x486)||_0x3fc612[_0x850522(0x699)][_0x850522(0x6ab)]==='true'){let _0x5419b1=JSON[_0x850522(0x42d)](_0xbb8428);_0xbb8428=JSON['stringify'](_0x2a4eae(_0x5419b1));}return _0x16e0f2[_0x850522(0x79c)](_0x3bbd13,[_0xbb8428]);},_0x3e05fd();}),_0x328c9f['use']('/',Mt),_0x328c9f[_0x44ff94(0x182)]((_0x22070d,_0xafa0e1,_0x1151c8,_0x2be7bf)=>{const _0x364038=_0x44ff94;if(_0x22070d)return _0x1151c8[_0x364038(0x6b6)](_0x22070d['status']||0x1f4)[_0x364038(0x4c7)](_0x22070d);},(_0x5bf29,_0x465fff,_0x216bcc)=>{const _0x24b246=_0x44ff94;let {method:_0x4988fd,url:_0x1fbc74}=_0x5bf29;_0x465fff[_0x24b246(0x6b6)](0x194)[_0x24b246(0x4c7)]({'status':0x194,'message':_0x24b246(0x164)+_0x4988fd[_0x24b246(0x304)]()+'\x20'+_0x1fbc74,'error':_0x24b246(0x1f6)}),_0x216bcc();});let _0x2a4eae=(_0x12f5e8,_0xa63d07=_0x44ff94(0x3d6))=>{const _0x46499f=_0x44ff94;let _0x369819=(_0x596cb7,_0x2c364b=null,_0x103ea3=!0x1)=>{const _0x370aa1=a0_0x4f47;let _0x110c00={};return Object[_0x370aa1(0x1aa)](_0x596cb7)['forEach'](_0x2918e5=>{const _0x1c8116=_0x370aa1;let _0x1ed6a7=_0x596cb7[_0x2918e5],_0x32a297=''+_0xa63d07+_0x2918e5;_0x2c364b&&!_0x103ea3&&(_0x32a297=_0x2c364b+'.'+_0x2918e5),!_0x1ed6a7&&_0x1ed6a7!==0x0&&_0x1ed6a7!==!0x1||typeof _0x1ed6a7>'u'?_0x110c00[_0x32a297]=null:typeof _0x1ed6a7!=_0x1c8116(0x4ee)&&!Array['isArray'](_0x1ed6a7)?_0x110c00[_0x32a297]=_0x1ed6a7:typeof _0x1ed6a7=='object'&&!Array[_0x1c8116(0x604)](_0x1ed6a7)?_0x110c00=Object[_0x1c8116(0x4f7)](_0x110c00,_0x369819(_0x1ed6a7,_0x32a297)):Array['isArray'](_0x1ed6a7)&&(typeof _0x1ed6a7[0x0]==_0x1c8116(0x4ee)?(_0x110c00[_0x32a297]=[],_0x1ed6a7['forEach'](_0x5096e5=>{const _0x4a32aa=_0x1c8116;_0x110c00[_0x32a297][_0x4a32aa(0x7a1)](_0x369819(_0x5096e5,_0x32a297,!0x0));})):_0x110c00[_0x32a297]=_0x1ed6a7);}),_0x110c00;};return Array[_0x46499f(0x604)](_0x12f5e8)?_0x12f5e8[_0x46499f(0x568)](_0x5e3d7f=>_0x369819(_0x5e3d7f)):typeof _0x12f5e8==_0x46499f(0x4ee)&&_0x12f5e8!==null?_0x369819(_0x12f5e8):{};},_0x1f7f85=b[_0x44ff94(0x786)](_0x44ff94(0x3ff));Me[_0x44ff94(0x210)]=_0x328c9f;let _0x3de4db=Me[_0x1f7f85['TYPE']],_0x262752='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x3de4db[_0x44ff94(0x2d5)](_0x1f7f85[_0x44ff94(0x225)],()=>{const _0x15d0bb=_0x44ff94;_0x21bfb8[_0x15d0bb(0x16d)](_0x262752),_0x21bfb8[_0x15d0bb(0x16d)](_0x1f7f85['TYPE'][_0x15d0bb(0x304)]()+_0x15d0bb(0x73a)+_0x1f7f85[_0x15d0bb(0x225)]);}),Oo(),Ls();}var Do=a0_0x3656ce(0x219),xo=Ne[a0_0x3656ce(0x3d0)][a0_0x3656ce(0x3f5)](__dirname,'./.git/config'),ve=null;function _o(){return new Promise((_0x3a34d6,_0x5daa4f)=>{const _0x33da84=a0_0x4f47;le['default'][_0x33da84(0x623)](xo,_0x33da84(0x230),(_0x3c48b5,_0x545ac1)=>{const _0xd16dcc=_0x33da84;if(_0x3c48b5){ve=_0x3c48b5,_0x3a34d6();return;}Tr['default'][_0xd16dcc(0x42d)](_0x545ac1)['remote\x20\x22origin\x22']['url']===Do?(ve=null,_0x3a34d6()):(ve=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x3a34d6());});});}async function Po(){const _0x4d27ba=a0_0x3656ce;try{await _o(),await Ts();}catch(_0x43f697){console[_0x4d27ba(0x417)](_0x4d27ba(0x23c)+_0x43f697),process['exit'](0x1);}}Po();async function Ar(){const _0x4e8780=a0_0x3656ce;let _0x276ce8;try{_0x276ce8=(await Ce[_0x4e8780(0x3d0)]['get'](_0x4e8780(0x688)))[_0x4e8780(0x29e)]['ip'];}catch(_0x18868d){console[_0x4e8780(0x417)](_0x18868d);try{_0x276ce8=(await Ce[_0x4e8780(0x3d0)]['get'](_0x4e8780(0x731)))[_0x4e8780(0x29e)]['ip'];}catch(_0x402ccf){console[_0x4e8780(0x417)](_0x402ccf);try{_0x276ce8=(await Ce[_0x4e8780(0x3d0)][_0x4e8780(0x786)](_0x4e8780(0x247)))['data'][_0x4e8780(0x27b)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4cd0f5){return console[_0x4e8780(0x417)](_0x4cd0f5),!0x1;}}}return _0x276ce8;}var Mr=0x0;async function $o(){const _0x2ceb03=a0_0x3656ce;let _0x768d2e=await new re(b[_0x2ceb03(0x786)](_0x2ceb03(0x2a7)))[_0x2ceb03(0x560)]();return console[_0x2ceb03(0x16d)](_0x2ceb03(0x56e),_0x768d2e[_0x2ceb03(0x391)]),_0x768d2e[_0x2ceb03(0x391)];}function ko(_0x1625c7){const _0x23cf3e=a0_0x3656ce;let _0x150f88=_0x1625c7[_0x23cf3e(0x786)](_0x23cf3e(0x3ff))[_0x23cf3e(0x33e)],_0x5cccaa=_0x1625c7['get'](_0x23cf3e(0x767)),_0x31d66d;if(_0x150f88){let _0x1db7c2=_0x150f88[_0x23cf3e(0x27b)](/\/\/(.*?)\./);_0x1db7c2&&_0x1db7c2[0x1]&&(_0x31d66d=_0x1db7c2[0x1]);}if(!_0x31d66d&&_0x5cccaa&&_0x5cccaa[_0x23cf3e(0x521)]){let _0x41c1bf=_0x5cccaa[_0x23cf3e(0x521)][_0x23cf3e(0x232)]('/'),_0x22b95d=_0x41c1bf[_0x41c1bf[_0x23cf3e(0x391)]-0x2];if(_0x22b95d){let _0x4caa5c=_0x22b95d[_0x23cf3e(0x232)]('.');_0x4caa5c[_0x23cf3e(0x391)]>0x2&&(_0x31d66d=_0x4caa5c[0x0]);}}return _0x31d66d;}var Es=ko(b);async function Lo(){const _0x676cb5=a0_0x3656ce;let _0x38a4de=b[_0x676cb5(0x786)]('REDIS'),_0x8042b9=b[_0x676cb5(0x786)](_0x676cb5(0x173))[_0x676cb5(0x3ba)][_0x676cb5(0x4a2)],_0x22716=b[_0x676cb5(0x786)]('SSL_CONF'),_0x485dd1=await Ar(),_0x3a089d=b[_0x676cb5(0x786)](_0x676cb5(0x3ff))[_0x676cb5(0x225)],_0x1c55b1=b['get']('SERVER')[_0x676cb5(0x33e)];try{let _0x119ee4={'ip':_0x485dd1||null,'redis_enable':_0x38a4de?.[_0x676cb5(0x6da)]||null,'apikey':_0x8042b9||null,'ssl':_0x22716?.[_0x676cb5(0x309)]||null,'lastupdate':Or||null,'port':_0x3a089d||null,'gitInstallError':ve?.['message']||null,'url':_0x1c55b1||null};if(console[_0x676cb5(0x16d)](_0x676cb5(0x31d),_0x119ee4['ip']),_0x38a4de&&_0x38a4de['ENABLED']){let _0x3e50d4=await $o();_0x119ee4[_0x676cb5(0x697)]=_0x3e50d4||null;}for(let _0x2d7b93 in _0x119ee4)_0x119ee4['hasOwnProperty'](_0x2d7b93)&&_0x2d7b93!=='ip'&&(_0x119ee4[_0x2d7b93]=JSON['stringify'](_0x119ee4[_0x2d7b93]));return(await Ce['default']['post'](_0x676cb5(0x570),_0x119ee4))[_0x676cb5(0x29e)];}catch(_0x89f2da){return console[_0x676cb5(0x417)](_0x89f2da),!0x1;}}var Ns=!0x1,Or=0x21c,Fo=0x3,Cr=0x1b7740;async function Ts(){const _0x1c47c=a0_0x3656ce;if(!await Ar())return console[_0x1c47c(0x417)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x1c47c(0x31c);let _0x1bcd20=await Lo();if(_0x1bcd20){if(_0x1bcd20[_0x1c47c(0x15b)][_0x1c47c(0x620)]===!0x0){b[_0x1c47c(0x786)](_0x1c47c(0x767))['PRIVKEY'][_0x1c47c(0x516)](_0x1c47c(0x3ac))&&_0x1bcd20[_0x1c47c(0x15b)]['subdomain']&&(await jo(_0x1bcd20['response'][_0x1c47c(0x528)],Jo),await qo('augusto.fcs@gmail.com',_0x1bcd20[_0x1c47c(0x15b)]['subdomain']),console['log'](_0x1c47c(0x59a)),setTimeout(()=>Bo(),0x2710)),ve===null&&_0x1bcd20[_0x1c47c(0x15b)][_0x1c47c(0x61b)]-Or>0x0&&await Uo(),Ns||(Ns=!0x0,Io());let _0x1e530b=0x24*0x3c*0x3c,_0x4650ce=_0x1bcd20[_0x1c47c(0x15b)][_0x1c47c(0x6a0)]>_0x1e530b?_0x1e530b:_0x1bcd20[_0x1c47c(0x15b)][_0x1c47c(0x6a0)],_0x5437a3=Number(_0x4650ce);if(isNaN(_0x5437a3)){console[_0x1c47c(0x417)](_0x1c47c(0x39d));return;}let _0x35e5dd=Math[_0x1c47c(0x5bc)](_0x5437a3/0xe10),_0x108811=Math[_0x1c47c(0x5bc)](_0x5437a3%0xe10/0x3c),_0x50277f=new Date(Date['now']()+_0x5437a3*0x3e8);setTimeout(Ts,_0x5437a3*0x3e8);let _0x321aaf=_0x47c07b=>_0x47c07b['toString']()[_0x1c47c(0x653)](0x2,'0'),_0x1aa8ff=_0x1c47c(0x6a8)+_0x321aaf(_0x35e5dd)+_0x1c47c(0x5ee)+_0x321aaf(_0x108811)+_0x1c47c(0x622)+_0x321aaf(_0x50277f[_0x1c47c(0x703)]())+':'+_0x321aaf(_0x50277f['getMinutes']())+'.';console[_0x1c47c(0x16d)](_0x1aa8ff);}else return console[_0x1c47c(0x16d)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ns&&(console[_0x1c47c(0x16d)](_0x1c47c(0x6c4)),process[_0x1c47c(0x595)]()),_0x1c47c(0x20a);}else{if(Mr++,Mr<Fo)console[_0x1c47c(0x16d)](_0x1c47c(0x618)+Cr/0xea60+'\x20minutos...'),setTimeout(Ts,Cr);else return console[_0x1c47c(0x417)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x1c47c(0x6f8);}}async function Uo(){const _0x435cd2=a0_0x3656ce;console[_0x435cd2(0x16d)](_0x435cd2(0x6cd));let _0x1a73df=(0x0,Re[_0x435cd2(0x5f5)])(_0x435cd2(0x3f7),{'shell':!0x0});_0x1a73df[_0x435cd2(0x294)]['on'](_0x435cd2(0x29e),_0x1d1399=>{const _0x395a17=_0x435cd2;console[_0x395a17(0x16d)]('Atualização:\x20'+_0x1d1399);}),_0x1a73df[_0x435cd2(0x2d2)]['on']('data',_0x5ba9a2=>{const _0x4b869c=_0x435cd2;console[_0x4b869c(0x417)](_0x4b869c(0x20f)+_0x5ba9a2);}),_0x1a73df['on'](_0x435cd2(0x595),_0x1da3de=>{const _0x6cb24e=_0x435cd2;_0x1da3de!==0x0?console['error'](_0x6cb24e(0x302)+_0x1da3de):console[_0x6cb24e(0x16d)]('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x6cb24e(0x69e)),setTimeout(()=>process[_0x6cb24e(0x595)](),0x2710);});}var Jo=Ne[a0_0x3656ce(0x3d0)]['join'](__dirname,a0_0x3656ce(0x2c5));async function jo(_0x11571d,_0x584e2d){const _0x5a70eb=a0_0x3656ce;let _0x1b4013=Vo();_0x11571d=_0x11571d['replace'](_0x5a70eb(0x384),'');try{let _0x10e0a9=le[_0x5a70eb(0x3d0)][_0x5a70eb(0x43e)](_0x584e2d,'utf8');_0x10e0a9=_0x10e0a9['replace'](/<apikey>/,_0x1b4013),_0x10e0a9=_0x10e0a9[_0x5a70eb(0x69a)](/<subdomain>/g,_0x11571d),le[_0x5a70eb(0x3d0)]['writeFileSync'](_0x584e2d,_0x10e0a9,_0x5a70eb(0x6dd)),console[_0x5a70eb(0x16d)](_0x5a70eb(0x495));}catch(_0x115423){console[_0x5a70eb(0x417)](_0x5a70eb(0x271),_0x115423);}}function qo(_0x13e353,_0x31fb0c){return new Promise((_0x41aa0e,_0x17ae24)=>{const _0x4306e2=a0_0x4f47;let _0x45b06c=(0x0,Re[_0x4306e2(0x5f5)])('certbot',['certonly',_0x4306e2(0x6db),'-m',_0x13e353,_0x4306e2(0x466),'-d',_0x31fb0c]);_0x45b06c['stdout']['on'](_0x4306e2(0x29e),_0x42c1ea=>{const _0x2a30bb=_0x4306e2;console[_0x2a30bb(0x16d)]('Certbot:\x20'+_0x42c1ea['toString']());}),_0x45b06c[_0x4306e2(0x2d2)]['on'](_0x4306e2(0x29e),_0x2305f8=>{const _0x49793f=_0x4306e2;console[_0x49793f(0x417)]('Erro\x20do\x20Certbot:\x20'+_0x2305f8[_0x49793f(0x368)]());}),_0x45b06c['on'](_0x4306e2(0x1bf),_0x2064b7=>{const _0x465186=_0x4306e2;_0x2064b7!==0x0?(console[_0x465186(0x417)](_0x465186(0x425)+_0x2064b7),_0x17ae24(_0x465186(0x425)+_0x2064b7)):(console[_0x465186(0x16d)](_0x465186(0x1ea)),_0x41aa0e());});});}function Vo(_0x2d54a0=0x32){const _0x2cf3db=a0_0x3656ce;let _0x508b69='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x1b3f3='';for(let _0x3ae475=0x0;_0x3ae475<_0x2d54a0;_0x3ae475++)_0x1b3f3+=_0x508b69[_0x2cf3db(0x740)](Math['floor'](Math['random']()*_0x508b69[_0x2cf3db(0x391)]));return _0x1b3f3;}function Bo(){const _0x5e53c2=a0_0x3656ce;(0x0,Re[_0x5e53c2(0x3c3)])('shutdown\x20-r\x20now',(_0x510b20,_0x4dd7f,_0x4e807b)=>{const _0x229be7=_0x5e53c2;if(_0x510b20){console[_0x229be7(0x417)](_0x229be7(0x7a2)+_0x510b20);return;}if(_0x4e807b){console[_0x229be7(0x417)]('Erro\x20de\x20reinicialização:\x20'+_0x4e807b);return;}console['log'](_0x229be7(0x736)+_0x4dd7f);});}0x0&&(module[a0_0x3656ce(0x40f)]={'subdomain':subdomain});