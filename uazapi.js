const a0_0x5bdda6=a0_0x33c5;(function(_0x5c89e9,_0xb54984){const _0x588fd9=a0_0x33c5,_0x4c154a=_0x5c89e9();while(!![]){try{const _0x57db3e=-parseInt(_0x588fd9(0x63b))/0x1+-parseInt(_0x588fd9(0x7d4))/0x2*(-parseInt(_0x588fd9(0x1b4))/0x3)+-parseInt(_0x588fd9(0x50d))/0x4*(-parseInt(_0x588fd9(0x6e7))/0x5)+parseInt(_0x588fd9(0x68b))/0x6+parseInt(_0x588fd9(0x35e))/0x7+-parseInt(_0x588fd9(0x5e5))/0x8*(-parseInt(_0x588fd9(0x281))/0x9)+parseInt(_0x588fd9(0x6b0))/0xa*(-parseInt(_0x588fd9(0x4ab))/0xb);if(_0x57db3e===_0xb54984)break;else _0x4c154a['push'](_0x4c154a['shift']());}catch(_0x4078e7){_0x4c154a['push'](_0x4c154a['shift']());}}}(a0_0x3526,0x4d223));var Lo=Object['create'],Je=Object[a0_0x5bdda6(0x7fb)],Fo=Object['getOwnPropertyDescriptor'],Jo=Object[a0_0x5bdda6(0x6fd)],Uo=Object[a0_0x5bdda6(0x210)],qo=Object[a0_0x5bdda6(0x838)][a0_0x5bdda6(0x35f)],Vo=(_0x4aaa3d,_0x2ddc15)=>{for(var _0x104186 in _0x2ddc15)Je(_0x4aaa3d,_0x104186,{'get':_0x2ddc15[_0x104186],'enumerable':!0x0});},Js=(_0x229cf2,_0x159a01,_0x4d9200,_0x2099e6)=>{const _0x39c9d7=a0_0x5bdda6;if(_0x159a01&&typeof _0x159a01==_0x39c9d7(0x53a)||typeof _0x159a01==_0x39c9d7(0x451)){for(let _0x4754d2 of Jo(_0x159a01))!qo[_0x39c9d7(0x7d1)](_0x229cf2,_0x4754d2)&&_0x4754d2!==_0x4d9200&&Je(_0x229cf2,_0x4754d2,{'get':()=>_0x159a01[_0x4754d2],'enumerable':!(_0x2099e6=Fo(_0x159a01,_0x4754d2))||_0x2099e6[_0x39c9d7(0x30b)]});}return _0x229cf2;},T=(_0x318757,_0xf799bf,_0xd6e3af)=>(_0xd6e3af=_0x318757!=null?Lo(Uo(_0x318757)):{},Js(_0xf799bf||!_0x318757||!_0x318757[a0_0x5bdda6(0x297)]?Je(_0xd6e3af,a0_0x5bdda6(0x79b),{'value':_0x318757,'enumerable':!0x0}):_0xd6e3af,_0x318757)),Go=_0x51acaf=>Js(Je({},'__esModule',{'value':!0x0}),_0x51acaf),ri={};Vo(ri,{'subdomain':()=>Ds}),module[a0_0x5bdda6(0x591)]=Go(ri);var Io=T(require('compression')),qs=require('fs'),Vs=require(a0_0x5bdda6(0x78d)),Gs=require(a0_0x5bdda6(0x784)),Ue=require(a0_0x5bdda6(0x784)),ne=process['cwd'](),fe=(0x0,Ue[a0_0x5bdda6(0x64d)])(ne,a0_0x5bdda6(0x62f)),Us=(0x0,Ue[a0_0x5bdda6(0x64d)])(ne,a0_0x5bdda6(0x152)),Yi=(0x0,Ue[a0_0x5bdda6(0x64d)])(ne,a0_0x5bdda6(0x63d),a0_0x5bdda6(0x31a)),ns=class{constructor(){const _0x39be38=a0_0x5bdda6;this[_0x39be38(0x4ad)]();}['get'](_0x47c260){return this['env'][_0x47c260];}[a0_0x5bdda6(0x4ad)](){const _0x175292=a0_0x5bdda6;this[_0x175292(0x49a)]=process[_0x175292(0x49a)]?.[_0x175292(0x316)]!=='true'?this['envYaml']():this[_0x175292(0x2f1)](),process[_0x175292(0x49a)]?.[_0x175292(0x316)]===_0x175292(0x6d7)&&(this[_0x175292(0x49a)][_0x175292(0x169)][_0x175292(0x1d6)]=_0x175292(0x27f),this[_0x175292(0x49a)][_0x175292(0x169)]['PORT']=Number['parseInt'](process[_0x175292(0x49a)]?.['SERVER_PORT']??'8080'));}[a0_0x5bdda6(0x27d)](){const _0x2eadc7=a0_0x5bdda6;return(0x0,Vs[_0x2eadc7(0x459)])((0x0,qs['readFileSync'])((0x0,Gs[_0x2eadc7(0x64d)])(Us,_0x2eadc7(0x45e)),{'encoding':'utf-8'}));}[a0_0x5bdda6(0x2f1)](){const _0x2af4ca=a0_0x5bdda6;return{'SERVER':{'TYPE':process[_0x2af4ca(0x49a)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x2af4ca(0x49a)][_0x2af4ca(0x7b9)]),'URL':process[_0x2af4ca(0x49a)][_0x2af4ca(0x32f)]},'CORS':{'ORIGIN':process[_0x2af4ca(0x49a)][_0x2af4ca(0x6e4)]['split'](','),'METHODS':process['env'][_0x2af4ca(0x733)][_0x2af4ca(0x771)](','),'CREDENTIALS':process[_0x2af4ca(0x49a)]?.['CORS_CREDENTIALS']===_0x2af4ca(0x6d7)},'SSL_CONF':{'PRIVKEY':process[_0x2af4ca(0x49a)]?.[_0x2af4ca(0x82a)],'FULLCHAIN':process[_0x2af4ca(0x49a)]?.[_0x2af4ca(0x1dd)]},'STORE':{'CLEANING_INTERVAL':Number[_0x2af4ca(0x6d4)](process[_0x2af4ca(0x49a)]?.[_0x2af4ca(0x61c)])?Number[_0x2af4ca(0x1d5)](process[_0x2af4ca(0x49a)][_0x2af4ca(0x61c)]):void 0x0,'MESSAGES':process['env']?.[_0x2af4ca(0x391)]===_0x2af4ca(0x6d7),'CONTACTS':process[_0x2af4ca(0x49a)]?.['STORE_CONTACTS']===_0x2af4ca(0x6d7),'CHATS':process[_0x2af4ca(0x49a)]?.[_0x2af4ca(0x5f9)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x2af4ca(0x49a)]?.[_0x2af4ca(0x54e)],'PORT':Number[_0x2af4ca(0x1d5)](process['env']?.[_0x2af4ca(0x54e)]),'USER':process[_0x2af4ca(0x49a)][_0x2af4ca(0x789)],'PASSWORD':process[_0x2af4ca(0x49a)][_0x2af4ca(0x487)],'URI':process['env'][_0x2af4ca(0x728)],'DB_PREFIX_NAME':process['env'][_0x2af4ca(0x34e)]},'ENABLED':process[_0x2af4ca(0x49a)]?.['DATABASE_ENABLED']===_0x2af4ca(0x6d7)},'REDIS':{'ENABLED':process[_0x2af4ca(0x49a)]?.[_0x2af4ca(0x6de)]===_0x2af4ca(0x6d7),'URI':process[_0x2af4ca(0x49a)][_0x2af4ca(0x34f)]||_0x2af4ca(0x6d1),'PREFIX_KEY':process[_0x2af4ca(0x49a)][_0x2af4ca(0x6b8)]||'uazapi'},'LOG':{'LEVEL':process[_0x2af4ca(0x49a)]?.[_0x2af4ca(0x231)][_0x2af4ca(0x771)](','),'COLOR':process[_0x2af4ca(0x49a)]?.['LOG_COLOR']==='true'},'PROXY':Number['parseInt'](process['env']?.[_0x2af4ca(0x387)]),'AUTHENTICATION':{'TYPE':process[_0x2af4ca(0x49a)][_0x2af4ca(0x763)],'API_KEY':{'KEY':process[_0x2af4ca(0x49a)][_0x2af4ca(0x28a)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process['env']?.[_0x2af4ca(0x40d)])?Number['parseInt'](process[_0x2af4ca(0x49a)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x2af4ca(0x49a)][_0x2af4ca(0x6fb)]}}};}},b=new ns(),xo=T(require(a0_0x5bdda6(0x69c))),me=T(require(a0_0x5bdda6(0x119))),Ls=require(a0_0x5bdda6(0x784)),cs=T(require(a0_0x5bdda6(0x5ef))),ls=(_0x589cae=>(_0x589cae['LOG']=a0_0x5bdda6(0x1e4),_0x589cae['INFO']=a0_0x5bdda6(0x782),_0x589cae[a0_0x5bdda6(0x634)]='\x1b[33m',_0x589cae[a0_0x5bdda6(0x70d)]=a0_0x5bdda6(0x5fd),_0x589cae[a0_0x5bdda6(0x1cc)]=a0_0x5bdda6(0x4e0),_0x589cae[a0_0x5bdda6(0x410)]='\x1b[37m',_0x589cae[a0_0x5bdda6(0x1a2)]=a0_0x5bdda6(0x217),_0x589cae))(ls||{}),Bs=(_0x4cc7a5=>(_0x4cc7a5[a0_0x5bdda6(0x39e)]='\x1b[32m%s\x1b[0m',_0x4cc7a5['DARK']=a0_0x5bdda6(0x72d),_0x4cc7a5[a0_0x5bdda6(0x1a9)]=a0_0x5bdda6(0x2c0),_0x4cc7a5[a0_0x5bdda6(0x634)]='\x1b[33m%s\x1b[0m',_0x4cc7a5['ERROR']=a0_0x5bdda6(0x3b1),_0x4cc7a5[a0_0x5bdda6(0x1cc)]='\x1b[36m%s\x1b[0m',_0x4cc7a5[a0_0x5bdda6(0x410)]=a0_0x5bdda6(0x45b),_0x4cc7a5))(Bs||{}),Ws=(_0x2285b0=>(_0x2285b0[a0_0x5bdda6(0x39e)]=a0_0x5bdda6(0x39e),_0x2285b0[a0_0x5bdda6(0x634)]='WARN',_0x2285b0[a0_0x5bdda6(0x1a9)]=a0_0x5bdda6(0x1a9),_0x2285b0['DARK']='DARK',_0x2285b0['ERROR']=a0_0x5bdda6(0x70d),_0x2285b0[a0_0x5bdda6(0x1cc)]=a0_0x5bdda6(0x1cc),_0x2285b0['VERBOSE']=a0_0x5bdda6(0x410),_0x2285b0))(Ws||{}),zs=(_0x1a2699=>(_0x1a2699[a0_0x5bdda6(0x39e)]=a0_0x5bdda6(0x5d2),_0x1a2699[a0_0x5bdda6(0x1a9)]='\x1b[44m',_0x1a2699[a0_0x5bdda6(0x634)]=a0_0x5bdda6(0x2a1),_0x1a2699['DARK']=a0_0x5bdda6(0x637),_0x1a2699[a0_0x5bdda6(0x70d)]=a0_0x5bdda6(0x5c2),_0x1a2699['DEBUG']=a0_0x5bdda6(0x328),_0x1a2699[a0_0x5bdda6(0x410)]=a0_0x5bdda6(0x78c),_0x1a2699))(zs||{}),$=class{constructor(_0x533ba7=a0_0x5bdda6(0x377)){const _0x714721=a0_0x5bdda6;this[_0x714721(0x318)]=_0x533ba7,this['configService']=b;}[a0_0x5bdda6(0x2d4)](_0x11b8d5){const _0x203f4e=a0_0x5bdda6;this[_0x203f4e(0x318)]=_0x11b8d5;}['console'](_0x3f9b65,_0x120df3){const _0x4f5734=a0_0x5bdda6;let _0x790a2f=[];this[_0x4f5734(0x5b4)][_0x4f5734(0x1bb)](_0x4f5734(0x39e))[_0x4f5734(0x6fa)][_0x4f5734(0x3a3)](_0x1edfff=>_0x790a2f['push'](Ws[_0x1edfff]));let _0x116b4d=typeof _0x3f9b65;_0x790a2f[_0x4f5734(0x71f)](_0x120df3)&&(b[_0x4f5734(0x1bb)]('LOG')['COLOR']?(console[_0x4f5734(0x271)](_0x4f5734(0x4f2)+Bs[_0x120df3],'\x1b[1m\x1b[37m',(0x0,cs[_0x4f5734(0x79b)])()[_0x4f5734(0x4ce)](_0x4f5734(0x223)),_0x4f5734(0x5ae),ls[_0x120df3]+zs[_0x120df3]+'\x1b[1m',_0x120df3+_0x4f5734(0x4cd),'\x1b[33m\x1b[1m',this[_0x4f5734(0x318)]+'\x1b[0m',ls[_0x120df3],_0x116b4d!==_0x4f5734(0x53a)?_0x3f9b65:'',_0x4f5734(0x5ae)),_0x116b4d===_0x4f5734(0x53a)&&console[_0x4f5734(0x271)](_0x3f9b65,'\x0a')):console[_0x4f5734(0x271)]((0x0,cs[_0x4f5734(0x79b)])()[_0x4f5734(0x4ce)](_0x4f5734(0x22c)),_0x120df3+'\x20',''+this['context'],_0x3f9b65));}['log'](_0x40b31a){const _0x47ec53=a0_0x5bdda6;this[_0x47ec53(0x2ae)](_0x40b31a,_0x47ec53(0x39e));}[a0_0x5bdda6(0x6a4)](_0x24fe1f){const _0x302948=a0_0x5bdda6;this[_0x302948(0x2ae)](_0x24fe1f,_0x302948(0x1a9));}['warn'](_0x501c11){const _0x4fb84d=a0_0x5bdda6;this[_0x4fb84d(0x2ae)](_0x501c11,_0x4fb84d(0x634));}[a0_0x5bdda6(0x83d)](_0x3e8fd7){const _0x3c619f=a0_0x5bdda6;this['console'](_0x3e8fd7,_0x3c619f(0x70d));}[a0_0x5bdda6(0x1f6)](_0x16ea3b){const _0x1a48f7=a0_0x5bdda6;this[_0x1a48f7(0x2ae)](_0x16ea3b,_0x1a48f7(0x410));}[a0_0x5bdda6(0x2e0)](_0x3f31f9){const _0xe5c54a=a0_0x5bdda6;this[_0xe5c54a(0x2ae)](_0x3f31f9,_0xe5c54a(0x1cc));}[a0_0x5bdda6(0x79d)](_0x575adc){const _0x2f4f65=a0_0x5bdda6;this[_0x2f4f65(0x2ae)](_0x575adc,_0x2f4f65(0x1a2));}};function Hs(){const _0x460d95=a0_0x5bdda6;process['on'](_0x460d95(0x1f2),(_0x42e0c6,_0x16ef0e)=>{const _0x1bff48=_0x460d95;new $(_0x1bff48(0x1f2))[_0x1bff48(0x83d)]({'origin':_0x16ef0e,'stderr':process[_0x1bff48(0x1cb)]['fd'],'error':_0x42e0c6});}),process['on'](_0x460d95(0x756),(_0x2abb95,_0x370030)=>{const _0x4a42ec=_0x460d95;new $(_0x4a42ec(0x756))['error']({'origin':_0x370030,'stderr':process[_0x4a42ec(0x1cb)]['fd'],'error':_0x2abb95});});}var Ks=T(require(a0_0x5bdda6(0x261))),us=new Ks[(a0_0x5bdda6(0x79b))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ye=require(a0_0x5bdda6(0x48a)),ve=T(require('mongoose')),qe=new $(a0_0x5bdda6(0x510)),L=b[a0_0x5bdda6(0x1bb)]('DATABASE'),A=L[a0_0x5bdda6(0x615)]?L[a0_0x5bdda6(0x2ca)][a0_0x5bdda6(0x21e)]?ve[a0_0x5bdda6(0x79b)]['createConnection'](L[a0_0x5bdda6(0x2ca)][a0_0x5bdda6(0x21e)],{'dbName':L[a0_0x5bdda6(0x2ca)][a0_0x5bdda6(0x7d6)]+a0_0x5bdda6(0x820)}):ve[a0_0x5bdda6(0x79b)]['createConnection'](a0_0x5bdda6(0x80d)+L['CONNECTION'][a0_0x5bdda6(0x23e)]+':'+L[a0_0x5bdda6(0x2ca)][a0_0x5bdda6(0x6da)]+a0_0x5bdda6(0x4e5),{'user':L[a0_0x5bdda6(0x2ca)][a0_0x5bdda6(0x3cd)],'pass':L[a0_0x5bdda6(0x2ca)]['PASSWORD'],'dbName':L[a0_0x5bdda6(0x2ca)][a0_0x5bdda6(0x7d6)]+a0_0x5bdda6(0x820)}):null;L[a0_0x5bdda6(0x615)]&&qe[a0_0x5bdda6(0x6a4)](a0_0x5bdda6(0x355)+A[a0_0x5bdda6(0x197)]);var we=L[a0_0x5bdda6(0x615)]?L[a0_0x5bdda6(0x2ca)][a0_0x5bdda6(0x21e)]?ve['default'][a0_0x5bdda6(0x6a0)](L['CONNECTION']['URI'],{'dbName':a0_0x5bdda6(0x29c)}):ve[a0_0x5bdda6(0x79b)][a0_0x5bdda6(0x6a0)](a0_0x5bdda6(0x80d)+L[a0_0x5bdda6(0x2ca)][a0_0x5bdda6(0x23e)]+':'+L['CONNECTION'][a0_0x5bdda6(0x6da)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L['CONNECTION'][a0_0x5bdda6(0x3cd)],'pass':L['CONNECTION'][a0_0x5bdda6(0x191)],'dbName':'cachedContacts-whatsapp'}):null;we&&qe['info'](a0_0x5bdda6(0x355)+we[a0_0x5bdda6(0x197)]),process['on'](a0_0x5bdda6(0x19b),()=>{const _0x5527b7=a0_0x5bdda6;A&&A[_0x5527b7(0x133)](()=>{const _0x13ca37=_0x5527b7;qe['info'](_0x13ca37(0x2df));}),we&&we[_0x5527b7(0x133)](()=>{const _0x5be176=_0x5527b7;qe[_0x5be176(0x6a4)](_0x5be176(0x3d9));});});var Bo=new ye[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new ye[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new ye[(a0_0x5bdda6(0x5a2))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new ye[(a0_0x5bdda6(0x5a2))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new ye[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Qs=_0xe9e8e2=>{const _0x4e3ab0=a0_0x5bdda6;let _0x47a857='z_'+_0xe9e8e2+_0x4e3ab0(0x1de);return A?.[_0x4e3ab0(0x705)](_0x4e3ab0(0x255),Ko,_0x47a857);},Ys=require('mongoose'),Qo=new Ys[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0x21ba20=>{const _0x256bba=a0_0x5bdda6;let _0x2904ca='z_'+_0x21ba20+_0x256bba(0x3bc);return A?.[_0x256bba(0x705)](_0x256bba(0x3fa),Qo,_0x2904ca);},Zs=require(a0_0x5bdda6(0x48a)),ds=class{},Yo=new Zs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=we?.['model'](ds[a0_0x5bdda6(0x63e)],Yo,a0_0x5bdda6(0x5d3)),ta=require('mongoose'),Xo=new ta[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),sa=_0x13ad02=>{const _0xb0d691=a0_0x5bdda6;let _0x42c191='z_'+_0x13ad02+'_Messages';return A?.[_0xb0d691(0x705)](_0xb0d691(0x1cd),Xo,_0x42c191);},aa=require('mongoose'),ps=class{},Zo=new aa[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),oa=A?.[a0_0x5bdda6(0x705)](ps[a0_0x5bdda6(0x63e)],Zo,a0_0x5bdda6(0x36d)),ra=require('mongoose'),hs=class{},ia=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia[a0_0x5bdda6(0x502)]('save',function(_0x33b1e0){const _0x142b1c=a0_0x5bdda6;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this[_0x142b1c(0x564)],delete this['flowStopConversation'],delete this[_0x142b1c(0x727)],_0x33b1e0();});var na=A?.[a0_0x5bdda6(0x705)](hs[a0_0x5bdda6(0x63e)],ia,'webhook'),_=require(a0_0x5bdda6(0x48a)),gs=require(a0_0x5bdda6(0x644)),Ve=class{},ca=new _[(a0_0x5bdda6(0x5a2))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ms=new _[(a0_0x5bdda6(0x5a2))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new _[(a0_0x5bdda6(0x5a2))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x5bdda6(0x2c6)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x5bdda6(0x2c8)},'pollErrorMessage':{'type':String,'default':a0_0x5bdda6(0x5aa)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new _['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new _[(a0_0x5bdda6(0x5a2))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new _[(a0_0x5bdda6(0x5a2))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ws=new _[(a0_0x5bdda6(0x5a2))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ar=new _[(a0_0x5bdda6(0x5a2))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ua=new _[(a0_0x5bdda6(0x5a2))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ar,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new _[(a0_0x5bdda6(0x5a2))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=new _[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,gs['v4'])()},'startID':{'type':String,'default':()=>(0x0,gs['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x5bdda6(0x3ca)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x18ea81=a0_0x5bdda6;return'!cmd_'+Math['random']()[_0x18ea81(0x58f)](0x24)[_0x18ea81(0x649)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]}});ys[a0_0x5bdda6(0x502)]('save',function(_0x1c5194){const _0x1c23c5=a0_0x5bdda6;let _0x3af5d9=new Set(),_0x4057aa=new Set(this['variables']?.[_0x1c23c5(0x2b0)](_0x540a3f=>_0x540a3f[_0x1c23c5(0x63e)])),_0x40cf8c=JSON[_0x1c23c5(0x5b8)](this),_0x1a0f12=/{{(?!_)([^}]*)}}/g,_0x19b33c;for(;(_0x19b33c=_0x1a0f12[_0x1c23c5(0x810)](_0x40cf8c))!==null;)_0x4057aa[_0x1c23c5(0x2fc)](_0x19b33c[0x1])||_0x3af5d9[_0x1c23c5(0x6cd)](_0x19b33c[0x1]);_0x3af5d9[_0x1c23c5(0x822)]>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array['from'](_0x3af5d9)),this[_0x1c23c5(0x41c)]=Array[_0x1c23c5(0x47d)](_0x3af5d9)):this[_0x1c23c5(0x41c)]=[],_0x1c5194();}),ys['pre'](a0_0x5bdda6(0x3c8),function(_0xd6f5af){const _0x263fee=a0_0x5bdda6;let _0x1c0e43=this[_0x263fee(0x147)]();if(_0x1c0e43&&typeof _0x1c0e43==_0x263fee(0x53a)&&'$set'in _0x1c0e43){let _0xc42803=_0x1c0e43['$set'];if(_0xc42803){let _0xb8cb4a=new Set(),_0x374243=new Set(_0xc42803[_0x263fee(0x650)]?.[_0x263fee(0x2b0)](_0x1700b7=>_0x1700b7[_0x263fee(0x63e)])),_0x58b596=JSON[_0x263fee(0x5b8)](_0xc42803),_0x2d6a92=/{{(?!_)([^}]*)}}/g,_0x36063c;for(;(_0x36063c=_0x2d6a92['exec'](_0x58b596))!==null;)_0x374243[_0x263fee(0x2fc)](_0x36063c[0x1])||_0xb8cb4a[_0x263fee(0x6cd)](_0x36063c[0x1]);_0xb8cb4a['size']>0x0?(console[_0x263fee(0x1f4)](_0x263fee(0x527),Array[_0x263fee(0x47d)](_0xb8cb4a)),_0xc42803[_0x263fee(0x41c)]=Array[_0x263fee(0x47d)](_0xb8cb4a)):_0xc42803['variablesNotFound']=[],this[_0x263fee(0x540)]({'$set':_0xc42803});}}_0xd6f5af();});var pa=_0x2190ec=>{const _0x299251=a0_0x5bdda6;let _0x548cd4='z_'+_0x2190ec+_0x299251(0x6f4);return A?.[_0x299251(0x705)](_0x299251(0x419),ys,_0x548cd4);},or=new _[(a0_0x5bdda6(0x5a2))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),rr=new _[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ms],'default':[]},'chatLog':or,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5bdda6(0x41f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x5bdda6(0x2c8)},'waitingMenu_replyOptions':{'type':[ms],'default':[]}}),ha=_0x3e9bcf=>{const _0x1d6b66=a0_0x5bdda6;let _0x2c5a00='z_'+_0x3e9bcf+_0x1d6b66(0x159);return A?.[_0x1d6b66(0x705)](_0x1d6b66(0x64f),rr,_0x2c5a00);},ir=new _[(a0_0x5bdda6(0x5a2))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),nr=new _[(a0_0x5bdda6(0x5a2))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),cr=new _[(a0_0x5bdda6(0x5a2))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x5bdda6(0x7de)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':nr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ir],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0xb510a1=>{const _0x36bc8c=a0_0x5bdda6;let _0x3489f6='z_'+_0xb510a1+'_ScheduleMessages';return A?.[_0x36bc8c(0x705)](_0x36bc8c(0x7f8),cr,_0x3489f6);},fs=class{},lr=new _[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),ur=new _[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),dr=new _['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x5bdda6(0x2d2)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pr=new _[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hr=new _[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pr]},'customFields':{'type':[ur]},'flowConfig':{'type':dr,'default':{}},'autoCompleteMessages':{'type':[lr],'default':[]}}),Ne=A?.[a0_0x5bdda6(0x705)](fs[a0_0x5bdda6(0x63e)],hr,a0_0x5bdda6(0x749)),ma=require(a0_0x5bdda6(0x48a)),gr=new ma[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x661269=>{const _0x21a5de=a0_0x5bdda6;let _0x52e98f='z_'+_0x661269+_0x21a5de(0x5bc);return A?.[_0x21a5de(0x705)]('LabelModel',gr,_0x52e98f);},D=class{constructor(_0x5e5c5c){const _0x5c5341=a0_0x5bdda6;this[_0x5c5341(0x233)]=_0x5e5c5c[_0x5c5341(0x1bb)]('DATABASE');}};function I(_0x38d87a){const _0x375869=a0_0x5bdda6;let _0x51da3c={};for(let [_0x4407ac,_0x4c3965]of Object[_0x375869(0x285)](_0x38d87a))if(typeof _0x4c3965=='object'&&!Array['isArray'](_0x4c3965)){for(let [_0x8148dd,_0x12ddcd]of Object[_0x375869(0x285)](_0x4c3965))_0x51da3c[_0x4407ac+'.'+_0x8148dd]=_0x12ddcd;}else _0x51da3c[_0x4407ac]=_0x4c3965;return _0x51da3c;}var Ge=class{constructor(_0x5781c4,_0x59bbe5,_0x3d4dfa,_0x415575,_0x1f9948,_0x551e42,_0x507958,_0x2ea234,_0x3adece,_0x1b1c5b,_0x37ed15,_0x566231){const _0x57df10=a0_0x5bdda6;this[_0x57df10(0x1f1)]=_0x5781c4,this['chat']=_0x59bbe5,this['contact']=_0x3d4dfa,this[_0x57df10(0x15c)]=_0x415575,this[_0x57df10(0x4c2)]=_0x1f9948,this['auth']=_0x551e42,this[_0x57df10(0x5a0)]=_0x507958,this['flowConversation']=_0x2ea234,this['label']=_0x3adece,this['scheduleMessage']=_0x1b1c5b,this[_0x57df10(0x4cb)]=_0x37ed15,this[_0x57df10(0x38b)]=_0x566231;}get[a0_0x5bdda6(0x422)](){const _0x4a2865=a0_0x5bdda6;return this[_0x4a2865(0x38b)];}},Be=class{},We=class extends D{[a0_0x5bdda6(0x5ce)](_0x324869){return sa(_0x324869);}async[a0_0x5bdda6(0x72e)](_0x18a897,_0x46ea09){const _0xa9e7b2=a0_0x5bdda6;if(_0x18a897[_0xa9e7b2(0x29b)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xa9e7b2(0x5ce)](_0x46ea09)[_0xa9e7b2(0x7b4)]([..._0x18a897]))[_0xa9e7b2(0x29b)]};}catch(_0x3c61e2){return _0x3c61e2;}}async[a0_0x5bdda6(0x2b1)](_0x4a6e21,_0xe4ae8){const _0x2bf0f9=a0_0x5bdda6;try{let _0x3cc6e4=this[_0x2bf0f9(0x5ce)](_0xe4ae8),_0xb6ab31=I(_0x4a6e21['where']);return await _0x3cc6e4[_0x2bf0f9(0x2b1)](_0xb6ab31)[_0x2bf0f9(0x68a)]({'messageTimestamp':-0x1})[_0x2bf0f9(0x51f)](_0x4a6e21?.[_0x2bf0f9(0x51f)]??0x0)[_0x2bf0f9(0x841)]();}catch{return[];}}async[a0_0x5bdda6(0x469)](_0x16bdb8,_0x29628e){const _0x32a695=a0_0x5bdda6;try{let _0x251c41=this[_0x32a695(0x5ce)](_0x29628e),_0x305e22=I(_0x16bdb8[_0x32a695(0x80f)]);await _0x251c41[_0x32a695(0x803)](_0x305e22);}catch(_0x3096bb){console[_0x32a695(0x83d)](_0x3096bb);}}async[a0_0x5bdda6(0x674)](_0x2ce27b,_0x3d6c04,_0x44da25){const _0x6505d=a0_0x5bdda6;try{let _0x10984a=this['getMessageModelForOwner'](_0x44da25),_0x5b115a=I(_0x2ce27b[_0x6505d(0x80f)]);return await _0x10984a[_0x6505d(0x3c8)](_0x5b115a,{'$set':_0x3d6c04},{'new':!0x0});}catch(_0x362c00){throw console['error'](_0x362c00),_0x362c00;}}async[a0_0x5bdda6(0x7b4)](_0x50a86e,_0x18e901){const _0x4ef7e6=a0_0x5bdda6;if(_0x50a86e['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4ef7e6(0x5ce)](_0x18e901)['insertMany']([..._0x50a86e]))[_0x4ef7e6(0x29b)]};}catch(_0x7901f0){return console['log'](_0x4ef7e6(0x676),_0x7901f0),_0x7901f0;}}async['deleteAll'](_0x15f14b){const _0x11134f=a0_0x5bdda6;try{return await this[_0x11134f(0x5ce)](_0x15f14b)[_0x11134f(0x44d)]['drop'](),{'success':!0x0};}catch(_0x166d6b){return console[_0x11134f(0x83d)](_0x166d6b),{'success':!0x1,'error':_0x166d6b};}}},As=T(require(a0_0x5bdda6(0x1b7))),f=T(require(a0_0x5bdda6(0x1aa))),De=require('fs'),J=T(require(a0_0x5bdda6(0x784))),Q=T(require(a0_0x5bdda6(0x598))),Co=require('uuid'),Eo=T(require(a0_0x5bdda6(0x4e8))),vo=T(require(a0_0x5bdda6(0x352))),wa=[a0_0x5bdda6(0x704),a0_0x5bdda6(0x7c6),a0_0x5bdda6(0x560),a0_0x5bdda6(0x7e8),a0_0x5bdda6(0x590)],ya=['ephemeralMessage',a0_0x5bdda6(0x2a4),'viewOnceMessage',a0_0x5bdda6(0x275)],Os=require('os'),kt=T(require(a0_0x5bdda6(0x799))),_e=require(a0_0x5bdda6(0x5d5)),jt=require(a0_0x5bdda6(0x3d4)),ie=T(require(a0_0x5bdda6(0x48a))),k=require(a0_0x5bdda6(0x128)),be=class{constructor(_0x2b3f6f,_0x55a31a,_0x5b5bff){const _0x5d0975=a0_0x5bdda6;this[_0x5d0975(0x518)]=_0x2b3f6f,this[_0x5d0975(0x2d9)]=_0x55a31a,this[_0x5d0975(0x63e)]=_0x5b5bff;}},ze=class{},He=class{},Re=class{},Ke=class{},Qe=class{},Se=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},It=T(require(a0_0x5bdda6(0x119))),ba=require('fs'),Sa=require('path');async function $e(_0xf007f){const _0x1c0ba=a0_0x5bdda6;let _0xe3bbe2=B['waInstances'][_0xf007f];if(L[_0x1c0ba(0x615)]){let _0x3e31cc=A[_0x1c0ba(0x513)]()['db'](L[_0x1c0ba(0x2ca)][_0x1c0ba(0x7d6)]+_0x1c0ba(0x60f))[_0x1c0ba(0x44d)](_0xf007f);return _0xe3bbe2||(await _0x3e31cc['find']({})[_0x1c0ba(0x1ec)]())[_0x1c0ba(0x29b)]>0x0;}return _0xe3bbe2||(0x0,ba[_0x1c0ba(0x38f)])((0x0,Sa[_0x1c0ba(0x64d)])(fe,_0xf007f));}async function Ma(_0x8caa46,_0x1e1317,_0xa3dbbd){const _0x1fea95=a0_0x5bdda6;if(_0x8caa46[_0x1fea95(0x299)][_0x1fea95(0x71f)](_0x1fea95(0x16c))||_0x8caa46['originalUrl'][_0x1fea95(0x71f)](_0x1fea95(0x75c))||_0x8caa46['originalUrl'][_0x1fea95(0x71f)](_0x1fea95(0x774))||_0x8caa46['originalUrl']['includes'](_0x1fea95(0x4f3))||_0x8caa46[_0x1fea95(0x299)]['includes'](_0x1fea95(0x6e8))||_0x8caa46['originalUrl'][_0x1fea95(0x71f)]('/instance/connectionState')||_0x8caa46[_0x1fea95(0x299)][_0x1fea95(0x71f)](_0x1fea95(0x2f0)))return _0xa3dbbd();let _0x534dea=_0x8caa46[_0x1fea95(0x76b)];if(!_0x534dea?.[_0x1fea95(0x7eb)])throw new m(_0x1fea95(0x365));if(!await $e(_0x534dea['instanceName']))throw new q(_0x1fea95(0x288)+_0x534dea[_0x1fea95(0x7eb)]+_0x1fea95(0x460));_0xa3dbbd();}async function Ca(_0x39a8e7,_0x316c88,_0x17d80e){const _0x1882a6=a0_0x5bdda6;if(_0x39a8e7[_0x1882a6(0x299)][_0x1882a6(0x71f)](_0x1882a6(0x16c))){let _0x34272f=_0x39a8e7[_0x1882a6(0x322)];if(await $e(_0x34272f['instanceName']))throw new Y(_0x1882a6(0x613)+_0x34272f[_0x1882a6(0x7eb)]+_0x1882a6(0x12d));B[_0x1882a6(0x1b1)][_0x34272f[_0x1882a6(0x7eb)]]&&delete B[_0x1882a6(0x1b1)][_0x34272f['instanceName']];}_0x17d80e();}var Ea=require('class-validator'),va=T(require(a0_0x5bdda6(0x138))),tt='uazapi',fr=new $(a0_0x5bdda6(0x1ae));async function wr(_0x50792d,_0x2094e7,_0x23302a){const _0x1c6794=a0_0x5bdda6;let _0x194914=_0x50792d[_0x1c6794(0x1bb)](_0x1c6794(0x79e));if(_0x194914&&b['get'](_0x1c6794(0x389))[_0x1c6794(0x41d)][_0x1c6794(0x62a)]!==_0x194914)throw new ae();if(b['get'](_0x1c6794(0x389))['API_KEY'][_0x1c6794(0x62a)]===_0x194914)return _0x23302a();if((_0x50792d[_0x1c6794(0x299)]['includes'](_0x1c6794(0x16c))||_0x50792d[_0x1c6794(0x299)][_0x1c6794(0x71f)](_0x1c6794(0x75c)))&&!_0x194914)throw new Y(_0x1c6794(0x741),_0x1c6794(0x55e));let _0x55cba5=b[_0x1c6794(0x1bb)](_0x1c6794(0x389))['JWT'];try{let [_0x1068fe,_0xee9667]=_0x50792d[_0x1c6794(0x1bb)](_0x1c6794(0x584))['split']('\x20');if(_0x1068fe[_0x1c6794(0x441)]()!==_0x1c6794(0x56d))throw new ae();if(!(0x0,Ea[_0x1c6794(0x6ac)])(_0xee9667))throw new ae();let _0x36d4f7=_0x50792d[_0x1c6794(0x76b)],_0xa79d40=va[_0x1c6794(0x79b)][_0x1c6794(0x4a0)](_0xee9667,_0x55cba5['SECRET'],{'ignoreExpiration':_0x55cba5['EXPIRIN_IN']===0x0});if(_0x36d4f7[_0x1c6794(0x7eb)]!==_0xa79d40['instanceName']||tt!==_0xa79d40[_0x1c6794(0x2b7)])throw new ae();return _0x23302a();}catch(_0x14646d){throw fr[_0x1c6794(0x83d)](_0x14646d),new ae();}}async function yr(_0x1d8f49,_0xdc2e7a,_0x158f43){const _0xd76fe6=a0_0x5bdda6;let _0x1e42d7=b[_0xd76fe6(0x1bb)](_0xd76fe6(0x389))[_0xd76fe6(0x41d)],_0x182d00=_0x1d8f49[_0xd76fe6(0x1bb)](_0xd76fe6(0x79e));if(_0x1e42d7[_0xd76fe6(0x62a)]===_0x182d00)return _0x158f43();if(_0x1d8f49[_0xd76fe6(0x299)][_0xd76fe6(0x71f)](_0xd76fe6(0x16c))){let _0x42d9b6=st,_0x397605=_0x1d8f49[_0xd76fe6(0x322)][_0xd76fe6(0x7eb)];if(_0x42d9b6&&_0x397605['toLowerCase']()['startsWith'](_0x42d9b6[_0xd76fe6(0x441)]()))return _0x158f43();if(!_0x182d00)throw new Y(_0xd76fe6(0x741),_0xd76fe6(0x55e));}if(_0x1d8f49[_0xd76fe6(0x299)][_0xd76fe6(0x71f)](_0xd76fe6(0x75c))&&!_0x182d00)throw new Y('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x1d8f49[_0xd76fe6(0x299)][_0xd76fe6(0x71f)](_0xd76fe6(0x774))&&!_0x182d00)throw new Y(_0xd76fe6(0x741),_0xd76fe6(0x55e));if(_0x1d8f49[_0xd76fe6(0x299)][_0xd76fe6(0x71f)](_0xd76fe6(0x4f3))&&!_0x182d00)throw new Y(_0xd76fe6(0x741),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x5287e8=_0x1d8f49[_0xd76fe6(0x76b)],_0xf9ccc7=await pe['auth'][_0xd76fe6(0x2b1)](_0x5287e8[_0xd76fe6(0x7eb)]);if(_0xf9ccc7&&_0xf9ccc7[_0xd76fe6(0x79e)]===_0x182d00)return _0x158f43();}catch{}throw new ae();}var Na={'jwt':wr,'apikey':yr},ro=require(a0_0x5bdda6(0x119)),E=require(a0_0x5bdda6(0x644)),C=(..._0x664e50)=>{const _0x3afbf6=a0_0x5bdda6;let _0x37e3a7={};return _0x664e50[_0x3afbf6(0x3a3)](_0xda3c73=>_0x37e3a7[_0xda3c73]={'minLength':0x1,'description':_0x3afbf6(0x206)+_0xda3c73+_0x3afbf6(0x67f)}),{'if':{'propertyNames':{'enum':[..._0x664e50]}},'then':{'properties':_0x37e3a7}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'instanceName':{'type':a0_0x5bdda6(0x1c7)}},...C(a0_0x5bdda6(0x7eb))},nc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x5bdda6(0x1c7)}},'required':['oldToken'],...C(a0_0x5bdda6(0x646))},cc={'properties':{'key':{'type':a0_0x5bdda6(0x53a),'properties':{'id':{'type':a0_0x5bdda6(0x1c7)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5bdda6(0x4c8),a0_0x5bdda6(0x295)],...C('id',a0_0x5bdda6(0x4c8))},'message':{'type':a0_0x5bdda6(0x53a)}}},X={'properties':{'delay':{'type':'integer','description':a0_0x5bdda6(0x39d)},'presence':{'type':a0_0x5bdda6(0x1c7),'enum':[a0_0x5bdda6(0x5c7),'available','composing','recording',a0_0x5bdda6(0x428)]}}},H={'type':'string','description':'Invalid\x20format'},Ra={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{...H},'options':{...X},'textMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'text':{'type':'string'}},'required':[a0_0x5bdda6(0x3ce)],...C(a0_0x5bdda6(0x3ce))}},'required':[a0_0x5bdda6(0x596),a0_0x5bdda6(0x5eb)]},$a={'type':a0_0x5bdda6(0x1c7),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x5bdda6(0x40c)},lc={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{...$a},'options':{...X},'textMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'text':{'type':a0_0x5bdda6(0x1c7)}},'required':[a0_0x5bdda6(0x3ce)],...C(a0_0x5bdda6(0x3ce))}},'required':['textMessage',a0_0x5bdda6(0x5eb)]},uc={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{...$a},'options':{...X},'mediaMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'mediatype':{'type':a0_0x5bdda6(0x1c7),'enum':[a0_0x5bdda6(0x614),a0_0x5bdda6(0x1e1),a0_0x5bdda6(0x2f2),a0_0x5bdda6(0x489)]},'media':{'type':a0_0x5bdda6(0x1c7)},'fileName':{'type':a0_0x5bdda6(0x1c7)},'caption':{'type':a0_0x5bdda6(0x1c7)}},'required':[a0_0x5bdda6(0x680),a0_0x5bdda6(0x3d1)],...C('fileName','caption',a0_0x5bdda6(0x3d1))}},'required':[a0_0x5bdda6(0x1b0),'number']},Aa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'stickerMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'image':{'type':'string'}},'required':[a0_0x5bdda6(0x614)],...C(a0_0x5bdda6(0x614))}},'required':[a0_0x5bdda6(0x590),'number']},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'statusMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'type':{'type':'string','enum':[a0_0x5bdda6(0x3ce),a0_0x5bdda6(0x614),a0_0x5bdda6(0x489),a0_0x5bdda6(0x2f2)]},'content':{'type':a0_0x5bdda6(0x1c7)},'caption':{'type':a0_0x5bdda6(0x1c7)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x5bdda6(0x483),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x5bdda6(0x380),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x5bdda6(0x750),'description':a0_0x5bdda6(0x2ed)}},'allContacts':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]}},'required':[a0_0x5bdda6(0x5b3),a0_0x5bdda6(0x26f)],...C(a0_0x5bdda6(0x5b3),'content')}},'required':[a0_0x5bdda6(0x2ce)]},Ta={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x5bdda6(0x1c7),'enum':[a0_0x5bdda6(0x614),'document',a0_0x5bdda6(0x2f2),a0_0x5bdda6(0x489)]},'media':{'type':a0_0x5bdda6(0x1c7)},'fileName':{'type':a0_0x5bdda6(0x1c7)},'caption':{'type':'string'}},'required':[a0_0x5bdda6(0x680),'media'],...C(a0_0x5bdda6(0x308),'caption',a0_0x5bdda6(0x3d1))}},'required':[a0_0x5bdda6(0x1b0),a0_0x5bdda6(0x5eb)]},Ia={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x5bdda6(0x1c7)}},'required':['audio'],...C('audio')}},'required':[a0_0x5bdda6(0x560),a0_0x5bdda6(0x5eb)]},xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'pollMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'name':{'type':a0_0x5bdda6(0x1c7)},'selectableCount':{'type':a0_0x5bdda6(0x5eb)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5bdda6(0x63e),a0_0x5bdda6(0x38c),'values'],...C(a0_0x5bdda6(0x63e),a0_0x5bdda6(0x38c),a0_0x5bdda6(0x449))}},'required':[a0_0x5bdda6(0x5eb),a0_0x5bdda6(0x1f9)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{...H},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x5bdda6(0x1c7)},'choices':{'type':a0_0x5bdda6(0x380),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5bdda6(0x3ce),a0_0x5bdda6(0x6c2)],...C('text',a0_0x5bdda6(0x6c2))}},'required':['number',a0_0x5bdda6(0x830)]},_a={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{...H},'options':{...X},'buttonMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'title':{'type':a0_0x5bdda6(0x1c7)},'description':{'type':a0_0x5bdda6(0x1c7)},'footerText':{'type':a0_0x5bdda6(0x1c7)},'buttons':{'type':a0_0x5bdda6(0x380),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x5bdda6(0x1c7)},'buttonId':{'type':'string'}},'required':['buttonText',a0_0x5bdda6(0x28d)],...C(a0_0x5bdda6(0x4eb),a0_0x5bdda6(0x28d))}},'mediaMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'media':{'type':a0_0x5bdda6(0x1c7)},'fileName':{'type':a0_0x5bdda6(0x1c7)},'mediatype':{'type':'string','enum':[a0_0x5bdda6(0x614),a0_0x5bdda6(0x1e1),'video']}},'required':[a0_0x5bdda6(0x3d1),a0_0x5bdda6(0x680)],...C(a0_0x5bdda6(0x3d1),a0_0x5bdda6(0x308))}},'required':[a0_0x5bdda6(0x579),a0_0x5bdda6(0x329)],...C(a0_0x5bdda6(0x579),a0_0x5bdda6(0x702))}},'required':[a0_0x5bdda6(0x5eb),a0_0x5bdda6(0x5ac)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{...H},'options':{...X},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':a0_0x5bdda6(0x1c7)}},'required':[a0_0x5bdda6(0x7ff),a0_0x5bdda6(0x168)],...C(a0_0x5bdda6(0x63e),'addresss')}},'required':[a0_0x5bdda6(0x5eb),a0_0x5bdda6(0x668)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{...H},'options':{...X},'listMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'title':{'type':a0_0x5bdda6(0x1c7)},'description':{'type':'string'},'footerText':{'type':a0_0x5bdda6(0x1c7)},'buttonText':{'type':a0_0x5bdda6(0x1c7)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5bdda6(0x53a),'properties':{'title':{'type':a0_0x5bdda6(0x1c7)},'description':{'type':a0_0x5bdda6(0x1c7)},'rowId':{'type':a0_0x5bdda6(0x1c7)}},'required':['title',a0_0x5bdda6(0x2fb)],...C(a0_0x5bdda6(0x579),a0_0x5bdda6(0x2fb))}}},'required':[a0_0x5bdda6(0x579),a0_0x5bdda6(0x534)],...C(a0_0x5bdda6(0x579))}}},'required':[a0_0x5bdda6(0x579),'description',a0_0x5bdda6(0x4eb),a0_0x5bdda6(0x149)],...C(a0_0x5bdda6(0x579),a0_0x5bdda6(0x702),a0_0x5bdda6(0x4eb),a0_0x5bdda6(0x83a))}},'required':['number',a0_0x5bdda6(0x315)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'contactMessage':{'type':a0_0x5bdda6(0x380),'items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x5bdda6(0x2ff),'phoneNumber'],...C(a0_0x5bdda6(0x2ff))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x5bdda6(0x5eb),a0_0x5bdda6(0x2dd)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'reactionMessage':{'type':a0_0x5bdda6(0x53a),'properties':{'key':{'type':a0_0x5bdda6(0x53a),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5bdda6(0x4c8),'fromMe'],...C('id',a0_0x5bdda6(0x4c8))},'reaction':{'type':a0_0x5bdda6(0x1c7)}},'required':['key',a0_0x5bdda6(0x432)],...C(a0_0x5bdda6(0x432))}},'required':[a0_0x5bdda6(0x5f6)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'numbers':{'type':a0_0x5bdda6(0x380),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5bdda6(0x1c7),'pattern':a0_0x5bdda6(0x750),'description':a0_0x5bdda6(0x574)}}}},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x5bdda6(0x380),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id','fromMe',a0_0x5bdda6(0x4c8)],...C('id','remoteJid')}}},'required':[a0_0x5bdda6(0x23a)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x5bdda6(0x1c7),'enum':[a0_0x5bdda6(0x219),a0_0x5bdda6(0x20a)]},'profile':{'type':'string','enum':[a0_0x5bdda6(0x219),'contacts',a0_0x5bdda6(0x7bb),a0_0x5bdda6(0x20a)]},'status':{'type':a0_0x5bdda6(0x1c7),'enum':[a0_0x5bdda6(0x219),'contacts',a0_0x5bdda6(0x7bb),'none']},'online':{'type':'string','enum':[a0_0x5bdda6(0x219),'match_last_seen']},'last':{'type':a0_0x5bdda6(0x1c7),'enum':[a0_0x5bdda6(0x219),a0_0x5bdda6(0x14f),'contact_blacklist',a0_0x5bdda6(0x20a)]},'groupadd':{'type':'string','enum':[a0_0x5bdda6(0x219),a0_0x5bdda6(0x14f),'contact_blacklist',a0_0x5bdda6(0x20a)]}},'required':[a0_0x5bdda6(0x429),a0_0x5bdda6(0x74b),a0_0x5bdda6(0x390),a0_0x5bdda6(0x407),a0_0x5bdda6(0x825),a0_0x5bdda6(0x816)],...C(a0_0x5bdda6(0x429),a0_0x5bdda6(0x74b),a0_0x5bdda6(0x390),a0_0x5bdda6(0x407),a0_0x5bdda6(0x825),'groupadd')}},'required':['privacySettings']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x5bdda6(0x1c7)},'remoteJid':{'type':a0_0x5bdda6(0x1c7)},'fromMe':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5bdda6(0x295),'remoteJid'],...C('id',a0_0x5bdda6(0x4c8))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x5bdda6(0x4d8)],...C('messageTimestamp')},'archive':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]}},'required':[a0_0x5bdda6(0x354),a0_0x5bdda6(0x69f)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'id':{'type':a0_0x5bdda6(0x1c7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5bdda6(0x1c7)},'participant':{'type':'string'}},'required':['id',a0_0x5bdda6(0x295),a0_0x5bdda6(0x4c8)],...C('id','remoteJid',a0_0x5bdda6(0x317))},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'where':{'type':a0_0x5bdda6(0x53a),'properties':{'_id':{'type':a0_0x5bdda6(0x1c7),'minLength':0x1},'pushName':{'type':a0_0x5bdda6(0x1c7),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x5bdda6(0x38a),'id',a0_0x5bdda6(0x689))}}},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'name':{'type':a0_0x5bdda6(0x1c7)}},...C('name')},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'status':{'type':a0_0x5bdda6(0x1c7)}},...C('status')},Ae={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{'type':a0_0x5bdda6(0x1c7)},'picture':{'type':a0_0x5bdda6(0x1c7)}}},za={'type':a0_0x5bdda6(0x53a),'properties':{'wuid':{'type':a0_0x5bdda6(0x1c7)},'name':{'type':a0_0x5bdda6(0x1c7)},'picture':{'type':a0_0x5bdda6(0x1c7)},'status':{'type':'string'},'isBusiness':{'type':'boolean'}}},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x5bdda6(0x1c7),'minLength':0x1},'key':{'type':a0_0x5bdda6(0x53a),'if':{'propertyNames':{'enum':['fromMe',a0_0x5bdda6(0x4c8),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5bdda6(0x1c7),'minLength':0x1,'description':a0_0x5bdda6(0x1d4)},'id':{'type':'string','minLength':0x1,'description':a0_0x5bdda6(0x1d4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5bdda6(0x53a)}},...C(a0_0x5bdda6(0x38a))},'limit':{'type':a0_0x5bdda6(0x483)}}},dc={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'where':{'type':a0_0x5bdda6(0x53a),'properties':{'_id':{'type':a0_0x5bdda6(0x1c7)},'remoteJid':{'type':a0_0x5bdda6(0x1c7)},'id':{'type':'string'},'fromMe':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5bdda6(0x1c7)},'status':{'type':'string','enum':[a0_0x5bdda6(0x70d),a0_0x5bdda6(0x436),a0_0x5bdda6(0x809),a0_0x5bdda6(0x2cc),a0_0x5bdda6(0x1ad),a0_0x5bdda6(0x6b6)]}},...C(a0_0x5bdda6(0x38a),a0_0x5bdda6(0x4c8),'id',a0_0x5bdda6(0x390))},'limit':{'type':a0_0x5bdda6(0x483)}}},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'number':{...H},'presence':{'type':a0_0x5bdda6(0x1c7),'enum':[a0_0x5bdda6(0x5c7),a0_0x5bdda6(0x73e),a0_0x5bdda6(0x2e7),a0_0x5bdda6(0x4be),a0_0x5bdda6(0x428)]}},'required':['presence',a0_0x5bdda6(0x5eb)]},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x5bdda6(0x1c7)},'profilePicture':{'type':a0_0x5bdda6(0x1c7)},'participants':{'type':a0_0x5bdda6(0x380),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5bdda6(0x1c7),'minLength':0xa,'pattern':a0_0x5bdda6(0x7ac),'description':a0_0x5bdda6(0x602)}}},'required':[a0_0x5bdda6(0x608),a0_0x5bdda6(0x504)],...C(a0_0x5bdda6(0x608),a0_0x5bdda6(0x702),a0_0x5bdda6(0x2fd))},Oe={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string','pattern':a0_0x5bdda6(0x125)}},'required':[a0_0x5bdda6(0x268)],...C(a0_0x5bdda6(0x268))},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'groupJid':{'type':a0_0x5bdda6(0x1c7)},'action':{'type':a0_0x5bdda6(0x1c7),'enum':['add',a0_0x5bdda6(0x4f9),a0_0x5bdda6(0x738),a0_0x5bdda6(0x657),a0_0x5bdda6(0x116),a0_0x5bdda6(0x777)]},'participants':{'type':a0_0x5bdda6(0x380),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x5bdda6(0x7ac),'description':a0_0x5bdda6(0x602)}}},'required':[a0_0x5bdda6(0x268),a0_0x5bdda6(0x23f),a0_0x5bdda6(0x504)],...C('groupJid',a0_0x5bdda6(0x23f))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'groupJid':{'type':a0_0x5bdda6(0x1c7)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x5bdda6(0x3ab)],...C('groupJid',a0_0x5bdda6(0x3ab))},Za={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'groupJid':{'type':a0_0x5bdda6(0x1c7)},'image':{'type':a0_0x5bdda6(0x1c7)}},'required':['groupJid','image'],...C(a0_0x5bdda6(0x268),a0_0x5bdda6(0x614))},eo={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'groupJid':{'type':a0_0x5bdda6(0x1c7)},'description':{'type':a0_0x5bdda6(0x1c7)}},'required':[a0_0x5bdda6(0x268),a0_0x5bdda6(0x702)],...C(a0_0x5bdda6(0x268),a0_0x5bdda6(0x702))},to={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x5bdda6(0x1c7)}},'required':[a0_0x5bdda6(0x268),a0_0x5bdda6(0x63e)],...C(a0_0x5bdda6(0x268),a0_0x5bdda6(0x63e))},so={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x5bdda6(0x1c7)},'setting':{'type':a0_0x5bdda6(0x1c7),'enum':[a0_0x5bdda6(0x628),a0_0x5bdda6(0x292),a0_0x5bdda6(0x6e5),a0_0x5bdda6(0x303)]}},'required':[a0_0x5bdda6(0x268),a0_0x5bdda6(0x2bf)],...C('groupJid',a0_0x5bdda6(0x2bf))},ao={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'groupJid':{'type':'string'},'restrict':{'type':'boolean'},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x5bdda6(0x468)},'joinApprovalMode':{'type':a0_0x5bdda6(0x468)},'expiration':{'type':a0_0x5bdda6(0x483),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x5bdda6(0x1c7)},'image':{'type':a0_0x5bdda6(0x1c7)}}},bs={'$id':(0x0,E['v4'])(),'type':a0_0x5bdda6(0x53a),'properties':{'inviteCode':{'type':a0_0x5bdda6(0x1c7)}},'required':[a0_0x5bdda6(0x51b)],...C(a0_0x5bdda6(0x51b))},oo={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x5bdda6(0x1c7)},'enabled':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]}},'required':[a0_0x5bdda6(0x379),'enabled']},pc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5bdda6(0x468),'enum':[!0x0,!0x1]}},'required':[a0_0x5bdda6(0x57f),a0_0x5bdda6(0x642),a0_0x5bdda6(0x537),a0_0x5bdda6(0x4bd),a0_0x5bdda6(0x6aa),a0_0x5bdda6(0x526),a0_0x5bdda6(0x65e),'CONTACTS_SET',a0_0x5bdda6(0x304),'CONTACTS_UPDATE','PRESENCE_UPDATE','CHATS_SET',a0_0x5bdda6(0x5ec),a0_0x5bdda6(0x11a),a0_0x5bdda6(0x433),a0_0x5bdda6(0x6f9),a0_0x5bdda6(0x5df),a0_0x5bdda6(0x1d0),'GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x5bdda6(0x57f),a0_0x5bdda6(0x642),'QRCODE_UPDATED','MESSAGES_SET',a0_0x5bdda6(0x6aa),a0_0x5bdda6(0x526),a0_0x5bdda6(0x65e),a0_0x5bdda6(0x1ce),a0_0x5bdda6(0x304),a0_0x5bdda6(0x2c3),a0_0x5bdda6(0x46f),a0_0x5bdda6(0x4ae),a0_0x5bdda6(0x5ec),a0_0x5bdda6(0x11a),a0_0x5bdda6(0x433),a0_0x5bdda6(0x6f9),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x5bdda6(0x47a))},at=class{},ot=class extends D{[a0_0x5bdda6(0x189)](_0x148bba){return Xs(_0x148bba);}async[a0_0x5bdda6(0x72e)](_0x410b54){const _0x4cb034=a0_0x5bdda6;if(_0x410b54[_0x4cb034(0x29b)]!==0x0)try{return{'insertCount':(await this[_0x4cb034(0x189)](_0x410b54[0x0][_0x4cb034(0x7cf)])[_0x4cb034(0x7b4)]([..._0x410b54]))[_0x4cb034(0x29b)]};}catch(_0x1b7b31){return _0x1b7b31;}}async[a0_0x5bdda6(0x469)](_0x41ca8f,_0x8eba78){const _0x5cd710=a0_0x5bdda6;try{return{'deletedCount':(await this[_0x5cd710(0x189)](_0x8eba78)[_0x5cd710(0x803)]({..._0x41ca8f[_0x5cd710(0x80f)]}))[_0x5cd710(0x47c)]};}catch(_0x427b31){return{'error':_0x427b31?.[_0x5cd710(0x58f)]()};}}async['update'](_0xcc487f,_0x3d41ce){const _0x9b4e59=a0_0x5bdda6;try{if(_0xcc487f[_0x9b4e59(0x29b)]===0x0)return;let _0x36a237=this[_0x9b4e59(0x189)](_0x3d41ce),_0x3140d7=_0xcc487f[_0x9b4e59(0x2b0)](_0x574498=>({'updateOne':{'filter':{'_id':_0x574498[_0x9b4e59(0x38a)],'owner':_0x3d41ce},'update':{..._0x574498}}})),{modifiedCount:_0x416da9}=await _0x36a237[_0x9b4e59(0x14a)](_0x3140d7);return{'insertCount':_0x416da9};}catch{return;}}async[a0_0x5bdda6(0x2b1)](_0x3331ce,_0x28af27){const _0x4339c8=a0_0x5bdda6;try{let _0x203ea2=this[_0x4339c8(0x189)](_0x28af27),_0x434bfa=I(_0x3331ce['where']);return await _0x203ea2[_0x4339c8(0x2b1)](_0x434bfa)['limit'](_0x3331ce?.[_0x4339c8(0x51f)]??0x0)[_0x4339c8(0x841)]();}catch{return[];}}async['findOne'](_0x27b0b6,_0x13b95e){const _0x4de6f2=a0_0x5bdda6;try{let _0x411964=this[_0x4de6f2(0x189)](_0x13b95e),_0xb4a280=I(_0x27b0b6[_0x4de6f2(0x80f)]);return await _0x411964['findOne'](_0xb4a280)[_0x4de6f2(0x841)]();}catch{return null;}}async[a0_0x5bdda6(0x5fe)](_0xeae994){const _0x38073d=a0_0x5bdda6;try{return await this[_0x38073d(0x189)](_0xeae994)[_0x38073d(0x44d)][_0x38073d(0x719)](),{'success':!0x0};}catch(_0x1a81c8){return console['error'](_0x1a81c8),{'success':!0x1,'error':_0x1a81c8};}}},rt=require(a0_0x5bdda6(0x44b)),Mc=require(a0_0x5bdda6(0x186)),Ss=new $(a0_0x5bdda6(0x780)),G=class{[a0_0x5bdda6(0x214)](_0x4b6419,_0x188422=!0x0){const _0x4a54a3=a0_0x5bdda6;let _0x3674f6='/'+_0x4b6419;return _0x188422&&(_0x3674f6+=_0x4a54a3(0x383)),_0x3674f6;}async[a0_0x5bdda6(0x3e7)](_0x71f061){const _0x1e7f91=a0_0x5bdda6;let {request:_0x33eb4a,schema:_0x264938,ClassRef:_0x589758,execute:_0x54b874}=_0x71f061,_0x19d207=new _0x589758(),_0x359ebc=_0x33eb4a[_0x1e7f91(0x322)],_0x369cb5=_0x33eb4a[_0x1e7f91(0x76b)];_0x33eb4a?.['query']&&Object[_0x1e7f91(0x45d)](_0x33eb4a[_0x1e7f91(0x16b)])[_0x1e7f91(0x29b)]>0x0&&Object['assign'](_0x369cb5,_0x33eb4a[_0x1e7f91(0x16b)]),_0x33eb4a['originalUrl'][_0x1e7f91(0x71f)]('/instance/create')&&Object[_0x1e7f91(0x6d2)](_0x369cb5,_0x359ebc),Object[_0x1e7f91(0x6d2)](_0x19d207,_0x359ebc);let _0x521aac=_0x264938?(0x0,rt[_0x1e7f91(0x20b)])(_0x19d207,_0x264938):{'valid':!0x0,'errors':[]};if(!_0x521aac[_0x1e7f91(0x1c0)]){let _0x3f7091=_0x521aac[_0x1e7f91(0x431)][_0x1e7f91(0x2b0)](({property:_0x22e0d8,stack:_0x59f695,schema:_0x2b00d4})=>{const _0x36ceba=_0x1e7f91;let _0x3f57c1;return _0x2b00d4['description']?_0x3f57c1=_0x2b00d4[_0x36ceba(0x702)]:_0x3f57c1=_0x59f695[_0x36ceba(0x4a9)]('instance.',''),{'property':_0x22e0d8[_0x36ceba(0x4a9)](_0x36ceba(0x426),''),'message':_0x3f57c1};});throw Ss['error']([..._0x3f7091]),new m(..._0x3f7091);}return await _0x54b874(_0x369cb5,_0x19d207);}async[a0_0x5bdda6(0x49e)](_0x31e885){const _0x31937d=a0_0x5bdda6;let {request:_0x46e438,ClassRef:_0x36953d,schema:_0x3a031c,execute:_0x5c4171}=_0x31e885,_0x14ced6=_0x46e438[_0x31937d(0x16b)];if(!_0x14ced6?.[_0x31937d(0x268)])throw new m(_0x31937d(0x4f4),_0x31937d(0x635));let _0x46e103=_0x46e438[_0x31937d(0x76b)],_0x2a5189=_0x46e438[_0x31937d(0x322)],_0x17b199=new _0x36953d();Object[_0x31937d(0x6d2)](_0x2a5189,_0x14ced6),Object[_0x31937d(0x6d2)](_0x17b199,_0x2a5189);let _0x840f83=(0x0,rt[_0x31937d(0x20b)])(_0x17b199,_0x3a031c);if(!_0x840f83[_0x31937d(0x1c0)]){let _0x165496=_0x840f83[_0x31937d(0x431)][_0x31937d(0x2b0)](({property:_0x536eaa,stack:_0x8f307f,schema:_0x1e1eaf})=>{const _0x5217d9=_0x31937d;let _0x59d39d;return _0x1e1eaf[_0x5217d9(0x702)]?_0x59d39d=_0x1e1eaf['description']:_0x59d39d=_0x8f307f[_0x5217d9(0x4a9)]('instance.',''),{'property':_0x536eaa[_0x5217d9(0x4a9)](_0x5217d9(0x426),''),'message':_0x59d39d};});throw Ss['error']([..._0x165496]),new m(..._0x165496);}return await _0x5c4171(_0x46e103,_0x17b199);}async['joinGroupValidate'](_0x2683f1){const _0x22e6bb=a0_0x5bdda6;let {request:_0x57eeb6,ClassRef:_0x1d61c1,schema:_0x48e6d9,execute:_0x53a945}=_0x2683f1,_0x3f9405=_0x57eeb6[_0x22e6bb(0x322)];if(!_0x3f9405?.[_0x22e6bb(0x51b)])throw new m(_0x22e6bb(0x61e),_0x22e6bb(0x755));let _0x58eb2c=_0x57eeb6[_0x22e6bb(0x76b)],_0x8153f0=_0x57eeb6['body'],_0x4f593f=new _0x1d61c1();Object[_0x22e6bb(0x6d2)](_0x8153f0,_0x3f9405),Object['assign'](_0x4f593f,_0x8153f0);let _0x4f6643=(0x0,rt['validate'])(_0x4f593f,_0x48e6d9);if(!_0x4f6643[_0x22e6bb(0x1c0)]){let _0x57d9d0=_0x4f6643[_0x22e6bb(0x431)][_0x22e6bb(0x2b0)](({property:_0x173950,stack:_0xb1b3ba,schema:_0x3dcbe7})=>{const _0x1980f2=_0x22e6bb;let _0xfc3489;return _0x3dcbe7[_0x1980f2(0x702)]?_0xfc3489=_0x3dcbe7[_0x1980f2(0x702)]:_0xfc3489=_0xb1b3ba['replace']('instance.',''),{'property':_0x173950[_0x1980f2(0x4a9)](_0x1980f2(0x426),''),'message':_0xfc3489};});throw Ss[_0x22e6bb(0x83d)]([..._0x57d9d0]),new m(..._0x57d9d0);}return await _0x53a945(_0x58eb2c,_0x4f593f);}},M=class{},kc=new $('ChatRouter'),it=class extends G{constructor(..._0xf4f99b){const _0x14d4fc=a0_0x5bdda6;super(),this[_0x14d4fc(0x7f3)]=(0x0,ro[_0x14d4fc(0x484)])(),this['router'][_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)](_0x14d4fc(0x714)),..._0xf4f99b,async(_0x42b1af,_0x1eb198)=>{const _0x54c7b3=_0x14d4fc;let _0x4c2876=await this[_0x54c7b3(0x3e7)]({'request':_0x42b1af,'schema':Ka,'ClassRef':ze,'execute':(_0x2410b9,_0x41ad64)=>P[_0x54c7b3(0x714)](_0x2410b9,_0x41ad64)});return _0x1eb198[_0x54c7b3(0x390)](0xc9)[_0x54c7b3(0x3d7)](_0x4c2876);})[_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)](_0x14d4fc(0x61a)),..._0xf4f99b,async(_0xe77ff1,_0x57e206)=>{const _0x7a01fb=_0x14d4fc;let _0x1fc9c1=await this[_0x7a01fb(0x3e7)]({'request':_0xe77ff1,'schema':Fa,'ClassRef':He,'execute':(_0x8bbe01,_0x31a8a3)=>P['whatsappNumber'](_0x8bbe01,_0x31a8a3)});return _0x57e206['status'](0xc9)[_0x7a01fb(0x3d7)](_0x1fc9c1);})[_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)]('editChat'),..._0xf4f99b,async(_0x5a582c,_0x370ad8)=>{const _0x1921b8=_0x14d4fc;let _0x37c604=await this[_0x1921b8(0x3e7)]({'request':_0x5a582c,'schema':v,'ClassRef':M,'execute':(_0x2dbf5a,_0x1d4c86)=>P[_0x1921b8(0x2c4)](_0x2dbf5a,_0x1d4c86)});return _0x370ad8[_0x1921b8(0x390)](0xc9)[_0x1921b8(0x3d7)](_0x37c604);})['put'](this[_0x14d4fc(0x214)](_0x14d4fc(0x629)),..._0xf4f99b,async(_0x12611e,_0x452624)=>{const _0x486cc0=_0x14d4fc;let _0x9bba82=await this[_0x486cc0(0x3e7)]({'request':_0x12611e,'schema':Ja,'ClassRef':Ye,'execute':(_0x2f649e,_0x1c5cc7)=>P[_0x486cc0(0x418)](_0x2f649e,_0x1c5cc7)});return _0x452624['status'](0xc9)[_0x486cc0(0x3d7)](_0x9bba82);})['put'](this[_0x14d4fc(0x214)](_0x14d4fc(0x3a1)),..._0xf4f99b,async(_0x4e2af0,_0x5748f4)=>{const _0xab3710=_0x14d4fc;let _0x1e8c35=await this[_0xab3710(0x3e7)]({'request':_0x4e2af0,'schema':qa,'ClassRef':Xe,'execute':(_0x1b3739,_0x32d9a8)=>P[_0xab3710(0x3a1)](_0x1b3739,_0x32d9a8)});return _0x5748f4[_0xab3710(0x390)](0xc9)['json'](_0x1e8c35);})[_0x14d4fc(0x469)](this['routerPath']('deleteMessageForEveryone'),..._0xf4f99b,async(_0x2185f8,_0x2904bc)=>{const _0x3a9ac2=_0x14d4fc;let _0x27c138=await this['dataValidate']({'request':_0x2185f8,'schema':Va,'ClassRef':et,'execute':(_0x57c569,_0x2f26b7)=>P[_0x3a9ac2(0x70c)](_0x57c569,_0x2f26b7)});return _0x2904bc[_0x3a9ac2(0x390)](0xc9)[_0x3a9ac2(0x3d7)](_0x27c138);})[_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)](_0x14d4fc(0x725)),..._0xf4f99b,async(_0x534799,_0x4b6f02)=>{const _0x3835ea=_0x14d4fc;let _0x4a4b84=await this['dataValidate']({'request':_0x534799,'schema':Ae,'ClassRef':Re,'execute':(_0x2a5cbf,_0x1ad9c1)=>P['fetchProfilePicture'](_0x2a5cbf,_0x1ad9c1)});return _0x4b6f02[_0x3835ea(0x390)](0xc8)['json'](_0x4a4b84);})[_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)]('fetchProfile'),..._0xf4f99b,async(_0x223d60,_0x2a079f)=>{const _0x5a190b=_0x14d4fc;let _0x4b591d=await this[_0x5a190b(0x3e7)]({'request':_0x223d60,'schema':za,'ClassRef':Re,'execute':(_0x42ab4d,_0x51eb6c)=>P[_0x5a190b(0x839)](_0x42ab4d,_0x51eb6c)});return _0x2a079f[_0x5a190b(0x390)](0xc8)[_0x5a190b(0x3d7)](_0x4b591d);})[_0x14d4fc(0x7da)](this['routerPath'](_0x14d4fc(0x3f2)),..._0xf4f99b,async(_0x4f60e2,_0x470cdb)=>{const _0x1cf739=_0x14d4fc;let _0x2fa6be=await this[_0x1cf739(0x3e7)]({'request':_0x4f60e2,'schema':Ga,'ClassRef':at,'execute':(_0x38f41d,_0xa43d28)=>P[_0x1cf739(0x603)](_0x38f41d,_0xa43d28)});return _0x470cdb[_0x1cf739(0x390)](0xc8)[_0x1cf739(0x3d7)](_0x2fa6be);})['post'](this[_0x14d4fc(0x214)](_0x14d4fc(0x4b7)),..._0xf4f99b,async(_0x1e45d5,_0x482b30)=>{const _0x52fcaf=_0x14d4fc;let _0x180a05=await this[_0x52fcaf(0x3e7)]({'request':_0x1e45d5,'schema':null,'ClassRef':Object,'execute':(_0x12587d,_0x8e2a6e)=>P[_0x52fcaf(0x4b7)](_0x12587d,_0x8e2a6e)});return _0x482b30['status'](0xc9)[_0x52fcaf(0x3d7)](_0x180a05);})[_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)](_0x14d4fc(0x3e9)),..._0xf4f99b,async(_0x13b837,_0x5d8a8f)=>{const _0x4f666e=_0x14d4fc;let _0x285aaf=await this['dataValidate']({'request':_0x13b837,'schema':Ha,'ClassRef':Be,'execute':(_0x5971e6,_0xc6f9fd)=>P[_0x4f666e(0x688)](_0x5971e6,_0xc6f9fd)});return _0x5d8a8f[_0x4f666e(0x390)](0xc8)[_0x4f666e(0x3d7)](_0x285aaf);})[_0x14d4fc(0x1bb)](this[_0x14d4fc(0x214)]('findChats'),..._0xf4f99b,async(_0x36f8c2,_0x44ceff)=>{const _0x2321d1=_0x14d4fc;let _0x3df31f=await this[_0x2321d1(0x3e7)]({'request':_0x36f8c2,'schema':null,'ClassRef':M,'execute':_0x122137=>P[_0x2321d1(0x555)](_0x122137)});return _0x44ceff[_0x2321d1(0x390)](0xc8)['json'](_0x3df31f);})[_0x14d4fc(0x1bb)](this['routerPath'](_0x14d4fc(0x5da)),..._0xf4f99b,async(_0x483c75,_0x146858)=>{const _0x36435f=_0x14d4fc;let _0x34a304=await this[_0x36435f(0x3e7)]({'request':_0x483c75,'schema':null,'ClassRef':M,'execute':_0x550f9c=>P[_0x36435f(0x2d6)](_0x550f9c)});return _0x146858[_0x36435f(0x390)](0xc8)[_0x36435f(0x3d7)](_0x34a304);})[_0x14d4fc(0x585)](this[_0x14d4fc(0x214)](_0x14d4fc(0x55b)),..._0xf4f99b,async(_0x2ca21d,_0x24a41e)=>{const _0x1af81f=_0x14d4fc;let _0x1c1c74=await this[_0x1af81f(0x3e7)]({'request':_0x2ca21d,'schema':null,'ClassRef':Array,'execute':(_0x2cdedc,_0x390579)=>P[_0x1af81f(0x55b)](_0x2cdedc,_0x390579)});return _0x24a41e['status'](0xc8)[_0x1af81f(0x3d7)](_0x1c1c74);})[_0x14d4fc(0x1bb)](this[_0x14d4fc(0x214)](_0x14d4fc(0x11c)),..._0xf4f99b,async(_0x2be78f,_0x29be68)=>{const _0x69afbe=_0x14d4fc;let _0x416f6d=await this['dataValidate']({'request':_0x2be78f,'schema':null,'ClassRef':M,'execute':_0x431cda=>P[_0x69afbe(0x11c)](_0x431cda)});return _0x29be68[_0x69afbe(0x390)](0xc8)[_0x69afbe(0x3d7)](_0x416f6d);})[_0x14d4fc(0x585)](this[_0x14d4fc(0x214)]('updatePrivacySettings'),..._0xf4f99b,async(_0x455e59,_0x4301a4)=>{const _0x55821f=_0x14d4fc;let _0x10939d=await this[_0x55821f(0x3e7)]({'request':_0x455e59,'schema':Ua,'ClassRef':Ze,'execute':(_0x4895e5,_0x51ef27)=>P[_0x55821f(0x6d6)](_0x4895e5,_0x51ef27)});return _0x4301a4[_0x55821f(0x390)](0xc9)[_0x55821f(0x3d7)](_0x10939d);})[_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)](_0x14d4fc(0x67b)),..._0xf4f99b,async(_0x40ac38,_0x2fbb63)=>{const _0x5a6618=_0x14d4fc;let _0x2a2a4f=await this[_0x5a6618(0x3e7)]({'request':_0x40ac38,'schema':Ae,'ClassRef':Se,'execute':(_0x18f918,_0x574b26)=>P[_0x5a6618(0x67b)](_0x18f918,_0x574b26)});return _0x2fbb63[_0x5a6618(0x390)](0xc8)[_0x5a6618(0x3d7)](_0x2a2a4f);})[_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)](_0x14d4fc(0x196)),..._0xf4f99b,async(_0x3577b3,_0x5e299e)=>{const _0x3cbddb=_0x14d4fc;let _0xebea50=await this['dataValidate']({'request':_0x3577b3,'schema':Ba,'ClassRef':Ke,'execute':(_0x26043e,_0x52493a)=>P[_0x3cbddb(0x196)](_0x26043e,_0x52493a)});return _0x5e299e[_0x3cbddb(0x390)](0xc8)[_0x3cbddb(0x3d7)](_0xebea50);})[_0x14d4fc(0x7da)](this[_0x14d4fc(0x214)](_0x14d4fc(0x6b5)),..._0xf4f99b,async(_0x59ba59,_0x5ae10d)=>{const _0xb45417=_0x14d4fc;let _0x42d243=await this[_0xb45417(0x3e7)]({'request':_0x59ba59,'schema':Wa,'ClassRef':Qe,'execute':(_0x301312,_0x4a2568)=>P[_0xb45417(0x6b5)](_0x301312,_0x4a2568)});return _0x5ae10d[_0xb45417(0x390)](0xc8)[_0xb45417(0x3d7)](_0x42d243);})[_0x14d4fc(0x585)](this[_0x14d4fc(0x214)]('updateProfilePicture'),..._0xf4f99b,async(_0x4ac42c,_0x544431)=>{const _0x3b67e5=_0x14d4fc;let _0x3172d1=await this['dataValidate']({'request':_0x4ac42c,'schema':Ae,'ClassRef':Se,'execute':(_0x11cede,_0x1f399a)=>P[_0x3b67e5(0x660)](_0x11cede,_0x1f399a)});return _0x544431['status'](0xc8)[_0x3b67e5(0x3d7)](_0x3172d1);})['delete'](this[_0x14d4fc(0x214)](_0x14d4fc(0x1e8)),..._0xf4f99b,async(_0x17de49,_0x310050)=>{const _0x3cd1ec=_0x14d4fc;let _0x4b6d9c=await this['dataValidate']({'request':_0x17de49,'schema':Ae,'ClassRef':Se,'execute':(_0x289a2a,_0x19c4e4)=>P[_0x3cd1ec(0x1e8)](_0x289a2a,_0x19c4e4)});return _0x310050[_0x3cd1ec(0x390)](0xc8)['json'](_0x4b6d9c);});}},io=require('express'),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},Z=class{},Te=class{},ht=class extends Z{},gt=class extends Z{},mt=class extends G{constructor(..._0x24b431){const _0x3ba667=a0_0x5bdda6;super(),this[_0x3ba667(0x7f3)]=(0x0,io[_0x3ba667(0x484)])(),this['router'][_0x3ba667(0x7da)](this[_0x3ba667(0x214)](_0x3ba667(0x812)),..._0x24b431,async(_0x40161a,_0x581ef3)=>{const _0x254a76=_0x3ba667;let _0x4bd76a=await this[_0x254a76(0x3e7)]({'request':_0x40161a,'schema':Qa,'ClassRef':nt,'execute':(_0x1c2731,_0x8295a8)=>V[_0x254a76(0x366)](_0x1c2731,_0x8295a8)});_0x581ef3[_0x254a76(0x390)](0xc9)['json'](_0x4bd76a);})[_0x3ba667(0x585)](this['routerPath']('updateGroupPicture'),..._0x24b431,async(_0x800786,_0x37be76)=>{const _0x89eb5a=_0x3ba667;let _0x38923e=await this[_0x89eb5a(0x49e)]({'request':_0x800786,'schema':Za,'ClassRef':ct,'execute':(_0x561692,_0x171645)=>V[_0x89eb5a(0x5d8)](_0x561692,_0x171645)});_0x37be76['status'](0xc9)[_0x89eb5a(0x3d7)](_0x38923e);})[_0x3ba667(0x585)](this[_0x3ba667(0x214)]('groupDesc'),..._0x24b431,async(_0x2ef02d,_0xe55d69)=>{const _0x70b779=_0x3ba667;let _0x2f2963=await this[_0x70b779(0x49e)]({'request':_0x2ef02d,'schema':eo,'ClassRef':lt,'execute':(_0x4c4063,_0x28c2da)=>V['groupDesc'](_0x4c4063,_0x28c2da)});_0xe55d69[_0x70b779(0x390)](0xc9)[_0x70b779(0x3d7)](_0x2f2963);})[_0x3ba667(0x585)](this[_0x3ba667(0x214)]('groupName'),..._0x24b431,async(_0x4b154d,_0xe86291)=>{const _0x3b010a=_0x3ba667;let _0x2fd737=await this['groupValidate']({'request':_0x4b154d,'schema':to,'ClassRef':ut,'execute':(_0x340aac,_0x31de72)=>V['groupName'](_0x340aac,_0x31de72)});_0xe86291[_0x3b010a(0x390)](0xc9)[_0x3b010a(0x3d7)](_0x2fd737);})['put'](this[_0x3ba667(0x214)](_0x3ba667(0x566)),..._0x24b431,async(_0x2cea2f,_0x34b965)=>{const _0x21a45a=_0x3ba667;let _0x501ed5=await this[_0x21a45a(0x49e)]({'request':_0x2cea2f,'schema':ao,'ClassRef':pt,'execute':(_0x429fcd,_0x70b295)=>V['groupBetterSetting'](_0x429fcd,_0x70b295)});_0x34b965['status'](0xc9)[_0x21a45a(0x3d7)](_0x501ed5);})[_0x3ba667(0x585)](this[_0x3ba667(0x214)](_0x3ba667(0x344)),..._0x24b431,async(_0x24fb14,_0x328c18)=>{const _0x37cca4=_0x3ba667;let _0x5de57c=await this[_0x37cca4(0x49e)]({'request':_0x24fb14,'schema':so,'ClassRef':dt,'execute':(_0xc754ff,_0x203ed9)=>V[_0x37cca4(0x344)](_0xc754ff,_0x203ed9)});_0x328c18[_0x37cca4(0x390)](0xc9)[_0x37cca4(0x3d7)](_0x5de57c);})[_0x3ba667(0x585)](this[_0x3ba667(0x214)](_0x3ba667(0x4ac)),..._0x24b431,async(_0x5564cb,_0x35f4a2)=>{const _0x466a41=_0x3ba667;let _0x236190=await this[_0x466a41(0x49e)]({'request':_0x5564cb,'schema':Xa,'ClassRef':gt,'execute':(_0x727006,_0xf1046d)=>V[_0x466a41(0x4ac)](_0x727006,_0xf1046d)});_0x35f4a2[_0x466a41(0x390)](0xc9)[_0x466a41(0x3d7)](_0x236190);})[_0x3ba667(0x1bb)](this['routerPath']('findGroupInfos'),..._0x24b431,async(_0x2eebb1,_0x925fbc)=>{const _0xc2fe61=_0x3ba667;let _0x2ae809=await this['groupValidate']({'request':_0x2eebb1,'schema':Oe,'ClassRef':Z,'execute':(_0x1c3b89,_0x52cec3)=>V[_0xc2fe61(0x216)](_0x1c3b89,_0x52cec3)});_0x925fbc[_0xc2fe61(0x390)](0xc8)[_0xc2fe61(0x3d7)](_0x2ae809);})[_0x3ba667(0x1bb)](this['routerPath'](_0x3ba667(0x83f)),..._0x24b431,async(_0x3712d4,_0x40dad2)=>{const _0x44747e=_0x3ba667;let _0x5aabdd=await this[_0x44747e(0x3e7)]({'request':_0x3712d4,'schema':v,'ClassRef':M,'execute':_0x15d6ee=>V[_0x44747e(0x83f)](_0x15d6ee)});_0x40dad2[_0x44747e(0x390)](0xc8)[_0x44747e(0x3d7)](_0x5aabdd);})[_0x3ba667(0x1bb)](this[_0x3ba667(0x214)](_0x3ba667(0x504)),..._0x24b431,async(_0x3682a2,_0x6a1e81)=>{const _0x4f05a0=_0x3ba667;let _0x3cb5a5=await this['groupValidate']({'request':_0x3682a2,'schema':Oe,'ClassRef':Z,'execute':(_0x36d306,_0x9f1b22)=>V[_0x4f05a0(0x6ab)](_0x36d306,_0x9f1b22)});_0x6a1e81['status'](0xc8)['json'](_0x3cb5a5);})['get'](this[_0x3ba667(0x214)]('inviteCode'),..._0x24b431,async(_0x3441be,_0x3b3b66)=>{const _0x5d861c=_0x3ba667;let _0x398f36=await this['groupValidate']({'request':_0x3441be,'schema':Oe,'ClassRef':Z,'execute':(_0x59163c,_0x159392)=>V[_0x5d861c(0x51b)](_0x59163c,_0x159392)});_0x3b3b66[_0x5d861c(0x390)](0xc8)[_0x5d861c(0x3d7)](_0x398f36);})[_0x3ba667(0x7da)](this[_0x3ba667(0x214)]('inviteCodeDetails'),..._0x24b431,async(_0x2165cd,_0x2765ec)=>{const _0x5b35a3=_0x3ba667;let _0x5799c1=await this[_0x5b35a3(0x4d5)]({'request':_0x2165cd,'schema':bs,'ClassRef':Te,'execute':(_0x116e98,_0x12367d)=>V['groupGetInviteInfo'](_0x116e98,_0x12367d)});_0x2765ec[_0x5b35a3(0x390)](0xc9)[_0x5b35a3(0x3d7)](_0x5799c1);})['put'](this[_0x3ba667(0x214)]('joinGroup'),..._0x24b431,async(_0x447484,_0xcdee76)=>{const _0x242d29=_0x3ba667;let _0xec08cb=await this[_0x242d29(0x4d5)]({'request':_0x447484,'schema':bs,'ClassRef':Te,'execute':(_0x3057ac,_0x33be84)=>V[_0x242d29(0x302)](_0x3057ac,_0x33be84)});_0xcdee76['status'](0xc9)[_0x242d29(0x3d7)](_0xec08cb);})[_0x3ba667(0x585)](this[_0x3ba667(0x214)](_0x3ba667(0x1a8)),..._0x24b431,async(_0x3ba040,_0x5d81eb)=>{const _0x199a11=_0x3ba667;let _0xa3e903=await this['groupValidate']({'request':_0x3ba040,'schema':Oe,'ClassRef':Z,'execute':(_0x4754b4,_0xc3027c)=>V[_0x199a11(0x1a8)](_0x4754b4,_0xc3027c)});_0x5d81eb[_0x199a11(0x390)](0xc9)['json'](_0xa3e903);})['put'](this['routerPath'](_0x3ba667(0x6ed)),..._0x24b431,async(_0x14ec39,_0x4be358)=>{const _0x5289f6=_0x3ba667;let _0x119254=await this[_0x5289f6(0x49e)]({'request':_0x14ec39,'schema':Ya,'ClassRef':ht,'execute':(_0x142cce,_0x1cbd9d)=>V[_0x5289f6(0x131)](_0x142cce,_0x1cbd9d)});_0x4be358[_0x5289f6(0x390)](0xc9)[_0x5289f6(0x3d7)](_0x119254);})[_0x3ba667(0x469)](this[_0x3ba667(0x214)](_0x3ba667(0x661)),..._0x24b431,async(_0x403b6d,_0x3b1a99)=>{const _0x3376a7=_0x3ba667;let _0x50e5c8=await this['groupValidate']({'request':_0x403b6d,'schema':{},'ClassRef':Z,'execute':(_0x2e4dcc,_0x106da9)=>V[_0x3376a7(0x661)](_0x2e4dcc,_0x106da9)});_0x3b1a99[_0x3376a7(0x390)](0xc8)[_0x3376a7(0x3d7)](_0x50e5c8);});}},no=require(a0_0x5bdda6(0x119)),ft=class extends G{constructor(_0x5df9fc,..._0x33aa96){const _0x4be73c=a0_0x5bdda6;super(),this[_0x4be73c(0x5b4)]=_0x5df9fc,this[_0x4be73c(0x7f3)]=(0x0,no[_0x4be73c(0x484)])();let _0x3a78bf=_0x5df9fc[_0x4be73c(0x1bb)](_0x4be73c(0x389));this[_0x4be73c(0x7f3)][_0x4be73c(0x7da)](_0x4be73c(0x823),..._0x33aa96,async(_0x2e646d,_0x572ca2)=>{const _0x4b6d0b=_0x4be73c;let {instanceName:_0x4ffe73,apikey:_0x3ca06b,number:_0x33578f}=_0x2e646d['body'],_0x43d07c=await ce['createInstance']({'instanceName':_0x4ffe73,'apikey':_0x3ca06b,'number':_0x33578f});return _0x572ca2[_0x4b6d0b(0x390)](0xc9)['json'](_0x43d07c);})[_0x4be73c(0x585)](this[_0x4be73c(0x214)](_0x4be73c(0x4c6)),..._0x33aa96,async(_0x1748a2,_0x256693)=>{const _0x494efd=_0x4be73c;let _0x5072eb=await this['dataValidate']({'request':_0x1748a2,'schema':v,'ClassRef':M,'execute':_0x2879a5=>ce['restartInstance'](_0x2879a5)});return _0x256693[_0x494efd(0x390)](0xc8)[_0x494efd(0x3d7)](_0x5072eb);})[_0x4be73c(0x1bb)](this[_0x4be73c(0x214)](_0x4be73c(0x58d)),..._0x33aa96,async(_0x3301d6,_0x5594ee)=>{const _0x563258=_0x4be73c;let _0x4f4321=await this['dataValidate']({'request':_0x3301d6,'schema':v,'ClassRef':M,'execute':_0x1aab45=>ce[_0x563258(0x446)](_0x1aab45)});return _0x5594ee[_0x563258(0x390)](0xc8)[_0x563258(0x3d7)](_0x4f4321);})[_0x4be73c(0x1bb)](this[_0x4be73c(0x214)](_0x4be73c(0x192)),..._0x33aa96,async(_0x3019b0,_0x19b44d)=>{const _0x3bb40f=_0x4be73c;let _0x2267df=await this[_0x3bb40f(0x3e7)]({'request':_0x3019b0,'schema':v,'ClassRef':M,'execute':_0x1cd6a2=>ce['connectionState'](_0x1cd6a2)});return _0x19b44d[_0x3bb40f(0x390)](0xc8)[_0x3bb40f(0x3d7)](_0x2267df);})[_0x4be73c(0x1bb)](this[_0x4be73c(0x214)]('fetchInstances',!0x1),..._0x33aa96,async(_0xb45b67,_0x413ac6)=>{const _0x101cb6=_0x4be73c;let _0x1032a7=await this[_0x101cb6(0x3e7)]({'request':_0xb45b67,'schema':null,'ClassRef':M,'execute':_0x2448fe=>ce[_0x101cb6(0x3e1)](_0x2448fe)});return _0x413ac6[_0x101cb6(0x390)](0xc8)[_0x101cb6(0x3d7)](_0x1032a7);})[_0x4be73c(0x469)](this['routerPath'](_0x4be73c(0x55a)),..._0x33aa96,async(_0x59cc63,_0x432277)=>{const _0x5c5455=_0x4be73c;let _0x3c2df4=await this[_0x5c5455(0x3e7)]({'request':_0x59cc63,'schema':v,'ClassRef':M,'execute':_0x24f6bd=>ce[_0x5c5455(0x55a)](_0x24f6bd)});return _0x432277[_0x5c5455(0x390)](0xc8)[_0x5c5455(0x3d7)](_0x3c2df4);})[_0x4be73c(0x469)](this[_0x4be73c(0x214)](_0x4be73c(0x469)),..._0x33aa96,async(_0x57505a,_0x55f059)=>{const _0x413f7d=_0x4be73c;let _0x47987c=await this[_0x413f7d(0x3e7)]({'request':_0x57505a,'schema':v,'ClassRef':M,'execute':_0x3556b9=>ce[_0x413f7d(0x743)](_0x3556b9)});return _0x55f059['status'](0xc8)[_0x413f7d(0x3d7)](_0x47987c);});}},co=require(a0_0x5bdda6(0x119)),Ms=class{},z=class extends Ms{},wt=class extends z{},yt=class extends z{},bt=class extends z{},St=class extends z{},Ie=class extends z{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},Rt=class{},$t=class extends G{constructor(..._0x4fc4c6){const _0x3be695=a0_0x5bdda6;super(),this['router']=(0x0,co[_0x3be695(0x484)])(),this[_0x3be695(0x7f3)][_0x3be695(0x7da)](this[_0x3be695(0x214)](_0x3be695(0x3da)),..._0x4fc4c6,async(_0x3c1bda,_0x14815a)=>{const _0x24be86=_0x3be695;let _0x57297f=await this[_0x24be86(0x3e7)]({'request':_0x3c1bda,'schema':Ra,'ClassRef':wt,'execute':(_0xbdff46,_0x358f48)=>W[_0x24be86(0x3da)](_0xbdff46,_0x358f48)});return _0x14815a['status'](0xc9)['json'](_0x57297f);})[_0x3be695(0x7da)](this['routerPath'](_0x3be695(0x3c6)),..._0x4fc4c6,async(_0x468b71,_0x3af2ec)=>{const _0x190e8a=_0x3be695;let _0x54d7ce=await this['dataValidate']({'request':_0x468b71,'schema':Ta,'ClassRef':Ie,'execute':(_0x4ce7a0,_0x304e73)=>W[_0x190e8a(0x3c6)](_0x4ce7a0,_0x304e73)});return _0x3af2ec[_0x190e8a(0x390)](0xc9)[_0x190e8a(0x3d7)](_0x54d7ce);})[_0x3be695(0x7da)](this[_0x3be695(0x214)]('sendMenu'),..._0x4fc4c6,async(_0x32f470,_0x4c62fe)=>{const _0x77a6ed=_0x3be695;let _0x17e583=await this['dataValidate']({'request':_0x32f470,'schema':Da,'ClassRef':St,'execute':(_0x582055,_0x14d089)=>W['sendMenu'](_0x582055,_0x14d089)});return _0x4c62fe[_0x77a6ed(0x390)](0xc9)['json'](_0x17e583);})[_0x3be695(0x7da)](this[_0x3be695(0x214)](_0x3be695(0x5e8)),..._0x4fc4c6,async(_0x460138,_0x3fd918)=>{const _0x3075b5=_0x3be695;let _0x53a0fb=await this[_0x3075b5(0x3e7)]({'request':_0x460138,'schema':Ia,'ClassRef':Ie,'execute':(_0x2de7c5,_0x425916)=>W['sendWhatsAppAudio'](_0x2de7c5,_0x425916)});return _0x3fd918[_0x3075b5(0x390)](0xc9)[_0x3075b5(0x3d7)](_0x53a0fb);})[_0x3be695(0x7da)](this[_0x3be695(0x214)](_0x3be695(0x178)),..._0x4fc4c6,async(_0x4f43fc,_0x379b2b)=>{const _0x4ad80f=_0x3be695;let _0x34de70=await this[_0x4ad80f(0x3e7)]({'request':_0x4f43fc,'schema':_a,'ClassRef':Ct,'execute':(_0x3ba50e,_0x4ecaff)=>W['sendButtons'](_0x3ba50e,_0x4ecaff)});return _0x379b2b['status'](0xc9)['json'](_0x34de70);})[_0x3be695(0x7da)](this['routerPath'](_0x3be695(0x4c5)),..._0x4fc4c6,async(_0x1156ba,_0x49d960)=>{const _0x260a7c=_0x3be695;let _0x3e0cfe=await this[_0x260a7c(0x3e7)]({'request':_0x1156ba,'schema':Pa,'ClassRef':Et,'execute':(_0x1b99fd,_0x33020d)=>W[_0x260a7c(0x4c5)](_0x1b99fd,_0x33020d)});return _0x49d960[_0x260a7c(0x390)](0xc9)[_0x260a7c(0x3d7)](_0x3e0cfe);})[_0x3be695(0x7da)](this['routerPath'](_0x3be695(0x6f1)),..._0x4fc4c6,async(_0x602fd3,_0x18ace5)=>{const _0x3c5199=_0x3be695;let _0x139be7=await this[_0x3c5199(0x3e7)]({'request':_0x602fd3,'schema':ka,'ClassRef':vt,'execute':(_0x490e37,_0x23e0a2)=>W['sendList'](_0x490e37,_0x23e0a2)});return _0x18ace5[_0x3c5199(0x390)](0xc9)['json'](_0x139be7);})['post'](this[_0x3be695(0x214)]('sendContact'),..._0x4fc4c6,async(_0x129156,_0x33905f)=>{const _0x3d8009=_0x3be695;let _0x34e2a7=await this[_0x3d8009(0x3e7)]({'request':_0x129156,'schema':ja,'ClassRef':Nt,'execute':(_0x2fed0f,_0x20d444)=>W[_0x3d8009(0x592)](_0x2fed0f,_0x20d444)});return _0x33905f['status'](0xc9)[_0x3d8009(0x3d7)](_0x34e2a7);})[_0x3be695(0x7da)](this['routerPath']('sendReaction'),..._0x4fc4c6,async(_0x1a7632,_0x5063fa)=>{const _0x44ae28=_0x3be695;let _0x3b1201=await this['dataValidate']({'request':_0x1a7632,'schema':La,'ClassRef':Rt,'execute':(_0x58b01f,_0x158081)=>W[_0x44ae28(0x400)](_0x58b01f,_0x158081)});return _0x5063fa['status'](0xc9)[_0x44ae28(0x3d7)](_0x3b1201);})['post'](this[_0x3be695(0x214)](_0x3be695(0x834)),..._0x4fc4c6,async(_0x19533d,_0x3138ca)=>{const _0x5946b4=_0x3be695;let _0x2d6083=await this[_0x5946b4(0x3e7)]({'request':_0x19533d,'schema':xa,'ClassRef':bt,'execute':(_0x19a2f4,_0x19542c)=>W[_0x5946b4(0x834)](_0x19a2f4,_0x19542c)});return _0x3138ca[_0x5946b4(0x390)](0xc9)[_0x5946b4(0x3d7)](_0x2d6083);})[_0x3be695(0x7da)](this[_0x3be695(0x214)]('sendStatus'),..._0x4fc4c6,async(_0x1bc888,_0x1e03ef)=>{const _0x21c190=_0x3be695;let _0x1c316d=await this[_0x21c190(0x3e7)]({'request':_0x1bc888,'schema':Oa,'ClassRef':yt,'execute':(_0x2153f1,_0x1a0bc7)=>W['sendStatus'](_0x2153f1,_0x1a0bc7)});return _0x1e03ef[_0x21c190(0x390)](0xc9)[_0x21c190(0x3d7)](_0x1c316d);})[_0x3be695(0x7da)](this[_0x3be695(0x214)](_0x3be695(0x18d)),..._0x4fc4c6,async(_0x3f3d4e,_0x1c3b11)=>{const _0x43d0d0=_0x3be695;let _0x2f41b5=await this[_0x43d0d0(0x3e7)]({'request':_0x3f3d4e,'schema':Aa,'ClassRef':Mt,'execute':(_0x21b1d3,_0x267245)=>W[_0x43d0d0(0x18d)](_0x21b1d3,_0x267245)});return _0x1c3b11['status'](0xc9)['json'](_0x2f41b5);});}},lo=require('express'),At=class{},Ot=class extends G{constructor(..._0x526e4c){const _0x3b6c49=a0_0x5bdda6;super(),this['router']=(0x0,lo[_0x3b6c49(0x484)])(),this[_0x3b6c49(0x7f3)]['post'](this[_0x3b6c49(0x214)]('set'),..._0x526e4c,async(_0x10a6cb,_0x1bf59a)=>{const _0x1ac0a4=_0x3b6c49;let _0x39fa25=await this['dataValidate']({'request':_0x10a6cb,'schema':oo,'ClassRef':At,'execute':(_0x940ca2,_0x29af10)=>Cs['createWebhook'](_0x940ca2,_0x29af10)});_0x1bf59a[_0x1ac0a4(0x390)](0xc9)['json'](_0x39fa25);})[_0x3b6c49(0x1bb)](this[_0x3b6c49(0x214)](_0x3b6c49(0x2b1)),..._0x526e4c,async(_0x58413f,_0x115767)=>{const _0x16022d=_0x3b6c49;let _0x152142=await this[_0x16022d(0x3e7)]({'request':_0x58413f,'schema':v,'ClassRef':M,'execute':_0x43c3bd=>Cs['findWebhook'](_0x43c3bd)});_0x115767[_0x16022d(0x390)](0xc8)['json'](_0x152142);});}},uo=require(a0_0x5bdda6(0x119)),y=new $(a0_0x5bdda6(0x211)),Tt=class extends G{constructor(..._0x9ce7da){const _0xeff03d=a0_0x5bdda6;super(),this[_0xeff03d(0x7f3)]=(0x0,uo[_0xeff03d(0x484)])(),this['router'][_0xeff03d(0x7da)](this[_0xeff03d(0x214)]('scheduleMessage'),..._0x9ce7da,async(_0x552e0c,_0x42a44a)=>{const _0x3dda98=_0xeff03d;let _0x2fdf67=_0x552e0c[_0x3dda98(0x322)];y[_0x3dda98(0x1f6)](_0x3dda98(0x1ca)),y[_0x3dda98(0x1f6)]('request\x20body:\x20'),y[_0x3dda98(0x1f6)](_0x552e0c[_0x3dda98(0x322)]);let _0x41a001=await this['dataValidate']({'request':_0x552e0c,'schema':v,'ClassRef':M,'execute':_0x5d86d2=>O[_0x3dda98(0x7a0)](_0x5d86d2,_0x2fdf67)});_0x42a44a[_0x3dda98(0x390)](0xc8)['json'](_0x41a001);})[_0xeff03d(0x1bb)](this[_0xeff03d(0x214)](_0xeff03d(0x4ff)),..._0x9ce7da,async(_0x54f485,_0x2e16b8)=>{const _0x2f5504=_0xeff03d;let _0x1ec12d=await this[_0x2f5504(0x3e7)]({'request':_0x54f485,'schema':v,'ClassRef':M,'execute':_0x6bde3b=>O[_0x2f5504(0x589)](_0x6bde3b)});_0x2e16b8[_0x2f5504(0x390)](0xc8)['json'](_0x1ec12d);})['delete'](this[_0xeff03d(0x214)](_0xeff03d(0x37c)),..._0x9ce7da,async(_0x9152d4,_0xf753e4)=>{const _0x417cdd=_0xeff03d;y[_0x417cdd(0x1f6)](_0x417cdd(0x4b3));let _0x405eee=await this[_0x417cdd(0x3e7)]({'request':_0x9152d4,'schema':v,'ClassRef':M,'execute':_0x2b7652=>O['deleteDoneMessages'](_0x2b7652)});_0xf753e4[_0x417cdd(0x390)](0xc8)[_0x417cdd(0x3d7)](_0x405eee);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x56f)),..._0x9ce7da,async(_0x43ebe2,_0x5ed7b0)=>{const _0x348190=_0xeff03d;let _0x577572=_0x43ebe2[_0x348190(0x322)];y['verbose']('request\x20received\x20in\x20starFlow'),y[_0x348190(0x1f6)](_0x348190(0x3b3)),y['verbose'](_0x43ebe2[_0x348190(0x322)]);let _0x8d09d4=await this[_0x348190(0x3e7)]({'request':_0x43ebe2,'schema':v,'ClassRef':M,'execute':_0x756424=>O[_0x348190(0x56f)](_0x756424,_0x577572)});_0x5ed7b0['status'](0xc8)[_0x348190(0x3d7)](_0x8d09d4);})[_0xeff03d(0x1bb)](this[_0xeff03d(0x214)](_0xeff03d(0x252)),..._0x9ce7da,async(_0x2d017b,_0x1d73ca)=>{const _0x128440=_0xeff03d;y[_0x128440(0x1f6)](_0x128440(0x135));let _0x3051dd=await this[_0x128440(0x3e7)]({'request':_0x2d017b,'schema':v,'ClassRef':M,'execute':_0x508128=>O[_0x128440(0x252)](_0x508128)});_0x1d73ca[_0x128440(0x390)](0xc8)[_0x128440(0x3d7)](_0x3051dd);})[_0xeff03d(0x1bb)](this['routerPath'](_0xeff03d(0x399)),..._0x9ce7da,async(_0x566b43,_0x301962)=>{const _0x56a99e=_0xeff03d;y[_0x56a99e(0x1f6)](_0x56a99e(0x349));let _0x1816d3=await this['dataValidate']({'request':_0x566b43,'schema':v,'ClassRef':M,'execute':_0x24d5d7=>O['getAutomateSystem'](_0x24d5d7)});_0x301962['status'](0xc8)[_0x56a99e(0x3d7)](_0x1816d3);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x28b)),..._0x9ce7da,async(_0x30b9d1,_0x2dae1e)=>{const _0x29bced=_0xeff03d;let _0x56351c=_0x30b9d1[_0x29bced(0x322)];y[_0x29bced(0x1f6)](_0x29bced(0x800)),y['verbose']('request\x20body:\x20'),y[_0x29bced(0x1f6)](_0x30b9d1[_0x29bced(0x322)]);let _0x4b3d15=await this[_0x29bced(0x3e7)]({'request':_0x30b9d1,'schema':v,'ClassRef':M,'execute':_0x194495=>O[_0x29bced(0x28b)](_0x194495,_0x56351c)});_0x2dae1e['status'](0xc8)[_0x29bced(0x3d7)](_0x4b3d15);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x77c)),..._0x9ce7da,async(_0x35b45a,_0x53a26e)=>{const _0x3727aa=_0xeff03d;let _0x439fa4=_0x35b45a[_0x3727aa(0x322)];y[_0x3727aa(0x1f6)](_0x3727aa(0x425)),y[_0x3727aa(0x1f6)](_0x3727aa(0x3b3)),y[_0x3727aa(0x1f6)](_0x35b45a[_0x3727aa(0x322)]);let _0x132f1a=await this['dataValidate']({'request':_0x35b45a,'schema':v,'ClassRef':M,'execute':_0x2c0195=>O[_0x3727aa(0x77c)](_0x2c0195,_0x439fa4)});_0x53a26e[_0x3727aa(0x390)](0xc8)[_0x3727aa(0x3d7)](_0x132f1a);})['post'](this[_0xeff03d(0x214)](_0xeff03d(0x651)),..._0x9ce7da,async(_0x19bb47,_0x24bc79)=>{const _0x4b48b8=_0xeff03d;let _0x23b397=_0x19bb47[_0x4b48b8(0x322)];y[_0x4b48b8(0x1f6)](_0x4b48b8(0x311)),y[_0x4b48b8(0x1f6)](_0x4b48b8(0x3b3)),y['verbose'](_0x19bb47['body']);let _0x243369=await this[_0x4b48b8(0x3e7)]({'request':_0x19bb47,'schema':v,'ClassRef':M,'execute':_0x688e1a=>O[_0x4b48b8(0x651)](_0x688e1a,_0x23b397)});_0x24bc79[_0x4b48b8(0x390)](0xc8)[_0x4b48b8(0x3d7)](_0x243369);})['post'](this[_0xeff03d(0x214)](_0xeff03d(0x11f)),..._0x9ce7da,async(_0x3476bd,_0x18045a)=>{const _0x27152a=_0xeff03d;let _0x3c2f76=_0x3476bd[_0x27152a(0x322)];y[_0x27152a(0x1f6)](_0x27152a(0x236)),y[_0x27152a(0x1f6)]('request\x20body:\x20'),y['verbose'](_0x3476bd[_0x27152a(0x322)]);let _0x40722e=await this[_0x27152a(0x3e7)]({'request':_0x3476bd,'schema':v,'ClassRef':M,'execute':_0x53163b=>O[_0x27152a(0x11f)](_0x53163b,_0x3c2f76)});_0x18045a[_0x27152a(0x390)](0xc8)[_0x27152a(0x3d7)](_0x40722e);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)]('getConversation'),..._0x9ce7da,async(_0x3e204b,_0x16dca6)=>{const _0x14309d=_0xeff03d;let _0x468ea1=_0x3e204b[_0x14309d(0x322)];y[_0x14309d(0x1f6)](_0x14309d(0x586)),y['verbose'](_0x14309d(0x3b3)),y[_0x14309d(0x1f6)](_0x3e204b[_0x14309d(0x322)]);let _0x352478=await this[_0x14309d(0x3e7)]({'request':_0x3e204b,'schema':v,'ClassRef':M,'execute':_0x4af8f0=>O[_0x14309d(0x653)](_0x4af8f0,_0x468ea1)});_0x16dca6['status'](0xc8)['json'](_0x352478);})[_0xeff03d(0x7da)](this['routerPath'](_0xeff03d(0x5cd)),..._0x9ce7da,async(_0x3e3599,_0x972b9e)=>{const _0x313a3b=_0xeff03d;let _0x53423c=_0x3e3599[_0x313a3b(0x322)];y['verbose'](_0x313a3b(0x5e9)),y[_0x313a3b(0x1f6)](_0x313a3b(0x3b3)),y[_0x313a3b(0x1f6)](_0x3e3599[_0x313a3b(0x322)]);let _0x153a31=await this[_0x313a3b(0x3e7)]({'request':_0x3e3599,'schema':v,'ClassRef':M,'execute':_0x1cf9bf=>O[_0x313a3b(0x5cd)](_0x1cf9bf,_0x53423c)});_0x972b9e[_0x313a3b(0x390)](0xc8)[_0x313a3b(0x3d7)](_0x153a31);})['post'](this[_0xeff03d(0x214)](_0xeff03d(0x2db)),..._0x9ce7da,async(_0x587406,_0x3702ac)=>{const _0x553db6=_0xeff03d;let _0x561fab=_0x587406[_0x553db6(0x322)];y[_0x553db6(0x1f6)](_0x553db6(0x4bf)),y[_0x553db6(0x1f6)]('request\x20body:\x20'),y[_0x553db6(0x1f6)](_0x587406[_0x553db6(0x322)]);let _0x3b0b6a=await this[_0x553db6(0x3e7)]({'request':_0x587406,'schema':v,'ClassRef':M,'execute':_0x75da92=>O[_0x553db6(0x2db)](_0x75da92,_0x561fab)});_0x3702ac[_0x553db6(0x390)](0xc8)[_0x553db6(0x3d7)](_0x3b0b6a);})[_0xeff03d(0x469)](this[_0xeff03d(0x214)]('deleteConversation'),..._0x9ce7da,async(_0x529f59,_0x2f011c)=>{const _0x26ddd9=_0xeff03d;let _0x4009f6=_0x529f59[_0x26ddd9(0x322)];y[_0x26ddd9(0x1f6)](_0x26ddd9(0x3c4)),y[_0x26ddd9(0x1f6)](_0x26ddd9(0x3b3)),y[_0x26ddd9(0x1f6)](_0x529f59[_0x26ddd9(0x322)]);let _0x534810=await this[_0x26ddd9(0x3e7)]({'request':_0x529f59,'schema':v,'ClassRef':M,'execute':_0x417a6b=>O['deleteConversation'](_0x417a6b,_0x4009f6)});_0x2f011c[_0x26ddd9(0x390)](0xc8)[_0x26ddd9(0x3d7)](_0x534810);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x787)),..._0x9ce7da,async(_0x20f03b,_0x4a8dcc)=>{const _0x304587=_0xeff03d;let _0x491d3d=_0x20f03b[_0x304587(0x322)],_0x18e54c=_0x20f03b[_0x304587(0x609)][_0x304587(0x79e)];y[_0x304587(0x1f6)](_0x304587(0x222)),y[_0x304587(0x1f6)](_0x304587(0x3b3)),y[_0x304587(0x1f6)](_0x20f03b[_0x304587(0x322)]);let _0x29fb34=await this['dataValidate']({'request':_0x20f03b,'schema':v,'ClassRef':M,'execute':_0x45d48e=>O[_0x304587(0x78b)](_0x45d48e,_0x491d3d,_0x18e54c)});_0x4a8dcc[_0x304587(0x390)](0xc8)[_0x304587(0x3d7)](_0x29fb34);})[_0xeff03d(0x7da)](this['routerPath']('editflow'),..._0x9ce7da,async(_0x17b876,_0x12f4b6)=>{const _0x5a992a=_0xeff03d;let _0x567c0e=_0x17b876[_0x5a992a(0x322)],_0xa8566=_0x17b876[_0x5a992a(0x609)][_0x5a992a(0x79e)];y[_0x5a992a(0x1f6)]('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y[_0x5a992a(0x1f6)](_0x17b876[_0x5a992a(0x322)]),delete _0x567c0e[_0x5a992a(0x82f)],delete _0x567c0e['variables'],delete _0x567c0e[_0x5a992a(0x4fa)],delete _0x567c0e[_0x5a992a(0x544)];let _0x29264e=await this['dataValidate']({'request':_0x17b876,'schema':v,'ClassRef':M,'execute':_0x29cf14=>O['editFlow'](_0x29cf14,_0x567c0e,_0xa8566)});_0x12f4b6[_0x5a992a(0x390)](0xc8)['json'](_0x29264e);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x404)),..._0x9ce7da,async(_0x2778d6,_0x4d0054)=>{const _0x50aef4=_0xeff03d;let _0x24cc7c=_0x2778d6[_0x50aef4(0x322)],_0x1e79e4=_0x2778d6[_0x50aef4(0x609)]['apikey'];y[_0x50aef4(0x1f6)](_0x50aef4(0x665)),y[_0x50aef4(0x1f6)](_0x50aef4(0x3b3)),y[_0x50aef4(0x1f6)](_0x2778d6['body']);let _0x543d5f=await this[_0x50aef4(0x3e7)]({'request':_0x2778d6,'schema':v,'ClassRef':M,'execute':_0x40686d=>O[_0x50aef4(0x356)](_0x40686d,_0x24cc7c,_0x1e79e4)});_0x4d0054['status'](0xc8)[_0x50aef4(0x3d7)](_0x543d5f);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)]('editflowreply'),..._0x9ce7da,async(_0x1eddea,_0x42d624)=>{const _0x38ac0c=_0xeff03d;let _0x51add1=_0x1eddea[_0x38ac0c(0x322)],_0x27ea83=_0x1eddea['headers'][_0x38ac0c(0x79e)];y[_0x38ac0c(0x1f6)](_0x38ac0c(0x665)),y[_0x38ac0c(0x1f6)](_0x38ac0c(0x3b3)),y['verbose'](_0x1eddea['body']);let _0x4fd6b5=await this['dataValidate']({'request':_0x1eddea,'schema':v,'ClassRef':M,'execute':_0x48be83=>O[_0x38ac0c(0x44e)](_0x48be83,_0x51add1,_0x27ea83)});_0x42d624[_0x38ac0c(0x390)](0xc8)[_0x38ac0c(0x3d7)](_0x4fd6b5);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x195)),..._0x9ce7da,async(_0x17ef90,_0x1660c5)=>{const _0x44354c=_0xeff03d;let _0x43dbca=_0x17ef90['body'],_0x5318b2=_0x17ef90[_0x44354c(0x609)]['apikey'];y['verbose'](_0x44354c(0x665)),y[_0x44354c(0x1f6)](_0x44354c(0x3b3)),y['verbose'](_0x17ef90['body']);let _0x5f4cf6=await this['dataValidate']({'request':_0x17ef90,'schema':v,'ClassRef':M,'execute':_0x201040=>O[_0x44354c(0x7cd)](_0x201040,_0x43dbca,_0x5318b2)});_0x1660c5['status'](0xc8)['json'](_0x5f4cf6);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x827)),..._0x9ce7da,async(_0x1f6935,_0x561069)=>{const _0x5ea5f1=_0xeff03d;let _0x5dd60c=_0x1f6935[_0x5ea5f1(0x322)],_0x19ae38=_0x1f6935['headers'][_0x5ea5f1(0x79e)];y[_0x5ea5f1(0x1f6)](_0x5ea5f1(0x48f)),y[_0x5ea5f1(0x1f6)](_0x5ea5f1(0x3b3)),y[_0x5ea5f1(0x1f6)](_0x1f6935[_0x5ea5f1(0x322)]);let _0x361459=await this['dataValidate']({'request':_0x1f6935,'schema':v,'ClassRef':M,'execute':_0xa4573b=>O[_0x5ea5f1(0x276)](_0xa4573b,_0x5dd60c,_0x19ae38)});_0x561069[_0x5ea5f1(0x390)](0xc8)['json'](_0x361459);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x48d)),..._0x9ce7da,async(_0x5192e2,_0x328504)=>{const _0x34f4a9=_0xeff03d;let _0x1e9a62=_0x5192e2['body'],_0x8bdb07=_0x5192e2[_0x34f4a9(0x609)][_0x34f4a9(0x79e)];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y[_0x34f4a9(0x1f6)](_0x34f4a9(0x3b3)),y['verbose'](_0x5192e2[_0x34f4a9(0x322)]);let _0x48a5b7=await this[_0x34f4a9(0x3e7)]({'request':_0x5192e2,'schema':v,'ClassRef':M,'execute':_0x394185=>O['editFlowCondition'](_0x394185,_0x1e9a62,_0x8bdb07)});_0x328504[_0x34f4a9(0x390)](0xc8)[_0x34f4a9(0x3d7)](_0x48a5b7);})[_0xeff03d(0x7da)](this[_0xeff03d(0x214)](_0xeff03d(0x5dd)),..._0x9ce7da,async(_0x3a0a1d,_0x48797a)=>{const _0x27989d=_0xeff03d;let _0x198cec=_0x3a0a1d[_0x27989d(0x322)],_0xcf3371=_0x3a0a1d[_0x27989d(0x609)]['apikey'];y[_0x27989d(0x1f6)](_0x27989d(0x7af)),y[_0x27989d(0x1f6)](_0x27989d(0x3b3)),y[_0x27989d(0x1f6)](_0x3a0a1d[_0x27989d(0x322)]);let _0x444cd1=await this['dataValidate']({'request':_0x3a0a1d,'schema':v,'ClassRef':M,'execute':_0x5469e6=>O[_0x27989d(0x12f)](_0x5469e6,_0x198cec,_0xcf3371)});_0x48797a[_0x27989d(0x390)](0xc8)['json'](_0x444cd1);})[_0xeff03d(0x7da)](this['routerPath'](_0xeff03d(0x7d9)),..._0x9ce7da,async(_0x4d2b70,_0x20b9e3)=>{const _0x209e76=_0xeff03d;let _0x5a9e9f=_0x4d2b70['body'];y[_0x209e76(0x1f6)](_0x209e76(0x7c1)),y['verbose']('request\x20body:\x20'),y[_0x209e76(0x1f6)](_0x4d2b70[_0x209e76(0x322)]);let _0x3d01aa=await this[_0x209e76(0x3e7)]({'request':_0x4d2b70,'schema':v,'ClassRef':M,'execute':_0x9099=>O['getFlow'](_0x9099,_0x5a9e9f)});_0x20b9e3[_0x209e76(0x390)](0xc8)[_0x209e76(0x3d7)](_0x3d01aa);})[_0xeff03d(0x469)](this['routerPath'](_0xeff03d(0x7ba)),..._0x9ce7da,async(_0x1c4d28,_0xcd5f34)=>{const _0x4f3e58=_0xeff03d;let _0x4e3a0b=_0x1c4d28[_0x4f3e58(0x322)],_0x4ec84c=_0x1c4d28[_0x4f3e58(0x609)][_0x4f3e58(0x79e)];y[_0x4f3e58(0x1f6)](_0x4f3e58(0x165)),y[_0x4f3e58(0x1f6)](_0x4f3e58(0x3b3)),y[_0x4f3e58(0x1f6)](_0x1c4d28[_0x4f3e58(0x322)]);let _0x53e87f=await this[_0x4f3e58(0x3e7)]({'request':_0x1c4d28,'schema':v,'ClassRef':M,'execute':_0x454f7c=>O['deleteFlow'](_0x454f7c,_0x4e3a0b,_0x4ec84c)});_0xcd5f34[_0x4f3e58(0x390)](0xc8)[_0x4f3e58(0x3d7)](_0x53e87f);})['get'](this['routerPath'](_0xeff03d(0x685)),..._0x9ce7da,async(_0x36783e,_0x4e82af)=>{const _0x47177a=_0xeff03d;y['verbose'](_0x47177a(0x5e4));let _0x5bf8f8=await this[_0x47177a(0x3e7)]({'request':_0x36783e,'schema':v,'ClassRef':M,'execute':_0x38714b=>O[_0x47177a(0x572)](_0x38714b)});_0x4e82af['status'](0xc8)['json'](_0x5bf8f8);});}},mo=T(require('path')),ee={};function po(_0x110716,_0x507521,_0x1f9710,_0x4eb308){ee[_0x110716]||(ee[_0x110716]={}),ee[_0x110716][_0x507521]={'id':_0x507521,'response':_0x1f9710,'events':_0x4eb308};}function ho(_0x1a2f90,_0x2cbca6){!ee[_0x1a2f90]||!ee[_0x1a2f90][_0x2cbca6]||delete ee[_0x1a2f90][_0x2cbca6];}function U(_0x15975b,_0x1deaeb,_0x5c3f57){const _0x5a9c4b=a0_0x5bdda6;if(!ee[_0x15975b])return;let _0x58808d=_0x5a9c4b(0x3a5)+JSON['stringify'](_0x5c3f57)+'\x0a\x0a';Object[_0x5a9c4b(0x449)](ee[_0x15975b])[_0x5a9c4b(0x3a3)](_0x1ddcf2=>{const _0x2d7cf4=_0x5a9c4b;_0x1ddcf2[_0x2d7cf4(0x151)][_0x2d7cf4(0x71f)](_0x1deaeb)&&_0x1ddcf2[_0x2d7cf4(0x4f0)][_0x2d7cf4(0x42f)](_0x58808d);});}function go(){const _0x23ac39=a0_0x5bdda6;let _0x2ff9b1={};for(let _0x324196 in ee)_0x2ff9b1[_0x324196]=Object[_0x23ac39(0x449)](ee[_0x324196])['map'](_0x15f074=>({'id':_0x15f074['id'],'events':_0x15f074[_0x23ac39(0x151)]}));return _0x2ff9b1;}var fo=require(a0_0x5bdda6(0x644)),vs=require(a0_0x5bdda6(0x48a)),Es=class{},br=new vs[(a0_0x5bdda6(0x5a2))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Sr=new vs[(a0_0x5bdda6(0x5a2))]({'_id':{'type':String,'default':a0_0x5bdda6(0x474)},'WebhookGlobal':{'type':br},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Me=A?.['model'](Es[a0_0x5bdda6(0x63e)],Sr,'All_Instances_Config'),Mr=mo[a0_0x5bdda6(0x79b)][a0_0x5bdda6(0x64d)](__dirname,a0_0x5bdda6(0x41e)),xe=(0x0,It[a0_0x5bdda6(0x484)])(),Cr=b['get'](a0_0x5bdda6(0x389))[a0_0x5bdda6(0x1d6)],oe=[Ma,Ca,Na[Cr]];xe[a0_0x5bdda6(0x814)]('/media',It[a0_0x5bdda6(0x79b)][a0_0x5bdda6(0x746)](Mr))[a0_0x5bdda6(0x1bb)]('/events/:instance',async(_0x4f60d4,_0x1d3653)=>{const _0x15ce21=a0_0x5bdda6;console['log'](_0x15ce21(0x291));let _0x3efcb1=_0x4f60d4['params'][_0x15ce21(0x32b)],_0x6cfc66=(_0x4f60d4['query']['events']||'')[_0x15ce21(0x771)](','),_0x53dbdc=(0x0,fo['v4'])();console[_0x15ce21(0x271)]('Instance\x20ID:',_0x3efcb1),console[_0x15ce21(0x271)](_0x15ce21(0x7f1),_0x6cfc66);let _0x32c62d=b[_0x15ce21(0x1bb)](_0x15ce21(0x389))[_0x15ce21(0x41d)],_0x4d4812=_0x4f60d4[_0x15ce21(0x16b)][_0x15ce21(0x79e)];if(console[_0x15ce21(0x271)](_0x15ce21(0x801),_0x4d4812),_0x32c62d[_0x15ce21(0x62a)]!==_0x4d4812){console['log'](_0x15ce21(0x238));try{let _0xfab7d6=await pe[_0x15ce21(0x31a)][_0x15ce21(0x2b1)](_0x3efcb1);if(console[_0x15ce21(0x271)](_0x15ce21(0x16f),_0xfab7d6),!_0xfab7d6||_0xfab7d6['apikey']!==_0x4d4812)return console['log']('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x1d3653['status'](0x191)[_0x15ce21(0x7fd)]('API\x20Key\x20inválida.');}catch(_0x329ab7){return console['error'](_0x15ce21(0x7ef),_0x329ab7),_0x1d3653['status'](0x191)['send'](_0x15ce21(0x580));}}if(!await $e(_0x3efcb1))return _0x1d3653['status'](0x194)[_0x15ce21(0x7fd)](_0x15ce21(0x514));_0x1d3653[_0x15ce21(0x218)]('Content-Type',_0x15ce21(0x282)),_0x1d3653[_0x15ce21(0x218)](_0x15ce21(0x48b),_0x15ce21(0x57e)),_0x1d3653['setHeader'](_0x15ce21(0x15f),_0x15ce21(0x132)),_0x1d3653[_0x15ce21(0x50f)]();let _0x2eb013=_0x15ce21(0x3a5)+JSON[_0x15ce21(0x5b8)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x1d3653[_0x15ce21(0x42f)](_0x2eb013),po(_0x3efcb1,_0x53dbdc,_0x1d3653,_0x6cfc66),_0x4f60d4['on'](_0x15ce21(0x133),()=>{const _0x292d54=_0x15ce21;console[_0x292d54(0x271)](_0x292d54(0x616)+_0x3efcb1),ho(_0x3efcb1,_0x53dbdc);});}),xe[a0_0x5bdda6(0x7da)](a0_0x5bdda6(0x58b),async(_0x1b3988,_0x243944)=>{const _0x4a50b5=a0_0x5bdda6;console['log'](_0x4a50b5(0x6cb));let _0x2578c0=_0x1b3988[_0x4a50b5(0x76b)][_0x4a50b5(0x32b)],_0x3dbf0b=_0x1b3988[_0x4a50b5(0x76b)][_0x4a50b5(0x720)],_0x14ed29=_0x1b3988[_0x4a50b5(0x16b)][_0x4a50b5(0x4c8)]||'',_0x2401cd=_0x1b3988[_0x4a50b5(0x322)];console[_0x4a50b5(0x271)]('Instance\x20Name:',_0x2578c0),console[_0x4a50b5(0x271)](_0x4a50b5(0x2d3),_0x3dbf0b),console[_0x4a50b5(0x271)]('RemoteJid:',_0x14ed29),console[_0x4a50b5(0x271)](_0x4a50b5(0x1f8),_0x2401cd);try{if(!await $e(_0x2578c0))return _0x243944[_0x4a50b5(0x390)](0x194)['send']('Instância\x20não\x20encontrada.');let _0x558908=await O[_0x4a50b5(0x185)](_0x2578c0,_0x3dbf0b,_0x14ed29,_0x2401cd);_0x243944[_0x4a50b5(0x7fd)](_0x558908);}catch(_0x305aa6){console[_0x4a50b5(0x83d)](_0x305aa6),_0x243944[_0x4a50b5(0x390)](0x1f4)['send']('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),xe[a0_0x5bdda6(0x1bb)](a0_0x5bdda6(0x228),(_0x5c8e4b,_0x3519e3)=>{const _0x4571ce=a0_0x5bdda6;let _0x3035c6=go();_0x3519e3[_0x4571ce(0x3d7)](_0x3035c6);})[a0_0x5bdda6(0x1bb)]('/',(_0x30f616,_0x14f3f4)=>{const _0x107778=a0_0x5bdda6;let _0xc3d64c=b[_0x107778(0x1bb)](_0x107778(0x169))[_0x107778(0x50c)];if(_0xc3d64c){let _0x24a332=encodeURIComponent(''+_0xc3d64c);_0x14f3f4['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x24a332);return;}let _0x2aaff4=b['get'](_0x107778(0x381)),_0x1f538b=_0x2aaff4&&_0x2aaff4[_0x107778(0x180)][_0x107778(0x771)]('/')[0x4];if(_0x1f538b){let _0x3b8afc=encodeURIComponent('https://'+_0x1f538b);_0x14f3f4[_0x107778(0x561)](_0x107778(0x5a6)+_0x3b8afc);}else _0x14f3f4[_0x107778(0x561)](_0x107778(0x2d0));})['put'](a0_0x5bdda6(0x774),...oe,async(_0x2457d9,_0x1827a8)=>{const _0x7bccb9=a0_0x5bdda6;try{console[_0x7bccb9(0x271)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x1827a8[_0x7bccb9(0x390)](0xc8)[_0x7bccb9(0x3d7)]({'message':_0x7bccb9(0x5e0)}),_0x1827a8['on']('finish',()=>process[_0x7bccb9(0x3b7)](0x0));}catch(_0x24efe4){console[_0x7bccb9(0x83d)](_0x7bccb9(0x1c3),_0x24efe4),_0x1827a8[_0x7bccb9(0x390)](0x1f4)[_0x7bccb9(0x3d7)]({'message':_0x7bccb9(0x754)});}})[a0_0x5bdda6(0x585)](a0_0x5bdda6(0x4f3),...oe,async(_0x3e050c,_0x691df2)=>{const _0x3654ea=a0_0x5bdda6;try{let _0xc3265b=_0x3e050c['body'];await Me[_0x3654ea(0x31c)]({},{'$set':_0xc3265b},{'upsert':!0x0});let _0x1eca2d=await Me[_0x3654ea(0x28c)]();_0x691df2['json'](_0x1eca2d);}catch(_0x47a305){_0x691df2[_0x3654ea(0x390)](0x190)['send'](_0x47a305[_0x3654ea(0x1f1)]);}})['get'](a0_0x5bdda6(0x4f3),...oe,async(_0xacc8d1,_0x330b34)=>{const _0x37d5cf=a0_0x5bdda6;try{let _0x3ccef5=await Me[_0x37d5cf(0x28c)]();if(!_0x3ccef5)return _0x330b34[_0x37d5cf(0x3d7)]({});_0x330b34['json'](_0x3ccef5);}catch(_0x296dd8){_0x330b34[_0x37d5cf(0x390)](0x1f4)['send'](_0x296dd8[_0x37d5cf(0x1f1)]);}})[a0_0x5bdda6(0x814)](a0_0x5bdda6(0x18a),new ft(b,...oe)[a0_0x5bdda6(0x7f3)])[a0_0x5bdda6(0x814)](a0_0x5bdda6(0x5a8),new $t(...oe)[a0_0x5bdda6(0x7f3)])[a0_0x5bdda6(0x814)](a0_0x5bdda6(0x498),new it(...oe)[a0_0x5bdda6(0x7f3)])[a0_0x5bdda6(0x814)](a0_0x5bdda6(0x577),new mt(...oe)[a0_0x5bdda6(0x7f3)])[a0_0x5bdda6(0x814)]('/webhook',new Ot(...oe)[a0_0x5bdda6(0x7f3)])[a0_0x5bdda6(0x814)](a0_0x5bdda6(0x323),new Tt(...oe)['router']);var m=class{constructor(..._0x528915){const _0x1b3681=a0_0x5bdda6;throw{'status':0x190,'error':_0x1b3681(0x7ec),'message':_0x528915[_0x1b3681(0x29b)]>0x0?_0x528915:void 0x0};}},ae=class{constructor(..._0x11834c){const _0x228232=a0_0x5bdda6;throw{'status':0x191,'error':_0x228232(0x41b),'message':_0x11834c[_0x228232(0x29b)]>0x0?_0x11834c:void 0x0};}},Y=class{constructor(..._0x323b0e){const _0x611fa1=a0_0x5bdda6;throw{'status':0x193,'error':'Forbidden','message':_0x323b0e[_0x611fa1(0x29b)]>0x0?_0x323b0e:void 0x0};}},q=class{constructor(..._0x2faea8){const _0x2e11a5=a0_0x5bdda6;throw{'status':0x194,'error':_0x2e11a5(0x522),'message':_0x2faea8[_0x2e11a5(0x29b)]>0x0?_0x2faea8:void 0x0};}},x=class{constructor(..._0x487634){const _0x4b2ba5=a0_0x5bdda6;throw{'status':0x1f4,'error':_0x4b2ba5(0x424),'message':_0x487634[_0x4b2ba5(0x29b)]>0x0?_0x487634:void 0x0};}},he=require(a0_0x5bdda6(0x1aa));async function Ns(_0x583cf7){const _0x3ef629=a0_0x5bdda6;let _0x1799a8=new $(Ns[_0x3ef629(0x63e)]),_0x81e68e=A[_0x3ef629(0x513)](),_0x598de1=_0x81e68e['db'](b[_0x3ef629(0x1bb)]('DATABASE')[_0x3ef629(0x2ca)][_0x3ef629(0x7d6)]+_0x3ef629(0x60f))[_0x3ef629(0x44d)](_0x583cf7),_0xaf87d8=async(_0x39e151,_0x3c820a)=>{const _0x26672e=_0x3ef629;try{return await _0x81e68e['connect'](),await _0x598de1[_0x26672e(0x420)]({'_id':_0x3c820a},JSON[_0x26672e(0x4b1)](JSON['stringify'](_0x39e151,he[_0x26672e(0x3bd)][_0x26672e(0x46a)])),{'upsert':!0x0});}catch{}},_0x359357=async _0x4e40d5=>{const _0x630bb1=_0x3ef629;try{await _0x81e68e[_0x630bb1(0x58d)]();let _0x49adfa=await _0x598de1[_0x630bb1(0x28c)]({'_id':_0x4e40d5}),_0x457647=JSON[_0x630bb1(0x5b8)](_0x49adfa);return JSON[_0x630bb1(0x4b1)](_0x457647,he[_0x630bb1(0x3bd)]['reviver']);}catch{}},_0x8dcf6f=async _0x2f5c3e=>{const _0x307e13=_0x3ef629;try{return await _0x81e68e[_0x307e13(0x58d)](),await _0x598de1[_0x307e13(0x21c)]({'_id':_0x2f5c3e});}catch{}},_0x416084=await _0x359357(_0x3ef629(0x4fc))||(0x0,he[_0x3ef629(0x571)])();return{'state':{'creds':_0x416084,'keys':{'get':async(_0x27230b,_0x8368ce)=>{const _0x5298cf=_0x3ef629;let _0x1ebd80={};return await Promise[_0x5298cf(0x219)](_0x8368ce[_0x5298cf(0x2b0)](async _0x4add2c=>{const _0x5d6623=_0x5298cf;let _0x283ef6=await _0x359357(_0x27230b+'-'+_0x4add2c);_0x27230b===_0x5d6623(0x695)&&_0x283ef6&&(_0x283ef6=he[_0x5d6623(0x752)]['Message']['AppStateSyncKeyData'][_0x5d6623(0x81c)](_0x283ef6)),_0x1ebd80[_0x4add2c]=_0x283ef6;})),_0x1ebd80;},'set':async _0xe57f9d=>{let _0x46b0b6=[];for(let _0x12297e in _0xe57f9d)for(let _0x4c6fbc in _0xe57f9d[_0x12297e]){let _0x20fce6=_0xe57f9d[_0x12297e][_0x4c6fbc],_0x524c7f=_0x12297e+'-'+_0x4c6fbc;_0x46b0b6['push'](_0x20fce6?_0xaf87d8(_0x20fce6,_0x524c7f):_0x8dcf6f(_0x524c7f));}await Promise['all'](_0x46b0b6);}}},'saveCreds':async()=>_0xaf87d8(_0x416084,_0x3ef629(0x4fc))};}var Ts=T(require('long')),Is=T(require(a0_0x5bdda6(0x29f))),_t=require(a0_0x5bdda6(0x1aa)),wo=require(a0_0x5bdda6(0x58c)),Dt=require(a0_0x5bdda6(0x1aa)),xt;function Er(_0x1ba922){const _0x806f69=a0_0x5bdda6;return xt||(xt=(0x0,wo['createClient'])({'url':_0x1ba922['URI']}),xt[_0x806f69(0x58d)]()),xt;}var le=class c{constructor(_0x2a693b,_0xae748e){const _0x52f24a=a0_0x5bdda6;this[_0x52f24a(0x448)]=_0x2a693b,this[_0x52f24a(0x7eb)]=_0xae748e,this[_0x52f24a(0x34c)]=new $(c['name']),this[_0x52f24a(0x249)]=Er(_0x2a693b);}set['reference'](_0x1a1a15){const _0x275c84=a0_0x5bdda6;this[_0x275c84(0x7eb)]=_0x1a1a15;}async[a0_0x5bdda6(0x833)](){const _0x22b7e9=a0_0x5bdda6;try{return await this['client'][_0x22b7e9(0x3b8)](['keys',this[_0x22b7e9(0x448)][_0x22b7e9(0x3aa)]+':*']);}catch(_0x3dcd6d){this[_0x22b7e9(0x34c)][_0x22b7e9(0x83d)](_0x3dcd6d);}}async[a0_0x5bdda6(0x475)](_0xe7b359,_0xd7a61){const _0x2cffa2=a0_0x5bdda6;try{let _0x47826b=JSON[_0x2cffa2(0x5b8)](_0xd7a61,Dt[_0x2cffa2(0x3bd)][_0x2cffa2(0x46a)]);return await this['client']['hSet'](this[_0x2cffa2(0x448)][_0x2cffa2(0x3aa)]+':'+this[_0x2cffa2(0x7eb)],_0xe7b359,_0x47826b);}catch(_0x4be903){this['logger'][_0x2cffa2(0x83d)](_0x4be903);}}async[a0_0x5bdda6(0x1ba)](){const _0x8995b9=a0_0x5bdda6;try{let _0x26f6d7=await this[_0x8995b9(0x249)][_0x8995b9(0x68d)](this[_0x8995b9(0x448)][_0x8995b9(0x3aa)]+':'+this[_0x8995b9(0x7eb)]);if(_0x26f6d7){for(let _0x37be14 in _0x26f6d7)Object[_0x8995b9(0x838)]['hasOwnProperty']['call'](_0x26f6d7,_0x37be14)&&(_0x26f6d7[_0x37be14]=JSON[_0x8995b9(0x4b1)](_0x26f6d7[_0x37be14],Dt[_0x8995b9(0x3bd)][_0x8995b9(0x71a)]));return _0x26f6d7;}}catch(_0x540a11){this[_0x8995b9(0x34c)]['error'](_0x540a11);}}async[a0_0x5bdda6(0x643)](_0x417a6a){const _0x5469db=a0_0x5bdda6;try{let _0x1cae91=await this['client']['hGet'](this['redisEnv']['PREFIX_KEY']+':'+this[_0x5469db(0x7eb)],_0x417a6a);if(_0x1cae91)return JSON[_0x5469db(0x4b1)](_0x1cae91,Dt[_0x5469db(0x3bd)]['reviver']);}catch(_0xdf93d8){this[_0x5469db(0x34c)][_0x5469db(0x83d)](_0xdf93d8);}}async[a0_0x5bdda6(0x5b1)](_0x37570b){const _0x595d93=a0_0x5bdda6;try{return await this['client']['hDel'](this[_0x595d93(0x448)]['PREFIX_KEY']+':'+this[_0x595d93(0x7eb)],_0x37570b);}catch(_0x567730){this[_0x595d93(0x34c)][_0x595d93(0x83d)](_0x567730);}}async[a0_0x5bdda6(0x5de)](_0x461563){const _0x59e4aa=a0_0x5bdda6;try{return await this[_0x59e4aa(0x249)]['del'](_0x461563||this[_0x59e4aa(0x448)]['PREFIX_KEY']+':'+this[_0x59e4aa(0x7eb)]);}catch(_0x259d6d){this[_0x59e4aa(0x34c)][_0x59e4aa(0x83d)](_0x259d6d);}}};async function Rs(_0x791f84,_0x1bb6f3){const _0x52e0b2=a0_0x5bdda6;let _0x19200d=new $(Rs[_0x52e0b2(0x63e)]),_0x5f3d7c=new le(_0x791f84,_0x1bb6f3),_0xdd34d1=async(_0x397e3a,_0x33f752)=>{const _0x2f51cc=_0x52e0b2;try{return await _0x5f3d7c[_0x2f51cc(0x475)](_0x33f752,_0x397e3a);}catch(_0x5db41c){return _0x19200d[_0x2f51cc(0x83d)]({'localError':_0x2f51cc(0x475),'error':_0x5db41c});}},_0x198fe6=async _0x1c1a0b=>{const _0x5a98d6=_0x52e0b2;try{return await _0x5f3d7c[_0x5a98d6(0x643)](_0x1c1a0b);}catch(_0x58b4d1){_0x19200d[_0x5a98d6(0x83d)]({'readData':'writeData','error':_0x58b4d1});return;}},_0x5e9f4d=async _0x5747af=>{const _0x299a9e=_0x52e0b2;try{return await _0x5f3d7c[_0x299a9e(0x5b1)](_0x5747af);}catch(_0x32066e){_0x19200d['error']({'readData':_0x299a9e(0x5b1),'error':_0x32066e});}},_0x557482=await _0x198fe6('creds')||(0x0,_t[_0x52e0b2(0x571)])();return{'state':{'creds':_0x557482,'keys':{'get':async(_0x6e1304,_0x1b2153)=>{const _0x4a13f4=_0x52e0b2;let _0x5bf86c={};return await Promise[_0x4a13f4(0x219)](_0x1b2153['map'](async _0x216277=>{const _0x1bd442=_0x4a13f4;let _0x58f080=await _0x198fe6(_0x6e1304+'-'+_0x216277);_0x6e1304==='app-state-sync-key'&&_0x58f080&&(_0x58f080=_t['proto'][_0x1bd442(0x2c2)][_0x1bd442(0x24e)]['fromObject'](_0x58f080)),_0x5bf86c[_0x216277]=_0x58f080;})),_0x5bf86c;},'set':async _0x3dea7c=>{const _0x305f2f=_0x52e0b2;let _0x3f2f8e=[];for(let _0x26f910 in _0x3dea7c)for(let _0x321e0c in _0x3dea7c[_0x26f910]){let _0x4c821b=_0x3dea7c[_0x26f910][_0x321e0c],_0x519de3=_0x26f910+'-'+_0x321e0c;_0x3f2f8e[_0x305f2f(0x711)](_0x4c821b?await _0xdd34d1(_0x4c821b,_0x519de3):await _0x5e9f4d(_0x519de3));}await Promise['all'](_0x3f2f8e);}}},'saveCreds':async()=>await _0xdd34d1(_0x557482,_0x52e0b2(0x4fc))};}var j=T(require('fs')),Ce=require(a0_0x5bdda6(0x644)),Lt=T(require(a0_0x5bdda6(0x747))),Ft=require(a0_0x5bdda6(0x683)),vr=a0_0x5bdda6(0x778)[a0_0x5bdda6(0x7bc)](),Pt=vr[a0_0x5bdda6(0x771)]('\x0a')[a0_0x5bdda6(0x2b0)](_0x573993=>{const _0x238344=a0_0x5bdda6;let _0x52c663=_0x573993['split'](':'),_0x305a5d={'host':_0x52c663[0x0],'port':_0x52c663[0x1],'protocol':_0x238344(0x27f)};return _0x52c663['length']===0x4&&(_0x305a5d[_0x238344(0x2e4)]=_0x52c663[0x2],_0x305a5d[_0x238344(0x353)]=_0x52c663[0x3]),_0x305a5d;});function yo(_0x172557){const _0x34cd99=a0_0x5bdda6;return Pt[_0x34cd99(0x2b1)](_0x294c65=>_0x294c65[_0x34cd99(0x6f8)]===_0x172557)||null;}function bo(){const _0x12aba0=a0_0x5bdda6;if(Pt['length']===0x0)return null;let _0xa7e549=Math[_0x12aba0(0x60a)](Math[_0x12aba0(0x25d)]()*Pt['length']);return Pt[_0xa7e549];}function $s(_0x1677a7){const _0x52eb46=a0_0x5bdda6;let _0x4ea517=_0x3ebeb7=>typeof _0x3ebeb7=='string'&&_0x3ebeb7[_0x52eb46(0x29b)]>0x0,_0x2ed966=_0x16ff12=>{let _0x2e050b=parseInt(_0x16ff12,0xa);return!isNaN(_0x2e050b)&&_0x2e050b>0x0&&_0x2e050b<=0xffff;},_0xc0dfc6=_0x53e31b=>typeof _0x53e31b=='string'&&_0x53e31b['length']>0x0;return _0x1677a7&&_0x4ea517(_0x1677a7[_0x52eb46(0x6f8)])&&_0x2ed966(_0x1677a7['port'])&&(!_0x1677a7[_0x52eb46(0x2e4)]||_0xc0dfc6(_0x1677a7['username']))&&(!_0x1677a7[_0x52eb46(0x353)]||_0xc0dfc6(_0x1677a7[_0x52eb46(0x353)]))&&(_0x1677a7[_0x52eb46(0x25c)]===_0x52eb46(0x27f)||_0x1677a7[_0x52eb46(0x25c)]===_0x52eb46(0x673));}var Jt=require(a0_0x5bdda6(0x575)),xs='Safari',No,ue=null,So=null,st=null,Nr=0x3,Rr=null,te=b['get'](a0_0x5bdda6(0x389))[a0_0x5bdda6(0x41d)]['KEY'];async function $r(){const _0x1a12c8=a0_0x5bdda6;let _0x4227d3=await Me[_0x1a12c8(0x28c)]();ue=_0x4227d3?.['WebhookGlobal']??null,Rr=_0x4227d3?.[_0x1a12c8(0x4a3)]??null,xs=_0x4227d3?.[_0x1a12c8(0x3ea)]??_0x1a12c8(0x600),No=_0x4227d3?.[_0x1a12c8(0x19c)]??Ds??'uazapi',console[_0x1a12c8(0x271)](_0x4227d3);}function a0_0x3526(){const _0x4796f8=['dark','apikey','getDevice','editScheduleMessage','profileName','EMAIL:','enviado\x20para','MAX_RECONNECT_ATTEMPTS',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20',',\x20saindo.','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','Type\x20defined\x20as\x20audio','createWebhook','unknown\x20operation\x20type\x20[','\x5cd+','findAndReplaceRegex','#56ccb4','request\x20received\x20in\x20editFlowvariable','last_update','\x20falhou','Nenhum\x20participante\x20válido\x20encontrado.','flattenObject','insertMany','/wa-chats','Error\x20fetching\x20group','http://checkip.dyndns.org','errorLog','SERVER_PORT','deleteflow','contact_blacklist','trim','Resultado\x20da\x20atualização:','Image\x20path:\x20','timeout','notEqual','request\x20received\x20in\x20getFlow','linkPreview','presence','formatVCard','Chat\x20com\x20ID\x20','documentMessage','Content\x20is\x20required','/wa-connection-update','Fluxos\x20não\x20estão\x20ativados','https://api.openai.com/v1/audio/speech','scheduleNextCheck','createRegularFlow','editFlowVaredit','chatId','owner','updateMissingCustomFields','call','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','created','401334nolPgt','chats.upsert','DB_PREFIX_NAME','):\x20não\x20encontrou','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','getflow','post',',\x20fará\x20nova\x20verificação\x20em\x20','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','findFlow','scheduled','Desconectado,\x20parando\x20execução.','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','createInstance','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','goToFlow','delaySecMin','memberAddMode','hex','getBusinessProfile','videoMessage','OrAnd','isConnected','instanceName','Bad\x20Request','round','sendMessageWithTyping','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','#d8e651','Subscribed\x20Events:','segundos','router','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','updateMediaMessage','.ogg','toDataURL','ScheduleMessageModel',']\x20(','):\x20Flow\x20não\x20encontrado','defineProperty','groupRequestParticipantsList','send','Pausado\x20por\x20','latitude','request\x20received\x20in\x20updateAgent','API\x20Key\x20from\x20Request:','.xlsx','deleteMany','spawn','https://github.com/uazapi/uazapi.git','):\x20Bloco\x20com\x20ID\x20','https://chat.whatsapp.com/','TEL','SERVER_ACK','Fluxo\x20agendado\x20pelo\x20fluxo\x20','):\x20Não\x20achou\x20nenhum\x20flow','Erro\x20ao\x20remover\x20instâncias\x20antigas:','mongodb://','subjectTime','where','exec','Button\x20IDs\x20cannot\x20be\x20repeated.','create','varedits','use','.fileUrl','groupadd','#92ceac','isBusiness','findOrCreate','editOperator','DATABASE','fromObject','ephemeralExpiration','):\x20Erro\x20durante\x20a\x20atualização:\x20','Erro\x20ao\x20editar\x20a\x20conversa','-whatsapp-api','updateChatGroupData','size','/create','readFile','last','quoted','editflowgroup',',\x20Comparador:\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','SSL_CONF_PRIVKEY','fileUrl','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','preview','):\x20alterando\x20this.AutomateSystem','blocks','menuMessage','when','padStart','instanceKeys','sendPoll','createHash','extractMessageContent','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','prototype','fetchProfile','footerText','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','cleaningUp','error','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','findGroups','instanceInfo','lean','stopMinutesMaxActives',':\x20Tentativa\x20','pollCreationMessageKey','groupUpdateDescription','Image\x20is\x20base64','reject','*Pergunta*:\x20\x0a','http://myexternalip.com/raw','express','CHATS_UPDATE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','fetchPrivacySettings','):\x20Campos\x20a\x20serem\x20atualizados:','updateMissingEtiquetas','updateFlowConfig','leadInfo','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','flowConfig','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','tags','^\x5cd+([-]\x5cd+)*@g.us$','Rótulo\x20deletado:\x27,\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','class-validator','\x22\x20-\x20NOT\x20CONNECTION','sim','evaluateCondition','binary','\x20is\x20already\x20in\x20use.','isAdmin','editFlowVariable','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','updateGParticipate','keep-alive','close','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','request\x20received\x20in\x20getAutomateSystem','sleep','imgUrl','jsonwebtoken','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','\x20ao\x20chat\x20','isArray','REDIS','):\x20Entrou\x20na\x20função\x20saveReply','instanceCount','InstancesAsDisconnectedX','ScheduleMessage','dbInstance','Erro\x20ao\x20aplicar\x20varedit:\x20','success','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','):\x20Buscando\x20conversas...','phoneNumber','getUpdate','processgoToFlow','sections','bulkWrite','pollMessageOnDelete','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','SERVER_OFFLINE','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','contacts','sha256','events','src','getStatus','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Erro\x20ao\x20importar\x20chats','menuIgnoreNonVotes','profilePictureUrl','getFlowModelForOwner','_FlowHistorico','truncatedto','senderKeyDistributionMessage','cacheContact','startsWith','splice','Connection','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Reinicialização\x20iniciada:\x20','uazapi','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','mediaKey','request\x20received\x20in\x20deleteFlow','Instance\x20restarted','isJidUser','longitude','SERVER','role','query','/instance/create','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Instance\x20Key\x20from\x20DB:','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','reorderReplyOptions','generateWAMessageFromContent','verifyWhatsAppNumber','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','messages.update','groupFetchAllParticipating','\x20segundos','sendButtons','arraybuffer','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','options','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','sem\x20texto\x20na\x20mensagem','expression','FULLCHAIN','SendScheduleMessage','groupCreate','findAndReplace','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','startFlowWebhook','express-async-errors','email','stopped','getContactModelForOwner','/instance','Início','privacySettings','sendSticker','):\x20Entrou\x20na\x20função\x20stop','updateReplyOption','isListOfNumbers','PASSWORD','connectionState','Audio\x20converted\x20and\x20stored\x20in\x20cache','makeCacheableSignalKeyStore','editflowvaredit','updateProfileName','$dbName','/wa-groups','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20Editando\x20variável\x20do\x20fluxo...','beforeExit','connectedName','optionDescription','testingWith','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','cache','uazapiDeleteMessage','DARK','_activedCount','PRIVKEY','substring','}}\x20->\x20\x22','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','revokeInviteCode','INFO','@whiskeysockets/baileys','video-cover.png','.X-ABLabel:Celular\x0a','READ','GUARD','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','mediaMessage','waInstances','/events','menuType','3BiQJMB','output','messagesSend','@ffmpeg-installer/ffmpeg','):\x20Bloco\x20original\x20para\x20cópia:\x20','connectionUpdate','getAllData','get','caption','reorderBlocks','\x22reaction\x22\x20must\x20be\x20an\x20emoji','done','valid','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','groupSettingUpdate','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','test','string','getFlow','Close\x20connection','request\x20received\x20in\x20scheduleMessage','stderr','DEBUG','MessageModel','CONTACTS_SET','Image\x20converted\x20to\x20WebP','GROUPS_UPDATE','mimetype','waitingMenu_replyOptions','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','The\x20property\x20cannot\x20be\x20empty','parseInt','TYPE','Imagem\x20não\x20encontrada','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','address','ignoreGroups','messageSecret','SSL_CONF_FULLCHAIN','_Chats','ini','statusJidList','document','website','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','\x1b[32m','keyPattern','shareOwners','importChatsAntigo','removeProfilePicture','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','trimmed','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','toArray','pairingCode','encoding','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','message','uncaughtException','chat\x20não\x20encontrado','warn','):\x20Procurando\x20mensagens\x20para\x20envio','verbose','):\x20Rótulo\x20atualizado:\x20','Request\x20Body:','pollMessage','abs','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','truncatedtoEnd','Erro\x20ao\x20atualizar\x20AutomateSystem:','Rótulo\x20inválido\x20ou\x20sem\x20ID.','match','enabled','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','):\x20Conversa\x20atualizada\x20em\x20memória','getMessage','The\x20\x22','BRL','messages.upsert','firstValue','none','validate','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','wuid','Sending\x20audio\x20whatsapp','addChatLabel','getPrototypeOf','FlowRouter','#dfaef0','#f64847','routerPath','creds.json','findGroupInfo','\x1b[30m','setHeader','all','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','findAndUpdateCacheContact','deleteOne','):\x20mediaMessageInfoId\x20:\x20','URI','creation','\x20chats\x20de\x20','\x20quoted:\x20','request\x20received\x20in\x20createFlow','DD/MM\x20HH:mm:ss','CLEANING_INTERVAL','importChatsBatch','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','unlinkSync','/clients-info','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','Erro\x20ao\x20inserir\x20chats:','getContentType','HH:mm:ss','isURL','findAndUpdate','):\x20Criando\x20nova\x20conversa[createNewConversation]','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','LOG_LEVEL','):\x20Criou\x20conversa\x20no\x20startFlow','dbSettings','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','copyBlock','request\x20received\x20in\x20updateFlowConfig','getChatModelForOwner','env.KEY\x20!==\x20key','replaceVariablesLogs','readMessages','Database\x20is\x20not\x20enabled','removeOlderDisconnectedInstances','):\x20Enviando\x20mídia','HOST','action','.TEL;waid=','eventHandler','):\x20Fluxos\x20não\x20estão\x20ativados','Delete\x20chat','request_time','\x22,\x20valor\x20a\x20substituir:\x20\x22','FlowController','lastUpdate','AddChatLabel','client','replaceVariablesChat','badSession',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','stateConnection','AppStateSyncKeyData','Erro\x20ao\x20buscar\x20Schedule\x20Messages','admin','Deleted\x20','getAutomateSystem','header','newValue','ChatModel','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','toBrazilianNumberFormat','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','processScheduleFlow','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','protocol','random','Error\x20writing\x20file:\x20','pollCreationMessage','application/json','eventemitter2','Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','Erro\x20de\x20atualização:\x20','messageStubType','\x20de\x20conectar\x20com\x20IP\x20extra.','atendimentoAberto','realVariables','groupJid','Image\x20created','Não\x20respondeu\x20com\x20a\x20enquete.',',\x20global:\x20','empty',',\x20apikey:\x20','?timestamp=','content','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','log','lowerCase','readMessageBot','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','viewOnceMessageV2','editFlowGroup','protocolMessage','.mp3',':\x20Erro\x20durante\x20loadproxy\x20-\x20','decryptPollVote','uazapiSendMedia',',\x20Novo\x20tamanho:\x20','envYaml','birthtime','http','imported','221337mIbXlg','text/event-stream','generateHash','cacheContactModel','entries','messaging-history.set','numbers','The\x20','remoteJids','AUTHENTICATION_API_KEY','updateAgent','findOne','buttonId','state','.mp4','pt-BR','bateu\x20events','not_announcement','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','):\x20Buscando\x20flow,\x20name:\x20','fromMe','editFlowCondition','__esModule','https://jsonip.com','originalUrl','Erro\x20ao\x20editar\x20agentes','length','cachedData-whatsapp','Erro\x20na\x20função\x20updateChatWithMessage:\x20','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','node-cache','groups_ignore','\x1b[43m','Falha\x20ao\x20processar\x20a\x20solicitação','flowName','documentWithCaptionMessage','urlencoded','\x20e\x20ID=','content-type','bodyString','getRandomText','poll','mediaSticker','\x20global:\x20','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','console','webhookMap','map','find','lastFetchAwaitingApproval','ids','Error\x20occurred\x20while\x20archiving\x20chat:\x20','global','desativadoFluxoAte','apiName','getVariablesChat','moreLogs','min','messageHandle','command','groupToggleEphemeral','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','setting','\x1b[34m%s\x1b[0m','optionName','Message','CONTACTS_UPDATE','editChat','contextInfo','Selecione','https://','Esse\x20fluxo\x20expirou','labels.edit','CONNECTION','isJidBroadcast','DELIVERY_ACK','#64c4ff','statusMessage','Type\x20not\x20found','https://uazapi-plugin.bubbleapps.io/','processConditions','!stop','StartID:','setContext','no.connection','fetchLabels','./.git/config','messageTimestamp','exists','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','editConversation','ReplyOption\x20com\x20ID\x20','contactMessage','base64','Database\x20connection\x20closed.','debug','blockLogs','\x20inseridos\x20no\x20banco\x20de\x20dados...','@s.whatsapp.net','username','concat','deleteImportedChat','composing','next_groupId','contains','quotedMessage','isBase64','modifiedCount','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20não\x20encontrado','stanzaId','/instance/delete','envProcess','video','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','dropIndex','and','cpf','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','status.instance','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','archived','rowId','has','profilePicture','equal','fullName','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','groupHandler','joinGroup','locked','CONTACTS_UPSERT','replaceVariablesInObject','method','reconnectAttempts','fileName','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','joinApprovalMode','enumerable','sendMenu','ip:\x20','.error','.png','Erro\x20ao\x20arquivar\x20chat','request\x20received\x20in\x20updateAutoCompleteMessages','):\x20newSecondValue\x20após\x20replaceVariables:','#9ba6ff','groupGetInviteInfo','listMessage','DOCKER_ENV','participant','context','\x20mensagens\x20de\x20','auth','newStoppedUntil','updateOne','Cannot\x20','\x20com\x20sucesso.','\x22\x20-\x20REMOVED','repository','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','body','/automate','URL:','Máximo\x20de\x20tentativas\x20atingido.\x20Falha\x20ao\x20enviar\x20mensagem\x20para\x20','remoteJidsRemaining','startCommandWord','\x1b[46m','buttons','/media/','instance','telefone','contact','repeat','SERVER_URL','.docx','Error\x20removing\x20unused\x20chat\x20fields:','reference','port','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','request_method','.extension','Flow\x20iniciado\x20com\x20','Erro\x20ao\x20iniciar\x20fluxo:\x20','matchRegex','isRunning','ms\x20(tentativa\x20','Contacts\x20not\x20found','conversationTimestamp','.\x20Pulando.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x20->\x20NÃO\x20CORRESPONDE.','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Limpando\x20delayMessage','item','groupSetting','lastReceivedMessage','\x20minutos\x20verificará\x20novas\x20mensagens','Error\x20parsing\x20JSON:','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','\x20não\x20encontrado\x20para\x20cópia','nomecompleto','logger','.webp','DATABASE_CONNECTION_DB_PREFIX_NAME','REDIS_URI','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','qrcode-terminal','password','lastMessage','ON\x20-\x20dbName:\x20','editFlowBlock','pollErrorMessage','https://api.ipify.org?format=json','buffer','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','removeInstance','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','processUazapi','3726576dJDbKK','hasOwnProperty','lastBlockId','yes','findIndex','toNumber','Bloco\x20com\x20ID\x20','instanceName\x20not\x20provided.','createGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','Erro\x20ao\x20alterar\x20fluxo','processclearVariables','authentication','DELETED','_error','):\x20enviado\x20para\x20[','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','label_jid','#d3a91f','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','Erro\x20ao\x20enviar\x20mensagem:\x20Tentativa\x20','allContacts','Logger','Instance\x20\x22','url','listType','throwAndLogError','deleteDoneMessages','Log\x20out\x20instance:\x20','maxActives','uazapiSendMenu','array','SSL_CONF','detail','/:instanceName','convertToWebP','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','status@broadcast','PROXY','deleted','AUTHENTICATION','_id','dbClient','selectableCount','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','delayChatLabel_MAX_RETRIES','existsSync','status','STORE_MESSAGE','refused','processApiRequest','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20',',\x20canSendMessage:\x20','createNewConversation','pollOnReplyDelete','urlOrBase64','getTicketSystem','Removidas\x20as\x20variáveis:\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','chatHandle','Enter\x20a\x20value\x20in\x20milliseconds','LOG','varedit','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','archiveChat','\x0aitem','forEach','Número\x20não\x20possui\x20WhatsApp.','data:\x20','contactHandle','groupMetadata','$addToSet','waitingMenu_id','PREFIX_KEY','expiration','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','editFlow','):\x20Conversas\x20encontradas:','getScheduleMessageModelForOwner','\x1b[31m%s\x1b[0m','updateMessage','request\x20body:\x20','set','pollCreationMessageV3','toFile','exit','sendCommand','mentioned','statSync','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','_Contacts','BufferJSON','groupId','):\x20Enviando\x20localização','pollCreationMessageV2','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','group','contacts.upsert','request\x20received\x20in\x20deleteConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','sendMedia','leadInfo.atendimentoAberto','findOneAndUpdate','variablesToObject','false','.pdf','changeVariables','USER','text','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','chatLog','media','uazapiSendAudio','://','node-mime-types','Cached\x20audio\x20found,\x20returning\x20existing\x20file','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','json','.xls','CacheContacts\x20database\x20connection\x20closed.','sendText','whatsappNumber','stopWhenYouSendMsg','descId','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Falhou\x20ao\x20encontrar\x20chat\x20','E-mail:\x20','fetchInstances','.ppt','authModel','cachedContact','findAll','\x20horas\x20e\x20','dataValidate','processConditionsTest','findMessages','connectedClient','\x20Tentativa\x20de\x20reconexão\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','):\x20Ler\x20mensagem','loadproxy','restartInstance','fetchLatestBaileysVersion','Error\x20finding\x20many\x20contacts:','findContacts','):\x20transformedCustomFieldVariables','updateMissingShareOwners','.svg','\x20->\x20CONFIRMADO.','scheduleSendText','instancias:\x20','http://ifconfig.me/ip','ContactModel','Variável\x20não\x20encontrada!','autoCompleteMessages.command_1','@broadcast','):\x20Current\x20Time:\x20','#83e421','sendReaction','Falha\x20após\x20várias\x20tentativas.','Flow\x20não\x20encontrado','/wa-message-update','editflowblock','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','list','online','Getting\x20image\x20from\x20url','):\x20Editando\x20replyOption...','):\x20Error\x20processing\x20the\x20block:\x20','updateGroupsAddPrivacy','Invalid\x20format','AUTHENTICATION_JWT_EXPIRIN_IN','awaitSeconds','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','VERBOSE','Erro\x20ao\x20criar\x20fluxo\x20regular','superadmin','):\x20','createServer','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','groupInviteCode','Erro\x20ao\x20atualizar\x20o\x20documento:','readMessage','FlowModel','Mensagem\x20não\x20suportada','Unauthorized','variablesNotFound','API_KEY','downloads','open','replaceOne','lastSendMessage','dbServer','label','Internal\x20Server\x20Error','request\x20received\x20in\x20updateCustomFields','instance.','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','paused','readreceipts','Falha\x20ao\x20processar\x20a\x20solicitação\x20send.messages','Archiving\x20chat','webhookService','certbot','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','write','CORS','errors','reaction','CHATS_DELETE','):\x20Deletando\x20conversa...','bodyStringErrorParse','PENDING','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','notas','scheduleSendMedia','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','http://icanhazip.com/','):\x20Enviando\x20enquete','Type\x20is\x20required','removed','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','toLowerCase','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','PRODUCT_LIST','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','connectToWhatsappController','):\x20Label\x20','redisEnv','values','toUpperCase','jsonschema','}}\x20->\x20valor\x20não\x20encontrado','collection','editFlowReply','ListMessage','customFields','function','leadInfo.etiquetas','getConversationModelForOwner','Background\x20color\x20is\x20required','greater','connecting','):\x20lastBlockId:\x20','author','load','Module\x20-\x20ON','\x1b[37m%s\x1b[0m','Error\x20in\x20scheduleNextCheck:\x20','keys','../env.yml','):\x20Entrou\x20na\x20função\x20processawaitSeconds','\x20instance\x20does\x20not\x20exist','#b4ebff','capitalizedWords','Business\x20profile\x20fetched','isJidGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','boolean','delete','replacer','Erro\x20ao\x20atualizar\x20conversa:\x20','notMatchRegex','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','PRESENCE_UPDATE','Erro\x20ao\x20atualizar\x20o\x20flow.','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','awaitingApproval','config','writeData','prepareMediaMessage','onTime','Deletion\x20failed','StatusJidList\x20is\x20required','GROUP_PARTICIPANTS_UPDATE','METHODS','deletedCount','from','groups.upsert','sharePass','findById','error_log','autoCompleteMessages.command','integer','Router','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','replaceValue','DATABASE_CONNECTION_PASSWORD','deleteBlock','audio','mongoose','Cache-Control','listResponseMessage','editflowcondition','EMAIL','request\x20received\x20in\x20editFlowgroup','notContains','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','\x20contacts','):\x20Buscando\x20flow...','remove.instance','isLong','color','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','/chat','contentText','env','http://ip-api.com/json','gifPlayback','createSectionsFromValues','groupValidate','indexOf','verify','processawaitSeconds','fone','DaysToDelete','messageId','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','onWhatsApp','Certbot\x20executado\x20com\x20sucesso.','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','replace','sign','11uYeqbk','toggleEphemeral','loadEnv','CHATS_SET','SECRET','mentions','parse','delayChatLabel_RETRY_DELAY_MS','request\x20received\x20in\x20deleteDoneMessages',',\x20Resultado:\x20','inner','apply','getBase64FromMediaMessage','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','nome','):\x20debug\x20alterando\x20this.AutomateSystem','muteEndTime','timeInMinutes','MESSAGES_SET','recording','request\x20received\x20in\x20editConversation','ORG:','):\x20customFieldVariables','webhook','_remoteJid','@newsletter','sendLocation','restart','createSharedFlow','remoteJid','editedMessage','currency','automateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','\x20\x1b[0m','format','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','out','some','Instance\x20deleted','readFileSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','joinGroupValidate','beautifyWithPlaceholders','applyvaredit','key','generate','):\x20delete\x20=\x20true','.jwt','endsWith','waitingMenu_text','authState','):\x20Criando\x20fluxo\x20compartilhado...','\x1b[36m','Erro\x20ao\x20deletar\x20chat:','webp','apiResponse','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','?authSource=admin&readPreference=primary&directConnection=true','groupdata','resetReconnectionVariables','qrcode','#ffae04','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','buttonText','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','processblock','labelId','response',':\x20IP\x20funcionando!','\x1b[1m','/config','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','isCommunityAnnounce','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','storePath','remove','groups','updateBlock','creds','Instance\x20logged\x20out','):\x20[messages.upsert]\x20group\x20ignored','scheduleMessage','delay','findManyByIds','pre','shutdown\x20-r\x20now','participants',',\x20Minutes\x20to\x20Close:\x20','synchronizeFlows','Erro\x20ao\x20remover\x20label\x20','rm\x20-rf\x20','Authentication\x20error','http://ipecho.net/plain','Documento\x20com\x20ID\x20','URL','2292VUyhQB','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','flushHeaders','Db\x20Connection','$pull','\x20tentativas.','getClient','Instância\x20não\x20encontrada.','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','):\x20[messages.update]\x20group\x20ignored','fetchProfilePicture','jid','leadInfo.','createConversationforgoToFlow','inviteCode','Types','chatModify','variable','limit','getMinutes','font','Not\x20Found','agents','pictureUrl','RemoveChatLabel','MESSAGES_UPSERT','Variáveis\x20não\x20encontradas:','Erro\x20ao\x20tentar\x20autoCompleteMessages','delayChatLabel','\x20do\x20chat\x20','sendStatus',',\x20valor\x20passado:\x20\x22','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','):\x20Enviando\x20contato','Fluxo\x20não\x20encontrado','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','notEmpty','Parando\x20aplicação...','):\x20Editando\x20bloco...','rows','):\x20Query\x20params:\x20','vote','QRCODE_UPDATED','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','filter','object','desc','order','admin_add','.webm','normalizeMessage','setUpdate','temp-','HeaderType','group-participants.update','conditions','waMonitor','loggedOut','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Mac\x20OS','):\x20Buscando\x20conversa...','collections','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20Ignoring\x20group\x20messages.','AutomateFunctions','DATABASE_CONNECTION_HOST','dropCollection','chats.delete','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','groupRequestParticipantsUpdate','chats.update','prefixCommand','fetchChats','setNewValue','\x20foi\x20interrompido\x20pelo\x20usuário.','replaceVariablesInReplyOptions','getLabelModelForOwner','logout','importChats','groupMemberAddMode','):\x20conversation.lastInteraction:\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20Conversa\x20inserida\x20com\x20sucesso.','audioMessage','redirect','waitingForReplyMenu',',\x20valor\x20a\x20encontrar:\x20\x22','flowPrefixCommand','AutomateSystem\x20não\x20foi\x20inicializado','groupBetterSetting','replaceVariables','removeUnusedChatFields','):\x20updateResult:','requestPairingCode','presence.update','scheduleFlow','bearer','shift','startFlow','Falha\x20ao\x20processar\x20fetchBusinessProfile','initAuthCreds','allFlows','loadInstance','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','crypto','replyOptions','/group','getTime','title','basename','descOwner','restrict','deleteReplyOption','no-cache','local_map','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','result','mongodb','authorization','put','request\x20received\x20in\x20getConversation','updateLastSeenPrivacy','saveChatVariables','getScheduleMessage','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','/startFlow/:instance/:startID','@redis/client','connect','\x20-y','toString','stickerMessage','exports','sendContact','notify','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','textMessage','Message\x20not\x20found','axios','conversation','messageType','Converted\x20image\x20deleted','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','updateOneById','/wa-all-message','#ffc5c7','flow','):\x20Entrou\x20na\x20função\x20goToFlow','Schema','findWebhook','insertCount','mkdirSync','https://uazapi-plugin.bubbleapps.io/?url=','groupDesc','/message','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','condition','buttonMessage','augusto.fcs@gmail.com','\x1b[0m','updateGroupWebhook','closeExistingConversations','removeData','):\x20this.processing_id:\x20','type','configService','):\x20Deletando\x20mensagem','reconnectTimestamps','presenceSubscribe','stringify','all_member_add','delayMessage','emit','_Labels','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','utf8','sendPresenceUpdate','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','eventEmitter','\x1b[41m','updateChatWithMessage','authService','charAt','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','unavailable','<subdomain>','/*.json','@g.us','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','#fe9dfe','fetchConversation','getMessageModelForOwner','\x20minutos','convert','Nenhum\x20chat\x20encontrado\x20para\x20editar.','\x1b[42m','ContactsAndGroups','toLocaleString','child_process','pollUpdateMessage','Erro\x20ao\x20editar\x20o\x20chat','updateGroupPicture',':\x20IP\x20configurado:\x20','findLabels','qrCode','#ff9484','editflowvariable','delAll','GROUPS_UPSERT','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Erro\x20do\x20Certbot:\x20','creds.update','normalizeMessageContent','request\x20received\x20in\x20allFlows','128GBjAvd','deleteConversation','Certbot:\x20','sendWhatsAppAudio','request\x20received\x20in\x20fetchConversation','findByIdAndUpdate','number','CHATS_UPSERT',',\x20Expiration\x20Time:\x20','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','dayjs','Group\x20not\x20found','\x20tentativas:\x20remotejid=','writeFileSync','groupRevokeInvite','audio/ogg','updateMissingTags','reactionMessage','off','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','STORE_CHATS','deleteFlow','):\x20atualização\x20chat:\x20','addBlock','\x1b[31m','deleteAll','upperCase','Safari','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','fetchContacts','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','subject','headers','floor','Error\x20updating\x20cache\x20contact:','hbs','findByIdAndDelete','messages','-instances','\x20-\x20retornado:\x20','secondValue','labels.association','This\x20name\x20','image','ENABLED','Connection\x20closed\x20for\x20instance:\x20','processvaredits','Flow\x20iniciado','):\x20Edit\x20schedule\x20message...','whatsappNumbers','sendMessage','STORE_CLEANING_TERMINAL','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Notifying\x20clients\x20for\x20chat:\x20','WA\x20MODULE','start','unreadCount','lastCondition','.txt','):\x20Editando\x20condição\x20do\x20fluxo...','announcement','markMessageAsRead','KEY','updateConversation','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','\x20e\x20proprietário\x20','audio/ogg;\x20codecs=opus','instances','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','msgRetryCounterCache','clearVariables','WARN','ex:\x20\x22groupJid=120362@g.us\x22','HttpsProxyAgent','\x1b[40m','chat','getMIMEType','updateMany','555878WPArNN','Comando\x20desconhecido','store','name','connection.update','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','release','STATUS_INSTANCE','readData','uuid','Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','oldToken','DisconnectReason','Image\x20is\x20url','slice','chats.set','Erro\x20ao\x20adicionar\x20label\x20','convertaudio','join','writeFile','ConversationModel','variables','updateAutoCompleteMessages','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','getConversation','requestFile','stopConversation','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','demote','Hash\x20to\x20image\x20name:\x20','processing_id','NextBlock','):\x20Entrou\x20na\x20função\x20scheduleFlow','headerString','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','SEND_MESSAGE','stopMinutes','updateProfilePicture','leaveGroup','Erro\x20ao\x20sincronizar\x20fluxos:\x20','groups.update','sendAudio','request\x20received\x20in\x20editFlow','#fed428','RECONNECT_TIME_FRAME','locationMessage','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20Bloco\x20copiado:\x20','app','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','interval\x20não\x20é\x20um\x20número','goNextblock','ephemeralDuration','fileLength','process','audioWhatsapp','https','update','updateGroupParticipantsWebhook','ERROR:\x20','findGroup',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','stoppedUntil','announce','fetchBusinessProfile','etiquetas','block','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','\x22\x20cannot\x20be\x20empty','mediatype','code','_activatedCount','https-proxy-agent','max','allflows','*\x0a\x0a','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','fetchMessages','pushName','sort','3414954eztDIf','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','hGetAll','stopIfLastReturnedError','saveConversationToDatabase','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','g.us','Erro\x20ao\x20buscar\x20conversas','ObjectId','autoCompleteMessages','app-state-sync-key','testProxy','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','END:VCARD','canSendMessage','inviteUrl','\x20não\x20encontrado\x20para\x20atualização.','cors','replyOption','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','archive','createConnection','getDelay','Audio\x20processed','option','info','toBRL','verifiedName','value','save','convertaudioMP3','MESSAGES_UPDATE','findParticipants','isJWT','webhookModel','unreadcount','formatStatusMessage','12387170VHoaLj','Atualização:\x20','uazapiSendContact','EXPIRIN_IN','/wa-contacts','updateProfileStatus','PLAYED','#9ab6c1','REDIS_PREFIX_KEY','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','lastSend','Erro\x20ao\x20tentar\x20updateCustomFields','--agree-tos','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','convertedOptions','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','choices','Fetching\x20business\x20profile','\x20removido\x20do\x20chat\x20','.\x20Aguardando\x20antes\x20de\x20reconectar...','formatBRNumber','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','https://api.elevenlabs.io/v1/text-to-speech/','#00a1f2','chats','iniciando\x20fluxo\x20router','):\x20Usando\x20extensão\x20padrão:\x20','add','user','#000000','data','redis://127.0.0.1:6379','assign','Button\x20texts\x20cannot\x20be\x20repeated','isInteger','Número:\x20','updatePrivacySettings','true','setRestartTimeout','ListType','PORT','sending','remote\x20\x22origin\x22','):\x20Grupo\x20','REDIS_ENABLED','Erro\x20de\x20reinicialização:\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','getProfileName','folder','CORS_ORIGIN','unlocked','closed','3620EHhubo','/instance/connect','view\x20engine','):\x20Buscando\x20todos\x20os\x20fluxos...','execSync','message_normalized','updateParticipant','updateAll','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','blockId','sendList','g-t','updateStopChat','_Flows','waitingMenu_ExpiredMessage','.pptx','including\x20timestamp\x20in\x20url:\x20','host','CONNECTION_UPDATE','LEVEL','AUTHENTICATION_JWT_SECRET','Processing\x20audio','getOwnPropertyNames','arrayUnique','loadWebhook','removeChatLabel','\x20depois\x20','description','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','imageMessage','model','Erro\x20ao\x20deletar\x20mensagens:','backgroundColor','noConnection','\x20-i\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','less','deleteMessage','ERROR','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','vcard','Erro\x20ao\x20alterar\x20privacidade','push','count','\x20:\x20','updatePresence','):\x20nextBlock.uazapi.name','sync','processPollUpdateMessage','isCommunity','drop','reviver','now','):\x20Enviando\x20texto','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','includes','startID','Mensagens\x20deletadas\x20com\x20sucesso.','Not\x20allowed\x20by\x20CORS','):\x20Alterando\x20fluxo...','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','fetchProfilePictureUrl','checkAndRestartProcess','flowStopMinutes','DATABASE_CONNECTION_URI','apirequest','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','groupName','\x1b[30m%s\x1b[0m','insert','Erro\x20ao\x20copiar\x20o\x20documento','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','):\x20Going\x20to\x20','Error\x20updating\x20message\x20status:','CORS_METHODS','_pushName','localWebhook','getLastMessage','prepareWAMessageMedia','promote','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','pop','getHours','stdout','):\x20isVote:\x20','available','.wav','updateGParticipant','Missing\x20global\x20api\x20key','sectionsToString','deleteInstance','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','https://api.openai.com/v1/images/generations','static','sharp','):\x20Comando\x20desconhecido:\x20','AutomateSystem','createConversationforStartFlow','profile','\x20inseridas\x20no\x20banco\x20de\x20dados...','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','updateReadReceiptsPrivacy','Data\x20inválida\x20fornecida','^\x5cd+','\x22\x20not\x20found','proto','minutesToClose','Erro\x20ao\x20encerrar\x20a\x20API','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','unhandledRejection','sendDataWebhook','groupJoinApprovalMode','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Erro\x20ao\x20deletar\x20a\x20conversa','deleteChat','/instance/fetchInstances','redis','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','\x20adicionado\x20ao\x20chat\x20','utf-8','ultimaTentativaRemoteJid','organization','AUTHENTICATION_TYPE','Valor\x20inicial:\x20\x22','subdomain','.mimetype','Error\x20while\x20deleting\x20message\x20for\x20everyone','https://ipinfo.io/json','updateProfilePicturePrivacy','Error\x20in\x20converting\x20audio','params','saveVariable','\x0a{\x20instance:\x20','padEnd','lastDisconnect','jpegThumbnail','split','saveMediaToFile','connectionStatus','/exit','qrcode.updated','findConversation','approve','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','copy','defineAuthState','LICENSE_INVALID','updateCustomFields','_p_','endSession','picture','Validate','updateStatusPrivacy','\x1b[34m','.uazapi.dev','path','width','responsavelid','createflow',',\x20resultado:\x20','DATABASE_CONNECTION_USER','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','createFlow','\x1b[47m','js-yaml','createJid','userDevicesCache','\x0aFN:','connectToWhatsapp','digest','createAndSave','Tentando\x20reconectar...','flowConversation','contacts.update','addReplyOption','lastInteraction','pino','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','default','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.'];a0_0x3526=function(){return _0x4796f8;};return a0_0x3526();}async function Ar(){await $r();}Ar();var Mo={},re={},Ee=class c{constructor(_0x5ab6bd,_0x2709f9,_0x5617c1){const _0x3513c7=a0_0x5bdda6;this[_0x3513c7(0x5b4)]=_0x5ab6bd,this[_0x3513c7(0x5c1)]=_0x2709f9,this[_0x3513c7(0x320)]=_0x5617c1,this[_0x3513c7(0x749)]=null,this['logger']=new $(c[_0x3513c7(0x63e)]),this[_0x3513c7(0x32b)]={},this[_0x3513c7(0x735)]={},this['stateConnection']={'state':_0x3513c7(0x133)},this[_0x3513c7(0x4f8)]=(0x0,J[_0x3513c7(0x64d)])(ne,_0x3513c7(0x41e)),this[_0x3513c7(0x632)]=new Is[(_0x3513c7(0x79b))](),this[_0x3513c7(0x78f)]=new Is['default'](),this['endSession']=!0x1,this[_0x3513c7(0x2af)]={'status.instance':_0x3513c7(0x7c8),'connection.update':'/wa-connection-update','qrcode.updated':'/wa-qrcode','messages.upsert':'/wa-message','send.message':'/wa-message','messages.update':_0x3513c7(0x403),'group.upsert':_0x3513c7(0x198),'group.update':_0x3513c7(0x198),'group-participants.update':'/wa-groups','messages.set':_0x3513c7(0x59e),'contacts.set':_0x3513c7(0x6b4),'contacts.upsert':'/wa-contacts','contacts.update':_0x3513c7(0x6b4),'presence.update':'/wa-presence','chats.set':_0x3513c7(0x7b5),'chats.update':'/wa-chats','chats.upsert':_0x3513c7(0x7b5),'chats.delete':_0x3513c7(0x7b5)},this[_0x3513c7(0x307)]=0x0,this[_0x3513c7(0x5b6)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this[_0x3513c7(0x667)]=0xea60,this[_0x3513c7(0x33a)]=!0x1,this[_0x3513c7(0x39c)]={'chats.upsert':async(_0x4cecbf,_0x5ce3e7)=>{const _0x5e6e3f=_0x3513c7;let _0xec78f8=[];for await(let _0x253f02 of _0x4cecbf)_0xec78f8[_0x5e6e3f(0x711)]({'_id':_0x253f02['id'],'owner':this[_0x5e6e3f(0x32b)]['wuid'],'group':_0x253f02['id']['endsWith'](_0x5e6e3f(0x5ca)),'name':_0x253f02[_0x5e6e3f(0x63e)]||_0x253f02['displayName']||null,'contactname':null,'lastmsg':_0x253f02['conversationTimestamp']&&_0x253f02[_0x5e6e3f(0x33d)][_0x5e6e3f(0x58f)]()['length']<0xd?_0x253f02[_0x5e6e3f(0x33d)]*0x3e8:_0x253f02[_0x5e6e3f(0x33d)]||null,'archived':_0x253f02[_0x5e6e3f(0x2fa)]||!0x1,'unreadcount':_0x253f02[_0x5e6e3f(0x624)]||0x0,'ephemeralExpiration':_0x253f02[_0x5e6e3f(0x81d)]||0x0});this[_0x5e6e3f(0x757)](_0x5e6e3f(0x7d5),_0xec78f8);},'chats.update':async(_0x20be8a,_0x524197)=>{const _0xb865c5=_0x3513c7;for(let _0x26f85f of _0x20be8a){let _0x227ea3={'_id':_0x26f85f['id'],'owner':this[_0xb865c5(0x32b)][_0xb865c5(0x20d)],'archived':_0x26f85f[_0xb865c5(0x2fa)],'muteEndTime':_0x26f85f[_0xb865c5(0x4bb)],'ephemeralExpiration':_0x26f85f['ephemeralExpiration']},_0xfd1954=!0x1,_0x4d70f3={};_0x227ea3[_0xb865c5(0x2fa)]!=null&&(this[_0xb865c5(0x34c)]['verbose'](this[_0xb865c5(0x7eb)]+'\x20('+this['instance'][_0xb865c5(0x20d)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x26f85f['id']+_0xb865c5(0x713)+_0x26f85f['archived']),_0xfd1954=!0x0,_0x4d70f3[_0xb865c5(0x2fa)]=_0x26f85f[_0xb865c5(0x2fa)]),_0xb865c5(0x4bb)in _0x26f85f&&(this[_0xb865c5(0x34c)][_0xb865c5(0x1f6)](this[_0xb865c5(0x7eb)]+'\x20('+this[_0xb865c5(0x32b)][_0xb865c5(0x20d)]+_0xb865c5(0x351)+_0x26f85f['id']+_0xb865c5(0x713)+(_0x26f85f[_0xb865c5(0x4bb)]??'0')),_0xfd1954=!0x0,_0x4d70f3[_0xb865c5(0x4bb)]=_0x26f85f[_0xb865c5(0x4bb)]??0x0),_0xb865c5(0x81d)in _0x26f85f&&(this['logger']['verbose'](this[_0xb865c5(0x7eb)]+'\x20('+this[_0xb865c5(0x32b)][_0xb865c5(0x20d)]+_0xb865c5(0x52d)+_0x26f85f['id']+'\x20:\x20'+(_0x26f85f['ephemeralExpiration']!==void 0x0?_0x26f85f[_0xb865c5(0x81d)]:'undefined')),_0x4d70f3['ephemeralExpiration']=_0x26f85f[_0xb865c5(0x81d)]===null?0x0:_0x26f85f[_0xb865c5(0x81d)],_0xfd1954=!0x0);let _0xd23a50;_0xfd1954&&(_0xd23a50=await this[_0xb865c5(0x320)]['chat'][_0xb865c5(0x31c)]({'where':{'_id':_0x26f85f['id']}},_0x4d70f3,this[_0xb865c5(0x32b)][_0xb865c5(0x20d)])),_0xd23a50&&U(this[_0xb865c5(0x7eb)],_0xb865c5(0x6ca),{'chat':_0xd23a50});}},'chats.delete':async _0x43fd06=>{const _0x457f72=_0x3513c7;for(let _0x1905ec of _0x43fd06)if(_0x1905ec[_0x457f72(0x4dc)](_0x457f72(0x5ca))){await this[_0x457f72(0x320)][_0x457f72(0x638)][_0x457f72(0x469)]({'where':{'_id':_0x1905ec}},this[_0x457f72(0x32b)][_0x457f72(0x20d)]);let _0x3ece96={'where':{'key':{'remoteJid':_0x1905ec}}};await this[_0x457f72(0x320)]['message'][_0x457f72(0x469)](_0x3ece96,this[_0x457f72(0x32b)]['wuid']);}else{await this[_0x457f72(0x320)][_0x457f72(0x638)][_0x457f72(0x31c)]({'where':{'_id':_0x1905ec}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x457f72(0x32b)][_0x457f72(0x20d)]);let _0x5c4e76={'where':{'key':{'remoteJid':_0x1905ec}}};await this[_0x457f72(0x320)]['message']['delete'](_0x5c4e76,this[_0x457f72(0x32b)][_0x457f72(0x20d)]);}this[_0x457f72(0x757)](_0x457f72(0x550),[..._0x43fd06]);}},this[_0x3513c7(0x3a6)]={'contacts.upsert':async(_0x428ff6,_0x2606b5)=>{const _0x422174=_0x3513c7;let _0x53450a=await this['repository']['contact'][_0x422174(0x2b1)]({'where':{}},this[_0x422174(0x32b)][_0x422174(0x20d)]),_0x135e6=[];for await(let _0x929376 of _0x428ff6)_0x53450a['find'](_0x50dfd7=>_0x50dfd7['_id']===_0x929376['id'])||_0x135e6[_0x422174(0x711)]({'_id':_0x929376['id'],'pushName':_0x929376?.[_0x422174(0x63e)]||_0x929376?.[_0x422174(0x6a6)],'owner':this[_0x422174(0x32b)]['wuid']});this[_0x422174(0x757)]('contacts.upsert',_0x135e6),await this[_0x422174(0x320)][_0x422174(0x32d)][_0x422174(0x72e)](_0x135e6);},'contacts.update':async(_0x7b9cc2,_0x3d0ffa)=>{const _0x2a3bb3=_0x3513c7;let _0xfb7c45=[];for await(let _0x3c18de of _0x7b9cc2)_0xfb7c45['push']({'_id':_0x3c18de['id'],'pushName':_0x3c18de?.[_0x2a3bb3(0x63e)]??_0x3c18de?.[_0x2a3bb3(0x6a6)],'owner':this['instance'][_0x2a3bb3(0x20d)]});this[_0x2a3bb3(0x757)](_0x2a3bb3(0x796),_0xfb7c45);}},this[_0x3513c7(0x2bb)]={'messaging-history.set':async({messages:_0x45251d,chats:_0x30d66f,isLatest:_0x291fe7},_0x1d1dd4)=>{const _0x4ed9aa=_0x3513c7;if(_0x291fe7){let _0x470e9b=await Promise[_0x4ed9aa(0x219)](_0x30d66f[_0x4ed9aa(0x2b0)](async _0x318ba3=>({'_id':_0x318ba3['id'],'owner':this[_0x4ed9aa(0x32b)][_0x4ed9aa(0x20d)],'group':_0x318ba3['id'][_0x4ed9aa(0x4dc)](_0x4ed9aa(0x5ca)),'name':_0x318ba3[_0x4ed9aa(0x63e)]||_0x318ba3['displayName']||_0x318ba3[_0x4ed9aa(0x2e4)]||null,'contactname':null,'lastmsg':_0x318ba3[_0x4ed9aa(0x33d)]&&_0x318ba3['conversationTimestamp'][_0x4ed9aa(0x58f)]()[_0x4ed9aa(0x29b)]<0xd?_0x318ba3[_0x4ed9aa(0x33d)]*0x3e8:_0x318ba3['conversationTimestamp']||null,'archived':_0x318ba3[_0x4ed9aa(0x2fa)]||!0x1,'unreadcount':_0x318ba3['unreadCount']||0x0,'ephemeralExpiration':_0x318ba3[_0x4ed9aa(0x81d)]||0x0,'muteEndTime':_0x318ba3[_0x4ed9aa(0x4bb)]||0x0})));this['sendDataWebhook'](_0x4ed9aa(0x64a),_0x470e9b),await this['upsertChats'](_0x470e9b,_0x1d1dd4);}let _0xcce69d=[],_0x5abcac=Date[_0x4ed9aa(0x71b)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4d8fa6]of Object['entries'](_0x45251d)){if(_0x4d8fa6[_0x4ed9aa(0x1f1)]?.['protocolMessage']||_0x4d8fa6[_0x4ed9aa(0x1f1)]?.[_0x4ed9aa(0x15b)]||!_0x4d8fa6[_0x4ed9aa(0x1f1)]||_0x4d8fa6['key'][_0x4ed9aa(0x4c8)]===_0x4ed9aa(0x386)||(Ts[_0x4ed9aa(0x79b)][_0x4ed9aa(0x495)](_0x4d8fa6?.['messageTimestamp'])&&(_0x4d8fa6[_0x4ed9aa(0x2d8)]=_0x4d8fa6['messageTimestamp']?.[_0x4ed9aa(0x363)]()),_0x4d8fa6[_0x4ed9aa(0x2d8)]&&_0x4d8fa6[_0x4ed9aa(0x2d8)][_0x4ed9aa(0x58f)]()[_0x4ed9aa(0x29b)]<0xd&&(_0x4d8fa6[_0x4ed9aa(0x2d8)]=_0x4d8fa6[_0x4ed9aa(0x2d8)]*0x3e8),_0x4d8fa6[_0x4ed9aa(0x2d8)]<_0x5abcac))continue;let _0x2d8496=(0x0,f[_0x4ed9aa(0x5e3)])(_0x4d8fa6['message']),_0x1a5ed5=(0x0,f[_0x4ed9aa(0x22b)])(_0x2d8496),{message_normalized:_0x9ad76}=this['normalizeMessage'](_0x2d8496,_0x1a5ed5,null);Object['keys'](_0x9ad76)[_0x4ed9aa(0x29b)]>0x0&&_0xcce69d['push']({'_id':_0x4d8fa6[_0x4ed9aa(0x4d8)]['id'],'key':_0x4d8fa6[_0x4ed9aa(0x4d8)],'pushName':_0x4d8fa6[_0x4ed9aa(0x689)],'participant':_0x4d8fa6[_0x4ed9aa(0x317)],'message':_0x2d8496,'messageType':_0x1a5ed5,'message_normalized':{'key':_0x4d8fa6[_0x4ed9aa(0x4d8)],'pushName':_0x4d8fa6['pushName'],'messageTimestamp':_0x4d8fa6[_0x4ed9aa(0x2d8)],..._0x9ad76},'messageTimestamp':_0x4d8fa6[_0x4ed9aa(0x2d8)],'owner':this['instance'][_0x4ed9aa(0x20d)]});}_0x1d1dd4[_0x4ed9aa(0x615)]&&_0xcce69d['length']>0x0&&(this[_0x4ed9aa(0x34c)][_0x4ed9aa(0x1f6)](this[_0x4ed9aa(0x7eb)]+'\x20('+this[_0x4ed9aa(0x32b)][_0x4ed9aa(0x20d)]+_0x4ed9aa(0x413)+_0xcce69d['length']+_0x4ed9aa(0x319)+this[_0x4ed9aa(0x32b)][_0x4ed9aa(0x20d)]+_0x4ed9aa(0x74c)),await this[_0x4ed9aa(0x320)][_0x4ed9aa(0x1f1)][_0x4ed9aa(0x72e)]([..._0xcce69d],this[_0x4ed9aa(0x32b)]['wuid'])),this['sendDataWebhook']('messages.set',[..._0xcce69d]),_0x45251d=void 0x0;},'messages.upsert':async({messages:_0x7ae349,type:_0x20754a},_0x2cdc98)=>{const _0x175d78=_0x3513c7;let _0x4db0b0=_0x7ae349[0x0],_0x5a6926=_0x4db0b0[_0x175d78(0x4d8)]['id'],_0x14008d=_0x4db0b0[_0x175d78(0x264)]===0x2,_0x455929=0xb;if(this['localWebhook']?.['groups_ignore']&&_0x4db0b0[_0x175d78(0x4d8)][_0x175d78(0x4c8)][_0x175d78(0x71f)]('@g.us')){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x175d78(0x32b)][_0x175d78(0x20d)]+_0x175d78(0x4fe));return;}if(_0x14008d){if(re[_0x5a6926]||(re[_0x5a6926]=0x0),re[_0x5a6926]++,this[_0x175d78(0x34c)]['error'](this['instanceName']+'\x20('+this['instance'][_0x175d78(0x20d)]+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x4db0b0[_0x175d78(0x4d8)][_0x175d78(0x4c8)]+'\x20e\x20ID='+_0x5a6926+':\x20'+re[_0x5a6926]+'/'+_0x455929),re[_0x5a6926]>=_0x455929){this['logger'][_0x175d78(0x83d)](this['instanceName']+'\x20('+this[_0x175d78(0x32b)][_0x175d78(0x20d)]+_0x175d78(0x66c)+_0x4db0b0['key'][_0x175d78(0x4c8)]+_0x175d78(0x2a6)+_0x5a6926+'.');let _0x842d9e={'key':{..._0x4db0b0[_0x175d78(0x4d8)]},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x5a6926+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};this[_0x175d78(0x249)]['ev']['emit'](_0x175d78(0x208),{'messages':[_0x842d9e],'type':'notify'}),delete re[_0x5a6926];}}else re[_0x5a6926]&&(this[_0x175d78(0x34c)]['warn'](_0x175d78(0x4cf)+re[_0x5a6926]+_0x175d78(0x5f1)+_0x4db0b0[_0x175d78(0x4d8)][_0x175d78(0x4c8)]+_0x175d78(0x2a6)+_0x5a6926),delete re[_0x5a6926]);if(_0x20754a!=='notify'||!_0x4db0b0?.[_0x175d78(0x1f1)]||_0x4db0b0[_0x175d78(0x1f1)]?.[_0x175d78(0x277)]||_0x4db0b0[_0x175d78(0x1f1)][_0x175d78(0x15b)]||_0x4db0b0[_0x175d78(0x4d8)][_0x175d78(0x4c8)]==='status@broadcast')return;let _0x18ad4f=null,_0x445bfe=null;try{_0x18ad4f=await this[_0x175d78(0x717)](_0x4db0b0),_0x445bfe=_0x18ad4f?_0x18ad4f[_0x175d78(0x64d)](','):null;}catch(_0x5b9f7a){this[_0x175d78(0x34c)][_0x175d78(0x1f6)](this[_0x175d78(0x7eb)]+'\x20('+this[_0x175d78(0x32b)][_0x175d78(0x20d)]+_0x175d78(0x413)+(_0x5b9f7a instanceof Error?_0x5b9f7a[_0x175d78(0x1f1)]:JSON['stringify'](_0x5b9f7a,null,0x2))),_0x445bfe='error\x20get\x20vote';}this[_0x175d78(0x249)][_0x175d78(0x5bf)](_0x175d78(0x5c7)),Ts[_0x175d78(0x79b)]['isLong'](_0x4db0b0[_0x175d78(0x2d8)])&&(_0x4db0b0[_0x175d78(0x2d8)]=_0x4db0b0['messageTimestamp']?.[_0x175d78(0x363)]()),_0x4db0b0['messageTimestamp']&&_0x4db0b0[_0x175d78(0x2d8)]['toString']()[_0x175d78(0x29b)]<0xd&&(_0x4db0b0[_0x175d78(0x2d8)]=_0x4db0b0[_0x175d78(0x2d8)]*0x3e8);let _0x2c984d=_0x4db0b0['message'],_0x21bdb4=(0x0,f[_0x175d78(0x5e3)])(_0x2c984d),_0x5633ef=(0x0,f[_0x175d78(0x22b)])(_0x21bdb4),{messageContent:_0x301d86,message_normalized:_0x14a2fc}=this['normalizeMessage'](_0x21bdb4,_0x5633ef,_0x445bfe);_0x5633ef==='protocolMessage'&&_0x301d86?.[_0x175d78(0x4c9)]&&(_0x5633ef=_0x175d78(0x4c9));let _0x1aba93,_0x13b559=_0x4db0b0['key'][_0x175d78(0x4c8)][_0x175d78(0x4dc)](_0x175d78(0x5ca));if(_0x4db0b0['key'][_0x175d78(0x295)])_0x1aba93=this[_0x175d78(0x32b)][_0x175d78(0x157)];else{let _0x14a19c=_0x13b559?_0x4db0b0[_0x175d78(0x4d8)][_0x175d78(0x317)]:_0x4db0b0[_0x175d78(0x4d8)]['remoteJid'];_0x1aba93=(await this['findAndUpdateCacheContact'](_0x14a19c,_0x4db0b0[_0x175d78(0x689)],!0x1))[_0x175d78(0x3e4)][_0x175d78(0x524)];}let _0x50bf53={'_id':_0x4db0b0['key']['id'],'key':_0x4db0b0[_0x175d78(0x4d8)],'isGroup':_0x13b559,'profilePictureUrl':_0x1aba93,'pushName':_0x4db0b0[_0x175d78(0x689)],'message':_0x21bdb4,'messageType':_0x5633ef,'message_normalized':{'key':_0x4db0b0[_0x175d78(0x4d8)],'pushName':_0x4db0b0[_0x175d78(0x689)],'messageTimestamp':_0x4db0b0[_0x175d78(0x2d8)],'source':(0x0,f['getDevice'])(_0x4db0b0[_0x175d78(0x4d8)]['id']),..._0x14a2fc},'messageTimestamp':_0x4db0b0[_0x175d78(0x2d8)],'owner':this[_0x175d78(0x32b)][_0x175d78(0x20d)],'source':(0x0,f[_0x175d78(0x79f)])(_0x4db0b0[_0x175d78(0x4d8)]['id']),'expiration':_0x301d86?.[_0x175d78(0x2c5)]?.[_0x175d78(0x3ab)]||0x0};_0x301d86||(console[_0x175d78(0x83d)](_0x175d78(0x41a)),this[_0x175d78(0x34c)][_0x175d78(0x83d)](_0x50bf53)),this[_0x175d78(0x34c)][_0x175d78(0x271)](this['instanceName']+'\x20('+this[_0x175d78(0x32b)]['wuid']+_0x175d78(0x413)+(_0x50bf53[_0x175d78(0x4d8)]?.[_0x175d78(0x295)]?_0x175d78(0x7a3):'recebido\x20de')+'\x20['+_0x50bf53[_0x175d78(0x4d8)]?.['remoteJid'][_0x175d78(0x4a9)](_0x175d78(0x2e3),'')+_0x175d78(0x7f9)+_0x50bf53[_0x175d78(0x59a)]+')'),_0x50bf53['message_normalized']?.[_0x175d78(0x3ce)]&&this[_0x175d78(0x34c)][_0x175d78(0x271)](_0x5a6926+':\x20'+_0x50bf53[_0x175d78(0x6ec)]?.[_0x175d78(0x3ce)]),await this[_0x175d78(0x320)][_0x175d78(0x1f1)][_0x175d78(0x72e)]([_0x50bf53],this['instance'][_0x175d78(0x20d)]),this['sendDataWebhook'](_0x175d78(0x208),_0x50bf53),U(this[_0x175d78(0x7eb)],_0x175d78(0x60e),{'message':_0x50bf53}),_0x4db0b0[_0x175d78(0x4d8)]['remoteJid']!==_0x175d78(0x386)&&await this[_0x175d78(0x5c3)](_0x2cdc98,_0x50bf53,_0x175d78(0x526));},'messages.update':async(_0x43d1a0,_0x4cff0c)=>{const _0x2915a4=_0x3513c7;let _0x33831e={0x0:_0x2915a4(0x70d),0x1:'PENDING',0x2:_0x2915a4(0x809),0x3:_0x2915a4(0x2cc),0x4:'READ',0x5:_0x2915a4(0x6b6)};for await(let {key:_0x1e2b9f,update:_0x51780b}of _0x43d1a0){if(this['localWebhook']?.[_0x2915a4(0x2a0)]&&_0x1e2b9f[_0x2915a4(0x4c8)][_0x2915a4(0x71f)](_0x2915a4(0x5ca))){this['logger'][_0x2915a4(0x1f6)](this['instanceName']+'\x20('+this[_0x2915a4(0x32b)]['wuid']+_0x2915a4(0x516));return;}if(_0x1e2b9f['remoteJid']!=='status@broadcast'){let _0x24aaf1=Date[_0x2915a4(0x71b)](),_0x24ade3;_0x51780b[_0x2915a4(0x1f1)]===null&&_0x51780b[_0x2915a4(0x390)]===void 0x0?_0x24ade3=_0x2915a4(0x36e):_0x24ade3=_0x33831e[_0x51780b[_0x2915a4(0x390)]];let _0x3844a5=_0x1e2b9f[_0x2915a4(0x4c8)]['replace'](/:\d{1,2}@/g,'@'),_0x3b5e97={..._0x1e2b9f,'remoteJid':_0x3844a5,'status':_0x24ade3,'datetime':_0x24aaf1,'owner':this[_0x2915a4(0x32b)]['wuid']};this[_0x2915a4(0x757)](_0x2915a4(0x175),_0x3b5e97),await this['updateMessage'](_0x1e2b9f,_0x3b5e97);}}},'labels.association':async({type:_0x58b16c,association:_0x329a33})=>{const _0x3e24e9=_0x3513c7;if(_0x329a33[_0x3e24e9(0x5b3)]===_0x3e24e9(0x372)){let _0x593b47,_0x39f137=0x0;for(;!_0x593b47&&_0x39f137<this[_0x3e24e9(0x38e)];)_0x593b47=await this['repository']['chat']['findOne']({'where':{'_id':_0x329a33[_0x3e24e9(0x7ce)]}},this[_0x3e24e9(0x32b)][_0x3e24e9(0x20d)]),_0x593b47||(_0x39f137++,this['logger'][_0x3e24e9(0x6a4)](this[_0x3e24e9(0x7eb)]+'\x20('+this[_0x3e24e9(0x32b)][_0x3e24e9(0x20d)]+'):\x20Chat\x20'+_0x329a33[_0x3e24e9(0x7ce)]+_0x3e24e9(0x394)+this[_0x3e24e9(0x4b2)]+_0x3e24e9(0x33b)+_0x39f137+'/'+this[_0x3e24e9(0x38e)]+')'),await this[_0x3e24e9(0x529)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x593b47){console[_0x3e24e9(0x83d)](_0x3e24e9(0x3df)+_0x329a33[_0x3e24e9(0x7ce)]+_0x3e24e9(0x701)+this[_0x3e24e9(0x38e)]+_0x3e24e9(0x512));return;}switch(_0x58b16c){case _0x3e24e9(0x6cd):console[_0x3e24e9(0x271)](_0x329a33),await this[_0x3e24e9(0x320)][_0x3e24e9(0x638)][_0x3e24e9(0x31c)]({'where':{'_id':_0x329a33['chatId']}},{'leadInfo.etiquetas':_0x329a33[_0x3e24e9(0x4ef)]},this[_0x3e24e9(0x32b)]['wuid'],void 0x0,_0x3e24e9(0x3a8));break;case _0x3e24e9(0x4f9):console[_0x3e24e9(0x271)](_0x329a33),await this[_0x3e24e9(0x320)][_0x3e24e9(0x638)][_0x3e24e9(0x31c)]({'where':{'_id':_0x329a33['chatId']}},{'leadInfo.etiquetas':_0x329a33['labelId']},this[_0x3e24e9(0x32b)]['wuid'],void 0x0,_0x3e24e9(0x511));break;default:console[_0x3e24e9(0x83d)](_0x3e24e9(0x7ab)+_0x58b16c+']');}}},'labels.edit':async _0x100a99=>{const _0x1dd38b=_0x3513c7;if(!_0x100a99||!_0x100a99['id']){console['error'](_0x1dd38b(0x1fe));return;}if(!_0x100a99[_0x1dd38b(0x388)]){let _0x3f7a25=[_0x1dd38b(0x5dc),_0x1dd38b(0x2cd),_0x1dd38b(0x666),_0x1dd38b(0x212),_0x1dd38b(0x6b7),_0x1dd38b(0x7ae),_0x1dd38b(0x5cc),_0x1dd38b(0x373),'#6f7bcf',_0x1dd38b(0x7f0),'#01d0e2',_0x1dd38b(0x59f),_0x1dd38b(0x817),_0x1dd38b(0x213),_0x1dd38b(0x6c9),_0x1dd38b(0x3ff),_0x1dd38b(0x4e9),_0x1dd38b(0x461),_0x1dd38b(0x313),'#9568cf'],_0x1266ad;typeof _0x100a99['color']=='number'&&_0x100a99[_0x1dd38b(0x496)]>=0x0&&_0x100a99[_0x1dd38b(0x496)]<_0x3f7a25['length']?_0x1266ad=_0x3f7a25[_0x100a99[_0x1dd38b(0x496)]]:(console[_0x1dd38b(0x83d)](_0x1dd38b(0x1c1),_0x100a99['color']),_0x1266ad=_0x1dd38b(0x6cf));let _0x1af3ad={'_id':_0x100a99['id'],'colorHex':_0x1266ad,'color':_0x100a99?.[_0x1dd38b(0x496)],'name':_0x100a99?.[_0x1dd38b(0x63e)],'owner':this['instance'][_0x1dd38b(0x20d)]};await this[_0x1dd38b(0x320)][_0x1dd38b(0x423)][_0x1dd38b(0x31c)]({'where':{'_id':_0x100a99['id']}},_0x1af3ad,this[_0x1dd38b(0x32b)][_0x1dd38b(0x20d)]),this[_0x1dd38b(0x34c)][_0x1dd38b(0x6a4)](this['instanceName']+'\x20('+this[_0x1dd38b(0x32b)][_0x1dd38b(0x20d)]+_0x1dd38b(0x1f7)+_0x100a99);}_0x100a99[_0x1dd38b(0x388)]&&(await this[_0x1dd38b(0x320)]['label'][_0x1dd38b(0x469)]({'where':{'_id':_0x100a99['id']}},this[_0x1dd38b(0x32b)][_0x1dd38b(0x20d)]),this[_0x1dd38b(0x34c)][_0x1dd38b(0x6a4)](_0x1dd38b(0x126)+_0x100a99['id']));}},this[_0x3513c7(0x301)]={'groups.upsert':async _0x1e7723=>{const _0x2a5455=_0x3513c7;this[_0x2a5455(0x735)]?.[_0x2a5455(0x2a0)]||this['sendDataWebhook'](_0x2a5455(0x47e),_0x1e7723);for(let _0x28b2a6 of _0x1e7723)await this[_0x2a5455(0x5af)](_0x28b2a6);},'groups.update':async _0x2f511f=>{const _0x9e770b=_0x3513c7;this[_0x9e770b(0x735)]?.[_0x9e770b(0x2a0)]||this[_0x9e770b(0x757)](_0x9e770b(0x663),_0x2f511f);for(let _0x10f680 of _0x2f511f)await this[_0x9e770b(0x5af)](_0x10f680);},'group-participants.update':async _0x2731fd=>{const _0x3903bd=_0x3513c7;this[_0x3903bd(0x735)]?.[_0x3903bd(0x2a0)]||this[_0x3903bd(0x757)](_0x3903bd(0x543),_0x2731fd),await this[_0x3903bd(0x675)](_0x2731fd);}},this[_0x3513c7(0x38e)]=0x5,this[_0x3513c7(0x4b2)]=0x1388,this[_0x3513c7(0x717)]=async _0xbf3ec8=>{const _0x597015=_0x3513c7;if(_0xbf3ec8[_0x597015(0x1f1)]?.[_0x597015(0x5d6)]){let _0x3ea5b9=await this['getMessage'](_0xbf3ec8[_0x597015(0x1f1)]['pollUpdateMessage'][_0x597015(0x113)],!0x0);if(_0x3ea5b9){let _0x4c17e5=_0x3ea5b9['key']['fromMe']?this['instance'][_0x597015(0x20d)]+_0x597015(0x2e3):_0x3ea5b9[_0x597015(0x4d8)][_0x597015(0x317)]||_0x3ea5b9[_0x597015(0x4d8)]['remoteJid'],_0x2aca71=_0x3ea5b9[_0x597015(0x4d8)]['id'],_0x35e01c=_0x3ea5b9[_0x597015(0x1f1)],_0x232a06=Buffer[_0x597015(0x47d)](_0x35e01c['messageContextInfo'][_0x597015(0x1dc)]['toString'](_0x597015(0x7e6)),_0x597015(0x7e6)),_0x3b8b63=(0x0,f[_0x597015(0x27a)])(_0xbf3ec8[_0x597015(0x1f1)]['pollUpdateMessage'][_0x597015(0x536)],{'pollCreatorJid':_0x4c17e5,'pollMsgId':_0x2aca71,'pollEncKey':_0x232a06,'voterJid':_0xbf3ec8[_0x597015(0x4d8)][_0x597015(0x295)]?this[_0x597015(0x32b)][_0x597015(0x20d)]+_0x597015(0x2e3):_0xbf3ec8[_0x597015(0x4d8)][_0x597015(0x4c8)][_0x597015(0x4dc)](_0x597015(0x691))?_0xbf3ec8[_0x597015(0x4d8)][_0x597015(0x317)]:_0xbf3ec8[_0x597015(0x4d8)][_0x597015(0x4c8)]}),_0x3a16e6=[],_0x43d21a=_0x3b8b63['selectedOptions'][_0x597015(0x2b0)](_0x33e2c9=>Buffer[_0x597015(0x47d)](_0x33e2c9)[_0x597015(0x58f)](_0x597015(0x7e6)));for(let {optionName:_0x82fa06}of _0x35e01c[_0x597015(0x25f)]?.['options']||_0x35e01c[_0x597015(0x3b5)]?.[_0x597015(0x17b)]||_0x35e01c[_0x597015(0x3c0)]?.['options'])_0x43d21a[_0x597015(0x49f)]((0x0,f[_0x597015(0x150)])(Buffer[_0x597015(0x47d)](_0x82fa06))['toString'](_0x597015(0x7e6)))>-0x1&&_0x3a16e6[_0x597015(0x711)](_0x82fa06);return _0x3a16e6;}}return null;},this[_0x3513c7(0x53f)]=(_0x433b23,_0xfd58de,_0x5abe91)=>{const _0x8782b1=_0x3513c7;try{let _0x28be2b=_0x433b23?(0x0,f[_0x8782b1(0x836)])(_0x433b23)[_0xfd58de]:void 0x0,_0x11f38f={},_0x5eb431=null,_0x355278=null,_0x2d4821=null;_0xfd58de===_0x8782b1(0x277)&&_0x28be2b?.[_0x8782b1(0x4c9)]&&(_0xfd58de=(0x0,f[_0x8782b1(0x22b)])(_0x28be2b['editedMessage']),_0x5eb431=_0x433b23[_0x8782b1(0x277)][_0x8782b1(0x4d8)]['id'],_0x28be2b=_0x433b23[_0x8782b1(0x277)]['editedMessage'][_0xfd58de]),_0x433b23[_0xfd58de]?.[_0x8782b1(0x2c5)]?.[_0x8782b1(0x2ef)]&&_0x433b23[_0xfd58de]?.[_0x8782b1(0x2c5)]?.[_0x8782b1(0x2ea)]&&(_0x355278=_0x433b23[_0xfd58de][_0x8782b1(0x2c5)][_0x8782b1(0x2ef)]),_0x433b23['reactionMessage']&&(_0x2d4821=_0x433b23[_0x8782b1(0x5f6)][_0x8782b1(0x4d8)]['id']);let _0x3db61a;if(_0x28be2b&&typeof _0x28be2b==_0x8782b1(0x53a)&&_0x8782b1(0x113)in _0x28be2b&&({pollCreationMessageKey:_0x3db61a}=_0x28be2b),_0xfd58de===_0x8782b1(0x25f)||_0xfd58de===_0x8782b1(0x3c0)||_0xfd58de===_0x8782b1(0x3b5)){let _0x405309=_0x28be2b[_0x8782b1(0x17b)][_0x8782b1(0x2b0)](_0x51be8b=>_0x51be8b[_0x8782b1(0x2c1)])[_0x8782b1(0x64d)]('|');_0x11f38f['convertedOptions']=_0x405309;}let _0x5ed40e='';if(_0x28be2b&&(_0x5ed40e+=_0x28be2b[_0x8782b1(0x63e)]?_0x28be2b[_0x8782b1(0x63e)]:'',_0x5ed40e+=_0x28be2b[_0x8782b1(0x1bc)]?'\x20'+_0x28be2b[_0x8782b1(0x1bc)]:'',_0x5ed40e+=_0x28be2b[_0x8782b1(0x599)]?'\x20'+_0x28be2b[_0x8782b1(0x599)]:'',_0x5ed40e+=_0x28be2b['displayName']?'\x20'+_0x28be2b['displayName']:''),_0xfd58de===_0x8782b1(0x315)){_0x5ed40e=(_0x28be2b['title']||'')+'\x0a'+(_0x28be2b[_0x8782b1(0x702)]||'')+'\x0a'+(_0x28be2b[_0x8782b1(0x83a)]||'');let _0x56b02a=this[_0x8782b1(0x742)](_0x28be2b['sections']);_0x11f38f[_0x8782b1(0x6be)]=_0x56b02a;}if(_0xfd58de==='listResponseMessage'&&(_0x5abe91=_0x28be2b[_0x8782b1(0x579)]),_0x28be2b&&_0x28be2b[_0x8782b1(0x70f)]){let _0x994359=this[_0x8782b1(0x7c4)](JSON[_0x8782b1(0x5b8)](_0x28be2b['vcard'],null,0x2));_0x5ed40e=_0x5ed40e+'\x0a'+_0x994359;}if(_0x28be2b){let {sections:_0x512bb0,listType:_0x44385c,displayName:_0x31d893,vcard:_0x56720,contactVcard:_0x22641d,name:_0x585fca,caption:_0x434e97,conversation:_0x1da9bf,pollCreationMessageKey:_0x20c1ce,footerText:_0x8d319c,contentText:_0x193b5f,pageCount:_0x2dccde,headerType:_0x5d142f,isAvatar:_0x594e8b,isAnimated:_0x50ca22,fallbackLc:_0x4ba188,fallbackLg:_0x2b8f5a,namespace:_0x1fc3d6,elementName:_0x2b2728,localizableParams:_0xa7eb9e,viewOnce:_0x59609b,height:_0x3acd51,width:_0x1cc302,key:_0x18ef6c,firstScanLength:_0x3530fd,firstScanSidecar:_0x1ac6a4,gifPlayback:_0x4aeb39,gifAttribution:_0x3b7c98,midQualityFileSha256:_0x4f198c,scansSidecar:_0x14104a,streamingSidecar:_0x13690e,thumbnailHeight:_0x579fcb,thumbnailWidth:_0xe6202,thumbnailEncSha256:_0x233f1d,thumbnailDirectPath:_0x458ed7,canonicalUrl:_0x3cdeb2,matchedText:_0x5c0dd2,previewType:_0x496a3f,thumbnailSha256:_0x55a9bd,deviceListMetadataVersion:_0x21fcec,inviteLinkGroupTypeV2:_0x4ac0d8,interactiveAnnotations:_0x5ea798,scanLengths:_0x1de473,jpegThumbnail:_0x3aecb0,url:_0x42caf3,mediaKeyTimestamp:_0x3e3ec1,waveform:_0x3ebd51,stickerSentTs:_0xc27ce0,firstFrameLength:_0xdf304,fileEncSha256:_0x237e0c,contextInfo:_0x15635c,firstFrameSidecar:_0x293169,directPath:_0x278ba6,fileSha256:_0xce4395,mediaKey:_0x347755,senderTimestampMs:_0x22c17e,..._0x21d466}=_0x28be2b;(_0xfd58de===_0x8782b1(0x315)||_0xfd58de==='listResponseMessage')&&(delete _0x21d466['title'],delete _0x21d466[_0x8782b1(0x702)]),typeof _0x28be2b==_0x8782b1(0x1c7)?_0x11f38f={'text':_0x28be2b,'type':_0xfd58de||_0x8782b1(0x599),..._0x5eb431&&{'edited':_0x5eb431},..._0x355278&&{'quoted':_0x355278},..._0x2d4821&&{'reaction':_0x2d4821}}:_0x11f38f={'text':_0x5ed40e,..._0x21d466,..._0xfd58de===_0x8782b1(0x5d6)?{'poll_id':_0x28be2b[_0x8782b1(0x113)]['id'],'quoted':_0x28be2b[_0x8782b1(0x113)]['id'],'vote':_0x5abe91}:{},..._0xfd58de===_0x8782b1(0x48c)?{'vote':_0x5abe91}:{},'type':_0xfd58de,..._0x5eb431&&{'edited':_0x5eb431},..._0x355278&&{'quoted':_0x355278},..._0x2d4821&&{'reaction':_0x2d4821},...(_0xfd58de==='pollCreationMessage'||_0xfd58de===_0x8782b1(0x3c0)||_0xfd58de==='pollCreationMessageV3'||_0xfd58de===_0x8782b1(0x315))&&{'convertedOptions':_0x11f38f[_0x8782b1(0x6be)]}};}return{'messageType':_0xfd58de,'messageContent':_0x28be2b,'message_normalized':_0x11f38f};}catch(_0x3eedcb){return console[_0x8782b1(0x83d)](_0x8782b1(0x594),_0x3eedcb),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this[_0x3513c7(0x32b)][_0x3513c7(0x4e8)]={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x5bdda6(0x7eb)](_0x6bea8b){const _0x209539=a0_0x5bdda6;if(!_0x6bea8b){this[_0x209539(0x32b)]['name']=(0x0,Co['v4'])();return;}this[_0x209539(0x32b)]['name']=_0x6bea8b,this['sendDataWebhook'](_0x209539(0x2f8),{'instance':this[_0x209539(0x32b)][_0x209539(0x63e)],'status':_0x209539(0x7d3)});}get[a0_0x5bdda6(0x7eb)](){const _0x12eece=a0_0x5bdda6;return this[_0x12eece(0x32b)][_0x12eece(0x63e)];}get['wuid'](){const _0x284c5e=a0_0x5bdda6;return this[_0x284c5e(0x32b)]['wuid'];}async[a0_0x5bdda6(0x6e2)](){const _0x10ead5=a0_0x5bdda6;let _0x5701aa=this[_0x10ead5(0x249)][_0x10ead5(0x6ce)]?.[_0x10ead5(0x63e)]??this[_0x10ead5(0x249)][_0x10ead5(0x6ce)]?.[_0x10ead5(0x6a6)];if(!_0x5701aa){if(this[_0x10ead5(0x5b4)][_0x10ead5(0x1bb)](_0x10ead5(0x81b))[_0x10ead5(0x615)]){let _0x5bdafc=await A[_0x10ead5(0x513)]()['db'](this['configService'][_0x10ead5(0x1bb)](_0x10ead5(0x81b))['CONNECTION'][_0x10ead5(0x7d6)]+'-instances')[_0x10ead5(0x44d)](this['instanceName'])['findOne']({'_id':_0x10ead5(0x4fc)});if(_0x5bdafc){let _0x4f6c71=JSON[_0x10ead5(0x4b1)](JSON['stringify'](_0x5bdafc),f[_0x10ead5(0x3bd)][_0x10ead5(0x71a)]);_0x5701aa=_0x4f6c71['me']?.[_0x10ead5(0x63e)]||_0x4f6c71['me']?.[_0x10ead5(0x6a6)];}}else{if((0x0,De[_0x10ead5(0x38f)])((0x0,J[_0x10ead5(0x64d)])(fe,this[_0x10ead5(0x7eb)],_0x10ead5(0x215)))){let _0x1c1a15=JSON['parse']((0x0,De['readFileSync'])((0x0,J[_0x10ead5(0x64d)])(fe,this[_0x10ead5(0x7eb)],_0x10ead5(0x215)),{'encoding':_0x10ead5(0x760)}));_0x5701aa=_0x1c1a15['me']?.[_0x10ead5(0x63e)]||_0x1c1a15['me']?.[_0x10ead5(0x6a6)];}}}return _0x5701aa;}get[a0_0x5bdda6(0x157)](){const _0x495c9=a0_0x5bdda6;return this[_0x495c9(0x32b)][_0x495c9(0x157)];}get[a0_0x5bdda6(0x5db)](){const _0x55a12c=a0_0x5bdda6;return this[_0x55a12c(0x32b)][_0x55a12c(0x4e8)]?.[_0x55a12c(0x1ed)]?{'pairingCode':this[_0x55a12c(0x32b)]['qrcode']?.['pairingCode']}:{'code':this['instance']['qrcode']?.[_0x55a12c(0x681)],'base64':this[_0x55a12c(0x32b)][_0x55a12c(0x4e8)]?.['base64']};}async[a0_0x5bdda6(0x6ff)](){const _0x3e23f9=a0_0x5bdda6;let _0x223cc7=await this[_0x3e23f9(0x320)][_0x3e23f9(0x4c2)]['find'](this[_0x3e23f9(0x7eb)]);this[_0x3e23f9(0x735)][_0x3e23f9(0x379)]=_0x223cc7?.[_0x3e23f9(0x379)],this[_0x3e23f9(0x735)]['enabled']=_0x223cc7?.[_0x3e23f9(0x200)],this[_0x3e23f9(0x735)]['local_map']=_0x223cc7?.[_0x3e23f9(0x57f)],this[_0x3e23f9(0x735)][_0x3e23f9(0x642)]=_0x223cc7?.['STATUS_INSTANCE'],this[_0x3e23f9(0x735)]['QRCODE_UPDATED']=_0x223cc7?.[_0x3e23f9(0x537)],this[_0x3e23f9(0x735)][_0x3e23f9(0x65e)]=_0x223cc7?.[_0x3e23f9(0x65e)],this['localWebhook'][_0x3e23f9(0x526)]=_0x223cc7?.[_0x3e23f9(0x526)],this[_0x3e23f9(0x735)][_0x3e23f9(0x6aa)]=_0x223cc7?.[_0x3e23f9(0x6aa)],this[_0x3e23f9(0x735)][_0x3e23f9(0x5df)]=_0x223cc7?.[_0x3e23f9(0x5df)],this['localWebhook'][_0x3e23f9(0x1d0)]=_0x223cc7?.[_0x3e23f9(0x1d0)],this[_0x3e23f9(0x735)][_0x3e23f9(0x47a)]=_0x223cc7?.[_0x3e23f9(0x47a)],this['localWebhook'][_0x3e23f9(0x4ae)]=_0x223cc7?.['CHATS_SET'],this[_0x3e23f9(0x735)]['CHATS_UPSERT']=_0x223cc7?.[_0x3e23f9(0x5ec)],this[_0x3e23f9(0x735)][_0x3e23f9(0x11a)]=_0x223cc7?.[_0x3e23f9(0x11a)],this[_0x3e23f9(0x735)][_0x3e23f9(0x433)]=_0x223cc7?.[_0x3e23f9(0x433)],this[_0x3e23f9(0x735)][_0x3e23f9(0x1ce)]=_0x223cc7?.[_0x3e23f9(0x1ce)],this['localWebhook'][_0x3e23f9(0x304)]=_0x223cc7?.[_0x3e23f9(0x304)],this[_0x3e23f9(0x735)]['CONTACTS_UPDATE']=_0x223cc7?.[_0x3e23f9(0x2c3)],this[_0x3e23f9(0x735)][_0x3e23f9(0x46f)]=_0x223cc7?.[_0x3e23f9(0x46f)],this[_0x3e23f9(0x735)][_0x3e23f9(0x4bd)]=_0x223cc7?.[_0x3e23f9(0x4bd)],this['localWebhook'][_0x3e23f9(0x6f9)]=_0x223cc7?.[_0x3e23f9(0x6f9)],this[_0x3e23f9(0x735)]['groups_ignore']=_0x223cc7?.[_0x3e23f9(0x2a0)];}async['setWebhook'](_0x3e4d52){const _0x155cb6=a0_0x5bdda6;let _0x487e22=[_0x155cb6(0x38a),_0x155cb6(0x379),_0x155cb6(0x200),'local_map',_0x155cb6(0x642),_0x155cb6(0x537),_0x155cb6(0x6aa),_0x155cb6(0x526),'SEND_MESSAGE',_0x155cb6(0x5df),_0x155cb6(0x1d0),_0x155cb6(0x47a),'CHATS_SET','CHATS_UPSERT',_0x155cb6(0x11a),_0x155cb6(0x433),'CONTACTS_SET',_0x155cb6(0x304),_0x155cb6(0x2c3),_0x155cb6(0x46f),_0x155cb6(0x4bd),_0x155cb6(0x6f9),_0x155cb6(0x2a0)],_0x261af9={};return _0x487e22[_0x155cb6(0x3a3)](_0x49f3ca=>{_0x3e4d52[_0x49f3ca]!==void 0x0&&(_0x261af9[_0x49f3ca]=_0x3e4d52[_0x49f3ca]);}),_0x261af9['url']&&(_0x261af9[_0x155cb6(0x379)]=_0x261af9[_0x155cb6(0x379)]['trim']()),await this[_0x155cb6(0x320)]['webhook'][_0x155cb6(0x812)](_0x261af9,this[_0x155cb6(0x7eb)]),Object[_0x155cb6(0x6d2)](this[_0x155cb6(0x735)],_0x261af9),await this[_0x155cb6(0x320)][_0x155cb6(0x4c2)][_0x155cb6(0x2b1)](this[_0x155cb6(0x7eb)]);}async['findWebhook'](){const _0x4b2053=a0_0x5bdda6;return await this['repository'][_0x4b2053(0x4c2)]['find'](this['instanceName']);}async['sendDataWebhook'](_0xa0489f,_0x220ff2){const _0xcaefd8=a0_0x5bdda6;let _0x3d3102=_0xa0489f[_0xcaefd8(0x4a9)](/[\.-]/gm,'_')['toUpperCase'](),_0x346af2=this['localWebhook'][_0xcaefd8(0x200)]&&(0x0,k['isURL'])(this[_0xcaefd8(0x735)][_0xcaefd8(0x379)])?this[_0xcaefd8(0x735)][_0xcaefd8(0x379)]+(this[_0xcaefd8(0x735)][_0xcaefd8(0x57f)]?this[_0xcaefd8(0x2af)][_0xa0489f]:''):null,_0x276790=this[_0xcaefd8(0x735)][_0x3d3102],_0x4b78df=ue&&ue[_0xcaefd8(0x200)]&&(0x0,k['isURL'])(ue['url'])?ue[_0xcaefd8(0x379)]+(ue[_0xcaefd8(0x57f)]?this['webhookMap'][_0xa0489f]:''):null,_0x146d23=ue?ue[_0x3d3102]:null;if(_0x276790&&_0x346af2)try{await Q[_0xcaefd8(0x79b)]['create']({'baseURL':_0x346af2})[_0xcaefd8(0x7da)]('',{'event':_0xa0489f,'instance':this['instance']['name'],'apikey':this[_0xcaefd8(0x32b)][_0xcaefd8(0x79e)],'data':_0x220ff2}),this[_0xcaefd8(0x34c)][_0xcaefd8(0x271)](this[_0xcaefd8(0x7eb)]+'\x20('+this[_0xcaefd8(0x32b)][_0xcaefd8(0x20d)]+_0xcaefd8(0x59c)+_0xa0489f+':\x20'+_0x346af2);}catch{this[_0xcaefd8(0x34c)][_0xcaefd8(0x83d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xcaefd8(0x334)+_0xa0489f+':\x20'+_0x346af2);}if(_0x146d23&&_0x4b78df)try{await Q['default'][_0xcaefd8(0x812)]({'baseURL':_0x4b78df})[_0xcaefd8(0x7da)]('',{'event':_0xa0489f,'instance':this['instance']['name'],'apikey':this['instance'][_0xcaefd8(0x79e)],'data':_0x220ff2}),this[_0xcaefd8(0x34c)][_0xcaefd8(0x271)](this['instanceName']+'\x20('+this[_0xcaefd8(0x32b)][_0xcaefd8(0x20d)]+_0xcaefd8(0x4f6)+_0xa0489f+':\x20'+_0x4b78df);}catch{this[_0xcaefd8(0x34c)][_0xcaefd8(0x83d)](this[_0xcaefd8(0x7eb)]+'\x20('+this[_0xcaefd8(0x32b)][_0xcaefd8(0x20d)]+_0xcaefd8(0x4ed)+_0xa0489f+':\x20'+_0x4b78df);}}async['connectionUpdate']({qr:_0x3538b6,connection:_0x37ce3f,lastDisconnect:_0x35e697}){const _0x233f53=a0_0x5bdda6;if(_0x3538b6){if(this[_0x233f53(0x32b)][_0x233f53(0x4e8)][_0x233f53(0x712)]===Nr)return this[_0x233f53(0x757)](_0x233f53(0x775),{'message':_0x233f53(0x438),'statusCode':f[_0x233f53(0x647)][_0x233f53(0x24b)]}),this['stateConnection']={'state':_0x233f53(0x392),'statusReason':f[_0x233f53(0x647)]['connectionClosed']},this[_0x233f53(0x757)]('connection.update',{'instance':this[_0x233f53(0x32b)][_0x233f53(0x63e)],...this['stateConnection']}),this[_0x233f53(0x757)](_0x233f53(0x2f8),{'instance':this[_0x233f53(0x32b)]['name'],'status':'removed'}),this[_0x233f53(0x320)][_0x233f53(0x31a)][_0x233f53(0x812)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x233f53(0x71b)]()},this[_0x233f53(0x32b)][_0x233f53(0x63e)]),this[_0x233f53(0x77e)]=!0x0,this[_0x233f53(0x5c1)][_0x233f53(0x5bb)](_0x233f53(0x2d5),this['instance'][_0x233f53(0x63e)]);this[_0x233f53(0x32b)][_0x233f53(0x4e8)]['count']++;let _0x2f7337={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};Eo[_0x233f53(0x79b)][_0x233f53(0x7f7)](_0x3538b6,_0x2f7337,(_0x531792,_0x1eb5c2)=>{const _0x45a7a0=_0x233f53;if(_0x531792){this['logger']['error'](this[_0x45a7a0(0x7eb)]+'\x20('+this['instance']['wuid']+_0x45a7a0(0x6bf)+(_0x531792 instanceof Error?_0x531792[_0x45a7a0(0x1f1)]:JSON[_0x45a7a0(0x5b8)](_0x531792,null,0x2)));return;}this[_0x45a7a0(0x32b)][_0x45a7a0(0x4e8)][_0x45a7a0(0x2de)]=_0x1eb5c2,this[_0x45a7a0(0x32b)][_0x45a7a0(0x4e8)]['code']=_0x3538b6,!this['phoneNumber']&&this[_0x45a7a0(0x757)](_0x45a7a0(0x775),{'qrcode':{'instance':this['instance'][_0x45a7a0(0x63e)],'pairingCode':this[_0x45a7a0(0x32b)]['qrcode']['pairingCode'],'code':_0x3538b6,'base64':_0x1eb5c2}});}),this[_0x233f53(0x146)]?this[_0x233f53(0x32b)][_0x233f53(0x4e8)]['pairingCode']||(await(0x0,f['delay'])(0x7d0),this['instance'][_0x233f53(0x4e8)][_0x233f53(0x1ed)]=await this['client'][_0x233f53(0x56a)](this[_0x233f53(0x146)])):this['instance'][_0x233f53(0x4e8)][_0x233f53(0x1ed)]=null,vo[_0x233f53(0x79b)][_0x233f53(0x4d9)](_0x3538b6,{'small':!0x0},_0x396189=>this[_0x233f53(0x34c)]['log'](_0x233f53(0x76d)+this[_0x233f53(0x32b)]['name']+',\x20qrcodeCount:\x20'+this['instance'][_0x233f53(0x4e8)]['count']+',\x20pairCode:\x20'+this[_0x233f53(0x32b)]['qrcode']['pairingCode']+'\x20}\x0a'+_0x396189));}if(_0x37ce3f&&(this['stateConnection']={'state':_0x37ce3f,'statusReason':_0x35e697?.[_0x233f53(0x83d)]?.[_0x233f53(0x1b5)]?.['statusCode']??0xc8},this[_0x233f53(0x757)](_0x233f53(0x63f),{'instance':this[_0x233f53(0x32b)]['name'],...this[_0x233f53(0x24d)]})),_0x37ce3f===_0x233f53(0x133)){if(this[_0x233f53(0x307)]++,this[_0x233f53(0x5b6)]['push'](Date['now']()),this[_0x233f53(0x5b6)]=this['reconnectTimestamps'][_0x233f53(0x539)](_0x42e30b=>Date[_0x233f53(0x71b)]()-_0x42e30b<this[_0x233f53(0x667)]),_0x35e697[_0x233f53(0x83d)]?.[_0x233f53(0x1b5)]?.['statusCode']!==f[_0x233f53(0x647)][_0x233f53(0x546)]&&this[_0x233f53(0x5b6)]['length']<=this[_0x233f53(0x7a4)])console[_0x233f53(0x271)](this[_0x233f53(0x7eb)]+_0x233f53(0x3eb)+this[_0x233f53(0x307)]+'/'+this[_0x233f53(0x7a4)]+_0x233f53(0x6c5)),console[_0x233f53(0x271)](_0x233f53(0x794)),await this[_0x233f53(0x791)]();else{this['sendDataWebhook'](_0x233f53(0x2f8),{'instance':this['instance'][_0x233f53(0x63e)],'status':_0x233f53(0x43f)}),this['instance']['ScheduleMessage']['isConnected']=!0x1,this[_0x233f53(0x320)][_0x233f53(0x4c2)][_0x233f53(0x469)](this['instanceName']),this[_0x233f53(0x320)]['auth'][_0x233f53(0x812)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x233f53(0x71b)]()},this[_0x233f53(0x32b)][_0x233f53(0x63e)]);try{this[_0x233f53(0x34c)][_0x233f53(0x1f6)](this[_0x233f53(0x7eb)]+'\x20('+this[_0x233f53(0x32b)][_0x233f53(0x20d)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x261c55=await this[_0x233f53(0x320)][_0x233f53(0x1f1)]['deleteAll'](this[_0x233f53(0x32b)][_0x233f53(0x20d)]);_0x261c55[_0x233f53(0x143)]?this[_0x233f53(0x34c)][_0x233f53(0x1f6)](this['instanceName']+'\x20('+this[_0x233f53(0x32b)][_0x233f53(0x20d)]+_0x233f53(0x350)):console[_0x233f53(0x83d)](_0x233f53(0x829),_0x261c55[_0x233f53(0x83d)]);}catch(_0x8b3715){console[_0x233f53(0x83d)](_0x233f53(0x174),_0x8b3715[_0x233f53(0x1f1)]);}this[_0x233f53(0x32b)]['ScheduleMessage'][_0x233f53(0x5ba)]!==null&&(this[_0x233f53(0x34c)][_0x233f53(0x1f6)](this[_0x233f53(0x7eb)]+'\x20('+this['instance']['wuid']+_0x233f53(0x342)),clearInterval(this['instance']['ScheduleMessage'][_0x233f53(0x5ba)]),this['instance'][_0x233f53(0x140)][_0x233f53(0x5ba)]=null),this[_0x233f53(0x34c)][_0x233f53(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x233f53(0x20d)]+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this[_0x233f53(0x5c1)][_0x233f53(0x5bb)](_0x233f53(0x494),this[_0x233f53(0x32b)][_0x233f53(0x63e)],'inner'),this[_0x233f53(0x249)]?.['ws']?.[_0x233f53(0x133)](),this['client']['end'](new Error(_0x233f53(0x1c9)));}}if(_0x37ce3f===_0x233f53(0x41f)){this[_0x233f53(0x249)]['ev']['flush'](),this[_0x233f53(0x4e7)],this[_0x233f53(0x32b)][_0x233f53(0x20d)]=this[_0x233f53(0x249)][_0x233f53(0x6ce)]['id'][_0x233f53(0x4a9)](/:\d+/,'')[_0x233f53(0x4a9)](_0x233f53(0x2e3),''),this[_0x233f53(0x32b)][_0x233f53(0x157)]=(await this[_0x233f53(0x2fd)](this['instance']['wuid']+_0x233f53(0x2e3)))['profilePictureUrl'],this[_0x233f53(0x320)][_0x233f53(0x31a)]['create']({'online':!0x0,'owner':this[_0x233f53(0x32b)]['wuid'],'lastDisconnect':null},this['instance']['name']);let _0x32c109=_0x233f53(0x6d5)+this[_0x233f53(0x32b)]['wuid'],_0x24a058=0x28,_0x57c4a6=Math[_0x233f53(0x60a)]((_0x24a058-_0x32c109[_0x233f53(0x29b)])/0x2),_0x2967eb='\x20'[_0x233f53(0x32e)](_0x57c4a6),_0x1e9823='CONECTADO\x20À\x20UAZAPI',_0x5def1d='Instância:\x20'+this['instance'][_0x233f53(0x63e)],_0x5d2195=(''+_0x2967eb+_0x32c109+_0x2967eb)[_0x233f53(0x76e)](_0x24a058,'\x20'),_0x4cd3ed=(''+_0x2967eb+_0x1e9823+_0x2967eb)[_0x233f53(0x76e)](_0x24a058,'\x20'),_0x2a88eb=(''+_0x2967eb+_0x5def1d+_0x2967eb)['padEnd'](_0x24a058,'\x20'),_0x39825d=Math[_0x233f53(0x684)](_0x5d2195[_0x233f53(0x29b)],_0x4cd3ed[_0x233f53(0x29b)],_0x2a88eb[_0x233f53(0x29b)]),_0x4ddda9=_0x5d2195[_0x233f53(0x76e)](_0x39825d,'\x20'),_0x216386=_0x4cd3ed[_0x233f53(0x76e)](_0x39825d,'\x20'),_0x1fc0e1=_0x2a88eb[_0x233f53(0x76e)](_0x39825d,'\x20');this[_0x233f53(0x34c)][_0x233f53(0x6a4)]((_0x233f53(0x230)+'─'[_0x233f53(0x32e)](_0x39825d)+_0x233f53(0x4ea)+_0x216386+_0x233f53(0x79a)+_0x1fc0e1+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4ddda9+_0x233f53(0x121)+'─'[_0x233f53(0x32e)](_0x39825d)+'┘')[_0x233f53(0x4a9)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x233f53(0x32b)][_0x233f53(0x140)]['isConnected']=!0x0;}}[a0_0x5bdda6(0x4e7)](){const _0x2b013f=a0_0x5bdda6;this[_0x2b013f(0x307)]=0x0,this[_0x2b013f(0x5b6)]=[];}async[a0_0x5bdda6(0x205)](_0x555291,_0x516765=!0x1){const _0x1a6c91=a0_0x5bdda6;try{let _0x4537e8=await this['repository'][_0x1a6c91(0x1f1)]['find']({'where':{'_id':_0x555291['id']}},this[_0x1a6c91(0x32b)]['wuid']);return _0x516765?_0x4537e8[0x0]:_0x4537e8[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x2aa212=a0_0x5bdda6;let _0x1b5364=this[_0x2aa212(0x5b4)][_0x2aa212(0x1bb)]('STORE'),_0x468ff2=this['configService'][_0x2aa212(0x1bb)](_0x2aa212(0x81b));_0x1b5364?.[_0x2aa212(0x224)]&&!_0x468ff2[_0x2aa212(0x615)]&&setInterval(()=>{const _0x16ce8e=_0x2aa212;try{for(let [_0x1b23ab,_0x592a34]of Object[_0x16ce8e(0x285)](_0x1b5364))_0x592a34===!0x0&&(0x0,_e[_0x16ce8e(0x6eb)])(_0x16ce8e(0x508)+(0x0,J[_0x16ce8e(0x64d)])(this[_0x16ce8e(0x4f8)],_0x1b23ab[_0x16ce8e(0x441)](),this[_0x16ce8e(0x32b)]['wuid'])+_0x16ce8e(0x5c9));}catch{}},(_0x1b5364?.[_0x2aa212(0x224)]??0xe10)*0x3e8);}async[a0_0x5bdda6(0x77a)](){const _0x6a99f8=a0_0x5bdda6;let _0x536497=this['configService'][_0x6a99f8(0x1bb)](_0x6a99f8(0x81b)),_0x38de8a=this[_0x6a99f8(0x5b4)]['get']('REDIS');return _0x38de8a?.[_0x6a99f8(0x615)]?await Rs(_0x38de8a,this[_0x6a99f8(0x32b)][_0x6a99f8(0x63e)]):_0x536497['ENABLED']?await Ns(this[_0x6a99f8(0x32b)]['name']):await(0x0,f['useMultiFileAuthState'])((0x0,J[_0x6a99f8(0x64d)])(fe,this[_0x6a99f8(0x32b)]['name']));}async[a0_0x5bdda6(0x54d)](){const _0x56d0ec=a0_0x5bdda6;let _0x41409a=()=>Math[_0x56d0ec(0x60a)](Math['random']()*0x2711)+0x7d0,_0xa668ba=async()=>{const _0x4ddb2a=_0x56d0ec;if(!this[_0x4ddb2a(0x32b)][_0x4ddb2a(0x140)]['isConnected']){this[_0x4ddb2a(0x34c)][_0x4ddb2a(0x1f6)](_0x4ddb2a(0x7df)),this[_0x4ddb2a(0x33a)]=!0x1;return;}if(this[_0x4ddb2a(0x32b)][_0x4ddb2a(0x20d)]&&this['AutomateSystem']&&this[_0x4ddb2a(0x32b)][_0x4ddb2a(0x140)][_0x4ddb2a(0x5ba)]!==null&&this['instance'][_0x4ddb2a(0x140)][_0x4ddb2a(0x5ba)]!==void 0x0){let _0x499f18=Math['round'](this['instance'][_0x4ddb2a(0x140)][_0x4ddb2a(0x5ba)]/0xea60);this['logger'][_0x4ddb2a(0x1f6)](this[_0x4ddb2a(0x7eb)]+'\x20('+this[_0x4ddb2a(0x32b)][_0x4ddb2a(0x20d)]+_0x4ddb2a(0x466)+_0x499f18+_0x4ddb2a(0x346)),this[_0x4ddb2a(0x33a)]=!0x1;return;}else this[_0x4ddb2a(0x32b)][_0x4ddb2a(0x20d)]&&(this[_0x4ddb2a(0x34c)][_0x4ddb2a(0x1f6)](this[_0x4ddb2a(0x7eb)]+'\x20('+this['instance'][_0x4ddb2a(0x20d)]+_0x4ddb2a(0x134)),this['AutomateSystem']||(await this[_0x4ddb2a(0x252)](),this[_0x4ddb2a(0x83f)]()),(this[_0x4ddb2a(0x32b)]['ScheduleMessage'][_0x4ddb2a(0x5ba)]===null||this[_0x4ddb2a(0x32b)]['ScheduleMessage']['delayMessage']===void 0x0)&&await this[_0x4ddb2a(0x7cb)]());if(this['isRunning']){let _0xc1e75d=_0x41409a();this['logger']['verbose'](this[_0x4ddb2a(0x7eb)]+_0x4ddb2a(0x678)+_0xc1e75d/0x3e8+_0x4ddb2a(0x177)),setTimeout(_0xa668ba,_0xc1e75d);}};if(this[_0x56d0ec(0x33a)])return;this[_0x56d0ec(0x33a)]=!0x0;let _0x148559=_0x41409a();setTimeout(_0xa668ba,_0x148559);}async[a0_0x5bdda6(0x3ee)](_0x3b2694=0x0,_0x3c0625=!0x1){const _0x1ccd51=a0_0x5bdda6;try{let _0x63346b=this[_0x1ccd51(0x5b4)]['get'](_0x1ccd51(0x387));if(_0x63346b!==0x1||typeof _0x63346b>'u'||_0x3b2694>=0x5)return this[_0x1ccd51(0x34c)]['warn'](_0x1ccd51(0x68c)),this[_0x1ccd51(0x320)][_0x1ccd51(0x31a)][_0x1ccd51(0x812)]({'ip':null},this[_0x1ccd51(0x32b)][_0x1ccd51(0x63e)]),{};this[_0x1ccd51(0x34c)]['verbose'](this[_0x1ccd51(0x7eb)]+_0x1ccd51(0x112)+(_0x3b2694+0x1)+_0x1ccd51(0x265));let _0x4a84fb;if(!_0x3c0625){let _0x3d7c02=await this[_0x1ccd51(0x320)][_0x1ccd51(0x31a)]['find'](this[_0x1ccd51(0x7eb)]);_0x3d7c02&&_0x3d7c02['ip']&&(_0x4a84fb=yo(_0x3d7c02['ip']));}if((!_0x4a84fb||!$s(_0x4a84fb))&&(this[_0x1ccd51(0x34c)][_0x1ccd51(0x1f4)](this[_0x1ccd51(0x7eb)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x4a84fb=bo()),_0x4a84fb&&$s(_0x4a84fb)){let _0x2284cd=_0x4a84fb[_0x1ccd51(0x2e4)]&&_0x4a84fb['password']?_0x4a84fb[_0x1ccd51(0x25c)]+_0x1ccd51(0x3d3)+_0x4a84fb['username']+':'+_0x4a84fb[_0x1ccd51(0x353)]+'@'+_0x4a84fb[_0x1ccd51(0x6f8)]+':'+_0x4a84fb['port']:_0x4a84fb[_0x1ccd51(0x25c)]+'://'+_0x4a84fb[_0x1ccd51(0x6f8)]+':'+_0x4a84fb[_0x1ccd51(0x333)];return await this[_0x1ccd51(0x696)](_0x2284cd,_0x4a84fb[_0x1ccd51(0x6f8)])?(this[_0x1ccd51(0x34c)][_0x1ccd51(0x1f6)](this[_0x1ccd51(0x7eb)]+_0x1ccd51(0x4f1)),this['repository'][_0x1ccd51(0x31a)][_0x1ccd51(0x812)]({'ip':_0x4a84fb['host']},this[_0x1ccd51(0x32b)]['name']),{'agent':new Ft[(_0x1ccd51(0x636))](_0x2284cd),'fetchAgent':new Ft[(_0x1ccd51(0x636))](_0x2284cd)}):(this[_0x1ccd51(0x34c)]['warn'](this[_0x1ccd51(0x7eb)]+_0x1ccd51(0x24c)),await(0x0,f['delay'])(0xc8),this[_0x1ccd51(0x3ee)](_0x3b2694+0x1,!0x0));}else return this[_0x1ccd51(0x34c)][_0x1ccd51(0x1f4)](this[_0x1ccd51(0x7eb)]+_0x1ccd51(0x607)),await(0x0,f[_0x1ccd51(0x500)])(0xc8),this[_0x1ccd51(0x3ee)](_0x3b2694+0x1,!0x0);}catch(_0x4181dc){return this[_0x1ccd51(0x34c)][_0x1ccd51(0x83d)](this[_0x1ccd51(0x7eb)]+_0x1ccd51(0x279)+_0x4181dc['message']),{};}}async[a0_0x5bdda6(0x696)](_0x5029fa,_0x2dbd3c){const _0xe46bf3=a0_0x5bdda6;let _0x2223f3=new Ft[(_0xe46bf3(0x636))](_0x5029fa),_0xe10859=0x1388,_0x397008=[{'url':_0xe46bf3(0x298),'parse':_0x54738e=>_0x54738e['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x226913=>_0x226913['ip']},{'url':_0xe46bf3(0x7b7),'parse':_0x5c99e2=>_0x5c99e2['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0xe46bf3(0x768),'parse':_0x165ace=>_0x165ace['ip']},{'url':_0xe46bf3(0x3f9),'parse':_0x410977=>_0x410977['trim']()},{'url':_0xe46bf3(0x50a),'parse':_0x1aec4b=>_0x1aec4b[_0xe46bf3(0x7bc)]()},{'url':_0xe46bf3(0x49b),'parse':_0x1462ae=>_0x1462ae[_0xe46bf3(0x16b)]},{'url':_0xe46bf3(0x118),'parse':_0x46c8e7=>_0x46c8e7['trim']()},{'url':_0xe46bf3(0x43c),'parse':_0x2892c1=>_0x2892c1['trim']()}],_0xcd0367=_0x397008[Math[_0xe46bf3(0x60a)](Math['random']()*_0x397008[_0xe46bf3(0x29b)])];try{let _0x24b7c9=await Q[_0xe46bf3(0x79b)][_0xe46bf3(0x1bb)](_0xcd0367['url'],{'httpsAgent':_0x2223f3,'timeout':_0xe10859}),_0x591440=_0xcd0367['parse'](_0x24b7c9[_0xe46bf3(0x6d0)]);return _0x591440===_0x2dbd3c?(this[_0xe46bf3(0x34c)][_0xe46bf3(0x1f6)](this[_0xe46bf3(0x7eb)]+_0xe46bf3(0x5d9)+_0x2dbd3c+'\x20-\x20retornado:\x20'+_0x591440+_0xe46bf3(0x3f6)),!0x0):(this['logger'][_0xe46bf3(0x83d)](this[_0xe46bf3(0x7eb)]+':\x20IP\x20configurado:\x20'+_0x2dbd3c+_0xe46bf3(0x610)+_0x591440+_0xe46bf3(0x340)),!0x1);}catch(_0x4bcb98){return this['logger'][_0xe46bf3(0x83d)](this['instanceName']+_0xe46bf3(0x7a5)+_0xcd0367[_0xe46bf3(0x379)]+':\x20'+_0x4bcb98[_0xe46bf3(0x1f1)]),!0x1;}}async['connectToWhatsapp'](_0x36be23){const _0xbaafb1=a0_0x5bdda6;try{let _0x3910f1=await this[_0xbaafb1(0x3ee)]();this[_0xbaafb1(0x6ff)](),this['instance'][_0xbaafb1(0x79e)]=(await this[_0xbaafb1(0x320)][_0xbaafb1(0x31a)][_0xbaafb1(0x2b1)](this['instance']['name']))['apikey'],this[_0xbaafb1(0x32b)]['authState']=await this[_0xbaafb1(0x77a)]();let {version:_0x18dcb8}=await(0x0,f[_0xbaafb1(0x3f0)])(),_0x58b6cf=[No,xs,(0x0,Os[_0xbaafb1(0x641)])()],_0x5e6fd3={..._0x3910f1,'auth':{'creds':this[_0xbaafb1(0x32b)][_0xbaafb1(0x4de)][_0xbaafb1(0x28e)][_0xbaafb1(0x4fc)],'keys':(0x0,f[_0xbaafb1(0x194)])(this[_0xbaafb1(0x32b)]['authState']['state'][_0xbaafb1(0x45d)],(0x0,kt[_0xbaafb1(0x79b)])({'level':'error'}))},'logger':(0x0,kt[_0xbaafb1(0x79b)])({'level':_0xbaafb1(0x83d)}),'printQRInTerminal':!0x1,'browser':_0x36be23?[_0xbaafb1(0x548),xs,(0x0,Os[_0xbaafb1(0x641)])()]:_0x58b6cf,'version':_0x18dcb8,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x15f1b0=>{const _0x569dfa=_0xbaafb1;let _0x24f4db=_0x15f1b0[_0x569dfa(0x4dc)](_0x569dfa(0x4c4)),_0x2734e1=this[_0x569dfa(0x735)]?.[_0x569dfa(0x2a0)]&&_0x15f1b0[_0x569dfa(0x4dc)](_0x569dfa(0x5ca));return _0x24f4db||(0x0,f[_0x569dfa(0x2cb)])(_0x15f1b0)||_0x2734e1;},'msgRetryCounterCache':this[_0xbaafb1(0x632)],'getMessage':async _0x49df8f=>await this[_0xbaafb1(0x205)](_0x49df8f),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4d9d7e=>(_0x4d9d7e[_0xbaafb1(0x315)]?.[_0xbaafb1(0x37a)]==f[_0xbaafb1(0x752)][_0xbaafb1(0x2c2)][_0xbaafb1(0x44f)][_0xbaafb1(0x6d9)][_0xbaafb1(0x444)]&&(_0x4d9d7e=JSON[_0xbaafb1(0x4b1)](JSON['stringify'](_0x4d9d7e)),_0x4d9d7e[_0xbaafb1(0x315)][_0xbaafb1(0x37a)]=f[_0xbaafb1(0x752)][_0xbaafb1(0x2c2)][_0xbaafb1(0x44f)]['ListType']['SINGLE_SELECT']),_0x4d9d7e)};return this[_0xbaafb1(0x77e)]=!0x1,this['client']=(0x0,f[_0xbaafb1(0x79b)])(_0x5e6fd3),this[_0xbaafb1(0x241)](),this[_0xbaafb1(0x146)]=_0x36be23,this[_0xbaafb1(0x249)];}catch(_0x41e76a){let _0x4c9d9a='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x5373d4=_0x41e76a instanceof Error?_0x41e76a['message']:typeof _0x41e76a==_0xbaafb1(0x53a)?JSON['stringify'](_0x41e76a):_0x41e76a,_0x3a8e6a=_0x4c9d9a+':\x20'+_0x5373d4;throw this[_0xbaafb1(0x34c)][_0xbaafb1(0x83d)](this[_0xbaafb1(0x7eb)]+'\x20('+this['instance'][_0xbaafb1(0x20d)]+_0xbaafb1(0x413)+_0x3a8e6a),new x(_0x3a8e6a);}}['eventHandler'](){const _0x2faa5d=a0_0x5bdda6;this[_0x2faa5d(0x249)]['ev'][_0x2faa5d(0x671)](_0x173885=>{const _0x3e9b24=_0x2faa5d;if(!this['endSession']){let _0x31f0bc=this['configService'][_0x3e9b24(0x1bb)](_0x3e9b24(0x81b));if(_0x173885[_0x3e9b24(0x2c9)]){let _0x3e0933=_0x173885[_0x3e9b24(0x2c9)];this[_0x3e9b24(0x2bb)]['labels.edit'](_0x3e0933);}if(_0x173885['labels.association']){let _0x1441dd=_0x173885['labels.association'];this['messageHandle'][_0x3e9b24(0x612)](_0x1441dd);}if(_0x173885[_0x3e9b24(0x63f)]&&this[_0x3e9b24(0x1b9)](_0x173885['connection.update']),_0x173885[_0x3e9b24(0x5e2)]&&this['instance']['authState']['saveCreds'](),_0x173885['messaging-history.set']){let _0x54284d=_0x173885[_0x3e9b24(0x286)];this[_0x3e9b24(0x2bb)][_0x3e9b24(0x286)](_0x54284d,_0x31f0bc);}if(_0x173885[_0x3e9b24(0x208)]){let _0x2996c0=_0x173885['messages.upsert'];this['messageHandle']['messages.upsert'](_0x2996c0,_0x31f0bc);}if(_0x173885[_0x3e9b24(0x175)]){let _0xbd14d6=_0x173885[_0x3e9b24(0x175)];_0xbd14d6[_0x3e9b24(0x3a3)](_0x458690=>{const _0x1ad001=_0x3e9b24;if(Mo[_0x458690[_0x1ad001(0x4d8)]['id']]){this[_0x1ad001(0x249)]['ev'][_0x1ad001(0x5bb)]('messages.upsert',{'messages':[_0x458690],'type':_0x1ad001(0x593)}),delete Mo[_0x458690[_0x1ad001(0x4d8)]['id']];return;}}),this[_0x3e9b24(0x2bb)][_0x3e9b24(0x175)](_0xbd14d6,_0x31f0bc);}if(_0x173885[_0x3e9b24(0x56b)]){let _0x2f78b3=_0x173885[_0x3e9b24(0x56b)];if(this[_0x3e9b24(0x735)]?.['groups_ignore']&&_0x2f78b3['id']['includes'](_0x3e9b24(0x5ca)))return;this[_0x3e9b24(0x757)]('presence.update',_0x2f78b3);}if(_0x173885[_0x3e9b24(0x47e)]){let _0x4e26e1=_0x173885['groups.upsert'];this[_0x3e9b24(0x301)]['groups.upsert'](_0x4e26e1);}if(_0x173885[_0x3e9b24(0x663)]){let _0x48865d=_0x173885[_0x3e9b24(0x663)];this[_0x3e9b24(0x301)][_0x3e9b24(0x663)](_0x48865d);}if(_0x173885[_0x3e9b24(0x543)]){let _0x14fa37=_0x173885[_0x3e9b24(0x543)];this[_0x3e9b24(0x301)][_0x3e9b24(0x543)](_0x14fa37);}if(_0x173885[_0x3e9b24(0x7d5)]){let _0x479790=_0x173885[_0x3e9b24(0x7d5)];this['chatHandle'][_0x3e9b24(0x7d5)](_0x479790,_0x31f0bc);}if(_0x173885[_0x3e9b24(0x553)]){let _0x465634=_0x173885[_0x3e9b24(0x553)];this[_0x3e9b24(0x39c)]['chats.update'](_0x465634,_0x31f0bc);}if(_0x173885[_0x3e9b24(0x550)]){let _0x241e1a=_0x173885[_0x3e9b24(0x550)];this['chatHandle'][_0x3e9b24(0x550)](_0x241e1a);}if(_0x173885[_0x3e9b24(0x3c3)]){let _0x3b39ec=_0x173885[_0x3e9b24(0x3c3)];this[_0x3e9b24(0x3a6)]['contacts.upsert'](_0x3b39ec,_0x31f0bc);}if(_0x173885[_0x3e9b24(0x796)]){let _0x17f711=_0x173885[_0x3e9b24(0x796)];this['contactHandle']['contacts.update'](_0x17f711,_0x31f0bc);}}});}[a0_0x5bdda6(0x529)](_0xad640e){return new Promise(_0x2b144f=>setTimeout(_0x2b144f,_0xad640e));}[a0_0x5bdda6(0x6c6)](_0xa44740){const _0x195943=a0_0x5bdda6;_0xa44740=_0xa44740[_0x195943(0x4a9)](/\D/g,'');let _0x22615a=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x195943(0x810)](_0xa44740);if(_0x22615a&&_0x22615a[0x1]==='55'){let _0x19057c=_0x22615a[0x2],_0x3d210c=_0x22615a[0x3],_0xb5be48=_0x22615a[0x4];if(parseInt(_0x19057c)>=0x1f&&_0x3d210c==='9')return _0x22615a[0x1]+_0x19057c+_0xb5be48;}return _0xa44740;}[a0_0x5bdda6(0x78e)](_0x582d9d){const _0x403a7e=a0_0x5bdda6;return _0x582d9d['includes'](_0x403a7e(0x5ca))||_0x582d9d[_0x403a7e(0x71f)](_0x403a7e(0x2e3))||_0x582d9d[_0x403a7e(0x71f)](_0x403a7e(0x3fd))?_0x582d9d:(_0x582d9d=_0x582d9d?.[_0x403a7e(0x4a9)](/\s/g,'')[_0x403a7e(0x4a9)](/\+/g,'')[_0x403a7e(0x4a9)](/\(/g,'')['replace'](/\)/g,'')[_0x403a7e(0x771)](/\:/)[0x0]['split']('@')[0x0],_0x582d9d[_0x403a7e(0x29b)]>=0x12?(_0x582d9d=_0x582d9d[_0x403a7e(0x4a9)](/[^\d-]/g,''),_0x582d9d+_0x403a7e(0x5ca)):(_0x582d9d=_0x582d9d['replace'](/\D/g,''),_0x582d9d+'@s.whatsapp.net'));}async[a0_0x5bdda6(0x714)](_0x1a966b){const _0x4a1d73=a0_0x5bdda6;let _0x3230f6=(await this[_0x4a1d73(0x3db)]({'numbers':[_0x1a966b['number']]}))[0x0];if(!_0x3230f6[_0x4a1d73(0x2d9)]&&!(0x0,f['isJidGroup'])(_0x3230f6[_0x4a1d73(0x518)])&&!_0x3230f6[_0x4a1d73(0x518)]['includes'](_0x4a1d73(0x3fd)))throw new m(_0x3230f6);let _0x502ba5=_0x3230f6[_0x4a1d73(0x518)];try{return await this['client'][_0x4a1d73(0x5b7)](_0x502ba5),await this[_0x4a1d73(0x249)][_0x4a1d73(0x5bf)](_0x1a966b[_0x4a1d73(0x7c3)],_0x502ba5),{'status':0xc8,'presence':_0x1a966b['presence']};}catch(_0x57bf42){let _0x5e80e0='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x5301a6=_0x57bf42 instanceof Error?_0x57bf42['message']:typeof _0x57bf42==_0x4a1d73(0x53a)?JSON['stringify'](_0x57bf42):_0x57bf42,_0x5d7466=_0x5e80e0+':\x20'+_0x5301a6;throw this['logger'][_0x4a1d73(0x83d)](this['instanceName']+'\x20('+this[_0x4a1d73(0x32b)][_0x4a1d73(0x20d)]+_0x4a1d73(0x413)+_0x5d7466),new m(_0x5d7466);}}async[a0_0x5bdda6(0x21b)](_0x20ce74,_0x3a92b1,_0x3c3b2f,_0x5296d9=!0x0){const _0x22e0e7=a0_0x5bdda6;let _0x14d7fc=await this[_0x22e0e7(0x320)][_0x22e0e7(0x15c)][_0x22e0e7(0x28c)]({'where':{'_id':_0x20ce74}});if(!_0x14d7fc&&!_0x5296d9)return;let _0x5a27b6={'lastUpdate':Date[_0x22e0e7(0x71b)]()};if(_0x3c3b2f||!_0x14d7fc?.[_0x22e0e7(0x247)]||Date[_0x22e0e7(0x71b)]()-_0x14d7fc[_0x22e0e7(0x247)]>0x18*0x3c*0x3c*0x3e8)try{let _0x1d3eaa=(await this[_0x22e0e7(0x2fd)](_0x20ce74))[_0x22e0e7(0x157)];_0x5a27b6[_0x22e0e7(0x524)]=_0x1d3eaa;}catch(_0x5d64ef){let _0x66a814=_0x22e0e7(0x71e),_0x1db594=_0x5d64ef instanceof Error?_0x5d64ef[_0x22e0e7(0x1f1)]:typeof _0x5d64ef=='object'?JSON[_0x22e0e7(0x5b8)](_0x5d64ef):_0x5d64ef,_0x2f8c7e=_0x66a814+':\x20'+_0x1db594;throw this[_0x22e0e7(0x34c)][_0x22e0e7(0x83d)](this['instanceName']+'\x20('+this['instance'][_0x22e0e7(0x20d)]+_0x22e0e7(0x413)+_0x2f8c7e),new m(_0x2f8c7e);}return _0x3a92b1&&_0x14d7fc?.['name']!==_0x3a92b1&&(_0x5a27b6[_0x22e0e7(0x63e)]=_0x3a92b1),Object[_0x22e0e7(0x45d)](_0x5a27b6)[_0x22e0e7(0x29b)]>0x1&&(_0x14d7fc?await this[_0x22e0e7(0x320)][_0x22e0e7(0x15c)][_0x22e0e7(0x674)]({'where':{'_id':_0x20ce74}},_0x5a27b6):await this['repository'][_0x22e0e7(0x15c)][_0x22e0e7(0x72e)]([{'_id':_0x20ce74,..._0x5a27b6}]),_0x14d7fc={..._0x14d7fc,..._0x5a27b6}),{'cachedContact':_0x14d7fc};}async['profilePicture'](_0x4d6ef6){const _0x54b342=a0_0x5bdda6;let _0x1730b7=this[_0x54b342(0x78e)](_0x4d6ef6);try{return{'wuid':_0x1730b7,'profilePictureUrl':await this[_0x54b342(0x249)][_0x54b342(0x157)](_0x1730b7,_0x54b342(0x614))};}catch{return{'wuid':_0x1730b7,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0xbebd7a,_0x4efade,_0x54bb1f){const _0x1e716c=a0_0x5bdda6;let _0xc387fe=0x0,_0x4f85b1=0x3;for(;_0xc387fe<_0x4f85b1;)try{_0x54bb1f||(_0x54bb1f={});let _0x5bca9b=(await this[_0x1e716c(0x3db)]({'numbers':[_0xbebd7a]}))[0x0];if(!_0x5bca9b[_0x1e716c(0x2d9)]&&!(0x0,f[_0x1e716c(0x464)])(_0x5bca9b[_0x1e716c(0x518)])&&!_0x5bca9b[_0x1e716c(0x518)][_0x1e716c(0x71f)]('@broadcast'))throw console[_0x1e716c(0x83d)](_0x5bca9b),new m(_0x5bca9b);let _0x5bf19d=_0x5bca9b[_0x1e716c(0x518)];if(_0x54bb1f?.['delay']){await this[_0x1e716c(0x249)]['presenceSubscribe'](_0x5bf19d),await this[_0x1e716c(0x249)]['sendPresenceUpdate'](_0x54bb1f?.['presence']??_0x1e716c(0x2e7),_0x5bf19d);let _0x14541d=Math[_0x1e716c(0x2ba)](_0x54bb1f[_0x1e716c(0x500)],0x2710);await(0x0,f[_0x1e716c(0x500)])(_0x14541d),await this['client'][_0x1e716c(0x5bf)](_0x1e716c(0x428),_0x5bf19d);}let _0x104a45=_0x54bb1f?.[_0x1e716c(0x7c2)]!=!0x1?void 0x0:!0x1,_0x2b1bd8;if(_0x54bb1f?.[_0x1e716c(0x826)]){let _0x4cfde3=_0x54bb1f?.[_0x1e716c(0x826)],_0x2fbee8=_0x4cfde3?.['message']?_0x4cfde3:await this[_0x1e716c(0x205)](_0x4cfde3[_0x1e716c(0x4d8)],!0x0);if(!_0x2fbee8)throw _0x1e716c(0x597);_0x2b1bd8=_0x2fbee8;}let _0x208183;if((0x0,f['isJidGroup'])(_0x5bf19d))try{let _0x5127af=(await this[_0x1e716c(0x320)][_0x1e716c(0x638)][_0x1e716c(0x28c)]({'where':{'_id':_0x5bf19d}},this[_0x1e716c(0x32b)][_0x1e716c(0x20d)]))?.[_0x1e716c(0x4e6)];if(!_0x5127af)throw new q('Group\x20not\x20found');_0x54bb1f?.['mentions']&&(_0x54bb1f['mentions']?.['everyOne']?_0x208183=_0x5127af[_0x1e716c(0x504)]['map'](_0x12acc1=>_0x12acc1['id']):_0x54bb1f[_0x1e716c(0x4b0)]?.['mentioned']?.[_0x1e716c(0x29b)]&&(_0x208183=_0x54bb1f[_0x1e716c(0x4b0)][_0x1e716c(0x3b9)][_0x1e716c(0x2b0)](_0x2d7517=>{const _0x580516=_0x1e716c;let _0x1f7eb5=this[_0x580516(0x78e)](_0x2d7517);return(0x0,f[_0x580516(0x464)])(_0x1f7eb5)?null:_0x1f7eb5;})));}catch{throw new q(_0x1e716c(0x5f0));}let _0x28e6f1=await this[_0x1e716c(0x320)][_0x1e716c(0x638)][_0x1e716c(0x28c)]({'where':{'_id':_0x5bf19d}},this[_0x1e716c(0x32b)]['wuid']),_0x57ee44=await((async()=>{const _0x2af0fa=_0x1e716c;let _0x29e880={'quoted':_0x2b1bd8,'ephemeralExpiration':_0x28e6f1?.[_0x2af0fa(0x81d)]??0x0};if(!_0x4efade[_0x2af0fa(0x489)]&&!_0x4efade[_0x2af0fa(0x2aa)]&&!_0x4efade['sticker']&&!_0x4efade[_0x2af0fa(0x599)]&&_0x5bf19d!==_0x2af0fa(0x386)&&!_0x4efade[_0x2af0fa(0x489)])return await this['client'][_0x2af0fa(0x61b)](_0x5bf19d,{'forward':{'key':{'remoteJid':this[_0x2af0fa(0x32b)][_0x2af0fa(0x20d)],'fromMe':!0x0},'message':_0x4efade},'mentions':_0x208183},_0x29e880);if(_0x4efade[_0x2af0fa(0x5f6)])return await this[_0x2af0fa(0x249)][_0x2af0fa(0x61b)](_0x5bf19d,{'react':{'text':_0x4efade[_0x2af0fa(0x5f6)][_0x2af0fa(0x3ce)],'key':_0x4efade['reactionMessage'][_0x2af0fa(0x4d8)]}},_0x29e880);if(_0x4efade['conversation']){let _0x4bccd4=_0x4efade[_0x2af0fa(0x599)];return _0x54bb1f?.['changeVariables']&&(_0x4bccd4=await this[_0x2af0fa(0x24a)](_0x4bccd4,_0x5bf19d)),await this[_0x2af0fa(0x249)]['sendMessage'](_0x5bf19d,{'text':_0x4bccd4,'mentions':_0x208183,'linkPreview':_0x104a45},_0x29e880);}return _0x5bf19d===_0x2af0fa(0x386)?await this[_0x2af0fa(0x249)]['sendMessage'](_0x5bf19d,_0x4efade['status'][_0x2af0fa(0x26f)],{'backgroundColor':_0x4efade[_0x2af0fa(0x390)][_0x2af0fa(0x6a3)]['backgroundColor'],'font':_0x4efade[_0x2af0fa(0x390)][_0x2af0fa(0x6a3)][_0x2af0fa(0x521)],'statusJidList':_0x4efade[_0x2af0fa(0x390)][_0x2af0fa(0x6a3)][_0x2af0fa(0x1e0)]}):await this[_0x2af0fa(0x249)][_0x2af0fa(0x61b)](_0x5bf19d,_0x4efade,_0x29e880);})()),_0x2a2f1a=(0x0,f['normalizeMessageContent'])(_0x57ee44[_0x1e716c(0x1f1)]),_0x318467=(0x0,f[_0x1e716c(0x22b)])(_0x2a2f1a),{message_normalized:_0x3274e3}=this[_0x1e716c(0x53f)](_0x2a2f1a,_0x318467,null),_0x4e670b={'_id':_0x57ee44[_0x1e716c(0x4d8)]['id'],'key':_0x57ee44[_0x1e716c(0x4d8)],'pushName':_0x57ee44[_0x1e716c(0x689)],'isGroup':_0x57ee44[_0x1e716c(0x4d8)][_0x1e716c(0x4c8)][_0x1e716c(0x4dc)]('@g.us'),'profilePictureUrl':this[_0x1e716c(0x32b)][_0x1e716c(0x157)],'message':_0x2a2f1a,'messageType':_0x318467,'message_normalized':{'key':_0x57ee44[_0x1e716c(0x4d8)],'pushName':_0x57ee44['pushName'],'messageTimestamp':_0x57ee44[_0x1e716c(0x2d8)]&&_0x57ee44['messageTimestamp'][_0x1e716c(0x58f)]()['length']<0xd?_0x57ee44['messageTimestamp']*0x3e8:_0x57ee44[_0x1e716c(0x2d8)]||null,'source':(0x0,f['getDevice'])(_0x57ee44['key']['id']),..._0x3274e3},'messageTimestamp':_0x57ee44[_0x1e716c(0x2d8)]&&_0x57ee44[_0x1e716c(0x2d8)]['toString']()[_0x1e716c(0x29b)]<0xd?_0x57ee44[_0x1e716c(0x2d8)]*0x3e8:_0x57ee44[_0x1e716c(0x2d8)]||null,'owner':this[_0x1e716c(0x32b)]['wuid'],'source':(0x0,f[_0x1e716c(0x79f)])(_0x57ee44[_0x1e716c(0x4d8)]['id'])};return this[_0x1e716c(0x34c)][_0x1e716c(0x1f4)](this['instanceName']+'\x20('+this[_0x1e716c(0x32b)][_0x1e716c(0x20d)]+_0x1e716c(0x370)+_0x4e670b[_0x1e716c(0x4d8)]?.[_0x1e716c(0x4c8)][_0x1e716c(0x4a9)](_0x1e716c(0x2e3),'')+']\x20('+_0x4e670b[_0x1e716c(0x59a)]+')'),_0x4e670b[_0x1e716c(0x6ec)]?.[_0x1e716c(0x3ce)]&&this[_0x1e716c(0x34c)][_0x1e716c(0x1f4)](_0x4e670b[_0x1e716c(0x6ec)]?.[_0x1e716c(0x3ce)]),this[_0x1e716c(0x757)]('send.message',_0x4e670b),U(this[_0x1e716c(0x7eb)],'messages',{'message':_0x4e670b}),this[_0x1e716c(0x5c3)](this[_0x1e716c(0x5b4)][_0x1e716c(0x1bb)]('DATABASE'),_0x4e670b,_0x1e716c(0x65e),_0x28e6f1),this['repository'][_0x1e716c(0x1f1)][_0x1e716c(0x72e)]([_0x4e670b],this[_0x1e716c(0x32b)][_0x1e716c(0x20d)]),_0x57ee44;}catch(_0xa742ab){if(this[_0x1e716c(0x34c)][_0x1e716c(0x83d)](_0x1e716c(0x375)+(_0xc387fe+0x1)+_0x1e716c(0x7b1)),_0xc387fe++,_0xc387fe>=_0x4f85b1){this[_0x1e716c(0x34c)][_0x1e716c(0x83d)](_0x1e716c(0x325)+_0xbebd7a);let _0x567ae7=_0x1e716c(0x42a),_0x226c69=_0xa742ab instanceof Error?_0xa742ab[_0x1e716c(0x1f1)]:typeof _0xa742ab==_0x1e716c(0x53a)?JSON['stringify'](_0xa742ab):_0xa742ab,_0xd15ad1=_0x567ae7+':\x20'+_0x226c69;throw this[_0x1e716c(0x34c)]['error'](this[_0x1e716c(0x7eb)]+'\x20('+this[_0x1e716c(0x32b)]['wuid']+_0x1e716c(0x413)+_0xd15ad1),new m(_0xd15ad1);}await new Promise(_0x370610=>setTimeout(_0x370610,0x3e8*0x2*_0xc387fe));}}get[a0_0x5bdda6(0x773)](){const _0x36870e=a0_0x5bdda6;return this[_0x36870e(0x24d)];}async['textMessage'](_0x51cfbe){const _0x41723f=a0_0x5bdda6;let _0x38bc22=So,_0x1f3cc0=st;return _0x1f3cc0&&this[_0x41723f(0x7eb)]['toLowerCase']()['includes'](_0x1f3cc0['toLowerCase']())&&(_0x51cfbe[_0x41723f(0x596)]['text']+='\x0a\x0a'+_0x38bc22),await this['sendMessageWithTyping'](_0x51cfbe[_0x41723f(0x5eb)],{'conversation':_0x51cfbe['textMessage'][_0x41723f(0x3ce)]},_0x51cfbe?.['options']);}async[a0_0x5bdda6(0x6af)](_0x343d79){const _0x3d83dc=a0_0x5bdda6;if(!_0x343d79[_0x3d83dc(0x5b3)])throw new m(_0x3d83dc(0x43e));if(!_0x343d79['content'])throw new m(_0x3d83dc(0x7c7));if(_0x343d79[_0x3d83dc(0x376)]){let _0x434560=await this[_0x3d83dc(0x320)][_0x3d83dc(0x32d)][_0x3d83dc(0x2b1)]({'where':{}},this['instance'][_0x3d83dc(0x20d)]);if(!_0x434560[_0x3d83dc(0x29b)])throw new m(_0x3d83dc(0x33c));_0x343d79[_0x3d83dc(0x1e0)]=_0x434560[_0x3d83dc(0x539)](_0x23266a=>_0x23266a[_0x3d83dc(0x689)])[_0x3d83dc(0x2b0)](_0x46a335=>_0x46a335[_0x3d83dc(0x38a)]);}if(!_0x343d79[_0x3d83dc(0x1e0)]?.[_0x3d83dc(0x29b)]&&!_0x343d79[_0x3d83dc(0x376)])throw new m(_0x3d83dc(0x479));if(_0x343d79[_0x3d83dc(0x5b3)]===_0x3d83dc(0x3ce)){if(!_0x343d79[_0x3d83dc(0x707)])throw new m(_0x3d83dc(0x454));if(!_0x343d79['font'])throw new m('Font\x20is\x20required');return{'content':{'text':_0x343d79[_0x3d83dc(0x26f)]},'option':{'backgroundColor':_0x343d79['backgroundColor'],'font':_0x343d79[_0x3d83dc(0x521)],'statusJidList':_0x343d79[_0x3d83dc(0x1e0)]}};}if(_0x343d79[_0x3d83dc(0x5b3)]===_0x3d83dc(0x614))return{'content':{'image':{'url':_0x343d79[_0x3d83dc(0x26f)]},'caption':_0x343d79[_0x3d83dc(0x1bc)]},'option':{'statusJidList':_0x343d79[_0x3d83dc(0x1e0)]}};if(_0x343d79[_0x3d83dc(0x5b3)]===_0x3d83dc(0x2f2))return{'content':{'video':{'url':_0x343d79[_0x3d83dc(0x26f)]},'caption':_0x343d79[_0x3d83dc(0x1bc)]},'option':{'statusJidList':_0x343d79[_0x3d83dc(0x1e0)]}};if(_0x343d79[_0x3d83dc(0x5b3)]==='audio'){this[_0x3d83dc(0x34c)][_0x3d83dc(0x1f6)](_0x3d83dc(0x7a9)),this[_0x3d83dc(0x34c)][_0x3d83dc(0x1f6)](_0x3d83dc(0x6fc));let _0x2c3db2=await this[_0x3d83dc(0x64c)](_0x343d79[_0x3d83dc(0x26f)]);if(typeof _0x2c3db2=='string'){this[_0x3d83dc(0x34c)][_0x3d83dc(0x1f6)](_0x3d83dc(0x6a2));let _0x161026=j[_0x3d83dc(0x4d3)](_0x2c3db2)[_0x3d83dc(0x58f)]('base64');return{'content':{'audio':Buffer['from'](_0x161026,_0x3d83dc(0x2de)),'ptt':!0x0,'mimetype':_0x3d83dc(0x5f4)},'option':{'statusJidList':_0x343d79[_0x3d83dc(0x1e0)]}};}else throw new x(_0x2c3db2);}throw new m(_0x3d83dc(0x2cf));}async['statusMessage'](_0x518bf3){const _0x2de102=a0_0x5bdda6;return await this['sendMessageWithTyping'](_0x2de102(0x386),{'status':await this['formatStatusMessage'](_0x518bf3['statusMessage'])});}async['prepareMediaMessage'](_0x2e3688){const _0x591cbb=a0_0x5bdda6;try{let _0x202167=await(0x0,f[_0x591cbb(0x737)])({[_0x2e3688['mediatype']]:(0x0,k['isURL'])(_0x2e3688[_0x591cbb(0x3d1)])?{'url':_0x2e3688[_0x591cbb(0x3d1)]}:Buffer[_0x591cbb(0x47d)](_0x2e3688[_0x591cbb(0x3d1)],_0x591cbb(0x2de))},{'upload':this[_0x591cbb(0x249)]['waUploadToServer']}),_0x1a8a4d=_0x2e3688[_0x591cbb(0x680)]+_0x591cbb(0x2c2);if(_0x2e3688['mediatype']==='document'&&!_0x2e3688[_0x591cbb(0x308)]){let _0x29dc83=new RegExp(/.*\/(.+?)\./)['exec'](_0x2e3688[_0x591cbb(0x3d1)]);_0x2e3688[_0x591cbb(0x308)]=_0x29dc83?_0x29dc83[0x1]:null;}let _0x2ad1a6=(0x0,k[_0x591cbb(0x22d)])(_0x2e3688[_0x591cbb(0x3d1)])?_0x2e3688[_0x591cbb(0x3d1)]['split']('?')[0x0]:_0x2e3688['media'],_0x505972;(0x0,k[_0x591cbb(0x22d)])(_0x2e3688[_0x591cbb(0x3d1)])?_0x505972=(0x0,jt[_0x591cbb(0x639)])(_0x2ad1a6):_0x2e3688[_0x591cbb(0x308)]&&_0x2e3688[_0x591cbb(0x308)]['includes']('.')?_0x505972=(0x0,jt['getMIMEType'])(_0x2e3688[_0x591cbb(0x308)]):_0x505972=(0x0,jt[_0x591cbb(0x639)])(_0x2e3688[_0x591cbb(0x3d1)]);let _0x3cec18=So,_0x2373bf=st;return _0x2373bf&&this['instanceName'][_0x591cbb(0x441)]()[_0x591cbb(0x71f)](_0x2373bf['toLowerCase']())&&(_0x2e3688[_0x591cbb(0x1bc)]+='\x0a\x0a'+_0x3cec18),_0x202167[_0x1a8a4d]['caption']=_0x2e3688?.[_0x591cbb(0x1bc)],_0x202167[_0x1a8a4d]['mimetype']=_0x505972,_0x202167[_0x1a8a4d][_0x591cbb(0x308)]=_0x2e3688[_0x591cbb(0x308)],_0x2e3688[_0x591cbb(0x680)]===_0x591cbb(0x2f2)&&(_0x202167[_0x1a8a4d][_0x591cbb(0x770)]=Uint8Array['from']((0x0,De[_0x591cbb(0x4d3)])((0x0,J[_0x591cbb(0x64d)])(process['cwd'](),_0x591cbb(0x1ab)))),_0x202167[_0x1a8a4d][_0x591cbb(0x49c)]=!0x1),(0x0,f[_0x591cbb(0x172)])('',{[_0x1a8a4d]:{..._0x202167[_0x1a8a4d]}},{'userJid':this[_0x591cbb(0x32b)][_0x591cbb(0x20d)]});}catch(_0x18cee6){let _0x2dc743=_0x591cbb(0x7d8),_0x211763=_0x18cee6 instanceof Error?_0x18cee6[_0x591cbb(0x1f1)]:typeof _0x18cee6==_0x591cbb(0x53a)?JSON[_0x591cbb(0x5b8)](_0x18cee6):_0x18cee6,_0x1ae0b6=_0x2dc743+':\x20'+_0x211763;throw this[_0x591cbb(0x34c)]['error'](this[_0x591cbb(0x7eb)]+'\x20('+this[_0x591cbb(0x32b)][_0x591cbb(0x20d)]+'):\x20'+_0x1ae0b6),new x(_0x1ae0b6);}}async[a0_0x5bdda6(0x1b0)](_0x5c6e21){const _0x57fd95=a0_0x5bdda6;let _0x1255ca=await this[_0x57fd95(0x476)](_0x5c6e21[_0x57fd95(0x1b0)]);return await this[_0x57fd95(0x7ee)](_0x5c6e21['number'],{..._0x1255ca['message']},_0x5c6e21?.[_0x57fd95(0x17b)]);}async[a0_0x5bdda6(0x384)](_0x5e1b96,_0xcaf7fe){const _0x1884fc=a0_0x5bdda6;try{this['logger']['verbose']('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0xfc60c,_0x4ee62e=_0xcaf7fe+'-'+new Date()[_0x1884fc(0x578)]();this[_0x1884fc(0x34c)][_0x1884fc(0x1f6)](_0x1884fc(0x658)+_0x4ee62e);let _0x5d3e2a=''+(0x0,J[_0x1884fc(0x64d)])(this[_0x1884fc(0x4f8)],_0x4ee62e+_0x1884fc(0x34d));if(this['logger'][_0x1884fc(0x1f6)]('Output\x20path:\x20'+_0x5d3e2a),(0x0,k[_0x1884fc(0x2eb)])(_0x5e1b96)){this[_0x1884fc(0x34c)]['verbose'](_0x1884fc(0x115));let _0x2905da=_0x5e1b96[_0x1884fc(0x4a9)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x66b465=Buffer[_0x1884fc(0x47d)](_0x2905da,'base64');_0xfc60c=''+(0x0,J[_0x1884fc(0x64d)])(this['storePath'],'temp-'+_0x4ee62e+'.png'),this[_0x1884fc(0x34c)]['verbose'](_0x1884fc(0x7be)+_0xfc60c),await(0x0,Lt[_0x1884fc(0x79b)])(_0x66b465)[_0x1884fc(0x3b6)](_0xfc60c),this[_0x1884fc(0x34c)][_0x1884fc(0x1f6)]('Image\x20created');}else{this[_0x1884fc(0x34c)]['verbose'](_0x1884fc(0x648));let _0x1c50db=new Date()[_0x1884fc(0x578)](),_0xa12f9c=_0x5e1b96+'?timestamp='+_0x1c50db;this[_0x1884fc(0x34c)][_0x1884fc(0x1f6)](_0x1884fc(0x6f7)+_0xa12f9c);let _0x2040a9=await Q[_0x1884fc(0x79b)][_0x1884fc(0x1bb)](_0xa12f9c,{'responseType':'arraybuffer'});this[_0x1884fc(0x34c)][_0x1884fc(0x1f6)](_0x1884fc(0x408));let _0x30c6d8=Buffer['from'](_0x2040a9['data'],_0x1884fc(0x12c));_0xfc60c=''+(0x0,J[_0x1884fc(0x64d)])(this['storePath'],_0x1884fc(0x541)+_0x4ee62e+_0x1884fc(0x30f)),this['logger'][_0x1884fc(0x1f6)](_0x1884fc(0x7be)+_0xfc60c),await(0x0,Lt[_0x1884fc(0x79b)])(_0x30c6d8)[_0x1884fc(0x3b6)](_0xfc60c),this[_0x1884fc(0x34c)][_0x1884fc(0x1f6)](_0x1884fc(0x269));}return await(0x0,Lt['default'])(_0xfc60c)[_0x1884fc(0x4e2)]()['toFile'](_0x5d3e2a),this['logger'][_0x1884fc(0x1f6)](_0x1884fc(0x1cf)),j[_0x1884fc(0x227)](_0xfc60c),this[_0x1884fc(0x34c)]['verbose']('Temp\x20image\x20deleted'),_0x5d3e2a;}catch(_0x230e7e){let _0x20afd5=_0x1884fc(0x71d),_0xf40b98=_0x230e7e instanceof Error?_0x230e7e[_0x1884fc(0x1f1)]:typeof _0x230e7e=='object'?JSON[_0x1884fc(0x5b8)](_0x230e7e):_0x230e7e,_0x5c40eb=_0x20afd5+':\x20'+_0xf40b98;this[_0x1884fc(0x34c)][_0x1884fc(0x83d)](this[_0x1884fc(0x7eb)]+'\x20('+this['instance']['wuid']+_0x1884fc(0x413)+_0x5c40eb);}}async[a0_0x5bdda6(0x2ab)](_0x53a2f1){const _0x2e1f2e=a0_0x5bdda6;let _0x29cc29=await this['convertToWebP'](_0x53a2f1[_0x2e1f2e(0x590)][_0x2e1f2e(0x614)],_0x53a2f1[_0x2e1f2e(0x5eb)]),_0x4dacb1=await this[_0x2e1f2e(0x7ee)](_0x53a2f1[_0x2e1f2e(0x5eb)],{'sticker':{'url':_0x29cc29}},_0x53a2f1?.[_0x2e1f2e(0x17b)]);return j[_0x2e1f2e(0x227)](_0x29cc29),this['logger'][_0x2e1f2e(0x1f6)](_0x2e1f2e(0x59b)),_0x4dacb1;}async[a0_0x5bdda6(0x672)](_0xb455e3){const _0x42dbc3=a0_0x5bdda6;if(this[_0x42dbc3(0x34c)][_0x42dbc3(0x1f6)](_0x42dbc3(0x20e)),!_0xb455e3['options']?.[_0x42dbc3(0x1ee)]&&_0xb455e3['options']?.[_0x42dbc3(0x1ee)]!==!0x1&&(_0xb455e3[_0x42dbc3(0x17b)][_0x42dbc3(0x1ee)]=!0x0),_0xb455e3[_0x42dbc3(0x17b)]?.['encoding']){let _0x27299e=await this[_0x42dbc3(0x64c)](_0xb455e3[_0x42dbc3(0x560)][_0x42dbc3(0x489)]);if(typeof _0x27299e==_0x42dbc3(0x1c7)){let _0x14e1a1=j[_0x42dbc3(0x4d3)](_0x27299e)['toString']('base64');return this['sendMessageWithTyping'](_0xb455e3[_0x42dbc3(0x5eb)],{'audio':Buffer['from'](_0x14e1a1,_0x42dbc3(0x2de)),'ptt':!0x0,'mimetype':_0x42dbc3(0x62e)},{'presence':_0x42dbc3(0x4be),'delay':_0xb455e3?.['options']?.[_0x42dbc3(0x500)]});}else throw new x(_0x27299e);}return await this[_0x42dbc3(0x7ee)](_0xb455e3[_0x42dbc3(0x5eb)],{'audio':(0x0,k[_0x42dbc3(0x22d)])(_0xb455e3['audioMessage'][_0x42dbc3(0x489)])?{'url':_0xb455e3[_0x42dbc3(0x560)][_0x42dbc3(0x489)]}:Buffer[_0x42dbc3(0x47d)](_0xb455e3['audioMessage'][_0x42dbc3(0x489)],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x42dbc3(0x4be),'delay':_0xb455e3?.[_0x42dbc3(0x17b)]?.[_0x42dbc3(0x500)]});}async[a0_0x5bdda6(0x64c)](_0x248b6d){const _0x16bccb=a0_0x5bdda6;this[_0x16bccb(0x34c)][_0x16bccb(0x1f6)](_0x16bccb(0x6fc));let _0x4d3db7=(0x0,k[_0x16bccb(0x22d)])(_0x248b6d)?(0x0,Jt['createHash'])('sha256')[_0x16bccb(0x674)](_0x248b6d)['digest'](_0x16bccb(0x7e6)):(0x0,Jt[_0x16bccb(0x835)])(_0x16bccb(0x150))[_0x16bccb(0x674)](_0x248b6d)[_0x16bccb(0x792)]('hex'),_0x370723=''+(0x0,J['join'])(this[_0x16bccb(0x4f8)],_0x4d3db7+_0x16bccb(0x7f6));if(j[_0x16bccb(0x38f)](_0x370723))return this[_0x16bccb(0x34c)][_0x16bccb(0x1f6)](_0x16bccb(0x3d5)),_0x370723;let _0x1427f6=''+(0x0,J[_0x16bccb(0x64d)])(this[_0x16bccb(0x4f8)],'temp-'+(0x0,Ce['v4'])()+_0x16bccb(0x278));if((0x0,k['isURL'])(_0x248b6d)){let _0x5cfb97=new Date()[_0x16bccb(0x578)](),_0xeb6fcf=_0x248b6d+_0x16bccb(0x26e)+_0x5cfb97,_0x518348=await Q[_0x16bccb(0x79b)][_0x16bccb(0x1bb)](_0xeb6fcf,{'responseType':_0x16bccb(0x179)});j[_0x16bccb(0x5f2)](_0x1427f6,_0x518348[_0x16bccb(0x6d0)]);}else{let _0x17814c=Buffer[_0x16bccb(0x47d)](_0x248b6d,_0x16bccb(0x2de));j[_0x16bccb(0x5f2)](_0x1427f6,_0x17814c);}return new Promise((_0x182f30,_0x39cdb5)=>{const _0x3305a9=_0x16bccb;(0x0,_e[_0x3305a9(0x810)])(As[_0x3305a9(0x79b)][_0x3305a9(0x784)]+_0x3305a9(0x709)+_0x1427f6+_0x3305a9(0x405)+_0x370723+'\x20-y',_0x4e870d=>{const _0x2706ea=_0x3305a9;if(j[_0x2706ea(0x227)](_0x1427f6),_0x4e870d){this['logger'][_0x2706ea(0x1f6)](_0x2706ea(0x76a)),_0x39cdb5(_0x4e870d);return;}this[_0x2706ea(0x34c)][_0x2706ea(0x1f6)](_0x2706ea(0x193)),_0x182f30(_0x370723);});});}async[a0_0x5bdda6(0x6a9)](_0x470e49){const _0x58ee26=a0_0x5bdda6;this[_0x58ee26(0x34c)]['verbose']('Processing\x20audio');let _0x1e3edd=(0x0,Jt[_0x58ee26(0x835)])(_0x58ee26(0x150))[_0x58ee26(0x674)](_0x470e49)[_0x58ee26(0x792)]('hex'),_0x1ad356=''+(0x0,J[_0x58ee26(0x64d)])(this['storePath'],_0x1e3edd+_0x58ee26(0x278));if(j[_0x58ee26(0x38f)](_0x1ad356))return this[_0x58ee26(0x34c)][_0x58ee26(0x1f6)](_0x58ee26(0x3d5)),J['default'][_0x58ee26(0x57a)](_0x1ad356);let _0x364104=''+(0x0,J[_0x58ee26(0x64d)])(this[_0x58ee26(0x4f8)],_0x58ee26(0x541)+_0x1e3edd+_0x58ee26(0x7f6));if((0x0,k[_0x58ee26(0x22d)])(_0x470e49)){let _0xbdfde9=new Date()['getTime'](),_0x23fe31=_0x470e49+_0x58ee26(0x26e)+_0xbdfde9,_0x557aed=await Q[_0x58ee26(0x79b)][_0x58ee26(0x1bb)](_0x23fe31,{'responseType':'arraybuffer'});j['writeFileSync'](_0x364104,_0x557aed[_0x58ee26(0x6d0)]);}else{let _0x3a9bb2=Buffer['from'](_0x470e49,_0x58ee26(0x2de));j['writeFileSync'](_0x364104,_0x3a9bb2);}return new Promise((_0x3b0e37,_0x42cd2e)=>{const _0xe5223b=_0x58ee26;(0x0,_e['exec'])(As[_0xe5223b(0x79b)][_0xe5223b(0x784)]+_0xe5223b(0x709)+_0x364104+_0xe5223b(0x6c0)+_0x1ad356+_0xe5223b(0x58e),_0x4fa8b4=>{const _0x2ff545=_0xe5223b;if(j[_0x2ff545(0x227)](_0x364104),_0x4fa8b4){this['logger'][_0x2ff545(0x1f6)](_0x2ff545(0x76a)),_0x42cd2e(_0x4fa8b4);return;}this[_0x2ff545(0x34c)][_0x2ff545(0x1f6)](_0x2ff545(0x193)),_0x3b0e37(J[_0x2ff545(0x79b)]['basename'](_0x1ad356));});});}async[a0_0x5bdda6(0x5ac)](_0x57b022){const _0x472d51=a0_0x5bdda6;let _0x22b71b={},_0x1012be='TEXT';if(_0x57b022['buttonMessage']?.[_0x472d51(0x1b0)]){_0x1012be=_0x57b022['buttonMessage']['mediaMessage']?.['mediatype'][_0x472d51(0x44a)]()??'TEXT',_0x22b71b[_0x472d51(0x164)]=_0x1012be[_0x472d51(0x441)]()+_0x472d51(0x2c2);let _0x315a84=await this[_0x472d51(0x476)](_0x57b022[_0x472d51(0x5ac)][_0x472d51(0x1b0)]);_0x22b71b[_0x472d51(0x1f1)]=_0x315a84[_0x472d51(0x1f1)][_0x22b71b[_0x472d51(0x164)]],_0x22b71b[_0x472d51(0x499)]='*'+_0x57b022[_0x472d51(0x5ac)][_0x472d51(0x579)]+_0x472d51(0x686)+_0x57b022[_0x472d51(0x5ac)][_0x472d51(0x702)];}let _0x336076={'text':_0x57b022[_0x472d51(0x5ac)][_0x472d51(0x329)][_0x472d51(0x2b0)](_0x1e0f56=>_0x1e0f56[_0x472d51(0x4eb)]),'ids':_0x57b022[_0x472d51(0x5ac)]['buttons'][_0x472d51(0x2b0)](_0x34afb2=>_0x34afb2[_0x472d51(0x28d)])};if(!(0x0,k[_0x472d51(0x6fe)])(_0x336076[_0x472d51(0x3ce)])||!(0x0,k[_0x472d51(0x6fe)])(_0x336076[_0x472d51(0x2b3)]))throw new m(_0x472d51(0x6d3),_0x472d51(0x811));return await this[_0x472d51(0x7ee)](_0x57b022[_0x472d51(0x5eb)],{'buttonsMessage':{'text':_0x22b71b?.[_0x472d51(0x164)]?void 0x0:_0x57b022['buttonMessage']['title'],'contentText':_0x22b71b?.[_0x472d51(0x499)]??_0x57b022[_0x472d51(0x5ac)]['description'],'footerText':_0x57b022['buttonMessage']?.['footerText'],'buttons':_0x57b022[_0x472d51(0x5ac)]['buttons']['map'](_0x250401=>({'buttonText':{'displayText':_0x250401['buttonText']},'buttonId':_0x250401[_0x472d51(0x28d)],'type':0x1})),'headerType':f[_0x472d51(0x752)][_0x472d51(0x2c2)]['ButtonsMessage'][_0x472d51(0x542)][_0x1012be],[_0x22b71b?.[_0x472d51(0x164)]]:_0x22b71b?.[_0x472d51(0x1f1)]}},_0x57b022?.['options']);}async['locationMessage'](_0x5174bf){const _0x5e6f30=a0_0x5bdda6;return await this[_0x5e6f30(0x7ee)](_0x5174bf[_0x5e6f30(0x5eb)],{'locationMessage':{'degreesLatitude':_0x5174bf[_0x5e6f30(0x668)][_0x5e6f30(0x7ff)],'degreesLongitude':_0x5174bf[_0x5e6f30(0x668)]['longitude'],'name':_0x5174bf[_0x5e6f30(0x668)]?.[_0x5e6f30(0x63e)],'address':_0x5174bf[_0x5e6f30(0x668)]?.[_0x5e6f30(0x1da)]}},_0x5174bf?.[_0x5e6f30(0x17b)]);}async[a0_0x5bdda6(0x2dd)](_0x42bb16){const _0xf1834e=a0_0x5bdda6;let _0x331b34={},_0x1a6f95=async _0x5229e0=>{const _0x336b43=a0_0x33c5;let _0x19dddc=_0x336b43(0x1e9)+_0x5229e0[_0x336b43(0x2ff)]+_0x336b43(0x790)+_0x5229e0[_0x336b43(0x2ff)]+'\x0a';_0x5229e0[_0x336b43(0x762)]&&(_0x19dddc+=_0x336b43(0x4c0)+_0x5229e0[_0x336b43(0x762)]+';\x0a'),_0x5229e0['email']&&(_0x19dddc+=_0x336b43(0x7a2)+_0x5229e0[_0x336b43(0x187)]+'\x0a'),_0x5229e0[_0x336b43(0x379)]&&(_0x19dddc+=_0x336b43(0x324)+_0x5229e0[_0x336b43(0x379)]+'\x0a');let _0x321a5d='',_0x50078b=0x1;if(_0x5229e0[_0x336b43(0x146)]){let _0x11fcac=_0x5229e0[_0x336b43(0x146)][_0x336b43(0x771)]('|');for(let _0x522cd0 of _0x11fcac){let _0x404964=await this[_0x336b43(0x3db)]({'numbers':[_0x522cd0]}),_0x5cdf88=(_0x404964[_0x336b43(0x29b)]>0x0?_0x404964[0x0][_0x336b43(0x518)]:this['createJid'](_0x522cd0))['replace'](_0x336b43(0x2e3),'');_0x321a5d+=_0x336b43(0x343)+_0x50078b+_0x336b43(0x240)+_0x5cdf88+':'+_0x522cd0+_0x336b43(0x3a2)+_0x50078b+_0x336b43(0x1ac),_0x50078b++;}}return _0x19dddc+=_0x321a5d+_0x336b43(0x698),_0x19dddc;};return _0x42bb16[_0xf1834e(0x2dd)][_0xf1834e(0x29b)]===0x1?_0x331b34['contactMessage']={'displayName':_0x42bb16['contactMessage'][0x0]['fullName'],'vcard':await _0x1a6f95(_0x42bb16[_0xf1834e(0x2dd)][0x0])}:_0x331b34['contactsArrayMessage']={'displayName':_0x42bb16[_0xf1834e(0x2dd)][_0xf1834e(0x29b)]+_0xf1834e(0x492),'contacts':await Promise[_0xf1834e(0x219)](_0x42bb16[_0xf1834e(0x2dd)][_0xf1834e(0x2b0)](async _0x196f36=>({'displayName':_0x196f36['fullName'],'vcard':await _0x1a6f95(_0x196f36)})))},await this[_0xf1834e(0x7ee)](_0x42bb16['number'],{..._0x331b34},_0x42bb16?.[_0xf1834e(0x17b)]);}async[a0_0x5bdda6(0x5f6)](_0xd50ae8){const _0x515474=a0_0x5bdda6;return await this[_0x515474(0x7ee)](_0xd50ae8[_0x515474(0x5f6)][_0x515474(0x4d8)][_0x515474(0x4c8)],{'reactionMessage':{'key':_0xd50ae8[_0x515474(0x5f6)][_0x515474(0x4d8)],'text':_0xd50ae8[_0x515474(0x5f6)][_0x515474(0x432)]}});}async['whatsappNumber'](_0x18af75){const _0x7c7eef=a0_0x5bdda6;let _0x2081cb=[];for await(let _0x299c0a of _0x18af75[_0x7c7eef(0x287)]){let _0x107670=this[_0x7c7eef(0x78e)](_0x299c0a),_0x557437=!0x1;try{if((0x0,f['isJidGroup'])(_0x107670)){let _0x30b700=(await this[_0x7c7eef(0x320)][_0x7c7eef(0x638)][_0x7c7eef(0x28c)]({'where':{'_id':_0x107670}},this[_0x7c7eef(0x32b)][_0x7c7eef(0x20d)]))[_0x7c7eef(0x4e6)];_0x557437=!!_0x30b700?.['id']&&!!_0x30b700?.['canSendMessage'],_0x2081cb[_0x7c7eef(0x711)](new be(_0x30b700['id'],_0x557437,_0x30b700?.[_0x7c7eef(0x608)]));}else{let _0x4a2eff=(await this[_0x7c7eef(0x249)][_0x7c7eef(0x4a6)](_0x107670))[0x0];_0x557437=_0x4a2eff['exists'],_0x2081cb[_0x7c7eef(0x711)](new be(_0x4a2eff[_0x7c7eef(0x518)],_0x557437));}}catch{(0x0,f[_0x7c7eef(0x464)])(_0x107670)||await this[_0x7c7eef(0x2e6)](_0x107670,_0x557437),_0x2081cb['push'](new be(_0x299c0a,!0x1));}}return _0x2081cb;}async[a0_0x5bdda6(0x2e6)](_0x154e3d,_0x54ab52){const _0x2d8787=a0_0x5bdda6;try{await this[_0x2d8787(0x320)][_0x2d8787(0x638)][_0x2d8787(0x28c)]({'where':{'_id':_0x154e3d,'imported':!0x0}},this[_0x2d8787(0x32b)][_0x2d8787(0x20d)])&&(_0x54ab52||(await this['repository'][_0x2d8787(0x638)]['deleteChat'](_0x154e3d,this['instance'][_0x2d8787(0x20d)]),this[_0x2d8787(0x34c)][_0x2d8787(0x6a4)](_0x2d8787(0x7c5)+_0x154e3d+_0x2d8787(0x440))));}catch(_0xa14345){let _0x281d3c=_0x2d8787(0x72a),_0x3533d4=_0xa14345 instanceof Error?_0xa14345['message']:typeof _0xa14345==_0x2d8787(0x53a)?JSON['stringify'](_0xa14345):_0xa14345,_0x1e2858=_0x281d3c+':\x20'+_0x3533d4;this['logger']['error'](this[_0x2d8787(0x7eb)]+'\x20('+this[_0x2d8787(0x32b)]['wuid']+'):\x20'+_0x1e2858);}}async[a0_0x5bdda6(0x629)](_0x10112b){const _0x72f992=a0_0x5bdda6;try{let _0x5c99a8=_0x10112b[_0x72f992(0x23a)][_0x72f992(0x539)](_0x342d57=>(0x0,f['isJidGroup'])(_0x342d57[_0x72f992(0x4c8)])||(0x0,f[_0x72f992(0x167)])(_0x342d57[_0x72f992(0x4c8)]))[_0x72f992(0x2b0)](_0x3f03ca=>({'remoteJid':_0x3f03ca[_0x72f992(0x4c8)],'fromMe':_0x3f03ca[_0x72f992(0x295)],'id':_0x3f03ca['id']}));await this['client']['readMessages'](_0x5c99a8);let _0x2ef09a=_0x5c99a8[_0x72f992(0x2b0)](_0xcad2e6=>this['updateMessage'](_0xcad2e6,{'status':'READ','owner':this[_0x72f992(0x32b)][_0x72f992(0x20d)]})),_0x293f6d=_0x5c99a8[_0x72f992(0x2b0)](_0x4a29d0=>this[_0x72f992(0x320)][_0x72f992(0x638)]['updateOne']({'where':{'_id':_0x4a29d0['remoteJid']}},{'unreadcount':0x0},this[_0x72f992(0x32b)][_0x72f992(0x20d)])),[_0x1cbb90,_0x2328c3]=await Promise[_0x72f992(0x219)]([Promise[_0x72f992(0x219)](_0x2ef09a),Promise[_0x72f992(0x219)](_0x293f6d)]);return _0x2328c3['filter'](_0x1ff698=>_0x1ff698!==null)[_0x72f992(0x3a3)](_0x2c835e=>{const _0x17e348=_0x72f992;U(this[_0x17e348(0x7eb)],_0x17e348(0x6ca),{'chat':_0x2c835e});}),{'message':'Read\x20messages','read':_0x72f992(0x143)};}catch(_0x1b8483){let _0x596105='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x33abbb=_0x1b8483 instanceof Error?_0x1b8483[_0x72f992(0x1f1)]:typeof _0x1b8483=='object'?JSON[_0x72f992(0x5b8)](_0x1b8483):_0x1b8483,_0x1d32e1=_0x596105+':\x20'+_0x33abbb;throw this[_0x72f992(0x34c)]['error'](this[_0x72f992(0x7eb)]+'\x20('+this[_0x72f992(0x32b)]['wuid']+_0x72f992(0x413)+_0x1d32e1),new x(_0x1d32e1);}}async['getLastMessage'](_0x2532bd){const _0x18be18=a0_0x5bdda6;let _0x53baa6={'where':{'key':{'remoteJid':_0x2532bd}},'limit':0x1},_0x3efefb=await this[_0x18be18(0x688)](_0x53baa6);return _0x3efefb||(console[_0x18be18(0x83d)]('Last\x20message\x20not\x20found\x20for\x20number:',_0x2532bd),null);}async[a0_0x5bdda6(0x3a1)](_0x5d0f38){const _0x39305a=a0_0x5bdda6;this['logger'][_0x39305a(0x1f6)](_0x39305a(0x42b));try{let _0x242888=_0x5d0f38[_0x39305a(0x354)],_0x68fe75=_0x5d0f38[_0x39305a(0x638)];if(!_0x242888&&_0x68fe75?_0x242888=await this['getLastMessage'](_0x68fe75):(_0x242888=_0x5d0f38[_0x39305a(0x354)],_0x242888[_0x39305a(0x2d8)]=_0x242888?.[_0x39305a(0x2d8)]??Date['now'](),_0x68fe75=_0x242888?.[_0x39305a(0x4d8)]?.[_0x39305a(0x4c8)]),!_0x242888||Object[_0x39305a(0x45d)](_0x242888)['length']===0x0)throw new q('Last\x20message\x20not\x20found');this[_0x39305a(0x34c)][_0x39305a(0x1f6)](_0x39305a(0x7dc)+_0x68fe75);try{await this[_0x39305a(0x249)][_0x39305a(0x51d)]({'archive':_0x5d0f38[_0x39305a(0x69f)],'lastMessages':[_0x242888]},this[_0x39305a(0x78e)](_0x68fe75));}catch(_0x2f1306){let _0x1cf072=_0x39305a(0x7a7)+_0x68fe75,_0x31f70b=_0x2f1306 instanceof Error?_0x2f1306['message']:typeof _0x2f1306=='object'?JSON[_0x39305a(0x5b8)](_0x2f1306):_0x2f1306,_0x5b689a=_0x1cf072+':\x20'+_0x31f70b;this['logger']['error'](this[_0x39305a(0x7eb)]+'\x20('+this['instance'][_0x39305a(0x20d)]+_0x39305a(0x413)+_0x5b689a);}this[_0x39305a(0x34c)][_0x39305a(0x1f6)](_0x39305a(0x170)+_0x68fe75);let _0xbd5dc9=await this['repository'][_0x39305a(0x638)][_0x39305a(0x31c)]({'where':{'_id':_0x242888?.[_0x39305a(0x4d8)]?.[_0x39305a(0x4c8)]}},{'archived':_0x5d0f38[_0x39305a(0x69f)]},this[_0x39305a(0x32b)]['wuid']);return _0xbd5dc9?(this[_0x39305a(0x34c)][_0x39305a(0x1f6)](_0x39305a(0x621)+JSON[_0x39305a(0x5b8)](_0xbd5dc9)),U(this[_0x39305a(0x7eb)],'chats',{'chat':_0xbd5dc9})):this[_0x39305a(0x34c)][_0x39305a(0x83d)](_0x39305a(0x20c)+_0x68fe75),{'chatId':_0x68fe75,'archived':_0x5d0f38[_0x39305a(0x69f)]};}catch(_0x24df55){let _0x371a4a=_0x39305a(0x310),_0x514aeb=_0x24df55 instanceof Error?_0x24df55['message']:typeof _0x24df55==_0x39305a(0x53a)?JSON[_0x39305a(0x5b8)](_0x24df55):_0x24df55,_0x3f3483=_0x371a4a+':\x20'+_0x514aeb;throw this[_0x39305a(0x34c)][_0x39305a(0x83d)](this[_0x39305a(0x7eb)]+'\x20('+this['instance']['wuid']+_0x39305a(0x413)+_0x3f3483),new x(_0x3f3483);}}async[a0_0x5bdda6(0x75b)](_0xcd27a){const _0x255747=a0_0x5bdda6;this[_0x255747(0x34c)][_0x255747(0x1f6)](_0x255747(0x243));try{let _0x28dab0=await this[_0x255747(0x736)](_0xcd27a);if(!_0x28dab0||Object[_0x255747(0x45d)](_0x28dab0)[_0x255747(0x29b)]===0x0)throw new q('Last\x20message\x20not\x20found');let _0x456f8e=_0x28dab0[0x0];this[_0x255747(0x34c)][_0x255747(0x1f6)](_0x255747(0x5c6)+_0xcd27a);try{await this['client'][_0x255747(0x51d)]({'delete':!0x0,'lastMessages':[{'key':_0x456f8e[_0x255747(0x4d8)],'messageTimestamp':_0x456f8e['messageTimestamp']}]},this['createJid'](_0xcd27a));}catch(_0x52fff2){this[_0x255747(0x34c)][_0x255747(0x83d)](_0x255747(0x7a7)+_0xcd27a+':\x20'+_0x52fff2[_0x255747(0x58f)]());}this[_0x255747(0x34c)][_0x255747(0x1f6)](_0x255747(0x170)+_0xcd27a);return;}catch(_0x2ed059){throw this['logger']['error'](_0x255747(0x2b4)+_0x2ed059[_0x255747(0x58f)]()),new x({'archived':!0x1,'message':[_0x255747(0x485),_0x2ed059[_0x255747(0x58f)]()]});}}async[a0_0x5bdda6(0x70c)](_0x37bf04){const _0x521af7=a0_0x5bdda6;try{let _0x19010f=await this['client'][_0x521af7(0x61b)](_0x37bf04['remoteJid'],{'delete':_0x37bf04});try{let _0x4473ac=await this[_0x521af7(0x3b2)](_0x37bf04,{'status':_0x521af7(0x36e),'owner':this[_0x521af7(0x32b)][_0x521af7(0x20d)]});this[_0x521af7(0x34c)][_0x521af7(0x1f6)](this[_0x521af7(0x7eb)]+'\x20('+this['instance'][_0x521af7(0x20d)]+_0x521af7(0x569)+_0x4473ac);}catch(_0x625664){console[_0x521af7(0x83d)](_0x521af7(0x732),_0x625664);}return _0x19010f;}catch(_0x1dd604){throw new x(_0x521af7(0x767),_0x1dd604?.[_0x521af7(0x58f)]());}}async[a0_0x5bdda6(0x4b7)](_0x1f96a4){const _0x134654=a0_0x5bdda6;try{let _0x536b35=_0x1f96a4?.['message']?_0x1f96a4:await this[_0x134654(0x205)](_0x1f96a4['key'],!0x0);for(let _0x2cc900 of ya)_0x536b35[_0x134654(0x1f1)][_0x2cc900]&&(_0x536b35[_0x134654(0x1f1)]=_0x536b35[_0x134654(0x1f1)][_0x2cc900]['message']);let _0x2875f7,_0x1ba599;for(let _0x564ae9 of wa)if(_0x2875f7=_0x536b35[_0x134654(0x1f1)][_0x564ae9],_0x2875f7){_0x1ba599=_0x564ae9;break;}if(!_0x2875f7)throw _0x134654(0x547);typeof _0x2875f7[_0x134654(0x164)]=='object'&&(_0x536b35[_0x134654(0x1f1)]=JSON[_0x134654(0x4b1)](JSON[_0x134654(0x5b8)](_0x536b35[_0x134654(0x1f1)])));let _0x358bcb=await(0x0,f['downloadMediaMessage'])({'key':_0x536b35?.[_0x134654(0x4d8)],'message':_0x536b35?.[_0x134654(0x1f1)]},_0x134654(0x359),{},{'logger':(0x0,kt['default'])({'level':'silent'}),'reuploadRequest':this['client'][_0x134654(0x7f5)]});if(!(_0x358bcb instanceof Buffer))throw new Error(_0x134654(0x203));let _0x43d03d=this[_0x134654(0x5b4)][_0x134654(0x1bb)](_0x134654(0x81b)),_0x3f9935,_0x5d9e52;if(_0x2875f7[_0x134654(0x308)])_0x3f9935=_0x2875f7[_0x134654(0x308)];else{let _0x513cae=_0x2875f7[_0x134654(0x1d1)]?.['match'](/\/(\w+)/),_0x32cbd5=_0x513cae?_0x513cae[0x1]:null;if(!_0x32cbd5)throw new Error(_0x134654(0x54b));_0x3f9935=(0x0,Ce['v4'])()+'.'+_0x32cbd5;}_0x1ba599===_0x134654(0x560)?_0x5d9e52=_0x134654(0x32a)+await this[_0x134654(0x6a9)](_0x358bcb[_0x134654(0x58f)](_0x134654(0x2de))):(await this['saveMediaToFile'](_0x358bcb,_0x3f9935),_0x5d9e52=_0x134654(0x32a)+_0x3f9935);let _0x15bbcf=this[_0x134654(0x5b4)][_0x134654(0x1bb)]('SERVER')[_0x134654(0x50c)];if(!_0x15bbcf){let _0x345390=this[_0x134654(0x5b4)][_0x134654(0x1bb)](_0x134654(0x381));_0x15bbcf=_0x134654(0x2c7)+(_0x345390&&_0x345390[_0x134654(0x180)][_0x134654(0x771)]('/')[0x4]);}_0x5d9e52=''+_0x15bbcf+_0x5d9e52;let _0x9252=0xc*0x3c*0x3c*0x3e8,_0x2798d7={'where':{'_id':_0x536b35[_0x134654(0x4d8)]['id']}},_0x1a47a1={'message_normalized.fileUrl':_0x5d9e52,'message_normalized.expires_fileUrl':Date['now']()+_0x9252};try{let _0x2032d7=await this['repository'][_0x134654(0x1f1)]['update'](_0x2798d7,_0x1a47a1,this[_0x134654(0x32b)][_0x134654(0x20d)]);_0x2032d7&&U(this[_0x134654(0x7eb)],_0x134654(0x60e),{'message':_0x2032d7});}catch(_0x1d8d47){let _0xd9b23c=_0x134654(0x581),_0x30d389=_0x1d8d47 instanceof Error?_0x1d8d47[_0x134654(0x1f1)]:typeof _0x1d8d47==_0x134654(0x53a)?JSON[_0x134654(0x5b8)](_0x1d8d47):_0x1d8d47,_0x26a8db=_0xd9b23c+':\x20'+_0x30d389;this['logger']['error'](this[_0x134654(0x7eb)]+'\x20('+this[_0x134654(0x32b)][_0x134654(0x20d)]+_0x134654(0x413)+_0x26a8db);}return{'mediaType':_0x1ba599,'fileName':_0x2875f7['fileName'],'caption':_0x2875f7['caption'],'size':{'fileLength':_0x2875f7[_0x134654(0x670)],'height':_0x2875f7['height'],'width':_0x2875f7[_0x134654(0x785)]},'mimetype':_0x2875f7['mimetype'],'base64':_0x358bcb['toString'](_0x134654(0x2de)),'fileUrl':_0x5d9e52,'expires_fileUrl':Date[_0x134654(0x71b)]()+_0x9252};}catch(_0x906197){let _0xa5d6e9=_0x134654(0x2a2),_0x2de9d3=_0x906197 instanceof Error?_0x906197['message']:typeof _0x906197==_0x134654(0x53a)?JSON['stringify'](_0x906197):_0x906197,_0x18960f=_0xa5d6e9+':\x20'+_0x2de9d3;throw this[_0x134654(0x34c)][_0x134654(0x83d)](this[_0x134654(0x7eb)]+'\x20('+this[_0x134654(0x32b)]['wuid']+'):\x20'+_0x18960f),new m(_0x18960f);}}async['saveMediaToFile'](_0x4a4c36,_0x1d8e1f){const _0x9764b0=a0_0x5bdda6;let _0x2dd02c=J[_0x9764b0(0x79b)][_0x9764b0(0x64d)](__dirname,_0x9764b0(0x41e));j['existsSync'](_0x2dd02c)||j[_0x9764b0(0x5a5)](_0x2dd02c,{'recursive':!0x0});let _0x44da77=J[_0x9764b0(0x79b)]['join'](_0x2dd02c,_0x1d8e1f);return new Promise((_0x3d5e20,_0x8653b2)=>{const _0x279d34=_0x9764b0;j[_0x279d34(0x64e)](_0x44da77,_0x4a4c36,_0xfa16d3=>{const _0x309f4d=_0x279d34;_0xfa16d3?(this['logger'][_0x309f4d(0x83d)](_0x309f4d(0x25e)+(_0xfa16d3 instanceof Error?_0xfa16d3[_0x309f4d(0x1f1)]:JSON['stringify'](_0xfa16d3,null,0x2))),_0x8653b2(_0xfa16d3)):(this[_0x309f4d(0x34c)]['log']('File\x20written\x20to\x20path:\x20'+_0x44da77),_0x3d5e20(_0x44da77));});});}async[a0_0x5bdda6(0x603)](_0x2aa4a6){const _0x31e760=a0_0x5bdda6;return await this[_0x31e760(0x320)][_0x31e760(0x32d)][_0x31e760(0x2b1)](_0x2aa4a6,this[_0x31e760(0x32b)]['wuid']);}async['fetchLabels'](){const _0x376afd=a0_0x5bdda6;return await this['repository'][_0x376afd(0x423)][_0x376afd(0x2b1)]({'where':{}},this['instance']['wuid']);}async['fetchMessages'](_0x26df79){const _0x3739d3=a0_0x5bdda6;return await this[_0x3739d3(0x320)]['message']['find'](_0x26df79,this[_0x3739d3(0x32b)][_0x3739d3(0x20d)]);}async[a0_0x5bdda6(0x555)](){const _0x204d55=a0_0x5bdda6;return this[_0x204d55(0x320)]['chat'][_0x204d55(0x568)](this[_0x204d55(0x32b)][_0x204d55(0x20d)]),this[_0x204d55(0x320)][_0x204d55(0x638)][_0x204d55(0x11e)](this['instance'][_0x204d55(0x20d)]),this['repository']['chat']['updateMissingTags'](this[_0x204d55(0x32b)][_0x204d55(0x20d)]),this[_0x204d55(0x320)]['chat'][_0x204d55(0x7d0)](this[_0x204d55(0x32b)][_0x204d55(0x20d)]),await this[_0x204d55(0x320)]['chat'][_0x204d55(0x2b1)]({'where':{}},this['instance'][_0x204d55(0x20d)]);}async[a0_0x5bdda6(0x1e7)](_0x5dbee2){const _0x1837ac=a0_0x5bdda6;try{if(!Array[_0x1837ac(0x13b)](_0x5dbee2)||_0x5dbee2[_0x1837ac(0x29b)]===0x0)throw new Error(_0x1837ac(0x2f9));let _0x196f13=[],_0x554e92=[];for(let _0x2d07d3 of _0x5dbee2){if(_0x2d07d3['_id'])_0x2d07d3[_0x1837ac(0x38a)]=this[_0x1837ac(0x78e)](_0x2d07d3[_0x1837ac(0x38a)]);else continue;await this['repository'][_0x1837ac(0x638)][_0x1837ac(0x28c)]({'where':{'_id':_0x2d07d3[_0x1837ac(0x38a)]}},this[_0x1837ac(0x32b)][_0x1837ac(0x20d)])?_0x554e92[_0x1837ac(0x711)]({'_id':_0x2d07d3[_0x1837ac(0x38a)],'leadInfo':_0x2d07d3[_0x1837ac(0x120)],'owner':this[_0x1837ac(0x32b)][_0x1837ac(0x20d)]}):_0x196f13[_0x1837ac(0x711)]({'_id':_0x2d07d3['_id'],'owner':this[_0x1837ac(0x32b)][_0x1837ac(0x20d)],'leadInfo':_0x2d07d3[_0x1837ac(0x120)],'imported':!0x0});}return _0x554e92[_0x1837ac(0x29b)]>0x0&&await this[_0x1837ac(0x320)]['chat'][_0x1837ac(0x63a)](_0x554e92['map'](_0x4bc117=>({'query':{'where':{'_id':_0x4bc117[_0x1837ac(0x38a)],'owner':this[_0x1837ac(0x32b)][_0x1837ac(0x20d)]}},'update':_0x4bc117}))),_0x196f13[_0x1837ac(0x29b)]>0x0&&await this[_0x1837ac(0x320)]['chat']['insertMany'](_0x196f13,this[_0x1837ac(0x32b)][_0x1837ac(0x20d)]),{'updated':_0x554e92[_0x1837ac(0x29b)],'inserted':_0x196f13[_0x1837ac(0x29b)]};}catch(_0x162848){let _0x14f69b=_0x1837ac(0x155),_0x2fbe6d=_0x162848 instanceof Error?_0x162848[_0x1837ac(0x1f1)]:typeof _0x162848==_0x1837ac(0x53a)?JSON[_0x1837ac(0x5b8)](_0x162848):_0x162848,_0x6c1b06=_0x14f69b+':\x20'+_0x2fbe6d;throw this[_0x1837ac(0x34c)][_0x1837ac(0x83d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x6c1b06),new m(_0x6c1b06);}}async[a0_0x5bdda6(0x55b)](_0x36882c){const _0x13de56=a0_0x5bdda6;try{if(!Array[_0x13de56(0x13b)](_0x36882c)||_0x36882c[_0x13de56(0x29b)]===0x0)throw new Error(_0x13de56(0x2f9));let _0x5c87b7=0x64,_0x21f58b=0x0;for(let _0x427993=0x0;_0x427993<_0x36882c['length'];_0x427993+=_0x5c87b7){let _0x502431=_0x36882c[_0x13de56(0x649)](_0x427993,_0x427993+_0x5c87b7),{updated:_0x2f873d}=await this['importChatsBatch'](_0x502431);_0x21f58b+=_0x2f873d;}return{'updated':_0x21f58b};}catch(_0x175c76){let _0x29c52a='Erro\x20ao\x20importar\x20chats',_0x35d6d7=_0x175c76 instanceof Error?_0x175c76[_0x13de56(0x1f1)]:typeof _0x175c76=='object'?JSON['stringify'](_0x175c76):_0x175c76,_0x288722=_0x29c52a+':\x20'+_0x35d6d7;throw this['logger'][_0x13de56(0x83d)](this['instanceName']+'\x20('+this[_0x13de56(0x32b)][_0x13de56(0x20d)]+_0x13de56(0x413)+_0x288722),new m(_0x288722);}}async[a0_0x5bdda6(0x225)](_0x3970f3){const _0x5d610d=a0_0x5bdda6;try{let _0x40a683=await this[_0x5d610d(0x320)][_0x5d610d(0x423)]['find']({'where':{}},this[_0x5d610d(0x32b)]['wuid']),_0x1f0318=new Set(_0x40a683[_0x5d610d(0x2b0)](_0x520613=>_0x520613[_0x5d610d(0x38a)])),_0x67b18=[],_0x41373f=[];for(let _0x7ed49b of _0x3970f3){if(!_0x7ed49b[_0x5d610d(0x38a)])continue;_0x7ed49b[_0x5d610d(0x38a)]=this[_0x5d610d(0x78e)](_0x7ed49b[_0x5d610d(0x38a)]);let _0x487c80=await this[_0x5d610d(0x320)][_0x5d610d(0x638)][_0x5d610d(0x28c)]({'where':{'_id':_0x7ed49b[_0x5d610d(0x38a)]}},this[_0x5d610d(0x32b)][_0x5d610d(0x20d)]),_0x127a3e={};if(Object['entries'](_0x7ed49b['leadInfo'])[_0x5d610d(0x3a3)](([_0x4518e6,_0x3dc63d])=>{const _0x5048cd=_0x5d610d;_0x127a3e[_0x5048cd(0x519)+_0x4518e6]=_0x3dc63d;}),_0x487c80&&!_0x487c80[_0x5d610d(0x280)]){let _0x3881f7=(_0x7ed49b[_0x5d610d(0x120)]['etiquetas']||[])['filter'](_0x352b34=>_0x1f0318[_0x5d610d(0x2fc)](_0x352b34)),_0x303718=new Set(_0x487c80[_0x5d610d(0x120)][_0x5d610d(0x67c)]||[]),_0x392961=_0x3881f7[_0x5d610d(0x539)](_0x404bdb=>!_0x303718[_0x5d610d(0x2fc)](_0x404bdb)),_0x139fd9=[..._0x303718]['filter'](_0x21b47a=>!_0x3881f7[_0x5d610d(0x71f)](_0x21b47a));_0x41373f['push'](..._0x392961[_0x5d610d(0x2b0)](_0x3a6f96=>this[_0x5d610d(0x248)](_0x3a6f96,_0x7ed49b['_id']))),_0x41373f[_0x5d610d(0x711)](..._0x139fd9[_0x5d610d(0x2b0)](_0x457693=>this[_0x5d610d(0x525)](_0x457693,_0x7ed49b['_id']))),_0x7ed49b[_0x5d610d(0x120)][_0x5d610d(0x67c)]=_0x3881f7,_0x67b18[_0x5d610d(0x711)]({'query':{'where':{'_id':_0x7ed49b[_0x5d610d(0x38a)],'owner':this['instance'][_0x5d610d(0x20d)]}},'update':_0x127a3e});}else _0x127a3e[_0x5d610d(0x280)]=!0x0,_0x67b18[_0x5d610d(0x711)]({'query':{'where':{'_id':_0x7ed49b[_0x5d610d(0x38a)],'owner':this[_0x5d610d(0x32b)][_0x5d610d(0x20d)]}},'update':_0x127a3e});}let _0x11fc4c=await this['repository'][_0x5d610d(0x638)][_0x5d610d(0x63a)](_0x67b18);return await Promise[_0x5d610d(0x219)](_0x41373f),{'updated':_0x11fc4c};}catch(_0x4e5e7f){let _0x3fa6ae=_0x5d610d(0x155),_0x46ea55=_0x4e5e7f instanceof Error?_0x4e5e7f[_0x5d610d(0x1f1)]:typeof _0x4e5e7f==_0x5d610d(0x53a)?JSON['stringify'](_0x4e5e7f):_0x4e5e7f,_0x399b79=_0x3fa6ae+':\x20'+_0x46ea55;throw this['logger'][_0x5d610d(0x83d)](this['instanceName']+'\x20('+this[_0x5d610d(0x32b)][_0x5d610d(0x20d)]+_0x5d610d(0x413)+_0x399b79),new m(_0x399b79);}}async[a0_0x5bdda6(0x11c)](){const _0x13b633=a0_0x5bdda6;return await this[_0x13b633(0x249)][_0x13b633(0x11c)]();}async[a0_0x5bdda6(0x6d6)](_0x16784f){const _0x2f3fb9=a0_0x5bdda6;try{return await this[_0x2f3fb9(0x249)][_0x2f3fb9(0x74e)](_0x16784f[_0x2f3fb9(0x18c)][_0x2f3fb9(0x429)]),await this[_0x2f3fb9(0x249)][_0x2f3fb9(0x769)](_0x16784f[_0x2f3fb9(0x18c)][_0x2f3fb9(0x74b)]),await this[_0x2f3fb9(0x249)][_0x2f3fb9(0x781)](_0x16784f[_0x2f3fb9(0x18c)][_0x2f3fb9(0x390)]),await this[_0x2f3fb9(0x249)]['updateOnlinePrivacy'](_0x16784f[_0x2f3fb9(0x18c)][_0x2f3fb9(0x407)]),await this[_0x2f3fb9(0x249)][_0x2f3fb9(0x587)](_0x16784f[_0x2f3fb9(0x18c)]['last']),await this[_0x2f3fb9(0x249)][_0x2f3fb9(0x40b)](_0x16784f[_0x2f3fb9(0x18c)][_0x2f3fb9(0x816)]),this[_0x2f3fb9(0x249)]?.['ws']?.[_0x2f3fb9(0x133)](),{'update':'success','data':{'readreceipts':_0x16784f[_0x2f3fb9(0x18c)]['readreceipts'],'profile':_0x16784f['privacySettings'][_0x2f3fb9(0x74b)],'status':_0x16784f[_0x2f3fb9(0x18c)][_0x2f3fb9(0x390)],'online':_0x16784f[_0x2f3fb9(0x18c)]['online'],'last':_0x16784f[_0x2f3fb9(0x18c)]['last'],'groupadd':_0x16784f['privacySettings'][_0x2f3fb9(0x816)]}};}catch(_0x252a32){let _0x21c60e=_0x2f3fb9(0x710),_0x21f02c=_0x252a32 instanceof Error?_0x252a32['message']:typeof _0x252a32==_0x2f3fb9(0x53a)?JSON['stringify'](_0x252a32):_0x252a32,_0x24a6cc=_0x21c60e+':\x20'+_0x21f02c;throw this[_0x2f3fb9(0x34c)][_0x2f3fb9(0x83d)](this['instanceName']+'\x20('+this[_0x2f3fb9(0x32b)][_0x2f3fb9(0x20d)]+_0x2f3fb9(0x413)+_0x24a6cc),new m(_0x24a6cc);}}async[a0_0x5bdda6(0x839)](_0x3b6b12){const _0x35f854=a0_0x5bdda6;let _0x505dfd=(_0x3b6b12?this['createJid'](_0x3b6b12):this[_0x35f854(0x249)]?.['user']?.['id'])[_0x35f854(0x4a9)](/:\d{1,2}@/g,'@');this[_0x35f854(0x34c)]['verbose']('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x505dfd);let _0x55d0e7=await this[_0x35f854(0x320)]['contact'][_0x35f854(0x28c)]({'where':{'_id':_0x505dfd}},this['instance'][_0x35f854(0x20d)]),_0x41ea12=_0x55d0e7?_0x55d0e7[_0x35f854(0x689)]:null;try{let _0x302ff2=(await this[_0x35f854(0x3db)]({'numbers':[_0x505dfd]}))?.[_0x35f854(0x56e)](),_0x55bc21=(await this[_0x35f854(0x21b)](_0x505dfd,null,!0x1))[_0x35f854(0x3e4)][_0x35f854(0x524)],_0x1ae360=await this[_0x35f854(0x153)](_0x302ff2?.[_0x35f854(0x518)]),_0x31625f=await this[_0x35f854(0x67b)](_0x302ff2?.[_0x35f854(0x518)]),_0x3c7f67=(await this[_0x35f854(0x21b)](_0x505dfd,null,!0x1))[_0x35f854(0x3e4)][_0x35f854(0x63e)],_0x2253b6=await this[_0x35f854(0x320)][_0x35f854(0x638)]['findOne']({'where':{'_id':_0x505dfd}},this[_0x35f854(0x32b)][_0x35f854(0x20d)]),_0x250ea3={'imagechat':_0x55bc21,'contactname':_0x41ea12||null,'pushName':_0x3c7f67,'status':_0x1ae360?.[_0x35f854(0x390)],'isBusiness':_0x31625f[_0x35f854(0x818)],'email':_0x31625f?.[_0x35f854(0x187)],'description':_0x31625f?.[_0x35f854(0x702)],'website':_0x31625f?.[_0x35f854(0x1e2)]?.[_0x35f854(0x56e)](),'lastcache':Date[_0x35f854(0x71b)](),'imported':!_0x2253b6},_0x21628c=await this[_0x35f854(0x320)][_0x35f854(0x638)][_0x35f854(0x31c)]({'where':{'_id':_0x505dfd}},_0x250ea3,this[_0x35f854(0x32b)][_0x35f854(0x20d)]),_0x657dd={'owner':this['instance']['wuid'],'_id':_0x505dfd,'profilePictureUrl':_0x55bc21,'status':_0x1ae360?.[_0x35f854(0x390)]};return this[_0x35f854(0x320)][_0x35f854(0x32d)][_0x35f854(0x674)]([_0x657dd],this[_0x35f854(0x32b)][_0x35f854(0x20d)]),_0x21628c&&U(this['instanceName'],'chats',{'chat':_0x21628c}),{'wuid':_0x302ff2?.[_0x35f854(0x518)]||_0x505dfd,'name':_0x302ff2?.[_0x35f854(0x63e)],'pushName':_0x3c7f67,'numberExists':_0x302ff2?.[_0x35f854(0x2d9)],'picture':_0x55bc21,'status':_0x1ae360?.['status'],'isBusiness':_0x31625f[_0x35f854(0x818)],'email':_0x31625f?.['email'],'description':_0x31625f?.[_0x35f854(0x702)],'website':_0x31625f?.[_0x35f854(0x1e2)]?.[_0x35f854(0x56e)]()};}catch(_0xe579e3){return this[_0x35f854(0x34c)][_0x35f854(0x83d)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0xe579e3 instanceof Error?_0xe579e3[_0x35f854(0x1f1)]:JSON['stringify'](_0xe579e3,null,0x2))),{};}}async[a0_0x5bdda6(0x67b)](_0x47b713){const _0x51bf7c=a0_0x5bdda6;this[_0x51bf7c(0x34c)][_0x51bf7c(0x1f6)](_0x51bf7c(0x6c3));try{let _0x59fabd=_0x47b713?this[_0x51bf7c(0x78e)](_0x47b713):this['instance'][_0x51bf7c(0x20d)],_0x222762=await this['client'][_0x51bf7c(0x7e7)](_0x59fabd);return this['logger'][_0x51bf7c(0x1f6)]('Trying\x20to\x20get\x20business\x20profile'),_0x222762?(this[_0x51bf7c(0x34c)]['verbose'](_0x51bf7c(0x463)),{'isBusiness':!0x0,..._0x222762}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x51bf7c(0x3db)]({'numbers':[_0x59fabd]}))?.[_0x51bf7c(0x56e)]()};}catch(_0x54580b){let _0xfdcfc4=_0x51bf7c(0x570),_0x33719e=_0x54580b instanceof Error?_0x54580b[_0x51bf7c(0x1f1)]:typeof _0x54580b==_0x51bf7c(0x53a)?JSON[_0x51bf7c(0x5b8)](_0x54580b):_0x54580b,_0x531ddb=_0xfdcfc4+':\x20'+_0x33719e;throw this['logger'][_0x51bf7c(0x83d)](this['instanceName']+'\x20('+this[_0x51bf7c(0x32b)][_0x51bf7c(0x20d)]+_0x51bf7c(0x413)+_0x531ddb),new x(_0x531ddb);}}async[a0_0x5bdda6(0x153)](_0x1a5357){const _0x3cc3d3=a0_0x5bdda6;let _0x42f69d=this[_0x3cc3d3(0x78e)](_0x1a5357);try{return{'wuid':_0x42f69d,'status':(await this[_0x3cc3d3(0x249)]['fetchStatus'](_0x42f69d))?.[_0x3cc3d3(0x390)]};}catch{return{'wuid':_0x42f69d,'status':null};}}async[a0_0x5bdda6(0x196)](_0x1cc570){const _0x279c74=a0_0x5bdda6;try{return await this[_0x279c74(0x249)][_0x279c74(0x196)](_0x1cc570),{'update':_0x279c74(0x143)};}catch(_0x188bf4){let _0x1718b1=_0x279c74(0x274),_0x3a8a34=_0x188bf4 instanceof Error?_0x188bf4[_0x279c74(0x1f1)]:typeof _0x188bf4==_0x279c74(0x53a)?JSON[_0x279c74(0x5b8)](_0x188bf4):_0x188bf4,_0xc5afdb=_0x1718b1+':\x20'+_0x3a8a34;throw this[_0x279c74(0x34c)][_0x279c74(0x83d)](this[_0x279c74(0x7eb)]+'\x20('+this[_0x279c74(0x32b)]['wuid']+_0x279c74(0x413)+_0xc5afdb),new x(_0xc5afdb);}}async[a0_0x5bdda6(0x6b5)](_0x189c30){const _0x22d438=a0_0x5bdda6;try{return await this[_0x22d438(0x249)][_0x22d438(0x6b5)](_0x189c30),{'update':_0x22d438(0x143)};}catch(_0x24666c){let _0x13f62a=_0x22d438(0x437),_0x43a997=_0x24666c instanceof Error?_0x24666c[_0x22d438(0x1f1)]:typeof _0x24666c==_0x22d438(0x53a)?JSON['stringify'](_0x24666c):_0x24666c,_0x551057=_0x13f62a+':\x20'+_0x43a997;throw this[_0x22d438(0x34c)][_0x22d438(0x83d)](this[_0x22d438(0x7eb)]+'\x20('+this[_0x22d438(0x32b)][_0x22d438(0x20d)]+'):\x20'+_0x551057),new x(_0x551057);}}async[a0_0x5bdda6(0x660)](_0x1d007c){const _0x46892a=a0_0x5bdda6;try{let _0x48fccb;if((0x0,k[_0x46892a(0x22d)])(_0x1d007c)){let _0x181abc=new Date()[_0x46892a(0x578)](),_0x51a0e5=_0x1d007c+_0x46892a(0x26e)+_0x181abc;_0x48fccb=(await Q[_0x46892a(0x79b)][_0x46892a(0x1bb)](_0x51a0e5,{'responseType':'arraybuffer'}))[_0x46892a(0x6d0)];}else{if((0x0,k['isBase64'])(_0x1d007c))_0x48fccb=Buffer[_0x46892a(0x47d)](_0x1d007c,_0x46892a(0x2de));else throw new m(_0x46892a(0x4f7));}return await this[_0x46892a(0x249)][_0x46892a(0x660)](this[_0x46892a(0x32b)][_0x46892a(0x20d)],_0x48fccb),{'update':_0x46892a(0x143)};}catch(_0x56103c){let _0x484eee=_0x46892a(0x130),_0x5080a7=_0x56103c instanceof Error?_0x56103c[_0x46892a(0x1f1)]:typeof _0x56103c==_0x46892a(0x53a)?JSON[_0x46892a(0x5b8)](_0x56103c):_0x56103c,_0x5d0c35=_0x484eee+':\x20'+_0x5080a7;throw this[_0x46892a(0x34c)][_0x46892a(0x83d)](this[_0x46892a(0x7eb)]+'\x20('+this['instance'][_0x46892a(0x20d)]+'):\x20'+_0x5d0c35),new x(_0x5d0c35);}}async[a0_0x5bdda6(0x1e8)](){const _0x2c1298=a0_0x5bdda6;try{return await this[_0x2c1298(0x249)][_0x2c1298(0x1e8)](this[_0x2c1298(0x32b)][_0x2c1298(0x20d)]),{'update':_0x2c1298(0x143)};}catch(_0x272ec6){let _0x46982e='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x4561c0=_0x272ec6 instanceof Error?_0x272ec6[_0x2c1298(0x1f1)]:typeof _0x272ec6==_0x2c1298(0x53a)?JSON[_0x2c1298(0x5b8)](_0x272ec6):_0x272ec6,_0x3f28fb=_0x46982e+':\x20'+_0x4561c0;throw this[_0x2c1298(0x34c)][_0x2c1298(0x83d)](this[_0x2c1298(0x7eb)]+'\x20('+this[_0x2c1298(0x32b)][_0x2c1298(0x20d)]+'):\x20'+_0x3f28fb),new x(_0x3f28fb);}}async['createGroup'](_0x146510){const _0x139501=a0_0x5bdda6;try{let _0x15c8d2=(await this[_0x139501(0x3db)]({'numbers':_0x146510[_0x139501(0x504)]}))[_0x139501(0x539)](_0x1dec9e=>_0x1dec9e[_0x139501(0x2d9)])[_0x139501(0x2b0)](_0x120731=>_0x120731[_0x139501(0x518)]),{id:_0x546a7f}=await this['client'][_0x139501(0x182)](_0x146510[_0x139501(0x608)],_0x15c8d2);_0x146510?.[_0x139501(0x702)]&&await this[_0x139501(0x249)]['groupUpdateDescription'](_0x546a7f,_0x146510['description']);let _0x171247=await this[_0x139501(0x249)][_0x139501(0x3a7)](_0x546a7f);return _0x171247['awaitingApproval']=[],{'metadata':_0x171247};}catch(_0x3fa099){let _0x5406f7=_0x139501(0x515),_0x471271=_0x3fa099 instanceof Error?_0x3fa099[_0x139501(0x1f1)]:typeof _0x3fa099==_0x139501(0x53a)?JSON[_0x139501(0x5b8)](_0x3fa099):_0x3fa099,_0x4c90fc=_0x5406f7+':\x20'+_0x471271;throw this[_0x139501(0x34c)]['error'](this[_0x139501(0x7eb)]+'\x20('+this[_0x139501(0x32b)][_0x139501(0x20d)]+_0x139501(0x413)+_0x4c90fc),new x(_0x4c90fc);}}async[a0_0x5bdda6(0x566)](_0x57a702){const _0x4d1479=a0_0x5bdda6;try{if(_0x57a702[_0x4d1479(0x57c)]===!0x0&&await this[_0x4d1479(0x249)][_0x4d1479(0x1c4)](_0x57a702[_0x4d1479(0x268)],_0x4d1479(0x303)),_0x57a702[_0x4d1479(0x57c)]===!0x1&&await this['client'][_0x4d1479(0x1c4)](_0x57a702[_0x4d1479(0x268)],'unlocked'),_0x57a702[_0x4d1479(0x67a)]===!0x0&&await this[_0x4d1479(0x249)]['groupSettingUpdate'](_0x57a702[_0x4d1479(0x268)],'announcement'),_0x57a702['announce']===!0x1&&await this[_0x4d1479(0x249)][_0x4d1479(0x1c4)](_0x57a702[_0x4d1479(0x268)],'not_announcement'),_0x57a702[_0x4d1479(0x7e5)]===!0x0&&await this[_0x4d1479(0x249)]['groupMemberAddMode'](_0x57a702['groupJid'],_0x4d1479(0x5b9)),_0x57a702['memberAddMode']===!0x1&&await this[_0x4d1479(0x249)][_0x4d1479(0x55c)](_0x57a702[_0x4d1479(0x268)],_0x4d1479(0x53d)),_0x57a702[_0x4d1479(0x30a)]===!0x0&&await this[_0x4d1479(0x249)][_0x4d1479(0x758)](_0x57a702[_0x4d1479(0x268)],'on'),_0x57a702[_0x4d1479(0x30a)]===!0x1&&await this[_0x4d1479(0x249)][_0x4d1479(0x758)](_0x57a702['groupJid'],_0x4d1479(0x5f7)),typeof _0x57a702[_0x4d1479(0x3ab)]<'u'&&_0x57a702['expiration']!==null&&await this[_0x4d1479(0x249)][_0x4d1479(0x2bd)](_0x57a702[_0x4d1479(0x268)],_0x57a702[_0x4d1479(0x3ab)]),_0x57a702['name']&&await this[_0x4d1479(0x249)]['groupUpdateSubject'](_0x57a702[_0x4d1479(0x268)],_0x57a702[_0x4d1479(0x63e)]),_0x57a702[_0x4d1479(0x702)]&&await this['client'][_0x4d1479(0x114)](_0x57a702[_0x4d1479(0x268)],_0x57a702[_0x4d1479(0x702)]),_0x57a702[_0x4d1479(0x614)]){let _0x59f217;if((0x0,k[_0x4d1479(0x22d)])(_0x57a702['image'])){let _0x37abf1=new Date()[_0x4d1479(0x578)](),_0xcb6571=_0x57a702[_0x4d1479(0x614)]+'?timestamp='+_0x37abf1;_0x59f217=(await Q[_0x4d1479(0x79b)][_0x4d1479(0x1bb)](_0xcb6571,{'responseType':_0x4d1479(0x179)}))['data'];}else{if((0x0,k['isBase64'])(_0x57a702[_0x4d1479(0x614)]))_0x59f217=Buffer['from'](_0x57a702[_0x4d1479(0x614)],_0x4d1479(0x2de));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this['client']['updateProfilePicture'](_0x57a702[_0x4d1479(0x268)],_0x59f217);}return await this[_0x4d1479(0x677)]({'groupJid':_0x57a702[_0x4d1479(0x268)]});}catch(_0x12c8fe){let _0xfe9ed0='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x52c662=_0x12c8fe instanceof Error?_0x12c8fe[_0x4d1479(0x1f1)]:typeof _0x12c8fe==_0x4d1479(0x53a)?JSON[_0x4d1479(0x5b8)](_0x12c8fe):_0x12c8fe,_0x9a1a4f=_0xfe9ed0+':\x20'+_0x52c662;throw this[_0x4d1479(0x34c)]['error'](this[_0x4d1479(0x7eb)]+'\x20('+this[_0x4d1479(0x32b)]['wuid']+_0x4d1479(0x413)+_0x9a1a4f),new x(_0x9a1a4f);}}async[a0_0x5bdda6(0x740)](_0xf38efa){const _0x15d1fd=a0_0x5bdda6;try{if(_0xf38efa[_0x15d1fd(0x23f)]===_0x15d1fd(0x777)||_0xf38efa[_0x15d1fd(0x23f)]==='reject'){let _0x2380d7=_0xf38efa['participants'][_0x15d1fd(0x2b0)](_0x5e58c3=>this['createJid'](_0x5e58c3));await this[_0x15d1fd(0x249)][_0x15d1fd(0x552)](_0xf38efa[_0x15d1fd(0x268)],_0x2380d7,_0xf38efa[_0x15d1fd(0x23f)]);}else{if(_0xf38efa['action']===_0x15d1fd(0x6cd)){let _0x2c29e7=(await this[_0x15d1fd(0x3db)]({'numbers':_0xf38efa[_0x15d1fd(0x504)]}))[_0x15d1fd(0x539)](_0x40cb8b=>_0x40cb8b[_0x15d1fd(0x2d9)])[_0x15d1fd(0x2b0)](_0x314a78=>this[_0x15d1fd(0x78e)](_0x314a78[_0x15d1fd(0x518)]));if(_0x2c29e7['length']===0x0)throw new m(_0x15d1fd(0x7b2));await this[_0x15d1fd(0x249)]['groupParticipantsUpdate'](_0xf38efa['groupJid'],_0x2c29e7,'add');}else{let _0x3a0c61=_0xf38efa[_0x15d1fd(0x504)][_0x15d1fd(0x2b0)](_0x43237d=>this[_0x15d1fd(0x78e)](_0x43237d));await this[_0x15d1fd(0x249)]['groupParticipantsUpdate'](_0xf38efa[_0x15d1fd(0x268)],_0x3a0c61,_0xf38efa[_0x15d1fd(0x23f)]);}}return await this[_0x15d1fd(0x677)]({'groupJid':_0xf38efa['groupJid']});}catch(_0x4660a6){let _0x4a0204=_0x15d1fd(0x3c1),_0x1509fc=_0x4660a6 instanceof Error?_0x4660a6['message']:typeof _0x4660a6==_0x15d1fd(0x53a)?JSON['stringify'](_0x4660a6):_0x4660a6,_0x6540bb=_0x4a0204+':\x20'+_0x1509fc;throw this[_0x15d1fd(0x34c)][_0x15d1fd(0x83d)](this[_0x15d1fd(0x7eb)]+'\x20('+this[_0x15d1fd(0x32b)][_0x15d1fd(0x20d)]+_0x15d1fd(0x413)+_0x6540bb),new m(_0x6540bb);}}async[a0_0x5bdda6(0x314)](_0x29df45){const _0x3595e1=a0_0x5bdda6;try{return await this[_0x3595e1(0x249)][_0x3595e1(0x314)](_0x29df45[_0x3595e1(0x51b)]);}catch(_0x1b8ef7){let _0x57f5ea=_0x3595e1(0x6bd),_0x490574=_0x1b8ef7 instanceof Error?_0x1b8ef7['message']:typeof _0x1b8ef7==_0x3595e1(0x53a)?JSON[_0x3595e1(0x5b8)](_0x1b8ef7):_0x1b8ef7,_0x59e293=_0x57f5ea+':\x20'+_0x490574;throw this[_0x3595e1(0x34c)][_0x3595e1(0x83d)](this['instanceName']+'\x20('+this[_0x3595e1(0x32b)][_0x3595e1(0x20d)]+_0x3595e1(0x413)+_0x59e293),new m(_0x59e293);}}async['findGroup'](_0x306dcd,_0x41fdd9=a0_0x5bdda6(0x4d0)){const _0x71f59f=a0_0x5bdda6;try{let _0x4ffc55=await this['repository'][_0x71f59f(0x638)][_0x71f59f(0x28c)]({'where':{'_id':_0x306dcd['groupJid']}},this[_0x71f59f(0x32b)][_0x71f59f(0x20d)]),_0x323c54=_0x4ffc55?_0x4ffc55[_0x71f59f(0x4e6)]:null,_0x389809=0x18*0x3c*0x3c*0x3e8;if(!_0x323c54||_0x323c54[_0x71f59f(0x247)]&&Date[_0x71f59f(0x71b)]()-_0x323c54[_0x71f59f(0x247)]>_0x389809){let _0x2642fc=await this[_0x71f59f(0x249)][_0x71f59f(0x3a7)](_0x306dcd['groupJid']);if(_0x2642fc[_0x71f59f(0x80e)]=_0x2642fc?.[_0x71f59f(0x80e)]&&_0x2642fc['subjectTime']['toString']()[_0x71f59f(0x29b)]<0xd?_0x2642fc?.[_0x71f59f(0x80e)]*0x3e8:_0x2642fc?.[_0x71f59f(0x80e)]||null,_0x2642fc[_0x71f59f(0x21f)]=_0x2642fc?.['creation']&&_0x2642fc[_0x71f59f(0x21f)][_0x71f59f(0x58f)]()[_0x71f59f(0x29b)]<0xd?_0x2642fc?.[_0x71f59f(0x21f)]*0x3e8:_0x2642fc?.['creation']||null,_0x323c54={..._0x2642fc,'lastUpdate':Date[_0x71f59f(0x71b)]()},!_0x2642fc)return;}let _0x5f1115=_0x323c54[_0x71f59f(0x504)][_0x71f59f(0x4d1)](_0x4f284d=>_0x4f284d['id']===this[_0x71f59f(0x32b)][_0x71f59f(0x20d)]+'@s.whatsapp.net'&&_0x4f284d[_0x71f59f(0x250)]!=null);!_0x323c54[_0x71f59f(0x51b)]&&_0x5f1115&&(_0x323c54[_0x71f59f(0x51b)]=(await this['inviteCode'](_0x306dcd,!0x1))[_0x71f59f(0x69a)]);let _0x5b81f9=(!_0x323c54[_0x71f59f(0x67a)]||_0x5f1115)&&(!_0x323c54[_0x71f59f(0x718)]||_0x323c54['isCommunity']&&_0x323c54['isCommunityAnnounce']&&_0x5f1115);_0x323c54[_0x71f59f(0x12e)]=_0x5f1115,_0x323c54[_0x71f59f(0x699)]=_0x5b81f9;let _0x287577=[];if(_0x5f1115&&_0x323c54[_0x71f59f(0x30a)])try{_0x287577=await this['client'][_0x71f59f(0x7fc)](_0x306dcd[_0x71f59f(0x268)]),_0x323c54['lastFetchAwaitingApproval']=Date['now']();}catch(_0x459e91){this[_0x71f59f(0x34c)][_0x71f59f(0x1f6)](this[_0x71f59f(0x7eb)]+'\x20('+this[_0x71f59f(0x32b)][_0x71f59f(0x20d)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x306dcd[_0x71f59f(0x268)]+':\x20'+(_0x459e91 instanceof Error?_0x459e91[_0x71f59f(0x1f1)]:JSON[_0x71f59f(0x5b8)](_0x459e91,null,0x2)));}try{_0x323c54[_0x71f59f(0x614)]=(await this[_0x71f59f(0x21b)](_0x306dcd[_0x71f59f(0x268)],null,!0x0))[_0x71f59f(0x3e4)]['pictureUrl'];}catch(_0x5e5f79){this[_0x71f59f(0x34c)][_0x71f59f(0x1f6)](this[_0x71f59f(0x7eb)]+'\x20('+this[_0x71f59f(0x32b)][_0x71f59f(0x20d)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x306dcd[_0x71f59f(0x268)]+':\x20'+(_0x5e5f79 instanceof Error?_0x5e5f79['message']:JSON[_0x71f59f(0x5b8)](_0x5e5f79,null,0x2)));}let _0x263e00=_0x323c54[_0x71f59f(0x504)][_0x71f59f(0x2b0)](_0x22f0b2=>_0x22f0b2['id']),_0x4d76a3=_0x287577[_0x71f59f(0x2b0)](_0x35cd0b=>_0x35cd0b['jid']),_0x18f373=await this[_0x71f59f(0x320)][_0x71f59f(0x15c)][_0x71f59f(0x501)]([..._0x263e00,..._0x4d76a3]);_0x323c54['participants']=_0x323c54[_0x71f59f(0x504)][_0x71f59f(0x2b0)](_0x206a90=>{const _0x42cc20=_0x71f59f;let _0x5cac69=_0x18f373['find'](_0xa9397e=>_0xa9397e[_0x42cc20(0x38a)]===_0x206a90['id']);return{'id':_0x206a90['id'],'isAdmin':['admin',_0x42cc20(0x412)][_0x42cc20(0x71f)](_0x206a90[_0x42cc20(0x250)]),'admin':_0x206a90[_0x42cc20(0x250)],'pushName':_0x5cac69?.['name'],'profilePictureUrl':_0x5cac69?.['pictureUrl']};}),_0x323c54[_0x71f59f(0x473)]=_0x287577[_0x71f59f(0x2b0)](_0x12228e=>{const _0x4ee6e6=_0x71f59f;let _0x431524=_0x18f373[_0x4ee6e6(0x2b1)](_0x53fa80=>_0x53fa80[_0x4ee6e6(0x38a)]===_0x12228e[_0x4ee6e6(0x518)]);return{'id':_0x12228e[_0x4ee6e6(0x518)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x431524?.[_0x4ee6e6(0x63e)],'profilePictureUrl':_0x431524?.[_0x4ee6e6(0x524)],'request_method':_0x12228e[_0x4ee6e6(0x335)],'request_time':_0x12228e[_0x4ee6e6(0x244)]};});let _0x2f5dc5=await this[_0x71f59f(0x320)][_0x71f59f(0x638)][_0x71f59f(0x31c)]({'where':{'_id':_0x306dcd[_0x71f59f(0x268)]}},{'imagechat':_0x323c54[_0x71f59f(0x614)],'name':_0x323c54[_0x71f59f(0x608)],'lastcache':Date[_0x71f59f(0x71b)](),'groupdata':_0x323c54},this[_0x71f59f(0x32b)][_0x71f59f(0x20d)]);return U(this[_0x71f59f(0x7eb)],_0x71f59f(0x6ca),{'chat':_0x2f5dc5}),{'metadata':_0x323c54};}catch(_0x146af9){if(_0x41fdd9===_0x71f59f(0x4b5))return;throw new q(_0x71f59f(0x7b6),_0x146af9['message'][_0x71f59f(0x58f)]());}}async['findGroups'](){const _0x38e710=a0_0x5bdda6;try{let _0xe8fad4=[],_0x34fce9=await this[_0x38e710(0x249)][_0x38e710(0x176)](),_0x46caf0=Object[_0x38e710(0x449)](_0x34fce9),_0x26c375=_0x46caf0[_0x38e710(0x539)](_0x38126a=>(0x0,f[_0x38e710(0x464)])(_0x38126a?.['id']))[_0x38e710(0x2b0)](async _0x90a8ec=>{const _0x1f45e0=_0x38e710;try{return await this[_0x1f45e0(0x249)][_0x1f45e0(0x157)](_0x90a8ec['id'],_0x1f45e0(0x82d));}catch(_0x663753){return this[_0x1f45e0(0x34c)][_0x1f45e0(0x1f6)](this['instanceName']+'\x20('+this[_0x1f45e0(0x32b)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x90a8ec['id']+':\x20'+(_0x663753 instanceof Error?_0x663753[_0x1f45e0(0x1f1)]:JSON['stringify'](_0x663753,null,0x2))),null;}}),_0x2e1e76=await Promise[_0x38e710(0x219)](_0x26c375);for(let _0x36b5c1=0x0;_0x36b5c1<_0x46caf0[_0x38e710(0x29b)];_0x36b5c1++){let _0x223a0f=_0x46caf0[_0x36b5c1];(0x0,f[_0x38e710(0x464)])(_0x223a0f?.['id'])&&(_0xe8fad4[_0x38e710(0x711)]({'groupJid':_0x223a0f?.['id'],'subject':_0x223a0f?.[_0x38e710(0x608)],'subjectOwner':_0x223a0f?.['subjectOwner']?.[_0x38e710(0x771)]('@')[0x0],'subjectTime':_0x223a0f?.[_0x38e710(0x80e)],'creation':_0x223a0f?.[_0x38e710(0x21f)],'size':_0x223a0f?.[_0x38e710(0x504)]?.[_0x38e710(0x29b)],'owner':_0x223a0f?.[_0x38e710(0x7cf)]?.[_0x38e710(0x771)]('@')[0x0],'desc':_0x223a0f?.[_0x38e710(0x53b)],'restrict':_0x223a0f?.['restrict'],'announce':_0x223a0f?.['announce'],'image':_0x2e1e76[_0x36b5c1],'isCommunity':_0x223a0f?.['isCommunity'],'joinApprovalMode':_0x223a0f?.[_0x38e710(0x30a)],'memberCanAddParticipant':_0x223a0f?.[_0x38e710(0x7e5)],'participants':_0x223a0f?.[_0x38e710(0x504)],'descOwner':_0x223a0f?.[_0x38e710(0x57b)],'descId':_0x223a0f?.[_0x38e710(0x3dd)],'memberAddMode':_0x223a0f?.[_0x38e710(0x7e5)],'isCommunityAnnounce':_0x223a0f?.[_0x38e710(0x4f5)],'ephemeralDuration':_0x223a0f?.[_0x38e710(0x66f)]||0x0,'author':_0x223a0f?.[_0x38e710(0x458)]}),this[_0x38e710(0x821)](_0x46caf0[_0x36b5c1]));}return _0xe8fad4;}catch(_0x58b45d){let _0x46cfbe=_0x38e710(0x184),_0x4b2518=_0x58b45d instanceof Error?_0x58b45d['message']:typeof _0x58b45d==_0x38e710(0x53a)?JSON['stringify'](_0x58b45d):_0x58b45d,_0x2f8554=_0x46cfbe+':\x20'+_0x4b2518;throw this[_0x38e710(0x34c)][_0x38e710(0x83d)](this['instanceName']+'\x20('+this['instance'][_0x38e710(0x20d)]+'):\x20'+_0x2f8554),new q(_0x2f8554);}}async['updateChatGroupData'](_0x3723b5){const _0x59a723=a0_0x5bdda6;let _0x114a43=await this['repository'][_0x59a723(0x638)][_0x59a723(0x28c)]({'where':{'_id':_0x3723b5['id']}},this[_0x59a723(0x32b)][_0x59a723(0x20d)]);_0x3723b5[_0x59a723(0x80e)]=_0x3723b5?.[_0x59a723(0x80e)]&&_0x3723b5['subjectTime'][_0x59a723(0x58f)]()[_0x59a723(0x29b)]<0xd?_0x3723b5?.[_0x59a723(0x80e)]*0x3e8:_0x3723b5?.[_0x59a723(0x80e)]||null,_0x3723b5['creation']=_0x3723b5?.[_0x59a723(0x21f)]&&_0x3723b5['creation'][_0x59a723(0x58f)]()['length']<0xd?_0x3723b5?.[_0x59a723(0x21f)]*0x3e8:_0x3723b5?.[_0x59a723(0x21f)]||null;let _0x15dd04=_0x114a43?.[_0x59a723(0x4e6)]?.[_0x59a723(0x473)]||[],_0x40f861=_0x114a43?.['groupdata']?.[_0x59a723(0x2b2)],_0x209d73=_0x3723b5[_0x59a723(0x504)][_0x59a723(0x2b0)](_0x136d97=>{const _0x20f35e=_0x59a723;let _0x23aa55=_0x114a43?.[_0x20f35e(0x4e6)]?.[_0x20f35e(0x504)][_0x20f35e(0x2b1)](_0x4eb080=>_0x4eb080['id']===_0x136d97['id']);return{..._0x136d97,'isAdmin':['admin','superadmin']['includes'](_0x136d97[_0x20f35e(0x250)]),'admin':_0x136d97[_0x20f35e(0x250)],'name':_0x23aa55?.[_0x20f35e(0x63e)]||_0x136d97[_0x20f35e(0x63e)],'imgUrl':_0x23aa55?.['imgUrl']||_0x136d97[_0x20f35e(0x137)]};}),_0x4be4d5=_0x209d73[_0x59a723(0x4d1)](_0x132fff=>_0x132fff['id']===this['instance']['wuid']+_0x59a723(0x2e3)&&_0x132fff['isAdmin']),_0x4cc6b4=(!_0x3723b5[_0x59a723(0x67a)]||_0x4be4d5)&&(!_0x3723b5[_0x59a723(0x718)]||_0x3723b5[_0x59a723(0x718)]&&_0x3723b5[_0x59a723(0x4f5)]&&_0x4be4d5),_0x3478b8={..._0x3723b5,'participants':_0x209d73,'awaitingApproval':_0x15dd04,'lastFetchAwaitingApproval':_0x40f861,'isAdmin':_0x4be4d5,'canSendMessage':_0x4cc6b4,'lastUpdate':Date[_0x59a723(0x71b)]()};await this[_0x59a723(0x320)]['chat'][_0x59a723(0x31c)]({'where':{'_id':_0x3723b5['id']}},{'name':_0x3723b5['subject'],'group':!0x0,'groupdata':_0x3478b8,'lastcache':Date[_0x59a723(0x71b)]()},this[_0x59a723(0x32b)][_0x59a723(0x20d)]),U(this['instanceName'],'chats',{'chat':_0x3723b5});}async[a0_0x5bdda6(0x5af)](_0x23dfc5){const _0x326dff=a0_0x5bdda6;let _0x194212=await this[_0x326dff(0x320)]['chat'][_0x326dff(0x28c)]({'where':{'_id':_0x23dfc5['id']}},this[_0x326dff(0x32b)][_0x326dff(0x20d)]);_0x23dfc5['subjectTime']=_0x23dfc5?.[_0x326dff(0x80e)]&&_0x23dfc5[_0x326dff(0x80e)]['toString']()[_0x326dff(0x29b)]<0xd?_0x23dfc5?.[_0x326dff(0x80e)]*0x3e8:_0x23dfc5?.['subjectTime']||null,_0x23dfc5['creation']=_0x23dfc5?.[_0x326dff(0x21f)]&&_0x23dfc5[_0x326dff(0x21f)][_0x326dff(0x58f)]()[_0x326dff(0x29b)]<0xd?_0x23dfc5?.[_0x326dff(0x21f)]*0x3e8:_0x23dfc5?.[_0x326dff(0x21f)]||null,_0x23dfc5['inviteCode']&&(_0x23dfc5[_0x326dff(0x51b)]=_0x326dff(0x807)+_0x23dfc5[_0x326dff(0x51b)]);let _0x26437e=_0x194212?.['groupdata']?{..._0x194212[_0x326dff(0x4e6)]}:{};Object[_0x326dff(0x45d)](_0x23dfc5)[_0x326dff(0x3a3)](_0xebcde0=>{_0xebcde0!=='id'&&(_0x26437e[_0xebcde0]=_0x23dfc5[_0xebcde0]);});let _0x417a4d=_0x26437e[_0x326dff(0x504)]?.['some'](_0x2f028a=>_0x2f028a['id']===this[_0x326dff(0x32b)][_0x326dff(0x20d)]+_0x326dff(0x2e3)&&_0x2f028a[_0x326dff(0x12e)])||!0x1;_0x26437e[_0x326dff(0x12e)]=_0x417a4d;let _0x37edc8=(!_0x26437e[_0x326dff(0x67a)]||_0x417a4d)&&(!_0x26437e[_0x326dff(0x718)]||_0x26437e[_0x326dff(0x718)]&&_0x26437e[_0x326dff(0x4f5)]&&_0x417a4d);_0x26437e['canSendMessage']=_0x37edc8;let _0x34d0fe={'group':!0x0,'groupdata':_0x26437e};_0x23dfc5[_0x326dff(0x608)]&&(_0x34d0fe[_0x326dff(0x63e)]=_0x23dfc5[_0x326dff(0x608)]),await this[_0x326dff(0x320)][_0x326dff(0x638)][_0x326dff(0x31c)]({'where':{'_id':_0x23dfc5['id']}},_0x34d0fe,this[_0x326dff(0x32b)]['wuid'],{'upsert':!0x0}),U(this['instanceName'],_0x326dff(0x6ca),{'chat':_0x34d0fe});}async[a0_0x5bdda6(0x675)](_0x3c2229){const _0x151ab4=a0_0x5bdda6;let _0xa0a306=await this[_0x151ab4(0x320)]['chat'][_0x151ab4(0x28c)]({'where':{'_id':_0x3c2229['id']}},this['instance'][_0x151ab4(0x20d)]);if(!_0xa0a306||!_0xa0a306[_0x151ab4(0x4e6)]){this[_0x151ab4(0x34c)]['info'](this[_0x151ab4(0x7eb)]+'\x20('+this[_0x151ab4(0x32b)][_0x151ab4(0x20d)]+_0x151ab4(0x7a8)+_0x3c2229['id']);return;}let _0x17de8d=await this[_0x151ab4(0x320)][_0x151ab4(0x15c)][_0x151ab4(0x501)](_0x3c2229[_0x151ab4(0x504)]),_0x318dc8=[..._0xa0a306[_0x151ab4(0x4e6)]?.[_0x151ab4(0x504)]];switch(_0x3c2229[_0x151ab4(0x23f)]){case _0x151ab4(0x6cd):let _0x1aa913=_0x17de8d[_0x151ab4(0x2b0)](_0x2bbc62=>({'id':_0x2bbc62['_id'],'isAdmin':!0x1,'name':_0x2bbc62[_0x151ab4(0x63e)],'imgUrl':_0x2bbc62['pictureUrl']}));_0x318dc8=[..._0x318dc8,..._0x1aa913];break;case _0x151ab4(0x4f9):_0x318dc8=_0x318dc8['filter'](_0x5047ee=>!_0x3c2229['participants'][_0x151ab4(0x71f)](_0x5047ee['id']));break;case _0x151ab4(0x738):case _0x151ab4(0x657):_0x318dc8=_0x318dc8[_0x151ab4(0x2b0)](_0x1e023e=>_0x3c2229[_0x151ab4(0x504)][_0x151ab4(0x71f)](_0x1e023e['id'])?{..._0x1e023e,'isAdmin':_0x3c2229[_0x151ab4(0x23f)]==='promote'}:_0x1e023e);break;}let _0x121bdc=_0x318dc8[_0x151ab4(0x29b)],_0x87be6b=_0x318dc8[_0x151ab4(0x4d1)](_0x47596d=>_0x47596d['id']===this[_0x151ab4(0x32b)][_0x151ab4(0x20d)]+_0x151ab4(0x2e3)),_0x2bcc6b=_0x87be6b&&_0x318dc8[_0x151ab4(0x4d1)](_0x4f56ac=>_0x4f56ac['id']===this[_0x151ab4(0x32b)]['wuid']+_0x151ab4(0x2e3)&&_0x4f56ac['isAdmin']),_0x24491c=_0x87be6b&&(!_0xa0a306[_0x151ab4(0x4e6)][_0x151ab4(0x67a)]||_0x2bcc6b)&&(!_0xa0a306[_0x151ab4(0x4e6)][_0x151ab4(0x718)]||_0xa0a306[_0x151ab4(0x4e6)][_0x151ab4(0x718)]&&_0x2bcc6b);await this['repository'][_0x151ab4(0x638)][_0x151ab4(0x31c)]({'where':{'_id':_0x3c2229['id']}},{'groupdata':{..._0xa0a306['groupdata'],'participants':_0x318dc8,'size':_0x121bdc,'isAdmin':_0x2bcc6b,'canSendMessage':_0x24491c}},this['instance'][_0x151ab4(0x20d)]),this['logger'][_0x151ab4(0x6a4)](this[_0x151ab4(0x7eb)]+'\x20('+this['instance']['wuid']+_0x151ab4(0x6dd)+_0x3c2229['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x3c2229[_0x151ab4(0x23f)]+_0x151ab4(0x27c)+_0x121bdc+',\x20isAdmin:\x20'+_0x2bcc6b+_0x151ab4(0x395)+_0x24491c);}async[a0_0x5bdda6(0x51b)](_0x263b40,_0x31c56e=!0x0){const _0x329901=a0_0x5bdda6;try{let _0x22a181=await this['client'][_0x329901(0x416)](_0x263b40[_0x329901(0x268)]),_0x4d4040={'groupdata.inviteCode':_0x329901(0x807)+_0x22a181};if(_0x31c56e){let _0x124393=await this[_0x329901(0x320)]['chat'][_0x329901(0x31c)]({'where':{'_id':_0x263b40[_0x329901(0x268)]}},_0x4d4040,this['instance']['wuid']);}return{'inviteUrl':_0x329901(0x807)+_0x22a181,'inviteCode':_0x22a181};}catch(_0x4bedbe){let _0x5c4ad6=_0x329901(0x1fb),_0x4c3bd4=_0x4bedbe instanceof Error?_0x4bedbe[_0x329901(0x1f1)]:typeof _0x4bedbe=='object'?JSON['stringify'](_0x4bedbe):_0x4bedbe,_0x5cfc8a=_0x5c4ad6+':\x20'+_0x4c3bd4;throw this['logger'][_0x329901(0x83d)](this[_0x329901(0x7eb)]+'\x20('+this[_0x329901(0x32b)][_0x329901(0x20d)]+_0x329901(0x413)+_0x5cfc8a),new q(_0x5cfc8a);}}async[a0_0x5bdda6(0x1a8)](_0x55fd2e){const _0x3b16ac=a0_0x5bdda6;try{let _0x172733=await this[_0x3b16ac(0x249)][_0x3b16ac(0x5f3)](_0x55fd2e[_0x3b16ac(0x268)]);return{'revoked':!0x0,'inviteUrl':_0x3b16ac(0x807)+_0x172733,'inviteCode':_0x172733};}catch(_0x202a5a){let _0x3385a3=_0x3b16ac(0x16d),_0x286c3c=_0x202a5a instanceof Error?_0x202a5a[_0x3b16ac(0x1f1)]:typeof _0x202a5a=='object'?JSON[_0x3b16ac(0x5b8)](_0x202a5a):_0x202a5a,_0x4e71ec=_0x3385a3+':\x20'+_0x286c3c;throw this[_0x3b16ac(0x34c)][_0x3b16ac(0x83d)](this[_0x3b16ac(0x7eb)]+'\x20('+this[_0x3b16ac(0x32b)][_0x3b16ac(0x20d)]+_0x3b16ac(0x413)+_0x4e71ec),new q(_0x4e71ec);}}async[a0_0x5bdda6(0x302)](_0x158a05){const _0x4a12c8=a0_0x5bdda6;try{if((0x0,k['isURL'])(_0x158a05['inviteCode']))var _0x350590=_0x158a05[_0x4a12c8(0x51b)][_0x4a12c8(0x771)]('/')[0x3];else var _0x350590=_0x158a05[_0x4a12c8(0x51b)];let _0x6ebca1=await this[_0x4a12c8(0x249)]['groupAcceptInvite'](_0x350590);return this[_0x4a12c8(0x34c)]['verbose'](this[_0x4a12c8(0x7eb)]+'\x20('+this[_0x4a12c8(0x32b)]['wuid']+_0x4a12c8(0x413)+_0x6ebca1),{'join':!0x0,'inviteCode':_0x350590,'groupJid':_0x6ebca1};}catch(_0x1f4819){let _0x379a02=_0x4a12c8(0x50e),_0xfe0cfa=_0x1f4819 instanceof Error?_0x1f4819[_0x4a12c8(0x1f1)]:typeof _0x1f4819=='object'?JSON[_0x4a12c8(0x5b8)](_0x1f4819):_0x1f4819,_0x4de9b2=_0x379a02+':\x20'+_0xfe0cfa;throw this[_0x4a12c8(0x34c)][_0x4a12c8(0x83d)](this[_0x4a12c8(0x7eb)]+'\x20('+this[_0x4a12c8(0x32b)][_0x4a12c8(0x20d)]+_0x4a12c8(0x413)+_0x4de9b2),new q(_0x4de9b2);}}async['findParticipants'](_0x36f5de){const _0x35665f=a0_0x5bdda6;try{return{'participants':(await this[_0x35665f(0x320)]['chat'][_0x35665f(0x28c)]({'where':{'_id':_0x36f5de[_0x35665f(0x268)]}},this[_0x35665f(0x32b)]['wuid']))[_0x35665f(0x4e6)][_0x35665f(0x504)]};}catch(_0x2c47f6){let _0x508c6c=_0x35665f(0x465),_0x462994=_0x2c47f6 instanceof Error?_0x2c47f6[_0x35665f(0x1f1)]:typeof _0x2c47f6==_0x35665f(0x53a)?JSON[_0x35665f(0x5b8)](_0x2c47f6):_0x2c47f6,_0xfa3cec=_0x508c6c+':\x20'+_0x462994;throw this[_0x35665f(0x34c)]['error'](this['instanceName']+'\x20('+this[_0x35665f(0x32b)]['wuid']+_0x35665f(0x413)+_0xfa3cec),new q(_0xfa3cec);}}async[a0_0x5bdda6(0x661)](_0x241105){const _0xa843b0=a0_0x5bdda6;try{return await this[_0xa843b0(0x249)]['groupLeave'](_0x241105[_0xa843b0(0x268)]),{'groupJid':_0x241105[_0xa843b0(0x268)],'leave':!0x0};}catch(_0x2d31cf){let _0x120531='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x45e9a7=_0x2d31cf instanceof Error?_0x2d31cf[_0xa843b0(0x1f1)]:typeof _0x2d31cf==_0xa843b0(0x53a)?JSON[_0xa843b0(0x5b8)](_0x2d31cf):_0x2d31cf,_0x141655=_0x120531+':\x20'+_0x45e9a7;throw this[_0xa843b0(0x34c)][_0xa843b0(0x83d)](this['instanceName']+'\x20('+this[_0xa843b0(0x32b)]['wuid']+_0xa843b0(0x413)+_0x141655),new m(_0x141655);}}async[a0_0x5bdda6(0x1f9)](_0x2bd5a5){const _0x4622d9=a0_0x5bdda6;return await this[_0x4622d9(0x7ee)](_0x2bd5a5['number'],{'poll':{'name':_0x2bd5a5[_0x4622d9(0x1f9)]?.['name'],'selectableCount':_0x2bd5a5[_0x4622d9(0x1f9)][_0x4622d9(0x38c)],'values':_0x2bd5a5[_0x4622d9(0x1f9)][_0x4622d9(0x449)]}},_0x2bd5a5?.['options']);}async[a0_0x5bdda6(0x315)](_0x3a1574){const _0x24ad7e=a0_0x5bdda6;return await this['sendMessageWithTyping'](_0x3a1574[_0x24ad7e(0x5eb)],{'listMessage':{'title':_0x3a1574[_0x24ad7e(0x315)]['title'],'description':_0x3a1574[_0x24ad7e(0x315)][_0x24ad7e(0x702)],'buttonText':_0x3a1574['listMessage']?.['buttonText'],'footerText':_0x3a1574[_0x24ad7e(0x315)]?.[_0x24ad7e(0x83a)],'sections':_0x3a1574[_0x24ad7e(0x315)][_0x24ad7e(0x149)],'listType':0x2}},_0x3a1574?.[_0x24ad7e(0x17b)]);}async['menuMessage'](_0x267029){const _0x36db58=a0_0x5bdda6;let _0xc40d9a;if(_0x267029[_0x36db58(0x830)]['type']===_0x36db58(0x406)){let _0x4a4304=_0x267029[_0x36db58(0x830)][_0x36db58(0x3ce)]['indexOf']('\x0a'),_0x166d05='',_0x562b07='';_0x4a4304!==-0x1?(_0x166d05=_0x267029['menuMessage']['text'][_0x36db58(0x1a5)](0x0,_0x4a4304)[_0x36db58(0x7bc)](),_0x562b07=_0x267029[_0x36db58(0x830)]['text'][_0x36db58(0x1a5)](_0x4a4304+0x1)):_0x562b07=_0x267029[_0x36db58(0x830)]['text'];let _0x385168=_0x267029[_0x36db58(0x830)]['choices'][_0x36db58(0x539)](_0x4082c0=>_0x4082c0['trim']()!==''),_0x98cff8=this[_0x36db58(0x49d)](_0x385168);_0xc40d9a={'listMessage':{'title':_0x166d05,'description':_0x562b07,'buttonText':_0x267029[_0x36db58(0x830)][_0x36db58(0x4eb)]||_0x36db58(0x2c6),'footerText':_0x267029[_0x36db58(0x830)][_0x36db58(0x83a)],'sections':_0x98cff8,'listType':0x2}};}else{if(_0x267029[_0x36db58(0x830)][_0x36db58(0x5b3)]===_0x36db58(0x2aa)){let _0x253d69=_0x267029[_0x36db58(0x830)][_0x36db58(0x6c2)][_0x36db58(0x539)](_0x3f5790=>!(_0x3f5790[_0x36db58(0x15d)]('[')&&_0x3f5790[_0x36db58(0x4dc)](']'))&&_0x3f5790[_0x36db58(0x7bc)]()!=='')[_0x36db58(0x2b0)](_0x3ef83d=>_0x3ef83d['split']('\x0a')[0x0]);_0xc40d9a={'poll':{'name':_0x267029[_0x36db58(0x830)][_0x36db58(0x3ce)],'selectableCount':_0x267029[_0x36db58(0x830)][_0x36db58(0x38c)]||0x1,'values':_0x253d69}};}}return await this[_0x36db58(0x7ee)](_0x267029[_0x36db58(0x5eb)],_0xc40d9a,_0x267029?.[_0x36db58(0x17b)]);}[a0_0x5bdda6(0x49d)](_0x12f1da){const _0x19d249=a0_0x5bdda6;let _0x4ecf9d=[],_0x4b9fad={'rows':[]};return _0x12f1da[_0x19d249(0x3a3)](_0x5f0e93=>{const _0x4f459c=_0x19d249;if(_0x5f0e93[_0x4f459c(0x15d)]('[')&&_0x5f0e93[_0x4f459c(0x4dc)](']'))_0x4b9fad[_0x4f459c(0x534)][_0x4f459c(0x29b)]>0x0&&_0x4ecf9d[_0x4f459c(0x711)](_0x4b9fad),_0x4b9fad={'title':_0x5f0e93[_0x4f459c(0x649)](0x1,-0x1),'rows':[]};else{let _0x39f82b=_0x5f0e93[_0x4f459c(0x771)]('\x0a')[_0x4f459c(0x2b0)](_0x51f924=>_0x51f924['trim']()),_0x54f899=_0x39f82b[0x0],_0x10f2e4=_0x39f82b[0x1]||null,_0x4aec15=_0x39f82b[0x2]||_0x54f899;_0x4b9fad['rows'][_0x4f459c(0x711)]({'title':_0x54f899,'description':_0x10f2e4,'rowId':_0x4aec15});}}),_0x4b9fad[_0x19d249(0x534)][_0x19d249(0x29b)]>0x0&&_0x4ecf9d[_0x19d249(0x711)](_0x4b9fad),_0x4ecf9d;}async['updateMessage'](_0x396a95,_0x5a48a4){const _0x21f821=a0_0x5bdda6;if(await this[_0x21f821(0x205)](_0x396a95,!0x0)){let _0x3acc39={'where':{'_id':_0x396a95['id']}},_0x408b60={'status':[_0x5a48a4[_0x21f821(0x390)]][0x0]};try{let _0x386ea8=await this[_0x21f821(0x320)][_0x21f821(0x1f1)]['update'](_0x3acc39,_0x408b60,this[_0x21f821(0x32b)][_0x21f821(0x20d)]);_0x386ea8&&U(this[_0x21f821(0x7eb)],_0x21f821(0x60e),{'message':_0x386ea8});}catch{}}}['sectionsToString'](_0x26fd46){const _0x577dd6=a0_0x5bdda6;let _0x2309e8=[];return _0x26fd46[_0x577dd6(0x3a3)](_0x484775=>{const _0x275775=_0x577dd6;_0x484775['title']&&_0x2309e8[_0x275775(0x711)]('['+_0x484775[_0x275775(0x579)]+']'),_0x484775[_0x275775(0x534)]['forEach'](_0x4fb3a8=>{const _0x25071f=_0x275775;_0x2309e8[_0x25071f(0x711)](_0x4fb3a8[_0x25071f(0x579)]);});}),_0x2309e8[_0x577dd6(0x64d)]('|');}[a0_0x5bdda6(0x7c4)](_0x303fca){const _0x36b385=a0_0x5bdda6;let _0x11ee65=_0x303fca[_0x36b385(0x4a9)](/\\n/g,'\x0a')[_0x36b385(0x771)]('\x0a')[_0x36b385(0x539)](_0x1a4e5f=>_0x1a4e5f[_0x36b385(0x71f)](_0x36b385(0x808))||_0x1a4e5f['includes'](_0x36b385(0x48e))),_0x3cc11f='';return _0x11ee65[_0x36b385(0x3a3)](_0xe44e8=>{const _0x5c446c=_0x36b385;let _0x2922fc=/TEL(?:.*):(.+)/,_0x101f22=/EMAIL(?:.*):(.+)/,_0x2d236b=_0xe44e8[_0x5c446c(0x1ff)](_0x2922fc),_0x2fc705=_0xe44e8['match'](_0x101f22);if(_0x2d236b){let _0x3efaa8=_0x2d236b[0x1][_0x5c446c(0x4a9)](/-| |\+|\(|\)/g,'')[_0x5c446c(0x7bc)]();_0x3cc11f+='Telefone:\x20'+_0x3efaa8+'\x0a';}else{if(_0x2fc705){let _0x1fbd40=_0x2fc705[0x1][_0x5c446c(0x7bc)]();_0x3cc11f+=_0x5c446c(0x3e0)+_0x1fbd40+'\x0a';}}}),_0x3cc11f[_0x36b385(0x7bc)]();}async[a0_0x5bdda6(0x5c3)](_0x2ea67c,_0x3cadce,_0x43f3bf,_0x330386=null){const _0xda49da=a0_0x5bdda6;if(_0x2ea67c[_0xda49da(0x615)])try{let _0x53e54a=_0x3cadce['key'][_0xda49da(0x4c8)][_0xda49da(0x4a9)](/:\d{1,2}@/g,'@'),_0x4da5c4=_0x3cadce[_0xda49da(0x4d8)][_0xda49da(0x295)],_0x44395f=_0x53e54a[_0xda49da(0x4dc)]('@g.us'),_0x1c6168=_0x3cadce[_0xda49da(0x317)]?.[_0xda49da(0x4a9)](/:\d{1,2}@/g,'@')||'',_0x10648e=_0x3cadce[_0xda49da(0x6ec)]?.[_0xda49da(0x3ce)]||_0x3cadce[_0xda49da(0x6ec)]?.[_0xda49da(0x1bc)]||_0x3cadce[_0xda49da(0x6ec)]?.[_0xda49da(0x536)]||_0x3cadce[_0xda49da(0x6ec)]?.[_0xda49da(0x63e)],_0xee0b5={'_id':_0x3cadce[_0xda49da(0x38a)],'remoteJid':_0x4da5c4?this['instance']['wuid']:_0x44395f?_0x1c6168:_0x53e54a,'pushName':_0x4da5c4?this['instance'][_0xda49da(0x7a1)]||'Eu':_0x3cadce[_0xda49da(0x689)],'text':_0x10648e,'type':_0x3cadce[_0xda49da(0x59a)],'when':_0x3cadce[_0xda49da(0x2d8)]||Date[_0xda49da(0x71b)]()};_0x330386||(_0x330386=await this['repository'][_0xda49da(0x638)][_0xda49da(0x28c)]({'where':{'_id':_0x53e54a}},this[_0xda49da(0x32b)]['wuid']));let _0x5ab8c6=_0x330386?_0x4da5c4?_0x330386[_0xda49da(0x6ae)]:(_0x330386[_0xda49da(0x6ae)]||0x0)+0x1:_0x4da5c4?0x0:0x1,_0x4582b1={'lastmsg':_0x3cadce[_0xda49da(0x2d8)]||Date[_0xda49da(0x71b)](),'ephemeralExpiration':_0x3cadce[_0xda49da(0x3ab)],'lastMessage':_0xee0b5,'unreadcount':_0x5ab8c6,..._0x4da5c4||_0x44395f?{}:{'name':_0x3cadce[_0xda49da(0x689)]},..._0x44395f?{'group':_0x44395f}:{},...!_0x4da5c4&&!_0x44395f&&_0x3cadce['profilePictureUrl']?{'imagechat':_0x3cadce[_0xda49da(0x157)]}:{}};if(!_0x44395f&&(!_0x330386?.['leadInfo']||!_0x330386['leadInfo']['nome'])&&_0x3cadce[_0xda49da(0x689)]&&!_0x4da5c4&&(_0x4582b1={..._0x4582b1,'leadInfo.nome':_0x3cadce['pushName']}),_0x330386?.['leadInfo'][_0xda49da(0x67c)]||(_0x4582b1={..._0x4582b1,'leadInfo.etiquetas':[]}),_0x330386?.['leadInfo'][_0xda49da(0x450)]||(_0x4582b1={..._0x4582b1,'leadInfo.customFields':[]}),_0x330386?.['leadInfo'][_0xda49da(0x124)]||(_0x4582b1={..._0x4582b1,'leadInfo.tags':[]}),_0x330386&&_0x330386?.[_0xda49da(0x280)]){let _0x260409=await this['repository'][_0xda49da(0x423)][_0xda49da(0x2b1)]({'where':{}},this[_0xda49da(0x32b)]['wuid']),_0x3bdfcd=new Set(_0x260409[_0xda49da(0x2b0)](_0x5d8acd=>_0x5d8acd[_0xda49da(0x38a)])),_0x33d6cc=(_0x330386['leadInfo']?.[_0xda49da(0x67c)]||[])[_0xda49da(0x539)](_0x32580f=>_0x3bdfcd[_0xda49da(0x2fc)](_0x32580f));_0x4582b1={..._0x4582b1,'imported':!0x1,'leadInfo.etiquetas':_0x33d6cc};for(let _0xa388ef of _0x33d6cc)await this[_0xda49da(0x248)](_0xa388ef,_0x53e54a);}if(_0x43f3bf===_0xda49da(0x526)&&_0x4da5c4&&this[_0xda49da(0x749)]?.[_0xda49da(0x122)]['enabled']&&!_0x10648e['startsWith'](this[_0xda49da(0x749)]?.[_0xda49da(0x122)][_0xda49da(0x554)])){let _0x2ada6c=(this[_0xda49da(0x749)]?.[_0xda49da(0x122)][_0xda49da(0x3dc)]||0x5)*0xea60,_0x212a30=Date[_0xda49da(0x71b)]()+_0x2ada6c;_0x330386?.[_0xda49da(0x120)]?.[_0xda49da(0x2b6)]===0x0||(_0x4582b1={..._0x4582b1,'leadInfo.desativadoFluxoAte':_0x212a30},this['logger'][_0xda49da(0x1f6)](this[_0xda49da(0x7eb)]+'\x20('+this[_0xda49da(0x32b)][_0xda49da(0x20d)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x212a30+'.'));}if(_0x330386=await this[_0xda49da(0x320)]['chat'][_0xda49da(0x31c)]({'where':{'_id':_0x53e54a}},_0x4582b1,this[_0xda49da(0x32b)][_0xda49da(0x20d)],{'new':!0x0,'upsert':!0x0}),_0x330386)U(this['instanceName'],_0xda49da(0x6ca),{'chat':_0x330386});else{this[_0xda49da(0x34c)]['error'](this[_0xda49da(0x7eb)]+'\x20('+this['instance'][_0xda49da(0x20d)]+_0xda49da(0x530));return;}if(!this[_0xda49da(0x749)]?.['flowConfig'][_0xda49da(0x200)])return this['logger'][_0xda49da(0x1f6)](this[_0xda49da(0x7eb)]+'\x20('+this[_0xda49da(0x32b)][_0xda49da(0x20d)]+'):\x20Flow\x20desativado'),null;if(_0x330386[_0xda49da(0x38a)][_0xda49da(0x71f)]('@g.us')&&this['AutomateSystem']?.['flowConfig']['ignoreGroups']===!0x0)return this['logger'][_0xda49da(0x1f6)](this['instanceName']+'\x20('+this[_0xda49da(0x32b)][_0xda49da(0x20d)]+_0xda49da(0x54c)),null;if(_0x330386[_0xda49da(0x120)]){if(_0x330386[_0xda49da(0x120)][_0xda49da(0x2b6)]===0x0||_0x330386[_0xda49da(0x120)]['atendimentoAberto'])return this[_0xda49da(0x34c)]['verbose'](this[_0xda49da(0x7eb)]+'\x20('+this[_0xda49da(0x32b)][_0xda49da(0x20d)]+_0xda49da(0x369)+_0x53e54a+_0xda49da(0x7a6)),null;if(_0x330386[_0xda49da(0x120)][_0xda49da(0x2b6)]>Date[_0xda49da(0x71b)]()&&!_0x3cadce[_0xda49da(0x6ec)]?.[_0xda49da(0x536)])return this[_0xda49da(0x34c)]['verbose'](this['instanceName']+'\x20('+this[_0xda49da(0x32b)][_0xda49da(0x20d)]+_0xda49da(0x6e0)+new Date(_0x330386[_0xda49da(0x120)][_0xda49da(0x2b6)])[_0xda49da(0x5d4)]()+_0xda49da(0x7a6)),null;}this[_0xda49da(0x34c)][_0xda49da(0x1f6)](this['instanceName']+'\x20('+this[_0xda49da(0x32b)]['wuid']+_0xda49da(0x75e)),this['StartBot'](_0x43f3bf,_0x3cadce);}catch(_0x559404){let _0x39ac3a=_0xda49da(0x29d),_0x52da28=_0x559404 instanceof Error?_0x559404['message']:typeof _0x559404==_0xda49da(0x53a)?JSON['stringify'](_0x559404):_0x559404,_0x35ace8=_0x39ac3a+':\x20'+_0x52da28;return this[_0xda49da(0x34c)][_0xda49da(0x83d)](this['instanceName']+'\x20('+this[_0xda49da(0x32b)][_0xda49da(0x20d)]+_0xda49da(0x413)+_0x35ace8),null;}}async['upsertChats'](_0x2ee227,_0x4c330c){const _0x64bde7=a0_0x5bdda6;if(_0x4c330c[_0x64bde7(0x615)]){let _0x2d22fd=_0x2ee227[_0x64bde7(0x2b0)](async _0xd5b51e=>{const _0x3461d8=_0x64bde7;try{let _0x1cb6f0={'_id':_0xd5b51e[_0x3461d8(0x38a)],'owner':_0xd5b51e[_0x3461d8(0x7cf)],'lastcache':0x0};if(Object['keys'](_0xd5b51e)[_0x3461d8(0x3a3)](_0x538212=>{_0xd5b51e[_0x538212]!==null&&(_0x1cb6f0[_0x538212]=_0xd5b51e[_0x538212]);}),_0x1cb6f0['imagechat']===null&&(_0x1cb6f0['imagechat']=_0x3461d8(0x1d7)),Object['keys'](_0x1cb6f0)['length']>0x0)return await this[_0x3461d8(0x320)][_0x3461d8(0x638)][_0x3461d8(0x31c)]({'where':{'_id':_0xd5b51e[_0x3461d8(0x38a)]}},_0x1cb6f0,this[_0x3461d8(0x32b)][_0x3461d8(0x20d)]);}catch(_0x1929d7){let _0x222b8c=_0x3461d8(0x348)+_0xd5b51e[_0x3461d8(0x38a)],_0x47f5e3=_0x1929d7 instanceof Error?_0x1929d7[_0x3461d8(0x1f1)]:typeof _0x1929d7==_0x3461d8(0x53a)?JSON[_0x3461d8(0x5b8)](_0x1929d7):_0x1929d7,_0x42b346=_0x222b8c+':\x20'+_0x47f5e3;return this[_0x3461d8(0x34c)][_0x3461d8(0x83d)](this[_0x3461d8(0x7eb)]+'\x20('+this[_0x3461d8(0x32b)]['wuid']+'):\x20'+_0x42b346),null;}}),_0x3c6f37=(await Promise['all'](_0x2d22fd))[_0x64bde7(0x539)](_0x1c34c1=>_0x1c34c1!==null)[_0x64bde7(0x29b)];this[_0x64bde7(0x34c)][_0x64bde7(0x1f6)](this[_0x64bde7(0x7eb)]+'\x20('+this['instance'][_0x64bde7(0x20d)]+_0x64bde7(0x413)+_0x3c6f37+_0x64bde7(0x220)+this['instance'][_0x64bde7(0x20d)]+_0x64bde7(0x2e2));}}async[a0_0x5bdda6(0x273)](_0x11d61b){const _0x3239dd=a0_0x5bdda6;this[_0x3239dd(0x34c)][_0x3239dd(0x1f6)](this[_0x3239dd(0x7eb)]+'\x20('+this['instance'][_0x3239dd(0x20d)]+_0x3239dd(0x3ed));let _0x143082={'readMessages':[{'remoteJid':_0x11d61b[_0x3239dd(0x3d0)][_0x3239dd(0x345)]['key'][_0x3239dd(0x4c8)],'fromMe':_0x11d61b['chatLog'][_0x3239dd(0x345)]['key']['fromMe'],'id':_0x11d61b[_0x3239dd(0x3d0)]['lastReceivedMessage'][_0x3239dd(0x4d8)]['id']}]};await this[_0x3239dd(0x629)](_0x143082);}async['StartBot'](_0x4e47ed,_0x458742){const _0x10cfdb=a0_0x5bdda6;try{let {key:_0x346c02,message_normalized:_0x594b04}=_0x458742,_0x2da9f4=_0x594b04,_0x393dfb=_0x594b04['text']||_0x594b04[_0x10cfdb(0x1bc)]||_0x594b04[_0x10cfdb(0x536)]||_0x594b04[_0x10cfdb(0x63e)],_0x4673e2=_0x346c02[_0x10cfdb(0x4c8)],_0x1661e6;if(_0x2da9f4[_0x10cfdb(0x4d8)][_0x10cfdb(0x295)]&&_0x393dfb[_0x10cfdb(0x7bc)]()!==this['AutomateSystem']?.[_0x10cfdb(0x122)][_0x10cfdb(0x655)]['trim']())return this['logger'][_0x10cfdb(0x1f6)](this[_0x10cfdb(0x7eb)]+'\x20('+this[_0x10cfdb(0x32b)][_0x10cfdb(0x20d)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x2da9f4[_0x10cfdb(0x4d8)][_0x10cfdb(0x295)]&&_0x393dfb[_0x10cfdb(0x7bc)]()===this[_0x10cfdb(0x749)]?.[_0x10cfdb(0x122)][_0x10cfdb(0x655)][_0x10cfdb(0x7bc)]()){this[_0x10cfdb(0x34c)][_0x10cfdb(0x1f6)](this[_0x10cfdb(0x7eb)]+'\x20('+this['instance'][_0x10cfdb(0x20d)]+_0x10cfdb(0x309));let _0x2e9c89=await this[_0x10cfdb(0x320)][_0x10cfdb(0x795)][_0x10cfdb(0x2b1)]({'remoteJid':_0x4673e2,'status':_0x10cfdb(0x41f)},this['instance'][_0x10cfdb(0x20d)]);this[_0x10cfdb(0x34c)][_0x10cfdb(0x1f6)](this[_0x10cfdb(0x7eb)]+'\x20('+this[_0x10cfdb(0x32b)][_0x10cfdb(0x20d)]+_0x10cfdb(0x3af)+_0x2e9c89);let _0x1205b9=Date['now'](),_0x5246f7;return this[_0x10cfdb(0x749)]?.['flowConfig'][_0x10cfdb(0x65f)]===0x0?_0x5246f7={'stoppedUntil':_0x1205b9+0x7591f6200}:_0x5246f7={'stoppedUntil':_0x1205b9+this['AutomateSystem']?.[_0x10cfdb(0x122)][_0x10cfdb(0x65f)]*0x3c*0x3e8},this[_0x10cfdb(0x34c)][_0x10cfdb(0x1f6)](this[_0x10cfdb(0x7eb)]+'\x20('+this[_0x10cfdb(0x32b)][_0x10cfdb(0x20d)]+_0x10cfdb(0x11d)+_0x5246f7),this[_0x10cfdb(0x6f3)](_0x1661e6,_0x5246f7[_0x10cfdb(0x679)]),null;}if(_0x393dfb&&_0x393dfb[_0x10cfdb(0x15d)](this['AutomateSystem']?.[_0x10cfdb(0x122)][_0x10cfdb(0x554)])&&_0x393dfb[_0x10cfdb(0x29b)]>0x4){let _0x453e73=await this['repository'][_0x10cfdb(0x5a0)][_0x10cfdb(0x28c)]({'where':{'startCommandWord':_0x393dfb}},this[_0x10cfdb(0x32b)][_0x10cfdb(0x20d)]);if(this['logger'][_0x10cfdb(0x1f6)](this[_0x10cfdb(0x7eb)]+'\x20('+this[_0x10cfdb(0x32b)][_0x10cfdb(0x20d)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x453e73)_0x1661e6=await this[_0x10cfdb(0x396)](_0x453e73,_0x2da9f4[_0x10cfdb(0x4d8)],_0x2da9f4);else return this[_0x10cfdb(0x34c)][_0x10cfdb(0x1f6)](this[_0x10cfdb(0x7eb)]+'\x20('+this[_0x10cfdb(0x32b)]['wuid']+_0x10cfdb(0x14c)),null;}else _0x1661e6=await this[_0x10cfdb(0x776)](_0x4673e2,_0x2da9f4);if(_0x1661e6){this[_0x10cfdb(0x34c)][_0x10cfdb(0x1f6)](this[_0x10cfdb(0x7eb)]+'\x20('+this['instance'][_0x10cfdb(0x20d)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x346c02[_0x10cfdb(0x295)]&&_0x1661e6[_0x10cfdb(0x23a)]&&this[_0x10cfdb(0x273)](_0x1661e6);let _0x4f9188=await this[_0x10cfdb(0x65a)](_0x1661e6);_0x4f9188&&await this[_0x10cfdb(0x4ee)](_0x1661e6,_0x4f9188);}}catch(_0x4a5c22){this['logger']['error'](this['instanceName']+'\x20('+this[_0x10cfdb(0x32b)][_0x10cfdb(0x20d)]+_0x10cfdb(0x70e)+(_0x4a5c22 instanceof Error?_0x4a5c22[_0x10cfdb(0x1f1)]:JSON[_0x10cfdb(0x5b8)](_0x4a5c22,null,0x2)));}}[a0_0x5bdda6(0x7b3)](_0x58cc54,_0x37b805='',_0x489d0b={}){const _0x30d699=a0_0x5bdda6;return typeof _0x58cc54!='object'||_0x58cc54===null?(_0x37b805&&(_0x489d0b[_0x37b805]=_0x58cc54),_0x489d0b):(Object[_0x30d699(0x285)](_0x58cc54)['forEach'](([_0x3abd2a,_0x4130fb])=>{const _0x468060=_0x30d699;let _0x5a79fd=_0x37b805?_0x37b805+'.'+_0x3abd2a:'_'+_0x3abd2a;Array[_0x468060(0x13b)](_0x4130fb)?_0x4130fb['forEach']((_0x35e4df,_0x57b058)=>{const _0x330664=_0x468060;this[_0x330664(0x7b3)](_0x35e4df,_0x5a79fd+'['+_0x57b058+']',_0x489d0b);}):typeof _0x4130fb=='object'&&_0x4130fb!==null?this[_0x468060(0x7b3)](_0x4130fb,_0x5a79fd,_0x489d0b):_0x489d0b[_0x5a79fd]=String(_0x4130fb);}),_0x489d0b);}['variablesToObject'](_0xee910c){const _0x4e747c=a0_0x5bdda6;let _0x593307={};for(let _0xa00cb4 of _0xee910c)typeof _0xa00cb4[_0x4e747c(0x63e)]=='string'&&typeof _0xa00cb4[_0x4e747c(0x6a7)]=='string'&&(_0x593307[_0xa00cb4['name']]=_0xa00cb4[_0x4e747c(0x6a7)]);return _0x593307;}async[a0_0x5bdda6(0x65a)](_0xf6d94a){const _0x31db3d=a0_0x5bdda6;if(!this[_0x31db3d(0x749)]?.[_0x31db3d(0x122)][_0x31db3d(0x200)]||_0xf6d94a['status']!==_0x31db3d(0x41f)&&_0xf6d94a['waitingMenu_id']==='')return null;let _0x3113d7=_0xf6d94a[_0x31db3d(0x3d0)]['lastBlockId']||_0x31db3d(0x623);typeof _0xf6d94a[_0x31db3d(0x3d0)][_0x31db3d(0x625)]>'u'&&(_0xf6d94a[_0x31db3d(0x3d0)][_0x31db3d(0x625)]=!0x0);let _0x4448ed=_0xf6d94a['chatLog'][_0x31db3d(0x625)];this[_0x31db3d(0x34c)]['verbose'](this[_0x31db3d(0x7eb)]+'\x20('+this[_0x31db3d(0x32b)]['wuid']+_0x31db3d(0x457)+_0x3113d7+',\x20lastCondition:\x20'+_0x4448ed);let _0x189acc=_0x3113d7==='start'?_0xf6d94a[_0x31db3d(0x82f)][_0x31db3d(0x2b1)](_0x3f0178=>_0x3f0178[_0x31db3d(0x5b3)]===_0x31db3d(0x623)):_0xf6d94a[_0x31db3d(0x82f)][_0x31db3d(0x2b1)](_0x11751a=>_0x11751a[_0x31db3d(0x38a)][_0x31db3d(0x58f)]()===_0x3113d7[_0x31db3d(0x58f)]());if(!_0x189acc)return this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x31db3d(0x20d)]+_0x31db3d(0x144)+_0x3113d7),null;let _0x36a2ba={'_pushName':_0xf6d94a?.[_0x31db3d(0x3d0)]?.['lastReceivedMessage']?.['pushName']||'',..._0xf6d94a[_0x31db3d(0x3d0)][_0x31db3d(0x267)]},_0x165534=null;if(_0xf6d94a[_0x31db3d(0x3a9)]){let _0x2867ed=_0xf6d94a['chatLog'][_0x31db3d(0x345)][_0x31db3d(0x536)],_0x31c203=_0xf6d94a[_0x31db3d(0x1d2)][_0x31db3d(0x2b1)](_0x1d6cba=>_0x1d6cba[_0x31db3d(0x6a3)]===_0x2867ed);if(_0x31c203){let _0x2cd164=_0x31c203[_0x31db3d(0x2e8)];if(_0x165534=_0xf6d94a['blocks'][_0x31db3d(0x2b1)](_0x281f9d=>_0x281f9d['groupId']===_0x2cd164&&_0x281f9d[_0x31db3d(0x53c)]===0x1),_0x189acc[_0x31db3d(0x162)][_0x31db3d(0x397)]){let _0xd09d79={'id':_0xf6d94a[_0x31db3d(0x3a9)],'remoteJid':_0xf6d94a[_0x31db3d(0x4c8)],'fromMe':!0x0};await this[_0x31db3d(0x70c)](_0xd09d79);}if(_0x189acc['uazapi'][_0x31db3d(0x397)]&&_0x189acc[_0x31db3d(0x162)][_0x31db3d(0x14b)]&&_0x189acc['uazapi']['menuType']===_0x31db3d(0x2aa)){let _0x3a4e99={'number':_0xf6d94a['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x31db3d(0x117)+_0xf6d94a[_0x31db3d(0x4dd)]+'\x0a*Você\x20respondeu*:\x0a'+_0x2867ed}};await this[_0x31db3d(0x596)](_0x3a4e99);}_0xf6d94a[_0x31db3d(0x390)]=_0x31db3d(0x41f),_0xf6d94a['waitingMenu_id']='',_0xf6d94a[_0x31db3d(0x4dd)]='',_0xf6d94a[_0x31db3d(0x1d2)]=[];}else{this['logger'][_0x31db3d(0x1f6)](this[_0x31db3d(0x7eb)]+'\x20('+this['instance']['wuid']+_0x31db3d(0x6e1));let _0x7fa3={'activatedCount':_0xf6d94a[_0x31db3d(0x3d0)][_0x31db3d(0x2e1)]['filter'](_0x647de6=>String(_0x647de6[_0x31db3d(0x6f0)])===String(_0x3113d7))[_0x31db3d(0x29b)],'moreLogs':[_0x31db3d(0x26a)]};if(_0x189acc['uazapi'][_0x31db3d(0x357)]){let _0x428ee3={'number':_0xf6d94a[_0x31db3d(0x4c8)],'options':{'delay':0x0},'textMessage':{'text':_0x189acc['uazapi'][_0x31db3d(0x357)]}};await this[_0x31db3d(0x596)](_0x428ee3);}if(_0x189acc['maxActives']!==void 0x0&&_0x7fa3['activatedCount']>=_0x189acc['maxActives']){let _0x1f5f3e=Date['now'](),_0x231d4e=_0x189acc['stopMinutesMaxActives']??0xa;isNaN(_0x231d4e)&&(_0x231d4e=0xa);let _0x5542d3=_0x1f5f3e+_0x231d4e*0x3c*0x3e8;_0x7fa3[_0x31db3d(0x31b)]=_0x5542d3,_0x7fa3[_0x31db3d(0x2b9)][_0x31db3d(0x711)](_0x31db3d(0x5a9)),this[_0x31db3d(0x6f3)](_0xf6d94a,_0x5542d3),_0xf6d94a[_0x31db3d(0x3a9)]='',_0xf6d94a['waitingMenu_text']='',_0xf6d94a[_0x31db3d(0x1d2)]=[];}return this['updateConversation'](_0xf6d94a,_0x189acc,_0x7fa3,!0x0),null;}}if(_0x4448ed&&_0x189acc['next_groupId']&&!_0xf6d94a['waitingMenu_id']){let _0x9dbd3e=_0xf6d94a[_0x31db3d(0x82f)]['filter'](_0x3705b8=>_0x3705b8[_0x31db3d(0x3be)][_0x31db3d(0x58f)]()===_0x189acc[_0x31db3d(0x2e8)][_0x31db3d(0x58f)]())[_0x31db3d(0x68a)]((_0x879509,_0xc7b907)=>_0x879509[_0x31db3d(0x53c)]-_0xc7b907[_0x31db3d(0x53c)]);_0x9dbd3e[_0x31db3d(0x29b)]>0x0&&(_0x165534=_0x9dbd3e[0x0]);}if(!_0x165534){let _0x53aeb2=_0x189acc['groupId'],_0x34f1b1=_0xf6d94a[_0x31db3d(0x82f)][_0x31db3d(0x539)](_0x92b8f3=>_0x92b8f3[_0x31db3d(0x3be)]===_0x53aeb2&&_0x92b8f3[_0x31db3d(0x53c)]>_0x189acc[_0x31db3d(0x53c)])['sort']((_0x2a157b,_0xec2e6a)=>_0x2a157b[_0x31db3d(0x53c)]-_0xec2e6a[_0x31db3d(0x53c)]);_0x34f1b1['length']>0x0&&(_0x165534=_0x34f1b1[0x0]);}if(!_0x165534)return _0xf6d94a[_0x31db3d(0x390)]='closed',null;_0xf6d94a[_0x31db3d(0x3d0)][_0x31db3d(0x267)]=_0x36a2ba;let _0x488a19=JSON[_0x31db3d(0x4b1)](JSON[_0x31db3d(0x5b8)](_0x165534));return this[_0x31db3d(0x305)](_0x488a19,_0xf6d94a['chatLog']['realVariables']),_0xf6d94a[_0x31db3d(0x3d0)]['lastBlockId']=_0x488a19['_id'],_0xf6d94a[_0x31db3d(0x3d0)][_0x31db3d(0x625)]=!0x0,_0x488a19;}[a0_0x5bdda6(0x567)](_0x114545,_0x7df395){return _0x114545['replace'](/\{\{([^}]+)\}\}/g,(_0x4385db,_0x3ac0ef)=>_0x7df395[_0x3ac0ef]||'');}[a0_0x5bdda6(0x305)](_0x2c2d16,_0x5ef449){const _0x12fbbd=a0_0x5bdda6;for(let _0x3ce536 in _0x2c2d16)typeof _0x2c2d16[_0x3ce536]==_0x12fbbd(0x1c7)?_0x2c2d16[_0x3ce536]=this[_0x12fbbd(0x567)](_0x2c2d16[_0x3ce536],_0x5ef449):typeof _0x2c2d16[_0x3ce536]==_0x12fbbd(0x53a)&&this['replaceVariablesInObject'](_0x2c2d16[_0x3ce536],_0x5ef449);}async[a0_0x5bdda6(0x66e)](_0x208591,_0x3e9062){const _0x9a66b7=a0_0x5bdda6;let _0x34f8ea=_0x3e9062[_0x9a66b7(0x38a)];if(_0x208591[_0x9a66b7(0x3d0)]&&_0x208591[_0x9a66b7(0x3d0)][_0x9a66b7(0x2e1)]){let _0x287255=_0x208591['chatLog'][_0x9a66b7(0x2e1)]['filter'](_0x140532=>String(_0x140532[_0x9a66b7(0x6f0)])===String(_0x34f8ea))[_0x9a66b7(0x73a)]();if(_0x287255&&_0x287255[_0x9a66b7(0x83d)]&&_0x3e9062[_0x9a66b7(0x68e)])return _0x208591[_0x9a66b7(0x390)]=_0x9a66b7(0x6e6),await this[_0x9a66b7(0x68f)](_0x208591),null;}if(_0x3e9062[_0x9a66b7(0x5b3)]===_0x9a66b7(0x162)&&_0x3e9062[_0x9a66b7(0x162)][_0x9a66b7(0x2bc)]===_0x9a66b7(0x834)&&_0x208591[_0x9a66b7(0x3a9)])return _0x208591[_0x9a66b7(0x3d0)][_0x9a66b7(0x360)]=_0x34f8ea,await this[_0x9a66b7(0x68f)](_0x208591),null;let _0x302f9d=await this[_0x9a66b7(0x65a)](_0x208591);if(_0x208591[_0x9a66b7(0x3d0)]&&_0x208591['chatLog']['blockLogs']){let _0x169f28=_0x208591[_0x9a66b7(0x3d0)][_0x9a66b7(0x2e1)][_0x9a66b7(0x539)](_0x48e3c8=>String(_0x48e3c8[_0x9a66b7(0x6f0)])===String(_0x34f8ea))[_0x9a66b7(0x29b)];if(_0x3e9062[_0x9a66b7(0x37e)]!==void 0x0&&_0x169f28>=_0x3e9062[_0x9a66b7(0x37e)]){let _0x202495=Date[_0x9a66b7(0x71b)](),_0xe04539=_0x3e9062[_0x9a66b7(0x111)]??0xa;isNaN(_0xe04539)&&(_0xe04539=0xa);let _0x306705=_0x202495+_0xe04539*0x3c*0x3e8,_0x49d04d={'newStoppedUntil':_0x306705};return this['updateStopChat'](_0x208591,_0x306705),this[_0x9a66b7(0x62b)](_0x208591,_0x3e9062,_0x49d04d,!0x0),null;}}_0x302f9d&&_0x302f9d['type']!==_0x9a66b7(0x6a8)&&await this['processblock'](_0x208591,_0x302f9d),_0x302f9d||await this['saveConversationToDatabase'](_0x208591),_0x302f9d&&_0x302f9d[_0x9a66b7(0x5b3)]===_0x9a66b7(0x6a8)&&(_0x208591[_0x9a66b7(0x3d0)][_0x9a66b7(0x360)]=_0x34f8ea,await this['saveConversationToDatabase'](_0x208591));}async[a0_0x5bdda6(0x4ee)](_0x4da066,_0x51c425){const _0xeb7653=a0_0x5bdda6;try{let _0x1ba68d=_0x51c425[_0xeb7653(0x5b3)];this[_0xeb7653(0x34c)][_0xeb7653(0x1f6)](this[_0xeb7653(0x7eb)]+'\x20('+this['instance']['wuid']+_0xeb7653(0x731)+_0x1ba68d);let _0x2480fd={'uazapi':()=>this['processUazapi'](_0x4da066,_0x51c425),'save':()=>this['saveTextReply'](_0x4da066,_0x51c425),'stop':()=>this['stopConversation'](_0x4da066,_0x51c425),'condition':()=>this['processConditions'](_0x4da066,_0x51c425),'varedit':()=>this[_0xeb7653(0x617)](_0x4da066,_0x51c425),'apirequest':()=>this['processApiRequest'](_0x4da066,_0x51c425),'goToFlow':()=>this['processgoToFlow'](_0x4da066,_0x51c425),'scheduleFlow':()=>this['processScheduleFlow'](_0x4da066,_0x51c425),'awaitSeconds':()=>this[_0xeb7653(0x4a1)](_0x4da066,_0x51c425),'clearVariables':()=>this[_0xeb7653(0x36c)](_0x4da066,_0x51c425)}[_0x1ba68d];_0x2480fd&&await _0x2480fd();}catch(_0x4d38e2){this[_0xeb7653(0x34c)][_0xeb7653(0x83d)](this[_0xeb7653(0x7eb)]+'\x20('+this[_0xeb7653(0x32b)][_0xeb7653(0x20d)]+_0xeb7653(0x40a)+(_0x4d38e2 instanceof Error?_0x4d38e2[_0xeb7653(0x1f1)]:JSON[_0xeb7653(0x5b8)](_0x4d38e2,null,0x2)));}}async['processawaitSeconds'](_0x5ee6b8,_0x4a526c){const _0x1942de=a0_0x5bdda6;if(this[_0x1942de(0x34c)][_0x1942de(0x1f6)](this[_0x1942de(0x7eb)]+'\x20('+this['instance'][_0x1942de(0x20d)]+_0x1942de(0x45f)),!_0x5ee6b8||!_0x4a526c)return this[_0x1942de(0x34c)][_0x1942de(0x83d)](this[_0x1942de(0x7eb)]+'\x20('+this['instance'][_0x1942de(0x20d)]+_0x1942de(0x61f)),null;let _0x3bd266=+_0x4a526c[_0x1942de(0x40e)];isNaN(_0x3bd266)&&(_0x3bd266=0x0),_0x3bd266=Math[_0x1942de(0x2ba)](_0x3bd266,0x3c),await(0x0,f[_0x1942de(0x500)])(_0x3bd266*0x3e8);let _0x818041={'moreLogs':[_0x1942de(0x7fe)+_0x3bd266+_0x1942de(0x177)]};return await this[_0x1942de(0x62b)](_0x5ee6b8,_0x4a526c,_0x818041),_0x3bd266;}async[a0_0x5bdda6(0x36c)](_0x443b1a,_0x2d76c2){const _0x1192c0=a0_0x5bdda6;if(this['logger'][_0x1192c0(0x1f6)](this[_0x1192c0(0x7eb)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x443b1a||!_0x2d76c2)return this['logger'][_0x1192c0(0x83d)](this[_0x1192c0(0x7eb)]+'\x20('+this[_0x1192c0(0x32b)][_0x1192c0(0x20d)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4150c6=[];if(_0x2d76c2[_0x1192c0(0x633)][_0x1192c0(0x7bc)]()==='[all]'){let _0x4cfdc1=[_0x1192c0(0x734),_0x1192c0(0x36f),_0x1192c0(0x1a3),_0x1192c0(0x4c3),_0x1192c0(0x38a),'_fromMe'];_0x4150c6=Object[_0x1192c0(0x45d)](_0x443b1a['chatLog'][_0x1192c0(0x267)])[_0x1192c0(0x539)](_0x290fc2=>_0x290fc2['startsWith']('_')&&!_0x4cfdc1[_0x1192c0(0x71f)](_0x290fc2));}else _0x4150c6=_0x2d76c2[_0x1192c0(0x633)][_0x1192c0(0x771)]('|')['map'](_0x4f2ca9=>(_0x4f2ca9=_0x4f2ca9[_0x1192c0(0x4a9)](/[{}]/g,'')[_0x1192c0(0x7bc)](),_0x4f2ca9[_0x1192c0(0x15d)]('_')?_0x4f2ca9:'_'+_0x4f2ca9));let _0x37cc0a=[];_0x4150c6[_0x1192c0(0x3a3)](_0xe90905=>{const _0x5b2b0f=_0x1192c0;_0xe90905 in _0x443b1a['chatLog'][_0x5b2b0f(0x267)]&&(delete _0x443b1a[_0x5b2b0f(0x3d0)][_0x5b2b0f(0x267)][_0xe90905],_0x37cc0a[_0x5b2b0f(0x711)](_0xe90905));}),_0x37cc0a[_0x1192c0(0x29b)]>0x0?this[_0x1192c0(0x34c)][_0x1192c0(0x1f6)](this[_0x1192c0(0x7eb)]+'\x20('+this[_0x1192c0(0x32b)][_0x1192c0(0x20d)]+_0x1192c0(0x21a)+_0x37cc0a[_0x1192c0(0x64d)](',\x20')):this[_0x1192c0(0x34c)]['verbose'](this[_0x1192c0(0x7eb)]+'\x20('+this['instance'][_0x1192c0(0x20d)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x12fc21={'moreLogs':[_0x1192c0(0x39a)+_0x37cc0a[_0x1192c0(0x64d)](',\x20')]};return await this[_0x1192c0(0x62b)](_0x443b1a,_0x2d76c2,_0x12fc21),null;}async[a0_0x5bdda6(0x259)](_0x1c7b3c,_0x37370b){const _0x181822=a0_0x5bdda6;if(this[_0x181822(0x34c)][_0x181822(0x1f6)](this[_0x181822(0x7eb)]+'\x20('+this[_0x181822(0x32b)][_0x181822(0x20d)]+_0x181822(0x65b)),!_0x1c7b3c||!_0x37370b)return this[_0x181822(0x34c)]['error'](this[_0x181822(0x7eb)]+'\x20('+this[_0x181822(0x32b)][_0x181822(0x20d)]+_0x181822(0x61f)),null;let _0x60e3dc=_0x1c7b3c[_0x181822(0x4c8)];_0x37370b['scheduleFlow'][_0x181822(0x4c8)]&&_0x37370b[_0x181822(0x56c)]['remoteJid'][_0x181822(0x7bc)]()!==''&&(_0x60e3dc=_0x37370b[_0x181822(0x162)]['remoteJid'][_0x181822(0x7bc)]());let _0x59e05a=_0x37370b[_0x181822(0x56c)][_0x181822(0x4bc)]*0xea60,_0xc412c4=Date[_0x181822(0x71b)]()+_0x59e05a,_0xe89041={'status':_0x181822(0x7de),'info':_0x181822(0x80a)+_0x1c7b3c['name'],'remoteJids':[_0x60e3dc],'when':_0xc412c4,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x181822(0x5a0),'flowName':_0x37370b[_0x181822(0x56c)]['flowName']};this[_0x181822(0x7a0)](_0xe89041);let _0x2b05ee=await this['NextBlock'](_0x1c7b3c);_0x2b05ee&&await this[_0x181822(0x4ee)](_0x1c7b3c,_0x2b05ee);}async[a0_0x5bdda6(0x148)](_0x1ce12a,_0x93d8e2){const _0xdbc9f9=a0_0x5bdda6;if(this['logger'][_0xdbc9f9(0x1f6)](this['instanceName']+'\x20('+this[_0xdbc9f9(0x32b)][_0xdbc9f9(0x20d)]+_0xdbc9f9(0x5a1)),!_0x1ce12a||!_0x93d8e2)return this[_0xdbc9f9(0x34c)][_0xdbc9f9(0x83d)](this['instanceName']+'\x20('+this[_0xdbc9f9(0x32b)][_0xdbc9f9(0x20d)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x1ce12a,_0x93d8e2,{},!0x0,!0x0);let _0x3d58c0=_0x93d8e2[_0xdbc9f9(0x7e3)];_0x1ce12a=await this[_0xdbc9f9(0x51a)](_0x3d58c0,_0x1ce12a[_0xdbc9f9(0x4c8)],_0x1ce12a['chatLog']['realVariables']);let _0x24e057=await this[_0xdbc9f9(0x65a)](_0x1ce12a);_0x24e057&&await this['processblock'](_0x1ce12a,_0x24e057);}async[a0_0x5bdda6(0x51a)](_0xcc9238,_0x2bcafd,_0x76ff2e){const _0x316007=a0_0x5bdda6;this[_0x316007(0x34c)][_0x316007(0x1f6)](this['instanceName']+'\x20('+this[_0x316007(0x32b)]['wuid']+_0x316007(0x16e));try{if(_0xcc9238=await this[_0x316007(0x320)]['flow']['findOne']({'where':{'name':_0xcc9238}},this[_0x316007(0x32b)][_0x316007(0x20d)]),!_0xcc9238)return this[_0x316007(0x34c)][_0x316007(0x83d)](this[_0x316007(0x7eb)]+'\x20('+this[_0x316007(0x32b)][_0x316007(0x20d)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x19ad72=require('mongodb')[_0x316007(0x693)],_0x11b09d=Date['now'](),_0x459809=_0x316007(0x623),_0x45c02e={},_0x557e1f={},_0x329500={..._0xcc9238,'chatLog':null},_0x7d2a0={'lastReceivedMessage':_0x45c02e,'lastSendMessage':_0x557e1f,'lastBlockId':_0x459809,'lastCondition':!0x0,'realVariables':_0x76ff2e};_0x329500[_0x316007(0x3d0)]=_0x7d2a0,_0x329500[_0x316007(0x3d0)][_0x316007(0x267)]={..._0x76ff2e},delete _0x329500[_0x316007(0x38a)],_0x329500[_0x316007(0x38a)]=new _0x19ad72(),_0x329500[_0x316007(0x798)]=_0x11b09d,_0x329500[_0x316007(0x390)]=_0x316007(0x41f),_0x329500[_0x316007(0x4c8)]=_0x2bcafd;let _0x2c18b1=await this['repository'][_0x316007(0x795)][_0x316007(0x31c)](_0x329500[_0x316007(0x38a)],_0x329500,this[_0x316007(0x32b)][_0x316007(0x20d)]);return this[_0x316007(0x34c)]['verbose'](this[_0x316007(0x7eb)]+'\x20('+this[_0x316007(0x32b)][_0x316007(0x20d)]+_0x316007(0x55f)),_0x2c18b1?_0x329500:null;}catch(_0x203a9f){let _0x528da9=_0x316007(0x72f),_0x51ffad=_0x203a9f instanceof Error?_0x203a9f[_0x316007(0x1f1)]:typeof _0x203a9f=='object'?JSON[_0x316007(0x5b8)](_0x203a9f):_0x203a9f,_0x3f8dbb=_0x528da9+':\x20'+_0x51ffad;throw this[_0x316007(0x34c)][_0x316007(0x83d)](this[_0x316007(0x7eb)]+'\x20('+this['instance'][_0x316007(0x20d)]+_0x316007(0x413)+_0x3f8dbb),new m(_0x3f8dbb);}}async[a0_0x5bdda6(0x393)](_0x5aba3f,_0x5b44b2){const _0x5ceebb=a0_0x5bdda6;let _0x4c4a2b,_0x567fe1;try{let _0x1aaf7e=_0x5b44b2[_0x5ceebb(0x729)];if(!_0x1aaf7e||!_0x1aaf7e[_0x5ceebb(0x379)]||!_0x1aaf7e['method'])throw new Error(_0x5ceebb(0x25a));let _0x465493;([_0x5ceebb(0x7ca),_0x5ceebb(0x745),_0x5ceebb(0x6c8)]['some'](_0x27ed6f=>_0x1aaf7e[_0x5ceebb(0x379)][_0x5ceebb(0x71f)](_0x27ed6f))||_0x1aaf7e[_0x5ceebb(0x654)])&&(_0x465493=_0x5ceebb(0x179));let _0x46c862='\u205f',_0x5c33f7;try{_0x5c33f7=JSON[_0x5ceebb(0x4b1)](_0x1aaf7e['bodyString'][_0x5ceebb(0x4a9)](new RegExp(_0x46c862,'g'),''));}catch(_0x4c1dfc){throw _0x4c1dfc;}let _0x2f7066={'method':_0x1aaf7e[_0x5ceebb(0x306)],'url':_0x1aaf7e['url'],'headers':_0x1aaf7e[_0x5ceebb(0x253)]||{},..._0x1aaf7e['method'][_0x5ceebb(0x44a)]()!=='GET'&&_0x1aaf7e['bodyString']?{'data':JSON[_0x5ceebb(0x4b1)](_0x1aaf7e[_0x5ceebb(0x2a8)][_0x5ceebb(0x4a9)](new RegExp(_0x46c862,'g'),''))}:{},..._0x465493&&{'responseType':_0x465493}},_0x28886f=await(0x0,Q[_0x5ceebb(0x79b)])(_0x2f7066),_0xc5e14b=_0x28886f[_0x5ceebb(0x609)][_0x5ceebb(0x2a7)];if(_0xc5e14b&&_0xc5e14b[_0x5ceebb(0x71f)](_0x5ceebb(0x260))||typeof _0x28886f['data']==_0x5ceebb(0x1c7)){if(typeof _0x28886f[_0x5ceebb(0x6d0)]==_0x5ceebb(0x1c7)){let _0x132e71=_0x28886f[_0x5ceebb(0x6d0)][_0x5ceebb(0x4a9)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x5ceebb(0x7bc)]();try{_0x4c4a2b=JSON[_0x5ceebb(0x4b1)](_0x132e71);}catch(_0x1119e9){console[_0x5ceebb(0x83d)](_0x5ceebb(0x3ec)+_0x1119e9[_0x5ceebb(0x1f1)]),_0x4c4a2b={'_apiResponse':_0x28886f[_0x5ceebb(0x6d0)]};}}else _0x4c4a2b=_0x28886f[_0x5ceebb(0x6d0)];let _0x2d5460=_0x5aba3f[_0x5ceebb(0x3d0)][_0x5ceebb(0x267)],_0x38388b=this[_0x5ceebb(0x7b3)](_0x4c4a2b);return Object[_0x5ceebb(0x6d2)](_0x2d5460,_0x38388b),_0x5aba3f['chatLog']['realVariables']=_0x2d5460,_0x567fe1={'error':!0x1,'apiResponse':_0x4c4a2b},this[_0x5ceebb(0x62b)](_0x5aba3f,_0x5b44b2,_0x567fe1),_0x4c4a2b;}if(_0xc5e14b&&(_0xc5e14b[_0x5ceebb(0x71f)]('application/octet-stream')||_0xc5e14b[_0x5ceebb(0x71f)](_0x5ceebb(0x614))||_0xc5e14b[_0x5ceebb(0x71f)](_0x5ceebb(0x489))||_0xc5e14b['includes'](_0x5ceebb(0x2f2)))){this[_0x5ceebb(0x34c)][_0x5ceebb(0x1f6)](this[_0x5ceebb(0x7eb)]+'\x20('+this[_0x5ceebb(0x32b)][_0x5ceebb(0x20d)]+_0x5ceebb(0x1ef)+_0xc5e14b);let _0x2b1a46=(0x0,Ce['v4'])(),_0x527ac6='',_0x5ac657={'image/jpeg':'.jpg','image/png':_0x5ceebb(0x30f),'image/gif':'.gif','image/webp':_0x5ceebb(0x34d),'image/svg+xml':_0x5ceebb(0x3f5),'audio/mpeg':_0x5ceebb(0x278),'audio/ogg':_0x5ceebb(0x7f6),'audio/wav':_0x5ceebb(0x73f),'video/mp4':_0x5ceebb(0x28f),'video/webm':_0x5ceebb(0x53e),'video/ogg':'.ogv','text/plain':_0x5ceebb(0x626),'application/pdf':_0x5ceebb(0x3cb),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x5ceebb(0x330),'application/vnd.ms-excel':_0x5ceebb(0x3d8),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x5ceebb(0x802),'application/vnd.ms-powerpoint':_0x5ceebb(0x3e2),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x5ceebb(0x6f6)};_0x5ac657[_0xc5e14b]?(_0x527ac6=_0x5ac657[_0xc5e14b],this[_0x5ceebb(0x34c)]['verbose'](this[_0x5ceebb(0x7eb)]+'\x20('+this[_0x5ceebb(0x32b)][_0x5ceebb(0x20d)]+_0x5ceebb(0x3a0)+_0x527ac6)):(_0x527ac6=_0x5ceebb(0x30e),this[_0x5ceebb(0x34c)][_0x5ceebb(0x1f6)](this[_0x5ceebb(0x7eb)]+'\x20('+this['instance']['wuid']+_0x5ceebb(0x6cc)+_0x527ac6)),_0x2b1a46+=_0x527ac6,this[_0x5ceebb(0x34c)]['verbose'](this['instanceName']+'\x20('+this[_0x5ceebb(0x32b)][_0x5ceebb(0x20d)]+_0x5ceebb(0x3bb)+_0x2b1a46);let _0x5982d8=this[_0x5ceebb(0x5b4)]['get'](_0x5ceebb(0x169))[_0x5ceebb(0x50c)];if(!_0x5982d8){let _0x5e58f9=this[_0x5ceebb(0x5b4)][_0x5ceebb(0x1bb)](_0x5ceebb(0x381));_0x5982d8=_0x5ceebb(0x2c7)+(_0x5e58f9&&_0x5e58f9[_0x5ceebb(0x180)]['split']('/')[0x4]);}let _0x1fbe9a=Buffer[_0x5ceebb(0x47d)](_0x28886f['data']);await this[_0x5ceebb(0x772)](_0x1fbe9a,_0x2b1a46);let _0x53a084=_0x5ceebb(0x32a)+_0x2b1a46;_0x53a084=''+_0x5982d8+_0x53a084,_0x4c4a2b={'fileUrl':_0x53a084},_0x5aba3f['chatLog'][_0x5ceebb(0x267)][_0x5ceebb(0x82b)]=_0x53a084;let _0x3be7e4=_0x5aba3f[_0x5ceebb(0x3d0)][_0x5ceebb(0x267)],_0x597031=this['flattenObject'](_0x4c4a2b);return Object[_0x5ceebb(0x6d2)](_0x3be7e4,_0x597031),_0x5aba3f[_0x5ceebb(0x3d0)][_0x5ceebb(0x267)]=_0x3be7e4,_0x567fe1={'error':!0x1,'apiResponse':{'fileUrl':_0x53a084}},this['updateConversation'](_0x5aba3f,_0x5b44b2,_0x567fe1),_0x4c4a2b;}}catch(_0x544f42){console[_0x5ceebb(0x83d)](_0x5ceebb(0x300),_0x544f42[_0x5ceebb(0x1f1)]),_0x544f42['response']&&(_0x4c4a2b=_0x544f42[_0x5ceebb(0x4f0)][_0x5ceebb(0x6d0)]);let _0x2ea44c=_0x5aba3f['chatLog']['realVariables'],_0x1e1b35=this[_0x5ceebb(0x7b3)](_0x4c4a2b);return Object[_0x5ceebb(0x6d2)](_0x2ea44c,_0x1e1b35),_0x5aba3f[_0x5ceebb(0x3d0)][_0x5ceebb(0x267)]=_0x2ea44c,_0x567fe1={'error':!0x0,'errorLog':_0x544f42[_0x5ceebb(0x58f)](),'apiResponse':_0x4c4a2b},this[_0x5ceebb(0x62b)](_0x5aba3f,_0x5b44b2,_0x567fe1),{'success':!0x1};}}[a0_0x5bdda6(0x4d7)](_0x1c1e18,_0x150711){const _0x515506=a0_0x5bdda6;let _0x10729e=_0x474c46=>{const _0x25a194=a0_0x33c5;let _0x33373b=_0x474c46[_0x25a194(0x4a9)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x2f3235=parseFloat(_0x33373b);return isNaN(_0x2f3235)?null:_0x2f3235;},_0x2297ac=_0x150711[_0x515506(0x209)],_0x3d8d78=_0x150711['secondValue'];typeof _0x2297ac=='string'&&(_0x2297ac=this['replaceVariables'](_0x2297ac,_0x1c1e18['chatLog'][_0x515506(0x267)])??''),typeof _0x3d8d78==_0x515506(0x1c7)&&(_0x3d8d78=this['replaceVariables'](_0x3d8d78,_0x1c1e18[_0x515506(0x3d0)][_0x515506(0x267)])??'');let _0x17b052=null;if(!_0x150711[_0x515506(0x81a)])return null;switch(this['logger']['verbose'](this[_0x515506(0x7eb)]+'\x20('+this['instance'][_0x515506(0x20d)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x2297ac),this[_0x515506(0x34c)]['verbose'](this[_0x515506(0x7eb)]+'\x20('+this[_0x515506(0x32b)][_0x515506(0x20d)]+_0x515506(0x312)+_0x3d8d78),_0x150711[_0x515506(0x81a)]){case'+':case'-':case'*':case'/':let _0x2ce1f4=_0x10729e(_0x2297ac||'0'),_0x4987db=_0x10729e(_0x3d8d78||'0');if(_0x2ce1f4===null)return null;switch(_0x150711[_0x515506(0x81a)]){case'+':_0x17b052=_0x2ce1f4+(_0x4987db??0x0);break;case'-':_0x17b052=_0x2ce1f4-(_0x4987db??0x0);break;case'*':_0x17b052=_0x2ce1f4*(_0x4987db??0x1);break;case'/':_0x4987db!==0x0&&(_0x17b052=_0x2ce1f4/(_0x4987db??0x1));break;}break;case _0x515506(0x183):case _0x515506(0x7ad):let _0x1b56b8=_0x3d8d78,_0x291f5e=_0x150711[_0x515506(0x486)];if(typeof _0x291f5e=='string'&&(_0x291f5e=this[_0x515506(0x567)](_0x291f5e,_0x1c1e18[_0x515506(0x3d0)][_0x515506(0x267)])??''),_0x1b56b8&&_0x291f5e!==void 0x0){let _0xec7f7=_0x150711['editOperator']===_0x515506(0x183)?new RegExp(_0x1b56b8['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x1b56b8,'g');_0x17b052=_0x2297ac[_0x515506(0x4a9)](_0xec7f7,_0x291f5e);}else console['warn']('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x515506(0x556):_0x17b052=_0x3d8d78;break;case'extractRegex':let _0x339674=_0x2297ac[_0x515506(0x1ff)](new RegExp(_0x3d8d78||''));_0x17b052=_0x339674?_0x339674[0x0]:'';break;case _0x515506(0x15a):_0x17b052=_0x2297ac[_0x515506(0x649)](0x0,parseInt(_0x3d8d78||'0'));break;case _0x515506(0x1fc):let _0x395fbd=parseInt(_0x3d8d78||'0');_0x17b052=_0x2297ac[_0x515506(0x649)](_0x2297ac[_0x515506(0x29b)]-_0x395fbd);break;case _0x515506(0x257):let _0x200277=_0x10729e(_0x2297ac),_0x5d5d5d=parseInt(_0x3d8d78||'0');_0x5d5d5d=Math[_0x515506(0x1fa)](_0x5d5d5d),_0x200277!==null?_0x17b052=_0x200277[_0x515506(0x5d4)](_0x515506(0x290),{'minimumFractionDigits':_0x5d5d5d,'maximumFractionDigits':_0x5d5d5d}):(console[_0x515506(0x1f4)](_0x515506(0x631)+_0x2297ac),_0x17b052=null);break;case _0x515506(0x6a5):let _0x54c03f=_0x10729e(_0x2297ac);_0x54c03f!==null?_0x17b052=_0x54c03f[_0x515506(0x5d4)](_0x515506(0x290),{'style':_0x515506(0x4ca),'currency':_0x515506(0x207)}):(console[_0x515506(0x1f4)](_0x515506(0x17c)+_0x2297ac),_0x17b052=null);break;case _0x515506(0x5ff):_0x17b052=_0x2297ac[_0x515506(0x44a)]();break;case _0x515506(0x272):_0x17b052=_0x2297ac[_0x515506(0x441)]();break;case _0x515506(0x462):_0x17b052=_0x2297ac[_0x515506(0x771)]('\x20')['map'](_0x90e204=>_0x90e204[_0x515506(0x5c5)](0x0)[_0x515506(0x44a)]()+_0x90e204[_0x515506(0x649)](0x1)['toLowerCase']())[_0x515506(0x64d)]('\x20');break;case _0x515506(0x1ea):_0x17b052=_0x2297ac[_0x515506(0x7bc)]();break;default:_0x17b052=_0x2297ac;}return _0x17b052!==null?_0x17b052[_0x515506(0x58f)]():null;}async[a0_0x5bdda6(0x617)](_0x344219,_0x40ddae){const _0x3b4361=a0_0x5bdda6;try{let _0x273d69=_0x344219[_0x3b4361(0x813)]?.[_0x3b4361(0x539)](_0x2167db=>_0x2167db[_0x3b4361(0x6f0)]===_0x40ddae['_id']?.[_0x3b4361(0x58f)]())||[],_0x45b545=_0x40ddae[_0x3b4361(0x76c)],_0x4a6c53=null,_0xe0b1b1=[],_0x197db3=_0x344219[_0x3b4361(0x3d0)][_0x3b4361(0x267)][_0x45b545];_0xe0b1b1[_0x3b4361(0x711)](_0x3b4361(0x764)+_0x197db3+'\x22');for(let _0x4b0619 of _0x273d69){_0x4b0619['firstValue']=_0x197db3,_0x4a6c53=_0x4b0619[_0x3b4361(0x209)];let _0x537362;try{_0x537362=this[_0x3b4361(0x4d7)](_0x344219,_0x4b0619);}catch(_0x2c2bd5){console['error'](_0x3b4361(0x142)+_0x2c2bd5[_0x3b4361(0x1f1)]);continue;}if(_0x537362!==null){let _0xe97bd2='Operador:\x20\x22'+_0x4b0619[_0x3b4361(0x81a)]+'\x22',_0x33af91=[_0x3b4361(0x6a5),_0x3b4361(0x5ff),_0x3b4361(0x272),_0x3b4361(0x462),_0x3b4361(0x1ea)];_0x4b0619['editOperator']===_0x3b4361(0x183)||_0x4b0619['editOperator']===_0x3b4361(0x7ad)?_0xe97bd2+=_0x3b4361(0x563)+_0x4b0619['secondValue']+_0x3b4361(0x245)+_0x4b0619[_0x3b4361(0x486)]+'\x22':!_0x33af91[_0x3b4361(0x71f)](_0x4b0619[_0x3b4361(0x81a)])&&_0x4b0619['secondValue']!==null&&_0x4b0619[_0x3b4361(0x611)]!==void 0x0&&(_0xe97bd2+=_0x3b4361(0x52c)+_0x4b0619['secondValue']+'\x22'),_0xe97bd2+=_0x3b4361(0x788)+_0x537362+'.',_0xe0b1b1['push'](_0xe97bd2);}_0x537362!==null&&(_0x197db3=_0x537362);}if(_0x344219[_0x3b4361(0x3d0)][_0x3b4361(0x267)]&&_0x40ddae[_0x3b4361(0x76c)]){_0x344219['chatLog'][_0x3b4361(0x267)][_0x40ddae[_0x3b4361(0x76c)]]=_0x197db3;let _0x402602={'variable':_0x40ddae[_0x3b4361(0x76c)],'oldValue':_0x4a6c53,'newValue':_0x197db3,'moreLogs':_0xe0b1b1};try{this[_0x3b4361(0x62b)](_0x344219,_0x40ddae,_0x402602);}catch(_0x13c6b4){console[_0x3b4361(0x83d)](_0x3b4361(0x46b)+_0x13c6b4[_0x3b4361(0x1f1)]);}}return _0x45b545;}catch(_0x5dc473){return console[_0x3b4361(0x83d)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x5dc473[_0x3b4361(0x1f1)]),null;}}async[a0_0x5bdda6(0x2d1)](_0x682ee0,_0x28767f){const _0x120578=a0_0x5bdda6;try{let _0x3a81f1=[],_0x46696b=_0x682ee0['conditions'][_0x120578(0x539)](_0x3f0ae7=>_0x3f0ae7[_0x120578(0x6f0)]===_0x28767f[_0x120578(0x38a)][_0x120578(0x58f)]()),_0x170fad=null,_0x4a25f4=!0x1;for(let _0x2a0d34 of _0x46696b){let _0x224a0f=this[_0x120578(0x12b)](_0x682ee0,_0x2a0d34);_0x3a81f1[_0x120578(0x711)]('Primeiro\x20Valor:\x20'+_0x2a0d34[_0x120578(0x209)]+_0x120578(0x828)+_0x2a0d34['expression']+',\x20Segundo\x20Valor:\x20'+_0x2a0d34[_0x120578(0x611)]+_0x120578(0x4b4)+_0x224a0f),_0x170fad===null?_0x170fad=_0x224a0f:_0x2a0d34[_0x120578(0x7e9)]===_0x120578(0x2f5)?(_0x170fad=_0x170fad&&_0x224a0f,_0x224a0f||(_0x4a25f4=!0x0)):_0x2a0d34[_0x120578(0x7e9)]==='or'&&(_0x4a25f4||(_0x170fad=_0x170fad||_0x224a0f));}_0x170fad===null&&(_0x170fad=!0x0);let _0x323032={'moreLogs':_0x3a81f1};_0x682ee0[_0x120578(0x3d0)][_0x120578(0x625)]=_0x170fad,await this[_0x120578(0x62b)](_0x682ee0,_0x28767f,_0x323032);}catch(_0x42e8d4){this[_0x120578(0x34c)]['error'](this[_0x120578(0x7eb)]+'\x20('+this['instance'][_0x120578(0x20d)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x42e8d4 instanceof Error?_0x42e8d4['message']:JSON[_0x120578(0x5b8)](_0x42e8d4,null,0x2)));}}[a0_0x5bdda6(0x12b)](_0x137614,_0x1ded80){const _0x3aeea2=a0_0x5bdda6;let _0x4d5333=_0x1ded80[_0x3aeea2(0x209)],_0x41a67b=_0x1ded80['secondValue'];typeof _0x4d5333==_0x3aeea2(0x1c7)&&(_0x4d5333=this[_0x3aeea2(0x567)](_0x4d5333,_0x137614[_0x3aeea2(0x3d0)][_0x3aeea2(0x267)])??''),typeof _0x41a67b==_0x3aeea2(0x1c7)&&(_0x41a67b=this[_0x3aeea2(0x567)](_0x41a67b,_0x137614[_0x3aeea2(0x3d0)][_0x3aeea2(0x267)])??'');try{switch(_0x1ded80[_0x3aeea2(0x17f)]){case _0x3aeea2(0x2fe):return _0x4d5333===_0x41a67b;case'notEqual':return _0x4d5333!==_0x41a67b;case'contains':return this[_0x3aeea2(0x2e9)](_0x4d5333,_0x41a67b);case'notContains':return!this[_0x3aeea2(0x2e9)](_0x4d5333,_0x41a67b);case _0x3aeea2(0x455):return parseFloat(_0x4d5333)>parseFloat(_0x41a67b);case _0x3aeea2(0x70b):return parseFloat(_0x4d5333)<parseFloat(_0x41a67b);case _0x3aeea2(0x531):return _0x4d5333!=='';case _0x3aeea2(0x26c):return _0x4d5333==='';case _0x3aeea2(0x339):return new RegExp(_0x41a67b)[_0x3aeea2(0x1c6)](_0x4d5333);case'notMatchRegex':return!new RegExp(_0x41a67b)[_0x3aeea2(0x1c6)](_0x4d5333);default:return!0x1;}}catch(_0xf8d3c3){return console['error'](_0x3aeea2(0x74d)+_0xf8d3c3),!0x1;}}[a0_0x5bdda6(0x2e9)](_0xddb746,_0x41a23a){const _0x2f52ba=a0_0x5bdda6;if(_0xddb746===_0x41a23a&&/^\d+$/[_0x2f52ba(0x1c6)](_0xddb746))return!0x0;if(this[_0x2f52ba(0x190)](_0xddb746)&&/^\d+$/[_0x2f52ba(0x1c6)](_0x41a23a)){let _0x3c32ed=_0xddb746[_0x2f52ba(0x771)](',')[_0x2f52ba(0x2b0)](_0x15b6dc=>parseInt(_0x15b6dc[_0x2f52ba(0x7bc)]())),_0x1b3275=parseInt(_0x41a23a);return _0x3c32ed[_0x2f52ba(0x71f)](_0x1b3275);}return _0xddb746[_0x2f52ba(0x71f)](_0x41a23a);}['isListOfNumbers'](_0xdf51c3){const _0x213bfd=a0_0x5bdda6;return/^\d+(,\d+)*$/[_0x213bfd(0x1c6)](_0xdf51c3);}[a0_0x5bdda6(0x3e8)](_0x2a827c){const _0x98c6a0=a0_0x5bdda6;let _0x3406ed=!0x0,_0x94557e=null;for(let _0x5eedc4 of _0x2a827c){let _0x3f9cea=this['evaluateConditionTest'](_0x5eedc4);if(_0x94557e==='or'&&_0x3f9cea){_0x3406ed=!0x0;break;}if(_0x94557e===_0x98c6a0(0x2f5)&&!_0x3f9cea){_0x3406ed=!0x1;break;}_0x94557e=_0x5eedc4[_0x98c6a0(0x7e9)];}return _0x3406ed;}['evaluateConditionTest'](_0x696212){const _0x27e535=a0_0x5bdda6;let _0x42cc2d=_0x696212[_0x27e535(0x209)],_0x6ad56c=_0x696212['secondValue'];try{switch(_0x696212[_0x27e535(0x17f)]){case _0x27e535(0x2fe):return String(_0x42cc2d)===String(_0x6ad56c);case _0x27e535(0x7c0):return String(_0x42cc2d)!==String(_0x6ad56c);case'contains':return String(_0x42cc2d)[_0x27e535(0x71f)](String(_0x6ad56c));case _0x27e535(0x490):return!String(_0x42cc2d)[_0x27e535(0x71f)](String(_0x6ad56c));case _0x27e535(0x455):return parseFloat(String(_0x42cc2d))>parseFloat(String(_0x6ad56c));case _0x27e535(0x70b):return parseFloat(String(_0x42cc2d))<parseFloat(String(_0x6ad56c));case _0x27e535(0x531):return String(_0x42cc2d)!=='';case'empty':return String(_0x42cc2d)==='';case _0x27e535(0x339):return new RegExp(String(_0x6ad56c))[_0x27e535(0x1c6)](String(_0x42cc2d));case _0x27e535(0x46c):return!new RegExp(String(_0x6ad56c))[_0x27e535(0x1c6)](String(_0x42cc2d));default:return!0x1;}}catch(_0x2162ec){return console[_0x27e535(0x83d)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x2162ec),!0x1;}}async['saveTextReply'](_0x1d9f68,_0x3a9439){const _0x4a599f=a0_0x5bdda6;if(this['logger'][_0x4a599f(0x1f6)](this[_0x4a599f(0x7eb)]+'\x20('+this[_0x4a599f(0x32b)]['wuid']+_0x4a599f(0x13d)),!_0x1d9f68||!_0x3a9439)return this[_0x4a599f(0x34c)][_0x4a599f(0x83d)](this[_0x4a599f(0x7eb)]+'\x20('+this[_0x4a599f(0x32b)][_0x4a599f(0x20d)]+_0x4a599f(0x61f)),null;let _0x2f11ca=_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x345)][_0x4a599f(0x4d8)]['id'];this[_0x4a599f(0x34c)][_0x4a599f(0x1f6)](this[_0x4a599f(0x7eb)]+'\x20('+this[_0x4a599f(0x32b)][_0x4a599f(0x20d)]+_0x4a599f(0x21d)+_0x2f11ca);let _0x13fd5a={'key':{'id':_0x2f11ca}},_0x558e38=_0x3a9439[_0x4a599f(0x76c)];_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x267)]['_'+_0x558e38+_0x4a599f(0x815)]=null,_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x267)]['_'+_0x558e38+_0x4a599f(0x766)]=null,_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x267)]['_'+_0x558e38+'.extension']=null,_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x267)]['_'+_0x558e38+'.type']=_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x345)]['type'];try{let _0x34339b=await this[_0x4a599f(0x4b7)](_0x13fd5a);this['logger'][_0x4a599f(0x1f6)](this[_0x4a599f(0x7eb)]+'\x20('+this[_0x4a599f(0x32b)]['wuid']+_0x4a599f(0x5cb)),_0x1d9f68['chatLog'][_0x4a599f(0x267)]['_'+_0x558e38+'.url']=_0x34339b[_0x4a599f(0x82b)],_0x1d9f68['chatLog'][_0x4a599f(0x267)]['_'+_0x558e38+_0x4a599f(0x766)]=_0x34339b[_0x4a599f(0x1d1)];let _0x562fbe=_0x34339b[_0x4a599f(0x1d1)][_0x4a599f(0x1ff)](/\/(\w+)$/),_0x4de8ea=_0x562fbe?_0x562fbe[0x1]:null;_0x1d9f68['chatLog'][_0x4a599f(0x267)]['_'+_0x558e38+_0x4a599f(0x336)]=_0x4de8ea,this['logger'][_0x4a599f(0x1f6)](this[_0x4a599f(0x7eb)]+'\x20('+this['instance'][_0x4a599f(0x20d)]+_0x4a599f(0x154)+_0x558e38+'\x27.');}catch(_0x8d7363){this['logger'][_0x4a599f(0x83d)](this[_0x4a599f(0x7eb)]+'\x20('+this[_0x4a599f(0x32b)][_0x4a599f(0x20d)]+_0x4a599f(0x427)+_0x8d7363);}let _0x48678f=_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x345)][_0x4a599f(0x3ce)]||_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x345)][_0x4a599f(0x1bc)]||_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x345)]['vote'];try{_0x1d9f68['chatLog']['realVariables']||(_0x1d9f68['chatLog']['realVariables']={});let _0x16297c=_0x1d9f68[_0x4a599f(0x3d0)]['realVariables'][_0x558e38];_0x1d9f68[_0x4a599f(0x3d0)][_0x4a599f(0x267)][_0x558e38]=_0x48678f;let _0x41f45d={'variable':_0x558e38,'oldValue':_0x16297c,'newValue':_0x48678f};this['updateConversation'](_0x1d9f68,_0x3a9439,_0x41f45d),this[_0x4a599f(0x34c)][_0x4a599f(0x1f6)](this[_0x4a599f(0x7eb)]+'\x20('+this[_0x4a599f(0x32b)][_0x4a599f(0x20d)]+_0x4a599f(0x204));}catch(_0x1ee12e){let _0x10addd={'error':!0x0,'errorLog':_0x1ee12e['toString']()};return this[_0x4a599f(0x62b)](_0x1d9f68,_0x3a9439,_0x10addd),this[_0x4a599f(0x34c)][_0x4a599f(0x83d)](this[_0x4a599f(0x7eb)]+'\x20('+this['instance'][_0x4a599f(0x20d)]+_0x4a599f(0x81e)+(_0x1ee12e instanceof Error?_0x1ee12e['message']:JSON[_0x4a599f(0x5b8)](_0x1ee12e,null,0x2))),null;}}async[a0_0x5bdda6(0x655)](_0x5e11bf,_0x5e772f){const _0x198805=a0_0x5bdda6;if(this[_0x198805(0x34c)][_0x198805(0x1f6)](this[_0x198805(0x7eb)]+'\x20('+this[_0x198805(0x32b)]['wuid']+_0x198805(0x18e)),!_0x5e11bf||!_0x5e772f)return this[_0x198805(0x34c)][_0x198805(0x83d)](this[_0x198805(0x7eb)]+'\x20('+this[_0x198805(0x32b)][_0x198805(0x20d)]+_0x198805(0x61f)),null;let _0x13e3ca=Date[_0x198805(0x71b)](),_0x3bc141=parseInt(_0x5e772f[_0x198805(0x65f)],0xa);if(isNaN(_0x3bc141))return this[_0x198805(0x34c)]['error'](this['instanceName']+'\x20('+this[_0x198805(0x32b)][_0x198805(0x20d)]+_0x198805(0x604)),null;let _0x26e132={'newStoppedUntil':_0x13e3ca+_0x3bc141*0x3c*0x3e8};return await this[_0x198805(0x62b)](_0x5e11bf,_0x5e772f,_0x26e132,!0x0),null;}async[a0_0x5bdda6(0x35d)](_0x38ec29,_0x33dd78){const _0x356f5b=a0_0x5bdda6;try{switch(_0x33dd78[_0x356f5b(0x162)]['command']){case _0x356f5b(0x3da):await this['uazapiSendText'](_0x38ec29,_0x33dd78);break;case _0x356f5b(0x3c6):await this[_0x356f5b(0x27b)](_0x38ec29,_0x33dd78);break;case _0x356f5b(0x4c5):await this['uazapiSendLocation'](_0x38ec29,_0x33dd78);break;case _0x356f5b(0x664):await this[_0x356f5b(0x3d2)](_0x38ec29,_0x33dd78);break;case _0x356f5b(0x592):await this[_0x356f5b(0x6b2)](_0x38ec29,_0x33dd78);break;case _0x356f5b(0x834):await this[_0x356f5b(0x37f)](_0x38ec29,_0x33dd78);break;case'sendMenu':await this[_0x356f5b(0x37f)](_0x38ec29,_0x33dd78);break;case _0x356f5b(0x70c):await this[_0x356f5b(0x1a1)](_0x38ec29,_0x33dd78);break;default:this[_0x356f5b(0x34c)][_0x356f5b(0x83d)](this['instanceName']+'\x20('+this[_0x356f5b(0x32b)][_0x356f5b(0x20d)]+_0x356f5b(0x748)+_0x33dd78[_0x356f5b(0x162)][_0x356f5b(0x2bc)]);}}catch(_0x2074cc){this['logger']['error'](this['instanceName']+'\x20('+this[_0x356f5b(0x32b)][_0x356f5b(0x20d)]+_0x356f5b(0x127)+(_0x2074cc instanceof Error?_0x2074cc['message']:JSON[_0x356f5b(0x5b8)](_0x2074cc,null,0x2)));}}async[a0_0x5bdda6(0x62b)](_0x78d6c9,_0x5e92df,_0x151946,_0x14d3b6=!0x1,_0x45bf96=!0x1){const _0x24a7de=a0_0x5bdda6;_0x78d6c9[_0x24a7de(0x3d0)]['blockLogs']||(_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x2e1)]=[]);let _0x2c408a=(_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x2e1)]?.[_0x24a7de(0x29b)]??0x0)+0x1,_0xe0f8fb=_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x2e1)]['filter'](_0x26b059=>String(_0x26b059[_0x24a7de(0x6f0)])===String(_0x5e92df['_id']))[_0x24a7de(0x29b)]+0x1,_0x4a2288=_0x151946?.[_0x24a7de(0x477)]??Date[_0x24a7de(0x71b)](),_0x54cf66=_0x151946?.[_0x24a7de(0x83d)]?_0x151946[_0x24a7de(0x7b8)]??_0x151946['error'][_0x24a7de(0x58f)]():void 0x0,_0x4baf42={'onTime':_0x4a2288,'blockId':_0x5e92df['_id'],'order':_0x2c408a,'activatedCount':_0xe0f8fb,'error':_0x151946?.[_0x24a7de(0x83d)]??!0x1,'messageId':_0x151946?.[_0x24a7de(0x4a4)],'apiResponse':_0x151946?.[_0x24a7de(0x4e3)],'apiResponseString':_0x151946?.[_0x24a7de(0x4e3)]?JSON[_0x24a7de(0x5b8)](_0x151946?.[_0x24a7de(0x4e3)]):void 0x0,'variable':_0x151946?.[_0x24a7de(0x51e)],'oldValue':_0x151946?.['oldValue'],'newValue':_0x151946?.[_0x24a7de(0x254)],'newStoppedUntil':_0x151946?.[_0x24a7de(0x31b)],'moreLogs':_0x151946?.[_0x24a7de(0x2b9)],'errorLog':_0x54cf66};if(_0x151946['moreLogs']&&_0x151946[_0x24a7de(0x2b9)][_0x24a7de(0x29b)]>0x0){let _0x1eda2d=_0x151946[_0x24a7de(0x2b9)][_0x24a7de(0x2b0)](_0x4454ac=>this[_0x24a7de(0x239)](_0x4454ac,_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x267)]));_0x4baf42[_0x24a7de(0x2b9)]=_0x1eda2d;}if(_0x78d6c9['chatLog']['realVariables']||(_0x78d6c9[_0x24a7de(0x3d0)]['realVariables']={}),_0x78d6c9[_0x24a7de(0x3d0)]['realVariables'][_0x24a7de(0x682)]=String(_0xe0f8fb),_0x78d6c9['chatLog'][_0x24a7de(0x267)][_0x24a7de(0x36f)]=String(_0x151946['error']??!0x1),_0x78d6c9[_0x24a7de(0x3d0)]['blockLogs'][_0x24a7de(0x711)](_0x4baf42),_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x267)][_0x24a7de(0x32c)]&&_0x78d6c9['chatLog'][_0x24a7de(0x267)][_0x24a7de(0x32c)]!==_0x78d6c9[_0x24a7de(0x4c8)]){let _0x7cad46=(await this[_0x24a7de(0x3db)]({'numbers':[_0x78d6c9[_0x24a7de(0x3d0)]['realVariables']['telefone']]}))[0x0][_0x24a7de(0x518)];_0x78d6c9[_0x24a7de(0x3d0)]['realVariables']['telefone']=_0x7cad46,_0x78d6c9[_0x24a7de(0x4c8)]=_0x7cad46;try{let _0x3f657d={'_id':{'$ne':_0x78d6c9['_id']},'remoteJid':_0x7cad46,'status':_0x24a7de(0x41f)},_0x35a82a={'status':_0x24a7de(0x6e6)};await this['repository'][_0x24a7de(0x795)][_0x24a7de(0x63a)](_0x3f657d,_0x35a82a,this['instance'][_0x24a7de(0x20d)]),this[_0x24a7de(0x34c)]['verbose'](this[_0x24a7de(0x7eb)]+'\x20('+this[_0x24a7de(0x32b)][_0x24a7de(0x20d)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x1a4096){this[_0x24a7de(0x34c)][_0x24a7de(0x83d)](this['instanceName']+'\x20('+this[_0x24a7de(0x32b)][_0x24a7de(0x20d)]+_0x24a7de(0x123)+_0x1a4096['message']);}try{let _0x575958=_0x78d6c9['chatLog']['realVariables'],_0x5d6501=await this['getVariablesChat'](_0x7cad46),_0x1cf245={..._0x575958,..._0x5d6501,'_remoteJid':_0x7cad46};_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x267)]=_0x1cf245;}catch(_0x277191){this[_0x24a7de(0x34c)][_0x24a7de(0x83d)](this[_0x24a7de(0x7eb)]+'\x20('+this[_0x24a7de(0x32b)]['wuid']+_0x24a7de(0x2be)+_0x277191[_0x24a7de(0x1f1)]);}}_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x360)]=_0x5e92df[_0x24a7de(0x38a)][_0x24a7de(0x58f)](),_0x78d6c9['chatLog'][_0x24a7de(0x421)]&&(_0x78d6c9[_0x24a7de(0x3d0)]['lastSendMessage']=_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x421)]),_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x345)]&&(_0x78d6c9[_0x24a7de(0x3d0)]['lastReceivedMessage']=_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x345)]),_0x78d6c9[_0x24a7de(0x3d0)][_0x24a7de(0x625)]&&(_0x78d6c9[_0x24a7de(0x3d0)]['lastCondition']=_0x78d6c9['chatLog'][_0x24a7de(0x625)]),_0x45bf96&&(_0x78d6c9['status']=_0x24a7de(0x6e6)),_0x14d3b6?this[_0x24a7de(0x68f)](_0x78d6c9):this[_0x24a7de(0x66e)](_0x78d6c9,_0x5e92df);}[a0_0x5bdda6(0x239)](_0x371f1a,_0x5bef3f){const _0x4ba186=a0_0x5bdda6;return _0x371f1a[_0x4ba186(0x4a9)](/\{\{([^}]+)\}\}/g,(_0x25b9d0,_0x3c9d4a)=>_0x5bef3f[_0x3c9d4a]?'{{'+_0x3c9d4a+_0x4ba186(0x1a6)+_0x5bef3f[_0x3c9d4a]+'\x22':'{{'+_0x3c9d4a+_0x4ba186(0x44c));}async[a0_0x5bdda6(0x68f)](_0x167089){const _0x3982be=a0_0x5bdda6;try{let _0x2a46c5=Object[_0x3982be(0x285)](_0x167089['chatLog'][_0x3982be(0x267)])[_0x3982be(0x2b0)](([_0x358869,_0x5a704f])=>({'name':_0x358869,'value':_0x5a704f})),_0x4f1d75={'status':_0x167089[_0x3982be(0x390)],'remoteJid':_0x167089[_0x3982be(0x4c8)],'blocks':_0x167089[_0x3982be(0x82f)],'waitingMenu_id':_0x167089['waitingMenu_id'],'waitingMenu_text':_0x167089['waitingMenu_text'],'waitingMenu_replyOptions':_0x167089[_0x3982be(0x1d2)],'chatLog':{'lastBlockId':_0x167089['chatLog'][_0x3982be(0x360)],'lastSendMessage':_0x167089[_0x3982be(0x3d0)][_0x3982be(0x421)],'lastReceivedMessage':_0x167089['chatLog'][_0x3982be(0x345)],'lastCondition':_0x167089[_0x3982be(0x3d0)]['lastCondition'],'chatVariables':_0x2a46c5,'realVariables':_0x167089[_0x3982be(0x3d0)][_0x3982be(0x267)],'blockLogs':_0x167089[_0x3982be(0x3d0)][_0x3982be(0x2e1)]}},_0x114fee=await this['repository'][_0x3982be(0x795)][_0x3982be(0x31c)](_0x167089[_0x3982be(0x38a)],_0x4f1d75,this['instance'][_0x3982be(0x20d)]);if(_0x114fee){this[_0x3982be(0x34c)][_0x3982be(0x1f6)](this[_0x3982be(0x7eb)]+'\x20('+this[_0x3982be(0x32b)]['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x114fee['_id']);try{let _0x4ce6b2=['nome',_0x3982be(0x34b),_0x3982be(0x187),_0x3982be(0x2f6),'status','notas','responsavelid',_0x3982be(0x124),_0x3982be(0x67c),_0x3982be(0x266)];if(!this['AutomateSystem']&&(await this[_0x3982be(0x252)](),!this[_0x3982be(0x749)]))throw new Error(_0x3982be(0x565));let _0x377294=this['AutomateSystem']?.[_0x3982be(0x450)][_0x3982be(0x2b0)](_0x2d33f9=>_0x2d33f9[_0x3982be(0x63e)]),_0xf8f049={};Object[_0x3982be(0x285)](_0x167089[_0x3982be(0x3d0)]['realVariables'])['forEach'](([_0x3dd232,_0x103197])=>{const _0x388732=_0x3982be;_0x4ce6b2[_0x388732(0x71f)](_0x3dd232)&&(_0x3dd232===_0x388732(0x124)&&typeof _0x103197==_0x388732(0x1c7)?_0xf8f049[_0x3dd232]=_0x103197[_0x388732(0x771)](',')[_0x388732(0x2b0)](_0xf2935a=>_0xf2935a[_0x388732(0x7bc)]())[_0x388732(0x539)](_0x1431e2=>_0x1431e2!==''):_0x3dd232===_0x388732(0x67c)&&typeof _0x103197=='string'?_0xf8f049[_0x3dd232]=_0x103197[_0x388732(0x771)](',')['map'](_0xfe3635=>_0xfe3635[_0x388732(0x7bc)]())[_0x388732(0x539)](_0x3219c6=>_0x3219c6!==''):_0xf8f049[_0x3dd232]=_0x103197);});let _0x27cfe0=_0x167089[_0x3982be(0x3d0)][_0x3982be(0x2e1)][_0x167089[_0x3982be(0x3d0)][_0x3982be(0x2e1)][_0x3982be(0x29b)]-0x1];if(_0x27cfe0){let _0x1406d3=_0x27cfe0[_0x3982be(0x31b)];_0x1406d3!==void 0x0&&(_0xf8f049[_0x3982be(0x2b6)]=_0x1406d3['toString']());}let _0xe058f2=_0x2a46c5[_0x3982be(0x539)](_0x5be36d=>_0x377294[_0x3982be(0x71f)](_0x5be36d['name']));this['logger']['verbose'](this[_0x3982be(0x7eb)]+'\x20('+this[_0x3982be(0x32b)][_0x3982be(0x20d)]+'):\x20leadInfoVariables'),this[_0x3982be(0x34c)]['verbose'](_0xf8f049),this['logger']['verbose'](this[_0x3982be(0x7eb)]+'\x20('+this['instance'][_0x3982be(0x20d)]+_0x3982be(0x4c1)),this[_0x3982be(0x34c)]['verbose'](_0xe058f2);let _0x5a103e=_0xe058f2[_0x3982be(0x2b0)](_0x522080=>{const _0x20e564=_0x3982be;let _0x6d0207=this['AutomateSystem']?.[_0x20e564(0x450)][_0x20e564(0x2b1)](_0x59fcb1=>_0x59fcb1['name']===_0x522080['name']);if(!_0x6d0207)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x522080[_0x20e564(0x63e)]);return{'_id':_0x6d0207[_0x20e564(0x38a)],'value':_0x522080[_0x20e564(0x6a7)]};});this['logger'][_0x3982be(0x1f6)](this['instanceName']+'\x20('+this[_0x3982be(0x32b)][_0x3982be(0x20d)]+_0x3982be(0x3f3)),this[_0x3982be(0x34c)][_0x3982be(0x1f6)](_0x5a103e),await this[_0x3982be(0x588)](_0x167089[_0x3982be(0x4c8)],_0xf8f049,_0x5a103e);}catch(_0x43f0e2){this[_0x3982be(0x34c)][_0x3982be(0x83d)](this[_0x3982be(0x7eb)]+'\x20('+this[_0x3982be(0x32b)][_0x3982be(0x20d)]+_0x3982be(0x270)+(_0x43f0e2 instanceof Error?_0x43f0e2['message']:JSON[_0x3982be(0x5b8)](_0x43f0e2,null,0x2)));}}else this[_0x3982be(0x34c)][_0x3982be(0x83d)](this[_0x3982be(0x7eb)]+'\x20('+this['instance'][_0x3982be(0x20d)]+_0x3982be(0x256));}catch(_0x430e08){this[_0x3982be(0x34c)]['error'](this[_0x3982be(0x7eb)]+'\x20('+this[_0x3982be(0x32b)][_0x3982be(0x20d)]+_0x3982be(0x25b)+(_0x430e08 instanceof Error?_0x430e08[_0x3982be(0x1f1)]:JSON[_0x3982be(0x5b8)](_0x430e08,null,0x2)));}}async[a0_0x5bdda6(0x588)](_0x3f3306,_0x56cc93,_0x4ab4a6){const _0x3723e4=a0_0x5bdda6;try{let _0x52786b={'leadInfo.leadnome':_0x56cc93[_0x3723e4(0x4b9)],'leadInfo.nomecompleto':_0x56cc93[_0x3723e4(0x34b)],'leadInfo.email':_0x56cc93[_0x3723e4(0x187)],'leadInfo.cpf':_0x56cc93[_0x3723e4(0x2f6)],'leadInfo.status':_0x56cc93[_0x3723e4(0x390)],'leadInfo.notas':_0x56cc93['notas'],'leadInfo.responsavelid':_0x56cc93[_0x3723e4(0x786)],'leadInfo.tags':_0x56cc93['tags'],'leadInfo.etiquetas':_0x56cc93[_0x3723e4(0x67c)],'leadInfo.customFields':_0x4ab4a6,'leadInfo.atendimentoAberto':_0x56cc93['atendimentoAberto']},_0x5dbe1a=await this[_0x3723e4(0x320)][_0x3723e4(0x638)][_0x3723e4(0x28c)]({'where':{'_id':_0x3f3306}},this['instance'][_0x3723e4(0x20d)]);if(!_0x5dbe1a)return _0x3723e4(0x1f3);let _0x5e63f0=new Set(_0x5dbe1a['leadInfo'][_0x3723e4(0x67c)]||[]),_0x515cef=new Set(_0x56cc93[_0x3723e4(0x67c)]||[]),_0x3fab98=await this['repository'][_0x3723e4(0x423)]['find']({'where':{}},this[_0x3723e4(0x32b)][_0x3723e4(0x20d)]),_0x8ff709=new Set(_0x3fab98['map'](_0x15fa72=>_0x15fa72['_id'])),_0x1944ec=[..._0x515cef][_0x3723e4(0x539)](_0x4d19b1=>!_0x5e63f0[_0x3723e4(0x2fc)](_0x4d19b1)&&_0x8ff709['has'](_0x4d19b1)),_0x2671d7=[..._0x5e63f0][_0x3723e4(0x539)](_0x4abcc6=>!_0x515cef[_0x3723e4(0x2fc)](_0x4abcc6));for(let _0x37de75 of _0x1944ec)await this[_0x3723e4(0x248)](_0x37de75,_0x5dbe1a['_id']),_0x5e63f0[_0x3723e4(0x6cd)](_0x37de75);for(let _0x25fd2f of _0x2671d7)await this[_0x3723e4(0x525)](_0x25fd2f,_0x5dbe1a[_0x3723e4(0x38a)]),_0x5e63f0[_0x3723e4(0x469)](_0x25fd2f);if('desativadoFluxoAte'in _0x56cc93){let _0x1eb5c9=_0x56cc93['desativadoFluxoAte'];_0x52786b['leadInfo.desativadoFluxoAte']=_0x1eb5c9?Number(_0x1eb5c9):null;}if('atendimentoAberto'in _0x56cc93){let _0x44e39a=_0x56cc93[_0x3723e4(0x266)][_0x3723e4(0x441)]();_0x52786b[_0x3723e4(0x3c7)]=_0x44e39a===_0x3723e4(0x6d7)||_0x44e39a==='1'||_0x44e39a===_0x3723e4(0x361)||_0x44e39a===_0x3723e4(0x12a);}let _0x205cae=await this[_0x3723e4(0x320)][_0x3723e4(0x638)]['updateOne']({'where':{'_id':_0x3f3306}},_0x52786b,this[_0x3723e4(0x32b)]['wuid']);_0x205cae?(this['logger'][_0x3723e4(0x1f6)](this[_0x3723e4(0x7eb)]+'\x20('+this[_0x3723e4(0x32b)]['wuid']+_0x3723e4(0x67e)+_0x205cae[_0x3723e4(0x38a)]),U(this['instanceName'],_0x3723e4(0x6ca),{'chat':_0x205cae})):this[_0x3723e4(0x34c)][_0x3723e4(0x83d)](this['instanceName']+'\x20('+this[_0x3723e4(0x32b)][_0x3723e4(0x20d)]+_0x3723e4(0x415));}catch(_0x4e70c6){this[_0x3723e4(0x34c)][_0x3723e4(0x83d)](this[_0x3723e4(0x7eb)]+'\x20('+this['instance'][_0x3723e4(0x20d)]+_0x3723e4(0x690)+(_0x4e70c6 instanceof Error?_0x4e70c6[_0x3723e4(0x1f1)]:JSON[_0x3723e4(0x5b8)](_0x4e70c6,null,0x2)));}}async[a0_0x5bdda6(0x6f3)](_0x52fa94,_0x47e7c3){const _0x5576cc=a0_0x5bdda6;this[_0x5576cc(0x34c)][_0x5576cc(0x1f6)](this[_0x5576cc(0x7eb)]+'\x20('+this[_0x5576cc(0x32b)][_0x5576cc(0x20d)]+_0x5576cc(0x5fb)+_0x47e7c3);try{let _0x30de15=await this['repository'][_0x5576cc(0x638)][_0x5576cc(0x31c)]({'where':{'_id':_0x52fa94['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x47e7c3},this[_0x5576cc(0x32b)][_0x5576cc(0x20d)]);this['logger'][_0x5576cc(0x1f6)](this[_0x5576cc(0x7eb)]+'\x20('+this[_0x5576cc(0x32b)][_0x5576cc(0x20d)]+_0x5576cc(0x2da)+_0x52fa94['_id']),this[_0x5576cc(0x34c)]['verbose'](this[_0x5576cc(0x7eb)]+'\x20('+this[_0x5576cc(0x32b)][_0x5576cc(0x20d)]+_0x5576cc(0x5fb)+JSON['stringify'](_0x30de15,null,0x2)),_0x30de15&&U(this[_0x5576cc(0x7eb)],_0x5576cc(0x6ca),{'chat':_0x30de15});}catch(_0x5e954d){this[_0x5576cc(0x34c)][_0x5576cc(0x83d)](this['instanceName']+'\x20('+this[_0x5576cc(0x32b)][_0x5576cc(0x20d)]+_0x5576cc(0x160)+(_0x5e954d instanceof Error?_0x5e954d[_0x5576cc(0x1f1)]:JSON[_0x5576cc(0x5b8)](_0x5e954d,null,0x2)));}}async[a0_0x5bdda6(0x7dd)](_0x507f02){const _0x57842e=a0_0x5bdda6;try{this['logger']['verbose'](this[_0x57842e(0x7eb)]+'\x20('+this[_0x57842e(0x32b)][_0x57842e(0x20d)]+_0x57842e(0x493));let _0x572e07=_0x507f02[_0x57842e(0x4a9)](/\D/g,''),_0x4047c1=await this[_0x57842e(0x320)][_0x57842e(0x5a0)][_0x57842e(0x28c)]({'where':{'testingWith':_0x572e07}},this['instance'][_0x57842e(0x20d)]);return _0x4047c1||(this['logger'][_0x57842e(0x1f6)](this[_0x57842e(0x7eb)]+'\x20('+this[_0x57842e(0x32b)][_0x57842e(0x20d)]+_0x57842e(0x17d)),_0x4047c1=await this[_0x57842e(0x320)][_0x57842e(0x5a0)]['findOne']({'where':{'default':!0x0}},this[_0x57842e(0x32b)][_0x57842e(0x20d)])),_0x4047c1||(this[_0x57842e(0x34c)]['verbose'](this[_0x57842e(0x7eb)]+'\x20('+this[_0x57842e(0x32b)][_0x57842e(0x20d)]+_0x57842e(0x80b)),null);}catch(_0x4bf7a4){return this[_0x57842e(0x34c)]['error'](this[_0x57842e(0x7eb)]+'\x20('+this[_0x57842e(0x32b)][_0x57842e(0x20d)]+_0x57842e(0x744)+(_0x4bf7a4 instanceof Error?_0x4bf7a4[_0x57842e(0x1f1)]:JSON[_0x57842e(0x5b8)](_0x4bf7a4,null,0x2))),null;}}async[a0_0x5bdda6(0x776)](_0x1b40e5,_0x329b06){const _0x3a6267=a0_0x5bdda6;try{let _0x535058=!!_0x329b06[_0x3a6267(0x536)],_0x44fe37=_0x329b06['quoted'],_0x3d8592=null;if(this[_0x3a6267(0x34c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3a6267(0x20d)]+_0x3a6267(0x73d)+_0x535058+_0x3a6267(0x221)+_0x44fe37),_0x535058){this[_0x3a6267(0x34c)][_0x3a6267(0x1f6)](this[_0x3a6267(0x7eb)]+'\x20('+this['instance'][_0x3a6267(0x20d)]+_0x3a6267(0x652));let _0x250457={'where':{'remoteJid':_0x1b40e5,'waitingMenu_id':_0x44fe37}};if(_0x3d8592=await this[_0x3a6267(0x320)]['flowConversation'][_0x3a6267(0x28c)](_0x250457,this['instance'][_0x3a6267(0x20d)]),!_0x3d8592)return this[_0x3a6267(0x34c)][_0x3a6267(0x1f6)](this['instanceName']+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+_0x3a6267(0x7d7)),null;let _0x3b833a=Date['now'](),_0x38be62=_0x3d8592?.[_0x3a6267(0x753)]||0x0,_0x52e45b=_0x3b833a-_0x38be62*0x3c*0x3e8;if(_0x3d8592[_0x3a6267(0x798)]<_0x52e45b){this[_0x3a6267(0x34c)]['verbose'](this[_0x3a6267(0x7eb)]+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x4699de={'number':_0x3d8592[_0x3a6267(0x4c8)],'options':{'delay':0x0},'textMessage':{'text':_0x3d8592[_0x3a6267(0x6f5)]}};await this['textMessage'](_0x4699de);let _0x7cd40a={'status':_0x3a6267(0x6e6),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository']['flowConversation'][_0x3a6267(0x31c)](_0x3d8592[_0x3a6267(0x38a)],_0x7cd40a,this[_0x3a6267(0x32b)]['wuid']),null;}return _0x3d8592[_0x3a6267(0x798)]=Date['now'](),_0x3d8592[_0x3a6267(0x3d0)][_0x3a6267(0x345)]=_0x329b06,_0x3d8592;}else{this[_0x3a6267(0x34c)][_0x3a6267(0x1f6)](this[_0x3a6267(0x7eb)]+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+'):\x20'+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+_0x3a6267(0x2ad)),this[_0x3a6267(0x34c)][_0x3a6267(0x1f6)](this[_0x3a6267(0x7eb)]+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+'):\x20Procurando\x20conversa');let _0x545e6a={'where':{'remoteJid':_0x1b40e5,'status':_0x3a6267(0x41f)}};if(_0x3d8592=await this[_0x3a6267(0x320)]['flowConversation']['findOne'](_0x545e6a,this['instance'][_0x3a6267(0x20d)]),!_0x3d8592){let _0x38d895=await this['findFlow'](_0x1b40e5);if(_0x38d895&&(_0x3d8592=await this[_0x3a6267(0x396)](_0x38d895,_0x329b06[_0x3a6267(0x4d8)],_0x329b06)),!_0x3d8592)return null;}let _0x458432=Date[_0x3a6267(0x71b)](),_0x19280f=_0x3d8592?.[_0x3a6267(0x753)]||0x0,_0x16ebc2=_0x458432-_0x19280f*0x3c*0x3e8;if(this[_0x3a6267(0x34c)][_0x3a6267(0x1f6)](this['instanceName']+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+_0x3a6267(0x3fe)+_0x458432+_0x3a6267(0x505)+_0x19280f+_0x3a6267(0x5ed)+_0x16ebc2),this['logger']['verbose'](this[_0x3a6267(0x7eb)]+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+_0x3a6267(0x4e4)),this[_0x3a6267(0x34c)][_0x3a6267(0x1f6)](this[_0x3a6267(0x7eb)]+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+_0x3a6267(0x55d)+_0x3d8592['lastInteraction']),this[_0x3a6267(0x34c)][_0x3a6267(0x1f6)](this[_0x3a6267(0x7eb)]+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+'):\x20expirationTime:\x20'+_0x16ebc2),_0x3d8592[_0x3a6267(0x798)]<_0x16ebc2){this['logger'][_0x3a6267(0x1f6)](this[_0x3a6267(0x7eb)]+'\x20('+this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]+'):\x20Conversa\x20está\x20expirada');let _0x4f2235=await this[_0x3a6267(0x7dd)](_0x1b40e5);if(_0x4f2235===null)return null;_0x3d8592&&await this[_0x3a6267(0x320)][_0x3a6267(0x795)]['updateOne'](_0x3d8592[_0x3a6267(0x38a)],{'status':_0x3a6267(0x6e6)},this[_0x3a6267(0x32b)][_0x3a6267(0x20d)]),_0x3d8592=await this[_0x3a6267(0x396)](_0x4f2235,_0x329b06[_0x3a6267(0x4d8)],_0x329b06);}return _0x3d8592[_0x3a6267(0x798)]=_0x458432,_0x3d8592[_0x3a6267(0x3d0)]['lastReceivedMessage']=_0x329b06,_0x3d8592;}}catch(_0x18b160){return this[_0x3a6267(0x34c)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3a6267(0x69e)+(_0x18b160 instanceof Error?_0x18b160['message']:JSON[_0x3a6267(0x5b8)](_0x18b160,null,0x2))),null;}}async[a0_0x5bdda6(0x396)](_0x4a73a0,_0x2dd2f2,_0x3e1aa7){const _0x472172=a0_0x5bdda6;this[_0x472172(0x34c)][_0x472172(0x1f6)](this['instanceName']+'\x20('+this[_0x472172(0x32b)][_0x472172(0x20d)]+_0x472172(0x22f));try{let _0x2f458e=require(_0x472172(0x583))[_0x472172(0x693)],_0x299be4=Date[_0x472172(0x71b)](),_0x120df2=_0x472172(0x623),_0x3ec6e1=_0x2dd2f2[_0x472172(0x295)]?null:_0x3e1aa7,_0x3bae71=_0x2dd2f2[_0x472172(0x295)]?_0x3e1aa7:null,_0x51edea=_0x2dd2f2[_0x472172(0x4c8)];await this[_0x472172(0x5b0)](_0x51edea);let _0x46f459={..._0x4a73a0,'chatLog':null},_0x340119=await this['variablesToObject'](_0x46f459[_0x472172(0x650)]),_0x59f4ba=await this[_0x472172(0x2b8)](_0x51edea),_0x310d8b={..._0x340119,..._0x59f4ba,'_remoteJid':_0x51edea},_0xf503e={'lastReceivedMessage':_0x3ec6e1,'lastSendMessage':_0x3bae71,'lastBlockId':_0x120df2,'lastCondition':!0x0,'realVariables':_0x310d8b};_0x46f459[_0x472172(0x3d0)]=_0xf503e,delete _0x46f459['_id'],_0x46f459[_0x472172(0x38a)]=new _0x2f458e(),_0x46f459[_0x472172(0x798)]=_0x299be4,_0x46f459[_0x472172(0x390)]='open',_0x46f459['remoteJid']=_0x51edea;let _0x368b27=await this[_0x472172(0x320)][_0x472172(0x795)][_0x472172(0x31c)](_0x46f459[_0x472172(0x38a)],_0x46f459,this[_0x472172(0x32b)][_0x472172(0x20d)]);return this[_0x472172(0x34c)]['verbose'](this[_0x472172(0x7eb)]+'\x20('+this[_0x472172(0x32b)][_0x472172(0x20d)]+_0x472172(0x55f)),_0x368b27?_0x46f459:null;}catch(_0x4be26f){return this[_0x472172(0x34c)]['error'](this[_0x472172(0x7eb)]+'\x20('+this[_0x472172(0x32b)][_0x472172(0x20d)]+_0x472172(0x14e)+(_0x4be26f instanceof Error?_0x4be26f[_0x472172(0x1f1)]:JSON[_0x472172(0x5b8)](_0x4be26f,null,0x2))),_0x4be26f;}}async['uazapiSendText'](_0x3d9ba5,_0xa41b05){const _0x2eb3b4=a0_0x5bdda6;let _0x234685=_0x3d9ba5[_0x2eb3b4(0x4c8)];_0xa41b05[_0x2eb3b4(0x162)][_0x2eb3b4(0x4c8)]&&_0xa41b05[_0x2eb3b4(0x162)][_0x2eb3b4(0x4c8)][_0x2eb3b4(0x7bc)]()!==''&&(_0x234685=_0xa41b05[_0x2eb3b4(0x162)]['remoteJid'][_0x2eb3b4(0x7bc)]()),this[_0x2eb3b4(0x34c)][_0x2eb3b4(0x1f6)](this[_0x2eb3b4(0x7eb)]+'\x20('+this[_0x2eb3b4(0x32b)][_0x2eb3b4(0x20d)]+_0x2eb3b4(0x71c));let _0xe3e006={'number':_0x234685,'options':{'delay':_0xa41b05['uazapi']['delay'],'linkPreview':_0xa41b05['uazapi'][_0x2eb3b4(0x7c2)]},'textMessage':{'text':_0xa41b05[_0x2eb3b4(0x162)][_0x2eb3b4(0x3ce)]}};try{let _0x5d37f3=await this['textMessage'](_0xe3e006);if(_0x5d37f3){let _0x54cc0e={'_id':_0x5d37f3[_0x2eb3b4(0x4d8)]['id'],'_fromMe':_0x5d37f3[_0x2eb3b4(0x4d8)][_0x2eb3b4(0x295)],'_remoteJid':_0x5d37f3[_0x2eb3b4(0x4d8)]['remoteJid']},_0x2c26f8=(0x0,f[_0x2eb3b4(0x5e3)])(_0x5d37f3['message']),_0x5e5745=(0x0,f[_0x2eb3b4(0x22b)])(_0x2c26f8);_0x3d9ba5[_0x2eb3b4(0x3d0)][_0x2eb3b4(0x360)]=_0xa41b05['_id']['toString']();let {message_normalized:_0x122560}=this['normalizeMessage'](_0x2c26f8,_0x5e5745,null);_0x3d9ba5['chatLog'][_0x2eb3b4(0x421)]=await _0x122560;let _0x45cde4={'messageId':_0x5d37f3[_0x2eb3b4(0x4d8)]['id']},_0x1233d9=_0x3d9ba5['chatLog'][_0x2eb3b4(0x267)];Object['assign'](_0x1233d9,_0x54cc0e),_0x3d9ba5[_0x2eb3b4(0x3d0)][_0x2eb3b4(0x267)]=_0x1233d9,this[_0x2eb3b4(0x62b)](_0x3d9ba5,_0xa41b05,_0x45cde4);}else{let _0x2d2f8c={'error':!0x0};this[_0x2eb3b4(0x62b)](_0x3d9ba5,_0xa41b05,_0x2d2f8c),this[_0x2eb3b4(0x34c)][_0x2eb3b4(0x83d)](this[_0x2eb3b4(0x7eb)]+'\x20('+this['instance'][_0x2eb3b4(0x20d)]+_0x2eb3b4(0x4cc));}}catch(_0x3d9978){let _0x5fc1ad={'error':!0x0,'errorLog':_0x3d9978[_0x2eb3b4(0x58f)]()};this[_0x2eb3b4(0x62b)](_0x3d9ba5,_0xa41b05,_0x5fc1ad),this[_0x2eb3b4(0x34c)][_0x2eb3b4(0x83d)](this[_0x2eb3b4(0x7eb)]+'\x20('+this[_0x2eb3b4(0x32b)]['wuid']+_0x2eb3b4(0x226)+(_0x3d9978 instanceof Error?_0x3d9978[_0x2eb3b4(0x1f1)]:JSON[_0x2eb3b4(0x5b8)](_0x3d9978,null,0x2)));}}async[a0_0x5bdda6(0x27b)](_0x9ba28f,_0x158fd9){const _0x3121a0=a0_0x5bdda6;let _0x3dd5e0=_0x9ba28f[_0x3121a0(0x4c8)];_0x158fd9[_0x3121a0(0x162)][_0x3121a0(0x4c8)]&&_0x158fd9[_0x3121a0(0x162)][_0x3121a0(0x4c8)][_0x3121a0(0x7bc)]()!==''&&(_0x3dd5e0=_0x158fd9[_0x3121a0(0x162)][_0x3121a0(0x4c8)][_0x3121a0(0x7bc)]()),this['logger'][_0x3121a0(0x1f6)](this[_0x3121a0(0x7eb)]+'\x20('+this[_0x3121a0(0x32b)][_0x3121a0(0x20d)]+_0x3121a0(0x23d));let _0x4f44d4={'number':_0x3dd5e0,'options':{'delay':_0x158fd9[_0x3121a0(0x162)]['delay'],'linkPreview':_0x158fd9[_0x3121a0(0x162)][_0x3121a0(0x7c2)]},'mediaMessage':{'mediatype':_0x158fd9['uazapi']['mediatype'],'caption':_0x158fd9['uazapi'][_0x3121a0(0x1bc)],'media':_0x158fd9['uazapi'][_0x3121a0(0x3d1)],'fileName':_0x158fd9[_0x3121a0(0x162)]['fileName']}};try{let _0x2ea07b=await this[_0x3121a0(0x1b0)](_0x4f44d4);if(_0x2ea07b){let _0x2c380b={'_id':_0x2ea07b[_0x3121a0(0x4d8)]['id'],'_fromMe':_0x2ea07b[_0x3121a0(0x4d8)][_0x3121a0(0x295)],'_remoteJid':_0x2ea07b[_0x3121a0(0x4d8)][_0x3121a0(0x4c8)]},_0xf678af=(0x0,f[_0x3121a0(0x5e3)])(_0x2ea07b[_0x3121a0(0x1f1)]),_0x2ca8b3=(0x0,f[_0x3121a0(0x22b)])(_0xf678af);_0x9ba28f['chatLog'][_0x3121a0(0x360)]=_0x158fd9[_0x3121a0(0x38a)][_0x3121a0(0x58f)]();let {message_normalized:_0x351162}=this[_0x3121a0(0x53f)](_0xf678af,_0x2ca8b3,null);_0x9ba28f[_0x3121a0(0x3d0)]['lastSendMessage']=await _0x351162;let _0x4e1360={'messageId':_0x2ea07b[_0x3121a0(0x4d8)]['id']},_0x40de9e=_0x9ba28f[_0x3121a0(0x3d0)]['realVariables'];Object[_0x3121a0(0x6d2)](_0x40de9e,_0x2c380b),_0x9ba28f[_0x3121a0(0x3d0)][_0x3121a0(0x267)]=_0x40de9e,this[_0x3121a0(0x62b)](_0x9ba28f,_0x158fd9,_0x4e1360);}else{let _0x113acf={'error':!0x0};this['updateConversation'](_0x9ba28f,_0x158fd9,_0x113acf),this[_0x3121a0(0x34c)][_0x3121a0(0x83d)](this[_0x3121a0(0x7eb)]+'\x20('+this[_0x3121a0(0x32b)]['wuid']+_0x3121a0(0x606));}}catch(_0x4f3848){let _0x1d4596={'error':!0x0,'errorLog':_0x4f3848[_0x3121a0(0x58f)]()};this[_0x3121a0(0x62b)](_0x9ba28f,_0x158fd9,_0x1d4596),this['logger']['error'](this[_0x3121a0(0x7eb)]+'\x20('+this[_0x3121a0(0x32b)][_0x3121a0(0x20d)]+_0x3121a0(0x65d)+(_0x4f3848 instanceof Error?_0x4f3848[_0x3121a0(0x1f1)]:JSON['stringify'](_0x4f3848,null,0x2)));}}async['uazapiSendLocation'](_0x5a039e,_0x1d69e4){const _0x509daa=a0_0x5bdda6;let _0x21eff8=_0x5a039e[_0x509daa(0x4c8)];_0x1d69e4['uazapi']['remoteJid']&&_0x1d69e4[_0x509daa(0x162)][_0x509daa(0x4c8)]['trim']()!==''&&(_0x21eff8=_0x1d69e4[_0x509daa(0x162)][_0x509daa(0x4c8)]['trim']()),this[_0x509daa(0x34c)]['verbose'](this[_0x509daa(0x7eb)]+'\x20('+this[_0x509daa(0x32b)][_0x509daa(0x20d)]+_0x509daa(0x3bf));let _0xffc61={'number':_0x21eff8,'options':{'delay':_0x1d69e4['uazapi'][_0x509daa(0x500)]},'locationMessage':{'name':_0x1d69e4['uazapi']['name'],'address':_0x1d69e4['uazapi']['address'],'latitude':_0x1d69e4[_0x509daa(0x162)][_0x509daa(0x7ff)],'longitude':_0x1d69e4['uazapi']['longitude']}};try{let _0x322947=await this['locationMessage'](_0xffc61);if(_0x322947){let _0x520ada={'_id':_0x322947[_0x509daa(0x4d8)]['id'],'_fromMe':_0x322947[_0x509daa(0x4d8)][_0x509daa(0x295)],'_remoteJid':_0x322947[_0x509daa(0x4d8)][_0x509daa(0x4c8)]},_0x574521=(0x0,f[_0x509daa(0x5e3)])(_0x322947[_0x509daa(0x1f1)]),_0x13e426=(0x0,f['getContentType'])(_0x574521);_0x5a039e[_0x509daa(0x3d0)][_0x509daa(0x360)]=_0x1d69e4[_0x509daa(0x38a)]['toString']();let {message_normalized:_0x5ce1f9}=this[_0x509daa(0x53f)](_0x574521,_0x13e426,null);_0x5a039e[_0x509daa(0x3d0)][_0x509daa(0x421)]=await _0x5ce1f9;let _0xc6a6f5={'messageId':_0x322947[_0x509daa(0x4d8)]['id']},_0x4d1957=_0x5a039e[_0x509daa(0x3d0)][_0x509daa(0x267)];Object[_0x509daa(0x6d2)](_0x4d1957,_0x520ada),_0x5a039e['chatLog'][_0x509daa(0x267)]=_0x4d1957,this[_0x509daa(0x62b)](_0x5a039e,_0x1d69e4,_0xc6a6f5);}else{let _0x6940da={'error':!0x0};this['updateConversation'](_0x5a039e,_0x1d69e4,_0x6940da),this[_0x509daa(0x34c)][_0x509daa(0x83d)](this[_0x509daa(0x7eb)]+'\x20('+this[_0x509daa(0x32b)][_0x509daa(0x20d)]+_0x509daa(0x491));}}catch(_0xbf2c87){let _0x46f6b9={'error':!0x0,'errorLog':_0xbf2c87[_0x509daa(0x58f)]()};this['updateConversation'](_0x5a039e,_0x1d69e4,_0x46f6b9),this[_0x509daa(0x34c)][_0x509daa(0x83d)](this[_0x509daa(0x7eb)]+'\x20('+this[_0x509daa(0x32b)][_0x509daa(0x20d)]+_0x509daa(0x601)+(_0xbf2c87 instanceof Error?_0xbf2c87[_0x509daa(0x1f1)]:JSON['stringify'](_0xbf2c87,null,0x2)));}}async[a0_0x5bdda6(0x3d2)](_0x5ca6f6,_0x31ff91){const _0x4fbe58=a0_0x5bdda6;let _0x10da02=_0x5ca6f6[_0x4fbe58(0x4c8)];_0x31ff91['uazapi'][_0x4fbe58(0x4c8)]&&_0x31ff91[_0x4fbe58(0x162)][_0x4fbe58(0x4c8)][_0x4fbe58(0x7bc)]()!==''&&(_0x10da02=_0x31ff91[_0x4fbe58(0x162)][_0x4fbe58(0x4c8)][_0x4fbe58(0x7bc)]()),this['logger'][_0x4fbe58(0x1f6)](this[_0x4fbe58(0x7eb)]+'\x20('+this[_0x4fbe58(0x32b)][_0x4fbe58(0x20d)]+'):\x20Enviando\x20áudio');let _0x212d75={'number':_0x10da02,'options':{'delay':_0x31ff91[_0x4fbe58(0x162)][_0x4fbe58(0x500)]},'audioMessage':{'audio':_0x31ff91[_0x4fbe58(0x162)][_0x4fbe58(0x489)]}};try{let _0x379c3b=await this[_0x4fbe58(0x672)](_0x212d75);if(_0x379c3b){let _0x27cbde={'_id':_0x379c3b['key']['id'],'_fromMe':_0x379c3b['key'][_0x4fbe58(0x295)],'_remoteJid':_0x379c3b[_0x4fbe58(0x4d8)][_0x4fbe58(0x4c8)]},_0x181abe=(0x0,f[_0x4fbe58(0x5e3)])(_0x379c3b['message']),_0x5c5af7=(0x0,f['getContentType'])(_0x181abe);_0x5ca6f6[_0x4fbe58(0x3d0)]['lastBlockId']=_0x31ff91['_id'][_0x4fbe58(0x58f)]();let {message_normalized:_0xe8aac8}=this[_0x4fbe58(0x53f)](_0x181abe,_0x5c5af7,null);_0x5ca6f6[_0x4fbe58(0x3d0)][_0x4fbe58(0x421)]=await _0xe8aac8;let _0xa4a32d={'messageId':_0x379c3b[_0x4fbe58(0x4d8)]['id']},_0x5ce4ea=_0x5ca6f6[_0x4fbe58(0x3d0)][_0x4fbe58(0x267)];Object['assign'](_0x5ce4ea,_0x27cbde),_0x5ca6f6[_0x4fbe58(0x3d0)][_0x4fbe58(0x267)]=_0x5ce4ea,this['updateConversation'](_0x5ca6f6,_0x31ff91,_0xa4a32d);}else{let _0x412140={'error':!0x0};this[_0x4fbe58(0x62b)](_0x5ca6f6,_0x31ff91,_0x412140),this['logger'][_0x4fbe58(0x83d)](this['instanceName']+'\x20('+this[_0x4fbe58(0x32b)][_0x4fbe58(0x20d)]+_0x4fbe58(0x79c));}}catch(_0x44447b){let _0xfea478={'error':!0x0,'errorLog':_0x44447b['toString']()};this['updateConversation'](_0x5ca6f6,_0x31ff91,_0xfea478),this['logger'][_0x4fbe58(0x83d)](this[_0x4fbe58(0x7eb)]+'\x20('+this[_0x4fbe58(0x32b)][_0x4fbe58(0x20d)]+_0x4fbe58(0x1c2)+(_0x44447b instanceof Error?_0x44447b[_0x4fbe58(0x1f1)]:JSON[_0x4fbe58(0x5b8)](_0x44447b,null,0x2)));}}async[a0_0x5bdda6(0x6b2)](_0x35684f,_0x187e84){const _0x51242a=a0_0x5bdda6;let _0x1ea086=_0x35684f['remoteJid'];_0x187e84['uazapi'][_0x51242a(0x4c8)]&&_0x187e84[_0x51242a(0x162)][_0x51242a(0x4c8)][_0x51242a(0x7bc)]()!==''&&(_0x1ea086=_0x187e84[_0x51242a(0x162)]['remoteJid'][_0x51242a(0x7bc)]()),this[_0x51242a(0x34c)][_0x51242a(0x1f6)](this[_0x51242a(0x7eb)]+'\x20('+this['instance'][_0x51242a(0x20d)]+_0x51242a(0x52e));let _0x3ad800={'number':_0x1ea086,'options':{'delay':_0x187e84[_0x51242a(0x162)][_0x51242a(0x500)]},'contactMessage':[{'fullName':_0x187e84[_0x51242a(0x162)][_0x51242a(0x2ff)],'phoneNumber':_0x187e84[_0x51242a(0x162)][_0x51242a(0x146)]}]};try{let _0xe98efa=await this[_0x51242a(0x2dd)](_0x3ad800);if(_0xe98efa){let _0x3f9dbd={'_id':_0xe98efa[_0x51242a(0x4d8)]['id'],'_fromMe':_0xe98efa[_0x51242a(0x4d8)][_0x51242a(0x295)],'_remoteJid':_0xe98efa[_0x51242a(0x4d8)][_0x51242a(0x4c8)]},_0x1627a4=(0x0,f['normalizeMessageContent'])(_0xe98efa[_0x51242a(0x1f1)]),_0x4a2d4e=(0x0,f['getContentType'])(_0x1627a4);_0x35684f[_0x51242a(0x3d0)][_0x51242a(0x360)]=_0x187e84[_0x51242a(0x38a)][_0x51242a(0x58f)]();let {message_normalized:_0x19dd1b}=this[_0x51242a(0x53f)](_0x1627a4,_0x4a2d4e,null);_0x35684f[_0x51242a(0x3d0)][_0x51242a(0x421)]=await _0x19dd1b;let _0x4dee22={'messageId':_0xe98efa[_0x51242a(0x4d8)]['id']},_0x3f4b16=_0x35684f['chatLog'][_0x51242a(0x267)];Object[_0x51242a(0x6d2)](_0x3f4b16,_0x3f9dbd),_0x35684f[_0x51242a(0x3d0)]['realVariables']=_0x3f4b16,this['updateConversation'](_0x35684f,_0x187e84,_0x4dee22);}else{let _0x3bb53e={'error':!0x0};this[_0x51242a(0x62b)](_0x35684f,_0x187e84,_0x3bb53e),this[_0x51242a(0x34c)][_0x51242a(0x83d)](this['instanceName']+'\x20('+this[_0x51242a(0x32b)][_0x51242a(0x20d)]+_0x51242a(0x82c));}}catch(_0x397039){let _0x20c2ed={'error':!0x0,'errorLog':_0x397039[_0x51242a(0x58f)]()};this[_0x51242a(0x62b)](_0x35684f,_0x187e84,_0x20c2ed),this[_0x51242a(0x34c)][_0x51242a(0x83d)](this[_0x51242a(0x7eb)]+'\x20('+this[_0x51242a(0x32b)]['wuid']+_0x51242a(0x4d4)+(_0x397039 instanceof Error?_0x397039[_0x51242a(0x1f1)]:JSON[_0x51242a(0x5b8)](_0x397039,null,0x2)));}}[a0_0x5bdda6(0x558)](_0x2a6651,_0xa6582c){const _0x56c96a=a0_0x5bdda6;for(let _0x3382d4 of _0x2a6651)_0x3382d4[_0x56c96a(0x6a3)]&&(_0x3382d4[_0x56c96a(0x6a3)]=this[_0x56c96a(0x567)](_0x3382d4[_0x56c96a(0x6a3)],_0xa6582c)),_0x3382d4['optionDescription']&&(_0x3382d4[_0x56c96a(0x19d)]=this[_0x56c96a(0x567)](_0x3382d4[_0x56c96a(0x19d)],_0xa6582c));}async[a0_0x5bdda6(0x37f)](_0x5b0281,_0x15a8df){const _0x14010a=a0_0x5bdda6;let _0x4c162f=_0x5b0281['remoteJid'];_0x15a8df[_0x14010a(0x162)][_0x14010a(0x4c8)]&&_0x15a8df[_0x14010a(0x162)][_0x14010a(0x4c8)][_0x14010a(0x7bc)]()!==''&&(_0x4c162f=_0x15a8df[_0x14010a(0x162)]['remoteJid']['trim']()),this[_0x14010a(0x34c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x14010a(0x20d)]+_0x14010a(0x43d));let _0x38586d=_0x5b0281['replyOptions'][_0x14010a(0x539)](_0xf0d9f7=>_0xf0d9f7[_0x14010a(0x6f0)]===_0x15a8df[_0x14010a(0x38a)])[_0x14010a(0x68a)]((_0x1a2685,_0x3b4f46)=>_0x1a2685[_0x14010a(0x53c)]-_0x3b4f46[_0x14010a(0x53c)]);this['replaceVariablesInReplyOptions'](_0x38586d,_0x5b0281[_0x14010a(0x3d0)][_0x14010a(0x267)]);let _0x2f0d67=_0x38586d['map'](_0x5ca25e=>_0x5ca25e[_0x14010a(0x6a3)]),_0x25167d={'number':_0x4c162f,'menuMessage':{'type':_0x15a8df[_0x14010a(0x162)][_0x14010a(0x1b3)]||_0x14010a(0x2aa),'text':_0x15a8df['uazapi']['text']||_0x15a8df[_0x14010a(0x162)][_0x14010a(0x63e)],'footerText':_0x15a8df[_0x14010a(0x162)][_0x14010a(0x83a)],'buttonText':_0x15a8df[_0x14010a(0x162)][_0x14010a(0x4eb)],'selectableCount':0x1,'choices':_0x2f0d67},'options':{'delay':_0x15a8df[_0x14010a(0x162)][_0x14010a(0x500)]}};try{let _0x2d49f2=await this[_0x14010a(0x830)](_0x25167d);if(_0x2d49f2){let _0x17c61d={'_id':_0x2d49f2['key']['id'],'_fromMe':_0x2d49f2['key'][_0x14010a(0x295)],'_remoteJid':_0x2d49f2[_0x14010a(0x4d8)][_0x14010a(0x4c8)]};_0x15a8df[_0x14010a(0x162)][_0x14010a(0x156)]===!0x0&&(_0x5b0281['status']=_0x14010a(0x562),this[_0x14010a(0x34c)][_0x14010a(0x1f6)](this[_0x14010a(0x7eb)]+'\x20('+this[_0x14010a(0x32b)][_0x14010a(0x20d)]+'):\x20conversation.status:\x20'+_0x5b0281[_0x14010a(0x390)])),this[_0x14010a(0x34c)]['verbose'](this[_0x14010a(0x7eb)]+'\x20('+this[_0x14010a(0x32b)]['wuid']+_0x14010a(0x715)+(_0x15a8df['uazapi'][_0x14010a(0x63e)]||_0x15a8df['uazapi'][_0x14010a(0x3ce)])),_0x5b0281[_0x14010a(0x3a9)]=_0x2d49f2['key']['id'],_0x5b0281['waitingMenu_text']=_0x15a8df[_0x14010a(0x162)]['name']||_0x15a8df['uazapi'][_0x14010a(0x3ce)],_0x5b0281[_0x14010a(0x1d2)]=_0x38586d,_0x15a8df['uazapi']['menuExpiredMessage']&&(_0x5b0281[_0x14010a(0x6f5)]=_0x15a8df[_0x14010a(0x162)]['menuExpiredMessage']),this['logger']['verbose'](this[_0x14010a(0x7eb)]+'\x20('+this[_0x14010a(0x32b)]['wuid']+'):\x20conversation.waitingMenu_name'+_0x5b0281[_0x14010a(0x4dd)]);let _0x141f51=(0x0,f[_0x14010a(0x5e3)])(_0x2d49f2[_0x14010a(0x1f1)]),_0x16313f=(0x0,f['getContentType'])(_0x141f51);_0x5b0281[_0x14010a(0x3d0)]['lastBlockId']=_0x15a8df['_id'][_0x14010a(0x58f)]();let {message_normalized:_0x4b19e8}=this[_0x14010a(0x53f)](_0x141f51,_0x16313f,null);_0x5b0281[_0x14010a(0x3d0)][_0x14010a(0x421)]=await _0x4b19e8;let _0x9651e1={'messageId':_0x2d49f2[_0x14010a(0x4d8)]['id']},_0x2c65d7=_0x5b0281[_0x14010a(0x3d0)][_0x14010a(0x267)];Object[_0x14010a(0x6d2)](_0x2c65d7,_0x17c61d),_0x5b0281[_0x14010a(0x3d0)][_0x14010a(0x267)]=_0x2c65d7,this['updateConversation'](_0x5b0281,_0x15a8df,_0x9651e1);}else{let _0x40307f={'error':!0x0};this[_0x14010a(0x62b)](_0x5b0281,_0x15a8df,_0x40307f),this[_0x14010a(0x34c)][_0x14010a(0x83d)](this[_0x14010a(0x7eb)]+'\x20('+this[_0x14010a(0x32b)][_0x14010a(0x20d)]+_0x14010a(0x11b));}}catch(_0xeea738){let _0xe1c3c5={'error':!0x0,'errorLog':_0xeea738 instanceof Error?_0xeea738[_0x14010a(0x1f1)]:JSON[_0x14010a(0x5b8)](_0xeea738,null,0x2)};this[_0x14010a(0x62b)](_0x5b0281,_0x15a8df,_0xe1c3c5),this[_0x14010a(0x34c)][_0x14010a(0x83d)](this[_0x14010a(0x7eb)]+'\x20('+this['instance']['wuid']+_0x14010a(0x35c)+(_0xeea738 instanceof Error?_0xeea738['message']:JSON[_0x14010a(0x5b8)](_0xeea738,null,0x2)));}}async['uazapiDeleteMessage'](_0x4d2e94,_0x5da8d4){const _0x58caf9=a0_0x5bdda6;this[_0x58caf9(0x34c)][_0x58caf9(0x1f6)](this[_0x58caf9(0x7eb)]+'\x20('+this[_0x58caf9(0x32b)][_0x58caf9(0x20d)]+_0x58caf9(0x5b5));let _0x4bdc48=_0x4d2e94[_0x58caf9(0x3d0)]['blockLogs'][_0x58caf9(0x2b1)](_0x27d672=>_0x27d672['blockId']['toString']()===_0x5da8d4['uazapi'][_0x58caf9(0x6f0)]['toString']()),_0x449a15={'id':_0x4bdc48['messageId'],'remoteJid':_0x4bdc48[_0x58caf9(0x4c8)],'fromMe':_0x4bdc48[_0x58caf9(0x295)]};try{let _0x4baec6=await this[_0x58caf9(0x70c)](_0x449a15);if(_0x4baec6){let _0x14d28a=(0x0,f['normalizeMessageContent'])(_0x4baec6[_0x58caf9(0x1f1)]),_0x14a555=(0x0,f['getContentType'])(_0x14d28a);_0x4d2e94[_0x58caf9(0x3d0)][_0x58caf9(0x360)]=_0x5da8d4['_id']['toString']();let {message_normalized:_0x518f33}=this['normalizeMessage'](_0x14d28a,_0x14a555,null);_0x4d2e94[_0x58caf9(0x3d0)][_0x58caf9(0x421)]=await _0x518f33;let _0x40db78={};this[_0x58caf9(0x62b)](_0x4d2e94,_0x5da8d4,_0x40db78);}else{let _0x285a2b={'error':!0x0};this[_0x58caf9(0x62b)](_0x4d2e94,_0x5da8d4,_0x285a2b),this[_0x58caf9(0x34c)]['error'](this['instanceName']+'\x20('+this[_0x58caf9(0x32b)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x3096a2){let _0x17d556={'error':!0x0,'errorLog':_0x3096a2 instanceof Error?_0x3096a2[_0x58caf9(0x1f1)]:JSON[_0x58caf9(0x5b8)](_0x3096a2,null,0x2)};this['updateConversation'](_0x4d2e94,_0x5da8d4,_0x17d556),this[_0x58caf9(0x34c)][_0x58caf9(0x83d)](this[_0x58caf9(0x7eb)]+'\x20('+this[_0x58caf9(0x32b)][_0x58caf9(0x20d)]+_0x58caf9(0x3d6)+(_0x3096a2 instanceof Error?_0x3096a2[_0x58caf9(0x1f1)]:JSON[_0x58caf9(0x5b8)](_0x3096a2,null,0x2)));}}async['createFlow'](_0x450e0d,_0x433faf){const _0x2c14e1=a0_0x5bdda6;if(!_0x450e0d['name'])throw new m(_0x2c14e1(0x83e));let _0x53fc9c=_0x450e0d?.[_0x2c14e1(0x2b5)]?.[_0x2c14e1(0x7bc)]()==='true'?_0x2c14e1(0x2b5):this['instance'][_0x2c14e1(0x20d)],_0x4d7b89=await this[_0x2c14e1(0x320)][_0x2c14e1(0x5a0)][_0x2c14e1(0x28c)]({'where':{'name':_0x450e0d[_0x2c14e1(0x63e)]}},_0x53fc9c);if(_0x433faf!==te&&_0x450e0d?.[_0x2c14e1(0x2b5)]===_0x2c14e1(0x6d7))throw new m(_0x2c14e1(0x4a8));if(_0x450e0d?.[_0x2c14e1(0x2b5)]!=='true'&&(_0x450e0d[_0x2c14e1(0x2b5)]=_0x2c14e1(0x3ca)),_0x4d7b89)throw new m(_0x2c14e1(0x43b));return _0x2c14e1(0x63e)in _0x450e0d&&_0x2c14e1(0x47f)in _0x450e0d&&_0x2c14e1(0x7cf)in _0x450e0d?this[_0x2c14e1(0x4c7)](_0x450e0d['owner'],_0x450e0d[_0x2c14e1(0x47f)],_0x450e0d[_0x2c14e1(0x63e)]):this[_0x2c14e1(0x7cc)](_0x450e0d);}async[a0_0x5bdda6(0x4c7)](_0x1b31fd,_0x45b8a7,_0x2dd18e){const _0x25d195=a0_0x5bdda6;try{this['logger'][_0x25d195(0x1f6)](this[_0x25d195(0x7eb)]+'\x20('+this[_0x25d195(0x32b)][_0x25d195(0x20d)]+_0x25d195(0x4df));let _0x3c8e57=await this[_0x25d195(0x320)][_0x25d195(0x5a0)][_0x25d195(0x28c)]({'where':{'sharePass':_0x45b8a7}},_0x1b31fd);if(!_0x3c8e57)throw new m(_0x25d195(0x229));let _0x4cea3e={..._0x3c8e57},_0x28d0c7=_0x3c8e57[_0x25d195(0x2b5)]==='true'?_0x25d195(0x2b5):_0x3c8e57[_0x25d195(0x7cf)];return(_0x1b31fd===_0x25d195(0x2b5)||_0x3c8e57[_0x25d195(0x2b5)]===_0x25d195(0x6d7))&&(_0x4cea3e['global']=_0x25d195(0x716),_0x4cea3e[_0x25d195(0x7cf)]='global'),_0x4cea3e['shareOwners']=Array['from'](new Set([..._0x3c8e57['shareOwners']||[],_0x28d0c7,this[_0x25d195(0x32b)][_0x25d195(0x20d)]])),_0x3c8e57[_0x25d195(0x1e6)]=_0x4cea3e['shareOwners'],await this[_0x25d195(0x320)][_0x25d195(0x5a0)][_0x25d195(0x31c)](_0x3c8e57[_0x25d195(0x38a)],{'shareOwners':_0x3c8e57['shareOwners']},_0x28d0c7),_0x3c8e57['default']===!0x0&&await this[_0x25d195(0x320)][_0x25d195(0x5a0)]['updateMany']({},{'default':!0x1},this[_0x25d195(0x32b)][_0x25d195(0x20d)]),_0x4cea3e[_0x25d195(0x7cf)]=this[_0x25d195(0x32b)]['wuid'],await this[_0x25d195(0x320)][_0x25d195(0x5a0)][_0x25d195(0x793)](_0x4cea3e,this[_0x25d195(0x32b)][_0x25d195(0x20d)]);}catch(_0x12eeb7){let _0x2a8b13=_0x25d195(0x72b),_0x3337b3=_0x12eeb7 instanceof Error?_0x12eeb7[_0x25d195(0x1f1)]:typeof _0x12eeb7=='object'?JSON[_0x25d195(0x5b8)](_0x12eeb7):_0x12eeb7,_0x10b2ab=_0x2a8b13+':\x20'+_0x3337b3;throw this['logger'][_0x25d195(0x83d)](this[_0x25d195(0x7eb)]+'\x20('+this[_0x25d195(0x32b)][_0x25d195(0x20d)]+_0x25d195(0x413)+_0x10b2ab),new m(_0x10b2ab);}}async[a0_0x5bdda6(0x7cc)](_0x4433fe){const _0x20ebd5=a0_0x5bdda6;try{this[_0x20ebd5(0x34c)][_0x20ebd5(0x1f6)](this[_0x20ebd5(0x7eb)]+'\x20('+this['instance'][_0x20ebd5(0x20d)]+'):\x20Criando\x20fluxo\x20regular...');let _0x37ed99=_0x4433fe?.[_0x20ebd5(0x2b5)]===_0x20ebd5(0x6d7)?_0x20ebd5(0x2b5):this[_0x20ebd5(0x32b)][_0x20ebd5(0x20d)];delete _0x4433fe['shareOwners'],delete _0x4433fe[_0x20ebd5(0x47f)],delete _0x4433fe[_0x20ebd5(0x7cf)],_0x4433fe[_0x20ebd5(0x79b)]===!0x0&&await this['repository'][_0x20ebd5(0x5a0)][_0x20ebd5(0x63a)]({},{'default':!0x1},this[_0x20ebd5(0x32b)]['wuid']);let _0x4b9667=new ie[(_0x20ebd5(0x51c))][(_0x20ebd5(0x693))](),_0x25885d={'_id':_0x4b9667,'default':!0x0,'title':_0x20ebd5(0x18b),'x':0x0,'y':0x0},_0x5557ff={'_id':new ie[(_0x20ebd5(0x51c))][(_0x20ebd5(0x693))](),'order':0x1,'groupId':_0x4b9667[_0x20ebd5(0x58f)](),'type':_0x20ebd5(0x623)},_0x31de9f={'_id':new ie[(_0x20ebd5(0x51c))][(_0x20ebd5(0x693))](),'owner':this[_0x20ebd5(0x32b)][_0x20ebd5(0x20d)],'name':_0x4433fe[_0x20ebd5(0x63e)],'groups':[_0x25885d],'blocks':[_0x5557ff],..._0x4433fe};return await this[_0x20ebd5(0x320)][_0x20ebd5(0x5a0)][_0x20ebd5(0x793)](_0x31de9f,_0x37ed99);}catch(_0x540eee){let _0xd3fb0c=_0x20ebd5(0x411),_0x486b88=_0x540eee instanceof Error?_0x540eee[_0x20ebd5(0x1f1)]:typeof _0x540eee==_0x20ebd5(0x53a)?JSON[_0x20ebd5(0x5b8)](_0x540eee):_0x540eee,_0x1b2311=_0xd3fb0c+':\x20'+_0x486b88;throw this[_0x20ebd5(0x34c)][_0x20ebd5(0x83d)](this[_0x20ebd5(0x7eb)]+'\x20('+this[_0x20ebd5(0x32b)]['wuid']+_0x20ebd5(0x413)+_0x1b2311),new m(_0x1b2311);}}async[a0_0x5bdda6(0x506)](_0x10c588,_0x4bff8e){const _0x4b3c77=a0_0x5bdda6;this[_0x4b3c77(0x34c)][_0x4b3c77(0x6a4)](_0x4b3c77(0x321));try{let _0x161c9b=await this[_0x4b3c77(0x320)]['flow'][_0x4b3c77(0x28c)]({'where':{'_id':_0x10c588}},_0x4bff8e);if(delete _0x161c9b[_0x4b3c77(0x79b)],delete _0x161c9b[_0x4b3c77(0x327)],delete _0x161c9b[_0x4b3c77(0x19e)],delete _0x161c9b[_0x4b3c77(0x753)],delete _0x161c9b[_0x4b3c77(0x23a)],_0x161c9b[_0x4b3c77(0x2b5)]==='true'&&(_0x161c9b[_0x4b3c77(0x2b5)]=_0x4b3c77(0x716)),_0x161c9b&&_0x161c9b[_0x4b3c77(0x1e6)]){for(let _0x4ef1fc of _0x161c9b['shareOwners'])if(_0x4ef1fc!==_0x4bff8e){let _0x19565e={..._0x161c9b,'owner':_0x4ef1fc};await this[_0x4b3c77(0x320)][_0x4b3c77(0x5a0)][_0x4b3c77(0x22e)](_0x161c9b[_0x4b3c77(0x38a)],_0x19565e,_0x4ef1fc);}}}catch(_0x466168){this[_0x4b3c77(0x34c)][_0x4b3c77(0x83d)](_0x4b3c77(0x662)+_0x466168);}}async[a0_0x5bdda6(0x5fa)](_0xba895a,_0x145d1b){const _0x3c08ac=a0_0x5bdda6;try{this[_0x3c08ac(0x34c)][_0x3c08ac(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x3c08ac(0x20d)]+'):\x20\x27Deletando\x20fluxo,\x20name:\x20'+_0xba895a[_0x3c08ac(0x63e)]+_0x3c08ac(0x26b)+_0xba895a[_0x3c08ac(0x2b5)]);let _0x361d7c=_0xba895a[_0x3c08ac(0x2b5)]===_0x3c08ac(0x6d7)?'global':this['instance'][_0x3c08ac(0x20d)],_0x39ad58=await this[_0x3c08ac(0x320)][_0x3c08ac(0x5a0)]['findOne']({'where':{'name':_0xba895a[_0x3c08ac(0x63e)]}},_0x361d7c);if(!_0x39ad58)throw new m('Fluxo\x20não\x20encontrado.');if(_0x145d1b!==te&&_0x39ad58?.[_0x3c08ac(0x2b5)]===_0x3c08ac(0x6d7)&&_0x39ad58?.[_0x3c08ac(0x7cf)]!==this[_0x3c08ac(0x32b)]['wuid'])throw new m(_0x3c08ac(0x645));if(_0x39ad58&&_0x39ad58['shareOwners']&&_0x39ad58['shareOwners'][_0x3c08ac(0x29b)]>0x0){for(let _0x156211 of _0x39ad58['shareOwners'])if(_0x156211!==_0x361d7c){let _0x20a3b0=await this[_0x3c08ac(0x320)]['flow']['findOne']({'where':{'sharePass':_0x39ad58[_0x3c08ac(0x47f)]}},_0x156211);if(_0x20a3b0){_0x20a3b0[_0x3c08ac(0x1e6)]=_0x20a3b0[_0x3c08ac(0x1e6)]['filter'](_0x1aef58=>_0x1aef58!==_0x39ad58['owner']);let _0x1ac790={'shareOwners':_0x20a3b0[_0x3c08ac(0x1e6)]};_0x39ad58[_0x3c08ac(0x2b5)]===_0x3c08ac(0x6d7)&&(_0x1ac790[_0x3c08ac(0x2b5)]='false'),await this[_0x3c08ac(0x320)][_0x3c08ac(0x5a0)][_0x3c08ac(0x31c)](_0x20a3b0[_0x3c08ac(0x38a)],_0x1ac790,_0x156211);}}}return await this[_0x3c08ac(0x320)][_0x3c08ac(0x5a0)][_0x3c08ac(0x21c)]({'where':{'name':_0xba895a[_0x3c08ac(0x63e)]}},_0x361d7c);}catch(_0x1b812d){return this['logger'][_0x3c08ac(0x83d)](this[_0x3c08ac(0x7eb)]+'\x20('+this[_0x3c08ac(0x32b)][_0x3c08ac(0x20d)]+_0x3c08ac(0x1c5)+(_0x1b812d instanceof Error?_0x1b812d[_0x3c08ac(0x1f1)]:JSON['stringify'](_0x1b812d,null,0x2))),{'message':_0x3c08ac(0x374)+_0x1b812d['message']};}}async[a0_0x5bdda6(0x1c8)](_0x3fb65b,_0x1694a2){const _0x45eb72=a0_0x5bdda6;try{this['logger']['info'](this[_0x45eb72(0x7eb)]+'\x20('+this['instance'][_0x45eb72(0x20d)]+_0x45eb72(0x294)+_0x3fb65b+_0x45eb72(0x2ac)+_0x1694a2);let _0x3fb12d=_0x1694a2?.[_0x45eb72(0x7bc)]()===_0x45eb72(0x6d7)?_0x45eb72(0x2b5):this[_0x45eb72(0x32b)][_0x45eb72(0x20d)],_0x3e1769=await this[_0x45eb72(0x320)][_0x45eb72(0x5a0)][_0x45eb72(0x28c)]({'where':{'name':_0x3fb65b}},_0x3fb12d);if(!_0x3e1769)throw new Error(_0x45eb72(0x402));if(_0x3e1769[_0x45eb72(0x720)]||(_0x3e1769['startID']=(0x0,Ce['v4'])()),!this[_0x45eb72(0x749)]&&(await this[_0x45eb72(0x252)](),!this[_0x45eb72(0x749)]))return null;let _0x268b97=this['AutomateSystem']?.['customFields']['map'](_0x40f588=>_0x40f588[_0x45eb72(0x63e)]),_0x406156=[_0x45eb72(0x4b9),_0x45eb72(0x34b),'email',_0x45eb72(0x2f6),'status',_0x45eb72(0x439),_0x45eb72(0x786),'tags',_0x45eb72(0x67c),_0x45eb72(0x32c),'atendimentoAberto'];_0x3e1769['variables']=_0x3e1769[_0x45eb72(0x650)][_0x45eb72(0x539)](_0x26722c=>!(_0x26722c[_0x45eb72(0x6e3)]===_0x45eb72(0x120)||_0x26722c['leadInfo'])),_0x406156[_0x45eb72(0x3a3)](_0x166382=>{const _0x3c3ddf=_0x45eb72;_0x3e1769[_0x3c3ddf(0x650)][_0x3c3ddf(0x711)]({'folder':'leadInfo','name':_0x166382,'value':'','doc':'','leadInfo':!0x0});}),_0x268b97[_0x45eb72(0x3a3)](_0x5814c3=>{const _0x478c2e=_0x45eb72;let _0x1c6afd=_0x3e1769['variables'][_0x478c2e(0x362)](_0x4bc0a4=>_0x4bc0a4[_0x478c2e(0x63e)]===_0x5814c3);_0x1c6afd===-0x1?_0x3e1769[_0x478c2e(0x650)][_0x478c2e(0x711)]({'folder':_0x478c2e(0x120),'name':_0x5814c3,'value':'','doc':'','leadInfo':!0x0}):(_0x3e1769[_0x478c2e(0x650)][_0x1c6afd][_0x478c2e(0x6e3)]=_0x478c2e(0x120),_0x3e1769[_0x478c2e(0x650)][_0x1c6afd][_0x478c2e(0x120)]=!0x0);}),_0x3e1769[_0x45eb72(0x82f)]&&_0x3e1769[_0x45eb72(0x82f)][_0x45eb72(0x29b)]>0x0&&_0x3e1769['blocks'][_0x45eb72(0x3a3)](_0x85e7cb=>{const _0x4e9167=_0x45eb72;_0x85e7cb[_0x4e9167(0x3be)]&&_0x85e7cb['next_groupId']&&_0x85e7cb['groupId']===_0x85e7cb['next_groupId']&&(_0x85e7cb[_0x4e9167(0x2e8)]=null);});let _0x4d68ad=await this['repository'][_0x45eb72(0x5a0)][_0x45eb72(0x31c)](_0x3e1769[_0x45eb72(0x38a)],_0x3e1769,_0x3fb12d);if(!_0x4d68ad)throw new Error(_0x45eb72(0x470));return _0x4d68ad;}catch(_0x272c31){let _0x41d2cd='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x1b847e=_0x272c31 instanceof Error?_0x272c31[_0x45eb72(0x1f1)]:typeof _0x272c31=='object'?JSON[_0x45eb72(0x5b8)](_0x272c31):_0x272c31,_0x19c92e=_0x41d2cd+':\x20'+_0x1b847e;throw this['logger']['error'](this[_0x45eb72(0x7eb)]+'\x20('+this[_0x45eb72(0x32b)][_0x45eb72(0x20d)]+'):\x20'+_0x19c92e),new m(_0x19c92e);}}async[a0_0x5bdda6(0x572)](){const _0x11ed41=a0_0x5bdda6;try{this[_0x11ed41(0x34c)]['verbose'](this[_0x11ed41(0x7eb)]+'\x20('+this[_0x11ed41(0x32b)][_0x11ed41(0x20d)]+_0x11ed41(0x6ea)),await this['repository'][_0x11ed41(0x5a0)][_0x11ed41(0x3f4)](this[_0x11ed41(0x32b)][_0x11ed41(0x20d)]);let _0x3b982a=await this[_0x11ed41(0x320)]['flow'][_0x11ed41(0x3e5)]({'where':{}},this[_0x11ed41(0x32b)]['wuid']),_0x38b2d6=await this[_0x11ed41(0x320)]['flow']['findAll']({'where':{}},'global');return _0x3b982a[_0x11ed41(0x2e5)](_0x38b2d6);}catch(_0x1607a8){return this[_0x11ed41(0x34c)][_0x11ed41(0x83d)](this[_0x11ed41(0x7eb)]+'\x20('+this[_0x11ed41(0x32b)][_0x11ed41(0x20d)]+_0x11ed41(0x7f4)+(_0x1607a8 instanceof Error?_0x1607a8[_0x11ed41(0x1f1)]:JSON['stringify'](_0x1607a8,null,0x2))),{'message':_0x11ed41(0x42e)+_0x1607a8[_0x11ed41(0x1f1)]};}}async[a0_0x5bdda6(0x3ae)](_0x27dc78,_0x18e755){const _0x6bb324=a0_0x5bdda6;try{this[_0x6bb324(0x34c)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x6bb324(0x723));let _0x5c02d1=_0x27dc78?.[_0x6bb324(0x2b5)]?.['trim']()===_0x6bb324(0x6d7)?_0x6bb324(0x2b5):this['instance']['wuid'],_0x3f5c1f=await this['repository'][_0x6bb324(0x5a0)]['findOne']({'where':{'name':_0x27dc78[_0x6bb324(0x63e)]}},_0x5c02d1);if(!_0x3f5c1f)return{'message':_0x6bb324(0x52f)};if(_0x18e755!==te&&_0x3f5c1f?.[_0x6bb324(0x2b5)]==='true'&&_0x3f5c1f?.[_0x6bb324(0x7cf)]!==this['instance'][_0x6bb324(0x20d)])throw new m(_0x6bb324(0x293));_0x3f5c1f?.[_0x6bb324(0x2b5)]===_0x6bb324(0x716)&&(_0x27dc78={'default':_0x27dc78[_0x6bb324(0x79b)],'minutesToClose':_0x27dc78[_0x6bb324(0x753)],'readMessages':_0x27dc78['readMessages'],'testingWith':_0x27dc78[_0x6bb324(0x19e)],'startCommandWord':_0x27dc78[_0x6bb324(0x327)]}),_0x27dc78['default']===!0x0&&_0x3f5c1f?.[_0x6bb324(0x2b5)]!==_0x6bb324(0x6d7)&&await this['repository'][_0x6bb324(0x5a0)][_0x6bb324(0x63a)]({},{'default':!0x1},_0x5c02d1),delete _0x27dc78[_0x6bb324(0x1e6)],delete _0x27dc78['sharePass'],delete _0x27dc78[_0x6bb324(0x2b5)];let _0x48b9d5=await this['repository'][_0x6bb324(0x5a0)][_0x6bb324(0x31c)](_0x3f5c1f[_0x6bb324(0x38a)],_0x27dc78,_0x5c02d1);return _0x48b9d5&&_0x48b9d5['shareOwners']&&_0x48b9d5[_0x6bb324(0x1e6)][_0x6bb324(0x29b)]>0x1&&_0x48b9d5[_0x6bb324(0x2b5)]!==_0x6bb324(0x716)&&this[_0x6bb324(0x506)](_0x48b9d5[_0x6bb324(0x38a)],_0x5c02d1),_0x48b9d5;}catch(_0x152f6e){let _0x3938ef=_0x6bb324(0x36b),_0x205aa1=_0x152f6e instanceof Error?_0x152f6e[_0x6bb324(0x1f1)]:typeof _0x152f6e==_0x6bb324(0x53a)?JSON[_0x6bb324(0x5b8)](_0x152f6e):_0x152f6e,_0x59d506=_0x3938ef+':\x20'+_0x205aa1;throw this[_0x6bb324(0x34c)][_0x6bb324(0x83d)](this[_0x6bb324(0x7eb)]+'\x20('+this['instance']['wuid']+_0x6bb324(0x413)+_0x59d506),new m(_0x59d506);}}async['editFlowBlock'](_0x32e2c1,_0x33a417){const _0x340943=a0_0x5bdda6;try{this[_0x340943(0x34c)][_0x340943(0x1f6)](this[_0x340943(0x7eb)]+'\x20('+this[_0x340943(0x32b)][_0x340943(0x20d)]+_0x340943(0x533));let _0x223b09=_0x32e2c1?.[_0x340943(0x2b5)]?.[_0x340943(0x7bc)]()===_0x340943(0x6d7)?'global':this[_0x340943(0x32b)]['wuid'],_0x3ca62d=await this[_0x340943(0x320)]['flow']['findOne']({'where':{'name':_0x32e2c1[_0x340943(0x63e)]}},_0x223b09);if(_0x3ca62d||this['throwAndLogError']('Flow\x20não\x20encontrado'),_0x3ca62d?.[_0x340943(0x2b5)]==='sync')throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x33a417!==te&&_0x3ca62d?.['global']===_0x340943(0x6d7)&&_0x3ca62d?.[_0x340943(0x7cf)]!==this[_0x340943(0x32b)][_0x340943(0x20d)])throw new m(_0x340943(0x293));let {block:_0x85bb92}=_0x32e2c1;_0x85bb92?.[_0x340943(0x779)]?this[_0x340943(0x235)](_0x3ca62d,_0x32e2c1):_0x85bb92?.[_0x340943(0x469)]?this[_0x340943(0x488)](_0x3ca62d,_0x32e2c1):_0x85bb92[_0x340943(0x38a)]?await this[_0x340943(0x4fb)](_0x3ca62d,_0x32e2c1):this[_0x340943(0x5fc)](_0x3ca62d,_0x32e2c1);let _0x46f637=await this[_0x340943(0x320)][_0x340943(0x5a0)]['updateOne'](_0x3ca62d['_id'],_0x3ca62d,_0x223b09);if(_0x46f637&&_0x46f637[_0x340943(0x1e6)]&&_0x46f637[_0x340943(0x1e6)][_0x340943(0x29b)]>0x1&&this[_0x340943(0x506)](_0x46f637['_id'],this[_0x340943(0x32b)][_0x340943(0x20d)]),!_0x46f637)throw new Error(_0x340943(0x470));return _0x46f637;}catch(_0x29f800){this[_0x340943(0x37b)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x29f800[_0x340943(0x1f1)]);}}async[a0_0x5bdda6(0x235)](_0x2eadb4,_0x4af920){const _0x511827=a0_0x5bdda6;let _0x51630a=_0x4af920[_0x511827(0x67d)][_0x511827(0x38a)],_0x2c6f09=_0x2eadb4[_0x511827(0x82f)]['find'](_0x51a1e5=>_0x51a1e5[_0x511827(0x38a)]['toString']()===_0x51630a);if(!_0x2c6f09){this[_0x511827(0x34c)][_0x511827(0x83d)](this[_0x511827(0x7eb)]+'\x20('+this[_0x511827(0x32b)][_0x511827(0x20d)]+_0x511827(0x806)+_0x51630a+_0x511827(0x34a));return;}this[_0x511827(0x34c)][_0x511827(0x1f6)](this[_0x511827(0x7eb)]+'\x20('+this[_0x511827(0x32b)][_0x511827(0x20d)]+_0x511827(0x1b8)+JSON[_0x511827(0x5b8)](_0x2c6f09));let _0x32c8bd=JSON['parse'](JSON[_0x511827(0x5b8)](_0x2c6f09));_0x32c8bd[_0x511827(0x38a)]=new ie['default'][(_0x511827(0x51c))][(_0x511827(0x693))](),this[_0x511827(0x34c)][_0x511827(0x1f6)](this[_0x511827(0x7eb)]+'\x20('+this[_0x511827(0x32b)][_0x511827(0x20d)]+_0x511827(0x66a)+JSON[_0x511827(0x5b8)](_0x32c8bd)),_0x2eadb4[_0x511827(0x82f)][_0x511827(0x711)](_0x32c8bd),this[_0x511827(0x1bd)](_0x2eadb4[_0x511827(0x82f)],_0x32c8bd[_0x511827(0x3be)]);}[a0_0x5bdda6(0x37b)](_0x1f2a6a){const _0x4420ac=a0_0x5bdda6;throw this[_0x4420ac(0x34c)][_0x4420ac(0x83d)](this[_0x4420ac(0x7eb)]+'\x20('+this[_0x4420ac(0x32b)][_0x4420ac(0x20d)]+'):\x20'+_0x1f2a6a),new m(_0x1f2a6a);}['deleteBlock'](_0x2e2574,_0x22797a){const _0x1dac35=a0_0x5bdda6;let {block:_0x3da72}=_0x22797a;if(_0x3da72[_0x1dac35(0x5b3)]===_0x1dac35(0x623)){this['throwAndLogError'](_0x1dac35(0x2f7));return;}if(!_0x3da72[_0x1dac35(0x38a)]){this[_0x1dac35(0x37b)](_0x1dac35(0x1d9));return;}let _0x5d6cdf=_0x2e2574['blocks']['find'](_0x4f0183=>_0x4f0183[_0x1dac35(0x38a)][_0x1dac35(0x58f)]()===_0x22797a[_0x1dac35(0x67d)]['_id']['toString']());if(!_0x5d6cdf){this[_0x1dac35(0x37b)](_0x1dac35(0x364)+_0x3da72[_0x1dac35(0x38a)]+_0x1dac35(0x2ee));return;}_0x2e2574[_0x1dac35(0x82f)]=_0x2e2574['blocks']['filter'](_0x3d879c=>_0x3d879c[_0x1dac35(0x38a)][_0x1dac35(0x58f)]()!==_0x22797a[_0x1dac35(0x67d)][_0x1dac35(0x38a)][_0x1dac35(0x58f)]()),_0x2e2574[_0x1dac35(0x544)]=_0x2e2574[_0x1dac35(0x544)][_0x1dac35(0x539)](_0x1a45f1=>_0x1a45f1[_0x1dac35(0x6f0)]!==_0x3da72[_0x1dac35(0x38a)][_0x1dac35(0x58f)]()),_0x2e2574['varedits']=_0x2e2574[_0x1dac35(0x813)]['filter'](_0x20ed6a=>_0x20ed6a[_0x1dac35(0x6f0)]!==_0x3da72['_id'][_0x1dac35(0x58f)]()),_0x2e2574['replyOptions']=_0x2e2574[_0x1dac35(0x576)]['filter'](_0x14dbc8=>_0x14dbc8['blockId']!==_0x3da72[_0x1dac35(0x38a)]['toString']()),this[_0x1dac35(0x1bd)](_0x2e2574[_0x1dac35(0x82f)],_0x5d6cdf[_0x1dac35(0x3be)]);}async[a0_0x5bdda6(0x4fb)](_0x4d0c62,_0x48c76b){const _0x5a84bf=a0_0x5bdda6;let _0x426abc=_0x4d0c62[_0x5a84bf(0x82f)][_0x5a84bf(0x362)](_0x3b4036=>_0x3b4036[_0x5a84bf(0x38a)][_0x5a84bf(0x58f)]()===_0x48c76b['block'][_0x5a84bf(0x38a)][_0x5a84bf(0x58f)]());if(this[_0x5a84bf(0x34c)][_0x5a84bf(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x5a84bf(0x20d)]+_0x5a84bf(0x3ad)+_0x426abc),_0x426abc===-0x1){this[_0x5a84bf(0x34c)][_0x5a84bf(0x1f6)](_0x5a84bf(0x364)+_0x48c76b['block'][_0x5a84bf(0x38a)]+_0x5a84bf(0x69b));return;}if(_0x4d0c62['blocks'][_0x426abc]['type']===_0x5a84bf(0x623)){let _0x55dd8e=Object[_0x5a84bf(0x45d)](_0x48c76b[_0x5a84bf(0x67d)]);if(_0x55dd8e[_0x5a84bf(0x29b)]>0x2||_0x55dd8e['length']===0x2&&!_0x55dd8e['includes'](_0x5a84bf(0x2e8))){this[_0x5a84bf(0x37b)](_0x5a84bf(0x1eb));return;}}let _0x59b4d6=_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x3be)];for(let _0x507b96 in _0x48c76b[_0x5a84bf(0x67d)])_0x48c76b['block'][_0x5a84bf(0x35f)](_0x507b96)&&(_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x507b96]=_0x48c76b[_0x5a84bf(0x67d)][_0x507b96]);if(this['logger'][_0x5a84bf(0x1f6)](this[_0x5a84bf(0x7eb)]+'\x20('+this[_0x5a84bf(0x32b)][_0x5a84bf(0x20d)]+_0x5a84bf(0x630)+JSON['stringify'](_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc])),_0x4d0c62['blocks'][_0x426abc][_0x5a84bf(0x729)]&&_0x5a84bf(0x253)in _0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)]){this[_0x5a84bf(0x34c)][_0x5a84bf(0x1f6)](this['instanceName']+'\x20('+this[_0x5a84bf(0x32b)][_0x5a84bf(0x20d)]+_0x5a84bf(0x497));let _0x434c80=JSON[_0x5a84bf(0x5b8)](_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)][_0x5a84bf(0x253)],null,0x1);_0x434c80[_0x5a84bf(0x29b)]>0x2&&(_0x434c80=_0x434c80[_0x5a84bf(0x1a5)](0x1,_0x434c80['length']-0x1)[_0x5a84bf(0x7bc)]()),_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)][_0x5a84bf(0x65c)]=_0x434c80;}if(_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)]&&'body'in _0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)]&&!(_0x5a84bf(0x2a8)in _0x4d0c62[_0x5a84bf(0x82f)][_0x426abc]['apirequest'])){this[_0x5a84bf(0x34c)][_0x5a84bf(0x1f6)](this[_0x5a84bf(0x7eb)]+'\x20('+this[_0x5a84bf(0x32b)]['wuid']+_0x5a84bf(0x35a)),_0x4d0c62['blocks'][_0x426abc][_0x5a84bf(0x729)][_0x5a84bf(0x435)]=!0x1;let _0x550a6b=JSON[_0x5a84bf(0x5b8)](_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)][_0x5a84bf(0x322)],null,0x2);_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc]['apirequest']['bodyString']=_0x550a6b;}if(_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)]&&_0x5a84bf(0x2a8)in _0x4d0c62['blocks'][_0x426abc][_0x5a84bf(0x729)]){_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)][_0x5a84bf(0x435)]=!0x1;let _0x1c010a=_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)][_0x5a84bf(0x2a8)],_0x1f6407=this[_0x5a84bf(0x4d6)](_0x1c010a);_0x4d0c62[_0x5a84bf(0x82f)][_0x426abc][_0x5a84bf(0x729)][_0x5a84bf(0x2a8)]=_0x1f6407[_0x5a84bf(0x582)],_0x4d0c62['blocks'][_0x426abc]['apirequest'][_0x5a84bf(0x435)]=_0x1f6407[_0x5a84bf(0x83d)];}let _0x15cfd=_0x4d0c62['blocks'][_0x426abc][_0x5a84bf(0x3be)];_0x59b4d6!==_0x15cfd?(this[_0x5a84bf(0x1bd)](_0x4d0c62[_0x5a84bf(0x82f)],_0x59b4d6),this[_0x5a84bf(0x1bd)](_0x4d0c62[_0x5a84bf(0x82f)],_0x15cfd)):this[_0x5a84bf(0x1bd)](_0x4d0c62[_0x5a84bf(0x82f)],_0x59b4d6);}[a0_0x5bdda6(0x4d6)](_0x390fb9){const _0x422dd6=a0_0x5bdda6;let _0x2c3700='\u205f',_0x542ead=!0x1,_0x193818='';for(let _0x3f90d6=0x0;_0x3f90d6<_0x390fb9['length'];_0x3f90d6++){let _0x5dd3cd=_0x390fb9[_0x3f90d6];_0x5dd3cd==='\x22'&&(_0x3f90d6===0x0||_0x390fb9[_0x3f90d6-0x1]!=='\x5c')&&(_0x542ead=!_0x542ead),!(!_0x542ead&&(_0x5dd3cd==='\x0a'||_0x5dd3cd==='\x20'||_0x5dd3cd===_0x2c3700))&&(_0x193818+=_0x5dd3cd);}let _0x286169={},_0x759d8b=9876543210.1234,_0x3f5681=_0x193818[_0x422dd6(0x4a9)](/\{\{([^}]+)\}\}/g,_0x2ad9b9=>{let _0x298ae2=_0x2ad9b9,_0x311f26=''+_0x759d8b;return _0x286169[_0x311f26]=_0x298ae2,_0x759d8b+=0.0001,_0x311f26;}),_0x3adb51='',_0xcaae4f=!0x1;try{let _0x555d16=JSON['parse'](_0x3f5681);_0x3adb51=JSON[_0x422dd6(0x5b8)](_0x555d16,null,0x2),_0x3adb51=_0x3adb51[_0x422dd6(0x4a9)](/\n( +)/g,(_0x4bf35f,_0x216304)=>{const _0x2ca5c3=_0x422dd6;let _0x1df227=_0x216304['length'];return'\x0a'+_0x2c3700[_0x2ca5c3(0x32e)](_0x1df227*0x2);}),_0x3adb51=_0x3adb51[_0x422dd6(0x4a9)](/(\d{10,}\.\d+)/g,_0x417431=>_0x286169[_0x417431]||_0x417431);}catch(_0x5d46bd){console[_0x422dd6(0x83d)](_0x422dd6(0x347),_0x5d46bd),_0x3adb51=_0x390fb9,_0xcaae4f=!0x0;}return{'result':_0x3adb51,'error':_0xcaae4f};}[a0_0x5bdda6(0x5fc)](_0x29483f,_0x1dbab0){const _0x52db00=a0_0x5bdda6;if(_0x1dbab0[_0x52db00(0x67d)][_0x52db00(0x5b3)]==='start'){this[_0x52db00(0x37b)](_0x52db00(0x201));return;}if(_0x1dbab0['block'][_0x52db00(0x729)]&&_0x52db00(0x253)in _0x1dbab0['block']['apirequest']){this[_0x52db00(0x34c)][_0x52db00(0x1f6)](this[_0x52db00(0x7eb)]+'\x20('+this[_0x52db00(0x32b)]['wuid']+_0x52db00(0x497));let _0x499c04=JSON[_0x52db00(0x5b8)](_0x1dbab0[_0x52db00(0x67d)][_0x52db00(0x729)][_0x52db00(0x253)],null,0x1);_0x499c04[_0x52db00(0x29b)]>0x2&&(_0x499c04=_0x499c04[_0x52db00(0x1a5)](0x1,_0x499c04[_0x52db00(0x29b)]-0x1)[_0x52db00(0x7bc)]()),_0x1dbab0[_0x52db00(0x67d)]['apirequest']['headerString']=_0x499c04;}_0x1dbab0[_0x52db00(0x67d)][_0x52db00(0x729)]&&_0x52db00(0x322)in _0x1dbab0[_0x52db00(0x67d)][_0x52db00(0x729)]&&(this[_0x52db00(0x34c)]['verbose'](this[_0x52db00(0x7eb)]+'\x20('+this[_0x52db00(0x32b)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x1dbab0[_0x52db00(0x67d)]['apirequest'][_0x52db00(0x2a8)]=JSON[_0x52db00(0x5b8)](_0x1dbab0[_0x52db00(0x67d)][_0x52db00(0x729)]['body'],null,0x1)['trim']()),_0x29483f[_0x52db00(0x82f)][_0x52db00(0x711)](_0x1dbab0[_0x52db00(0x67d)]),this['reorderBlocks'](_0x29483f['blocks'],_0x1dbab0[_0x52db00(0x67d)][_0x52db00(0x3be)]);}[a0_0x5bdda6(0x1bd)](_0x17bf6c,_0x1f930c){const _0x539a9c=a0_0x5bdda6;let _0x348a19=_0x17bf6c[_0x539a9c(0x539)](_0x3d68ab=>_0x3d68ab['groupId']===_0x1f930c);_0x348a19[_0x539a9c(0x68a)]((_0x487982,_0x6ff0ca)=>_0x487982[_0x539a9c(0x53c)]-_0x6ff0ca[_0x539a9c(0x53c)]),_0x348a19[_0x539a9c(0x3a3)]((_0x1b5898,_0x8db0e1)=>_0x1b5898['order']=_0x8db0e1+0x1);}async[a0_0x5bdda6(0x44e)](_0x527c9f,_0x313597){const _0x163570=a0_0x5bdda6;try{this[_0x163570(0x34c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x163570(0x20d)]+_0x163570(0x409));let _0x5e0dae=_0x527c9f?.[_0x163570(0x2b5)][_0x163570(0x7bc)]()==='true'?_0x163570(0x2b5):this[_0x163570(0x32b)][_0x163570(0x20d)];if(!_0x527c9f||!_0x527c9f[_0x163570(0x69d)]){this[_0x163570(0x37b)](_0x163570(0x74f));return;}let _0x2fd572=await this['repository'][_0x163570(0x5a0)][_0x163570(0x28c)]({'where':{'name':_0x527c9f[_0x163570(0x63e)]}},_0x5e0dae);if(_0x2fd572||this[_0x163570(0x37b)](_0x163570(0x402)),_0x2fd572?.[_0x163570(0x2b5)]==='sync')throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x313597!==te&&_0x2fd572?.[_0x163570(0x2b5)]===_0x163570(0x6d7)&&_0x2fd572?.[_0x163570(0x7cf)]!==this[_0x163570(0x32b)][_0x163570(0x20d)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {replyOption:_0x2cd906}=_0x527c9f;_0x2cd906?.[_0x163570(0x469)]?(this[_0x163570(0x57d)](_0x2fd572,_0x527c9f),this['reorderReplyOptions'](_0x2fd572[_0x163570(0x576)],_0x527c9f[_0x163570(0x69d)][_0x163570(0x6f0)])):_0x2cd906[_0x163570(0x38a)]?(await this[_0x163570(0x18f)](_0x2fd572,_0x527c9f),this[_0x163570(0x171)](_0x2fd572[_0x163570(0x576)],_0x527c9f['replyOption'][_0x163570(0x6f0)])):(this[_0x163570(0x797)](_0x2fd572,_0x527c9f),this[_0x163570(0x171)](_0x2fd572['replyOptions'],_0x527c9f[_0x163570(0x69d)][_0x163570(0x6f0)]));let _0x27d062=await this[_0x163570(0x320)]['flow']['updateOne'](_0x2fd572[_0x163570(0x38a)],_0x2fd572,_0x5e0dae);if(_0x27d062&&_0x27d062[_0x163570(0x1e6)]&&_0x27d062[_0x163570(0x1e6)]['length']>0x1&&_0x27d062[_0x163570(0x2b5)]!==_0x163570(0x716)&&this[_0x163570(0x506)](_0x27d062[_0x163570(0x38a)],_0x5e0dae),!_0x27d062)throw new Error(_0x163570(0x470));return _0x27d062;}catch(_0x154b54){this['throwAndLogError'](_0x163570(0x46e)+_0x154b54);}}[a0_0x5bdda6(0x171)](_0x134d57,_0x492f5e){const _0x53ed1b=a0_0x5bdda6;_0x134d57[_0x53ed1b(0x3a3)](_0xcdea2a=>{const _0x57039a=_0x53ed1b;_0xcdea2a[_0x57039a(0x6f0)]===_0x492f5e&&_0xcdea2a[_0x57039a(0x53c)]===void 0x0&&(_0xcdea2a[_0x57039a(0x53c)]=0x270f);});let _0x592e33=_0x134d57['filter'](_0x37715e=>_0x37715e['blockId']===_0x492f5e);_0x592e33[_0x53ed1b(0x68a)]((_0x4b7127,_0x1db9cf)=>_0x4b7127[_0x53ed1b(0x53c)]-_0x1db9cf[_0x53ed1b(0x53c)]),_0x592e33[_0x53ed1b(0x3a3)]((_0x30f509,_0x1d761b)=>{_0x30f509['order']=_0x1d761b+0x1;}),_0x134d57[_0x53ed1b(0x3a3)](_0x480e4e=>{const _0x43390f=_0x53ed1b;if(_0x480e4e[_0x43390f(0x6f0)]===_0x492f5e){let _0x4a7c6d=_0x592e33[_0x43390f(0x2b1)](_0x18752b=>_0x18752b[_0x43390f(0x38a)]&&_0x480e4e[_0x43390f(0x38a)]&&_0x18752b['_id']['toString']()===_0x480e4e['_id']['toString']());_0x4a7c6d&&(_0x480e4e['order']=_0x4a7c6d[_0x43390f(0x53c)]);}});}[a0_0x5bdda6(0x57d)](_0x5f2c19,_0x156d8c){const _0x139f6d=a0_0x5bdda6;let {replyOption:_0x6cf697}=_0x156d8c;if(!_0x6cf697['_id']){this[_0x139f6d(0x37b)](_0x139f6d(0x139));return;}if(!_0x5f2c19[_0x139f6d(0x576)][_0x139f6d(0x2b1)](_0x537154=>_0x537154[_0x139f6d(0x38a)][_0x139f6d(0x58f)]()===_0x156d8c[_0x139f6d(0x69d)][_0x139f6d(0x38a)][_0x139f6d(0x58f)]())){this[_0x139f6d(0x37b)](_0x139f6d(0x2dc)+_0x6cf697[_0x139f6d(0x38a)]+'\x20não\x20encontrado');return;}_0x5f2c19[_0x139f6d(0x576)]=_0x5f2c19['replyOptions'][_0x139f6d(0x539)](_0x7a40e6=>_0x7a40e6['_id'][_0x139f6d(0x58f)]()!==_0x156d8c[_0x139f6d(0x69d)]['_id'][_0x139f6d(0x58f)]());}async[a0_0x5bdda6(0x18f)](_0x498508,_0x31a9cb){const _0x2e6d5a=a0_0x5bdda6;let _0x36985e=_0x498508[_0x2e6d5a(0x576)][_0x2e6d5a(0x362)](_0x494856=>_0x494856[_0x2e6d5a(0x38a)]['toString']()===_0x31a9cb[_0x2e6d5a(0x69d)][_0x2e6d5a(0x38a)]['toString']());if(_0x36985e===-0x1){this[_0x2e6d5a(0x37b)](_0x2e6d5a(0x2dc)+_0x31a9cb[_0x2e6d5a(0x69d)][_0x2e6d5a(0x38a)]+_0x2e6d5a(0x69b));return;}for(let _0x28972d in _0x31a9cb[_0x2e6d5a(0x69d)])_0x31a9cb[_0x2e6d5a(0x69d)][_0x2e6d5a(0x35f)](_0x28972d)&&(_0x498508[_0x2e6d5a(0x576)][_0x36985e][_0x28972d]=_0x31a9cb['replyOption'][_0x28972d]);}['addReplyOption'](_0x3877c0,_0x241164){const _0x3be19f=a0_0x5bdda6;_0x3877c0[_0x3be19f(0x576)][_0x3be19f(0x711)](_0x241164[_0x3be19f(0x69d)]);}async['editFlowGroup'](_0x55cd4e,_0x2bfc39){const _0xb4c345=a0_0x5bdda6;let _0x558c73=_0x55cd4e?.[_0xb4c345(0x2b5)][_0xb4c345(0x7bc)]()===_0xb4c345(0x6d7)?_0xb4c345(0x2b5):this['instance']['wuid'];this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0xb4c345(0x20d)]+_0xb4c345(0x6c1)+_0x558c73+_0xb4c345(0x26d)+_0x2bfc39+',\x20data:\x20'+JSON[_0xb4c345(0x5b8)](_0x55cd4e,null,0x2));try{this['logger'][_0xb4c345(0x1f6)](this[_0xb4c345(0x7eb)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x364f7a=await this[_0xb4c345(0x320)]['flow'][_0xb4c345(0x28c)]({'where':{'name':_0x55cd4e[_0xb4c345(0x63e)]}},_0x558c73);if(!_0x364f7a)throw this[_0xb4c345(0x34c)][_0xb4c345(0x1f6)](this[_0xb4c345(0x7eb)]+'\x20('+this[_0xb4c345(0x32b)][_0xb4c345(0x20d)]+'):\x20Flow\x20não\x20encontrado'),new Error(_0xb4c345(0x402));if(_0x364f7a?.['global']==='sync')throw this[_0xb4c345(0x34c)][_0xb4c345(0x1f6)](this['instanceName']+'\x20('+this[_0xb4c345(0x32b)]['wuid']+'):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.'),new m(_0xb4c345(0x7e0));if(_0x2bfc39!==te&&_0x364f7a?.[_0xb4c345(0x2b5)]==='true'&&_0x364f7a?.[_0xb4c345(0x7cf)]!==this['instance'][_0xb4c345(0x20d)])throw this['logger'][_0xb4c345(0x1f6)](this[_0xb4c345(0x7eb)]+'\x20('+this['instance'][_0xb4c345(0x20d)]+'):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.'),new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x55cd4e[_0xb4c345(0x3c2)]&&_0x55cd4e[_0xb4c345(0x3c2)]?.[_0xb4c345(0x469)]===!0x0){if(this[_0xb4c345(0x34c)][_0xb4c345(0x1f6)](this[_0xb4c345(0x7eb)]+'\x20('+this['instance'][_0xb4c345(0x20d)]+_0xb4c345(0x4da)),_0x55cd4e[_0xb4c345(0x3c2)][_0xb4c345(0x79b)]===!0x0)return{'message':_0xb4c345(0x3cf)};if(_0x364f7a[_0xb4c345(0x82f)][_0xb4c345(0x4d1)](_0x47021a=>_0x47021a['groupId'][_0xb4c345(0x58f)]()===_0x55cd4e[_0xb4c345(0x3c2)][_0xb4c345(0x38a)]))return this['logger'][_0xb4c345(0x1f6)](this[_0xb4c345(0x7eb)]+'\x20('+this['instance'][_0xb4c345(0x20d)]+'):\x20tem\x20blocks'),{'message':_0xb4c345(0x4b8)};_0x364f7a['groups']=_0x364f7a['groups'][_0xb4c345(0x539)](_0x1655c7=>_0x1655c7[_0xb4c345(0x38a)][_0xb4c345(0x58f)]()!==_0x55cd4e[_0xb4c345(0x3c2)][_0xb4c345(0x38a)]);}else{if(_0x55cd4e[_0xb4c345(0x3c2)]){if(_0x55cd4e[_0xb4c345(0x3c2)][_0xb4c345(0x79b)]===!0x0)return{'message':_0xb4c345(0x4ec)};if(_0x55cd4e['group'][_0xb4c345(0x38a)]){let _0x169a48=_0x364f7a[_0xb4c345(0x4fa)][_0xb4c345(0x2b1)](_0x54c390=>_0x54c390[_0xb4c345(0x38a)]['toString']()===_0x55cd4e[_0xb4c345(0x3c2)]['_id']);_0x169a48&&(_0x55cd4e[_0xb4c345(0x3c2)]['x']<0x0&&(_0x55cd4e[_0xb4c345(0x3c2)]['x']=0x0),_0x55cd4e[_0xb4c345(0x3c2)]['y']<0x0&&(_0x55cd4e[_0xb4c345(0x3c2)]['y']=0x0),Object[_0xb4c345(0x6d2)](_0x169a48,_0x55cd4e[_0xb4c345(0x3c2)]));}else _0x364f7a[_0xb4c345(0x4fa)][_0xb4c345(0x711)](_0x55cd4e[_0xb4c345(0x3c2)]);}}let _0x3f4d52=await this['repository'][_0xb4c345(0x5a0)][_0xb4c345(0x31c)](_0x364f7a[_0xb4c345(0x38a)],_0x364f7a,_0x558c73);if(_0x3f4d52&&_0x3f4d52[_0xb4c345(0x1e6)]&&_0x3f4d52[_0xb4c345(0x1e6)][_0xb4c345(0x29b)]>0x1&&_0x3f4d52[_0xb4c345(0x2b5)]!==_0xb4c345(0x716)&&this[_0xb4c345(0x506)](_0x3f4d52[_0xb4c345(0x38a)],_0x558c73),!_0x3f4d52)throw new Error(_0xb4c345(0x470));return _0x3f4d52;}catch(_0x16d212){let _0x2323e0='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x5a1203=_0x16d212 instanceof Error?_0x16d212[_0xb4c345(0x1f1)]:typeof _0x16d212==_0xb4c345(0x53a)?JSON[_0xb4c345(0x5b8)](_0x16d212):_0x16d212,_0xa00e5f=_0x2323e0+':\x20'+_0x5a1203;throw this[_0xb4c345(0x34c)][_0xb4c345(0x83d)](this[_0xb4c345(0x7eb)]+'\x20('+this['instance']['wuid']+'):\x20'+_0xa00e5f),new m(_0xa00e5f);}}async[a0_0x5bdda6(0x296)](_0x15930a,_0x54eaab){const _0x38ec14=a0_0x5bdda6;try{this['logger'][_0x38ec14(0x1f6)](this['instanceName']+'\x20('+this[_0x38ec14(0x32b)][_0x38ec14(0x20d)]+_0x38ec14(0x627));let _0x12b9ec=_0x15930a?.[_0x38ec14(0x2b5)]['trim']()===_0x38ec14(0x6d7)?_0x38ec14(0x2b5):this[_0x38ec14(0x32b)][_0x38ec14(0x20d)],_0x59ce86=await this[_0x38ec14(0x320)]['flow']['findOne']({'where':{'name':_0x15930a[_0x38ec14(0x63e)]}},_0x12b9ec);if(!_0x59ce86)throw new Error('Flow\x20não\x20encontrado');if(_0x59ce86?.[_0x38ec14(0x2b5)]==='sync')throw new m(_0x38ec14(0x7d2));if(_0x54eaab!==te&&_0x59ce86?.[_0x38ec14(0x2b5)]===_0x38ec14(0x6d7)&&_0x59ce86?.[_0x38ec14(0x7cf)]!==this[_0x38ec14(0x32b)][_0x38ec14(0x20d)])throw new m(_0x38ec14(0x293));let _0x14c51b=!0x1;if(_0x15930a[_0x38ec14(0x5ab)]?.['delete']===!0x0)_0x59ce86[_0x38ec14(0x544)]=_0x59ce86[_0x38ec14(0x544)]['filter'](_0x1dceef=>_0x1dceef&&_0x15930a[_0x38ec14(0x5ab)]&&_0x1dceef['_id']&&_0x15930a[_0x38ec14(0x5ab)][_0x38ec14(0x38a)]&&_0x1dceef[_0x38ec14(0x38a)][_0x38ec14(0x58f)]()!==_0x15930a[_0x38ec14(0x5ab)][_0x38ec14(0x38a)][_0x38ec14(0x58f)]()),_0x14c51b=!0x0;else{let _0x55f58e=_0x59ce86['conditions']['find'](_0x45bfc1=>_0x45bfc1&&_0x15930a[_0x38ec14(0x5ab)]&&_0x45bfc1[_0x38ec14(0x38a)]&&_0x15930a[_0x38ec14(0x5ab)][_0x38ec14(0x38a)]&&_0x45bfc1[_0x38ec14(0x38a)][_0x38ec14(0x58f)]()===_0x15930a[_0x38ec14(0x5ab)][_0x38ec14(0x38a)][_0x38ec14(0x58f)]());_0x55f58e?(_0x14c51b=_0x55f58e[_0x38ec14(0x53c)]!==_0x15930a[_0x38ec14(0x5ab)][_0x38ec14(0x53c)],Object[_0x38ec14(0x6d2)](_0x55f58e,_0x15930a['condition'])):(_0x59ce86[_0x38ec14(0x544)][_0x38ec14(0x711)](_0x15930a[_0x38ec14(0x5ab)]),_0x14c51b=!0x0);}if(_0x14c51b){_0x59ce86[_0x38ec14(0x544)]['sort']((_0x236bc3,_0x3bab95)=>_0x236bc3[_0x38ec14(0x53c)]>_0x3bab95[_0x38ec14(0x53c)]?0x1:_0x3bab95[_0x38ec14(0x53c)]>_0x236bc3[_0x38ec14(0x53c)]?-0x1:0x0);for(let _0x1684df=0x0;_0x1684df<_0x59ce86[_0x38ec14(0x544)][_0x38ec14(0x29b)];_0x1684df++)_0x59ce86[_0x38ec14(0x544)][_0x1684df][_0x38ec14(0x53c)]=_0x1684df+0x1;_0x59ce86['conditions'][_0x38ec14(0x29b)]>0x0&&(_0x59ce86[_0x38ec14(0x544)][0x0]['OrAnd']=_0x38ec14(0x2f5));}let _0x39b441=await this['repository'][_0x38ec14(0x5a0)][_0x38ec14(0x31c)](_0x59ce86[_0x38ec14(0x38a)],_0x59ce86,_0x12b9ec);if(_0x39b441&&_0x39b441[_0x38ec14(0x1e6)]&&_0x39b441[_0x38ec14(0x1e6)][_0x38ec14(0x29b)]>0x1&&_0x39b441[_0x38ec14(0x2b5)]!==_0x38ec14(0x716)&&this[_0x38ec14(0x506)](_0x39b441[_0x38ec14(0x38a)],_0x12b9ec),!_0x39b441)throw new Error(_0x38ec14(0x470));return _0x39b441;}catch(_0x25fbbc){let _0x43f140=_0x38ec14(0x36a),_0x12e8f0=_0x25fbbc instanceof Error?_0x25fbbc['message']:typeof _0x25fbbc==_0x38ec14(0x53a)?JSON[_0x38ec14(0x5b8)](_0x25fbbc):_0x25fbbc,_0x114638=_0x43f140+':\x20'+_0x12e8f0;throw this['logger'][_0x38ec14(0x83d)](this[_0x38ec14(0x7eb)]+'\x20('+this['instance']['wuid']+_0x38ec14(0x413)+_0x114638),new m(_0x114638);}}async[a0_0x5bdda6(0x7cd)](_0x1b4a10,_0x157f6b){const _0x260463=a0_0x5bdda6;try{this['logger'][_0x260463(0x1f6)](this['instanceName']+'\x20('+this[_0x260463(0x32b)][_0x260463(0x20d)]+_0x260463(0x368));let _0xd74bab=_0x1b4a10?.[_0x260463(0x2b5)][_0x260463(0x7bc)]()===_0x260463(0x6d7)?_0x260463(0x2b5):this[_0x260463(0x32b)]['wuid'],_0x324c1f=await this[_0x260463(0x320)][_0x260463(0x5a0)]['findOne']({'where':{'name':_0x1b4a10[_0x260463(0x63e)]}},_0xd74bab);if(!_0x324c1f)throw new Error(_0x260463(0x402));if(_0x324c1f?.[_0x260463(0x2b5)]==='sync')throw new m(_0x260463(0x7d2));if(_0x157f6b!==te&&_0x324c1f?.[_0x260463(0x2b5)]==='true'&&_0x324c1f?.[_0x260463(0x7cf)]!==this['instance'][_0x260463(0x20d)])throw new m(_0x260463(0x293));let _0x5a5330=!0x1;if(_0x1b4a10['varedit']?.['delete']===!0x0)_0x324c1f['varedits']=_0x324c1f[_0x260463(0x813)][_0x260463(0x539)](_0x1ee8f1=>_0x1ee8f1&&_0x1b4a10['varedit']&&_0x1ee8f1['_id']&&_0x1b4a10[_0x260463(0x39f)][_0x260463(0x38a)]&&_0x1ee8f1['_id']['toString']()!==_0x1b4a10['varedit'][_0x260463(0x38a)][_0x260463(0x58f)]()),_0x5a5330=!0x0;else{let _0x3833dc=_0x324c1f['varedits'][_0x260463(0x2b1)](_0x6c34e2=>_0x6c34e2&&_0x1b4a10[_0x260463(0x39f)]&&_0x6c34e2[_0x260463(0x38a)]&&_0x1b4a10[_0x260463(0x39f)][_0x260463(0x38a)]&&_0x6c34e2[_0x260463(0x38a)]['toString']()===_0x1b4a10[_0x260463(0x39f)][_0x260463(0x38a)][_0x260463(0x58f)]());_0x3833dc?(_0x5a5330=_0x3833dc['order']!==_0x1b4a10['varedit']['order'],Object['assign'](_0x3833dc,_0x1b4a10[_0x260463(0x39f)])):(_0x324c1f[_0x260463(0x813)][_0x260463(0x711)](_0x1b4a10['varedit']),_0x5a5330=!0x0);}if(_0x5a5330){_0x324c1f[_0x260463(0x813)]['sort']((_0x5f2886,_0x1f7351)=>_0x5f2886['order']>_0x1f7351[_0x260463(0x53c)]?0x1:_0x1f7351[_0x260463(0x53c)]>_0x5f2886['order']?-0x1:0x0);for(let _0x20cf4a=0x0;_0x20cf4a<_0x324c1f['varedits'][_0x260463(0x29b)];_0x20cf4a++)_0x324c1f[_0x260463(0x813)][_0x20cf4a][_0x260463(0x53c)]=_0x20cf4a+0x1;}let _0x47ffbe=await this[_0x260463(0x320)][_0x260463(0x5a0)][_0x260463(0x31c)](_0x324c1f[_0x260463(0x38a)],_0x324c1f,_0xd74bab);if(_0x47ffbe&&_0x47ffbe[_0x260463(0x1e6)]&&_0x47ffbe[_0x260463(0x1e6)][_0x260463(0x29b)]>0x1&&_0x47ffbe[_0x260463(0x2b5)]!==_0x260463(0x716)&&this[_0x260463(0x506)](_0x47ffbe['_id'],_0xd74bab),!_0x47ffbe)throw new Error(_0x260463(0x470));return _0x47ffbe;}catch(_0x49f01d){let _0x2b0ebf=_0x260463(0x36a),_0x10296c=_0x49f01d instanceof Error?_0x49f01d['message']:typeof _0x49f01d=='object'?JSON[_0x260463(0x5b8)](_0x49f01d):_0x49f01d,_0x429979=_0x2b0ebf+':\x20'+_0x10296c;throw this['logger']['error'](this[_0x260463(0x7eb)]+'\x20('+this[_0x260463(0x32b)][_0x260463(0x20d)]+_0x260463(0x413)+_0x429979),new m(_0x429979);}}async[a0_0x5bdda6(0x12f)](_0x1d0ebe,_0x17e31a){const _0x2dd0be=a0_0x5bdda6;try{this[_0x2dd0be(0x34c)][_0x2dd0be(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x2dd0be(0x20d)]+_0x2dd0be(0x19a));let _0xf7f79f=_0x1d0ebe?.[_0x2dd0be(0x2b5)]['trim']()==='true'?'global':this[_0x2dd0be(0x32b)]['wuid'],_0x477eb4=await this['repository'][_0x2dd0be(0x5a0)][_0x2dd0be(0x28c)]({'where':{'name':_0x1d0ebe[_0x2dd0be(0x63e)]}},_0xf7f79f);if(!_0x477eb4)throw new Error('Flow\x20não\x20encontrado');if(_0x477eb4?.[_0x2dd0be(0x2b5)]===_0x2dd0be(0x716))throw new m(_0x2dd0be(0x7d2));if(_0x17e31a!==te&&_0x477eb4?.[_0x2dd0be(0x2b5)]==='true'&&_0x477eb4?.[_0x2dd0be(0x7cf)]!==this[_0x2dd0be(0x32b)][_0x2dd0be(0x20d)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');if(_0x17e31a!==te&&_0x477eb4?.[_0x2dd0be(0x2b5)]===_0x2dd0be(0x6d7)&&_0x477eb4?.[_0x2dd0be(0x7cf)]!==this['instance'][_0x2dd0be(0x20d)])throw new m(_0x2dd0be(0x293));_0x1d0ebe[_0x2dd0be(0x51e)]['name']=_0x1d0ebe[_0x2dd0be(0x51e)]['name'][_0x2dd0be(0x7bc)](),_0x1d0ebe[_0x2dd0be(0x51e)][_0x2dd0be(0x63e)][_0x2dd0be(0x15d)]('_')&&(_0x1d0ebe['variable'][_0x2dd0be(0x63e)]=_0x1d0ebe['variable'][_0x2dd0be(0x63e)]['substring'](0x1)),_0x1d0ebe['variable']['name']=_0x1d0ebe['variable'][_0x2dd0be(0x63e)]['trim']();let _0x4a6466=_0x477eb4['variables'][_0x2dd0be(0x2b1)](_0x1a3f2a=>_0x1a3f2a[_0x2dd0be(0x63e)]===_0x1d0ebe[_0x2dd0be(0x51e)][_0x2dd0be(0x63e)]);if(_0x4a6466?.['leadInfo']===!0x0)throw new Error(_0x2dd0be(0x6ef));if(_0x1d0ebe[_0x2dd0be(0x51e)]?.['delete']===!0x0){if(!_0x4a6466)return{'message':_0x2dd0be(0x3fb)};_0x477eb4[_0x2dd0be(0x650)]=_0x477eb4[_0x2dd0be(0x650)][_0x2dd0be(0x539)](_0x32ab05=>_0x32ab05[_0x2dd0be(0x63e)]!==_0x1d0ebe[_0x2dd0be(0x51e)][_0x2dd0be(0x63e)]);}else _0x4a6466?Object[_0x2dd0be(0x6d2)](_0x4a6466,_0x1d0ebe['variable']):_0x477eb4['variables'][_0x2dd0be(0x711)](_0x1d0ebe[_0x2dd0be(0x51e)]);let _0x97b43f=await this[_0x2dd0be(0x320)][_0x2dd0be(0x5a0)][_0x2dd0be(0x31c)](_0x477eb4['_id'],_0x477eb4,_0xf7f79f);if(_0x97b43f&&_0x97b43f[_0x2dd0be(0x1e6)]&&_0x97b43f[_0x2dd0be(0x1e6)]['length']>0x1&&_0x97b43f['global']!==_0x2dd0be(0x716)&&this[_0x2dd0be(0x506)](_0x97b43f[_0x2dd0be(0x38a)],_0xf7f79f),!_0x97b43f)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x97b43f;}catch(_0x5ef6b4){let _0x291f9a=_0x2dd0be(0x385),_0x4039f1=_0x5ef6b4 instanceof Error?_0x5ef6b4['message']:typeof _0x5ef6b4==_0x2dd0be(0x53a)?JSON[_0x2dd0be(0x5b8)](_0x5ef6b4):_0x5ef6b4,_0x75c48=_0x291f9a+':\x20'+_0x4039f1;throw this[_0x2dd0be(0x34c)]['error'](this[_0x2dd0be(0x7eb)]+'\x20('+this[_0x2dd0be(0x32b)][_0x2dd0be(0x20d)]+'):\x20'+_0x75c48),new m(_0x75c48);}}async[a0_0x5bdda6(0x56f)](_0x400da3){const _0x508a9c=a0_0x5bdda6;let _0x3478b3=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x508a9c(0x200)])throw new m(_0x508a9c(0x7c9));this[_0x508a9c(0x34c)][_0x508a9c(0x1f6)](this[_0x508a9c(0x7eb)]+'\x20('+this[_0x508a9c(0x32b)]['wuid']+'):\x20Iniciando\x20bot...');let _0x44f41f=(await this[_0x508a9c(0x3db)]({'numbers':[_0x400da3['remoteJid']]}))[0x0];if(!_0x44f41f[_0x508a9c(0x2d9)]&&!(0x0,f[_0x508a9c(0x464)])(_0x44f41f['jid'])&&!_0x44f41f[_0x508a9c(0x518)][_0x508a9c(0x71f)](_0x508a9c(0x3fd)))throw _0x3478b3=JSON['stringify'](_0x44f41f,null,0x2),new m(_0x44f41f);let _0x8a517c=await this[_0x508a9c(0x320)]['flow'][_0x508a9c(0x28c)]({'where':{'name':_0x400da3[_0x508a9c(0x63e)]}},this[_0x508a9c(0x32b)]['wuid']);if(!_0x8a517c)return this[_0x508a9c(0x34c)][_0x508a9c(0x83d)](this[_0x508a9c(0x7eb)]+'\x20('+this[_0x508a9c(0x32b)]['wuid']+_0x508a9c(0x7fa)),{'message':_0x508a9c(0x402)};let _0x30450d=await this[_0x508a9c(0x74a)](_0x8a517c,_0x44f41f[_0x508a9c(0x518)],_0x400da3[_0x508a9c(0x3cc)]);if(_0x30450d){this['logger'][_0x508a9c(0x1f6)](this['instanceName']+'\x20('+this[_0x508a9c(0x32b)][_0x508a9c(0x20d)]+_0x508a9c(0x232));let _0x5bd979=await this['NextBlock'](_0x30450d);return _0x5bd979&&await this[_0x508a9c(0x4ee)](_0x30450d,_0x5bd979),{'message':_0x508a9c(0x337)+_0x400da3[_0x508a9c(0x4c8)]};}}catch(_0x547348){if(this[_0x508a9c(0x34c)][_0x508a9c(0x83d)](this[_0x508a9c(0x7eb)]+'\x20('+this[_0x508a9c(0x32b)][_0x508a9c(0x20d)]+_0x508a9c(0x3ac)+(_0x547348 instanceof Error?_0x547348[_0x508a9c(0x1f1)]:JSON[_0x508a9c(0x5b8)](_0x547348,null,0x2))),_0x3478b3=_0x547348 instanceof Error?_0x547348['message']:JSON[_0x508a9c(0x5b8)](_0x547348,null,0x2),_0x3478b3)throw new m(_0x508a9c(0x338)+_0x3478b3);}}async[a0_0x5bdda6(0x185)](_0x54b07d,_0x5d179f,_0x335e30){const _0x58f1aa=a0_0x5bdda6;let _0x22589c=null;try{if(!this[_0x58f1aa(0x749)]?.[_0x58f1aa(0x122)]['enabled'])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x58f1aa(0x34c)]['verbose'](this[_0x58f1aa(0x7eb)]+'\x20('+this[_0x58f1aa(0x32b)][_0x58f1aa(0x20d)]+'):\x20Iniciando\x20bot...'),_0x5d179f){let _0x45c38b=(await this[_0x58f1aa(0x3db)]({'numbers':[_0x5d179f]}))[0x0];if(!_0x45c38b[_0x58f1aa(0x2d9)]&&!(0x0,f[_0x58f1aa(0x464)])(_0x45c38b[_0x58f1aa(0x518)])&&!_0x45c38b[_0x58f1aa(0x518)][_0x58f1aa(0x71f)](_0x58f1aa(0x3fd)))throw _0x22589c=JSON[_0x58f1aa(0x5b8)](_0x45c38b,null,0x2),new m(_0x45c38b);_0x5d179f=_0x45c38b[_0x58f1aa(0x518)];}else _0x5d179f||(_0x5d179f=(0x0,Ce['v4'])());let _0x44f1bc=await this['repository'][_0x58f1aa(0x5a0)][_0x58f1aa(0x28c)]({'where':{'startID':_0x54b07d}},this[_0x58f1aa(0x32b)][_0x58f1aa(0x20d)]);if(!_0x44f1bc)throw this['logger'][_0x58f1aa(0x83d)](this[_0x58f1aa(0x7eb)]+'\x20('+this[_0x58f1aa(0x32b)][_0x58f1aa(0x20d)]+_0x58f1aa(0x7fa)),new m(_0x58f1aa(0x402));let _0x2997aa=await this[_0x58f1aa(0x74a)](_0x44f1bc,_0x5d179f,null);if(_0x2997aa){this['logger'][_0x58f1aa(0x1f6)](this['instanceName']+'\x20('+this[_0x58f1aa(0x32b)]['wuid']+_0x58f1aa(0x6c7));let _0x3d3c28;if(_0x335e30){let _0x50c5d1=_0x2997aa[_0x58f1aa(0x3d0)][_0x58f1aa(0x267)],_0x330869=this[_0x58f1aa(0x7b3)](_0x335e30);Object['assign'](_0x50c5d1,_0x330869),_0x2997aa[_0x58f1aa(0x3d0)][_0x58f1aa(0x267)]=_0x50c5d1,_0x3d3c28={'error':!0x1,'apiResponse':_0x335e30};}let _0x464504=await this[_0x58f1aa(0x65a)](_0x2997aa);return _0x464504&&await this[_0x58f1aa(0x4ee)](_0x2997aa,_0x464504),{'message':_0x58f1aa(0x618)};}}catch(_0x3b76eb){if(this[_0x58f1aa(0x34c)][_0x58f1aa(0x83d)](this[_0x58f1aa(0x7eb)]+'\x20('+this['instance'][_0x58f1aa(0x20d)]+_0x58f1aa(0x3ac)+(_0x3b76eb instanceof Error?_0x3b76eb['message']:JSON[_0x58f1aa(0x5b8)](_0x3b76eb,null,0x2))),_0x22589c=_0x3b76eb instanceof Error?_0x3b76eb[_0x58f1aa(0x1f1)]:JSON['stringify'](_0x3b76eb,null,0x2),_0x22589c)throw new m(_0x58f1aa(0x338)+_0x22589c);}}async[a0_0x5bdda6(0x5b0)](_0x107271){const _0x419481=a0_0x5bdda6;try{let _0x25820c={'remoteJid':_0x107271,'status':_0x419481(0x41f)},_0x3b575e={'status':_0x419481(0x6e6)},_0x9142eb=await this[_0x419481(0x320)][_0x419481(0x795)][_0x419481(0x63a)](_0x25820c,_0x3b575e,this[_0x419481(0x32b)][_0x419481(0x20d)]);return this['logger']['verbose'](this[_0x419481(0x7eb)]+'\x20('+this[_0x419481(0x32b)]['wuid']+_0x419481(0x697)),_0x9142eb;}catch(_0x1dbf2c){throw this[_0x419481(0x34c)]['error'](this[_0x419481(0x7eb)]+'\x20('+this[_0x419481(0x32b)]['wuid']+_0x419481(0x123)+_0x1dbf2c[_0x419481(0x1f1)]),_0x1dbf2c;}}async[a0_0x5bdda6(0x74a)](_0x3201b4,_0x3a57c7,_0x53e2a1){const _0x169b4f=a0_0x5bdda6;this[_0x169b4f(0x34c)][_0x169b4f(0x1f6)](this[_0x169b4f(0x7eb)]+'\x20('+this[_0x169b4f(0x32b)][_0x169b4f(0x20d)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0x3a57c7);try{let _0x140924=require(_0x169b4f(0x583))[_0x169b4f(0x693)],_0x86b6b=Date[_0x169b4f(0x71b)](),_0x4e11b3=_0x169b4f(0x623),_0x47318b={},_0x5d2aaf={},_0x385ac7={..._0x3201b4,'chatLog':null},_0x31e01e=await this[_0x169b4f(0x3c9)](_0x385ac7[_0x169b4f(0x650)]),_0x3af55d=await this[_0x169b4f(0x2b8)](_0x3a57c7),_0x28a763={..._0x31e01e,..._0x3af55d,'_remoteJid':_0x3a57c7},_0x5b7629={'lastReceivedMessage':_0x47318b,'lastSendMessage':_0x5d2aaf,'lastBlockId':_0x4e11b3,'lastCondition':!0x0,'realVariables':_0x28a763};_0x385ac7[_0x169b4f(0x3d0)]=_0x5b7629,_0x385ac7[_0x169b4f(0x3d0)][_0x169b4f(0x267)]={..._0x28a763,..._0x53e2a1},delete _0x385ac7[_0x169b4f(0x38a)],_0x385ac7['_id']=new _0x140924(),_0x385ac7[_0x169b4f(0x798)]=_0x86b6b,_0x385ac7['status']=_0x169b4f(0x41f),_0x385ac7[_0x169b4f(0x4c8)]=_0x3a57c7;let _0x433c42=await this['repository'][_0x169b4f(0x795)][_0x169b4f(0x31c)](_0x385ac7['_id'],_0x385ac7,this[_0x169b4f(0x32b)][_0x169b4f(0x20d)]);return this['logger'][_0x169b4f(0x1f6)](this[_0x169b4f(0x7eb)]+'\x20('+this[_0x169b4f(0x32b)]['wuid']+_0x169b4f(0x55f)),_0x433c42?_0x385ac7:null;}catch(_0x38024f){let _0x15d80e='Erro\x20ao\x20copiar\x20o\x20documento',_0x398f30=_0x38024f instanceof Error?_0x38024f[_0x169b4f(0x1f1)]:typeof _0x38024f==_0x169b4f(0x53a)?JSON[_0x169b4f(0x5b8)](_0x38024f):_0x38024f,_0x5457fa=_0x15d80e+':\x20'+_0x398f30;throw this[_0x169b4f(0x34c)][_0x169b4f(0x83d)](this[_0x169b4f(0x7eb)]+'\x20('+this[_0x169b4f(0x32b)]['wuid']+_0x169b4f(0x413)+_0x5457fa),new m(_0x5457fa);}}async[a0_0x5bdda6(0x653)](_0x351a21){const _0x219fb0=a0_0x5bdda6;try{this[_0x219fb0(0x34c)]['verbose'](this[_0x219fb0(0x7eb)]+'\x20('+this['instance'][_0x219fb0(0x20d)]+_0x219fb0(0x549)),this[_0x219fb0(0x34c)][_0x219fb0(0x1f6)](this[_0x219fb0(0x7eb)]+'\x20('+this[_0x219fb0(0x32b)][_0x219fb0(0x20d)]+_0x219fb0(0x535)+_0x351a21);let _0x539fee={'where':{'_id':_0x351a21}};return await this[_0x219fb0(0x320)][_0x219fb0(0x795)]['findOne'](_0x539fee,this['instance']['wuid']);}catch(_0x25bb29){let _0x42167f='Erro\x20ao\x20buscar\x20a\x20conversa',_0x43e999=_0x25bb29 instanceof Error?_0x25bb29['message']:typeof _0x25bb29==_0x219fb0(0x53a)?JSON[_0x219fb0(0x5b8)](_0x25bb29):_0x25bb29,_0x29e0e2=_0x42167f+':\x20'+_0x43e999;throw this['logger'][_0x219fb0(0x83d)](this[_0x219fb0(0x7eb)]+'\x20('+this['instance'][_0x219fb0(0x20d)]+_0x219fb0(0x413)+_0x29e0e2),new m(_0x29e0e2);}}async['fetchConversation'](_0x390215){const _0x2fbe58=a0_0x5bdda6;try{return this[_0x2fbe58(0x34c)]['verbose'](this[_0x2fbe58(0x7eb)]+'\x20('+this[_0x2fbe58(0x32b)]['wuid']+_0x2fbe58(0x145)),await this[_0x2fbe58(0x320)][_0x2fbe58(0x795)][_0x2fbe58(0x2b1)](_0x390215,this[_0x2fbe58(0x32b)][_0x2fbe58(0x20d)]);}catch(_0xc5ec87){let _0x79364b=_0x2fbe58(0x692),_0x3bfa78=_0xc5ec87 instanceof Error?_0xc5ec87[_0x2fbe58(0x1f1)]:typeof _0xc5ec87=='object'?JSON['stringify'](_0xc5ec87):_0xc5ec87,_0x25fabb=_0x79364b+':\x20'+_0x3bfa78;throw this[_0x2fbe58(0x34c)][_0x2fbe58(0x83d)](this['instanceName']+'\x20('+this[_0x2fbe58(0x32b)][_0x2fbe58(0x20d)]+_0x2fbe58(0x413)+_0x25fabb),new m(_0x25fabb);}}async[a0_0x5bdda6(0x5e6)](_0x33b834){const _0xfd7c8a=a0_0x5bdda6;try{return this[_0xfd7c8a(0x34c)]['verbose'](this[_0xfd7c8a(0x7eb)]+'\x20('+this[_0xfd7c8a(0x32b)][_0xfd7c8a(0x20d)]+_0xfd7c8a(0x434)),this[_0xfd7c8a(0x34c)][_0xfd7c8a(0x1f6)](this[_0xfd7c8a(0x7eb)]+'\x20('+this[_0xfd7c8a(0x32b)][_0xfd7c8a(0x20d)]+'):\x20Query\x20params:'+_0x33b834),(await this[_0xfd7c8a(0x320)][_0xfd7c8a(0x795)]['deleteOne']({'where':{'_id':_0x33b834[_0xfd7c8a(0x38a)]}},this[_0xfd7c8a(0x32b)]['wuid']))[_0xfd7c8a(0x47c)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x45a45){let _0x2bd398=_0xfd7c8a(0x75a),_0x3d723d=_0x45a45 instanceof Error?_0x45a45[_0xfd7c8a(0x1f1)]:typeof _0x45a45==_0xfd7c8a(0x53a)?JSON[_0xfd7c8a(0x5b8)](_0x45a45):_0x45a45,_0x338df9=_0x2bd398+':\x20'+_0x3d723d;throw this[_0xfd7c8a(0x34c)][_0xfd7c8a(0x83d)](this[_0xfd7c8a(0x7eb)]+'\x20('+this[_0xfd7c8a(0x32b)]['wuid']+_0xfd7c8a(0x413)+_0x338df9),new m(_0x338df9);}}async[a0_0x5bdda6(0x2db)](_0x2d4370){const _0x44d500=a0_0x5bdda6;try{let {_id:_0x47abe9,chatLog:_0x337ff8,status:_0x1401cc}=_0x2d4370;if(!_0x47abe9)return{'message':_0x44d500(0x759)};let _0x5a2582={};if(_0x1401cc!==void 0x0&&(_0x5a2582['status']=_0x1401cc),Object[_0x44d500(0x45d)](_0x5a2582)[_0x44d500(0x29b)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x252a4b=await this[_0x44d500(0x320)][_0x44d500(0x795)][_0x44d500(0x31c)](_0x47abe9,_0x5a2582,this[_0x44d500(0x32b)][_0x44d500(0x20d)]);return _0x252a4b||{'message':_0x44d500(0x341)};}catch(_0x1e0249){let _0x440072=_0x44d500(0x81f),_0x51dc96=_0x1e0249 instanceof Error?_0x1e0249[_0x44d500(0x1f1)]:typeof _0x1e0249=='object'?JSON[_0x44d500(0x5b8)](_0x1e0249):_0x1e0249,_0x528b34=_0x440072+':\x20'+_0x51dc96;throw this[_0x44d500(0x34c)][_0x44d500(0x83d)](this[_0x44d500(0x7eb)]+'\x20('+this[_0x44d500(0x32b)][_0x44d500(0x20d)]+_0x44d500(0x413)+_0x528b34),new m(_0x528b34);}}async[a0_0x5bdda6(0x2c4)](_0xd03021){const _0x4c002e=a0_0x5bdda6;try{_0xd03021['_id']=this[_0x4c002e(0x78e)](_0xd03021[_0x4c002e(0x38a)]);let _0x454b6b=await this[_0x4c002e(0x320)][_0x4c002e(0x638)]['findOne']({'where':{'_id':_0xd03021['_id']}},this['instance'][_0x4c002e(0x20d)]);if(!_0x454b6b)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x1dc51b,leadInfo:_0x3ac08e}=_0xd03021;if(!_0x1dc51b)throw new Error(_0x4c002e(0x5c0));if(_0xd03021['delete']==='all')return await this['deleteChat'](_0xd03021['_id']),await this[_0x4c002e(0x320)][_0x4c002e(0x638)][_0x4c002e(0x469)]({'where':{'_id':_0xd03021[_0x4c002e(0x38a)]}},this[_0x4c002e(0x32b)]['wuid']),await this['repository']['message']['delete']({'where':{'key':{'remoteJid':_0xd03021[_0x4c002e(0x38a)]}}},this[_0x4c002e(0x32b)][_0x4c002e(0x20d)]),_0xd03021=await this['repository'][_0x4c002e(0x638)][_0x4c002e(0x31c)]({'where':{'_id':_0xd03021[_0x4c002e(0x38a)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4c002e(0x32b)][_0x4c002e(0x20d)]),U(this['instanceName'],'chats',{'chat':_0xd03021}),{'message':_0x4c002e(0x443)};if(_0xd03021[_0x4c002e(0x469)]===_0x4c002e(0x60e))return await this[_0x4c002e(0x320)][_0x4c002e(0x1f1)][_0x4c002e(0x469)]({'where':{'key':{'remoteJid':_0xd03021[_0x4c002e(0x38a)]}}},this[_0x4c002e(0x32b)][_0x4c002e(0x20d)]),_0xd03021=await this[_0x4c002e(0x320)][_0x4c002e(0x638)]['updateOne']({'where':{'_id':_0xd03021[_0x4c002e(0x38a)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4c002e(0x32b)][_0x4c002e(0x20d)]),U(this['instanceName'],'chats',{'chat':_0xd03021}),{'message':_0x4c002e(0x721)};let _0x14a1f4=(_0x24a0d6,_0x2958ad,_0x4ec37a)=>{const _0x2d30c4=_0x4c002e;_0x24a0d6&&_0x4ec37a[_0x2d30c4(0x3a3)](_0x176454=>{const _0x511fef=_0x2d30c4;_0x24a0d6[_0x176454]!==void 0x0&&(_0x2958ad[_0x511fef(0x519)+_0x176454]=_0x24a0d6[_0x176454]);});},_0xa2d547={};if(_0x4c002e(0x4bb)in _0xd03021&&(this[_0x4c002e(0x34c)][_0x4c002e(0x1f6)](_0x4c002e(0x262)+_0xd03021[_0x4c002e(0x38a)]),_0xd03021[_0x4c002e(0x4bb)]=_0xd03021[_0x4c002e(0x4bb)]===0x0?null:-0x1,await this[_0x4c002e(0x249)][_0x4c002e(0x51d)]({'mute':_0xd03021[_0x4c002e(0x4bb)]},_0xd03021['_id']),_0xa2d547['muteEndTime']=Number(_0xd03021[_0x4c002e(0x4bb)])),_0x3ac08e&&(_0x14a1f4(_0x3ac08e,_0xa2d547,[_0x4c002e(0x4b9),_0x4c002e(0x34b),_0x4c002e(0x187),_0x4c002e(0x2f6),_0x4c002e(0x390),_0x4c002e(0x439),'tags',_0x4c002e(0x266),'responsavelid','etiquetas']),Array['isArray'](_0x3ac08e['customFields'])&&(_0xa2d547['leadInfo.customFields']=_0x3ac08e[_0x4c002e(0x450)][_0x4c002e(0x2b0)](_0x2cbc5e=>({'_id':_0x2cbc5e[_0x4c002e(0x38a)],'value':_0x2cbc5e[_0x4c002e(0x6a7)]}))),_0xd03021[_0x4c002e(0x120)][_0x4c002e(0x67c)]!==void 0x0)){let _0x554597=await this[_0x4c002e(0x320)][_0x4c002e(0x423)][_0x4c002e(0x2b1)]({'where':{}},this['instance'][_0x4c002e(0x20d)]),_0x880cb8=new Set(_0xd03021[_0x4c002e(0x120)][_0x4c002e(0x67c)]||[]),_0x2059a2=new Set(_0xd03021[_0x4c002e(0x120)][_0x4c002e(0x67c)]),_0x323d7c=new Set(_0x554597[_0x4c002e(0x2b0)](_0x448917=>_0x448917[_0x4c002e(0x38a)])),_0x20247b=[..._0x2059a2][_0x4c002e(0x539)](_0x335c67=>!_0x880cb8[_0x4c002e(0x2fc)](_0x335c67)&&_0x323d7c[_0x4c002e(0x2fc)](_0x335c67)),_0x46f078=[..._0x880cb8]['filter'](_0x4282c8=>!_0x2059a2[_0x4c002e(0x2fc)](_0x4282c8));if(_0xa2d547[_0x4c002e(0x452)]=[..._0x880cb8],_0x454b6b&&!_0x454b6b[_0x4c002e(0x280)]){for(let _0x18d1aa of _0x20247b)await this[_0x4c002e(0x248)](_0x18d1aa,_0xd03021[_0x4c002e(0x38a)]),_0x880cb8['add'](_0x18d1aa);for(let _0x307c1e of _0x46f078)await this[_0x4c002e(0x525)](_0x307c1e,_0xd03021[_0x4c002e(0x38a)]),_0x880cb8[_0x4c002e(0x469)](_0x307c1e);}}if(_0xd03021[_0x4c002e(0x6ae)]!==void 0x0&&(_0xa2d547[_0x4c002e(0x6ae)]=Number(_0xd03021[_0x4c002e(0x6ae)])),Object[_0x4c002e(0x45d)](_0xa2d547)['length']===0x0)throw new Error(_0x4c002e(0x2f3));let _0x4ed452=await this[_0x4c002e(0x320)]['chat'][_0x4c002e(0x31c)]({'where':{'_id':_0xd03021['_id']}},_0xa2d547,this['instance'][_0x4c002e(0x20d)]);return _0x4ed452&&U(this[_0x4c002e(0x7eb)],'chats',{'chat':_0x4ed452}),_0x4ed452?(this[_0x4c002e(0x34c)]['verbose'](this[_0x4c002e(0x7eb)]+'\x20('+this['instance']['wuid']+_0x4c002e(0x413)+JSON[_0x4c002e(0x5b8)](_0x4ed452,null,0x2)),_0x4ed452):{'message':_0x4c002e(0x5d1)};}catch(_0xa4aaca){let _0x4c9610=_0x4c002e(0x5d7),_0x2ce7c2=_0xa4aaca instanceof Error?_0xa4aaca['message']:typeof _0xa4aaca==_0x4c002e(0x53a)?JSON['stringify'](_0xa4aaca):_0xa4aaca,_0x4ebea5=_0x4c9610+':\x20'+_0x2ce7c2;throw this['logger'][_0x4c002e(0x83d)](this[_0x4c002e(0x7eb)]+'\x20('+this['instance'][_0x4c002e(0x20d)]+_0x4c002e(0x413)+_0x4ebea5),new m(_0x4ebea5);}}async['AddChatLabel'](_0x291a32,_0x150fb7){const _0x478059=a0_0x5bdda6;try{await this[_0x478059(0x249)][_0x478059(0x20f)](_0x150fb7,_0x291a32),this[_0x478059(0x34c)]['info'](this['instanceName']+'\x20('+this['instance'][_0x478059(0x20d)]+'):\x20Label\x20'+_0x291a32+_0x478059(0x75f)+_0x150fb7+_0x478059(0x31e));}catch(_0x5cd1bf){console[_0x478059(0x83d)](_0x478059(0x64b)+_0x291a32+_0x478059(0x13a)+_0x150fb7+':',_0x5cd1bf);}}async[a0_0x5bdda6(0x525)](_0xa0f8aa,_0x5e8093){const _0x545fcb=a0_0x5bdda6;try{await this[_0x545fcb(0x249)][_0x545fcb(0x700)](_0x5e8093,_0xa0f8aa),this[_0x545fcb(0x34c)][_0x545fcb(0x6a4)](this[_0x545fcb(0x7eb)]+'\x20('+this[_0x545fcb(0x32b)]['wuid']+_0x545fcb(0x447)+_0xa0f8aa+_0x545fcb(0x6c4)+_0x5e8093+_0x545fcb(0x31e));}catch(_0x48cdb0){console['error'](_0x545fcb(0x507)+_0xa0f8aa+_0x545fcb(0x52a)+_0x5e8093+':',_0x48cdb0);}}async[a0_0x5bdda6(0x28b)](_0x9defd3){const _0x446143=a0_0x5bdda6;try{let _0x22850f=await this[_0x446143(0x320)]['automateSystem'][_0x446143(0x819)](this['instance'][_0x446143(0x20d)]),_0x728e6c=_0x9defd3['_id']?_0x22850f[_0x446143(0x523)]['findIndex'](_0x548a79=>_0x548a79['_id']===_0x9defd3[_0x446143(0x38a)]):-0x1;if(_0x9defd3['delete']&&_0x728e6c>-0x1)_0x22850f[_0x446143(0x523)][_0x446143(0x15e)](_0x728e6c,0x1);else{if(_0x728e6c>-0x1){let _0xa86cfd=_0x22850f[_0x446143(0x523)][_0x728e6c];_0x9defd3[_0x446143(0x4a2)]&&(_0xa86cfd[_0x446143(0x4a2)]=_0x9defd3[_0x446143(0x4a2)]),_0x9defd3[_0x446143(0x63e)]&&(_0xa86cfd[_0x446143(0x63e)]=_0x9defd3['name']),_0x9defd3[_0x446143(0x187)]&&(_0xa86cfd['email']=_0x9defd3['email']),_0x9defd3['role']&&(_0xa86cfd['role']=_0x9defd3[_0x446143(0x16a)]);}else _0x22850f[_0x446143(0x523)][_0x446143(0x711)]({'_id':_0x9defd3[_0x446143(0x38a)]||new ie[(_0x446143(0x79b))][(_0x446143(0x51c))][(_0x446143(0x693))]()[_0x446143(0x58f)](),'fone':_0x9defd3[_0x446143(0x4a2)],'name':_0x9defd3[_0x446143(0x63e)],'email':_0x9defd3[_0x446143(0x187)],'role':_0x9defd3[_0x446143(0x16a)]});}let _0x36d99b={'agents':_0x22850f[_0x446143(0x523)]},_0x28c370=await this[_0x446143(0x320)][_0x446143(0x4cb)][_0x446143(0x674)](_0x36d99b,this[_0x446143(0x32b)]['wuid']);return this[_0x446143(0x749)]=_0x28c370,this[_0x446143(0x34c)][_0x446143(0x1f6)](this[_0x446143(0x7eb)]+'\x20('+this[_0x446143(0x32b)][_0x446143(0x20d)]+_0x446143(0x82e)),this[_0x446143(0x34c)][_0x446143(0x1f6)](this[_0x446143(0x7eb)]+'\x20('+this[_0x446143(0x32b)][_0x446143(0x20d)]+_0x446143(0x413)+this[_0x446143(0x749)]),_0x28c370;}catch(_0x1f053e){let _0x5a3103=_0x446143(0x29a),_0x169dcd=_0x1f053e instanceof Error?_0x1f053e[_0x446143(0x1f1)]:typeof _0x1f053e==_0x446143(0x53a)?JSON[_0x446143(0x5b8)](_0x1f053e):_0x1f053e,_0x50f098=_0x5a3103+':\x20'+_0x169dcd;throw this[_0x446143(0x34c)]['error'](this[_0x446143(0x7eb)]+'\x20('+this['instance'][_0x446143(0x20d)]+_0x446143(0x413)+_0x50f098),new m(_0x50f098);}}async[a0_0x5bdda6(0x77c)](_0xd83d66){const _0x3c076a=a0_0x5bdda6;try{let _0xd91068=await this[_0x3c076a(0x320)][_0x3c076a(0x4cb)][_0x3c076a(0x819)](this[_0x3c076a(0x32b)][_0x3c076a(0x20d)]),_0x4efc9a=_0xd83d66['_id']?_0xd91068[_0x3c076a(0x450)][_0x3c076a(0x362)](_0x24af43=>_0x24af43[_0x3c076a(0x38a)]===_0xd83d66[_0x3c076a(0x38a)]):-0x1,_0x33c67a=!0x1,_0x59e62e=_0xd91068['customFields'][_0x3c076a(0x4d1)](_0x50f0ba=>_0x50f0ba[_0x3c076a(0x53c)]===_0xd83d66['order']);if(_0xd83d66[_0x3c076a(0x469)]&&_0x4efc9a>-0x1)_0xd91068[_0x3c076a(0x450)][_0x3c076a(0x15e)](_0x4efc9a,0x1),_0x33c67a=!0x0;else{if(_0x4efc9a>-0x1){if(_0xd91068['customFields']['some'](_0x18477a=>_0x18477a[_0x3c076a(0x63e)]===_0xd83d66[_0x3c076a(0x63e)]&&_0x18477a[_0x3c076a(0x38a)]!==_0xd83d66[_0x3c076a(0x38a)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x4274ed=_0xd91068[_0x3c076a(0x450)][_0x4efc9a];_0xd83d66['order']&&(_0x59e62e||!Number[_0x3c076a(0x6d4)](_0xd83d66[_0x3c076a(0x53c)]))&&(_0x4274ed[_0x3c076a(0x53c)]=_0xd83d66['order'],_0x33c67a=!0x0),_0xd83d66[_0x3c076a(0x63e)]&&(_0x4274ed[_0x3c076a(0x63e)]=_0xd83d66[_0x3c076a(0x63e)]);}else{if(_0xd91068[_0x3c076a(0x450)][_0x3c076a(0x4d1)](_0x4baba8=>_0x4baba8[_0x3c076a(0x63e)]===_0xd83d66[_0x3c076a(0x63e)]&&_0x4baba8[_0x3c076a(0x38a)]!==_0xd83d66[_0x3c076a(0x38a)]))throw new Error(_0x3c076a(0x1af));_0xd91068[_0x3c076a(0x450)][_0x3c076a(0x711)]({'_id':_0xd83d66[_0x3c076a(0x38a)]||new ie[(_0x3c076a(0x79b))][(_0x3c076a(0x51c))][(_0x3c076a(0x693))]()[_0x3c076a(0x58f)](),'order':_0xd83d66[_0x3c076a(0x53c)],'name':_0xd83d66['name']}),_0x33c67a=!0x0;}}if(_0x33c67a){_0xd91068['customFields'][_0x3c076a(0x68a)]((_0x2451c0,_0x40fc13)=>_0x2451c0[_0x3c076a(0x53c)]>_0x40fc13[_0x3c076a(0x53c)]?0x1:_0x40fc13[_0x3c076a(0x53c)]>_0x2451c0[_0x3c076a(0x53c)]?-0x1:0x0);for(let _0x5e83bb=0x0;_0x5e83bb<_0xd91068[_0x3c076a(0x450)][_0x3c076a(0x29b)];_0x5e83bb++)_0xd91068[_0x3c076a(0x450)][_0x5e83bb][_0x3c076a(0x53c)]=_0x5e83bb+0x1;}let _0x10760a=await this[_0x3c076a(0x320)][_0x3c076a(0x4cb)][_0x3c076a(0x674)](_0xd91068,this[_0x3c076a(0x32b)][_0x3c076a(0x20d)]);return this[_0x3c076a(0x749)]=_0x10760a,this[_0x3c076a(0x34c)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3c076a(0x20d)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this['logger'][_0x3c076a(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x3c076a(0x20d)]+_0x3c076a(0x413)+this[_0x3c076a(0x749)]),_0x10760a;}catch(_0x8a9841){let _0x1b1571=_0x3c076a(0x6bb),_0x474209=_0x8a9841 instanceof Error?_0x8a9841[_0x3c076a(0x1f1)]:typeof _0x8a9841==_0x3c076a(0x53a)?JSON[_0x3c076a(0x5b8)](_0x8a9841):_0x8a9841,_0x5a688d=_0x1b1571+':\x20'+_0x474209;throw this[_0x3c076a(0x34c)][_0x3c076a(0x83d)](this[_0x3c076a(0x7eb)]+'\x20('+this['instance'][_0x3c076a(0x20d)]+'):\x20'+_0x5a688d),new m(_0x5a688d);}}async[a0_0x5bdda6(0x651)](_0x8ca35c){const _0x102bbe=a0_0x5bdda6;try{let _0x3106e8=await this['repository']['automateSystem'][_0x102bbe(0x819)](this[_0x102bbe(0x32b)][_0x102bbe(0x20d)]),_0x10f4d7=_0x3106e8?.['autoCompleteMessages']?.['findIndex'](_0x30ebad=>_0x30ebad[_0x102bbe(0x38a)]===_0x8ca35c?.[_0x102bbe(0x38a)]);if(_0x8ca35c?.['delete'])_0x10f4d7>-0x1&&_0x3106e8?.['autoCompleteMessages']?.[_0x102bbe(0x15e)](_0x10f4d7,0x1);else{if(_0x10f4d7>-0x1){let _0x2469f4=_0x3106e8[_0x102bbe(0x694)][_0x10f4d7];_0x2469f4[_0x102bbe(0x53c)]=_0x8ca35c?.[_0x102bbe(0x53c)]||_0x2469f4[_0x102bbe(0x53c)],_0x2469f4[_0x102bbe(0x2bc)]=_0x8ca35c?.[_0x102bbe(0x2bc)]||_0x2469f4['command'],_0x2469f4[_0x102bbe(0x1f1)]=_0x8ca35c?.[_0x102bbe(0x1f1)]||_0x2469f4[_0x102bbe(0x1f1)];}else{let _0x575871={'_id':_0x8ca35c?.['_id']||new ie[(_0x102bbe(0x79b))][(_0x102bbe(0x51c))][(_0x102bbe(0x693))]()[_0x102bbe(0x58f)](),'order':_0x8ca35c?.[_0x102bbe(0x53c)],'command':_0x8ca35c?.[_0x102bbe(0x2bc)],'message':_0x8ca35c?.['message']};_0x3106e8?.[_0x102bbe(0x694)]?.[_0x102bbe(0x711)](_0x575871);}}_0x3106e8?.['autoCompleteMessages']?.[_0x102bbe(0x68a)]((_0x2f8a94,_0x564ce9)=>_0x2f8a94[_0x102bbe(0x53c)]-_0x564ce9[_0x102bbe(0x53c)]);let _0x5d4564=await this[_0x102bbe(0x320)]['automateSystem'][_0x102bbe(0x674)](_0x3106e8,this[_0x102bbe(0x32b)][_0x102bbe(0x20d)]);return this['AutomateSystem']=_0x5d4564,this[_0x102bbe(0x34c)][_0x102bbe(0x1f6)](this[_0x102bbe(0x7eb)]+'\x20('+this['instance'][_0x102bbe(0x20d)]+_0x102bbe(0x4ba)),_0x5d4564;}catch(_0x1d0b24){let _0x39b84a=_0x102bbe(0x528),_0x5d3eaf=_0x1d0b24 instanceof Error?_0x1d0b24[_0x102bbe(0x1f1)]:typeof _0x1d0b24==_0x102bbe(0x53a)?JSON['stringify'](_0x1d0b24):_0x1d0b24,_0x3f8aac=_0x39b84a+':\x20'+_0x5d3eaf;throw this['logger']['error'](this[_0x102bbe(0x7eb)]+'\x20('+this[_0x102bbe(0x32b)][_0x102bbe(0x20d)]+'):\x20'+_0x3f8aac),new m(_0x3f8aac);}}async['updateFlowConfig'](_0x295497){const _0x3d137e=a0_0x5bdda6;try{let _0xe1dce3=await this['repository'][_0x3d137e(0x4cb)][_0x3d137e(0x819)](this[_0x3d137e(0x32b)][_0x3d137e(0x20d)]);if(!_0xe1dce3)throw new Error(_0x3d137e(0x40f));let _0x3f7ff0={'_id':_0xe1dce3[_0x3d137e(0x38a)],'flowConfig':{'enabled':_0x295497[_0x3d137e(0x200)]??_0xe1dce3[_0x3d137e(0x122)][_0x3d137e(0x200)],'ignoreGroups':_0x295497[_0x3d137e(0x1db)]??_0xe1dce3['flowConfig']['ignoreGroups'],'prefixCommand':_0x295497[_0x3d137e(0x554)]??_0xe1dce3[_0x3d137e(0x122)][_0x3d137e(0x554)],'stopConversation':_0x295497['stopConversation']??_0xe1dce3['flowConfig'][_0x3d137e(0x655)],'stopMinutes':_0x295497['stopMinutes']??_0xe1dce3[_0x3d137e(0x122)][_0x3d137e(0x65f)],'stopWhenYouSendMsg':_0x295497['stopWhenYouSendMsg']??_0xe1dce3[_0x3d137e(0x122)][_0x3d137e(0x3dc)]}},_0x2666f7=await this[_0x3d137e(0x320)]['automateSystem'][_0x3d137e(0x674)](_0x3f7ff0,this[_0x3d137e(0x32b)][_0x3d137e(0x20d)]);return this[_0x3d137e(0x749)]=_0x2666f7,this[_0x3d137e(0x34c)]['verbose'](this[_0x3d137e(0x7eb)]+'\x20('+this[_0x3d137e(0x32b)]['wuid']+_0x3d137e(0x82e)),this[_0x3d137e(0x34c)][_0x3d137e(0x1f6)](this[_0x3d137e(0x7eb)]+'\x20('+this[_0x3d137e(0x32b)][_0x3d137e(0x20d)]+_0x3d137e(0x413)+this[_0x3d137e(0x749)]),setTimeout(()=>this[_0x3d137e(0x7cb)](),0x7d0),_0x2666f7;}catch(_0x4eeffb){let _0x37593a=_0x3d137e(0x471),_0x96df12=_0x4eeffb instanceof Error?_0x4eeffb[_0x3d137e(0x1f1)]:typeof _0x4eeffb==_0x3d137e(0x53a)?JSON[_0x3d137e(0x5b8)](_0x4eeffb):_0x4eeffb,_0x1bc16e=_0x37593a+':\x20'+_0x96df12;throw this[_0x3d137e(0x34c)][_0x3d137e(0x83d)](this[_0x3d137e(0x7eb)]+'\x20('+this[_0x3d137e(0x32b)][_0x3d137e(0x20d)]+_0x3d137e(0x413)+_0x1bc16e),new m(_0x1bc16e);}}async[a0_0x5bdda6(0x252)](){const _0x1f555f=a0_0x5bdda6;try{let _0x3498ad=await this['repository']['automateSystem'][_0x1f555f(0x819)](this[_0x1f555f(0x32b)][_0x1f555f(0x20d)]);return this[_0x1f555f(0x749)]=_0x3498ad,this[_0x1f555f(0x34c)][_0x1f555f(0x1f6)](this[_0x1f555f(0x7eb)]+'\x20('+this[_0x1f555f(0x32b)][_0x1f555f(0x20d)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x1f555f(0x34c)][_0x1f555f(0x1f6)](this[_0x1f555f(0x749)]),_0x3498ad;}catch(_0x3001bb){let _0x43ff05=_0x1f555f(0x5f8),_0x334e8a=_0x3001bb instanceof Error?_0x3001bb['message']:typeof _0x3001bb==_0x1f555f(0x53a)?JSON[_0x1f555f(0x5b8)](_0x3001bb):_0x3001bb,_0xf479b4=_0x43ff05+':\x20'+_0x334e8a;throw this[_0x1f555f(0x34c)][_0x1f555f(0x83d)](this[_0x1f555f(0x7eb)]+'\x20('+this[_0x1f555f(0x32b)][_0x1f555f(0x20d)]+'):\x20'+_0xf479b4),new m(_0xf479b4);}}async[a0_0x5bdda6(0x6d8)](){const _0x444622=a0_0x5bdda6;this[_0x444622(0x32b)]['ScheduleMessage'][_0x444622(0x7bf)]&&clearTimeout(this[_0x444622(0x32b)][_0x444622(0x140)][_0x444622(0x7bf)]),this[_0x444622(0x32b)]['ScheduleMessage']['timeout']=setTimeout(()=>{const _0x1b0b40=_0x444622;this[_0x1b0b40(0x726)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5bdda6(0x726)](){const _0x327748=a0_0x5bdda6;Date['now']()-this[_0x327748(0x32b)][_0x327748(0x140)][_0x327748(0x6ba)]>=0x1d4c0&&(this[_0x327748(0x34c)][_0x327748(0x1f6)](this[_0x327748(0x7eb)]+'\x20('+this[_0x327748(0x32b)]['wuid']+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x327748(0x32b)][_0x327748(0x140)][_0x327748(0x659)]=null,this[_0x327748(0x32b)][_0x327748(0x140)][_0x327748(0x6ba)]=0x0,this[_0x327748(0x32b)]['ScheduleMessage']['delayMessage']=0x0,await this[_0x327748(0x7cb)]());}async[a0_0x5bdda6(0x7cb)](){const _0x59384b=a0_0x5bdda6;let _0x45c1cc=()=>{const _0x503620=a0_0x33c5;this[_0x503620(0x34c)][_0x503620(0x1f6)](this[_0x503620(0x7eb)]+'\x20('+this['instance'][_0x503620(0x20d)]+_0x503620(0x5b2)+this[_0x503620(0x32b)][_0x503620(0x140)]['processing_id']+'\x20saindo\x20da\x20função');},_0x47332d=async()=>{const _0x47f523=a0_0x33c5;this[_0x47f523(0x34c)]['verbose'](this['instanceName']+'\x20('+this[_0x47f523(0x32b)][_0x47f523(0x20d)]+_0x47f523(0x1f5));let _0x1e6a4d=Date[_0x47f523(0x71b)]()-0xc*0x3c*0x3c*0x3e8,_0x12366d={'where':{'status':{'$in':[_0x47f523(0x7de),_0x47f523(0x6db)]},'$or':[{'when':{'$lte':Date[_0x47f523(0x71b)](),'$gte':_0x1e6a4d}},{'when':0x0}]}};return await this['repository'][_0x47f523(0x4ff)][_0x47f523(0x2b1)](_0x12366d,this[_0x47f523(0x32b)]['wuid']);},_0xda1cf2=async _0x362c8f=>{const _0x45e4d4=a0_0x33c5;for(let _0x2bb531 of _0x362c8f){let _0x81ff6e={'_id':_0x2bb531[_0x45e4d4(0x38a)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x45e4d4(0x71b)]()-0x1770}}]},_0x18000c={'startSend':Date['now']()};if(!await this[_0x45e4d4(0x320)]['scheduleMessage']['updateOne'](_0x81ff6e,_0x18000c,this['instance']['wuid']))return;if(!this[_0x45e4d4(0x32b)][_0x45e4d4(0x140)][_0x45e4d4(0x7ea)]){this[_0x45e4d4(0x34c)][_0x45e4d4(0x1f6)](this['instanceName']+'\x20('+this[_0x45e4d4(0x32b)][_0x45e4d4(0x20d)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x2bb531[_0x45e4d4(0x5b3)]===_0x45e4d4(0x5a0)&&!this[_0x45e4d4(0x749)]?.[_0x45e4d4(0x122)][_0x45e4d4(0x200)]){this[_0x45e4d4(0x34c)][_0x45e4d4(0x83d)](this['instanceName']+'\x20('+this[_0x45e4d4(0x32b)][_0x45e4d4(0x20d)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x2bb531[_0x45e4d4(0x326)]||_0x2bb531[_0x45e4d4(0x326)]['length']===0x0)&&(_0x2bb531=await this[_0x45e4d4(0x320)]['scheduleMessage'][_0x45e4d4(0x59d)](_0x2bb531[_0x45e4d4(0x38a)],{'status':_0x45e4d4(0x6db),'remoteJidsRemaining':[..._0x2bb531[_0x45e4d4(0x289)]]},this[_0x45e4d4(0x32b)][_0x45e4d4(0x20d)]));for(let _0x14f015 of _0x2bb531[_0x45e4d4(0x326)]){if(await this[_0x45e4d4(0x6d8)](),this[_0x45e4d4(0x32b)][_0x45e4d4(0x140)]['lastSend']=Date[_0x45e4d4(0x71b)](),this[_0x45e4d4(0x32b)]['ScheduleMessage']['ultimaTentativaRemoteJid']===_0x14f015){this['logger'][_0x45e4d4(0x83d)](this[_0x45e4d4(0x7eb)]+'\x20('+this[_0x45e4d4(0x32b)]['wuid']+_0x45e4d4(0x17a)+_0x14f015+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x245f5c={'$push':{'messagesSend':{'remoteJid':_0x14f015,'error':!0x0,'id':null,'error_log':_0x45e4d4(0x401),'log_timestamp':Date[_0x45e4d4(0x71b)]()}},'$pull':{'remoteJidsRemaining':_0x14f015}};await this[_0x45e4d4(0x320)]['scheduleMessage'][_0x45e4d4(0x59d)](_0x2bb531[_0x45e4d4(0x38a)],_0x245f5c,this['instance'][_0x45e4d4(0x20d)]);continue;}if(this[_0x45e4d4(0x32b)][_0x45e4d4(0x140)][_0x45e4d4(0x761)]=_0x14f015,_0x2bb531[_0x45e4d4(0x1b6)]['some'](_0x3015c7=>_0x3015c7[_0x45e4d4(0x4c8)]===_0x14f015)){this['logger'][_0x45e4d4(0x1f6)](this[_0x45e4d4(0x7eb)]+'\x20('+this[_0x45e4d4(0x32b)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x14f015+_0x45e4d4(0x33e));continue;}if(!this['instance']['ScheduleMessage']['isConnected']){this[_0x45e4d4(0x34c)][_0x45e4d4(0x1f6)](this[_0x45e4d4(0x7eb)]+'\x20('+this[_0x45e4d4(0x32b)]['wuid']+_0x45e4d4(0x1d3));break;}if(!this[_0x45e4d4(0x32b)][_0x45e4d4(0x140)][_0x45e4d4(0x659)]){this[_0x45e4d4(0x34c)][_0x45e4d4(0x1f6)](this[_0x45e4d4(0x7eb)]+'\x20('+this[_0x45e4d4(0x32b)][_0x45e4d4(0x20d)]+_0x45e4d4(0x1f0)+_0x2bb531[_0x45e4d4(0x38a)]+_0x45e4d4(0x557));break;}if(_0x2bb531[_0x45e4d4(0x5b3)]==='flow'&&!this[_0x45e4d4(0x749)]?.[_0x45e4d4(0x122)]['enabled']){this[_0x45e4d4(0x34c)][_0x45e4d4(0x83d)](this[_0x45e4d4(0x7eb)]+'\x20('+this['instance']['wuid']+_0x45e4d4(0x472));break;}let _0x26c7ff={'remoteJid':_0x14f015,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x45e4d4(0x71b)]()},_0x1a0be5=null;try{let _0x1aeda0=await this[_0x45e4d4(0x181)](_0x14f015,_0x2bb531);_0x26c7ff['error']=_0x1aeda0[_0x45e4d4(0x83d)],_0x26c7ff['id']=_0x1aeda0['error']?null:_0x1aeda0['id'],_0x26c7ff[_0x45e4d4(0x481)]=_0x1aeda0[_0x45e4d4(0x83d)]?_0x1aeda0[_0x45e4d4(0x382)]?_0x1aeda0[_0x45e4d4(0x382)][_0x45e4d4(0x58f)]():'':null;let _0x291f82={'$push':{'messagesSend':_0x26c7ff},'$pull':{'remoteJidsRemaining':_0x14f015}},_0x162579=_0x2bb531[_0x45e4d4(0x38a)];if(_0x1a0be5=await this['repository']['scheduleMessage']['updateOneById'](_0x162579,_0x291f82,this[_0x45e4d4(0x32b)][_0x45e4d4(0x20d)]),_0x1aeda0[_0x45e4d4(0x83d)])continue;let _0x38a7b5=this[_0x45e4d4(0x6a1)](_0x2bb531[_0x45e4d4(0x7e4)],_0x2bb531['delaySecMax']);await this[_0x45e4d4(0x136)](_0x38a7b5);}catch(_0x1217c1){this[_0x45e4d4(0x34c)][_0x45e4d4(0x83d)](this['instanceName']+'\x20('+this[_0x45e4d4(0x32b)][_0x45e4d4(0x20d)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x14f015+':\x20'+(_0x1217c1 instanceof Error?_0x1217c1['message']:JSON[_0x45e4d4(0x5b8)](_0x1217c1,null,0x2))),_0x26c7ff[_0x45e4d4(0x83d)]=!0x0,_0x26c7ff['error_log']=_0x1217c1[_0x45e4d4(0x1f1)];let _0x1b429c={'$push':{'messagesSend':_0x26c7ff},'$pull':{'remoteJidsRemaining':_0x14f015}},_0x2b8699=_0x2bb531[_0x45e4d4(0x38a)];_0x1a0be5=await this[_0x45e4d4(0x320)]['scheduleMessage']['updateOneById'](_0x2b8699,_0x1b429c,this[_0x45e4d4(0x32b)]['wuid']);}finally{if(_0x1a0be5&&_0x1a0be5[_0x45e4d4(0x390)]===_0x45e4d4(0x188)){this[_0x45e4d4(0x34c)][_0x45e4d4(0x1f6)](this['instanceName']+'\x20('+this[_0x45e4d4(0x32b)]['wuid']+_0x45e4d4(0x1f0)+_0x2bb531[_0x45e4d4(0x38a)]+_0x45e4d4(0x58a));break;}}}let _0x545473=await this[_0x45e4d4(0x320)][_0x45e4d4(0x4ff)][_0x45e4d4(0x480)](_0x2bb531[_0x45e4d4(0x38a)],this[_0x45e4d4(0x32b)]['wuid']);if(_0x545473[_0x45e4d4(0x326)][_0x45e4d4(0x29b)]===0x0&&_0x545473[_0x45e4d4(0x390)]!==_0x45e4d4(0x188)){this[_0x45e4d4(0x32b)][_0x45e4d4(0x140)]['ultimaTentativaRemoteJid']=null;let _0x58c0f8={'$set':{'status':_0x45e4d4(0x1bf)}},_0x559440=_0x545473[_0x45e4d4(0x38a)];await this[_0x45e4d4(0x320)][_0x45e4d4(0x4ff)][_0x45e4d4(0x59d)](_0x559440,_0x58c0f8,this[_0x45e4d4(0x32b)][_0x45e4d4(0x20d)]);}await new Promise(_0x24d7df=>setTimeout(_0x24d7df,0x1388));}},_0x345ff4=async()=>{const _0x35aa70=a0_0x33c5;let _0x55956e={'where':{'status':_0x35aa70(0x7de),'when':{'$gt':Date[_0x35aa70(0x71b)]()}}},_0x5e124d=await this['repository'][_0x35aa70(0x4ff)][_0x35aa70(0x28c)](_0x55956e,this[_0x35aa70(0x32b)][_0x35aa70(0x20d)]);_0x5e124d&&_0x5e124d['when']-Date[_0x35aa70(0x71b)]()<=0x5265c00?this[_0x35aa70(0x32b)][_0x35aa70(0x140)][_0x35aa70(0x5ba)]=_0x5e124d[_0x35aa70(0x831)]-Date[_0x35aa70(0x71b)]():this[_0x35aa70(0x32b)][_0x35aa70(0x140)][_0x35aa70(0x5ba)]=(0x3c+Math[_0x35aa70(0x60a)](Math[_0x35aa70(0x25d)]()*0x3c))*0x3c*0x3e8,this[_0x35aa70(0x32b)][_0x35aa70(0x140)][_0x35aa70(0x5ba)]=Math[_0x35aa70(0x684)](this['instance']['ScheduleMessage'][_0x35aa70(0x5ba)],0x7d0);let _0x2fa883=Math[_0x35aa70(0x7ed)](this[_0x35aa70(0x32b)]['ScheduleMessage']['delayMessage']/0xea60);if(_0x5e124d){let _0x459476=new Date(_0x5e124d[_0x35aa70(0x831)])[_0x35aa70(0x5d4)]();this[_0x35aa70(0x34c)]['verbose'](this[_0x35aa70(0x7eb)]+'\x20('+this[_0x35aa70(0x32b)][_0x35aa70(0x20d)]+_0x35aa70(0x62c)+_0x459476+_0x35aa70(0x7db)+_0x2fa883+_0x35aa70(0x5cf));}else this[_0x35aa70(0x34c)][_0x35aa70(0x1f6)](this[_0x35aa70(0x7eb)]+'\x20('+this[_0x35aa70(0x32b)][_0x35aa70(0x20d)]+_0x35aa70(0x3de)+_0x2fa883+_0x35aa70(0x5cf));setTimeout(()=>this[_0x35aa70(0x7cb)](),this[_0x35aa70(0x32b)][_0x35aa70(0x140)]['delayMessage']);};if(this[_0x59384b(0x32b)][_0x59384b(0x140)]['processing_id']){await this[_0x59384b(0x6d8)](),_0x45c1cc();return;}if(!this[_0x59384b(0x32b)][_0x59384b(0x140)][_0x59384b(0x7ea)]){this['logger'][_0x59384b(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x59384b(0x20d)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this['instance']['ScheduleMessage'][_0x59384b(0x659)]=null,this['instance'][_0x59384b(0x140)][_0x59384b(0x6ba)]=0x0,this['instance'][_0x59384b(0x140)]['delayMessage']=0x0,this['instance'][_0x59384b(0x140)][_0x59384b(0x761)]=null;return;}try{let _0x56500c=await _0x47332d();_0x56500c[_0x59384b(0x29b)]===0x0?this[_0x59384b(0x34c)]['verbose'](this[_0x59384b(0x7eb)]+'\x20('+this[_0x59384b(0x32b)][_0x59384b(0x20d)]+_0x59384b(0x445)):(this[_0x59384b(0x32b)]['ScheduleMessage'][_0x59384b(0x659)]=_0x56500c[0x0][_0x59384b(0x38a)],await _0xda1cf2(_0x56500c)),await _0x345ff4(),this['instance'][_0x59384b(0x140)][_0x59384b(0x659)]=null,this[_0x59384b(0x32b)][_0x59384b(0x140)][_0x59384b(0x761)]=null;}catch(_0x4c949e){this[_0x59384b(0x34c)][_0x59384b(0x83d)](_0x59384b(0x45c)+(_0x4c949e instanceof Error?_0x4c949e['message']:JSON['stringify'](_0x4c949e,null,0x2)));}}[a0_0x5bdda6(0x6a1)](_0x3ae87e,_0x179a9f){const _0x3868fc=a0_0x5bdda6;return _0x3ae87e=Math[_0x3868fc(0x684)](0.5,_0x3ae87e),_0x179a9f=Math[_0x3868fc(0x2ba)](Math[_0x3868fc(0x684)](0x3,_0x179a9f),0x78),Math[_0x3868fc(0x60a)](Math[_0x3868fc(0x25d)]()*(_0x179a9f-_0x3ae87e+0x1)+_0x3ae87e)*0x3e8;}[a0_0x5bdda6(0x136)](_0x1ca138){return new Promise(_0x94a626=>setTimeout(_0x94a626,_0x1ca138));}async[a0_0x5bdda6(0x2b8)](_0x4f5c5d){const _0x123de4=a0_0x5bdda6;if(!this[_0x123de4(0x749)]&&(await this[_0x123de4(0x252)](),!this[_0x123de4(0x749)]))return null;_0x4f5c5d=this[_0x123de4(0x78e)](_0x4f5c5d);let _0x383780=await this['repository'][_0x123de4(0x638)]['findOne']({'where':{'_id':_0x4f5c5d}},this[_0x123de4(0x32b)][_0x123de4(0x20d)]),_0x58d17f={};if(_0x383780&&_0x383780[_0x123de4(0x120)]){let _0x2bfe14=_0x383780[_0x123de4(0x120)];typeof _0x2bfe14['nome']==_0x123de4(0x1c7)&&(_0x58d17f['nome']=_0x2bfe14['nome']),typeof _0x2bfe14[_0x123de4(0x34b)]=='string'&&(_0x58d17f[_0x123de4(0x34b)]=_0x2bfe14['nomecompleto']),typeof _0x2bfe14[_0x123de4(0x187)]==_0x123de4(0x1c7)&&(_0x58d17f[_0x123de4(0x187)]=_0x2bfe14[_0x123de4(0x187)]),typeof _0x2bfe14[_0x123de4(0x2f6)]==_0x123de4(0x1c7)&&(_0x58d17f['cpf']=_0x2bfe14[_0x123de4(0x2f6)]),typeof _0x2bfe14['status']=='string'&&(_0x58d17f['status']=_0x2bfe14[_0x123de4(0x390)]),typeof _0x2bfe14[_0x123de4(0x439)]==_0x123de4(0x1c7)&&(_0x58d17f[_0x123de4(0x439)]=_0x2bfe14[_0x123de4(0x439)]),typeof _0x2bfe14[_0x123de4(0x786)]==_0x123de4(0x1c7)&&(_0x58d17f[_0x123de4(0x786)]=_0x2bfe14[_0x123de4(0x786)]),Array[_0x123de4(0x13b)](_0x2bfe14[_0x123de4(0x124)])&&(_0x58d17f[_0x123de4(0x124)]=_0x2bfe14['tags']['join'](',\x20')),Array[_0x123de4(0x13b)](_0x2bfe14[_0x123de4(0x67c)])&&(_0x58d17f[_0x123de4(0x67c)]=_0x2bfe14[_0x123de4(0x67c)][_0x123de4(0x64d)](',\x20'));}return _0x383780&&_0x383780[_0x123de4(0x120)]&&_0x383780[_0x123de4(0x120)]['customFields']&&_0x383780[_0x123de4(0x120)][_0x123de4(0x450)][_0x123de4(0x3a3)](_0x1beff4=>{const _0x9109e5=_0x123de4;let _0x4183ea=this['AutomateSystem']?.[_0x9109e5(0x450)][_0x9109e5(0x2b1)](_0x4f73f7=>_0x4f73f7[_0x9109e5(0x38a)]===_0x1beff4[_0x9109e5(0x38a)]);_0x4183ea&&(_0x58d17f[_0x4183ea['name']]=_0x1beff4[_0x9109e5(0x6a7)]);}),_0x58d17f;}async[a0_0x5bdda6(0x24a)](_0xe6acb3,_0x26913d){const _0x50ecca=a0_0x5bdda6;try{let _0x2247e8=await this['getVariablesChat'](_0x26913d);return this[_0x50ecca(0x567)](_0xe6acb3,_0x2247e8);}catch(_0x2fb949){return this[_0x50ecca(0x34c)][_0x50ecca(0x83d)](_0x50ecca(0x739)+_0x26913d+':\x20'+_0x2fb949),_0xe6acb3;}}async['editScheduleMessage'](_0x56ccc6){const _0x234e57=a0_0x5bdda6;try{if(this[_0x234e57(0x34c)][_0x234e57(0x1f6)](this[_0x234e57(0x7eb)]+'\x20('+this['instance'][_0x234e57(0x20d)]+_0x234e57(0x619)),_0x56ccc6['delete']&&_0x56ccc6[_0x234e57(0x38a)]){if(this['instance'][_0x234e57(0x140)][_0x234e57(0x659)]===_0x56ccc6[_0x234e57(0x38a)][_0x234e57(0x58f)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x3af026=await this[_0x234e57(0x320)]['scheduleMessage'][_0x234e57(0x21c)](_0x56ccc6[_0x234e57(0x38a)],this[_0x234e57(0x32b)]['wuid']);return setTimeout(()=>this[_0x234e57(0x7cb)](),0x7d0),_0x3af026;}let _0x40cf65;if(_0x56ccc6[_0x234e57(0x38a)]&&(_0x40cf65=await this[_0x234e57(0x320)]['scheduleMessage'][_0x234e57(0x480)](_0x56ccc6['_id'],this[_0x234e57(0x32b)]['wuid'])),_0x40cf65){let _0xbe8c79;if(this['instance'][_0x234e57(0x140)]['processing_id']===_0x40cf65['_id'][_0x234e57(0x58f)]())_0xbe8c79={'$set':{'status':_0x56ccc6[_0x234e57(0x390)]}};else{let {_id:_0x4d0c8b,..._0x3e7bc6}=_0x56ccc6;_0xbe8c79={'$set':_0x3e7bc6};}let _0x4a948f=await this[_0x234e57(0x320)][_0x234e57(0x4ff)][_0x234e57(0x59d)](_0x56ccc6[_0x234e57(0x38a)],_0xbe8c79,this[_0x234e57(0x32b)][_0x234e57(0x20d)]);return setTimeout(()=>this[_0x234e57(0x7cb)](),0x7d0),_0x4a948f;}else{_0x56ccc6['owner']=this[_0x234e57(0x32b)][_0x234e57(0x20d)];let _0x4c8bbe=await this[_0x234e57(0x320)][_0x234e57(0x4ff)]['createAndSave'](_0x56ccc6,this[_0x234e57(0x32b)][_0x234e57(0x20d)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4c8bbe;}}catch(_0x38f617){let _0x24a5b7=_0x234e57(0x1e3),_0x4591ca=_0x38f617 instanceof Error?_0x38f617[_0x234e57(0x1f1)]:typeof _0x38f617==_0x234e57(0x53a)?JSON[_0x234e57(0x5b8)](_0x38f617):_0x38f617,_0x54e533=_0x24a5b7+':\x20'+_0x4591ca;throw this[_0x234e57(0x34c)]['error'](this[_0x234e57(0x7eb)]+'\x20('+this[_0x234e57(0x32b)]['wuid']+_0x234e57(0x413)+_0x54e533),new m(_0x54e533);}}async['getScheduleMessage'](){const _0x4b866c=a0_0x5bdda6;try{return await this[_0x4b866c(0x320)][_0x4b866c(0x4ff)][_0x4b866c(0x2b1)]({'where':{}},this[_0x4b866c(0x32b)]['wuid']);}catch(_0x5a14b0){let _0x3cf37d=_0x4b866c(0x24f),_0x336bd9=_0x5a14b0 instanceof Error?_0x5a14b0[_0x4b866c(0x1f1)]:typeof _0x5a14b0==_0x4b866c(0x53a)?JSON[_0x4b866c(0x5b8)](_0x5a14b0):_0x5a14b0,_0x427d53=_0x3cf37d+':\x20'+_0x336bd9;throw this[_0x4b866c(0x34c)]['error'](this[_0x4b866c(0x7eb)]+'\x20('+this[_0x4b866c(0x32b)][_0x4b866c(0x20d)]+_0x4b866c(0x413)+_0x427d53),new m(_0x427d53);}}async[a0_0x5bdda6(0x37c)](){const _0x4f632e=a0_0x5bdda6;try{let _0x20a3c8={'status':_0x4f632e(0x1bf)},_0x2830d1=await this[_0x4f632e(0x320)]['scheduleMessage'][_0x4f632e(0x803)](_0x20a3c8,this[_0x4f632e(0x32b)][_0x4f632e(0x20d)]);if(!_0x2830d1[_0x4f632e(0x83d)])this[_0x4f632e(0x34c)][_0x4f632e(0x1f6)](this[_0x4f632e(0x7eb)]+'\x20('+this[_0x4f632e(0x32b)]['wuid']+_0x4f632e(0x19f));else throw new Error(_0x2830d1[_0x4f632e(0x83d)]['message']||_0x4f632e(0x199));return this[_0x4f632e(0x589)]();}catch(_0x38e903){let _0x30c8ff=_0x4f632e(0x5ee),_0x304e11=_0x38e903 instanceof Error?_0x38e903[_0x4f632e(0x1f1)]:typeof _0x38e903==_0x4f632e(0x53a)?JSON[_0x4f632e(0x5b8)](_0x38e903):_0x38e903,_0x2e8d81=_0x30c8ff+':\x20'+_0x304e11;throw this[_0x4f632e(0x34c)][_0x4f632e(0x83d)](this[_0x4f632e(0x7eb)]+'\x20('+this[_0x4f632e(0x32b)]['wuid']+_0x4f632e(0x413)+_0x2e8d81),new m(_0x2e8d81);}}async[a0_0x5bdda6(0x181)](_0x1e29a2,_0x118109){const _0x4bc522=a0_0x5bdda6;try{if(_0x118109['type']===_0x4bc522(0x5a0)&&!this['AutomateSystem']?.[_0x4bc522(0x122)][_0x4bc522(0x200)])return this[_0x4bc522(0x34c)][_0x4bc522(0x83d)](this[_0x4bc522(0x7eb)]+'\x20('+this[_0x4bc522(0x32b)][_0x4bc522(0x20d)]+_0x4bc522(0x242)),{'error':!0x0,'detail':_0x4bc522(0x7c9)};switch(_0x118109['type']){case _0x4bc522(0x3ce):return await this[_0x4bc522(0x3f7)](_0x118109,_0x1e29a2);case _0x4bc522(0x3d1):return await this['scheduleSendMedia'](_0x118109,_0x1e29a2);case _0x4bc522(0x489):return await this['scheduleSendAudio'](_0x118109,_0x1e29a2);case _0x4bc522(0x5a0):let _0x5825a3=new Ve();return _0x5825a3['name']=_0x118109[_0x4bc522(0x2a3)],_0x5825a3['remoteJid']=_0x1e29a2,await this[_0x4bc522(0x56f)](_0x5825a3);break;default:return this[_0x4bc522(0x34c)]['error'](this[_0x4bc522(0x7eb)]+'\x20('+this['instance']['wuid']+_0x4bc522(0x748)+_0x118109[_0x4bc522(0x5b3)]),{'error':!0x0,'detail':_0x4bc522(0x63c)};}}catch(_0x32ce7f){return this[_0x4bc522(0x34c)]['error'](this[_0x4bc522(0x7eb)]+'\x20('+this[_0x4bc522(0x32b)][_0x4bc522(0x20d)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x32ce7f instanceof Error?_0x32ce7f[_0x4bc522(0x1f1)]:JSON['stringify'](_0x32ce7f,null,0x2))),{'error':!0x0,'detail':_0x32ce7f[_0x4bc522(0x1f1)]};}}[a0_0x5bdda6(0x2a9)](_0x3e454d){const _0x3afd07=a0_0x5bdda6;let _0x420752=_0x3e454d[_0x3afd07(0x771)]('|'),_0x409b2a=Math['floor'](Math[_0x3afd07(0x25d)]()*_0x420752[_0x3afd07(0x29b)]);return _0x420752[_0x409b2a][_0x3afd07(0x7bc)]();}async[a0_0x5bdda6(0x3f7)](_0x4ff5a7,_0x25196c){const _0x3156d5=a0_0x5bdda6;if(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3156d5(0x20d)]+_0x3156d5(0x71c)),!_0x4ff5a7[_0x3156d5(0x1f1)][_0x3156d5(0x3ce)]||_0x4ff5a7[_0x3156d5(0x1f1)][_0x3156d5(0x3ce)][_0x3156d5(0x29b)]===0x0)return{'error':!0x0,'detail':_0x3156d5(0x17e)};let _0x357cdf=this[_0x3156d5(0x2a9)](_0x4ff5a7[_0x3156d5(0x1f1)][_0x3156d5(0x3ce)]),_0x11d492=await this[_0x3156d5(0x24a)](_0x357cdf,_0x25196c),_0x1b4199={'number':_0x25196c,'options':{'delay':_0x4ff5a7['message']['delay'],'linkPreview':_0x4ff5a7[_0x3156d5(0x1f1)]['linkPreview']},'textMessage':{'text':_0x11d492}},_0x15cf2=null;try{let _0x16c561=await this[_0x3156d5(0x596)](_0x1b4199);if(_0x16c561&&_0x16c561[_0x3156d5(0x390)])return{'error':!0x1,'id':_0x16c561[_0x3156d5(0x4d8)]['id']};_0x15cf2=JSON[_0x3156d5(0x5b8)](_0x16c561),this['logger'][_0x3156d5(0x1f6)](this[_0x3156d5(0x7eb)]+'\x20('+this[_0x3156d5(0x32b)]['wuid']+_0x3156d5(0x413)+_0x15cf2);}catch(_0x4dd850){this[_0x3156d5(0x34c)][_0x3156d5(0x83d)](this['instanceName']+'\x20('+this[_0x3156d5(0x32b)][_0x3156d5(0x20d)]+_0x3156d5(0x1a7)+(_0x4dd850 instanceof Error?_0x4dd850[_0x3156d5(0x1f1)]:JSON['stringify'](_0x4dd850,null,0x2))),_0x15cf2=_0x4dd850[_0x3156d5(0x1f1)];}if(_0x15cf2)return{'error':!0x0,'detail':(typeof _0x15cf2=='object'?JSON[_0x3156d5(0x5b8)](_0x15cf2,null,0x2):_0x15cf2)[_0x3156d5(0x4a9)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x5bdda6(0x43a)](_0x3a6792,_0x539a09){const _0x1fbd2d=a0_0x5bdda6;this[_0x1fbd2d(0x34c)][_0x1fbd2d(0x1f6)](this[_0x1fbd2d(0x7eb)]+'\x20('+this[_0x1fbd2d(0x32b)][_0x1fbd2d(0x20d)]+_0x1fbd2d(0x23d));let _0x338c69;if(_0x3a6792[_0x1fbd2d(0x1f1)][_0x1fbd2d(0x3ce)]&&_0x3a6792['message']['text'][_0x1fbd2d(0x29b)]>0x0){let _0x1adf46=this['getRandomText'](_0x3a6792['message'][_0x1fbd2d(0x3ce)]);_0x338c69=await this['replaceVariablesChat'](_0x1adf46,_0x539a09);}let _0x1ec143={'number':_0x539a09,'options':{'delay':_0x3a6792[_0x1fbd2d(0x1f1)][_0x1fbd2d(0x500)],'linkPreview':_0x3a6792['message'][_0x1fbd2d(0x7c2)]},'mediaMessage':{'mediatype':_0x3a6792['message'][_0x1fbd2d(0x680)],'caption':_0x338c69,'media':_0x3a6792[_0x1fbd2d(0x1f1)][_0x1fbd2d(0x398)]}},_0x3badff=null;try{let _0x1167ed=await this[_0x1fbd2d(0x1b0)](_0x1ec143);if(_0x1167ed&&_0x1167ed[_0x1fbd2d(0x390)])return{'error':!0x1,'id':_0x1167ed[_0x1fbd2d(0x4d8)]['id']};_0x3badff=JSON[_0x1fbd2d(0x5b8)](_0x1167ed),this['logger'][_0x1fbd2d(0x1f6)](this['instanceName']+'\x20('+this[_0x1fbd2d(0x32b)][_0x1fbd2d(0x20d)]+_0x1fbd2d(0x413)+_0x3badff);}catch(_0xdc0ccc){this[_0x1fbd2d(0x34c)][_0x1fbd2d(0x83d)](this[_0x1fbd2d(0x7eb)]+'\x20('+this[_0x1fbd2d(0x32b)][_0x1fbd2d(0x20d)]+_0x1fbd2d(0x687)+(_0xdc0ccc instanceof Error?_0xdc0ccc[_0x1fbd2d(0x1f1)]:JSON[_0x1fbd2d(0x5b8)](_0xdc0ccc,null,0x2))),_0x3badff=_0xdc0ccc[_0x1fbd2d(0x1f1)];}if(_0x3badff)return{'error':!0x0,'detail':(typeof _0x3badff==_0x1fbd2d(0x53a)?JSON[_0x1fbd2d(0x5b8)](_0x3badff,null,0x2):_0x3badff)['replace'](/[\[\]{}\n]/g,'\x20')[_0x1fbd2d(0x4a9)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x5d4310,_0x345d11){const _0x3e8bc9=a0_0x5bdda6;this['logger'][_0x3e8bc9(0x1f6)](this[_0x3e8bc9(0x7eb)]+'\x20('+this['instance'][_0x3e8bc9(0x20d)]+'):\x20Enviando\x20áudio');let _0x41a8fc={'number':_0x345d11,'options':{'delay':_0x5d4310[_0x3e8bc9(0x1f1)][_0x3e8bc9(0x500)]},'audioMessage':{'audio':_0x5d4310[_0x3e8bc9(0x1f1)][_0x3e8bc9(0x398)]}},_0x5dca04=null;try{let _0x49e6e0=await this[_0x3e8bc9(0x672)](_0x41a8fc);if(_0x49e6e0&&_0x49e6e0[_0x3e8bc9(0x390)])return{'error':!0x1,'id':_0x49e6e0[_0x3e8bc9(0x4d8)]['id']};_0x5dca04=JSON['stringify'](_0x49e6e0),this[_0x3e8bc9(0x34c)]['verbose'](this[_0x3e8bc9(0x7eb)]+'\x20('+this['instance'][_0x3e8bc9(0x20d)]+'):\x20'+_0x5dca04);}catch(_0x4d1cdf){this['logger'][_0x3e8bc9(0x83d)](this[_0x3e8bc9(0x7eb)]+'\x20('+this['instance'][_0x3e8bc9(0x20d)]+_0x3e8bc9(0x46d)+(_0x4d1cdf instanceof Error?_0x4d1cdf[_0x3e8bc9(0x1f1)]:JSON[_0x3e8bc9(0x5b8)](_0x4d1cdf,null,0x2))),_0x5dca04=_0x4d1cdf[_0x3e8bc9(0x1f1)];}if(_0x5dca04)return{'error':!0x0,'detail':(typeof _0x5dca04==_0x3e8bc9(0x53a)?JSON['stringify'](_0x5dca04,null,0x2):_0x5dca04)[_0x3e8bc9(0x4a9)](/[\[\]{}\n]/g,'\x20')[_0x3e8bc9(0x4a9)](/  +/g,'\x20')};}async[a0_0x5bdda6(0x5a7)](_0x9b0a9d){const _0x4d1e81=a0_0x5bdda6;try{return await this[_0x4d1e81(0x249)][_0x4d1e81(0x114)](_0x9b0a9d[_0x4d1e81(0x268)],_0x9b0a9d[_0x4d1e81(0x702)]),{'update':_0x4d1e81(0x143)};}catch(_0xb3309a){let _0x3d1cf4=_0x4d1e81(0x730),_0x1b76f8=_0xb3309a instanceof Error?_0xb3309a['message']:typeof _0xb3309a==_0x4d1e81(0x53a)?JSON[_0x4d1e81(0x5b8)](_0xb3309a):_0xb3309a,_0x538a41=_0x3d1cf4+':\x20'+_0x1b76f8;throw this[_0x4d1e81(0x34c)][_0x4d1e81(0x83d)](this[_0x4d1e81(0x7eb)]+'\x20('+this[_0x4d1e81(0x32b)][_0x4d1e81(0x20d)]+'):\x20'+_0x538a41),new x(_0x538a41);}}async['groupName'](_0x533299){const _0xed8360=a0_0x5bdda6;try{return await this['client']['groupUpdateSubject'](_0x533299[_0xed8360(0x268)],_0x533299[_0xed8360(0x63e)]),{'update':_0xed8360(0x143)};}catch(_0x143efc){let _0x139b58=_0xed8360(0x551),_0x5aa172=_0x143efc instanceof Error?_0x143efc[_0xed8360(0x1f1)]:typeof _0x143efc==_0xed8360(0x53a)?JSON[_0xed8360(0x5b8)](_0x143efc):_0x143efc,_0x5668f4=_0x139b58+':\x20'+_0x5aa172;throw this[_0xed8360(0x34c)][_0xed8360(0x83d)](this['instanceName']+'\x20('+this['instance'][_0xed8360(0x20d)]+_0xed8360(0x413)+_0x5668f4),new x(_0x5668f4);}}async['toggleEphemeral'](_0x50ddbd){const _0x3db641=a0_0x5bdda6;try{let _0x995005=await this['client'][_0x3db641(0x2bd)](_0x50ddbd[_0x3db641(0x268)],_0x50ddbd['expiration']);return{'success':!0x0};}catch(_0x224932){let _0x48bf39=_0x3db641(0x3c5),_0x24473f=_0x224932 instanceof Error?_0x224932[_0x3db641(0x1f1)]:typeof _0x224932==_0x3db641(0x53a)?JSON[_0x3db641(0x5b8)](_0x224932):_0x224932,_0x36f378=_0x48bf39+':\x20'+_0x24473f;throw this[_0x3db641(0x34c)][_0x3db641(0x83d)](this[_0x3db641(0x7eb)]+'\x20('+this['instance'][_0x3db641(0x20d)]+_0x3db641(0x413)+_0x36f378),new x(_0x36f378);}}async[a0_0x5bdda6(0x344)](_0x119191){const _0x121ae0=a0_0x5bdda6;try{return await this['client'][_0x121ae0(0x1c4)](_0x119191[_0x121ae0(0x268)],_0x119191[_0x121ae0(0x2bf)]),{'update':_0x121ae0(0x143)};}catch(_0x216a62){let _0x425b1c='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0xe2e2ec=_0x216a62 instanceof Error?_0x216a62[_0x121ae0(0x1f1)]:typeof _0x216a62==_0x121ae0(0x53a)?JSON[_0x121ae0(0x5b8)](_0x216a62):_0x216a62,_0x116e65=_0x425b1c+':\x20'+_0xe2e2ec;throw this[_0x121ae0(0x34c)][_0x121ae0(0x83d)](this[_0x121ae0(0x7eb)]+'\x20('+this['instance'][_0x121ae0(0x20d)]+_0x121ae0(0x413)+_0x116e65),new x(_0x116e65);}}async[a0_0x5bdda6(0x5d8)](_0x3fd24b){const _0x48f4e3=a0_0x5bdda6;try{let _0x17c7c8;if((0x0,k[_0x48f4e3(0x22d)])(_0x3fd24b[_0x48f4e3(0x614)])){let _0x4b458e=new Date()[_0x48f4e3(0x578)](),_0x4ebf67=_0x3fd24b[_0x48f4e3(0x614)]+'?timestamp='+_0x4b458e;_0x17c7c8=(await Q[_0x48f4e3(0x79b)]['get'](_0x4ebf67,{'responseType':_0x48f4e3(0x179)}))[_0x48f4e3(0x6d0)];}else{if((0x0,k[_0x48f4e3(0x2eb)])(_0x3fd24b[_0x48f4e3(0x614)]))_0x17c7c8=Buffer[_0x48f4e3(0x47d)](_0x3fd24b[_0x48f4e3(0x614)],'base64');else throw new m(_0x48f4e3(0x4f7));}return await this['client']['updateProfilePicture'](_0x3fd24b['groupJid'],_0x17c7c8),{'update':_0x48f4e3(0x143)};}catch(_0x2ab6b4){let _0x187590=_0x48f4e3(0x367),_0x17d974=_0x2ab6b4 instanceof Error?_0x2ab6b4['message']:typeof _0x2ab6b4==_0x48f4e3(0x53a)?JSON[_0x48f4e3(0x5b8)](_0x2ab6b4):_0x2ab6b4,_0x55c5a9=_0x187590+':\x20'+_0x17d974;throw this[_0x48f4e3(0x34c)]['error'](this[_0x48f4e3(0x7eb)]+'\x20('+this['instance'][_0x48f4e3(0x20d)]+_0x48f4e3(0x413)+_0x55c5a9),new x(_0x55c5a9);}}},Ut=class c{constructor(_0x5844a6,_0x38635e,_0x5297fb){const _0x2f6d1a=a0_0x5bdda6;this[_0x2f6d1a(0x5c1)]=_0x5844a6,this[_0x2f6d1a(0x5b4)]=_0x38635e,this[_0x2f6d1a(0x320)]=_0x5297fb,this['db']={},this[_0x2f6d1a(0x75d)]={},this[_0x2f6d1a(0x34c)]=new $(c['name']),this[_0x2f6d1a(0x1b1)]={},(this[_0x2f6d1a(0x35b)](),this['noConnection'](),Object[_0x2f6d1a(0x6d2)](this['db'],_0x38635e['get'](_0x2f6d1a(0x81b))),Object[_0x2f6d1a(0x6d2)](this[_0x2f6d1a(0x75d)],_0x38635e[_0x2f6d1a(0x1bb)](_0x2f6d1a(0x13c))),this[_0x2f6d1a(0x141)]=this['db']['ENABLED']?this[_0x2f6d1a(0x320)][_0x2f6d1a(0x422)]?.['db'](this['db'][_0x2f6d1a(0x2ca)]['DB_PREFIX_NAME']+_0x2f6d1a(0x60f)):void 0x0,this[_0x2f6d1a(0x1a0)]=this[_0x2f6d1a(0x75d)]['ENABLED']?new le(this[_0x2f6d1a(0x75d)]):void 0x0);}async['instanceInfo'](_0x10948e){const _0x596c3b=a0_0x5bdda6;if(_0x10948e&&!this[_0x596c3b(0x1b1)][_0x10948e])throw new q(_0x596c3b(0x378)+_0x10948e+_0x596c3b(0x751));let _0x4e47c6=[];for await(let [_0x1be17b,_0x23f04a]of Object['entries'](this[_0x596c3b(0x1b1)]))if(_0x23f04a&&_0x23f04a[_0x596c3b(0x773)][_0x596c3b(0x28e)]===_0x596c3b(0x41f)){let _0x5688ea=await this['repository']['auth'][_0x596c3b(0x2b1)](_0x1be17b);_0x4e47c6[_0x596c3b(0x711)]({'instance':{'instanceName':_0x1be17b,'apikey':_0x5688ea[_0x596c3b(0x79e)],'owner':_0x23f04a[_0x596c3b(0x20d)],'profileName':await _0x23f04a[_0x596c3b(0x6e2)]()||'not\x20loaded','profilePictureUrl':_0x23f04a[_0x596c3b(0x157)]}});}return _0x4e47c6[_0x596c3b(0x2b1)](_0x371173=>_0x371173[_0x596c3b(0x32b)][_0x596c3b(0x7eb)]===_0x10948e)??_0x4e47c6;}async[a0_0x5bdda6(0x83c)](_0x5793c1){const _0x387bcc=a0_0x5bdda6;if(this['db']['ENABLED']&&(await this[_0x387bcc(0x320)][_0x387bcc(0x422)][_0x387bcc(0x58d)](),(await this[_0x387bcc(0x141)]['collections']())[_0x387bcc(0x29b)]>0x0&&await this[_0x387bcc(0x141)][_0x387bcc(0x54f)](_0x5793c1)),this[_0x387bcc(0x75d)]['ENABLED']){this['cache'][_0x387bcc(0x332)]=_0x5793c1,await this[_0x387bcc(0x1a0)][_0x387bcc(0x5de)]();return;}}async[a0_0x5bdda6(0x573)](){const _0x509984=a0_0x5bdda6;await this['InstancesAlterarTodas']();let _0x71c995=async _0x19d7cb=>{const _0x1608bf=a0_0x33c5;let _0x206cda=new Ee(this[_0x1608bf(0x5b4)],this[_0x1608bf(0x5c1)],this[_0x1608bf(0x320)]);_0x206cda[_0x1608bf(0x7eb)]=_0x19d7cb,await _0x206cda[_0x1608bf(0x791)](),this['waInstances'][_0x19d7cb]=_0x206cda;};try{if(this[_0x509984(0x75d)][_0x509984(0x615)]){let _0x50824f=await this[_0x509984(0x1a0)][_0x509984(0x833)]();_0x50824f?.[_0x509984(0x29b)]>0x0&&_0x50824f['forEach'](async _0x3f5a83=>await _0x71c995(_0x3f5a83[_0x509984(0x771)](':')[0x1]));return;}if(this['db']['ENABLED']){await this['repository'][_0x509984(0x422)][_0x509984(0x58d)]();let _0x7307d1=await this[_0x509984(0x141)][_0x509984(0x54a)]();_0x7307d1[_0x509984(0x29b)]>0x0&&_0x7307d1[_0x509984(0x3a3)](async _0x318091=>await _0x71c995(_0x318091['namespace']['replace'](/^[\w-]+\./,'')));return;}}catch(_0x5655d8){this[_0x509984(0x34c)][_0x509984(0x83d)](_0x5655d8);}}async[a0_0x5bdda6(0x13f)](){const _0x54edab=a0_0x5bdda6;let _0x4e510e=await this['repository'][_0x54edab(0x31a)][_0x54edab(0x3e5)](),_0x27add5=_0x4e510e[_0x54edab(0x539)](_0x146479=>!this[_0x54edab(0x1b1)][_0x146479[_0x54edab(0x38a)]]&&(_0x146479[_0x54edab(0x407)]||typeof _0x146479[_0x54edab(0x407)]>'u'));_0x27add5[_0x54edab(0x29b)]>0x0&&await Promise[_0x54edab(0x219)](_0x27add5['map'](async _0x2c1a96=>{const _0x2bd476=_0x54edab;let _0x61f7b4={'online':!0x1,'lastDisconnect':Date['now']()};await this['repository']['auth'][_0x2bd476(0x812)](_0x61f7b4,_0x2c1a96[_0x2bd476(0x38a)]);}));let _0x27fea9=Date[_0x54edab(0x71b)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x2c5d01=_0x4e510e['filter'](_0x2fb2ed=>!this[_0x54edab(0x1b1)][_0x2fb2ed[_0x54edab(0x38a)]]&&typeof _0x2fb2ed['lastDisconnect']<'u'&&_0x2fb2ed[_0x54edab(0x76f)]<_0x27fea9);_0x2c5d01['length']>0x0&&await Promise['all'](_0x2c5d01[_0x54edab(0x2b0)](async _0xd4a469=>{}));}async['InstancesAlterarTodas'](){const _0x51e761=a0_0x5bdda6;try{let _0x1c622c={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x28e65e={'online':!0x1,'lastDisconnect':Date[_0x51e761(0x71b)]()},_0x172ec1=await this[_0x51e761(0x320)]['auth'][_0x51e761(0x6ee)](_0x1c622c,_0x28e65e);console[_0x51e761(0x271)](_0x51e761(0x595)+_0x172ec1[_0x51e761(0x5a4)]),await this['removeOlderDisconnectedInstances']();}catch(_0x92d28f){console['error'](_0x51e761(0x6b9),_0x92d28f);}}async[a0_0x5bdda6(0x23c)](){const _0x17f98c=a0_0x5bdda6;try{let _0x348317={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x4e60e9=await this[_0x17f98c(0x320)][_0x17f98c(0x31a)][_0x17f98c(0x803)](_0x348317);console['log'](_0x17f98c(0x78a)+_0x4e60e9['insertCount']);}catch(_0x13bb54){console[_0x17f98c(0x83d)](_0x17f98c(0x80c),_0x13bb54);}}['removeInstance'](){const _0x4e40ec=a0_0x5bdda6;this[_0x4e40ec(0x5c1)]['on'](_0x4e40ec(0x494),async _0xd70d8f=>{const _0x16de80=_0x4e40ec;try{this[_0x16de80(0x1b1)][_0xd70d8f]=void 0x0;}catch{}try{this['cleaningUp'](_0xd70d8f);}finally{this[_0x16de80(0x34c)][_0x16de80(0x1f4)]('Instance\x20\x22'+_0xd70d8f+_0x16de80(0x31f));}});}[a0_0x5bdda6(0x708)](){const _0x82a98a=a0_0x5bdda6;this['eventEmitter']['on'](_0x82a98a(0x2d5),async _0x3e7c58=>{const _0x7d1f9d=_0x82a98a;try{this[_0x7d1f9d(0x1b1)][_0x3e7c58]=void 0x0;}catch{}try{this['cleaningUp'](_0x3e7c58);}finally{this[_0x7d1f9d(0x34c)][_0x7d1f9d(0x1f4)](_0x7d1f9d(0x378)+_0x3e7c58+_0x7d1f9d(0x129));}});}},qt=class extends D{['getChatModelForOwner'](_0x619590){return Qs(_0x619590);}async[a0_0x5bdda6(0x72e)](_0x13d806){const _0x50f3c3=a0_0x5bdda6;if(_0x13d806[_0x50f3c3(0x29b)]!==0x0)try{return{'insertCount':(await this[_0x50f3c3(0x237)](_0x13d806[0x0][_0x50f3c3(0x7cf)])['insertMany']([..._0x13d806]))['length']};}catch(_0x207be6){return _0x207be6;}}async[a0_0x5bdda6(0x2b1)](_0x242052,_0x2bed15){const _0x5c0d7c=a0_0x5bdda6;try{let _0x4966e2=this['getChatModelForOwner'](_0x2bed15),_0x341754=I(_0x242052[_0x5c0d7c(0x80f)]);return await _0x4966e2['find'](_0x341754)[_0x5c0d7c(0x68a)]({'lastmsg':-0x1})[_0x5c0d7c(0x51f)](_0x242052?.[_0x5c0d7c(0x51f)]??0x0)[_0x5c0d7c(0x841)]();}catch{return[];}}async[a0_0x5bdda6(0x469)](_0x1ed3b4,_0xc8974f){const _0x32c9fd=a0_0x5bdda6;try{return{'deletedCount':(await this[_0x32c9fd(0x237)](_0xc8974f)['deleteMany']({..._0x1ed3b4[_0x32c9fd(0x80f)]}))[_0x32c9fd(0x47c)]};}catch(_0x8f89c0){return{'error':_0x8f89c0?.[_0x32c9fd(0x58f)]()};}}async[a0_0x5bdda6(0x5fe)](_0xa60410,_0xb0dd55){const _0xe4b105=a0_0x5bdda6;try{return await this[_0xe4b105(0x237)](_0xb0dd55)[_0xe4b105(0x803)]({..._0xa60410[_0xe4b105(0x80f)]}),[];}catch(_0x31f545){return{'error':_0x31f545?.['toString']()};}}async[a0_0x5bdda6(0x28c)](_0x303db8,_0x4c8b66){const _0x186494=a0_0x5bdda6;try{let _0x1a4db3=this[_0x186494(0x237)](_0x4c8b66),_0x9b668f=I(_0x303db8[_0x186494(0x80f)]);return await _0x1a4db3['findOne'](_0x9b668f)['lean']();}catch{return null;}}async[a0_0x5bdda6(0x31c)](_0x10e365,_0xd472ec,_0x75f755,_0xc90e2e,_0x32133='$set'){const _0x1a58a3=a0_0x5bdda6;try{let _0x2058fa={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xc90e2e},_0x2ea24d=this[_0x1a58a3(0x237)](_0x75f755),_0x585c74=I(_0x10e365['where']);Object[_0x1a58a3(0x45d)](_0xd472ec)[_0x1a58a3(0x3a3)](_0x1d2012=>{_0xd472ec[_0x1d2012]==null&&delete _0xd472ec[_0x1d2012];});let _0x3c32d4={};return _0x3c32d4[_0x32133]=_0xd472ec,await _0x2ea24d[_0x1a58a3(0x3c8)](_0x585c74,_0x3c32d4,_0x2058fa);}catch(_0x2a0079){return console[_0x1a58a3(0x83d)](_0x2a0079),null;}}async[a0_0x5bdda6(0x63a)](_0x387701){const _0x4440b3=a0_0x5bdda6;try{let _0x4fe99b=this[_0x4440b3(0x237)](_0x387701[0x0][_0x4440b3(0x16b)]['where']['owner']),_0x8b366d=_0x387701[_0x4440b3(0x2b0)](_0xef088a=>({'updateOne':{'filter':{..._0xef088a[_0x4440b3(0x16b)][_0x4440b3(0x80f)]},'update':{'$set':_0xef088a[_0x4440b3(0x674)]},'upsert':!0x0}})),_0x4947e4=await _0x4fe99b[_0x4440b3(0x14a)](_0x8b366d);return _0x4947e4[_0x4440b3(0x2ec)]+_0x4947e4['upsertedCount'];}catch(_0x168810){return console[_0x4440b3(0x83d)](_0x168810),0x0;}}async[a0_0x5bdda6(0x568)](_0x26d050){const _0x100a34=a0_0x5bdda6;try{let _0x54ce80={'group_isCommunity':'','group_announce':'','group_size':''},_0x13a8f1={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x3a3b3f={'$unset':_0x54ce80};return(await this[_0x100a34(0x237)](_0x26d050)[_0x100a34(0x63a)](_0x13a8f1,_0x3a3b3f))[_0x100a34(0x2ec)];}catch(_0x46a315){return console[_0x100a34(0x83d)](_0x100a34(0x331),_0x46a315),0x0;}}async[a0_0x5bdda6(0x11e)](_0x4742e5){const _0x5715b8=a0_0x5bdda6;try{let _0x2c4933=this['getChatModelForOwner'](_0x4742e5),_0x5d98bc={'leadInfo.etiquetas':{'$exists':!0x1}},_0x2c4328={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2c4933['updateMany'](_0x5d98bc,_0x2c4328))[_0x5715b8(0x2ec)];}catch(_0x99c62){return console[_0x5715b8(0x83d)](_0x99c62),0x0;}}async[a0_0x5bdda6(0x5f5)](_0x4ec0eb){const _0x1169d8=a0_0x5bdda6;try{let _0x5b5952=this[_0x1169d8(0x237)](_0x4ec0eb),_0x267c09={'leadInfo.tags':{'$exists':!0x1}},_0x126112={'$set':{'leadInfo.tags':[]}};return(await _0x5b5952[_0x1169d8(0x63a)](_0x267c09,_0x126112))[_0x1169d8(0x2ec)];}catch(_0x199822){return console[_0x1169d8(0x83d)](_0x199822),0x0;}}async['updateMissingCustomFields'](_0x962941){const _0x4ccb92=a0_0x5bdda6;try{let _0x5d175d=this['getChatModelForOwner'](_0x962941),_0x3656a7={'leadInfo.customFields':{'$exists':!0x1}},_0x2a95ec={'$set':{'leadInfo.customFields':[]}};return(await _0x5d175d[_0x4ccb92(0x63a)](_0x3656a7,_0x2a95ec))[_0x4ccb92(0x2ec)];}catch(_0x22aa3d){return console[_0x4ccb92(0x83d)](_0x22aa3d),0x0;}}async['insertMany'](_0x34e828,_0x1b888f){const _0x1b189b=a0_0x5bdda6;if(!Array[_0x1b189b(0x13b)](_0x34e828)||_0x34e828['length']===0x0)throw new Error(_0x1b189b(0x163));try{return(await this[_0x1b189b(0x237)](_0x1b888f)[_0x1b189b(0x7b4)](_0x34e828))[_0x1b189b(0x29b)];}catch(_0x2d0366){throw console[_0x1b189b(0x83d)](_0x1b189b(0x22a),_0x2d0366),_0x2d0366;}}async[a0_0x5bdda6(0x75b)](_0x4ff966,_0x2e00bb){const _0x31c9ed=a0_0x5bdda6;try{await this[_0x31c9ed(0x237)](_0x2e00bb)[_0x31c9ed(0x21c)]({'_id':_0x4ff966});}catch(_0x515a75){throw console['error'](_0x31c9ed(0x4e1),_0x515a75),_0x515a75;}}},Vt=class extends D{constructor(_0x3f5d88,_0x719b3c,_0x1570af){const _0x5442b0=a0_0x5bdda6;super(_0x719b3c),this[_0x5442b0(0x284)]=_0x3f5d88,this[_0x5442b0(0x5b4)]=_0x719b3c,this['dbConnection']=_0x1570af;}async['insert'](_0x5749cc){const _0x4ce245=a0_0x5bdda6;if(_0x5749cc['length']!==0x0)try{return{'insertCount':(await this[_0x4ce245(0x284)][_0x4ce245(0x7b4)]([..._0x5749cc]))[_0x4ce245(0x29b)]};}catch(_0x49c6a2){return _0x49c6a2;}}async['update'](_0x38aaba,_0x5ddc36){const _0x19f3f0=a0_0x5bdda6;try{let _0x18f63f=I(_0x38aaba[_0x19f3f0(0x80f)]);return{'updatedCount':(await this[_0x19f3f0(0x284)][_0x19f3f0(0x63a)](_0x18f63f,{'$set':_0x5ddc36}))[_0x19f3f0(0x2ec)]};}catch(_0x5a17c3){return console[_0x19f3f0(0x83d)](_0x19f3f0(0x60b),_0x5a17c3),{'error':_0x5a17c3[_0x19f3f0(0x58f)]()};}}async[a0_0x5bdda6(0x501)](_0x3cc884){const _0x3f4ad8=a0_0x5bdda6;try{let _0x4b3cec={'_id':{'$in':_0x3cc884}};return await this[_0x3f4ad8(0x284)][_0x3f4ad8(0x2b1)](_0x4b3cec)['lean']();}catch(_0x39d5fc){return console[_0x3f4ad8(0x83d)](_0x3f4ad8(0x3f1),_0x39d5fc),[];}}async[a0_0x5bdda6(0x469)](_0x1752fa){const _0x4313d5=a0_0x5bdda6;try{return{'deletedCount':(await this[_0x4313d5(0x284)]['deleteMany']({..._0x1752fa[_0x4313d5(0x80f)]}))[_0x4313d5(0x47c)]};}catch(_0x1c9668){return{'error':_0x1c9668?.[_0x4313d5(0x58f)]()};}}async[a0_0x5bdda6(0x2b1)](_0x2e3bff){const _0x12913b=a0_0x5bdda6;try{let _0x30c8a3=I(_0x2e3bff['where']);return await this[_0x12913b(0x284)][_0x12913b(0x2b1)](_0x30c8a3)[_0x12913b(0x51f)](_0x2e3bff?.['limit']??0x0)[_0x12913b(0x841)]();}catch{return[];}}async[a0_0x5bdda6(0x28c)](_0x523385){const _0x2a70b6=a0_0x5bdda6;try{let _0x20afa7=I(_0x523385[_0x2a70b6(0x80f)]);return await this[_0x2a70b6(0x284)][_0x2a70b6(0x28c)](_0x20afa7)['lean']();}catch{return null;}}},Gt=class extends D{[a0_0x5bdda6(0x559)](_0x3dfd58){return fa(_0x3dfd58);}async[a0_0x5bdda6(0x31c)](_0x399633,_0x4f7d78,_0x517b9b,_0x5771fb){const _0x18082=a0_0x5bdda6;try{let _0x153cd6={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5771fb},_0x5ecca1=this[_0x18082(0x559)](_0x517b9b),_0x2be30d=I(_0x399633[_0x18082(0x80f)]);return await _0x5ecca1['findOneAndUpdate'](_0x2be30d,{'$set':_0x4f7d78},_0x153cd6);}catch(_0x4faa4f){return console[_0x18082(0x83d)](_0x4faa4f),null;}}async[a0_0x5bdda6(0x2b1)](_0x12c5c2,_0x22ed53){const _0x2d1294=a0_0x5bdda6;try{let _0x5d8a67=this[_0x2d1294(0x559)](_0x22ed53),_0x50f43b=I(_0x12c5c2['where']);return await _0x5d8a67[_0x2d1294(0x2b1)](_0x50f43b);}catch(_0x3a4093){console[_0x2d1294(0x83d)](_0x3a4093);}}async[a0_0x5bdda6(0x469)](_0x1aa9ee,_0x1d8d1d){const _0x27202c=a0_0x5bdda6;try{let _0x232f3b=this[_0x27202c(0x559)](_0x1d8d1d),_0x306e46=I(_0x1aa9ee[_0x27202c(0x80f)]);await _0x232f3b[_0x27202c(0x803)](_0x306e46);}catch(_0x8a59ac){console[_0x27202c(0x83d)](_0x8a59ac);}}async['deleteAll'](_0x5f1d40){const _0x41b9aa=a0_0x5bdda6;try{return await this['getLabelModelForOwner'](_0x5f1d40)[_0x41b9aa(0x44d)][_0x41b9aa(0x719)](),{'success':!0x0};}catch(_0x30391c){return console[_0x41b9aa(0x83d)](_0x30391c),{'success':!0x1,'error':_0x30391c};}}},Bt=class{constructor(_0x1e1dd4){const _0x1e785a=a0_0x5bdda6;this[_0x1e785a(0x545)]=_0x1e1dd4;}async[a0_0x5bdda6(0x2c4)]({instanceName:_0x16b8c9},_0x3c6d8a){const _0xd31472=a0_0x5bdda6;return await this[_0xd31472(0x545)][_0xd31472(0x1b1)][_0x16b8c9]['editChat'](_0x3c6d8a);}async['whatsappNumber']({instanceName:_0x528089},_0x2b9820){const _0x1667f6=a0_0x5bdda6;return await this[_0x1667f6(0x545)][_0x1667f6(0x1b1)][_0x528089][_0x1667f6(0x3db)](_0x2b9820);}async[a0_0x5bdda6(0x55b)]({instanceName:_0x264219},_0xab29cf){const _0x16d698=a0_0x5bdda6;return await this[_0x16d698(0x545)][_0x16d698(0x1b1)][_0x264219]['importChats'](_0xab29cf);}async[a0_0x5bdda6(0x418)]({instanceName:_0x2a04ac},_0x1c7b60){const _0x279f8a=a0_0x5bdda6;return await this[_0x279f8a(0x545)][_0x279f8a(0x1b1)][_0x2a04ac]['markMessageAsRead'](_0x1c7b60);}async[a0_0x5bdda6(0x3a1)]({instanceName:_0x2993be},_0x268b31){const _0x34e91e=a0_0x5bdda6;return await this[_0x34e91e(0x545)][_0x34e91e(0x1b1)][_0x2993be][_0x34e91e(0x3a1)](_0x268b31);}async[a0_0x5bdda6(0x70c)]({instanceName:_0x21f668},_0x3fff5a){return await this['waMonitor']['waInstances'][_0x21f668]['deleteMessage'](_0x3fff5a);}async[a0_0x5bdda6(0x517)]({instanceName:_0x761308},_0x5da439){const _0x3a4abd=a0_0x5bdda6;return await this[_0x3a4abd(0x545)][_0x3a4abd(0x1b1)][_0x761308][_0x3a4abd(0x2fd)](_0x5da439[_0x3a4abd(0x5eb)]);}async['fetchProfile']({instanceName:_0x4b4826},_0x4ca5c4){const _0x526a23=a0_0x5bdda6;return await this[_0x526a23(0x545)][_0x526a23(0x1b1)][_0x4b4826][_0x526a23(0x839)](_0x4ca5c4[_0x526a23(0x5eb)]);}async[a0_0x5bdda6(0x714)]({instanceName:_0x1f01fc},_0x1df041){const _0x54c2fe=a0_0x5bdda6;return await this[_0x54c2fe(0x545)][_0x54c2fe(0x1b1)][_0x1f01fc]['updatePresence'](_0x1df041);}async[a0_0x5bdda6(0x603)]({instanceName:_0x512f12},_0x35e78b){const _0x45d05e=a0_0x5bdda6;return await this[_0x45d05e(0x545)]['waInstances'][_0x512f12][_0x45d05e(0x603)](_0x35e78b);}async[a0_0x5bdda6(0x4b7)]({instanceName:_0x1d033e},_0x501290){const _0xc87506=a0_0x5bdda6;return await this[_0xc87506(0x545)][_0xc87506(0x1b1)][_0x1d033e]['getBase64FromMediaMessage'](_0x501290);}async[a0_0x5bdda6(0x688)]({instanceName:_0x720400},_0x3763ad){const _0x15f944=a0_0x5bdda6;return await this[_0x15f944(0x545)][_0x15f944(0x1b1)][_0x720400][_0x15f944(0x688)](_0x3763ad);}async[a0_0x5bdda6(0x2d6)]({instanceName:_0x5f012f}){const _0x41ac01=a0_0x5bdda6;return await this[_0x41ac01(0x545)][_0x41ac01(0x1b1)][_0x5f012f][_0x41ac01(0x2d6)]();}async[a0_0x5bdda6(0x555)]({instanceName:_0x1f0731}){const _0x762122=a0_0x5bdda6;return await this[_0x762122(0x545)]['waInstances'][_0x1f0731][_0x762122(0x555)]();}async['fetchPrivacySettings']({instanceName:_0x274b72}){const _0x384a34=a0_0x5bdda6;return await this['waMonitor'][_0x384a34(0x1b1)][_0x274b72][_0x384a34(0x11c)]();}async['updatePrivacySettings']({instanceName:_0x2a69b8},_0x44b735){const _0x1c173d=a0_0x5bdda6;return await this[_0x1c173d(0x545)][_0x1c173d(0x1b1)][_0x2a69b8][_0x1c173d(0x6d6)](_0x44b735);}async[a0_0x5bdda6(0x67b)]({instanceName:_0x584069},_0x4a671c){const _0x416da3=a0_0x5bdda6;return await this[_0x416da3(0x545)][_0x416da3(0x1b1)][_0x584069]['fetchBusinessProfile'](_0x4a671c['number']);}async[a0_0x5bdda6(0x196)]({instanceName:_0x53a5ce},_0x3e7dd3){const _0x56add8=a0_0x5bdda6;return await this[_0x56add8(0x545)]['waInstances'][_0x53a5ce][_0x56add8(0x196)](_0x3e7dd3[_0x56add8(0x63e)]);}async[a0_0x5bdda6(0x6b5)]({instanceName:_0x262c51},_0x4561cd){const _0x53cd1a=a0_0x5bdda6;return await this[_0x53cd1a(0x545)]['waInstances'][_0x262c51][_0x53cd1a(0x6b5)](_0x4561cd[_0x53cd1a(0x390)]);}async['updateProfilePicture']({instanceName:_0x5af93e},_0x23e356){const _0x189d9c=a0_0x5bdda6;return await this['waMonitor']['waInstances'][_0x5af93e]['updateProfilePicture'](_0x23e356[_0x189d9c(0x77f)]);}async['removeProfilePicture']({instanceName:_0x2d5bbc},_0x490e26){const _0x35e703=a0_0x5bdda6;return await this['waMonitor']['waInstances'][_0x2d5bbc][_0x35e703(0x1e8)]();}},_s=require(a0_0x5bdda6(0x1aa)),Wt=class c{constructor(_0x373236,_0x1ce688,_0xd5e15,_0x19ff63,_0x481fe6){const _0x395f0a=a0_0x5bdda6;this[_0x395f0a(0x545)]=_0x373236,this['configService']=_0x1ce688,this[_0x395f0a(0x320)]=_0xd5e15,this[_0x395f0a(0x5c1)]=_0x19ff63,this[_0x395f0a(0x5c4)]=_0x481fe6,this['logger']=new $(c[_0x395f0a(0x63e)]);}async[a0_0x5bdda6(0x7e1)]({instanceName:_0x2de81a,apikey:_0x235612,number:_0x564552,proxy:_0x34f641=!0x0}){const _0x29905a=a0_0x5bdda6;try{let _0x20bab3=new Ee(this[_0x29905a(0x5b4)],this['eventEmitter'],this['repository']);_0x20bab3[_0x29905a(0x7eb)]=_0x2de81a,this[_0x29905a(0x545)][_0x29905a(0x1b1)][_0x20bab3[_0x29905a(0x7eb)]]=_0x20bab3;let _0x7f8bb7={};_0x235612?(await this[_0x29905a(0x320)]['auth'][_0x29905a(0x812)]({'apikey':_0x235612},_0x2de81a),_0x7f8bb7[_0x29905a(0x79e)]=_0x235612):_0x7f8bb7=await this[_0x29905a(0x5c4)][_0x29905a(0x283)]({'instanceName':_0x20bab3[_0x29905a(0x7eb)]});let _0x17ddb0;if(_0x564552){if(_0x17ddb0=await this['verifyWhatsAppNumber'](_0x564552),_0x17ddb0[_0x29905a(0x83d)])throw new x(_0x17ddb0[_0x29905a(0x83d)][_0x29905a(0x58f)]());_0x564552=_0x17ddb0['number'];}let _0x3f6606;return await _0x20bab3[_0x29905a(0x791)](_0x564552),await(0x0,_s[_0x29905a(0x500)])(0x7d0),_0x3f6606=_0x20bab3[_0x29905a(0x5db)],{'instance':{'instanceName':_0x20bab3[_0x29905a(0x7eb)],'status':'created'},'hash':_0x7f8bb7,'qrcode':_0x3f6606};}catch(_0x5697f4){throw this[_0x29905a(0x34c)][_0x29905a(0x83d)](_0x5697f4),_0x5697f4;}}async[a0_0x5bdda6(0x446)]({instanceName:_0x4e0449,number:_0x1f19d5=null}){const _0x4481bc=a0_0x5bdda6;try{let _0x48be5a=this[_0x4481bc(0x545)][_0x4481bc(0x1b1)][_0x4e0449];switch(_0x48be5a?.[_0x4481bc(0x773)]?.[_0x4481bc(0x28e)]){case'close':return await _0x48be5a['connectToWhatsapp'](_0x1f19d5),await(0x0,_s[_0x4481bc(0x500)])(0x7d0),_0x48be5a['qrCode'];case'connecting':return _0x48be5a[_0x4481bc(0x5db)];default:return await this[_0x4481bc(0x192)]({'instanceName':_0x4e0449});}}catch(_0x3bb637){this[_0x4481bc(0x34c)]['log'](_0x3bb637);}}async[a0_0x5bdda6(0x192)]({instanceName:_0x4cf432}){const _0x2a98e8=a0_0x5bdda6;let _0x3ef3b3=this['waMonitor']['waInstances'][_0x4cf432][_0x2a98e8(0x773)],_0x1005d0=null;_0x3ef3b3['state']===_0x2a98e8(0x41f)&&_0x4cf432&&(_0x1005d0=await this[_0x2a98e8(0x545)]['instanceInfo'](_0x4cf432));let _0x46ad5a=null;return _0x3ef3b3[_0x2a98e8(0x28e)]===_0x2a98e8(0x456)&&_0x4cf432&&(_0x46ad5a=this[_0x2a98e8(0x545)][_0x2a98e8(0x1b1)][_0x4cf432][_0x2a98e8(0x5db)]),{'instance':_0x4cf432,'connectionStatus':_0x3ef3b3,'instanceInfo':_0x1005d0,'qrcode':_0x46ad5a};}async[a0_0x5bdda6(0x173)](_0x354b39){const _0x4982e8=a0_0x5bdda6;_0x354b39=_0x354b39[_0x4982e8(0x4a9)](/\D/g,'');let _0x36e453=Object[_0x4982e8(0x45d)](this['waMonitor'][_0x4982e8(0x1b1)])['filter'](_0x181c88=>{const _0x33ac9d=_0x4982e8;let _0x2e5add=this[_0x33ac9d(0x545)][_0x33ac9d(0x1b1)][_0x181c88];return _0x2e5add&&_0x2e5add[_0x33ac9d(0x773)]&&_0x2e5add['connectionStatus'][_0x33ac9d(0x28e)]===_0x33ac9d(0x41f);});if(_0x36e453[_0x4982e8(0x29b)]===0x0)return{'number':this[_0x4982e8(0x6c6)](_0x354b39)};let _0x5aec64=Math[_0x4982e8(0x60a)](Math['random']()*_0x36e453['length']),_0x1842bc=_0x36e453[_0x5aec64];try{let _0x278025=(await this[_0x4982e8(0x545)]['waInstances'][_0x1842bc][_0x4982e8(0x3db)]({'numbers':[_0x354b39]}))[_0x4982e8(0x56e)]();return _0x278025[_0x4982e8(0x2d9)]?{'number':_0x278025[_0x4982e8(0x518)][_0x4982e8(0x4a9)](_0x4982e8(0x2e3),'')}:{'number':_0x354b39,'error':_0x4982e8(0x3a4)};}catch(_0x3897a5){return this[_0x4982e8(0x34c)][_0x4982e8(0x83d)](_0x4982e8(0x202)+_0x3897a5),{'number':_0x354b39,'error':_0x4982e8(0x656)};}}['formatBRNumber'](_0x4d83ba){let _0x40fb81=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x4d83ba);if(_0x40fb81&&_0x40fb81[0x1]==='55'){let _0x319321=_0x40fb81[0x2],_0x60e77=_0x40fb81[0x3],_0x182285=_0x40fb81[0x4];if(parseInt(_0x319321)>=0x1f&&_0x60e77==='9')return _0x40fb81[0x1]+_0x319321+_0x182285;}return _0x4d83ba;}async[a0_0x5bdda6(0x3ef)]({instanceName:_0xebfa5a}){const _0x5aca4b=a0_0x5bdda6;try{return this[_0x5aca4b(0x545)][_0x5aca4b(0x1b1)][_0xebfa5a]?.[_0x5aca4b(0x249)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x5aca4b(0x166)}};}catch(_0x4c3719){this[_0x5aca4b(0x34c)][_0x5aca4b(0x83d)](_0x4c3719);}}async['fetchInstances']({instanceName:_0x30fa4e}){const _0x5c7942=a0_0x5bdda6;return _0x30fa4e?this[_0x5c7942(0x545)][_0x5c7942(0x840)](_0x30fa4e):this[_0x5c7942(0x545)]['instanceInfo']();}async[a0_0x5bdda6(0x55a)]({instanceName:_0x1a8cdc}){const _0x4e381f=a0_0x5bdda6;try{return await this[_0x4e381f(0x545)][_0x4e381f(0x1b1)][_0x1a8cdc]?.[_0x4e381f(0x249)]?.[_0x4e381f(0x55a)](_0x4e381f(0x37d)+_0x1a8cdc),{'error':!0x1,'message':_0x4e381f(0x4fd)};}catch(_0x254afc){throw new x(_0x254afc[_0x4e381f(0x58f)]());}}async[a0_0x5bdda6(0x743)]({instanceName:_0x241685}){const _0x156e2a=a0_0x5bdda6;if((await this[_0x156e2a(0x192)]({'instanceName':_0x241685}))[_0x156e2a(0x773)][_0x156e2a(0x28e)]===_0x156e2a(0x41f))throw new m([_0x156e2a(0x478),_0x156e2a(0x39b)]);try{return delete this['waMonitor'][_0x156e2a(0x1b1)][_0x241685],{'error':!0x1,'message':_0x156e2a(0x4d2)};}catch(_0xbdb925){throw new m(_0xbdb925[_0x156e2a(0x58f)]());}}},se=require(a0_0x5bdda6(0x128)),zt=class{constructor(_0x1dac2c){const _0x4f4873=a0_0x5bdda6;this[_0x4f4873(0x545)]=_0x1dac2c;}async[a0_0x5bdda6(0x3da)]({instanceName:_0x172299},_0x4491f4){const _0x339880=a0_0x5bdda6;return await this[_0x339880(0x545)]['waInstances'][_0x172299][_0x339880(0x596)](_0x4491f4);}async[a0_0x5bdda6(0x30c)]({instanceName:_0x426f7a},_0x3012d5){const _0x4c739d=a0_0x5bdda6;return await this[_0x4c739d(0x545)][_0x4c739d(0x1b1)][_0x426f7a]['menuMessage'](_0x3012d5);}async['sendMedia']({instanceName:_0x53af56},_0x2d776c){const _0x45bb1c=a0_0x5bdda6;if((0x0,se['isBase64'])(_0x2d776c?.[_0x45bb1c(0x1b0)]?.[_0x45bb1c(0x3d1)])&&!_0x2d776c?.[_0x45bb1c(0x1b0)]?.[_0x45bb1c(0x308)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,se['isURL'])(_0x2d776c?.[_0x45bb1c(0x1b0)]?.['media'])||(0x0,se['isBase64'])(_0x2d776c?.[_0x45bb1c(0x1b0)]?.['media']))return await this['waMonitor'][_0x45bb1c(0x1b1)][_0x53af56][_0x45bb1c(0x1b0)](_0x2d776c);throw new m(_0x45bb1c(0x33f));}async[a0_0x5bdda6(0x18d)]({instanceName:_0x3ea18e},_0x3d24f1){const _0x2a6f4f=a0_0x5bdda6;if((0x0,se[_0x2a6f4f(0x22d)])(_0x3d24f1[_0x2a6f4f(0x590)][_0x2a6f4f(0x614)])||(0x0,se[_0x2a6f4f(0x2eb)])(_0x3d24f1['stickerMessage'][_0x2a6f4f(0x614)]))return await this[_0x2a6f4f(0x545)]['waInstances'][_0x3ea18e][_0x2a6f4f(0x2ab)](_0x3d24f1);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x5bdda6(0x5e8)]({instanceName:_0xcfc18},_0x28e7fe){const _0x42acb1=a0_0x5bdda6;if((0x0,se[_0x42acb1(0x22d)])(_0x28e7fe[_0x42acb1(0x560)][_0x42acb1(0x489)])||(0x0,se['isBase64'])(_0x28e7fe[_0x42acb1(0x560)][_0x42acb1(0x489)]))return await this[_0x42acb1(0x545)][_0x42acb1(0x1b1)][_0xcfc18][_0x42acb1(0x672)](_0x28e7fe);throw new m(_0x42acb1(0x33f));}async[a0_0x5bdda6(0x178)]({instanceName:_0x22457b},_0x36c214){const _0x2085dc=a0_0x5bdda6;if((0x0,se[_0x2085dc(0x2eb)])(_0x36c214[_0x2085dc(0x5ac)]['mediaMessage']?.['media'])&&!_0x36c214[_0x2085dc(0x5ac)][_0x2085dc(0x1b0)]?.[_0x2085dc(0x308)])throw new m(_0x2085dc(0x605));return await this[_0x2085dc(0x545)]['waInstances'][_0x22457b][_0x2085dc(0x5ac)](_0x36c214);}async['sendLocation']({instanceName:_0x2b8f56},_0x142a7f){const _0x1fad57=a0_0x5bdda6;return await this[_0x1fad57(0x545)][_0x1fad57(0x1b1)][_0x2b8f56][_0x1fad57(0x668)](_0x142a7f);}async['sendPoll']({instanceName:_0x323fe9},_0x42d111){const _0x17dedd=a0_0x5bdda6;return await this['waMonitor'][_0x17dedd(0x1b1)][_0x323fe9][_0x17dedd(0x1f9)](_0x42d111);}async[a0_0x5bdda6(0x6f1)]({instanceName:_0x2e1e6e},_0x54a17b){const _0x1be70f=a0_0x5bdda6;return await this['waMonitor'][_0x1be70f(0x1b1)][_0x2e1e6e][_0x1be70f(0x315)](_0x54a17b);}async[a0_0x5bdda6(0x592)]({instanceName:_0xad49b1},_0x2201c6){const _0x50e0e6=a0_0x5bdda6;return await this[_0x50e0e6(0x545)]['waInstances'][_0xad49b1][_0x50e0e6(0x2dd)](_0x2201c6);}async[a0_0x5bdda6(0x400)]({instanceName:_0x46abe7},_0x3872f1){const _0x986b78=a0_0x5bdda6;if(!_0x3872f1[_0x986b78(0x5f6)]['reaction'][_0x986b78(0x1ff)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x986b78(0x1be));return await this[_0x986b78(0x545)][_0x986b78(0x1b1)][_0x46abe7][_0x986b78(0x5f6)](_0x3872f1);}async[a0_0x5bdda6(0x52b)]({instanceName:_0x5a09a8},_0x8950c2){const _0x50905c=a0_0x5bdda6;return await this[_0x50905c(0x545)][_0x50905c(0x1b1)][_0x5a09a8][_0x50905c(0x2ce)](_0x8950c2);}},Ro=require('jsonwebtoken'),Ps=require(a0_0x5bdda6(0x644)),Ht=class c{constructor(_0x1afc79,_0x5379dd,_0x29d682){const _0x2a3ad7=a0_0x5bdda6;this['configService']=_0x1afc79,this[_0x2a3ad7(0x545)]=_0x5379dd,this[_0x2a3ad7(0x320)]=_0x29d682,this[_0x2a3ad7(0x34c)]=new $(c[_0x2a3ad7(0x63e)]);}async['jwt'](_0x663309){const _0x1e0fb7=a0_0x5bdda6;let _0x40cbe7=this[_0x1e0fb7(0x5b4)][_0x1e0fb7(0x1bb)](_0x1e0fb7(0x389))['JWT'],_0x4459d6=(0x0,Ro[_0x1e0fb7(0x4aa)])({'instanceName':_0x663309['instanceName'],'apiName':tt,'tokenId':(0x0,Ps['v4'])()},_0x40cbe7[_0x1e0fb7(0x4af)],{'expiresIn':_0x40cbe7[_0x1e0fb7(0x6b3)],'encoding':_0x1e0fb7(0x5be),'subject':_0x1e0fb7(0x6f2)}),_0x18714f=await this[_0x1e0fb7(0x320)][_0x1e0fb7(0x31a)][_0x1e0fb7(0x812)]({'jwt':_0x4459d6},_0x663309[_0x1e0fb7(0x7eb)]);if(_0x18714f[_0x1e0fb7(0x83d)])throw this[_0x1e0fb7(0x34c)][_0x1e0fb7(0x83d)]({'localError':c['name']+'.jwt','error':_0x18714f[_0x1e0fb7(0x83d)]}),new m('Authentication\x20error',_0x18714f[_0x1e0fb7(0x83d)]?.[_0x1e0fb7(0x58f)]());return{'jwt':_0x4459d6};}async['apikey'](_0x36900c){const _0x57f33d=a0_0x5bdda6;let _0x4ffb7a=(0x0,Ps['v4'])()[_0x57f33d(0x44a)](),_0x517ccc=await this[_0x57f33d(0x320)][_0x57f33d(0x31a)][_0x57f33d(0x812)]({'apikey':_0x4ffb7a},_0x36900c[_0x57f33d(0x7eb)]);if(_0x517ccc[_0x57f33d(0x83d)])throw this[_0x57f33d(0x34c)][_0x57f33d(0x83d)]({'localError':c[_0x57f33d(0x63e)]+_0x57f33d(0x4db),'error':_0x517ccc['error']}),new m(_0x57f33d(0x509),_0x517ccc['error']?.[_0x57f33d(0x58f)]());return{'apikey':_0x4ffb7a};}async[a0_0x5bdda6(0x283)](_0xe588aa){const _0x486419=a0_0x5bdda6;let _0x17dfb5=this[_0x486419(0x5b4)][_0x486419(0x1bb)](_0x486419(0x389));return await this[_0x17dfb5[_0x486419(0x1d6)]](_0xe588aa);}},Kt=class{constructor(_0x445e55){this['waMonitor']=_0x445e55;}async[a0_0x5bdda6(0x366)](_0x4e0ea2,_0x1443d5){const _0x4fc036=a0_0x5bdda6;return await this[_0x4fc036(0x545)][_0x4fc036(0x1b1)][_0x4e0ea2['instanceName']][_0x4fc036(0x366)](_0x1443d5);}async[a0_0x5bdda6(0x5d8)](_0x3ac135,_0x5bb7a1){const _0x40e849=a0_0x5bdda6;return await this['waMonitor']['waInstances'][_0x3ac135[_0x40e849(0x7eb)]][_0x40e849(0x5d8)](_0x5bb7a1);}async[a0_0x5bdda6(0x5a7)](_0x51d4c7,_0x381c1e){const _0x548f46=a0_0x5bdda6;return await this[_0x548f46(0x545)][_0x548f46(0x1b1)][_0x51d4c7[_0x548f46(0x7eb)]][_0x548f46(0x5a7)](_0x381c1e);}async[a0_0x5bdda6(0x72c)](_0x59740a,_0xbfc478){const _0x30b07d=a0_0x5bdda6;return await this[_0x30b07d(0x545)][_0x30b07d(0x1b1)][_0x59740a[_0x30b07d(0x7eb)]]['groupName'](_0xbfc478);}async[a0_0x5bdda6(0x566)](_0x1e01c6,_0x1db383){const _0x523187=a0_0x5bdda6;return await this['waMonitor'][_0x523187(0x1b1)][_0x1e01c6[_0x523187(0x7eb)]][_0x523187(0x566)](_0x1db383);}async[a0_0x5bdda6(0x344)](_0x3e7a77,_0x23d7ce){const _0x34b3e2=a0_0x5bdda6;return await this['waMonitor'][_0x34b3e2(0x1b1)][_0x3e7a77['instanceName']][_0x34b3e2(0x344)](_0x23d7ce);}async['findGroupInfo'](_0x37d2a6,_0x3d9c27){const _0x143789=a0_0x5bdda6;return await this[_0x143789(0x545)][_0x143789(0x1b1)][_0x37d2a6['instanceName']]['findGroup'](_0x3d9c27);}async['findGroups'](_0x41710a){const _0x91c43e=a0_0x5bdda6;return await this[_0x91c43e(0x545)]['waInstances'][_0x41710a['instanceName']][_0x91c43e(0x83f)]();}async['inviteCode'](_0x2b895f,_0x3a6d33){const _0x462e79=a0_0x5bdda6;return await this[_0x462e79(0x545)][_0x462e79(0x1b1)][_0x2b895f[_0x462e79(0x7eb)]][_0x462e79(0x51b)](_0x3a6d33);}async[a0_0x5bdda6(0x302)](_0x497b25,_0x379215){const _0x546c90=a0_0x5bdda6;return await this[_0x546c90(0x545)][_0x546c90(0x1b1)][_0x497b25[_0x546c90(0x7eb)]][_0x546c90(0x302)](_0x379215);}async['groupGetInviteInfo'](_0x5b605e,_0x1c3d2a){const _0x3abbfe=a0_0x5bdda6;return await this[_0x3abbfe(0x545)]['waInstances'][_0x5b605e[_0x3abbfe(0x7eb)]][_0x3abbfe(0x314)](_0x1c3d2a);}async['revokeInviteCode'](_0x475377,_0x128aac){const _0x164adf=a0_0x5bdda6;return await this[_0x164adf(0x545)][_0x164adf(0x1b1)][_0x475377['instanceName']][_0x164adf(0x1a8)](_0x128aac);}async[a0_0x5bdda6(0x6ab)](_0x3ac22f,_0x267a63){const _0x1ab0d2=a0_0x5bdda6;return await this[_0x1ab0d2(0x545)][_0x1ab0d2(0x1b1)][_0x3ac22f['instanceName']][_0x1ab0d2(0x6ab)](_0x267a63);}async['updateGParticipate'](_0x2d9636,_0x1d3f71){const _0x2d07fe=a0_0x5bdda6;return await this[_0x2d07fe(0x545)][_0x2d07fe(0x1b1)][_0x2d9636[_0x2d07fe(0x7eb)]]['updateGParticipant'](_0x1d3f71);}async['toggleEphemeral'](_0x53ee37,_0x3bddc1){const _0x2630ca=a0_0x5bdda6;return await this[_0x2630ca(0x545)][_0x2630ca(0x1b1)][_0x53ee37[_0x2630ca(0x7eb)]][_0x2630ca(0x4ac)](_0x3bddc1);}async[a0_0x5bdda6(0x661)](_0x30f49a,_0x3af81b){const _0x1ecc3a=a0_0x5bdda6;return await this['waMonitor'][_0x1ecc3a(0x1b1)][_0x30f49a[_0x1ecc3a(0x7eb)]][_0x1ecc3a(0x661)](_0x3af81b);}},Qt=class{constructor(_0x38681b){const _0x2a3b1c=a0_0x5bdda6;this[_0x2a3b1c(0x545)]=_0x38681b;}['create'](_0x486da5,_0x4869da){const _0x39fa40=a0_0x5bdda6;return this['waMonitor'][_0x39fa40(0x1b1)][_0x486da5[_0x39fa40(0x7eb)]]['setWebhook'](_0x4869da);}async[a0_0x5bdda6(0x2b1)](_0x25b7d3){const _0x1bc247=a0_0x5bdda6;try{return await this[_0x1bc247(0x545)][_0x1bc247(0x1b1)][_0x25b7d3[_0x1bc247(0x7eb)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},vp=new $(a0_0x5bdda6(0x246)),Yt=class{constructor(_0x480289){const _0x14af86=a0_0x5bdda6;this[_0x14af86(0x545)]=_0x480289;}async[a0_0x5bdda6(0x7a0)](_0x1aa96c,_0x3a081b){const _0x50ad31=a0_0x5bdda6;return await this[_0x50ad31(0x545)][_0x50ad31(0x1b1)][_0x1aa96c[_0x50ad31(0x7eb)]][_0x50ad31(0x7a0)](_0x3a081b);}async[a0_0x5bdda6(0x589)](_0xa43f79){const _0x4d051f=a0_0x5bdda6;return await this[_0x4d051f(0x545)]['waInstances'][_0xa43f79[_0x4d051f(0x7eb)]][_0x4d051f(0x589)]();}async['deleteDoneMessages'](_0x26477a){const _0x893c81=a0_0x5bdda6;return await this[_0x893c81(0x545)][_0x893c81(0x1b1)][_0x26477a[_0x893c81(0x7eb)]][_0x893c81(0x37c)]();}async[a0_0x5bdda6(0x252)](_0x4f9dd){const _0x3dcce4=a0_0x5bdda6;return await this[_0x3dcce4(0x545)][_0x3dcce4(0x1b1)][_0x4f9dd['instanceName']][_0x3dcce4(0x252)]();}async[a0_0x5bdda6(0x28b)](_0x194b0b,_0x2a552a){const _0x47f093=a0_0x5bdda6;return await this[_0x47f093(0x545)][_0x47f093(0x1b1)][_0x194b0b['instanceName']][_0x47f093(0x28b)](_0x2a552a);}async[a0_0x5bdda6(0x77c)](_0x5a8e5f,_0x2ea053){const _0x1a2d1a=a0_0x5bdda6;return await this[_0x1a2d1a(0x545)][_0x1a2d1a(0x1b1)][_0x5a8e5f[_0x1a2d1a(0x7eb)]][_0x1a2d1a(0x77c)](_0x2ea053);}async['updateAutoCompleteMessages'](_0x3cfae0,_0x397138){const _0x3c8f51=a0_0x5bdda6;return await this['waMonitor'][_0x3c8f51(0x1b1)][_0x3cfae0[_0x3c8f51(0x7eb)]]['updateAutoCompleteMessages'](_0x397138);}async['updateFlowConfig'](_0x1f9454,_0xbca84d){const _0x82d21f=a0_0x5bdda6;return await this[_0x82d21f(0x545)][_0x82d21f(0x1b1)][_0x1f9454[_0x82d21f(0x7eb)]]['updateFlowConfig'](_0xbca84d);}async['startFlow'](_0x44d215,_0x172053){const _0x5d0a85=a0_0x5bdda6;return await this[_0x5d0a85(0x545)][_0x5d0a85(0x1b1)][_0x44d215[_0x5d0a85(0x7eb)]][_0x5d0a85(0x56f)](_0x172053);}async[a0_0x5bdda6(0x185)](_0xaaa0f1,_0x229335,_0x7be0ec,_0x595f16){const _0xe3a3bb=a0_0x5bdda6;return await this[_0xe3a3bb(0x545)][_0xe3a3bb(0x1b1)][_0xaaa0f1][_0xe3a3bb(0x185)](_0x229335,_0x7be0ec,_0x595f16);}async[a0_0x5bdda6(0x653)](_0x364618,_0x1061f0){const _0x407603=a0_0x5bdda6;return await this[_0x407603(0x545)][_0x407603(0x1b1)][_0x364618[_0x407603(0x7eb)]]['getConversation'](_0x1061f0);}async['fetchConversation'](_0x582b7c,_0x445098){const _0x1ef176=a0_0x5bdda6;return await this['waMonitor'][_0x1ef176(0x1b1)][_0x582b7c[_0x1ef176(0x7eb)]][_0x1ef176(0x5cd)](_0x445098);}async[a0_0x5bdda6(0x2db)](_0x1463d0,_0x34a34a){const _0x3f156a=a0_0x5bdda6;return await this[_0x3f156a(0x545)][_0x3f156a(0x1b1)][_0x1463d0[_0x3f156a(0x7eb)]][_0x3f156a(0x2db)](_0x34a34a);}async[a0_0x5bdda6(0x5e6)](_0x4a0a57,_0x5a7fb9){const _0x1d0bce=a0_0x5bdda6;return await this[_0x1d0bce(0x545)]['waInstances'][_0x4a0a57[_0x1d0bce(0x7eb)]]['deleteConversation'](_0x5a7fb9);}async['getFlow'](_0x5483c0,_0x2255bb){const _0x58767a=a0_0x5bdda6;return await this[_0x58767a(0x545)][_0x58767a(0x1b1)][_0x5483c0['instanceName']][_0x58767a(0x1c8)](_0x2255bb['name'],_0x2255bb[_0x58767a(0x2b5)]);}async[a0_0x5bdda6(0x78b)](_0x47a9c8,_0x3802f8,_0x4dca25){const _0x1c84e2=a0_0x5bdda6;return await this['waMonitor'][_0x1c84e2(0x1b1)][_0x47a9c8[_0x1c84e2(0x7eb)]][_0x1c84e2(0x78b)](_0x3802f8,_0x4dca25);}async['editFlow'](_0x136f82,_0x374ae7,_0x340425){const _0x1aabda=a0_0x5bdda6;return await this['waMonitor'][_0x1aabda(0x1b1)][_0x136f82[_0x1aabda(0x7eb)]][_0x1aabda(0x3ae)](_0x374ae7,_0x340425);}async[a0_0x5bdda6(0x356)](_0x2384ea,_0x177ce0,_0xde60f3){const _0x51df4d=a0_0x5bdda6;return await this[_0x51df4d(0x545)][_0x51df4d(0x1b1)][_0x2384ea[_0x51df4d(0x7eb)]][_0x51df4d(0x356)](_0x177ce0,_0xde60f3);}async[a0_0x5bdda6(0x44e)](_0x301a18,_0x938074,_0x5a29cd){const _0x18bc23=a0_0x5bdda6;return await this[_0x18bc23(0x545)][_0x18bc23(0x1b1)][_0x301a18[_0x18bc23(0x7eb)]][_0x18bc23(0x44e)](_0x938074,_0x5a29cd);}async[a0_0x5bdda6(0x276)](_0x20154b,_0x4275e3,_0x54fc29){const _0x5571e7=a0_0x5bdda6;return await this[_0x5571e7(0x545)][_0x5571e7(0x1b1)][_0x20154b[_0x5571e7(0x7eb)]][_0x5571e7(0x276)](_0x4275e3,_0x54fc29);}async[a0_0x5bdda6(0x296)](_0xb02c46,_0x31bcba,_0x16eb16){const _0x25fc29=a0_0x5bdda6;return await this[_0x25fc29(0x545)]['waInstances'][_0xb02c46[_0x25fc29(0x7eb)]][_0x25fc29(0x296)](_0x31bcba,_0x16eb16);}async[a0_0x5bdda6(0x7cd)](_0x24a901,_0x22830c,_0x5205cd){const _0x421c98=a0_0x5bdda6;return await this[_0x421c98(0x545)][_0x421c98(0x1b1)][_0x24a901[_0x421c98(0x7eb)]][_0x421c98(0x7cd)](_0x22830c,_0x5205cd);}async['editFlowVariable'](_0x475c69,_0x344734,_0x4ce80d){const _0x287ef4=a0_0x5bdda6;return await this['waMonitor']['waInstances'][_0x475c69[_0x287ef4(0x7eb)]][_0x287ef4(0x12f)](_0x344734,_0x4ce80d);}async[a0_0x5bdda6(0x5fa)](_0xc91e47,_0x37e516,_0x3bc621){const _0x210c2b=a0_0x5bdda6;return await this[_0x210c2b(0x545)][_0x210c2b(0x1b1)][_0xc91e47[_0x210c2b(0x7eb)]][_0x210c2b(0x5fa)](_0x37e516,_0x3bc621);}async[a0_0x5bdda6(0x572)](_0x43d37b){const _0xfb9c24=a0_0x5bdda6;return await this[_0xfb9c24(0x545)][_0xfb9c24(0x1b1)][_0x43d37b[_0xfb9c24(0x7eb)]][_0xfb9c24(0x572)]();}},Xt=class{constructor(_0x32e344){const _0x4aae03=a0_0x5bdda6;this[_0x4aae03(0x42c)]=_0x32e344;}async[a0_0x5bdda6(0x7aa)](_0x394b4d,_0x19dea1){const _0x18ed2f=a0_0x5bdda6;return this[_0x18ed2f(0x42c)]['create'](_0x394b4d,_0x19dea1);}async[a0_0x5bdda6(0x5a3)](_0x5e6f47){const _0x3c146f=a0_0x5bdda6;return this[_0x3c146f(0x42c)][_0x3c146f(0x2b1)](_0x5e6f47);}},Zt=class extends D{constructor(_0x43c8d6,_0x420abe){const _0x36828c=a0_0x5bdda6;super(_0x420abe),this['webhookModel']=_0x43c8d6,this[_0x36828c(0x5b4)]=_0x420abe;}async[a0_0x5bdda6(0x812)](_0x479bea,_0x20e3a2){const _0x159412=a0_0x5bdda6;try{return this[_0x159412(0x233)][_0x159412(0x615)]?{'insertCount':(await this[_0x159412(0x6ad)]['replaceOne']({'_id':_0x20e3a2},{..._0x479bea},{'upsert':!0x0}))[_0x159412(0x2ec)]}:{'insertCount':0x1};}catch(_0x9f69e7){return _0x9f69e7;}}async[a0_0x5bdda6(0x469)](_0x1f012f){const _0x25a3ec=a0_0x5bdda6;try{if(this['dbSettings']['ENABLED']){await this[_0x25a3ec(0x6ad)][_0x25a3ec(0x21c)]({'_id':_0x1f012f});return;}}catch(_0x2a94e3){return{'error':_0x2a94e3};}}async['find'](_0x13a035){const _0x2738fc=a0_0x5bdda6;try{if(this['dbSettings'][_0x2738fc(0x615)])return await this['webhookModel']['findOne']({'_id':_0x13a035});}catch{return{};}}},es=class extends D{constructor(_0x3d7ae2,_0x252ae0){const _0x35ceb3=a0_0x5bdda6;super(_0x252ae0),this['authModel']=_0x3d7ae2,this[_0x35ceb3(0x5b4)]=_0x252ae0,this[_0x35ceb3(0x31a)]=_0x252ae0[_0x35ceb3(0x1bb)](_0x35ceb3(0x389));}async[a0_0x5bdda6(0x812)](_0x3ff1e6,_0x264b1e){const _0x3ff085=a0_0x5bdda6;try{if(this[_0x3ff085(0x233)][_0x3ff085(0x615)])return{'insertCount':(await this[_0x3ff085(0x3e3)][_0x3ff085(0x31c)]({'_id':_0x264b1e},{'$set':{..._0x3ff1e6}},{'upsert':!0x0}))[_0x3ff085(0x2ec)]};}catch(_0x442e00){return{'error':_0x442e00};}}async['updateAll'](_0x2f8476,_0x3f770d){const _0x1e0298=a0_0x5bdda6;try{if(this[_0x1e0298(0x233)][_0x1e0298(0x615)])return{'insertCount':(await this[_0x1e0298(0x3e3)]['updateMany'](_0x2f8476,{'$set':_0x3f770d},{'upsert':!0x1}))[_0x1e0298(0x2ec)]};throw new Error(_0x1e0298(0x23b));}catch(_0x96a1d8){return{'error':_0x96a1d8};}}async[a0_0x5bdda6(0x803)](_0x16fb1a){const _0x5d3d19=a0_0x5bdda6;try{if(this[_0x5d3d19(0x233)][_0x5d3d19(0x615)])return{'insertCount':(await this['authModel'][_0x5d3d19(0x803)](_0x16fb1a))[_0x5d3d19(0x47c)]};throw new Error(_0x5d3d19(0x23b));}catch(_0x230b77){return{'error':_0x230b77};}}async[a0_0x5bdda6(0x469)](_0x59970b){const _0x2c4b7a=a0_0x5bdda6;try{if(this[_0x2c4b7a(0x233)][_0x2c4b7a(0x615)]){await this[_0x2c4b7a(0x3e3)][_0x2c4b7a(0x21c)]({'_id':_0x59970b});return;}}catch(_0x12b4c4){return{'error':_0x12b4c4};}}async['find'](_0x559ac3){const _0x226e81=a0_0x5bdda6;try{if(this['dbSettings']['ENABLED'])return await this['authModel'][_0x226e81(0x28c)]({'_id':_0x559ac3});}catch{return{};}}async[a0_0x5bdda6(0x3e5)](){const _0x5783e3=a0_0x5bdda6;try{if(this[_0x5783e3(0x233)][_0x5783e3(0x615)])return await this[_0x5783e3(0x3e3)][_0x5783e3(0x2b1)]();}catch{return[];}}},ts=class extends D{[a0_0x5bdda6(0x158)](_0xbdac1d){return pa(_0xbdac1d);}async[a0_0x5bdda6(0x469)](_0x24e0a9,_0x4108bb){const _0x256a9f=a0_0x5bdda6;try{let _0x11928d=this[_0x256a9f(0x158)](_0x4108bb),_0x31998a=I(_0x24e0a9[_0x256a9f(0x80f)]);return{'deletedCount':(await _0x11928d[_0x256a9f(0x803)](_0x31998a))['deletedCount']};}catch(_0x55a5a7){return{'error':_0x55a5a7?.[_0x256a9f(0x58f)]()};}}async[a0_0x5bdda6(0x21c)](_0x1bd2ef,_0x197865){const _0x406250=a0_0x5bdda6;try{let _0x3a7f5a=this[_0x406250(0x158)](_0x197865),_0x43572e=I(_0x1bd2ef[_0x406250(0x80f)]);return{'deletedCount':(await _0x3a7f5a[_0x406250(0x21c)](_0x43572e))[_0x406250(0x47c)]};}catch(_0x583cdb){return{'error':_0x583cdb?.['toString']()};}}async[a0_0x5bdda6(0x420)](_0x580914,_0x219180,_0x32277a){const _0x22c74f=a0_0x5bdda6;try{let _0x2cfba0=await this[_0x22c74f(0x158)](_0x32277a)['findByIdAndUpdate'](_0x580914,_0x219180,{'overwrite':!0x0,'new':!0x0});return _0x2cfba0||(console['error']('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x580914),null);}catch(_0x16101a){return console[_0x22c74f(0x83d)](_0x22c74f(0x669),_0x16101a),null;}}async[a0_0x5bdda6(0x31c)](_0x534a6e,_0x3a99dd,_0x4e9f5c){const _0x8922e0=a0_0x5bdda6;try{let _0x34e393=await this[_0x8922e0(0x158)](_0x4e9f5c)[_0x8922e0(0x480)](_0x534a6e);return _0x34e393?(Object['assign'](_0x34e393,_0x3a99dd),await _0x34e393['save']()):(console[_0x8922e0(0x83d)](_0x8922e0(0x29e),_0x534a6e),null);}catch(_0x2ec160){return console[_0x8922e0(0x83d)](_0x8922e0(0x669),_0x2ec160),null;}}async[a0_0x5bdda6(0x22e)](_0x62757a,_0x4d21bc,_0x567a4c){const _0x2a03f1=a0_0x5bdda6;try{let _0x4f66b3=this[_0x2a03f1(0x158)](_0x567a4c),_0x20cb87=await _0x4f66b3[_0x2a03f1(0x480)](_0x62757a),_0x260111=await _0x4f66b3[_0x2a03f1(0x3c8)]({'_id':_0x62757a},_0x4d21bc,{'new':!0x0,'runValidators':!0x0});return _0x260111||(console[_0x2a03f1(0x271)](_0x2a03f1(0x50b)+_0x62757a+_0x2a03f1(0x62d)+_0x567a4c+'\x20não\x20encontrado.'),null);}catch(_0x5ce2a0){throw console[_0x2a03f1(0x83d)](_0x2a03f1(0x417),_0x5ce2a0),_0x5ce2a0;}}async[a0_0x5bdda6(0x3f4)](_0x5f5372){const _0x229dad=a0_0x5bdda6;try{let _0x50e257=this[_0x229dad(0x158)](_0x5f5372),_0x34cff0={'shareOwners':{'$exists':!0x1}},_0x28994f={'$set':{'shareOwners':[]}};return(await _0x50e257[_0x229dad(0x63a)](_0x34cff0,_0x28994f))[_0x229dad(0x2ec)];}catch(_0x3d10f4){return console[_0x229dad(0x83d)](_0x3d10f4),0x0;}}async[a0_0x5bdda6(0x793)](_0x1b8bda,_0x595d1a){const _0x105d9c=a0_0x5bdda6;try{let _0x508c06=this['getFlowModelForOwner'](_0x595d1a);return await new _0x508c06(_0x1b8bda)[_0x105d9c(0x6a8)]();}catch(_0x8e6502){return console[_0x105d9c(0x83d)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x8e6502),null;}}async[a0_0x5bdda6(0x63a)](_0x3508db,_0xfbe949,_0x230701){const _0x5c5187=a0_0x5bdda6;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x230701)['updateMany'](_0x3508db,{'$set':_0xfbe949}))[_0x5c5187(0x2ec)]};}catch(_0x3b0674){return console['error'](_0x5c5187(0x620),_0x3b0674),{'error':_0x3b0674};}}async[a0_0x5bdda6(0x3e5)](_0x5e34d9,_0x4a28fc){const _0x3dbac2=a0_0x5bdda6;try{let _0x420144=this[_0x3dbac2(0x158)](_0x4a28fc),_0x2f721e=I(_0x5e34d9[_0x3dbac2(0x80f)]);return await _0x420144[_0x3dbac2(0x2b1)](_0x2f721e)['limit'](_0x5e34d9?.['limit']??0x0)[_0x3dbac2(0x841)]();}catch{return[];}}async[a0_0x5bdda6(0x28c)](_0x38f862,_0x3a7476){const _0x1f55e5=a0_0x5bdda6;try{let _0x2f7233=this['getFlowModelForOwner'](_0x3a7476),_0x10fbd3=I(_0x38f862['where']);return await _0x2f7233['findOne'](_0x10fbd3)[_0x1f55e5(0x841)]();}catch{return null;}}async['deleteAll'](_0x194c33){const _0x57ea1d=a0_0x5bdda6;try{return await this[_0x57ea1d(0x158)](_0x194c33)[_0x57ea1d(0x44d)]['drop'](),{'success':!0x0};}catch(_0x174697){return console[_0x57ea1d(0x83d)](_0x174697),{'success':!0x1,'error':_0x174697};}}},ss=class extends D{['getConversationModelForOwner'](_0x3ec6a5){return ha(_0x3ec6a5);}async[a0_0x5bdda6(0x72e)](_0x106874){const _0x337401=a0_0x5bdda6;if(_0x106874[_0x337401(0x29b)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x106874[0x0][_0x337401(0x7cf)])['insertMany']([..._0x106874]))[_0x337401(0x29b)]};}catch(_0x35950e){return _0x35950e;}}async['delete'](_0x5ec6c8,_0x5b5217){const _0x2275d3=a0_0x5bdda6;try{let _0x4224cf=this[_0x2275d3(0x453)](_0x5b5217),_0x2044bd=I(_0x5ec6c8[_0x2275d3(0x80f)]);return{'deletedCount':(await _0x4224cf[_0x2275d3(0x803)](_0x2044bd))[_0x2275d3(0x47c)]};}catch(_0x2c8da9){return{'error':_0x2c8da9?.['toString']()};}}async['deleteOne'](_0x11ac0b,_0x29975c){const _0x114fa0=a0_0x5bdda6;try{let _0x580e1d=this[_0x114fa0(0x453)](_0x29975c),_0x1d1693=I(_0x11ac0b[_0x114fa0(0x80f)]);return{'deletedCount':(await _0x580e1d['deleteOne'](_0x1d1693))['deletedCount']};}catch(_0x283ecf){return{'error':_0x283ecf?.['toString']()};}}async[a0_0x5bdda6(0x674)](_0x4f9867,_0x20a218){const _0x3d691d=a0_0x5bdda6;try{if(_0x4f9867[_0x3d691d(0x29b)]===0x0)return;let _0x46c906=this[_0x3d691d(0x453)](_0x20a218),_0x1d60a2=_0x4f9867['map'](_0x1ebaf2=>({'updateOne':{'filter':{'name':_0x1ebaf2[_0x3d691d(0x63e)],'owner':_0x20a218},'update':{..._0x1ebaf2}}})),{modifiedCount:_0x4a4c2e}=await _0x46c906['bulkWrite'](_0x1d60a2);return{'insertCount':_0x4a4c2e};}catch{return;}}async[a0_0x5bdda6(0x63a)](_0x117e81,_0x497a8a,_0x2bc57a){const _0x5a6168=a0_0x5bdda6;try{return{'modifiedCount':(await this[_0x5a6168(0x453)](_0x2bc57a)['updateMany'](_0x117e81,{'$set':_0x497a8a})[_0x5a6168(0x810)]())[_0x5a6168(0x2ec)]};}catch(_0x5722ca){return console[_0x5a6168(0x83d)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x5722ca),{'error':_0x5722ca};}}async[a0_0x5bdda6(0x31c)](_0x312f39,_0x3b6acd,_0xb0d95c){const _0x58b210=a0_0x5bdda6;try{return await this['getConversationModelForOwner'](_0xb0d95c)[_0x58b210(0x3c8)]({'_id':_0x312f39},{'$set':_0x3b6acd},{'new':!0x0,'upsert':!0x0})[_0x58b210(0x841)]();}catch(_0x178d3a){return console[_0x58b210(0x83d)](_0x178d3a),null;}}async[a0_0x5bdda6(0x2b1)](_0x116485,_0x28d74c){const _0x5e2bb1=a0_0x5bdda6;try{return await this[_0x5e2bb1(0x453)](_0x28d74c)[_0x5e2bb1(0x2b1)](_0x116485)['sort']({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x5bdda6(0x28c)](_0x2941f6,_0x5d0e33){const _0x34e687=a0_0x5bdda6;try{return await this[_0x34e687(0x453)](_0x5d0e33)['findOne']({..._0x2941f6[_0x34e687(0x80f)]})[_0x34e687(0x841)]();}catch{return null;}}async[a0_0x5bdda6(0x5fe)](_0x2b8c5b){const _0x367754=a0_0x5bdda6;try{return await this[_0x367754(0x453)](_0x2b8c5b)[_0x367754(0x44d)][_0x367754(0x719)](),{'success':!0x0};}catch(_0xa92079){return console[_0x367754(0x83d)](_0xa92079),{'success':!0x1,'error':_0xa92079};}}},as=class extends D{[a0_0x5bdda6(0x3b0)](_0x42200e){return ga(_0x42200e);}async[a0_0x5bdda6(0x793)](_0x4cf7df,_0x34198c){const _0xd5990b=a0_0x5bdda6;try{let _0x260bba=this[_0xd5990b(0x3b0)](_0x34198c);return await new _0x260bba(_0x4cf7df)['save']();}catch(_0x357686){return console['error'](_0xd5990b(0x640),_0x357686),null;}}async[a0_0x5bdda6(0x21c)](_0x542053,_0x4bae72){const _0x3495c6=a0_0x5bdda6;try{return await this[_0x3495c6(0x3b0)](_0x4bae72)[_0x3495c6(0x60d)](_0x542053),{};}catch(_0x477e37){return{'error':_0x477e37?.['toString']()};}}async[a0_0x5bdda6(0x31c)](_0x5ee22b,_0x4dc319,_0x3e5551){const _0x32af47=a0_0x5bdda6;try{return await this['getScheduleMessageModelForOwner'](_0x3e5551)[_0x32af47(0x3c8)](_0x5ee22b,{'$set':_0x4dc319},{'new':!0x0})[_0x32af47(0x841)]();}catch(_0x6026c0){return console[_0x32af47(0x83d)](_0x32af47(0x258),_0x6026c0),null;}}async['updateOneById'](_0x5e3577,_0x3d8aea,_0x56382e){const _0x18d45f=a0_0x5bdda6;try{return await this[_0x18d45f(0x3b0)](_0x56382e)[_0x18d45f(0x5ea)](_0x5e3577,_0x3d8aea,{'new':!0x0})[_0x18d45f(0x841)]();}catch(_0x11ca97){return console['error'](_0x18d45f(0x258),_0x11ca97),null;}}async[a0_0x5bdda6(0x2b1)](_0x1c9549,_0x1453b4){const _0x3242a8=a0_0x5bdda6;try{return await this[_0x3242a8(0x3b0)](_0x1453b4)[_0x3242a8(0x2b1)](_0x1c9549['where'])[_0x3242a8(0x51f)](_0x1c9549?.[_0x3242a8(0x51f)]??0x0)[_0x3242a8(0x68a)]({'when':0x1})[_0x3242a8(0x841)]();}catch{return[];}}async[a0_0x5bdda6(0x28c)](_0x428ed7,_0x4a17aa){const _0x47107c=a0_0x5bdda6;try{return await this[_0x47107c(0x3b0)](_0x4a17aa)['findOne'](_0x428ed7[_0x47107c(0x80f)])[_0x47107c(0x68a)]({'when':0x1})[_0x47107c(0x841)]();}catch{return null;}}async[a0_0x5bdda6(0x480)](_0x4460b9,_0x3f4d46){const _0x56fb81=a0_0x5bdda6;try{return await this[_0x56fb81(0x3b0)](_0x3f4d46)[_0x56fb81(0x480)](_0x4460b9)[_0x56fb81(0x841)]();}catch{return null;}}async[a0_0x5bdda6(0x803)](_0x3180ee,_0x5ddee5){const _0x93bd1e=a0_0x5bdda6;try{return{'deletedCount':(await this[_0x93bd1e(0x3b0)](_0x5ddee5)[_0x93bd1e(0x803)](_0x3180ee))['deletedCount']};}catch(_0x4916ae){return console['error'](_0x93bd1e(0x706),_0x4916ae),{'error':_0x4916ae};}}async['deleteAll'](_0x430364){const _0x491819=a0_0x5bdda6;try{return await this[_0x491819(0x3b0)](_0x430364)[_0x491819(0x44d)][_0x491819(0x719)](),{'success':!0x0};}catch(_0x4f5fbc){return console[_0x491819(0x83d)](_0x4f5fbc),{'success':!0x1,'error':_0x4f5fbc};}}},os=class extends D{async[a0_0x5bdda6(0x674)](_0x53b5e7,_0x1733d2){const _0x4d9026=a0_0x5bdda6;try{if(this[_0x4d9026(0x233)][_0x4d9026(0x615)]){let _0x11324c=await Ne['findOneAndUpdate']({'_id':_0x1733d2},{'$set':_0x53b5e7},{'new':!0x0});return console[_0x4d9026(0x271)](_0x4d9026(0x7bd),_0x11324c),_0x11324c;}}catch(_0xe1c65a){throw console[_0x4d9026(0x83d)](_0x4d9026(0x1fd),_0xe1c65a),_0xe1c65a;}}async[a0_0x5bdda6(0x819)](_0xc4cd72){const _0x430a83=a0_0x5bdda6;try{let _0x21ffad=await Ne[_0x430a83(0x480)](_0xc4cd72);return _0x21ffad?_0x21ffad[_0x430a83(0x694)]||(_0x21ffad[_0x430a83(0x694)]=[],await _0x21ffad[_0x430a83(0x6a8)]()):(_0x21ffad=new Ne({'_id':_0xc4cd72,'autoCompleteMessages':[]}),await _0x21ffad[_0x430a83(0x6a8)]()),_0x21ffad;}catch(_0x3bda61){return _0x3bda61[_0x430a83(0x681)]===0x2af8&&_0x3bda61[_0x430a83(0x1e5)]&&_0x3bda61[_0x430a83(0x1e5)][_0x430a83(0x482)]?(console[_0x430a83(0x83d)](_0x430a83(0x837)),await Ne['collection'][_0x430a83(0x2f4)](_0x430a83(0x3fc)),null):(console[_0x430a83(0x83d)](_0x430a83(0x234),_0x3bda61),null);}}},Or=new $(a0_0x5bdda6(0x622)),Tr=new We(b),Ir=new qt(b),xr=new ot(b),Dr=new Vt(ea,b),_r=new Zt(na,b),Pr=new es(oa,b),kr=new ts(b),jr=new Gt(b),Lr=new ss(b),Fr=new as(b),Jr=new os(b),pe=new Ge(Tr,Ir,xr,Dr,_r,Pr,kr,Lr,jr,Fr,Jr,A?.['getClient']()),B=new Ut(us,b,pe),Ur=new Ht(b,B,pe),qr=new Qt(B),Cs=new Xt(qr),O=new Yt(B),ce=new Wt(B,b,pe,us,Ur),W=new zt(B),P=new Bt(B),V=new Kt(B);Or[a0_0x5bdda6(0x6a4)](a0_0x5bdda6(0x45a));var Uh=require(a0_0x5bdda6(0x186)),ks=require('fs'),$o=T(require(a0_0x5bdda6(0x673))),Ao=T(require(a0_0x5bdda6(0x27f))),Pe=class c{static #e;static set[a0_0x5bdda6(0x66b)](_0x4e99ed){this.#e=_0x4e99ed;}static get[a0_0x5bdda6(0x673)](){const _0x4e6d37=a0_0x5bdda6;let {FULLCHAIN:_0x5f3957,PRIVKEY:_0x4523f6}=b[_0x4e6d37(0x1bb)](_0x4e6d37(0x381));return $o[_0x4e6d37(0x414)]({'cert':(0x0,ks[_0x4e6d37(0x4d3)])(_0x5f3957),'key':(0x0,ks[_0x4e6d37(0x4d3)])(_0x4523f6)},c.#e);}static get[a0_0x5bdda6(0x27f)](){return Ao['createServer'](c.#e);}},ge=T(require('fs')),_o=T(require(a0_0x5bdda6(0x1df))),ke=T(require('axios')),Le=T(require(a0_0x5bdda6(0x784))),Fe=require(a0_0x5bdda6(0x5d5));function Vr(){const _0x491329=a0_0x5bdda6;B[_0x491329(0x573)]();let _0x12aa17=Le[_0x491329(0x79b)]['join'](__dirname,_0x491329(0x41e));Do(_0x12aa17);}var Do=_0xe14c25=>{const _0x1b1bd1=a0_0x5bdda6;let _0x4e1f02=ge[_0x1b1bd1(0x79b)]['readdirSync'](_0xe14c25),_0x13eb6d=0xc*0x3c*0x3c*0x3e8,_0x5742cd=0x2*0x3c*0x3c*0x3e8,_0x58fdbf=new Date()[_0x1b1bd1(0x578)]();_0x4e1f02[_0x1b1bd1(0x3a3)](_0x4fa205=>{const _0x17f3da=_0x1b1bd1;let _0x2fee9b=Le[_0x17f3da(0x79b)]['join'](_0xe14c25,_0x4fa205),_0x321c27=ge[_0x17f3da(0x79b)][_0x17f3da(0x3ba)](_0x2fee9b)[_0x17f3da(0x27e)][_0x17f3da(0x578)]();_0x58fdbf-_0x321c27>_0x13eb6d&&(ge[_0x17f3da(0x79b)][_0x17f3da(0x227)](_0x2fee9b),console[_0x17f3da(0x271)](_0x17f3da(0x251)+_0x4fa205));}),setTimeout(()=>Do(_0xe14c25),_0x5742cd);};function a0_0x33c5(_0x41265c,_0x2dd7ce){const _0x35261a=a0_0x3526();return a0_0x33c5=function(_0x33c569,_0x2e47e0){_0x33c569=_0x33c569-0x111;let _0x1a0f87=_0x35261a[_0x33c569];return _0x1a0f87;},a0_0x33c5(_0x41265c,_0x2dd7ce);}function Gr(){const _0x598874=a0_0x5bdda6;let _0x534a15=new $(_0x598874(0x169)),_0x1028ac=(0x0,me[_0x598874(0x79b)])();_0x1028ac[_0x598874(0x814)]((0x0,xo[_0x598874(0x79b)])({'origin'(_0x35d3b5,_0x341a05){const _0x44e6a1=_0x598874;let {ORIGIN:_0x40f9c8}=b['get'](_0x44e6a1(0x430));return _0x35d3b5||(_0x35d3b5='*'),_0x40f9c8[_0x44e6a1(0x49f)]('*')!==-0x1||_0x40f9c8[_0x44e6a1(0x49f)](_0x35d3b5)!==-0x1?_0x341a05(null,!0x0):_0x341a05(new Error(_0x44e6a1(0x722)));},'methods':[...b[_0x598874(0x1bb)](_0x598874(0x430))[_0x598874(0x47b)]],'credentials':b[_0x598874(0x1bb)]('CORS')['CREDENTIALS']}),(0x0,me[_0x598874(0x2a5)])({'extended':!0x0,'limit':'50mb'}),(0x0,me[_0x598874(0x3d7)])({'limit':'50mb'})),_0x1028ac['use']((_0x55239b,_0xfeb6a1,_0x3646ea)=>{const _0xb9b858=_0x598874;_0x55239b[_0xb9b858(0x784)]['startsWith'](_0xb9b858(0x1b2))?_0x3646ea():(0x0,Io[_0xb9b858(0x79b)])()(_0x55239b,_0xfeb6a1,_0x3646ea);}),_0x1028ac[_0x598874(0x3b4)](_0x598874(0x6e9),_0x598874(0x60c)),_0x1028ac[_0x598874(0x3b4)]('views',(0x0,Ls[_0x598874(0x64d)])(ne,'views')),_0x1028ac['use'](me[_0x598874(0x79b)]['static']((0x0,Ls[_0x598874(0x64d)])(ne,'public'))),_0x1028ac[_0x598874(0x814)]((_0x58753a,_0x56e2c9,_0x5bcbde)=>{const _0x4ed642=_0x598874;let _0x59bf35=_0x56e2c9[_0x4ed642(0x7fd)];_0x56e2c9[_0x4ed642(0x7fd)]=function(_0x47466b){const _0x4ab9c8=_0x4ed642;if(_0x58753a['query'][_0x4ab9c8(0x5d0)]==='true'||_0x58753a['headers'][_0x4ab9c8(0x162)]===_0x4ab9c8(0x6d7)){let _0x226b67=JSON[_0x4ab9c8(0x4b1)](_0x47466b);_0x47466b=JSON[_0x4ab9c8(0x5b8)](_0x25a42a(_0x226b67));}return _0x59bf35[_0x4ab9c8(0x4b6)](_0x56e2c9,[_0x47466b]);},_0x5bcbde();}),_0x1028ac[_0x598874(0x814)]('/',xe),_0x1028ac[_0x598874(0x814)]((_0x16e1a0,_0x4ce2cf,_0x62f131,_0x3fdffa)=>{const _0xa81393=_0x598874;if(_0x16e1a0)return _0x62f131[_0xa81393(0x390)](_0x16e1a0['status']||0x1f4)[_0xa81393(0x3d7)](_0x16e1a0);},(_0x300dc5,_0x4758a5,_0x4034ab)=>{const _0x4a654=_0x598874;let {method:_0x45a782,url:_0x455f15}=_0x300dc5;_0x4758a5['status'](0x194)[_0x4a654(0x3d7)]({'status':0x194,'message':_0x4a654(0x31d)+_0x45a782['toUpperCase']()+'\x20'+_0x455f15,'error':_0x4a654(0x522)}),_0x4034ab();});let _0x25a42a=(_0x5591fe,_0x488042=_0x598874(0x77d))=>{const _0x5a6382=_0x598874;let _0x38e2f3=(_0xfec872,_0x2a87d4=null,_0x56c6d0=!0x1)=>{const _0x159adb=a0_0x33c5;let _0x38ff72={};return Object['keys'](_0xfec872)[_0x159adb(0x3a3)](_0x1f0c4d=>{const _0x387e57=_0x159adb;let _0x4a10b4=_0xfec872[_0x1f0c4d],_0x3b5b62=''+_0x488042+_0x1f0c4d;_0x2a87d4&&!_0x56c6d0&&(_0x3b5b62=_0x2a87d4+'.'+_0x1f0c4d),!_0x4a10b4&&_0x4a10b4!==0x0&&_0x4a10b4!==!0x1||typeof _0x4a10b4>'u'?_0x38ff72[_0x3b5b62]=null:typeof _0x4a10b4!='object'&&!Array[_0x387e57(0x13b)](_0x4a10b4)?_0x38ff72[_0x3b5b62]=_0x4a10b4:typeof _0x4a10b4=='object'&&!Array[_0x387e57(0x13b)](_0x4a10b4)?_0x38ff72=Object[_0x387e57(0x6d2)](_0x38ff72,_0x38e2f3(_0x4a10b4,_0x3b5b62)):Array[_0x387e57(0x13b)](_0x4a10b4)&&(typeof _0x4a10b4[0x0]=='object'?(_0x38ff72[_0x3b5b62]=[],_0x4a10b4[_0x387e57(0x3a3)](_0x5b588e=>{const _0x5f59ac=_0x387e57;_0x38ff72[_0x3b5b62][_0x5f59ac(0x711)](_0x38e2f3(_0x5b588e,_0x3b5b62,!0x0));})):_0x38ff72[_0x3b5b62]=_0x4a10b4);}),_0x38ff72;};return Array['isArray'](_0x5591fe)?_0x5591fe[_0x5a6382(0x2b0)](_0x5b1836=>_0x38e2f3(_0x5b1836)):typeof _0x5591fe==_0x5a6382(0x53a)&&_0x5591fe!==null?_0x38e2f3(_0x5591fe):{};},_0x55b01e=b[_0x598874(0x1bb)](_0x598874(0x169));Pe[_0x598874(0x66b)]=_0x1028ac;let _0x3de4b5=Pe[_0x55b01e[_0x598874(0x1d6)]],_0xc942fa=_0x598874(0x703);_0x3de4b5['listen'](_0x55b01e['PORT'],()=>{const _0x640201=_0x598874;_0x534a15[_0x640201(0x271)](_0xc942fa),_0x534a15['log'](_0x55b01e[_0x640201(0x1d6)]['toUpperCase']()+'\x20-\x20ON:\x20'+_0x55b01e['PORT']);}),Vr(),Hs();}var Br=a0_0x5bdda6(0x805),Wr=Le[a0_0x5bdda6(0x79b)][a0_0x5bdda6(0x64d)](__dirname,a0_0x5bdda6(0x2d7)),je=null;function zr(){return new Promise((_0x4cd528,_0x27de36)=>{const _0x90290e=a0_0x33c5;ge[_0x90290e(0x79b)][_0x90290e(0x824)](Wr,_0x90290e(0x760),(_0x2da252,_0x34fcc2)=>{const _0x3cea39=_0x90290e;if(_0x2da252){je=_0x2da252,_0x4cd528();return;}_o[_0x3cea39(0x79b)][_0x3cea39(0x4b1)](_0x34fcc2)[_0x3cea39(0x6dc)][_0x3cea39(0x379)]===Br?(je=null,_0x4cd528()):(je=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x4cd528());});});}async function Hr(){const _0x7a7803=a0_0x5bdda6;try{await zr(),await Fs();}catch(_0x5acb12){console[_0x7a7803(0x83d)](_0x7a7803(0x538)+_0x5acb12),process[_0x7a7803(0x3b7)](0x1);}}Hr();async function Po(){const _0x260272=a0_0x5bdda6;let _0x37d629;try{_0x37d629=(await ke[_0x260272(0x79b)][_0x260272(0x1bb)](_0x260272(0x298)))['data']['ip'];}catch(_0x284508){console[_0x260272(0x83d)](_0x284508);try{_0x37d629=(await ke[_0x260272(0x79b)]['get'](_0x260272(0x358)))[_0x260272(0x6d0)]['ip'];}catch(_0x2fe2dc){console['error'](_0x2fe2dc);try{_0x37d629=(await ke['default'][_0x260272(0x1bb)]('http://checkip.dyndns.org'))['data'][_0x260272(0x1ff)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0xc426b8){return console[_0x260272(0x83d)](_0xc426b8),!0x1;}}}return _0x37d629;}var Oo=0x0;async function Kr(){const _0x47227b=a0_0x5bdda6;let _0x463b18=await new le(b[_0x47227b(0x1bb)](_0x47227b(0x13c)))[_0x47227b(0x833)]();return console[_0x47227b(0x271)](_0x47227b(0x3f8),_0x463b18[_0x47227b(0x29b)]),_0x463b18[_0x47227b(0x29b)];}function Qr(_0x10d4a6){const _0x40a598=a0_0x5bdda6;let _0x5d046f=_0x10d4a6[_0x40a598(0x1bb)](_0x40a598(0x169))[_0x40a598(0x50c)],_0x4c582d=_0x10d4a6[_0x40a598(0x1bb)](_0x40a598(0x381)),_0x3242ad;if(_0x5d046f){let _0x2e135c=_0x5d046f['match'](/\/\/(.*?)\./);_0x2e135c&&_0x2e135c[0x1]&&(_0x3242ad=_0x2e135c[0x1]);}if(!_0x3242ad&&_0x4c582d&&_0x4c582d['FULLCHAIN']){let _0x44da75=_0x4c582d[_0x40a598(0x180)][_0x40a598(0x771)]('/'),_0x594215=_0x44da75[_0x44da75[_0x40a598(0x29b)]-0x2];if(_0x594215){let _0x26397f=_0x594215[_0x40a598(0x771)]('.');_0x26397f[_0x40a598(0x29b)]>0x2&&(_0x3242ad=_0x26397f[0x0]);}}return _0x3242ad;}var Ds=Qr(b);async function Yr(){const _0x52df2e=a0_0x5bdda6;let _0x13c7b3=b[_0x52df2e(0x1bb)]('REDIS'),_0x2ed1cc=b['get'](_0x52df2e(0x389))['API_KEY'][_0x52df2e(0x62a)],_0x1b0454=b['get']('SSL_CONF'),_0x179e92=await Po(),_0x70bf2f=b[_0x52df2e(0x1bb)](_0x52df2e(0x169))['PORT'],_0x14b0c3=b[_0x52df2e(0x1bb)](_0x52df2e(0x169))[_0x52df2e(0x50c)];try{let _0x31f004={'ip':_0x179e92||null,'redis_enable':_0x13c7b3?.[_0x52df2e(0x615)]||null,'apikey':_0x2ed1cc||null,'ssl':_0x1b0454?.[_0x52df2e(0x1a4)]||null,'lastupdate':ko||null,'port':_0x70bf2f||null,'gitInstallError':je?.['message']||null,'url':_0x14b0c3||null};if(console[_0x52df2e(0x271)](_0x52df2e(0x30d),_0x31f004['ip']),_0x13c7b3&&_0x13c7b3['ENABLED']){let _0x2dbeee=await Kr();_0x31f004[_0x52df2e(0x13e)]=_0x2dbeee||null;}for(let _0x2d7a93 in _0x31f004)_0x31f004[_0x52df2e(0x35f)](_0x2d7a93)&&_0x2d7a93!=='ip'&&(_0x31f004[_0x2d7a93]=JSON[_0x52df2e(0x5b8)](_0x31f004[_0x2d7a93]));return(await ke[_0x52df2e(0x79b)][_0x52df2e(0x7da)](_0x52df2e(0x70a),_0x31f004))['data'];}catch(_0x4ba02c){return console[_0x52df2e(0x83d)](_0x4ba02c),!0x1;}}var js=!0x1,ko=0x242,Xr=0x3,To=0x1b7740;async function Fs(){const _0xedfe6f=a0_0x5bdda6;if(!await Po())return console[_0xedfe6f(0x83d)](_0xedfe6f(0x5bd)),'NO_IP';let _0x45065d=await Yr();if(_0x45065d){if(_0x45065d[_0xedfe6f(0x4f0)]['licenca']===!0x0){let _0x15a18f=b[_0xedfe6f(0x1bb)](_0xedfe6f(0x381)),_0xff11cd=b['get']('SERVER')[_0xedfe6f(0x50c)];_0x15a18f&&_0x15a18f?.[_0xedfe6f(0x1a4)]?.[_0xedfe6f(0x71f)](_0xedfe6f(0x5c8))&&_0x45065d['response'][_0xedfe6f(0x765)]&&!_0xff11cd&&(await ti(_0x45065d[_0xedfe6f(0x4f0)]['subdomain'],ei),await si(_0xedfe6f(0x5ad),_0x45065d[_0xedfe6f(0x4f0)][_0xedfe6f(0x765)]),console[_0xedfe6f(0x271)](_0xedfe6f(0x4a5)),setTimeout(()=>oi(),0x2710)),je===null&&_0x45065d[_0xedfe6f(0x4f0)][_0xedfe6f(0x7b0)]-ko>0x0&&await Zr(),js||(js=!0x0,Gr());let _0x44b299=0x24*0x3c*0x3c,_0x3c1f73=_0x45065d[_0xedfe6f(0x4f0)][_0xedfe6f(0x7f2)]>_0x44b299?_0x44b299:_0x45065d['response'][_0xedfe6f(0x7f2)],_0x59bdc9=Number(_0x3c1f73);if(isNaN(_0x59bdc9)){console['error'](_0xedfe6f(0x66d));return;}let _0x475032=Math[_0xedfe6f(0x60a)](_0x59bdc9/0xe10),_0x594231=Math['floor'](_0x59bdc9%0xe10/0x3c),_0x1417da=new Date(Date[_0xedfe6f(0x71b)]()+_0x59bdc9*0x3e8);setTimeout(Fs,_0x59bdc9*0x3e8);let _0x5e0a0f=_0x75e039=>_0x75e039['toString']()[_0xedfe6f(0x832)](0x2,'0'),_0xda6ad3='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x5e0a0f(_0x475032)+_0xedfe6f(0x3e6)+_0x5e0a0f(_0x594231)+'\x20minutos.\x20Será\x20às\x20'+_0x5e0a0f(_0x1417da[_0xedfe6f(0x73b)]())+':'+_0x5e0a0f(_0x1417da[_0xedfe6f(0x520)]())+'.';console[_0xedfe6f(0x271)](_0xda6ad3);}else return console[_0xedfe6f(0x271)](_0xedfe6f(0x724)),js&&(console[_0xedfe6f(0x271)](_0xedfe6f(0x467)),process[_0xedfe6f(0x3b7)]()),_0xedfe6f(0x77b);}else{if(Oo++,Oo<Xr)console['log'](_0xedfe6f(0x7e2)+To/0xea60+'\x20minutos...'),setTimeout(Fs,To);else return console[_0xedfe6f(0x83d)](_0xedfe6f(0x371)),_0xedfe6f(0x14d);}}async function Zr(){const _0x36d6e6=a0_0x5bdda6;console[_0x36d6e6(0x271)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x25d0da=(0x0,Fe[_0x36d6e6(0x804)])(_0x36d6e6(0x61d),{'shell':!0x0});_0x25d0da['stdout']['on']('data',_0x80e553=>{const _0x3f5e4a=_0x36d6e6;console[_0x3f5e4a(0x271)](_0x3f5e4a(0x6b1)+_0x80e553);}),_0x25d0da[_0x36d6e6(0x1cb)]['on']('data',_0x5c4539=>{const _0x5aefb5=_0x36d6e6;console[_0x5aefb5(0x83d)](_0x5aefb5(0x263)+_0x5c4539);}),_0x25d0da['on'](_0x36d6e6(0x3b7),_0x14f85a=>{const _0x3594ca=_0x36d6e6;_0x14f85a!==0x0?console[_0x3594ca(0x83d)](_0x3594ca(0x83b)+_0x14f85a):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x3594ca(0x271)](_0x3594ca(0x532)),setTimeout(()=>process[_0x3594ca(0x3b7)](),0x2710);});}var ei=Le[a0_0x5bdda6(0x79b)]['join'](__dirname,'env.yml');async function ti(_0x4095b1,_0x5a93c1){const _0xdae2b2=a0_0x5bdda6;let _0x20d6d9=ai();_0x4095b1=_0x4095b1[_0xdae2b2(0x4a9)](_0xdae2b2(0x783),'');try{let _0xfa982d=ge['default'][_0xdae2b2(0x4d3)](_0x5a93c1,'utf8');_0xfa982d=_0xfa982d[_0xdae2b2(0x4a9)](/<apikey>/,_0x20d6d9),_0xfa982d=_0xfa982d[_0xdae2b2(0x4a9)](/<subdomain>/g,_0x4095b1),ge[_0xdae2b2(0x79b)]['writeFileSync'](_0x5a93c1,_0xfa982d,_0xdae2b2(0x5be)),console[_0xdae2b2(0x271)](_0xdae2b2(0x442));}catch(_0xa2ad53){console['error'](_0xdae2b2(0x38d),_0xa2ad53);}}function si(_0x333efa,_0x516f92){return new Promise((_0x2b791e,_0xb52d20)=>{const _0x118bb0=a0_0x33c5;let _0x5316ad=(0x0,Fe[_0x118bb0(0x804)])(_0x118bb0(0x42d),['certonly','--standalone','-m',_0x333efa,_0x118bb0(0x6bc),'-d',_0x516f92]);_0x5316ad[_0x118bb0(0x73c)]['on'](_0x118bb0(0x6d0),_0x310d67=>{const _0x2671e5=_0x118bb0;console[_0x2671e5(0x271)](_0x2671e5(0x5e7)+_0x310d67[_0x2671e5(0x58f)]());}),_0x5316ad[_0x118bb0(0x1cb)]['on']('data',_0x507407=>{const _0x1f0f38=_0x118bb0;console[_0x1f0f38(0x83d)](_0x1f0f38(0x5e1)+_0x507407[_0x1f0f38(0x58f)]());}),_0x5316ad['on'](_0x118bb0(0x133),_0x69e9ac=>{const _0x45eee7=_0x118bb0;_0x69e9ac!==0x0?(console[_0x45eee7(0x83d)](_0x45eee7(0x1d8)+_0x69e9ac),_0xb52d20('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x69e9ac)):(console[_0x45eee7(0x271)](_0x45eee7(0x4a7)),_0x2b791e());});});}function ai(_0x2be5ca=0x32){const _0x1d3b44=a0_0x5bdda6;let _0x5768c0='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x297572='';for(let _0x3566c5=0x0;_0x3566c5<_0x2be5ca;_0x3566c5++)_0x297572+=_0x5768c0[_0x1d3b44(0x5c5)](Math[_0x1d3b44(0x60a)](Math[_0x1d3b44(0x25d)]()*_0x5768c0[_0x1d3b44(0x29b)]));return _0x297572;}function oi(){const _0xb7d4a3=a0_0x5bdda6;(0x0,Fe[_0xb7d4a3(0x810)])(_0xb7d4a3(0x503),(_0x14967f,_0x162397,_0x2098d3)=>{const _0x581d27=_0xb7d4a3;if(_0x14967f){console['error']('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x14967f);return;}if(_0x2098d3){console[_0x581d27(0x83d)](_0x581d27(0x6df)+_0x2098d3);return;}console[_0x581d27(0x271)](_0x581d27(0x161)+_0x162397);});}0x0&&(module['exports']={'subdomain':subdomain});