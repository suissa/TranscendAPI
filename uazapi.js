const a0_0x344519=a0_0x3abc;function a0_0x3abc(_0x230ea4,_0x3a345c){const _0x3ee0ab=a0_0x3ee0();return a0_0x3abc=function(_0x3abc5d,_0x296bd2){_0x3abc5d=_0x3abc5d-0x104;let _0x2c325f=_0x3ee0ab[_0x3abc5d];return _0x2c325f;},a0_0x3abc(_0x230ea4,_0x3a345c);}(function(_0x552756,_0x28e995){const _0x31cf9e=a0_0x3abc,_0x1de3f9=_0x552756();while(!![]){try{const _0x402ee4=-parseInt(_0x31cf9e(0x3c1))/0x1+parseInt(_0x31cf9e(0x338))/0x2+parseInt(_0x31cf9e(0x33a))/0x3+parseInt(_0x31cf9e(0x7b2))/0x4*(-parseInt(_0x31cf9e(0x310))/0x5)+-parseInt(_0x31cf9e(0x40c))/0x6+parseInt(_0x31cf9e(0x34e))/0x7+parseInt(_0x31cf9e(0x4e3))/0x8;if(_0x402ee4===_0x28e995)break;else _0x1de3f9['push'](_0x1de3f9['shift']());}catch(_0x2f8678){_0x1de3f9['push'](_0x1de3f9['shift']());}}}(a0_0x3ee0,0x82bc5));var Fo=Object['create'],Ue=Object[a0_0x344519(0x34d)],Jo=Object[a0_0x344519(0x311)],Uo=Object['getOwnPropertyNames'],qo=Object[a0_0x344519(0x7ec)],Vo=Object['prototype'][a0_0x344519(0x11f)],Go=(_0x2d79b7,_0x38d50b)=>{for(var _0x4a1af6 in _0x38d50b)Ue(_0x2d79b7,_0x4a1af6,{'get':_0x38d50b[_0x4a1af6],'enumerable':!0x0});},Us=(_0x442f02,_0x3cfc15,_0x1e6e85,_0xab0724)=>{const _0x2c15db=a0_0x344519;if(_0x3cfc15&&typeof _0x3cfc15==_0x2c15db(0x3fc)||typeof _0x3cfc15==_0x2c15db(0x367)){for(let _0x3b8bff of Uo(_0x3cfc15))!Vo[_0x2c15db(0x165)](_0x442f02,_0x3b8bff)&&_0x3b8bff!==_0x1e6e85&&Ue(_0x442f02,_0x3b8bff,{'get':()=>_0x3cfc15[_0x3b8bff],'enumerable':!(_0xab0724=Jo(_0x3cfc15,_0x3b8bff))||_0xab0724[_0x2c15db(0x345)]});}return _0x442f02;},O=(_0x11d865,_0x3a3e9d,_0x37474c)=>(_0x37474c=_0x11d865!=null?Fo(qo(_0x11d865)):{},Us(_0x3a3e9d||!_0x11d865||!_0x11d865['__esModule']?Ue(_0x37474c,a0_0x344519(0x10d),{'value':_0x11d865,'enumerable':!0x0}):_0x37474c,_0x11d865)),Bo=_0xe68396=>Us(Ue({},a0_0x344519(0x6bc),{'value':!0x0}),_0xe68396),ii={};Go(ii,{'subdomain':()=>_s}),module['exports']=Bo(ii);var xo=O(require(a0_0x344519(0x3a9))),Vs=require('fs'),Gs=require(a0_0x344519(0x3da)),Bs=require(a0_0x344519(0x5e2)),qe=require('path'),ce=process[a0_0x344519(0x777)](),fe=(0x0,qe[a0_0x344519(0x2a3)])(ce,a0_0x344519(0x141)),qs=(0x0,qe[a0_0x344519(0x2a3)])(ce,a0_0x344519(0x54e)),Xi=(0x0,qe['join'])(ce,a0_0x344519(0x415),a0_0x344519(0x5ca)),cs=class{constructor(){const _0x54fdcd=a0_0x344519;this[_0x54fdcd(0x78e)]();}[a0_0x344519(0x283)](_0x4712ae){const _0x316901=a0_0x344519;return this[_0x316901(0x76f)][_0x4712ae];}[a0_0x344519(0x78e)](){const _0x13e688=a0_0x344519;this[_0x13e688(0x76f)]=process['env']?.[_0x13e688(0x4a7)]!==_0x13e688(0x145)?this['envYaml']():this['envProcess'](),process[_0x13e688(0x76f)]?.[_0x13e688(0x4a7)]===_0x13e688(0x145)&&(this['env']['SERVER']['TYPE']=_0x13e688(0x373),this[_0x13e688(0x76f)]['SERVER'][_0x13e688(0x18c)]=Number['parseInt'](process[_0x13e688(0x76f)]?.[_0x13e688(0x7c9)]??_0x13e688(0x2b9)));}[a0_0x344519(0x2b0)](){const _0x5c5364=a0_0x344519;return(0x0,Gs['load'])((0x0,Vs[_0x5c5364(0x3f1)])((0x0,Bs['join'])(qs,_0x5c5364(0x191)),{'encoding':'utf-8'}));}[a0_0x344519(0x628)](){const _0x8a850f=a0_0x344519;return{'SERVER':{'TYPE':process[_0x8a850f(0x76f)]['SERVER_TYPE'],'PORT':Number[_0x8a850f(0x3e9)](process['env'][_0x8a850f(0x7c9)]),'URL':process[_0x8a850f(0x76f)][_0x8a850f(0x73f)]},'CORS':{'ORIGIN':process[_0x8a850f(0x76f)][_0x8a850f(0x6d6)][_0x8a850f(0x134)](','),'METHODS':process['env'][_0x8a850f(0x2af)][_0x8a850f(0x134)](','),'CREDENTIALS':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x532)]===_0x8a850f(0x145)},'SSL_CONF':{'PRIVKEY':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x2e0)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x8a850f(0x76f)]?.[_0x8a850f(0x684)])?Number[_0x8a850f(0x3e9)](process[_0x8a850f(0x76f)][_0x8a850f(0x684)]):void 0x0,'MESSAGES':process[_0x8a850f(0x76f)]?.['STORE_MESSAGE']===_0x8a850f(0x145),'CONTACTS':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x718)]==='true','CHATS':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x4e1)]===_0x8a850f(0x145)},'DATABASE':{'CONNECTION':{'HOST':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x530)],'PORT':Number[_0x8a850f(0x3e9)](process[_0x8a850f(0x76f)]?.[_0x8a850f(0x530)]),'USER':process[_0x8a850f(0x76f)][_0x8a850f(0x714)],'PASSWORD':process[_0x8a850f(0x76f)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env'][_0x8a850f(0x803)],'DB_PREFIX_NAME':process[_0x8a850f(0x76f)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x3a7)]===_0x8a850f(0x145)},'REDIS':{'ENABLED':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x490)]==='true','URI':process[_0x8a850f(0x76f)][_0x8a850f(0x5c2)]||_0x8a850f(0x372),'PREFIX_KEY':process['env']['REDIS_PREFIX_KEY']||_0x8a850f(0x7cc)},'LOG':{'LEVEL':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x710)][_0x8a850f(0x134)](','),'COLOR':process[_0x8a850f(0x76f)]?.[_0x8a850f(0x53f)]===_0x8a850f(0x145)},'PROXY':Number[_0x8a850f(0x3e9)](process['env']?.[_0x8a850f(0x22c)]),'AUTHENTICATION':{'TYPE':process[_0x8a850f(0x76f)][_0x8a850f(0x448)],'API_KEY':{'KEY':process['env'][_0x8a850f(0x50b)]},'JWT':{'EXPIRIN_IN':Number[_0x8a850f(0x7f2)](process['env']?.[_0x8a850f(0x12c)])?Number[_0x8a850f(0x3e9)](process[_0x8a850f(0x76f)][_0x8a850f(0x12c)]):0xe10,'SECRET':process[_0x8a850f(0x76f)][_0x8a850f(0x163)]}}};}},b=new cs(),Do=O(require(a0_0x344519(0x7e7))),me=O(require(a0_0x344519(0x753))),Fs=require(a0_0x344519(0x5e2)),ls=O(require(a0_0x344519(0x19a))),us=(_0x3565c0=>(_0x3565c0['LOG']=a0_0x344519(0x755),_0x3565c0[a0_0x344519(0x4c6)]=a0_0x344519(0x726),_0x3565c0[a0_0x344519(0x58e)]=a0_0x344519(0x317),_0x3565c0[a0_0x344519(0x50e)]='\x1b[31m',_0x3565c0[a0_0x344519(0x374)]=a0_0x344519(0x5be),_0x3565c0[a0_0x344519(0x2e5)]='\x1b[37m',_0x3565c0['DARK']=a0_0x344519(0x6b6),_0x3565c0))(us||{}),Ws=(_0x45620c=>(_0x45620c['LOG']=a0_0x344519(0x3f2),_0x45620c['DARK']='\x1b[30m%s\x1b[0m',_0x45620c[a0_0x344519(0x4c6)]=a0_0x344519(0x579),_0x45620c[a0_0x344519(0x58e)]=a0_0x344519(0x2d6),_0x45620c[a0_0x344519(0x50e)]=a0_0x344519(0x78b),_0x45620c['DEBUG']=a0_0x344519(0x707),_0x45620c['VERBOSE']=a0_0x344519(0x5e8),_0x45620c))(Ws||{}),zs=(_0x359eba=>(_0x359eba[a0_0x344519(0x39c)]=a0_0x344519(0x39c),_0x359eba[a0_0x344519(0x58e)]='WARN',_0x359eba[a0_0x344519(0x4c6)]='INFO',_0x359eba[a0_0x344519(0x801)]=a0_0x344519(0x801),_0x359eba[a0_0x344519(0x50e)]=a0_0x344519(0x50e),_0x359eba[a0_0x344519(0x374)]=a0_0x344519(0x374),_0x359eba[a0_0x344519(0x2e5)]=a0_0x344519(0x2e5),_0x359eba))(zs||{}),Hs=(_0x470ebf=>(_0x470ebf['LOG']=a0_0x344519(0x4aa),_0x470ebf[a0_0x344519(0x4c6)]='\x1b[44m',_0x470ebf[a0_0x344519(0x58e)]=a0_0x344519(0x585),_0x470ebf[a0_0x344519(0x801)]=a0_0x344519(0x6d3),_0x470ebf[a0_0x344519(0x50e)]=a0_0x344519(0x5cd),_0x470ebf[a0_0x344519(0x374)]='\x1b[46m',_0x470ebf[a0_0x344519(0x2e5)]='\x1b[47m',_0x470ebf))(Hs||{}),R=class{constructor(_0xad185a=a0_0x344519(0x47c)){const _0x2d7a53=a0_0x344519;this[_0x2d7a53(0x1a1)]=_0xad185a,this[_0x2d7a53(0x574)]=b;}[a0_0x344519(0x7cd)](_0x4faf4e){const _0x47b1eb=a0_0x344519;this[_0x47b1eb(0x1a1)]=_0x4faf4e;}[a0_0x344519(0x7f8)](_0x53139b,_0xf9400e){const _0x12df1a=a0_0x344519;let _0x4b3627=[];this[_0x12df1a(0x574)]['get'](_0x12df1a(0x39c))['LEVEL']['forEach'](_0x134f98=>_0x4b3627[_0x12df1a(0x413)](zs[_0x134f98]));let _0x34470e=typeof _0x53139b;_0x4b3627['includes'](_0xf9400e)&&(b[_0x12df1a(0x283)]('LOG')[_0x12df1a(0x3ee)]?(console[_0x12df1a(0x7a7)](_0x12df1a(0x22b)+Ws[_0xf9400e],_0x12df1a(0x5bf),(0x0,ls[_0x12df1a(0x10d)])()['format'](_0x12df1a(0x694)),_0x12df1a(0x122),us[_0xf9400e]+Hs[_0xf9400e]+_0x12df1a(0x22b),_0xf9400e+_0x12df1a(0x550),_0x12df1a(0x583),this[_0x12df1a(0x1a1)]+_0x12df1a(0x122),us[_0xf9400e],_0x34470e!==_0x12df1a(0x3fc)?_0x53139b:'',_0x12df1a(0x122)),_0x34470e===_0x12df1a(0x3fc)&&console['log'](_0x53139b,'\x0a')):console[_0x12df1a(0x7a7)]((0x0,ls['default'])()['format'](_0x12df1a(0x7e6)),_0xf9400e+'\x20',''+this['context'],_0x53139b));}[a0_0x344519(0x7a7)](_0xed48f1){const _0x343f80=a0_0x344519;this[_0x343f80(0x7f8)](_0xed48f1,_0x343f80(0x39c));}['info'](_0x2e8ae6){const _0x15841c=a0_0x344519;this['console'](_0x2e8ae6,_0x15841c(0x4c6));}[a0_0x344519(0x7ba)](_0x1a2f7a){const _0xf1251a=a0_0x344519;this[_0xf1251a(0x7f8)](_0x1a2f7a,_0xf1251a(0x58e));}[a0_0x344519(0x2b4)](_0x214d5e){const _0x4ecec5=a0_0x344519;this[_0x4ecec5(0x7f8)](_0x214d5e,_0x4ecec5(0x50e));}['verbose'](_0x2a67d6){const _0x5e0710=a0_0x344519;this[_0x5e0710(0x7f8)](_0x2a67d6,_0x5e0710(0x2e5));}[a0_0x344519(0x1f0)](_0xab77bd){const _0x2aab10=a0_0x344519;this[_0x2aab10(0x7f8)](_0xab77bd,_0x2aab10(0x374));}[a0_0x344519(0x27f)](_0x1d9402){const _0x5217c5=a0_0x344519;this[_0x5217c5(0x7f8)](_0x1d9402,_0x5217c5(0x801));}};function Ks(){const _0x3a887e=a0_0x344519;process['on'](_0x3a887e(0x54c),(_0x50b3d5,_0xa1fd36)=>{const _0x376258=_0x3a887e;new R(_0x376258(0x54c))[_0x376258(0x2b4)]({'origin':_0xa1fd36,'stderr':process[_0x376258(0x14e)]['fd'],'error':_0x50b3d5});}),process['on'](_0x3a887e(0x765),(_0x455697,_0x200584)=>{const _0x2bff5c=_0x3a887e;new R(_0x2bff5c(0x765))['error']({'origin':_0x200584,'stderr':process[_0x2bff5c(0x14e)]['fd'],'error':_0x455697});});}var Qs=O(require(a0_0x344519(0x533))),ds=new Qs[(a0_0x344519(0x10d))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ye=require(a0_0x344519(0x526)),ve=O(require(a0_0x344519(0x526))),Ve=new R(a0_0x344519(0x126)),j=b[a0_0x344519(0x283)](a0_0x344519(0x6a1)),$=j['ENABLED']?j[a0_0x344519(0x69b)][a0_0x344519(0x2ad)]?ve[a0_0x344519(0x10d)][a0_0x344519(0x546)](j[a0_0x344519(0x69b)]['URI'],{'dbName':j[a0_0x344519(0x69b)][a0_0x344519(0x146)]+a0_0x344519(0x235)}):ve[a0_0x344519(0x10d)][a0_0x344519(0x546)](a0_0x344519(0x715)+j[a0_0x344519(0x69b)]['HOST']+':'+j[a0_0x344519(0x69b)][a0_0x344519(0x18c)]+a0_0x344519(0x4a2),{'user':j[a0_0x344519(0x69b)]['USER'],'pass':j['CONNECTION'][a0_0x344519(0x49d)],'dbName':j[a0_0x344519(0x69b)][a0_0x344519(0x146)]+'-whatsapp-api'}):null;j[a0_0x344519(0x67c)]&&Ve[a0_0x344519(0x1af)](a0_0x344519(0x32f)+$[a0_0x344519(0x7d3)]);var we=j['ENABLED']?j[a0_0x344519(0x69b)][a0_0x344519(0x2ad)]?ve['default'][a0_0x344519(0x546)](j[a0_0x344519(0x69b)][a0_0x344519(0x2ad)],{'dbName':'cachedData-whatsapp'}):ve[a0_0x344519(0x10d)]['createConnection']('mongodb://'+j['CONNECTION'][a0_0x344519(0x49b)]+':'+j[a0_0x344519(0x69b)][a0_0x344519(0x18c)]+a0_0x344519(0x4a2),{'user':j['CONNECTION']['USER'],'pass':j[a0_0x344519(0x69b)][a0_0x344519(0x49d)],'dbName':'cachedContacts-whatsapp'}):null;we&&Ve[a0_0x344519(0x1af)](a0_0x344519(0x32f)+we[a0_0x344519(0x7d3)]),process['on'](a0_0x344519(0x639),()=>{const _0x343a81=a0_0x344519;$&&$['close'](()=>{const _0x7c36c9=a0_0x3abc;Ve[_0x7c36c9(0x1af)](_0x7c36c9(0x491));}),we&&we[_0x343a81(0x65b)](()=>{const _0x1e08ce=_0x343a81;Ve[_0x1e08ce(0x1af)](_0x1e08ce(0x636));});});var Wo=new ye[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),zo=new ye['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Ho=new ye[(a0_0x344519(0x260))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ko=new ye[(a0_0x344519(0x260))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Wo],'default':[]}},{'_id':!0x1}),Qo=new ye[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ko,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':zo},'groupdata':{'type':Ho,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ys=_0x12d36a=>{const _0x411ea1=a0_0x344519;let _0x57c6ac='z_'+_0x12d36a+_0x411ea1(0x695);return $?.[_0x411ea1(0x121)](_0x411ea1(0x48e),Qo,_0x57c6ac);},Xs=require(a0_0x344519(0x526)),Yo=new Xs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x5dad38=>{const _0x2c7a7a=a0_0x344519;let _0x37eb5e='z_'+_0x5dad38+_0x2c7a7a(0x219);return $?.[_0x2c7a7a(0x121)]('ContactModel',Yo,_0x37eb5e);},ea=require(a0_0x344519(0x526)),ps=class{},Xo=new ea['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=we?.['model'](ps[a0_0x344519(0x731)],Xo,a0_0x344519(0x4fc)),sa=require(a0_0x344519(0x526)),Zo=new sa[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x222558=>{const _0x3df17a=a0_0x344519;let _0x2814a5='z_'+_0x222558+'_Messages';return $?.[_0x3df17a(0x121)]('MessageModel',Zo,_0x2814a5);},oa=require(a0_0x344519(0x526)),hs=class{},er=new oa[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ra=$?.[a0_0x344519(0x121)](hs[a0_0x344519(0x731)],er,a0_0x344519(0x24d)),ia=require(a0_0x344519(0x526)),gs=class{},na=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x344519(0x31b)]('save',function(_0x16cd39){const _0xc2257b=a0_0x344519;delete this['flowActive'],delete this[_0xc2257b(0x692)],delete this[_0xc2257b(0x4b8)],delete this[_0xc2257b(0x62c)],delete this[_0xc2257b(0x4e0)],_0x16cd39();});var ca=$?.[a0_0x344519(0x121)](gs[a0_0x344519(0x731)],na,a0_0x344519(0x1fb)),_=require(a0_0x344519(0x526)),ms=require(a0_0x344519(0x52a)),Ge=class{},la=new _['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),fs=new _[(a0_0x344519(0x260))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),tr=new _[(a0_0x344519(0x260))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x344519(0x5da)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x344519(0x6b0)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x344519(0x187)},'pollErrorMessage':{'type':String,'default':a0_0x344519(0x3ac)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ua=new _[(a0_0x344519(0x260))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),sr=new _[(a0_0x344519(0x260))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ar=new _[(a0_0x344519(0x260))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ys=new _[(a0_0x344519(0x260))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),or=new _['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),da=new _[(a0_0x344519(0x260))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':tr},'apirequest':sr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':or,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),pa=new _['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),bs=new _[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,ms['v4'])()},'startID':{'type':String,'default':()=>(0x0,ms['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x344519(0x4ff)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){return'!cmd_'+Math['random']()['toString'](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ys],'variablesNotFound':{'type':[String]},'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[fs],'default':[]}});bs['pre'](a0_0x344519(0x254),function(_0x5983ab){const _0xc47d7f=a0_0x344519;let _0x529c40=new Set(),_0x5d6f9c=new Set(this[_0xc47d7f(0x257)]?.[_0xc47d7f(0x41f)](_0x31cd7c=>_0x31cd7c['name'])),_0x358089=JSON[_0xc47d7f(0x3f5)](this),_0x4b8691=/{{(?!_)([^}]*)}}/g,_0x38ba4c;for(;(_0x38ba4c=_0x4b8691[_0xc47d7f(0x64e)](_0x358089))!==null;)_0x5d6f9c[_0xc47d7f(0x2dd)](_0x38ba4c[0x1])||_0x529c40[_0xc47d7f(0x305)](_0x38ba4c[0x1]);_0x529c40[_0xc47d7f(0x64b)]>0x0?(console[_0xc47d7f(0x7ba)]('Variáveis\x20não\x20encontradas:',Array[_0xc47d7f(0x2fc)](_0x529c40)),this[_0xc47d7f(0x7b6)]=Array['from'](_0x529c40)):this['variablesNotFound']=[],_0x5983ab();}),bs[a0_0x344519(0x31b)](a0_0x344519(0x11a),function(_0x3dd638){const _0x7af352=a0_0x344519;let _0x9a4e0c=this[_0x7af352(0x22e)]();if(_0x9a4e0c&&typeof _0x9a4e0c==_0x7af352(0x3fc)&&_0x7af352(0x40f)in _0x9a4e0c){let _0x3d74e9=_0x9a4e0c[_0x7af352(0x40f)];if(_0x3d74e9){let _0x3ba9ec=new Set(),_0x2e99b4=new Set(_0x3d74e9[_0x7af352(0x257)]?.[_0x7af352(0x41f)](_0xf5f547=>_0xf5f547['name'])),_0x1a8975=JSON['stringify'](_0x3d74e9),_0xdb23f5=/{{(?!_)([^}]*)}}/g,_0x1b5e91;for(;(_0x1b5e91=_0xdb23f5[_0x7af352(0x64e)](_0x1a8975))!==null;)_0x2e99b4['has'](_0x1b5e91[0x1])||_0x3ba9ec[_0x7af352(0x305)](_0x1b5e91[0x1]);_0x3ba9ec[_0x7af352(0x64b)]>0x0?(console[_0x7af352(0x7ba)]('Variáveis\x20não\x20encontradas:',Array[_0x7af352(0x2fc)](_0x3ba9ec)),_0x3d74e9[_0x7af352(0x7b6)]=Array[_0x7af352(0x2fc)](_0x3ba9ec)):_0x3d74e9['variablesNotFound']=[],this[_0x7af352(0x359)]({'$set':_0x3d74e9});}}_0x3dd638();});var ha=_0x1f9f17=>{const _0xe603e5=a0_0x344519;let _0xc9a189='z_'+_0x1f9f17+_0xe603e5(0x6fc);return $?.['model'](_0xe603e5(0x26e),bs,_0xc9a189);},rr=new _[(a0_0x344519(0x260))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ys],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ar]},{'_id':!0x1}),ir=new _[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ys],'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[fs],'default':[]},'chatLog':rr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x344519(0x1fe)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x344519(0x187)},'waitingMenu_replyOptions':{'type':[fs],'default':[]}}),ga=_0x1647fb=>{const _0x2551a1=a0_0x344519;let _0x46d69b='z_'+_0x1647fb+'_FlowHistorico';return $?.[_0x2551a1(0x121)](_0x2551a1(0x453),ir,_0x46d69b);},nr=new _[(a0_0x344519(0x260))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),cr=new _['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),lr=new _[(a0_0x344519(0x260))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x344519(0x49c)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':cr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[nr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ma=_0x39e8ac=>{const _0xa7b7e2=a0_0x344519;let _0x2b8b89='z_'+_0x39e8ac+_0xa7b7e2(0x4e5);return $?.['model']('ScheduleMessageModel',lr,_0x2b8b89);},ws=class{},ur=new _[(a0_0x344519(0x260))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),dr=new _[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),pr=new _[(a0_0x344519(0x260))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),hr=new _[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),gr=new _[(a0_0x344519(0x260))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[hr]},'customFields':{'type':[dr]},'flowConfig':{'type':pr,'default':{}},'autoCompleteMessages':{'type':[ur],'default':[]}}),Ne=$?.[a0_0x344519(0x121)](ws[a0_0x344519(0x731)],gr,'AutomateSystem'),fa=require(a0_0x344519(0x526)),mr=new fa[(a0_0x344519(0x260))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),wa=_0x112f7e=>{const _0x348eec=a0_0x344519;let _0x4d1b35='z_'+_0x112f7e+'_Labels';return $?.[_0x348eec(0x121)](_0x348eec(0x70e),mr,_0x4d1b35);},x=class{constructor(_0x362591){const _0x5bd43b=a0_0x344519;this[_0x5bd43b(0x356)]=_0x362591[_0x5bd43b(0x283)](_0x5bd43b(0x6a1));}};function T(_0xa198ee){const _0x1aa479=a0_0x344519;let _0x221446={};for(let [_0x1ff82b,_0x3cbea0]of Object['entries'](_0xa198ee))if(typeof _0x3cbea0=='object'&&!Array[_0x1aa479(0x635)](_0x3cbea0)){for(let [_0x5bab42,_0x3abc0e]of Object['entries'](_0x3cbea0))_0x221446[_0x1ff82b+'.'+_0x5bab42]=_0x3abc0e;}else _0x221446[_0x1ff82b]=_0x3cbea0;return _0x221446;}var Be=class{constructor(_0x4fd2f3,_0x55c5d0,_0x445b01,_0x2029ed,_0x3e5436,_0x1bc5fc,_0x38b7c9,_0x787c80,_0xa9824d,_0x56e996,_0x3c6bf1,_0x33e5a8){const _0x5366db=a0_0x344519;this['message']=_0x4fd2f3,this['chat']=_0x55c5d0,this[_0x5366db(0x3d4)]=_0x445b01,this[_0x5366db(0x2b6)]=_0x2029ed,this[_0x5366db(0x1fb)]=_0x3e5436,this[_0x5366db(0x5ca)]=_0x1bc5fc,this[_0x5366db(0x3d0)]=_0x38b7c9,this['flowConversation']=_0x787c80,this['label']=_0xa9824d,this[_0x5366db(0x18d)]=_0x56e996,this['automateSystem']=_0x3c6bf1,this[_0x5366db(0x140)]=_0x33e5a8;}get[a0_0x344519(0x704)](){const _0x591189=a0_0x344519;return this[_0x591189(0x140)];}},We=class{},ze=class extends x{[a0_0x344519(0x42a)](_0x4c74d9){return aa(_0x4c74d9);}async[a0_0x344519(0x113)](_0x4d209f,_0xdab817){const _0x242116=a0_0x344519;if(_0x4d209f[_0x242116(0x4e4)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x242116(0x42a)](_0xdab817)[_0x242116(0x3ab)]([..._0x4d209f]))[_0x242116(0x4e4)]};}catch(_0x5045e0){return _0x5045e0;}}async['find'](_0x18fca1,_0x1a6fa1){const _0x2b0943=a0_0x344519;try{let _0x4f3248=this[_0x2b0943(0x42a)](_0x1a6fa1),_0x5653c9=T(_0x18fca1[_0x2b0943(0x52c)]);return await _0x4f3248['find'](_0x5653c9)[_0x2b0943(0x4ec)]({'messageTimestamp':-0x1})[_0x2b0943(0x2a9)](_0x18fca1?.[_0x2b0943(0x2a9)]??0x0)[_0x2b0943(0x45a)]();}catch{return[];}}async['delete'](_0xacf09f,_0xf5d879){const _0x4cb220=a0_0x344519;try{let _0x228541=this[_0x4cb220(0x42a)](_0xf5d879),_0x5040e7=T(_0xacf09f['where']);await _0x228541[_0x4cb220(0x233)](_0x5040e7);}catch(_0x4d84fb){console[_0x4cb220(0x2b4)](_0x4d84fb);}}async['update'](_0x218d7e,_0x534a1e,_0x2c1553){const _0x4f6c48=a0_0x344519;try{let _0x31a6de=this[_0x4f6c48(0x42a)](_0x2c1553),_0x5044a2=T(_0x218d7e[_0x4f6c48(0x52c)]);return await _0x31a6de[_0x4f6c48(0x11a)](_0x5044a2,{'$set':_0x534a1e},{'new':!0x0});}catch(_0x5e261e){throw console[_0x4f6c48(0x2b4)](_0x5e261e),_0x5e261e;}}async[a0_0x344519(0x3ab)](_0x5b940a,_0x4e3c58){const _0x2184e1=a0_0x344519;if(_0x5b940a[_0x2184e1(0x4e4)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2184e1(0x42a)](_0x4e3c58)[_0x2184e1(0x3ab)]([..._0x5b940a]))[_0x2184e1(0x4e4)]};}catch(_0x153260){return console[_0x2184e1(0x7a7)](_0x2184e1(0x7ac),_0x153260),_0x153260;}}async[a0_0x344519(0x678)](_0x3c4a20){const _0x58e390=a0_0x344519;try{return await this[_0x58e390(0x42a)](_0x3c4a20)[_0x58e390(0x6ab)][_0x58e390(0x44a)](),{'success':!0x0};}catch(_0x5bd417){return console['error'](_0x5bd417),{'success':!0x1,'error':_0x5bd417};}}},Os=O(require('@ffmpeg-installer/ffmpeg')),f=O(require('@whiskeysockets/baileys')),De=require('fs'),F=O(require(a0_0x344519(0x5e2))),Q=O(require('axios')),Eo=require('uuid'),vo=O(require(a0_0x344519(0x361))),No=O(require(a0_0x344519(0x6cb))),ya=[a0_0x344519(0x447),a0_0x344519(0x6ba),a0_0x344519(0x25b),a0_0x344519(0x5e3),a0_0x344519(0x2a2)],ba=[a0_0x344519(0x286),a0_0x344519(0x723),a0_0x344519(0x776),a0_0x344519(0x63f)],Ts=require('os'),Lt=O(require(a0_0x344519(0x174))),_e=require(a0_0x344519(0x3ef)),jt=require(a0_0x344519(0x277)),ie=O(require('mongoose')),k=require(a0_0x344519(0x468)),be=class{constructor(_0x215fe1,_0x397c37,_0x33e3e8){const _0x1a38be=a0_0x344519;this[_0x1a38be(0x19d)]=_0x215fe1,this[_0x1a38be(0x15b)]=_0x397c37,this[_0x1a38be(0x731)]=_0x33e3e8;}},He=class{},Ke=class{},Re=class{},Qe=class{},Ye=class{},Se=class{},Xe=class{},Ze=class{},et=class{},tt=class{},xt=O(require(a0_0x344519(0x753))),Sa=require('fs'),Ma=require(a0_0x344519(0x5e2));async function $e(_0x1b06c4){const _0x4d9ce5=a0_0x344519;let _0x2026f9=G['waInstances'][_0x1b06c4];if(j[_0x4d9ce5(0x67c)]){let _0x32cccb=$[_0x4d9ce5(0x570)]()['db'](j[_0x4d9ce5(0x69b)][_0x4d9ce5(0x146)]+'-instances')[_0x4d9ce5(0x6ab)](_0x1b06c4);return _0x2026f9||(await _0x32cccb['find']({})[_0x4d9ce5(0x503)]())[_0x4d9ce5(0x4e4)]>0x0;}return _0x2026f9||(0x0,Sa[_0x4d9ce5(0x527)])((0x0,Ma['join'])(fe,_0x1b06c4));}async function Ca(_0x38dd77,_0x4757e3,_0x4bd6e3){const _0x4c930c=a0_0x344519;if(_0x38dd77['originalUrl'][_0x4c930c(0x5fb)](_0x4c930c(0x1eb))||_0x38dd77[_0x4c930c(0x39b)][_0x4c930c(0x5fb)](_0x4c930c(0x4fd))||_0x38dd77[_0x4c930c(0x39b)][_0x4c930c(0x5fb)](_0x4c930c(0x1d0))||_0x38dd77[_0x4c930c(0x39b)]['includes'](_0x4c930c(0x6c1))||_0x38dd77[_0x4c930c(0x39b)]['includes'](_0x4c930c(0x377))||_0x38dd77[_0x4c930c(0x39b)][_0x4c930c(0x5fb)](_0x4c930c(0x61a))||_0x38dd77['originalUrl'][_0x4c930c(0x5fb)](_0x4c930c(0x418)))return _0x4bd6e3();let _0x2c02=_0x38dd77['params'];if(!_0x2c02?.['instanceName'])throw new m(_0x4c930c(0x6da));if(!await $e(_0x2c02[_0x4c930c(0x20c)]))throw new U(_0x4c930c(0x36e)+_0x2c02[_0x4c930c(0x20c)]+_0x4c930c(0x44d));_0x4bd6e3();}async function Ea(_0x3aece8,_0x586bbb,_0x12ab80){const _0x1d38be=a0_0x344519;if(_0x3aece8['originalUrl'][_0x1d38be(0x5fb)](_0x1d38be(0x1eb))){let _0x4ffabc=_0x3aece8[_0x1d38be(0x596)];if(await $e(_0x4ffabc[_0x1d38be(0x20c)]))throw new Y(_0x1d38be(0x20e)+_0x4ffabc['instanceName']+'\x20is\x20already\x20in\x20use.');G[_0x1d38be(0x11d)][_0x4ffabc[_0x1d38be(0x20c)]]&&delete G[_0x1d38be(0x11d)][_0x4ffabc[_0x1d38be(0x20c)]];}_0x12ab80();}var va=require(a0_0x344519(0x468)),Na=O(require(a0_0x344519(0x465))),st=a0_0x344519(0x7cc),wr=new R(a0_0x344519(0x217));async function yr(_0x44c5b5,_0x430e21,_0x10cf77){const _0x1cc3ab=a0_0x344519;let _0x36e562=_0x44c5b5['get'](_0x1cc3ab(0x66c));if(_0x36e562&&b[_0x1cc3ab(0x283)](_0x1cc3ab(0x3e8))[_0x1cc3ab(0x5d7)]['KEY']!==_0x36e562)throw new ae();if(b[_0x1cc3ab(0x283)](_0x1cc3ab(0x3e8))[_0x1cc3ab(0x5d7)]['KEY']===_0x36e562)return _0x10cf77();if((_0x44c5b5[_0x1cc3ab(0x39b)]['includes']('/instance/create')||_0x44c5b5[_0x1cc3ab(0x39b)][_0x1cc3ab(0x5fb)](_0x1cc3ab(0x4fd)))&&!_0x36e562)throw new Y('Missing\x20global\x20api\x20key',_0x1cc3ab(0x30a));let _0xe335fd=b[_0x1cc3ab(0x283)](_0x1cc3ab(0x3e8))[_0x1cc3ab(0x6b4)];try{let [_0x3ece83,_0x2414bd]=_0x44c5b5['get'](_0x1cc3ab(0x59f))[_0x1cc3ab(0x134)]('\x20');if(_0x3ece83[_0x1cc3ab(0x5cf)]()!=='bearer')throw new ae();if(!(0x0,va[_0x1cc3ab(0x3ff)])(_0x2414bd))throw new ae();let _0x1e8878=_0x44c5b5[_0x1cc3ab(0x416)],_0x2b0b82=Na[_0x1cc3ab(0x10d)][_0x1cc3ab(0x825)](_0x2414bd,_0xe335fd[_0x1cc3ab(0x308)],{'ignoreExpiration':_0xe335fd[_0x1cc3ab(0x41a)]===0x0});if(_0x1e8878[_0x1cc3ab(0x20c)]!==_0x2b0b82[_0x1cc3ab(0x20c)]||st!==_0x2b0b82[_0x1cc3ab(0x537)])throw new ae();return _0x10cf77();}catch(_0x12dcec){throw wr[_0x1cc3ab(0x2b4)](_0x12dcec),new ae();}}async function br(_0x5768f3,_0x1dfd72,_0x1d32ea){const _0x2cac18=a0_0x344519;let _0x430bc7=b[_0x2cac18(0x283)]('AUTHENTICATION')[_0x2cac18(0x5d7)],_0x59c3cb=_0x5768f3[_0x2cac18(0x283)](_0x2cac18(0x66c));if(_0x430bc7['KEY']===_0x59c3cb)return _0x1d32ea();if(_0x5768f3[_0x2cac18(0x39b)][_0x2cac18(0x5fb)]('/instance/create')){let _0x1d2a2e=at,_0x1121c2=_0x5768f3[_0x2cac18(0x596)][_0x2cac18(0x20c)];if(_0x1d2a2e&&_0x1121c2[_0x2cac18(0x5cf)]()[_0x2cac18(0x742)](_0x1d2a2e[_0x2cac18(0x5cf)]()))return _0x1d32ea();if(!_0x59c3cb)throw new Y(_0x2cac18(0x572),_0x2cac18(0x30a));}if(_0x5768f3['originalUrl'][_0x2cac18(0x5fb)](_0x2cac18(0x4fd))&&!_0x59c3cb)throw new Y(_0x2cac18(0x572),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x5768f3[_0x2cac18(0x39b)][_0x2cac18(0x5fb)](_0x2cac18(0x1d0))&&!_0x59c3cb)throw new Y(_0x2cac18(0x572),_0x2cac18(0x30a));if(_0x5768f3[_0x2cac18(0x39b)][_0x2cac18(0x5fb)](_0x2cac18(0x6c1))&&!_0x59c3cb)throw new Y(_0x2cac18(0x572),_0x2cac18(0x30a));try{let _0x2383f6=_0x5768f3[_0x2cac18(0x416)],_0x4f52aa=await pe[_0x2cac18(0x5ca)][_0x2cac18(0x1ee)](_0x2383f6['instanceName']);if(_0x4f52aa&&_0x4f52aa['apikey']===_0x59c3cb)return _0x1d32ea();}catch{}throw new ae();}var Ra={'jwt':yr,'apikey':br},io=require('express'),v=require(a0_0x344519(0x52a)),E=(..._0xc57b11)=>{const _0x1244a0=a0_0x344519;let _0x44466c={};return _0xc57b11[_0x1244a0(0x402)](_0x482028=>_0x44466c[_0x482028]={'minLength':0x1,'description':_0x1244a0(0x1d7)+_0x482028+_0x1244a0(0x204)}),{'if':{'propertyNames':{'enum':[..._0xc57b11]}},'then':{'properties':_0x44466c}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'instanceName':{'type':'string'}},...E(a0_0x344519(0x20c))},cc={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'oldToken':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x676)],...E(a0_0x344519(0x676))},lc={'properties':{'key':{'type':a0_0x344519(0x3fc),'properties':{'id':{'type':a0_0x344519(0x138)},'remoteJid':{'type':a0_0x344519(0x138)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x344519(0x5b0),a0_0x344519(0x20b)],...E('id',a0_0x344519(0x5b0))},'message':{'type':a0_0x344519(0x3fc)}}},X={'properties':{'delay':{'type':a0_0x344519(0x6d4),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x513),a0_0x344519(0x61d),a0_0x344519(0x5d0),'recording',a0_0x344519(0x58c)]}}},H={'type':a0_0x344519(0x138),'description':'Invalid\x20format'},$a={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'options':{...X},'textMessage':{'type':a0_0x344519(0x3fc),'properties':{'text':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x634)],...E('text')}},'required':['textMessage',a0_0x344519(0x735)]},Aa={'type':a0_0x344519(0x138),'pattern':a0_0x344519(0x6ce),'description':a0_0x344519(0x12e)},uc={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...Aa},'options':{...X},'textMessage':{'type':a0_0x344519(0x3fc),'properties':{'text':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x634)],...E('text')}},'required':[a0_0x344519(0x797),a0_0x344519(0x735)]},dc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Aa},'options':{...X},'mediaMessage':{'type':a0_0x344519(0x3fc),'properties':{'mediatype':{'type':a0_0x344519(0x138),'enum':['image',a0_0x344519(0x1ed),'video',a0_0x344519(0x4bc)]},'media':{'type':a0_0x344519(0x138)},'fileName':{'type':a0_0x344519(0x138)},'caption':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x1b6),'media'],...E(a0_0x344519(0x6dc),'caption',a0_0x344519(0x1ea))}},'required':[a0_0x344519(0x7be),a0_0x344519(0x735)]},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'options':{...X},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x4dd)],...E(a0_0x344519(0x4dd))}},'required':['stickerMessage',a0_0x344519(0x735)]},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'statusMessage':{'type':a0_0x344519(0x3fc),'properties':{'type':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x634),a0_0x344519(0x4dd),a0_0x344519(0x4bc),'video']},'content':{'type':a0_0x344519(0x138)},'caption':{'type':a0_0x344519(0x138)},'backgroundColor':{'type':a0_0x344519(0x138)},'font':{'type':a0_0x344519(0x6d4),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x344519(0x138),'pattern':a0_0x344519(0x499),'description':a0_0x344519(0x666)}},'allContacts':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]}},'required':[a0_0x344519(0x4d3),a0_0x344519(0x49f)],...E(a0_0x344519(0x4d3),a0_0x344519(0x49f))}},'required':[a0_0x344519(0x10c)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'options':{...X},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x344519(0x138),'enum':['image','document','video',a0_0x344519(0x4bc)]},'media':{'type':'string'},'fileName':{'type':a0_0x344519(0x138)},'caption':{'type':'string'}},'required':[a0_0x344519(0x1b6),'media'],...E(a0_0x344519(0x6dc),a0_0x344519(0x6e2),a0_0x344519(0x1ea))}},'required':[a0_0x344519(0x7be),a0_0x344519(0x735)]},xa={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'options':{...X},'audioMessage':{'type':a0_0x344519(0x3fc),'properties':{'audio':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x4bc)],...E(a0_0x344519(0x4bc))}},'required':['audioMessage',a0_0x344519(0x735)]},Da={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...H},'pollMessage':{'type':a0_0x344519(0x3fc),'properties':{'name':{'type':a0_0x344519(0x138)},'selectableCount':{'type':a0_0x344519(0x735)},'values':{'type':a0_0x344519(0x67d),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x344519(0x731),a0_0x344519(0x3dd),a0_0x344519(0x7fa)],...E('name','selectableCount',a0_0x344519(0x7fa))}},'required':[a0_0x344519(0x735),a0_0x344519(0x36f)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'menuMessage':{'type':a0_0x344519(0x3fc),'properties':{'text':{'type':a0_0x344519(0x138)},'choices':{'type':a0_0x344519(0x67d),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...E(a0_0x344519(0x634),a0_0x344519(0x616))}},'required':[a0_0x344519(0x735),a0_0x344519(0x816)]},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'options':{...X},'buttonMessage':{'type':a0_0x344519(0x3fc),'properties':{'title':{'type':a0_0x344519(0x138)},'description':{'type':a0_0x344519(0x138)},'footerText':{'type':a0_0x344519(0x138)},'buttons':{'type':a0_0x344519(0x67d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x344519(0x3fc),'properties':{'buttonText':{'type':a0_0x344519(0x138)},'buttonId':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x821),'buttonId'],...E(a0_0x344519(0x821),a0_0x344519(0x77b))}},'mediaMessage':{'type':a0_0x344519(0x3fc),'properties':{'media':{'type':a0_0x344519(0x138)},'fileName':{'type':'string'},'mediatype':{'type':'string','enum':['image',a0_0x344519(0x1ed),a0_0x344519(0x77a)]}},'required':['media',a0_0x344519(0x1b6)],...E(a0_0x344519(0x1ea),a0_0x344519(0x6dc))}},'required':[a0_0x344519(0x2e8),a0_0x344519(0x785)],...E('title','description')}},'required':['number',a0_0x344519(0x3ba)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'options':{...X},'locationMessage':{'type':a0_0x344519(0x3fc),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x344519(0x735)},'name':{'type':a0_0x344519(0x138)},'address':{'type':'string'}},'required':[a0_0x344519(0x671),a0_0x344519(0x6e1)],...E('name',a0_0x344519(0x173))}},'required':['number',a0_0x344519(0x71c)]},La={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'listMessage':{'type':a0_0x344519(0x3fc),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x344519(0x138)},'buttonText':{'type':'string'},'sections':{'type':a0_0x344519(0x67d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x344519(0x3fc),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x344519(0x67d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x344519(0x138)},'description':{'type':'string'},'rowId':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x2e8),'rowId'],...E('title',a0_0x344519(0x7ee))}}},'required':[a0_0x344519(0x2e8),'rows'],...E(a0_0x344519(0x2e8))}}},'required':[a0_0x344519(0x2e8),'description',a0_0x344519(0x821),a0_0x344519(0x64d)],...E(a0_0x344519(0x2e8),a0_0x344519(0x58d),a0_0x344519(0x821),a0_0x344519(0x81a))}},'required':[a0_0x344519(0x735),a0_0x344519(0x3eb)]},ja={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'options':{...X},'contactMessage':{'type':a0_0x344519(0x67d),'items':{'type':a0_0x344519(0x3fc),'properties':{'fullName':{'type':a0_0x344519(0x138)},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName',a0_0x344519(0x384)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x344519(0x5c4)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x344519(0x3fc),'properties':{'id':{'type':a0_0x344519(0x138)},'remoteJid':{'type':a0_0x344519(0x138)},'fromMe':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x344519(0x5b0),a0_0x344519(0x20b)],...E('id',a0_0x344519(0x5b0))},'reaction':{'type':'string'}},'required':[a0_0x344519(0x80d),a0_0x344519(0x224)],...E(a0_0x344519(0x224))}},'required':[a0_0x344519(0x649)]},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'numbers':{'type':a0_0x344519(0x67d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x344519(0x138),'pattern':a0_0x344519(0x499),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'readMessages':{'type':a0_0x344519(0x67d),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x344519(0x138)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id','fromMe',a0_0x344519(0x5b0)],...E('id',a0_0x344519(0x5b0))}}},'required':[a0_0x344519(0x52f)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'privacySettings':{'type':a0_0x344519(0x3fc),'properties':{'readreceipts':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x1f6),'none']},'profile':{'type':'string','enum':[a0_0x344519(0x1f6),a0_0x344519(0x51a),'contact_blacklist','none']},'status':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x1f6),a0_0x344519(0x51a),'contact_blacklist',a0_0x344519(0x7ce)]},'online':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x1f6),a0_0x344519(0x385)]},'last':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x1f6),a0_0x344519(0x51a),a0_0x344519(0x183),'none']},'groupadd':{'type':'string','enum':['all',a0_0x344519(0x51a),a0_0x344519(0x183),a0_0x344519(0x7ce)]}},'required':['readreceipts',a0_0x344519(0x520),a0_0x344519(0x197),a0_0x344519(0x504),'last',a0_0x344519(0x7ed)],...E('readreceipts','profile',a0_0x344519(0x197),a0_0x344519(0x504),a0_0x344519(0x155),a0_0x344519(0x7ed))}},'required':[a0_0x344519(0x132)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'lastMessage':{'type':a0_0x344519(0x3fc),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x344519(0x138)},'remoteJid':{'type':a0_0x344519(0x138)},'fromMe':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x344519(0x5b0)],...E('id',a0_0x344519(0x5b0))},'messageTimestamp':{'type':a0_0x344519(0x6d4),'minLength':0x1}},'required':[a0_0x344519(0x80d)],...E(a0_0x344519(0x665))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x344519(0x5ea),a0_0x344519(0x1e9)]},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'id':{'type':a0_0x344519(0x138)},'fromMe':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x344519(0x138)},'participant':{'type':a0_0x344519(0x138)}},'required':['id',a0_0x344519(0x20b),a0_0x344519(0x5b0)],...E('id',a0_0x344519(0x5b0),a0_0x344519(0x247))},Ba={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x344519(0x138),'minLength':0x1},'pushName':{'type':a0_0x344519(0x138),'minLength':0x1},'id':{'type':a0_0x344519(0x138),'minLength':0x1}},...E(a0_0x344519(0x791),'id',a0_0x344519(0x2df))}}},Wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'name':{'type':a0_0x344519(0x138)}},...E(a0_0x344519(0x731))},za={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'status':{'type':a0_0x344519(0x138)}},...E('status')},Ae={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{'type':a0_0x344519(0x138)},'picture':{'type':a0_0x344519(0x138)}}},Ha={'type':a0_0x344519(0x3fc),'properties':{'wuid':{'type':a0_0x344519(0x138)},'name':{'type':a0_0x344519(0x138)},'picture':{'type':a0_0x344519(0x138)},'status':{'type':'string'},'isBusiness':{'type':'boolean'}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'where':{'type':a0_0x344519(0x3fc),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x344519(0x20b),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x344519(0x138),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x344519(0x138),'minLength':0x1,'description':a0_0x344519(0x2d3)},'fromMe':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x344519(0x3fc)}},...E('_id')},'limit':{'type':a0_0x344519(0x6d4)}}},pc={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'where':{'type':a0_0x344519(0x3fc),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x344519(0x138)},'id':{'type':a0_0x344519(0x138)},'fromMe':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x50e),a0_0x344519(0x43a),'SERVER_ACK','DELIVERY_ACK',a0_0x344519(0x597),'PLAYED']}},...E(a0_0x344519(0x791),a0_0x344519(0x5b0),'id',a0_0x344519(0x197))},'limit':{'type':a0_0x344519(0x6d4)}}},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'number':{...H},'presence':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x513),a0_0x344519(0x61d),a0_0x344519(0x5d0),a0_0x344519(0x210),a0_0x344519(0x58c)]}},'required':[a0_0x344519(0x24a),'number']},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'subject':{'type':a0_0x344519(0x138)},'description':{'type':a0_0x344519(0x138)},'profilePicture':{'type':a0_0x344519(0x138)},'participants':{'type':a0_0x344519(0x67d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x344519(0x63e),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x344519(0x67f),a0_0x344519(0x56c)],...E(a0_0x344519(0x67f),a0_0x344519(0x58d),'profilePicture')},Oe={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'groupJid':{'type':'string','pattern':a0_0x344519(0x2e7)}},'required':[a0_0x344519(0x4bf)],...E(a0_0x344519(0x4bf))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'groupJid':{'type':a0_0x344519(0x138)},'action':{'type':'string','enum':[a0_0x344519(0x305),a0_0x344519(0x200),a0_0x344519(0x540),a0_0x344519(0x7a5),'reject','approve']},'participants':{'type':a0_0x344519(0x67d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x344519(0x138),'minLength':0xa,'pattern':a0_0x344519(0x63e),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x344519(0x4bf),a0_0x344519(0x2b1),'participants'],...E(a0_0x344519(0x4bf),'action')},Za={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x344519(0x138)},'expiration':{'type':a0_0x344519(0x735),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x344519(0x4bf),'expiration'],...E(a0_0x344519(0x4bf),a0_0x344519(0x5ac))},eo={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'groupJid':{'type':a0_0x344519(0x138)},'image':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x4bf),a0_0x344519(0x4dd)],...E(a0_0x344519(0x4bf),a0_0x344519(0x4dd))},to={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'groupJid':{'type':a0_0x344519(0x138)},'description':{'type':a0_0x344519(0x138)}},'required':[a0_0x344519(0x4bf),'description'],...E('groupJid',a0_0x344519(0x58d))},so={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'groupJid':{'type':a0_0x344519(0x138)},'name':{'type':'string'}},'required':[a0_0x344519(0x4bf),'name'],...E('groupJid',a0_0x344519(0x731))},ao={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'groupJid':{'type':a0_0x344519(0x138)},'setting':{'type':a0_0x344519(0x138),'enum':[a0_0x344519(0x4c1),a0_0x344519(0x66b),a0_0x344519(0x2aa),'locked']}},'required':[a0_0x344519(0x4bf),a0_0x344519(0x3fd)],...E('groupJid','setting')},oo={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'groupJid':{'type':a0_0x344519(0x138)},'restrict':{'type':a0_0x344519(0x6a2)},'announce':{'type':a0_0x344519(0x6a2)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x344519(0x6a2)},'expiration':{'type':a0_0x344519(0x6d4),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x344519(0x138)},'description':{'type':a0_0x344519(0x138)},'image':{'type':a0_0x344519(0x138)}}},Ss={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x344519(0x561)],...E(a0_0x344519(0x561))},ro={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'url':{'type':a0_0x344519(0x138)},'enabled':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]}},'required':[a0_0x344519(0x51d),'enabled']},hc={'$id':(0x0,v['v4'])(),'type':a0_0x344519(0x3fc),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x344519(0x6a2),'enum':[!0x0,!0x1]}},'required':[a0_0x344519(0x182),'STATUS_INSTANCE',a0_0x344519(0x354),'MESSAGES_SET',a0_0x344519(0x722),'MESSAGES_UPSERT',a0_0x344519(0x485),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x344519(0x7a9),a0_0x344519(0x4db),a0_0x344519(0x304),a0_0x344519(0x3e4),'CONNECTION_UPDATE',a0_0x344519(0x717),'GROUPS_UPDATE',a0_0x344519(0x28e)],...E('local_map','STATUS_INSTANCE','QRCODE_UPDATED',a0_0x344519(0x5dc),a0_0x344519(0x722),a0_0x344519(0x20d),a0_0x344519(0x485),a0_0x344519(0x822),a0_0x344519(0x80f),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x344519(0x7a9),a0_0x344519(0x4db),a0_0x344519(0x304),a0_0x344519(0x3e4),a0_0x344519(0x5ae),a0_0x344519(0x717),a0_0x344519(0x569),a0_0x344519(0x28e))},ot=class{},rt=class extends x{['getContactModelForOwner'](_0x1906f8){return Zs(_0x1906f8);}async[a0_0x344519(0x113)](_0x3c4e24){const _0x31e24c=a0_0x344519;if(_0x3c4e24[_0x31e24c(0x4e4)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x3c4e24[0x0][_0x31e24c(0x4b3)])[_0x31e24c(0x3ab)]([..._0x3c4e24]))[_0x31e24c(0x4e4)]};}catch(_0x1f3905){return _0x1f3905;}}async[a0_0x344519(0x4ea)](_0x1d3e4b,_0x552953){const _0x46ede5=a0_0x344519;try{return{'deletedCount':(await this[_0x46ede5(0x2c6)](_0x552953)[_0x46ede5(0x233)]({..._0x1d3e4b[_0x46ede5(0x52c)]}))[_0x46ede5(0x6f1)]};}catch(_0x7b13d){return{'error':_0x7b13d?.['toString']()};}}async[a0_0x344519(0x729)](_0x32b2b7,_0x4ecec4){const _0x3c229d=a0_0x344519;try{if(_0x32b2b7['length']===0x0)return;let _0x368f0f=this[_0x3c229d(0x2c6)](_0x4ecec4),_0x352fd6=_0x32b2b7['map'](_0x46b969=>({'updateOne':{'filter':{'_id':_0x46b969[_0x3c229d(0x791)],'owner':_0x4ecec4},'update':{..._0x46b969}}})),{modifiedCount:_0x11ad53}=await _0x368f0f[_0x3c229d(0x566)](_0x352fd6);return{'insertCount':_0x11ad53};}catch{return;}}async[a0_0x344519(0x1ee)](_0x3cd5c2,_0x493687){const _0x4c627f=a0_0x344519;try{let _0x2bac5c=this['getContactModelForOwner'](_0x493687),_0x260c80=T(_0x3cd5c2[_0x4c627f(0x52c)]);return await _0x2bac5c[_0x4c627f(0x1ee)](_0x260c80)[_0x4c627f(0x2a9)](_0x3cd5c2?.[_0x4c627f(0x2a9)]??0x0)[_0x4c627f(0x45a)]();}catch{return[];}}async[a0_0x344519(0x1a8)](_0x55c02d,_0x5c03ce){const _0x57a108=a0_0x344519;try{let _0x17d757=this[_0x57a108(0x2c6)](_0x5c03ce),_0x47f5dc=T(_0x55c02d[_0x57a108(0x52c)]);return await _0x17d757['findOne'](_0x47f5dc)[_0x57a108(0x45a)]();}catch{return null;}}async[a0_0x344519(0x678)](_0x440f92){const _0xbabcb3=a0_0x344519;try{return await this['getContactModelForOwner'](_0x440f92)[_0xbabcb3(0x6ab)]['drop'](),{'success':!0x0};}catch(_0x479b2a){return console[_0xbabcb3(0x2b4)](_0x479b2a),{'success':!0x1,'error':_0x479b2a};}}},it=require(a0_0x344519(0x2a8)),Cc=require(a0_0x344519(0x12b)),Ms=new R(a0_0x344519(0x280)),V=class{[a0_0x344519(0x5a9)](_0x375989,_0x28c68a=!0x0){let _0x3395dd='/'+_0x375989;return _0x28c68a&&(_0x3395dd+='/:instanceName'),_0x3395dd;}async[a0_0x344519(0x6b1)](_0x5e5a39){const _0x21e348=a0_0x344519;let {request:_0x371c1e,schema:_0x2b96fc,ClassRef:_0x2e2c05,execute:_0xea5334}=_0x5e5a39,_0x292878=new _0x2e2c05(),_0x579b15=_0x371c1e[_0x21e348(0x596)],_0x57632d=_0x371c1e[_0x21e348(0x416)];_0x371c1e?.[_0x21e348(0x225)]&&Object[_0x21e348(0x6cc)](_0x371c1e[_0x21e348(0x225)])[_0x21e348(0x4e4)]>0x0&&Object['assign'](_0x57632d,_0x371c1e[_0x21e348(0x225)]),_0x371c1e[_0x21e348(0x39b)][_0x21e348(0x5fb)](_0x21e348(0x1eb))&&Object[_0x21e348(0x2d7)](_0x57632d,_0x579b15),Object['assign'](_0x292878,_0x579b15);let _0x68a438=_0x2b96fc?(0x0,it[_0x21e348(0x5ba)])(_0x292878,_0x2b96fc):{'valid':!0x0,'errors':[]};if(!_0x68a438[_0x21e348(0x6de)]){let _0xa68c18=_0x68a438[_0x21e348(0x2eb)]['map'](({property:_0x3620c0,stack:_0x2f2186,schema:_0x3c2da0})=>{const _0x44e0d4=_0x21e348;let _0x1946d4;return _0x3c2da0[_0x44e0d4(0x58d)]?_0x1946d4=_0x3c2da0['description']:_0x1946d4=_0x2f2186[_0x44e0d4(0x477)]('instance.',''),{'property':_0x3620c0[_0x44e0d4(0x477)]('instance.',''),'message':_0x1946d4};});throw Ms['error']([..._0xa68c18]),new m(..._0xa68c18);}return await _0xea5334(_0x57632d,_0x292878);}async['groupValidate'](_0x497977){const _0x47b96f=a0_0x344519;let {request:_0x2a692e,ClassRef:_0x51db13,schema:_0x1072d6,execute:_0x178a3f}=_0x497977,_0xf4ec4=_0x2a692e[_0x47b96f(0x225)];if(!_0xf4ec4?.[_0x47b96f(0x4bf)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x47b96f(0x633));let _0x387fd2=_0x2a692e['params'],_0x4963e1=_0x2a692e[_0x47b96f(0x596)],_0xb6d992=new _0x51db13();Object[_0x47b96f(0x2d7)](_0x4963e1,_0xf4ec4),Object[_0x47b96f(0x2d7)](_0xb6d992,_0x4963e1);let _0x13926c=(0x0,it[_0x47b96f(0x5ba)])(_0xb6d992,_0x1072d6);if(!_0x13926c['valid']){let _0xc0b28a=_0x13926c[_0x47b96f(0x2eb)]['map'](({property:_0x3a9f10,stack:_0x41606d,schema:_0x2ebb1f})=>{const _0x3c159e=_0x47b96f;let _0x204bac;return _0x2ebb1f[_0x3c159e(0x58d)]?_0x204bac=_0x2ebb1f[_0x3c159e(0x58d)]:_0x204bac=_0x41606d[_0x3c159e(0x477)](_0x3c159e(0x73b),''),{'property':_0x3a9f10[_0x3c159e(0x477)](_0x3c159e(0x73b),''),'message':_0x204bac};});throw Ms[_0x47b96f(0x2b4)]([..._0xc0b28a]),new m(..._0xc0b28a);}return await _0x178a3f(_0x387fd2,_0xb6d992);}async[a0_0x344519(0x80b)](_0x2f3490){const _0x1c6d51=a0_0x344519;let {request:_0x459d57,ClassRef:_0x5a2d9d,schema:_0x2ba33b,execute:_0x14d48b}=_0x2f3490,_0x310ded=_0x459d57[_0x1c6d51(0x596)];if(!_0x310ded?.[_0x1c6d51(0x561)])throw new m(_0x1c6d51(0x3c3),_0x1c6d51(0x56f));let _0x3d1f7e=_0x459d57['params'],_0x3aad4f=_0x459d57[_0x1c6d51(0x596)],_0xac9cad=new _0x5a2d9d();Object['assign'](_0x3aad4f,_0x310ded),Object[_0x1c6d51(0x2d7)](_0xac9cad,_0x3aad4f);let _0x3a73b1=(0x0,it[_0x1c6d51(0x5ba)])(_0xac9cad,_0x2ba33b);if(!_0x3a73b1[_0x1c6d51(0x6de)]){let _0x413bbb=_0x3a73b1[_0x1c6d51(0x2eb)][_0x1c6d51(0x41f)](({property:_0x1c0942,stack:_0x401b4a,schema:_0xa7aa3e})=>{const _0x3149d9=_0x1c6d51;let _0x2b1cae;return _0xa7aa3e[_0x3149d9(0x58d)]?_0x2b1cae=_0xa7aa3e['description']:_0x2b1cae=_0x401b4a[_0x3149d9(0x477)](_0x3149d9(0x73b),''),{'property':_0x1c0942[_0x3149d9(0x477)]('instance.',''),'message':_0x2b1cae};});throw Ms['error']([..._0x413bbb]),new m(..._0x413bbb);}return await _0x14d48b(_0x3d1f7e,_0xac9cad);}},C=class{},Lc=new R('ChatRouter'),nt=class extends V{constructor(..._0x49fe67){const _0x271722=a0_0x344519;super(),this[_0x271722(0x398)]=(0x0,io[_0x271722(0x116)])(),this[_0x271722(0x398)][_0x271722(0x331)](this[_0x271722(0x5a9)](_0x271722(0x178)),..._0x49fe67,async(_0x4ebadc,_0x4fc677)=>{const _0x80b65d=_0x271722;let _0x4d61d7=await this[_0x80b65d(0x6b1)]({'request':_0x4ebadc,'schema':Qa,'ClassRef':He,'execute':(_0x55e4c3,_0x55af54)=>P[_0x80b65d(0x178)](_0x55e4c3,_0x55af54)});return _0x4fc677[_0x80b65d(0x197)](0xc9)[_0x80b65d(0x2d0)](_0x4d61d7);})[_0x271722(0x331)](this[_0x271722(0x5a9)](_0x271722(0x623)),..._0x49fe67,async(_0x20e862,_0x5cadf5)=>{const _0x2e76ed=_0x271722;let _0x366a9a=await this[_0x2e76ed(0x6b1)]({'request':_0x20e862,'schema':Ja,'ClassRef':Ke,'execute':(_0x47ea8a,_0x128261)=>P[_0x2e76ed(0x7c1)](_0x47ea8a,_0x128261)});return _0x5cadf5['status'](0xc9)[_0x2e76ed(0x2d0)](_0x366a9a);})[_0x271722(0x331)](this['routerPath'](_0x271722(0x6d9)),..._0x49fe67,async(_0x1b5c27,_0x1e6328)=>{const _0x3fa183=_0x271722;let _0x507bd0=await this[_0x3fa183(0x6b1)]({'request':_0x1b5c27,'schema':N,'ClassRef':C,'execute':(_0x455444,_0x23092b)=>P['editChat'](_0x455444,_0x23092b)});return _0x1e6328['status'](0xc9)['json'](_0x507bd0);})[_0x271722(0x75d)](this[_0x271722(0x5a9)](_0x271722(0x137)),..._0x49fe67,async(_0x21113e,_0x342615)=>{const _0x4db2c0=_0x271722;let _0x23cd5d=await this[_0x4db2c0(0x6b1)]({'request':_0x21113e,'schema':Ua,'ClassRef':Xe,'execute':(_0x47a363,_0x548dc8)=>P[_0x4db2c0(0x48b)](_0x47a363,_0x548dc8)});return _0x342615[_0x4db2c0(0x197)](0xc9)['json'](_0x23cd5d);})[_0x271722(0x75d)](this['routerPath'](_0x271722(0x57d)),..._0x49fe67,async(_0x1bbb16,_0x2ad32e)=>{const _0x2e3c22=_0x271722;let _0x42dc40=await this[_0x2e3c22(0x6b1)]({'request':_0x1bbb16,'schema':Va,'ClassRef':Ze,'execute':(_0x20abba,_0x2986e5)=>P[_0x2e3c22(0x57d)](_0x20abba,_0x2986e5)});return _0x2ad32e['status'](0xc9)[_0x2e3c22(0x2d0)](_0x42dc40);})[_0x271722(0x4ea)](this[_0x271722(0x5a9)](_0x271722(0x15d)),..._0x49fe67,async(_0x3760ea,_0x5bc158)=>{const _0x44d5a7=_0x271722;let _0x2c95b7=await this[_0x44d5a7(0x6b1)]({'request':_0x3760ea,'schema':Ga,'ClassRef':tt,'execute':(_0x43d61f,_0x17fdba)=>P[_0x44d5a7(0x7f7)](_0x43d61f,_0x17fdba)});return _0x5bc158[_0x44d5a7(0x197)](0xc9)['json'](_0x2c95b7);})[_0x271722(0x331)](this['routerPath'](_0x271722(0x194)),..._0x49fe67,async(_0xcb7883,_0x1e68e6)=>{const _0x430065=_0x271722;let _0x12caf3=await this['dataValidate']({'request':_0xcb7883,'schema':Ae,'ClassRef':Re,'execute':(_0x271b96,_0x551af1)=>P[_0x430065(0x36c)](_0x271b96,_0x551af1)});return _0x1e68e6[_0x430065(0x197)](0xc8)['json'](_0x12caf3);})[_0x271722(0x331)](this[_0x271722(0x5a9)](_0x271722(0x53d)),..._0x49fe67,async(_0x41df39,_0x1c3e47)=>{const _0x45d1af=_0x271722;let _0x9cdb52=await this[_0x45d1af(0x6b1)]({'request':_0x41df39,'schema':Ha,'ClassRef':Re,'execute':(_0x184645,_0x9b0481)=>P[_0x45d1af(0x53d)](_0x184645,_0x9b0481)});return _0x1c3e47['status'](0xc8)[_0x45d1af(0x2d0)](_0x9cdb52);})[_0x271722(0x331)](this[_0x271722(0x5a9)](_0x271722(0x2c9)),..._0x49fe67,async(_0xeed609,_0x1741e8)=>{const _0x154603=_0x271722;let _0x3be06c=await this[_0x154603(0x6b1)]({'request':_0xeed609,'schema':Ba,'ClassRef':ot,'execute':(_0x5d29dc,_0x97524f)=>P[_0x154603(0x587)](_0x5d29dc,_0x97524f)});return _0x1741e8[_0x154603(0x197)](0xc8)[_0x154603(0x2d0)](_0x3be06c);})['post'](this[_0x271722(0x5a9)](_0x271722(0x496)),..._0x49fe67,async(_0x2a6674,_0x2d63c9)=>{const _0x48daa4=_0x271722;let _0x3f65c7=await this[_0x48daa4(0x6b1)]({'request':_0x2a6674,'schema':null,'ClassRef':Object,'execute':(_0x3b09f7,_0x34608a)=>P[_0x48daa4(0x496)](_0x3b09f7,_0x34608a)});return _0x2d63c9[_0x48daa4(0x197)](0xc9)[_0x48daa4(0x2d0)](_0x3f65c7);})[_0x271722(0x331)](this['routerPath']('findMessages'),..._0x49fe67,async(_0x1493b2,_0x6f79e7)=>{const _0x3ede2a=_0x271722;let _0x40ec3e=await this[_0x3ede2a(0x6b1)]({'request':_0x1493b2,'schema':Ka,'ClassRef':We,'execute':(_0x17673d,_0x475e83)=>P['fetchMessages'](_0x17673d,_0x475e83)});return _0x6f79e7[_0x3ede2a(0x197)](0xc8)[_0x3ede2a(0x2d0)](_0x40ec3e);})[_0x271722(0x283)](this['routerPath'](_0x271722(0x33b)),..._0x49fe67,async(_0x180bed,_0x4b65c6)=>{const _0x4d6171=_0x271722;let _0x449068=await this[_0x4d6171(0x6b1)]({'request':_0x180bed,'schema':null,'ClassRef':C,'execute':_0x506108=>P['fetchChats'](_0x506108)});return _0x4b65c6['status'](0xc8)[_0x4d6171(0x2d0)](_0x449068);})[_0x271722(0x283)](this[_0x271722(0x5a9)](_0x271722(0x33f)),..._0x49fe67,async(_0x2fd4a1,_0x5bc672)=>{const _0xdf8cd5=_0x271722;let _0xd00aaf=await this['dataValidate']({'request':_0x2fd4a1,'schema':null,'ClassRef':C,'execute':_0x598dee=>P[_0xdf8cd5(0x594)](_0x598dee)});return _0x5bc672[_0xdf8cd5(0x197)](0xc8)[_0xdf8cd5(0x2d0)](_0xd00aaf);})[_0x271722(0x75d)](this[_0x271722(0x5a9)](_0x271722(0x38e)),..._0x49fe67,async(_0xec7ec3,_0x47ea91)=>{const _0x2a51e1=_0x271722;let _0x170cb3=await this[_0x2a51e1(0x6b1)]({'request':_0xec7ec3,'schema':null,'ClassRef':Array,'execute':(_0x719570,_0x1a2202)=>P[_0x2a51e1(0x38e)](_0x719570,_0x1a2202)});return _0x47ea91[_0x2a51e1(0x197)](0xc8)['json'](_0x170cb3);})[_0x271722(0x283)](this[_0x271722(0x5a9)](_0x271722(0x5c5)),..._0x49fe67,async(_0x3351aa,_0x221c7d)=>{const _0x45d1ea=_0x271722;let _0x3d977f=await this[_0x45d1ea(0x6b1)]({'request':_0x3351aa,'schema':null,'ClassRef':C,'execute':_0x294d35=>P[_0x45d1ea(0x5c5)](_0x294d35)});return _0x221c7d[_0x45d1ea(0x197)](0xc8)[_0x45d1ea(0x2d0)](_0x3d977f);})[_0x271722(0x75d)](this[_0x271722(0x5a9)](_0x271722(0x15f)),..._0x49fe67,async(_0x2f4776,_0x2f7a86)=>{const _0x2c031e=_0x271722;let _0x8158a7=await this['dataValidate']({'request':_0x2f4776,'schema':qa,'ClassRef':et,'execute':(_0x3f48b8,_0x5b7e4a)=>P[_0x2c031e(0x15f)](_0x3f48b8,_0x5b7e4a)});return _0x2f7a86['status'](0xc9)[_0x2c031e(0x2d0)](_0x8158a7);})[_0x271722(0x331)](this[_0x271722(0x5a9)](_0x271722(0x2bc)),..._0x49fe67,async(_0x2f1985,_0x105712)=>{const _0x3a0708=_0x271722;let _0x3d11c8=await this[_0x3a0708(0x6b1)]({'request':_0x2f1985,'schema':Ae,'ClassRef':Se,'execute':(_0x3a2b61,_0x593a77)=>P['fetchBusinessProfile'](_0x3a2b61,_0x593a77)});return _0x105712[_0x3a0708(0x197)](0xc8)['json'](_0x3d11c8);})[_0x271722(0x331)](this['routerPath'](_0x271722(0x6fa)),..._0x49fe67,async(_0x555574,_0x34a2ca)=>{const _0x74dfab=_0x271722;let _0x5203bf=await this[_0x74dfab(0x6b1)]({'request':_0x555574,'schema':Wa,'ClassRef':Qe,'execute':(_0x393e59,_0x2af0ec)=>P['updateProfileName'](_0x393e59,_0x2af0ec)});return _0x34a2ca[_0x74dfab(0x197)](0xc8)[_0x74dfab(0x2d0)](_0x5203bf);})[_0x271722(0x331)](this[_0x271722(0x5a9)](_0x271722(0x2a6)),..._0x49fe67,async(_0x583483,_0x514bf5)=>{const _0x45051a=_0x271722;let _0x3ecf91=await this['dataValidate']({'request':_0x583483,'schema':za,'ClassRef':Ye,'execute':(_0x47bbac,_0x1950a6)=>P[_0x45051a(0x2a6)](_0x47bbac,_0x1950a6)});return _0x514bf5[_0x45051a(0x197)](0xc8)[_0x45051a(0x2d0)](_0x3ecf91);})[_0x271722(0x75d)](this[_0x271722(0x5a9)](_0x271722(0x7fc)),..._0x49fe67,async(_0xa96f97,_0x3b5082)=>{const _0x467bec=_0x271722;let _0x477ab3=await this['dataValidate']({'request':_0xa96f97,'schema':Ae,'ClassRef':Se,'execute':(_0x15cae2,_0x3b82b9)=>P[_0x467bec(0x7fc)](_0x15cae2,_0x3b82b9)});return _0x3b5082['status'](0xc8)[_0x467bec(0x2d0)](_0x477ab3);})[_0x271722(0x4ea)](this[_0x271722(0x5a9)](_0x271722(0x1f7)),..._0x49fe67,async(_0x337d8a,_0x15d550)=>{const _0x4d1c65=_0x271722;let _0x28dcae=await this['dataValidate']({'request':_0x337d8a,'schema':Ae,'ClassRef':Se,'execute':(_0xdc715b,_0x24ba42)=>P[_0x4d1c65(0x1f7)](_0xdc715b,_0x24ba42)});return _0x15d550[_0x4d1c65(0x197)](0xc8)[_0x4d1c65(0x2d0)](_0x28dcae);});}},no=require(a0_0x344519(0x753)),ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},Z=class{},Te=class{},gt=class extends Z{},mt=class extends Z{},ft=class extends V{constructor(..._0x49d8a6){const _0x384ba7=a0_0x344519;super(),this[_0x384ba7(0x398)]=(0x0,no[_0x384ba7(0x116)])(),this['router'][_0x384ba7(0x331)](this[_0x384ba7(0x5a9)]('create'),..._0x49d8a6,async(_0x58d51c,_0x138010)=>{const _0x249f00=_0x384ba7;let _0x12a11e=await this['dataValidate']({'request':_0x58d51c,'schema':Ya,'ClassRef':ct,'execute':(_0x15bd2b,_0x2bd9b5)=>q['createGroup'](_0x15bd2b,_0x2bd9b5)});_0x138010[_0x249f00(0x197)](0xc9)[_0x249f00(0x2d0)](_0x12a11e);})[_0x384ba7(0x75d)](this[_0x384ba7(0x5a9)](_0x384ba7(0x320)),..._0x49d8a6,async(_0x57971a,_0x4a4a2d)=>{const _0xd4b72c=_0x384ba7;let _0x36d346=await this['groupValidate']({'request':_0x57971a,'schema':eo,'ClassRef':lt,'execute':(_0x1ac07f,_0x263574)=>q[_0xd4b72c(0x320)](_0x1ac07f,_0x263574)});_0x4a4a2d[_0xd4b72c(0x197)](0xc9)[_0xd4b72c(0x2d0)](_0x36d346);})[_0x384ba7(0x75d)](this[_0x384ba7(0x5a9)]('groupDesc'),..._0x49d8a6,async(_0x548ab9,_0x2d8bcc)=>{const _0x3158d7=_0x384ba7;let _0x5a6f95=await this['groupValidate']({'request':_0x548ab9,'schema':to,'ClassRef':ut,'execute':(_0x28c000,_0x2c997a)=>q[_0x3158d7(0x565)](_0x28c000,_0x2c997a)});_0x2d8bcc[_0x3158d7(0x197)](0xc9)[_0x3158d7(0x2d0)](_0x5a6f95);})[_0x384ba7(0x75d)](this[_0x384ba7(0x5a9)](_0x384ba7(0x7de)),..._0x49d8a6,async(_0x244ba8,_0x590a96)=>{const _0x2c7a48=_0x384ba7;let _0x50ef5a=await this[_0x2c7a48(0x7df)]({'request':_0x244ba8,'schema':so,'ClassRef':dt,'execute':(_0xd7bf25,_0x43b4b8)=>q[_0x2c7a48(0x7de)](_0xd7bf25,_0x43b4b8)});_0x590a96['status'](0xc9)['json'](_0x50ef5a);})['put'](this[_0x384ba7(0x5a9)]('groupBetterSetting'),..._0x49d8a6,async(_0x151546,_0x4d97bc)=>{const _0x42f384=_0x384ba7;let _0x376fed=await this[_0x42f384(0x7df)]({'request':_0x151546,'schema':oo,'ClassRef':ht,'execute':(_0x20689e,_0x37d1b4)=>q[_0x42f384(0x2de)](_0x20689e,_0x37d1b4)});_0x4d97bc['status'](0xc9)[_0x42f384(0x2d0)](_0x376fed);})[_0x384ba7(0x75d)](this[_0x384ba7(0x5a9)](_0x384ba7(0x2f1)),..._0x49d8a6,async(_0x19b233,_0x4dad3d)=>{const _0x13a1a4=_0x384ba7;let _0x22828e=await this['groupValidate']({'request':_0x19b233,'schema':ao,'ClassRef':pt,'execute':(_0x23051b,_0xffdb39)=>q[_0x13a1a4(0x2f1)](_0x23051b,_0xffdb39)});_0x4dad3d[_0x13a1a4(0x197)](0xc9)[_0x13a1a4(0x2d0)](_0x22828e);})[_0x384ba7(0x75d)](this[_0x384ba7(0x5a9)](_0x384ba7(0x466)),..._0x49d8a6,async(_0x536017,_0x10b641)=>{const _0x5becfe=_0x384ba7;let _0x2c5db3=await this[_0x5becfe(0x7df)]({'request':_0x536017,'schema':Za,'ClassRef':mt,'execute':(_0x4950cf,_0x21dda4)=>q[_0x5becfe(0x466)](_0x4950cf,_0x21dda4)});_0x10b641[_0x5becfe(0x197)](0xc9)[_0x5becfe(0x2d0)](_0x2c5db3);})[_0x384ba7(0x283)](this['routerPath'](_0x384ba7(0x44b)),..._0x49d8a6,async(_0x4045fc,_0x2209dd)=>{const _0x33f383=_0x384ba7;let _0x5c09fc=await this[_0x33f383(0x7df)]({'request':_0x4045fc,'schema':Oe,'ClassRef':Z,'execute':(_0x4f34dd,_0x3e9b7d)=>q[_0x33f383(0x72b)](_0x4f34dd,_0x3e9b7d)});_0x2209dd[_0x33f383(0x197)](0xc8)[_0x33f383(0x2d0)](_0x5c09fc);})[_0x384ba7(0x283)](this[_0x384ba7(0x5a9)](_0x384ba7(0x6dd)),..._0x49d8a6,async(_0x55fe2f,_0x5ba632)=>{const _0x45ccc5=_0x384ba7;let _0x4c085c=await this[_0x45ccc5(0x6b1)]({'request':_0x55fe2f,'schema':N,'ClassRef':C,'execute':_0xc4af54=>q[_0x45ccc5(0x6dd)](_0xc4af54)});_0x5ba632['status'](0xc8)[_0x45ccc5(0x2d0)](_0x4c085c);})[_0x384ba7(0x283)](this[_0x384ba7(0x5a9)](_0x384ba7(0x56c)),..._0x49d8a6,async(_0x220d29,_0x301716)=>{const _0x531469=_0x384ba7;let _0x8c2399=await this[_0x531469(0x7df)]({'request':_0x220d29,'schema':Oe,'ClassRef':Z,'execute':(_0x2e7a92,_0xd94112)=>q[_0x531469(0x512)](_0x2e7a92,_0xd94112)});_0x301716[_0x531469(0x197)](0xc8)[_0x531469(0x2d0)](_0x8c2399);})['get'](this[_0x384ba7(0x5a9)]('inviteCode'),..._0x49d8a6,async(_0x4464ba,_0xbd9c6f)=>{const _0x439e23=_0x384ba7;let _0xf31d37=await this[_0x439e23(0x7df)]({'request':_0x4464ba,'schema':Oe,'ClassRef':Z,'execute':(_0x5b5225,_0x31083)=>q['inviteCode'](_0x5b5225,_0x31083)});_0xbd9c6f[_0x439e23(0x197)](0xc8)[_0x439e23(0x2d0)](_0xf31d37);})['post'](this[_0x384ba7(0x5a9)]('inviteCodeDetails'),..._0x49d8a6,async(_0x57a8fa,_0x344056)=>{const _0x4b34e9=_0x384ba7;let _0x596f14=await this['joinGroupValidate']({'request':_0x57a8fa,'schema':Ss,'ClassRef':Te,'execute':(_0x43b941,_0x1874a4)=>q[_0x4b34e9(0x662)](_0x43b941,_0x1874a4)});_0x344056[_0x4b34e9(0x197)](0xc9)[_0x4b34e9(0x2d0)](_0x596f14);})[_0x384ba7(0x75d)](this[_0x384ba7(0x5a9)](_0x384ba7(0x549)),..._0x49d8a6,async(_0x58995e,_0x5c8e78)=>{const _0x42a8d0=_0x384ba7;let _0x5bad06=await this[_0x42a8d0(0x80b)]({'request':_0x58995e,'schema':Ss,'ClassRef':Te,'execute':(_0x389e61,_0x2ae284)=>q[_0x42a8d0(0x549)](_0x389e61,_0x2ae284)});_0x5c8e78[_0x42a8d0(0x197)](0xc9)[_0x42a8d0(0x2d0)](_0x5bad06);})['put'](this[_0x384ba7(0x5a9)](_0x384ba7(0x787)),..._0x49d8a6,async(_0x4511f1,_0x3574e7)=>{const _0x7eb376=_0x384ba7;let _0xff9e16=await this['groupValidate']({'request':_0x4511f1,'schema':Oe,'ClassRef':Z,'execute':(_0x2b7d12,_0x17f1d1)=>q[_0x7eb376(0x787)](_0x2b7d12,_0x17f1d1)});_0x3574e7[_0x7eb376(0x197)](0xc9)[_0x7eb376(0x2d0)](_0xff9e16);})['put'](this[_0x384ba7(0x5a9)]('updateParticipant'),..._0x49d8a6,async(_0x172773,_0x10a08b)=>{const _0x2e8181=_0x384ba7;let _0x554758=await this[_0x2e8181(0x7df)]({'request':_0x172773,'schema':Xa,'ClassRef':gt,'execute':(_0x5827d2,_0x4b7627)=>q[_0x2e8181(0x487)](_0x5827d2,_0x4b7627)});_0x10a08b[_0x2e8181(0x197)](0xc9)['json'](_0x554758);})['delete'](this[_0x384ba7(0x5a9)](_0x384ba7(0x674)),..._0x49d8a6,async(_0x3e913b,_0x51638c)=>{const _0x9ce12f=_0x384ba7;let _0x9e713a=await this[_0x9ce12f(0x7df)]({'request':_0x3e913b,'schema':{},'ClassRef':Z,'execute':(_0x512273,_0x3d8510)=>q[_0x9ce12f(0x674)](_0x512273,_0x3d8510)});_0x51638c[_0x9ce12f(0x197)](0xc8)['json'](_0x9e713a);});}},co=require(a0_0x344519(0x753)),wt=class extends V{constructor(_0x42f76b,..._0x3cf609){const _0x25c193=a0_0x344519;super(),this['configService']=_0x42f76b,this[_0x25c193(0x398)]=(0x0,co[_0x25c193(0x116)])();let _0x1735e7=_0x42f76b[_0x25c193(0x283)](_0x25c193(0x3e8));this[_0x25c193(0x398)]['post'](_0x25c193(0x3dc),..._0x3cf609,async(_0x3b974b,_0x300b61)=>{const _0x4a8dde=_0x25c193;let {instanceName:_0x5e6bfd,apikey:_0xe5c29f,number:_0x27684c}=_0x3b974b[_0x4a8dde(0x596)],_0x366b19=await le[_0x4a8dde(0x215)]({'instanceName':_0x5e6bfd,'apikey':_0xe5c29f,'number':_0x27684c});return _0x300b61[_0x4a8dde(0x197)](0xc9)[_0x4a8dde(0x2d0)](_0x366b19);})[_0x25c193(0x75d)](this[_0x25c193(0x5a9)](_0x25c193(0x6d5)),..._0x3cf609,async(_0x502d9f,_0x1e53e1)=>{const _0x51e307=_0x25c193;let _0x28462a=await this[_0x51e307(0x6b1)]({'request':_0x502d9f,'schema':N,'ClassRef':C,'execute':_0x2a21ce=>le[_0x51e307(0x47d)](_0x2a21ce)});return _0x1e53e1['status'](0xc8)['json'](_0x28462a);})['get'](this['routerPath'](_0x25c193(0x602)),..._0x3cf609,async(_0x49e0ca,_0x1be952)=>{const _0x5c37ea=_0x25c193;let _0x4e1e95=await this[_0x5c37ea(0x6b1)]({'request':_0x49e0ca,'schema':N,'ClassRef':C,'execute':_0xbaf120=>le[_0x5c37ea(0x335)](_0xbaf120)});return _0x1be952[_0x5c37ea(0x197)](0xc8)['json'](_0x4e1e95);})['get'](this[_0x25c193(0x5a9)](_0x25c193(0x460)),..._0x3cf609,async(_0x474d75,_0xf4df4)=>{const _0x2414e3=_0x25c193;let _0xa5ed52=await this['dataValidate']({'request':_0x474d75,'schema':N,'ClassRef':C,'execute':_0x4026f1=>le[_0x2414e3(0x460)](_0x4026f1)});return _0xf4df4[_0x2414e3(0x197)](0xc8)[_0x2414e3(0x2d0)](_0xa5ed52);})[_0x25c193(0x283)](this[_0x25c193(0x5a9)]('fetchInstances',!0x1),..._0x3cf609,async(_0x1d8227,_0x160d5e)=>{const _0x33a58f=_0x25c193;let _0x5db5ba=await this['dataValidate']({'request':_0x1d8227,'schema':null,'ClassRef':C,'execute':_0x400a85=>le['fetchInstances'](_0x400a85)});return _0x160d5e['status'](0xc8)[_0x33a58f(0x2d0)](_0x5db5ba);})[_0x25c193(0x4ea)](this['routerPath'](_0x25c193(0x3b5)),..._0x3cf609,async(_0x197039,_0x1d592a)=>{const _0x7a07e9=_0x25c193;let _0x3508b6=await this[_0x7a07e9(0x6b1)]({'request':_0x197039,'schema':N,'ClassRef':C,'execute':_0x4c6339=>le[_0x7a07e9(0x3b5)](_0x4c6339)});return _0x1d592a[_0x7a07e9(0x197)](0xc8)[_0x7a07e9(0x2d0)](_0x3508b6);})['delete'](this[_0x25c193(0x5a9)]('delete'),..._0x3cf609,async(_0x32cf75,_0x234547)=>{const _0x2c5a32=_0x25c193;let _0x9e1635=await this[_0x2c5a32(0x6b1)]({'request':_0x32cf75,'schema':N,'ClassRef':C,'execute':_0x1d8ebe=>le['deleteInstance'](_0x1d8ebe)});return _0x234547[_0x2c5a32(0x197)](0xc8)[_0x2c5a32(0x2d0)](_0x9e1635);});}},lo=require(a0_0x344519(0x753)),Cs=class{},W=class extends Cs{},yt=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ie=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class extends W{},Rt=class extends W{},$t=class{};async function z(_0x3021d3,_0x3c6bcd=0x3,_0x1373af=0x3e8){const _0x1d0a6d=a0_0x344519;for(let _0x332a42=0x0;_0x332a42<_0x3c6bcd;_0x332a42++){let _0x2c5edc;try{if(_0x2c5edc=await _0x3021d3(),console['log'](_0x1d0a6d(0x54f)+(_0x332a42+0x1)+':',_0x2c5edc),_0x2c5edc&&_0x2c5edc[_0x1d0a6d(0x197)]<0x190)return _0x2c5edc;console[_0x1d0a6d(0x2b4)](_0x1d0a6d(0x68f)+(_0x332a42+0x1)+_0x1d0a6d(0x5d9)+_0x3c6bcd+':',_0x2c5edc);}catch(_0x15e087){if(console[_0x1d0a6d(0x2b4)]('Erro\x20na\x20tentativa\x20'+(_0x332a42+0x1)+_0x1d0a6d(0x5d9)+_0x3c6bcd+':\x20Exception\x20caught',_0x15e087),!(_0x15e087[_0x1d0a6d(0x806)]&&_0x15e087[_0x1d0a6d(0x806)][_0x1d0a6d(0x5fb)](_0x1d0a6d(0x31c))))return console['log']('Erro\x20não\x20relacionado\x20a\x20\x27failed\x20fetch\x27,\x20terminando\x20retentativas:',_0x15e087[_0x1d0a6d(0x806)]),{'status':_0x15e087[_0x1d0a6d(0x197)]||0x1f4,'error':_0x1d0a6d(0x72d),'message':_0x15e087[_0x1d0a6d(0x806)]||_0x1d0a6d(0x193)};if(_0x332a42===_0x3c6bcd-0x1)return _0x2c5edc={'status':0x1f4,'error':_0x1d0a6d(0x72d),'message':_0x15e087[_0x1d0a6d(0x806)]},console[_0x1d0a6d(0x7a7)](_0x1d0a6d(0x7d8),_0x2c5edc),_0x2c5edc;}console[_0x1d0a6d(0x7a7)](_0x1d0a6d(0x552)+_0x1373af*(_0x332a42+0x1)+'ms\x20antes\x20da\x20próxima\x20tentativa'),await new Promise(_0x593bb4=>setTimeout(_0x593bb4,_0x1373af*(_0x332a42+0x1)));}return{'status':0x1f4,'error':_0x1d0a6d(0x72d),'message':'All\x20retries\x20failed'};}var At=class extends V{constructor(..._0x446984){const _0x5a01b3=a0_0x344519;super(),this[_0x5a01b3(0x398)]=(0x0,lo[_0x5a01b3(0x116)])(),this[_0x5a01b3(0x398)][_0x5a01b3(0x331)](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x654)),..._0x446984,async(_0x4d951d,_0x5dae62)=>{const _0x231c24=_0x5a01b3;try{let _0x113268=await this[_0x231c24(0x6b1)]({'request':_0x4d951d,'schema':$a,'ClassRef':yt,'execute':(_0x317b47,_0x1b591c)=>z(()=>B[_0x231c24(0x654)](_0x317b47,_0x1b591c))});return _0x5dae62[_0x231c24(0x197)](0xc9)[_0x231c24(0x2d0)](_0x113268);}catch(_0x58d283){console[_0x231c24(0x2b4)](_0x231c24(0x6b2),_0x58d283),console['error'](_0x231c24(0x1b5),_0x4d951d[_0x231c24(0x596)]),console['error'](_0x231c24(0x74b),_0x4d951d[_0x231c24(0x51d)]);}})[_0x5a01b3(0x331)](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x175)),..._0x446984,async(_0x26ac7a,_0x16bdf5)=>{const _0x331040=_0x5a01b3;try{let _0x1ca6d9=await this[_0x331040(0x6b1)]({'request':_0x26ac7a,'schema':Ia,'ClassRef':Ie,'execute':(_0x48d05e,_0x269499)=>z(()=>B[_0x331040(0x175)](_0x48d05e,_0x269499))});return _0x16bdf5[_0x331040(0x197)](0xc9)[_0x331040(0x2d0)](_0x1ca6d9);}catch(_0x5c5615){console[_0x331040(0x2b4)](_0x331040(0x4ca),_0x5c5615),console[_0x331040(0x2b4)](_0x331040(0x421),_0x26ac7a['body']),console[_0x331040(0x2b4)](_0x331040(0x226),_0x26ac7a[_0x331040(0x51d)]);}})['post'](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x3db)),..._0x446984,async(_0x2ed8e6,_0x441aa8)=>{const _0x1ee290=_0x5a01b3;try{let _0x41f975=await this[_0x1ee290(0x6b1)]({'request':_0x2ed8e6,'schema':_a,'ClassRef':Mt,'execute':(_0x27aadc,_0x550898)=>z(()=>B['sendMenu'](_0x27aadc,_0x550898))});return _0x441aa8[_0x1ee290(0x197)](0xc9)[_0x1ee290(0x2d0)](_0x41f975);}catch(_0x43aac3){console[_0x1ee290(0x2b4)](_0x1ee290(0x6b2),_0x43aac3),console[_0x1ee290(0x2b4)](_0x1ee290(0x1b5),_0x2ed8e6[_0x1ee290(0x596)]),console[_0x1ee290(0x2b4)](_0x1ee290(0x74b),_0x2ed8e6[_0x1ee290(0x51d)]);}})[_0x5a01b3(0x331)](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x798)),..._0x446984,async(_0x2e496f,_0x991a54)=>{const _0x154be7=_0x5a01b3;try{let _0x5652ba=await this[_0x154be7(0x6b1)]({'request':_0x2e496f,'schema':xa,'ClassRef':Ie,'execute':(_0x4631a7,_0x24f7cf)=>z(()=>B[_0x154be7(0x798)](_0x4631a7,_0x24f7cf))});return _0x991a54['status'](0xc9)['json'](_0x5652ba);}catch(_0x4e089f){console['error']('Error\x20handling\x20sendMessage:',_0x4e089f),console[_0x154be7(0x2b4)](_0x154be7(0x1b5),_0x2e496f[_0x154be7(0x596)]),console['error'](_0x154be7(0x74b),_0x2e496f['url']);}})['post'](this[_0x5a01b3(0x5a9)]('sendButtons'),..._0x446984,async(_0x498872,_0x2d66f0)=>{const _0x160ccd=_0x5a01b3;try{let _0xe9b3d3=await this[_0x160ccd(0x6b1)]({'request':_0x498872,'schema':Pa,'ClassRef':Et,'execute':(_0x4e0a48,_0x1e6050)=>z(()=>B[_0x160ccd(0x19b)](_0x4e0a48,_0x1e6050))});return _0x2d66f0[_0x160ccd(0x197)](0xc9)[_0x160ccd(0x2d0)](_0xe9b3d3);}catch(_0x53d109){console[_0x160ccd(0x2b4)](_0x160ccd(0x6b2),_0x53d109),console['error'](_0x160ccd(0x1b5),_0x498872[_0x160ccd(0x596)]),console[_0x160ccd(0x2b4)](_0x160ccd(0x74b),_0x498872[_0x160ccd(0x51d)]);}})[_0x5a01b3(0x331)](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x5e6)),..._0x446984,async(_0x55e413,_0xf58cfe)=>{const _0x49793c=_0x5a01b3;try{let _0x2679fb=await this[_0x49793c(0x6b1)]({'request':_0x55e413,'schema':ka,'ClassRef':vt,'execute':(_0x99b8aa,_0x471a67)=>z(()=>B[_0x49793c(0x5e6)](_0x99b8aa,_0x471a67))});return _0xf58cfe['status'](0xc9)[_0x49793c(0x2d0)](_0x2679fb);}catch(_0x3bebae){console[_0x49793c(0x2b4)](_0x49793c(0x6b2),_0x3bebae),console[_0x49793c(0x2b4)](_0x49793c(0x1b5),_0x55e413[_0x49793c(0x596)]),console[_0x49793c(0x2b4)](_0x49793c(0x74b),_0x55e413[_0x49793c(0x51d)]);}})['post'](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x548)),..._0x446984,async(_0x4f1b73,_0x42bc16)=>{const _0x48a171=_0x5a01b3;try{let _0x18d26e=await this[_0x48a171(0x6b1)]({'request':_0x4f1b73,'schema':La,'ClassRef':Nt,'execute':(_0x3a9249,_0x508113)=>z(()=>B[_0x48a171(0x548)](_0x3a9249,_0x508113))});return _0x42bc16['status'](0xc9)[_0x48a171(0x2d0)](_0x18d26e);}catch(_0x23ac4d){console['error']('Error\x20handling\x20sendMessage:',_0x23ac4d),console[_0x48a171(0x2b4)]('Request\x20body:',_0x4f1b73[_0x48a171(0x596)]),console['error'](_0x48a171(0x74b),_0x4f1b73[_0x48a171(0x51d)]);}})[_0x5a01b3(0x331)](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x30f)),..._0x446984,async(_0x518179,_0x51234f)=>{const _0x97f22f=_0x5a01b3;try{let _0x2444ae=await this[_0x97f22f(0x6b1)]({'request':_0x518179,'schema':ja,'ClassRef':Rt,'execute':(_0x5a8e4f,_0x4fc353)=>z(()=>B[_0x97f22f(0x30f)](_0x5a8e4f,_0x4fc353))});return _0x51234f[_0x97f22f(0x197)](0xc9)[_0x97f22f(0x2d0)](_0x2444ae);}catch(_0x1b465f){console[_0x97f22f(0x2b4)](_0x97f22f(0x6b2),_0x1b465f),console[_0x97f22f(0x2b4)](_0x97f22f(0x1b5),_0x518179[_0x97f22f(0x596)]),console[_0x97f22f(0x2b4)]('Complete\x20URL:',_0x518179['url']);}})[_0x5a01b3(0x331)](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x4f5)),..._0x446984,async(_0x45dd79,_0x139dea)=>{const _0x35ee98=_0x5a01b3;try{let _0x15d7c8=await this['dataValidate']({'request':_0x45dd79,'schema':Fa,'ClassRef':$t,'execute':(_0x2dc1e7,_0x18519f)=>z(()=>B[_0x35ee98(0x4f5)](_0x2dc1e7,_0x18519f))});return _0x139dea[_0x35ee98(0x197)](0xc9)[_0x35ee98(0x2d0)](_0x15d7c8);}catch(_0x5e92d2){console[_0x35ee98(0x2b4)]('Error\x20handling\x20sendmessage:',_0x5e92d2),console['error']('body:',_0x45dd79[_0x35ee98(0x596)]),console['error'](_0x35ee98(0x226),_0x45dd79[_0x35ee98(0x51d)]);}})['post'](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x800)),..._0x446984,async(_0x20faf6,_0x471e9)=>{const _0x176fcb=_0x5a01b3;try{let _0xc24962=await this[_0x176fcb(0x6b1)]({'request':_0x20faf6,'schema':Da,'ClassRef':St,'execute':(_0x48f1c1,_0x186b6d)=>z(()=>B[_0x176fcb(0x800)](_0x48f1c1,_0x186b6d))});return _0x471e9[_0x176fcb(0x197)](0xc9)[_0x176fcb(0x2d0)](_0xc24962);}catch(_0x513bb5){console[_0x176fcb(0x2b4)](_0x176fcb(0x6b2),_0x513bb5),console[_0x176fcb(0x2b4)]('Request\x20body:',_0x20faf6[_0x176fcb(0x596)]),console[_0x176fcb(0x2b4)](_0x176fcb(0x74b),_0x20faf6[_0x176fcb(0x51d)]);}})[_0x5a01b3(0x331)](this[_0x5a01b3(0x5a9)](_0x5a01b3(0x201)),..._0x446984,async(_0x2f94d7,_0x161fe5)=>{const _0x4dfae9=_0x5a01b3;try{let _0x254e3a=await this[_0x4dfae9(0x6b1)]({'request':_0x2f94d7,'schema':Ta,'ClassRef':bt,'execute':(_0x3b712d,_0xaa5728)=>z(()=>B[_0x4dfae9(0x201)](_0x3b712d,_0xaa5728))});return _0x161fe5[_0x4dfae9(0x197)](0xc9)['json'](_0x254e3a);}catch(_0x4c1f2a){console[_0x4dfae9(0x2b4)]('Error\x20handling\x20sendMessage:',_0x4c1f2a),console[_0x4dfae9(0x2b4)](_0x4dfae9(0x1b5),_0x2f94d7[_0x4dfae9(0x596)]),console['error'](_0x4dfae9(0x74b),_0x2f94d7[_0x4dfae9(0x51d)]);}})['post'](this['routerPath']('sendSticker'),..._0x446984,async(_0x261a9c,_0x46fab8)=>{const _0x258fe7=_0x5a01b3;try{let _0x2c8ef2=await this['dataValidate']({'request':_0x261a9c,'schema':Oa,'ClassRef':Ct,'execute':(_0x1b18e1,_0xadd9ad)=>z(()=>B[_0x258fe7(0x408)](_0x1b18e1,_0xadd9ad))});return _0x46fab8[_0x258fe7(0x197)](0xc9)[_0x258fe7(0x2d0)](_0x2c8ef2);}catch(_0x5547c1){console[_0x258fe7(0x2b4)](_0x258fe7(0x6b2),_0x5547c1),console[_0x258fe7(0x2b4)](_0x258fe7(0x1b5),_0x261a9c[_0x258fe7(0x596)]),console[_0x258fe7(0x2b4)](_0x258fe7(0x74b),_0x261a9c['url']);}});}},uo=require(a0_0x344519(0x753)),Ot=class{},Tt=class extends V{constructor(..._0x52fc63){const _0x55e7d9=a0_0x344519;super(),this[_0x55e7d9(0x398)]=(0x0,uo[_0x55e7d9(0x116)])(),this['router'][_0x55e7d9(0x331)](this['routerPath'](_0x55e7d9(0x442)),..._0x52fc63,async(_0x4096e3,_0x1f97a3)=>{const _0x383fba=_0x55e7d9;let _0x41cd62=await this['dataValidate']({'request':_0x4096e3,'schema':ro,'ClassRef':Ot,'execute':(_0x289411,_0x7bca8b)=>Es[_0x383fba(0x5a1)](_0x289411,_0x7bca8b)});_0x1f97a3[_0x383fba(0x197)](0xc9)[_0x383fba(0x2d0)](_0x41cd62);})[_0x55e7d9(0x283)](this[_0x55e7d9(0x5a9)](_0x55e7d9(0x1ee)),..._0x52fc63,async(_0x2c7b52,_0x27e95f)=>{const _0x2a434c=_0x55e7d9;let _0x3b8461=await this['dataValidate']({'request':_0x2c7b52,'schema':N,'ClassRef':C,'execute':_0x11be5a=>Es['findWebhook'](_0x11be5a)});_0x27e95f[_0x2a434c(0x197)](0xc8)['json'](_0x3b8461);});}},po=require(a0_0x344519(0x753)),y=new R(a0_0x344519(0x133)),It=class extends V{constructor(..._0xdf0503){const _0x253c72=a0_0x344519;super(),this['router']=(0x0,po['Router'])(),this[_0x253c72(0x398)]['post'](this[_0x253c72(0x5a9)](_0x253c72(0x18d)),..._0xdf0503,async(_0x1d2036,_0x5b6695)=>{const _0x5241b7=_0x253c72;let _0x234283=_0x1d2036['body'];y['verbose'](_0x5241b7(0x5bc)),y[_0x5241b7(0x52e)]('request\x20body:\x20'),y['verbose'](_0x1d2036[_0x5241b7(0x596)]);let _0x5b4830=await this['dataValidate']({'request':_0x1d2036,'schema':N,'ClassRef':C,'execute':_0x5c3430=>A[_0x5241b7(0x44e)](_0x5c3430,_0x234283)});_0x5b6695[_0x5241b7(0x197)](0xc8)[_0x5241b7(0x2d0)](_0x5b4830);})[_0x253c72(0x283)](this[_0x253c72(0x5a9)](_0x253c72(0x18d)),..._0xdf0503,async(_0x7c766d,_0x432747)=>{const _0x2912f6=_0x253c72;let _0x4ef4cd=await this[_0x2912f6(0x6b1)]({'request':_0x7c766d,'schema':N,'ClassRef':C,'execute':_0xded37f=>A[_0x2912f6(0x4ed)](_0xded37f)});_0x432747[_0x2912f6(0x197)](0xc8)['json'](_0x4ef4cd);})['delete'](this['routerPath'](_0x253c72(0x779)),..._0xdf0503,async(_0x2b4309,_0x5669e1)=>{const _0x3186e3=_0x253c72;y[_0x3186e3(0x52e)](_0x3186e3(0x11b));let _0x42d768=await this[_0x3186e3(0x6b1)]({'request':_0x2b4309,'schema':N,'ClassRef':C,'execute':_0x23ef67=>A[_0x3186e3(0x779)](_0x23ef67)});_0x5669e1[_0x3186e3(0x197)](0xc8)[_0x3186e3(0x2d0)](_0x42d768);})[_0x253c72(0x331)](this[_0x253c72(0x5a9)]('startFlow'),..._0xdf0503,async(_0x548aaa,_0x27699e)=>{const _0x3ce69a=_0x253c72;let _0x160a94=_0x548aaa[_0x3ce69a(0x596)];y[_0x3ce69a(0x52e)](_0x3ce69a(0x43f)),y[_0x3ce69a(0x52e)]('request\x20body:\x20'),y[_0x3ce69a(0x52e)](_0x548aaa['body']);let _0x4d3b3d=await this[_0x3ce69a(0x6b1)]({'request':_0x548aaa,'schema':N,'ClassRef':C,'execute':_0x49010c=>A[_0x3ce69a(0x125)](_0x49010c,_0x160a94)});_0x27699e['status'](0xc8)[_0x3ce69a(0x2d0)](_0x4d3b3d);})[_0x253c72(0x283)](this[_0x253c72(0x5a9)](_0x253c72(0x332)),..._0xdf0503,async(_0x5c94dd,_0x575bb7)=>{const _0x1f4c63=_0x253c72;y[_0x1f4c63(0x52e)](_0x1f4c63(0x562));let _0x137f01=await this[_0x1f4c63(0x6b1)]({'request':_0x5c94dd,'schema':N,'ClassRef':C,'execute':_0x407806=>A[_0x1f4c63(0x332)](_0x407806)});_0x575bb7[_0x1f4c63(0x197)](0xc8)[_0x1f4c63(0x2d0)](_0x137f01);})[_0x253c72(0x283)](this[_0x253c72(0x5a9)](_0x253c72(0x30d)),..._0xdf0503,async(_0x22f185,_0x3b809e)=>{const _0x2ebb2a=_0x253c72;y[_0x2ebb2a(0x52e)](_0x2ebb2a(0x70a));let _0xca338f=await this[_0x2ebb2a(0x6b1)]({'request':_0x22f185,'schema':N,'ClassRef':C,'execute':_0x159c89=>A[_0x2ebb2a(0x332)](_0x159c89)});_0x3b809e['status'](0xc8)[_0x2ebb2a(0x2d0)](_0xca338f);})['post'](this['routerPath'](_0x253c72(0x1a6)),..._0xdf0503,async(_0x5f5d75,_0x41ee3a)=>{const _0x4e08fa=_0x253c72;let _0x55ff39=_0x5f5d75[_0x4e08fa(0x596)];y[_0x4e08fa(0x52e)](_0x4e08fa(0x6d8)),y[_0x4e08fa(0x52e)](_0x4e08fa(0x690)),y['verbose'](_0x5f5d75[_0x4e08fa(0x596)]);let _0x4f20b9=await this['dataValidate']({'request':_0x5f5d75,'schema':N,'ClassRef':C,'execute':_0x2c37e3=>A['updateAgent'](_0x2c37e3,_0x55ff39)});_0x41ee3a[_0x4e08fa(0x197)](0xc8)['json'](_0x4f20b9);})['post'](this[_0x253c72(0x5a9)]('updateCustomFields'),..._0xdf0503,async(_0x5ed0cf,_0x5e8519)=>{const _0x246f5f=_0x253c72;let _0x5ec82b=_0x5ed0cf[_0x246f5f(0x596)];y[_0x246f5f(0x52e)](_0x246f5f(0x756)),y[_0x246f5f(0x52e)](_0x246f5f(0x690)),y[_0x246f5f(0x52e)](_0x5ed0cf[_0x246f5f(0x596)]);let _0x3c5689=await this[_0x246f5f(0x6b1)]({'request':_0x5ed0cf,'schema':N,'ClassRef':C,'execute':_0x574167=>A[_0x246f5f(0x7ad)](_0x574167,_0x5ec82b)});_0x5e8519[_0x246f5f(0x197)](0xc8)['json'](_0x3c5689);})[_0x253c72(0x331)](this['routerPath'](_0x253c72(0x5b2)),..._0xdf0503,async(_0x348659,_0x5b77ab)=>{const _0x5b1ad0=_0x253c72;let _0x5a85ad=_0x348659[_0x5b1ad0(0x596)];y['verbose'](_0x5b1ad0(0x5b3)),y['verbose'](_0x5b1ad0(0x690)),y['verbose'](_0x348659[_0x5b1ad0(0x596)]);let _0x16366c=await this[_0x5b1ad0(0x6b1)]({'request':_0x348659,'schema':N,'ClassRef':C,'execute':_0x5957fb=>A[_0x5b1ad0(0x5b2)](_0x5957fb,_0x5a85ad)});_0x5b77ab['status'](0xc8)['json'](_0x16366c);})['post'](this[_0x253c72(0x5a9)]('updateFlowConfig'),..._0xdf0503,async(_0x18f5c6,_0x3ddb9f)=>{const _0x551115=_0x253c72;let _0x3ae398=_0x18f5c6['body'];y[_0x551115(0x52e)](_0x551115(0x2ca)),y[_0x551115(0x52e)](_0x551115(0x690)),y[_0x551115(0x52e)](_0x18f5c6[_0x551115(0x596)]);let _0x35cc3d=await this[_0x551115(0x6b1)]({'request':_0x18f5c6,'schema':N,'ClassRef':C,'execute':_0x4a4130=>A[_0x551115(0x13f)](_0x4a4130,_0x3ae398)});_0x3ddb9f[_0x551115(0x197)](0xc8)['json'](_0x35cc3d);})['post'](this[_0x253c72(0x5a9)](_0x253c72(0x7b1)),..._0xdf0503,async(_0x1ed940,_0xb979c8)=>{const _0x1e895b=_0x253c72;let _0x39a7f7=_0x1ed940[_0x1e895b(0x596)];y[_0x1e895b(0x52e)](_0x1e895b(0x2cd)),y[_0x1e895b(0x52e)](_0x1e895b(0x690)),y[_0x1e895b(0x52e)](_0x1ed940[_0x1e895b(0x596)]);let _0x1b59c8=await this[_0x1e895b(0x6b1)]({'request':_0x1ed940,'schema':N,'ClassRef':C,'execute':_0xc6d26c=>A[_0x1e895b(0x7b1)](_0xc6d26c,_0x39a7f7)});_0xb979c8[_0x1e895b(0x197)](0xc8)[_0x1e895b(0x2d0)](_0x1b59c8);})[_0x253c72(0x331)](this[_0x253c72(0x5a9)]('fetchConversation'),..._0xdf0503,async(_0x43c8ee,_0x166220)=>{const _0x5439e0=_0x253c72;let _0x4dab00=_0x43c8ee[_0x5439e0(0x596)];y[_0x5439e0(0x52e)](_0x5439e0(0x2e1)),y[_0x5439e0(0x52e)](_0x5439e0(0x690)),y[_0x5439e0(0x52e)](_0x43c8ee[_0x5439e0(0x596)]);let _0x2c9609=await this['dataValidate']({'request':_0x43c8ee,'schema':N,'ClassRef':C,'execute':_0x23c82b=>A[_0x5439e0(0x57a)](_0x23c82b,_0x4dab00)});_0x166220[_0x5439e0(0x197)](0xc8)['json'](_0x2c9609);})[_0x253c72(0x331)](this[_0x253c72(0x5a9)]('editConversation'),..._0xdf0503,async(_0x29d71b,_0x3952f7)=>{const _0x514311=_0x253c72;let _0x275e90=_0x29d71b[_0x514311(0x596)];y[_0x514311(0x52e)](_0x514311(0x54b)),y[_0x514311(0x52e)](_0x514311(0x690)),y[_0x514311(0x52e)](_0x29d71b[_0x514311(0x596)]);let _0x555974=await this[_0x514311(0x6b1)]({'request':_0x29d71b,'schema':N,'ClassRef':C,'execute':_0x5b2c71=>A[_0x514311(0x7c5)](_0x5b2c71,_0x275e90)});_0x3952f7[_0x514311(0x197)](0xc8)['json'](_0x555974);})[_0x253c72(0x4ea)](this[_0x253c72(0x5a9)](_0x253c72(0x35f)),..._0xdf0503,async(_0x49b5af,_0x165d78)=>{const _0x11102f=_0x253c72;let _0x185294=_0x49b5af[_0x11102f(0x596)];y[_0x11102f(0x52e)](_0x11102f(0x4d6)),y[_0x11102f(0x52e)](_0x11102f(0x690)),y['verbose'](_0x49b5af['body']);let _0x2e7aad=await this[_0x11102f(0x6b1)]({'request':_0x49b5af,'schema':N,'ClassRef':C,'execute':_0x2d4872=>A[_0x11102f(0x35f)](_0x2d4872,_0x185294)});_0x165d78[_0x11102f(0x197)](0xc8)['json'](_0x2e7aad);})[_0x253c72(0x331)](this['routerPath'](_0x253c72(0x667)),..._0xdf0503,async(_0x1c85a8,_0x9c97aa)=>{const _0x54e427=_0x253c72;let _0x5424ba=_0x1c85a8[_0x54e427(0x596)],_0x226bd0=_0x1c85a8['headers'][_0x54e427(0x66c)];y[_0x54e427(0x52e)](_0x54e427(0x223)),y[_0x54e427(0x52e)](_0x54e427(0x690)),y[_0x54e427(0x52e)](_0x1c85a8['body']);let _0x3aa9f0=await this['dataValidate']({'request':_0x1c85a8,'schema':N,'ClassRef':C,'execute':_0x144287=>A[_0x54e427(0x1aa)](_0x144287,_0x5424ba,_0x226bd0)});_0x9c97aa[_0x54e427(0x197)](0xc8)[_0x54e427(0x2d0)](_0x3aa9f0);})[_0x253c72(0x331)](this['routerPath'](_0x253c72(0x476)),..._0xdf0503,async(_0x344ddb,_0x40c57b)=>{const _0x34abec=_0x253c72;let _0x36eefd=_0x344ddb[_0x34abec(0x596)],_0x96adc4=_0x344ddb[_0x34abec(0x1f2)][_0x34abec(0x66c)];y[_0x34abec(0x52e)](_0x34abec(0x531)),y['verbose'](_0x34abec(0x690)),y['verbose'](_0x344ddb[_0x34abec(0x596)]),delete _0x36eefd['blocks'],delete _0x36eefd['variables'],delete _0x36eefd[_0x34abec(0x6bb)],delete _0x36eefd[_0x34abec(0x5a8)];let _0xd0de5=await this[_0x34abec(0x6b1)]({'request':_0x344ddb,'schema':N,'ClassRef':C,'execute':_0x515e9b=>A[_0x34abec(0x672)](_0x515e9b,_0x36eefd,_0x96adc4)});_0x40c57b[_0x34abec(0x197)](0xc8)[_0x34abec(0x2d0)](_0xd0de5);})[_0x253c72(0x331)](this[_0x253c72(0x5a9)](_0x253c72(0x202)),..._0xdf0503,async(_0xd28b89,_0x99f164)=>{const _0x1eb614=_0x253c72;let _0x331965=_0xd28b89['body'],_0x36922e=_0xd28b89[_0x1eb614(0x1f2)][_0x1eb614(0x66c)];y[_0x1eb614(0x52e)]('request\x20received\x20in\x20editFlow'),y[_0x1eb614(0x52e)](_0x1eb614(0x690)),y[_0x1eb614(0x52e)](_0xd28b89[_0x1eb614(0x596)]);let _0x10dd32=await this['dataValidate']({'request':_0xd28b89,'schema':N,'ClassRef':C,'execute':_0x18e9a7=>A[_0x1eb614(0x365)](_0x18e9a7,_0x331965,_0x36922e)});_0x99f164['status'](0xc8)[_0x1eb614(0x2d0)](_0x10dd32);})[_0x253c72(0x331)](this[_0x253c72(0x5a9)]('editflowreply'),..._0xdf0503,async(_0x1aff0d,_0x2bf796)=>{const _0x2a1cf9=_0x253c72;let _0x270d0c=_0x1aff0d['body'],_0x203c3b=_0x1aff0d[_0x2a1cf9(0x1f2)][_0x2a1cf9(0x66c)];y['verbose'](_0x2a1cf9(0x531)),y[_0x2a1cf9(0x52e)](_0x2a1cf9(0x690)),y[_0x2a1cf9(0x52e)](_0x1aff0d[_0x2a1cf9(0x596)]);let _0x9fc19=await this[_0x2a1cf9(0x6b1)]({'request':_0x1aff0d,'schema':N,'ClassRef':C,'execute':_0x4deb1f=>A['editFlowReply'](_0x4deb1f,_0x270d0c,_0x203c3b)});_0x2bf796['status'](0xc8)[_0x2a1cf9(0x2d0)](_0x9fc19);})[_0x253c72(0x331)](this[_0x253c72(0x5a9)](_0x253c72(0x752)),..._0xdf0503,async(_0x47fc9b,_0x469b6f)=>{const _0xcbe575=_0x253c72;let _0x1db7df=_0x47fc9b[_0xcbe575(0x596)],_0x966eaf=_0x47fc9b[_0xcbe575(0x1f2)]['apikey'];y[_0xcbe575(0x52e)]('request\x20received\x20in\x20editFlow'),y[_0xcbe575(0x52e)](_0xcbe575(0x690)),y[_0xcbe575(0x52e)](_0x47fc9b[_0xcbe575(0x596)]);let _0x41489e=await this[_0xcbe575(0x6b1)]({'request':_0x47fc9b,'schema':N,'ClassRef':C,'execute':_0x49e18f=>A[_0xcbe575(0x2b3)](_0x49e18f,_0x1db7df,_0x966eaf)});_0x469b6f[_0xcbe575(0x197)](0xc8)[_0xcbe575(0x2d0)](_0x41489e);})[_0x253c72(0x331)](this['routerPath']('editflowgroup'),..._0xdf0503,async(_0x2108ac,_0x5da19f)=>{const _0x12571f=_0x253c72;let _0x46d3d6=_0x2108ac[_0x12571f(0x596)],_0x3f0ba1=_0x2108ac[_0x12571f(0x1f2)]['apikey'];y[_0x12571f(0x52e)](_0x12571f(0x5b1)),y[_0x12571f(0x52e)]('request\x20body:\x20'),y[_0x12571f(0x52e)](_0x2108ac[_0x12571f(0x596)]);let _0x1a0dc6=await this[_0x12571f(0x6b1)]({'request':_0x2108ac,'schema':N,'ClassRef':C,'execute':_0x201a1a=>A[_0x12571f(0x701)](_0x201a1a,_0x46d3d6,_0x3f0ba1)});_0x5da19f['status'](0xc8)[_0x12571f(0x2d0)](_0x1a0dc6);})['post'](this[_0x253c72(0x5a9)](_0x253c72(0x446)),..._0xdf0503,async(_0x11b075,_0x2974b4)=>{const _0x4a145c=_0x253c72;let _0x2c8150=_0x11b075[_0x4a145c(0x596)],_0x2c0cce=_0x11b075[_0x4a145c(0x1f2)][_0x4a145c(0x66c)];y[_0x4a145c(0x52e)]('request\x20received\x20in\x20editFlowcondition'),y[_0x4a145c(0x52e)](_0x4a145c(0x690)),y[_0x4a145c(0x52e)](_0x11b075['body']);let _0x4ae7fc=await this[_0x4a145c(0x6b1)]({'request':_0x11b075,'schema':N,'ClassRef':C,'execute':_0x482009=>A[_0x4a145c(0x362)](_0x482009,_0x2c8150,_0x2c0cce)});_0x2974b4[_0x4a145c(0x197)](0xc8)[_0x4a145c(0x2d0)](_0x4ae7fc);})[_0x253c72(0x331)](this[_0x253c72(0x5a9)](_0x253c72(0x255)),..._0xdf0503,async(_0x2eee8d,_0x5b2e51)=>{const _0x574062=_0x253c72;let _0x9f8b72=_0x2eee8d[_0x574062(0x596)],_0x5571e0=_0x2eee8d[_0x574062(0x1f2)][_0x574062(0x66c)];y[_0x574062(0x52e)](_0x574062(0x725)),y[_0x574062(0x52e)](_0x574062(0x690)),y[_0x574062(0x52e)](_0x2eee8d['body']);let _0x565d67=await this['dataValidate']({'request':_0x2eee8d,'schema':N,'ClassRef':C,'execute':_0x4eca00=>A[_0x574062(0x1d4)](_0x4eca00,_0x9f8b72,_0x5571e0)});_0x5b2e51['status'](0xc8)[_0x574062(0x2d0)](_0x565d67);})[_0x253c72(0x331)](this[_0x253c72(0x5a9)](_0x253c72(0x6b8)),..._0xdf0503,async(_0x577f38,_0x203eb7)=>{const _0x4a4fa7=_0x253c72;let _0x58d26b=_0x577f38[_0x4a4fa7(0x596)];y[_0x4a4fa7(0x52e)]('request\x20received\x20in\x20getFlow'),y['verbose'](_0x4a4fa7(0x690)),y['verbose'](_0x577f38['body']);let _0x15524d=await this[_0x4a4fa7(0x6b1)]({'request':_0x577f38,'schema':N,'ClassRef':C,'execute':_0x5bd74c=>A[_0x4a4fa7(0x738)](_0x5bd74c,_0x58d26b)});_0x203eb7[_0x4a4fa7(0x197)](0xc8)['json'](_0x15524d);})['delete'](this[_0x253c72(0x5a9)](_0x253c72(0x244)),..._0xdf0503,async(_0x573930,_0x1fb368)=>{const _0x3a5b56=_0x253c72;let _0x35a2ed=_0x573930[_0x3a5b56(0x596)],_0x41dddd=_0x573930['headers']['apikey'];y[_0x3a5b56(0x52e)](_0x3a5b56(0x75e)),y['verbose'](_0x3a5b56(0x690)),y[_0x3a5b56(0x52e)](_0x573930[_0x3a5b56(0x596)]);let _0x57e893=await this['dataValidate']({'request':_0x573930,'schema':N,'ClassRef':C,'execute':_0x43609f=>A[_0x3a5b56(0x28d)](_0x43609f,_0x35a2ed,_0x41dddd)});_0x1fb368[_0x3a5b56(0x197)](0xc8)[_0x3a5b56(0x2d0)](_0x57e893);})[_0x253c72(0x283)](this[_0x253c72(0x5a9)](_0x253c72(0x3cf)),..._0xdf0503,async(_0x5e7516,_0x3b66f8)=>{const _0x649fbd=_0x253c72;y[_0x649fbd(0x52e)](_0x649fbd(0x590));let _0x475f67=await this[_0x649fbd(0x6b1)]({'request':_0x5e7516,'schema':N,'ClassRef':C,'execute':_0x36ea69=>A['allFlows'](_0x36ea69)});_0x3b66f8[_0x649fbd(0x197)](0xc8)[_0x649fbd(0x2d0)](_0x475f67);});}},fo=O(require(a0_0x344519(0x5e2))),ee={};function ho(_0x128b7b,_0x5a686a,_0xda9d1d,_0x172664){ee[_0x128b7b]||(ee[_0x128b7b]={}),ee[_0x128b7b][_0x5a686a]={'id':_0x5a686a,'response':_0xda9d1d,'events':_0x172664};}function go(_0x4cd76d,_0x25c882){!ee[_0x4cd76d]||!ee[_0x4cd76d][_0x25c882]||delete ee[_0x4cd76d][_0x25c882];}function J(_0x4ba51a,_0x39d6db,_0x262627){const _0x47d1dd=a0_0x344519;if(!ee[_0x4ba51a])return;let _0x522d56=_0x47d1dd(0x5f3)+JSON[_0x47d1dd(0x3f5)](_0x262627)+'\x0a\x0a';Object[_0x47d1dd(0x7fa)](ee[_0x4ba51a])['forEach'](_0x49db49=>{const _0x39b606=_0x47d1dd;_0x49db49[_0x39b606(0x505)]['includes'](_0x39d6db)&&_0x49db49[_0x39b606(0x154)][_0x39b606(0x36b)](_0x522d56);});}function mo(){const _0xd3a5f5=a0_0x344519;let _0x550410={};for(let _0x54874a in ee)_0x550410[_0x54874a]=Object[_0xd3a5f5(0x7fa)](ee[_0x54874a])[_0xd3a5f5(0x41f)](_0x2cfa42=>({'id':_0x2cfa42['id'],'events':_0x2cfa42[_0xd3a5f5(0x505)]}));return _0x550410;}var wo=require(a0_0x344519(0x52a)),Ns=require(a0_0x344519(0x526)),vs=class{},Sr=new Ns[(a0_0x344519(0x260))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Mr=new Ns[(a0_0x344519(0x260))]({'_id':{'type':String,'default':a0_0x344519(0x336)},'WebhookGlobal':{'type':Sr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Me=$?.[a0_0x344519(0x121)](vs[a0_0x344519(0x731)],Mr,a0_0x344519(0x2e6)),Cr=fo[a0_0x344519(0x10d)][a0_0x344519(0x2a3)](__dirname,a0_0x344519(0x5ed)),xe=(0x0,xt['Router'])(),Er=b[a0_0x344519(0x283)](a0_0x344519(0x3e8))['TYPE'],oe=[Ca,Ea,Ra[Er]];xe[a0_0x344519(0x511)]('/media',xt[a0_0x344519(0x10d)][a0_0x344519(0x70d)](Cr))[a0_0x344519(0x283)]('/events/:instance',async(_0x5a3f78,_0x3061a9)=>{const _0x3c4bc8=a0_0x344519;console['log'](_0x3c4bc8(0x68e));let _0x2b6aa7=_0x5a3f78[_0x3c4bc8(0x416)][_0x3c4bc8(0x55b)],_0xc377c7=(_0x5a3f78['query']['events']||'')[_0x3c4bc8(0x134)](','),_0x5046bf=(0x0,wo['v4'])();console[_0x3c4bc8(0x7a7)](_0x3c4bc8(0x23a),_0x2b6aa7),console[_0x3c4bc8(0x7a7)](_0x3c4bc8(0x647),_0xc377c7);let _0x2607c9=b[_0x3c4bc8(0x283)](_0x3c4bc8(0x3e8))[_0x3c4bc8(0x5d7)],_0x1ca69a=_0x5a3f78[_0x3c4bc8(0x225)][_0x3c4bc8(0x66c)];if(console[_0x3c4bc8(0x7a7)](_0x3c4bc8(0x4fb),_0x1ca69a),_0x2607c9[_0x3c4bc8(0x60e)]!==_0x1ca69a){console[_0x3c4bc8(0x7a7)](_0x3c4bc8(0x275));try{let _0x38164b=await pe['auth']['find'](_0x2b6aa7);if(console[_0x3c4bc8(0x7a7)](_0x3c4bc8(0x7c4),_0x38164b),!_0x38164b||_0x38164b['apikey']!==_0x1ca69a)return console['log'](_0x3c4bc8(0x161)),_0x3061a9[_0x3c4bc8(0x197)](0x191)[_0x3c4bc8(0x2f3)](_0x3c4bc8(0x455));}catch(_0x2df9db){return console[_0x3c4bc8(0x2b4)](_0x3c4bc8(0x4af),_0x2df9db),_0x3061a9[_0x3c4bc8(0x197)](0x191)[_0x3c4bc8(0x2f3)](_0x3c4bc8(0x53b));}}if(!await $e(_0x2b6aa7))return _0x3061a9[_0x3c4bc8(0x197)](0x194)[_0x3c4bc8(0x2f3)]('Instância\x20não\x20encontrada.');_0x3061a9[_0x3c4bc8(0x10f)](_0x3c4bc8(0x638),'text/event-stream'),_0x3061a9[_0x3c4bc8(0x10f)](_0x3c4bc8(0x109),_0x3c4bc8(0x21c)),_0x3061a9['setHeader'](_0x3c4bc8(0x557),_0x3c4bc8(0x1ce)),_0x3061a9[_0x3c4bc8(0x456)]();let _0x3b27fd=_0x3c4bc8(0x5f3)+JSON['stringify']({'info':_0x3c4bc8(0x475)})+'\x0a\x0a';_0x3061a9[_0x3c4bc8(0x36b)](_0x3b27fd),ho(_0x2b6aa7,_0x5046bf,_0x3061a9,_0xc377c7),_0x5a3f78['on'](_0x3c4bc8(0x65b),()=>{const _0x3defa7=_0x3c4bc8;console[_0x3defa7(0x7a7)](_0x3defa7(0x80c)+_0x2b6aa7),go(_0x2b6aa7,_0x5046bf);});}),xe['post'](a0_0x344519(0x693),async(_0x1e5850,_0xbd2280)=>{const _0x42bbff=a0_0x344519;console[_0x42bbff(0x7a7)]('iniciando\x20fluxo\x20router');let _0x402d99=_0x1e5850[_0x42bbff(0x416)][_0x42bbff(0x55b)],_0xfa3cbd=_0x1e5850[_0x42bbff(0x416)][_0x42bbff(0x703)],_0x50d5fe=_0x1e5850['query'][_0x42bbff(0x5b0)]||'',_0x4651b3=_0x1e5850['body'];console[_0x42bbff(0x7a7)]('Instance\x20Name:',_0x402d99),console[_0x42bbff(0x7a7)]('StartID:',_0xfa3cbd),console[_0x42bbff(0x7a7)](_0x42bbff(0x339),_0x50d5fe),console[_0x42bbff(0x7a7)]('Request\x20Body:',_0x4651b3);try{if(!await $e(_0x402d99))return _0xbd2280[_0x42bbff(0x197)](0x194)['send'](_0x42bbff(0x3b4));let _0x96878=await A[_0x42bbff(0x571)](_0x402d99,_0xfa3cbd,_0x50d5fe,_0x4651b3);_0xbd2280['send'](_0x96878);}catch(_0x89eeaa){console[_0x42bbff(0x2b4)](_0x89eeaa),_0xbd2280[_0x42bbff(0x197)](0x1f4)['send'](_0x42bbff(0x664));}}),xe[a0_0x344519(0x283)](a0_0x344519(0x2f4),(_0x286d05,_0x2b7335)=>{let _0x23a4e4=mo();_0x2b7335['json'](_0x23a4e4);})[a0_0x344519(0x283)]('/',(_0x4dbda0,_0x4d0fd1)=>{const _0x77e9ac=a0_0x344519;let _0x49396c=b[_0x77e9ac(0x283)](_0x77e9ac(0x1e6))[_0x77e9ac(0x5df)];if(_0x49396c){let _0x2615e9=encodeURIComponent(''+_0x49396c);_0x4d0fd1['redirect'](_0x77e9ac(0x184)+_0x2615e9);return;}let _0x176c4c=b[_0x77e9ac(0x283)](_0x77e9ac(0x5a2)),_0x170bd3=_0x176c4c&&_0x176c4c[_0x77e9ac(0x645)][_0x77e9ac(0x134)]('/')[0x4];if(_0x170bd3){let _0x4aac56=encodeURIComponent(_0x77e9ac(0x29b)+_0x170bd3);_0x4d0fd1[_0x77e9ac(0x66d)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x4aac56);}else _0x4d0fd1[_0x77e9ac(0x66d)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0x344519(0x1d0),...oe,async(_0x2d17e7,_0x32915b)=>{const _0x3ef7ec=a0_0x344519;try{console[_0x3ef7ec(0x7a7)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x32915b['status'](0xc8)[_0x3ef7ec(0x2d0)]({'message':_0x3ef7ec(0x1df)}),_0x32915b['on']('finish',()=>process[_0x3ef7ec(0x50a)](0x0));}catch(_0x4de0ac){console[_0x3ef7ec(0x2b4)](_0x3ef7ec(0x5ff),_0x4de0ac),_0x32915b['status'](0x1f4)[_0x3ef7ec(0x2d0)]({'message':_0x3ef7ec(0x429)});}})[a0_0x344519(0x75d)](a0_0x344519(0x6c1),...oe,async(_0x51a8d4,_0x346a5c)=>{const _0x5addf4=a0_0x344519;try{let _0x2d12d3=_0x51a8d4[_0x5addf4(0x596)];await Me[_0x5addf4(0x608)]({},{'$set':_0x2d12d3},{'upsert':!0x0});let _0x12b105=await Me[_0x5addf4(0x1a8)]();_0x346a5c[_0x5addf4(0x2d0)](_0x12b105);}catch(_0x1527dd){_0x346a5c[_0x5addf4(0x197)](0x190)[_0x5addf4(0x2f3)](_0x1527dd[_0x5addf4(0x806)]);}})['get']('/config',...oe,async(_0x54bc09,_0x24f9b9)=>{const _0x25ba4c=a0_0x344519;try{let _0x2888fb=await Me[_0x25ba4c(0x1a8)]();if(!_0x2888fb)return _0x24f9b9['json']({});_0x24f9b9[_0x25ba4c(0x2d0)](_0x2888fb);}catch(_0x494d85){_0x24f9b9[_0x25ba4c(0x197)](0x1f4)[_0x25ba4c(0x2f3)](_0x494d85[_0x25ba4c(0x806)]);}})['use'](a0_0x344519(0x7fb),new wt(b,...oe)['router'])[a0_0x344519(0x511)](a0_0x344519(0x7a3),new At(...oe)['router'])[a0_0x344519(0x511)](a0_0x344519(0x677),new nt(...oe)[a0_0x344519(0x398)])['use']('/group',new ft(...oe)[a0_0x344519(0x398)])[a0_0x344519(0x511)](a0_0x344519(0x1b8),new Tt(...oe)[a0_0x344519(0x398)])[a0_0x344519(0x511)](a0_0x344519(0x352),new It(...oe)['router']);var m=class{constructor(..._0x279c7a){const _0x3f414a=a0_0x344519;throw{'status':0x190,'error':_0x3f414a(0x7db),'message':_0x279c7a['length']>0x0?_0x279c7a:void 0x0};}},ae=class{constructor(..._0x50229c){const _0x46e3a4=a0_0x344519;throw{'status':0x191,'error':_0x46e3a4(0x724),'message':_0x50229c[_0x46e3a4(0x4e4)]>0x0?_0x50229c:void 0x0};}},Y=class{constructor(..._0x165c9d){const _0x57f45c=a0_0x344519;throw{'status':0x193,'error':_0x57f45c(0x7aa),'message':_0x165c9d[_0x57f45c(0x4e4)]>0x0?_0x165c9d:void 0x0};}},U=class{constructor(..._0x23b254){const _0x1fbf5a=a0_0x344519;throw{'status':0x194,'error':_0x1fbf5a(0x349),'message':_0x23b254[_0x1fbf5a(0x4e4)]>0x0?_0x23b254:void 0x0};}},I=class{constructor(..._0x344526){throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x344526['length']>0x0?_0x344526:void 0x0};}},he=require('@whiskeysockets/baileys');async function Rs(_0x1a0d7a){const _0x28fbd7=a0_0x344519;let _0x47699f=new R(Rs['name']),_0x185d26=$['getClient'](),_0xbf8bd5=_0x185d26['db'](b[_0x28fbd7(0x283)](_0x28fbd7(0x6a1))[_0x28fbd7(0x69b)]['DB_PREFIX_NAME']+_0x28fbd7(0x1a5))[_0x28fbd7(0x6ab)](_0x1a0d7a),_0x5da693=async(_0x83687f,_0x42cbe3)=>{const _0x4d9fdb=_0x28fbd7;try{return await _0x185d26[_0x4d9fdb(0x602)](),await _0xbf8bd5['replaceOne']({'_id':_0x42cbe3},JSON['parse'](JSON[_0x4d9fdb(0x3f5)](_0x83687f,he[_0x4d9fdb(0x826)]['replacer'])),{'upsert':!0x0});}catch{}},_0x4cec50=async _0x57ba72=>{const _0x4fce3d=_0x28fbd7;try{await _0x185d26[_0x4fce3d(0x602)]();let _0x3af909=await _0xbf8bd5[_0x4fce3d(0x1a8)]({'_id':_0x57ba72}),_0x378d34=JSON[_0x4fce3d(0x3f5)](_0x3af909);return JSON[_0x4fce3d(0x1bc)](_0x378d34,he[_0x4fce3d(0x826)]['reviver']);}catch{}},_0x44ecca=async _0x52a00f=>{const _0x444cd9=_0x28fbd7;try{return await _0x185d26[_0x444cd9(0x602)](),await _0xbf8bd5[_0x444cd9(0x2bd)]({'_id':_0x52a00f});}catch{}},_0x1acaa5=await _0x4cec50(_0x28fbd7(0x6bd))||(0x0,he[_0x28fbd7(0x196)])();return{'state':{'creds':_0x1acaa5,'keys':{'get':async(_0x5b16d6,_0x4255e7)=>{const _0x3630d0=_0x28fbd7;let _0x26b01c={};return await Promise[_0x3630d0(0x1f6)](_0x4255e7['map'](async _0x2deff8=>{const _0x406c95=_0x3630d0;let _0x23977b=await _0x4cec50(_0x5b16d6+'-'+_0x2deff8);_0x5b16d6==='app-state-sync-key'&&_0x23977b&&(_0x23977b=he[_0x406c95(0x488)]['Message'][_0x406c95(0x794)][_0x406c95(0x380)](_0x23977b)),_0x26b01c[_0x2deff8]=_0x23977b;})),_0x26b01c;},'set':async _0x1e7315=>{const _0x4d3275=_0x28fbd7;let _0x223fc4=[];for(let _0x37d814 in _0x1e7315)for(let _0x35bc95 in _0x1e7315[_0x37d814]){let _0x2a9cbc=_0x1e7315[_0x37d814][_0x35bc95],_0x6166da=_0x37d814+'-'+_0x35bc95;_0x223fc4[_0x4d3275(0x413)](_0x2a9cbc?_0x5da693(_0x2a9cbc,_0x6166da):_0x44ecca(_0x6166da));}await Promise[_0x4d3275(0x1f6)](_0x223fc4);}}},'saveCreds':async()=>_0x5da693(_0x1acaa5,_0x28fbd7(0x6bd))};}var Is=O(require(a0_0x344519(0x7d1))),xs=O(require(a0_0x344519(0x650))),Pt=require(a0_0x344519(0x528)),yo=require('@redis/client'),_t=require(a0_0x344519(0x528)),Dt;function vr(_0x4ebc7b){const _0x186433=a0_0x344519;return Dt||(Dt=(0x0,yo[_0x186433(0x563)])({'url':_0x4ebc7b[_0x186433(0x2ad)]}),Dt[_0x186433(0x602)]()),Dt;}var ue=class c{constructor(_0x11f83e,_0x1315fa){const _0x5182ff=a0_0x344519;this[_0x5182ff(0x213)]=_0x11f83e,this[_0x5182ff(0x20c)]=_0x1315fa,this['logger']=new R(c[_0x5182ff(0x731)]),this['client']=vr(_0x11f83e);}set[a0_0x344519(0x4ae)](_0x1b9c76){this['instanceName']=_0x1b9c76;}async['instanceKeys'](){const _0x1da5ed=a0_0x344519;try{return await this[_0x1da5ed(0x24b)][_0x1da5ed(0x4a6)](['keys',this[_0x1da5ed(0x213)][_0x1da5ed(0x50d)]+':*']);}catch(_0x1c7d86){this['logger'][_0x1da5ed(0x2b4)](_0x1c7d86);}}async['writeData'](_0xc65a16,_0x6c0205){const _0x4abd62=a0_0x344519;try{let _0x10c40e=JSON['stringify'](_0x6c0205,_t[_0x4abd62(0x826)][_0x4abd62(0x63a)]);return await this[_0x4abd62(0x24b)][_0x4abd62(0x56d)](this[_0x4abd62(0x213)][_0x4abd62(0x50d)]+':'+this[_0x4abd62(0x20c)],_0xc65a16,_0x10c40e);}catch(_0x17d61c){this['logger'][_0x4abd62(0x2b4)](_0x17d61c);}}async['getAllData'](){const _0x492288=a0_0x344519;try{let _0x2eb83c=await this[_0x492288(0x24b)][_0x492288(0x18b)](this['redisEnv'][_0x492288(0x50d)]+':'+this['instanceName']);if(_0x2eb83c){for(let _0x21b803 in _0x2eb83c)Object['prototype'][_0x492288(0x11f)][_0x492288(0x165)](_0x2eb83c,_0x21b803)&&(_0x2eb83c[_0x21b803]=JSON['parse'](_0x2eb83c[_0x21b803],_t[_0x492288(0x826)][_0x492288(0x7d9)]));return _0x2eb83c;}}catch(_0x5308d5){this['logger']['error'](_0x5308d5);}}async[a0_0x344519(0x26a)](_0x2f91e2){const _0x90fdd5=a0_0x344519;try{let _0x6e740f=await this[_0x90fdd5(0x24b)][_0x90fdd5(0x5d6)](this['redisEnv'][_0x90fdd5(0x50d)]+':'+this[_0x90fdd5(0x20c)],_0x2f91e2);if(_0x6e740f)return JSON['parse'](_0x6e740f,_t[_0x90fdd5(0x826)]['reviver']);}catch(_0x3b4473){this[_0x90fdd5(0x767)][_0x90fdd5(0x2b4)](_0x3b4473);}}async[a0_0x344519(0x471)](_0x37c10c){const _0x3e9377=a0_0x344519;try{return await this[_0x3e9377(0x24b)][_0x3e9377(0x3b3)](this['redisEnv'][_0x3e9377(0x50d)]+':'+this[_0x3e9377(0x20c)],_0x37c10c);}catch(_0x1513b7){this[_0x3e9377(0x767)][_0x3e9377(0x2b4)](_0x1513b7);}}async[a0_0x344519(0x33e)](_0x1d6157){const _0x33a976=a0_0x344519;try{return await this[_0x33a976(0x24b)][_0x33a976(0x38f)](_0x1d6157||this['redisEnv'][_0x33a976(0x50d)]+':'+this['instanceName']);}catch(_0x5c4581){this[_0x33a976(0x767)][_0x33a976(0x2b4)](_0x5c4581);}}};async function $s(_0x11241a,_0x532077){const _0x284b44=a0_0x344519;let _0x2001c4=new R($s[_0x284b44(0x731)]),_0x2217c7=new ue(_0x11241a,_0x532077),_0x4cc71b=async(_0xbfac26,_0x123ce2)=>{const _0xed5e84=_0x284b44;try{return await _0x2217c7[_0xed5e84(0x3fe)](_0x123ce2,_0xbfac26);}catch(_0x5d29ef){return _0x2001c4['error']({'localError':_0xed5e84(0x3fe),'error':_0x5d29ef});}},_0xa9e82f=async _0x1a76ba=>{const _0x9ac1ee=_0x284b44;try{return await _0x2217c7[_0x9ac1ee(0x26a)](_0x1a76ba);}catch(_0x463d06){_0x2001c4[_0x9ac1ee(0x2b4)]({'readData':_0x9ac1ee(0x3fe),'error':_0x463d06});return;}},_0x9e2400=async _0x451429=>{const _0x3b8a57=_0x284b44;try{return await _0x2217c7[_0x3b8a57(0x471)](_0x451429);}catch(_0x51f9a4){_0x2001c4[_0x3b8a57(0x2b4)]({'readData':'removeData','error':_0x51f9a4});}},_0x12bfb5=await _0xa9e82f(_0x284b44(0x6bd))||(0x0,Pt[_0x284b44(0x196)])();return{'state':{'creds':_0x12bfb5,'keys':{'get':async(_0x3157c9,_0x4c36e6)=>{const _0x3998f9=_0x284b44;let _0x3a7c9c={};return await Promise[_0x3998f9(0x1f6)](_0x4c36e6[_0x3998f9(0x41f)](async _0x2fd4fa=>{const _0x5445c8=_0x3998f9;let _0x31a283=await _0xa9e82f(_0x3157c9+'-'+_0x2fd4fa);_0x3157c9==='app-state-sync-key'&&_0x31a283&&(_0x31a283=Pt[_0x5445c8(0x488)][_0x5445c8(0x7fe)][_0x5445c8(0x794)][_0x5445c8(0x380)](_0x31a283)),_0x3a7c9c[_0x2fd4fa]=_0x31a283;})),_0x3a7c9c;},'set':async _0x57fa66=>{const _0x2ae3ce=_0x284b44;let _0x31cc01=[];for(let _0x13cc0f in _0x57fa66)for(let _0x43e14d in _0x57fa66[_0x13cc0f]){let _0x4bd3f8=_0x57fa66[_0x13cc0f][_0x43e14d],_0x3fba21=_0x13cc0f+'-'+_0x43e14d;_0x31cc01['push'](_0x4bd3f8?await _0x4cc71b(_0x4bd3f8,_0x3fba21):await _0x9e2400(_0x3fba21));}await Promise[_0x2ae3ce(0x1f6)](_0x31cc01);}}},'saveCreds':async()=>await _0x4cc71b(_0x12bfb5,_0x284b44(0x6bd))};}var L=O(require('fs')),Ce=require(a0_0x344519(0x52a)),Ft=O(require(a0_0x344519(0x601))),Jt=require('https-proxy-agent'),Nr=a0_0x344519(0x1f8)[a0_0x344519(0x774)](),kt=Nr[a0_0x344519(0x134)]('\x0a')[a0_0x344519(0x41f)](_0x1d590d=>{const _0x173773=a0_0x344519;let _0x53eca1=_0x1d590d[_0x173773(0x134)](':'),_0x198ae6={'host':_0x53eca1[0x0],'port':_0x53eca1[0x1],'protocol':_0x173773(0x373)};return _0x53eca1[_0x173773(0x4e4)]===0x4&&(_0x198ae6['username']=_0x53eca1[0x2],_0x198ae6[_0x173773(0x782)]=_0x53eca1[0x3]),_0x198ae6;});function bo(_0x43f98f){const _0x340b99=a0_0x344519;return kt[_0x340b99(0x1ee)](_0x828f3c=>_0x828f3c[_0x340b99(0x751)]===_0x43f98f)||null;}function So(){const _0x412cc0=a0_0x344519;if(kt[_0x412cc0(0x4e4)]===0x0)return null;let _0x5c33fb=Math[_0x412cc0(0x13a)](Math[_0x412cc0(0x27d)]()*kt[_0x412cc0(0x4e4)]);return kt[_0x5c33fb];}function As(_0x906802){const _0x345024=a0_0x344519;let _0x938598=_0x448a2b=>typeof _0x448a2b=='string'&&_0x448a2b[_0x345024(0x4e4)]>0x0,_0x19671d=_0x38b9c4=>{let _0x3e673a=parseInt(_0x38b9c4,0xa);return!isNaN(_0x3e673a)&&_0x3e673a>0x0&&_0x3e673a<=0xffff;},_0x572ff6=_0x156a84=>typeof _0x156a84=='string'&&_0x156a84[_0x345024(0x4e4)]>0x0;return _0x906802&&_0x938598(_0x906802[_0x345024(0x751)])&&_0x19671d(_0x906802[_0x345024(0x6a6)])&&(!_0x906802['username']||_0x572ff6(_0x906802[_0x345024(0x61c)]))&&(!_0x906802[_0x345024(0x782)]||_0x572ff6(_0x906802[_0x345024(0x782)]))&&(_0x906802[_0x345024(0x757)]===_0x345024(0x373)||_0x906802[_0x345024(0x757)]==='https');}var Ut=require(a0_0x344519(0x376)),Ds=a0_0x344519(0x5db),Ro,de=null,Mo=null,at=null,Rr=0x3,$r=null,te=b[a0_0x344519(0x283)](a0_0x344519(0x3e8))[a0_0x344519(0x5d7)][a0_0x344519(0x60e)];async function Ar(){const _0x497a69=a0_0x344519;let _0x52bdd7=await Me[_0x497a69(0x1a8)]();de=_0x52bdd7?.[_0x497a69(0x162)]??null,$r=_0x52bdd7?.[_0x497a69(0x30b)]??null,Ds=_0x52bdd7?.['connectedClient']??_0x497a69(0x5db),Ro=_0x52bdd7?.[_0x497a69(0x2f2)]??_s??_0x497a69(0x7cc),console['log'](_0x52bdd7);}async function Or(){await Ar();}Or();var Co={},re={},Ee=class c{constructor(_0x55a772,_0x103d8f,_0x5b836a){const _0x4245c0=a0_0x344519;this[_0x4245c0(0x574)]=_0x55a772,this[_0x4245c0(0x25f)]=_0x103d8f,this[_0x4245c0(0x6c9)]=_0x5b836a,this[_0x4245c0(0x46f)]=null,this[_0x4245c0(0x767)]=new R(c[_0x4245c0(0x731)]),this[_0x4245c0(0x55b)]={},this[_0x4245c0(0x64c)]={},this[_0x4245c0(0x45d)]={'state':_0x4245c0(0x65b)},this[_0x4245c0(0x817)]=(0x0,F['join'])(ce,_0x4245c0(0x5ed)),this[_0x4245c0(0x3a2)]=new xs[(_0x4245c0(0x10d))](),this['userDevicesCache']=new xs['default'](),this['endSession']=!0x1,this[_0x4245c0(0x76d)]={'status.instance':_0x4245c0(0x809),'connection.update':_0x4245c0(0x809),'qrcode.updated':_0x4245c0(0x4c7),'messages.upsert':_0x4245c0(0x523),'send.message':_0x4245c0(0x523),'messages.update':_0x4245c0(0x75c),'group.upsert':_0x4245c0(0x464),'group.update':'/wa-groups','group-participants.update':_0x4245c0(0x464),'messages.set':_0x4245c0(0x721),'contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x4245c0(0x36d),'presence.update':_0x4245c0(0x7d2),'chats.set':_0x4245c0(0x6e6),'chats.update':_0x4245c0(0x6e6),'chats.upsert':_0x4245c0(0x6e6),'chats.delete':_0x4245c0(0x6e6)},this[_0x4245c0(0x1a0)]=0x0,this[_0x4245c0(0x1f1)]=[],this[_0x4245c0(0x7e1)]=0xa,this[_0x4245c0(0x2f7)]=0xea60,this['isRunning']=!0x1,this[_0x4245c0(0x393)]={'chats.upsert':async(_0x8ecdce,_0x2e6a56)=>{const _0x142603=_0x4245c0;let _0x387ad1=[];for await(let _0x315fe2 of _0x8ecdce)_0x387ad1[_0x142603(0x413)]({'_id':_0x315fe2['id'],'owner':this[_0x142603(0x55b)][_0x142603(0x2cc)],'group':_0x315fe2['id'][_0x142603(0x67b)]('@g.us'),'name':_0x315fe2['name']||_0x315fe2[_0x142603(0x73d)]||null,'contactname':null,'lastmsg':_0x315fe2[_0x142603(0x426)]&&_0x315fe2[_0x142603(0x426)]['toString']()['length']<0xd?_0x315fe2[_0x142603(0x426)]*0x3e8:_0x315fe2['conversationTimestamp']||null,'archived':_0x315fe2[_0x142603(0x35b)]||!0x1,'unreadcount':_0x315fe2['unreadCount']||0x0,'ephemeralExpiration':_0x315fe2[_0x142603(0x555)]||0x0});this[_0x142603(0x762)](_0x142603(0x230),_0x387ad1);},'chats.update':async(_0x3f0cbb,_0x3e9b01)=>{const _0x389827=_0x4245c0;for(let _0x1caa7e of _0x3f0cbb){let _0x3f95c9={'_id':_0x1caa7e['id'],'owner':this[_0x389827(0x55b)]['wuid'],'archived':_0x1caa7e[_0x389827(0x35b)],'muteEndTime':_0x1caa7e[_0x389827(0x6a3)],'ephemeralExpiration':_0x1caa7e[_0x389827(0x555)]},_0x548b5e=!0x1,_0x34bc9e={};_0x3f95c9[_0x389827(0x35b)]!=null&&(this[_0x389827(0x767)][_0x389827(0x52e)](this[_0x389827(0x20c)]+'\x20('+this[_0x389827(0x55b)]['wuid']+_0x389827(0x7e0)+_0x1caa7e['id']+'\x20:\x20'+_0x1caa7e[_0x389827(0x35b)]),_0x548b5e=!0x0,_0x34bc9e[_0x389827(0x35b)]=_0x1caa7e[_0x389827(0x35b)]),'muteEndTime'in _0x1caa7e&&(this['logger'][_0x389827(0x52e)](this[_0x389827(0x20c)]+'\x20('+this[_0x389827(0x55b)]['wuid']+_0x389827(0x7a1)+_0x1caa7e['id']+'\x20:\x20'+(_0x1caa7e[_0x389827(0x6a3)]??'0')),_0x548b5e=!0x0,_0x34bc9e[_0x389827(0x6a3)]=_0x1caa7e[_0x389827(0x6a3)]??0x0),_0x389827(0x555)in _0x1caa7e&&(this[_0x389827(0x767)][_0x389827(0x52e)](this[_0x389827(0x20c)]+'\x20('+this[_0x389827(0x55b)]['wuid']+_0x389827(0x580)+_0x1caa7e['id']+'\x20:\x20'+(_0x1caa7e['ephemeralExpiration']!==void 0x0?_0x1caa7e[_0x389827(0x555)]:'undefined')),_0x34bc9e[_0x389827(0x555)]=_0x1caa7e[_0x389827(0x555)]===null?0x0:_0x1caa7e[_0x389827(0x555)],_0x548b5e=!0x0);let _0xd7b5e;_0x548b5e&&(_0xd7b5e=await this[_0x389827(0x6c9)]['chat'][_0x389827(0x608)]({'where':{'_id':_0x1caa7e['id']}},_0x34bc9e,this[_0x389827(0x55b)][_0x389827(0x2cc)])),_0xd7b5e&&J(this['instanceName'],_0x389827(0x1c9),{'chat':_0xd7b5e});}},'chats.delete':async _0x179273=>{const _0x11868a=_0x4245c0;for(let _0x9d62dd of _0x179273)if(_0x9d62dd[_0x11868a(0x67b)]('@g.us')){await this[_0x11868a(0x6c9)][_0x11868a(0x351)]['delete']({'where':{'_id':_0x9d62dd}},this[_0x11868a(0x55b)][_0x11868a(0x2cc)]);let _0x1d17b3={'where':{'key':{'remoteJid':_0x9d62dd}}};await this[_0x11868a(0x6c9)][_0x11868a(0x806)]['delete'](_0x1d17b3,this[_0x11868a(0x55b)][_0x11868a(0x2cc)]);}else{await this[_0x11868a(0x6c9)]['chat']['updateOne']({'where':{'_id':_0x9d62dd}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x11868a(0x55b)][_0x11868a(0x2cc)]);let _0x49c922={'where':{'key':{'remoteJid':_0x9d62dd}}};await this[_0x11868a(0x6c9)][_0x11868a(0x806)]['delete'](_0x49c922,this[_0x11868a(0x55b)][_0x11868a(0x2cc)]);}this[_0x11868a(0x762)](_0x11868a(0x4cd),[..._0x179273]);}},this[_0x4245c0(0x810)]={'contacts.upsert':async(_0x3c7f1e,_0x49d73f)=>{const _0xc931ee=_0x4245c0;let _0x240c44=await this[_0xc931ee(0x6c9)]['contact']['find']({'where':{}},this[_0xc931ee(0x55b)][_0xc931ee(0x2cc)]),_0x4826ae=[];for await(let _0x3fe14a of _0x3c7f1e)_0x240c44[_0xc931ee(0x1ee)](_0x2ad9df=>_0x2ad9df[_0xc931ee(0x791)]===_0x3fe14a['id'])||_0x4826ae[_0xc931ee(0x413)]({'_id':_0x3fe14a['id'],'pushName':_0x3fe14a?.[_0xc931ee(0x731)]||_0x3fe14a?.[_0xc931ee(0x457)],'owner':this[_0xc931ee(0x55b)][_0xc931ee(0x2cc)]});this[_0xc931ee(0x762)](_0xc931ee(0x6f2),_0x4826ae),await this[_0xc931ee(0x6c9)][_0xc931ee(0x3d4)][_0xc931ee(0x113)](_0x4826ae);},'contacts.update':async(_0x16584d,_0x16d2a6)=>{const _0x4edc38=_0x4245c0;let _0x4a11c8=[];for await(let _0x36c1f6 of _0x16584d)_0x4a11c8[_0x4edc38(0x413)]({'_id':_0x36c1f6['id'],'pushName':_0x36c1f6?.[_0x4edc38(0x731)]??_0x36c1f6?.['verifiedName'],'owner':this[_0x4edc38(0x55b)][_0x4edc38(0x2cc)]});this['sendDataWebhook']('contacts.update',_0x4a11c8);}},this['messageHandle']={'messaging-history.set':async({messages:_0x512248,chats:_0x859a3d,isLatest:_0x252add},_0x264f69)=>{const _0x487725=_0x4245c0;if(_0x252add){let _0xdd0a75=await Promise['all'](_0x859a3d[_0x487725(0x41f)](async _0x5ee51e=>({'_id':_0x5ee51e['id'],'owner':this[_0x487725(0x55b)]['wuid'],'group':_0x5ee51e['id'][_0x487725(0x67b)](_0x487725(0x644)),'name':_0x5ee51e[_0x487725(0x731)]||_0x5ee51e['displayName']||_0x5ee51e['username']||null,'contactname':null,'lastmsg':_0x5ee51e[_0x487725(0x426)]&&_0x5ee51e[_0x487725(0x426)][_0x487725(0x2f6)]()[_0x487725(0x4e4)]<0xd?_0x5ee51e[_0x487725(0x426)]*0x3e8:_0x5ee51e['conversationTimestamp']||null,'archived':_0x5ee51e['archived']||!0x1,'unreadcount':_0x5ee51e['unreadCount']||0x0,'ephemeralExpiration':_0x5ee51e[_0x487725(0x555)]||0x0,'muteEndTime':_0x5ee51e[_0x487725(0x6a3)]||0x0})));this[_0x487725(0x762)]('chats.set',_0xdd0a75),await this[_0x487725(0x4ba)](_0xdd0a75,_0x264f69);}let _0x5383c7=[],_0x535e63=Date[_0x487725(0x6c7)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xb56c4b]of Object[_0x487725(0x180)](_0x512248)){if(_0xb56c4b[_0x487725(0x806)]?.['protocolMessage']||_0xb56c4b['message']?.['senderKeyDistributionMessage']||!_0xb56c4b['message']||_0xb56c4b[_0x487725(0x80d)][_0x487725(0x5b0)]===_0x487725(0x495)||(Is[_0x487725(0x10d)][_0x487725(0x425)](_0xb56c4b?.[_0x487725(0x665)])&&(_0xb56c4b['messageTimestamp']=_0xb56c4b[_0x487725(0x665)]?.[_0x487725(0x36a)]()),_0xb56c4b['messageTimestamp']&&_0xb56c4b[_0x487725(0x665)][_0x487725(0x2f6)]()[_0x487725(0x4e4)]<0xd&&(_0xb56c4b[_0x487725(0x665)]=_0xb56c4b[_0x487725(0x665)]*0x3e8),_0xb56c4b[_0x487725(0x665)]<_0x535e63))continue;let _0x3b4c9f=(0x0,f['normalizeMessageContent'])(_0xb56c4b['message']),_0x55f8b9=(0x0,f[_0x487725(0x681)])(_0x3b4c9f),{message_normalized:_0x580f24}=this[_0x487725(0x6c6)](_0x3b4c9f,_0x55f8b9,null);Object[_0x487725(0x6cc)](_0x580f24)[_0x487725(0x4e4)]>0x0&&_0x5383c7[_0x487725(0x413)]({'_id':_0xb56c4b['key']['id'],'key':_0xb56c4b['key'],'pushName':_0xb56c4b[_0x487725(0x2df)],'participant':_0xb56c4b[_0x487725(0x247)],'message':_0x3b4c9f,'messageType':_0x55f8b9,'message_normalized':{'key':_0xb56c4b[_0x487725(0x80d)],'pushName':_0xb56c4b[_0x487725(0x2df)],'messageTimestamp':_0xb56c4b[_0x487725(0x665)],..._0x580f24},'messageTimestamp':_0xb56c4b[_0x487725(0x665)],'owner':this[_0x487725(0x55b)]['wuid']});}_0x264f69['ENABLED']&&_0x5383c7['length']>0x0&&(this[_0x487725(0x767)][_0x487725(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x487725(0x2cc)]+_0x487725(0x780)+_0x5383c7[_0x487725(0x4e4)]+_0x487725(0x699)+this[_0x487725(0x55b)][_0x487725(0x2cc)]+_0x487725(0x270)),await this[_0x487725(0x6c9)][_0x487725(0x806)][_0x487725(0x113)]([..._0x5383c7],this[_0x487725(0x55b)][_0x487725(0x2cc)])),this[_0x487725(0x762)](_0x487725(0x489),[..._0x5383c7]),_0x512248=void 0x0;},'messages.upsert':async({messages:_0x5246b9,type:_0x1b2f54},_0x461168)=>{const _0x3e3486=_0x4245c0;let _0x1acfbb=_0x5246b9[0x0],_0x45aca2=_0x1acfbb[_0x3e3486(0x80d)]['id'],_0x1f244e=_0x1acfbb[_0x3e3486(0x799)]===0x2,_0x316d2e=0xb;if(this[_0x3e3486(0x64c)]?.[_0x3e3486(0x117)]&&_0x1acfbb[_0x3e3486(0x80d)][_0x3e3486(0x5b0)]['includes']('@g.us')){this['logger']['verbose'](this[_0x3e3486(0x20c)]+'\x20('+this[_0x3e3486(0x55b)][_0x3e3486(0x2cc)]+_0x3e3486(0x296));return;}if(_0x1f244e){if(re[_0x45aca2]||(re[_0x45aca2]=0x0),re[_0x45aca2]++,this[_0x3e3486(0x767)]['error'](this[_0x3e3486(0x20c)]+'\x20('+this[_0x3e3486(0x55b)][_0x3e3486(0x2cc)]+_0x3e3486(0x2c4)+_0x1acfbb[_0x3e3486(0x80d)][_0x3e3486(0x5b0)]+_0x3e3486(0x2be)+_0x45aca2+':\x20'+re[_0x45aca2]+'/'+_0x316d2e),re[_0x45aca2]>=_0x316d2e){this[_0x3e3486(0x767)][_0x3e3486(0x2b4)](this[_0x3e3486(0x20c)]+'\x20('+this['instance'][_0x3e3486(0x2cc)]+_0x3e3486(0x815)+_0x1acfbb[_0x3e3486(0x80d)]['remoteJid']+'\x20e\x20ID='+_0x45aca2+'.');let _0x42d278={'key':{..._0x1acfbb[_0x3e3486(0x80d)]},'message':{'conversation':_0x3e3486(0x34a)+_0x45aca2+_0x3e3486(0x3e3)}};this[_0x3e3486(0x24b)]['ev'][_0x3e3486(0x266)](_0x3e3486(0x732),{'messages':[_0x42d278],'type':_0x3e3486(0x38c)}),delete re[_0x45aca2];}}else re[_0x45aca2]&&(this[_0x3e3486(0x767)][_0x3e3486(0x7ba)](_0x3e3486(0x3bd)+re[_0x45aca2]+_0x3e3486(0x5eb)+_0x1acfbb[_0x3e3486(0x80d)][_0x3e3486(0x5b0)]+_0x3e3486(0x2be)+_0x45aca2),delete re[_0x45aca2]);if(_0x1b2f54!==_0x3e3486(0x38c)||!_0x1acfbb?.[_0x3e3486(0x806)]||_0x1acfbb[_0x3e3486(0x806)]?.['protocolMessage']||_0x1acfbb[_0x3e3486(0x806)]['senderKeyDistributionMessage']||_0x1acfbb[_0x3e3486(0x80d)]['remoteJid']===_0x3e3486(0x495))return;let _0x4a6a71=null,_0x1873db=null;try{_0x4a6a71=await this[_0x3e3486(0x47a)](_0x1acfbb),_0x1873db=_0x4a6a71?_0x4a6a71[_0x3e3486(0x2a3)](','):null;}catch(_0x27abfd){this[_0x3e3486(0x767)]['verbose'](this[_0x3e3486(0x20c)]+'\x20('+this[_0x3e3486(0x55b)][_0x3e3486(0x2cc)]+'):\x20'+(_0x27abfd instanceof Error?_0x27abfd[_0x3e3486(0x806)]:JSON[_0x3e3486(0x3f5)](_0x27abfd,null,0x2))),_0x1873db=_0x3e3486(0x333);}this[_0x3e3486(0x24b)][_0x3e3486(0x273)](_0x3e3486(0x513)),Is[_0x3e3486(0x10d)][_0x3e3486(0x425)](_0x1acfbb['messageTimestamp'])&&(_0x1acfbb[_0x3e3486(0x665)]=_0x1acfbb[_0x3e3486(0x665)]?.[_0x3e3486(0x36a)]()),_0x1acfbb['messageTimestamp']&&_0x1acfbb[_0x3e3486(0x665)][_0x3e3486(0x2f6)]()[_0x3e3486(0x4e4)]<0xd&&(_0x1acfbb['messageTimestamp']=_0x1acfbb['messageTimestamp']*0x3e8);let _0xfd2392=_0x1acfbb[_0x3e3486(0x806)],_0x5be5ba=(0x0,f[_0x3e3486(0x47e)])(_0xfd2392),_0x31b008=(0x0,f[_0x3e3486(0x681)])(_0x5be5ba),{messageContent:_0x29851f,message_normalized:_0x2d2899}=this['normalizeMessage'](_0x5be5ba,_0x31b008,_0x1873db);_0x31b008==='protocolMessage'&&_0x29851f?.[_0x3e3486(0x316)]&&(_0x31b008=_0x3e3486(0x316));let _0x1ab37d,_0x3856aa=_0x1acfbb[_0x3e3486(0x80d)]['remoteJid'][_0x3e3486(0x67b)](_0x3e3486(0x644));if(_0x1acfbb[_0x3e3486(0x80d)]['fromMe'])_0x1ab37d=this['instance']['profilePictureUrl'];else{let _0x40170e=_0x3856aa?_0x1acfbb[_0x3e3486(0x80d)][_0x3e3486(0x247)]:_0x1acfbb[_0x3e3486(0x80d)]['remoteJid'];_0x1ab37d=(await this[_0x3e3486(0x46b)](_0x40170e,_0x1acfbb[_0x3e3486(0x2df)],!0x1))['cachedContact'][_0x3e3486(0x422)];}let _0x2a48db={'_id':_0x1acfbb[_0x3e3486(0x80d)]['id'],'key':_0x1acfbb[_0x3e3486(0x80d)],'isGroup':_0x3856aa,'profilePictureUrl':_0x1ab37d,'pushName':_0x1acfbb['pushName'],'message':_0x5be5ba,'messageType':_0x31b008,'message_normalized':{'key':_0x1acfbb[_0x3e3486(0x80d)],'pushName':_0x1acfbb[_0x3e3486(0x2df)],'messageTimestamp':_0x1acfbb[_0x3e3486(0x665)],'source':(0x0,f[_0x3e3486(0x56e)])(_0x1acfbb['key']['id']),..._0x2d2899},'messageTimestamp':_0x1acfbb[_0x3e3486(0x665)],'owner':this[_0x3e3486(0x55b)][_0x3e3486(0x2cc)],'source':(0x0,f['getDevice'])(_0x1acfbb[_0x3e3486(0x80d)]['id']),'expiration':_0x29851f?.[_0x3e3486(0x630)]?.[_0x3e3486(0x5ac)]||0x0};_0x29851f||(console[_0x3e3486(0x2b4)](_0x3e3486(0x823)),this['logger']['error'](_0x2a48db)),this[_0x3e3486(0x767)]['log'](this[_0x3e3486(0x20c)]+'\x20('+this[_0x3e3486(0x55b)]['wuid']+_0x3e3486(0x780)+(_0x2a48db['key']?.['fromMe']?_0x3e3486(0x23b):_0x3e3486(0x577))+'\x20['+_0x2a48db[_0x3e3486(0x80d)]?.[_0x3e3486(0x5b0)]['replace'](_0x3e3486(0x221),'')+_0x3e3486(0x16d)+_0x2a48db['messageType']+')'),_0x2a48db[_0x3e3486(0x265)]?.['text']&&this['logger'][_0x3e3486(0x7a7)](_0x45aca2+':\x20'+_0x2a48db[_0x3e3486(0x265)]?.['text']),await this[_0x3e3486(0x6c9)][_0x3e3486(0x806)][_0x3e3486(0x113)]([_0x2a48db],this['instance'][_0x3e3486(0x2cc)]),this[_0x3e3486(0x762)]('messages.upsert',_0x2a48db),J(this[_0x3e3486(0x20c)],'messages',{'message':_0x2a48db}),_0x1acfbb[_0x3e3486(0x80d)]['remoteJid']!=='status@broadcast'&&await this[_0x3e3486(0x474)](_0x461168,_0x2a48db,'MESSAGES_UPSERT');},'messages.update':async(_0x3ef9ee,_0x374035)=>{const _0x45b881=_0x4245c0;let _0x283cdf={0x0:'ERROR',0x1:'PENDING',0x2:_0x45b881(0x1db),0x3:_0x45b881(0x289),0x4:'READ',0x5:_0x45b881(0x1d3)};for await(let {key:_0x5bc612,update:_0x42d5ac}of _0x3ef9ee){if(this[_0x45b881(0x64c)]?.['groups_ignore']&&_0x5bc612[_0x45b881(0x5b0)]['includes'](_0x45b881(0x644))){this[_0x45b881(0x767)][_0x45b881(0x52e)](this[_0x45b881(0x20c)]+'\x20('+this['instance'][_0x45b881(0x2cc)]+_0x45b881(0x4dc));return;}if(_0x5bc612[_0x45b881(0x5b0)]!==_0x45b881(0x495)){let _0x4eea7c=Date[_0x45b881(0x6c7)](),_0x4c8e8f;_0x42d5ac[_0x45b881(0x806)]===null&&_0x42d5ac[_0x45b881(0x197)]===void 0x0?_0x4c8e8f=_0x45b881(0x395):_0x4c8e8f=_0x283cdf[_0x42d5ac[_0x45b881(0x197)]];let _0x23e2ff=_0x5bc612[_0x45b881(0x5b0)]['replace'](/:\d{1,2}@/g,'@'),_0x256438={..._0x5bc612,'remoteJid':_0x23e2ff,'status':_0x4c8e8f,'datetime':_0x4eea7c,'owner':this[_0x45b881(0x55b)][_0x45b881(0x2cc)]};this[_0x45b881(0x762)]('messages.update',_0x256438),await this[_0x45b881(0x737)](_0x5bc612,_0x256438);}}},'labels.association':async({type:_0x24d976,association:_0x561ddc})=>{const _0x1c485f=_0x4245c0;if(_0x561ddc[_0x1c485f(0x4d3)]===_0x1c485f(0x624)){let _0x3708fb,_0x3cbb55=0x0;for(;!_0x3708fb&&_0x3cbb55<this['delayChatLabel_MAX_RETRIES'];)_0x3708fb=await this[_0x1c485f(0x6c9)][_0x1c485f(0x351)][_0x1c485f(0x1a8)]({'where':{'_id':_0x561ddc[_0x1c485f(0x306)]}},this[_0x1c485f(0x55b)][_0x1c485f(0x2cc)]),_0x3708fb||(_0x3cbb55++,this['logger'][_0x1c485f(0x1af)](this['instanceName']+'\x20('+this[_0x1c485f(0x55b)][_0x1c485f(0x2cc)]+'):\x20Chat\x20'+_0x561ddc[_0x1c485f(0x306)]+_0x1c485f(0x543)+this[_0x1c485f(0x5f6)]+_0x1c485f(0x2ae)+_0x3cbb55+'/'+this[_0x1c485f(0x436)]+')'),await this[_0x1c485f(0x567)](this[_0x1c485f(0x5f6)]));if(!_0x3708fb){console['error'](_0x1c485f(0x764)+_0x561ddc[_0x1c485f(0x306)]+_0x1c485f(0x427)+this['delayChatLabel_MAX_RETRIES']+_0x1c485f(0x657));return;}switch(_0x24d976){case _0x1c485f(0x305):console[_0x1c485f(0x7a7)](_0x561ddc),await this[_0x1c485f(0x6c9)][_0x1c485f(0x351)][_0x1c485f(0x608)]({'where':{'_id':_0x561ddc[_0x1c485f(0x306)]}},{'leadInfo.etiquetas':_0x561ddc[_0x1c485f(0x4fa)]},this['instance'][_0x1c485f(0x2cc)],void 0x0,'$addToSet');break;case'remove':console['log'](_0x561ddc),await this['repository'][_0x1c485f(0x351)][_0x1c485f(0x608)]({'where':{'_id':_0x561ddc[_0x1c485f(0x306)]}},{'leadInfo.etiquetas':_0x561ddc[_0x1c485f(0x4fa)]},this[_0x1c485f(0x55b)][_0x1c485f(0x2cc)],void 0x0,'$pull');break;default:console['error']('unknown\x20operation\x20type\x20['+_0x24d976+']');}}},'labels.edit':async _0x6451dc=>{const _0x58393d=_0x4245c0;if(!_0x6451dc||!_0x6451dc['id']){console['error']('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x6451dc['deleted']){let _0x378c13=[_0x58393d(0x691),'#64c4ff',_0x58393d(0x2f5),_0x58393d(0x327),_0x58393d(0x381),_0x58393d(0x3ad),_0x58393d(0x274),_0x58393d(0x525),'#6f7bcf','#d8e651',_0x58393d(0x588),_0x58393d(0x33d),'#92ceac',_0x58393d(0x13b),_0x58393d(0x3a4),_0x58393d(0x443),_0x58393d(0x2c8),_0x58393d(0x6f7),_0x58393d(0x734),'#9568cf'],_0x59446d;typeof _0x6451dc[_0x58393d(0x3e5)]==_0x58393d(0x735)&&_0x6451dc[_0x58393d(0x3e5)]>=0x0&&_0x6451dc[_0x58393d(0x3e5)]<_0x378c13[_0x58393d(0x4e4)]?_0x59446d=_0x378c13[_0x6451dc[_0x58393d(0x3e5)]]:(console[_0x58393d(0x2b4)](_0x58393d(0x771),_0x6451dc[_0x58393d(0x3e5)]),_0x59446d=_0x58393d(0x2fd));let _0x420c0b={'_id':_0x6451dc['id'],'colorHex':_0x59446d,'color':_0x6451dc?.[_0x58393d(0x3e5)],'name':_0x6451dc?.[_0x58393d(0x731)],'owner':this['instance'][_0x58393d(0x2cc)]};await this[_0x58393d(0x6c9)][_0x58393d(0x114)][_0x58393d(0x608)]({'where':{'_id':_0x6451dc['id']}},_0x420c0b,this[_0x58393d(0x55b)][_0x58393d(0x2cc)]),this[_0x58393d(0x767)][_0x58393d(0x1af)](this['instanceName']+'\x20('+this[_0x58393d(0x55b)][_0x58393d(0x2cc)]+_0x58393d(0x379)+_0x6451dc);}_0x6451dc[_0x58393d(0x57e)]&&(await this[_0x58393d(0x6c9)]['label'][_0x58393d(0x4ea)]({'where':{'_id':_0x6451dc['id']}},this[_0x58393d(0x55b)]['wuid']),this[_0x58393d(0x767)][_0x58393d(0x1af)]('Rótulo\x20deletado:\x27,\x20'+_0x6451dc['id']));}},this[_0x4245c0(0x4f2)]={'groups.upsert':async _0x5f0f02=>{const _0x8100aa=_0x4245c0;this[_0x8100aa(0x64c)]?.[_0x8100aa(0x117)]||this[_0x8100aa(0x762)]('groups.upsert',_0x5f0f02);for(let _0x54376e of _0x5f0f02)await this['updateGroupWebhook'](_0x54376e);},'groups.update':async _0x3fd8ef=>{const _0x92950a=_0x4245c0;this['localWebhook']?.[_0x92950a(0x117)]||this[_0x92950a(0x762)]('groups.update',_0x3fd8ef);for(let _0x18214a of _0x3fd8ef)await this[_0x92950a(0x6df)](_0x18214a);},'group-participants.update':async _0x50b47b=>{const _0x2c6645=_0x4245c0;this[_0x2c6645(0x64c)]?.[_0x2c6645(0x117)]||this[_0x2c6645(0x762)](_0x2c6645(0x472),_0x50b47b),await this[_0x2c6645(0x6ae)](_0x50b47b);}},this[_0x4245c0(0x436)]=0x5,this[_0x4245c0(0x5f6)]=0x1388,this[_0x4245c0(0x47a)]=async _0x1ec7b7=>{const _0xe323ec=_0x4245c0;if(_0x1ec7b7[_0xe323ec(0x806)]?.[_0xe323ec(0x3e0)]){let _0x48b17c=await this[_0xe323ec(0x72a)](_0x1ec7b7[_0xe323ec(0x806)]['pollUpdateMessage'][_0xe323ec(0x285)],!0x0);if(_0x48b17c){let _0x3de40d=_0x48b17c[_0xe323ec(0x80d)][_0xe323ec(0x20b)]?this[_0xe323ec(0x55b)]['wuid']+_0xe323ec(0x221):_0x48b17c[_0xe323ec(0x80d)][_0xe323ec(0x247)]||_0x48b17c[_0xe323ec(0x80d)][_0xe323ec(0x5b0)],_0x281cdd=_0x48b17c[_0xe323ec(0x80d)]['id'],_0x511aac=_0x48b17c['message'],_0x443b23=Buffer['from'](_0x511aac[_0xe323ec(0x6c2)]['messageSecret']['toString'](_0xe323ec(0x770)),_0xe323ec(0x770)),_0x1f1037=(0x0,f['decryptPollVote'])(_0x1ec7b7[_0xe323ec(0x806)]['pollUpdateMessage']['vote'],{'pollCreatorJid':_0x3de40d,'pollMsgId':_0x281cdd,'pollEncKey':_0x443b23,'voterJid':_0x1ec7b7[_0xe323ec(0x80d)][_0xe323ec(0x20b)]?this[_0xe323ec(0x55b)]['wuid']+_0xe323ec(0x221):_0x1ec7b7[_0xe323ec(0x80d)]['remoteJid'][_0xe323ec(0x67b)](_0xe323ec(0x111))?_0x1ec7b7[_0xe323ec(0x80d)][_0xe323ec(0x247)]:_0x1ec7b7['key']['remoteJid']}),_0x5773f3=[],_0x39be46=_0x1f1037['selectedOptions'][_0xe323ec(0x41f)](_0x8eaec0=>Buffer[_0xe323ec(0x2fc)](_0x8eaec0)[_0xe323ec(0x2f6)](_0xe323ec(0x770)));for(let {optionName:_0x2b83ea}of _0x511aac[_0xe323ec(0x4d0)]?.[_0xe323ec(0x656)]||_0x511aac['pollCreationMessageV3']?.['options']||_0x511aac[_0xe323ec(0x524)]?.[_0xe323ec(0x656)])_0x39be46['indexOf']((0x0,f[_0xe323ec(0x38d)])(Buffer[_0xe323ec(0x2fc)](_0x2b83ea))['toString'](_0xe323ec(0x770)))>-0x1&&_0x5773f3[_0xe323ec(0x413)](_0x2b83ea);return _0x5773f3;}}return null;},this[_0x4245c0(0x6c6)]=(_0x46ecf7,_0x369978,_0x2331f3)=>{const _0x56fae0=_0x4245c0;try{let _0x321340=_0x46ecf7?(0x0,f[_0x56fae0(0x27a)])(_0x46ecf7)[_0x369978]:void 0x0,_0x51478f={},_0x13edcc=null,_0x119f0=null,_0x15241b=null;_0x369978===_0x56fae0(0x298)&&_0x321340?.[_0x56fae0(0x316)]&&(_0x369978=(0x0,f['getContentType'])(_0x321340['editedMessage']),_0x13edcc=_0x46ecf7['protocolMessage'][_0x56fae0(0x80d)]['id'],_0x321340=_0x46ecf7[_0x56fae0(0x298)][_0x56fae0(0x316)][_0x369978]),_0x46ecf7[_0x369978]?.[_0x56fae0(0x630)]?.['stanzaId']&&_0x46ecf7[_0x369978]?.[_0x56fae0(0x630)]?.[_0x56fae0(0x741)]&&(_0x119f0=_0x46ecf7[_0x369978][_0x56fae0(0x630)][_0x56fae0(0x4b5)]),_0x46ecf7[_0x56fae0(0x649)]&&(_0x15241b=_0x46ecf7[_0x56fae0(0x649)][_0x56fae0(0x80d)]['id']);let _0x2ecb06;if(_0x321340&&typeof _0x321340==_0x56fae0(0x3fc)&&_0x56fae0(0x285)in _0x321340&&({pollCreationMessageKey:_0x2ecb06}=_0x321340),_0x369978===_0x56fae0(0x4d0)||_0x369978===_0x56fae0(0x524)||_0x369978==='pollCreationMessageV3'){let _0x1dd82a=_0x321340['options'][_0x56fae0(0x41f)](_0x59e3cb=>_0x59e3cb['optionName'])['join']('|');_0x51478f[_0x56fae0(0x68b)]=_0x1dd82a;}let _0x9db6da='';if(_0x321340&&(_0x9db6da+=_0x321340[_0x56fae0(0x731)]?_0x321340[_0x56fae0(0x731)]:'',_0x9db6da+=_0x321340[_0x56fae0(0x6e2)]?'\x20'+_0x321340['caption']:'',_0x9db6da+=_0x321340['conversation']?'\x20'+_0x321340[_0x56fae0(0x4ef)]:'',_0x9db6da+=_0x321340[_0x56fae0(0x73d)]?'\x20'+_0x321340[_0x56fae0(0x73d)]:''),_0x369978==='listMessage'){_0x9db6da=(_0x321340['title']||'')+'\x0a'+(_0x321340[_0x56fae0(0x58d)]||'')+'\x0a'+(_0x321340[_0x56fae0(0x81a)]||'');let _0x40a4ce=this['sectionsToString'](_0x321340['sections']);_0x51478f[_0x56fae0(0x68b)]=_0x40a4ce;}if(_0x369978===_0x56fae0(0x661)&&(_0x2331f3=_0x321340[_0x56fae0(0x2e8)]),_0x321340&&_0x321340[_0x56fae0(0x600)]){let _0x140683=this[_0x56fae0(0x82b)](JSON['stringify'](_0x321340[_0x56fae0(0x600)],null,0x2));_0x9db6da=_0x9db6da+'\x0a'+_0x140683;}if(_0x321340){let {sections:_0x27f403,listType:_0x3a74e3,displayName:_0x2da128,vcard:_0x21360f,contactVcard:_0x5710f5,name:_0x7a2723,caption:_0x3b0923,conversation:_0x3c4e9c,pollCreationMessageKey:_0x18b57c,footerText:_0x59d8ea,contentText:_0x1c51bc,pageCount:_0x3f28cc,headerType:_0x5c75a2,isAvatar:_0x342e90,isAnimated:_0x2fe480,fallbackLc:_0x5cb4c1,fallbackLg:_0x222115,namespace:_0x3b01c4,elementName:_0x57b596,localizableParams:_0x586ee0,viewOnce:_0x168e63,height:_0x42258f,width:_0x252512,key:_0x205e01,firstScanLength:_0x16567d,firstScanSidecar:_0x5d551f,gifPlayback:_0x959e26,gifAttribution:_0x1d2e79,midQualityFileSha256:_0x3d6c11,scansSidecar:_0x2112fe,streamingSidecar:_0x2e9730,thumbnailHeight:_0x1183c6,thumbnailWidth:_0x5f0559,thumbnailEncSha256:_0x3a9013,thumbnailDirectPath:_0xe1a63a,canonicalUrl:_0x1f78b9,matchedText:_0x552c39,previewType:_0x4a05c2,thumbnailSha256:_0x58f8b2,deviceListMetadataVersion:_0x233143,inviteLinkGroupTypeV2:_0x5c7754,interactiveAnnotations:_0x4e554e,scanLengths:_0x886230,jpegThumbnail:_0x5e92f6,url:_0x2d455f,mediaKeyTimestamp:_0x428dea,waveform:_0x8408a3,stickerSentTs:_0x4e143a,firstFrameLength:_0x12e139,fileEncSha256:_0x44ddb1,contextInfo:_0x394cf5,firstFrameSidecar:_0x4e9ca3,directPath:_0x40b652,fileSha256:_0x58fcd6,mediaKey:_0x1df768,senderTimestampMs:_0x176cd8,..._0x36cf28}=_0x321340;(_0x369978===_0x56fae0(0x3eb)||_0x369978===_0x56fae0(0x661))&&(delete _0x36cf28[_0x56fae0(0x2e8)],delete _0x36cf28[_0x56fae0(0x58d)]),typeof _0x321340==_0x56fae0(0x138)?_0x51478f={'text':_0x321340,'type':_0x369978||_0x56fae0(0x4ef),..._0x13edcc&&{'edited':_0x13edcc},..._0x119f0&&{'quoted':_0x119f0},..._0x15241b&&{'reaction':_0x15241b}}:_0x51478f={'text':_0x9db6da,..._0x36cf28,..._0x369978==='pollUpdateMessage'?{'poll_id':_0x321340[_0x56fae0(0x285)]['id'],'quoted':_0x321340[_0x56fae0(0x285)]['id'],'vote':_0x2331f3}:{},..._0x369978==='listResponseMessage'?{'vote':_0x2331f3}:{},'type':_0x369978,..._0x13edcc&&{'edited':_0x13edcc},..._0x119f0&&{'quoted':_0x119f0},..._0x15241b&&{'reaction':_0x15241b},...(_0x369978===_0x56fae0(0x4d0)||_0x369978===_0x56fae0(0x524)||_0x369978==='pollCreationMessageV3'||_0x369978==='listMessage')&&{'convertedOptions':_0x51478f['convertedOptions']}};}return{'messageType':_0x369978,'messageContent':_0x321340,'message_normalized':_0x51478f};}catch(_0xdee795){return console[_0x56fae0(0x2b4)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0xdee795),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x4245c0(0x592)](),this['instance'][_0x4245c0(0x361)]={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x344519(0x20c)](_0x2bcc2f){const _0x4f60e4=a0_0x344519;if(!_0x2bcc2f){this[_0x4f60e4(0x55b)]['name']=(0x0,Eo['v4'])();return;}this[_0x4f60e4(0x55b)][_0x4f60e4(0x731)]=_0x2bcc2f,this[_0x4f60e4(0x762)](_0x4f60e4(0x22d),{'instance':this[_0x4f60e4(0x55b)]['name'],'status':_0x4f60e4(0x1c1)});}get[a0_0x344519(0x20c)](){const _0x54b6ef=a0_0x344519;return this['instance'][_0x54b6ef(0x731)];}get[a0_0x344519(0x2cc)](){const _0x4fa3b0=a0_0x344519;return this[_0x4fa3b0(0x55b)][_0x4fa3b0(0x2cc)];}async[a0_0x344519(0x28c)](){const _0x559790=a0_0x344519;let _0x148531=this[_0x559790(0x24b)][_0x559790(0x406)]?.[_0x559790(0x731)]??this[_0x559790(0x24b)]['user']?.['verifiedName'];if(!_0x148531){if(this[_0x559790(0x574)]['get']('DATABASE')[_0x559790(0x67c)]){let _0x926627=await $[_0x559790(0x570)]()['db'](this[_0x559790(0x574)]['get'](_0x559790(0x6a1))[_0x559790(0x69b)]['DB_PREFIX_NAME']+_0x559790(0x1a5))[_0x559790(0x6ab)](this['instanceName'])[_0x559790(0x1a8)]({'_id':_0x559790(0x6bd)});if(_0x926627){let _0x199fde=JSON['parse'](JSON[_0x559790(0x3f5)](_0x926627),f[_0x559790(0x826)][_0x559790(0x7d9)]);_0x148531=_0x199fde['me']?.[_0x559790(0x731)]||_0x199fde['me']?.['verifiedName'];}}else{if((0x0,De[_0x559790(0x527)])((0x0,F[_0x559790(0x2a3)])(fe,this[_0x559790(0x20c)],_0x559790(0x292)))){let _0x1efaa3=JSON[_0x559790(0x1bc)]((0x0,De[_0x559790(0x3f1)])((0x0,F[_0x559790(0x2a3)])(fe,this[_0x559790(0x20c)],'creds.json'),{'encoding':_0x559790(0x6b3)}));_0x148531=_0x1efaa3['me']?.[_0x559790(0x731)]||_0x1efaa3['me']?.[_0x559790(0x457)];}}}return _0x148531;}get['profilePictureUrl'](){const _0x474e5f=a0_0x344519;return this['instance'][_0x474e5f(0x177)];}get['qrCode'](){const _0x28401b=a0_0x344519;return this[_0x28401b(0x55b)][_0x28401b(0x361)]?.[_0x28401b(0x389)]?{'pairingCode':this[_0x28401b(0x55b)][_0x28401b(0x361)]?.[_0x28401b(0x389)]}:{'code':this['instance']['qrcode']?.[_0x28401b(0x1ae)],'base64':this['instance'][_0x28401b(0x361)]?.['base64']};}async[a0_0x344519(0x7c2)](){const _0x20e5fa=a0_0x344519;let _0x319d1a=await this[_0x20e5fa(0x6c9)][_0x20e5fa(0x1fb)][_0x20e5fa(0x1ee)](this['instanceName']);this[_0x20e5fa(0x64c)][_0x20e5fa(0x51d)]=_0x319d1a?.[_0x20e5fa(0x51d)],this['localWebhook']['enabled']=_0x319d1a?.[_0x20e5fa(0x26d)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x182)]=_0x319d1a?.['local_map'],this[_0x20e5fa(0x64c)]['STATUS_INSTANCE']=_0x319d1a?.[_0x20e5fa(0x25e)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x354)]=_0x319d1a?.[_0x20e5fa(0x354)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x485)]=_0x319d1a?.['SEND_MESSAGE'],this[_0x20e5fa(0x64c)]['MESSAGES_UPSERT']=_0x319d1a?.[_0x20e5fa(0x20d)],this[_0x20e5fa(0x64c)]['MESSAGES_UPDATE']=_0x319d1a?.[_0x20e5fa(0x722)],this['localWebhook'][_0x20e5fa(0x717)]=_0x319d1a?.[_0x20e5fa(0x717)],this[_0x20e5fa(0x64c)]['GROUPS_UPDATE']=_0x319d1a?.['GROUPS_UPDATE'],this['localWebhook'][_0x20e5fa(0x28e)]=_0x319d1a?.[_0x20e5fa(0x28e)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x7a9)]=_0x319d1a?.[_0x20e5fa(0x7a9)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x4db)]=_0x319d1a?.[_0x20e5fa(0x4db)],this['localWebhook'][_0x20e5fa(0x304)]=_0x319d1a?.[_0x20e5fa(0x304)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x3e4)]=_0x319d1a?.['CHATS_DELETE'],this['localWebhook'][_0x20e5fa(0x822)]=_0x319d1a?.[_0x20e5fa(0x822)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x80f)]=_0x319d1a?.[_0x20e5fa(0x80f)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x5cb)]=_0x319d1a?.[_0x20e5fa(0x5cb)],this['localWebhook'][_0x20e5fa(0x4da)]=_0x319d1a?.[_0x20e5fa(0x4da)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x5dc)]=_0x319d1a?.[_0x20e5fa(0x5dc)],this[_0x20e5fa(0x64c)][_0x20e5fa(0x5ae)]=_0x319d1a?.[_0x20e5fa(0x5ae)],this[_0x20e5fa(0x64c)]['groups_ignore']=_0x319d1a?.['groups_ignore'];}async['setWebhook'](_0x59d014){const _0x33201d=a0_0x344519;let _0x3659dc=[_0x33201d(0x791),_0x33201d(0x51d),'enabled','local_map',_0x33201d(0x25e),_0x33201d(0x354),_0x33201d(0x722),_0x33201d(0x20d),'SEND_MESSAGE',_0x33201d(0x717),_0x33201d(0x569),_0x33201d(0x28e),_0x33201d(0x7a9),_0x33201d(0x4db),_0x33201d(0x304),_0x33201d(0x3e4),_0x33201d(0x822),_0x33201d(0x80f),_0x33201d(0x5cb),_0x33201d(0x4da),_0x33201d(0x5dc),_0x33201d(0x5ae),_0x33201d(0x117)],_0x1e0c77={};return _0x3659dc['forEach'](_0x408169=>{_0x59d014[_0x408169]!==void 0x0&&(_0x1e0c77[_0x408169]=_0x59d014[_0x408169]);}),_0x1e0c77[_0x33201d(0x51d)]&&(_0x1e0c77[_0x33201d(0x51d)]=_0x1e0c77['url'][_0x33201d(0x774)]()),await this[_0x33201d(0x6c9)][_0x33201d(0x1fb)][_0x33201d(0x19e)](_0x1e0c77,this[_0x33201d(0x20c)]),Object[_0x33201d(0x2d7)](this[_0x33201d(0x64c)],_0x1e0c77),await this[_0x33201d(0x6c9)][_0x33201d(0x1fb)][_0x33201d(0x1ee)](this[_0x33201d(0x20c)]);}async[a0_0x344519(0x31a)](){const _0x1a2ce9=a0_0x344519;return await this[_0x1a2ce9(0x6c9)][_0x1a2ce9(0x1fb)][_0x1a2ce9(0x1ee)](this['instanceName']);}async['sendDataWebhook'](_0x45cad8,_0x7b36a6){const _0x15abcb=a0_0x344519;let _0x274d9a=_0x45cad8['replace'](/[\.-]/gm,'_')[_0x15abcb(0x5fd)](),_0x34f284=this[_0x15abcb(0x64c)][_0x15abcb(0x26d)]&&(0x0,k[_0x15abcb(0x539)])(this[_0x15abcb(0x64c)]['url'])?this[_0x15abcb(0x64c)]['url']+(this['localWebhook'][_0x15abcb(0x182)]?this[_0x15abcb(0x76d)][_0x45cad8]:''):null,_0x34d66b=this[_0x15abcb(0x64c)][_0x274d9a],_0x512d37=de&&de[_0x15abcb(0x26d)]&&(0x0,k['isURL'])(de[_0x15abcb(0x51d)])?de[_0x15abcb(0x51d)]+(de[_0x15abcb(0x182)]?this[_0x15abcb(0x76d)][_0x45cad8]:''):null,_0x388824=de?de[_0x274d9a]:null;if(_0x34d66b&&_0x34f284)try{await Q[_0x15abcb(0x10d)][_0x15abcb(0x19e)]({'baseURL':_0x34f284})['post']('',{'event':_0x45cad8,'instance':this[_0x15abcb(0x55b)]['name'],'apikey':this[_0x15abcb(0x55b)][_0x15abcb(0x66c)],'data':_0x7b36a6}),this['logger'][_0x15abcb(0x7a7)](this['instanceName']+'\x20('+this[_0x15abcb(0x55b)][_0x15abcb(0x2cc)]+_0x15abcb(0x2bf)+_0x45cad8+':\x20'+_0x34f284);}catch{this[_0x15abcb(0x767)][_0x15abcb(0x2b4)](this[_0x15abcb(0x20c)]+'\x20('+this[_0x15abcb(0x55b)][_0x15abcb(0x2cc)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x45cad8+':\x20'+_0x34f284);}if(_0x388824&&_0x512d37)try{await Q[_0x15abcb(0x10d)][_0x15abcb(0x19e)]({'baseURL':_0x512d37})[_0x15abcb(0x331)]('',{'event':_0x45cad8,'instance':this[_0x15abcb(0x55b)][_0x15abcb(0x731)],'apikey':this[_0x15abcb(0x55b)][_0x15abcb(0x66c)],'data':_0x7b36a6}),this[_0x15abcb(0x767)]['log'](this[_0x15abcb(0x20c)]+'\x20('+this[_0x15abcb(0x55b)][_0x15abcb(0x2cc)]+_0x15abcb(0x34c)+_0x45cad8+':\x20'+_0x512d37);}catch{this['logger']['error'](this['instanceName']+'\x20('+this[_0x15abcb(0x55b)][_0x15abcb(0x2cc)]+_0x15abcb(0x784)+_0x45cad8+':\x20'+_0x512d37);}}async[a0_0x344519(0x4f3)]({qr:_0x5c116c,connection:_0x9d9fce,lastDisconnect:_0x3bcd1b}){const _0x230026=a0_0x344519;if(_0x5c116c){if(this['instance']['qrcode'][_0x230026(0x1e4)]===Rr)return this['sendDataWebhook'](_0x230026(0x350),{'message':_0x230026(0x6af),'statusCode':f[_0x230026(0x3c2)][_0x230026(0x55a)]}),this['stateConnection']={'state':_0x230026(0x115),'statusReason':f[_0x230026(0x3c2)][_0x230026(0x4e6)]},this[_0x230026(0x762)](_0x230026(0x27c),{'instance':this['instance'][_0x230026(0x731)],...this['stateConnection']}),this[_0x230026(0x762)](_0x230026(0x22d),{'instance':this[_0x230026(0x55b)]['name'],'status':_0x230026(0x824)}),this[_0x230026(0x6c9)][_0x230026(0x5ca)][_0x230026(0x19e)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x230026(0x6c7)]()},this[_0x230026(0x55b)]['name']),this[_0x230026(0x34f)]=!0x0,this[_0x230026(0x25f)]['emit'](_0x230026(0x6a4),this['instance'][_0x230026(0x731)]);this[_0x230026(0x55b)]['qrcode'][_0x230026(0x1e4)]++;let _0x4422fa={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x230026(0x7c3),'dark':'#000000'}};vo['default'][_0x230026(0x74d)](_0x5c116c,_0x4422fa,(_0x418266,_0x3b7cff)=>{const _0x3a0b20=_0x230026;if(_0x418266){this[_0x3a0b20(0x767)][_0x3a0b20(0x2b4)](this[_0x3a0b20(0x20c)]+'\x20('+this[_0x3a0b20(0x55b)][_0x3a0b20(0x2cc)]+_0x3a0b20(0x76c)+(_0x418266 instanceof Error?_0x418266[_0x3a0b20(0x806)]:JSON[_0x3a0b20(0x3f5)](_0x418266,null,0x2)));return;}this[_0x3a0b20(0x55b)][_0x3a0b20(0x361)][_0x3a0b20(0x26b)]=_0x3b7cff,this[_0x3a0b20(0x55b)][_0x3a0b20(0x361)][_0x3a0b20(0x1ae)]=_0x5c116c,!this[_0x3a0b20(0x384)]&&this['sendDataWebhook'](_0x3a0b20(0x350),{'qrcode':{'instance':this[_0x3a0b20(0x55b)][_0x3a0b20(0x731)],'pairingCode':this[_0x3a0b20(0x55b)]['qrcode']['pairingCode'],'code':_0x5c116c,'base64':_0x3b7cff}});}),this['phoneNumber']?this[_0x230026(0x55b)][_0x230026(0x361)][_0x230026(0x389)]||(await(0x0,f['delay'])(0x7d0),this[_0x230026(0x55b)][_0x230026(0x361)][_0x230026(0x389)]=await this[_0x230026(0x24b)]['requestPairingCode'](this[_0x230026(0x384)])):this['instance'][_0x230026(0x361)][_0x230026(0x389)]=null,No[_0x230026(0x10d)]['generate'](_0x5c116c,{'small':!0x0},_0x12e1ca=>this[_0x230026(0x767)][_0x230026(0x7a7)](_0x230026(0x57b)+this[_0x230026(0x55b)][_0x230026(0x731)]+_0x230026(0x75f)+this[_0x230026(0x55b)][_0x230026(0x361)]['count']+_0x230026(0x78a)+this[_0x230026(0x55b)][_0x230026(0x361)]['pairingCode']+_0x230026(0x573)+_0x12e1ca));}if(_0x9d9fce&&(this['stateConnection']={'state':_0x9d9fce,'statusReason':_0x3bcd1b?.['error']?.[_0x230026(0x150)]?.[_0x230026(0x199)]??0xc8},this['sendDataWebhook'](_0x230026(0x27c),{'instance':this[_0x230026(0x55b)][_0x230026(0x731)],...this['stateConnection']})),_0x9d9fce===_0x230026(0x65b)){if(this[_0x230026(0x1a0)]++,this[_0x230026(0x1f1)][_0x230026(0x413)](Date[_0x230026(0x6c7)]()),this['reconnectTimestamps']=this[_0x230026(0x1f1)][_0x230026(0x414)](_0x81ad85=>Date[_0x230026(0x6c7)]()-_0x81ad85<this[_0x230026(0x2f7)]),_0x3bcd1b['error']?.[_0x230026(0x150)]?.[_0x230026(0x199)]!==f[_0x230026(0x3c2)]['loggedOut']&&this['reconnectTimestamps'][_0x230026(0x4e4)]<=this[_0x230026(0x7e1)])console[_0x230026(0x7a7)](this[_0x230026(0x20c)]+_0x230026(0x7eb)+this[_0x230026(0x1a0)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x230026(0x7c6)),console['log'](_0x230026(0x6d0)),await this[_0x230026(0x3d1)]();else{this[_0x230026(0x762)](_0x230026(0x22d),{'instance':this[_0x230026(0x55b)][_0x230026(0x731)],'status':'removed'}),this['instance'][_0x230026(0x1d6)][_0x230026(0x363)]=!0x1,this['repository'][_0x230026(0x1fb)]['delete'](this[_0x230026(0x20c)]),this[_0x230026(0x6c9)][_0x230026(0x5ca)][_0x230026(0x19e)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x230026(0x6c7)]()},this[_0x230026(0x55b)]['name']);try{this[_0x230026(0x767)][_0x230026(0x52e)](this[_0x230026(0x20c)]+'\x20('+this['instance'][_0x230026(0x2cc)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x512edd=await this['repository']['message'][_0x230026(0x678)](this[_0x230026(0x55b)][_0x230026(0x2cc)]);_0x512edd[_0x230026(0x640)]?this[_0x230026(0x767)][_0x230026(0x52e)](this[_0x230026(0x20c)]+'\x20('+this[_0x230026(0x55b)][_0x230026(0x2cc)]+_0x230026(0x1c2)):console[_0x230026(0x2b4)](_0x230026(0x6bf),_0x512edd[_0x230026(0x2b4)]);}catch(_0x57008f){console[_0x230026(0x2b4)](_0x230026(0x160),_0x57008f[_0x230026(0x806)]);}this['instance'][_0x230026(0x1d6)][_0x230026(0x675)]!==null&&(this['logger'][_0x230026(0x52e)](this[_0x230026(0x20c)]+'\x20('+this[_0x230026(0x55b)][_0x230026(0x2cc)]+_0x230026(0x7d6)),clearInterval(this[_0x230026(0x55b)][_0x230026(0x1d6)]['delayMessage']),this['instance'][_0x230026(0x1d6)]['delayMessage']=null),this['logger'][_0x230026(0x52e)](this[_0x230026(0x20c)]+'\x20('+this[_0x230026(0x55b)][_0x230026(0x2cc)]+'):\x20Limpando\x20AutomateSystem'),this['AutomateSystem']=null,this[_0x230026(0x25f)][_0x230026(0x266)](_0x230026(0x347),this[_0x230026(0x55b)][_0x230026(0x731)],_0x230026(0x518)),this[_0x230026(0x24b)]?.['ws']?.[_0x230026(0x65b)](),this[_0x230026(0x24b)][_0x230026(0x5f9)](new Error('Close\x20connection'));}}if(_0x9d9fce===_0x230026(0x1fe)){this[_0x230026(0x24b)]['ev'][_0x230026(0x778)](),this[_0x230026(0x386)],this[_0x230026(0x55b)]['wuid']=this[_0x230026(0x24b)][_0x230026(0x406)]['id'][_0x230026(0x477)](/:\d+/,'')[_0x230026(0x477)](_0x230026(0x221),''),this['instance'][_0x230026(0x177)]=(await this['profilePicture'](this[_0x230026(0x55b)][_0x230026(0x2cc)]+_0x230026(0x221)))[_0x230026(0x177)],this[_0x230026(0x6c9)][_0x230026(0x5ca)][_0x230026(0x19e)]({'online':!0x0,'owner':this[_0x230026(0x55b)]['wuid'],'lastDisconnect':null},this[_0x230026(0x55b)][_0x230026(0x731)]);let _0x79be8=_0x230026(0x5fa)+this[_0x230026(0x55b)][_0x230026(0x2cc)],_0x39c943=0x28,_0x5a2746=Math[_0x230026(0x13a)]((_0x39c943-_0x79be8[_0x230026(0x4e4)])/0x2),_0x1e2641='\x20'[_0x230026(0x37c)](_0x5a2746),_0x4a946c=_0x230026(0x209),_0x1873e9=_0x230026(0x4d7)+this[_0x230026(0x55b)][_0x230026(0x731)],_0x854fa3=(''+_0x1e2641+_0x79be8+_0x1e2641)[_0x230026(0x239)](_0x39c943,'\x20'),_0x4c2651=(''+_0x1e2641+_0x4a946c+_0x1e2641)['padEnd'](_0x39c943,'\x20'),_0x4d938e=(''+_0x1e2641+_0x1873e9+_0x1e2641)[_0x230026(0x239)](_0x39c943,'\x20'),_0x227afe=Math[_0x230026(0x3d8)](_0x854fa3[_0x230026(0x4e4)],_0x4c2651[_0x230026(0x4e4)],_0x4d938e['length']),_0x172470=_0x854fa3[_0x230026(0x239)](_0x227afe,'\x20'),_0x435fda=_0x4c2651[_0x230026(0x239)](_0x227afe,'\x20'),_0x279ad9=_0x4d938e[_0x230026(0x239)](_0x227afe,'\x20');this[_0x230026(0x767)][_0x230026(0x1af)]((_0x230026(0x32d)+'─'[_0x230026(0x37c)](_0x227afe)+_0x230026(0x618)+_0x435fda+_0x230026(0x789)+_0x279ad9+_0x230026(0x789)+_0x172470+_0x230026(0x7e3)+'─'[_0x230026(0x37c)](_0x227afe)+'┘')[_0x230026(0x477)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x230026(0x55b)][_0x230026(0x1d6)][_0x230026(0x363)]=!0x0;}}[a0_0x344519(0x386)](){const _0x2c2a16=a0_0x344519;this[_0x2c2a16(0x1a0)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x344519(0x72a)](_0xa5b7a4,_0x244886=!0x1){const _0x1f1577=a0_0x344519;try{let _0x417a13=await this[_0x1f1577(0x6c9)][_0x1f1577(0x806)][_0x1f1577(0x1ee)]({'where':{'_id':_0xa5b7a4['id']}},this[_0x1f1577(0x55b)][_0x1f1577(0x2cc)]);return _0x244886?_0x417a13[0x0]:_0x417a13[0x0][_0x1f1577(0x806)];}catch{return{'conversation':''};}}[a0_0x344519(0x592)](){const _0x55f43f=a0_0x344519;let _0x2cfedf=this['configService'][_0x55f43f(0x283)](_0x55f43f(0x227)),_0x1580e9=this[_0x55f43f(0x574)][_0x55f43f(0x283)](_0x55f43f(0x6a1));_0x2cfedf?.[_0x55f43f(0x391)]&&!_0x1580e9[_0x55f43f(0x67c)]&&setInterval(()=>{const _0x1973ae=_0x55f43f;try{for(let [_0x281744,_0x796709]of Object[_0x1973ae(0x180)](_0x2cfedf))_0x796709===!0x0&&(0x0,_e['execSync'])('rm\x20-rf\x20'+(0x0,F[_0x1973ae(0x2a3)])(this[_0x1973ae(0x817)],_0x281744[_0x1973ae(0x5cf)](),this[_0x1973ae(0x55b)]['wuid'])+_0x1973ae(0x7b4));}catch{}},(_0x2cfedf?.[_0x55f43f(0x391)]??0xe10)*0x3e8);}async[a0_0x344519(0x57f)](){const _0x1a7c41=a0_0x344519;let _0x2abdae=this[_0x1a7c41(0x574)][_0x1a7c41(0x283)](_0x1a7c41(0x6a1)),_0x27879f=this[_0x1a7c41(0x574)][_0x1a7c41(0x283)]('REDIS');return _0x27879f?.[_0x1a7c41(0x67c)]?await $s(_0x27879f,this['instance'][_0x1a7c41(0x731)]):_0x2abdae[_0x1a7c41(0x67c)]?await Rs(this[_0x1a7c41(0x55b)]['name']):await(0x0,f[_0x1a7c41(0x3bb)])((0x0,F[_0x1a7c41(0x2a3)])(fe,this[_0x1a7c41(0x55b)][_0x1a7c41(0x731)]));}async[a0_0x344519(0x4b9)](){const _0x1b9528=a0_0x344519;let _0x4e32c5=()=>Math[_0x1b9528(0x13a)](Math['random']()*0x2711)+0x7d0,_0x146b9f=async()=>{const _0x2783d8=_0x1b9528;if(!this[_0x2783d8(0x55b)][_0x2783d8(0x1d6)][_0x2783d8(0x363)]){this[_0x2783d8(0x767)]['verbose'](_0x2783d8(0x400)),this[_0x2783d8(0x245)]=!0x1;return;}if(this[_0x2783d8(0x55b)][_0x2783d8(0x2cc)]&&this['AutomateSystem']&&this['instance']['ScheduleMessage'][_0x2783d8(0x675)]!==null&&this['instance'][_0x2783d8(0x1d6)]['delayMessage']!==void 0x0){let _0x54847f=Math[_0x2783d8(0x5e1)](this['instance'][_0x2783d8(0x1d6)]['delayMessage']/0xea60);this[_0x2783d8(0x767)][_0x2783d8(0x52e)](this[_0x2783d8(0x20c)]+'\x20('+this[_0x2783d8(0x55b)][_0x2783d8(0x2cc)]+_0x2783d8(0x319)+_0x54847f+_0x2783d8(0x697)),this[_0x2783d8(0x245)]=!0x1;return;}else this[_0x2783d8(0x55b)][_0x2783d8(0x2cc)]&&(this[_0x2783d8(0x767)][_0x2783d8(0x52e)](this[_0x2783d8(0x20c)]+'\x20('+this[_0x2783d8(0x55b)][_0x2783d8(0x2cc)]+_0x2783d8(0x2ec)),this[_0x2783d8(0x46f)]||(await this[_0x2783d8(0x332)](),this['findGroups']()),(this[_0x2783d8(0x55b)]['ScheduleMessage'][_0x2783d8(0x675)]===null||this[_0x2783d8(0x55b)][_0x2783d8(0x1d6)][_0x2783d8(0x675)]===void 0x0)&&await this[_0x2783d8(0x297)]());if(this[_0x2783d8(0x245)]){let _0x381231=_0x4e32c5();this[_0x2783d8(0x767)][_0x2783d8(0x52e)](this['instanceName']+_0x2783d8(0x5f5)+_0x381231/0x3e8+_0x2783d8(0x1a4)),setTimeout(_0x146b9f,_0x381231);}};if(this[_0x1b9528(0x245)])return;this['isRunning']=!0x0;let _0x5b6993=_0x4e32c5();setTimeout(_0x146b9f,_0x5b6993);}async[a0_0x344519(0x293)](_0x4b698b=0x0,_0x157aea=!0x1){const _0x1ecbc1=a0_0x344519;try{let _0x5e20ec=this['configService'][_0x1ecbc1(0x283)](_0x1ecbc1(0x22c));if(_0x5e20ec!==0x1||typeof _0x5e20ec>'u'||_0x4b698b>=0x5)return this[_0x1ecbc1(0x767)][_0x1ecbc1(0x7ba)]('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this['repository']['auth'][_0x1ecbc1(0x19e)]({'ip':null},this[_0x1ecbc1(0x55b)][_0x1ecbc1(0x731)]),{};this[_0x1ecbc1(0x767)]['verbose'](this[_0x1ecbc1(0x20c)]+_0x1ecbc1(0x357)+(_0x4b698b+0x1)+_0x1ecbc1(0x39a));let _0x3313c7;if(!_0x157aea){let _0x53d2b8=await this[_0x1ecbc1(0x6c9)][_0x1ecbc1(0x5ca)][_0x1ecbc1(0x1ee)](this[_0x1ecbc1(0x20c)]);_0x53d2b8&&_0x53d2b8['ip']&&(_0x3313c7=bo(_0x53d2b8['ip']));}if((!_0x3313c7||!As(_0x3313c7))&&(this[_0x1ecbc1(0x767)][_0x1ecbc1(0x7ba)](this[_0x1ecbc1(0x20c)]+_0x1ecbc1(0x534)),_0x3313c7=So()),_0x3313c7&&As(_0x3313c7)){let _0x50b7d9=_0x3313c7['username']&&_0x3313c7['password']?_0x3313c7[_0x1ecbc1(0x757)]+_0x1ecbc1(0x267)+_0x3313c7[_0x1ecbc1(0x61c)]+':'+_0x3313c7[_0x1ecbc1(0x782)]+'@'+_0x3313c7[_0x1ecbc1(0x751)]+':'+_0x3313c7['port']:_0x3313c7['protocol']+'://'+_0x3313c7[_0x1ecbc1(0x751)]+':'+_0x3313c7[_0x1ecbc1(0x6a6)];return await this[_0x1ecbc1(0x3bc)](_0x50b7d9,_0x3313c7['host'])?(this[_0x1ecbc1(0x767)][_0x1ecbc1(0x52e)](this[_0x1ecbc1(0x20c)]+':\x20IP\x20funcionando!'),this[_0x1ecbc1(0x6c9)]['auth'][_0x1ecbc1(0x19e)]({'ip':_0x3313c7[_0x1ecbc1(0x751)]},this[_0x1ecbc1(0x55b)]['name']),{'agent':new Jt[(_0x1ecbc1(0x181))](_0x50b7d9),'fetchAgent':new Jt['HttpsProxyAgent'](_0x50b7d9)}):(this[_0x1ecbc1(0x767)][_0x1ecbc1(0x7ba)](this[_0x1ecbc1(0x20c)]+_0x1ecbc1(0x500)),await(0x0,f[_0x1ecbc1(0x5a4)])(0xc8),this[_0x1ecbc1(0x293)](_0x4b698b+0x1,!0x0));}else return this[_0x1ecbc1(0x767)]['warn'](this[_0x1ecbc1(0x20c)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,f['delay'])(0xc8),this['loadproxy'](_0x4b698b+0x1,!0x0);}catch(_0xefc1cf){return this[_0x1ecbc1(0x767)][_0x1ecbc1(0x2b4)](this['instanceName']+_0x1ecbc1(0x256)+_0xefc1cf[_0x1ecbc1(0x806)]),{};}}async[a0_0x344519(0x3bc)](_0x55cd8a,_0x3c3fb7){const _0x1d841b=a0_0x344519;let _0x4bfba8=new Jt['HttpsProxyAgent'](_0x55cd8a),_0x5b5571=0x1388,_0x2cdabf=[{'url':_0x1d841b(0x1ac),'parse':_0x10c0c6=>_0x10c0c6['ip']},{'url':_0x1d841b(0x6ff),'parse':_0x10b8f1=>_0x10b8f1['ip']},{'url':_0x1d841b(0x6f6),'parse':_0x43c8c9=>_0x43c8c9[_0x1d841b(0x364)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x1d841b(0x419),'parse':_0x23e878=>_0x23e878['ip']},{'url':'http://ifconfig.me/ip','parse':_0x3accf9=>_0x3accf9[_0x1d841b(0x774)]()},{'url':_0x1d841b(0x773),'parse':_0x193106=>_0x193106[_0x1d841b(0x774)]()},{'url':_0x1d841b(0x435),'parse':_0x429a2c=>_0x429a2c[_0x1d841b(0x225)]},{'url':_0x1d841b(0x6ea),'parse':_0x4b5bbf=>_0x4b5bbf['trim']()},{'url':_0x1d841b(0x1f9),'parse':_0x249db2=>_0x249db2[_0x1d841b(0x774)]()}],_0x39df99=_0x2cdabf[Math[_0x1d841b(0x13a)](Math[_0x1d841b(0x27d)]()*_0x2cdabf[_0x1d841b(0x4e4)])];try{let _0x22483a=await Q[_0x1d841b(0x10d)][_0x1d841b(0x283)](_0x39df99[_0x1d841b(0x51d)],{'httpsAgent':_0x4bfba8,'timeout':_0x5b5571}),_0x5b34e9=_0x39df99['parse'](_0x22483a['data']);return _0x5b34e9===_0x3c3fb7?(this[_0x1d841b(0x767)]['verbose'](this[_0x1d841b(0x20c)]+_0x1d841b(0x1ca)+_0x3c3fb7+_0x1d841b(0x481)+_0x5b34e9+_0x1d841b(0x564)),!0x0):(this['logger'][_0x1d841b(0x2b4)](this[_0x1d841b(0x20c)]+':\x20IP\x20configurado:\x20'+_0x3c3fb7+'\x20-\x20retornado:\x20'+_0x5b34e9+_0x1d841b(0x46d)),!0x1);}catch(_0x5de07d){return this[_0x1d841b(0x767)]['error'](this[_0x1d841b(0x20c)]+_0x1d841b(0x4e8)+_0x39df99[_0x1d841b(0x51d)]+':\x20'+_0x5de07d[_0x1d841b(0x806)]),!0x1;}}async[a0_0x344519(0x3d1)](_0x6f49a7){const _0x996fe0=a0_0x344519;try{let _0x4cafff=await this['loadproxy']();this['loadWebhook'](),this['instance']['apikey']=(await this[_0x996fe0(0x6c9)][_0x996fe0(0x5ca)][_0x996fe0(0x1ee)](this['instance'][_0x996fe0(0x731)]))[_0x996fe0(0x66c)],this['instance'][_0x996fe0(0x405)]=await this[_0x996fe0(0x57f)]();let {version:_0x584c7f}=await(0x0,f['fetchLatestBaileysVersion'])(),_0x7c2da0=[Ro,Ds,(0x0,Ts[_0x996fe0(0x7b5)])()],_0x8d6407={..._0x4cafff,'auth':{'creds':this[_0x996fe0(0x55b)][_0x996fe0(0x405)][_0x996fe0(0x483)]['creds'],'keys':(0x0,f['makeCacheableSignalKeyStore'])(this['instance']['authState'][_0x996fe0(0x483)][_0x996fe0(0x6cc)],(0x0,Lt[_0x996fe0(0x10d)])({'level':_0x996fe0(0x2b4)}))},'logger':(0x0,Lt['default'])({'level':_0x996fe0(0x2b4)}),'printQRInTerminal':!0x1,'browser':_0x6f49a7?[_0x996fe0(0x6d2),Ds,(0x0,Ts[_0x996fe0(0x7b5)])()]:_0x7c2da0,'version':_0x584c7f,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x1b8106=>{const _0x3884b9=_0x996fe0;let _0x1c49fc=_0x1b8106[_0x3884b9(0x67b)]('@newsletter'),_0x3c7d47=this[_0x3884b9(0x64c)]?.[_0x3884b9(0x117)]&&_0x1b8106['endsWith'](_0x3884b9(0x644));return _0x1c49fc||(0x0,f[_0x3884b9(0x3c9)])(_0x1b8106)||_0x3c7d47;},'msgRetryCounterCache':this[_0x996fe0(0x3a2)],'getMessage':async _0x518b7c=>await this['getMessage'](_0x518b7c),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x996fe0(0x687)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x249992=>(_0x249992[_0x996fe0(0x3eb)]?.[_0x996fe0(0x4f1)]==f[_0x996fe0(0x488)][_0x996fe0(0x7fe)]['ListMessage']['ListType'][_0x996fe0(0x6f8)]&&(_0x249992=JSON[_0x996fe0(0x1bc)](JSON[_0x996fe0(0x3f5)](_0x249992)),_0x249992[_0x996fe0(0x3eb)]['listType']=f['proto']['Message'][_0x996fe0(0x3e6)][_0x996fe0(0x4a8)][_0x996fe0(0x522)]),_0x249992)};return this[_0x996fe0(0x34f)]=!0x1,this[_0x996fe0(0x24b)]=(0x0,f[_0x996fe0(0x10d)])(_0x8d6407),this[_0x996fe0(0x287)](),this[_0x996fe0(0x384)]=_0x6f49a7,this[_0x996fe0(0x24b)];}catch(_0x256714){let _0x63adca=_0x996fe0(0x4c9),_0x334f81=_0x256714 instanceof Error?_0x256714[_0x996fe0(0x806)]:typeof _0x256714==_0x996fe0(0x3fc)?JSON[_0x996fe0(0x3f5)](_0x256714):_0x256714,_0x5af317=_0x63adca+':\x20'+_0x334f81;throw this[_0x996fe0(0x767)][_0x996fe0(0x2b4)](this[_0x996fe0(0x20c)]+'\x20('+this[_0x996fe0(0x55b)][_0x996fe0(0x2cc)]+_0x996fe0(0x780)+_0x5af317),new I(_0x5af317);}}['eventHandler'](){const _0x13cd18=a0_0x344519;this['client']['ev'][_0x13cd18(0x3cc)](_0x434444=>{const _0x4e8b4e=_0x13cd18;if(!this[_0x4e8b4e(0x34f)]){let _0x28c782=this[_0x4e8b4e(0x574)][_0x4e8b4e(0x283)](_0x4e8b4e(0x6a1));if(_0x434444[_0x4e8b4e(0x1fd)]){let _0x2b72dc=_0x434444[_0x4e8b4e(0x1fd)];this[_0x4e8b4e(0x5c3)][_0x4e8b4e(0x1fd)](_0x2b72dc);}if(_0x434444[_0x4e8b4e(0x7e2)]){let _0xb2bd9c=_0x434444[_0x4e8b4e(0x7e2)];this['messageHandle'][_0x4e8b4e(0x7e2)](_0xb2bd9c);}if(_0x434444[_0x4e8b4e(0x27c)]&&this[_0x4e8b4e(0x4f3)](_0x434444['connection.update']),_0x434444['creds.update']&&this[_0x4e8b4e(0x55b)][_0x4e8b4e(0x405)][_0x4e8b4e(0x4f8)](),_0x434444[_0x4e8b4e(0x51f)]){let _0x19778b=_0x434444['messaging-history.set'];this[_0x4e8b4e(0x5c3)][_0x4e8b4e(0x51f)](_0x19778b,_0x28c782);}if(_0x434444[_0x4e8b4e(0x732)]){let _0x483497=_0x434444[_0x4e8b4e(0x732)];this[_0x4e8b4e(0x5c3)][_0x4e8b4e(0x732)](_0x483497,_0x28c782);}if(_0x434444[_0x4e8b4e(0x1bf)]){let _0x517220=_0x434444[_0x4e8b4e(0x1bf)];_0x517220[_0x4e8b4e(0x402)](_0xd0ecd=>{const _0x4ac57f=_0x4e8b4e;if(Co[_0xd0ecd['key']['id']]){this['client']['ev'][_0x4ac57f(0x266)]('messages.upsert',{'messages':[_0xd0ecd],'type':_0x4ac57f(0x38c)}),delete Co[_0xd0ecd[_0x4ac57f(0x80d)]['id']];return;}}),this[_0x4e8b4e(0x5c3)][_0x4e8b4e(0x1bf)](_0x517220,_0x28c782);}if(_0x434444[_0x4e8b4e(0x5ec)]){let _0x22b9fe=_0x434444[_0x4e8b4e(0x5ec)];if(this[_0x4e8b4e(0x64c)]?.[_0x4e8b4e(0x117)]&&_0x22b9fe['id']['includes'](_0x4e8b4e(0x644)))return;this[_0x4e8b4e(0x762)](_0x4e8b4e(0x5ec),_0x22b9fe);}if(_0x434444[_0x4e8b4e(0x119)]){let _0x38cb0d=_0x434444[_0x4e8b4e(0x119)];this[_0x4e8b4e(0x4f2)][_0x4e8b4e(0x119)](_0x38cb0d);}if(_0x434444[_0x4e8b4e(0x307)]){let _0xe2b66f=_0x434444[_0x4e8b4e(0x307)];this[_0x4e8b4e(0x4f2)]['groups.update'](_0xe2b66f);}if(_0x434444['group-participants.update']){let _0x38e028=_0x434444['group-participants.update'];this[_0x4e8b4e(0x4f2)][_0x4e8b4e(0x472)](_0x38e028);}if(_0x434444['chats.upsert']){let _0x53eb87=_0x434444['chats.upsert'];this[_0x4e8b4e(0x393)][_0x4e8b4e(0x230)](_0x53eb87,_0x28c782);}if(_0x434444[_0x4e8b4e(0x15e)]){let _0x23857e=_0x434444[_0x4e8b4e(0x15e)];this['chatHandle'][_0x4e8b4e(0x15e)](_0x23857e,_0x28c782);}if(_0x434444[_0x4e8b4e(0x4cd)]){let _0x55bf4a=_0x434444[_0x4e8b4e(0x4cd)];this['chatHandle'][_0x4e8b4e(0x4cd)](_0x55bf4a);}if(_0x434444[_0x4e8b4e(0x6f2)]){let _0x5572be=_0x434444[_0x4e8b4e(0x6f2)];this[_0x4e8b4e(0x810)]['contacts.upsert'](_0x5572be,_0x28c782);}if(_0x434444[_0x4e8b4e(0x4c0)]){let _0xb348c9=_0x434444['contacts.update'];this[_0x4e8b4e(0x810)][_0x4e8b4e(0x4c0)](_0xb348c9,_0x28c782);}}});}[a0_0x344519(0x567)](_0x224882){return new Promise(_0x3244f1=>setTimeout(_0x3244f1,_0x224882));}[a0_0x344519(0x152)](_0x1c729a){const _0x35016d=a0_0x344519;_0x1c729a=_0x1c729a[_0x35016d(0x477)](/\D/g,'');let _0x341c68=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x35016d(0x64e)](_0x1c729a);if(_0x341c68&&_0x341c68[0x1]==='55'){let _0x5b3769=_0x341c68[0x2],_0x1812e1=_0x341c68[0x3],_0x379c5d=_0x341c68[0x4];if(parseInt(_0x5b3769)>=0x1f&&_0x1812e1==='9')return _0x341c68[0x1]+_0x5b3769+_0x379c5d;}return _0x1c729a;}[a0_0x344519(0x61e)](_0x525d71){const _0x5cbad2=a0_0x344519;return _0x525d71[_0x5cbad2(0x5fb)](_0x5cbad2(0x644))||_0x525d71[_0x5cbad2(0x5fb)](_0x5cbad2(0x221))||_0x525d71['includes'](_0x5cbad2(0x2c3))?_0x525d71:(_0x525d71=_0x525d71?.[_0x5cbad2(0x477)](/\s/g,'')[_0x5cbad2(0x477)](/\+/g,'')[_0x5cbad2(0x477)](/\(/g,'')[_0x5cbad2(0x477)](/\)/g,'')[_0x5cbad2(0x134)](/\:/)[0x0][_0x5cbad2(0x134)]('@')[0x0],_0x525d71[_0x5cbad2(0x4e4)]>=0x12?(_0x525d71=_0x525d71['replace'](/[^\d-]/g,''),_0x525d71+'@g.us'):(_0x525d71=_0x525d71['replace'](/\D/g,''),_0x525d71+'@s.whatsapp.net'));}async[a0_0x344519(0x178)](_0x24e317){const _0x36688b=a0_0x344519;let _0x28ea42=(await this[_0x36688b(0x7c1)]({'numbers':[_0x24e317[_0x36688b(0x735)]]}))[0x0];if(!_0x28ea42['exists']&&!(0x0,f[_0x36688b(0x75b)])(_0x28ea42['jid'])&&!_0x28ea42[_0x36688b(0x19d)][_0x36688b(0x5fb)](_0x36688b(0x2c3)))throw new m(_0x28ea42);let _0x2ac24f=_0x28ea42[_0x36688b(0x19d)];try{return await this[_0x36688b(0x24b)][_0x36688b(0x70c)](_0x2ac24f),await this[_0x36688b(0x24b)][_0x36688b(0x273)](_0x24e317[_0x36688b(0x24a)],_0x2ac24f),{'status':0xc8,'presence':_0x24e317[_0x36688b(0x24a)]};}catch(_0x1bced6){let _0x16b9af='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x48649b=_0x1bced6 instanceof Error?_0x1bced6['message']:typeof _0x1bced6==_0x36688b(0x3fc)?JSON['stringify'](_0x1bced6):_0x1bced6,_0x5c0342=_0x16b9af+':\x20'+_0x48649b;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x36688b(0x55b)]['wuid']+_0x36688b(0x780)+_0x5c0342),new m(_0x5c0342);}}async['findAndUpdateCacheContact'](_0x46bd2d,_0x4caad0,_0x3ef32e,_0x177b4c=!0x0){const _0x23679f=a0_0x344519;let _0x251c78=await this['repository'][_0x23679f(0x2b6)]['findOne']({'where':{'_id':_0x46bd2d}});if(!_0x251c78&&!_0x177b4c)return;let _0x7ac216={'lastUpdate':Date[_0x23679f(0x6c7)]()};if(_0x3ef32e||!_0x251c78?.[_0x23679f(0x744)]||Date[_0x23679f(0x6c7)]()-_0x251c78['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x2f733e=(await this[_0x23679f(0x348)](_0x46bd2d))[_0x23679f(0x177)];_0x7ac216[_0x23679f(0x422)]=_0x2f733e;}catch(_0x18236c){let _0x858c8c=_0x23679f(0x2da),_0x166a04=_0x18236c instanceof Error?_0x18236c[_0x23679f(0x806)]:typeof _0x18236c==_0x23679f(0x3fc)?JSON['stringify'](_0x18236c):_0x18236c,_0x4a19e8=_0x858c8c+':\x20'+_0x166a04;throw this[_0x23679f(0x767)]['error'](this['instanceName']+'\x20('+this[_0x23679f(0x55b)][_0x23679f(0x2cc)]+'):\x20'+_0x4a19e8),new m(_0x4a19e8);}return _0x4caad0&&_0x251c78?.['name']!==_0x4caad0&&(_0x7ac216[_0x23679f(0x731)]=_0x4caad0),Object[_0x23679f(0x6cc)](_0x7ac216)[_0x23679f(0x4e4)]>0x1&&(_0x251c78?await this[_0x23679f(0x6c9)][_0x23679f(0x2b6)]['update']({'where':{'_id':_0x46bd2d}},_0x7ac216):await this[_0x23679f(0x6c9)][_0x23679f(0x2b6)][_0x23679f(0x113)]([{'_id':_0x46bd2d,..._0x7ac216}]),_0x251c78={..._0x251c78,..._0x7ac216}),{'cachedContact':_0x251c78};}async[a0_0x344519(0x348)](_0x3832ac){const _0xbf9f0b=a0_0x344519;let _0x1699fe=this['createJid'](_0x3832ac);try{return{'wuid':_0x1699fe,'profilePictureUrl':await this[_0xbf9f0b(0x24b)][_0xbf9f0b(0x177)](_0x1699fe,_0xbf9f0b(0x4dd))};}catch{return{'wuid':_0x1699fe,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x50069e,_0x45536f,_0x483ee0){const _0x24bfd1=a0_0x344519;try{_0x483ee0||(_0x483ee0={});let _0x5efe95=(await this[_0x24bfd1(0x7c1)]({'numbers':[_0x50069e]}))[0x0];if(!_0x5efe95['exists']&&!(0x0,f[_0x24bfd1(0x75b)])(_0x5efe95[_0x24bfd1(0x19d)])&&!_0x5efe95[_0x24bfd1(0x19d)][_0x24bfd1(0x5fb)](_0x24bfd1(0x2c3)))throw new m('número\x20não\x20existe');let _0x246c6e=_0x5efe95[_0x24bfd1(0x19d)];if(_0x483ee0?.[_0x24bfd1(0x5a4)]){await this[_0x24bfd1(0x24b)][_0x24bfd1(0x70c)](_0x246c6e),await this['client']['sendPresenceUpdate'](_0x483ee0?.[_0x24bfd1(0x24a)]??_0x24bfd1(0x5d0),_0x246c6e);let _0x73c0f3=Math[_0x24bfd1(0x1b9)](_0x483ee0[_0x24bfd1(0x5a4)],0x2710);await(0x0,f[_0x24bfd1(0x5a4)])(_0x73c0f3),await this[_0x24bfd1(0x24b)][_0x24bfd1(0x273)](_0x24bfd1(0x58c),_0x246c6e);}let _0x43cb65=_0x483ee0?.[_0x24bfd1(0x805)]!=!0x1?void 0x0:!0x1,_0xc17fd0;if(_0x483ee0?.[_0x24bfd1(0x1e3)]){let _0x353c04=_0x483ee0?.['quoted'],_0x492516=_0x353c04?.[_0x24bfd1(0x806)]?_0x353c04:await this[_0x24bfd1(0x72a)](_0x353c04[_0x24bfd1(0x80d)],!0x0);if(!_0x492516)throw _0x24bfd1(0x284);_0xc17fd0=_0x492516;}let _0x9b8367;if((0x0,f[_0x24bfd1(0x75b)])(_0x246c6e))try{let _0x4228a7=(await this['repository'][_0x24bfd1(0x351)][_0x24bfd1(0x1a8)]({'where':{'_id':_0x246c6e}},this['instance'][_0x24bfd1(0x2cc)]))[_0x24bfd1(0x796)];if(!_0x4228a7)throw new U(_0x24bfd1(0x231));_0x483ee0?.[_0x24bfd1(0x4c2)]&&(_0x483ee0[_0x24bfd1(0x4c2)]?.[_0x24bfd1(0x37d)]?_0x9b8367=_0x4228a7[_0x24bfd1(0x56c)][_0x24bfd1(0x41f)](_0x2eee2f=>_0x2eee2f['id']):_0x483ee0[_0x24bfd1(0x4c2)]?.[_0x24bfd1(0x663)]?.['length']&&(_0x9b8367=_0x483ee0[_0x24bfd1(0x4c2)][_0x24bfd1(0x663)][_0x24bfd1(0x41f)](_0x19443b=>{const _0x570d67=_0x24bfd1;let _0x3f4822=this[_0x570d67(0x61e)](_0x19443b);return(0x0,f[_0x570d67(0x75b)])(_0x3f4822)?null:_0x3f4822;})));}catch{throw new U(_0x24bfd1(0x231));}let _0x5dbb05=await this[_0x24bfd1(0x6c9)][_0x24bfd1(0x351)][_0x24bfd1(0x1a8)]({'where':{'_id':_0x246c6e}},this['instance']['wuid']),_0x39ba30=await((async()=>{const _0x2faf86=_0x24bfd1;let _0x452d08={'quoted':_0xc17fd0,'ephemeralExpiration':_0x5dbb05?.[_0x2faf86(0x555)]??0x0};if(!_0x45536f[_0x2faf86(0x4bc)]&&!_0x45536f['poll']&&!_0x45536f['sticker']&&!_0x45536f['conversation']&&_0x246c6e!==_0x2faf86(0x495)&&!_0x45536f[_0x2faf86(0x4bc)])return await this['client'][_0x2faf86(0x68a)](_0x246c6e,{'forward':{'key':{'remoteJid':this['instance'][_0x2faf86(0x2cc)],'fromMe':!0x0},'message':_0x45536f},'mentions':_0x9b8367},_0x452d08);if(_0x45536f[_0x2faf86(0x649)])return await this['client'][_0x2faf86(0x68a)](_0x246c6e,{'react':{'text':_0x45536f[_0x2faf86(0x649)][_0x2faf86(0x634)],'key':_0x45536f[_0x2faf86(0x649)]['key']}},_0x452d08);if(_0x45536f[_0x2faf86(0x4ef)]){let _0x29e689=_0x45536f[_0x2faf86(0x4ef)];return _0x483ee0?.[_0x2faf86(0x5f4)]&&(_0x29e689=await this[_0x2faf86(0x49e)](_0x29e689,_0x246c6e)),await this[_0x2faf86(0x24b)][_0x2faf86(0x68a)](_0x246c6e,{'text':_0x29e689,'mentions':_0x9b8367,'linkPreview':_0x43cb65},_0x452d08);}return _0x246c6e===_0x2faf86(0x495)?await this[_0x2faf86(0x24b)][_0x2faf86(0x68a)](_0x246c6e,_0x45536f[_0x2faf86(0x197)][_0x2faf86(0x49f)],{'backgroundColor':_0x45536f['status']['option'][_0x2faf86(0x545)],'font':_0x45536f[_0x2faf86(0x197)]['option'][_0x2faf86(0x553)],'statusJidList':_0x45536f[_0x2faf86(0x197)][_0x2faf86(0x811)][_0x2faf86(0x6ef)]}):await this[_0x2faf86(0x24b)]['sendMessage'](_0x246c6e,_0x45536f,_0x452d08);})()),_0x11ae7f=(0x0,f[_0x24bfd1(0x47e)])(_0x39ba30[_0x24bfd1(0x806)]),_0x2984ab=(0x0,f[_0x24bfd1(0x681)])(_0x11ae7f),{message_normalized:_0x447dd0}=this['normalizeMessage'](_0x11ae7f,_0x2984ab,null),_0x12e4df={'_id':_0x39ba30['key']['id'],'key':_0x39ba30[_0x24bfd1(0x80d)],'pushName':_0x39ba30['pushName'],'isGroup':_0x39ba30[_0x24bfd1(0x80d)][_0x24bfd1(0x5b0)][_0x24bfd1(0x67b)](_0x24bfd1(0x644)),'profilePictureUrl':this[_0x24bfd1(0x55b)][_0x24bfd1(0x177)],'message':_0x11ae7f,'messageType':_0x2984ab,'message_normalized':{'key':_0x39ba30[_0x24bfd1(0x80d)],'pushName':_0x39ba30[_0x24bfd1(0x2df)],'messageTimestamp':_0x39ba30[_0x24bfd1(0x665)]&&_0x39ba30[_0x24bfd1(0x665)][_0x24bfd1(0x2f6)]()['length']<0xd?_0x39ba30[_0x24bfd1(0x665)]*0x3e8:_0x39ba30[_0x24bfd1(0x665)]||null,'source':(0x0,f['getDevice'])(_0x39ba30['key']['id']),..._0x447dd0},'messageTimestamp':_0x39ba30[_0x24bfd1(0x665)]&&_0x39ba30['messageTimestamp']['toString']()['length']<0xd?_0x39ba30[_0x24bfd1(0x665)]*0x3e8:_0x39ba30['messageTimestamp']||null,'owner':this[_0x24bfd1(0x55b)]['wuid'],'source':(0x0,f[_0x24bfd1(0x56e)])(_0x39ba30['key']['id'])};return this[_0x24bfd1(0x767)]['warn'](this[_0x24bfd1(0x20c)]+'\x20('+this[_0x24bfd1(0x55b)][_0x24bfd1(0x2cc)]+_0x24bfd1(0x46e)+_0x12e4df[_0x24bfd1(0x80d)]?.['remoteJid']['replace'](_0x24bfd1(0x221),'')+_0x24bfd1(0x16d)+_0x12e4df[_0x24bfd1(0x7e4)]+')'),_0x12e4df[_0x24bfd1(0x265)]?.[_0x24bfd1(0x634)]&&this[_0x24bfd1(0x767)][_0x24bfd1(0x7ba)](_0x12e4df['message_normalized']?.[_0x24bfd1(0x634)]),this[_0x24bfd1(0x762)](_0x24bfd1(0x139),_0x12e4df),J(this[_0x24bfd1(0x20c)],_0x24bfd1(0x5d1),{'message':_0x12e4df}),this[_0x24bfd1(0x474)](this[_0x24bfd1(0x574)][_0x24bfd1(0x283)](_0x24bfd1(0x6a1)),_0x12e4df,_0x24bfd1(0x485),_0x5dbb05),await this[_0x24bfd1(0x6c9)][_0x24bfd1(0x806)][_0x24bfd1(0x113)]([_0x12e4df],this[_0x24bfd1(0x55b)][_0x24bfd1(0x2cc)]),_0x39ba30;}catch(_0x1a4b72){let _0x55e09e=_0x24bfd1(0x814),_0x69869e=_0x1a4b72 instanceof Error?_0x1a4b72[_0x24bfd1(0x806)]:typeof _0x1a4b72==_0x24bfd1(0x3fc)?JSON[_0x24bfd1(0x3f5)](_0x1a4b72):_0x1a4b72,_0x441a4a=_0x55e09e+':\x20'+_0x69869e;throw this['logger'][_0x24bfd1(0x2b4)](this[_0x24bfd1(0x20c)]+'\x20('+this['instance'][_0x24bfd1(0x2cc)]+_0x24bfd1(0x780)+_0x441a4a),new m(_0x441a4a);}}get['connectionStatus'](){const _0x1a04bd=a0_0x344519;return this[_0x1a04bd(0x45d)];}async[a0_0x344519(0x797)](_0x463723){const _0x2b1904=a0_0x344519;let _0x12ff9b=Mo,_0xb56fee=at;return _0xb56fee&&this['instanceName'][_0x2b1904(0x5cf)]()[_0x2b1904(0x5fb)](_0xb56fee['toLowerCase']())&&(_0x463723[_0x2b1904(0x797)][_0x2b1904(0x634)]+='\x0a\x0a'+_0x12ff9b),await this[_0x2b1904(0x2b8)](_0x463723[_0x2b1904(0x735)],{'conversation':_0x463723['textMessage'][_0x2b1904(0x634)]},_0x463723?.[_0x2b1904(0x656)]);}async[a0_0x344519(0x1c4)](_0x114de4){const _0xcd1bb8=a0_0x344519;if(!_0x114de4[_0xcd1bb8(0x4d3)])throw new m(_0xcd1bb8(0x10a));if(!_0x114de4['content'])throw new m(_0xcd1bb8(0x7b0));if(_0x114de4[_0xcd1bb8(0x65a)]){let _0xcb57df=await this['repository']['contact']['find']({'where':{}},this[_0xcd1bb8(0x55b)]['wuid']);if(!_0xcb57df['length'])throw new m('Contacts\x20not\x20found');_0x114de4[_0xcd1bb8(0x6ef)]=_0xcb57df[_0xcd1bb8(0x414)](_0x426ad2=>_0x426ad2[_0xcd1bb8(0x2df)])['map'](_0x4b1760=>_0x4b1760[_0xcd1bb8(0x791)]);}if(!_0x114de4[_0xcd1bb8(0x6ef)]?.[_0xcd1bb8(0x4e4)]&&!_0x114de4[_0xcd1bb8(0x65a)])throw new m(_0xcd1bb8(0x6ed));if(_0x114de4['type']===_0xcd1bb8(0x634)){if(!_0x114de4[_0xcd1bb8(0x545)])throw new m('Background\x20color\x20is\x20required');if(!_0x114de4[_0xcd1bb8(0x553)])throw new m(_0xcd1bb8(0x3a1));return{'content':{'text':_0x114de4['content']},'option':{'backgroundColor':_0x114de4[_0xcd1bb8(0x545)],'font':_0x114de4['font'],'statusJidList':_0x114de4[_0xcd1bb8(0x6ef)]}};}if(_0x114de4['type']===_0xcd1bb8(0x4dd))return{'content':{'image':{'url':_0x114de4[_0xcd1bb8(0x49f)]},'caption':_0x114de4[_0xcd1bb8(0x6e2)]},'option':{'statusJidList':_0x114de4['statusJidList']}};if(_0x114de4[_0xcd1bb8(0x4d3)]==='video')return{'content':{'video':{'url':_0x114de4[_0xcd1bb8(0x49f)]},'caption':_0x114de4['caption']},'option':{'statusJidList':_0x114de4[_0xcd1bb8(0x6ef)]}};if(_0x114de4[_0xcd1bb8(0x4d3)]===_0xcd1bb8(0x4bc)){this[_0xcd1bb8(0x767)][_0xcd1bb8(0x52e)](_0xcd1bb8(0x299)),this[_0xcd1bb8(0x767)][_0xcd1bb8(0x52e)](_0xcd1bb8(0x19c));let _0x1d21f8=await this[_0xcd1bb8(0x322)](_0x114de4[_0xcd1bb8(0x49f)]);if(typeof _0x1d21f8==_0xcd1bb8(0x138)){this[_0xcd1bb8(0x767)]['verbose']('Audio\x20processed');let _0xd66926=L[_0xcd1bb8(0x3f1)](_0x1d21f8)['toString'](_0xcd1bb8(0x26b));return{'content':{'audio':Buffer['from'](_0xd66926,_0xcd1bb8(0x26b)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x114de4['statusJidList']}};}else throw new I(_0x1d21f8);}throw new m(_0xcd1bb8(0x78d));}async[a0_0x344519(0x10c)](_0x40fb29){const _0x59af31=a0_0x344519;return await this[_0x59af31(0x2b8)](_0x59af31(0x495),{'status':await this[_0x59af31(0x1c4)](_0x40fb29['statusMessage'])});}async['prepareMediaMessage'](_0x135d42){const _0x2779f1=a0_0x344519;try{let _0x236ba8=await(0x0,f['prepareWAMessageMedia'])({[_0x135d42[_0x2779f1(0x1b6)]]:(0x0,k[_0x2779f1(0x539)])(_0x135d42[_0x2779f1(0x1ea)])?{'url':_0x135d42[_0x2779f1(0x1ea)]}:Buffer['from'](_0x135d42['media'],_0x2779f1(0x26b))},{'upload':this[_0x2779f1(0x24b)][_0x2779f1(0x3fa)]}),_0x520ce3=_0x135d42[_0x2779f1(0x1b6)]+_0x2779f1(0x7fe);if(_0x135d42[_0x2779f1(0x1b6)]===_0x2779f1(0x1ed)&&!_0x135d42['fileName']){let _0x371158=new RegExp(/.*\/(.+?)\./)['exec'](_0x135d42['media']);_0x135d42[_0x2779f1(0x6dc)]=_0x371158?_0x371158[0x1]:null;}let _0x593b61=(0x0,k['isURL'])(_0x135d42[_0x2779f1(0x1ea)])?_0x135d42[_0x2779f1(0x1ea)][_0x2779f1(0x134)]('?')[0x0]:_0x135d42[_0x2779f1(0x1ea)],_0x5198b0;(0x0,k['isURL'])(_0x135d42[_0x2779f1(0x1ea)])?_0x5198b0=(0x0,jt[_0x2779f1(0x3c4)])(_0x593b61):_0x135d42[_0x2779f1(0x6dc)]&&_0x135d42[_0x2779f1(0x6dc)][_0x2779f1(0x5fb)]('.')?_0x5198b0=(0x0,jt['getMIMEType'])(_0x135d42[_0x2779f1(0x6dc)]):_0x5198b0=(0x0,jt[_0x2779f1(0x3c4)])(_0x135d42[_0x2779f1(0x1ea)]);let _0x5dde0c=Mo,_0x352a94=at;return _0x352a94&&this['instanceName'][_0x2779f1(0x5cf)]()['includes'](_0x352a94[_0x2779f1(0x5cf)]())&&(_0x135d42[_0x2779f1(0x6e2)]+='\x0a\x0a'+_0x5dde0c),_0x236ba8[_0x520ce3][_0x2779f1(0x6e2)]=_0x135d42?.[_0x2779f1(0x6e2)],_0x236ba8[_0x520ce3][_0x2779f1(0x18e)]=_0x5198b0,_0x236ba8[_0x520ce3][_0x2779f1(0x6dc)]=_0x135d42[_0x2779f1(0x6dc)],_0x135d42[_0x2779f1(0x1b6)]===_0x2779f1(0x77a)&&(_0x236ba8[_0x520ce3][_0x2779f1(0x6c0)]=Uint8Array[_0x2779f1(0x2fc)]((0x0,De[_0x2779f1(0x3f1)])((0x0,F[_0x2779f1(0x2a3)])(process[_0x2779f1(0x777)](),'video-cover.png'))),_0x236ba8[_0x520ce3][_0x2779f1(0x760)]=!0x1),(0x0,f[_0x2779f1(0x14a)])('',{[_0x520ce3]:{..._0x236ba8[_0x520ce3]}},{'userJid':this[_0x2779f1(0x55b)]['wuid']});}catch(_0x3949c8){let _0x5f0b1e=_0x2779f1(0x698),_0x1e5919=_0x3949c8 instanceof Error?_0x3949c8[_0x2779f1(0x806)]:typeof _0x3949c8=='object'?JSON['stringify'](_0x3949c8):_0x3949c8,_0x233170=_0x5f0b1e+':\x20'+_0x1e5919;throw this[_0x2779f1(0x767)][_0x2779f1(0x2b4)](this['instanceName']+'\x20('+this[_0x2779f1(0x55b)][_0x2779f1(0x2cc)]+_0x2779f1(0x780)+_0x233170),new I(_0x233170);}}async[a0_0x344519(0x7be)](_0x38ab11){const _0x3b8673=a0_0x344519;let _0x77c060=await this['prepareMediaMessage'](_0x38ab11['mediaMessage']);return await this['sendMessageWithTyping'](_0x38ab11[_0x3b8673(0x735)],{..._0x77c060[_0x3b8673(0x806)]},_0x38ab11?.[_0x3b8673(0x656)]);}async[a0_0x344519(0x7b7)](_0x2d3a42,_0x358d07){const _0x29e0f1=a0_0x344519;try{this[_0x29e0f1(0x767)][_0x29e0f1(0x52e)](_0x29e0f1(0x43e));let _0x57067f,_0x37c4a7=_0x358d07+'-'+new Date()[_0x29e0f1(0x35c)]();this['logger'][_0x29e0f1(0x52e)](_0x29e0f1(0x343)+_0x37c4a7);let _0x23851d=''+(0x0,F['join'])(this[_0x29e0f1(0x817)],_0x37c4a7+_0x29e0f1(0x7dc));if(this[_0x29e0f1(0x767)]['verbose'](_0x29e0f1(0x430)+_0x23851d),(0x0,k[_0x29e0f1(0x1a3)])(_0x2d3a42)){this[_0x29e0f1(0x767)][_0x29e0f1(0x52e)](_0x29e0f1(0x3b0));let _0xdb27f6=_0x2d3a42[_0x29e0f1(0x477)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x420476=Buffer[_0x29e0f1(0x2fc)](_0xdb27f6,_0x29e0f1(0x26b));_0x57067f=''+(0x0,F[_0x29e0f1(0x2a3)])(this[_0x29e0f1(0x817)],'temp-'+_0x37c4a7+_0x29e0f1(0x516)),this[_0x29e0f1(0x767)][_0x29e0f1(0x52e)](_0x29e0f1(0x551)+_0x57067f),await(0x0,Ft[_0x29e0f1(0x10d)])(_0x420476)[_0x29e0f1(0x4c3)](_0x57067f),this['logger'][_0x29e0f1(0x52e)](_0x29e0f1(0x288));}else{this['logger'][_0x29e0f1(0x52e)](_0x29e0f1(0x3e1));let _0x161727=new Date()[_0x29e0f1(0x35c)](),_0x468924=_0x2d3a42+_0x29e0f1(0x680)+_0x161727;this[_0x29e0f1(0x767)]['verbose'](_0x29e0f1(0x401)+_0x468924);let _0x18738b=await Q[_0x29e0f1(0x10d)][_0x29e0f1(0x283)](_0x468924,{'responseType':_0x29e0f1(0x713)});this[_0x29e0f1(0x767)][_0x29e0f1(0x52e)](_0x29e0f1(0x7c7));let _0x17f693=Buffer[_0x29e0f1(0x2fc)](_0x18738b[_0x29e0f1(0x7e5)],_0x29e0f1(0x409));_0x57067f=''+(0x0,F[_0x29e0f1(0x2a3)])(this[_0x29e0f1(0x817)],_0x29e0f1(0x5a5)+_0x37c4a7+_0x29e0f1(0x516)),this[_0x29e0f1(0x767)][_0x29e0f1(0x52e)](_0x29e0f1(0x551)+_0x57067f),await(0x0,Ft['default'])(_0x17f693)[_0x29e0f1(0x4c3)](_0x57067f),this['logger'][_0x29e0f1(0x52e)](_0x29e0f1(0x288));}return await(0x0,Ft[_0x29e0f1(0x10d)])(_0x57067f)[_0x29e0f1(0x6d1)]()['toFile'](_0x23851d),this[_0x29e0f1(0x767)][_0x29e0f1(0x52e)](_0x29e0f1(0x2f8)),L[_0x29e0f1(0x3d7)](_0x57067f),this[_0x29e0f1(0x767)][_0x29e0f1(0x52e)]('Temp\x20image\x20deleted'),_0x23851d;}catch(_0x2d9ec3){let _0x31b00b='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x39ed99=_0x2d9ec3 instanceof Error?_0x2d9ec3[_0x29e0f1(0x806)]:typeof _0x2d9ec3==_0x29e0f1(0x3fc)?JSON[_0x29e0f1(0x3f5)](_0x2d9ec3):_0x2d9ec3,_0x3cd1c1=_0x31b00b+':\x20'+_0x39ed99;this[_0x29e0f1(0x767)]['error'](this[_0x29e0f1(0x20c)]+'\x20('+this['instance'][_0x29e0f1(0x2cc)]+_0x29e0f1(0x780)+_0x3cd1c1);}}async['mediaSticker'](_0x5c5176){const _0x489219=a0_0x344519;let _0x42d09e=await this[_0x489219(0x7b7)](_0x5c5176[_0x489219(0x2a2)][_0x489219(0x4dd)],_0x5c5176[_0x489219(0x735)]),_0x46e3a9=await this[_0x489219(0x2b8)](_0x5c5176[_0x489219(0x735)],{'sticker':{'url':_0x42d09e}},_0x5c5176?.['options']);return L[_0x489219(0x3d7)](_0x42d09e),this[_0x489219(0x767)][_0x489219(0x52e)]('Converted\x20image\x20deleted'),_0x46e3a9;}async['audioWhatsapp'](_0x19bda2){const _0x46843f=a0_0x344519;if(this[_0x46843f(0x767)][_0x46843f(0x52e)](_0x46843f(0x4a9)),!_0x19bda2[_0x46843f(0x656)]?.['encoding']&&_0x19bda2['options']?.[_0x46843f(0x410)]!==!0x1&&(_0x19bda2[_0x46843f(0x656)][_0x46843f(0x410)]=!0x0),_0x19bda2['options']?.['encoding']){let _0x1d93ba=await this['convertaudio'](_0x19bda2[_0x46843f(0x25b)][_0x46843f(0x4bc)]);if(typeof _0x1d93ba=='string'){let _0x48bdd8=L['readFileSync'](_0x1d93ba)[_0x46843f(0x2f6)](_0x46843f(0x26b));return this[_0x46843f(0x2b8)](_0x19bda2[_0x46843f(0x735)],{'audio':Buffer[_0x46843f(0x2fc)](_0x48bdd8,_0x46843f(0x26b)),'ptt':!0x0,'mimetype':_0x46843f(0x2d1)},{'presence':'recording','delay':_0x19bda2?.[_0x46843f(0x656)]?.[_0x46843f(0x5a4)]});}else throw new I(_0x1d93ba);}return await this['sendMessageWithTyping'](_0x19bda2[_0x46843f(0x735)],{'audio':(0x0,k['isURL'])(_0x19bda2['audioMessage'][_0x46843f(0x4bc)])?{'url':_0x19bda2['audioMessage'][_0x46843f(0x4bc)]}:Buffer[_0x46843f(0x2fc)](_0x19bda2[_0x46843f(0x25b)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x46843f(0x2d1)},{'presence':_0x46843f(0x210),'delay':_0x19bda2?.['options']?.[_0x46843f(0x5a4)]});}async[a0_0x344519(0x322)](_0x3b34d6){const _0x1ce343=a0_0x344519;this[_0x1ce343(0x767)]['verbose'](_0x1ce343(0x19c));let _0x3ae4a1=(0x0,k[_0x1ce343(0x539)])(_0x3b34d6)?(0x0,Ut[_0x1ce343(0x2c5)])(_0x1ce343(0x38d))[_0x1ce343(0x729)](_0x3b34d6)['digest'](_0x1ce343(0x770)):(0x0,Ut[_0x1ce343(0x2c5)])(_0x1ce343(0x38d))[_0x1ce343(0x729)](_0x3b34d6)[_0x1ce343(0x1d1)](_0x1ce343(0x770)),_0x555825=''+(0x0,F[_0x1ce343(0x2a3)])(this[_0x1ce343(0x817)],_0x3ae4a1+_0x1ce343(0x312));if(L[_0x1ce343(0x527)](_0x555825))return this[_0x1ce343(0x767)][_0x1ce343(0x52e)](_0x1ce343(0x20a)),_0x555825;let _0x1810b6=''+(0x0,F['join'])(this[_0x1ce343(0x817)],'temp-'+(0x0,Ce['v4'])()+'.mp3');if((0x0,k[_0x1ce343(0x539)])(_0x3b34d6)){let _0x52aa80=new Date()['getTime'](),_0x56392b=_0x3b34d6+_0x1ce343(0x680)+_0x52aa80,_0x246ead=await Q[_0x1ce343(0x10d)]['get'](_0x56392b,{'responseType':_0x1ce343(0x713)});L['writeFileSync'](_0x1810b6,_0x246ead[_0x1ce343(0x7e5)]);}else{let _0x384471=Buffer[_0x1ce343(0x2fc)](_0x3b34d6,_0x1ce343(0x26b));L[_0x1ce343(0x5bb)](_0x1810b6,_0x384471);}return new Promise((_0x1d94aa,_0x4ef7bc)=>{const _0x3c16fb=_0x1ce343;(0x0,_e[_0x3c16fb(0x64e)])(Os[_0x3c16fb(0x10d)][_0x3c16fb(0x5e2)]+'\x20-i\x20'+_0x1810b6+_0x3c16fb(0x392)+_0x555825+'\x20-y',_0x2fadf1=>{const _0x3b6e9c=_0x3c16fb;if(L['unlinkSync'](_0x1810b6),_0x2fadf1){this[_0x3b6e9c(0x767)]['verbose'](_0x3b6e9c(0x212)),_0x4ef7bc(_0x2fadf1);return;}this[_0x3b6e9c(0x767)][_0x3b6e9c(0x52e)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x1d94aa(_0x555825);});});}async['convertaudioMP3'](_0x28a1a0){const _0x3616f0=a0_0x344519;this[_0x3616f0(0x767)]['verbose'](_0x3616f0(0x19c));let _0x51b895=(0x0,Ut[_0x3616f0(0x2c5)])(_0x3616f0(0x38d))[_0x3616f0(0x729)](_0x28a1a0)[_0x3616f0(0x1d1)]('hex'),_0x342f30=''+(0x0,F[_0x3616f0(0x2a3)])(this[_0x3616f0(0x817)],_0x51b895+_0x3616f0(0x130));if(L[_0x3616f0(0x527)](_0x342f30))return this[_0x3616f0(0x767)][_0x3616f0(0x52e)](_0x3616f0(0x20a)),F['default'][_0x3616f0(0x55c)](_0x342f30);let _0x16ca14=''+(0x0,F[_0x3616f0(0x2a3)])(this[_0x3616f0(0x817)],'temp-'+_0x51b895+_0x3616f0(0x312));if((0x0,k[_0x3616f0(0x539)])(_0x28a1a0)){let _0x119a1b=new Date()[_0x3616f0(0x35c)](),_0x224251=_0x28a1a0+_0x3616f0(0x680)+_0x119a1b,_0x25f44b=await Q[_0x3616f0(0x10d)]['get'](_0x224251,{'responseType':_0x3616f0(0x713)});L[_0x3616f0(0x5bb)](_0x16ca14,_0x25f44b[_0x3616f0(0x7e5)]);}else{let _0x509094=Buffer[_0x3616f0(0x2fc)](_0x28a1a0,_0x3616f0(0x26b));L[_0x3616f0(0x5bb)](_0x16ca14,_0x509094);}return new Promise((_0x1bde8d,_0x1fe7a7)=>{const _0xedbcf3=_0x3616f0;(0x0,_e[_0xedbcf3(0x64e)])(Os['default']['path']+_0xedbcf3(0x79c)+_0x16ca14+_0xedbcf3(0x206)+_0x342f30+'\x20-y',_0x580792=>{const _0x52a670=_0xedbcf3;if(L[_0x52a670(0x3d7)](_0x16ca14),_0x580792){this[_0x52a670(0x767)][_0x52a670(0x52e)](_0x52a670(0x212)),_0x1fe7a7(_0x580792);return;}this[_0x52a670(0x767)][_0x52a670(0x52e)](_0x52a670(0x5d5)),_0x1bde8d(F[_0x52a670(0x10d)][_0x52a670(0x55c)](_0x342f30));});});}async[a0_0x344519(0x3ba)](_0x38b953){const _0x1cb1dc=a0_0x344519;let _0x3edc3d={},_0x49bc13=_0x1cb1dc(0x18f);if(_0x38b953[_0x1cb1dc(0x3ba)]?.[_0x1cb1dc(0x7be)]){_0x49bc13=_0x38b953[_0x1cb1dc(0x3ba)][_0x1cb1dc(0x7be)]?.['mediatype'][_0x1cb1dc(0x5fd)]()??_0x1cb1dc(0x18f),_0x3edc3d[_0x1cb1dc(0x63c)]=_0x49bc13[_0x1cb1dc(0x5cf)]()+_0x1cb1dc(0x7fe);let _0x5018f8=await this[_0x1cb1dc(0x621)](_0x38b953[_0x1cb1dc(0x3ba)][_0x1cb1dc(0x7be)]);_0x3edc3d['message']=_0x5018f8[_0x1cb1dc(0x806)][_0x3edc3d[_0x1cb1dc(0x63c)]],_0x3edc3d[_0x1cb1dc(0x462)]='*'+_0x38b953['buttonMessage'][_0x1cb1dc(0x2e8)]+'*\x0a\x0a'+_0x38b953[_0x1cb1dc(0x3ba)]['description'];}let _0x2914f1={'text':_0x38b953['buttonMessage'][_0x1cb1dc(0x785)][_0x1cb1dc(0x41f)](_0x29cd28=>_0x29cd28['buttonText']),'ids':_0x38b953[_0x1cb1dc(0x3ba)][_0x1cb1dc(0x785)]['map'](_0x478dd8=>_0x478dd8[_0x1cb1dc(0x77b)])};if(!(0x0,k[_0x1cb1dc(0x1dd)])(_0x2914f1[_0x1cb1dc(0x634)])||!(0x0,k[_0x1cb1dc(0x1dd)])(_0x2914f1['ids']))throw new m(_0x1cb1dc(0x5e9),_0x1cb1dc(0x5c0));return await this['sendMessageWithTyping'](_0x38b953[_0x1cb1dc(0x735)],{'buttonsMessage':{'text':_0x3edc3d?.[_0x1cb1dc(0x63c)]?void 0x0:_0x38b953[_0x1cb1dc(0x3ba)]['title'],'contentText':_0x3edc3d?.[_0x1cb1dc(0x462)]??_0x38b953[_0x1cb1dc(0x3ba)][_0x1cb1dc(0x58d)],'footerText':_0x38b953['buttonMessage']?.[_0x1cb1dc(0x81a)],'buttons':_0x38b953['buttonMessage'][_0x1cb1dc(0x785)][_0x1cb1dc(0x41f)](_0x110b00=>({'buttonText':{'displayText':_0x110b00[_0x1cb1dc(0x821)]},'buttonId':_0x110b00[_0x1cb1dc(0x77b)],'type':0x1})),'headerType':f['proto'][_0x1cb1dc(0x7fe)][_0x1cb1dc(0x1be)][_0x1cb1dc(0x5b6)][_0x49bc13],[_0x3edc3d?.[_0x1cb1dc(0x63c)]]:_0x3edc3d?.[_0x1cb1dc(0x806)]}},_0x38b953?.[_0x1cb1dc(0x656)]);}async['locationMessage'](_0x70257d){const _0x1a798f=a0_0x344519;return await this[_0x1a798f(0x2b8)](_0x70257d[_0x1a798f(0x735)],{'locationMessage':{'degreesLatitude':_0x70257d['locationMessage'][_0x1a798f(0x671)],'degreesLongitude':_0x70257d[_0x1a798f(0x71c)]['longitude'],'name':_0x70257d[_0x1a798f(0x71c)]?.['name'],'address':_0x70257d[_0x1a798f(0x71c)]?.[_0x1a798f(0x105)]}},_0x70257d?.[_0x1a798f(0x656)]);}async['contactMessage'](_0x55d6a8){const _0x5defc3=a0_0x344519;let _0x2e89c3={},_0x1dff5f=async _0x297d5e=>{const _0xdca338=a0_0x3abc;let _0x575e82='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x297d5e[_0xdca338(0x291)]+_0xdca338(0x497)+_0x297d5e[_0xdca338(0x291)]+'\x0a';_0x297d5e[_0xdca338(0x404)]&&(_0x575e82+=_0xdca338(0x167)+_0x297d5e[_0xdca338(0x404)]+';\x0a'),_0x297d5e[_0xdca338(0x48d)]&&(_0x575e82+=_0xdca338(0x1e0)+_0x297d5e[_0xdca338(0x48d)]+'\x0a'),_0x297d5e[_0xdca338(0x51d)]&&(_0x575e82+=_0xdca338(0x1b2)+_0x297d5e[_0xdca338(0x51d)]+'\x0a');let _0x3df2b6='',_0x257250=0x1;if(_0x297d5e[_0xdca338(0x384)]){let _0x18b964=_0x297d5e[_0xdca338(0x384)][_0xdca338(0x134)]('|');for(let _0x248ed8 of _0x18b964){let _0x1fb028=await this['whatsappNumber']({'numbers':[_0x248ed8]}),_0x78f086=(_0x1fb028[_0xdca338(0x4e4)]>0x0?_0x1fb028[0x0][_0xdca338(0x19d)]:this['createJid'](_0x248ed8))[_0xdca338(0x477)](_0xdca338(0x221),'');_0x3df2b6+=_0xdca338(0x198)+_0x257250+'.TEL;waid='+_0x78f086+':'+_0x248ed8+_0xdca338(0x4de)+_0x257250+_0xdca338(0x45b),_0x257250++;}}return _0x575e82+=_0x3df2b6+'END:VCARD',_0x575e82;};return _0x55d6a8[_0x5defc3(0x5c4)]['length']===0x1?_0x2e89c3[_0x5defc3(0x5c4)]={'displayName':_0x55d6a8[_0x5defc3(0x5c4)][0x0][_0x5defc3(0x291)],'vcard':await _0x1dff5f(_0x55d6a8[_0x5defc3(0x5c4)][0x0])}:_0x2e89c3[_0x5defc3(0x544)]={'displayName':_0x55d6a8[_0x5defc3(0x5c4)][_0x5defc3(0x4e4)]+_0x5defc3(0x74a),'contacts':await Promise[_0x5defc3(0x1f6)](_0x55d6a8[_0x5defc3(0x5c4)][_0x5defc3(0x41f)](async _0x125a88=>({'displayName':_0x125a88[_0x5defc3(0x291)],'vcard':await _0x1dff5f(_0x125a88)})))},await this[_0x5defc3(0x2b8)](_0x55d6a8[_0x5defc3(0x735)],{..._0x2e89c3},_0x55d6a8?.['options']);}async[a0_0x344519(0x649)](_0xf5988a){const _0x27893e=a0_0x344519;return await this[_0x27893e(0x2b8)](_0xf5988a[_0x27893e(0x649)][_0x27893e(0x80d)][_0x27893e(0x5b0)],{'reactionMessage':{'key':_0xf5988a[_0x27893e(0x649)][_0x27893e(0x80d)],'text':_0xf5988a[_0x27893e(0x649)][_0x27893e(0x224)]}});}async['whatsappNumber'](_0x140ea2){const _0x45da51=a0_0x344519;let _0x35934a=[];for await(let _0x132494 of _0x140ea2[_0x45da51(0x4f9)]){let _0x2abbf0=this[_0x45da51(0x61e)](_0x132494),_0xce966d=!0x1;try{if((0x0,f['isJidGroup'])(_0x2abbf0)){let _0xff2aee=(await this[_0x45da51(0x6c9)][_0x45da51(0x351)][_0x45da51(0x1a8)]({'where':{'_id':_0x2abbf0}},this[_0x45da51(0x55b)][_0x45da51(0x2cc)]))[_0x45da51(0x796)];_0xce966d=!!_0xff2aee?.['id']&&!!_0xff2aee?.[_0x45da51(0x768)],_0x35934a[_0x45da51(0x413)](new be(_0xff2aee['id'],_0xce966d,_0xff2aee?.[_0x45da51(0x67f)]));}else{let _0x4b63c3=(await this[_0x45da51(0x24b)][_0x45da51(0x610)](_0x2abbf0))[0x0];_0xce966d=_0x4b63c3[_0x45da51(0x15b)],_0x35934a['push'](new be(_0x4b63c3[_0x45da51(0x19d)],_0xce966d));}}catch{(0x0,f[_0x45da51(0x75b)])(_0x2abbf0)||await this[_0x45da51(0x123)](_0x2abbf0,_0xce966d),_0x35934a[_0x45da51(0x413)](new be(_0x132494,!0x1));}}return _0x35934a;}async[a0_0x344519(0x123)](_0x2a8d63,_0x3d75e8){const _0x3381d7=a0_0x344519;try{await this[_0x3381d7(0x6c9)]['chat'][_0x3381d7(0x1a8)]({'where':{'_id':_0x2a8d63,'imported':!0x0}},this[_0x3381d7(0x55b)][_0x3381d7(0x2cc)])&&(_0x3d75e8||(await this[_0x3381d7(0x6c9)]['chat']['deleteChat'](_0x2a8d63,this['instance'][_0x3381d7(0x2cc)]),this['logger'][_0x3381d7(0x1af)](_0x3381d7(0x829)+_0x2a8d63+_0x3381d7(0x6e7))));}catch(_0x364555){let _0x69291e=_0x3381d7(0x220),_0x21c65f=_0x364555 instanceof Error?_0x364555['message']:typeof _0x364555==_0x3381d7(0x3fc)?JSON[_0x3381d7(0x3f5)](_0x364555):_0x364555,_0x3993bf=_0x69291e+':\x20'+_0x21c65f;this[_0x3381d7(0x767)][_0x3381d7(0x2b4)](this[_0x3381d7(0x20c)]+'\x20('+this[_0x3381d7(0x55b)][_0x3381d7(0x2cc)]+_0x3381d7(0x780)+_0x3993bf);}}async['markMessageAsRead'](_0x25d234){const _0x2bb8c0=a0_0x344519;try{let _0x4c01e7=_0x25d234[_0x2bb8c0(0x52f)][_0x2bb8c0(0x414)](_0xf81415=>(0x0,f[_0x2bb8c0(0x75b)])(_0xf81415[_0x2bb8c0(0x5b0)])||(0x0,f[_0x2bb8c0(0x2c1)])(_0xf81415[_0x2bb8c0(0x5b0)]))[_0x2bb8c0(0x41f)](_0x24fd44=>({'remoteJid':_0x24fd44[_0x2bb8c0(0x5b0)],'fromMe':_0x24fd44[_0x2bb8c0(0x20b)],'id':_0x24fd44['id']}));await this[_0x2bb8c0(0x24b)][_0x2bb8c0(0x52f)](_0x4c01e7);let _0x4c1b1c=_0x4c01e7[_0x2bb8c0(0x41f)](_0x2a5241=>this[_0x2bb8c0(0x737)](_0x2a5241,{'status':_0x2bb8c0(0x597),'owner':this['instance'][_0x2bb8c0(0x2cc)]})),_0x2b4f09=_0x4c01e7[_0x2bb8c0(0x41f)](_0x2a3842=>this['repository'][_0x2bb8c0(0x351)][_0x2bb8c0(0x608)]({'where':{'_id':_0x2a3842[_0x2bb8c0(0x5b0)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x17d72e,_0x514ac9]=await Promise['all']([Promise[_0x2bb8c0(0x1f6)](_0x4c1b1c),Promise['all'](_0x2b4f09)]);return _0x514ac9[_0x2bb8c0(0x414)](_0x1f5d9c=>_0x1f5d9c!==null)[_0x2bb8c0(0x402)](_0x2c94d5=>{const _0x3fa8fa=_0x2bb8c0;J(this[_0x3fa8fa(0x20c)],'chats',{'chat':_0x2c94d5});}),{'message':_0x2bb8c0(0x750),'read':_0x2bb8c0(0x640)};}catch(_0x314df9){let _0x35ea48=_0x2bb8c0(0x598),_0x2ede4c=_0x314df9 instanceof Error?_0x314df9[_0x2bb8c0(0x806)]:typeof _0x314df9=='object'?JSON[_0x2bb8c0(0x3f5)](_0x314df9):_0x314df9,_0x5e049c=_0x35ea48+':\x20'+_0x2ede4c;throw this[_0x2bb8c0(0x767)]['error'](this[_0x2bb8c0(0x20c)]+'\x20('+this[_0x2bb8c0(0x55b)][_0x2bb8c0(0x2cc)]+_0x2bb8c0(0x780)+_0x5e049c),new I(_0x5e049c);}}async['getLastMessage'](_0x38e3d1){const _0x4ac0c4=a0_0x344519;let _0x5cdde9={'where':{'key':{'remoteJid':_0x38e3d1}},'limit':0x1},_0x278ff2=await this[_0x4ac0c4(0x16e)](_0x5cdde9);return _0x278ff2||(console[_0x4ac0c4(0x2b4)](_0x4ac0c4(0x58b),_0x38e3d1),null);}async[a0_0x344519(0x57d)](_0x155ff1){const _0x2ac63a=a0_0x344519;this[_0x2ac63a(0x767)][_0x2ac63a(0x52e)]('Archiving\x20chat');try{let _0x30c2a9=_0x155ff1[_0x2ac63a(0x5ea)],_0x1f81fd=_0x155ff1[_0x2ac63a(0x351)];if(!_0x30c2a9&&_0x1f81fd?_0x30c2a9=await this[_0x2ac63a(0x51b)](_0x1f81fd):(_0x30c2a9=_0x155ff1['lastMessage'],_0x30c2a9[_0x2ac63a(0x665)]=_0x30c2a9?.[_0x2ac63a(0x665)]??Date['now'](),_0x1f81fd=_0x30c2a9?.[_0x2ac63a(0x80d)]?.[_0x2ac63a(0x5b0)]),!_0x30c2a9||Object['keys'](_0x30c2a9)['length']===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x2ac63a(0x767)][_0x2ac63a(0x52e)](_0x2ac63a(0x702)+_0x1f81fd);try{await this[_0x2ac63a(0x24b)][_0x2ac63a(0x7b8)]({'archive':_0x155ff1[_0x2ac63a(0x1e9)],'lastMessages':[_0x30c2a9]},this['createJid'](_0x1f81fd));}catch(_0x3e9760){let _0xc5de89=_0x2ac63a(0x1c0)+_0x1f81fd,_0xf0838f=_0x3e9760 instanceof Error?_0x3e9760[_0x2ac63a(0x806)]:typeof _0x3e9760==_0x2ac63a(0x3fc)?JSON['stringify'](_0x3e9760):_0x3e9760,_0x3591b1=_0xc5de89+':\x20'+_0xf0838f;this['logger'][_0x2ac63a(0x2b4)](this[_0x2ac63a(0x20c)]+'\x20('+this[_0x2ac63a(0x55b)][_0x2ac63a(0x2cc)]+_0x2ac63a(0x780)+_0x3591b1);}this['logger'][_0x2ac63a(0x52e)](_0x2ac63a(0x6ad)+_0x1f81fd);let _0x309909=await this['repository'][_0x2ac63a(0x351)][_0x2ac63a(0x608)]({'where':{'_id':_0x30c2a9?.[_0x2ac63a(0x80d)]?.[_0x2ac63a(0x5b0)]}},{'archived':_0x155ff1[_0x2ac63a(0x1e9)]},this[_0x2ac63a(0x55b)][_0x2ac63a(0x2cc)]);return _0x309909?(this[_0x2ac63a(0x767)][_0x2ac63a(0x52e)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x2ac63a(0x3f5)](_0x309909)),J(this[_0x2ac63a(0x20c)],_0x2ac63a(0x1c9),{'chat':_0x309909})):this[_0x2ac63a(0x767)][_0x2ac63a(0x2b4)](_0x2ac63a(0x431)+_0x1f81fd),{'chatId':_0x1f81fd,'archived':_0x155ff1[_0x2ac63a(0x1e9)]};}catch(_0x4bf669){let _0x27fddb=_0x2ac63a(0x3aa),_0x1acac1=_0x4bf669 instanceof Error?_0x4bf669['message']:typeof _0x4bf669==_0x2ac63a(0x3fc)?JSON['stringify'](_0x4bf669):_0x4bf669,_0x16de8c=_0x27fddb+':\x20'+_0x1acac1;throw this[_0x2ac63a(0x767)][_0x2ac63a(0x2b4)](this[_0x2ac63a(0x20c)]+'\x20('+this[_0x2ac63a(0x55b)][_0x2ac63a(0x2cc)]+_0x2ac63a(0x780)+_0x16de8c),new I(_0x16de8c);}}async[a0_0x344519(0x2fe)](_0x1f5872){const _0x1c6836=a0_0x344519;this[_0x1c6836(0x767)][_0x1c6836(0x52e)](_0x1c6836(0x4a0));try{let _0x176fa4=await this[_0x1c6836(0x51b)](_0x1f5872);if(!_0x176fa4||Object[_0x1c6836(0x6cc)](_0x176fa4)['length']===0x0)throw new U('Last\x20message\x20not\x20found');let _0xb6a83b=_0x176fa4[0x0];this[_0x1c6836(0x767)]['verbose'](_0x1c6836(0x5e7)+_0x1f5872);try{await this[_0x1c6836(0x24b)][_0x1c6836(0x7b8)]({'delete':!0x0,'lastMessages':[{'key':_0xb6a83b[_0x1c6836(0x80d)],'messageTimestamp':_0xb6a83b[_0x1c6836(0x665)]}]},this[_0x1c6836(0x61e)](_0x1f5872));}catch(_0x5e1dc2){this[_0x1c6836(0x767)][_0x1c6836(0x2b4)](_0x1c6836(0x1c0)+_0x1f5872+':\x20'+_0x5e1dc2['toString']());}this['logger']['verbose'](_0x1c6836(0x6ad)+_0x1f5872);return;}catch(_0xa04030){throw this[_0x1c6836(0x767)][_0x1c6836(0x2b4)](_0x1c6836(0x5de)+_0xa04030[_0x1c6836(0x2f6)]()),new I({'archived':!0x1,'message':[_0x1c6836(0x2bb),_0xa04030[_0x1c6836(0x2f6)]()]});}}async[a0_0x344519(0x7f7)](_0x303ea8){const _0x1b3e10=a0_0x344519;try{let _0x5b7869=await this[_0x1b3e10(0x24b)][_0x1b3e10(0x68a)](_0x303ea8['remoteJid'],{'delete':_0x303ea8});try{let _0x19f480=await this[_0x1b3e10(0x737)](_0x303ea8,{'status':_0x1b3e10(0x395),'owner':this['instance'][_0x1b3e10(0x2cc)]});this['logger'][_0x1b3e10(0x52e)](this[_0x1b3e10(0x20c)]+'\x20('+this['instance'][_0x1b3e10(0x2cc)]+_0x1b3e10(0x508)+_0x19f480);}catch(_0x1d2d9b){console[_0x1b3e10(0x2b4)](_0x1b3e10(0x2b5),_0x1d2d9b);}return _0x5b7869;}catch(_0x49fc44){throw new I(_0x1b3e10(0x611),_0x49fc44?.[_0x1b3e10(0x2f6)]());}}async[a0_0x344519(0x496)](_0x39b406){const _0x41992a=a0_0x344519;try{let _0x4c9f04=_0x39b406?.[_0x41992a(0x806)]?_0x39b406:await this['getMessage'](_0x39b406['key'],!0x0);for(let _0x8bb92a of ba)_0x4c9f04[_0x41992a(0x806)][_0x8bb92a]&&(_0x4c9f04[_0x41992a(0x806)]=_0x4c9f04[_0x41992a(0x806)][_0x8bb92a][_0x41992a(0x806)]);let _0x42861f,_0x3e74ec;for(let _0x4cf44f of ya)if(_0x42861f=_0x4c9f04[_0x41992a(0x806)][_0x4cf44f],_0x42861f){_0x3e74ec=_0x4cf44f;break;}if(!_0x42861f)throw _0x41992a(0x35d);typeof _0x42861f[_0x41992a(0x63c)]==_0x41992a(0x3fc)&&(_0x4c9f04[_0x41992a(0x806)]=JSON[_0x41992a(0x1bc)](JSON[_0x41992a(0x3f5)](_0x4c9f04[_0x41992a(0x806)])));let _0x62102f=await(0x0,f['downloadMediaMessage'])({'key':_0x4c9f04?.['key'],'message':_0x4c9f04?.[_0x41992a(0x806)]},'buffer',{},{'logger':(0x0,Lt[_0x41992a(0x10d)])({'level':_0x41992a(0x3ec)}),'reuploadRequest':this[_0x41992a(0x24b)]['updateMediaMessage']});if(!(_0x62102f instanceof Buffer))throw new Error(_0x41992a(0x482));let _0x467de5=this[_0x41992a(0x574)][_0x41992a(0x283)](_0x41992a(0x6a1)),_0x319107,_0x2ee6b2;if(_0x42861f[_0x41992a(0x6dc)])_0x319107=_0x42861f['fileName'];else{let _0x38994e=_0x42861f[_0x41992a(0x18e)]?.[_0x41992a(0x364)](/\/(\w+)/),_0x3c4243=_0x38994e?_0x38994e[0x1]:null;if(!_0x3c4243)throw new Error(_0x41992a(0x23f));_0x319107=(0x0,Ce['v4'])()+'.'+_0x3c4243;}_0x3e74ec===_0x41992a(0x25b)?_0x2ee6b2=_0x41992a(0x29c)+await this[_0x41992a(0x10b)](_0x62102f[_0x41992a(0x2f6)](_0x41992a(0x26b))):(await this['saveMediaToFile'](_0x62102f,_0x319107),_0x2ee6b2=_0x41992a(0x29c)+_0x319107);let _0x5c1651=this[_0x41992a(0x574)]['get'](_0x41992a(0x1e6))[_0x41992a(0x5df)];if(!_0x5c1651){let _0x5691fe=this['configService']['get'](_0x41992a(0x5a2));_0x5c1651='https://'+(_0x5691fe&&_0x5691fe[_0x41992a(0x645)]['split']('/')[0x4]);}_0x2ee6b2=''+_0x5c1651+_0x2ee6b2;let _0x5cb12a=0xc*0x3c*0x3c*0x3e8,_0x37fb7a={'where':{'_id':_0x4c9f04[_0x41992a(0x80d)]['id']}},_0x52e02c={'message_normalized.fileUrl':_0x2ee6b2,'message_normalized.expires_fileUrl':Date[_0x41992a(0x6c7)]()+_0x5cb12a};try{let _0x468379=await this[_0x41992a(0x6c9)]['message'][_0x41992a(0x729)](_0x37fb7a,_0x52e02c,this[_0x41992a(0x55b)]['wuid']);_0x468379&&J(this['instanceName'],_0x41992a(0x5d1),{'message':_0x468379});}catch(_0x14367b){let _0x34b5ac=_0x41992a(0x17c),_0xda55=_0x14367b instanceof Error?_0x14367b['message']:typeof _0x14367b=='object'?JSON[_0x41992a(0x3f5)](_0x14367b):_0x14367b,_0x29886a=_0x34b5ac+':\x20'+_0xda55;this[_0x41992a(0x767)][_0x41992a(0x2b4)](this['instanceName']+'\x20('+this[_0x41992a(0x55b)]['wuid']+_0x41992a(0x780)+_0x29886a);}return{'mediaType':_0x3e74ec,'fileName':_0x42861f[_0x41992a(0x6dc)],'caption':_0x42861f[_0x41992a(0x6e2)],'size':{'fileLength':_0x42861f['fileLength'],'height':_0x42861f[_0x41992a(0x179)],'width':_0x42861f['width']},'mimetype':_0x42861f[_0x41992a(0x18e)],'base64':_0x62102f[_0x41992a(0x2f6)](_0x41992a(0x26b)),'fileUrl':_0x2ee6b2,'expires_fileUrl':Date[_0x41992a(0x6c7)]()+_0x5cb12a};}catch(_0x15e6e5){let _0x1f9177=_0x41992a(0x14c),_0x3705dc=_0x15e6e5 instanceof Error?_0x15e6e5[_0x41992a(0x806)]:typeof _0x15e6e5==_0x41992a(0x3fc)?JSON[_0x41992a(0x3f5)](_0x15e6e5):_0x15e6e5,_0x129db1=_0x1f9177+':\x20'+_0x3705dc;throw this[_0x41992a(0x767)][_0x41992a(0x2b4)](this[_0x41992a(0x20c)]+'\x20('+this[_0x41992a(0x55b)]['wuid']+_0x41992a(0x780)+_0x129db1),new m(_0x129db1);}}async[a0_0x344519(0x3a3)](_0x4fac65,_0x44e4f4){const _0x27d768=a0_0x344519;let _0x3be242=F[_0x27d768(0x10d)][_0x27d768(0x2a3)](__dirname,_0x27d768(0x5ed));L[_0x27d768(0x527)](_0x3be242)||L['mkdirSync'](_0x3be242,{'recursive':!0x0});let _0x48206b=F[_0x27d768(0x10d)][_0x27d768(0x2a3)](_0x3be242,_0x44e4f4);return new Promise((_0x1fde16,_0x43dc49)=>{const _0x393fbd=_0x27d768;L[_0x393fbd(0x3c5)](_0x48206b,_0x4fac65,_0x1eb65b=>{const _0x47861a=_0x393fbd;_0x1eb65b?(this[_0x47861a(0x767)][_0x47861a(0x2b4)](_0x47861a(0x76a)+(_0x1eb65b instanceof Error?_0x1eb65b[_0x47861a(0x806)]:JSON[_0x47861a(0x3f5)](_0x1eb65b,null,0x2))),_0x43dc49(_0x1eb65b)):(this[_0x47861a(0x767)][_0x47861a(0x7a7)](_0x47861a(0x2d4)+_0x48206b),_0x1fde16(_0x48206b));});});}async['fetchContacts'](_0x59f5b0){const _0x317153=a0_0x344519;return await this['repository'][_0x317153(0x3d4)][_0x317153(0x1ee)](_0x59f5b0,this['instance'][_0x317153(0x2cc)]);}async[a0_0x344519(0x594)](){const _0x321e94=a0_0x344519;return await this[_0x321e94(0x6c9)][_0x321e94(0x114)][_0x321e94(0x1ee)]({'where':{}},this['instance'][_0x321e94(0x2cc)]);}async['fetchMessages'](_0x104539){const _0x507eaa=a0_0x344519;return await this[_0x507eaa(0x6c9)][_0x507eaa(0x806)][_0x507eaa(0x1ee)](_0x104539,this[_0x507eaa(0x55b)]['wuid']);}async[a0_0x344519(0x57c)](){const _0x381893=a0_0x344519;return this[_0x381893(0x6c9)][_0x381893(0x351)][_0x381893(0x3c0)](this[_0x381893(0x55b)][_0x381893(0x2cc)]),this['repository'][_0x381893(0x351)][_0x381893(0x4f7)](this[_0x381893(0x55b)]['wuid']),this[_0x381893(0x6c9)][_0x381893(0x351)][_0x381893(0x568)](this[_0x381893(0x55b)][_0x381893(0x2cc)]),this['repository'][_0x381893(0x351)][_0x381893(0x17b)](this[_0x381893(0x55b)][_0x381893(0x2cc)]),await this[_0x381893(0x6c9)][_0x381893(0x351)]['find']({'where':{}},this['instance'][_0x381893(0x2cc)]);}async[a0_0x344519(0x334)](_0x4064d7){const _0x2f2e1c=a0_0x344519;try{if(!Array[_0x2f2e1c(0x635)](_0x4064d7)||_0x4064d7['length']===0x0)throw new Error(_0x2f2e1c(0x498));let _0x1d1f40=[],_0x3c6b02=[];for(let _0x335780 of _0x4064d7){if(_0x335780[_0x2f2e1c(0x791)])_0x335780[_0x2f2e1c(0x791)]=this['createJid'](_0x335780['_id']);else continue;await this['repository'][_0x2f2e1c(0x351)][_0x2f2e1c(0x1a8)]({'where':{'_id':_0x335780[_0x2f2e1c(0x791)]}},this[_0x2f2e1c(0x55b)][_0x2f2e1c(0x2cc)])?_0x3c6b02[_0x2f2e1c(0x413)]({'_id':_0x335780[_0x2f2e1c(0x791)],'leadInfo':_0x335780[_0x2f2e1c(0x3c7)],'owner':this[_0x2f2e1c(0x55b)]['wuid']}):_0x1d1f40[_0x2f2e1c(0x413)]({'_id':_0x335780[_0x2f2e1c(0x791)],'owner':this[_0x2f2e1c(0x55b)]['wuid'],'leadInfo':_0x335780[_0x2f2e1c(0x3c7)],'imported':!0x0});}return _0x3c6b02[_0x2f2e1c(0x4e4)]>0x0&&await this['repository']['chat']['updateMany'](_0x3c6b02[_0x2f2e1c(0x41f)](_0x370ee3=>({'query':{'where':{'_id':_0x370ee3[_0x2f2e1c(0x791)],'owner':this[_0x2f2e1c(0x55b)][_0x2f2e1c(0x2cc)]}},'update':_0x370ee3}))),_0x1d1f40['length']>0x0&&await this[_0x2f2e1c(0x6c9)][_0x2f2e1c(0x351)]['insertMany'](_0x1d1f40,this[_0x2f2e1c(0x55b)][_0x2f2e1c(0x2cc)]),{'updated':_0x3c6b02[_0x2f2e1c(0x4e4)],'inserted':_0x1d1f40[_0x2f2e1c(0x4e4)]};}catch(_0x1ea3c3){let _0x1afd3c=_0x2f2e1c(0x5c7),_0x2b74d2=_0x1ea3c3 instanceof Error?_0x1ea3c3['message']:typeof _0x1ea3c3==_0x2f2e1c(0x3fc)?JSON['stringify'](_0x1ea3c3):_0x1ea3c3,_0x4afc68=_0x1afd3c+':\x20'+_0x2b74d2;throw this[_0x2f2e1c(0x767)][_0x2f2e1c(0x2b4)](this[_0x2f2e1c(0x20c)]+'\x20('+this['instance'][_0x2f2e1c(0x2cc)]+_0x2f2e1c(0x780)+_0x4afc68),new m(_0x4afc68);}}async[a0_0x344519(0x38e)](_0x51e7c7){const _0x493b2d=a0_0x344519;try{if(!Array[_0x493b2d(0x635)](_0x51e7c7)||_0x51e7c7[_0x493b2d(0x4e4)]===0x0)throw new Error(_0x493b2d(0x498));let _0x56a20f=0x64,_0x2d8c96=0x0;for(let _0x53f34d=0x0;_0x53f34d<_0x51e7c7['length'];_0x53f34d+=_0x56a20f){let _0x2b8d99=_0x51e7c7['slice'](_0x53f34d,_0x53f34d+_0x56a20f),{updated:_0x40e30c}=await this[_0x493b2d(0x747)](_0x2b8d99);_0x2d8c96+=_0x40e30c;}return{'updated':_0x2d8c96};}catch(_0x45cb1f){let _0x590b5b=_0x493b2d(0x5c7),_0x1c5230=_0x45cb1f instanceof Error?_0x45cb1f[_0x493b2d(0x806)]:typeof _0x45cb1f==_0x493b2d(0x3fc)?JSON[_0x493b2d(0x3f5)](_0x45cb1f):_0x45cb1f,_0x33b6f5=_0x590b5b+':\x20'+_0x1c5230;throw this[_0x493b2d(0x767)][_0x493b2d(0x2b4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x493b2d(0x780)+_0x33b6f5),new m(_0x33b6f5);}}async[a0_0x344519(0x747)](_0x169a38){const _0x8e0522=a0_0x344519;try{let _0x389c5c=await this['repository'][_0x8e0522(0x114)][_0x8e0522(0x1ee)]({'where':{}},this[_0x8e0522(0x55b)][_0x8e0522(0x2cc)]),_0x319195=new Set(_0x389c5c['map'](_0x3b71a1=>_0x3b71a1[_0x8e0522(0x791)])),_0x2ef39c=[],_0x376ed3=[];for(let _0x43f231 of _0x169a38){if(!_0x43f231[_0x8e0522(0x791)])continue;_0x43f231[_0x8e0522(0x791)]=this[_0x8e0522(0x61e)](_0x43f231[_0x8e0522(0x791)]);let _0x3ecae3=await this['repository'][_0x8e0522(0x351)][_0x8e0522(0x1a8)]({'where':{'_id':_0x43f231['_id']}},this[_0x8e0522(0x55b)][_0x8e0522(0x2cc)]),_0x3895ea={};if(Object[_0x8e0522(0x180)](_0x43f231[_0x8e0522(0x3c7)])['forEach'](([_0x16d2ec,_0x3fa3c9])=>{const _0x5d05fa=_0x8e0522;_0x3895ea[_0x5d05fa(0x575)+_0x16d2ec]=_0x3fa3c9;}),_0x3ecae3&&!_0x3ecae3[_0x8e0522(0x2e3)]){let _0x8dbb3d=(_0x43f231[_0x8e0522(0x3c7)][_0x8e0522(0x1b0)]||[])[_0x8e0522(0x414)](_0x4e1612=>_0x319195[_0x8e0522(0x2dd)](_0x4e1612)),_0x16f105=new Set(_0x3ecae3['leadInfo'][_0x8e0522(0x1b0)]||[]),_0x243937=_0x8dbb3d['filter'](_0x167f28=>!_0x16f105[_0x8e0522(0x2dd)](_0x167f28)),_0xb32d7c=[..._0x16f105][_0x8e0522(0x414)](_0x2c2169=>!_0x8dbb3d[_0x8e0522(0x5fb)](_0x2c2169));_0x376ed3[_0x8e0522(0x413)](..._0x243937[_0x8e0522(0x41f)](_0x386bcd=>this[_0x8e0522(0x6e8)](_0x386bcd,_0x43f231[_0x8e0522(0x791)]))),_0x376ed3[_0x8e0522(0x413)](..._0xb32d7c[_0x8e0522(0x41f)](_0x75e64d=>this['RemoveChatLabel'](_0x75e64d,_0x43f231[_0x8e0522(0x791)]))),_0x43f231[_0x8e0522(0x3c7)]['etiquetas']=_0x8dbb3d,_0x2ef39c[_0x8e0522(0x413)]({'query':{'where':{'_id':_0x43f231[_0x8e0522(0x791)],'owner':this[_0x8e0522(0x55b)][_0x8e0522(0x2cc)]}},'update':_0x3895ea});}else _0x3895ea[_0x8e0522(0x2e3)]=!0x0,_0x2ef39c[_0x8e0522(0x413)]({'query':{'where':{'_id':_0x43f231[_0x8e0522(0x791)],'owner':this[_0x8e0522(0x55b)][_0x8e0522(0x2cc)]}},'update':_0x3895ea});}let _0x3c93e0=await this[_0x8e0522(0x6c9)][_0x8e0522(0x351)][_0x8e0522(0x164)](_0x2ef39c);return await Promise[_0x8e0522(0x1f6)](_0x376ed3),{'updated':_0x3c93e0};}catch(_0x260ef7){let _0xe80053=_0x8e0522(0x5c7),_0x1551a4=_0x260ef7 instanceof Error?_0x260ef7[_0x8e0522(0x806)]:typeof _0x260ef7==_0x8e0522(0x3fc)?JSON[_0x8e0522(0x3f5)](_0x260ef7):_0x260ef7,_0xdaa786=_0xe80053+':\x20'+_0x1551a4;throw this['logger'][_0x8e0522(0x2b4)](this[_0x8e0522(0x20c)]+'\x20('+this[_0x8e0522(0x55b)][_0x8e0522(0x2cc)]+'):\x20'+_0xdaa786),new m(_0xdaa786);}}async[a0_0x344519(0x5c5)](){const _0x5356b4=a0_0x344519;return await this[_0x5356b4(0x24b)][_0x5356b4(0x5c5)]();}async[a0_0x344519(0x15f)](_0x3c0842){const _0x4c538f=a0_0x344519;try{return await this['client'][_0x4c538f(0x375)](_0x3c0842['privacySettings'][_0x4c538f(0x7ea)]),await this[_0x4c538f(0x24b)][_0x4c538f(0x29f)](_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x520)]),await this['client'][_0x4c538f(0x7f3)](_0x3c0842[_0x4c538f(0x132)]['status']),await this[_0x4c538f(0x24b)][_0x4c538f(0x246)](_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x504)]),await this[_0x4c538f(0x24b)]['updateLastSeenPrivacy'](_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x155)]),await this[_0x4c538f(0x24b)][_0x4c538f(0x2ab)](_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x7ed)]),this['client']?.['ws']?.['close'](),{'update':_0x4c538f(0x640),'data':{'readreceipts':_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x7ea)],'profile':_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x520)],'status':_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x197)],'online':_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x504)],'last':_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x155)],'groupadd':_0x3c0842[_0x4c538f(0x132)][_0x4c538f(0x7ed)]}};}catch(_0x420dfc){let _0x5591eb='Erro\x20ao\x20alterar\x20privacidade',_0x4d0458=_0x420dfc instanceof Error?_0x420dfc[_0x4c538f(0x806)]:typeof _0x420dfc==_0x4c538f(0x3fc)?JSON[_0x4c538f(0x3f5)](_0x420dfc):_0x420dfc,_0x1c1958=_0x5591eb+':\x20'+_0x4d0458;throw this[_0x4c538f(0x767)][_0x4c538f(0x2b4)](this['instanceName']+'\x20('+this[_0x4c538f(0x55b)]['wuid']+_0x4c538f(0x780)+_0x1c1958),new m(_0x1c1958);}}async['fetchProfile'](_0x449091){const _0x50fc5c=a0_0x344519;let _0x45d647=(_0x449091?this['createJid'](_0x449091):this['client']?.[_0x50fc5c(0x406)]?.['id'])[_0x50fc5c(0x477)](/:\d{1,2}@/g,'@');this[_0x50fc5c(0x767)][_0x50fc5c(0x52e)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x45d647);let _0x59c92b=await this[_0x50fc5c(0x6c9)][_0x50fc5c(0x3d4)][_0x50fc5c(0x1a8)]({'where':{'_id':_0x45d647}},this[_0x50fc5c(0x55b)][_0x50fc5c(0x2cc)]),_0x2ae570=_0x59c92b?_0x59c92b[_0x50fc5c(0x2df)]:null;try{let _0x6831ea=(await this[_0x50fc5c(0x7c1)]({'numbers':[_0x45d647]}))?.[_0x50fc5c(0x2ba)](),_0x50820a=(await this['findAndUpdateCacheContact'](_0x45d647,null,!0x1))[_0x50fc5c(0x7a6)]['pictureUrl'],_0x36d9c2=await this[_0x50fc5c(0x148)](_0x6831ea?.[_0x50fc5c(0x19d)]),_0x3539e1=await this[_0x50fc5c(0x2bc)](_0x6831ea?.[_0x50fc5c(0x19d)]),_0x3fc4ad=(await this[_0x50fc5c(0x46b)](_0x45d647,null,!0x1))[_0x50fc5c(0x7a6)][_0x50fc5c(0x731)],_0x24dbe8=await this[_0x50fc5c(0x6c9)][_0x50fc5c(0x351)]['findOne']({'where':{'_id':_0x45d647}},this[_0x50fc5c(0x55b)]['wuid']),_0x58aef4={'imagechat':_0x50820a,'contactname':_0x2ae570||null,'pushName':_0x3fc4ad,'status':_0x36d9c2?.['status'],'isBusiness':_0x3539e1['isBusiness'],'email':_0x3539e1?.[_0x50fc5c(0x48d)],'description':_0x3539e1?.[_0x50fc5c(0x58d)],'website':_0x3539e1?.[_0x50fc5c(0x6c4)]?.[_0x50fc5c(0x2ba)](),'lastcache':Date[_0x50fc5c(0x6c7)](),'imported':!_0x24dbe8},_0x3bcf7b=await this[_0x50fc5c(0x6c9)][_0x50fc5c(0x351)][_0x50fc5c(0x608)]({'where':{'_id':_0x45d647}},_0x58aef4,this['instance'][_0x50fc5c(0x2cc)]),_0x36b883={'owner':this['instance'][_0x50fc5c(0x2cc)],'_id':_0x45d647,'profilePictureUrl':_0x50820a,'status':_0x36d9c2?.[_0x50fc5c(0x197)]};return this[_0x50fc5c(0x6c9)][_0x50fc5c(0x3d4)][_0x50fc5c(0x729)]([_0x36b883],this[_0x50fc5c(0x55b)][_0x50fc5c(0x2cc)]),_0x3bcf7b&&J(this['instanceName'],_0x50fc5c(0x1c9),{'chat':_0x3bcf7b}),{'wuid':_0x6831ea?.['jid']||_0x45d647,'name':_0x6831ea?.[_0x50fc5c(0x731)],'pushName':_0x3fc4ad,'numberExists':_0x6831ea?.[_0x50fc5c(0x15b)],'picture':_0x50820a,'status':_0x36d9c2?.[_0x50fc5c(0x197)],'isBusiness':_0x3539e1[_0x50fc5c(0x43d)],'email':_0x3539e1?.[_0x50fc5c(0x48d)],'description':_0x3539e1?.[_0x50fc5c(0x58d)],'website':_0x3539e1?.['website']?.['shift']()};}catch(_0x12ff6a){return this[_0x50fc5c(0x767)][_0x50fc5c(0x2b4)](_0x50fc5c(0x16c)+(_0x12ff6a instanceof Error?_0x12ff6a[_0x50fc5c(0x806)]:JSON['stringify'](_0x12ff6a,null,0x2))),{};}}async[a0_0x344519(0x2bc)](_0x388b64){const _0x4d0c7a=a0_0x344519;this[_0x4d0c7a(0x767)][_0x4d0c7a(0x52e)]('Fetching\x20business\x20profile');try{let _0x750c4f=_0x388b64?this[_0x4d0c7a(0x61e)](_0x388b64):this[_0x4d0c7a(0x55b)][_0x4d0c7a(0x2cc)],_0x403537=await this[_0x4d0c7a(0x24b)][_0x4d0c7a(0x81e)](_0x750c4f);return this[_0x4d0c7a(0x767)][_0x4d0c7a(0x52e)](_0x4d0c7a(0x251)),_0x403537?(this[_0x4d0c7a(0x767)][_0x4d0c7a(0x52e)](_0x4d0c7a(0x1ff)),{'isBusiness':!0x0,..._0x403537}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x4d0c7a(0x7c1)]({'numbers':[_0x750c4f]}))?.['shift']()};}catch(_0x9dae12){let _0x34eafb=_0x4d0c7a(0x712),_0x24bb9a=_0x9dae12 instanceof Error?_0x9dae12[_0x4d0c7a(0x806)]:typeof _0x9dae12==_0x4d0c7a(0x3fc)?JSON[_0x4d0c7a(0x3f5)](_0x9dae12):_0x9dae12,_0x2efd8e=_0x34eafb+':\x20'+_0x24bb9a;throw this[_0x4d0c7a(0x767)]['error'](this[_0x4d0c7a(0x20c)]+'\x20('+this[_0x4d0c7a(0x55b)][_0x4d0c7a(0x2cc)]+_0x4d0c7a(0x780)+_0x2efd8e),new I(_0x2efd8e);}}async['getStatus'](_0x4f674a){const _0x1e2b36=a0_0x344519;let _0x5e4db1=this[_0x1e2b36(0x61e)](_0x4f674a);try{return{'wuid':_0x5e4db1,'status':(await this[_0x1e2b36(0x24b)][_0x1e2b36(0x72c)](_0x5e4db1))?.[_0x1e2b36(0x197)]};}catch{return{'wuid':_0x5e4db1,'status':null};}}async['updateProfileName'](_0x4b2496){const _0x2e61e6=a0_0x344519;try{return await this[_0x2e61e6(0x24b)]['updateProfileName'](_0x4b2496),{'update':_0x2e61e6(0x640)};}catch(_0xdea4c3){let _0x2e88bf=_0x2e61e6(0x321),_0x2156cb=_0xdea4c3 instanceof Error?_0xdea4c3[_0x2e61e6(0x806)]:typeof _0xdea4c3==_0x2e61e6(0x3fc)?JSON[_0x2e61e6(0x3f5)](_0xdea4c3):_0xdea4c3,_0xea3d7d=_0x2e88bf+':\x20'+_0x2156cb;throw this[_0x2e61e6(0x767)][_0x2e61e6(0x2b4)](this[_0x2e61e6(0x20c)]+'\x20('+this[_0x2e61e6(0x55b)][_0x2e61e6(0x2cc)]+'):\x20'+_0xea3d7d),new I(_0xea3d7d);}}async[a0_0x344519(0x2a6)](_0x4b9d58){const _0xad48a0=a0_0x344519;try{return await this[_0xad48a0(0x24b)][_0xad48a0(0x2a6)](_0x4b9d58),{'update':_0xad48a0(0x640)};}catch(_0x22f267){let _0x42f338=_0xad48a0(0x2db),_0x2fa643=_0x22f267 instanceof Error?_0x22f267[_0xad48a0(0x806)]:typeof _0x22f267==_0xad48a0(0x3fc)?JSON['stringify'](_0x22f267):_0x22f267,_0xeec6c9=_0x42f338+':\x20'+_0x2fa643;throw this[_0xad48a0(0x767)][_0xad48a0(0x2b4)](this['instanceName']+'\x20('+this[_0xad48a0(0x55b)][_0xad48a0(0x2cc)]+_0xad48a0(0x780)+_0xeec6c9),new I(_0xeec6c9);}}async[a0_0x344519(0x7fc)](_0x2b8260){const _0x4c3e43=a0_0x344519;try{let _0x22943c;if((0x0,k['isURL'])(_0x2b8260)){let _0x4e201=new Date()[_0x4c3e43(0x35c)](),_0x3a8c31=_0x2b8260+_0x4c3e43(0x680)+_0x4e201;_0x22943c=(await Q[_0x4c3e43(0x10d)]['get'](_0x3a8c31,{'responseType':_0x4c3e43(0x713)}))['data'];}else{if((0x0,k['isBase64'])(_0x2b8260))_0x22943c=Buffer[_0x4c3e43(0x2fc)](_0x2b8260,'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x4c3e43(0x24b)]['updateProfilePicture'](this['instance']['wuid'],_0x22943c),{'update':_0x4c3e43(0x640)};}catch(_0x2cc8c0){let _0xf589f3=_0x4c3e43(0x66e),_0x84d7a=_0x2cc8c0 instanceof Error?_0x2cc8c0['message']:typeof _0x2cc8c0=='object'?JSON[_0x4c3e43(0x3f5)](_0x2cc8c0):_0x2cc8c0,_0x4837c3=_0xf589f3+':\x20'+_0x84d7a;throw this[_0x4c3e43(0x767)][_0x4c3e43(0x2b4)](this[_0x4c3e43(0x20c)]+'\x20('+this[_0x4c3e43(0x55b)][_0x4c3e43(0x2cc)]+_0x4c3e43(0x780)+_0x4837c3),new I(_0x4837c3);}}async['removeProfilePicture'](){const _0x54662c=a0_0x344519;try{return await this[_0x54662c(0x24b)][_0x54662c(0x1f7)](this[_0x54662c(0x55b)][_0x54662c(0x2cc)]),{'update':_0x54662c(0x640)};}catch(_0x543cb2){let _0x4e119a=_0x54662c(0x69e),_0x267501=_0x543cb2 instanceof Error?_0x543cb2['message']:typeof _0x543cb2==_0x54662c(0x3fc)?JSON[_0x54662c(0x3f5)](_0x543cb2):_0x543cb2,_0x40720a=_0x4e119a+':\x20'+_0x267501;throw this['logger'][_0x54662c(0x2b4)](this[_0x54662c(0x20c)]+'\x20('+this[_0x54662c(0x55b)][_0x54662c(0x2cc)]+_0x54662c(0x780)+_0x40720a),new I(_0x40720a);}}async[a0_0x344519(0x827)](_0x4a6428){const _0x11313c=a0_0x344519;try{let _0x23da32=(await this[_0x11313c(0x7c1)]({'numbers':_0x4a6428['participants']}))[_0x11313c(0x414)](_0x15dc80=>_0x15dc80[_0x11313c(0x15b)])[_0x11313c(0x41f)](_0x4c6a39=>_0x4c6a39['jid']),{id:_0x5c07fe}=await this[_0x11313c(0x24b)][_0x11313c(0x652)](_0x4a6428[_0x11313c(0x67f)],_0x23da32);_0x4a6428?.['description']&&await this['client']['groupUpdateDescription'](_0x5c07fe,_0x4a6428['description']);let _0x2f5f50=await this['client']['groupMetadata'](_0x5c07fe);return _0x2f5f50[_0x11313c(0x2e2)]=[],{'metadata':_0x2f5f50};}catch(_0x5573ef){let _0xe8dc40=_0x11313c(0x494),_0x5e3dde=_0x5573ef instanceof Error?_0x5573ef[_0x11313c(0x806)]:typeof _0x5573ef=='object'?JSON[_0x11313c(0x3f5)](_0x5573ef):_0x5573ef,_0x3ac28b=_0xe8dc40+':\x20'+_0x5e3dde;throw this[_0x11313c(0x767)][_0x11313c(0x2b4)](this[_0x11313c(0x20c)]+'\x20('+this['instance'][_0x11313c(0x2cc)]+_0x11313c(0x780)+_0x3ac28b),new I(_0x3ac28b);}}async[a0_0x344519(0x2de)](_0x127c73){const _0xf6fb6a=a0_0x344519;try{if(_0x127c73[_0xf6fb6a(0x324)]===!0x0&&await this[_0xf6fb6a(0x24b)][_0xf6fb6a(0x63d)](_0x127c73[_0xf6fb6a(0x4bf)],_0xf6fb6a(0x2cf)),_0x127c73['restrict']===!0x1&&await this[_0xf6fb6a(0x24b)]['groupSettingUpdate'](_0x127c73['groupJid'],_0xf6fb6a(0x2aa)),_0x127c73[_0xf6fb6a(0x3e2)]===!0x0&&await this[_0xf6fb6a(0x24b)][_0xf6fb6a(0x63d)](_0x127c73[_0xf6fb6a(0x4bf)],'announcement'),_0x127c73['announce']===!0x1&&await this[_0xf6fb6a(0x24b)][_0xf6fb6a(0x63d)](_0x127c73['groupJid'],_0xf6fb6a(0x66b)),_0x127c73[_0xf6fb6a(0x112)]===!0x0&&await this[_0xf6fb6a(0x24b)][_0xf6fb6a(0x82a)](_0x127c73[_0xf6fb6a(0x4bf)],'all_member_add'),_0x127c73[_0xf6fb6a(0x112)]===!0x1&&await this[_0xf6fb6a(0x24b)]['groupMemberAddMode'](_0x127c73[_0xf6fb6a(0x4bf)],_0xf6fb6a(0x318)),_0x127c73[_0xf6fb6a(0x407)]===!0x0&&await this[_0xf6fb6a(0x24b)][_0xf6fb6a(0x4e9)](_0x127c73[_0xf6fb6a(0x4bf)],'on'),_0x127c73['joinApprovalMode']===!0x1&&await this[_0xf6fb6a(0x24b)][_0xf6fb6a(0x4e9)](_0x127c73[_0xf6fb6a(0x4bf)],_0xf6fb6a(0x4fe)),typeof _0x127c73[_0xf6fb6a(0x5ac)]<'u'&&_0x127c73[_0xf6fb6a(0x5ac)]!==null&&await this[_0xf6fb6a(0x24b)][_0xf6fb6a(0x47f)](_0x127c73[_0xf6fb6a(0x4bf)],_0x127c73[_0xf6fb6a(0x5ac)]),_0x127c73[_0xf6fb6a(0x731)]&&await this['client'][_0xf6fb6a(0x458)](_0x127c73['groupJid'],_0x127c73[_0xf6fb6a(0x731)]),_0x127c73[_0xf6fb6a(0x58d)]&&await this[_0xf6fb6a(0x24b)][_0xf6fb6a(0x470)](_0x127c73['groupJid'],_0x127c73[_0xf6fb6a(0x58d)]),_0x127c73[_0xf6fb6a(0x4dd)]){let _0x56f32e;if((0x0,k[_0xf6fb6a(0x539)])(_0x127c73['image'])){let _0xdd143a=new Date()[_0xf6fb6a(0x35c)](),_0x1480cf=_0x127c73[_0xf6fb6a(0x4dd)]+'?timestamp='+_0xdd143a;_0x56f32e=(await Q[_0xf6fb6a(0x10d)][_0xf6fb6a(0x283)](_0x1480cf,{'responseType':_0xf6fb6a(0x713)}))[_0xf6fb6a(0x7e5)];}else{if((0x0,k[_0xf6fb6a(0x1a3)])(_0x127c73[_0xf6fb6a(0x4dd)]))_0x56f32e=Buffer[_0xf6fb6a(0x2fc)](_0x127c73[_0xf6fb6a(0x4dd)],_0xf6fb6a(0x26b));else throw new m(_0xf6fb6a(0x168));}await this['client'][_0xf6fb6a(0x7fc)](_0x127c73[_0xf6fb6a(0x4bf)],_0x56f32e);}return await this['findGroup']({'groupJid':_0x127c73[_0xf6fb6a(0x4bf)]});}catch(_0x4eca4d){let _0x3ad5b3='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x43f17e=_0x4eca4d instanceof Error?_0x4eca4d[_0xf6fb6a(0x806)]:typeof _0x4eca4d=='object'?JSON['stringify'](_0x4eca4d):_0x4eca4d,_0x292dab=_0x3ad5b3+':\x20'+_0x43f17e;throw this[_0xf6fb6a(0x767)][_0xf6fb6a(0x2b4)](this[_0xf6fb6a(0x20c)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x292dab),new I(_0x292dab);}}async[a0_0x344519(0x739)](_0xf943d9){const _0x53ff7b=a0_0x344519;try{if(_0xf943d9['action']===_0x53ff7b(0x3d3)||_0xf943d9[_0x53ff7b(0x2b1)]===_0x53ff7b(0x3c8)){let _0x1800da=_0xf943d9[_0x53ff7b(0x56c)][_0x53ff7b(0x41f)](_0xe2d4cf=>this[_0x53ff7b(0x61e)](_0xe2d4cf));await this['client'][_0x53ff7b(0x263)](_0xf943d9[_0x53ff7b(0x4bf)],_0x1800da,_0xf943d9[_0x53ff7b(0x2b1)]);}else{if(_0xf943d9[_0x53ff7b(0x2b1)]===_0x53ff7b(0x305)){let _0x1a8772=(await this['whatsappNumber']({'numbers':_0xf943d9['participants']}))[_0x53ff7b(0x414)](_0x12577f=>_0x12577f[_0x53ff7b(0x15b)])[_0x53ff7b(0x41f)](_0x2a1da3=>this['createJid'](_0x2a1da3[_0x53ff7b(0x19d)]));if(_0x1a8772['length']===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x53ff7b(0x24b)][_0x53ff7b(0x13e)](_0xf943d9[_0x53ff7b(0x4bf)],_0x1a8772,'add');}else{let _0x3b3321=_0xf943d9['participants']['map'](_0x52caf6=>this['createJid'](_0x52caf6));await this[_0x53ff7b(0x24b)][_0x53ff7b(0x13e)](_0xf943d9[_0x53ff7b(0x4bf)],_0x3b3321,_0xf943d9[_0x53ff7b(0x2b1)]);}}return await this[_0x53ff7b(0x493)]({'groupJid':_0xf943d9['groupJid']});}catch(_0x1b996a){let _0x68a811=_0x53ff7b(0x6be),_0x3c5076=_0x1b996a instanceof Error?_0x1b996a[_0x53ff7b(0x806)]:typeof _0x1b996a==_0x53ff7b(0x3fc)?JSON[_0x53ff7b(0x3f5)](_0x1b996a):_0x1b996a,_0x132657=_0x68a811+':\x20'+_0x3c5076;throw this[_0x53ff7b(0x767)][_0x53ff7b(0x2b4)](this[_0x53ff7b(0x20c)]+'\x20('+this[_0x53ff7b(0x55b)][_0x53ff7b(0x2cc)]+_0x53ff7b(0x780)+_0x132657),new m(_0x132657);}}async[a0_0x344519(0x662)](_0x4dff72){const _0x14b35a=a0_0x344519;try{return await this[_0x14b35a(0x24b)][_0x14b35a(0x662)](_0x4dff72[_0x14b35a(0x561)]);}catch(_0x58d2d5){let _0x211d7d=_0x14b35a(0x5b5),_0x456697=_0x58d2d5 instanceof Error?_0x58d2d5[_0x14b35a(0x806)]:typeof _0x58d2d5=='object'?JSON['stringify'](_0x58d2d5):_0x58d2d5,_0x44e55b=_0x211d7d+':\x20'+_0x456697;throw this[_0x14b35a(0x767)][_0x14b35a(0x2b4)](this[_0x14b35a(0x20c)]+'\x20('+this[_0x14b35a(0x55b)][_0x14b35a(0x2cc)]+_0x14b35a(0x780)+_0x44e55b),new m(_0x44e55b);}}async['findGroup'](_0x3b3d22,_0x1a37e9=a0_0x344519(0x1ec)){const _0x18a499=a0_0x344519;try{let _0x513c02=await this[_0x18a499(0x6c9)]['chat'][_0x18a499(0x1a8)]({'where':{'_id':_0x3b3d22[_0x18a499(0x4bf)]}},this[_0x18a499(0x55b)]['wuid']),_0x1fa121=_0x513c02?_0x513c02[_0x18a499(0x796)]:null,_0x5643dd=0x18*0x3c*0x3c*0x3e8;if(!_0x1fa121||_0x1fa121[_0x18a499(0x744)]&&Date['now']()-_0x1fa121['lastUpdate']>_0x5643dd){let _0x4e9d60=await this['client'][_0x18a499(0x793)](_0x3b3d22[_0x18a499(0x4bf)]);if(_0x4e9d60[_0x18a499(0x3ed)]=_0x4e9d60?.['subjectTime']&&_0x4e9d60[_0x18a499(0x3ed)]['toString']()[_0x18a499(0x4e4)]<0xd?_0x4e9d60?.[_0x18a499(0x3ed)]*0x3e8:_0x4e9d60?.[_0x18a499(0x3ed)]||null,_0x4e9d60[_0x18a499(0x68c)]=_0x4e9d60?.['creation']&&_0x4e9d60[_0x18a499(0x68c)][_0x18a499(0x2f6)]()[_0x18a499(0x4e4)]<0xd?_0x4e9d60?.[_0x18a499(0x68c)]*0x3e8:_0x4e9d60?.['creation']||null,_0x1fa121={..._0x4e9d60,'lastUpdate':Date[_0x18a499(0x6c7)]()},!_0x4e9d60)return;}let _0x5a06c0=_0x1fa121[_0x18a499(0x56c)][_0x18a499(0x19f)](_0x472c1d=>_0x472c1d['id']===this[_0x18a499(0x55b)]['wuid']+_0x18a499(0x221)&&_0x472c1d[_0x18a499(0x510)]!=null);!_0x1fa121['inviteCode']&&_0x5a06c0&&(_0x1fa121['inviteCode']=(await this[_0x18a499(0x561)](_0x3b3d22,!0x1))[_0x18a499(0x733)]);let _0x472195=(!_0x1fa121[_0x18a499(0x3e2)]||_0x5a06c0)&&(!_0x1fa121['isCommunity']||_0x1fa121[_0x18a499(0x4b1)]&&_0x1fa121['isCommunityAnnounce']&&_0x5a06c0);_0x1fa121[_0x18a499(0x7ff)]=_0x5a06c0,_0x1fa121[_0x18a499(0x768)]=_0x472195;let _0x3d4e36=[];if(_0x5a06c0&&_0x1fa121[_0x18a499(0x407)])try{_0x3d4e36=await this[_0x18a499(0x24b)][_0x18a499(0x39d)](_0x3b3d22[_0x18a499(0x4bf)]),_0x1fa121['lastFetchAwaitingApproval']=Date[_0x18a499(0x6c7)]();}catch(_0x125f6e){this[_0x18a499(0x767)][_0x18a499(0x52e)](this[_0x18a499(0x20c)]+'\x20('+this[_0x18a499(0x55b)][_0x18a499(0x2cc)]+_0x18a499(0x360)+_0x3b3d22[_0x18a499(0x4bf)]+':\x20'+(_0x125f6e instanceof Error?_0x125f6e[_0x18a499(0x806)]:JSON[_0x18a499(0x3f5)](_0x125f6e,null,0x2)));}try{_0x1fa121['image']=(await this[_0x18a499(0x46b)](_0x3b3d22[_0x18a499(0x4bf)],null,!0x0))[_0x18a499(0x7a6)][_0x18a499(0x422)];}catch(_0x12dffd){this[_0x18a499(0x767)][_0x18a499(0x52e)](this[_0x18a499(0x20c)]+'\x20('+this[_0x18a499(0x55b)][_0x18a499(0x2cc)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x3b3d22[_0x18a499(0x4bf)]+':\x20'+(_0x12dffd instanceof Error?_0x12dffd['message']:JSON[_0x18a499(0x3f5)](_0x12dffd,null,0x2)));}let _0x5740b0=_0x1fa121[_0x18a499(0x56c)]['map'](_0x4c9d7a=>_0x4c9d7a['id']),_0x42e510=_0x3d4e36[_0x18a499(0x41f)](_0x358d9b=>_0x358d9b[_0x18a499(0x19d)]),_0x80b3e2=await this[_0x18a499(0x6c9)][_0x18a499(0x2b6)]['findManyByIds']([..._0x5740b0,..._0x42e510]);_0x1fa121['participants']=_0x1fa121[_0x18a499(0x56c)][_0x18a499(0x41f)](_0x7d2b3d=>{const _0x18ab01=_0x18a499;let _0x5ad353=_0x80b3e2['find'](_0x28b44c=>_0x28b44c[_0x18ab01(0x791)]===_0x7d2b3d['id']);return{'id':_0x7d2b3d['id'],'isAdmin':[_0x18ab01(0x510),'superadmin'][_0x18ab01(0x5fb)](_0x7d2b3d[_0x18ab01(0x510)]),'admin':_0x7d2b3d[_0x18ab01(0x510)],'pushName':_0x5ad353?.[_0x18ab01(0x731)],'profilePictureUrl':_0x5ad353?.[_0x18ab01(0x422)]};}),_0x1fa121[_0x18a499(0x2e2)]=_0x3d4e36[_0x18a499(0x41f)](_0x2de09f=>{const _0x3eabe1=_0x18a499;let _0x2dd433=_0x80b3e2[_0x3eabe1(0x1ee)](_0x322913=>_0x322913['_id']===_0x2de09f['jid']);return{'id':_0x2de09f[_0x3eabe1(0x19d)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x2dd433?.['name'],'profilePictureUrl':_0x2dd433?.[_0x3eabe1(0x422)],'request_method':_0x2de09f[_0x3eabe1(0x7ca)],'request_time':_0x2de09f[_0x3eabe1(0x66f)]};});let _0x110d47=await this[_0x18a499(0x6c9)][_0x18a499(0x351)]['updateOne']({'where':{'_id':_0x3b3d22['groupJid']}},{'imagechat':_0x1fa121['image'],'name':_0x1fa121['subject'],'lastcache':Date[_0x18a499(0x6c7)](),'groupdata':_0x1fa121},this[_0x18a499(0x55b)][_0x18a499(0x2cc)]);return J(this[_0x18a499(0x20c)],_0x18a499(0x1c9),{'chat':_0x110d47}),{'metadata':_0x1fa121};}catch(_0x4360f7){if(_0x1a37e9===_0x18a499(0x518))return;throw new U(_0x18a499(0x619),_0x4360f7[_0x18a499(0x806)]['toString']());}}async[a0_0x344519(0x6dd)](){const _0x5415b2=a0_0x344519;try{let _0x8393f4=[],_0xc0ac4a=await this[_0x5415b2(0x24b)][_0x5415b2(0x3f9)](),_0xc0e32=Object['values'](_0xc0ac4a),_0x22f2be=_0xc0e32[_0x5415b2(0x414)](_0x738013=>(0x0,f['isJidGroup'])(_0x738013?.['id']))[_0x5415b2(0x41f)](async _0xf36795=>{const _0xfc34b1=_0x5415b2;try{return await this[_0xfc34b1(0x24b)][_0xfc34b1(0x177)](_0xf36795['id'],_0xfc34b1(0x3fb));}catch(_0x369daa){return this[_0xfc34b1(0x767)][_0xfc34b1(0x52e)](this[_0xfc34b1(0x20c)]+'\x20('+this[_0xfc34b1(0x55b)][_0xfc34b1(0x2cc)]+_0xfc34b1(0x12d)+_0xf36795['id']+':\x20'+(_0x369daa instanceof Error?_0x369daa[_0xfc34b1(0x806)]:JSON[_0xfc34b1(0x3f5)](_0x369daa,null,0x2))),null;}}),_0xe024fe=await Promise[_0x5415b2(0x1f6)](_0x22f2be);for(let _0x10b2c5=0x0;_0x10b2c5<_0xc0e32[_0x5415b2(0x4e4)];_0x10b2c5++){let _0x2615b6=_0xc0e32[_0x10b2c5];(0x0,f[_0x5415b2(0x75b)])(_0x2615b6?.['id'])&&(_0x8393f4[_0x5415b2(0x413)]({'groupJid':_0x2615b6?.['id'],'subject':_0x2615b6?.[_0x5415b2(0x67f)],'subjectOwner':_0x2615b6?.[_0x5415b2(0x5bd)]?.[_0x5415b2(0x134)]('@')[0x0],'subjectTime':_0x2615b6?.[_0x5415b2(0x3ed)],'creation':_0x2615b6?.[_0x5415b2(0x68c)],'size':_0x2615b6?.['participants']?.[_0x5415b2(0x4e4)],'owner':_0x2615b6?.[_0x5415b2(0x4b3)]?.['split']('@')[0x0],'desc':_0x2615b6?.[_0x5415b2(0x1da)],'restrict':_0x2615b6?.[_0x5415b2(0x324)],'announce':_0x2615b6?.['announce'],'image':_0xe024fe[_0x10b2c5],'isCommunity':_0x2615b6?.[_0x5415b2(0x4b1)],'joinApprovalMode':_0x2615b6?.[_0x5415b2(0x407)],'memberCanAddParticipant':_0x2615b6?.[_0x5415b2(0x112)],'participants':_0x2615b6?.[_0x5415b2(0x56c)],'descOwner':_0x2615b6?.[_0x5415b2(0x71b)],'descId':_0x2615b6?.[_0x5415b2(0x32b)],'memberAddMode':_0x2615b6?.[_0x5415b2(0x112)],'isCommunityAnnounce':_0x2615b6?.['isCommunityAnnounce'],'ephemeralDuration':_0x2615b6?.[_0x5415b2(0x153)]||0x0,'author':_0x2615b6?.['author']}),this[_0x5415b2(0x653)](_0xc0e32[_0x10b2c5]));}return _0x8393f4;}catch(_0x2fb8e5){let _0x20ad5e=_0x5415b2(0x28a),_0x444e2e=_0x2fb8e5 instanceof Error?_0x2fb8e5[_0x5415b2(0x806)]:typeof _0x2fb8e5==_0x5415b2(0x3fc)?JSON[_0x5415b2(0x3f5)](_0x2fb8e5):_0x2fb8e5,_0x516ee9=_0x20ad5e+':\x20'+_0x444e2e;throw this[_0x5415b2(0x767)][_0x5415b2(0x2b4)](this[_0x5415b2(0x20c)]+'\x20('+this[_0x5415b2(0x55b)][_0x5415b2(0x2cc)]+_0x5415b2(0x780)+_0x516ee9),new U(_0x516ee9);}}async['updateChatGroupData'](_0x2c6280){const _0x4588a5=a0_0x344519;let _0x16cfaf=await this[_0x4588a5(0x6c9)][_0x4588a5(0x351)][_0x4588a5(0x1a8)]({'where':{'_id':_0x2c6280['id']}},this[_0x4588a5(0x55b)][_0x4588a5(0x2cc)]);_0x2c6280['subjectTime']=_0x2c6280?.['subjectTime']&&_0x2c6280[_0x4588a5(0x3ed)][_0x4588a5(0x2f6)]()[_0x4588a5(0x4e4)]<0xd?_0x2c6280?.[_0x4588a5(0x3ed)]*0x3e8:_0x2c6280?.[_0x4588a5(0x3ed)]||null,_0x2c6280['creation']=_0x2c6280?.[_0x4588a5(0x68c)]&&_0x2c6280[_0x4588a5(0x68c)][_0x4588a5(0x2f6)]()['length']<0xd?_0x2c6280?.[_0x4588a5(0x68c)]*0x3e8:_0x2c6280?.['creation']||null;let _0x42e667=_0x16cfaf?.['groupdata']?.[_0x4588a5(0x2e2)]||[],_0x16e2c7=_0x16cfaf?.['groupdata']?.[_0x4588a5(0x81b)],_0x477dec=_0x2c6280[_0x4588a5(0x56c)][_0x4588a5(0x41f)](_0x3b8daf=>{const _0x3f2a64=_0x4588a5;let _0x120677=_0x16cfaf?.['groupdata']?.[_0x3f2a64(0x56c)][_0x3f2a64(0x1ee)](_0xb1d85a=>_0xb1d85a['id']===_0x3b8daf['id']);return{..._0x3b8daf,'isAdmin':[_0x3f2a64(0x510),_0x3f2a64(0x529)][_0x3f2a64(0x5fb)](_0x3b8daf['admin']),'admin':_0x3b8daf[_0x3f2a64(0x510)],'name':_0x120677?.[_0x3f2a64(0x731)]||_0x3b8daf[_0x3f2a64(0x731)],'imgUrl':_0x120677?.[_0x3f2a64(0x69c)]||_0x3b8daf[_0x3f2a64(0x69c)]};}),_0x4a9b48=_0x477dec['some'](_0x3e97ba=>_0x3e97ba['id']===this[_0x4588a5(0x55b)][_0x4588a5(0x2cc)]+_0x4588a5(0x221)&&_0x3e97ba[_0x4588a5(0x7ff)]),_0x3be5c4=(!_0x2c6280[_0x4588a5(0x3e2)]||_0x4a9b48)&&(!_0x2c6280['isCommunity']||_0x2c6280[_0x4588a5(0x4b1)]&&_0x2c6280['isCommunityAnnounce']&&_0x4a9b48),_0x152696={..._0x2c6280,'participants':_0x477dec,'awaitingApproval':_0x42e667,'lastFetchAwaitingApproval':_0x16e2c7,'isAdmin':_0x4a9b48,'canSendMessage':_0x3be5c4,'lastUpdate':Date['now']()};await this[_0x4588a5(0x6c9)][_0x4588a5(0x351)][_0x4588a5(0x608)]({'where':{'_id':_0x2c6280['id']}},{'name':_0x2c6280[_0x4588a5(0x67f)],'group':!0x0,'groupdata':_0x152696,'lastcache':Date['now']()},this[_0x4588a5(0x55b)][_0x4588a5(0x2cc)]),J(this[_0x4588a5(0x20c)],_0x4588a5(0x1c9),{'chat':_0x2c6280});}async['updateGroupWebhook'](_0x534950){const _0x3c72c5=a0_0x344519;let _0x546b8f=await this[_0x3c72c5(0x6c9)][_0x3c72c5(0x351)][_0x3c72c5(0x1a8)]({'where':{'_id':_0x534950['id']}},this[_0x3c72c5(0x55b)][_0x3c72c5(0x2cc)]);_0x534950[_0x3c72c5(0x3ed)]=_0x534950?.[_0x3c72c5(0x3ed)]&&_0x534950['subjectTime'][_0x3c72c5(0x2f6)]()[_0x3c72c5(0x4e4)]<0xd?_0x534950?.[_0x3c72c5(0x3ed)]*0x3e8:_0x534950?.[_0x3c72c5(0x3ed)]||null,_0x534950[_0x3c72c5(0x68c)]=_0x534950?.[_0x3c72c5(0x68c)]&&_0x534950[_0x3c72c5(0x68c)][_0x3c72c5(0x2f6)]()[_0x3c72c5(0x4e4)]<0xd?_0x534950?.['creation']*0x3e8:_0x534950?.[_0x3c72c5(0x68c)]||null,_0x534950['inviteCode']&&(_0x534950['inviteCode']='https://chat.whatsapp.com/'+_0x534950[_0x3c72c5(0x561)]);let _0x43bd67=_0x546b8f?.[_0x3c72c5(0x796)]?{..._0x546b8f[_0x3c72c5(0x796)]}:{};Object[_0x3c72c5(0x6cc)](_0x534950)['forEach'](_0x1235a0=>{_0x1235a0!=='id'&&(_0x43bd67[_0x1235a0]=_0x534950[_0x1235a0]);});let _0x281991=_0x43bd67[_0x3c72c5(0x56c)]?.['some'](_0x3ae2c5=>_0x3ae2c5['id']===this[_0x3c72c5(0x55b)]['wuid']+_0x3c72c5(0x221)&&_0x3ae2c5[_0x3c72c5(0x7ff)])||!0x1;_0x43bd67[_0x3c72c5(0x7ff)]=_0x281991;let _0x53447e=(!_0x43bd67[_0x3c72c5(0x3e2)]||_0x281991)&&(!_0x43bd67[_0x3c72c5(0x4b1)]||_0x43bd67['isCommunity']&&_0x43bd67[_0x3c72c5(0x2d5)]&&_0x281991);_0x43bd67[_0x3c72c5(0x768)]=_0x53447e;let _0x5b6bc3={'group':!0x0,'groupdata':_0x43bd67};_0x534950[_0x3c72c5(0x67f)]&&(_0x5b6bc3['name']=_0x534950[_0x3c72c5(0x67f)]),await this['repository']['chat'][_0x3c72c5(0x608)]({'where':{'_id':_0x534950['id']}},_0x5b6bc3,this[_0x3c72c5(0x55b)][_0x3c72c5(0x2cc)],{'upsert':!0x0}),J(this[_0x3c72c5(0x20c)],_0x3c72c5(0x1c9),{'chat':_0x5b6bc3});}async[a0_0x344519(0x6ae)](_0x28a17){const _0xbf5d05=a0_0x344519;let _0xe8d2b7=await this[_0xbf5d05(0x6c9)][_0xbf5d05(0x351)][_0xbf5d05(0x1a8)]({'where':{'_id':_0x28a17['id']}},this[_0xbf5d05(0x55b)][_0xbf5d05(0x2cc)]);if(!_0xe8d2b7||!_0xe8d2b7[_0xbf5d05(0x796)]){this[_0xbf5d05(0x767)][_0xbf5d05(0x1af)](this[_0xbf5d05(0x20c)]+'\x20('+this['instance']['wuid']+_0xbf5d05(0x31f)+_0x28a17['id']);return;}let _0x139978=await this[_0xbf5d05(0x6c9)][_0xbf5d05(0x2b6)][_0xbf5d05(0x4f6)](_0x28a17['participants']),_0x332776=[..._0xe8d2b7[_0xbf5d05(0x796)]?.[_0xbf5d05(0x56c)]];switch(_0x28a17[_0xbf5d05(0x2b1)]){case'add':let _0xabb66e=_0x139978['map'](_0x1e347a=>({'id':_0x1e347a[_0xbf5d05(0x791)],'isAdmin':!0x1,'name':_0x1e347a[_0xbf5d05(0x731)],'imgUrl':_0x1e347a[_0xbf5d05(0x422)]}));_0x332776=[..._0x332776,..._0xabb66e];break;case _0xbf5d05(0x200):_0x332776=_0x332776[_0xbf5d05(0x414)](_0x2db67f=>!_0x28a17[_0xbf5d05(0x56c)][_0xbf5d05(0x5fb)](_0x2db67f['id']));break;case _0xbf5d05(0x540):case _0xbf5d05(0x7a5):_0x332776=_0x332776[_0xbf5d05(0x41f)](_0x4ecdeb=>_0x28a17[_0xbf5d05(0x56c)][_0xbf5d05(0x5fb)](_0x4ecdeb['id'])?{..._0x4ecdeb,'isAdmin':_0x28a17['action']===_0xbf5d05(0x540)}:_0x4ecdeb);break;}let _0x56cbd5=_0x332776['length'],_0x1288ae=_0x332776[_0xbf5d05(0x19f)](_0x209905=>_0x209905['id']===this[_0xbf5d05(0x55b)][_0xbf5d05(0x2cc)]+_0xbf5d05(0x221)),_0xf27695=_0x1288ae&&_0x332776['some'](_0x9576ba=>_0x9576ba['id']===this[_0xbf5d05(0x55b)][_0xbf5d05(0x2cc)]+_0xbf5d05(0x221)&&_0x9576ba[_0xbf5d05(0x7ff)]),_0x391da5=_0x1288ae&&(!_0xe8d2b7[_0xbf5d05(0x796)][_0xbf5d05(0x3e2)]||_0xf27695)&&(!_0xe8d2b7[_0xbf5d05(0x796)][_0xbf5d05(0x4b1)]||_0xe8d2b7['groupdata'][_0xbf5d05(0x4b1)]&&_0xf27695);await this[_0xbf5d05(0x6c9)][_0xbf5d05(0x351)][_0xbf5d05(0x608)]({'where':{'_id':_0x28a17['id']}},{'groupdata':{..._0xe8d2b7[_0xbf5d05(0x796)],'participants':_0x332776,'size':_0x56cbd5,'isAdmin':_0xf27695,'canSendMessage':_0x391da5}},this[_0xbf5d05(0x55b)][_0xbf5d05(0x2cc)]),this[_0xbf5d05(0x767)][_0xbf5d05(0x1af)](this[_0xbf5d05(0x20c)]+'\x20('+this[_0xbf5d05(0x55b)]['wuid']+_0xbf5d05(0x7f1)+_0x28a17['id']+_0xbf5d05(0x6f5)+_0x28a17[_0xbf5d05(0x2b1)]+_0xbf5d05(0x236)+_0x56cbd5+_0xbf5d05(0x5b4)+_0xf27695+_0xbf5d05(0x7bc)+_0x391da5);}async[a0_0x344519(0x561)](_0x5ddfb9,_0x553560=!0x0){const _0xdb232f=a0_0x344519;try{let _0x176cb7=await this[_0xdb232f(0x24b)][_0xdb232f(0x2a1)](_0x5ddfb9[_0xdb232f(0x4bf)]),_0x448cee={'groupdata.inviteCode':_0xdb232f(0x679)+_0x176cb7};if(_0x553560){let _0x5d199d=await this['repository']['chat'][_0xdb232f(0x608)]({'where':{'_id':_0x5ddfb9[_0xdb232f(0x4bf)]}},_0x448cee,this['instance']['wuid']);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x176cb7,'inviteCode':_0x176cb7};}catch(_0x217777){let _0x22dc6f='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x1463e1=_0x217777 instanceof Error?_0x217777['message']:typeof _0x217777==_0xdb232f(0x3fc)?JSON[_0xdb232f(0x3f5)](_0x217777):_0x217777,_0x39557b=_0x22dc6f+':\x20'+_0x1463e1;throw this[_0xdb232f(0x767)][_0xdb232f(0x2b4)](this[_0xdb232f(0x20c)]+'\x20('+this[_0xdb232f(0x55b)][_0xdb232f(0x2cc)]+_0xdb232f(0x780)+_0x39557b),new U(_0x39557b);}}async[a0_0x344519(0x787)](_0x5d9ab7){const _0x2248fb=a0_0x344519;try{let _0x3ff5b9=await this[_0x2248fb(0x24b)][_0x2248fb(0x685)](_0x5d9ab7[_0x2248fb(0x4bf)]);return{'revoked':!0x0,'inviteUrl':_0x2248fb(0x679)+_0x3ff5b9,'inviteCode':_0x3ff5b9};}catch(_0x286bb1){let _0xd288b9=_0x2248fb(0x7fd),_0x293ec9=_0x286bb1 instanceof Error?_0x286bb1['message']:typeof _0x286bb1==_0x2248fb(0x3fc)?JSON['stringify'](_0x286bb1):_0x286bb1,_0x2c9dc8=_0xd288b9+':\x20'+_0x293ec9;throw this[_0x2248fb(0x767)][_0x2248fb(0x2b4)](this[_0x2248fb(0x20c)]+'\x20('+this['instance'][_0x2248fb(0x2cc)]+'):\x20'+_0x2c9dc8),new U(_0x2c9dc8);}}async[a0_0x344519(0x549)](_0x52e33b){const _0x2c7952=a0_0x344519;try{if((0x0,k[_0x2c7952(0x539)])(_0x52e33b[_0x2c7952(0x561)]))var _0x2596a8=_0x52e33b['inviteCode'][_0x2c7952(0x134)]('/')[0x3];else var _0x2596a8=_0x52e33b[_0x2c7952(0x561)];let _0x5a4fc1=await this['client'][_0x2c7952(0x13d)](_0x2596a8);return this[_0x2c7952(0x767)][_0x2c7952(0x52e)](this[_0x2c7952(0x20c)]+'\x20('+this[_0x2c7952(0x55b)][_0x2c7952(0x2cc)]+'):\x20'+_0x5a4fc1),{'join':!0x0,'inviteCode':_0x2596a8,'groupJid':_0x5a4fc1};}catch(_0x18feec){let _0x110b19=_0x2c7952(0x65d),_0x52d6f1=_0x18feec instanceof Error?_0x18feec['message']:typeof _0x18feec==_0x2c7952(0x3fc)?JSON[_0x2c7952(0x3f5)](_0x18feec):_0x18feec,_0x17b9fd=_0x110b19+':\x20'+_0x52d6f1;throw this['logger'][_0x2c7952(0x2b4)](this[_0x2c7952(0x20c)]+'\x20('+this['instance'][_0x2c7952(0x2cc)]+_0x2c7952(0x780)+_0x17b9fd),new U(_0x17b9fd);}}async[a0_0x344519(0x512)](_0x47f60e){const _0x5052f6=a0_0x344519;try{return{'participants':(await this['repository']['chat'][_0x5052f6(0x1a8)]({'where':{'_id':_0x47f60e['groupJid']}},this[_0x5052f6(0x55b)]['wuid']))['groupdata']['participants']};}catch(_0xb0c0f0){let _0x4a34ac=_0x5052f6(0x1c8),_0x1ca433=_0xb0c0f0 instanceof Error?_0xb0c0f0['message']:typeof _0xb0c0f0==_0x5052f6(0x3fc)?JSON[_0x5052f6(0x3f5)](_0xb0c0f0):_0xb0c0f0,_0x302f71=_0x4a34ac+':\x20'+_0x1ca433;throw this[_0x5052f6(0x767)][_0x5052f6(0x2b4)](this['instanceName']+'\x20('+this[_0x5052f6(0x55b)][_0x5052f6(0x2cc)]+_0x5052f6(0x780)+_0x302f71),new U(_0x302f71);}}async[a0_0x344519(0x674)](_0x5abdd0){const _0x223cd7=a0_0x344519;try{return await this[_0x223cd7(0x24b)]['groupLeave'](_0x5abdd0[_0x223cd7(0x4bf)]),{'groupJid':_0x5abdd0[_0x223cd7(0x4bf)],'leave':!0x0};}catch(_0x283ad1){let _0x5074fa=_0x223cd7(0x642),_0x3f27d2=_0x283ad1 instanceof Error?_0x283ad1[_0x223cd7(0x806)]:typeof _0x283ad1==_0x223cd7(0x3fc)?JSON[_0x223cd7(0x3f5)](_0x283ad1):_0x283ad1,_0x4586ff=_0x5074fa+':\x20'+_0x3f27d2;throw this['logger'][_0x223cd7(0x2b4)](this[_0x223cd7(0x20c)]+'\x20('+this['instance'][_0x223cd7(0x2cc)]+'):\x20'+_0x4586ff),new m(_0x4586ff);}}async['pollMessage'](_0xee14e0){const _0x5ac451=a0_0x344519;return await this[_0x5ac451(0x2b8)](_0xee14e0[_0x5ac451(0x735)],{'poll':{'name':_0xee14e0['pollMessage']?.[_0x5ac451(0x731)],'selectableCount':_0xee14e0[_0x5ac451(0x36f)][_0x5ac451(0x3dd)],'values':_0xee14e0[_0x5ac451(0x36f)][_0x5ac451(0x7fa)]}},_0xee14e0?.[_0x5ac451(0x656)]);}async['listMessage'](_0x95948a){const _0x5c0c0b=a0_0x344519;return await this['sendMessageWithTyping'](_0x95948a[_0x5c0c0b(0x735)],{'listMessage':{'title':_0x95948a['listMessage'][_0x5c0c0b(0x2e8)],'description':_0x95948a[_0x5c0c0b(0x3eb)][_0x5c0c0b(0x58d)],'buttonText':_0x95948a[_0x5c0c0b(0x3eb)]?.[_0x5c0c0b(0x821)],'footerText':_0x95948a[_0x5c0c0b(0x3eb)]?.['footerText'],'sections':_0x95948a[_0x5c0c0b(0x3eb)][_0x5c0c0b(0x64d)],'listType':0x2}},_0x95948a?.['options']);}async[a0_0x344519(0x816)](_0x558ea6){const _0x13831f=a0_0x344519;let _0x2053e7;if(_0x558ea6[_0x13831f(0x816)][_0x13831f(0x4d3)]===_0x13831f(0x5da)){let _0x5f06ae=_0x558ea6[_0x13831f(0x816)][_0x13831f(0x634)][_0x13831f(0x81c)]('\x0a'),_0x38c051='',_0x1805ab='';_0x5f06ae!==-0x1?(_0x38c051=_0x558ea6[_0x13831f(0x816)]['text'][_0x13831f(0x812)](0x0,_0x5f06ae)[_0x13831f(0x774)](),_0x1805ab=_0x558ea6[_0x13831f(0x816)][_0x13831f(0x634)]['substring'](_0x5f06ae+0x1)):_0x1805ab=_0x558ea6['menuMessage'][_0x13831f(0x634)];let _0x42834e=_0x558ea6[_0x13831f(0x816)][_0x13831f(0x616)][_0x13831f(0x414)](_0x4368da=>_0x4368da['trim']()!==''),_0x42cb7c=this[_0x13831f(0x4ad)](_0x42834e);_0x2053e7={'listMessage':{'title':_0x38c051,'description':_0x1805ab,'buttonText':_0x558ea6[_0x13831f(0x816)][_0x13831f(0x821)]||_0x13831f(0x6b0),'footerText':_0x558ea6[_0x13831f(0x816)][_0x13831f(0x81a)],'sections':_0x42cb7c,'listType':0x2}};}else{if(_0x558ea6[_0x13831f(0x816)][_0x13831f(0x4d3)]===_0x13831f(0x820)){let _0x386a8d=_0x558ea6[_0x13831f(0x816)][_0x13831f(0x616)]['filter'](_0x3edd15=>!(_0x3edd15[_0x13831f(0x742)]('[')&&_0x3edd15[_0x13831f(0x67b)](']'))&&_0x3edd15[_0x13831f(0x774)]()!=='')[_0x13831f(0x41f)](_0x1e90ff=>_0x1e90ff[_0x13831f(0x134)]('\x0a')[0x0]);_0x2053e7={'poll':{'name':_0x558ea6[_0x13831f(0x816)][_0x13831f(0x634)],'selectableCount':_0x558ea6[_0x13831f(0x816)][_0x13831f(0x3dd)]||0x1,'values':_0x386a8d}};}}return await this['sendMessageWithTyping'](_0x558ea6['number'],_0x2053e7,_0x558ea6?.['options']);}[a0_0x344519(0x4ad)](_0x208cb2){const _0x1ef8d4=a0_0x344519;let _0x48377e=[],_0x4eb6f2={'rows':[]};return _0x208cb2[_0x1ef8d4(0x402)](_0x3042cf=>{const _0x3a651a=_0x1ef8d4;if(_0x3042cf[_0x3a651a(0x742)]('[')&&_0x3042cf[_0x3a651a(0x67b)](']'))_0x4eb6f2['rows'][_0x3a651a(0x4e4)]>0x0&&_0x48377e[_0x3a651a(0x413)](_0x4eb6f2),_0x4eb6f2={'title':_0x3042cf[_0x3a651a(0x211)](0x1,-0x1),'rows':[]};else{let _0x33d62b=_0x3042cf[_0x3a651a(0x134)]('\x0a')[_0x3a651a(0x41f)](_0x1f3b5c=>_0x1f3b5c[_0x3a651a(0x774)]()),_0x1aae66=_0x33d62b[0x0],_0x176fb5=_0x33d62b[0x1]||null,_0x1e73b0=_0x33d62b[0x2]||_0x1aae66;_0x4eb6f2[_0x3a651a(0x14d)][_0x3a651a(0x413)]({'title':_0x1aae66,'description':_0x176fb5,'rowId':_0x1e73b0});}}),_0x4eb6f2[_0x1ef8d4(0x14d)][_0x1ef8d4(0x4e4)]>0x0&&_0x48377e[_0x1ef8d4(0x413)](_0x4eb6f2),_0x48377e;}async['updateMessage'](_0x41eea8,_0x29b473){const _0x153639=a0_0x344519;if(await this['getMessage'](_0x41eea8,!0x0)){let _0x29f29b={'where':{'_id':_0x41eea8['id']}},_0x4e3721={'status':[_0x29b473['status']][0x0]};try{let _0x56076c=await this['repository'][_0x153639(0x806)][_0x153639(0x729)](_0x29f29b,_0x4e3721,this[_0x153639(0x55b)]['wuid']);_0x56076c&&J(this['instanceName'],'messages',{'message':_0x56076c});}catch{}}}[a0_0x344519(0x576)](_0x255a40){const _0x220c4f=a0_0x344519;let _0x1673e6=[];return _0x255a40[_0x220c4f(0x402)](_0x33e9d5=>{const _0x269757=_0x220c4f;_0x33e9d5[_0x269757(0x2e8)]&&_0x1673e6[_0x269757(0x413)]('['+_0x33e9d5[_0x269757(0x2e8)]+']'),_0x33e9d5['rows'][_0x269757(0x402)](_0x2b9800=>{const _0x81c918=_0x269757;_0x1673e6[_0x81c918(0x413)](_0x2b9800[_0x81c918(0x2e8)]);});}),_0x1673e6['join']('|');}[a0_0x344519(0x82b)](_0x3c00cd){const _0x28536e=a0_0x344519;let _0x57704f=_0x3c00cd[_0x28536e(0x477)](/\\n/g,'\x0a')['split']('\x0a')[_0x28536e(0x414)](_0x228a3e=>_0x228a3e['includes']('TEL')||_0x228a3e[_0x28536e(0x5fb)](_0x28536e(0x23d))),_0x3250bd='';return _0x57704f[_0x28536e(0x402)](_0x3f7831=>{const _0x4d7254=_0x28536e;let _0x402ea3=/TEL(?:.*):(.+)/,_0x4af529=/EMAIL(?:.*):(.+)/,_0x29f5c6=_0x3f7831[_0x4d7254(0x364)](_0x402ea3),_0x454ffa=_0x3f7831['match'](_0x4af529);if(_0x29f5c6){let _0x53c045=_0x29f5c6[0x1][_0x4d7254(0x477)](/-| |\+|\(|\)/g,'')[_0x4d7254(0x774)]();_0x3250bd+=_0x4d7254(0x26c)+_0x53c045+'\x0a';}else{if(_0x454ffa){let _0x52fec1=_0x454ffa[0x1][_0x4d7254(0x774)]();_0x3250bd+=_0x4d7254(0x5cc)+_0x52fec1+'\x0a';}}}),_0x3250bd[_0x28536e(0x774)]();}async[a0_0x344519(0x474)](_0x29dc1a,_0xc48dd9,_0x589066,_0x3b93db=null){const _0x48b6d8=a0_0x344519;if(_0x29dc1a[_0x48b6d8(0x67c)])try{let _0x58f5f3=_0xc48dd9[_0x48b6d8(0x80d)][_0x48b6d8(0x5b0)]['replace'](/:\d{1,2}@/g,'@'),_0x51d0c2=_0xc48dd9['key'][_0x48b6d8(0x20b)],_0x43d654=_0x58f5f3[_0x48b6d8(0x67b)](_0x48b6d8(0x644)),_0x4b7d7f=_0xc48dd9[_0x48b6d8(0x247)]?.[_0x48b6d8(0x477)](/:\d{1,2}@/g,'@')||'',_0xb3e160=_0xc48dd9[_0x48b6d8(0x265)]?.['text']||_0xc48dd9[_0x48b6d8(0x265)]?.[_0x48b6d8(0x6e2)]||_0xc48dd9['message_normalized']?.['vote']||_0xc48dd9[_0x48b6d8(0x265)]?.['name']||'',_0x555b21={'_id':_0xc48dd9[_0x48b6d8(0x791)],'remoteJid':_0x51d0c2?this[_0x48b6d8(0x55b)]['wuid']:_0x43d654?_0x4b7d7f:_0x58f5f3,'pushName':_0x51d0c2?this['instance']['profileName']||'Eu':_0xc48dd9[_0x48b6d8(0x2df)],'text':_0xb3e160,'type':_0xc48dd9[_0x48b6d8(0x7e4)],'when':_0xc48dd9[_0x48b6d8(0x665)]||Date[_0x48b6d8(0x6c7)]()};_0x3b93db||(_0x3b93db=await this['repository'][_0x48b6d8(0x351)][_0x48b6d8(0x1a8)]({'where':{'_id':_0x58f5f3}},this[_0x48b6d8(0x55b)][_0x48b6d8(0x2cc)]));let _0x695052=_0x3b93db?_0x51d0c2?_0x3b93db['unreadcount']:(_0x3b93db['unreadcount']||0x0)+0x1:_0x51d0c2?0x0:0x1,_0x35a634={'lastmsg':_0xc48dd9['messageTimestamp']||Date[_0x48b6d8(0x6c7)](),'ephemeralExpiration':_0xc48dd9['expiration'],'lastMessage':_0x555b21,'unreadcount':_0x695052,..._0x51d0c2||_0x43d654?{}:{'name':_0xc48dd9[_0x48b6d8(0x2df)]},..._0x43d654?{'group':_0x43d654}:{},...!_0x51d0c2&&!_0x43d654&&_0xc48dd9[_0x48b6d8(0x177)]?{'imagechat':_0xc48dd9[_0x48b6d8(0x177)]}:{}};if(!_0x43d654&&(!_0x3b93db?.[_0x48b6d8(0x3c7)]||!_0x3b93db[_0x48b6d8(0x3c7)][_0x48b6d8(0x607)])&&_0xc48dd9['pushName']&&!_0x51d0c2&&(_0x35a634={..._0x35a634,'leadInfo.nome':_0xc48dd9[_0x48b6d8(0x2df)]}),_0x3b93db?.[_0x48b6d8(0x3c7)][_0x48b6d8(0x1b0)]||(_0x35a634={..._0x35a634,'leadInfo.etiquetas':[]}),_0x3b93db?.[_0x48b6d8(0x3c7)]['customFields']||(_0x35a634={..._0x35a634,'leadInfo.customFields':[]}),_0x3b93db?.['leadInfo']['tags']||(_0x35a634={..._0x35a634,'leadInfo.tags':[]}),_0x3b93db&&_0x3b93db?.[_0x48b6d8(0x2e3)]){let _0x39e3e9=await this['repository'][_0x48b6d8(0x114)][_0x48b6d8(0x1ee)]({'where':{}},this[_0x48b6d8(0x55b)]['wuid']),_0x54dc2d=new Set(_0x39e3e9[_0x48b6d8(0x41f)](_0x542f61=>_0x542f61[_0x48b6d8(0x791)])),_0xae23c1=(_0x3b93db[_0x48b6d8(0x3c7)]?.[_0x48b6d8(0x1b0)]||[])[_0x48b6d8(0x414)](_0x546c3e=>_0x54dc2d[_0x48b6d8(0x2dd)](_0x546c3e));_0x35a634={..._0x35a634,'imported':!0x1,'leadInfo.etiquetas':_0xae23c1};for(let _0x2a4fa6 of _0xae23c1)await this[_0x48b6d8(0x6e8)](_0x2a4fa6,_0x58f5f3);}if(_0x589066==='MESSAGES_UPSERT'&&_0x51d0c2&&this[_0x48b6d8(0x46f)]?.[_0x48b6d8(0x3d6)][_0x48b6d8(0x26d)]&&!_0xb3e160[_0x48b6d8(0x742)](this[_0x48b6d8(0x46f)]?.[_0x48b6d8(0x3d6)][_0x48b6d8(0x7c0)])){let _0x10178d=(this[_0x48b6d8(0x46f)]?.[_0x48b6d8(0x3d6)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x471a43=Date[_0x48b6d8(0x6c7)]()+_0x10178d;_0x3b93db?.['leadInfo']?.[_0x48b6d8(0x3ce)]===0x0||(_0x35a634={..._0x35a634,'leadInfo.desativadoFluxoAte':_0x471a43},this[_0x48b6d8(0x767)][_0x48b6d8(0x52e)](this[_0x48b6d8(0x20c)]+'\x20('+this['instance'][_0x48b6d8(0x2cc)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x471a43+'.'));}if(_0x3b93db=await this[_0x48b6d8(0x6c9)][_0x48b6d8(0x351)][_0x48b6d8(0x608)]({'where':{'_id':_0x58f5f3}},_0x35a634,this['instance'][_0x48b6d8(0x2cc)],{'new':!0x0,'upsert':!0x0}),_0x3b93db)J(this[_0x48b6d8(0x20c)],'chats',{'chat':_0x3b93db});else{this[_0x48b6d8(0x767)][_0x48b6d8(0x2b4)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x48b6d8(0x46f)]?.[_0x48b6d8(0x3d6)]['enabled'])return this['logger'][_0x48b6d8(0x52e)](this['instanceName']+'\x20('+this[_0x48b6d8(0x55b)]['wuid']+_0x48b6d8(0x62f)),null;if(_0x3b93db[_0x48b6d8(0x791)][_0x48b6d8(0x5fb)]('@g.us')&&this['AutomateSystem']?.[_0x48b6d8(0x3d6)][_0x48b6d8(0x5a3)]===!0x0)return this['logger']['verbose'](this[_0x48b6d8(0x20c)]+'\x20('+this[_0x48b6d8(0x55b)]['wuid']+_0x48b6d8(0x60d)),null;if(_0x3b93db[_0x48b6d8(0x3c7)]){if(_0x3b93db[_0x48b6d8(0x3c7)][_0x48b6d8(0x3ce)]===0x0||_0x3b93db[_0x48b6d8(0x3c7)][_0x48b6d8(0x6cd)])return this['logger'][_0x48b6d8(0x52e)](this[_0x48b6d8(0x20c)]+'\x20('+this['instance'][_0x48b6d8(0x2cc)]+_0x48b6d8(0x648)+_0x58f5f3+',\x20saindo.'),null;if(_0x3b93db[_0x48b6d8(0x3c7)][_0x48b6d8(0x3ce)]>Date[_0x48b6d8(0x6c7)]()&&!_0xc48dd9['message_normalized']?.[_0x48b6d8(0x59d)])return this[_0x48b6d8(0x767)][_0x48b6d8(0x52e)](this[_0x48b6d8(0x20c)]+'\x20('+this[_0x48b6d8(0x55b)][_0x48b6d8(0x2cc)]+_0x48b6d8(0x6b5)+new Date(_0x3b93db[_0x48b6d8(0x3c7)]['desativadoFluxoAte'])[_0x48b6d8(0x62b)]()+_0x48b6d8(0x7d4)),null;}this[_0x48b6d8(0x767)]['verbose'](this['instanceName']+'\x20('+this[_0x48b6d8(0x55b)][_0x48b6d8(0x2cc)]+_0x48b6d8(0x394)),this[_0x48b6d8(0x45f)](_0x589066,_0xc48dd9);}catch(_0x45b483){let _0x199af3='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x3404d5=_0x45b483 instanceof Error?_0x45b483[_0x48b6d8(0x806)]:typeof _0x45b483==_0x48b6d8(0x3fc)?JSON[_0x48b6d8(0x3f5)](_0x45b483):_0x45b483,_0x3447df=_0x199af3+':\x20'+_0x3404d5;return this[_0x48b6d8(0x767)]['error'](this[_0x48b6d8(0x20c)]+'\x20('+this['instance']['wuid']+_0x48b6d8(0x780)+_0x3447df),null;}}async[a0_0x344519(0x4ba)](_0x6956c0,_0x38ca55){const _0x10f8a1=a0_0x344519;if(_0x38ca55[_0x10f8a1(0x67c)]){let _0x5d2261=_0x6956c0[_0x10f8a1(0x41f)](async _0x436beb=>{const _0x39ad37=_0x10f8a1;try{let _0x1f3e9f={'_id':_0x436beb[_0x39ad37(0x791)],'owner':_0x436beb[_0x39ad37(0x4b3)],'lastcache':0x0};if(Object['keys'](_0x436beb)[_0x39ad37(0x402)](_0x5502bf=>{_0x436beb[_0x5502bf]!==null&&(_0x1f3e9f[_0x5502bf]=_0x436beb[_0x5502bf]);}),_0x1f3e9f[_0x39ad37(0x79e)]===null&&(_0x1f3e9f[_0x39ad37(0x79e)]=_0x39ad37(0x445)),Object[_0x39ad37(0x6cc)](_0x1f3e9f)[_0x39ad37(0x4e4)]>0x0)return await this[_0x39ad37(0x6c9)]['chat'][_0x39ad37(0x608)]({'where':{'_id':_0x436beb[_0x39ad37(0x791)]}},_0x1f3e9f,this[_0x39ad37(0x55b)][_0x39ad37(0x2cc)]);}catch(_0x32326c){let _0x3748a9='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x436beb[_0x39ad37(0x791)],_0x2c2bc=_0x32326c instanceof Error?_0x32326c['message']:typeof _0x32326c=='object'?JSON[_0x39ad37(0x3f5)](_0x32326c):_0x32326c,_0x8a13d9=_0x3748a9+':\x20'+_0x2c2bc;return this['logger']['error'](this[_0x39ad37(0x20c)]+'\x20('+this[_0x39ad37(0x55b)][_0x39ad37(0x2cc)]+'):\x20'+_0x8a13d9),null;}}),_0xb211e=(await Promise[_0x10f8a1(0x1f6)](_0x5d2261))[_0x10f8a1(0x414)](_0x40d8d9=>_0x40d8d9!==null)[_0x10f8a1(0x4e4)];this[_0x10f8a1(0x767)][_0x10f8a1(0x52e)](this[_0x10f8a1(0x20c)]+'\x20('+this[_0x10f8a1(0x55b)][_0x10f8a1(0x2cc)]+_0x10f8a1(0x780)+_0xb211e+'\x20chats\x20de\x20'+this[_0x10f8a1(0x55b)][_0x10f8a1(0x2cc)]+_0x10f8a1(0x4f0));}}async[a0_0x344519(0x32a)](_0x203540){const _0x1c50d7=a0_0x344519;this[_0x1c50d7(0x767)][_0x1c50d7(0x52e)](this[_0x1c50d7(0x20c)]+'\x20('+this[_0x1c50d7(0x55b)][_0x1c50d7(0x2cc)]+_0x1c50d7(0x72f));let _0x43dd9c={'readMessages':[{'remoteJid':_0x203540['chatLog']['lastReceivedMessage'][_0x1c50d7(0x80d)][_0x1c50d7(0x5b0)],'fromMe':_0x203540[_0x1c50d7(0x788)][_0x1c50d7(0x507)][_0x1c50d7(0x80d)][_0x1c50d7(0x20b)],'id':_0x203540[_0x1c50d7(0x788)][_0x1c50d7(0x507)][_0x1c50d7(0x80d)]['id']}]};await this[_0x1c50d7(0x137)](_0x43dd9c);}async['StartBot'](_0x267907,_0x3b31bf){const _0x19a6b4=a0_0x344519;try{let {key:_0x8e8e15,message_normalized:_0x25e130}=_0x3b31bf,_0x2b596a=_0x25e130,_0xd22063=_0x25e130[_0x19a6b4(0x634)]||_0x25e130[_0x19a6b4(0x6e2)]||_0x25e130['vote']||_0x25e130[_0x19a6b4(0x731)]||'',_0x4c2b24=_0x8e8e15[_0x19a6b4(0x5b0)],_0x426765;if(_0x2b596a[_0x19a6b4(0x80d)][_0x19a6b4(0x20b)]&&_0xd22063[_0x19a6b4(0x774)]()!==this[_0x19a6b4(0x46f)]?.[_0x19a6b4(0x3d6)][_0x19a6b4(0x279)][_0x19a6b4(0x774)]())return this[_0x19a6b4(0x767)][_0x19a6b4(0x52e)](this[_0x19a6b4(0x20c)]+'\x20('+this[_0x19a6b4(0x55b)][_0x19a6b4(0x2cc)]+_0x19a6b4(0x515)),null;if(_0x2b596a[_0x19a6b4(0x80d)][_0x19a6b4(0x20b)]&&_0xd22063[_0x19a6b4(0x774)]()===this[_0x19a6b4(0x46f)]?.['flowConfig'][_0x19a6b4(0x279)]['trim']()){this['logger'][_0x19a6b4(0x52e)](this[_0x19a6b4(0x20c)]+'\x20('+this[_0x19a6b4(0x55b)][_0x19a6b4(0x2cc)]+_0x19a6b4(0x237));let _0x558892=await this['repository'][_0x19a6b4(0x35a)][_0x19a6b4(0x1ee)]({'remoteJid':_0x4c2b24,'status':_0x19a6b4(0x1fe)},this[_0x19a6b4(0x55b)][_0x19a6b4(0x2cc)]);this[_0x19a6b4(0x767)][_0x19a6b4(0x52e)](this[_0x19a6b4(0x20c)]+'\x20('+this['instance']['wuid']+_0x19a6b4(0x45e)+_0x558892);let _0x3f5dec=Date[_0x19a6b4(0x6c7)](),_0xbfe48d;return this[_0x19a6b4(0x46f)]?.['flowConfig'][_0x19a6b4(0x382)]===0x0?_0xbfe48d={'stoppedUntil':_0x3f5dec+0x7591f6200}:_0xbfe48d={'stoppedUntil':_0x3f5dec+this['AutomateSystem']?.[_0x19a6b4(0x3d6)][_0x19a6b4(0x382)]*0x3c*0x3e8},this[_0x19a6b4(0x767)][_0x19a6b4(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x19a6b4(0x2cc)]+_0x19a6b4(0x582)+_0xbfe48d),this['updateStopChat'](_0x426765,_0xbfe48d['stoppedUntil']),null;}if(_0xd22063&&_0xd22063['startsWith'](this[_0x19a6b4(0x46f)]?.[_0x19a6b4(0x3d6)][_0x19a6b4(0x7c0)])&&_0xd22063[_0x19a6b4(0x4e4)]>0x4){let _0x1ad089=await this['repository']['flow'][_0x19a6b4(0x1a8)]({'where':{'startCommandWord':_0xd22063}},this[_0x19a6b4(0x55b)][_0x19a6b4(0x2cc)]);if(this[_0x19a6b4(0x767)][_0x19a6b4(0x52e)](this['instanceName']+'\x20('+this[_0x19a6b4(0x55b)][_0x19a6b4(0x2cc)]+_0x19a6b4(0x5d3)),_0x1ad089)_0x426765=await this['createNewConversation'](_0x1ad089,_0x2b596a[_0x19a6b4(0x80d)],_0x2b596a);else return this[_0x19a6b4(0x767)][_0x19a6b4(0x52e)](this[_0x19a6b4(0x20c)]+'\x20('+this[_0x19a6b4(0x55b)][_0x19a6b4(0x2cc)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x426765=await this['findConversation'](_0x4c2b24,_0x2b596a);if(_0x426765){this[_0x19a6b4(0x767)][_0x19a6b4(0x52e)](this['instanceName']+'\x20('+this[_0x19a6b4(0x55b)]['wuid']+_0x19a6b4(0x11c)),!_0x8e8e15[_0x19a6b4(0x20b)]&&_0x426765[_0x19a6b4(0x52f)]&&this[_0x19a6b4(0x32a)](_0x426765);let _0x5511fe=await this[_0x19a6b4(0x67e)](_0x426765);_0x5511fe&&await this[_0x19a6b4(0x1d2)](_0x426765,_0x5511fe);}}catch(_0x4589e2){this[_0x19a6b4(0x767)][_0x19a6b4(0x2b4)](this['instanceName']+'\x20('+this[_0x19a6b4(0x55b)][_0x19a6b4(0x2cc)]+_0x19a6b4(0x626)+(_0x4589e2 instanceof Error?_0x4589e2[_0x19a6b4(0x806)]:JSON[_0x19a6b4(0x3f5)](_0x4589e2,null,0x2)));}}[a0_0x344519(0x337)](_0x1ead8b,_0x1bb528='',_0xc68039={}){const _0x56f30a=a0_0x344519;return typeof _0x1ead8b!='object'||_0x1ead8b===null?(_0x1bb528&&(_0xc68039[_0x1bb528]=_0x1ead8b),_0xc68039):(Object['entries'](_0x1ead8b)[_0x56f30a(0x402)](([_0x14a6de,_0x2d812e])=>{const _0x5021c4=_0x56f30a;let _0x4b882d=_0x1bb528?_0x1bb528+'.'+_0x14a6de:'_'+_0x14a6de;Array[_0x5021c4(0x635)](_0x2d812e)?_0x2d812e['forEach']((_0x428cf3,_0x5ac82c)=>{const _0x47913f=_0x5021c4;this[_0x47913f(0x337)](_0x428cf3,_0x4b882d+'['+_0x5ac82c+']',_0xc68039);}):typeof _0x2d812e==_0x5021c4(0x3fc)&&_0x2d812e!==null?this['flattenObject'](_0x2d812e,_0x4b882d,_0xc68039):_0xc68039[_0x4b882d]=String(_0x2d812e);}),_0xc68039);}[a0_0x344519(0x1d9)](_0x262adb){const _0x351cb6=a0_0x344519;let _0x3c6255={};for(let _0x40fe7c of _0x262adb)typeof _0x40fe7c[_0x351cb6(0x731)]==_0x351cb6(0x138)&&typeof _0x40fe7c[_0x351cb6(0x214)]==_0x351cb6(0x138)&&(_0x3c6255[_0x40fe7c[_0x351cb6(0x731)]]=_0x40fe7c[_0x351cb6(0x214)]);return _0x3c6255;}async['NextBlock'](_0x2361a9){const _0x4339f6=a0_0x344519;if(!this[_0x4339f6(0x46f)]?.[_0x4339f6(0x3d6)][_0x4339f6(0x26d)]||_0x2361a9[_0x4339f6(0x197)]!==_0x4339f6(0x1fe)&&_0x2361a9[_0x4339f6(0x218)]==='')return null;let _0x3a743d=_0x2361a9['chatLog'][_0x4339f6(0x748)]||_0x4339f6(0x190);typeof _0x2361a9[_0x4339f6(0x788)][_0x4339f6(0x4e7)]>'u'&&(_0x2361a9[_0x4339f6(0x788)][_0x4339f6(0x4e7)]=!0x0);let _0x590821=_0x2361a9[_0x4339f6(0x788)]['lastCondition'];this[_0x4339f6(0x767)]['verbose'](this[_0x4339f6(0x20c)]+'\x20('+this[_0x4339f6(0x55b)][_0x4339f6(0x2cc)]+'):\x20lastBlockId:\x20'+_0x3a743d+_0x4339f6(0x716)+_0x590821);let _0x40a6a3=_0x3a743d===_0x4339f6(0x190)?_0x2361a9['blocks'][_0x4339f6(0x1ee)](_0x38ae6a=>_0x38ae6a[_0x4339f6(0x4d3)]===_0x4339f6(0x190)):_0x2361a9[_0x4339f6(0x5d2)][_0x4339f6(0x1ee)](_0x7c62f3=>_0x7c62f3[_0x4339f6(0x791)][_0x4339f6(0x2f6)]()===_0x3a743d[_0x4339f6(0x2f6)]());if(!_0x40a6a3)return this[_0x4339f6(0x767)][_0x4339f6(0x2b4)](this[_0x4339f6(0x20c)]+'\x20('+this[_0x4339f6(0x55b)]['wuid']+_0x4339f6(0x66a)+_0x3a743d),null;let _0x269ee2={'_pushName':_0x2361a9?.[_0x4339f6(0x788)]?.['lastReceivedMessage']?.[_0x4339f6(0x2df)]||'',..._0x2361a9[_0x4339f6(0x788)][_0x4339f6(0x326)]},_0xd695e7=null;if(_0x2361a9[_0x4339f6(0x218)]){let _0x4d9abe=_0x2361a9[_0x4339f6(0x788)][_0x4339f6(0x507)]['vote'],_0x4b256b=_0x2361a9[_0x4339f6(0x438)][_0x4339f6(0x1ee)](_0x2e7d6c=>_0x2e7d6c[_0x4339f6(0x811)]===_0x4d9abe);if(_0x4b256b){let _0x5eeb56=_0x4b256b[_0x4339f6(0x340)];if(_0xd695e7=_0x2361a9[_0x4339f6(0x5d2)][_0x4339f6(0x1ee)](_0x3de08b=>_0x3de08b[_0x4339f6(0x6c8)]===_0x5eeb56&&_0x3de08b[_0x4339f6(0x53c)]===0x1),_0x40a6a3[_0x4339f6(0x7cc)][_0x4339f6(0x355)]){let _0x2ea4d5={'id':_0x2361a9[_0x4339f6(0x218)],'remoteJid':_0x2361a9[_0x4339f6(0x5b0)],'fromMe':!0x0};await this[_0x4339f6(0x7f7)](_0x2ea4d5);}if(_0x40a6a3['uazapi']['pollOnReplyDelete']&&_0x40a6a3[_0x4339f6(0x7cc)][_0x4339f6(0x556)]&&_0x40a6a3[_0x4339f6(0x7cc)][_0x4339f6(0x20f)]==='poll'){let _0x1a8ea5={'number':_0x2361a9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4339f6(0x1e8)+_0x2361a9[_0x4339f6(0x1ba)]+_0x4339f6(0x4a4)+_0x4d9abe}};await this[_0x4339f6(0x797)](_0x1a8ea5);}_0x2361a9['status']=_0x4339f6(0x1fe),_0x2361a9[_0x4339f6(0x218)]='',_0x2361a9['waitingMenu_text']='',_0x2361a9[_0x4339f6(0x438)]=[];}else{this[_0x4339f6(0x767)][_0x4339f6(0x52e)](this[_0x4339f6(0x20c)]+'\x20('+this['instance'][_0x4339f6(0x2cc)]+_0x4339f6(0x390));let _0x16fbc7={'activatedCount':_0x2361a9[_0x4339f6(0x788)][_0x4339f6(0x6c5)][_0x4339f6(0x414)](_0x3c7a8e=>String(_0x3c7a8e['blockId'])===String(_0x3a743d))[_0x4339f6(0x4e4)],'moreLogs':[_0x4339f6(0x128)]};if(_0x40a6a3['uazapi'][_0x4339f6(0x6ec)]){let _0x4f5ba5={'number':_0x2361a9[_0x4339f6(0x5b0)],'options':{'delay':0x0},'textMessage':{'text':_0x40a6a3[_0x4339f6(0x7cc)][_0x4339f6(0x6ec)]}};await this[_0x4339f6(0x797)](_0x4f5ba5);}if(_0x40a6a3['maxActives']!==void 0x0&&_0x16fbc7[_0x4339f6(0x1b3)]>=_0x40a6a3[_0x4339f6(0x234)]){let _0x19d823=Date[_0x4339f6(0x6c7)](),_0x52eabc=_0x40a6a3['stopMinutesMaxActives']??0xa;isNaN(_0x52eabc)&&(_0x52eabc=0xa);let _0x2f7ba2=_0x19d823+_0x52eabc*0x3c*0x3e8;_0x16fbc7[_0x4339f6(0x129)]=_0x2f7ba2,_0x16fbc7['moreLogs'][_0x4339f6(0x413)](_0x4339f6(0x1c5)),this['updateStopChat'](_0x2361a9,_0x2f7ba2),_0x2361a9['waitingMenu_id']='',_0x2361a9[_0x4339f6(0x1ba)]='',_0x2361a9[_0x4339f6(0x438)]=[];}return this['updateConversation'](_0x2361a9,_0x40a6a3,_0x16fbc7,!0x0),null;}}if(_0x590821&&_0x40a6a3[_0x4339f6(0x340)]&&!_0x2361a9[_0x4339f6(0x218)]){let _0x2ee67d=_0x2361a9[_0x4339f6(0x5d2)][_0x4339f6(0x414)](_0x29efd6=>_0x29efd6[_0x4339f6(0x6c8)][_0x4339f6(0x2f6)]()===_0x40a6a3['next_groupId']['toString']())['sort']((_0x56388b,_0x9bafa)=>_0x56388b[_0x4339f6(0x53c)]-_0x9bafa[_0x4339f6(0x53c)]);_0x2ee67d[_0x4339f6(0x4e4)]>0x0&&(_0xd695e7=_0x2ee67d[0x0]);}if(!_0xd695e7){let _0x47cd49=_0x40a6a3[_0x4339f6(0x6c8)],_0x18f3e7=_0x2361a9[_0x4339f6(0x5d2)]['filter'](_0x40457c=>_0x40457c[_0x4339f6(0x6c8)]===_0x47cd49&&_0x40457c[_0x4339f6(0x53c)]>_0x40a6a3[_0x4339f6(0x53c)])[_0x4339f6(0x4ec)]((_0x58d4e3,_0x281edd)=>_0x58d4e3[_0x4339f6(0x53c)]-_0x281edd[_0x4339f6(0x53c)]);_0x18f3e7[_0x4339f6(0x4e4)]>0x0&&(_0xd695e7=_0x18f3e7[0x0]);}if(!_0xd695e7)return _0x2361a9[_0x4339f6(0x197)]='closed',null;_0x2361a9[_0x4339f6(0x788)][_0x4339f6(0x326)]=_0x269ee2;let _0x5cc221=JSON['parse'](JSON[_0x4339f6(0x3f5)](_0xd695e7));return this[_0x4339f6(0x670)](_0x5cc221,_0x2361a9[_0x4339f6(0x788)]['realVariables']),_0x2361a9[_0x4339f6(0x788)][_0x4339f6(0x748)]=_0x5cc221[_0x4339f6(0x791)],_0x2361a9[_0x4339f6(0x788)][_0x4339f6(0x4e7)]=!0x0,_0x5cc221;}[a0_0x344519(0x74f)](_0x246ffe,_0x1d7fac){const _0x187eea=a0_0x344519;return _0x246ffe[_0x187eea(0x477)](/\{\{([^}]+)\}\}/g,(_0x36c1b4,_0x14deae)=>_0x1d7fac[_0x14deae]||'');}['replaceVariablesInObject'](_0x475e0e,_0x2f778a){const _0x448b73=a0_0x344519;for(let _0x3d4b0a in _0x475e0e)typeof _0x475e0e[_0x3d4b0a]==_0x448b73(0x138)?_0x475e0e[_0x3d4b0a]=this[_0x448b73(0x74f)](_0x475e0e[_0x3d4b0a],_0x2f778a):typeof _0x475e0e[_0x3d4b0a]==_0x448b73(0x3fc)&&this[_0x448b73(0x670)](_0x475e0e[_0x3d4b0a],_0x2f778a);}async[a0_0x344519(0x6f3)](_0x2bfbcb,_0x25cb04){const _0x2b1ceb=a0_0x344519;let _0x22f9fd=_0x25cb04['_id'];if(_0x2bfbcb[_0x2b1ceb(0x788)]&&_0x2bfbcb[_0x2b1ceb(0x788)][_0x2b1ceb(0x6c5)]){let _0x430eb7=_0x2bfbcb[_0x2b1ceb(0x788)][_0x2b1ceb(0x6c5)][_0x2b1ceb(0x414)](_0x4b67af=>String(_0x4b67af[_0x2b1ceb(0x342)])===String(_0x22f9fd))[_0x2b1ceb(0x60b)]();if(_0x430eb7&&_0x430eb7[_0x2b1ceb(0x2b4)]&&_0x25cb04[_0x2b1ceb(0x135)])return _0x2bfbcb['status']='closed',await this[_0x2b1ceb(0x71d)](_0x2bfbcb),null;}if(_0x25cb04[_0x2b1ceb(0x4d3)]===_0x2b1ceb(0x7cc)&&_0x25cb04[_0x2b1ceb(0x7cc)][_0x2b1ceb(0x6e5)]===_0x2b1ceb(0x800)&&_0x2bfbcb['waitingMenu_id'])return _0x2bfbcb[_0x2b1ceb(0x788)]['lastBlockId']=_0x22f9fd,await this['saveConversationToDatabase'](_0x2bfbcb),null;let _0x3480de=await this[_0x2b1ceb(0x67e)](_0x2bfbcb);if(_0x2bfbcb[_0x2b1ceb(0x788)]&&_0x2bfbcb[_0x2b1ceb(0x788)][_0x2b1ceb(0x6c5)]){let _0x17e9b7=_0x2bfbcb['chatLog'][_0x2b1ceb(0x6c5)][_0x2b1ceb(0x414)](_0x148ef1=>String(_0x148ef1[_0x2b1ceb(0x342)])===String(_0x22f9fd))[_0x2b1ceb(0x4e4)];if(_0x25cb04['maxActives']!==void 0x0&&_0x17e9b7>=_0x25cb04[_0x2b1ceb(0x234)]){let _0x45b2c5=Date['now'](),_0x49d363=_0x25cb04[_0x2b1ceb(0x30c)]??0xa;isNaN(_0x49d363)&&(_0x49d363=0xa);let _0x235cde=_0x45b2c5+_0x49d363*0x3c*0x3e8,_0x204b11={'newStoppedUntil':_0x235cde};return this['updateStopChat'](_0x2bfbcb,_0x235cde),this[_0x2b1ceb(0x6a5)](_0x2bfbcb,_0x25cb04,_0x204b11,!0x0),null;}}_0x3480de&&_0x3480de[_0x2b1ceb(0x4d3)]!==_0x2b1ceb(0x254)&&await this[_0x2b1ceb(0x1d2)](_0x2bfbcb,_0x3480de),_0x3480de||await this[_0x2b1ceb(0x71d)](_0x2bfbcb),_0x3480de&&_0x3480de[_0x2b1ceb(0x4d3)]===_0x2b1ceb(0x254)&&(_0x2bfbcb['chatLog']['lastBlockId']=_0x22f9fd,await this[_0x2b1ceb(0x71d)](_0x2bfbcb));}async['processblock'](_0xfb0acd,_0x57fd62){const _0x9351d9=a0_0x344519;try{let _0x1e1b1c=_0x57fd62[_0x9351d9(0x4d3)];this[_0x9351d9(0x767)]['verbose'](this[_0x9351d9(0x20c)]+'\x20('+this[_0x9351d9(0x55b)][_0x9351d9(0x2cc)]+_0x9351d9(0x5aa)+_0x1e1b1c);let _0x49b9c5={'uazapi':()=>this[_0x9351d9(0x79a)](_0xfb0acd,_0x57fd62),'save':()=>this['saveTextReply'](_0xfb0acd,_0x57fd62),'stop':()=>this['stopConversation'](_0xfb0acd,_0x57fd62),'condition':()=>this[_0x9351d9(0x53e)](_0xfb0acd,_0x57fd62),'varedit':()=>this[_0x9351d9(0x188)](_0xfb0acd,_0x57fd62),'apirequest':()=>this[_0x9351d9(0x7f4)](_0xfb0acd,_0x57fd62),'goToFlow':()=>this[_0x9351d9(0x6f4)](_0xfb0acd,_0x57fd62),'scheduleFlow':()=>this[_0x9351d9(0x39f)](_0xfb0acd,_0x57fd62),'awaitSeconds':()=>this['processawaitSeconds'](_0xfb0acd,_0x57fd62),'clearVariables':()=>this[_0x9351d9(0x346)](_0xfb0acd,_0x57fd62)}[_0x1e1b1c];_0x49b9c5&&await _0x49b9c5();}catch(_0x1bf32a){this[_0x9351d9(0x767)][_0x9351d9(0x2b4)](this[_0x9351d9(0x20c)]+'\x20('+this[_0x9351d9(0x55b)]['wuid']+_0x9351d9(0x65c)+(_0x1bf32a instanceof Error?_0x1bf32a[_0x9351d9(0x806)]:JSON['stringify'](_0x1bf32a,null,0x2)));}}async[a0_0x344519(0x727)](_0x27c2ef,_0x16135d){const _0x4f939f=a0_0x344519;if(this[_0x4f939f(0x767)][_0x4f939f(0x52e)](this['instanceName']+'\x20('+this[_0x4f939f(0x55b)]['wuid']+_0x4f939f(0x659)),!_0x27c2ef||!_0x16135d)return this[_0x4f939f(0x767)][_0x4f939f(0x2b4)](this[_0x4f939f(0x20c)]+'\x20('+this[_0x4f939f(0x55b)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x1374f9=+_0x16135d[_0x4f939f(0x7d0)];isNaN(_0x1374f9)&&(_0x1374f9=0x0),_0x1374f9=Math[_0x4f939f(0x1b9)](_0x1374f9,0x3c),await(0x0,f[_0x4f939f(0x5a4)])(_0x1374f9*0x3e8);let _0x396fc3={'moreLogs':[_0x4f939f(0x21e)+_0x1374f9+'\x20segundos']};return await this[_0x4f939f(0x6a5)](_0x27c2ef,_0x16135d,_0x396fc3),_0x1374f9;}async[a0_0x344519(0x346)](_0xd4ac7,_0x46f9fe){const _0x4da921=a0_0x344519;if(this[_0x4da921(0x767)][_0x4da921(0x52e)](this[_0x4da921(0x20c)]+'\x20('+this['instance'][_0x4da921(0x2cc)]+_0x4da921(0x5d8)),!_0xd4ac7||!_0x46f9fe)return this[_0x4da921(0x767)]['error'](this[_0x4da921(0x20c)]+'\x20('+this['instance'][_0x4da921(0x2cc)]+_0x4da921(0x10e)),null;let _0x2927e5=[];if(_0x46f9fe[_0x4da921(0x6eb)][_0x4da921(0x774)]()===_0x4da921(0x4d2)){let _0x35dbd4=[_0x4da921(0x2e4),'_error',_0x4da921(0x120),'_remoteJid','_id',_0x4da921(0x41d)];_0x2927e5=Object[_0x4da921(0x6cc)](_0xd4ac7['chatLog']['realVariables'])[_0x4da921(0x414)](_0x209592=>_0x209592['startsWith']('_')&&!_0x35dbd4[_0x4da921(0x5fb)](_0x209592));}else _0x2927e5=_0x46f9fe[_0x4da921(0x6eb)][_0x4da921(0x134)]('|')[_0x4da921(0x41f)](_0x456395=>(_0x456395=_0x456395['replace'](/[{}]/g,'')[_0x4da921(0x774)](),_0x456395[_0x4da921(0x742)]('_')?_0x456395:'_'+_0x456395));let _0x1ae215=[];_0x2927e5[_0x4da921(0x402)](_0x42611a=>{const _0x3ce8d7=_0x4da921;_0x42611a in _0xd4ac7[_0x3ce8d7(0x788)]['realVariables']&&(delete _0xd4ac7['chatLog']['realVariables'][_0x42611a],_0x1ae215[_0x3ce8d7(0x413)](_0x42611a));}),_0x1ae215['length']>0x0?this[_0x4da921(0x767)][_0x4da921(0x52e)](this[_0x4da921(0x20c)]+'\x20('+this[_0x4da921(0x55b)]['wuid']+_0x4da921(0x7b9)+_0x1ae215[_0x4da921(0x2a3)](',\x20')):this['logger'][_0x4da921(0x52e)](this[_0x4da921(0x20c)]+'\x20('+this[_0x4da921(0x55b)][_0x4da921(0x2cc)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x595ff4={'moreLogs':[_0x4da921(0x28f)+_0x1ae215[_0x4da921(0x2a3)](',\x20')]};return await this[_0x4da921(0x6a5)](_0xd4ac7,_0x46f9fe,_0x595ff4),null;}async[a0_0x344519(0x39f)](_0x6ad861,_0xe2e984){const _0x6bc276=a0_0x344519;if(this[_0x6bc276(0x767)][_0x6bc276(0x52e)](this[_0x6bc276(0x20c)]+'\x20('+this['instance'][_0x6bc276(0x2cc)]+_0x6bc276(0x828)),!_0x6ad861||!_0xe2e984)return this['logger']['error'](this[_0x6bc276(0x20c)]+'\x20('+this[_0x6bc276(0x55b)][_0x6bc276(0x2cc)]+_0x6bc276(0x10e)),null;let _0x5ece2a=_0x6ad861['remoteJid'];_0xe2e984[_0x6bc276(0x478)][_0x6bc276(0x5b0)]&&_0xe2e984[_0x6bc276(0x478)][_0x6bc276(0x5b0)][_0x6bc276(0x774)]()!==''&&(_0x5ece2a=_0xe2e984['uazapi'][_0x6bc276(0x5b0)][_0x6bc276(0x774)]());let _0x3b4bc9=_0xe2e984[_0x6bc276(0x478)]['timeInMinutes']*0xea60,_0x48d1fd=Date[_0x6bc276(0x6c7)]()+_0x3b4bc9,_0x5e29f2={'status':_0x6bc276(0x49c),'info':_0x6bc276(0x7f9)+_0x6ad861[_0x6bc276(0x731)],'remoteJids':[_0x5ece2a],'when':_0x48d1fd,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x6bc276(0x3d0),'flowName':_0xe2e984[_0x6bc276(0x478)][_0x6bc276(0x719)]};this[_0x6bc276(0x44e)](_0x5e29f2);let _0x41867c=await this[_0x6bc276(0x67e)](_0x6ad861);_0x41867c&&await this['processblock'](_0x6ad861,_0x41867c);}async['processgoToFlow'](_0x3ff5eb,_0x3a452d){const _0x11b6dd=a0_0x344519;if(this['logger']['verbose'](this[_0x11b6dd(0x20c)]+'\x20('+this['instance'][_0x11b6dd(0x2cc)]+_0x11b6dd(0x6c3)),!_0x3ff5eb||!_0x3a452d)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x11b6dd(0x55b)][_0x11b6dd(0x2cc)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x11b6dd(0x6a5)](_0x3ff5eb,_0x3a452d,{},!0x0,!0x0);let _0x28a86c=_0x3a452d[_0x11b6dd(0x3a6)];_0x3ff5eb=await this[_0x11b6dd(0x603)](_0x28a86c,_0x3ff5eb[_0x11b6dd(0x5b0)],_0x3ff5eb[_0x11b6dd(0x788)][_0x11b6dd(0x326)]);let _0x1bcd1c=await this[_0x11b6dd(0x67e)](_0x3ff5eb);_0x1bcd1c&&await this[_0x11b6dd(0x1d2)](_0x3ff5eb,_0x1bcd1c);}async[a0_0x344519(0x603)](_0x1639f0,_0x111c7d,_0x58b986){const _0x5c9b12=a0_0x344519;this['logger'][_0x5c9b12(0x52e)](this[_0x5c9b12(0x20c)]+'\x20('+this[_0x5c9b12(0x55b)][_0x5c9b12(0x2cc)]+_0x5c9b12(0x3e7));try{if(_0x1639f0=await this['repository'][_0x5c9b12(0x3d0)][_0x5c9b12(0x1a8)]({'where':{'name':_0x1639f0}},this['instance']['wuid']),!_0x1639f0)return this[_0x5c9b12(0x767)][_0x5c9b12(0x2b4)](this['instanceName']+'\x20('+this[_0x5c9b12(0x55b)][_0x5c9b12(0x2cc)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x59131d=require(_0x5c9b12(0x77c))[_0x5c9b12(0x62a)],_0x2f9831=Date[_0x5c9b12(0x6c7)](),_0x4fe929=_0x5c9b12(0x190),_0x131455={},_0x13fe0c={},_0x24cac9={..._0x1639f0,'chatLog':null},_0x2f237f={'lastReceivedMessage':_0x131455,'lastSendMessage':_0x13fe0c,'lastBlockId':_0x4fe929,'lastCondition':!0x0,'realVariables':_0x58b986};_0x24cac9[_0x5c9b12(0x788)]=_0x2f237f,_0x24cac9[_0x5c9b12(0x788)][_0x5c9b12(0x326)]={..._0x58b986},delete _0x24cac9[_0x5c9b12(0x791)],_0x24cac9[_0x5c9b12(0x791)]=new _0x59131d(),_0x24cac9[_0x5c9b12(0x432)]=_0x2f9831,_0x24cac9[_0x5c9b12(0x197)]='open',_0x24cac9[_0x5c9b12(0x5b0)]=_0x111c7d;let _0x17d031=await this['repository'][_0x5c9b12(0x35a)][_0x5c9b12(0x608)](_0x24cac9[_0x5c9b12(0x791)],_0x24cac9,this['instance'][_0x5c9b12(0x2cc)]);return this[_0x5c9b12(0x767)]['verbose'](this[_0x5c9b12(0x20c)]+'\x20('+this[_0x5c9b12(0x55b)][_0x5c9b12(0x2cc)]+_0x5c9b12(0x3bf)),_0x17d031?_0x24cac9:null;}catch(_0x1bf20f){let _0x3c4aab=_0x5c9b12(0x804),_0xa29827=_0x1bf20f instanceof Error?_0x1bf20f[_0x5c9b12(0x806)]:typeof _0x1bf20f==_0x5c9b12(0x3fc)?JSON[_0x5c9b12(0x3f5)](_0x1bf20f):_0x1bf20f,_0x3f08b1=_0x3c4aab+':\x20'+_0xa29827;throw this['logger'][_0x5c9b12(0x2b4)](this[_0x5c9b12(0x20c)]+'\x20('+this['instance'][_0x5c9b12(0x2cc)]+_0x5c9b12(0x780)+_0x3f08b1),new m(_0x3f08b1);}}async['processApiRequest'](_0x9bab3d,_0x919b90){const _0x24a960=a0_0x344519;let _0x58c1aa,_0x2ce7f9;try{let _0x5471ce=_0x919b90[_0x24a960(0x4c5)];if(!_0x5471ce||!_0x5471ce[_0x24a960(0x51d)]||!_0x5471ce[_0x24a960(0x467)])throw new Error(_0x24a960(0x7c8));let _0x113d67;([_0x24a960(0x473),_0x24a960(0x3f6),_0x24a960(0x4eb)][_0x24a960(0x19f)](_0x46c652=>_0x5471ce[_0x24a960(0x51d)][_0x24a960(0x5fb)](_0x46c652))||_0x5471ce[_0x24a960(0x243)])&&(_0x113d67=_0x24a960(0x713));let _0x43427f='\u205f',_0x237921;try{_0x237921=JSON['parse'](_0x5471ce[_0x24a960(0x2ac)]['replace'](new RegExp(_0x43427f,'g'),''));}catch(_0x3f7ad5){throw _0x3f7ad5;}let _0xd7d1e2={'method':_0x5471ce[_0x24a960(0x467)],'url':_0x5471ce[_0x24a960(0x51d)],'headers':_0x5471ce[_0x24a960(0x207)]||{},..._0x5471ce[_0x24a960(0x467)][_0x24a960(0x5fd)]()!==_0x24a960(0x658)&&_0x5471ce[_0x24a960(0x2ac)]?{'data':JSON[_0x24a960(0x1bc)](_0x5471ce[_0x24a960(0x2ac)][_0x24a960(0x477)](new RegExp(_0x43427f,'g'),''))}:{},..._0x113d67&&{'responseType':_0x113d67}},_0x58ca72=await(0x0,Q[_0x24a960(0x10d)])(_0xd7d1e2),_0x153380=_0x58ca72[_0x24a960(0x1f2)][_0x24a960(0x2c7)];if(_0x153380&&_0x153380[_0x24a960(0x5fb)]('application/json')||typeof _0x58ca72[_0x24a960(0x7e5)]==_0x24a960(0x138)){if(typeof _0x58ca72[_0x24a960(0x7e5)]==_0x24a960(0x138)){let _0x304004=_0x58ca72[_0x24a960(0x7e5)][_0x24a960(0x477)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x24a960(0x774)]();try{_0x58c1aa=JSON[_0x24a960(0x1bc)](_0x304004);}catch(_0x1003ad){console[_0x24a960(0x2b4)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x1003ad[_0x24a960(0x806)]),_0x58c1aa={'_apiResponse':_0x58ca72[_0x24a960(0x7e5)]};}}else _0x58c1aa=_0x58ca72[_0x24a960(0x7e5)];let _0x376393=_0x9bab3d['chatLog'][_0x24a960(0x326)],_0x112023=this[_0x24a960(0x337)](_0x58c1aa);return Object[_0x24a960(0x2d7)](_0x376393,_0x112023),_0x9bab3d['chatLog'][_0x24a960(0x326)]=_0x376393,_0x2ce7f9={'error':!0x1,'apiResponse':_0x58c1aa},this[_0x24a960(0x6a5)](_0x9bab3d,_0x919b90,_0x2ce7f9),_0x58c1aa;}if(_0x153380&&(_0x153380['includes'](_0x24a960(0x21a))||_0x153380[_0x24a960(0x5fb)](_0x24a960(0x4dd))||_0x153380[_0x24a960(0x5fb)]('audio')||_0x153380['includes'](_0x24a960(0x77a)))){this[_0x24a960(0x767)][_0x24a960(0x52e)](this['instanceName']+'\x20('+this[_0x24a960(0x55b)][_0x24a960(0x2cc)]+_0x24a960(0x156)+_0x153380);let _0x30d033=(0x0,Ce['v4'])(),_0x9967d9='',_0x2a0935={'image/jpeg':_0x24a960(0x2c0),'image/png':_0x24a960(0x516),'image/gif':'.gif','image/webp':'.webp','image/svg+xml':_0x24a960(0x795),'audio/mpeg':_0x24a960(0x130),'audio/ogg':_0x24a960(0x312),'audio/wav':_0x24a960(0x449),'video/mp4':'.mp4','video/webm':'.webm','video/ogg':_0x24a960(0x2d9),'text/plain':_0x24a960(0x38b),'application/pdf':_0x24a960(0x2ee),'application/msword':_0x24a960(0x749),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x24a960(0x68d),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x24a960(0x4d8),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x24a960(0x5e5)};_0x2a0935[_0x153380]?(_0x9967d9=_0x2a0935[_0x153380],this['logger'][_0x24a960(0x52e)](this[_0x24a960(0x20c)]+'\x20('+this[_0x24a960(0x55b)]['wuid']+_0x24a960(0x48a)+_0x9967d9)):(_0x9967d9=_0x24a960(0x3a8),this[_0x24a960(0x767)][_0x24a960(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x24a960(0x2cc)]+_0x24a960(0x5c6)+_0x9967d9)),_0x30d033+=_0x9967d9,this[_0x24a960(0x767)][_0x24a960(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x24a960(0x2cc)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x30d033);let _0x4383d5=this['configService'][_0x24a960(0x283)](_0x24a960(0x1e6))[_0x24a960(0x5df)];if(!_0x4383d5){let _0x29c843=this[_0x24a960(0x574)]['get'](_0x24a960(0x5a2));_0x4383d5=_0x24a960(0x29b)+(_0x29c843&&_0x29c843[_0x24a960(0x645)][_0x24a960(0x134)]('/')[0x4]);}let _0x54b2c3=Buffer['from'](_0x58ca72['data']);await this[_0x24a960(0x3a3)](_0x54b2c3,_0x30d033);let _0xe8ff5f=_0x24a960(0x29c)+_0x30d033;_0xe8ff5f=''+_0x4383d5+_0xe8ff5f,_0x58c1aa={'fileUrl':_0xe8ff5f},_0x9bab3d[_0x24a960(0x788)]['realVariables'][_0x24a960(0x613)]=_0xe8ff5f;let _0x98a818=_0x9bab3d[_0x24a960(0x788)][_0x24a960(0x326)],_0x4c3711=this['flattenObject'](_0x58c1aa);return Object[_0x24a960(0x2d7)](_0x98a818,_0x4c3711),_0x9bab3d[_0x24a960(0x788)][_0x24a960(0x326)]=_0x98a818,_0x2ce7f9={'error':!0x1,'apiResponse':{'fileUrl':_0xe8ff5f}},this[_0x24a960(0x6a5)](_0x9bab3d,_0x919b90,_0x2ce7f9),_0x58c1aa;}}catch(_0x4313ef){console[_0x24a960(0x2b4)](_0x24a960(0x6e9),_0x4313ef[_0x24a960(0x806)]),_0x4313ef['response']&&(_0x58c1aa=_0x4313ef[_0x24a960(0x154)][_0x24a960(0x7e5)]);let _0xd4117c=_0x9bab3d[_0x24a960(0x788)][_0x24a960(0x326)],_0x5ad24a=this['flattenObject'](_0x58c1aa);return Object['assign'](_0xd4117c,_0x5ad24a),_0x9bab3d[_0x24a960(0x788)]['realVariables']=_0xd4117c,_0x2ce7f9={'error':!0x0,'errorLog':_0x4313ef[_0x24a960(0x2f6)](),'apiResponse':_0x58c1aa},this[_0x24a960(0x6a5)](_0x9bab3d,_0x919b90,_0x2ce7f9),{'success':!0x1};}}[a0_0x344519(0x451)](_0x28b635,_0x1dd8be){const _0x44e4e5=a0_0x344519;let _0x240d8e=_0x154871=>{const _0x3a7521=a0_0x3abc;let _0x38d722=_0x154871[_0x3a7521(0x477)](/[^0-9.,-]/g,'')[_0x3a7521(0x477)](',','.'),_0x30b4ee=parseFloat(_0x38d722);return isNaN(_0x30b4ee)?null:_0x30b4ee;},_0x38d3a5=_0x1dd8be[_0x44e4e5(0x3b6)],_0x3f7e8f=_0x1dd8be[_0x44e4e5(0x2ed)];typeof _0x38d3a5=='string'&&(_0x38d3a5=this[_0x44e4e5(0x74f)](_0x38d3a5,_0x28b635[_0x44e4e5(0x788)]['realVariables'])??''),typeof _0x3f7e8f==_0x44e4e5(0x138)&&(_0x3f7e8f=this['replaceVariables'](_0x3f7e8f,_0x28b635[_0x44e4e5(0x788)][_0x44e4e5(0x326)])??'');let _0x12c8ed=null;if(!_0x1dd8be[_0x44e4e5(0x46a)])return null;switch(this[_0x44e4e5(0x767)][_0x44e4e5(0x52e)](this['instanceName']+'\x20('+this[_0x44e4e5(0x55b)][_0x44e4e5(0x2cc)]+_0x44e4e5(0x15a)+_0x38d3a5),this[_0x44e4e5(0x767)][_0x44e4e5(0x52e)](this[_0x44e4e5(0x20c)]+'\x20('+this[_0x44e4e5(0x55b)][_0x44e4e5(0x2cc)]+_0x44e4e5(0x6fd)+_0x3f7e8f),_0x1dd8be[_0x44e4e5(0x46a)]){case'+':case'-':case'*':case'/':let _0x48175f=_0x240d8e(_0x38d3a5||'0'),_0x54c4d6=_0x240d8e(_0x3f7e8f||'0');if(_0x48175f===null)return null;switch(_0x1dd8be[_0x44e4e5(0x46a)]){case'+':_0x12c8ed=_0x48175f+(_0x54c4d6??0x0);break;case'-':_0x12c8ed=_0x48175f-(_0x54c4d6??0x0);break;case'*':_0x12c8ed=_0x48175f*(_0x54c4d6??0x1);break;case'/':_0x54c4d6!==0x0&&(_0x12c8ed=_0x48175f/(_0x54c4d6??0x1));break;}break;case'findAndReplace':case'findAndReplaceRegex':let _0x25b011=_0x3f7e8f,_0x27c858=_0x1dd8be['replaceValue'];if(typeof _0x27c858==_0x44e4e5(0x138)&&(_0x27c858=this[_0x44e4e5(0x74f)](_0x27c858,_0x28b635['chatLog'][_0x44e4e5(0x326)])??''),_0x25b011&&_0x27c858!==void 0x0){let _0x127162=_0x1dd8be[_0x44e4e5(0x46a)]==='findAndReplace'?new RegExp(_0x25b011[_0x44e4e5(0x477)](/[-\/\\^$*+?.()|[\]{}]/g,_0x44e4e5(0x259)),'g'):new RegExp(_0x25b011,'g');_0x12c8ed=_0x38d3a5[_0x44e4e5(0x477)](_0x127162,_0x27c858);}else console[_0x44e4e5(0x7ba)](_0x44e4e5(0x1bb));break;case _0x44e4e5(0x46c):_0x12c8ed=_0x3f7e8f;break;case _0x44e4e5(0x4cb):let _0x1c4542=_0x38d3a5[_0x44e4e5(0x364)](new RegExp(_0x3f7e8f||''));_0x12c8ed=_0x1c4542?_0x1c4542[0x0]:'';break;case _0x44e4e5(0x6fe):_0x12c8ed=_0x38d3a5[_0x44e4e5(0x211)](0x0,parseInt(_0x3f7e8f||'0'));break;case'truncatedtoEnd':let _0x105dfa=parseInt(_0x3f7e8f||'0');_0x12c8ed=_0x38d3a5['slice'](_0x38d3a5[_0x44e4e5(0x4e4)]-_0x105dfa);break;case _0x44e4e5(0x1f3):let _0x56d6bf=_0x240d8e(_0x38d3a5),_0x334599=parseInt(_0x3f7e8f||'0');_0x334599=Math[_0x44e4e5(0x4c4)](_0x334599),_0x56d6bf!==null?_0x12c8ed=_0x56d6bf['toLocaleString'](_0x44e4e5(0x673),{'minimumFractionDigits':_0x334599,'maximumFractionDigits':_0x334599}):(console['warn'](_0x44e4e5(0x542)+_0x38d3a5),_0x12c8ed=null);break;case'toBRL':let _0xd4d627=_0x240d8e(_0x38d3a5);_0xd4d627!==null?_0x12c8ed=_0xd4d627['toLocaleString']('pt-BR',{'style':_0x44e4e5(0x813),'currency':_0x44e4e5(0x5f2)}):(console[_0x44e4e5(0x7ba)](_0x44e4e5(0x268)+_0x38d3a5),_0x12c8ed=null);break;case _0x44e4e5(0x127):_0x12c8ed=_0x38d3a5[_0x44e4e5(0x5fd)]();break;case'lowerCase':_0x12c8ed=_0x38d3a5[_0x44e4e5(0x5cf)]();break;case _0x44e4e5(0x3b8):_0x12c8ed=_0x38d3a5[_0x44e4e5(0x134)]('\x20')['map'](_0x10af6b=>_0x10af6b[_0x44e4e5(0x396)](0x0)[_0x44e4e5(0x5fd)]()+_0x10af6b[_0x44e4e5(0x211)](0x1)[_0x44e4e5(0x5cf)]())[_0x44e4e5(0x2a3)]('\x20');break;case _0x44e4e5(0x15c):_0x12c8ed=_0x38d3a5[_0x44e4e5(0x774)]();break;default:_0x12c8ed=_0x38d3a5;}return _0x12c8ed!==null?_0x12c8ed['toString']():null;}async[a0_0x344519(0x188)](_0x8ee4c3,_0x3eec6e){const _0x31b3dd=a0_0x344519;try{let _0x5ad81e=_0x8ee4c3[_0x31b3dd(0x411)]?.[_0x31b3dd(0x414)](_0xd16066=>_0xd16066['blockId']===_0x3eec6e['_id']?.['toString']())||[],_0x27f219=_0x3eec6e[_0x31b3dd(0x62e)],_0x1e1d35=null,_0x397485=[],_0x2c8443=_0x8ee4c3[_0x31b3dd(0x788)][_0x31b3dd(0x326)][_0x27f219];_0x397485['push']('Valor\x20inicial:\x20\x22'+_0x2c8443+'\x22');for(let _0x5ca761 of _0x5ad81e){_0x5ca761[_0x31b3dd(0x3b6)]=_0x2c8443,_0x1e1d35=_0x5ca761[_0x31b3dd(0x3b6)];let _0x35ae48;try{_0x35ae48=this['applyvaredit'](_0x8ee4c3,_0x5ca761);}catch(_0x135992){console[_0x31b3dd(0x2b4)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x135992[_0x31b3dd(0x806)]);continue;}if(_0x35ae48!==null){let _0x3bf688=_0x31b3dd(0x6db)+_0x5ca761[_0x31b3dd(0x46a)]+'\x22',_0x127d26=['toBRL','upperCase','lowerCase',_0x31b3dd(0x3b8),_0x31b3dd(0x15c)];_0x5ca761[_0x31b3dd(0x46a)]==='findAndReplace'||_0x5ca761[_0x31b3dd(0x46a)]===_0x31b3dd(0x228)?_0x3bf688+=_0x31b3dd(0x28b)+_0x5ca761[_0x31b3dd(0x2ed)]+_0x31b3dd(0x192)+_0x5ca761['replaceValue']+'\x22':!_0x127d26[_0x31b3dd(0x5fb)](_0x5ca761[_0x31b3dd(0x46a)])&&_0x5ca761[_0x31b3dd(0x2ed)]!==null&&_0x5ca761['secondValue']!==void 0x0&&(_0x3bf688+=_0x31b3dd(0x77d)+_0x5ca761[_0x31b3dd(0x2ed)]+'\x22'),_0x3bf688+=_0x31b3dd(0x205)+_0x35ae48+'.',_0x397485[_0x31b3dd(0x413)](_0x3bf688);}_0x35ae48!==null&&(_0x2c8443=_0x35ae48);}if(_0x8ee4c3[_0x31b3dd(0x788)][_0x31b3dd(0x326)]&&_0x3eec6e['saveVariable']){_0x8ee4c3[_0x31b3dd(0x788)][_0x31b3dd(0x326)][_0x3eec6e['saveVariable']]=_0x2c8443;let _0x262e3f={'variable':_0x3eec6e[_0x31b3dd(0x62e)],'oldValue':_0x1e1d35,'newValue':_0x2c8443,'moreLogs':_0x397485};try{this['updateConversation'](_0x8ee4c3,_0x3eec6e,_0x262e3f);}catch(_0x15c653){console[_0x31b3dd(0x2b4)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x15c653[_0x31b3dd(0x806)]);}}return _0x27f219;}catch(_0x2399dd){return console['error']('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x2399dd['message']),null;}}async[a0_0x344519(0x53e)](_0x385438,_0x2f1b1b){const _0x4944d7=a0_0x344519;try{let _0x40604a=[],_0x4bd758=_0x385438[_0x4944d7(0x5a8)]['filter'](_0xf45c5=>_0xf45c5[_0x4944d7(0x342)]===_0x2f1b1b[_0x4944d7(0x791)][_0x4944d7(0x2f6)]()),_0x284895=null,_0x4ab2dd=!0x1;for(let _0x1c83eb of _0x4bd758){let _0x3184e7=this[_0x4944d7(0x24f)](_0x385438,_0x1c83eb);_0x40604a[_0x4944d7(0x413)](_0x4944d7(0x69a)+_0x1c83eb['firstValue']+',\x20Comparador:\x20'+_0x1c83eb[_0x4944d7(0x802)]+_0x4944d7(0x7ab)+_0x1c83eb[_0x4944d7(0x2ed)]+_0x4944d7(0x5ad)+_0x3184e7),_0x284895===null?_0x284895=_0x3184e7:_0x1c83eb[_0x4944d7(0x143)]===_0x4944d7(0x1ab)?(_0x284895=_0x284895&&_0x3184e7,_0x3184e7||(_0x4ab2dd=!0x0)):_0x1c83eb['OrAnd']==='or'&&(_0x4ab2dd||(_0x284895=_0x284895||_0x3184e7));}_0x284895===null&&(_0x284895=!0x0);let _0x1cd20a={'moreLogs':_0x40604a};_0x385438[_0x4944d7(0x788)][_0x4944d7(0x4e7)]=_0x284895,await this['updateConversation'](_0x385438,_0x2f1b1b,_0x1cd20a);}catch(_0xe9e7bb){this[_0x4944d7(0x767)][_0x4944d7(0x2b4)](this['instanceName']+'\x20('+this[_0x4944d7(0x55b)][_0x4944d7(0x2cc)]+_0x4944d7(0x6a9)+(_0xe9e7bb instanceof Error?_0xe9e7bb['message']:JSON[_0x4944d7(0x3f5)](_0xe9e7bb,null,0x2)));}}['evaluateCondition'](_0x4c917,_0x48f37d){const _0x5a18b5=a0_0x344519;let _0x2c1156=_0x48f37d[_0x5a18b5(0x3b6)],_0x1b7491=_0x48f37d[_0x5a18b5(0x2ed)];typeof _0x2c1156=='string'&&(_0x2c1156=this[_0x5a18b5(0x74f)](_0x2c1156,_0x4c917[_0x5a18b5(0x788)][_0x5a18b5(0x326)])??''),typeof _0x1b7491=='string'&&(_0x1b7491=this[_0x5a18b5(0x74f)](_0x1b7491,_0x4c917[_0x5a18b5(0x788)][_0x5a18b5(0x326)])??'');try{switch(_0x48f37d[_0x5a18b5(0x802)]){case _0x5a18b5(0x7d7):return _0x2c1156===_0x1b7491;case _0x5a18b5(0x63b):return _0x2c1156!==_0x1b7491;case _0x5a18b5(0x35e):return this['contains'](_0x2c1156,_0x1b7491);case _0x5a18b5(0x282):return!this[_0x5a18b5(0x35e)](_0x2c1156,_0x1b7491);case'greater':return parseFloat(_0x2c1156)>parseFloat(_0x1b7491);case'less':return parseFloat(_0x2c1156)<parseFloat(_0x1b7491);case _0x5a18b5(0x131):return _0x2c1156!=='';case _0x5a18b5(0x76e):return _0x2c1156==='';case _0x5a18b5(0x3b7):return new RegExp(_0x1b7491)['test'](_0x2c1156);case _0x5a18b5(0x420):return!new RegExp(_0x1b7491)[_0x5a18b5(0x78c)](_0x2c1156);default:return!0x1;}}catch(_0x3ad32d){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x3ad32d),!0x1;}}[a0_0x344519(0x35e)](_0xd4e947,_0x51446a){const _0x88518=a0_0x344519;if(_0xd4e947===_0x51446a&&/^\d+$/['test'](_0xd4e947))return!0x0;if(this['isListOfNumbers'](_0xd4e947)&&/^\d+$/[_0x88518(0x78c)](_0x51446a)){let _0x4f5ce1=_0xd4e947[_0x88518(0x134)](',')[_0x88518(0x41f)](_0x4cc0dd=>parseInt(_0x4cc0dd[_0x88518(0x774)]())),_0x138802=parseInt(_0x51446a);return _0x4f5ce1[_0x88518(0x5fb)](_0x138802);}return _0xd4e947['includes'](_0x51446a);}['isListOfNumbers'](_0x4ba84){const _0x38016d=a0_0x344519;return/^\d+(,\d+)*$/[_0x38016d(0x78c)](_0x4ba84);}['processConditionsTest'](_0x44653f){const _0x57d3e1=a0_0x344519;let _0x5755eb=!0x0,_0x19fe33=null;for(let _0x459654 of _0x44653f){let _0x32900f=this[_0x57d3e1(0x59c)](_0x459654);if(_0x19fe33==='or'&&_0x32900f){_0x5755eb=!0x0;break;}if(_0x19fe33==='and'&&!_0x32900f){_0x5755eb=!0x1;break;}_0x19fe33=_0x459654[_0x57d3e1(0x143)];}return _0x5755eb;}[a0_0x344519(0x59c)](_0x8da172){const _0x4f669d=a0_0x344519;let _0x5de677=_0x8da172[_0x4f669d(0x3b6)],_0x459d39=_0x8da172[_0x4f669d(0x2ed)];try{switch(_0x8da172[_0x4f669d(0x802)]){case _0x4f669d(0x7d7):return String(_0x5de677)===String(_0x459d39);case _0x4f669d(0x63b):return String(_0x5de677)!==String(_0x459d39);case _0x4f669d(0x35e):return String(_0x5de677)[_0x4f669d(0x5fb)](String(_0x459d39));case'notContains':return!String(_0x5de677)[_0x4f669d(0x5fb)](String(_0x459d39));case _0x4f669d(0x5fe):return parseFloat(String(_0x5de677))>parseFloat(String(_0x459d39));case _0x4f669d(0x5ab):return parseFloat(String(_0x5de677))<parseFloat(String(_0x459d39));case _0x4f669d(0x131):return String(_0x5de677)!=='';case _0x4f669d(0x76e):return String(_0x5de677)==='';case _0x4f669d(0x3b7):return new RegExp(String(_0x459d39))[_0x4f669d(0x78c)](String(_0x5de677));case _0x4f669d(0x420):return!new RegExp(String(_0x459d39))[_0x4f669d(0x78c)](String(_0x5de677));default:return!0x1;}}catch(_0x4e5be1){return console[_0x4f669d(0x2b4)](_0x4f669d(0x6aa)+_0x4e5be1),!0x1;}}async[a0_0x344519(0x5f7)](_0x43a22b,_0x3996d0){const _0x5bb49c=a0_0x344519;if(this[_0x5bb49c(0x767)][_0x5bb49c(0x52e)](this[_0x5bb49c(0x20c)]+'\x20('+this[_0x5bb49c(0x55b)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x43a22b||!_0x3996d0)return this[_0x5bb49c(0x767)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5bb49c(0x10e)),null;let _0x4a6202=_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x507)][_0x5bb49c(0x80d)]['id'];this['logger'][_0x5bb49c(0x52e)](this[_0x5bb49c(0x20c)]+'\x20('+this[_0x5bb49c(0x55b)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x4a6202);let _0x355317={'key':{'id':_0x4a6202}},_0x55fece=_0x3996d0[_0x5bb49c(0x62e)];_0x43a22b[_0x5bb49c(0x788)]['realVariables']['_'+_0x55fece+'.fileUrl']=null,_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x326)]['_'+_0x55fece+_0x5bb49c(0x434)]=null,_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x326)]['_'+_0x55fece+_0x5bb49c(0x586)]=null,_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x326)]['_'+_0x55fece+_0x5bb49c(0x509)]=_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x507)][_0x5bb49c(0x4d3)];try{let _0x4b3435=await this['getBase64FromMediaMessage'](_0x355317);this[_0x5bb49c(0x767)][_0x5bb49c(0x52e)](this[_0x5bb49c(0x20c)]+'\x20('+this[_0x5bb49c(0x55b)][_0x5bb49c(0x2cc)]+_0x5bb49c(0x3b2)),_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x326)]['_'+_0x55fece+_0x5bb49c(0x595)]=_0x4b3435['fileUrl'],_0x43a22b['chatLog']['realVariables']['_'+_0x55fece+'.mimetype']=_0x4b3435['mimetype'];let _0x290be7=_0x4b3435['mimetype'][_0x5bb49c(0x364)](/\/(\w+)$/),_0x55b3a1=_0x290be7?_0x290be7[0x1]:null;_0x43a22b[_0x5bb49c(0x788)]['realVariables']['_'+_0x55fece+_0x5bb49c(0x586)]=_0x55b3a1,this[_0x5bb49c(0x767)][_0x5bb49c(0x52e)](this[_0x5bb49c(0x20c)]+'\x20('+this[_0x5bb49c(0x55b)][_0x5bb49c(0x2cc)]+_0x5bb49c(0x40d)+_0x55fece+'\x27.');}catch(_0x308488){this[_0x5bb49c(0x767)][_0x5bb49c(0x2b4)](this[_0x5bb49c(0x20c)]+'\x20('+this[_0x5bb49c(0x55b)]['wuid']+_0x5bb49c(0x5c1)+_0x308488);}let _0x10d785=_0x43a22b['chatLog']['lastReceivedMessage']['text']||_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x507)][_0x5bb49c(0x6e2)]||_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x507)][_0x5bb49c(0x59d)];try{_0x43a22b['chatLog'][_0x5bb49c(0x326)]||(_0x43a22b['chatLog'][_0x5bb49c(0x326)]={});let _0x1b5ff3=_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x326)][_0x55fece];_0x43a22b[_0x5bb49c(0x788)][_0x5bb49c(0x326)][_0x55fece]=_0x10d785;let _0x36042b={'variable':_0x55fece,'oldValue':_0x1b5ff3,'newValue':_0x10d785};this[_0x5bb49c(0x6a5)](_0x43a22b,_0x3996d0,_0x36042b),this['logger'][_0x5bb49c(0x52e)](this[_0x5bb49c(0x20c)]+'\x20('+this['instance']['wuid']+_0x5bb49c(0x433));}catch(_0x5655cc){let _0x6d8b37={'error':!0x0,'errorLog':_0x5655cc[_0x5bb49c(0x2f6)]()};return this[_0x5bb49c(0x6a5)](_0x43a22b,_0x3996d0,_0x6d8b37),this[_0x5bb49c(0x767)][_0x5bb49c(0x2b4)](this[_0x5bb49c(0x20c)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x5655cc instanceof Error?_0x5655cc[_0x5bb49c(0x806)]:JSON['stringify'](_0x5655cc,null,0x2))),null;}}async[a0_0x344519(0x279)](_0x4126fe,_0x5dc4bc){const _0x49520d=a0_0x344519;if(this[_0x49520d(0x767)][_0x49520d(0x52e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x49520d(0x506)),!_0x4126fe||!_0x5dc4bc)return this[_0x49520d(0x767)][_0x49520d(0x2b4)](this[_0x49520d(0x20c)]+'\x20('+this[_0x49520d(0x55b)][_0x49520d(0x2cc)]+_0x49520d(0x10e)),null;let _0x4e30db=Date[_0x49520d(0x6c7)](),_0x1964aa=parseInt(_0x5dc4bc[_0x49520d(0x382)],0xa);if(isNaN(_0x1964aa))return this[_0x49520d(0x767)][_0x49520d(0x2b4)](this[_0x49520d(0x20c)]+'\x20('+this[_0x49520d(0x55b)][_0x49520d(0x2cc)]+_0x49520d(0x309)),null;let _0x1be624={'newStoppedUntil':_0x4e30db+_0x1964aa*0x3c*0x3e8};return await this[_0x49520d(0x6a5)](_0x4126fe,_0x5dc4bc,_0x1be624,!0x0),null;}async[a0_0x344519(0x79a)](_0x22d2a4,_0x5df0c4){const _0x5b69c8=a0_0x344519;try{switch(_0x5df0c4[_0x5b69c8(0x7cc)][_0x5b69c8(0x6e5)]){case _0x5b69c8(0x654):await this['uazapiSendText'](_0x22d2a4,_0x5df0c4);break;case _0x5b69c8(0x175):await this[_0x5b69c8(0x7ef)](_0x22d2a4,_0x5df0c4);break;case _0x5b69c8(0x5e6):await this[_0x5b69c8(0x808)](_0x22d2a4,_0x5df0c4);break;case _0x5b69c8(0x12a):await this['uazapiSendAudio'](_0x22d2a4,_0x5df0c4);break;case _0x5b69c8(0x30f):await this[_0x5b69c8(0x29a)](_0x22d2a4,_0x5df0c4);break;case _0x5b69c8(0x800):await this[_0x5b69c8(0x42b)](_0x22d2a4,_0x5df0c4);break;case'sendMenu':await this[_0x5b69c8(0x42b)](_0x22d2a4,_0x5df0c4);break;case _0x5b69c8(0x7f7):await this[_0x5b69c8(0x2ff)](_0x22d2a4,_0x5df0c4);break;default:this[_0x5b69c8(0x767)][_0x5b69c8(0x2b4)](this[_0x5b69c8(0x20c)]+'\x20('+this['instance']['wuid']+_0x5b69c8(0x29d)+_0x5df0c4['uazapi'][_0x5b69c8(0x6e5)]);}}catch(_0x3a7e25){this['logger'][_0x5b69c8(0x2b4)](this[_0x5b69c8(0x20c)]+'\x20('+this[_0x5b69c8(0x55b)][_0x5b69c8(0x2cc)]+_0x5b69c8(0x558)+(_0x3a7e25 instanceof Error?_0x3a7e25[_0x5b69c8(0x806)]:JSON[_0x5b69c8(0x3f5)](_0x3a7e25,null,0x2)));}}async[a0_0x344519(0x6a5)](_0x4a5181,_0x430dad,_0x530fd9,_0x3684db=!0x1,_0x4216d4=!0x1){const _0x10232b=a0_0x344519;_0x4a5181[_0x10232b(0x788)][_0x10232b(0x6c5)]||(_0x4a5181[_0x10232b(0x788)][_0x10232b(0x6c5)]=[]);let _0x41b774=(_0x4a5181[_0x10232b(0x788)][_0x10232b(0x6c5)]?.['length']??0x0)+0x1,_0x5f07be=_0x4a5181[_0x10232b(0x788)][_0x10232b(0x6c5)][_0x10232b(0x414)](_0x1a82f2=>String(_0x1a82f2[_0x10232b(0x342)])===String(_0x430dad['_id']))[_0x10232b(0x4e4)]+0x1,_0xab874f=_0x530fd9?.[_0x10232b(0x378)]??Date[_0x10232b(0x6c7)](),_0x3d7e74=_0x530fd9?.[_0x10232b(0x2b4)]?_0x530fd9[_0x10232b(0x30e)]??_0x530fd9[_0x10232b(0x2b4)]['toString']():void 0x0,_0x41f88b={'onTime':_0xab874f,'blockId':_0x430dad[_0x10232b(0x791)],'order':_0x41b774,'activatedCount':_0x5f07be,'error':_0x530fd9?.['error']??!0x1,'messageId':_0x530fd9?.[_0x10232b(0x159)],'apiResponse':_0x530fd9?.['apiResponse'],'apiResponseString':_0x530fd9?.['apiResponse']?JSON[_0x10232b(0x3f5)](_0x530fd9?.[_0x10232b(0x14b)]):void 0x0,'variable':_0x530fd9?.[_0x10232b(0x295)],'oldValue':_0x530fd9?.[_0x10232b(0x6fb)],'newValue':_0x530fd9?.[_0x10232b(0x5c8)],'newStoppedUntil':_0x530fd9?.[_0x10232b(0x129)],'moreLogs':_0x530fd9?.[_0x10232b(0x40b)],'errorLog':_0x3d7e74};if(_0x530fd9[_0x10232b(0x40b)]&&_0x530fd9[_0x10232b(0x40b)]['length']>0x0){let _0x185243=_0x530fd9[_0x10232b(0x40b)][_0x10232b(0x41f)](_0x2c1e74=>this[_0x10232b(0x65e)](_0x2c1e74,_0x4a5181[_0x10232b(0x788)]['realVariables']));_0x41f88b[_0x10232b(0x40b)]=_0x185243;}if(_0x4a5181[_0x10232b(0x788)][_0x10232b(0x326)]||(_0x4a5181[_0x10232b(0x788)][_0x10232b(0x326)]={}),_0x4a5181[_0x10232b(0x788)][_0x10232b(0x326)][_0x10232b(0x3f7)]=String(_0x5f07be),_0x4a5181['chatLog']['realVariables'][_0x10232b(0x149)]=String(_0x530fd9[_0x10232b(0x2b4)]??!0x1),_0x4a5181['chatLog'][_0x10232b(0x6c5)][_0x10232b(0x413)](_0x41f88b),_0x4a5181['chatLog'][_0x10232b(0x326)]['telefone']&&_0x4a5181['chatLog'][_0x10232b(0x326)][_0x10232b(0x7b3)]!==_0x4a5181[_0x10232b(0x5b0)]){let _0x350392=(await this[_0x10232b(0x7c1)]({'numbers':[_0x4a5181[_0x10232b(0x788)]['realVariables'][_0x10232b(0x7b3)]]}))[0x0][_0x10232b(0x19d)];_0x4a5181['chatLog'][_0x10232b(0x326)][_0x10232b(0x7b3)]=_0x350392,_0x4a5181[_0x10232b(0x5b0)]=_0x350392;try{let _0x424a1b={'_id':{'$ne':_0x4a5181[_0x10232b(0x791)]},'remoteJid':_0x350392,'status':_0x10232b(0x1fe)},_0x3923f9={'status':_0x10232b(0x6e4)};await this[_0x10232b(0x6c9)][_0x10232b(0x35a)]['updateMany'](_0x424a1b,_0x3923f9,this[_0x10232b(0x55b)][_0x10232b(0x2cc)]),this[_0x10232b(0x767)][_0x10232b(0x52e)](this[_0x10232b(0x20c)]+'\x20('+this[_0x10232b(0x55b)][_0x10232b(0x2cc)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x2e333e){this[_0x10232b(0x767)]['error'](this[_0x10232b(0x20c)]+'\x20('+this[_0x10232b(0x55b)][_0x10232b(0x2cc)]+_0x10232b(0x501)+_0x2e333e['message']);}try{let _0x3cbf1f=_0x4a5181[_0x10232b(0x788)][_0x10232b(0x326)],_0x410385=await this[_0x10232b(0x521)](_0x350392),_0x3ced88={..._0x3cbf1f,..._0x410385,'_remoteJid':_0x350392};_0x4a5181[_0x10232b(0x788)]['realVariables']=_0x3ced88;}catch(_0x3af31b){this[_0x10232b(0x767)][_0x10232b(0x2b4)](this[_0x10232b(0x20c)]+'\x20('+this[_0x10232b(0x55b)]['wuid']+_0x10232b(0x1ad)+_0x3af31b['message']);}}_0x4a5181[_0x10232b(0x788)][_0x10232b(0x748)]=_0x430dad['_id'][_0x10232b(0x2f6)](),_0x4a5181[_0x10232b(0x788)][_0x10232b(0x61f)]&&(_0x4a5181['chatLog']['lastSendMessage']=_0x4a5181[_0x10232b(0x788)]['lastSendMessage']),_0x4a5181[_0x10232b(0x788)]['lastReceivedMessage']&&(_0x4a5181['chatLog'][_0x10232b(0x507)]=_0x4a5181['chatLog'][_0x10232b(0x507)]),_0x4a5181[_0x10232b(0x788)][_0x10232b(0x4e7)]&&(_0x4a5181[_0x10232b(0x788)][_0x10232b(0x4e7)]=_0x4a5181[_0x10232b(0x788)]['lastCondition']),_0x4216d4&&(_0x4a5181[_0x10232b(0x197)]=_0x10232b(0x6e4)),_0x3684db?this[_0x10232b(0x71d)](_0x4a5181):this[_0x10232b(0x6f3)](_0x4a5181,_0x430dad);}[a0_0x344519(0x65e)](_0x25542b,_0x44975f){const _0x4556e3=a0_0x344519;return _0x25542b[_0x4556e3(0x477)](/\{\{([^}]+)\}\}/g,(_0x3ad1d2,_0xf00b49)=>_0x44975f[_0xf00b49]?'{{'+_0xf00b49+'}}\x20->\x20\x22'+_0x44975f[_0xf00b49]+'\x22':'{{'+_0xf00b49+_0x4556e3(0x5a7));}async[a0_0x344519(0x71d)](_0x40f3e2){const _0x2d106e=a0_0x344519;try{let _0x4a2658=Object['entries'](_0x40f3e2[_0x2d106e(0x788)][_0x2d106e(0x326)])['map'](([_0x12e4e5,_0x3b2cff])=>({'name':_0x12e4e5,'value':_0x3b2cff})),_0x34d34a={'status':_0x40f3e2[_0x2d106e(0x197)],'remoteJid':_0x40f3e2['remoteJid'],'blocks':_0x40f3e2[_0x2d106e(0x5d2)],'waitingMenu_id':_0x40f3e2[_0x2d106e(0x218)],'waitingMenu_text':_0x40f3e2[_0x2d106e(0x1ba)],'waitingMenu_replyOptions':_0x40f3e2['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x40f3e2[_0x2d106e(0x788)][_0x2d106e(0x748)],'lastSendMessage':_0x40f3e2[_0x2d106e(0x788)][_0x2d106e(0x61f)],'lastReceivedMessage':_0x40f3e2[_0x2d106e(0x788)][_0x2d106e(0x507)],'lastCondition':_0x40f3e2[_0x2d106e(0x788)]['lastCondition'],'chatVariables':_0x4a2658,'realVariables':_0x40f3e2['chatLog'][_0x2d106e(0x326)],'blockLogs':_0x40f3e2[_0x2d106e(0x788)][_0x2d106e(0x6c5)]}},_0x5d5a75=await this[_0x2d106e(0x6c9)]['flowConversation'][_0x2d106e(0x608)](_0x40f3e2[_0x2d106e(0x791)],_0x34d34a,this[_0x2d106e(0x55b)][_0x2d106e(0x2cc)]);if(_0x5d5a75){this[_0x2d106e(0x767)][_0x2d106e(0x52e)](this[_0x2d106e(0x20c)]+'\x20('+this[_0x2d106e(0x55b)][_0x2d106e(0x2cc)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x5d5a75[_0x2d106e(0x791)]);try{let _0x4619ef=[_0x2d106e(0x607),_0x2d106e(0x4d9),_0x2d106e(0x48d),'cpf',_0x2d106e(0x197),_0x2d106e(0x249),_0x2d106e(0x7af),_0x2d106e(0x106),'etiquetas',_0x2d106e(0x6cd)];if(!this[_0x2d106e(0x46f)]&&(await this[_0x2d106e(0x332)](),!this[_0x2d106e(0x46f)]))throw new Error(_0x2d106e(0x81d));let _0x41f05b=this[_0x2d106e(0x46f)]?.['customFields']['map'](_0x3e9f0b=>_0x3e9f0b[_0x2d106e(0x731)]),_0x246b6b={};Object[_0x2d106e(0x180)](_0x40f3e2[_0x2d106e(0x788)][_0x2d106e(0x326)])['forEach'](([_0x159758,_0x51de77])=>{const _0x16480b=_0x2d106e;_0x4619ef[_0x16480b(0x5fb)](_0x159758)&&(_0x159758==='tags'&&typeof _0x51de77=='string'?_0x246b6b[_0x159758]=_0x51de77[_0x16480b(0x134)](',')['map'](_0x518732=>_0x518732['trim']())[_0x16480b(0x414)](_0x513477=>_0x513477!==''):_0x159758==='etiquetas'&&typeof _0x51de77==_0x16480b(0x138)?_0x246b6b[_0x159758]=_0x51de77['split'](',')['map'](_0x395f28=>_0x395f28[_0x16480b(0x774)]())['filter'](_0x580756=>_0x580756!==''):_0x246b6b[_0x159758]=_0x51de77);});let _0x2998b5=_0x40f3e2[_0x2d106e(0x788)][_0x2d106e(0x6c5)][_0x40f3e2[_0x2d106e(0x788)]['blockLogs'][_0x2d106e(0x4e4)]-0x1];if(_0x2998b5){let _0x236543=_0x2998b5[_0x2d106e(0x129)];_0x236543!==void 0x0&&(_0x246b6b[_0x2d106e(0x3ce)]=_0x236543['toString']());}let _0x3405aa=_0x4a2658[_0x2d106e(0x414)](_0x18ec62=>_0x41f05b[_0x2d106e(0x5fb)](_0x18ec62[_0x2d106e(0x731)]));this[_0x2d106e(0x767)][_0x2d106e(0x52e)](this[_0x2d106e(0x20c)]+'\x20('+this[_0x2d106e(0x55b)]['wuid']+_0x2d106e(0x5ce)),this[_0x2d106e(0x767)][_0x2d106e(0x52e)](_0x246b6b),this[_0x2d106e(0x767)][_0x2d106e(0x52e)](this[_0x2d106e(0x20c)]+'\x20('+this[_0x2d106e(0x55b)]['wuid']+_0x2d106e(0x40a)),this[_0x2d106e(0x767)][_0x2d106e(0x52e)](_0x3405aa);let _0x286fba=_0x3405aa['map'](_0x587b54=>{const _0x59ba17=_0x2d106e;let _0x1207c5=this['AutomateSystem']?.['customFields'][_0x59ba17(0x1ee)](_0x5981fa=>_0x5981fa[_0x59ba17(0x731)]===_0x587b54['name']);if(!_0x1207c5)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x587b54[_0x59ba17(0x731)]);return{'_id':_0x1207c5[_0x59ba17(0x791)],'value':_0x587b54[_0x59ba17(0x214)]};});this[_0x2d106e(0x767)][_0x2d106e(0x52e)](this[_0x2d106e(0x20c)]+'\x20('+this[_0x2d106e(0x55b)]['wuid']+_0x2d106e(0x371)),this[_0x2d106e(0x767)][_0x2d106e(0x52e)](_0x286fba),await this[_0x2d106e(0x758)](_0x40f3e2['remoteJid'],_0x246b6b,_0x286fba);}catch(_0x5626d8){this[_0x2d106e(0x767)][_0x2d106e(0x2b4)](this[_0x2d106e(0x20c)]+'\x20('+this[_0x2d106e(0x55b)][_0x2d106e(0x2cc)]+_0x2d106e(0x459)+(_0x5626d8 instanceof Error?_0x5626d8[_0x2d106e(0x806)]:JSON[_0x2d106e(0x3f5)](_0x5626d8,null,0x2)));}}else this['logger'][_0x2d106e(0x2b4)](this[_0x2d106e(0x20c)]+'\x20('+this[_0x2d106e(0x55b)][_0x2d106e(0x2cc)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x42c0ef){this['logger'][_0x2d106e(0x2b4)](this[_0x2d106e(0x20c)]+'\x20('+this[_0x2d106e(0x55b)][_0x2d106e(0x2cc)]+_0x2d106e(0x682)+(_0x42c0ef instanceof Error?_0x42c0ef[_0x2d106e(0x806)]:JSON[_0x2d106e(0x3f5)](_0x42c0ef,null,0x2)));}}async['saveChatVariables'](_0x44a9c6,_0x7f1fe9,_0x5991f1){const _0x36dcba=a0_0x344519;try{let _0x5005f8={'leadInfo.leadnome':_0x7f1fe9['nome'],'leadInfo.nomecompleto':_0x7f1fe9[_0x36dcba(0x4d9)],'leadInfo.email':_0x7f1fe9[_0x36dcba(0x48d)],'leadInfo.cpf':_0x7f1fe9[_0x36dcba(0x344)],'leadInfo.status':_0x7f1fe9['status'],'leadInfo.notas':_0x7f1fe9['notas'],'leadInfo.responsavelid':_0x7f1fe9['responsavelid'],'leadInfo.tags':_0x7f1fe9['tags'],'leadInfo.etiquetas':_0x7f1fe9[_0x36dcba(0x1b0)],'leadInfo.customFields':_0x5991f1,'leadInfo.atendimentoAberto':_0x7f1fe9[_0x36dcba(0x6cd)]},_0x3b2b27=await this['repository']['chat'][_0x36dcba(0x1a8)]({'where':{'_id':_0x44a9c6}},this[_0x36dcba(0x55b)]['wuid']);if(!_0x3b2b27)return _0x36dcba(0x108);let _0x31fc10=new Set(_0x3b2b27[_0x36dcba(0x3c7)][_0x36dcba(0x1b0)]||[]),_0x4ad5bb=new Set(_0x7f1fe9[_0x36dcba(0x1b0)]||[]),_0x35cf16=await this[_0x36dcba(0x6c9)]['label']['find']({'where':{}},this['instance'][_0x36dcba(0x2cc)]),_0x5c45bd=new Set(_0x35cf16[_0x36dcba(0x41f)](_0x617cd7=>_0x617cd7['_id'])),_0x5ab923=[..._0x4ad5bb]['filter'](_0x4dd521=>!_0x31fc10['has'](_0x4dd521)&&_0x5c45bd[_0x36dcba(0x2dd)](_0x4dd521)),_0x14c103=[..._0x31fc10][_0x36dcba(0x414)](_0x231fca=>!_0x4ad5bb['has'](_0x231fca));for(let _0x33fdd6 of _0x5ab923)await this[_0x36dcba(0x6e8)](_0x33fdd6,_0x3b2b27[_0x36dcba(0x791)]),_0x31fc10['add'](_0x33fdd6);for(let _0x3e81cd of _0x14c103)await this[_0x36dcba(0x31d)](_0x3e81cd,_0x3b2b27['_id']),_0x31fc10['delete'](_0x3e81cd);if(_0x36dcba(0x3ce)in _0x7f1fe9){let _0x2afcf5=_0x7f1fe9['desativadoFluxoAte'];_0x5005f8[_0x36dcba(0x5d4)]=_0x2afcf5?Number(_0x2afcf5):null;}if(_0x36dcba(0x6cd)in _0x7f1fe9){let _0x4b2472=_0x7f1fe9['atendimentoAberto'][_0x36dcba(0x5cf)]();_0x5005f8['leadInfo.atendimentoAberto']=_0x4b2472===_0x36dcba(0x145)||_0x4b2472==='1'||_0x4b2472===_0x36dcba(0x4c8)||_0x4b2472===_0x36dcba(0x4d4);}let _0x322b19=await this[_0x36dcba(0x6c9)][_0x36dcba(0x351)][_0x36dcba(0x608)]({'where':{'_id':_0x44a9c6}},_0x5005f8,this[_0x36dcba(0x55b)]['wuid']);_0x322b19?(this[_0x36dcba(0x767)][_0x36dcba(0x52e)](this['instanceName']+'\x20('+this[_0x36dcba(0x55b)][_0x36dcba(0x2cc)]+_0x36dcba(0x535)+_0x322b19[_0x36dcba(0x791)]),J(this[_0x36dcba(0x20c)],'chats',{'chat':_0x322b19})):this[_0x36dcba(0x767)][_0x36dcba(0x2b4)](this[_0x36dcba(0x20c)]+'\x20('+this[_0x36dcba(0x55b)]['wuid']+_0x36dcba(0x807));}catch(_0x5b9764){this['logger'][_0x36dcba(0x2b4)](this[_0x36dcba(0x20c)]+'\x20('+this['instance']['wuid']+_0x36dcba(0x79d)+(_0x5b9764 instanceof Error?_0x5b9764[_0x36dcba(0x806)]:JSON[_0x36dcba(0x3f5)](_0x5b9764,null,0x2)));}}async[a0_0x344519(0x660)](_0x25d3f4,_0x1556e8){const _0xa2440d=a0_0x344519;this[_0xa2440d(0x767)][_0xa2440d(0x52e)](this[_0xa2440d(0x20c)]+'\x20('+this[_0xa2440d(0x55b)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x1556e8);try{let _0x4baad8=await this[_0xa2440d(0x6c9)][_0xa2440d(0x351)][_0xa2440d(0x608)]({'where':{'_id':_0x25d3f4[_0xa2440d(0x5b0)]}},{'leadInfo.desativadoFluxoAte':_0x1556e8},this[_0xa2440d(0x55b)][_0xa2440d(0x2cc)]);this[_0xa2440d(0x767)]['verbose'](this[_0xa2440d(0x20c)]+'\x20('+this[_0xa2440d(0x55b)][_0xa2440d(0x2cc)]+_0xa2440d(0x606)+_0x25d3f4[_0xa2440d(0x791)]),this[_0xa2440d(0x767)][_0xa2440d(0x52e)](this[_0xa2440d(0x20c)]+'\x20('+this[_0xa2440d(0x55b)][_0xa2440d(0x2cc)]+_0xa2440d(0x232)+JSON['stringify'](_0x4baad8,null,0x2)),_0x4baad8&&J(this[_0xa2440d(0x20c)],_0xa2440d(0x1c9),{'chat':_0x4baad8});}catch(_0x2fd40f){this['logger'][_0xa2440d(0x2b4)](this[_0xa2440d(0x20c)]+'\x20('+this[_0xa2440d(0x55b)][_0xa2440d(0x2cc)]+_0xa2440d(0x7f5)+(_0x2fd40f instanceof Error?_0x2fd40f[_0xa2440d(0x806)]:JSON['stringify'](_0x2fd40f,null,0x2)));}}async[a0_0x344519(0x144)](_0x3cf190){const _0x59eec5=a0_0x344519;try{this[_0x59eec5(0x767)][_0x59eec5(0x52e)](this[_0x59eec5(0x20c)]+'\x20('+this[_0x59eec5(0x55b)]['wuid']+'):\x20Buscando\x20flow...');let _0x3d0d5c=_0x3cf190[_0x59eec5(0x477)](/\D/g,''),_0x5c70d3=await this['repository'][_0x59eec5(0x3d0)][_0x59eec5(0x1a8)]({'where':{'testingWith':_0x3d0d5c}},this[_0x59eec5(0x55b)][_0x59eec5(0x2cc)]);return _0x5c70d3||(this[_0x59eec5(0x767)][_0x59eec5(0x52e)](this['instanceName']+'\x20('+this[_0x59eec5(0x55b)][_0x59eec5(0x2cc)]+_0x59eec5(0x1fc)),_0x5c70d3=await this[_0x59eec5(0x6c9)][_0x59eec5(0x3d0)][_0x59eec5(0x1a8)]({'where':{'default':!0x0}},this[_0x59eec5(0x55b)][_0x59eec5(0x2cc)])),_0x5c70d3||(this[_0x59eec5(0x767)]['verbose'](this[_0x59eec5(0x20c)]+'\x20('+this['instance'][_0x59eec5(0x2cc)]+_0x59eec5(0x517)),null);}catch(_0x581a17){return this[_0x59eec5(0x767)][_0x59eec5(0x2b4)](this[_0x59eec5(0x20c)]+'\x20('+this[_0x59eec5(0x55b)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x581a17 instanceof Error?_0x581a17[_0x59eec5(0x806)]:JSON[_0x59eec5(0x3f5)](_0x581a17,null,0x2))),null;}}async[a0_0x344519(0x69f)](_0x13e7d8,_0x56b586){const _0x6bc022=a0_0x344519;try{let _0x87c8a5=!!_0x56b586['vote'],_0xa62a26=_0x56b586[_0x6bc022(0x1e3)],_0x54e467=null;if(this[_0x6bc022(0x767)]['verbose'](this[_0x6bc022(0x20c)]+'\x20('+this[_0x6bc022(0x55b)][_0x6bc022(0x2cc)]+_0x6bc022(0x668)+_0x87c8a5+_0x6bc022(0x502)+_0xa62a26),_0x87c8a5){this[_0x6bc022(0x767)]['verbose'](this[_0x6bc022(0x20c)]+'\x20('+this[_0x6bc022(0x55b)][_0x6bc022(0x2cc)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x442709={'where':{'remoteJid':_0x13e7d8,'waitingMenu_id':_0xa62a26}};if(_0x54e467=await this['repository'][_0x6bc022(0x35a)][_0x6bc022(0x1a8)](_0x442709,this[_0x6bc022(0x55b)]['wuid']),!_0x54e467)return this[_0x6bc022(0x767)][_0x6bc022(0x52e)](this['instanceName']+'\x20('+this[_0x6bc022(0x55b)][_0x6bc022(0x2cc)]+_0x6bc022(0x5e0)),null;let _0x5616a6=Date[_0x6bc022(0x6c7)](),_0xe0130e=_0x54e467?.['minutesToClose']||0x0,_0x5e3fe5=_0x5616a6-_0xe0130e*0x3c*0x3e8;if(_0x54e467[_0x6bc022(0x432)]<_0x5e3fe5){this[_0x6bc022(0x767)]['verbose'](this[_0x6bc022(0x20c)]+'\x20('+this['instance'][_0x6bc022(0x2cc)]+_0x6bc022(0x25d));let _0x385e28={'number':_0x54e467['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x54e467['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0x385e28);let _0x779d9f={'status':_0x6bc022(0x6e4),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x6bc022(0x6c9)]['flowConversation'][_0x6bc022(0x608)](_0x54e467[_0x6bc022(0x791)],_0x779d9f,this['instance'][_0x6bc022(0x2cc)]),null;}return _0x54e467[_0x6bc022(0x432)]=Date[_0x6bc022(0x6c7)](),_0x54e467['chatLog'][_0x6bc022(0x507)]=_0x56b586,_0x54e467;}else{this[_0x6bc022(0x767)][_0x6bc022(0x52e)](this['instanceName']+'\x20('+this[_0x6bc022(0x55b)][_0x6bc022(0x2cc)]+_0x6bc022(0x780)+this[_0x6bc022(0x55b)][_0x6bc022(0x2cc)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger'][_0x6bc022(0x52e)](this['instanceName']+'\x20('+this[_0x6bc022(0x55b)]['wuid']+_0x6bc022(0x253));let _0x1f305a={'where':{'remoteJid':_0x13e7d8,'status':_0x6bc022(0x1fe)}};if(_0x54e467=await this[_0x6bc022(0x6c9)][_0x6bc022(0x35a)][_0x6bc022(0x1a8)](_0x1f305a,this[_0x6bc022(0x55b)]['wuid']),!_0x54e467){let _0x37865d=await this[_0x6bc022(0x144)](_0x13e7d8);if(_0x37865d&&(_0x54e467=await this[_0x6bc022(0x7e8)](_0x37865d,_0x56b586[_0x6bc022(0x80d)],_0x56b586)),!_0x54e467)return null;}let _0x340658=Date['now'](),_0x48f9eb=_0x54e467?.[_0x6bc022(0x541)]||0x0,_0xc20d72=_0x340658-_0x48f9eb*0x3c*0x3e8;if(this[_0x6bc022(0x767)][_0x6bc022(0x52e)](this['instanceName']+'\x20('+this[_0x6bc022(0x55b)]['wuid']+'):\x20Current\x20Time:\x20'+_0x340658+_0x6bc022(0x479)+_0x48f9eb+_0x6bc022(0x325)+_0xc20d72),this[_0x6bc022(0x767)][_0x6bc022(0x52e)](this[_0x6bc022(0x20c)]+'\x20('+this[_0x6bc022(0x55b)][_0x6bc022(0x2cc)]+_0x6bc022(0x6a8)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x6bc022(0x55b)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x54e467[_0x6bc022(0x432)]),this[_0x6bc022(0x767)][_0x6bc022(0x52e)](this[_0x6bc022(0x20c)]+'\x20('+this[_0x6bc022(0x55b)]['wuid']+_0x6bc022(0x3ae)+_0xc20d72),_0x54e467[_0x6bc022(0x432)]<_0xc20d72){this[_0x6bc022(0x767)][_0x6bc022(0x52e)](this['instanceName']+'\x20('+this[_0x6bc022(0x55b)]['wuid']+_0x6bc022(0x689));let _0x24a9ab=await this[_0x6bc022(0x144)](_0x13e7d8);if(_0x24a9ab===null)return null;_0x54e467&&await this[_0x6bc022(0x6c9)]['flowConversation']['updateOne'](_0x54e467[_0x6bc022(0x791)],{'status':_0x6bc022(0x6e4)},this['instance'][_0x6bc022(0x2cc)]),_0x54e467=await this[_0x6bc022(0x7e8)](_0x24a9ab,_0x56b586[_0x6bc022(0x80d)],_0x56b586);}return _0x54e467[_0x6bc022(0x432)]=_0x340658,_0x54e467['chatLog'][_0x6bc022(0x507)]=_0x56b586,_0x54e467;}}catch(_0x43f097){return this[_0x6bc022(0x767)][_0x6bc022(0x2b4)](this[_0x6bc022(0x20c)]+'\x20('+this[_0x6bc022(0x55b)][_0x6bc022(0x2cc)]+_0x6bc022(0x622)+(_0x43f097 instanceof Error?_0x43f097[_0x6bc022(0x806)]:JSON[_0x6bc022(0x3f5)](_0x43f097,null,0x2))),null;}}async[a0_0x344519(0x7e8)](_0x42a93a,_0x3144a8,_0x2a75e6){const _0x278e75=a0_0x344519;this[_0x278e75(0x767)][_0x278e75(0x52e)](this[_0x278e75(0x20c)]+'\x20('+this[_0x278e75(0x55b)][_0x278e75(0x2cc)]+_0x278e75(0x1a7));try{let _0x1cd0a7=require('mongodb')[_0x278e75(0x62a)],_0x320111=Date[_0x278e75(0x6c7)](),_0x4c9e94='start',_0x40fed5=_0x3144a8[_0x278e75(0x20b)]?null:_0x2a75e6,_0x23e6da=_0x3144a8[_0x278e75(0x20b)]?_0x2a75e6:null,_0x3005a9=_0x3144a8['remoteJid'];await this[_0x278e75(0x358)](_0x3005a9);let _0x1c6f44={..._0x42a93a,'chatLog':null},_0x1e454a=await this[_0x278e75(0x1d9)](_0x1c6f44[_0x278e75(0x257)]),_0x2ff5e9=await this[_0x278e75(0x521)](_0x3005a9),_0x333fb9={..._0x1e454a,..._0x2ff5e9,'_remoteJid':_0x3005a9},_0x2094df={'lastReceivedMessage':_0x40fed5,'lastSendMessage':_0x23e6da,'lastBlockId':_0x4c9e94,'lastCondition':!0x0,'realVariables':_0x333fb9};_0x1c6f44['chatLog']=_0x2094df,delete _0x1c6f44['_id'],_0x1c6f44[_0x278e75(0x791)]=new _0x1cd0a7(),_0x1c6f44[_0x278e75(0x432)]=_0x320111,_0x1c6f44[_0x278e75(0x197)]=_0x278e75(0x1fe),_0x1c6f44['remoteJid']=_0x3005a9;let _0x112848=await this['repository'][_0x278e75(0x35a)][_0x278e75(0x608)](_0x1c6f44[_0x278e75(0x791)],_0x1c6f44,this[_0x278e75(0x55b)]['wuid']);return this[_0x278e75(0x767)][_0x278e75(0x52e)](this[_0x278e75(0x20c)]+'\x20('+this[_0x278e75(0x55b)][_0x278e75(0x2cc)]+_0x278e75(0x3bf)),_0x112848?_0x1c6f44:null;}catch(_0x3ce161){return this['logger'][_0x278e75(0x2b4)](this[_0x278e75(0x20c)]+'\x20('+this[_0x278e75(0x55b)][_0x278e75(0x2cc)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x3ce161 instanceof Error?_0x3ce161['message']:JSON[_0x278e75(0x3f5)](_0x3ce161,null,0x2))),_0x3ce161;}}async['uazapiSendText'](_0x38921e,_0x318e4b){const _0x32a571=a0_0x344519;let _0x40c975=_0x38921e[_0x32a571(0x5b0)];_0x318e4b['uazapi'][_0x32a571(0x5b0)]&&_0x318e4b[_0x32a571(0x7cc)][_0x32a571(0x5b0)][_0x32a571(0x774)]()!==''&&(_0x40c975=_0x318e4b[_0x32a571(0x7cc)]['remoteJid']['trim']()),this[_0x32a571(0x767)][_0x32a571(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x32a571(0x2cc)]+_0x32a571(0x59e));let _0x2e9eb5={'number':_0x40c975,'options':{'delay':_0x318e4b[_0x32a571(0x7cc)]['delay'],'linkPreview':_0x318e4b[_0x32a571(0x7cc)][_0x32a571(0x805)]},'textMessage':{'text':_0x318e4b[_0x32a571(0x7cc)][_0x32a571(0x634)]}};try{let _0x12434f=await this[_0x32a571(0x797)](_0x2e9eb5);if(_0x12434f){let _0xb37d60={'_id':_0x12434f[_0x32a571(0x80d)]['id'],'_fromMe':_0x12434f['key'][_0x32a571(0x20b)],'_remoteJid':_0x12434f[_0x32a571(0x80d)][_0x32a571(0x5b0)]},_0x53029a=(0x0,f['normalizeMessageContent'])(_0x12434f[_0x32a571(0x806)]),_0x3e38b0=(0x0,f[_0x32a571(0x681)])(_0x53029a);_0x38921e['chatLog']['lastBlockId']=_0x318e4b['_id'][_0x32a571(0x2f6)]();let {message_normalized:_0x3c7f26}=this[_0x32a571(0x6c6)](_0x53029a,_0x3e38b0,null);_0x38921e[_0x32a571(0x788)][_0x32a571(0x61f)]=await _0x3c7f26;let _0x515d5d={'messageId':_0x12434f[_0x32a571(0x80d)]['id']},_0x28db31=_0x38921e[_0x32a571(0x788)][_0x32a571(0x326)];Object[_0x32a571(0x2d7)](_0x28db31,_0xb37d60),_0x38921e[_0x32a571(0x788)][_0x32a571(0x326)]=_0x28db31,this[_0x32a571(0x6a5)](_0x38921e,_0x318e4b,_0x515d5d);}else{let _0x5eedc3={'error':!0x0};this['updateConversation'](_0x38921e,_0x318e4b,_0x5eedc3),this[_0x32a571(0x767)][_0x32a571(0x2b4)](this[_0x32a571(0x20c)]+'\x20('+this['instance'][_0x32a571(0x2cc)]+_0x32a571(0x110));}}catch(_0x4eca6d){let _0x390044={'error':!0x0,'errorLog':_0x4eca6d[_0x32a571(0x2f6)]()};this[_0x32a571(0x6a5)](_0x38921e,_0x318e4b,_0x390044),this['logger'][_0x32a571(0x2b4)](this['instanceName']+'\x20('+this[_0x32a571(0x55b)][_0x32a571(0x2cc)]+_0x32a571(0x578)+(_0x4eca6d instanceof Error?_0x4eca6d[_0x32a571(0x806)]:JSON['stringify'](_0x4eca6d,null,0x2)));}}async['uazapiSendMedia'](_0x2a713a,_0x337a62){const _0xb703fd=a0_0x344519;let _0x181a8f=_0x2a713a[_0xb703fd(0x5b0)];_0x337a62[_0xb703fd(0x7cc)][_0xb703fd(0x5b0)]&&_0x337a62[_0xb703fd(0x7cc)][_0xb703fd(0x5b0)][_0xb703fd(0x774)]()!==''&&(_0x181a8f=_0x337a62[_0xb703fd(0x7cc)][_0xb703fd(0x5b0)][_0xb703fd(0x774)]()),this[_0xb703fd(0x767)][_0xb703fd(0x52e)](this[_0xb703fd(0x20c)]+'\x20('+this[_0xb703fd(0x55b)][_0xb703fd(0x2cc)]+_0xb703fd(0x49a));let _0xa6bc01={'number':_0x181a8f,'options':{'delay':_0x337a62['uazapi'][_0xb703fd(0x5a4)],'linkPreview':_0x337a62[_0xb703fd(0x7cc)][_0xb703fd(0x805)]},'mediaMessage':{'mediatype':_0x337a62[_0xb703fd(0x7cc)][_0xb703fd(0x1b6)],'caption':_0x337a62[_0xb703fd(0x7cc)]['caption'],'media':_0x337a62[_0xb703fd(0x7cc)]['media'],'fileName':_0x337a62[_0xb703fd(0x7cc)][_0xb703fd(0x6dc)]}};try{let _0x10bacc=await this[_0xb703fd(0x7be)](_0xa6bc01);if(_0x10bacc){let _0x3df8ee={'_id':_0x10bacc[_0xb703fd(0x80d)]['id'],'_fromMe':_0x10bacc[_0xb703fd(0x80d)][_0xb703fd(0x20b)],'_remoteJid':_0x10bacc[_0xb703fd(0x80d)][_0xb703fd(0x5b0)]},_0x5cd7ec=(0x0,f[_0xb703fd(0x47e)])(_0x10bacc[_0xb703fd(0x806)]),_0x402996=(0x0,f[_0xb703fd(0x681)])(_0x5cd7ec);_0x2a713a['chatLog']['lastBlockId']=_0x337a62['_id'][_0xb703fd(0x2f6)]();let {message_normalized:_0x4fef0c}=this[_0xb703fd(0x6c6)](_0x5cd7ec,_0x402996,null);_0x2a713a[_0xb703fd(0x788)][_0xb703fd(0x61f)]=await _0x4fef0c;let _0x98dc3f={'messageId':_0x10bacc['key']['id']},_0x17ab8b=_0x2a713a['chatLog']['realVariables'];Object[_0xb703fd(0x2d7)](_0x17ab8b,_0x3df8ee),_0x2a713a[_0xb703fd(0x788)][_0xb703fd(0x326)]=_0x17ab8b,this[_0xb703fd(0x6a5)](_0x2a713a,_0x337a62,_0x98dc3f);}else{let _0x24c11a={'error':!0x0};this['updateConversation'](_0x2a713a,_0x337a62,_0x24c11a),this['logger'][_0xb703fd(0x2b4)](this['instanceName']+'\x20('+this[_0xb703fd(0x55b)][_0xb703fd(0x2cc)]+_0xb703fd(0x3ca));}}catch(_0x489d08){let _0x51634f={'error':!0x0,'errorLog':_0x489d08[_0xb703fd(0x2f6)]()};this['updateConversation'](_0x2a713a,_0x337a62,_0x51634f),this[_0xb703fd(0x767)][_0xb703fd(0x2b4)](this['instanceName']+'\x20('+this[_0xb703fd(0x55b)][_0xb703fd(0x2cc)]+_0xb703fd(0x41b)+(_0x489d08 instanceof Error?_0x489d08[_0xb703fd(0x806)]:JSON['stringify'](_0x489d08,null,0x2)));}}async['uazapiSendLocation'](_0x20fe01,_0x12485c){const _0x363c95=a0_0x344519;let _0x286cc4=_0x20fe01['remoteJid'];_0x12485c[_0x363c95(0x7cc)][_0x363c95(0x5b0)]&&_0x12485c[_0x363c95(0x7cc)]['remoteJid'][_0x363c95(0x774)]()!==''&&(_0x286cc4=_0x12485c[_0x363c95(0x7cc)][_0x363c95(0x5b0)][_0x363c95(0x774)]()),this[_0x363c95(0x767)]['verbose'](this['instanceName']+'\x20('+this[_0x363c95(0x55b)]['wuid']+_0x363c95(0x21b));let _0x1f6c79={'number':_0x286cc4,'options':{'delay':_0x12485c[_0x363c95(0x7cc)]['delay']},'locationMessage':{'name':_0x12485c[_0x363c95(0x7cc)]['name'],'address':_0x12485c['uazapi'][_0x363c95(0x105)],'latitude':_0x12485c[_0x363c95(0x7cc)]['latitude'],'longitude':_0x12485c[_0x363c95(0x7cc)][_0x363c95(0x6e1)]}};try{let _0x23629b=await this[_0x363c95(0x71c)](_0x1f6c79);if(_0x23629b){let _0x80e85c={'_id':_0x23629b[_0x363c95(0x80d)]['id'],'_fromMe':_0x23629b['key'][_0x363c95(0x20b)],'_remoteJid':_0x23629b[_0x363c95(0x80d)]['remoteJid']},_0xe2b0b3=(0x0,f[_0x363c95(0x47e)])(_0x23629b['message']),_0x296a2c=(0x0,f[_0x363c95(0x681)])(_0xe2b0b3);_0x20fe01[_0x363c95(0x788)][_0x363c95(0x748)]=_0x12485c[_0x363c95(0x791)][_0x363c95(0x2f6)]();let {message_normalized:_0x4a54dd}=this[_0x363c95(0x6c6)](_0xe2b0b3,_0x296a2c,null);_0x20fe01[_0x363c95(0x788)][_0x363c95(0x61f)]=await _0x4a54dd;let _0x47665c={'messageId':_0x23629b[_0x363c95(0x80d)]['id']},_0x5e0309=_0x20fe01['chatLog'][_0x363c95(0x326)];Object[_0x363c95(0x2d7)](_0x5e0309,_0x80e85c),_0x20fe01[_0x363c95(0x788)][_0x363c95(0x326)]=_0x5e0309,this['updateConversation'](_0x20fe01,_0x12485c,_0x47665c);}else{let _0x6be4ed={'error':!0x0};this[_0x363c95(0x6a5)](_0x20fe01,_0x12485c,_0x6be4ed),this[_0x363c95(0x767)][_0x363c95(0x2b4)](this[_0x363c95(0x20c)]+'\x20('+this[_0x363c95(0x55b)][_0x363c95(0x2cc)]+_0x363c95(0x44c));}}catch(_0x55367b){let _0x6969d9={'error':!0x0,'errorLog':_0x55367b['toString']()};this[_0x363c95(0x6a5)](_0x20fe01,_0x12485c,_0x6969d9),this['logger'][_0x363c95(0x2b4)](this[_0x363c95(0x20c)]+'\x20('+this['instance']['wuid']+_0x363c95(0x461)+(_0x55367b instanceof Error?_0x55367b[_0x363c95(0x806)]:JSON[_0x363c95(0x3f5)](_0x55367b,null,0x2)));}}async[a0_0x344519(0x632)](_0x517380,_0x120820){const _0x44a39c=a0_0x344519;let _0x1941d7=_0x517380[_0x44a39c(0x5b0)];_0x120820[_0x44a39c(0x7cc)]['remoteJid']&&_0x120820[_0x44a39c(0x7cc)][_0x44a39c(0x5b0)][_0x44a39c(0x774)]()!==''&&(_0x1941d7=_0x120820[_0x44a39c(0x7cc)]['remoteJid'][_0x44a39c(0x774)]()),this[_0x44a39c(0x767)][_0x44a39c(0x52e)](this[_0x44a39c(0x20c)]+'\x20('+this[_0x44a39c(0x55b)]['wuid']+_0x44a39c(0x383));let _0x1d2de0={'number':_0x1941d7,'options':{'delay':_0x120820[_0x44a39c(0x7cc)][_0x44a39c(0x5a4)]},'audioMessage':{'audio':_0x120820[_0x44a39c(0x7cc)][_0x44a39c(0x4bc)]}};try{let _0x2aa71c=await this[_0x44a39c(0x55e)](_0x1d2de0);if(_0x2aa71c){let _0x320cc5={'_id':_0x2aa71c[_0x44a39c(0x80d)]['id'],'_fromMe':_0x2aa71c[_0x44a39c(0x80d)][_0x44a39c(0x20b)],'_remoteJid':_0x2aa71c['key'][_0x44a39c(0x5b0)]},_0x45f342=(0x0,f['normalizeMessageContent'])(_0x2aa71c['message']),_0x4eab52=(0x0,f[_0x44a39c(0x681)])(_0x45f342);_0x517380[_0x44a39c(0x788)][_0x44a39c(0x748)]=_0x120820[_0x44a39c(0x791)][_0x44a39c(0x2f6)]();let {message_normalized:_0xafbb35}=this[_0x44a39c(0x6c6)](_0x45f342,_0x4eab52,null);_0x517380[_0x44a39c(0x788)][_0x44a39c(0x61f)]=await _0xafbb35;let _0x248062={'messageId':_0x2aa71c['key']['id']},_0xd14070=_0x517380[_0x44a39c(0x788)][_0x44a39c(0x326)];Object[_0x44a39c(0x2d7)](_0xd14070,_0x320cc5),_0x517380[_0x44a39c(0x788)][_0x44a39c(0x326)]=_0xd14070,this[_0x44a39c(0x6a5)](_0x517380,_0x120820,_0x248062);}else{let _0x38be57={'error':!0x0};this[_0x44a39c(0x6a5)](_0x517380,_0x120820,_0x38be57),this['logger'][_0x44a39c(0x2b4)](this['instanceName']+'\x20('+this[_0x44a39c(0x55b)][_0x44a39c(0x2cc)]+_0x44a39c(0x1bd));}}catch(_0x469cf5){let _0x47d302={'error':!0x0,'errorLog':_0x469cf5[_0x44a39c(0x2f6)]()};this[_0x44a39c(0x6a5)](_0x517380,_0x120820,_0x47d302),this[_0x44a39c(0x767)][_0x44a39c(0x2b4)](this['instanceName']+'\x20('+this[_0x44a39c(0x55b)][_0x44a39c(0x2cc)]+_0x44a39c(0x4b0)+(_0x469cf5 instanceof Error?_0x469cf5[_0x44a39c(0x806)]:JSON['stringify'](_0x469cf5,null,0x2)));}}async['uazapiSendContact'](_0x28714b,_0x2d3619){const _0x1f672b=a0_0x344519;let _0x4b978a=_0x28714b['remoteJid'];_0x2d3619[_0x1f672b(0x7cc)][_0x1f672b(0x5b0)]&&_0x2d3619[_0x1f672b(0x7cc)]['remoteJid'][_0x1f672b(0x774)]()!==''&&(_0x4b978a=_0x2d3619[_0x1f672b(0x7cc)][_0x1f672b(0x5b0)][_0x1f672b(0x774)]()),this[_0x1f672b(0x767)][_0x1f672b(0x52e)](this[_0x1f672b(0x20c)]+'\x20('+this[_0x1f672b(0x55b)][_0x1f672b(0x2cc)]+'):\x20Enviando\x20contato');let _0x48bf99={'number':_0x4b978a,'options':{'delay':_0x2d3619[_0x1f672b(0x7cc)][_0x1f672b(0x5a4)]},'contactMessage':[{'fullName':_0x2d3619[_0x1f672b(0x7cc)][_0x1f672b(0x291)],'phoneNumber':_0x2d3619[_0x1f672b(0x7cc)][_0x1f672b(0x384)]}]};try{let _0x28ae94=await this['contactMessage'](_0x48bf99);if(_0x28ae94){let _0x4426d2={'_id':_0x28ae94[_0x1f672b(0x80d)]['id'],'_fromMe':_0x28ae94['key'][_0x1f672b(0x20b)],'_remoteJid':_0x28ae94[_0x1f672b(0x80d)][_0x1f672b(0x5b0)]},_0xbc44dd=(0x0,f['normalizeMessageContent'])(_0x28ae94['message']),_0x1c6ec3=(0x0,f['getContentType'])(_0xbc44dd);_0x28714b['chatLog'][_0x1f672b(0x748)]=_0x2d3619['_id'][_0x1f672b(0x2f6)]();let {message_normalized:_0x1f9e19}=this[_0x1f672b(0x6c6)](_0xbc44dd,_0x1c6ec3,null);_0x28714b[_0x1f672b(0x788)][_0x1f672b(0x61f)]=await _0x1f9e19;let _0xb0fdfa={'messageId':_0x28ae94[_0x1f672b(0x80d)]['id']},_0x3b5bbb=_0x28714b[_0x1f672b(0x788)][_0x1f672b(0x326)];Object[_0x1f672b(0x2d7)](_0x3b5bbb,_0x4426d2),_0x28714b[_0x1f672b(0x788)][_0x1f672b(0x326)]=_0x3b5bbb,this[_0x1f672b(0x6a5)](_0x28714b,_0x2d3619,_0xb0fdfa);}else{let _0xc8bcdc={'error':!0x0};this[_0x1f672b(0x6a5)](_0x28714b,_0x2d3619,_0xc8bcdc),this['logger'][_0x1f672b(0x2b4)](this['instanceName']+'\x20('+this[_0x1f672b(0x55b)][_0x1f672b(0x2cc)]+_0x1f672b(0x42c));}}catch(_0x213047){let _0x320e3c={'error':!0x0,'errorLog':_0x213047[_0x1f672b(0x2f6)]()};this[_0x1f672b(0x6a5)](_0x28714b,_0x2d3619,_0x320e3c),this[_0x1f672b(0x767)]['error'](this[_0x1f672b(0x20c)]+'\x20('+this[_0x1f672b(0x55b)][_0x1f672b(0x2cc)]+_0x1f672b(0x4ac)+(_0x213047 instanceof Error?_0x213047['message']:JSON['stringify'](_0x213047,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x2752c1,_0x4e0300){const _0xae06d5=a0_0x344519;for(let _0x383aec of _0x2752c1)_0x383aec['option']&&(_0x383aec['option']=this['replaceVariables'](_0x383aec['option'],_0x4e0300)),_0x383aec[_0xae06d5(0x790)]&&(_0x383aec[_0xae06d5(0x790)]=this[_0xae06d5(0x74f)](_0x383aec[_0xae06d5(0x790)],_0x4e0300));}async[a0_0x344519(0x42b)](_0x443b01,_0x4959d9){const _0x270307=a0_0x344519;let _0x2adfb0=_0x443b01[_0x270307(0x5b0)];_0x4959d9[_0x270307(0x7cc)][_0x270307(0x5b0)]&&_0x4959d9['uazapi']['remoteJid'][_0x270307(0x774)]()!==''&&(_0x2adfb0=_0x4959d9['uazapi']['remoteJid'][_0x270307(0x774)]()),this[_0x270307(0x767)][_0x270307(0x52e)](this[_0x270307(0x20c)]+'\x20('+this[_0x270307(0x55b)][_0x270307(0x2cc)]+_0x270307(0x302));let _0x5bc690=_0x443b01[_0x270307(0x641)]['filter'](_0x1ad8cd=>_0x1ad8cd[_0x270307(0x342)]===_0x4959d9[_0x270307(0x791)])['sort']((_0x272c46,_0x283238)=>_0x272c46[_0x270307(0x53c)]-_0x283238['order']);this[_0x270307(0x705)](_0x5bc690,_0x443b01['chatLog']['realVariables']);let _0x2c2915=_0x5bc690[_0x270307(0x41f)](_0x4a89ec=>_0x4a89ec[_0x270307(0x811)]),_0x20e2bd={'number':_0x2adfb0,'menuMessage':{'type':_0x4959d9['uazapi']['menuType']||'poll','text':_0x4959d9[_0x270307(0x7cc)]['text']||_0x4959d9[_0x270307(0x7cc)][_0x270307(0x731)],'footerText':_0x4959d9['uazapi']['footerText'],'buttonText':_0x4959d9['uazapi'][_0x270307(0x821)],'selectableCount':0x1,'choices':_0x2c2915},'options':{'delay':_0x4959d9['uazapi'][_0x270307(0x5a4)]}};try{let _0x2c4c3c=await this[_0x270307(0x816)](_0x20e2bd);if(_0x2c4c3c){let _0x25ad3c={'_id':_0x2c4c3c[_0x270307(0x80d)]['id'],'_fromMe':_0x2c4c3c[_0x270307(0x80d)]['fromMe'],'_remoteJid':_0x2c4c3c[_0x270307(0x80d)]['remoteJid']};_0x4959d9[_0x270307(0x7cc)]['menuIgnoreNonVotes']===!0x0&&(_0x443b01[_0x270307(0x197)]=_0x270307(0x743),this[_0x270307(0x767)][_0x270307(0x52e)](this[_0x270307(0x20c)]+'\x20('+this['instance']['wuid']+'):\x20conversation.status:\x20'+_0x443b01[_0x270307(0x197)])),this[_0x270307(0x767)][_0x270307(0x52e)](this[_0x270307(0x20c)]+'\x20('+this[_0x270307(0x55b)][_0x270307(0x2cc)]+'):\x20nextBlock.uazapi.name'+(_0x4959d9[_0x270307(0x7cc)][_0x270307(0x731)]||_0x4959d9[_0x270307(0x7cc)][_0x270307(0x634)])),_0x443b01['waitingMenu_id']=_0x2c4c3c[_0x270307(0x80d)]['id'],_0x443b01['waitingMenu_text']=_0x4959d9[_0x270307(0x7cc)][_0x270307(0x731)]||_0x4959d9['uazapi'][_0x270307(0x634)],_0x443b01[_0x270307(0x438)]=_0x5bc690,_0x4959d9[_0x270307(0x7cc)]['menuExpiredMessage']&&(_0x443b01[_0x270307(0x7bf)]=_0x4959d9[_0x270307(0x7cc)]['menuExpiredMessage']),this[_0x270307(0x767)][_0x270307(0x52e)](this[_0x270307(0x20c)]+'\x20('+this[_0x270307(0x55b)]['wuid']+_0x270307(0x7d5)+_0x443b01[_0x270307(0x1ba)]);let _0x535a58=(0x0,f['normalizeMessageContent'])(_0x2c4c3c[_0x270307(0x806)]),_0xa3534b=(0x0,f[_0x270307(0x681)])(_0x535a58);_0x443b01[_0x270307(0x788)]['lastBlockId']=_0x4959d9[_0x270307(0x791)]['toString']();let {message_normalized:_0x39e6b7}=this[_0x270307(0x6c6)](_0x535a58,_0xa3534b,null);_0x443b01[_0x270307(0x788)][_0x270307(0x61f)]=await _0x39e6b7;let _0x5abfd8={'messageId':_0x2c4c3c[_0x270307(0x80d)]['id']},_0x237cab=_0x443b01[_0x270307(0x788)]['realVariables'];Object[_0x270307(0x2d7)](_0x237cab,_0x25ad3c),_0x443b01['chatLog']['realVariables']=_0x237cab,this[_0x270307(0x6a5)](_0x443b01,_0x4959d9,_0x5abfd8);}else{let _0x2b1e2e={'error':!0x0};this['updateConversation'](_0x443b01,_0x4959d9,_0x2b1e2e),this[_0x270307(0x767)][_0x270307(0x2b4)](this[_0x270307(0x20c)]+'\x20('+this[_0x270307(0x55b)][_0x270307(0x2cc)]+_0x270307(0x37b));}}catch(_0x56c240){let _0xdfabe2={'error':!0x0,'errorLog':_0x56c240 instanceof Error?_0x56c240['message']:JSON[_0x270307(0x3f5)](_0x56c240,null,0x2)};this[_0x270307(0x6a5)](_0x443b01,_0x4959d9,_0xdfabe2),this[_0x270307(0x767)][_0x270307(0x2b4)](this[_0x270307(0x20c)]+'\x20('+this[_0x270307(0x55b)][_0x270307(0x2cc)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x56c240 instanceof Error?_0x56c240['message']:JSON[_0x270307(0x3f5)](_0x56c240,null,0x2)));}}async[a0_0x344519(0x2ff)](_0x42aecb,_0x20e93e){const _0x402082=a0_0x344519;this[_0x402082(0x767)]['verbose'](this['instanceName']+'\x20('+this[_0x402082(0x55b)]['wuid']+_0x402082(0x766));let _0x53328b=_0x42aecb[_0x402082(0x788)][_0x402082(0x6c5)][_0x402082(0x1ee)](_0x3718e6=>_0x3718e6[_0x402082(0x342)][_0x402082(0x2f6)]()===_0x20e93e['uazapi'][_0x402082(0x342)][_0x402082(0x2f6)]()),_0x3267a8={'id':_0x53328b[_0x402082(0x159)],'remoteJid':_0x53328b[_0x402082(0x5b0)],'fromMe':_0x53328b[_0x402082(0x20b)]};try{let _0x231a09=await this[_0x402082(0x7f7)](_0x3267a8);if(_0x231a09){let _0x293c2d=(0x0,f[_0x402082(0x47e)])(_0x231a09[_0x402082(0x806)]),_0x574c97=(0x0,f[_0x402082(0x681)])(_0x293c2d);_0x42aecb[_0x402082(0x788)][_0x402082(0x748)]=_0x20e93e[_0x402082(0x791)][_0x402082(0x2f6)]();let {message_normalized:_0x3bb8d7}=this[_0x402082(0x6c6)](_0x293c2d,_0x574c97,null);_0x42aecb[_0x402082(0x788)][_0x402082(0x61f)]=await _0x3bb8d7;let _0x40432e={};this[_0x402082(0x6a5)](_0x42aecb,_0x20e93e,_0x40432e);}else{let _0x5c0d7b={'error':!0x0};this[_0x402082(0x6a5)](_0x42aecb,_0x20e93e,_0x5c0d7b),this[_0x402082(0x767)][_0x402082(0x2b4)](this[_0x402082(0x20c)]+'\x20('+this['instance'][_0x402082(0x2cc)]+_0x402082(0x16f));}}catch(_0x5b8070){let _0x15a168={'error':!0x0,'errorLog':_0x5b8070 instanceof Error?_0x5b8070[_0x402082(0x806)]:JSON[_0x402082(0x3f5)](_0x5b8070,null,0x2)};this[_0x402082(0x6a5)](_0x42aecb,_0x20e93e,_0x15a168),this[_0x402082(0x767)][_0x402082(0x2b4)](this[_0x402082(0x20c)]+'\x20('+this[_0x402082(0x55b)][_0x402082(0x2cc)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x5b8070 instanceof Error?_0x5b8070[_0x402082(0x806)]:JSON[_0x402082(0x3f5)](_0x5b8070,null,0x2)));}}async['createFlow'](_0x50ac7c,_0x53a025){const _0x57bcb4=a0_0x344519;if(!_0x50ac7c['name'])throw new m(_0x57bcb4(0x554));let _0x1fedbe=_0x50ac7c?.['global']?.[_0x57bcb4(0x774)]()===_0x57bcb4(0x145)?_0x57bcb4(0x54a):this[_0x57bcb4(0x55b)][_0x57bcb4(0x2cc)],_0x43d5d2=await this[_0x57bcb4(0x6c9)][_0x57bcb4(0x3d0)][_0x57bcb4(0x1a8)]({'where':{'name':_0x50ac7c[_0x57bcb4(0x731)]}},_0x1fedbe);if(_0x53a025!==te&&_0x50ac7c?.[_0x57bcb4(0x54a)]===_0x57bcb4(0x145))throw new m(_0x57bcb4(0x3d9));if(_0x50ac7c?.[_0x57bcb4(0x54a)]!==_0x57bcb4(0x145)&&(_0x50ac7c[_0x57bcb4(0x54a)]='false'),_0x43d5d2)throw new m(_0x57bcb4(0x5c9));return'name'in _0x50ac7c&&_0x57bcb4(0x70b)in _0x50ac7c&&_0x57bcb4(0x4b3)in _0x50ac7c?this[_0x57bcb4(0x3a5)](_0x50ac7c[_0x57bcb4(0x4b3)],_0x50ac7c[_0x57bcb4(0x70b)],_0x50ac7c[_0x57bcb4(0x731)]):this[_0x57bcb4(0x107)](_0x50ac7c);}async['createSharedFlow'](_0x356c3c,_0x5c9c48,_0x31d01a){const _0x3c8916=a0_0x344519;try{this['logger']['verbose'](this[_0x3c8916(0x20c)]+'\x20('+this[_0x3c8916(0x55b)]['wuid']+_0x3c8916(0x4a1));let _0x541a58=await this['repository'][_0x3c8916(0x3d0)][_0x3c8916(0x1a8)]({'where':{'sharePass':_0x5c9c48}},_0x356c3c);if(!_0x541a58)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x220d12={..._0x541a58},_0x17c46d=_0x541a58[_0x3c8916(0x54a)]===_0x3c8916(0x145)?_0x3c8916(0x54a):_0x541a58[_0x3c8916(0x4b3)];return(_0x356c3c==='global'||_0x541a58['global']===_0x3c8916(0x145))&&(_0x220d12[_0x3c8916(0x54a)]=_0x3c8916(0x80e),_0x220d12[_0x3c8916(0x4b3)]=_0x3c8916(0x54a)),_0x220d12[_0x3c8916(0x11e)]=Array[_0x3c8916(0x2fc)](new Set([..._0x541a58['shareOwners']||[],_0x17c46d,this['instance'][_0x3c8916(0x2cc)]])),_0x541a58[_0x3c8916(0x11e)]=_0x220d12[_0x3c8916(0x11e)],await this[_0x3c8916(0x6c9)][_0x3c8916(0x3d0)][_0x3c8916(0x608)](_0x541a58[_0x3c8916(0x791)],{'shareOwners':_0x541a58['shareOwners']},_0x17c46d),_0x541a58[_0x3c8916(0x10d)]===!0x0&&await this[_0x3c8916(0x6c9)][_0x3c8916(0x3d0)][_0x3c8916(0x164)]({},{'default':!0x1},this[_0x3c8916(0x55b)]['wuid']),_0x220d12[_0x3c8916(0x4b3)]=this[_0x3c8916(0x55b)][_0x3c8916(0x2cc)],await this[_0x3c8916(0x6c9)]['flow'][_0x3c8916(0x3b1)](_0x220d12,this[_0x3c8916(0x55b)][_0x3c8916(0x2cc)]);}catch(_0x471984){let _0xf870df='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x4498c3=_0x471984 instanceof Error?_0x471984[_0x3c8916(0x806)]:typeof _0x471984==_0x3c8916(0x3fc)?JSON[_0x3c8916(0x3f5)](_0x471984):_0x471984,_0x338cec=_0xf870df+':\x20'+_0x4498c3;throw this[_0x3c8916(0x767)][_0x3c8916(0x2b4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3c8916(0x780)+_0x338cec),new m(_0x338cec);}}async[a0_0x344519(0x107)](_0x48ece0){const _0x258248=a0_0x344519;try{this[_0x258248(0x767)][_0x258248(0x52e)](this[_0x258248(0x20c)]+'\x20('+this[_0x258248(0x55b)]['wuid']+'):\x20Criando\x20fluxo\x20regular...');let _0x2bc0e6=_0x48ece0?.[_0x258248(0x54a)]==='true'?_0x258248(0x54a):this['instance']['wuid'];delete _0x48ece0[_0x258248(0x11e)],delete _0x48ece0[_0x258248(0x70b)],delete _0x48ece0[_0x258248(0x4b3)],_0x48ece0[_0x258248(0x10d)]===!0x0&&await this[_0x258248(0x6c9)][_0x258248(0x3d0)]['updateMany']({},{'default':!0x1},this[_0x258248(0x55b)]['wuid']);let _0x5ae128=new ie['Types'][(_0x258248(0x62a))](),_0x564d57={'_id':_0x5ae128,'default':!0x0,'title':_0x258248(0x41e),'x':0x0,'y':0x0},_0x499b8b={'_id':new ie[(_0x258248(0x2b7))][(_0x258248(0x62a))](),'order':0x1,'groupId':_0x5ae128[_0x258248(0x2f6)](),'type':_0x258248(0x190)},_0xc48f2b={'_id':new ie[(_0x258248(0x2b7))][(_0x258248(0x62a))](),'owner':this[_0x258248(0x55b)][_0x258248(0x2cc)],'name':_0x48ece0['name'],'groups':[_0x564d57],'blocks':[_0x499b8b],..._0x48ece0};return await this['repository'][_0x258248(0x3d0)]['createAndSave'](_0xc48f2b,_0x2bc0e6);}catch(_0x448300){let _0x4ab673=_0x258248(0x330),_0x33f93f=_0x448300 instanceof Error?_0x448300[_0x258248(0x806)]:typeof _0x448300==_0x258248(0x3fc)?JSON['stringify'](_0x448300):_0x448300,_0x157de7=_0x4ab673+':\x20'+_0x33f93f;throw this[_0x258248(0x767)][_0x258248(0x2b4)](this['instanceName']+'\x20('+this[_0x258248(0x55b)][_0x258248(0x2cc)]+_0x258248(0x780)+_0x157de7),new m(_0x157de7);}}async[a0_0x344519(0x4cf)](_0x392f0d,_0x1ae089){const _0xa4423f=a0_0x344519;this[_0xa4423f(0x767)][_0xa4423f(0x1af)](_0xa4423f(0x469));try{let _0x4006e3=await this['repository']['flow'][_0xa4423f(0x1a8)]({'where':{'_id':_0x392f0d}},_0x1ae089);if(delete _0x4006e3[_0xa4423f(0x10d)],delete _0x4006e3[_0xa4423f(0x423)],delete _0x4006e3[_0xa4423f(0x5e4)],delete _0x4006e3[_0xa4423f(0x541)],delete _0x4006e3[_0xa4423f(0x52f)],_0x4006e3['global']===_0xa4423f(0x145)&&(_0x4006e3['global']=_0xa4423f(0x80e)),_0x4006e3&&_0x4006e3['shareOwners']){for(let _0x3d6291 of _0x4006e3[_0xa4423f(0x11e)])if(_0x3d6291!==_0x1ae089){let _0x288a62={..._0x4006e3,'owner':_0x3d6291};await this[_0xa4423f(0x6c9)][_0xa4423f(0x3d0)][_0xa4423f(0x3c6)](_0x4006e3['_id'],_0x288a62,_0x3d6291);}}}catch(_0x5e93e8){this[_0xa4423f(0x767)][_0xa4423f(0x2b4)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x5e93e8);}}async[a0_0x344519(0x28d)](_0x2ed828,_0x4d4717){const _0x33e180=a0_0x344519;try{this[_0x33e180(0x767)][_0x33e180(0x52e)](this[_0x33e180(0x20c)]+'\x20('+this[_0x33e180(0x55b)]['wuid']+_0x33e180(0x5af)+_0x2ed828[_0x33e180(0x731)]+_0x33e180(0x5fc)+_0x2ed828[_0x33e180(0x54a)]);let _0x595594=_0x2ed828['global']==='true'?'global':this[_0x33e180(0x55b)]['wuid'],_0x3f172e=await this[_0x33e180(0x6c9)][_0x33e180(0x3d0)]['findOne']({'where':{'name':_0x2ed828[_0x33e180(0x731)]}},_0x595594);if(!_0x3f172e)throw new m(_0x33e180(0x104));if(_0x4d4717!==te&&_0x3f172e?.['global']===_0x33e180(0x145)&&_0x3f172e?.['owner']!==this[_0x33e180(0x55b)][_0x33e180(0x2cc)])throw new m(_0x33e180(0x195));if(_0x3f172e&&_0x3f172e['shareOwners']&&_0x3f172e[_0x33e180(0x11e)][_0x33e180(0x4e4)]>0x0){for(let _0x2a6f20 of _0x3f172e[_0x33e180(0x11e)])if(_0x2a6f20!==_0x595594){let _0x81f080=await this[_0x33e180(0x6c9)][_0x33e180(0x3d0)][_0x33e180(0x1a8)]({'where':{'sharePass':_0x3f172e['sharePass']}},_0x2a6f20);if(_0x81f080){_0x81f080[_0x33e180(0x11e)]=_0x81f080['shareOwners'][_0x33e180(0x414)](_0x4dbd5f=>_0x4dbd5f!==_0x3f172e[_0x33e180(0x4b3)]);let _0x34f9cb={'shareOwners':_0x81f080['shareOwners']};_0x3f172e[_0x33e180(0x54a)]===_0x33e180(0x145)&&(_0x34f9cb['global']='false'),await this[_0x33e180(0x6c9)][_0x33e180(0x3d0)]['updateOne'](_0x81f080[_0x33e180(0x791)],_0x34f9cb,_0x2a6f20);}}}return await this['repository'][_0x33e180(0x3d0)][_0x33e180(0x2bd)]({'where':{'name':_0x2ed828[_0x33e180(0x731)]}},_0x595594);}catch(_0x4d2aa9){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x33e180(0x55b)][_0x33e180(0x2cc)]+_0x33e180(0x48c)+(_0x4d2aa9 instanceof Error?_0x4d2aa9[_0x33e180(0x806)]:JSON[_0x33e180(0x3f5)](_0x4d2aa9,null,0x2))),{'message':_0x33e180(0x136)+_0x4d2aa9[_0x33e180(0x806)]};}}async[a0_0x344519(0x738)](_0x4956a3,_0x3c29e1){const _0x5f12d9=a0_0x344519;try{this['logger'][_0x5f12d9(0x1af)](this[_0x5f12d9(0x20c)]+'\x20('+this['instance'][_0x5f12d9(0x2cc)]+_0x5f12d9(0x59b)+_0x4956a3+'\x20global:\x20'+_0x3c29e1);let _0x55e549=_0x3c29e1?.[_0x5f12d9(0x774)]()===_0x5f12d9(0x145)?_0x5f12d9(0x54a):this[_0x5f12d9(0x55b)][_0x5f12d9(0x2cc)],_0x30b8dc=await this['repository'][_0x5f12d9(0x3d0)][_0x5f12d9(0x1a8)]({'where':{'name':_0x4956a3}},_0x55e549);if(!_0x30b8dc)throw new Error(_0x5f12d9(0x387));if(_0x30b8dc[_0x5f12d9(0x703)]||(_0x30b8dc[_0x5f12d9(0x703)]=(0x0,Ce['v4'])()),!this[_0x5f12d9(0x46f)]&&(await this[_0x5f12d9(0x332)](),!this[_0x5f12d9(0x46f)]))return null;let _0x54cb2c=this[_0x5f12d9(0x46f)]?.['customFields'][_0x5f12d9(0x41f)](_0x5329de=>_0x5329de[_0x5f12d9(0x731)]),_0x55e23e=[_0x5f12d9(0x607),_0x5f12d9(0x4d9),'email',_0x5f12d9(0x344),_0x5f12d9(0x197),_0x5f12d9(0x249),_0x5f12d9(0x7af),_0x5f12d9(0x106),_0x5f12d9(0x1b0),_0x5f12d9(0x7b3),_0x5f12d9(0x6cd)];_0x30b8dc['variables']=_0x30b8dc[_0x5f12d9(0x257)][_0x5f12d9(0x414)](_0x1d8c9e=>!(_0x1d8c9e[_0x5f12d9(0x581)]==='leadInfo'||_0x1d8c9e[_0x5f12d9(0x3c7)])),_0x55e23e[_0x5f12d9(0x402)](_0x329117=>{const _0x3160e0=_0x5f12d9;_0x30b8dc[_0x3160e0(0x257)][_0x3160e0(0x413)]({'folder':_0x3160e0(0x3c7),'name':_0x329117,'value':'','doc':'','leadInfo':!0x0});}),_0x54cb2c['forEach'](_0x5945c6=>{const _0x1511dd=_0x5f12d9;let _0x19ff3a=_0x30b8dc[_0x1511dd(0x257)][_0x1511dd(0x3ea)](_0x53337a=>_0x53337a[_0x1511dd(0x731)]===_0x5945c6);_0x19ff3a===-0x1?_0x30b8dc['variables']['push']({'folder':_0x1511dd(0x3c7),'name':_0x5945c6,'value':'','doc':'','leadInfo':!0x0}):(_0x30b8dc[_0x1511dd(0x257)][_0x19ff3a][_0x1511dd(0x581)]=_0x1511dd(0x3c7),_0x30b8dc[_0x1511dd(0x257)][_0x19ff3a][_0x1511dd(0x3c7)]=!0x0);}),_0x30b8dc[_0x5f12d9(0x5d2)]&&_0x30b8dc['blocks'][_0x5f12d9(0x4e4)]>0x0&&_0x30b8dc[_0x5f12d9(0x5d2)][_0x5f12d9(0x402)](_0x5f290c=>{const _0x3a802c=_0x5f12d9;_0x5f290c['groupId']&&_0x5f290c[_0x3a802c(0x340)]&&_0x5f290c[_0x3a802c(0x6c8)]===_0x5f290c[_0x3a802c(0x340)]&&(_0x5f290c[_0x3a802c(0x340)]=null);});let _0x5a4d4d=await this[_0x5f12d9(0x6c9)]['flow'][_0x5f12d9(0x608)](_0x30b8dc[_0x5f12d9(0x791)],_0x30b8dc,_0x55e549);if(!_0x5a4d4d)throw new Error(_0x5f12d9(0x37a));return _0x5a4d4d;}catch(_0x2bad89){let _0x1d2f02=_0x5f12d9(0x2fa),_0x2c291f=_0x2bad89 instanceof Error?_0x2bad89['message']:typeof _0x2bad89==_0x5f12d9(0x3fc)?JSON['stringify'](_0x2bad89):_0x2bad89,_0x3b1d7d=_0x1d2f02+':\x20'+_0x2c291f;throw this[_0x5f12d9(0x767)][_0x5f12d9(0x2b4)](this[_0x5f12d9(0x20c)]+'\x20('+this[_0x5f12d9(0x55b)][_0x5f12d9(0x2cc)]+_0x5f12d9(0x780)+_0x3b1d7d),new m(_0x3b1d7d);}}async[a0_0x344519(0x17f)](){const _0x492a58=a0_0x344519;try{this[_0x492a58(0x767)][_0x492a58(0x52e)](this[_0x492a58(0x20c)]+'\x20('+this[_0x492a58(0x55b)][_0x492a58(0x2cc)]+_0x492a58(0x1b4)),await this[_0x492a58(0x6c9)][_0x492a58(0x3d0)][_0x492a58(0x3be)](this['instance']['wuid']);let _0x2c4847=await this['repository'][_0x492a58(0x3d0)][_0x492a58(0x5dd)]({'where':{}},this[_0x492a58(0x55b)][_0x492a58(0x2cc)]),_0x2dd84d=await this[_0x492a58(0x6c9)][_0x492a58(0x3d0)][_0x492a58(0x5dd)]({'where':{}},'global');return _0x2c4847[_0x492a58(0x6ca)](_0x2dd84d);}catch(_0x4539bb){return this[_0x492a58(0x767)][_0x492a58(0x2b4)](this[_0x492a58(0x20c)]+'\x20('+this['instance'][_0x492a58(0x2cc)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x4539bb instanceof Error?_0x4539bb[_0x492a58(0x806)]:JSON[_0x492a58(0x3f5)](_0x4539bb,null,0x2))),{'message':_0x492a58(0x492)+_0x4539bb[_0x492a58(0x806)]};}}async['editFlow'](_0x19f679,_0x8c6982){const _0x19c8e0=a0_0x344519;try{this['logger'][_0x19c8e0(0x52e)](this['instanceName']+'\x20('+this[_0x19c8e0(0x55b)][_0x19c8e0(0x2cc)]+_0x19c8e0(0x1cf));let _0x40654e=_0x19f679?.[_0x19c8e0(0x54a)]?.['trim']()===_0x19c8e0(0x145)?_0x19c8e0(0x54a):this['instance'][_0x19c8e0(0x2cc)],_0x3a252a=await this['repository'][_0x19c8e0(0x3d0)][_0x19c8e0(0x1a8)]({'where':{'name':_0x19f679[_0x19c8e0(0x731)]}},_0x40654e);if(!_0x3a252a)return{'message':_0x19c8e0(0x1e1)};if(_0x8c6982!==te&&_0x3a252a?.['global']===_0x19c8e0(0x145)&&_0x3a252a?.['owner']!==this[_0x19c8e0(0x55b)][_0x19c8e0(0x2cc)])throw new m(_0x19c8e0(0x294));_0x3a252a?.['global']===_0x19c8e0(0x80e)&&(_0x19f679={'default':_0x19f679[_0x19c8e0(0x10d)],'minutesToClose':_0x19f679['minutesToClose'],'readMessages':_0x19f679[_0x19c8e0(0x52f)],'testingWith':_0x19f679[_0x19c8e0(0x5e4)],'startCommandWord':_0x19f679[_0x19c8e0(0x423)]}),_0x19f679[_0x19c8e0(0x10d)]===!0x0&&_0x3a252a?.['global']!==_0x19c8e0(0x145)&&await this[_0x19c8e0(0x6c9)][_0x19c8e0(0x3d0)][_0x19c8e0(0x164)]({},{'default':!0x1},_0x40654e),delete _0x19f679[_0x19c8e0(0x11e)],delete _0x19f679[_0x19c8e0(0x70b)],delete _0x19f679[_0x19c8e0(0x54a)];let _0x44d3b3=await this[_0x19c8e0(0x6c9)][_0x19c8e0(0x3d0)][_0x19c8e0(0x608)](_0x3a252a['_id'],_0x19f679,_0x40654e);return _0x44d3b3&&_0x44d3b3[_0x19c8e0(0x11e)]&&_0x44d3b3[_0x19c8e0(0x11e)][_0x19c8e0(0x4e4)]>0x1&&_0x44d3b3[_0x19c8e0(0x54a)]!=='sync'&&this[_0x19c8e0(0x4cf)](_0x44d3b3[_0x19c8e0(0x791)],_0x40654e),_0x44d3b3;}catch(_0x3fda24){let _0x3400be='Erro\x20ao\x20alterar\x20fluxo',_0x554310=_0x3fda24 instanceof Error?_0x3fda24[_0x19c8e0(0x806)]:typeof _0x3fda24==_0x19c8e0(0x3fc)?JSON[_0x19c8e0(0x3f5)](_0x3fda24):_0x3fda24,_0x53824e=_0x3400be+':\x20'+_0x554310;throw this[_0x19c8e0(0x767)]['error'](this[_0x19c8e0(0x20c)]+'\x20('+this[_0x19c8e0(0x55b)][_0x19c8e0(0x2cc)]+_0x19c8e0(0x780)+_0x53824e),new m(_0x53824e);}}async[a0_0x344519(0x365)](_0x528ef2,_0x38a0fd){const _0x49a3a9=a0_0x344519;try{this[_0x49a3a9(0x767)][_0x49a3a9(0x52e)](this[_0x49a3a9(0x20c)]+'\x20('+this[_0x49a3a9(0x55b)][_0x49a3a9(0x2cc)]+_0x49a3a9(0x58f));let _0x50f67c=_0x528ef2?.[_0x49a3a9(0x54a)]?.[_0x49a3a9(0x774)]()===_0x49a3a9(0x145)?_0x49a3a9(0x54a):this[_0x49a3a9(0x55b)][_0x49a3a9(0x2cc)],_0x5769c9=await this[_0x49a3a9(0x6c9)][_0x49a3a9(0x3d0)][_0x49a3a9(0x1a8)]({'where':{'name':_0x528ef2[_0x49a3a9(0x731)]}},_0x50f67c);if(_0x5769c9||this[_0x49a3a9(0x42f)](_0x49a3a9(0x387)),_0x5769c9?.[_0x49a3a9(0x54a)]==='sync')throw new m(_0x49a3a9(0x301));if(_0x38a0fd!==te&&_0x5769c9?.[_0x49a3a9(0x54a)]==='true'&&_0x5769c9?.['owner']!==this[_0x49a3a9(0x55b)][_0x49a3a9(0x2cc)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {block:_0x190b4a}=_0x528ef2;_0x190b4a?.[_0x49a3a9(0x7dd)]?this[_0x49a3a9(0x171)](_0x5769c9,_0x528ef2):_0x190b4a?.[_0x49a3a9(0x4ea)]?this[_0x49a3a9(0x1ef)](_0x5769c9,_0x528ef2):_0x190b4a[_0x49a3a9(0x791)]?await this['updateBlock'](_0x5769c9,_0x528ef2):this[_0x49a3a9(0x24c)](_0x5769c9,_0x528ef2);let _0x3ea067=await this[_0x49a3a9(0x6c9)][_0x49a3a9(0x3d0)][_0x49a3a9(0x608)](_0x5769c9[_0x49a3a9(0x791)],_0x5769c9,_0x50f67c);if(_0x3ea067&&_0x3ea067[_0x49a3a9(0x11e)]&&_0x3ea067[_0x49a3a9(0x11e)][_0x49a3a9(0x4e4)]>0x1&&this[_0x49a3a9(0x4cf)](_0x3ea067['_id'],this[_0x49a3a9(0x55b)][_0x49a3a9(0x2cc)]),!_0x3ea067)throw new Error(_0x49a3a9(0x37a));return _0x3ea067;}catch(_0x138fa7){this[_0x49a3a9(0x42f)](_0x49a3a9(0x81f)+_0x138fa7['message']);}}async[a0_0x344519(0x171)](_0x1a2e02,_0x37ab4d){const _0x267c70=a0_0x344519;let _0x76252b=_0x37ab4d[_0x267c70(0x3f3)]['_id'],_0x98b519=_0x1a2e02[_0x267c70(0x5d2)]['find'](_0x7db073=>_0x7db073[_0x267c70(0x791)][_0x267c70(0x2f6)]()===_0x76252b);if(!_0x98b519){this[_0x267c70(0x767)]['error'](this[_0x267c70(0x20c)]+'\x20('+this['instance'][_0x267c70(0x2cc)]+_0x267c70(0x4a3)+_0x76252b+_0x267c70(0x25c));return;}this[_0x267c70(0x767)][_0x267c70(0x52e)](this[_0x267c70(0x20c)]+'\x20('+this['instance']['wuid']+_0x267c70(0x4b7)+JSON[_0x267c70(0x3f5)](_0x98b519));let _0x4f1346=JSON[_0x267c70(0x1bc)](JSON['stringify'](_0x98b519));_0x4f1346[_0x267c70(0x791)]=new ie[(_0x267c70(0x10d))][(_0x267c70(0x2b7))][(_0x267c70(0x62a))](),this['logger'][_0x267c70(0x52e)](this['instanceName']+'\x20('+this[_0x267c70(0x55b)][_0x267c70(0x2cc)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x267c70(0x3f5)](_0x4f1346)),_0x1a2e02[_0x267c70(0x5d2)]['push'](_0x4f1346),this['reorderBlocks'](_0x1a2e02[_0x267c70(0x5d2)],_0x4f1346[_0x267c70(0x6c8)]);}[a0_0x344519(0x42f)](_0x5be59c){const _0x2b1ae9=a0_0x344519;throw this['logger'][_0x2b1ae9(0x2b4)](this[_0x2b1ae9(0x20c)]+'\x20('+this[_0x2b1ae9(0x55b)]['wuid']+_0x2b1ae9(0x780)+_0x5be59c),new m(_0x5be59c);}[a0_0x344519(0x1ef)](_0x43b281,_0x1d64b1){const _0x10ea6d=a0_0x344519;let {block:_0x220acc}=_0x1d64b1;if(_0x220acc['type']===_0x10ea6d(0x190)){this[_0x10ea6d(0x42f)](_0x10ea6d(0x17a));return;}if(!_0x220acc[_0x10ea6d(0x791)]){this[_0x10ea6d(0x42f)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x16ebb0=_0x43b281[_0x10ea6d(0x5d2)][_0x10ea6d(0x1ee)](_0x3b7c2e=>_0x3b7c2e[_0x10ea6d(0x791)][_0x10ea6d(0x2f6)]()===_0x1d64b1[_0x10ea6d(0x3f3)][_0x10ea6d(0x791)]['toString']());if(!_0x16ebb0){this[_0x10ea6d(0x42f)](_0x10ea6d(0x440)+_0x220acc[_0x10ea6d(0x791)]+_0x10ea6d(0x18a));return;}_0x43b281[_0x10ea6d(0x5d2)]=_0x43b281[_0x10ea6d(0x5d2)]['filter'](_0x19e874=>_0x19e874[_0x10ea6d(0x791)]['toString']()!==_0x1d64b1[_0x10ea6d(0x3f3)][_0x10ea6d(0x791)][_0x10ea6d(0x2f6)]()),_0x43b281[_0x10ea6d(0x5a8)]=_0x43b281[_0x10ea6d(0x5a8)][_0x10ea6d(0x414)](_0x35aeff=>_0x35aeff[_0x10ea6d(0x342)]!==_0x220acc['_id']['toString']()),_0x43b281[_0x10ea6d(0x411)]=_0x43b281[_0x10ea6d(0x411)][_0x10ea6d(0x414)](_0x31fd35=>_0x31fd35[_0x10ea6d(0x342)]!==_0x220acc['_id']['toString']()),_0x43b281[_0x10ea6d(0x641)]=_0x43b281[_0x10ea6d(0x641)][_0x10ea6d(0x414)](_0x2b2310=>_0x2b2310['blockId']!==_0x220acc[_0x10ea6d(0x791)]['toString']()),this['reorderBlocks'](_0x43b281[_0x10ea6d(0x5d2)],_0x16ebb0[_0x10ea6d(0x6c8)]);}async[a0_0x344519(0x2a5)](_0x572e67,_0x2fda6a){const _0x56a6bd=a0_0x344519;let _0x222e9e=_0x572e67[_0x56a6bd(0x5d2)][_0x56a6bd(0x3ea)](_0x4f6d25=>_0x4f6d25[_0x56a6bd(0x791)][_0x56a6bd(0x2f6)]()===_0x2fda6a[_0x56a6bd(0x3f3)][_0x56a6bd(0x791)][_0x56a6bd(0x2f6)]());if(this[_0x56a6bd(0x767)]['verbose'](this[_0x56a6bd(0x20c)]+'\x20('+this[_0x56a6bd(0x55b)]['wuid']+_0x56a6bd(0x77f)+_0x222e9e),_0x222e9e===-0x1){this[_0x56a6bd(0x767)][_0x56a6bd(0x52e)]('Bloco\x20com\x20ID\x20'+_0x2fda6a[_0x56a6bd(0x3f3)][_0x56a6bd(0x791)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4d3)]===_0x56a6bd(0x190)){let _0x3cdebe=Object[_0x56a6bd(0x6cc)](_0x2fda6a[_0x56a6bd(0x3f3)]);if(_0x3cdebe['length']>0x2||_0x3cdebe[_0x56a6bd(0x4e4)]===0x2&&!_0x3cdebe[_0x56a6bd(0x5fb)](_0x56a6bd(0x340))){this[_0x56a6bd(0x42f)](_0x56a6bd(0x6e3));return;}}let _0x5c6f6f=_0x572e67['blocks'][_0x222e9e]['groupId'];for(let _0x3b4470 in _0x2fda6a[_0x56a6bd(0x3f3)])_0x2fda6a[_0x56a6bd(0x3f3)][_0x56a6bd(0x11f)](_0x3b4470)&&(_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x3b4470]=_0x2fda6a[_0x56a6bd(0x3f3)][_0x3b4470]);if(this['logger'][_0x56a6bd(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x56a6bd(0x2cc)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x56a6bd(0x3f5)](_0x572e67['blocks'][_0x222e9e])),_0x572e67['blocks'][_0x222e9e][_0x56a6bd(0x4c5)]&&_0x56a6bd(0x207)in _0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)]){this['logger']['verbose'](this[_0x56a6bd(0x20c)]+'\x20('+this[_0x56a6bd(0x55b)][_0x56a6bd(0x2cc)]+_0x56a6bd(0x67a));let _0x3083f3=JSON[_0x56a6bd(0x3f5)](_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)]['header'],null,0x1);_0x3083f3[_0x56a6bd(0x4e4)]>0x2&&(_0x3083f3=_0x3083f3[_0x56a6bd(0x812)](0x1,_0x3083f3[_0x56a6bd(0x4e4)]-0x1)[_0x56a6bd(0x774)]()),_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e]['apirequest']['headerString']=_0x3083f3;}if(_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)]&&_0x56a6bd(0x596)in _0x572e67[_0x56a6bd(0x5d2)][_0x222e9e]['apirequest']&&!('bodyString'in _0x572e67['blocks'][_0x222e9e][_0x56a6bd(0x4c5)])){this['logger'][_0x56a6bd(0x52e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x56a6bd(0x761)),_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)][_0x56a6bd(0x7a8)]=!0x1;let _0x836496=JSON['stringify'](_0x572e67['blocks'][_0x222e9e][_0x56a6bd(0x4c5)][_0x56a6bd(0x596)],null,0x2);_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)][_0x56a6bd(0x2ac)]=_0x836496;}if(_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)]&&_0x56a6bd(0x2ac)in _0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)]){_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)][_0x56a6bd(0x7a8)]=!0x1;let _0xaf29b7=_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)]['bodyString'],_0x41fbb7=this['beautifyWithPlaceholders'](_0xaf29b7);_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)][_0x56a6bd(0x2ac)]=_0x41fbb7[_0x56a6bd(0x643)],_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e][_0x56a6bd(0x4c5)][_0x56a6bd(0x7a8)]=_0x41fbb7['error'];}let _0x5c6a10=_0x572e67[_0x56a6bd(0x5d2)][_0x222e9e]['groupId'];_0x5c6f6f!==_0x5c6a10?(this[_0x56a6bd(0x241)](_0x572e67[_0x56a6bd(0x5d2)],_0x5c6f6f),this[_0x56a6bd(0x241)](_0x572e67[_0x56a6bd(0x5d2)],_0x5c6a10)):this[_0x56a6bd(0x241)](_0x572e67[_0x56a6bd(0x5d2)],_0x5c6f6f);}['beautifyWithPlaceholders'](_0x5ac677){const _0x3c7396=a0_0x344519;let _0x4db1b1='\u205f',_0x2068b8=!0x1,_0x21c18c='';for(let _0x62d903=0x0;_0x62d903<_0x5ac677[_0x3c7396(0x4e4)];_0x62d903++){let _0x3e3b8f=_0x5ac677[_0x62d903];_0x3e3b8f==='\x22'&&(_0x62d903===0x0||_0x5ac677[_0x62d903-0x1]!=='\x5c')&&(_0x2068b8=!_0x2068b8),!(!_0x2068b8&&(_0x3e3b8f==='\x0a'||_0x3e3b8f==='\x20'||_0x3e3b8f===_0x4db1b1))&&(_0x21c18c+=_0x3e3b8f);}let _0x385cf7={},_0x4a8de4=9876543210.1234,_0x9c706f=_0x21c18c[_0x3c7396(0x477)](/\{\{([^}]+)\}\}/g,_0x15e666=>{let _0x137b2c=_0x15e666,_0x947ea8=''+_0x4a8de4;return _0x385cf7[_0x947ea8]=_0x137b2c,_0x4a8de4+=0.0001,_0x947ea8;}),_0x51c379='',_0x974458=!0x1;try{let _0x1839df=JSON['parse'](_0x9c706f);_0x51c379=JSON[_0x3c7396(0x3f5)](_0x1839df,null,0x2),_0x51c379=_0x51c379[_0x3c7396(0x477)](/\n( +)/g,(_0x2dab40,_0x1afec3)=>{const _0x754509=_0x3c7396;let _0x27fc86=_0x1afec3[_0x754509(0x4e4)];return'\x0a'+_0x4db1b1[_0x754509(0x37c)](_0x27fc86*0x2);}),_0x51c379=_0x51c379['replace'](/(\d{10,}\.\d+)/g,_0x3931cb=>_0x385cf7[_0x3931cb]||_0x3931cb);}catch(_0x10779e){console['error'](_0x3c7396(0x6cf),_0x10779e),_0x51c379=_0x5ac677,_0x974458=!0x0;}return{'result':_0x51c379,'error':_0x974458};}['addBlock'](_0x59a895,_0x25d50c){const _0x136b17=a0_0x344519;if(_0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x4d3)]===_0x136b17(0x190)){this[_0x136b17(0x42f)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x25d50c['block'][_0x136b17(0x4c5)]&&_0x136b17(0x207)in _0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x4c5)]){this[_0x136b17(0x767)][_0x136b17(0x52e)](this['instanceName']+'\x20('+this[_0x136b17(0x55b)][_0x136b17(0x2cc)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4a522a=JSON[_0x136b17(0x3f5)](_0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x4c5)]['header'],null,0x1);_0x4a522a[_0x136b17(0x4e4)]>0x2&&(_0x4a522a=_0x4a522a[_0x136b17(0x812)](0x1,_0x4a522a[_0x136b17(0x4e4)]-0x1)[_0x136b17(0x774)]()),_0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x4c5)][_0x136b17(0x1de)]=_0x4a522a;}_0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x4c5)]&&'body'in _0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x4c5)]&&(this[_0x136b17(0x767)][_0x136b17(0x52e)](this[_0x136b17(0x20c)]+'\x20('+this['instance']['wuid']+_0x136b17(0x761)),_0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x4c5)][_0x136b17(0x2ac)]=JSON[_0x136b17(0x3f5)](_0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x4c5)][_0x136b17(0x596)],null,0x1)[_0x136b17(0x774)]()),_0x59a895[_0x136b17(0x5d2)][_0x136b17(0x413)](_0x25d50c[_0x136b17(0x3f3)]),this[_0x136b17(0x241)](_0x59a895[_0x136b17(0x5d2)],_0x25d50c[_0x136b17(0x3f3)][_0x136b17(0x6c8)]);}[a0_0x344519(0x241)](_0x4c5e15,_0x461f47){const _0x1c8f8d=a0_0x344519;let _0x3fd952=_0x4c5e15[_0x1c8f8d(0x414)](_0x49f7cb=>_0x49f7cb['groupId']===_0x461f47);_0x3fd952[_0x1c8f8d(0x4ec)]((_0x2226f3,_0x3ae923)=>_0x2226f3[_0x1c8f8d(0x53c)]-_0x3ae923[_0x1c8f8d(0x53c)]),_0x3fd952[_0x1c8f8d(0x402)]((_0x4c552c,_0x2814b0)=>_0x4c552c[_0x1c8f8d(0x53c)]=_0x2814b0+0x1);}async['editFlowReply'](_0x1adf3a,_0x313644){const _0x4e0e7d=a0_0x344519;try{this[_0x4e0e7d(0x767)]['verbose'](this[_0x4e0e7d(0x20c)]+'\x20('+this[_0x4e0e7d(0x55b)][_0x4e0e7d(0x2cc)]+_0x4e0e7d(0x775));let _0x597c5c=_0x1adf3a?.[_0x4e0e7d(0x54a)]['trim']()===_0x4e0e7d(0x145)?_0x4e0e7d(0x54a):this[_0x4e0e7d(0x55b)][_0x4e0e7d(0x2cc)];if(!_0x1adf3a||!_0x1adf3a[_0x4e0e7d(0x2fb)]){this['throwAndLogError'](_0x4e0e7d(0x242));return;}let _0x1fff93=await this[_0x4e0e7d(0x6c9)]['flow'][_0x4e0e7d(0x1a8)]({'where':{'name':_0x1adf3a['name']}},_0x597c5c);if(_0x1fff93||this[_0x4e0e7d(0x42f)](_0x4e0e7d(0x387)),_0x1fff93?.[_0x4e0e7d(0x54a)]==='sync')throw new m(_0x4e0e7d(0x301));if(_0x313644!==te&&_0x1fff93?.[_0x4e0e7d(0x54a)]===_0x4e0e7d(0x145)&&_0x1fff93?.['owner']!==this[_0x4e0e7d(0x55b)][_0x4e0e7d(0x2cc)])throw new m(_0x4e0e7d(0x294));let {replyOption:_0x427120}=_0x1adf3a;_0x427120?.[_0x4e0e7d(0x4ea)]?(this[_0x4e0e7d(0x745)](_0x1fff93,_0x1adf3a),this[_0x4e0e7d(0x403)](_0x1fff93[_0x4e0e7d(0x641)],_0x1adf3a[_0x4e0e7d(0x2fb)]['blockId'])):_0x427120['_id']?(await this[_0x4e0e7d(0x369)](_0x1fff93,_0x1adf3a),this[_0x4e0e7d(0x403)](_0x1fff93['replyOptions'],_0x1adf3a[_0x4e0e7d(0x2fb)][_0x4e0e7d(0x342)])):(this[_0x4e0e7d(0x7f0)](_0x1fff93,_0x1adf3a),this[_0x4e0e7d(0x403)](_0x1fff93[_0x4e0e7d(0x641)],_0x1adf3a['replyOption']['blockId']));let _0x42ccd1=await this[_0x4e0e7d(0x6c9)][_0x4e0e7d(0x3d0)][_0x4e0e7d(0x608)](_0x1fff93[_0x4e0e7d(0x791)],_0x1fff93,_0x597c5c);if(_0x42ccd1&&_0x42ccd1['shareOwners']&&_0x42ccd1['shareOwners']['length']>0x1&&_0x42ccd1[_0x4e0e7d(0x54a)]!==_0x4e0e7d(0x80e)&&this['synchronizeFlows'](_0x42ccd1[_0x4e0e7d(0x791)],_0x597c5c),!_0x42ccd1)throw new Error(_0x4e0e7d(0x37a));return _0x42ccd1;}catch(_0x104f36){this[_0x4e0e7d(0x42f)](_0x4e0e7d(0x417)+_0x104f36);}}['reorderReplyOptions'](_0x4c8324,_0x25dd52){const _0x188901=a0_0x344519;_0x4c8324['forEach'](_0x4397bd=>{const _0x524863=a0_0x3abc;_0x4397bd[_0x524863(0x342)]===_0x25dd52&&_0x4397bd['order']===void 0x0&&(_0x4397bd[_0x524863(0x53c)]=0x270f);});let _0x507c92=_0x4c8324[_0x188901(0x414)](_0x52ce26=>_0x52ce26[_0x188901(0x342)]===_0x25dd52);_0x507c92[_0x188901(0x4ec)]((_0x25a102,_0x1b0310)=>_0x25a102[_0x188901(0x53c)]-_0x1b0310[_0x188901(0x53c)]),_0x507c92['forEach']((_0x30a170,_0x50514a)=>{const _0x3eafc6=_0x188901;_0x30a170[_0x3eafc6(0x53c)]=_0x50514a+0x1;}),_0x4c8324['forEach'](_0x55b88e=>{const _0x113846=_0x188901;if(_0x55b88e[_0x113846(0x342)]===_0x25dd52){let _0x41d3c0=_0x507c92[_0x113846(0x1ee)](_0x5c5d4f=>_0x5c5d4f[_0x113846(0x791)]&&_0x55b88e[_0x113846(0x791)]&&_0x5c5d4f[_0x113846(0x791)][_0x113846(0x2f6)]()===_0x55b88e[_0x113846(0x791)][_0x113846(0x2f6)]());_0x41d3c0&&(_0x55b88e[_0x113846(0x53c)]=_0x41d3c0[_0x113846(0x53c)]);}});}[a0_0x344519(0x745)](_0x2d2249,_0x277380){const _0x4514e5=a0_0x344519;let {replyOption:_0x3ae853}=_0x277380;if(!_0x3ae853[_0x4514e5(0x791)]){this[_0x4514e5(0x42f)](_0x4514e5(0x21d));return;}if(!_0x2d2249[_0x4514e5(0x641)][_0x4514e5(0x1ee)](_0x5bce23=>_0x5bce23[_0x4514e5(0x791)][_0x4514e5(0x2f6)]()===_0x277380[_0x4514e5(0x2fb)]['_id']['toString']())){this[_0x4514e5(0x42f)]('ReplyOption\x20com\x20ID\x20'+_0x3ae853[_0x4514e5(0x791)]+'\x20não\x20encontrado');return;}_0x2d2249[_0x4514e5(0x641)]=_0x2d2249[_0x4514e5(0x641)][_0x4514e5(0x414)](_0x41b60e=>_0x41b60e['_id'][_0x4514e5(0x2f6)]()!==_0x277380[_0x4514e5(0x2fb)][_0x4514e5(0x791)][_0x4514e5(0x2f6)]());}async[a0_0x344519(0x369)](_0x4f1635,_0x9c37aa){const _0xb29d2=a0_0x344519;let _0x5b9368=_0x4f1635[_0xb29d2(0x641)][_0xb29d2(0x3ea)](_0x1e3274=>_0x1e3274['_id'][_0xb29d2(0x2f6)]()===_0x9c37aa[_0xb29d2(0x2fb)]['_id'][_0xb29d2(0x2f6)]());if(_0x5b9368===-0x1){this[_0xb29d2(0x42f)]('ReplyOption\x20com\x20ID\x20'+_0x9c37aa['replyOption'][_0xb29d2(0x791)]+_0xb29d2(0x3d5));return;}for(let _0x21e406 in _0x9c37aa[_0xb29d2(0x2fb)])_0x9c37aa['replyOption']['hasOwnProperty'](_0x21e406)&&(_0x4f1635[_0xb29d2(0x641)][_0x5b9368][_0x21e406]=_0x9c37aa[_0xb29d2(0x2fb)][_0x21e406]);}[a0_0x344519(0x7f0)](_0xd2c6ec,_0x207233){const _0x31759e=a0_0x344519;_0xd2c6ec[_0x31759e(0x641)]['push'](_0x207233[_0x31759e(0x2fb)]);}async[a0_0x344519(0x701)](_0x375ba2,_0x3cb72a){const _0xbd812a=a0_0x344519;let _0x51c891=_0x375ba2?.[_0xbd812a(0x54a)][_0xbd812a(0x774)]()===_0xbd812a(0x145)?_0xbd812a(0x54a):this[_0xbd812a(0x55b)][_0xbd812a(0x2cc)];this['logger'][_0xbd812a(0x52e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xbd812a(0x166)+_0x51c891+',\x20apikey:\x20'+_0x3cb72a+',\x20data:\x20'+JSON[_0xbd812a(0x3f5)](_0x375ba2,null,0x2));try{this[_0xbd812a(0x767)][_0xbd812a(0x52e)](this['instanceName']+'\x20('+this[_0xbd812a(0x55b)][_0xbd812a(0x2cc)]+_0xbd812a(0x38a));let _0x10885d=await this[_0xbd812a(0x6c9)]['flow'][_0xbd812a(0x1a8)]({'where':{'name':_0x375ba2[_0xbd812a(0x731)]}},_0x51c891);if(!_0x10885d)throw this[_0xbd812a(0x767)][_0xbd812a(0x52e)](this[_0xbd812a(0x20c)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20não\x20encontrado'),new Error('Flow\x20não\x20encontrado');if(_0x10885d?.['global']==='sync')throw this['logger'][_0xbd812a(0x52e)](this[_0xbd812a(0x20c)]+'\x20('+this[_0xbd812a(0x55b)][_0xbd812a(0x2cc)]+_0xbd812a(0x720)),new m(_0xbd812a(0x706));if(_0x3cb72a!==te&&_0x10885d?.[_0xbd812a(0x54a)]===_0xbd812a(0x145)&&_0x10885d?.[_0xbd812a(0x4b3)]!==this[_0xbd812a(0x55b)][_0xbd812a(0x2cc)])throw this[_0xbd812a(0x767)][_0xbd812a(0x52e)](this[_0xbd812a(0x20c)]+'\x20('+this[_0xbd812a(0x55b)][_0xbd812a(0x2cc)]+_0xbd812a(0x4e2)),new m(_0xbd812a(0x294));if(_0x375ba2[_0xbd812a(0x368)]&&_0x375ba2['group']?.[_0xbd812a(0x4ea)]===!0x0){if(this[_0xbd812a(0x767)][_0xbd812a(0x52e)](this[_0xbd812a(0x20c)]+'\x20('+this[_0xbd812a(0x55b)][_0xbd812a(0x2cc)]+'):\x20delete\x20=\x20true'),_0x375ba2['group']['default']===!0x0)return{'message':_0xbd812a(0x55d)};if(_0x10885d[_0xbd812a(0x5d2)][_0xbd812a(0x19f)](_0xa745de=>_0xa745de[_0xbd812a(0x6c8)][_0xbd812a(0x2f6)]()===_0x375ba2[_0xbd812a(0x368)][_0xbd812a(0x791)]))return this[_0xbd812a(0x767)]['verbose'](this[_0xbd812a(0x20c)]+'\x20('+this[_0xbd812a(0x55b)][_0xbd812a(0x2cc)]+'):\x20tem\x20blocks'),{'message':_0xbd812a(0x740)};_0x10885d[_0xbd812a(0x6bb)]=_0x10885d[_0xbd812a(0x6bb)][_0xbd812a(0x414)](_0x5a8378=>_0x5a8378[_0xbd812a(0x791)][_0xbd812a(0x2f6)]()!==_0x375ba2[_0xbd812a(0x368)][_0xbd812a(0x791)]);}else{if(_0x375ba2[_0xbd812a(0x368)]){if(_0x375ba2[_0xbd812a(0x368)]['default']===!0x0)return{'message':_0xbd812a(0x272)};if(_0x375ba2[_0xbd812a(0x368)][_0xbd812a(0x791)]){let _0x11177b=_0x10885d[_0xbd812a(0x6bb)][_0xbd812a(0x1ee)](_0x26fced=>_0x26fced[_0xbd812a(0x791)]['toString']()===_0x375ba2[_0xbd812a(0x368)][_0xbd812a(0x791)]);_0x11177b&&(_0x375ba2['group']['x']<0x0&&(_0x375ba2[_0xbd812a(0x368)]['x']=0x0),_0x375ba2[_0xbd812a(0x368)]['y']<0x0&&(_0x375ba2[_0xbd812a(0x368)]['y']=0x0),Object[_0xbd812a(0x2d7)](_0x11177b,_0x375ba2['group']));}else _0x10885d[_0xbd812a(0x6bb)][_0xbd812a(0x413)](_0x375ba2[_0xbd812a(0x368)]);}}let _0x408a13=await this[_0xbd812a(0x6c9)]['flow'][_0xbd812a(0x608)](_0x10885d[_0xbd812a(0x791)],_0x10885d,_0x51c891);if(_0x408a13&&_0x408a13['shareOwners']&&_0x408a13['shareOwners']['length']>0x1&&_0x408a13[_0xbd812a(0x54a)]!==_0xbd812a(0x80e)&&this['synchronizeFlows'](_0x408a13[_0xbd812a(0x791)],_0x51c891),!_0x408a13)throw new Error(_0xbd812a(0x37a));return _0x408a13;}catch(_0x21cf3a){let _0x1323c2=_0xbd812a(0x47b),_0x20348b=_0x21cf3a instanceof Error?_0x21cf3a['message']:typeof _0x21cf3a=='object'?JSON[_0xbd812a(0x3f5)](_0x21cf3a):_0x21cf3a,_0x41f948=_0x1323c2+':\x20'+_0x20348b;throw this['logger'][_0xbd812a(0x2b4)](this['instanceName']+'\x20('+this[_0xbd812a(0x55b)][_0xbd812a(0x2cc)]+_0xbd812a(0x780)+_0x41f948),new m(_0x41f948);}}async['editFlowCondition'](_0x243047,_0x4d1fe4){const _0x26bdb9=a0_0x344519;try{this[_0x26bdb9(0x767)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x26bdb9(0x2cc)]+_0x26bdb9(0x264));let _0x8a7dc0=_0x243047?.['global'][_0x26bdb9(0x774)]()===_0x26bdb9(0x145)?_0x26bdb9(0x54a):this[_0x26bdb9(0x55b)]['wuid'],_0x540fae=await this['repository']['flow']['findOne']({'where':{'name':_0x243047[_0x26bdb9(0x731)]}},_0x8a7dc0);if(!_0x540fae)throw new Error(_0x26bdb9(0x387));if(_0x540fae?.[_0x26bdb9(0x54a)]===_0x26bdb9(0x80e))throw new m(_0x26bdb9(0x301));if(_0x4d1fe4!==te&&_0x540fae?.[_0x26bdb9(0x54a)]==='true'&&_0x540fae?.[_0x26bdb9(0x4b3)]!==this['instance'][_0x26bdb9(0x2cc)])throw new m(_0x26bdb9(0x294));let _0x40fced=!0x1;if(_0x243047[_0x26bdb9(0x238)]?.[_0x26bdb9(0x4ea)]===!0x0)_0x540fae['conditions']=_0x540fae['conditions']['filter'](_0x381661=>_0x381661&&_0x243047[_0x26bdb9(0x238)]&&_0x381661[_0x26bdb9(0x791)]&&_0x243047[_0x26bdb9(0x238)]['_id']&&_0x381661[_0x26bdb9(0x791)][_0x26bdb9(0x2f6)]()!==_0x243047[_0x26bdb9(0x238)][_0x26bdb9(0x791)][_0x26bdb9(0x2f6)]()),_0x40fced=!0x0;else{let _0x39eb5c=_0x540fae[_0x26bdb9(0x5a8)][_0x26bdb9(0x1ee)](_0x2a6d99=>_0x2a6d99&&_0x243047[_0x26bdb9(0x238)]&&_0x2a6d99[_0x26bdb9(0x791)]&&_0x243047[_0x26bdb9(0x238)][_0x26bdb9(0x791)]&&_0x2a6d99[_0x26bdb9(0x791)]['toString']()===_0x243047[_0x26bdb9(0x238)]['_id'][_0x26bdb9(0x2f6)]());_0x39eb5c?(_0x40fced=_0x39eb5c[_0x26bdb9(0x53c)]!==_0x243047[_0x26bdb9(0x238)][_0x26bdb9(0x53c)],Object[_0x26bdb9(0x2d7)](_0x39eb5c,_0x243047['condition'])):(_0x540fae[_0x26bdb9(0x5a8)][_0x26bdb9(0x413)](_0x243047[_0x26bdb9(0x238)]),_0x40fced=!0x0);}if(_0x40fced){_0x540fae['conditions'][_0x26bdb9(0x4ec)]((_0x45c752,_0x86e29)=>_0x45c752['order']>_0x86e29[_0x26bdb9(0x53c)]?0x1:_0x86e29['order']>_0x45c752[_0x26bdb9(0x53c)]?-0x1:0x0);for(let _0x575a67=0x0;_0x575a67<_0x540fae['conditions'][_0x26bdb9(0x4e4)];_0x575a67++)_0x540fae[_0x26bdb9(0x5a8)][_0x575a67][_0x26bdb9(0x53c)]=_0x575a67+0x1;_0x540fae['conditions'][_0x26bdb9(0x4e4)]>0x0&&(_0x540fae[_0x26bdb9(0x5a8)][0x0][_0x26bdb9(0x143)]=_0x26bdb9(0x1ab));}let _0x5e0dbb=await this[_0x26bdb9(0x6c9)][_0x26bdb9(0x3d0)][_0x26bdb9(0x608)](_0x540fae[_0x26bdb9(0x791)],_0x540fae,_0x8a7dc0);if(_0x5e0dbb&&_0x5e0dbb[_0x26bdb9(0x11e)]&&_0x5e0dbb['shareOwners'][_0x26bdb9(0x4e4)]>0x1&&_0x5e0dbb[_0x26bdb9(0x54a)]!=='sync'&&this['synchronizeFlows'](_0x5e0dbb[_0x26bdb9(0x791)],_0x8a7dc0),!_0x5e0dbb)throw new Error(_0x26bdb9(0x37a));return _0x5e0dbb;}catch(_0x3fc9c2){let _0x4418ea='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x3d4a93=_0x3fc9c2 instanceof Error?_0x3fc9c2[_0x26bdb9(0x806)]:typeof _0x3fc9c2==_0x26bdb9(0x3fc)?JSON[_0x26bdb9(0x3f5)](_0x3fc9c2):_0x3fc9c2,_0x36f863=_0x4418ea+':\x20'+_0x3d4a93;throw this[_0x26bdb9(0x767)][_0x26bdb9(0x2b4)](this[_0x26bdb9(0x20c)]+'\x20('+this['instance']['wuid']+_0x26bdb9(0x780)+_0x36f863),new m(_0x36f863);}}async['editFlowVaredit'](_0x1f2e34,_0x17d50a){const _0x30d335=a0_0x344519;try{this[_0x30d335(0x767)]['verbose'](this[_0x30d335(0x20c)]+'\x20('+this[_0x30d335(0x55b)][_0x30d335(0x2cc)]+_0x30d335(0x589));let _0x5c60dc=_0x1f2e34?.[_0x30d335(0x54a)][_0x30d335(0x774)]()===_0x30d335(0x145)?_0x30d335(0x54a):this[_0x30d335(0x55b)][_0x30d335(0x2cc)],_0x49ab4a=await this[_0x30d335(0x6c9)][_0x30d335(0x3d0)][_0x30d335(0x1a8)]({'where':{'name':_0x1f2e34[_0x30d335(0x731)]}},_0x5c60dc);if(!_0x49ab4a)throw new Error(_0x30d335(0x387));if(_0x49ab4a?.[_0x30d335(0x54a)]===_0x30d335(0x80e))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x17d50a!==te&&_0x49ab4a?.[_0x30d335(0x54a)]==='true'&&_0x49ab4a?.[_0x30d335(0x4b3)]!==this['instance'][_0x30d335(0x2cc)])throw new m(_0x30d335(0x294));let _0x1d46e7=!0x1;if(_0x1f2e34[_0x30d335(0x41c)]?.[_0x30d335(0x4ea)]===!0x0)_0x49ab4a[_0x30d335(0x411)]=_0x49ab4a[_0x30d335(0x411)][_0x30d335(0x414)](_0x5094a9=>_0x5094a9&&_0x1f2e34[_0x30d335(0x41c)]&&_0x5094a9[_0x30d335(0x791)]&&_0x1f2e34[_0x30d335(0x41c)][_0x30d335(0x791)]&&_0x5094a9['_id'][_0x30d335(0x2f6)]()!==_0x1f2e34[_0x30d335(0x41c)][_0x30d335(0x791)]['toString']()),_0x1d46e7=!0x0;else{let _0x2c37d6=_0x49ab4a[_0x30d335(0x411)][_0x30d335(0x1ee)](_0x5eb14b=>_0x5eb14b&&_0x1f2e34[_0x30d335(0x41c)]&&_0x5eb14b['_id']&&_0x1f2e34[_0x30d335(0x41c)]['_id']&&_0x5eb14b['_id']['toString']()===_0x1f2e34[_0x30d335(0x41c)][_0x30d335(0x791)][_0x30d335(0x2f6)]());_0x2c37d6?(_0x1d46e7=_0x2c37d6['order']!==_0x1f2e34['varedit'][_0x30d335(0x53c)],Object[_0x30d335(0x2d7)](_0x2c37d6,_0x1f2e34[_0x30d335(0x41c)])):(_0x49ab4a[_0x30d335(0x411)][_0x30d335(0x413)](_0x1f2e34[_0x30d335(0x41c)]),_0x1d46e7=!0x0);}if(_0x1d46e7){_0x49ab4a['varedits'][_0x30d335(0x4ec)]((_0x52fd1e,_0x2b2008)=>_0x52fd1e[_0x30d335(0x53c)]>_0x2b2008[_0x30d335(0x53c)]?0x1:_0x2b2008[_0x30d335(0x53c)]>_0x52fd1e['order']?-0x1:0x0);for(let _0x348233=0x0;_0x348233<_0x49ab4a[_0x30d335(0x411)][_0x30d335(0x4e4)];_0x348233++)_0x49ab4a[_0x30d335(0x411)][_0x348233]['order']=_0x348233+0x1;}let _0x16f95e=await this['repository'][_0x30d335(0x3d0)][_0x30d335(0x608)](_0x49ab4a[_0x30d335(0x791)],_0x49ab4a,_0x5c60dc);if(_0x16f95e&&_0x16f95e[_0x30d335(0x11e)]&&_0x16f95e['shareOwners'][_0x30d335(0x4e4)]>0x1&&_0x16f95e[_0x30d335(0x54a)]!==_0x30d335(0x80e)&&this[_0x30d335(0x4cf)](_0x16f95e['_id'],_0x5c60dc),!_0x16f95e)throw new Error(_0x30d335(0x37a));return _0x16f95e;}catch(_0x4f1681){let _0x3e9220='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x49f653=_0x4f1681 instanceof Error?_0x4f1681['message']:typeof _0x4f1681=='object'?JSON[_0x30d335(0x3f5)](_0x4f1681):_0x4f1681,_0x467cf1=_0x3e9220+':\x20'+_0x49f653;throw this['logger'][_0x30d335(0x2b4)](this[_0x30d335(0x20c)]+'\x20('+this['instance']['wuid']+_0x30d335(0x780)+_0x467cf1),new m(_0x467cf1);}}async[a0_0x344519(0x1d4)](_0xfc7616,_0x300381){const _0x8c9c62=a0_0x344519;try{this[_0x8c9c62(0x767)]['verbose'](this['instanceName']+'\x20('+this[_0x8c9c62(0x55b)][_0x8c9c62(0x2cc)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x5466b1=_0xfc7616?.['global'][_0x8c9c62(0x774)]()===_0x8c9c62(0x145)?_0x8c9c62(0x54a):this['instance']['wuid'],_0x48322b=await this[_0x8c9c62(0x6c9)]['flow'][_0x8c9c62(0x1a8)]({'where':{'name':_0xfc7616[_0x8c9c62(0x731)]}},_0x5466b1);if(!_0x48322b)throw new Error(_0x8c9c62(0x387));if(_0x48322b?.['global']===_0x8c9c62(0x80e))throw new m(_0x8c9c62(0x301));if(_0x300381!==te&&_0x48322b?.['global']==='true'&&_0x48322b?.[_0x8c9c62(0x4b3)]!==this[_0x8c9c62(0x55b)][_0x8c9c62(0x2cc)])throw new m(_0x8c9c62(0x294));if(_0x300381!==te&&_0x48322b?.[_0x8c9c62(0x54a)]==='true'&&_0x48322b?.[_0x8c9c62(0x4b3)]!==this[_0x8c9c62(0x55b)]['wuid'])throw new m(_0x8c9c62(0x294));_0xfc7616[_0x8c9c62(0x295)]['name']=_0xfc7616[_0x8c9c62(0x295)]['name'][_0x8c9c62(0x774)](),_0xfc7616['variable'][_0x8c9c62(0x731)]['startsWith']('_')&&(_0xfc7616[_0x8c9c62(0x295)]['name']=_0xfc7616['variable'][_0x8c9c62(0x731)][_0x8c9c62(0x812)](0x1)),_0xfc7616[_0x8c9c62(0x295)][_0x8c9c62(0x731)]=_0xfc7616[_0x8c9c62(0x295)][_0x8c9c62(0x731)]['trim']();let _0x3f2552=_0x48322b[_0x8c9c62(0x257)]['find'](_0x47c1fe=>_0x47c1fe[_0x8c9c62(0x731)]===_0xfc7616[_0x8c9c62(0x295)][_0x8c9c62(0x731)]);if(_0x3f2552?.[_0x8c9c62(0x3c7)]===!0x0)throw new Error(_0x8c9c62(0x4a5));if(_0xfc7616[_0x8c9c62(0x295)]?.[_0x8c9c62(0x4ea)]===!0x0){if(!_0x3f2552)return{'message':_0x8c9c62(0x7bd)};_0x48322b[_0x8c9c62(0x257)]=_0x48322b[_0x8c9c62(0x257)][_0x8c9c62(0x414)](_0x4f31f1=>_0x4f31f1['name']!==_0xfc7616[_0x8c9c62(0x295)]['name']);}else _0x3f2552?Object[_0x8c9c62(0x2d7)](_0x3f2552,_0xfc7616[_0x8c9c62(0x295)]):_0x48322b[_0x8c9c62(0x257)][_0x8c9c62(0x413)](_0xfc7616[_0x8c9c62(0x295)]);let _0x43b4d3=await this[_0x8c9c62(0x6c9)][_0x8c9c62(0x3d0)]['updateOne'](_0x48322b['_id'],_0x48322b,_0x5466b1);if(_0x43b4d3&&_0x43b4d3['shareOwners']&&_0x43b4d3[_0x8c9c62(0x11e)][_0x8c9c62(0x4e4)]>0x1&&_0x43b4d3['global']!=='sync'&&this[_0x8c9c62(0x4cf)](_0x43b4d3[_0x8c9c62(0x791)],_0x5466b1),!_0x43b4d3)throw new Error(_0x8c9c62(0x37a));return _0x43b4d3;}catch(_0x2dd202){let _0x11baea=_0x8c9c62(0x605),_0x3e2af0=_0x2dd202 instanceof Error?_0x2dd202['message']:typeof _0x2dd202=='object'?JSON[_0x8c9c62(0x3f5)](_0x2dd202):_0x2dd202,_0x50b949=_0x11baea+':\x20'+_0x3e2af0;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x8c9c62(0x55b)][_0x8c9c62(0x2cc)]+_0x8c9c62(0x780)+_0x50b949),new m(_0x50b949);}}async[a0_0x344519(0x125)](_0xa56b79){const _0x3404ee=a0_0x344519;let _0x3fee87=null;try{if(!this[_0x3404ee(0x46f)]?.['flowConfig']['enabled'])throw new m(_0x3404ee(0x700));this[_0x3404ee(0x767)][_0x3404ee(0x52e)](this[_0x3404ee(0x20c)]+'\x20('+this[_0x3404ee(0x55b)]['wuid']+_0x3404ee(0x55f));let _0x4f0230=(await this['whatsappNumber']({'numbers':[_0xa56b79['remoteJid']]}))[0x0];if(!_0x4f0230[_0x3404ee(0x15b)]&&!(0x0,f['isJidGroup'])(_0x4f0230[_0x3404ee(0x19d)])&&!_0x4f0230[_0x3404ee(0x19d)][_0x3404ee(0x5fb)](_0x3404ee(0x2c3)))throw _0x3fee87=JSON['stringify'](_0x4f0230,null,0x2),new m(_0x4f0230);let _0x5c60ce=await this[_0x3404ee(0x6c9)]['flow']['findOne']({'where':{'name':_0xa56b79[_0x3404ee(0x731)]}},this[_0x3404ee(0x55b)][_0x3404ee(0x2cc)]);if(!_0x5c60ce)return this[_0x3404ee(0x767)][_0x3404ee(0x2b4)](this[_0x3404ee(0x20c)]+'\x20('+this[_0x3404ee(0x55b)][_0x3404ee(0x2cc)]+_0x3404ee(0x32c)),{'message':_0x3404ee(0x387)};let _0x1efc6e=await this[_0x3404ee(0x45c)](_0x5c60ce,_0x4f0230[_0x3404ee(0x19d)],_0xa56b79[_0x3404ee(0x5f4)]);if(_0x1efc6e){this[_0x3404ee(0x767)][_0x3404ee(0x52e)](this[_0x3404ee(0x20c)]+'\x20('+this[_0x3404ee(0x55b)][_0x3404ee(0x2cc)]+_0x3404ee(0x64f));let _0x16fdc2=await this['NextBlock'](_0x1efc6e);return _0x16fdc2&&await this[_0x3404ee(0x1d2)](_0x1efc6e,_0x16fdc2),{'message':_0x3404ee(0x60c)+_0xa56b79['remoteJid']};}}catch(_0x26b628){if(this[_0x3404ee(0x767)][_0x3404ee(0x2b4)](this['instanceName']+'\x20('+this[_0x3404ee(0x55b)][_0x3404ee(0x2cc)]+_0x3404ee(0x5ef)+(_0x26b628 instanceof Error?_0x26b628[_0x3404ee(0x806)]:JSON[_0x3404ee(0x3f5)](_0x26b628,null,0x2))),_0x3fee87=_0x26b628 instanceof Error?_0x26b628[_0x3404ee(0x806)]:JSON[_0x3404ee(0x3f5)](_0x26b628,null,0x2),_0x3fee87)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x3fee87);}}async[a0_0x344519(0x571)](_0x2e22e2,_0x4ac95f,_0x487b74){const _0xaf3b93=a0_0x344519;let _0x156571=null;try{if(!this['AutomateSystem']?.[_0xaf3b93(0x3d6)]['enabled'])throw new m(_0xaf3b93(0x700));if(this[_0xaf3b93(0x767)]['verbose'](this[_0xaf3b93(0x20c)]+'\x20('+this[_0xaf3b93(0x55b)]['wuid']+_0xaf3b93(0x55f)),_0x4ac95f){let _0x52aff6=(await this['whatsappNumber']({'numbers':[_0x4ac95f]}))[0x0];if(!_0x52aff6[_0xaf3b93(0x15b)]&&!(0x0,f[_0xaf3b93(0x75b)])(_0x52aff6[_0xaf3b93(0x19d)])&&!_0x52aff6['jid']['includes'](_0xaf3b93(0x2c3)))throw _0x156571=JSON[_0xaf3b93(0x3f5)](_0x52aff6,null,0x2),new m(_0x52aff6);_0x4ac95f=_0x52aff6['jid'];}else _0x4ac95f||(_0x4ac95f=(0x0,Ce['v4'])());let _0x3b79ca=await this[_0xaf3b93(0x6c9)]['flow'][_0xaf3b93(0x1a8)]({'where':{'startID':_0x2e22e2}},this[_0xaf3b93(0x55b)][_0xaf3b93(0x2cc)]);if(!_0x3b79ca)throw this[_0xaf3b93(0x767)][_0xaf3b93(0x2b4)](this[_0xaf3b93(0x20c)]+'\x20('+this[_0xaf3b93(0x55b)][_0xaf3b93(0x2cc)]+'):\x20Flow\x20não\x20encontrado'),new m(_0xaf3b93(0x387));let _0x3f2e09=await this[_0xaf3b93(0x45c)](_0x3b79ca,_0x4ac95f,null);if(_0x3f2e09){this[_0xaf3b93(0x767)][_0xaf3b93(0x52e)](this['instanceName']+'\x20('+this[_0xaf3b93(0x55b)][_0xaf3b93(0x2cc)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x158b2c;if(_0x487b74){let _0x355610=_0x3f2e09['chatLog'][_0xaf3b93(0x326)],_0x632220=this[_0xaf3b93(0x337)](_0x487b74);Object['assign'](_0x355610,_0x632220),_0x3f2e09[_0xaf3b93(0x788)][_0xaf3b93(0x326)]=_0x355610,_0x158b2c={'error':!0x1,'apiResponse':_0x487b74};}let _0x5c93d6=await this[_0xaf3b93(0x67e)](_0x3f2e09);return _0x5c93d6&&await this[_0xaf3b93(0x1d2)](_0x3f2e09,_0x5c93d6),{'message':_0xaf3b93(0x2b2)};}}catch(_0x3d2407){if(this[_0xaf3b93(0x767)][_0xaf3b93(0x2b4)](this[_0xaf3b93(0x20c)]+'\x20('+this[_0xaf3b93(0x55b)]['wuid']+_0xaf3b93(0x5ef)+(_0x3d2407 instanceof Error?_0x3d2407[_0xaf3b93(0x806)]:JSON[_0xaf3b93(0x3f5)](_0x3d2407,null,0x2))),_0x156571=_0x3d2407 instanceof Error?_0x3d2407[_0xaf3b93(0x806)]:JSON[_0xaf3b93(0x3f5)](_0x3d2407,null,0x2),_0x156571)throw new m(_0xaf3b93(0x51c)+_0x156571);}}async[a0_0x344519(0x358)](_0x5c9664){const _0x8cee01=a0_0x344519;try{let _0x40dee5={'remoteJid':_0x5c9664,'status':_0x8cee01(0x1fe)},_0x3cb4e0={'status':_0x8cee01(0x6e4)},_0x47e840=await this['repository'][_0x8cee01(0x35a)][_0x8cee01(0x164)](_0x40dee5,_0x3cb4e0,this[_0x8cee01(0x55b)][_0x8cee01(0x2cc)]);return this[_0x8cee01(0x767)][_0x8cee01(0x52e)](this[_0x8cee01(0x20c)]+'\x20('+this[_0x8cee01(0x55b)][_0x8cee01(0x2cc)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x47e840;}catch(_0x1968b0){throw this['logger']['error'](this[_0x8cee01(0x20c)]+'\x20('+this[_0x8cee01(0x55b)][_0x8cee01(0x2cc)]+_0x8cee01(0x501)+_0x1968b0[_0x8cee01(0x806)]),_0x1968b0;}}async[a0_0x344519(0x45c)](_0x53285d,_0x253563,_0x2a5866){const _0x39b8f2=a0_0x344519;this[_0x39b8f2(0x767)][_0x39b8f2(0x52e)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x39b8f2(0x819)),await this[_0x39b8f2(0x358)](_0x253563);try{let _0x42329d=require('mongodb')[_0x39b8f2(0x62a)],_0x36f920=Date[_0x39b8f2(0x6c7)](),_0x527ed5=_0x39b8f2(0x190),_0x5c94d3={},_0x52f427={},_0x4ae149={..._0x53285d,'chatLog':null},_0x364cf9=await this['variablesToObject'](_0x4ae149[_0x39b8f2(0x257)]),_0x4ed298=await this[_0x39b8f2(0x521)](_0x253563),_0x45b8ee={..._0x364cf9,..._0x4ed298,'_remoteJid':_0x253563},_0x494c1f={'lastReceivedMessage':_0x5c94d3,'lastSendMessage':_0x52f427,'lastBlockId':_0x527ed5,'lastCondition':!0x0,'realVariables':_0x45b8ee};_0x4ae149['chatLog']=_0x494c1f,_0x4ae149[_0x39b8f2(0x788)]['realVariables']={..._0x45b8ee,..._0x2a5866},delete _0x4ae149['_id'],_0x4ae149[_0x39b8f2(0x791)]=new _0x42329d(),_0x4ae149[_0x39b8f2(0x432)]=_0x36f920,_0x4ae149['status']='open',_0x4ae149['remoteJid']=_0x253563;let _0x496bf0=await this[_0x39b8f2(0x6c9)]['flowConversation'][_0x39b8f2(0x608)](_0x4ae149[_0x39b8f2(0x791)],_0x4ae149,this[_0x39b8f2(0x55b)][_0x39b8f2(0x2cc)]);return this[_0x39b8f2(0x767)][_0x39b8f2(0x52e)](this[_0x39b8f2(0x20c)]+'\x20('+this['instance']['wuid']+_0x39b8f2(0x3bf)),_0x496bf0?_0x4ae149:null;}catch(_0x554b71){let _0x25e3ed=_0x39b8f2(0x804),_0x19cafc=_0x554b71 instanceof Error?_0x554b71['message']:typeof _0x554b71==_0x39b8f2(0x3fc)?JSON['stringify'](_0x554b71):_0x554b71,_0xfadf38=_0x25e3ed+':\x20'+_0x19cafc;throw this[_0x39b8f2(0x767)][_0x39b8f2(0x2b4)](this[_0x39b8f2(0x20c)]+'\x20('+this[_0x39b8f2(0x55b)][_0x39b8f2(0x2cc)]+'):\x20'+_0xfadf38),new m(_0xfadf38);}}async[a0_0x344519(0x7b1)](_0x46939d){const _0x3eea9a=a0_0x344519;try{this['logger']['verbose'](this[_0x3eea9a(0x20c)]+'\x20('+this['instance'][_0x3eea9a(0x2cc)]+_0x3eea9a(0x169)),this[_0x3eea9a(0x767)]['verbose'](this[_0x3eea9a(0x20c)]+'\x20('+this['instance'][_0x3eea9a(0x2cc)]+'):\x20Query\x20params:\x20'+_0x46939d);let _0x18ebfe={'where':{'_id':_0x46939d}};return await this[_0x3eea9a(0x6c9)][_0x3eea9a(0x35a)][_0x3eea9a(0x1a8)](_0x18ebfe,this[_0x3eea9a(0x55b)]['wuid']);}catch(_0x21bd26){let _0x3ff188='Erro\x20ao\x20buscar\x20a\x20conversa',_0xe17b78=_0x21bd26 instanceof Error?_0x21bd26['message']:typeof _0x21bd26==_0x3eea9a(0x3fc)?JSON[_0x3eea9a(0x3f5)](_0x21bd26):_0x21bd26,_0x57b602=_0x3ff188+':\x20'+_0xe17b78;throw this[_0x3eea9a(0x767)]['error'](this[_0x3eea9a(0x20c)]+'\x20('+this[_0x3eea9a(0x55b)][_0x3eea9a(0x2cc)]+_0x3eea9a(0x780)+_0x57b602),new m(_0x57b602);}}async[a0_0x344519(0x57a)](_0x2d19c3){const _0x30075e=a0_0x344519;try{return this['logger'][_0x30075e(0x52e)](this[_0x30075e(0x20c)]+'\x20('+this[_0x30075e(0x55b)]['wuid']+_0x30075e(0x1c6)),await this[_0x30075e(0x6c9)][_0x30075e(0x35a)][_0x30075e(0x1ee)](_0x2d19c3,this['instance'][_0x30075e(0x2cc)]);}catch(_0x33ffc2){let _0xed7fdc=_0x30075e(0x43c),_0x10790f=_0x33ffc2 instanceof Error?_0x33ffc2[_0x30075e(0x806)]:typeof _0x33ffc2==_0x30075e(0x3fc)?JSON['stringify'](_0x33ffc2):_0x33ffc2,_0x3cc08f=_0xed7fdc+':\x20'+_0x10790f;throw this['logger'][_0x30075e(0x2b4)](this[_0x30075e(0x20c)]+'\x20('+this[_0x30075e(0x55b)][_0x30075e(0x2cc)]+'):\x20'+_0x3cc08f),new m(_0x3cc08f);}}async['deleteConversation'](_0x22d7b9){const _0x2743bf=a0_0x344519;try{return this[_0x2743bf(0x767)]['verbose'](this[_0x2743bf(0x20c)]+'\x20('+this[_0x2743bf(0x55b)][_0x2743bf(0x2cc)]+'):\x20Deletando\x20conversa...'),this[_0x2743bf(0x767)][_0x2743bf(0x52e)](this[_0x2743bf(0x20c)]+'\x20('+this['instance'][_0x2743bf(0x2cc)]+_0x2743bf(0x4be)+_0x22d7b9),(await this['repository'][_0x2743bf(0x35a)][_0x2743bf(0x2bd)]({'where':{'_id':_0x22d7b9['_id']}},this[_0x2743bf(0x55b)][_0x2743bf(0x2cc)]))[_0x2743bf(0x6f1)]===0x0?{'message':_0x2743bf(0x7a4)}:{'message':_0x2743bf(0x5b7)};}catch(_0x56ec1d){let _0x568e33=_0x2743bf(0x353),_0x499414=_0x56ec1d instanceof Error?_0x56ec1d['message']:typeof _0x56ec1d==_0x2743bf(0x3fc)?JSON[_0x2743bf(0x3f5)](_0x56ec1d):_0x56ec1d,_0x260b45=_0x568e33+':\x20'+_0x499414;throw this[_0x2743bf(0x767)][_0x2743bf(0x2b4)](this[_0x2743bf(0x20c)]+'\x20('+this[_0x2743bf(0x55b)][_0x2743bf(0x2cc)]+_0x2743bf(0x780)+_0x260b45),new m(_0x260b45);}}async['editConversation'](_0x54ad3b){const _0x3561fb=a0_0x344519;try{let {_id:_0x423f0f,chatLog:_0x38ad1a,status:_0x24253e}=_0x54ad3b;if(!_0x423f0f)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x44eaad={};if(_0x24253e!==void 0x0&&(_0x44eaad[_0x3561fb(0x197)]=_0x24253e),Object[_0x3561fb(0x6cc)](_0x44eaad)[_0x3561fb(0x4e4)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x2e0715=await this[_0x3561fb(0x6c9)][_0x3561fb(0x35a)][_0x3561fb(0x608)](_0x423f0f,_0x44eaad,this['instance'][_0x3561fb(0x2cc)]);return _0x2e0715||{'message':_0x3561fb(0x31e)};}catch(_0x2d9073){let _0x1f8256=_0x3561fb(0x655),_0x2a011a=_0x2d9073 instanceof Error?_0x2d9073[_0x3561fb(0x806)]:typeof _0x2d9073==_0x3561fb(0x3fc)?JSON[_0x3561fb(0x3f5)](_0x2d9073):_0x2d9073,_0x3f4c35=_0x1f8256+':\x20'+_0x2a011a;throw this[_0x3561fb(0x767)][_0x3561fb(0x2b4)](this[_0x3561fb(0x20c)]+'\x20('+this[_0x3561fb(0x55b)][_0x3561fb(0x2cc)]+'):\x20'+_0x3f4c35),new m(_0x3f4c35);}}async[a0_0x344519(0x6d9)](_0x2e3fc3){const _0x3a71c2=a0_0x344519;try{_0x2e3fc3['_id']=this[_0x3a71c2(0x61e)](_0x2e3fc3[_0x3a71c2(0x791)]);let _0x47134d=await this['repository']['chat'][_0x3a71c2(0x1a8)]({'where':{'_id':_0x2e3fc3[_0x3a71c2(0x791)]}},this[_0x3a71c2(0x55b)]['wuid']);if(!_0x47134d)throw new m(_0x3a71c2(0x24e));let {_id:_0x13d363,leadInfo:_0x48d532}=_0x2e3fc3;if(!_0x13d363)throw new Error(_0x3a71c2(0x763));if(_0x2e3fc3[_0x3a71c2(0x4ea)]==='all')return await this['deleteChat'](_0x2e3fc3['_id']),await this['repository'][_0x3a71c2(0x351)][_0x3a71c2(0x4ea)]({'where':{'_id':_0x2e3fc3[_0x3a71c2(0x791)]}},this[_0x3a71c2(0x55b)][_0x3a71c2(0x2cc)]),await this['repository'][_0x3a71c2(0x806)][_0x3a71c2(0x4ea)]({'where':{'key':{'remoteJid':_0x2e3fc3[_0x3a71c2(0x791)]}}},this['instance'][_0x3a71c2(0x2cc)]),_0x2e3fc3=await this['repository'][_0x3a71c2(0x351)]['updateOne']({'where':{'_id':_0x2e3fc3[_0x3a71c2(0x791)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3a71c2(0x55b)][_0x3a71c2(0x2cc)]),J(this['instanceName'],'chats',{'chat':_0x2e3fc3}),{'message':_0x3a71c2(0x44f)};if(_0x2e3fc3[_0x3a71c2(0x4ea)]===_0x3a71c2(0x5d1))return await this[_0x3a71c2(0x6c9)][_0x3a71c2(0x806)][_0x3a71c2(0x4ea)]({'where':{'key':{'remoteJid':_0x2e3fc3[_0x3a71c2(0x791)]}}},this['instance'][_0x3a71c2(0x2cc)]),_0x2e3fc3=await this[_0x3a71c2(0x6c9)][_0x3a71c2(0x351)][_0x3a71c2(0x608)]({'where':{'_id':_0x2e3fc3[_0x3a71c2(0x791)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3a71c2(0x55b)][_0x3a71c2(0x2cc)]),J(this['instanceName'],'chats',{'chat':_0x2e3fc3}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x1446a1=(_0x21fd0d,_0x3dfee4,_0x31339e)=>{_0x21fd0d&&_0x31339e['forEach'](_0x18bbed=>{_0x21fd0d[_0x18bbed]!==void 0x0&&(_0x3dfee4['leadInfo.'+_0x18bbed]=_0x21fd0d[_0x18bbed]);});},_0x1b86eb={};if(_0x3a71c2(0x6a3)in _0x2e3fc3&&(this[_0x3a71c2(0x767)][_0x3a71c2(0x52e)](_0x3a71c2(0x271)+_0x2e3fc3[_0x3a71c2(0x791)]),_0x2e3fc3[_0x3a71c2(0x6a3)]=_0x2e3fc3[_0x3a71c2(0x6a3)]===0x0?null:-0x1,await this['client'][_0x3a71c2(0x7b8)]({'mute':_0x2e3fc3[_0x3a71c2(0x6a3)]},_0x2e3fc3[_0x3a71c2(0x791)]),_0x1b86eb[_0x3a71c2(0x6a3)]=Number(_0x2e3fc3['muteEndTime'])),_0x48d532&&(_0x1446a1(_0x48d532,_0x1b86eb,[_0x3a71c2(0x607),'nomecompleto','email','cpf',_0x3a71c2(0x197),_0x3a71c2(0x249),_0x3a71c2(0x106),_0x3a71c2(0x6cd),_0x3a71c2(0x7af),_0x3a71c2(0x1b0)]),Array[_0x3a71c2(0x635)](_0x48d532[_0x3a71c2(0x1c3)])&&(_0x1b86eb[_0x3a71c2(0x23c)]=_0x48d532['customFields'][_0x3a71c2(0x41f)](_0x3e0696=>({'_id':_0x3e0696[_0x3a71c2(0x791)],'value':_0x3e0696[_0x3a71c2(0x214)]}))),_0x2e3fc3[_0x3a71c2(0x3c7)][_0x3a71c2(0x1b0)]!==void 0x0)){let _0x50bcc4=await this[_0x3a71c2(0x6c9)][_0x3a71c2(0x114)][_0x3a71c2(0x1ee)]({'where':{}},this[_0x3a71c2(0x55b)][_0x3a71c2(0x2cc)]),_0x30058f=new Set(_0x2e3fc3[_0x3a71c2(0x3c7)][_0x3a71c2(0x1b0)]||[]),_0x97f54d=new Set(_0x2e3fc3['leadInfo'][_0x3a71c2(0x1b0)]),_0x44ac04=new Set(_0x50bcc4[_0x3a71c2(0x41f)](_0x1fe0b8=>_0x1fe0b8['_id'])),_0xd79bea=[..._0x97f54d]['filter'](_0x594e7d=>!_0x30058f['has'](_0x594e7d)&&_0x44ac04[_0x3a71c2(0x2dd)](_0x594e7d)),_0x39e6eb=[..._0x30058f][_0x3a71c2(0x414)](_0x460605=>!_0x97f54d['has'](_0x460605));if(_0x1b86eb[_0x3a71c2(0x6a7)]=[..._0x30058f],_0x47134d&&!_0x47134d[_0x3a71c2(0x2e3)]){for(let _0x4f659f of _0xd79bea)await this[_0x3a71c2(0x6e8)](_0x4f659f,_0x2e3fc3[_0x3a71c2(0x791)]),_0x30058f['add'](_0x4f659f);for(let _0x4e6dd1 of _0x39e6eb)await this['RemoveChatLabel'](_0x4e6dd1,_0x2e3fc3['_id']),_0x30058f[_0x3a71c2(0x4ea)](_0x4e6dd1);}}if(_0x2e3fc3[_0x3a71c2(0x32e)]!==void 0x0&&(_0x1b86eb['unreadcount']=Number(_0x2e3fc3[_0x3a71c2(0x32e)])),Object['keys'](_0x1b86eb)[_0x3a71c2(0x4e4)]===0x0)throw new Error(_0x3a71c2(0x250));let _0x331c46=await this['repository'][_0x3a71c2(0x351)][_0x3a71c2(0x608)]({'where':{'_id':_0x2e3fc3[_0x3a71c2(0x791)]}},_0x1b86eb,this[_0x3a71c2(0x55b)][_0x3a71c2(0x2cc)]);return _0x331c46&&J(this[_0x3a71c2(0x20c)],_0x3a71c2(0x1c9),{'chat':_0x331c46}),_0x331c46?(this[_0x3a71c2(0x767)][_0x3a71c2(0x52e)](this[_0x3a71c2(0x20c)]+'\x20('+this[_0x3a71c2(0x55b)][_0x3a71c2(0x2cc)]+'):\x20'+JSON['stringify'](_0x331c46,null,0x2)),_0x331c46):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x3ca6a3){let _0x416523=_0x3a71c2(0x370),_0x3a8254=_0x3ca6a3 instanceof Error?_0x3ca6a3[_0x3a71c2(0x806)]:typeof _0x3ca6a3=='object'?JSON[_0x3a71c2(0x3f5)](_0x3ca6a3):_0x3ca6a3,_0x2be193=_0x416523+':\x20'+_0x3a8254;throw this[_0x3a71c2(0x767)][_0x3a71c2(0x2b4)](this[_0x3a71c2(0x20c)]+'\x20('+this[_0x3a71c2(0x55b)][_0x3a71c2(0x2cc)]+'):\x20'+_0x2be193),new m(_0x2be193);}}async['AddChatLabel'](_0x160608,_0x2f7a46){const _0x399532=a0_0x344519;try{await this[_0x399532(0x24b)][_0x399532(0x2ce)](_0x2f7a46,_0x160608),this[_0x399532(0x767)][_0x399532(0x1af)](this[_0x399532(0x20c)]+'\x20('+this[_0x399532(0x55b)][_0x399532(0x2cc)]+'):\x20Label\x20'+_0x160608+_0x399532(0x6f0)+_0x2f7a46+_0x399532(0x480));}catch(_0x3c12e3){console[_0x399532(0x2b4)](_0x399532(0x786)+_0x160608+_0x399532(0x1e7)+_0x2f7a46+':',_0x3c12e3);}}async[a0_0x344519(0x31d)](_0x32f1e4,_0x50aec9){const _0x211896=a0_0x344519;try{await this['client']['removeChatLabel'](_0x50aec9,_0x32f1e4),this[_0x211896(0x767)][_0x211896(0x1af)](this[_0x211896(0x20c)]+'\x20('+this[_0x211896(0x55b)]['wuid']+_0x211896(0x631)+_0x32f1e4+_0x211896(0x1e5)+_0x50aec9+_0x211896(0x480));}catch(_0x108420){console[_0x211896(0x2b4)]('Erro\x20ao\x20remover\x20label\x20'+_0x32f1e4+_0x211896(0x37f)+_0x50aec9+':',_0x108420);}}async['updateAgent'](_0x1e9b06){const _0x1b71b3=a0_0x344519;try{let _0x59ac3e=await this[_0x1b71b3(0x6c9)][_0x1b71b3(0x1b7)][_0x1b71b3(0x314)](this[_0x1b71b3(0x55b)][_0x1b71b3(0x2cc)]),_0x5e166d=_0x1e9b06[_0x1b71b3(0x791)]?_0x59ac3e['agents'][_0x1b71b3(0x3ea)](_0x436c58=>_0x436c58[_0x1b71b3(0x791)]===_0x1e9b06[_0x1b71b3(0x791)]):-0x1;if(_0x1e9b06[_0x1b71b3(0x4ea)]&&_0x5e166d>-0x1)_0x59ac3e['agents'][_0x1b71b3(0x16b)](_0x5e166d,0x1);else{if(_0x5e166d>-0x1){let _0x5135fd=_0x59ac3e[_0x1b71b3(0x450)][_0x5e166d];_0x1e9b06[_0x1b71b3(0x4cc)]&&(_0x5135fd[_0x1b71b3(0x4cc)]=_0x1e9b06['fone']),_0x1e9b06[_0x1b71b3(0x731)]&&(_0x5135fd[_0x1b71b3(0x731)]=_0x1e9b06[_0x1b71b3(0x731)]),_0x1e9b06[_0x1b71b3(0x48d)]&&(_0x5135fd[_0x1b71b3(0x48d)]=_0x1e9b06[_0x1b71b3(0x48d)]),_0x1e9b06['role']&&(_0x5135fd[_0x1b71b3(0x252)]=_0x1e9b06[_0x1b71b3(0x252)]);}else _0x59ac3e[_0x1b71b3(0x450)][_0x1b71b3(0x413)]({'_id':_0x1e9b06[_0x1b71b3(0x791)]||new ie[(_0x1b71b3(0x10d))][(_0x1b71b3(0x2b7))][(_0x1b71b3(0x62a))]()[_0x1b71b3(0x2f6)](),'fone':_0x1e9b06[_0x1b71b3(0x4cc)],'name':_0x1e9b06[_0x1b71b3(0x731)],'email':_0x1e9b06[_0x1b71b3(0x48d)],'role':_0x1e9b06[_0x1b71b3(0x252)]});}let _0x256278={'agents':_0x59ac3e[_0x1b71b3(0x450)]},_0x4bb042=await this[_0x1b71b3(0x6c9)]['automateSystem']['update'](_0x256278,this[_0x1b71b3(0x55b)][_0x1b71b3(0x2cc)]);return this[_0x1b71b3(0x46f)]=_0x4bb042,this[_0x1b71b3(0x767)][_0x1b71b3(0x52e)](this[_0x1b71b3(0x20c)]+'\x20('+this[_0x1b71b3(0x55b)][_0x1b71b3(0x2cc)]+_0x1b71b3(0x772)),this['logger'][_0x1b71b3(0x52e)](this['instanceName']+'\x20('+this[_0x1b71b3(0x55b)][_0x1b71b3(0x2cc)]+_0x1b71b3(0x780)+this[_0x1b71b3(0x46f)]),_0x4bb042;}catch(_0x25a17d){let _0x6698e1=_0x1b71b3(0x56b),_0x517fc4=_0x25a17d instanceof Error?_0x25a17d['message']:typeof _0x25a17d=='object'?JSON[_0x1b71b3(0x3f5)](_0x25a17d):_0x25a17d,_0x26beaa=_0x6698e1+':\x20'+_0x517fc4;throw this['logger'][_0x1b71b3(0x2b4)](this[_0x1b71b3(0x20c)]+'\x20('+this[_0x1b71b3(0x55b)][_0x1b71b3(0x2cc)]+_0x1b71b3(0x780)+_0x26beaa),new m(_0x26beaa);}}async[a0_0x344519(0x7ad)](_0x16ee2b){const _0x25084b=a0_0x344519;try{let _0x12f9cc=await this[_0x25084b(0x6c9)][_0x25084b(0x1b7)][_0x25084b(0x314)](this[_0x25084b(0x55b)][_0x25084b(0x2cc)]),_0x51011f=_0x16ee2b[_0x25084b(0x791)]?_0x12f9cc['customFields'][_0x25084b(0x3ea)](_0x3b4d87=>_0x3b4d87[_0x25084b(0x791)]===_0x16ee2b[_0x25084b(0x791)]):-0x1,_0x5caefa=!0x1,_0xd95dfb=_0x12f9cc[_0x25084b(0x1c3)][_0x25084b(0x19f)](_0x2bf1e2=>_0x2bf1e2[_0x25084b(0x53c)]===_0x16ee2b['order']);if(_0x16ee2b['delete']&&_0x51011f>-0x1)_0x12f9cc['customFields'][_0x25084b(0x16b)](_0x51011f,0x1),_0x5caefa=!0x0;else{if(_0x51011f>-0x1){if(_0x12f9cc['customFields'][_0x25084b(0x19f)](_0x387f16=>_0x387f16[_0x25084b(0x731)]===_0x16ee2b[_0x25084b(0x731)]&&_0x387f16[_0x25084b(0x791)]!==_0x16ee2b['_id']))throw new Error(_0x25084b(0x303));let _0x5b4bfd=_0x12f9cc[_0x25084b(0x1c3)][_0x51011f];_0x16ee2b[_0x25084b(0x53c)]&&(_0xd95dfb||!Number[_0x25084b(0x7f2)](_0x16ee2b[_0x25084b(0x53c)]))&&(_0x5b4bfd[_0x25084b(0x53c)]=_0x16ee2b[_0x25084b(0x53c)],_0x5caefa=!0x0),_0x16ee2b['name']&&(_0x5b4bfd['name']=_0x16ee2b[_0x25084b(0x731)]);}else{if(_0x12f9cc[_0x25084b(0x1c3)][_0x25084b(0x19f)](_0x47b36c=>_0x47b36c[_0x25084b(0x731)]===_0x16ee2b[_0x25084b(0x731)]&&_0x47b36c['_id']!==_0x16ee2b['_id']))throw new Error(_0x25084b(0x303));_0x12f9cc[_0x25084b(0x1c3)][_0x25084b(0x413)]({'_id':_0x16ee2b[_0x25084b(0x791)]||new ie[(_0x25084b(0x10d))][(_0x25084b(0x2b7))][(_0x25084b(0x62a))]()[_0x25084b(0x2f6)](),'order':_0x16ee2b[_0x25084b(0x53c)],'name':_0x16ee2b[_0x25084b(0x731)]}),_0x5caefa=!0x0;}}if(_0x5caefa){_0x12f9cc[_0x25084b(0x1c3)]['sort']((_0x233b08,_0x4f1922)=>_0x233b08[_0x25084b(0x53c)]>_0x4f1922[_0x25084b(0x53c)]?0x1:_0x4f1922[_0x25084b(0x53c)]>_0x233b08[_0x25084b(0x53c)]?-0x1:0x0);for(let _0x219b62=0x0;_0x219b62<_0x12f9cc[_0x25084b(0x1c3)][_0x25084b(0x4e4)];_0x219b62++)_0x12f9cc[_0x25084b(0x1c3)][_0x219b62]['order']=_0x219b62+0x1;}let _0x1676f5=await this[_0x25084b(0x6c9)][_0x25084b(0x1b7)][_0x25084b(0x729)](_0x12f9cc,this[_0x25084b(0x55b)]['wuid']);return this[_0x25084b(0x46f)]=_0x1676f5,this[_0x25084b(0x767)][_0x25084b(0x52e)](this[_0x25084b(0x20c)]+'\x20('+this[_0x25084b(0x55b)]['wuid']+_0x25084b(0x64a)),this[_0x25084b(0x767)][_0x25084b(0x52e)](this[_0x25084b(0x20c)]+'\x20('+this[_0x25084b(0x55b)][_0x25084b(0x2cc)]+_0x25084b(0x780)+this[_0x25084b(0x46f)]),_0x1676f5;}catch(_0x34fbd7){let _0x79842e=_0x25084b(0x2a0),_0x1e6f38=_0x34fbd7 instanceof Error?_0x34fbd7[_0x25084b(0x806)]:typeof _0x34fbd7==_0x25084b(0x3fc)?JSON['stringify'](_0x34fbd7):_0x34fbd7,_0x1408bd=_0x79842e+':\x20'+_0x1e6f38;throw this[_0x25084b(0x767)][_0x25084b(0x2b4)](this['instanceName']+'\x20('+this[_0x25084b(0x55b)][_0x25084b(0x2cc)]+'):\x20'+_0x1408bd),new m(_0x1408bd);}}async[a0_0x344519(0x5b2)](_0x4a837f){const _0x4db9d2=a0_0x344519;try{let _0xc2c56c=await this[_0x4db9d2(0x6c9)][_0x4db9d2(0x1b7)][_0x4db9d2(0x314)](this[_0x4db9d2(0x55b)][_0x4db9d2(0x2cc)]),_0x3c0003=_0xc2c56c?.['autoCompleteMessages']?.[_0x4db9d2(0x3ea)](_0x22b006=>_0x22b006[_0x4db9d2(0x791)]===_0x4a837f?.[_0x4db9d2(0x791)]);if(_0x4a837f?.[_0x4db9d2(0x4ea)])_0x3c0003>-0x1&&_0xc2c56c?.['autoCompleteMessages']?.[_0x4db9d2(0x16b)](_0x3c0003,0x1);else{if(_0x3c0003>-0x1){let _0x23ceba=_0xc2c56c[_0x4db9d2(0x203)][_0x3c0003];_0x23ceba[_0x4db9d2(0x53c)]=_0x4a837f?.[_0x4db9d2(0x53c)]||_0x23ceba[_0x4db9d2(0x53c)],_0x23ceba['command']=_0x4a837f?.[_0x4db9d2(0x6e5)]||_0x23ceba[_0x4db9d2(0x6e5)],_0x23ceba['message']=_0x4a837f?.[_0x4db9d2(0x806)]||_0x23ceba['message'];}else{let _0x28ccd6={'_id':_0x4a837f?.['_id']||new ie['default'][(_0x4db9d2(0x2b7))][(_0x4db9d2(0x62a))]()[_0x4db9d2(0x2f6)](),'order':_0x4a837f?.[_0x4db9d2(0x53c)],'command':_0x4a837f?.['command'],'message':_0x4a837f?.[_0x4db9d2(0x806)]};_0xc2c56c?.['autoCompleteMessages']?.['push'](_0x28ccd6);}}_0xc2c56c?.['autoCompleteMessages']?.[_0x4db9d2(0x4ec)]((_0x112fc2,_0x362193)=>_0x112fc2[_0x4db9d2(0x53c)]-_0x362193[_0x4db9d2(0x53c)]);let _0x4bf49b=await this['repository'][_0x4db9d2(0x1b7)][_0x4db9d2(0x729)](_0xc2c56c,this[_0x4db9d2(0x55b)]['wuid']);return this[_0x4db9d2(0x46f)]=_0x4bf49b,this[_0x4db9d2(0x767)][_0x4db9d2(0x52e)](this[_0x4db9d2(0x20c)]+'\x20('+this[_0x4db9d2(0x55b)][_0x4db9d2(0x2cc)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x4bf49b;}catch(_0x12a308){let _0x3509a7='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x5d2089=_0x12a308 instanceof Error?_0x12a308[_0x4db9d2(0x806)]:typeof _0x12a308==_0x4db9d2(0x3fc)?JSON['stringify'](_0x12a308):_0x12a308,_0xbf86de=_0x3509a7+':\x20'+_0x5d2089;throw this[_0x4db9d2(0x767)]['error'](this[_0x4db9d2(0x20c)]+'\x20('+this['instance']['wuid']+'):\x20'+_0xbf86de),new m(_0xbf86de);}}async[a0_0x344519(0x13f)](_0x58b9fd){const _0x13ee3e=a0_0x344519;try{let _0x882fc5=await this[_0x13ee3e(0x6c9)][_0x13ee3e(0x1b7)][_0x13ee3e(0x314)](this[_0x13ee3e(0x55b)][_0x13ee3e(0x2cc)]);if(!_0x882fc5)throw new Error(_0x13ee3e(0x412));let _0x4e03df={'_id':_0x882fc5[_0x13ee3e(0x791)],'flowConfig':{'enabled':_0x58b9fd['enabled']??_0x882fc5[_0x13ee3e(0x3d6)]['enabled'],'ignoreGroups':_0x58b9fd[_0x13ee3e(0x5a3)]??_0x882fc5[_0x13ee3e(0x3d6)][_0x13ee3e(0x5a3)],'prefixCommand':_0x58b9fd[_0x13ee3e(0x7c0)]??_0x882fc5['flowConfig']['prefixCommand'],'stopConversation':_0x58b9fd[_0x13ee3e(0x279)]??_0x882fc5[_0x13ee3e(0x3d6)][_0x13ee3e(0x279)],'stopMinutes':_0x58b9fd['stopMinutes']??_0x882fc5['flowConfig'][_0x13ee3e(0x382)],'stopWhenYouSendMsg':_0x58b9fd[_0x13ee3e(0x818)]??_0x882fc5['flowConfig'][_0x13ee3e(0x818)]}},_0x5bea79=await this[_0x13ee3e(0x6c9)]['automateSystem'][_0x13ee3e(0x729)](_0x4e03df,this[_0x13ee3e(0x55b)]['wuid']);return this[_0x13ee3e(0x46f)]=_0x5bea79,this[_0x13ee3e(0x767)][_0x13ee3e(0x52e)](this[_0x13ee3e(0x20c)]+'\x20('+this[_0x13ee3e(0x55b)][_0x13ee3e(0x2cc)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x13ee3e(0x52e)](this['instanceName']+'\x20('+this[_0x13ee3e(0x55b)][_0x13ee3e(0x2cc)]+_0x13ee3e(0x780)+this[_0x13ee3e(0x46f)]),setTimeout(()=>this[_0x13ee3e(0x297)](),0x7d0),_0x5bea79;}catch(_0x48a088){let _0x369bdb=_0x13ee3e(0x4bb),_0x32df90=_0x48a088 instanceof Error?_0x48a088['message']:typeof _0x48a088==_0x13ee3e(0x3fc)?JSON[_0x13ee3e(0x3f5)](_0x48a088):_0x48a088,_0x51ba4a=_0x369bdb+':\x20'+_0x32df90;throw this[_0x13ee3e(0x767)][_0x13ee3e(0x2b4)](this['instanceName']+'\x20('+this['instance'][_0x13ee3e(0x2cc)]+'):\x20'+_0x51ba4a),new m(_0x51ba4a);}}async['getAutomateSystem'](){const _0x8b6672=a0_0x344519;try{let _0xaebb26=await this[_0x8b6672(0x6c9)]['automateSystem'][_0x8b6672(0x314)](this[_0x8b6672(0x55b)][_0x8b6672(0x2cc)]);return this['AutomateSystem']=_0xaebb26,this[_0x8b6672(0x767)][_0x8b6672(0x52e)](this[_0x8b6672(0x20c)]+'\x20('+this[_0x8b6672(0x55b)][_0x8b6672(0x2cc)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x8b6672(0x767)]['verbose'](this['AutomateSystem']),_0xaebb26;}catch(_0x46664b){let _0x1a499f='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x22242a=_0x46664b instanceof Error?_0x46664b['message']:typeof _0x46664b=='object'?JSON[_0x8b6672(0x3f5)](_0x46664b):_0x46664b,_0x49775b=_0x1a499f+':\x20'+_0x22242a;throw this[_0x8b6672(0x767)][_0x8b6672(0x2b4)](this[_0x8b6672(0x20c)]+'\x20('+this[_0x8b6672(0x55b)][_0x8b6672(0x2cc)]+_0x8b6672(0x780)+_0x49775b),new m(_0x49775b);}}async[a0_0x344519(0x70f)](){const _0x595906=a0_0x344519;this[_0x595906(0x55b)][_0x595906(0x1d6)][_0x595906(0x170)]&&clearTimeout(this['instance'][_0x595906(0x1d6)][_0x595906(0x170)]),this[_0x595906(0x55b)]['ScheduleMessage'][_0x595906(0x170)]=setTimeout(()=>{const _0x5cc0e9=_0x595906;this[_0x5cc0e9(0x397)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x344519(0x397)](){const _0x474f6e=a0_0x344519;Date[_0x474f6e(0x6c7)]()-this[_0x474f6e(0x55b)][_0x474f6e(0x1d6)]['lastSend']>=0x1d4c0&&(this[_0x474f6e(0x767)]['verbose'](this[_0x474f6e(0x20c)]+'\x20('+this[_0x474f6e(0x55b)][_0x474f6e(0x2cc)]+_0x474f6e(0x4b4)),this[_0x474f6e(0x55b)][_0x474f6e(0x1d6)][_0x474f6e(0x29e)]=null,this['instance'][_0x474f6e(0x1d6)]['lastSend']=0x0,this[_0x474f6e(0x55b)]['ScheduleMessage']['delayMessage']=0x0,await this[_0x474f6e(0x297)]());}async['scheduleNextCheck'](){const _0x4f0e8b=a0_0x344519;let _0x46a164=()=>{const _0x44ab66=a0_0x3abc;this['logger'][_0x44ab66(0x52e)](this['instanceName']+'\x20('+this[_0x44ab66(0x55b)][_0x44ab66(0x2cc)]+'):\x20this.processing_id:\x20'+this[_0x44ab66(0x55b)]['ScheduleMessage'][_0x44ab66(0x29e)]+_0x44ab66(0x444));},_0x541d56=async()=>{const _0x1f1fe3=a0_0x3abc;this[_0x1f1fe3(0x767)][_0x1f1fe3(0x52e)](this[_0x1f1fe3(0x20c)]+'\x20('+this[_0x1f1fe3(0x55b)][_0x1f1fe3(0x2cc)]+_0x1f1fe3(0x74e));let _0x5cd53c=Date[_0x1f1fe3(0x6c7)]()-0xc*0x3c*0x3c*0x3e8,_0x543b3a={'where':{'status':{'$in':['scheduled',_0x1f1fe3(0x48f)]},'$or':[{'when':{'$lte':Date[_0x1f1fe3(0x6c7)](),'$gte':_0x5cd53c}},{'when':0x0}]}};return await this[_0x1f1fe3(0x6c9)][_0x1f1fe3(0x18d)][_0x1f1fe3(0x1ee)](_0x543b3a,this['instance'][_0x1f1fe3(0x2cc)]);},_0x18f001=async _0x3f9bfb=>{const _0xdc213f=a0_0x3abc;for(let _0x366c52 of _0x3f9bfb){let _0x42938a={'_id':_0x366c52[_0xdc213f(0x791)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x245808={'startSend':Date[_0xdc213f(0x6c7)]()};if(!await this[_0xdc213f(0x6c9)][_0xdc213f(0x18d)]['updateOne'](_0x42938a,_0x245808,this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]))return;if(!this[_0xdc213f(0x55b)]['ScheduleMessage']['isConnected']){this[_0xdc213f(0x767)][_0xdc213f(0x52e)](this['instanceName']+'\x20('+this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]+_0xdc213f(0x614));break;}if(_0x366c52[_0xdc213f(0x4d3)]===_0xdc213f(0x3d0)&&!this[_0xdc213f(0x46f)]?.[_0xdc213f(0x3d6)][_0xdc213f(0x26d)]){this[_0xdc213f(0x767)][_0xdc213f(0x2b4)](this[_0xdc213f(0x20c)]+'\x20('+this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x366c52[_0xdc213f(0x315)]||_0x366c52[_0xdc213f(0x315)][_0xdc213f(0x4e4)]===0x0)&&(_0x366c52=await this[_0xdc213f(0x6c9)][_0xdc213f(0x18d)][_0xdc213f(0x4d1)](_0x366c52['_id'],{'status':_0xdc213f(0x48f),'remoteJidsRemaining':[..._0x366c52['remoteJids']]},this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]));for(let _0x7bf3bd of _0x366c52[_0xdc213f(0x315)]){if(await this[_0xdc213f(0x70f)](),this['instance'][_0xdc213f(0x1d6)][_0xdc213f(0x2a7)]=Date[_0xdc213f(0x6c7)](),this[_0xdc213f(0x55b)][_0xdc213f(0x1d6)][_0xdc213f(0x1c7)]===_0x7bf3bd){this[_0xdc213f(0x767)][_0xdc213f(0x2b4)](this[_0xdc213f(0x20c)]+'\x20('+this[_0xdc213f(0x55b)]['wuid']+_0xdc213f(0x5a6)+_0x7bf3bd+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x2ac6a0={'$push':{'messagesSend':{'remoteJid':_0x7bf3bd,'error':!0x0,'id':null,'error_log':_0xdc213f(0x51e),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x7bf3bd}};await this[_0xdc213f(0x6c9)][_0xdc213f(0x18d)][_0xdc213f(0x4d1)](_0x366c52[_0xdc213f(0x791)],_0x2ac6a0,this['instance'][_0xdc213f(0x2cc)]);continue;}if(this[_0xdc213f(0x55b)][_0xdc213f(0x1d6)][_0xdc213f(0x1c7)]=_0x7bf3bd,_0x366c52[_0xdc213f(0x6a0)][_0xdc213f(0x19f)](_0x55d6cf=>_0x55d6cf['remoteJid']===_0x7bf3bd)){this[_0xdc213f(0x767)][_0xdc213f(0x52e)](this['instanceName']+'\x20('+this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x7bf3bd+'.\x20Pulando.');continue;}if(!this[_0xdc213f(0x55b)][_0xdc213f(0x1d6)][_0xdc213f(0x363)]){this[_0xdc213f(0x767)]['verbose'](this[_0xdc213f(0x20c)]+'\x20('+this['instance']['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0xdc213f(0x55b)][_0xdc213f(0x1d6)][_0xdc213f(0x29e)]){this[_0xdc213f(0x767)][_0xdc213f(0x52e)](this[_0xdc213f(0x20c)]+'\x20('+this[_0xdc213f(0x55b)]['wuid']+_0xdc213f(0x708)+_0x366c52[_0xdc213f(0x791)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x366c52[_0xdc213f(0x4d3)]===_0xdc213f(0x3d0)&&!this[_0xdc213f(0x46f)]?.['flowConfig']['enabled']){this['logger'][_0xdc213f(0x2b4)](this[_0xdc213f(0x20c)]+'\x20('+this['instance'][_0xdc213f(0x2cc)]+_0xdc213f(0x142));break;}let _0x4f9253={'remoteJid':_0x7bf3bd,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0xdc213f(0x6c7)]()},_0x2733ca=null;try{let _0x1320aa=await this[_0xdc213f(0x2a4)](_0x7bf3bd,_0x366c52);_0x4f9253['error']=_0x1320aa['error'],_0x4f9253['id']=_0x1320aa[_0xdc213f(0x2b4)]?null:_0x1320aa['id'],_0x4f9253[_0xdc213f(0x669)]=_0x1320aa[_0xdc213f(0x2b4)]?_0x1320aa[_0xdc213f(0x730)]?_0x1320aa[_0xdc213f(0x730)][_0xdc213f(0x2f6)]():'':null;let _0x36033b={'$push':{'messagesSend':_0x4f9253},'$pull':{'remoteJidsRemaining':_0x7bf3bd}},_0x14f80f=_0x366c52[_0xdc213f(0x791)];if(_0x2733ca=await this[_0xdc213f(0x6c9)][_0xdc213f(0x18d)][_0xdc213f(0x4d1)](_0x14f80f,_0x36033b,this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]),_0x1320aa[_0xdc213f(0x2b4)])continue;let _0x21247e=this[_0xdc213f(0x158)](_0x366c52['delaySecMin'],_0x366c52[_0xdc213f(0x300)]);await this['sleep'](_0x21247e);}catch(_0x579675){this[_0xdc213f(0x767)][_0xdc213f(0x2b4)](this[_0xdc213f(0x20c)]+'\x20('+this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]+_0xdc213f(0x604)+_0x7bf3bd+':\x20'+(_0x579675 instanceof Error?_0x579675['message']:JSON[_0xdc213f(0x3f5)](_0x579675,null,0x2))),_0x4f9253[_0xdc213f(0x2b4)]=!0x0,_0x4f9253[_0xdc213f(0x669)]=_0x579675['message'];let _0x1ba12e={'$push':{'messagesSend':_0x4f9253},'$pull':{'remoteJidsRemaining':_0x7bf3bd}},_0xc26a07=_0x366c52[_0xdc213f(0x791)];_0x2733ca=await this['repository'][_0xdc213f(0x18d)]['updateOneById'](_0xc26a07,_0x1ba12e,this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]);}finally{if(_0x2733ca&&_0x2733ca[_0xdc213f(0x197)]==='stopped'){this[_0xdc213f(0x767)][_0xdc213f(0x52e)](this[_0xdc213f(0x20c)]+'\x20('+this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x366c52[_0xdc213f(0x791)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x592fb6=await this[_0xdc213f(0x6c9)][_0xdc213f(0x18d)][_0xdc213f(0x313)](_0x366c52[_0xdc213f(0x791)],this['instance'][_0xdc213f(0x2cc)]);if(_0x592fb6[_0xdc213f(0x315)][_0xdc213f(0x4e4)]===0x0&&_0x592fb6[_0xdc213f(0x197)]!==_0xdc213f(0x686)){this[_0xdc213f(0x55b)]['ScheduleMessage'][_0xdc213f(0x1c7)]=null;let _0x5abb1a={'$set':{'status':'done'}},_0x34bbf5=_0x592fb6[_0xdc213f(0x791)];await this[_0xdc213f(0x6c9)][_0xdc213f(0x18d)][_0xdc213f(0x4d1)](_0x34bbf5,_0x5abb1a,this[_0xdc213f(0x55b)][_0xdc213f(0x2cc)]);}await new Promise(_0x138028=>setTimeout(_0x138028,0x1388));}},_0x41ddfa=async()=>{const _0x35d58f=a0_0x3abc;let _0x541fe5={'where':{'status':_0x35d58f(0x49c),'when':{'$gt':Date[_0x35d58f(0x6c7)]()}}},_0x4308ce=await this[_0x35d58f(0x6c9)]['scheduleMessage'][_0x35d58f(0x1a8)](_0x541fe5,this[_0x35d58f(0x55b)][_0x35d58f(0x2cc)]);_0x4308ce&&_0x4308ce['when']-Date['now']()<=0x5265c00?this[_0x35d58f(0x55b)][_0x35d58f(0x1d6)][_0x35d58f(0x675)]=_0x4308ce[_0x35d58f(0x33c)]-Date[_0x35d58f(0x6c7)]():this[_0x35d58f(0x55b)][_0x35d58f(0x1d6)][_0x35d58f(0x675)]=(0x3c+Math['floor'](Math[_0x35d58f(0x27d)]()*0x3c))*0x3c*0x3e8,this[_0x35d58f(0x55b)][_0x35d58f(0x1d6)]['delayMessage']=Math[_0x35d58f(0x3d8)](this[_0x35d58f(0x55b)][_0x35d58f(0x1d6)][_0x35d58f(0x675)],0x7d0);let _0x1672e7=Math[_0x35d58f(0x5e1)](this['instance'][_0x35d58f(0x1d6)]['delayMessage']/0xea60);if(_0x4308ce){let _0x39167d=new Date(_0x4308ce[_0x35d58f(0x33c)])[_0x35d58f(0x62b)]();this[_0x35d58f(0x767)][_0x35d58f(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x35d58f(0x2cc)]+_0x35d58f(0x2ea)+_0x39167d+_0x35d58f(0x1f5)+_0x1672e7+_0x35d58f(0x2dc));}else this[_0x35d58f(0x767)][_0x35d58f(0x52e)](this[_0x35d58f(0x20c)]+'\x20('+this[_0x35d58f(0x55b)][_0x35d58f(0x2cc)]+_0x35d58f(0x6b7)+_0x1672e7+_0x35d58f(0x2dc));setTimeout(()=>this[_0x35d58f(0x297)](),this[_0x35d58f(0x55b)][_0x35d58f(0x1d6)][_0x35d58f(0x675)]);};if(this['instance'][_0x4f0e8b(0x1d6)][_0x4f0e8b(0x29e)]){await this['setRestartTimeout'](),_0x46a164();return;}if(!this[_0x4f0e8b(0x55b)][_0x4f0e8b(0x1d6)][_0x4f0e8b(0x363)]){this[_0x4f0e8b(0x767)][_0x4f0e8b(0x52e)](this[_0x4f0e8b(0x20c)]+'\x20('+this[_0x4f0e8b(0x55b)]['wuid']+_0x4f0e8b(0x1f4)),this[_0x4f0e8b(0x55b)][_0x4f0e8b(0x1d6)][_0x4f0e8b(0x29e)]=null,this[_0x4f0e8b(0x55b)][_0x4f0e8b(0x1d6)]['lastSend']=0x0,this[_0x4f0e8b(0x55b)][_0x4f0e8b(0x1d6)][_0x4f0e8b(0x675)]=0x0,this[_0x4f0e8b(0x55b)][_0x4f0e8b(0x1d6)][_0x4f0e8b(0x1c7)]=null;return;}try{let _0x1cbbb6=await _0x541d56();_0x1cbbb6[_0x4f0e8b(0x4e4)]===0x0?this[_0x4f0e8b(0x767)]['verbose'](this[_0x4f0e8b(0x20c)]+'\x20('+this[_0x4f0e8b(0x55b)][_0x4f0e8b(0x2cc)]+_0x4f0e8b(0x3cb)):(this[_0x4f0e8b(0x55b)][_0x4f0e8b(0x1d6)][_0x4f0e8b(0x29e)]=_0x1cbbb6[0x0][_0x4f0e8b(0x791)],await _0x18f001(_0x1cbbb6)),await _0x41ddfa(),this[_0x4f0e8b(0x55b)]['ScheduleMessage']['processing_id']=null,this[_0x4f0e8b(0x55b)][_0x4f0e8b(0x1d6)][_0x4f0e8b(0x1c7)]=null;}catch(_0x139c5e){this[_0x4f0e8b(0x767)][_0x4f0e8b(0x2b4)](_0x4f0e8b(0x73e)+(_0x139c5e instanceof Error?_0x139c5e[_0x4f0e8b(0x806)]:JSON[_0x4f0e8b(0x3f5)](_0x139c5e,null,0x2)));}}[a0_0x344519(0x158)](_0x59d2b6,_0x537ae0){const _0x501cc0=a0_0x344519;return _0x59d2b6=Math['max'](0.5,_0x59d2b6),_0x537ae0=Math[_0x501cc0(0x1b9)](Math['max'](0x3,_0x537ae0),0x78),Math[_0x501cc0(0x13a)](Math[_0x501cc0(0x27d)]()*(_0x537ae0-_0x59d2b6+0x1)+_0x59d2b6)*0x3e8;}['sleep'](_0x3b743a){return new Promise(_0x4f745f=>setTimeout(_0x4f745f,_0x3b743a));}async['getVariablesChat'](_0x5b80ff){const _0x32018e=a0_0x344519;if(!this[_0x32018e(0x46f)]&&(await this[_0x32018e(0x332)](),!this[_0x32018e(0x46f)]))return null;_0x5b80ff=this['createJid'](_0x5b80ff);let _0x130024=await this[_0x32018e(0x6c9)][_0x32018e(0x351)][_0x32018e(0x1a8)]({'where':{'_id':_0x5b80ff}},this['instance'][_0x32018e(0x2cc)]),_0x4edbae={};if(_0x130024&&_0x130024[_0x32018e(0x3c7)]){let _0x4fdf73=_0x130024[_0x32018e(0x3c7)];typeof _0x4fdf73['nome']==_0x32018e(0x138)&&(_0x4edbae[_0x32018e(0x607)]=_0x4fdf73[_0x32018e(0x607)]),typeof _0x4fdf73[_0x32018e(0x4d9)]==_0x32018e(0x138)&&(_0x4edbae[_0x32018e(0x4d9)]=_0x4fdf73[_0x32018e(0x4d9)]),typeof _0x4fdf73[_0x32018e(0x48d)]==_0x32018e(0x138)&&(_0x4edbae[_0x32018e(0x48d)]=_0x4fdf73[_0x32018e(0x48d)]),typeof _0x4fdf73[_0x32018e(0x344)]==_0x32018e(0x138)&&(_0x4edbae['cpf']=_0x4fdf73[_0x32018e(0x344)]),typeof _0x4fdf73[_0x32018e(0x197)]=='string'&&(_0x4edbae['status']=_0x4fdf73[_0x32018e(0x197)]),typeof _0x4fdf73[_0x32018e(0x249)]==_0x32018e(0x138)&&(_0x4edbae[_0x32018e(0x249)]=_0x4fdf73['notas']),typeof _0x4fdf73[_0x32018e(0x7af)]==_0x32018e(0x138)&&(_0x4edbae['responsavelid']=_0x4fdf73[_0x32018e(0x7af)]),Array['isArray'](_0x4fdf73['tags'])&&(_0x4edbae[_0x32018e(0x106)]=_0x4fdf73[_0x32018e(0x106)][_0x32018e(0x2a3)](',\x20')),Array[_0x32018e(0x635)](_0x4fdf73[_0x32018e(0x1b0)])&&(_0x4edbae[_0x32018e(0x1b0)]=_0x4fdf73['etiquetas'][_0x32018e(0x2a3)](',\x20'));}return _0x130024&&_0x130024[_0x32018e(0x3c7)]&&_0x130024[_0x32018e(0x3c7)][_0x32018e(0x1c3)]&&_0x130024[_0x32018e(0x3c7)][_0x32018e(0x1c3)][_0x32018e(0x402)](_0x582501=>{const _0x4bb8df=_0x32018e;let _0x216c1d=this[_0x4bb8df(0x46f)]?.[_0x4bb8df(0x1c3)][_0x4bb8df(0x1ee)](_0x34286e=>_0x34286e['_id']===_0x582501[_0x4bb8df(0x791)]);_0x216c1d&&(_0x4edbae[_0x216c1d[_0x4bb8df(0x731)]]=_0x582501['value']);}),_0x4edbae;}async[a0_0x344519(0x49e)](_0x4931b8,_0x459abe){const _0x53b61d=a0_0x344519;try{let _0x5ee3c8=await this[_0x53b61d(0x521)](_0x459abe);return this[_0x53b61d(0x74f)](_0x4931b8,_0x5ee3c8);}catch(_0x48f2a0){return this[_0x53b61d(0x767)][_0x53b61d(0x2b4)](_0x53b61d(0x59a)+_0x459abe+':\x20'+_0x48f2a0),_0x4931b8;}}async[a0_0x344519(0x44e)](_0x3d9964){const _0x38aabe=a0_0x344519;try{if(this[_0x38aabe(0x767)][_0x38aabe(0x52e)](this[_0x38aabe(0x20c)]+'\x20('+this[_0x38aabe(0x55b)]['wuid']+'):\x20Edit\x20schedule\x20message...'),_0x3d9964[_0x38aabe(0x4ea)]&&_0x3d9964[_0x38aabe(0x791)]){if(this[_0x38aabe(0x55b)]['ScheduleMessage']['processing_id']===_0x3d9964[_0x38aabe(0x791)][_0x38aabe(0x2f6)]())throw new Error(_0x38aabe(0x792));let _0x519ae8=await this[_0x38aabe(0x6c9)][_0x38aabe(0x18d)][_0x38aabe(0x2bd)](_0x3d9964[_0x38aabe(0x791)],this[_0x38aabe(0x55b)][_0x38aabe(0x2cc)]);return setTimeout(()=>this[_0x38aabe(0x297)](),0x7d0),_0x519ae8;}let _0x36be17;if(_0x3d9964[_0x38aabe(0x791)]&&(_0x36be17=await this[_0x38aabe(0x6c9)][_0x38aabe(0x18d)][_0x38aabe(0x313)](_0x3d9964[_0x38aabe(0x791)],this[_0x38aabe(0x55b)]['wuid'])),_0x36be17){let _0x58095f;if(this[_0x38aabe(0x55b)][_0x38aabe(0x1d6)][_0x38aabe(0x29e)]===_0x36be17[_0x38aabe(0x791)][_0x38aabe(0x2f6)]())_0x58095f={'$set':{'status':_0x3d9964[_0x38aabe(0x197)]}};else{let {_id:_0x94890e,..._0x5ce4cf}=_0x3d9964;_0x58095f={'$set':_0x5ce4cf};}let _0x149938=await this[_0x38aabe(0x6c9)][_0x38aabe(0x18d)]['updateOneById'](_0x3d9964['_id'],_0x58095f,this[_0x38aabe(0x55b)][_0x38aabe(0x2cc)]);return setTimeout(()=>this[_0x38aabe(0x297)](),0x7d0),_0x149938;}else{_0x3d9964['owner']=this[_0x38aabe(0x55b)]['wuid'];let _0x282776=await this[_0x38aabe(0x6c9)][_0x38aabe(0x18d)][_0x38aabe(0x3b1)](_0x3d9964,this['instance'][_0x38aabe(0x2cc)]);return setTimeout(()=>this[_0x38aabe(0x297)](),0x7d0),_0x282776;}}catch(_0x55b6a9){let _0x38866a=_0x38aabe(0x60a),_0x25c78b=_0x55b6a9 instanceof Error?_0x55b6a9['message']:typeof _0x55b6a9==_0x38aabe(0x3fc)?JSON[_0x38aabe(0x3f5)](_0x55b6a9):_0x55b6a9,_0x4635f2=_0x38866a+':\x20'+_0x25c78b;throw this[_0x38aabe(0x767)]['error'](this[_0x38aabe(0x20c)]+'\x20('+this[_0x38aabe(0x55b)][_0x38aabe(0x2cc)]+_0x38aabe(0x780)+_0x4635f2),new m(_0x4635f2);}}async[a0_0x344519(0x4ed)](){const _0x4dbf0f=a0_0x344519;try{return await this[_0x4dbf0f(0x6c9)][_0x4dbf0f(0x18d)]['find']({'where':{}},this[_0x4dbf0f(0x55b)][_0x4dbf0f(0x2cc)]);}catch(_0x1375e6){let _0x1013a2=_0x4dbf0f(0x71a),_0x44ea2e=_0x1375e6 instanceof Error?_0x1375e6[_0x4dbf0f(0x806)]:typeof _0x1375e6==_0x4dbf0f(0x3fc)?JSON[_0x4dbf0f(0x3f5)](_0x1375e6):_0x1375e6,_0x5b04fc=_0x1013a2+':\x20'+_0x44ea2e;throw this['logger']['error'](this[_0x4dbf0f(0x20c)]+'\x20('+this[_0x4dbf0f(0x55b)]['wuid']+_0x4dbf0f(0x780)+_0x5b04fc),new m(_0x5b04fc);}}async[a0_0x344519(0x779)](){const _0x25b30b=a0_0x344519;try{let _0xf02b62={'status':_0x25b30b(0x72e)},_0x10afae=await this[_0x25b30b(0x6c9)][_0x25b30b(0x18d)]['deleteMany'](_0xf02b62,this[_0x25b30b(0x55b)]['wuid']);if(!_0x10afae[_0x25b30b(0x2b4)])this['logger'][_0x25b30b(0x52e)](this[_0x25b30b(0x20c)]+'\x20('+this[_0x25b30b(0x55b)][_0x25b30b(0x2cc)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x10afae[_0x25b30b(0x2b4)][_0x25b30b(0x806)]||_0x25b30b(0x42d));return this[_0x25b30b(0x4ed)]();}catch(_0x2f055a){let _0x22aad8=_0x25b30b(0x538),_0x4a1889=_0x2f055a instanceof Error?_0x2f055a['message']:typeof _0x2f055a==_0x25b30b(0x3fc)?JSON['stringify'](_0x2f055a):_0x2f055a,_0x30f394=_0x22aad8+':\x20'+_0x4a1889;throw this[_0x25b30b(0x767)][_0x25b30b(0x2b4)](this['instanceName']+'\x20('+this[_0x25b30b(0x55b)]['wuid']+_0x25b30b(0x780)+_0x30f394),new m(_0x30f394);}}async[a0_0x344519(0x2a4)](_0x12ccc8,_0x3f41b0){const _0x526ae8=a0_0x344519;try{if(_0x3f41b0[_0x526ae8(0x4d3)]===_0x526ae8(0x3d0)&&!this[_0x526ae8(0x46f)]?.[_0x526ae8(0x3d6)]['enabled'])return this['logger'][_0x526ae8(0x2b4)](this[_0x526ae8(0x20c)]+'\x20('+this['instance']['wuid']+_0x526ae8(0x25a)),{'error':!0x0,'detail':_0x526ae8(0x700)};switch(_0x3f41b0[_0x526ae8(0x4d3)]){case _0x526ae8(0x634):return await this['scheduleSendText'](_0x3f41b0,_0x12ccc8);case _0x526ae8(0x1ea):return await this[_0x526ae8(0x688)](_0x3f41b0,_0x12ccc8);case _0x526ae8(0x4bc):return await this[_0x526ae8(0x290)](_0x3f41b0,_0x12ccc8);case _0x526ae8(0x3d0):let _0x34b6ce=new Ge();return _0x34b6ce['name']=_0x3f41b0['flowName'],_0x34b6ce[_0x526ae8(0x5b0)]=_0x12ccc8,await this[_0x526ae8(0x125)](_0x34b6ce);break;default:return this['logger']['error'](this[_0x526ae8(0x20c)]+'\x20('+this[_0x526ae8(0x55b)][_0x526ae8(0x2cc)]+'):\x20Comando\x20desconhecido:\x20'+_0x3f41b0[_0x526ae8(0x4d3)]),{'error':!0x0,'detail':_0x526ae8(0x248)};}}catch(_0x59b73e){return this[_0x526ae8(0x767)]['error'](this[_0x526ae8(0x20c)]+'\x20('+this['instance'][_0x526ae8(0x2cc)]+_0x526ae8(0x16a)+(_0x59b73e instanceof Error?_0x59b73e[_0x526ae8(0x806)]:JSON['stringify'](_0x59b73e,null,0x2))),{'error':!0x0,'detail':_0x59b73e[_0x526ae8(0x806)]};}}[a0_0x344519(0x176)](_0x522933){const _0x4c3ce9=a0_0x344519;let _0x1bff55=_0x522933['split']('|'),_0x3ef732=Math[_0x4c3ce9(0x13a)](Math[_0x4c3ce9(0x27d)]()*_0x1bff55[_0x4c3ce9(0x4e4)]);return _0x1bff55[_0x3ef732][_0x4c3ce9(0x774)]();}async[a0_0x344519(0x519)](_0x273679,_0x140143){const _0x36b0f1=a0_0x344519;if(this['logger']['verbose'](this[_0x36b0f1(0x20c)]+'\x20('+this['instance'][_0x36b0f1(0x2cc)]+_0x36b0f1(0x59e)),!_0x273679['message']['text']||_0x273679[_0x36b0f1(0x806)][_0x36b0f1(0x634)][_0x36b0f1(0x4e4)]===0x0)return{'error':!0x0,'detail':_0x36b0f1(0x612)};let _0x4eb4f6=this['getRandomText'](_0x273679['message'][_0x36b0f1(0x634)]),_0x3fc01b=await this[_0x36b0f1(0x49e)](_0x4eb4f6,_0x140143),_0x533560={'number':_0x140143,'options':{'delay':_0x273679[_0x36b0f1(0x806)][_0x36b0f1(0x5a4)],'linkPreview':_0x273679['message']['linkPreview']},'textMessage':{'text':_0x3fc01b}},_0x454114=null;try{let _0x1ebc26=await this[_0x36b0f1(0x797)](_0x533560);if(_0x1ebc26&&_0x1ebc26[_0x36b0f1(0x197)])return{'error':!0x1,'id':_0x1ebc26[_0x36b0f1(0x80d)]['id']};_0x454114=JSON[_0x36b0f1(0x3f5)](_0x1ebc26),this[_0x36b0f1(0x767)][_0x36b0f1(0x52e)](this['instanceName']+'\x20('+this[_0x36b0f1(0x55b)][_0x36b0f1(0x2cc)]+_0x36b0f1(0x780)+_0x454114);}catch(_0x38fee2){this['logger'][_0x36b0f1(0x2b4)](this['instanceName']+'\x20('+this[_0x36b0f1(0x55b)][_0x36b0f1(0x2cc)]+_0x36b0f1(0x65f)+(_0x38fee2 instanceof Error?_0x38fee2[_0x36b0f1(0x806)]:JSON[_0x36b0f1(0x3f5)](_0x38fee2,null,0x2))),_0x454114=_0x38fee2[_0x36b0f1(0x806)];}if(_0x454114)return{'error':!0x0,'detail':(typeof _0x454114==_0x36b0f1(0x3fc)?JSON[_0x36b0f1(0x3f5)](_0x454114,null,0x2):_0x454114)['replace'](/[\[\]{}\n]/g,'\x20')[_0x36b0f1(0x477)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x2a60df,_0x520a44){const _0x33ffea=a0_0x344519;this['logger'][_0x33ffea(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x33ffea(0x2cc)]+_0x33ffea(0x49a));let _0x56c7c4;if(_0x2a60df[_0x33ffea(0x806)][_0x33ffea(0x634)]&&_0x2a60df[_0x33ffea(0x806)]['text'][_0x33ffea(0x4e4)]>0x0){let _0x5648ba=this['getRandomText'](_0x2a60df['message'][_0x33ffea(0x634)]);_0x56c7c4=await this[_0x33ffea(0x49e)](_0x5648ba,_0x520a44);}let _0x1d74b5={'number':_0x520a44,'options':{'delay':_0x2a60df['message'][_0x33ffea(0x5a4)],'linkPreview':_0x2a60df[_0x33ffea(0x806)]['linkPreview']},'mediaMessage':{'mediatype':_0x2a60df['message'][_0x33ffea(0x1b6)],'caption':_0x56c7c4,'media':_0x2a60df[_0x33ffea(0x806)]['urlOrBase64']}},_0x521c12=null;try{let _0x25bf6e=await this[_0x33ffea(0x7be)](_0x1d74b5);if(_0x25bf6e&&_0x25bf6e[_0x33ffea(0x197)])return{'error':!0x1,'id':_0x25bf6e[_0x33ffea(0x80d)]['id']};_0x521c12=JSON[_0x33ffea(0x3f5)](_0x25bf6e),this[_0x33ffea(0x767)][_0x33ffea(0x52e)](this['instanceName']+'\x20('+this['instance'][_0x33ffea(0x2cc)]+_0x33ffea(0x780)+_0x521c12);}catch(_0xf79513){this['logger'][_0x33ffea(0x2b4)](this[_0x33ffea(0x20c)]+'\x20('+this['instance'][_0x33ffea(0x2cc)]+_0x33ffea(0x3f4)+(_0xf79513 instanceof Error?_0xf79513[_0x33ffea(0x806)]:JSON['stringify'](_0xf79513,null,0x2))),_0x521c12=_0xf79513[_0x33ffea(0x806)];}if(_0x521c12)return{'error':!0x0,'detail':(typeof _0x521c12==_0x33ffea(0x3fc)?JSON[_0x33ffea(0x3f5)](_0x521c12,null,0x2):_0x521c12)[_0x33ffea(0x477)](/[\[\]{}\n]/g,'\x20')[_0x33ffea(0x477)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x119372,_0x5cdbdb){const _0x9eca62=a0_0x344519;this['logger'][_0x9eca62(0x52e)](this[_0x9eca62(0x20c)]+'\x20('+this[_0x9eca62(0x55b)][_0x9eca62(0x2cc)]+'):\x20Enviando\x20áudio');let _0x346a4c={'number':_0x5cdbdb,'options':{'delay':_0x119372[_0x9eca62(0x806)][_0x9eca62(0x5a4)]},'audioMessage':{'audio':_0x119372['message']['urlOrBase64']}},_0x322ef7=null;try{let _0x1c5b37=await this['audioWhatsapp'](_0x346a4c);if(_0x1c5b37&&_0x1c5b37[_0x9eca62(0x197)])return{'error':!0x1,'id':_0x1c5b37[_0x9eca62(0x80d)]['id']};_0x322ef7=JSON[_0x9eca62(0x3f5)](_0x1c5b37),this[_0x9eca62(0x767)][_0x9eca62(0x52e)](this[_0x9eca62(0x20c)]+'\x20('+this[_0x9eca62(0x55b)][_0x9eca62(0x2cc)]+_0x9eca62(0x780)+_0x322ef7);}catch(_0x1b6405){this[_0x9eca62(0x767)]['error'](this[_0x9eca62(0x20c)]+'\x20('+this[_0x9eca62(0x55b)]['wuid']+_0x9eca62(0x2f9)+(_0x1b6405 instanceof Error?_0x1b6405[_0x9eca62(0x806)]:JSON[_0x9eca62(0x3f5)](_0x1b6405,null,0x2))),_0x322ef7=_0x1b6405[_0x9eca62(0x806)];}if(_0x322ef7)return{'error':!0x0,'detail':(typeof _0x322ef7==_0x9eca62(0x3fc)?JSON[_0x9eca62(0x3f5)](_0x322ef7,null,0x2):_0x322ef7)[_0x9eca62(0x477)](/[\[\]{}\n]/g,'\x20')[_0x9eca62(0x477)](/  +/g,'\x20')};}async[a0_0x344519(0x565)](_0x534050){const _0xb3ff7a=a0_0x344519;try{return await this[_0xb3ff7a(0x24b)]['groupUpdateDescription'](_0x534050[_0xb3ff7a(0x4bf)],_0x534050[_0xb3ff7a(0x58d)]),{'update':_0xb3ff7a(0x640)};}catch(_0x2757ae){let _0x4fa747='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x200293=_0x2757ae instanceof Error?_0x2757ae[_0xb3ff7a(0x806)]:typeof _0x2757ae=='object'?JSON[_0xb3ff7a(0x3f5)](_0x2757ae):_0x2757ae,_0x54c3ac=_0x4fa747+':\x20'+_0x200293;throw this[_0xb3ff7a(0x767)][_0xb3ff7a(0x2b4)](this[_0xb3ff7a(0x20c)]+'\x20('+this[_0xb3ff7a(0x55b)][_0xb3ff7a(0x2cc)]+'):\x20'+_0x54c3ac),new I(_0x54c3ac);}}async[a0_0x344519(0x7de)](_0x43eb9d){const _0x3af8a3=a0_0x344519;try{return await this[_0x3af8a3(0x24b)][_0x3af8a3(0x458)](_0x43eb9d['groupJid'],_0x43eb9d[_0x3af8a3(0x731)]),{'update':_0x3af8a3(0x640)};}catch(_0x19b155){let _0x338ced='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x5b0d8a=_0x19b155 instanceof Error?_0x19b155['message']:typeof _0x19b155==_0x3af8a3(0x3fc)?JSON['stringify'](_0x19b155):_0x19b155,_0x4db89c=_0x338ced+':\x20'+_0x5b0d8a;throw this[_0x3af8a3(0x767)][_0x3af8a3(0x2b4)](this[_0x3af8a3(0x20c)]+'\x20('+this[_0x3af8a3(0x55b)]['wuid']+_0x3af8a3(0x780)+_0x4db89c),new I(_0x4db89c);}}async['toggleEphemeral'](_0x4a6516){const _0x56ecce=a0_0x344519;try{let _0x111001=await this[_0x56ecce(0x24b)][_0x56ecce(0x47f)](_0x4a6516[_0x56ecce(0x4bf)],_0x4a6516['expiration']);return{'success':!0x0};}catch(_0xbcaaec){let _0x4414c5='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x241e81=_0xbcaaec instanceof Error?_0xbcaaec[_0x56ecce(0x806)]:typeof _0xbcaaec==_0x56ecce(0x3fc)?JSON[_0x56ecce(0x3f5)](_0xbcaaec):_0xbcaaec,_0x345dd8=_0x4414c5+':\x20'+_0x241e81;throw this['logger'][_0x56ecce(0x2b4)](this[_0x56ecce(0x20c)]+'\x20('+this[_0x56ecce(0x55b)][_0x56ecce(0x2cc)]+_0x56ecce(0x780)+_0x345dd8),new I(_0x345dd8);}}async[a0_0x344519(0x2f1)](_0x2d249f){const _0x55eadd=a0_0x344519;try{return await this['client'][_0x55eadd(0x63d)](_0x2d249f['groupJid'],_0x2d249f[_0x55eadd(0x3fd)]),{'update':_0x55eadd(0x640)};}catch(_0x5ed761){let _0x3a38c1=_0x55eadd(0x599),_0x3809f0=_0x5ed761 instanceof Error?_0x5ed761[_0x55eadd(0x806)]:typeof _0x5ed761=='object'?JSON[_0x55eadd(0x3f5)](_0x5ed761):_0x5ed761,_0xa28de9=_0x3a38c1+':\x20'+_0x3809f0;throw this[_0x55eadd(0x767)][_0x55eadd(0x2b4)](this[_0x55eadd(0x20c)]+'\x20('+this[_0x55eadd(0x55b)]['wuid']+'):\x20'+_0xa28de9),new I(_0xa28de9);}}async['updateGroupPicture'](_0x46e624){const _0x112e8f=a0_0x344519;try{let _0x34289f;if((0x0,k['isURL'])(_0x46e624[_0x112e8f(0x4dd)])){let _0x15f9b2=new Date()[_0x112e8f(0x35c)](),_0x21dd5d=_0x46e624[_0x112e8f(0x4dd)]+_0x112e8f(0x680)+_0x15f9b2;_0x34289f=(await Q['default'][_0x112e8f(0x283)](_0x21dd5d,{'responseType':_0x112e8f(0x713)}))[_0x112e8f(0x7e5)];}else{if((0x0,k[_0x112e8f(0x1a3)])(_0x46e624[_0x112e8f(0x4dd)]))_0x34289f=Buffer[_0x112e8f(0x2fc)](_0x46e624['image'],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x112e8f(0x24b)][_0x112e8f(0x7fc)](_0x46e624['groupJid'],_0x34289f),{'update':_0x112e8f(0x640)};}catch(_0x16a08b){let _0x53fbdf='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0xfdb977=_0x16a08b instanceof Error?_0x16a08b['message']:typeof _0x16a08b==_0x112e8f(0x3fc)?JSON[_0x112e8f(0x3f5)](_0x16a08b):_0x16a08b,_0x4bb834=_0x53fbdf+':\x20'+_0xfdb977;throw this[_0x112e8f(0x767)][_0x112e8f(0x2b4)](this[_0x112e8f(0x20c)]+'\x20('+this['instance'][_0x112e8f(0x2cc)]+_0x112e8f(0x780)+_0x4bb834),new I(_0x4bb834);}}},qt=class c{constructor(_0x4bd613,_0x41f74e,_0x337b2a){const _0x941031=a0_0x344519;this[_0x941031(0x25f)]=_0x4bd613,this[_0x941031(0x574)]=_0x41f74e,this[_0x941031(0x6c9)]=_0x337b2a,this['db']={},this[_0x941031(0x3f0)]={},this[_0x941031(0x767)]=new R(c['name']),this['waInstances']={},(this['removeInstance'](),this['noConnection'](),Object['assign'](this['db'],_0x41f74e[_0x941031(0x283)](_0x941031(0x6a1))),Object[_0x941031(0x2d7)](this['redis'],_0x41f74e[_0x941031(0x283)]('REDIS')),this[_0x941031(0x4ab)]=this['db'][_0x941031(0x67c)]?this[_0x941031(0x6c9)]['dbServer']?.['db'](this['db']['CONNECTION'][_0x941031(0x146)]+_0x941031(0x1a5)):void 0x0,this['cache']=this[_0x941031(0x3f0)][_0x941031(0x67c)]?new ue(this['redis']):void 0x0);}async[a0_0x344519(0x1fa)](_0x421768){const _0x5801c9=a0_0x344519;if(_0x421768&&!this[_0x5801c9(0x11d)][_0x421768])throw new U(_0x5801c9(0x208)+_0x421768+_0x5801c9(0x3f8));let _0x1b8900=[];for await(let [_0xbde6ae,_0x308a6f]of Object['entries'](this['waInstances']))if(_0x308a6f&&_0x308a6f['connectionStatus'][_0x5801c9(0x483)]===_0x5801c9(0x1fe)){let _0x526bb8=await this[_0x5801c9(0x6c9)][_0x5801c9(0x5ca)]['find'](_0xbde6ae);_0x1b8900[_0x5801c9(0x413)]({'instance':{'instanceName':_0xbde6ae,'apikey':_0x526bb8[_0x5801c9(0x66c)],'owner':_0x308a6f['wuid'],'profileName':await _0x308a6f[_0x5801c9(0x28c)]()||_0x5801c9(0x61b),'profilePictureUrl':_0x308a6f[_0x5801c9(0x177)]}});}return _0x1b8900['find'](_0x525304=>_0x525304['instance'][_0x5801c9(0x20c)]===_0x421768)??_0x1b8900;}async[a0_0x344519(0x428)](_0x5c7e5f){const _0x4d317b=a0_0x344519;if(this['db']['ENABLED']&&(await this[_0x4d317b(0x6c9)][_0x4d317b(0x704)]['connect'](),(await this[_0x4d317b(0x4ab)][_0x4d317b(0x7cf)]())['length']>0x0&&await this['dbInstance']['dropCollection'](_0x5c7e5f)),this[_0x4d317b(0x3f0)][_0x4d317b(0x67c)]){this[_0x4d317b(0x454)][_0x4d317b(0x4ae)]=_0x5c7e5f,await this[_0x4d317b(0x454)]['delAll']();return;}}async[a0_0x344519(0x1dc)](){const _0xe73050=a0_0x344519;await this[_0xe73050(0x754)]();let _0x1c0b18=async _0x30d7eb=>{const _0x2bcfe1=_0xe73050;let _0x582016=new Ee(this[_0x2bcfe1(0x574)],this['eventEmitter'],this[_0x2bcfe1(0x6c9)]);_0x582016[_0x2bcfe1(0x20c)]=_0x30d7eb,await _0x582016[_0x2bcfe1(0x3d1)](),this['waInstances'][_0x30d7eb]=_0x582016;};try{if(this['redis']['ENABLED']){let _0x577eab=await this[_0xe73050(0x454)][_0xe73050(0x80a)]();_0x577eab?.[_0xe73050(0x4e4)]>0x0&&_0x577eab[_0xe73050(0x402)](async _0x368965=>await _0x1c0b18(_0x368965[_0xe73050(0x134)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0xe73050(0x6c9)][_0xe73050(0x704)]['connect']();let _0x4f149a=await this[_0xe73050(0x4ab)]['collections']();_0x4f149a[_0xe73050(0x4e4)]>0x0&&_0x4f149a[_0xe73050(0x402)](async _0x5f1ee3=>await _0x1c0b18(_0x5f1ee3[_0xe73050(0x559)][_0xe73050(0x477)](/^[\w-]+\./,'')));return;}}catch(_0x72e2a5){this[_0xe73050(0x767)]['error'](_0x72e2a5);}}async[a0_0x344519(0x2d2)](){const _0x5c4d0c=a0_0x344519;let _0x5f2b00=await this[_0x5c4d0c(0x6c9)][_0x5c4d0c(0x5ca)][_0x5c4d0c(0x5dd)](),_0xd8e39=_0x5f2b00[_0x5c4d0c(0x414)](_0x629120=>!this[_0x5c4d0c(0x11d)][_0x629120[_0x5c4d0c(0x791)]]&&(_0x629120[_0x5c4d0c(0x504)]||typeof _0x629120[_0x5c4d0c(0x504)]>'u'));_0xd8e39[_0x5c4d0c(0x4e4)]>0x0&&await Promise['all'](_0xd8e39[_0x5c4d0c(0x41f)](async _0x2edb41=>{const _0x5b21ff=_0x5c4d0c;let _0xd86ea2={'online':!0x1,'lastDisconnect':Date[_0x5b21ff(0x6c7)]()};await this[_0x5b21ff(0x6c9)][_0x5b21ff(0x5ca)][_0x5b21ff(0x19e)](_0xd86ea2,_0x2edb41['_id']);}));let _0x3427f6=Date[_0x5c4d0c(0x6c7)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1da58a=_0x5f2b00[_0x5c4d0c(0x414)](_0x32cd5c=>!this[_0x5c4d0c(0x11d)][_0x32cd5c['_id']]&&typeof _0x32cd5c[_0x5c4d0c(0x54d)]<'u'&&_0x32cd5c['lastDisconnect']<_0x3427f6);_0x1da58a[_0x5c4d0c(0x4e4)]>0x0&&await Promise[_0x5c4d0c(0x1f6)](_0x1da58a[_0x5c4d0c(0x41f)](async _0x5b6402=>{}));}async[a0_0x344519(0x754)](){const _0x5332c1=a0_0x344519;try{let _0x2e2081={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x5cb07f={'online':!0x1,'lastDisconnect':Date['now']()},_0xbf09ba=await this[_0x5332c1(0x6c9)][_0x5332c1(0x5ca)][_0x5332c1(0x3cd)](_0x2e2081,_0x5cb07f);console[_0x5332c1(0x7a7)](_0x5332c1(0x76b)+_0xbf09ba[_0x5332c1(0x4df)]),await this[_0x5332c1(0x696)]();}catch(_0x1aa525){console[_0x5332c1(0x2b4)](_0x5332c1(0x366),_0x1aa525);}}async[a0_0x344519(0x696)](){const _0x1ba6b7=a0_0x344519;try{let _0x519e12={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x53007b=await this['repository'][_0x1ba6b7(0x5ca)]['deleteMany'](_0x519e12);console[_0x1ba6b7(0x7a7)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x53007b[_0x1ba6b7(0x4df)]);}catch(_0x2fcbc2){console[_0x1ba6b7(0x2b4)](_0x1ba6b7(0x759),_0x2fcbc2);}}[a0_0x344519(0x17d)](){const _0x1e52ff=a0_0x344519;this[_0x1e52ff(0x25f)]['on'](_0x1e52ff(0x347),async _0x39df3c=>{const _0xae245c=_0x1e52ff;try{this['waInstances'][_0x39df3c]=void 0x0;}catch{}try{this['cleaningUp'](_0x39df3c);}finally{this[_0xae245c(0x767)][_0xae245c(0x7ba)](_0xae245c(0x208)+_0x39df3c+_0xae245c(0x22f));}});}['noConnection'](){const _0x570628=a0_0x344519;this[_0x570628(0x25f)]['on']('no.connection',async _0x10d2a7=>{const _0x5a1998=_0x570628;try{this[_0x5a1998(0x11d)][_0x10d2a7]=void 0x0;}catch{}try{this[_0x5a1998(0x428)](_0x10d2a7);}finally{this[_0x5a1998(0x767)]['warn'](_0x5a1998(0x208)+_0x10d2a7+_0x5a1998(0x5b8));}});}},Vt=class extends x{[a0_0x344519(0x3b9)](_0x529b22){return Ys(_0x529b22);}async['insert'](_0x3bcbae){const _0x46ca8e=a0_0x344519;if(_0x3bcbae[_0x46ca8e(0x4e4)]!==0x0)try{return{'insertCount':(await this[_0x46ca8e(0x3b9)](_0x3bcbae[0x0][_0x46ca8e(0x4b3)])['insertMany']([..._0x3bcbae]))[_0x46ca8e(0x4e4)]};}catch(_0xc25cfa){return _0xc25cfa;}}async[a0_0x344519(0x1ee)](_0x9dff1e,_0x23362d){const _0x49ca9e=a0_0x344519;try{let _0x57d4b9=this[_0x49ca9e(0x3b9)](_0x23362d),_0x369c04=T(_0x9dff1e[_0x49ca9e(0x52c)]);return await _0x57d4b9['find'](_0x369c04)[_0x49ca9e(0x4ec)]({'lastmsg':-0x1})[_0x49ca9e(0x2a9)](_0x9dff1e?.[_0x49ca9e(0x2a9)]??0x0)[_0x49ca9e(0x45a)]();}catch{return[];}}async[a0_0x344519(0x4ea)](_0x4a46d8,_0x2bd391){const _0x424998=a0_0x344519;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x2bd391)[_0x424998(0x233)]({..._0x4a46d8[_0x424998(0x52c)]}))[_0x424998(0x6f1)]};}catch(_0x230e69){return{'error':_0x230e69?.['toString']()};}}async[a0_0x344519(0x678)](_0x32c91b,_0x3d90a8){const _0x4de564=a0_0x344519;try{return await this[_0x4de564(0x3b9)](_0x3d90a8)[_0x4de564(0x233)]({..._0x32c91b[_0x4de564(0x52c)]}),[];}catch(_0x5442a3){return{'error':_0x5442a3?.[_0x4de564(0x2f6)]()};}}async[a0_0x344519(0x1a8)](_0x50ef64,_0x3dfa8b){const _0x2d78e2=a0_0x344519;try{let _0x26b59b=this[_0x2d78e2(0x3b9)](_0x3dfa8b),_0x24dcbb=T(_0x50ef64[_0x2d78e2(0x52c)]);return await _0x26b59b[_0x2d78e2(0x1a8)](_0x24dcbb)[_0x2d78e2(0x45a)]();}catch{return null;}}async[a0_0x344519(0x608)](_0x5e7f88,_0x121c45,_0x436f77,_0x118882,_0x396a24=a0_0x344519(0x40f)){const _0x4636f9=a0_0x344519;try{let _0x2bf916={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x118882},_0x17ab5e=this[_0x4636f9(0x3b9)](_0x436f77),_0x3573e2=T(_0x5e7f88[_0x4636f9(0x52c)]);Object[_0x4636f9(0x6cc)](_0x121c45)[_0x4636f9(0x402)](_0x4d71ca=>{_0x121c45[_0x4d71ca]==null&&delete _0x121c45[_0x4d71ca];});let _0x2ce838={};return _0x2ce838[_0x396a24]=_0x121c45,await _0x17ab5e[_0x4636f9(0x11a)](_0x3573e2,_0x2ce838,_0x2bf916);}catch(_0x1102ca){return console[_0x4636f9(0x2b4)](_0x1102ca),null;}}async[a0_0x344519(0x164)](_0x28f4b1){const _0x141328=a0_0x344519;try{let _0x67287c=this['getChatModelForOwner'](_0x28f4b1[0x0][_0x141328(0x225)][_0x141328(0x52c)][_0x141328(0x4b3)]),_0x116d91=_0x28f4b1[_0x141328(0x41f)](_0x302992=>({'updateOne':{'filter':{..._0x302992[_0x141328(0x225)]['where']},'update':{'$set':_0x302992[_0x141328(0x729)]},'upsert':!0x0}})),_0x120501=await _0x67287c[_0x141328(0x566)](_0x116d91);return _0x120501[_0x141328(0x6ac)]+_0x120501[_0x141328(0x39e)];}catch(_0x52259b){return console[_0x141328(0x2b4)](_0x52259b),0x0;}}async['removeUnusedChatFields'](_0x1e4a73){const _0x3e7672=a0_0x344519;try{let _0x2b0a43={'group_isCommunity':'','group_announce':'','group_size':''},_0x658efd={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x4c63c5={'$unset':_0x2b0a43};return(await this[_0x3e7672(0x3b9)](_0x1e4a73)['updateMany'](_0x658efd,_0x4c63c5))[_0x3e7672(0x6ac)];}catch(_0x4231f8){return console[_0x3e7672(0x2b4)](_0x3e7672(0x441),_0x4231f8),0x0;}}async['updateMissingEtiquetas'](_0x4d0832){const _0x25e55e=a0_0x344519;try{let _0x278018=this[_0x25e55e(0x3b9)](_0x4d0832),_0x2150b7={'leadInfo.etiquetas':{'$exists':!0x1}},_0x58559b={'$set':{'leadInfo.etiquetas':[]}};return(await _0x278018[_0x25e55e(0x164)](_0x2150b7,_0x58559b))[_0x25e55e(0x6ac)];}catch(_0x29409b){return console[_0x25e55e(0x2b4)](_0x29409b),0x0;}}async[a0_0x344519(0x568)](_0x869acb){const _0x4286cd=a0_0x344519;try{let _0x161247=this[_0x4286cd(0x3b9)](_0x869acb),_0x56f63b={'leadInfo.tags':{'$exists':!0x1}},_0x4d9c37={'$set':{'leadInfo.tags':[]}};return(await _0x161247[_0x4286cd(0x164)](_0x56f63b,_0x4d9c37))[_0x4286cd(0x6ac)];}catch(_0x3a2fd5){return console[_0x4286cd(0x2b4)](_0x3a2fd5),0x0;}}async[a0_0x344519(0x17b)](_0x8752f0){const _0x290dbb=a0_0x344519;try{let _0x5ba422=this[_0x290dbb(0x3b9)](_0x8752f0),_0x5e078e={'leadInfo.customFields':{'$exists':!0x1}},_0x38a9b9={'$set':{'leadInfo.customFields':[]}};return(await _0x5ba422['updateMany'](_0x5e078e,_0x38a9b9))[_0x290dbb(0x6ac)];}catch(_0x2608ff){return console['error'](_0x2608ff),0x0;}}async[a0_0x344519(0x3ab)](_0x3548ff,_0x7295dd){const _0x5ac7ae=a0_0x344519;if(!Array[_0x5ac7ae(0x635)](_0x3548ff)||_0x3548ff[_0x5ac7ae(0x4e4)]===0x0)throw new Error(_0x5ac7ae(0x584));try{return(await this['getChatModelForOwner'](_0x7295dd)[_0x5ac7ae(0x3ab)](_0x3548ff))[_0x5ac7ae(0x4e4)];}catch(_0x30dfb7){throw console['error'](_0x5ac7ae(0x261),_0x30dfb7),_0x30dfb7;}}async['deleteChat'](_0x397e4d,_0x5903fc){const _0x4769bd=a0_0x344519;try{await this[_0x4769bd(0x3b9)](_0x5903fc)[_0x4769bd(0x2bd)]({'_id':_0x397e4d});}catch(_0x23a620){throw console[_0x4769bd(0x2b4)]('Erro\x20ao\x20deletar\x20chat:',_0x23a620),_0x23a620;}}},Gt=class extends x{constructor(_0xf308b9,_0x160925,_0x21ed15){const _0x58955d=a0_0x344519;super(_0x160925),this[_0x58955d(0x157)]=_0xf308b9,this[_0x58955d(0x574)]=_0x160925,this[_0x58955d(0x5b9)]=_0x21ed15;}async[a0_0x344519(0x113)](_0x2edbd2){const _0x5555e3=a0_0x344519;if(_0x2edbd2[_0x5555e3(0x4e4)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x5555e3(0x3ab)]([..._0x2edbd2]))[_0x5555e3(0x4e4)]};}catch(_0x3955f5){return _0x3955f5;}}async['update'](_0x1644ef,_0x212a72){const _0x420b71=a0_0x344519;try{let _0x3b1726=T(_0x1644ef['where']);return{'updatedCount':(await this[_0x420b71(0x157)][_0x420b71(0x164)](_0x3b1726,{'$set':_0x212a72}))[_0x420b71(0x6ac)]};}catch(_0x143773){return console[_0x420b71(0x2b4)](_0x420b71(0x37e),_0x143773),{'error':_0x143773[_0x420b71(0x2f6)]()};}}async['findManyByIds'](_0x30ed18){const _0x110137=a0_0x344519;try{let _0x39ff7d={'_id':{'$in':_0x30ed18}};return await this[_0x110137(0x157)][_0x110137(0x1ee)](_0x39ff7d)[_0x110137(0x45a)]();}catch(_0x1226a8){return console[_0x110137(0x2b4)](_0x110137(0x12f),_0x1226a8),[];}}async[a0_0x344519(0x4ea)](_0xe01865){const _0x4ffca8=a0_0x344519;try{return{'deletedCount':(await this[_0x4ffca8(0x157)][_0x4ffca8(0x233)]({..._0xe01865[_0x4ffca8(0x52c)]}))[_0x4ffca8(0x6f1)]};}catch(_0x52c804){return{'error':_0x52c804?.[_0x4ffca8(0x2f6)]()};}}async[a0_0x344519(0x1ee)](_0xdac450){const _0x1c6e08=a0_0x344519;try{let _0x5806c5=T(_0xdac450['where']);return await this[_0x1c6e08(0x157)]['find'](_0x5806c5)[_0x1c6e08(0x2a9)](_0xdac450?.['limit']??0x0)[_0x1c6e08(0x45a)]();}catch{return[];}}async[a0_0x344519(0x1a8)](_0x54e5ee){const _0x100f3e=a0_0x344519;try{let _0x97ed5f=T(_0x54e5ee['where']);return await this[_0x100f3e(0x157)][_0x100f3e(0x1a8)](_0x97ed5f)[_0x100f3e(0x45a)]();}catch{return null;}}},Bt=class extends x{[a0_0x344519(0x2e9)](_0x1bf427){return wa(_0x1bf427);}async['updateOne'](_0x5922c7,_0x5f245f,_0x1a8088,_0x987797){const _0x507c29=a0_0x344519;try{let _0x1ebedb={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x987797},_0x5003f5=this[_0x507c29(0x2e9)](_0x1a8088),_0x36f956=T(_0x5922c7[_0x507c29(0x52c)]);return await _0x5003f5[_0x507c29(0x11a)](_0x36f956,{'$set':_0x5f245f},_0x1ebedb);}catch(_0xa26ddf){return console[_0x507c29(0x2b4)](_0xa26ddf),null;}}async[a0_0x344519(0x1ee)](_0x3c1f4d,_0x3e0887){const _0x7affc7=a0_0x344519;try{let _0x5eb4b7=this[_0x7affc7(0x2e9)](_0x3e0887),_0x3795bd=T(_0x3c1f4d[_0x7affc7(0x52c)]);return await _0x5eb4b7[_0x7affc7(0x1ee)](_0x3795bd);}catch(_0x1d1f21){console['error'](_0x1d1f21);}}async[a0_0x344519(0x4ea)](_0x4512f0,_0x37fe54){const _0x49a725=a0_0x344519;try{let _0x2047ec=this['getLabelModelForOwner'](_0x37fe54),_0x2ac762=T(_0x4512f0[_0x49a725(0x52c)]);await _0x2047ec[_0x49a725(0x233)](_0x2ac762);}catch(_0x7ea94e){console[_0x49a725(0x2b4)](_0x7ea94e);}}async['deleteAll'](_0x2e6205){const _0x45a8fd=a0_0x344519;try{return await this[_0x45a8fd(0x2e9)](_0x2e6205)[_0x45a8fd(0x6ab)][_0x45a8fd(0x44a)](),{'success':!0x0};}catch(_0x1fc80d){return console[_0x45a8fd(0x2b4)](_0x1fc80d),{'success':!0x1,'error':_0x1fc80d};}}},Wt=class{constructor(_0x36feb9){const _0x19fbee=a0_0x344519;this[_0x19fbee(0x1cb)]=_0x36feb9;}async['editChat']({instanceName:_0x1051f5},_0x8c14f5){const _0x13cb74=a0_0x344519;return await this[_0x13cb74(0x1cb)][_0x13cb74(0x11d)][_0x1051f5][_0x13cb74(0x6d9)](_0x8c14f5);}async[a0_0x344519(0x7c1)]({instanceName:_0x128581},_0x4acc6a){const _0x433da9=a0_0x344519;return await this[_0x433da9(0x1cb)][_0x433da9(0x11d)][_0x128581]['whatsappNumber'](_0x4acc6a);}async[a0_0x344519(0x38e)]({instanceName:_0xe85bc0},_0x1b15d7){const _0x3dce5a=a0_0x344519;return await this['waMonitor']['waInstances'][_0xe85bc0][_0x3dce5a(0x38e)](_0x1b15d7);}async['readMessage']({instanceName:_0x495bec},_0x18e663){const _0x392afd=a0_0x344519;return await this[_0x392afd(0x1cb)][_0x392afd(0x11d)][_0x495bec]['markMessageAsRead'](_0x18e663);}async['archiveChat']({instanceName:_0x54463e},_0x11fac1){const _0x2653a4=a0_0x344519;return await this[_0x2653a4(0x1cb)][_0x2653a4(0x11d)][_0x54463e][_0x2653a4(0x57d)](_0x11fac1);}async[a0_0x344519(0x7f7)]({instanceName:_0x38ee99},_0x4938dd){const _0x404e5d=a0_0x344519;return await this[_0x404e5d(0x1cb)][_0x404e5d(0x11d)][_0x38ee99][_0x404e5d(0x7f7)](_0x4938dd);}async[a0_0x344519(0x36c)]({instanceName:_0x347f69},_0x4af079){const _0x588785=a0_0x344519;return await this[_0x588785(0x1cb)]['waInstances'][_0x347f69][_0x588785(0x348)](_0x4af079[_0x588785(0x735)]);}async[a0_0x344519(0x53d)]({instanceName:_0x5d5eaa},_0x5705b3){const _0x25d9d0=a0_0x344519;return await this[_0x25d9d0(0x1cb)]['waInstances'][_0x5d5eaa][_0x25d9d0(0x53d)](_0x5705b3[_0x25d9d0(0x735)]);}async['updatePresence']({instanceName:_0x155764},_0x5c4980){const _0x320afe=a0_0x344519;return await this[_0x320afe(0x1cb)][_0x320afe(0x11d)][_0x155764]['updatePresence'](_0x5c4980);}async[a0_0x344519(0x587)]({instanceName:_0x4e7fdb},_0x59c587){return await this['waMonitor']['waInstances'][_0x4e7fdb]['fetchContacts'](_0x59c587);}async['getBase64FromMediaMessage']({instanceName:_0x2dc503},_0x3c6ea3){const _0x2a80b4=a0_0x344519;return await this[_0x2a80b4(0x1cb)]['waInstances'][_0x2dc503][_0x2a80b4(0x496)](_0x3c6ea3);}async[a0_0x344519(0x16e)]({instanceName:_0xecb51f},_0x36e25e){const _0x37e3c9=a0_0x344519;return await this[_0x37e3c9(0x1cb)][_0x37e3c9(0x11d)][_0xecb51f][_0x37e3c9(0x16e)](_0x36e25e);}async[a0_0x344519(0x594)]({instanceName:_0x56bc6e}){const _0x2d0dd6=a0_0x344519;return await this[_0x2d0dd6(0x1cb)][_0x2d0dd6(0x11d)][_0x56bc6e]['fetchLabels']();}async[a0_0x344519(0x57c)]({instanceName:_0x359cdf}){const _0x5bc0a0=a0_0x344519;return await this[_0x5bc0a0(0x1cb)][_0x5bc0a0(0x11d)][_0x359cdf][_0x5bc0a0(0x57c)]();}async['fetchPrivacySettings']({instanceName:_0x14aa5b}){const _0x150aeb=a0_0x344519;return await this['waMonitor'][_0x150aeb(0x11d)][_0x14aa5b][_0x150aeb(0x5c5)]();}async['updatePrivacySettings']({instanceName:_0xa1201f},_0x2da7b9){const _0x16fc05=a0_0x344519;return await this[_0x16fc05(0x1cb)][_0x16fc05(0x11d)][_0xa1201f][_0x16fc05(0x15f)](_0x2da7b9);}async[a0_0x344519(0x2bc)]({instanceName:_0x4d35ac},_0x46a894){const _0x325a2e=a0_0x344519;return await this[_0x325a2e(0x1cb)][_0x325a2e(0x11d)][_0x4d35ac]['fetchBusinessProfile'](_0x46a894[_0x325a2e(0x735)]);}async[a0_0x344519(0x6fa)]({instanceName:_0xa9f66e},_0x196b28){const _0x595bbc=a0_0x344519;return await this['waMonitor'][_0x595bbc(0x11d)][_0xa9f66e][_0x595bbc(0x6fa)](_0x196b28[_0x595bbc(0x731)]);}async[a0_0x344519(0x2a6)]({instanceName:_0x5971da},_0x4b4e3d){const _0x3fc240=a0_0x344519;return await this[_0x3fc240(0x1cb)][_0x3fc240(0x11d)][_0x5971da][_0x3fc240(0x2a6)](_0x4b4e3d[_0x3fc240(0x197)]);}async[a0_0x344519(0x7fc)]({instanceName:_0x263846},_0x2fca38){const _0x2d839e=a0_0x344519;return await this[_0x2d839e(0x1cb)]['waInstances'][_0x263846][_0x2d839e(0x7fc)](_0x2fca38[_0x2d839e(0x4d5)]);}async[a0_0x344519(0x1f7)]({instanceName:_0x34b84c},_0x3bbd92){const _0x424525=a0_0x344519;return await this['waMonitor'][_0x424525(0x11d)][_0x34b84c]['removeProfilePicture']();}},Ps=require(a0_0x344519(0x528)),zt=class c{constructor(_0x4f4619,_0x5398fa,_0x51999e,_0x3096dd,_0x6f9e4c){const _0x42d7c2=a0_0x344519;this[_0x42d7c2(0x1cb)]=_0x4f4619,this[_0x42d7c2(0x574)]=_0x5398fa,this[_0x42d7c2(0x6c9)]=_0x51999e,this[_0x42d7c2(0x25f)]=_0x3096dd,this[_0x42d7c2(0x151)]=_0x6f9e4c,this[_0x42d7c2(0x767)]=new R(c[_0x42d7c2(0x731)]);}async[a0_0x344519(0x215)]({instanceName:_0xe1f54f,apikey:_0x3460e0,number:_0x35deb2,proxy:_0x39dca8=!0x0}){const _0x2e43ca=a0_0x344519;try{let _0x337164=new Ee(this[_0x2e43ca(0x574)],this[_0x2e43ca(0x25f)],this['repository']);_0x337164[_0x2e43ca(0x20c)]=_0xe1f54f,this[_0x2e43ca(0x1cb)]['waInstances'][_0x337164['instanceName']]=_0x337164;let _0x4142ee={};_0x3460e0?(await this[_0x2e43ca(0x6c9)][_0x2e43ca(0x5ca)]['create']({'apikey':_0x3460e0},_0xe1f54f),_0x4142ee['apikey']=_0x3460e0):_0x4142ee=await this[_0x2e43ca(0x151)]['generateHash']({'instanceName':_0x337164[_0x2e43ca(0x20c)]});let _0x38e7e9;if(_0x35deb2){if(_0x38e7e9=await this[_0x2e43ca(0x514)](_0x35deb2),_0x38e7e9['error'])throw new I(_0x38e7e9[_0x2e43ca(0x2b4)][_0x2e43ca(0x2f6)]());_0x35deb2=_0x38e7e9[_0x2e43ca(0x735)];}let _0x563df2;return await _0x337164[_0x2e43ca(0x3d1)](_0x35deb2),await(0x0,Ps['delay'])(0x7d0),_0x563df2=_0x337164[_0x2e43ca(0x328)],{'instance':{'instanceName':_0x337164['instanceName'],'status':_0x2e43ca(0x1c1)},'hash':_0x4142ee,'qrcode':_0x563df2};}catch(_0x4c1648){throw this[_0x2e43ca(0x767)][_0x2e43ca(0x2b4)](_0x4c1648),_0x4c1648;}}async['connectToWhatsappController']({instanceName:_0x41b907,number:_0x306a75=null}){const _0x105e3e=a0_0x344519;try{let _0x31267b=this['waMonitor'][_0x105e3e(0x11d)][_0x41b907];switch(_0x31267b?.['connectionStatus']?.[_0x105e3e(0x483)]){case _0x105e3e(0x65b):return await _0x31267b[_0x105e3e(0x3d1)](_0x306a75),await(0x0,Ps['delay'])(0x7d0),_0x31267b[_0x105e3e(0x328)];case _0x105e3e(0x711):return _0x31267b[_0x105e3e(0x328)];default:return await this[_0x105e3e(0x460)]({'instanceName':_0x41b907});}}catch(_0x377888){this[_0x105e3e(0x767)][_0x105e3e(0x7a7)](_0x377888);}}async[a0_0x344519(0x460)]({instanceName:_0x280578}){const _0x320471=a0_0x344519;let _0x50a1b7=this[_0x320471(0x1cb)][_0x320471(0x11d)][_0x280578][_0x320471(0x1cc)],_0x218b68=null;_0x50a1b7['state']===_0x320471(0x1fe)&&_0x280578&&(_0x218b68=await this['waMonitor'][_0x320471(0x1fa)](_0x280578));let _0x40ce54=null;return _0x50a1b7['state']===_0x320471(0x711)&&_0x280578&&(_0x40ce54=this[_0x320471(0x1cb)]['waInstances'][_0x280578]['qrCode']),{'instance':_0x280578,'connectionStatus':_0x50a1b7,'instanceInfo':_0x218b68,'qrcode':_0x40ce54};}async[a0_0x344519(0x514)](_0xa9db73){const _0x5ea2fe=a0_0x344519;_0xa9db73=_0xa9db73[_0x5ea2fe(0x477)](/\D/g,'');let _0xeb567d=Object[_0x5ea2fe(0x6cc)](this[_0x5ea2fe(0x1cb)][_0x5ea2fe(0x11d)])[_0x5ea2fe(0x414)](_0x323790=>{const _0x536269=_0x5ea2fe;let _0x57b0c9=this[_0x536269(0x1cb)][_0x536269(0x11d)][_0x323790];return _0x57b0c9&&_0x57b0c9['connectionStatus']&&_0x57b0c9[_0x536269(0x1cc)]['state']==='open';});if(_0xeb567d[_0x5ea2fe(0x4e4)]===0x0)return{'number':this[_0x5ea2fe(0x152)](_0xa9db73)};let _0x125423=Math[_0x5ea2fe(0x13a)](Math['random']()*_0xeb567d[_0x5ea2fe(0x4e4)]),_0x47b056=_0xeb567d[_0x125423];try{let _0x8d27be=(await this[_0x5ea2fe(0x1cb)][_0x5ea2fe(0x11d)][_0x47b056][_0x5ea2fe(0x7c1)]({'numbers':[_0xa9db73]}))[_0x5ea2fe(0x2ba)]();return _0x8d27be['exists']?{'number':_0x8d27be[_0x5ea2fe(0x19d)][_0x5ea2fe(0x477)](_0x5ea2fe(0x221),'')}:{'number':_0xa9db73,'error':_0x5ea2fe(0x629)};}catch(_0x1c713a){return this[_0x5ea2fe(0x767)]['error'](_0x5ea2fe(0x42e)+_0x1c713a),{'number':_0xa9db73,'error':_0x5ea2fe(0x43b)};}}[a0_0x344519(0x152)](_0x35048a){const _0x1f6391=a0_0x344519;let _0xc3dd89=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1f6391(0x64e)](_0x35048a);if(_0xc3dd89&&_0xc3dd89[0x1]==='55'){let _0xc8800f=_0xc3dd89[0x2],_0x10089d=_0xc3dd89[0x3],_0xf0f322=_0xc3dd89[0x4];if(parseInt(_0xc8800f)>=0x1f&&_0x10089d==='9')return _0xc3dd89[0x1]+_0xc8800f+_0xf0f322;}return _0x35048a;}async['restartInstance']({instanceName:_0xbb0c50}){const _0x4aaad9=a0_0x344519;try{return this['waMonitor']['waInstances'][_0xbb0c50]?.[_0x4aaad9(0x24b)]?.['ws']?.[_0x4aaad9(0x65b)](),{'status':_0x4aaad9(0x615),'error':!0x1,'response':{'message':_0x4aaad9(0x399)}};}catch(_0x1ed177){this['logger']['error'](_0x1ed177);}}async[a0_0x344519(0x591)]({instanceName:_0x822cd8}){const _0x9a5886=a0_0x344519;return _0x822cd8?this[_0x9a5886(0x1cb)][_0x9a5886(0x1fa)](_0x822cd8):this['waMonitor'][_0x9a5886(0x1fa)]();}async[a0_0x344519(0x3b5)]({instanceName:_0x10661f}){const _0x16b474=a0_0x344519;try{return await this['waMonitor']['waInstances'][_0x10661f]?.[_0x16b474(0x24b)]?.[_0x16b474(0x3b5)](_0x16b474(0x3de)+_0x10661f),{'error':!0x1,'message':_0x16b474(0x79f)};}catch(_0x50d214){throw new I(_0x50d214[_0x16b474(0x2f6)]());}}async[a0_0x344519(0x124)]({instanceName:_0x1f6eed}){const _0x3266f4=a0_0x344519;if((await this['connectionState']({'instanceName':_0x1f6eed}))[_0x3266f4(0x1cc)]['state']===_0x3266f4(0x1fe))throw new m([_0x3266f4(0x617),_0x3266f4(0x229)]);try{return delete this[_0x3266f4(0x1cb)][_0x3266f4(0x11d)][_0x1f6eed],{'error':!0x1,'message':_0x3266f4(0x185)};}catch(_0x4df525){throw new m(_0x4df525[_0x3266f4(0x2f6)]());}}},se=require(a0_0x344519(0x468)),Ht=class{constructor(_0x28ca48){this['waMonitor']=_0x28ca48;}async[a0_0x344519(0x654)]({instanceName:_0xd5dd27},_0x5462d6){const _0x403f7e=a0_0x344519;return await this[_0x403f7e(0x1cb)][_0x403f7e(0x11d)][_0xd5dd27][_0x403f7e(0x797)](_0x5462d6);}async[a0_0x344519(0x3db)]({instanceName:_0x3d383a},_0x387544){const _0x1bbdcf=a0_0x344519;return await this[_0x1bbdcf(0x1cb)][_0x1bbdcf(0x11d)][_0x3d383a][_0x1bbdcf(0x816)](_0x387544);}async['sendMedia']({instanceName:_0x1cf4e8},_0x13502f){const _0x11100a=a0_0x344519;if((0x0,se['isBase64'])(_0x13502f?.[_0x11100a(0x7be)]?.[_0x11100a(0x1ea)])&&!_0x13502f?.[_0x11100a(0x7be)]?.['fileName'])throw new m(_0x11100a(0x6b9));if((0x0,se[_0x11100a(0x539)])(_0x13502f?.[_0x11100a(0x7be)]?.['media'])||(0x0,se[_0x11100a(0x1a3)])(_0x13502f?.[_0x11100a(0x7be)]?.[_0x11100a(0x1ea)]))return await this[_0x11100a(0x1cb)]['waInstances'][_0x1cf4e8][_0x11100a(0x7be)](_0x13502f);throw new m(_0x11100a(0x439));}async[a0_0x344519(0x408)]({instanceName:_0x33088a},_0x2a748d){const _0x5d6d71=a0_0x344519;if((0x0,se[_0x5d6d71(0x539)])(_0x2a748d[_0x5d6d71(0x2a2)][_0x5d6d71(0x4dd)])||(0x0,se[_0x5d6d71(0x1a3)])(_0x2a748d[_0x5d6d71(0x2a2)][_0x5d6d71(0x4dd)]))return await this[_0x5d6d71(0x1cb)][_0x5d6d71(0x11d)][_0x33088a][_0x5d6d71(0x69d)](_0x2a748d);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x344519(0x798)]({instanceName:_0x1b5a4d},_0xa3ae8a){const _0x151df2=a0_0x344519;if((0x0,se[_0x151df2(0x539)])(_0xa3ae8a[_0x151df2(0x25b)][_0x151df2(0x4bc)])||(0x0,se[_0x151df2(0x1a3)])(_0xa3ae8a[_0x151df2(0x25b)]['audio']))return await this[_0x151df2(0x1cb)]['waInstances'][_0x1b5a4d][_0x151df2(0x55e)](_0xa3ae8a);throw new m(_0x151df2(0x439));}async[a0_0x344519(0x19b)]({instanceName:_0x5b9b9e},_0x5bd4f8){const _0x391ea9=a0_0x344519;if((0x0,se[_0x391ea9(0x1a3)])(_0x5bd4f8['buttonMessage'][_0x391ea9(0x7be)]?.[_0x391ea9(0x1ea)])&&!_0x5bd4f8[_0x391ea9(0x3ba)][_0x391ea9(0x7be)]?.[_0x391ea9(0x6dc)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x391ea9(0x1cb)][_0x391ea9(0x11d)][_0x5b9b9e][_0x391ea9(0x3ba)](_0x5bd4f8);}async[a0_0x344519(0x5e6)]({instanceName:_0xda91c6},_0xd086be){const _0x1fca96=a0_0x344519;return await this[_0x1fca96(0x1cb)][_0x1fca96(0x11d)][_0xda91c6][_0x1fca96(0x71c)](_0xd086be);}async[a0_0x344519(0x800)]({instanceName:_0x5aab0d},_0x2ada2d){const _0x280a80=a0_0x344519;return await this[_0x280a80(0x1cb)][_0x280a80(0x11d)][_0x5aab0d][_0x280a80(0x36f)](_0x2ada2d);}async['sendList']({instanceName:_0xbd0ddb},_0x37cf3a){const _0x4f6764=a0_0x344519;return await this[_0x4f6764(0x1cb)]['waInstances'][_0xbd0ddb]['listMessage'](_0x37cf3a);}async[a0_0x344519(0x30f)]({instanceName:_0x2149e1},_0x41286b){const _0x46a684=a0_0x344519;return await this[_0x46a684(0x1cb)]['waInstances'][_0x2149e1]['contactMessage'](_0x41286b);}async[a0_0x344519(0x4f5)]({instanceName:_0xc3187},_0x408662){const _0x5108c5=a0_0x344519;if(!_0x408662[_0x5108c5(0x649)][_0x5108c5(0x224)][_0x5108c5(0x364)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x5108c5(0x222));return await this[_0x5108c5(0x1cb)][_0x5108c5(0x11d)][_0xc3187][_0x5108c5(0x649)](_0x408662);}async[a0_0x344519(0x201)]({instanceName:_0x55f809},_0x30b33c){const _0x1f24ba=a0_0x344519;return await this[_0x1f24ba(0x1cb)]['waInstances'][_0x55f809][_0x1f24ba(0x10c)](_0x30b33c);}},$o=require(a0_0x344519(0x465)),ks=require(a0_0x344519(0x52a)),Kt=class c{constructor(_0x57a94f,_0x491017,_0x29c623){const _0x37e95a=a0_0x344519;this[_0x37e95a(0x574)]=_0x57a94f,this[_0x37e95a(0x1cb)]=_0x491017,this[_0x37e95a(0x6c9)]=_0x29c623,this[_0x37e95a(0x767)]=new R(c[_0x37e95a(0x731)]);}async[a0_0x344519(0x7a0)](_0x3ae14b){const _0x2bc5c7=a0_0x344519;let _0x5570c0=this['configService'][_0x2bc5c7(0x283)](_0x2bc5c7(0x3e8))[_0x2bc5c7(0x6b4)],_0x226f15=(0x0,$o[_0x2bc5c7(0x262)])({'instanceName':_0x3ae14b['instanceName'],'apiName':st,'tokenId':(0x0,ks['v4'])()},_0x5570c0[_0x2bc5c7(0x308)],{'expiresIn':_0x5570c0[_0x2bc5c7(0x41a)],'encoding':_0x2bc5c7(0x27e),'subject':'g-t'}),_0x8cf5c1=await this[_0x2bc5c7(0x6c9)][_0x2bc5c7(0x5ca)]['create']({'jwt':_0x226f15},_0x3ae14b[_0x2bc5c7(0x20c)]);if(_0x8cf5c1[_0x2bc5c7(0x2b4)])throw this[_0x2bc5c7(0x767)][_0x2bc5c7(0x2b4)]({'localError':c['name']+'.jwt','error':_0x8cf5c1[_0x2bc5c7(0x2b4)]}),new m(_0x2bc5c7(0x2cb),_0x8cf5c1['error']?.[_0x2bc5c7(0x2f6)]());return{'jwt':_0x226f15};}async[a0_0x344519(0x66c)](_0x4b11a0){const _0x29522d=a0_0x344519;let _0x5ab916=(0x0,ks['v4'])()['toUpperCase'](),_0x12e844=await this[_0x29522d(0x6c9)][_0x29522d(0x5ca)][_0x29522d(0x19e)]({'apikey':_0x5ab916},_0x4b11a0['instanceName']);if(_0x12e844['error'])throw this[_0x29522d(0x767)][_0x29522d(0x2b4)]({'localError':c[_0x29522d(0x731)]+_0x29522d(0x5ee),'error':_0x12e844[_0x29522d(0x2b4)]}),new m(_0x29522d(0x2cb),_0x12e844[_0x29522d(0x2b4)]?.[_0x29522d(0x2f6)]());return{'apikey':_0x5ab916};}async[a0_0x344519(0x3d2)](_0x5ab86a){const _0xebca0c=a0_0x344519;let _0x21e4ac=this[_0xebca0c(0x574)][_0xebca0c(0x283)](_0xebca0c(0x3e8));return await this[_0x21e4ac[_0xebca0c(0x4b6)]](_0x5ab86a);}},Qt=class{constructor(_0x4f0fd8){const _0xdb15d6=a0_0x344519;this[_0xdb15d6(0x1cb)]=_0x4f0fd8;}async[a0_0x344519(0x827)](_0x104bf0,_0x12a672){const _0x419d44=a0_0x344519;return await this[_0x419d44(0x1cb)][_0x419d44(0x11d)][_0x104bf0['instanceName']][_0x419d44(0x827)](_0x12a672);}async['updateGroupPicture'](_0x7d680c,_0x35df3c){const _0x64c750=a0_0x344519;return await this[_0x64c750(0x1cb)][_0x64c750(0x11d)][_0x7d680c[_0x64c750(0x20c)]][_0x64c750(0x320)](_0x35df3c);}async[a0_0x344519(0x565)](_0x18a9a0,_0x3b3e90){const _0x44d884=a0_0x344519;return await this['waMonitor'][_0x44d884(0x11d)][_0x18a9a0['instanceName']][_0x44d884(0x565)](_0x3b3e90);}async[a0_0x344519(0x7de)](_0x34124b,_0x38826f){const _0x4f555a=a0_0x344519;return await this[_0x4f555a(0x1cb)][_0x4f555a(0x11d)][_0x34124b['instanceName']][_0x4f555a(0x7de)](_0x38826f);}async[a0_0x344519(0x2de)](_0x13cce3,_0x12b660){const _0x3b4111=a0_0x344519;return await this[_0x3b4111(0x1cb)][_0x3b4111(0x11d)][_0x13cce3['instanceName']][_0x3b4111(0x2de)](_0x12b660);}async[a0_0x344519(0x2f1)](_0x8c1358,_0x30f869){const _0x3410b2=a0_0x344519;return await this[_0x3410b2(0x1cb)]['waInstances'][_0x8c1358[_0x3410b2(0x20c)]][_0x3410b2(0x2f1)](_0x30f869);}async[a0_0x344519(0x72b)](_0x41c990,_0xc06794){const _0x5c2b1c=a0_0x344519;return await this[_0x5c2b1c(0x1cb)][_0x5c2b1c(0x11d)][_0x41c990[_0x5c2b1c(0x20c)]]['findGroup'](_0xc06794);}async[a0_0x344519(0x6dd)](_0x24cb7a){const _0x20a0cb=a0_0x344519;return await this[_0x20a0cb(0x1cb)][_0x20a0cb(0x11d)][_0x24cb7a[_0x20a0cb(0x20c)]][_0x20a0cb(0x6dd)]();}async['inviteCode'](_0x166a58,_0x172928){const _0x5390df=a0_0x344519;return await this[_0x5390df(0x1cb)][_0x5390df(0x11d)][_0x166a58[_0x5390df(0x20c)]]['inviteCode'](_0x172928);}async['joinGroup'](_0x19b4e7,_0x4ce986){const _0x35f877=a0_0x344519;return await this[_0x35f877(0x1cb)][_0x35f877(0x11d)][_0x19b4e7[_0x35f877(0x20c)]]['joinGroup'](_0x4ce986);}async[a0_0x344519(0x662)](_0x5d6e68,_0x3db738){const _0x2e0488=a0_0x344519;return await this['waMonitor'][_0x2e0488(0x11d)][_0x5d6e68[_0x2e0488(0x20c)]]['groupGetInviteInfo'](_0x3db738);}async['revokeInviteCode'](_0x253f98,_0x432af5){const _0xcc18ea=a0_0x344519;return await this['waMonitor'][_0xcc18ea(0x11d)][_0x253f98[_0xcc18ea(0x20c)]][_0xcc18ea(0x787)](_0x432af5);}async[a0_0x344519(0x512)](_0x3aeb47,_0x45d04d){const _0x24cef6=a0_0x344519;return await this[_0x24cef6(0x1cb)][_0x24cef6(0x11d)][_0x3aeb47[_0x24cef6(0x20c)]][_0x24cef6(0x512)](_0x45d04d);}async['updateGParticipate'](_0xc21ede,_0x5bdba0){const _0x4102e1=a0_0x344519;return await this[_0x4102e1(0x1cb)]['waInstances'][_0xc21ede['instanceName']]['updateGParticipant'](_0x5bdba0);}async[a0_0x344519(0x466)](_0x1d9d7f,_0x27fa29){const _0x15d53f=a0_0x344519;return await this['waMonitor']['waInstances'][_0x1d9d7f[_0x15d53f(0x20c)]][_0x15d53f(0x466)](_0x27fa29);}async[a0_0x344519(0x674)](_0x2778d6,_0x4def44){const _0x4c16d3=a0_0x344519;return await this[_0x4c16d3(0x1cb)][_0x4c16d3(0x11d)][_0x2778d6[_0x4c16d3(0x20c)]][_0x4c16d3(0x674)](_0x4def44);}},Yt=class{constructor(_0x2935c3){const _0x5451ab=a0_0x344519;this[_0x5451ab(0x1cb)]=_0x2935c3;}[a0_0x344519(0x19e)](_0x24e8a4,_0x59c972){const _0x45aa66=a0_0x344519;return this[_0x45aa66(0x1cb)][_0x45aa66(0x11d)][_0x24e8a4[_0x45aa66(0x20c)]]['setWebhook'](_0x59c972);}async['find'](_0x3b9370){const _0x38418f=a0_0x344519;try{return await this['waMonitor'][_0x38418f(0x11d)][_0x3b9370[_0x38418f(0x20c)]][_0x38418f(0x31a)]();}catch{return{'enabled':null,'url':''};}}},Np=new R(a0_0x344519(0x5a0)),Xt=class{constructor(_0x560512){const _0x3937d0=a0_0x344519;this[_0x3937d0(0x1cb)]=_0x560512;}async[a0_0x344519(0x44e)](_0x515cb5,_0x4667c8){const _0x460e04=a0_0x344519;return await this[_0x460e04(0x1cb)][_0x460e04(0x11d)][_0x515cb5[_0x460e04(0x20c)]]['editScheduleMessage'](_0x4667c8);}async[a0_0x344519(0x4ed)](_0x3c391d){const _0x46a4f0=a0_0x344519;return await this['waMonitor'][_0x46a4f0(0x11d)][_0x3c391d[_0x46a4f0(0x20c)]][_0x46a4f0(0x4ed)]();}async[a0_0x344519(0x779)](_0x55fcb3){const _0x19fcf4=a0_0x344519;return await this['waMonitor']['waInstances'][_0x55fcb3['instanceName']][_0x19fcf4(0x779)]();}async['getAutomateSystem'](_0x32013a){const _0x455a26=a0_0x344519;return await this[_0x455a26(0x1cb)]['waInstances'][_0x32013a['instanceName']][_0x455a26(0x332)]();}async['updateAgent'](_0x2c4163,_0x566868){const _0x277b75=a0_0x344519;return await this['waMonitor'][_0x277b75(0x11d)][_0x2c4163[_0x277b75(0x20c)]][_0x277b75(0x1a6)](_0x566868);}async[a0_0x344519(0x7ad)](_0x2c2dd6,_0xf655d3){const _0xfb6cd1=a0_0x344519;return await this[_0xfb6cd1(0x1cb)][_0xfb6cd1(0x11d)][_0x2c2dd6[_0xfb6cd1(0x20c)]][_0xfb6cd1(0x7ad)](_0xf655d3);}async['updateAutoCompleteMessages'](_0xa24766,_0x238e17){const _0x30b32d=a0_0x344519;return await this[_0x30b32d(0x1cb)][_0x30b32d(0x11d)][_0xa24766['instanceName']][_0x30b32d(0x5b2)](_0x238e17);}async[a0_0x344519(0x13f)](_0x1b4ac7,_0x41ad10){const _0x30004d=a0_0x344519;return await this[_0x30004d(0x1cb)][_0x30004d(0x11d)][_0x1b4ac7['instanceName']]['updateFlowConfig'](_0x41ad10);}async[a0_0x344519(0x125)](_0x43e635,_0x37a27e){const _0x39646e=a0_0x344519;return await this[_0x39646e(0x1cb)][_0x39646e(0x11d)][_0x43e635[_0x39646e(0x20c)]]['startFlow'](_0x37a27e);}async[a0_0x344519(0x571)](_0x2ef7d5,_0x11af51,_0x567343,_0x2b46d7){const _0xacac11=a0_0x344519;return await this[_0xacac11(0x1cb)][_0xacac11(0x11d)][_0x2ef7d5][_0xacac11(0x571)](_0x11af51,_0x567343,_0x2b46d7);}async[a0_0x344519(0x7b1)](_0x38d113,_0x2a2ea6){const _0x293264=a0_0x344519;return await this['waMonitor'][_0x293264(0x11d)][_0x38d113[_0x293264(0x20c)]][_0x293264(0x7b1)](_0x2a2ea6);}async[a0_0x344519(0x57a)](_0x80904c,_0x59e1f4){const _0x47430e=a0_0x344519;return await this[_0x47430e(0x1cb)][_0x47430e(0x11d)][_0x80904c[_0x47430e(0x20c)]][_0x47430e(0x57a)](_0x59e1f4);}async[a0_0x344519(0x7c5)](_0x31e30a,_0x27f566){const _0x5d3be8=a0_0x344519;return await this[_0x5d3be8(0x1cb)][_0x5d3be8(0x11d)][_0x31e30a[_0x5d3be8(0x20c)]][_0x5d3be8(0x7c5)](_0x27f566);}async['deleteConversation'](_0x10a3f8,_0x15968a){const _0x2e022d=a0_0x344519;return await this[_0x2e022d(0x1cb)][_0x2e022d(0x11d)][_0x10a3f8[_0x2e022d(0x20c)]]['deleteConversation'](_0x15968a);}async[a0_0x344519(0x738)](_0x49b6e6,_0x4218d5){const _0xd7aa95=a0_0x344519;return await this[_0xd7aa95(0x1cb)]['waInstances'][_0x49b6e6['instanceName']]['getFlow'](_0x4218d5[_0xd7aa95(0x731)],_0x4218d5[_0xd7aa95(0x54a)]);}async[a0_0x344519(0x1aa)](_0x563fee,_0x398f1c,_0x1d12a8){const _0x59b1ff=a0_0x344519;return await this[_0x59b1ff(0x1cb)][_0x59b1ff(0x11d)][_0x563fee[_0x59b1ff(0x20c)]]['createFlow'](_0x398f1c,_0x1d12a8);}async[a0_0x344519(0x672)](_0x19b9c0,_0x4b8e69,_0x13f117){const _0x9f0efd=a0_0x344519;return await this[_0x9f0efd(0x1cb)][_0x9f0efd(0x11d)][_0x19b9c0['instanceName']][_0x9f0efd(0x672)](_0x4b8e69,_0x13f117);}async['editFlowBlock'](_0x14f5df,_0x5eed0e,_0xa0c041){const _0x1ac056=a0_0x344519;return await this[_0x1ac056(0x1cb)]['waInstances'][_0x14f5df['instanceName']][_0x1ac056(0x365)](_0x5eed0e,_0xa0c041);}async[a0_0x344519(0x4ce)](_0x40bf8b,_0x319317,_0x1356aa){const _0x1b3784=a0_0x344519;return await this[_0x1b3784(0x1cb)][_0x1b3784(0x11d)][_0x40bf8b[_0x1b3784(0x20c)]]['editFlowReply'](_0x319317,_0x1356aa);}async['editFlowGroup'](_0x5362ab,_0x58dcd1,_0x2167ce){const _0x14e653=a0_0x344519;return await this['waMonitor']['waInstances'][_0x5362ab[_0x14e653(0x20c)]][_0x14e653(0x701)](_0x58dcd1,_0x2167ce);}async['editFlowCondition'](_0x5452d4,_0x480023,_0x45adf0){const _0x547755=a0_0x344519;return await this['waMonitor']['waInstances'][_0x5452d4[_0x547755(0x20c)]][_0x547755(0x362)](_0x480023,_0x45adf0);}async[a0_0x344519(0x2b3)](_0x538148,_0x4ec867,_0x461f45){const _0x25090f=a0_0x344519;return await this[_0x25090f(0x1cb)][_0x25090f(0x11d)][_0x538148[_0x25090f(0x20c)]][_0x25090f(0x2b3)](_0x4ec867,_0x461f45);}async['editFlowVariable'](_0x2b24f9,_0x2d4238,_0x178287){const _0x5a1957=a0_0x344519;return await this[_0x5a1957(0x1cb)][_0x5a1957(0x11d)][_0x2b24f9['instanceName']]['editFlowVariable'](_0x2d4238,_0x178287);}async[a0_0x344519(0x28d)](_0x19b924,_0x4e8dde,_0x4e2d41){const _0x313f99=a0_0x344519;return await this[_0x313f99(0x1cb)]['waInstances'][_0x19b924[_0x313f99(0x20c)]][_0x313f99(0x28d)](_0x4e8dde,_0x4e2d41);}async[a0_0x344519(0x17f)](_0x4e4886){const _0x1d5a49=a0_0x344519;return await this['waMonitor'][_0x1d5a49(0x11d)][_0x4e4886[_0x1d5a49(0x20c)]]['allFlows']();}},Zt=class{constructor(_0xed9c3a){this['webhookService']=_0xed9c3a;}async[a0_0x344519(0x5a1)](_0x4912ce,_0x5aaeef){const _0x19bac5=a0_0x344519;return this[_0x19bac5(0x627)][_0x19bac5(0x19e)](_0x4912ce,_0x5aaeef);}async['findWebhook'](_0x3a51f8){const _0x4930e9=a0_0x344519;return this[_0x4930e9(0x627)][_0x4930e9(0x1ee)](_0x3a51f8);}},es=class extends x{constructor(_0x26c241,_0xc02c6f){const _0x10b2e1=a0_0x344519;super(_0xc02c6f),this[_0x10b2e1(0x536)]=_0x26c241,this[_0x10b2e1(0x574)]=_0xc02c6f;}async[a0_0x344519(0x19e)](_0xd98b5c,_0xf55d2b){const _0x5ca661=a0_0x344519;try{return this['dbSettings'][_0x5ca661(0x67c)]?{'insertCount':(await this[_0x5ca661(0x536)][_0x5ca661(0x769)]({'_id':_0xf55d2b},{..._0xd98b5c},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x347bce){return _0x347bce;}}async[a0_0x344519(0x4ea)](_0x5bd36d){const _0x3e4adc=a0_0x344519;try{if(this[_0x3e4adc(0x356)]['ENABLED']){await this[_0x3e4adc(0x536)][_0x3e4adc(0x2bd)]({'_id':_0x5bd36d});return;}}catch(_0x2da2e0){return{'error':_0x2da2e0};}}async['find'](_0x17ca38){const _0x2da214=a0_0x344519;try{if(this['dbSettings'][_0x2da214(0x67c)])return await this['webhookModel'][_0x2da214(0x1a8)]({'_id':_0x17ca38});}catch{return{};}}},ts=class extends x{constructor(_0x33bd31,_0x5804ef){const _0x3d9595=a0_0x344519;super(_0x5804ef),this[_0x3d9595(0x3df)]=_0x33bd31,this[_0x3d9595(0x574)]=_0x5804ef,this[_0x3d9595(0x5ca)]=_0x5804ef[_0x3d9595(0x283)]('AUTHENTICATION');}async[a0_0x344519(0x19e)](_0x587839,_0x113091){const _0x42d756=a0_0x344519;try{if(this[_0x42d756(0x356)][_0x42d756(0x67c)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x113091},{'$set':{..._0x587839}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x2ff579){return{'error':_0x2ff579};}}async[a0_0x344519(0x3cd)](_0x300c53,_0xeaff1d){const _0x1e22f6=a0_0x344519;try{if(this[_0x1e22f6(0x356)][_0x1e22f6(0x67c)])return{'insertCount':(await this[_0x1e22f6(0x3df)]['updateMany'](_0x300c53,{'$set':_0xeaff1d},{'upsert':!0x1}))[_0x1e22f6(0x6ac)]};throw new Error(_0x1e22f6(0x736));}catch(_0x2d9ed5){return{'error':_0x2d9ed5};}}async[a0_0x344519(0x233)](_0x625902){const _0x14c96b=a0_0x344519;try{if(this[_0x14c96b(0x356)][_0x14c96b(0x67c)])return{'insertCount':(await this[_0x14c96b(0x3df)][_0x14c96b(0x233)](_0x625902))[_0x14c96b(0x6f1)]};throw new Error(_0x14c96b(0x736));}catch(_0x46a095){return{'error':_0x46a095};}}async[a0_0x344519(0x4ea)](_0x3bd8fb){const _0x40b647=a0_0x344519;try{if(this[_0x40b647(0x356)][_0x40b647(0x67c)]){await this[_0x40b647(0x3df)][_0x40b647(0x2bd)]({'_id':_0x3bd8fb});return;}}catch(_0x114c73){return{'error':_0x114c73};}}async[a0_0x344519(0x1ee)](_0x423082){const _0x150dae=a0_0x344519;try{if(this[_0x150dae(0x356)][_0x150dae(0x67c)])return await this['authModel'][_0x150dae(0x1a8)]({'_id':_0x423082});}catch{return{};}}async[a0_0x344519(0x5dd)](){const _0x1a7e6d=a0_0x344519;try{if(this[_0x1a7e6d(0x356)]['ENABLED'])return await this[_0x1a7e6d(0x3df)][_0x1a7e6d(0x1ee)]();}catch{return[];}}},ss=class extends x{[a0_0x344519(0x4b2)](_0x4ccc2b){return ha(_0x4ccc2b);}async[a0_0x344519(0x4ea)](_0x7d48da,_0x19cfd1){const _0x1314da=a0_0x344519;try{let _0x11bdab=this[_0x1314da(0x4b2)](_0x19cfd1),_0x2abc1d=T(_0x7d48da['where']);return{'deletedCount':(await _0x11bdab[_0x1314da(0x233)](_0x2abc1d))[_0x1314da(0x6f1)]};}catch(_0x41506c){return{'error':_0x41506c?.[_0x1314da(0x2f6)]()};}}async[a0_0x344519(0x2bd)](_0x55d8ee,_0xed722f){const _0x44c244=a0_0x344519;try{let _0x5f5ffb=this[_0x44c244(0x4b2)](_0xed722f),_0x2ca017=T(_0x55d8ee['where']);return{'deletedCount':(await _0x5f5ffb[_0x44c244(0x2bd)](_0x2ca017))[_0x44c244(0x6f1)]};}catch(_0x107ead){return{'error':_0x107ead?.[_0x44c244(0x2f6)]()};}}async['replaceOne'](_0x26d291,_0xa706cb,_0x46a9cd){const _0x386ce3=a0_0x344519;try{let _0x3a0c02=await this[_0x386ce3(0x4b2)](_0x46a9cd)['findByIdAndUpdate'](_0x26d291,_0xa706cb,{'overwrite':!0x0,'new':!0x0});return _0x3a0c02||(console['error']('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x26d291),null);}catch(_0x2b1784){return console[_0x386ce3(0x2b4)](_0x386ce3(0x74c),_0x2b1784),null;}}async[a0_0x344519(0x608)](_0x5e62cb,_0x2de722,_0x2b9315){const _0x45c71b=a0_0x344519;try{let _0x1367c5=await this[_0x45c71b(0x4b2)](_0x2b9315)['findById'](_0x5e62cb);return _0x1367c5?(Object['assign'](_0x1367c5,_0x2de722),await _0x1367c5[_0x45c71b(0x254)]()):(console['error'](_0x45c71b(0x77e),_0x5e62cb),null);}catch(_0xf63198){return console[_0x45c71b(0x2b4)](_0x45c71b(0x74c),_0xf63198),null;}}async[a0_0x344519(0x3c6)](_0x539320,_0x2bbd92,_0x3abb25){const _0x621cc=a0_0x344519;try{let _0x5cf3e7=this[_0x621cc(0x4b2)](_0x3abb25),_0x3739de=await _0x5cf3e7['findById'](_0x539320),_0x221e2d=await _0x5cf3e7[_0x621cc(0x11a)]({'_id':_0x539320},_0x2bbd92,{'new':!0x0,'runValidators':!0x0});return _0x221e2d||(console[_0x621cc(0x7a7)](_0x621cc(0x50f)+_0x539320+_0x621cc(0x388)+_0x3abb25+_0x621cc(0x58a)),null);}catch(_0x37b919){throw console['error'](_0x621cc(0x463),_0x37b919),_0x37b919;}}async[a0_0x344519(0x3be)](_0x5cfd65){const _0x568fdd=a0_0x344519;try{let _0x271b00=this['getFlowModelForOwner'](_0x5cfd65),_0x28df18={'shareOwners':{'$exists':!0x1}},_0x398425={'$set':{'shareOwners':[]}};return(await _0x271b00[_0x568fdd(0x164)](_0x28df18,_0x398425))[_0x568fdd(0x6ac)];}catch(_0x3dacdf){return console[_0x568fdd(0x2b4)](_0x3dacdf),0x0;}}async['createAndSave'](_0x1da4ab,_0x3b7671){const _0x1f7c0e=a0_0x344519;try{let _0x3b8c95=this[_0x1f7c0e(0x4b2)](_0x3b7671);return await new _0x3b8c95(_0x1da4ab)[_0x1f7c0e(0x254)]();}catch(_0x21ee51){return console['error'](_0x1f7c0e(0x62d),_0x21ee51),null;}}async[a0_0x344519(0x164)](_0x3aef5d,_0x35ddc6,_0x28703d){const _0x34d82a=a0_0x344519;try{return{'modifiedCount':(await this[_0x34d82a(0x4b2)](_0x28703d)[_0x34d82a(0x164)](_0x3aef5d,{'$set':_0x35ddc6}))[_0x34d82a(0x6ac)]};}catch(_0x1a3b89){return console['error'](_0x34d82a(0x1d8),_0x1a3b89),{'error':_0x1a3b89};}}async[a0_0x344519(0x5dd)](_0x21877d,_0x5c88ed){const _0x476db0=a0_0x344519;try{let _0x3723f1=this[_0x476db0(0x4b2)](_0x5c88ed),_0x5c5f0b=T(_0x21877d[_0x476db0(0x52c)]);return await _0x3723f1['find'](_0x5c5f0b)[_0x476db0(0x2a9)](_0x21877d?.[_0x476db0(0x2a9)]??0x0)['lean']();}catch{return[];}}async[a0_0x344519(0x1a8)](_0x21e3c1,_0x12580d){const _0x5e956d=a0_0x344519;try{let _0x4d800c=this['getFlowModelForOwner'](_0x12580d),_0x5a476f=T(_0x21e3c1[_0x5e956d(0x52c)]);return await _0x4d800c[_0x5e956d(0x1a8)](_0x5a476f)['lean']();}catch{return null;}}async['deleteAll'](_0x32900b){const _0x3fa791=a0_0x344519;try{return await this[_0x3fa791(0x4b2)](_0x32900b)['collection'][_0x3fa791(0x44a)](),{'success':!0x0};}catch(_0x535aa1){return console[_0x3fa791(0x2b4)](_0x535aa1),{'success':!0x1,'error':_0x535aa1};}}},as=class extends x{[a0_0x344519(0x258)](_0x457f47){return ga(_0x457f47);}async[a0_0x344519(0x113)](_0x15794f){const _0xfb1a69=a0_0x344519;if(_0x15794f[_0xfb1a69(0x4e4)]!==0x0)try{return{'insertCount':(await this[_0xfb1a69(0x258)](_0x15794f[0x0]['owner'])[_0xfb1a69(0x3ab)]([..._0x15794f]))['length']};}catch(_0xa532b){return _0xa532b;}}async[a0_0x344519(0x4ea)](_0x411c53,_0x2726d7){const _0x952c73=a0_0x344519;try{let _0x38eeec=this[_0x952c73(0x258)](_0x2726d7),_0x44e87f=T(_0x411c53[_0x952c73(0x52c)]);return{'deletedCount':(await _0x38eeec[_0x952c73(0x233)](_0x44e87f))[_0x952c73(0x6f1)]};}catch(_0x219956){return{'error':_0x219956?.['toString']()};}}async[a0_0x344519(0x2bd)](_0x1b694a,_0x183ff7){const _0xda6c8c=a0_0x344519;try{let _0x911557=this['getConversationModelForOwner'](_0x183ff7),_0x3d3859=T(_0x1b694a[_0xda6c8c(0x52c)]);return{'deletedCount':(await _0x911557['deleteOne'](_0x3d3859))[_0xda6c8c(0x6f1)]};}catch(_0x5b51d6){return{'error':_0x5b51d6?.['toString']()};}}async[a0_0x344519(0x729)](_0x15d273,_0x18a5a){const _0x40e9c4=a0_0x344519;try{if(_0x15d273['length']===0x0)return;let _0x5bde30=this[_0x40e9c4(0x258)](_0x18a5a),_0x30754b=_0x15d273[_0x40e9c4(0x41f)](_0x3e5621=>({'updateOne':{'filter':{'name':_0x3e5621[_0x40e9c4(0x731)],'owner':_0x18a5a},'update':{..._0x3e5621}}})),{modifiedCount:_0x12bebe}=await _0x5bde30[_0x40e9c4(0x566)](_0x30754b);return{'insertCount':_0x12bebe};}catch{return;}}async[a0_0x344519(0x164)](_0x239085,_0x4fb55a,_0x5a1141){const _0xced23b=a0_0x344519;try{return{'modifiedCount':(await this[_0xced23b(0x258)](_0x5a1141)[_0xced23b(0x164)](_0x239085,{'$set':_0x4fb55a})[_0xced23b(0x64e)]())[_0xced23b(0x6ac)]};}catch(_0x33332a){return console[_0xced23b(0x2b4)](_0xced23b(0x683),_0x33332a),{'error':_0x33332a};}}async[a0_0x344519(0x608)](_0x1efe4b,_0x40505d,_0x274cf4){const _0xe9de30=a0_0x344519;try{return await this[_0xe9de30(0x258)](_0x274cf4)[_0xe9de30(0x11a)]({'_id':_0x1efe4b},{'$set':_0x40505d},{'new':!0x0,'upsert':!0x0})[_0xe9de30(0x45a)]();}catch(_0x22e388){return console[_0xe9de30(0x2b4)](_0x22e388),null;}}async[a0_0x344519(0x1ee)](_0x29bb5b,_0x293979){const _0x171fd7=a0_0x344519;try{return await this[_0x171fd7(0x258)](_0x293979)[_0x171fd7(0x1ee)](_0x29bb5b)[_0x171fd7(0x4ec)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x344519(0x1a8)](_0x71b41e,_0x210870){const _0x399abd=a0_0x344519;try{return await this[_0x399abd(0x258)](_0x210870)[_0x399abd(0x1a8)]({..._0x71b41e['where']})[_0x399abd(0x45a)]();}catch{return null;}}async[a0_0x344519(0x678)](_0x118f04){const _0x5e1813=a0_0x344519;try{return await this[_0x5e1813(0x258)](_0x118f04)[_0x5e1813(0x6ab)]['drop'](),{'success':!0x0};}catch(_0x1bef1f){return console[_0x5e1813(0x2b4)](_0x1bef1f),{'success':!0x1,'error':_0x1bef1f};}}},os=class extends x{[a0_0x344519(0x646)](_0x159604){return ma(_0x159604);}async['createAndSave'](_0x5b7121,_0x5b22b8){const _0x41b984=a0_0x344519;try{let _0x5997c5=this[_0x41b984(0x646)](_0x5b22b8);return await new _0x5997c5(_0x5b7121)[_0x41b984(0x254)]();}catch(_0x3bc1d1){return console[_0x41b984(0x2b4)](_0x41b984(0x62d),_0x3bc1d1),null;}}async[a0_0x344519(0x2bd)](_0x107c63,_0x28e3e9){const _0x27a1fa=a0_0x344519;try{return await this[_0x27a1fa(0x646)](_0x28e3e9)[_0x27a1fa(0x13c)](_0x107c63),{};}catch(_0x65a368){return{'error':_0x65a368?.['toString']()};}}async[a0_0x344519(0x608)](_0x3ec497,_0x1a641e,_0x56b62d){const _0x27102a=a0_0x344519;try{return await this['getScheduleMessageModelForOwner'](_0x56b62d)[_0x27102a(0x11a)](_0x3ec497,{'$set':_0x1a641e},{'new':!0x0})[_0x27102a(0x45a)]();}catch(_0x7d3245){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x7d3245),null;}}async[a0_0x344519(0x4d1)](_0x395abb,_0x1c6dc1,_0x196a02){const _0x3a2362=a0_0x344519;try{return await this[_0x3a2362(0x646)](_0x196a02)[_0x3a2362(0x746)](_0x395abb,_0x1c6dc1,{'new':!0x0})[_0x3a2362(0x45a)]();}catch(_0x43d1b0){return console[_0x3a2362(0x2b4)](_0x3a2362(0x329),_0x43d1b0),null;}}async[a0_0x344519(0x1ee)](_0x5a641b,_0x30f607){const _0x3702b8=a0_0x344519;try{return await this[_0x3702b8(0x646)](_0x30f607)[_0x3702b8(0x1ee)](_0x5a641b[_0x3702b8(0x52c)])['limit'](_0x5a641b?.[_0x3702b8(0x2a9)]??0x0)[_0x3702b8(0x4ec)]({'when':0x1})[_0x3702b8(0x45a)]();}catch{return[];}}async[a0_0x344519(0x1a8)](_0x278e13,_0x15018b){const _0x3dd139=a0_0x344519;try{return await this[_0x3dd139(0x646)](_0x15018b)[_0x3dd139(0x1a8)](_0x278e13[_0x3dd139(0x52c)])[_0x3dd139(0x4ec)]({'when':0x1})[_0x3dd139(0x45a)]();}catch{return null;}}async[a0_0x344519(0x313)](_0x5665d4,_0x391d81){const _0x3263a5=a0_0x344519;try{return await this[_0x3263a5(0x646)](_0x391d81)['findById'](_0x5665d4)[_0x3263a5(0x45a)]();}catch{return null;}}async[a0_0x344519(0x233)](_0x1e0330,_0x5143d9){const _0x521338=a0_0x344519;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x5143d9)['deleteMany'](_0x1e0330))[_0x521338(0x6f1)]};}catch(_0x1331a3){return console[_0x521338(0x2b4)]('Erro\x20ao\x20deletar\x20mensagens:',_0x1331a3),{'error':_0x1331a3};}}async[a0_0x344519(0x678)](_0x478ec3){const _0x3022a2=a0_0x344519;try{return await this[_0x3022a2(0x646)](_0x478ec3)['collection'][_0x3022a2(0x44a)](),{'success':!0x0};}catch(_0x594bec){return console[_0x3022a2(0x2b4)](_0x594bec),{'success':!0x1,'error':_0x594bec};}}},rs=class extends x{async[a0_0x344519(0x729)](_0x283fd0,_0x49181d){const _0x259150=a0_0x344519;try{if(this[_0x259150(0x356)][_0x259150(0x67c)]){let _0x4a0c6a=await Ne[_0x259150(0x11a)]({'_id':_0x49181d},{'$set':_0x283fd0},{'new':!0x0});return console[_0x259150(0x7a7)](_0x259150(0x486),_0x4a0c6a),_0x4a0c6a;}}catch(_0x586f80){throw console[_0x259150(0x2b4)](_0x259150(0x547),_0x586f80),_0x586f80;}}async[a0_0x344519(0x314)](_0x1dae15){const _0x323485=a0_0x344519;try{let _0x5db64c=await Ne[_0x323485(0x313)](_0x1dae15);return _0x5db64c?_0x5db64c[_0x323485(0x203)]||(_0x5db64c[_0x323485(0x203)]=[],await _0x5db64c['save']()):(_0x5db64c=new Ne({'_id':_0x1dae15,'autoCompleteMessages':[]}),await _0x5db64c[_0x323485(0x254)]()),_0x5db64c;}catch(_0x987368){return _0x987368['code']===0x2af8&&_0x987368[_0x323485(0x240)]&&_0x987368[_0x323485(0x240)]['autoCompleteMessages.command']?(console[_0x323485(0x2b4)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await Ne[_0x323485(0x6ab)][_0x323485(0x79b)](_0x323485(0x78f)),null):(console[_0x323485(0x2b4)](_0x323485(0x60f),_0x987368),null);}}},Tr=new R(a0_0x344519(0x625)),Ir=new ze(b),xr=new Vt(b),Dr=new rt(b),_r=new Gt(ta,b),Pr=new es(ca,b),kr=new ts(ra,b),Lr=new ss(b),jr=new Bt(b),Fr=new as(b),Jr=new os(b),Ur=new rs(b),pe=new Be(Ir,xr,Dr,_r,Pr,kr,Lr,Fr,jr,Jr,Ur,$?.[a0_0x344519(0x570)]()),G=new qt(ds,b,pe),qr=new Kt(b,G,pe),Vr=new Yt(G),Es=new Zt(Vr),A=new Xt(G),le=new zt(G,b,pe,ds,qr),B=new Ht(G),P=new Wt(G),q=new Qt(G);Tr[a0_0x344519(0x1af)](a0_0x344519(0x2f0));var qh=require(a0_0x344519(0x12b)),Ls=require('fs'),Ao=O(require(a0_0x344519(0x73c))),Oo=O(require(a0_0x344519(0x373))),Pe=class c{static #e;static set[a0_0x344519(0x189)](_0x583c6a){this.#e=_0x583c6a;}static get[a0_0x344519(0x73c)](){const _0x31160c=a0_0x344519;let {FULLCHAIN:_0x539710,PRIVKEY:_0x1f92ea}=b[_0x31160c(0x283)](_0x31160c(0x5a2));return Ao[_0x31160c(0x1d5)]({'cert':(0x0,Ls[_0x31160c(0x3f1)])(_0x539710),'key':(0x0,Ls[_0x31160c(0x3f1)])(_0x1f92ea)},c.#e);}static get[a0_0x344519(0x373)](){const _0x22d4a3=a0_0x344519;return Oo[_0x22d4a3(0x1d5)](c.#e);}},ge=O(require('fs')),Po=O(require(a0_0x344519(0x23e))),ke=O(require(a0_0x344519(0x3a0))),je=O(require(a0_0x344519(0x5e2))),Fe=require('child_process');function Gr(){const _0x41b6d7=a0_0x344519;G[_0x41b6d7(0x1dc)]();let _0x26acf8=je[_0x41b6d7(0x10d)][_0x41b6d7(0x2a3)](__dirname,_0x41b6d7(0x5ed));_o(_0x26acf8);}var _o=_0x4d9e40=>{const _0x37f2ac=a0_0x344519;let _0x2de848=ge['default'][_0x37f2ac(0x781)](_0x4d9e40),_0x41d8e6=0xc*0x3c*0x3c*0x3e8,_0x5f1e64=0x2*0x3c*0x3c*0x3e8,_0x2cd76c=new Date()['getTime']();_0x2de848[_0x37f2ac(0x402)](_0x2fe168=>{const _0x46d4ea=_0x37f2ac;let _0x43871d=je['default']['join'](_0x4d9e40,_0x2fe168),_0xa7069d=ge[_0x46d4ea(0x10d)]['statSync'](_0x43871d)[_0x46d4ea(0x50c)]['getTime']();_0x2cd76c-_0xa7069d>_0x41d8e6&&(ge[_0x46d4ea(0x10d)][_0x46d4ea(0x3d7)](_0x43871d),console[_0x46d4ea(0x7a7)](_0x46d4ea(0x593)+_0x2fe168));}),setTimeout(()=>_o(_0x4d9e40),_0x5f1e64);};function Br(){const _0xeef05f=a0_0x344519;let _0x3b2118=new R(_0xeef05f(0x1e6)),_0x18740f=(0x0,me[_0xeef05f(0x10d)])();_0x18740f['use']((0x0,Do[_0xeef05f(0x10d)])({'origin'(_0x3282c9,_0x395b12){const _0x2d9ee6=_0xeef05f;let {ORIGIN:_0x3870a1}=b[_0x2d9ee6(0x283)]('CORS');return _0x3282c9||(_0x3282c9='*'),_0x3870a1[_0x2d9ee6(0x81c)]('*')!==-0x1||_0x3870a1[_0x2d9ee6(0x81c)](_0x3282c9)!==-0x1?_0x395b12(null,!0x0):_0x395b12(new Error(_0x2d9ee6(0x6ee)));},'methods':[...b[_0xeef05f(0x283)](_0xeef05f(0x560))[_0xeef05f(0x118)]],'credentials':b[_0xeef05f(0x283)](_0xeef05f(0x560))[_0xeef05f(0x7da)]}),(0x0,me[_0xeef05f(0x1b1)])({'extended':!0x0,'limit':'50mb'}),(0x0,me[_0xeef05f(0x2d0)])({'limit':_0xeef05f(0x5f0)})),_0x18740f[_0xeef05f(0x511)]((_0x11b5cb,_0x29ffaf,_0x1f00ba)=>{const _0x235e87=_0xeef05f;_0x11b5cb[_0x235e87(0x5e2)][_0x235e87(0x742)](_0x235e87(0x424))?_0x1f00ba():(0x0,xo['default'])()(_0x11b5cb,_0x29ffaf,_0x1f00ba);}),_0x18740f[_0xeef05f(0x442)](_0xeef05f(0x281),_0xeef05f(0x22a)),_0x18740f[_0xeef05f(0x442)](_0xeef05f(0x620),(0x0,Fs['join'])(ce,'views')),_0x18740f[_0xeef05f(0x511)](me['default'][_0xeef05f(0x70d)]((0x0,Fs['join'])(ce,'public'))),_0x18740f['use']((_0x51eca7,_0x36d617,_0x3331e2)=>{const _0x487fac=_0xeef05f;let _0x5e73f0=_0x36d617[_0x487fac(0x2f3)];_0x36d617[_0x487fac(0x2f3)]=function(_0x159255){const _0x5819ab=_0x487fac;if(_0x51eca7['query']['convert']===_0x5819ab(0x145)||_0x51eca7[_0x5819ab(0x1f2)][_0x5819ab(0x7cc)]===_0x5819ab(0x145)){let _0x45452c=JSON['parse'](_0x159255);_0x159255=JSON[_0x5819ab(0x3f5)](_0x1904fc(_0x45452c));}return _0x5e73f0['apply'](_0x36d617,[_0x159255]);},_0x3331e2();}),_0x18740f['use']('/',xe),_0x18740f[_0xeef05f(0x511)]((_0x12e9cb,_0x45c100,_0xafff76,_0x2e2896)=>{const _0x35d570=_0xeef05f;if(_0x12e9cb)return _0xafff76[_0x35d570(0x197)](_0x12e9cb[_0x35d570(0x197)]||0x1f4)[_0x35d570(0x2d0)](_0x12e9cb);},(_0x368e57,_0x1e6dd9,_0x5dc590)=>{const _0x3cbf80=_0xeef05f;let {method:_0x1d48f9,url:_0x215b8b}=_0x368e57;_0x1e6dd9[_0x3cbf80(0x197)](0x194)[_0x3cbf80(0x2d0)]({'status':0x194,'message':_0x3cbf80(0x7ae)+_0x1d48f9[_0x3cbf80(0x5fd)]()+'\x20'+_0x215b8b,'error':_0x3cbf80(0x349)}),_0x5dc590();});let _0x1904fc=(_0x167102,_0xefd60='_p_')=>{const _0x3e9249=_0xeef05f;let _0x4131da=(_0x2a5427,_0x5e1be8=null,_0x5640f8=!0x1)=>{const _0x43e0e4=a0_0x3abc;let _0x24f0c5={};return Object[_0x43e0e4(0x6cc)](_0x2a5427)['forEach'](_0x56c4d9=>{const _0x5668f6=_0x43e0e4;let _0x522f14=_0x2a5427[_0x56c4d9],_0x388f10=''+_0xefd60+_0x56c4d9;_0x5e1be8&&!_0x5640f8&&(_0x388f10=_0x5e1be8+'.'+_0x56c4d9),!_0x522f14&&_0x522f14!==0x0&&_0x522f14!==!0x1||typeof _0x522f14>'u'?_0x24f0c5[_0x388f10]=null:typeof _0x522f14!=_0x5668f6(0x3fc)&&!Array[_0x5668f6(0x635)](_0x522f14)?_0x24f0c5[_0x388f10]=_0x522f14:typeof _0x522f14==_0x5668f6(0x3fc)&&!Array[_0x5668f6(0x635)](_0x522f14)?_0x24f0c5=Object[_0x5668f6(0x2d7)](_0x24f0c5,_0x4131da(_0x522f14,_0x388f10)):Array[_0x5668f6(0x635)](_0x522f14)&&(typeof _0x522f14[0x0]==_0x5668f6(0x3fc)?(_0x24f0c5[_0x388f10]=[],_0x522f14[_0x5668f6(0x402)](_0x21f561=>{const _0x41ca16=_0x5668f6;_0x24f0c5[_0x388f10][_0x41ca16(0x413)](_0x4131da(_0x21f561,_0x388f10,!0x0));})):_0x24f0c5[_0x388f10]=_0x522f14);}),_0x24f0c5;};return Array[_0x3e9249(0x635)](_0x167102)?_0x167102['map'](_0x1ba761=>_0x4131da(_0x1ba761)):typeof _0x167102==_0x3e9249(0x3fc)&&_0x167102!==null?_0x4131da(_0x167102):{};},_0x4b5b00=b['get'](_0xeef05f(0x1e6));Pe[_0xeef05f(0x189)]=_0x18740f;let _0x28c5d2=Pe[_0x4b5b00[_0xeef05f(0x4b6)]],_0x410807='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x28c5d2[_0xeef05f(0x7f6)](_0x4b5b00[_0xeef05f(0x18c)],()=>{const _0xdc27cb=_0xeef05f;_0x3b2118['log'](_0x410807),_0x3b2118['log'](_0x4b5b00['TYPE'][_0xdc27cb(0x5fd)]()+'\x20-\x20ON:\x20'+_0x4b5b00['PORT']);}),Gr(),Ks();}var Wr=a0_0x344519(0x4bd),zr=je[a0_0x344519(0x10d)][a0_0x344519(0x2a3)](__dirname,a0_0x344519(0x52b)),Le=null;function Hr(){return new Promise((_0x3ec799,_0x995897)=>{const _0xfd0a6f=a0_0x3abc;ge[_0xfd0a6f(0x10d)]['readFile'](zr,_0xfd0a6f(0x6b3),(_0x205df1,_0x23708e)=>{const _0x2c9dda=_0xfd0a6f;if(_0x205df1){Le=_0x205df1,_0x3ec799();return;}Po[_0x2c9dda(0x10d)]['parse'](_0x23708e)[_0x2c9dda(0x6f9)]['url']===Wr?(Le=null,_0x3ec799()):(Le=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x3ec799());});});}async function Kr(){const _0xd365d=a0_0x344519;try{await Hr(),await Js();}catch(_0x4dc822){console[_0xd365d(0x2b4)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x4dc822),process[_0xd365d(0x50a)](0x1);}}Kr();async function ko(){const _0x2b6230=a0_0x344519;let _0x20a9d4;try{_0x20a9d4=(await ke[_0x2b6230(0x10d)][_0x2b6230(0x283)](_0x2b6230(0x1ac)))[_0x2b6230(0x7e5)]['ip'];}catch(_0x2e1ccd){console[_0x2b6230(0x2b4)](_0x2e1ccd);try{_0x20a9d4=(await ke[_0x2b6230(0x10d)][_0x2b6230(0x283)](_0x2b6230(0x6ff)))[_0x2b6230(0x7e5)]['ip'];}catch(_0xf5955b){console[_0x2b6230(0x2b4)](_0xf5955b);try{_0x20a9d4=(await ke[_0x2b6230(0x10d)][_0x2b6230(0x283)](_0x2b6230(0x6f6)))[_0x2b6230(0x7e5)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1c7333){return console[_0x2b6230(0x2b4)](_0x1c7333),!0x1;}}}return _0x20a9d4;}var To=0x0;async function Qr(){const _0x7fd843=a0_0x344519;let _0x48a79d=await new ue(b[_0x7fd843(0x283)](_0x7fd843(0x172)))['instanceKeys']();return console[_0x7fd843(0x7a7)](_0x7fd843(0x5f8),_0x48a79d['length']),_0x48a79d[_0x7fd843(0x4e4)];}function Yr(_0x547d34){const _0x204390=a0_0x344519;let _0x1671a7=_0x547d34[_0x204390(0x283)](_0x204390(0x1e6))[_0x204390(0x5df)],_0x9159ae=_0x547d34[_0x204390(0x283)](_0x204390(0x5a2)),_0x57eae7;if(_0x1671a7){let _0x2d2240=_0x1671a7['match'](/\/\/(.*?)\./);_0x2d2240&&_0x2d2240[0x1]&&(_0x57eae7=_0x2d2240[0x1]);}if(!_0x57eae7&&_0x9159ae&&_0x9159ae[_0x204390(0x645)]){let _0x3e4891=_0x9159ae['FULLCHAIN']['split']('/'),_0x556f2a=_0x3e4891[_0x3e4891[_0x204390(0x4e4)]-0x2];if(_0x556f2a){let _0x27dff9=_0x556f2a[_0x204390(0x134)]('.');_0x27dff9[_0x204390(0x4e4)]>0x2&&(_0x57eae7=_0x27dff9[0x0]);}}return _0x57eae7;}function a0_0x3ee0(){const _0x572ff1=['prefixCommand','whatsappNumber','loadWebhook','#ffffff','Instance\x20Key\x20from\x20DB:','editConversation','.\x20Aguardando\x20antes\x20de\x20reconectar...','Getting\x20image\x20from\x20url','Falta\x20informação\x20para\x20a\x20chamada\x20API','SERVER_PORT','request_method','\x20minutos.\x20Será\x20às\x20','uazapi','setContext','none','collections','awaitSeconds','long','/wa-presence','$dbName',',\x20saindo.','):\x20conversation.waitingMenu_name','):\x20Limpando\x20delayMessage','equal','Retornando\x20após\x20a\x20tentativa\x20final:','reviver','CREDENTIALS','Bad\x20Request','.webp','copy','groupName','groupValidate','):\x20teve\x20mudanças\x20chat.archived:\x20','MAX_RECONNECT_ATTEMPTS','labels.association','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','messageType','data','HH:mm:ss','cors','createNewConversation','interval\x20não\x20é\x20um\x20número','readreceipts','\x20Tentativa\x20de\x20reconexão\x20','getPrototypeOf','groupadd','rowId','uazapiSendMedia','addReplyOption','):\x20Grupo\x20','isInteger','updateStatusPrivacy','processApiRequest','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','listen','deleteMessage','console','Fluxo\x20agendado\x20pelo\x20fluxo\x20','values','/instance','updateProfilePicture','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','Message','isAdmin','sendPoll','DARK','expression','DATABASE_CONNECTION_URI','Erro\x20ao\x20copiar\x20o\x20documento','linkPreview','message','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','uazapiSendLocation','/wa-connection-update','instanceKeys','joinGroupValidate','Connection\x20closed\x20for\x20instance:\x20','key','sync','CONTACTS_UPSERT','contactHandle','option','substring','currency','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','menuMessage','storePath','stopWhenYouSendMsg','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','footerText','lastFetchAwaitingApproval','indexOf','AutomateSystem\x20não\x20foi\x20inicializado','getBusinessProfile','Erro\x20ao\x20editar\x20o\x20bloco:\x20','poll','buttonText','CONTACTS_SET','Mensagem\x20não\x20suportada','removed','verify','BufferJSON','createGroup','):\x20Entrou\x20na\x20função\x20scheduleFlow','Chat\x20com\x20ID\x20','groupMemberAddMode','formatVCard','Fluxo\x20não\x20encontrado.','address','tags','createRegularFlow','chat\x20não\x20encontrado','Cache-Control','Type\x20is\x20required','convertaudioMP3','statusMessage','default','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','setHeader','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','g.us','memberAddMode','insert','label','refused','Router','groups_ignore','METHODS','groups.upsert','findOneAndUpdate','request\x20received\x20in\x20deleteDoneMessages','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','waInstances','shareOwners','hasOwnProperty','_activedCount','model','\x1b[0m','deleteImportedChat','deleteInstance','startFlow','Db\x20Connection','upperCase','Não\x20respondeu\x20com\x20a\x20enquete.','newStoppedUntil','sendAudio','express-async-errors','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Invalid\x20format','Error\x20finding\x20many\x20contacts:','.mp3','notEmpty','privacySettings','FlowRouter','split','stopIfLastReturnedError','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','markMessageAsRead','string','send.message','floor','#f64847','findByIdAndDelete','groupAcceptInvite','groupParticipantsUpdate','updateFlowConfig','dbClient','instances','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','OrAnd','findFlow','true','DB_PREFIX_NAME','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','getStatus','_error','generateWAMessageFromContent','apiResponse','Falha\x20ao\x20processar\x20a\x20solicitação','rows','stderr','Erro\x20de\x20atualização:\x20','output','authService','formatBRNumber','ephemeralDuration','response','last','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','cacheContactModel','getDelay','messageId','):\x20newFirstValue\x20após\x20replaceVariables:','exists','trimmed','deleteMessageForEveryone','chats.update','updatePrivacySettings','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','WebhookGlobal','AUTHENTICATION_JWT_SECRET','updateMany','call','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','ORG:','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Buscando\x20conversa...','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','splice','Error\x20fetching\x20and\x20updating\x20profile:\x20',']\x20(','fetchMessages','):\x20Falha\x20ao\x20deletar\x20mensagem.','timeout','copyBlock','REDIS','addresss','pino','sendMedia','getRandomText','profilePictureUrl','updatePresence','height','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','updateMissingCustomFields','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','removeInstance','--agree-tos','allFlows','entries','HttpsProxyAgent','local_map','contact_blacklist','https://uazapi-plugin.bubbleapps.io/?url=','Instance\x20deleted','.uazapi.dev','Esse\x20fluxo\x20expirou','processvaredits','app','\x20não\x20encontrado','hGetAll','PORT','scheduleMessage','mimetype','TEXT','start','../env.yml','\x22,\x20valor\x20a\x20substituir:\x20\x22','Unknown\x20error','fetchProfilePictureUrl','Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','initAuthCreds','status','item','statusCode','dayjs','sendButtons','Processing\x20audio','jid','create','some','reconnectAttempts','context','PRIVKEY','isBase64','\x20segundos','-instances','updateAgent','):\x20Criando\x20nova\x20conversa[createNewConversation]','findOne','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','createFlow','and','https://jsonip.com','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','code','info','etiquetas','urlencoded','URL:','activatedCount','):\x20Buscando\x20todos\x20os\x20fluxos...','Request\x20body:','mediatype','automateSystem','/webhook','min','waitingMenu_text','Valor\x20de\x20find\x20ou\x20replace\x20ausente','parse','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','ButtonsMessage','messages.update','Error\x20in\x20chatModify\x20for\x20number\x20','created','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','customFields','formatStatusMessage','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Buscando\x20conversas...','ultimaTentativaRemoteJid','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','chats',':\x20IP\x20configurado:\x20','waMonitor','connectionStatus','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','keep-alive','):\x20Alterando\x20fluxo...','/exit','digest','processblock','PLAYED','editFlowVariable','createServer','ScheduleMessage','The\x20\x22','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','variablesToObject','desc','SERVER_ACK','loadInstance','arrayUnique','headerString','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','EMAIL:','Fluxo\x20não\x20encontrado','LICENSE_INVALID','quoted','count','\x20removido\x20do\x20chat\x20','SERVER','\x20ao\x20chat\x20','*Pergunta*:\x20\x0a','archive','media','/instance/create','out','document','find','deleteBlock','debug','reconnectTimestamps','headers','toBrazilianNumberFormat','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado',',\x20fará\x20nova\x20verificação\x20em\x20','all','removeProfilePicture','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','http://icanhazip.com/','instanceInfo','webhook','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','labels.edit','open','Business\x20profile\x20fetched','remove','sendStatus','editflowblock','autoCompleteMessages','\x22\x20cannot\x20be\x20empty',',\x20resultado:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','header','Instance\x20\x22','CONECTADO\x20À\x20UAZAPI','Cached\x20audio\x20found,\x20returning\x20existing\x20file','fromMe','instanceName','MESSAGES_UPSERT','This\x20name\x20','menuType','recording','slice','Error\x20in\x20converting\x20audio','redisEnv','value','createInstance','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','GUARD','waitingMenu_id','_Contacts','application/octet-stream','):\x20Enviando\x20localização','no-cache','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Pausado\x20por\x20','padStart','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','@s.whatsapp.net','\x22reaction\x22\x20must\x20be\x20an\x20emoji','request\x20received\x20in\x20createFlow','reaction','query','url\x20completa:','STORE','findAndReplaceRegex','The\x20instance\x20needs\x20to\x20be\x20disconnected','hbs','\x1b[1m','PROXY','status.instance','getUpdate','\x22\x20-\x20REMOVED','chats.upsert','Group\x20not\x20found','):\x20atualização\x20chat:\x20','deleteMany','maxActives','-whatsapp-api',',\x20Novo\x20tamanho:\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','condition','padEnd','Instance\x20ID:','enviado\x20para','leadInfo.customFields','EMAIL','ini','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','keyPattern','reorderBlocks','Data\x20inválida\x20fornecida','requestFile','deleteflow','isRunning','updateOnlinePrivacy','participant','Comando\x20desconhecido','notas','presence','client','addBlock','authentication','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','evaluateCondition','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Trying\x20to\x20get\x20business\x20profile','role','):\x20Procurando\x20conversa','save','editflowvariable',':\x20Erro\x20durante\x20loadproxy\x20-\x20','variables','getConversationModelForOwner','\x5c$&','):\x20Fluxos\x20não\x20estão\x20ativados','audioMessage','\x20não\x20encontrado\x20para\x20cópia','):\x20Conversa\x20está\x20expirada\x20-\x20voto','STATUS_INSTANCE','eventEmitter','Schema','Erro\x20ao\x20inserir\x20chats:','sign','groupRequestParticipantsUpdate','):\x20Editando\x20condição\x20do\x20fluxo...','message_normalized','emit','://','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','readData','base64','Telefone:\x20','enabled','FlowModel','ip:\x20','\x20inseridas\x20no\x20banco\x20de\x20dados...','Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','sendPresenceUpdate','#fe9dfe','env.KEY\x20!==\x20key','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','node-mime-types','getMinutes','stopConversation','extractMessageContent','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','connection.update','random','utf8','dark','Validate','view\x20engine','notContains','get','Message\x20not\x20found','pollCreationMessageKey','ephemeralMessage','eventHandler','Image\x20created','DELIVERY_ACK','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',',\x20valor\x20a\x20encontrar:\x20\x22','getProfileName','deleteFlow','GROUP_PARTICIPANTS_UPDATE','Removidas\x20as\x20variáveis:\x20','scheduleSendAudio','fullName','creds.json','loadproxy','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','variable','):\x20[messages.upsert]\x20group\x20ignored','scheduleNextCheck','protocolMessage','Type\x20defined\x20as\x20audio','uazapiSendContact','https://','/media/','):\x20Comando\x20desconhecido:\x20','processing_id','updateProfilePicturePrivacy','Erro\x20ao\x20tentar\x20updateCustomFields','groupInviteCode','stickerMessage','join','SendScheduleMessage','updateBlock','updateProfileStatus','lastSend','jsonschema','limit','unlocked','updateGroupsAddPrivacy','bodyString','URI','ms\x20(tentativa\x20','CORS_METHODS','envYaml','action','Flow\x20iniciado','editFlowVaredit','error','Error\x20updating\x20message\x20status:','cacheContact','Types','sendMessageWithTyping','8080','shift','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','fetchBusinessProfile','deleteOne','\x20e\x20ID=','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','.jpg','isJidUser','Erro\x20de\x20reinicialização:\x20','@broadcast','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','createHash','getContactModelForOwner','content-type','#ffae04','findContacts','request\x20received\x20in\x20updateFlowConfig','Authentication\x20error','wuid','request\x20received\x20in\x20getConversation','addChatLabel','locked','json','audio/ogg;\x20codecs=opus','InstancesAsDisconnectedX','The\x20property\x20cannot\x20be\x20empty','File\x20written\x20to\x20path:\x20','isCommunityAnnounce','\x1b[33m%s\x1b[0m','assign','segundos','.ogv','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','\x20minutos','has','groupBetterSetting','pushName','SSL_CONF_PRIVKEY','request\x20received\x20in\x20fetchConversation','awaitingApproval','imported','_pushName','VERBOSE','All_Instances_Config','^\x5cd+([-]\x5cd+)*@g.us$','title','getLabelModelForOwner','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','errors','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','secondValue','.pdf','certbot','Module\x20-\x20ON','groupSetting','connectedName','send','/clients-info','#fed428','toString','RECONNECT_TIME_FRAME','Image\x20converted\x20to\x20WebP','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Erro\x20ao\x20buscar\x20o\x20fluxo','replyOption','from','#000000','deleteChat','uazapiDeleteMessage','delaySecMax','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','):\x20Enviando\x20enquete','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','CHATS_UPDATE','add','chatId','groups.update','SECRET','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','The\x20global\x20api\x20key\x20must\x20be\x20set','DaysToDelete','stopMinutesMaxActives','getTicketSystem','errorLog','sendContact','140cVyCGt','getOwnPropertyDescriptor','.ogg','findById','findOrCreate','remoteJidsRemaining','editedMessage','\x1b[33m','admin_add','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','findWebhook','pre','failed\x20fetch','RemoveChatLabel','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','updateGroupPicture','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','convertaudio','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','restrict',',\x20Expiration\x20Time:\x20','realVariables','#dfaef0','qrCode','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','readMessageBot','descId','):\x20Flow\x20não\x20encontrado','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','unreadcount','ON\x20-\x20dbName:\x20','Erro\x20ao\x20criar\x20fluxo\x20regular','post','getAutomateSystem','error\x20get\x20vote','importChatsAntigo','connectToWhatsappController','config','flattenObject','12532QbfdCu','RemoteJid:','2615367FKajdF','findChats','when','#ffc5c7','delAll','findLabels','next_groupId','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','blockId','Hash\x20to\x20image\x20name:\x20','cpf','enumerable','processclearVariables','remove.instance','profilePicture','Not\x20Found','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','defineProperty','1485862pyGOfj','endSession','qrcode.updated','chat','/automate','Erro\x20ao\x20deletar\x20a\x20conversa','QRCODE_UPDATED','pollOnReplyDelete','dbSettings',':\x20Tentativa\x20','closeExistingConversations','setUpdate','flowConversation','archived','getTime','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','contains','deleteConversation','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','qrcode','editFlowCondition','isConnected','match','editFlowBlock','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','function','group','updateReplyOption','toNumber','write','fetchProfilePicture','/wa-contacts','The\x20','pollMessage','Erro\x20ao\x20editar\x20o\x20chat','):\x20transformedCustomFieldVariables','redis://127.0.0.1:6379','http','DEBUG','updateReadReceiptsPrivacy','crypto','/instance/connect','onTime','):\x20Rótulo\x20atualizado:\x20','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','repeat','everyOne','Error\x20updating\x20cache\x20contact:','\x20do\x20chat\x20','fromObject','#9ab6c1','stopMinutes','):\x20Enviando\x20áudio','phoneNumber','match_last_seen','resetReconnectionVariables','Flow\x20não\x20encontrado','\x20e\x20proprietário\x20','pairingCode','):\x20Editando\x20grupo\x20do\x20fluxo...','.txt','notify','sha256','importChats','del','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','CLEANING_INTERVAL','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','chatHandle','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','DELETED','charAt','checkAndRestartProcess','router','Instance\x20restarted','\x20de\x20conectar\x20com\x20IP\x20extra.','originalUrl','LOG','groupRequestParticipantsList','upsertedCount','processScheduleFlow','axios','Font\x20is\x20required','msgRetryCounterCache','saveMediaToFile','#00a1f2','createSharedFlow','goToFlow','DATABASE_ENABLED','.error','compression','Erro\x20ao\x20arquivar\x20chat','insertMany','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','#56ccb4','):\x20expirationTime:\x20','instanceCount','Image\x20is\x20base64','createAndSave','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','hDel','Instância\x20não\x20encontrada.','logout','firstValue','matchRegex','capitalizedWords','getChatModelForOwner','buttonMessage','useMultiFileAuthState','testProxy','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','updateMissingShareOwners','):\x20Conversa\x20inserida\x20com\x20sucesso.','removeUnusedChatFields','610080CyRGMu','DisconnectReason','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','getMIMEType','writeFile','findAndUpdate','leadInfo','reject','isJidBroadcast','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','process','updateAll','desativadoFluxoAte','allflows','flow','connectToWhatsapp','generateHash','approve','contact','\x20não\x20encontrado\x20para\x20atualização.','flowConfig','unlinkSync','max','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','js-yaml','sendMenu','/create','selectableCount','Log\x20out\x20instance:\x20','authModel','pollUpdateMessage','Image\x20is\x20url','announce','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','CHATS_DELETE','color','ListMessage','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','AUTHENTICATION','parseInt','findIndex','listMessage','silent','subjectTime','COLOR','child_process','redis','readFileSync','\x1b[32m%s\x1b[0m','block','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','stringify','https://api.openai.com/v1/images/generations','_activatedCount','\x22\x20not\x20found','groupFetchAllParticipating','waUploadToServer','preview','object','setting','writeData','isJWT','Desconectado,\x20parando\x20execução.','including\x20timestamp\x20in\x20url:\x20','forEach','reorderReplyOptions','organization','authState','user','joinApprovalMode','sendSticker','binary','):\x20customFieldVariables','moreLogs','3492996QZihEb','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','licenca','$set','encoding','varedits','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','push','filter','store','params','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','/instance/delete','https://ipinfo.io/json','EXPIRIN_IN','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','varedit','_fromMe','Início','map','notMatchRegex','body:','pictureUrl','startCommandWord','/events','isLong','conversationTimestamp','\x20depois\x20','cleaningUp','Erro\x20ao\x20encerrar\x20a\x20API','getMessageModelForOwner','uazapiSendMenu','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','throwAndLogError','Output\x20path:\x20','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','lastInteraction','):\x20Conversa\x20atualizada\x20em\x20memória','.mimetype','http://ip-api.com/json','delayChatLabel_MAX_RETRIES','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','waitingMenu_replyOptions','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','PENDING','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Erro\x20ao\x20buscar\x20conversas','isBusiness','Converting\x20image\x20to\x20WebP\x20to\x20sticker','request\x20received\x20in\x20starFlow','Bloco\x20com\x20ID\x20','Error\x20removing\x20unused\x20chat\x20fields:','set','#83e421','\x20saindo\x20da\x20função','Imagem\x20não\x20encontrada','editflowcondition','imageMessage','AUTHENTICATION_TYPE','.wav','drop','findGroupInfos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','\x20instance\x20does\x20not\x20exist','editScheduleMessage','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','agents','applyvaredit','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','ConversationModel','cache','API\x20Key\x20inválida.','flushHeaders','verifiedName','groupUpdateSubject','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','lean','.X-ABLabel:Celular\x0a','createConversationforStartFlow','stateConnection','):\x20Conversas\x20encontradas:','StartBot','connectionState','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','contentText','Erro\x20ao\x20atualizar\x20o\x20documento:','/wa-groups','jsonwebtoken','toggleEphemeral','method','class-validator','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','editOperator','findAndUpdateCacheContact','setNewValue','\x20->\x20NÃO\x20CORRESPONDE.','):\x20enviado\x20para\x20[','AutomateSystem','groupUpdateDescription','removeData','group-participants.update','https://api.openai.com/v1/audio/speech','updateChatWithMessage','Conexão\x20estabelecida','editflow','replace','scheduleFlow',',\x20Minutes\x20to\x20Close:\x20','processPollUpdateMessage','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Logger','restartInstance','normalizeMessageContent','groupToggleEphemeral','\x20com\x20sucesso.','\x20-\x20retornado:\x20','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','state','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','SEND_MESSAGE','Resultado\x20da\x20atualização:','updateGParticipate','proto','messages.set','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','readMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','email','ChatModel','sending','REDIS_ENABLED','Database\x20connection\x20closed.','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','findGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','status@broadcast','getBase64FromMediaMessage','\x0aFN:','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','^\x5cd+','):\x20Enviando\x20mídia','HOST','scheduled','PASSWORD','replaceVariablesChat','content','Delete\x20chat','):\x20Criando\x20fluxo\x20compartilhado...','?authSource=admin&readPreference=primary&directConnection=true','):\x20Bloco\x20com\x20ID\x20','\x0a*Você\x20respondeu*:\x0a','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','sendCommand','DOCKER_ENV','ListType','Sending\x20audio\x20whatsapp','\x1b[42m','dbInstance','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','createSectionsFromValues','reference','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','isCommunity','getFlowModelForOwner','owner','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','stanzaId','TYPE','):\x20Bloco\x20original\x20para\x20cópia:\x20','flowPrefixCommand','AutomateFunctions','upsertChats','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','audio','https://github.com/uazapi/uazapi.git','):\x20Query\x20params:','groupJid','contacts.update','announcement','mentions','toFile','abs','apirequest','INFO','/wa-qrcode','yes','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','Error\x20handling\x20sendmessage:','extractRegex','fone','chats.delete','editFlowReply','synchronizeFlows','pollCreationMessage','updateOneById','[all]','type','sim','picture','request\x20received\x20in\x20deleteConversation','Instância:\x20','.xlsx','nomecompleto','PRESENCE_UPDATE','CHATS_UPSERT','):\x20[messages.update]\x20group\x20ignored','image','\x0aitem','insertCount','flowStopMinutes','STORE_CHATS','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','6311408ySDvbx','length','_ScheduleMessages','connectionClosed','lastCondition',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','groupJoinApprovalMode','delete','https://api.elevenlabs.io/v1/text-to-speech/','sort','getScheduleMessage','spawn','conversation','\x20inseridos\x20no\x20banco\x20de\x20dados...','listType','groupHandler','connectionUpdate','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','sendReaction','findManyByIds','updateMissingEtiquetas','saveCreds','numbers','labelId','API\x20Key\x20from\x20Request:','ContactsAndGroups','/instance/fetchInstances','off','false',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','\x20quoted:\x20','toArray','online','events','):\x20Entrou\x20na\x20função\x20stop','lastReceivedMessage','):\x20updateResult:','.type','exit','AUTHENTICATION_API_KEY','birthtime','PREFIX_KEY','ERROR','Documento\x20com\x20ID\x20','admin','use','findParticipants','unavailable','verifyWhatsAppNumber','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','.png','):\x20Não\x20achou\x20nenhum\x20flow','inner','scheduleSendText','contacts','getLastMessage','Erro\x20ao\x20iniciar\x20fluxo:\x20','url','Falha\x20após\x20várias\x20tentativas.','messaging-history.set','profile','getVariablesChat','SINGLE_SELECT','/wa-message','pollCreationMessageV2','#d3a91f','mongoose','existsSync','@whiskeysockets/baileys','superadmin','uuid','./.git/config','where','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','verbose','readMessages','DATABASE_CONNECTION_HOST','request\x20received\x20in\x20editFlow','CORS_CREDENTIALS','eventemitter2',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','webhookModel','apiName','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','isURL','Certbot:\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','order','fetchProfile','processConditions','LOG_COLOR','promote','minutesToClose','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','contactsArrayMessage','backgroundColor','createConnection','Erro\x20ao\x20atualizar\x20AutomateSystem:','sendList','joinGroup','global','request\x20received\x20in\x20editConversation','uncaughtException','lastDisconnect','src','Resposta\x20recebida\x20na\x20tentativa\x20','\x20\x1b[0m','Image\x20path:\x20','Aguardando\x20','font','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','ephemeralExpiration','pollMessageOnDelete','Connection','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','namespace','badSession','instance','basename','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','audioWhatsapp','):\x20Iniciando\x20bot...','CORS','inviteCode','request\x20received\x20in\x20getAutomateSystem','createClient','\x20->\x20CONFIRMADO.','groupDesc','bulkWrite','delayChatLabel','updateMissingTags','GROUPS_UPDATE','\x20minutos...','Erro\x20ao\x20editar\x20agentes','participants','hSet','getDevice','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','getClient','startFlowWebhook','Missing\x20global\x20api\x20key','\x20}\x0a','configService','leadInfo.','sectionsToString','recebido\x20de','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','\x1b[34m%s\x1b[0m','fetchConversation','\x0a{\x20instance:\x20','fetchChats','archiveChat','deleted','defineAuthState','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','folder','):\x20Campos\x20a\x20serem\x20atualizados:','\x1b[33m\x1b[1m','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','\x1b[43m','.extension','fetchContacts','#01d0e2','):\x20Editando\x20edição\x20do\x20fluxo...','\x20não\x20encontrado.','Last\x20message\x20not\x20found\x20for\x20number:','paused','description','WARN','):\x20Editando\x20bloco...','request\x20received\x20in\x20allFlows','fetchInstances','cleanStore','Deleted\x20','fetchLabels','.url','body','READ','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','):\x20Buscando\x20flow,\x20name:\x20','evaluateConditionTest','vote','):\x20Enviando\x20texto','authorization','FlowController','createWebhook','SSL_CONF','ignoreGroups','delay','temp-','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','}}\x20->\x20valor\x20não\x20encontrado','conditions','routerPath','):\x20Going\x20to\x20','less','expiration',',\x20Resultado:\x20','CONNECTION_UPDATE','):\x20\x27Deletando\x20fluxo,\x20name:\x20','remoteJid','request\x20received\x20in\x20editFlowgroup','updateAutoCompleteMessages','request\x20received\x20in\x20updateAutoCompleteMessages',',\x20isAdmin:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','HeaderType','Conversa\x20deletada\x20com\x20sucesso.','\x22\x20-\x20NOT\x20CONNECTION','dbConnection','validate','writeFileSync','request\x20received\x20in\x20scheduleMessage','subjectOwner','\x1b[36m','\x1b[1m\x1b[37m','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','REDIS_URI','messageHandle','contactMessage','fetchPrivacySettings','):\x20Usando\x20extensão\x20padrão:\x20','Erro\x20ao\x20importar\x20chats','newValue','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','auth','CONTACTS_UPDATE','E-mail:\x20','\x1b[41m','):\x20leadInfoVariables','toLowerCase','composing','messages','blocks','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','leadInfo.desativadoFluxoAte','Audio\x20converted\x20and\x20stored\x20in\x20cache','hGet','API_KEY','):\x20Entrou\x20na\x20função\x20clearVariables','\x20de\x20','list','Safari','MESSAGES_SET','findAll','Error\x20occurred\x20while\x20archiving\x20chat:\x20','URL','):\x20não\x20encontrou','round','path','videoMessage','testingWith','.pptx','sendLocation','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','\x1b[37m%s\x1b[0m','Button\x20texts\x20cannot\x20be\x20repeated','lastMessage','\x20tentativas:\x20remotejid=','presence.update','downloads','.jwt','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','50mb','Atualização:\x20','BRL','data:\x20','changeVariables',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','delayChatLabel_RETRY_DELAY_MS','saveTextReply','instancias:\x20','end','Número:\x20','includes',',\x20global:\x20','toUpperCase','greater','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','vcard','sharp','connect','createConversationforgoToFlow','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','nome','updateOne','<subdomain>','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','pop','Flow\x20iniciado\x20com\x20','):\x20Ignoring\x20group\x20messages.','KEY','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','onWhatsApp','Error\x20while\x20deleting\x20message\x20for\x20everyone','sem\x20texto\x20na\x20mensagem','fileUrl','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','SUCCESS','choices','Deletion\x20failed','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Error\x20fetching\x20group','/instance/connectionState','not\x20loaded','username','available','createJid','lastSendMessage','views','prepareMediaMessage','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','whatsappNumbers','label_jid','WA\x20MODULE','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','webhookService','envProcess','Número\x20não\x20possui\x20WhatsApp.','ObjectId','toLocaleString','flowStopConversation','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','saveVariable','):\x20Flow\x20desativado','contextInfo','):\x20Label\x20','uazapiSendAudio','ex:\x20\x22groupJid=120362@g.us\x22','text','isArray','CacheContacts\x20database\x20connection\x20closed.','getHours','Content-Type','beforeExit','replacer','notEqual','mediaKey','groupSettingUpdate','\x5cd+','viewOnceMessageV2','success','replyOptions','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','result','@g.us','FULLCHAIN','getScheduleMessageModelForOwner','Subscribed\x20Events:','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','reactionMessage','):\x20debug\x20alterando\x20this.AutomateSystem','size','localWebhook','sections','exec','):\x20Criou\x20conversa\x20no\x20startFlow','node-cache','certonly','groupCreate','updateChatGroupData','sendText','Erro\x20ao\x20editar\x20a\x20conversa','options','\x20tentativas.','GET','):\x20Entrou\x20na\x20função\x20processawaitSeconds','allContacts','close','):\x20Error\x20processing\x20the\x20block:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','replaceVariablesLogs','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','updateStopChat','listResponseMessage','groupGetInviteInfo','mentioned','Erro\x20ao\x20iniciar\x20o\x20fluxo.','messageTimestamp','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','createflow','):\x20isVote:\x20','error_log','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','not_announcement','apikey','redirect','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','request_time','replaceVariablesInObject','latitude','editFlow','pt-BR','leaveGroup','delayMessage','oldToken','/chat','deleteAll','https://chat.whatsapp.com/','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','endsWith','ENABLED','array','NextBlock','subject','?timestamp=','getContentType','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','STORE_CLEANING_TERMINAL','groupRevokeInvite','stopped','userDevicesCache','scheduleSendMedia','):\x20Conversa\x20está\x20expirada','sendMessage','convertedOptions','creation','.xls','bateu\x20events','Erro\x20não\x20fatal\x20na\x20tentativa\x20','request\x20body:\x20','#ff9484','flowIgnoreGroups','/startFlow/:instance/:startID','DD/MM\x20HH:mm:ss','_Chats','removeOlderDisconnectedInstances','\x20minutos\x20verificará\x20novas\x20mensagens','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','\x20mensagens\x20de\x20','Primeiro\x20Valor:\x20','CONNECTION','imgUrl','mediaSticker','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','findConversation','messagesSend','DATABASE','boolean','muteEndTime','no.connection','updateConversation','port','leadInfo.etiquetas','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','):\x20Error\x20processing\x20conditions:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','collection','modifiedCount','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','updateGroupParticipantsWebhook','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Selecione','dataValidate','Error\x20handling\x20sendMessage:','utf-8','JWT','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','\x1b[30m','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','getflow','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','documentMessage','groups','__esModule','creds','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','jpegThumbnail','/config','messageContextInfo','):\x20Entrou\x20na\x20função\x20goToFlow','website','blockLogs','normalizeMessage','now','groupId','repository','concat','qrcode-terminal','keys','atendimentoAberto','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Error\x20parsing\x20JSON:','Tentando\x20reconectar...','webp','Mac\x20OS','\x1b[40m','integer','restart','CORS_ORIGIN','exports','request\x20received\x20in\x20updateAgent','editChat','instanceName\x20not\x20provided.','Operador:\x20\x22','fileName','findGroups','valid','updateGroupWebhook','Reinicialização\x20iniciada:\x20','longitude','caption','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','closed','command','/wa-chats','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','AddChatLabel','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','http://myexternalip.com/raw','clearVariables','pollErrorMessage','StatusJidList\x20is\x20required','Not\x20allowed\x20by\x20CORS','statusJidList','\x20adicionado\x20ao\x20chat\x20','deletedCount','contacts.upsert','goNextblock','processgoToFlow','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','http://checkip.dyndns.org','#b4ebff','PRODUCT_LIST','remote\x20\x22origin\x22','updateProfileName','oldValue','_Flows','):\x20newSecondValue\x20após\x20replaceVariables:','truncatedto','https://api.ipify.org?format=json','Fluxos\x20não\x20estão\x20ativados','editFlowGroup','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','startID','dbServer','replaceVariablesInReplyOptions','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','\x1b[36m%s\x1b[0m','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','NO_IP','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','sharePass','presenceSubscribe','static','LabelModel','setRestartTimeout','LOG_LEVEL','connecting','Falha\x20ao\x20processar\x20fetchBusinessProfile','arraybuffer','DATABASE_CONNECTION_USER','mongodb://',',\x20lastCondition:\x20','GROUPS_UPSERT','STORE_CONTACTS','flowName','Erro\x20ao\x20buscar\x20Schedule\x20Messages','descOwner','locationMessage','saveConversationToDatabase','Certbot\x20executado\x20com\x20sucesso.','subdomain','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','/wa-all-message','MESSAGES_UPDATE','documentWithCaptionMessage','Unauthorized','request\x20received\x20in\x20editFlowvariable','\x1b[34m','processawaitSeconds','last_update','update','getMessage','findGroupInfo','fetchStatus','Internal\x20Server\x20Error','done','):\x20Ler\x20mensagem','detail','name','messages.upsert','inviteUrl','#9ba6ff','number','Database\x20is\x20not\x20enabled','updateMessage','getFlow','updateGParticipant','shutdown\x20-r\x20now','instance.','https','displayName','Error\x20in\x20scheduleNextCheck:\x20','SERVER_URL','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','quotedMessage','startsWith','waitingForReplyMenu','lastUpdate','deleteReplyOption','findByIdAndUpdate','importChatsBatch','lastBlockId','.doc','\x20contacts','Complete\x20URL:','Erro\x20ao\x20atualizar\x20o\x20fluxo:','toDataURL','):\x20Procurando\x20mensagens\x20para\x20envio','replaceVariables','Read\x20messages','host','editflowvaredit','express','InstancesAlterarTodas','\x1b[32m','request\x20received\x20in\x20updateCustomFields','protocol','saveChatVariables','Erro\x20ao\x20remover\x20instâncias\x20antigas:','SERVER_OFFLINE','isJidGroup','/wa-message-update','put','request\x20received\x20in\x20deleteFlow',',\x20qrcodeCount:\x20','gifPlayback','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','sendDataWebhook','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Falhou\x20ao\x20encontrar\x20chat\x20','unhandledRejection','):\x20Deletando\x20mensagem','logger','canSendMessage','replaceOne','Error\x20writing\x20file:\x20','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','webhookMap','empty','env','hex','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','):\x20alterando\x20this.AutomateSystem','http://ipecho.net/plain','trim','):\x20Editando\x20replyOption...','viewOnceMessage','cwd','flush','deleteDoneMessages','video','buttonId','mongodb',',\x20valor\x20passado:\x20\x22','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20','readdirSync','password','Sistema\x20atualizado\x20com\x20sucesso!','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','buttons','Erro\x20ao\x20adicionar\x20label\x20','revokeInviteCode','chatLog','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│',',\x20pairCode:\x20','\x1b[31m%s\x1b[0m','test','Type\x20not\x20found','loadEnv','autoCompleteMessages.command_1','optionDescription','_id','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','groupMetadata','AppStateSyncKeyData','.svg','groupdata','textMessage','sendWhatsAppAudio','messageStubType','processUazapi','dropIndex','\x20-i\x20','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','imagechat','Instance\x20logged\x20out','jwt','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','stdout','/message','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','demote','cachedContact','log','bodyStringErrorParse','CHATS_SET','Forbidden',',\x20Segundo\x20Valor:\x20','ERROR:\x20','updateCustomFields','Cannot\x20','responsavelid','Content\x20is\x20required','getConversation','21644AlQcoz','telefone','/*.json','release','variablesNotFound','convertToWebP','chatModify','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','warn','Parando\x20aplicação,\x20atualização\x20recebida',',\x20canSendMessage:\x20','Variável\x20não\x20encontrada!','mediaMessage','waitingMenu_ExpiredMessage'];a0_0x3ee0=function(){return _0x572ff1;};return a0_0x3ee0();}var _s=Yr(b);async function Xr(){const _0x2ea67f=a0_0x344519;let _0x4c4825=b[_0x2ea67f(0x283)]('REDIS'),_0x4285aa=b[_0x2ea67f(0x283)](_0x2ea67f(0x3e8))[_0x2ea67f(0x5d7)][_0x2ea67f(0x60e)],_0x529435=b[_0x2ea67f(0x283)](_0x2ea67f(0x5a2)),_0x5f0e84=await ko(),_0xb4d99b=b[_0x2ea67f(0x283)]('SERVER')['PORT'],_0x1e513c=b['get'](_0x2ea67f(0x1e6))[_0x2ea67f(0x5df)];try{let _0xd49f0d={'ip':_0x5f0e84||null,'redis_enable':_0x4c4825?.[_0x2ea67f(0x67c)]||null,'apikey':_0x4285aa||null,'ssl':_0x529435?.[_0x2ea67f(0x1a2)]||null,'lastupdate':Lo||null,'port':_0xb4d99b||null,'gitInstallError':Le?.[_0x2ea67f(0x806)]||null,'url':_0x1e513c||null};if(console[_0x2ea67f(0x7a7)](_0x2ea67f(0x26f),_0xd49f0d['ip']),_0x4c4825&&_0x4c4825['ENABLED']){let _0x1d6b5b=await Qr();_0xd49f0d[_0x2ea67f(0x3af)]=_0x1d6b5b||null;}for(let _0x1c5cb3 in _0xd49f0d)_0xd49f0d[_0x2ea67f(0x11f)](_0x1c5cb3)&&_0x1c5cb3!=='ip'&&(_0xd49f0d[_0x1c5cb3]=JSON[_0x2ea67f(0x3f5)](_0xd49f0d[_0x1c5cb3]));return(await ke['default'][_0x2ea67f(0x331)](_0x2ea67f(0x452),_0xd49f0d))[_0x2ea67f(0x7e5)];}catch(_0x417619){return console['error'](_0x417619),!0x1;}}var js=!0x1,Lo=0x242,Zr=0x3,Io=0x1b7740;async function Js(){const _0x16f749=a0_0x344519;if(!await ko())return console[_0x16f749(0x2b4)](_0x16f749(0x484)),_0x16f749(0x709);let _0x1b48cc=await Xr();if(_0x1b48cc){if(_0x1b48cc[_0x16f749(0x154)][_0x16f749(0x40e)]===!0x0){let _0x1a5a13=b[_0x16f749(0x283)](_0x16f749(0x5a2)),_0x389e5c=b[_0x16f749(0x283)](_0x16f749(0x1e6))[_0x16f749(0x5df)];_0x1a5a13&&_0x1a5a13?.[_0x16f749(0x1a2)]?.['includes'](_0x16f749(0x609))&&_0x1b48cc[_0x16f749(0x154)][_0x16f749(0x71f)]&&!_0x389e5c&&(await si(_0x1b48cc[_0x16f749(0x154)][_0x16f749(0x71f)],ti),await ai('augusto.fcs@gmail.com',_0x1b48cc[_0x16f749(0x154)]['subdomain']),console[_0x16f749(0x7a7)](_0x16f749(0x269)),setTimeout(()=>ri(),0x2710)),Le===null&&_0x1b48cc[_0x16f749(0x154)][_0x16f749(0x728)]-Lo>0x0&&await ei(),js||(js=!0x0,Br());let _0x250af5=0x24*0x3c*0x3c,_0x22bca0=_0x1b48cc[_0x16f749(0x154)]['segundos']>_0x250af5?_0x250af5:_0x1b48cc[_0x16f749(0x154)][_0x16f749(0x2d8)],_0x3bd9d1=Number(_0x22bca0);if(isNaN(_0x3bd9d1)){console[_0x16f749(0x2b4)](_0x16f749(0x7e9));return;}let _0x166759=Math['floor'](_0x3bd9d1/0xe10),_0x42b2df=Math['floor'](_0x3bd9d1%0xe10/0x3c),_0x38134c=new Date(Date[_0x16f749(0x6c7)]()+_0x3bd9d1*0x3e8);setTimeout(Js,_0x3bd9d1*0x3e8);let _0x4cc855=_0x1d9e36=>_0x1d9e36[_0x16f749(0x2f6)]()[_0x16f749(0x21f)](0x2,'0'),_0xc3f14=_0x16f749(0x4f4)+_0x4cc855(_0x166759)+'\x20horas\x20e\x20'+_0x4cc855(_0x42b2df)+_0x16f749(0x7cb)+_0x4cc855(_0x38134c[_0x16f749(0x637)]())+':'+_0x4cc855(_0x38134c[_0x16f749(0x278)]())+'.';console[_0x16f749(0x7a7)](_0xc3f14);}else return console[_0x16f749(0x7a7)](_0x16f749(0x1cd)),js&&(console[_0x16f749(0x7a7)](_0x16f749(0x276)),process[_0x16f749(0x50a)]()),_0x16f749(0x1e2);}else{if(To++,To<Zr)console['log'](_0x16f749(0x437)+Io/0xea60+_0x16f749(0x56a)),setTimeout(Js,Io);else return console[_0x16f749(0x2b4)](_0x16f749(0x27b)),_0x16f749(0x75a);}}async function ei(){const _0x57862c=a0_0x344519;console['log'](_0x57862c(0x7bb));let _0x578754=(0x0,Fe[_0x57862c(0x4ee)])(_0x57862c(0x341),{'shell':!0x0});_0x578754[_0x57862c(0x7a2)]['on'](_0x57862c(0x7e5),_0x286342=>{const _0x17ccca=_0x57862c;console['log'](_0x17ccca(0x5f1)+_0x286342);}),_0x578754[_0x57862c(0x14e)]['on'](_0x57862c(0x7e5),_0x20ee79=>{const _0x25bbf6=_0x57862c;console[_0x25bbf6(0x2b4)](_0x25bbf6(0x14f)+_0x20ee79);}),_0x578754['on']('exit',_0x27a742=>{const _0x1fb422=_0x57862c;_0x27a742!==0x0?console[_0x1fb422(0x2b4)](_0x1fb422(0x1a9)+_0x27a742):console[_0x1fb422(0x7a7)](_0x1fb422(0x783)),console[_0x1fb422(0x7a7)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x1fb422(0x50a)](),0x2710);});}var ti=je[a0_0x344519(0x10d)]['join'](__dirname,'env.yml');async function si(_0x1b4318,_0x260d56){const _0x1ab49a=a0_0x344519;let _0x21bd80=oi();_0x1b4318=_0x1b4318['replace'](_0x1ab49a(0x186),'');try{let _0x13cff2=ge[_0x1ab49a(0x10d)][_0x1ab49a(0x3f1)](_0x260d56,_0x1ab49a(0x27e));_0x13cff2=_0x13cff2[_0x1ab49a(0x477)](/<apikey>/,_0x21bd80),_0x13cff2=_0x13cff2[_0x1ab49a(0x477)](/<subdomain>/g,_0x1b4318),ge[_0x1ab49a(0x10d)][_0x1ab49a(0x5bb)](_0x260d56,_0x13cff2,'utf8'),console[_0x1ab49a(0x7a7)](_0x1ab49a(0x323));}catch(_0x506557){console[_0x1ab49a(0x2b4)](_0x1ab49a(0x52d),_0x506557);}}function ai(_0x2239b3,_0x458e0a){return new Promise((_0x175453,_0x4d12ee)=>{const _0x341acf=a0_0x3abc;let _0x1d02fc=(0x0,Fe[_0x341acf(0x4ee)])(_0x341acf(0x2ef),[_0x341acf(0x651),'--standalone','-m',_0x2239b3,_0x341acf(0x17e),'-d',_0x458e0a]);_0x1d02fc[_0x341acf(0x7a2)]['on'](_0x341acf(0x7e5),_0x4eaaea=>{const _0x4ca747=_0x341acf;console[_0x4ca747(0x7a7)](_0x4ca747(0x53a)+_0x4eaaea[_0x4ca747(0x2f6)]());}),_0x1d02fc[_0x341acf(0x14e)]['on'](_0x341acf(0x7e5),_0x2c3a05=>{const _0x167f10=_0x341acf;console[_0x167f10(0x2b4)]('Erro\x20do\x20Certbot:\x20'+_0x2c3a05[_0x167f10(0x2f6)]());}),_0x1d02fc['on']('close',_0x3392b6=>{const _0x19d3e8=_0x341acf;_0x3392b6!==0x0?(console[_0x19d3e8(0x2b4)](_0x19d3e8(0x216)+_0x3392b6),_0x4d12ee(_0x19d3e8(0x216)+_0x3392b6)):(console['log'](_0x19d3e8(0x71e)),_0x175453());});});}function oi(_0x4b95e3=0x32){const _0x3f87e0=a0_0x344519;let _0x2efc2d=_0x3f87e0(0x147),_0x2ae47a='';for(let _0x219abc=0x0;_0x219abc<_0x4b95e3;_0x219abc++)_0x2ae47a+=_0x2efc2d[_0x3f87e0(0x396)](Math[_0x3f87e0(0x13a)](Math[_0x3f87e0(0x27d)]()*_0x2efc2d[_0x3f87e0(0x4e4)]));return _0x2ae47a;}function ri(){const _0x501c0b=a0_0x344519;(0x0,Fe[_0x501c0b(0x64e)])(_0x501c0b(0x73a),(_0x199627,_0x58ab9c,_0x51fc6c)=>{const _0x3202d2=_0x501c0b;if(_0x199627){console[_0x3202d2(0x2b4)](_0x3202d2(0x34b)+_0x199627);return;}if(_0x51fc6c){console[_0x3202d2(0x2b4)](_0x3202d2(0x2c2)+_0x51fc6c);return;}console[_0x3202d2(0x7a7)](_0x3202d2(0x6e0)+_0x58ab9c);});}0x0&&(module[a0_0x344519(0x6d7)]={'subdomain':subdomain});