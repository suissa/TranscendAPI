const a0_0x38390a=a0_0x38ae;(function(_0x4dbdf2,_0xb154dc){const _0x42c4d4=a0_0x38ae,_0x27ef37=_0x4dbdf2();while(!![]){try{const _0x31bd17=parseInt(_0x42c4d4(0x43a))/0x1*(-parseInt(_0x42c4d4(0x2e0))/0x2)+-parseInt(_0x42c4d4(0x311))/0x3*(parseInt(_0x42c4d4(0x28e))/0x4)+-parseInt(_0x42c4d4(0x18c))/0x5*(-parseInt(_0x42c4d4(0x225))/0x6)+-parseInt(_0x42c4d4(0x53a))/0x7*(-parseInt(_0x42c4d4(0x3a9))/0x8)+-parseInt(_0x42c4d4(0x3c4))/0x9*(-parseInt(_0x42c4d4(0x10c))/0xa)+parseInt(_0x42c4d4(0x4a6))/0xb+parseInt(_0x42c4d4(0x5bb))/0xc*(parseInt(_0x42c4d4(0x222))/0xd);if(_0x31bd17===_0xb154dc)break;else _0x27ef37['push'](_0x27ef37['shift']());}catch(_0x166ec9){_0x27ef37['push'](_0x27ef37['shift']());}}}(a0_0x2001,0x43dcb));var Lo=Object[a0_0x38390a(0x2ff)],Ls=Object['defineProperty'],Uo=Object[a0_0x38390a(0x4a8)],Vo=Object[a0_0x38390a(0x509)],jo=Object[a0_0x38390a(0x4f2)],Bo=Object['prototype']['hasOwnProperty'],Fo=(_0x17a14a,_0x3f5105,_0x528ccb,_0x3f1870)=>{const _0x1c50f2=a0_0x38390a;if(_0x3f5105&&typeof _0x3f5105==_0x1c50f2(0x58c)||typeof _0x3f5105==_0x1c50f2(0x1b1)){for(let _0x55918d of Vo(_0x3f5105))!Bo[_0x1c50f2(0x35d)](_0x17a14a,_0x55918d)&&_0x55918d!==_0x528ccb&&Ls(_0x17a14a,_0x55918d,{'get':()=>_0x3f5105[_0x55918d],'enumerable':!(_0x3f1870=Uo(_0x3f5105,_0x55918d))||_0x3f1870[_0x1c50f2(0x1fb)]});}return _0x17a14a;},T=(_0xb391dd,_0x25fd35,_0x334621)=>(_0x334621=_0xb391dd!=null?Lo(jo(_0xb391dd)):{},Fo(_0x25fd35||!_0xb391dd||!_0xb391dd[a0_0x38390a(0x1ae)]?Ls(_0x334621,a0_0x38390a(0x2d4),{'value':_0xb391dd,'enumerable':!0x0}):_0x334621,_0xb391dd)),Io=T(require(a0_0x38390a(0x58e))),Vs=require('fs'),js=require(a0_0x38390a(0x408)),Bs=require('path'),Ue=require(a0_0x38390a(0x37f)),z=process[a0_0x38390a(0x628)](),V=(0x0,Ue[a0_0x38390a(0x518)])(z,a0_0x38390a(0x10d)),Us=(0x0,Ue['join'])(z,a0_0x38390a(0x1a9)),Qt=(0x0,Ue[a0_0x38390a(0x518)])(z,a0_0x38390a(0x2f4),a0_0x38390a(0x461)),Fs=require(a0_0x38390a(0x533)),Yt=class{constructor(){const _0x99a4c1=a0_0x38390a;this[_0x99a4c1(0x663)]();}['get'](_0x1be056){return this['env'][_0x1be056];}[a0_0x38390a(0x663)](){const _0x2847c9=a0_0x38390a;this[_0x2847c9(0x426)]=process[_0x2847c9(0x426)]?.[_0x2847c9(0x121)]!=='true'?this[_0x2847c9(0x257)]():this['envProcess'](),this[_0x2847c9(0x426)][_0x2847c9(0x4eb)]=process[_0x2847c9(0x426)]?.[_0x2847c9(0x224)]===_0x2847c9(0x51a),process[_0x2847c9(0x426)]?.[_0x2847c9(0x121)]===_0x2847c9(0x2c7)&&(this[_0x2847c9(0x426)][_0x2847c9(0x64d)][_0x2847c9(0x677)]=_0x2847c9(0x138),this['env'][_0x2847c9(0x64d)][_0x2847c9(0x318)]=Number[_0x2847c9(0x32c)](process[_0x2847c9(0x426)]?.[_0x2847c9(0x488)]??'8080'));}[a0_0x38390a(0x257)](){const _0x9717c2=a0_0x38390a;return(0x0,js[_0x9717c2(0x47d)])((0x0,Vs[_0x9717c2(0x5ae)])((0x0,Bs[_0x9717c2(0x518)])(Us,_0x9717c2(0x59a)),{'encoding':_0x9717c2(0x1b4)}));}['envProcess'](){const _0x5daa1a=a0_0x38390a;return{'SERVER':{'TYPE':process[_0x5daa1a(0x426)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x5daa1a(0x426)][_0x5daa1a(0x488)])},'CORS':{'ORIGIN':process[_0x5daa1a(0x426)][_0x5daa1a(0x528)][_0x5daa1a(0x142)](','),'METHODS':process[_0x5daa1a(0x426)][_0x5daa1a(0x4dc)][_0x5daa1a(0x142)](','),'CREDENTIALS':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x5f2)]===_0x5daa1a(0x2c7)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x5daa1a(0x690)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x5daa1a(0x220)](process['env']?.[_0x5daa1a(0x6ac)])?Number[_0x5daa1a(0x32c)](process[_0x5daa1a(0x426)][_0x5daa1a(0x6ac)]):void 0x0,'MESSAGES':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x3ff)]===_0x5daa1a(0x2c7),'CONTACTS':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x323)]==='true','CHATS':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x4b9)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x1d1)],'PORT':Number['parseInt'](process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x1d1)]),'USER':process[_0x5daa1a(0x426)][_0x5daa1a(0x4d0)],'PASSWORD':process[_0x5daa1a(0x426)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env'][_0x5daa1a(0x20b)],'DB_PREFIX_NAME':process[_0x5daa1a(0x426)][_0x5daa1a(0x2d1)]},'ENABLED':process[_0x5daa1a(0x426)]?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x5d5)]==='true','URI':process['env'][_0x5daa1a(0x39f)],'PREFIX_KEY':process['env'][_0x5daa1a(0x249)]},'LOG':{'LEVEL':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x4a7)][_0x5daa1a(0x142)](','),'COLOR':process[_0x5daa1a(0x426)]?.['LOG_COLOR']===_0x5daa1a(0x2c7)},'DEL_INSTANCE':(0x0,Fs[_0x5daa1a(0x54a)])(process['env']?.[_0x5daa1a(0x391)])?process[_0x5daa1a(0x426)]['DEL_INSTANCE']===_0x5daa1a(0x2c7):Number[_0x5daa1a(0x32c)](process[_0x5daa1a(0x426)][_0x5daa1a(0x391)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x5daa1a(0x426)][_0x5daa1a(0x556)]?process[_0x5daa1a(0x426)][_0x5daa1a(0x556)]===_0x5daa1a(0x2c7):!0x1,'GLOBAL':{'URL':process['env']?.[_0x5daa1a(0x299)],'ENABLED':process[_0x5daa1a(0x426)]?.['WEBHOOK_GLOBAL_ENABLED']===_0x5daa1a(0x2c7)},'EVENTS':{'STATUS_INSTANCE':process['env']?.[_0x5daa1a(0x202)]===_0x5daa1a(0x2c7),'QRCODE_UPDATED':process[_0x5daa1a(0x426)]?.['WEBHOOK_EVENTS_QRCODE_UPDATED']===_0x5daa1a(0x2c7),'MESSAGES_SET':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x529)]==='true','MESSAGES_UPSERT':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x4ac)]===_0x5daa1a(0x2c7),'MESSAGES_UPDATE':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x653)]===_0x5daa1a(0x2c7),'SEND_MESSAGE':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x15a)]===_0x5daa1a(0x2c7),'CONTACTS_SET':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x68e)]===_0x5daa1a(0x2c7),'CONTACTS_UPDATE':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x60d)]==='true','CONTACTS_UPSERT':process[_0x5daa1a(0x426)]?.['WEBHOOK_EVENTS_CONTACTS_UPSERT']===_0x5daa1a(0x2c7),'PRESENCE_UPDATE':process[_0x5daa1a(0x426)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x5daa1a(0x2c7),'CHATS_SET':process['env']?.['WEBHOOK_EVENTS_CHATS_SET']===_0x5daa1a(0x2c7),'CHATS_UPDATE':process[_0x5daa1a(0x426)]?.['WEBHOOK_EVENTS_CHATS_UPDATE']===_0x5daa1a(0x2c7),'CHATS_UPSERT':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x383)]===_0x5daa1a(0x2c7),'CHATS_DELETE':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x316)]==='true','CONNECTION_UPDATE':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x2af)]===_0x5daa1a(0x2c7),'GROUPS_UPSERT':process['env']?.[_0x5daa1a(0x2da)]===_0x5daa1a(0x2c7),'GROUP_UPDATE':process[_0x5daa1a(0x426)]?.['WEBHOOK_EVENTS_GROUPS_UPDATE']===_0x5daa1a(0x2c7),'GROUP_PARTICIPANTS_UPDATE':process['env']?.[_0x5daa1a(0x223)]===_0x5daa1a(0x2c7),'NEW_JWT_TOKEN':process[_0x5daa1a(0x426)]?.['WEBHOOK_EVENTS_NEW_JWT_TOKEN']==='true'}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x5daa1a(0x426)]?.[_0x5daa1a(0x647)]||_0x5daa1a(0x53e),'NAME':process['env']?.[_0x5daa1a(0x3c0)]||_0x5daa1a(0x62f)},'QRCODE':{'LIMIT':Number['parseInt'](process[_0x5daa1a(0x426)][_0x5daa1a(0x45f)])||0x5},'TRIAL_AD':process['env']?.[_0x5daa1a(0x181)],'TRIAL_INSTANCE_NAME':process['env']?.[_0x5daa1a(0x4fe)],'AUTOUPDATE':process['env']?.[_0x5daa1a(0x26d)]===_0x5daa1a(0x2c7),'PHONE':process['env']?.[_0x5daa1a(0x26c)],'AUTHENTICATION':{'TYPE':process[_0x5daa1a(0x426)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x5daa1a(0x220)](process['env']?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x5daa1a(0x32c)](process[_0x5daa1a(0x426)][_0x5daa1a(0x24d)]):0xe10,'SECRET':process[_0x5daa1a(0x426)][_0x5daa1a(0x336)]}}};}},y=new Yt(),Do=T(require('cors')),me=T(require(a0_0x38390a(0x1a0))),Os=require(a0_0x38390a(0x37f)),Xt=T(require(a0_0x38390a(0x4e4))),Zt=(_0x5c8ef8=>(_0x5c8ef8[a0_0x38390a(0x630)]=a0_0x38390a(0x635),_0x5c8ef8[a0_0x38390a(0x537)]=a0_0x38390a(0x520),_0x5c8ef8[a0_0x38390a(0x19d)]=a0_0x38390a(0x4e2),_0x5c8ef8[a0_0x38390a(0x4d7)]=a0_0x38390a(0x682),_0x5c8ef8[a0_0x38390a(0x18a)]=a0_0x38390a(0x310),_0x5c8ef8['VERBOSE']=a0_0x38390a(0x3dd),_0x5c8ef8[a0_0x38390a(0x57e)]='\x1b[30m',_0x5c8ef8))(Zt||{}),Gs=(_0xd741d2=>(_0xd741d2[a0_0x38390a(0x630)]='\x1b[32m%s\x1b[0m',_0xd741d2['DARK']='\x1b[30m%s\x1b[0m',_0xd741d2[a0_0x38390a(0x537)]=a0_0x38390a(0x339),_0xd741d2[a0_0x38390a(0x19d)]=a0_0x38390a(0x19a),_0xd741d2[a0_0x38390a(0x4d7)]='\x1b[31m%s\x1b[0m',_0xd741d2[a0_0x38390a(0x18a)]=a0_0x38390a(0x22b),_0xd741d2[a0_0x38390a(0x50d)]=a0_0x38390a(0x517),_0xd741d2))(Gs||{}),qs=(_0x490328=>(_0x490328['LOG']='LOG',_0x490328[a0_0x38390a(0x19d)]='WARN',_0x490328[a0_0x38390a(0x537)]='INFO',_0x490328[a0_0x38390a(0x57e)]='DARK',_0x490328[a0_0x38390a(0x4d7)]='ERROR',_0x490328['DEBUG']=a0_0x38390a(0x18a),_0x490328['VERBOSE']=a0_0x38390a(0x50d),_0x490328))(qs||{}),Js=(_0x271597=>(_0x271597[a0_0x38390a(0x630)]=a0_0x38390a(0x3b2),_0x271597[a0_0x38390a(0x537)]=a0_0x38390a(0x5dc),_0x271597[a0_0x38390a(0x19d)]='\x1b[43m',_0x271597[a0_0x38390a(0x57e)]=a0_0x38390a(0x292),_0x271597[a0_0x38390a(0x4d7)]=a0_0x38390a(0xfa),_0x271597[a0_0x38390a(0x18a)]=a0_0x38390a(0x103),_0x271597['VERBOSE']=a0_0x38390a(0x3e3),_0x271597))(Js||{}),v=class{constructor(_0x1358d0=a0_0x38390a(0x4b1)){const _0x2bea00=a0_0x38390a;this[_0x2bea00(0x30d)]=_0x1358d0,this[_0x2bea00(0x575)]=y;}['setContext'](_0x2fdd7a){this['context']=_0x2fdd7a;}[a0_0x38390a(0xfe)](_0x3e0cb8,_0x368912){const _0x8e0142=a0_0x38390a;let _0x52f369=[];this['configService'][_0x8e0142(0x1e3)](_0x8e0142(0x630))[_0x8e0142(0x4e0)]['forEach'](_0x368c73=>_0x52f369[_0x8e0142(0x1d9)](qs[_0x368c73]));let _0x44d2ae=typeof _0x3e0cb8;_0x52f369[_0x8e0142(0x264)](_0x368912)&&(y[_0x8e0142(0x1e3)](_0x8e0142(0x630))[_0x8e0142(0x4ea)]?(console[_0x8e0142(0x508)](_0x8e0142(0x53f)+Gs[_0x368912],_0x8e0142(0x5fc),(0x0,Xt[_0x8e0142(0x2d4)])()[_0x8e0142(0x572)](_0x8e0142(0x3e4)),'\x1b[0m',Zt[_0x368912]+Js[_0x368912]+_0x8e0142(0x53f),_0x368912+_0x8e0142(0x25b),_0x8e0142(0x1e5),this['context']+_0x8e0142(0x5db),Zt[_0x368912],_0x44d2ae!=='object'?_0x3e0cb8:'',_0x8e0142(0x5db)),_0x44d2ae===_0x8e0142(0x58c)&&console[_0x8e0142(0x508)](_0x3e0cb8,'\x0a')):console['log']((0x0,Xt[_0x8e0142(0x2d4)])()[_0x8e0142(0x572)](_0x8e0142(0x5b3)),_0x368912+'\x20',''+this['context'],_0x3e0cb8));}[a0_0x38390a(0x508)](_0x205ad8){const _0xc13aea=a0_0x38390a;this[_0xc13aea(0xfe)](_0x205ad8,_0xc13aea(0x630));}[a0_0x38390a(0x24f)](_0xfcb377){const _0x265926=a0_0x38390a;this[_0x265926(0xfe)](_0xfcb377,'INFO');}[a0_0x38390a(0x283)](_0x3c1dbc){const _0x17fadf=a0_0x38390a;this['console'](_0x3c1dbc,_0x17fadf(0x19d));}['error'](_0x34be51){const _0x585091=a0_0x38390a;this[_0x585091(0xfe)](_0x34be51,'ERROR');}['verbose'](_0x2b41b5){const _0x1364d4=a0_0x38390a;this[_0x1364d4(0xfe)](_0x2b41b5,_0x1364d4(0x50d));}['debug'](_0x4495ed){const _0x227bae=a0_0x38390a;this[_0x227bae(0xfe)](_0x4495ed,_0x227bae(0x18a));}[a0_0x38390a(0x3e1)](_0x170e0e){const _0x5500fc=a0_0x38390a;this[_0x5500fc(0xfe)](_0x170e0e,'DARK');}};function Ws(){const _0x19b1af=a0_0x38390a;process['on']('uncaughtException',(_0x1f20ff,_0x23d385)=>{const _0x2cdc5a=a0_0x38ae;new v(_0x2cdc5a(0x2f8))[_0x2cdc5a(0x182)]({'origin':_0x23d385,'stderr':process[_0x2cdc5a(0x1ba)]['fd'],'error':_0x1f20ff});}),process['on'](_0x19b1af(0x306),(_0x493b61,_0x18a028)=>{const _0x403b50=_0x19b1af;new v(_0x403b50(0x306))['error']({'origin':_0x18a028,'stderr':process[_0x403b50(0x1ba)]['fd'],'error':_0x493b61});});}var Hs=T(require(a0_0x38390a(0x5a6))),es=new Hs[(a0_0x38390a(0x2d4))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ce=require('path'),ge=require('fs'),ts=require(a0_0x38390a(0x37f)),j=class{constructor(_0x5c7090){const _0x5e2fdc=a0_0x38390a;this[_0x5e2fdc(0x497)]=(0x0,ts['join'])(z,_0x5e2fdc(0x2f4)),this['writeStore']=_0x229e7f=>{const _0x43370d=_0x5e2fdc;(0x0,ge['existsSync'])(_0x229e7f['path'])||(0x0,ge[_0x43370d(0x4c3)])(_0x229e7f[_0x43370d(0x37f)],{'recursive':!0x0});try{return(0x0,ge[_0x43370d(0x185)])((0x0,ts['join'])(_0x229e7f[_0x43370d(0x37f)],_0x229e7f[_0x43370d(0x662)]+_0x43370d(0x527)),JSON[_0x43370d(0x5a0)]({..._0x229e7f[_0x43370d(0x256)]}),{'encoding':_0x43370d(0x1b4)}),{'message':_0x43370d(0x124)};}finally{_0x229e7f['data']=void 0x0;}},this['dbSettings']=_0x5c7090[_0x5e2fdc(0x1e3)]('DATABASE');}[a0_0x38390a(0x2b8)](_0x12c898,_0x13b882=!0x1){const _0x2c6b29=a0_0x38390a;throw new Error(_0x2c6b29(0x1d0));}[a0_0x38390a(0x37e)](_0x43039c){const _0xda0312=a0_0x38390a;throw new Error(_0xda0312(0x1d0));}[a0_0x38390a(0x3d9)](_0x11dce1,_0x2ceace){const _0x4a71f4=a0_0x38390a;throw new Error(_0x4a71f4(0x1d0));}},se=require('fs'),Ve=class{},je=class extends j{constructor(_0x4262f0,_0x12a6ba){const _0x539ebb=a0_0x38390a;super(_0x12a6ba),this[_0x539ebb(0x472)]=_0x4262f0,this[_0x539ebb(0x575)]=_0x12a6ba;}async[a0_0x38390a(0x2b8)](_0x3fa7cc,_0x358ca2=!0x1){const _0x51f104=a0_0x38390a;if(_0x3fa7cc[_0x51f104(0x523)]!==0x0)try{return this[_0x51f104(0x32e)][_0x51f104(0x659)]&&_0x358ca2?{'insertCount':(await this['messageModel']['insertMany']([..._0x3fa7cc]))['length']}:_0x358ca2?(_0x3fa7cc[_0x51f104(0x5e6)](_0x57a964=>this['writeStore']({'path':(0x0,ce['join'])(this[_0x51f104(0x497)],_0x51f104(0x3f2),_0x57a964[_0x51f104(0x1eb)]),'fileName':_0x57a964[_0x51f104(0x378)]['id'],'data':_0x57a964})),{'insertCount':_0x3fa7cc['length']}):{'insertCount':0x0};}catch(_0x480bba){return console[_0x51f104(0x508)]('ERROR:\x20',_0x480bba),_0x480bba;}finally{_0x3fa7cc=void 0x0;}}async['find'](_0x4cb450){const _0x2d1444=a0_0x38390a;try{if(this['dbSettings'][_0x2d1444(0x659)]){if(_0x4cb450?.[_0x2d1444(0x606)]?.[_0x2d1444(0x378)]){for(let [_0x5a1499,_0x29739f]of Object[_0x2d1444(0x5eb)](_0x4cb450['where'][_0x2d1444(0x378)]))_0x4cb450[_0x2d1444(0x606)][_0x2d1444(0x5ea)+_0x5a1499]=_0x29739f;delete _0x4cb450?.[_0x2d1444(0x606)]?.['key'];}return await this[_0x2d1444(0x472)][_0x2d1444(0x37e)]({..._0x4cb450[_0x2d1444(0x606)]})[_0x2d1444(0x3db)]({'messageTimestamp':-0x1})[_0x2d1444(0x6a9)](_0x4cb450?.[_0x2d1444(0x6a9)]??0x0);}let _0x4751f8=[];if(_0x4cb450?.[_0x2d1444(0x606)]?.[_0x2d1444(0x378)]?.['id'])_0x4751f8[_0x2d1444(0x1d9)](JSON[_0x2d1444(0x455)]((0x0,se[_0x2d1444(0x5ae)])((0x0,ce[_0x2d1444(0x518)])(this[_0x2d1444(0x497)],'messages',_0x4cb450[_0x2d1444(0x606)][_0x2d1444(0x1eb)],_0x4cb450['where']['key']['id']+_0x2d1444(0x527)),{'encoding':_0x2d1444(0x1b4)})));else{let _0x2e9def=(0x0,se[_0x2d1444(0x5e3)])((0x0,ce[_0x2d1444(0x518)])(this['storePath'],_0x2d1444(0x3f2),_0x4cb450[_0x2d1444(0x606)][_0x2d1444(0x1eb)]),{'encoding':_0x2d1444(0x1b4)});for await(let _0x49b5a8 of _0x2e9def)_0x49b5a8[_0x2d1444(0x295)]()&&_0x4751f8[_0x2d1444(0x1d9)](JSON[_0x2d1444(0x455)]((0x0,se[_0x2d1444(0x5ae)])((0x0,ce[_0x2d1444(0x518)])(this[_0x2d1444(0x497)],_0x2d1444(0x3f2),_0x4cb450['where'][_0x2d1444(0x1eb)],_0x49b5a8[_0x2d1444(0x2c9)]),{'encoding':_0x2d1444(0x1b4)})));}return _0x4751f8[_0x2d1444(0x3db)]((_0x565b70,_0x5b5aba)=>_0x5b5aba['messageTimestamp']-_0x565b70[_0x2d1444(0x633)])[_0x2d1444(0x1dd)](0x0,_0x4cb450?.[_0x2d1444(0x6a9)]??_0x4751f8[_0x2d1444(0x523)]);}catch{return[];}}async['delete'](_0x289f7e){const _0x200e63=a0_0x38390a;try{if(this['dbSettings'][_0x200e63(0x659)])await this[_0x200e63(0x472)][_0x200e63(0x54f)]({..._0x289f7e[_0x200e63(0x606)]});else{let {owner:_0x4bdf83}=_0x289f7e[_0x200e63(0x606)];(0x0,se['readdirSync'])((0x0,ce[_0x200e63(0x518)])(this[_0x200e63(0x497)],_0x200e63(0x3f2),_0x4bdf83))[_0x200e63(0x5e6)](_0x445207=>{const _0x3f5d1b=_0x200e63;let _0x1b908a=(0x0,ce[_0x3f5d1b(0x518)])(this['storePath'],_0x3f5d1b(0x3f2),_0x4bdf83,_0x445207);(0x0,se[_0x3f5d1b(0x3fa)])(_0x1b908a);});}}catch(_0x370bbd){console['error'](_0x370bbd);}}async[a0_0x38390a(0x118)](_0x5e5a39,_0x3520a2){const _0x239dee=a0_0x38390a;try{let _0xb5e850=null;if(this[_0x239dee(0x32e)][_0x239dee(0x659)])return _0xb5e850=await this['messageModel'][_0x239dee(0x58f)]({..._0x5e5a39['where']},{'$set':_0x3520a2},{'new':!0x0}),_0xb5e850;}catch(_0x467aba){throw console[_0x239dee(0x182)](_0x467aba),_0x467aba;}}async[a0_0x38390a(0x231)](_0x578de0,_0x176de9=!0x1){const _0x56ca99=a0_0x38390a;if(_0x578de0[_0x56ca99(0x523)]!==0x0)try{return this[_0x56ca99(0x32e)]['ENABLED']&&_0x176de9?{'insertCount':(await this[_0x56ca99(0x472)]['insertMany']([..._0x578de0]))[_0x56ca99(0x523)]}:_0x176de9?(_0x578de0[_0x56ca99(0x5e6)](_0x43905d=>this[_0x56ca99(0x209)]({'path':(0x0,ce['join'])(this[_0x56ca99(0x497)],_0x56ca99(0x3f2),_0x43905d[_0x56ca99(0x1eb)]),'fileName':_0x43905d[_0x56ca99(0x378)]['id'],'data':_0x43905d})),{'insertCount':_0x578de0['length']}):{'insertCount':0x0};}catch(_0x595d9a){return console[_0x56ca99(0x508)](_0x56ca99(0x525),_0x595d9a),_0x595d9a;}finally{_0x578de0=void 0x0;}}},ee=require('fs'),w=T(require(a0_0x38390a(0x217))),_e=require('fs'),Z=T(require(a0_0x38390a(0x37f))),le=T(require(a0_0x38390a(0x298))),io=require(a0_0x38390a(0x24b)),ro=T(require(a0_0x38390a(0x5e5))),no=T(require('qrcode-terminal')),Ks=[a0_0x38390a(0x18b),a0_0x38390a(0x598),a0_0x38390a(0x3d7),a0_0x38390a(0x3ad),a0_0x38390a(0x35a)],zs=[a0_0x38390a(0x4fd),a0_0x38390a(0x2b7),a0_0x38390a(0x35b),a0_0x38390a(0x48e)],co=require('os'),$t=T(require(a0_0x38390a(0x631))),lo=require(a0_0x38390a(0x503)),bs=require(a0_0x38390a(0x3f8)),Be=require(a0_0x38390a(0x67b)),ss=T(require(a0_0x38390a(0x67b))),Qs=new v(a0_0x38390a(0x147)),F=y['get'](a0_0x38390a(0x288)),R=F[a0_0x38390a(0x659)]?F[a0_0x38390a(0x685)]['URI']?ss['default'][a0_0x38390a(0x5f0)](F[a0_0x38390a(0x685)][a0_0x38390a(0x69d)],{'dbName':F[a0_0x38390a(0x685)][a0_0x38390a(0x63d)]+'-whatsapp-api'}):ss[a0_0x38390a(0x2d4)][a0_0x38390a(0x5f0)](a0_0x38390a(0x4ae)+F[a0_0x38390a(0x685)][a0_0x38390a(0x3d4)]+':'+F[a0_0x38390a(0x685)][a0_0x38390a(0x318)]+a0_0x38390a(0x441),{'user':F[a0_0x38390a(0x685)]['USER'],'pass':F[a0_0x38390a(0x685)][a0_0x38390a(0x47e)],'dbName':F[a0_0x38390a(0x685)][a0_0x38390a(0x63d)]+a0_0x38390a(0x5f3)}):null;F[a0_0x38390a(0x659)]&&Qs[a0_0x38390a(0x24f)](a0_0x38390a(0x2c6)+R[a0_0x38390a(0x554)]);async function Go(){const _0x27a9e5=a0_0x38390a;await I[_0x27a9e5(0x5d3)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await I['updateMany']({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await I[_0x27a9e5(0x5d3)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}R?.['on']('connected',()=>{const _0x2e553c=a0_0x38390a;I&&Go()[_0x2e553c(0x5f1)](_0x567faa=>Qs['error']('Erro\x20na\x20migração:'+_0x567faa));});var as=class{},qo=new Be['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new Be[(a0_0x38390a(0x498))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Wo=new Be[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'contactname':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number},'unreadcount':{'type':Number},'lastcache':{'type':Number},'leadInfo':{'type':Jo,'default':{}},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),I=R?.['model'](as[a0_0x38390a(0x2c9)],Wo,a0_0x38390a(0x3bd)),Ys=require(a0_0x38390a(0x67b)),os=class{},Ho=new Ys[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=R?.[a0_0x38390a(0x26e)](os['name'],Ho,a0_0x38390a(0x2c2)),P=require(a0_0x38390a(0x67b)),Xs=new P[(a0_0x38390a(0x498))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new P[(a0_0x38390a(0x498))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ko=new P['Schema']({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x38390a(0x1ce)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new P[(a0_0x38390a(0x498))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ea=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),zo=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new P[(a0_0x38390a(0x498))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ko},'apirequest':ea,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new P[(a0_0x38390a(0x498))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new P[(a0_0x38390a(0x498))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},aa=new P['Schema']({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2a402a=a0_0x38390a;return _0x2a402a(0x3a8)+Math['random']()[_0x2a402a(0x2aa)](0x24)[_0x2a402a(0x1ea)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]}});aa[a0_0x38390a(0x1cb)](a0_0x38390a(0x5e0),function(_0xdd4bf2){const _0xeb9e1c=a0_0x38390a;let _0x54b515=new Set(),_0x590764=new Set(this[_0xeb9e1c(0x3c1)]?.['map'](_0x522b25=>_0x522b25[_0xeb9e1c(0x2c9)])),_0x27b2f3=JSON[_0xeb9e1c(0x5a0)](this),_0x269195=/{{(?!_)([^}]*)}}/g,_0x51b341;for(;(_0x51b341=_0x269195[_0xeb9e1c(0x51b)](_0x27b2f3))!==null;)_0x590764[_0xeb9e1c(0x5b7)](_0x51b341[0x1])||_0x54b515[_0xeb9e1c(0x39d)](_0x51b341[0x1]);_0x54b515[_0xeb9e1c(0x3c9)]>0x0?(console[_0xeb9e1c(0x283)](_0xeb9e1c(0x40f),Array[_0xeb9e1c(0x1bf)](_0x54b515)),this[_0xeb9e1c(0x4c5)]=Array[_0xeb9e1c(0x1bf)](_0x54b515)):this['variablesNotFound']=[],_0xdd4bf2();});var D=R?.[a0_0x38390a(0x26e)](rs[a0_0x38390a(0x2c9)],aa,'flow'),Qo=new P[(a0_0x38390a(0x498))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastBlockId':{'type':String},'blockLogs':[zo]},{'_id':!0x1}),ns=class{},Yo=new P[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x38390a(0x201)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[is],'default':[]}}),G=R?.['model'](ns[a0_0x38390a(0x2c9)],Yo,a0_0x38390a(0x25f)),cs=class{},Xo=new P[(a0_0x38390a(0x498))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Zo=new P[(a0_0x38390a(0x498))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x38390a(0x54b)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),k=R?.[a0_0x38390a(0x26e)](cs[a0_0x38390a(0x2c9)],Zo,a0_0x38390a(0x3a1)),ls=class{},ei=new P['Schema']({'name':{'type':String},'requests':[ea],'owner':{'type':String}}),Wr=R?.[a0_0x38390a(0x26e)](ls['name'],ei,a0_0x38390a(0x48a)),us=class{},ti=new P[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),si=new P[(a0_0x38390a(0x498))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x38390a(0x5be)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),ai=new P[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),oi=new P[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ai]},'customFields':{'type':[ti]},'flowConfig':{'type':si,'default':{}}}),ae=R?.[a0_0x38390a(0x26e)](us[a0_0x38390a(0x2c9)],oi,'AutomateSystem'),ye=T(require(a0_0x38390a(0x67b))),uo=T(require(a0_0x38390a(0x259))),po=require('stream'),mo=require(a0_0x38390a(0x589)),x=require(a0_0x38390a(0x533)),he=class{constructor(_0x53509d,_0x45f5ec,_0x4eacda){const _0x47e789=a0_0x38390a;this['jid']=_0x53509d,this[_0x47e789(0x34a)]=_0x45f5ec,this['name']=_0x4eacda;}},Ge=class{},ve=class{},qe=class{},Je=class{},fe=class{},We=class{},He=class{},Ke=class{},ze=class{},Dt=T(require(a0_0x38390a(0x1a0))),oa=require('fs'),ia=require('path');async function Qe(_0x483076){const _0x30971c=a0_0x38390a;let _0x4fae9b=B[_0x30971c(0x1fc)][_0x483076];if(F[_0x30971c(0x659)]){let _0x341c7b=R[_0x30971c(0x1d3)]()['db'](F[_0x30971c(0x685)]['DB_PREFIX_NAME']+_0x30971c(0x113))['collection'](_0x483076);return _0x4fae9b||(await _0x341c7b[_0x30971c(0x37e)]({})[_0x30971c(0x184)]())[_0x30971c(0x523)]>0x0;}return _0x4fae9b||(0x0,oa[_0x30971c(0x108)])((0x0,ia[_0x30971c(0x518)])(V,_0x483076));}async function ps(_0x36197e,_0x198b50,_0xae5587){const _0x3e013f=a0_0x38390a;if(_0x36197e['originalUrl']['includes'](_0x3e013f(0x5f6))||_0x36197e['originalUrl'][_0x3e013f(0x264)](_0x3e013f(0x3f4))||_0x36197e['originalUrl'][_0x3e013f(0x264)](_0x3e013f(0x145)))return _0xae5587();let _0x38323c=_0x36197e[_0x3e013f(0x3bb)];if(!_0x38323c?.[_0x3e013f(0x344)])throw new m(_0x3e013f(0x31f));if(!await Qe(_0x38323c['instanceName']))throw new L(_0x3e013f(0x51d)+_0x38323c[_0x3e013f(0x344)]+_0x3e013f(0x106));_0xae5587();}async function ra(_0x156401,_0x421340,_0x2e8aee){const _0x1bbe85=a0_0x38390a;if(_0x156401[_0x1bbe85(0x286)][_0x1bbe85(0x264)]('/instance/create')){let _0xa6e65a=_0x156401['body'];if(await Qe(_0xa6e65a[_0x1bbe85(0x344)]))throw new oe('This\x20name\x20'+_0xa6e65a[_0x1bbe85(0x344)]+_0x1bbe85(0x44c));B[_0x1bbe85(0x1fc)][_0xa6e65a[_0x1bbe85(0x344)]]&&delete B['waInstances'][_0xa6e65a[_0x1bbe85(0x344)]];}_0x2e8aee();}var na=require(a0_0x38390a(0x533)),ca=T(require(a0_0x38390a(0x29c))),Ye='uazapi',ri=new v(a0_0x38390a(0x683));async function ni(_0x49b442,_0x553c65,_0x3d23f2){const _0xebbfbf=a0_0x38390a;let _0x1bc30c=_0x49b442[_0xebbfbf(0x1e3)](_0xebbfbf(0x11d));if(_0x1bc30c&&y[_0xebbfbf(0x1e3)]('AUTHENTICATION')[_0xebbfbf(0x5cd)][_0xebbfbf(0x1cf)]!==_0x1bc30c)throw new ie();if(y[_0xebbfbf(0x1e3)](_0xebbfbf(0x680))[_0xebbfbf(0x5cd)]['KEY']===_0x1bc30c)return _0x3d23f2();if((_0x49b442['originalUrl'][_0xebbfbf(0x264)](_0xebbfbf(0x5f6))||_0x49b442[_0xebbfbf(0x286)][_0xebbfbf(0x264)](_0xebbfbf(0x3f4)))&&!_0x1bc30c)throw new oe('Missing\x20global\x20api\x20key',_0xebbfbf(0x30f));let _0x4afc36=y['get'](_0xebbfbf(0x680))[_0xebbfbf(0x1bc)];try{let [_0x1756ca,_0x2a7c74]=_0x49b442['get']('authorization')[_0xebbfbf(0x142)]('\x20');if(_0x1756ca[_0xebbfbf(0x564)]()!==_0xebbfbf(0x179))throw new ie();if(!(0x0,na[_0xebbfbf(0x5a3)])(_0x2a7c74))throw new ie();let _0x191bd6=_0x49b442['params'],_0x552eb6=ca[_0xebbfbf(0x2d4)][_0xebbfbf(0x12b)](_0x2a7c74,_0x4afc36[_0xebbfbf(0x590)],{'ignoreExpiration':_0x4afc36[_0xebbfbf(0x482)]===0x0});if(_0x191bd6[_0xebbfbf(0x344)]!==_0x552eb6['instanceName']||Ye!==_0x552eb6[_0xebbfbf(0x24e)])throw new ie();return _0x3d23f2();}catch(_0x31753c){throw ri[_0xebbfbf(0x182)](_0x31753c),new ie();}}async function ci(_0x646dde,_0x1bbe16,_0x3ebb2d){const _0x104d27=a0_0x38390a;let _0xbe92e6=y[_0x104d27(0x1e3)](_0x104d27(0x680))[_0x104d27(0x5cd)],_0x40cd37=_0x646dde[_0x104d27(0x1e3)](_0x104d27(0x11d));if(_0xbe92e6[_0x104d27(0x1cf)]===_0x40cd37)return _0x3ebb2d();if(_0x646dde[_0x104d27(0x286)][_0x104d27(0x264)]('/instance/create')){let _0x594eee=y[_0x104d27(0x1e3)](_0x104d27(0x4fe)),_0x2bf4e5=_0x646dde['body'][_0x104d27(0x344)];if(_0x594eee&&_0x2bf4e5['toLowerCase']()[_0x104d27(0x50a)](_0x594eee[_0x104d27(0x564)]()))return _0x3ebb2d();if(!_0x40cd37)throw new oe(_0x104d27(0x17b),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x646dde[_0x104d27(0x286)]['includes'](_0x104d27(0x3f4))&&!_0x40cd37)throw new oe('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x646dde[_0x104d27(0x286)][_0x104d27(0x264)]('/exit')&&!_0x40cd37)throw new oe(_0x104d27(0x17b),_0x104d27(0x30f));try{let _0x107a91=_0x646dde[_0x104d27(0x3bb)];if((await ue[_0x104d27(0x461)][_0x104d27(0x37e)](_0x107a91['instanceName']))[_0x104d27(0x11d)]===_0x40cd37)return _0x3ebb2d();}catch{}throw new ie();}var la={'jwt':ni,'apikey':ci},Ga=require(a0_0x38390a(0x1a0)),N=require(a0_0x38390a(0x24b)),S=(..._0x476c21)=>{const _0x40ffef=a0_0x38390a;let _0x1f5758={};return _0x476c21['forEach'](_0x193f3a=>_0x1f5758[_0x193f3a]={'minLength':0x1,'description':_0x40ffef(0x429)+_0x193f3a+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x476c21]}},'then':{'properties':_0x1f5758}};},C={'$id':(0x0,N['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x38390a(0x1ac)}},...S('instanceName')},ua={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'oldToken':{'type':a0_0x38390a(0x1ac)}},'required':[a0_0x38390a(0x600)],...S(a0_0x38390a(0x600))},ln={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x38390a(0x1ac)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x38390a(0x14d)],...S('id','remoteJid')},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x38390a(0x329),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':'string','enum':[a0_0x38390a(0x435),a0_0x38390a(0x546),a0_0x38390a(0x4bf),a0_0x38390a(0x2c5),'paused']}}},re={'type':a0_0x38390a(0x1ac),'pattern':a0_0x38390a(0x3a0),'description':a0_0x38390a(0x1c6)},da={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'number':{...re},'options':{...Q},'textMessage':{'type':a0_0x38390a(0x58c),'properties':{'text':{'type':a0_0x38390a(0x1ac)}},'required':[a0_0x38390a(0x143)],...S(a0_0x38390a(0x143))}},'required':[a0_0x38390a(0x1e0),a0_0x38390a(0x364)]},pa={'type':'string','pattern':a0_0x38390a(0x1f7),'description':'Invalid\x20format'},un={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...pa},'options':{...Q},'textMessage':{'type':a0_0x38390a(0x58c),'properties':{'text':{'type':a0_0x38390a(0x1ac)}},'required':[a0_0x38390a(0x143)],...S('text')}},'required':[a0_0x38390a(0x1e0),'number']},dn={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'number':{...pa},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x5b1),a0_0x38390a(0x4aa),a0_0x38390a(0x404),a0_0x38390a(0x35e)]},'media':{'type':a0_0x38390a(0x1ac)},'fileName':{'type':a0_0x38390a(0x1ac)},'caption':{'type':a0_0x38390a(0x1ac)}},'required':['mediatype',a0_0x38390a(0x419)],...S(a0_0x38390a(0x662),a0_0x38390a(0x1a7),a0_0x38390a(0x419))}},'required':[a0_0x38390a(0x4cf),a0_0x38390a(0x364)]},ma={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'stickerMessage':{'type':a0_0x38390a(0x58c),'properties':{'image':{'type':'string'}},'required':[a0_0x38390a(0x5b1)],...S(a0_0x38390a(0x5b1))}},'required':[a0_0x38390a(0x35a),a0_0x38390a(0x364)]},ga={'$id':(0x0,N['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x38390a(0x58c),'properties':{'type':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x143),a0_0x38390a(0x5b1),a0_0x38390a(0x35e),a0_0x38390a(0x404)]},'content':{'type':a0_0x38390a(0x1ac)},'caption':{'type':a0_0x38390a(0x1ac)},'backgroundColor':{'type':a0_0x38390a(0x1ac)},'font':{'type':a0_0x38390a(0x329),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x38390a(0x36e),'description':a0_0x38390a(0x199)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x38390a(0x188),'content'],...S(a0_0x38390a(0x188),a0_0x38390a(0x4f1))}},'required':[a0_0x38390a(0x14a)]},ha={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'mediaMessage':{'type':a0_0x38390a(0x58c),'properties':{'mediatype':{'type':a0_0x38390a(0x1ac),'enum':['image','document',a0_0x38390a(0x404),a0_0x38390a(0x35e)]},'media':{'type':a0_0x38390a(0x1ac)},'fileName':{'type':'string'},'caption':{'type':a0_0x38390a(0x1ac)}},'required':['mediatype',a0_0x38390a(0x419)],...S(a0_0x38390a(0x662),'caption',a0_0x38390a(0x419))}},'required':['mediaMessage',a0_0x38390a(0x364)]},fa={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'number':{...re},'options':{...Q},'audioMessage':{'type':a0_0x38390a(0x58c),'properties':{'audio':{'type':a0_0x38390a(0x1ac)}},'required':[a0_0x38390a(0x35e)],...S(a0_0x38390a(0x35e))}},'required':[a0_0x38390a(0x3d7),a0_0x38390a(0x364)]},wa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'pollMessage':{'type':a0_0x38390a(0x58c),'properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x38390a(0x5d7),a0_0x38390a(0x558)],...S('name','selectableCount','values')}},'required':[a0_0x38390a(0x364),a0_0x38390a(0x210)]},ya={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'buttonMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x38390a(0x1ac)},'footerText':{'type':'string'},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x38390a(0x58c),'properties':{'buttonText':{'type':a0_0x38390a(0x1ac)},'buttonId':{'type':'string'}},'required':['buttonText',a0_0x38390a(0x63b)],...S(a0_0x38390a(0x626),a0_0x38390a(0x63b))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x38390a(0x1ac)},'fileName':{'type':a0_0x38390a(0x1ac)},'mediatype':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x5b1),a0_0x38390a(0x4aa),'video']}},'required':[a0_0x38390a(0x419),a0_0x38390a(0x4ca)],...S('media',a0_0x38390a(0x662))}},'required':[a0_0x38390a(0x34f),'buttons'],...S(a0_0x38390a(0x34f),a0_0x38390a(0x24a))}},'required':[a0_0x38390a(0x364),a0_0x38390a(0x505)]},ba={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'number':{...re},'options':{...Q},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x38390a(0x364)},'name':{'type':'string'},'address':{'type':a0_0x38390a(0x1ac)}},'required':['latitude','longitude'],...S(a0_0x38390a(0x2c9),a0_0x38390a(0x4f7))}},'required':[a0_0x38390a(0x364),'locationMessage']},Sa={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'number':{...re},'options':{...Q},'listMessage':{'type':a0_0x38390a(0x58c),'properties':{'title':{'type':a0_0x38390a(0x1ac)},'description':{'type':a0_0x38390a(0x1ac)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x38390a(0x1ac)},'sections':{'type':a0_0x38390a(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x38390a(0x58c),'properties':{'title':{'type':a0_0x38390a(0x1ac)},'rows':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x38390a(0x58c),'properties':{'title':{'type':'string'},'description':{'type':a0_0x38390a(0x1ac)},'rowId':{'type':a0_0x38390a(0x1ac)}},'required':[a0_0x38390a(0x34f),a0_0x38390a(0x24a),a0_0x38390a(0x610)],...S('title','description','rowId')}}},'required':['title','rows'],...S('title')}}},'required':['title',a0_0x38390a(0x24a),'buttonText',a0_0x38390a(0x54e)],...S(a0_0x38390a(0x34f),a0_0x38390a(0x24a),a0_0x38390a(0x626),a0_0x38390a(0x2a5))}},'required':[a0_0x38390a(0x364),a0_0x38390a(0x1a2)]},Ea={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'number':{...re},'options':{...Q},'contactMessage':{'type':'array','items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x38390a(0x4b4),a0_0x38390a(0x411)],...S(a0_0x38390a(0x4b4))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x38390a(0x364),a0_0x38390a(0x26b)]},Na={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'reactionMessage':{'type':a0_0x38390a(0x58c),'properties':{'key':{'type':a0_0x38390a(0x58c),'properties':{'id':{'type':a0_0x38390a(0x1ac)},'remoteJid':{'type':a0_0x38390a(0x1ac)},'fromMe':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]}},'required':['id',a0_0x38390a(0x41e),'fromMe'],...S('id','remoteJid')},'reaction':{'type':'string'}},'required':[a0_0x38390a(0x378),'reaction'],...S(a0_0x38390a(0x11b))}},'required':[a0_0x38390a(0x66b)]},Ca={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'numbers':{'type':a0_0x38390a(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x38390a(0x36e),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},va={'$id':(0x0,N['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x38390a(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x38390a(0x1ac)},'fromMe':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x38390a(0x1ac)}},'required':['id',a0_0x38390a(0x14d),'remoteJid'],...S('id',a0_0x38390a(0x41e))}}},'required':['readMessages']},Ta={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'privacySettings':{'type':a0_0x38390a(0x58c),'properties':{'readreceipts':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x1ee),a0_0x38390a(0x279)]},'profile':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x1ee),a0_0x38390a(0x2c2),a0_0x38390a(0x18d),a0_0x38390a(0x279)]},'status':{'type':'string','enum':[a0_0x38390a(0x1ee),a0_0x38390a(0x2c2),a0_0x38390a(0x18d),'none']},'online':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x1ee),a0_0x38390a(0x1b6)]},'last':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x1ee),a0_0x38390a(0x2c2),a0_0x38390a(0x18d),a0_0x38390a(0x279)]},'groupadd':{'type':'string','enum':['all',a0_0x38390a(0x2c2),a0_0x38390a(0x18d),a0_0x38390a(0x279)]}},'required':[a0_0x38390a(0x16d),a0_0x38390a(0x317),a0_0x38390a(0x13c),a0_0x38390a(0x67e),a0_0x38390a(0x1f4),a0_0x38390a(0x12c)],...S(a0_0x38390a(0x16d),a0_0x38390a(0x317),a0_0x38390a(0x13c),a0_0x38390a(0x67e),a0_0x38390a(0x1f4),'groupadd')}},'required':[a0_0x38390a(0x1b3)]},Ra={'$id':(0x0,N['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x38390a(0x58c),'properties':{'key':{'type':a0_0x38390a(0x58c),'properties':{'id':{'type':a0_0x38390a(0x1ac)},'remoteJid':{'type':a0_0x38390a(0x1ac)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x38390a(0x14d),a0_0x38390a(0x41e)],...S('id',a0_0x38390a(0x41e))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x38390a(0x378)],...S(a0_0x38390a(0x633))},'archive':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]}},'required':[a0_0x38390a(0x180),a0_0x38390a(0x4c6)]},Ma={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'id':{'type':a0_0x38390a(0x1ac)},'fromMe':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x38390a(0x1ac)},'participant':{'type':a0_0x38390a(0x1ac)}},'required':['id',a0_0x38390a(0x14d),a0_0x38390a(0x41e)],...S('id',a0_0x38390a(0x41e),a0_0x38390a(0x58a))},Aa={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'where':{'type':a0_0x38390a(0x58c),'properties':{'_id':{'type':a0_0x38390a(0x1ac),'minLength':0x1},'pushName':{'type':a0_0x38390a(0x1ac),'minLength':0x1},'id':{'type':a0_0x38390a(0x1ac),'minLength':0x1}},...S(a0_0x38390a(0x195),'id',a0_0x38390a(0x50b))}}},Ia={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'name':{'type':a0_0x38390a(0x1ac)}},...S(a0_0x38390a(0x2c9))},Da={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'status':{'type':a0_0x38390a(0x1ac)}},...S(a0_0x38390a(0x13c))},Te={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{'type':a0_0x38390a(0x1ac)},'picture':{'type':a0_0x38390a(0x1ac)}}},Pa={'type':'object','properties':{'wuid':{'type':a0_0x38390a(0x1ac)},'name':{'type':a0_0x38390a(0x1ac)},'picture':{'type':'string'},'status':{'type':a0_0x38390a(0x1ac)},'isBusiness':{'type':a0_0x38390a(0x432)}}},Oa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'where':{'type':a0_0x38390a(0x58c),'properties':{'_id':{'type':a0_0x38390a(0x1ac),'minLength':0x1},'key':{'type':a0_0x38390a(0x58c),'if':{'propertyNames':{'enum':[a0_0x38390a(0x14d),a0_0x38390a(0x41e),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x38390a(0x1ac),'minLength':0x1,'description':a0_0x38390a(0x552)},'id':{'type':a0_0x38390a(0x1ac),'minLength':0x1,'description':a0_0x38390a(0x552)},'fromMe':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x38390a(0x58c)}},...S(a0_0x38390a(0x195))},'limit':{'type':'integer'}}},_a={'$id':(0x0,N['v4'])(),'type':'object','properties':{'where':{'type':a0_0x38390a(0x58c),'properties':{'_id':{'type':a0_0x38390a(0x1ac)},'remoteJid':{'type':'string'},'id':{'type':a0_0x38390a(0x1ac)},'fromMe':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x38390a(0x1ac)},'status':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x4d7),a0_0x38390a(0x55d),a0_0x38390a(0x191),a0_0x38390a(0x67c),a0_0x38390a(0x69b),'PLAYED']}},...S(a0_0x38390a(0x195),a0_0x38390a(0x41e),'id','status')},'limit':{'type':a0_0x38390a(0x329)}}},xa={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'subject':{'type':a0_0x38390a(0x1ac)},'description':{'type':a0_0x38390a(0x1ac)},'profilePicture':{'type':a0_0x38390a(0x1ac)},'participants':{'type':a0_0x38390a(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x38390a(0x1ac),'minLength':0xa,'pattern':a0_0x38390a(0x42b),'description':a0_0x38390a(0x268)}}},'required':['subject',a0_0x38390a(0x65d)],...S(a0_0x38390a(0x599),a0_0x38390a(0x24a),a0_0x38390a(0x661))},Re={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'groupJid':{'type':a0_0x38390a(0x1ac),'pattern':a0_0x38390a(0x667)}},'required':[a0_0x38390a(0x30c)],...S('groupJid')},$a={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x38390a(0x1ac),'enum':[a0_0x38390a(0x39d),a0_0x38390a(0x555),'promote',a0_0x38390a(0x416)]},'participants':{'type':a0_0x38390a(0x61c),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x38390a(0x1ac),'minLength':0xa,'pattern':a0_0x38390a(0x42b),'description':a0_0x38390a(0x268)}}},'required':['groupJid',a0_0x38390a(0x11e),a0_0x38390a(0x65d)],...S(a0_0x38390a(0x30c),a0_0x38390a(0x11e))},ka={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x38390a(0x364),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x38390a(0x30c),'expiration'],...S(a0_0x38390a(0x30c),a0_0x38390a(0x349))},La={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x38390a(0x1ac)}},'required':[a0_0x38390a(0x30c),'image'],...S(a0_0x38390a(0x30c),a0_0x38390a(0x5b1))},Ua={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'groupJid':{'type':a0_0x38390a(0x1ac)},'description':{'type':'string'}},'required':[a0_0x38390a(0x30c),a0_0x38390a(0x24a)],...S(a0_0x38390a(0x30c),'description')},Va={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x38390a(0x1ac)},'name':{'type':a0_0x38390a(0x1ac)}},'required':['groupJid',a0_0x38390a(0x2c9)],...S('groupJid',a0_0x38390a(0x2c9))},ja={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x38390a(0x1ac)},'setting':{'type':'string','enum':[a0_0x38390a(0x1cc),a0_0x38390a(0x4a4),'unlocked',a0_0x38390a(0x33a)]}},'required':[a0_0x38390a(0x30c),a0_0x38390a(0x526)],...S(a0_0x38390a(0x30c),a0_0x38390a(0x526))},Ba={'$id':(0x0,N['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x38390a(0x1ac)}},'required':['inviteCode'],...S('inviteCode')},Fa={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]}},'required':[a0_0x38390a(0x386),a0_0x38390a(0xf9)]},pn={'$id':(0x0,N['v4'])(),'type':a0_0x38390a(0x58c),'properties':{'local_map':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x38390a(0x432),'enum':[!0x0,!0x1]}},'required':[a0_0x38390a(0x5cf),a0_0x38390a(0x652),a0_0x38390a(0x2a6),a0_0x38390a(0x1e8),a0_0x38390a(0x436),a0_0x38390a(0x65a),a0_0x38390a(0x50f),a0_0x38390a(0x13e),'CONTACTS_UPSERT',a0_0x38390a(0x627),a0_0x38390a(0x360),a0_0x38390a(0x403),a0_0x38390a(0x212),a0_0x38390a(0x573),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x38390a(0x31c),a0_0x38390a(0x624),a0_0x38390a(0x2e8)],...S(a0_0x38390a(0x5cf),a0_0x38390a(0x652),'QRCODE_UPDATED',a0_0x38390a(0x1e8),a0_0x38390a(0x436),'MESSAGES_UPSERT',a0_0x38390a(0x50f),a0_0x38390a(0x13e),a0_0x38390a(0x1cd),'CONTACTS_UPDATE',a0_0x38390a(0x360),'CHATS_SET','CHATS_UPSERT',a0_0x38390a(0x573),a0_0x38390a(0x1f1),a0_0x38390a(0x3af),'GROUPS_UPSERT',a0_0x38390a(0x624),a0_0x38390a(0x2e8))},Ae=require('fs'),Me=require('path'),Xe=class{},Ze=class extends j{constructor(_0x2ed59f,_0x3969a5){const _0x1907a0=a0_0x38390a;super(_0x3969a5),this[_0x1907a0(0x40d)]=_0x2ed59f,this[_0x1907a0(0x575)]=_0x3969a5;}async[a0_0x38390a(0x2b8)](_0x212ef9,_0xf98991=!0x1){const _0x4abbda=a0_0x38390a;if(_0x212ef9[_0x4abbda(0x523)]!==0x0)try{return this['dbSettings']['ENABLED']&&_0xf98991?{'insertCount':(await this[_0x4abbda(0x40d)][_0x4abbda(0x231)]([..._0x212ef9]))[_0x4abbda(0x523)]}:(_0x212ef9[_0x4abbda(0x5e6)](_0x428ee5=>{const _0x5d242a=_0x4abbda;this[_0x5d242a(0x209)]({'path':(0x0,Me[_0x5d242a(0x518)])(this[_0x5d242a(0x497)],_0x5d242a(0x2c2),_0x428ee5[_0x5d242a(0x1eb)]),'fileName':_0x428ee5['id'],'data':_0x428ee5});}),{'insertCount':_0x212ef9[_0x4abbda(0x523)]});}catch(_0x68adac){return _0x68adac;}finally{_0x212ef9=void 0x0;}}async[a0_0x38390a(0x3d9)](_0x3fe7a2){const _0x449889=a0_0x38390a;try{return this[_0x449889(0x32e)]['ENABLED']?await this[_0x449889(0x40d)][_0x449889(0x54f)]({..._0x3fe7a2[_0x449889(0x606)]}):{'deleted':{'contact':_0x3fe7a2['where']['id']}};}catch(_0x5883cb){return{'error':_0x5883cb?.['toString']()};}}async['update'](_0x1c983f,_0x149421=!0x1){const _0x3db4c1=a0_0x38390a;try{if(_0x1c983f['length']===0x0)return;if(this[_0x3db4c1(0x32e)]['ENABLED']&&_0x149421){let _0x5c0d72=_0x1c983f[_0x3db4c1(0x1da)](_0x186dab=>({'updateOne':{'filter':{'id':_0x186dab['id']},'update':{..._0x186dab},'upsert':!0x0}})),{nModified:_0x2fb2d6}=await this[_0x3db4c1(0x40d)][_0x3db4c1(0x4b2)](_0x5c0d72);return{'insertCount':_0x2fb2d6};}}catch{return;}}async[a0_0x38390a(0x37e)](_0x2d5b15){const _0x306fc7=a0_0x38390a;try{if(this['dbSettings'][_0x306fc7(0x659)])return await this[_0x306fc7(0x40d)]['find']({..._0x2d5b15[_0x306fc7(0x606)]});let _0x5a8fc5=[];if(_0x2d5b15?.[_0x306fc7(0x606)]?.['id'])_0x5a8fc5[_0x306fc7(0x1d9)](JSON[_0x306fc7(0x455)]((0x0,Ae['readFileSync'])((0x0,Me[_0x306fc7(0x518)])(this['storePath'],_0x306fc7(0x2c2),_0x2d5b15['where'][_0x306fc7(0x1eb)],_0x2d5b15[_0x306fc7(0x606)]['id']+_0x306fc7(0x527)),{'encoding':_0x306fc7(0x1b4)})));else{let _0x51219c=(0x0,Ae[_0x306fc7(0x5e3)])((0x0,Me['join'])(this[_0x306fc7(0x497)],_0x306fc7(0x2c2),_0x2d5b15[_0x306fc7(0x606)][_0x306fc7(0x1eb)]),{'encoding':_0x306fc7(0x1b4)});for await(let _0x5ef593 of _0x51219c)_0x5ef593[_0x306fc7(0x295)]()&&_0x5a8fc5[_0x306fc7(0x1d9)](JSON[_0x306fc7(0x455)]((0x0,Ae['readFileSync'])((0x0,Me[_0x306fc7(0x518)])(this[_0x306fc7(0x497)],_0x306fc7(0x2c2),_0x2d5b15[_0x306fc7(0x606)]['owner'],_0x5ef593[_0x306fc7(0x2c9)]),{'encoding':_0x306fc7(0x1b4)})));}return _0x5a8fc5;}catch{return[];}}},et=require(a0_0x38390a(0x60f)),yn=require(a0_0x38390a(0x4dd)),ms=new v('Validate'),_=class{constructor(){}[a0_0x38390a(0x14f)](_0x3506a1,_0x30b23b=!0x0){let _0x5b0ff2='/'+_0x3506a1;return _0x30b23b&&(_0x5b0ff2+='/:instanceName'),_0x5b0ff2;}async[a0_0x38390a(0x20a)](_0x29288d){const _0x4fabc9=a0_0x38390a;let {request:_0x48400b,schema:_0x3d9294,ClassRef:_0xfc3205,execute:_0xc0c26d}=_0x29288d,_0x1548b4=new _0xfc3205(),_0x18f434=_0x48400b['body'],_0x24ac2b=_0x48400b[_0x4fabc9(0x3bb)];_0x48400b?.['query']&&Object[_0x4fabc9(0x29a)](_0x48400b[_0x4fabc9(0x314)])[_0x4fabc9(0x523)]>0x0&&Object[_0x4fabc9(0x500)](_0x24ac2b,_0x48400b[_0x4fabc9(0x314)]),_0x48400b['originalUrl'][_0x4fabc9(0x264)](_0x4fabc9(0x5f6))&&Object[_0x4fabc9(0x500)](_0x24ac2b,_0x18f434),Object['assign'](_0x1548b4,_0x18f434);let _0x4d8b3c=_0x3d9294?(0x0,et[_0x4fabc9(0x4de)])(_0x1548b4,_0x3d9294):{'valid':!0x0,'errors':[]};if(!_0x4d8b3c['valid']){let _0x4141a3=_0x4d8b3c['errors'][_0x4fabc9(0x1da)](({property:_0x12db8c,stack:_0x447498,schema:_0x2a07a7})=>{const _0x5367a6=_0x4fabc9;let _0x10560a;return _0x2a07a7['description']?_0x10560a=_0x2a07a7[_0x5367a6(0x24a)]:_0x10560a=_0x447498[_0x5367a6(0x3ab)](_0x5367a6(0x56e),''),{'property':_0x12db8c[_0x5367a6(0x3ab)](_0x5367a6(0x56e),''),'message':_0x10560a};});throw ms[_0x4fabc9(0x182)]([..._0x4141a3]),new m(..._0x4141a3);}return await _0xc0c26d(_0x24ac2b,_0x1548b4);}async['groupValidate'](_0x12f9a6){const _0x22357b=a0_0x38390a;let {request:_0x222820,ClassRef:_0x5d67e4,schema:_0xe381d7,execute:_0x5af5dc}=_0x12f9a6,_0x245821=_0x222820[_0x22357b(0x314)];if(!_0x245821?.['groupJid'])throw new m(_0x22357b(0x69e),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x189293=_0x222820[_0x22357b(0x3bb)],_0x5e87fa=_0x222820[_0x22357b(0x49d)],_0x4b924b=new _0x5d67e4();Object[_0x22357b(0x500)](_0x5e87fa,_0x245821),Object['assign'](_0x4b924b,_0x5e87fa);let _0x2985f6=(0x0,et[_0x22357b(0x4de)])(_0x4b924b,_0xe381d7);if(!_0x2985f6[_0x22357b(0x3e9)]){let _0x27f084=_0x2985f6[_0x22357b(0x486)][_0x22357b(0x1da)](({property:_0x567b70,stack:_0x493c9f,schema:_0x2afdb0})=>{const _0x3fc1b3=_0x22357b;let _0x17cf12;return _0x2afdb0[_0x3fc1b3(0x24a)]?_0x17cf12=_0x2afdb0[_0x3fc1b3(0x24a)]:_0x17cf12=_0x493c9f[_0x3fc1b3(0x3ab)]('instance.',''),{'property':_0x567b70[_0x3fc1b3(0x3ab)]('instance.',''),'message':_0x17cf12};});throw ms['error']([..._0x27f084]),new m(..._0x27f084);}return await _0x5af5dc(_0x189293,_0x4b924b);}async['joinGroupValidate'](_0x42a8c7){const _0x1e685f=a0_0x38390a;let {request:_0x5b174d,ClassRef:_0x509f2b,schema:_0x3cbbaa,execute:_0x42cde4}=_0x42a8c7,_0x48ef4e=_0x5b174d[_0x1e685f(0x49d)];if(!_0x48ef4e?.[_0x1e685f(0x4d5)])throw new m(_0x1e685f(0x646),_0x1e685f(0x5c7));let _0x2376cb=_0x5b174d[_0x1e685f(0x3bb)],_0x4c09d4=_0x5b174d[_0x1e685f(0x49d)],_0x5bfc25=new _0x509f2b();Object['assign'](_0x4c09d4,_0x48ef4e),Object[_0x1e685f(0x500)](_0x5bfc25,_0x4c09d4);let _0x70be7c=(0x0,et['validate'])(_0x5bfc25,_0x3cbbaa);if(!_0x70be7c[_0x1e685f(0x3e9)]){let _0x804a3a=_0x70be7c[_0x1e685f(0x486)][_0x1e685f(0x1da)](({property:_0x4d61b7,stack:_0x351a80,schema:_0x350f59})=>{const _0x4c11f1=_0x1e685f;let _0x4fd001;return _0x350f59[_0x4c11f1(0x24a)]?_0x4fd001=_0x350f59[_0x4c11f1(0x24a)]:_0x4fd001=_0x351a80['replace']('instance.',''),{'property':_0x4d61b7[_0x4c11f1(0x3ab)](_0x4c11f1(0x56e),''),'message':_0x4fd001};});throw ms[_0x1e685f(0x182)]([..._0x804a3a]),new m(..._0x804a3a);}return await _0x42cde4(_0x2376cb,_0x5bfc25);}},Ie=require(a0_0x38390a(0x37f)),De=require('fs'),tt=class{},st=class extends j{constructor(_0x58a6c9,_0x1607e2){const _0x1bebbb=a0_0x38390a;super(_0x1607e2),this['messageUpModel']=_0x58a6c9,this[_0x1bebbb(0x575)]=_0x1607e2;}async[a0_0x38390a(0x2b8)](_0x3c9c26,_0x1afcb5){const _0x29c1c9=a0_0x38390a;if(_0x3c9c26[_0x29c1c9(0x523)]!==0x0)try{if(this[_0x29c1c9(0x32e)][_0x29c1c9(0x659)]&&_0x1afcb5)return{'insertCount':(await this['messageUpModel'][_0x29c1c9(0x231)]([..._0x3c9c26]))[_0x29c1c9(0x523)]};_0x3c9c26['forEach'](_0x389abc=>{const _0x49101a=_0x29c1c9;this[_0x49101a(0x209)]({'path':(0x0,Ie[_0x49101a(0x518)])(this[_0x49101a(0x497)],_0x49101a(0x355),_0x389abc['owner']),'fileName':_0x389abc['id'],'data':_0x389abc});});}catch(_0x5c5986){return _0x5c5986;}}async[a0_0x38390a(0x37e)](_0x2109fd){const _0x3d6125=a0_0x38390a;try{if(this[_0x3d6125(0x32e)][_0x3d6125(0x659)])return await this[_0x3d6125(0x56f)][_0x3d6125(0x37e)]({..._0x2109fd[_0x3d6125(0x606)]})['sort']({'datetime':-0x1})[_0x3d6125(0x6a9)](_0x2109fd?.['limit']??0x0);let _0x29464f=[];if(_0x2109fd?.[_0x3d6125(0x606)]?.['id'])_0x29464f[_0x3d6125(0x1d9)](JSON[_0x3d6125(0x455)]((0x0,De[_0x3d6125(0x5ae)])((0x0,Ie[_0x3d6125(0x518)])(this[_0x3d6125(0x497)],_0x3d6125(0x355),_0x2109fd[_0x3d6125(0x606)]['owner'],_0x2109fd[_0x3d6125(0x606)]['id']+'.json'),{'encoding':_0x3d6125(0x1b4)})));else{let _0x4cc190=(0x0,De['opendirSync'])((0x0,Ie[_0x3d6125(0x518)])(this[_0x3d6125(0x497)],_0x3d6125(0x355),_0x2109fd[_0x3d6125(0x606)][_0x3d6125(0x1eb)]),{'encoding':_0x3d6125(0x1b4)});for await(let _0x3aaf67 of _0x4cc190)_0x3aaf67[_0x3d6125(0x295)]()&&_0x29464f[_0x3d6125(0x1d9)](JSON[_0x3d6125(0x455)]((0x0,De[_0x3d6125(0x5ae)])((0x0,Ie[_0x3d6125(0x518)])(this[_0x3d6125(0x497)],_0x3d6125(0x355),_0x2109fd['where'][_0x3d6125(0x1eb)],_0x3aaf67['name']),{'encoding':_0x3d6125(0x1b4)})));}return _0x29464f[_0x3d6125(0x3db)]((_0x25fd44,_0x372ac5)=>_0x372ac5['datetime']-_0x25fd44[_0x3d6125(0x3de)])[_0x3d6125(0x1dd)](0x0,_0x2109fd?.[_0x3d6125(0x6a9)]??_0x29464f[_0x3d6125(0x523)]);}catch{return[];}}async[a0_0x38390a(0x3d9)](_0x1e46b6){const _0x14647b=a0_0x38390a;try{if(this['dbSettings']['ENABLED'])return await this[_0x14647b(0x56f)][_0x14647b(0x54f)]({..._0x1e46b6[_0x14647b(0x606)]});}catch(_0x5eb211){return console['error'](_0x14647b(0x534),_0x5eb211),_0x5eb211;}}},b=class{},at=class extends _{constructor(..._0x1be0e9){const _0x14b9b4=a0_0x38390a;super(),this[_0x14b9b4(0x15d)]=(0x0,Ga[_0x14b9b4(0x46c)])(),this[_0x14b9b4(0x15d)]['post'](this[_0x14b9b4(0x14f)](_0x14b9b4(0x2dc)),..._0x1be0e9,async(_0x178007,_0x4469dd)=>{const _0x54cc24=_0x14b9b4;let _0x2b99ff=await this[_0x54cc24(0x20a)]({'request':_0x178007,'schema':Ca,'ClassRef':Ge,'execute':(_0x5eceba,_0x3ec18b)=>O['whatsappNumber'](_0x5eceba,_0x3ec18b)});return _0x4469dd[_0x54cc24(0x13c)](0xc9)[_0x54cc24(0x670)](_0x2b99ff);})[_0x14b9b4(0x47b)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x1e2)),..._0x1be0e9,async(_0x26a663,_0x82d1d0)=>{const _0xd5446=_0x14b9b4;let _0xe1592a=await this[_0xd5446(0x20a)]({'request':_0x26a663,'schema':C,'ClassRef':b,'execute':(_0x170a75,_0x354afd)=>O['editChat'](_0x170a75,_0x354afd)});return _0x82d1d0[_0xd5446(0x13c)](0xc9)[_0xd5446(0x670)](_0xe1592a);})[_0x14b9b4(0x134)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x577)),..._0x1be0e9,async(_0x1100a1,_0x5bf1f0)=>{const _0x50b832=_0x14b9b4;let _0x3ab3e8=await this[_0x50b832(0x20a)]({'request':_0x1100a1,'schema':va,'ClassRef':We,'execute':(_0x3a81bc,_0x5a2fed)=>O[_0x50b832(0x204)](_0x3a81bc,_0x5a2fed)});return _0x5bf1f0[_0x50b832(0x13c)](0xc9)[_0x50b832(0x670)](_0x3ab3e8);})['put'](this['routerPath'](_0x14b9b4(0x1a1)),..._0x1be0e9,async(_0x207b6d,_0x2d1359)=>{const _0x1741e2=_0x14b9b4;let _0x1110df=await this[_0x1741e2(0x20a)]({'request':_0x207b6d,'schema':Ra,'ClassRef':He,'execute':(_0x2e2a35,_0x4e3303)=>O['archiveChat'](_0x2e2a35,_0x4e3303)});return _0x2d1359[_0x1741e2(0x13c)](0xc9)[_0x1741e2(0x670)](_0x1110df);})[_0x14b9b4(0x3d9)](this[_0x14b9b4(0x14f)]('deleteMessageForEveryone'),..._0x1be0e9,async(_0x17d0c2,_0x5cf11c)=>{const _0x46e42a=_0x14b9b4;let _0x13a5f4=await this[_0x46e42a(0x20a)]({'request':_0x17d0c2,'schema':Ma,'ClassRef':ze,'execute':(_0x313a9b,_0x16da85)=>O[_0x46e42a(0x2d2)](_0x313a9b,_0x16da85)});return _0x5cf11c[_0x46e42a(0x13c)](0xc9)[_0x46e42a(0x670)](_0x13a5f4);})[_0x14b9b4(0x47b)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x1aa)),..._0x1be0e9,async(_0x5af4ae,_0x4153a6)=>{const _0x290a75=_0x14b9b4;let _0x2ddd4d=await this['dataValidate']({'request':_0x5af4ae,'schema':Te,'ClassRef':ve,'execute':(_0x589687,_0x2bb150)=>O[_0x290a75(0x506)](_0x589687,_0x2bb150)});return _0x4153a6[_0x290a75(0x13c)](0xc8)[_0x290a75(0x670)](_0x2ddd4d);})['post'](this[_0x14b9b4(0x14f)](_0x14b9b4(0x1e4)),..._0x1be0e9,async(_0x39286a,_0x2cae18)=>{const _0x4d8e1f=_0x14b9b4;let _0x4a6952=await this['dataValidate']({'request':_0x39286a,'schema':Pa,'ClassRef':ve,'execute':(_0x411688,_0x5b53c1)=>O[_0x4d8e1f(0x1e4)](_0x411688,_0x5b53c1)});return _0x2cae18['status'](0xc8)[_0x4d8e1f(0x670)](_0x4a6952);})[_0x14b9b4(0x47b)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x248)),..._0x1be0e9,async(_0x2251e6,_0x2db2ba)=>{const _0x51f63c=_0x14b9b4;let _0xed88d1=await this[_0x51f63c(0x20a)]({'request':_0x2251e6,'schema':Aa,'ClassRef':Xe,'execute':(_0x382a45,_0x56bec8)=>O[_0x51f63c(0x559)](_0x382a45,_0x56bec8)});return _0x2db2ba[_0x51f63c(0x13c)](0xc8)[_0x51f63c(0x670)](_0xed88d1);})[_0x14b9b4(0x47b)](this['routerPath'](_0x14b9b4(0x347)),..._0x1be0e9,async(_0x27a391,_0x27090c)=>{const _0x23153b=_0x14b9b4;let _0x54ce89=await this[_0x23153b(0x20a)]({'request':_0x27a391,'schema':null,'ClassRef':Object,'execute':(_0x4c5d63,_0x51f77f)=>O[_0x23153b(0x347)](_0x4c5d63,_0x51f77f)});return _0x27090c[_0x23153b(0x13c)](0xc9)['json'](_0x54ce89);})[_0x14b9b4(0x47b)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x651)),..._0x1be0e9,async(_0x964d52,_0x556b98)=>{const _0x3b135f=_0x14b9b4;let _0x460567=await this[_0x3b135f(0x20a)]({'request':_0x964d52,'schema':Oa,'ClassRef':Ve,'execute':(_0x204bd7,_0x5c6455)=>O[_0x3b135f(0x620)](_0x204bd7,_0x5c6455)});return _0x556b98['status'](0xc8)[_0x3b135f(0x670)](_0x460567);})[_0x14b9b4(0x47b)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x55a)),..._0x1be0e9,async(_0x4227b6,_0x80a538)=>{const _0xe9a08f=_0x14b9b4;let _0x5083ab=await this[_0xe9a08f(0x20a)]({'request':_0x4227b6,'schema':_a,'ClassRef':tt,'execute':(_0xca718a,_0x5b494b)=>O['fetchStatusMessage'](_0xca718a,_0x5b494b)});return _0x80a538['status'](0xc8)[_0xe9a08f(0x670)](_0x5083ab);})[_0x14b9b4(0x1e3)](this['routerPath']('findChats'),..._0x1be0e9,async(_0x5cca89,_0x401945)=>{const _0x1bcd69=_0x14b9b4;let _0x3eef85=await this[_0x1bcd69(0x20a)]({'request':_0x5cca89,'schema':null,'ClassRef':b,'execute':_0x4b9518=>O[_0x1bcd69(0x1ab)](_0x4b9518)});return _0x401945[_0x1bcd69(0x13c)](0xc8)['json'](_0x3eef85);})[_0x14b9b4(0x1e3)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x5a4)),..._0x1be0e9,async(_0x124b31,_0x5716b4)=>{const _0x5086db=_0x14b9b4;let _0x1e9352=await this[_0x5086db(0x20a)]({'request':_0x124b31,'schema':null,'ClassRef':b,'execute':_0x1de0fe=>O['fetchPrivacySettings'](_0x1de0fe)});return _0x5716b4[_0x5086db(0x13c)](0xc8)[_0x5086db(0x670)](_0x1e9352);})[_0x14b9b4(0x134)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x56a)),..._0x1be0e9,async(_0x592674,_0x473ad5)=>{const _0x27062f=_0x14b9b4;let _0x4caf72=await this[_0x27062f(0x20a)]({'request':_0x592674,'schema':Ta,'ClassRef':Ke,'execute':(_0x5ddc7e,_0x497f07)=>O[_0x27062f(0x56a)](_0x5ddc7e,_0x497f07)});return _0x473ad5[_0x27062f(0x13c)](0xc9)[_0x27062f(0x670)](_0x4caf72);})[_0x14b9b4(0x47b)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x275)),..._0x1be0e9,async(_0x3f6532,_0x2fb47e)=>{const _0x25b317=_0x14b9b4;let _0x455510=await this['dataValidate']({'request':_0x3f6532,'schema':Te,'ClassRef':fe,'execute':(_0x341648,_0x54f279)=>O['fetchBusinessProfile'](_0x341648,_0x54f279)});return _0x2fb47e[_0x25b317(0x13c)](0xc8)[_0x25b317(0x670)](_0x455510);})[_0x14b9b4(0x47b)](this['routerPath'](_0x14b9b4(0x499)),..._0x1be0e9,async(_0x2fcea9,_0x3a3ab5)=>{const _0x58fd28=_0x14b9b4;let _0x4e91b5=await this['dataValidate']({'request':_0x2fcea9,'schema':Ia,'ClassRef':qe,'execute':(_0xea67a,_0x3598a4)=>O[_0x58fd28(0x499)](_0xea67a,_0x3598a4)});return _0x3a3ab5['status'](0xc8)[_0x58fd28(0x670)](_0x4e91b5);})[_0x14b9b4(0x47b)](this['routerPath']('updateProfileStatus'),..._0x1be0e9,async(_0x44ae3c,_0x54e8b6)=>{const _0x40931a=_0x14b9b4;let _0x22b603=await this[_0x40931a(0x20a)]({'request':_0x44ae3c,'schema':Da,'ClassRef':Je,'execute':(_0x290213,_0x37f9f2)=>O[_0x40931a(0x27b)](_0x290213,_0x37f9f2)});return _0x54e8b6[_0x40931a(0x13c)](0xc8)['json'](_0x22b603);})[_0x14b9b4(0x134)](this[_0x14b9b4(0x14f)]('updateProfilePicture'),..._0x1be0e9,async(_0x417f60,_0x1d39d5)=>{const _0x4283ab=_0x14b9b4;let _0x58616e=await this[_0x4283ab(0x20a)]({'request':_0x417f60,'schema':Te,'ClassRef':fe,'execute':(_0x338e1c,_0xf359f3)=>O[_0x4283ab(0x112)](_0x338e1c,_0xf359f3)});return _0x1d39d5['status'](0xc8)[_0x4283ab(0x670)](_0x58616e);})[_0x14b9b4(0x3d9)](this[_0x14b9b4(0x14f)](_0x14b9b4(0x290)),..._0x1be0e9,async(_0x15ae1e,_0x2aa714)=>{const _0x14e130=_0x14b9b4;let _0x5e37bc=await this[_0x14e130(0x20a)]({'request':_0x15ae1e,'schema':Te,'ClassRef':fe,'execute':(_0x304a88,_0xd7a21)=>O[_0x14e130(0x290)](_0x304a88,_0xd7a21)});return _0x2aa714['status'](0xc8)[_0x14e130(0x670)](_0x5e37bc);});}},qa=require(a0_0x38390a(0x1a0)),ot=class{},it=class{},rt=class{},nt=class{},ct=class{},Y=class{},lt=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends _{constructor(..._0x9c345e){const _0xa2b4b4=a0_0x38390a;super(),this[_0xa2b4b4(0x15d)]=(0x0,qa[_0xa2b4b4(0x46c)])(),this[_0xa2b4b4(0x15d)][_0xa2b4b4(0x47b)](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x2ff)),..._0x9c345e,async(_0x27acbf,_0x17fd47)=>{const _0x44c12c=_0xa2b4b4;let _0xf634d6=await this['dataValidate']({'request':_0x27acbf,'schema':xa,'ClassRef':ot,'execute':(_0x1ed4a6,_0x58dc0a)=>U['createGroup'](_0x1ed4a6,_0x58dc0a)});_0x17fd47[_0x44c12c(0x13c)](0xc9)[_0x44c12c(0x670)](_0xf634d6);})['put'](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x5dd)),..._0x9c345e,async(_0x3fd0ef,_0x3cc5c5)=>{const _0x5efcdb=_0xa2b4b4;let _0x15026d=await this[_0x5efcdb(0x169)]({'request':_0x3fd0ef,'schema':La,'ClassRef':it,'execute':(_0x49160e,_0x4c46c6)=>U[_0x5efcdb(0x5dd)](_0x49160e,_0x4c46c6)});_0x3cc5c5['status'](0xc9)['json'](_0x15026d);})[_0xa2b4b4(0x134)](this['routerPath']('groupDesc'),..._0x9c345e,async(_0x399785,_0x43f752)=>{const _0x32a141=_0xa2b4b4;let _0x3d079f=await this['groupValidate']({'request':_0x399785,'schema':Ua,'ClassRef':rt,'execute':(_0x119958,_0x3cdb9f)=>U['groupDesc'](_0x119958,_0x3cdb9f)});_0x43f752[_0x32a141(0x13c)](0xc9)[_0x32a141(0x670)](_0x3d079f);})[_0xa2b4b4(0x134)](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x14b)),..._0x9c345e,async(_0x32b516,_0x4c5d56)=>{const _0x3609f2=_0xa2b4b4;let _0x2b9720=await this[_0x3609f2(0x169)]({'request':_0x32b516,'schema':Va,'ClassRef':nt,'execute':(_0x5e9a04,_0x573792)=>U[_0x3609f2(0x14b)](_0x5e9a04,_0x573792)});_0x4c5d56['status'](0xc9)[_0x3609f2(0x670)](_0x2b9720);})['put'](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x1d7)),..._0x9c345e,async(_0x1d09df,_0x3071e2)=>{let _0x3d7b9a=await this['groupValidate']({'request':_0x1d09df,'schema':ja,'ClassRef':ct,'execute':(_0x233277,_0x210795)=>U['groupSetting'](_0x233277,_0x210795)});_0x3071e2['status'](0xc9)['json'](_0x3d7b9a);})['put'](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x49a)),..._0x9c345e,async(_0x416349,_0x1b3edd)=>{const _0x1b34f8=_0xa2b4b4;let _0x1ffdcc=await this['groupValidate']({'request':_0x416349,'schema':ka,'ClassRef':dt,'execute':(_0x58aef3,_0x21a7eb)=>U['toggleEphemeral'](_0x58aef3,_0x21a7eb)});_0x1b3edd[_0x1b34f8(0x13c)](0xc9)['json'](_0x1ffdcc);})[_0xa2b4b4(0x1e3)](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x6a4)),..._0x9c345e,async(_0x4a1f3e,_0x3dc86e)=>{const _0x29d549=_0xa2b4b4;let _0x24937c=await this['groupValidate']({'request':_0x4a1f3e,'schema':Re,'ClassRef':Y,'execute':(_0x27a791,_0x240ff5)=>U[_0x29d549(0x251)](_0x27a791,_0x240ff5)});_0x3dc86e[_0x29d549(0x13c)](0xc8)[_0x29d549(0x670)](_0x24937c);})[_0xa2b4b4(0x1e3)](this['routerPath'](_0xa2b4b4(0x241)),..._0x9c345e,async(_0x35b404,_0x3058b)=>{const _0x2f42ac=_0xa2b4b4;let _0x4051ea=await this[_0x2f42ac(0x20a)]({'request':_0x35b404,'schema':C,'ClassRef':b,'execute':_0x2e1e9c=>U[_0x2f42ac(0x241)](_0x2e1e9c)});_0x3058b[_0x2f42ac(0x13c)](0xc8)[_0x2f42ac(0x670)](_0x4051ea);})[_0xa2b4b4(0x1e3)](this['routerPath']('participants'),..._0x9c345e,async(_0x13d635,_0x3f8179)=>{const _0x500d31=_0xa2b4b4;let _0x22629f=await this[_0x500d31(0x169)]({'request':_0x13d635,'schema':Re,'ClassRef':Y,'execute':(_0xf0fa82,_0x3ec556)=>U['findParticipants'](_0xf0fa82,_0x3ec556)});_0x3f8179[_0x500d31(0x13c)](0xc8)[_0x500d31(0x670)](_0x22629f);})[_0xa2b4b4(0x1e3)](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x4d5)),..._0x9c345e,async(_0x16ab50,_0x56eb2c)=>{const _0xf47f0a=_0xa2b4b4;let _0x34c772=await this[_0xf47f0a(0x169)]({'request':_0x16ab50,'schema':Re,'ClassRef':Y,'execute':(_0x34720d,_0x3f7700)=>U['inviteCode'](_0x34720d,_0x3f7700)});_0x56eb2c[_0xf47f0a(0x13c)](0xc8)[_0xf47f0a(0x670)](_0x34c772);})['put'](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x494)),..._0x9c345e,async(_0x1a4643,_0xccf1f6)=>{const _0x316106=_0xa2b4b4;let _0x2c01fe=await this[_0x316106(0x12d)]({'request':_0x1a4643,'schema':Ba,'ClassRef':lt,'execute':(_0x270b5c,_0x4bb946)=>U[_0x316106(0x494)](_0x270b5c,_0x4bb946)});_0xccf1f6[_0x316106(0x13c)](0xc9)['json'](_0x2c01fe);})['put'](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x5c3)),..._0x9c345e,async(_0x29e100,_0x1082fc)=>{const _0x2666bc=_0xa2b4b4;let _0x1512ed=await this[_0x2666bc(0x169)]({'request':_0x29e100,'schema':Re,'ClassRef':Y,'execute':(_0x299ac2,_0x53246f)=>U['revokeInviteCode'](_0x299ac2,_0x53246f)});_0x1082fc[_0x2666bc(0x13c)](0xc9)[_0x2666bc(0x670)](_0x1512ed);})[_0xa2b4b4(0x134)](this['routerPath'](_0xa2b4b4(0x2f7)),..._0x9c345e,async(_0x153bfe,_0x55fde3)=>{const _0x48c975=_0xa2b4b4;let _0x21b5be=await this[_0x48c975(0x169)]({'request':_0x153bfe,'schema':$a,'ClassRef':ut,'execute':(_0x40e0f9,_0x24204)=>U[_0x48c975(0x673)](_0x40e0f9,_0x24204)});_0x55fde3[_0x48c975(0x13c)](0xc9)['json'](_0x21b5be);})[_0xa2b4b4(0x3d9)](this[_0xa2b4b4(0x14f)](_0xa2b4b4(0x6ab)),..._0x9c345e,async(_0x5511f6,_0x2848b6)=>{const _0x305582=_0xa2b4b4;let _0x4dba65=await this[_0x305582(0x169)]({'request':_0x5511f6,'schema':{},'ClassRef':Y,'execute':(_0x4f07ec,_0x2abbb9)=>U['leaveGroup'](_0x4f07ec,_0x2abbb9)});_0x2848b6[_0x305582(0x13c)](0xc8)[_0x305582(0x670)](_0x4dba65);});}},Ha=require(a0_0x38390a(0x1a0)),Pe=require(a0_0x38390a(0x29c)),gs=require('uuid'),Ja=require('class-validator'),Wa=T(require(a0_0x38390a(0x298))),mt=class{},gt=class l{constructor(_0x2742de,_0x48b8df,_0x56ad4b){const _0x458c99=a0_0x38390a;this[_0x458c99(0x575)]=_0x2742de,this[_0x458c99(0x3fd)]=_0x48b8df,this[_0x458c99(0x129)]=_0x56ad4b,this[_0x458c99(0x190)]=new v(l['name']);}async[a0_0x38390a(0x320)](_0xbb808f){const _0x2ad4fb=a0_0x38390a;let _0x231049=this[_0x2ad4fb(0x575)][_0x2ad4fb(0x1e3)](_0x2ad4fb(0x680))[_0x2ad4fb(0x1bc)],_0x3f46e3=(0x0,Pe[_0x2ad4fb(0x5bf)])({'instanceName':_0xbb808f['instanceName'],'apiName':Ye,'tokenId':(0x0,gs['v4'])()},_0x231049['SECRET'],{'expiresIn':_0x231049[_0x2ad4fb(0x482)],'encoding':'utf8','subject':_0x2ad4fb(0x61a)}),_0x2a3dc7=await this[_0x2ad4fb(0x129)][_0x2ad4fb(0x461)][_0x2ad4fb(0x2ff)]({'jwt':_0x3f46e3},_0xbb808f[_0x2ad4fb(0x344)]);if(_0x2a3dc7[_0x2ad4fb(0x182)])throw this[_0x2ad4fb(0x190)][_0x2ad4fb(0x182)]({'localError':l[_0x2ad4fb(0x2c9)]+_0x2ad4fb(0x305),'error':_0x2a3dc7[_0x2ad4fb(0x182)]}),new m('Authentication\x20error',_0x2a3dc7[_0x2ad4fb(0x182)]?.[_0x2ad4fb(0x2aa)]());return{'jwt':_0x3f46e3};}async[a0_0x38390a(0x11d)](_0x35deb6){const _0xa046a=a0_0x38390a;let _0x59b83a=(0x0,gs['v4'])()['toUpperCase'](),_0xc54cbd=await this[_0xa046a(0x129)][_0xa046a(0x461)][_0xa046a(0x2ff)]({'apikey':_0x59b83a},_0x35deb6[_0xa046a(0x344)]);if(_0xc54cbd[_0xa046a(0x182)])throw this[_0xa046a(0x190)]['error']({'localError':l['name']+'.jwt','error':_0xc54cbd[_0xa046a(0x182)]}),new m(_0xa046a(0x480),_0xc54cbd['error']?.[_0xa046a(0x2aa)]());return{'apikey':_0x59b83a};}async[a0_0x38390a(0x61e)](_0xb91a5e){const _0x1e9f06=a0_0x38390a;let _0x1f59bd=this['configService'][_0x1e9f06(0x1e3)](_0x1e9f06(0x680));return await this[_0x1f59bd[_0x1e9f06(0x677)]](_0xb91a5e);}async[a0_0x38390a(0x53c)]({oldToken:_0x36c01d}){const _0x1a58bc=a0_0x38390a;if(!(0x0,Ja[_0x1a58bc(0x5a3)])(_0x36c01d))throw new m(_0x1a58bc(0x137));try{let _0x205539=this[_0x1a58bc(0x575)][_0x1a58bc(0x1e3)](_0x1a58bc(0x680))[_0x1a58bc(0x1bc)],_0x54669d=(0x0,Pe[_0x1a58bc(0x12b)])(_0x36c01d,_0x205539[_0x1a58bc(0x590)],{'ignoreExpiration':!0x0}),_0x4bce6c=await this['repository']['auth']['find'](_0x54669d[_0x1a58bc(0x344)]),_0xae4640=(0x0,Pe['verify'])(_0x4bce6c[_0x1a58bc(0x320)],_0x205539['SECRET'],{'ignoreExpiration':!0x0});if(_0x54669d[_0x1a58bc(0x611)]!==_0xae4640['tokenId'])throw new m('Invalid\x20\x22oldToken\x22');let _0x102d3f={'jwt':(await this[_0x1a58bc(0x320)]({'instanceName':_0x54669d[_0x1a58bc(0x344)]}))['jwt'],'instanceName':_0x54669d[_0x1a58bc(0x344)]};try{let _0x4ec716=await this['repository'][_0x1a58bc(0x33c)][_0x1a58bc(0x37e)](_0x54669d[_0x1a58bc(0x344)]);_0x4ec716?.[_0x1a58bc(0xf9)]&&this['configService']['get'](_0x1a58bc(0x3bf))[_0x1a58bc(0x1b9)]['NEW_JWT_TOKEN']&&await Wa[_0x1a58bc(0x2d4)]['create']({'baseURL':_0x4ec716[_0x1a58bc(0x386)]})[_0x1a58bc(0x47b)]('',{'event':'new.jwt','instance':_0x54669d['instanceName'],'data':_0x102d3f},{'params':{'owner':this[_0x1a58bc(0x3fd)]['waInstances'][_0x54669d['instanceName']][_0x1a58bc(0x46f)]}});}catch(_0x327a1e){this['logger'][_0x1a58bc(0x182)](_0x327a1e);}return _0x102d3f;}catch(_0x4d2e6e){throw this[_0x1a58bc(0x190)][_0x1a58bc(0x182)]({'localError':l[_0x1a58bc(0x2c9)]+_0x1a58bc(0x34e),'error':_0x4d2e6e}),new m(_0x1a58bc(0x137));}}},ht=class extends _{constructor(_0x2fbe96,..._0x58bb1d){const _0x4d8078=a0_0x38390a;super(),this[_0x4d8078(0x575)]=_0x2fbe96,this[_0x4d8078(0x15d)]=(0x0,Ha[_0x4d8078(0x46c)])();let _0x41cfe5=_0x2fbe96['get'](_0x4d8078(0x680));this['router'][_0x4d8078(0x47b)](_0x4d8078(0x21e),..._0x58bb1d,async(_0x3a5637,_0x8e32ac)=>{const _0x3f88b3=_0x4d8078;let {instanceName:_0x1af46c,apikey:_0x5b7441}=_0x3a5637[_0x3f88b3(0x49d)],_0x82bd12=await ne[_0x3f88b3(0x45d)]({'instanceName':_0x1af46c,'apikey':_0x5b7441});return _0x8e32ac[_0x3f88b3(0x13c)](0xc9)['json'](_0x82bd12);})[_0x4d8078(0x134)](this['routerPath'](_0x4d8078(0x380)),..._0x58bb1d,async(_0x2ad7d3,_0x2e3316)=>{const _0x44d213=_0x4d8078;let _0x45d0ca=await this[_0x44d213(0x20a)]({'request':_0x2ad7d3,'schema':C,'ClassRef':b,'execute':_0x14f8bc=>ne[_0x44d213(0x293)](_0x14f8bc)});return _0x2e3316[_0x44d213(0x13c)](0xc8)['json'](_0x45d0ca);})[_0x4d8078(0x1e3)](this[_0x4d8078(0x14f)](_0x4d8078(0x622)),..._0x58bb1d,async(_0x2a637b,_0x40b365)=>{const _0x3a80cf=_0x4d8078;let _0x50abc3=await this[_0x3a80cf(0x20a)]({'request':_0x2a637b,'schema':C,'ClassRef':b,'execute':_0x1be41e=>ne[_0x3a80cf(0x55f)](_0x1be41e)});return _0x40b365[_0x3a80cf(0x13c)](0xc8)[_0x3a80cf(0x670)](_0x50abc3);})[_0x4d8078(0x1e3)](this[_0x4d8078(0x14f)](_0x4d8078(0x46b)),..._0x58bb1d,async(_0x439bd5,_0x500d83)=>{const _0x85a867=_0x4d8078;let _0x472a79=await this[_0x85a867(0x20a)]({'request':_0x439bd5,'schema':C,'ClassRef':b,'execute':_0x2478e7=>ne['connectionState'](_0x2478e7)});return _0x500d83[_0x85a867(0x13c)](0xc8)[_0x85a867(0x670)](_0x472a79);})[_0x4d8078(0x1e3)](this[_0x4d8078(0x14f)](_0x4d8078(0x4ee),!0x1),..._0x58bb1d,async(_0x2ecabf,_0xa4b904)=>{const _0x303a72=_0x4d8078;let _0x57d781=await this[_0x303a72(0x20a)]({'request':_0x2ecabf,'schema':null,'ClassRef':b,'execute':_0x3af8f8=>ne[_0x303a72(0x4ee)](_0x3af8f8)});return _0xa4b904['status'](0xc8)[_0x303a72(0x670)](_0x57d781);})['delete'](this[_0x4d8078(0x14f)](_0x4d8078(0x660)),..._0x58bb1d,async(_0x178cc9,_0x2bd1ca)=>{const _0x426e50=_0x4d8078;let _0x163aba=await this[_0x426e50(0x20a)]({'request':_0x178cc9,'schema':C,'ClassRef':b,'execute':_0x5ab15c=>ne[_0x426e50(0x660)](_0x5ab15c)});return _0x2bd1ca[_0x426e50(0x13c)](0xc8)[_0x426e50(0x670)](_0x163aba);})[_0x4d8078(0x3d9)](this[_0x4d8078(0x14f)](_0x4d8078(0x3d9)),..._0x58bb1d,async(_0x130641,_0x426a64)=>{const _0x5404c7=_0x4d8078;let _0x422d5f=await this[_0x5404c7(0x20a)]({'request':_0x130641,'schema':C,'ClassRef':b,'execute':_0x5e3637=>ne[_0x5404c7(0x3c6)](_0x5e3637)});return _0x426a64[_0x5404c7(0x13c)](0xc8)['json'](_0x422d5f);}),_0x41cfe5[_0x4d8078(0x677)]===_0x4d8078(0x320)&&this[_0x4d8078(0x15d)][_0x4d8078(0x134)](_0x4d8078(0x68c),async(_0x4ffa75,_0x5c04b3)=>{const _0xe080cc=_0x4d8078;let _0x38c0fa=await this[_0xe080cc(0x20a)]({'request':_0x4ffa75,'schema':ua,'ClassRef':mt,'execute':(_0x3ceaa3,_0x36eb96)=>ne[_0xe080cc(0x53c)](_0x3ceaa3,_0x36eb96)});return _0x5c04b3[_0xe080cc(0x13c)](0xc9)[_0xe080cc(0x670)](_0x38c0fa);});}},Ka=require(a0_0x38390a(0x1a0)),hs=class{},K=class extends hs{},ft=class extends K{},wt=class extends K{},yt=class extends K{},Oe=class extends K{},bt=class extends K{},St=class extends K{},Et=class extends K{},Nt=class extends K{},Ct=class extends K{},vt=class{},Tt=class extends _{constructor(..._0x4af442){const _0x418ab7=a0_0x38390a;super(),this[_0x418ab7(0x15d)]=(0x0,Ka['Router'])(),this[_0x418ab7(0x15d)][_0x418ab7(0x47b)](this['routerPath']('sendText'),..._0x4af442,async(_0x20b1c9,_0x288a8f)=>{const _0x43c339=_0x418ab7;let _0xbe8014=await this[_0x43c339(0x20a)]({'request':_0x20b1c9,'schema':da,'ClassRef':ft,'execute':(_0x5f1c1c,_0x445349)=>W['sendText'](_0x5f1c1c,_0x445349)});return _0x288a8f['status'](0xc9)['json'](_0xbe8014);})['post'](this[_0x418ab7(0x14f)]('sendMedia'),..._0x4af442,async(_0xcd5058,_0x5123e6)=>{const _0x53b2d0=_0x418ab7;let _0x5da986=await this['dataValidate']({'request':_0xcd5058,'schema':ha,'ClassRef':Oe,'execute':(_0x41258a,_0x122b36)=>W['sendMedia'](_0x41258a,_0x122b36)});return _0x5123e6[_0x53b2d0(0x13c)](0xc9)[_0x53b2d0(0x670)](_0x5da986);})[_0x418ab7(0x47b)](this[_0x418ab7(0x14f)](_0x418ab7(0x445)),..._0x4af442,async(_0x44f1e1,_0x17eef4)=>{const _0x1f5cf3=_0x418ab7;let _0x16466c=await this[_0x1f5cf3(0x20a)]({'request':_0x44f1e1,'schema':fa,'ClassRef':Oe,'execute':(_0xf3b128,_0x2628e2)=>W[_0x1f5cf3(0x445)](_0xf3b128,_0x2628e2)});return _0x17eef4[_0x1f5cf3(0x13c)](0xc9)[_0x1f5cf3(0x670)](_0x16466c);})[_0x418ab7(0x47b)](this[_0x418ab7(0x14f)](_0x418ab7(0x4b3)),..._0x4af442,async(_0x1c1a77,_0x5e873b)=>{const _0x4e1f78=_0x418ab7;let _0x470e8e=await this['dataValidate']({'request':_0x1c1a77,'schema':ya,'ClassRef':St,'execute':(_0x754f3d,_0x1e7999)=>W[_0x4e1f78(0x4b3)](_0x754f3d,_0x1e7999)});return _0x5e873b[_0x4e1f78(0x13c)](0xc9)['json'](_0x470e8e);})['post'](this[_0x418ab7(0x14f)](_0x418ab7(0x5c6)),..._0x4af442,async(_0x11eb70,_0x4a3f53)=>{const _0xdf080a=_0x418ab7;let _0x16d160=await this['dataValidate']({'request':_0x11eb70,'schema':ba,'ClassRef':Et,'execute':(_0x5bf055,_0x5cc72b)=>W[_0xdf080a(0x5c6)](_0x5bf055,_0x5cc72b)});return _0x4a3f53[_0xdf080a(0x13c)](0xc9)[_0xdf080a(0x670)](_0x16d160);})[_0x418ab7(0x47b)](this['routerPath']('sendList'),..._0x4af442,async(_0xd8b024,_0x466326)=>{const _0x48bfeb=_0x418ab7;let _0x4393dd=await this['dataValidate']({'request':_0xd8b024,'schema':Sa,'ClassRef':Nt,'execute':(_0x27f0b3,_0x503e37)=>W[_0x48bfeb(0x40a)](_0x27f0b3,_0x503e37)});return _0x466326[_0x48bfeb(0x13c)](0xc9)[_0x48bfeb(0x670)](_0x4393dd);})[_0x418ab7(0x47b)](this[_0x418ab7(0x14f)](_0x418ab7(0x514)),..._0x4af442,async(_0x12ae61,_0xbc6b9a)=>{const _0x34ac83=_0x418ab7;let _0x5c2f8b=await this[_0x34ac83(0x20a)]({'request':_0x12ae61,'schema':Ea,'ClassRef':Ct,'execute':(_0x11ebec,_0x4751a9)=>W['sendContact'](_0x11ebec,_0x4751a9)});return _0xbc6b9a[_0x34ac83(0x13c)](0xc9)[_0x34ac83(0x670)](_0x5c2f8b);})['post'](this[_0x418ab7(0x14f)](_0x418ab7(0x156)),..._0x4af442,async(_0x5646fe,_0x27b9ef)=>{const _0x50f234=_0x418ab7;let _0x87a82f=await this['dataValidate']({'request':_0x5646fe,'schema':Na,'ClassRef':vt,'execute':(_0x489f66,_0x2de0ce)=>W[_0x50f234(0x156)](_0x489f66,_0x2de0ce)});return _0x27b9ef[_0x50f234(0x13c)](0xc9)['json'](_0x87a82f);})['post'](this[_0x418ab7(0x14f)]('sendPoll'),..._0x4af442,async(_0x402136,_0x3ca522)=>{const _0x7240c9=_0x418ab7;let _0x5718ba=await this['dataValidate']({'request':_0x402136,'schema':wa,'ClassRef':yt,'execute':(_0x5ccd4e,_0x3948e2)=>W[_0x7240c9(0x420)](_0x5ccd4e,_0x3948e2)});return _0x3ca522['status'](0xc9)[_0x7240c9(0x670)](_0x5718ba);})['post'](this['routerPath'](_0x418ab7(0x56c)),..._0x4af442,async(_0x3efe90,_0x11ea22)=>{const _0x298679=_0x418ab7;let _0x2db72f=await this[_0x298679(0x20a)]({'request':_0x3efe90,'schema':ga,'ClassRef':wt,'execute':(_0x358d1b,_0x5a9729)=>W[_0x298679(0x56c)](_0x358d1b,_0x5a9729)});return _0x11ea22[_0x298679(0x13c)](0xc9)[_0x298679(0x670)](_0x2db72f);})[_0x418ab7(0x47b)](this[_0x418ab7(0x14f)](_0x418ab7(0x4b5)),..._0x4af442,async(_0x44265a,_0x430358)=>{const _0x5ce487=_0x418ab7;let _0x4caff0=await this[_0x5ce487(0x20a)]({'request':_0x44265a,'schema':ma,'ClassRef':bt,'execute':(_0x23a869,_0x53b301)=>W[_0x5ce487(0x4b5)](_0x23a869,_0x53b301)});return _0x430358[_0x5ce487(0x13c)](0xc9)[_0x5ce487(0x670)](_0x4caff0);});}},za=require('express'),Rt=class extends _{constructor(..._0x259d54){const _0x56d679=a0_0x38390a;super(),this[_0x56d679(0x15d)]=(0x0,za[_0x56d679(0x46c)])(),this[_0x56d679(0x15d)]['get'](this[_0x56d679(0x14f)]('qrcode'),..._0x259d54,(_0x19e171,_0x37e4a1)=>Qa[_0x56d679(0x5e5)](_0x19e171,_0x37e4a1));}},Ya=require(a0_0x38390a(0x1a0)),Mt=class{},At=class extends _{constructor(..._0x1b17f5){const _0xbb2064=a0_0x38390a;super(),this[_0xbb2064(0x15d)]=(0x0,Ya['Router'])(),this[_0xbb2064(0x15d)][_0xbb2064(0x47b)](this['routerPath'](_0xbb2064(0x422)),..._0x1b17f5,async(_0x179357,_0x48dab6)=>{const _0x5e2b9f=_0xbb2064;let _0x5f410b=await this[_0x5e2b9f(0x20a)]({'request':_0x179357,'schema':Fa,'ClassRef':Mt,'execute':(_0x4e54e3,_0x5cf2f3)=>fs[_0x5e2b9f(0x5af)](_0x4e54e3,_0x5cf2f3)});_0x48dab6['status'](0xc9)['json'](_0x5f410b);})[_0xbb2064(0x1e3)](this[_0xbb2064(0x14f)](_0xbb2064(0x37e)),..._0x1b17f5,async(_0x5c55cc,_0x4399e7)=>{const _0xac42dc=_0xbb2064;let _0x4828a6=await this[_0xac42dc(0x20a)]({'request':_0x5c55cc,'schema':C,'ClassRef':b,'execute':_0x434a22=>fs[_0xac42dc(0x64e)](_0x434a22)});_0x4399e7[_0xac42dc(0x13c)](0xc8)['json'](_0x4828a6);});}},Xa=require('express'),g=new v('FlowRouter'),It=class extends _{constructor(..._0xd75616){const _0x5a8c6c=a0_0x38390a;super(),this['router']=(0x0,Xa[_0x5a8c6c(0x46c)])(),this[_0x5a8c6c(0x15d)]['post'](this[_0x5a8c6c(0x14f)]('scheduleMessage'),..._0xd75616,async(_0x1cbc63,_0x2e2a62)=>{const _0x21eb69=_0x5a8c6c;let _0x487dfc=_0x1cbc63[_0x21eb69(0x49d)];g[_0x21eb69(0x240)](_0x21eb69(0x524)),g[_0x21eb69(0x240)](_0x21eb69(0x5f8)),g[_0x21eb69(0x240)](_0x1cbc63['body']);let _0x53afa9=await this[_0x21eb69(0x20a)]({'request':_0x1cbc63,'schema':C,'ClassRef':b,'execute':_0x1fac57=>M[_0x21eb69(0x475)](_0x1fac57,_0x487dfc)});_0x2e2a62[_0x21eb69(0x13c)](0xc8)['json'](_0x53afa9);})['get'](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x4c2)),..._0xd75616,async(_0x46ca10,_0x27f391)=>{const _0x4bd8e0=_0x5a8c6c;let _0x43c1e3=await this[_0x4bd8e0(0x20a)]({'request':_0x46ca10,'schema':C,'ClassRef':b,'execute':_0x19f299=>M[_0x4bd8e0(0x2a3)](_0x19f299)});_0x27f391[_0x4bd8e0(0x13c)](0xc8)['json'](_0x43c1e3);})[_0x5a8c6c(0x3d9)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x34b)),..._0xd75616,async(_0x4f5900,_0x1363a7)=>{const _0x3887a4=_0x5a8c6c;g['verbose'](_0x3887a4(0x379));let _0x177aa0=await this[_0x3887a4(0x20a)]({'request':_0x4f5900,'schema':C,'ClassRef':b,'execute':_0x29061d=>M[_0x3887a4(0x34b)](_0x29061d)});_0x1363a7[_0x3887a4(0x13c)](0xc8)[_0x3887a4(0x670)](_0x177aa0);})[_0x5a8c6c(0x47b)](this['routerPath'](_0x5a8c6c(0x669)),..._0xd75616,async(_0x2220eb,_0x3b82de)=>{const _0x374ba1=_0x5a8c6c;let _0x554c2d=_0x2220eb[_0x374ba1(0x49d)];g[_0x374ba1(0x240)]('request\x20received\x20in\x20starFlow'),g[_0x374ba1(0x240)](_0x374ba1(0x5f8)),g[_0x374ba1(0x240)](_0x2220eb[_0x374ba1(0x49d)]);let _0x2499cb=await this['dataValidate']({'request':_0x2220eb,'schema':C,'ClassRef':b,'execute':_0x29b387=>M[_0x374ba1(0x669)](_0x29b387,_0x554c2d)});_0x3b82de['status'](0xc8)[_0x374ba1(0x670)](_0x2499cb);})[_0x5a8c6c(0x1e3)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x44e)),..._0xd75616,async(_0xa99f69,_0x2e5a88)=>{const _0x33af59=_0x5a8c6c;g[_0x33af59(0x240)](_0x33af59(0x17e));let _0x1621a4=await this[_0x33af59(0x20a)]({'request':_0xa99f69,'schema':C,'ClassRef':b,'execute':_0x3a16ab=>M[_0x33af59(0x44e)](_0x3a16ab)});_0x2e5a88[_0x33af59(0x13c)](0xc8)[_0x33af59(0x670)](_0x1621a4);})[_0x5a8c6c(0x1e3)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x1a5)),..._0xd75616,async(_0x3581f4,_0x24a3c5)=>{const _0x1b1859=_0x5a8c6c;g['verbose']('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x7b826a=await this[_0x1b1859(0x20a)]({'request':_0x3581f4,'schema':C,'ClassRef':b,'execute':_0x2fe114=>M['getAutomateSystem'](_0x2fe114)});_0x24a3c5[_0x1b1859(0x13c)](0xc8)[_0x1b1859(0x670)](_0x7b826a);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x48b)),..._0xd75616,async(_0x2ca664,_0x32568f)=>{const _0x271b63=_0x5a8c6c;let _0x2ee1b5=_0x2ca664['body'];g[_0x271b63(0x240)]('request\x20received\x20in\x20updateAgent'),g[_0x271b63(0x240)](_0x271b63(0x5f8)),g[_0x271b63(0x240)](_0x2ca664[_0x271b63(0x49d)]);let _0x8e2048=await this[_0x271b63(0x20a)]({'request':_0x2ca664,'schema':C,'ClassRef':b,'execute':_0x50aaa2=>M[_0x271b63(0x48b)](_0x50aaa2,_0x2ee1b5)});_0x32568f[_0x271b63(0x13c)](0xc8)[_0x271b63(0x670)](_0x8e2048);})['post'](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x501)),..._0xd75616,async(_0x3b361c,_0x35df71)=>{const _0x1cccde=_0x5a8c6c;let _0x24f5a8=_0x3b361c[_0x1cccde(0x49d)];g[_0x1cccde(0x240)](_0x1cccde(0x60c)),g['verbose'](_0x1cccde(0x5f8)),g['verbose'](_0x3b361c[_0x1cccde(0x49d)]);let _0x4c4739=await this[_0x1cccde(0x20a)]({'request':_0x3b361c,'schema':C,'ClassRef':b,'execute':_0x5368fd=>M['updateCustomFields'](_0x5368fd,_0x24f5a8)});_0x35df71[_0x1cccde(0x13c)](0xc8)['json'](_0x4c4739);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x648)),..._0xd75616,async(_0x11d34a,_0x10efe0)=>{const _0xe23263=_0x5a8c6c;let _0x3a115f=_0x11d34a[_0xe23263(0x49d)];g[_0xe23263(0x240)](_0xe23263(0x17f)),g['verbose']('request\x20body:\x20'),g[_0xe23263(0x240)](_0x11d34a['body']);let _0x340d19=await this['dataValidate']({'request':_0x11d34a,'schema':C,'ClassRef':b,'execute':_0x100068=>M[_0xe23263(0x648)](_0x100068,_0x3a115f)});_0x10efe0['status'](0xc8)[_0xe23263(0x670)](_0x340d19);})[_0x5a8c6c(0x47b)](this['routerPath'](_0x5a8c6c(0x492)),..._0xd75616,async(_0x58016a,_0x2d8917)=>{const _0x12584a=_0x5a8c6c;let _0x3123d4=_0x58016a[_0x12584a(0x49d)];g[_0x12584a(0x240)]('request\x20received\x20in\x20getConversation'),g['verbose'](_0x12584a(0x5f8)),g[_0x12584a(0x240)](_0x58016a['body']);let _0x316618=await this[_0x12584a(0x20a)]({'request':_0x58016a,'schema':C,'ClassRef':b,'execute':_0x30970b=>M[_0x12584a(0x492)](_0x30970b,_0x3123d4)});_0x2d8917['status'](0xc8)[_0x12584a(0x670)](_0x316618);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x5a8)),..._0xd75616,async(_0x5b8116,_0x56d5aa)=>{const _0x3a5de6=_0x5a8c6c;let _0x5b9d07=_0x5b8116[_0x3a5de6(0x49d)];g[_0x3a5de6(0x240)](_0x3a5de6(0x1e6)),g[_0x3a5de6(0x240)](_0x3a5de6(0x5f8)),g[_0x3a5de6(0x240)](_0x5b8116['body']);let _0x9e6d9a=await this[_0x3a5de6(0x20a)]({'request':_0x5b8116,'schema':C,'ClassRef':b,'execute':_0x5492ad=>M[_0x3a5de6(0x5a8)](_0x5492ad,_0x5b9d07)});_0x56d5aa[_0x3a5de6(0x13c)](0xc8)[_0x3a5de6(0x670)](_0x9e6d9a);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x63c)),..._0xd75616,async(_0x70ec56,_0xdd02c8)=>{const _0x5894d1=_0x5a8c6c;let _0x750dc2=_0x70ec56['body'];g['verbose'](_0x5894d1(0x32d)),g[_0x5894d1(0x240)](_0x5894d1(0x5f8)),g[_0x5894d1(0x240)](_0x70ec56['body']);let _0xedeec=await this[_0x5894d1(0x20a)]({'request':_0x70ec56,'schema':C,'ClassRef':b,'execute':_0x4c83c8=>M['editConversation'](_0x4c83c8,_0x750dc2)});_0xdd02c8[_0x5894d1(0x13c)](0xc8)[_0x5894d1(0x670)](_0xedeec);})[_0x5a8c6c(0x3d9)](this['routerPath'](_0x5a8c6c(0x395)),..._0xd75616,async(_0x1e8c12,_0x663d3b)=>{const _0x19240e=_0x5a8c6c;let _0xd29a44=_0x1e8c12['body'];g[_0x19240e(0x240)]('request\x20received\x20in\x20deleteConversation'),g['verbose'](_0x19240e(0x5f8)),g[_0x19240e(0x240)](_0x1e8c12[_0x19240e(0x49d)]);let _0x1a77c7=await this['dataValidate']({'request':_0x1e8c12,'schema':C,'ClassRef':b,'execute':_0x36e1c4=>M[_0x19240e(0x395)](_0x36e1c4,_0xd29a44)});_0x663d3b[_0x19240e(0x13c)](0xc8)['json'](_0x1a77c7);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x367)),..._0xd75616,async(_0xe9f3c8,_0x11572a)=>{const _0x4f7c4b=_0x5a8c6c;let _0x4e5c94=_0xe9f3c8[_0x4f7c4b(0x49d)];g[_0x4f7c4b(0x240)](_0x4f7c4b(0x641)),g[_0x4f7c4b(0x240)](_0x4f7c4b(0x5f8)),g[_0x4f7c4b(0x240)](_0xe9f3c8['body']);let _0x4d123a=await this['dataValidate']({'request':_0xe9f3c8,'schema':C,'ClassRef':b,'execute':_0xec894=>M[_0x4f7c4b(0x48d)](_0xec894,_0x4e5c94)});_0x11572a['status'](0xc8)['json'](_0x4d123a);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)]('editflow'),..._0xd75616,async(_0x3859ae,_0x5d3222)=>{const _0x42b0c9=_0x5a8c6c;let _0x3a840c=_0x3859ae[_0x42b0c9(0x49d)];g['verbose'](_0x42b0c9(0x414)),g['verbose'](_0x42b0c9(0x5f8)),g[_0x42b0c9(0x240)](_0x3859ae[_0x42b0c9(0x49d)]),delete _0x3a840c[_0x42b0c9(0x272)],delete _0x3a840c[_0x42b0c9(0x3c1)],delete _0x3a840c[_0x42b0c9(0x6a3)],delete _0x3a840c[_0x42b0c9(0x4f8)];let _0x4e079a=await this[_0x42b0c9(0x20a)]({'request':_0x3859ae,'schema':C,'ClassRef':b,'execute':_0x57425f=>M[_0x42b0c9(0x2a9)](_0x57425f,_0x3a840c)});_0x5d3222[_0x42b0c9(0x13c)](0xc8)['json'](_0x4e079a);})[_0x5a8c6c(0x47b)](this['routerPath']('editflowblock'),..._0xd75616,async(_0x5e47b0,_0x3f490c)=>{const _0x422df7=_0x5a8c6c;let _0x263d50=_0x5e47b0['body'];g[_0x422df7(0x240)](_0x422df7(0x414)),g[_0x422df7(0x240)](_0x422df7(0x5f8)),g[_0x422df7(0x240)](_0x5e47b0[_0x422df7(0x49d)]);let _0x213dd0=await this[_0x422df7(0x20a)]({'request':_0x5e47b0,'schema':C,'ClassRef':b,'execute':_0x27dd21=>M[_0x422df7(0x19c)](_0x27dd21,_0x263d50)});_0x3f490c[_0x422df7(0x13c)](0xc8)[_0x422df7(0x670)](_0x213dd0);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x41d)),..._0xd75616,async(_0x48200e,_0x23b9a2)=>{const _0x65c153=_0x5a8c6c;let _0x5974a0=_0x48200e[_0x65c153(0x49d)];g[_0x65c153(0x240)](_0x65c153(0x414)),g[_0x65c153(0x240)](_0x65c153(0x5f8)),g[_0x65c153(0x240)](_0x48200e[_0x65c153(0x49d)]);let _0x2836cd=await this[_0x65c153(0x20a)]({'request':_0x48200e,'schema':C,'ClassRef':b,'execute':_0x32ba4b=>M[_0x65c153(0x493)](_0x32ba4b,_0x5974a0)});_0x23b9a2['status'](0xc8)[_0x65c153(0x670)](_0x2836cd);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x687)),..._0xd75616,async(_0x15f2be,_0x4a4489)=>{const _0x15e400=_0x5a8c6c;let _0x3a784d=_0x15f2be['body'];g['verbose'](_0x15e400(0x414)),g[_0x15e400(0x240)](_0x15e400(0x5f8)),g[_0x15e400(0x240)](_0x15f2be['body']);let _0x2669aa=await this['dataValidate']({'request':_0x15f2be,'schema':C,'ClassRef':b,'execute':_0x1942bd=>M[_0x15e400(0x369)](_0x1942bd,_0x3a784d)});_0x4a4489['status'](0xc8)[_0x15e400(0x670)](_0x2669aa);})[_0x5a8c6c(0x47b)](this['routerPath'](_0x5a8c6c(0x2ba)),..._0xd75616,async(_0x30f71b,_0x4e40dc)=>{const _0x304690=_0x5a8c6c;let _0x4586e7=_0x30f71b[_0x304690(0x49d)];g[_0x304690(0x240)]('request\x20received\x20in\x20editFlowgroup'),g[_0x304690(0x240)](_0x304690(0x5f8)),g[_0x304690(0x240)](_0x30f71b[_0x304690(0x49d)]);let _0x409194=await this[_0x304690(0x20a)]({'request':_0x30f71b,'schema':C,'ClassRef':b,'execute':_0x9743f7=>M[_0x304690(0x3cf)](_0x9743f7,_0x4586e7)});_0x4e40dc['status'](0xc8)[_0x304690(0x670)](_0x409194);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x593)),..._0xd75616,async(_0x45773d,_0x2bcac2)=>{const _0x54df3f=_0x5a8c6c;let _0x333a33=_0x45773d[_0x54df3f(0x49d)];g[_0x54df3f(0x240)](_0x54df3f(0x471)),g[_0x54df3f(0x240)](_0x54df3f(0x5f8)),g[_0x54df3f(0x240)](_0x45773d[_0x54df3f(0x49d)]);let _0x283c10=await this[_0x54df3f(0x20a)]({'request':_0x45773d,'schema':C,'ClassRef':b,'execute':_0x541bae=>M['editFlowCondition'](_0x541bae,_0x333a33)});_0x2bcac2['status'](0xc8)['json'](_0x283c10);})['post'](this['routerPath'](_0x5a8c6c(0x4b6)),..._0xd75616,async(_0x5975d2,_0x48c5a3)=>{const _0x46884f=_0x5a8c6c;let _0x4e63ba=_0x5975d2['body'];g[_0x46884f(0x240)](_0x46884f(0x562)),g['verbose']('request\x20body:\x20'),g[_0x46884f(0x240)](_0x5975d2[_0x46884f(0x49d)]);let _0x450c28=await this['dataValidate']({'request':_0x5975d2,'schema':C,'ClassRef':b,'execute':_0x5c8a0b=>M[_0x46884f(0x17d)](_0x5c8a0b,_0x4e63ba)});_0x48c5a3['status'](0xc8)[_0x46884f(0x670)](_0x450c28);})[_0x5a8c6c(0x47b)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x3cb)),..._0xd75616,async(_0x1be886,_0x168ff2)=>{const _0x1a9709=_0x5a8c6c;let _0x5891aa=_0x1be886[_0x1a9709(0x49d)];g[_0x1a9709(0x240)](_0x1a9709(0x63e)),g[_0x1a9709(0x240)](_0x1a9709(0x5f8)),g[_0x1a9709(0x240)](_0x1be886[_0x1a9709(0x49d)]);let _0x46d964=await this[_0x1a9709(0x20a)]({'request':_0x1be886,'schema':C,'ClassRef':b,'execute':_0x483520=>M[_0x1a9709(0x28d)](_0x483520,_0x5891aa)});_0x168ff2[_0x1a9709(0x13c)](0xc8)[_0x1a9709(0x670)](_0x46d964);})['delete'](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x3c3)),..._0xd75616,async(_0xec5bf6,_0x6dc18a)=>{const _0xd7998a=_0x5a8c6c;let _0x2911eb=_0xec5bf6['body'];g[_0xd7998a(0x240)](_0xd7998a(0x641)),g[_0xd7998a(0x240)]('request\x20body:\x20'),g[_0xd7998a(0x240)](_0xec5bf6[_0xd7998a(0x49d)]);let _0x18bd10=await this[_0xd7998a(0x20a)]({'request':_0xec5bf6,'schema':C,'ClassRef':b,'execute':_0x12bf16=>M[_0xd7998a(0x38f)](_0x12bf16,_0x2911eb)});_0x6dc18a[_0xd7998a(0x13c)](0xc8)[_0xd7998a(0x670)](_0x18bd10);})[_0x5a8c6c(0x1e3)](this[_0x5a8c6c(0x14f)](_0x5a8c6c(0x678)),..._0xd75616,async(_0x32f78a,_0x115e52)=>{const _0x2129a6=_0x5a8c6c;g[_0x2129a6(0x240)](_0x2129a6(0x38a));let _0x5d46ce=await this[_0x2129a6(0x20a)]({'request':_0x32f78a,'schema':C,'ClassRef':b,'execute':_0x21d4e1=>M[_0x2129a6(0x1bb)](_0x21d4e1)});_0x115e52[_0x2129a6(0x13c)](0xc8)['json'](_0x5d46ce);});}},so=T(require(a0_0x38390a(0x37f))),X={};function Za(_0x49edfa,_0x217be2,_0x2353f5,_0x2b1828){X[_0x49edfa]||(X[_0x49edfa]={}),X[_0x49edfa][_0x217be2]={'id':_0x217be2,'response':_0x2353f5,'events':_0x2b1828};}function eo(_0x343e2d,_0x38a351){!X[_0x343e2d]||!X[_0x343e2d][_0x38a351]||delete X[_0x343e2d][_0x38a351];}function H(_0x1975c7,_0x1a6e06,_0x32b5e0){const _0x446282=a0_0x38390a;if(!X[_0x1975c7])return;let _0x5a316b=_0x446282(0x16e)+JSON[_0x446282(0x5a0)](_0x32b5e0)+'\x0a\x0a';Object['values'](X[_0x1975c7])[_0x446282(0x5e6)](_0x451632=>{const _0x292c3d=_0x446282;_0x451632['events'][_0x292c3d(0x264)](_0x1a6e06)&&_0x451632['response'][_0x292c3d(0x49f)](_0x5a316b);});}function to(){const _0x255fbd=a0_0x38390a;let _0x16b771={};for(let _0x7e1d0d in X)_0x16b771[_0x7e1d0d]=Object[_0x255fbd(0x558)](X[_0x7e1d0d])[_0x255fbd(0x1da)](_0x4e2ae1=>({'id':_0x4e2ae1['id'],'events':_0x4e2ae1[_0x255fbd(0x2be)]}));return _0x16b771;}var ao=require('uuid'),li=so['default']['join'](__dirname,a0_0x38390a(0x46e)),Pt=(0x0,Dt[a0_0x38390a(0x46c)])(),ui=y[a0_0x38390a(0x1e3)](a0_0x38390a(0x680))[a0_0x38390a(0x677)],de=[ps,ra,la[ui]];Pt[a0_0x38390a(0x3b4)](a0_0x38390a(0x2df),Dt['default'][a0_0x38390a(0x665)](li))[a0_0x38390a(0x1e3)](a0_0x38390a(0x3df),async(_0x5b223f,_0x273827)=>{const _0x4059bf=a0_0x38390a;console[_0x4059bf(0x508)](_0x4059bf(0x566));let _0x128e31=_0x5b223f[_0x4059bf(0x3bb)]['instance'],_0x32ee4d=(_0x5b223f['query'][_0x4059bf(0x2be)]||'')['split'](','),_0x5a3988=(0x0,ao['v4'])();console[_0x4059bf(0x508)](_0x4059bf(0x585),_0x128e31),console[_0x4059bf(0x508)](_0x4059bf(0x189),_0x32ee4d);let _0x1d50f9=y[_0x4059bf(0x1e3)]('AUTHENTICATION')[_0x4059bf(0x5cd)],_0x2d18d0=_0x5b223f[_0x4059bf(0x314)][_0x4059bf(0x11d)];if(console[_0x4059bf(0x508)](_0x4059bf(0x5a9),_0x2d18d0),_0x1d50f9[_0x4059bf(0x1cf)]!==_0x2d18d0){console[_0x4059bf(0x508)]('env.KEY\x20!==\x20key');try{let _0x31fbc5=await ue[_0x4059bf(0x461)][_0x4059bf(0x37e)](_0x128e31);if(console[_0x4059bf(0x508)](_0x4059bf(0x269),_0x31fbc5),!_0x31fbc5||_0x31fbc5[_0x4059bf(0x11d)]!==_0x2d18d0)return console['log'](_0x4059bf(0x431)),_0x273827[_0x4059bf(0x13c)](0x191)[_0x4059bf(0x3d2)]('API\x20Key\x20inválida.');}catch(_0x5f2eb7){return console[_0x4059bf(0x182)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x5f2eb7),_0x273827['status'](0x191)[_0x4059bf(0x3d2)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Qe(_0x128e31))return _0x273827['status'](0x194)[_0x4059bf(0x3d2)](_0x4059bf(0x36b));_0x273827['setHeader'](_0x4059bf(0x12e),_0x4059bf(0x104)),_0x273827[_0x4059bf(0x507)](_0x4059bf(0xfd),_0x4059bf(0x278)),_0x273827['setHeader'](_0x4059bf(0x33d),_0x4059bf(0x604)),_0x273827['flushHeaders']();let _0x43c793=_0x4059bf(0x16e)+JSON[_0x4059bf(0x5a0)]({'info':_0x4059bf(0x3d6)})+'\x0a\x0a';_0x273827['write'](_0x43c793),Za(_0x128e31,_0x5a3988,_0x273827,_0x32ee4d),_0x5b223f['on']('close',()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x128e31),eo(_0x128e31,_0x5a3988);});}),Pt['get'](a0_0x38390a(0x4d9),(_0x107f2e,_0x22ae0)=>{let _0x17d2f9=to();_0x22ae0['json'](_0x17d2f9);})[a0_0x38390a(0x1e3)]('/',(_0x565e78,_0x2b3587)=>{const _0x4820bd=a0_0x38390a;let _0x4cf5b1=y[_0x4820bd(0x1e3)](_0x4820bd(0x658)),_0x393c81=_0x4cf5b1&&_0x4cf5b1['FULLCHAIN'][_0x4820bd(0x142)]('/')[0x4];if(_0x393c81){let _0x8bb1b6=encodeURIComponent(_0x4820bd(0x1c1)+_0x393c81);_0x2b3587[_0x4820bd(0x406)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x8bb1b6);}else _0x2b3587[_0x4820bd(0x406)](_0x4820bd(0x45b));})[a0_0x38390a(0x134)](a0_0x38390a(0x145),...de,async(_0x4ceb35,_0x302911)=>{const _0x28069b=a0_0x38390a;try{console[_0x28069b(0x508)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x302911[_0x28069b(0x13c)](0xc8)['json']({'message':_0x28069b(0x4c0)}),_0x302911['on'](_0x28069b(0x4da),()=>process[_0x28069b(0x353)](0x0));}catch(_0x59d958){console[_0x28069b(0x182)](_0x28069b(0x5e2),_0x59d958),_0x302911[_0x28069b(0x13c)](0x1f4)['json']({'message':_0x28069b(0x281)});}})[a0_0x38390a(0x3b4)](a0_0x38390a(0x2fa),new ht(y,...de)['router'],new Rt(ps)[a0_0x38390a(0x15d)])[a0_0x38390a(0x3b4)]('/message',new Tt(...de)[a0_0x38390a(0x15d)])[a0_0x38390a(0x3b4)](a0_0x38390a(0x1ff),new at(...de)['router'])[a0_0x38390a(0x3b4)](a0_0x38390a(0x551),new pt(...de)[a0_0x38390a(0x15d)])[a0_0x38390a(0x3b4)]('/webhook',new At(...de)[a0_0x38390a(0x15d)])[a0_0x38390a(0x3b4)](a0_0x38390a(0x5fb),new It(...de)['router']);var m=class{constructor(..._0x2e1a5d){const _0x57f2cc=a0_0x38390a;throw{'status':0x190,'error':_0x57f2cc(0x39e),'message':_0x2e1a5d[_0x57f2cc(0x523)]>0x0?_0x2e1a5d:void 0x0};}},ie=class{constructor(..._0xc9ab3c){const _0x2ba309=a0_0x38390a;throw{'status':0x191,'error':_0x2ba309(0x3a3),'message':_0xc9ab3c[_0x2ba309(0x523)]>0x0?_0xc9ab3c:void 0x0};}},oe=class{constructor(..._0x1b4ea5){const _0x13694b=a0_0x38390a;throw{'status':0x193,'error':_0x13694b(0x582),'message':_0x1b4ea5[_0x13694b(0x523)]>0x0?_0x1b4ea5:void 0x0};}},L=class{constructor(..._0xf858b7){const _0x4e1270=a0_0x38390a;throw{'status':0x194,'error':_0x4e1270(0x345),'message':_0xf858b7['length']>0x0?_0xf858b7:void 0x0};}},A=class{constructor(..._0x1cb09e){const _0x12cf46=a0_0x38390a;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x1cb09e[_0x12cf46(0x523)]>0x0?_0x1cb09e:void 0x0};}},pe=require('@whiskeysockets/baileys');async function ws(_0x3832a7){const _0x1e4843=a0_0x38390a;let _0xd43d90=new v(ws['name']),_0x26426d=R[_0x1e4843(0x1d3)](),_0x7392d1=_0x26426d['db'](y['get'](_0x1e4843(0x288))['CONNECTION'][_0x1e4843(0x63d)]+_0x1e4843(0x113))['collection'](_0x3832a7),_0x30e722=async(_0x3c7a19,_0x3ff903)=>{const _0x2362f3=_0x1e4843;try{return await _0x26426d[_0x2362f3(0x622)](),await _0x7392d1['replaceOne']({'_id':_0x3ff903},JSON[_0x2362f3(0x455)](JSON[_0x2362f3(0x5a0)](_0x3c7a19,pe['BufferJSON']['replacer'])),{'upsert':!0x0});}catch{}},_0x4de8a8=async _0x3a6655=>{const _0x1ab66b=_0x1e4843;try{await _0x26426d['connect']();let _0x337856=await _0x7392d1[_0x1ab66b(0x548)]({'_id':_0x3a6655}),_0xf89505=JSON[_0x1ab66b(0x5a0)](_0x337856);return JSON['parse'](_0xf89505,pe[_0x1ab66b(0x36f)][_0x1ab66b(0x300)]);}catch{}},_0x7d07dc=async _0x326fb3=>{const _0x41ea28=_0x1e4843;try{return await _0x26426d[_0x41ea28(0x622)](),await _0x7392d1['deleteOne']({'_id':_0x326fb3});}catch{}},_0x9ecd02=await _0x4de8a8('creds')||(0x0,pe['initAuthCreds'])();return{'state':{'creds':_0x9ecd02,'keys':{'get':async(_0x1e6567,_0x17ee53)=>{const _0xb1eafe=_0x1e4843;let _0x202f0a={};return await Promise[_0xb1eafe(0x1ee)](_0x17ee53[_0xb1eafe(0x1da)](async _0x3c2cc8=>{const _0x303a5d=_0xb1eafe;let _0x2dc0d8=await _0x4de8a8(_0x1e6567+'-'+_0x3c2cc8);_0x1e6567==='app-state-sync-key'&&_0x2dc0d8&&(_0x2dc0d8=pe['proto'][_0x303a5d(0x11a)]['AppStateSyncKeyData']['fromObject'](_0x2dc0d8)),_0x202f0a[_0x3c2cc8]=_0x2dc0d8;})),_0x202f0a;},'set':async _0x55af67=>{const _0x4d4890=_0x1e4843;let _0x2a4e4b=[];for(let _0x5aefba in _0x55af67)for(let _0x13add6 in _0x55af67[_0x5aefba]){let _0x4334eb=_0x55af67[_0x5aefba][_0x13add6],_0x35658a=_0x5aefba+'-'+_0x13add6;_0x2a4e4b[_0x4d4890(0x1d9)](_0x4334eb?_0x30e722(_0x4334eb,_0x35658a):_0x7d07dc(_0x35658a));}await Promise[_0x4d4890(0x1ee)](_0x2a4e4b);}}},'saveCreds':async()=>_0x30e722(_0x9ecd02,_0x1e4843(0x5d4))};}var Ss=T(require(a0_0x38390a(0x313))),Es=T(require(a0_0x38390a(0x5f4))),xt=require('@whiskeysockets/baileys'),oo=require(a0_0x38390a(0x1ef)),_t=require(a0_0x38390a(0x217)),Ot;function di(_0x423b2f){const _0x14d155=a0_0x38390a;return Ot||(Ot=(0x0,oo[_0x14d155(0x5ce)])({'url':_0x423b2f[_0x14d155(0x69d)]}),Ot[_0x14d155(0x622)]()),Ot;}var we=class l{constructor(_0x400f14,_0x4a77ed){const _0x2b92c5=a0_0x38390a;this[_0x2b92c5(0x4e7)]=_0x400f14,this[_0x2b92c5(0x344)]=_0x4a77ed,this[_0x2b92c5(0x190)]=new v(l[_0x2b92c5(0x2c9)]),this['client']=di(_0x400f14);}set['reference'](_0x4f9926){const _0x498f9c=a0_0x38390a;this[_0x498f9c(0x344)]=_0x4f9926;}async['instanceKeys'](){const _0x536467=a0_0x38390a;try{return await this['client'][_0x536467(0x322)]([_0x536467(0x29a),this[_0x536467(0x4e7)][_0x536467(0x530)]+':*']);}catch(_0xb9214f){this[_0x536467(0x190)]['error'](_0xb9214f);}}async[a0_0x38390a(0x58d)](_0x56281e,_0x12b3db){const _0x535f85=a0_0x38390a;try{let _0x5c1856=JSON['stringify'](_0x12b3db,_t[_0x535f85(0x36f)][_0x535f85(0x57c)]);return await this[_0x535f85(0x510)][_0x535f85(0x247)](this[_0x535f85(0x4e7)][_0x535f85(0x530)]+':'+this[_0x535f85(0x344)],_0x56281e,_0x5c1856);}catch(_0x316217){this[_0x535f85(0x190)][_0x535f85(0x182)](_0x316217);}}async[a0_0x38390a(0x52c)](){const _0x14e403=a0_0x38390a;try{let _0x4014d6=await this[_0x14e403(0x510)][_0x14e403(0x5ba)](this[_0x14e403(0x4e7)][_0x14e403(0x530)]+':'+this[_0x14e403(0x344)]);if(_0x4014d6){for(let _0x5aabcf in _0x4014d6)Object[_0x14e403(0x22a)]['hasOwnProperty']['call'](_0x4014d6,_0x5aabcf)&&(_0x4014d6[_0x5aabcf]=JSON['parse'](_0x4014d6[_0x5aabcf],_t[_0x14e403(0x36f)][_0x14e403(0x300)]));return _0x4014d6;}}catch(_0x387dd0){this[_0x14e403(0x190)][_0x14e403(0x182)](_0x387dd0);}}async[a0_0x38390a(0x18f)](_0x357d3c){const _0xe6389d=a0_0x38390a;try{let _0x2f0bd2=await this[_0xe6389d(0x510)][_0xe6389d(0xff)](this[_0xe6389d(0x4e7)]['PREFIX_KEY']+':'+this['instanceName'],_0x357d3c);if(_0x2f0bd2)return JSON['parse'](_0x2f0bd2,_t[_0xe6389d(0x36f)][_0xe6389d(0x300)]);}catch(_0x4ba5f6){this[_0xe6389d(0x190)][_0xe6389d(0x182)](_0x4ba5f6);}}async[a0_0x38390a(0x560)](_0x5c4e0b){const _0x578f69=a0_0x38390a;try{return await this[_0x578f69(0x510)]['hDel'](this['redisEnv'][_0x578f69(0x530)]+':'+this[_0x578f69(0x344)],_0x5c4e0b);}catch(_0x2c914f){this[_0x578f69(0x190)][_0x578f69(0x182)](_0x2c914f);}}async[a0_0x38390a(0x358)](_0x144871){const _0x53a2d2=a0_0x38390a;try{return await this[_0x53a2d2(0x510)][_0x53a2d2(0x3cc)](_0x144871||this[_0x53a2d2(0x4e7)][_0x53a2d2(0x530)]+':'+this['instanceName']);}catch(_0x5a5b79){this[_0x53a2d2(0x190)][_0x53a2d2(0x182)](_0x5a5b79);}}};function a0_0x38ae(_0x457755,_0x2e9aaa){const _0x2001e6=a0_0x2001();return a0_0x38ae=function(_0x38ae85,_0x5e7f82){_0x38ae85=_0x38ae85-0xf6;let _0x432ef7=_0x2001e6[_0x38ae85];return _0x432ef7;},a0_0x38ae(_0x457755,_0x2e9aaa);}async function ys(_0xd38f7f,_0x26f06d){const _0x3e9dcb=a0_0x38390a;let _0xcc130a=new v(ys[_0x3e9dcb(0x2c9)]),_0x5b9193=new we(_0xd38f7f,_0x26f06d),_0x48733f=async(_0x2c7351,_0x5f2de8)=>{const _0x9ebb32=_0x3e9dcb;try{return await _0x5b9193[_0x9ebb32(0x58d)](_0x5f2de8,_0x2c7351);}catch(_0x2ce560){return _0xcc130a[_0x9ebb32(0x182)]({'localError':_0x9ebb32(0x58d),'error':_0x2ce560});}},_0x5508c9=async _0x37af32=>{const _0x31b98e=_0x3e9dcb;try{return await _0x5b9193[_0x31b98e(0x18f)](_0x37af32);}catch(_0x9d68e6){_0xcc130a[_0x31b98e(0x182)]({'readData':_0x31b98e(0x58d),'error':_0x9d68e6});return;}},_0x50df14=async _0x19a3b5=>{const _0x13d91b=_0x3e9dcb;try{return await _0x5b9193[_0x13d91b(0x560)](_0x19a3b5);}catch(_0x4a4a14){_0xcc130a[_0x13d91b(0x182)]({'readData':_0x13d91b(0x560),'error':_0x4a4a14});}},_0x425ca1=await _0x5508c9('creds')||(0x0,xt[_0x3e9dcb(0x2b0)])();return{'state':{'creds':_0x425ca1,'keys':{'get':async(_0x54ada5,_0x2940fa)=>{let _0x215c8e={};return await Promise['all'](_0x2940fa['map'](async _0x58be7f=>{const _0x14b8ae=a0_0x38ae;let _0x583587=await _0x5508c9(_0x54ada5+'-'+_0x58be7f);_0x54ada5===_0x14b8ae(0x4d2)&&_0x583587&&(_0x583587=xt[_0x14b8ae(0x515)][_0x14b8ae(0x11a)]['AppStateSyncKeyData'][_0x14b8ae(0x2ee)](_0x583587)),_0x215c8e[_0x58be7f]=_0x583587;})),_0x215c8e;},'set':async _0x2de1f3=>{const _0x30cf5a=_0x3e9dcb;let _0xde3a9=[];for(let _0xe03423 in _0x2de1f3)for(let _0x15f875 in _0x2de1f3[_0xe03423]){let _0x1cc690=_0x2de1f3[_0xe03423][_0x15f875],_0x5e0e8d=_0xe03423+'-'+_0x15f875;_0xde3a9[_0x30cf5a(0x1d9)](_0x1cc690?await _0x48733f(_0x1cc690,_0x5e0e8d):await _0x50df14(_0x5e0e8d));}await Promise['all'](_0xde3a9);}}},'saveCreds':async()=>await _0x48733f(_0x425ca1,_0x3e9dcb(0x5d4))};}var Se=T(require('fs')),go=require(a0_0x38390a(0x24b));function q(_0x2bc818){const _0x1dfd67=a0_0x38390a;if(_0x2bc818[_0x1dfd67(0x35b)]||_0x2bc818[_0x1dfd67(0x48e)]){let _0x465d31=_0x2bc818[_0x1dfd67(0x35b)]?_0x2bc818['viewOnceMessage'][_0x1dfd67(0x32a)]:_0x2bc818[_0x1dfd67(0x48e)][_0x1dfd67(0x32a)];return(0x0,w[_0x1dfd67(0x2ae)])(_0x465d31);}return _0x2bc818['pollCreationMessageV3']?_0x1dfd67(0x4f6):_0x2bc818['pollCreationMessageV2']?_0x1dfd67(0x448):(0x0,w[_0x1dfd67(0x2ae)])(_0x2bc818);}var be=class l{constructor(_0x1f90b7,_0x3dbd17,_0x5b3349){const _0x4c2bb9=a0_0x38390a;this[_0x4c2bb9(0x575)]=_0x1f90b7,this[_0x4c2bb9(0x1de)]=_0x3dbd17,this[_0x4c2bb9(0x129)]=_0x5b3349,this[_0x4c2bb9(0x312)]=null,this['logger']=new v(l[_0x4c2bb9(0x2c9)]),this[_0x4c2bb9(0x2d6)]={},this['localWebhook']={},this[_0x4c2bb9(0x41c)]={'state':'close'},this[_0x4c2bb9(0x497)]=(0x0,Z['join'])(z,_0x4c2bb9(0x2f4)),this['msgRetryCounterCache']=new Es[(_0x4c2bb9(0x2d4))](),this['userDevicesCache']=new Es[(_0x4c2bb9(0x2d4))](),this[_0x4c2bb9(0x609)]=!0x1,this['webhookMap']={'status.instance':_0x4c2bb9(0x356),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x4c2bb9(0x4f3),'messages.update':_0x4c2bb9(0x5c2),'send.message':_0x4c2bb9(0x4f3),'group.upsert':_0x4c2bb9(0x27e),'group.update':'/wa-groups','group-participants.update':_0x4c2bb9(0x27e),'connection.update':_0x4c2bb9(0x356),'messages.set':_0x4c2bb9(0x4f3),'contacts.set':_0x4c2bb9(0x596),'contacts.upsert':_0x4c2bb9(0x596),'contacts.update':'/wa-contacts','presence.update':_0x4c2bb9(0x285),'chats.set':_0x4c2bb9(0x2ed),'chats.update':_0x4c2bb9(0x2ed),'chats.upsert':_0x4c2bb9(0x2ed),'chats.delete':_0x4c2bb9(0x2ed)},this[_0x4c2bb9(0x5f9)]=0x0,this[_0x4c2bb9(0x654)]=[],this[_0x4c2bb9(0x413)]=0xf,this[_0x4c2bb9(0x623)]=0x7530,this[_0x4c2bb9(0x39b)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x12ef08,_0x19792c)=>{const _0xc3ba5c=_0x4c2bb9;let _0x43dea1=await this[_0xc3ba5c(0x129)][_0xc3ba5c(0x234)][_0xc3ba5c(0x37e)]({'where':{'owner':this['instance'][_0xc3ba5c(0x46f)]}}),_0x3d764b=[];for await(let _0x4b237d of _0x12ef08)_0x43dea1['find'](_0x42f81a=>_0x42f81a['id']===_0x4b237d['id'])||_0x3d764b['push']({'id':_0x4b237d['id'],'owner':this[_0xc3ba5c(0x2d6)][_0xc3ba5c(0x46f)],'group':_0x4b237d['id'][_0xc3ba5c(0x6ad)](_0xc3ba5c(0x2e1)),'name':_0x4b237d[_0xc3ba5c(0x2c9)]||_0x4b237d[_0xc3ba5c(0x25e)]||null,'contactname':null,'lastmsg':_0x4b237d['conversationTimestamp']&&_0x4b237d[_0xc3ba5c(0x4ce)]['toString']()[_0xc3ba5c(0x523)]<0xd?_0x4b237d[_0xc3ba5c(0x4ce)]*0x3e8:_0x4b237d['conversationTimestamp']||null,'archived':_0x4b237d[_0xc3ba5c(0x330)]||!0x1,'unreadcount':_0x4b237d[_0xc3ba5c(0x689)]||0x0});await this['sendDataWebhook'](_0xc3ba5c(0x666),_0x3d764b);},'chats.update':async(_0x27b4b7,_0x163eb1)=>{const _0x59e84e=_0x4c2bb9;for(let _0x1d8308 of _0x27b4b7){let _0x569471={'id':_0x1d8308['id'],'owner':this['instance']['wuid'],'group':_0x1d8308['id'][_0x59e84e(0x6ad)](_0x59e84e(0x2e1)),'name':_0x1d8308[_0x59e84e(0x2c9)]||_0x1d8308['displayName'],'archived':_0x1d8308[_0x59e84e(0x330)]},_0x14a30a=!0x1,_0x41e7e8={'id':_0x1d8308['id'],'owner':this[_0x59e84e(0x2d6)][_0x59e84e(0x46f)]},_0x59dc7a={};_0x569471[_0x59e84e(0x330)]!=null&&(this[_0x59e84e(0x190)][_0x59e84e(0x240)](this['instanceName']+'\x20('+this[_0x59e84e(0x2d6)][_0x59e84e(0x46f)]+_0x59e84e(0x439)+_0x1d8308[_0x59e84e(0x330)]),_0x14a30a=!0x0,_0x59dc7a['archived']=_0x1d8308['archived']),_0x1d8308[_0x59e84e(0x2c9)]!=null&&(this[_0x59e84e(0x190)][_0x59e84e(0x240)](this['instanceName']+'\x20('+this['instance'][_0x59e84e(0x46f)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x1d8308[_0x59e84e(0x2c9)]),_0x14a30a=!0x0,_0x59dc7a['name']=_0x1d8308[_0x59e84e(0x2c9)]),_0x1d8308[_0x59e84e(0x25e)]!=null&&(this[_0x59e84e(0x190)]['verbose'](this[_0x59e84e(0x344)]+'\x20('+this[_0x59e84e(0x2d6)][_0x59e84e(0x46f)]+_0x59e84e(0x388)+_0x1d8308[_0x59e84e(0x25e)]),_0x14a30a=!0x0,_0x59dc7a[_0x59e84e(0x2c9)]=_0x1d8308['displayName']);let _0x260446;_0x14a30a&&_0x163eb1['ENABLED']&&(_0x260446=await I[_0x59e84e(0x58f)](_0x41e7e8,{'$set':_0x59dc7a},{'new':!0x0})),_0x260446&&H(this[_0x59e84e(0x344)],_0x59e84e(0x3bd),{'chat':_0x260446});}},'chats.delete':async _0xe06236=>{const _0x4ddc88=_0x4c2bb9;await this[_0x4ddc88(0x64a)](_0x4ddc88(0x569),[..._0xe06236]);}},this['contactHandle']={'contacts.upsert':async(_0x2bd715,_0x38e938)=>{const _0x26367e=_0x4c2bb9;let _0x39557b=await this[_0x26367e(0x129)][_0x26367e(0x37c)]['find']({'where':{'owner':this['instance'][_0x26367e(0x46f)]}}),_0x57cc71=[];for await(let _0x42f7a0 of _0x2bd715)_0x39557b[_0x26367e(0x37e)](_0x3eba88=>_0x3eba88['id']===_0x42f7a0['id'])||_0x57cc71[_0x26367e(0x1d9)]({'id':_0x42f7a0['id'],'pushName':_0x42f7a0?.[_0x26367e(0x2c9)]||_0x42f7a0?.[_0x26367e(0x29e)],'owner':this[_0x26367e(0x2d6)][_0x26367e(0x46f)]});await this[_0x26367e(0x64a)]('contacts.upsert',_0x57cc71),await this['repository'][_0x26367e(0x37c)][_0x26367e(0x2b8)](_0x57cc71,_0x38e938[_0x26367e(0x659)]);let _0x57ceea=[];for(let _0x20196e of _0x57cc71){let [_0x11dd92,_0x104026]=await Promise['all']([this[_0x26367e(0x661)](_0x20196e['id']),(await this[_0x26367e(0x4a9)](_0x20196e['id']))[_0x26367e(0x13c)]]);_0x57ceea['push']({..._0x20196e,'profilePictureUrl':_0x11dd92[_0x26367e(0x2ce)],'status':_0x104026});}await this[_0x26367e(0x129)][_0x26367e(0x37c)][_0x26367e(0x118)](_0x57ceea,_0x38e938[_0x26367e(0x659)]),await this[_0x26367e(0x1f5)]();},'contacts.update':async(_0x54e188,_0x47ce95)=>{const _0x1c1e31=_0x4c2bb9;let _0x354e88=[];for await(let _0x9c0ecf of _0x54e188)_0x354e88[_0x1c1e31(0x1d9)]({'id':_0x9c0ecf['id'],'pushName':_0x9c0ecf?.[_0x1c1e31(0x2c9)]??_0x9c0ecf?.[_0x1c1e31(0x29e)],'profilePictureUrl':(await this[_0x1c1e31(0x661)](_0x9c0ecf['id']))['profilePictureUrl'],'owner':this['instance']['wuid']});await this[_0x1c1e31(0x64a)]('contacts.update',_0x354e88);}},this['messageHandle']={'messaging-history.set':async({messages:_0x127b82,chats:_0x29c503,isLatest:_0x2fedbb},_0x386fbf)=>{const _0x181747=_0x4c2bb9;if(_0x2fedbb){let _0x5cb1e5=await Promise[_0x181747(0x1ee)](_0x29c503[_0x181747(0x1da)](async _0x2093b2=>({'id':_0x2093b2['id'],'owner':this['instance'][_0x181747(0x46f)],'group':_0x2093b2['id']['endsWith'](_0x181747(0x2e1)),'name':_0x2093b2[_0x181747(0x2c9)]||_0x2093b2['displayName']||null,'contactname':null,'imagechat':(await this[_0x181747(0x661)](_0x2093b2['id']))[_0x181747(0x2ce)],'lastmsg':_0x2093b2['conversationTimestamp']&&_0x2093b2[_0x181747(0x4ce)][_0x181747(0x2aa)]()[_0x181747(0x523)]<0xd?_0x2093b2[_0x181747(0x4ce)]*0x3e8:_0x2093b2[_0x181747(0x4ce)]||null,'archived':_0x2093b2[_0x181747(0x330)]||!0x1,'unreadcount':_0x2093b2['unreadCount']||0x0})));await this['sendDataWebhook']('chats.set',_0x5cb1e5),await this[_0x181747(0x618)](_0x5cb1e5,_0x386fbf),await this[_0x181747(0x1f5)]();}let _0x42e3d0=[],_0x19ad04=Date[_0x181747(0x29d)]()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xb44337]of Object['entries'](_0x127b82)){if(_0xb44337[_0x181747(0x32a)]?.[_0x181747(0x616)]||_0xb44337[_0x181747(0x32a)]?.[_0x181747(0x66e)]||!_0xb44337[_0x181747(0x32a)]||_0xb44337['key'][_0x181747(0x41e)]===_0x181747(0x354)||(Ss[_0x181747(0x2d4)][_0x181747(0x3b5)](_0xb44337?.[_0x181747(0x633)])&&(_0xb44337[_0x181747(0x633)]=_0xb44337['messageTimestamp']?.['toNumber']()),_0xb44337[_0x181747(0x633)]&&_0xb44337[_0x181747(0x633)][_0x181747(0x2aa)]()[_0x181747(0x523)]<0xd&&(_0xb44337['messageTimestamp']=_0xb44337[_0x181747(0x633)]*0x3e8),_0xb44337[_0x181747(0x633)]<_0x19ad04))continue;let {message_normalized:_0x193684}=this[_0x181747(0x66f)](_0xb44337[_0x181747(0x32a)],q(_0xb44337[_0x181747(0x32a)]),null);_0x42e3d0[_0x181747(0x1d9)]({'key':_0xb44337['key'],'pushName':_0xb44337[_0x181747(0x50b)],'participant':_0xb44337[_0x181747(0x58a)],'message':{..._0xb44337[_0x181747(0x32a)]},'messageType':q(_0xb44337[_0x181747(0x32a)]),'message_normalized':{'key':_0xb44337[_0x181747(0x378)],'pushName':_0xb44337[_0x181747(0x50b)],'messageTimestamp':_0xb44337[_0x181747(0x633)],..._0x193684},'messageTimestamp':_0xb44337[_0x181747(0x633)],'owner':this[_0x181747(0x2d6)][_0x181747(0x46f)]});}_0x386fbf[_0x181747(0x659)]&&_0x42e3d0[_0x181747(0x523)]>0x0&&(this['logger'][_0x181747(0x240)](this['instanceName']+'\x20('+this[_0x181747(0x2d6)][_0x181747(0x46f)]+_0x181747(0x483)+_0x42e3d0['length']+_0x181747(0x1b0)+this[_0x181747(0x2d6)][_0x181747(0x46f)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x181747(0x129)][_0x181747(0x32a)][_0x181747(0x2b8)]([..._0x42e3d0],_0x386fbf[_0x181747(0x659)])),this[_0x181747(0x64a)]('messages.set',[..._0x42e3d0]),_0x127b82=void 0x0;},'messages.upsert':async({messages:_0x518c7a,type:_0x5b1473},_0x46cc2e)=>{const _0x3432d2=_0x4c2bb9;let _0x117ac4=_0x518c7a[0x0];if(_0x5b1473!==_0x3432d2(0x175)||!_0x117ac4?.['message']||_0x117ac4[_0x3432d2(0x32a)]?.['protocolMessage']||_0x117ac4[_0x3432d2(0x378)][_0x3432d2(0x41e)]===_0x3432d2(0x354))return;let _0x16ed15=null,_0x4533b0=null;try{_0x16ed15=await this[_0x3432d2(0x1f2)](_0x117ac4),_0x4533b0=_0x16ed15?_0x16ed15[_0x3432d2(0x518)](','):null;}catch(_0x12d460){this[_0x3432d2(0x190)][_0x3432d2(0x240)](this[_0x3432d2(0x344)]+'\x20('+this[_0x3432d2(0x2d6)][_0x3432d2(0x46f)]+_0x3432d2(0x483)+_0x12d460[_0x3432d2(0x32a)]),_0x4533b0='error\x20get\x20vote';}this[_0x3432d2(0x510)]['sendPresenceUpdate'](_0x3432d2(0x435)),Ss[_0x3432d2(0x2d4)][_0x3432d2(0x3b5)](_0x117ac4[_0x3432d2(0x633)])&&(_0x117ac4[_0x3432d2(0x633)]=_0x117ac4[_0x3432d2(0x633)]?.[_0x3432d2(0x57b)]()),_0x117ac4[_0x3432d2(0x633)]&&_0x117ac4['messageTimestamp'][_0x3432d2(0x2aa)]()[_0x3432d2(0x523)]<0xd&&(_0x117ac4['messageTimestamp']=_0x117ac4[_0x3432d2(0x633)]*0x3e8);let _0x1e94f4=_0x117ac4['message'],{messageContent:_0xdd4b69,message_normalized:_0x1289e6}=this[_0x3432d2(0x66f)](_0x1e94f4,q(_0x117ac4[_0x3432d2(0x32a)]),_0x4533b0);_0xdd4b69||console[_0x3432d2(0x182)](_0x3432d2(0x28f));let _0x208416={'key':_0x117ac4[_0x3432d2(0x378)],'pushName':_0x117ac4[_0x3432d2(0x50b)],'message':{..._0x117ac4[_0x3432d2(0x32a)]},'messageType':q(_0x117ac4['message']),'message_normalized':{'key':_0x117ac4['key'],'pushName':_0x117ac4[_0x3432d2(0x50b)],'messageTimestamp':_0x117ac4[_0x3432d2(0x633)],'source':(0x0,w['getDevice'])(_0x117ac4[_0x3432d2(0x378)]['id']),..._0x1289e6},'messageTimestamp':_0x117ac4[_0x3432d2(0x633)],'owner':this[_0x3432d2(0x2d6)][_0x3432d2(0x46f)]};this[_0x3432d2(0x190)][_0x3432d2(0x508)](_0x208416),await this[_0x3432d2(0x129)]['message'][_0x3432d2(0x2b8)]([_0x208416],_0x46cc2e[_0x3432d2(0x659)]),await this[_0x3432d2(0x64a)](_0x3432d2(0x22c),_0x208416),H(this[_0x3432d2(0x344)],'messages',{'message':_0x208416}),_0x117ac4[_0x3432d2(0x378)][_0x3432d2(0x41e)]!=='status@broadcast'&&await this[_0x3432d2(0x1ec)](_0x46cc2e,_0x208416,_0x3432d2(0x65a));},'messages.update':async(_0x56d9fe,_0x241741)=>{const _0x5b7a2a=_0x4c2bb9;let _0x23675f={0x0:_0x5b7a2a(0x4d7),0x1:_0x5b7a2a(0x55d),0x2:_0x5b7a2a(0x191),0x3:_0x5b7a2a(0x67c),0x4:_0x5b7a2a(0x69b),0x5:_0x5b7a2a(0x343)};for await(let {key:_0x5b3e68,update:_0x5e8f59}of _0x56d9fe)if(_0x5b3e68[_0x5b7a2a(0x41e)]!==_0x5b7a2a(0x354)){let _0x1e68ec=Date[_0x5b7a2a(0x29d)](),_0xcd81b;_0x5e8f59[_0x5b7a2a(0x32a)]===null&&_0x5e8f59['status']===void 0x0?_0xcd81b='DELETED':_0xcd81b=_0x23675f[_0x5e8f59['status']];let _0x1045f9=_0x5b3e68[_0x5b7a2a(0x41e)][_0x5b7a2a(0x3ab)](/:\d{1,2}@/g,'@'),_0x5f2f1a={..._0x5b3e68,'remoteJid':_0x1045f9,'status':_0xcd81b,'datetime':_0x1e68ec,'owner':this[_0x5b7a2a(0x2d6)][_0x5b7a2a(0x46f)]};await this['sendDataWebhook'](_0x5b7a2a(0x5fe),_0x5f2f1a),await this[_0x5b7a2a(0x129)]['messageUpdate'][_0x5b7a2a(0x2b8)]([_0x5f2f1a],_0x241741['ENABLED']),await this[_0x5b7a2a(0x157)](_0x5b3e68,_0x1045f9,_0x5f2f1a);}}},this[_0x4c2bb9(0x545)]={'groups.upsert':_0x37a0df=>{const _0x5debdc=_0x4c2bb9;this[_0x5debdc(0x64a)](_0x5debdc(0x1df),_0x37a0df);},'groups.update':_0x106ce6=>{const _0x3d205d=_0x4c2bb9;this['sendDataWebhook'](_0x3d205d(0x187),_0x106ce6);},'group-participants.update':_0x39f0cd=>{const _0x10d08d=_0x4c2bb9;this[_0x10d08d(0x64a)]('group-participants.update',_0x39f0cd);}},this[_0x4c2bb9(0x1f2)]=async _0x3a968c=>{const _0x292af7=_0x4c2bb9;if(_0x3a968c[_0x292af7(0x32a)]?.['pollUpdateMessage']){let _0x6519b5=await this[_0x292af7(0x27f)](_0x3a968c[_0x292af7(0x32a)]['pollUpdateMessage'][_0x292af7(0x581)],!0x0);if(_0x6519b5){let _0x819e70=_0x6519b5[_0x292af7(0x378)]['fromMe']?this['instance']['wuid']+_0x292af7(0x342):_0x6519b5[_0x292af7(0x378)][_0x292af7(0x58a)]||_0x6519b5[_0x292af7(0x378)][_0x292af7(0x41e)],_0x8472ed=_0x6519b5[_0x292af7(0x378)]['id'],_0x2eb3c6=_0x6519b5[_0x292af7(0x32a)],_0x603e94=Buffer[_0x292af7(0x1bf)](_0x2eb3c6[_0x292af7(0x2ef)][_0x292af7(0x2e9)][_0x292af7(0x2aa)]('hex'),_0x292af7(0x3d0)),_0x2cd106=(0x0,w[_0x292af7(0x228)])(_0x3a968c['message']['pollUpdateMessage'][_0x292af7(0x571)],{'pollCreatorJid':_0x819e70,'pollMsgId':_0x8472ed,'pollEncKey':_0x603e94,'voterJid':_0x3a968c[_0x292af7(0x378)]['fromMe']?this['instance'][_0x292af7(0x46f)]+_0x292af7(0x342):_0x3a968c[_0x292af7(0x378)][_0x292af7(0x41e)][_0x292af7(0x6ad)]('g.us')?_0x3a968c[_0x292af7(0x378)]['participant']:_0x3a968c[_0x292af7(0x378)][_0x292af7(0x41e)]}),_0x1ce6d0=[],_0x24a21d=_0x2cd106['selectedOptions'][_0x292af7(0x1da)](_0x571e86=>Buffer['from'](_0x571e86)[_0x292af7(0x2aa)](_0x292af7(0x3d0)));for(let {optionName:_0x14fdd7}of _0x2eb3c6[_0x292af7(0x5ee)]?.[_0x292af7(0x376)]||_0x2eb3c6[_0x292af7(0x4f6)]?.[_0x292af7(0x376)]||_0x2eb3c6[_0x292af7(0x448)]?.[_0x292af7(0x376)])_0x24a21d[_0x292af7(0x120)]((0x0,w[_0x292af7(0x250)])(Buffer[_0x292af7(0x1bf)](_0x14fdd7))[_0x292af7(0x2aa)]('hex'))>-0x1&&_0x1ce6d0[_0x292af7(0x1d9)](_0x14fdd7);return _0x1ce6d0;}}return null;},this[_0x4c2bb9(0x66f)]=(_0x193687,_0x57007f,_0x5e78df)=>{const _0x51f275=_0x4c2bb9;let _0x3295e3=_0x57007f?_0x193687[_0x57007f]:void 0x0,_0xd971e8={},_0x57ae41=null,_0x2ad725=null;if(_0x193687['viewOnceMessageV2']?_0x3295e3=_0x193687['viewOnceMessageV2'][_0x51f275(0x32a)][_0x57007f]:_0x193687[_0x51f275(0x35b)]?_0x3295e3=_0x193687['viewOnceMessage'][_0x51f275(0x32a)][_0x57007f]:_0x193687[_0x51f275(0x4fd)]?_0x3295e3=_0x193687[_0x51f275(0x4fd)]['message'][_0x57007f]:_0x3295e3=_0x193687[_0x57007f],!_0x57007f||!_0x3295e3){console['error']('Unknown\x20message\x20type\x20encountered',_0x193687);return;}_0x193687[_0x57007f]?.[_0x51f275(0x608)]?.[_0x51f275(0x152)]&&_0x193687[_0x57007f]?.[_0x51f275(0x608)]?.[_0x51f275(0x61f)]&&(_0x2ad725=_0x193687[_0x57007f][_0x51f275(0x608)][_0x51f275(0x152)]),_0x193687['editedMessage']?.[_0x51f275(0x32a)]?.[_0x51f275(0x616)]?.[_0x51f275(0x5fd)]&&(_0x57ae41=_0x193687[_0x51f275(0x5fd)]['message']['protocolMessage'][_0x51f275(0x378)]['id'],_0x193687=_0x193687['editedMessage'][_0x51f275(0x32a)]['protocolMessage'][_0x51f275(0x5fd)]);let _0x5783f2;if(_0x3295e3&&typeof _0x3295e3==_0x51f275(0x58c)&&_0x51f275(0x581)in _0x3295e3&&({pollCreationMessageKey:_0x5783f2}=_0x3295e3),_0x57007f===_0x51f275(0x2b7)){let _0x1c259c=_0x3295e3?.['message']?.['documentMessage'];_0x1c259c&&(_0x3295e3=_0x1c259c);}if(_0x57007f==='pollCreationMessage'||_0x57007f===_0x51f275(0x448)||_0x57007f===_0x51f275(0x4f6)){let _0x3b9e10=_0x3295e3['options'][_0x51f275(0x1da)](_0x3b8262=>_0x3b8262[_0x51f275(0x1a6)])['join']('|');_0xd971e8[_0x51f275(0x294)]=_0x3b9e10;}if(_0x3295e3){let {pollCreationMessageKey:_0x54c8b7,footerText:_0x4c7ae1,contentText:_0x29ab46,pageCount:_0x44dd16,headerType:_0x328847,isAvatar:_0xf8e2b5,isAnimated:_0x5ab5a3,contactVcard:_0xc35bdd,fallbackLc:_0x156bbb,fallbackLg:_0x3f269b,namespace:_0x5b9287,elementName:_0x401a5b,localizableParams:_0x90b0d9,viewOnce:_0x48d892,height:_0x131faa,width:_0x32f6a0,key:_0x4e937c,firstScanLength:_0x283009,firstScanSidecar:_0x556286,gifPlayback:_0x1f8aa7,gifAttribution:_0x2793cc,midQualityFileSha256:_0x35e722,scansSidecar:_0x47dc66,streamingSidecar:_0xb104bc,thumbnailHeight:_0x3c1179,thumbnailWidth:_0x56a028,thumbnailEncSha256:_0x5ba530,thumbnailDirectPath:_0x1dd6e1,canonicalUrl:_0x54df5c,matchedText:_0x3e38d9,previewType:_0x430237,thumbnailSha256:_0x22fb11,deviceListMetadataVersion:_0x20eabe,inviteLinkGroupTypeV2:_0x5169cb,interactiveAnnotations:_0x394992,scanLengths:_0x4551d0,jpegThumbnail:_0x3f3b6c,url:_0xdc33b7,mediaKeyTimestamp:_0x36db6c,waveform:_0x3963bc,stickerSentTs:_0x5b3c3c,firstFrameLength:_0x10c7db,fileEncSha256:_0x1c9859,contextInfo:_0x5b1e1f,firstFrameSidecar:_0x258cba,directPath:_0x5bd62f,fileSha256:_0x32f53b,mediaKey:_0x25c17d,senderTimestampMs:_0xbd062c,..._0xd2cf96}=_0x3295e3;typeof _0x3295e3==_0x51f275(0x1ac)?_0xd971e8={'text':_0x3295e3,'type':_0x51f275(0x1d5),..._0x57ae41&&{'edited':_0x57ae41},..._0x2ad725&&{'quoted':_0x2ad725}}:_0xd971e8={..._0xd2cf96,..._0x57007f===_0x51f275(0x6a5)?{'poll_id':_0x3295e3[_0x51f275(0x581)]['id'],'vote':_0x5e78df}:{},'type':_0x57007f,..._0x57ae41&&{'edited':_0x57ae41},..._0x2ad725&&{'quoted':_0x2ad725},...(_0x57007f==='pollCreationMessage'||_0x57007f===_0x51f275(0x448)||_0x57007f===_0x51f275(0x4f6))&&{'convertedOptions':_0xd971e8[_0x51f275(0x294)]}};}return{'messageType':_0x57007f,'messageContent':_0x3295e3,'message_normalized':_0xd971e8};},this[_0x4c2bb9(0xf8)]=null,this['lastSend']=0x0,(this[_0x4c2bb9(0x24c)](),this['instance']['qrcode']={'count':0x0});}set[a0_0x38390a(0x344)](_0x4a791f){const _0x53f87d=a0_0x38390a;if(!_0x4a791f){this['instance'][_0x53f87d(0x2c9)]=(0x0,io['v4'])();return;}this[_0x53f87d(0x2d6)]['name']=_0x4a791f,this[_0x53f87d(0x64a)](_0x53f87d(0x13f),{'instance':this[_0x53f87d(0x2d6)]['name'],'status':'created'});}get[a0_0x38390a(0x344)](){const _0x2e4476=a0_0x38390a;return this[_0x2e4476(0x2d6)][_0x2e4476(0x2c9)];}get[a0_0x38390a(0x46f)](){const _0x173795=a0_0x38390a;return this[_0x173795(0x2d6)][_0x173795(0x46f)];}async['getProfileName'](){const _0x12661c=a0_0x38390a;let _0x338242=this[_0x12661c(0x510)][_0x12661c(0x149)]?.['name']??this[_0x12661c(0x510)][_0x12661c(0x149)]?.[_0x12661c(0x29e)];if(!_0x338242){if(this[_0x12661c(0x575)][_0x12661c(0x1e3)]('DATABASE')['ENABLED']){let _0x1b9067=await R[_0x12661c(0x1d3)]()['db'](this[_0x12661c(0x575)][_0x12661c(0x1e3)]('DATABASE')[_0x12661c(0x685)][_0x12661c(0x63d)]+_0x12661c(0x113))[_0x12661c(0x197)](this[_0x12661c(0x344)])[_0x12661c(0x548)]({'_id':'creds'});if(_0x1b9067){let _0x5d6478=JSON[_0x12661c(0x455)](JSON['stringify'](_0x1b9067),w[_0x12661c(0x36f)][_0x12661c(0x300)]);_0x338242=_0x5d6478['me']?.['name']||_0x5d6478['me']?.[_0x12661c(0x29e)];}}else{if((0x0,_e[_0x12661c(0x108)])((0x0,Z[_0x12661c(0x518)])(V,this[_0x12661c(0x344)],_0x12661c(0x328)))){let _0xdae3ce=JSON[_0x12661c(0x455)]((0x0,_e['readFileSync'])((0x0,Z[_0x12661c(0x518)])(V,this['instanceName'],'creds.json'),{'encoding':_0x12661c(0x1b4)}));_0x338242=_0xdae3ce['me']?.[_0x12661c(0x2c9)]||_0xdae3ce['me']?.[_0x12661c(0x29e)];}}}return _0x338242;}get['profilePictureUrl'](){const _0x30e2fa=a0_0x38390a;return this[_0x30e2fa(0x2d6)][_0x30e2fa(0x2ce)];}get['qrCode'](){const _0x2b6304=a0_0x38390a;return{'code':this[_0x2b6304(0x2d6)][_0x2b6304(0x5e5)]?.[_0x2b6304(0x51f)],'base64':this['instance'][_0x2b6304(0x5e5)]?.['base64']};}async[a0_0x38390a(0x22f)](){const _0x5369cd=a0_0x38390a;let _0x5d5a2a=await this[_0x5369cd(0x129)][_0x5369cd(0x33c)][_0x5369cd(0x37e)](this[_0x5369cd(0x344)]);this['localWebhook'][_0x5369cd(0x386)]=_0x5d5a2a?.[_0x5369cd(0x386)],this[_0x5369cd(0x25c)][_0x5369cd(0xf9)]=_0x5d5a2a?.[_0x5369cd(0xf9)],this[_0x5369cd(0x25c)][_0x5369cd(0x5cf)]=_0x5d5a2a?.[_0x5369cd(0x5cf)],this[_0x5369cd(0x25c)][_0x5369cd(0x652)]=_0x5d5a2a?.[_0x5369cd(0x652)],this[_0x5369cd(0x25c)][_0x5369cd(0x2a6)]=_0x5d5a2a?.[_0x5369cd(0x2a6)],this['localWebhook'][_0x5369cd(0x50f)]=_0x5d5a2a?.['SEND_MESSAGE'],this[_0x5369cd(0x25c)][_0x5369cd(0x65a)]=_0x5d5a2a?.[_0x5369cd(0x65a)],this[_0x5369cd(0x25c)]['MESSAGES_UPDATE']=_0x5d5a2a?.[_0x5369cd(0x436)],this[_0x5369cd(0x25c)][_0x5369cd(0x31c)]=_0x5d5a2a?.[_0x5369cd(0x31c)],this[_0x5369cd(0x25c)][_0x5369cd(0x624)]=_0x5d5a2a?.[_0x5369cd(0x624)],this[_0x5369cd(0x25c)][_0x5369cd(0x2e8)]=_0x5d5a2a?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x5369cd(0x25c)][_0x5369cd(0x403)]=_0x5d5a2a?.['CHATS_SET'],this[_0x5369cd(0x25c)][_0x5369cd(0x212)]=_0x5d5a2a?.[_0x5369cd(0x212)],this['localWebhook']['CHATS_UPDATE']=_0x5d5a2a?.[_0x5369cd(0x573)],this[_0x5369cd(0x25c)]['CHATS_DELETE']=_0x5d5a2a?.[_0x5369cd(0x1f1)],this[_0x5369cd(0x25c)][_0x5369cd(0x13e)]=_0x5d5a2a?.[_0x5369cd(0x13e)],this['localWebhook'][_0x5369cd(0x1cd)]=_0x5d5a2a?.[_0x5369cd(0x1cd)],this[_0x5369cd(0x25c)]['CONTACTS_UPDATE']=_0x5d5a2a?.[_0x5369cd(0x627)],this['localWebhook'][_0x5369cd(0x360)]=_0x5d5a2a?.[_0x5369cd(0x360)],this[_0x5369cd(0x25c)][_0x5369cd(0x1e8)]=_0x5d5a2a?.[_0x5369cd(0x1e8)],this[_0x5369cd(0x25c)][_0x5369cd(0x3af)]=_0x5d5a2a?.[_0x5369cd(0x3af)];}async[a0_0x38390a(0x442)](_0x2e21f1){const _0x508068=a0_0x38390a;let _0x20f6ce=[_0x508068(0x195),_0x508068(0x386),_0x508068(0xf9),_0x508068(0x5cf),_0x508068(0x652),'QRCODE_UPDATED',_0x508068(0x436),_0x508068(0x65a),_0x508068(0x50f),_0x508068(0x31c),_0x508068(0x624),_0x508068(0x2e8),_0x508068(0x403),_0x508068(0x212),'CHATS_UPDATE','CHATS_DELETE',_0x508068(0x13e),_0x508068(0x1cd),_0x508068(0x627),'PRESENCE_UPDATE',_0x508068(0x1e8),_0x508068(0x3af)],_0x101d93={};return _0x20f6ce[_0x508068(0x5e6)](_0x28c058=>{_0x2e21f1[_0x28c058]!==void 0x0&&(_0x101d93[_0x28c058]=_0x2e21f1[_0x28c058]);}),await this[_0x508068(0x129)][_0x508068(0x33c)][_0x508068(0x2ff)](_0x101d93,this[_0x508068(0x344)]),Object[_0x508068(0x500)](this[_0x508068(0x25c)],_0x101d93),await this[_0x508068(0x129)][_0x508068(0x33c)][_0x508068(0x37e)](this['instanceName']);}async['findWebhook'](){const _0x46f072=a0_0x38390a;return await this[_0x46f072(0x129)][_0x46f072(0x33c)][_0x46f072(0x37e)](this['instanceName']);}async[a0_0x38390a(0x64a)](_0x493f73,_0x296449){const _0xaa198e=a0_0x38390a;let _0x5db50c=this['configService'][_0xaa198e(0x1e3)](_0xaa198e(0x3bf)),_0x16b2cc=_0x493f73[_0xaa198e(0x3ab)](/[\.-]/gm,'_')[_0xaa198e(0x1fe)](),_0x5478f6=this[_0xaa198e(0x25c)][_0xaa198e(0xf9)]&&(0x0,x['isURL'])(this[_0xaa198e(0x25c)][_0xaa198e(0x386)])?this['localWebhook'][_0xaa198e(0x386)]+(this[_0xaa198e(0x25c)][_0xaa198e(0x5cf)]?this[_0xaa198e(0x12f)][_0x493f73]:''):null,_0x45e652=_0x5db50c?.[_0xaa198e(0x3f7)],_0x2b41de=_0x45e652&&_0x45e652?.[_0xaa198e(0x659)]&&(0x0,x[_0xaa198e(0x2f3)])(_0x45e652[_0xaa198e(0x216)])?_0x45e652[_0xaa198e(0x216)]+(_0x5db50c['WEBHOOK_MAP']?this['webhookMap'][_0x493f73]:''):null,_0x4b6247=this['localWebhook'][_0x16b2cc],_0x4f356c=_0x5db50c?.[_0xaa198e(0x1b9)]?.[_0x16b2cc];if(_0x4b6247&&_0x5478f6)try{await le['default']['create']({'baseURL':_0x5478f6})[_0xaa198e(0x47b)]('',{'event':_0x493f73,'instance':this['instance'][_0xaa198e(0x2c9)],'data':_0x296449}),this[_0xaa198e(0x190)][_0xaa198e(0x508)](_0xaa198e(0x2b9)+_0x493f73+':\x20'+_0x5478f6);}catch(_0x5c7052){this[_0xaa198e(0x190)][_0xaa198e(0x182)](this[_0xaa198e(0x344)]+'\x20('+this['instance']['wuid']+_0xaa198e(0x483)+{'local':l[_0xaa198e(0x2c9)]+'.sendDataWebhook-local','message':_0x5c7052?.[_0xaa198e(0x32a)],'hostName':_0x5c7052?.['hostname'],'syscall':_0x5c7052?.[_0xaa198e(0x19b)],'code':_0x5c7052?.[_0xaa198e(0x51f)],'error':_0x5c7052?.[_0xaa198e(0x1f3)],'stack':_0x5c7052?.[_0xaa198e(0x13b)],'name':_0x5c7052?.['name']});}if(_0x4f356c&&_0x2b41de)try{await le[_0xaa198e(0x2d4)]['create']({'baseURL':_0x2b41de})[_0xaa198e(0x47b)]('',{'event':_0x493f73,'instance':this[_0xaa198e(0x2d6)][_0xaa198e(0x2c9)],'data':_0x296449}),this['logger'][_0xaa198e(0x508)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x493f73+':\x20'+_0x2b41de);}catch(_0x54b1dd){this[_0xaa198e(0x190)]['error'](this[_0xaa198e(0x344)]+'\x20('+this[_0xaa198e(0x2d6)][_0xaa198e(0x46f)]+_0xaa198e(0x483)+{'local':l[_0xaa198e(0x2c9)]+'.sendDataWebhook-global','message':_0x54b1dd?.[_0xaa198e(0x32a)],'hostName':_0x54b1dd?.['hostname'],'syscall':_0x54b1dd?.[_0xaa198e(0x19b)],'code':_0x54b1dd?.['code'],'error':_0x54b1dd?.['errno'],'stack':_0x54b1dd?.[_0xaa198e(0x13b)],'name':_0x54b1dd?.['name']});}}async[a0_0x38390a(0x3f9)]({qr:_0x45c26f,connection:_0x1ca4ab,lastDisconnect:_0x13bb83}){const _0x484b17=a0_0x38390a;if(_0x45c26f){if(this[_0x484b17(0x2d6)][_0x484b17(0x5e5)]['count']===this[_0x484b17(0x575)][_0x484b17(0x1e3)](_0x484b17(0x649))[_0x484b17(0x3c7)])return this[_0x484b17(0x64a)](_0x484b17(0x282),{'message':_0x484b17(0x4a3),'statusCode':w['DisconnectReason']['badSession']}),this[_0x484b17(0x64a)]('connection.update',{'instance':this[_0x484b17(0x2d6)][_0x484b17(0x2c9)],'state':_0x484b17(0x64c),'statusReason':w[_0x484b17(0x2cf)][_0x484b17(0x2e5)]}),this[_0x484b17(0x64a)](_0x484b17(0x13f),{'instance':this[_0x484b17(0x2d6)][_0x484b17(0x2c9)],'status':'removed'}),this[_0x484b17(0x609)]=!0x0,this[_0x484b17(0x1de)]['emit'](_0x484b17(0x13d),this[_0x484b17(0x2d6)][_0x484b17(0x2c9)]);this[_0x484b17(0x2d6)][_0x484b17(0x5e5)]['count']++;let _0x2cd237={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x484b17(0x335)}};ro[_0x484b17(0x2d4)]['toDataURL'](_0x45c26f,_0x2cd237,(_0xca6241,_0xac3928)=>{const _0x3810ca=_0x484b17;if(_0xca6241){this['logger'][_0x3810ca(0x182)](this[_0x3810ca(0x344)]+'\x20('+this['instance'][_0x3810ca(0x46f)]+_0x3810ca(0x203)+_0xca6241[_0x3810ca(0x2aa)]());return;}this[_0x3810ca(0x2d6)][_0x3810ca(0x5e5)][_0x3810ca(0x2fe)]=_0xac3928,this[_0x3810ca(0x2d6)][_0x3810ca(0x5e5)]['code']=_0x45c26f,this[_0x3810ca(0x64a)](_0x3810ca(0x282),{'qrcode':{'instance':this['instance'][_0x3810ca(0x2c9)],'code':_0x45c26f,'base64':_0xac3928}});}),no[_0x484b17(0x2d4)][_0x484b17(0x1b7)](_0x45c26f,{'small':!0x0},_0x3a2705=>this[_0x484b17(0x190)][_0x484b17(0x508)](_0x484b17(0x1f9)+this[_0x484b17(0x2d6)][_0x484b17(0x2c9)]+',\x20qrcodeCount:\x20'+this[_0x484b17(0x2d6)][_0x484b17(0x5e5)][_0x484b17(0x1c5)]+_0x484b17(0x40b)+_0x3a2705));}if(_0x1ca4ab&&(this[_0x484b17(0x41c)]={'state':_0x1ca4ab,'statusReason':_0x13bb83?.[_0x484b17(0x182)]?.[_0x484b17(0x477)]?.['statusCode']??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x484b17(0x2d6)][_0x484b17(0x2c9)],...this[_0x484b17(0x41c)]})),_0x1ca4ab===_0x484b17(0x625)){if(this[_0x484b17(0x5f9)]++,this[_0x484b17(0x654)][_0x484b17(0x1d9)](Date[_0x484b17(0x29d)]()),this['reconnectTimestamps']=this[_0x484b17(0x654)]['filter'](_0x2902cd=>Date[_0x484b17(0x29d)]()-_0x2902cd<this['RECONNECT_TIME_FRAME']),_0x13bb83[_0x484b17(0x182)]?.[_0x484b17(0x477)]?.[_0x484b17(0x3b7)]!==w['DisconnectReason'][_0x484b17(0x54c)]&&this[_0x484b17(0x654)][_0x484b17(0x523)]<=this[_0x484b17(0x413)])await this[_0x484b17(0x55f)]();else{this[_0x484b17(0x64a)](_0x484b17(0x13f),{'instance':this['instance'][_0x484b17(0x2c9)],'status':_0x484b17(0x16c)}),this[_0x484b17(0x4c4)]=!0x1;try{this[_0x484b17(0x190)][_0x484b17(0x240)](this[_0x484b17(0x344)]+'\x20('+this[_0x484b17(0x2d6)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...');let _0x2c8b81={'where':{'owner':this[_0x484b17(0x2d6)][_0x484b17(0x46f)]}},_0x156f8e=(await this[_0x484b17(0x129)][_0x484b17(0x2b4)][_0x484b17(0x37e)](_0x2c8b81))[_0x484b17(0x523)];await this['repository'][_0x484b17(0x2b4)][_0x484b17(0x3d9)](_0x2c8b81),this['logger']['verbose'](this[_0x484b17(0x344)]+'\x20('+this['instance'][_0x484b17(0x46f)]+'):\x20Deletados\x20'+_0x156f8e+_0x484b17(0x50e));}catch(_0x1c0ed1){console['error'](_0x484b17(0x237),_0x1c0ed1);}try{this['logger'][_0x484b17(0x240)](this[_0x484b17(0x344)]+'\x20('+this['instance'][_0x484b17(0x46f)]+_0x484b17(0x3da));let _0x26aa87={'where':{'owner':this[_0x484b17(0x2d6)]['wuid']}},_0x2bafd6=(await this[_0x484b17(0x129)][_0x484b17(0x32a)]['find'](_0x26aa87))[_0x484b17(0x523)];await this[_0x484b17(0x129)][_0x484b17(0x32a)][_0x484b17(0x3d9)](_0x26aa87),this[_0x484b17(0x190)][_0x484b17(0x240)](this[_0x484b17(0x344)]+'\x20('+this[_0x484b17(0x2d6)][_0x484b17(0x46f)]+_0x484b17(0x366)+_0x2bafd6+_0x484b17(0x446));}catch(_0x2cdf0f){console['error'](_0x484b17(0x3e2),_0x2cdf0f);}this[_0x484b17(0x10b)]!==null&&(this[_0x484b17(0x190)][_0x484b17(0x240)](this[_0x484b17(0x344)]+'\x20('+this[_0x484b17(0x2d6)][_0x484b17(0x46f)]+_0x484b17(0x676)),clearInterval(this['delayMessage']),this[_0x484b17(0x10b)]=null),this[_0x484b17(0x190)]['verbose'](this[_0x484b17(0x344)]+'\x20('+this[_0x484b17(0x2d6)]['wuid']+_0x484b17(0x28c)),this[_0x484b17(0x312)]=null,this[_0x484b17(0x1de)]['emit'](_0x484b17(0x644),this[_0x484b17(0x2d6)][_0x484b17(0x2c9)],_0x484b17(0x4d4)),this[_0x484b17(0x510)]?.['ws']?.['close'](),this['client']['end'](new Error(_0x484b17(0x206)));}}if(_0x1ca4ab==='open'){this[_0x484b17(0x3dc)],this[_0x484b17(0x2d6)][_0x484b17(0x46f)]=this[_0x484b17(0x510)][_0x484b17(0x149)]['id'][_0x484b17(0x3ab)](/:\d+/,'')[_0x484b17(0x3ab)]('@s.whatsapp.net',''),this['instance'][_0x484b17(0x2ce)]=(await this['profilePicture'](this['instance'][_0x484b17(0x46f)]+_0x484b17(0x342)))[_0x484b17(0x2ce)];let _0x2e52a5='Número:\x20'+this[_0x484b17(0x2d6)][_0x484b17(0x46f)],_0x1af2f8=0x28,_0x504e86=Math['floor']((_0x1af2f8-_0x2e52a5[_0x484b17(0x523)])/0x2),_0x2528ab='\x20'[_0x484b17(0x39a)](_0x504e86),_0x1a8755=_0x484b17(0x41b),_0x4291ea='Instância:\x20'+this[_0x484b17(0x2d6)][_0x484b17(0x2c9)],_0x1e747b=(''+_0x2528ab+_0x2e52a5+_0x2528ab)[_0x484b17(0x55b)](_0x1af2f8,'\x20'),_0x53e346=(''+_0x2528ab+_0x1a8755+_0x2528ab)[_0x484b17(0x55b)](_0x1af2f8,'\x20'),_0x19a488=(''+_0x2528ab+_0x4291ea+_0x2528ab)[_0x484b17(0x55b)](_0x1af2f8,'\x20'),_0x23e0f8=Math['max'](_0x1e747b[_0x484b17(0x523)],_0x53e346['length'],_0x19a488[_0x484b17(0x523)]),_0x53c084=_0x1e747b[_0x484b17(0x55b)](_0x23e0f8,'\x20'),_0x40a103=_0x53e346[_0x484b17(0x55b)](_0x23e0f8,'\x20'),_0x2bc04e=_0x19a488['padEnd'](_0x23e0f8,'\x20');this['logger']['info']((_0x484b17(0x396)+'─'[_0x484b17(0x39a)](_0x23e0f8)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x40a103+_0x484b17(0x5ad)+_0x2bc04e+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x53c084+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x23e0f8)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x484b17(0x4c4)]=!0x0;}}[a0_0x38390a(0x3dc)](){const _0x2abe30=a0_0x38390a;this[_0x2abe30(0x5f9)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x38390a(0x27f)](_0x1293bf,_0x25af09=!0x1){const _0x3e60f7=a0_0x38390a;try{let _0x1e2910=await this['repository']['message'][_0x3e60f7(0x37e)]({'where':{'owner':this[_0x3e60f7(0x2d6)][_0x3e60f7(0x46f)],'key':{'id':_0x1293bf['id']}}});return _0x25af09?_0x1e2910[0x0]:_0x1e2910[0x0][_0x3e60f7(0x32a)];}catch{return{'conversation':''};}}[a0_0x38390a(0x24c)](){const _0x27ec94=a0_0x38390a;let _0x4ce8d1=this[_0x27ec94(0x575)][_0x27ec94(0x1e3)]('STORE'),_0x471460=this[_0x27ec94(0x575)][_0x27ec94(0x1e3)](_0x27ec94(0x288));_0x4ce8d1?.[_0x27ec94(0x2a2)]&&!_0x471460['ENABLED']&&setInterval(()=>{const _0x434900=_0x27ec94;try{for(let [_0x321d8c,_0x51c277]of Object[_0x434900(0x5eb)](_0x4ce8d1))_0x51c277===!0x0&&(0x0,lo[_0x434900(0x258)])(_0x434900(0x52d)+(0x0,Z[_0x434900(0x518)])(this[_0x434900(0x497)],_0x321d8c['toLowerCase'](),this[_0x434900(0x2d6)][_0x434900(0x46f)])+_0x434900(0x691));}catch{}},(_0x4ce8d1?.[_0x27ec94(0x2a2)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x1d2c91=a0_0x38390a;let _0x4dab50=this[_0x1d2c91(0x575)]['get']('DATABASE'),_0x143985=this[_0x1d2c91(0x575)]['get'](_0x1d2c91(0x1c3));return _0x143985?.[_0x1d2c91(0x659)]?await ys(_0x143985,this[_0x1d2c91(0x2d6)][_0x1d2c91(0x2c9)]):_0x4dab50['ENABLED']?await ws(this[_0x1d2c91(0x2d6)][_0x1d2c91(0x2c9)]):await(0x0,w['useMultiFileAuthState'])((0x0,Z[_0x1d2c91(0x518)])(V,this[_0x1d2c91(0x2d6)][_0x1d2c91(0x2c9)]));}async['AutomateFunctions'](){const _0xa66423=a0_0x38390a;let _0x4e83ee=()=>Math[_0xa66423(0x399)](Math[_0xa66423(0x5f7)]()*0x2711)+0x7d0,_0x293ad0=async()=>{const _0x4b7716=_0xa66423;if(!this[_0x4b7716(0x4c4)]){this[_0x4b7716(0x190)][_0x4b7716(0x240)](_0x4b7716(0x5e8)),this[_0x4b7716(0x39b)]=!0x1;return;}if(this[_0x4b7716(0x2d6)][_0x4b7716(0x46f)]&&this[_0x4b7716(0x312)]&&this['delayMessage']!==null&&this[_0x4b7716(0x10b)]!==void 0x0){let _0x37d685=Math['round'](this[_0x4b7716(0x10b)]/0xea60);this[_0x4b7716(0x190)][_0x4b7716(0x240)](this['instanceName']+'\x20('+this[_0x4b7716(0x2d6)][_0x4b7716(0x46f)]+_0x4b7716(0x3fe)+_0x37d685+_0x4b7716(0x2a8)),this[_0x4b7716(0x39b)]=!0x1;return;}else this[_0x4b7716(0x2d6)]['wuid']&&(this[_0x4b7716(0x190)][_0x4b7716(0x240)](this[_0x4b7716(0x344)]+'\x20('+this[_0x4b7716(0x2d6)][_0x4b7716(0x46f)]+_0x4b7716(0x332)),this[_0x4b7716(0x312)]||await this[_0x4b7716(0x44e)](),(this[_0x4b7716(0x10b)]===null||this['delayMessage']===void 0x0)&&await this[_0x4b7716(0x214)]());if(this[_0x4b7716(0x39b)]){let _0x18bd73=_0x4e83ee();this[_0x4b7716(0x190)]['verbose'](this[_0x4b7716(0x344)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x18bd73/0x3e8+_0x4b7716(0x584)),setTimeout(_0x293ad0,_0x18bd73);}};if(this[_0xa66423(0x39b)])return;this[_0xa66423(0x39b)]=!0x0;let _0x3584fa=_0x4e83ee();setTimeout(_0x293ad0,_0x3584fa);}async[a0_0x38390a(0x55f)](){const _0x3a9427=a0_0x38390a;try{this[_0x3a9427(0x22f)](),this['instance'][_0x3a9427(0x6a6)]=await this[_0x3a9427(0x43b)]();let {version:_0x321495}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x553292=this[_0x3a9427(0x575)][_0x3a9427(0x1e3)]('CONFIG_SESSION_PHONE'),_0x29948b=[_0x553292[_0x3a9427(0x226)],_0x553292[_0x3a9427(0x634)],(0x0,co[_0x3a9427(0x5ab)])()],_0x5fa1c1={'auth':{'creds':this[_0x3a9427(0x2d6)][_0x3a9427(0x6a6)][_0x3a9427(0x2ab)][_0x3a9427(0x5d4)],'keys':(0x0,w[_0x3a9427(0x51c)])(this['instance']['authState'][_0x3a9427(0x2ab)]['keys'],(0x0,$t[_0x3a9427(0x2d4)])({'level':'error'}))},'logger':(0x0,$t[_0x3a9427(0x2d4)])({'level':_0x3a9427(0x182)}),'printQRInTerminal':!0x1,'browser':_0x29948b,'version':_0x321495,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x3a9427(0x424)],'getMessage':async _0x203414=>await this[_0x3a9427(0x27f)](_0x203414),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x539e0c=>(!!(_0x539e0c[_0x3a9427(0x423)]||_0x539e0c[_0x3a9427(0x1a2)])&&(_0x539e0c={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x539e0c}}}),_0x539e0c)};return this['endSession']=!0x1,this['client']=(0x0,w[_0x3a9427(0x2d4)])(_0x5fa1c1),this[_0x3a9427(0x66c)](),this[_0x3a9427(0x510)];}catch(_0xca05e8){throw this['logger'][_0x3a9427(0x182)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3a9427(0x483)+_0xca05e8),new A(_0xca05e8?.[_0x3a9427(0x2aa)]());}}[a0_0x38390a(0x66c)](){const _0x5bd8d2=a0_0x38390a;this['client']['ev'][_0x5bd8d2(0x2f1)](_0x1b8bf9=>{const _0x26fa53=_0x5bd8d2;if(!this[_0x26fa53(0x609)]){let _0x4d8b27=this[_0x26fa53(0x575)]['get'](_0x26fa53(0x288));if(_0x1b8bf9['connection.update']&&this[_0x26fa53(0x3f9)](_0x1b8bf9[_0x26fa53(0x595)]),_0x1b8bf9['creds.update']&&this[_0x26fa53(0x2d6)][_0x26fa53(0x6a6)]['saveCreds'](),_0x1b8bf9[_0x26fa53(0x62d)]){let _0xbc40b9=_0x1b8bf9['messaging-history.set'];this[_0x26fa53(0x18e)]['messaging-history.set'](_0xbc40b9,_0x4d8b27);}if(_0x1b8bf9[_0x26fa53(0x22c)]){let _0x77244d=_0x1b8bf9[_0x26fa53(0x22c)];this[_0x26fa53(0x18e)][_0x26fa53(0x22c)](_0x77244d,_0x4d8b27);}if(_0x1b8bf9[_0x26fa53(0x5fe)]){let _0x2b9a5c=_0x1b8bf9['messages.update'];this['messageHandle'][_0x26fa53(0x5fe)](_0x2b9a5c,_0x4d8b27);}if(_0x1b8bf9[_0x26fa53(0x372)]){let _0x5c8bea=_0x1b8bf9[_0x26fa53(0x372)];this[_0x26fa53(0x64a)](_0x26fa53(0x372),_0x5c8bea);}if(_0x1b8bf9[_0x26fa53(0x1df)]){let _0x556e2d=_0x1b8bf9[_0x26fa53(0x1df)];this[_0x26fa53(0x545)][_0x26fa53(0x1df)](_0x556e2d);}if(_0x1b8bf9[_0x26fa53(0x187)]){let _0x467e0f=_0x1b8bf9['groups.update'];this['groupHandler']['groups.update'](_0x467e0f);}if(_0x1b8bf9[_0x26fa53(0x61d)]){let _0x280d1e=_0x1b8bf9[_0x26fa53(0x61d)];this[_0x26fa53(0x545)][_0x26fa53(0x61d)](_0x280d1e);}if(_0x1b8bf9['chats.upsert']){let _0x30aca8=_0x1b8bf9[_0x26fa53(0x666)];this[_0x26fa53(0x5c4)][_0x26fa53(0x666)](_0x30aca8,_0x4d8b27);}if(_0x1b8bf9[_0x26fa53(0x522)]){let _0x44977b=_0x1b8bf9[_0x26fa53(0x522)];this[_0x26fa53(0x5c4)][_0x26fa53(0x522)](_0x44977b,_0x4d8b27);}if(_0x1b8bf9[_0x26fa53(0x569)]){let _0x52db30=_0x1b8bf9[_0x26fa53(0x569)];this[_0x26fa53(0x5c4)][_0x26fa53(0x569)](_0x52db30);}if(_0x1b8bf9[_0x26fa53(0x5e9)]){let _0x5b7523=_0x1b8bf9['contacts.upsert'];this[_0x26fa53(0x427)][_0x26fa53(0x5e9)](_0x5b7523,_0x4d8b27);}if(_0x1b8bf9[_0x26fa53(0x35c)]){let _0x21ea0f=_0x1b8bf9[_0x26fa53(0x35c)];this[_0x26fa53(0x427)]['contacts.update'](_0x21ea0f,_0x4d8b27);}}});}['formatBRNumber'](_0x2b32a3){const _0x538bf7=a0_0x38390a;let _0x127001=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x538bf7(0x51b)](_0x2b32a3);if(_0x127001&&_0x127001[0x1]==='55'){let _0x5db049=_0x127001[0x2],_0x39a0b6=_0x127001[0x3],_0x365163=_0x127001[0x4];if(_0x5db049>='31'&&_0x39a0b6==='9')return _0x127001[0x1]+_0x5db049+_0x365163;}return _0x2b32a3;}['createJid'](_0x737e7f){const _0x398b8b=a0_0x38390a;return _0x737e7f['includes'](_0x398b8b(0x2e1))||_0x737e7f['includes'](_0x398b8b(0x342))||_0x737e7f[_0x398b8b(0x264)](_0x398b8b(0x547))?_0x737e7f:(_0x737e7f=_0x737e7f?.[_0x398b8b(0x3ab)](/\s/g,'')[_0x398b8b(0x3ab)](/\+/g,'')[_0x398b8b(0x3ab)](/\(/g,'')[_0x398b8b(0x3ab)](/\)/g,'')['split'](/\:/)[0x0][_0x398b8b(0x142)]('@')[0x0],_0x737e7f[_0x398b8b(0x523)]>=0x12?(_0x737e7f=_0x737e7f[_0x398b8b(0x3ab)](/[^\d-]/g,''),_0x737e7f+'@g.us'):(_0x737e7f=_0x737e7f['replace'](/\D/g,''),this['formatBRNumber'](_0x737e7f)+_0x398b8b(0x342)));}async[a0_0x38390a(0x661)](_0x19ffdc){const _0x2654c1=a0_0x38390a;let _0x2b5da9=this[_0x2654c1(0x176)](_0x19ffdc);try{return{'wuid':_0x2b5da9,'profilePictureUrl':await this['client'][_0x2654c1(0x2ce)](_0x2b5da9,_0x2654c1(0x5b1))};}catch{return{'wuid':_0x2b5da9,'profilePictureUrl':null};}}async[a0_0x38390a(0x177)](_0x5beb43,_0x3786fa,_0x1124c3){const _0x2ee917=a0_0x38390a;let _0x402f07=(await this['whatsappNumber']({'numbers':[_0x5beb43]}))[0x0];if(!_0x402f07[_0x2ee917(0x34a)]&&!(0x0,w[_0x2ee917(0x1f0)])(_0x402f07[_0x2ee917(0x361)])&&!_0x402f07[_0x2ee917(0x361)]['includes']('@broadcast'))throw new m(_0x402f07);let _0x3a9dbe=_0x402f07['jid'];try{_0x1124c3?.['delay']&&(await this[_0x2ee917(0x510)][_0x2ee917(0x5aa)](_0x3a9dbe),await this[_0x2ee917(0x510)][_0x2ee917(0x645)](_0x1124c3?.[_0x2ee917(0x337)]??_0x2ee917(0x4bf),_0x3a9dbe),await(0x0,w[_0x2ee917(0x218)])(_0x1124c3['delay']),await this[_0x2ee917(0x510)]['sendPresenceUpdate'](_0x2ee917(0x2cc),_0x3a9dbe));let _0x3270c4=_0x1124c3?.[_0x2ee917(0x36d)]!=!0x1?void 0x0:!0x1,_0x3f7c26;if(_0x1124c3?.[_0x2ee917(0x1e7)]){let _0x5eb273=_0x1124c3?.[_0x2ee917(0x1e7)],_0x61d656=_0x5eb273?.[_0x2ee917(0x32a)]?_0x5eb273:await this['getMessage'](_0x5eb273['key'],!0x0);if(!_0x61d656)throw _0x2ee917(0x100);_0x3f7c26=_0x61d656;}let _0x5c0a57;if((0x0,w[_0x2ee917(0x1f0)])(_0x3a9dbe))try{let _0x2388cd=await this[_0x2ee917(0x510)][_0x2ee917(0x196)](_0x3a9dbe);if(!_0x2388cd)throw new L(_0x2ee917(0x64f));_0x1124c3?.[_0x2ee917(0x13a)]&&(_0x1124c3[_0x2ee917(0x13a)]?.['everyOne']?_0x5c0a57=_0x2388cd[_0x2ee917(0x65d)][_0x2ee917(0x1da)](_0x68784f=>_0x68784f['id']):_0x1124c3['mentions']?.[_0x2ee917(0x430)]?.[_0x2ee917(0x523)]&&(_0x5c0a57=_0x1124c3[_0x2ee917(0x13a)][_0x2ee917(0x430)][_0x2ee917(0x1da)](_0x3db168=>{const _0x3fd020=_0x2ee917;let _0x5709e7=this[_0x3fd020(0x176)](_0x3db168);return(0x0,w[_0x3fd020(0x1f0)])(_0x5709e7)?null:_0x5709e7;})));}catch{throw new L(_0x2ee917(0x64f));}let _0x28c329=await((async()=>{const _0xfdc364=_0x2ee917;let _0x3715a6={'quoted':_0x3f7c26};return!_0x3786fa[_0xfdc364(0x35e)]&&!_0x3786fa[_0xfdc364(0x333)]&&!_0x3786fa[_0xfdc364(0x1bd)]&&!_0x3786fa['conversation']&&_0x3a9dbe!==_0xfdc364(0x354)&&!_0x3786fa[_0xfdc364(0x35e)]?await this[_0xfdc364(0x510)][_0xfdc364(0x107)](_0x3a9dbe,{'forward':{'key':{'remoteJid':this[_0xfdc364(0x2d6)][_0xfdc364(0x46f)],'fromMe':!0x0},'message':_0x3786fa},'mentions':_0x5c0a57},_0x3715a6):_0x3786fa['conversation']?await this[_0xfdc364(0x510)][_0xfdc364(0x107)](_0x3a9dbe,{'text':_0x3786fa['conversation'],'mentions':_0x5c0a57,'linkPreview':_0x3270c4},_0x3715a6):_0x3a9dbe===_0xfdc364(0x354)?await this[_0xfdc364(0x510)][_0xfdc364(0x107)](_0x3a9dbe,_0x3786fa[_0xfdc364(0x13c)][_0xfdc364(0x4f1)],{'backgroundColor':_0x3786fa[_0xfdc364(0x13c)][_0xfdc364(0x469)][_0xfdc364(0x397)],'font':_0x3786fa[_0xfdc364(0x13c)][_0xfdc364(0x469)][_0xfdc364(0x114)],'statusJidList':_0x3786fa['status'][_0xfdc364(0x469)]['statusJidList']}):await this[_0xfdc364(0x510)][_0xfdc364(0x107)](_0x3a9dbe,_0x3786fa,_0x3715a6);})()),{message_normalized:_0x30ad85}=this['normalizeMessage'](_0x28c329[_0x2ee917(0x32a)],q(_0x28c329['message']),null),_0x3f2470={'key':_0x28c329[_0x2ee917(0x378)],'pushName':_0x28c329[_0x2ee917(0x50b)],'message':{..._0x28c329[_0x2ee917(0x32a)]},'messageType':q(_0x28c329[_0x2ee917(0x32a)]),'message_normalized':{'key':_0x28c329[_0x2ee917(0x378)],'pushName':_0x28c329['pushName'],'messageTimestamp':_0x28c329[_0x2ee917(0x633)]&&_0x28c329[_0x2ee917(0x633)][_0x2ee917(0x2aa)]()[_0x2ee917(0x523)]<0xd?_0x28c329[_0x2ee917(0x633)]*0x3e8:_0x28c329[_0x2ee917(0x633)]||null,'source':(0x0,w['getDevice'])(_0x28c329['key']['id']),..._0x30ad85},'messageTimestamp':_0x28c329[_0x2ee917(0x633)]&&_0x28c329['messageTimestamp']['toString']()['length']<0xd?_0x28c329[_0x2ee917(0x633)]*0x3e8:_0x28c329['messageTimestamp']||null,'owner':this[_0x2ee917(0x2d6)]['wuid'],'source':(0x0,w[_0x2ee917(0x495)])(_0x28c329[_0x2ee917(0x378)]['id'])};return this[_0x2ee917(0x190)]['log'](_0x3f2470),await this[_0x2ee917(0x64a)](_0x2ee917(0x433),_0x3f2470),H(this[_0x2ee917(0x344)],'messages',{'message':_0x3f2470}),this['updateChatWithMessage'](this[_0x2ee917(0x575)][_0x2ee917(0x1e3)]('DATABASE'),_0x3f2470,_0x2ee917(0x50f)),await this[_0x2ee917(0x129)]['message'][_0x2ee917(0x2b8)]([_0x3f2470],this[_0x2ee917(0x575)]['get']('DATABASE')[_0x2ee917(0x659)]),_0x28c329;}catch(_0x23f930){throw this[_0x2ee917(0x190)]['error'](this[_0x2ee917(0x344)]+'\x20('+this[_0x2ee917(0x2d6)][_0x2ee917(0x46f)]+_0x2ee917(0x483)+_0x23f930['toString']()),new m(_0x23f930['toString']());}}get[a0_0x38390a(0x304)](){const _0x5be113=a0_0x38390a;return this[_0x5be113(0x41c)];}async['textMessage'](_0xb2682b){const _0x29f503=a0_0x38390a;let _0x43af41=this[_0x29f503(0x575)][_0x29f503(0x1e3)](_0x29f503(0x181)),_0x9a50ce=this[_0x29f503(0x575)][_0x29f503(0x1e3)]('TRIAL_INSTANCE_NAME');return _0x9a50ce&&this['instanceName'][_0x29f503(0x564)]()['includes'](_0x9a50ce[_0x29f503(0x564)]())&&(_0xb2682b['textMessage'][_0x29f503(0x143)]+='\x0a\x0a'+_0x43af41),await this[_0x29f503(0x177)](_0xb2682b[_0x29f503(0x364)],{'conversation':_0xb2682b[_0x29f503(0x1e0)][_0x29f503(0x143)]},_0xb2682b?.[_0x29f503(0x376)]);}async[a0_0x38390a(0x587)](_0x4db94e){const _0x92f933=a0_0x38390a;if(!_0x4db94e[_0x92f933(0x188)])throw new m('Type\x20is\x20required');if(!_0x4db94e[_0x92f933(0x4f1)])throw new m('Content\x20is\x20required');if(_0x4db94e[_0x92f933(0x243)]){let _0x1f4868=await this['repository'][_0x92f933(0x37c)][_0x92f933(0x37e)]({'where':{'owner':this[_0x92f933(0x2d6)]['wuid']}});if(!_0x1f4868[_0x92f933(0x523)])throw new m(_0x92f933(0x2db));_0x4db94e['statusJidList']=_0x1f4868[_0x92f933(0x4ba)](_0xb705da=>_0xb705da[_0x92f933(0x50b)])[_0x92f933(0x1da)](_0x1da66e=>_0x1da66e['id']);}if(!_0x4db94e[_0x92f933(0x133)]?.[_0x92f933(0x523)]&&!_0x4db94e['allContacts'])throw new m('StatusJidList\x20is\x20required');if(_0x4db94e['type']===_0x92f933(0x143)){if(!_0x4db94e['backgroundColor'])throw new m(_0x92f933(0x3ba));if(!_0x4db94e['font'])throw new m(_0x92f933(0x41f));return{'content':{'text':_0x4db94e[_0x92f933(0x4f1)]},'option':{'backgroundColor':_0x4db94e[_0x92f933(0x397)],'font':_0x4db94e[_0x92f933(0x114)],'statusJidList':_0x4db94e[_0x92f933(0x133)]}};}if(_0x4db94e[_0x92f933(0x188)]==='image')return{'content':{'image':{'url':_0x4db94e[_0x92f933(0x4f1)]},'caption':_0x4db94e[_0x92f933(0x1a7)]},'option':{'statusJidList':_0x4db94e[_0x92f933(0x133)]}};if(_0x4db94e[_0x92f933(0x188)]===_0x92f933(0x404))return{'content':{'video':{'url':_0x4db94e[_0x92f933(0x4f1)]},'caption':_0x4db94e['caption']},'option':{'statusJidList':_0x4db94e['statusJidList']}};if(_0x4db94e['type']==='audio'){let _0x20c160;if((0x0,x['isURL'])(_0x4db94e[_0x92f933(0x4f1)])){let _0x173f21=await le[_0x92f933(0x2d4)]['get'](_0x4db94e['content'],{'responseType':_0x92f933(0x105)});if(_0x20c160=Buffer['from'](_0x173f21[_0x92f933(0x256)]),_0x4db94e[_0x92f933(0x4f1)][_0x92f933(0x6ad)](_0x92f933(0x418)))try{_0x20c160=await this['convertaudio'](_0x20c160);}catch(_0x2172c7){throw new A(_0x92f933(0x375)+_0x2172c7[_0x92f933(0x32a)]);}else _0x20c160=Buffer[_0x92f933(0x1bf)](_0x4db94e[_0x92f933(0x4f1)],_0x92f933(0x2fe));let _0x1bb320=_0x20c160;return{'content':{'audio':Buffer[_0x92f933(0x1bf)](_0x1bb320,_0x92f933(0x2fe)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},'option':{'statusJidList':_0x4db94e[_0x92f933(0x133)]}};}else throw new A();}throw new m(_0x92f933(0x686));}async[a0_0x38390a(0x14a)](_0x4ee584){const _0xb9b01f=a0_0x38390a;return await this[_0xb9b01f(0x177)](_0xb9b01f(0x354),{'status':await this[_0xb9b01f(0x587)](_0x4ee584['statusMessage'])});}async[a0_0x38390a(0x496)](_0x1a11b4){const _0x4c2ea5=a0_0x38390a;try{let _0x530bda=await(0x0,w[_0x4c2ea5(0x4d8)])({[_0x1a11b4[_0x4c2ea5(0x4ca)]]:(0x0,x['isURL'])(_0x1a11b4[_0x4c2ea5(0x419)])?{'url':_0x1a11b4['media']}:Buffer[_0x4c2ea5(0x1bf)](_0x1a11b4[_0x4c2ea5(0x419)],'base64')},{'upload':this[_0x4c2ea5(0x510)][_0x4c2ea5(0x5cc)]}),_0x2ff973=_0x1a11b4[_0x4c2ea5(0x4ca)]+'Message';if(_0x1a11b4[_0x4c2ea5(0x4ca)]===_0x4c2ea5(0x4aa)&&!_0x1a11b4[_0x4c2ea5(0x662)]){let _0x26d846=new RegExp(/.*\/(.+?)\./)[_0x4c2ea5(0x51b)](_0x1a11b4[_0x4c2ea5(0x419)]);_0x1a11b4[_0x4c2ea5(0x662)]=_0x26d846[0x1];}let _0x267b69;(0x0,x['isURL'])(_0x1a11b4[_0x4c2ea5(0x419)])?_0x267b69=(0x0,bs['getMIMEType'])(_0x1a11b4[_0x4c2ea5(0x419)]):_0x267b69=(0x0,bs[_0x4c2ea5(0x67f)])(_0x1a11b4[_0x4c2ea5(0x662)]);let _0x237a7f=this[_0x4c2ea5(0x575)][_0x4c2ea5(0x1e3)](_0x4c2ea5(0x181)),_0x59ff11=this['configService']['get'](_0x4c2ea5(0x4fe));return _0x59ff11&&this[_0x4c2ea5(0x344)]['toLowerCase']()['includes'](_0x59ff11['toLowerCase']())&&(_0x1a11b4['caption']+='\x0a\x0a'+_0x237a7f),_0x530bda[_0x2ff973][_0x4c2ea5(0x1a7)]=_0x1a11b4?.['caption'],_0x530bda[_0x2ff973]['mimetype']=_0x267b69,_0x530bda[_0x2ff973][_0x4c2ea5(0x662)]=_0x1a11b4['fileName'],_0x1a11b4[_0x4c2ea5(0x4ca)]===_0x4c2ea5(0x404)&&(_0x530bda[_0x2ff973][_0x4c2ea5(0x245)]=Uint8Array[_0x4c2ea5(0x1bf)]((0x0,_e['readFileSync'])((0x0,Z[_0x4c2ea5(0x518)])(process[_0x4c2ea5(0x628)](),_0x4c2ea5(0x462)))),_0x530bda[_0x2ff973]['gifPlayback']=!0x1),(0x0,w[_0x4c2ea5(0x672)])('',{[_0x2ff973]:{..._0x530bda[_0x2ff973]}},{'userJid':this[_0x4c2ea5(0x2d6)][_0x4c2ea5(0x46f)]});}catch(_0xf7ce95){throw this[_0x4c2ea5(0x190)]['error'](this['instanceName']+'\x20('+this['instance'][_0x4c2ea5(0x46f)]+_0x4c2ea5(0x483)+_0xf7ce95),new A(_0xf7ce95?.[_0x4c2ea5(0x2aa)]()||_0xf7ce95);}}async['mediaMessage'](_0x5779d8){const _0x4f3462=a0_0x38390a;let _0x5bb565=await this[_0x4f3462(0x496)](_0x5779d8[_0x4f3462(0x4cf)]);return await this[_0x4f3462(0x177)](_0x5779d8[_0x4f3462(0x364)],{..._0x5bb565['message']},_0x5779d8?.[_0x4f3462(0x376)]);}async[a0_0x38390a(0x409)](_0xef909f){const _0x2e4939=a0_0x38390a;return await this[_0x2e4939(0x177)](_0xef909f[_0x2e4939(0x364)],{'sticker':{'url':_0xef909f[_0x2e4939(0x35a)][_0x2e4939(0x5b1)]}},_0xef909f?.[_0x2e4939(0x376)]);}async['audioWhatsapp'](_0x5e3979){const _0xf23bbe=a0_0x38390a;let _0x40081c;if((0x0,x['isURL'])(_0x5e3979[_0xf23bbe(0x3d7)][_0xf23bbe(0x35e)])){let _0x216242=await le[_0xf23bbe(0x2d4)][_0xf23bbe(0x1e3)](_0x5e3979['audioMessage']['audio'],{'responseType':_0xf23bbe(0x105)});if(_0x40081c=Buffer[_0xf23bbe(0x1bf)](_0x216242[_0xf23bbe(0x256)]),_0x5e3979[_0xf23bbe(0x3d7)][_0xf23bbe(0x35e)][_0xf23bbe(0x6ad)](_0xf23bbe(0x418)))try{_0x40081c=await this[_0xf23bbe(0x377)](_0x40081c);}catch(_0x5ca90b){throw new A(_0xf23bbe(0x375)+_0x5ca90b['message']);}}else _0x40081c=Buffer['from'](_0x5e3979[_0xf23bbe(0x3d7)][_0xf23bbe(0x35e)],_0xf23bbe(0x2fe));let _0x33b01f=_0x40081c;return this[_0xf23bbe(0x177)](_0x5e3979[_0xf23bbe(0x364)],{'audio':_0x33b01f,'mimetype':'audio/ogg;\x20codecs=opus','ptt':!0x0},{'presence':'recording','delay':_0x5e3979?.['options']?.['delay']});}async[a0_0x38390a(0x377)](_0x53d18e){return new Promise(async(_0x569cda,_0x394e50)=>{const _0x1ef399=a0_0x38ae;let _0x40befd=po[_0x1ef399(0x4be)][_0x1ef399(0x1bf)](_0x53d18e),_0x1bf463=new mo['WritableStreamBuffer']();(0x0,uo[_0x1ef399(0x2d4)])()[_0x1ef399(0x443)](_0x40befd)[_0x1ef399(0x30e)]()[_0x1ef399(0xfc)]([_0x1ef399(0x284),'libopus',_0x1ef399(0x542),_0x1ef399(0x3f0)])[_0x1ef399(0x327)](_0x1ef399(0x447))[_0x1ef399(0x219)](0x1)[_0x1ef399(0x110)](0xbb80)[_0x1ef399(0x382)](0x12)[_0x1ef399(0x572)](_0x1ef399(0x141))['output'](_0x1bf463)['on'](_0x1ef399(0x130),async()=>{const _0x43edd6=_0x1ef399;let _0x5f32f2=_0x1bf463[_0x43edd6(0x235)]();Buffer[_0x43edd6(0x4b7)](_0x5f32f2)?_0x569cda(_0x5f32f2):_0x394e50(new Error('Invalid\x20output'));})['on']('error',_0x21f2d8=>{_0x394e50(_0x21f2d8);})[_0x1ef399(0x37b)]();});}async[a0_0x38390a(0x505)](_0x362756){const _0x154630=a0_0x38390a;let _0x15ffcc={},_0x5a49d3=_0x154630(0x2ca);if(_0x362756[_0x154630(0x505)]?.[_0x154630(0x4cf)]){_0x5a49d3=_0x362756['buttonMessage']['mediaMessage']?.[_0x154630(0x4ca)][_0x154630(0x1fe)]()??_0x154630(0x2ca),_0x15ffcc[_0x154630(0x5b5)]=_0x5a49d3[_0x154630(0x564)]()+_0x154630(0x11a);let _0xd6d3ae=await this[_0x154630(0x496)](_0x362756['buttonMessage'][_0x154630(0x4cf)]);_0x15ffcc[_0x154630(0x32a)]=_0xd6d3ae['message'][_0x15ffcc[_0x154630(0x5b5)]],_0x15ffcc[_0x154630(0x516)]='*'+_0x362756[_0x154630(0x505)][_0x154630(0x34f)]+_0x154630(0x47c)+_0x362756[_0x154630(0x505)][_0x154630(0x24a)];}let _0x471c95={'text':_0x362756['buttonMessage']['buttons']['map'](_0x4c22d3=>_0x4c22d3['buttonText']),'ids':_0x362756[_0x154630(0x505)][_0x154630(0x570)][_0x154630(0x1da)](_0x1d0698=>_0x1d0698[_0x154630(0x63b)])};if(!(0x0,x['arrayUnique'])(_0x471c95['text'])||!(0x0,x[_0x154630(0x59d)])(_0x471c95[_0x154630(0x262)]))throw new m(_0x154630(0x132),_0x154630(0x37d));return await this['sendMessageWithTyping'](_0x362756['number'],{'buttonsMessage':{'text':_0x15ffcc?.[_0x154630(0x5b5)]?void 0x0:_0x362756[_0x154630(0x505)][_0x154630(0x34f)],'contentText':_0x15ffcc?.[_0x154630(0x516)]??_0x362756[_0x154630(0x505)][_0x154630(0x24a)],'footerText':_0x362756['buttonMessage']?.[_0x154630(0x2a5)],'buttons':_0x362756['buttonMessage']['buttons'][_0x154630(0x1da)](_0x418de9=>({'buttonText':{'displayText':_0x418de9['buttonText']},'buttonId':_0x418de9['buttonId'],'type':0x1})),'headerType':w[_0x154630(0x515)][_0x154630(0x11a)][_0x154630(0x55c)]['HeaderType'][_0x5a49d3],[_0x15ffcc?.[_0x154630(0x5b5)]]:_0x15ffcc?.[_0x154630(0x32a)]}},_0x362756?.[_0x154630(0x376)]);}async[a0_0x38390a(0x296)](_0x10ba4c){const _0x320555=a0_0x38390a;return await this[_0x320555(0x177)](_0x10ba4c[_0x320555(0x364)],{'locationMessage':{'degreesLatitude':_0x10ba4c[_0x320555(0x296)][_0x320555(0x3d5)],'degreesLongitude':_0x10ba4c['locationMessage'][_0x320555(0x2ad)],'name':_0x10ba4c[_0x320555(0x296)]?.[_0x320555(0x2c9)],'address':_0x10ba4c['locationMessage']?.['address']}},_0x10ba4c?.[_0x320555(0x376)]);}async[a0_0x38390a(0x1a2)](_0x592e54){const _0x402825=a0_0x38390a;return await this[_0x402825(0x177)](_0x592e54['number'],{'listMessage':{'title':_0x592e54['listMessage']['title'],'description':_0x592e54['listMessage'][_0x402825(0x24a)],'buttonText':_0x592e54['listMessage']?.[_0x402825(0x626)],'footerText':_0x592e54[_0x402825(0x1a2)]?.[_0x402825(0x2a5)],'sections':_0x592e54[_0x402825(0x1a2)]['sections'],'listType':0x1}},_0x592e54?.[_0x402825(0x376)]);}async['contactMessage'](_0xb21c26){const _0x4973ef=a0_0x38390a;let _0x464819={},_0x713ea=_0x13e844=>{const _0x23f632=a0_0x38ae;let _0x30127c=_0x23f632(0x165)+_0x13e844['fullName']+_0x23f632(0x5e4)+_0x13e844[_0x23f632(0x4b4)]+'\x0a';_0x13e844[_0x23f632(0x4a5)]&&(_0x30127c+=_0x23f632(0x3a5)+_0x13e844[_0x23f632(0x4a5)]+';\x0a'),_0x13e844[_0x23f632(0x639)]&&(_0x30127c+=_0x23f632(0x394)+_0x13e844[_0x23f632(0x639)]+'\x0a'),_0x13e844['url']&&(_0x30127c+='URL:'+_0x13e844[_0x23f632(0x386)]+'\x0a');let _0x3ccfff='';return _0x13e844[_0x23f632(0x411)]&&_0x13e844[_0x23f632(0x411)][_0x23f632(0x142)]('|')[_0x23f632(0x5e6)]((_0x2b9260,_0x55ea95)=>{const _0x583710=_0x23f632;let _0x5a3280=this['createJid'](_0x2b9260)['replace']('@s.whatsapp.net','');_0x3ccfff+='item'+(_0x55ea95+0x1)+_0x583710(0x341)+_0x5a3280+':'+_0x2b9260+_0x583710(0x4f0)+(_0x55ea95+0x1)+_0x583710(0x3fb);}),_0x30127c+=_0x3ccfff+_0x23f632(0x2c4),_0x30127c;};return _0xb21c26['contactMessage'][_0x4973ef(0x523)]===0x1?_0x464819[_0x4973ef(0x26b)]={'displayName':_0xb21c26[_0x4973ef(0x26b)][0x0][_0x4973ef(0x4b4)],'vcard':_0x713ea(_0xb21c26[_0x4973ef(0x26b)][0x0])}:_0x464819[_0x4973ef(0x52e)]={'displayName':_0xb21c26[_0x4973ef(0x26b)]['length']+_0x4973ef(0x359),'contacts':_0xb21c26['contactMessage']['map'](_0x28b25f=>({'displayName':_0x28b25f['fullName'],'vcard':_0x713ea(_0x28b25f)}))},await this[_0x4973ef(0x177)](_0xb21c26[_0x4973ef(0x364)],{..._0x464819},_0xb21c26?.['options']);}async['reactionMessage'](_0x33d3db){const _0x108e9a=a0_0x38390a;return await this[_0x108e9a(0x177)](_0x33d3db[_0x108e9a(0x66b)]['key'][_0x108e9a(0x41e)],{'reactionMessage':{'key':_0x33d3db[_0x108e9a(0x66b)][_0x108e9a(0x378)],'text':_0x33d3db[_0x108e9a(0x66b)][_0x108e9a(0x11b)]}});}async[a0_0x38390a(0x1b5)](_0x4e8881){const _0x1e623f=a0_0x38390a;let _0x3d2923=[];for await(let _0x7acb0a of _0x4e8881[_0x1e623f(0x62b)]){let _0x1e3abe=this[_0x1e623f(0x176)](_0x7acb0a);if((0x0,w[_0x1e623f(0x1f0)])(_0x1e3abe)){let _0x29cd2c=await this['findGroup']({'groupJid':_0x1e3abe},'inner');_0x3d2923['push'](new he(_0x29cd2c[_0x1e623f(0x615)]['id'],!!_0x29cd2c?.[_0x1e623f(0x615)]['id'],_0x29cd2c?.[_0x1e623f(0x615)][_0x1e623f(0x599)]));}else try{let _0x510a3b=(await this[_0x1e623f(0x510)][_0x1e623f(0x4d3)](_0x1e3abe))[0x0];_0x3d2923['push'](new he(_0x510a3b[_0x1e623f(0x361)],_0x510a3b['exists']));}catch{_0x3d2923[_0x1e623f(0x1d9)](new he(_0x7acb0a,!0x1));}}return _0x3d2923;}async[a0_0x38390a(0x577)](_0x7027c2){const _0x48025a=a0_0x38390a;try{let _0x420f49=[];try{_0x7027c2[_0x48025a(0x540)][_0x48025a(0x5e6)](_0x5256a2=>{const _0x9e497f=_0x48025a;((0x0,w[_0x9e497f(0x1f0)])(_0x5256a2[_0x9e497f(0x41e)])||(0x0,w[_0x9e497f(0x4c1)])(_0x5256a2[_0x9e497f(0x41e)]))&&_0x420f49[_0x9e497f(0x1d9)]({'remoteJid':_0x5256a2[_0x9e497f(0x41e)],'fromMe':_0x5256a2[_0x9e497f(0x14d)],'id':_0x5256a2['id']});});}catch(_0x48b32a){console[_0x48025a(0x182)](_0x48025a(0x59c),_0x48b32a);}await this[_0x48025a(0x510)][_0x48025a(0x540)](_0x420f49);let _0x5c736b=_0x420f49[_0x48025a(0x1da)](_0x5f1713=>this['updateMessage'](_0x5f1713,_0x5f1713[_0x48025a(0x41e)],{'status':'READ','owner':this[_0x48025a(0x2d6)][_0x48025a(0x46f)]}));await Promise['all'](_0x5c736b);let _0x1eee3d=_0x420f49[_0x48025a(0x1da)](_0x113bcd=>I[_0x48025a(0x58f)]({'id':_0x113bcd[_0x48025a(0x41e)],'owner':this[_0x48025a(0x2d6)][_0x48025a(0x46f)]},{'$set':{'unreadcount':0x0}},{'new':!0x0}));return(await Promise[_0x48025a(0x1ee)](_0x1eee3d))['filter'](_0x188c1a=>_0x188c1a!==null)[_0x48025a(0x5e6)](_0x249637=>{const _0x56257b=_0x48025a;H(this[_0x56257b(0x344)],'chats',{'chat':_0x249637});}),await Promise[_0x48025a(0x1ee)](_0x1eee3d),{'message':'Read\x20messages','read':_0x48025a(0x5b4)};}catch(_0x271e72){throw new A('Read\x20messages\x20fail',_0x271e72['toString']());}}async[a0_0x38390a(0x1a1)](_0x249b1a){const _0x5ae3e5=a0_0x38390a;try{return _0x249b1a['lastMessage']['messageTimestamp']=_0x249b1a[_0x5ae3e5(0x180)]?.['messageTimestamp']??Date[_0x5ae3e5(0x29d)](),await this['client'][_0x5ae3e5(0x162)]({'archive':_0x249b1a[_0x5ae3e5(0x4c6)],'lastMessages':[_0x249b1a['lastMessage']]},_0x249b1a[_0x5ae3e5(0x180)][_0x5ae3e5(0x378)]['remoteJid']),{'chatId':_0x249b1a[_0x5ae3e5(0x180)]['key'][_0x5ae3e5(0x41e)],'archived':!0x0};}catch(_0xfddc52){throw new A({'archived':!0x1,'message':[_0x5ae3e5(0x40c),_0xfddc52['toString']()]});}}async['deleteMessage'](_0x27744d){const _0x3a6d5b=a0_0x38390a;try{let _0x309a9b=await this[_0x3a6d5b(0x510)]['sendMessage'](_0x27744d[_0x3a6d5b(0x41e)],{'delete':_0x27744d});try{let _0x24305d=await this[_0x3a6d5b(0x157)](_0x27744d,_0x27744d['remoteJid'],{'status':_0x3a6d5b(0x549),'owner':this[_0x3a6d5b(0x2d6)][_0x3a6d5b(0x46f)]});this[_0x3a6d5b(0x190)]['verbose'](this[_0x3a6d5b(0x344)]+'\x20('+this[_0x3a6d5b(0x2d6)]['wuid']+_0x3a6d5b(0x650)+_0x24305d);}catch(_0xbc59e9){console[_0x3a6d5b(0x182)](_0x3a6d5b(0x563),_0xbc59e9);}return _0x309a9b;}catch(_0x4a291d){throw new A(_0x3a6d5b(0x393),_0x4a291d?.[_0x3a6d5b(0x2aa)]());}}async[a0_0x38390a(0x347)](_0x4af19c){const _0x10afbf=a0_0x38390a;try{let _0x301f4b=_0x4af19c?.[_0x10afbf(0x32a)]?_0x4af19c:await this[_0x10afbf(0x27f)](_0x4af19c[_0x10afbf(0x378)],!0x0);for(let _0xad460d of zs)_0x301f4b['message'][_0xad460d]&&(_0x301f4b[_0x10afbf(0x32a)]=_0x301f4b[_0x10afbf(0x32a)][_0xad460d][_0x10afbf(0x32a)]);let _0x4c52fa,_0x3470fa;for(let _0x5c64ce of Ks)if(_0x4c52fa=_0x301f4b[_0x10afbf(0x32a)][_0x5c64ce],_0x4c52fa){_0x3470fa=_0x5c64ce;break;}if(!_0x4c52fa)throw _0x10afbf(0x2f2);typeof _0x4c52fa[_0x10afbf(0x5b5)]==_0x10afbf(0x58c)&&(_0x301f4b['message']=JSON[_0x10afbf(0x455)](JSON[_0x10afbf(0x5a0)](_0x301f4b[_0x10afbf(0x32a)])));let _0x29b6a2=await(0x0,w[_0x10afbf(0x56b)])({'key':_0x301f4b?.['key'],'message':_0x301f4b?.[_0x10afbf(0x32a)]},_0x10afbf(0x586),{},{'logger':(0x0,$t[_0x10afbf(0x2d4)])({'level':_0x10afbf(0x182)}),'reuploadRequest':this[_0x10afbf(0x510)][_0x10afbf(0x621)]});if(!(_0x29b6a2 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');if(this[_0x10afbf(0x575)][_0x10afbf(0x1e3)]('DATABASE')[_0x10afbf(0x659)]){let _0x567bc0;if(_0x4c52fa[_0x10afbf(0x662)])_0x567bc0=_0x4c52fa[_0x10afbf(0x662)];else{let _0x47f40f=_0x4c52fa[_0x10afbf(0x1c9)]?.[_0x10afbf(0x4db)](/\/(\w+)/),_0x132d20=_0x47f40f?_0x47f40f[0x1]:null;if(_0x132d20==='opus'&&_0x4c52fa[_0x10afbf(0x1c9)]?.[_0x10afbf(0x264)]('ogg')&&(_0x132d20=_0x10afbf(0x141)),!_0x132d20)throw new Error(_0x10afbf(0x273));_0x567bc0=(0x0,go['v4'])()+'.'+_0x132d20;}await this[_0x10afbf(0x324)](_0x29b6a2,_0x567bc0);let _0x4758a2='/media/'+_0x567bc0,_0x380896=this[_0x10afbf(0x575)][_0x10afbf(0x1e3)](_0x10afbf(0x658)),_0x425893=this[_0x10afbf(0x575)][_0x10afbf(0x1e3)](_0x10afbf(0x64d))[_0x10afbf(0x318)],_0x27f1dc=_0x380896&&_0x380896['FULLCHAIN']['split']('/')[0x4];_0x425893===0x1bb&&(_0x4758a2=''+(_0x10afbf(0x1c1)+_0x27f1dc)+_0x4758a2);let _0x2caec1={'where':{'key':{'id':_0x301f4b[_0x10afbf(0x378)]['id'],'remoteJid':_0x301f4b[_0x10afbf(0x378)]['remoteJid'],'fromMe':_0x301f4b[_0x10afbf(0x378)]['fromMe']},'owner':this[_0x10afbf(0x2d6)][_0x10afbf(0x46f)]}},_0x5626f0=0xc*0x3c*0x3c*0x3e8,_0x10b8a2={'message_normalized.fileUrl':_0x4758a2,'message_normalized.expires_fileUrl':Date[_0x10afbf(0x29d)]()+_0x5626f0};try{let _0x5f53a8=await this[_0x10afbf(0x129)][_0x10afbf(0x32a)]['update'](_0x2caec1,_0x10b8a2);_0x5f53a8&&H(this['instanceName'],_0x10afbf(0x3f2),{'message':_0x5f53a8});}catch{}}return{'mediaType':_0x3470fa,'fileName':_0x4c52fa['fileName'],'caption':_0x4c52fa['caption'],'size':{'fileLength':_0x4c52fa[_0x10afbf(0x244)],'height':_0x4c52fa[_0x10afbf(0x2c1)],'width':_0x4c52fa[_0x10afbf(0x17c)]},'mimetype':_0x4c52fa[_0x10afbf(0x1c9)],'base64':_0x29b6a2[_0x10afbf(0x2aa)](_0x10afbf(0x2fe))};}catch(_0x1358a6){throw this[_0x10afbf(0x190)]['error'](this[_0x10afbf(0x344)]+'\x20('+this[_0x10afbf(0x2d6)]['wuid']+_0x10afbf(0x483)+_0x1358a6),new m(_0x1358a6[_0x10afbf(0x2aa)]());}}async[a0_0x38390a(0x324)](_0x6a4e32,_0x296fa5){const _0xa33a6c=a0_0x38390a;console[_0xa33a6c(0x508)](_0xa33a6c(0x60e),__dirname),console[_0xa33a6c(0x508)](_0xa33a6c(0x115),_0x296fa5);let _0xd1bd13=Z[_0xa33a6c(0x2d4)]['join'](__dirname,_0xa33a6c(0x46e));console[_0xa33a6c(0x508)](_0xa33a6c(0x146),_0xd1bd13),Se[_0xa33a6c(0x108)](_0xd1bd13)||(console[_0xa33a6c(0x508)](_0xa33a6c(0x30a)),Se[_0xa33a6c(0x4c3)](_0xd1bd13,{'recursive':!0x0}));let _0xdd74ea=Z[_0xa33a6c(0x2d4)][_0xa33a6c(0x518)](_0xd1bd13,_0x296fa5);return console[_0xa33a6c(0x508)](_0xa33a6c(0x2fc),_0xdd74ea),new Promise((_0x14c67f,_0x4a6db6)=>{const _0x3d050a=_0xa33a6c;Se[_0x3d050a(0x174)](_0xdd74ea,_0x6a4e32,_0x58b903=>{const _0x2ad94e=_0x3d050a;_0x58b903?(console['error'](_0x2ad94e(0x466),_0x58b903),_0x4a6db6(_0x58b903)):_0x14c67f(_0xdd74ea);});});}async[a0_0x38390a(0x559)](_0x324b3d){const _0x1df469=a0_0x38390a;return _0x324b3d?.[_0x1df469(0x606)]?_0x324b3d[_0x1df469(0x606)][_0x1df469(0x1eb)]=this[_0x1df469(0x2d6)]['wuid']:_0x324b3d={'where':{'owner':this['instance'][_0x1df469(0x46f)]}},await this[_0x1df469(0x129)]['contact'][_0x1df469(0x37e)](_0x324b3d);}async['fetchMessages'](_0x230934){const _0x534c40=a0_0x38390a;_0x230934?.[_0x534c40(0x606)]?_0x230934['where'][_0x534c40(0x1eb)]=this[_0x534c40(0x2d6)][_0x534c40(0x46f)]:_0x230934={'where':{'owner':this[_0x534c40(0x2d6)][_0x534c40(0x46f)]},'limit':_0x230934?.[_0x534c40(0x6a9)]};let _0x3829bf=_0x230934?.[_0x534c40(0x606)]?.['key']?.[_0x534c40(0x41e)];return _0x3829bf&&this[_0x534c40(0x696)](_0x3829bf)[_0x534c40(0x5f1)](_0x15aaa5=>{const _0x284942=_0x534c40;this[_0x284942(0x190)][_0x284942(0x182)](_0x284942(0x164)+_0x15aaa5);}),await this[_0x534c40(0x129)][_0x534c40(0x32a)][_0x534c40(0x37e)](_0x230934);}async[a0_0x38390a(0x21d)](_0x1b298f){const _0x5e56bf=a0_0x38390a;return _0x1b298f?.['where']?_0x1b298f[_0x5e56bf(0x606)][_0x5e56bf(0x1eb)]=this[_0x5e56bf(0x2d6)][_0x5e56bf(0x46f)]:_0x1b298f={'where':{'owner':this[_0x5e56bf(0x2d6)][_0x5e56bf(0x46f)]},'limit':_0x1b298f?.[_0x5e56bf(0x6a9)]},await this[_0x5e56bf(0x129)][_0x5e56bf(0x2b4)][_0x5e56bf(0x37e)](_0x1b298f);}async[a0_0x38390a(0x1ab)](){const _0x47b0da=a0_0x38390a;return await this[_0x47b0da(0x129)][_0x47b0da(0x234)][_0x47b0da(0x37e)]({'where':{'owner':this[_0x47b0da(0x2d6)]['wuid']}});}async['fetchPrivacySettings'](){const _0x42853b=a0_0x38390a;return await this[_0x42853b(0x510)][_0x42853b(0x5a4)]();}async[a0_0x38390a(0x56a)](_0x4f5049){const _0x2142d2=a0_0x38390a;try{return await this['client']['updateReadReceiptsPrivacy'](_0x4f5049[_0x2142d2(0x1b3)]['readreceipts']),await this['client'][_0x2142d2(0x579)](_0x4f5049[_0x2142d2(0x1b3)][_0x2142d2(0x317)]),await this[_0x2142d2(0x510)][_0x2142d2(0x186)](_0x4f5049[_0x2142d2(0x1b3)]['status']),await this[_0x2142d2(0x510)]['updateOnlinePrivacy'](_0x4f5049['privacySettings'][_0x2142d2(0x67e)]),await this[_0x2142d2(0x510)][_0x2142d2(0x3c8)](_0x4f5049[_0x2142d2(0x1b3)][_0x2142d2(0x1f4)]),await this[_0x2142d2(0x510)][_0x2142d2(0x3ae)](_0x4f5049[_0x2142d2(0x1b3)][_0x2142d2(0x12c)]),this[_0x2142d2(0x510)]?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x4f5049[_0x2142d2(0x1b3)]['readreceipts'],'profile':_0x4f5049[_0x2142d2(0x1b3)]['profile'],'status':_0x4f5049['privacySettings'][_0x2142d2(0x13c)],'online':_0x4f5049['privacySettings'][_0x2142d2(0x67e)],'last':_0x4f5049[_0x2142d2(0x1b3)][_0x2142d2(0x1f4)],'groupadd':_0x4f5049[_0x2142d2(0x1b3)][_0x2142d2(0x12c)]}};}catch(_0x5f1b34){throw new A('Error\x20updating\x20privacy\x20settings',_0x5f1b34[_0x2142d2(0x2aa)]());}}async['fetchProfile'](_0x59a0a2){const _0x28d247=a0_0x38390a;let _0x94f58a=_0x59a0a2?this[_0x28d247(0x176)](_0x59a0a2):this[_0x28d247(0x510)]?.[_0x28d247(0x149)]?.['id'];this['logger'][_0x28d247(0x240)]('Getting\x20profile\x20with\x20jid:\x20'+_0x94f58a);try{if(this[_0x28d247(0x190)][_0x28d247(0x240)]('Getting\x20profile\x20info'),_0x59a0a2){let _0x588a6a=(await this[_0x28d247(0x1b5)]({'numbers':[_0x94f58a]}))?.[_0x28d247(0x119)](),_0x553325=await this[_0x28d247(0x661)](_0x588a6a?.[_0x28d247(0x361)]),_0x29bfb5=await this['getStatus'](_0x588a6a?.['jid']),_0x3ad2ad=await this[_0x28d247(0x275)](_0x588a6a?.[_0x28d247(0x361)]);return{'wuid':_0x588a6a?.[_0x28d247(0x361)]||_0x94f58a,'name':_0x588a6a?.['name'],'numberExists':_0x588a6a?.[_0x28d247(0x34a)],'picture':_0x553325?.['profilePictureUrl'],'status':_0x29bfb5?.[_0x28d247(0x13c)],'isBusiness':_0x3ad2ad[_0x28d247(0x39c)],'email':_0x3ad2ad?.[_0x28d247(0x639)],'description':_0x3ad2ad?.[_0x28d247(0x24a)],'website':_0x3ad2ad?.[_0x28d247(0x1f8)]?.[_0x28d247(0x119)]()};}}catch{return this[_0x28d247(0x190)][_0x28d247(0x240)](_0x28d247(0x592)),{'wuid':_0x94f58a,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x38390a(0x275)](_0x47cfa4){const _0x2b2331=a0_0x38390a;this['logger']['verbose'](_0x2b2331(0x20d));try{let _0x29e997=_0x47cfa4?this['createJid'](_0x47cfa4):this[_0x2b2331(0x2d6)]['wuid'],_0x3655ac=await this[_0x2b2331(0x510)][_0x2b2331(0x373)](_0x29e997);return this[_0x2b2331(0x190)][_0x2b2331(0x240)](_0x2b2331(0x63f)),_0x3655ac?(this[_0x2b2331(0x190)][_0x2b2331(0x240)](_0x2b2331(0x398)),{'isBusiness':!0x0,..._0x3655ac}):{'isBusiness':!0x1,'message':_0x2b2331(0x56d),...(await this[_0x2b2331(0x1b5)]({'numbers':[_0x29e997]}))?.[_0x2b2331(0x119)]()};}catch(_0x31a88f){throw new A(_0x2b2331(0x4fb),_0x31a88f[_0x2b2331(0x2aa)]());}}async[a0_0x38390a(0x696)](_0x35ce8c,_0x12ef7c=!0x0){const _0x276c6b=a0_0x38390a;let _0x7b7e80=null,_0x2b4d12=null,_0x591bb9;if(_0x12ef7c){let _0x306555=Date[_0x276c6b(0x29d)]()-0x5265c00,_0x32a4bb=await I[_0x276c6b(0x548)]({'id':_0x35ce8c,'owner':this[_0x276c6b(0x2d6)][_0x276c6b(0x46f)],'lastcache':{'$gt':_0x306555}});if(_0x32a4bb)return{'wuid':_0x35ce8c,'profilePictureUrl':_0x32a4bb[_0x276c6b(0x632)],'contactName':_0x32a4bb[_0x276c6b(0x2c9)]};}try{_0x7b7e80=await this['client'][_0x276c6b(0x2ce)](_0x35ce8c,_0x276c6b(0x5b1));}catch(_0x59aa6b){this['logger']['error'](_0x276c6b(0x17a)+_0x59aa6b);}if(_0x35ce8c[_0x276c6b(0x6ad)](_0x276c6b(0x2e1))){let _0x52ed1e=await this[_0x276c6b(0x23d)]({'groupJid':_0x35ce8c}),_0xef4ae3=_0x52ed1e?_0x52ed1e[_0x276c6b(0x615)][_0x276c6b(0x599)]:null;_0x591bb9=await I['findOneAndUpdate']({'id':_0x35ce8c,'owner':this['instance']['wuid']},{'$set':{'imagechat':_0x7b7e80,'name':_0xef4ae3,'lastcache':Date['now']()}},{'new':!0x0});}else{try{let _0x1473dc=await Fe[_0x276c6b(0x548)]({'id':_0x35ce8c});_0x2b4d12=_0x1473dc?_0x1473dc['pushName']:null;}catch(_0x3b2e6b){this[_0x276c6b(0x190)][_0x276c6b(0x182)](_0x276c6b(0x10f)+_0x3b2e6b);}_0x591bb9=await I[_0x276c6b(0x58f)]({'id':_0x35ce8c,'owner':this[_0x276c6b(0x2d6)]['wuid']},{'$set':{'imagechat':_0x7b7e80,'name':_0x2b4d12,'lastcache':Date['now']()}},{'new':!0x0});}return _0x591bb9&&H(this[_0x276c6b(0x344)],'chats',{'chat':_0x591bb9}),{'wuid':_0x35ce8c,'profilePictureUrl':_0x7b7e80,'contactName':_0x2b4d12};}async['getStatus'](_0x36fa22){const _0x37275c=a0_0x38390a;let _0x54e622=this['createJid'](_0x36fa22);try{return{'wuid':_0x54e622,'status':(await this[_0x37275c(0x510)]['fetchStatus'](_0x54e622))?.[_0x37275c(0x13c)]};}catch{return{'wuid':_0x54e622,'status':null};}}async[a0_0x38390a(0x499)](_0x125d71){const _0x338543=a0_0x38390a;try{return await this['client'][_0x338543(0x499)](_0x125d71),{'update':_0x338543(0x5b4)};}catch(_0x2a72f6){throw new A(_0x338543(0x4fb),_0x2a72f6[_0x338543(0x2aa)]());}}async['updateProfileStatus'](_0x29e6d0){const _0x5c8997=a0_0x38390a;try{return await this['client'][_0x5c8997(0x27b)](_0x29e6d0),{'update':_0x5c8997(0x5b4)};}catch(_0x4a8c92){throw new A(_0x5c8997(0x502),_0x4a8c92['toString']());}}async[a0_0x38390a(0x112)](_0x587342){const _0x12c866=a0_0x38390a;try{let _0x3362d0;if((0x0,x[_0x12c866(0x2f3)])(_0x587342)){let _0x39bb40=new Date()[_0x12c866(0x43f)](),_0x3daf5e=_0x587342+'?timestamp='+_0x39bb40;_0x3362d0=(await le['default']['get'](_0x3daf5e,{'responseType':_0x12c866(0x105)}))[_0x12c866(0x256)];}else{if((0x0,x[_0x12c866(0x588)])(_0x587342))_0x3362d0=Buffer[_0x12c866(0x1bf)](_0x587342,_0x12c866(0x2fe));else throw new m(_0x12c866(0x213));}return await this['client'][_0x12c866(0x112)](this[_0x12c866(0x2d6)][_0x12c866(0x46f)],_0x3362d0),{'update':_0x12c866(0x5b4)};}catch(_0x29385e){throw new A('Error\x20updating\x20profile\x20picture',_0x29385e[_0x12c866(0x2aa)]());}}async[a0_0x38390a(0x290)](){const _0xd9d541=a0_0x38390a;try{return await this[_0xd9d541(0x510)][_0xd9d541(0x290)](this[_0xd9d541(0x2d6)][_0xd9d541(0x46f)]),{'update':'success'};}catch(_0x2f8773){throw new A(_0xd9d541(0x62a),_0x2f8773[_0xd9d541(0x2aa)]());}}async[a0_0x38390a(0x44d)](_0x277c0a){const _0x12ce33=a0_0x38390a;try{let _0x1855c4=_0x277c0a['participants']['map'](_0x166917=>this['createJid'](_0x166917)),{id:_0x19275f}=await this[_0x12ce33(0x510)]['groupCreate'](_0x277c0a[_0x12ce33(0x599)],_0x1855c4);return _0x277c0a?.[_0x12ce33(0x24a)]&&await this[_0x12ce33(0x510)][_0x12ce33(0x4e9)](_0x19275f,_0x277c0a[_0x12ce33(0x24a)]),{'metadata':await this[_0x12ce33(0x510)][_0x12ce33(0x196)](_0x19275f)};}catch(_0x296bb0){throw this[_0x12ce33(0x190)][_0x12ce33(0x182)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x12ce33(0x483)+_0x296bb0),new A(_0x12ce33(0x163),_0x296bb0[_0x12ce33(0x2aa)]());}}async['updateGroupPicture'](_0x25105f){const _0x2dd00f=a0_0x38390a;try{let _0x292e75;if((0x0,x[_0x2dd00f(0x2f3)])(_0x25105f['image'])){let _0x5cb00e=new Date()[_0x2dd00f(0x43f)](),_0x514c3b=_0x25105f[_0x2dd00f(0x5b1)]+_0x2dd00f(0x5e1)+_0x5cb00e;_0x292e75=(await le[_0x2dd00f(0x2d4)][_0x2dd00f(0x1e3)](_0x514c3b,{'responseType':_0x2dd00f(0x105)}))[_0x2dd00f(0x256)];}else{if((0x0,x['isBase64'])(_0x25105f['image']))_0x292e75=Buffer[_0x2dd00f(0x1bf)](_0x25105f[_0x2dd00f(0x5b1)],_0x2dd00f(0x2fe));else throw new m(_0x2dd00f(0x213));}return await this[_0x2dd00f(0x510)]['updateProfilePicture'](_0x25105f[_0x2dd00f(0x30c)],_0x292e75),{'update':'success'};}catch(_0x293e05){throw new A(_0x2dd00f(0x266),_0x293e05['toString']());}}async[a0_0x38390a(0x23d)](_0x3fd62c,_0x58f89e=a0_0x38390a(0x28a)){const _0xf2b03a=a0_0x38390a;try{let _0x3aeb49=await this[_0xf2b03a(0x510)][_0xf2b03a(0x196)](_0x3fd62c['groupJid']),_0x3b3e8a=null;try{_0x3b3e8a=await this['client']['profilePictureUrl'](_0x3fd62c['groupJid'],_0xf2b03a(0x5b1));}catch(_0x233226){this[_0xf2b03a(0x190)][_0xf2b03a(0x240)](this[_0xf2b03a(0x344)]+'\x20('+this[_0xf2b03a(0x2d6)]['wuid']+_0xf2b03a(0x20c)+_0x3fd62c[_0xf2b03a(0x30c)]+':\x20'+_0x233226[_0xf2b03a(0x2aa)]());}return{'metadata':_0x3aeb49,'image':_0x3b3e8a};}catch(_0x285358){if(_0x58f89e===_0xf2b03a(0x4d4))return;throw new L(_0xf2b03a(0x2a1),_0x285358['toString']());}}async[a0_0x38390a(0x30b)](_0x19a5f4){const _0x37c9b2=a0_0x38390a;try{return await this[_0x37c9b2(0x510)][_0x37c9b2(0x4e9)](_0x19a5f4['groupJid'],_0x19a5f4[_0x37c9b2(0x24a)]),{'update':_0x37c9b2(0x5b4)};}catch(_0x2ea439){throw new A(_0x37c9b2(0x684),_0x2ea439[_0x37c9b2(0x2aa)]());}}async[a0_0x38390a(0x14b)](_0x3ad573){const _0x18f925=a0_0x38390a;try{return await this[_0x18f925(0x510)]['groupUpdateSubject'](_0x3ad573[_0x18f925(0x30c)],_0x3ad573['name']),{'update':_0x18f925(0x5b4)};}catch(_0x33378f){throw new A(_0x18f925(0x33e),_0x33378f[_0x18f925(0x2aa)]());}}async[a0_0x38390a(0x1d7)](_0x2b8820){const _0x5c6d96=a0_0x38390a;try{return await this['client'][_0x5c6d96(0x27d)](_0x2b8820[_0x5c6d96(0x30c)],_0x2b8820['setting']),{'update':'success'};}catch(_0x2dae49){throw new A(_0x5c6d96(0x23b),_0x2dae49[_0x5c6d96(0x2aa)]());}}async[a0_0x38390a(0x241)](){const _0xa738d4=a0_0x38390a;try{let _0x5b91ff=[],_0x4f5885=await this[_0xa738d4(0x510)]['groupFetchAllParticipating'](),_0x5cdf6b=Object['values'](_0x4f5885),_0x2cd093=_0x5cdf6b[_0xa738d4(0x4ba)](_0x417f27=>(0x0,w[_0xa738d4(0x1f0)])(_0x417f27?.['id']))['map'](async _0x56fec6=>{const _0x2d9c4d=_0xa738d4;try{return await this['client'][_0x2d9c4d(0x2ce)](_0x56fec6['id'],_0x2d9c4d(0x5b1));}catch(_0x274d78){return this[_0x2d9c4d(0x190)][_0x2d9c4d(0x240)](this['instanceName']+'\x20('+this['instance'][_0x2d9c4d(0x46f)]+_0x2d9c4d(0x20c)+_0x56fec6['id']+':\x20'+_0x274d78[_0x2d9c4d(0x2aa)]()),null;}}),_0x197b78=await Promise[_0xa738d4(0x1ee)](_0x2cd093);for(let _0x3d70ea=0x0;_0x3d70ea<_0x5cdf6b[_0xa738d4(0x523)];_0x3d70ea++){let _0x4b243c=_0x5cdf6b[_0x3d70ea];(0x0,w[_0xa738d4(0x1f0)])(_0x4b243c?.['id'])&&_0x5b91ff['push']({'groupJid':_0x4b243c?.['id'],'subject':_0x4b243c?.[_0xa738d4(0x599)],'subjectOwner':_0x4b243c?.[_0xa738d4(0x153)]?.[_0xa738d4(0x142)]('@')[0x0],'subjectTime':_0x4b243c?.[_0xa738d4(0x57f)],'size':_0x4b243c?.['participants']?.[_0xa738d4(0x523)],'owner':_0x4b243c?.['owner']?.['split']('@')[0x0],'creation':_0x4b243c?.[_0xa738d4(0x139)],'desc':_0x4b243c?.['desc'],'restrict':_0x4b243c?.['restrict'],'announce':_0x4b243c?.[_0xa738d4(0x136)],'image':_0x197b78[_0x3d70ea]});}return _0x5b91ff;}catch(_0x3bff91){throw new L('Error\x20fetching\x20group',_0x3bff91[_0xa738d4(0x2aa)]());}}async[a0_0x38390a(0x4d5)](_0x3895a5){const _0x3c519f=a0_0x38390a;try{let _0x145e3c=await this[_0x3c519f(0x510)][_0x3c519f(0x68f)](_0x3895a5['groupJid']);return{'inviteUrl':_0x3c519f(0x4d6)+_0x145e3c,'inviteCode':_0x145e3c};}catch(_0x70314){throw new L('No\x20invite\x20code',_0x70314[_0x3c519f(0x2aa)]());}}async[a0_0x38390a(0x5c3)](_0x10375a){const _0xcad39a=a0_0x38390a;try{let _0x418890=await this[_0xcad39a(0x510)][_0xcad39a(0x2a0)](_0x10375a[_0xcad39a(0x30c)]);return{'revoked':!0x0,'inviteUrl':_0xcad39a(0x4d6)+_0x418890,'inviteCode':_0x418890};}catch(_0x2985f0){throw new L('Revoke\x20error',_0x2985f0[_0xcad39a(0x2aa)]());}}async['joinGroup'](_0x1e5850){const _0x4d117e=a0_0x38390a;try{if((0x0,x[_0x4d117e(0x2f3)])(_0x1e5850[_0x4d117e(0x4d5)]))var _0x2200ad=_0x1e5850[_0x4d117e(0x4d5)][_0x4d117e(0x142)]('/')[0x3];else var _0x2200ad=_0x1e5850[_0x4d117e(0x4d5)];let _0x1d249f=await this[_0x4d117e(0x510)]['groupAcceptInvite'](_0x2200ad);return this['logger'][_0x4d117e(0x240)](this[_0x4d117e(0x344)]+'\x20('+this[_0x4d117e(0x2d6)][_0x4d117e(0x46f)]+_0x4d117e(0x483)+_0x1d249f),{'join':!0x0,'inviteCode':_0x2200ad,'groupJid':_0x1d249f};}catch(_0x2c7558){throw new L('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x2c7558['toString']());}}async['findParticipants'](_0x107df7){const _0x2a6baa=a0_0x38390a;try{return{'participants':(await this[_0x2a6baa(0x510)][_0x2a6baa(0x196)](_0x107df7[_0x2a6baa(0x30c)]))[_0x2a6baa(0x65d)]};}catch(_0xbb5e1b){throw new L('No\x20participants',_0xbb5e1b[_0x2a6baa(0x2aa)]());}}async[a0_0x38390a(0x33b)](_0x9ff117){const _0x55f57f=a0_0x38390a;try{let _0x3a6965=_0x9ff117['participants'][_0x55f57f(0x1da)](_0x24c1e8=>this[_0x55f57f(0x176)](_0x24c1e8));return{'updateParticipants':await this[_0x55f57f(0x510)][_0x55f57f(0x561)](_0x9ff117['groupJid'],_0x3a6965,_0x9ff117[_0x55f57f(0x11e)])};}catch(_0xdfa705){throw new m(_0x55f57f(0x4f9),_0xdfa705[_0x55f57f(0x2aa)]());}}async['toggleEphemeral'](_0x287e6a){const _0x2f67f4=a0_0x38390a;try{let _0x1fdd93=await this[_0x2f67f4(0x510)][_0x2f67f4(0x2e4)](_0x287e6a[_0x2f67f4(0x30c)],_0x287e6a[_0x2f67f4(0x349)]);return{'success':!0x0};}catch(_0xd8c4dd){throw new m('Error\x20updating\x20setting',_0xd8c4dd[_0x2f67f4(0x2aa)]());}}async[a0_0x38390a(0x6ab)](_0x22700a){const _0x591c30=a0_0x38390a;try{return await this[_0x591c30(0x510)][_0x591c30(0x215)](_0x22700a[_0x591c30(0x30c)]),{'groupJid':_0x22700a[_0x591c30(0x30c)],'leave':!0x0};}catch(_0x8e31c4){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x8e31c4[_0x591c30(0x2aa)]());}}async[a0_0x38390a(0x210)](_0x4247da){const _0x3f05f=a0_0x38390a;return await this[_0x3f05f(0x177)](_0x4247da[_0x3f05f(0x364)],{'poll':{'name':_0x4247da['pollMessage']?.[_0x3f05f(0x2c9)],'selectableCount':_0x4247da[_0x3f05f(0x210)][_0x3f05f(0x5d7)],'values':_0x4247da[_0x3f05f(0x210)][_0x3f05f(0x558)]}},_0x4247da?.[_0x3f05f(0x376)]);}async[a0_0x38390a(0x157)](_0x58ac51,_0x37d859,_0x5b1717){const _0x1a70f6=a0_0x38390a;if(await this[_0x1a70f6(0x27f)](_0x58ac51,!0x0)){let _0x5c554e={'where':{'key':{'id':_0x58ac51['id'],'remoteJid':_0x37d859,'fromMe':_0x58ac51[_0x1a70f6(0x14d)]},'owner':this[_0x1a70f6(0x2d6)][_0x1a70f6(0x46f)]}},_0x2333b7={'status':[_0x5b1717[_0x1a70f6(0x13c)]][0x0]};try{let _0x2e32b7=await this[_0x1a70f6(0x129)][_0x1a70f6(0x32a)]['update'](_0x5c554e,_0x2333b7);_0x2e32b7&&H(this[_0x1a70f6(0x344)],_0x1a70f6(0x3f2),{'message':_0x2e32b7});}catch{}}}async[a0_0x38390a(0x1ec)](_0x96dd43,_0x1a18ef,_0x16843b){const _0x58e53e=a0_0x38390a;let _0xdc92d8=_0x1a18ef[_0x58e53e(0x378)][_0x58e53e(0x41e)],_0x46a165=_0x1a18ef[_0x58e53e(0x378)][_0x58e53e(0x14d)],_0x4e72ff=_0xdc92d8[_0x58e53e(0x6ad)](_0x58e53e(0x2e1));if(!_0x96dd43['ENABLED'])return;let _0x43000d={'$set':{..._0x46a165?{'unreadcount':0x0,'lastmsg':_0x1a18ef[_0x58e53e(0x633)]||Date[_0x58e53e(0x29d)]()}:{'lastmsg':_0x1a18ef['messageTimestamp']||Date[_0x58e53e(0x29d)]()},..._0x46a165||_0x4e72ff?{}:{'name':_0x1a18ef[_0x58e53e(0x50b)]}},'$setOnInsert':{'group':_0x4e72ff,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x46a165&&!_0x4e72ff?{'leadInfo.nome':_0x1a18ef[_0x58e53e(0x50b)]}:{}},..._0x46a165?{}:{'$inc':{'unreadcount':0x1}}},_0x387966={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0xc1c87a=await I[_0x58e53e(0x58f)]({'id':_0xdc92d8,'owner':this['instance']['wuid']},_0x43000d,_0x387966);if(_0xc1c87a?(!_0x4e72ff&&(!_0xc1c87a[_0x58e53e(0x45e)]||!_0xc1c87a['leadInfo']['nome'])&&_0x1a18ef[_0x58e53e(0x50b)]&&!_0x46a165&&(_0x43000d={'$set':{'leadInfo.nome':_0x1a18ef[_0x58e53e(0x50b)]}},_0xc1c87a=await I['findOneAndUpdate']({'id':_0xdc92d8,'owner':this['instance'][_0x58e53e(0x46f)]},_0x43000d,_0x387966)),H(this[_0x58e53e(0x344)],_0x58e53e(0x3bd),{'chat':_0xc1c87a})):this[_0x58e53e(0x190)][_0x58e53e(0x182)](this['instanceName']+'\x20('+this[_0x58e53e(0x2d6)][_0x58e53e(0x46f)]+_0x58e53e(0x484)),!this[_0x58e53e(0x312)][_0x58e53e(0x5b0)][_0x58e53e(0xf9)])return this[_0x58e53e(0x190)]['verbose'](this['instanceName']+'\x20('+this[_0x58e53e(0x2d6)]['wuid']+_0x58e53e(0x541)),null;if(_0xc1c87a['id'][_0x58e53e(0x264)](_0x58e53e(0x2e1))&&this['AutomateSystem']['flowConfig'][_0x58e53e(0x68d)]===!0x0)return this[_0x58e53e(0x190)][_0x58e53e(0x240)](this[_0x58e53e(0x344)]+'\x20('+this[_0x58e53e(0x2d6)][_0x58e53e(0x46f)]+_0x58e53e(0x23e)),null;if(_0xc1c87a['leadInfo']){if(_0xc1c87a[_0x58e53e(0x45e)][_0x58e53e(0x449)]===0x0||_0xc1c87a[_0x58e53e(0x45e)][_0x58e53e(0x15e)])return this[_0x58e53e(0x190)][_0x58e53e(0x240)](this[_0x58e53e(0x344)]+'\x20('+this[_0x58e53e(0x2d6)][_0x58e53e(0x46f)]+_0x58e53e(0x2e3)+_0xdc92d8+_0x58e53e(0x67a)),null;if(_0xc1c87a[_0x58e53e(0x45e)]['desativadoFluxoAte']>Date[_0x58e53e(0x29d)]())return this[_0x58e53e(0x190)][_0x58e53e(0x240)](this[_0x58e53e(0x344)]+'\x20('+this[_0x58e53e(0x2d6)]['wuid']+_0x58e53e(0x5a5)+new Date(_0xc1c87a['leadInfo']['desativadoFluxoAte'])[_0x58e53e(0x4ab)]()+',\x20saindo.'),null;}this['logger'][_0x58e53e(0x240)](this['instanceName']+'\x20('+this[_0x58e53e(0x2d6)][_0x58e53e(0x46f)]+_0x58e53e(0x2cb)),this[_0x58e53e(0x29b)](_0x16843b,_0x1a18ef,this[_0x58e53e(0x2d6)][_0x58e53e(0x46f)]);}async[a0_0x38390a(0x1f5)](){const _0x1e1f74=a0_0x38390a;let _0x1f49cf=await this[_0x1e1f74(0x129)][_0x1e1f74(0x37c)][_0x1e1f74(0x37e)]({'where':{'owner':this[_0x1e1f74(0x2d6)][_0x1e1f74(0x46f)]}}),_0x479504=0x0,_0x42e6d8=[];for(let _0x42a256 of _0x1f49cf)_0x42e6d8[_0x1e1f74(0x1d9)]({'updateOne':{'filter':{'id':_0x42a256['id'],'owner':this[_0x1e1f74(0x2d6)][_0x1e1f74(0x46f)]},'update':{'$set':{'contactname':_0x42a256[_0x1e1f74(0x50b)]}}}}),_0x42e6d8[_0x1e1f74(0x523)]===0x1f4&&(_0x479504+=await this[_0x1e1f74(0x55e)](_0x42e6d8),_0x42e6d8=[]);_0x42e6d8[_0x1e1f74(0x523)]>0x0&&(_0x479504+=await this[_0x1e1f74(0x55e)](_0x42e6d8)),this[_0x1e1f74(0x190)][_0x1e1f74(0x240)](this[_0x1e1f74(0x344)]+'\x20('+this[_0x1e1f74(0x2d6)]['wuid']+_0x1e1f74(0x483)+_0x479504+_0x1e1f74(0x32b)+this['instance'][_0x1e1f74(0x46f)]+'\x20foram\x20adicionados\x20\x22contactname\x22\x20');}async[a0_0x38390a(0x55e)](_0x14a756){const _0x3118ad=a0_0x38390a;return(await I[_0x3118ad(0x4b2)](_0x14a756))['modifiedCount'];}async[a0_0x38390a(0x618)](_0x7549e5,_0x835c90){const _0x27c4cb=a0_0x38390a;if(_0x835c90[_0x27c4cb(0x659)]){let _0x3a9fe2=_0x7549e5[_0x27c4cb(0x1da)](async _0x2032aa=>{const _0x5753fd=_0x27c4cb;let _0x1ca879={'$set':{'id':_0x2032aa['id'],'owner':_0x2032aa[_0x5753fd(0x1eb)],'lastcache':0x0}};if(_0x2032aa[_0x5753fd(0x2d5)]!==null&&(_0x1ca879[_0x5753fd(0x474)][_0x5753fd(0x2d5)]=_0x2032aa[_0x5753fd(0x2d5)]),_0x2032aa[_0x5753fd(0x2c9)]!==null&&(_0x1ca879[_0x5753fd(0x474)][_0x5753fd(0x2c9)]=_0x2032aa['name']),_0x2032aa[_0x5753fd(0x417)]!==null&&(_0x1ca879[_0x5753fd(0x474)][_0x5753fd(0x417)]=_0x2032aa[_0x5753fd(0x417)]),_0x2032aa[_0x5753fd(0x632)]!==null&&(_0x1ca879[_0x5753fd(0x474)][_0x5753fd(0x632)]=_0x2032aa[_0x5753fd(0x632)]),_0x2032aa['imagechat']===null&&(_0x1ca879[_0x5753fd(0x474)][_0x5753fd(0x632)]=_0x5753fd(0x5b2)),_0x2032aa[_0x5753fd(0x287)]!==null&&(_0x1ca879['$set'][_0x5753fd(0x287)]=_0x2032aa[_0x5753fd(0x287)]),_0x2032aa['archived']!==null&&(_0x1ca879[_0x5753fd(0x474)][_0x5753fd(0x330)]=_0x2032aa['archived']),_0x2032aa[_0x5753fd(0x5bc)]!==null&&(_0x1ca879[_0x5753fd(0x474)][_0x5753fd(0x5bc)]=_0x2032aa[_0x5753fd(0x5bc)]),Object[_0x5753fd(0x29a)](_0x1ca879['$set'])['length']>0x0)return I[_0x5753fd(0x58f)]({'id':_0x2032aa['id'],'owner':_0x2032aa['owner']},_0x1ca879,{'new':!0x0,'upsert':!0x0});}),_0x11e4e3=(await Promise[_0x27c4cb(0x1ee)](_0x3a9fe2))[_0x27c4cb(0x4ba)](_0x4c1e07=>_0x4c1e07!==null)[_0x27c4cb(0x523)];this[_0x27c4cb(0x190)][_0x27c4cb(0x240)](this[_0x27c4cb(0x344)]+'\x20('+this[_0x27c4cb(0x2d6)][_0x27c4cb(0x46f)]+_0x27c4cb(0x483)+_0x11e4e3+'\x20chats\x20de\x20'+this[_0x27c4cb(0x2d6)]['wuid']+_0x27c4cb(0x638));}}async['readMessageBot'](_0x285383){const _0x442b86=a0_0x38390a;this['logger'][_0x442b86(0x240)](this[_0x442b86(0x344)]+'\x20('+this['instance'][_0x442b86(0x46f)]+'):\x20Ler\x20mensagem');let _0x30822e={'readMessages':[{'remoteJid':_0x285383[_0x442b86(0x1dc)][_0x442b86(0x2b3)]['key'][_0x442b86(0x41e)],'fromMe':_0x285383['chatLog']['lastReceivedMessage'][_0x442b86(0x378)]['fromMe'],'id':_0x285383[_0x442b86(0x1dc)][_0x442b86(0x2b3)]['key']['id']}]};await this[_0x442b86(0x577)](_0x30822e);}async[a0_0x38390a(0x29b)](_0x15e736,_0x2145fe,_0x13df2a){const _0x814e1b=a0_0x38390a;try{let {key:_0x10dffd,message_normalized:_0x57046e}=_0x2145fe,_0x1cf896=_0x57046e,_0xcea3e9=_0x57046e[_0x814e1b(0x143)]||_0x57046e[_0x814e1b(0x1a7)]||_0x57046e[_0x814e1b(0x571)]||_0x57046e[_0x814e1b(0x2c9)],_0x340f76=_0x10dffd[_0x814e1b(0x41e)],_0x110454;if(_0x1cf896[_0x814e1b(0x378)][_0x814e1b(0x14d)]&&_0xcea3e9[_0x814e1b(0x20f)]()!==this[_0x814e1b(0x312)][_0x814e1b(0x5b0)]['stopConversation'][_0x814e1b(0x20f)]())return this[_0x814e1b(0x190)][_0x814e1b(0x240)](this['instanceName']+'\x20('+this[_0x814e1b(0x2d6)]['wuid']+_0x814e1b(0xfb)),null;if(_0x1cf896['key']['fromMe']&&_0xcea3e9[_0x814e1b(0x20f)]()===this[_0x814e1b(0x312)][_0x814e1b(0x5b0)]['stopConversation'][_0x814e1b(0x20f)]()){this['logger'][_0x814e1b(0x240)](this['instanceName']+'\x20('+this['instance'][_0x814e1b(0x46f)]+_0x814e1b(0x2fb));let _0x2d4986=await G[_0x814e1b(0x37e)]({'owner':_0x13df2a,'remoteJid':_0x340f76,'status':'open'});this[_0x814e1b(0x190)][_0x814e1b(0x240)](this[_0x814e1b(0x344)]+'\x20('+this[_0x814e1b(0x2d6)][_0x814e1b(0x46f)]+'):\x20Conversas\x20encontradas:'+_0x2d4986);let _0x5e37c8=Date['now'](),_0x2d9ac1;return this[_0x814e1b(0x312)][_0x814e1b(0x5b0)]['stopMinutes']===0x0?_0x2d9ac1={'stoppedUntil':_0x5e37c8+0x7591f6200}:_0x2d9ac1={'stoppedUntil':_0x5e37c8+this['AutomateSystem']['flowConfig'][_0x814e1b(0x368)]*0x3c*0x3e8},this[_0x814e1b(0x190)]['verbose'](this[_0x814e1b(0x344)]+'\x20('+this['instance'][_0x814e1b(0x46f)]+_0x814e1b(0x694)+_0x2d9ac1),this[_0x814e1b(0x1c7)](_0x110454,_0x2d9ac1['stoppedUntil']),null;}if(_0xcea3e9[_0x814e1b(0x50a)](this[_0x814e1b(0x312)][_0x814e1b(0x5b0)][_0x814e1b(0x2f0)])&&_0xcea3e9[_0x814e1b(0x523)]>0x4){let _0x3695db=await D[_0x814e1b(0x548)]({'owner':_0x13df2a,'startCommandWord':_0xcea3e9});if(this[_0x814e1b(0x190)]['verbose'](this[_0x814e1b(0x344)]+'\x20('+this['instance'][_0x814e1b(0x46f)]+_0x814e1b(0x695)),_0x3695db)_0x110454=await this[_0x814e1b(0x491)](_0x3695db,_0x1cf896[_0x814e1b(0x378)],_0x1cf896);else return this[_0x814e1b(0x190)][_0x814e1b(0x240)](this[_0x814e1b(0x344)]+'\x20('+this[_0x814e1b(0x2d6)]['wuid']+_0x814e1b(0x21c)),null;}else _0x110454=await this[_0x814e1b(0x539)](_0x13df2a,_0x340f76,_0x1cf896);if(_0x110454){this[_0x814e1b(0x190)][_0x814e1b(0x240)](this[_0x814e1b(0x344)]+'\x20('+this[_0x814e1b(0x2d6)][_0x814e1b(0x46f)]+_0x814e1b(0x198)),!_0x10dffd[_0x814e1b(0x14d)]&&_0x110454[_0x814e1b(0x540)]&&this[_0x814e1b(0x29f)](_0x110454);let _0x423aca=await this[_0x814e1b(0x1c4)](_0x110454);_0x423aca&&await this[_0x814e1b(0x51e)](_0x110454,_0x423aca,_0x110454[_0x814e1b(0x41e)]);}}catch(_0x5de997){this[_0x814e1b(0x190)][_0x814e1b(0x182)](this[_0x814e1b(0x344)]+'\x20('+this[_0x814e1b(0x2d6)][_0x814e1b(0x46f)]+_0x814e1b(0x6a0)+_0x5de997);}}[a0_0x38390a(0x671)](_0x2f4997,_0x278924='',_0x5da37e={},_0x3237ce=!0x0){const _0x5d7d21=a0_0x38390a;for(let _0x4424ed in _0x2f4997){let _0x13f9f9=_0x3237ce?'_'+_0x4424ed:''+_0x278924+_0x4424ed;typeof _0x2f4997[_0x4424ed]=='object'&&_0x2f4997[_0x4424ed]!==null?this[_0x5d7d21(0x671)](_0x2f4997[_0x4424ed],_0x13f9f9+'.',_0x5da37e,!0x1):_0x5da37e[_0x13f9f9]=_0x2f4997[_0x4424ed];}return _0x5da37e;}[a0_0x38390a(0x267)](_0x237b52){const _0x2feeff=a0_0x38390a;let _0x253381={};for(let _0xc2562a of _0x237b52)typeof _0xc2562a['name']==_0x2feeff(0x1ac)&&typeof _0xc2562a[_0x2feeff(0x3bc)]==_0x2feeff(0x1ac)&&(_0x253381[_0xc2562a['name']]=_0xc2562a[_0x2feeff(0x3bc)]);return _0x253381;}async['NextBlock'](_0xe688a6){const _0xfb6235=a0_0x38390a;if(!this[_0xfb6235(0x312)][_0xfb6235(0x5b0)][_0xfb6235(0xf9)]||_0xe688a6[_0xfb6235(0x13c)]!==_0xfb6235(0x201)&&_0xe688a6[_0xfb6235(0x178)]==='')return null;let _0x1525dc=_0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x4e6)]||'start';typeof _0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x550)]>'u'&&(_0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x550)]=!0x0);let _0x17ec35=_0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x550)];this[_0xfb6235(0x190)][_0xfb6235(0x240)](this['instanceName']+'\x20('+this[_0xfb6235(0x2d6)]['wuid']+_0xfb6235(0x36c)+_0x1525dc+',\x20lastCondition:\x20'+_0x17ec35);let _0x5ceb3c=_0x1525dc===_0xfb6235(0x20e)?_0xe688a6['blocks'][_0xfb6235(0x37e)](_0x104bfc=>_0x104bfc[_0xfb6235(0x188)]==='start'):_0xe688a6[_0xfb6235(0x272)][_0xfb6235(0x37e)](_0x713a51=>_0x713a51[_0xfb6235(0x195)][_0xfb6235(0x2aa)]()===_0x1525dc['toString']());if(!_0x5ceb3c)return this['logger'][_0xfb6235(0x182)](this[_0xfb6235(0x344)]+'\x20('+this[_0xfb6235(0x2d6)]['wuid']+_0xfb6235(0x3ef)+_0x1525dc),null;let _0x1c6d38={'_pushName':_0xe688a6['chatLog']['lastReceivedMessage'][_0xfb6235(0x50b)],..._0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x4ef)]},_0x511677=null;if(_0xe688a6[_0xfb6235(0x178)]){let _0x24b62a=_0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x2b3)][_0xfb6235(0x571)],_0x4ed469=_0xe688a6[_0xfb6235(0x260)][_0xfb6235(0x37e)](_0x1f2586=>_0x1f2586[_0xfb6235(0x469)]===_0x24b62a);if(_0x4ed469){let _0x2a611d=_0x4ed469['next_groupId'];if(_0x511677=_0xe688a6[_0xfb6235(0x272)][_0xfb6235(0x37e)](_0xf4ed03=>_0xf4ed03[_0xfb6235(0x101)]===_0x2a611d&&_0xf4ed03[_0xfb6235(0x412)]===0x1),_0x5ceb3c[_0xfb6235(0x53e)][_0xfb6235(0x131)]){let _0x33f926={'id':_0xe688a6[_0xfb6235(0x178)],'remoteJid':_0xe688a6[_0xfb6235(0x41e)],'fromMe':!0x0};await this[_0xfb6235(0x2d2)](_0x33f926);}if(_0x5ceb3c['uazapi'][_0xfb6235(0x131)]&&_0x5ceb3c['uazapi'][_0xfb6235(0x37a)]){let _0x5ef112={'number':_0xe688a6[_0xfb6235(0x41e)],'options':{'delay':0x0},'textMessage':{'text':_0xfb6235(0x123)+_0xe688a6[_0xfb6235(0x2de)]+'\x0a*Você\x20respondeu*:\x0a'+_0x24b62a}};await this['textMessage'](_0x5ef112);}_0xe688a6['status']=_0xfb6235(0x201),_0xe688a6[_0xfb6235(0x178)]='',_0xe688a6[_0xfb6235(0x2de)]='',_0xe688a6['waitingPoll_replyOptions']=[];}else{this['logger'][_0xfb6235(0x240)](this[_0xfb6235(0x344)]+'\x20('+this[_0xfb6235(0x2d6)][_0xfb6235(0x46f)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x472024={'activatedCount':_0xe688a6['chatLog'][_0xfb6235(0x42f)][_0xfb6235(0x4ba)](_0x3d8641=>String(_0x3d8641[_0xfb6235(0x603)])===String(_0x1525dc))['length'],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x5ceb3c[_0xfb6235(0x53e)]['pollErrorMessage']){let _0x15e5b8={'number':_0xe688a6[_0xfb6235(0x41e)],'options':{'delay':0x0},'textMessage':{'text':_0x5ceb3c[_0xfb6235(0x53e)]['pollErrorMessage']}};await this[_0xfb6235(0x1e0)](_0x15e5b8);}if(_0x5ceb3c[_0xfb6235(0x192)]!==void 0x0&&_0x472024[_0xfb6235(0x637)]>=_0x5ceb3c[_0xfb6235(0x192)]){let _0x54e811=Date[_0xfb6235(0x29d)](),_0x1d9eb0=_0x5ceb3c[_0xfb6235(0x62c)]??0xa;isNaN(_0x1d9eb0)&&(_0x1d9eb0=0xa);let _0x58fb80=_0x54e811+_0x1d9eb0*0x3c*0x3e8;_0x472024[_0xfb6235(0x43e)]=_0x58fb80,_0x472024[_0xfb6235(0x154)]['push'](_0xfb6235(0x68a)),this[_0xfb6235(0x1c7)](_0xe688a6,_0x58fb80),_0xe688a6[_0xfb6235(0x178)]='',_0xe688a6[_0xfb6235(0x2de)]='',_0xe688a6['waitingPoll_replyOptions']=[];}return this[_0xfb6235(0x200)](_0xe688a6,_0x5ceb3c,_0x472024,!0x0),null;}}if(_0x17ec35&&_0x5ceb3c['next_groupId']&&!_0xe688a6['waitingPoll_id']){let _0x258570=_0xe688a6[_0xfb6235(0x272)][_0xfb6235(0x4ba)](_0x9e360d=>_0x9e360d[_0xfb6235(0x101)][_0xfb6235(0x2aa)]()===_0x5ceb3c['next_groupId'][_0xfb6235(0x2aa)]())[_0xfb6235(0x3db)]((_0x2eee4e,_0x5a10cd)=>_0x2eee4e['order']-_0x5a10cd['order']);_0x258570[_0xfb6235(0x523)]>0x0&&(_0x511677=_0x258570[0x0]);}if(!_0x511677){let _0x3363b9=_0x5ceb3c[_0xfb6235(0x101)],_0x46c6ed=_0xe688a6[_0xfb6235(0x272)]['filter'](_0x1dfba8=>_0x1dfba8['groupId']===_0x3363b9&&_0x1dfba8[_0xfb6235(0x412)]>_0x5ceb3c[_0xfb6235(0x412)])[_0xfb6235(0x3db)]((_0x267581,_0x258afa)=>_0x267581[_0xfb6235(0x412)]-_0x258afa[_0xfb6235(0x412)]);_0x46c6ed[_0xfb6235(0x523)]>0x0&&(_0x511677=_0x46c6ed[0x0]);}if(!_0x511677)return _0xe688a6[_0xfb6235(0x13c)]=_0xfb6235(0x52a),null;_0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x4ef)]=_0x1c6d38;let _0xcdaf76=JSON['parse'](JSON['stringify'](_0x511677));return this[_0xfb6235(0x155)](_0xcdaf76,_0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x4ef)]),_0xe688a6[_0xfb6235(0x1dc)][_0xfb6235(0x4e6)]=_0xcdaf76['_id'],_0xe688a6['chatLog'][_0xfb6235(0x550)]=!0x0,_0xcdaf76;}[a0_0x38390a(0x4df)](_0x2a2d21,_0x43a977){return _0x2a2d21['replace'](/\{\{([^}]+)\}\}/g,(_0x445cca,_0x2d28c1)=>_0x43a977[_0x2d28c1]||'');}[a0_0x38390a(0x155)](_0x1dca91,_0x5e9174){const _0x33987b=a0_0x38390a;for(let _0x487a55 in _0x1dca91)typeof _0x1dca91[_0x487a55]==_0x33987b(0x1ac)?_0x1dca91[_0x487a55]=this[_0x33987b(0x4df)](_0x1dca91[_0x487a55],_0x5e9174):typeof _0x1dca91[_0x487a55]==_0x33987b(0x58c)&&this['replaceVariablesInObject'](_0x1dca91[_0x487a55],_0x5e9174);}async[a0_0x38390a(0x3e8)](_0x484b91,_0x308b73){const _0x4afe74=a0_0x38390a;let _0x233cde=_0x308b73[_0x4afe74(0x195)];if(_0x484b91[_0x4afe74(0x1dc)]&&_0x484b91[_0x4afe74(0x1dc)]['blockLogs']){let _0x460c3f=_0x484b91[_0x4afe74(0x1dc)]['blockLogs'][_0x4afe74(0x4ba)](_0x3972df=>String(_0x3972df[_0x4afe74(0x603)])===String(_0x233cde))['pop']();if(_0x460c3f&&_0x460c3f['error']&&_0x308b73[_0x4afe74(0x19e)])return _0x484b91[_0x4afe74(0x13c)]=_0x4afe74(0x52a),await this[_0x4afe74(0x699)](_0x484b91),null;}if(_0x308b73[_0x4afe74(0x188)]===_0x4afe74(0x535)&&(_0x484b91[_0x4afe74(0x1dc)][_0x4afe74(0x4e6)]=_0x233cde,await this[_0x4afe74(0x699)](_0x484b91)),_0x308b73[_0x4afe74(0x188)]===_0x4afe74(0x53e)&&_0x308b73[_0x4afe74(0x53e)][_0x4afe74(0x252)]===_0x4afe74(0x420)&&_0x484b91[_0x4afe74(0x178)])return _0x484b91['chatLog'][_0x4afe74(0x4e6)]=_0x233cde,await this[_0x4afe74(0x699)](_0x484b91),null;let _0x33999d=await this['NextBlock'](_0x484b91);if(_0x484b91[_0x4afe74(0x1dc)]&&_0x484b91[_0x4afe74(0x1dc)][_0x4afe74(0x42f)]){let _0xef36b4=_0x484b91[_0x4afe74(0x1dc)]['blockLogs'][_0x4afe74(0x4ba)](_0x480bf9=>String(_0x480bf9[_0x4afe74(0x603)])===String(_0x233cde))[_0x4afe74(0x523)];if(_0x308b73['maxActives']!==void 0x0&&_0xef36b4>=_0x308b73[_0x4afe74(0x192)]){let _0x556d0f=Date['now'](),_0x1c1108=_0x308b73[_0x4afe74(0x62c)]??0xa;isNaN(_0x1c1108)&&(_0x1c1108=0xa);let _0x5c68bf=_0x556d0f+_0x1c1108*0x3c*0x3e8,_0x545695={'newStoppedUntil':_0x5c68bf};return this[_0x4afe74(0x1c7)](_0x484b91,_0x5c68bf),this['updateConversation'](_0x484b91,_0x308b73,_0x545695,!0x0),null;}}_0x33999d&&_0x33999d['type']!=='save'&&await this[_0x4afe74(0x51e)](_0x484b91,_0x33999d,_0x484b91['remoteJid']),_0x33999d||await this[_0x4afe74(0x699)](_0x484b91),_0x33999d&&_0x33999d['type']==='save'&&(_0x484b91[_0x4afe74(0x1dc)][_0x4afe74(0x4e6)]=_0x233cde,await this[_0x4afe74(0x699)](_0x484b91));}async[a0_0x38390a(0x51e)](_0x29a283,_0x435f00,_0x413571){const _0x80b43b=a0_0x38390a;try{let _0x189a4a=_0x435f00['type'];this['logger'][_0x80b43b(0x240)](this[_0x80b43b(0x344)]+'\x20('+this[_0x80b43b(0x2d6)][_0x80b43b(0x46f)]+'):\x20Going\x20to\x20'+_0x189a4a);let _0x3fe92b={'uazapi':()=>this[_0x80b43b(0x2e7)](_0x29a283,_0x435f00,_0x413571),'save':()=>this['saveTextReply'](_0x29a283,_0x435f00),'stop':()=>this['stopConversation'](_0x29a283,_0x435f00),'condition':()=>this[_0x80b43b(0x374)](_0x29a283,_0x435f00),'varedit':()=>this['processvaredits'](_0x29a283,_0x435f00),'apirequest':()=>this['processApiRequest'](_0x29a283,_0x435f00),'goToFlow':()=>this[_0x80b43b(0x53b)](_0x29a283,_0x435f00)}[_0x189a4a];_0x3fe92b&&await _0x3fe92b();}catch(_0x5ced63){this[_0x80b43b(0x190)][_0x80b43b(0x182)](this['instanceName']+'\x20('+this[_0x80b43b(0x2d6)][_0x80b43b(0x46f)]+'):\x20Error\x20processing\x20the\x20block:\x20'+_0x5ced63);}}async['processgoToFlow'](_0x32cd46,_0x23892e){const _0x57be8a=a0_0x38390a;if(this[_0x57be8a(0x190)][_0x57be8a(0x240)](this[_0x57be8a(0x344)]+'\x20('+this[_0x57be8a(0x2d6)]['wuid']+_0x57be8a(0x390)),!_0x32cd46||!_0x23892e)return this[_0x57be8a(0x190)]['error'](this[_0x57be8a(0x344)]+'\x20('+this[_0x57be8a(0x2d6)][_0x57be8a(0x46f)]+_0x57be8a(0x34d)),null;await this[_0x57be8a(0x200)](_0x32cd46,_0x23892e,{},!0x0,!0x0),console[_0x57be8a(0x508)](_0x57be8a(0x1a8)),console[_0x57be8a(0x508)](_0x23892e);let _0x8596f5=_0x23892e['goToFlow'];console[_0x57be8a(0x508)](_0x57be8a(0x3a7),_0x8596f5),_0x32cd46=await this[_0x57be8a(0x1b2)](_0x8596f5,_0x32cd46[_0x57be8a(0x41e)],_0x32cd46[_0x57be8a(0x1dc)][_0x57be8a(0x4ef)]),this[_0x57be8a(0x190)][_0x57be8a(0x240)](this[_0x57be8a(0x344)]+'\x20('+this[_0x57be8a(0x2d6)][_0x57be8a(0x46f)]+_0x57be8a(0x640));let _0x2167bd=await this[_0x57be8a(0x1c4)](_0x32cd46);_0x2167bd&&await this[_0x57be8a(0x51e)](_0x32cd46,_0x2167bd,_0x32cd46[_0x57be8a(0x41e)]);}async['createConversationforgoToFlow'](_0x146d55,_0x4f1905,_0x305ca5){const _0x405a64=a0_0x38390a;this[_0x405a64(0x190)]['verbose'](this[_0x405a64(0x344)]+'\x20('+this['instance'][_0x405a64(0x46f)]+'):\x20Criando\x20nova\x20conversa');try{if(_0x146d55=await D[_0x405a64(0x548)]({'owner':this[_0x405a64(0x2d6)]['wuid'],'name':_0x146d55}),!_0x146d55)return this[_0x405a64(0x190)][_0x405a64(0x182)](this[_0x405a64(0x344)]+'\x20('+this[_0x405a64(0x2d6)][_0x405a64(0x46f)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x139191=require('mongodb')[_0x405a64(0x319)],_0x30f0d9=Date['now'](),_0xa98957='start',_0x41cf03={},_0x391414={},_0x3d9953={..._0x146d55[_0x405a64(0x3b1)],'chatLog':null},_0x10e8c5={'lastReceivedMessage':_0x41cf03,'lastSendMessage':_0x391414,'lastBlockId':_0xa98957,'lastCondition':!0x0,'realVariables':_0x305ca5};_0x3d9953['chatLog']=_0x10e8c5,_0x3d9953[_0x405a64(0x1dc)]['realVariables']={..._0x305ca5},delete _0x3d9953[_0x405a64(0x195)],_0x3d9953[_0x405a64(0x195)]=new _0x139191(),_0x3d9953[_0x405a64(0x2f5)]=_0x30f0d9,_0x3d9953[_0x405a64(0x13c)]=_0x405a64(0x201),_0x3d9953[_0x405a64(0x41e)]=_0x4f1905;let _0xd0eedb=await G[_0x405a64(0x2ff)](_0x3d9953);return this[_0x405a64(0x190)][_0x405a64(0x240)](this[_0x405a64(0x344)]+'\x20('+this['instance'][_0x405a64(0x46f)]+_0x405a64(0x22e)),_0xd0eedb?_0x3d9953:null;}catch(_0x2e18aa){throw this[_0x405a64(0x190)][_0x405a64(0x182)](this[_0x405a64(0x344)]+'\x20('+this[_0x405a64(0x2d6)][_0x405a64(0x46f)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x2e18aa),new m(_0x2e18aa[_0x405a64(0x32a)]);}}async['processApiRequest'](_0x310797,_0x5c22d2){const _0x5af2c5=a0_0x38390a;let _0xf863c2,_0x4900cf;try{let _0x15ecc2=_0x5c22d2[_0x5af2c5(0x31e)];if(!_0x15ecc2||!_0x15ecc2['url']||!_0x15ecc2['method'])throw new Error(_0x5af2c5(0x4a2));let _0xf6b346={'method':_0x15ecc2[_0x5af2c5(0x454)],'url':_0x15ecc2[_0x5af2c5(0x386)],'headers':_0x15ecc2['header']||{},'data':_0x15ecc2['body']||{}};_0xf863c2=(await(0x0,le['default'])(_0xf6b346))[_0x5af2c5(0x256)];let _0xeb658c=_0x310797[_0x5af2c5(0x1dc)]['realVariables'],_0x3dd671=this[_0x5af2c5(0x671)](_0xf863c2);return Object[_0x5af2c5(0x500)](_0xeb658c,_0x3dd671),_0x310797[_0x5af2c5(0x1dc)][_0x5af2c5(0x4ef)]=_0xeb658c,_0x4900cf={'error':!0x1,'apiResponse':_0xf863c2},this['updateConversation'](_0x310797,_0x5c22d2,_0x4900cf),_0xf863c2;}catch(_0x5d7646){console[_0x5af2c5(0x182)](_0x5af2c5(0x68b),_0x5d7646),_0x5d7646[_0x5af2c5(0x60b)]&&(_0xf863c2=_0x5d7646['response']['data']);let _0x35d1b5=_0x310797[_0x5af2c5(0x1dc)][_0x5af2c5(0x4ef)],_0x3d4c3f=this[_0x5af2c5(0x671)](_0xf863c2);return Object['assign'](_0x35d1b5,_0x3d4c3f),_0x310797[_0x5af2c5(0x1dc)][_0x5af2c5(0x4ef)]=_0x35d1b5,_0x4900cf={'error':!0x0,'errorLog':_0x5d7646[_0x5af2c5(0x2aa)](),'apiResponse':_0xf863c2},this[_0x5af2c5(0x200)](_0x310797,_0x5c22d2,_0x4900cf),{'success':!0x1};}}[a0_0x38390a(0x2dd)](_0x5b5a22,_0x44ea58){const _0x35ec10=a0_0x38390a;let _0x116bfe=_0x29b4de=>{const _0x5cc36d=a0_0x38ae;let _0x12d944=_0x29b4de[_0x5cc36d(0x3ab)](/[^0-9.,-]/g,'')[_0x5cc36d(0x3ab)](',','.'),_0x411720=parseFloat(_0x12d944);return isNaN(_0x411720)?null:_0x411720;},_0x39b589=_0x44ea58[_0x35ec10(0x381)],_0x413282=_0x44ea58[_0x35ec10(0x597)];typeof _0x39b589==_0x35ec10(0x1ac)&&(_0x39b589=this[_0x35ec10(0x4df)](_0x39b589,_0x5b5a22[_0x35ec10(0x1dc)][_0x35ec10(0x4ef)])??''),typeof _0x413282==_0x35ec10(0x1ac)&&(_0x413282=this[_0x35ec10(0x4df)](_0x413282,_0x5b5a22['chatLog'][_0x35ec10(0x4ef)])??'');let _0x4ae323=null;if(!_0x39b589||!_0x44ea58[_0x35ec10(0x5b9)])return null;switch(this['logger'][_0x35ec10(0x240)](this[_0x35ec10(0x344)]+'\x20('+this[_0x35ec10(0x2d6)][_0x35ec10(0x46f)]+_0x35ec10(0x1fa)+_0x39b589),this['logger'][_0x35ec10(0x240)](this['instanceName']+'\x20('+this[_0x35ec10(0x2d6)][_0x35ec10(0x46f)]+_0x35ec10(0x363)+_0x413282),_0x44ea58[_0x35ec10(0x5b9)]){case'+':case'-':case'*':case'/':let _0x388bc4=_0x116bfe(_0x39b589),_0x1468e3=_0x116bfe(_0x413282||'0');if(_0x388bc4===null)return null;switch(_0x44ea58[_0x35ec10(0x5b9)]){case'+':_0x4ae323=_0x388bc4+(_0x1468e3??0x0);break;case'-':_0x4ae323=_0x388bc4-(_0x1468e3??0x0);break;case'*':_0x4ae323=_0x388bc4*(_0x1468e3??0x1);break;case'/':_0x1468e3!==0x0&&(_0x4ae323=_0x388bc4/(_0x1468e3??0x1));break;}break;case _0x35ec10(0x45c):case _0x35ec10(0x5c0):let _0x40a108=_0x413282,_0x30b14c=_0x44ea58[_0x35ec10(0x656)];if(typeof _0x30b14c==_0x35ec10(0x1ac)&&(_0x30b14c=this[_0x35ec10(0x4df)](_0x30b14c,_0x5b5a22[_0x35ec10(0x1dc)][_0x35ec10(0x4ef)])??''),_0x40a108&&_0x30b14c!==void 0x0){let _0x7125aa=_0x44ea58[_0x35ec10(0x5b9)]===_0x35ec10(0x45c)?new RegExp(_0x40a108[_0x35ec10(0x3ab)](/[-\/\\^$*+?.()|[\]{}]/g,_0x35ec10(0x405)),'g'):new RegExp(_0x40a108,'g');_0x4ae323=_0x39b589[_0x35ec10(0x3ab)](_0x7125aa,_0x30b14c);}else console[_0x35ec10(0x283)](_0x35ec10(0x1ed));break;case'setNewValue':_0x4ae323=_0x413282;break;case _0x35ec10(0x668):let _0x56b366=_0x39b589[_0x35ec10(0x4db)](new RegExp(_0x413282||''));_0x4ae323=_0x56b366?_0x56b366[0x0]:'';break;case _0x35ec10(0x43c):_0x4ae323=_0x39b589['slice'](0x0,parseInt(_0x413282||'0'));break;case _0x35ec10(0x2d8):let _0x2ec2cb=parseInt(_0x413282||'0');_0x4ae323=_0x39b589[_0x35ec10(0x1ea)](_0x39b589[_0x35ec10(0x523)]-_0x2ec2cb);break;case _0x35ec10(0x410):let _0x16968c=_0x116bfe(_0x39b589),_0x16af6b=parseInt(_0x413282||'0');_0x16af6b=Math[_0x35ec10(0x238)](_0x16af6b),_0x16968c!==null?_0x4ae323=_0x16968c['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x16af6b,'maximumFractionDigits':_0x16af6b}):(console['warn'](_0x35ec10(0x32f)+_0x39b589),_0x4ae323=null);break;case _0x35ec10(0x45a):let _0x3cba16=_0x116bfe(_0x39b589);_0x3cba16!==null?_0x4ae323=_0x3cba16[_0x35ec10(0x4ab)](_0x35ec10(0x468),{'style':_0x35ec10(0x116),'currency':_0x35ec10(0x2e2)}):(console[_0x35ec10(0x283)](_0x35ec10(0x636)+_0x39b589),_0x4ae323=null);break;case _0x35ec10(0x340):_0x4ae323=_0x39b589[_0x35ec10(0x1fe)]();break;case'lowerCase':_0x4ae323=_0x39b589['toLowerCase']();break;case _0x35ec10(0x3e5):_0x4ae323=_0x39b589[_0x35ec10(0x142)]('\x20')[_0x35ec10(0x1da)](_0x685f58=>_0x685f58[_0x35ec10(0x434)](0x0)[_0x35ec10(0x1fe)]()+_0x685f58['slice'](0x1)[_0x35ec10(0x564)]())[_0x35ec10(0x518)]('\x20');break;case _0x35ec10(0x69c):_0x4ae323=_0x39b589[_0x35ec10(0x20f)]();break;default:_0x4ae323=_0x39b589;}return _0x4ae323!==null?_0x4ae323[_0x35ec10(0x2aa)]():null;}async[a0_0x38390a(0x27a)](_0x43d13c,_0x1bd5fe){const _0x2fb283=a0_0x38390a;try{let _0x26d0b7=_0x43d13c[_0x2fb283(0x467)]?.['filter'](_0x26e29f=>_0x26e29f['blockId']===_0x1bd5fe[_0x2fb283(0x195)]?.[_0x2fb283(0x2aa)]())||[],_0xc8220b=_0x1bd5fe['saveVariable'],_0x188d47=null,_0x3d113f=[],_0x38e25a=_0x43d13c[_0x2fb283(0x1dc)][_0x2fb283(0x4ef)][_0xc8220b];_0x3d113f[_0x2fb283(0x1d9)]('Valor\x20inicial:\x20\x22'+_0x38e25a+'\x22');for(let _0x2dc14a of _0x26d0b7){_0x2dc14a['firstValue']=_0x38e25a,_0x188d47=_0x2dc14a[_0x2fb283(0x381)];let _0x1e0bbc;try{_0x1e0bbc=this['applyvaredit'](_0x43d13c,_0x2dc14a);}catch(_0x87fbca){console[_0x2fb283(0x182)](_0x2fb283(0x601)+_0x87fbca[_0x2fb283(0x32a)]);continue;}if(_0x1e0bbc!==null){let _0x4f5c60=_0x2fb283(0x4e3)+_0x2dc14a['editOperator']+'\x22',_0x37cdcc=[_0x2fb283(0x45a),'upperCase',_0x2fb283(0x23f),_0x2fb283(0x3e5),_0x2fb283(0x69c)];_0x2dc14a[_0x2fb283(0x5b9)]==='findAndReplace'||_0x2dc14a[_0x2fb283(0x5b9)]===_0x2fb283(0x5c0)?_0x4f5c60+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x2dc14a['secondValue']+_0x2fb283(0x2bc)+_0x2dc14a[_0x2fb283(0x656)]+'\x22':!_0x37cdcc['includes'](_0x2dc14a[_0x2fb283(0x5b9)])&&_0x2dc14a['secondValue']!==null&&_0x2dc14a['secondValue']!==void 0x0&&(_0x4f5c60+=_0x2fb283(0x271)+_0x2dc14a[_0x2fb283(0x597)]+'\x22'),_0x4f5c60+=_0x2fb283(0x128)+_0x1e0bbc+'.',_0x3d113f[_0x2fb283(0x1d9)](_0x4f5c60);}_0x1e0bbc!==null&&(_0x38e25a=_0x1e0bbc);}if(_0x43d13c[_0x2fb283(0x1dc)]['realVariables']&&_0x1bd5fe['saveVariable']){_0x43d13c[_0x2fb283(0x1dc)][_0x2fb283(0x4ef)][_0x1bd5fe[_0x2fb283(0x453)]]=_0x38e25a;let _0x4ade6e={'variable':_0x1bd5fe[_0x2fb283(0x453)],'oldValue':_0x188d47,'newValue':_0x38e25a,'moreLogs':_0x3d113f};try{this[_0x2fb283(0x200)](_0x43d13c,_0x1bd5fe,_0x4ade6e);}catch(_0x5b9b88){console[_0x2fb283(0x182)](_0x2fb283(0x4fa)+_0x5b9b88['message']);}}return _0xc8220b;}catch(_0x5a83ee){return console[_0x2fb283(0x182)](_0x2fb283(0x49e)+_0x5a83ee['message']),null;}}async[a0_0x38390a(0x374)](_0x2f8ef7,_0x24b3fa){const _0xabf4af=a0_0x38390a;try{let _0x1d7fed=[],_0x576690=_0x2f8ef7[_0xabf4af(0x4f8)]['filter'](_0x1efd2c=>_0x1efd2c[_0xabf4af(0x603)]===_0x24b3fa[_0xabf4af(0x195)]['toString']()),_0x27394a=!0x0,_0x2b86d6=null;for(let _0x312501 of _0x576690){let _0x3a5cc7=this[_0xabf4af(0x59b)](_0x2f8ef7,_0x312501);if(_0x1d7fed[_0xabf4af(0x1d9)]('Primeiro\x20Valor:\x20'+_0x312501[_0xabf4af(0x381)]+_0xabf4af(0x664)+_0x312501[_0xabf4af(0x15f)]+_0xabf4af(0x2ec)+_0x312501[_0xabf4af(0x597)]+_0xabf4af(0x14c)+_0x3a5cc7),_0x2b86d6===null)_0x27394a=_0x3a5cc7;else{if(_0x2b86d6==='or'&&_0x3a5cc7){_0x27394a=!0x0;break;}else{if(_0x2b86d6===_0xabf4af(0x49b)&&!_0x3a5cc7){_0x27394a=!0x1;break;}}}_0x2b86d6=_0x312501['OrAnd'];}let _0x63b0d5={'moreLogs':_0x1d7fed};_0x27394a?(_0x2f8ef7[_0xabf4af(0x1dc)][_0xabf4af(0x550)]=!0x0,this['updateConversation'](_0x2f8ef7,_0x24b3fa,_0x63b0d5)):(_0x2f8ef7[_0xabf4af(0x1dc)][_0xabf4af(0x550)]=!0x1,_0x63b0d5[_0xabf4af(0x154)]=_0x1d7fed,this[_0xabf4af(0x200)](_0x2f8ef7,_0x24b3fa,_0x63b0d5));}catch(_0x2b9692){this['logger'][_0xabf4af(0x182)](this['instanceName']+'\x20('+this['instance'][_0xabf4af(0x46f)]+_0xabf4af(0x43d)+_0x2b9692);}}['evaluateCondition'](_0x1dde9e,_0x3f18d0){const _0x58fa49=a0_0x38390a;let _0x2f11cc=_0x3f18d0[_0x58fa49(0x381)],_0x64dfa7=_0x3f18d0[_0x58fa49(0x597)];typeof _0x2f11cc==_0x58fa49(0x1ac)&&(_0x2f11cc=this[_0x58fa49(0x4df)](_0x2f11cc,_0x1dde9e[_0x58fa49(0x1dc)][_0x58fa49(0x4ef)])??''),typeof _0x64dfa7==_0x58fa49(0x1ac)&&(_0x64dfa7=this['replaceVariables'](_0x64dfa7,_0x1dde9e[_0x58fa49(0x1dc)][_0x58fa49(0x4ef)])??'');try{switch(_0x3f18d0['expression']){case _0x58fa49(0x2d7):return _0x2f11cc===_0x64dfa7;case _0x58fa49(0x33f):return _0x2f11cc!==_0x64dfa7;case _0x58fa49(0x207):return _0x2f11cc[_0x58fa49(0x264)](_0x64dfa7);case _0x58fa49(0x4c9):return!_0x2f11cc['includes'](_0x64dfa7);case _0x58fa49(0x3e6):return parseFloat(_0x2f11cc)>parseFloat(_0x64dfa7);case _0x58fa49(0x5c8):return parseFloat(_0x2f11cc)<parseFloat(_0x64dfa7);case'notEmpty':return _0x2f11cc!=='';case _0x58fa49(0x3ce):return _0x2f11cc==='';case _0x58fa49(0x531):return new RegExp(_0x64dfa7)[_0x58fa49(0x22d)](_0x2f11cc);case _0x58fa49(0x3d8):return!new RegExp(_0x64dfa7)[_0x58fa49(0x22d)](_0x2f11cc);default:return!0x1;}}catch(_0x4ea8ad){return console[_0x58fa49(0x182)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x4ea8ad),!0x1;}}['processConditionsTest'](_0xafcbc1){const _0xb36f22=a0_0x38390a;let _0x3fe5b7=!0x0,_0x8d6739=null;for(let _0x3ba424 of _0xafcbc1){let _0x33cad5=this[_0xb36f22(0x657)](_0x3ba424);if(_0x8d6739==='or'&&_0x33cad5){_0x3fe5b7=!0x0;break;}if(_0x8d6739===_0xb36f22(0x49b)&&!_0x33cad5){_0x3fe5b7=!0x1;break;}_0x8d6739=_0x3ba424[_0xb36f22(0x57d)];}return _0x3fe5b7;}[a0_0x38390a(0x657)](_0x3dc1d8){const _0x5456b8=a0_0x38390a;let _0x2c5e70=_0x3dc1d8['firstValue'],_0x322532=_0x3dc1d8['secondValue'];try{switch(_0x3dc1d8[_0x5456b8(0x15f)]){case _0x5456b8(0x2d7):return String(_0x2c5e70)===String(_0x322532);case _0x5456b8(0x33f):return String(_0x2c5e70)!==String(_0x322532);case _0x5456b8(0x207):return String(_0x2c5e70)[_0x5456b8(0x264)](String(_0x322532));case _0x5456b8(0x4c9):return!String(_0x2c5e70)[_0x5456b8(0x264)](String(_0x322532));case _0x5456b8(0x3e6):return parseFloat(String(_0x2c5e70))>parseFloat(String(_0x322532));case _0x5456b8(0x5c8):return parseFloat(String(_0x2c5e70))<parseFloat(String(_0x322532));case _0x5456b8(0x26a):return String(_0x2c5e70)!=='';case'empty':return String(_0x2c5e70)==='';case'matchRegex':return new RegExp(String(_0x322532))[_0x5456b8(0x22d)](String(_0x2c5e70));case _0x5456b8(0x3d8):return!new RegExp(String(_0x322532))[_0x5456b8(0x22d)](String(_0x2c5e70));default:return!0x1;}}catch(_0x20f7dc){return console[_0x5456b8(0x182)](_0x5456b8(0x25a)+_0x20f7dc),!0x1;}}async[a0_0x38390a(0x5a2)](_0x4f5194,_0x332c21){const _0x30ab3f=a0_0x38390a;if(this[_0x30ab3f(0x190)][_0x30ab3f(0x240)](this[_0x30ab3f(0x344)]+'\x20('+this[_0x30ab3f(0x2d6)][_0x30ab3f(0x46f)]+_0x30ab3f(0x2d9)),!_0x4f5194||!_0x332c21)return this[_0x30ab3f(0x190)][_0x30ab3f(0x182)](this[_0x30ab3f(0x344)]+'\x20('+this[_0x30ab3f(0x2d6)][_0x30ab3f(0x46f)]+_0x30ab3f(0x34d)),null;let _0x4befd4=_0x332c21[_0x30ab3f(0x453)],_0x2228d9=_0x4f5194[_0x30ab3f(0x1dc)][_0x30ab3f(0x2b3)][_0x30ab3f(0x143)]||_0x4f5194[_0x30ab3f(0x1dc)][_0x30ab3f(0x2b3)][_0x30ab3f(0x1a7)]||_0x4f5194[_0x30ab3f(0x1dc)][_0x30ab3f(0x2b3)][_0x30ab3f(0x571)];try{_0x4f5194[_0x30ab3f(0x1dc)][_0x30ab3f(0x4ef)]||(_0x4f5194[_0x30ab3f(0x1dc)]['realVariables']={});let _0x4e77a3=_0x4f5194[_0x30ab3f(0x1dc)][_0x30ab3f(0x4ef)][_0x4befd4];_0x4f5194[_0x30ab3f(0x1dc)]['realVariables'][_0x4befd4]=_0x2228d9;let _0x520d80={'variable':_0x4befd4,'oldValue':_0x4e77a3,'newValue':_0x2228d9};this[_0x30ab3f(0x200)](_0x4f5194,_0x332c21,_0x520d80),this['logger'][_0x30ab3f(0x240)](this[_0x30ab3f(0x344)]+'\x20('+this[_0x30ab3f(0x2d6)][_0x30ab3f(0x46f)]+_0x30ab3f(0x2bd));}catch(_0x56c395){let _0x1c62c7={'error':!0x0,'errorLog':_0x56c395[_0x30ab3f(0x2aa)]()};return this[_0x30ab3f(0x200)](_0x4f5194,_0x332c21,_0x1c62c7),this['logger'][_0x30ab3f(0x182)](this[_0x30ab3f(0x344)]+'\x20('+this['instance'][_0x30ab3f(0x46f)]+_0x30ab3f(0x3a2)+_0x56c395[_0x30ab3f(0x32a)]),null;}}async[a0_0x38390a(0x3ea)](_0x4de76c,_0x5571cc){const _0x38db21=a0_0x38390a;if(this[_0x38db21(0x190)][_0x38db21(0x240)](this[_0x38db21(0x344)]+'\x20('+this[_0x38db21(0x2d6)]['wuid']+_0x38db21(0x5b6)),!_0x4de76c||!_0x5571cc)return this[_0x38db21(0x190)][_0x38db21(0x182)](this[_0x38db21(0x344)]+'\x20('+this[_0x38db21(0x2d6)][_0x38db21(0x46f)]+_0x38db21(0x34d)),null;let _0x442e36=Date['now'](),_0x373255=parseInt(_0x5571cc[_0x38db21(0x368)],0xa);if(isNaN(_0x373255))return this[_0x38db21(0x190)][_0x38db21(0x182)](this[_0x38db21(0x344)]+'\x20('+this[_0x38db21(0x2d6)]['wuid']+_0x38db21(0x172)),null;let _0x2244b4=_0x442e36+_0x373255*0x3c*0x3e8,_0x1ceea3={'newStoppedUntil':_0x2244b4};return this[_0x38db21(0x1c7)](_0x4de76c,_0x2244b4),this[_0x38db21(0x200)](_0x4de76c,_0x5571cc,_0x1ceea3),null;}async[a0_0x38390a(0x2e7)](_0x4f1289,_0x15ec06,_0x10cdc0){const _0x245a00=a0_0x38390a;try{switch(_0x15ec06[_0x245a00(0x53e)]['command']){case _0x245a00(0x3fc):await this[_0x245a00(0x583)](_0x4f1289,_0x15ec06,_0x10cdc0);break;case _0x245a00(0x270):await this['uazapiSendMedia'](_0x4f1289,_0x15ec06,_0x10cdc0);break;case _0x245a00(0x5c6):await this[_0x245a00(0x2b5)](_0x4f1289,_0x15ec06,_0x10cdc0);break;case _0x245a00(0x3b9):await this[_0x245a00(0x479)](_0x4f1289,_0x15ec06,_0x10cdc0);break;case _0x245a00(0x514):await this[_0x245a00(0x35f)](_0x4f1289,_0x15ec06,_0x10cdc0);break;case _0x245a00(0x420):await this[_0x245a00(0x69a)](_0x4f1289,_0x15ec06,_0x10cdc0);break;case _0x245a00(0x2d2):await this[_0x245a00(0x3e0)](_0x4f1289,_0x15ec06,_0x10cdc0);break;default:this[_0x245a00(0x190)][_0x245a00(0x182)](this[_0x245a00(0x344)]+'\x20('+this[_0x245a00(0x2d6)][_0x245a00(0x46f)]+_0x245a00(0x384)+_0x15ec06[_0x245a00(0x53e)]['command']);}}catch(_0x8d538d){this['logger'][_0x245a00(0x182)](this[_0x245a00(0x344)]+'\x20('+this['instance'][_0x245a00(0x46f)]+_0x245a00(0x42c)+_0x8d538d);}}async['updateConversation'](_0xf149d7,_0x15c27e,_0x47dd96,_0x3c4c4e=!0x1,_0x50efa4=!0x1){const _0x45b8ad=a0_0x38390a;_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x42f)]||(_0xf149d7['chatLog'][_0x45b8ad(0x42f)]=[]);let _0x4baa1b=(_0xf149d7[_0x45b8ad(0x1dc)]['blockLogs']?.[_0x45b8ad(0x523)]??0x0)+0x1,_0x370860=_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x42f)][_0x45b8ad(0x4ba)](_0x16f1bb=>String(_0x16f1bb[_0x45b8ad(0x603)])===String(_0x15c27e[_0x45b8ad(0x195)]))[_0x45b8ad(0x523)]+0x1,_0x4e213b=_0x47dd96?.[_0x45b8ad(0x464)]??Date['now'](),_0x4ec0e8=_0x47dd96?.[_0x45b8ad(0x182)]?_0x47dd96[_0x45b8ad(0x465)]??_0x47dd96[_0x45b8ad(0x182)]['toString']():void 0x0,_0x380695={'onTime':_0x4e213b,'blockId':_0x15c27e[_0x45b8ad(0x195)],'order':_0x4baa1b,'activatedCount':_0x370860,'error':_0x47dd96?.[_0x45b8ad(0x182)]??!0x1,'messageId':_0x47dd96?.[_0x45b8ad(0x65e)],'apiResponse':_0x47dd96?.['apiResponse'],'apiResponseString':_0x47dd96?.[_0x45b8ad(0x3f3)]?JSON[_0x45b8ad(0x5a0)](_0x47dd96?.[_0x45b8ad(0x3f3)]):void 0x0,'variable':_0x47dd96?.[_0x45b8ad(0x629)],'oldValue':_0x47dd96?.[_0x45b8ad(0x470)],'newValue':_0x47dd96?.[_0x45b8ad(0x2ea)],'newStoppedUntil':_0x47dd96?.[_0x45b8ad(0x43e)],'moreLogs':_0x47dd96?.[_0x45b8ad(0x154)],'errorLog':_0x4ec0e8};if(_0x47dd96[_0x45b8ad(0x154)]&&_0x47dd96[_0x45b8ad(0x154)][_0x45b8ad(0x523)]>0x0){let _0x5f47da=_0x47dd96[_0x45b8ad(0x154)][_0x45b8ad(0x1da)](_0x40684b=>this['replaceVariablesLogs'](_0x40684b,_0xf149d7[_0x45b8ad(0x1dc)]['realVariables']));_0x380695[_0x45b8ad(0x154)]=_0x5f47da;}_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x4ef)]||(_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x4ef)]={}),_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x4ef)][_0x45b8ad(0x38b)]=String(_0x370860),_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x4ef)]['_error']=String(_0x47dd96[_0x45b8ad(0x182)]??!0x1),_0xf149d7[_0x45b8ad(0x1dc)]['blockLogs'][_0x45b8ad(0x1d9)](_0x380695),_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x4e6)]=_0x15c27e[_0x45b8ad(0x195)][_0x45b8ad(0x2aa)](),_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x2ac)]&&(_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x2ac)]=_0xf149d7['chatLog'][_0x45b8ad(0x2ac)]),_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x2b3)]&&(_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x2b3)]=_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x2b3)]),_0xf149d7['chatLog'][_0x45b8ad(0x550)]&&(_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x550)]=_0xf149d7[_0x45b8ad(0x1dc)][_0x45b8ad(0x550)]),_0x50efa4&&(_0xf149d7[_0x45b8ad(0x13c)]=_0x45b8ad(0x52a)),_0x3c4c4e?this[_0x45b8ad(0x699)](_0xf149d7):this[_0x45b8ad(0x3e8)](_0xf149d7,_0x15c27e);}[a0_0x38390a(0x619)](_0x3e3549,_0x53f6a6){const _0x9d95c7=a0_0x38390a;return _0x3e3549[_0x9d95c7(0x3ab)](/\{\{([^}]+)\}\}/g,(_0x1e40ab,_0x217f82)=>_0x53f6a6[_0x217f82]?'{{'+_0x217f82+'}}\x20->\x20\x22'+_0x53f6a6[_0x217f82]+'\x22':'{{'+_0x217f82+_0x9d95c7(0x65f));}async['saveConversationToDatabase'](_0x438ac9){const _0x32c304=a0_0x38390a;try{let _0x1187dd=Object[_0x32c304(0x5eb)](_0x438ac9[_0x32c304(0x1dc)][_0x32c304(0x4ef)])[_0x32c304(0x1da)](([_0x49d031,_0x2b2c37])=>({'name':_0x49d031,'value':_0x2b2c37})),_0x3ef0ac=[_0x32c304(0x4f5),_0x32c304(0x4e5),'email',_0x32c304(0x346),'status','notas',_0x32c304(0x5ff),'tags'];if(!this[_0x32c304(0x312)]&&(await this[_0x32c304(0x44e)](),!this[_0x32c304(0x312)]))throw new Error(_0x32c304(0x6a2));let _0x5d4c28=this[_0x32c304(0x312)][_0x32c304(0x49c)]['map'](_0x188012=>_0x188012['name']),_0x465574={};Object[_0x32c304(0x5eb)](_0x438ac9[_0x32c304(0x1dc)][_0x32c304(0x4ef)])['forEach'](([_0x28060a,_0x189cd8])=>{const _0xb32764=_0x32c304;_0x3ef0ac[_0xb32764(0x264)](_0x28060a)&&(_0x28060a==='tags'&&typeof _0x189cd8==_0xb32764(0x1ac)?_0x465574[_0x28060a]=_0x189cd8[_0xb32764(0x142)](',\x20'):_0x465574[_0x28060a]=_0x189cd8);});let _0x713afe=_0x1187dd[_0x32c304(0x4ba)](_0x215f5c=>_0x5d4c28[_0x32c304(0x264)](_0x215f5c[_0x32c304(0x2c9)]));this[_0x32c304(0x190)][_0x32c304(0x240)](this[_0x32c304(0x344)]+'\x20('+this[_0x32c304(0x2d6)][_0x32c304(0x46f)]+_0x32c304(0x6aa)),this[_0x32c304(0x190)][_0x32c304(0x240)](_0x465574),this[_0x32c304(0x190)]['verbose'](this['instanceName']+'\x20('+this[_0x32c304(0x2d6)]['wuid']+_0x32c304(0x2b1)),this[_0x32c304(0x190)]['verbose'](_0x713afe);let _0x38d6d0=_0x713afe['map'](_0x511eed=>{const _0x557189=_0x32c304;let _0x362864=this[_0x557189(0x312)]['customFields'][_0x557189(0x37e)](_0x33af3c=>_0x33af3c['name']===_0x511eed[_0x557189(0x2c9)]);if(!_0x362864)throw new Error(_0x557189(0x173)+_0x511eed[_0x557189(0x2c9)]);return{'_id':_0x362864[_0x557189(0x195)],'value':_0x511eed['value']};});this['logger'][_0x32c304(0x240)](this[_0x32c304(0x344)]+'\x20('+this[_0x32c304(0x2d6)][_0x32c304(0x46f)]+_0x32c304(0x450)),this[_0x32c304(0x190)]['verbose'](_0x38d6d0);let _0x58a17b=await G[_0x32c304(0x58f)]({'_id':_0x438ac9[_0x32c304(0x195)]},{'$set':{'chatLog.lastBlockId':_0x438ac9[_0x32c304(0x1dc)]['lastBlockId'],'blocks':_0x438ac9[_0x32c304(0x272)],'chatLog.lastSendMessage':_0x438ac9[_0x32c304(0x1dc)]['lastSendMessage'],'chatLog.lastReceivedMessage':_0x438ac9[_0x32c304(0x1dc)][_0x32c304(0x2b3)],'chatLog.chatVariables':_0x1187dd,'chatLog.realVariables':_0x438ac9['chatLog'][_0x32c304(0x4ef)],'status':_0x438ac9[_0x32c304(0x13c)],'chatLog.blockLogs':_0x438ac9[_0x32c304(0x1dc)][_0x32c304(0x42f)],'waitingPoll_id':_0x438ac9[_0x32c304(0x178)],'waitingPoll_name':_0x438ac9['waitingPoll_name'],'waitingPoll_replyOptions':_0x438ac9['waitingPoll_replyOptions']}},{'new':!0x0});if(_0x58a17b){this['logger']['verbose'](this[_0x32c304(0x344)]+'\x20('+this[_0x32c304(0x2d6)]['wuid']+_0x32c304(0x456)+_0x58a17b[_0x32c304(0x195)]);let _0x4935d9=await I[_0x32c304(0x58f)]({'id':_0x438ac9[_0x32c304(0x41e)],'owner':this[_0x32c304(0x2d6)][_0x32c304(0x46f)]},{'$set':{'leadInfo.nome':_0x465574[_0x32c304(0x4f5)],'leadInfo.nomecompleto':_0x465574[_0x32c304(0x4e5)],'leadInfo.email':_0x465574[_0x32c304(0x639)],'leadInfo.cpf':_0x465574[_0x32c304(0x346)],'leadInfo.status':_0x465574[_0x32c304(0x13c)],'leadInfo.notas':_0x465574['notas'],'leadInfo.responsavelid':_0x465574[_0x32c304(0x5ff)],'leadInfo.tags':_0x465574[_0x32c304(0x478)],'leadInfo.customFields':_0x38d6d0}},{'new':!0x0,'upsert':!0x0});_0x4935d9?(this[_0x32c304(0x190)]['verbose'](this[_0x32c304(0x344)]+'\x20('+this['instance'][_0x32c304(0x46f)]+'):\x20Chat\x20atualizado\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x4935d9['_id']),H(this['instanceName'],_0x32c304(0x3bd),{'chat':_0x4935d9})):this[_0x32c304(0x190)][_0x32c304(0x182)](this[_0x32c304(0x344)]+'\x20('+this[_0x32c304(0x2d6)][_0x32c304(0x46f)]+'):\x20A\x20atualização\x20no\x20BD\x20do\x20chat\x20não\x20foi\x20bem\x20sucedida');}else this['logger'][_0x32c304(0x182)](this['instanceName']+'\x20('+this[_0x32c304(0x2d6)]['wuid']+_0x32c304(0x274));}catch(_0x2adaae){this[_0x32c304(0x190)][_0x32c304(0x182)](this[_0x32c304(0x344)]+'\x20('+this[_0x32c304(0x2d6)][_0x32c304(0x46f)]+_0x32c304(0x38c)+JSON['stringify'](_0x2adaae));}}async['updateChat'](_0x50f7fb,_0x59f4eb){const _0x55fdb3=a0_0x38390a;try{let _0x3bf0b8=await I['findOneAndUpdate']({'id':_0x50f7fb[_0x55fdb3(0x41e)],'owner':_0x50f7fb[_0x55fdb3(0x1eb)]},{'$set':{'desativadoFluxoAte':_0x59f4eb}},{'new':!0x0});this[_0x55fdb3(0x190)][_0x55fdb3(0x240)](this[_0x55fdb3(0x344)]+'\x20('+this[_0x55fdb3(0x2d6)][_0x55fdb3(0x46f)]+_0x55fdb3(0x21b)+_0x50f7fb[_0x55fdb3(0x195)]),_0x3bf0b8&&H(this[_0x55fdb3(0x344)],'chats',{'chat':_0x3bf0b8});}catch(_0x5bbfc6){this[_0x55fdb3(0x190)]['error'](this[_0x55fdb3(0x344)]+'\x20('+this['instance'][_0x55fdb3(0x46f)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON['stringify'](_0x5bbfc6));}}async[a0_0x38390a(0x36a)](_0x709bb2,_0x24bba2){const _0x5a9ddc=a0_0x38390a;try{this[_0x5a9ddc(0x190)][_0x5a9ddc(0x240)](this[_0x5a9ddc(0x344)]+'\x20('+this[_0x5a9ddc(0x2d6)][_0x5a9ddc(0x46f)]+_0x5a9ddc(0x40e));let _0x53d3f3=_0x24bba2[_0x5a9ddc(0x3ab)](/\D/g,''),_0x27636a=await D[_0x5a9ddc(0x548)]({'owner':_0x709bb2,'testingWith':_0x53d3f3});return _0x27636a||(this[_0x5a9ddc(0x190)][_0x5a9ddc(0x240)](this[_0x5a9ddc(0x344)]+'\x20('+this[_0x5a9ddc(0x2d6)]['wuid']+_0x5a9ddc(0x338)),_0x27636a=await D['findOne']({'owner':_0x709bb2,'default':!0x0})),_0x27636a||(this[_0x5a9ddc(0x190)]['verbose'](this[_0x5a9ddc(0x344)]+'\x20('+this[_0x5a9ddc(0x2d6)][_0x5a9ddc(0x46f)]+_0x5a9ddc(0x5de)),null);}catch(_0x3dc946){return this[_0x5a9ddc(0x190)][_0x5a9ddc(0x182)](this[_0x5a9ddc(0x344)]+'\x20('+this[_0x5a9ddc(0x2d6)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x3dc946),null;}}async[a0_0x38390a(0x539)](_0x20236d,_0x19c0b7,_0x38c1b9){const _0x1cae70=a0_0x38390a;try{let _0x206b11=!!_0x38c1b9['vote'],_0x3ed1ac=_0x38c1b9[_0x1cae70(0x3a6)],_0x3f4a1e=null;if(this[_0x1cae70(0x190)][_0x1cae70(0x240)](this[_0x1cae70(0x344)]+'\x20('+this['instance'][_0x1cae70(0x46f)]+_0x1cae70(0x681)+_0x206b11+_0x1cae70(0x3a6)+_0x3ed1ac),_0x206b11)return this[_0x1cae70(0x190)][_0x1cae70(0x240)](this['instanceName']+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto'),_0x3f4a1e=await G[_0x1cae70(0x548)]({'owner':_0x20236d,'remoteJid':_0x19c0b7,'waitingPoll_id':_0x3ed1ac}),_0x3f4a1e?(_0x3f4a1e[_0x1cae70(0x2f5)]=Date[_0x1cae70(0x29d)](),_0x3f4a1e['chatLog'][_0x1cae70(0x2b3)]=_0x38c1b9,_0x3f4a1e):(this[_0x1cae70(0x190)][_0x1cae70(0x240)](this[_0x1cae70(0x344)]+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+_0x1cae70(0x65c)),null);{if(this['logger'][_0x1cae70(0x240)](this[_0x1cae70(0x344)]+'\x20('+this['instance'][_0x1cae70(0x46f)]+'):\x20'+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+_0x1cae70(0x580)),this['logger'][_0x1cae70(0x240)](this[_0x1cae70(0x344)]+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+_0x1cae70(0x66a)),_0x3f4a1e=await G['findOne']({'owner':_0x20236d,'remoteJid':_0x19c0b7,'status':_0x1cae70(0x201)}),!_0x3f4a1e){let _0x23f03f=await this[_0x1cae70(0x36a)](_0x20236d,_0x19c0b7);if(_0x23f03f&&(_0x3f4a1e=await this[_0x1cae70(0x491)](_0x23f03f,_0x38c1b9[_0x1cae70(0x378)],_0x38c1b9)),!_0x3f4a1e)return null;}let _0x5b6b22=Date[_0x1cae70(0x29d)](),_0x5312ab=_0x3f4a1e?.[_0x1cae70(0x1b8)]||0x0,_0x11d51d=_0x5b6b22-_0x5312ab*0x3c*0x3e8;if(this[_0x1cae70(0x190)][_0x1cae70(0x240)](this[_0x1cae70(0x344)]+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+'):\x20Current\x20Time:\x20'+_0x5b6b22+_0x1cae70(0x5bd)+_0x5312ab+_0x1cae70(0x544)+_0x11d51d),this['logger']['verbose'](this[_0x1cae70(0x344)]+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+_0x1cae70(0x5fa)),this[_0x1cae70(0x190)]['verbose'](this[_0x1cae70(0x344)]+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+_0x1cae70(0x144)+_0x3f4a1e[_0x1cae70(0x2f5)]),this['logger'][_0x1cae70(0x240)](this[_0x1cae70(0x344)]+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+_0x1cae70(0x536)+_0x11d51d),_0x3f4a1e['lastInteraction']<_0x11d51d){this[_0x1cae70(0x190)][_0x1cae70(0x240)](this[_0x1cae70(0x344)]+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+_0x1cae70(0x57a));let _0x5f1308=await this['findFlow'](_0x20236d,_0x19c0b7);if(_0x5f1308===null)return null;_0x3f4a1e&&await G[_0x1cae70(0x2d3)]({'_id':_0x3f4a1e[_0x1cae70(0x195)]},{'status':_0x1cae70(0x52a)}),_0x3f4a1e=await this[_0x1cae70(0x491)](_0x5f1308,_0x38c1b9['key'],_0x38c1b9);}return _0x3f4a1e[_0x1cae70(0x2f5)]=_0x5b6b22,_0x3f4a1e['chatLog']['lastReceivedMessage']=_0x38c1b9,_0x3f4a1e;}}catch(_0x295936){return this[_0x1cae70(0x190)][_0x1cae70(0x182)](this[_0x1cae70(0x344)]+'\x20('+this[_0x1cae70(0x2d6)][_0x1cae70(0x46f)]+_0x1cae70(0x3f5)+_0x295936),null;}}async[a0_0x38390a(0x491)](_0x24b7ce,_0x2428f8,_0x1c27bf){const _0x1febc0=a0_0x38390a;this[_0x1febc0(0x190)]['verbose'](this[_0x1febc0(0x344)]+'\x20('+this[_0x1febc0(0x2d6)][_0x1febc0(0x46f)]+_0x1febc0(0x21a));try{let _0x7f3ad4=require('mongodb')[_0x1febc0(0x319)],_0x8623ec=Date[_0x1febc0(0x29d)](),_0x126a46='start',_0x5aa6da=_0x2428f8['fromMe']?null:_0x1c27bf,_0x3b6e55=_0x2428f8[_0x1febc0(0x14d)]?_0x1c27bf:null,_0x5432cc=_0x2428f8[_0x1febc0(0x41e)],_0x396fcf={..._0x24b7ce[_0x1febc0(0x3b1)],'chatLog':null},_0x19634e=await this[_0x1febc0(0x267)](_0x396fcf[_0x1febc0(0x3c1)]),_0x73f469=await this[_0x1febc0(0x2b2)](_0x5432cc),_0x4e1373={..._0x19634e,..._0x73f469},_0x5ad86a={'lastReceivedMessage':_0x5aa6da,'lastSendMessage':_0x3b6e55,'lastBlockId':_0x126a46,'lastCondition':!0x0,'realVariables':_0x4e1373};_0x396fcf[_0x1febc0(0x1dc)]=_0x5ad86a,delete _0x396fcf['_id'],_0x396fcf[_0x1febc0(0x195)]=new _0x7f3ad4(),_0x396fcf[_0x1febc0(0x2f5)]=_0x8623ec,_0x396fcf[_0x1febc0(0x13c)]=_0x1febc0(0x201),_0x396fcf[_0x1febc0(0x41e)]=_0x5432cc;let _0x4ac3a0=await G[_0x1febc0(0x2ff)](_0x396fcf);return this[_0x1febc0(0x190)][_0x1febc0(0x240)](this[_0x1febc0(0x344)]+'\x20('+this[_0x1febc0(0x2d6)][_0x1febc0(0x46f)]+_0x1febc0(0x22e)),_0x4ac3a0?_0x396fcf:null;}catch(_0x4718ce){return this[_0x1febc0(0x190)][_0x1febc0(0x182)](this[_0x1febc0(0x344)]+'\x20('+this[_0x1febc0(0x2d6)][_0x1febc0(0x46f)]+_0x1febc0(0x5da)+_0x4718ce),_0x4718ce;}}async['uazapiSendText'](_0x235678,_0x29cae6,_0x86fffd){const _0x304bc5=a0_0x38390a;this['logger'][_0x304bc5(0x240)](this[_0x304bc5(0x344)]+'\x20('+this[_0x304bc5(0x2d6)][_0x304bc5(0x46f)]+_0x304bc5(0x5df));let _0x45520a={'number':_0x86fffd,'options':{'delay':_0x29cae6[_0x304bc5(0x53e)][_0x304bc5(0x218)]},'textMessage':{'text':_0x29cae6['uazapi'][_0x304bc5(0x143)]}};try{let _0x4a487c=await this[_0x304bc5(0x1e0)](_0x45520a);if(_0x4a487c){let _0x3a60fd={'_id':_0x4a487c[_0x304bc5(0x378)]['id'],'_fromMe':_0x4a487c['key'][_0x304bc5(0x14d)],'_remoteJid':_0x4a487c[_0x304bc5(0x378)][_0x304bc5(0x41e)]};_0x235678[_0x304bc5(0x1dc)][_0x304bc5(0x4e6)]=_0x29cae6[_0x304bc5(0x195)][_0x304bc5(0x2aa)]();let {message_normalized:_0x49bffa}=this['normalizeMessage'](_0x4a487c[_0x304bc5(0x32a)],q(_0x4a487c[_0x304bc5(0x32a)]),null);_0x235678['chatLog'][_0x304bc5(0x2ac)]=await _0x49bffa;let _0x153ad3={'messageId':_0x4a487c[_0x304bc5(0x378)]['id']},_0x16cbb3=_0x235678[_0x304bc5(0x1dc)][_0x304bc5(0x4ef)];Object[_0x304bc5(0x500)](_0x16cbb3,_0x3a60fd),_0x235678[_0x304bc5(0x1dc)][_0x304bc5(0x4ef)]=_0x16cbb3,this['updateConversation'](_0x235678,_0x29cae6,_0x153ad3);}else{let _0x1aa421={'error':!0x0};this[_0x304bc5(0x200)](_0x235678,_0x29cae6,_0x1aa421),this[_0x304bc5(0x190)][_0x304bc5(0x182)](this[_0x304bc5(0x344)]+'\x20('+this[_0x304bc5(0x2d6)][_0x304bc5(0x46f)]+_0x304bc5(0x3ac));}}catch(_0x52499f){let _0x39c684={'error':!0x0,'errorLog':_0x52499f['toString']()};this['updateConversation'](_0x235678,_0x29cae6,_0x39c684),this[_0x304bc5(0x190)][_0x304bc5(0x182)](this[_0x304bc5(0x344)]+'\x20('+this[_0x304bc5(0x2d6)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+_0x52499f[_0x304bc5(0x2aa)]());}}async['uazapiSendMedia'](_0x1f7da7,_0x11a116,_0x578710){const _0x44e372=a0_0x38390a;this[_0x44e372(0x190)][_0x44e372(0x240)](this['instanceName']+'\x20('+this[_0x44e372(0x2d6)][_0x44e372(0x46f)]+'):\x20Enviando\x20mídia');let _0x395d0b={'number':_0x578710,'options':{'delay':_0x11a116[_0x44e372(0x53e)][_0x44e372(0x218)]},'mediaMessage':{'mediatype':_0x11a116['uazapi'][_0x44e372(0x4ca)],'caption':_0x11a116[_0x44e372(0x53e)][_0x44e372(0x1a7)],'media':_0x11a116[_0x44e372(0x53e)][_0x44e372(0x419)]}};try{let _0x220901=await this[_0x44e372(0x4cf)](_0x395d0b);if(_0x220901){let _0x18df26={'_id':_0x220901[_0x44e372(0x378)]['id'],'_fromMe':_0x220901[_0x44e372(0x378)][_0x44e372(0x14d)],'_remoteJid':_0x220901[_0x44e372(0x378)][_0x44e372(0x41e)]};_0x1f7da7[_0x44e372(0x1dc)][_0x44e372(0x4e6)]=_0x11a116[_0x44e372(0x195)][_0x44e372(0x2aa)]();let {message_normalized:_0x1e13c7}=this['normalizeMessage'](_0x220901[_0x44e372(0x32a)],q(_0x220901[_0x44e372(0x32a)]),null);_0x1f7da7[_0x44e372(0x1dc)][_0x44e372(0x2ac)]=await _0x1e13c7;let _0x231d8e={'messageId':_0x220901[_0x44e372(0x378)]['id']},_0x2cae91=_0x1f7da7[_0x44e372(0x1dc)]['realVariables'];Object['assign'](_0x2cae91,_0x18df26),_0x1f7da7[_0x44e372(0x1dc)]['realVariables']=_0x2cae91,this['updateConversation'](_0x1f7da7,_0x11a116,_0x231d8e);}else{let _0x62ba0={'error':!0x0};this['updateConversation'](_0x1f7da7,_0x11a116,_0x62ba0),this[_0x44e372(0x190)][_0x44e372(0x182)](this['instanceName']+'\x20('+this[_0x44e372(0x2d6)]['wuid']+_0x44e372(0x276));}}catch(_0xac2608){let _0x2c4589={'error':!0x0,'errorLog':_0xac2608['toString']()};this[_0x44e372(0x200)](_0x1f7da7,_0x11a116,_0x2c4589),this[_0x44e372(0x190)][_0x44e372(0x182)](this['instanceName']+'\x20('+this[_0x44e372(0x2d6)][_0x44e372(0x46f)]+_0x44e372(0x6a8)+_0xac2608[_0x44e372(0x2aa)]());}}async[a0_0x38390a(0x2b5)](_0x32105b,_0x431c48,_0x453a5b){const _0x371c2f=a0_0x38390a;this[_0x371c2f(0x190)][_0x371c2f(0x240)](this[_0x371c2f(0x344)]+'\x20('+this[_0x371c2f(0x2d6)][_0x371c2f(0x46f)]+_0x371c2f(0x23a));let _0x20b551={'number':_0x453a5b,'options':{'delay':_0x431c48['uazapi']['delay']},'locationMessage':{'name':_0x431c48[_0x371c2f(0x53e)][_0x371c2f(0x2c9)],'address':_0x431c48[_0x371c2f(0x53e)][_0x371c2f(0x4ec)],'latitude':_0x431c48[_0x371c2f(0x53e)][_0x371c2f(0x3d5)],'longitude':_0x431c48[_0x371c2f(0x53e)][_0x371c2f(0x2ad)]}};try{let _0x5d4ddf=await this[_0x371c2f(0x296)](_0x20b551);if(_0x5d4ddf){let _0xf689d7={'_id':_0x5d4ddf[_0x371c2f(0x378)]['id'],'_fromMe':_0x5d4ddf[_0x371c2f(0x378)][_0x371c2f(0x14d)],'_remoteJid':_0x5d4ddf[_0x371c2f(0x378)][_0x371c2f(0x41e)]};_0x32105b[_0x371c2f(0x1dc)][_0x371c2f(0x4e6)]=_0x431c48[_0x371c2f(0x195)][_0x371c2f(0x2aa)]();let {message_normalized:_0x354dd7}=this[_0x371c2f(0x66f)](_0x5d4ddf[_0x371c2f(0x32a)],q(_0x5d4ddf[_0x371c2f(0x32a)]),null);_0x32105b[_0x371c2f(0x1dc)][_0x371c2f(0x2ac)]=await _0x354dd7;let _0x281381={'messageId':_0x5d4ddf[_0x371c2f(0x378)]['id']},_0x335ada=_0x32105b[_0x371c2f(0x1dc)][_0x371c2f(0x4ef)];Object[_0x371c2f(0x500)](_0x335ada,_0xf689d7),_0x32105b[_0x371c2f(0x1dc)][_0x371c2f(0x4ef)]=_0x335ada,this['updateConversation'](_0x32105b,_0x431c48,_0x281381);}else{let _0x241fa8={'error':!0x0};this[_0x371c2f(0x200)](_0x32105b,_0x431c48,_0x241fa8),this[_0x371c2f(0x190)]['error'](this[_0x371c2f(0x344)]+'\x20('+this[_0x371c2f(0x2d6)][_0x371c2f(0x46f)]+_0x371c2f(0x109));}}catch(_0x1e689f){let _0x3b5e64={'error':!0x0,'errorLog':_0x1e689f[_0x371c2f(0x2aa)]()};this[_0x371c2f(0x200)](_0x32105b,_0x431c48,_0x3b5e64),this[_0x371c2f(0x190)][_0x371c2f(0x182)](this['instanceName']+'\x20('+this[_0x371c2f(0x2d6)][_0x371c2f(0x46f)]+_0x371c2f(0x607)+_0x1e689f[_0x371c2f(0x2aa)]());}}async[a0_0x38390a(0x479)](_0x5c124e,_0x1df1d9,_0x3af96d){const _0x3e132c=a0_0x38390a;this[_0x3e132c(0x190)][_0x3e132c(0x240)](this[_0x3e132c(0x344)]+'\x20('+this['instance'][_0x3e132c(0x46f)]+_0x3e132c(0x2d0));let _0xa6f483={'number':_0x3af96d,'options':{'delay':_0x1df1d9['uazapi'][_0x3e132c(0x218)]},'audioMessage':{'audio':_0x1df1d9[_0x3e132c(0x53e)][_0x3e132c(0x35e)]}};try{let _0x2c941=await this['audioWhatsapp'](_0xa6f483);if(_0x2c941){let _0x109c2d={'_id':_0x2c941[_0x3e132c(0x378)]['id'],'_fromMe':_0x2c941['key'][_0x3e132c(0x14d)],'_remoteJid':_0x2c941[_0x3e132c(0x378)][_0x3e132c(0x41e)]};_0x5c124e[_0x3e132c(0x1dc)][_0x3e132c(0x4e6)]=_0x1df1d9[_0x3e132c(0x195)][_0x3e132c(0x2aa)]();let {message_normalized:_0x55f2dd}=this[_0x3e132c(0x66f)](_0x2c941[_0x3e132c(0x32a)],q(_0x2c941[_0x3e132c(0x32a)]),null);_0x5c124e[_0x3e132c(0x1dc)][_0x3e132c(0x2ac)]=await _0x55f2dd;let _0x1e930f={'messageId':_0x2c941[_0x3e132c(0x378)]['id']},_0x50cc0e=_0x5c124e[_0x3e132c(0x1dc)][_0x3e132c(0x4ef)];Object[_0x3e132c(0x500)](_0x50cc0e,_0x109c2d),_0x5c124e['chatLog'][_0x3e132c(0x4ef)]=_0x50cc0e,this[_0x3e132c(0x200)](_0x5c124e,_0x1df1d9,_0x1e930f);}else{let _0x338b6b={'error':!0x0};this[_0x3e132c(0x200)](_0x5c124e,_0x1df1d9,_0x338b6b),this[_0x3e132c(0x190)][_0x3e132c(0x182)](this['instanceName']+'\x20('+this[_0x3e132c(0x2d6)][_0x3e132c(0x46f)]+_0x3e132c(0x303));}}catch(_0x5ee140){let _0x30c403={'error':!0x0,'errorLog':_0x5ee140[_0x3e132c(0x2aa)]()};this[_0x3e132c(0x200)](_0x5c124e,_0x1df1d9,_0x30c403),this['logger'][_0x3e132c(0x182)](this[_0x3e132c(0x344)]+'\x20('+this[_0x3e132c(0x2d6)][_0x3e132c(0x46f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+_0x5ee140[_0x3e132c(0x2aa)]());}}async[a0_0x38390a(0x35f)](_0x184ad5,_0x23605e,_0x2aac9f){const _0x1b0ac2=a0_0x38390a;this['logger'][_0x1b0ac2(0x240)](this['instanceName']+'\x20('+this[_0x1b0ac2(0x2d6)][_0x1b0ac2(0x46f)]+_0x1b0ac2(0x5d2));let _0x46e634={'number':_0x2aac9f,'options':{'delay':_0x23605e['uazapi'][_0x1b0ac2(0x218)]},'contactMessage':[{'fullName':_0x23605e[_0x1b0ac2(0x53e)]['fullName'],'phoneNumber':_0x23605e['uazapi'][_0x1b0ac2(0x411)]}]};try{let _0x2d30e0=await this[_0x1b0ac2(0x26b)](_0x46e634);if(_0x2d30e0){let _0x1dbe0e={'_id':_0x2d30e0[_0x1b0ac2(0x378)]['id'],'_fromMe':_0x2d30e0[_0x1b0ac2(0x378)][_0x1b0ac2(0x14d)],'_remoteJid':_0x2d30e0[_0x1b0ac2(0x378)][_0x1b0ac2(0x41e)]};_0x184ad5[_0x1b0ac2(0x1dc)]['lastBlockId']=_0x23605e[_0x1b0ac2(0x195)][_0x1b0ac2(0x2aa)]();let {message_normalized:_0x111c43}=this[_0x1b0ac2(0x66f)](_0x2d30e0[_0x1b0ac2(0x32a)],q(_0x2d30e0['message']),null);_0x184ad5[_0x1b0ac2(0x1dc)][_0x1b0ac2(0x2ac)]=await _0x111c43;let _0x11a6e0={'messageId':_0x2d30e0[_0x1b0ac2(0x378)]['id']},_0x265a7f=_0x184ad5[_0x1b0ac2(0x1dc)]['realVariables'];Object['assign'](_0x265a7f,_0x1dbe0e),_0x184ad5['chatLog']['realVariables']=_0x265a7f,this[_0x1b0ac2(0x200)](_0x184ad5,_0x23605e,_0x11a6e0);}else{let _0x352af9={'error':!0x0};this[_0x1b0ac2(0x200)](_0x184ad5,_0x23605e,_0x352af9),this[_0x1b0ac2(0x190)][_0x1b0ac2(0x182)](this[_0x1b0ac2(0x344)]+'\x20('+this['instance'][_0x1b0ac2(0x46f)]+_0x1b0ac2(0x59f));}}catch(_0x3d9a66){let _0x5219bc={'error':!0x0,'errorLog':_0x3d9a66[_0x1b0ac2(0x2aa)]()};this[_0x1b0ac2(0x200)](_0x184ad5,_0x23605e,_0x5219bc),this[_0x1b0ac2(0x190)][_0x1b0ac2(0x182)](this['instanceName']+'\x20('+this[_0x1b0ac2(0x2d6)][_0x1b0ac2(0x46f)]+_0x1b0ac2(0x67d)+_0x3d9a66[_0x1b0ac2(0x2aa)]());}}[a0_0x38390a(0x698)](_0x7231a6,_0x789fed){const _0x4e67c8=a0_0x38390a;for(let _0x54eeff of _0x7231a6)_0x54eeff['option']&&(_0x54eeff[_0x4e67c8(0x469)]=this['replaceVariables'](_0x54eeff[_0x4e67c8(0x469)],_0x789fed)),_0x54eeff[_0x4e67c8(0x612)]&&(_0x54eeff[_0x4e67c8(0x612)]=this[_0x4e67c8(0x4df)](_0x54eeff['optionDescription'],_0x789fed));}async[a0_0x38390a(0x69a)](_0x6677df,_0x547993,_0x598c3e){const _0x30ac93=a0_0x38390a;this['logger'][_0x30ac93(0x240)](this['instanceName']+'\x20('+this[_0x30ac93(0x2d6)][_0x30ac93(0x46f)]+_0x30ac93(0x125));let _0x2d0e64=_0x6677df[_0x30ac93(0x60a)][_0x30ac93(0x4ba)](_0x4c9941=>_0x4c9941['blockId']===_0x547993['_id']);this[_0x30ac93(0x698)](_0x2d0e64,_0x6677df[_0x30ac93(0x1dc)][_0x30ac93(0x4ef)]);let _0x46e997=_0x2d0e64[_0x30ac93(0x1da)](_0x4b6666=>_0x4b6666[_0x30ac93(0x469)]),_0x130fa2={'number':_0x598c3e,'options':{'delay':_0x547993[_0x30ac93(0x53e)]['delay']},'pollMessage':{'name':_0x547993['uazapi']['name'],'selectableCount':0x1,'values':_0x46e997}};try{let _0x154afc=await this['pollMessage'](_0x130fa2);if(_0x154afc){let _0x281dc7={'_id':_0x154afc[_0x30ac93(0x378)]['id'],'_fromMe':_0x154afc[_0x30ac93(0x378)][_0x30ac93(0x14d)],'_remoteJid':_0x154afc['key'][_0x30ac93(0x41e)]};this[_0x30ac93(0x190)][_0x30ac93(0x240)](this[_0x30ac93(0x344)]+'\x20('+this['instance'][_0x30ac93(0x46f)]+_0x30ac93(0x28b)+_0x547993[_0x30ac93(0x53e)][_0x30ac93(0x2c9)]),_0x6677df[_0x30ac93(0x178)]=_0x154afc[_0x30ac93(0x378)]['id'],_0x6677df[_0x30ac93(0x2de)]=_0x547993[_0x30ac93(0x53e)]['name'],_0x6677df[_0x30ac93(0x260)]=_0x2d0e64,this[_0x30ac93(0x190)][_0x30ac93(0x240)](this[_0x30ac93(0x344)]+'\x20('+this[_0x30ac93(0x2d6)][_0x30ac93(0x46f)]+'):\x20conversation.waitingPollname'+_0x6677df[_0x30ac93(0x2de)]),_0x6677df[_0x30ac93(0x1dc)][_0x30ac93(0x4e6)]=_0x547993['_id']['toString']();let {message_normalized:_0xe4b19f}=this['normalizeMessage'](_0x154afc[_0x30ac93(0x32a)],q(_0x154afc[_0x30ac93(0x32a)]),null);_0x6677df[_0x30ac93(0x1dc)][_0x30ac93(0x2ac)]=await _0xe4b19f;let _0x4e785b={'messageId':_0x154afc['key']['id']},_0x47cf54=_0x6677df[_0x30ac93(0x1dc)][_0x30ac93(0x4ef)];Object[_0x30ac93(0x500)](_0x47cf54,_0x281dc7),_0x6677df[_0x30ac93(0x1dc)]['realVariables']=_0x47cf54,this['updateConversation'](_0x6677df,_0x547993,_0x4e785b);}else{let _0x2b0f8f={'error':!0x0};this['updateConversation'](_0x6677df,_0x547993,_0x2b0f8f),this[_0x30ac93(0x190)][_0x30ac93(0x182)](this['instanceName']+'\x20('+this[_0x30ac93(0x2d6)]['wuid']+_0x30ac93(0x389));}}catch(_0x41b383){let _0x320676={'error':!0x0,'errorLog':_0x41b383[_0x30ac93(0x2aa)]()};this[_0x30ac93(0x200)](_0x6677df,_0x547993,_0x320676),this[_0x30ac93(0x190)][_0x30ac93(0x182)](this[_0x30ac93(0x344)]+'\x20('+this[_0x30ac93(0x2d6)][_0x30ac93(0x46f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+_0x41b383[_0x30ac93(0x2aa)]());}}async[a0_0x38390a(0x3e0)](_0x2b911e,_0x58938b,_0x48c7a5){const _0x49f43e=a0_0x38390a;this['logger'][_0x49f43e(0x240)](this[_0x49f43e(0x344)]+'\x20('+this[_0x49f43e(0x2d6)]['wuid']+'):\x20Deletando\x20mensagem');let _0x2e79d9=_0x2b911e[_0x49f43e(0x1dc)][_0x49f43e(0x42f)]['find'](_0x4087d4=>_0x4087d4[_0x49f43e(0x603)][_0x49f43e(0x2aa)]()===_0x58938b[_0x49f43e(0x53e)][_0x49f43e(0x603)][_0x49f43e(0x2aa)]()),_0x4362aa={'id':_0x2e79d9[_0x49f43e(0x65e)],'remoteJid':_0x2e79d9['remoteJid'],'fromMe':_0x2e79d9[_0x49f43e(0x14d)]};try{let _0x192426=await this['deleteMessage'](_0x4362aa);if(_0x192426){_0x2b911e[_0x49f43e(0x1dc)][_0x49f43e(0x4e6)]=_0x58938b[_0x49f43e(0x195)][_0x49f43e(0x2aa)]();let {message_normalized:_0x31af22}=this[_0x49f43e(0x66f)](_0x192426[_0x49f43e(0x32a)],q(_0x192426[_0x49f43e(0x32a)]),null);_0x2b911e[_0x49f43e(0x1dc)][_0x49f43e(0x2ac)]=await _0x31af22;let _0x28bcf7={};this[_0x49f43e(0x200)](_0x2b911e,_0x58938b,_0x28bcf7);}else{let _0x24b130={'error':!0x0};this['updateConversation'](_0x2b911e,_0x58938b,_0x24b130),this[_0x49f43e(0x190)][_0x49f43e(0x182)](this[_0x49f43e(0x344)]+'\x20('+this[_0x49f43e(0x2d6)][_0x49f43e(0x46f)]+_0x49f43e(0x3eb));}}catch(_0x376fad){let _0x1c9fc2={'error':!0x0,'errorLog':_0x376fad[_0x49f43e(0x2aa)]()};this[_0x49f43e(0x200)](_0x2b911e,_0x58938b,_0x1c9fc2),this[_0x49f43e(0x190)]['error'](this[_0x49f43e(0x344)]+'\x20('+this[_0x49f43e(0x2d6)][_0x49f43e(0x46f)]+_0x49f43e(0x3b0)+_0x376fad[_0x49f43e(0x2aa)]());}}async[a0_0x38390a(0x48d)](_0x3c7055){const _0x52acad=a0_0x38390a;try{if(this[_0x52acad(0x190)][_0x52acad(0x240)](this['instanceName']+'\x20('+this[_0x52acad(0x2d6)][_0x52acad(0x46f)]+_0x52acad(0x688)),await D[_0x52acad(0x548)]({'owner':this[_0x52acad(0x2d6)]['wuid'],'name':_0x3c7055[_0x52acad(0x2c9)]}))return{'message':_0x52acad(0x135)};_0x3c7055[_0x52acad(0x2d4)]===!0x0&&await D[_0x52acad(0x5d3)]({'owner':this[_0x52acad(0x2d6)][_0x52acad(0x46f)]},{'default':!0x1});let _0x47583d=new ye['Types']['ObjectId'](),_0x4b622d={'_id':_0x47583d,'default':!0x0,'title':_0x52acad(0x3cd),'x':0x0,'y':0x0},_0x4b3a4d={'_id':new ye['Types'][(_0x52acad(0x319))](),'order':0x1,'groupId':_0x47583d[_0x52acad(0x2aa)](),'type':'start'};return await D[_0x52acad(0x2ff)]({'owner':this[_0x52acad(0x2d6)][_0x52acad(0x46f)],'name':_0x3c7055['name'],'groups':[_0x4b622d],'blocks':[_0x4b3a4d],..._0x3c7055});}catch(_0x1afbcc){throw this[_0x52acad(0x190)][_0x52acad(0x182)](this['instanceName']+'\x20('+this[_0x52acad(0x2d6)]['wuid']+_0x52acad(0x457)+_0x1afbcc),new m('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x1afbcc);}}async[a0_0x38390a(0x38f)](_0x3790ac){const _0x185eb9=a0_0x38390a;try{return this[_0x185eb9(0x190)][_0x185eb9(0x240)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Deletando\x20fluxo...'),await D[_0x185eb9(0x321)]({'owner':this[_0x185eb9(0x2d6)][_0x185eb9(0x46f)],'name':_0x3790ac});}catch(_0x40a4a6){return this[_0x185eb9(0x190)][_0x185eb9(0x182)](this[_0x185eb9(0x344)]+'\x20('+this[_0x185eb9(0x2d6)][_0x185eb9(0x46f)]+_0x185eb9(0x438)+_0x40a4a6),{'message':_0x185eb9(0x697)+_0x40a4a6};}}async[a0_0x38390a(0x28d)](_0x34f00e){const _0x4fe287=a0_0x38390a;try{this[_0x4fe287(0x190)][_0x4fe287(0x240)](this['instanceName']+'\x20('+this[_0x4fe287(0x2d6)]['wuid']+_0x4fe287(0x40e));let _0x37e834=await D['findOne']({'owner':this['instance'][_0x4fe287(0x46f)],'name':_0x34f00e});if(!_0x37e834)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x4fe287(0x312)]&&(await this['getAutomateSystem'](),!this[_0x4fe287(0x312)]))return null;let _0xcf6c57=this[_0x4fe287(0x312)][_0x4fe287(0x49c)]['map'](_0x7cf46e=>_0x7cf46e[_0x4fe287(0x2c9)]),_0x513b47=['nome',_0x4fe287(0x4e5),'email',_0x4fe287(0x346),_0x4fe287(0x13c),_0x4fe287(0x5d1),'responsavelid',_0x4fe287(0x478)];return _0x37e834[_0x4fe287(0x3c1)]=_0x37e834[_0x4fe287(0x3c1)][_0x4fe287(0x4ba)](_0x6a4ec4=>!_0x513b47[_0x4fe287(0x264)](_0x6a4ec4[_0x4fe287(0x2c9)])),_0x513b47[_0x4fe287(0x5e6)](_0x3bac8c=>{const _0x3f8a32=_0x4fe287;_0x37e834[_0x3f8a32(0x3c1)][_0x3f8a32(0x1d9)]({'folder':_0x3f8a32(0x45e),'name':_0x3bac8c,'value':'','doc':'','leadInfo':!0x0});}),_0x37e834['variables']=_0x37e834['variables'][_0x4fe287(0x4ba)](_0xef8a1d=>!_0xcf6c57[_0x4fe287(0x264)](_0xef8a1d[_0x4fe287(0x2c9)])),_0xcf6c57[_0x4fe287(0x5e6)](_0x42a6b9=>{const _0x36be75=_0x4fe287;_0x37e834['variables'][_0x36be75(0x602)](_0x3a1b59=>_0x3a1b59[_0x36be75(0x2c9)]===_0x42a6b9&&_0x3a1b59[_0x36be75(0x45e)]===!0x0)||_0x37e834['variables'][_0x36be75(0x1d9)]({'folder':_0x36be75(0x45e),'name':_0x42a6b9,'value':'','doc':'','leadInfo':!0x0});}),await _0x37e834[_0x4fe287(0x5e0)](),_0x37e834;}catch(_0x518f78){throw this[_0x4fe287(0x190)][_0x4fe287(0x182)](this[_0x4fe287(0x344)]+'\x20('+this[_0x4fe287(0x2d6)][_0x4fe287(0x46f)]+_0x4fe287(0x3c5)+_0x518f78),new m(_0x4fe287(0x232)+_0x518f78);}}async[a0_0x38390a(0x1bb)](){const _0x15b883=a0_0x38390a;try{return this[_0x15b883(0x190)][_0x15b883(0x240)](this[_0x15b883(0x344)]+'\x20('+this[_0x15b883(0x2d6)]['wuid']+_0x15b883(0x2f6)),await D[_0x15b883(0x37e)]({'owner':this[_0x15b883(0x2d6)]['wuid']});}catch(_0x2e480d){return this['logger'][_0x15b883(0x182)](this['instanceName']+'\x20('+this['instance'][_0x15b883(0x46f)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+_0x2e480d),{'message':_0x15b883(0x1d4)+_0x2e480d};}}async['editFlow'](_0x459bf3){const _0x9b808f=a0_0x38390a;try{this[_0x9b808f(0x190)][_0x9b808f(0x240)](this[_0x9b808f(0x344)]+'\x20('+this['instance'][_0x9b808f(0x46f)]+'):\x20Alterando\x20fluxo...');let _0x5ec9de=await D[_0x9b808f(0x548)]({'owner':this[_0x9b808f(0x2d6)]['wuid'],'name':_0x459bf3[_0x9b808f(0x2c9)]});if(!_0x5ec9de)return{'message':_0x9b808f(0x166)};if(_0x459bf3[_0x9b808f(0x2d4)]===!0x0&&await D['updateMany']({'owner':this['instance'][_0x9b808f(0x46f)]},{'default':!0x1}),_0x459bf3[_0x9b808f(0x4c8)]){if(await D[_0x9b808f(0x548)]({'owner':this['instance']['wuid'],'name':_0x459bf3[_0x9b808f(0x4c8)]}))return{'message':_0x9b808f(0x10e)};_0x459bf3['name']=_0x459bf3[_0x9b808f(0x4c8)],delete _0x459bf3[_0x9b808f(0x4c8)];}return await D[_0x9b808f(0x458)](_0x5ec9de['_id'],{'$set':_0x459bf3},{'new':!0x0});}catch(_0x15d210){throw this[_0x9b808f(0x190)]['error'](this[_0x9b808f(0x344)]+'\x20('+this['instance'][_0x9b808f(0x46f)]+_0x9b808f(0x44b)+_0x15d210),new m(_0x9b808f(0x2bb)+_0x15d210);}}async[a0_0x38390a(0x19c)](_0x7773a7){const _0x5bc851=a0_0x38390a;try{this[_0x5bc851(0x190)]['verbose'](this[_0x5bc851(0x344)]+'\x20('+this['instance']['wuid']+_0x5bc851(0x1ad));let _0x2bc753={'owner':this[_0x5bc851(0x2d6)][_0x5bc851(0x46f)],'name':_0x7773a7['name']},_0x17f4a0=await D['findOne'](_0x2bc753);_0x17f4a0||this[_0x5bc851(0x38e)](_0x5bc851(0x297));let {block:_0x3b8390}=_0x7773a7;return _0x3b8390?.['delete']?this['deleteBlock'](_0x17f4a0,_0x7773a7):_0x3b8390[_0x5bc851(0x195)]?await this[_0x5bc851(0x605)](_0x17f4a0,_0x7773a7):this['addBlock'](_0x17f4a0,_0x7773a7),await _0x17f4a0[_0x5bc851(0x5e0)](),_0x17f4a0;}catch(_0x98e99a){this[_0x5bc851(0x38e)](_0x5bc851(0x58b)+_0x98e99a);}}[a0_0x38390a(0x38e)](_0x3cec3e){const _0x4abd38=a0_0x38390a;throw this[_0x4abd38(0x190)]['error'](this[_0x4abd38(0x344)]+'\x20('+this[_0x4abd38(0x2d6)]['wuid']+'):\x20'+_0x3cec3e),new m(_0x3cec3e);}[a0_0x38390a(0x159)](_0x4637a2,_0x42f81d){const _0x176f0f=a0_0x38390a;let {block:_0x1562c6}=_0x42f81d;if(_0x1562c6[_0x176f0f(0x188)]===_0x176f0f(0x20e)){this[_0x176f0f(0x38e)](_0x176f0f(0x5c5));return;}if(!_0x1562c6[_0x176f0f(0x195)]){this[_0x176f0f(0x38e)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x366d3c=_0x4637a2[_0x176f0f(0x272)][_0x176f0f(0x37e)](_0x24e366=>_0x24e366['_id'][_0x176f0f(0x2aa)]()===_0x42f81d[_0x176f0f(0x4a0)]['_id'][_0x176f0f(0x2aa)]());if(!_0x366d3c){this[_0x176f0f(0x38e)](_0x176f0f(0x5c1)+_0x1562c6['_id']+_0x176f0f(0x543));return;}_0x4637a2['blocks']=_0x4637a2[_0x176f0f(0x272)][_0x176f0f(0x4ba)](_0x536657=>_0x536657[_0x176f0f(0x195)][_0x176f0f(0x2aa)]()!==_0x42f81d[_0x176f0f(0x4a0)][_0x176f0f(0x195)]['toString']()),_0x4637a2[_0x176f0f(0x4f8)]=_0x4637a2[_0x176f0f(0x4f8)][_0x176f0f(0x4ba)](_0x26ca05=>_0x26ca05[_0x176f0f(0x603)]!==_0x1562c6['_id'][_0x176f0f(0x2aa)]()),_0x4637a2[_0x176f0f(0x467)]=_0x4637a2[_0x176f0f(0x467)][_0x176f0f(0x4ba)](_0x139904=>_0x139904['blockId']!==_0x1562c6[_0x176f0f(0x195)][_0x176f0f(0x2aa)]()),_0x4637a2['replyOptions']=_0x4637a2['replyOptions'][_0x176f0f(0x4ba)](_0x2e3ab9=>_0x2e3ab9[_0x176f0f(0x603)]!==_0x1562c6[_0x176f0f(0x195)]['toString']()),this[_0x176f0f(0x160)](_0x4637a2[_0x176f0f(0x272)],_0x366d3c[_0x176f0f(0x101)]);}async[a0_0x38390a(0x605)](_0x41d5fe,_0x522592){const _0x442e70=a0_0x38390a;let _0x51acb4=_0x41d5fe[_0x442e70(0x272)][_0x442e70(0x5ac)](_0x1ea7af=>_0x1ea7af[_0x442e70(0x195)]['toString']()===_0x522592['block'][_0x442e70(0x195)]['toString']());if(this[_0x442e70(0x190)][_0x442e70(0x240)](this[_0x442e70(0x344)]+'\x20('+this['instance'][_0x442e70(0x46f)]+_0x442e70(0x4e8)+_0x51acb4),_0x51acb4===-0x1){this[_0x442e70(0x190)][_0x442e70(0x240)](_0x442e70(0x5c1)+_0x522592[_0x442e70(0x4a0)][_0x442e70(0x195)]+_0x442e70(0x307));return;}if(_0x41d5fe['blocks'][_0x51acb4][_0x442e70(0x188)]===_0x442e70(0x20e)){let _0x62087=Object[_0x442e70(0x29a)](_0x522592[_0x442e70(0x4a0)]);if(_0x62087[_0x442e70(0x523)]>0x2||_0x62087[_0x442e70(0x523)]===0x2&&!_0x62087[_0x442e70(0x264)](_0x442e70(0x12a))){this[_0x442e70(0x38e)](_0x442e70(0x21f));return;}}let _0x4e674b=_0x41d5fe[_0x442e70(0x272)][_0x51acb4][_0x442e70(0x101)];for(let _0x25d6f6 in _0x522592[_0x442e70(0x4a0)])_0x522592['block'][_0x442e70(0x452)](_0x25d6f6)&&(_0x41d5fe['blocks'][_0x51acb4][_0x25d6f6]=_0x522592[_0x442e70(0x4a0)][_0x25d6f6]);if(this['logger']['verbose'](this[_0x442e70(0x344)]+'\x20('+this[_0x442e70(0x2d6)][_0x442e70(0x46f)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x41d5fe[_0x442e70(0x272)][_0x51acb4])),_0x41d5fe[_0x442e70(0x272)][_0x51acb4][_0x442e70(0x31e)]&&'header'in _0x41d5fe[_0x442e70(0x272)][_0x51acb4]['apirequest']){this['logger'][_0x442e70(0x240)](this[_0x442e70(0x344)]+'\x20('+this[_0x442e70(0x2d6)][_0x442e70(0x46f)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x2aaa36=JSON[_0x442e70(0x5a0)](_0x41d5fe[_0x442e70(0x272)][_0x51acb4][_0x442e70(0x31e)][_0x442e70(0x4e1)],null,0x1);_0x2aaa36[_0x442e70(0x523)]>0x2&&(_0x2aaa36=_0x2aaa36['substring'](0x1,_0x2aaa36['length']-0x1)[_0x442e70(0x20f)]()),_0x41d5fe['blocks'][_0x51acb4][_0x442e70(0x31e)][_0x442e70(0x3ed)]=_0x2aaa36;}if(_0x41d5fe['blocks'][_0x51acb4][_0x442e70(0x31e)]&&_0x442e70(0x49d)in _0x41d5fe[_0x442e70(0x272)][_0x51acb4][_0x442e70(0x31e)]){this[_0x442e70(0x190)][_0x442e70(0x240)](this[_0x442e70(0x344)]+'\x20('+this[_0x442e70(0x2d6)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x1fa0a4=JSON[_0x442e70(0x5a0)](_0x41d5fe['blocks'][_0x51acb4][_0x442e70(0x31e)]['body'],null,0x1);_0x1fa0a4[_0x442e70(0x523)]>0x2&&(_0x1fa0a4=_0x1fa0a4[_0x442e70(0x1af)](0x1,_0x1fa0a4['length']-0x1)['trim']()),_0x41d5fe[_0x442e70(0x272)][_0x51acb4][_0x442e70(0x31e)][_0x442e70(0x44f)]=_0x1fa0a4;}let _0x461409=_0x41d5fe['blocks'][_0x51acb4][_0x442e70(0x101)];_0x4e674b!==_0x461409?(this['reorderBlocks'](_0x41d5fe['blocks'],_0x4e674b),this[_0x442e70(0x160)](_0x41d5fe[_0x442e70(0x272)],_0x461409)):this[_0x442e70(0x160)](_0x41d5fe[_0x442e70(0x272)],_0x4e674b);}[a0_0x38390a(0x2a7)](_0x44c2f8,_0x183d2c){const _0x4489f5=a0_0x38390a;if(_0x183d2c[_0x4489f5(0x4a0)]['type']===_0x4489f5(0x20e)){this['throwAndLogError']('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x183d2c[_0x4489f5(0x4a0)][_0x4489f5(0x31e)]&&_0x4489f5(0x4e1)in _0x183d2c[_0x4489f5(0x4a0)]['apirequest']){this[_0x4489f5(0x190)][_0x4489f5(0x240)](this[_0x4489f5(0x344)]+'\x20('+this[_0x4489f5(0x2d6)]['wuid']+_0x4489f5(0x4f4));let _0x5009d9=JSON['stringify'](_0x183d2c['block'][_0x4489f5(0x31e)][_0x4489f5(0x4e1)],null,0x1);_0x5009d9[_0x4489f5(0x523)]>0x2&&(_0x5009d9=_0x5009d9[_0x4489f5(0x1af)](0x1,_0x5009d9[_0x4489f5(0x523)]-0x1)[_0x4489f5(0x20f)]()),_0x183d2c[_0x4489f5(0x4a0)]['apirequest'][_0x4489f5(0x3ed)]=_0x5009d9;}_0x183d2c[_0x4489f5(0x4a0)][_0x4489f5(0x31e)]&&_0x4489f5(0x49d)in _0x183d2c[_0x4489f5(0x4a0)][_0x4489f5(0x31e)]&&(this[_0x4489f5(0x190)][_0x4489f5(0x240)](this[_0x4489f5(0x344)]+'\x20('+this[_0x4489f5(0x2d6)][_0x4489f5(0x46f)]+_0x4489f5(0x485)),_0x183d2c[_0x4489f5(0x4a0)]['apirequest'][_0x4489f5(0x44f)]=JSON[_0x4489f5(0x5a0)](_0x183d2c['block'][_0x4489f5(0x31e)][_0x4489f5(0x49d)],null,0x1)[_0x4489f5(0x20f)]()),_0x44c2f8[_0x4489f5(0x272)]['push'](_0x183d2c[_0x4489f5(0x4a0)]),this[_0x4489f5(0x160)](_0x44c2f8[_0x4489f5(0x272)],_0x183d2c[_0x4489f5(0x4a0)][_0x4489f5(0x101)]);}[a0_0x38390a(0x160)](_0x1773d1,_0x5e5e16){const _0x46fa1e=a0_0x38390a;let _0x1b9406=_0x1773d1['filter'](_0x79456d=>_0x79456d[_0x46fa1e(0x101)]===_0x5e5e16);_0x1b9406[_0x46fa1e(0x3db)]((_0x39f9ae,_0x12cc1f)=>_0x39f9ae[_0x46fa1e(0x412)]-_0x12cc1f[_0x46fa1e(0x412)]),_0x1b9406['forEach']((_0x187fe4,_0x1eef7d)=>_0x187fe4['order']=_0x1eef7d+0x1);}async['editFlowReply'](_0x1d7434){const _0x285d69=a0_0x38390a;try{if(this[_0x285d69(0x190)][_0x285d69(0x240)](this[_0x285d69(0x344)]+'\x20('+this[_0x285d69(0x2d6)][_0x285d69(0x46f)]+_0x285d69(0x350)),!_0x1d7434||!_0x1d7434[_0x285d69(0x407)]){this[_0x285d69(0x38e)](_0x285d69(0x613));return;}let _0x5c9647={'owner':this[_0x285d69(0x2d6)][_0x285d69(0x46f)],'name':_0x1d7434[_0x285d69(0x2c9)]},_0x11e9ad=await D[_0x285d69(0x548)](_0x5c9647);_0x11e9ad||this[_0x285d69(0x38e)](_0x285d69(0x297));let {replyOption:_0x2c2e24}=_0x1d7434;return _0x2c2e24?.['delete']?this['deleteReplyOption'](_0x11e9ad,_0x1d7434):_0x2c2e24['_id']?await this[_0x285d69(0x167)](_0x11e9ad,_0x1d7434):this[_0x285d69(0x254)](_0x11e9ad,_0x1d7434),await _0x11e9ad['save'](),_0x11e9ad;}catch(_0x55c2de){this[_0x285d69(0x38e)](_0x285d69(0x47a)+_0x55c2de);}}[a0_0x38390a(0x1be)](_0x4440f5,_0x3ae57b){const _0x3abebd=a0_0x38390a;let {replyOption:_0x2ff38f}=_0x3ae57b;if(!_0x2ff38f[_0x3abebd(0x195)]){this[_0x3abebd(0x38e)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4440f5[_0x3abebd(0x60a)]['find'](_0x20f086=>_0x20f086[_0x3abebd(0x195)][_0x3abebd(0x2aa)]()===_0x3ae57b['replyOption']['_id'][_0x3abebd(0x2aa)]())){this[_0x3abebd(0x38e)]('ReplyOption\x20com\x20ID\x20'+_0x2ff38f[_0x3abebd(0x195)]+_0x3abebd(0x543));return;}_0x4440f5[_0x3abebd(0x60a)]=_0x4440f5['replyOptions'][_0x3abebd(0x4ba)](_0x5ad241=>_0x5ad241[_0x3abebd(0x195)][_0x3abebd(0x2aa)]()!==_0x3ae57b['replyOption'][_0x3abebd(0x195)][_0x3abebd(0x2aa)]());}async[a0_0x38390a(0x167)](_0x2bf243,_0x5a80b8){const _0x5a248e=a0_0x38390a;let _0x34a389=_0x2bf243[_0x5a248e(0x60a)]['findIndex'](_0x2ebe6a=>_0x2ebe6a[_0x5a248e(0x195)]['toString']()===_0x5a80b8[_0x5a248e(0x407)][_0x5a248e(0x195)][_0x5a248e(0x2aa)]());if(_0x34a389===-0x1){this[_0x5a248e(0x38e)](_0x5a248e(0x4cb)+_0x5a80b8[_0x5a248e(0x407)][_0x5a248e(0x195)]+_0x5a248e(0x307));return;}for(let _0x4d6553 in _0x5a80b8['replyOption'])_0x5a80b8[_0x5a248e(0x407)][_0x5a248e(0x452)](_0x4d6553)&&(_0x2bf243[_0x5a248e(0x60a)][_0x34a389][_0x4d6553]=_0x5a80b8[_0x5a248e(0x407)][_0x4d6553]);}['addReplyOption'](_0x31430a,_0x5539fc){const _0x18722d=a0_0x38390a;_0x31430a['replyOptions'][_0x18722d(0x1d9)](_0x5539fc['replyOption']);}async[a0_0x38390a(0x3cf)](_0x1cc1bb){const _0x2d0187=a0_0x38390a;this['logger'][_0x2d0187(0x240)](this['instanceName']+'\x20('+this[_0x2d0187(0x2d6)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x1cc1bb);try{this[_0x2d0187(0x190)][_0x2d0187(0x240)](this[_0x2d0187(0x344)]+'\x20('+this['instance'][_0x2d0187(0x46f)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x39195e={'owner':this[_0x2d0187(0x2d6)]['wuid'],'name':_0x1cc1bb[_0x2d0187(0x2c9)]},_0x5df501=await D['findOne'](_0x39195e);if(!_0x5df501)throw new Error('Flow\x20não\x20encontrado');if(_0x1cc1bb['group']&&_0x1cc1bb[_0x2d0187(0x2d5)]?.['delete']===!0x0){if(this[_0x2d0187(0x190)]['verbose'](this[_0x2d0187(0x344)]+'\x20('+this['instance']['wuid']+_0x2d0187(0x3a4)),_0x1cc1bb[_0x2d0187(0x2d5)][_0x2d0187(0x2d4)]===!0x0)return{'message':_0x2d0187(0x194)};if(_0x5df501[_0x2d0187(0x272)][_0x2d0187(0x602)](_0x20428d=>_0x20428d['groupId']['toString']()===_0x1cc1bb['group'][_0x2d0187(0x195)]))return this[_0x2d0187(0x190)][_0x2d0187(0x240)](this[_0x2d0187(0x344)]+'\x20('+this[_0x2d0187(0x2d6)][_0x2d0187(0x46f)]+_0x2d0187(0x512)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x5df501[_0x2d0187(0x6a3)]=_0x5df501[_0x2d0187(0x6a3)]['filter'](_0x34c83f=>_0x34c83f[_0x2d0187(0x195)]['toString']()!==_0x1cc1bb[_0x2d0187(0x2d5)][_0x2d0187(0x195)]);}else{if(_0x1cc1bb['group']){if(_0x1cc1bb['group'][_0x2d0187(0x2d4)]===!0x0)return{'message':_0x2d0187(0x5cb)};if(_0x1cc1bb[_0x2d0187(0x2d5)][_0x2d0187(0x195)]){let _0x257f93=_0x5df501[_0x2d0187(0x6a3)][_0x2d0187(0x37e)](_0xac67a0=>_0xac67a0['_id']['toString']()===_0x1cc1bb[_0x2d0187(0x2d5)]['_id']);_0x257f93&&(_0x1cc1bb[_0x2d0187(0x2d5)]['x']<0x0&&(_0x1cc1bb['group']['x']=0x0),_0x1cc1bb['group']['y']<0x0&&(_0x1cc1bb[_0x2d0187(0x2d5)]['y']=0x0),Object[_0x2d0187(0x500)](_0x257f93,_0x1cc1bb[_0x2d0187(0x2d5)]));}else _0x5df501[_0x2d0187(0x6a3)][_0x2d0187(0x1d9)](_0x1cc1bb[_0x2d0187(0x2d5)]);}}return await _0x5df501[_0x2d0187(0x5e0)](),_0x5df501;}catch(_0x4c88ec){throw this[_0x2d0187(0x190)][_0x2d0187(0x182)](this[_0x2d0187(0x344)]+'\x20('+this['instance'][_0x2d0187(0x46f)]+_0x2d0187(0x326)+_0x4c88ec),new m(_0x2d0187(0x3ee)+_0x4c88ec);}}async[a0_0x38390a(0x557)](_0x17fb0a){const _0x4a1dc1=a0_0x38390a;try{this[_0x4a1dc1(0x190)]['verbose'](this[_0x4a1dc1(0x344)]+'\x20('+this[_0x4a1dc1(0x2d6)][_0x4a1dc1(0x46f)]+_0x4a1dc1(0x594));let _0x1f5766={'owner':this['instance'][_0x4a1dc1(0x46f)],'name':_0x17fb0a['name']},_0xe25743=await D[_0x4a1dc1(0x548)](_0x1f5766);if(!_0xe25743)throw new Error(_0x4a1dc1(0x297));let _0x5ce705=!0x1;if(_0x17fb0a[_0x4a1dc1(0x351)]?.[_0x4a1dc1(0x3d9)]===!0x0)_0xe25743[_0x4a1dc1(0x4f8)]=_0xe25743[_0x4a1dc1(0x4f8)][_0x4a1dc1(0x4ba)](_0x481449=>_0x481449&&_0x17fb0a['condition']&&_0x481449['_id']&&_0x17fb0a[_0x4a1dc1(0x351)][_0x4a1dc1(0x195)]&&_0x481449[_0x4a1dc1(0x195)][_0x4a1dc1(0x2aa)]()!==_0x17fb0a[_0x4a1dc1(0x351)][_0x4a1dc1(0x195)][_0x4a1dc1(0x2aa)]()),_0x5ce705=!0x0;else{let _0x3319f6=_0xe25743[_0x4a1dc1(0x4f8)]['find'](_0x520888=>_0x520888&&_0x17fb0a['condition']&&_0x520888[_0x4a1dc1(0x195)]&&_0x17fb0a[_0x4a1dc1(0x351)][_0x4a1dc1(0x195)]&&_0x520888[_0x4a1dc1(0x195)][_0x4a1dc1(0x2aa)]()===_0x17fb0a['condition'][_0x4a1dc1(0x195)][_0x4a1dc1(0x2aa)]());_0x3319f6?(_0x5ce705=_0x3319f6['order']!==_0x17fb0a[_0x4a1dc1(0x351)][_0x4a1dc1(0x412)],Object['assign'](_0x3319f6,_0x17fb0a[_0x4a1dc1(0x351)])):(_0xe25743['conditions']['push'](_0x17fb0a['condition']),_0x5ce705=!0x0);}if(_0x5ce705){_0xe25743[_0x4a1dc1(0x4f8)][_0x4a1dc1(0x3db)]((_0x469951,_0x6ac88b)=>_0x469951['order']>_0x6ac88b[_0x4a1dc1(0x412)]?0x1:_0x6ac88b['order']>_0x469951[_0x4a1dc1(0x412)]?-0x1:0x0);for(let _0x5e2821=0x0;_0x5e2821<_0xe25743['conditions'][_0x4a1dc1(0x523)];_0x5e2821++)_0xe25743[_0x4a1dc1(0x4f8)][_0x5e2821]['order']=_0x5e2821+0x1;_0xe25743[_0x4a1dc1(0x4f8)][_0x4a1dc1(0x523)]>0x0&&(_0xe25743[_0x4a1dc1(0x4f8)][0x0][_0x4a1dc1(0x57d)]=_0x4a1dc1(0x49b));}return await _0xe25743['save'](),_0xe25743;}catch(_0x478b26){throw this[_0x4a1dc1(0x190)][_0x4a1dc1(0x182)](this[_0x4a1dc1(0x344)]+'\x20('+this[_0x4a1dc1(0x2d6)][_0x4a1dc1(0x46f)]+_0x4a1dc1(0x591)+_0x478b26),new Error(_0x4a1dc1(0x41a)+_0x478b26);}}async[a0_0x38390a(0x369)](_0x4a4146){const _0x5627fe=a0_0x38390a;try{this['logger'][_0x5627fe(0x240)](this[_0x5627fe(0x344)]+'\x20('+this[_0x5627fe(0x2d6)][_0x5627fe(0x46f)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x343f2b={'owner':this[_0x5627fe(0x2d6)][_0x5627fe(0x46f)],'name':_0x4a4146[_0x5627fe(0x2c9)]},_0x47e30d=await D[_0x5627fe(0x548)](_0x343f2b);if(!_0x47e30d)throw new Error(_0x5627fe(0x297));let _0x1400be=!0x1;if(_0x4a4146['varedit']?.[_0x5627fe(0x3d9)]===!0x0)_0x47e30d[_0x5627fe(0x467)]=_0x47e30d[_0x5627fe(0x467)][_0x5627fe(0x4ba)](_0x11bf6d=>_0x11bf6d&&_0x4a4146[_0x5627fe(0x473)]&&_0x11bf6d[_0x5627fe(0x195)]&&_0x4a4146[_0x5627fe(0x473)][_0x5627fe(0x195)]&&_0x11bf6d[_0x5627fe(0x195)][_0x5627fe(0x2aa)]()!==_0x4a4146[_0x5627fe(0x473)][_0x5627fe(0x195)][_0x5627fe(0x2aa)]()),_0x1400be=!0x0;else{let _0x580817=_0x47e30d['varedits'][_0x5627fe(0x37e)](_0x36c0fc=>_0x36c0fc&&_0x4a4146['varedit']&&_0x36c0fc[_0x5627fe(0x195)]&&_0x4a4146[_0x5627fe(0x473)][_0x5627fe(0x195)]&&_0x36c0fc['_id'][_0x5627fe(0x2aa)]()===_0x4a4146['varedit'][_0x5627fe(0x195)]['toString']());_0x580817?(_0x1400be=_0x580817[_0x5627fe(0x412)]!==_0x4a4146[_0x5627fe(0x473)][_0x5627fe(0x412)],Object[_0x5627fe(0x500)](_0x580817,_0x4a4146[_0x5627fe(0x473)])):(_0x47e30d[_0x5627fe(0x467)][_0x5627fe(0x1d9)](_0x4a4146[_0x5627fe(0x473)]),_0x1400be=!0x0);}if(_0x1400be){_0x47e30d[_0x5627fe(0x467)][_0x5627fe(0x3db)]((_0x226d6a,_0x371f46)=>_0x226d6a[_0x5627fe(0x412)]>_0x371f46[_0x5627fe(0x412)]?0x1:_0x371f46[_0x5627fe(0x412)]>_0x226d6a[_0x5627fe(0x412)]?-0x1:0x0);for(let _0x2dd12c=0x0;_0x2dd12c<_0x47e30d[_0x5627fe(0x467)][_0x5627fe(0x523)];_0x2dd12c++)_0x47e30d[_0x5627fe(0x467)][_0x2dd12c][_0x5627fe(0x412)]=_0x2dd12c+0x1;}return await _0x47e30d['save'](),_0x47e30d;}catch(_0x49787d){throw this[_0x5627fe(0x190)][_0x5627fe(0x182)](this[_0x5627fe(0x344)]+'\x20('+this[_0x5627fe(0x2d6)]['wuid']+_0x5627fe(0x591)+_0x49787d),new m(_0x5627fe(0x41a)+_0x49787d);}}async[a0_0x38390a(0x17d)](_0x4b3f70){const _0x4bc0b3=a0_0x38390a;try{this['logger'][_0x4bc0b3(0x240)](this[_0x4bc0b3(0x344)]+'\x20('+this[_0x4bc0b3(0x2d6)][_0x4bc0b3(0x46f)]+_0x4bc0b3(0x348));let _0x3150e2={'owner':this['instance'][_0x4bc0b3(0x46f)],'name':_0x4b3f70['name']},_0x913250=await D[_0x4bc0b3(0x548)](_0x3150e2);if(!_0x913250)throw new Error(_0x4bc0b3(0x297));_0x4b3f70[_0x4bc0b3(0x629)]['name']=_0x4b3f70[_0x4bc0b3(0x629)][_0x4bc0b3(0x2c9)][_0x4bc0b3(0x20f)](),_0x4b3f70[_0x4bc0b3(0x629)][_0x4bc0b3(0x2c9)]['startsWith']('_')&&(_0x4b3f70[_0x4bc0b3(0x629)][_0x4bc0b3(0x2c9)]=_0x4b3f70[_0x4bc0b3(0x629)][_0x4bc0b3(0x2c9)]['substring'](0x1)),_0x4b3f70['variable'][_0x4bc0b3(0x2c9)]=_0x4b3f70['variable']['name'][_0x4bc0b3(0x20f)]();let _0x14db84=_0x913250[_0x4bc0b3(0x3c1)][_0x4bc0b3(0x37e)](_0x236f84=>_0x236f84[_0x4bc0b3(0x2c9)]===_0x4b3f70[_0x4bc0b3(0x629)]['name']);if(_0x14db84?.['leadInfo']===!0x0)throw new Error(_0x4bc0b3(0x246));if(_0x4b3f70[_0x4bc0b3(0x629)]?.['delete']===!0x0){if(!_0x14db84)return{'message':'Variável\x20não\x20encontrada!'};_0x913250[_0x4bc0b3(0x3c1)]=_0x913250[_0x4bc0b3(0x3c1)][_0x4bc0b3(0x4ba)](_0x44d746=>_0x44d746['name']!==_0x4b3f70['variable']['name']);}else _0x14db84?Object[_0x4bc0b3(0x500)](_0x14db84,_0x4b3f70[_0x4bc0b3(0x629)]):_0x913250[_0x4bc0b3(0x3c1)][_0x4bc0b3(0x1d9)](_0x4b3f70[_0x4bc0b3(0x629)]);return await _0x913250[_0x4bc0b3(0x5e0)](),_0x913250;}catch(_0x1928c6){throw this['logger'][_0x4bc0b3(0x182)](this[_0x4bc0b3(0x344)]+'\x20('+this['instance'][_0x4bc0b3(0x46f)]+_0x4bc0b3(0x16b)+_0x1928c6),new m(_0x4bc0b3(0x692)+_0x1928c6);}}async[a0_0x38390a(0x669)](_0x1da97c){const _0x40a33c=a0_0x38390a;try{if(!this[_0x40a33c(0x312)][_0x40a33c(0x5b0)][_0x40a33c(0xf9)])throw new m('Fluxos\x20não\x20estão\x20ativados');this['logger'][_0x40a33c(0x240)](this[_0x40a33c(0x344)]+'\x20('+this[_0x40a33c(0x2d6)]['wuid']+_0x40a33c(0x428));let _0x3cded2=(await this[_0x40a33c(0x1b5)]({'numbers':[_0x1da97c[_0x40a33c(0x41e)]]}))[0x0];if(!_0x3cded2[_0x40a33c(0x34a)]&&!(0x0,w[_0x40a33c(0x1f0)])(_0x3cded2[_0x40a33c(0x361)])&&!_0x3cded2[_0x40a33c(0x361)][_0x40a33c(0x264)]('@broadcast'))throw new m(_0x3cded2);let _0x186a9d=await D[_0x40a33c(0x548)]({'owner':this['instance']['wuid'],'name':_0x1da97c[_0x40a33c(0x2c9)]});if(!_0x186a9d)return this[_0x40a33c(0x190)][_0x40a33c(0x182)](this[_0x40a33c(0x344)]+'\x20('+this[_0x40a33c(0x2d6)][_0x40a33c(0x46f)]+_0x40a33c(0x140)),{'message':_0x40a33c(0x297)};let _0xe3440f=await this['createConversationforStartFlow'](_0x186a9d,_0x3cded2[_0x40a33c(0x361)],_0x1da97c[_0x40a33c(0x4c7)]);if(_0xe3440f){this['logger'][_0x40a33c(0x240)](this['instanceName']+'\x20('+this['instance'][_0x40a33c(0x46f)]+_0x40a33c(0x61b));let _0x4dc406=await this[_0x40a33c(0x1c4)](_0xe3440f);return _0x4dc406&&await this[_0x40a33c(0x51e)](_0xe3440f,_0x4dc406,_0xe3440f[_0x40a33c(0x41e)]),{'message':'Flow\x20iniciado\x20com\x20'+_0x1da97c[_0x40a33c(0x41e)]};}}catch(_0x323803){if(this[_0x40a33c(0x190)][_0x40a33c(0x182)](this['instanceName']+'\x20('+this[_0x40a33c(0x2d6)][_0x40a33c(0x46f)]+_0x40a33c(0x3c2)+_0x323803),_0x323803&&_0x323803[_0x40a33c(0x32a)]&&Array['isArray'](_0x323803['message'])&&_0x323803['message'][0x0]){let {jid:_0x16ee2c,exists:_0x3b7039}=_0x323803['message'][0x0];}throw new m(_0x40a33c(0x5d6)+_0x323803['message']);}}async[a0_0x38390a(0x3ec)](_0x32c1cd,_0x355880,_0x704bb3){const _0x4a7efb=a0_0x38390a;this[_0x4a7efb(0x190)][_0x4a7efb(0x240)](this['instanceName']+'\x20('+this[_0x4a7efb(0x2d6)]['wuid']+'):\x20Criando\x20nova\x20conversa');try{let _0x213386=require('mongodb')[_0x4a7efb(0x319)],_0x5b5739=Date[_0x4a7efb(0x29d)](),_0x44cbf3=_0x4a7efb(0x20e),_0x443aee={},_0x3b60c6={},_0x49fb89={..._0x32c1cd[_0x4a7efb(0x3b1)],'chatLog':null},_0x38132f=await this[_0x4a7efb(0x267)](_0x49fb89[_0x4a7efb(0x3c1)]),_0x4e9fcf=await this['getVariablesChat'](_0x355880),_0x346271={..._0x38132f,..._0x4e9fcf},_0x2a2428={'lastReceivedMessage':_0x443aee,'lastSendMessage':_0x3b60c6,'lastBlockId':_0x44cbf3,'lastCondition':!0x0,'realVariables':_0x346271};_0x49fb89[_0x4a7efb(0x1dc)]=_0x2a2428,_0x49fb89[_0x4a7efb(0x1dc)][_0x4a7efb(0x4ef)]={..._0x346271,..._0x704bb3},delete _0x49fb89['_id'],_0x49fb89[_0x4a7efb(0x195)]=new _0x213386(),_0x49fb89[_0x4a7efb(0x2f5)]=_0x5b5739,_0x49fb89[_0x4a7efb(0x13c)]=_0x4a7efb(0x201),_0x49fb89[_0x4a7efb(0x41e)]=_0x355880;let _0x2b52c2=await G[_0x4a7efb(0x2ff)](_0x49fb89);return this[_0x4a7efb(0x190)][_0x4a7efb(0x240)](this[_0x4a7efb(0x344)]+'\x20('+this[_0x4a7efb(0x2d6)][_0x4a7efb(0x46f)]+_0x4a7efb(0x22e)),_0x2b52c2?_0x49fb89:null;}catch(_0x393b22){throw this[_0x4a7efb(0x190)][_0x4a7efb(0x182)](this[_0x4a7efb(0x344)]+'\x20('+this[_0x4a7efb(0x2d6)][_0x4a7efb(0x46f)]+_0x4a7efb(0x5da)+_0x393b22),new m(_0x393b22[_0x4a7efb(0x32a)]);}}async[a0_0x38390a(0x492)](_0x2f4476){const _0x3c5b22=a0_0x38390a;try{return this[_0x3c5b22(0x190)][_0x3c5b22(0x240)](this[_0x3c5b22(0x344)]+'\x20('+this['instance'][_0x3c5b22(0x46f)]+_0x3c5b22(0x4bc)),this[_0x3c5b22(0x190)][_0x3c5b22(0x240)](this[_0x3c5b22(0x344)]+'\x20('+this[_0x3c5b22(0x2d6)][_0x3c5b22(0x46f)]+_0x3c5b22(0x521)+{'owner':this[_0x3c5b22(0x2d6)][_0x3c5b22(0x46f)],'_id':_0x2f4476}),await G[_0x3c5b22(0x548)]({'owner':this['instance'][_0x3c5b22(0x46f)],'_id':_0x2f4476});}catch(_0x9f957e){throw this[_0x3c5b22(0x190)]['error'](this[_0x3c5b22(0x344)]+'\x20('+this['instance'][_0x3c5b22(0x46f)]+_0x3c5b22(0x48c)+_0x9f957e),new m(_0x3c5b22(0x4af)+_0x9f957e[_0x3c5b22(0x32a)]);}}async[a0_0x38390a(0x5a8)](_0x569200,_0x995042=0x64){const _0x31cd68=a0_0x38390a;try{this[_0x31cd68(0x190)]['verbose'](this[_0x31cd68(0x344)]+'\x20('+this[_0x31cd68(0x2d6)][_0x31cd68(0x46f)]+_0x31cd68(0x211));let _0x1a4235={..._0x569200,'owner':this['instance'][_0x31cd68(0x46f)]};return this[_0x31cd68(0x190)][_0x31cd68(0x240)](this[_0x31cd68(0x344)]+'\x20('+this[_0x31cd68(0x2d6)][_0x31cd68(0x46f)]+_0x31cd68(0x2fd)+_0x1a4235),await G[_0x31cd68(0x37e)](_0x1a4235)[_0x31cd68(0x6a9)](_0x995042)[_0x31cd68(0x3db)]({'lastInteraction':-0x1});}catch(_0xb05062){throw this[_0x31cd68(0x190)][_0x31cd68(0x182)](this[_0x31cd68(0x344)]+'\x20('+this[_0x31cd68(0x2d6)][_0x31cd68(0x46f)]+_0x31cd68(0x31b)+_0xb05062),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0xb05062['message']);}}async[a0_0x38390a(0x395)](_0x1998bc){const _0x2d9ff0=a0_0x38390a;try{return this[_0x2d9ff0(0x190)][_0x2d9ff0(0x240)](this[_0x2d9ff0(0x344)]+'\x20('+this['instance'][_0x2d9ff0(0x46f)]+_0x2d9ff0(0x675)),this[_0x2d9ff0(0x190)][_0x2d9ff0(0x240)](this['instanceName']+'\x20('+this[_0x2d9ff0(0x2d6)]['wuid']+_0x2d9ff0(0x521)+{'owner':this['instance']['wuid'],'_id':_0x1998bc}),(await G[_0x2d9ff0(0x321)]({'owner':this[_0x2d9ff0(0x2d6)][_0x2d9ff0(0x46f)],'_id':_0x1998bc}))['deletedCount']===0x0?{'message':_0x2d9ff0(0x4ed)}:{'message':_0x2d9ff0(0x5d8)};}catch(_0x58c50e){throw this[_0x2d9ff0(0x190)]['error'](this[_0x2d9ff0(0x344)]+'\x20('+this[_0x2d9ff0(0x2d6)]['wuid']+_0x2d9ff0(0x489)+_0x58c50e),new m('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x58c50e['message']);}}async['editConversation'](_0x39b592){const _0x4dbbff=a0_0x38390a;try{let {_id:_0x233ec8,chatLog:_0x38f7af,status:_0x5d2d4e}=_0x39b592;if(!_0x233ec8)return{'message':_0x4dbbff(0x511)};let _0x5e410f={};if(_0x5d2d4e!==void 0x0&&(_0x5e410f[_0x4dbbff(0x13c)]=_0x5d2d4e),Object[_0x4dbbff(0x29a)](_0x5e410f)['length']===0x0)return{'message':_0x4dbbff(0x1c8)};let _0x3f65c0=this[_0x4dbbff(0x2d6)]['wuid'],_0x498b16=await G[_0x4dbbff(0x58f)]({'_id':_0x233ec8,'owner':_0x3f65c0},{'$set':_0x5e410f},{'new':!0x0});return _0x498b16||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x56feb2){throw this[_0x4dbbff(0x190)]['error'](this['instanceName']+'\x20('+this[_0x4dbbff(0x2d6)][_0x4dbbff(0x46f)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x56feb2),new m(_0x4dbbff(0x158)+_0x56feb2['message']);}}async[a0_0x38390a(0x1e2)](_0x54e609){const _0x5cea0e=a0_0x38390a;try{_0x54e609['id']=this['createJid'](_0x54e609['id']);let {id:_0x358762,leadInfo:_0x5540e4}=_0x54e609;if(!_0x358762)throw new Error(_0x5cea0e(0xf6));let _0x1aa9cd=(_0x481b35,_0x3d45c2,_0x59cc57)=>{_0x59cc57['forEach'](_0x36f12f=>{const _0x2aff2b=a0_0x38ae;_0x481b35[_0x36f12f]!==void 0x0&&(_0x3d45c2[_0x2aff2b(0x253)+_0x36f12f]=_0x481b35[_0x36f12f]);});},_0x1c867c={};if(_0x1aa9cd(_0x5540e4,_0x1c867c,[_0x5cea0e(0x4f5),_0x5cea0e(0x4e5),'email',_0x5cea0e(0x346),_0x5cea0e(0x13c),_0x5cea0e(0x5d1),_0x5cea0e(0x478),_0x5cea0e(0x15e),_0x5cea0e(0x5ff)]),Array[_0x5cea0e(0x38d)](_0x5540e4['customFields'])&&(_0x1c867c[_0x5cea0e(0x59e)]=_0x5540e4[_0x5cea0e(0x49c)][_0x5cea0e(0x1da)](_0x4afcba=>({'_id':_0x4afcba[_0x5cea0e(0x195)],'value':_0x4afcba['value']}))),_0x54e609[_0x5cea0e(0x45e)][_0x5cea0e(0x449)]!==void 0x0&&(_0x1c867c[_0x5cea0e(0x10a)]=Number(_0x54e609[_0x5cea0e(0x45e)][_0x5cea0e(0x449)])),_0x54e609['unreadcount']!==void 0x0&&(_0x1c867c[_0x5cea0e(0x5bc)]=Number(_0x54e609[_0x5cea0e(0x5bc)])),Object['keys'](_0x1c867c)[_0x5cea0e(0x523)]===0x0)throw new Error(_0x5cea0e(0x1c8));let _0x40a923=this[_0x5cea0e(0x2d6)][_0x5cea0e(0x46f)];if(!_0x40a923)throw new Error('Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.');if(!await I[_0x5cea0e(0x548)]({'id':_0x54e609['id'],'owner':_0x40a923})){let _0xea6ca=(await this[_0x5cea0e(0x1b5)]({'numbers':[_0x54e609['id']]}))[0x0];if(!_0xea6ca['exists']&&!(0x0,w[_0x5cea0e(0x1f0)])(_0xea6ca[_0x5cea0e(0x361)])&&!_0xea6ca[_0x5cea0e(0x361)]['includes'](_0x5cea0e(0x547)))throw new m(_0xea6ca);_0x54e609['id']=_0xea6ca[_0x5cea0e(0x361)];}let _0x11baef=await I['findOneAndUpdate']({'id':_0x54e609['id'],'owner':_0x40a923},{'$set':_0x1c867c},{'new':!0x0,'upsert':!0x0});return _0x11baef&&H(this[_0x5cea0e(0x344)],_0x5cea0e(0x3bd),{'chat':_0x11baef}),_0x11baef?(this['logger'][_0x5cea0e(0x240)](this[_0x5cea0e(0x344)]+'\x20('+this[_0x5cea0e(0x2d6)][_0x5cea0e(0x46f)]+'):\x20'+_0x11baef),_0x11baef):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0xe7a785){throw this['logger']['error'](this[_0x5cea0e(0x344)]+'\x20('+this[_0x5cea0e(0x2d6)][_0x5cea0e(0x46f)]+_0x5cea0e(0x277)+_0xe7a785),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0xe7a785[_0x5cea0e(0x32a)]);}}async['updateAgent'](_0x33ecb1){const _0x58ca27=a0_0x38390a;let _0x406c21=this[_0x58ca27(0x2d6)]['wuid'];try{let _0x4c1757=await ae['findById'](_0x406c21);_0x4c1757||(_0x4c1757=new ae({'_id':_0x406c21}),await _0x4c1757[_0x58ca27(0x5e0)]());let _0x4e1e2a=_0x33ecb1[_0x58ca27(0x195)]?_0x4c1757[_0x58ca27(0x674)][_0x58ca27(0x5ac)](_0x459b45=>_0x459b45[_0x58ca27(0x195)]===_0x33ecb1[_0x58ca27(0x195)]):-0x1;if(_0x33ecb1['delete']&&_0x4e1e2a>-0x1)_0x4c1757[_0x58ca27(0x674)][_0x58ca27(0x1dd)](_0x4e1e2a,0x1);else{if(_0x4e1e2a>-0x1){let _0xeb407b=_0x4c1757[_0x58ca27(0x674)][_0x4e1e2a];_0x33ecb1[_0x58ca27(0x538)]&&(_0xeb407b[_0x58ca27(0x538)]=_0x33ecb1[_0x58ca27(0x538)]),_0x33ecb1['name']&&(_0xeb407b['name']=_0x33ecb1[_0x58ca27(0x2c9)]),_0x33ecb1[_0x58ca27(0x639)]&&(_0xeb407b[_0x58ca27(0x639)]=_0x33ecb1[_0x58ca27(0x639)]),_0x33ecb1['role']&&(_0xeb407b[_0x58ca27(0x208)]=_0x33ecb1[_0x58ca27(0x208)]);}else _0x4c1757[_0x58ca27(0x674)]['push']({'_id':_0x33ecb1[_0x58ca27(0x195)]||new ye['default'][(_0x58ca27(0x5ca))]['ObjectId']()[_0x58ca27(0x2aa)](),'fone':_0x33ecb1[_0x58ca27(0x538)],'name':_0x33ecb1['name'],'email':_0x33ecb1['email'],'role':_0x33ecb1[_0x58ca27(0x208)]});}let _0x15269c=await _0x4c1757[_0x58ca27(0x5e0)]();return this['AutomateSystem']=_0x15269c,this[_0x58ca27(0x190)][_0x58ca27(0x240)](this[_0x58ca27(0x344)]+'\x20('+this[_0x58ca27(0x2d6)][_0x58ca27(0x46f)]+_0x58ca27(0x31d)),this['logger']['verbose'](this[_0x58ca27(0x344)]+'\x20('+this['instance'][_0x58ca27(0x46f)]+_0x58ca27(0x483)+this[_0x58ca27(0x312)]),_0x15269c;}catch(_0x4800b4){throw this[_0x58ca27(0x190)][_0x58ca27(0x182)](this[_0x58ca27(0x344)]+'\x20('+this[_0x58ca27(0x2d6)][_0x58ca27(0x46f)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x4800b4),new m(_0x58ca27(0x52b)+_0x4800b4[_0x58ca27(0x32a)]);}}async['updateCustomFields'](_0xbbd63a){const _0xa6a371=a0_0x38390a;let _0x3d57e8=this['instance'][_0xa6a371(0x46f)];try{let _0x30b4a5=await ae[_0xa6a371(0x5a1)](_0x3d57e8);_0x30b4a5||(_0x30b4a5=new ae({'_id':_0x3d57e8}),await _0x30b4a5[_0xa6a371(0x5e0)]());let _0x37e88d=_0xbbd63a[_0xa6a371(0x195)]?_0x30b4a5[_0xa6a371(0x49c)]['findIndex'](_0x1b1b3c=>_0x1b1b3c[_0xa6a371(0x195)]===_0xbbd63a[_0xa6a371(0x195)]):-0x1,_0x5cd7ea=!0x1,_0x51dc21=_0x30b4a5[_0xa6a371(0x49c)][_0xa6a371(0x602)](_0x9df0bc=>_0x9df0bc[_0xa6a371(0x412)]===_0xbbd63a['order']);if(_0xbbd63a[_0xa6a371(0x3d9)]&&_0x37e88d>-0x1)_0x30b4a5[_0xa6a371(0x49c)]['splice'](_0x37e88d,0x1),_0x5cd7ea=!0x0;else{if(_0x37e88d>-0x1){if(_0x30b4a5[_0xa6a371(0x49c)][_0xa6a371(0x602)](_0x3a1851=>_0x3a1851[_0xa6a371(0x2c9)]===_0xbbd63a['name']&&_0x3a1851[_0xa6a371(0x195)]!==_0xbbd63a[_0xa6a371(0x195)]))throw new Error(_0xa6a371(0x62e));let _0x27e3fa=_0x30b4a5[_0xa6a371(0x49c)][_0x37e88d];_0xbbd63a[_0xa6a371(0x412)]&&(_0x51dc21||!Number[_0xa6a371(0x220)](_0xbbd63a[_0xa6a371(0x412)]))&&(_0x27e3fa[_0xa6a371(0x412)]=_0xbbd63a[_0xa6a371(0x412)],_0x5cd7ea=!0x0),_0xbbd63a[_0xa6a371(0x2c9)]&&(_0x27e3fa[_0xa6a371(0x2c9)]=_0xbbd63a[_0xa6a371(0x2c9)]);}else{if(_0x30b4a5['customFields']['some'](_0x26fe6a=>_0x26fe6a['name']===_0xbbd63a[_0xa6a371(0x2c9)]&&_0x26fe6a[_0xa6a371(0x195)]!==_0xbbd63a['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x30b4a5[_0xa6a371(0x49c)]['push']({'_id':_0xbbd63a[_0xa6a371(0x195)]||new ye[(_0xa6a371(0x2d4))][(_0xa6a371(0x5ca))]['ObjectId']()[_0xa6a371(0x2aa)](),'order':_0xbbd63a[_0xa6a371(0x412)],'name':_0xbbd63a[_0xa6a371(0x2c9)]}),_0x5cd7ea=!0x0;}}if(_0x5cd7ea){_0x30b4a5[_0xa6a371(0x49c)][_0xa6a371(0x3db)]((_0x1b4c55,_0x529fcd)=>_0x1b4c55[_0xa6a371(0x412)]>_0x529fcd[_0xa6a371(0x412)]?0x1:_0x529fcd[_0xa6a371(0x412)]>_0x1b4c55[_0xa6a371(0x412)]?-0x1:0x0);for(let _0x11291d=0x0;_0x11291d<_0x30b4a5[_0xa6a371(0x49c)][_0xa6a371(0x523)];_0x11291d++)_0x30b4a5['customFields'][_0x11291d]['order']=_0x11291d+0x1;}let _0x2e4c59=await _0x30b4a5[_0xa6a371(0x5e0)]();return this[_0xa6a371(0x312)]=_0x2e4c59,this[_0xa6a371(0x190)]['verbose'](this['instanceName']+'\x20('+this[_0xa6a371(0x2d6)][_0xa6a371(0x46f)]+_0xa6a371(0x6a1)),this['logger'][_0xa6a371(0x240)](this[_0xa6a371(0x344)]+'\x20('+this[_0xa6a371(0x2d6)][_0xa6a371(0x46f)]+_0xa6a371(0x483)+this[_0xa6a371(0x312)]),_0x2e4c59;}catch(_0x25166d){throw this[_0xa6a371(0x190)][_0xa6a371(0x182)](this[_0xa6a371(0x344)]+'\x20('+this[_0xa6a371(0x2d6)][_0xa6a371(0x46f)]+_0xa6a371(0x1a4)+_0x25166d),new m(_0xa6a371(0x15c)+_0x25166d[_0xa6a371(0x32a)]);}}async[a0_0x38390a(0x648)](_0x2f66be){const _0xf16ec4=a0_0x38390a;let _0x40dab9=this[_0xf16ec4(0x2d6)][_0xf16ec4(0x46f)];try{let _0x3814ad=await ae[_0xf16ec4(0x5a1)](_0x40dab9);_0x3814ad||(_0x3814ad=new ae({'_id':_0x40dab9}),await _0x3814ad[_0xf16ec4(0x5e0)]()),_0x3814ad[_0xf16ec4(0x5b0)][_0xf16ec4(0xf9)]=_0x2f66be?.['enabled']!==void 0x0?_0x2f66be?.[_0xf16ec4(0xf9)]:_0x3814ad[_0xf16ec4(0x5b0)]['enabled'],_0x3814ad['flowConfig']['ignoreGroups']=_0x2f66be?.[_0xf16ec4(0x68d)]!==void 0x0?_0x2f66be?.[_0xf16ec4(0x68d)]:_0x3814ad[_0xf16ec4(0x5b0)][_0xf16ec4(0x68d)],_0x3814ad[_0xf16ec4(0x5b0)][_0xf16ec4(0x2f0)]=_0x2f66be?.['prefixCommand']??_0x3814ad['flowConfig'][_0xf16ec4(0x2f0)],_0x3814ad[_0xf16ec4(0x5b0)][_0xf16ec4(0x3ea)]=_0x2f66be?.[_0xf16ec4(0x3ea)]??_0x3814ad['flowConfig']['stopConversation'],_0x3814ad['flowConfig'][_0xf16ec4(0x368)]=_0x2f66be?.[_0xf16ec4(0x368)]??_0x3814ad[_0xf16ec4(0x5b0)][_0xf16ec4(0x368)];let _0x5601f5=await _0x3814ad[_0xf16ec4(0x5e0)]();return this[_0xf16ec4(0x312)]=_0x5601f5,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xf16ec4(0x2d6)][_0xf16ec4(0x46f)]+'):\x20alterando\x20this.AutomateSystem'),this[_0xf16ec4(0x190)][_0xf16ec4(0x240)](this[_0xf16ec4(0x344)]+'\x20('+this[_0xf16ec4(0x2d6)]['wuid']+'):\x20'+this[_0xf16ec4(0x312)]),_0x5601f5;}catch(_0x52bdda){throw this[_0xf16ec4(0x190)][_0xf16ec4(0x182)](this[_0xf16ec4(0x344)]+'\x20('+this[_0xf16ec4(0x2d6)]['wuid']+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x52bdda),new m(_0xf16ec4(0x52b)+_0x52bdda['message']);}}async[a0_0x38390a(0x44e)](){const _0x55d9d0=a0_0x38390a;let _0x58e306=this['instance'][_0x55d9d0(0x46f)];try{let _0x3b069c=await ae[_0x55d9d0(0x5a1)](_0x58e306);return _0x3b069c||(_0x3b069c=new ae({'_id':_0x58e306})),_0x3b069c[_0x55d9d0(0x5b0)]=_0x3b069c['flowConfig']||{},_0x3b069c[_0x55d9d0(0x5b0)]['enabled']===void 0x0&&(_0x3b069c['flowConfig'][_0x55d9d0(0xf9)]=!0x1),_0x3b069c[_0x55d9d0(0x5b0)][_0x55d9d0(0x68d)]===void 0x0&&(_0x3b069c[_0x55d9d0(0x5b0)][_0x55d9d0(0x68d)]=!0x0),_0x3b069c['flowConfig'][_0x55d9d0(0x2f0)]===void 0x0&&(_0x3b069c[_0x55d9d0(0x5b0)][_0x55d9d0(0x2f0)]='!'),_0x3b069c['flowConfig'][_0x55d9d0(0x3ea)]===void 0x0&&(_0x3b069c[_0x55d9d0(0x5b0)][_0x55d9d0(0x3ea)]=_0x55d9d0(0x5be)),_0x3b069c[_0x55d9d0(0x5b0)]['stopMinutes']===void 0x0&&(_0x3b069c[_0x55d9d0(0x5b0)]['stopMinutes']=0x14),await _0x3b069c[_0x55d9d0(0x5e0)](),this['AutomateSystem']=_0x3b069c,this[_0x55d9d0(0x190)][_0x55d9d0(0x240)](this['instanceName']+'\x20('+this[_0x55d9d0(0x2d6)][_0x55d9d0(0x46f)]+'):\x20Visualizando\x20AutomateSystem'),this['logger'][_0x55d9d0(0x240)](this[_0x55d9d0(0x312)]),_0x3b069c;}catch(_0x23013c){throw this[_0x55d9d0(0x190)][_0x55d9d0(0x182)](this['instanceName']+'\x20('+this[_0x55d9d0(0x2d6)][_0x55d9d0(0x46f)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x23013c[_0x55d9d0(0x32a)]),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x23013c['message']);}}async[a0_0x38390a(0x214)](){const _0x115fd2=a0_0x38390a;let _0x30cb32=()=>{const _0xbdb6eb=a0_0x38ae;this[_0xbdb6eb(0x190)]['verbose'](this[_0xbdb6eb(0x344)]+'\x20('+this[_0xbdb6eb(0x2d6)][_0xbdb6eb(0x46f)]+_0xbdb6eb(0x519)+this['processingScheduleMessageId']+_0xbdb6eb(0x679));},_0x142032=async()=>{const _0x57b8bc=a0_0x38ae;this[_0x57b8bc(0x190)][_0x57b8bc(0x240)](this[_0x57b8bc(0x344)]+'\x20('+this['instance'][_0x57b8bc(0x46f)]+_0x57b8bc(0x263));let _0x588c93=Date[_0x57b8bc(0x29d)]()-0xc*0x3c*0x3c*0x3e8;return await k['find']({'owner':this['instance'][_0x57b8bc(0x46f)],'status':{'$in':[_0x57b8bc(0x54b),_0x57b8bc(0x487)]},'$or':[{'when':{'$lte':Date[_0x57b8bc(0x29d)](),'$gte':_0x588c93}},{'when':0x0}]});},_0x4efc82=async _0x1692ef=>{const _0x552fc4=a0_0x38ae;for(let _0x1f0ec7 of _0x1692ef){if(!await k[_0x552fc4(0x58f)]({'_id':_0x1f0ec7['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x552fc4(0x29d)]()-0x1770}}]},{'$set':{'startSend':Date[_0x552fc4(0x29d)]()}}))return;if(!this[_0x552fc4(0x4c4)]){this[_0x552fc4(0x190)][_0x552fc4(0x240)](this[_0x552fc4(0x344)]+'\x20('+this[_0x552fc4(0x2d6)][_0x552fc4(0x46f)]+_0x552fc4(0x617));break;}(!_0x1f0ec7[_0x552fc4(0x11f)]||_0x1f0ec7[_0x552fc4(0x11f)]['length']===0x0)&&(_0x1f0ec7=await k['findByIdAndUpdate'](_0x1f0ec7['_id'],{'$set':{'status':_0x552fc4(0x487),'remoteJidsRemaining':[..._0x1f0ec7[_0x552fc4(0x171)]]}},{'new':!0x0}));for(let _0x13b29e of _0x1f0ec7['remoteJidsRemaining']){if(this['lastSend']=Date[_0x552fc4(0x29d)](),_0x1f0ec7[_0x552fc4(0x6a7)]['some'](_0xa9adc5=>_0xa9adc5[_0x552fc4(0x41e)]===_0x13b29e)){this[_0x552fc4(0x190)][_0x552fc4(0x240)](this[_0x552fc4(0x344)]+'\x20('+this['instance'][_0x552fc4(0x46f)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x13b29e+_0x552fc4(0x1a3));continue;}try{let _0x2e4666=await this['SendScheduleMessage'](_0x13b29e,_0x1f0ec7),_0x3e2adf={'remoteJid':_0x13b29e,'error':_0x2e4666[_0x552fc4(0x182)],'id':_0x2e4666['id']||null,'error_log':_0x2e4666['error_log']||null,'log_timestamp':Date[_0x552fc4(0x29d)]()};if((await k['findByIdAndUpdate'](_0x1f0ec7['_id'],{'$push':{'messagesSend':_0x3e2adf},'$pull':{'remoteJidsRemaining':_0x13b29e}},{'new':!0x0}))[_0x552fc4(0x13c)]===_0x552fc4(0x227)){this[_0x552fc4(0x190)][_0x552fc4(0x240)](this[_0x552fc4(0x344)]+'\x20('+this[_0x552fc4(0x2d6)][_0x552fc4(0x46f)]+_0x552fc4(0x69f)+_0x1f0ec7[_0x552fc4(0x195)]+_0x552fc4(0x451));break;}if(!this[_0x552fc4(0x4c4)]){this[_0x552fc4(0x190)][_0x552fc4(0x240)](this[_0x552fc4(0x344)]+'\x20('+this['instance'][_0x552fc4(0x46f)]+_0x552fc4(0x565));break;}if(!this['processingScheduleMessageId']){this[_0x552fc4(0x190)][_0x552fc4(0x240)](this[_0x552fc4(0x344)]+'\x20('+this['instance']['wuid']+_0x552fc4(0x69f)+_0x1f0ec7[_0x552fc4(0x195)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x30508c=this['getDelay'](_0x1f0ec7[_0x552fc4(0x2f9)],_0x1f0ec7['delaySecMax']);await this['sleep'](_0x30508c);}catch(_0x2aeab8){this['logger'][_0x552fc4(0x182)](this[_0x552fc4(0x344)]+'\x20('+this[_0x552fc4(0x2d6)]['wuid']+_0x552fc4(0x2b6)+_0x13b29e+':\x20'+_0x2aeab8[_0x552fc4(0x32a)]);let _0x5c97f2={'remoteJid':_0x13b29e,'status':_0x552fc4(0x182),'timestamp':Date[_0x552fc4(0x29d)](),'error':_0x2aeab8[_0x552fc4(0x32a)]};await k[_0x552fc4(0x458)](_0x1f0ec7['_id'],{'$push':{'messagesSend':_0x5c97f2},'$pull':{'remoteJidsRemaining':_0x13b29e}},{'new':!0x0});}}let _0x2d9736=await k['findById'](_0x1f0ec7[_0x552fc4(0x195)]);_0x2d9736[_0x552fc4(0x11f)][_0x552fc4(0x523)]===0x0&&_0x2d9736[_0x552fc4(0x13c)]!==_0x552fc4(0x227)&&await k[_0x552fc4(0x458)](_0x1f0ec7['_id'],{'$set':{'status':'done'}},{'new':!0x0}),await new Promise(_0x5e3dba=>setTimeout(_0x5e3dba,0x1388));}},_0x4d5b55=async()=>{const _0x2dbdd5=a0_0x38ae;let _0x41bdc4=await k[_0x2dbdd5(0x548)]({'owner':this['instance']['wuid'],'status':'scheduled','when':{'$gt':Date[_0x2dbdd5(0x29d)]()}})[_0x2dbdd5(0x3db)]({'when':0x1});_0x41bdc4&&_0x41bdc4[_0x2dbdd5(0x1f6)]-Date[_0x2dbdd5(0x29d)]()<=0x5265c00?this[_0x2dbdd5(0x10b)]=_0x41bdc4[_0x2dbdd5(0x1f6)]-Date[_0x2dbdd5(0x29d)]():this[_0x2dbdd5(0x10b)]=(0x3c+Math[_0x2dbdd5(0x399)](Math[_0x2dbdd5(0x5f7)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x2dbdd5(0x27c)](this['delayMessage'],0x7d0);let _0x2d744f=Math['round'](this[_0x2dbdd5(0x10b)]/0xea60);if(_0x41bdc4){let _0x3f2a6d=new Date(_0x41bdc4['when'])['toLocaleString']();this[_0x2dbdd5(0x190)][_0x2dbdd5(0x240)](this[_0x2dbdd5(0x344)]+'\x20('+this[_0x2dbdd5(0x2d6)][_0x2dbdd5(0x46f)]+_0x2dbdd5(0x25d)+_0x3f2a6d+_0x2dbdd5(0x265)+_0x2d744f+_0x2dbdd5(0x532));}else this[_0x2dbdd5(0x190)][_0x2dbdd5(0x240)](this['instanceName']+'\x20('+this[_0x2dbdd5(0x2d6)][_0x2dbdd5(0x46f)]+_0x2dbdd5(0x460)+_0x2d744f+_0x2dbdd5(0x532));setTimeout(()=>this['scheduleNextCheck'](),this[_0x2dbdd5(0x10b)]);};if(this[_0x115fd2(0xf8)]&&Date['now']()-this['lastSend']<0x1d4c0){_0x30cb32();return;}try{let _0x19b7dd=await _0x142032();_0x19b7dd[_0x115fd2(0x523)]===0x0?this['logger'][_0x115fd2(0x240)](this['instanceName']+'\x20('+this[_0x115fd2(0x2d6)][_0x115fd2(0x46f)]+_0x115fd2(0x334)):(this['processingScheduleMessageId']=_0x19b7dd[0x0][_0x115fd2(0x195)],await _0x4efc82(_0x19b7dd)),await _0x4d5b55(),this[_0x115fd2(0xf8)]=null;}catch(_0x533ff1){this[_0x115fd2(0x190)]['error']('Error\x20in\x20scheduleNextCheck:\x20'+_0x533ff1[_0x115fd2(0x32a)]);}}['getDelay'](_0x1743df,_0x461fc1){const _0x18a09e=a0_0x38390a;return _0x1743df=Math[_0x18a09e(0x27c)](0.5,_0x1743df),_0x461fc1=Math[_0x18a09e(0x27c)](0x3,_0x461fc1),Math[_0x18a09e(0x399)](Math[_0x18a09e(0x5f7)]()*(_0x461fc1-_0x1743df+0x1)+_0x1743df)*0x3e8;}[a0_0x38390a(0x5c9)](_0x382da9){return new Promise(_0x276d57=>setTimeout(_0x276d57,_0x382da9));}async[a0_0x38390a(0x2b2)](_0x4ffa50){const _0x371b75=a0_0x38390a;if(!this['AutomateSystem']&&(await this[_0x371b75(0x44e)](),!this[_0x371b75(0x312)]))return null;_0x4ffa50=this[_0x371b75(0x176)](_0x4ffa50);let _0x4724a5=await I['findOne']({'id':_0x4ffa50,'owner':this[_0x371b75(0x2d6)]['wuid']}),_0x26b4ac={};if(_0x4724a5&&_0x4724a5[_0x371b75(0x45e)]){let _0x408fbf=_0x4724a5[_0x371b75(0x45e)];typeof _0x408fbf['nome']==_0x371b75(0x1ac)&&(_0x26b4ac[_0x371b75(0x4f5)]=_0x408fbf[_0x371b75(0x4f5)]),typeof _0x408fbf['nomecompleto']==_0x371b75(0x1ac)&&(_0x26b4ac['nomecompleto']=_0x408fbf[_0x371b75(0x4e5)]),typeof _0x408fbf[_0x371b75(0x639)]==_0x371b75(0x1ac)&&(_0x26b4ac[_0x371b75(0x639)]=_0x408fbf[_0x371b75(0x639)]),typeof _0x408fbf[_0x371b75(0x346)]=='string'&&(_0x26b4ac[_0x371b75(0x346)]=_0x408fbf[_0x371b75(0x346)]),typeof _0x408fbf['status']==_0x371b75(0x1ac)&&(_0x26b4ac[_0x371b75(0x13c)]=_0x408fbf[_0x371b75(0x13c)]),typeof _0x408fbf[_0x371b75(0x5d1)]==_0x371b75(0x1ac)&&(_0x26b4ac[_0x371b75(0x5d1)]=_0x408fbf['notas']),typeof _0x408fbf['responsavelid']==_0x371b75(0x1ac)&&(_0x26b4ac[_0x371b75(0x5ff)]=_0x408fbf[_0x371b75(0x5ff)]),Array[_0x371b75(0x38d)](_0x408fbf['tags'])&&(_0x26b4ac['tags']=_0x408fbf[_0x371b75(0x478)][_0x371b75(0x518)](',\x20'));}return _0x4724a5&&_0x4724a5['leadInfo']&&_0x4724a5[_0x371b75(0x45e)][_0x371b75(0x49c)]&&_0x4724a5[_0x371b75(0x45e)][_0x371b75(0x49c)]['forEach'](_0x42cbc1=>{const _0x3d7177=_0x371b75;let _0x4633c7=this[_0x3d7177(0x312)][_0x3d7177(0x49c)][_0x3d7177(0x37e)](_0x3cd24b=>_0x3cd24b[_0x3d7177(0x195)]===_0x42cbc1[_0x3d7177(0x195)]);_0x4633c7&&(_0x26b4ac[_0x4633c7[_0x3d7177(0x2c9)]]=_0x42cbc1[_0x3d7177(0x3bc)]);}),_0x26b4ac;}async[a0_0x38390a(0x1e9)](_0x3711fb,_0x4a8c71){const _0x587dfd=a0_0x38390a;let _0x26ae3a=await this[_0x587dfd(0x2b2)](_0x4a8c71);return this[_0x587dfd(0x4df)](_0x3711fb,_0x26ae3a);}async[a0_0x38390a(0x475)](_0x56538f){const _0x5834f1=a0_0x38390a;try{if(this[_0x5834f1(0x190)][_0x5834f1(0x240)](this[_0x5834f1(0x344)]+'\x20('+this[_0x5834f1(0x2d6)][_0x5834f1(0x46f)]+_0x5834f1(0x64b)),_0x56538f[_0x5834f1(0x3d9)]&&_0x56538f[_0x5834f1(0x195)]){if(this[_0x5834f1(0xf8)]===_0x56538f[_0x5834f1(0x195)][_0x5834f1(0x2aa)]())throw new Error(_0x5834f1(0x126));let _0x2a3eff=await k[_0x5834f1(0x151)](_0x56538f[_0x5834f1(0x195)]);return setTimeout(()=>this[_0x5834f1(0x214)](),0x7d0),_0x2a3eff;}let _0x26f503;if(_0x56538f[_0x5834f1(0x195)]&&(_0x26f503=await k['findOne']({'owner':this[_0x5834f1(0x2d6)][_0x5834f1(0x46f)],'_id':_0x56538f[_0x5834f1(0x195)]})),_0x26f503){let _0x4035d8=_0x56538f;this[_0x5834f1(0xf8)]===_0x26f503[_0x5834f1(0x195)][_0x5834f1(0x2aa)]()&&(_0x4035d8={'status':_0x56538f[_0x5834f1(0x13c)],'_id':_0x56538f[_0x5834f1(0x195)]});let _0x3a51b9=await k[_0x5834f1(0x458)](_0x26f503['_id'],{'$set':_0x4035d8},{'new':!0x0});return setTimeout(()=>this[_0x5834f1(0x214)](),0x7d0),_0x3a51b9;}else{_0x56538f['owner']=this['instance'][_0x5834f1(0x46f)];let _0x5e9c2e=await new k(_0x56538f)['save']();return setTimeout(()=>this[_0x5834f1(0x214)](),0x7d0),_0x5e9c2e;}}catch(_0x21fb0f){throw this['logger'][_0x5834f1(0x182)](this[_0x5834f1(0x344)]+'\x20('+this['instance'][_0x5834f1(0x46f)]+_0x5834f1(0x102)+_0x21fb0f),new m(_0x5834f1(0x392)+_0x21fb0f['message']);}}async[a0_0x38390a(0x2a3)](){const _0x5c0923=a0_0x38390a;try{return await k[_0x5c0923(0x37e)]({'owner':this[_0x5c0923(0x2d6)]['wuid']})[_0x5c0923(0x3db)]({'when':0x1});}catch(_0x7b1096){throw this['logger'][_0x5c0923(0x182)](this[_0x5c0923(0x344)]+'\x20('+this[_0x5c0923(0x2d6)][_0x5c0923(0x46f)]+_0x5c0923(0x127)+_0x7b1096),new m(_0x5c0923(0x392)+_0x7b1096['message']);}}async[a0_0x38390a(0x34b)](){const _0x29bc80=a0_0x38390a;try{return await k['deleteMany']({'owner':this['instance'][_0x29bc80(0x46f)],'status':_0x29bc80(0x5e7)}),this[_0x29bc80(0x190)][_0x29bc80(0x240)](this[_0x29bc80(0x344)]+'\x20('+this['instance'][_0x29bc80(0x46f)]+_0x29bc80(0x3f6)),this[_0x29bc80(0x2a3)]();}catch(_0xec3115){throw this[_0x29bc80(0x190)][_0x29bc80(0x182)](this['instanceName']+'\x20('+this[_0x29bc80(0x2d6)][_0x29bc80(0x46f)]+_0x29bc80(0x4d1)+_0xec3115),new m('Erro:'+_0xec3115[_0x29bc80(0x32a)]);}}async[a0_0x38390a(0x2c8)](_0x7ced66,_0x32b803){const _0x2c863c=a0_0x38390a;try{switch(_0x32b803['type']){case _0x2c863c(0x143):return await this[_0x2c863c(0x4cc)](_0x32b803,_0x7ced66);case'media':return await this[_0x2c863c(0x150)](_0x32b803,_0x7ced66);case _0x2c863c(0x35e):return await this['scheduleSendAudio'](_0x32b803,_0x7ced66);default:return this[_0x2c863c(0x190)][_0x2c863c(0x182)](this[_0x2c863c(0x344)]+'\x20('+this[_0x2c863c(0x2d6)][_0x2c863c(0x46f)]+'):\x20Comando\x20desconhecido:\x20'+_0x32b803['type']),{'status':_0x2c863c(0x182),'detail':_0x2c863c(0x54d)};}}catch(_0x422efe){return this[_0x2c863c(0x190)][_0x2c863c(0x182)](this['instanceName']+'\x20('+this['instance'][_0x2c863c(0x46f)]+_0x2c863c(0x3f1)+_0x422efe),{'status':_0x2c863c(0x182),'detail':_0x422efe[_0x2c863c(0x32a)]};}}[a0_0x38390a(0x280)](_0x192b6f){const _0x508882=a0_0x38390a;let _0x35faca=_0x192b6f['split']('|'),_0x5d3281=Math[_0x508882(0x399)](Math['random']()*_0x35faca[_0x508882(0x523)]);return _0x35faca[_0x5d3281]['trim']();}async[a0_0x38390a(0x4cc)](_0x46976,_0x3a51b6){const _0x22e5e3=a0_0x38390a;if(this[_0x22e5e3(0x190)][_0x22e5e3(0x240)](this[_0x22e5e3(0x344)]+'\x20('+this['instance']['wuid']+_0x22e5e3(0x5df)),!_0x46976['message']['text']||_0x46976[_0x22e5e3(0x32a)][_0x22e5e3(0x143)][_0x22e5e3(0x523)]===0x0)return{'error':!0x0,'error_log':_0x22e5e3(0x117)};let _0x26cf8e=this[_0x22e5e3(0x280)](_0x46976[_0x22e5e3(0x32a)][_0x22e5e3(0x143)]),_0x53743c=await this[_0x22e5e3(0x1e9)](_0x26cf8e,_0x3a51b6),_0x405894={'number':_0x3a51b6,'options':{'delay':_0x46976[_0x22e5e3(0x32a)][_0x22e5e3(0x218)]},'textMessage':{'text':_0x53743c}},_0x5637ec=null;try{let _0x5cba35=await this[_0x22e5e3(0x1e0)](_0x405894);if(_0x5cba35&&_0x5cba35['status'])return{'error':!0x1,'id':_0x5cba35[_0x22e5e3(0x378)]['id']};_0x5637ec=JSON[_0x22e5e3(0x5a0)](_0x5cba35),this[_0x22e5e3(0x190)][_0x22e5e3(0x240)](this['instanceName']+'\x20('+this[_0x22e5e3(0x2d6)]['wuid']+_0x22e5e3(0x483)+_0x5637ec);}catch(_0x437e55){this['logger']['error'](this[_0x22e5e3(0x344)]+'\x20('+this[_0x22e5e3(0x2d6)][_0x22e5e3(0x46f)]+_0x22e5e3(0x14e)+_0x437e55),_0x5637ec=_0x437e55[_0x22e5e3(0x32a)];}if(_0x5637ec)return{'error':!0x0,'error_log':(typeof _0x5637ec=='object'?JSON['stringify'](_0x5637ec,null,0x2):_0x5637ec)[_0x22e5e3(0x3ab)](/[\[\]{}\n]/g,'\x20')[_0x22e5e3(0x3ab)](/  +/g,'\x20')};}async[a0_0x38390a(0x150)](_0x37fe1d,_0xe0f591){const _0x265499=a0_0x38390a;this['logger']['verbose'](this[_0x265499(0x344)]+'\x20('+this[_0x265499(0x2d6)][_0x265499(0x46f)]+_0x265499(0x289));let _0x3b7428;if(_0x37fe1d[_0x265499(0x32a)]['text']&&_0x37fe1d[_0x265499(0x32a)][_0x265499(0x143)][_0x265499(0x523)]>0x0){let _0x5782cf=this[_0x265499(0x280)](_0x37fe1d[_0x265499(0x32a)][_0x265499(0x143)]);_0x3b7428=await this[_0x265499(0x1e9)](_0x5782cf,_0xe0f591);}let _0x1a0d4c={'number':_0xe0f591,'options':{'delay':_0x37fe1d[_0x265499(0x32a)][_0x265499(0x218)]},'mediaMessage':{'mediatype':_0x37fe1d[_0x265499(0x32a)][_0x265499(0x4ca)],'caption':_0x3b7428,'media':_0x37fe1d[_0x265499(0x32a)][_0x265499(0x16a)]}},_0xb3677f=null;try{let _0x4f7623=await this[_0x265499(0x4cf)](_0x1a0d4c);if(_0x4f7623&&_0x4f7623['status'])return{'error':!0x1,'id':_0x4f7623[_0x265499(0x378)]['id']};_0xb3677f=JSON[_0x265499(0x5a0)](_0x4f7623),this[_0x265499(0x190)][_0x265499(0x240)](this[_0x265499(0x344)]+'\x20('+this[_0x265499(0x2d6)][_0x265499(0x46f)]+_0x265499(0x483)+_0xb3677f);}catch(_0x2a0c45){this[_0x265499(0x190)][_0x265499(0x182)](this[_0x265499(0x344)]+'\x20('+this['instance']['wuid']+_0x265499(0x4bb)+_0x2a0c45[_0x265499(0x32a)]),_0xb3677f=_0x2a0c45[_0x265499(0x32a)];}if(_0xb3677f)return{'error':!0x0,'error_log':(typeof _0xb3677f=='object'?JSON['stringify'](_0xb3677f,null,0x2):_0xb3677f)[_0x265499(0x3ab)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x38390a(0x309)](_0x260af4,_0x5bbb3c){const _0x3d8a96=a0_0x38390a;this[_0x3d8a96(0x190)][_0x3d8a96(0x240)](this[_0x3d8a96(0x344)]+'\x20('+this[_0x3d8a96(0x2d6)][_0x3d8a96(0x46f)]+_0x3d8a96(0x2d0));let _0x1c8cb7={'number':_0x5bbb3c,'options':{'delay':_0x260af4[_0x3d8a96(0x32a)][_0x3d8a96(0x218)]},'audioMessage':{'audio':_0x260af4['message']['urlOrBase64']}},_0x3cd84c=null;try{let _0x501ee5=await this[_0x3d8a96(0x3ca)](_0x1c8cb7);if(_0x501ee5&&_0x501ee5[_0x3d8a96(0x13c)])return{'error':!0x1,'id':_0x501ee5['key']['id']};_0x3cd84c=JSON[_0x3d8a96(0x5a0)](_0x501ee5),this[_0x3d8a96(0x190)][_0x3d8a96(0x240)](this[_0x3d8a96(0x344)]+'\x20('+this[_0x3d8a96(0x2d6)][_0x3d8a96(0x46f)]+_0x3d8a96(0x483)+_0x3cd84c);}catch(_0x44edf9){this[_0x3d8a96(0x190)][_0x3d8a96(0x182)](this['instanceName']+'\x20('+this[_0x3d8a96(0x2d6)][_0x3d8a96(0x46f)]+_0x3d8a96(0x46a)+_0x44edf9),_0x3cd84c=_0x44edf9[_0x3d8a96(0x32a)];}if(_0x3cd84c)return{'error':!0x0,'error_log':(typeof _0x3cd84c==_0x3d8a96(0x58c)?JSON[_0x3d8a96(0x5a0)](_0x3cd84c,null,0x2):_0x3cd84c)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3d8a96(0x3ab)](/  +/g,'\x20')};}},Ee=require('path'),kt=class l{constructor(_0x2d1b79,_0x854e0e,_0xbda4e5){const _0x5ae886=a0_0x38390a;this[_0x5ae886(0x1de)]=_0x2d1b79,this['configService']=_0x854e0e,this[_0x5ae886(0x129)]=_0xbda4e5,this['db']={},this['redis']={},this[_0x5ae886(0x190)]=new v(l['name']),this[_0x5ae886(0x1fc)]={},(this[_0x5ae886(0x444)](),this[_0x5ae886(0x291)](),this['delInstanceFiles'](),Object[_0x5ae886(0x500)](this['db'],_0x854e0e[_0x5ae886(0x1e3)](_0x5ae886(0x288))),Object[_0x5ae886(0x500)](this[_0x5ae886(0x301)],_0x854e0e[_0x5ae886(0x1e3)]('REDIS')),this[_0x5ae886(0x513)]=this['db'][_0x5ae886(0x659)]?this['repository'][_0x5ae886(0x3b3)]?.['db'](this['db'][_0x5ae886(0x685)][_0x5ae886(0x63d)]+_0x5ae886(0x113)):void 0x0,this[_0x5ae886(0x385)]=this[_0x5ae886(0x301)]['ENABLED']?new we(this[_0x5ae886(0x301)]):void 0x0);}[a0_0x38390a(0x352)](_0xa4740b){const _0x12c48c=a0_0x38390a;let _0x1a553a=this['configService'][_0x12c48c(0x1e3)](_0x12c48c(0x391));typeof _0x1a553a==_0x12c48c(0x364)&&_0x1a553a>0x0&&setTimeout(()=>{const _0x3dafae=_0x12c48c;this[_0x3dafae(0x1fc)][_0xa4740b]?.['connectionStatus']?.[_0x3dafae(0x2ab)]!==_0x3dafae(0x201)&&delete this[_0x3dafae(0x1fc)][_0xa4740b];},0x3e8*0x3c*_0x1a553a);}async['instanceInfo'](_0x5d6aef){const _0x356e85=a0_0x38390a;if(_0x5d6aef&&!this['waInstances'][_0x5d6aef])throw new L(_0x356e85(0x315)+_0x5d6aef+_0x356e85(0x42a));let _0x5c9729=[];for await(let [_0x1d486d,_0x4c6335]of Object[_0x356e85(0x5eb)](this[_0x356e85(0x1fc)]))if(_0x4c6335&&_0x4c6335[_0x356e85(0x304)]['state']==='open'){let _0x42d406=await this[_0x356e85(0x129)][_0x356e85(0x461)][_0x356e85(0x37e)](_0x1d486d);_0x5c9729[_0x356e85(0x1d9)]({'instance':{'instanceName':_0x1d486d,'apikey':_0x42d406['apikey'],'owner':_0x4c6335[_0x356e85(0x46f)],'profileName':await _0x4c6335[_0x356e85(0x1d6)]()||_0x356e85(0x47f),'profilePictureUrl':_0x4c6335[_0x356e85(0x2ce)]}});}return _0x5c9729[_0x356e85(0x37e)](_0x4bf91c=>_0x4bf91c[_0x356e85(0x2d6)][_0x356e85(0x344)]===_0x5d6aef)??_0x5c9729;}['delInstanceFiles'](){setInterval(async()=>{const _0x134e51=a0_0x38ae;if(this['db'][_0x134e51(0x659)])(await this['dbInstance'][_0x134e51(0x53d)]())[_0x134e51(0x5e6)](async _0x11e9f9=>{const _0x26cea6=_0x134e51;let _0x1e23a5=_0x11e9f9[_0x26cea6(0x1e1)][_0x26cea6(0x3ab)](/^[\w-]+./,'');await this['dbInstance'][_0x26cea6(0x197)](_0x1e23a5)['deleteMany']({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x3b7b42=(0x0,ee['opendirSync'])(V,{'encoding':_0x134e51(0x1b4)});for await(let _0x11e6c4 of _0x3b7b42)_0x11e6c4[_0x134e51(0x2bf)]()&&(0x0,ee[_0x134e51(0x2cd)])((0x0,Ee['join'])(V,_0x11e6c4[_0x134e51(0x2c9)]),{'encoding':_0x134e51(0x1b4)})['forEach'](async _0x3ea46f=>{const _0x323fe4=_0x134e51;(_0x3ea46f[_0x323fe4(0x4db)](/^app.state.*/)||_0x3ea46f[_0x323fe4(0x4db)](/^session-.*/))&&(0x0,ee[_0x323fe4(0x643)])((0x0,Ee[_0x323fe4(0x518)])(V,_0x11e6c4[_0x323fe4(0x2c9)],_0x3ea46f),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x38390a(0x5a7)](_0x49ac8e){const _0x156699=a0_0x38390a;this['db'][_0x156699(0x659)]&&(await this[_0x156699(0x129)][_0x156699(0x3b3)][_0x156699(0x622)](),(await this[_0x156699(0x513)][_0x156699(0x53d)]())[_0x156699(0x523)]>0x0&&await this[_0x156699(0x513)]['dropCollection'](_0x49ac8e)),this[_0x156699(0x301)][_0x156699(0x659)]&&(this[_0x156699(0x385)][_0x156699(0x553)]=_0x49ac8e,await this[_0x156699(0x385)][_0x156699(0x358)]()),!this['db'][_0x156699(0x659)]&&!this['redis'][_0x156699(0x659)]&&(0x0,ee[_0x156699(0x643)])((0x0,Ee['join'])(V,_0x49ac8e),{'recursive':!0x0,'force':!0x0});}async[a0_0x38390a(0x402)](){const _0x109926=a0_0x38390a;let _0x1d901a=async _0x213e47=>{const _0x42cd13=a0_0x38ae;let _0x3315c5=new be(this[_0x42cd13(0x575)],this[_0x42cd13(0x1de)],this[_0x42cd13(0x129)]);_0x3315c5[_0x42cd13(0x344)]=_0x213e47,await _0x3315c5[_0x42cd13(0x55f)](),this['waInstances'][_0x213e47]=_0x3315c5;};try{if(this[_0x109926(0x301)][_0x109926(0x659)]){let _0x1fcd12=await this[_0x109926(0x385)][_0x109926(0x239)]();_0x1fcd12?.[_0x109926(0x523)]>0x0&&_0x1fcd12['forEach'](async _0xf700a8=>await _0x1d901a(_0xf700a8['split'](':')[0x1]));}if(this['db'][_0x109926(0x659)]){await this[_0x109926(0x129)]['dbServer'][_0x109926(0x622)]();let _0x34516c=await this[_0x109926(0x513)][_0x109926(0x53d)]();_0x34516c[_0x109926(0x523)]>0x0&&_0x34516c[_0x109926(0x5e6)](async _0xace9f6=>await _0x1d901a(_0xace9f6[_0x109926(0x1e1)]['replace'](/^[\w-]+\./,'')));return;}let _0x42e7dc=(0x0,ee[_0x109926(0x5e3)])(V,{'encoding':_0x109926(0x1b4)});for await(let _0x8e7cdf of _0x42e7dc)if(_0x8e7cdf[_0x109926(0x2bf)]()){if((0x0,ee['readdirSync'])((0x0,Ee[_0x109926(0x518)])(V,_0x8e7cdf[_0x109926(0x2c9)]),{'encoding':'utf-8'})[_0x109926(0x523)]===0x0){(0x0,ee[_0x109926(0x643)])((0x0,Ee[_0x109926(0x518)])(V,_0x8e7cdf['name']),{'recursive':!0x0,'force':!0x0});break;}await _0x1d901a(_0x8e7cdf['name']);}}catch(_0x358aa9){this[_0x109926(0x190)][_0x109926(0x182)](_0x358aa9);}}['removeInstance'](){const _0x2baca6=a0_0x38390a;this[_0x2baca6(0x1de)]['on'](_0x2baca6(0x644),async _0x3c76df=>{const _0x5ed266=_0x2baca6;try{this[_0x5ed266(0x1fc)][_0x3c76df]=void 0x0;}catch{}try{this['cleaningUp'](_0x3c76df);}finally{this[_0x5ed266(0x190)][_0x5ed266(0x283)](_0x5ed266(0x315)+_0x3c76df+_0x5ed266(0x4ad));}});}[a0_0x38390a(0x291)](){const _0x22b8b4=a0_0x38390a;this['eventEmitter']['on'](_0x22b8b4(0x13d),async _0x56fd59=>{const _0x25f1b1=_0x22b8b4;try{this[_0x25f1b1(0x1fc)][_0x56fd59]=void 0x0,this['cleaningUp'](_0x56fd59);}catch(_0x347510){this[_0x25f1b1(0x190)][_0x25f1b1(0x182)]({'localError':_0x25f1b1(0x291),'warn':_0x25f1b1(0x148),'error':_0x347510});}finally{this[_0x25f1b1(0x190)][_0x25f1b1(0x283)](_0x25f1b1(0x315)+_0x56fd59+'\x22\x20-\x20NOT\x20CONNECTION');}});}},xe=require(a0_0x38390a(0x37f)),Ne=require('fs'),Lt=class extends j{constructor(_0x57a216,_0x31998f){const _0xd9a72f=a0_0x38390a;super(_0x31998f),this[_0xd9a72f(0x168)]=_0x57a216,this['configService']=_0x31998f;}async['insert'](_0x33632e,_0x54c36f=!0x1){const _0x143465=a0_0x38390a;if(_0x33632e[_0x143465(0x523)]!==0x0)try{return this[_0x143465(0x32e)]['ENABLED']&&_0x54c36f?{'insertCount':(await this[_0x143465(0x168)][_0x143465(0x231)]([..._0x33632e]))['length']}:(_0x33632e['forEach'](_0x19e7c2=>{const _0x10845a=_0x143465;this[_0x10845a(0x209)]({'path':(0x0,xe[_0x10845a(0x518)])(this[_0x10845a(0x497)],_0x10845a(0x3bd),_0x19e7c2[_0x10845a(0x1eb)]),'fileName':_0x19e7c2['id'],'data':_0x19e7c2});}),{'insertCount':_0x33632e['length']});}catch(_0x39093d){return _0x39093d;}finally{_0x33632e=void 0x0;}}async[a0_0x38390a(0x37e)](_0x7296e0){const _0x5a94f4=a0_0x38390a;try{if(this['dbSettings'][_0x5a94f4(0x659)])return await this[_0x5a94f4(0x168)][_0x5a94f4(0x37e)]({'owner':_0x7296e0[_0x5a94f4(0x606)][_0x5a94f4(0x1eb)]})['sort']({'lastmsg':-0x1})[_0x5a94f4(0x6a9)](_0x7296e0?.[_0x5a94f4(0x6a9)]??0x0)[_0x5a94f4(0x387)]();let _0x387938=[],_0x51cc71=(0x0,Ne['opendirSync'])((0x0,xe[_0x5a94f4(0x518)])(this['storePath'],_0x5a94f4(0x3bd),_0x7296e0[_0x5a94f4(0x606)][_0x5a94f4(0x1eb)]));for await(let _0x490835 of _0x51cc71)_0x490835['isFile']()&&_0x387938[_0x5a94f4(0x1d9)](JSON['parse']((0x0,Ne[_0x5a94f4(0x5ae)])((0x0,xe[_0x5a94f4(0x518)])(this[_0x5a94f4(0x497)],_0x5a94f4(0x3bd),_0x7296e0[_0x5a94f4(0x606)][_0x5a94f4(0x1eb)],_0x490835[_0x5a94f4(0x2c9)]),{'encoding':'utf-8'})));return _0x387938;}catch{return[];}}async[a0_0x38390a(0x3d9)](_0x1467a9){const _0xa6f87c=a0_0x38390a;try{return this[_0xa6f87c(0x32e)]['ENABLED']?await this[_0xa6f87c(0x168)]['deleteMany']({..._0x1467a9[_0xa6f87c(0x606)]}):((0x0,Ne[_0xa6f87c(0x643)])((0x0,xe['join'])(this[_0xa6f87c(0x497)],_0xa6f87c(0x3bd),_0x1467a9[_0xa6f87c(0x606)][_0xa6f87c(0x1eb)],_0x1467a9['where']['id']+_0xa6f87c(0x1db)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x1467a9[_0xa6f87c(0x606)]['id']}});}catch(_0x8a41d8){return{'error':_0x8a41d8?.[_0xa6f87c(0x2aa)]()};}}async[a0_0x38390a(0x548)](_0x1105c6){const _0x317fe8=a0_0x38390a;try{if(this['dbSettings'][_0x317fe8(0x659)])return await this[_0x317fe8(0x168)][_0x317fe8(0x548)]({'owner':_0x1105c6[_0x317fe8(0x606)][_0x317fe8(0x1eb)]})['lean']();}catch{return null;}}async['update'](_0x5e4503,_0x2b23be){const _0x198d58=a0_0x38390a;try{this[_0x198d58(0x32e)][_0x198d58(0x659)]&&await this[_0x198d58(0x168)][_0x198d58(0x2d3)]({..._0x5e4503[_0x198d58(0x606)]},{'$set':_0x2b23be});}catch(_0x17ea28){console[_0x198d58(0x182)](_0x17ea28);}}async[a0_0x38390a(0x5d3)](_0x522944,_0xe85579){const _0x5439e3=a0_0x38390a;try{if(this[_0x5439e3(0x32e)][_0x5439e3(0x659)]){let _0x363314=_0x522944[_0x5439e3(0x1da)]((_0x4820a3,_0x26f8e9)=>({'updateOne':{'filter':{..._0x4820a3[_0x5439e3(0x606)]},'update':{'$set':_0xe85579[_0x26f8e9]}}}));await this[_0x5439e3(0x168)]['bulkWrite'](_0x363314);}}catch(_0x78b49c){console['error'](_0x78b49c);}}},Ut=class{constructor(_0x11fcb1){const _0x27ad42=a0_0x38390a;this[_0x27ad42(0x3fd)]=_0x11fcb1;}async['editChat']({instanceName:_0xac532c},_0x518e24){const _0x838ec7=a0_0x38390a;return await this[_0x838ec7(0x3fd)]['waInstances'][_0xac532c]['editChat'](_0x518e24);}async[a0_0x38390a(0x1b5)]({instanceName:_0x6a1a89},_0x12497a){const _0x14b9cc=a0_0x38390a;return await this[_0x14b9cc(0x3fd)][_0x14b9cc(0x1fc)][_0x6a1a89]['whatsappNumber'](_0x12497a);}async['readMessage']({instanceName:_0x57e045},_0x1ad1d0){const _0x2161a4=a0_0x38390a;return await this[_0x2161a4(0x3fd)][_0x2161a4(0x1fc)][_0x57e045][_0x2161a4(0x577)](_0x1ad1d0);}async[a0_0x38390a(0x1a1)]({instanceName:_0x42df1f},_0x261f5e){const _0x4a2b13=a0_0x38390a;return await this['waMonitor'][_0x4a2b13(0x1fc)][_0x42df1f][_0x4a2b13(0x1a1)](_0x261f5e);}async['deleteMessage']({instanceName:_0x583f3f},_0x3891c7){const _0x2468f4=a0_0x38390a;return await this[_0x2468f4(0x3fd)][_0x2468f4(0x1fc)][_0x583f3f][_0x2468f4(0x2d2)](_0x3891c7);}async['fetchProfilePicture']({instanceName:_0x1676a7},_0x599281){const _0x42142f=a0_0x38390a;return await this[_0x42142f(0x3fd)][_0x42142f(0x1fc)][_0x1676a7][_0x42142f(0x661)](_0x599281[_0x42142f(0x364)]);}async['fetchProfile']({instanceName:_0xb6ec39},_0x45692c){const _0x513de8=a0_0x38390a;return await this[_0x513de8(0x3fd)][_0x513de8(0x1fc)][_0xb6ec39][_0x513de8(0x1e4)](_0xb6ec39,_0x45692c['number']);}async['fetchContacts']({instanceName:_0x3c6382},_0x137c7a){const _0x1ae910=a0_0x38390a;return await this[_0x1ae910(0x3fd)][_0x1ae910(0x1fc)][_0x3c6382][_0x1ae910(0x559)](_0x137c7a);}async[a0_0x38390a(0x347)]({instanceName:_0x2e69f7},_0x14432b){const _0x2b4e4a=a0_0x38390a;return await this[_0x2b4e4a(0x3fd)][_0x2b4e4a(0x1fc)][_0x2e69f7][_0x2b4e4a(0x347)](_0x14432b);}async[a0_0x38390a(0x620)]({instanceName:_0x33eb38},_0x5092fc){const _0x4fa538=a0_0x38390a;return await this[_0x4fa538(0x3fd)][_0x4fa538(0x1fc)][_0x33eb38][_0x4fa538(0x620)](_0x5092fc);}async[a0_0x38390a(0x21d)]({instanceName:_0x26584a},_0x1864a3){const _0x170609=a0_0x38390a;return await this[_0x170609(0x3fd)]['waInstances'][_0x26584a][_0x170609(0x21d)](_0x1864a3);}async['fetchChats']({instanceName:_0x281ce5}){const _0x356a37=a0_0x38390a;return await this[_0x356a37(0x3fd)][_0x356a37(0x1fc)][_0x281ce5]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x183312}){const _0x56376e=a0_0x38390a;return await this['waMonitor'][_0x56376e(0x1fc)][_0x183312]['fetchPrivacySettings']();}async[a0_0x38390a(0x56a)]({instanceName:_0x250fdf},_0x472d6f){const _0x11e4f7=a0_0x38390a;return await this[_0x11e4f7(0x3fd)][_0x11e4f7(0x1fc)][_0x250fdf][_0x11e4f7(0x56a)](_0x472d6f);}async[a0_0x38390a(0x275)]({instanceName:_0x155fdf},_0x478d99){const _0x55b53f=a0_0x38390a;return await this[_0x55b53f(0x3fd)][_0x55b53f(0x1fc)][_0x155fdf][_0x55b53f(0x275)](_0x478d99[_0x55b53f(0x364)]);}async[a0_0x38390a(0x499)]({instanceName:_0x2e4e00},_0x116266){const _0x2bfa9b=a0_0x38390a;return await this[_0x2bfa9b(0x3fd)][_0x2bfa9b(0x1fc)][_0x2e4e00]['updateProfileName'](_0x116266[_0x2bfa9b(0x2c9)]);}async['updateProfileStatus']({instanceName:_0x2ecd53},_0xa83b48){const _0x241b09=a0_0x38390a;return await this[_0x241b09(0x3fd)][_0x241b09(0x1fc)][_0x2ecd53]['updateProfileStatus'](_0xa83b48[_0x241b09(0x13c)]);}async[a0_0x38390a(0x112)]({instanceName:_0x437e3f},_0x2dcf4c){const _0x13ee2d=a0_0x38390a;return await this[_0x13ee2d(0x3fd)][_0x13ee2d(0x1fc)][_0x437e3f][_0x13ee2d(0x112)](_0x2dcf4c[_0x13ee2d(0x46d)]);}async['removeProfilePicture']({instanceName:_0x2c8c8e},_0x76694c){const _0x1ec599=a0_0x38390a;return await this[_0x1ec599(0x3fd)][_0x1ec599(0x1fc)][_0x2c8c8e][_0x1ec599(0x290)]();}},Ns=require(a0_0x38390a(0x217)),Vt=class l{constructor(_0xf817a8,_0x22f2f2,_0x5ce79a,_0x20e005,_0x337271){const _0x4d04ac=a0_0x38390a;this[_0x4d04ac(0x3fd)]=_0xf817a8,this[_0x4d04ac(0x575)]=_0x22f2f2,this[_0x4d04ac(0x129)]=_0x5ce79a,this[_0x4d04ac(0x1de)]=_0x20e005,this[_0x4d04ac(0x401)]=_0x337271,this['logger']=new v(l[_0x4d04ac(0x2c9)]);}async[a0_0x38390a(0x45d)]({instanceName:_0x125617,apikey:_0x595595}){const _0xaff6e9=a0_0x38390a;let _0x47b199=new be(this['configService'],this[_0xaff6e9(0x1de)],this['repository']);_0x47b199[_0xaff6e9(0x344)]=_0x125617,this[_0xaff6e9(0x3fd)][_0xaff6e9(0x1fc)][_0x47b199[_0xaff6e9(0x344)]]=_0x47b199,this['waMonitor'][_0xaff6e9(0x352)](_0x47b199[_0xaff6e9(0x344)]);let _0x31c599={};_0x595595?(await this[_0xaff6e9(0x129)]['auth'][_0xaff6e9(0x2ff)]({'apikey':_0x595595},_0x125617),_0x31c599['apikey']=_0x595595):_0x31c599=await this[_0xaff6e9(0x401)]['generateHash']({'instanceName':_0x47b199[_0xaff6e9(0x344)]});let _0x102e4e;return await _0x47b199[_0xaff6e9(0x55f)](),await(0x0,Ns[_0xaff6e9(0x218)])(0x7d0),_0x102e4e=_0x47b199[_0xaff6e9(0x331)],{'instance':{'instanceName':_0x47b199[_0xaff6e9(0x344)],'status':_0xaff6e9(0x161)},'hash':_0x31c599,'qrcode':_0x102e4e};}async[a0_0x38390a(0x55f)]({instanceName:_0x29e96b}){const _0x1277df=a0_0x38390a;try{let _0x58fe8e=this[_0x1277df(0x3fd)][_0x1277df(0x1fc)][_0x29e96b];switch(_0x58fe8e[_0x1277df(0x304)]?.[_0x1277df(0x2ab)]){case _0x1277df(0x625):return await _0x58fe8e[_0x1277df(0x55f)](),await(0x0,Ns[_0x1277df(0x218)])(0x7d0),_0x58fe8e['qrCode'];case _0x1277df(0x5ec):return _0x58fe8e[_0x1277df(0x331)];default:return await this[_0x1277df(0x46b)]({'instanceName':_0x29e96b});}}catch(_0x373765){this['logger']['log'](_0x373765);}}async['connectionState']({instanceName:_0x327b90}){const _0x43fd2e=a0_0x38390a;let _0x399632=this['waMonitor'][_0x43fd2e(0x1fc)][_0x327b90][_0x43fd2e(0x304)],_0x37c4f3=null;_0x399632[_0x43fd2e(0x2ab)]==='open'&&_0x327b90&&(_0x37c4f3=await this[_0x43fd2e(0x3fd)][_0x43fd2e(0x19f)](_0x327b90));let _0x2ba273=null;return _0x399632[_0x43fd2e(0x2ab)]===_0x43fd2e(0x5ec)&&_0x327b90&&(_0x2ba273=this[_0x43fd2e(0x3fd)][_0x43fd2e(0x1fc)][_0x327b90][_0x43fd2e(0x331)]),{'instance':_0x327b90,'connectionStatus':_0x399632,'instanceInfo':_0x37c4f3,'qrcode':_0x2ba273};}async['restartInstance']({instanceName:_0x2d3b07}){const _0x365b42=a0_0x38390a;try{return this[_0x365b42(0x3fd)][_0x365b42(0x1fc)][_0x2d3b07]?.[_0x365b42(0x510)]?.['ws']?.[_0x365b42(0x625)](),{'status':_0x365b42(0x574),'error':!0x1,'response':{'message':_0x365b42(0x255)}};}catch(_0x4f7395){this[_0x365b42(0x190)][_0x365b42(0x182)](_0x4f7395);}}async[a0_0x38390a(0x4ee)]({instanceName:_0x373784}){const _0x522989=a0_0x38390a;return _0x373784?this['waMonitor']['instanceInfo'](_0x373784):this[_0x522989(0x3fd)][_0x522989(0x19f)]();}async['logout']({instanceName:_0x48f921}){const _0x363908=a0_0x38390a;try{return await this['waMonitor'][_0x363908(0x1fc)][_0x48f921]?.[_0x363908(0x510)]?.[_0x363908(0x660)](_0x363908(0x655)+_0x48f921),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x157da8){throw new A(_0x157da8[_0x363908(0x2aa)]());}}async[a0_0x38390a(0x3c6)]({instanceName:_0x760ee8}){const _0x193939=a0_0x38390a;if((await this['connectionState']({'instanceName':_0x760ee8}))[_0x193939(0x304)]['state']===_0x193939(0x201))throw new m([_0x193939(0x357),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor'][_0x193939(0x1fc)][_0x760ee8],{'error':!0x1,'message':_0x193939(0x5f5)};}catch(_0x243b8f){throw new m(_0x243b8f[_0x193939(0x2aa)]());}}async[a0_0x38390a(0x53c)](_0x24efe1,_0xb58a86){const _0x5ae14c=a0_0x38390a;return await this[_0x5ae14c(0x401)][_0x5ae14c(0x53c)](_0xb58a86);}},te=require(a0_0x38390a(0x533)),jt=class{constructor(_0x5e49d7){const _0x434e38=a0_0x38390a;this[_0x434e38(0x3fd)]=_0x5e49d7;}async[a0_0x38390a(0x3fc)]({instanceName:_0x3337ae},_0x2abb7a){const _0x593063=a0_0x38390a;return await this[_0x593063(0x3fd)][_0x593063(0x1fc)][_0x3337ae][_0x593063(0x1e0)](_0x2abb7a);}async[a0_0x38390a(0x270)]({instanceName:_0x5eb03b},_0x40e321){const _0xcaa29e=a0_0x38390a;if((0x0,te['isBase64'])(_0x40e321?.[_0xcaa29e(0x4cf)]?.['media'])&&!_0x40e321?.['mediaMessage']?.[_0xcaa29e(0x662)])throw new m(_0xcaa29e(0x52f));if((0x0,te[_0xcaa29e(0x2f3)])(_0x40e321?.[_0xcaa29e(0x4cf)]?.[_0xcaa29e(0x419)])||(0x0,te['isBase64'])(_0x40e321?.[_0xcaa29e(0x4cf)]?.[_0xcaa29e(0x419)]))return await this['waMonitor'][_0xcaa29e(0x1fc)][_0x5eb03b]['mediaMessage'](_0x40e321);throw new m(_0xcaa29e(0x4bd));}async[a0_0x38390a(0x4b5)]({instanceName:_0x23dbc3},_0x296c28){const _0x5ca1d7=a0_0x38390a;if((0x0,te['isURL'])(_0x296c28[_0x5ca1d7(0x35a)][_0x5ca1d7(0x5b1)])||(0x0,te[_0x5ca1d7(0x588)])(_0x296c28[_0x5ca1d7(0x35a)][_0x5ca1d7(0x5b1)]))return await this[_0x5ca1d7(0x3fd)][_0x5ca1d7(0x1fc)][_0x23dbc3][_0x5ca1d7(0x409)](_0x296c28);throw new m(_0x5ca1d7(0x4bd));}async[a0_0x38390a(0x445)]({instanceName:_0x308150},_0x113405){const _0xf9ba5e=a0_0x38390a;if((0x0,te[_0xf9ba5e(0x2f3)])(_0x113405[_0xf9ba5e(0x3d7)][_0xf9ba5e(0x35e)])||(0x0,te['isBase64'])(_0x113405[_0xf9ba5e(0x3d7)][_0xf9ba5e(0x35e)]))return await this[_0xf9ba5e(0x3fd)][_0xf9ba5e(0x1fc)][_0x308150][_0xf9ba5e(0x3ca)](_0x113405);throw new m(_0xf9ba5e(0x4bd));}async[a0_0x38390a(0x4b3)]({instanceName:_0x44f49f},_0x7abd60){const _0x5d6f47=a0_0x38390a;if((0x0,te[_0x5d6f47(0x588)])(_0x7abd60['buttonMessage'][_0x5d6f47(0x4cf)]?.['media'])&&!_0x7abd60[_0x5d6f47(0x505)]['mediaMessage']?.[_0x5d6f47(0x662)])throw new m(_0x5d6f47(0x52f));return await this[_0x5d6f47(0x3fd)][_0x5d6f47(0x1fc)][_0x44f49f][_0x5d6f47(0x505)](_0x7abd60);}async[a0_0x38390a(0x5c6)]({instanceName:_0x3be8d7},_0x587a32){const _0x563228=a0_0x38390a;return await this[_0x563228(0x3fd)]['waInstances'][_0x3be8d7][_0x563228(0x296)](_0x587a32);}async[a0_0x38390a(0x420)]({instanceName:_0x108581},_0x52485a){const _0x5a051e=a0_0x38390a;return await this['waMonitor'][_0x5a051e(0x1fc)][_0x108581][_0x5a051e(0x210)](_0x52485a);}async['sendList']({instanceName:_0x4f4d15},_0x4436c4){const _0x53bdd2=a0_0x38390a;return await this[_0x53bdd2(0x3fd)][_0x53bdd2(0x1fc)][_0x4f4d15][_0x53bdd2(0x1a2)](_0x4436c4);}async['sendContact']({instanceName:_0x34215f},_0x581a57){const _0x20a18c=a0_0x38390a;return await this[_0x20a18c(0x3fd)][_0x20a18c(0x1fc)][_0x34215f][_0x20a18c(0x26b)](_0x581a57);}async[a0_0x38390a(0x156)]({instanceName:_0x191864},_0x2f9a4e){const _0x4bb23e=a0_0x38390a;if(!_0x2f9a4e[_0x4bb23e(0x66b)]['reaction'][_0x4bb23e(0x4db)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x4bb23e(0x2e6));return await this[_0x4bb23e(0x3fd)]['waInstances'][_0x191864][_0x4bb23e(0x66b)](_0x2f9a4e);}async[a0_0x38390a(0x56c)]({instanceName:_0x158ddb},_0x3b5d79){const _0x4e78d5=a0_0x38390a;return await this['waMonitor'][_0x4e78d5(0x1fc)][_0x158ddb][_0x4e78d5(0x14a)](_0x3b5d79);}},Bt=class{constructor(_0x583bd9){const _0x1427b2=a0_0x38390a;this[_0x1427b2(0x3fd)]=_0x583bd9;}async[a0_0x38390a(0x44d)](_0x2040f9,_0x42104c){const _0x232f4c=a0_0x38390a;return await this[_0x232f4c(0x3fd)][_0x232f4c(0x1fc)][_0x2040f9[_0x232f4c(0x344)]][_0x232f4c(0x44d)](_0x42104c);}async[a0_0x38390a(0x5dd)](_0x4d8e1,_0x2f4c3d){const _0x64195e=a0_0x38390a;return await this[_0x64195e(0x3fd)][_0x64195e(0x1fc)][_0x4d8e1[_0x64195e(0x344)]]['updateGroupPicture'](_0x2f4c3d);}async[a0_0x38390a(0x30b)](_0x2b0e74,_0x3e161c){const _0x207612=a0_0x38390a;return await this['waMonitor']['waInstances'][_0x2b0e74['instanceName']][_0x207612(0x30b)](_0x3e161c);}async[a0_0x38390a(0x14b)](_0x22afdb,_0x33ba3a){const _0x18c40e=a0_0x38390a;return await this[_0x18c40e(0x3fd)][_0x18c40e(0x1fc)][_0x22afdb[_0x18c40e(0x344)]]['groupName'](_0x33ba3a);}async[a0_0x38390a(0x1d7)](_0x438597,_0x2bc3c1){const _0x284139=a0_0x38390a;return await this[_0x284139(0x3fd)][_0x284139(0x1fc)][_0x438597[_0x284139(0x344)]]['groupSetting'](_0x2bc3c1);}async[a0_0x38390a(0x251)](_0x30f8a0,_0x3d25b9){const _0x4668dd=a0_0x38390a;return await this[_0x4668dd(0x3fd)]['waInstances'][_0x30f8a0['instanceName']][_0x4668dd(0x23d)](_0x3d25b9);}async['findGroups'](_0x190eb3){const _0x2a5b47=a0_0x38390a;return await this['waMonitor'][_0x2a5b47(0x1fc)][_0x190eb3['instanceName']]['findGroups']();}async[a0_0x38390a(0x4d5)](_0x40e360,_0x145102){const _0x1857a1=a0_0x38390a;return await this['waMonitor']['waInstances'][_0x40e360[_0x1857a1(0x344)]]['inviteCode'](_0x145102);}async[a0_0x38390a(0x494)](_0x3f7ddd,_0xd8ef1e){const _0x4bac8c=a0_0x38390a;return await this[_0x4bac8c(0x3fd)][_0x4bac8c(0x1fc)][_0x3f7ddd[_0x4bac8c(0x344)]]['joinGroup'](_0xd8ef1e);}async[a0_0x38390a(0x5c3)](_0xf2e001,_0x5a30dc){const _0x2858d2=a0_0x38390a;return await this[_0x2858d2(0x3fd)]['waInstances'][_0xf2e001[_0x2858d2(0x344)]][_0x2858d2(0x5c3)](_0x5a30dc);}async[a0_0x38390a(0x425)](_0x223ddc,_0x420a75){const _0x5a6b9c=a0_0x38390a;return await this[_0x5a6b9c(0x3fd)]['waInstances'][_0x223ddc['instanceName']][_0x5a6b9c(0x425)](_0x420a75);}async[a0_0x38390a(0x673)](_0x25af31,_0x443382){const _0x528726=a0_0x38390a;return await this[_0x528726(0x3fd)][_0x528726(0x1fc)][_0x25af31[_0x528726(0x344)]]['updateGParticipant'](_0x443382);}async['toggleEphemeral'](_0xc01e5,_0x3257a6){const _0x1de2f2=a0_0x38390a;return await this['waMonitor'][_0x1de2f2(0x1fc)][_0xc01e5['instanceName']]['toggleEphemeral'](_0x3257a6);}async['leaveGroup'](_0xa7bad6,_0x4af7d3){const _0x24d5d5=a0_0x38390a;return await this['waMonitor'][_0x24d5d5(0x1fc)][_0xa7bad6['instanceName']][_0x24d5d5(0x6ab)](_0x4af7d3);}},Ft=class{constructor(_0x4f07ad,_0x15d00e){const _0x4be0a5=a0_0x38390a;this[_0x4be0a5(0x63a)]=_0x4f07ad,this[_0x4be0a5(0x575)]=_0x15d00e;}async['qrcode'](_0x285fdf,_0x2a2179){const _0x2173c0=a0_0x38390a;try{let _0x23303b=_0x285fdf[_0x2173c0(0x3bb)];if(this[_0x2173c0(0x63a)]['waInstances'][_0x23303b[_0x2173c0(0x344)]][_0x2173c0(0x304)][_0x2173c0(0x2ab)]==='open')throw new m(_0x2173c0(0x567));let _0x526730=this[_0x2173c0(0x575)][_0x2173c0(0x1e3)](_0x2173c0(0x680))['TYPE'];return _0x2a2179[_0x2173c0(0x13c)](0xc8)['render'](_0x2173c0(0x5e5),{'type':_0x526730,..._0x23303b});}catch(_0x3c8561){console[_0x2173c0(0x508)](_0x2173c0(0x525),_0x3c8561);}}},Gt=class{constructor(_0x332b55){this['waMonitor']=_0x332b55;}['create'](_0x22de64,_0x302c87){const _0x5a6d45=a0_0x38390a;return this[_0x5a6d45(0x3fd)]['waInstances'][_0x22de64[_0x5a6d45(0x344)]][_0x5a6d45(0x442)](_0x302c87);}async[a0_0x38390a(0x37e)](_0xf25cda){const _0x160bb2=a0_0x38390a;try{return await this[_0x160bb2(0x3fd)][_0x160bb2(0x1fc)][_0xf25cda[_0x160bb2(0x344)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Zu=new v(a0_0x38390a(0x1d8)),qt=class{constructor(_0x1477fd){const _0x18f1ad=a0_0x38390a;this[_0x18f1ad(0x3fd)]=_0x1477fd;}async[a0_0x38390a(0x475)](_0x2b3a9c,_0x51825f){const _0x459724=a0_0x38390a;return await this['waMonitor'][_0x459724(0x1fc)][_0x2b3a9c[_0x459724(0x344)]][_0x459724(0x475)](_0x51825f);}async[a0_0x38390a(0x2a3)](_0xa49ea9){const _0x244b71=a0_0x38390a;return await this[_0x244b71(0x3fd)][_0x244b71(0x1fc)][_0xa49ea9['instanceName']][_0x244b71(0x2a3)]();}async[a0_0x38390a(0x34b)](_0xdb23a8){const _0x5d3d8e=a0_0x38390a;return await this[_0x5d3d8e(0x3fd)]['waInstances'][_0xdb23a8[_0x5d3d8e(0x344)]][_0x5d3d8e(0x34b)]();}async[a0_0x38390a(0x44e)](_0x81069e){const _0x1eb6f1=a0_0x38390a;return await this['waMonitor']['waInstances'][_0x81069e[_0x1eb6f1(0x344)]][_0x1eb6f1(0x44e)]();}async[a0_0x38390a(0x48b)](_0x2b450e,_0x1186af){const _0x2a9290=a0_0x38390a;return await this[_0x2a9290(0x3fd)][_0x2a9290(0x1fc)][_0x2b450e[_0x2a9290(0x344)]][_0x2a9290(0x48b)](_0x1186af);}async[a0_0x38390a(0x501)](_0x3ed6c8,_0x13f709){const _0xc69b37=a0_0x38390a;return await this['waMonitor'][_0xc69b37(0x1fc)][_0x3ed6c8['instanceName']]['updateCustomFields'](_0x13f709);}async[a0_0x38390a(0x648)](_0x6152e0,_0x282a21){const _0x51e4ed=a0_0x38390a;return await this[_0x51e4ed(0x3fd)][_0x51e4ed(0x1fc)][_0x6152e0[_0x51e4ed(0x344)]][_0x51e4ed(0x648)](_0x282a21);}async['startFlow'](_0x22a95c,_0x101089){const _0x96c52a=a0_0x38390a;return await this[_0x96c52a(0x3fd)][_0x96c52a(0x1fc)][_0x22a95c[_0x96c52a(0x344)]][_0x96c52a(0x669)](_0x101089);}async[a0_0x38390a(0x492)](_0x5bcc8f,_0x30edd7){const _0x5006af=a0_0x38390a;return await this[_0x5006af(0x3fd)][_0x5006af(0x1fc)][_0x5bcc8f[_0x5006af(0x344)]]['getConversation'](_0x30edd7);}async[a0_0x38390a(0x5a8)](_0x420b90,_0xd6a33){const _0xe3585e=a0_0x38390a;return await this[_0xe3585e(0x3fd)][_0xe3585e(0x1fc)][_0x420b90['instanceName']][_0xe3585e(0x5a8)](_0xd6a33);}async[a0_0x38390a(0x63c)](_0x5b3eaf,_0x2708cd){const _0x2ee9e1=a0_0x38390a;return await this['waMonitor'][_0x2ee9e1(0x1fc)][_0x5b3eaf[_0x2ee9e1(0x344)]][_0x2ee9e1(0x63c)](_0x2708cd);}async['deleteConversation'](_0x27aeaf,_0x4617ab){const _0x3b1784=a0_0x38390a;return await this['waMonitor'][_0x3b1784(0x1fc)][_0x27aeaf['instanceName']][_0x3b1784(0x395)](_0x4617ab);}async[a0_0x38390a(0x28d)](_0x1265d8,_0x25d9d6){const _0x2c853b=a0_0x38390a;return await this[_0x2c853b(0x3fd)][_0x2c853b(0x1fc)][_0x1265d8['instanceName']][_0x2c853b(0x28d)](_0x25d9d6['name']);}async[a0_0x38390a(0x48d)](_0x29f38f,_0x5e184c){const _0x25e763=a0_0x38390a;return await this[_0x25e763(0x3fd)][_0x25e763(0x1fc)][_0x29f38f['instanceName']][_0x25e763(0x48d)](_0x5e184c);}async[a0_0x38390a(0x2a9)](_0x3d4a03,_0x1954f3){const _0x26ec55=a0_0x38390a;return await this['waMonitor'][_0x26ec55(0x1fc)][_0x3d4a03['instanceName']][_0x26ec55(0x2a9)](_0x1954f3);}async['editFlowBlock'](_0x3280ce,_0x2c38da){const _0x25ecd8=a0_0x38390a;return await this['waMonitor'][_0x25ecd8(0x1fc)][_0x3280ce[_0x25ecd8(0x344)]][_0x25ecd8(0x19c)](_0x2c38da);}async[a0_0x38390a(0x493)](_0x85cf48,_0xb70d59){const _0x112f1a=a0_0x38390a;return await this[_0x112f1a(0x3fd)][_0x112f1a(0x1fc)][_0x85cf48[_0x112f1a(0x344)]][_0x112f1a(0x493)](_0xb70d59);}async[a0_0x38390a(0x3cf)](_0x499c77,_0x20bf2f){const _0x23bcfe=a0_0x38390a;return await this[_0x23bcfe(0x3fd)][_0x23bcfe(0x1fc)][_0x499c77[_0x23bcfe(0x344)]]['editFlowGroup'](_0x20bf2f);}async[a0_0x38390a(0x557)](_0x5bb0cd,_0x47dd97){const _0x4bd6bf=a0_0x38390a;return await this[_0x4bd6bf(0x3fd)][_0x4bd6bf(0x1fc)][_0x5bb0cd[_0x4bd6bf(0x344)]][_0x4bd6bf(0x557)](_0x47dd97);}async['editFlowVaredit'](_0x15203c,_0x2b31a5){const _0x467e72=a0_0x38390a;return await this['waMonitor'][_0x467e72(0x1fc)][_0x15203c[_0x467e72(0x344)]][_0x467e72(0x369)](_0x2b31a5);}async[a0_0x38390a(0x17d)](_0x3e1de3,_0x144148){const _0x8d3104=a0_0x38390a;return await this['waMonitor'][_0x8d3104(0x1fc)][_0x3e1de3[_0x8d3104(0x344)]]['editFlowVariable'](_0x144148);}async['deleteFlow'](_0x4f0cf9,_0x233f72){const _0x1cb9c2=a0_0x38390a;return await this[_0x1cb9c2(0x3fd)]['waInstances'][_0x4f0cf9[_0x1cb9c2(0x344)]]['deleteFlow'](_0x233f72[_0x1cb9c2(0x2c9)]);}async[a0_0x38390a(0x1bb)](_0x37e9d8){const _0x1508f4=a0_0x38390a;return await this[_0x1508f4(0x3fd)][_0x1508f4(0x1fc)][_0x37e9d8[_0x1508f4(0x344)]][_0x1508f4(0x1bb)]();}},Jt=class{constructor(_0x5386ed){const _0x202f43=a0_0x38390a;this[_0x202f43(0x42e)]=_0x5386ed;}async[a0_0x38390a(0x5af)](_0x61ae3a,_0x425f6c){const _0xd90617=a0_0x38390a;return this[_0xd90617(0x42e)][_0xd90617(0x2ff)](_0x61ae3a,_0x425f6c);}async[a0_0x38390a(0x64e)](_0x2711bc){const _0x29ee63=a0_0x38390a;return this[_0x29ee63(0x42e)][_0x29ee63(0x37e)](_0x2711bc);}},Wt=class{constructor(_0x37b7d0,_0x435f37,_0x5d23b5,_0x310de2,_0x67dda,_0x4e1286,_0x3500b1){const _0x138060=a0_0x38390a;this[_0x138060(0x32a)]=_0x37b7d0,this[_0x138060(0x234)]=_0x435f37,this['contact']=_0x5d23b5,this[_0x138060(0x2b4)]=_0x310de2,this[_0x138060(0x33c)]=_0x67dda,this[_0x138060(0x461)]=_0x4e1286,this[_0x138060(0x490)]=_0x3500b1;}get[a0_0x38390a(0x3b3)](){const _0x14d393=a0_0x38390a;return this[_0x14d393(0x490)];}},Ts=require(a0_0x38390a(0x67b)),Cs=class{},pi=new Ts[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x38390a(0x193),a0_0x38390a(0x463),a0_0x38390a(0x170)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ho=R?.[a0_0x38390a(0x26e)](Cs[a0_0x38390a(0x2c9)],pi,a0_0x38390a(0x3f2)),vs=class{},mi=new Ts[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),fo=R?.[a0_0x38390a(0x26e)](vs[a0_0x38390a(0x2c9)],mi,a0_0x38390a(0x2b4)),wo=require(a0_0x38390a(0x67b)),Rs=class{},gi=new wo[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),yo=R?.[a0_0x38390a(0x26e)](Rs[a0_0x38390a(0x2c9)],gi,a0_0x38390a(0x31a)),bo=require(a0_0x38390a(0x67b)),Ms=class{},So=new bo[(a0_0x38390a(0x498))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});So[a0_0x38390a(0x1cb)](a0_0x38390a(0x5e0),function(_0x58e6db){const _0x548657=a0_0x38390a;delete this[_0x548657(0x302)],delete this[_0x548657(0x183)],delete this[_0x548657(0x48f)],delete this[_0x548657(0x440)],delete this[_0x548657(0x4a1)],_0x58e6db();});var Eo=R?.[a0_0x38390a(0x26e)](Ms[a0_0x38390a(0x2c9)],So,a0_0x38390a(0x33c)),As=require(a0_0x38390a(0x37f)),No=require('fs'),Ht=class extends j{constructor(_0x5eb8f5,_0x23e3df){const _0x543a6b=a0_0x38390a;super(_0x23e3df),this[_0x543a6b(0x3aa)]=_0x5eb8f5,this['configService']=_0x23e3df;}async[a0_0x38390a(0x2ff)](_0x267501,_0xa64505){const _0x50ea02=a0_0x38390a;try{return this[_0x50ea02(0x32e)][_0x50ea02(0x659)]?{'insertCount':(await this[_0x50ea02(0x3aa)][_0x50ea02(0x578)]({'_id':_0xa64505},{..._0x267501},{'upsert':!0x0}))[_0x50ea02(0x4ff)]}:(this[_0x50ea02(0x209)]({'path':(0x0,As[_0x50ea02(0x518)])(this[_0x50ea02(0x497)],_0x50ea02(0x33c)),'fileName':_0xa64505,'data':_0x267501}),{'insertCount':0x1});}catch(_0x34f305){return _0x34f305;}}async[a0_0x38390a(0x37e)](_0x23116b){const _0x168c80=a0_0x38390a;try{return this['dbSettings'][_0x168c80(0x659)]?await this['webhookModel'][_0x168c80(0x548)]({'_id':_0x23116b}):JSON['parse']((0x0,No[_0x168c80(0x5ae)])((0x0,As[_0x168c80(0x518)])(this[_0x168c80(0x497)],_0x168c80(0x33c),_0x23116b+'.json'),{'encoding':_0x168c80(0x1b4)}));}catch{return{};}}},Is=require(a0_0x38390a(0x37f)),Co=require('fs'),Kt=class extends j{constructor(_0x4e7bde,_0x5665d9){const _0x5a6b98=a0_0x38390a;super(_0x5665d9),this[_0x5a6b98(0x642)]=_0x4e7bde,this['configService']=_0x5665d9,this[_0x5a6b98(0x461)]=_0x5665d9[_0x5a6b98(0x1e3)](_0x5a6b98(0x680));}async[a0_0x38390a(0x2ff)](_0x1eda7d,_0xc2f40d){const _0x5817b1=a0_0x38390a;try{return this[_0x5817b1(0x32e)][_0x5817b1(0x659)]?{'insertCount':(await this['authModel'][_0x5817b1(0x578)]({'_id':_0xc2f40d},{..._0x1eda7d},{'upsert':!0x0}))[_0x5817b1(0x4ff)]}:(this[_0x5817b1(0x209)]({'path':(0x0,Is[_0x5817b1(0x518)])(Qt,this[_0x5817b1(0x461)][_0x5817b1(0x677)]),'fileName':_0xc2f40d,'data':_0x1eda7d}),{'insertCount':0x1});}catch(_0x40bf70){return{'error':_0x40bf70};}}async[a0_0x38390a(0x37e)](_0x426ceb){const _0x309321=a0_0x38390a;try{return this[_0x309321(0x32e)][_0x309321(0x659)]?await this['authModel'][_0x309321(0x548)]({'_id':_0x426ceb}):JSON[_0x309321(0x455)]((0x0,Co[_0x309321(0x5ae)])((0x0,Is[_0x309321(0x518)])(Qt,this[_0x309321(0x461)][_0x309321(0x677)],_0x426ceb+_0x309321(0x527)),{'encoding':_0x309321(0x1b4)}));}catch{return{};}}},hi=new v(a0_0x38390a(0x42d)),fi=new je(ho,y),wi=new Lt(I,y),yi=new Ze(Fe,y),bi=new st(fo,y),Si=new Ht(Eo,y),Ei=new Kt(yo,y),ue=new Wt(fi,wi,yi,bi,Si,Ei,R?.[a0_0x38390a(0x1d3)]()),B=new kt(es,y,ue),Ni=new gt(y,B,ue),Ci=new Gt(B),fs=new Jt(Ci),M=new qt(B),ne=new Vt(B,y,ue,es,Ni),Qa=new Ft(B,y),W=new jt(B),O=new Ut(B),U=new Bt(B);hi[a0_0x38390a(0x24f)](a0_0x38390a(0x16f));var up=require(a0_0x38390a(0x4dd)),Ds=require('fs'),vo=T(require(a0_0x38390a(0x242))),To=T(require(a0_0x38390a(0x138))),$e=class l{static #e;static set[a0_0x38390a(0x5ef)](_0x56cdcc){this.#e=_0x56cdcc;}static get[a0_0x38390a(0x242)](){const _0x5b316d=a0_0x38390a;let {FULLCHAIN:_0x22d56f,PRIVKEY:_0x219b9e}=y[_0x5b316d(0x1e3)](_0x5b316d(0x658));return vo['createServer']({'cert':(0x0,Ds[_0x5b316d(0x5ae)])(_0x22d56f),'key':(0x0,Ds[_0x5b316d(0x5ae)])(_0x219b9e)},l.#e);}static get[a0_0x38390a(0x138)](){const _0x455603=a0_0x38390a;return To[_0x455603(0x5d9)](l.#e);}},ke=T(require('fs')),Oo=T(require(a0_0x38390a(0x23c))),Le=T(require('axios')),zt=T(require(a0_0x38390a(0x37f))),_o=require(a0_0x38390a(0x503)),$s=require('child_process');function vi(){const _0x2746e6=a0_0x38390a;B['loadInstance']();let _0x4f0c8d=zt['default'][_0x2746e6(0x518)](__dirname,'downloads');Po(_0x4f0c8d);}var Po=_0x5ce18f=>{const _0x36fdd0=a0_0x38390a;let _0x4a9d11=ke[_0x36fdd0(0x2d4)][_0x36fdd0(0x2cd)](_0x5ce18f),_0x2c6c58=0xc*0x3c*0x3c*0x3e8,_0x3d3040=0x2*0x3c*0x3c*0x3e8,_0x1eb97e=new Date()[_0x36fdd0(0x43f)]();_0x4a9d11[_0x36fdd0(0x5e6)](_0x365a5e=>{const _0x55db4d=_0x36fdd0;let _0x3a06a2=zt['default']['join'](_0x5ce18f,_0x365a5e),_0x553cf3=ke[_0x55db4d(0x2d4)]['statSync'](_0x3a06a2)[_0x55db4d(0x205)]['getTime']();_0x1eb97e-_0x553cf3>_0x2c6c58&&(ke['default'][_0x55db4d(0x3fa)](_0x3a06a2),console[_0x55db4d(0x508)]('Deleted\x20'+_0x365a5e));}),setTimeout(()=>Po(_0x5ce18f),_0x3d3040);};function Ti(){const _0x362549=a0_0x38390a;let _0x51f05a=new v(_0x362549(0x64d)),_0x2ec7a1=(0x0,me[_0x362549(0x2d4)])();_0x2ec7a1[_0x362549(0x3b4)]((0x0,Do[_0x362549(0x2d4)])({'origin'(_0xcb278f,_0x55755b){const _0x566ec3=_0x362549;let {ORIGIN:_0x1f14a6}=y[_0x566ec3(0x1e3)]('CORS');return _0xcb278f||(_0xcb278f='*'),_0x1f14a6['indexOf']('*')!==-0x1||_0x1f14a6[_0x566ec3(0x120)](_0xcb278f)!==-0x1?_0x55755b(null,!0x0):_0x55755b(new Error(_0x566ec3(0x1ca)));},'methods':[...y[_0x362549(0x1e3)](_0x362549(0x26f))[_0x362549(0x1c2)]],'credentials':y['get'](_0x362549(0x26f))[_0x362549(0x371)]}),(0x0,me[_0x362549(0x576)])({'extended':!0x0,'limit':'50mb'}),(0x0,me[_0x362549(0x670)])({'limit':_0x362549(0x504)})),_0x2ec7a1[_0x362549(0x3b4)]((_0x5c5199,_0x2916b3,_0x4d80a1)=>{const _0x2e8c1d=_0x362549;_0x5c5199[_0x2e8c1d(0x37f)]['startsWith'](_0x2e8c1d(0x308))?_0x4d80a1():(0x0,Io['default'])()(_0x5c5199,_0x2916b3,_0x4d80a1);}),_0x2ec7a1['set'](_0x362549(0x3d3),_0x362549(0x3b6)),_0x2ec7a1[_0x362549(0x422)]('views',(0x0,Os[_0x362549(0x518)])(z,_0x362549(0x3be))),_0x2ec7a1[_0x362549(0x3b4)](me[_0x362549(0x2d4)][_0x362549(0x665)]((0x0,Os[_0x362549(0x518)])(z,_0x362549(0x693)))),_0x2ec7a1[_0x362549(0x3b4)]((_0x15ffb3,_0x44f970,_0x4dd578)=>{const _0x25211e=_0x362549;let _0x966d86=_0x44f970[_0x25211e(0x3d2)];_0x44f970[_0x25211e(0x3d2)]=function(_0xc993d1){const _0xb33bbc=_0x25211e;if(_0x15ffb3['query']['convert']===_0xb33bbc(0x2c7)||_0x15ffb3['headers'][_0xb33bbc(0x53e)]===_0xb33bbc(0x2c7)){let _0x4b5ca0=JSON[_0xb33bbc(0x455)](_0xc993d1);_0xc993d1=JSON['stringify'](_0x25cd2a(_0x4b5ca0));}return _0x966d86[_0xb33bbc(0x476)](_0x44f970,[_0xc993d1]);},_0x4dd578();}),_0x2ec7a1[_0x362549(0x3b4)]('/',Pt),_0x2ec7a1['use']((_0xa82d71,_0x289f67,_0x281d3e,_0x418436)=>{const _0x5499ad=_0x362549;if(_0xa82d71)return _0x281d3e[_0x5499ad(0x13c)](_0xa82d71[_0x5499ad(0x13c)]||0x1f4)[_0x5499ad(0x670)](_0xa82d71);},(_0xa7fc72,_0x4b5339,_0x2aee49)=>{const _0x4b862f=_0x362549;let {method:_0x39f0d9,url:_0x208a86}=_0xa7fc72;_0x4b5339['status'](0x194)[_0x4b862f(0x670)]({'status':0x194,'message':'Cannot\x20'+_0x39f0d9[_0x4b862f(0x1fe)]()+'\x20'+_0x208a86,'error':'Not\x20Found'}),_0x2aee49();});let _0x25cd2a=(_0x580aa9,_0x505708='_p_')=>{const _0x2e843e=_0x362549;let _0x165cb9=(_0x386ea3,_0x3c299b=null,_0x39192f=!0x1)=>{const _0x24fdd5=a0_0x38ae;let _0x183196={};return Object[_0x24fdd5(0x29a)](_0x386ea3)[_0x24fdd5(0x5e6)](_0x715bd4=>{const _0x1097f7=_0x24fdd5;let _0x2a073d=_0x386ea3[_0x715bd4],_0x16c317=''+_0x505708+_0x715bd4;_0x3c299b&&!_0x39192f&&(_0x16c317=_0x3c299b+'.'+_0x715bd4),!_0x2a073d&&_0x2a073d!==0x0&&_0x2a073d!==!0x1||typeof _0x2a073d>'u'?_0x183196[_0x16c317]=null:typeof _0x2a073d!=_0x1097f7(0x58c)&&!Array[_0x1097f7(0x38d)](_0x2a073d)?_0x183196[_0x16c317]=_0x2a073d:typeof _0x2a073d==_0x1097f7(0x58c)&&!Array[_0x1097f7(0x38d)](_0x2a073d)?_0x183196=Object[_0x1097f7(0x500)](_0x183196,_0x165cb9(_0x2a073d,_0x16c317)):Array['isArray'](_0x2a073d)&&(typeof _0x2a073d[0x0]==_0x1097f7(0x58c)?(_0x183196[_0x16c317]=[],_0x2a073d[_0x1097f7(0x5e6)](_0x13f597=>{const _0x36a7c3=_0x1097f7;_0x183196[_0x16c317][_0x36a7c3(0x1d9)](_0x165cb9(_0x13f597,_0x16c317,!0x0));})):_0x183196[_0x16c317]=_0x2a073d);}),_0x183196;};return Array['isArray'](_0x580aa9)?_0x580aa9[_0x2e843e(0x1da)](_0x5f1ae1=>_0x165cb9(_0x5f1ae1)):typeof _0x580aa9=='object'&&_0x580aa9!==null?_0x165cb9(_0x580aa9):{};},_0x293151=y[_0x362549(0x1e3)](_0x362549(0x64d));$e['app']=_0x2ec7a1;let _0x437197=$e[_0x293151[_0x362549(0x677)]],_0x506bd9=_0x362549(0x233);_0x437197[_0x362549(0x15b)](_0x293151[_0x362549(0x318)],()=>{const _0x338c62=_0x362549;_0x51f05a[_0x338c62(0x508)](_0x506bd9),_0x51f05a['log'](_0x293151[_0x338c62(0x677)]['toUpperCase']()+_0x338c62(0x421)+_0x293151['PORT']);}),vi(),Ws();}function _s(_0x48396c,_0x3ab18b){return new Promise(_0x4d079b=>{const _0x384948=a0_0x38ae;(0x0,_o[_0x384948(0x51b)])(_0x48396c+'\x20'+_0x3ab18b,_0x5ba013=>{_0x4d079b(!_0x5ba013);});});}function Ro(_0x2bcfe7,_0x210c8f,_0x489ba3){return new Promise(_0x58d648=>{_s(_0x2bcfe7,_0x489ba3)['then'](_0x318be1=>{const _0x3af361=a0_0x38ae;if(_0x318be1)_0x58d648(!0x0);else{let [_0x522e4b,..._0x331bf3]=_0x210c8f[_0x3af361(0x142)]('\x20'),_0x2c8ea8=(0x0,$s[_0x3af361(0x122)])(_0x522e4b,_0x331bf3,{'shell':!0x0});_0x2c8ea8['stdout']['on']('data',_0x14ecf6=>{const _0xb694bc=_0x3af361;console[_0xb694bc(0x508)](_0x2bcfe7+_0xb694bc(0x5ed)+_0x14ecf6);}),_0x2c8ea8['stderr']['on']('data',_0x34de27=>{const _0x51ea71=_0x3af361;console[_0x51ea71(0x182)](_0x2bcfe7+_0x51ea71(0x34c)+_0x34de27);}),_0x2c8ea8['on'](_0x3af361(0x353),_0x5adeb4=>{const _0x45112f=_0x3af361;_0x5adeb4!==0x0?(console['error'](_0x45112f(0x1c0)+_0x2bcfe7+'.\x20Código\x20de\x20saída\x20'+_0x5adeb4),_0x58d648(!0x1)):_0x58d648(!0x0);});}});});}var Ri=a0_0x38390a(0x362),Mi=zt[a0_0x38390a(0x2d4)][a0_0x38390a(0x518)](__dirname,a0_0x38390a(0x568)),Ce=null;function Ai(){return new Promise((_0x24aa0e,_0x3b6a2c)=>{const _0x245ac7=a0_0x38ae;ke['default'][_0x245ac7(0x481)](Mi,_0x245ac7(0x1b4),(_0x8cd203,_0x590f9b)=>{const _0x38a26c=_0x245ac7;if(_0x8cd203){Ce=_0x8cd203,_0x24aa0e();return;}Oo[_0x38a26c(0x2d4)][_0x38a26c(0x455)](_0x590f9b)[_0x38a26c(0x437)][_0x38a26c(0x386)]===Ri?(Ce=null,_0x24aa0e()):(Ce=new Error(_0x38a26c(0x415)),_0x24aa0e());});});}async function Ii(){try{await Ai(),await xs();}catch(_0x21fbb7){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x21fbb7),process['exit'](0x1);}}Ii();async function xo(){const _0x5b4a0b=a0_0x38390a;let _0x74dd57;try{_0x74dd57=(await Le[_0x5b4a0b(0x2d4)]['get'](_0x5b4a0b(0x66d)))['data']['ip'];}catch(_0x14a7c7){console[_0x5b4a0b(0x182)](_0x14a7c7);try{_0x74dd57=(await Le[_0x5b4a0b(0x2d4)][_0x5b4a0b(0x1e3)](_0x5b4a0b(0x5d0)))[_0x5b4a0b(0x256)]['ip'];}catch(_0x17cd19){console[_0x5b4a0b(0x182)](_0x17cd19);try{_0x74dd57=(await Le[_0x5b4a0b(0x2d4)][_0x5b4a0b(0x1e3)](_0x5b4a0b(0x5b8)))[_0x5b4a0b(0x256)][_0x5b4a0b(0x4db)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5169ac){return console[_0x5b4a0b(0x182)](_0x5169ac),!0x1;}}}return _0x74dd57;}async function Di(){const _0x5197e2=a0_0x38390a;Ce||(await Ro(_0x5197e2(0x3e7),_0x5197e2(0x65b),_0x5197e2(0x365)),await Ro(_0x5197e2(0x2eb),_0x5197e2(0x4b0),_0x5197e2(0x1fd)));}var Mo=0x0;async function Pi(){const _0x5a6b0c=a0_0x38390a;Di();let _0x1cee55=await _s('redis-server',_0x5a6b0c(0x365)),_0x44d6cc=await _s(_0x5a6b0c(0x2eb),'-version'),_0x256194=y['get'](_0x5a6b0c(0x1c3)),_0x3f6dc7=y[_0x5a6b0c(0x1e3)]('AUTOUPDATE'),_0x2d9a0b=y[_0x5a6b0c(0x1e3)](_0x5a6b0c(0x680))[_0x5a6b0c(0x5cd)]['KEY'],_0x2bce40=y[_0x5a6b0c(0x1e3)](_0x5a6b0c(0x658)),_0x46af85=await xo(),_0x451b6a=y[_0x5a6b0c(0x1e3)](_0x5a6b0c(0x64d))[_0x5a6b0c(0x318)],_0x4d55bd=y['get']('PHONE');try{let _0x5c7e35={'ip':_0x46af85||null,'redis_instalado':_0x1cee55||null,'ffmpeg_instalado':_0x44d6cc||null,'redis_enable':_0x256194?.[_0x5a6b0c(0x659)]||null,'autoupdate':_0x3f6dc7||null,'apikey':_0x2d9a0b||null,'ssl':_0x2bce40?.[_0x5a6b0c(0x400)]||null,'lastupdate':$o||null,'port':_0x451b6a||null,'phone':_0x4d55bd||null,'gitInstallError':Ce?.[_0x5a6b0c(0x32a)]||null};console[_0x5a6b0c(0x508)](_0x5a6b0c(0xf7),_0x5c7e35['ip']);for(let _0x177a04 in _0x5c7e35)_0x5c7e35[_0x5a6b0c(0x452)](_0x177a04)&&_0x177a04!=='ip'&&(_0x5c7e35[_0x177a04]=JSON[_0x5a6b0c(0x5a0)](_0x5c7e35[_0x177a04]));return(await Le[_0x5a6b0c(0x2d4)][_0x5a6b0c(0x47b)](_0x5a6b0c(0x44a),_0x5c7e35))[_0x5a6b0c(0x256)];}catch(_0x1e6ae9){return console[_0x5a6b0c(0x182)](_0x1e6ae9),!0x1;}finally{}}var Ps=!0x1,$o=0x206,Oi=0x3,Ao=0x1b7740;async function xs(){const _0x3f889d=a0_0x38390a;if(!await xo())return console[_0x3f889d(0x182)](_0x3f889d(0x459)),_0x3f889d(0x230);let _0x36b6e9=await Pi();if(_0x36b6e9){if(_0x36b6e9[_0x3f889d(0x60b)][_0x3f889d(0x4fc)]===!0x0){let _0x1d6792=y[_0x3f889d(0x1e3)](_0x3f889d(0x26d));Ce===null&&_0x1d6792!==_0x3f889d(0x2a4)&&_0x36b6e9[_0x3f889d(0x60b)][_0x3f889d(0x4b8)]-$o>0x0&&await _i(),Ps||(Ps=!0x0,Ti());}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ps&&(console[_0x3f889d(0x508)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x3f889d(0x353)]()),_0x3f889d(0x221);let _0x4f2a19=0x24*0x3c*0x3c,_0x33f37a=_0x36b6e9[_0x3f889d(0x60b)][_0x3f889d(0x614)]>_0x4f2a19?_0x4f2a19:_0x36b6e9[_0x3f889d(0x60b)][_0x3f889d(0x614)],_0x1b80ef=Number(_0x33f37a);if(isNaN(_0x1b80ef)){console[_0x3f889d(0x182)](_0x3f889d(0x325));return;}let _0xeb62c1=Math[_0x3f889d(0x399)](_0x1b80ef/0xe10),_0x153a93=Math[_0x3f889d(0x399)](_0x1b80ef%0xe10/0x3c),_0x44d7f7=new Date(Date[_0x3f889d(0x29d)]()+_0x1b80ef*0x3e8);setTimeout(xs,_0x1b80ef*0x3e8);let _0x11bfff=_0x560bad=>_0x560bad[_0x3f889d(0x2aa)]()[_0x3f889d(0x11c)](0x2,'0'),_0x5380f1=_0x3f889d(0x3d1)+_0x11bfff(_0xeb62c1)+_0x3f889d(0x3b8)+_0x11bfff(_0x153a93)+_0x3f889d(0x4cd)+_0x11bfff(_0x44d7f7[_0x3f889d(0x1d2)]())+':'+_0x11bfff(_0x44d7f7[_0x3f889d(0x229)]());console[_0x3f889d(0x508)](_0x5380f1);}else{if(Mo++,Mo<Oi)console[_0x3f889d(0x508)](_0x3f889d(0x370)+Ao/0xea60+'\x20minutos...'),setTimeout(xs,Ao);else return console['error']('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),'SERVER_OFFLINE';}}async function _i(){const _0x10c007=a0_0x38390a;console['log'](_0x10c007(0x111));let _0x4fec0e=(0x0,$s['spawn'])(_0x10c007(0x50c),{'shell':!0x0});_0x4fec0e[_0x10c007(0x2c0)]['on']('data',_0x5f310f=>{console['log']('Atualização:\x20'+_0x5f310f);}),_0x4fec0e[_0x10c007(0x1ba)]['on']('data',_0x1c99df=>{const _0x4c5abe=_0x10c007;console[_0x4c5abe(0x182)](_0x4c5abe(0x261)+_0x1c99df);}),_0x4fec0e['on'](_0x10c007(0x353),_0xa57f2c=>{const _0x5b8da3=_0x10c007;_0xa57f2c!==0x0?console['error'](_0x5b8da3(0x2c3)+_0xa57f2c):console[_0x5b8da3(0x508)](_0x5b8da3(0x236)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x5b8da3(0x353)](),0x2710);});}function a0_0x2001(){const _0xeb1047=['):\x20Criada\x20conversa\x20nova\x20(gotoflow)','request\x20received\x20in\x20createFlow','authModel','rmSync','remove.instance','sendPresenceUpdate','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','CONFIG_SESSION_PHONE_CLIENT','updateFlowConfig','QRCODE','sendDataWebhook','):\x20Edit\x20schedule\x20message...','refused','SERVER','findWebhook','Group\x20not\x20found','):\x20updateResult:','findMessages','STATUS_INSTANCE','WEBHOOK_EVENTS_MESSAGES_UPDATE','reconnectTimestamps','Log\x20out\x20instance:\x20','replaceValue','evaluateConditionTest','SSL_CONF','ENABLED','MESSAGES_UPSERT','sudo\x20apt\x20install\x20-y\x20redis-server','):\x20não\x20encontrou','participants','messageId','}}\x20->\x20valor\x20não\x20encontrado','logout','profilePicture','fileName','loadEnv',',\x20Comparador:\x20','static','chats.upsert','^\x5cd+([-]\x5cd+)*@g.us$','extractRegex','startFlow','):\x20Procurando\x20conversa','reactionMessage','eventHandler','https://jsonip.com','senderKeyDistributionMessage','normalizeMessage','json','flattenObject','generateWAMessageFromContent','updateGParticipate','agents','):\x20Deletando\x20conversa...','):\x20Limpando\x20delayMessage','TYPE','allflows','\x20saindo\x20da\x20função',',\x20saindo.','mongoose','DELIVERY_ACK','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','online','getMIMEType','AUTHENTICATION','):\x20isVote','\x1b[31m','GUARD','Error\x20change\x20group\x20description','CONNECTION','Type\x20not\x20found','editflowvaredit','):\x20Criando\x20fluxo...','unreadCount','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','/refreshToken','ignoreGroups','WEBHOOK_EVENTS_CONTACTS_SET','groupInviteCode','SSL_CONF_PRIVKEY','/*.json','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','public','):\x20Campos\x20a\x20serem\x20atualizados:','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','fetchAndUpdateProfileDetails','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','replaceVariablesInReplyOptions','saveConversationToDatabase','uazapiSendPoll','READ','trimmed','URI','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','AutomateSystem\x20não\x20foi\x20inicializado','groups','findGroupInfos','pollUpdateMessage','authState','messagesSend','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','limit','):\x20leadInfoVariables','leaveGroup','STORE_CLEANING_TERMINAL','endsWith','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','ip:\x20','processingScheduleMessageId','enabled','\x1b[41m','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','outputOptions','Cache-Control','console','hGet','Message\x20not\x20found','groupId','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','\x1b[46m','text/event-stream','arraybuffer','\x20instance\x20does\x20not\x20exist','sendMessage','existsSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','leadInfo.desativadoFluxoAte','delayMessage','940bMmLtd','instances','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','Erro\x20ao\x20obter\x20o\x20nome\x20do\x20contato:\x20','audioFrequency','Parando\x20aplicação,\x20atualização\x20recebida','updateProfilePicture','-instances','font','Original\x20filename:','currency','sem\x20texto\x20na\x20mensagem','update','shift','Message','reaction','padStart','apikey','action','remoteJidsRemaining','indexOf','DOCKER_ENV','spawn','*Pergunta*:\x20\x0a','create\x20-\x20success','):\x20Enviando\x20enquete','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:',',\x20resultado:\x20','repository','next_groupId','verify','groupadd','joinGroupValidate','Content-Type','webhookMap','end','pollOnReplyDelete','Button\x20texts\x20cannot\x20be\x20repeated','statusJidList','put','Flow\x20already\x20exists','announce','Invalid\x20\x22oldToken\x22','http','creation','mentions','stack','status','no.connection','CONTACTS_SET','status.instance','):\x20Flow\x20não\x20encontrado','ogg','split','text','):\x20conversation.lastInteraction:\x20','/exit','Media\x20folder\x20path:','Db\x20Connection','Error\x20deleting\x20instance\x20from\x20memory.','user','statusMessage','groupName',',\x20Resultado:\x20','fromMe','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','routerPath','scheduleSendMedia','findByIdAndDelete','stanzaId','subjectOwner','moreLogs','replaceVariablesInObject','sendReaction','updateMessage','Erro\x20ao\x20editar\x20a\x20conversa:\x20','deleteBlock','WEBHOOK_EVENTS_SEND_MESSAGE','listen','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','router','atendimentoAberto','expression','reorderBlocks','created','chatModify','Error\x20creating\x20group','Erro\x20ao\x20atualizar\x20os\x20detalhes\x20do\x20perfil:','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Fluxo\x20não\x20encontrado','updateReplyOption','chatModel','groupValidate','urlOrBase64','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','removed','readreceipts','data:\x20','Module\x20-\x20ON','ios','remoteJids','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','writeFile','notify','createJid','sendMessageWithTyping','waitingPoll_id','bearer','Erro\x20ao\x20obter\x20a\x20imagem\x20do\x20perfil:\x20','Missing\x20global\x20api\x20key','width','editFlowVariable','request\x20received\x20in\x20getAutomateSystem','request\x20received\x20in\x20updateFlowConfig','lastMessage','TRIAL_AD','error','flowIgnoreGroups','toArray','writeFileSync','updateStatusPrivacy','groups.update','type','Subscribed\x20Events:','DEBUG','imageMessage','40PhDwwU','contact_blacklist','messageHandle','readData','logger','SERVER_ACK','maxActives','android','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','_id','groupMetadata','collection','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x1b[33m%s\x1b[0m','syscall','editFlowBlock','WARN','stopIfLastReturnedError','instanceInfo','express','archiveChat','listMessage','.\x20Pulando.','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','getTicketSystem','optionName','caption','nextBlock:','src','fetchProfilePictureUrl','fetchChats','string','):\x20Editando\x20bloco...','__esModule','substring','\x20mensagens\x20de\x20','function','createConversationforgoToFlow','privacySettings','utf-8','whatsappNumber','match_last_seen','generate','minutesToClose','EVENTS','stderr','allFlows','JWT','sticker','deleteReplyOption','from','Erro\x20ao\x20instalar\x20','https://','METHODS','REDIS','NextBlock','count','Invalid\x20format','updateChat','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','mimetype','Not\x20allowed\x20by\x20CORS','pre','announcement','CONTACTS_UPSERT','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','KEY','Method\x20not\x20implemented.','DATABASE_CONNECTION_HOST','getHours','getClient','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','conversation','getProfileName','groupSetting','FlowController','push','map','.josn','chatLog','splice','eventEmitter','groups.upsert','textMessage','namespace','editChat','get','fetchProfile','\x1b[33m\x1b[1m','request\x20received\x20in\x20fetchConversation','quoted','MESSAGES_SET','replaceVariablesChat','slice','owner','updateChatWithMessage','Valor\x20de\x20find\x20ou\x20replace\x20ausente','all','@redis/client','isJidGroup','CHATS_DELETE','processPollUpdateMessage','errno','last','checkAndUpdateChats','when','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','website','\x0a{\x20instance:\x20','):\x20newFirstValue\x20após\x20replaceVariables:','enumerable','waInstances','-version','toUpperCase','/chat','updateConversation','open','WEBHOOK_EVENTS_STATUS_INSTANCE','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','readMessage','birthtime','Close\x20connection','contains','role','writeStore','dataValidate','DATABASE_CONNECTION_URI','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Fetching\x20business\x20profile','start','trim','pollMessage','):\x20Buscando\x20conversas...','CHATS_UPSERT','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','scheduleNextCheck','groupLeave','URL','@whiskeysockets/baileys','delay','audioChannels','):\x20Criando\x20nova\x20conversa','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','fetchStatusMessage','/create','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','isInteger','LICENSE_INVALID','4471441YzwWex','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','NODE_ENV','183888GcMAPb','CLIENT','stopped','decryptPollVote','getMinutes','prototype','\x1b[36m%s\x1b[0m','messages.upsert','test','):\x20Conversa\x20inserida\x20com\x20sucesso.','loadWebhook','NO_IP','insertMany','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','chat','getContents','Sistema\x20atualizado\x20com\x20sucesso!','Falha\x20ao\x20deletar\x20mensagens\x20updates:','abs','instanceKeys','):\x20Enviando\x20localização','Error\x20change\x20group\x20setting','ini','findGroup','):\x20Ignoring\x20group\x20messages.','lowerCase','verbose','findGroups','https','allContacts','fileLength','jpegThumbnail','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','hSet','findContacts','REDIS_PREFIX_KEY','description','uuid','cleanStore','AUTHENTICATION_JWT_EXPIRIN_IN','apiName','info','sha256','findGroupInfo','command','leadInfo.','addReplyOption','Instance\x20restarted','data','envYaml','execSync','fluent-ffmpeg','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','\x20\x1b[0m','localWebhook','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','displayName','flowConversation','waitingPoll_replyOptions','Erro\x20de\x20atualização:\x20','ids','):\x20Procurando\x20mensagens\x20para\x20envio','includes',',\x20fará\x20nova\x20verificação\x20em\x20','Error\x20update\x20group\x20picture','variablesToObject','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Instance\x20Key\x20from\x20DB:','notEmpty','contactMessage','PHONE','AUTOUPDATE','model','CORS','sendMedia',',\x20valor\x20passado:\x20\x22','blocks','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','fetchBusinessProfile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','no-cache','none','processvaredits','updateProfileStatus','max','groupSettingUpdate','/wa-groups','getMessage','getRandomText','Erro\x20ao\x20encerrar\x20a\x20API','qrcode.updated','warn','-acodec','/wa-presence','originalUrl','lastmsg','DATABASE','):\x20Enviando\x20mídia','out','):\x20nextBlock.uazapi.name','):\x20Limpando\x20AutomateSystem','getFlow','8IyxZpv','Mensagem\x20não\x20suportada','removeProfilePicture','noConnection','\x1b[40m','restartInstance','convertedOptions','isFile','locationMessage','Flow\x20não\x20encontrado','axios','WEBHOOK_GLOBAL_URL','keys','StartBot','jsonwebtoken','now','verifiedName','readMessageBot','groupRevokeInvite','Error\x20fetching\x20group','CLEANING_INTERVAL','getScheduleMessage','false','footerText','QRCODE_UPDATED','addBlock','\x20minutos\x20verificará\x20novas\x20mensagens','editFlow','toString','state','lastSendMessage','longitude','getContentType','WEBHOOK_EVENTS_CONNECTION_UPDATE','initAuthCreds','):\x20customFieldVariables','getVariablesChat','lastReceivedMessage','messageUpdate','uazapiSendLocation','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','documentWithCaptionMessage','insert','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','editflowgroup','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Conversa\x20atualizada\x20em\x20memória','events','isDirectory','stdout','height','contacts','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','END:VCARD','recording','ON\x20-\x20dbName:\x20','true','SendScheduleMessage','name','TEXT','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','paused','readdirSync','profilePictureUrl','DisconnectReason','):\x20Enviando\x20áudio','DATABASE_CONNECTION_DB_PREFIX_NAME','deleteMessage','updateOne','default','group','instance','equal','truncatedtoEnd','):\x20Entrou\x20na\x20função\x20saveReply','WEBHOOK_EVENTS_GROUPS_UPSERT','Contacts\x20not\x20found','whatsappNumbers','applyvaredit','waitingPoll_name','/media','4ujXExn','@g.us','BRL','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','groupToggleEphemeral','connectionClosed','\x22reaction\x22\x20must\x20be\x20an\x20emoji','processUazapi','GROUP_PARTICIPANTS_UPDATE','messageSecret','newValue','ffmpeg',',\x20Segundo\x20Valor:\x20','/wa-chats','fromObject','messageContextInfo','prefixCommand','process','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','isURL','store','lastInteraction','):\x20Buscando\x20todos\x20os\x20fluxos...','updateParticipant','uncaughtException','delaySecMin','/instance','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','Full\x20file\x20path:','):\x20Modified\x20Query:','base64','create','reviver','redis','flowActive','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','connectionStatus','.jwt','unhandledRejection','\x20não\x20encontrado\x20para\x20atualização.','/events','scheduleSendAudio','Creating\x20media\x20folder...','groupDesc','groupJid','context','noVideo','The\x20global\x20api\x20key\x20must\x20be\x20set','\x1b[36m','438069KgUDbe','AutomateSystem','long','query','Instance\x20\x22','WEBHOOK_EVENTS_CHATS_DELETE','profile','PORT','ObjectId','authentication','):\x20Erro\x20ao\x20buscar\x20conversas\x20','GROUPS_UPSERT','):\x20alterando\x20this.AutomateSystem','apirequest','instanceName\x20not\x20provided.','jwt','deleteOne','sendCommand','STORE_CONTACTS','saveMediaToFile','interval\x20não\x20é\x20um\x20número','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','audioCodec','creds.json','integer','message','\x20chats\x20de\x20','parseInt','request\x20received\x20in\x20editConversation','dbSettings','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','archived','qrCode','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','poll','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','#000000','AUTHENTICATION_JWT_SECRET','presence','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','\x1b[34m%s\x1b[0m','locked','updateGParticipant','webhook','Connection','Error\x20change\x20group\x20name','notEqual','upperCase','.TEL;waid=','@s.whatsapp.net','PLAYED','instanceName','Not\x20Found','cpf','getBase64FromMediaMessage','):\x20Editando\x20variável\x20do\x20fluxo...','expiration','exists','deleteDoneMessages','\x20install\x20error:\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','.refreshToken','title','):\x20Editando\x20replyOption...','condition','delInstanceTime','exit','status@broadcast','message-up','/wa-connection-update','Deletion\x20failed','delAll','\x20contacts','stickerMessage','viewOnceMessage','contacts.update','call','audio','uazapiSendContact','PRESENCE_UPDATE','jid','https://github.com/uazapi/uazapi.git','):\x20newSecondValue\x20após\x20replaceVariables:','number','--version','):\x20Deletados\x20','createflow','stopMinutes','editFlowVaredit','findFlow','Instância\x20não\x20encontrada.','):\x20lastBlockId:\x20','linkPreview','^\x5cd+','BufferJSON','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','CREDENTIALS','presence.update','getBusinessProfile','processConditions','Error\x20converting\x20audio:\x20','options','convertaudio','key','request\x20received\x20in\x20deleteDoneMessages','pollMessageOnDelete','run','contact','Button\x20IDs\x20cannot\x20be\x20repeated.','find','path','restart','firstValue','audioBitrate','WEBHOOK_EVENTS_CHATS_UPSERT','):\x20Comando\x20desconhecido:\x20','redisCache','url','lean','):\x20teve\x20mudanças\x20chat.displayName:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','request\x20received\x20in\x20allFlows','_activatedCount','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','isArray','throwAndLogError','deleteFlow','):\x20Entrou\x20na\x20função\x20goToFlow','DEL_INSTANCE','Erro:','Error\x20while\x20deleting\x20message\x20for\x20everyone','EMAIL:','deleteConversation','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','backgroundColor','Business\x20profile\x20fetched','floor','repeat','isRunning','isBusiness','add','Bad\x20Request','REDIS_URI','^\x5cd+[\x5c.@\x5cw-]+','scheduleMessages','):\x20Erro\x20durante\x20a\x20atualização:\x20','Unauthorized','):\x20delete\x20=\x20true','ORG:','poll_id','flowname:\x20','!cmd_','40xfHwNL','webhookModel','replace','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','videoMessage','updateGroupsAddPrivacy','CONNECTION_UPDATE','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','_doc','\x1b[42m','dbServer','use','isLong','hbs','statusCode','\x20horas\x20e\x20','sendAudio','Background\x20color\x20is\x20required','params','value','chats','views','WEBHOOK','CONFIG_SESSION_PHONE_NAME','variables','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','deleteflow','306RNqhBl','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','deleteInstance','LIMIT','updateLastSeenPrivacy','size','audioWhatsapp','getflow','del','Início','empty','editFlowGroup','hex','Próxima\x20verificação\x20em\x20','send','view\x20engine','HOST','latitude','Conexão\x20estabelecida','audioMessage','notMatchRegex','delete','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','sort','resetReconnectionVariables','\x1b[37m','datetime','/events/:instance','uazapiDeleteMessage','dark','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','\x1b[47m','DD/MM\x20HH:mm:ss','capitalizedWords','greater','redis-server','goNextblock','valid','stopConversation','):\x20Falha\x20ao\x20deletar\x20mensagem.','createConversationforStartFlow','headerString','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','16000','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','messages','apiResponse','/instance/fetchInstances','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','GLOBAL','node-mime-types','connectionUpdate','unlinkSync','.X-ABLabel:Celular\x0a','sendText','waMonitor','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','STORE_MESSAGE','PRIVKEY','authService','loadInstance','CHATS_SET','video','\x5c$&','redirect','replyOption','js-yaml','mediaSticker','sendList','\x20}\x0a','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','contactModel','):\x20Buscando\x20flow...','Variáveis\x20não\x20encontradas:','toBrazilianNumberFormat','phoneNumber','order','MAX_RECONNECT_ATTEMPTS','request\x20received\x20in\x20editFlow','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','demote','contactname','.mp3','media','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','CONECTADO\x20À\x20UAZAPI','stateConnection','editflowreply','remoteJid','Font\x20is\x20required','sendPoll','\x20-\x20ON:\x20','set','buttonsMessage','msgRetryCounterCache','findParticipants','env','contactHandle','):\x20Iniciando\x20bot...','The\x20\x22','\x22\x20not\x20found','\x5cd+','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','WA\x20MODULE','webhookService','blockLogs','mentioned','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','boolean','send.message','charAt','unavailable','MESSAGES_UPDATE','remote\x20\x22origin\x22','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','258413sXGHcU','defineAuthState','truncatedto','):\x20Error\x20processing\x20conditions:\x20','newStoppedUntil','getTime','flowStopConversation','?authSource=admin&readPreference=primary&directConnection=true','setWebhook','input','removeInstance','sendWhatsAppAudio','\x20messages.','libvorbis','pollCreationMessageV2','desativadoFluxoAte','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','\x20is\x20already\x20in\x20use.','createGroup','getAutomateSystem','bodyString','):\x20transformedCustomFieldVariables','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','hasOwnProperty','saveVariable','method','parse','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Erro\x20ao\x20criar\x20fluxo\x20','findByIdAndUpdate','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','toBRL','https://uazapi-plugin.bubbleapps.io/','findAndReplace','createInstance','leadInfo','QRCODE_LIMIT','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','auth','video-cover.png','web','onTime','errorLog','Error\x20writing\x20file:','varedits','pt-BR','option','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','connectionState','Router','picture','downloads','wuid','oldValue','request\x20received\x20in\x20editFlowcondition','messageModel','varedit','$set','editScheduleMessage','apply','output','tags','uazapiSendAudio','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','post','*\x0a\x0a','load','PASSWORD','not\x20loaded','Authentication\x20error','readFile','EXPIRIN_IN','):\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','errors','sending','SERVER_PORT','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','saveAPI','updateAgent','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','createFlow','viewOnceMessageV2','flowPrefixCommand','dbClient','createNewConversation','getConversation','editFlowReply','joinGroup','getDevice','prepareMediaMessage','storePath','Schema','updateProfileName','toggleEphemeral','and','customFields','body','Erro\x20inesperado\x20em\x20processvaredits:\x20','write','block','flowStopMinutes','Falta\x20informação\x20para\x20a\x20chamada\x20API','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','not_announcement','organization','731808NNuksM','LOG_LEVEL','getOwnPropertyDescriptor','getStatus','document','toLocaleString','WEBHOOK_EVENTS_MESSAGES_UPSERT','\x22\x20-\x20REMOVED','mongodb://','Erro\x20ao\x20buscar\x20conversa:\x20','sudo\x20apt\x20install\x20-y\x20ffmpeg','Logger','bulkWrite','sendButtons','fullName','sendSticker','editflowvariable','isBuffer','last_update','STORE_CHATS','filter','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','):\x20Buscando\x20conversa...','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Readable','composing','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','isJidUser','scheduleMessage','mkdirSync','isConnected','variablesNotFound','archive','changeVariables','newName','notContains','mediatype','ReplyOption\x20com\x20ID\x20','scheduleSendText','\x20minutos.\x20Será\x20às\x20','conversationTimestamp','mediaMessage','DATABASE_CONNECTION_USER','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','app-state-sync-key','onWhatsApp','inner','inviteCode','https://chat.whatsapp.com/','ERROR','prepareWAMessageMedia','/clients-info','finish','match','CORS_METHODS','express-async-errors','validate','replaceVariables','LEVEL','header','\x1b[33m','Operador:\x20\x22','dayjs','nomecompleto','lastBlockId','redisEnv','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','groupUpdateDescription','COLOR','PRODUCTION','address','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','fetchInstances','realVariables','\x0aitem','content','getPrototypeOf','/wa-message','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','nome','pollCreationMessageV3','addresss','conditions','Error\x20updating\x20participants','Erro\x20ao\x20atualizar\x20conversa:\x20','Error\x20updating\x20profile\x20name','licenca','ephemeralMessage','TRIAL_INSTANCE_NAME','modifiedCount','assign','updateCustomFields','Error\x20updating\x20profile\x20status','child_process','50mb','buttonMessage','fetchProfilePicture','setHeader','log','getOwnPropertyNames','startsWith','pushName','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','VERBOSE','\x20messages.update.','SEND_MESSAGE','client','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20tem\x20blocks','dbInstance','sendContact','proto','contentText','\x1b[37m%s\x1b[0m','join','):\x20this.processingScheduleMessageId:\x20','PROD','exec','makeCacheableSignalKeyStore','The\x20','processblock','code','\x1b[34m','):\x20Query\x20params:','chats.update','length','request\x20received\x20in\x20scheduleMessage','ERROR:\x20','setting','.json','CORS_ORIGIN','WEBHOOK_EVENTS_MESSAGES_SET','closed','Erro\x20ao\x20editar\x20agentes:\x20','getAllData','rm\x20-rf\x20','contactsArrayMessage','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','PREFIX_KEY','matchRegex','\x20minutos','class-validator','Falha\x20ao\x20deletar\x20mensagens:','stop','):\x20expirationTime:\x20','INFO','fone','findConversation','599158GUgdMe','processgoToFlow','refreshToken','collections','uazapi','\x1b[1m','readMessages','):\x20Flow\x20desativado','-ar','\x20não\x20encontrado',',\x20Expiration\x20Time:\x20','groupHandler','available','@broadcast','findOne','DELETED','isBooleanString','scheduled','loggedOut','Comando\x20desconhecido','sections','deleteMany','lastCondition','/group','The\x20property\x20cannot\x20be\x20empty','reference','$dbName','remove','WEBHOOK_MAP','editFlowCondition','values','fetchContacts','findStatusMessage','padEnd','ButtonsMessage','PENDING','performBulkUpdate','connectToWhatsapp','removeData','groupParticipantsUpdate','request\x20received\x20in\x20editFlowvariable','Error\x20updating\x20message\x20status:','toLowerCase','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','bateu\x20events','The\x20instance\x20is\x20already\x20connected','./.git/config','chats.delete','updatePrivacySettings','downloadMediaMessage','sendStatus','Not\x20is\x20business\x20profile','instance.','messageUpModel','buttons','vote','format','CHATS_UPDATE','SUCCESS','configService','urlencoded','markMessageAsRead','replaceOne','updateProfilePicturePrivacy','):\x20Conversa\x20está\x20expirada','toNumber','replacer','OrAnd','DARK','subjectTime','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','pollCreationMessageKey','Forbidden','uazapiSendText','\x20segundos','Instance\x20ID:','buffer','formatStatusMessage','isBase64','stream-buffers','participant','Erro\x20ao\x20editar\x20o\x20bloco:\x20','object','writeData','compression','findOneAndUpdate','SECRET','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Profile\x20not\x20found','editflowcondition','):\x20Editando\x20condição\x20do\x20fluxo...','connection.update','/wa-contacts','secondValue','documentMessage','subject','../env.yml','evaluateCondition','Error\x20processing\x20read\x20messages:','arrayUnique','leadInfo.customFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','stringify','findById','saveTextReply','isJWT','fetchPrivacySettings','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','eventemitter2','cleaningUp','fetchConversation','API\x20Key\x20from\x20Request:','presenceSubscribe','release','findIndex','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','readFileSync','createWebhook','flowConfig','image','Imagem\x20não\x20encontrada','HH:mm:ss','success','mediaKey','):\x20Entrou\x20na\x20função\x20stop','has','http://checkip.dyndns.org','editOperator','hGetAll','12BGsbvn','unreadcount',',\x20Minutes\x20to\x20Close:\x20','!stop','sign','findAndReplaceRegex','Bloco\x20com\x20ID\x20','/wa-message-update','revokeInviteCode','chatHandle','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','sendLocation','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','less','sleep','Types','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','waUploadToServer','API_KEY','createClient','local_map','https://api.ipify.org?format=json','notas','):\x20Enviando\x20contato','updateMany','creds','REDIS_ENABLED','Erro\x20ao\x20iniciar\x20fluxo:\x20','selectableCount','Conversa\x20deletada\x20com\x20sucesso.','createServer','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','\x1b[0m','\x1b[44m','updateGroupPicture','):\x20Não\x20achou\x20nenhum\x20flow','):\x20Enviando\x20texto','save','?timestamp=','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','opendirSync','\x0aFN:','qrcode','forEach','done','Desconectado,\x20parando\x20execução.','contacts.upsert','key.','entries','connecting','\x20install\x20output:\x20','pollCreationMessage','app','createConnection','catch','CORS_CREDENTIALS','-whatsapp-api','node-cache','Instance\x20deleted','/instance/create','random','request\x20body:\x20','reconnectAttempts','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','/automate','\x1b[1m\x1b[37m','editedMessage','messages.update','responsavelid','oldToken','Erro\x20ao\x20aplicar\x20varedit:\x20','some','blockId','keep-alive','updateBlock','where','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','contextInfo','endSession','replyOptions','response','request\x20received\x20in\x20updateCustomFields','WEBHOOK_EVENTS_CONTACTS_UPDATE','Initial\x20__dirname:','jsonschema','rowId','tokenId','optionDescription','Data\x20inválida\x20fornecida','segundos','metadata','protocolMessage','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','upsertChats','replaceVariablesLogs','g-t','):\x20Criou\x20conversa\x20no\x20startFlow:','array','group-participants.update','generateHash','quotedMessage','fetchMessages','updateMediaMessage','connect','RECONNECT_TIME_FRAME','GROUPS_UPDATE','close','buttonText','CONTACTS_UPDATE','cwd','variable','Error\x20removing\x20profile\x20picture','numbers','stopMinutesMaxActives','messaging-history.set','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','chrome','LOG','pino','imagechat','messageTimestamp','NAME','\x1b[32m','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','activatedCount','\x20inseridos\x20no\x20banco\x20de\x20dados...','email','waMonit','buttonId','editConversation','DB_PREFIX_NAME','request\x20received\x20in\x20getFlow','Trying\x20to\x20get\x20business\x20profile'];a0_0x2001=function(){return _0xeb1047;};return a0_0x2001();}