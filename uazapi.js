const a0_0x5c0bdf=a0_0x34cb;(function(_0xdb8ca,_0x28337b){const _0x11aed5=a0_0x34cb,_0x9c519=_0xdb8ca();while(!![]){try{const _0x4f4d0b=parseInt(_0x11aed5(0x3e7))/0x1*(-parseInt(_0x11aed5(0x4c0))/0x2)+parseInt(_0x11aed5(0x26d))/0x3+parseInt(_0x11aed5(0x5de))/0x4*(parseInt(_0x11aed5(0x3fe))/0x5)+-parseInt(_0x11aed5(0x603))/0x6*(parseInt(_0x11aed5(0x4d7))/0x7)+-parseInt(_0x11aed5(0x877))/0x8*(parseInt(_0x11aed5(0x36b))/0x9)+-parseInt(_0x11aed5(0x24f))/0xa*(parseInt(_0x11aed5(0x2c8))/0xb)+parseInt(_0x11aed5(0x2b0))/0xc*(parseInt(_0x11aed5(0x28f))/0xd);if(_0x4f4d0b===_0x28337b)break;else _0x9c519['push'](_0x9c519['shift']());}catch(_0x22d2b4){_0x9c519['push'](_0x9c519['shift']());}}}(a0_0x2a90,0x227d1));var Wi=Object['create'],Ve=Object[a0_0x5c0bdf(0x739)],zi=Object[a0_0x5c0bdf(0x6e0)],Hi=Object['getOwnPropertyNames'],Ki=Object[a0_0x5c0bdf(0x201)],Qi=Object[a0_0x5c0bdf(0x3c0)][a0_0x5c0bdf(0x3b5)],Yi=(_0x8b5f42,_0x362925)=>{for(var _0x46046b in _0x362925)Ve(_0x8b5f42,_0x46046b,{'get':_0x362925[_0x46046b],'enumerable':!0x0});},Bs=(_0x118643,_0x379128,_0x3ba5eb,_0x18395c)=>{const _0xabc9df=a0_0x5c0bdf;if(_0x379128&&typeof _0x379128==_0xabc9df(0x1ef)||typeof _0x379128==_0xabc9df(0x1f7)){for(let _0x19bd60 of Hi(_0x379128))!Qi[_0xabc9df(0x6d5)](_0x118643,_0x19bd60)&&_0x19bd60!==_0x3ba5eb&&Ve(_0x118643,_0x19bd60,{'get':()=>_0x379128[_0x19bd60],'enumerable':!(_0x18395c=zi(_0x379128,_0x19bd60))||_0x18395c[_0xabc9df(0x842)]});}return _0x118643;},I=(_0x17673e,_0x5b3164,_0x29935e)=>(_0x29935e=_0x17673e!=null?Wi(Ki(_0x17673e)):{},Bs(_0x5b3164||!_0x17673e||!_0x17673e['__esModule']?Ve(_0x29935e,a0_0x5c0bdf(0x32c),{'value':_0x17673e,'enumerable':!0x0}):_0x29935e,_0x17673e)),Xi=_0x481d10=>Bs(Ve({},a0_0x5c0bdf(0x795),{'value':!0x0}),_0x481d10),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>he}),module[a0_0x5c0bdf(0x80f)]=Xi(gr);var Ui=I(require('compression')),zs=require('fs'),Hs=require(a0_0x5c0bdf(0x1f1)),Ks=require(a0_0x5c0bdf(0x245)),Ge=require(a0_0x5c0bdf(0x245)),ne=process[a0_0x5c0bdf(0x422)](),be=(0x0,Ge[a0_0x5c0bdf(0x938)])(ne,a0_0x5c0bdf(0x754)),Ws=(0x0,Ge[a0_0x5c0bdf(0x938)])(ne,'src'),fn=(0x0,Ge['join'])(ne,a0_0x5c0bdf(0x547),a0_0x5c0bdf(0x893)),us=class{constructor(){this['loadEnv']();}[a0_0x5c0bdf(0x1fe)](_0x44d055){return this['env'][_0x44d055];}[a0_0x5c0bdf(0x2ce)](){const _0x8f8d46=a0_0x5c0bdf;this[_0x8f8d46(0x575)]=process[_0x8f8d46(0x575)]?.['DOCKER_ENV']!==_0x8f8d46(0x3ee)?this[_0x8f8d46(0x5c8)]():this[_0x8f8d46(0x8b9)](),process[_0x8f8d46(0x575)]?.[_0x8f8d46(0x56d)]===_0x8f8d46(0x3ee)&&(this[_0x8f8d46(0x575)][_0x8f8d46(0x1df)][_0x8f8d46(0x8fa)]=_0x8f8d46(0x7e5),this[_0x8f8d46(0x575)][_0x8f8d46(0x1df)][_0x8f8d46(0x352)]=Number[_0x8f8d46(0x266)](process[_0x8f8d46(0x575)]?.[_0x8f8d46(0x4f6)]??'8080'));}[a0_0x5c0bdf(0x5c8)](){const _0x19fd29=a0_0x5c0bdf;return(0x0,Hs[_0x19fd29(0x93b)])((0x0,zs[_0x19fd29(0x3db)])((0x0,Ks[_0x19fd29(0x938)])(Ws,'../env.yml'),{'encoding':_0x19fd29(0x86b)}));}[a0_0x5c0bdf(0x8b9)](){const _0x246a76=a0_0x5c0bdf;return{'SERVER':{'TYPE':process[_0x246a76(0x575)][_0x246a76(0x74f)],'PORT':Number[_0x246a76(0x266)](process[_0x246a76(0x575)][_0x246a76(0x4f6)]),'URL':process[_0x246a76(0x575)][_0x246a76(0x36e)]},'CORS':{'ORIGIN':process['env'][_0x246a76(0x8d4)][_0x246a76(0x2a9)](','),'METHODS':process[_0x246a76(0x575)]['CORS_METHODS']['split'](','),'CREDENTIALS':process[_0x246a76(0x575)]?.[_0x246a76(0x295)]===_0x246a76(0x3ee)},'SSL_CONF':{'PRIVKEY':process[_0x246a76(0x575)]?.[_0x246a76(0x4f8)],'FULLCHAIN':process['env']?.[_0x246a76(0x88d)]},'STORE':{'CLEANING_INTERVAL':Number[_0x246a76(0x2f1)](process['env']?.[_0x246a76(0x5d4)])?Number[_0x246a76(0x266)](process[_0x246a76(0x575)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x246a76(0x575)]?.[_0x246a76(0x653)]==='true','CONTACTS':process['env']?.[_0x246a76(0x3a0)]===_0x246a76(0x3ee),'CHATS':process[_0x246a76(0x575)]?.[_0x246a76(0x591)]===_0x246a76(0x3ee)},'DATABASE':{'CONNECTION':{'HOST':process[_0x246a76(0x575)]?.[_0x246a76(0x660)],'PORT':Number[_0x246a76(0x266)](process[_0x246a76(0x575)]?.[_0x246a76(0x660)]),'USER':process[_0x246a76(0x575)][_0x246a76(0x7d2)],'PASSWORD':process['env'][_0x246a76(0x921)],'URI':process['env'][_0x246a76(0x489)],'DB_PREFIX_NAME':process[_0x246a76(0x575)][_0x246a76(0x5aa)]},'ENABLED':process['env']?.[_0x246a76(0x8dd)]===_0x246a76(0x3ee)},'REDIS':{'ENABLED':process[_0x246a76(0x575)]?.[_0x246a76(0x612)]===_0x246a76(0x3ee),'URI':process['env'][_0x246a76(0x393)]||_0x246a76(0x5d8),'PREFIX_KEY':process[_0x246a76(0x575)][_0x246a76(0x1ec)]||'uazapi'},'LOG':{'LEVEL':process[_0x246a76(0x575)]?.['LOG_LEVEL']['split'](','),'COLOR':process['env']?.[_0x246a76(0x2b6)]===_0x246a76(0x3ee)},'PROXY':process[_0x246a76(0x575)]?.[_0x246a76(0x8bb)]===_0x246a76(0x3ee),'AUTHENTICATION':{'TYPE':process[_0x246a76(0x575)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x246a76(0x6ca)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x246a76(0x575)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number['parseInt'](process[_0x246a76(0x575)][_0x246a76(0x581)]):0xe10,'SECRET':process[_0x246a76(0x575)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),ji=I(require(a0_0x5c0bdf(0x853))),we=I(require(a0_0x5c0bdf(0x6e8))),Vs=require('path'),ds=I(require('dayjs')),ps=(_0x59ac49=>(_0x59ac49['LOG']=a0_0x5c0bdf(0x515),_0x59ac49[a0_0x5c0bdf(0x363)]='\x1b[34m',_0x59ac49['WARN']=a0_0x5c0bdf(0x6d2),_0x59ac49[a0_0x5c0bdf(0x807)]=a0_0x5c0bdf(0x4ce),_0x59ac49[a0_0x5c0bdf(0x68f)]=a0_0x5c0bdf(0x335),_0x59ac49['VERBOSE']='\x1b[37m',_0x59ac49['DARK']=a0_0x5c0bdf(0x5e7),_0x59ac49))(ps||{}),Qs=(_0x580efc=>(_0x580efc['LOG']=a0_0x5c0bdf(0x941),_0x580efc['DARK']=a0_0x5c0bdf(0x687),_0x580efc['INFO']=a0_0x5c0bdf(0x6d7),_0x580efc['WARN']='\x1b[33m%s\x1b[0m',_0x580efc['ERROR']='\x1b[31m%s\x1b[0m',_0x580efc[a0_0x5c0bdf(0x68f)]=a0_0x5c0bdf(0x304),_0x580efc[a0_0x5c0bdf(0x4d4)]=a0_0x5c0bdf(0x23c),_0x580efc))(Qs||{}),Ys=(_0x307d52=>(_0x307d52['LOG']=a0_0x5c0bdf(0x8bf),_0x307d52[a0_0x5c0bdf(0x5c1)]=a0_0x5c0bdf(0x5c1),_0x307d52[a0_0x5c0bdf(0x363)]='INFO',_0x307d52[a0_0x5c0bdf(0x4da)]=a0_0x5c0bdf(0x4da),_0x307d52[a0_0x5c0bdf(0x807)]=a0_0x5c0bdf(0x807),_0x307d52[a0_0x5c0bdf(0x68f)]=a0_0x5c0bdf(0x68f),_0x307d52[a0_0x5c0bdf(0x4d4)]='VERBOSE',_0x307d52))(Ys||{}),Xs=(_0x2d9194=>(_0x2d9194['LOG']=a0_0x5c0bdf(0x62c),_0x2d9194[a0_0x5c0bdf(0x363)]=a0_0x5c0bdf(0x4c2),_0x2d9194[a0_0x5c0bdf(0x5c1)]=a0_0x5c0bdf(0x82f),_0x2d9194[a0_0x5c0bdf(0x4da)]=a0_0x5c0bdf(0x2ba),_0x2d9194[a0_0x5c0bdf(0x807)]=a0_0x5c0bdf(0x1ae),_0x2d9194[a0_0x5c0bdf(0x68f)]='\x1b[46m',_0x2d9194['VERBOSE']=a0_0x5c0bdf(0x2e1),_0x2d9194))(Xs||{}),$=class{constructor(_0x7fbb9e=a0_0x5c0bdf(0x620)){const _0x52c5bf=a0_0x5c0bdf;this['context']=_0x7fbb9e,this[_0x52c5bf(0x247)]=S;}['setContext'](_0x3d2977){const _0x119996=a0_0x5c0bdf;this[_0x119996(0x4fc)]=_0x3d2977;}[a0_0x5c0bdf(0x2d3)](_0x2accd1,_0x1735ed){const _0xc90caa=a0_0x5c0bdf;let _0xe2c7c=[];this[_0xc90caa(0x247)][_0xc90caa(0x1fe)]('LOG')[_0xc90caa(0x36d)][_0xc90caa(0x91c)](_0x110104=>_0xe2c7c['push'](Ys[_0x110104]));let _0x5bf7b1=typeof _0x2accd1;_0xe2c7c[_0xc90caa(0x4ee)](_0x1735ed)&&(S[_0xc90caa(0x1fe)](_0xc90caa(0x8bf))[_0xc90caa(0x1d6)]?(console[_0xc90caa(0x84c)](_0xc90caa(0x869)+Qs[_0x1735ed],_0xc90caa(0x59f),(0x0,ds['default'])()[_0xc90caa(0x39b)](_0xc90caa(0x663)),_0xc90caa(0x5e4),ps[_0x1735ed]+Xs[_0x1735ed]+_0xc90caa(0x869),_0x1735ed+_0xc90caa(0x8e0),_0xc90caa(0x8e5),this['context']+_0xc90caa(0x5e4),ps[_0x1735ed],_0x5bf7b1!==_0xc90caa(0x1ef)?_0x2accd1:'',_0xc90caa(0x5e4)),_0x5bf7b1===_0xc90caa(0x1ef)&&console[_0xc90caa(0x84c)](_0x2accd1,'\x0a')):console[_0xc90caa(0x84c)]((0x0,ds[_0xc90caa(0x32c)])()[_0xc90caa(0x39b)](_0xc90caa(0x7ea)),_0x1735ed+'\x20',''+this[_0xc90caa(0x4fc)],_0x2accd1));}['log'](_0x5df1f7){const _0xb66584=a0_0x5c0bdf;this[_0xb66584(0x2d3)](_0x5df1f7,_0xb66584(0x8bf));}[a0_0x5c0bdf(0x40b)](_0x340414){const _0x37bf62=a0_0x5c0bdf;this['console'](_0x340414,_0x37bf62(0x363));}['warn'](_0x2a0f94){const _0x5a7c03=a0_0x5c0bdf;this[_0x5a7c03(0x2d3)](_0x2a0f94,_0x5a7c03(0x5c1));}[a0_0x5c0bdf(0x812)](_0x653fd6){const _0x404011=a0_0x5c0bdf;this[_0x404011(0x2d3)](_0x653fd6,_0x404011(0x807));}['verbose'](_0x45c7f5){const _0x5bb1cf=a0_0x5c0bdf;this[_0x5bb1cf(0x2d3)](_0x45c7f5,_0x5bb1cf(0x4d4));}['debug'](_0x38c2ad){const _0x583c63=a0_0x5c0bdf;this[_0x583c63(0x2d3)](_0x38c2ad,_0x583c63(0x68f));}[a0_0x5c0bdf(0x844)](_0x50ba8f){this['console'](_0x50ba8f,'DARK');}};function Zs(){const _0x25c2d7=a0_0x5c0bdf;process['on'](_0x25c2d7(0x28a),(_0x21e510,_0x684d99)=>{const _0x130cbb=_0x25c2d7;new $(_0x130cbb(0x28a))[_0x130cbb(0x812)]({'origin':_0x684d99,'stderr':process[_0x130cbb(0x313)]['fd'],'error':_0x21e510});}),process['on'](_0x25c2d7(0x63f),(_0x1d0646,_0x12fe6f)=>{const _0x1ca5f3=_0x25c2d7;new $(_0x1ca5f3(0x63f))[_0x1ca5f3(0x812)]({'origin':_0x12fe6f,'stderr':process[_0x1ca5f3(0x313)]['fd'],'error':_0x1d0646});});}var ea=I(require(a0_0x5c0bdf(0x19c))),hs=new ea[(a0_0x5c0bdf(0x32c))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x5c0bdf(0x38d)),Ae=I(require(a0_0x5c0bdf(0x38d))),Be=new $(a0_0x5c0bdf(0x6ad)),L=S[a0_0x5c0bdf(0x1fe)]('DATABASE'),T=L[a0_0x5c0bdf(0x2ed)]?L[a0_0x5c0bdf(0x537)][a0_0x5c0bdf(0x7db)]?Ae['default'][a0_0x5c0bdf(0x928)](L['CONNECTION'][a0_0x5c0bdf(0x7db)],{'dbName':L[a0_0x5c0bdf(0x537)][a0_0x5c0bdf(0x7bf)]+a0_0x5c0bdf(0x382)}):Ae[a0_0x5c0bdf(0x32c)][a0_0x5c0bdf(0x928)](a0_0x5c0bdf(0x31c)+L['CONNECTION'][a0_0x5c0bdf(0x6d1)]+':'+L[a0_0x5c0bdf(0x537)][a0_0x5c0bdf(0x352)]+a0_0x5c0bdf(0x42e),{'user':L[a0_0x5c0bdf(0x537)][a0_0x5c0bdf(0x86c)],'pass':L['CONNECTION'][a0_0x5c0bdf(0x404)],'dbName':L[a0_0x5c0bdf(0x537)][a0_0x5c0bdf(0x7bf)]+a0_0x5c0bdf(0x382)}):null;L[a0_0x5c0bdf(0x2ed)]&&Be[a0_0x5c0bdf(0x40b)](a0_0x5c0bdf(0x502)+T[a0_0x5c0bdf(0x68d)]);var Y=L[a0_0x5c0bdf(0x2ed)]?L[a0_0x5c0bdf(0x537)][a0_0x5c0bdf(0x7db)]?Ae[a0_0x5c0bdf(0x32c)][a0_0x5c0bdf(0x928)](L[a0_0x5c0bdf(0x537)]['URI'],{'dbName':a0_0x5c0bdf(0x2d7)}):Ae['default'][a0_0x5c0bdf(0x928)]('mongodb://'+L[a0_0x5c0bdf(0x537)]['HOST']+':'+L['CONNECTION'][a0_0x5c0bdf(0x352)]+a0_0x5c0bdf(0x42e),{'user':L[a0_0x5c0bdf(0x537)][a0_0x5c0bdf(0x86c)],'pass':L['CONNECTION'][a0_0x5c0bdf(0x404)],'dbName':'cachedContacts-whatsapp'}):null;Y&&Be[a0_0x5c0bdf(0x40b)]('ON\x20-\x20dbName:\x20'+Y[a0_0x5c0bdf(0x68d)]),process['on'](a0_0x5c0bdf(0x1f8),()=>{const _0x30618c=a0_0x5c0bdf;T&&T[_0x30618c(0x3ec)](()=>{const _0x1a63ec=_0x30618c;Be[_0x1a63ec(0x40b)](_0x1a63ec(0x40d));}),Y&&Y['close'](()=>{const _0x5203ee=_0x30618c;Be[_0x5203ee(0x40b)](_0x5203ee(0x52e));});});var Zi=new Se[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Se[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Se[(a0_0x5c0bdf(0x7cf))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Se[(a0_0x5c0bdf(0x7cf))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Se[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x52ad2e=>{const _0x4ecb7e=a0_0x5c0bdf;let _0x190c85='z_'+_0x52ad2e+_0x4ecb7e(0x1e9);return T?.[_0x4ecb7e(0x7f0)](_0x4ecb7e(0x5ec),ao,_0x190c85);},sa=require(a0_0x5c0bdf(0x38d)),io=new sa[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x529488=>{const _0x211b12=a0_0x5c0bdf;let _0x19b5a3='z_'+_0x529488+'_Contacts';return T?.[_0x211b12(0x7f0)]('ContactModel',io,_0x19b5a3);},ia=require('mongoose'),gs=class{},oo=new ia[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.[a0_0x5c0bdf(0x7f0)](gs[a0_0x5c0bdf(0x35d)],oo,a0_0x5c0bdf(0x44b)),ra=require(a0_0x5c0bdf(0x38d)),ms=class{},ro=new ra[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.[a0_0x5c0bdf(0x7f0)](ms[a0_0x5c0bdf(0x35d)],ro,a0_0x5c0bdf(0x754)),ws=require(a0_0x5c0bdf(0x38d)),fs=class{},no=new ws['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.[a0_0x5c0bdf(0x7f0)](fs['name'],co,a0_0x5c0bdf(0x4bc)),ca=_0x39c6d7=>{const _0x391d9c=a0_0x5c0bdf;let _0x128a24='z_'+_0x39c6d7+_0x391d9c(0x284);return T?.[_0x391d9c(0x7f0)](_0x391d9c(0x451),no,_0x128a24);},la=require(a0_0x5c0bdf(0x38d)),ys=class{},lo=new la['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x5c0bdf(0x7f0)](ys['name'],lo,a0_0x5c0bdf(0x41a)),da=require(a0_0x5c0bdf(0x38d)),bs=class{},pa=new da[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa['pre'](a0_0x5c0bdf(0x3ce),function(_0x9c3cba){const _0x455b4c=a0_0x5c0bdf;delete this['flowActive'],delete this[_0x455b4c(0x8d3)],delete this[_0x455b4c(0x21f)],delete this[_0x455b4c(0x52a)],delete this[_0x455b4c(0x21b)],_0x9c3cba();});var ha=T?.['model'](bs[a0_0x5c0bdf(0x35d)],pa,a0_0x5c0bdf(0x24d)),P=require(a0_0x5c0bdf(0x38d)),Ss=require(a0_0x5c0bdf(0x5c7)),ze=class{},Ms=class{},ma=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x5c0bdf(0x7cf))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0x5c0bdf(0x7cf))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x5c0bdf(0x832)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x5c0bdf(0x2ff)},'pollErrorMessage':{'type':String,'default':a0_0x5c0bdf(0x1c1)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x5c0bdf(0x7cf))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P[(a0_0x5c0bdf(0x7cf))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P[(a0_0x5c0bdf(0x7cf))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x5c0bdf(0x7cf))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x5c0bdf(0x7cf))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x5c0bdf(0x7cf))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x46893a=a0_0x5c0bdf;return _0x46893a(0x1c8)+Math['random']()[_0x46893a(0x281)](0x24)[_0x46893a(0x2dc)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x5c0bdf(0x253)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba['pre'](a0_0x5c0bdf(0x301),function(_0x104086){const _0x25e52e=a0_0x5c0bdf;let _0x53773b=this[_0x25e52e(0x568)]();if(_0x53773b&&typeof _0x53773b=='object'&&'$set'in _0x53773b){let _0x5be828=_0x53773b['$set'];if(_0x5be828){let _0x4d46c7=new Set(),_0x25b944=new Set(_0x5be828['variables']?.['map'](_0x235f08=>_0x235f08[_0x25e52e(0x35d)])),_0x13594a=JSON[_0x25e52e(0x86d)](_0x5be828),_0x5515a3=/{{(?!_)([^}]*)}}/g,_0x18001f;for(;(_0x18001f=_0x5515a3[_0x25e52e(0x58f)](_0x13594a))!==null;)_0x25b944[_0x25e52e(0x400)](_0x18001f[0x1])||_0x4d46c7[_0x25e52e(0x92c)](_0x18001f[0x1]);_0x4d46c7['size']>0x0?(console['warn'](_0x25e52e(0x29c),Array['from'](_0x4d46c7)),_0x5be828[_0x25e52e(0x4eb)]=Array[_0x25e52e(0x4ea)](_0x4d46c7)):_0x5be828[_0x25e52e(0x4eb)]=[],this[_0x25e52e(0x8d8)]({'$set':_0x5be828});}}_0x104086();});var Me=T?.[a0_0x5c0bdf(0x7f0)](Ms[a0_0x5c0bdf(0x35d)],ba,a0_0x5c0bdf(0x4dc)),mo=new P[(a0_0x5c0bdf(0x7cf))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x5c0bdf(0x2ad)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x5c0bdf(0x2ff)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x6a517d=>{const _0x56a72c=a0_0x5c0bdf;let _0x54a72c='z_'+_0x6a517d+_0x56a72c(0x390);return T?.[_0x56a72c(0x7f0)](_0x56a72c(0x314),fo,_0x54a72c);},wo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x5c0bdf(0x495)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x240b8a=>{const _0x4dbda9=a0_0x5c0bdf;let _0x217b6b='z_'+_0x240b8a+'_ScheduleMessages';return T?.[_0x4dbda9(0x7f0)](_0x4dbda9(0x565),yo,_0x217b6b);},vs=class{},bo=new P['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P[(a0_0x5c0bdf(0x7cf))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Te=T?.[a0_0x5c0bdf(0x7f0)](vs['name'],Eo,a0_0x5c0bdf(0x587)),Ca=require('mongoose'),No=new Ca[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x11a046=>{const _0x3f683c=a0_0x5c0bdf;let _0xc0eaf7='z_'+_0x11a046+_0x3f683c(0x62b);return T?.[_0x3f683c(0x7f0)](_0x3f683c(0x340),No,_0xc0eaf7);},O=class{constructor(_0x385520){const _0x154033=a0_0x5c0bdf;this[_0x154033(0x5fa)]=_0x385520[_0x154033(0x1fe)](_0x154033(0x37f));}};function A(_0x228786){const _0x461cbd=a0_0x5c0bdf;let _0x87f056={};for(let [_0x4d1647,_0x5bcb3b]of Object[_0x461cbd(0x6ef)](_0x228786))if(typeof _0x5bcb3b==_0x461cbd(0x1ef)&&!Array[_0x461cbd(0x576)](_0x5bcb3b)){for(let [_0x2e7fd3,_0x345944]of Object['entries'](_0x5bcb3b))_0x87f056[_0x4d1647+'.'+_0x2e7fd3]=_0x345944;}else _0x87f056[_0x4d1647]=_0x5bcb3b;return _0x87f056;}var He=class{constructor(_0x11cddc,_0x4bdb71,_0x234681,_0x6934,_0x2fa9e4,_0x36b21c,_0x3d4d88,_0x1e4921,_0x225c09,_0x3a9e6f,_0x334b79,_0xf73dc1,_0x2fd005,_0x51770f){const _0x1c9603=a0_0x5c0bdf;this[_0x1c9603(0x7d9)]=_0x11cddc,this[_0x1c9603(0x75d)]=_0x4bdb71,this['contact']=_0x234681,this['cacheContact']=_0x6934,this[_0x1c9603(0x1b7)]=_0x2fa9e4,this[_0x1c9603(0x24d)]=_0x36b21c,this[_0x1c9603(0x893)]=_0x3d4d88,this[_0x1c9603(0x7fc)]=_0x1e4921,this['flow']=_0x225c09,this['flowConversation']=_0x3a9e6f,this['label']=_0x334b79,this[_0x1c9603(0x3e1)]=_0xf73dc1,this[_0x1c9603(0x92a)]=_0x2fd005,this['dbClient']=_0x51770f;}get[a0_0x5c0bdf(0x383)](){const _0x1ac1d7=a0_0x5c0bdf;return this[_0x1ac1d7(0x1a4)];}},Ke=class{},Qe=class extends O{[a0_0x5c0bdf(0x3c8)](_0x469e6b){return ca(_0x469e6b);}async[a0_0x5c0bdf(0x805)](_0x51bab0,_0x397f79){const _0x4d8a48=a0_0x5c0bdf;if(_0x51bab0[_0x4d8a48(0x235)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4d8a48(0x3c8)](_0x397f79)[_0x4d8a48(0x488)]([..._0x51bab0]))[_0x4d8a48(0x235)]};}catch(_0x4887a7){return _0x4887a7;}}async[a0_0x5c0bdf(0x50f)](_0x4b7aba,_0x48265d){const _0x1b7f2d=a0_0x5c0bdf;try{let _0x3ca34b=this['getMessageModelForOwner'](_0x48265d),_0x318872=A(_0x4b7aba[_0x1b7f2d(0x8e1)]);return await _0x3ca34b[_0x1b7f2d(0x50f)](_0x318872)[_0x1b7f2d(0x474)]({'messageTimestamp':-0x1})[_0x1b7f2d(0x716)](_0x4b7aba?.[_0x1b7f2d(0x716)]??0x0)[_0x1b7f2d(0x7ce)]();}catch{return[];}}async[a0_0x5c0bdf(0x221)](_0x6afb87,_0x40f3ed){const _0x18bcfc=a0_0x5c0bdf;try{let _0x46cc2a=this[_0x18bcfc(0x3c8)](_0x40f3ed),_0x35dbae=A(_0x6afb87[_0x18bcfc(0x8e1)]);await _0x46cc2a[_0x18bcfc(0x4f2)](_0x35dbae);}catch(_0x44d563){console[_0x18bcfc(0x812)](_0x44d563);}}async[a0_0x5c0bdf(0x1d0)](_0x561b3f,_0x3241d1,_0x56df3a){const _0x5665c5=a0_0x5c0bdf;try{let _0x31f73d=this['getMessageModelForOwner'](_0x56df3a),_0x3f471a=A(_0x561b3f['where']);return await _0x31f73d[_0x5665c5(0x301)](_0x3f471a,{'$set':_0x3241d1},{'new':!0x0});}catch(_0x2ede34){throw console[_0x5665c5(0x812)](_0x2ede34),_0x2ede34;}}async[a0_0x5c0bdf(0x488)](_0x104882,_0x3bea04){const _0x1fe9c9=a0_0x5c0bdf;if(_0x104882[_0x1fe9c9(0x235)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1fe9c9(0x3c8)](_0x3bea04)['insertMany']([..._0x104882]))['length']};}catch(_0x29dec1){return console[_0x1fe9c9(0x84c)](_0x1fe9c9(0x458),_0x29dec1),_0x29dec1;}}async['deleteAll'](_0x35cafe){const _0x2e8499=a0_0x5c0bdf;try{return await this[_0x2e8499(0x3c8)](_0x35cafe)['collection'][_0x2e8499(0x31d)](),{'success':!0x0};}catch(_0x4cc588){return console[_0x2e8499(0x812)](_0x4cc588),{'success':!0x1,'error':_0x4cc588};}}},Ds=I(require(a0_0x5c0bdf(0x849))),w=I(require(a0_0x5c0bdf(0x7ca))),Fe=require('fs'),j=I(require('path')),K=I(require('axios')),Ti=require(a0_0x5c0bdf(0x5c7)),Ii=I(require(a0_0x5c0bdf(0x6d4))),_i=I(require(a0_0x5c0bdf(0x911))),Ea=['imageMessage',a0_0x5c0bdf(0x7e3),a0_0x5c0bdf(0x227),a0_0x5c0bdf(0x854),a0_0x5c0bdf(0x85e)],Na=[a0_0x5c0bdf(0x4d3),a0_0x5c0bdf(0x3c9),'viewOnceMessage',a0_0x5c0bdf(0x8d6)],ks=require('os'),Ft=I(require(a0_0x5c0bdf(0x6c2))),Ue=require(a0_0x5c0bdf(0x40a)),Oi=require(a0_0x5c0bdf(0x434)),pe=I(require(a0_0x5c0bdf(0x38d))),J=require(a0_0x5c0bdf(0x75f)),ce=class{constructor(_0x20f2ec,_0x3664b6,_0x255fa5){const _0x3efc7a=a0_0x5c0bdf;this['jid']=_0x20f2ec,this[_0x3efc7a(0x856)]=_0x3664b6,this['name']=_0x255fa5;}},Ye=class{},Xe=class{},Ie=class{},Ze=class{},et=class{},Ce=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require(a0_0x5c0bdf(0x6e8))),$a=require('fs'),Ra=require('path');async function _e(_0x817930){const _0x211946=a0_0x5c0bdf;let _0x147a5a=G[_0x211946(0x602)][_0x817930];if(L[_0x211946(0x2ed)]){let _0x43f39b=T[_0x211946(0x542)]()['db'](L[_0x211946(0x537)]['DB_PREFIX_NAME']+_0x211946(0x323))[_0x211946(0x22e)](_0x817930);return _0x147a5a||(await _0x43f39b[_0x211946(0x50f)]({})[_0x211946(0x694)]())[_0x211946(0x235)]>0x0;}return _0x147a5a||(0x0,$a[_0x211946(0x4a7)])((0x0,Ra[_0x211946(0x938)])(be,_0x817930));}async function Aa(_0x4d7a5c,_0x226544,_0x1f3cba){const _0x5e00c6=a0_0x5c0bdf;if(_0x4d7a5c[_0x5e00c6(0x5b1)][_0x5e00c6(0x4ee)](_0x5e00c6(0x1ab))||_0x4d7a5c[_0x5e00c6(0x5b1)][_0x5e00c6(0x4ee)](_0x5e00c6(0x7c3))||_0x4d7a5c[_0x5e00c6(0x5b1)][_0x5e00c6(0x4ee)](_0x5e00c6(0x5a7))||_0x4d7a5c[_0x5e00c6(0x5b1)][_0x5e00c6(0x4ee)](_0x5e00c6(0x509))||_0x4d7a5c[_0x5e00c6(0x5b1)]['includes']('/instance/connect')||_0x4d7a5c[_0x5e00c6(0x5b1)]['includes'](_0x5e00c6(0x92e))||_0x4d7a5c[_0x5e00c6(0x5b1)][_0x5e00c6(0x4ee)](_0x5e00c6(0x44f)))return _0x1f3cba();let _0x583a0c=_0x4d7a5c[_0x5e00c6(0x78a)];if(!_0x583a0c?.[_0x5e00c6(0x7d7)])throw new m('instanceName\x20not\x20provided.');if(!await _e(_0x583a0c[_0x5e00c6(0x7d7)]))throw new U('The\x20'+_0x583a0c[_0x5e00c6(0x7d7)]+_0x5e00c6(0x58e));_0x1f3cba();}async function Ta(_0x8e3dd2,_0x28ecf4,_0x553e62){const _0x252869=a0_0x5c0bdf;if(_0x8e3dd2[_0x252869(0x5b1)][_0x252869(0x4ee)](_0x252869(0x1ab))){let _0x3b0355=_0x8e3dd2[_0x252869(0x72e)];if(await _e(_0x3b0355['instanceName']))throw new X(_0x252869(0x8d5)+_0x3b0355[_0x252869(0x7d7)]+_0x252869(0x3ea));G['waInstances'][_0x3b0355[_0x252869(0x7d7)]]&&delete G[_0x252869(0x602)][_0x3b0355[_0x252869(0x7d7)]];}_0x553e62();}var Ia=require(a0_0x5c0bdf(0x75f)),_a=I(require(a0_0x5c0bdf(0x505))),ot='uazapi',Ro=new $(a0_0x5c0bdf(0x7de));async function Ao(_0xfa9d8b,_0x5ed0ff,_0x4d6442){const _0x43d6b9=a0_0x5c0bdf;let _0xd8aa18=_0xfa9d8b['get'](_0x43d6b9(0x692));if(_0xd8aa18&&S[_0x43d6b9(0x1fe)]('AUTHENTICATION')[_0x43d6b9(0x69a)][_0x43d6b9(0x4b8)]!==_0xd8aa18)throw new se();if(S[_0x43d6b9(0x1fe)]('AUTHENTICATION')['API_KEY'][_0x43d6b9(0x4b8)]===_0xd8aa18)return _0x4d6442();if((_0xfa9d8b['originalUrl']['includes'](_0x43d6b9(0x1ab))||_0xfa9d8b[_0x43d6b9(0x5b1)][_0x43d6b9(0x4ee)]('/instance/fetchInstances'))&&!_0xd8aa18)throw new X('Missing\x20global\x20api\x20key',_0x43d6b9(0x3b0));let _0x595498=S['get'](_0x43d6b9(0x206))[_0x43d6b9(0x7b2)];try{let [_0x3057cc,_0x534404]=_0xfa9d8b[_0x43d6b9(0x1fe)](_0x43d6b9(0x54d))['split']('\x20');if(_0x3057cc['toLowerCase']()!==_0x43d6b9(0x2cb))throw new se();if(!(0x0,Ia[_0x43d6b9(0x42b)])(_0x534404))throw new se();let _0x437c12=_0xfa9d8b[_0x43d6b9(0x78a)],_0x42ef30=_a['default'][_0x43d6b9(0x940)](_0x534404,_0x595498[_0x43d6b9(0x1fc)],{'ignoreExpiration':_0x595498['EXPIRIN_IN']===0x0});if(_0x437c12[_0x43d6b9(0x7d7)]!==_0x42ef30[_0x43d6b9(0x7d7)]||ot!==_0x42ef30[_0x43d6b9(0x5b4)])throw new se();return _0x4d6442();}catch(_0x2ac646){throw Ro['error'](_0x2ac646),new se();}}async function To(_0x3dd97e,_0x467e54,_0x4891b6){const _0x216385=a0_0x5c0bdf;let _0x407eaa=S[_0x216385(0x1fe)]('AUTHENTICATION')[_0x216385(0x69a)],_0x197a97=_0x3dd97e[_0x216385(0x1fe)](_0x216385(0x692));if(_0x407eaa[_0x216385(0x4b8)]===_0x197a97)return _0x4891b6();if(_0x3dd97e[_0x216385(0x5b1)][_0x216385(0x4ee)]('/instance/create')){let _0x511f6d=xa,_0x50a189=_0x3dd97e[_0x216385(0x72e)][_0x216385(0x7d7)];if(_0x511f6d&&_0x50a189[_0x216385(0x781)]()[_0x216385(0x6bb)](_0x511f6d['toLowerCase']()))return _0x4891b6();if(!_0x197a97)throw new X(_0x216385(0x7fe),_0x216385(0x3b0));}if(_0x3dd97e[_0x216385(0x5b1)][_0x216385(0x4ee)]('/instance/fetchInstances')&&!_0x197a97)throw new X(_0x216385(0x7fe),_0x216385(0x3b0));if(_0x3dd97e[_0x216385(0x5b1)][_0x216385(0x4ee)](_0x216385(0x5a7))&&!_0x197a97)throw new X(_0x216385(0x7fe),_0x216385(0x3b0));if(_0x3dd97e['originalUrl'][_0x216385(0x4ee)](_0x216385(0x509))&&!_0x197a97)throw new X(_0x216385(0x7fe),_0x216385(0x3b0));try{let _0x30635f=_0x3dd97e[_0x216385(0x78a)],_0x50b392=await me[_0x216385(0x893)][_0x216385(0x50f)](_0x30635f[_0x216385(0x7d7)]);if(_0x50b392&&_0x50b392[_0x216385(0x692)]===_0x197a97)return _0x4891b6();}catch{}throw new se();}var Oa={'jwt':Ao,'apikey':To},pi=require(a0_0x5c0bdf(0x6e8)),C=require(a0_0x5c0bdf(0x5c7)),v=(..._0x230708)=>{const _0xfb6c44=a0_0x5c0bdf;let _0x1fe449={};return _0x230708['forEach'](_0x15926e=>_0x1fe449[_0x15926e]={'minLength':0x1,'description':_0xfb6c44(0x492)+_0x15926e+_0xfb6c44(0x7a1)}),{'if':{'propertyNames':{'enum':[..._0x230708]}},'then':{'properties':_0x1fe449}};},E={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'instanceName':{'type':a0_0x5c0bdf(0x749)}},...v(a0_0x5c0bdf(0x7d7))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'oldToken':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x401)],...v(a0_0x5c0bdf(0x401))},Ic={'properties':{'key':{'type':a0_0x5c0bdf(0x1ef),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x5c0bdf(0x749)},'fromMe':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5c0bdf(0x57e),a0_0x5c0bdf(0x650)],...v('id',a0_0x5c0bdf(0x57e))},'message':{'type':a0_0x5c0bdf(0x1ef)}}},ae={'properties':{'delay':{'type':a0_0x5c0bdf(0x44d),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x5c0bdf(0x749),'enum':['unavailable',a0_0x5c0bdf(0x919),a0_0x5c0bdf(0x4b3),a0_0x5c0bdf(0x51e),'paused']}}},Z={'type':a0_0x5c0bdf(0x749),'description':a0_0x5c0bdf(0x1d8)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x3ac)],...v(a0_0x5c0bdf(0x3ac))}},'required':[a0_0x5c0bdf(0x1b8),a0_0x5c0bdf(0x443)]},Da={'type':'string','pattern':a0_0x5c0bdf(0x8a0),'description':a0_0x5c0bdf(0x1d8)},_c={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'number':{...Da},'options':{...ae},'textMessage':{'type':a0_0x5c0bdf(0x1ef),'properties':{'text':{'type':'string'}},'required':[a0_0x5c0bdf(0x3ac)],...v(a0_0x5c0bdf(0x3ac))}},'required':[a0_0x5c0bdf(0x1b8),a0_0x5c0bdf(0x443)]},Oc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x2cc),a0_0x5c0bdf(0x8ca),a0_0x5c0bdf(0x302),'audio']},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x440),a0_0x5c0bdf(0x861)],...v(a0_0x5c0bdf(0x350),'caption',a0_0x5c0bdf(0x861))}},'required':[a0_0x5c0bdf(0x64a),a0_0x5c0bdf(0x443)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x5c0bdf(0x1ef),'properties':{'image':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x2cc)],...v(a0_0x5c0bdf(0x2cc))}},'required':['stickerMessage',a0_0x5c0bdf(0x443)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x3ac),a0_0x5c0bdf(0x2cc),'audio','video']},'content':{'type':a0_0x5c0bdf(0x749)},'caption':{'type':a0_0x5c0bdf(0x749)},'backgroundColor':{'type':a0_0x5c0bdf(0x749)},'font':{'type':a0_0x5c0bdf(0x44d),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x5c0bdf(0x5c9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x5c0bdf(0x409),'description':a0_0x5c0bdf(0x569)}},'allContacts':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]}},'required':[a0_0x5c0bdf(0x5a8),a0_0x5c0bdf(0x1e5)],...v(a0_0x5c0bdf(0x5a8),a0_0x5c0bdf(0x1e5))}},'required':[a0_0x5c0bdf(0x7c8)]},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':a0_0x5c0bdf(0x1ef),'properties':{'mediatype':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x2cc),a0_0x5c0bdf(0x8ca),a0_0x5c0bdf(0x302),a0_0x5c0bdf(0x250)]},'media':{'type':a0_0x5c0bdf(0x749)},'fileName':{'type':a0_0x5c0bdf(0x749)},'caption':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x440),a0_0x5c0bdf(0x861)],...v(a0_0x5c0bdf(0x350),a0_0x5c0bdf(0x527),a0_0x5c0bdf(0x861))}},'required':[a0_0x5c0bdf(0x64a),'number']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x5c0bdf(0x1ef),'properties':{'audio':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x250)],...v(a0_0x5c0bdf(0x250))}},'required':[a0_0x5c0bdf(0x227),'number']},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':a0_0x5c0bdf(0x1ef),'properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x5c0bdf(0x5c9),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x5c0bdf(0x35d),a0_0x5c0bdf(0x58d),'values'],...v(a0_0x5c0bdf(0x35d),a0_0x5c0bdf(0x58d),a0_0x5c0bdf(0x60a))}},'required':[a0_0x5c0bdf(0x443),'pollMessage']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x5c0bdf(0x1ef),'properties':{'text':{'type':a0_0x5c0bdf(0x749)},'choices':{'type':a0_0x5c0bdf(0x5c9),'uniqueItems':!0x0}},'required':['text',a0_0x5c0bdf(0x2eb)],...v(a0_0x5c0bdf(0x3ac),a0_0x5c0bdf(0x2eb))}},'required':[a0_0x5c0bdf(0x443),a0_0x5c0bdf(0x2d0)]},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x5c0bdf(0x443)},'longitude':{'type':a0_0x5c0bdf(0x443)},'name':{'type':a0_0x5c0bdf(0x749)},'address':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x610),'longitude'],...v(a0_0x5c0bdf(0x35d),'addresss')}},'required':['number','locationMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x5c0bdf(0x1ef),'properties':{'title':{'type':'string'},'description':{'type':a0_0x5c0bdf(0x749)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x5c0bdf(0x749)},'sections':{'type':a0_0x5c0bdf(0x5c9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c0bdf(0x1ef),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x5c0bdf(0x5c9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c0bdf(0x1ef),'properties':{'title':{'type':a0_0x5c0bdf(0x749)},'description':{'type':a0_0x5c0bdf(0x749)},'rowId':{'type':'string'}},'required':[a0_0x5c0bdf(0x589),'rowId'],...v(a0_0x5c0bdf(0x589),'rowId')}}},'required':['title',a0_0x5c0bdf(0x627)],...v(a0_0x5c0bdf(0x589))}}},'required':[a0_0x5c0bdf(0x589),'description',a0_0x5c0bdf(0x29f),a0_0x5c0bdf(0x635)],...v(a0_0x5c0bdf(0x589),a0_0x5c0bdf(0x1b6),a0_0x5c0bdf(0x29f),a0_0x5c0bdf(0x6a1))}},'required':[a0_0x5c0bdf(0x443),a0_0x5c0bdf(0x68e)]},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':'array','items':{'type':a0_0x5c0bdf(0x1ef),'properties':{'fullName':{'type':a0_0x5c0bdf(0x749)},'phoneNumber':{'type':a0_0x5c0bdf(0x749),'minLength':0xa}},'required':['fullName','phoneNumber'],...v('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x5c0bdf(0x1ef),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5c0bdf(0x57e),a0_0x5c0bdf(0x650)],...v('id',a0_0x5c0bdf(0x57e))},'reaction':{'type':'string'}},'required':[a0_0x5c0bdf(0x493),a0_0x5c0bdf(0x2d6)],...v(a0_0x5c0bdf(0x2d6))}},'required':[a0_0x5c0bdf(0x8a8)]},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x5c0bdf(0x5c9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x5c0bdf(0x409),'description':a0_0x5c0bdf(0x528)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'readMessages':{'type':a0_0x5c0bdf(0x5c9),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x5c0bdf(0x749)},'fromMe':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5c0bdf(0x749)}},'required':['id','fromMe','remoteJid'],...v('id',a0_0x5c0bdf(0x57e))}}},'required':[a0_0x5c0bdf(0x3f5)]},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x5c0bdf(0x1ef),'properties':{'readreceipts':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x2db),a0_0x5c0bdf(0x2dd)]},'profile':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x2db),a0_0x5c0bdf(0x1a3),a0_0x5c0bdf(0x701),'none']},'status':{'type':a0_0x5c0bdf(0x749),'enum':['all',a0_0x5c0bdf(0x1a3),'contact_blacklist',a0_0x5c0bdf(0x2dd)]},'online':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x2db),a0_0x5c0bdf(0x333)]},'last':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x2db),a0_0x5c0bdf(0x1a3),a0_0x5c0bdf(0x701),a0_0x5c0bdf(0x2dd)]},'groupadd':{'type':'string','enum':['all',a0_0x5c0bdf(0x1a3),'contact_blacklist','none']}},'required':[a0_0x5c0bdf(0x7b6),a0_0x5c0bdf(0x873),a0_0x5c0bdf(0x3ae),a0_0x5c0bdf(0x6e4),a0_0x5c0bdf(0x881),a0_0x5c0bdf(0x3bc)],...v(a0_0x5c0bdf(0x7b6),a0_0x5c0bdf(0x873),'status','online',a0_0x5c0bdf(0x881),'groupadd')}},'required':[a0_0x5c0bdf(0x3af)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x5c0bdf(0x1ef),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x5c0bdf(0x749)},'fromMe':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]}},'required':['id',a0_0x5c0bdf(0x650),a0_0x5c0bdf(0x57e)],...v('id','remoteJid')},'messageTimestamp':{'type':a0_0x5c0bdf(0x44d),'minLength':0x1}},'required':[a0_0x5c0bdf(0x493)],...v(a0_0x5c0bdf(0x35a))},'archive':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]}},'required':[a0_0x5c0bdf(0x31f),a0_0x5c0bdf(0x541)]},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0x5c0bdf(0x749)},'fromMe':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x5c0bdf(0x749)},'participant':{'type':a0_0x5c0bdf(0x749)}},'required':['id',a0_0x5c0bdf(0x650),a0_0x5c0bdf(0x57e)],...v('id','remoteJid',a0_0x5c0bdf(0x555))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...v(a0_0x5c0bdf(0x2c7),'id',a0_0x5c0bdf(0x4a1))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'name':{'type':a0_0x5c0bdf(0x749)}},...v(a0_0x5c0bdf(0x35d))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'status':{'type':a0_0x5c0bdf(0x749)}},...v(a0_0x5c0bdf(0x3ae))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'number':{'type':a0_0x5c0bdf(0x749)},'picture':{'type':a0_0x5c0bdf(0x749)}}},ei={'type':a0_0x5c0bdf(0x1ef),'properties':{'wuid':{'type':a0_0x5c0bdf(0x749)},'name':{'type':a0_0x5c0bdf(0x749)},'picture':{'type':'string'},'status':{'type':a0_0x5c0bdf(0x749)},'isBusiness':{'type':a0_0x5c0bdf(0x1e8)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'where':{'type':a0_0x5c0bdf(0x1ef),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x5c0bdf(0x1ef),'if':{'propertyNames':{'enum':[a0_0x5c0bdf(0x650),a0_0x5c0bdf(0x57e),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x5c0bdf(0x749),'minLength':0x1,'description':a0_0x5c0bdf(0x6e9)},'id':{'type':a0_0x5c0bdf(0x749),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x5c0bdf(0x1ef)}},...v('_id')},'limit':{'type':'integer'}}},xc={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'where':{'type':a0_0x5c0bdf(0x1ef),'properties':{'_id':{'type':a0_0x5c0bdf(0x749)},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x5c0bdf(0x749)},'status':{'type':'string','enum':['ERROR',a0_0x5c0bdf(0x366),a0_0x5c0bdf(0x1da),'DELIVERY_ACK',a0_0x5c0bdf(0x6dc),a0_0x5c0bdf(0x5b2)]}},...v(a0_0x5c0bdf(0x2c7),'remoteJid','id',a0_0x5c0bdf(0x3ae))},'limit':{'type':a0_0x5c0bdf(0x44d)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'number':{...Z},'presence':{'type':'string','enum':[a0_0x5c0bdf(0x4a8),a0_0x5c0bdf(0x919),a0_0x5c0bdf(0x4b3),a0_0x5c0bdf(0x51e),a0_0x5c0bdf(0x7ba)]}},'required':[a0_0x5c0bdf(0x4e9),a0_0x5c0bdf(0x443)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'subject':{'type':a0_0x5c0bdf(0x749)},'description':{'type':'string'},'profilePicture':{'type':a0_0x5c0bdf(0x749)},'participants':{'type':a0_0x5c0bdf(0x5c9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c0bdf(0x749),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x5c0bdf(0x1a6)}}},'required':['subject','participants'],...v(a0_0x5c0bdf(0x7e9),a0_0x5c0bdf(0x1b6),'profilePicture')},xe={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'groupJid':{'type':a0_0x5c0bdf(0x749),'pattern':a0_0x5c0bdf(0x5c0)}},'required':[a0_0x5c0bdf(0x8ab)],...v('groupJid')},ii={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x92c),a0_0x5c0bdf(0x62a),'promote',a0_0x5c0bdf(0x529),'reject',a0_0x5c0bdf(0x5cc)]},'participants':{'type':a0_0x5c0bdf(0x5c9),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x5c0bdf(0x749),'minLength':0xa,'pattern':a0_0x5c0bdf(0x5d5),'description':a0_0x5c0bdf(0x1a6)}}},'required':['groupJid',a0_0x5c0bdf(0x937),a0_0x5c0bdf(0x8e4)],...v('groupJid',a0_0x5c0bdf(0x937))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'groupJid':{'type':a0_0x5c0bdf(0x749)},'expiration':{'type':a0_0x5c0bdf(0x443),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x4aa)],...v(a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x4aa))},ri={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x2cc)],...v('groupJid',a0_0x5c0bdf(0x2cc))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'groupJid':{'type':a0_0x5c0bdf(0x749)},'description':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x1b6)],...v(a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x1b6))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'groupJid':{'type':a0_0x5c0bdf(0x749)},'name':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x35d)],...v(a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x35d))},li={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'groupJid':{'type':a0_0x5c0bdf(0x749)},'setting':{'type':a0_0x5c0bdf(0x749),'enum':[a0_0x5c0bdf(0x2e5),a0_0x5c0bdf(0x2d2),a0_0x5c0bdf(0x813),a0_0x5c0bdf(0x840)]}},'required':[a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x6f0)],...v(a0_0x5c0bdf(0x8ab),a0_0x5c0bdf(0x6f0))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'groupJid':{'type':a0_0x5c0bdf(0x749)},'restrict':{'type':a0_0x5c0bdf(0x1e8)},'announce':{'type':a0_0x5c0bdf(0x1e8)},'memberAddMode':{'type':a0_0x5c0bdf(0x1e8)},'joinApprovalMode':{'type':a0_0x5c0bdf(0x1e8)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x5c0bdf(0x749)},'description':{'type':a0_0x5c0bdf(0x749)},'image':{'type':'string'}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'inviteCode':{'type':a0_0x5c0bdf(0x749)}},'required':[a0_0x5c0bdf(0x1f0)],...v(a0_0x5c0bdf(0x1f0))},di={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':'string'},'enabled':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]}},'required':['url',a0_0x5c0bdf(0x5c3)]},Pc={'$id':(0x0,C['v4'])(),'type':a0_0x5c0bdf(0x1ef),'properties':{'local_map':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x5c0bdf(0x1e8),'enum':[!0x0,!0x1]}},'required':[a0_0x5c0bdf(0x880),a0_0x5c0bdf(0x50e),a0_0x5c0bdf(0x32d),a0_0x5c0bdf(0x406),'MESSAGES_UPDATE',a0_0x5c0bdf(0x372),a0_0x5c0bdf(0x6d9),a0_0x5c0bdf(0x7f3),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x5c0bdf(0x4e7),'CHATS_SET',a0_0x5c0bdf(0x4d5),a0_0x5c0bdf(0x617),a0_0x5c0bdf(0x882),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x5c0bdf(0x4b5),'GROUP_PARTICIPANTS_UPDATE'],...v(a0_0x5c0bdf(0x880),a0_0x5c0bdf(0x50e),'QRCODE_UPDATED','MESSAGES_SET',a0_0x5c0bdf(0x8ae),a0_0x5c0bdf(0x372),a0_0x5c0bdf(0x6d9),a0_0x5c0bdf(0x7f3),a0_0x5c0bdf(0x646),a0_0x5c0bdf(0x516),a0_0x5c0bdf(0x4e7),a0_0x5c0bdf(0x533),a0_0x5c0bdf(0x4d5),'CHATS_UPDATE',a0_0x5c0bdf(0x882),a0_0x5c0bdf(0x45a),a0_0x5c0bdf(0x19d),a0_0x5c0bdf(0x4b5),a0_0x5c0bdf(0x60b))},rt=class{},nt=class extends O{[a0_0x5c0bdf(0x5d1)](_0x582d96){return aa(_0x582d96);}async[a0_0x5c0bdf(0x805)](_0x15c054){const _0x2a2878=a0_0x5c0bdf;if(_0x15c054[_0x2a2878(0x235)]!==0x0)try{return{'insertCount':(await this[_0x2a2878(0x5d1)](_0x15c054[0x0][_0x2a2878(0x3f7)])[_0x2a2878(0x488)]([..._0x15c054]))[_0x2a2878(0x235)]};}catch(_0x59f23a){return _0x59f23a;}}async[a0_0x5c0bdf(0x221)](_0x23f13e,_0x4c05d9){const _0x4175cc=a0_0x5c0bdf;try{return{'deletedCount':(await this[_0x4175cc(0x5d1)](_0x4c05d9)['deleteMany']({..._0x23f13e[_0x4175cc(0x8e1)]}))[_0x4175cc(0x65c)]};}catch(_0x252856){return{'error':_0x252856?.[_0x4175cc(0x281)]()};}}async[a0_0x5c0bdf(0x1d0)](_0x465f3f,_0x24dc91){const _0x391a35=a0_0x5c0bdf;try{if(_0x465f3f[_0x391a35(0x235)]===0x0)return;let _0x24c0aa=this[_0x391a35(0x5d1)](_0x24dc91),_0x1553dc=_0x465f3f[_0x391a35(0x6df)](_0x40f503=>({'updateOne':{'filter':{'_id':_0x40f503['_id'],'owner':_0x24dc91},'update':{..._0x40f503}}})),{modifiedCount:_0xccbcff}=await _0x24c0aa[_0x391a35(0x604)](_0x1553dc);return{'insertCount':_0xccbcff};}catch{return;}}async[a0_0x5c0bdf(0x50f)](_0x2c9102,_0x2391e6){const _0x4ec9de=a0_0x5c0bdf;try{let _0x3afdd7=this[_0x4ec9de(0x5d1)](_0x2391e6),_0x2df320=A(_0x2c9102[_0x4ec9de(0x8e1)]);return await _0x3afdd7[_0x4ec9de(0x50f)](_0x2df320)['limit'](_0x2c9102?.[_0x4ec9de(0x716)]??0x0)[_0x4ec9de(0x7ce)]();}catch{return[];}}async[a0_0x5c0bdf(0x81e)](_0x2bf3b2,_0x56965d){const _0x114357=a0_0x5c0bdf;try{let _0x41d601=this[_0x114357(0x5d1)](_0x56965d),_0x17cda6=A(_0x2bf3b2[_0x114357(0x8e1)]);return await _0x41d601['findOne'](_0x17cda6)[_0x114357(0x7ce)]();}catch{return null;}}async[a0_0x5c0bdf(0x3a4)](_0x1b2080){const _0x560128=a0_0x5c0bdf;try{return await this[_0x560128(0x5d1)](_0x1b2080)[_0x560128(0x22e)][_0x560128(0x31d)](),{'success':!0x0};}catch(_0x3bb51a){return console['error'](_0x3bb51a),{'success':!0x1,'error':_0x3bb51a};}}},ct=require(a0_0x5c0bdf(0x637)),Vc=require(a0_0x5c0bdf(0x885)),$s=new $(a0_0x5c0bdf(0x258)),V=class{[a0_0x5c0bdf(0x5b7)](_0x3a483f,_0x20a132=!0x0){let _0x3886be='/'+_0x3a483f;return _0x20a132&&(_0x3886be+='/:instanceName'),_0x3886be;}async[a0_0x5c0bdf(0x3ba)](_0x4899f3){const _0x2ebd2f=a0_0x5c0bdf;let {request:_0x2dac58,schema:_0x9c535,ClassRef:_0x26e8de,execute:_0x11d7d0}=_0x4899f3,_0x51bf65=new _0x26e8de(),_0x222163=_0x2dac58[_0x2ebd2f(0x72e)],_0x25a312=_0x2dac58['params'];_0x2dac58?.[_0x2ebd2f(0x54c)]&&Object[_0x2ebd2f(0x2ec)](_0x2dac58['query'])[_0x2ebd2f(0x235)]>0x0&&Object[_0x2ebd2f(0x2bb)](_0x25a312,_0x2dac58['query']),_0x2dac58['originalUrl'][_0x2ebd2f(0x4ee)](_0x2ebd2f(0x1ab))&&Object[_0x2ebd2f(0x2bb)](_0x25a312,_0x222163),Object[_0x2ebd2f(0x2bb)](_0x51bf65,_0x222163);let _0x27342e=_0x9c535?(0x0,ct['validate'])(_0x51bf65,_0x9c535):{'valid':!0x0,'errors':[]};if(!_0x27342e['valid']){let _0x4d650b=_0x27342e[_0x2ebd2f(0x402)][_0x2ebd2f(0x6df)](({property:_0x2c5748,stack:_0x50456b,schema:_0x5ea3ad})=>{const _0x1fb714=_0x2ebd2f;let _0x340ea3;return _0x5ea3ad[_0x1fb714(0x1b6)]?_0x340ea3=_0x5ea3ad[_0x1fb714(0x1b6)]:_0x340ea3=_0x50456b['replace'](_0x1fb714(0x40f),''),{'property':_0x2c5748['replace'](_0x1fb714(0x40f),''),'message':_0x340ea3};});throw $s[_0x2ebd2f(0x812)]([..._0x4d650b]),new m(..._0x4d650b);}return await _0x11d7d0(_0x25a312,_0x51bf65);}async['groupValidate'](_0x46327c){const _0x5edb28=a0_0x5c0bdf;let {request:_0x5e3ea9,ClassRef:_0x4b21fd,schema:_0x84d139,execute:_0x3dc2c0}=_0x46327c,_0x1ba15b=_0x5e3ea9['query'];if(!_0x1ba15b?.['groupJid'])throw new m(_0x5edb28(0x7f6),_0x5edb28(0x8d2));let _0x151a42=_0x5e3ea9[_0x5edb28(0x78a)],_0x356fae=_0x5e3ea9[_0x5edb28(0x72e)],_0x446454=new _0x4b21fd();Object['assign'](_0x356fae,_0x1ba15b),Object['assign'](_0x446454,_0x356fae);let _0x1b1359=(0x0,ct['validate'])(_0x446454,_0x84d139);if(!_0x1b1359['valid']){let _0x2a7173=_0x1b1359[_0x5edb28(0x402)][_0x5edb28(0x6df)](({property:_0x853446,stack:_0x1c9138,schema:_0x35e08e})=>{const _0x5859f7=_0x5edb28;let _0xc9053a;return _0x35e08e[_0x5859f7(0x1b6)]?_0xc9053a=_0x35e08e['description']:_0xc9053a=_0x1c9138[_0x5859f7(0x8df)](_0x5859f7(0x40f),''),{'property':_0x853446[_0x5859f7(0x8df)](_0x5859f7(0x40f),''),'message':_0xc9053a};});throw $s[_0x5edb28(0x812)]([..._0x2a7173]),new m(..._0x2a7173);}return await _0x3dc2c0(_0x151a42,_0x446454);}async[a0_0x5c0bdf(0x2b2)](_0x35d87c){const _0x8f033a=a0_0x5c0bdf;let {request:_0x32916e,ClassRef:_0x2fc3e5,schema:_0x8efca5,execute:_0x3f60c3}=_0x35d87c,_0x48d310=_0x32916e[_0x8f033a(0x72e)];if(!_0x48d310?.[_0x8f033a(0x1f0)])throw new m(_0x8f033a(0x1a9),_0x8f033a(0x45b));let _0x326fb1=_0x32916e['params'],_0x56ecab=_0x32916e['body'],_0x12925a=new _0x2fc3e5();Object[_0x8f033a(0x2bb)](_0x56ecab,_0x48d310),Object['assign'](_0x12925a,_0x56ecab);let _0xfbe658=(0x0,ct[_0x8f033a(0x517)])(_0x12925a,_0x8efca5);if(!_0xfbe658['valid']){let _0x15ed51=_0xfbe658[_0x8f033a(0x402)][_0x8f033a(0x6df)](({property:_0x3c904b,stack:_0x7d2b27,schema:_0x53c711})=>{const _0x488f68=_0x8f033a;let _0x3e379f;return _0x53c711[_0x488f68(0x1b6)]?_0x3e379f=_0x53c711['description']:_0x3e379f=_0x7d2b27[_0x488f68(0x8df)]('instance.',''),{'property':_0x3c904b[_0x488f68(0x8df)](_0x488f68(0x40f),''),'message':_0x3e379f};});throw $s['error']([..._0x15ed51]),new m(..._0x15ed51);}return await _0x3f60c3(_0x326fb1,_0x12925a);}},M=class{},il=new $(a0_0x5c0bdf(0x6da)),lt=class extends V{constructor(..._0x5e9ef8){const _0x3a5a8d=a0_0x5c0bdf;super(),this['router']=(0x0,pi['Router'])(),this[_0x3a5a8d(0x88f)]['post'](this['routerPath'](_0x3a5a8d(0x8b7)),..._0x5e9ef8,async(_0x493e62,_0x5a27d5)=>{const _0x31d274=_0x3a5a8d;let _0x5b2d3a=await this['dataValidate']({'request':_0x493e62,'schema':si,'ClassRef':Ye,'execute':(_0x235d3d,_0x151b9d)=>D[_0x31d274(0x8b7)](_0x235d3d,_0x151b9d)});return _0x5a27d5[_0x31d274(0x3ae)](0xc9)[_0x31d274(0x365)](_0x5b2d3a);})[_0x3a5a8d(0x6ce)](this['routerPath'](_0x3a5a8d(0x83f)),..._0x5e9ef8,async(_0x5335aa,_0x3b6453)=>{const _0x5f0dbe=_0x3a5a8d;let _0x44088e=await this[_0x5f0dbe(0x3ba)]({'request':_0x5335aa,'schema':Wa,'ClassRef':Xe,'execute':(_0x5cbd7e,_0x77f30d)=>D['whatsappNumber'](_0x5cbd7e,_0x77f30d)});return _0x3b6453[_0x5f0dbe(0x3ae)](0xc9)[_0x5f0dbe(0x365)](_0x44088e);})['post'](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x8c8)),..._0x5e9ef8,async(_0x42826b,_0x7c58d3)=>{const _0xa2561b=_0x3a5a8d;let _0x1530f0=await this[_0xa2561b(0x3ba)]({'request':_0x42826b,'schema':E,'ClassRef':M,'execute':(_0x4d5509,_0x552282)=>D[_0xa2561b(0x8c8)](_0x4d5509,_0x552282)});return _0x7c58d3[_0xa2561b(0x3ae)](0xc9)[_0xa2561b(0x365)](_0x1530f0);})['put'](this['routerPath'](_0x3a5a8d(0x2a6)),..._0x5e9ef8,async(_0x1542bf,_0xd2625e)=>{const _0x49841f=_0x3a5a8d;let _0x2a6e42=await this[_0x49841f(0x3ba)]({'request':_0x1542bf,'schema':za,'ClassRef':tt,'execute':(_0x18207c,_0x34a375)=>D[_0x49841f(0x63c)](_0x18207c,_0x34a375)});return _0xd2625e[_0x49841f(0x3ae)](0xc9)[_0x49841f(0x365)](_0x2a6e42);})[_0x3a5a8d(0x748)](this[_0x3a5a8d(0x5b7)]('archiveChat'),..._0x5e9ef8,async(_0x4adede,_0x213a6f)=>{const _0xfbe7a3=_0x3a5a8d;let _0x2e3dc7=await this[_0xfbe7a3(0x3ba)]({'request':_0x4adede,'schema':Ka,'ClassRef':st,'execute':(_0x2fd314,_0x4ce964)=>D['archiveChat'](_0x2fd314,_0x4ce964)});return _0x213a6f[_0xfbe7a3(0x3ae)](0xc9)[_0xfbe7a3(0x365)](_0x2e3dc7);})[_0x3a5a8d(0x221)](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x4e0)),..._0x5e9ef8,async(_0x2bf452,_0x3eeda4)=>{const _0x410682=_0x3a5a8d;let _0x38a5ad=await this['dataValidate']({'request':_0x2bf452,'schema':Qa,'ClassRef':it,'execute':(_0x4ecd08,_0x474308)=>D[_0x410682(0x8ed)](_0x4ecd08,_0x474308)});return _0x3eeda4[_0x410682(0x3ae)](0xc9)[_0x410682(0x365)](_0x38a5ad);})[_0x3a5a8d(0x6ce)](this['routerPath']('fetchProfilePictureUrl'),..._0x5e9ef8,async(_0x10a156,_0x361ce3)=>{const _0x5c6fd2=_0x3a5a8d;let _0x536ffb=await this['dataValidate']({'request':_0x10a156,'schema':Oe,'ClassRef':Ie,'execute':(_0x42bdc1,_0x4b66db)=>D[_0x5c6fd2(0x772)](_0x42bdc1,_0x4b66db)});return _0x361ce3[_0x5c6fd2(0x3ae)](0xc8)[_0x5c6fd2(0x365)](_0x536ffb);})['post'](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x4c1)),..._0x5e9ef8,async(_0x474a82,_0x4270ed)=>{const _0x335b34=_0x3a5a8d;let _0x3dfe32=await this['dataValidate']({'request':_0x474a82,'schema':ei,'ClassRef':Ie,'execute':(_0x33ff7a,_0x32f1aa)=>D[_0x335b34(0x4c1)](_0x33ff7a,_0x32f1aa)});return _0x4270ed['status'](0xc8)[_0x335b34(0x365)](_0x3dfe32);})[_0x3a5a8d(0x6ce)](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x709)),..._0x5e9ef8,async(_0x4f2ddc,_0x37b2ee)=>{const _0x5835ae=_0x3a5a8d;let _0x412463=await this[_0x5835ae(0x3ba)]({'request':_0x4f2ddc,'schema':Ya,'ClassRef':rt,'execute':(_0x20d571,_0x1dfded)=>D[_0x5835ae(0x431)](_0x20d571,_0x1dfded)});return _0x37b2ee['status'](0xc8)[_0x5835ae(0x365)](_0x412463);})[_0x3a5a8d(0x6ce)](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x672)),..._0x5e9ef8,async(_0x408063,_0x1dde18)=>{const _0x2721f8=_0x3a5a8d;let _0x130e87=await this[_0x2721f8(0x3ba)]({'request':_0x408063,'schema':null,'ClassRef':Object,'execute':(_0x4918eb,_0x5d296e)=>D[_0x2721f8(0x672)](_0x4918eb,_0x5d296e)});return _0x1dde18['status'](0xc9)[_0x2721f8(0x365)](_0x130e87);})['post'](this[_0x3a5a8d(0x5b7)]('findMessages'),..._0x5e9ef8,async(_0x5abe3c,_0x540e1f)=>{const _0x5d2f2b=_0x3a5a8d;let _0x39868e=await this[_0x5d2f2b(0x3ba)]({'request':_0x5abe3c,'schema':ti,'ClassRef':Ke,'execute':(_0x18d0e1,_0x1eaa44)=>D[_0x5d2f2b(0x711)](_0x18d0e1,_0x1eaa44)});return _0x540e1f[_0x5d2f2b(0x3ae)](0xc8)['json'](_0x39868e);})[_0x3a5a8d(0x1fe)](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x81a)),..._0x5e9ef8,async(_0x74cc1a,_0x51fb75)=>{const _0x3eebf3=_0x3a5a8d;let _0x3c7e85=await this[_0x3eebf3(0x3ba)]({'request':_0x74cc1a,'schema':null,'ClassRef':M,'execute':_0x228e7f=>D[_0x3eebf3(0x465)](_0x228e7f)});return _0x51fb75[_0x3eebf3(0x3ae)](0xc8)[_0x3eebf3(0x365)](_0x3c7e85);})['get'](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x69f)),..._0x5e9ef8,async(_0x6851d7,_0xbaa2a7)=>{const _0x184b9f=_0x3a5a8d;let _0x507c83=await this[_0x184b9f(0x3ba)]({'request':_0x6851d7,'schema':null,'ClassRef':M,'execute':_0x44a34c=>D[_0x184b9f(0x8de)](_0x44a34c)});return _0xbaa2a7[_0x184b9f(0x3ae)](0xc8)['json'](_0x507c83);})['put'](this['routerPath'](_0x3a5a8d(0x2d4)),..._0x5e9ef8,async(_0x30f2c3,_0x32952f)=>{const _0x3a2787=_0x3a5a8d;let _0x32ca79=await this[_0x3a2787(0x3ba)]({'request':_0x30f2c3,'schema':null,'ClassRef':Array,'execute':(_0xc52b9e,_0x5ce726)=>D[_0x3a2787(0x2d4)](_0xc52b9e,_0x5ce726)});return _0x32952f[_0x3a2787(0x3ae)](0xc8)[_0x3a2787(0x365)](_0x32ca79);})[_0x3a5a8d(0x1fe)](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x430)),..._0x5e9ef8,async(_0x3343a2,_0x5a177e)=>{const _0x30ecb8=_0x3a5a8d;let _0x4b2a1d=await this[_0x30ecb8(0x3ba)]({'request':_0x3343a2,'schema':null,'ClassRef':M,'execute':_0x42de0e=>D[_0x30ecb8(0x430)](_0x42de0e)});return _0x5a177e[_0x30ecb8(0x3ae)](0xc8)[_0x30ecb8(0x365)](_0x4b2a1d);})[_0x3a5a8d(0x748)](this[_0x3a5a8d(0x5b7)]('updatePrivacySettings'),..._0x5e9ef8,async(_0x13f556,_0x5d243b)=>{const _0x32fa73=_0x3a5a8d;let _0xd2718a=await this[_0x32fa73(0x3ba)]({'request':_0x13f556,'schema':Ha,'ClassRef':at,'execute':(_0x33efb0,_0x1e4fe9)=>D['updatePrivacySettings'](_0x33efb0,_0x1e4fe9)});return _0x5d243b[_0x32fa73(0x3ae)](0xc9)[_0x32fa73(0x365)](_0xd2718a);})['post'](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x46b)),..._0x5e9ef8,async(_0x1683c5,_0x19274a)=>{const _0x102811=_0x3a5a8d;let _0x14c5ee=await this[_0x102811(0x3ba)]({'request':_0x1683c5,'schema':Oe,'ClassRef':Ce,'execute':(_0x86f4cc,_0x4ff7dd)=>D[_0x102811(0x46b)](_0x86f4cc,_0x4ff7dd)});return _0x19274a['status'](0xc8)[_0x102811(0x365)](_0x14c5ee);})[_0x3a5a8d(0x6ce)](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x43c)),..._0x5e9ef8,async(_0x14e56f,_0x59c1ff)=>{const _0x5ec116=_0x3a5a8d;let _0x3413c2=await this[_0x5ec116(0x3ba)]({'request':_0x14e56f,'schema':Xa,'ClassRef':Ze,'execute':(_0x40b342,_0x2311ea)=>D[_0x5ec116(0x43c)](_0x40b342,_0x2311ea)});return _0x59c1ff['status'](0xc8)['json'](_0x3413c2);})[_0x3a5a8d(0x6ce)](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x7c5)),..._0x5e9ef8,async(_0x247586,_0x332578)=>{const _0xdd2b9c=_0x3a5a8d;let _0x192126=await this[_0xdd2b9c(0x3ba)]({'request':_0x247586,'schema':Za,'ClassRef':et,'execute':(_0x254cdf,_0x133988)=>D[_0xdd2b9c(0x7c5)](_0x254cdf,_0x133988)});return _0x332578['status'](0xc8)[_0xdd2b9c(0x365)](_0x192126);})[_0x3a5a8d(0x748)](this[_0x3a5a8d(0x5b7)](_0x3a5a8d(0x727)),..._0x5e9ef8,async(_0x40d1ef,_0x32750c)=>{const _0x2e8a40=_0x3a5a8d;let _0x10e659=await this[_0x2e8a40(0x3ba)]({'request':_0x40d1ef,'schema':Oe,'ClassRef':Ce,'execute':(_0x4c1bc1,_0x5b69d3)=>D[_0x2e8a40(0x727)](_0x4c1bc1,_0x5b69d3)});return _0x32750c['status'](0xc8)[_0x2e8a40(0x365)](_0x10e659);})[_0x3a5a8d(0x221)](this[_0x3a5a8d(0x5b7)]('removeProfilePicture'),..._0x5e9ef8,async(_0x1f1313,_0x19b4e3)=>{const _0x44e25a=_0x3a5a8d;let _0x181bc0=await this[_0x44e25a(0x3ba)]({'request':_0x1f1313,'schema':Oe,'ClassRef':Ce,'execute':(_0x50c639,_0x4f53b4)=>D[_0x44e25a(0x78d)](_0x50c639,_0x4f53b4)});return _0x19b4e3[_0x44e25a(0x3ae)](0xc8)['json'](_0x181bc0);});}},hi=require('express'),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},Pe=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x33617b){const _0x29a42b=a0_0x5c0bdf;super(),this[_0x29a42b(0x88f)]=(0x0,hi[_0x29a42b(0x51a)])(),this[_0x29a42b(0x88f)][_0x29a42b(0x6ce)](this[_0x29a42b(0x5b7)](_0x29a42b(0x615)),..._0x33617b,async(_0x26ee12,_0x3f7d3b)=>{const _0x453cf5=_0x29a42b;let _0x463945=await this[_0x453cf5(0x3ba)]({'request':_0x26ee12,'schema':ai,'ClassRef':ut,'execute':(_0x9cda4b,_0x54d433)=>q[_0x453cf5(0x202)](_0x9cda4b,_0x54d433)});_0x3f7d3b[_0x453cf5(0x3ae)](0xc9)[_0x453cf5(0x365)](_0x463945);})[_0x29a42b(0x748)](this[_0x29a42b(0x5b7)](_0x29a42b(0x1ca)),..._0x33617b,async(_0x265b91,_0x3e79ae)=>{const _0x20f032=_0x29a42b;let _0x2d45ae=await this[_0x20f032(0x6c8)]({'request':_0x265b91,'schema':ri,'ClassRef':dt,'execute':(_0x35fec5,_0x1dfbba)=>q[_0x20f032(0x1ca)](_0x35fec5,_0x1dfbba)});_0x3e79ae[_0x20f032(0x3ae)](0xc9)[_0x20f032(0x365)](_0x2d45ae);})[_0x29a42b(0x748)](this[_0x29a42b(0x5b7)](_0x29a42b(0x648)),..._0x33617b,async(_0x3b1058,_0x4158e9)=>{const _0x736051=_0x29a42b;let _0x539cc4=await this[_0x736051(0x6c8)]({'request':_0x3b1058,'schema':ni,'ClassRef':pt,'execute':(_0x1b8423,_0x116f0c)=>q[_0x736051(0x648)](_0x1b8423,_0x116f0c)});_0x4158e9['status'](0xc9)['json'](_0x539cc4);})['put'](this[_0x29a42b(0x5b7)]('groupName'),..._0x33617b,async(_0x38d093,_0x2a2e7c)=>{const _0x51ee7b=_0x29a42b;let _0x5b65bd=await this['groupValidate']({'request':_0x38d093,'schema':ci,'ClassRef':ht,'execute':(_0x45f9bc,_0x104972)=>q[_0x51ee7b(0x64f)](_0x45f9bc,_0x104972)});_0x2a2e7c['status'](0xc9)[_0x51ee7b(0x365)](_0x5b65bd);})['put'](this[_0x29a42b(0x5b7)](_0x29a42b(0x2ae)),..._0x33617b,async(_0x4c3d4d,_0x2393b4)=>{const _0x5a7693=_0x29a42b;let _0x1bf842=await this['groupValidate']({'request':_0x4c3d4d,'schema':ui,'ClassRef':mt,'execute':(_0x1ae00e,_0x6f7a71)=>q[_0x5a7693(0x2ae)](_0x1ae00e,_0x6f7a71)});_0x2393b4[_0x5a7693(0x3ae)](0xc9)['json'](_0x1bf842);})[_0x29a42b(0x748)](this[_0x29a42b(0x5b7)](_0x29a42b(0x260)),..._0x33617b,async(_0x179e90,_0x13512f)=>{const _0x1d32b3=_0x29a42b;let _0x37dcfe=await this[_0x1d32b3(0x6c8)]({'request':_0x179e90,'schema':li,'ClassRef':gt,'execute':(_0x281901,_0x3ec1bb)=>q[_0x1d32b3(0x260)](_0x281901,_0x3ec1bb)});_0x13512f[_0x1d32b3(0x3ae)](0xc9)[_0x1d32b3(0x365)](_0x37dcfe);})['put'](this['routerPath'](_0x29a42b(0x88c)),..._0x33617b,async(_0x36b8fd,_0x556e4c)=>{const _0x44e3e8=_0x29a42b;let _0x8f1671=await this[_0x44e3e8(0x6c8)]({'request':_0x36b8fd,'schema':oi,'ClassRef':wt,'execute':(_0x4524e4,_0x29fa0a)=>q[_0x44e3e8(0x88c)](_0x4524e4,_0x29fa0a)});_0x556e4c[_0x44e3e8(0x3ae)](0xc9)['json'](_0x8f1671);})['get'](this['routerPath'](_0x29a42b(0x4f9)),..._0x33617b,async(_0x28b87f,_0x4f5ec5)=>{const _0x1281dc=_0x29a42b;let _0x12fc18=await this[_0x1281dc(0x6c8)]({'request':_0x28b87f,'schema':xe,'ClassRef':ee,'execute':(_0x2f2889,_0x2b9c55)=>q[_0x1281dc(0x37e)](_0x2f2889,_0x2b9c55)});_0x4f5ec5[_0x1281dc(0x3ae)](0xc8)[_0x1281dc(0x365)](_0x12fc18);})[_0x29a42b(0x1fe)](this['routerPath'](_0x29a42b(0x698)),..._0x33617b,async(_0x11a660,_0xcf152e)=>{const _0x57c796=_0x29a42b;let _0x12ce60=await this['dataValidate']({'request':_0x11a660,'schema':E,'ClassRef':M,'execute':_0x386a54=>q[_0x57c796(0x698)](_0x386a54)});_0xcf152e['status'](0xc8)[_0x57c796(0x365)](_0x12ce60);})[_0x29a42b(0x1fe)](this[_0x29a42b(0x5b7)](_0x29a42b(0x8e4)),..._0x33617b,async(_0x4724d1,_0x2a8f2f)=>{let _0x2ecad2=await this['groupValidate']({'request':_0x4724d1,'schema':xe,'ClassRef':ee,'execute':(_0x9a0173,_0x40e236)=>q['findParticipants'](_0x9a0173,_0x40e236)});_0x2a8f2f['status'](0xc8)['json'](_0x2ecad2);})[_0x29a42b(0x1fe)](this[_0x29a42b(0x5b7)]('inviteCode'),..._0x33617b,async(_0x4853c9,_0x3866af)=>{const _0x51feda=_0x29a42b;let _0x5b2d5e=await this[_0x51feda(0x6c8)]({'request':_0x4853c9,'schema':xe,'ClassRef':ee,'execute':(_0xba7a14,_0x10f29e)=>q['inviteCode'](_0xba7a14,_0x10f29e)});_0x3866af[_0x51feda(0x3ae)](0xc8)['json'](_0x5b2d5e);})['post'](this[_0x29a42b(0x5b7)](_0x29a42b(0x251)),..._0x33617b,async(_0x3e530b,_0x32a4d8)=>{const _0x1b1e4e=_0x29a42b;let _0x289689=await this[_0x1b1e4e(0x2b2)]({'request':_0x3e530b,'schema':Ns,'ClassRef':Pe,'execute':(_0x108207,_0x333524)=>q[_0x1b1e4e(0x8fe)](_0x108207,_0x333524)});_0x32a4d8[_0x1b1e4e(0x3ae)](0xc9)['json'](_0x289689);})[_0x29a42b(0x748)](this[_0x29a42b(0x5b7)](_0x29a42b(0x53a)),..._0x33617b,async(_0x7e50f8,_0x54a601)=>{const _0x1b4569=_0x29a42b;let _0x46dcd0=await this[_0x1b4569(0x2b2)]({'request':_0x7e50f8,'schema':Ns,'ClassRef':Pe,'execute':(_0x2a6e8e,_0x468ff9)=>q[_0x1b4569(0x53a)](_0x2a6e8e,_0x468ff9)});_0x54a601[_0x1b4569(0x3ae)](0xc9)[_0x1b4569(0x365)](_0x46dcd0);})[_0x29a42b(0x748)](this[_0x29a42b(0x5b7)](_0x29a42b(0x485)),..._0x33617b,async(_0x2b3a51,_0x465be9)=>{const _0x5eae8f=_0x29a42b;let _0xae7f82=await this[_0x5eae8f(0x6c8)]({'request':_0x2b3a51,'schema':xe,'ClassRef':ee,'execute':(_0x93a105,_0x278b05)=>q[_0x5eae8f(0x485)](_0x93a105,_0x278b05)});_0x465be9[_0x5eae8f(0x3ae)](0xc9)[_0x5eae8f(0x365)](_0xae7f82);})[_0x29a42b(0x748)](this[_0x29a42b(0x5b7)](_0x29a42b(0x316)),..._0x33617b,async(_0x3c7a26,_0x38f573)=>{const _0x108c0b=_0x29a42b;let _0xecf4c7=await this[_0x108c0b(0x6c8)]({'request':_0x3c7a26,'schema':ii,'ClassRef':ft,'execute':(_0xb1120f,_0x3decf9)=>q[_0x108c0b(0x7af)](_0xb1120f,_0x3decf9)});_0x38f573[_0x108c0b(0x3ae)](0xc9)[_0x108c0b(0x365)](_0xecf4c7);})[_0x29a42b(0x221)](this[_0x29a42b(0x5b7)]('leaveGroup'),..._0x33617b,async(_0x12f339,_0x3bd078)=>{const _0x170f61=_0x29a42b;let _0x24d464=await this['groupValidate']({'request':_0x12f339,'schema':{},'ClassRef':ee,'execute':(_0x656673,_0x5f0c26)=>q[_0x170f61(0x41f)](_0x656673,_0x5f0c26)});_0x3bd078[_0x170f61(0x3ae)](0xc8)['json'](_0x24d464);});}},gi=require(a0_0x5c0bdf(0x6e8)),bt=class extends V{constructor(_0x56bb72,..._0x73adbb){const _0x30bc69=a0_0x5c0bdf;super(),this[_0x30bc69(0x247)]=_0x56bb72,this[_0x30bc69(0x88f)]=(0x0,gi[_0x30bc69(0x51a)])();let _0x2cd13c=_0x56bb72[_0x30bc69(0x1fe)](_0x30bc69(0x206));this[_0x30bc69(0x88f)][_0x30bc69(0x6ce)](_0x30bc69(0x4bf),..._0x73adbb,async(_0x396c15,_0x3f4a1d)=>{const _0x3ae462=_0x30bc69;let {instanceName:_0x4c130b,apikey:_0x4581a2,number:_0x397dc3}=_0x396c15[_0x3ae462(0x72e)],_0x45adf5=await le[_0x3ae462(0x71f)]({'instanceName':_0x4c130b,'apikey':_0x4581a2,'number':_0x397dc3});return _0x3f4a1d[_0x3ae462(0x3ae)](0xc9)['json'](_0x45adf5);})[_0x30bc69(0x748)](this[_0x30bc69(0x5b7)](_0x30bc69(0x408)),..._0x73adbb,async(_0x29064a,_0x472d46)=>{const _0x1f3fdd=_0x30bc69;let _0x1fd8a0=await this[_0x1f3fdd(0x3ba)]({'request':_0x29064a,'schema':E,'ClassRef':M,'execute':_0x1218a7=>le[_0x1f3fdd(0x851)](_0x1218a7)});return _0x472d46[_0x1f3fdd(0x3ae)](0xc8)[_0x1f3fdd(0x365)](_0x1fd8a0);})['get'](this[_0x30bc69(0x5b7)](_0x30bc69(0x76c)),..._0x73adbb,async(_0x55b6bd,_0x4b26d9)=>{const _0x54ef96=_0x30bc69;let _0x3389ab=await this[_0x54ef96(0x3ba)]({'request':_0x55b6bd,'schema':E,'ClassRef':M,'execute':_0x57f7d3=>le[_0x54ef96(0x826)](_0x57f7d3)});return _0x4b26d9[_0x54ef96(0x3ae)](0xc8)[_0x54ef96(0x365)](_0x3389ab);})['get'](this['routerPath'](_0x30bc69(0x22f)),..._0x73adbb,async(_0x1f06f0,_0x1e7079)=>{const _0x19ad90=_0x30bc69;let _0x2437b2=await this['dataValidate']({'request':_0x1f06f0,'schema':E,'ClassRef':M,'execute':_0x4c01ad=>le['connectionState'](_0x4c01ad)});return _0x1e7079[_0x19ad90(0x3ae)](0xc8)[_0x19ad90(0x365)](_0x2437b2);})[_0x30bc69(0x1fe)](this[_0x30bc69(0x5b7)](_0x30bc69(0x29a),!0x1),..._0x73adbb,async(_0x4e9125,_0x3f68f3)=>{const _0x371335=_0x30bc69;let _0x10f6fd=await this['dataValidate']({'request':_0x4e9125,'schema':null,'ClassRef':M,'execute':_0x32d04f=>le['fetchInstances'](_0x32d04f)});return _0x3f68f3[_0x371335(0x3ae)](0xc8)[_0x371335(0x365)](_0x10f6fd);})[_0x30bc69(0x221)](this[_0x30bc69(0x5b7)](_0x30bc69(0x8a4)),..._0x73adbb,async(_0x146422,_0x43f64d)=>{const _0x38aacf=_0x30bc69;let _0x55de24=await this[_0x38aacf(0x3ba)]({'request':_0x146422,'schema':E,'ClassRef':M,'execute':_0x57bdf7=>le[_0x38aacf(0x8a4)](_0x57bdf7)});return _0x43f64d[_0x38aacf(0x3ae)](0xc8)['json'](_0x55de24);})[_0x30bc69(0x221)](this[_0x30bc69(0x5b7)]('delete'),..._0x73adbb,async(_0x4a1722,_0x36d8b2)=>{const _0x2b67f9=_0x30bc69;let _0x108dc1=await this[_0x2b67f9(0x3ba)]({'request':_0x4a1722,'schema':E,'ClassRef':M,'execute':_0x18138b=>le['deleteInstance'](_0x18138b)});return _0x36d8b2['status'](0xc8)[_0x2b67f9(0x365)](_0x108dc1);});}},mi=require('express'),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},De=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x395aa8){const _0x33618d=a0_0x5c0bdf;super(),this['router']=(0x0,mi[_0x33618d(0x51a)])(),this[_0x33618d(0x88f)][_0x33618d(0x6ce)](this[_0x33618d(0x5b7)]('sendText'),..._0x395aa8,async(_0x48990d,_0x363197)=>{const _0x970219=_0x33618d;let _0x8de570=await this['dataValidate']({'request':_0x48990d,'schema':Pa,'ClassRef':St,'execute':(_0x22fe49,_0x18f492)=>B[_0x970219(0x68c)](_0x22fe49,_0x18f492)});return _0x363197['status'](0xc9)[_0x970219(0x365)](_0x8de570);})['post'](this['routerPath'](_0x33618d(0x296)),..._0x395aa8,async(_0x168ba4,_0x4107ff)=>{const _0x28c092=_0x33618d;let _0x3944df=await this[_0x28c092(0x3ba)]({'request':_0x168ba4,'schema':Fa,'ClassRef':De,'execute':(_0x4a6dc4,_0x25bac0)=>B[_0x28c092(0x296)](_0x4a6dc4,_0x25bac0)});return _0x4107ff[_0x28c092(0x3ae)](0xc9)[_0x28c092(0x365)](_0x3944df);})[_0x33618d(0x6ce)](this['routerPath'](_0x33618d(0x508)),..._0x395aa8,async(_0x53bf21,_0x476fd4)=>{const _0x5cb7c7=_0x33618d;let _0x3a0ad5=await this[_0x5cb7c7(0x3ba)]({'request':_0x53bf21,'schema':Ja,'ClassRef':vt,'execute':(_0x41d017,_0x17d1f6)=>B['sendMenu'](_0x41d017,_0x17d1f6)});return _0x476fd4['status'](0xc9)[_0x5cb7c7(0x365)](_0x3a0ad5);})[_0x33618d(0x6ce)](this[_0x33618d(0x5b7)](_0x33618d(0x33b)),..._0x395aa8,async(_0x920474,_0x25e15f)=>{const _0x55895a=_0x33618d;let _0xdf0b79=await this['dataValidate']({'request':_0x920474,'schema':Ua,'ClassRef':De,'execute':(_0x2cfbad,_0x11b73f)=>B[_0x55895a(0x33b)](_0x2cfbad,_0x11b73f)});return _0x25e15f[_0x55895a(0x3ae)](0xc9)[_0x55895a(0x365)](_0xdf0b79);})[_0x33618d(0x6ce)](this['routerPath']('sendLocation'),..._0x395aa8,async(_0x31748c,_0x7efd50)=>{const _0x29340a=_0x33618d;let _0x40f96d=await this[_0x29340a(0x3ba)]({'request':_0x31748c,'schema':qa,'ClassRef':Nt,'execute':(_0x59489f,_0x5a46bd)=>B[_0x29340a(0x809)](_0x59489f,_0x5a46bd)});return _0x7efd50[_0x29340a(0x3ae)](0xc9)[_0x29340a(0x365)](_0x40f96d);})[_0x33618d(0x6ce)](this[_0x33618d(0x5b7)](_0x33618d(0x652)),..._0x395aa8,async(_0x346bdf,_0x3caa6d)=>{const _0x2824b9=_0x33618d;let _0x528981=await this[_0x2824b9(0x3ba)]({'request':_0x346bdf,'schema':Va,'ClassRef':$t,'execute':(_0x15e1e3,_0x167795)=>B['sendList'](_0x15e1e3,_0x167795)});return _0x3caa6d[_0x2824b9(0x3ae)](0xc9)[_0x2824b9(0x365)](_0x528981);})[_0x33618d(0x6ce)](this['routerPath'](_0x33618d(0x6f6)),..._0x395aa8,async(_0x2450a9,_0x2e379d)=>{const _0x34f18b=_0x33618d;let _0x294914=await this[_0x34f18b(0x3ba)]({'request':_0x2450a9,'schema':Ga,'ClassRef':Rt,'execute':(_0x57d140,_0x20c4c0)=>B[_0x34f18b(0x6f6)](_0x57d140,_0x20c4c0)});return _0x2e379d[_0x34f18b(0x3ae)](0xc9)[_0x34f18b(0x365)](_0x294914);})[_0x33618d(0x6ce)](this[_0x33618d(0x5b7)](_0x33618d(0x3a1)),..._0x395aa8,async(_0x12a2b0,_0x292b1f)=>{const _0x33ba6f=_0x33618d;let _0x408974=await this[_0x33ba6f(0x3ba)]({'request':_0x12a2b0,'schema':Ba,'ClassRef':At,'execute':(_0x9ce8a2,_0x34ffbe)=>B['sendReaction'](_0x9ce8a2,_0x34ffbe)});return _0x292b1f[_0x33ba6f(0x3ae)](0xc9)[_0x33ba6f(0x365)](_0x408974);})['post'](this[_0x33618d(0x5b7)](_0x33618d(0x2c2)),..._0x395aa8,async(_0x398068,_0x5744e6)=>{const _0x300480=_0x33618d;let _0x1b1c1e=await this[_0x300480(0x3ba)]({'request':_0x398068,'schema':ja,'ClassRef':Ct,'execute':(_0x58736d,_0x2bd57d)=>B[_0x300480(0x2c2)](_0x58736d,_0x2bd57d)});return _0x5744e6[_0x300480(0x3ae)](0xc9)['json'](_0x1b1c1e);})[_0x33618d(0x6ce)](this[_0x33618d(0x5b7)]('sendStatus'),..._0x395aa8,async(_0x5f4bc5,_0x4f26f1)=>{const _0x2adbe8=_0x33618d;let _0x3a48e5=await this['dataValidate']({'request':_0x5f4bc5,'schema':La,'ClassRef':Mt,'execute':(_0x1d6804,_0x5491b1)=>B[_0x2adbe8(0x2b8)](_0x1d6804,_0x5491b1)});return _0x4f26f1[_0x2adbe8(0x3ae)](0xc9)['json'](_0x3a48e5);})[_0x33618d(0x6ce)](this[_0x33618d(0x5b7)](_0x33618d(0x791)),..._0x395aa8,async(_0x2c4a23,_0x5acaa7)=>{const _0x32e68a=_0x33618d;let _0x4ef8b0=await this['dataValidate']({'request':_0x2c4a23,'schema':ka,'ClassRef':Et,'execute':(_0xeb29a8,_0x2478cc)=>B[_0x32e68a(0x791)](_0xeb29a8,_0x2478cc)});return _0x5acaa7[_0x32e68a(0x3ae)](0xc9)[_0x32e68a(0x365)](_0x4ef8b0);});}},fi=require('express'),It=class{},_t=class extends V{constructor(..._0x465439){const _0x5367d1=a0_0x5c0bdf;super(),this[_0x5367d1(0x88f)]=(0x0,fi[_0x5367d1(0x51a)])(),this[_0x5367d1(0x88f)][_0x5367d1(0x6ce)](this[_0x5367d1(0x5b7)]('set'),..._0x465439,async(_0x14a7e2,_0x553e83)=>{const _0x45c706=_0x5367d1;let _0x4ac13a=await this['dataValidate']({'request':_0x14a7e2,'schema':di,'ClassRef':It,'execute':(_0x180e59,_0x59ac14)=>As['createWebhook'](_0x180e59,_0x59ac14)});_0x553e83[_0x45c706(0x3ae)](0xc9)['json'](_0x4ac13a);})['get'](this[_0x5367d1(0x5b7)](_0x5367d1(0x50f)),..._0x465439,async(_0x4b2048,_0x3c01d0)=>{const _0x30abc6=_0x5367d1;let _0x351c62=await this[_0x30abc6(0x3ba)]({'request':_0x4b2048,'schema':E,'ClassRef':M,'execute':_0x4886e0=>As[_0x30abc6(0x478)](_0x4886e0)});_0x3c01d0[_0x30abc6(0x3ae)](0xc8)['json'](_0x351c62);});}},wi=require(a0_0x5c0bdf(0x6e8)),y=new $('FlowRouter'),Ot=class extends V{constructor(..._0x29a21a){const _0x26cd32=a0_0x5c0bdf;super(),this[_0x26cd32(0x88f)]=(0x0,wi['Router'])(),this['router'][_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)]('scheduleMessage'),..._0x29a21a,async(_0x363d55,_0x4723b8)=>{const _0x52df05=_0x26cd32;let _0x451f2a=_0x363d55[_0x52df05(0x72e)];y[_0x52df05(0x8af)](_0x52df05(0x4c7)),y[_0x52df05(0x8af)](_0x52df05(0x639)),y[_0x52df05(0x8af)](_0x363d55[_0x52df05(0x72e)]);let _0x5babed=await this['dataValidate']({'request':_0x363d55,'schema':E,'ClassRef':M,'execute':_0x1a0b4c=>_[_0x52df05(0x29b)](_0x1a0b4c,_0x451f2a)});_0x4723b8[_0x52df05(0x3ae)](0xc8)[_0x52df05(0x365)](_0x5babed);})[_0x26cd32(0x1fe)](this['routerPath']('scheduleMessage'),..._0x29a21a,async(_0x120284,_0x25a536)=>{const _0x322830=_0x26cd32;let _0x422173=await this[_0x322830(0x3ba)]({'request':_0x120284,'schema':E,'ClassRef':M,'execute':_0x143476=>_[_0x322830(0x46e)](_0x143476)});_0x25a536['status'](0xc8)[_0x322830(0x365)](_0x422173);})[_0x26cd32(0x221)](this[_0x26cd32(0x5b7)]('deleteDoneMessages'),..._0x29a21a,async(_0x13ca3e,_0x4f9e91)=>{const _0x3e2dec=_0x26cd32;y['verbose'](_0x3e2dec(0x8fd));let _0x3af4a8=await this[_0x3e2dec(0x3ba)]({'request':_0x13ca3e,'schema':E,'ClassRef':M,'execute':_0x28b0e3=>_[_0x3e2dec(0x7f1)](_0x28b0e3)});_0x4f9e91[_0x3e2dec(0x3ae)](0xc8)[_0x3e2dec(0x365)](_0x3af4a8);})[_0x26cd32(0x221)](this[_0x26cd32(0x5b7)](_0x26cd32(0x74b)),..._0x29a21a,async(_0x3e9a2f,_0x5963df)=>{const _0x4bca21=_0x26cd32;y['verbose'](_0x4bca21(0x863));let _0x4a1056=await this[_0x4bca21(0x3ba)]({'request':_0x3e9a2f,'schema':E,'ClassRef':M,'execute':_0xf94f4e=>_[_0x4bca21(0x74b)](_0xf94f4e)});_0x5963df['status'](0xc8)[_0x4bca21(0x365)](_0x4a1056);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x90e)),..._0x29a21a,async(_0x3172c2,_0x34d324)=>{const _0x2ea11f=_0x26cd32;let _0x119634=_0x3172c2[_0x2ea11f(0x72e)];y[_0x2ea11f(0x8af)](_0x2ea11f(0x862)),y[_0x2ea11f(0x8af)](_0x2ea11f(0x639)),y[_0x2ea11f(0x8af)](_0x3172c2[_0x2ea11f(0x72e)]);let _0x87be90=await this[_0x2ea11f(0x3ba)]({'request':_0x3172c2,'schema':E,'ClassRef':M,'execute':_0xfd667b=>_['startFlow'](_0xfd667b,_0x119634)});_0x34d324['status'](0xc8)[_0x2ea11f(0x365)](_0x87be90);})[_0x26cd32(0x1fe)](this['routerPath']('getAutomateSystem'),..._0x29a21a,async(_0x2e705d,_0xf11183)=>{const _0x3f3f7a=_0x26cd32;y[_0x3f3f7a(0x8af)](_0x3f3f7a(0x28b));let _0x4f6df3=await this['dataValidate']({'request':_0x2e705d,'schema':E,'ClassRef':M,'execute':_0xb11ba9=>_['getAutomateSystem'](_0xb11ba9)});_0xf11183['status'](0xc8)['json'](_0x4f6df3);})['get'](this['routerPath'](_0x26cd32(0x25c)),..._0x29a21a,async(_0x28af9f,_0x296997)=>{const _0x434886=_0x26cd32;y['verbose'](_0x434886(0x752));let _0x3b2ae2=await this[_0x434886(0x3ba)]({'request':_0x28af9f,'schema':E,'ClassRef':M,'execute':_0x4935fd=>_['getAutomateSystem'](_0x4935fd)});_0x296997[_0x434886(0x3ae)](0xc8)[_0x434886(0x365)](_0x3b2ae2);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x609)),..._0x29a21a,async(_0x3161e5,_0x248f87)=>{const _0x4496a0=_0x26cd32;let _0x142964=_0x3161e5[_0x4496a0(0x72e)];y[_0x4496a0(0x8af)]('request\x20received\x20in\x20updateAgent'),y[_0x4496a0(0x8af)](_0x4496a0(0x639)),y[_0x4496a0(0x8af)](_0x3161e5['body']);let _0x55d3bb=await this[_0x4496a0(0x3ba)]({'request':_0x3161e5,'schema':E,'ClassRef':M,'execute':_0x306e80=>_['updateAgent'](_0x306e80,_0x142964)});_0x248f87[_0x4496a0(0x3ae)](0xc8)['json'](_0x55d3bb);})['post'](this['routerPath'](_0x26cd32(0x6f5)),..._0x29a21a,async(_0x42f0f7,_0x56fa1c)=>{const _0x2cac61=_0x26cd32;let _0x4d9613=_0x42f0f7[_0x2cac61(0x72e)];y[_0x2cac61(0x8af)](_0x2cac61(0x2c9)),y[_0x2cac61(0x8af)](_0x2cac61(0x639)),y[_0x2cac61(0x8af)](_0x42f0f7['body']);let _0x270c73=await this[_0x2cac61(0x3ba)]({'request':_0x42f0f7,'schema':E,'ClassRef':M,'execute':_0x39f895=>_[_0x2cac61(0x6f5)](_0x39f895,_0x4d9613)});_0x56fa1c[_0x2cac61(0x3ae)](0xc8)[_0x2cac61(0x365)](_0x270c73);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x6b8)),..._0x29a21a,async(_0x358a31,_0x23fe62)=>{const _0xe67c55=_0x26cd32;let _0x57c266=_0x358a31[_0xe67c55(0x72e)];y[_0xe67c55(0x8af)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0xe67c55(0x8af)](_0xe67c55(0x639)),y[_0xe67c55(0x8af)](_0x358a31[_0xe67c55(0x72e)]);let _0x12da55=await this['dataValidate']({'request':_0x358a31,'schema':E,'ClassRef':M,'execute':_0xd0b5ae=>_[_0xe67c55(0x6b8)](_0xd0b5ae,_0x57c266)});_0x23fe62[_0xe67c55(0x3ae)](0xc8)['json'](_0x12da55);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x718)),..._0x29a21a,async(_0xc358cf,_0x2453f8)=>{const _0x58d645=_0x26cd32;let _0x2156bf=_0xc358cf[_0x58d645(0x72e)];y[_0x58d645(0x8af)](_0x58d645(0x428)),y[_0x58d645(0x8af)](_0x58d645(0x639)),y[_0x58d645(0x8af)](_0xc358cf[_0x58d645(0x72e)]);let _0x560815=await this[_0x58d645(0x3ba)]({'request':_0xc358cf,'schema':E,'ClassRef':M,'execute':_0x249bca=>_['updateFlowConfig'](_0x249bca,_0x2156bf)});_0x2453f8[_0x58d645(0x3ae)](0xc8)[_0x58d645(0x365)](_0x560815);})['post'](this['routerPath'](_0x26cd32(0x3e5)),..._0x29a21a,async(_0x19aba4,_0x29197c)=>{const _0x577181=_0x26cd32;let _0x58621e=_0x19aba4[_0x577181(0x72e)];y[_0x577181(0x8af)]('request\x20received\x20in\x20getConversation'),y[_0x577181(0x8af)](_0x577181(0x639)),y[_0x577181(0x8af)](_0x19aba4['body']);let _0x11d09f=await this['dataValidate']({'request':_0x19aba4,'schema':E,'ClassRef':M,'execute':_0x123695=>_[_0x577181(0x3e5)](_0x123695,_0x58621e)});_0x29197c[_0x577181(0x3ae)](0xc8)[_0x577181(0x365)](_0x11d09f);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x6cd)),..._0x29a21a,async(_0x584e23,_0x408174)=>{const _0x3ee111=_0x26cd32;let _0x5496ca=_0x584e23[_0x3ee111(0x72e)];y['verbose']('request\x20received\x20in\x20fetchConversation'),y[_0x3ee111(0x8af)](_0x3ee111(0x639)),y[_0x3ee111(0x8af)](_0x584e23[_0x3ee111(0x72e)]);let _0xc5a9fb=await this['dataValidate']({'request':_0x584e23,'schema':E,'ClassRef':M,'execute':_0x234fda=>_['fetchConversation'](_0x234fda,_0x5496ca)});_0x408174[_0x3ee111(0x3ae)](0xc8)[_0x3ee111(0x365)](_0xc5a9fb);})['post'](this[_0x26cd32(0x5b7)](_0x26cd32(0x47c)),..._0x29a21a,async(_0xe3609,_0x34951d)=>{const _0x386075=_0x26cd32;let _0x461a34=_0xe3609[_0x386075(0x72e)];y[_0x386075(0x8af)](_0x386075(0x771)),y[_0x386075(0x8af)](_0x386075(0x639)),y[_0x386075(0x8af)](_0xe3609[_0x386075(0x72e)]);let _0xf7544b=await this['dataValidate']({'request':_0xe3609,'schema':E,'ClassRef':M,'execute':_0x30d3e2=>_[_0x386075(0x47c)](_0x30d3e2,_0x461a34)});_0x34951d[_0x386075(0x3ae)](0xc8)[_0x386075(0x365)](_0xf7544b);})[_0x26cd32(0x221)](this['routerPath'](_0x26cd32(0x607)),..._0x29a21a,async(_0x44d861,_0x54ff60)=>{const _0x84081c=_0x26cd32;let _0x3f54a6=_0x44d861[_0x84081c(0x72e)];y['verbose'](_0x84081c(0x931)),y[_0x84081c(0x8af)]('request\x20body:\x20'),y[_0x84081c(0x8af)](_0x44d861[_0x84081c(0x72e)]);let _0x2a6024=await this['dataValidate']({'request':_0x44d861,'schema':E,'ClassRef':M,'execute':_0x57d75e=>_[_0x84081c(0x607)](_0x57d75e,_0x3f54a6)});_0x54ff60[_0x84081c(0x3ae)](0xc8)['json'](_0x2a6024);})[_0x26cd32(0x6ce)](this['routerPath'](_0x26cd32(0x49c)),..._0x29a21a,async(_0x1c348,_0x4cbaf3)=>{const _0x39e88a=_0x26cd32;let _0x238b9=_0x1c348[_0x39e88a(0x72e)],_0x5a6d7b=_0x1c348[_0x39e88a(0x338)][_0x39e88a(0x692)];y['verbose'](_0x39e88a(0x3c6)),y[_0x39e88a(0x8af)](_0x39e88a(0x639)),y[_0x39e88a(0x8af)](_0x1c348[_0x39e88a(0x72e)]);let _0x5ccebd=await this['dataValidate']({'request':_0x1c348,'schema':E,'ClassRef':M,'execute':_0x5b08b6=>_[_0x39e88a(0x48e)](_0x5b08b6,_0x238b9,_0x5a6d7b)});_0x4cbaf3[_0x39e88a(0x3ae)](0xc8)['json'](_0x5ccebd);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)]('editflow'),..._0x29a21a,async(_0x314225,_0x5d1c59)=>{const _0x56c833=_0x26cd32;let _0x1393e1=_0x314225[_0x56c833(0x72e)],_0x1176f3=_0x314225['headers'][_0x56c833(0x692)];y[_0x56c833(0x8af)](_0x56c833(0x6bd)),y['verbose'](_0x56c833(0x639)),y[_0x56c833(0x8af)](_0x314225[_0x56c833(0x72e)]),delete _0x1393e1[_0x56c833(0x234)],delete _0x1393e1['variables'],delete _0x1393e1[_0x56c833(0x831)],delete _0x1393e1[_0x56c833(0x48f)];let _0x3e0cfc=await this['dataValidate']({'request':_0x314225,'schema':E,'ClassRef':M,'execute':_0x2f0cf9=>_[_0x56c833(0x58a)](_0x2f0cf9,_0x1393e1,_0x1176f3)});_0x5d1c59[_0x56c833(0x3ae)](0xc8)['json'](_0x3e0cfc);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x2ee)),..._0x29a21a,async(_0x5ac2f5,_0x17105b)=>{const _0x22f0ad=_0x26cd32;let _0x263663=_0x5ac2f5['body'];y[_0x22f0ad(0x8af)](_0x22f0ad(0x6bd)),y[_0x22f0ad(0x8af)]('request\x20body:\x20'),y[_0x22f0ad(0x8af)](_0x5ac2f5['body']);let _0x144025=await this[_0x22f0ad(0x3ba)]({'request':_0x5ac2f5,'schema':E,'ClassRef':M,'execute':_0x2c4c4d=>_[_0x22f0ad(0x232)](_0x2c4c4d,_0x263663)});_0x17105b[_0x22f0ad(0x3ae)](0xc8)[_0x22f0ad(0x365)](_0x144025);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x1cb)),..._0x29a21a,async(_0x1ed849,_0x1da23d)=>{const _0x36b91a=_0x26cd32;let _0x3c5444=_0x1ed849[_0x36b91a(0x72e)];y[_0x36b91a(0x8af)](_0x36b91a(0x6bd)),y[_0x36b91a(0x8af)](_0x36b91a(0x639)),y[_0x36b91a(0x8af)](_0x1ed849[_0x36b91a(0x72e)]);let _0xc78488=await this[_0x36b91a(0x3ba)]({'request':_0x1ed849,'schema':E,'ClassRef':M,'execute':_0xb578f0=>_[_0x36b91a(0x33f)](_0xb578f0,_0x3c5444)});_0x1da23d['status'](0xc8)['json'](_0xc78488);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)]('editflowvaredit'),..._0x29a21a,async(_0x4bbc53,_0x4ed804)=>{const _0x1277cf=_0x26cd32;let _0x493abe=_0x4bbc53[_0x1277cf(0x72e)];y[_0x1277cf(0x8af)]('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y[_0x1277cf(0x8af)](_0x4bbc53[_0x1277cf(0x72e)]);let _0x3fb61b=await this[_0x1277cf(0x3ba)]({'request':_0x4bbc53,'schema':E,'ClassRef':M,'execute':_0x3ee266=>_[_0x1277cf(0x344)](_0x3ee266,_0x493abe)});_0x4ed804['status'](0xc8)[_0x1277cf(0x365)](_0x3fb61b);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x681)),..._0x29a21a,async(_0x3d567e,_0x11faa5)=>{const _0x543912=_0x26cd32;let _0x2f27fc=_0x3d567e['body'];y[_0x543912(0x8af)]('request\x20received\x20in\x20editFlowgroup'),y[_0x543912(0x8af)](_0x543912(0x639)),y[_0x543912(0x8af)](_0x3d567e[_0x543912(0x72e)]);let _0x20a047=await this['dataValidate']({'request':_0x3d567e,'schema':E,'ClassRef':M,'execute':_0x265fc9=>_['editFlowGroup'](_0x265fc9,_0x2f27fc)});_0x11faa5[_0x543912(0x3ae)](0xc8)[_0x543912(0x365)](_0x20a047);})[_0x26cd32(0x6ce)](this['routerPath'](_0x26cd32(0x87b)),..._0x29a21a,async(_0x4bb10e,_0x8f07e5)=>{const _0x2bcf9c=_0x26cd32;let _0x520c6c=_0x4bb10e['body'];y[_0x2bcf9c(0x8af)]('request\x20received\x20in\x20editFlowcondition'),y[_0x2bcf9c(0x8af)]('request\x20body:\x20'),y[_0x2bcf9c(0x8af)](_0x4bb10e[_0x2bcf9c(0x72e)]);let _0xedda7d=await this[_0x2bcf9c(0x3ba)]({'request':_0x4bb10e,'schema':E,'ClassRef':M,'execute':_0x295fee=>_[_0x2bcf9c(0x699)](_0x295fee,_0x520c6c)});_0x8f07e5['status'](0xc8)[_0x2bcf9c(0x365)](_0xedda7d);})['post'](this[_0x26cd32(0x5b7)](_0x26cd32(0x634)),..._0x29a21a,async(_0x1c0f0e,_0x5ccc00)=>{const _0x2bcab0=_0x26cd32;let _0x1b3b8d=_0x1c0f0e['body'];y[_0x2bcab0(0x8af)](_0x2bcab0(0x888)),y['verbose'](_0x2bcab0(0x639)),y[_0x2bcab0(0x8af)](_0x1c0f0e['body']);let _0x1b4abc=await this[_0x2bcab0(0x3ba)]({'request':_0x1c0f0e,'schema':E,'ClassRef':M,'execute':_0x5c4508=>_['editFlowVariable'](_0x5c4508,_0x1b3b8d)});_0x5ccc00[_0x2bcab0(0x3ae)](0xc8)[_0x2bcab0(0x365)](_0x1b4abc);})[_0x26cd32(0x6ce)](this[_0x26cd32(0x5b7)](_0x26cd32(0x720)),..._0x29a21a,async(_0x325510,_0x531648)=>{const _0x354f93=_0x26cd32;let _0x3cba28=_0x325510[_0x354f93(0x72e)];y[_0x354f93(0x8af)](_0x354f93(0x6e6)),y[_0x354f93(0x8af)]('request\x20body:\x20'),y[_0x354f93(0x8af)](_0x325510['body']);let _0x5e41dc=await this[_0x354f93(0x3ba)]({'request':_0x325510,'schema':E,'ClassRef':M,'execute':_0x3c2d9b=>_[_0x354f93(0x1d2)](_0x3c2d9b,_0x3cba28)});_0x531648[_0x354f93(0x3ae)](0xc8)[_0x354f93(0x365)](_0x5e41dc);})['delete'](this[_0x26cd32(0x5b7)](_0x26cd32(0x1f9)),..._0x29a21a,async(_0x1c7def,_0xd9d78f)=>{const _0x5b3259=_0x26cd32;let _0x4c500b=_0x1c7def[_0x5b3259(0x72e)];y['verbose'](_0x5b3259(0x427)),y['verbose'](_0x5b3259(0x639)),y[_0x5b3259(0x8af)](_0x1c7def[_0x5b3259(0x72e)]);let _0x22636d=await this[_0x5b3259(0x3ba)]({'request':_0x1c7def,'schema':E,'ClassRef':M,'execute':_0x1f4df8=>_['deleteFlow'](_0x1f4df8,_0x4c500b)});_0xd9d78f[_0x5b3259(0x3ae)](0xc8)[_0x5b3259(0x365)](_0x22636d);})['get'](this[_0x26cd32(0x5b7)]('allflows'),..._0x29a21a,async(_0xc062d6,_0xf5f157)=>{const _0x5c0842=_0x26cd32;y[_0x5c0842(0x8af)](_0x5c0842(0x7c4));let _0xd9aa63=await this['dataValidate']({'request':_0xc062d6,'schema':E,'ClassRef':M,'execute':_0x23bf9a=>_[_0x5c0842(0x4dc)](_0x23bf9a)});_0xf5f157[_0x5c0842(0x3ae)](0xc8)[_0x5c0842(0x365)](_0xd9aa63);});}},Mi=I(require(a0_0x5c0bdf(0x245))),te={};function yi(_0x3f6803,_0x3f8e80,_0x96a774,_0x523fa0){te[_0x3f6803]||(te[_0x3f6803]={}),te[_0x3f6803][_0x3f8e80]={'id':_0x3f8e80,'response':_0x96a774,'events':_0x523fa0};}function bi(_0x5025a1,_0x54ddda){!te[_0x5025a1]||!te[_0x5025a1][_0x54ddda]||delete te[_0x5025a1][_0x54ddda];}function F(_0x2daf3c,_0x563575,_0x18343d){const _0x12438a=a0_0x5c0bdf;if(!te[_0x2daf3c])return;let _0x1298cb='data:\x20'+JSON[_0x12438a(0x86d)](_0x18343d)+'\x0a\x0a';Object[_0x12438a(0x60a)](te[_0x2daf3c])[_0x12438a(0x91c)](_0x14771f=>{const _0x2f8bd0=_0x12438a;_0x14771f[_0x2f8bd0(0x395)]['includes'](_0x563575)&&_0x14771f[_0x2f8bd0(0x2b9)][_0x2f8bd0(0x307)](_0x1298cb);});}function Si(){const _0x1e97ed=a0_0x5c0bdf;let _0x50fa22={};for(let _0x212a20 in te)_0x50fa22[_0x212a20]=Object[_0x1e97ed(0x60a)](te[_0x212a20])['map'](_0x2f5972=>({'id':_0x2f5972['id'],'events':_0x2f5972[_0x1e97ed(0x395)]}));return _0x50fa22;}var Ci=require(a0_0x5c0bdf(0x5c7)),Is=require(a0_0x5c0bdf(0x38d)),Ts=class{},Io=new Is[(a0_0x5c0bdf(0x7cf))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is[(a0_0x5c0bdf(0x7cf))]({'_id':{'type':String,'default':a0_0x5c0bdf(0x5b9)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.[a0_0x5c0bdf(0x7f0)](Ts[a0_0x5c0bdf(0x35d)],_o,a0_0x5c0bdf(0x84b)),Oo=Mi[a0_0x5c0bdf(0x32c)][a0_0x5c0bdf(0x938)](__dirname,a0_0x5c0bdf(0x274)),ke=(0x0,xt[a0_0x5c0bdf(0x51a)])(),xo=S[a0_0x5c0bdf(0x1fe)](a0_0x5c0bdf(0x206))[a0_0x5c0bdf(0x8fa)],ie=[Aa,Ta,Oa[xo]];ke['use'](a0_0x5c0bdf(0x49a),xt[a0_0x5c0bdf(0x32c)][a0_0x5c0bdf(0x5fc)](Oo))[a0_0x5c0bdf(0x1fe)](a0_0x5c0bdf(0x252),async(_0x59ccbc,_0x5a6d59)=>{const _0x3b92ba=a0_0x5c0bdf;console[_0x3b92ba(0x84c)](_0x3b92ba(0x695));let _0x80b8df=_0x59ccbc[_0x3b92ba(0x78a)]['instance'],_0x1f06ad=(_0x59ccbc['query'][_0x3b92ba(0x395)]||'')[_0x3b92ba(0x2a9)](','),_0x34e559=(0x0,Ci['v4'])();console[_0x3b92ba(0x84c)](_0x3b92ba(0x285),_0x80b8df),console[_0x3b92ba(0x84c)](_0x3b92ba(0x76b),_0x1f06ad);let _0x4c6178=S[_0x3b92ba(0x1fe)](_0x3b92ba(0x206))[_0x3b92ba(0x69a)],_0x17cb92=_0x59ccbc['query'][_0x3b92ba(0x692)];if(console[_0x3b92ba(0x84c)](_0x3b92ba(0x8f7),_0x17cb92),_0x4c6178[_0x3b92ba(0x4b8)]!==_0x17cb92){console[_0x3b92ba(0x84c)]('env.KEY\x20!==\x20key');try{let _0x303529=await me[_0x3b92ba(0x893)][_0x3b92ba(0x50f)](_0x80b8df);if(console[_0x3b92ba(0x84c)](_0x3b92ba(0x34b),_0x303529),!_0x303529||_0x303529['apikey']!==_0x17cb92)return console[_0x3b92ba(0x84c)](_0x3b92ba(0x4de)),_0x5a6d59[_0x3b92ba(0x3ae)](0x191)[_0x3b92ba(0x507)](_0x3b92ba(0x367));}catch(_0x26afbc){return console[_0x3b92ba(0x812)](_0x3b92ba(0x450),_0x26afbc),_0x5a6d59[_0x3b92ba(0x3ae)](0x191)[_0x3b92ba(0x507)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await _e(_0x80b8df))return _0x5a6d59[_0x3b92ba(0x3ae)](0x194)[_0x3b92ba(0x507)](_0x3b92ba(0x3a8));_0x5a6d59[_0x3b92ba(0x7f7)](_0x3b92ba(0x4c4),_0x3b92ba(0x4cb)),_0x5a6d59[_0x3b92ba(0x7f7)](_0x3b92ba(0x7e7),_0x3b92ba(0x89d)),_0x5a6d59[_0x3b92ba(0x7f7)](_0x3b92ba(0x63d),_0x3b92ba(0x6ea)),_0x5a6d59['flushHeaders']();let _0x3a40df='data:\x20'+JSON[_0x3b92ba(0x86d)]({'info':_0x3b92ba(0x5a3)})+'\x0a\x0a';_0x5a6d59['write'](_0x3a40df),yi(_0x80b8df,_0x34e559,_0x5a6d59,_0x1f06ad),_0x59ccbc['on']('close',()=>{const _0x57b688=_0x3b92ba;console[_0x57b688(0x84c)](_0x57b688(0x328)+_0x80b8df),bi(_0x80b8df,_0x34e559);});}),ke['post']('/startFlow/:instance/:startID',async(_0x1d2884,_0x4af257)=>{const _0x51085e=a0_0x5c0bdf;console[_0x51085e(0x84c)](_0x51085e(0x1ce));let _0x18cd27=_0x1d2884[_0x51085e(0x78a)]['instance'],_0x32a1d9=_0x1d2884[_0x51085e(0x78a)][_0x51085e(0x3d8)],_0x5bc282=_0x1d2884['query'][_0x51085e(0x57e)]||'',_0x2ad342=_0x1d2884[_0x51085e(0x72e)];console[_0x51085e(0x84c)](_0x51085e(0x912),_0x18cd27),console[_0x51085e(0x84c)]('StartID:',_0x32a1d9),console['log'](_0x51085e(0x73a),_0x5bc282),console[_0x51085e(0x84c)]('Request\x20Body:',_0x2ad342);try{if(!await _e(_0x18cd27))return _0x4af257['status'](0x194)[_0x51085e(0x507)]('Instância\x20não\x20encontrada.');let _0x301323=await _[_0x51085e(0x6a2)](_0x18cd27,_0x32a1d9,_0x5bc282,_0x2ad342);_0x4af257[_0x51085e(0x507)](_0x301323);}catch(_0x3413d7){console['error'](_0x3413d7),_0x4af257['status'](0x1f4)[_0x51085e(0x507)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke[a0_0x5c0bdf(0x1fe)](a0_0x5c0bdf(0x1a2),(_0x2c0279,_0x15dcf3)=>{const _0xe65d73=a0_0x5c0bdf;let _0x2e50ec=Si();_0x15dcf3[_0xe65d73(0x365)](_0x2e50ec);})[a0_0x5c0bdf(0x1fe)]('/',(_0x4bda49,_0x214bf8)=>{const _0x2c69cc=a0_0x5c0bdf;let _0x6ccbae=S[_0x2c69cc(0x1fe)](_0x2c69cc(0x1df))[_0x2c69cc(0x40c)];if(_0x6ccbae){let _0x190848=encodeURIComponent(''+_0x6ccbae);_0x214bf8[_0x2c69cc(0x86f)](_0x2c69cc(0x6af)+_0x190848);return;}let _0x1ef90c=S[_0x2c69cc(0x1fe)]('SSL_CONF'),_0x3fb798=_0x1ef90c&&_0x1ef90c[_0x2c69cc(0x728)][_0x2c69cc(0x2a9)]('/')[0x4];if(_0x3fb798){let _0x6b78ca=encodeURIComponent(_0x2c69cc(0x560)+_0x3fb798);_0x214bf8['redirect'](_0x2c69cc(0x6af)+_0x6b78ca);}else _0x214bf8[_0x2c69cc(0x86f)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0x5c0bdf(0x5a7),...ie,async(_0x58b1b8,_0x5a23d0)=>{const _0x4e6e17=a0_0x5c0bdf;try{console[_0x4e6e17(0x84c)](_0x4e6e17(0x86a)),_0x5a23d0[_0x4e6e17(0x3ae)](0xc8)[_0x4e6e17(0x365)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x5a23d0['on'](_0x4e6e17(0x30e),()=>process['exit'](0x0));}catch(_0x52a48a){console['error'](_0x4e6e17(0x1e1),_0x52a48a),_0x5a23d0[_0x4e6e17(0x3ae)](0x1f4)[_0x4e6e17(0x365)]({'message':_0x4e6e17(0x67b)});}})[a0_0x5c0bdf(0x748)](a0_0x5c0bdf(0x509),...ie,async(_0x56bf5d,_0x19ae03)=>{const _0x157019=a0_0x5c0bdf;try{let _0x47bec3=_0x56bf5d[_0x157019(0x72e)];await ve[_0x157019(0x411)]({},{'$set':_0x47bec3},{'upsert':!0x0});let _0x491f65=await ve[_0x157019(0x81e)]();_0x19ae03['json'](_0x491f65);}catch(_0x34a17a){_0x19ae03[_0x157019(0x3ae)](0x190)[_0x157019(0x507)](_0x34a17a[_0x157019(0x7d9)]);}})['get'](a0_0x5c0bdf(0x509),...ie,async(_0x570a38,_0x1b787a)=>{const _0x3e6479=a0_0x5c0bdf;try{let _0x42202b=await ve[_0x3e6479(0x81e)]();if(!_0x42202b)return _0x1b787a[_0x3e6479(0x365)]({});_0x1b787a['json'](_0x42202b);}catch(_0x27cee0){_0x1b787a[_0x3e6479(0x3ae)](0x1f4)[_0x3e6479(0x507)](_0x27cee0['message']);}})[a0_0x5c0bdf(0x2f5)](a0_0x5c0bdf(0x461),new bt(S,...ie)[a0_0x5c0bdf(0x88f)])['use'](a0_0x5c0bdf(0x73c),new Tt(...ie)[a0_0x5c0bdf(0x88f)])[a0_0x5c0bdf(0x2f5)](a0_0x5c0bdf(0x3b3),new lt(...ie)[a0_0x5c0bdf(0x88f)])['use'](a0_0x5c0bdf(0x7dc),new yt(...ie)[a0_0x5c0bdf(0x88f)])[a0_0x5c0bdf(0x2f5)](a0_0x5c0bdf(0x808),new _t(...ie)[a0_0x5c0bdf(0x88f)])[a0_0x5c0bdf(0x2f5)](a0_0x5c0bdf(0x2f9),new Ot(...ie)[a0_0x5c0bdf(0x88f)]);function a0_0x34cb(_0x5985ac,_0x1b8cf4){const _0x2a9023=a0_0x2a90();return a0_0x34cb=function(_0x34cbf5,_0x35ddc7){_0x34cbf5=_0x34cbf5-0x19b;let _0x12463b=_0x2a9023[_0x34cbf5];return _0x12463b;},a0_0x34cb(_0x5985ac,_0x1b8cf4);}var m=class{constructor(..._0x57e0f8){const _0x4c8c8a=a0_0x5c0bdf;throw{'status':0x190,'error':_0x4c8c8a(0x388),'message':_0x57e0f8[_0x4c8c8a(0x235)]>0x0?_0x57e0f8:void 0x0};}},se=class{constructor(..._0x3e2167){throw{'status':0x191,'error':'Unauthorized','message':_0x3e2167['length']>0x0?_0x3e2167:void 0x0};}},X=class{constructor(..._0x2f57a6){throw{'status':0x193,'error':'Forbidden','message':_0x2f57a6['length']>0x0?_0x2f57a6:void 0x0};}},U=class{constructor(..._0x42f98b){const _0x4ec043=a0_0x5c0bdf;throw{'status':0x194,'error':_0x4ec043(0x6bc),'message':_0x42f98b[_0x4ec043(0x235)]>0x0?_0x42f98b:void 0x0};}},x=class{constructor(..._0x513826){const _0x401874=a0_0x5c0bdf;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x513826[_0x401874(0x235)]>0x0?_0x513826:void 0x0};}},fe=require(a0_0x5c0bdf(0x7ca));async function _s(_0x4da323){const _0x4a5035=a0_0x5c0bdf;let _0x20aed2=new $(_s[_0x4a5035(0x35d)]),_0x298aec=T[_0x4a5035(0x542)](),_0x4793d3=_0x298aec['db'](S[_0x4a5035(0x1fe)](_0x4a5035(0x37f))['CONNECTION']['DB_PREFIX_NAME']+_0x4a5035(0x323))[_0x4a5035(0x22e)](_0x4da323),_0x1d2db0=async(_0x5d5bc6,_0x1c606e)=>{const _0x312fd8=_0x4a5035;try{return await _0x298aec[_0x312fd8(0x76c)](),await _0x4793d3[_0x312fd8(0x3b1)]({'_id':_0x1c606e},JSON[_0x312fd8(0x4d9)](JSON[_0x312fd8(0x86d)](_0x5d5bc6,fe['BufferJSON'][_0x312fd8(0x6fd)])),{'upsert':!0x0});}catch{}},_0x1a3171=async _0x5d6de1=>{const _0x16f8a0=_0x4a5035;try{await _0x298aec[_0x16f8a0(0x76c)]();let _0x3aa65f=await _0x4793d3[_0x16f8a0(0x81e)]({'_id':_0x5d6de1}),_0x29a11d=JSON[_0x16f8a0(0x86d)](_0x3aa65f);return JSON[_0x16f8a0(0x4d9)](_0x29a11d,fe['BufferJSON']['reviver']);}catch{}},_0x4a72de=async _0x3a8a48=>{const _0x45ba00=_0x4a5035;try{return await _0x298aec[_0x45ba00(0x76c)](),await _0x4793d3[_0x45ba00(0x83b)]({'_id':_0x3a8a48});}catch{}},_0x195b37=await _0x1a3171(_0x4a5035(0x1c3))||(0x0,fe[_0x4a5035(0x800)])();return{'state':{'creds':_0x195b37,'keys':{'get':async(_0x415b17,_0xffa597)=>{const _0x42e9e2=_0x4a5035;let _0x3aea17={};return await Promise['all'](_0xffa597[_0x42e9e2(0x6df)](async _0x57f48c=>{const _0x4b2e0a=_0x42e9e2;let _0x36a131=await _0x1a3171(_0x415b17+'-'+_0x57f48c);_0x415b17===_0x4b2e0a(0x3d4)&&_0x36a131&&(_0x36a131=fe[_0x4b2e0a(0x52c)][_0x4b2e0a(0x904)][_0x4b2e0a(0x204)]['fromObject'](_0x36a131)),_0x3aea17[_0x57f48c]=_0x36a131;})),_0x3aea17;},'set':async _0x3e910b=>{const _0x5e5255=_0x4a5035;let _0x1ecfaa=[];for(let _0x40637d in _0x3e910b)for(let _0x50b609 in _0x3e910b[_0x40637d]){let _0x12abb0=_0x3e910b[_0x40637d][_0x50b609],_0x1ff356=_0x40637d+'-'+_0x50b609;_0x1ecfaa['push'](_0x12abb0?_0x1d2db0(_0x12abb0,_0x1ff356):_0x4a72de(_0x1ff356));}await Promise[_0x5e5255(0x2db)](_0x1ecfaa);}}},'saveCreds':async()=>_0x1d2db0(_0x195b37,_0x4a5035(0x1c3))};}var Ls=I(require(a0_0x5c0bdf(0x41b))),Fs=I(require(a0_0x5c0bdf(0x7ab))),kt=require(a0_0x5c0bdf(0x7ca)),vi=require(a0_0x5c0bdf(0x27e)),Dt=require(a0_0x5c0bdf(0x7ca)),Pt;function Po(_0x2eb13a){const _0x9e59d=a0_0x5c0bdf;return Pt||(Pt=(0x0,vi['createClient'])({'url':_0x2eb13a[_0x9e59d(0x7db)]}),Pt[_0x9e59d(0x76c)]()),Pt;}var ue=class u{constructor(_0x919edc,_0x349cba){const _0x2d9672=a0_0x5c0bdf;this[_0x2d9672(0x674)]=_0x919edc,this[_0x2d9672(0x7d7)]=_0x349cba,this[_0x2d9672(0x241)]=new $(u[_0x2d9672(0x35d)]),this[_0x2d9672(0x3c4)]=Po(_0x919edc);}set['reference'](_0x41842b){this['instanceName']=_0x41842b;}async[a0_0x5c0bdf(0x6d8)](){const _0x2143d6=a0_0x5c0bdf;try{return await this[_0x2143d6(0x3c4)][_0x2143d6(0x1dd)](['keys',this[_0x2143d6(0x674)]['PREFIX_KEY']+':*']);}catch(_0x49458e){this['logger'][_0x2143d6(0x812)](_0x49458e);}}async[a0_0x5c0bdf(0x3cd)](_0x379198,_0x278977){const _0x10ce90=a0_0x5c0bdf;try{let _0x40cd82=JSON[_0x10ce90(0x86d)](_0x278977,Dt['BufferJSON'][_0x10ce90(0x6fd)]);return await this[_0x10ce90(0x3c4)][_0x10ce90(0x77a)](this[_0x10ce90(0x674)]['PREFIX_KEY']+':'+this[_0x10ce90(0x7d7)],_0x379198,_0x40cd82);}catch(_0x521191){this[_0x10ce90(0x241)][_0x10ce90(0x812)](_0x521191);}}async[a0_0x5c0bdf(0x31e)](){const _0xc988c8=a0_0x5c0bdf;try{let _0x20693d=await this[_0xc988c8(0x3c4)][_0xc988c8(0x1ad)](this[_0xc988c8(0x674)]['PREFIX_KEY']+':'+this['instanceName']);if(_0x20693d){for(let _0x53b815 in _0x20693d)Object[_0xc988c8(0x3c0)][_0xc988c8(0x3b5)]['call'](_0x20693d,_0x53b815)&&(_0x20693d[_0x53b815]=JSON[_0xc988c8(0x4d9)](_0x20693d[_0x53b815],Dt['BufferJSON'][_0xc988c8(0x592)]));return _0x20693d;}}catch(_0x5258e5){this[_0xc988c8(0x241)]['error'](_0x5258e5);}}async[a0_0x5c0bdf(0x63b)](_0x2ee228){const _0x4dcebc=a0_0x5c0bdf;try{let _0x1c230e=await this[_0x4dcebc(0x3c4)][_0x4dcebc(0x374)](this['redisEnv'][_0x4dcebc(0x55b)]+':'+this[_0x4dcebc(0x7d7)],_0x2ee228);if(_0x1c230e)return JSON[_0x4dcebc(0x4d9)](_0x1c230e,Dt[_0x4dcebc(0x50a)]['reviver']);}catch(_0x32638d){this[_0x4dcebc(0x241)][_0x4dcebc(0x812)](_0x32638d);}}async[a0_0x5c0bdf(0x59c)](_0x35b04f){const _0x32cccf=a0_0x5c0bdf;try{return await this[_0x32cccf(0x3c4)][_0x32cccf(0x773)](this[_0x32cccf(0x674)][_0x32cccf(0x55b)]+':'+this['instanceName'],_0x35b04f);}catch(_0x344c9a){this[_0x32cccf(0x241)][_0x32cccf(0x812)](_0x344c9a);}}async[a0_0x5c0bdf(0x6bf)](_0x3c7428){const _0x4b976d=a0_0x5c0bdf;try{return await this[_0x4b976d(0x3c4)]['del'](_0x3c7428||this[_0x4b976d(0x674)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x3b968e){this[_0x4b976d(0x241)][_0x4b976d(0x812)](_0x3b968e);}}};async function Os(_0x1d1966,_0x238a5f){const _0x65d34c=a0_0x5c0bdf;let _0x4f2743=new $(Os[_0x65d34c(0x35d)]),_0x4b0d1b=new ue(_0x1d1966,_0x238a5f),_0x4e66c8=async(_0xf6c21c,_0xd09096)=>{const _0x3c1f7e=_0x65d34c;try{return await _0x4b0d1b[_0x3c1f7e(0x3cd)](_0xd09096,_0xf6c21c);}catch(_0x503aeb){return _0x4f2743[_0x3c1f7e(0x812)]({'localError':_0x3c1f7e(0x3cd),'error':_0x503aeb});}},_0x19a7ea=async _0x4e6e2b=>{const _0x13527d=_0x65d34c;try{return await _0x4b0d1b[_0x13527d(0x63b)](_0x4e6e2b);}catch(_0x592e22){_0x4f2743['error']({'readData':'writeData','error':_0x592e22});return;}},_0x1d38a9=async _0x482311=>{const _0x23374e=_0x65d34c;try{return await _0x4b0d1b[_0x23374e(0x59c)](_0x482311);}catch(_0x45329c){_0x4f2743[_0x23374e(0x812)]({'readData':'removeData','error':_0x45329c});}},_0x44de96=await _0x19a7ea(_0x65d34c(0x1c3))||(0x0,kt[_0x65d34c(0x800)])();return{'state':{'creds':_0x44de96,'keys':{'get':async(_0xfffe62,_0x123130)=>{const _0xe8c3f3=_0x65d34c;let _0xd7bb49={};return await Promise[_0xe8c3f3(0x2db)](_0x123130[_0xe8c3f3(0x6df)](async _0x3ce94=>{const _0x1c4133=_0xe8c3f3;let _0x53742a=await _0x19a7ea(_0xfffe62+'-'+_0x3ce94);_0xfffe62===_0x1c4133(0x3d4)&&_0x53742a&&(_0x53742a=kt[_0x1c4133(0x52c)][_0x1c4133(0x904)][_0x1c4133(0x204)][_0x1c4133(0x448)](_0x53742a)),_0xd7bb49[_0x3ce94]=_0x53742a;})),_0xd7bb49;},'set':async _0x307757=>{const _0x318f3c=_0x65d34c;let _0x30faef=[];for(let _0x2187e1 in _0x307757)for(let _0x3bb867 in _0x307757[_0x2187e1]){let _0x3e7e70=_0x307757[_0x2187e1][_0x3bb867],_0x241eac=_0x2187e1+'-'+_0x3bb867;_0x30faef[_0x318f3c(0x2c1)](_0x3e7e70?await _0x4e66c8(_0x3e7e70,_0x241eac):await _0x1d38a9(_0x241eac));}await Promise[_0x318f3c(0x2db)](_0x30faef);}}},'saveCreds':async()=>await _0x4e66c8(_0x44de96,_0x65d34c(0x1c3))};}var k=I(require('fs')),Q=require(a0_0x5c0bdf(0x5c7)),Ut=I(require(a0_0x5c0bdf(0x7da))),oe=require(a0_0x5c0bdf(0x35c)),Ei=require(a0_0x5c0bdf(0x40a)),Ni=require(a0_0x5c0bdf(0x364)),$i=I(require('axios')),Ee=class extends O{constructor(_0x3c58af,_0x587957,_0x3f9afe){const _0x4aedc7=a0_0x5c0bdf;super(_0x587957),this[_0x4aedc7(0x775)]=_0x3c58af,this[_0x4aedc7(0x247)]=_0x587957,this[_0x4aedc7(0x945)]=_0x3f9afe;}async['createOrUpdate'](_0xa16364,_0x5b01fe){const _0x41781c=a0_0x5c0bdf;try{if(this[_0x41781c(0x5fa)][_0x41781c(0x2ed)]){console[_0x41781c(0x84c)](_0x41781c(0x601)+_0x5b01fe+_0x41781c(0x3a9),_0xa16364);let _0x438c2b=await this['cacheInstanceModel'][_0x41781c(0x301)]({'_id':_0x5b01fe},{'$set':_0xa16364},{'new':!0x0,'upsert':!0x0});return console[_0x41781c(0x84c)](_0x41781c(0x770),_0x438c2b),_0x438c2b;}}catch(_0x459b2a){throw console[_0x41781c(0x812)](_0x41781c(0x407),_0x459b2a),_0x459b2a;}return null;}async['deleteOne'](_0x368841){const _0x47d3dd=a0_0x5c0bdf;try{let _0x2d5914=A(_0x368841[_0x47d3dd(0x8e1)]);return{'deletedCount':(await this['cacheInstanceModel']['deleteOne'](_0x2d5914))[_0x47d3dd(0x65c)]};}catch(_0x21e1d2){return{'error':_0x21e1d2?.[_0x47d3dd(0x281)]()};}}async[a0_0x5c0bdf(0x81e)](_0x2ab90a){const _0xb27944=a0_0x5c0bdf;try{let _0x19de44=A(_0x2ab90a[_0xb27944(0x8e1)]);return await this[_0xb27944(0x775)][_0xb27944(0x81e)](_0x19de44)[_0xb27944(0x7ce)]();}catch{return null;}}},Ne=(0x0,Ni[a0_0x5c0bdf(0x860)])(Ei['exec']),xs=0x1f4,Do=S[a0_0x5c0bdf(0x1fe)](a0_0x5c0bdf(0x8bb)),Ps=class{constructor(){const _0x58e151=a0_0x5c0bdf;this[_0x58e151(0x93f)]=new Ee(We,S),(!this[_0x58e151(0x375)]||!this[_0x58e151(0x79b)])&&Do&&this[_0x58e151(0x887)]()[_0x58e151(0x242)](async()=>{const _0x33d542=_0x58e151;console['log']('IPv6\x20Prefix\x20detected:\x20'+this['ipv6Prefix']),console[_0x33d542(0x84c)](_0x33d542(0x42d)+this['networkInterface']),await this[_0x33d542(0x2a8)]();let _0x474a54=await this[_0x33d542(0x3f4)]();console['log']('Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20'+_0x474a54);})[_0x58e151(0x484)](_0x52580b=>{const _0x4e69ef=_0x58e151;console[_0x4e69ef(0x812)](_0x4e69ef(0x5d7)+_0x52580b[_0x4e69ef(0x7d9)]);});}async[a0_0x5c0bdf(0x2a8)](){const _0x25d5a5=a0_0x5c0bdf;let _0x110b71=await this['listIPv6Addresses']();if(console[_0x25d5a5(0x84c)](_0x25d5a5(0x69b)+_0x110b71[_0x25d5a5(0x235)]),_0x110b71[_0x25d5a5(0x235)]>xs){let _0xbced4e=_0x110b71['slice'](xs);for(let _0x18a1b4 of _0xbced4e)console[_0x25d5a5(0x84c)]('Removing\x20excess\x20IPv6\x20address:\x20'+_0x18a1b4),await this['removeIPv6'](_0x18a1b4);console[_0x25d5a5(0x84c)]('Removed\x20'+_0xbced4e[_0x25d5a5(0x235)]+_0x25d5a5(0x6e1));}else console[_0x25d5a5(0x84c)]('No\x20excess\x20IPv6\x20addresses\x20to\x20remove.');}async[a0_0x5c0bdf(0x43b)](){const _0x32911c=a0_0x5c0bdf;try{let {stdout:_0x2fd169}=await Ne('ip\x20-6\x20addr\x20show\x20scope\x20global');return _0x2fd169['split']('\x0a')[_0x32911c(0x755)](_0x528f90=>_0x528f90[_0x32911c(0x4ee)](_0x32911c(0x6fc))&&_0x528f90[_0x32911c(0x4ee)](_0x32911c(0x65d)))[_0x32911c(0x6df)](_0xfade2=>_0xfade2[_0x32911c(0x211)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x32911c(0x755)](Boolean);}catch(_0x18db9c){return console[_0x32911c(0x812)](_0x32911c(0x8a6)+_0x18db9c[_0x32911c(0x7d9)]),[];}}async[a0_0x5c0bdf(0x3f4)](){const _0x3e98b8=a0_0x5c0bdf;try{let {stdout:_0x56c1f7}=await Ne(_0x3e98b8(0x3ad)),_0x45be05=parseInt(_0x56c1f7[_0x3e98b8(0x55c)](),0xa);return console[_0x3e98b8(0x84c)](_0x3e98b8(0x7fa)+_0x45be05),_0x45be05;}catch(_0x16abcd){return console[_0x3e98b8(0x812)](_0x3e98b8(0x337)+_0x16abcd[_0x3e98b8(0x7d9)]),0x0;}}async['removeIPv6'](_0x5b8a67){const _0x2b2ff8=a0_0x5c0bdf;try{await Ne('ip\x20-6\x20addr\x20del\x20'+_0x5b8a67+_0x2b2ff8(0x89a)+this[_0x2b2ff8(0x79b)]),console[_0x2b2ff8(0x84c)](_0x2b2ff8(0x6c3)+_0x5b8a67);}catch(_0x1d7b1a){console[_0x2b2ff8(0x812)](_0x2b2ff8(0x662)+_0x1d7b1a[_0x2b2ff8(0x7d9)]);}}async['detectIPv6PrefixAndInterface'](){const _0x4a7335=a0_0x5c0bdf;try{let {stdout:_0x17675f}=await Ne(_0x4a7335(0x51f));console[_0x4a7335(0x84c)](_0x4a7335(0x949)+_0x17675f);let _0x16fa95=_0x17675f[_0x4a7335(0x2a9)]('\x0a')[_0x4a7335(0x6df)](_0x3fdf03=>_0x3fdf03[_0x4a7335(0x2a9)]('\x20')[0x0])[_0x4a7335(0x755)](_0x2371c8=>!_0x2371c8[_0x4a7335(0x4ee)]('lo')&&!_0x2371c8[_0x4a7335(0x4ee)](_0x4a7335(0x834))&&!_0x2371c8[_0x4a7335(0x4ee)](_0x4a7335(0x24e))&&!_0x2371c8[_0x4a7335(0x4ee)]('wl')&&!_0x2371c8[_0x4a7335(0x4ee)]('@'));if(console[_0x4a7335(0x84c)](_0x4a7335(0x5ff)+_0x16fa95),_0x16fa95[_0x4a7335(0x235)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0x4a7335(0x79b)]=_0x16fa95[0x0];let {stdout:_0x30dd8c}=await Ne('ip\x20-6\x20addr\x20show\x20dev\x20'+this[_0x4a7335(0x79b)]);console[_0x4a7335(0x84c)](_0x4a7335(0x1c5)+_0x30dd8c);let _0x59c589=_0x30dd8c[_0x4a7335(0x2a9)]('\x0a')[_0x4a7335(0x50f)](_0x3bea09=>_0x3bea09[_0x4a7335(0x4ee)](_0x4a7335(0x6fc))&&_0x3bea09['includes'](_0x4a7335(0x65d)));if(!_0x59c589)throw new Error(_0x4a7335(0x42a));let _0x44504f=_0x59c589['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x44504f)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x156288,_0x504bad,_0xabedc1]=_0x44504f,_0x4a9472=Math[_0x4a7335(0x3ab)](Number(_0xabedc1)/0x10),_0x17d4a9=Number(_0xabedc1)%0x10,_0x33e868=_0x504bad[_0x4a7335(0x2a9)](':')[_0x4a7335(0x2dc)](0x0,_0x4a9472)[_0x4a7335(0x938)](':');if(_0x17d4a9>0x0){let _0x1b98f8=_0x504bad[_0x4a7335(0x2a9)](':')[_0x4a9472],_0x4a80ab=0xffff<<0x10-_0x17d4a9&0xffff,_0x3f7837=(parseInt(_0x1b98f8,0x10)&_0x4a80ab)[_0x4a7335(0x281)](0x10)[_0x4a7335(0x801)](0x4,'0');_0x33e868+=':'+_0x3f7837;}this['ipv6Prefix']=_0x33e868+':';}catch(_0x3a2254){console[_0x4a7335(0x812)](_0x4a7335(0x48d),_0x3a2254);}}async[a0_0x5c0bdf(0x80d)](_0x4cce4f){const _0x1f8a2d=a0_0x5c0bdf;let _0x46ee1a='ip\x20-6\x20addr\x20add\x20'+_0x4cce4f+_0x1f8a2d(0x89a)+this[_0x1f8a2d(0x79b)];try{await Ne(_0x46ee1a),console['log'](_0x1f8a2d(0x356)+_0x4cce4f);}catch(_0x251dfe){console['error'](_0x1f8a2d(0x213)+_0x251dfe);}}[a0_0x5c0bdf(0x551)](){const _0x102c33=a0_0x5c0bdf;return'XX:XX:XX:XX:XX:XX'[_0x102c33(0x8df)](/X/g,()=>_0x102c33(0x279)[_0x102c33(0x30d)](Math[_0x102c33(0x3ab)](Math[_0x102c33(0x277)]()*0x10)));}[a0_0x5c0bdf(0x822)](_0x579bd2,_0x34ecf1){const _0x573b2b=a0_0x5c0bdf;let _0x5a6c8c=_0x34ecf1[_0x573b2b(0x2a9)](':');return _0x5a6c8c[0x0]=(parseInt(_0x5a6c8c[0x0],0x10)^0x2)[_0x573b2b(0x281)](0x10)['padStart'](0x2,'0'),''+_0x579bd2+_0x5a6c8c[0x0]+_0x5a6c8c[0x1]+':'+_0x5a6c8c[0x2]+'ff:fe'+_0x5a6c8c[0x3]+':'+_0x5a6c8c[0x4]+_0x5a6c8c[0x5];}[a0_0x5c0bdf(0x1a8)](){const _0x19695c=a0_0x5c0bdf;let _0x157a25=this[_0x19695c(0x375)];_0x157a25[_0x19695c(0x62e)](':')||(_0x157a25+=':');let _0x333c56=this[_0x19695c(0x551)]();return this[_0x19695c(0x822)](_0x157a25,_0x333c56);}[a0_0x5c0bdf(0x4a3)](_0x5244a8){const _0x3db98b=a0_0x5c0bdf;return new RegExp(_0x3db98b(0x7a7))['test'](_0x5244a8);}async['testIPv6'](_0x317323){const _0x56706f=a0_0x5c0bdf;let _0x41aa=[{'url':_0x56706f(0x30c),'parse':_0xc029be=>_0xc029be['ip']},{'url':_0x56706f(0x298),'parse':_0x54dfbe=>_0x54dfbe['ip']},{'url':_0x56706f(0x8c9),'parse':_0x5aee51=>_0x5aee51['trim']()},{'url':_0x56706f(0x8f9),'parse':_0x35cb83=>_0x35cb83[_0x56706f(0x55c)]()}],_0x230f09=_0x41aa[Math['floor'](Math['random']()*_0x41aa['length'])];try{let _0x33edf8=await $i[_0x56706f(0x32c)][_0x56706f(0x1fe)](_0x230f09[_0x56706f(0x44c)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x317323}}),_0xffc342=_0x230f09[_0x56706f(0x4d9)](_0x33edf8[_0x56706f(0x8db)]);return _0xffc342[_0x56706f(0x781)]()===_0x317323[_0x56706f(0x781)]()?(console[_0x56706f(0x84c)](_0x56706f(0x1cc)+_0x317323),!0x0):(console['error']('IP\x20mismatch:\x20configured\x20'+_0x317323+_0x56706f(0x654)+_0xffc342),!0x1);}catch(_0x4c91f1){return console[_0x56706f(0x812)]('Error\x20testing\x20IP\x20with\x20'+_0x230f09[_0x56706f(0x44c)]+':\x20'+_0x4c91f1[_0x56706f(0x7d9)]),!0x1;}}async['createIPv6'](_0x501400,_0xc2535f){const _0x9604be=a0_0x5c0bdf;if(!this[_0x9604be(0x375)]||!this['networkInterface'])return console[_0x9604be(0x812)](_0x9604be(0x35f)),null;let _0x400e94=await this[_0x9604be(0x43b)]();if(_0x400e94['length']>=xs){let _0x19afe7=_0x400e94[Math['floor'](Math[_0x9604be(0x277)]()*_0x400e94[_0x9604be(0x235)])];return console['log'](_0x9604be(0x346)+_0x19afe7),_0x19afe7;}let _0xe94c4f;do _0xe94c4f=this[_0x9604be(0x1a8)](),console[_0x9604be(0x84c)](_0x9604be(0x535)+_0xe94c4f);while(!this[_0x9604be(0x4a3)](_0xe94c4f));await this['configureIPv6'](_0xe94c4f),console[_0x9604be(0x84c)](_0x9604be(0x66d)+_0xe94c4f);let _0x211440={'_id':_0x501400+'-'+_0xc2535f,'ip':_0xe94c4f},_0x5ad868=await this[_0x9604be(0x93f)]['createOrUpdate'](_0x211440,_0x211440[_0x9604be(0x2c7)]);return console[_0x9604be(0x84c)](_0x9604be(0x8b1)+_0x5ad868),_0xe94c4f;}},ko=new Ps(),Le=ko,Us='Safari',xi,de=null,xa=null,Lo=0x3,Fo=null,Ri=S[a0_0x5c0bdf(0x1fe)](a0_0x5c0bdf(0x206))[a0_0x5c0bdf(0x69a)]['KEY'],Ai=S[a0_0x5c0bdf(0x1fe)](a0_0x5c0bdf(0x8bb));async function Uo(){const _0x239401=a0_0x5c0bdf;let _0x665fb2=await ve[_0x239401(0x81e)]();de=_0x665fb2?.[_0x239401(0x60d)]??null,Fo=_0x665fb2?.[_0x239401(0x23d)]??null,Us=_0x665fb2?.[_0x239401(0x641)]??_0x239401(0x74e),xi=_0x665fb2?.[_0x239401(0x92d)]??he??_0x239401(0x2ef);}async function jo(){await Uo();}jo();var Lt={},$e=class u{constructor(_0x9a3293,_0x404d0c,_0x425660){const _0x2601b9=a0_0x5c0bdf;this[_0x2601b9(0x247)]=_0x9a3293,this[_0x2601b9(0x3fc)]=_0x404d0c,this[_0x2601b9(0x8ea)]=_0x425660,this[_0x2601b9(0x205)]={},this[_0x2601b9(0x587)]=null,this[_0x2601b9(0x241)]=new $(u[_0x2601b9(0x35d)]),this[_0x2601b9(0x7fc)]={},this['localWebhook']={},this[_0x2601b9(0x8ef)]={'state':_0x2601b9(0x3ec)},this[_0x2601b9(0x80e)]=(0x0,j[_0x2601b9(0x938)])(ne,_0x2601b9(0x274)),this[_0x2601b9(0x76e)]=new Fs[(_0x2601b9(0x32c))](),this[_0x2601b9(0x423)]=new Fs['default'](),this[_0x2601b9(0x5bc)]=!0x1,this[_0x2601b9(0x3dc)]={'status.instance':_0x2601b9(0x77b),'connection.update':'/wa-connection-update','qrcode.updated':_0x2601b9(0x500),'messages.upsert':_0x2601b9(0x481),'send.message':'/wa-message','messages.update':'/wa-message-update','group.upsert':_0x2601b9(0x83e),'group.update':_0x2601b9(0x83e),'group-participants.update':_0x2601b9(0x83e),'messages.set':_0x2601b9(0x2fe),'contacts.set':_0x2601b9(0x778),'contacts.upsert':_0x2601b9(0x778),'contacts.update':_0x2601b9(0x778),'presence.update':_0x2601b9(0x549),'chats.set':'/wa-chats','chats.update':_0x2601b9(0x815),'chats.upsert':'/wa-chats','chats.delete':_0x2601b9(0x815)},this[_0x2601b9(0x596)]=0x0,this[_0x2601b9(0x803)]=[],this[_0x2601b9(0x5bd)]=0xea60,this['isRunning']=!0x1,this[_0x2601b9(0x318)]={'chats.upsert':async(_0x197ec5,_0xfdb803)=>{const _0x12da6e=_0x2601b9;let _0x9422dc=[];for await(let _0x4c0d76 of _0x197ec5)_0x9422dc[_0x12da6e(0x2c1)]({'_id':_0x4c0d76['id'],'owner':this[_0x12da6e(0x7fc)][_0x12da6e(0x3c3)],'group':_0x4c0d76['id'][_0x12da6e(0x62e)](_0x12da6e(0x2bc)),'name':_0x4c0d76[_0x12da6e(0x35d)]||_0x4c0d76['displayName']||null,'contactname':null,'lastmsg':_0x4c0d76[_0x12da6e(0x891)]&&_0x4c0d76['conversationTimestamp']['toString']()[_0x12da6e(0x235)]<0xd?_0x4c0d76[_0x12da6e(0x891)]*0x3e8:_0x4c0d76[_0x12da6e(0x891)]||null,'archived':_0x4c0d76[_0x12da6e(0x843)]||!0x1,'unreadcount':_0x4c0d76['unreadCount']||0x0,'ephemeralExpiration':_0x4c0d76[_0x12da6e(0x82d)]||0x0});this[_0x12da6e(0x491)](_0x12da6e(0x23b),_0x9422dc);},'chats.update':async(_0x5c97e2,_0xafaa03)=>{const _0x16ff45=_0x2601b9;for(let _0x15253c of _0x5c97e2){let _0xd205a4={'_id':_0x15253c['id'],'owner':this['instance'][_0x16ff45(0x3c3)],'archived':_0x15253c[_0x16ff45(0x843)],'muteEndTime':_0x15253c['muteEndTime'],'ephemeralExpiration':_0x15253c['ephemeralExpiration']},_0x5d44cf=!0x1,_0x3b01a4={};_0xd205a4[_0x16ff45(0x843)]!=null&&(this[_0x16ff45(0x241)][_0x16ff45(0x8af)](this[_0x16ff45(0x7d7)]+'\x20('+this[_0x16ff45(0x7fc)][_0x16ff45(0x3c3)]+_0x16ff45(0x5a1)+_0x15253c['id']+_0x16ff45(0x892)+_0x15253c[_0x16ff45(0x843)]),_0x5d44cf=!0x0,_0x3b01a4['archived']=_0x15253c[_0x16ff45(0x843)]),_0x16ff45(0x606)in _0x15253c&&(this[_0x16ff45(0x241)][_0x16ff45(0x8af)](this[_0x16ff45(0x7d7)]+'\x20('+this['instance'][_0x16ff45(0x3c3)]+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x15253c['id']+'\x20:\x20'+(_0x15253c[_0x16ff45(0x606)]??'0')),_0x5d44cf=!0x0,_0x3b01a4[_0x16ff45(0x606)]=_0x15253c[_0x16ff45(0x606)]??0x0),_0x16ff45(0x82d)in _0x15253c&&(this[_0x16ff45(0x241)][_0x16ff45(0x8af)](this[_0x16ff45(0x7d7)]+'\x20('+this[_0x16ff45(0x7fc)][_0x16ff45(0x3c3)]+_0x16ff45(0x82a)+_0x15253c['id']+_0x16ff45(0x892)+(_0x15253c['ephemeralExpiration']!==void 0x0?_0x15253c['ephemeralExpiration']:_0x16ff45(0x1e6))),_0x3b01a4[_0x16ff45(0x82d)]=_0x15253c[_0x16ff45(0x82d)]===null?0x0:_0x15253c[_0x16ff45(0x82d)],_0x5d44cf=!0x0);let _0x4be52b;_0x5d44cf&&(_0x4be52b=await this[_0x16ff45(0x8ea)]['chat'][_0x16ff45(0x411)]({'where':{'_id':_0x15253c['id']}},_0x3b01a4,this[_0x16ff45(0x7fc)]['wuid'])),_0x4be52b&&F(this['instanceName'],_0x16ff45(0x5fd),{'chat':_0x4be52b});}},'chats.delete':async _0x2d6470=>{const _0x416e1d=_0x2601b9;for(let _0x3600bd of _0x2d6470)if(_0x3600bd[_0x416e1d(0x62e)]('@g.us')){await this[_0x416e1d(0x8ea)][_0x416e1d(0x75d)][_0x416e1d(0x221)]({'where':{'_id':_0x3600bd}},this['instance'][_0x416e1d(0x3c3)]);let _0x5af3bb={'where':{'key':{'remoteJid':_0x3600bd}}};await this[_0x416e1d(0x8ea)][_0x416e1d(0x7d9)]['delete'](_0x5af3bb,this[_0x416e1d(0x7fc)][_0x416e1d(0x3c3)]);}else{await this[_0x416e1d(0x8ea)][_0x416e1d(0x75d)]['updateOne']({'where':{'_id':_0x3600bd}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x416e1d(0x7fc)][_0x416e1d(0x3c3)]);let _0x1af7ac={'where':{'key':{'remoteJid':_0x3600bd}}};await this[_0x416e1d(0x8ea)][_0x416e1d(0x7d9)]['delete'](_0x1af7ac,this[_0x416e1d(0x7fc)][_0x416e1d(0x3c3)]);}this[_0x416e1d(0x491)](_0x416e1d(0x283),[..._0x2d6470]);}},this[_0x2601b9(0x3be)]={'contacts.upsert':async(_0x46aeee,_0x25262a)=>{const _0x317d8e=_0x2601b9;let _0x52ae2d=await this[_0x317d8e(0x8ea)][_0x317d8e(0x7df)][_0x317d8e(0x50f)]({'where':{}},this['instance'][_0x317d8e(0x3c3)]),_0x1458d1=[];for await(let _0x2fc7c0 of _0x46aeee)_0x52ae2d[_0x317d8e(0x50f)](_0x3516d8=>_0x3516d8['_id']===_0x2fc7c0['id'])||_0x1458d1[_0x317d8e(0x2c1)]({'_id':_0x2fc7c0['id'],'pushName':_0x2fc7c0?.[_0x317d8e(0x35d)]||_0x2fc7c0?.[_0x317d8e(0x3e3)],'owner':this[_0x317d8e(0x7fc)][_0x317d8e(0x3c3)]});this[_0x317d8e(0x491)]('contacts.upsert',_0x1458d1),await this['repository'][_0x317d8e(0x7df)][_0x317d8e(0x805)](_0x1458d1);},'contacts.update':async(_0x1c32f5,_0x3c7174)=>{const _0x30562f=_0x2601b9;let _0x2342bc=[];for await(let _0x54e38b of _0x1c32f5)_0x2342bc['push']({'_id':_0x54e38b['id'],'pushName':_0x54e38b?.[_0x30562f(0x35d)]??_0x54e38b?.[_0x30562f(0x3e3)],'owner':this[_0x30562f(0x7fc)][_0x30562f(0x3c3)]});this[_0x30562f(0x491)]('contacts.update',_0x2342bc);}},this['messageHandle']={'messaging-history.set':async({messages:_0x6e16a7,chats:_0x1c398f,isLatest:_0x173723},_0x1e15e4)=>{const _0x5d2c9f=_0x2601b9;if(_0x173723){setTimeout(()=>{const _0x4496b7=a0_0x34cb;this[_0x4496b7(0x7fc)]['HistoryProcessed']=!0x0,console[_0x4496b7(0x84c)]('HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.');},0x1d4c0);let _0x3ca545=await Promise[_0x5d2c9f(0x2db)](_0x1c398f[_0x5d2c9f(0x6df)](async _0x48f24a=>({'_id':_0x48f24a['id'],'owner':this['instance'][_0x5d2c9f(0x3c3)],'group':_0x48f24a['id'][_0x5d2c9f(0x62e)](_0x5d2c9f(0x2bc)),'name':_0x48f24a[_0x5d2c9f(0x35d)]||_0x48f24a[_0x5d2c9f(0x879)]||_0x48f24a['username']||null,'contactname':null,'lastmsg':_0x48f24a['conversationTimestamp']&&_0x48f24a[_0x5d2c9f(0x891)][_0x5d2c9f(0x281)]()[_0x5d2c9f(0x235)]<0xd?_0x48f24a[_0x5d2c9f(0x891)]*0x3e8:_0x48f24a[_0x5d2c9f(0x891)]||null,'archived':_0x48f24a[_0x5d2c9f(0x843)]||!0x1,'unreadcount':_0x48f24a[_0x5d2c9f(0x39c)]||0x0,'ephemeralExpiration':_0x48f24a[_0x5d2c9f(0x82d)]||0x0,'muteEndTime':_0x48f24a[_0x5d2c9f(0x606)]||0x0})));this[_0x5d2c9f(0x491)](_0x5d2c9f(0x792),_0x3ca545),await this[_0x5d2c9f(0x460)](_0x3ca545,_0x1e15e4);}let _0x1c09b6=[],_0xdf3ea3=Date[_0x5d2c9f(0x435)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x59e811]of Object[_0x5d2c9f(0x6ef)](_0x6e16a7)){if(_0x59e811[_0x5d2c9f(0x7d9)]?.[_0x5d2c9f(0x90a)]||_0x59e811[_0x5d2c9f(0x7d9)]?.[_0x5d2c9f(0x546)]||!_0x59e811[_0x5d2c9f(0x7d9)]||_0x59e811['key'][_0x5d2c9f(0x57e)]===_0x5d2c9f(0x811)||(Ls[_0x5d2c9f(0x32c)][_0x5d2c9f(0x43d)](_0x59e811?.[_0x5d2c9f(0x35a)])&&(_0x59e811['messageTimestamp']=_0x59e811['messageTimestamp']?.['toNumber']()),_0x59e811[_0x5d2c9f(0x35a)]&&_0x59e811[_0x5d2c9f(0x35a)]['toString']()[_0x5d2c9f(0x235)]<0xd&&(_0x59e811['messageTimestamp']=_0x59e811['messageTimestamp']*0x3e8),_0x59e811['messageTimestamp']<_0xdf3ea3))continue;let _0x1b888f=(0x0,w[_0x5d2c9f(0x4c9)])(_0x59e811[_0x5d2c9f(0x7d9)]),_0x3e2596=(0x0,w[_0x5d2c9f(0x1ba)])(_0x1b888f),{message_normalized:_0x5daea1}=this['normalizeMessage'](_0x1b888f,_0x3e2596,null);Object[_0x5d2c9f(0x2ec)](_0x5daea1)[_0x5d2c9f(0x235)]>0x0&&_0x1c09b6[_0x5d2c9f(0x2c1)]({'_id':_0x59e811[_0x5d2c9f(0x493)]['id'],'key':_0x59e811[_0x5d2c9f(0x493)],'pushName':_0x59e811[_0x5d2c9f(0x4a1)],'participant':_0x59e811[_0x5d2c9f(0x555)],'message':_0x1b888f,'messageType':_0x3e2596,'message_normalized':{'key':_0x59e811['key'],'pushName':_0x59e811[_0x5d2c9f(0x4a1)],'messageTimestamp':_0x59e811[_0x5d2c9f(0x35a)],..._0x5daea1},'messageTimestamp':_0x59e811[_0x5d2c9f(0x35a)],'owner':this['instance'][_0x5d2c9f(0x3c3)]});}_0x1e15e4[_0x5d2c9f(0x2ed)]&&_0x1c09b6[_0x5d2c9f(0x235)]>0x0&&(this['logger'][_0x5d2c9f(0x8af)](this[_0x5d2c9f(0x7d7)]+'\x20('+this['instance'][_0x5d2c9f(0x3c3)]+_0x5d2c9f(0x4a5)+_0x1c09b6['length']+_0x5d2c9f(0x377)+this[_0x5d2c9f(0x7fc)]['wuid']+_0x5d2c9f(0x1a7)),await this[_0x5d2c9f(0x8ea)][_0x5d2c9f(0x7d9)][_0x5d2c9f(0x805)]([..._0x1c09b6],this['instance'][_0x5d2c9f(0x3c3)]));let _0x162b1d=Date['now']()-0xa*0x3c*0x3e8;for(let _0x31c93c of _0x1c09b6)if(this[_0x5d2c9f(0x7fc)][_0x5d2c9f(0x780)]&&_0x31c93c['messageTimestamp']>=_0x162b1d){if(this[_0x5d2c9f(0x416)](this[_0x5d2c9f(0x7fc)][_0x5d2c9f(0x3c3)],_0x31c93c['_id'])){this[_0x5d2c9f(0x241)][_0x5d2c9f(0x8af)](this['instanceName']+'\x20('+this[_0x5d2c9f(0x7fc)][_0x5d2c9f(0x3c3)]+_0x5d2c9f(0x3d7)+_0x31c93c[_0x5d2c9f(0x2c7)]+')');continue;}this[_0x5d2c9f(0x53f)](this[_0x5d2c9f(0x7fc)]['wuid'],_0x31c93c[_0x5d2c9f(0x2c7)]),this[_0x5d2c9f(0x491)](_0x5d2c9f(0x38a),_0x31c93c);}else this[_0x5d2c9f(0x491)](_0x5d2c9f(0x3ca),_0x31c93c);_0x6e16a7=void 0x0;},'messages.upsert':async({messages:_0x572a53,type:_0x3ae610},_0x23f291)=>{const _0x2c0b4a=_0x2601b9;for(let _0x57e154 of _0x572a53){if(this[_0x2c0b4a(0x567)]?.['groups_ignore']&&_0x57e154['key'][_0x2c0b4a(0x57e)][_0x2c0b4a(0x4ee)](_0x2c0b4a(0x2bc))){this[_0x2c0b4a(0x241)][_0x2c0b4a(0x8af)](this['instanceName']+'\x20('+this[_0x2c0b4a(0x7fc)][_0x2c0b4a(0x3c3)]+_0x2c0b4a(0x54b));continue;}if(_0x57e154[_0x2c0b4a(0x493)]['remoteJid']['includes'](_0x2c0b4a(0x20e))||_0x57e154[_0x2c0b4a(0x493)][_0x2c0b4a(0x57e)]==='status@broadcast')continue;if(_0x57e154['messageStubParameters']&&_0x57e154[_0x2c0b4a(0x90c)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x2c0b4a(0x812)](_0x2c0b4a(0x345)),await this[_0x2c0b4a(0x90b)](_0x57e154),Lt[_0x57e154['key']['id']]=_0x57e154,this['retrySendMessage'](_0x57e154,0x0);continue;}if(_0x3ae610!==_0x2c0b4a(0x750)||!_0x57e154?.[_0x2c0b4a(0x7d9)]||_0x57e154[_0x2c0b4a(0x7d9)]?.[_0x2c0b4a(0x90a)]||_0x57e154[_0x2c0b4a(0x7d9)]?.[_0x2c0b4a(0x546)])continue;let _0x11a206=null,_0x2b742f=null;if(Lt[_0x57e154[_0x2c0b4a(0x493)]['id']]&&(console[_0x2c0b4a(0x812)]('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),await this[_0x2c0b4a(0x8ea)][_0x2c0b4a(0x1b7)][_0x2c0b4a(0x221)]({'where':{'_id':_0x57e154[_0x2c0b4a(0x493)]['id']}}),delete Lt[_0x57e154['key']['id']]),this[_0x2c0b4a(0x416)](this[_0x2c0b4a(0x7fc)]['wuid'],_0x57e154[_0x2c0b4a(0x493)]['id'])){this[_0x2c0b4a(0x241)][_0x2c0b4a(0x8af)](this[_0x2c0b4a(0x7d7)]+'\x20('+this[_0x2c0b4a(0x7fc)][_0x2c0b4a(0x3c3)]+_0x2c0b4a(0x41c));continue;}this['addToProcessedMessages'](this[_0x2c0b4a(0x7fc)][_0x2c0b4a(0x3c3)],_0x57e154[_0x2c0b4a(0x493)]['id']);try{_0x11a206=await this[_0x2c0b4a(0x523)](_0x57e154),_0x2b742f=_0x11a206?_0x11a206[_0x2c0b4a(0x938)](','):null;}catch(_0x2303c3){this['logger']['verbose'](this[_0x2c0b4a(0x7d7)]+'\x20('+this[_0x2c0b4a(0x7fc)][_0x2c0b4a(0x3c3)]+_0x2c0b4a(0x4a5)+(_0x2303c3 instanceof Error?_0x2303c3[_0x2c0b4a(0x7d9)]:JSON[_0x2c0b4a(0x86d)](_0x2303c3,null,0x2))),_0x2b742f=_0x2c0b4a(0x572);}this[_0x2c0b4a(0x3c4)][_0x2c0b4a(0x762)](_0x2c0b4a(0x4a8)),Ls[_0x2c0b4a(0x32c)][_0x2c0b4a(0x43d)](_0x57e154[_0x2c0b4a(0x35a)])&&(_0x57e154[_0x2c0b4a(0x35a)]=_0x57e154[_0x2c0b4a(0x35a)]?.[_0x2c0b4a(0x78e)]()),_0x57e154[_0x2c0b4a(0x35a)]&&_0x57e154[_0x2c0b4a(0x35a)][_0x2c0b4a(0x281)]()['length']<0xd&&(_0x57e154[_0x2c0b4a(0x35a)]=_0x57e154['messageTimestamp']*0x3e8);let _0x251837=_0x57e154[_0x2c0b4a(0x7d9)],_0x135c79=(0x0,w[_0x2c0b4a(0x4c9)])(_0x251837),_0x50e62f=(0x0,w[_0x2c0b4a(0x1ba)])(_0x135c79),{messageContent:_0x46ce4e,message_normalized:_0x32b965}=this[_0x2c0b4a(0x294)](_0x135c79,_0x50e62f,_0x2b742f);if(_0x50e62f===_0x2c0b4a(0x90a)&&_0x46ce4e?.['editedMessage']&&(_0x50e62f=_0x2c0b4a(0x4f7)),_0x50e62f===_0x2c0b4a(0x87c)&&_0x57e154[_0x2c0b4a(0x493)]['fromMe'])continue;let _0x1d81c7,_0x1e906c=_0x57e154[_0x2c0b4a(0x493)][_0x2c0b4a(0x57e)][_0x2c0b4a(0x62e)](_0x2c0b4a(0x2bc));if(_0x57e154['key'][_0x2c0b4a(0x650)])_0x1d81c7=this[_0x2c0b4a(0x7fc)][_0x2c0b4a(0x5e5)];else{let _0x2b7f56=_0x1e906c?_0x57e154[_0x2c0b4a(0x493)][_0x2c0b4a(0x555)]:_0x57e154[_0x2c0b4a(0x493)]['remoteJid'];_0x1d81c7=(await this[_0x2c0b4a(0x30f)](_0x2b7f56,_0x57e154['pushName'],!0x1))[_0x2c0b4a(0x841)][_0x2c0b4a(0x3df)];}let _0x1bdc27={'_id':_0x57e154[_0x2c0b4a(0x493)]['id'],'key':_0x57e154[_0x2c0b4a(0x493)],'isGroup':_0x1e906c,'profilePictureUrl':_0x1d81c7,'pushName':_0x57e154[_0x2c0b4a(0x4a1)],'message':_0x135c79,'messageType':_0x50e62f,'message_normalized':{'key':_0x57e154[_0x2c0b4a(0x493)],'pushName':_0x57e154['pushName'],'messageTimestamp':_0x57e154['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x57e154[_0x2c0b4a(0x493)]['id']),..._0x32b965},'messageTimestamp':_0x57e154['messageTimestamp'],'owner':this[_0x2c0b4a(0x7fc)][_0x2c0b4a(0x3c3)],'source':(0x0,w[_0x2c0b4a(0x22d)])(_0x57e154['key']['id']),'expiration':_0x46ce4e?.[_0x2c0b4a(0x510)]?.[_0x2c0b4a(0x4aa)]||0x0};if(!_0x46ce4e){this[_0x2c0b4a(0x241)][_0x2c0b4a(0x812)]('Mensagem\x20não\x20suportada'),this['logger'][_0x2c0b4a(0x812)](_0x1bdc27);return;}if(_0x32b965[_0x2c0b4a(0x3ac)]===_0x2c0b4a(0x4ed)){console[_0x2c0b4a(0x812)]('[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this[_0x2c0b4a(0x90b)](_0x57e154);continue;}this['logger'][_0x2c0b4a(0x84c)](this[_0x2c0b4a(0x7d7)]+'\x20('+this['instance'][_0x2c0b4a(0x3c3)]+_0x2c0b4a(0x4a5)+(_0x1bdc27[_0x2c0b4a(0x493)]?.['fromMe']?_0x2c0b4a(0x6e7):_0x2c0b4a(0x38c))+'\x20['+_0x1bdc27[_0x2c0b4a(0x493)]?.['remoteJid'][_0x2c0b4a(0x8df)](_0x2c0b4a(0x249),'')+_0x2c0b4a(0x69e)+_0x1bdc27['messageType']+')'),_0x1bdc27[_0x2c0b4a(0x47a)]?.['text']&&this[_0x2c0b4a(0x241)][_0x2c0b4a(0x84c)](_0x57e154[_0x2c0b4a(0x493)]['id']+':\x20'+_0x1bdc27[_0x2c0b4a(0x47a)]?.[_0x2c0b4a(0x3ac)]),await this[_0x2c0b4a(0x8ea)][_0x2c0b4a(0x7d9)][_0x2c0b4a(0x805)]([_0x1bdc27],this[_0x2c0b4a(0x7fc)]['wuid']),this[_0x2c0b4a(0x491)](_0x2c0b4a(0x38a),_0x1bdc27),F(this[_0x2c0b4a(0x7d7)],'messages',{'message':_0x1bdc27}),_0x57e154[_0x2c0b4a(0x493)][_0x2c0b4a(0x57e)]!==_0x2c0b4a(0x811)&&await this[_0x2c0b4a(0x77d)](_0x23f291,_0x1bdc27,_0x2c0b4a(0x372));}},'messages.update':async(_0x3077a1,_0xb29928)=>{const _0x3597f0=_0x2601b9;let _0x2d5f00={0x0:'ERROR',0x1:_0x3597f0(0x366),0x2:'SERVER_ACK',0x3:_0x3597f0(0x4b6),0x4:_0x3597f0(0x6dc),0x5:_0x3597f0(0x5b2)};for await(let {key:_0x3246af,update:_0x3a8135}of _0x3077a1){if(this[_0x3597f0(0x567)]?.[_0x3597f0(0x2d9)]&&_0x3246af[_0x3597f0(0x57e)][_0x3597f0(0x4ee)](_0x3597f0(0x2bc))){this[_0x3597f0(0x241)][_0x3597f0(0x8af)](this[_0x3597f0(0x7d7)]+'\x20('+this[_0x3597f0(0x7fc)]['wuid']+_0x3597f0(0x798));return;}if(_0x3246af['remoteJid']!=='status@broadcast'){let _0x4971eb=Date[_0x3597f0(0x435)](),_0x1199bd;_0x3a8135[_0x3597f0(0x7d9)]===null&&_0x3a8135['status']===void 0x0?_0x1199bd=_0x3597f0(0x311):_0x1199bd=_0x2d5f00[_0x3a8135['status']];let _0x2b18af=_0x3246af['remoteJid'][_0x3597f0(0x8df)](/:\d{1,2}@/g,'@'),_0x4af0a1={..._0x3246af,'remoteJid':_0x2b18af,'status':_0x1199bd,'datetime':_0x4971eb,'owner':this[_0x3597f0(0x7fc)][_0x3597f0(0x3c3)]};this['sendDataWebhook'](_0x3597f0(0x8c7),_0x4af0a1),await this['updateMessage'](_0x3246af,_0x4af0a1);}}},'labels.association':async({type:_0x277ee5,association:_0x297cef})=>{const _0x36bbcd=_0x2601b9;if(_0x297cef[_0x36bbcd(0x5a8)]==='label_jid'){let _0x16c427,_0x32b277=0x0;for(;!_0x16c427&&_0x32b277<this[_0x36bbcd(0x4fb)];)_0x16c427=await this['repository'][_0x36bbcd(0x75d)][_0x36bbcd(0x81e)]({'where':{'_id':_0x297cef[_0x36bbcd(0x5a6)]}},this['instance'][_0x36bbcd(0x3c3)]),_0x16c427||(_0x32b277++,this[_0x36bbcd(0x241)][_0x36bbcd(0x40b)](this[_0x36bbcd(0x7d7)]+'\x20('+this[_0x36bbcd(0x7fc)][_0x36bbcd(0x3c3)]+'):\x20Chat\x20'+_0x297cef[_0x36bbcd(0x5a6)]+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x36bbcd(0x865)]+_0x36bbcd(0x764)+_0x32b277+'/'+this[_0x36bbcd(0x4fb)]+')'),await this[_0x36bbcd(0x219)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x16c427){this[_0x36bbcd(0x241)][_0x36bbcd(0x812)](_0x36bbcd(0x876)+_0x297cef[_0x36bbcd(0x5a6)]+_0x36bbcd(0x224)+this[_0x36bbcd(0x4fb)]+'\x20tentativas.');return;}switch(_0x277ee5){case _0x36bbcd(0x92c):console[_0x36bbcd(0x84c)](_0x297cef),await this[_0x36bbcd(0x8ea)][_0x36bbcd(0x75d)][_0x36bbcd(0x411)]({'where':{'_id':_0x297cef['chatId']}},{'leadInfo.etiquetas':_0x297cef['labelId']},this[_0x36bbcd(0x7fc)]['wuid'],void 0x0,_0x36bbcd(0x1b2));break;case _0x36bbcd(0x62a):console[_0x36bbcd(0x84c)](_0x297cef),await this[_0x36bbcd(0x8ea)][_0x36bbcd(0x75d)][_0x36bbcd(0x411)]({'where':{'_id':_0x297cef['chatId']}},{'leadInfo.etiquetas':_0x297cef[_0x36bbcd(0x889)]},this['instance'][_0x36bbcd(0x3c3)],void 0x0,_0x36bbcd(0x818));break;default:this[_0x36bbcd(0x241)][_0x36bbcd(0x812)](_0x36bbcd(0x799)+_0x277ee5+']');}}},'labels.edit':async _0x1d3202=>{const _0x5b4dc4=_0x2601b9;if(!_0x1d3202||!_0x1d3202['id']){this['logger'][_0x5b4dc4(0x812)](_0x5b4dc4(0x828));return;}if(!_0x1d3202['deleted']){let _0x3c754f=['#ff9484',_0x5b4dc4(0x6b6),_0x5b4dc4(0x554),_0x5b4dc4(0x326),_0x5b4dc4(0x286),_0x5b4dc4(0x804),_0x5b4dc4(0x2e3),_0x5b4dc4(0x343),_0x5b4dc4(0x1f2),_0x5b4dc4(0x73d),_0x5b4dc4(0x693),_0x5b4dc4(0x793),_0x5b4dc4(0x20a),_0x5b4dc4(0x4fe),_0x5b4dc4(0x287),_0x5b4dc4(0x545),_0x5b4dc4(0x59e),_0x5b4dc4(0x3bf),'#9ba6ff',_0x5b4dc4(0x72c)],_0x21a37f;typeof _0x1d3202[_0x5b4dc4(0x389)]==_0x5b4dc4(0x443)&&_0x1d3202['color']>=0x0&&_0x1d3202['color']<_0x3c754f[_0x5b4dc4(0x235)]?_0x21a37f=_0x3c754f[_0x1d3202[_0x5b4dc4(0x389)]]:(this[_0x5b4dc4(0x241)]['error'](_0x5b4dc4(0x740)+_0x1d3202['color']),_0x21a37f=_0x5b4dc4(0x5e3));let _0x44520f={'_id':_0x1d3202['id'],'colorHex':_0x21a37f,'color':_0x1d3202?.[_0x5b4dc4(0x389)],'name':_0x1d3202?.['name'],'owner':this['instance'][_0x5b4dc4(0x3c3)]};await this['repository'][_0x5b4dc4(0x29d)][_0x5b4dc4(0x411)]({'where':{'_id':_0x1d3202['id']}},_0x44520f,this[_0x5b4dc4(0x7fc)][_0x5b4dc4(0x3c3)]),this[_0x5b4dc4(0x241)][_0x5b4dc4(0x40b)](this[_0x5b4dc4(0x7d7)]+'\x20('+this[_0x5b4dc4(0x7fc)]['wuid']+_0x5b4dc4(0x2d1)+_0x1d3202);}_0x1d3202[_0x5b4dc4(0x217)]&&(await this[_0x5b4dc4(0x8ea)][_0x5b4dc4(0x29d)][_0x5b4dc4(0x221)]({'where':{'_id':_0x1d3202['id']}},this[_0x5b4dc4(0x7fc)][_0x5b4dc4(0x3c3)]),this[_0x5b4dc4(0x241)][_0x5b4dc4(0x40b)](_0x5b4dc4(0x80a)+_0x1d3202['id']));}},this[_0x2601b9(0x819)]={'groups.upsert':async _0x32ec06=>{const _0x4bdc3f=_0x2601b9;this['localWebhook']?.[_0x4bdc3f(0x2d9)]||this['sendDataWebhook'](_0x4bdc3f(0x467),_0x32ec06);for(let _0x35b57b of _0x32ec06)await this['updateGroupWebhook'](_0x35b57b);},'groups.update':async _0x31de00=>{const _0x50cf3b=_0x2601b9;this[_0x50cf3b(0x567)]?.[_0x50cf3b(0x2d9)]||this[_0x50cf3b(0x491)]('groups.update',_0x31de00);for(let _0x5ea275 of _0x31de00)await this['updateGroupWebhook'](_0x5ea275);},'group-participants.update':async _0x9108f4=>{const _0x2b2995=_0x2601b9;this[_0x2b2995(0x567)]?.['groups_ignore']||this[_0x2b2995(0x491)](_0x2b2995(0x935),_0x9108f4),await this['updateGroupParticipantsWebhook'](_0x9108f4);}},this[_0x2601b9(0x4fb)]=0x5,this[_0x2601b9(0x865)]=0x1388,this['lastRealGroupsFetch']=0x0,this[_0x2601b9(0x523)]=async _0x559c85=>{const _0x81af5d=_0x2601b9;if(_0x559c85[_0x81af5d(0x7d9)]?.[_0x81af5d(0x355)]){let _0x176c94=await this[_0x81af5d(0x325)](_0x559c85[_0x81af5d(0x7d9)][_0x81af5d(0x355)][_0x81af5d(0x8e2)],!0x0);if(_0x176c94){let _0x16cca2=_0x176c94['key'][_0x81af5d(0x650)]?this[_0x81af5d(0x7fc)][_0x81af5d(0x3c3)]+_0x81af5d(0x249):_0x176c94['key'][_0x81af5d(0x555)]||_0x176c94[_0x81af5d(0x493)][_0x81af5d(0x57e)],_0x288fec=_0x176c94[_0x81af5d(0x493)]['id'],_0x134cfc=_0x176c94[_0x81af5d(0x7d9)],_0x726c8a=Buffer[_0x81af5d(0x4ea)](_0x134cfc[_0x81af5d(0x712)]['messageSecret']['toString']('hex'),_0x81af5d(0x468)),_0x5b37f7=(0x0,w[_0x81af5d(0x504)])(_0x559c85[_0x81af5d(0x7d9)][_0x81af5d(0x355)][_0x81af5d(0x626)],{'pollCreatorJid':_0x16cca2,'pollMsgId':_0x288fec,'pollEncKey':_0x726c8a,'voterJid':_0x559c85['key'][_0x81af5d(0x650)]?this['instance']['wuid']+_0x81af5d(0x249):_0x559c85[_0x81af5d(0x493)][_0x81af5d(0x57e)]['endsWith'](_0x81af5d(0x588))?_0x559c85['key'][_0x81af5d(0x555)]:_0x559c85['key']['remoteJid']}),_0x5a18a0=[],_0x49f815=_0x5b37f7[_0x81af5d(0x78c)][_0x81af5d(0x6df)](_0x531075=>Buffer[_0x81af5d(0x4ea)](_0x531075)[_0x81af5d(0x281)](_0x81af5d(0x468)));for(let {optionName:_0x228df8}of _0x134cfc[_0x81af5d(0x271)]?.[_0x81af5d(0x54f)]||_0x134cfc[_0x81af5d(0x1ff)]?.[_0x81af5d(0x54f)]||_0x134cfc[_0x81af5d(0x708)]?.['options'])_0x49f815[_0x81af5d(0x8bd)]((0x0,w[_0x81af5d(0x647)])(Buffer[_0x81af5d(0x4ea)](_0x228df8))[_0x81af5d(0x281)](_0x81af5d(0x468)))>-0x1&&_0x5a18a0['push'](_0x228df8);return _0x5a18a0;}}return null;},this[_0x2601b9(0x294)]=(_0x4fba03,_0x2a3551,_0x108102)=>{const _0x306c99=_0x2601b9;try{let _0xd98bad=_0x4fba03?(0x0,w[_0x306c99(0x586)])(_0x4fba03)[_0x2a3551]:void 0x0,_0xcfa0f2={},_0x2015bb=null,_0x3de7c9=null,_0x4e023f=null,_0x114fc6=null;_0x2a3551===_0x306c99(0x90a)&&_0xd98bad?.[_0x306c99(0x4f7)]&&(_0x2a3551=(0x0,w[_0x306c99(0x1ba)])(_0xd98bad[_0x306c99(0x4f7)]),_0x2015bb=_0x4fba03['protocolMessage'][_0x306c99(0x493)]['id'],_0xd98bad=_0x4fba03[_0x306c99(0x90a)][_0x306c99(0x4f7)][_0x2a3551]),_0x4fba03[_0x2a3551]?.[_0x306c99(0x510)]?.['stanzaId']&&_0x4fba03[_0x2a3551]?.[_0x306c99(0x510)]?.[_0x306c99(0x4ef)]&&(_0x3de7c9=_0x4fba03[_0x2a3551][_0x306c99(0x510)][_0x306c99(0x632)]),_0x4fba03[_0x306c99(0x8a8)]&&(_0x4e023f=_0x4fba03[_0x306c99(0x8a8)][_0x306c99(0x493)]['id']);let _0x972af6;if(_0xd98bad&&typeof _0xd98bad==_0x306c99(0x1ef)&&_0x306c99(0x8e2)in _0xd98bad&&({pollCreationMessageKey:_0x972af6}=_0xd98bad),_0x2a3551==='pollCreationMessage'||_0x2a3551==='pollCreationMessageV2'||_0x2a3551===_0x306c99(0x1ff)){let _0xa4c3d4=_0xd98bad[_0x306c99(0x54f)][_0x306c99(0x6df)](_0x14edcb=>_0x14edcb['optionName'])['join']('|');_0xcfa0f2[_0x306c99(0x203)]=_0xa4c3d4;}if(_0x2a3551==='interactiveMessage'){let _0x36ed09=_0xd98bad[_0x306c99(0x2b1)][_0x306c99(0x3d9)][_0x306c99(0x6df)](_0x1df563=>JSON[_0x306c99(0x4d9)](_0x1df563[_0x306c99(0x557)])['display_text'])[_0x306c99(0x938)]('|');_0xcfa0f2['convertedOptions']=_0x36ed09;}_0x2a3551==='listResponseMessage'&&(_0xcfa0f2['buttonOrList_id']=_0xd98bad?.[_0x306c99(0x656)]?.[_0x306c99(0x71b)]);let _0x230e05='';if(_0xd98bad&&(_0x230e05+=_0xd98bad[_0x306c99(0x35d)]?_0xd98bad['name']:'',_0x230e05+=_0xd98bad['caption']?'\x20'+_0xd98bad['caption']:'',_0x230e05+=_0xd98bad[_0x306c99(0x2e4)]?'\x20'+_0xd98bad[_0x306c99(0x2e4)]:'',_0x230e05+=_0xd98bad[_0x306c99(0x879)]?'\x20'+_0xd98bad[_0x306c99(0x879)]:'',_0x2a3551!==_0x306c99(0x685)&&(_0x230e05+=_0xd98bad[_0x306c99(0x72e)]?.['text']?'\x20'+_0xd98bad[_0x306c99(0x72e)][_0x306c99(0x3ac)]:''),_0x230e05+=_0xd98bad?.['footer']?.['text']?'\x20'+_0xd98bad?.[_0x306c99(0x88a)]?.['text']:''),_0x2a3551==='listMessage'){_0x230e05=(_0xd98bad[_0x306c99(0x589)]||'')+'\x0a'+(_0xd98bad[_0x306c99(0x1b6)]||'')+'\x0a'+(_0xd98bad[_0x306c99(0x6a1)]||'');let _0x3adaf2=this[_0x306c99(0x5cd)](_0xd98bad[_0x306c99(0x635)]);_0xcfa0f2[_0x306c99(0x203)]=_0x3adaf2;}if(_0x2a3551===_0x306c99(0x757)&&(_0x108102=_0xd98bad['title'],_0x114fc6=_0xd98bad?.[_0x306c99(0x656)]?.[_0x306c99(0x71b)]),_0x2a3551==='interactiveResponseMessage'){let _0x2ffea7=_0xd98bad?.[_0x306c99(0x735)];_0x2ffea7&&_0x2ffea7[_0x306c99(0x35d)]===_0x306c99(0x82c)&&(_0x114fc6=JSON[_0x306c99(0x4d9)](_0x2ffea7['paramsJson'])['id']),_0x108102=_0xd98bad?.[_0x306c99(0x72e)]?.[_0x306c99(0x3ac)];}if(_0x2a3551===_0x306c99(0x56e)&&(_0x108102=_0xd98bad?.[_0x306c99(0x600)],_0x114fc6=_0xd98bad?.['selectedId']),_0x2a3551===_0x306c99(0x419)&&(_0x108102=_0xd98bad?.[_0x306c99(0x600)],_0x114fc6=_0xd98bad?.[_0x306c99(0x855)]),_0xd98bad&&_0xd98bad['vcard']){let _0x16ad33=this[_0x306c99(0x23e)](JSON['stringify'](_0xd98bad[_0x306c99(0x6e3)],null,0x2));_0x230e05=_0x230e05+'\x0a'+_0x16ad33;}if(_0xd98bad){let {selectedButtonId:_0x3e6a44,nativeFlowResponseMessage:_0x513502,selectedId:_0x59315b,selectedDisplayText:_0x2bf218,selectedIndex:_0x3b60dc,body:_0x1a66fb,nativeFlowMessage:_0x29e6de,singleSelectReply:_0x37050c,sections:_0x3d6732,listType:_0x1e9b80,displayName:_0x11414f,vcard:_0x2aaba8,contactVcard:_0x5d88a4,name:_0x2846ad,caption:_0x535399,conversation:_0x4614fc,pollCreationMessageKey:_0x3fe685,footerText:_0xe373b8,contentText:_0x1bf030,pageCount:_0xa7f419,headerType:_0x28990d,isAvatar:_0x2d1ce9,isAnimated:_0x5b7328,fallbackLc:_0x4e0d0a,fallbackLg:_0x15e435,namespace:_0x441c81,elementName:_0x48521f,localizableParams:_0x114b08,viewOnce:_0x2215f3,height:_0x21b20d,width:_0x4041f6,key:_0x8ff714,firstScanLength:_0x55e327,firstScanSidecar:_0x240d50,gifPlayback:_0x513563,gifAttribution:_0x680c1b,midQualityFileSha256:_0x401ab1,scansSidecar:_0x3227d6,streamingSidecar:_0x2fe494,thumbnailHeight:_0x552733,thumbnailWidth:_0x4976ac,thumbnailEncSha256:_0x2c3d36,thumbnailDirectPath:_0x46f3fe,canonicalUrl:_0x4f90ea,matchedText:_0x21aca9,previewType:_0x43f906,thumbnailSha256:_0x12ab76,deviceListMetadataVersion:_0x51dc47,inviteLinkGroupTypeV2:_0x3aea26,interactiveAnnotations:_0x5f2ca7,scanLengths:_0x56ff38,jpegThumbnail:_0x18bf9e,url:_0x2a7a69,mediaKeyTimestamp:_0xf48cc8,waveform:_0x513d1f,stickerSentTs:_0xe3a713,firstFrameLength:_0x45c5a7,fileEncSha256:_0x5bc5a5,contextInfo:_0x4864e8,firstFrameSidecar:_0x2a1437,directPath:_0x3cbfdd,fileSha256:_0xe9ac9b,mediaKey:_0x129cb8,senderTimestampMs:_0x52dcc3,..._0x55af14}=_0xd98bad;(_0x2a3551===_0x306c99(0x68e)||_0x2a3551==='listResponseMessage')&&(delete _0x55af14[_0x306c99(0x589)],delete _0x55af14[_0x306c99(0x1b6)]),typeof _0xd98bad==_0x306c99(0x749)?_0xcfa0f2={'text':_0xd98bad,'type':_0x2a3551||_0x306c99(0x2e4),..._0x2015bb&&{'edited':_0x2015bb},..._0x3de7c9&&{'quoted':_0x3de7c9},..._0x4e023f&&{'reaction':_0x4e023f}}:_0xcfa0f2={'text':_0x230e05,..._0x55af14,..._0x2a3551==='pollUpdateMessage'?{'poll_id':_0xd98bad[_0x306c99(0x8e2)]['id'],'quoted':_0xd98bad[_0x306c99(0x8e2)]['id'],'vote':_0x108102}:{},..._0x2a3551===_0x306c99(0x757)?{'buttonOrList_id':_0x114fc6,'vote':_0x108102}:{},..._0x2a3551===_0x306c99(0x685)?{'buttonOrList_id':_0x114fc6,'vote':_0x108102}:{},..._0x2a3551===_0x306c99(0x56e)?{'buttonOrList_id':_0x114fc6,'vote':_0x108102}:{},..._0x2a3551===_0x306c99(0x419)?{'buttonOrList_id':_0x114fc6,'vote':_0x108102}:{},'type':_0x2a3551,..._0x2015bb&&{'edited':_0x2015bb},..._0x3de7c9&&{'quoted':_0x3de7c9},..._0x4e023f&&{'reaction':_0x4e023f},...(_0x2a3551===_0x306c99(0x271)||_0x2a3551===_0x306c99(0x708)||_0x2a3551===_0x306c99(0x1ff)||_0x2a3551===_0x306c99(0x68e)||_0x2a3551===_0x306c99(0x87c))&&{'convertedOptions':_0xcfa0f2[_0x306c99(0x203)]}};}return{'messageType':_0x2a3551,'messageContent':_0xd98bad,'message_normalized':_0xcfa0f2};}catch(_0x36c0bc){return this[_0x306c99(0x241)][_0x306c99(0x812)](_0x306c99(0x72f)+_0x36c0bc),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x2601b9(0x46c)]=[],(this[_0x2601b9(0x19b)](),this[_0x2601b9(0x899)](),this[_0x2601b9(0x7fc)]['HistoryProcessed']=!0x0,this['instance'][_0x2601b9(0x6d4)]={'count':0x0},this[_0x2601b9(0x7fc)][_0x2601b9(0x774)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x5c0bdf(0x53f)](_0x4fddcc,_0x145f2f){const _0x2ae390=a0_0x5c0bdf;this[_0x2ae390(0x205)][_0x4fddcc]||(this[_0x2ae390(0x205)][_0x4fddcc]=new Set()),this[_0x2ae390(0x205)][_0x4fddcc]['add'](_0x145f2f),setTimeout(()=>this['processedMessagesCache'][_0x4fddcc][_0x2ae390(0x221)](_0x145f2f),0x2710);}[a0_0x5c0bdf(0x416)](_0x4ec18b,_0x1d2e19){const _0x31048c=a0_0x5c0bdf;return this[_0x31048c(0x205)][_0x4ec18b]?.[_0x31048c(0x400)](_0x1d2e19)??!0x1;}set['instanceName'](_0x1d86f2){const _0x3a09e9=a0_0x5c0bdf;if(!_0x1d86f2){this[_0x3a09e9(0x7fc)][_0x3a09e9(0x35d)]=(0x0,Ti['v4'])();return;}this['instance'][_0x3a09e9(0x35d)]=_0x1d86f2,this[_0x3a09e9(0x491)](_0x3a09e9(0x93e),{'instance':this[_0x3a09e9(0x7fc)][_0x3a09e9(0x35d)],'status':'created'});}get[a0_0x5c0bdf(0x7d7)](){const _0x43ddc7=a0_0x5c0bdf;return this['instance'][_0x43ddc7(0x35d)];}get[a0_0x5c0bdf(0x3c3)](){const _0x4a0a89=a0_0x5c0bdf;return this[_0x4a0a89(0x7fc)][_0x4a0a89(0x3c3)];}async['getProfileName'](){const _0x25ade0=a0_0x5c0bdf;let _0x1545db=this[_0x25ade0(0x3c4)][_0x25ade0(0x6ff)]?.[_0x25ade0(0x35d)]??this['client']['user']?.[_0x25ade0(0x3e3)];if(!_0x1545db){if(this[_0x25ade0(0x247)][_0x25ade0(0x1fe)](_0x25ade0(0x37f))[_0x25ade0(0x2ed)]){let _0x2fd702=await T['getClient']()['db'](this['configService'][_0x25ade0(0x1fe)]('DATABASE')[_0x25ade0(0x537)][_0x25ade0(0x7bf)]+_0x25ade0(0x323))['collection'](this[_0x25ade0(0x7d7)])[_0x25ade0(0x81e)]({'_id':'creds'});if(_0x2fd702){let _0x5835d5=JSON['parse'](JSON['stringify'](_0x2fd702),w[_0x25ade0(0x50a)][_0x25ade0(0x592)]);_0x1545db=_0x5835d5['me']?.[_0x25ade0(0x35d)]||_0x5835d5['me']?.['verifiedName'];}}else{if((0x0,Fe[_0x25ade0(0x4a7)])((0x0,j[_0x25ade0(0x938)])(be,this[_0x25ade0(0x7d7)],'creds.json'))){let _0x894895=JSON['parse']((0x0,Fe[_0x25ade0(0x3db)])((0x0,j[_0x25ade0(0x938)])(be,this[_0x25ade0(0x7d7)],_0x25ade0(0x8cc)),{'encoding':_0x25ade0(0x86b)}));_0x1545db=_0x894895['me']?.[_0x25ade0(0x35d)]||_0x894895['me']?.[_0x25ade0(0x3e3)];}}}return _0x1545db;}get['profilePictureUrl'](){const _0x1d44eb=a0_0x5c0bdf;return this['instance'][_0x1d44eb(0x5e5)];}async[a0_0x5c0bdf(0x51d)](){const _0x279036=a0_0x5c0bdf;let _0x2a4d44=this['instance'][_0x279036(0x3c3)]+_0x279036(0x249);try{await this[_0x279036(0x3c4)][_0x279036(0x814)](_0x2a4d44)?this[_0x279036(0x7fc)]['isBusiness']=!0x0:this['instance'][_0x279036(0x6fe)]=!0x1;}catch{this[_0x279036(0x7fc)][_0x279036(0x6fe)]=!0x1;}return this['logger']['info'](this[_0x279036(0x7d7)]+'\x20('+this['instance']['wuid']+_0x279036(0x70e)+this[_0x279036(0x7fc)][_0x279036(0x6fe)]),this[_0x279036(0x7fc)][_0x279036(0x6fe)];}get['qrCode'](){const _0x62dc7e=a0_0x5c0bdf;return this[_0x62dc7e(0x7fc)][_0x62dc7e(0x780)]=!0x1,this['instance'][_0x62dc7e(0x6d4)]?.[_0x62dc7e(0x742)]?{'pairingCode':this[_0x62dc7e(0x7fc)][_0x62dc7e(0x6d4)]?.[_0x62dc7e(0x742)]}:{'code':this[_0x62dc7e(0x7fc)][_0x62dc7e(0x6d4)]?.[_0x62dc7e(0x7b3)],'base64':this[_0x62dc7e(0x7fc)][_0x62dc7e(0x6d4)]?.[_0x62dc7e(0x916)]};}async['loadWebhook'](){const _0x534f84=a0_0x5c0bdf;let _0x1673d9=await this[_0x534f84(0x8ea)][_0x534f84(0x24d)]['find'](this[_0x534f84(0x7d7)]);this[_0x534f84(0x567)][_0x534f84(0x44c)]=_0x1673d9?.[_0x534f84(0x44c)],this[_0x534f84(0x567)][_0x534f84(0x5c3)]=_0x1673d9?.[_0x534f84(0x5c3)],this[_0x534f84(0x567)][_0x534f84(0x880)]=_0x1673d9?.[_0x534f84(0x880)],this[_0x534f84(0x567)][_0x534f84(0x50e)]=_0x1673d9?.[_0x534f84(0x50e)],this[_0x534f84(0x567)][_0x534f84(0x32d)]=_0x1673d9?.[_0x534f84(0x32d)],this['localWebhook']['SEND_MESSAGE']=_0x1673d9?.['SEND_MESSAGE'],this[_0x534f84(0x567)][_0x534f84(0x372)]=_0x1673d9?.[_0x534f84(0x372)],this[_0x534f84(0x567)]['MESSAGES_UPDATE']=_0x1673d9?.['MESSAGES_UPDATE'],this[_0x534f84(0x567)][_0x534f84(0x19d)]=_0x1673d9?.['GROUPS_UPSERT'],this[_0x534f84(0x567)][_0x534f84(0x4b5)]=_0x1673d9?.[_0x534f84(0x4b5)],this['localWebhook'][_0x534f84(0x60b)]=_0x1673d9?.[_0x534f84(0x60b)],this[_0x534f84(0x567)][_0x534f84(0x533)]=_0x1673d9?.[_0x534f84(0x533)],this[_0x534f84(0x567)]['CHATS_UPSERT']=_0x1673d9?.[_0x534f84(0x4d5)],this[_0x534f84(0x567)][_0x534f84(0x617)]=_0x1673d9?.[_0x534f84(0x617)],this['localWebhook']['CHATS_DELETE']=_0x1673d9?.[_0x534f84(0x882)],this[_0x534f84(0x567)][_0x534f84(0x7f3)]=_0x1673d9?.[_0x534f84(0x7f3)],this[_0x534f84(0x567)][_0x534f84(0x646)]=_0x1673d9?.[_0x534f84(0x646)],this[_0x534f84(0x567)][_0x534f84(0x516)]=_0x1673d9?.[_0x534f84(0x516)],this['localWebhook'][_0x534f84(0x4e7)]=_0x1673d9?.[_0x534f84(0x4e7)],this[_0x534f84(0x567)]['MESSAGES_SET']=_0x1673d9?.[_0x534f84(0x406)],this['localWebhook'][_0x534f84(0x45a)]=_0x1673d9?.[_0x534f84(0x45a)],this[_0x534f84(0x567)][_0x534f84(0x2d9)]=_0x1673d9?.[_0x534f84(0x2d9)];}async['setWebhook'](_0x1b4fea){const _0x3450cf=a0_0x5c0bdf;let _0x20c500=['_id','url','enabled',_0x3450cf(0x880),_0x3450cf(0x50e),_0x3450cf(0x32d),_0x3450cf(0x8ae),_0x3450cf(0x372),_0x3450cf(0x6d9),_0x3450cf(0x19d),_0x3450cf(0x4b5),'GROUP_PARTICIPANTS_UPDATE','CHATS_SET',_0x3450cf(0x4d5),'CHATS_UPDATE',_0x3450cf(0x882),_0x3450cf(0x7f3),'CONTACTS_UPSERT','CONTACTS_UPDATE','PRESENCE_UPDATE',_0x3450cf(0x406),'CONNECTION_UPDATE',_0x3450cf(0x2d9)],_0xe99f45={};return _0x20c500['forEach'](_0x3d24cc=>{_0x1b4fea[_0x3d24cc]!==void 0x0&&(_0xe99f45[_0x3d24cc]=_0x1b4fea[_0x3d24cc]);}),_0xe99f45[_0x3450cf(0x44c)]&&(_0xe99f45[_0x3450cf(0x44c)]=_0xe99f45[_0x3450cf(0x44c)]['trim']()),await this[_0x3450cf(0x8ea)][_0x3450cf(0x24d)][_0x3450cf(0x615)](_0xe99f45,this[_0x3450cf(0x7d7)]),Object['assign'](this[_0x3450cf(0x567)],_0xe99f45),await this[_0x3450cf(0x8ea)][_0x3450cf(0x24d)][_0x3450cf(0x50f)](this['instanceName']);}async['findWebhook'](){const _0x209af2=a0_0x5c0bdf;return await this[_0x209af2(0x8ea)][_0x209af2(0x24d)][_0x209af2(0x50f)](this[_0x209af2(0x7d7)]);}async[a0_0x5c0bdf(0x491)](_0x2d8b73,_0x3879d9){const _0x18790c=a0_0x5c0bdf;let _0x5bc549=_0x2d8b73[_0x18790c(0x8df)](/[\.-]/gm,'_')[_0x18790c(0x2f3)](),_0x444edb=this[_0x18790c(0x567)]['enabled']&&(0x0,J['isURL'])(this[_0x18790c(0x567)][_0x18790c(0x44c)])?this[_0x18790c(0x567)]['url']+(this[_0x18790c(0x567)]['local_map']?this['webhookMap'][_0x2d8b73]:''):null,_0x14a07b=this[_0x18790c(0x567)][_0x5bc549],_0x1c1e38=de&&de[_0x18790c(0x5c3)]&&(0x0,J[_0x18790c(0x239)])(de[_0x18790c(0x44c)])?de[_0x18790c(0x44c)]+(de[_0x18790c(0x880)]?this[_0x18790c(0x3dc)][_0x2d8b73]:''):null,_0x11281c=de?de[_0x5bc549]:null;if(_0x14a07b&&_0x444edb)try{await K[_0x18790c(0x32c)][_0x18790c(0x615)]({'baseURL':_0x444edb})[_0x18790c(0x6ce)]('',{'event':_0x2d8b73,'instance':this['instance']['name'],'apikey':this[_0x18790c(0x7fc)][_0x18790c(0x692)],'data':_0x3879d9}),this['logger'][_0x18790c(0x84c)](this[_0x18790c(0x7d7)]+'\x20('+this[_0x18790c(0x7fc)][_0x18790c(0x3c3)]+_0x18790c(0x4ec)+_0x2d8b73+':\x20'+_0x444edb);}catch{this[_0x18790c(0x241)][_0x18790c(0x812)](this[_0x18790c(0x7d7)]+'\x20('+this['instance'][_0x18790c(0x3c3)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x2d8b73+':\x20'+_0x444edb);}if(_0x11281c&&_0x1c1e38)try{await K[_0x18790c(0x32c)][_0x18790c(0x615)]({'baseURL':_0x1c1e38})[_0x18790c(0x6ce)]('',{'event':_0x2d8b73,'instance':this['instance'][_0x18790c(0x35d)],'apikey':this[_0x18790c(0x7fc)]['apikey'],'data':_0x3879d9}),this[_0x18790c(0x241)][_0x18790c(0x84c)](this[_0x18790c(0x7d7)]+'\x20('+this[_0x18790c(0x7fc)][_0x18790c(0x3c3)]+_0x18790c(0x7d1)+_0x2d8b73+':\x20'+_0x1c1e38);}catch{this['logger'][_0x18790c(0x812)](this['instanceName']+'\x20('+this['instance'][_0x18790c(0x3c3)]+_0x18790c(0x902)+_0x2d8b73+':\x20'+_0x1c1e38);}}async['connectionUpdate']({qr:_0x47a3dd,connection:_0x589954,lastDisconnect:_0x155f69}){const _0x423b17=a0_0x5c0bdf;if(_0x47a3dd){if(this['instance'][_0x423b17(0x6d4)][_0x423b17(0x270)]===Lo)return this[_0x423b17(0x491)]('qrcode.updated',{'message':_0x423b17(0x67f),'statusCode':w[_0x423b17(0x79c)][_0x423b17(0x424)]}),this['stateConnection']={'state':_0x423b17(0x7a4),'statusReason':w[_0x423b17(0x79c)][_0x423b17(0x7b9)]},this[_0x423b17(0x491)]('connection.update',{'instance':this[_0x423b17(0x7fc)][_0x423b17(0x35d)],...this[_0x423b17(0x8ef)]}),this[_0x423b17(0x491)](_0x423b17(0x93e),{'instance':this[_0x423b17(0x7fc)][_0x423b17(0x35d)],'status':_0x423b17(0x629)}),this[_0x423b17(0x8ea)][_0x423b17(0x893)]['delete'](this[_0x423b17(0x7fc)][_0x423b17(0x35d)]),this['endSession']=!0x0,this[_0x423b17(0x3fc)][_0x423b17(0x925)](_0x423b17(0x7b5),this['instance']['name']);this[_0x423b17(0x7fc)][_0x423b17(0x6d4)][_0x423b17(0x270)]++;let _0x2b4c70={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x423b17(0x623),'dark':'#000000'}};Ii[_0x423b17(0x32c)][_0x423b17(0x394)](_0x47a3dd,_0x2b4c70,(_0x378e0c,_0x4e2cb2)=>{const _0x24f028=_0x423b17;if(_0x378e0c){this[_0x24f028(0x241)][_0x24f028(0x812)](this[_0x24f028(0x7d7)]+'\x20('+this[_0x24f028(0x7fc)][_0x24f028(0x3c3)]+_0x24f028(0x348)+(_0x378e0c instanceof Error?_0x378e0c[_0x24f028(0x7d9)]:JSON['stringify'](_0x378e0c,null,0x2)));return;}this[_0x24f028(0x7fc)][_0x24f028(0x6d4)][_0x24f028(0x916)]=_0x4e2cb2,this[_0x24f028(0x7fc)][_0x24f028(0x6d4)][_0x24f028(0x7b3)]=_0x47a3dd,!this['phoneNumber']&&this[_0x24f028(0x491)](_0x24f028(0x3c7),{'qrcode':{'instance':this[_0x24f028(0x7fc)]['name'],'pairingCode':this['instance'][_0x24f028(0x6d4)][_0x24f028(0x742)],'code':_0x47a3dd,'base64':_0x4e2cb2}});}),this[_0x423b17(0x1b3)]?this[_0x423b17(0x7fc)][_0x423b17(0x6d4)][_0x423b17(0x742)]||(await(0x0,w[_0x423b17(0x597)])(0x7d0),this[_0x423b17(0x7fc)][_0x423b17(0x6d4)][_0x423b17(0x742)]=await this[_0x423b17(0x3c4)]['requestPairingCode'](this[_0x423b17(0x1b3)])):this[_0x423b17(0x7fc)][_0x423b17(0x6d4)][_0x423b17(0x742)]=null,_i['default']['generate'](_0x47a3dd,{'small':!0x0},_0x29e6fa=>this[_0x423b17(0x241)]['log'](_0x423b17(0x4af)+this[_0x423b17(0x7fc)]['name']+_0x423b17(0x5ca)+this['instance']['qrcode'][_0x423b17(0x270)]+_0x423b17(0x526)+this[_0x423b17(0x7fc)]['qrcode'][_0x423b17(0x742)]+_0x423b17(0x6f2)+_0x29e6fa));}if(_0x589954&&(this[_0x423b17(0x8ef)]={'state':_0x589954,'statusReason':_0x155f69?.['error']?.[_0x423b17(0x8d9)]?.['statusCode']??0xc8},this[_0x423b17(0x491)](_0x423b17(0x2b3),{'instance':this['instance']['name'],...this['stateConnection']})),_0x589954===_0x423b17(0x3ec)){if(_0x155f69['error']?.[_0x423b17(0x8d9)]?.['statusCode']!==w[_0x423b17(0x79c)][_0x423b17(0x8f0)]&&(this[_0x423b17(0x596)]<0x21||this[_0x423b17(0x7fc)][_0x423b17(0x774)][_0x423b17(0x1f3)])){this[_0x423b17(0x596)]++,this['reconnectTimestamps'][_0x423b17(0x2c1)](Date['now']()),this[_0x423b17(0x803)]=this[_0x423b17(0x803)][_0x423b17(0x755)](_0x123114=>Date[_0x423b17(0x435)]()-_0x123114<this[_0x423b17(0x5bd)]);let _0x3f5f3b=this['reconnectAttempts']<=0x1?0x0:Math[_0x423b17(0x4b2)](Math[_0x423b17(0x1d9)](0x2,this[_0x423b17(0x596)]-0x1)*0x3e8,0x493e0);console['log'](this[_0x423b17(0x7d7)]+_0x423b17(0x2da)+this[_0x423b17(0x596)]+_0x423b17(0x858)+_0x3f5f3b/0x3e8+_0x423b17(0x1aa)),await new Promise(_0x5cb0ab=>setTimeout(_0x5cb0ab,_0x3f5f3b)),console[_0x423b17(0x84c)](_0x423b17(0x81b)),await this[_0x423b17(0x1bc)]();}else{this[_0x423b17(0x491)]('status.instance',{'instance':this[_0x423b17(0x7fc)][_0x423b17(0x35d)],'status':_0x423b17(0x629)}),this[_0x423b17(0x7fc)]['ScheduleMessage'][_0x423b17(0x1f3)]=!0x1,this[_0x423b17(0x8ea)][_0x423b17(0x24d)][_0x423b17(0x221)](this[_0x423b17(0x7d7)]),this[_0x423b17(0x8ea)][_0x423b17(0x893)][_0x423b17(0x615)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x423b17(0x435)]()},this['instance'][_0x423b17(0x35d)]);try{this[_0x423b17(0x241)]['verbose'](this[_0x423b17(0x7d7)]+'\x20('+this[_0x423b17(0x7fc)][_0x423b17(0x3c3)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x28b3a4=await this[_0x423b17(0x8ea)][_0x423b17(0x7d9)]['deleteAll'](this[_0x423b17(0x7fc)][_0x423b17(0x3c3)]);_0x28b3a4[_0x423b17(0x906)]?this['logger'][_0x423b17(0x8af)](this['instanceName']+'\x20('+this[_0x423b17(0x7fc)][_0x423b17(0x3c3)]+_0x423b17(0x85f)):this[_0x423b17(0x241)][_0x423b17(0x812)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x28b3a4[_0x423b17(0x812)]);}catch(_0xa2cbe5){this['logger'][_0x423b17(0x812)](_0x423b17(0x5d3)+_0xa2cbe5['message']);}this['instance'][_0x423b17(0x774)][_0x423b17(0x275)]!==null&&(this[_0x423b17(0x241)][_0x423b17(0x8af)](this[_0x423b17(0x7d7)]+'\x20('+this[_0x423b17(0x7fc)][_0x423b17(0x3c3)]+_0x423b17(0x7b4)),clearInterval(this['instance'][_0x423b17(0x774)][_0x423b17(0x275)]),this['instance'][_0x423b17(0x774)][_0x423b17(0x275)]=null),this[_0x423b17(0x241)][_0x423b17(0x8af)](this[_0x423b17(0x7d7)]+'\x20('+this[_0x423b17(0x7fc)][_0x423b17(0x3c3)]+_0x423b17(0x442)),this[_0x423b17(0x587)]=null,this[_0x423b17(0x3fc)][_0x423b17(0x925)](_0x423b17(0x91a),this[_0x423b17(0x7fc)][_0x423b17(0x35d)],_0x423b17(0x73e)),this[_0x423b17(0x3c4)]?.['ws']?.['close'](),this[_0x423b17(0x3c4)][_0x423b17(0x8b6)](new Error(_0x423b17(0x657)));}}if(_0x589954===_0x423b17(0x2ad)){this['logger'][_0x423b17(0x476)](this[_0x423b17(0x7d7)]+'\x20('+this[_0x423b17(0x7fc)]['wuid']+_0x423b17(0x4e1)+this[_0x423b17(0x3c4)][_0x423b17(0x946)][_0x423b17(0x1c3)]?.['myAppStateKeyId']),this['client'][_0x423b17(0x946)][_0x423b17(0x1c3)]?.[_0x423b17(0x4ab)]||(this[_0x423b17(0x241)][_0x423b17(0x476)](this[_0x423b17(0x7d7)]+'\x20('+this[_0x423b17(0x7fc)][_0x423b17(0x3c3)]+_0x423b17(0x8c3)),this[_0x423b17(0x3c4)]['ev'][_0x423b17(0x5af)]()),this[_0x423b17(0x2c3)],this[_0x423b17(0x7fc)][_0x423b17(0x3c3)]=this[_0x423b17(0x3c4)]['user']['id']['replace'](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x423b17(0x7fc)]['profilePictureUrl']=(await this[_0x423b17(0x859)](this['instance']['wuid']+_0x423b17(0x249)))[_0x423b17(0x5e5)],this[_0x423b17(0x8ea)][_0x423b17(0x893)][_0x423b17(0x615)]({'online':!0x0,'owner':this[_0x423b17(0x7fc)][_0x423b17(0x3c3)],'lastDisconnect':null},this[_0x423b17(0x7fc)][_0x423b17(0x35d)]);let _0x47bc6b=_0x423b17(0x2e2)+this[_0x423b17(0x7fc)][_0x423b17(0x3c3)],_0x54b16f=0x28,_0x1e5f1e=Math[_0x423b17(0x3ab)]((_0x54b16f-_0x47bc6b['length'])/0x2),_0x266591='\x20'[_0x423b17(0x351)](_0x1e5f1e),_0x569f73=_0x423b17(0x212),_0x1085b8=_0x423b17(0x3a7)+this[_0x423b17(0x7fc)][_0x423b17(0x35d)],_0x131394=(''+_0x266591+_0x47bc6b+_0x266591)[_0x423b17(0x747)](_0x54b16f,'\x20'),_0x3d38ce=(''+_0x266591+_0x569f73+_0x266591)[_0x423b17(0x747)](_0x54b16f,'\x20'),_0x17f197=(''+_0x266591+_0x1085b8+_0x266591)[_0x423b17(0x747)](_0x54b16f,'\x20'),_0x5a1739=Math[_0x423b17(0x787)](_0x131394['length'],_0x3d38ce[_0x423b17(0x235)],_0x17f197['length']),_0x2b1267=_0x131394[_0x423b17(0x747)](_0x5a1739,'\x20'),_0x3d1645=_0x3d38ce[_0x423b17(0x747)](_0x5a1739,'\x20'),_0x4671dc=_0x17f197[_0x423b17(0x747)](_0x5a1739,'\x20');this['logger'][_0x423b17(0x40b)]((_0x423b17(0x8d1)+'─'[_0x423b17(0x351)](_0x5a1739)+_0x423b17(0x3d3)+_0x3d1645+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4671dc+_0x423b17(0x47b)+_0x2b1267+_0x423b17(0x5ea)+'─'[_0x423b17(0x351)](_0x5a1739)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x423b17(0x57c)](),this['instance'][_0x423b17(0x774)][_0x423b17(0x1f3)]=!0x0;}}[a0_0x5c0bdf(0x2c3)](){const _0x49ac9b=a0_0x5c0bdf;this[_0x49ac9b(0x596)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x5c0bdf(0x325)](_0x166175,_0x40eddc=!0x1){const _0x2f8d45=a0_0x5c0bdf;try{let _0x2de48b=await this['repository'][_0x2f8d45(0x7d9)][_0x2f8d45(0x50f)]({'where':{'_id':_0x166175['id']}},this[_0x2f8d45(0x7fc)][_0x2f8d45(0x3c3)]);return _0x40eddc?_0x2de48b[0x0]:_0x2de48b[0x0][_0x2f8d45(0x7d9)];}catch{return{'conversation':''};}}[a0_0x5c0bdf(0x19b)](){const _0x306522=a0_0x5c0bdf;let _0x2c25b3=this['configService'][_0x306522(0x1fe)](_0x306522(0x738)),_0x4842bd=this[_0x306522(0x247)]['get'](_0x306522(0x37f));_0x2c25b3?.['CLEANING_INTERVAL']&&!_0x4842bd['ENABLED']&&setInterval(()=>{const _0x18d382=_0x306522;try{for(let [_0x3a7ea9,_0xd025df]of Object[_0x18d382(0x6ef)](_0x2c25b3))_0xd025df===!0x0&&(0x0,Ue[_0x18d382(0x85d)])(_0x18d382(0x5b0)+(0x0,j[_0x18d382(0x938)])(this['storePath'],_0x3a7ea9[_0x18d382(0x781)](),this['instance'][_0x18d382(0x3c3)])+'/*.json');}catch{}},(_0x2c25b3?.[_0x306522(0x7a8)]??0xe10)*0x3e8);}async[a0_0x5c0bdf(0x8c5)](){const _0x3b9621=a0_0x5c0bdf;let _0x355616=this[_0x3b9621(0x247)][_0x3b9621(0x1fe)](_0x3b9621(0x37f)),_0x5b822c=this['configService'][_0x3b9621(0x1fe)](_0x3b9621(0x703));return _0x5b822c?.[_0x3b9621(0x2ed)]?await Os(_0x5b822c,this[_0x3b9621(0x7fc)]['name']):_0x355616[_0x3b9621(0x2ed)]?await _s(this[_0x3b9621(0x7fc)]['name']):await(0x0,w[_0x3b9621(0x4b7)])((0x0,j[_0x3b9621(0x938)])(be,this['instance'][_0x3b9621(0x35d)]));}async[a0_0x5c0bdf(0x57c)](){const _0x14068b=a0_0x5c0bdf;let _0x2a806c=()=>Math[_0x14068b(0x3ab)](Math['random']()*0x4e21)+0x7d0,_0x13d660=async()=>{const _0x3e06c1=_0x14068b;if(!this[_0x3e06c1(0x7fc)]['ScheduleMessage']['isConnected']){this[_0x3e06c1(0x241)][_0x3e06c1(0x8af)](this[_0x3e06c1(0x7d7)]+'\x20('+this[_0x3e06c1(0x7fc)][_0x3e06c1(0x3c3)]+'):Desconectado,\x20parando\x20execução.'),this[_0x3e06c1(0x66c)]=!0x1;return;}if(this[_0x3e06c1(0x7fc)]['wuid']&&this[_0x3e06c1(0x587)]&&this[_0x3e06c1(0x7fc)]['ScheduleMessage']['delayMessage']!==null&&this[_0x3e06c1(0x7fc)][_0x3e06c1(0x774)]['delayMessage']!==void 0x0){let _0x45f517=Math['round'](this['instance']['ScheduleMessage'][_0x3e06c1(0x275)]/0xea60);this[_0x3e06c1(0x241)][_0x3e06c1(0x8af)](this[_0x3e06c1(0x7d7)]+'\x20('+this[_0x3e06c1(0x7fc)][_0x3e06c1(0x3c3)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x45f517+_0x3e06c1(0x91e)),this['isRunning']=!0x1;return;}else this[_0x3e06c1(0x7fc)]['wuid']&&(this[_0x3e06c1(0x241)][_0x3e06c1(0x8af)](this[_0x3e06c1(0x7d7)]+'\x20('+this[_0x3e06c1(0x7fc)][_0x3e06c1(0x3c3)]+_0x3e06c1(0x1de)),this[_0x3e06c1(0x587)]||(await this[_0x3e06c1(0x6aa)](),this['findRealGroups'](),this[_0x3e06c1(0x839)]()),(this[_0x3e06c1(0x7fc)][_0x3e06c1(0x774)][_0x3e06c1(0x275)]===null||this[_0x3e06c1(0x7fc)]['ScheduleMessage'][_0x3e06c1(0x275)]===void 0x0)&&await this[_0x3e06c1(0x226)]());if(this['isRunning']){let _0x18297b=_0x2a806c();this[_0x3e06c1(0x241)]['verbose'](this[_0x3e06c1(0x7d7)]+_0x3e06c1(0x661)+_0x18297b/0x3e8+_0x3e06c1(0x1b9)),setTimeout(_0x13d660,_0x18297b);}};if(this[_0x14068b(0x66c)])return;this[_0x14068b(0x66c)]=!0x0;let _0x131d5d=_0x2a806c();setTimeout(_0x13d660,_0x131d5d);}async[a0_0x5c0bdf(0x839)](){const _0x5cb5af=a0_0x5c0bdf;let _0x374a8f=this['instance'][_0x5cb5af(0x3c3)];try{let _0x4fb7a3=await this['repository'][_0x5cb5af(0x6b5)][_0x5cb5af(0x8e7)]({'where':{'$or':[{'owner':_0x374a8f},{'whoCanUse':{'$in':[_0x374a8f]}},{'shareOwners':{'$in':[_0x374a8f]}}]}}),_0x379e13=new Map(this['AutomateSystem'][_0x5cb5af(0x3f3)][_0x5cb5af(0x6df)](_0x3aa4bf=>[_0x3aa4bf[_0x5cb5af(0x2c7)],_0x3aa4bf])),_0x1a1397=_0x4fb7a3[_0x5cb5af(0x6df)](_0x1d0857=>{const _0x3625ce=_0x5cb5af;let _0x5b465c=_0x379e13[_0x3625ce(0x1fe)](_0x1d0857[_0x3625ce(0x2c7)]?.['toString']());return{'_id':_0x1d0857[_0x3625ce(0x2c7)]?.['toString'](),'name':_0x5b465c?.[_0x3625ce(0x35d)]??_0x1d0857[_0x3625ce(0x35d)],'default':_0x5b465c?.[_0x3625ce(0x32c)]??_0x1d0857['default']??!0x1,'startCommand':_0x5b465c?.['startCommand']??_0x1d0857[_0x3625ce(0x361)],'minutesToClose':_0x5b465c?.[_0x3625ce(0x454)]??_0x1d0857[_0x3625ce(0x454)]??0xa,'readMessages':_0x5b465c?.['readMessages']??_0x1d0857['readMessages']??!0x1,'testingWith':_0x5b465c?.[_0x3625ce(0x6ab)]??_0x1d0857['testingWith'],'canEdit':_0x1d0857[_0x3625ce(0x3f7)]===_0x374a8f||(_0x1d0857[_0x3625ce(0x552)]??[])[_0x3625ce(0x4ee)](_0x374a8f),'usersCount':(_0x1d0857[_0x3625ce(0x44e)]??[])[_0x3625ce(0x235)]??0x0};}),_0x4f7a27=!0x1;_0x1a1397[_0x5cb5af(0x91c)](_0x53fd70=>{const _0x39aa6a=_0x5cb5af;_0x53fd70['default']&&(_0x4f7a27?_0x53fd70[_0x39aa6a(0x32c)]=!0x1:_0x4f7a27=!0x0);}),this[_0x5cb5af(0x587)]['flows']=_0x1a1397;let _0x32cb1d={'flows':_0x1a1397};return await this[_0x5cb5af(0x8ea)][_0x5cb5af(0x92a)][_0x5cb5af(0x1d0)](_0x32cb1d,_0x374a8f),this['logger']['verbose'](this[_0x5cb5af(0x7d7)]+'\x20('+_0x374a8f+_0x5cb5af(0x6fb)),_0x1a1397[_0x5cb5af(0x235)];}catch(_0x3217e4){return this[_0x5cb5af(0x241)]['error'](this[_0x5cb5af(0x7d7)]+'\x20('+_0x374a8f+_0x5cb5af(0x45d)+(_0x3217e4 instanceof Error?_0x3217e4['message']:JSON[_0x5cb5af(0x86d)](_0x3217e4,null,0x2))),{'message':_0x5cb5af(0x25d)+(_0x3217e4 instanceof Error?_0x3217e4[_0x5cb5af(0x7d9)]:JSON[_0x5cb5af(0x86d)](_0x3217e4,null,0x2))};}}async[a0_0x5c0bdf(0x1bc)](_0x457197){const _0x4c513b=a0_0x5c0bdf;try{let _0x171a4a=await this[_0x4c513b(0x8ea)]['instance'][_0x4c513b(0x81e)]({'where':{'_id':he+'-'+this[_0x4c513b(0x7d7)]}}),_0x425702,_0x22e366=!Le['ipv6Prefix']||!Le[_0x4c513b(0x79b)];console['log'](_0x4c513b(0x39d)),console['log'](_0x4c513b(0x28d),Ai),console[_0x4c513b(0x84c)](_0x4c513b(0x83a),this[_0x4c513b(0x596)]),console[_0x4c513b(0x84c)](_0x4c513b(0x39d)),Ai&&!_0x22e366&&(this[_0x4c513b(0x596)]<0x4||!this[_0x4c513b(0x596)]?_0x171a4a&&_0x171a4a['ip']?(_0x425702=_0x171a4a['ip'],console[_0x4c513b(0x84c)]('Usando\x20IP\x20existente:\x20'+_0x425702)):(_0x425702=await Le[_0x4c513b(0x91d)](he,this[_0x4c513b(0x7fc)][_0x4c513b(0x35d)]),_0x425702?(console['log']('Novo\x20IP\x20criado:\x20'+_0x425702),await(0x0,w[_0x4c513b(0x597)])(0x7d0)):console[_0x4c513b(0x812)](_0x4c513b(0x6cc))):this[_0x4c513b(0x596)]<0x6&&(console['log']('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x425702=await Le[_0x4c513b(0x91d)](he,this[_0x4c513b(0x7fc)][_0x4c513b(0x35d)]),_0x425702?(console['log'](_0x4c513b(0x2f6)+_0x425702),await(0x0,w[_0x4c513b(0x597)])(0x7d0)):console[_0x4c513b(0x812)](_0x4c513b(0x4d0)))),this['loadWebhook'](),this[_0x4c513b(0x7fc)][_0x4c513b(0x692)]=(await this['repository'][_0x4c513b(0x893)][_0x4c513b(0x50f)](this[_0x4c513b(0x7fc)][_0x4c513b(0x35d)]))[_0x4c513b(0x692)],this['instance'][_0x4c513b(0x946)]=await this[_0x4c513b(0x8c5)]();let _0x4c254f=[xi,Us,(0x0,ks[_0x4c513b(0x683)])()],_0x39ef3c={'localAddress':_0x425702,'auth':{'creds':this[_0x4c513b(0x7fc)][_0x4c513b(0x946)][_0x4c513b(0x4e4)][_0x4c513b(0x1c3)],'keys':(0x0,w[_0x4c513b(0x605)])(this[_0x4c513b(0x7fc)][_0x4c513b(0x946)][_0x4c513b(0x4e4)][_0x4c513b(0x2ec)],(0x0,Ft[_0x4c513b(0x32c)])({'level':_0x4c513b(0x812)}))},'logger':(0x0,Ft[_0x4c513b(0x32c)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x457197?[_0x4c513b(0x53d),Us,(0x0,ks[_0x4c513b(0x683)])()]:_0x4c254f,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2c3acd=>{const _0x510863=_0x4c513b;let _0x5d5b61=this[_0x510863(0x567)]?.[_0x510863(0x2d9)]&&(0x0,w[_0x510863(0x6cb)])(_0x2c3acd);return(0x0,w[_0x510863(0x51b)])(_0x2c3acd)||_0x5d5b61;},'msgRetryCounterCache':this[_0x4c513b(0x76e)],'getMessage':async _0x5f40b5=>await this[_0x4c513b(0x325)](_0x5f40b5),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x3d67dc){const _0x745469=_0x4c513b;return _0x3d67dc[_0x745469(0x93d)]?.[_0x745469(0x7d9)]?.['listMessage']?.[_0x745469(0x494)]===w[_0x745469(0x52c)][_0x745469(0x904)]['ListMessage'][_0x745469(0x3e9)]['PRODUCT_LIST']&&(_0x3d67dc=JSON[_0x745469(0x4d9)](JSON['stringify'](_0x3d67dc)),_0x3d67dc[_0x745469(0x93d)][_0x745469(0x7d9)]['listMessage']['listType']=w[_0x745469(0x52c)][_0x745469(0x904)][_0x745469(0x437)][_0x745469(0x3e9)][_0x745469(0x5e9)]),_0x3d67dc['listMessage']?.[_0x745469(0x494)]==w['proto'][_0x745469(0x904)][_0x745469(0x437)][_0x745469(0x3e9)][_0x745469(0x550)]&&(_0x3d67dc=JSON[_0x745469(0x4d9)](JSON[_0x745469(0x86d)](_0x3d67dc)),_0x3d67dc['listMessage'][_0x745469(0x494)]=w[_0x745469(0x52c)][_0x745469(0x904)]['ListMessage'][_0x745469(0x3e9)][_0x745469(0x5e9)]),_0x3d67dc;}};return this[_0x4c513b(0x5bc)]=!0x1,this[_0x4c513b(0x3c4)]=(0x0,w[_0x4c513b(0x32c)])(_0x39ef3c),this['eventHandler'](),this[_0x4c513b(0x1b3)]=_0x457197,this[_0x4c513b(0x3c4)];}catch(_0x7f1b9c){let _0x6a2225=_0x4c513b(0x78b),_0xd46288=_0x7f1b9c instanceof Error?_0x7f1b9c[_0x4c513b(0x7d9)]:typeof _0x7f1b9c=='object'?JSON[_0x4c513b(0x86d)](_0x7f1b9c):_0x7f1b9c,_0x46fa90=_0x6a2225+':\x20'+_0xd46288;throw this['logger'][_0x4c513b(0x812)](this['instanceName']+'\x20('+this[_0x4c513b(0x7fc)][_0x4c513b(0x3c3)]+_0x4c513b(0x4a5)+_0x46fa90),console[_0x4c513b(0x812)](_0x4c513b(0x806),_0x7f1b9c),_0x7f1b9c instanceof Error&&console[_0x4c513b(0x812)](_0x4c513b(0x56c),_0x7f1b9c[_0x4c513b(0x713)]),new x(_0x46fa90);}}[a0_0x5c0bdf(0x40e)](){const _0x44caf6=a0_0x5c0bdf;this['client']['ev'][_0x44caf6(0x68a)](_0x26b3f6=>{const _0x3e0bd9=_0x44caf6;if(!this['endSession']){let _0x2ec26d=this['configService'][_0x3e0bd9(0x1fe)](_0x3e0bd9(0x37f));if(_0x26b3f6[_0x3e0bd9(0x7b7)]){let _0x46ffc9=_0x26b3f6[_0x3e0bd9(0x7b7)];this[_0x3e0bd9(0x34a)][_0x3e0bd9(0x7b7)](_0x46ffc9);}if(_0x26b3f6[_0x3e0bd9(0x334)]){let _0x15b220=_0x26b3f6[_0x3e0bd9(0x334)];this[_0x3e0bd9(0x34a)][_0x3e0bd9(0x334)](_0x15b220);}if(_0x26b3f6['connection.update']&&this[_0x3e0bd9(0x942)](_0x26b3f6['connection.update']),_0x26b3f6[_0x3e0bd9(0x599)]&&this[_0x3e0bd9(0x7fc)]['authState']['saveCreds'](),_0x26b3f6[_0x3e0bd9(0x8a7)]){let _0x18ebf8=_0x26b3f6[_0x3e0bd9(0x8a7)];this['messageHandle']['messaging-history.set'](_0x18ebf8,_0x2ec26d);}if(_0x26b3f6[_0x3e0bd9(0x38a)]){let _0x5c9e62=_0x26b3f6[_0x3e0bd9(0x38a)];this[_0x3e0bd9(0x34a)][_0x3e0bd9(0x38a)](_0x5c9e62,_0x2ec26d);}if(_0x26b3f6['messages.update']){let _0x354999=_0x26b3f6[_0x3e0bd9(0x8c7)];this[_0x3e0bd9(0x34a)]['messages.update'](_0x354999,_0x2ec26d);}if(_0x26b3f6[_0x3e0bd9(0x714)]){let _0x4c81ba=_0x26b3f6[_0x3e0bd9(0x714)];if(this['localWebhook']?.['groups_ignore']&&_0x4c81ba['id'][_0x3e0bd9(0x4ee)](_0x3e0bd9(0x2bc)))return;this[_0x3e0bd9(0x491)](_0x3e0bd9(0x714),_0x4c81ba);}if(_0x26b3f6[_0x3e0bd9(0x467)]){let _0x3df2a4=_0x26b3f6[_0x3e0bd9(0x467)];this[_0x3e0bd9(0x819)][_0x3e0bd9(0x467)](_0x3df2a4);}if(_0x26b3f6[_0x3e0bd9(0x1fd)]){let _0x467de4=_0x26b3f6[_0x3e0bd9(0x1fd)];this['groupHandler'][_0x3e0bd9(0x1fd)](_0x467de4);}if(_0x26b3f6[_0x3e0bd9(0x935)]){let _0x28aaf7=_0x26b3f6[_0x3e0bd9(0x935)];this[_0x3e0bd9(0x819)][_0x3e0bd9(0x935)](_0x28aaf7);}if(_0x26b3f6[_0x3e0bd9(0x23b)]){let _0x4e407c=_0x26b3f6[_0x3e0bd9(0x23b)];this[_0x3e0bd9(0x318)]['chats.upsert'](_0x4e407c,_0x2ec26d);}if(_0x26b3f6[_0x3e0bd9(0x6a5)]){let _0x5bb4e1=_0x26b3f6[_0x3e0bd9(0x6a5)];this[_0x3e0bd9(0x318)]['chats.update'](_0x5bb4e1,_0x2ec26d);}if(_0x26b3f6['chats.delete']){let _0xa75b94=_0x26b3f6[_0x3e0bd9(0x283)];this[_0x3e0bd9(0x318)][_0x3e0bd9(0x283)](_0xa75b94);}if(_0x26b3f6[_0x3e0bd9(0x595)]){let _0x56a986=_0x26b3f6[_0x3e0bd9(0x595)];this[_0x3e0bd9(0x3be)]['contacts.upsert'](_0x56a986,_0x2ec26d);}if(_0x26b3f6[_0x3e0bd9(0x756)]){let _0x5ad261=_0x26b3f6[_0x3e0bd9(0x756)];this[_0x3e0bd9(0x3be)][_0x3e0bd9(0x756)](_0x5ad261,_0x2ec26d);}}});}async[a0_0x5c0bdf(0x7c6)](_0x49dedb,_0x34d017){const _0x4313f0=a0_0x5c0bdf;if(_0x34d017>=0xa){console[_0x4313f0(0x812)](this['instanceName']+'\x20('+this[_0x4313f0(0x7fc)][_0x4313f0(0x3c3)]+_0x4313f0(0x414)),delete Lt[_0x49dedb[_0x4313f0(0x493)]['id']];return;}try{console[_0x4313f0(0x812)](this[_0x4313f0(0x7d7)]+'\x20('+this[_0x4313f0(0x7fc)][_0x4313f0(0x3c3)]+_0x4313f0(0x3e4)+(_0x34d017+0x1)),await this['client'][_0x4313f0(0x2bd)](JSON['parse'](_0x49dedb[_0x4313f0(0x90c)][0x1],w['BufferJSON'][_0x4313f0(0x592)])),console[_0x4313f0(0x812)](_0x4313f0(0x43f));}catch(_0x12c395){console[_0x4313f0(0x812)](this[_0x4313f0(0x7d7)]+'\x20('+this[_0x4313f0(0x7fc)]['wuid']+_0x4313f0(0x87e)+_0x12c395),setTimeout(()=>this['retrySendMessage'](_0x49dedb,_0x34d017+0x1),Math[_0x4313f0(0x1d9)](0x2,_0x34d017)*0x3e8);}}async['fakeReceived'](_0x224045){const _0x372c0c=a0_0x5c0bdf;let _0x568cd8=_0x224045[_0x372c0c(0x493)]['remoteJid']['endsWith'](_0x372c0c(0x2bc)),_0x3ed530;if(_0x224045[_0x372c0c(0x493)][_0x372c0c(0x650)])_0x3ed530=this[_0x372c0c(0x7fc)][_0x372c0c(0x5e5)];else{let _0x4c8ca9=_0x568cd8?_0x224045[_0x372c0c(0x493)][_0x372c0c(0x555)]:_0x224045[_0x372c0c(0x493)][_0x372c0c(0x57e)];_0x3ed530=(await this['findAndUpdateCacheContact'](_0x4c8ca9,_0x224045[_0x372c0c(0x4a1)],!0x1))['cachedContact']['pictureUrl'];}_0x224045[_0x372c0c(0x35a)]&&_0x224045[_0x372c0c(0x35a)][_0x372c0c(0x281)]()[_0x372c0c(0x235)]<0xd&&(_0x224045[_0x372c0c(0x35a)]=_0x224045[_0x372c0c(0x35a)]*0x3e8);let _0x42fffd={'_id':_0x224045['key']['id'],'key':_0x224045[_0x372c0c(0x493)],'isGroup':_0x568cd8,'profilePictureUrl':_0x3ed530,'pushName':_0x224045[_0x372c0c(0x4a1)],'message':{'text':'Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la'},'messageType':'error','message_normalized':{'key':_0x224045['key'],'pushName':_0x224045[_0x372c0c(0x4a1)],'messageTimestamp':_0x224045[_0x372c0c(0x35a)],'source':(0x0,w[_0x372c0c(0x22d)])(_0x224045[_0x372c0c(0x493)]['id']),'text':_0x372c0c(0x66f)},'messageTimestamp':_0x224045[_0x372c0c(0x35a)],'owner':this['instance'][_0x372c0c(0x3c3)],'source':(0x0,w[_0x372c0c(0x22d)])(_0x224045[_0x372c0c(0x493)]['id'])};this[_0x372c0c(0x241)][_0x372c0c(0x812)](this['instanceName']+'\x20('+this['instance'][_0x372c0c(0x3c3)]+'):\x20'+(_0x42fffd[_0x372c0c(0x493)]?.[_0x372c0c(0x650)]?'enviado\x20para':_0x372c0c(0x38c))+'\x20['+_0x42fffd['key']?.['remoteJid'][_0x372c0c(0x8df)](_0x372c0c(0x249),'')+_0x372c0c(0x69e)+_0x42fffd[_0x372c0c(0x871)]+')'),_0x42fffd[_0x372c0c(0x47a)]?.['text']&&this[_0x372c0c(0x241)]['error'](_0x224045[_0x372c0c(0x493)]['id']+':\x20'+_0x42fffd[_0x372c0c(0x47a)]?.[_0x372c0c(0x3ac)]),await this[_0x372c0c(0x8ea)]['message'][_0x372c0c(0x805)]([_0x42fffd],this[_0x372c0c(0x7fc)][_0x372c0c(0x3c3)]),await this['repository'][_0x372c0c(0x1b7)][_0x372c0c(0x805)]([_0x42fffd]),this[_0x372c0c(0x491)](_0x372c0c(0x38a),_0x42fffd),F(this[_0x372c0c(0x7d7)],'messages',{'message':_0x42fffd});}['delayChatLabel'](_0x53fea5){return new Promise(_0x6c9415=>setTimeout(_0x6c9415,_0x53fea5));}[a0_0x5c0bdf(0x319)](_0x1c6be2){const _0x49b755=a0_0x5c0bdf;_0x1c6be2=_0x1c6be2[_0x49b755(0x8df)](/\D/g,'');let _0x460a83=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x49b755(0x58f)](_0x1c6be2);if(_0x460a83&&_0x460a83[0x1]==='55'){let _0x28f514=_0x460a83[0x2],_0x2ff9f1=_0x460a83[0x3],_0x6ce760=_0x460a83[0x4];if(parseInt(_0x28f514)>=0x1f&&_0x2ff9f1==='9')return _0x460a83[0x1]+_0x28f514+_0x6ce760;}return _0x1c6be2;}[a0_0x5c0bdf(0x20f)](_0x25f774){const _0x2da9a3=a0_0x5c0bdf;return _0x25f774[_0x2da9a3(0x4ee)](_0x2da9a3(0x2bc))||_0x25f774['includes'](_0x2da9a3(0x249))||_0x25f774[_0x2da9a3(0x4ee)](_0x2da9a3(0x917))?_0x25f774:(_0x25f774=_0x25f774?.['replace'](/\s/g,'')[_0x2da9a3(0x8df)](/\+/g,'')[_0x2da9a3(0x8df)](/\(/g,'')[_0x2da9a3(0x8df)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x25f774[_0x2da9a3(0x235)]>=0x12?(_0x25f774=_0x25f774[_0x2da9a3(0x8df)](/[^\d-]/g,''),_0x25f774+_0x2da9a3(0x2bc)):(_0x25f774=_0x25f774['replace'](/\D/g,''),_0x25f774+_0x2da9a3(0x249)));}async[a0_0x5c0bdf(0x8b7)](_0x9fe9f3){const _0x5730ce=a0_0x5c0bdf;let _0x504fb3=(await this[_0x5730ce(0x638)]({'numbers':[_0x9fe9f3[_0x5730ce(0x443)]]}))[0x0];if(!_0x504fb3[_0x5730ce(0x856)]&&!(0x0,w['isJidGroup'])(_0x504fb3[_0x5730ce(0x273)])&&!_0x504fb3['jid']['includes'](_0x5730ce(0x917)))throw new m(_0x504fb3);let _0x58c241=_0x504fb3[_0x5730ce(0x273)];try{return await this[_0x5730ce(0x3c4)]['presenceSubscribe'](_0x58c241),await this[_0x5730ce(0x3c4)][_0x5730ce(0x762)](_0x9fe9f3[_0x5730ce(0x4e9)],_0x58c241),{'status':0xc8,'presence':_0x9fe9f3[_0x5730ce(0x4e9)]};}catch(_0x1cc007){let _0x1a5dc2=_0x5730ce(0x1a0),_0x5e25f7=_0x1cc007 instanceof Error?_0x1cc007[_0x5730ce(0x7d9)]:typeof _0x1cc007==_0x5730ce(0x1ef)?JSON[_0x5730ce(0x86d)](_0x1cc007):_0x1cc007,_0x193ede=_0x1a5dc2+':\x20'+_0x5e25f7;throw this[_0x5730ce(0x241)][_0x5730ce(0x812)](this[_0x5730ce(0x7d7)]+'\x20('+this[_0x5730ce(0x7fc)][_0x5730ce(0x3c3)]+_0x5730ce(0x4a5)+_0x193ede),new m(_0x193ede);}}async[a0_0x5c0bdf(0x30f)](_0x2a5bce,_0x5c966d,_0x306eca,_0x434afa=!0x0){const _0x325065=a0_0x5c0bdf;let _0x3f1d59=await this[_0x325065(0x8ea)][_0x325065(0x857)][_0x325065(0x81e)]({'where':{'_id':_0x2a5bce}});if(!_0x3f1d59&&!_0x434afa)return;let _0x4ade52={'lastUpdate':Date[_0x325065(0x435)]()};if(_0x306eca||!_0x3f1d59?.[_0x325065(0x1b5)]||Date[_0x325065(0x435)]()-_0x3f1d59[_0x325065(0x1b5)]>0x18*0x3c*0x3c*0x3e8)try{let _0xf957ae=(await this[_0x325065(0x859)](_0x2a5bce))[_0x325065(0x5e5)];_0x4ade52[_0x325065(0x3df)]=_0xf957ae;}catch(_0x233a91){let _0x2f2010='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x5b3e7e=_0x233a91 instanceof Error?_0x233a91[_0x325065(0x7d9)]:typeof _0x233a91==_0x325065(0x1ef)?JSON[_0x325065(0x86d)](_0x233a91):_0x233a91,_0x497a30=_0x2f2010+':\x20'+_0x5b3e7e;throw this[_0x325065(0x241)][_0x325065(0x812)](this['instanceName']+'\x20('+this[_0x325065(0x7fc)][_0x325065(0x3c3)]+'):\x20'+_0x497a30),new m(_0x497a30);}return _0x5c966d&&_0x3f1d59?.['name']!==_0x5c966d&&(_0x4ade52['name']=_0x5c966d),Object[_0x325065(0x2ec)](_0x4ade52)[_0x325065(0x235)]>0x1&&(_0x3f1d59?await this['repository'][_0x325065(0x857)]['update']({'where':{'_id':_0x2a5bce}},_0x4ade52):await this[_0x325065(0x8ea)][_0x325065(0x857)][_0x325065(0x805)]([{'_id':_0x2a5bce,..._0x4ade52}]),_0x3f1d59={..._0x3f1d59,..._0x4ade52}),{'cachedContact':_0x3f1d59};}async[a0_0x5c0bdf(0x859)](_0x3ee0ca){const _0x1f3e88=a0_0x5c0bdf;let _0x3dc7e4=this[_0x1f3e88(0x20f)](_0x3ee0ca);try{return{'wuid':_0x3dc7e4,'profilePictureUrl':await this[_0x1f3e88(0x3c4)][_0x1f3e88(0x5e5)](_0x3dc7e4,_0x1f3e88(0x2cc))};}catch{return{'wuid':_0x3dc7e4,'profilePictureUrl':null};}}async[a0_0x5c0bdf(0x1c2)](_0x397604,_0x587227,_0x433954){const _0x3184f1=a0_0x5c0bdf;let _0x11fed8=0x0;for(;_0x11fed8<0x5;)try{return await this[_0x3184f1(0x29e)](_0x397604,_0x587227,_0x433954);}catch(_0x5ab85e){if(_0x11fed8++,_0x5ab85e instanceof Error&&_0x5ab85e[_0x3184f1(0x7d9)]===_0x3184f1(0x210)){if(_0x11fed8>=0x5)throw new m(_0x3184f1(0x6b7)+_0x5ab85e[_0x3184f1(0x7d9)]);this[_0x3184f1(0x241)][_0x3184f1(0x476)]('Tentativa\x20'+_0x11fed8+_0x3184f1(0x706)+_0x5ab85e[_0x3184f1(0x7d9)]+_0x3184f1(0x66e)+0x1388/0x3e8+_0x3184f1(0x679)),await new Promise(_0x32cd86=>setTimeout(_0x32cd86,0x1388));}else throw new m(_0x5ab85e[_0x3184f1(0x7d9)]);}}async[a0_0x5c0bdf(0x29e)](_0x17b2eb,_0x444181,_0x2e2ab3){const _0x5c1c9a=a0_0x5c0bdf;let _0x60527d;try{let _0x3d05d4=(await this[_0x5c1c9a(0x638)]({'numbers':[_0x17b2eb]}))?.[_0x5c1c9a(0x4c3)]();if(!_0x3d05d4[_0x5c1c9a(0x856)]&&!(0x0,w[_0x5c1c9a(0x6cb)])(_0x3d05d4['jid'])&&!_0x3d05d4[_0x5c1c9a(0x273)]['includes']('@broadcast'))throw new m(_0x3d05d4);_0x60527d=_0x3d05d4[_0x5c1c9a(0x273)];}catch(_0x33bcf9){_0x60527d=_0x17b2eb,this[_0x5c1c9a(0x241)][_0x5c1c9a(0x476)](this[_0x5c1c9a(0x7d7)]+'\x20('+this[_0x5c1c9a(0x7fc)]['wuid']+'):\x20error:\x20'+_0x33bcf9[_0x5c1c9a(0x7d9)]),this[_0x5c1c9a(0x241)][_0x5c1c9a(0x476)](this[_0x5c1c9a(0x7d7)]+'\x20('+this['instance'][_0x5c1c9a(0x3c3)]+_0x5c1c9a(0x6a6)+_0x60527d);}try{if(_0x60527d||(_0x60527d=_0x17b2eb,this['logger']['warn'](this[_0x5c1c9a(0x7d7)]+'\x20('+this[_0x5c1c9a(0x7fc)][_0x5c1c9a(0x3c3)]+_0x5c1c9a(0x280)+_0x60527d)),_0x2e2ab3||(_0x2e2ab3={}),_0x2e2ab3?.[_0x5c1c9a(0x597)]){await this[_0x5c1c9a(0x3c4)][_0x5c1c9a(0x26b)](_0x60527d),await this[_0x5c1c9a(0x3c4)]['sendPresenceUpdate'](_0x2e2ab3?.[_0x5c1c9a(0x4e9)]??_0x5c1c9a(0x4b3),_0x60527d);let _0x13ff4c=Math[_0x5c1c9a(0x4b2)](_0x2e2ab3[_0x5c1c9a(0x597)],0x2710);await(0x0,w[_0x5c1c9a(0x597)])(_0x13ff4c),await this[_0x5c1c9a(0x3c4)][_0x5c1c9a(0x762)](_0x5c1c9a(0x7ba),_0x60527d);}let _0x2bcc57=_0x2e2ab3?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x300c2f;if(_0x2e2ab3?.['quoted']){let _0x447974=_0x2e2ab3?.[_0x5c1c9a(0x6e2)],_0x29902e=_0x447974?.[_0x5c1c9a(0x7d9)]?_0x447974:await this[_0x5c1c9a(0x325)](_0x447974[_0x5c1c9a(0x493)],!0x0);_0x29902e&&(_0x300c2f=_0x29902e);}let _0xf7972e=await this[_0x5c1c9a(0x8ea)][_0x5c1c9a(0x75d)][_0x5c1c9a(0x81e)]({'where':{'_id':_0x60527d}},this[_0x5c1c9a(0x7fc)][_0x5c1c9a(0x3c3)]),_0x38134c,_0x39a42b=null;if((0x0,w['isJidGroup'])(_0x60527d))try{if(_0x39a42b=_0xf7972e['groupdata'],!_0x39a42b)throw new U(_0x5c1c9a(0x2fb));if(!_0x39a42b[_0x5c1c9a(0x30b)])throw new m(_0x5c1c9a(0x26f));_0x2e2ab3?.['mentions']&&(_0x2e2ab3[_0x5c1c9a(0x8ac)]?.['everyOne']?_0x38134c=_0x39a42b['participants'][_0x5c1c9a(0x6df)](_0x4a3b76=>_0x4a3b76['id']):_0x2e2ab3[_0x5c1c9a(0x8ac)]?.['mentioned']?.[_0x5c1c9a(0x235)]&&(_0x38134c=_0x2e2ab3[_0x5c1c9a(0x8ac)]['mentioned'][_0x5c1c9a(0x6df)](_0x57c1ab=>{const _0x401112=_0x5c1c9a;let _0x343518=this[_0x401112(0x20f)](_0x57c1ab);return(0x0,w[_0x401112(0x6cb)])(_0x343518)?null:_0x343518;})));}catch(_0x3befeb){throw _0x3befeb instanceof U?new U(_0x5c1c9a(0x2fb)):_0x3befeb instanceof m?new m(_0x5c1c9a(0x26f)):new Error('Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo');}let _0x84f820=await((async()=>{const _0x146991=_0x5c1c9a;let _0x2b6ba3={'quoted':_0x300c2f,'ephemeralExpiration':_0xf7972e?.[_0x146991(0x82d)]??0x0};if(!_0x444181['audio']&&!_0x444181['poll']&&!_0x444181['sticker']&&!_0x444181[_0x146991(0x2e4)]&&_0x60527d!=='status@broadcast'&&_0x444181[_0x146991(0x8a8)])return await this[_0x146991(0x3c4)]['sendMessage'](_0x60527d,{'react':{'text':_0x444181[_0x146991(0x8a8)][_0x146991(0x3ac)],'key':_0x444181[_0x146991(0x8a8)]['key']}},_0x2b6ba3);if(_0x444181['conversation']){let _0x573366=_0x444181['conversation'];return _0x2e2ab3?.[_0x146991(0x3d0)]&&(_0x573366=await this[_0x146991(0x690)](_0x573366,_0x60527d)),await this['client'][_0x146991(0x7fb)](_0x60527d,{'text':_0x573366,'mentions':_0x38134c,'linkPreview':_0x2bcc57},_0x2b6ba3);}return!_0x444181[_0x146991(0x250)]&&!_0x444181[_0x146991(0x38b)]&&_0x60527d!=_0x146991(0x811)?await this[_0x146991(0x3c4)][_0x146991(0x7fb)](_0x60527d,{'forward':{'key':{'remoteJid':this[_0x146991(0x7fc)][_0x146991(0x3c3)],'fromMe':!0x0},'message':_0x444181},'mentions':_0x38134c},_0x2b6ba3):_0x60527d===_0x146991(0x811)?await this['client'][_0x146991(0x7fb)](_0x60527d,_0x444181[_0x146991(0x3ae)][_0x146991(0x1e5)],{'backgroundColor':_0x444181[_0x146991(0x3ae)][_0x146991(0x268)]['backgroundColor'],'font':_0x444181[_0x146991(0x3ae)][_0x146991(0x268)][_0x146991(0x5b8)],'statusJidList':_0x444181[_0x146991(0x3ae)][_0x146991(0x268)][_0x146991(0x667)]}):await this['client']['sendMessage'](_0x60527d,_0x444181,_0x2b6ba3);})()),_0xde96da=(0x0,w[_0x5c1c9a(0x4c9)])(_0x84f820[_0x5c1c9a(0x7d9)]),_0x1cd22d=(0x0,w[_0x5c1c9a(0x1ba)])(_0xde96da),{message_normalized:_0x28b4d6}=this[_0x5c1c9a(0x294)](_0xde96da,_0x1cd22d,null),_0x125d4c={'_id':_0x84f820[_0x5c1c9a(0x493)]['id'],'key':_0x84f820[_0x5c1c9a(0x493)],'pushName':_0x84f820[_0x5c1c9a(0x4a1)],'isGroup':_0x84f820[_0x5c1c9a(0x493)][_0x5c1c9a(0x57e)][_0x5c1c9a(0x62e)]('@g.us'),'profilePictureUrl':this[_0x5c1c9a(0x7fc)][_0x5c1c9a(0x5e5)],'message':_0xde96da,'messageType':_0x1cd22d,'message_normalized':{'key':_0x84f820['key'],'pushName':_0x84f820[_0x5c1c9a(0x4a1)],'messageTimestamp':_0x84f820[_0x5c1c9a(0x35a)]&&_0x84f820['messageTimestamp'][_0x5c1c9a(0x281)]()[_0x5c1c9a(0x235)]<0xd?_0x84f820['messageTimestamp']*0x3e8:_0x84f820[_0x5c1c9a(0x35a)]||null,'source':(0x0,w['getDevice'])(_0x84f820[_0x5c1c9a(0x493)]['id']),..._0x28b4d6},'messageTimestamp':_0x84f820[_0x5c1c9a(0x35a)]&&_0x84f820[_0x5c1c9a(0x35a)][_0x5c1c9a(0x281)]()[_0x5c1c9a(0x235)]<0xd?_0x84f820[_0x5c1c9a(0x35a)]*0x3e8:_0x84f820[_0x5c1c9a(0x35a)]||null,'owner':this[_0x5c1c9a(0x7fc)]['wuid'],'source':(0x0,w[_0x5c1c9a(0x22d)])(_0x84f820[_0x5c1c9a(0x493)]['id'])};return this[_0x5c1c9a(0x241)][_0x5c1c9a(0x476)](this[_0x5c1c9a(0x7d7)]+'\x20('+this[_0x5c1c9a(0x7fc)][_0x5c1c9a(0x3c3)]+'):\x20enviado\x20para\x20['+_0x125d4c[_0x5c1c9a(0x493)]?.['remoteJid']['replace'](_0x5c1c9a(0x249),'')+_0x5c1c9a(0x69e)+_0x125d4c[_0x5c1c9a(0x871)]+')'),_0x125d4c[_0x5c1c9a(0x47a)]?.[_0x5c1c9a(0x3ac)]&&this['logger'][_0x5c1c9a(0x476)](_0x125d4c['message_normalized']?.[_0x5c1c9a(0x3ac)]),this[_0x5c1c9a(0x491)](_0x5c1c9a(0x2de),_0x125d4c),F(this[_0x5c1c9a(0x7d7)],_0x5c1c9a(0x342),{'message':_0x125d4c}),this[_0x5c1c9a(0x77d)](this['configService'][_0x5c1c9a(0x1fe)](_0x5c1c9a(0x37f)),_0x125d4c,_0x5c1c9a(0x6d9),_0xf7972e),await this[_0x5c1c9a(0x8ea)][_0x5c1c9a(0x7d9)][_0x5c1c9a(0x805)]([_0x125d4c],this[_0x5c1c9a(0x7fc)][_0x5c1c9a(0x3c3)]),_0x84f820;}catch(_0x531bd7){let _0x203fe4=_0x5c1c9a(0x915)+_0x60527d,_0x5a0b8d=_0x531bd7 instanceof Error?_0x531bd7['message']:typeof _0x531bd7==_0x5c1c9a(0x1ef)?JSON['stringify'](_0x531bd7):_0x531bd7,_0x4d85b5=_0x203fe4+':\x20'+_0x5a0b8d;throw this['logger'][_0x5c1c9a(0x812)](this[_0x5c1c9a(0x7d7)]+'\x20('+this[_0x5c1c9a(0x7fc)]['wuid']+_0x5c1c9a(0x4a5)+_0x4d85b5),new m(_0x4d85b5);}}async['sendMessageWithTypingButtons'](_0x4b1e87,_0x1e7686,_0x446a10){const _0x3f2b59=a0_0x5c0bdf;let _0x4d8d26=this[_0x3f2b59(0x20f)](_0x4b1e87),_0x1a9d9b=(await this['whatsappNumber']({'numbers':[_0x4d8d26]}))[0x0];if(!_0x1a9d9b['exists']&&!(0x0,w[_0x3f2b59(0x6cb)])(_0x1a9d9b['jid']))throw new m(_0x1a9d9b);let _0x169996=(0x0,w[_0x3f2b59(0x6cb)])(_0x4d8d26)?_0x4d8d26:_0x1a9d9b[_0x3f2b59(0x273)];if((0x0,w[_0x3f2b59(0x6cb)])(_0x169996))try{await this[_0x3f2b59(0x3c4)][_0x3f2b59(0x566)](_0x169996);}catch{throw new m(_0x3f2b59(0x88e));}try{_0x446a10?.[_0x3f2b59(0x597)]&&(await this[_0x3f2b59(0x3c4)][_0x3f2b59(0x26b)](_0x169996),await this[_0x3f2b59(0x3c4)][_0x3f2b59(0x762)](_0x446a10?.[_0x3f2b59(0x4e9)]??_0x3f2b59(0x4b3),_0x4d8d26),await(0x0,w[_0x3f2b59(0x597)])(_0x446a10[_0x3f2b59(0x597)]),await this[_0x3f2b59(0x3c4)][_0x3f2b59(0x762)](_0x3f2b59(0x7ba),_0x169996));let _0x359876=await((async()=>{const _0x12cd37=_0x3f2b59;let _0x4a15eb,_0x22f6ba=_0x12cd37(0x441)+(0x0,oe[_0x12cd37(0x24b)])(0x12)[_0x12cd37(0x281)](_0x12cd37(0x468))['toUpperCase'](),_0x3c6cdf=(0x0,w[_0x12cd37(0x825)])(_0x169996,_0x1e7686,{'timestamp':new Date(),'userJid':this['instance'][_0x12cd37(0x3c3)],'messageId':_0x22f6ba,'quoted':_0x4a15eb}),_0x336875=await this['client'][_0x12cd37(0x497)](_0x169996,_0x3c6cdf[_0x12cd37(0x7d9)],{'messageId':_0x22f6ba});_0x3c6cdf[_0x12cd37(0x493)]={'id':_0x336875,'remoteJid':_0x4d8d26,'participant':(0x0,w[_0x12cd37(0x1e7)])(_0x4d8d26)?void 0x0:_0x4d8d26,'fromMe':!0x0};for(let [_0x5b3192,_0x5c6bbf]of Object[_0x12cd37(0x6ef)](_0x3c6cdf))(!_0x5c6bbf||Array['isArray'](_0x5c6bbf)&&_0x5c6bbf[_0x12cd37(0x235)]===0x0)&&delete _0x3c6cdf[_0x5b3192];return this[_0x12cd37(0x3c4)]['ev'][_0x12cd37(0x925)](_0x12cd37(0x38a),{'messages':[_0x3c6cdf],'type':_0x12cd37(0x750)}),_0x3c6cdf;})()),_0x247715=await this[_0x3f2b59(0x8ea)][_0x3f2b59(0x75d)][_0x3f2b59(0x81e)]({'where':{'_id':_0x169996}},this[_0x3f2b59(0x7fc)][_0x3f2b59(0x3c3)]),_0x4abc9b=(0x0,w['normalizeMessageContent'])(_0x359876['message']),_0x4d8d95=(0x0,w['getContentType'])(_0x4abc9b),{message_normalized:_0x1031b1}=this[_0x3f2b59(0x294)](_0x4abc9b,_0x4d8d95,null),_0x1c1e71={'_id':_0x359876[_0x3f2b59(0x493)]['id'],'key':_0x359876[_0x3f2b59(0x493)],'pushName':_0x359876['pushName'],'isGroup':_0x359876[_0x3f2b59(0x493)]['remoteJid']['endsWith'](_0x3f2b59(0x2bc)),'profilePictureUrl':this['instance'][_0x3f2b59(0x5e5)],'message':_0x4abc9b,'messageType':_0x4d8d95,'message_normalized':{'key':_0x359876['key'],'pushName':_0x359876[_0x3f2b59(0x4a1)],'messageTimestamp':_0x359876[_0x3f2b59(0x35a)]&&_0x359876[_0x3f2b59(0x35a)][_0x3f2b59(0x281)]()[_0x3f2b59(0x235)]<0xd?_0x359876[_0x3f2b59(0x35a)]*0x3e8:_0x359876[_0x3f2b59(0x35a)]||null,'source':(0x0,w['getDevice'])(_0x359876['key']['id']),..._0x1031b1},'messageTimestamp':_0x359876[_0x3f2b59(0x35a)]&&_0x359876['messageTimestamp'][_0x3f2b59(0x281)]()[_0x3f2b59(0x235)]<0xd?_0x359876[_0x3f2b59(0x35a)]*0x3e8:_0x359876['messageTimestamp']||null,'owner':this[_0x3f2b59(0x7fc)][_0x3f2b59(0x3c3)],'source':(0x0,w[_0x3f2b59(0x22d)])(_0x359876['key']['id'])};return this[_0x3f2b59(0x241)][_0x3f2b59(0x476)](this[_0x3f2b59(0x7d7)]+'\x20('+this['instance'][_0x3f2b59(0x3c3)]+_0x3f2b59(0x823)+_0x1c1e71['key']?.[_0x3f2b59(0x57e)]['replace']('@s.whatsapp.net','')+_0x3f2b59(0x69e)+_0x1c1e71[_0x3f2b59(0x871)]+')'),_0x1c1e71[_0x3f2b59(0x47a)]?.['text']&&this['logger']['warn'](_0x1c1e71[_0x3f2b59(0x47a)]?.[_0x3f2b59(0x3ac)]),this['sendDataWebhook'](_0x3f2b59(0x2de),_0x1c1e71),F(this[_0x3f2b59(0x7d7)],_0x3f2b59(0x342),{'message':_0x1c1e71}),this[_0x3f2b59(0x77d)](this[_0x3f2b59(0x247)]['get'](_0x3f2b59(0x37f)),_0x1c1e71,'SEND_MESSAGE',_0x247715),await this[_0x3f2b59(0x8ea)]['message'][_0x3f2b59(0x805)]([_0x1c1e71],this[_0x3f2b59(0x7fc)][_0x3f2b59(0x3c3)]),_0x359876;}catch(_0x3e0006){throw this['logger']['error'](_0x3e0006),new m(_0x3e0006[_0x3f2b59(0x281)]());}}get[a0_0x5c0bdf(0x835)](){return this['stateConnection'];}async[a0_0x5c0bdf(0x1b8)](_0x41de2a){const _0x54f795=a0_0x5c0bdf;return await this[_0x54f795(0x1c2)](_0x41de2a[_0x54f795(0x443)],{'conversation':_0x41de2a[_0x54f795(0x1b8)][_0x54f795(0x3ac)]},_0x41de2a?.[_0x54f795(0x54f)]);}async[a0_0x5c0bdf(0x229)](_0x4d383f){const _0x2d70f2=a0_0x5c0bdf;if(!_0x4d383f['type'])throw new m(_0x2d70f2(0x7bc));if(!_0x4d383f['content'])throw new m(_0x2d70f2(0x691));if(_0x4d383f[_0x2d70f2(0x820)]){let _0x30bfb4=await this[_0x2d70f2(0x8ea)][_0x2d70f2(0x7df)]['find']({'where':{}},this[_0x2d70f2(0x7fc)][_0x2d70f2(0x3c3)]);if(!_0x30bfb4[_0x2d70f2(0x235)])throw new m(_0x2d70f2(0x5f6));_0x4d383f[_0x2d70f2(0x667)]=_0x30bfb4[_0x2d70f2(0x755)](_0x2dfe2b=>_0x2dfe2b[_0x2d70f2(0x4a1)])['map'](_0x157b41=>_0x157b41[_0x2d70f2(0x2c7)]);}if(!_0x4d383f[_0x2d70f2(0x667)]?.[_0x2d70f2(0x235)]&&!_0x4d383f[_0x2d70f2(0x820)])throw new m(_0x2d70f2(0x215));if(_0x4d383f[_0x2d70f2(0x5a8)]===_0x2d70f2(0x3ac)){if(!_0x4d383f[_0x2d70f2(0x5c4)])throw new m(_0x2d70f2(0x7ae));if(!_0x4d383f[_0x2d70f2(0x5b8)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x4d383f['content']},'option':{'backgroundColor':_0x4d383f['backgroundColor'],'font':_0x4d383f[_0x2d70f2(0x5b8)],'statusJidList':_0x4d383f[_0x2d70f2(0x667)]}};}if(_0x4d383f[_0x2d70f2(0x5a8)]===_0x2d70f2(0x2cc))return{'content':{'image':{'url':_0x4d383f[_0x2d70f2(0x1e5)]},'caption':_0x4d383f[_0x2d70f2(0x527)]},'option':{'statusJidList':_0x4d383f[_0x2d70f2(0x667)]}};if(_0x4d383f[_0x2d70f2(0x5a8)]===_0x2d70f2(0x302))return{'content':{'video':{'url':_0x4d383f['content']},'caption':_0x4d383f[_0x2d70f2(0x527)]},'option':{'statusJidList':_0x4d383f[_0x2d70f2(0x667)]}};if(_0x4d383f[_0x2d70f2(0x5a8)]===_0x2d70f2(0x250)){this[_0x2d70f2(0x241)][_0x2d70f2(0x8af)](this[_0x2d70f2(0x7d7)]+'\x20('+this[_0x2d70f2(0x7fc)][_0x2d70f2(0x3c3)]+_0x2d70f2(0x923)),this[_0x2d70f2(0x241)][_0x2d70f2(0x8af)](this[_0x2d70f2(0x7d7)]+'\x20('+this[_0x2d70f2(0x7fc)][_0x2d70f2(0x3c3)]+'):Processing\x20audio');let _0x390038=await this[_0x2d70f2(0x593)](_0x4d383f[_0x2d70f2(0x1e5)]);if(typeof _0x390038=='string'){this[_0x2d70f2(0x241)][_0x2d70f2(0x8af)](this['instanceName']+'\x20('+this[_0x2d70f2(0x7fc)]['wuid']+_0x2d70f2(0x469));let _0x324b84=k['readFileSync'](_0x390038)[_0x2d70f2(0x281)](_0x2d70f2(0x916));return{'content':{'audio':Buffer['from'](_0x324b84,_0x2d70f2(0x916)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x4d383f[_0x2d70f2(0x667)]}};}else throw new x(_0x390038);}throw new m(_0x2d70f2(0x6dd));}async['statusMessage'](_0x5839b0){const _0x4288c4=a0_0x5c0bdf;return await this[_0x4288c4(0x1c2)]('status@broadcast',{'status':await this[_0x4288c4(0x229)](_0x5839b0[_0x4288c4(0x7c8)])});}async[a0_0x5c0bdf(0x539)](_0x563c8b){const _0x29148a=a0_0x5c0bdf;try{let _0x4f3634=await(0x0,w[_0x29148a(0x2af)])({[_0x563c8b[_0x29148a(0x440)]]:(0x0,J[_0x29148a(0x239)])(_0x563c8b[_0x29148a(0x861)])?{'url':_0x563c8b[_0x29148a(0x861)]}:Buffer[_0x29148a(0x4ea)](_0x563c8b['media'],'base64')},{'upload':this[_0x29148a(0x3c4)][_0x29148a(0x7c9)]}),_0x1c6a03=_0x563c8b[_0x29148a(0x440)]+'Message';if(_0x563c8b[_0x29148a(0x440)]===_0x29148a(0x8ca)&&!_0x563c8b['fileName']){let _0x16e060=new RegExp(/.*\/(.+?)\./)[_0x29148a(0x58f)](_0x563c8b['media']);_0x563c8b[_0x29148a(0x350)]=_0x16e060?_0x16e060[0x1]:null;}let _0x52fc64;return(0x0,J['isURL'])(_0x563c8b[_0x29148a(0x861)])?_0x52fc64=(await K[_0x29148a(0x32c)][_0x29148a(0x1fe)](_0x563c8b[_0x29148a(0x861)],{'responseType':_0x29148a(0x330)}))[_0x29148a(0x338)][_0x29148a(0x6c9)]:_0x52fc64=(0x0,Oi[_0x29148a(0x544)])(_0x563c8b['fileName']),_0x4f3634[_0x1c6a03][_0x29148a(0x527)]=_0x563c8b?.[_0x29148a(0x527)],_0x4f3634[_0x1c6a03][_0x29148a(0x373)]=_0x52fc64,_0x4f3634[_0x1c6a03][_0x29148a(0x350)]=_0x563c8b[_0x29148a(0x350)],_0x563c8b[_0x29148a(0x440)]===_0x29148a(0x302)&&(_0x4f3634[_0x1c6a03][_0x29148a(0x53c)]=Uint8Array[_0x29148a(0x4ea)]((0x0,Fe['readFileSync'])((0x0,j[_0x29148a(0x938)])(process[_0x29148a(0x422)](),_0x29148a(0x8d7)))),_0x4f3634[_0x1c6a03][_0x29148a(0x7aa)]=!0x1),(0x0,w[_0x29148a(0x825)])('',{[_0x1c6a03]:{..._0x4f3634[_0x1c6a03]}},{'userJid':this[_0x29148a(0x7fc)][_0x29148a(0x3c3)]});}catch(_0x5aa45e){let _0x3ea33a=_0x29148a(0x321),_0x1091ed=_0x5aa45e instanceof Error?_0x5aa45e[_0x29148a(0x7d9)]:typeof _0x5aa45e==_0x29148a(0x1ef)?JSON[_0x29148a(0x86d)](_0x5aa45e):_0x5aa45e,_0x429fcb=_0x3ea33a+':\x20'+_0x1091ed;throw this[_0x29148a(0x241)][_0x29148a(0x812)](this['instanceName']+'\x20('+this[_0x29148a(0x7fc)][_0x29148a(0x3c3)]+_0x29148a(0x4a5)+_0x429fcb),new x(_0x429fcb);}}async[a0_0x5c0bdf(0x64a)](_0xbbbfb9){const _0x36843a=a0_0x5c0bdf;let _0x23da01=0x0;for(;_0x23da01<0x5;)try{let _0x1b5fe8=await this[_0x36843a(0x539)](_0xbbbfb9[_0x36843a(0x64a)]);return await this['sendMessageWithRetry'](_0xbbbfb9[_0x36843a(0x443)],{..._0x1b5fe8[_0x36843a(0x7d9)]},_0xbbbfb9?.['options']);}catch(_0x4b3436){if(_0x23da01++,_0x4b3436 instanceof Error&&_0x4b3436['message']===_0x36843a(0x210)){if(_0x23da01>=0x5)throw new m(_0x36843a(0x47d)+_0x4b3436[_0x36843a(0x7d9)]);this[_0x36843a(0x241)][_0x36843a(0x476)](_0x36843a(0x7b1)+_0x23da01+'/5\x20de\x20preparar\x20mídia\x20falhou:\x20'+_0x4b3436[_0x36843a(0x7d9)]+'.\x20Tentando\x20novamente\x20em\x20'+0x1388/0x3e8+_0x36843a(0x679)),await new Promise(_0x1fb471=>setTimeout(_0x1fb471,0x1388));}else throw new m(_0x4b3436[_0x36843a(0x7d9)]);}}async[a0_0x5c0bdf(0x31a)](_0x4c5af2,_0x32d025){const _0x1ac9a0=a0_0x5c0bdf;try{this['logger'][_0x1ac9a0(0x8af)](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x2c6b9e,_0x3f71e2=_0x32d025+'-'+new Date()[_0x1ac9a0(0x48c)]();this['logger'][_0x1ac9a0(0x8af)](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+'):Hash\x20to\x20image\x20name:\x20'+_0x3f71e2);let _0x4398e5=''+(0x0,j['join'])(this[_0x1ac9a0(0x80e)],_0x3f71e2+_0x1ac9a0(0x6ed));if(this[_0x1ac9a0(0x241)][_0x1ac9a0(0x8af)](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+'):Output\x20path:\x20'+_0x4398e5),(0x0,J['isBase64'])(_0x4c5af2)){this[_0x1ac9a0(0x241)]['verbose'](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+_0x1ac9a0(0x684));let _0x542b59=_0x4c5af2[_0x1ac9a0(0x8df)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x42385e=Buffer['from'](_0x542b59,_0x1ac9a0(0x916));_0x2c6b9e=''+(0x0,j[_0x1ac9a0(0x938)])(this['storePath'],_0x1ac9a0(0x5e6)+_0x3f71e2+_0x1ac9a0(0x625)),this[_0x1ac9a0(0x241)]['verbose'](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+'):Image\x20path:\x20'+_0x2c6b9e),await(0x0,Ut[_0x1ac9a0(0x32c)])(_0x42385e)[_0x1ac9a0(0x7cb)](_0x2c6b9e),this['logger'][_0x1ac9a0(0x8af)](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+'):Image\x20created');}else{this[_0x1ac9a0(0x241)]['verbose'](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+_0x1ac9a0(0x583));let _0xc57226=new Date()[_0x1ac9a0(0x48c)](),_0x147206=_0x4c5af2+_0x1ac9a0(0x867)+_0xc57226;this[_0x1ac9a0(0x241)]['verbose'](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+_0x1ac9a0(0x3e0)+_0x147206);let _0x58a89b=await K[_0x1ac9a0(0x32c)][_0x1ac9a0(0x1fe)](_0x147206,{'responseType':_0x1ac9a0(0x330)});this['logger'][_0x1ac9a0(0x8af)](this[_0x1ac9a0(0x7d7)]+'\x20('+this['instance']['wuid']+'):Getting\x20image\x20from\x20url');let _0x36b0b6=Buffer[_0x1ac9a0(0x4ea)](_0x58a89b[_0x1ac9a0(0x8db)],'binary');_0x2c6b9e=''+(0x0,j[_0x1ac9a0(0x938)])(this[_0x1ac9a0(0x80e)],_0x1ac9a0(0x5e6)+_0x3f71e2+'.png'),this[_0x1ac9a0(0x241)][_0x1ac9a0(0x8af)](this[_0x1ac9a0(0x7d7)]+'\x20('+this['instance'][_0x1ac9a0(0x3c3)]+_0x1ac9a0(0x521)+_0x2c6b9e),await(0x0,Ut[_0x1ac9a0(0x32c)])(_0x36b0b6)[_0x1ac9a0(0x7cb)](_0x2c6b9e),this[_0x1ac9a0(0x241)][_0x1ac9a0(0x8af)](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+_0x1ac9a0(0x570));}return await(0x0,Ut[_0x1ac9a0(0x32c)])(_0x2c6b9e)[_0x1ac9a0(0x2c5)]()[_0x1ac9a0(0x7cb)](_0x4398e5),this[_0x1ac9a0(0x241)][_0x1ac9a0(0x8af)](this['instanceName']+'\x20('+this['instance'][_0x1ac9a0(0x3c3)]+_0x1ac9a0(0x622)),k[_0x1ac9a0(0x630)](_0x2c6b9e),this['logger']['verbose'](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+_0x1ac9a0(0x6ae)),_0x4398e5;}catch(_0x436f4a){let _0x1decfd=_0x1ac9a0(0x3fb),_0x3780e7=_0x436f4a instanceof Error?_0x436f4a[_0x1ac9a0(0x7d9)]:typeof _0x436f4a=='object'?JSON[_0x1ac9a0(0x86d)](_0x436f4a):_0x436f4a,_0x43d81a=_0x1decfd+':\x20'+_0x3780e7;this[_0x1ac9a0(0x241)]['error'](this[_0x1ac9a0(0x7d7)]+'\x20('+this[_0x1ac9a0(0x7fc)][_0x1ac9a0(0x3c3)]+_0x1ac9a0(0x4a5)+_0x43d81a);}}async[a0_0x5c0bdf(0x5b3)](_0x1bbb6f){const _0x560f44=a0_0x5c0bdf;let _0x31dba6=await this[_0x560f44(0x31a)](_0x1bbb6f[_0x560f44(0x85e)]['image'],_0x1bbb6f[_0x560f44(0x443)]),_0x22f540=await this[_0x560f44(0x1c2)](_0x1bbb6f[_0x560f44(0x443)],{'sticker':{'url':_0x31dba6}},_0x1bbb6f?.[_0x560f44(0x54f)]);return k['unlinkSync'](_0x31dba6),this['logger'][_0x560f44(0x8af)](this[_0x560f44(0x7d7)]+'\x20('+this[_0x560f44(0x7fc)][_0x560f44(0x3c3)]+_0x560f44(0x6ec)),_0x22f540;}async[a0_0x5c0bdf(0x655)](_0x4fbe7b){const _0x4e0bd9=a0_0x5c0bdf;if(this['logger'][_0x4e0bd9(0x8af)](this[_0x4e0bd9(0x7d7)]+'\x20('+this['instance']['wuid']+_0x4e0bd9(0x57d)),!_0x4fbe7b[_0x4e0bd9(0x54f)]?.[_0x4e0bd9(0x3a3)]&&_0x4fbe7b[_0x4e0bd9(0x54f)]?.[_0x4e0bd9(0x3a3)]!==!0x1&&(_0x4fbe7b[_0x4e0bd9(0x54f)][_0x4e0bd9(0x3a3)]=!0x0),_0x4fbe7b[_0x4e0bd9(0x54f)]?.[_0x4e0bd9(0x3a3)]){let _0x984d48=await this[_0x4e0bd9(0x593)](_0x4fbe7b[_0x4e0bd9(0x227)]['audio']);if(typeof _0x984d48==_0x4e0bd9(0x749)){let _0x628799=k[_0x4e0bd9(0x3db)](_0x984d48)[_0x4e0bd9(0x281)]('base64');return this['sendMessageWithRetry'](_0x4fbe7b[_0x4e0bd9(0x443)],{'audio':Buffer[_0x4e0bd9(0x4ea)](_0x628799,_0x4e0bd9(0x916)),'ptt':!0x0,'mimetype':_0x4e0bd9(0x1a1)},{'presence':'recording','delay':_0x4fbe7b?.[_0x4e0bd9(0x54f)]?.[_0x4e0bd9(0x597)]});}else throw new x(_0x984d48);}return await this[_0x4e0bd9(0x1c2)](_0x4fbe7b[_0x4e0bd9(0x443)],{'audio':(0x0,J[_0x4e0bd9(0x239)])(_0x4fbe7b[_0x4e0bd9(0x227)]['audio'])?{'url':_0x4fbe7b[_0x4e0bd9(0x227)][_0x4e0bd9(0x250)]}:Buffer[_0x4e0bd9(0x4ea)](_0x4fbe7b['audioMessage'][_0x4e0bd9(0x250)],_0x4e0bd9(0x916)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x4e0bd9(0x51e),'delay':_0x4fbe7b?.['options']?.['delay']});}async[a0_0x5c0bdf(0x593)](_0x304f5b){const _0x3850d4=a0_0x5c0bdf;this['logger'][_0x3850d4(0x8af)](this[_0x3850d4(0x7d7)]+'\x20('+this[_0x3850d4(0x7fc)][_0x3850d4(0x3c3)]+'):Processing\x20audio');let _0x496db6=(0x0,J[_0x3850d4(0x239)])(_0x304f5b)?(0x0,oe['createHash'])(_0x3850d4(0x647))[_0x3850d4(0x1d0)](_0x304f5b)[_0x3850d4(0x6f9)]('hex'):(0x0,oe[_0x3850d4(0x410)])(_0x3850d4(0x647))[_0x3850d4(0x1d0)](_0x304f5b)[_0x3850d4(0x6f9)](_0x3850d4(0x468)),_0x4ffe44=''+(0x0,j[_0x3850d4(0x938)])(this[_0x3850d4(0x80e)],_0x496db6+_0x3850d4(0x1e0));if(k[_0x3850d4(0x4a7)](_0x4ffe44))return this[_0x3850d4(0x241)][_0x3850d4(0x8af)](this[_0x3850d4(0x7d7)]+'\x20('+this[_0x3850d4(0x7fc)]['wuid']+_0x3850d4(0x269)),_0x4ffe44;let _0x331298=''+(0x0,j[_0x3850d4(0x938)])(this[_0x3850d4(0x80e)],_0x3850d4(0x5e6)+(0x0,Q['v4'])()+_0x3850d4(0x28c));if((0x0,J[_0x3850d4(0x239)])(_0x304f5b)){let _0x2ecad7=new Date()[_0x3850d4(0x48c)](),_0x25ad00=_0x304f5b+_0x3850d4(0x867)+_0x2ecad7,_0x191bae=await K[_0x3850d4(0x32c)]['get'](_0x25ad00,{'responseType':'arraybuffer'});k[_0x3850d4(0x5ef)](_0x331298,_0x191bae[_0x3850d4(0x8db)]);}else{let _0x3fafe7=Buffer['from'](_0x304f5b,'base64');k['writeFileSync'](_0x331298,_0x3fafe7);}return new Promise((_0x15488c,_0x3dbd1c)=>{const _0x2771b6=_0x3850d4;(0x0,Ue[_0x2771b6(0x58f)])(Ds[_0x2771b6(0x32c)][_0x2771b6(0x245)]+'\x20-i\x20'+_0x331298+_0x2771b6(0x8c1)+_0x4ffe44+_0x2771b6(0x4fa),_0x3eb2a8=>{const _0x1f3a14=_0x2771b6;if(k['unlinkSync'](_0x331298),_0x3eb2a8){this[_0x1f3a14(0x241)][_0x1f3a14(0x8af)](this[_0x1f3a14(0x7d7)]+'\x20('+this[_0x1f3a14(0x7fc)][_0x1f3a14(0x3c3)]+_0x1f3a14(0x5dc)),_0x3dbd1c(_0x3eb2a8);return;}this['logger'][_0x1f3a14(0x8af)](this[_0x1f3a14(0x7d7)]+'\x20('+this[_0x1f3a14(0x7fc)][_0x1f3a14(0x3c3)]+_0x1f3a14(0x6be)),_0x15488c(_0x4ffe44);});});}async[a0_0x5c0bdf(0x5b6)](_0x8b699b){const _0x2ac056=a0_0x5c0bdf;this[_0x2ac056(0x241)][_0x2ac056(0x8af)](this['instanceName']+'\x20('+this[_0x2ac056(0x7fc)][_0x2ac056(0x3c3)]+_0x2ac056(0x297));let _0x41aaab=(0x0,oe[_0x2ac056(0x410)])('sha256')[_0x2ac056(0x1d0)](_0x8b699b)[_0x2ac056(0x6f9)](_0x2ac056(0x468)),_0x18c18b=''+(0x0,j[_0x2ac056(0x938)])(this['storePath'],_0x41aaab+_0x2ac056(0x28c));if(k['existsSync'](_0x18c18b))return this[_0x2ac056(0x241)]['verbose'](this[_0x2ac056(0x7d7)]+'\x20('+this[_0x2ac056(0x7fc)][_0x2ac056(0x3c3)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j['default'][_0x2ac056(0x4e3)](_0x18c18b);let _0x4cb79d=''+(0x0,j[_0x2ac056(0x938)])(this[_0x2ac056(0x80e)],_0x2ac056(0x5e6)+_0x41aaab+_0x2ac056(0x1e0));if((0x0,J[_0x2ac056(0x239)])(_0x8b699b)){let _0x52580f=new Date()['getTime'](),_0x5b1a90=_0x8b699b+_0x2ac056(0x867)+_0x52580f,_0x389bcd=await K[_0x2ac056(0x32c)][_0x2ac056(0x1fe)](_0x5b1a90,{'responseType':'arraybuffer'});k[_0x2ac056(0x5ef)](_0x4cb79d,_0x389bcd['data']);}else{let _0x485fd4=Buffer[_0x2ac056(0x4ea)](_0x8b699b,_0x2ac056(0x916));k[_0x2ac056(0x5ef)](_0x4cb79d,_0x485fd4);}return new Promise((_0x349b9e,_0x1f479d)=>{const _0xf143c8=_0x2ac056;(0x0,Ue[_0xf143c8(0x58f)])(Ds[_0xf143c8(0x32c)][_0xf143c8(0x245)]+'\x20-i\x20'+_0x4cb79d+_0xf143c8(0x386)+_0x18c18b+_0xf143c8(0x4fa),_0x48ad43=>{const _0x476aea=_0xf143c8;if(k[_0x476aea(0x630)](_0x4cb79d),_0x48ad43){this[_0x476aea(0x241)]['verbose'](this['instanceName']+'\x20('+this[_0x476aea(0x7fc)][_0x476aea(0x3c3)]+_0x476aea(0x5dc)),_0x1f479d(_0x48ad43);return;}this[_0x476aea(0x241)][_0x476aea(0x8af)](this[_0x476aea(0x7d7)]+'\x20('+this[_0x476aea(0x7fc)][_0x476aea(0x3c3)]+_0x476aea(0x6be)),_0x349b9e(j[_0x476aea(0x32c)][_0x476aea(0x4e3)](_0x18c18b));});});}async[a0_0x5c0bdf(0x6b2)](_0x25de3f){const _0xd3050e=a0_0x5c0bdf;console[_0xd3050e(0x84c)]('[service]\x20request\x20received\x20in\x20sendButtons',_0x25de3f);let _0x536de0;try{_0x25de3f['buttonMessage']?.[_0xd3050e(0x73f)]&&(_0x536de0=await this['prepareMediaMessage']({'mediatype':'image','media':_0x25de3f[_0xd3050e(0x6b2)]['thumbnailUrl']}));}catch(_0x4ebe7e){throw console['error'](_0xd3050e(0x4b0),_0x4ebe7e),new Error(_0xd3050e(0x790));}try{let _0x2bf68c={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0xd3050e(0x87d)},'footer':{'text':_0xd3050e(0x91b)},'header':((()=>{const _0x17df67=_0xd3050e;if(_0x536de0?.[_0x17df67(0x7d9)]?.['imageMessage'])return{'hasMediaAttachment':!!_0x536de0[_0x17df67(0x7d9)]['imageMessage'],'imageMessage':_0x536de0['message']['imageMessage']};})()),'nativeFlowMessage':{'buttons':[{'name':'quick_reply','buttonParamsJson':JSON[_0xd3050e(0x86d)]({'display_text':_0xd3050e(0x21e),'id':'1'})},{'name':_0xd3050e(0x310),'buttonParamsJson':JSON[_0xd3050e(0x86d)]({'display_text':_0xd3050e(0x207),'id':'2'})}],'messageParamsJson':JSON[_0xd3050e(0x86d)]({'from':_0xd3050e(0x4dd),'templateId':'3EB0'+(0x0,oe[_0xd3050e(0x24b)])(0x12)[_0xd3050e(0x281)](_0xd3050e(0x468))[_0xd3050e(0x2f3)]()})}}}}};return await this[_0xd3050e(0x5d6)](_0x25de3f[_0xd3050e(0x443)],_0x2bf68c,_0x25de3f?.['options']);}catch(_0x509d7e){throw console[_0xd3050e(0x812)](_0xd3050e(0x5f9),_0x509d7e),new Error('Failed\x20to\x20send\x20buttons\x20message');}}async[a0_0x5c0bdf(0x522)](_0x50f758){const _0x3e70b5=a0_0x5c0bdf;return await this[_0x3e70b5(0x1c2)](_0x50f758[_0x3e70b5(0x443)],{'locationMessage':{'degreesLatitude':_0x50f758['locationMessage']['latitude'],'degreesLongitude':_0x50f758[_0x3e70b5(0x522)]['longitude'],'name':_0x50f758[_0x3e70b5(0x522)]?.[_0x3e70b5(0x35d)],'address':_0x50f758['locationMessage']?.[_0x3e70b5(0x459)]}},_0x50f758?.['options']);}async[a0_0x5c0bdf(0x237)](_0x3acbab){const _0x546cfe=a0_0x5c0bdf;let _0xed1945={},_0x315dae=async _0x3d840a=>{const _0x2a526c=a0_0x34cb;let _0xb4264b=_0x2a526c(0x733)+_0x3d840a['fullName']+_0x2a526c(0x349)+_0x3d840a[_0x2a526c(0x5e2)]+'\x0a';_0x3d840a[_0x2a526c(0x651)]&&(_0xb4264b+='ORG:'+_0x3d840a[_0x2a526c(0x651)]+';\x0a'),_0x3d840a[_0x2a526c(0x1dc)]&&(_0xb4264b+=_0x2a526c(0x4a2)+_0x3d840a[_0x2a526c(0x1dc)]+'\x0a'),_0x3d840a[_0x2a526c(0x44c)]&&(_0xb4264b+=_0x2a526c(0x7a9)+_0x3d840a['url']+'\x0a');let _0x5239e6='',_0x3cbf12=0x1;if(_0x3d840a[_0x2a526c(0x1b3)]){let _0x1db744=_0x3d840a[_0x2a526c(0x1b3)][_0x2a526c(0x2a9)]('|');for(let _0x378eef of _0x1db744){let _0x57e2da=await this[_0x2a526c(0x638)]({'numbers':[_0x378eef]}),_0x1df1b4=(_0x57e2da[_0x2a526c(0x235)]>0x0?_0x57e2da[0x0][_0x2a526c(0x273)]:this[_0x2a526c(0x20f)](_0x378eef))[_0x2a526c(0x8df)](_0x2a526c(0x249),'');_0x5239e6+=_0x2a526c(0x327)+_0x3cbf12+_0x2a526c(0x8aa)+_0x1df1b4+':'+_0x378eef+'\x0aitem'+_0x3cbf12+_0x2a526c(0x398),_0x3cbf12++;}}return _0xb4264b+=_0x5239e6+_0x2a526c(0x731),_0xb4264b;};return _0x3acbab['contactMessage'][_0x546cfe(0x235)]===0x1?_0xed1945[_0x546cfe(0x237)]={'displayName':_0x3acbab[_0x546cfe(0x237)][0x0][_0x546cfe(0x5e2)],'vcard':await _0x315dae(_0x3acbab[_0x546cfe(0x237)][0x0])}:_0xed1945[_0x546cfe(0x578)]={'displayName':_0x3acbab[_0x546cfe(0x237)][_0x546cfe(0x235)]+'\x20contacts','contacts':await Promise[_0x546cfe(0x2db)](_0x3acbab[_0x546cfe(0x237)]['map'](async _0x3273b4=>({'displayName':_0x3273b4[_0x546cfe(0x5e2)],'vcard':await _0x315dae(_0x3273b4)})))},await this[_0x546cfe(0x1c2)](_0x3acbab[_0x546cfe(0x443)],{..._0xed1945},_0x3acbab?.[_0x546cfe(0x54f)]);}async[a0_0x5c0bdf(0x8a8)](_0x2c3ff7){const _0x51c2ed=a0_0x5c0bdf;return await this[_0x51c2ed(0x1c2)](_0x2c3ff7[_0x51c2ed(0x8a8)]['key']['remoteJid'],{'reactionMessage':{'key':_0x2c3ff7[_0x51c2ed(0x8a8)][_0x51c2ed(0x493)],'text':_0x2c3ff7[_0x51c2ed(0x8a8)][_0x51c2ed(0x2d6)]}});}async[a0_0x5c0bdf(0x638)](_0x133890){const _0x4af553=a0_0x5c0bdf;let _0x28489d=[];for await(let _0x4ec693 of _0x133890[_0x4af553(0x385)]){let _0x2545fc=this['createJid'](_0x4ec693),_0x321ff1=!0x1;try{if((0x0,w['isJidGroup'])(_0x2545fc)){let _0x4303d8=(await this[_0x4af553(0x8ea)][_0x4af553(0x75d)][_0x4af553(0x81e)]({'where':{'_id':_0x2545fc}},this[_0x4af553(0x7fc)][_0x4af553(0x3c3)]))[_0x4af553(0x897)];_0x4303d8?(_0x321ff1=!0x0,_0x28489d[_0x4af553(0x2c1)](new ce(_0x4303d8['id'],_0x321ff1,_0x4303d8?.[_0x4af553(0x7e9)]))):(_0x4303d8=await this[_0x4af553(0x57b)]({'groupJid':_0x2545fc},_0x4af553(0x73e)),_0x28489d['push'](new ce(_0x4303d8['id'],!!_0x4303d8?.['id'],_0x4303d8?.[_0x4af553(0x7e9)])));}else{if(_0x2545fc[_0x4af553(0x4ee)](_0x4af553(0x917)))_0x28489d[_0x4af553(0x2c1)](new ce(_0x2545fc,!0x0));else{let _0x10c1cc=(await this[_0x4af553(0x3c4)][_0x4af553(0x39a)](_0x2545fc))[0x0];_0x28489d[_0x4af553(0x2c1)](new ce(_0x10c1cc[_0x4af553(0x273)],_0x10c1cc[_0x4af553(0x856)]));}}}catch{(0x0,w[_0x4af553(0x6cb)])(_0x2545fc)||await this['deleteImportedChat'](_0x2545fc),_0x28489d[_0x4af553(0x2c1)](new ce(_0x4ec693,!0x1));}}return _0x28489d;}async[a0_0x5c0bdf(0x4ae)](_0xb9abda){const _0x157f00=a0_0x5c0bdf;try{await this[_0x157f00(0x8ea)]['chat']['findOne']({'where':{'_id':_0xb9abda,'imported':!0x0}},this[_0x157f00(0x7fc)]['wuid'])&&(await this['repository']['chat'][_0x157f00(0x417)](_0xb9abda,this[_0x157f00(0x7fc)][_0x157f00(0x3c3)]),this[_0x157f00(0x241)][_0x157f00(0x40b)](_0x157f00(0x267)+_0xb9abda+_0x157f00(0x7bd)));}catch(_0x2d1cc3){let _0x35adbb=_0x157f00(0x7d0),_0x4f32b4=_0x2d1cc3 instanceof Error?_0x2d1cc3[_0x157f00(0x7d9)]:typeof _0x2d1cc3==_0x157f00(0x1ef)?JSON[_0x157f00(0x86d)](_0x2d1cc3):_0x2d1cc3,_0x55a493=_0x35adbb+':\x20'+_0x4f32b4;this[_0x157f00(0x241)][_0x157f00(0x812)](this[_0x157f00(0x7d7)]+'\x20('+this['instance']['wuid']+_0x157f00(0x4a5)+_0x55a493);}}async['markMessageAsRead'](_0x41c3fc){const _0x28657b=a0_0x5c0bdf;try{let _0xf22d9f=_0x41c3fc[_0x28657b(0x3f5)][_0x28657b(0x755)](_0x16b255=>(0x0,w['isJidGroup'])(_0x16b255[_0x28657b(0x57e)])||(0x0,w[_0x28657b(0x1e7)])(_0x16b255['remoteJid']))[_0x28657b(0x6df)](_0x1e2a85=>({'remoteJid':_0x1e2a85[_0x28657b(0x57e)],'fromMe':_0x1e2a85[_0x28657b(0x650)],'id':_0x1e2a85['id']}));await this[_0x28657b(0x3c4)]['readMessages'](_0xf22d9f);let _0x5a9f91=_0xf22d9f[_0x28657b(0x6df)](_0x2378dc=>this[_0x28657b(0x540)](_0x2378dc,{'status':'READ','owner':this[_0x28657b(0x7fc)][_0x28657b(0x3c3)]})),_0x33bf65=_0xf22d9f[_0x28657b(0x6df)](_0x1fa67f=>this['repository'][_0x28657b(0x75d)][_0x28657b(0x411)]({'where':{'_id':_0x1fa67f[_0x28657b(0x57e)]}},{'unreadcount':0x0},this['instance'][_0x28657b(0x3c3)])),[_0x4945b5,_0x5e300a]=await Promise['all']([Promise[_0x28657b(0x2db)](_0x5a9f91),Promise[_0x28657b(0x2db)](_0x33bf65)]);return _0x5e300a['filter'](_0x2987ec=>_0x2987ec!==null)[_0x28657b(0x91c)](_0x41d4af=>{const _0x34f1bb=_0x28657b;F(this[_0x34f1bb(0x7d7)],'chats',{'chat':_0x41d4af});}),{'message':'Read\x20messages','read':_0x28657b(0x906)};}catch(_0x582786){let _0x1a0b5e=_0x28657b(0x38f),_0x232c14=_0x582786 instanceof Error?_0x582786['message']:typeof _0x582786==_0x28657b(0x1ef)?JSON['stringify'](_0x582786):_0x582786,_0x2e8d42=_0x1a0b5e+':\x20'+_0x232c14;throw this[_0x28657b(0x241)]['error'](this['instanceName']+'\x20('+this[_0x28657b(0x7fc)][_0x28657b(0x3c3)]+_0x28657b(0x4a5)+_0x2e8d42),new x(_0x2e8d42);}}async[a0_0x5c0bdf(0x571)](_0x75ac62){const _0x15cd32=a0_0x5c0bdf;let _0x15054e={'where':{'key':{'remoteJid':_0x75ac62}},'limit':0x1},_0x26f393=await this[_0x15cd32(0x711)](_0x15054e);return _0x26f393||(this[_0x15cd32(0x241)][_0x15cd32(0x812)](_0x15cd32(0x61c)+_0x75ac62),null);}async[a0_0x5c0bdf(0x381)](_0x5c847f){const _0x2494b6=a0_0x5c0bdf;this[_0x2494b6(0x241)][_0x2494b6(0x8af)](this[_0x2494b6(0x7d7)]+'\x20('+this['instance'][_0x2494b6(0x3c3)]+_0x2494b6(0x66b));try{let _0x4ace4c=_0x5c847f[_0x2494b6(0x31f)],_0x24000a=_0x5c847f[_0x2494b6(0x75d)];if(!_0x4ace4c&&_0x24000a?_0x4ace4c=await this['getLastMessage'](_0x24000a):(_0x4ace4c=_0x5c847f[_0x2494b6(0x31f)],_0x4ace4c[_0x2494b6(0x35a)]=_0x4ace4c?.[_0x2494b6(0x35a)]??Date['now'](),_0x24000a=_0x4ace4c?.[_0x2494b6(0x493)]?.['remoteJid']),!_0x4ace4c||Object[_0x2494b6(0x2ec)](_0x4ace4c)[_0x2494b6(0x235)]===0x0)throw new U(_0x2494b6(0x4b1));this[_0x2494b6(0x241)]['verbose'](this[_0x2494b6(0x7d7)]+'\x20('+this[_0x2494b6(0x7fc)][_0x2494b6(0x3c3)]+_0x2494b6(0x729)+_0x24000a);try{await this[_0x2494b6(0x3c4)][_0x2494b6(0x513)]({'archive':_0x5c847f[_0x2494b6(0x541)],'lastMessages':[_0x4ace4c]},this['createJid'](_0x24000a));}catch(_0x1ef4c1){let _0x3dff0f='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x24000a,_0x41cfcb=_0x1ef4c1 instanceof Error?_0x1ef4c1['message']:typeof _0x1ef4c1==_0x2494b6(0x1ef)?JSON[_0x2494b6(0x86d)](_0x1ef4c1):_0x1ef4c1,_0x3f1a81=_0x3dff0f+':\x20'+_0x41cfcb;this['logger'][_0x2494b6(0x812)](this[_0x2494b6(0x7d7)]+'\x20('+this[_0x2494b6(0x7fc)][_0x2494b6(0x3c3)]+_0x2494b6(0x4a5)+_0x3f1a81);}this[_0x2494b6(0x241)][_0x2494b6(0x8af)](this[_0x2494b6(0x7d7)]+'\x20('+this['instance']['wuid']+_0x2494b6(0x306)+_0x24000a);let _0x206a1c=await this['repository'][_0x2494b6(0x75d)]['updateOne']({'where':{'_id':_0x4ace4c?.[_0x2494b6(0x493)]?.['remoteJid']}},{'archived':_0x5c847f[_0x2494b6(0x541)]},this['instance'][_0x2494b6(0x3c3)]);return _0x206a1c?(this['logger'][_0x2494b6(0x8af)](this[_0x2494b6(0x7d7)]+'\x20('+this[_0x2494b6(0x7fc)][_0x2494b6(0x3c3)]+_0x2494b6(0x3f8)+JSON[_0x2494b6(0x86d)](_0x206a1c)),F(this[_0x2494b6(0x7d7)],_0x2494b6(0x5fd),{'chat':_0x206a1c})):this[_0x2494b6(0x241)][_0x2494b6(0x812)](this[_0x2494b6(0x7d7)]+'\x20('+this[_0x2494b6(0x7fc)]['wuid']+_0x2494b6(0x453)+_0x24000a),{'chatId':_0x24000a,'archived':_0x5c847f[_0x2494b6(0x541)]};}catch(_0x1301f0){let _0x3df440='Erro\x20ao\x20arquivar\x20chat',_0x98b826=_0x1301f0 instanceof Error?_0x1301f0[_0x2494b6(0x7d9)]:typeof _0x1301f0==_0x2494b6(0x1ef)?JSON[_0x2494b6(0x86d)](_0x1301f0):_0x1301f0,_0x516bf4=_0x3df440+':\x20'+_0x98b826;throw this[_0x2494b6(0x241)][_0x2494b6(0x812)](this['instanceName']+'\x20('+this[_0x2494b6(0x7fc)][_0x2494b6(0x3c3)]+'):\x20'+_0x516bf4),new x(_0x516bf4);}}async[a0_0x5c0bdf(0x417)](_0x24f4c7){const _0xf15480=a0_0x5c0bdf;this['logger'][_0xf15480(0x8af)](this[_0xf15480(0x7d7)]+'\x20('+this[_0xf15480(0x7fc)][_0xf15480(0x3c3)]+'):Delete\x20chat');try{let _0x2fd5c8=await this[_0xf15480(0x571)](_0x24f4c7);if(!_0x2fd5c8||Object[_0xf15480(0x2ec)](_0x2fd5c8)[_0xf15480(0x235)]===0x0)throw new U(_0xf15480(0x4b1));let _0xe528a=_0x2fd5c8[0x0];this[_0xf15480(0x241)][_0xf15480(0x8af)](this['instanceName']+'\x20('+this[_0xf15480(0x7fc)][_0xf15480(0x3c3)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x24f4c7);try{await this[_0xf15480(0x3c4)][_0xf15480(0x513)]({'delete':!0x0,'lastMessages':[{'key':_0xe528a[_0xf15480(0x493)],'messageTimestamp':_0xe528a[_0xf15480(0x35a)]}]},this['createJid'](_0x24f4c7));}catch(_0x1d628f){this[_0xf15480(0x241)][_0xf15480(0x812)](_0xf15480(0x2ca)+_0x24f4c7+':\x20'+_0x1d628f['toString']());}this[_0xf15480(0x241)][_0xf15480(0x8af)](this['instanceName']+'\x20('+this['instance'][_0xf15480(0x3c3)]+_0xf15480(0x306)+_0x24f4c7);return;}catch(_0x4f1f0a){throw this[_0xf15480(0x241)][_0xf15480(0x812)](this['instanceName']+'\x20('+this[_0xf15480(0x7fc)][_0xf15480(0x3c3)]+_0xf15480(0x7c0)+_0x4f1f0a['toString']()),new x({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x4f1f0a[_0xf15480(0x281)]()]});}}async['deleteMessage'](_0x25b3fa){const _0xbcbd9b=a0_0x5c0bdf;try{let _0x5e521c=await this[_0xbcbd9b(0x3c4)][_0xbcbd9b(0x7fb)](_0x25b3fa[_0xbcbd9b(0x57e)],{'delete':_0x25b3fa});try{let _0x77719b=await this['updateMessage'](_0x25b3fa,{'status':'DELETED','owner':this[_0xbcbd9b(0x7fc)][_0xbcbd9b(0x3c3)]});this[_0xbcbd9b(0x241)][_0xbcbd9b(0x8af)](this[_0xbcbd9b(0x7d7)]+'\x20('+this['instance'][_0xbcbd9b(0x3c3)]+_0xbcbd9b(0x5c5)+_0x77719b);}catch(_0x16cee8){this[_0xbcbd9b(0x241)][_0xbcbd9b(0x812)]('Error\x20updating\x20message\x20status:'+_0x16cee8);}return _0x5e521c;}catch(_0x1491ad){throw new x(_0xbcbd9b(0x68b),_0x1491ad?.['toString']());}}async[a0_0x5c0bdf(0x672)](_0x3ebe65){const _0x128cd3=a0_0x5c0bdf;try{let _0x478d19=_0x3ebe65?.['message']?_0x3ebe65:await this[_0x128cd3(0x325)](_0x3ebe65['key'],!0x0);for(let _0xbcc46f of Na)_0x478d19[_0x128cd3(0x7d9)][_0xbcc46f]&&(_0x478d19['message']=_0x478d19['message'][_0xbcc46f]['message']);let _0x7deeaa,_0x4a0f55;for(let _0x58e89c of Ea)if(_0x7deeaa=_0x478d19[_0x128cd3(0x7d9)][_0x58e89c],_0x7deeaa){_0x4a0f55=_0x58e89c;break;}if(!_0x7deeaa)throw _0x128cd3(0x619);typeof _0x7deeaa[_0x128cd3(0x817)]==_0x128cd3(0x1ef)&&(_0x478d19[_0x128cd3(0x7d9)]=JSON[_0x128cd3(0x4d9)](JSON[_0x128cd3(0x86d)](_0x478d19['message'])));let _0x12fdc9=await(0x0,w['downloadMediaMessage'])({'key':_0x478d19?.['key'],'message':_0x478d19?.['message']},_0x128cd3(0x6a7),{},{'logger':(0x0,Ft[_0x128cd3(0x32c)])({'level':_0x128cd3(0x4ca)}),'reuploadRequest':this[_0x128cd3(0x3c4)][_0x128cd3(0x81f)]});if(!(_0x12fdc9 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x4cc00b=this[_0x128cd3(0x247)]['get'](_0x128cd3(0x37f)),_0x1fc42e,_0x5136d2;if(_0x7deeaa[_0x128cd3(0x350)])_0x1fc42e=_0x7deeaa[_0x128cd3(0x350)];else{let _0x18d0d7=_0x7deeaa['mimetype']?.[_0x128cd3(0x211)](/\/(\w+)/),_0x3c9a5e=_0x18d0d7?_0x18d0d7[0x1]:null;if(!_0x3c9a5e)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x1fc42e=(0x0,Q['v4'])()+'.'+_0x3c9a5e;}_0x4a0f55===_0x128cd3(0x227)?_0x5136d2=_0x128cd3(0x2ab)+await this['convertaudioMP3'](_0x12fdc9[_0x128cd3(0x281)]('base64')):(await this['saveMediaToFile'](_0x12fdc9,_0x1fc42e),_0x5136d2=_0x128cd3(0x2ab)+_0x1fc42e);let _0x2ef54e=this[_0x128cd3(0x247)][_0x128cd3(0x1fe)](_0x128cd3(0x1df))['URL'];if(!_0x2ef54e){let _0x5c1417=this[_0x128cd3(0x247)][_0x128cd3(0x1fe)](_0x128cd3(0x594));_0x2ef54e=_0x128cd3(0x560)+(_0x5c1417&&_0x5c1417[_0x128cd3(0x728)][_0x128cd3(0x2a9)]('/')[0x4]);}_0x5136d2=''+_0x2ef54e+_0x5136d2;let _0x5e0e36=0xc*0x3c*0x3c*0x3e8,_0x56f698={'where':{'_id':_0x478d19[_0x128cd3(0x493)]['id']}},_0x24d570={'message_normalized.fileUrl':_0x5136d2,'message_normalized.expires_fileUrl':Date[_0x128cd3(0x435)]()+_0x5e0e36};try{let _0x2e0a2e=await this['repository'][_0x128cd3(0x7d9)][_0x128cd3(0x1d0)](_0x56f698,_0x24d570,this[_0x128cd3(0x7fc)]['wuid']);_0x2e0a2e&&F(this[_0x128cd3(0x7d7)],_0x128cd3(0x342),{'message':_0x2e0a2e});}catch(_0x393ae1){let _0x3b31a2=_0x128cd3(0x33a),_0x58c9d3=_0x393ae1 instanceof Error?_0x393ae1[_0x128cd3(0x7d9)]:typeof _0x393ae1==_0x128cd3(0x1ef)?JSON[_0x128cd3(0x86d)](_0x393ae1):_0x393ae1,_0x27a4a4=_0x3b31a2+':\x20'+_0x58c9d3;this['logger']['error'](this[_0x128cd3(0x7d7)]+'\x20('+this[_0x128cd3(0x7fc)][_0x128cd3(0x3c3)]+_0x128cd3(0x4a5)+_0x27a4a4);}return{'mediaType':_0x4a0f55,'fileName':_0x7deeaa['fileName'],'caption':_0x7deeaa['caption'],'size':{'fileLength':_0x7deeaa['fileLength'],'height':_0x7deeaa[_0x128cd3(0x82e)],'width':_0x7deeaa['width']},'mimetype':_0x7deeaa[_0x128cd3(0x373)],'base64':_0x12fdc9[_0x128cd3(0x281)](_0x128cd3(0x916)),'fileUrl':_0x5136d2,'expires_fileUrl':Date[_0x128cd3(0x435)]()+_0x5e0e36};}catch(_0x1ae084){let _0x1bca8e=_0x128cd3(0x930),_0x855958=_0x1ae084 instanceof Error?_0x1ae084['message']:typeof _0x1ae084==_0x128cd3(0x1ef)?JSON[_0x128cd3(0x86d)](_0x1ae084):_0x1ae084,_0x3cd1a1=_0x1bca8e+':\x20'+_0x855958;throw this[_0x128cd3(0x241)]['error'](this[_0x128cd3(0x7d7)]+'\x20('+this[_0x128cd3(0x7fc)][_0x128cd3(0x3c3)]+_0x128cd3(0x4a5)+_0x3cd1a1),new m(_0x3cd1a1);}}async[a0_0x5c0bdf(0x726)](_0x488305,_0x169a0d){const _0x1b791c=a0_0x5c0bdf;let _0x30f15b=j['default'][_0x1b791c(0x938)](__dirname,_0x1b791c(0x274));k[_0x1b791c(0x4a7)](_0x30f15b)||k['mkdirSync'](_0x30f15b,{'recursive':!0x0});let _0x193b3e=j[_0x1b791c(0x32c)][_0x1b791c(0x938)](_0x30f15b,_0x169a0d);return new Promise((_0x31dc72,_0x1de84b)=>{k['writeFile'](_0x193b3e,_0x488305,_0x5765d4=>{const _0x3e3562=a0_0x34cb;_0x5765d4?(this[_0x3e3562(0x241)]['error'](_0x3e3562(0x446)+(_0x5765d4 instanceof Error?_0x5765d4[_0x3e3562(0x7d9)]:JSON['stringify'](_0x5765d4,null,0x2))),_0x1de84b(_0x5765d4)):(this[_0x3e3562(0x241)][_0x3e3562(0x84c)](_0x3e3562(0x85b)+_0x193b3e),_0x31dc72(_0x193b3e));});});}async[a0_0x5c0bdf(0x431)](_0x515b3c){const _0x4f4479=a0_0x5c0bdf;return await this[_0x4f4479(0x8ea)]['contact'][_0x4f4479(0x50f)](_0x515b3c,this[_0x4f4479(0x7fc)][_0x4f4479(0x3c3)]);}async[a0_0x5c0bdf(0x8de)](){const _0x55ec35=a0_0x5c0bdf;return await this[_0x55ec35(0x8ea)]['label'][_0x55ec35(0x50f)]({'where':{}},this[_0x55ec35(0x7fc)][_0x55ec35(0x3c3)]);}async[a0_0x5c0bdf(0x711)](_0x342c49){const _0x4b567b=a0_0x5c0bdf;return await this[_0x4b567b(0x8ea)]['message'][_0x4b567b(0x50f)](_0x342c49,this[_0x4b567b(0x7fc)][_0x4b567b(0x3c3)]);}async['fetchChats'](){const _0x18fe62=a0_0x5c0bdf;return this['repository'][_0x18fe62(0x75d)][_0x18fe62(0x84d)](this[_0x18fe62(0x7fc)][_0x18fe62(0x3c3)]),this['repository'][_0x18fe62(0x75d)][_0x18fe62(0x79f)](this['instance'][_0x18fe62(0x3c3)]),this[_0x18fe62(0x8ea)]['chat']['updateMissingTags'](this[_0x18fe62(0x7fc)][_0x18fe62(0x3c3)]),this[_0x18fe62(0x8ea)][_0x18fe62(0x75d)]['updateMissingCustomFields'](this[_0x18fe62(0x7fc)][_0x18fe62(0x3c3)]),await this['repository'][_0x18fe62(0x75d)][_0x18fe62(0x50f)]({'where':{}},this[_0x18fe62(0x7fc)][_0x18fe62(0x3c3)]);}async[a0_0x5c0bdf(0x700)](_0x2429a3){const _0x1f95e1=a0_0x5c0bdf;try{if(!Array['isArray'](_0x2429a3)||_0x2429a3['length']===0x0)throw new Error(_0x1f95e1(0x331));let _0x4a0827=[],_0x1716ae=[];for(let _0x736d4 of _0x2429a3){if(_0x736d4[_0x1f95e1(0x2c7)])_0x736d4[_0x1f95e1(0x2c7)]=this[_0x1f95e1(0x20f)](_0x736d4['_id']);else continue;await this[_0x1f95e1(0x8ea)][_0x1f95e1(0x75d)][_0x1f95e1(0x81e)]({'where':{'_id':_0x736d4[_0x1f95e1(0x2c7)]}},this[_0x1f95e1(0x7fc)][_0x1f95e1(0x3c3)])?_0x1716ae['push']({'_id':_0x736d4['_id'],'leadInfo':_0x736d4[_0x1f95e1(0x264)],'owner':this['instance'][_0x1f95e1(0x3c3)]}):_0x4a0827[_0x1f95e1(0x2c1)]({'_id':_0x736d4[_0x1f95e1(0x2c7)],'owner':this[_0x1f95e1(0x7fc)][_0x1f95e1(0x3c3)],'leadInfo':_0x736d4[_0x1f95e1(0x264)],'imported':!0x0});}return _0x1716ae['length']>0x0&&await this[_0x1f95e1(0x8ea)][_0x1f95e1(0x75d)][_0x1f95e1(0x4e2)](_0x1716ae[_0x1f95e1(0x6df)](_0x1afc19=>({'query':{'where':{'_id':_0x1afc19['_id'],'owner':this[_0x1f95e1(0x7fc)][_0x1f95e1(0x3c3)]}},'update':_0x1afc19}))),_0x4a0827[_0x1f95e1(0x235)]>0x0&&await this[_0x1f95e1(0x8ea)][_0x1f95e1(0x75d)][_0x1f95e1(0x488)](_0x4a0827,this[_0x1f95e1(0x7fc)][_0x1f95e1(0x3c3)]),{'updated':_0x1716ae['length'],'inserted':_0x4a0827[_0x1f95e1(0x235)]};}catch(_0x362754){let _0x3418bb=_0x1f95e1(0x8ff),_0x1ab73f=_0x362754 instanceof Error?_0x362754[_0x1f95e1(0x7d9)]:typeof _0x362754=='object'?JSON[_0x1f95e1(0x86d)](_0x362754):_0x362754,_0x4a25e2=_0x3418bb+':\x20'+_0x1ab73f;throw this[_0x1f95e1(0x241)][_0x1f95e1(0x812)](this['instanceName']+'\x20('+this[_0x1f95e1(0x7fc)][_0x1f95e1(0x3c3)]+_0x1f95e1(0x4a5)+_0x4a25e2),new m(_0x4a25e2);}}async[a0_0x5c0bdf(0x2d4)](_0x368335){const _0x29ae4e=a0_0x5c0bdf;try{if(!Array['isArray'](_0x368335)||_0x368335['length']===0x0)throw new Error(_0x29ae4e(0x331));let _0x5387da=0x64,_0x16e511=0x0;for(let _0x2a57ed=0x0;_0x2a57ed<_0x368335[_0x29ae4e(0x235)];_0x2a57ed+=_0x5387da){let _0x49c5a0=_0x368335['slice'](_0x2a57ed,_0x2a57ed+_0x5387da),{updated:_0x25e90f}=await this[_0x29ae4e(0x4df)](_0x49c5a0);_0x16e511+=_0x25e90f;}return{'updated':_0x16e511};}catch(_0xa2e610){let _0x28638c=_0x29ae4e(0x8ff),_0x32dad7=_0xa2e610 instanceof Error?_0xa2e610['message']:typeof _0xa2e610=='object'?JSON[_0x29ae4e(0x86d)](_0xa2e610):_0xa2e610,_0x26c650=_0x28638c+':\x20'+_0x32dad7;throw this['logger'][_0x29ae4e(0x812)](this[_0x29ae4e(0x7d7)]+'\x20('+this[_0x29ae4e(0x7fc)][_0x29ae4e(0x3c3)]+_0x29ae4e(0x4a5)+_0x26c650),new m(_0x26c650);}}async[a0_0x5c0bdf(0x4df)](_0x439478){const _0x40e596=a0_0x5c0bdf;try{let _0x3bd2c5=await this[_0x40e596(0x8ea)][_0x40e596(0x29d)][_0x40e596(0x50f)]({'where':{}},this[_0x40e596(0x7fc)]['wuid']),_0x4c8040=new Set(_0x3bd2c5[_0x40e596(0x6df)](_0x19b880=>_0x19b880[_0x40e596(0x2c7)])),_0x13cbe8=[],_0x3ffd00=[];for(let _0x214e1a of _0x439478){if(!_0x214e1a['_id'])continue;_0x214e1a[_0x40e596(0x2c7)]=this['createJid'](_0x214e1a[_0x40e596(0x2c7)]);let _0x5aeebe=await this[_0x40e596(0x8ea)][_0x40e596(0x75d)][_0x40e596(0x81e)]({'where':{'_id':_0x214e1a['_id']}},this[_0x40e596(0x7fc)]['wuid']),_0x1aa958={};if(Object[_0x40e596(0x6ef)](_0x214e1a[_0x40e596(0x264)])['forEach'](([_0x5e17a6,_0x1dbfca])=>{const _0x461710=_0x40e596;_0x1aa958[_0x461710(0x36c)+_0x5e17a6]=_0x1dbfca;}),_0x5aeebe&&!_0x5aeebe[_0x40e596(0x75a)]){let _0x1ee7df=(_0x214e1a[_0x40e596(0x264)][_0x40e596(0x25b)]||[])['filter'](_0x3dfece=>_0x4c8040[_0x40e596(0x400)](_0x3dfece)),_0x50c8ae=new Set(_0x5aeebe['leadInfo'][_0x40e596(0x25b)]||[]),_0x54c170=_0x1ee7df['filter'](_0x55d897=>!_0x50c8ae[_0x40e596(0x400)](_0x55d897)),_0x276d74=[..._0x50c8ae][_0x40e596(0x755)](_0xf01271=>!_0x1ee7df['includes'](_0xf01271));_0x3ffd00[_0x40e596(0x2c1)](..._0x54c170[_0x40e596(0x6df)](_0x43f4f6=>this[_0x40e596(0x1bf)](_0x43f4f6,_0x214e1a[_0x40e596(0x2c7)]))),_0x3ffd00['push'](..._0x276d74['map'](_0x18cfb9=>this[_0x40e596(0x4e8)](_0x18cfb9,_0x214e1a['_id']))),_0x214e1a[_0x40e596(0x264)][_0x40e596(0x25b)]=_0x1ee7df,_0x13cbe8['push']({'query':{'where':{'_id':_0x214e1a[_0x40e596(0x2c7)],'owner':this[_0x40e596(0x7fc)][_0x40e596(0x3c3)]}},'update':_0x1aa958});}else _0x1aa958['imported']=!0x0,_0x13cbe8[_0x40e596(0x2c1)]({'query':{'where':{'_id':_0x214e1a['_id'],'owner':this[_0x40e596(0x7fc)][_0x40e596(0x3c3)]}},'update':_0x1aa958});}let _0x269ed0=await this[_0x40e596(0x8ea)][_0x40e596(0x75d)]['updateMany'](_0x13cbe8);return await Promise[_0x40e596(0x2db)](_0x3ffd00),{'updated':_0x269ed0};}catch(_0x25ec67){let _0x1f27b3=_0x40e596(0x8ff),_0x5056b5=_0x25ec67 instanceof Error?_0x25ec67[_0x40e596(0x7d9)]:typeof _0x25ec67==_0x40e596(0x1ef)?JSON[_0x40e596(0x86d)](_0x25ec67):_0x25ec67,_0x13ee07=_0x1f27b3+':\x20'+_0x5056b5;throw this[_0x40e596(0x241)][_0x40e596(0x812)](this['instanceName']+'\x20('+this[_0x40e596(0x7fc)][_0x40e596(0x3c3)]+'):\x20'+_0x13ee07),new m(_0x13ee07);}}async[a0_0x5c0bdf(0x430)](){const _0x260b6a=a0_0x5c0bdf;return await this[_0x260b6a(0x3c4)][_0x260b6a(0x430)]();}async['updatePrivacySettings'](_0x5cc2ed){const _0x4497c7=a0_0x5c0bdf;try{return await this[_0x4497c7(0x3c4)]['updateReadReceiptsPrivacy'](_0x5cc2ed[_0x4497c7(0x3af)][_0x4497c7(0x7b6)]),await this['client']['updateProfilePicturePrivacy'](_0x5cc2ed[_0x4497c7(0x3af)][_0x4497c7(0x873)]),await this[_0x4497c7(0x3c4)]['updateStatusPrivacy'](_0x5cc2ed[_0x4497c7(0x3af)][_0x4497c7(0x3ae)]),await this['client'][_0x4497c7(0x61a)](_0x5cc2ed[_0x4497c7(0x3af)][_0x4497c7(0x6e4)]),await this['client'][_0x4497c7(0x1d3)](_0x5cc2ed[_0x4497c7(0x3af)][_0x4497c7(0x881)]),await this['client']['updateGroupsAddPrivacy'](_0x5cc2ed[_0x4497c7(0x3af)]['groupadd']),this['client']?.['ws']?.['close'](),{'update':_0x4497c7(0x906),'data':{'readreceipts':_0x5cc2ed[_0x4497c7(0x3af)]['readreceipts'],'profile':_0x5cc2ed[_0x4497c7(0x3af)]['profile'],'status':_0x5cc2ed['privacySettings'][_0x4497c7(0x3ae)],'online':_0x5cc2ed[_0x4497c7(0x3af)][_0x4497c7(0x6e4)],'last':_0x5cc2ed[_0x4497c7(0x3af)][_0x4497c7(0x881)],'groupadd':_0x5cc2ed[_0x4497c7(0x3af)][_0x4497c7(0x3bc)]}};}catch(_0x99d685){let _0x15e15e=_0x4497c7(0x8f5),_0x535dad=_0x99d685 instanceof Error?_0x99d685[_0x4497c7(0x7d9)]:typeof _0x99d685==_0x4497c7(0x1ef)?JSON[_0x4497c7(0x86d)](_0x99d685):_0x99d685,_0x5ab1ab=_0x15e15e+':\x20'+_0x535dad;throw this[_0x4497c7(0x241)]['error'](this[_0x4497c7(0x7d7)]+'\x20('+this[_0x4497c7(0x7fc)]['wuid']+_0x4497c7(0x4a5)+_0x5ab1ab),new m(_0x5ab1ab);}}async[a0_0x5c0bdf(0x4c1)](_0x3c60aa){const _0x264368=a0_0x5c0bdf;let _0x371fc0=(_0x3c60aa?this[_0x264368(0x20f)](_0x3c60aa):this['client']?.[_0x264368(0x6ff)]?.['id'])[_0x264368(0x8df)](/:\d{1,2}@/g,'@');this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x264368(0x7fc)][_0x264368(0x3c3)]+_0x264368(0x70d)+_0x371fc0);let _0x4503c8=await this[_0x264368(0x8ea)][_0x264368(0x7df)][_0x264368(0x81e)]({'where':{'_id':_0x371fc0}},this[_0x264368(0x7fc)][_0x264368(0x3c3)]),_0x2af725=_0x4503c8?_0x4503c8[_0x264368(0x4a1)]:null;try{let _0x4c8fc7=(await this['whatsappNumber']({'numbers':[_0x371fc0]}))?.[_0x264368(0x4c3)](),_0x3cc619=(await this[_0x264368(0x30f)](_0x371fc0,null,!0x1))['cachedContact']['pictureUrl'],_0x26327a=await this[_0x264368(0x21c)](_0x4c8fc7?.['jid']),_0x507e39=await this[_0x264368(0x46b)](_0x4c8fc7?.['jid']),_0x4e2357=(await this[_0x264368(0x30f)](_0x371fc0,null,!0x1))[_0x264368(0x841)][_0x264368(0x35d)],_0x4e9904=await this['repository'][_0x264368(0x75d)][_0x264368(0x81e)]({'where':{'_id':_0x371fc0}},this[_0x264368(0x7fc)]['wuid']),_0x4c7358={'imagechat':_0x3cc619,'contactname':_0x2af725||null,'pushName':_0x4e2357,'status':_0x26327a?.['status'],'isBusiness':_0x507e39[_0x264368(0x6fe)],'email':_0x507e39?.[_0x264368(0x1dc)],'description':_0x507e39?.['description'],'website':_0x507e39?.[_0x264368(0x640)]?.[_0x264368(0x4c3)](),'lastcache':Date[_0x264368(0x435)](),'imported':!_0x4e9904},_0x4f17fa=await this[_0x264368(0x8ea)][_0x264368(0x75d)][_0x264368(0x411)]({'where':{'_id':_0x371fc0}},_0x4c7358,this[_0x264368(0x7fc)][_0x264368(0x3c3)]),_0x3d7d3a={'owner':this['instance']['wuid'],'_id':_0x371fc0,'profilePictureUrl':_0x3cc619,'status':_0x26327a?.[_0x264368(0x3ae)]};return this[_0x264368(0x8ea)][_0x264368(0x7df)][_0x264368(0x1d0)]([_0x3d7d3a],this[_0x264368(0x7fc)]['wuid']),_0x4f17fa&&F(this[_0x264368(0x7d7)],'chats',{'chat':_0x4f17fa}),{'wuid':_0x4c8fc7?.[_0x264368(0x273)]||_0x371fc0,'name':_0x4c8fc7?.['name'],'pushName':_0x4e2357,'numberExists':_0x4c8fc7?.['exists'],'picture':_0x3cc619,'status':_0x26327a?.['status'],'isBusiness':_0x507e39[_0x264368(0x6fe)],'email':_0x507e39?.[_0x264368(0x1dc)],'description':_0x507e39?.[_0x264368(0x1b6)],'website':_0x507e39?.[_0x264368(0x640)]?.[_0x264368(0x4c3)]()};}catch(_0xb9c5f8){return this['logger']['error']('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0xb9c5f8 instanceof Error?_0xb9c5f8[_0x264368(0x7d9)]:JSON['stringify'](_0xb9c5f8,null,0x2))),{};}}async[a0_0x5c0bdf(0x46b)](_0x5c4a87){const _0x559829=a0_0x5c0bdf;this[_0x559829(0x241)][_0x559829(0x8af)](this[_0x559829(0x7d7)]+'\x20('+this[_0x559829(0x7fc)][_0x559829(0x3c3)]+_0x559829(0x616));try{let _0x307258=_0x5c4a87?this[_0x559829(0x20f)](_0x5c4a87):this[_0x559829(0x7fc)][_0x559829(0x3c3)],_0x4ffb5a=await this['client']['getBusinessProfile'](_0x307258);return this[_0x559829(0x241)][_0x559829(0x8af)](this[_0x559829(0x7d7)]+'\x20('+this['instance'][_0x559829(0x3c3)]+_0x559829(0x75e)),_0x4ffb5a?(this[_0x559829(0x241)][_0x559829(0x8af)](this['instanceName']+'\x20('+this[_0x559829(0x7fc)]['wuid']+_0x559829(0x837)),{'isBusiness':!0x0,..._0x4ffb5a}):{'isBusiness':!0x1,'message':_0x559829(0x914),...(await this[_0x559829(0x638)]({'numbers':[_0x307258]}))?.[_0x559829(0x4c3)]()};}catch(_0x1b9861){let _0x132437=_0x559829(0x8eb),_0x2686c3=_0x1b9861 instanceof Error?_0x1b9861['message']:typeof _0x1b9861=='object'?JSON[_0x559829(0x86d)](_0x1b9861):_0x1b9861,_0x3ef0cd=_0x132437+':\x20'+_0x2686c3;throw this[_0x559829(0x241)]['error'](this['instanceName']+'\x20('+this['instance'][_0x559829(0x3c3)]+'):\x20'+_0x3ef0cd),new x(_0x3ef0cd);}}async[a0_0x5c0bdf(0x21c)](_0x3a17b9){const _0x82107c=a0_0x5c0bdf;let _0x584a08=this['createJid'](_0x3a17b9);try{return{'wuid':_0x584a08,'status':(await this[_0x82107c(0x3c4)][_0x82107c(0x32e)](_0x584a08))[0x0]?.['status']};}catch{return{'wuid':_0x584a08,'status':null};}}async[a0_0x5c0bdf(0x43c)](_0x4c8a3b){const _0x292242=a0_0x5c0bdf;try{return await this[_0x292242(0x3c4)][_0x292242(0x43c)](_0x4c8a3b),{'update':_0x292242(0x906)};}catch(_0x3697e7){let _0x2a89d0=_0x292242(0x1c4),_0x43cefb=_0x3697e7 instanceof Error?_0x3697e7[_0x292242(0x7d9)]:typeof _0x3697e7=='object'?JSON['stringify'](_0x3697e7):_0x3697e7,_0x4d7554=_0x2a89d0+':\x20'+_0x43cefb;throw this[_0x292242(0x241)]['error'](this['instanceName']+'\x20('+this[_0x292242(0x7fc)][_0x292242(0x3c3)]+_0x292242(0x4a5)+_0x4d7554),new x(_0x4d7554);}}async[a0_0x5c0bdf(0x7c5)](_0x170788){const _0x249cfb=a0_0x5c0bdf;try{return await this[_0x249cfb(0x3c4)]['updateProfileStatus'](_0x170788),{'update':_0x249cfb(0x906)};}catch(_0x28b690){let _0x4da3fe=_0x249cfb(0x2aa),_0x42870b=_0x28b690 instanceof Error?_0x28b690['message']:typeof _0x28b690==_0x249cfb(0x1ef)?JSON[_0x249cfb(0x86d)](_0x28b690):_0x28b690,_0x478e2e=_0x4da3fe+':\x20'+_0x42870b;throw this[_0x249cfb(0x241)]['error'](this[_0x249cfb(0x7d7)]+'\x20('+this[_0x249cfb(0x7fc)][_0x249cfb(0x3c3)]+_0x249cfb(0x4a5)+_0x478e2e),new x(_0x478e2e);}}async[a0_0x5c0bdf(0x727)](_0x44ddb5){const _0x28da50=a0_0x5c0bdf;try{let _0xccf85;if((0x0,J[_0x28da50(0x239)])(_0x44ddb5)){let _0x244f87=new Date()[_0x28da50(0x48c)](),_0x4cacbc=_0x44ddb5+'?timestamp='+_0x244f87;_0xccf85=(await K[_0x28da50(0x32c)][_0x28da50(0x1fe)](_0x4cacbc,{'responseType':_0x28da50(0x330)}))['data'];}else{if((0x0,J[_0x28da50(0x88b)])(_0x44ddb5))_0xccf85=Buffer[_0x28da50(0x4ea)](_0x44ddb5,'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x28da50(0x727)](this[_0x28da50(0x7fc)][_0x28da50(0x3c3)],_0xccf85),{'update':_0x28da50(0x906)};}catch(_0x482b89){let _0x53c7ed=_0x28da50(0x7fd),_0x25377b=_0x482b89 instanceof Error?_0x482b89[_0x28da50(0x7d9)]:typeof _0x482b89==_0x28da50(0x1ef)?JSON[_0x28da50(0x86d)](_0x482b89):_0x482b89,_0x45b946=_0x53c7ed+':\x20'+_0x25377b;throw this[_0x28da50(0x241)][_0x28da50(0x812)](this['instanceName']+'\x20('+this[_0x28da50(0x7fc)][_0x28da50(0x3c3)]+'):\x20'+_0x45b946),new x(_0x45b946);}}async[a0_0x5c0bdf(0x78d)](){const _0x557fb4=a0_0x5c0bdf;try{return await this[_0x557fb4(0x3c4)][_0x557fb4(0x78d)](this[_0x557fb4(0x7fc)][_0x557fb4(0x3c3)]),{'update':_0x557fb4(0x906)};}catch(_0x4e2c37){let _0x87b388=_0x557fb4(0x3da),_0x33fbe5=_0x4e2c37 instanceof Error?_0x4e2c37[_0x557fb4(0x7d9)]:typeof _0x4e2c37==_0x557fb4(0x1ef)?JSON[_0x557fb4(0x86d)](_0x4e2c37):_0x4e2c37,_0x3d9362=_0x87b388+':\x20'+_0x33fbe5;throw this[_0x557fb4(0x241)][_0x557fb4(0x812)](this[_0x557fb4(0x7d7)]+'\x20('+this[_0x557fb4(0x7fc)]['wuid']+'):\x20'+_0x3d9362),new x(_0x3d9362);}}async[a0_0x5c0bdf(0x202)](_0x515f77){const _0x5e51fa=a0_0x5c0bdf;try{let _0x11afa5=(await this[_0x5e51fa(0x638)]({'numbers':_0x515f77['participants']}))[_0x5e51fa(0x755)](_0x2a8f8b=>_0x2a8f8b[_0x5e51fa(0x856)])[_0x5e51fa(0x6df)](_0x53d318=>_0x53d318['jid']),{id:_0x59fdf8}=await this['client']['groupCreate'](_0x515f77[_0x5e51fa(0x7e9)],_0x11afa5);_0x515f77?.[_0x5e51fa(0x1b6)]&&await this[_0x5e51fa(0x3c4)][_0x5e51fa(0x786)](_0x59fdf8,_0x515f77[_0x5e51fa(0x1b6)]);let _0x5c2c86=await this[_0x5e51fa(0x3c4)][_0x5e51fa(0x566)](_0x59fdf8);return _0x5c2c86['awaitingApproval']=[],await this[_0x5e51fa(0x4e6)](_0x5c2c86),{'metadata':_0x5c2c86};}catch(_0x2614a7){let _0x2cb79b=_0x5e51fa(0x238),_0x5476ed=_0x2614a7 instanceof Error?_0x2614a7[_0x5e51fa(0x7d9)]:typeof _0x2614a7==_0x5e51fa(0x1ef)?JSON['stringify'](_0x2614a7):_0x2614a7,_0x33fc24=_0x2cb79b+':\x20'+_0x5476ed;throw this[_0x5e51fa(0x241)][_0x5e51fa(0x812)](this['instanceName']+'\x20('+this['instance'][_0x5e51fa(0x3c3)]+_0x5e51fa(0x4a5)+_0x33fc24),new x(_0x33fc24);}}async[a0_0x5c0bdf(0x2ae)](_0x44e2b8){const _0x3c1137=a0_0x5c0bdf;try{if(_0x44e2b8[_0x3c1137(0x758)]===!0x0&&await this[_0x3c1137(0x3c4)][_0x3c1137(0x1e3)](_0x44e2b8[_0x3c1137(0x8ab)],_0x3c1137(0x840)),_0x44e2b8['restrict']===!0x1&&await this[_0x3c1137(0x3c4)][_0x3c1137(0x1e3)](_0x44e2b8['groupJid'],'unlocked'),_0x44e2b8[_0x3c1137(0x8f4)]===!0x0&&await this[_0x3c1137(0x3c4)]['groupSettingUpdate'](_0x44e2b8[_0x3c1137(0x8ab)],_0x3c1137(0x2e5)),_0x44e2b8['announce']===!0x1&&await this['client'][_0x3c1137(0x1e3)](_0x44e2b8[_0x3c1137(0x8ab)],_0x3c1137(0x2d2)),_0x44e2b8[_0x3c1137(0x585)]===!0x0&&await this[_0x3c1137(0x3c4)][_0x3c1137(0x7ec)](_0x44e2b8[_0x3c1137(0x8ab)],_0x3c1137(0x315)),_0x44e2b8[_0x3c1137(0x585)]===!0x1&&await this[_0x3c1137(0x3c4)]['groupMemberAddMode'](_0x44e2b8[_0x3c1137(0x8ab)],_0x3c1137(0x894)),_0x44e2b8[_0x3c1137(0x870)]===!0x0&&await this['client'][_0x3c1137(0x1eb)](_0x44e2b8['groupJid'],'on'),_0x44e2b8['joinApprovalMode']===!0x1&&await this[_0x3c1137(0x3c4)][_0x3c1137(0x1eb)](_0x44e2b8[_0x3c1137(0x8ab)],_0x3c1137(0x5eb)),typeof _0x44e2b8[_0x3c1137(0x4aa)]<'u'&&_0x44e2b8['expiration']!==null&&await this[_0x3c1137(0x3c4)][_0x3c1137(0x25e)](_0x44e2b8[_0x3c1137(0x8ab)],_0x44e2b8[_0x3c1137(0x4aa)]),_0x44e2b8[_0x3c1137(0x35d)]&&await this[_0x3c1137(0x3c4)]['groupUpdateSubject'](_0x44e2b8[_0x3c1137(0x8ab)],_0x44e2b8[_0x3c1137(0x35d)]),_0x44e2b8['description']&&await this[_0x3c1137(0x3c4)]['groupUpdateDescription'](_0x44e2b8['groupJid'],_0x44e2b8[_0x3c1137(0x1b6)]),_0x44e2b8[_0x3c1137(0x2cc)]){let _0x16b966;if((0x0,J['isURL'])(_0x44e2b8[_0x3c1137(0x2cc)])){let _0xb539ee=new Date()[_0x3c1137(0x48c)](),_0x253793=_0x44e2b8[_0x3c1137(0x2cc)]+_0x3c1137(0x867)+_0xb539ee;_0x16b966=(await K[_0x3c1137(0x32c)]['get'](_0x253793,{'responseType':_0x3c1137(0x330)}))[_0x3c1137(0x8db)];}else{if((0x0,J['isBase64'])(_0x44e2b8[_0x3c1137(0x2cc)]))_0x16b966=Buffer['from'](_0x44e2b8['image'],_0x3c1137(0x916));else throw new m(_0x3c1137(0x785));}await this[_0x3c1137(0x3c4)]['updateProfilePicture'](_0x44e2b8['groupJid'],_0x16b966);}return await this['findGroup']({'groupJid':_0x44e2b8['groupJid']});}catch(_0x8e1bf7){let _0x26b538=_0x3c1137(0x6ee),_0x13acfc=_0x8e1bf7 instanceof Error?_0x8e1bf7[_0x3c1137(0x7d9)]:typeof _0x8e1bf7==_0x3c1137(0x1ef)?JSON[_0x3c1137(0x86d)](_0x8e1bf7):_0x8e1bf7,_0x29333a=_0x26b538+':\x20'+_0x13acfc;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x3c1137(0x7fc)]['wuid']+_0x3c1137(0x4a5)+_0x29333a),new x(_0x29333a);}}async[a0_0x5c0bdf(0x51c)](_0x276d82){const _0x416e78=a0_0x5c0bdf;try{let _0x2525b0=_0x276d82[_0x416e78(0x8e4)][_0x416e78(0x6df)](_0x30785d=>this['createJid'](_0x30785d));if(_0x276d82[_0x416e78(0x937)]==='approve'||_0x276d82[_0x416e78(0x937)]==='reject')await this[_0x416e78(0x3c4)][_0x416e78(0x845)](_0x276d82[_0x416e78(0x8ab)],_0x2525b0,_0x276d82['action']);else{if(_0x276d82[_0x416e78(0x937)]===_0x416e78(0x92c)){let _0x5b9aa2=(await this['whatsappNumber']({'numbers':_0x276d82[_0x416e78(0x8e4)]}))[_0x416e78(0x755)](_0xec69a0=>_0xec69a0[_0x416e78(0x856)])[_0x416e78(0x6df)](_0x1c9bd8=>this[_0x416e78(0x20f)](_0x1c9bd8['jid']));if(_0x5b9aa2[_0x416e78(0x235)]===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x416e78(0x3c4)][_0x416e78(0x673)](_0x276d82[_0x416e78(0x8ab)],_0x5b9aa2,_0x416e78(0x92c));}else await this[_0x416e78(0x3c4)][_0x416e78(0x673)](_0x276d82[_0x416e78(0x8ab)],_0x2525b0,_0x276d82[_0x416e78(0x937)]);}return await this[_0x416e78(0x57b)]({'groupJid':_0x276d82[_0x416e78(0x8ab)]});}catch(_0x1614a5){let _0x437f7e=_0x416e78(0x872),_0x5145dc=_0x1614a5 instanceof Error?_0x1614a5[_0x416e78(0x7d9)]:typeof _0x1614a5==_0x416e78(0x1ef)?JSON['stringify'](_0x1614a5):_0x1614a5,_0x4f94bc=_0x437f7e+':\x20'+_0x5145dc;throw this[_0x416e78(0x241)]['error'](this[_0x416e78(0x7d7)]+'\x20('+this['instance'][_0x416e78(0x3c3)]+_0x416e78(0x4a5)+_0x4f94bc),new m(_0x4f94bc);}}async[a0_0x5c0bdf(0x8fe)](_0x36970e){const _0x467ed7=a0_0x5c0bdf;try{return await this['client'][_0x467ed7(0x8fe)](_0x36970e[_0x467ed7(0x1f0)]);}catch(_0x1d0992){let _0x23765c=_0x467ed7(0x4ba),_0x3336bc=_0x1d0992 instanceof Error?_0x1d0992[_0x467ed7(0x7d9)]:typeof _0x1d0992==_0x467ed7(0x1ef)?JSON['stringify'](_0x1d0992):_0x1d0992,_0x5adda2=_0x23765c+':\x20'+_0x3336bc;throw this[_0x467ed7(0x241)][_0x467ed7(0x812)](this[_0x467ed7(0x7d7)]+'\x20('+this[_0x467ed7(0x7fc)][_0x467ed7(0x3c3)]+_0x467ed7(0x4a5)+_0x5adda2),new m(_0x5adda2);}}async[a0_0x5c0bdf(0x57b)](_0x54abfd,_0x4183b7=a0_0x5c0bdf(0x65a)){const _0x44eba8=a0_0x5c0bdf;try{let _0x1b508f=await this[_0x44eba8(0x8ea)][_0x44eba8(0x75d)][_0x44eba8(0x81e)]({'where':{'_id':_0x54abfd[_0x44eba8(0x8ab)]}},this['instance']['wuid']),_0x176ea9=_0x1b508f?_0x1b508f['groupdata']:null,_0x11ec92=0x18*0x3c*0x3c*0x3e8;if(!_0x176ea9||_0x176ea9[_0x44eba8(0x1b5)]&&Date[_0x44eba8(0x435)]()-_0x176ea9['lastUpdate']>_0x11ec92){let _0x159ea4=await this[_0x44eba8(0x3c4)]['groupMetadata'](_0x54abfd['groupJid']);if(_0x159ea4[_0x44eba8(0x796)]=_0x159ea4?.['subjectTime']&&_0x159ea4[_0x44eba8(0x796)]['toString']()['length']<0xd?_0x159ea4?.[_0x44eba8(0x796)]*0x3e8:_0x159ea4?.[_0x44eba8(0x796)]||null,_0x159ea4[_0x44eba8(0x222)]=_0x159ea4?.[_0x44eba8(0x222)]&&_0x159ea4[_0x44eba8(0x222)][_0x44eba8(0x281)]()['length']<0xd?_0x159ea4?.['creation']*0x3e8:_0x159ea4?.[_0x44eba8(0x222)]||null,_0x176ea9={..._0x159ea4,'lastUpdate':Date[_0x44eba8(0x435)]()},!_0x159ea4)return;}let _0x12fc3d=_0x176ea9[_0x44eba8(0x8e4)]?.[_0x44eba8(0x4d6)](_0x39054b=>_0x39054b['id']===this[_0x44eba8(0x7fc)]['wuid']+_0x44eba8(0x249)&&_0x39054b['admin']!=null)||!0x1;!_0x176ea9['inviteCode']&&_0x12fc3d&&(_0x176ea9[_0x44eba8(0x1f0)]=(await this[_0x44eba8(0x1f0)](_0x54abfd,!0x1))[_0x44eba8(0x380)]);let _0x54741a=(!_0x176ea9[_0x44eba8(0x8f4)]||_0x12fc3d)&&(!_0x176ea9['isCommunity']||_0x12fc3d);_0x176ea9[_0x44eba8(0x631)]=_0x12fc3d,_0x176ea9[_0x44eba8(0x30b)]=_0x54741a;let _0x2e0c0c=[];if(_0x12fc3d&&_0x176ea9[_0x44eba8(0x870)])try{_0x2e0c0c=await this[_0x44eba8(0x3c4)][_0x44eba8(0x2f4)](_0x54abfd['groupJid']),_0x176ea9['lastFetchAwaitingApproval']=Date['now']();}catch(_0x5ec0fe){this[_0x44eba8(0x241)][_0x44eba8(0x8af)](this[_0x44eba8(0x7d7)]+'\x20('+this['instance'][_0x44eba8(0x3c3)]+_0x44eba8(0x582)+_0x54abfd[_0x44eba8(0x8ab)]+':\x20'+(_0x5ec0fe instanceof Error?_0x5ec0fe['message']:JSON[_0x44eba8(0x86d)](_0x5ec0fe,null,0x2)));}try{_0x176ea9['image']=(await this[_0x44eba8(0x30f)](_0x54abfd[_0x44eba8(0x8ab)],null,!0x0))[_0x44eba8(0x841)][_0x44eba8(0x3df)];}catch(_0x45fe0a){this[_0x44eba8(0x241)][_0x44eba8(0x8af)](this['instanceName']+'\x20('+this['instance'][_0x44eba8(0x3c3)]+_0x44eba8(0x4f0)+_0x54abfd['groupJid']+':\x20'+(_0x45fe0a instanceof Error?_0x45fe0a[_0x44eba8(0x7d9)]:JSON[_0x44eba8(0x86d)](_0x45fe0a,null,0x2)));}let _0x19297c=_0x176ea9[_0x44eba8(0x8e4)][_0x44eba8(0x6df)](_0x3373f2=>_0x3373f2['id']),_0xcffe14=_0x2e0c0c['map'](_0x1e86a0=>_0x1e86a0['jid']),_0x329b47=await this['repository'][_0x44eba8(0x857)][_0x44eba8(0x2e7)]([..._0x19297c,..._0xcffe14]);_0x176ea9[_0x44eba8(0x8e4)]=_0x176ea9[_0x44eba8(0x8e4)][_0x44eba8(0x6df)](_0x322c26=>{const _0x263020=_0x44eba8;let _0x4d2595=_0x329b47[_0x263020(0x50f)](_0xf1db07=>_0xf1db07[_0x263020(0x2c7)]===_0x322c26['id']);return{'id':_0x322c26['id'],'isAdmin':['admin','superadmin'][_0x263020(0x4ee)](_0x322c26[_0x263020(0x67e)]),'admin':_0x322c26[_0x263020(0x67e)],'pushName':_0x4d2595?.[_0x263020(0x35d)],'profilePictureUrl':_0x4d2595?.['pictureUrl']};}),_0x176ea9[_0x44eba8(0x3b4)]=_0x2e0c0c[_0x44eba8(0x6df)](_0x10095c=>{const _0x2abcf3=_0x44eba8;let _0x243f78=_0x329b47[_0x2abcf3(0x50f)](_0x420bd3=>_0x420bd3[_0x2abcf3(0x2c7)]===_0x10095c[_0x2abcf3(0x273)]);return{'id':_0x10095c['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x243f78?.[_0x2abcf3(0x35d)],'profilePictureUrl':_0x243f78?.[_0x2abcf3(0x3df)],'request_method':_0x10095c[_0x2abcf3(0x7a5)],'request_time':_0x10095c['request_time']};});let _0x50f1b2=await this[_0x44eba8(0x8ea)][_0x44eba8(0x75d)][_0x44eba8(0x411)]({'where':{'_id':_0x54abfd['groupJid']}},{'imagechat':_0x176ea9['image'],'name':_0x176ea9[_0x44eba8(0x7e9)],'lastcache':Date[_0x44eba8(0x435)](),'groupdata':_0x176ea9},this[_0x44eba8(0x7fc)][_0x44eba8(0x3c3)]);return F(this[_0x44eba8(0x7d7)],'chats',{'chat':_0x50f1b2}),{'metadata':_0x176ea9};}catch(_0x500575){if(_0x4183b7===_0x44eba8(0x73e))return;throw new U('Error\x20fetching\x20group',_0x500575['message'][_0x44eba8(0x281)]());}}async[a0_0x5c0bdf(0x698)](){const _0x12047d=a0_0x5c0bdf;try{this[_0x12047d(0x241)]['info'](_0x12047d(0x7be));let _0x29c4b6=Date[_0x12047d(0x435)](),_0x43384e=0x3*0x3c*0x3c*0x3e8;return _0x29c4b6-this[_0x12047d(0x829)]>_0x43384e&&(this[_0x12047d(0x1bb)](),this[_0x12047d(0x829)]=_0x29c4b6),(await this[_0x12047d(0x8ea)][_0x12047d(0x75d)][_0x12047d(0x4f3)]({'where':{'group':!0x0}},this[_0x12047d(0x7fc)][_0x12047d(0x3c3)]))[_0x12047d(0x6df)](_0x1c60f3=>({..._0x1c60f3[_0x12047d(0x897)],'groupJid':_0x1c60f3?.['_id'],'participants':_0x1c60f3?.[_0x12047d(0x897)]?.['participants']||[],'awaitingApproval':_0x1c60f3?.[_0x12047d(0x897)]?.['awaitingApproval']||[],'image':_0x1c60f3?.[_0x12047d(0x2a3)]}));}catch(_0x484290){let _0x4e4355=_0x12047d(0x81c),_0x2cd15b=_0x484290 instanceof Error?_0x484290[_0x12047d(0x7d9)]:typeof _0x484290==_0x12047d(0x1ef)?JSON[_0x12047d(0x86d)](_0x484290):_0x484290,_0x4a586e=_0x4e4355+':\x20'+_0x2cd15b;throw this[_0x12047d(0x241)][_0x12047d(0x812)](this['instanceName']+'\x20('+this[_0x12047d(0x7fc)]['wuid']+_0x12047d(0x4a5)+_0x4a586e),new U(_0x4a586e);}}async[a0_0x5c0bdf(0x1bb)](){const _0x2a9b13=a0_0x5c0bdf;try{this['logger'][_0x2a9b13(0x40b)](_0x2a9b13(0x52f));let _0x579526=[],_0xf4d950=await this[_0x2a9b13(0x3c4)][_0x2a9b13(0x8b0)](),_0x41d15c=Object[_0x2a9b13(0x60a)](_0xf4d950);for(let _0xb6fceb=0x0;_0xb6fceb<_0x41d15c['length'];_0xb6fceb++){let _0x3d1c2c=_0x41d15c[_0xb6fceb];(0x0,w['isJidGroup'])(_0x3d1c2c?.['id'])&&(_0x579526['push']({'groupJid':_0x3d1c2c?.['id'],'subject':_0x3d1c2c?.[_0x2a9b13(0x7e9)],'subjectOwner':_0x3d1c2c?.[_0x2a9b13(0x432)]?.[_0x2a9b13(0x2a9)]('@')[0x0],'subjectTime':_0x3d1c2c?.[_0x2a9b13(0x796)],'creation':_0x3d1c2c?.['creation'],'size':_0x3d1c2c?.[_0x2a9b13(0x8e4)]?.[_0x2a9b13(0x235)],'owner':_0x3d1c2c?.[_0x2a9b13(0x3f7)]?.[_0x2a9b13(0x2a9)]('@')[0x0],'desc':_0x3d1c2c?.[_0x2a9b13(0x847)],'restrict':_0x3d1c2c?.[_0x2a9b13(0x758)],'announce':_0x3d1c2c?.[_0x2a9b13(0x8f4)],'image':null,'isCommunity':_0x3d1c2c?.[_0x2a9b13(0x46a)],'joinApprovalMode':_0x3d1c2c?.[_0x2a9b13(0x870)],'memberCanAddParticipant':_0x3d1c2c?.[_0x2a9b13(0x585)],'participants':_0x3d1c2c?.[_0x2a9b13(0x8e4)],'descOwner':_0x3d1c2c?.[_0x2a9b13(0x66a)],'descId':_0x3d1c2c?.[_0x2a9b13(0x43a)],'memberAddMode':_0x3d1c2c?.['memberAddMode'],'isCommunityAnnounce':_0x3d1c2c?.[_0x2a9b13(0x455)],'ephemeralDuration':_0x3d1c2c?.[_0x2a9b13(0x209)]||0x0,'author':_0x3d1c2c?.[_0x2a9b13(0x33c)]}),this[_0x2a9b13(0x4e6)](_0x41d15c[_0xb6fceb]));}return _0x579526;}catch(_0x14a20f){let _0x2fbd5f=_0x2a9b13(0x433),_0x553ac7=_0x14a20f instanceof Error?_0x14a20f[_0x2a9b13(0x7d9)]:typeof _0x14a20f==_0x2a9b13(0x1ef)?JSON[_0x2a9b13(0x86d)](_0x14a20f):_0x14a20f,_0x482dea=_0x2fbd5f+':\x20'+_0x553ac7;throw this[_0x2a9b13(0x241)]['error'](this[_0x2a9b13(0x7d7)]+'\x20('+this[_0x2a9b13(0x7fc)][_0x2a9b13(0x3c3)]+_0x2a9b13(0x4a5)+_0x482dea),new U(_0x482dea);}}async[a0_0x5c0bdf(0x4e6)](_0xb4d29b){const _0x3786b8=a0_0x5c0bdf;let _0x5efa89=await this[_0x3786b8(0x8ea)][_0x3786b8(0x75d)][_0x3786b8(0x81e)]({'where':{'_id':_0xb4d29b['id']}},this[_0x3786b8(0x7fc)][_0x3786b8(0x3c3)]);if(_0xb4d29b[_0x3786b8(0x796)]=_0xb4d29b?.['subjectTime']&&_0xb4d29b[_0x3786b8(0x796)][_0x3786b8(0x281)]()[_0x3786b8(0x235)]<0xd?_0xb4d29b?.['subjectTime']*0x3e8:_0xb4d29b?.[_0x3786b8(0x796)]||null,_0xb4d29b[_0x3786b8(0x222)]=_0xb4d29b?.[_0x3786b8(0x222)]&&_0xb4d29b['creation'][_0x3786b8(0x281)]()['length']<0xd?_0xb4d29b?.['creation']*0x3e8:_0xb4d29b?.['creation']||null,!_0xb4d29b['image'])try{_0xb4d29b['image']=await this[_0x3786b8(0x3c4)][_0x3786b8(0x5e5)](_0xb4d29b['id'],'preview');}catch(_0x101464){this['logger'][_0x3786b8(0x8af)](this[_0x3786b8(0x7d7)]+'\x20('+this[_0x3786b8(0x7fc)]['wuid']+_0x3786b8(0x4f0)+_0xb4d29b['id']+':\x20'+(_0x101464 instanceof Error?_0x101464['message']:JSON[_0x3786b8(0x86d)](_0x101464,null,0x2)));}let _0x586e76=_0xb4d29b['participants']['map'](_0x470721=>{const _0x24ec66=_0x3786b8;let _0x2cdc6f=_0x5efa89?.[_0x24ec66(0x897)]?.[_0x24ec66(0x8e4)]['find'](_0x57c815=>_0x57c815['id']===_0x470721['id']);return{..._0x470721,'isAdmin':[_0x24ec66(0x67e),'superadmin'][_0x24ec66(0x4ee)](_0x470721[_0x24ec66(0x67e)]),'admin':_0x470721[_0x24ec66(0x67e)],'name':_0x2cdc6f?.[_0x24ec66(0x35d)]||_0x470721['name'],'imgUrl':_0x2cdc6f?.[_0x24ec66(0x2bf)]||_0x470721[_0x24ec66(0x2bf)]};}),_0x5f34ab=_0x586e76[_0x3786b8(0x4d6)](_0x8c399d=>_0x8c399d['id']===this[_0x3786b8(0x7fc)][_0x3786b8(0x3c3)]+_0x3786b8(0x249)&&_0x8c399d[_0x3786b8(0x67e)]!=null)||!0x1,_0x3137db=(!_0xb4d29b[_0x3786b8(0x8f4)]||_0x5f34ab)&&(!_0xb4d29b['isCommunity']||_0x5f34ab),_0x195f80={..._0xb4d29b,'participants':_0x586e76,'awaitingApproval':_0x5efa89?.['groupdata']?.[_0x3786b8(0x3b4)]||[],'lastFetchAwaitingApproval':_0x5efa89?.['groupdata']?.[_0x3786b8(0x797)],'isAdmin':_0x5f34ab,'canSendMessage':_0x3137db,'lastUpdate':Date[_0x3786b8(0x435)]()};await this[_0x3786b8(0x8ea)]['chat'][_0x3786b8(0x411)]({'where':{'_id':_0xb4d29b['id']}},{'imagechat':_0xb4d29b['image'],'name':_0xb4d29b['subject'],'group':!0x0,'groupdata':_0x195f80,'lastcache':Date[_0x3786b8(0x435)]()},this[_0x3786b8(0x7fc)][_0x3786b8(0x3c3)]),F(this[_0x3786b8(0x7d7)],_0x3786b8(0x5fd),{'chat':_0xb4d29b});}async['updateGroupWebhook'](_0x1ddb69){const _0x52d0c8=a0_0x5c0bdf;let _0x4e1068=await this[_0x52d0c8(0x8ea)][_0x52d0c8(0x75d)]['findOne']({'where':{'_id':_0x1ddb69['id']}},this['instance'][_0x52d0c8(0x3c3)]);_0x1ddb69[_0x52d0c8(0x796)]=_0x1ddb69?.[_0x52d0c8(0x796)]&&_0x1ddb69['subjectTime']['toString']()['length']<0xd?_0x1ddb69?.['subjectTime']*0x3e8:_0x1ddb69?.[_0x52d0c8(0x796)]||null,_0x1ddb69[_0x52d0c8(0x222)]=_0x1ddb69?.[_0x52d0c8(0x222)]&&_0x1ddb69[_0x52d0c8(0x222)][_0x52d0c8(0x281)]()['length']<0xd?_0x1ddb69?.[_0x52d0c8(0x222)]*0x3e8:_0x1ddb69?.['creation']||null,_0x1ddb69[_0x52d0c8(0x1f0)]&&(_0x1ddb69[_0x52d0c8(0x1f0)]=_0x52d0c8(0x751)+_0x1ddb69[_0x52d0c8(0x1f0)]);let _0x4cb3de=_0x4e1068?.[_0x52d0c8(0x897)]?{..._0x4e1068['groupdata']}:{};Object[_0x52d0c8(0x2ec)](_0x1ddb69)['forEach'](_0x36586b=>{_0x36586b!=='id'&&(_0x4cb3de[_0x36586b]=_0x1ddb69[_0x36586b]);});let _0x1ee412=_0x4cb3de[_0x52d0c8(0x8e4)]?.['some'](_0x4d646f=>_0x4d646f['id']===this[_0x52d0c8(0x7fc)][_0x52d0c8(0x3c3)]+_0x52d0c8(0x249)&&_0x4d646f[_0x52d0c8(0x67e)]!=null)||!0x1;_0x4cb3de['isAdmin']=_0x1ee412;let _0x55202f=(!_0x4cb3de[_0x52d0c8(0x8f4)]||_0x1ee412)&&(!_0x4cb3de[_0x52d0c8(0x46a)]||_0x1ee412);_0x4cb3de[_0x52d0c8(0x30b)]=_0x55202f;let _0xcefbb4={'group':!0x0,'groupdata':_0x4cb3de};_0x1ddb69[_0x52d0c8(0x7e9)]&&(_0xcefbb4['name']=_0x1ddb69[_0x52d0c8(0x7e9)]),await this[_0x52d0c8(0x8ea)][_0x52d0c8(0x75d)]['updateOne']({'where':{'_id':_0x1ddb69['id']}},_0xcefbb4,this[_0x52d0c8(0x7fc)][_0x52d0c8(0x3c3)],{'upsert':!0x0}),F(this[_0x52d0c8(0x7d7)],_0x52d0c8(0x5fd),{'chat':_0xcefbb4});}async[a0_0x5c0bdf(0x645)](_0x2355e4){const _0x4898a0=a0_0x5c0bdf;let _0x3fd53c=await this['repository'][_0x4898a0(0x75d)][_0x4898a0(0x81e)]({'where':{'_id':_0x2355e4['id']}},this['instance']['wuid']);if(!_0x3fd53c||!_0x3fd53c[_0x4898a0(0x897)]){this[_0x4898a0(0x241)][_0x4898a0(0x40b)](this[_0x4898a0(0x7d7)]+'\x20('+this[_0x4898a0(0x7fc)][_0x4898a0(0x3c3)]+_0x4898a0(0x8c6)+_0x2355e4['id']);return;}let _0x3651b9=await this['repository'][_0x4898a0(0x857)]['findManyByIds'](_0x2355e4[_0x4898a0(0x8e4)]),_0x1777ea=[..._0x3fd53c[_0x4898a0(0x897)]?.[_0x4898a0(0x8e4)]];switch(_0x2355e4['action']){case'add':_0x3651b9[_0x4898a0(0x6df)](_0x562902=>({'id':_0x562902[_0x4898a0(0x2c7)],'isAdmin':!0x1,'name':_0x562902[_0x4898a0(0x35d)],'imgUrl':_0x562902[_0x4898a0(0x3df)]}))[_0x4898a0(0x91c)](_0x3d4018=>{const _0xc6deb5=_0x4898a0;_0x1777ea[_0xc6deb5(0x4d6)](_0x1ffe02=>_0x1ffe02['id']===_0x3d4018['id'])||(_0x1777ea['push'](_0x3d4018),this['logger'][_0xc6deb5(0x40b)](_0xc6deb5(0x67d)+JSON[_0xc6deb5(0x86d)](_0x3d4018)));});break;case _0x4898a0(0x62a):_0x1777ea=_0x1777ea[_0x4898a0(0x755)](_0x52da91=>!_0x2355e4[_0x4898a0(0x8e4)][_0x4898a0(0x4ee)](_0x52da91['id']));break;case _0x4898a0(0x32f):_0x1777ea=_0x1777ea[_0x4898a0(0x6df)](_0x5a8b71=>_0x2355e4[_0x4898a0(0x8e4)][_0x4898a0(0x4ee)](_0x5a8b71['id'])?{..._0x5a8b71,'isAdmin':!0x0,'admin':_0x4898a0(0x67e)}:_0x5a8b71);break;case _0x4898a0(0x529):_0x1777ea=_0x1777ea[_0x4898a0(0x6df)](_0x5ac0ba=>_0x2355e4[_0x4898a0(0x8e4)]['includes'](_0x5ac0ba['id'])?{..._0x5ac0ba,'isAdmin':!0x1,'admin':null}:_0x5ac0ba);break;}let _0xf4225b=_0x1777ea[_0x4898a0(0x235)],_0x56774a=_0x1777ea[_0x4898a0(0x4d6)](_0x250446=>_0x250446['id']===this[_0x4898a0(0x7fc)][_0x4898a0(0x3c3)]+_0x4898a0(0x249)),_0x2e0985=_0x56774a&&_0x1777ea[_0x4898a0(0x4d6)](_0x4a0c4d=>_0x4a0c4d['id']===this['instance'][_0x4898a0(0x3c3)]+_0x4898a0(0x249)&&_0x4a0c4d[_0x4898a0(0x67e)]!=null)||!0x1,_0x5768bb=_0x56774a&&(!_0x3fd53c['groupdata'][_0x4898a0(0x8f4)]||_0x2e0985)&&(!_0x3fd53c[_0x4898a0(0x897)][_0x4898a0(0x46a)]||_0x2e0985);await this[_0x4898a0(0x8ea)]['chat'][_0x4898a0(0x411)]({'where':{'_id':_0x2355e4['id']}},{'groupdata':{..._0x3fd53c[_0x4898a0(0x897)],'participants':_0x1777ea,'size':_0xf4225b,'isAdmin':_0x2e0985,'canSendMessage':_0x5768bb}},this[_0x4898a0(0x7fc)][_0x4898a0(0x3c3)]),this['logger'][_0x4898a0(0x40b)](this[_0x4898a0(0x7d7)]+'\x20('+this['instance'][_0x4898a0(0x3c3)]+_0x4898a0(0x405)+_0x2355e4['id']+_0x4898a0(0x45e)+_0x2355e4[_0x4898a0(0x937)]+_0x4898a0(0x486)+_0xf4225b+',\x20isAdmin:\x20'+_0x2e0985+',\x20canSendMessage:\x20'+_0x5768bb);}async[a0_0x5c0bdf(0x1f0)](_0x206c1f,_0x460842=!0x0){const _0xe32d56=a0_0x5c0bdf;try{let _0x1b6c7a=await this[_0xe32d56(0x3c4)]['groupInviteCode'](_0x206c1f[_0xe32d56(0x8ab)]),_0x4a54f1={'groupdata.inviteCode':_0xe32d56(0x751)+_0x1b6c7a};if(_0x460842){let _0x2890f3=await this['repository'][_0xe32d56(0x75d)][_0xe32d56(0x411)]({'where':{'_id':_0x206c1f[_0xe32d56(0x8ab)]}},_0x4a54f1,this[_0xe32d56(0x7fc)][_0xe32d56(0x3c3)]);}return{'inviteUrl':_0xe32d56(0x751)+_0x1b6c7a,'inviteCode':_0x1b6c7a};}catch(_0x254667){let _0xde5e36=_0xe32d56(0x670),_0x8b1e12=_0x254667 instanceof Error?_0x254667[_0xe32d56(0x7d9)]:typeof _0x254667==_0xe32d56(0x1ef)?JSON['stringify'](_0x254667):_0x254667,_0x515824=_0xde5e36+':\x20'+_0x8b1e12;throw this[_0xe32d56(0x241)][_0xe32d56(0x812)](this[_0xe32d56(0x7d7)]+'\x20('+this[_0xe32d56(0x7fc)][_0xe32d56(0x3c3)]+_0xe32d56(0x4a5)+_0x515824),new U(_0x515824);}}async[a0_0x5c0bdf(0x485)](_0x1f730b){const _0x34b067=a0_0x5c0bdf;try{let _0x1f0daa=await this[_0x34b067(0x3c4)][_0x34b067(0x5d2)](_0x1f730b[_0x34b067(0x8ab)]);return{'revoked':!0x0,'inviteUrl':_0x34b067(0x751)+_0x1f0daa,'inviteCode':_0x1f0daa};}catch(_0x5e0313){let _0x46e04e=_0x34b067(0x5f7),_0x5957af=_0x5e0313 instanceof Error?_0x5e0313['message']:typeof _0x5e0313==_0x34b067(0x1ef)?JSON[_0x34b067(0x86d)](_0x5e0313):_0x5e0313,_0x3f05da=_0x46e04e+':\x20'+_0x5957af;throw this[_0x34b067(0x241)]['error'](this['instanceName']+'\x20('+this[_0x34b067(0x7fc)][_0x34b067(0x3c3)]+_0x34b067(0x4a5)+_0x3f05da),new U(_0x3f05da);}}async['joinGroup'](_0x205a4e){const _0x56ce88=a0_0x5c0bdf;try{if((0x0,J[_0x56ce88(0x239)])(_0x205a4e[_0x56ce88(0x1f0)]))var _0x3dfbc0=_0x205a4e[_0x56ce88(0x1f0)][_0x56ce88(0x2a9)]('/')[0x3];else var _0x3dfbc0=_0x205a4e[_0x56ce88(0x1f0)];let _0x4b7368=await this[_0x56ce88(0x3c4)][_0x56ce88(0x77f)](_0x3dfbc0);return this[_0x56ce88(0x241)][_0x56ce88(0x8af)](this[_0x56ce88(0x7d7)]+'\x20('+this[_0x56ce88(0x7fc)]['wuid']+_0x56ce88(0x4a5)+_0x4b7368),{'join':!0x0,'inviteCode':_0x3dfbc0,'groupJid':_0x4b7368};}catch(_0x2b77da){let _0x12d1eb=_0x56ce88(0x4cc),_0xd87385=_0x2b77da instanceof Error?_0x2b77da[_0x56ce88(0x7d9)]:typeof _0x2b77da=='object'?JSON[_0x56ce88(0x86d)](_0x2b77da):_0x2b77da,_0x34aae5=_0x12d1eb+':\x20'+_0xd87385;throw this[_0x56ce88(0x241)][_0x56ce88(0x812)](this[_0x56ce88(0x7d7)]+'\x20('+this[_0x56ce88(0x7fc)][_0x56ce88(0x3c3)]+_0x56ce88(0x4a5)+_0x34aae5),new U(_0x34aae5);}}async[a0_0x5c0bdf(0x324)](_0x2cfdd2){const _0x3cd364=a0_0x5c0bdf;try{return{'participants':(await this['repository'][_0x3cd364(0x75d)][_0x3cd364(0x81e)]({'where':{'_id':_0x2cfdd2[_0x3cd364(0x8ab)]}},this[_0x3cd364(0x7fc)][_0x3cd364(0x3c3)]))[_0x3cd364(0x897)][_0x3cd364(0x8e4)]};}catch(_0x54c913){let _0x2296b6=_0x3cd364(0x4f5),_0x41b434=_0x54c913 instanceof Error?_0x54c913[_0x3cd364(0x7d9)]:typeof _0x54c913==_0x3cd364(0x1ef)?JSON[_0x3cd364(0x86d)](_0x54c913):_0x54c913,_0xc2e8fa=_0x2296b6+':\x20'+_0x41b434;throw this['logger'][_0x3cd364(0x812)](this['instanceName']+'\x20('+this[_0x3cd364(0x7fc)][_0x3cd364(0x3c3)]+'):\x20'+_0xc2e8fa),new U(_0xc2e8fa);}}async['leaveGroup'](_0x1a3d0a){const _0x13867b=a0_0x5c0bdf;try{return await this[_0x13867b(0x3c4)][_0x13867b(0x649)](_0x1a3d0a[_0x13867b(0x8ab)]),{'groupJid':_0x1a3d0a[_0x13867b(0x8ab)],'leave':!0x0};}catch(_0x215b1c){let _0x246375=_0x13867b(0x1db),_0x1a1e34=_0x215b1c instanceof Error?_0x215b1c[_0x13867b(0x7d9)]:typeof _0x215b1c==_0x13867b(0x1ef)?JSON[_0x13867b(0x86d)](_0x215b1c):_0x215b1c,_0x52674b=_0x246375+':\x20'+_0x1a1e34;throw this[_0x13867b(0x241)][_0x13867b(0x812)](this[_0x13867b(0x7d7)]+'\x20('+this['instance'][_0x13867b(0x3c3)]+_0x13867b(0x4a5)+_0x52674b),new m(_0x52674b);}}async[a0_0x5c0bdf(0x579)](_0x56a61d){const _0x4682ac=a0_0x5c0bdf;return await this[_0x4682ac(0x29e)](_0x56a61d[_0x4682ac(0x443)],{'poll':{'name':_0x56a61d[_0x4682ac(0x579)]?.['name'],'selectableCount':_0x56a61d['pollMessage'][_0x4682ac(0x58d)],'values':_0x56a61d['pollMessage'][_0x4682ac(0x60a)]}},_0x56a61d?.[_0x4682ac(0x54f)]);}async[a0_0x5c0bdf(0x68e)](_0x3b39fb){const _0x3e32af=a0_0x5c0bdf;return await this['sendMessageWithTyping'](_0x3b39fb[_0x3e32af(0x443)],{'listMessage':{'title':_0x3b39fb[_0x3e32af(0x68e)][_0x3e32af(0x589)],'description':_0x3b39fb[_0x3e32af(0x68e)][_0x3e32af(0x1b6)],'buttonText':_0x3b39fb[_0x3e32af(0x68e)]?.[_0x3e32af(0x29f)],'footerText':_0x3b39fb[_0x3e32af(0x68e)]?.['footerText'],'sections':_0x3b39fb['listMessage'][_0x3e32af(0x635)],'listType':0x2}},_0x3b39fb?.['options']);}async['menuMessage'](_0x215c9f){const _0x79d855=a0_0x5c0bdf;this[_0x79d855(0x7fc)]['isBusiness']===void 0x0&&await this[_0x79d855(0x51d)]();let _0xc68409;if(_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x5a8)]===_0x79d855(0x6d3)||_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x5a8)]===_0x79d855(0x896)){let _0x59aa91=_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x3ac)]['indexOf']('\x0a'),_0x65fe38='',_0x5c5680='';_0x59aa91!==-0x1?(_0x65fe38=_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x3ac)][_0x79d855(0x89e)](0x0,_0x59aa91)[_0x79d855(0x55c)](),_0x5c5680=_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x3ac)][_0x79d855(0x89e)](_0x59aa91+0x1)):_0x5c5680=_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x3ac)];let _0x3336f2=_0x215c9f[_0x79d855(0x2d0)]['choices']['filter'](_0x16a75b=>_0x16a75b[_0x79d855(0x55c)]()!==''),_0x2ace44=this[_0x79d855(0x6d6)](_0x3336f2);_0xc68409={'listMessage':{'title':_0x65fe38,'description':_0x5c5680,'buttonText':_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x29f)]||_0x79d855(0x832),'footerText':_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x6a1)],'sections':_0x2ace44,'listType':0x2}};}else{if(_0x215c9f['menuMessage'][_0x79d855(0x5a8)]===_0x79d855(0x38b)){let _0x53cba9=_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x2eb)]['filter'](_0x19cef6=>!(_0x19cef6[_0x79d855(0x6bb)]('[')&&_0x19cef6[_0x79d855(0x62e)](']'))&&_0x19cef6[_0x79d855(0x55c)]()!=='')[_0x79d855(0x6df)](_0x421b92=>_0x421b92[_0x79d855(0x2a9)]('\x0a')[0x0]);for(;_0x53cba9['length']<0x2;)_0x53cba9[_0x79d855(0x2c1)](_0x79d855(0x290)+(_0x53cba9['length']+0x1));_0xc68409={'poll':{'name':_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x3ac)],'selectableCount':_0x215c9f[_0x79d855(0x2d0)]['selectableCount']||0x1,'values':_0x53cba9}};}else{if(_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x5a8)]===_0x79d855(0x76f)){let _0x400642=this[_0x79d855(0x303)](_0x215c9f['menuMessage']['choices'][_0x79d855(0x755)](_0x3d1c14=>!(_0x3d1c14[_0x79d855(0x6bb)]('[')&&_0x3d1c14[_0x79d855(0x62e)](']'))));return _0xc68409={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x3ac)]},'footer':_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x6a1)]?{'text':_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x6a1)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x400642,'messageParamsJson':JSON[_0x79d855(0x86d)]({'from':'api','templateId':_0x79d855(0x441)+(0x0,oe['randomBytes'])(0x12)[_0x79d855(0x281)](_0x79d855(0x468))['toUpperCase']()})}}}}},await this['sendMessageWithTypingButtons'](_0x215c9f[_0x79d855(0x443)],_0xc68409,_0x215c9f?.[_0x79d855(0x54f)]);}else{if(_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x5a8)]===_0x79d855(0x449)){let _0x45ab64=this['createButtonSectionsFromValues'](_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x2eb)]);return _0xc68409={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x215c9f['menuMessage'][_0x79d855(0x3ac)]},'footer':_0x215c9f[_0x79d855(0x2d0)][_0x79d855(0x6a1)]?{'text':_0x215c9f['menuMessage'][_0x79d855(0x6a1)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x45ab64,'messageParamsJson':JSON['stringify']({'from':'api','templateId':_0x79d855(0x441)+(0x0,oe[_0x79d855(0x24b)])(0x12)[_0x79d855(0x281)](_0x79d855(0x468))[_0x79d855(0x2f3)]()})}}}}},await this[_0x79d855(0x5d6)](_0x215c9f['number'],_0xc68409,_0x215c9f?.['options']);}}}}return await this['sendMessageWithTyping'](_0x215c9f[_0x79d855(0x443)],_0xc68409,_0x215c9f?.[_0x79d855(0x54f)]);}[a0_0x5c0bdf(0x303)](_0x25380f){const _0x12c621=a0_0x5c0bdf;return _0x25380f[_0x12c621(0x6df)](_0x424be4=>{const _0x103606=_0x12c621;let _0x1d21aa=_0x424be4[_0x103606(0x2a9)]('\x0a')[_0x103606(0x6df)](_0x139f52=>_0x139f52[_0x103606(0x55c)]()),_0x48b36e=_0x1d21aa[0x0],_0x3b986f=_0x1d21aa[0x1]||_0x48b36e,_0x3ccfa0=_0x3b986f['startsWith'](_0x103606(0x7e5))?'cta_url':_0x103606(0x310);return{'name':_0x3ccfa0,'buttonParamsJson':JSON[_0x103606(0x86d)]({'display_text':_0x48b36e,'id':_0x3ccfa0===_0x103606(0x310)?_0x3b986f:void 0x0,'url':_0x3ccfa0===_0x103606(0x5ee)?_0x3b986f:void 0x0})};});}[a0_0x5c0bdf(0x543)](_0x45f74c){const _0x20e425=a0_0x5c0bdf;let _0x242a82=[],_0xa25136={'title':'','rows':[]};return _0x45f74c['forEach'](_0x35bd66=>{const _0x4ccec0=a0_0x34cb;if(_0x35bd66['startsWith']('[')&&_0x35bd66[_0x4ccec0(0x62e)](']'))_0xa25136[_0x4ccec0(0x627)][_0x4ccec0(0x235)]>0x0&&_0x242a82[_0x4ccec0(0x2c1)](_0xa25136),_0xa25136={'title':_0x35bd66['slice'](0x1,-0x1),'rows':[]};else{let _0xf8bb96=_0x35bd66[_0x4ccec0(0x2a9)]('\x0a')[_0x4ccec0(0x6df)](_0x4127fb=>_0x4127fb[_0x4ccec0(0x55c)]()),_0x2fb1df=_0xf8bb96[0x0],_0x5b2a8f=_0xf8bb96[0x1]?_0xf8bb96[0x1]:void 0x0,_0x259baf=_0xf8bb96[0x2]||_0x2fb1df;_0xa25136[_0x4ccec0(0x627)]['push']({'title':_0x2fb1df,'description':_0x5b2a8f,'id':_0x259baf});}}),_0xa25136[_0x20e425(0x627)]['length']>0x0&&_0x242a82[_0x20e425(0x2c1)](_0xa25136),[{'name':'single_select','buttonParamsJson':JSON[_0x20e425(0x86d)]({'title':'Selecione\x20uma\x20opção','sections':_0x242a82})}];}[a0_0x5c0bdf(0x6d6)](_0x3619e5){const _0xa6d379=a0_0x5c0bdf;let _0x242faa=[],_0x564a66={'rows':[]};return _0x3619e5['forEach'](_0x159987=>{const _0x10101b=a0_0x34cb;if(_0x159987[_0x10101b(0x6bb)]('[')&&_0x159987['endsWith'](']'))_0x564a66[_0x10101b(0x627)][_0x10101b(0x235)]>0x0&&_0x242faa[_0x10101b(0x2c1)](_0x564a66),_0x564a66={'title':_0x159987[_0x10101b(0x2dc)](0x1,-0x1),'rows':[]};else{let _0x18d1df=_0x159987[_0x10101b(0x2a9)]('\x0a')['map'](_0x168830=>_0x168830[_0x10101b(0x55c)]()),_0x2208f5=_0x18d1df[0x0],_0x4c1c73=_0x18d1df[0x1]||null,_0x56bbc4=_0x18d1df[0x2]||_0x2208f5;_0x564a66[_0x10101b(0x627)][_0x10101b(0x2c1)]({'title':_0x2208f5,'description':_0x4c1c73,'rowId':_0x56bbc4});}}),_0x564a66[_0xa6d379(0x627)][_0xa6d379(0x235)]>0x0&&_0x242faa[_0xa6d379(0x2c1)](_0x564a66),_0x242faa;}async[a0_0x5c0bdf(0x540)](_0x4a9027,_0x104a8b){const _0x47ad44=a0_0x5c0bdf;if(await this[_0x47ad44(0x325)](_0x4a9027,!0x0)){let _0x2b6729={'where':{'_id':_0x4a9027['id']}},_0x1adb3d={'status':[_0x104a8b[_0x47ad44(0x3ae)]][0x0]};try{let _0x1b7c3e=await this['repository']['message'][_0x47ad44(0x1d0)](_0x2b6729,_0x1adb3d,this[_0x47ad44(0x7fc)][_0x47ad44(0x3c3)]);_0x1b7c3e&&F(this['instanceName'],_0x47ad44(0x342),{'message':_0x1b7c3e});}catch{}}}[a0_0x5c0bdf(0x5cd)](_0x3223ed){const _0x1a5e01=a0_0x5c0bdf;let _0x5ef091=[];return _0x3223ed[_0x1a5e01(0x91c)](_0x18b485=>{const _0x49fc7c=_0x1a5e01;_0x18b485['title']&&_0x5ef091[_0x49fc7c(0x2c1)]('['+_0x18b485[_0x49fc7c(0x589)]+']'),_0x18b485['rows'][_0x49fc7c(0x91c)](_0x5c0cff=>{const _0x58b94e=_0x49fc7c;_0x5ef091[_0x58b94e(0x2c1)](_0x5c0cff[_0x58b94e(0x589)]);});}),_0x5ef091['join']('|');}[a0_0x5c0bdf(0x23e)](_0x2541be){const _0x18d39=a0_0x5c0bdf;let _0x339361=_0x2541be[_0x18d39(0x8df)](/\\n/g,'\x0a')[_0x18d39(0x2a9)]('\x0a')['filter'](_0x42f39d=>_0x42f39d[_0x18d39(0x4ee)](_0x18d39(0x41d))||_0x42f39d[_0x18d39(0x4ee)]('EMAIL')),_0x2a8562='';return _0x339361[_0x18d39(0x91c)](_0x46f2ee=>{const _0x4bbdbe=_0x18d39;let _0x3b36a6=/TEL(?:.*):(.+)/,_0x4b2762=/EMAIL(?:.*):(.+)/,_0x4bc587=_0x46f2ee[_0x4bbdbe(0x211)](_0x3b36a6),_0x315300=_0x46f2ee[_0x4bbdbe(0x211)](_0x4b2762);if(_0x4bc587){let _0x228044=_0x4bc587[0x1]['replace'](/-| |\+|\(|\)/g,'')['trim']();_0x2a8562+=_0x4bbdbe(0x7eb)+_0x228044+'\x0a';}else{if(_0x315300){let _0x58aee0=_0x315300[0x1][_0x4bbdbe(0x55c)]();_0x2a8562+='E-mail:\x20'+_0x58aee0+'\x0a';}}}),_0x2a8562[_0x18d39(0x55c)]();}async['updateChatWithMessage'](_0x2d8f38,_0x547cdf,_0xcb4ac0,_0x1643a2=null){const _0x13244b=a0_0x5c0bdf;if(_0x2d8f38[_0x13244b(0x2ed)])try{let _0x48b4fa=_0x547cdf[_0x13244b(0x493)][_0x13244b(0x57e)][_0x13244b(0x8df)](/:\d{1,2}@/g,'@'),_0x471b2d=_0x547cdf[_0x13244b(0x493)][_0x13244b(0x650)],_0x643db4=_0x48b4fa[_0x13244b(0x62e)](_0x13244b(0x2bc)),_0x1462e0=_0x547cdf[_0x13244b(0x555)]?.[_0x13244b(0x8df)](/:\d{1,2}@/g,'@')||'',_0x5a2d9c=_0x547cdf['message_normalized']?.['text']||_0x547cdf['message_normalized']?.[_0x13244b(0x527)]||_0x547cdf['message_normalized']?.[_0x13244b(0x626)]||_0x547cdf[_0x13244b(0x47a)]?.[_0x13244b(0x35d)]||'',_0x31abc6={'_id':_0x547cdf[_0x13244b(0x2c7)],'remoteJid':_0x471b2d?this[_0x13244b(0x7fc)]['wuid']:_0x643db4?_0x1462e0:_0x48b4fa,'pushName':_0x471b2d?this[_0x13244b(0x7fc)][_0x13244b(0x61b)]||'Eu':_0x547cdf['pushName'],'text':_0x5a2d9c,'type':_0x547cdf[_0x13244b(0x871)],'when':_0x547cdf['messageTimestamp']||Date[_0x13244b(0x435)]()};_0x1643a2||(_0x1643a2=await this['repository']['chat'][_0x13244b(0x81e)]({'where':{'_id':_0x48b4fa}},this['instance'][_0x13244b(0x3c3)]));let _0x2400b0=_0x471b2d?0x0:_0x1643a2?(_0x1643a2[_0x13244b(0x84e)]||0x0)+0x1:0x1,_0x327e84={'lastmsg':_0x547cdf[_0x13244b(0x35a)]||Date[_0x13244b(0x435)](),'ephemeralExpiration':_0x547cdf[_0x13244b(0x4aa)],'lastMessage':_0x31abc6,'unreadcount':_0x2400b0,..._0x471b2d||_0x643db4?{}:{'name':_0x547cdf['pushName']},..._0x643db4?{'group':_0x643db4}:{},...!_0x471b2d&&!_0x643db4&&_0x547cdf[_0x13244b(0x5e5)]?{'imagechat':_0x547cdf['profilePictureUrl']}:{}};if(!_0x643db4&&(!_0x1643a2?.[_0x13244b(0x264)]||!_0x1643a2[_0x13244b(0x264)][_0x13244b(0x562)])&&_0x547cdf['pushName']&&!_0x471b2d&&(_0x327e84={..._0x327e84,'leadInfo.nome':_0x547cdf[_0x13244b(0x4a1)]}),_0x1643a2?.[_0x13244b(0x264)][_0x13244b(0x25b)]||(_0x327e84={..._0x327e84,'leadInfo.etiquetas':[]}),_0x1643a2?.[_0x13244b(0x264)][_0x13244b(0x7d4)]||(_0x327e84={..._0x327e84,'leadInfo.customFields':[]}),_0x1643a2?.[_0x13244b(0x264)]['tags']||(_0x327e84={..._0x327e84,'leadInfo.tags':[]}),_0x1643a2&&_0x1643a2?.[_0x13244b(0x75a)]){let _0x1f2343=await this['repository']['label']['find']({'where':{}},this['instance'][_0x13244b(0x3c3)]),_0x4815b2=new Set(_0x1f2343[_0x13244b(0x6df)](_0x10ecb2=>_0x10ecb2[_0x13244b(0x2c7)])),_0x4cd1fd=(_0x1643a2[_0x13244b(0x264)]?.[_0x13244b(0x25b)]||[])['filter'](_0x4e1e09=>_0x4815b2[_0x13244b(0x400)](_0x4e1e09));_0x327e84={..._0x327e84,'imported':!0x1,'leadInfo.etiquetas':_0x4cd1fd};for(let _0xc4691 of _0x4cd1fd)await this['AddChatLabel'](_0xc4691,_0x48b4fa);}if(!this['AutomateSystem']['flows'][_0x13244b(0x50f)](_0x9b950c=>_0x9b950c['startCommand']&&_0x5a2d9c[_0x13244b(0x4ee)](_0x9b950c['startCommand']))&&_0xcb4ac0===_0x13244b(0x372)&&_0x471b2d&&this[_0x13244b(0x587)]?.[_0x13244b(0x2ac)][_0x13244b(0x5c3)]&&_0x5a2d9c[_0x13244b(0x55c)]()!==this[_0x13244b(0x587)]?.[_0x13244b(0x2ac)]['stopConversation'][_0x13244b(0x55c)]()){let _0x44d272=(this['AutomateSystem']?.[_0x13244b(0x2ac)][_0x13244b(0x499)]||0x0)*0xea60,_0x46aa98=Date['now']()+_0x44d272;_0x1643a2?.[_0x13244b(0x264)]?.[_0x13244b(0x216)]===0x0||(_0x327e84={..._0x327e84,'leadInfo.desativadoFluxoAte':_0x46aa98},this[_0x13244b(0x241)][_0x13244b(0x8af)](this[_0x13244b(0x7d7)]+'\x20('+this[_0x13244b(0x7fc)]['wuid']+_0x13244b(0x262)+_0x46aa98+'.'));}if(_0x5a2d9c['trim']()===this[_0x13244b(0x587)]?.['flowConfig'][_0x13244b(0x6ac)][_0x13244b(0x55c)]()){this[_0x13244b(0x241)][_0x13244b(0x8af)](this[_0x13244b(0x7d7)]+'\x20('+this[_0x13244b(0x7fc)][_0x13244b(0x3c3)]+_0x13244b(0x514)+_0x5a2d9c);let _0x2094b7=Date[_0x13244b(0x435)]();this[_0x13244b(0x587)]?.[_0x13244b(0x2ac)]['stopMinutes']===0x0?_0x327e84={..._0x327e84,'leadInfo.desativadoFluxoAte':_0x2094b7+0x7591f6200}:_0x327e84={..._0x327e84,'leadInfo.desativadoFluxoAte':_0x2094b7+this[_0x13244b(0x587)]?.[_0x13244b(0x2ac)][_0x13244b(0x3f9)]*0x3c*0x3e8};}if(_0x1643a2=await this[_0x13244b(0x8ea)][_0x13244b(0x75d)][_0x13244b(0x411)]({'where':{'_id':_0x48b4fa}},_0x327e84,this['instance'][_0x13244b(0x3c3)],{'new':!0x0,'upsert':!0x0}),_0x1643a2)F(this['instanceName'],_0x13244b(0x5fd),{'chat':_0x1643a2});else{this[_0x13244b(0x241)][_0x13244b(0x812)](this[_0x13244b(0x7d7)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x471b2d)return this[_0x13244b(0x241)][_0x13244b(0x8af)](this[_0x13244b(0x7d7)]+'\x20('+this[_0x13244b(0x7fc)][_0x13244b(0x3c3)]+_0x13244b(0x49d)),null;if(!this[_0x13244b(0x587)]?.[_0x13244b(0x2ac)]['enabled'])return this[_0x13244b(0x241)][_0x13244b(0x8af)](this[_0x13244b(0x7d7)]+'\x20('+this[_0x13244b(0x7fc)]['wuid']+_0x13244b(0x3de)),null;if(_0x1643a2[_0x13244b(0x2c7)][_0x13244b(0x4ee)](_0x13244b(0x2bc))&&this[_0x13244b(0x587)]?.[_0x13244b(0x2ac)][_0x13244b(0x2fa)]===!0x0)return this[_0x13244b(0x241)][_0x13244b(0x8af)](this[_0x13244b(0x7d7)]+'\x20('+this[_0x13244b(0x7fc)]['wuid']+_0x13244b(0x743)),null;if(_0x1643a2[_0x13244b(0x264)]){if(_0x1643a2['leadInfo'][_0x13244b(0x216)]===0x0||_0x1643a2[_0x13244b(0x264)]['atendimentoAberto'])return this['logger'][_0x13244b(0x8af)](this[_0x13244b(0x7d7)]+'\x20('+this[_0x13244b(0x7fc)][_0x13244b(0x3c3)]+_0x13244b(0x577)+_0x48b4fa+_0x13244b(0x943)),null;if(_0x1643a2['leadInfo'][_0x13244b(0x216)]>Date[_0x13244b(0x435)]()&&!_0x547cdf[_0x13244b(0x47a)]?.[_0x13244b(0x626)])return this[_0x13244b(0x241)][_0x13244b(0x8af)](this[_0x13244b(0x7d7)]+'\x20('+this['instance'][_0x13244b(0x3c3)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x1643a2[_0x13244b(0x264)]['desativadoFluxoAte'])[_0x13244b(0x710)]()+_0x13244b(0x943)),null;}this[_0x13244b(0x241)][_0x13244b(0x8af)](this[_0x13244b(0x7d7)]+'\x20('+this[_0x13244b(0x7fc)]['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x13244b(0x63e)](_0x547cdf,_0xcb4ac0);}catch(_0x21f936){let _0xc2fdaa=_0x13244b(0x6c6),_0x2e23f9=_0x21f936 instanceof Error?_0x21f936[_0x13244b(0x7d9)]:typeof _0x21f936==_0x13244b(0x1ef)?JSON['stringify'](_0x21f936):_0x21f936,_0x387120=_0xc2fdaa+':\x20'+_0x2e23f9;return this[_0x13244b(0x241)][_0x13244b(0x812)](this[_0x13244b(0x7d7)]+'\x20('+this[_0x13244b(0x7fc)]['wuid']+'):\x20'+_0x387120),null;}}async[a0_0x5c0bdf(0x460)](_0x14feff,_0x341ff9){const _0x25005f=a0_0x5c0bdf;if(_0x341ff9['ENABLED']){let _0x265111=_0x14feff[_0x25005f(0x6df)](async _0x47d1a7=>{const _0x37d595=_0x25005f;try{let _0x485045={'_id':_0x47d1a7[_0x37d595(0x2c7)],'owner':_0x47d1a7['owner'],'lastcache':0x0};if(Object[_0x37d595(0x2ec)](_0x47d1a7)[_0x37d595(0x91c)](_0x472a6f=>{_0x47d1a7[_0x472a6f]!==null&&(_0x485045[_0x472a6f]=_0x47d1a7[_0x472a6f]);}),_0x485045[_0x37d595(0x2a3)]===null&&(_0x485045['imagechat']='Imagem\x20não\x20encontrada'),Object['keys'](_0x485045)[_0x37d595(0x235)]>0x0)return await this['repository']['chat'][_0x37d595(0x411)]({'where':{'_id':_0x47d1a7['_id']}},_0x485045,this[_0x37d595(0x7fc)][_0x37d595(0x3c3)]);}catch(_0x2cf115){let _0x2578f1=_0x37d595(0x2e6)+_0x47d1a7[_0x37d595(0x2c7)],_0x1da089=_0x2cf115 instanceof Error?_0x2cf115[_0x37d595(0x7d9)]:typeof _0x2cf115==_0x37d595(0x1ef)?JSON[_0x37d595(0x86d)](_0x2cf115):_0x2cf115,_0x293856=_0x2578f1+':\x20'+_0x1da089;return this[_0x37d595(0x241)][_0x37d595(0x812)](this[_0x37d595(0x7d7)]+'\x20('+this['instance'][_0x37d595(0x3c3)]+_0x37d595(0x4a5)+_0x293856),null;}}),_0x2e4160=(await Promise['all'](_0x265111))[_0x25005f(0x755)](_0x186347=>_0x186347!==null)[_0x25005f(0x235)];this[_0x25005f(0x241)][_0x25005f(0x8af)](this['instanceName']+'\x20('+this['instance'][_0x25005f(0x3c3)]+_0x25005f(0x4a5)+_0x2e4160+_0x25005f(0x81d)+this['instance'][_0x25005f(0x3c3)]+_0x25005f(0x614));}}async[a0_0x5c0bdf(0x3cc)](_0x2605c5){const _0x3d9ea9=a0_0x5c0bdf;this[_0x3d9ea9(0x241)]['verbose'](this[_0x3d9ea9(0x7d7)]+'\x20('+this['instance'][_0x3d9ea9(0x3c3)]+'):\x20Ler\x20mensagem');let _0x19828c={'readMessages':[{'remoteJid':_0x2605c5[_0x3d9ea9(0x1cf)][_0x3d9ea9(0x783)][_0x3d9ea9(0x493)][_0x3d9ea9(0x57e)],'fromMe':_0x2605c5['chatLog'][_0x3d9ea9(0x783)][_0x3d9ea9(0x493)][_0x3d9ea9(0x650)],'id':_0x2605c5[_0x3d9ea9(0x1cf)][_0x3d9ea9(0x783)]['key']['id']}]};await this[_0x3d9ea9(0x2a6)](_0x19828c);}async[a0_0x5c0bdf(0x63e)](_0x1de5e6,_0x5241f8){const _0x3b5088=a0_0x5c0bdf;try{let {key:_0xa85ea,message_normalized:_0x21323d}=_0x1de5e6,_0x2074e0=_0x21323d,_0x4271c8=_0x21323d[_0x3b5088(0x3ac)]||_0x21323d[_0x3b5088(0x527)]||_0x21323d['vote']||_0x21323d['name']||'',_0x339626=_0xa85ea[_0x3b5088(0x57e)],_0x56e593=null,_0x4207ef=this[_0x3b5088(0x587)][_0x3b5088(0x3f3)]['find'](_0x15c6ed=>_0x15c6ed['startCommand']&&_0x4271c8[_0x3b5088(0x4ee)](_0x15c6ed[_0x3b5088(0x644)]));if(_0x4207ef&&_0x5241f8===_0x3b5088(0x372)){let _0x10c9d0=await this[_0x3b5088(0x8ea)][_0x3b5088(0x6b5)]['findOne']({'where':{'_id':_0x4207ef[_0x3b5088(0x2c7)]}});if(this['logger'][_0x3b5088(0x8af)](this[_0x3b5088(0x7d7)]+'\x20('+this[_0x3b5088(0x7fc)][_0x3b5088(0x3c3)]+_0x3b5088(0x3f6)),_0x10c9d0&&_0x10c9d0[_0x3b5088(0x7ad)]?.[_0x3b5088(0x4ee)](this[_0x3b5088(0x7fc)][_0x3b5088(0x3c3)]))_0x56e593=await this[_0x3b5088(0x5e8)](_0x10c9d0,_0xa85ea,_0x2074e0);else return this[_0x3b5088(0x241)][_0x3b5088(0x8af)](this[_0x3b5088(0x7d7)]+'\x20('+this[_0x3b5088(0x7fc)][_0x3b5088(0x3c3)]+_0x3b5088(0x4be)),null;}else this[_0x3b5088(0x241)][_0x3b5088(0x8af)](this[_0x3b5088(0x7d7)]+'\x20('+this['instance'][_0x3b5088(0x3c3)]+_0x3b5088(0x456));if(_0x56e593=await this['findConversation'](_0x339626,_0x2074e0),_0x56e593){this[_0x3b5088(0x241)]['verbose'](this[_0x3b5088(0x7d7)]+'\x20('+this[_0x3b5088(0x7fc)][_0x3b5088(0x3c3)]+_0x3b5088(0x4db)),!_0xa85ea['fromMe']&&_0x56e593[_0x3b5088(0x3f5)]&&this[_0x3b5088(0x3cc)](_0x56e593);let _0x30016d=await this[_0x3b5088(0x73b)](_0x56e593);_0x30016d&&await this[_0x3b5088(0x3a5)](_0x56e593,_0x30016d);}}catch(_0x593c05){this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x593c05 instanceof Error?_0x593c05[_0x3b5088(0x7d9)]:JSON['stringify'](_0x593c05,null,0x2)));}}[a0_0x5c0bdf(0x22c)](_0x3dc75b,_0x39bd22='',_0x3266c6={}){const _0x703e22=a0_0x5c0bdf;return typeof _0x3dc75b!=_0x703e22(0x1ef)||_0x3dc75b===null?(_0x39bd22&&(_0x3266c6[_0x39bd22]=_0x3dc75b),_0x3266c6):(Object[_0x703e22(0x6ef)](_0x3dc75b)['forEach'](([_0x2c390e,_0x305c61])=>{const _0x42eae3=_0x703e22;let _0x3c2f96=_0x39bd22?_0x39bd22+'.'+_0x2c390e:'_'+_0x2c390e;Array[_0x42eae3(0x576)](_0x305c61)?_0x305c61['forEach']((_0x3b9d69,_0x43016d)=>{const _0x2a9d62=_0x42eae3;this[_0x2a9d62(0x22c)](_0x3b9d69,_0x3c2f96+'['+_0x43016d+']',_0x3266c6);}):typeof _0x305c61=='object'&&_0x305c61!==null?this[_0x42eae3(0x22c)](_0x305c61,_0x3c2f96,_0x3266c6):_0x3266c6[_0x3c2f96]=String(_0x305c61);}),_0x3266c6);}[a0_0x5c0bdf(0x33d)](_0x1970dc){const _0x29bf35=a0_0x5c0bdf;let _0x548822={};for(let _0x297730 of _0x1970dc)typeof _0x297730[_0x29bf35(0x35d)]==_0x29bf35(0x749)&&typeof _0x297730['value']==_0x29bf35(0x749)&&(_0x548822[_0x297730[_0x29bf35(0x35d)]]=_0x297730[_0x29bf35(0x802)]);return _0x548822;}async[a0_0x5c0bdf(0x73b)](_0x243101){const _0x470568=a0_0x5c0bdf;if(!this[_0x470568(0x587)]?.[_0x470568(0x2ac)]['enabled']||_0x243101[_0x470568(0x3ae)]!=='open'&&_0x243101[_0x470568(0x732)]==='')return null;let _0x2bbdac=_0x243101[_0x470568(0x1cf)][_0x470568(0x26c)]||_0x470568(0x929);typeof _0x243101[_0x470568(0x1cf)]['lastCondition']>'u'&&(_0x243101[_0x470568(0x1cf)][_0x470568(0x7f2)]=!0x0);let _0x81512=_0x243101[_0x470568(0x1cf)][_0x470568(0x7f2)];this[_0x470568(0x241)][_0x470568(0x8af)](this[_0x470568(0x7d7)]+'\x20('+this[_0x470568(0x7fc)][_0x470568(0x3c3)]+_0x470568(0x80c)+_0x2bbdac+_0x470568(0x5c2)+_0x81512);let _0x33fa75=_0x2bbdac==='start'?_0x243101['blocks']['find'](_0x2daefd=>_0x2daefd[_0x470568(0x5a8)]===_0x470568(0x929)):_0x243101[_0x470568(0x234)]['find'](_0xd01ffb=>_0xd01ffb[_0x470568(0x2c7)][_0x470568(0x281)]()===_0x2bbdac[_0x470568(0x281)]());if(!_0x33fa75)return this[_0x470568(0x241)][_0x470568(0x812)](this[_0x470568(0x7d7)]+'\x20('+this[_0x470568(0x7fc)]['wuid']+_0x470568(0x72d)+_0x2bbdac),null;let _0x168d5b={'_pushName':_0x243101?.[_0x470568(0x1cf)]?.[_0x470568(0x783)]?.[_0x470568(0x4a1)]||'','_sender':this['instance'][_0x470568(0x3c3)]||'',..._0x243101[_0x470568(0x1cf)]['realVariables']},_0xa44d4=new Date();_0x168d5b[_0x470568(0x272)]=_0xa44d4[_0x470568(0x7cc)](),_0x168d5b[_0x470568(0x8be)]=_0xa44d4['getMonth']()+0x1,_0x168d5b[_0x470568(0x60e)]=_0xa44d4['getFullYear'](),_0x168d5b['_hour']=_0xa44d4[_0x470568(0x7a0)](),_0x168d5b[_0x470568(0x6c1)]=_0xa44d4[_0x470568(0x1f4)](),_0x168d5b[_0x470568(0x50d)]=_0xa44d4[_0x470568(0x64c)]();let _0x574e6e=null;if(_0x243101['waitingMenu_id']){let _0x42ae8a=_0x243101[_0x470568(0x1cf)]['lastReceivedMessage'][_0x470568(0x626)],_0x26a858=_0x243101[_0x470568(0x8ee)][_0x470568(0x50f)](_0x273936=>_0x273936[_0x470568(0x268)]===_0x42ae8a);if(_0x26a858){let _0x16cae7=_0x26a858[_0x470568(0x37c)];if(_0x574e6e=_0x243101[_0x470568(0x234)][_0x470568(0x50f)](_0x316098=>_0x316098[_0x470568(0x5f1)]===_0x16cae7&&_0x316098[_0x470568(0x553)]===0x1),_0x33fa75[_0x470568(0x2ef)][_0x470568(0x74d)]){let _0x22e199={'id':_0x243101[_0x470568(0x732)],'remoteJid':_0x243101[_0x470568(0x57e)],'fromMe':!0x0};await this[_0x470568(0x8ed)](_0x22e199);}if(_0x33fa75[_0x470568(0x2ef)][_0x470568(0x74d)]&&_0x33fa75['uazapi']['pollMessageOnDelete']&&_0x33fa75[_0x470568(0x2ef)][_0x470568(0x19e)]===_0x470568(0x38b)){let _0x36589a={'number':_0x243101[_0x470568(0x57e)],'options':{'delay':0x0},'textMessage':{'text':_0x470568(0x4ff)+_0x243101[_0x470568(0x200)]+'\x0a*Você\x20respondeu*:\x0a'+_0x42ae8a}};await this['textMessage'](_0x36589a);}_0x168d5b[_0x470568(0x39f)]=_0x42ae8a,_0x243101['status']=_0x470568(0x2ad),_0x243101[_0x470568(0x732)]='',_0x243101[_0x470568(0x200)]='',_0x243101[_0x470568(0x8ee)]=[];}else{this['logger']['verbose'](this[_0x470568(0x7d7)]+'\x20('+this[_0x470568(0x7fc)][_0x470568(0x3c3)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x26d071={'activatedCount':_0x243101[_0x470568(0x1cf)][_0x470568(0x462)][_0x470568(0x755)](_0x5b9212=>String(_0x5b9212['blockId'])===String(_0x2bbdac))['length'],'moreLogs':[_0x470568(0x7c7)]};if(_0x33fa75[_0x470568(0x2ef)][_0x470568(0x329)]){let _0x4bd7c1={'number':_0x243101['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x33fa75[_0x470568(0x2ef)][_0x470568(0x329)]}};await this['textMessage'](_0x4bd7c1);}if(_0x33fa75[_0x470568(0x90f)]!==void 0x0&&_0x26d071[_0x470568(0x769)]>=_0x33fa75[_0x470568(0x90f)]){let _0x1c1618=Date[_0x470568(0x435)](),_0x115610=_0x33fa75[_0x470568(0x8e6)]??0xa;isNaN(_0x115610)&&(_0x115610=0xa);let _0x127e19=_0x1c1618+_0x115610*0x3c*0x3e8;_0x26d071['newStoppedUntil']=_0x127e19,_0x26d071[_0x470568(0x384)][_0x470568(0x2c1)](_0x470568(0x4f1)),this[_0x470568(0x766)](_0x243101,_0x127e19),_0x243101[_0x470568(0x732)]='',_0x243101[_0x470568(0x200)]='',_0x243101[_0x470568(0x8ee)]=[];}return this['updateConversation'](_0x243101,_0x33fa75,_0x26d071,!0x0),null;}}if(_0x81512&&_0x33fa75[_0x470568(0x37c)]&&!_0x243101[_0x470568(0x732)]){let _0x798c05=_0x243101[_0x470568(0x234)][_0x470568(0x755)](_0x3ab815=>_0x3ab815[_0x470568(0x5f1)][_0x470568(0x281)]()===_0x33fa75[_0x470568(0x37c)]['toString']())[_0x470568(0x474)]((_0x2bdd96,_0x1923df)=>_0x2bdd96[_0x470568(0x553)]-_0x1923df['order']);_0x798c05[_0x470568(0x235)]>0x0&&(_0x574e6e=_0x798c05[0x0]);}if(!_0x574e6e){let _0x1b9d7f=_0x33fa75[_0x470568(0x5f1)],_0x46aa44=_0x243101[_0x470568(0x234)][_0x470568(0x755)](_0x554492=>_0x554492[_0x470568(0x5f1)]===_0x1b9d7f&&_0x554492[_0x470568(0x553)]>_0x33fa75[_0x470568(0x553)])[_0x470568(0x474)]((_0x55c874,_0x361e84)=>_0x55c874[_0x470568(0x553)]-_0x361e84['order']);_0x46aa44['length']>0x0&&(_0x574e6e=_0x46aa44[0x0]);}if(!_0x574e6e)return _0x243101[_0x470568(0x3ae)]=_0x470568(0x36f),null;_0x243101[_0x470568(0x1cf)][_0x470568(0x263)]=_0x168d5b;let _0x19e6c6=JSON[_0x470568(0x4d9)](JSON[_0x470568(0x86d)](_0x574e6e));return this[_0x470568(0x332)](_0x19e6c6,_0x243101['chatLog']['realVariables']),_0x243101[_0x470568(0x1cf)][_0x470568(0x26c)]=_0x19e6c6['_id'],_0x243101[_0x470568(0x1cf)][_0x470568(0x7f2)]=!0x0,_0x19e6c6;}['replaceVariables'](_0x2b8807,_0x3cf39e){const _0x19211e=a0_0x5c0bdf;return _0x2b8807[_0x19211e(0x8df)](/\{\{([^}]+)\}\}/g,(_0x3ced5d,_0x4a3ebb)=>_0x3cf39e[_0x4a3ebb]||'');}[a0_0x5c0bdf(0x332)](_0x48747a,_0x24caec){const _0xb3ffb1=a0_0x5c0bdf;for(let _0x35eb91 in _0x48747a)typeof _0x48747a[_0x35eb91]=='string'?_0x48747a[_0x35eb91]=this['replaceVariables'](_0x48747a[_0x35eb91],_0x24caec):typeof _0x48747a[_0x35eb91]==_0xb3ffb1(0x1ef)&&this['replaceVariablesInObject'](_0x48747a[_0x35eb91],_0x24caec);}async['goNextblock'](_0x588a58,_0x52729d){const _0xbe94c=a0_0x5c0bdf;let _0x1651d1=_0x52729d[_0xbe94c(0x2c7)];if(_0x588a58[_0xbe94c(0x1cf)]&&_0x588a58['chatLog'][_0xbe94c(0x462)]){let _0x51e2e3=_0x588a58[_0xbe94c(0x1cf)][_0xbe94c(0x462)][_0xbe94c(0x755)](_0x2a563c=>String(_0x2a563c[_0xbe94c(0x721)])===String(_0x1651d1))[_0xbe94c(0x55a)]();if(_0x51e2e3&&_0x51e2e3[_0xbe94c(0x812)]&&_0x52729d[_0xbe94c(0x580)])return _0x588a58[_0xbe94c(0x3ae)]=_0xbe94c(0x36f),await this['saveConversationToDatabase'](_0x588a58),null;}if(_0x52729d[_0xbe94c(0x5a8)]===_0xbe94c(0x2ef)&&_0x52729d['uazapi']['command']===_0xbe94c(0x2c2)&&_0x588a58[_0xbe94c(0x732)])return _0x588a58['chatLog']['lastBlockId']=_0x1651d1,await this['saveConversationToDatabase'](_0x588a58),null;let _0xf05bb4=await this[_0xbe94c(0x73b)](_0x588a58);if(_0x588a58[_0xbe94c(0x1cf)]&&_0x588a58[_0xbe94c(0x1cf)][_0xbe94c(0x462)]){let _0x15b1ac=_0x588a58[_0xbe94c(0x1cf)]['blockLogs']['filter'](_0x1ca4de=>String(_0x1ca4de['blockId'])===String(_0x1651d1))[_0xbe94c(0x235)];if(_0x52729d[_0xbe94c(0x90f)]!==void 0x0&&_0x15b1ac>=_0x52729d[_0xbe94c(0x90f)]){let _0x374fd1=Date[_0xbe94c(0x435)](),_0x3ae704=_0x52729d[_0xbe94c(0x8e6)]??0xa;isNaN(_0x3ae704)&&(_0x3ae704=0xa);let _0x1812a7=_0x374fd1+_0x3ae704*0x3c*0x3e8,_0x4e6f47={'newStoppedUntil':_0x1812a7};return this['updateStopChat'](_0x588a58,_0x1812a7),this['updateConversation'](_0x588a58,_0x52729d,_0x4e6f47,!0x0),null;}}_0xf05bb4&&_0xf05bb4[_0xbe94c(0x5a8)]!==_0xbe94c(0x3ce)&&await this[_0xbe94c(0x3a5)](_0x588a58,_0xf05bb4),_0xf05bb4||await this['saveConversationToDatabase'](_0x588a58),_0xf05bb4&&_0xf05bb4[_0xbe94c(0x5a8)]===_0xbe94c(0x3ce)&&(_0x588a58[_0xbe94c(0x1cf)][_0xbe94c(0x26c)]=_0x1651d1,await this[_0xbe94c(0x2a5)](_0x588a58));}async[a0_0x5c0bdf(0x3a5)](_0x32a281,_0x4bdf8d){const _0xda8e=a0_0x5c0bdf;try{let _0x27f740=_0x4bdf8d['type'];this[_0xda8e(0x241)][_0xda8e(0x8af)](this[_0xda8e(0x7d7)]+'\x20('+this['instance'][_0xda8e(0x3c3)]+_0xda8e(0x574)+_0x27f740);let _0x47022b={'uazapi':()=>this['processUazapi'](_0x32a281,_0x4bdf8d),'save':()=>this[_0xda8e(0x1bd)](_0x32a281,_0x4bdf8d),'stop':()=>this[_0xda8e(0x6ac)](_0x32a281,_0x4bdf8d),'condition':()=>this[_0xda8e(0x4d1)](_0x32a281,_0x4bdf8d),'varedit':()=>this[_0xda8e(0x8a2)](_0x32a281,_0x4bdf8d),'apirequest':()=>this['processApiRequest'](_0x32a281,_0x4bdf8d),'goToFlow':()=>this[_0xda8e(0x6a9)](_0x32a281,_0x4bdf8d),'scheduleFlow':()=>this[_0xda8e(0x8cd)](_0x32a281,_0x4bdf8d),'awaitSeconds':()=>this[_0xda8e(0x1fb)](_0x32a281,_0x4bdf8d),'clearVariables':()=>this[_0xda8e(0x89b)](_0x32a281,_0x4bdf8d)}[_0x27f740];_0x47022b&&await _0x47022b();}catch(_0x4a61a2){this[_0xda8e(0x241)]['error'](this['instanceName']+'\x20('+this[_0xda8e(0x7fc)]['wuid']+_0xda8e(0x391)+(_0x4a61a2 instanceof Error?_0x4a61a2[_0xda8e(0x7d9)]:JSON['stringify'](_0x4a61a2,null,0x2)));}}async[a0_0x5c0bdf(0x1fb)](_0x3e131e,_0x1e07cb){const _0x1fcd52=a0_0x5c0bdf;if(this[_0x1fcd52(0x241)][_0x1fcd52(0x8af)](this['instanceName']+'\x20('+this[_0x1fcd52(0x7fc)][_0x1fcd52(0x3c3)]+_0x1fcd52(0x305)),!_0x3e131e||!_0x1e07cb)return this[_0x1fcd52(0x241)][_0x1fcd52(0x812)](this[_0x1fcd52(0x7d7)]+'\x20('+this[_0x1fcd52(0x7fc)][_0x1fcd52(0x3c3)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x490d40=+_0x1e07cb['awaitSeconds'];isNaN(_0x490d40)&&(_0x490d40=0x0),_0x490d40=Math[_0x1fcd52(0x4b2)](_0x490d40,0x3c),await(0x0,w['delay'])(_0x490d40*0x3e8);let _0x3ba12c={'moreLogs':['Pausado\x20por\x20'+_0x490d40+_0x1fcd52(0x1b9)]};return await this[_0x1fcd52(0x25f)](_0x3e131e,_0x1e07cb,_0x3ba12c),_0x490d40;}async['processclearVariables'](_0x15a504,_0x27172a){const _0x29e1af=a0_0x5c0bdf;if(this[_0x29e1af(0x241)][_0x29e1af(0x8af)](this['instanceName']+'\x20('+this[_0x29e1af(0x7fc)][_0x29e1af(0x3c3)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x15a504||!_0x27172a)return this[_0x29e1af(0x241)]['error'](this[_0x29e1af(0x7d7)]+'\x20('+this['instance'][_0x29e1af(0x3c3)]+_0x29e1af(0x878)),null;let _0x501387=[];if(_0x27172a[_0x29e1af(0x5cb)][_0x29e1af(0x55c)]()===_0x29e1af(0x4c6)){let _0xccd0e5=[_0x29e1af(0x62f),_0x29e1af(0x20b),_0x29e1af(0x243),'_activedCount',_0x29e1af(0x93c),_0x29e1af(0x2c7),_0x29e1af(0x8b5)];_0x501387=Object[_0x29e1af(0x2ec)](_0x15a504[_0x29e1af(0x1cf)][_0x29e1af(0x263)])[_0x29e1af(0x755)](_0x261e0a=>_0x261e0a[_0x29e1af(0x6bb)]('_')&&!_0xccd0e5[_0x29e1af(0x4ee)](_0x261e0a));}else _0x501387=_0x27172a[_0x29e1af(0x5cb)][_0x29e1af(0x2a9)]('|')['map'](_0x319a81=>(_0x319a81=_0x319a81['replace'](/[{}]/g,'')[_0x29e1af(0x55c)](),_0x319a81[_0x29e1af(0x6bb)]('_')?_0x319a81:'_'+_0x319a81));let _0x169504=[];_0x501387[_0x29e1af(0x91c)](_0x3e14d9=>{const _0x341ab9=_0x29e1af;_0x3e14d9 in _0x15a504[_0x341ab9(0x1cf)]['realVariables']&&(delete _0x15a504[_0x341ab9(0x1cf)][_0x341ab9(0x263)][_0x3e14d9],_0x169504['push'](_0x3e14d9));}),_0x169504[_0x29e1af(0x235)]>0x0?this['logger'][_0x29e1af(0x8af)](this[_0x29e1af(0x7d7)]+'\x20('+this[_0x29e1af(0x7fc)][_0x29e1af(0x3c3)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x169504[_0x29e1af(0x938)](',\x20')):this[_0x29e1af(0x241)][_0x29e1af(0x8af)](this['instanceName']+'\x20('+this[_0x29e1af(0x7fc)]['wuid']+_0x29e1af(0x4e5));let _0x28cac={'moreLogs':[_0x29e1af(0x322)+_0x169504[_0x29e1af(0x938)](',\x20')]};return await this[_0x29e1af(0x25f)](_0x15a504,_0x27172a,_0x28cac),null;}async[a0_0x5c0bdf(0x8cd)](_0x242b85,_0x32cd22){const _0x3679d1=a0_0x5c0bdf;if(this[_0x3679d1(0x241)]['verbose'](this[_0x3679d1(0x7d7)]+'\x20('+this[_0x3679d1(0x7fc)][_0x3679d1(0x3c3)]+_0x3679d1(0x471)),!_0x242b85||!_0x32cd22)return this['logger']['error'](this[_0x3679d1(0x7d7)]+'\x20('+this[_0x3679d1(0x7fc)][_0x3679d1(0x3c3)]+_0x3679d1(0x878)),null;let _0x54750b=_0x242b85['remoteJid'];_0x32cd22[_0x3679d1(0x895)]['remoteJid']&&_0x32cd22['scheduleFlow'][_0x3679d1(0x57e)][_0x3679d1(0x55c)]()!==''&&(_0x54750b=_0x32cd22['uazapi'][_0x3679d1(0x57e)][_0x3679d1(0x55c)]());let _0x23b887=_0x32cd22['scheduleFlow'][_0x3679d1(0x292)]*0xea60,_0x527806=Date[_0x3679d1(0x435)]()+_0x23b887,_0x1de71a={'status':'scheduled','info':_0x3679d1(0x341)+_0x242b85['name'],'remoteJids':[_0x54750b],'when':_0x527806,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x3679d1(0x6b5),'flowName':_0x32cd22[_0x3679d1(0x895)][_0x3679d1(0x948)]};this[_0x3679d1(0x29b)](_0x1de71a);let _0x214dfb=await this[_0x3679d1(0x73b)](_0x242b85);_0x214dfb&&await this[_0x3679d1(0x3a5)](_0x242b85,_0x214dfb);}async[a0_0x5c0bdf(0x6a9)](_0x46b5c3,_0x8322c6){const _0x855252=a0_0x5c0bdf;if(this[_0x855252(0x241)][_0x855252(0x8af)](this[_0x855252(0x7d7)]+'\x20('+this[_0x855252(0x7fc)]['wuid']+_0x855252(0x838)),!_0x46b5c3||!_0x8322c6)return this[_0x855252(0x241)][_0x855252(0x812)](this['instanceName']+'\x20('+this[_0x855252(0x7fc)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x855252(0x25f)](_0x46b5c3,_0x8322c6,{},!0x0,!0x0);let _0x6fec8f=_0x8322c6[_0x855252(0x2c6)];_0x46b5c3=await this[_0x855252(0x412)](_0x6fec8f,_0x46b5c3[_0x855252(0x57e)],_0x46b5c3[_0x855252(0x1cf)][_0x855252(0x263)]);let _0x2c4528=await this[_0x855252(0x73b)](_0x46b5c3);_0x2c4528&&await this[_0x855252(0x3a5)](_0x46b5c3,_0x2c4528);}async[a0_0x5c0bdf(0x412)](_0x5a0068,_0x91281,_0x34e358){const _0x140ec9=a0_0x5c0bdf;this[_0x140ec9(0x241)][_0x140ec9(0x8af)](this[_0x140ec9(0x7d7)]+'\x20('+this[_0x140ec9(0x7fc)][_0x140ec9(0x3c3)]+_0x140ec9(0x257));try{let _0x242476=this[_0x140ec9(0x587)][_0x140ec9(0x3f3)][_0x140ec9(0x50f)](_0xc84c6b=>_0xc84c6b[_0x140ec9(0x2c7)]===_0x5a0068);_0x242476||this[_0x140ec9(0x241)]['error'](this[_0x140ec9(0x7d7)]+'\x20('+this[_0x140ec9(0x7fc)][_0x140ec9(0x3c3)]+_0x140ec9(0x52d)+_0x5a0068+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x30be87=await this[_0x140ec9(0x8ea)][_0x140ec9(0x6b5)][_0x140ec9(0x81e)]({'where':{'_id':_0x242476[_0x140ec9(0x2c7)]}});if(!_0x30be87||!_0x30be87['whoCanUse']?.['includes'](this[_0x140ec9(0x7fc)][_0x140ec9(0x3c3)]))throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x140ec9(0x3c3)]+'):\x20Flow\x20\x27'+_0x5a0068+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x140ec9(0x1b0)+_0x5a0068+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x62b611=require('mongodb')[_0x140ec9(0x624)],_0x3334eb=Date[_0x140ec9(0x435)](),_0x33f52a=_0x140ec9(0x929),_0x12c61c={},_0x1180cf={},_0x36d940=this[_0x140ec9(0x587)]['flows'][_0x140ec9(0x50f)](_0x3c67f5=>_0x3c67f5[_0x140ec9(0x2c7)]===_0x30be87['_id']?.[_0x140ec9(0x281)]()),_0x512969=_0x36d940?.[_0x140ec9(0x454)]??_0x30be87[_0x140ec9(0x454)]??0x0,_0x1c1616=_0x36d940?.['readMessages']??_0x30be87[_0x140ec9(0x3f5)]??!0x1,_0x193a95={'flowId':_0x242476['_id'],'readMessages':_0x242476['readMessages'],..._0x30be87,'chatLog':null},_0x429f3c={'lastReceivedMessage':_0x12c61c,'lastSendMessage':_0x1180cf,'lastBlockId':_0x33f52a,'lastCondition':!0x0,'realVariables':_0x34e358};_0x193a95['chatLog']=_0x429f3c,_0x193a95[_0x140ec9(0x1cf)][_0x140ec9(0x263)]={..._0x34e358},delete _0x193a95[_0x140ec9(0x2c7)],_0x193a95['_id']=new _0x62b611(),_0x193a95['lastInteraction']=_0x3334eb,_0x193a95[_0x140ec9(0x3ae)]=_0x140ec9(0x2ad),_0x193a95[_0x140ec9(0x57e)]=_0x91281,_0x193a95[_0x140ec9(0x454)]=_0x512969,_0x193a95[_0x140ec9(0x3f5)]=_0x1c1616;let _0x51941a=await this[_0x140ec9(0x8ea)][_0x140ec9(0x848)][_0x140ec9(0x411)](_0x193a95['_id'],_0x193a95,this[_0x140ec9(0x7fc)][_0x140ec9(0x3c3)]);return this[_0x140ec9(0x241)][_0x140ec9(0x8af)](this[_0x140ec9(0x7d7)]+'\x20('+this[_0x140ec9(0x7fc)][_0x140ec9(0x3c3)]+_0x140ec9(0x3cf)),_0x51941a?_0x193a95:null;}catch(_0x398180){let _0x3fe02c=_0x140ec9(0x4b9),_0x3928ec=_0x398180 instanceof Error?_0x398180[_0x140ec9(0x7d9)]:typeof _0x398180=='object'?JSON[_0x140ec9(0x86d)](_0x398180):_0x398180,_0x19675d=_0x3fe02c+':\x20'+_0x3928ec;throw this['logger'][_0x140ec9(0x812)](this['instanceName']+'\x20('+this[_0x140ec9(0x7fc)][_0x140ec9(0x3c3)]+_0x140ec9(0x4a5)+_0x19675d),new m(_0x19675d);}}async[a0_0x5c0bdf(0x55e)](_0x5e21ab,_0xbe87db){const _0x1dc555=a0_0x5c0bdf;let _0x448615,_0x1bc6e1;try{let _0x2fa9b5=_0xbe87db[_0x1dc555(0x6a0)];if(!_0x2fa9b5||!_0x2fa9b5['url']||!_0x2fa9b5['method'])throw new Error(_0x1dc555(0x24a));let _0xa40db3;(['https://api.openai.com/v1/audio/speech',_0x1dc555(0x31b),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x1dc555(0x4d6)](_0x3cec5f=>_0x2fa9b5['url']['includes'](_0x3cec5f))||_0x2fa9b5[_0x1dc555(0x291)])&&(_0xa40db3='arraybuffer');let _0x35d556='\u205f',_0x5b1336;try{_0x5b1336=JSON[_0x1dc555(0x4d9)](_0x2fa9b5['bodyString']['replace'](new RegExp(_0x35d556,'g'),''));}catch(_0x7a2338){throw _0x7a2338;}let _0x22b096={'method':_0x2fa9b5['method'],'url':_0x2fa9b5[_0x1dc555(0x44c)],'headers':_0x2fa9b5[_0x1dc555(0x6ba)]||{},..._0x2fa9b5['method'][_0x1dc555(0x2f3)]()!=='GET'&&_0x2fa9b5[_0x1dc555(0x64e)]?{'data':JSON[_0x1dc555(0x4d9)](_0x2fa9b5[_0x1dc555(0x64e)][_0x1dc555(0x8df)](new RegExp(_0x35d556,'g'),''))}:{},..._0xa40db3&&{'responseType':_0xa40db3}},_0x2684f3=await(0x0,K[_0x1dc555(0x32c)])(_0x22b096),_0x470c20=_0x2684f3[_0x1dc555(0x338)]['content-type'];if(_0x470c20&&_0x470c20['includes'](_0x1dc555(0x886))||typeof _0x2684f3[_0x1dc555(0x8db)]==_0x1dc555(0x749)){if(typeof _0x2684f3[_0x1dc555(0x8db)]==_0x1dc555(0x749)){let _0x446676=_0x2684f3[_0x1dc555(0x8db)][_0x1dc555(0x8df)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x1dc555(0x55c)]();try{_0x448615=JSON[_0x1dc555(0x4d9)](_0x446676);}catch(_0x101424){this[_0x1dc555(0x241)]['error'](_0x1dc555(0x47e)+_0x101424['message']),_0x448615={'_apiResponse':_0x2684f3['data']};}}else _0x448615=_0x2684f3[_0x1dc555(0x8db)];let _0x2433af=_0x5e21ab[_0x1dc555(0x1cf)][_0x1dc555(0x263)],_0x3f19f2=this[_0x1dc555(0x22c)](_0x448615);return Object['assign'](_0x2433af,_0x3f19f2),_0x5e21ab['chatLog'][_0x1dc555(0x263)]=_0x2433af,_0x1bc6e1={'error':!0x1,'apiResponse':_0x448615},this['updateConversation'](_0x5e21ab,_0xbe87db,_0x1bc6e1),_0x448615;}if(_0x470c20&&(_0x470c20[_0x1dc555(0x4ee)](_0x1dc555(0x403))||_0x470c20['includes'](_0x1dc555(0x2cc))||_0x470c20[_0x1dc555(0x4ee)](_0x1dc555(0x250))||_0x470c20[_0x1dc555(0x4ee)](_0x1dc555(0x302)))){this[_0x1dc555(0x241)][_0x1dc555(0x8af)](this[_0x1dc555(0x7d7)]+'\x20('+this['instance'][_0x1dc555(0x3c3)]+_0x1dc555(0x2cf)+_0x470c20);let _0x47052e=(0x0,Q['v4'])(),_0x115098='',_0x5b94a7={'image/jpeg':_0x1dc555(0x4d8),'image/png':_0x1dc555(0x625),'image/gif':'.gif','image/webp':_0x1dc555(0x6ed),'image/svg+xml':'.svg','audio/mpeg':_0x1dc555(0x28c),'audio/ogg':'.ogg','audio/wav':_0x1dc555(0x688),'video/mp4':'.mp4','video/webm':'.webm','video/ogg':_0x1dc555(0x7ff),'text/plain':_0x1dc555(0x376),'application/pdf':'.pdf','application/msword':_0x1dc555(0x58c),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x1dc555(0x60c),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1dc555(0x5a2)};_0x5b94a7[_0x470c20]?(_0x115098=_0x5b94a7[_0x470c20],this[_0x1dc555(0x241)][_0x1dc555(0x8af)](this[_0x1dc555(0x7d7)]+'\x20('+this[_0x1dc555(0x7fc)][_0x1dc555(0x3c3)]+_0x1dc555(0x429)+_0x115098)):(_0x115098='.error',this[_0x1dc555(0x241)][_0x1dc555(0x8af)](this[_0x1dc555(0x7d7)]+'\x20('+this[_0x1dc555(0x7fc)]['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x115098)),_0x47052e+=_0x115098,this[_0x1dc555(0x241)][_0x1dc555(0x8af)](this[_0x1dc555(0x7d7)]+'\x20('+this[_0x1dc555(0x7fc)]['wuid']+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x47052e);let _0x4b5ac4=this[_0x1dc555(0x247)][_0x1dc555(0x1fe)](_0x1dc555(0x1df))[_0x1dc555(0x40c)];if(!_0x4b5ac4){let _0x548e8c=this['configService']['get'](_0x1dc555(0x594));_0x4b5ac4=_0x1dc555(0x560)+(_0x548e8c&&_0x548e8c[_0x1dc555(0x728)][_0x1dc555(0x2a9)]('/')[0x4]);}let _0x41f164=Buffer[_0x1dc555(0x4ea)](_0x2684f3['data']);await this[_0x1dc555(0x726)](_0x41f164,_0x47052e);let _0x3e1d4e='/media/'+_0x47052e;_0x3e1d4e=''+_0x4b5ac4+_0x3e1d4e,_0x448615={'fileUrl':_0x3e1d4e},_0x5e21ab['chatLog']['realVariables'][_0x1dc555(0x2e8)]=_0x3e1d4e;let _0x5d81cb=_0x5e21ab[_0x1dc555(0x1cf)]['realVariables'],_0x37dcd6=this[_0x1dc555(0x22c)](_0x448615);return Object[_0x1dc555(0x2bb)](_0x5d81cb,_0x37dcd6),_0x5e21ab[_0x1dc555(0x1cf)]['realVariables']=_0x5d81cb,_0x1bc6e1={'error':!0x1,'apiResponse':{'fileUrl':_0x3e1d4e}},this[_0x1dc555(0x25f)](_0x5e21ab,_0xbe87db,_0x1bc6e1),_0x448615;}}catch(_0x23dcdb){this[_0x1dc555(0x241)][_0x1dc555(0x812)](_0x1dc555(0x7bb)+_0x23dcdb[_0x1dc555(0x7d9)]),_0x23dcdb[_0x1dc555(0x2b9)]&&(_0x448615=_0x23dcdb['response']['data']);let _0x38b600=_0x5e21ab[_0x1dc555(0x1cf)]['realVariables'],_0x220d6a=this[_0x1dc555(0x22c)](_0x448615);return Object[_0x1dc555(0x2bb)](_0x38b600,_0x220d6a),_0x5e21ab[_0x1dc555(0x1cf)][_0x1dc555(0x263)]=_0x38b600,_0x1bc6e1={'error':!0x0,'errorLog':_0x23dcdb[_0x1dc555(0x281)](),'apiResponse':_0x448615},this['updateConversation'](_0x5e21ab,_0xbe87db,_0x1bc6e1),{'success':!0x1};}}['applyvaredit'](_0xd5e571,_0x50371a){const _0x1df47d=a0_0x5c0bdf;let _0x545fca=_0x479a04=>{const _0x117f5c=a0_0x34cb;let _0x366fff=_0x479a04['replace'](/[^0-9.,-]/g,'')[_0x117f5c(0x8df)](',','.'),_0x47ab0e=parseFloat(_0x366fff);return isNaN(_0x47ab0e)?null:_0x47ab0e;},_0x12694b=_0x50371a[_0x1df47d(0x69c)],_0x4e1020=_0x50371a['secondValue'];typeof _0x12694b==_0x1df47d(0x749)&&(_0x12694b=this[_0x1df47d(0x763)](_0x12694b,_0xd5e571[_0x1df47d(0x1cf)][_0x1df47d(0x263)])??''),typeof _0x4e1020==_0x1df47d(0x749)&&(_0x4e1020=this[_0x1df47d(0x763)](_0x4e1020,_0xd5e571[_0x1df47d(0x1cf)]['realVariables'])??'');let _0x2d7431=null;if(!_0x50371a[_0x1df47d(0x5f0)])return null;switch(this[_0x1df47d(0x241)][_0x1df47d(0x8af)](this[_0x1df47d(0x7d7)]+'\x20('+this[_0x1df47d(0x7fc)]['wuid']+_0x1df47d(0x548)+_0x12694b),this[_0x1df47d(0x241)][_0x1df47d(0x8af)](this[_0x1df47d(0x7d7)]+'\x20('+this['instance']['wuid']+_0x1df47d(0x1ea)+_0x4e1020),_0x50371a['editOperator']){case'+':case'-':case'*':case'/':let _0x5abb74=_0x545fca(_0x12694b||'0'),_0x38d101=_0x545fca(_0x4e1020||'0');if(_0x5abb74===null)return null;switch(_0x50371a[_0x1df47d(0x5f0)]){case'+':_0x2d7431=_0x5abb74+(_0x38d101??0x0);break;case'-':_0x2d7431=_0x5abb74-(_0x38d101??0x0);break;case'*':_0x2d7431=_0x5abb74*(_0x38d101??0x1);break;case'/':_0x38d101!==0x0&&(_0x2d7431=_0x5abb74/(_0x38d101??0x1));break;}break;case _0x1df47d(0x4a9):case _0x1df47d(0x905):let _0x3990ec=_0x4e1020,_0x381ec8=_0x50371a[_0x1df47d(0x782)];if(typeof _0x381ec8==_0x1df47d(0x749)&&(_0x381ec8=this[_0x1df47d(0x763)](_0x381ec8,_0xd5e571['chatLog']['realVariables'])??''),_0x3990ec&&_0x381ec8!==void 0x0){let _0x148f72=_0x50371a[_0x1df47d(0x5f0)]===_0x1df47d(0x4a9)?new RegExp(_0x3990ec['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x1df47d(0x628)),'g'):new RegExp(_0x3990ec,'g');_0x2d7431=_0x12694b[_0x1df47d(0x8df)](_0x148f72,_0x381ec8);}else console[_0x1df47d(0x476)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x1df47d(0x707):_0x2d7431=_0x4e1020;break;case _0x1df47d(0x6b0):let _0x4b33c4=_0x12694b[_0x1df47d(0x211)](new RegExp(_0x4e1020||''));_0x2d7431=_0x4b33c4?_0x4b33c4[0x0]:'';break;case'truncatedto':_0x2d7431=_0x12694b['slice'](0x0,parseInt(_0x4e1020||'0'));break;case'truncatedtoEnd':let _0x32fa18=parseInt(_0x4e1020||'0');_0x2d7431=_0x12694b[_0x1df47d(0x2dc)](_0x12694b[_0x1df47d(0x235)]-_0x32fa18);break;case _0x1df47d(0x45f):let _0x6a276c=_0x545fca(_0x12694b),_0x5bfaf8=parseInt(_0x4e1020||'0');_0x5bfaf8=Math[_0x1df47d(0x2df)](_0x5bfaf8),_0x6a276c!==null?_0x2d7431=_0x6a276c[_0x1df47d(0x710)](_0x1df47d(0x920),{'minimumFractionDigits':_0x5bfaf8,'maximumFractionDigits':_0x5bfaf8}):(console['warn'](_0x1df47d(0x5d9)+_0x12694b),_0x2d7431=null);break;case _0x1df47d(0x736):let _0x398821=_0x545fca(_0x12694b);_0x398821!==null?_0x2d7431=_0x398821['toLocaleString'](_0x1df47d(0x920),{'style':_0x1df47d(0x5c6),'currency':_0x1df47d(0x898)}):(console[_0x1df47d(0x476)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x12694b),_0x2d7431=null);break;case _0x1df47d(0x833):_0x2d7431=_0x12694b[_0x1df47d(0x2f3)]();break;case _0x1df47d(0x457):_0x2d7431=_0x12694b[_0x1df47d(0x781)]();break;case _0x1df47d(0x421):_0x2d7431=_0x12694b[_0x1df47d(0x2a9)]('\x20')[_0x1df47d(0x6df)](_0x257ddc=>_0x257ddc[_0x1df47d(0x30d)](0x0)[_0x1df47d(0x2f3)]()+_0x257ddc[_0x1df47d(0x2dc)](0x1)[_0x1df47d(0x781)]())[_0x1df47d(0x938)]('\x20');break;case _0x1df47d(0x5ad):_0x2d7431=JSON[_0x1df47d(0x86d)](_0x12694b);break;case _0x1df47d(0x487):_0x2d7431=_0x12694b[_0x1df47d(0x55c)]();break;default:_0x2d7431=_0x12694b;}return _0x2d7431!==null?_0x2d7431[_0x1df47d(0x281)]():null;}async[a0_0x5c0bdf(0x8a2)](_0x12aeb0,_0x2bb382){const _0x31faaf=a0_0x5c0bdf;try{let _0x3d74fa=_0x12aeb0[_0x31faaf(0x3b7)]?.[_0x31faaf(0x755)](_0x17816b=>_0x17816b['blockId']===_0x2bb382[_0x31faaf(0x2c7)]?.['toString']())||[],_0x47660c=_0x2bb382[_0x31faaf(0x744)],_0x22a634=null,_0x4cf891=[],_0x2d87b3=_0x12aeb0[_0x31faaf(0x1cf)][_0x31faaf(0x263)][_0x47660c];_0x4cf891[_0x31faaf(0x2c1)]('Valor\x20inicial:\x20\x22'+_0x2d87b3+'\x22');for(let _0x46a558 of _0x3d74fa){_0x46a558[_0x31faaf(0x69c)]=_0x2d87b3,_0x22a634=_0x46a558[_0x31faaf(0x69c)];let _0x965ac1;try{_0x965ac1=this[_0x31faaf(0x725)](_0x12aeb0,_0x46a558);}catch(_0x2d0f04){this[_0x31faaf(0x241)]['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x2d0f04[_0x31faaf(0x7d9)]);continue;}if(_0x965ac1!==null){let _0x258658='Operador:\x20\x22'+_0x46a558['editOperator']+'\x22',_0x34d32e=[_0x31faaf(0x736),'upperCase','lowerCase',_0x31faaf(0x421),_0x31faaf(0x487)];_0x46a558[_0x31faaf(0x5f0)]===_0x31faaf(0x4a9)||_0x46a558[_0x31faaf(0x5f0)]===_0x31faaf(0x905)?_0x258658+=_0x31faaf(0x415)+_0x46a558['secondValue']+_0x31faaf(0x320)+_0x46a558[_0x31faaf(0x782)]+'\x22':!_0x34d32e[_0x31faaf(0x4ee)](_0x46a558[_0x31faaf(0x5f0)])&&_0x46a558[_0x31faaf(0x480)]!==null&&_0x46a558[_0x31faaf(0x480)]!==void 0x0&&(_0x258658+=_0x31faaf(0x1c9)+_0x46a558[_0x31faaf(0x480)]+'\x22'),_0x258658+=_0x31faaf(0x8b2)+_0x965ac1+'.',_0x4cf891[_0x31faaf(0x2c1)](_0x258658);}_0x965ac1!==null&&(_0x2d87b3=_0x965ac1);}if(_0x12aeb0[_0x31faaf(0x1cf)][_0x31faaf(0x263)]&&_0x2bb382['saveVariable']){_0x12aeb0[_0x31faaf(0x1cf)][_0x31faaf(0x263)][_0x2bb382[_0x31faaf(0x744)]]=_0x2d87b3;let _0xaacc42={'variable':_0x2bb382[_0x31faaf(0x744)],'oldValue':_0x22a634,'newValue':_0x2d87b3,'moreLogs':_0x4cf891};try{this[_0x31faaf(0x25f)](_0x12aeb0,_0x2bb382,_0xaacc42);}catch(_0xd9e255){this[_0x31faaf(0x241)][_0x31faaf(0x812)](_0x31faaf(0x1c7)+_0xd9e255[_0x31faaf(0x7d9)]);}}return _0x47660c;}catch(_0x47cef4){return this[_0x31faaf(0x241)][_0x31faaf(0x812)](_0x31faaf(0x1d5)+_0x47cef4[_0x31faaf(0x7d9)]),null;}}async[a0_0x5c0bdf(0x4d1)](_0x1abc36,_0x3dc0d3){const _0x28e4a3=a0_0x5c0bdf;try{let _0x43ae2e=[],_0x4c2b7a=_0x1abc36['conditions'][_0x28e4a3(0x755)](_0x2c4607=>_0x2c4607[_0x28e4a3(0x721)]===_0x3dc0d3[_0x28e4a3(0x2c7)][_0x28e4a3(0x281)]()),_0xe58287=null,_0x4c5644=!0x1;for(let _0x59786f of _0x4c2b7a){let _0x326497=this[_0x28e4a3(0x360)](_0x1abc36,_0x59786f);_0x43ae2e[_0x28e4a3(0x2c1)](_0x28e4a3(0x5bb)+_0x59786f[_0x28e4a3(0x69c)]+_0x28e4a3(0x22b)+_0x59786f[_0x28e4a3(0x7dd)]+_0x28e4a3(0x8a5)+_0x59786f['secondValue']+_0x28e4a3(0x34e)+_0x326497),_0xe58287===null?_0xe58287=_0x326497:_0x59786f[_0x28e4a3(0x696)]==='and'?(_0xe58287=_0xe58287&&_0x326497,_0x326497||(_0x4c5644=!0x0)):_0x59786f[_0x28e4a3(0x696)]==='or'&&(_0x4c5644||(_0xe58287=_0xe58287||_0x326497));}_0xe58287===null&&(_0xe58287=!0x0);let _0x3c2373={'moreLogs':_0x43ae2e};_0x1abc36[_0x28e4a3(0x1cf)][_0x28e4a3(0x7f2)]=_0xe58287,await this[_0x28e4a3(0x25f)](_0x1abc36,_0x3dc0d3,_0x3c2373);}catch(_0x2eb9b8){this[_0x28e4a3(0x241)][_0x28e4a3(0x812)](this['instanceName']+'\x20('+this[_0x28e4a3(0x7fc)][_0x28e4a3(0x3c3)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x2eb9b8 instanceof Error?_0x2eb9b8[_0x28e4a3(0x7d9)]:JSON[_0x28e4a3(0x86d)](_0x2eb9b8,null,0x2)));}}[a0_0x5c0bdf(0x360)](_0x431504,_0x2865b0){const _0x466659=a0_0x5c0bdf;let _0x291e6c=_0x2865b0[_0x466659(0x69c)],_0x1f9c40=_0x2865b0[_0x466659(0x480)];typeof _0x291e6c==_0x466659(0x749)&&(_0x291e6c=this['replaceVariables'](_0x291e6c,_0x431504['chatLog']['realVariables'])??''),typeof _0x1f9c40=='string'&&(_0x1f9c40=this[_0x466659(0x763)](_0x1f9c40,_0x431504[_0x466659(0x1cf)][_0x466659(0x263)])??'');try{switch(_0x2865b0['expression']){case _0x466659(0x57f):return _0x291e6c===_0x1f9c40;case _0x466659(0x472):return _0x291e6c!==_0x1f9c40;case _0x466659(0x788):return this['contains'](_0x291e6c,_0x1f9c40);case'notContains':return!this['contains'](_0x291e6c,_0x1f9c40);case'greater':return parseFloat(_0x291e6c)>parseFloat(_0x1f9c40);case'less':return parseFloat(_0x291e6c)<parseFloat(_0x1f9c40);case _0x466659(0x6b4):return _0x291e6c!=='';case _0x466659(0x87a):return _0x291e6c==='';case _0x466659(0x76a):return new RegExp(_0x1f9c40)[_0x466659(0x2fd)](_0x291e6c);case _0x466659(0x741):return!new RegExp(_0x1f9c40)['test'](_0x291e6c);default:return!0x1;}}catch(_0x39ae10){return this[_0x466659(0x241)][_0x466659(0x812)](_0x466659(0x534)+_0x39ae10),!0x1;}}[a0_0x5c0bdf(0x788)](_0x311077,_0x359abd){const _0x2b2f6b=a0_0x5c0bdf;if(_0x311077===_0x359abd&&/^\d+$/[_0x2b2f6b(0x2fd)](_0x311077))return!0x0;if(this['isListOfNumbers'](_0x311077)&&/^\d+$/[_0x2b2f6b(0x2fd)](_0x359abd)){let _0xb9a39d=_0x311077[_0x2b2f6b(0x2a9)](',')[_0x2b2f6b(0x6df)](_0x246ab2=>parseInt(_0x246ab2[_0x2b2f6b(0x55c)]())),_0x16fec9=parseInt(_0x359abd);return _0xb9a39d[_0x2b2f6b(0x4ee)](_0x16fec9);}return _0x311077[_0x2b2f6b(0x4ee)](_0x359abd);}['isListOfNumbers'](_0x5815de){const _0x236783=a0_0x5c0bdf;return/^\d+(,\d+)*$/[_0x236783(0x2fd)](_0x5815de);}[a0_0x5c0bdf(0x55f)](_0x1c5071){const _0x431b76=a0_0x5c0bdf;let _0x2ce224=!0x0,_0x3cc729=null;for(let _0x221600 of _0x1c5071){let _0x126137=this['evaluateConditionTest'](_0x221600);if(_0x3cc729==='or'&&_0x126137){_0x2ce224=!0x0;break;}if(_0x3cc729===_0x431b76(0x584)&&!_0x126137){_0x2ce224=!0x1;break;}_0x3cc729=_0x221600[_0x431b76(0x696)];}return _0x2ce224;}[a0_0x5c0bdf(0x1af)](_0x4fe597){const _0x3e3691=a0_0x5c0bdf;let _0x369cd3=_0x4fe597[_0x3e3691(0x69c)],_0x5a7baa=_0x4fe597[_0x3e3691(0x480)];try{switch(_0x4fe597[_0x3e3691(0x7dd)]){case _0x3e3691(0x57f):return String(_0x369cd3)===String(_0x5a7baa);case _0x3e3691(0x472):return String(_0x369cd3)!==String(_0x5a7baa);case _0x3e3691(0x788):return String(_0x369cd3)[_0x3e3691(0x4ee)](String(_0x5a7baa));case'notContains':return!String(_0x369cd3)[_0x3e3691(0x4ee)](String(_0x5a7baa));case _0x3e3691(0x3ed):return parseFloat(String(_0x369cd3))>parseFloat(String(_0x5a7baa));case _0x3e3691(0x6d0):return parseFloat(String(_0x369cd3))<parseFloat(String(_0x5a7baa));case _0x3e3691(0x6b4):return String(_0x369cd3)!=='';case _0x3e3691(0x87a):return String(_0x369cd3)==='';case _0x3e3691(0x76a):return new RegExp(String(_0x5a7baa))[_0x3e3691(0x2fd)](String(_0x369cd3));case _0x3e3691(0x741):return!new RegExp(String(_0x5a7baa))[_0x3e3691(0x2fd)](String(_0x369cd3));default:return!0x1;}}catch(_0x595fdc){return this[_0x3e3691(0x241)][_0x3e3691(0x812)](_0x3e3691(0x534)+_0x595fdc),!0x1;}}async['saveTextReply'](_0x1eae40,_0x4dc66b){const _0x47fbdf=a0_0x5c0bdf;if(this[_0x47fbdf(0x241)][_0x47fbdf(0x8af)](this[_0x47fbdf(0x7d7)]+'\x20('+this[_0x47fbdf(0x7fc)][_0x47fbdf(0x3c3)]+_0x47fbdf(0x784)),!_0x1eae40||!_0x4dc66b)return this[_0x47fbdf(0x241)][_0x47fbdf(0x812)](this['instanceName']+'\x20('+this[_0x47fbdf(0x7fc)][_0x47fbdf(0x3c3)]+_0x47fbdf(0x878)),null;let _0x38a14f=_0x1eae40[_0x47fbdf(0x1cf)][_0x47fbdf(0x783)]['key']['id'];this[_0x47fbdf(0x241)]['verbose'](this['instanceName']+'\x20('+this[_0x47fbdf(0x7fc)][_0x47fbdf(0x3c3)]+_0x47fbdf(0x4b4)+_0x38a14f);let _0x36412b={'key':{'id':_0x38a14f}},_0x22da8c=_0x4dc66b[_0x47fbdf(0x744)];_0x1eae40[_0x47fbdf(0x1cf)]['realVariables']['_'+_0x22da8c+_0x47fbdf(0x225)]=null,_0x1eae40[_0x47fbdf(0x1cf)]['realVariables']['_'+_0x22da8c+_0x47fbdf(0x70a)]=null,_0x1eae40[_0x47fbdf(0x1cf)][_0x47fbdf(0x263)]['_'+_0x22da8c+_0x47fbdf(0x633)]=null,_0x1eae40[_0x47fbdf(0x1cf)][_0x47fbdf(0x263)]['_'+_0x22da8c+_0x47fbdf(0x669)]=_0x1eae40['chatLog'][_0x47fbdf(0x783)][_0x47fbdf(0x5a8)];try{let _0x59c179=await this[_0x47fbdf(0x672)](_0x36412b);this[_0x47fbdf(0x241)]['verbose'](this[_0x47fbdf(0x7d7)]+'\x20('+this['instance'][_0x47fbdf(0x3c3)]+_0x47fbdf(0x5e0)),_0x1eae40[_0x47fbdf(0x1cf)][_0x47fbdf(0x263)]['_'+_0x22da8c+_0x47fbdf(0x2fc)]=_0x59c179[_0x47fbdf(0x2e8)],_0x1eae40[_0x47fbdf(0x1cf)][_0x47fbdf(0x263)]['_'+_0x22da8c+'.mimetype']=_0x59c179[_0x47fbdf(0x373)];let _0x49206e=_0x59c179[_0x47fbdf(0x373)][_0x47fbdf(0x211)](/\/(\w+)$/),_0x78690=_0x49206e?_0x49206e[0x1]:null;_0x1eae40[_0x47fbdf(0x1cf)]['realVariables']['_'+_0x22da8c+_0x47fbdf(0x633)]=_0x78690,this[_0x47fbdf(0x241)][_0x47fbdf(0x8af)](this[_0x47fbdf(0x7d7)]+'\x20('+this['instance'][_0x47fbdf(0x3c3)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x22da8c+'\x27.');}catch(_0x50985a){this[_0x47fbdf(0x241)][_0x47fbdf(0x812)](this[_0x47fbdf(0x7d7)]+'\x20('+this[_0x47fbdf(0x7fc)][_0x47fbdf(0x3c3)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x50985a[_0x47fbdf(0x7d9)]);}let _0x2e12f8=_0x1eae40['chatLog'][_0x47fbdf(0x783)][_0x47fbdf(0x3ac)]||_0x1eae40['chatLog'][_0x47fbdf(0x783)][_0x47fbdf(0x527)]||_0x1eae40['chatLog'][_0x47fbdf(0x783)][_0x47fbdf(0x626)];try{_0x1eae40[_0x47fbdf(0x1cf)][_0x47fbdf(0x263)]||(_0x1eae40[_0x47fbdf(0x1cf)][_0x47fbdf(0x263)]={});let _0x143c2a=_0x1eae40[_0x47fbdf(0x1cf)][_0x47fbdf(0x263)][_0x22da8c];_0x1eae40[_0x47fbdf(0x1cf)]['realVariables'][_0x22da8c]=_0x2e12f8;let _0x1310dc={'variable':_0x22da8c,'oldValue':_0x143c2a,'newValue':_0x2e12f8};this[_0x47fbdf(0x25f)](_0x1eae40,_0x4dc66b,_0x1310dc),this[_0x47fbdf(0x241)][_0x47fbdf(0x8af)](this[_0x47fbdf(0x7d7)]+'\x20('+this[_0x47fbdf(0x7fc)][_0x47fbdf(0x3c3)]+_0x47fbdf(0x90d));}catch(_0x1e7020){let _0x430a37={'error':!0x0,'errorLog':_0x1e7020[_0x47fbdf(0x281)]()};return this[_0x47fbdf(0x25f)](_0x1eae40,_0x4dc66b,_0x430a37),this[_0x47fbdf(0x241)][_0x47fbdf(0x812)](this['instanceName']+'\x20('+this['instance'][_0x47fbdf(0x3c3)]+_0x47fbdf(0x6f1)+(_0x1e7020 instanceof Error?_0x1e7020[_0x47fbdf(0x7d9)]:JSON['stringify'](_0x1e7020,null,0x2))),null;}}async[a0_0x5c0bdf(0x6ac)](_0xbbc673,_0x432432){const _0x311860=a0_0x5c0bdf;if(this['logger'][_0x311860(0x8af)](this[_0x311860(0x7d7)]+'\x20('+this[_0x311860(0x7fc)]['wuid']+_0x311860(0x470)),!_0xbbc673||!_0x432432)return this[_0x311860(0x241)][_0x311860(0x812)](this[_0x311860(0x7d7)]+'\x20('+this[_0x311860(0x7fc)][_0x311860(0x3c3)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x43c81c=Date['now'](),_0x8d9ad5=parseInt(_0x432432[_0x311860(0x3f9)],0xa);if(isNaN(_0x8d9ad5))return this['logger']['error'](this['instanceName']+'\x20('+this[_0x311860(0x7fc)]['wuid']+_0x311860(0x2a0)),null;let _0x2cd2cd={'newStoppedUntil':_0x43c81c+_0x8d9ad5*0x3c*0x3e8};return await this[_0x311860(0x25f)](_0xbbc673,_0x432432,_0x2cd2cd,!0x0),null;}async[a0_0x5c0bdf(0x7f9)](_0x24c30e,_0x35c3a6){const _0x2f5b13=a0_0x5c0bdf;try{switch(_0x35c3a6[_0x2f5b13(0x2ef)][_0x2f5b13(0x5f4)]){case _0x2f5b13(0x68c):await this[_0x2f5b13(0x5f8)](_0x24c30e,_0x35c3a6);break;case _0x2f5b13(0x296):await this[_0x2f5b13(0x1d4)](_0x24c30e,_0x35c3a6);break;case _0x2f5b13(0x809):await this[_0x2f5b13(0x6cf)](_0x24c30e,_0x35c3a6);break;case _0x2f5b13(0x2b4):await this[_0x2f5b13(0x20d)](_0x24c30e,_0x35c3a6);break;case _0x2f5b13(0x6f6):await this['uazapiSendContact'](_0x24c30e,_0x35c3a6);break;case _0x2f5b13(0x2c2):await this[_0x2f5b13(0x8e8)](_0x24c30e,_0x35c3a6);break;case'sendMenu':await this[_0x2f5b13(0x8e8)](_0x24c30e,_0x35c3a6);break;case'deleteMessage':await this[_0x2f5b13(0x6a8)](_0x24c30e,_0x35c3a6);break;default:this[_0x2f5b13(0x241)][_0x2f5b13(0x812)](this[_0x2f5b13(0x7d7)]+'\x20('+this[_0x2f5b13(0x7fc)][_0x2f5b13(0x3c3)]+_0x2f5b13(0x240)+_0x35c3a6[_0x2f5b13(0x2ef)][_0x2f5b13(0x5f4)]);}}catch(_0x3b2862){this['logger'][_0x2f5b13(0x812)](this[_0x2f5b13(0x7d7)]+'\x20('+this['instance'][_0x2f5b13(0x3c3)]+_0x2f5b13(0x5be)+(_0x3b2862 instanceof Error?_0x3b2862[_0x2f5b13(0x7d9)]:JSON[_0x2f5b13(0x86d)](_0x3b2862,null,0x2)));}}async[a0_0x5c0bdf(0x25f)](_0x20fcc0,_0xf65f2c,_0x3602b1,_0x237fb6=!0x1,_0x302ca1=!0x1){const _0x4ff544=a0_0x5c0bdf;_0x20fcc0[_0x4ff544(0x1cf)]['blockLogs']||(_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x462)]=[]);let _0x33181b=(_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x462)]?.['length']??0x0)+0x1,_0x325ac8=_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x462)][_0x4ff544(0x755)](_0xcad743=>String(_0xcad743[_0x4ff544(0x721)])===String(_0xf65f2c[_0x4ff544(0x2c7)]))[_0x4ff544(0x235)]+0x1,_0xbdefe3=_0x3602b1?.[_0x4ff544(0x503)]??Date['now'](),_0x393fe6=_0x3602b1?.[_0x4ff544(0x812)]?_0x3602b1[_0x4ff544(0x46d)]??_0x3602b1[_0x4ff544(0x812)][_0x4ff544(0x281)]():void 0x0,_0x18bafb={'onTime':_0xbdefe3,'blockId':_0xf65f2c[_0x4ff544(0x2c7)],'order':_0x33181b,'activatedCount':_0x325ac8,'error':_0x3602b1?.[_0x4ff544(0x812)]??!0x1,'messageId':_0x3602b1?.[_0x4ff544(0x730)],'apiResponse':_0x3602b1?.['apiResponse'],'apiResponseString':_0x3602b1?.[_0x4ff544(0x8fc)]?JSON[_0x4ff544(0x86d)](_0x3602b1?.['apiResponse']):void 0x0,'variable':_0x3602b1?.[_0x4ff544(0x3e8)],'oldValue':_0x3602b1?.[_0x4ff544(0x3aa)],'newValue':_0x3602b1?.[_0x4ff544(0x836)],'newStoppedUntil':_0x3602b1?.[_0x4ff544(0x357)],'moreLogs':_0x3602b1?.[_0x4ff544(0x384)],'errorLog':_0x393fe6};if(_0x3602b1[_0x4ff544(0x384)]&&_0x3602b1[_0x4ff544(0x384)][_0x4ff544(0x235)]>0x0){let _0x227cc2=_0x3602b1[_0x4ff544(0x384)]['map'](_0x34e823=>this[_0x4ff544(0x80b)](_0x34e823,_0x20fcc0['chatLog'][_0x4ff544(0x263)]));_0x18bafb[_0x4ff544(0x384)]=_0x227cc2;}if(_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x263)]||(_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x263)]={}),_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x263)][_0x4ff544(0x4cd)]=String(_0x325ac8),_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x263)]['_error']=String(_0x3602b1[_0x4ff544(0x812)]??!0x1),_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x462)][_0x4ff544(0x2c1)](_0x18bafb),_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x263)][_0x4ff544(0x246)]&&_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x263)]['telefone']!==_0x20fcc0[_0x4ff544(0x57e)]){let _0x281632=(await this[_0x4ff544(0x638)]({'numbers':[_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x263)][_0x4ff544(0x246)]]}))[0x0][_0x4ff544(0x273)];_0x20fcc0['chatLog']['realVariables'][_0x4ff544(0x246)]=_0x281632,_0x20fcc0['remoteJid']=_0x281632;try{let _0x112d5c={'_id':{'$ne':_0x20fcc0[_0x4ff544(0x2c7)]},'remoteJid':_0x281632,'status':_0x4ff544(0x2ad)},_0x4bbb4c={'status':_0x4ff544(0x36f)};await this['repository'][_0x4ff544(0x848)][_0x4ff544(0x4e2)](_0x112d5c,_0x4bbb4c,this[_0x4ff544(0x7fc)]['wuid']),this[_0x4ff544(0x241)][_0x4ff544(0x8af)](this[_0x4ff544(0x7d7)]+'\x20('+this['instance']['wuid']+_0x4ff544(0x531));}catch(_0x495c6c){this[_0x4ff544(0x241)]['error'](this[_0x4ff544(0x7d7)]+'\x20('+this[_0x4ff544(0x7fc)][_0x4ff544(0x3c3)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x495c6c['message']);}try{let _0x1d7ec0=_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x263)],_0x1e1c01=await this['getVariablesChat'](_0x281632),_0x20a767={..._0x1d7ec0,..._0x1e1c01,'_remoteJid':_0x281632};_0x20fcc0[_0x4ff544(0x1cf)]['realVariables']=_0x20a767;}catch(_0x2cc843){this[_0x4ff544(0x241)]['error'](this[_0x4ff544(0x7d7)]+'\x20('+this['instance'][_0x4ff544(0x3c3)]+_0x4ff544(0x704)+_0x2cc843[_0x4ff544(0x7d9)]);}}_0x20fcc0[_0x4ff544(0x1cf)]['lastBlockId']=_0xf65f2c[_0x4ff544(0x2c7)][_0x4ff544(0x281)](),_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x3bd)]&&(_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x3bd)]=_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x3bd)]),_0x20fcc0[_0x4ff544(0x1cf)]['lastReceivedMessage']&&(_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x783)]=_0x20fcc0['chatLog'][_0x4ff544(0x783)]),_0x20fcc0['chatLog']['lastCondition']&&(_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x7f2)]=_0x20fcc0[_0x4ff544(0x1cf)][_0x4ff544(0x7f2)]),_0x302ca1&&(_0x20fcc0['status']=_0x4ff544(0x36f)),_0x237fb6?this[_0x4ff544(0x2a5)](_0x20fcc0):this[_0x4ff544(0x5f5)](_0x20fcc0,_0xf65f2c);}[a0_0x5c0bdf(0x80b)](_0x2c009d,_0x45c4db){const _0x33bb34=a0_0x5c0bdf;return _0x2c009d[_0x33bb34(0x8df)](/\{\{([^}]+)\}\}/g,(_0x20621e,_0x564157)=>_0x45c4db[_0x564157]?'{{'+_0x564157+_0x33bb34(0x438)+_0x45c4db[_0x564157]+'\x22':'{{'+_0x564157+_0x33bb34(0x890));}async[a0_0x5c0bdf(0x2a5)](_0x46e38e){const _0x254540=a0_0x5c0bdf;try{let _0x461bc3=Object[_0x254540(0x6ef)](_0x46e38e[_0x254540(0x1cf)][_0x254540(0x263)])[_0x254540(0x6df)](([_0x326136,_0x4a4426])=>({'name':_0x326136,'value':_0x4a4426})),_0x3350a1={'status':_0x46e38e[_0x254540(0x3ae)],'remoteJid':_0x46e38e[_0x254540(0x57e)],'blocks':_0x46e38e[_0x254540(0x234)],'waitingMenu_id':_0x46e38e[_0x254540(0x732)],'waitingMenu_text':_0x46e38e['waitingMenu_text'],'waitingMenu_replyOptions':_0x46e38e['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x46e38e[_0x254540(0x1cf)][_0x254540(0x26c)],'lastSendMessage':_0x46e38e[_0x254540(0x1cf)][_0x254540(0x3bd)],'lastReceivedMessage':_0x46e38e[_0x254540(0x1cf)]['lastReceivedMessage'],'lastCondition':_0x46e38e[_0x254540(0x1cf)][_0x254540(0x7f2)],'chatVariables':_0x461bc3,'realVariables':_0x46e38e['chatLog']['realVariables'],'blockLogs':_0x46e38e[_0x254540(0x1cf)][_0x254540(0x462)]}},_0xc85961=await this[_0x254540(0x8ea)][_0x254540(0x848)][_0x254540(0x411)](_0x46e38e[_0x254540(0x2c7)],_0x3350a1,this['instance'][_0x254540(0x3c3)]);if(_0xc85961){this[_0x254540(0x241)][_0x254540(0x8af)](this[_0x254540(0x7d7)]+'\x20('+this[_0x254540(0x7fc)][_0x254540(0x3c3)]+_0x254540(0x92f)+_0xc85961[_0x254540(0x2c7)]);try{let _0xe93489=[_0x254540(0x562),'nomecompleto',_0x254540(0x1dc),_0x254540(0x57a),_0x254540(0x3ae),_0x254540(0x4bd),_0x254540(0x7ac),_0x254540(0x3fd),'etiquetas',_0x254540(0x7a3)];if(!this[_0x254540(0x587)]&&(await this[_0x254540(0x6aa)](),!this[_0x254540(0x587)]))throw new Error(_0x254540(0x50c));let _0x5be436=this[_0x254540(0x587)]?.[_0x254540(0x7d4)][_0x254540(0x6df)](_0x1e771f=>_0x1e771f['name']),_0x4fe2d7={};Object[_0x254540(0x6ef)](_0x46e38e['chatLog'][_0x254540(0x263)])[_0x254540(0x91c)](([_0x521a20,_0x467f32])=>{const _0x18f761=_0x254540;_0xe93489[_0x18f761(0x4ee)](_0x521a20)&&(_0x521a20===_0x18f761(0x3fd)&&typeof _0x467f32=='string'?_0x4fe2d7[_0x521a20]=_0x467f32[_0x18f761(0x2a9)](',')[_0x18f761(0x6df)](_0xd5c636=>_0xd5c636[_0x18f761(0x55c)]())['filter'](_0x4e970a=>_0x4e970a!==''):_0x521a20===_0x18f761(0x25b)&&typeof _0x467f32==_0x18f761(0x749)?_0x4fe2d7[_0x521a20]=_0x467f32[_0x18f761(0x2a9)](',')[_0x18f761(0x6df)](_0x1a39a6=>_0x1a39a6[_0x18f761(0x55c)]())[_0x18f761(0x755)](_0x14f3cc=>_0x14f3cc!==''):_0x4fe2d7[_0x521a20]=_0x467f32);});let _0x41816f=_0x46e38e['chatLog'][_0x254540(0x462)][_0x46e38e[_0x254540(0x1cf)][_0x254540(0x462)][_0x254540(0x235)]-0x1];if(_0x41816f){let _0xd6778e=_0x41816f[_0x254540(0x357)];_0xd6778e!==void 0x0&&(_0x4fe2d7[_0x254540(0x216)]=_0xd6778e['toString']());}let _0x2dc188=_0x461bc3[_0x254540(0x755)](_0x672e15=>_0x5be436[_0x254540(0x4ee)](_0x672e15[_0x254540(0x35d)]));this[_0x254540(0x241)][_0x254540(0x8af)](this['instanceName']+'\x20('+this[_0x254540(0x7fc)][_0x254540(0x3c3)]+'):\x20leadInfoVariables'),this[_0x254540(0x241)][_0x254540(0x8af)](_0x4fe2d7),this[_0x254540(0x241)][_0x254540(0x8af)](this['instanceName']+'\x20('+this[_0x254540(0x7fc)][_0x254540(0x3c3)]+_0x254540(0x7f5)),this['logger'][_0x254540(0x8af)](_0x2dc188);let _0x4ac52e=_0x2dc188[_0x254540(0x6df)](_0x21040f=>{const _0x465933=_0x254540;let _0x32c6f4=this['AutomateSystem']?.[_0x465933(0x7d4)][_0x465933(0x50f)](_0x261e3e=>_0x261e3e[_0x465933(0x35d)]===_0x21040f[_0x465933(0x35d)]);if(!_0x32c6f4)throw new Error(_0x465933(0x3cb)+_0x21040f[_0x465933(0x35d)]);return{'_id':_0x32c6f4[_0x465933(0x2c7)],'value':_0x21040f[_0x465933(0x802)]};});this['logger']['verbose'](this[_0x254540(0x7d7)]+'\x20('+this[_0x254540(0x7fc)][_0x254540(0x3c3)]+_0x254540(0x362)),this[_0x254540(0x241)][_0x254540(0x8af)](_0x4ac52e),await this[_0x254540(0x44a)](_0x46e38e[_0x254540(0x57e)],_0x4fe2d7,_0x4ac52e);}catch(_0x1aeeaa){this[_0x254540(0x241)][_0x254540(0x812)](this['instanceName']+'\x20('+this[_0x254540(0x7fc)][_0x254540(0x3c3)]+_0x254540(0x8ce)+(_0x1aeeaa instanceof Error?_0x1aeeaa['message']:JSON[_0x254540(0x86d)](_0x1aeeaa,null,0x2)));}}else this['logger']['error'](this[_0x254540(0x7d7)]+'\x20('+this[_0x254540(0x7fc)][_0x254540(0x3c3)]+_0x254540(0x43e));}catch(_0x567a9a){this[_0x254540(0x241)][_0x254540(0x812)](this[_0x254540(0x7d7)]+'\x20('+this[_0x254540(0x7fc)][_0x254540(0x3c3)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x567a9a instanceof Error?_0x567a9a[_0x254540(0x7d9)]:JSON[_0x254540(0x86d)](_0x567a9a,null,0x2)));}}async[a0_0x5c0bdf(0x44a)](_0x4fc873,_0x1f17b3,_0x344335){const _0x321443=a0_0x5c0bdf;try{let _0x4bb364={'leadInfo.leadnome':_0x1f17b3['nome'],'leadInfo.nomecompleto':_0x1f17b3[_0x321443(0x1f6)],'leadInfo.email':_0x1f17b3[_0x321443(0x1dc)],'leadInfo.cpf':_0x1f17b3['cpf'],'leadInfo.status':_0x1f17b3['status'],'leadInfo.notas':_0x1f17b3[_0x321443(0x4bd)],'leadInfo.responsavelid':_0x1f17b3['responsavelid'],'leadInfo.tags':_0x1f17b3['tags'],'leadInfo.etiquetas':_0x1f17b3[_0x321443(0x25b)],'leadInfo.customFields':_0x344335,'leadInfo.atendimentoAberto':_0x1f17b3[_0x321443(0x7a3)]},_0x4c625b=await this[_0x321443(0x8ea)]['chat']['findOne']({'where':{'_id':_0x4fc873}},this[_0x321443(0x7fc)]['wuid']);if(!_0x4c625b)return _0x321443(0x70c);let _0x20cc5d=new Set(_0x4c625b['leadInfo'][_0x321443(0x25b)]||[]),_0x4f8c8e=new Set(_0x1f17b3[_0x321443(0x25b)]||[]),_0x4ecce2=await this[_0x321443(0x8ea)][_0x321443(0x29d)][_0x321443(0x50f)]({'where':{}},this[_0x321443(0x7fc)]['wuid']),_0x2e9e49=new Set(_0x4ecce2[_0x321443(0x6df)](_0x4e827c=>_0x4e827c[_0x321443(0x2c7)])),_0x4cf194=[..._0x4f8c8e][_0x321443(0x755)](_0x341388=>!_0x20cc5d[_0x321443(0x400)](_0x341388)&&_0x2e9e49[_0x321443(0x400)](_0x341388)),_0x4360d3=[..._0x20cc5d][_0x321443(0x755)](_0x2a0bb5=>!_0x4f8c8e[_0x321443(0x400)](_0x2a0bb5));for(let _0x48e357 of _0x4cf194)await this[_0x321443(0x1bf)](_0x48e357,_0x4c625b[_0x321443(0x2c7)]),_0x20cc5d['add'](_0x48e357);for(let _0x1f68f0 of _0x4360d3)await this[_0x321443(0x4e8)](_0x1f68f0,_0x4c625b[_0x321443(0x2c7)]),_0x20cc5d[_0x321443(0x221)](_0x1f68f0);if('desativadoFluxoAte'in _0x1f17b3){let _0x2d1a83=_0x1f17b3[_0x321443(0x216)];_0x4bb364[_0x321443(0x864)]=_0x2d1a83?Number(_0x2d1a83):null;}if(_0x321443(0x7a3)in _0x1f17b3){let _0x7d3915=_0x1f17b3[_0x321443(0x7a3)]['toLowerCase']();_0x4bb364[_0x321443(0x214)]=_0x7d3915==='true'||_0x7d3915==='1'||_0x7d3915===_0x321443(0x676)||_0x7d3915==='sim';}let _0x489a2a=await this[_0x321443(0x8ea)][_0x321443(0x75d)][_0x321443(0x411)]({'where':{'_id':_0x4fc873}},_0x4bb364,this['instance'][_0x321443(0x3c3)]);_0x489a2a?(this[_0x321443(0x241)][_0x321443(0x8af)](this[_0x321443(0x7d7)]+'\x20('+this['instance'][_0x321443(0x3c3)]+_0x321443(0x1ac)+_0x489a2a[_0x321443(0x2c7)]),F(this['instanceName'],_0x321443(0x5fd),{'chat':_0x489a2a})):this[_0x321443(0x241)][_0x321443(0x812)](this[_0x321443(0x7d7)]+'\x20('+this[_0x321443(0x7fc)]['wuid']+_0x321443(0x208));}catch(_0x3eefc9){this['logger'][_0x321443(0x812)](this[_0x321443(0x7d7)]+'\x20('+this[_0x321443(0x7fc)][_0x321443(0x3c3)]+_0x321443(0x4fd)+(_0x3eefc9 instanceof Error?_0x3eefc9[_0x321443(0x7d9)]:JSON[_0x321443(0x86d)](_0x3eefc9,null,0x2)));}}async[a0_0x5c0bdf(0x766)](_0x33174f,_0x1f38bf){const _0x5928d8=a0_0x5c0bdf;this[_0x5928d8(0x241)]['verbose'](this['instanceName']+'\x20('+this[_0x5928d8(0x7fc)]['wuid']+_0x5928d8(0x7e4)+_0x1f38bf);try{let _0x298365=await this[_0x5928d8(0x8ea)][_0x5928d8(0x75d)][_0x5928d8(0x411)]({'where':{'_id':_0x33174f[_0x5928d8(0x57e)]}},{'leadInfo.desativadoFluxoAte':_0x1f38bf},this[_0x5928d8(0x7fc)][_0x5928d8(0x3c3)]);this['logger'][_0x5928d8(0x8af)](this[_0x5928d8(0x7d7)]+'\x20('+this[_0x5928d8(0x7fc)][_0x5928d8(0x3c3)]+_0x5928d8(0x2f0)+_0x33174f['_id']),this['logger'][_0x5928d8(0x8af)](this[_0x5928d8(0x7d7)]+'\x20('+this['instance'][_0x5928d8(0x3c3)]+_0x5928d8(0x7e4)+JSON['stringify'](_0x298365,null,0x2)),_0x298365&&F(this[_0x5928d8(0x7d7)],_0x5928d8(0x5fd),{'chat':_0x298365});}catch(_0x5071f2){this[_0x5928d8(0x241)][_0x5928d8(0x812)](this['instanceName']+'\x20('+this[_0x5928d8(0x7fc)]['wuid']+_0x5928d8(0x75c)+(_0x5071f2 instanceof Error?_0x5071f2[_0x5928d8(0x7d9)]:JSON[_0x5928d8(0x86d)](_0x5071f2,null,0x2)));}}async[a0_0x5c0bdf(0x59a)](_0x5d8c0e){const _0x34d19f=a0_0x5c0bdf;try{this[_0x34d19f(0x241)]['verbose'](this[_0x34d19f(0x7d7)]+'\x20('+this[_0x34d19f(0x7fc)]['wuid']+_0x34d19f(0x7b0));let _0x86f741=_0x5d8c0e[_0x34d19f(0x8df)](/\D/g,''),_0x2cf5cf=this[_0x34d19f(0x587)]['flows']['find'](_0x491a84=>_0x491a84[_0x34d19f(0x6ab)]===_0x86f741);if(_0x2cf5cf||(this[_0x34d19f(0x241)][_0x34d19f(0x8af)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x2cf5cf=this[_0x34d19f(0x587)][_0x34d19f(0x3f3)][_0x34d19f(0x50f)](_0x3d98d6=>_0x3d98d6[_0x34d19f(0x32c)]===!0x0)),!_0x2cf5cf)return this['logger'][_0x34d19f(0x8af)](this[_0x34d19f(0x7d7)]+'\x20('+this[_0x34d19f(0x7fc)]['wuid']+_0x34d19f(0x89f)),null;let _0x51c7e1=await this[_0x34d19f(0x8ea)][_0x34d19f(0x6b5)][_0x34d19f(0x81e)]({'where':{'_id':_0x2cf5cf[_0x34d19f(0x2c7)]}});if(!_0x51c7e1||!_0x51c7e1[_0x34d19f(0x7ad)]?.[_0x34d19f(0x4ee)](this[_0x34d19f(0x7fc)]['wuid']))throw this['logger'][_0x34d19f(0x812)](this[_0x34d19f(0x7d7)]+'\x20('+this[_0x34d19f(0x7fc)]['wuid']+'):\x20Flow\x20\x27'+_0x51c7e1[_0x34d19f(0x2c7)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x34d19f(0x1b0)+_0x51c7e1[_0x34d19f(0x2c7)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x51c7e1;}catch(_0x43c52d){return this[_0x34d19f(0x241)][_0x34d19f(0x812)](this[_0x34d19f(0x7d7)]+'\x20('+this['instance'][_0x34d19f(0x3c3)]+_0x34d19f(0x5a5)+(_0x43c52d instanceof Error?_0x43c52d['message']:JSON[_0x34d19f(0x86d)](_0x43c52d,null,0x2))),null;}}async['findConversation'](_0x45726d,_0x10802b){const _0x4f79a4=a0_0x5c0bdf;try{let _0x265318=!!_0x10802b[_0x4f79a4(0x626)],_0xb9de96=_0x10802b[_0x4f79a4(0x6e2)],_0x241b35=null;if(this[_0x4f79a4(0x241)][_0x4f79a4(0x8af)](this[_0x4f79a4(0x7d7)]+'\x20('+this[_0x4f79a4(0x7fc)][_0x4f79a4(0x3c3)]+'):\x20isVote:\x20'+_0x265318+_0x4f79a4(0x810)+_0xb9de96),_0x265318){this[_0x4f79a4(0x241)][_0x4f79a4(0x8af)](this[_0x4f79a4(0x7d7)]+'\x20('+this[_0x4f79a4(0x7fc)][_0x4f79a4(0x3c3)]+_0x4f79a4(0x760));let _0x5e9bf0={'where':{'remoteJid':_0x45726d,'waitingMenu_id':_0xb9de96}};if(_0x241b35=await this[_0x4f79a4(0x8ea)][_0x4f79a4(0x848)][_0x4f79a4(0x81e)](_0x5e9bf0,this[_0x4f79a4(0x7fc)]['wuid']),!_0x241b35)return this[_0x4f79a4(0x241)][_0x4f79a4(0x8af)](this['instanceName']+'\x20('+this[_0x4f79a4(0x7fc)][_0x4f79a4(0x3c3)]+_0x4f79a4(0x7f8)),null;let _0x29e47d=Date[_0x4f79a4(0x435)](),_0x1b3e74=_0x241b35?.['minutesToClose']||0x0,_0x5c683c=_0x29e47d-_0x1b3e74*0x3c*0x3e8;if(_0x241b35[_0x4f79a4(0x473)]<_0x5c683c){this['logger'][_0x4f79a4(0x8af)](this[_0x4f79a4(0x7d7)]+'\x20('+this[_0x4f79a4(0x7fc)][_0x4f79a4(0x3c3)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x57bc78={'number':_0x241b35[_0x4f79a4(0x57e)],'options':{'delay':0x0},'textMessage':{'text':_0x241b35[_0x4f79a4(0x475)]}};await this['textMessage'](_0x57bc78);let _0x217e04={'status':_0x4f79a4(0x36f),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x4f79a4(0x848)][_0x4f79a4(0x411)](_0x241b35[_0x4f79a4(0x2c7)],_0x217e04,this[_0x4f79a4(0x7fc)]['wuid']),null;}return _0x241b35[_0x4f79a4(0x473)]=Date['now'](),_0x241b35[_0x4f79a4(0x1cf)][_0x4f79a4(0x783)]=_0x10802b,_0x241b35;}else{this[_0x4f79a4(0x241)][_0x4f79a4(0x8af)](this[_0x4f79a4(0x7d7)]+'\x20('+this['instance']['wuid']+_0x4f79a4(0x4a5)+this[_0x4f79a4(0x7fc)]['wuid']+_0x4f79a4(0x8f8)),this['logger'][_0x4f79a4(0x8af)](this['instanceName']+'\x20('+this[_0x4f79a4(0x7fc)]['wuid']+_0x4f79a4(0x5a9));let _0x59c2dd={'where':{'remoteJid':_0x45726d,'status':_0x4f79a4(0x2ad)}};if(_0x241b35=await this[_0x4f79a4(0x8ea)]['flowConversation'][_0x4f79a4(0x81e)](_0x59c2dd,this[_0x4f79a4(0x7fc)]['wuid']),!_0x241b35){let _0x229d69=await this['findFlow'](_0x45726d);if(_0x229d69&&(_0x241b35=await this['createNewConversation'](_0x229d69,_0x10802b['key'],_0x10802b)),!_0x241b35)return null;}let _0x42dc58=Date['now'](),_0x36db12=_0x241b35?.[_0x4f79a4(0x454)]||0x0,_0x151968=_0x42dc58-_0x36db12*0x3c*0x3e8;if(this[_0x4f79a4(0x241)][_0x4f79a4(0x8af)](this[_0x4f79a4(0x7d7)]+'\x20('+this['instance'][_0x4f79a4(0x3c3)]+_0x4f79a4(0x56f)+_0x42dc58+_0x4f79a4(0x5b5)+_0x36db12+_0x4f79a4(0x5ae)+_0x151968),this['logger'][_0x4f79a4(0x8af)](this[_0x4f79a4(0x7d7)]+'\x20('+this[_0x4f79a4(0x7fc)][_0x4f79a4(0x3c3)]+_0x4f79a4(0x1be)),this[_0x4f79a4(0x241)]['verbose'](this[_0x4f79a4(0x7d7)]+'\x20('+this['instance'][_0x4f79a4(0x3c3)]+_0x4f79a4(0x794)+_0x241b35['lastInteraction']),this[_0x4f79a4(0x241)][_0x4f79a4(0x8af)](this[_0x4f79a4(0x7d7)]+'\x20('+this['instance']['wuid']+_0x4f79a4(0x76d)+_0x151968),_0x241b35['lastInteraction']<_0x151968){this['logger'][_0x4f79a4(0x8af)](this['instanceName']+'\x20('+this[_0x4f79a4(0x7fc)]['wuid']+_0x4f79a4(0x1cd));let _0x5c53a5=await this[_0x4f79a4(0x59a)](_0x45726d);if(_0x5c53a5===null)return null;_0x241b35&&await this['repository'][_0x4f79a4(0x848)][_0x4f79a4(0x411)](_0x241b35['_id'],{'status':_0x4f79a4(0x36f)},this['instance']['wuid']),_0x241b35=await this[_0x4f79a4(0x5e8)](_0x5c53a5,_0x10802b[_0x4f79a4(0x493)],_0x10802b);}return _0x241b35[_0x4f79a4(0x473)]=_0x42dc58,_0x241b35[_0x4f79a4(0x1cf)][_0x4f79a4(0x783)]=_0x10802b,_0x241b35;}}catch(_0x2608fb){return this[_0x4f79a4(0x241)][_0x4f79a4(0x812)](this['instanceName']+'\x20('+this[_0x4f79a4(0x7fc)][_0x4f79a4(0x3c3)]+_0x4f79a4(0x6a4)+(_0x2608fb instanceof Error?_0x2608fb[_0x4f79a4(0x7d9)]:JSON['stringify'](_0x2608fb,null,0x2))),null;}}async[a0_0x5c0bdf(0x5e8)](_0x42ce34,_0x430525,_0x1ae437){const _0x1f8a07=a0_0x5c0bdf;this['logger'][_0x1f8a07(0x8af)](this[_0x1f8a07(0x7d7)]+'\x20('+this[_0x1f8a07(0x7fc)][_0x1f8a07(0x3c3)]+_0x1f8a07(0x67a));try{let _0x14f457=require(_0x1f8a07(0x723))[_0x1f8a07(0x624)],_0x1ec287=Date['now'](),_0x18488d=_0x1f8a07(0x929),_0x457ffb=_0x430525['fromMe']?null:_0x1ae437,_0x13a9ed=_0x430525[_0x1f8a07(0x650)]?_0x1ae437:null,_0x1849cc=_0x430525['remoteJid'],_0x4eab08=this['AutomateSystem']['flows']['find'](_0x362960=>_0x362960[_0x1f8a07(0x2c7)]===_0x42ce34[_0x1f8a07(0x2c7)]?.['toString']()),_0x4b97e4=_0x4eab08?.[_0x1f8a07(0x454)]??_0x42ce34[_0x1f8a07(0x454)]??0x0,_0x349517=_0x4eab08?.[_0x1f8a07(0x3f5)]??_0x42ce34[_0x1f8a07(0x3f5)]??!0x1;await this[_0x1f8a07(0x299)](_0x1849cc);let _0x49064c={'flowId':_0x42ce34[_0x1f8a07(0x2c7)],..._0x42ce34,'chatLog':null},_0x23d26b=await this[_0x1f8a07(0x33d)](_0x49064c[_0x1f8a07(0x1c0)]),_0x186c57=await this[_0x1f8a07(0x8d0)](_0x1849cc),_0x4747ae={..._0x23d26b,..._0x186c57,'_remoteJid':_0x1849cc},_0x43d52b={'lastReceivedMessage':_0x457ffb,'lastSendMessage':_0x13a9ed,'lastBlockId':_0x18488d,'lastCondition':!0x0,'realVariables':_0x4747ae};_0x49064c['chatLog']=_0x43d52b,delete _0x49064c[_0x1f8a07(0x2c7)],_0x49064c[_0x1f8a07(0x2c7)]=new _0x14f457(),_0x49064c[_0x1f8a07(0x473)]=_0x1ec287,_0x49064c[_0x1f8a07(0x3ae)]=_0x1f8a07(0x2ad),_0x49064c[_0x1f8a07(0x57e)]=_0x1849cc,_0x49064c[_0x1f8a07(0x454)]=_0x4b97e4,_0x49064c[_0x1f8a07(0x3f5)]=_0x349517;let _0x179477=await this['repository'][_0x1f8a07(0x848)][_0x1f8a07(0x411)](_0x49064c[_0x1f8a07(0x2c7)],_0x49064c,this[_0x1f8a07(0x7fc)][_0x1f8a07(0x3c3)]);return this[_0x1f8a07(0x241)]['verbose'](this[_0x1f8a07(0x7d7)]+'\x20('+this[_0x1f8a07(0x7fc)][_0x1f8a07(0x3c3)]+_0x1f8a07(0x3cf)),_0x179477?_0x49064c:null;}catch(_0x3d81ad){return this['logger'][_0x1f8a07(0x812)](this[_0x1f8a07(0x7d7)]+'\x20('+this[_0x1f8a07(0x7fc)][_0x1f8a07(0x3c3)]+_0x1f8a07(0x3a2)+(_0x3d81ad instanceof Error?_0x3d81ad[_0x1f8a07(0x7d9)]:JSON['stringify'](_0x3d81ad,null,0x2))),_0x3d81ad;}}async[a0_0x5c0bdf(0x5f8)](_0x18251e,_0x4ff47f){const _0x81d117=a0_0x5c0bdf;let _0x37a854=_0x18251e['remoteJid'];_0x4ff47f['uazapi'][_0x81d117(0x57e)]&&_0x4ff47f['uazapi'][_0x81d117(0x57e)][_0x81d117(0x55c)]()!==''&&(_0x37a854=_0x4ff47f['uazapi']['remoteJid'][_0x81d117(0x55c)]()),this[_0x81d117(0x241)][_0x81d117(0x8af)](this['instanceName']+'\x20('+this[_0x81d117(0x7fc)][_0x81d117(0x3c3)]+'):\x20Enviando\x20texto');let _0xfdfb0f={'number':_0x37a854,'options':{'delay':_0x4ff47f[_0x81d117(0x2ef)][_0x81d117(0x597)],'linkPreview':_0x4ff47f['uazapi'][_0x81d117(0x48a)]},'textMessage':{'text':_0x4ff47f['uazapi']['text']}};try{let _0x41c34b=await this['textMessage'](_0xfdfb0f);if(_0x41c34b){let _0x345981={'_id':_0x41c34b[_0x81d117(0x493)]['id'],'_fromMe':_0x41c34b[_0x81d117(0x493)][_0x81d117(0x650)],'_remoteJid':_0x41c34b[_0x81d117(0x493)][_0x81d117(0x57e)]},_0x471122=(0x0,w[_0x81d117(0x4c9)])(_0x41c34b['message']),_0x58f708=(0x0,w[_0x81d117(0x1ba)])(_0x471122);_0x18251e[_0x81d117(0x1cf)][_0x81d117(0x26c)]=_0x4ff47f[_0x81d117(0x2c7)][_0x81d117(0x281)]();let {message_normalized:_0x261f7a}=this[_0x81d117(0x294)](_0x471122,_0x58f708,null);_0x18251e[_0x81d117(0x1cf)][_0x81d117(0x3bd)]=await _0x261f7a;let _0x57a62c={'messageId':_0x41c34b[_0x81d117(0x493)]['id']},_0x477e74=_0x18251e[_0x81d117(0x1cf)][_0x81d117(0x263)];Object[_0x81d117(0x2bb)](_0x477e74,_0x345981),_0x18251e['chatLog'][_0x81d117(0x263)]=_0x477e74,this[_0x81d117(0x25f)](_0x18251e,_0x4ff47f,_0x57a62c);}else{let _0x58971f={'error':!0x0};this[_0x81d117(0x25f)](_0x18251e,_0x4ff47f,_0x58971f),this[_0x81d117(0x241)][_0x81d117(0x812)](this['instanceName']+'\x20('+this['instance'][_0x81d117(0x3c3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x273a48){let _0x405173={'error':!0x0,'errorLog':_0x273a48[_0x81d117(0x281)]()};this[_0x81d117(0x25f)](_0x18251e,_0x4ff47f,_0x405173),this['logger'][_0x81d117(0x812)](this[_0x81d117(0x7d7)]+'\x20('+this['instance'][_0x81d117(0x3c3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x273a48 instanceof Error?_0x273a48[_0x81d117(0x7d9)]:JSON['stringify'](_0x273a48,null,0x2)));}}async[a0_0x5c0bdf(0x1d4)](_0xfcf694,_0x2ac814){const _0x1a6ce1=a0_0x5c0bdf;let _0x2827fc=_0xfcf694[_0x1a6ce1(0x57e)];_0x2ac814[_0x1a6ce1(0x2ef)]['remoteJid']&&_0x2ac814[_0x1a6ce1(0x2ef)][_0x1a6ce1(0x57e)][_0x1a6ce1(0x55c)]()!==''&&(_0x2827fc=_0x2ac814[_0x1a6ce1(0x2ef)][_0x1a6ce1(0x57e)][_0x1a6ce1(0x55c)]()),this[_0x1a6ce1(0x241)][_0x1a6ce1(0x8af)](this[_0x1a6ce1(0x7d7)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20mídia');let _0x549354={'number':_0x2827fc,'options':{'delay':_0x2ac814[_0x1a6ce1(0x2ef)][_0x1a6ce1(0x597)],'linkPreview':_0x2ac814[_0x1a6ce1(0x2ef)]['linkPreview']},'mediaMessage':{'mediatype':_0x2ac814[_0x1a6ce1(0x2ef)][_0x1a6ce1(0x440)],'caption':_0x2ac814[_0x1a6ce1(0x2ef)][_0x1a6ce1(0x527)],'media':_0x2ac814[_0x1a6ce1(0x2ef)]['media'],'fileName':_0x2ac814[_0x1a6ce1(0x2ef)][_0x1a6ce1(0x350)]}};try{let _0xabd290=await this['mediaMessage'](_0x549354);if(_0xabd290){let _0x3a5bc8={'_id':_0xabd290[_0x1a6ce1(0x493)]['id'],'_fromMe':_0xabd290[_0x1a6ce1(0x493)]['fromMe'],'_remoteJid':_0xabd290['key'][_0x1a6ce1(0x57e)]},_0x533fc8=(0x0,w[_0x1a6ce1(0x4c9)])(_0xabd290['message']),_0x4e375f=(0x0,w[_0x1a6ce1(0x1ba)])(_0x533fc8);_0xfcf694['chatLog'][_0x1a6ce1(0x26c)]=_0x2ac814['_id'][_0x1a6ce1(0x281)]();let {message_normalized:_0x246343}=this[_0x1a6ce1(0x294)](_0x533fc8,_0x4e375f,null);_0xfcf694[_0x1a6ce1(0x1cf)][_0x1a6ce1(0x3bd)]=await _0x246343;let _0x509ac7={'messageId':_0xabd290[_0x1a6ce1(0x493)]['id']},_0x11761b=_0xfcf694[_0x1a6ce1(0x1cf)][_0x1a6ce1(0x263)];Object[_0x1a6ce1(0x2bb)](_0x11761b,_0x3a5bc8),_0xfcf694['chatLog'][_0x1a6ce1(0x263)]=_0x11761b,this['updateConversation'](_0xfcf694,_0x2ac814,_0x509ac7);}else{let _0x582948={'error':!0x0};this[_0x1a6ce1(0x25f)](_0xfcf694,_0x2ac814,_0x582948),this[_0x1a6ce1(0x241)][_0x1a6ce1(0x812)](this['instanceName']+'\x20('+this[_0x1a6ce1(0x7fc)][_0x1a6ce1(0x3c3)]+_0x1a6ce1(0x439));}}catch(_0x366048){let _0x6ef52e={'error':!0x0,'errorLog':_0x366048[_0x1a6ce1(0x281)]()};this[_0x1a6ce1(0x25f)](_0xfcf694,_0x2ac814,_0x6ef52e),this[_0x1a6ce1(0x241)]['error'](this[_0x1a6ce1(0x7d7)]+'\x20('+this[_0x1a6ce1(0x7fc)][_0x1a6ce1(0x3c3)]+_0x1a6ce1(0x482)+(_0x366048 instanceof Error?_0x366048[_0x1a6ce1(0x7d9)]:JSON[_0x1a6ce1(0x86d)](_0x366048,null,0x2)));}}async[a0_0x5c0bdf(0x6cf)](_0x58548f,_0x4563e1){const _0x39e068=a0_0x5c0bdf;let _0x40fdf3=_0x58548f[_0x39e068(0x57e)];_0x4563e1[_0x39e068(0x2ef)][_0x39e068(0x57e)]&&_0x4563e1[_0x39e068(0x2ef)]['remoteJid']['trim']()!==''&&(_0x40fdf3=_0x4563e1[_0x39e068(0x2ef)][_0x39e068(0x57e)][_0x39e068(0x55c)]()),this[_0x39e068(0x241)]['verbose'](this[_0x39e068(0x7d7)]+'\x20('+this['instance'][_0x39e068(0x3c3)]+'):\x20Enviando\x20localização');let _0x5786b2={'number':_0x40fdf3,'options':{'delay':_0x4563e1['uazapi'][_0x39e068(0x597)]},'locationMessage':{'name':_0x4563e1[_0x39e068(0x2ef)]['name'],'address':_0x4563e1['uazapi'][_0x39e068(0x459)],'latitude':_0x4563e1[_0x39e068(0x2ef)][_0x39e068(0x610)],'longitude':_0x4563e1[_0x39e068(0x2ef)][_0x39e068(0x2b7)]}};try{let _0x30cf04=await this['locationMessage'](_0x5786b2);if(_0x30cf04){let _0x49582c={'_id':_0x30cf04[_0x39e068(0x493)]['id'],'_fromMe':_0x30cf04[_0x39e068(0x493)][_0x39e068(0x650)],'_remoteJid':_0x30cf04[_0x39e068(0x493)][_0x39e068(0x57e)]},_0x4b1ef5=(0x0,w[_0x39e068(0x4c9)])(_0x30cf04[_0x39e068(0x7d9)]),_0x529014=(0x0,w[_0x39e068(0x1ba)])(_0x4b1ef5);_0x58548f[_0x39e068(0x1cf)][_0x39e068(0x26c)]=_0x4563e1[_0x39e068(0x2c7)][_0x39e068(0x281)]();let {message_normalized:_0x362f34}=this[_0x39e068(0x294)](_0x4b1ef5,_0x529014,null);_0x58548f[_0x39e068(0x1cf)][_0x39e068(0x3bd)]=await _0x362f34;let _0x247382={'messageId':_0x30cf04[_0x39e068(0x493)]['id']},_0x4ad749=_0x58548f[_0x39e068(0x1cf)]['realVariables'];Object['assign'](_0x4ad749,_0x49582c),_0x58548f[_0x39e068(0x1cf)][_0x39e068(0x263)]=_0x4ad749,this['updateConversation'](_0x58548f,_0x4563e1,_0x247382);}else{let _0x3c8330={'error':!0x0};this['updateConversation'](_0x58548f,_0x4563e1,_0x3c8330),this['logger']['error'](this[_0x39e068(0x7d7)]+'\x20('+this[_0x39e068(0x7fc)]['wuid']+_0x39e068(0x2c0));}}catch(_0x363b8f){let _0x39198d={'error':!0x0,'errorLog':_0x363b8f[_0x39e068(0x281)]()};this['updateConversation'](_0x58548f,_0x4563e1,_0x39198d),this['logger'][_0x39e068(0x812)](this[_0x39e068(0x7d7)]+'\x20('+this[_0x39e068(0x7fc)]['wuid']+_0x39e068(0x618)+(_0x363b8f instanceof Error?_0x363b8f[_0x39e068(0x7d9)]:JSON[_0x39e068(0x86d)](_0x363b8f,null,0x2)));}}async[a0_0x5c0bdf(0x20d)](_0x4327b3,_0x4f3440){const _0x491326=a0_0x5c0bdf;let _0x45d824=_0x4327b3[_0x491326(0x57e)];_0x4f3440[_0x491326(0x2ef)][_0x491326(0x57e)]&&_0x4f3440[_0x491326(0x2ef)][_0x491326(0x57e)][_0x491326(0x55c)]()!==''&&(_0x45d824=_0x4f3440[_0x491326(0x2ef)][_0x491326(0x57e)][_0x491326(0x55c)]()),this[_0x491326(0x241)][_0x491326(0x8af)](this[_0x491326(0x7d7)]+'\x20('+this[_0x491326(0x7fc)][_0x491326(0x3c3)]+'):\x20Enviando\x20áudio');let _0x299ecf={'number':_0x45d824,'options':{'delay':_0x4f3440[_0x491326(0x2ef)]['delay']},'audioMessage':{'audio':_0x4f3440['uazapi'][_0x491326(0x250)]}};try{let _0x21f8a4=await this[_0x491326(0x655)](_0x299ecf);if(_0x21f8a4){let _0x4eb745={'_id':_0x21f8a4[_0x491326(0x493)]['id'],'_fromMe':_0x21f8a4[_0x491326(0x493)]['fromMe'],'_remoteJid':_0x21f8a4[_0x491326(0x493)][_0x491326(0x57e)]},_0x1ab339=(0x0,w[_0x491326(0x4c9)])(_0x21f8a4['message']),_0x377449=(0x0,w[_0x491326(0x1ba)])(_0x1ab339);_0x4327b3['chatLog'][_0x491326(0x26c)]=_0x4f3440[_0x491326(0x2c7)][_0x491326(0x281)]();let {message_normalized:_0x4f9271}=this[_0x491326(0x294)](_0x1ab339,_0x377449,null);_0x4327b3[_0x491326(0x1cf)][_0x491326(0x3bd)]=await _0x4f9271;let _0x201a01={'messageId':_0x21f8a4['key']['id']},_0x5ae585=_0x4327b3[_0x491326(0x1cf)]['realVariables'];Object['assign'](_0x5ae585,_0x4eb745),_0x4327b3[_0x491326(0x1cf)]['realVariables']=_0x5ae585,this[_0x491326(0x25f)](_0x4327b3,_0x4f3440,_0x201a01);}else{let _0x1e148d={'error':!0x0};this[_0x491326(0x25f)](_0x4327b3,_0x4f3440,_0x1e148d),this[_0x491326(0x241)][_0x491326(0x812)](this[_0x491326(0x7d7)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x180337){let _0xbe17bc={'error':!0x0,'errorLog':_0x180337[_0x491326(0x281)]()};this[_0x491326(0x25f)](_0x4327b3,_0x4f3440,_0xbe17bc),this[_0x491326(0x241)][_0x491326(0x812)](this[_0x491326(0x7d7)]+'\x20('+this[_0x491326(0x7fc)][_0x491326(0x3c3)]+_0x491326(0x259)+(_0x180337 instanceof Error?_0x180337[_0x491326(0x7d9)]:JSON[_0x491326(0x86d)](_0x180337,null,0x2)));}}async[a0_0x5c0bdf(0x4ac)](_0x46784a,_0x4c663a){const _0x2238aa=a0_0x5c0bdf;let _0x14c0c1=_0x46784a[_0x2238aa(0x57e)];_0x4c663a['uazapi'][_0x2238aa(0x57e)]&&_0x4c663a['uazapi'][_0x2238aa(0x57e)][_0x2238aa(0x55c)]()!==''&&(_0x14c0c1=_0x4c663a['uazapi']['remoteJid'][_0x2238aa(0x55c)]()),this[_0x2238aa(0x241)]['verbose'](this[_0x2238aa(0x7d7)]+'\x20('+this[_0x2238aa(0x7fc)][_0x2238aa(0x3c3)]+'):\x20Enviando\x20contato');let _0x7016b5={'number':_0x14c0c1,'options':{'delay':_0x4c663a[_0x2238aa(0x2ef)][_0x2238aa(0x597)]},'contactMessage':[{'fullName':_0x4c663a[_0x2238aa(0x2ef)]['fullName'],'phoneNumber':_0x4c663a[_0x2238aa(0x2ef)]['phoneNumber']}]};try{let _0x34b500=await this[_0x2238aa(0x237)](_0x7016b5);if(_0x34b500){let _0x14b7b9={'_id':_0x34b500[_0x2238aa(0x493)]['id'],'_fromMe':_0x34b500[_0x2238aa(0x493)][_0x2238aa(0x650)],'_remoteJid':_0x34b500['key'][_0x2238aa(0x57e)]},_0x448aa3=(0x0,w['normalizeMessageContent'])(_0x34b500['message']),_0x186544=(0x0,w[_0x2238aa(0x1ba)])(_0x448aa3);_0x46784a[_0x2238aa(0x1cf)][_0x2238aa(0x26c)]=_0x4c663a[_0x2238aa(0x2c7)][_0x2238aa(0x281)]();let {message_normalized:_0x238b1c}=this[_0x2238aa(0x294)](_0x448aa3,_0x186544,null);_0x46784a[_0x2238aa(0x1cf)]['lastSendMessage']=await _0x238b1c;let _0x1a208b={'messageId':_0x34b500[_0x2238aa(0x493)]['id']},_0x11129c=_0x46784a[_0x2238aa(0x1cf)]['realVariables'];Object[_0x2238aa(0x2bb)](_0x11129c,_0x14b7b9),_0x46784a[_0x2238aa(0x1cf)][_0x2238aa(0x263)]=_0x11129c,this[_0x2238aa(0x25f)](_0x46784a,_0x4c663a,_0x1a208b);}else{let _0x5ba8ef={'error':!0x0};this[_0x2238aa(0x25f)](_0x46784a,_0x4c663a,_0x5ba8ef),this['logger']['error'](this[_0x2238aa(0x7d7)]+'\x20('+this[_0x2238aa(0x7fc)][_0x2238aa(0x3c3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x3b7372){let _0xdaffcd={'error':!0x0,'errorLog':_0x3b7372[_0x2238aa(0x281)]()};this[_0x2238aa(0x25f)](_0x46784a,_0x4c663a,_0xdaffcd),this['logger'][_0x2238aa(0x812)](this['instanceName']+'\x20('+this[_0x2238aa(0x7fc)][_0x2238aa(0x3c3)]+_0x2238aa(0x824)+(_0x3b7372 instanceof Error?_0x3b7372[_0x2238aa(0x7d9)]:JSON[_0x2238aa(0x86d)](_0x3b7372,null,0x2)));}}[a0_0x5c0bdf(0x2f7)](_0xb172f0,_0x731e34){const _0x2b4f59=a0_0x5c0bdf;for(let _0x707c86 of _0xb172f0)_0x707c86['option']&&(_0x707c86[_0x2b4f59(0x268)]=this['replaceVariables'](_0x707c86[_0x2b4f59(0x268)],_0x731e34)),_0x707c86[_0x2b4f59(0x3c2)]&&(_0x707c86[_0x2b4f59(0x3c2)]=this['replaceVariables'](_0x707c86[_0x2b4f59(0x3c2)],_0x731e34));}async['uazapiSendMenu'](_0x557ebf,_0x36c937){const _0x78aa2b=a0_0x5c0bdf;let _0x3aedf0=_0x557ebf['remoteJid'];_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x57e)]&&_0x36c937['uazapi'][_0x78aa2b(0x57e)][_0x78aa2b(0x55c)]()!==''&&(_0x3aedf0=_0x36c937[_0x78aa2b(0x2ef)]['remoteJid'][_0x78aa2b(0x55c)]()),this[_0x78aa2b(0x241)]['verbose'](this[_0x78aa2b(0x7d7)]+'\x20('+this[_0x78aa2b(0x7fc)][_0x78aa2b(0x3c3)]+'):\x20Enviando\x20enquete');let _0x521253=_0x557ebf['replyOptions'][_0x78aa2b(0x755)](_0x30bb39=>_0x30bb39[_0x78aa2b(0x721)]===_0x36c937[_0x78aa2b(0x2c7)])[_0x78aa2b(0x474)]((_0x5d692a,_0x244780)=>_0x5d692a[_0x78aa2b(0x553)]-_0x244780['order']);this[_0x78aa2b(0x2f7)](_0x521253,_0x557ebf[_0x78aa2b(0x1cf)][_0x78aa2b(0x263)]);let _0x10a602=_0x521253[_0x78aa2b(0x6df)](_0x380e93=>_0x380e93[_0x78aa2b(0x268)]),_0x11d594={'number':_0x3aedf0,'menuMessage':{'type':_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x19e)]||_0x78aa2b(0x38b),'text':_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x3ac)]||_0x36c937['uazapi'][_0x78aa2b(0x35d)],'footerText':_0x36c937['uazapi'][_0x78aa2b(0x6a1)],'buttonText':_0x36c937['uazapi'][_0x78aa2b(0x29f)],'selectableCount':0x1,'choices':_0x10a602},'options':{'delay':_0x36c937[_0x78aa2b(0x2ef)]['delay']}};try{let _0x32ae4f=await this[_0x78aa2b(0x2d0)](_0x11d594);if(_0x32ae4f){let _0x5ee3d9={'_id':_0x32ae4f[_0x78aa2b(0x493)]['id'],'_fromMe':_0x32ae4f['key'][_0x78aa2b(0x650)],'_remoteJid':_0x32ae4f[_0x78aa2b(0x493)][_0x78aa2b(0x57e)]};_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x36a)]===!0x0&&(_0x557ebf[_0x78aa2b(0x3ae)]=_0x78aa2b(0x3f1),this['logger'][_0x78aa2b(0x8af)](this[_0x78aa2b(0x7d7)]+'\x20('+this['instance'][_0x78aa2b(0x3c3)]+_0x78aa2b(0x220)+_0x557ebf[_0x78aa2b(0x3ae)])),this['logger'][_0x78aa2b(0x8af)](this[_0x78aa2b(0x7d7)]+'\x20('+this[_0x78aa2b(0x7fc)][_0x78aa2b(0x3c3)]+'):\x20nextBlock.uazapi.name'+(_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x35d)]||_0x36c937['uazapi'][_0x78aa2b(0x3ac)])),_0x557ebf[_0x78aa2b(0x732)]=_0x32ae4f['key']['id'],_0x557ebf[_0x78aa2b(0x200)]=_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x35d)]||_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x3ac)],_0x557ebf[_0x78aa2b(0x8ee)]=_0x521253,_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x32b)]&&(_0x557ebf[_0x78aa2b(0x475)]=_0x36c937[_0x78aa2b(0x2ef)][_0x78aa2b(0x32b)]),this['logger']['verbose'](this[_0x78aa2b(0x7d7)]+'\x20('+this[_0x78aa2b(0x7fc)]['wuid']+_0x78aa2b(0x7e6)+_0x557ebf[_0x78aa2b(0x200)]);let _0x53da47=(0x0,w['normalizeMessageContent'])(_0x32ae4f[_0x78aa2b(0x7d9)]),_0x43936c=(0x0,w[_0x78aa2b(0x1ba)])(_0x53da47);_0x557ebf[_0x78aa2b(0x1cf)]['lastBlockId']=_0x36c937[_0x78aa2b(0x2c7)][_0x78aa2b(0x281)]();let {message_normalized:_0x533785}=this[_0x78aa2b(0x294)](_0x53da47,_0x43936c,null);_0x557ebf[_0x78aa2b(0x1cf)][_0x78aa2b(0x3bd)]=await _0x533785;let _0x1904fd={'messageId':_0x32ae4f['key']['id']},_0x4af0a9=_0x557ebf[_0x78aa2b(0x1cf)]['realVariables'];Object['assign'](_0x4af0a9,_0x5ee3d9),_0x557ebf['chatLog'][_0x78aa2b(0x263)]=_0x4af0a9,this[_0x78aa2b(0x25f)](_0x557ebf,_0x36c937,_0x1904fd);}else{let _0xe6f0e8={'error':!0x0};this[_0x78aa2b(0x25f)](_0x557ebf,_0x36c937,_0xe6f0e8),this[_0x78aa2b(0x241)]['error'](this['instanceName']+'\x20('+this[_0x78aa2b(0x7fc)][_0x78aa2b(0x3c3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x328ecf){let _0x3104d2={'error':!0x0,'errorLog':_0x328ecf instanceof Error?_0x328ecf[_0x78aa2b(0x7d9)]:JSON[_0x78aa2b(0x86d)](_0x328ecf,null,0x2)};this[_0x78aa2b(0x25f)](_0x557ebf,_0x36c937,_0x3104d2),this[_0x78aa2b(0x241)][_0x78aa2b(0x812)](this[_0x78aa2b(0x7d7)]+'\x20('+this[_0x78aa2b(0x7fc)][_0x78aa2b(0x3c3)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x328ecf instanceof Error?_0x328ecf[_0x78aa2b(0x7d9)]:JSON['stringify'](_0x328ecf,null,0x2)));}}async[a0_0x5c0bdf(0x6a8)](_0x50327e,_0x532b40){const _0x5bf7ed=a0_0x5c0bdf;this['logger'][_0x5bf7ed(0x8af)](this[_0x5bf7ed(0x7d7)]+'\x20('+this[_0x5bf7ed(0x7fc)][_0x5bf7ed(0x3c3)]+_0x5bf7ed(0x7b8));let _0xcb9672=_0x50327e[_0x5bf7ed(0x1cf)][_0x5bf7ed(0x462)][_0x5bf7ed(0x50f)](_0x50075d=>_0x50075d['blockId'][_0x5bf7ed(0x281)]()===_0x532b40[_0x5bf7ed(0x2ef)][_0x5bf7ed(0x721)][_0x5bf7ed(0x281)]()),_0xef816a={'id':_0xcb9672[_0x5bf7ed(0x730)],'remoteJid':_0xcb9672[_0x5bf7ed(0x57e)],'fromMe':_0xcb9672['fromMe']};try{let _0x138bfa=await this[_0x5bf7ed(0x8ed)](_0xef816a);if(_0x138bfa){let _0x55d12d=(0x0,w[_0x5bf7ed(0x4c9)])(_0x138bfa['message']),_0x4f0b5f=(0x0,w[_0x5bf7ed(0x1ba)])(_0x55d12d);_0x50327e[_0x5bf7ed(0x1cf)]['lastBlockId']=_0x532b40['_id'][_0x5bf7ed(0x281)]();let {message_normalized:_0x1acb19}=this[_0x5bf7ed(0x294)](_0x55d12d,_0x4f0b5f,null);_0x50327e[_0x5bf7ed(0x1cf)][_0x5bf7ed(0x3bd)]=await _0x1acb19;let _0x225919={};this['updateConversation'](_0x50327e,_0x532b40,_0x225919);}else{let _0x3ea2dd={'error':!0x0};this['updateConversation'](_0x50327e,_0x532b40,_0x3ea2dd),this[_0x5bf7ed(0x241)][_0x5bf7ed(0x812)](this[_0x5bf7ed(0x7d7)]+'\x20('+this[_0x5bf7ed(0x7fc)][_0x5bf7ed(0x3c3)]+_0x5bf7ed(0x46f));}}catch(_0x3089ec){let _0x24d914={'error':!0x0,'errorLog':_0x3089ec instanceof Error?_0x3089ec[_0x5bf7ed(0x7d9)]:JSON[_0x5bf7ed(0x86d)](_0x3089ec,null,0x2)};this[_0x5bf7ed(0x25f)](_0x50327e,_0x532b40,_0x24d914),this[_0x5bf7ed(0x241)][_0x5bf7ed(0x812)](this[_0x5bf7ed(0x7d7)]+'\x20('+this[_0x5bf7ed(0x7fc)][_0x5bf7ed(0x3c3)]+_0x5bf7ed(0x1ee)+(_0x3089ec instanceof Error?_0x3089ec[_0x5bf7ed(0x7d9)]:JSON[_0x5bf7ed(0x86d)](_0x3089ec,null,0x2)));}}async[a0_0x5c0bdf(0x48e)](_0x261009,_0x122cf7){const _0xbf88c2=a0_0x5c0bdf;if(_0x261009[_0xbf88c2(0x35d)]||(_0x261009[_0xbf88c2(0x35d)]=(0x0,Q['v4'])()),_0x122cf7!==Ri&&_0x261009?.[_0xbf88c2(0x72b)])throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0xbf88c2(0x2c7)in _0x261009&&'owner'in _0x261009)return this['AddUserFlow'](_0x261009[_0xbf88c2(0x3f7)],_0x261009[_0xbf88c2(0x2c7)]);this[_0xbf88c2(0x241)][_0xbf88c2(0x8af)](this[_0xbf88c2(0x7d7)]+'\x20('+this[_0xbf88c2(0x7fc)][_0xbf88c2(0x3c3)]+_0xbf88c2(0x883));let _0x266d23=this['getUniqueFlowName'](_0x261009['name']),_0x329845=new pe['Types']['ObjectId'](),_0x43e637={'_id':_0x329845,'default':!0x0,'title':_0xbf88c2(0x2a2),'x':0x0,'y':0x0},_0x46d022={'_id':new pe[(_0xbf88c2(0x339))][(_0xbf88c2(0x624))](),'order':0x1,'groupId':_0x329845['toString'](),'type':'start'},_0x5bb7a3=this[_0xbf88c2(0x7fc)][_0xbf88c2(0x3c3)],_0x4abd17={'_id':(0x0,Q['v4'])(),'owner':_0x5bb7a3,'name':_0x266d23,'whoCanEdit':[_0x5bb7a3],'whoCanUse':[_0x5bb7a3],'groups':[_0x43e637],'blocks':[_0x46d022],..._0x261009};try{let _0x446a1e=await this[_0xbf88c2(0x8ea)][_0xbf88c2(0x6b5)][_0xbf88c2(0x312)](_0x4abd17);return await this[_0xbf88c2(0x839)](),_0x446a1e;}catch(_0x48ceb6){let _0x229e09=_0xbf88c2(0x26a),_0x3e52fa=_0x48ceb6 instanceof Error?_0x48ceb6[_0xbf88c2(0x7d9)]:typeof _0x48ceb6==_0xbf88c2(0x1ef)?JSON[_0xbf88c2(0x86d)](_0x48ceb6):_0x48ceb6,_0x2b0c85=_0x229e09+':\x20'+_0x3e52fa;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0xbf88c2(0x3c3)]+_0xbf88c2(0x4a5)+_0x2b0c85),new m(_0x2b0c85);}}async['AddUserFlow'](_0x3cd53d,_0x6eb018){const _0x5b19d9=a0_0x5c0bdf;try{this[_0x5b19d9(0x241)][_0x5b19d9(0x8af)](this['instanceName']+'\x20('+this[_0x5b19d9(0x7fc)]['wuid']+_0x5b19d9(0x8cb));let _0x347a5=await this['repository'][_0x5b19d9(0x6b5)][_0x5b19d9(0x81e)]({'where':{'_id':_0x6eb018,'owner':_0x3cd53d}});if(!_0x347a5)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x347a5[_0x5b19d9(0x519)]===!0x1&&!_0x347a5['globalShow'])throw new m(_0x5b19d9(0x2a4));let _0x461115=new Set(_0x347a5[_0x5b19d9(0x7ad)]??[]);_0x461115['add'](this['instance']['wuid']);let _0x9944af=await this[_0x5b19d9(0x8ea)][_0x5b19d9(0x6b5)][_0x5b19d9(0x411)](_0x6eb018,{..._0x347a5,'whoCanUse':Array[_0x5b19d9(0x4ea)](_0x461115)});return await this['synchronizeAndMapFlows'](),_0x9944af;}catch(_0x1cbbed){let _0x1a2512=_0x5b19d9(0x4d2),_0x5ae670=_0x1cbbed instanceof Error?_0x1cbbed['message']:typeof _0x1cbbed==_0x5b19d9(0x1ef)?JSON[_0x5b19d9(0x86d)](_0x1cbbed):_0x1cbbed,_0x4ffcc2=_0x1a2512+':\x20'+_0x5ae670;throw this[_0x5b19d9(0x241)][_0x5b19d9(0x812)](this[_0x5b19d9(0x7d7)]+'\x20('+this[_0x5b19d9(0x7fc)][_0x5b19d9(0x3c3)]+_0x5b19d9(0x4a5)+_0x4ffcc2),new m(_0x4ffcc2);}}[a0_0x5c0bdf(0x8e9)](_0x59d1c8){const _0x534b03=a0_0x5c0bdf;let _0x27e221=_0x59d1c8,_0x934f94=0x1;for(;this[_0x534b03(0x587)][_0x534b03(0x3f3)][_0x534b03(0x4d6)](_0x4ebac6=>_0x4ebac6[_0x534b03(0x35d)]===_0x27e221);)_0x934f94++,_0x27e221=_0x59d1c8+'\x20('+_0x934f94+')';return _0x27e221;}async[a0_0x5c0bdf(0x67c)](_0x26a678){const _0x571a93=a0_0x5c0bdf;try{if(this['logger'][_0x571a93(0x8af)](this[_0x571a93(0x7d7)]+'\x20('+this[_0x571a93(0x7fc)][_0x571a93(0x3c3)]+_0x571a93(0x608)+_0x26a678[_0x571a93(0x2c7)]+',\x20global:\x20'+_0x26a678[_0x571a93(0x65d)]),!this['AutomateSystem'][_0x571a93(0x3f3)][_0x571a93(0x50f)](_0x30efbc=>_0x30efbc[_0x571a93(0x2c7)]===_0x26a678[_0x571a93(0x2c7)]))throw this['logger'][_0x571a93(0x8af)](this[_0x571a93(0x7d7)]+'\x20('+this[_0x571a93(0x7fc)][_0x571a93(0x3c3)]+_0x571a93(0x7d3)+_0x26a678['_id']+_0x571a93(0x72a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x56ae4c=await this['repository'][_0x571a93(0x6b5)][_0x571a93(0x81e)]({'where':{'_id':_0x26a678[_0x571a93(0x2c7)]}});if(!_0x56ae4c)throw new m(_0x571a93(0x77e));if(this[_0x571a93(0x7fc)][_0x571a93(0x3c3)]===_0x56ae4c[_0x571a93(0x3f7)]){this[_0x571a93(0x241)][_0x571a93(0x8af)](this['instanceName']+'\x20('+this['instance'][_0x571a93(0x3c3)]+_0x571a93(0x2e0)+_0x26a678[_0x571a93(0x2c7)]+'\x27\x20do\x20banco\x20de\x20dados...');let _0x489f2a=await this[_0x571a93(0x8ea)][_0x571a93(0x6b5)][_0x571a93(0x83b)]({'where':{'_id':_0x26a678['_id']}});return await this[_0x571a93(0x839)](),_0x489f2a;}return this[_0x571a93(0x241)][_0x571a93(0x8af)](this[_0x571a93(0x7d7)]+'\x20('+this['instance'][_0x571a93(0x3c3)]+'):\x20Removendo\x20\x27'+this[_0x571a93(0x7fc)][_0x571a93(0x3c3)]+_0x571a93(0x724)+_0x26a678['_id']+_0x571a93(0x8a1)),_0x56ae4c[_0x571a93(0x7ad)]=(_0x56ae4c[_0x571a93(0x7ad)]??[])[_0x571a93(0x755)](_0x387deb=>_0x387deb!==this[_0x571a93(0x7fc)][_0x571a93(0x3c3)]),_0x56ae4c[_0x571a93(0x552)]=(_0x56ae4c[_0x571a93(0x552)]??[])['filter'](_0x47b3da=>_0x47b3da!==this[_0x571a93(0x7fc)][_0x571a93(0x3c3)]),_0x56ae4c[_0x571a93(0x552)][_0x571a93(0x235)]===0x0&&_0x56ae4c['whoCanUse'][_0x571a93(0x235)]>0x0&&(_0x56ae4c[_0x571a93(0x552)][_0x571a93(0x2c1)](_0x56ae4c[_0x571a93(0x7ad)][0x0]),this[_0x571a93(0x241)]['verbose'](this[_0x571a93(0x7d7)]+'\x20('+this[_0x571a93(0x7fc)][_0x571a93(0x3c3)]+_0x571a93(0x668)+_0x56ae4c[_0x571a93(0x7ad)][0x0]+_0x571a93(0x1ed)+_0x26a678['_id']+_0x571a93(0x8a1))),await this['repository'][_0x571a93(0x6b5)]['updateOne'](_0x56ae4c[_0x571a93(0x2c7)],_0x56ae4c),await this[_0x571a93(0x839)](),{'message':_0x571a93(0x49e)+_0x26a678[_0x571a93(0x35d)]+_0x571a93(0x85c)};}catch(_0xbcf0e){return this['logger'][_0x571a93(0x812)](this['instanceName']+'\x20('+this[_0x571a93(0x7fc)][_0x571a93(0x3c3)]+_0x571a93(0x3b9)+(_0xbcf0e instanceof Error?_0xbcf0e['message']:JSON[_0x571a93(0x86d)](_0xbcf0e,null,0x2))),{'message':_0x571a93(0x8fb)+(_0xbcf0e instanceof Error?_0xbcf0e[_0x571a93(0x7d9)]:JSON[_0x571a93(0x86d)](_0xbcf0e,null,0x2))};}}async[a0_0x5c0bdf(0x1d2)](_0x3b2c5a){const _0x2e7845=a0_0x5c0bdf;try{if(this[_0x2e7845(0x241)][_0x2e7845(0x40b)](this[_0x2e7845(0x7d7)]+'\x20('+this[_0x2e7845(0x7fc)]['wuid']+_0x2e7845(0x84a)+_0x3b2c5a),!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x2e7845(0x587)]))return null;let _0x41f792=await this['repository'][_0x2e7845(0x6b5)][_0x2e7845(0x81e)]({'where':{'_id':_0x3b2c5a}});if(!_0x41f792)throw new m(_0x2e7845(0x23f)+_0x3b2c5a+_0x2e7845(0x4c5));if(!(_0x41f792[_0x2e7845(0x72b)]||_0x41f792[_0x2e7845(0x7ad)]?.[_0x2e7845(0x4ee)](this['instance'][_0x2e7845(0x3c3)])))throw new m(_0x2e7845(0x671)+name+'\x27');_0x41f792[_0x2e7845(0x72b)]&&!_0x41f792[_0x2e7845(0x7ad)]?.[_0x2e7845(0x4ee)](this[_0x2e7845(0x7fc)][_0x2e7845(0x3c3)])&&(_0x41f792['whoCanUse']=[..._0x41f792[_0x2e7845(0x7ad)]??[],this['instance'][_0x2e7845(0x3c3)]],await this['repository'][_0x2e7845(0x6b5)][_0x2e7845(0x411)](_0x41f792[_0x2e7845(0x2c7)],_0x41f792),this[_0x2e7845(0x839)]());let _0x4d861d=this['AutomateSystem']?.[_0x2e7845(0x7d4)]['map'](_0x1fa3d4=>_0x1fa3d4['name']),_0x5b10a9=[_0x2e7845(0x562),'nomecompleto',_0x2e7845(0x1dc),'cpf',_0x2e7845(0x3ae),_0x2e7845(0x4bd),_0x2e7845(0x7ac),_0x2e7845(0x3fd),_0x2e7845(0x25b),_0x2e7845(0x246),_0x2e7845(0x7a3)];_0x41f792[_0x2e7845(0x1c0)]=_0x41f792[_0x2e7845(0x1c0)]['filter'](_0x46443a=>!(_0x46443a[_0x2e7845(0x93a)]===_0x2e7845(0x264)||_0x46443a[_0x2e7845(0x264)])),_0x5b10a9[_0x2e7845(0x91c)](_0x3bee39=>{const _0x2cc69f=_0x2e7845;_0x41f792[_0x2cc69f(0x1c0)][_0x2cc69f(0x2c1)]({'folder':'leadInfo','name':_0x3bee39,'value':'','doc':'','leadInfo':!0x0});}),_0x4d861d['forEach'](_0x4d5b7c=>{const _0x132850=_0x2e7845;let _0x2c388e=_0x41f792[_0x132850(0x1c0)]['findIndex'](_0x53c380=>_0x53c380[_0x132850(0x35d)]===_0x4d5b7c);_0x2c388e===-0x1?_0x41f792[_0x132850(0x1c0)][_0x132850(0x2c1)]({'folder':'leadInfo','name':_0x4d5b7c,'value':'','doc':'','leadInfo':!0x0}):(_0x41f792[_0x132850(0x1c0)][_0x2c388e][_0x132850(0x93a)]=_0x132850(0x264),_0x41f792[_0x132850(0x1c0)][_0x2c388e]['leadInfo']=!0x0);}),_0x41f792['blocks']&&_0x41f792[_0x2e7845(0x234)][_0x2e7845(0x235)]>0x0&&_0x41f792[_0x2e7845(0x234)][_0x2e7845(0x91c)](_0x6eca82=>{const _0x3ded44=_0x2e7845;_0x6eca82[_0x3ded44(0x5f1)]&&_0x6eca82[_0x3ded44(0x37c)]&&_0x6eca82[_0x3ded44(0x5f1)]===_0x6eca82[_0x3ded44(0x37c)]&&(_0x6eca82[_0x3ded44(0x37c)]=null);});let _0x12f988=await this['repository'][_0x2e7845(0x6b5)]['updateOne'](_0x41f792[_0x2e7845(0x2c7)],_0x41f792);if(!_0x12f988)throw new Error(_0x2e7845(0x8b4));return _0x12f988;}catch(_0x25a3c5){let _0x427f0d=_0x2e7845(0x1e2),_0x68007e=_0x25a3c5 instanceof Error?_0x25a3c5[_0x2e7845(0x7d9)]:typeof _0x25a3c5==_0x2e7845(0x1ef)?JSON[_0x2e7845(0x86d)](_0x25a3c5):_0x25a3c5,_0x1af65b=_0x427f0d+':\x20'+_0x68007e;throw this[_0x2e7845(0x241)][_0x2e7845(0x812)](this[_0x2e7845(0x7d7)]+'\x20('+this[_0x2e7845(0x7fc)][_0x2e7845(0x3c3)]+_0x2e7845(0x4a5)+_0x1af65b),new m(_0x1af65b);}}async[a0_0x5c0bdf(0x4dc)](){const _0xf061c0=a0_0x5c0bdf;try{this[_0xf061c0(0x241)]['verbose'](this[_0xf061c0(0x7d7)]+'\x20('+this['instance'][_0xf061c0(0x3c3)]+_0xf061c0(0x53e)),await this[_0xf061c0(0x839)]();let _0x3dbd36=await this[_0xf061c0(0x8ea)][_0xf061c0(0x6b5)][_0xf061c0(0x8e7)]({'where':{'globalShow':!0x0}});return[...this[_0xf061c0(0x587)][_0xf061c0(0x3f3)],..._0x3dbd36];}catch(_0x1d9ceb){return this[_0xf061c0(0x241)]['error'](this[_0xf061c0(0x7d7)]+'\x20('+this[_0xf061c0(0x7fc)]['wuid']+_0xf061c0(0x761)+(_0x1d9ceb instanceof Error?_0x1d9ceb['message']:JSON['stringify'](_0x1d9ceb,null,0x2))),{'message':_0xf061c0(0x336)+(_0x1d9ceb instanceof Error?_0x1d9ceb[_0xf061c0(0x7d9)]:String(_0x1d9ceb))};}}async['editFlow'](_0x52e545,_0x498ae7){const _0x5f173c=a0_0x5c0bdf;try{this[_0x5f173c(0x241)][_0x5f173c(0x8af)](this[_0x5f173c(0x7d7)]+'\x20('+this[_0x5f173c(0x7fc)]['wuid']+_0x5f173c(0x289));let _0x2f1034=this['AutomateSystem'][_0x5f173c(0x3f3)][_0x5f173c(0x50f)](_0xe6876f=>_0xe6876f[_0x5f173c(0x2c7)]===_0x52e545[_0x5f173c(0x2c7)]);if(!_0x2f1034)throw this[_0x5f173c(0x241)][_0x5f173c(0x8af)](this['instanceName']+'\x20('+this[_0x5f173c(0x7fc)]['wuid']+_0x5f173c(0x7d3)+_0x52e545[_0x5f173c(0x2c7)]+_0x5f173c(0x72a)),new m(_0x5f173c(0x22a));let _0x6ac55d=await this[_0x5f173c(0x8ea)][_0x5f173c(0x6b5)][_0x5f173c(0x81e)]({'where':{'_id':_0x52e545[_0x5f173c(0x2c7)]}});if(!_0x6ac55d||!_0x6ac55d['whoCanUse']?.[_0x5f173c(0x4ee)](this['instance'][_0x5f173c(0x3c3)]))throw this['logger'][_0x5f173c(0x812)](this[_0x5f173c(0x7d7)]+'\x20('+this[_0x5f173c(0x7fc)][_0x5f173c(0x3c3)]+'):\x20Flow\x20\x27'+_0x52e545[_0x5f173c(0x2c7)]+_0x5f173c(0x498)),new m(_0x5f173c(0x1b0)+_0x52e545['_id']+_0x5f173c(0x498));let _0x383345=this['AutomateSystem'][_0x5f173c(0x3f3)][_0x5f173c(0x358)](_0x222da0=>_0x222da0['_id']===_0x2f1034['_id']);if(_0x383345!==-0x1){let _0x2c8284=this['AutomateSystem'][_0x5f173c(0x3f3)][_0x383345];if(_0x2c8284[_0x5f173c(0x35d)]=_0x52e545[_0x5f173c(0x35d)]??_0x2c8284['name'],_0x2c8284[_0x5f173c(0x32c)]=_0x52e545[_0x5f173c(0x32c)]??_0x2c8284['default'],_0x2c8284[_0x5f173c(0x6ab)]=_0x52e545[_0x5f173c(0x6ab)]??_0x2c8284[_0x5f173c(0x6ab)],_0x2c8284['startCommand']=_0x52e545[_0x5f173c(0x361)]??_0x2c8284['startCommand'],_0x2c8284[_0x5f173c(0x454)]=_0x52e545[_0x5f173c(0x454)]??_0x2c8284['minutesToClose'],_0x2c8284[_0x5f173c(0x3f5)]=_0x52e545[_0x5f173c(0x3f5)]??_0x2c8284['readMessages'],_0x52e545['default']&&this[_0x5f173c(0x587)][_0x5f173c(0x3f3)][_0x5f173c(0x91c)]((_0xf3ae1b,_0x2e8367)=>{const _0x2b11e0=_0x5f173c;_0x2e8367!==_0x383345&&(_0xf3ae1b[_0x2b11e0(0x32c)]=!0x1);}),this['AutomateSystem']['flows'][_0x383345]=_0x2c8284,!await this[_0x5f173c(0x8ea)][_0x5f173c(0x92a)][_0x5f173c(0x1d0)]({'flows':this['AutomateSystem'][_0x5f173c(0x3f3)]},this[_0x5f173c(0x7fc)][_0x5f173c(0x3c3)]))throw new m(_0x5f173c(0x5ab));}let _0x557a36=[_0x5f173c(0x65d),'startID',_0x5f173c(0x821),_0x5f173c(0x44e)];for(let _0x1f2df7 of _0x557a36)delete _0x52e545[_0x1f2df7];if(_0x6ac55d['whoCanEdit']?.[_0x5f173c(0x4ee)](this[_0x5f173c(0x7fc)][_0x5f173c(0x3c3)])||(_0x52e545={'_id':_0x52e545[_0x5f173c(0x2c7)]}),_0x498ae7!==Ri&&_0x52e545?.[_0x5f173c(0x72b)]&&!_0x6ac55d?.[_0x5f173c(0x72b)])throw new m(_0x5f173c(0x244));let _0x4ed9f9=new Set(_0x52e545[_0x5f173c(0x552)]??_0x6ac55d[_0x5f173c(0x552)]);_0x4ed9f9[_0x5f173c(0x92c)](_0x6ac55d[_0x5f173c(0x3f7)]);let _0x2ad68a=new Set(_0x52e545[_0x5f173c(0x7ad)]??_0x6ac55d['whoCanUse']??[]);_0x4ed9f9[_0x5f173c(0x91c)](_0x5ba200=>_0x2ad68a[_0x5f173c(0x92c)](_0x5ba200)),_0x2ad68a[_0x5f173c(0x92c)](_0x6ac55d[_0x5f173c(0x3f7)]),this[_0x5f173c(0x241)][_0x5f173c(0x8af)](this[_0x5f173c(0x7d7)]+'\x20('+this[_0x5f173c(0x7fc)][_0x5f173c(0x3c3)]+_0x5f173c(0x6a3)+Array[_0x5f173c(0x4ea)](_0x4ed9f9)),this[_0x5f173c(0x241)][_0x5f173c(0x8af)](this[_0x5f173c(0x7d7)]+'\x20('+this['instance'][_0x5f173c(0x3c3)]+_0x5f173c(0x5ba)+Array['from'](_0x2ad68a));let _0x1e2eeb=await this[_0x5f173c(0x518)](Array['from'](_0x2ad68a)),_0x2b5875=Array[_0x5f173c(0x4ea)](_0x4ed9f9)[_0x5f173c(0x755)](_0xd8dcaf=>_0x1e2eeb[_0x5f173c(0x4ee)](_0xd8dcaf)),_0x3dae2f=Array['from'](_0x2ad68a)[_0x5f173c(0x755)](_0x230802=>_0x1e2eeb[_0x5f173c(0x4ee)](_0x230802));this['logger'][_0x5f173c(0x8af)](this[_0x5f173c(0x7d7)]+'\x20('+this['instance'][_0x5f173c(0x3c3)]+_0x5f173c(0x3f0)+_0x2b5875),this[_0x5f173c(0x241)][_0x5f173c(0x8af)](this[_0x5f173c(0x7d7)]+'\x20('+this[_0x5f173c(0x7fc)]['wuid']+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x3dae2f);let _0x2e8941={..._0x6ac55d,..._0x52e545,'whoCanEdit':_0x2b5875,'whoCanUse':_0x3dae2f},_0xe55ec8=await this[_0x5f173c(0x8ea)][_0x5f173c(0x6b5)][_0x5f173c(0x411)](_0x6ac55d[_0x5f173c(0x2c7)],_0x2e8941);return await this[_0x5f173c(0x839)](),_0xe55ec8;}catch(_0x3e5568){let _0x2f12e4=_0x5f173c(0x7cd),_0x4d300c=_0x3e5568 instanceof Error?_0x3e5568['message']:typeof _0x3e5568==_0x5f173c(0x1ef)?JSON[_0x5f173c(0x86d)](_0x3e5568):_0x3e5568,_0x5d458b=_0x2f12e4+':\x20'+_0x4d300c;throw this[_0x5f173c(0x241)][_0x5f173c(0x812)](this['instanceName']+'\x20('+this[_0x5f173c(0x7fc)][_0x5f173c(0x3c3)]+'):\x20'+_0x5d458b),new m(_0x5d458b);}}async[a0_0x5c0bdf(0x518)](_0x452e1c){const _0x186203=a0_0x5c0bdf;let _0x4c7a2c={'numbers':_0x452e1c};return(await this[_0x186203(0x638)](_0x4c7a2c))[_0x186203(0x755)](_0x55df41=>_0x55df41['exists'])[_0x186203(0x6df)](_0x536b52=>_0x536b52['jid'])['map'](_0x355333=>this[_0x186203(0x7e1)](_0x355333));}[a0_0x5c0bdf(0x7e1)](_0x5f13c6){const _0x3ad1d6=a0_0x5c0bdf;let _0x1e5dce=_0x5f13c6[_0x3ad1d6(0x211)](/\d+/);return _0x1e5dce?_0x1e5dce[0x0]:'';}async['editFlowBlock'](_0x2f4c39){const _0x455f65=a0_0x5c0bdf;try{if(this[_0x455f65(0x241)][_0x455f65(0x8af)](this[_0x455f65(0x7d7)]+'\x20('+this[_0x455f65(0x7fc)]['wuid']+'):\x20Editando\x20bloco...'),!this[_0x455f65(0x587)]['flows'][_0x455f65(0x50f)](_0x38a79c=>_0x38a79c[_0x455f65(0x2c7)]===_0x2f4c39[_0x455f65(0x2c7)]))throw this[_0x455f65(0x241)][_0x455f65(0x8af)](this[_0x455f65(0x7d7)]+'\x20('+this[_0x455f65(0x7fc)]['wuid']+'):\x20Fluxo\x20\x27'+_0x2f4c39[_0x455f65(0x2c7)]+_0x455f65(0x72a)),new m(_0x455f65(0x22a));let _0x5a7659=await this['repository']['flow'][_0x455f65(0x81e)]({'where':{'_id':_0x2f4c39[_0x455f65(0x2c7)]}});if(!_0x5a7659||!_0x5a7659[_0x455f65(0x7ad)]?.['includes'](this['instance'][_0x455f65(0x3c3)]))throw this[_0x455f65(0x241)]['error'](this[_0x455f65(0x7d7)]+'\x20('+this[_0x455f65(0x7fc)][_0x455f65(0x3c3)]+'):\x20Flow\x20\x27'+_0x2f4c39[_0x455f65(0x2c7)]+_0x455f65(0x498)),new m(_0x455f65(0x1b0)+_0x2f4c39[_0x455f65(0x2c7)]+_0x455f65(0x498));if(!_0x5a7659[_0x455f65(0x552)]?.[_0x455f65(0x4ee)](this[_0x455f65(0x7fc)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x41d6e6}=_0x2f4c39;_0x41d6e6?.[_0x455f65(0x300)]?this[_0x455f65(0x3dd)](_0x5a7659,_0x2f4c39):_0x41d6e6?.[_0x455f65(0x221)]?this['deleteBlock'](_0x5a7659,_0x2f4c39):_0x41d6e6['_id']?await this[_0x455f65(0x85a)](_0x5a7659,_0x2f4c39):this[_0x455f65(0x41e)](_0x5a7659,_0x2f4c39);let _0x4704b0=await this[_0x455f65(0x8ea)][_0x455f65(0x6b5)][_0x455f65(0x411)](_0x5a7659[_0x455f65(0x2c7)],_0x5a7659);if(!_0x4704b0)throw new Error(_0x455f65(0x8b4));return _0x4704b0;}catch(_0x45ce8f){this[_0x455f65(0x255)](_0x455f65(0x8f6)+_0x45ce8f[_0x455f65(0x7d9)]);}}async['copyBlock'](_0x6aac4c,_0x48745f){const _0x5ea3dd=a0_0x5c0bdf;let _0x50f193=_0x48745f[_0x5ea3dd(0x642)][_0x5ea3dd(0x2c7)],_0x34adc6=_0x6aac4c[_0x5ea3dd(0x234)][_0x5ea3dd(0x50f)](_0x4ec3ba=>_0x4ec3ba[_0x5ea3dd(0x2c7)][_0x5ea3dd(0x281)]()===_0x50f193);if(!_0x34adc6){this[_0x5ea3dd(0x241)]['error'](this[_0x5ea3dd(0x7d7)]+'\x20('+this[_0x5ea3dd(0x7fc)]['wuid']+_0x5ea3dd(0x4ad)+_0x50f193+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x5ea3dd(0x241)][_0x5ea3dd(0x8af)](this['instanceName']+'\x20('+this[_0x5ea3dd(0x7fc)][_0x5ea3dd(0x3c3)]+_0x5ea3dd(0x947)+JSON[_0x5ea3dd(0x86d)](_0x34adc6));let _0xd71a99=JSON[_0x5ea3dd(0x4d9)](JSON[_0x5ea3dd(0x86d)](_0x34adc6));_0xd71a99['_id']=new pe[(_0x5ea3dd(0x32c))][(_0x5ea3dd(0x339))][(_0x5ea3dd(0x624))](),this[_0x5ea3dd(0x241)][_0x5ea3dd(0x8af)](this[_0x5ea3dd(0x7d7)]+'\x20('+this['instance'][_0x5ea3dd(0x3c3)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x5ea3dd(0x86d)](_0xd71a99)),_0x6aac4c[_0x5ea3dd(0x234)][_0x5ea3dd(0x2c1)](_0xd71a99),this[_0x5ea3dd(0x532)](_0x6aac4c[_0x5ea3dd(0x234)],_0xd71a99[_0x5ea3dd(0x5f1)]);}[a0_0x5c0bdf(0x255)](_0x2d0de0){const _0xd6251d=a0_0x5c0bdf;throw this[_0xd6251d(0x241)][_0xd6251d(0x812)](this['instanceName']+'\x20('+this[_0xd6251d(0x7fc)][_0xd6251d(0x3c3)]+_0xd6251d(0x4a5)+_0x2d0de0),new m(_0x2d0de0);}[a0_0x5c0bdf(0x3b8)](_0x242e3e,_0x124bd6){const _0x3a3915=a0_0x5c0bdf;let {block:_0x1719a2}=_0x124bd6;if(_0x1719a2[_0x3a3915(0x5a8)]===_0x3a3915(0x929)){this[_0x3a3915(0x255)](_0x3a3915(0x6eb));return;}if(!_0x1719a2[_0x3a3915(0x2c7)]){this[_0x3a3915(0x255)](_0x3a3915(0x223));return;}let _0x3882fb=_0x242e3e['blocks'][_0x3a3915(0x50f)](_0x2f8cd7=>_0x2f8cd7[_0x3a3915(0x2c7)][_0x3a3915(0x281)]()===_0x124bd6[_0x3a3915(0x642)]['_id'][_0x3a3915(0x281)]());if(!_0x3882fb){this['throwAndLogError'](_0x3a3915(0x399)+_0x1719a2['_id']+_0x3a3915(0x3d6));return;}_0x242e3e[_0x3a3915(0x234)]=_0x242e3e[_0x3a3915(0x234)][_0x3a3915(0x755)](_0x33a55e=>_0x33a55e['_id'][_0x3a3915(0x281)]()!==_0x124bd6[_0x3a3915(0x642)][_0x3a3915(0x2c7)][_0x3a3915(0x281)]()),_0x242e3e['conditions']=_0x242e3e[_0x3a3915(0x48f)][_0x3a3915(0x755)](_0x44ea9c=>_0x44ea9c[_0x3a3915(0x721)]!==_0x1719a2[_0x3a3915(0x2c7)]['toString']()),_0x242e3e[_0x3a3915(0x3b7)]=_0x242e3e['varedits']['filter'](_0x785b9=>_0x785b9[_0x3a3915(0x721)]!==_0x1719a2[_0x3a3915(0x2c7)]['toString']()),_0x242e3e[_0x3a3915(0x722)]=_0x242e3e[_0x3a3915(0x722)]['filter'](_0x3d5f4d=>_0x3d5f4d['blockId']!==_0x1719a2[_0x3a3915(0x2c7)][_0x3a3915(0x281)]()),this[_0x3a3915(0x532)](_0x242e3e['blocks'],_0x3882fb[_0x3a3915(0x5f1)]);}async[a0_0x5c0bdf(0x85a)](_0x334ab9,_0x36f93d){const _0x176e91=a0_0x5c0bdf;let _0x427600=_0x334ab9['blocks']['findIndex'](_0x132684=>_0x132684[_0x176e91(0x2c7)]['toString']()===_0x36f93d[_0x176e91(0x642)][_0x176e91(0x2c7)][_0x176e91(0x281)]());if(this['logger'][_0x176e91(0x8af)](this[_0x176e91(0x7d7)]+'\x20('+this[_0x176e91(0x7fc)][_0x176e91(0x3c3)]+_0x176e91(0x664)+_0x427600),_0x427600===-0x1){this[_0x176e91(0x241)][_0x176e91(0x8af)]('Bloco\x20com\x20ID\x20'+_0x36f93d[_0x176e91(0x642)][_0x176e91(0x2c7)]+_0x176e91(0x6fa));return;}if(_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x5a8)]===_0x176e91(0x929)){let _0xc460b3=Object['keys'](_0x36f93d[_0x176e91(0x642)]);if(_0xc460b3['length']>0x2||_0xc460b3[_0x176e91(0x235)]===0x2&&!_0xc460b3[_0x176e91(0x4ee)]('next_groupId')){this[_0x176e91(0x255)](_0x176e91(0x82b));return;}}let _0x2c9856=_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x5f1)];for(let _0x20535e in _0x36f93d['block'])_0x36f93d[_0x176e91(0x642)]['hasOwnProperty'](_0x20535e)&&(_0x334ab9[_0x176e91(0x234)][_0x427600][_0x20535e]=_0x36f93d[_0x176e91(0x642)][_0x20535e]);if(this[_0x176e91(0x241)][_0x176e91(0x8af)](this[_0x176e91(0x7d7)]+'\x20('+this[_0x176e91(0x7fc)]['wuid']+_0x176e91(0x675)+JSON['stringify'](_0x334ab9[_0x176e91(0x234)][_0x427600])),_0x334ab9['blocks'][_0x427600]['apirequest']&&'header'in _0x334ab9[_0x176e91(0x234)][_0x427600]['apirequest']){this[_0x176e91(0x241)][_0x176e91(0x8af)](this[_0x176e91(0x7d7)]+'\x20('+this[_0x176e91(0x7fc)][_0x176e91(0x3c3)]+_0x176e91(0x524));let _0x4b44f9=JSON[_0x176e91(0x86d)](_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)][_0x176e91(0x6ba)],null,0x1);_0x4b44f9['length']>0x2&&(_0x4b44f9=_0x4b44f9[_0x176e91(0x89e)](0x1,_0x4b44f9[_0x176e91(0x235)]-0x1)[_0x176e91(0x55c)]()),_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)]['headerString']=_0x4b44f9;}if(_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)]&&_0x176e91(0x72e)in _0x334ab9['blocks'][_0x427600][_0x176e91(0x6a0)]&&!(_0x176e91(0x64e)in _0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)])){this[_0x176e91(0x241)][_0x176e91(0x8af)](this['instanceName']+'\x20('+this[_0x176e91(0x7fc)][_0x176e91(0x3c3)]+_0x176e91(0x903)),_0x334ab9['blocks'][_0x427600][_0x176e91(0x6a0)][_0x176e91(0x4a6)]=!0x1;let _0x3727dc=JSON['stringify'](_0x334ab9['blocks'][_0x427600][_0x176e91(0x6a0)][_0x176e91(0x72e)],null,0x2);_0x334ab9[_0x176e91(0x234)][_0x427600]['apirequest'][_0x176e91(0x64e)]=_0x3727dc;}if(_0x334ab9[_0x176e91(0x234)][_0x427600]['apirequest']&&'bodyString'in _0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)]){_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)][_0x176e91(0x4a6)]=!0x1;let _0x5e79d3=_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)][_0x176e91(0x64e)],_0x304070=this['beautifyWithPlaceholders'](_0x5e79d3);_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)][_0x176e91(0x64e)]=_0x304070[_0x176e91(0x21a)],_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x6a0)][_0x176e91(0x4a6)]=_0x304070[_0x176e91(0x812)];}let _0x14590f=_0x334ab9[_0x176e91(0x234)][_0x427600][_0x176e91(0x5f1)];_0x2c9856!==_0x14590f?(this['reorderBlocks'](_0x334ab9[_0x176e91(0x234)],_0x2c9856),this[_0x176e91(0x532)](_0x334ab9[_0x176e91(0x234)],_0x14590f)):this[_0x176e91(0x532)](_0x334ab9[_0x176e91(0x234)],_0x2c9856);}[a0_0x5c0bdf(0x4f4)](_0x66dfe2){const _0x39c9b6=a0_0x5c0bdf;let _0x1f9007='\u205f',_0x3d00c8=!0x1,_0x4b849a='';for(let _0x4f1f7c=0x0;_0x4f1f7c<_0x66dfe2[_0x39c9b6(0x235)];_0x4f1f7c++){let _0x1d870f=_0x66dfe2[_0x4f1f7c];_0x1d870f==='\x22'&&(_0x4f1f7c===0x0||_0x66dfe2[_0x4f1f7c-0x1]!=='\x5c')&&(_0x3d00c8=!_0x3d00c8),!(!_0x3d00c8&&(_0x1d870f==='\x0a'||_0x1d870f==='\x20'||_0x1d870f===_0x1f9007))&&(_0x4b849a+=_0x1d870f);}let _0x469d4f={},_0x579247=9876543210.1234,_0x47b8a6=_0x4b849a['replace'](/\{\{([^}]+)\}\}/g,_0x5cb882=>{let _0x3c947c=_0x5cb882,_0xb29e66=''+_0x579247;return _0x469d4f[_0xb29e66]=_0x3c947c,_0x579247+=0.0001,_0xb29e66;}),_0x46506d='',_0x1a6642=!0x1;try{let _0xc3eae=JSON[_0x39c9b6(0x4d9)](_0x47b8a6);_0x46506d=JSON[_0x39c9b6(0x86d)](_0xc3eae,null,0x2),_0x46506d=_0x46506d[_0x39c9b6(0x8df)](/\n( +)/g,(_0x20722c,_0x1e195d)=>{const _0x42de58=_0x39c9b6;let _0x17da0b=_0x1e195d[_0x42de58(0x235)];return'\x0a'+_0x1f9007[_0x42de58(0x351)](_0x17da0b*0x2);}),_0x46506d=_0x46506d[_0x39c9b6(0x8df)](/(\d{10,}\.\d+)/g,_0x4c0a75=>_0x469d4f[_0x4c0a75]||_0x4c0a75);}catch(_0x52aa81){this['logger'][_0x39c9b6(0x812)](_0x39c9b6(0x7d6)+_0x52aa81),_0x46506d=_0x66dfe2,_0x1a6642=!0x0;}return{'result':_0x46506d,'error':_0x1a6642};}[a0_0x5c0bdf(0x41e)](_0xbe2aff,_0xa6678a){const _0x3d29e4=a0_0x5c0bdf;if(_0xa6678a['block'][_0x3d29e4(0x5a8)]===_0x3d29e4(0x929)){this[_0x3d29e4(0x255)](_0x3d29e4(0x666));return;}if(_0xa6678a[_0x3d29e4(0x642)][_0x3d29e4(0x6a0)]&&_0x3d29e4(0x6ba)in _0xa6678a[_0x3d29e4(0x642)][_0x3d29e4(0x6a0)]){this[_0x3d29e4(0x241)][_0x3d29e4(0x8af)](this['instanceName']+'\x20('+this[_0x3d29e4(0x7fc)][_0x3d29e4(0x3c3)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0xe630f1=JSON[_0x3d29e4(0x86d)](_0xa6678a[_0x3d29e4(0x642)][_0x3d29e4(0x6a0)][_0x3d29e4(0x6ba)],null,0x1);_0xe630f1[_0x3d29e4(0x235)]>0x2&&(_0xe630f1=_0xe630f1['substring'](0x1,_0xe630f1[_0x3d29e4(0x235)]-0x1)[_0x3d29e4(0x55c)]()),_0xa6678a[_0x3d29e4(0x642)][_0x3d29e4(0x6a0)][_0x3d29e4(0x7a6)]=_0xe630f1;}_0xa6678a[_0x3d29e4(0x642)][_0x3d29e4(0x6a0)]&&_0x3d29e4(0x72e)in _0xa6678a['block'][_0x3d29e4(0x6a0)]&&(this[_0x3d29e4(0x241)][_0x3d29e4(0x8af)](this[_0x3d29e4(0x7d7)]+'\x20('+this[_0x3d29e4(0x7fc)][_0x3d29e4(0x3c3)]+_0x3d29e4(0x903)),_0xa6678a['block'][_0x3d29e4(0x6a0)][_0x3d29e4(0x64e)]=JSON[_0x3d29e4(0x86d)](_0xa6678a['block'][_0x3d29e4(0x6a0)][_0x3d29e4(0x72e)],null,0x1)['trim']()),_0xbe2aff[_0x3d29e4(0x234)][_0x3d29e4(0x2c1)](_0xa6678a[_0x3d29e4(0x642)]),this[_0x3d29e4(0x532)](_0xbe2aff[_0x3d29e4(0x234)],_0xa6678a[_0x3d29e4(0x642)][_0x3d29e4(0x5f1)]);}[a0_0x5c0bdf(0x532)](_0x4c2089,_0x249b81){const _0x5cdd67=a0_0x5c0bdf;let _0x43b535=_0x4c2089[_0x5cdd67(0x755)](_0x2e4326=>_0x2e4326['groupId']===_0x249b81);_0x43b535[_0x5cdd67(0x474)]((_0x64d7c9,_0x5b8e0a)=>_0x64d7c9[_0x5cdd67(0x553)]-_0x5b8e0a[_0x5cdd67(0x553)]),_0x43b535['forEach']((_0x3b6c9c,_0x46e8b1)=>_0x3b6c9c[_0x5cdd67(0x553)]=_0x46e8b1+0x1);}async[a0_0x5c0bdf(0x33f)](_0x9d14ea){const _0x1b57a5=a0_0x5c0bdf;try{if(this[_0x1b57a5(0x241)][_0x1b57a5(0x8af)](this[_0x1b57a5(0x7d7)]+'\x20('+this['instance'][_0x1b57a5(0x3c3)]+_0x1b57a5(0x868)),!_0x9d14ea||!_0x9d14ea[_0x1b57a5(0x737)]){this[_0x1b57a5(0x255)](_0x1b57a5(0x418));return;}if(!this[_0x1b57a5(0x587)][_0x1b57a5(0x3f3)][_0x1b57a5(0x50f)](_0x5acaed=>_0x5acaed['_id']===_0x9d14ea[_0x1b57a5(0x2c7)]))throw this[_0x1b57a5(0x241)][_0x1b57a5(0x8af)](this['instanceName']+'\x20('+this[_0x1b57a5(0x7fc)]['wuid']+_0x1b57a5(0x7d3)+_0x9d14ea[_0x1b57a5(0x2c7)]+_0x1b57a5(0x72a)),new m(_0x1b57a5(0x22a));let _0x3e14a=await this['repository']['flow'][_0x1b57a5(0x81e)]({'where':{'_id':_0x9d14ea[_0x1b57a5(0x2c7)]}});if(!_0x3e14a||!_0x3e14a[_0x1b57a5(0x7ad)]?.[_0x1b57a5(0x4ee)](this[_0x1b57a5(0x7fc)]['wuid']))throw this[_0x1b57a5(0x241)][_0x1b57a5(0x812)](this[_0x1b57a5(0x7d7)]+'\x20('+this[_0x1b57a5(0x7fc)]['wuid']+_0x1b57a5(0x52d)+_0x9d14ea[_0x1b57a5(0x2c7)]+_0x1b57a5(0x498)),new m(_0x1b57a5(0x1b0)+_0x9d14ea[_0x1b57a5(0x2c7)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3e14a[_0x1b57a5(0x552)]?.[_0x1b57a5(0x4ee)](this['instance'][_0x1b57a5(0x3c3)]))throw new m(_0x1b57a5(0x71c));let {replyOption:_0x278725}=_0x9d14ea;_0x278725?.[_0x1b57a5(0x221)]?(this['deleteReplyOption'](_0x3e14a,_0x9d14ea),this[_0x1b57a5(0x900)](_0x3e14a[_0x1b57a5(0x722)],_0x9d14ea[_0x1b57a5(0x737)][_0x1b57a5(0x721)])):_0x278725[_0x1b57a5(0x2c7)]?(await this['updateReplyOption'](_0x3e14a,_0x9d14ea),this[_0x1b57a5(0x900)](_0x3e14a[_0x1b57a5(0x722)],_0x9d14ea[_0x1b57a5(0x737)][_0x1b57a5(0x721)])):(this[_0x1b57a5(0x463)](_0x3e14a,_0x9d14ea),this[_0x1b57a5(0x900)](_0x3e14a[_0x1b57a5(0x722)],_0x9d14ea[_0x1b57a5(0x737)][_0x1b57a5(0x721)]));let _0x2b1970=await this[_0x1b57a5(0x8ea)]['flow'][_0x1b57a5(0x411)](_0x3e14a[_0x1b57a5(0x2c7)],_0x3e14a);if(!_0x2b1970)throw new Error(_0x1b57a5(0x8b4));return _0x2b1970;}catch(_0x16eaf8){this[_0x1b57a5(0x255)](_0x1b57a5(0x58b)+_0x16eaf8);}}[a0_0x5c0bdf(0x900)](_0x4edc6a,_0x603428){const _0x509a43=a0_0x5c0bdf;_0x4edc6a[_0x509a43(0x91c)](_0xcb43a8=>{const _0x64ef36=_0x509a43;_0xcb43a8[_0x64ef36(0x721)]===_0x603428&&_0xcb43a8[_0x64ef36(0x553)]===void 0x0&&(_0xcb43a8[_0x64ef36(0x553)]=0x270f);});let _0x21cbd5=_0x4edc6a[_0x509a43(0x755)](_0x46793b=>_0x46793b[_0x509a43(0x721)]===_0x603428);_0x21cbd5[_0x509a43(0x474)]((_0x304e0d,_0x321333)=>_0x304e0d['order']-_0x321333['order']),_0x21cbd5[_0x509a43(0x91c)]((_0x3dec87,_0x1543fc)=>{_0x3dec87['order']=_0x1543fc+0x1;}),_0x4edc6a[_0x509a43(0x91c)](_0x4076c6=>{const _0x3f23a4=_0x509a43;if(_0x4076c6[_0x3f23a4(0x721)]===_0x603428){let _0x312e90=_0x21cbd5[_0x3f23a4(0x50f)](_0x47abd4=>_0x47abd4[_0x3f23a4(0x2c7)]&&_0x4076c6[_0x3f23a4(0x2c7)]&&_0x47abd4[_0x3f23a4(0x2c7)][_0x3f23a4(0x281)]()===_0x4076c6[_0x3f23a4(0x2c7)][_0x3f23a4(0x281)]());_0x312e90&&(_0x4076c6[_0x3f23a4(0x553)]=_0x312e90['order']);}});}[a0_0x5c0bdf(0x501)](_0x1e6291,_0x4dde6a){const _0x20b699=a0_0x5c0bdf;let {replyOption:_0x2e7561}=_0x4dde6a;if(!_0x2e7561[_0x20b699(0x2c7)]){this[_0x20b699(0x255)](_0x20b699(0x3ff));return;}if(!_0x1e6291[_0x20b699(0x722)]['find'](_0x582941=>_0x582941[_0x20b699(0x2c7)][_0x20b699(0x281)]()===_0x4dde6a[_0x20b699(0x737)]['_id']['toString']())){this['throwAndLogError'](_0x20b699(0x6f7)+_0x2e7561['_id']+'\x20não\x20encontrado');return;}_0x1e6291[_0x20b699(0x722)]=_0x1e6291[_0x20b699(0x722)][_0x20b699(0x755)](_0x23c755=>_0x23c755[_0x20b699(0x2c7)]['toString']()!==_0x4dde6a[_0x20b699(0x737)][_0x20b699(0x2c7)]['toString']());}async['updateReplyOption'](_0x23d187,_0x162f1e){const _0x146b22=a0_0x5c0bdf;let _0x741c38=_0x23d187['replyOptions'][_0x146b22(0x358)](_0x2150a2=>_0x2150a2[_0x146b22(0x2c7)][_0x146b22(0x281)]()===_0x162f1e[_0x146b22(0x737)][_0x146b22(0x2c7)][_0x146b22(0x281)]());if(_0x741c38===-0x1){this[_0x146b22(0x255)](_0x146b22(0x6f7)+_0x162f1e[_0x146b22(0x737)][_0x146b22(0x2c7)]+_0x146b22(0x6fa));return;}for(let _0x313541 in _0x162f1e[_0x146b22(0x737)])_0x162f1e['replyOption']['hasOwnProperty'](_0x313541)&&(_0x23d187[_0x146b22(0x722)][_0x741c38][_0x313541]=_0x162f1e['replyOption'][_0x313541]);}[a0_0x5c0bdf(0x463)](_0x26d71b,_0x42c2f9){const _0x1a2efe=a0_0x5c0bdf;_0x26d71b[_0x1a2efe(0x722)][_0x1a2efe(0x2c1)](_0x42c2f9[_0x1a2efe(0x737)]);}async[a0_0x5c0bdf(0x779)](_0x3704ce){const _0x1d27c8=a0_0x5c0bdf;this[_0x1d27c8(0x241)][_0x1d27c8(0x8af)](this['instanceName']+'\x20('+this[_0x1d27c8(0x7fc)][_0x1d27c8(0x3c3)]+_0x1d27c8(0x278)+JSON[_0x1d27c8(0x86d)](_0x3704ce,null,0x2));try{if(this['logger'][_0x1d27c8(0x8af)](this[_0x1d27c8(0x7d7)]+'\x20('+this[_0x1d27c8(0x7fc)][_0x1d27c8(0x3c3)]+_0x1d27c8(0x621)),!this[_0x1d27c8(0x587)][_0x1d27c8(0x3f3)][_0x1d27c8(0x50f)](_0x5b7f94=>_0x5b7f94[_0x1d27c8(0x2c7)]===_0x3704ce['_id']))throw this[_0x1d27c8(0x241)][_0x1d27c8(0x8af)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1d27c8(0x7d3)+_0x3704ce[_0x1d27c8(0x2c7)]+_0x1d27c8(0x72a)),new m(_0x1d27c8(0x22a));let _0x4827dd=await this[_0x1d27c8(0x8ea)][_0x1d27c8(0x6b5)][_0x1d27c8(0x81e)]({'where':{'_id':_0x3704ce[_0x1d27c8(0x2c7)]}});if(!_0x4827dd||!_0x4827dd[_0x1d27c8(0x7ad)]?.[_0x1d27c8(0x4ee)](this[_0x1d27c8(0x7fc)][_0x1d27c8(0x3c3)]))throw this[_0x1d27c8(0x241)][_0x1d27c8(0x812)](this[_0x1d27c8(0x7d7)]+'\x20('+this['instance'][_0x1d27c8(0x3c3)]+_0x1d27c8(0x52d)+_0x3704ce[_0x1d27c8(0x2c7)]+_0x1d27c8(0x498)),new m(_0x1d27c8(0x1b0)+_0x3704ce['_id']+_0x1d27c8(0x498));if(!_0x4827dd[_0x1d27c8(0x552)]?.[_0x1d27c8(0x4ee)](this['instance'][_0x1d27c8(0x3c3)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x3704ce[_0x1d27c8(0x7e2)]&&_0x3704ce[_0x1d27c8(0x7e2)]?.[_0x1d27c8(0x221)]===!0x0){if(this[_0x1d27c8(0x241)][_0x1d27c8(0x8af)](this[_0x1d27c8(0x7d7)]+'\x20('+this[_0x1d27c8(0x7fc)][_0x1d27c8(0x3c3)]+_0x1d27c8(0x556)),_0x3704ce['group'][_0x1d27c8(0x32c)]===!0x0)return{'message':_0x1d27c8(0x371)};if(_0x4827dd[_0x1d27c8(0x234)]['some'](_0x344aff=>_0x344aff[_0x1d27c8(0x5f1)][_0x1d27c8(0x281)]()===_0x3704ce[_0x1d27c8(0x7e2)]['_id']))return this[_0x1d27c8(0x241)][_0x1d27c8(0x8af)](this[_0x1d27c8(0x7d7)]+'\x20('+this[_0x1d27c8(0x7fc)][_0x1d27c8(0x3c3)]+_0x1d27c8(0x8e3)),{'message':_0x1d27c8(0x37a)};_0x4827dd['groups']=_0x4827dd[_0x1d27c8(0x831)][_0x1d27c8(0x755)](_0x16556d=>_0x16556d[_0x1d27c8(0x2c7)][_0x1d27c8(0x281)]()!==_0x3704ce['group'][_0x1d27c8(0x2c7)]);}else{if(_0x3704ce[_0x1d27c8(0x7e2)]){if(_0x3704ce['group'][_0x1d27c8(0x32c)]===!0x0)return{'message':_0x1d27c8(0x265)};if(_0x3704ce[_0x1d27c8(0x7e2)][_0x1d27c8(0x2c7)]){let _0xd3da11=_0x4827dd['groups']['find'](_0x16e052=>_0x16e052[_0x1d27c8(0x2c7)]['toString']()===_0x3704ce[_0x1d27c8(0x7e2)][_0x1d27c8(0x2c7)]);_0xd3da11&&(_0x3704ce[_0x1d27c8(0x7e2)]['x']<0x0&&(_0x3704ce[_0x1d27c8(0x7e2)]['x']=0x0),_0x3704ce[_0x1d27c8(0x7e2)]['y']<0x0&&(_0x3704ce['group']['y']=0x0),Object[_0x1d27c8(0x2bb)](_0xd3da11,_0x3704ce[_0x1d27c8(0x7e2)]));}else _0x4827dd[_0x1d27c8(0x831)][_0x1d27c8(0x2c1)](_0x3704ce[_0x1d27c8(0x7e2)]);}}let _0x3a9548=await this[_0x1d27c8(0x8ea)][_0x1d27c8(0x6b5)]['updateOne'](_0x4827dd['_id'],_0x4827dd);if(!_0x3a9548)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3a9548;}catch(_0x15d3d5){let _0x16a1fa='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x1bf545=_0x15d3d5 instanceof Error?_0x15d3d5[_0x1d27c8(0x7d9)]:typeof _0x15d3d5==_0x1d27c8(0x1ef)?JSON[_0x1d27c8(0x86d)](_0x15d3d5):_0x15d3d5,_0x218c52=_0x16a1fa+':\x20'+_0x1bf545;throw this['logger'][_0x1d27c8(0x812)](this[_0x1d27c8(0x7d7)]+'\x20('+this['instance'][_0x1d27c8(0x3c3)]+_0x1d27c8(0x4a5)+_0x218c52),new m(_0x218c52);}}async[a0_0x5c0bdf(0x699)](_0x44e3a8){const _0x5ef6da=a0_0x5c0bdf;try{if(this[_0x5ef6da(0x241)]['verbose'](this[_0x5ef6da(0x7d7)]+'\x20('+this['instance'][_0x5ef6da(0x3c3)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this[_0x5ef6da(0x587)]['flows'][_0x5ef6da(0x50f)](_0x24329c=>_0x24329c[_0x5ef6da(0x2c7)]===_0x44e3a8[_0x5ef6da(0x2c7)]))throw this[_0x5ef6da(0x241)][_0x5ef6da(0x8af)](this['instanceName']+'\x20('+this[_0x5ef6da(0x7fc)][_0x5ef6da(0x3c3)]+'):\x20Fluxo\x20\x27'+_0x44e3a8['_id']+_0x5ef6da(0x72a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4a19e8=await this[_0x5ef6da(0x8ea)]['flow'][_0x5ef6da(0x81e)]({'where':{'_id':_0x44e3a8[_0x5ef6da(0x2c7)]}});if(!_0x4a19e8||!_0x4a19e8['whoCanUse']?.['includes'](this['instance'][_0x5ef6da(0x3c3)]))throw this[_0x5ef6da(0x241)][_0x5ef6da(0x812)](this[_0x5ef6da(0x7d7)]+'\x20('+this['instance']['wuid']+_0x5ef6da(0x52d)+_0x44e3a8[_0x5ef6da(0x2c7)]+_0x5ef6da(0x498)),new m(_0x5ef6da(0x1b0)+_0x44e3a8[_0x5ef6da(0x2c7)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x4a19e8[_0x5ef6da(0x552)]?.[_0x5ef6da(0x4ee)](this[_0x5ef6da(0x7fc)][_0x5ef6da(0x3c3)]))throw new m(_0x5ef6da(0x71c));let _0x3659cd=!0x1;if(_0x44e3a8[_0x5ef6da(0x563)]?.[_0x5ef6da(0x221)]===!0x0)_0x4a19e8[_0x5ef6da(0x48f)]=_0x4a19e8[_0x5ef6da(0x48f)][_0x5ef6da(0x755)](_0x1c2247=>_0x1c2247&&_0x44e3a8[_0x5ef6da(0x563)]&&_0x1c2247[_0x5ef6da(0x2c7)]&&_0x44e3a8[_0x5ef6da(0x563)][_0x5ef6da(0x2c7)]&&_0x1c2247[_0x5ef6da(0x2c7)][_0x5ef6da(0x281)]()!==_0x44e3a8[_0x5ef6da(0x563)][_0x5ef6da(0x2c7)][_0x5ef6da(0x281)]()),_0x3659cd=!0x0;else{let _0x5885d2=_0x4a19e8[_0x5ef6da(0x48f)]['find'](_0x567349=>_0x567349&&_0x44e3a8[_0x5ef6da(0x563)]&&_0x567349[_0x5ef6da(0x2c7)]&&_0x44e3a8[_0x5ef6da(0x563)][_0x5ef6da(0x2c7)]&&_0x567349[_0x5ef6da(0x2c7)][_0x5ef6da(0x281)]()===_0x44e3a8[_0x5ef6da(0x563)]['_id'][_0x5ef6da(0x281)]());_0x5885d2?(_0x3659cd=_0x5885d2[_0x5ef6da(0x553)]!==_0x44e3a8['condition'][_0x5ef6da(0x553)],Object[_0x5ef6da(0x2bb)](_0x5885d2,_0x44e3a8[_0x5ef6da(0x563)])):(_0x4a19e8[_0x5ef6da(0x48f)][_0x5ef6da(0x2c1)](_0x44e3a8[_0x5ef6da(0x563)]),_0x3659cd=!0x0);}if(_0x3659cd){_0x4a19e8[_0x5ef6da(0x48f)]['sort']((_0x367f25,_0x58fde1)=>_0x367f25['order']>_0x58fde1[_0x5ef6da(0x553)]?0x1:_0x58fde1[_0x5ef6da(0x553)]>_0x367f25[_0x5ef6da(0x553)]?-0x1:0x0);for(let _0x33e82c=0x0;_0x33e82c<_0x4a19e8[_0x5ef6da(0x48f)][_0x5ef6da(0x235)];_0x33e82c++)_0x4a19e8[_0x5ef6da(0x48f)][_0x33e82c]['order']=_0x33e82c+0x1;_0x4a19e8[_0x5ef6da(0x48f)][_0x5ef6da(0x235)]>0x0&&(_0x4a19e8['conditions'][0x0][_0x5ef6da(0x696)]=_0x5ef6da(0x584));}let _0x3521b5=await this[_0x5ef6da(0x8ea)][_0x5ef6da(0x6b5)][_0x5ef6da(0x411)](_0x4a19e8['_id'],_0x4a19e8);if(!_0x3521b5)throw new Error(_0x5ef6da(0x8b4));return _0x3521b5;}catch(_0x171daa){let _0x47f576=_0x5ef6da(0x477),_0x577834=_0x171daa instanceof Error?_0x171daa[_0x5ef6da(0x7d9)]:typeof _0x171daa==_0x5ef6da(0x1ef)?JSON[_0x5ef6da(0x86d)](_0x171daa):_0x171daa,_0x151f1a=_0x47f576+':\x20'+_0x577834;throw this[_0x5ef6da(0x241)][_0x5ef6da(0x812)](this[_0x5ef6da(0x7d7)]+'\x20('+this[_0x5ef6da(0x7fc)][_0x5ef6da(0x3c3)]+_0x5ef6da(0x4a5)+_0x151f1a),new m(_0x151f1a);}}async[a0_0x5c0bdf(0x344)](_0x58e356){const _0x1c8da7=a0_0x5c0bdf;try{if(this[_0x1c8da7(0x241)][_0x1c8da7(0x8af)](this[_0x1c8da7(0x7d7)]+'\x20('+this[_0x1c8da7(0x7fc)][_0x1c8da7(0x3c3)]+_0x1c8da7(0x61e)),!this['AutomateSystem']['flows'][_0x1c8da7(0x50f)](_0xd804b2=>_0xd804b2[_0x1c8da7(0x2c7)]===_0x58e356[_0x1c8da7(0x2c7)]))throw this[_0x1c8da7(0x241)][_0x1c8da7(0x8af)](this[_0x1c8da7(0x7d7)]+'\x20('+this['instance'][_0x1c8da7(0x3c3)]+_0x1c8da7(0x7d3)+_0x58e356['_id']+_0x1c8da7(0x72a)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x1416ba=await this[_0x1c8da7(0x8ea)]['flow']['findOne']({'where':{'_id':_0x58e356[_0x1c8da7(0x2c7)]}});if(!_0x1416ba||!_0x1416ba[_0x1c8da7(0x7ad)]?.['includes'](this[_0x1c8da7(0x7fc)][_0x1c8da7(0x3c3)]))throw this['logger'][_0x1c8da7(0x812)](this['instanceName']+'\x20('+this[_0x1c8da7(0x7fc)][_0x1c8da7(0x3c3)]+_0x1c8da7(0x52d)+_0x58e356[_0x1c8da7(0x2c7)]+_0x1c8da7(0x498)),new m(_0x1c8da7(0x1b0)+_0x58e356[_0x1c8da7(0x2c7)]+_0x1c8da7(0x498));if(!_0x1416ba[_0x1c8da7(0x552)]?.[_0x1c8da7(0x4ee)](this[_0x1c8da7(0x7fc)][_0x1c8da7(0x3c3)]))throw new m(_0x1c8da7(0x71c));let _0x17ca7c=!0x1;if(_0x58e356[_0x1c8da7(0x56b)]?.[_0x1c8da7(0x221)]===!0x0)_0x1416ba[_0x1c8da7(0x3b7)]=_0x1416ba[_0x1c8da7(0x3b7)]['filter'](_0x43c714=>_0x43c714&&_0x58e356[_0x1c8da7(0x56b)]&&_0x43c714[_0x1c8da7(0x2c7)]&&_0x58e356[_0x1c8da7(0x56b)][_0x1c8da7(0x2c7)]&&_0x43c714[_0x1c8da7(0x2c7)][_0x1c8da7(0x281)]()!==_0x58e356[_0x1c8da7(0x56b)][_0x1c8da7(0x2c7)]['toString']()),_0x17ca7c=!0x0;else{let _0x2f9a87=_0x1416ba[_0x1c8da7(0x3b7)][_0x1c8da7(0x50f)](_0x2ebd37=>_0x2ebd37&&_0x58e356[_0x1c8da7(0x56b)]&&_0x2ebd37[_0x1c8da7(0x2c7)]&&_0x58e356[_0x1c8da7(0x56b)][_0x1c8da7(0x2c7)]&&_0x2ebd37[_0x1c8da7(0x2c7)][_0x1c8da7(0x281)]()===_0x58e356[_0x1c8da7(0x56b)][_0x1c8da7(0x2c7)][_0x1c8da7(0x281)]());_0x2f9a87?(_0x17ca7c=_0x2f9a87[_0x1c8da7(0x553)]!==_0x58e356[_0x1c8da7(0x56b)][_0x1c8da7(0x553)],Object[_0x1c8da7(0x2bb)](_0x2f9a87,_0x58e356['varedit'])):(_0x1416ba[_0x1c8da7(0x3b7)][_0x1c8da7(0x2c1)](_0x58e356[_0x1c8da7(0x56b)]),_0x17ca7c=!0x0);}if(_0x17ca7c){_0x1416ba['varedits']['sort']((_0x58eae6,_0xc841b8)=>_0x58eae6['order']>_0xc841b8[_0x1c8da7(0x553)]?0x1:_0xc841b8[_0x1c8da7(0x553)]>_0x58eae6[_0x1c8da7(0x553)]?-0x1:0x0);for(let _0x2d8534=0x0;_0x2d8534<_0x1416ba[_0x1c8da7(0x3b7)][_0x1c8da7(0x235)];_0x2d8534++)_0x1416ba[_0x1c8da7(0x3b7)][_0x2d8534][_0x1c8da7(0x553)]=_0x2d8534+0x1;}let _0x9a5dcb=await this[_0x1c8da7(0x8ea)][_0x1c8da7(0x6b5)][_0x1c8da7(0x411)](_0x1416ba['_id'],_0x1416ba);if(!_0x9a5dcb)throw new Error(_0x1c8da7(0x8b4));return _0x9a5dcb;}catch(_0x3dfca4){let _0x565edb=_0x1c8da7(0x477),_0x577216=_0x3dfca4 instanceof Error?_0x3dfca4[_0x1c8da7(0x7d9)]:typeof _0x3dfca4==_0x1c8da7(0x1ef)?JSON[_0x1c8da7(0x86d)](_0x3dfca4):_0x3dfca4,_0x35ae46=_0x565edb+':\x20'+_0x577216;throw this[_0x1c8da7(0x241)][_0x1c8da7(0x812)](this[_0x1c8da7(0x7d7)]+'\x20('+this[_0x1c8da7(0x7fc)]['wuid']+_0x1c8da7(0x4a5)+_0x35ae46),new m(_0x35ae46);}}async[a0_0x5c0bdf(0x5fb)](_0x55a91c){const _0x482433=a0_0x5c0bdf;try{if(this[_0x482433(0x241)][_0x482433(0x8af)](this['instanceName']+'\x20('+this[_0x482433(0x7fc)][_0x482433(0x3c3)]+_0x482433(0x54e)),!this[_0x482433(0x587)]['flows'][_0x482433(0x50f)](_0xfa0666=>_0xfa0666[_0x482433(0x2c7)]===_0x55a91c[_0x482433(0x2c7)]))throw this[_0x482433(0x241)][_0x482433(0x8af)](this[_0x482433(0x7d7)]+'\x20('+this[_0x482433(0x7fc)][_0x482433(0x3c3)]+'):\x20Fluxo\x20\x27'+_0x55a91c[_0x482433(0x2c7)]+'\x27\x20não\x20encontrado'),new m(_0x482433(0x22a));let _0xb7e6d5=await this[_0x482433(0x8ea)]['flow']['findOne']({'where':{'_id':_0x55a91c[_0x482433(0x2c7)]}});if(!_0xb7e6d5||!_0xb7e6d5[_0x482433(0x7ad)]?.['includes'](this[_0x482433(0x7fc)][_0x482433(0x3c3)]))throw this[_0x482433(0x241)][_0x482433(0x812)](this[_0x482433(0x7d7)]+'\x20('+this[_0x482433(0x7fc)][_0x482433(0x3c3)]+'):\x20Flow\x20\x27'+_0x55a91c['_id']+_0x482433(0x498)),new m(_0x482433(0x1b0)+_0x55a91c[_0x482433(0x2c7)]+_0x482433(0x498));if(!_0xb7e6d5['whoCanEdit']?.[_0x482433(0x4ee)](this['instance'][_0x482433(0x3c3)]))throw new m(_0x482433(0x71c));_0x55a91c[_0x482433(0x3e8)][_0x482433(0x35d)]=_0x55a91c[_0x482433(0x3e8)][_0x482433(0x35d)][_0x482433(0x55c)](),_0x55a91c[_0x482433(0x3e8)]['name']['startsWith']('_')&&(_0x55a91c[_0x482433(0x3e8)][_0x482433(0x35d)]=_0x55a91c[_0x482433(0x3e8)][_0x482433(0x35d)]['substring'](0x1)),_0x55a91c[_0x482433(0x3e8)][_0x482433(0x35d)]=_0x55a91c[_0x482433(0x3e8)][_0x482433(0x35d)][_0x482433(0x55c)]();let _0x8fc3de=_0xb7e6d5[_0x482433(0x1c0)]['find'](_0x2f28bc=>_0x2f28bc[_0x482433(0x35d)]===_0x55a91c['variable']['name']);if(_0x8fc3de?.[_0x482433(0x264)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x55a91c[_0x482433(0x3e8)]?.[_0x482433(0x221)]===!0x0){if(!_0x8fc3de)return{'message':'Variável\x20não\x20encontrada!'};_0xb7e6d5[_0x482433(0x1c0)]=_0xb7e6d5[_0x482433(0x1c0)][_0x482433(0x755)](_0x2bc703=>_0x2bc703[_0x482433(0x35d)]!==_0x55a91c['variable']['name']);}else _0x8fc3de?Object[_0x482433(0x2bb)](_0x8fc3de,_0x55a91c[_0x482433(0x3e8)]):_0xb7e6d5[_0x482433(0x1c0)][_0x482433(0x2c1)](_0x55a91c[_0x482433(0x3e8)]);let _0xb7ae30=await this[_0x482433(0x8ea)][_0x482433(0x6b5)]['updateOne'](_0xb7e6d5['_id'],_0xb7e6d5);if(!_0xb7ae30)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0xb7ae30;}catch(_0xd42f7f){let _0x4dc47b=_0x482433(0x20c),_0x505cca=_0xd42f7f instanceof Error?_0xd42f7f[_0x482433(0x7d9)]:typeof _0xd42f7f==_0x482433(0x1ef)?JSON[_0x482433(0x86d)](_0xd42f7f):_0xd42f7f,_0x19f261=_0x4dc47b+':\x20'+_0x505cca;throw this['logger']['error'](this[_0x482433(0x7d7)]+'\x20('+this['instance'][_0x482433(0x3c3)]+_0x482433(0x4a5)+_0x19f261),new m(_0x19f261);}}async['startFlow'](_0x163edf){const _0x240ddd=a0_0x5c0bdf;let _0x137ca9=null;try{if(!this[_0x240ddd(0x587)]?.[_0x240ddd(0x2ac)][_0x240ddd(0x5c3)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x240ddd(0x241)][_0x240ddd(0x8af)](this[_0x240ddd(0x7d7)]+'\x20('+this[_0x240ddd(0x7fc)][_0x240ddd(0x3c3)]+_0x240ddd(0x530));let _0x2201d4=(await this[_0x240ddd(0x638)]({'numbers':[_0x163edf[_0x240ddd(0x57e)]]}))[0x0];if(!_0x2201d4[_0x240ddd(0x856)]&&!(0x0,w[_0x240ddd(0x6cb)])(_0x2201d4[_0x240ddd(0x273)])&&!_0x2201d4[_0x240ddd(0x273)][_0x240ddd(0x4ee)](_0x240ddd(0x917)))throw _0x137ca9=JSON[_0x240ddd(0x86d)](_0x2201d4,null,0x2),new m(_0x2201d4);let _0x29379d;if(_0x163edf[_0x240ddd(0x35d)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x240ddd(0x2fd)](_0x163edf[_0x240ddd(0x35d)])?_0x29379d=this[_0x240ddd(0x587)][_0x240ddd(0x3f3)]['find'](_0x276efe=>_0x276efe['_id']===_0x163edf[_0x240ddd(0x35d)]):_0x29379d=this[_0x240ddd(0x587)][_0x240ddd(0x3f3)][_0x240ddd(0x50f)](_0x4c4202=>_0x4c4202[_0x240ddd(0x35d)]===_0x163edf['name']),!_0x29379d)throw this[_0x240ddd(0x241)][_0x240ddd(0x8af)](this[_0x240ddd(0x7d7)]+'\x20('+this[_0x240ddd(0x7fc)][_0x240ddd(0x3c3)]+_0x240ddd(0x7d3)+_0x163edf[_0x240ddd(0x35d)]+_0x240ddd(0x72a)),new m(_0x240ddd(0x22a));let _0x293c62=await this[_0x240ddd(0x8ea)][_0x240ddd(0x6b5)][_0x240ddd(0x81e)]({'where':{'_id':_0x29379d['_id']}});if(!_0x293c62||!_0x293c62[_0x240ddd(0x7ad)]?.['includes'](this[_0x240ddd(0x7fc)]['wuid']))throw this['logger'][_0x240ddd(0x812)](this['instanceName']+'\x20('+this['instance'][_0x240ddd(0x3c3)]+_0x240ddd(0x52d)+_0x29379d['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),_0x137ca9=_0x240ddd(0x1b0)+_0x29379d['_id']+_0x240ddd(0x498),new m(_0x137ca9);let _0x166239=await this['createConversationforStartFlow'](_0x293c62,_0x2201d4['jid'],_0x163edf['changeVariables']);if(_0x166239){this[_0x240ddd(0x241)][_0x240ddd(0x8af)](this[_0x240ddd(0x7d7)]+'\x20('+this[_0x240ddd(0x7fc)][_0x240ddd(0x3c3)]+_0x240ddd(0x378));let _0x2b1e8e=await this[_0x240ddd(0x73b)](_0x166239);return _0x2b1e8e&&await this['processblock'](_0x166239,_0x2b1e8e),{'message':_0x240ddd(0x6c7)+_0x163edf[_0x240ddd(0x57e)]};}}catch(_0x55574c){if(this[_0x240ddd(0x241)][_0x240ddd(0x812)](this[_0x240ddd(0x7d7)]+'\x20('+this[_0x240ddd(0x7fc)][_0x240ddd(0x3c3)]+_0x240ddd(0x682)+(_0x55574c instanceof Error?_0x55574c['message']:JSON[_0x240ddd(0x86d)](_0x55574c,null,0x2))),_0x137ca9=_0x55574c instanceof Error?_0x55574c[_0x240ddd(0x7d9)]:JSON['stringify'](_0x55574c,null,0x2),_0x137ca9)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x137ca9);}}async[a0_0x5c0bdf(0x6a2)](_0x19aa0b,_0x1a0baf,_0xd1c28a){const _0x364738=a0_0x5c0bdf;let _0x19c90f=null;try{if(!this[_0x364738(0x587)]?.[_0x364738(0x2ac)][_0x364738(0x5c3)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x364738(0x241)][_0x364738(0x8af)](this[_0x364738(0x7d7)]+'\x20('+this[_0x364738(0x7fc)][_0x364738(0x3c3)]+'):\x20Iniciando\x20bot...'),_0x1a0baf){let _0x2f947a=(await this[_0x364738(0x638)]({'numbers':[_0x1a0baf]}))[0x0];if(!_0x2f947a[_0x364738(0x856)]&&!(0x0,w['isJidGroup'])(_0x2f947a['jid'])&&!_0x2f947a[_0x364738(0x273)][_0x364738(0x4ee)](_0x364738(0x917)))throw _0x19c90f=JSON[_0x364738(0x86d)](_0x2f947a,null,0x2),new m(_0x2f947a);_0x1a0baf=_0x2f947a[_0x364738(0x273)];}else _0x1a0baf||(_0x1a0baf=(0x0,Q['v4'])());let _0x57d7f4=await this[_0x364738(0x8ea)]['flow']['findOne']({'where':{'_id':_0x19aa0b}});if(!_0x57d7f4||!_0x57d7f4[_0x364738(0x7ad)]?.[_0x364738(0x4ee)](this[_0x364738(0x7fc)][_0x364738(0x3c3)]))throw this[_0x364738(0x241)][_0x364738(0x812)](this[_0x364738(0x7d7)]+'\x20('+this[_0x364738(0x7fc)][_0x364738(0x3c3)]+_0x364738(0x52d)+_0x19aa0b+_0x364738(0x498)),new m('Flow\x20\x27'+_0x19aa0b+_0x364738(0x498));let _0x14514d=await this[_0x364738(0x2b5)](_0x57d7f4,_0x1a0baf,null);if(_0x14514d){this[_0x364738(0x241)][_0x364738(0x8af)](this[_0x364738(0x7d7)]+'\x20('+this['instance']['wuid']+_0x364738(0x643));let _0x26a434;if(_0xd1c28a){let _0x393b2b=_0x14514d['chatLog'][_0x364738(0x263)],_0x20eb23=this[_0x364738(0x22c)](_0xd1c28a);Object[_0x364738(0x2bb)](_0x393b2b,_0x20eb23),_0x14514d[_0x364738(0x1cf)][_0x364738(0x263)]=_0x393b2b,_0x26a434={'error':!0x1,'apiResponse':_0xd1c28a};}let _0x3936e4=await this[_0x364738(0x73b)](_0x14514d);return _0x3936e4&&await this[_0x364738(0x3a5)](_0x14514d,_0x3936e4),{'message':_0x364738(0x3e2)};}}catch(_0x1868c6){if(this[_0x364738(0x241)][_0x364738(0x812)](this[_0x364738(0x7d7)]+'\x20('+this[_0x364738(0x7fc)][_0x364738(0x3c3)]+_0x364738(0x682)+(_0x1868c6 instanceof Error?_0x1868c6['message']:JSON[_0x364738(0x86d)](_0x1868c6,null,0x2))),_0x19c90f=_0x1868c6 instanceof Error?_0x1868c6[_0x364738(0x7d9)]:JSON[_0x364738(0x86d)](_0x1868c6,null,0x2),_0x19c90f)throw new m(_0x364738(0x8ba)+_0x19c90f);}}async['closeExistingConversations'](_0x5eb49c){const _0x36ecc1=a0_0x5c0bdf;try{let _0x3e6fcc={'remoteJid':_0x5eb49c,'status':_0x36ecc1(0x2ad)},_0x1dbb80={'status':_0x36ecc1(0x36f)},_0x309bce=await this[_0x36ecc1(0x8ea)][_0x36ecc1(0x848)][_0x36ecc1(0x4e2)](_0x3e6fcc,_0x1dbb80,this[_0x36ecc1(0x7fc)][_0x36ecc1(0x3c3)]);return this['logger'][_0x36ecc1(0x8af)](this[_0x36ecc1(0x7d7)]+'\x20('+this[_0x36ecc1(0x7fc)]['wuid']+_0x36ecc1(0x531)),_0x309bce;}catch(_0x20e866){throw this[_0x36ecc1(0x241)][_0x36ecc1(0x812)](this[_0x36ecc1(0x7d7)]+'\x20('+this[_0x36ecc1(0x7fc)]['wuid']+_0x36ecc1(0x705)+_0x20e866[_0x36ecc1(0x7d9)]),_0x20e866;}}async[a0_0x5c0bdf(0x2b5)](_0x5b5ce7,_0x2bed32,_0x3bf934){const _0x2aecbc=a0_0x5c0bdf;this[_0x2aecbc(0x241)]['verbose'](this[_0x2aecbc(0x7d7)]+'\x20('+this[_0x2aecbc(0x7fc)][_0x2aecbc(0x3c3)]+_0x2aecbc(0x479)),await this['closeExistingConversations'](_0x2bed32);try{let _0x1b37e5=require(_0x2aecbc(0x723))[_0x2aecbc(0x624)],_0x4a05f4=Date['now'](),_0x316f04=_0x2aecbc(0x929),_0x2ddf7d={},_0x23edf2={},_0x2fcf7c=this[_0x2aecbc(0x587)][_0x2aecbc(0x3f3)][_0x2aecbc(0x50f)](_0x4a3d5d=>_0x4a3d5d[_0x2aecbc(0x2c7)]===_0x5b5ce7[_0x2aecbc(0x2c7)]?.[_0x2aecbc(0x281)]()),_0x35ea07=_0x2fcf7c?.[_0x2aecbc(0x454)]??_0x5b5ce7[_0x2aecbc(0x454)]??0x0,_0x45eb96=_0x2fcf7c?.['readMessages']??_0x5b5ce7[_0x2aecbc(0x3f5)]??!0x1,_0x5cbb7d={'flowId':_0x5b5ce7[_0x2aecbc(0x2c7)],..._0x5b5ce7,'chatLog':null},_0x5ce6a8=await this[_0x2aecbc(0x33d)](_0x5cbb7d[_0x2aecbc(0x1c0)]),_0x44f840=await this[_0x2aecbc(0x8d0)](_0x2bed32),_0x5488fb={..._0x5ce6a8,..._0x44f840,'_remoteJid':_0x2bed32},_0x56f208={'lastReceivedMessage':_0x2ddf7d,'lastSendMessage':_0x23edf2,'lastBlockId':_0x316f04,'lastCondition':!0x0,'realVariables':_0x5488fb};_0x5cbb7d['chatLog']=_0x56f208,_0x5cbb7d[_0x2aecbc(0x1cf)][_0x2aecbc(0x263)]={..._0x5488fb,..._0x3bf934},delete _0x5cbb7d[_0x2aecbc(0x2c7)],_0x5cbb7d[_0x2aecbc(0x2c7)]=new _0x1b37e5(),_0x5cbb7d['lastInteraction']=_0x4a05f4,_0x5cbb7d[_0x2aecbc(0x3ae)]='open',_0x5cbb7d[_0x2aecbc(0x57e)]=_0x2bed32,_0x5cbb7d[_0x2aecbc(0x454)]=_0x35ea07,_0x5cbb7d[_0x2aecbc(0x3f5)]=_0x45eb96,_0x5cbb7d['_id']=_0x5b5ce7[_0x2aecbc(0x2c7)];let _0x3dcc20=await this[_0x2aecbc(0x8ea)]['flowConversation'][_0x2aecbc(0x411)](_0x5cbb7d[_0x2aecbc(0x2c7)],_0x5cbb7d,this['instance']['wuid']);return this[_0x2aecbc(0x241)][_0x2aecbc(0x8af)](this[_0x2aecbc(0x7d7)]+'\x20('+this['instance'][_0x2aecbc(0x3c3)]+_0x2aecbc(0x3cf)),_0x3dcc20?_0x5cbb7d:null;}catch(_0x12326e){let _0x2fc315=_0x2aecbc(0x4b9),_0x51b13a=_0x12326e instanceof Error?_0x12326e['message']:typeof _0x12326e==_0x2aecbc(0x1ef)?JSON[_0x2aecbc(0x86d)](_0x12326e):_0x12326e,_0x337d0a=_0x2fc315+':\x20'+_0x51b13a;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2aecbc(0x7fc)][_0x2aecbc(0x3c3)]+'):\x20'+_0x337d0a),new m(_0x337d0a);}}async[a0_0x5c0bdf(0x3e5)](_0x49355f){const _0x115a44=a0_0x5c0bdf;try{this[_0x115a44(0x241)][_0x115a44(0x8af)](this[_0x115a44(0x7d7)]+'\x20('+this[_0x115a44(0x7fc)][_0x115a44(0x3c3)]+_0x115a44(0x789)),this['logger'][_0x115a44(0x8af)](this['instanceName']+'\x20('+this['instance'][_0x115a44(0x3c3)]+_0x115a44(0x83c)+_0x49355f);let _0x25019a={'where':{'_id':_0x49355f}};return await this[_0x115a44(0x8ea)][_0x115a44(0x848)][_0x115a44(0x81e)](_0x25019a,this['instance'][_0x115a44(0x3c3)]);}catch(_0x2f2d10){let _0x1d63d1=_0x115a44(0x827),_0x33560d=_0x2f2d10 instanceof Error?_0x2f2d10[_0x115a44(0x7d9)]:typeof _0x2f2d10==_0x115a44(0x1ef)?JSON[_0x115a44(0x86d)](_0x2f2d10):_0x2f2d10,_0x3d4150=_0x1d63d1+':\x20'+_0x33560d;throw this[_0x115a44(0x241)][_0x115a44(0x812)](this[_0x115a44(0x7d7)]+'\x20('+this[_0x115a44(0x7fc)][_0x115a44(0x3c3)]+_0x115a44(0x4a5)+_0x3d4150),new m(_0x3d4150);}}async[a0_0x5c0bdf(0x6cd)](_0x657172){const _0x46ccd5=a0_0x5c0bdf;try{return this['logger'][_0x46ccd5(0x8af)](this[_0x46ccd5(0x7d7)]+'\x20('+this['instance'][_0x46ccd5(0x3c3)]+'):\x20Buscando\x20conversas...'),await this[_0x46ccd5(0x8ea)][_0x46ccd5(0x848)][_0x46ccd5(0x50f)](_0x657172,this[_0x46ccd5(0x7fc)][_0x46ccd5(0x3c3)]);}catch(_0x4f5447){let _0x2e64a5=_0x46ccd5(0x918),_0x497262=_0x4f5447 instanceof Error?_0x4f5447[_0x46ccd5(0x7d9)]:typeof _0x4f5447==_0x46ccd5(0x1ef)?JSON[_0x46ccd5(0x86d)](_0x4f5447):_0x4f5447,_0x40435d=_0x2e64a5+':\x20'+_0x497262;throw this[_0x46ccd5(0x241)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x46ccd5(0x4a5)+_0x40435d),new m(_0x40435d);}}async[a0_0x5c0bdf(0x607)](_0x4f8a8e){const _0x5596be=a0_0x5c0bdf;try{return this[_0x5596be(0x241)][_0x5596be(0x8af)](this[_0x5596be(0x7d7)]+'\x20('+this['instance']['wuid']+_0x5596be(0x908)),this[_0x5596be(0x241)][_0x5596be(0x8af)](this[_0x5596be(0x7d7)]+'\x20('+this[_0x5596be(0x7fc)][_0x5596be(0x3c3)]+_0x5596be(0x56a)+_0x4f8a8e),(await this['repository']['flowConversation'][_0x5596be(0x83b)]({'where':{'_id':_0x4f8a8e[_0x5596be(0x2c7)]}},this[_0x5596be(0x7fc)][_0x5596be(0x3c3)]))[_0x5596be(0x65c)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x5596be(0x369)};}catch(_0x4dc33b){let _0x1ce57a=_0x5596be(0x236),_0x3d13b2=_0x4dc33b instanceof Error?_0x4dc33b['message']:typeof _0x4dc33b==_0x5596be(0x1ef)?JSON[_0x5596be(0x86d)](_0x4dc33b):_0x4dc33b,_0x16a19=_0x1ce57a+':\x20'+_0x3d13b2;throw this['logger'][_0x5596be(0x812)](this['instanceName']+'\x20('+this['instance'][_0x5596be(0x3c3)]+_0x5596be(0x4a5)+_0x16a19),new m(_0x16a19);}}async['editConversation'](_0x5d3715){const _0xa4faf0=a0_0x5c0bdf;try{let {_id:_0x5c9d84,chatLog:_0x34fffd,status:_0x527019}=_0x5d3715;if(!_0x5c9d84)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x49ce4f={};if(_0x527019!==void 0x0&&(_0x49ce4f[_0xa4faf0(0x3ae)]=_0x527019),Object[_0xa4faf0(0x2ec)](_0x49ce4f)[_0xa4faf0(0x235)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x562c8f=await this['repository']['flowConversation'][_0xa4faf0(0x411)](_0x5c9d84,_0x49ce4f,this[_0xa4faf0(0x7fc)][_0xa4faf0(0x3c3)]);return _0x562c8f||{'message':_0xa4faf0(0x65b)};}catch(_0x41bf63){let _0x5972b1='Erro\x20ao\x20editar\x20a\x20conversa',_0x4db797=_0x41bf63 instanceof Error?_0x41bf63[_0xa4faf0(0x7d9)]:typeof _0x41bf63==_0xa4faf0(0x1ef)?JSON[_0xa4faf0(0x86d)](_0x41bf63):_0x41bf63,_0x45688c=_0x5972b1+':\x20'+_0x4db797;throw this[_0xa4faf0(0x241)][_0xa4faf0(0x812)](this['instanceName']+'\x20('+this['instance'][_0xa4faf0(0x3c3)]+_0xa4faf0(0x4a5)+_0x45688c),new m(_0x45688c);}}async[a0_0x5c0bdf(0x8c8)](_0x2f6d6d){const _0x11ed8c=a0_0x5c0bdf;try{_0x2f6d6d[_0x11ed8c(0x2c7)]=this['createJid'](_0x2f6d6d[_0x11ed8c(0x2c7)]);let _0x51a4eb=await this[_0x11ed8c(0x8ea)][_0x11ed8c(0x75d)]['findOne']({'where':{'_id':_0x2f6d6d[_0x11ed8c(0x2c7)]}},this[_0x11ed8c(0x7fc)][_0x11ed8c(0x3c3)]);if(!_0x51a4eb)throw new m(_0x11ed8c(0x6e5));let {_id:_0x5727c0,leadInfo:_0xba9e79}=_0x2f6d6d;if(!_0x5727c0)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x2f6d6d['delete']==='all')return await this['deleteChat'](_0x2f6d6d[_0x11ed8c(0x2c7)]),await this[_0x11ed8c(0x8ea)]['chat'][_0x11ed8c(0x221)]({'where':{'_id':_0x2f6d6d[_0x11ed8c(0x2c7)]}},this[_0x11ed8c(0x7fc)][_0x11ed8c(0x3c3)]),await this[_0x11ed8c(0x8ea)][_0x11ed8c(0x7d9)][_0x11ed8c(0x221)]({'where':{'key':{'remoteJid':_0x2f6d6d[_0x11ed8c(0x2c7)]}}},this[_0x11ed8c(0x7fc)]['wuid']),_0x2f6d6d=await this[_0x11ed8c(0x8ea)]['chat']['updateOne']({'where':{'_id':_0x2f6d6d[_0x11ed8c(0x2c7)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x11ed8c(0x7fc)][_0x11ed8c(0x3c3)]),F(this[_0x11ed8c(0x7d7)],_0x11ed8c(0x5fd),{'chat':_0x2f6d6d}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x2f6d6d[_0x11ed8c(0x221)]===_0x11ed8c(0x342))return await this['repository'][_0x11ed8c(0x7d9)][_0x11ed8c(0x221)]({'where':{'key':{'remoteJid':_0x2f6d6d[_0x11ed8c(0x2c7)]}}},this[_0x11ed8c(0x7fc)][_0x11ed8c(0x3c3)]),_0x2f6d6d=await this[_0x11ed8c(0x8ea)]['chat'][_0x11ed8c(0x411)]({'where':{'_id':_0x2f6d6d[_0x11ed8c(0x2c7)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x11ed8c(0x3c3)]),F(this['instanceName'],_0x11ed8c(0x5fd),{'chat':_0x2f6d6d}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x187f79=(_0x327983,_0x16eb11,_0x25835)=>{_0x327983&&_0x25835['forEach'](_0x830901=>{const _0xb41445=a0_0x34cb;_0x327983[_0x830901]!==void 0x0&&(_0x16eb11[_0xb41445(0x36c)+_0x830901]=_0x327983[_0x830901]);});},_0x4d8714={};if(_0x11ed8c(0x606)in _0x2f6d6d&&(this['logger'][_0x11ed8c(0x8af)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x11ed8c(0x3eb)+_0x2f6d6d['_id']),_0x2f6d6d[_0x11ed8c(0x606)]=_0x2f6d6d[_0x11ed8c(0x606)]===0x0?null:-0x1,await this[_0x11ed8c(0x3c4)][_0x11ed8c(0x513)]({'mute':_0x2f6d6d[_0x11ed8c(0x606)]},_0x2f6d6d[_0x11ed8c(0x2c7)]),_0x4d8714[_0x11ed8c(0x606)]=Number(_0x2f6d6d[_0x11ed8c(0x606)])),_0xba9e79&&(_0x187f79(_0xba9e79,_0x4d8714,[_0x11ed8c(0x562),'nomecompleto','email','cpf',_0x11ed8c(0x3ae),_0x11ed8c(0x4bd),_0x11ed8c(0x3fd),_0x11ed8c(0x7a3),_0x11ed8c(0x7ac),'etiquetas',_0x11ed8c(0x216)]),Array[_0x11ed8c(0x576)](_0xba9e79[_0x11ed8c(0x7d4)])&&(_0x4d8714[_0x11ed8c(0x54a)]=_0xba9e79[_0x11ed8c(0x7d4)]['map'](_0x522cc4=>({'_id':_0x522cc4[_0x11ed8c(0x2c7)],'value':_0x522cc4['value']}))),_0x2f6d6d[_0x11ed8c(0x264)][_0x11ed8c(0x25b)]!==void 0x0)){let _0xfea9ba=await this[_0x11ed8c(0x8ea)][_0x11ed8c(0x29d)][_0x11ed8c(0x50f)]({'where':{}},this[_0x11ed8c(0x7fc)]['wuid']),_0x21e417=new Set(_0x2f6d6d['leadInfo']['etiquetas']||[]),_0x3679b2=new Set(_0x2f6d6d[_0x11ed8c(0x264)][_0x11ed8c(0x25b)]),_0xb093de=new Set(_0xfea9ba['map'](_0x3eef69=>_0x3eef69[_0x11ed8c(0x2c7)])),_0x47109f=[..._0x3679b2][_0x11ed8c(0x755)](_0x5d7202=>!_0x21e417[_0x11ed8c(0x400)](_0x5d7202)&&_0xb093de['has'](_0x5d7202)),_0x4a8d3a=[..._0x21e417][_0x11ed8c(0x755)](_0x3a7efb=>!_0x3679b2[_0x11ed8c(0x400)](_0x3a7efb));if(_0x4d8714['leadInfo.etiquetas']=[..._0x21e417],_0x51a4eb&&!_0x51a4eb['imported']){for(let _0x26f519 of _0x47109f)await this[_0x11ed8c(0x1bf)](_0x26f519,_0x2f6d6d['_id']),_0x21e417[_0x11ed8c(0x92c)](_0x26f519);for(let _0x17f3ad of _0x4a8d3a)await this['RemoveChatLabel'](_0x17f3ad,_0x2f6d6d[_0x11ed8c(0x2c7)]),_0x21e417[_0x11ed8c(0x221)](_0x17f3ad);}}if(_0x2f6d6d[_0x11ed8c(0x84e)]!==void 0x0&&(_0x4d8714[_0x11ed8c(0x84e)]=Number(_0x2f6d6d[_0x11ed8c(0x84e)])),Object[_0x11ed8c(0x2ec)](_0x4d8714)[_0x11ed8c(0x235)]===0x0)throw new Error(_0x11ed8c(0x48b));let _0x54d631=await this['repository'][_0x11ed8c(0x75d)][_0x11ed8c(0x411)]({'where':{'_id':_0x2f6d6d[_0x11ed8c(0x2c7)]}},_0x4d8714,this[_0x11ed8c(0x7fc)]['wuid']);return _0x54d631&&F(this[_0x11ed8c(0x7d7)],_0x11ed8c(0x5fd),{'chat':_0x54d631}),_0x54d631?(this['logger'][_0x11ed8c(0x8af)](this[_0x11ed8c(0x7d7)]+'\x20('+this[_0x11ed8c(0x7fc)][_0x11ed8c(0x3c3)]+_0x11ed8c(0x4a5)+JSON['stringify'](_0x54d631,null,0x2)),_0x54d631):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x41be5d){let _0x289aba='Erro\x20ao\x20editar\x20o\x20chat',_0x47e56a=_0x41be5d instanceof Error?_0x41be5d[_0x11ed8c(0x7d9)]:typeof _0x41be5d==_0x11ed8c(0x1ef)?JSON[_0x11ed8c(0x86d)](_0x41be5d):_0x41be5d,_0x4bfdc3=_0x289aba+':\x20'+_0x47e56a;throw this['logger']['error'](this[_0x11ed8c(0x7d7)]+'\x20('+this[_0x11ed8c(0x7fc)][_0x11ed8c(0x3c3)]+_0x11ed8c(0x4a5)+_0x4bfdc3),new m(_0x4bfdc3);}}async['AddChatLabel'](_0x11aaeb,_0x135009){const _0x211c4d=a0_0x5c0bdf;try{await this[_0x211c4d(0x3c4)][_0x211c4d(0x32a)](_0x135009,_0x11aaeb),this[_0x211c4d(0x241)]['info'](this[_0x211c4d(0x7d7)]+'\x20('+this[_0x211c4d(0x7fc)][_0x211c4d(0x3c3)]+_0x211c4d(0x396)+_0x11aaeb+_0x211c4d(0x564)+_0x135009+_0x211c4d(0x42c));}catch(_0x44eb96){this[_0x211c4d(0x241)]['error'](_0x211c4d(0x4a0)+_0x11aaeb+_0x211c4d(0x7d5)+_0x135009+':\x20'+_0x44eb96);}}async[a0_0x5c0bdf(0x4e8)](_0x40d185,_0x281e8a){const _0x57d285=a0_0x5c0bdf;try{await this[_0x57d285(0x3c4)][_0x57d285(0x288)](_0x281e8a,_0x40d185),this['logger'][_0x57d285(0x40b)](this[_0x57d285(0x7d7)]+'\x20('+this['instance'][_0x57d285(0x3c3)]+_0x57d285(0x396)+_0x40d185+_0x57d285(0x2ea)+_0x281e8a+_0x57d285(0x42c));}catch(_0x3acbf9){this[_0x57d285(0x241)][_0x57d285(0x812)]('Erro\x20ao\x20remover\x20label\x20'+_0x40d185+_0x57d285(0x261)+_0x281e8a+':\x20'+_0x3acbf9);}}async[a0_0x5c0bdf(0x609)](_0x4239df){const _0x42e653=a0_0x5c0bdf;try{let _0x5e7e1f=await this[_0x42e653(0x8ea)][_0x42e653(0x92a)][_0x42e653(0x34f)](this[_0x42e653(0x7fc)][_0x42e653(0x3c3)]),_0x3ebdbe=_0x4239df[_0x42e653(0x2c7)]?_0x5e7e1f['agents'][_0x42e653(0x358)](_0x1c16f2=>_0x1c16f2['_id']===_0x4239df[_0x42e653(0x2c7)]):-0x1;if(_0x4239df[_0x42e653(0x221)]&&_0x3ebdbe>-0x1)_0x5e7e1f['agents'][_0x42e653(0x5e1)](_0x3ebdbe,0x1);else{if(_0x3ebdbe>-0x1){let _0x50ada4=_0x5e7e1f[_0x42e653(0x3e6)][_0x3ebdbe];_0x4239df['fone']&&(_0x50ada4[_0x42e653(0x3c5)]=_0x4239df[_0x42e653(0x3c5)]),_0x4239df[_0x42e653(0x35d)]&&(_0x50ada4[_0x42e653(0x35d)]=_0x4239df[_0x42e653(0x35d)]),_0x4239df[_0x42e653(0x1dc)]&&(_0x50ada4['email']=_0x4239df[_0x42e653(0x1dc)]),_0x4239df['role']&&(_0x50ada4[_0x42e653(0x932)]=_0x4239df[_0x42e653(0x932)]);}else _0x5e7e1f['agents']['push']({'_id':_0x4239df['_id']||new pe[(_0x42e653(0x32c))][(_0x42e653(0x339))][(_0x42e653(0x624))]()[_0x42e653(0x281)](),'fone':_0x4239df[_0x42e653(0x3c5)],'name':_0x4239df[_0x42e653(0x35d)],'email':_0x4239df[_0x42e653(0x1dc)],'role':_0x4239df[_0x42e653(0x932)]});}let _0x1809aa={'agents':_0x5e7e1f[_0x42e653(0x3e6)]},_0x5d74c7=await this['repository'][_0x42e653(0x92a)][_0x42e653(0x1d0)](_0x1809aa,this['instance'][_0x42e653(0x3c3)]);return this[_0x42e653(0x587)]=_0x5d74c7,this['logger'][_0x42e653(0x8af)](this[_0x42e653(0x7d7)]+'\x20('+this['instance'][_0x42e653(0x3c3)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x42e653(0x8af)](this[_0x42e653(0x7d7)]+'\x20('+this[_0x42e653(0x7fc)][_0x42e653(0x3c3)]+_0x42e653(0x4a5)+this[_0x42e653(0x587)]),_0x5d74c7;}catch(_0x1467f9){let _0x526994=_0x42e653(0x6c0),_0xbca2c2=_0x1467f9 instanceof Error?_0x1467f9[_0x42e653(0x7d9)]:typeof _0x1467f9==_0x42e653(0x1ef)?JSON['stringify'](_0x1467f9):_0x1467f9,_0x21eb8e=_0x526994+':\x20'+_0xbca2c2;throw this[_0x42e653(0x241)]['error'](this[_0x42e653(0x7d7)]+'\x20('+this[_0x42e653(0x7fc)]['wuid']+'):\x20'+_0x21eb8e),new m(_0x21eb8e);}}async[a0_0x5c0bdf(0x6f5)](_0x16b18b){const _0x3b016a=a0_0x5c0bdf;try{let _0x1de6ba=await this[_0x3b016a(0x8ea)]['automateSystem']['findOrCreate'](this[_0x3b016a(0x7fc)][_0x3b016a(0x3c3)]),_0x4e06c0=_0x16b18b['_id']?_0x1de6ba[_0x3b016a(0x7d4)]['findIndex'](_0x2fcd3e=>_0x2fcd3e[_0x3b016a(0x2c7)]===_0x16b18b[_0x3b016a(0x2c7)]):-0x1,_0xd73101=!0x1,_0x33e1a1=_0x1de6ba[_0x3b016a(0x7d4)][_0x3b016a(0x4d6)](_0x75189e=>_0x75189e[_0x3b016a(0x553)]===_0x16b18b[_0x3b016a(0x553)]);if(_0x16b18b['delete']&&_0x4e06c0>-0x1)_0x1de6ba['customFields'][_0x3b016a(0x5e1)](_0x4e06c0,0x1),_0xd73101=!0x0;else{if(_0x4e06c0>-0x1){if(_0x1de6ba[_0x3b016a(0x7d4)]['some'](_0x326b35=>_0x326b35[_0x3b016a(0x35d)]===_0x16b18b['name']&&_0x326b35['_id']!==_0x16b18b[_0x3b016a(0x2c7)]))throw new Error(_0x3b016a(0x5bf));let _0x3a3218=_0x1de6ba[_0x3b016a(0x7d4)][_0x4e06c0];_0x16b18b[_0x3b016a(0x553)]&&(_0x33e1a1||!Number[_0x3b016a(0x2f1)](_0x16b18b[_0x3b016a(0x553)]))&&(_0x3a3218['order']=_0x16b18b[_0x3b016a(0x553)],_0xd73101=!0x0),_0x16b18b['name']&&(_0x3a3218[_0x3b016a(0x35d)]=_0x16b18b[_0x3b016a(0x35d)]);}else{if(_0x1de6ba[_0x3b016a(0x7d4)][_0x3b016a(0x4d6)](_0x3e58e8=>_0x3e58e8['name']===_0x16b18b[_0x3b016a(0x35d)]&&_0x3e58e8[_0x3b016a(0x2c7)]!==_0x16b18b['_id']))throw new Error(_0x3b016a(0x5bf));_0x1de6ba['customFields'][_0x3b016a(0x2c1)]({'_id':_0x16b18b[_0x3b016a(0x2c7)]||new pe[(_0x3b016a(0x32c))][(_0x3b016a(0x339))]['ObjectId']()[_0x3b016a(0x281)](),'order':_0x16b18b[_0x3b016a(0x553)],'name':_0x16b18b[_0x3b016a(0x35d)]}),_0xd73101=!0x0;}}if(_0xd73101){_0x1de6ba[_0x3b016a(0x7d4)][_0x3b016a(0x474)]((_0xf21f38,_0x2a1cc9)=>_0xf21f38[_0x3b016a(0x553)]>_0x2a1cc9[_0x3b016a(0x553)]?0x1:_0x2a1cc9['order']>_0xf21f38[_0x3b016a(0x553)]?-0x1:0x0);for(let _0x2599c3=0x0;_0x2599c3<_0x1de6ba[_0x3b016a(0x7d4)][_0x3b016a(0x235)];_0x2599c3++)_0x1de6ba[_0x3b016a(0x7d4)][_0x2599c3][_0x3b016a(0x553)]=_0x2599c3+0x1;}let _0x43a200=await this['repository']['automateSystem']['update'](_0x1de6ba,this['instance'][_0x3b016a(0x3c3)]);return this[_0x3b016a(0x587)]=_0x43a200,this['logger'][_0x3b016a(0x8af)](this[_0x3b016a(0x7d7)]+'\x20('+this[_0x3b016a(0x7fc)]['wuid']+_0x3b016a(0x944)),this['logger'][_0x3b016a(0x8af)](this[_0x3b016a(0x7d7)]+'\x20('+this[_0x3b016a(0x7fc)][_0x3b016a(0x3c3)]+_0x3b016a(0x4a5)+this['AutomateSystem']),_0x43a200;}catch(_0x5a80e1){let _0x35d376=_0x3b016a(0x7ee),_0x215224=_0x5a80e1 instanceof Error?_0x5a80e1[_0x3b016a(0x7d9)]:typeof _0x5a80e1==_0x3b016a(0x1ef)?JSON[_0x3b016a(0x86d)](_0x5a80e1):_0x5a80e1,_0x48f3a7=_0x35d376+':\x20'+_0x215224;throw this[_0x3b016a(0x241)][_0x3b016a(0x812)](this[_0x3b016a(0x7d7)]+'\x20('+this[_0x3b016a(0x7fc)][_0x3b016a(0x3c3)]+_0x3b016a(0x4a5)+_0x48f3a7),new m(_0x48f3a7);}}async[a0_0x5c0bdf(0x6b8)](_0x34f04e){const _0x42ddd7=a0_0x5c0bdf;try{let _0x224895=await this[_0x42ddd7(0x8ea)][_0x42ddd7(0x92a)]['findOrCreate'](this['instance'][_0x42ddd7(0x3c3)]),_0x2a4b97=_0x224895?.[_0x42ddd7(0x598)]?.[_0x42ddd7(0x358)](_0x92d178=>_0x92d178['_id']===_0x34f04e?.[_0x42ddd7(0x2c7)]);if(_0x34f04e?.[_0x42ddd7(0x221)])_0x2a4b97>-0x1&&_0x224895?.[_0x42ddd7(0x598)]?.[_0x42ddd7(0x5e1)](_0x2a4b97,0x1);else{if(_0x2a4b97>-0x1){let _0x328a40=_0x224895[_0x42ddd7(0x598)][_0x2a4b97];_0x328a40[_0x42ddd7(0x553)]=_0x34f04e?.[_0x42ddd7(0x553)]||_0x328a40[_0x42ddd7(0x553)],_0x328a40[_0x42ddd7(0x5f4)]=_0x34f04e?.[_0x42ddd7(0x5f4)]||_0x328a40[_0x42ddd7(0x5f4)],_0x328a40[_0x42ddd7(0x7d9)]=_0x34f04e?.[_0x42ddd7(0x7d9)]||_0x328a40['message'];}else{let _0x14479d={'_id':_0x34f04e?.[_0x42ddd7(0x2c7)]||new pe[(_0x42ddd7(0x32c))][(_0x42ddd7(0x339))][(_0x42ddd7(0x624))]()[_0x42ddd7(0x281)](),'order':_0x34f04e?.[_0x42ddd7(0x553)],'command':_0x34f04e?.[_0x42ddd7(0x5f4)],'message':_0x34f04e?.[_0x42ddd7(0x7d9)]};_0x224895?.[_0x42ddd7(0x598)]?.[_0x42ddd7(0x2c1)](_0x14479d);}}_0x224895?.['autoCompleteMessages']?.['sort']((_0x2b0b20,_0xfa61b)=>_0x2b0b20[_0x42ddd7(0x553)]-_0xfa61b[_0x42ddd7(0x553)]);let _0xcf7bf1=await this['repository']['automateSystem'][_0x42ddd7(0x1d0)](_0x224895,this[_0x42ddd7(0x7fc)][_0x42ddd7(0x3c3)]);return this[_0x42ddd7(0x587)]=_0xcf7bf1,this[_0x42ddd7(0x241)][_0x42ddd7(0x8af)](this[_0x42ddd7(0x7d7)]+'\x20('+this[_0x42ddd7(0x7fc)][_0x42ddd7(0x3c3)]+_0x42ddd7(0x944)),_0xcf7bf1;}catch(_0x410fc3){let _0x325c2b=_0x42ddd7(0x64d),_0x5b8920=_0x410fc3 instanceof Error?_0x410fc3[_0x42ddd7(0x7d9)]:typeof _0x410fc3==_0x42ddd7(0x1ef)?JSON[_0x42ddd7(0x86d)](_0x410fc3):_0x410fc3,_0x303c2f=_0x325c2b+':\x20'+_0x5b8920;throw this[_0x42ddd7(0x241)][_0x42ddd7(0x812)](this[_0x42ddd7(0x7d7)]+'\x20('+this[_0x42ddd7(0x7fc)][_0x42ddd7(0x3c3)]+_0x42ddd7(0x4a5)+_0x303c2f),new m(_0x303c2f);}}async[a0_0x5c0bdf(0x718)](_0x3a6e13){const _0x32e2e1=a0_0x5c0bdf;try{let _0x559c80=await this['repository'][_0x32e2e1(0x92a)][_0x32e2e1(0x34f)](this[_0x32e2e1(0x7fc)][_0x32e2e1(0x3c3)]);if(!_0x559c80)throw new Error(_0x32e2e1(0x5a0));let _0x193588={'_id':_0x559c80[_0x32e2e1(0x2c7)],'flowConfig':{'enabled':_0x3a6e13['enabled']??_0x559c80[_0x32e2e1(0x2ac)][_0x32e2e1(0x5c3)],'ignoreGroups':_0x3a6e13['ignoreGroups']??_0x559c80[_0x32e2e1(0x2ac)][_0x32e2e1(0x2fa)],'stopConversation':_0x3a6e13[_0x32e2e1(0x6ac)][_0x32e2e1(0x55c)]()??_0x559c80[_0x32e2e1(0x2ac)]['stopConversation'][_0x32e2e1(0x55c)](),'stopMinutes':_0x3a6e13['stopMinutes']??_0x559c80['flowConfig'][_0x32e2e1(0x3f9)],'stopWhenYouSendMsg':_0x3a6e13[_0x32e2e1(0x499)]??_0x559c80[_0x32e2e1(0x2ac)][_0x32e2e1(0x499)]}},_0x512abb=await this[_0x32e2e1(0x8ea)][_0x32e2e1(0x92a)]['update'](_0x193588,this[_0x32e2e1(0x7fc)][_0x32e2e1(0x3c3)]);return this[_0x32e2e1(0x587)]=_0x512abb,this['logger']['verbose'](this[_0x32e2e1(0x7d7)]+'\x20('+this['instance'][_0x32e2e1(0x3c3)]+_0x32e2e1(0x50b)),this[_0x32e2e1(0x241)][_0x32e2e1(0x8af)](this[_0x32e2e1(0x7d7)]+'\x20('+this[_0x32e2e1(0x7fc)]['wuid']+_0x32e2e1(0x4a5)+this[_0x32e2e1(0x587)]),setTimeout(()=>this[_0x32e2e1(0x226)](),0x7d0),_0x512abb;}catch(_0x26f436){let _0x1eec87='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x1d01a1=_0x26f436 instanceof Error?_0x26f436[_0x32e2e1(0x7d9)]:typeof _0x26f436==_0x32e2e1(0x1ef)?JSON[_0x32e2e1(0x86d)](_0x26f436):_0x26f436,_0x282e74=_0x1eec87+':\x20'+_0x1d01a1;throw this[_0x32e2e1(0x241)][_0x32e2e1(0x812)](this[_0x32e2e1(0x7d7)]+'\x20('+this[_0x32e2e1(0x7fc)][_0x32e2e1(0x3c3)]+_0x32e2e1(0x4a5)+_0x282e74),new m(_0x282e74);}}async[a0_0x5c0bdf(0x6aa)](){const _0x35ac97=a0_0x5c0bdf;try{let _0x5b4687=await this['repository'][_0x35ac97(0x92a)][_0x35ac97(0x34f)](this[_0x35ac97(0x7fc)][_0x35ac97(0x3c3)]);return this[_0x35ac97(0x587)]=_0x5b4687,_0x5b4687;}catch(_0x486f0a){let _0x16926e='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x5135db=_0x486f0a instanceof Error?_0x486f0a['message']:typeof _0x486f0a==_0x35ac97(0x1ef)?JSON[_0x35ac97(0x86d)](_0x486f0a):_0x486f0a,_0x14d3bc=_0x16926e+':\x20'+_0x5135db;throw this['logger'][_0x35ac97(0x812)](this[_0x35ac97(0x7d7)]+'\x20('+this[_0x35ac97(0x7fc)][_0x35ac97(0x3c3)]+_0x35ac97(0x4a5)+_0x14d3bc),new m(_0x14d3bc);}}async[a0_0x5c0bdf(0x899)](){const _0x39daa1=a0_0x5c0bdf;let _0xe37667=(await import('p-queue'))['default'];this[_0x39daa1(0x466)]=new _0xe37667({'concurrency':0x1});}async[a0_0x5c0bdf(0x1b1)](){const _0x56c88d=a0_0x5c0bdf;this[_0x56c88d(0x7fc)][_0x56c88d(0x774)][_0x56c88d(0x444)]&&clearTimeout(this[_0x56c88d(0x7fc)][_0x56c88d(0x774)][_0x56c88d(0x444)]),this[_0x56c88d(0x7fc)][_0x56c88d(0x774)][_0x56c88d(0x444)]=setTimeout(()=>{const _0x599f29=_0x56c88d;this[_0x599f29(0x34c)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x5c0bdf(0x34c)](){const _0x504256=a0_0x5c0bdf;let _0x2ee7e8=this[_0x504256(0x7fc)][_0x504256(0x774)][_0x504256(0x1b4)];(_0x2ee7e8===0x0||_0x2ee7e8===null||Date[_0x504256(0x435)]()-_0x2ee7e8>=0x1d4c0)&&(this[_0x504256(0x241)][_0x504256(0x8af)](this[_0x504256(0x7d7)]+'\x20('+this[_0x504256(0x7fc)]['wuid']+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x504256(0x7fc)][_0x504256(0x774)][_0x504256(0x5a4)]=null,this[_0x504256(0x7fc)][_0x504256(0x774)]['lastSend']=0x0,this[_0x504256(0x7fc)][_0x504256(0x774)]['delayMessage']=0x0,await this[_0x504256(0x226)]());}async[a0_0x5c0bdf(0x226)](){const _0x15c5ea=a0_0x5c0bdf;this[_0x15c5ea(0x241)]['warn'](this[_0x15c5ea(0x7d7)]+'\x20('+this[_0x15c5ea(0x7fc)][_0x15c5ea(0x3c3)]+_0x15c5ea(0x573)),await this[_0x15c5ea(0x370)]();let _0x1b4570=await this[_0x15c5ea(0x92b)]();_0x1b4570[_0x15c5ea(0x235)]>0x0&&(setTimeout(()=>this[_0x15c5ea(0x34c)](),0x14*0x3e8),this[_0x15c5ea(0x241)]['warn'](this[_0x15c5ea(0x7d7)]+'\x20('+this[_0x15c5ea(0x7fc)]['wuid']+_0x15c5ea(0x816)),this[_0x15c5ea(0x466)]['clear'](),this['queue'][_0x15c5ea(0x92c)](()=>this[_0x15c5ea(0x84f)](_0x1b4570)));let _0x5e4cc6={'where':{'status':_0x15c5ea(0x495),'when':{'$gt':Date[_0x15c5ea(0x435)]()}}},_0x4de4d8=await this[_0x15c5ea(0x8ea)][_0x15c5ea(0x3e1)][_0x15c5ea(0x81e)](_0x5e4cc6,this[_0x15c5ea(0x7fc)][_0x15c5ea(0x3c3)]);_0x4de4d8&&_0x4de4d8[_0x15c5ea(0x3d2)]-Date[_0x15c5ea(0x435)]()<=0x6ddd00?this[_0x15c5ea(0x7fc)][_0x15c5ea(0x774)][_0x15c5ea(0x275)]=_0x4de4d8[_0x15c5ea(0x3d2)]-Date[_0x15c5ea(0x435)]():this['instance']['ScheduleMessage'][_0x15c5ea(0x275)]=(0x3c+Math[_0x15c5ea(0x3ab)](Math[_0x15c5ea(0x277)]()*0x3c))*0x3c*0x3e8,this['instance']['ScheduleMessage'][_0x15c5ea(0x275)]=Math['max'](this[_0x15c5ea(0x7fc)][_0x15c5ea(0x774)][_0x15c5ea(0x275)],0x1*0x2*0x3e8);let _0x28776d=Math['round'](this['instance']['ScheduleMessage'][_0x15c5ea(0x275)]/0xea60);if(_0x4de4d8){let _0x8f578c=new Date(_0x4de4d8[_0x15c5ea(0x3d2)])['toLocaleString']();this[_0x15c5ea(0x241)][_0x15c5ea(0x476)](this[_0x15c5ea(0x7d7)]+'\x20('+this[_0x15c5ea(0x7fc)][_0x15c5ea(0x3c3)]+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x8f578c+_0x15c5ea(0x4a4)+_0x28776d+_0x15c5ea(0x65f));}else this['logger'][_0x15c5ea(0x476)](this[_0x15c5ea(0x7d7)]+'\x20('+this[_0x15c5ea(0x7fc)]['wuid']+_0x15c5ea(0x309)+_0x28776d+'\x20minutos');setTimeout(()=>{this['scheduleNextCheck']();},this[_0x15c5ea(0x7fc)]['ScheduleMessage'][_0x15c5ea(0x275)]);}async[a0_0x5c0bdf(0x92b)](){const _0x159203=a0_0x5c0bdf;this['logger']['warn'](this[_0x159203(0x7d7)]+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio');let _0x3c7318=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x6f17bb={'where':{'status':{'$in':['scheduled',_0x159203(0x464)]},'$or':[{'when':{'$lte':Date[_0x159203(0x435)](),'$gte':_0x3c7318}},{'when':0x0}]}},_0x426d40=await this[_0x159203(0x8ea)]['scheduleMessage'][_0x159203(0x50f)](_0x6f17bb,this[_0x159203(0x7fc)][_0x159203(0x3c3)]);return this[_0x159203(0x241)][_0x159203(0x476)](this[_0x159203(0x7d7)]+'\x20('+this[_0x159203(0x7fc)][_0x159203(0x3c3)]+_0x159203(0x933)+_0x426d40['length']),_0x426d40;}async[a0_0x5c0bdf(0x84f)](_0x191101){const _0x4aad79=a0_0x5c0bdf;this[_0x4aad79(0x241)]['warn'](this[_0x4aad79(0x7d7)]+'\x20('+this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)]+'):\x20Iniciando\x20processReadyMessages');let _0x22b534=0x3*0x3e8,_0x1f069b=0x8*0x3e8,_0x2cc6a7=Math[_0x4aad79(0x3ab)](Math[_0x4aad79(0x277)]()*(_0x1f069b-_0x22b534+0x1))+_0x22b534,_0x1832cb=()=>this['pendingMessages'][_0x4aad79(0x235)]===0x0?null:this[_0x4aad79(0x46c)][_0x4aad79(0x74a)]((_0x10e27c,_0x2be961)=>(_0x10e27c['order']??Number[_0x4aad79(0x2a7)])<(_0x2be961[_0x4aad79(0x553)]??Number['MAX_SAFE_INTEGER'])?_0x10e27c:_0x2be961,this[_0x4aad79(0x46c)][0x0]);_0x191101=await this[_0x4aad79(0x92b)]();for(let _0x4d8573 of _0x191101){await this[_0x4aad79(0x1b1)]();let _0x41f37d=0x3*0x3e8,_0x54adaa={'_id':_0x4d8573[_0x4aad79(0x2c7)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4aad79(0x435)]()-_0x41f37d}}]},_0x245e25={'startSend':Date[_0x4aad79(0x435)](),'status':_0x4aad79(0x464)},_0x2f4e5d=await this[_0x4aad79(0x8ea)][_0x4aad79(0x3e1)]['updateOne'](_0x54adaa,_0x245e25,this['instance']['wuid']);if(this[_0x4aad79(0x46c)]=_0x2f4e5d[_0x4aad79(0x342)][_0x4aad79(0x755)](_0x4d23d2=>!_0x4d23d2[_0x4aad79(0x30a)]),!_0x2f4e5d){setTimeout(()=>this['checkAndRestartProcess'](),0xa*0x3e8);continue;}if(this[_0x4aad79(0x7fc)]['ScheduleMessage'][_0x4aad79(0x5a4)]=_0x2f4e5d,!this['instance']['ScheduleMessage'][_0x4aad79(0x1f3)]){this['logger'][_0x4aad79(0x476)](this[_0x4aad79(0x7d7)]+'\x20('+this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)]+_0x4aad79(0x926));break;}for(;this[_0x4aad79(0x46c)][_0x4aad79(0x235)]>0x0;){await this['setRestartTimeout']();let _0x55dbe2=_0x1832cb();if(!_0x55dbe2)break;let _0xec581c=_0x4d8573[_0x4aad79(0x342)]['find'](_0x38cb41=>_0x38cb41[_0x4aad79(0x2c7)]===_0x55dbe2['_id']);if(!_0xec581c)break;if(this[_0x4aad79(0x7fc)][_0x4aad79(0x774)][_0x4aad79(0x1b4)]=Date[_0x4aad79(0x435)](),_0xec581c[_0x4aad79(0x30a)]){this[_0x4aad79(0x241)][_0x4aad79(0x476)](this[_0x4aad79(0x7d7)]+'\x20('+this['instance']['wuid']+_0x4aad79(0x49b)+_0xec581c[_0x4aad79(0x57e)]+_0x4aad79(0x8f1)),this[_0x4aad79(0x46c)]=this['pendingMessages'][_0x4aad79(0x755)](_0xe59dd0=>_0xe59dd0[_0x4aad79(0x2c7)]!==_0xec581c[_0x4aad79(0x2c7)]);continue;}if(!this[_0x4aad79(0x7fc)]['ScheduleMessage'][_0x4aad79(0x1f3)]){this[_0x4aad79(0x241)]['warn'](this['instanceName']+'\x20('+this[_0x4aad79(0x7fc)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x4aad79(0x7fc)][_0x4aad79(0x774)][_0x4aad79(0x5a4)]){this['logger']['warn'](this[_0x4aad79(0x7d7)]+'\x20('+this['instance']['wuid']+_0x4aad79(0x1d7)+_0x4d8573[_0x4aad79(0x2c7)]+_0x4aad79(0x8da));break;}let _0x53c649={'idControl':_0xec581c[_0x4aad79(0x2c7)],'remoteJid':_0xec581c[_0x4aad79(0x57e)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4aad79(0x435)]()},_0x7e5420=null;try{this['logger'][_0x4aad79(0x476)](this[_0x4aad79(0x7d7)]+'\x20('+this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0xec581c[_0x4aad79(0x57e)]);let _0x598329=await Promise[_0x4aad79(0x62d)]([this['SendScheduleMessage'](_0xec581c[_0x4aad79(0x57e)],_0xec581c),this[_0x4aad79(0x561)](0x78*0x3e8)]);_0x53c649[_0x4aad79(0x812)]=_0x598329[_0x4aad79(0x812)],_0x53c649['id']=_0x598329[_0x4aad79(0x812)]?null:_0x598329['id'],_0x53c649[_0x4aad79(0x71a)]=_0x598329[_0x4aad79(0x812)]?_0x598329['detail']?_0x598329[_0x4aad79(0x3f2)][_0x4aad79(0x281)]():'':null;let _0xc229db=_0x4d8573[_0x4aad79(0x342)][_0x4aad79(0x358)](_0x5a2629=>_0x5a2629[_0x4aad79(0x2c7)]===_0xec581c['_id']);_0xc229db!==-0x1&&(_0x4d8573[_0x4aad79(0x342)][_0xc229db][_0x4aad79(0x30a)]=!0x0);let _0x30984f={'$push':{'messagesSend':_0x53c649},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5f3493=[{'elem._id':_0xec581c[_0x4aad79(0x2c7)]}];if(this['logger'][_0x4aad79(0x476)](this[_0x4aad79(0x7d7)]+'\x20('+this['instance'][_0x4aad79(0x3c3)]+_0x4aad79(0x745)+_0xec581c['_id']),_0x7e5420=await this['repository'][_0x4aad79(0x3e1)][_0x4aad79(0x411)]({'_id':_0x4d8573['_id']},_0x30984f,this[_0x4aad79(0x7fc)]['wuid'],{'arrayFilters':_0x5f3493}),_0x598329[_0x4aad79(0x812)]){this[_0x4aad79(0x241)][_0x4aad79(0x812)](this[_0x4aad79(0x7d7)]+'\x20('+this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)]+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0x598329[_0x4aad79(0x3f2)]);continue;}let _0x1a21dc=this[_0x4aad79(0x447)](_0x4d8573[_0x4aad79(0x3fa)],_0x4d8573['delaySecMax']);await this[_0x4aad79(0x765)](_0x1a21dc);}catch(_0x3f221d){this[_0x4aad79(0x241)][_0x4aad79(0x812)](this['instanceName']+'\x20('+this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)]+_0x4aad79(0x636)+_0xec581c[_0x4aad79(0x57e)]+':\x20'+(_0x3f221d instanceof Error?_0x3f221d['message']:JSON[_0x4aad79(0x86d)](_0x3f221d,null,0x2))),_0x53c649['error']=!0x0,_0x53c649[_0x4aad79(0x71a)]=_0x3f221d[_0x4aad79(0x7d9)];let _0x2b76a1=_0x4d8573[_0x4aad79(0x342)][_0x4aad79(0x358)](_0x53a927=>_0x53a927[_0x4aad79(0x2c7)]===_0xec581c['_id']);_0x2b76a1!==-0x1&&(_0x4d8573['messages'][_0x2b76a1]['triedToSend']=!0x0);let _0x220eec={'$push':{'messagesSend':_0x53c649},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x464f2e=[{'elem._id':_0xec581c[_0x4aad79(0x2c7)]}];this[_0x4aad79(0x241)][_0x4aad79(0x476)](this[_0x4aad79(0x7d7)]+'\x20('+this[_0x4aad79(0x7fc)]['wuid']+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0xec581c[_0x4aad79(0x2c7)]),_0x7e5420=await this[_0x4aad79(0x8ea)][_0x4aad79(0x3e1)][_0x4aad79(0x411)]({'_id':_0x4d8573[_0x4aad79(0x2c7)]},_0x220eec,this[_0x4aad79(0x7fc)]['wuid'],{'arrayFilters':_0x464f2e});}finally{if(_0x7e5420&&_0x7e5420[_0x4aad79(0x3ae)]===_0x4aad79(0x8f2)){this['logger'][_0x4aad79(0x476)](this[_0x4aad79(0x7d7)]+'\x20('+this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)]+_0x4aad79(0x1d7)+_0xec581c['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}let _0x408387=_0x7e5420[_0x4aad79(0x342)][_0x4aad79(0x50f)](_0x2113ce=>_0x2113ce[_0x4aad79(0x2c7)]===_0xec581c[_0x4aad79(0x2c7)]);if(_0x408387&&!_0x408387['triedToSend']){let _0x28da6c={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x75f447=[{'elem._id':_0xec581c[_0x4aad79(0x2c7)]}];await this['repository'][_0x4aad79(0x3e1)][_0x4aad79(0x411)]({'_id':_0x7e5420['_id']},_0x28da6c,this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)],{'arrayFilters':_0x75f447});}if(this[_0x4aad79(0x46c)]=_0x7e5420['messages'][_0x4aad79(0x755)](_0x166122=>!_0x166122['triedToSend']),!this[_0x4aad79(0x7fc)][_0x4aad79(0x774)][_0x4aad79(0x5a4)]){await this[_0x4aad79(0x1b1)](),this[_0x4aad79(0x241)][_0x4aad79(0x476)](this['instanceName']+'\x20('+this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)]+_0x4aad79(0x1d7)+_0x4d8573[_0x4aad79(0x2c7)]+_0x4aad79(0x8da));break;}}}this[_0x4aad79(0x46c)]=[];let _0x2880b3=await this[_0x4aad79(0x8ea)]['scheduleMessage'][_0x4aad79(0x715)](_0x4d8573[_0x4aad79(0x2c7)],this[_0x4aad79(0x7fc)][_0x4aad79(0x3c3)]);if(_0x2880b3[_0x4aad79(0x342)][_0x4aad79(0x934)](_0x43c81f=>_0x43c81f[_0x4aad79(0x30a)])&&_0x2880b3[_0x4aad79(0x3ae)]!=='stopped'){let _0x40bd44={'$set':{'status':'done'}};await this['repository'][_0x4aad79(0x3e1)][_0x4aad79(0x397)](_0x2880b3[_0x4aad79(0x2c7)],_0x40bd44,this['instance'][_0x4aad79(0x3c3)]);}await new Promise(_0x9c566b=>setTimeout(_0x9c566b,_0x2cc6a7)),global['gc']?global['gc']():console[_0x4aad79(0x476)](_0x4aad79(0x7c2));}}['timeoutPromise'](_0x229e1c){return new Promise((_0x123551,_0x27434f)=>setTimeout(()=>_0x27434f(new Error('Timeout\x20exceeded')),_0x229e1c));}['getDelay'](_0x2dca1d,_0x165a6f){const _0x1594d4=a0_0x5c0bdf;return _0x2dca1d=Math[_0x1594d4(0x787)](0.5,_0x2dca1d),_0x165a6f=Math[_0x1594d4(0x4b2)](Math[_0x1594d4(0x787)](0x3,_0x165a6f),0x78),Math['floor'](Math[_0x1594d4(0x277)]()*(_0x165a6f-_0x2dca1d+0x1)+_0x2dca1d)*0x3e8;}[a0_0x5c0bdf(0x765)](_0x5948a2){return new Promise(_0x507019=>setTimeout(_0x507019,_0x5948a2));}async['getVariablesChat'](_0x2f04a0){const _0x44b628=a0_0x5c0bdf;if(!this['AutomateSystem']&&(await this[_0x44b628(0x6aa)](),!this[_0x44b628(0x587)]))return null;_0x2f04a0=this[_0x44b628(0x20f)](_0x2f04a0);let _0x1795a0=await this[_0x44b628(0x8ea)][_0x44b628(0x75d)]['findOne']({'where':{'_id':_0x2f04a0}},this[_0x44b628(0x7fc)]['wuid']),_0x2a5437={};if(_0x1795a0&&_0x1795a0[_0x44b628(0x264)]){let _0x51c063=_0x1795a0[_0x44b628(0x264)];typeof _0x51c063[_0x44b628(0x562)]==_0x44b628(0x749)&&(_0x2a5437[_0x44b628(0x562)]=_0x51c063['nome']),typeof _0x51c063[_0x44b628(0x1f6)]==_0x44b628(0x749)&&(_0x2a5437['nomecompleto']=_0x51c063['nomecompleto']),typeof _0x51c063[_0x44b628(0x1dc)]==_0x44b628(0x749)&&(_0x2a5437[_0x44b628(0x1dc)]=_0x51c063[_0x44b628(0x1dc)]),typeof _0x51c063[_0x44b628(0x57a)]==_0x44b628(0x749)&&(_0x2a5437['cpf']=_0x51c063[_0x44b628(0x57a)]),typeof _0x51c063[_0x44b628(0x3ae)]==_0x44b628(0x749)&&(_0x2a5437[_0x44b628(0x3ae)]=_0x51c063[_0x44b628(0x3ae)]),typeof _0x51c063[_0x44b628(0x4bd)]==_0x44b628(0x749)&&(_0x2a5437['notas']=_0x51c063[_0x44b628(0x4bd)]),typeof _0x51c063[_0x44b628(0x7ac)]==_0x44b628(0x749)&&(_0x2a5437[_0x44b628(0x7ac)]=_0x51c063[_0x44b628(0x7ac)]),Array[_0x44b628(0x576)](_0x51c063[_0x44b628(0x3fd)])&&(_0x2a5437[_0x44b628(0x3fd)]=_0x51c063[_0x44b628(0x3fd)][_0x44b628(0x938)](',\x20')),Array[_0x44b628(0x576)](_0x51c063['etiquetas'])&&(_0x2a5437[_0x44b628(0x25b)]=_0x51c063['etiquetas'][_0x44b628(0x938)](',\x20'));}return _0x1795a0&&_0x1795a0[_0x44b628(0x264)]&&_0x1795a0[_0x44b628(0x264)][_0x44b628(0x7d4)]&&_0x1795a0[_0x44b628(0x264)][_0x44b628(0x7d4)][_0x44b628(0x91c)](_0x46232b=>{const _0x101abf=_0x44b628;let _0x3293e9=this[_0x101abf(0x587)]?.[_0x101abf(0x7d4)][_0x101abf(0x50f)](_0x3e9579=>_0x3e9579[_0x101abf(0x2c7)]===_0x46232b['_id']);_0x3293e9&&(_0x2a5437[_0x3293e9[_0x101abf(0x35d)]]=_0x46232b[_0x101abf(0x802)]);}),_0x2a5437;}async[a0_0x5c0bdf(0x690)](_0xd99ae2,_0x46baaf){const _0x50f6af=a0_0x5c0bdf;try{let _0x448a30=await this['getVariablesChat'](_0x46baaf);return this[_0x50f6af(0x763)](_0xd99ae2,_0x448a30);}catch(_0x1f9bdc){return this['logger'][_0x50f6af(0x812)]('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x46baaf+':\x20'+_0x1f9bdc),_0xd99ae2;}}async[a0_0x5c0bdf(0x370)](){const _0x3d2ac8=a0_0x5c0bdf;let _0x40fe29=async(_0x477b56,_0x35b949)=>{const _0x4e6583=a0_0x34cb;let _0x1fed3c=(await this[_0x4e6583(0x8ea)][_0x4e6583(0x3e1)][_0x4e6583(0x50f)]({'where':{'type':_0x477b56}},this[_0x4e6583(0x7fc)][_0x4e6583(0x3c3)]))[_0x4e6583(0x6df)](async _0x5ebc88=>{const _0x2d771b=_0x4e6583;let _0x3c5210=_0x35b949(_0x5ebc88),_0x5ebcd7=_0xaf1ebf=>/^\d+$/[_0x2d771b(0x2fd)](_0xaf1ebf),_0x15211c=_0x5ebc88[_0x2d771b(0x91f)]['filter'](_0x2636c1=>_0x2636c1[_0x2d771b(0x62e)](_0x2d771b(0x249))?_0x2636c1['length']>0x19:_0x2636c1[_0x2d771b(0x62e)](_0x2d771b(0x2bc))?_0x2636c1['length']>0xf:_0x5ebcd7(_0x2636c1)?_0x2636c1[_0x2d771b(0x235)]>=0xb:!0x1)[_0x2d771b(0x6df)](_0x5a3066=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x5ebc88['_id'],'type':_0x3c5210,'remoteJid':_0x5a3066,'flow':_0x5ebc88[_0x2d771b(0x948)],'text':_0x5ebc88[_0x2d771b(0x7d9)]?.['text'],'delay':_0x5ebc88['message']?.[_0x2d771b(0x597)],'urlOrBase64':_0x5ebc88[_0x2d771b(0x7d9)]?.[_0x2d771b(0x7ed)],'linkPreview':_0x5ebc88['message']?.[_0x2d771b(0x48a)],'fileName':_0x5ebc88[_0x2d771b(0x7d9)]?.[_0x2d771b(0x350)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x2d771b(0x8ea)][_0x2d771b(0x3e1)][_0x2d771b(0x397)](_0x5ebc88['_id'],{'$set':{'messages':_0x15211c},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x2d771b(0x7fc)][_0x2d771b(0x3c3)]);}catch(_0x1494e6){console[_0x2d771b(0x812)](_0x2d771b(0x218)+_0x5ebc88[_0x2d771b(0x2c7)]+':',_0x1494e6);}});await Promise[_0x4e6583(0x2db)](_0x1fed3c);};await _0x40fe29('text',_0x34cebf=>_0x3d2ac8(0x3ac)),await _0x40fe29(_0x3d2ac8(0x861),_0x562b04=>_0x562b04[_0x3d2ac8(0x7d9)]?.[_0x3d2ac8(0x440)]||_0x3d2ac8(0x861)),await _0x40fe29(_0x3d2ac8(0x250),_0x383980=>'audio'),await _0x40fe29(_0x3d2ac8(0x6b5),_0x149899=>_0x3d2ac8(0x6b5)),await _0x40fe29(_0x3d2ac8(0x2cc),_0x3f8297=>_0x3d2ac8(0x2cc)),await _0x40fe29(_0x3d2ac8(0x302),_0x47010f=>_0x3d2ac8(0x302)),await _0x40fe29('document',_0x19d988=>'document'),this[_0x3d2ac8(0x241)][_0x3d2ac8(0x476)](this['instanceName']+'\x20('+this[_0x3d2ac8(0x7fc)][_0x3d2ac8(0x3c3)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0x5c0bdf(0x29b)](_0x1c926f){const _0x25031b=a0_0x5c0bdf;try{if(this[_0x25031b(0x241)][_0x25031b(0x476)](this[_0x25031b(0x7d7)]+'\x20('+this[_0x25031b(0x7fc)][_0x25031b(0x3c3)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x1c926f[_0x25031b(0x2c7)]||(_0x1c926f[_0x25031b(0x2c7)]=(0x0,Q['v4'])()),this['instance'][_0x25031b(0x774)][_0x25031b(0x5a4)]?.['_id']===_0x1c926f[_0x25031b(0x2c7)]?.[_0x25031b(0x281)]()){if(_0x1c926f[_0x25031b(0x3ae)]===_0x25031b(0x8f2))this[_0x25031b(0x7fc)][_0x25031b(0x774)][_0x25031b(0x5a4)]=null;else throw new Error(_0x25031b(0x7a2));}if(_0x1c926f[_0x25031b(0x221)]&&_0x1c926f[_0x25031b(0x2c7)]){let _0x385f96=await this[_0x25031b(0x8ea)]['scheduleMessage'][_0x25031b(0x83b)](_0x1c926f[_0x25031b(0x2c7)],this['instance'][_0x25031b(0x3c3)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x385f96;}let _0x3b95fc=null;if(_0x1c926f[_0x25031b(0x2c7)]&&(_0x3b95fc=await this[_0x25031b(0x8ea)][_0x25031b(0x3e1)][_0x25031b(0x715)](_0x1c926f[_0x25031b(0x2c7)],this[_0x25031b(0x7fc)][_0x25031b(0x3c3)])),_0x3b95fc){let {_id:_0x1e19e8,owner:_0x34c1cd,messages:_0x5dd762,..._0x3bf85}=_0x1c926f;if(_0x5dd762){let _0x4096dc=_0x5dd762[_0x25031b(0x755)](_0x42d216=>!_0x42d216[_0x25031b(0x2c7)]),_0x4db9e4=_0x5dd762[_0x25031b(0x755)](_0x40c6af=>_0x40c6af[_0x25031b(0x2c7)]&&!_0x40c6af[_0x25031b(0x221)]),_0x2d41df=_0x5dd762[_0x25031b(0x755)](_0x168bdf=>_0x168bdf[_0x25031b(0x2c7)]&&_0x168bdf[_0x25031b(0x221)]);if(_0x4096dc['length']>0x0&&await this['addMessagesToGroup'](_0x1c926f[_0x25031b(0x2c7)],_0x4096dc),_0x4db9e4[_0x25031b(0x235)]>0x0&&await this[_0x25031b(0x8c4)]({'_id':_0x1c926f[_0x25031b(0x2c7)],'messages':_0x4db9e4}),_0x2d41df[_0x25031b(0x235)]>0x0){let _0x5b4c99=_0x2d41df[_0x25031b(0x6df)](_0x116fd5=>({'updateOne':{'filter':{'_id':_0x1c926f[_0x25031b(0x2c7)]},'update':{'$pull':{'messages':{'_id':_0x116fd5[_0x25031b(0x2c7)]}}}}}));await this[_0x25031b(0x8ea)][_0x25031b(0x3e1)][_0x25031b(0x604)](_0x5b4c99,this[_0x25031b(0x7fc)][_0x25031b(0x3c3)]);}}let _0x4438f8={'$set':{..._0x3bf85,'status':_0x1c926f[_0x25031b(0x3ae)]||_0x3b95fc[_0x25031b(0x3ae)]}},_0x2064f9=await this[_0x25031b(0x8ea)][_0x25031b(0x3e1)][_0x25031b(0x397)](_0x1c926f['_id'],_0x4438f8,this['instance'][_0x25031b(0x3c3)]);return _0x2064f9&&(this[_0x25031b(0x35e)](_0x2064f9['messages']),await this[_0x25031b(0x8ea)]['scheduleMessage'][_0x25031b(0x397)](_0x2064f9['_id'],{'$set':{'messages':_0x2064f9['messages']}},this['instance'][_0x25031b(0x3c3)])),setTimeout(()=>this[_0x25031b(0x226)](),0x7d0),await this[_0x25031b(0x370)](),_0x2064f9;}else{_0x1c926f['owner']=this[_0x25031b(0x7fc)][_0x25031b(0x3c3)],_0x1c926f[_0x25031b(0x342)]&&_0x1c926f[_0x25031b(0x342)][_0x25031b(0x91c)](_0x2fd641=>{const _0x3cc7cf=_0x25031b;_0x2fd641[_0x3cc7cf(0x2c7)]||(_0x2fd641[_0x3cc7cf(0x2c7)]=(0x0,Q['v4'])()),_0x2fd641[_0x3cc7cf(0x1d1)]||(_0x2fd641[_0x3cc7cf(0x1d1)]=_0x1c926f['_id']),delete _0x2fd641[_0x3cc7cf(0x30a)];});let _0xd0a237=await this['repository'][_0x25031b(0x3e1)][_0x25031b(0x312)](_0x1c926f,this['instance'][_0x25031b(0x3c3)]);return _0xd0a237&&(this['reorderMessages'](_0xd0a237[_0x25031b(0x342)]),await this[_0x25031b(0x8ea)][_0x25031b(0x3e1)][_0x25031b(0x397)](_0xd0a237[_0x25031b(0x2c7)],{'$set':{'messages':_0xd0a237['messages']}},this[_0x25031b(0x7fc)][_0x25031b(0x3c3)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0xd0a237;}}catch(_0x5861c2){let _0x3efef9=_0x25031b(0x79e),_0x281036=_0x5861c2 instanceof Error?_0x5861c2['message']:typeof _0x5861c2==_0x25031b(0x1ef)?JSON[_0x25031b(0x86d)](_0x5861c2):_0x5861c2,_0x4e66dc=_0x3efef9+':\x20'+_0x281036;throw this[_0x25031b(0x241)][_0x25031b(0x812)](this[_0x25031b(0x7d7)]+'\x20('+this[_0x25031b(0x7fc)][_0x25031b(0x3c3)]+_0x25031b(0x4a5)+_0x4e66dc),new m(_0x4e66dc);}}async[a0_0x5c0bdf(0x852)](_0xb995d5,_0x6a5060){const _0x272f98=a0_0x5c0bdf;try{this['logger']['verbose'](this[_0x272f98(0x7d7)]+'\x20('+this[_0x272f98(0x7fc)]['wuid']+_0x272f98(0x6b3)),_0x6a5060[_0x272f98(0x91c)](_0x5f4a53=>{const _0x59d240=_0x272f98;_0x5f4a53[_0x59d240(0x2c7)]||(_0x5f4a53[_0x59d240(0x2c7)]=(0x0,Q['v4'])()),_0x5f4a53[_0x59d240(0x1d1)]||(_0x5f4a53[_0x59d240(0x1d1)]=_0xb995d5),delete _0x5f4a53['triedToSend'];});let _0xef86dc={'$push':{'messages':{'$each':_0x6a5060}}},_0x485acd=await this[_0x272f98(0x8ea)][_0x272f98(0x3e1)]['updateOneById'](_0xb995d5,_0xef86dc,this[_0x272f98(0x7fc)][_0x272f98(0x3c3)]);return _0x485acd&&(this[_0x272f98(0x35e)](_0x485acd[_0x272f98(0x342)]),await this[_0x272f98(0x8ea)][_0x272f98(0x3e1)][_0x272f98(0x397)](_0x485acd['_id'],{'$set':{'messages':_0x485acd[_0x272f98(0x342)]}},this[_0x272f98(0x7fc)][_0x272f98(0x3c3)])),_0x485acd;}catch(_0x2c5e08){let _0x5ecab6=_0x272f98(0x767),_0x445f0b=_0x2c5e08 instanceof Error?_0x2c5e08[_0x272f98(0x7d9)]:typeof _0x2c5e08==_0x272f98(0x1ef)?JSON['stringify'](_0x2c5e08):_0x2c5e08,_0x27ba51=_0x5ecab6+':\x20'+_0x445f0b;throw this[_0x272f98(0x241)][_0x272f98(0x812)](this[_0x272f98(0x7d7)]+'\x20('+this[_0x272f98(0x7fc)]['wuid']+_0x272f98(0x4a5)+_0x27ba51),new m(_0x27ba51);}}async[a0_0x5c0bdf(0x8c4)](_0x3a8072){const _0x33c814=a0_0x5c0bdf;try{if(this[_0x33c814(0x241)][_0x33c814(0x8af)](this[_0x33c814(0x7d7)]+'\x20('+this[_0x33c814(0x7fc)][_0x33c814(0x3c3)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x3a8072['_id']||!_0x3a8072[_0x33c814(0x342)])throw new Error(_0x33c814(0x490));let _0xa8491d=_0x3a8072[_0x33c814(0x2c7)],_0x3be3d8=_0x3a8072[_0x33c814(0x342)],_0xe135e7=_0x3be3d8[_0x33c814(0x755)](_0x554ab4=>!_0x554ab4[_0x33c814(0x221)])['map'](_0x5b4a17=>{const _0x42faec=_0x33c814;let _0x41b496=_0x5b4a17[_0x42faec(0x2c7)];if(!_0x41b496)throw new Error(_0x42faec(0x347));return _0x5b4a17[_0x42faec(0x1d1)]||(_0x5b4a17[_0x42faec(0x1d1)]=_0xa8491d),delete _0x5b4a17[_0x42faec(0x30a)],{'updateOne':{'filter':{'_id':_0xa8491d,'messages._id':_0x41b496},'update':{'$set':{'messages.$[elem]':_0x5b4a17}},'arrayFilters':[{'elem._id':_0x41b496}]}};}),_0x5763db=_0x3be3d8['filter'](_0x336dbf=>_0x336dbf[_0x33c814(0x221)])[_0x33c814(0x6df)](_0x32deae=>{const _0xcb497c=_0x33c814;let _0x2dabcb=_0x32deae['_id'];if(!_0x2dabcb)throw new Error(_0xcb497c(0x1c6));return{'updateOne':{'filter':{'_id':_0xa8491d},'update':{'$pull':{'messages':{'_id':_0x2dabcb}}}}};}),_0x364277=[..._0xe135e7,..._0x5763db],_0x257d52=await this[_0x33c814(0x8ea)][_0x33c814(0x3e1)][_0x33c814(0x604)](_0x364277,this['instance'][_0x33c814(0x3c3)]),_0x28881e=await this[_0x33c814(0x8ea)]['scheduleMessage'][_0x33c814(0x715)](_0xa8491d,this[_0x33c814(0x7fc)][_0x33c814(0x3c3)]);return _0x28881e&&(this['reorderMessages'](_0x28881e[_0x33c814(0x342)]),await this[_0x33c814(0x8ea)]['scheduleMessage'][_0x33c814(0x397)](_0x28881e['_id'],{'$set':{'messages':_0x28881e[_0x33c814(0x342)]}},this['instance'][_0x33c814(0x3c3)])),_0x28881e;}catch(_0xa27e66){let _0x1bab76=_0x33c814(0x759),_0x273ea7=_0xa27e66 instanceof Error?_0xa27e66[_0x33c814(0x7d9)]:typeof _0xa27e66==_0x33c814(0x1ef)?JSON['stringify'](_0xa27e66):_0xa27e66,_0x395e0c=_0x1bab76+':\x20'+_0x273ea7;throw this[_0x33c814(0x241)][_0x33c814(0x812)](this[_0x33c814(0x7d7)]+'\x20('+this['instance'][_0x33c814(0x3c3)]+_0x33c814(0x4a5)+_0x395e0c),new m(_0x395e0c);}}async[a0_0x5c0bdf(0x7f1)](){const _0x551358=a0_0x5c0bdf;try{let _0x26fb01={'status':_0x551358(0x658)},_0x2d6ed7=await this[_0x551358(0x8ea)]['scheduleMessage'][_0x551358(0x4f2)](_0x26fb01,this[_0x551358(0x7fc)]['wuid']);if(!_0x2d6ed7['error'])this[_0x551358(0x241)]['verbose'](this[_0x551358(0x7d7)]+'\x20('+this[_0x551358(0x7fc)][_0x551358(0x3c3)]+_0x551358(0x776));else throw new Error(_0x2d6ed7[_0x551358(0x812)]['message']||_0x551358(0x59b));return this[_0x551358(0x46e)]();}catch(_0x3a9fdd){let _0x1e9ad9=_0x551358(0x4c8),_0x14500c=_0x3a9fdd instanceof Error?_0x3a9fdd['message']:typeof _0x3a9fdd==_0x551358(0x1ef)?JSON[_0x551358(0x86d)](_0x3a9fdd):_0x3a9fdd,_0x2ec2d7=_0x1e9ad9+':\x20'+_0x14500c;throw this[_0x551358(0x241)][_0x551358(0x812)](this[_0x551358(0x7d7)]+'\x20('+this[_0x551358(0x7fc)][_0x551358(0x3c3)]+_0x551358(0x4a5)+_0x2ec2d7),new m(_0x2ec2d7);}}async[a0_0x5c0bdf(0x74b)](){const _0x30a1b9=a0_0x5c0bdf;try{this[_0x30a1b9(0x7fc)]['ScheduleMessage'][_0x30a1b9(0x1f3)]=!0x1,this[_0x30a1b9(0x7fc)]['ScheduleMessage'][_0x30a1b9(0x5a4)]=null,this[_0x30a1b9(0x466)]&&this[_0x30a1b9(0x466)][_0x30a1b9(0x445)](),this[_0x30a1b9(0x241)][_0x30a1b9(0x8af)](this[_0x30a1b9(0x7d7)]+'\x20('+this[_0x30a1b9(0x7fc)][_0x30a1b9(0x3c3)]+_0x30a1b9(0x2a1)),await new Promise(_0x3c577a=>setTimeout(_0x3c577a,0x1388)),this[_0x30a1b9(0x241)]['verbose'](this[_0x30a1b9(0x7d7)]+'\x20('+this[_0x30a1b9(0x7fc)][_0x30a1b9(0x3c3)]+_0x30a1b9(0x768));let _0x227de2=await this[_0x30a1b9(0x8ea)][_0x30a1b9(0x3e1)][_0x30a1b9(0x4f2)]({},this[_0x30a1b9(0x7fc)][_0x30a1b9(0x3c3)]);if(!_0x227de2[_0x30a1b9(0x812)])this[_0x30a1b9(0x241)][_0x30a1b9(0x8af)](this[_0x30a1b9(0x7d7)]+'\x20('+this[_0x30a1b9(0x7fc)][_0x30a1b9(0x3c3)]+_0x30a1b9(0x8c2)),this[_0x30a1b9(0x241)][_0x30a1b9(0x8af)](this[_0x30a1b9(0x7d7)]+'\x20('+this['instance'][_0x30a1b9(0x3c3)]+_0x30a1b9(0x425)),await new Promise(_0x2b83d9=>setTimeout(_0x2b83d9,0x1388)),this[_0x30a1b9(0x7fc)][_0x30a1b9(0x774)][_0x30a1b9(0x1f3)]=!0x0,this[_0x30a1b9(0x241)]['verbose'](this[_0x30a1b9(0x7d7)]+'\x20('+this[_0x30a1b9(0x7fc)][_0x30a1b9(0x3c3)]+_0x30a1b9(0x697)),this['scheduleNextCheck']();else throw new Error(_0x227de2['error']['message']||_0x30a1b9(0x59b));return this['getScheduleMessage']();}catch(_0x51946a){let _0x28747b=_0x30a1b9(0x60f),_0x333786=_0x51946a instanceof Error?_0x51946a[_0x30a1b9(0x7d9)]:typeof _0x51946a=='object'?JSON[_0x30a1b9(0x86d)](_0x51946a):_0x51946a,_0x55d750=_0x28747b+':\x20'+_0x333786;throw this[_0x30a1b9(0x241)][_0x30a1b9(0x812)](this['instanceName']+'\x20('+this[_0x30a1b9(0x7fc)][_0x30a1b9(0x3c3)]+'):\x20'+_0x55d750),new m(_0x55d750);}}async[a0_0x5c0bdf(0x46e)](){const _0x194890=a0_0x5c0bdf;try{return await this[_0x194890(0x8ea)][_0x194890(0x3e1)][_0x194890(0x50f)]({'where':{}},this['instance']['wuid']);}catch(_0x530def){let _0x2cc4c9=_0x194890(0x677),_0x5049be=_0x530def instanceof Error?_0x530def[_0x194890(0x7d9)]:typeof _0x530def==_0x194890(0x1ef)?JSON[_0x194890(0x86d)](_0x530def):_0x530def,_0xb79d49=_0x2cc4c9+':\x20'+_0x5049be;throw this[_0x194890(0x241)][_0x194890(0x812)](this[_0x194890(0x7d7)]+'\x20('+this[_0x194890(0x7fc)][_0x194890(0x3c3)]+'):\x20'+_0xb79d49),new m(_0xb79d49);}}['reorderMessages'](_0x55caed){const _0x616389=a0_0x5c0bdf;_0x55caed['sort']((_0x5c4813,_0x571f01)=>_0x5c4813['order']-_0x571f01[_0x616389(0x553)]),_0x55caed[_0x616389(0x91c)]((_0x5796c1,_0x5449ce)=>{const _0x4b0826=_0x616389;_0x5796c1[_0x4b0826(0x553)]=_0x5449ce+0x1;});}async[a0_0x5c0bdf(0x2f2)](_0x5d4bb9,_0x48d365){const _0x462758=a0_0x5c0bdf;try{if(!_0x48d365)return this[_0x462758(0x241)][_0x462758(0x812)](this[_0x462758(0x7d7)]+'\x20('+this[_0x462758(0x7fc)][_0x462758(0x3c3)]+_0x462758(0x7f4)),{'error':!0x0,'detail':_0x462758(0x71e)};if(_0x48d365[_0x462758(0x5a8)]===_0x462758(0x6b5)&&!this[_0x462758(0x587)]?.[_0x462758(0x2ac)][_0x462758(0x5c3)])return this[_0x462758(0x241)][_0x462758(0x812)](this[_0x462758(0x7d7)]+'\x20('+this['instance']['wuid']+_0x462758(0x27d)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x48d365[_0x462758(0x5a8)]){case _0x462758(0x3ac):return await this[_0x462758(0x717)](_0x48d365,_0x5d4bb9);case _0x462758(0x302):case _0x462758(0x2cc):case _0x462758(0x8ca):return await this[_0x462758(0x3d1)](_0x48d365,_0x5d4bb9);case _0x462758(0x250):return await this[_0x462758(0x659)](_0x48d365,_0x5d4bb9);case _0x462758(0x6b5):let _0x184838=new ze();return _0x184838['name']=_0x48d365[_0x462758(0x6b5)],_0x184838[_0x462758(0x57e)]=_0x5d4bb9,await this[_0x462758(0x90e)](_0x184838);default:return this['logger'][_0x462758(0x812)](this['instanceName']+'\x20('+this[_0x462758(0x7fc)][_0x462758(0x3c3)]+_0x462758(0x240)+_0x48d365[_0x462758(0x5a8)]),{'error':!0x0,'detail':_0x462758(0x680)};}}catch(_0x31266f){return this['logger'][_0x462758(0x812)](this['instanceName']+'\x20('+this['instance'][_0x462758(0x3c3)]+_0x462758(0x317)+(_0x31266f instanceof Error?_0x31266f[_0x462758(0x7d9)]:JSON['stringify'](_0x31266f,null,0x2))),{'error':!0x0,'detail':_0x31266f[_0x462758(0x7d9)]};}}async[a0_0x5c0bdf(0x717)](_0x22d9a1,_0x418f00){const _0x5e02f2=a0_0x5c0bdf;if(this[_0x5e02f2(0x241)]['verbose'](this['instanceName']+'\x20('+this[_0x5e02f2(0x7fc)]['wuid']+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x418f00+'\x27'),!_0x22d9a1[_0x5e02f2(0x3ac)]||_0x22d9a1[_0x5e02f2(0x3ac)][_0x5e02f2(0x235)]===0x0)return{'error':!0x0,'detail':_0x5e02f2(0x231)};let _0x3a1547=await this['replaceVariablesChat'](_0x22d9a1[_0x5e02f2(0x3ac)],_0x418f00),_0x213a62={'number':_0x418f00,'options':{'delay':_0x22d9a1[_0x5e02f2(0x597)],'linkPreview':_0x22d9a1['linkPreview']},'textMessage':{'text':_0x3a1547}},_0x19ceb4=null;try{let _0x329708=await this[_0x5e02f2(0x1b8)](_0x213a62);if(_0x329708&&_0x329708[_0x5e02f2(0x3ae)])return{'error':!0x1,'id':_0x329708[_0x5e02f2(0x493)]['id']};_0x19ceb4=JSON[_0x5e02f2(0x86d)](_0x329708),this[_0x5e02f2(0x241)]['verbose'](this['instanceName']+'\x20('+this[_0x5e02f2(0x7fc)][_0x5e02f2(0x3c3)]+_0x5e02f2(0x4a5)+_0x19ceb4);}catch(_0x19730b){this[_0x5e02f2(0x241)][_0x5e02f2(0x812)](this[_0x5e02f2(0x7d7)]+'\x20('+this[_0x5e02f2(0x7fc)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x19730b instanceof Error?_0x19730b[_0x5e02f2(0x7d9)]:JSON[_0x5e02f2(0x86d)](_0x19730b,null,0x2))),_0x19ceb4=_0x19730b[_0x5e02f2(0x7d9)];}if(_0x19ceb4)return{'error':!0x0,'detail':(typeof _0x19ceb4=='object'?JSON[_0x5e02f2(0x86d)](_0x19ceb4,null,0x2):_0x19ceb4)['replace'](/[\[\]{}\n]/g,'\x20')[_0x5e02f2(0x8df)](/  +/g,'\x20')};}async[a0_0x5c0bdf(0x3d1)](_0x39583b,_0x136780){const _0x5dc09b=a0_0x5c0bdf;this['logger'][_0x5dc09b(0x8af)](this['instanceName']+'\x20('+this[_0x5dc09b(0x7fc)][_0x5dc09b(0x3c3)]+_0x5dc09b(0x910)+_0x136780+'\x27');let _0x15024b;_0x39583b[_0x5dc09b(0x3ac)]&&_0x39583b[_0x5dc09b(0x3ac)][_0x5dc09b(0x235)]>0x0&&(_0x15024b=await this['replaceVariablesChat'](_0x39583b[_0x5dc09b(0x3ac)],_0x136780));let _0xabcb6f={'number':_0x136780,'options':{'delay':_0x39583b[_0x5dc09b(0x597)],'linkPreview':_0x39583b['linkPreview']},'mediaMessage':{'mediatype':_0x39583b['type'],'caption':_0x15024b,'media':_0x39583b[_0x5dc09b(0x7ed)]}},_0x4cd48a=null;try{let _0x27a4e5=await this[_0x5dc09b(0x64a)](_0xabcb6f);if(_0x27a4e5&&_0x27a4e5[_0x5dc09b(0x3ae)])return{'error':!0x1,'id':_0x27a4e5[_0x5dc09b(0x493)]['id']};_0x4cd48a=JSON['stringify'](_0x27a4e5),this['logger'][_0x5dc09b(0x8af)](this['instanceName']+'\x20('+this['instance'][_0x5dc09b(0x3c3)]+'):\x20'+_0x4cd48a);}catch(_0x36e50f){this[_0x5dc09b(0x241)][_0x5dc09b(0x812)](this['instanceName']+'\x20('+this[_0x5dc09b(0x7fc)][_0x5dc09b(0x3c3)]+_0x5dc09b(0x28e)+(_0x36e50f instanceof Error?_0x36e50f[_0x5dc09b(0x7d9)]:JSON[_0x5dc09b(0x86d)](_0x36e50f,null,0x2))),_0x4cd48a=_0x36e50f['message'];}if(_0x4cd48a)return{'error':!0x0,'detail':(typeof _0x4cd48a==_0x5dc09b(0x1ef)?JSON[_0x5dc09b(0x86d)](_0x4cd48a,null,0x2):_0x4cd48a)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x5c0bdf(0x659)](_0x4af0f8,_0x2e9119){const _0x2005c8=a0_0x5c0bdf;this[_0x2005c8(0x241)][_0x2005c8(0x8af)](this[_0x2005c8(0x7d7)]+'\x20('+this['instance'][_0x2005c8(0x3c3)]+_0x2005c8(0x354)+_0x2e9119+'\x27');let _0x3c51dc={'number':_0x2e9119,'options':{'delay':_0x4af0f8[_0x2005c8(0x597)]},'audioMessage':{'audio':_0x4af0f8[_0x2005c8(0x7ed)]}},_0x414d2d=null;try{let _0x5066be=await this['audioWhatsapp'](_0x3c51dc);if(_0x5066be&&_0x5066be[_0x2005c8(0x3ae)])return{'error':!0x1,'id':_0x5066be[_0x2005c8(0x493)]['id']};_0x414d2d=JSON[_0x2005c8(0x86d)](_0x5066be),this[_0x2005c8(0x241)][_0x2005c8(0x8af)](this[_0x2005c8(0x7d7)]+'\x20('+this[_0x2005c8(0x7fc)][_0x2005c8(0x3c3)]+'):\x20'+_0x414d2d);}catch(_0x5774ff){this[_0x2005c8(0x241)][_0x2005c8(0x812)](this[_0x2005c8(0x7d7)]+'\x20('+this[_0x2005c8(0x7fc)]['wuid']+_0x2005c8(0x6f4)+(_0x5774ff instanceof Error?_0x5774ff[_0x2005c8(0x7d9)]:JSON[_0x2005c8(0x86d)](_0x5774ff,null,0x2))),_0x414d2d=_0x5774ff[_0x2005c8(0x7d9)];}if(_0x414d2d)return{'error':!0x0,'detail':(typeof _0x414d2d==_0x2005c8(0x1ef)?JSON['stringify'](_0x414d2d,null,0x2):_0x414d2d)[_0x2005c8(0x8df)](/[\[\]{}\n]/g,'\x20')[_0x2005c8(0x8df)](/  +/g,'\x20')};}async[a0_0x5c0bdf(0x648)](_0x55439e){const _0x3cebfa=a0_0x5c0bdf;try{return await this[_0x3cebfa(0x3c4)]['groupUpdateDescription'](_0x55439e[_0x3cebfa(0x8ab)],_0x55439e[_0x3cebfa(0x1b6)]),{'update':_0x3cebfa(0x906)};}catch(_0x39d06b){let _0x346dd0='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x416d15=_0x39d06b instanceof Error?_0x39d06b[_0x3cebfa(0x7d9)]:typeof _0x39d06b==_0x3cebfa(0x1ef)?JSON[_0x3cebfa(0x86d)](_0x39d06b):_0x39d06b,_0x5366db=_0x346dd0+':\x20'+_0x416d15;throw this[_0x3cebfa(0x241)]['error'](this[_0x3cebfa(0x7d7)]+'\x20('+this[_0x3cebfa(0x7fc)]['wuid']+_0x3cebfa(0x4a5)+_0x5366db),new x(_0x5366db);}}async[a0_0x5c0bdf(0x64f)](_0xaccbb0){const _0x4d19df=a0_0x5c0bdf;try{return await this[_0x4d19df(0x3c4)][_0x4d19df(0x7c1)](_0xaccbb0[_0x4d19df(0x8ab)],_0xaccbb0['name']),{'update':_0x4d19df(0x906)};}catch(_0x69b555){let _0x16e11c=_0x4d19df(0x228),_0x417a4f=_0x69b555 instanceof Error?_0x69b555[_0x4d19df(0x7d9)]:typeof _0x69b555==_0x4d19df(0x1ef)?JSON[_0x4d19df(0x86d)](_0x69b555):_0x69b555,_0xb1af29=_0x16e11c+':\x20'+_0x417a4f;throw this[_0x4d19df(0x241)][_0x4d19df(0x812)](this['instanceName']+'\x20('+this[_0x4d19df(0x7fc)][_0x4d19df(0x3c3)]+_0x4d19df(0x4a5)+_0xb1af29),new x(_0xb1af29);}}async[a0_0x5c0bdf(0x88c)](_0x487f74){const _0x1d3ea1=a0_0x5c0bdf;try{let _0xd12668=await this[_0x1d3ea1(0x3c4)][_0x1d3ea1(0x25e)](_0x487f74[_0x1d3ea1(0x8ab)],_0x487f74['expiration']);return{'success':!0x0};}catch(_0x138215){let _0x14303d=_0x1d3ea1(0x49f),_0x29d802=_0x138215 instanceof Error?_0x138215['message']:typeof _0x138215==_0x1d3ea1(0x1ef)?JSON[_0x1d3ea1(0x86d)](_0x138215):_0x138215,_0x23dfcc=_0x14303d+':\x20'+_0x29d802;throw this['logger'][_0x1d3ea1(0x812)](this['instanceName']+'\x20('+this[_0x1d3ea1(0x7fc)][_0x1d3ea1(0x3c3)]+_0x1d3ea1(0x4a5)+_0x23dfcc),new x(_0x23dfcc);}}async[a0_0x5c0bdf(0x260)](_0x37d533){const _0x1ecfe4=a0_0x5c0bdf;try{return await this[_0x1ecfe4(0x3c4)][_0x1ecfe4(0x1e3)](_0x37d533['groupJid'],_0x37d533[_0x1ecfe4(0x6f0)]),{'update':_0x1ecfe4(0x906)};}catch(_0x194eea){let _0x4b52b2=_0x1ecfe4(0x884),_0x19cf51=_0x194eea instanceof Error?_0x194eea['message']:typeof _0x194eea==_0x1ecfe4(0x1ef)?JSON[_0x1ecfe4(0x86d)](_0x194eea):_0x194eea,_0x421b02=_0x4b52b2+':\x20'+_0x19cf51;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x1ecfe4(0x7fc)][_0x1ecfe4(0x3c3)]+_0x1ecfe4(0x4a5)+_0x421b02),new x(_0x421b02);}}async['updateGroupPicture'](_0x5f090d){const _0x108c18=a0_0x5c0bdf;try{let _0x4991e6;if((0x0,J[_0x108c18(0x239)])(_0x5f090d[_0x108c18(0x2cc)])){let _0x429445=new Date()[_0x108c18(0x48c)](),_0x1d1374=_0x5f090d['image']+_0x108c18(0x867)+_0x429445;_0x4991e6=(await K[_0x108c18(0x32c)]['get'](_0x1d1374,{'responseType':_0x108c18(0x330)}))[_0x108c18(0x8db)];}else{if((0x0,J['isBase64'])(_0x5f090d[_0x108c18(0x2cc)]))_0x4991e6=Buffer[_0x108c18(0x4ea)](_0x5f090d['image'],_0x108c18(0x916));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x108c18(0x3c4)]['updateProfilePicture'](_0x5f090d[_0x108c18(0x8ab)],_0x4991e6),{'update':_0x108c18(0x906)};}catch(_0x1a59d0){let _0x57bbbe=_0x108c18(0x39e),_0x8fcd04=_0x1a59d0 instanceof Error?_0x1a59d0[_0x108c18(0x7d9)]:typeof _0x1a59d0==_0x108c18(0x1ef)?JSON[_0x108c18(0x86d)](_0x1a59d0):_0x1a59d0,_0x184273=_0x57bbbe+':\x20'+_0x8fcd04;throw this[_0x108c18(0x241)][_0x108c18(0x812)](this[_0x108c18(0x7d7)]+'\x20('+this['instance'][_0x108c18(0x3c3)]+'):\x20'+_0x184273),new x(_0x184273);}}},jt=class u{constructor(_0x21daf3,_0x32d2ef,_0x6e04c8){const _0x47ea16=a0_0x5c0bdf;this[_0x47ea16(0x3fc)]=_0x21daf3,this['configService']=_0x32d2ef,this['repository']=_0x6e04c8,this['db']={},this[_0x47ea16(0x5f3)]={},this[_0x47ea16(0x241)]=new $(u['name']),this[_0x47ea16(0x602)]={},(this[_0x47ea16(0x359)](),this[_0x47ea16(0x924)](),Object[_0x47ea16(0x2bb)](this['db'],_0x32d2ef[_0x47ea16(0x1fe)]('DATABASE')),Object[_0x47ea16(0x2bb)](this[_0x47ea16(0x5f3)],_0x32d2ef['get'](_0x47ea16(0x703))),this[_0x47ea16(0x27a)]=this['db'][_0x47ea16(0x2ed)]?this[_0x47ea16(0x8ea)]['dbServer']?.['db'](this['db'][_0x47ea16(0x537)][_0x47ea16(0x7bf)]+'-instances'):void 0x0,this['cache']=this[_0x47ea16(0x5f3)][_0x47ea16(0x2ed)]?new ue(this[_0x47ea16(0x5f3)]):void 0x0);}async['instanceInfo'](_0x310e65){const _0x364047=a0_0x5c0bdf;if(_0x310e65&&!this[_0x364047(0x602)][_0x310e65])throw new U(_0x364047(0x37d)+_0x310e65+'\x22\x20not\x20found');let _0x3f46f4=[];for await(let [_0x3b8f20,_0x5c9891]of Object[_0x364047(0x6ef)](this['waInstances']))if(_0x5c9891&&_0x5c9891['connectionStatus'][_0x364047(0x4e4)]===_0x364047(0x2ad)){let _0x213f71=await this[_0x364047(0x8ea)][_0x364047(0x893)][_0x364047(0x50f)](_0x3b8f20);_0x3f46f4[_0x364047(0x2c1)]({'instance':{'instanceName':_0x3b8f20,'apikey':_0x213f71[_0x364047(0x692)],'owner':_0x5c9891['wuid'],'profileName':await _0x5c9891[_0x364047(0x7e8)]()||'not\x20loaded','profilePictureUrl':_0x5c9891[_0x364047(0x5e5)]}});}return _0x3f46f4[_0x364047(0x50f)](_0x4ceed9=>_0x4ceed9[_0x364047(0x7fc)][_0x364047(0x7d7)]===_0x310e65)??_0x3f46f4;}async['cleaningUp'](_0x1a08fe){const _0x2074db=a0_0x5c0bdf;if(this['db']['ENABLED']&&(await this['repository']['dbServer'][_0x2074db(0x76c)](),(await this[_0x2074db(0x27a)]['collections']())['length']>0x0&&await this[_0x2074db(0x27a)][_0x2074db(0x2c4)](_0x1a08fe)),this[_0x2074db(0x5f3)][_0x2074db(0x2ed)]){this[_0x2074db(0x559)]['reference']=_0x1a08fe,await this[_0x2074db(0x559)][_0x2074db(0x6bf)]();return;}}async['loadInstance'](){const _0x48cdc4=a0_0x5c0bdf;await this['InstancesAlterarTodas']();let _0x4d6d1b=async _0x41e3bf=>{const _0x531587=a0_0x34cb;let _0x3508fb=new $e(this[_0x531587(0x247)],this[_0x531587(0x3fc)],this['repository']);_0x3508fb[_0x531587(0x7d7)]=_0x41e3bf,await _0x3508fb[_0x531587(0x1bc)](),this['waInstances'][_0x41e3bf]=_0x3508fb;};try{if(this[_0x48cdc4(0x5f3)][_0x48cdc4(0x2ed)]){let _0x597fb6=await this[_0x48cdc4(0x559)][_0x48cdc4(0x6d8)]();_0x597fb6?.[_0x48cdc4(0x235)]>0x0&&_0x597fb6[_0x48cdc4(0x91c)](async _0x2e0c75=>await _0x4d6d1b(_0x2e0c75['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x48cdc4(0x8ea)]['dbServer']['connect']();let _0x47bcff=await this['dbInstance']['collections']();_0x47bcff[_0x48cdc4(0x235)]>0x0&&_0x47bcff[_0x48cdc4(0x91c)](async _0x40e115=>await _0x4d6d1b(_0x40e115[_0x48cdc4(0x77c)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x238c6e){this[_0x48cdc4(0x241)][_0x48cdc4(0x812)](_0x238c6e);}}async[a0_0x5c0bdf(0x79a)](){const _0x405ce9=a0_0x5c0bdf;try{let _0x36eb40=await this['repository'][_0x405ce9(0x893)]['findMany']({'online':!0x1});console[_0x405ce9(0x84c)](_0x405ce9(0x233)+_0x36eb40[_0x405ce9(0x235)]);let _0x5441d7={'online':!0x1},_0xb4e6af=await this['repository'][_0x405ce9(0x893)][_0x405ce9(0x4f2)](_0x5441d7);console[_0x405ce9(0x84c)]('Instâncias\x20removidas:\x20'+_0xb4e6af[_0x405ce9(0x45c)]);}catch(_0x4623b4){console[_0x405ce9(0x812)](_0x405ce9(0x506),_0x4623b4);}}async['InstancesAlterarTodas'](){const _0x1b2022=a0_0x5c0bdf;try{let _0x2552bd={'online':!0x1},_0x4cc56d={'online':!0x1,'lastDisconnect':Date[_0x1b2022(0x435)]()},_0x4ec7f3=await this[_0x1b2022(0x8ea)]['auth'][_0x1b2022(0x702)](_0x2552bd,_0x4cc56d);await this[_0x1b2022(0x79a)]();}catch(_0x4e101e){console[_0x1b2022(0x812)](_0x1b2022(0x5f2),_0x4e101e);}}['removeInstance'](){const _0x53e23c=a0_0x5c0bdf;this['eventEmitter']['on'](_0x53e23c(0x91a),async _0x309ae3=>{const _0x5661cc=_0x53e23c;try{this['waInstances'][_0x309ae3]=void 0x0;}catch{}try{this[_0x5661cc(0x8a3)](_0x309ae3);}finally{this[_0x5661cc(0x241)][_0x5661cc(0x476)]('Instance\x20\x22'+_0x309ae3+_0x5661cc(0x19f));}});}[a0_0x5c0bdf(0x924)](){const _0x2c12e9=a0_0x5c0bdf;this[_0x2c12e9(0x3fc)]['on']('no.connection',async _0x329d95=>{const _0x555646=_0x2c12e9;try{this[_0x555646(0x602)][_0x329d95]=void 0x0;}catch{}try{this[_0x555646(0x8a3)](_0x329d95);}finally{this[_0x555646(0x241)]['warn'](_0x555646(0x37d)+_0x329d95+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Jt=class extends O{['getChatModelForOwner'](_0x522a2b){return ta(_0x522a2b);}async[a0_0x5c0bdf(0x805)](_0x39fe59){const _0x4280c3=a0_0x5c0bdf;if(_0x39fe59[_0x4280c3(0x235)]!==0x0)try{return{'insertCount':(await this[_0x4280c3(0x70b)](_0x39fe59[0x0]['owner'])[_0x4280c3(0x488)]([..._0x39fe59]))[_0x4280c3(0x235)]};}catch(_0x4e9326){return _0x4e9326;}}async[a0_0x5c0bdf(0x50f)](_0x3b9c8e,_0x5e235){const _0x143472=a0_0x5c0bdf;try{let _0x174843=this[_0x143472(0x70b)](_0x5e235),_0x413160=A(_0x3b9c8e['where']);return await _0x174843[_0x143472(0x50f)](_0x413160)[_0x143472(0x474)]({'lastmsg':-0x1})['limit'](_0x3b9c8e?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x5c0bdf(0x4f3)](_0x1d46db,_0x515b12){const _0x53971b=a0_0x5c0bdf;try{let _0x1087a5=this[_0x53971b(0x70b)](_0x515b12),_0x56d99f=A(_0x1d46db[_0x53971b(0x8e1)]);return _0x56d99f[_0x53971b(0x27f)]={'$ne':[]},await _0x1087a5['find'](_0x56d99f)['sort']({'lastmsg':-0x1})['limit'](_0x1d46db?.[_0x53971b(0x716)]??0x0)['lean']();}catch{return[];}}async[a0_0x5c0bdf(0x221)](_0x152b38,_0x40c9b9){const _0x4e2571=a0_0x5c0bdf;try{return{'deletedCount':(await this[_0x4e2571(0x70b)](_0x40c9b9)[_0x4e2571(0x4f2)]({..._0x152b38[_0x4e2571(0x8e1)]}))['deletedCount']};}catch(_0x4ee96f){return{'error':_0x4ee96f?.[_0x4e2571(0x281)]()};}}async[a0_0x5c0bdf(0x3a4)](_0x671f94,_0x1d7db4){const _0x563b1f=a0_0x5c0bdf;try{return await this[_0x563b1f(0x70b)](_0x1d7db4)[_0x563b1f(0x4f2)]({..._0x671f94['where']}),[];}catch(_0x51b571){return{'error':_0x51b571?.[_0x563b1f(0x281)]()};}}async[a0_0x5c0bdf(0x81e)](_0x5c0170,_0x471d22){const _0x466fe7=a0_0x5c0bdf;try{let _0x42748c=this[_0x466fe7(0x70b)](_0x471d22),_0x3b6eb2=A(_0x5c0170['where']);return await _0x42748c[_0x466fe7(0x81e)](_0x3b6eb2)[_0x466fe7(0x7ce)]();}catch{return null;}}async[a0_0x5c0bdf(0x411)](_0xfd7145,_0x35db98,_0x2289d0,_0x402026,_0x4137e4=a0_0x5c0bdf(0x7e0)){const _0x523414=a0_0x5c0bdf;try{let _0x159f74={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x402026},_0x4fe505=this[_0x523414(0x70b)](_0x2289d0),_0x201185=A(_0xfd7145[_0x523414(0x8e1)]);Object['keys'](_0x35db98)['forEach'](_0x15f36c=>{_0x35db98[_0x15f36c]==null&&delete _0x35db98[_0x15f36c];});let _0x32fde3={};return _0x32fde3[_0x4137e4]=_0x35db98,await _0x4fe505[_0x523414(0x301)](_0x201185,_0x32fde3,_0x159f74);}catch(_0x24d2bf){return console[_0x523414(0x812)](_0x24d2bf),null;}}async[a0_0x5c0bdf(0x4e2)](_0x5d325f){const _0x1529e8=a0_0x5c0bdf;try{let _0x1341ef=this[_0x1529e8(0x70b)](_0x5d325f[0x0][_0x1529e8(0x54c)]['where'][_0x1529e8(0x3f7)]),_0x86c1cd=_0x5d325f[_0x1529e8(0x6df)](_0x34d442=>({'updateOne':{'filter':{..._0x34d442['query'][_0x1529e8(0x8e1)]},'update':{'$set':_0x34d442[_0x1529e8(0x1d0)]},'upsert':!0x0}})),_0x16a53a=await _0x1341ef['bulkWrite'](_0x86c1cd);return _0x16a53a['modifiedCount']+_0x16a53a[_0x1529e8(0x4cf)];}catch(_0x2af929){return console[_0x1529e8(0x812)](_0x2af929),0x0;}}async['removeUnusedChatFields'](_0x5479dd){const _0x2cd4df=a0_0x5c0bdf;try{let _0x554426={'group_isCommunity':'','group_announce':'','group_size':''},_0x75ab6d={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x15440a={'$unset':_0x554426};return(await this[_0x2cd4df(0x70b)](_0x5479dd)[_0x2cd4df(0x4e2)](_0x75ab6d,_0x15440a))['modifiedCount'];}catch(_0xe4a41d){return console[_0x2cd4df(0x812)](_0x2cd4df(0x6c5),_0xe4a41d),0x0;}}async[a0_0x5c0bdf(0x79f)](_0x1d4902){const _0x1d333=a0_0x5c0bdf;try{let _0x8b3a35=this[_0x1d333(0x70b)](_0x1d4902),_0x4232b5={'leadInfo.etiquetas':{'$exists':!0x1}},_0x36df21={'$set':{'leadInfo.etiquetas':[]}};return(await _0x8b3a35['updateMany'](_0x4232b5,_0x36df21))[_0x1d333(0x86e)];}catch(_0x12309e){return console['error'](_0x12309e),0x0;}}async[a0_0x5c0bdf(0x922)](_0x7ebd58){const _0x527704=a0_0x5c0bdf;try{let _0x597511=this['getChatModelForOwner'](_0x7ebd58),_0x1c1329={'leadInfo.tags':{'$exists':!0x1}},_0x1ad8a9={'$set':{'leadInfo.tags':[]}};return(await _0x597511['updateMany'](_0x1c1329,_0x1ad8a9))[_0x527704(0x86e)];}catch(_0x490038){return console['error'](_0x490038),0x0;}}async[a0_0x5c0bdf(0x368)](_0x4ca23f){const _0xaba0bf=a0_0x5c0bdf;try{let _0x35c238=this[_0xaba0bf(0x70b)](_0x4ca23f),_0x323929={'leadInfo.customFields':{'$exists':!0x1}},_0x27f5de={'$set':{'leadInfo.customFields':[]}};return(await _0x35c238[_0xaba0bf(0x4e2)](_0x323929,_0x27f5de))[_0xaba0bf(0x86e)];}catch(_0x32d911){return console[_0xaba0bf(0x812)](_0x32d911),0x0;}}async[a0_0x5c0bdf(0x488)](_0xd4823b,_0x181d56){const _0x1fba39=a0_0x5c0bdf;if(!Array[_0x1fba39(0x576)](_0xd4823b)||_0xd4823b[_0x1fba39(0x235)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x1fba39(0x70b)](_0x181d56)[_0x1fba39(0x488)](_0xd4823b))['length'];}catch(_0x5d8a25){throw console[_0x1fba39(0x812)](_0x1fba39(0x5da),_0x5d8a25),_0x5d8a25;}}async['deleteChat'](_0x10d96c,_0x4ceff1){const _0x5b1ebd=a0_0x5c0bdf;try{await this[_0x5b1ebd(0x70b)](_0x4ceff1)[_0x5b1ebd(0x83b)]({'_id':_0x10d96c});}catch(_0x2730c2){throw console[_0x5b1ebd(0x812)](_0x5b1ebd(0x37b),_0x2730c2),_0x2730c2;}}},qt=class extends O{constructor(_0x5c3ca9,_0x4a80c0,_0x1feff7){const _0x2e2cfc=a0_0x5c0bdf;super(_0x4a80c0),this[_0x2e2cfc(0x875)]=_0x5c3ca9,this[_0x2e2cfc(0x247)]=_0x4a80c0,this[_0x2e2cfc(0x945)]=_0x1feff7;}async[a0_0x5c0bdf(0x805)](_0x5733be){const _0x151cdf=a0_0x5c0bdf;if(_0x5733be[_0x151cdf(0x235)]!==0x0)try{return{'insertCount':(await this[_0x151cdf(0x875)][_0x151cdf(0x488)]([..._0x5733be]))['length']};}catch(_0x54f0ce){return _0x54f0ce;}}async[a0_0x5c0bdf(0x1d0)](_0xa35c8c,_0x374da9){const _0x41bff1=a0_0x5c0bdf;try{let _0x2bcab5=A(_0xa35c8c[_0x41bff1(0x8e1)]);return{'updatedCount':(await this[_0x41bff1(0x875)][_0x41bff1(0x4e2)](_0x2bcab5,{'$set':_0x374da9}))[_0x41bff1(0x86e)]};}catch(_0x3e6ee9){return console[_0x41bff1(0x812)](_0x41bff1(0x2be),_0x3e6ee9),{'error':_0x3e6ee9[_0x41bff1(0x281)]()};}}async[a0_0x5c0bdf(0x2e7)](_0x34bde8){const _0x103e7d=a0_0x5c0bdf;try{let _0x45e078={'_id':{'$in':_0x34bde8}};return await this[_0x103e7d(0x875)]['find'](_0x45e078)[_0x103e7d(0x7ce)]();}catch(_0x40979f){return console[_0x103e7d(0x812)](_0x103e7d(0x2d8),_0x40979f),[];}}async[a0_0x5c0bdf(0x221)](_0x3ed4bc){const _0x1f927b=a0_0x5c0bdf;try{return{'deletedCount':(await this[_0x1f927b(0x875)][_0x1f927b(0x4f2)]({..._0x3ed4bc[_0x1f927b(0x8e1)]}))[_0x1f927b(0x65c)]};}catch(_0x5c6bf8){return{'error':_0x5c6bf8?.[_0x1f927b(0x281)]()};}}async[a0_0x5c0bdf(0x50f)](_0x1cf882){const _0x5b467d=a0_0x5c0bdf;try{let _0x5aa11c=A(_0x1cf882['where']);return await this[_0x5b467d(0x875)][_0x5b467d(0x50f)](_0x5aa11c)[_0x5b467d(0x716)](_0x1cf882?.[_0x5b467d(0x716)]??0x0)[_0x5b467d(0x7ce)]();}catch{return[];}}async[a0_0x5c0bdf(0x81e)](_0x3c1eb9){const _0x25343e=a0_0x5c0bdf;try{let _0x5a425e=A(_0x3c1eb9[_0x25343e(0x8e1)]);return await this[_0x25343e(0x875)][_0x25343e(0x81e)](_0x5a425e)[_0x25343e(0x7ce)]();}catch{return null;}}},Vt=class extends O{constructor(_0x30a2bf,_0x41b226,_0x1f1cc0){const _0x2af6e8=a0_0x5c0bdf;super(_0x41b226),this['messageLogsModel']=_0x30a2bf,this['configService']=_0x41b226,this[_0x2af6e8(0x945)]=_0x1f1cc0;}async['insert'](_0x18d45e){const _0x2b484f=a0_0x5c0bdf;if(_0x18d45e['length']!==0x0)try{return{'insertCount':(await this[_0x2b484f(0x254)][_0x2b484f(0x488)]([..._0x18d45e]))[_0x2b484f(0x235)]};}catch(_0x1bee76){return _0x1bee76;}}async[a0_0x5c0bdf(0x1d0)](_0x22bf12,_0x2988ef){const _0x3049dc=a0_0x5c0bdf;try{let _0x561bf7=A(_0x22bf12[_0x3049dc(0x8e1)]);return{'updatedCount':(await this[_0x3049dc(0x254)][_0x3049dc(0x4e2)](_0x561bf7,{'$set':_0x2988ef}))[_0x3049dc(0x86e)]};}catch(_0xfcd715){return console[_0x3049dc(0x812)]('Error\x20updating\x20cache\x20contact:',_0xfcd715),{'error':_0xfcd715[_0x3049dc(0x281)]()};}}async[a0_0x5c0bdf(0x221)](_0xf44215){const _0x49fa14=a0_0x5c0bdf;try{return{'deletedCount':(await this['messageLogsModel'][_0x49fa14(0x4f2)]({..._0xf44215[_0x49fa14(0x8e1)]}))[_0x49fa14(0x65c)]};}catch(_0x81aa5d){return{'error':_0x81aa5d?.[_0x49fa14(0x281)]()};}}async['findOne'](_0x421ec6){const _0x2cc3e4=a0_0x5c0bdf;try{let _0x2eb26a=A(_0x421ec6['where']);return await this[_0x2cc3e4(0x254)][_0x2cc3e4(0x81e)](_0x2eb26a)[_0x2cc3e4(0x7ce)]();}catch{return null;}}},Gt=class extends O{[a0_0x5c0bdf(0x3c1)](_0x3997bd){return va(_0x3997bd);}async[a0_0x5c0bdf(0x411)](_0x2d5487,_0x47d8d5,_0x49bee4,_0x59027d){const _0x3ac272=a0_0x5c0bdf;try{let _0x12f292={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x59027d},_0x18fc77=this[_0x3ac272(0x3c1)](_0x49bee4),_0x18449a=A(_0x2d5487['where']);return await _0x18fc77['findOneAndUpdate'](_0x18449a,{'$set':_0x47d8d5},_0x12f292);}catch(_0x4d6b9a){return console[_0x3ac272(0x812)](_0x4d6b9a),null;}}async[a0_0x5c0bdf(0x50f)](_0x16c765,_0xf5551e){const _0x53a64d=a0_0x5c0bdf;try{let _0x8ced6f=this['getLabelModelForOwner'](_0xf5551e),_0xd9d3d0=A(_0x16c765[_0x53a64d(0x8e1)]);return await _0x8ced6f['find'](_0xd9d3d0);}catch(_0x5882fc){console[_0x53a64d(0x812)](_0x5882fc);}}async[a0_0x5c0bdf(0x221)](_0x5029ae,_0x499a8e){const _0x3dc364=a0_0x5c0bdf;try{let _0x4e865a=this['getLabelModelForOwner'](_0x499a8e),_0x5e348c=A(_0x5029ae[_0x3dc364(0x8e1)]);await _0x4e865a[_0x3dc364(0x4f2)](_0x5e348c);}catch(_0x493291){console[_0x3dc364(0x812)](_0x493291);}}async[a0_0x5c0bdf(0x3a4)](_0x2e8aa5){const _0x364e4c=a0_0x5c0bdf;try{return await this[_0x364e4c(0x3c1)](_0x2e8aa5)[_0x364e4c(0x22e)][_0x364e4c(0x31d)](),{'success':!0x0};}catch(_0x4c5de8){return console[_0x364e4c(0x812)](_0x4c5de8),{'success':!0x1,'error':_0x4c5de8};}}},Bt=class{constructor(_0x5a281f){this['waMonitor']=_0x5a281f;}async[a0_0x5c0bdf(0x8c8)]({instanceName:_0x522ecc},_0x536088){const _0x37c342=a0_0x5c0bdf;return await this[_0x37c342(0x734)][_0x37c342(0x602)][_0x522ecc]['editChat'](_0x536088);}async['whatsappNumber']({instanceName:_0x1dd4c1},_0x3d56ac){const _0x512c1a=a0_0x5c0bdf;return await this['waMonitor'][_0x512c1a(0x602)][_0x1dd4c1][_0x512c1a(0x638)](_0x3d56ac);}async[a0_0x5c0bdf(0x2d4)]({instanceName:_0x2c0a2c},_0x2376b1){const _0x3b6c96=a0_0x5c0bdf;return await this[_0x3b6c96(0x734)][_0x3b6c96(0x602)][_0x2c0a2c]['importChats'](_0x2376b1);}async[a0_0x5c0bdf(0x63c)]({instanceName:_0x1ae9e3},_0x3e2ec6){const _0x11064c=a0_0x5c0bdf;return await this[_0x11064c(0x734)][_0x11064c(0x602)][_0x1ae9e3]['markMessageAsRead'](_0x3e2ec6);}async[a0_0x5c0bdf(0x381)]({instanceName:_0x10f1cc},_0x793204){const _0x6e847f=a0_0x5c0bdf;return await this[_0x6e847f(0x734)]['waInstances'][_0x10f1cc][_0x6e847f(0x381)](_0x793204);}async[a0_0x5c0bdf(0x8ed)]({instanceName:_0x852360},_0x24523f){const _0x3f0938=a0_0x5c0bdf;return await this[_0x3f0938(0x734)]['waInstances'][_0x852360]['deleteMessage'](_0x24523f);}async['fetchProfilePicture']({instanceName:_0x349180},_0x789ef8){const _0x1eabf3=a0_0x5c0bdf;return await this[_0x1eabf3(0x734)][_0x1eabf3(0x602)][_0x349180][_0x1eabf3(0x859)](_0x789ef8[_0x1eabf3(0x443)]);}async[a0_0x5c0bdf(0x4c1)]({instanceName:_0x40b301},_0x128390){const _0x3ce8f9=a0_0x5c0bdf;return await this[_0x3ce8f9(0x734)]['waInstances'][_0x40b301][_0x3ce8f9(0x4c1)](_0x128390['number']);}async[a0_0x5c0bdf(0x8b7)]({instanceName:_0x23f48f},_0x122ee1){const _0x46cebc=a0_0x5c0bdf;return await this[_0x46cebc(0x734)][_0x46cebc(0x602)][_0x23f48f]['updatePresence'](_0x122ee1);}async[a0_0x5c0bdf(0x431)]({instanceName:_0x549d61},_0x3b1380){const _0x40a9df=a0_0x5c0bdf;return await this[_0x40a9df(0x734)][_0x40a9df(0x602)][_0x549d61][_0x40a9df(0x431)](_0x3b1380);}async[a0_0x5c0bdf(0x672)]({instanceName:_0x2a1d42},_0x26fcb4){const _0x3e6394=a0_0x5c0bdf;return await this[_0x3e6394(0x734)][_0x3e6394(0x602)][_0x2a1d42][_0x3e6394(0x672)](_0x26fcb4);}async[a0_0x5c0bdf(0x711)]({instanceName:_0x36ffd4},_0x278b5e){const _0x165051=a0_0x5c0bdf;return await this['waMonitor'][_0x165051(0x602)][_0x36ffd4][_0x165051(0x711)](_0x278b5e);}async['fetchLabels']({instanceName:_0x6c76a2}){const _0x5b7a09=a0_0x5c0bdf;return await this[_0x5b7a09(0x734)]['waInstances'][_0x6c76a2][_0x5b7a09(0x8de)]();}async['fetchChats']({instanceName:_0x78de6}){const _0x444e82=a0_0x5c0bdf;return await this[_0x444e82(0x734)][_0x444e82(0x602)][_0x78de6][_0x444e82(0x465)]();}async[a0_0x5c0bdf(0x430)]({instanceName:_0x1597b0}){const _0x1fd985=a0_0x5c0bdf;return await this['waMonitor'][_0x1fd985(0x602)][_0x1597b0][_0x1fd985(0x430)]();}async[a0_0x5c0bdf(0x5dd)]({instanceName:_0x55f281},_0x4b8c2c){const _0x2955e6=a0_0x5c0bdf;return await this[_0x2955e6(0x734)][_0x2955e6(0x602)][_0x55f281]['updatePrivacySettings'](_0x4b8c2c);}async[a0_0x5c0bdf(0x46b)]({instanceName:_0x55a03e},_0x3cedd8){const _0x11a52c=a0_0x5c0bdf;return await this['waMonitor'][_0x11a52c(0x602)][_0x55a03e][_0x11a52c(0x46b)](_0x3cedd8['number']);}async['updateProfileName']({instanceName:_0x1feeb7},_0x3a0d5c){const _0x4f9d6c=a0_0x5c0bdf;return await this[_0x4f9d6c(0x734)][_0x4f9d6c(0x602)][_0x1feeb7][_0x4f9d6c(0x43c)](_0x3a0d5c[_0x4f9d6c(0x35d)]);}async[a0_0x5c0bdf(0x7c5)]({instanceName:_0x22aee4},_0x59f2c5){const _0x5a9077=a0_0x5c0bdf;return await this[_0x5a9077(0x734)][_0x5a9077(0x602)][_0x22aee4][_0x5a9077(0x7c5)](_0x59f2c5['status']);}async[a0_0x5c0bdf(0x727)]({instanceName:_0xa228cc},_0x7a7d7c){const _0x2ff490=a0_0x5c0bdf;return await this['waMonitor'][_0x2ff490(0x602)][_0xa228cc][_0x2ff490(0x727)](_0x7a7d7c[_0x2ff490(0x1e4)]);}async['removeProfilePicture']({instanceName:_0x20b0e8},_0x43081f){const _0x3e5da2=a0_0x5c0bdf;return await this[_0x3e5da2(0x734)][_0x3e5da2(0x602)][_0x20b0e8][_0x3e5da2(0x78d)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x55f055,_0x49be7d,_0x134818,_0x47e393,_0x65b8e2){const _0x5cad95=a0_0x5c0bdf;this[_0x5cad95(0x734)]=_0x55f055,this[_0x5cad95(0x247)]=_0x49be7d,this[_0x5cad95(0x8ea)]=_0x134818,this[_0x5cad95(0x3fc)]=_0x47e393,this[_0x5cad95(0x6b9)]=_0x65b8e2,this[_0x5cad95(0x241)]=new $(u[_0x5cad95(0x35d)]);}async['createInstance']({instanceName:_0x28a8a5,apikey:_0xf255ec,number:_0x29da0b,proxy:_0x261dd5=!0x0}){const _0x3d6d29=a0_0x5c0bdf;try{let _0x1eb92d=new $e(this[_0x3d6d29(0x247)],this[_0x3d6d29(0x3fc)],this['repository']);_0x1eb92d[_0x3d6d29(0x7d7)]=_0x28a8a5,this[_0x3d6d29(0x734)]['waInstances'][_0x1eb92d[_0x3d6d29(0x7d7)]]=_0x1eb92d;let _0x3a18e9={};_0xf255ec?(await this['repository'][_0x3d6d29(0x893)][_0x3d6d29(0x615)]({'apikey':_0xf255ec},_0x28a8a5),_0x3a18e9[_0x3d6d29(0x692)]=_0xf255ec):_0x3a18e9=await this[_0x3d6d29(0x6b9)]['generateHash']({'instanceName':_0x1eb92d['instanceName']});let _0x1d2275;if(_0x29da0b){if(_0x1d2275=await this['verifyWhatsAppNumber'](_0x29da0b),_0x1d2275[_0x3d6d29(0x812)])throw new x(_0x1d2275[_0x3d6d29(0x812)][_0x3d6d29(0x281)]());_0x29da0b=_0x1d2275[_0x3d6d29(0x443)];}let _0x423be3;return await _0x1eb92d[_0x3d6d29(0x1bc)](_0x29da0b),await(0x0,Wt[_0x3d6d29(0x597)])(0xfa0),_0x29da0b&&await(0x0,Wt[_0x3d6d29(0x597)])(0xbb8),_0x423be3=_0x1eb92d[_0x3d6d29(0x23a)],{'instance':{'instanceName':_0x1eb92d[_0x3d6d29(0x7d7)],'status':_0x3d6d29(0x496)},'hash':_0x3a18e9,'qrcode':_0x423be3};}catch(_0x2a1622){throw this['logger'][_0x3d6d29(0x812)](_0x2a1622),_0x2a1622;}}async['connectToWhatsappController']({instanceName:_0x2ea538,number:_0x3f86aa=null}){const _0x1862f1=a0_0x5c0bdf;try{let _0x27393d=this['waMonitor'][_0x1862f1(0x602)][_0x2ea538];switch(_0x27393d?.[_0x1862f1(0x835)]?.[_0x1862f1(0x4e4)]){case'close':return await _0x27393d[_0x1862f1(0x1bc)](_0x3f86aa),await(0x0,Wt['delay'])(0x7d0),_0x27393d[_0x1862f1(0x23a)];case _0x1862f1(0x901):return _0x27393d[_0x1862f1(0x23a)];default:return await this[_0x1862f1(0x22f)]({'instanceName':_0x2ea538});}}catch(_0x60763b){this[_0x1862f1(0x241)][_0x1862f1(0x84c)](_0x60763b);}}async[a0_0x5c0bdf(0x22f)]({instanceName:_0x274bb4}){const _0x524f8f=a0_0x5c0bdf;let _0x26bd4a=this[_0x524f8f(0x734)][_0x524f8f(0x602)][_0x274bb4][_0x524f8f(0x835)],_0x274369=null;_0x26bd4a[_0x524f8f(0x4e4)]===_0x524f8f(0x2ad)&&_0x274bb4&&(_0x274369=await this[_0x524f8f(0x734)][_0x524f8f(0x413)](_0x274bb4));let _0x51dca7=null;return _0x26bd4a[_0x524f8f(0x4e4)]==='connecting'&&_0x274bb4&&(_0x51dca7=this[_0x524f8f(0x734)][_0x524f8f(0x602)][_0x274bb4]['qrCode']),{'instance':_0x274bb4,'connectionStatus':_0x26bd4a,'instanceInfo':_0x274369,'qrcode':_0x51dca7};}async[a0_0x5c0bdf(0x8bc)](_0x115cce){const _0x3eb001=a0_0x5c0bdf;_0x115cce=_0x115cce[_0x3eb001(0x8df)](/\D/g,'');let _0x20f246=Object[_0x3eb001(0x2ec)](this[_0x3eb001(0x734)]['waInstances'])[_0x3eb001(0x755)](_0x1ab6a6=>{const _0x1664e4=_0x3eb001;let _0x324146=this[_0x1664e4(0x734)][_0x1664e4(0x602)][_0x1ab6a6];return _0x324146&&_0x324146[_0x1664e4(0x835)]&&_0x324146['connectionStatus'][_0x1664e4(0x4e4)]===_0x1664e4(0x2ad);});if(_0x20f246[_0x3eb001(0x235)]===0x0)return{'number':this[_0x3eb001(0x319)](_0x115cce)};let _0x372d33=Math[_0x3eb001(0x3ab)](Math[_0x3eb001(0x277)]()*_0x20f246[_0x3eb001(0x235)]),_0x359368=_0x20f246[_0x372d33];try{let _0x214333=(await this['waMonitor']['waInstances'][_0x359368]['whatsappNumber']({'numbers':[_0x115cce]}))['shift']();return _0x214333[_0x3eb001(0x856)]?{'number':_0x214333[_0x3eb001(0x273)][_0x3eb001(0x8df)](_0x3eb001(0x249),'')}:{'number':_0x115cce,'error':_0x3eb001(0x536)};}catch(_0x15496f){return this[_0x3eb001(0x241)]['error'](_0x3eb001(0x5df)+_0x15496f),{'number':_0x115cce,'error':_0x3eb001(0x8dc)};}}[a0_0x5c0bdf(0x319)](_0x16f520){let _0x57a89d=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x16f520);if(_0x57a89d&&_0x57a89d[0x1]==='55'){let _0x16d156=_0x57a89d[0x2],_0x451b3d=_0x57a89d[0x3],_0x1edaf4=_0x57a89d[0x4];if(parseInt(_0x16d156)>=0x1f&&_0x451b3d==='9')return _0x57a89d[0x1]+_0x16d156+_0x1edaf4;}return _0x16f520;}async[a0_0x5c0bdf(0x851)]({instanceName:_0x4a0307}){const _0x58dd1b=a0_0x5c0bdf;try{return this[_0x58dd1b(0x734)][_0x58dd1b(0x602)][_0x4a0307]?.['client']?.['ws']?.[_0x58dd1b(0x3ec)](),{'status':'SUCCESS','error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x48064b){this[_0x58dd1b(0x241)]['error'](_0x48064b);}}async['fetchInstances']({instanceName:_0x4b6d8a}){const _0x2870d4=a0_0x5c0bdf;return _0x4b6d8a?this[_0x2870d4(0x734)][_0x2870d4(0x413)](_0x4b6d8a):this[_0x2870d4(0x734)][_0x2870d4(0x413)]();}async[a0_0x5c0bdf(0x8a4)]({instanceName:_0x5a75e2}){const _0x655d5f=a0_0x5c0bdf;try{return await this[_0x655d5f(0x734)]['waInstances'][_0x5a75e2]?.[_0x655d5f(0x3c4)]?.[_0x655d5f(0x8a4)]('Log\x20out\x20instance:\x20'+_0x5a75e2),{'error':!0x1,'message':_0x655d5f(0x6b1)};}catch(_0x180091){throw new x(_0x180091[_0x655d5f(0x281)]());}}async['deleteInstance']({instanceName:_0x250857}){const _0x435d70=a0_0x5c0bdf;if((await this[_0x435d70(0x22f)]({'instanceName':_0x250857}))[_0x435d70(0x835)][_0x435d70(0x4e4)]===_0x435d70(0x2ad))throw new m([_0x435d70(0x53b),_0x435d70(0x719)]);try{return delete this[_0x435d70(0x734)][_0x435d70(0x602)][_0x250857],{'error':!0x1,'message':_0x435d70(0x512)};}catch(_0x3bc08a){throw new m(_0x3bc08a[_0x435d70(0x281)]());}}},re=require(a0_0x5c0bdf(0x75f)),Ht=class{constructor(_0x4f0ee7){const _0x466021=a0_0x5c0bdf;this[_0x466021(0x734)]=_0x4f0ee7;}async['sendText']({instanceName:_0x1d1e63},_0x2fe982){const _0x5724f0=a0_0x5c0bdf;return await this[_0x5724f0(0x734)][_0x5724f0(0x602)][_0x1d1e63]['textMessage'](_0x2fe982);}async[a0_0x5c0bdf(0x508)]({instanceName:_0x2c299f},_0x37e4c6){const _0x40df51=a0_0x5c0bdf;return await this['waMonitor'][_0x40df51(0x602)][_0x2c299f][_0x40df51(0x2d0)](_0x37e4c6);}async['sendMedia']({instanceName:_0x4ed5b7},_0x1db8f0){const _0x5c5d21=a0_0x5c0bdf;if((0x0,re['isBase64'])(_0x1db8f0?.[_0x5c5d21(0x64a)]?.[_0x5c5d21(0x861)])&&!_0x1db8f0?.[_0x5c5d21(0x64a)]?.['fileName'])throw new m(_0x5c5d21(0x3ef));if((0x0,re[_0x5c5d21(0x239)])(_0x1db8f0?.[_0x5c5d21(0x64a)]?.[_0x5c5d21(0x861)])||(0x0,re[_0x5c5d21(0x88b)])(_0x1db8f0?.[_0x5c5d21(0x64a)]?.[_0x5c5d21(0x861)]))return await this[_0x5c5d21(0x734)]['waInstances'][_0x4ed5b7][_0x5c5d21(0x64a)](_0x1db8f0);throw new m(_0x5c5d21(0x8b8));}async[a0_0x5c0bdf(0x791)]({instanceName:_0x231dd3},_0x4bcb85){const _0x8fef46=a0_0x5c0bdf;if((0x0,re[_0x8fef46(0x239)])(_0x4bcb85['stickerMessage'][_0x8fef46(0x2cc)])||(0x0,re[_0x8fef46(0x88b)])(_0x4bcb85[_0x8fef46(0x85e)]['image']))return await this[_0x8fef46(0x734)][_0x8fef46(0x602)][_0x231dd3][_0x8fef46(0x5b3)](_0x4bcb85);throw new m(_0x8fef46(0x8b8));}async[a0_0x5c0bdf(0x33b)]({instanceName:_0x401d93},_0x137dcf){const _0x44d25a=a0_0x5c0bdf;if((0x0,re[_0x44d25a(0x239)])(_0x137dcf[_0x44d25a(0x227)]['audio'])||(0x0,re[_0x44d25a(0x88b)])(_0x137dcf['audioMessage'][_0x44d25a(0x250)]))return await this[_0x44d25a(0x734)][_0x44d25a(0x602)][_0x401d93]['audioWhatsapp'](_0x137dcf);throw new m(_0x44d25a(0x8b8));}async[a0_0x5c0bdf(0x436)]({instanceName:_0x1bb9da},_0x40dd2f){const _0x2a768a=a0_0x5c0bdf;return await this[_0x2a768a(0x734)]['waInstances'][_0x1bb9da][_0x2a768a(0x6b2)](_0x40dd2f);}async[a0_0x5c0bdf(0x809)]({instanceName:_0x32125c},_0x391f4d){const _0x397109=a0_0x5c0bdf;return await this[_0x397109(0x734)][_0x397109(0x602)][_0x32125c][_0x397109(0x522)](_0x391f4d);}async['sendPoll']({instanceName:_0x1fb878},_0x14a707){const _0x5945f3=a0_0x5c0bdf;return await this['waMonitor'][_0x5945f3(0x602)][_0x1fb878]['pollMessage'](_0x14a707);}async[a0_0x5c0bdf(0x652)]({instanceName:_0x2dc903},_0x21f8eb){const _0x67b737=a0_0x5c0bdf;return await this[_0x67b737(0x734)][_0x67b737(0x602)][_0x2dc903][_0x67b737(0x68e)](_0x21f8eb);}async['sendContact']({instanceName:_0x9430fc},_0x1cf2f4){const _0x2a2dba=a0_0x5c0bdf;return await this[_0x2a2dba(0x734)][_0x2a2dba(0x602)][_0x9430fc][_0x2a2dba(0x237)](_0x1cf2f4);}async[a0_0x5c0bdf(0x3a1)]({instanceName:_0x15a8f6},_0x59f0eb){const _0x27ca1a=a0_0x5c0bdf;if(!_0x59f0eb['reactionMessage'][_0x27ca1a(0x2d6)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x27ca1a(0x3a6));return await this['waMonitor'][_0x27ca1a(0x602)][_0x15a8f6]['reactionMessage'](_0x59f0eb);}async[a0_0x5c0bdf(0x2b8)]({instanceName:_0x15157b},_0x2be992){const _0x3a59f6=a0_0x5c0bdf;return await this['waMonitor'][_0x3a59f6(0x602)][_0x15157b]['statusMessage'](_0x2be992);}},Pi=require(a0_0x5c0bdf(0x505)),js=require(a0_0x5c0bdf(0x5c7)),Kt=class u{constructor(_0x1c6eac,_0x32ea52,_0x210006){const _0xac8c8e=a0_0x5c0bdf;this[_0xac8c8e(0x247)]=_0x1c6eac,this[_0xac8c8e(0x734)]=_0x32ea52,this[_0xac8c8e(0x8ea)]=_0x210006,this[_0xac8c8e(0x241)]=new $(u[_0xac8c8e(0x35d)]);}async[a0_0x5c0bdf(0x24c)](_0x527731){const _0x1b9e01=a0_0x5c0bdf;let _0x18b47d=this[_0x1b9e01(0x247)][_0x1b9e01(0x1fe)](_0x1b9e01(0x206))[_0x1b9e01(0x7b2)],_0x3fad14=(0x0,Pi[_0x1b9e01(0x392)])({'instanceName':_0x527731[_0x1b9e01(0x7d7)],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x18b47d['SECRET'],{'expiresIn':_0x18b47d[_0x1b9e01(0x1fa)],'encoding':_0x1b9e01(0x678),'subject':'g-t'}),_0x56bdf5=await this[_0x1b9e01(0x8ea)][_0x1b9e01(0x893)][_0x1b9e01(0x615)]({'jwt':_0x3fad14},_0x527731[_0x1b9e01(0x7d7)]);if(_0x56bdf5[_0x1b9e01(0x812)])throw this[_0x1b9e01(0x241)]['error']({'localError':u['name']+_0x1b9e01(0x27c),'error':_0x56bdf5['error']}),new m(_0x1b9e01(0x5d0),_0x56bdf5['error']?.[_0x1b9e01(0x281)]());return{'jwt':_0x3fad14};}async[a0_0x5c0bdf(0x692)](_0x1efc73){const _0x2ed713=a0_0x5c0bdf;let _0x1e01c7=(0x0,js['v4'])()['toUpperCase'](),_0x39884e=await this['repository'][_0x2ed713(0x893)][_0x2ed713(0x615)]({'apikey':_0x1e01c7},_0x1efc73[_0x2ed713(0x7d7)]);if(_0x39884e[_0x2ed713(0x812)])throw this[_0x2ed713(0x241)][_0x2ed713(0x812)]({'localError':u[_0x2ed713(0x35d)]+_0x2ed713(0x27c),'error':_0x39884e['error']}),new m(_0x2ed713(0x5d0),_0x39884e['error']?.[_0x2ed713(0x281)]());return{'apikey':_0x1e01c7};}async[a0_0x5c0bdf(0x52b)](_0x44d73c){const _0xa1338e=a0_0x5c0bdf;let _0x15b16b=this[_0xa1338e(0x247)][_0xa1338e(0x1fe)](_0xa1338e(0x206));return await this[_0x15b16b[_0xa1338e(0x8fa)]](_0x44d73c);}},Qt=class{constructor(_0x5c09f3){this['waMonitor']=_0x5c09f3;}async[a0_0x5c0bdf(0x202)](_0x5a7da4,_0x37e428){const _0x14ade0=a0_0x5c0bdf;return await this[_0x14ade0(0x734)]['waInstances'][_0x5a7da4[_0x14ade0(0x7d7)]][_0x14ade0(0x202)](_0x37e428);}async[a0_0x5c0bdf(0x1ca)](_0x4289fb,_0x3ecc8a){const _0x2f34c3=a0_0x5c0bdf;return await this[_0x2f34c3(0x734)][_0x2f34c3(0x602)][_0x4289fb[_0x2f34c3(0x7d7)]][_0x2f34c3(0x1ca)](_0x3ecc8a);}async[a0_0x5c0bdf(0x648)](_0x34c4ba,_0x3af321){const _0x1db699=a0_0x5c0bdf;return await this[_0x1db699(0x734)]['waInstances'][_0x34c4ba[_0x1db699(0x7d7)]][_0x1db699(0x648)](_0x3af321);}async[a0_0x5c0bdf(0x64f)](_0x1c6a64,_0x5783f2){const _0x50c137=a0_0x5c0bdf;return await this['waMonitor'][_0x50c137(0x602)][_0x1c6a64['instanceName']][_0x50c137(0x64f)](_0x5783f2);}async[a0_0x5c0bdf(0x2ae)](_0x2ab201,_0x2ea7b1){const _0x43063a=a0_0x5c0bdf;return await this[_0x43063a(0x734)][_0x43063a(0x602)][_0x2ab201['instanceName']][_0x43063a(0x2ae)](_0x2ea7b1);}async[a0_0x5c0bdf(0x260)](_0xfe9a18,_0x31c705){const _0x49da92=a0_0x5c0bdf;return await this[_0x49da92(0x734)][_0x49da92(0x602)][_0xfe9a18[_0x49da92(0x7d7)]][_0x49da92(0x260)](_0x31c705);}async[a0_0x5c0bdf(0x37e)](_0x41aab8,_0x1a5b1a){const _0x2b101c=a0_0x5c0bdf;return await this[_0x2b101c(0x734)]['waInstances'][_0x41aab8[_0x2b101c(0x7d7)]][_0x2b101c(0x57b)](_0x1a5b1a);}async['findGroups'](_0x31a5ba){const _0x272d53=a0_0x5c0bdf;return await this[_0x272d53(0x734)][_0x272d53(0x602)][_0x31a5ba['instanceName']][_0x272d53(0x698)]();}async[a0_0x5c0bdf(0x1f0)](_0xfb24ee,_0x491ffd){const _0x4fd7ae=a0_0x5c0bdf;return await this[_0x4fd7ae(0x734)][_0x4fd7ae(0x602)][_0xfb24ee[_0x4fd7ae(0x7d7)]]['inviteCode'](_0x491ffd);}async[a0_0x5c0bdf(0x53a)](_0x28dbef,_0x5700fd){const _0x24577c=a0_0x5c0bdf;return await this[_0x24577c(0x734)][_0x24577c(0x602)][_0x28dbef[_0x24577c(0x7d7)]][_0x24577c(0x53a)](_0x5700fd);}async[a0_0x5c0bdf(0x8fe)](_0x1d8c49,_0x573b8b){const _0x4460da=a0_0x5c0bdf;return await this['waMonitor']['waInstances'][_0x1d8c49['instanceName']][_0x4460da(0x8fe)](_0x573b8b);}async['revokeInviteCode'](_0x4b7db9,_0x9d96d9){const _0x553a16=a0_0x5c0bdf;return await this[_0x553a16(0x734)][_0x553a16(0x602)][_0x4b7db9['instanceName']][_0x553a16(0x485)](_0x9d96d9);}async['findParticipants'](_0x68ecad,_0x1ae78c){const _0x4613f9=a0_0x5c0bdf;return await this[_0x4613f9(0x734)][_0x4613f9(0x602)][_0x68ecad['instanceName']][_0x4613f9(0x324)](_0x1ae78c);}async[a0_0x5c0bdf(0x7af)](_0x40a15f,_0x10711f){const _0x1b118e=a0_0x5c0bdf;return await this['waMonitor']['waInstances'][_0x40a15f[_0x1b118e(0x7d7)]][_0x1b118e(0x51c)](_0x10711f);}async[a0_0x5c0bdf(0x88c)](_0x4cded3,_0x5744c2){const _0x17baf6=a0_0x5c0bdf;return await this[_0x17baf6(0x734)][_0x17baf6(0x602)][_0x4cded3[_0x17baf6(0x7d7)]][_0x17baf6(0x88c)](_0x5744c2);}async[a0_0x5c0bdf(0x41f)](_0x50fe4e,_0x37a7a1){const _0x1f4d0d=a0_0x5c0bdf;return await this[_0x1f4d0d(0x734)][_0x1f4d0d(0x602)][_0x50fe4e['instanceName']][_0x1f4d0d(0x41f)](_0x37a7a1);}},Yt=class{constructor(_0x1ee18b){const _0x48b9e2=a0_0x5c0bdf;this[_0x48b9e2(0x734)]=_0x1ee18b;}['create'](_0x37883e,_0x8fceaf){const _0x7fe5bd=a0_0x5c0bdf;return this[_0x7fe5bd(0x734)][_0x7fe5bd(0x602)][_0x37883e[_0x7fe5bd(0x7d7)]]['setWebhook'](_0x8fceaf);}async[a0_0x5c0bdf(0x50f)](_0xb617ba){const _0x169bb6=a0_0x5c0bdf;try{return await this[_0x169bb6(0x734)][_0x169bb6(0x602)][_0xb617ba[_0x169bb6(0x7d7)]][_0x169bb6(0x478)]();}catch{return{'enabled':null,'url':''};}}},ch=new $(a0_0x5c0bdf(0x61f)),Xt=class{constructor(_0x488ea1){this['waMonitor']=_0x488ea1;}async[a0_0x5c0bdf(0x29b)](_0x21204e,_0xb25a32){const _0x31bdaa=a0_0x5c0bdf;return await this[_0x31bdaa(0x734)]['waInstances'][_0x21204e[_0x31bdaa(0x7d7)]]['editScheduleMessage'](_0xb25a32);}async[a0_0x5c0bdf(0x46e)](_0x23cf00){const _0x59ae0d=a0_0x5c0bdf;return await this['waMonitor'][_0x59ae0d(0x602)][_0x23cf00[_0x59ae0d(0x7d7)]]['getScheduleMessage']();}async[a0_0x5c0bdf(0x7f1)](_0x4624e2){const _0x2bb270=a0_0x5c0bdf;return await this['waMonitor'][_0x2bb270(0x602)][_0x4624e2[_0x2bb270(0x7d7)]][_0x2bb270(0x7f1)]();}async['deleteAllMessages'](_0x47b9fe){const _0x1928e5=a0_0x5c0bdf;return await this['waMonitor'][_0x1928e5(0x602)][_0x47b9fe[_0x1928e5(0x7d7)]][_0x1928e5(0x74b)]();}async[a0_0x5c0bdf(0x6aa)](_0x4b0ecf){const _0x5cb76c=a0_0x5c0bdf;return await this[_0x5cb76c(0x734)][_0x5cb76c(0x602)][_0x4b0ecf[_0x5cb76c(0x7d7)]]['getAutomateSystem']();}async['updateAgent'](_0x29ee5b,_0x14f4a6){const _0x4fd3c7=a0_0x5c0bdf;return await this[_0x4fd3c7(0x734)]['waInstances'][_0x29ee5b[_0x4fd3c7(0x7d7)]][_0x4fd3c7(0x609)](_0x14f4a6);}async[a0_0x5c0bdf(0x6f5)](_0x17f62d,_0x2302a7){const _0x1ada28=a0_0x5c0bdf;return await this[_0x1ada28(0x734)]['waInstances'][_0x17f62d[_0x1ada28(0x7d7)]][_0x1ada28(0x6f5)](_0x2302a7);}async[a0_0x5c0bdf(0x6b8)](_0x5267fc,_0x1f4461){return await this['waMonitor']['waInstances'][_0x5267fc['instanceName']]['updateAutoCompleteMessages'](_0x1f4461);}async[a0_0x5c0bdf(0x718)](_0x3015ae,_0x2d6f7a){const _0x3118c1=a0_0x5c0bdf;return await this[_0x3118c1(0x734)][_0x3118c1(0x602)][_0x3015ae[_0x3118c1(0x7d7)]][_0x3118c1(0x718)](_0x2d6f7a);}async[a0_0x5c0bdf(0x90e)](_0x3427b1,_0x51f1aa){const _0x7c5f6=a0_0x5c0bdf;return await this['waMonitor'][_0x7c5f6(0x602)][_0x3427b1[_0x7c5f6(0x7d7)]][_0x7c5f6(0x90e)](_0x51f1aa);}async['startFlowWebhook'](_0x900d57,_0x201e6e,_0x475e44,_0x1d494f){const _0x5c062b=a0_0x5c0bdf;return await this['waMonitor'][_0x5c062b(0x602)][_0x900d57][_0x5c062b(0x6a2)](_0x201e6e,_0x475e44,_0x1d494f);}async[a0_0x5c0bdf(0x3e5)](_0x25b9ea,_0x55087f){const _0x25c689=a0_0x5c0bdf;return await this[_0x25c689(0x734)][_0x25c689(0x602)][_0x25b9ea[_0x25c689(0x7d7)]][_0x25c689(0x3e5)](_0x55087f);}async[a0_0x5c0bdf(0x6cd)](_0x4727b7,_0x4d2220){const _0x39c01d=a0_0x5c0bdf;return await this[_0x39c01d(0x734)][_0x39c01d(0x602)][_0x4727b7[_0x39c01d(0x7d7)]]['fetchConversation'](_0x4d2220);}async[a0_0x5c0bdf(0x47c)](_0x4da38c,_0x318032){const _0x6b884d=a0_0x5c0bdf;return await this['waMonitor'][_0x6b884d(0x602)][_0x4da38c[_0x6b884d(0x7d7)]][_0x6b884d(0x47c)](_0x318032);}async[a0_0x5c0bdf(0x607)](_0x563144,_0xa45331){const _0x5321b1=a0_0x5c0bdf;return await this['waMonitor'][_0x5321b1(0x602)][_0x563144[_0x5321b1(0x7d7)]][_0x5321b1(0x607)](_0xa45331);}async[a0_0x5c0bdf(0x1d2)](_0x5d20bd,_0x3d54c9){const _0x2499ac=a0_0x5c0bdf;return await this[_0x2499ac(0x734)][_0x2499ac(0x602)][_0x5d20bd[_0x2499ac(0x7d7)]][_0x2499ac(0x1d2)](_0x3d54c9[_0x2499ac(0x2c7)]);}async[a0_0x5c0bdf(0x48e)](_0xc02cd2,_0xe73f06,_0x516629){const _0xdba2e1=a0_0x5c0bdf;return await this[_0xdba2e1(0x734)][_0xdba2e1(0x602)][_0xc02cd2[_0xdba2e1(0x7d7)]][_0xdba2e1(0x48e)](_0xe73f06,_0x516629);}async[a0_0x5c0bdf(0x58a)](_0x186393,_0x5a83cc,_0x309495){const _0x390ae8=a0_0x5c0bdf;return await this['waMonitor']['waInstances'][_0x186393[_0x390ae8(0x7d7)]][_0x390ae8(0x58a)](_0x5a83cc,_0x309495);}async['editFlowBlock'](_0x5da5aa,_0x53d71a){const _0x56a3ac=a0_0x5c0bdf;return await this[_0x56a3ac(0x734)][_0x56a3ac(0x602)][_0x5da5aa[_0x56a3ac(0x7d7)]][_0x56a3ac(0x232)](_0x53d71a);}async[a0_0x5c0bdf(0x33f)](_0x56f975,_0x28627d){const _0xa9ad7a=a0_0x5c0bdf;return await this['waMonitor'][_0xa9ad7a(0x602)][_0x56f975[_0xa9ad7a(0x7d7)]][_0xa9ad7a(0x33f)](_0x28627d);}async[a0_0x5c0bdf(0x779)](_0x22e25e,_0x186291){const _0x1246af=a0_0x5c0bdf;return await this[_0x1246af(0x734)][_0x1246af(0x602)][_0x22e25e[_0x1246af(0x7d7)]][_0x1246af(0x779)](_0x186291);}async['editFlowCondition'](_0x148006,_0x4ec599){const _0x3c9a33=a0_0x5c0bdf;return await this[_0x3c9a33(0x734)]['waInstances'][_0x148006['instanceName']][_0x3c9a33(0x699)](_0x4ec599);}async[a0_0x5c0bdf(0x344)](_0x42f75d,_0x45b1ed){const _0xb22bbf=a0_0x5c0bdf;return await this[_0xb22bbf(0x734)]['waInstances'][_0x42f75d['instanceName']][_0xb22bbf(0x344)](_0x45b1ed);}async[a0_0x5c0bdf(0x5fb)](_0x4c0424,_0x368d7a){const _0x580552=a0_0x5c0bdf;return await this[_0x580552(0x734)][_0x580552(0x602)][_0x4c0424[_0x580552(0x7d7)]][_0x580552(0x5fb)](_0x368d7a);}async[a0_0x5c0bdf(0x67c)](_0x1fd405,_0x3b0b38){const _0xf57af9=a0_0x5c0bdf;return await this[_0xf57af9(0x734)][_0xf57af9(0x602)][_0x1fd405[_0xf57af9(0x7d7)]]['deleteFlow'](_0x3b0b38);}async['allFlows'](_0x4faf01){const _0x575be8=a0_0x5c0bdf;return await this[_0x575be8(0x734)][_0x575be8(0x602)][_0x4faf01[_0x575be8(0x7d7)]][_0x575be8(0x4dc)]();}},Zt=class{constructor(_0x41fc27){const _0x14be15=a0_0x5c0bdf;this[_0x14be15(0x83d)]=_0x41fc27;}async[a0_0x5c0bdf(0x452)](_0x12fedb,_0x49b80d){const _0x54ddf8=a0_0x5c0bdf;return this[_0x54ddf8(0x83d)][_0x54ddf8(0x615)](_0x12fedb,_0x49b80d);}async[a0_0x5c0bdf(0x478)](_0xc43d70){const _0xa865c8=a0_0x5c0bdf;return this[_0xa865c8(0x83d)]['find'](_0xc43d70);}},es=class extends O{constructor(_0x54847e,_0x4b350f){const _0x235c06=a0_0x5c0bdf;super(_0x4b350f),this['webhookModel']=_0x54847e,this[_0x235c06(0x247)]=_0x4b350f;}async['create'](_0x31b89c,_0x4bbe5a){const _0xf1ad6e=a0_0x5c0bdf;try{return this[_0xf1ad6e(0x5fa)][_0xf1ad6e(0x2ed)]?{'insertCount':(await this['webhookModel'][_0xf1ad6e(0x3b1)]({'_id':_0x4bbe5a},{..._0x31b89c},{'upsert':!0x0}))[_0xf1ad6e(0x86e)]}:{'insertCount':0x1};}catch(_0x1bb8ac){return _0x1bb8ac;}}async[a0_0x5c0bdf(0x221)](_0x3fbb2c){const _0x34dc68=a0_0x5c0bdf;try{if(this['dbSettings'][_0x34dc68(0x2ed)]){await this[_0x34dc68(0x6f3)]['deleteOne']({'_id':_0x3fbb2c});return;}}catch(_0x3363d3){return{'error':_0x3363d3};}}async[a0_0x5c0bdf(0x50f)](_0x4ad608){const _0x38d59d=a0_0x5c0bdf;try{if(this[_0x38d59d(0x5fa)][_0x38d59d(0x2ed)])return await this[_0x38d59d(0x6f3)]['findOne']({'_id':_0x4ad608});}catch{return{};}}},ts=class extends O{constructor(_0x2b4af8,_0x3a01f2){const _0x13454a=a0_0x5c0bdf;super(_0x3a01f2),this[_0x13454a(0x27b)]=_0x2b4af8,this['configService']=_0x3a01f2,this[_0x13454a(0x893)]=_0x3a01f2[_0x13454a(0x1fe)](_0x13454a(0x206));}async[a0_0x5c0bdf(0x615)](_0x34f1ee,_0x1ff8df){const _0x345ecd=a0_0x5c0bdf;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this['authModel'][_0x345ecd(0x411)]({'_id':_0x1ff8df},{'$set':{..._0x34f1ee}},{'upsert':!0x0}))[_0x345ecd(0x86e)]};}catch(_0x207941){return{'error':_0x207941};}}async[a0_0x5c0bdf(0x702)](_0x589387,_0x9a6ead){const _0x2f8111=a0_0x5c0bdf;try{if(this[_0x2f8111(0x5fa)][_0x2f8111(0x2ed)])return{'insertCount':(await this[_0x2f8111(0x27b)][_0x2f8111(0x4e2)](_0x589387,{'$set':_0x9a6ead},{'upsert':!0x1}))[_0x2f8111(0x86e)]};throw new Error(_0x2f8111(0x8a9));}catch(_0x3b2051){return{'error':_0x3b2051};}}async[a0_0x5c0bdf(0x4f2)](_0x4faec2){const _0x54b0ea=a0_0x5c0bdf;try{if(this[_0x54b0ea(0x5fa)]['ENABLED'])return{'insertCount':(await this[_0x54b0ea(0x27b)][_0x54b0ea(0x4f2)](_0x4faec2))[_0x54b0ea(0x65c)]};throw new Error(_0x54b0ea(0x26e));}catch(_0x43ace5){return{'error':_0x43ace5};}}async['delete'](_0x647a6){const _0x29b227=a0_0x5c0bdf;try{if(this[_0x29b227(0x5fa)][_0x29b227(0x2ed)]){await this['authModel']['deleteOne']({'_id':_0x647a6});return;}}catch(_0x4eff24){return{'error':_0x4eff24};}}async['find'](_0x260879){const _0x2a10ef=a0_0x5c0bdf;try{if(this[_0x2a10ef(0x5fa)][_0x2a10ef(0x2ed)])return await this[_0x2a10ef(0x27b)][_0x2a10ef(0x81e)]({'_id':_0x260879});}catch{return{};}}async[a0_0x5c0bdf(0x8e7)](){const _0x369b12=a0_0x5c0bdf;try{if(this[_0x369b12(0x5fa)][_0x369b12(0x2ed)])return await this[_0x369b12(0x27b)][_0x369b12(0x50f)]();}catch{return[];}}async[a0_0x5c0bdf(0x4bb)](_0x31a7b9){const _0x385a03=a0_0x5c0bdf;try{if(this[_0x385a03(0x5fa)][_0x385a03(0x2ed)])return await this['authModel']['find'](_0x31a7b9);}catch{return[];}}},ss=class extends O{async[a0_0x5c0bdf(0x83b)](_0x51e63d){const _0x2cfa82=a0_0x5c0bdf;try{let _0x34780a=A(_0x51e63d['where']);return{'deletedCount':(await Me[_0x2cfa82(0x83b)](_0x34780a))[_0x2cfa82(0x65c)]};}catch(_0x2fe742){return{'error':_0x2fe742?.[_0x2cfa82(0x281)]()};}}async['updateOne'](_0xad46c6,_0x80806f){const _0x40be08=a0_0x5c0bdf;try{let _0xbf2a29=await Me[_0x40be08(0x715)](_0xad46c6);return _0xbf2a29?(Object['assign'](_0xbf2a29,_0x80806f),await _0xbf2a29[_0x40be08(0x3ce)]()):(console[_0x40be08(0x812)](_0x40be08(0x7d8),_0xad46c6),null);}catch(_0x31023b){return console['error']('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x31023b),null;}}async[a0_0x5c0bdf(0x312)](_0x55daeb){const _0x5f46f3=a0_0x5c0bdf;try{return await new Me(_0x55daeb)[_0x5f46f3(0x3ce)]();}catch(_0x2dc0a4){return console[_0x5f46f3(0x812)](_0x5f46f3(0x59d),_0x2dc0a4),null;}}async[a0_0x5c0bdf(0x8e7)](_0x25017d){const _0x5200d8=a0_0x5c0bdf;try{let _0x42747c=_0x25017d['where']??{};return await Me[_0x5200d8(0x50f)](_0x42747c)['limit'](_0x25017d[_0x5200d8(0x716)]??0x0)[_0x5200d8(0x7ce)]();}catch(_0x378332){return console[_0x5200d8(0x812)]('Erro\x20ao\x20buscar\x20fluxos:',_0x378332),[];}}async[a0_0x5c0bdf(0x81e)](_0x5c1d20){const _0xf9d609=a0_0x5c0bdf;try{let _0x2368cc=A(_0x5c1d20[_0xf9d609(0x8e1)]);return await Me[_0xf9d609(0x81e)](_0x2368cc)[_0xf9d609(0x7ce)]();}catch{return null;}}},as=class extends O{[a0_0x5c0bdf(0x64b)](_0xba4e5){return Sa(_0xba4e5);}async[a0_0x5c0bdf(0x805)](_0x1479f4){const _0x37be6a=a0_0x5c0bdf;if(_0x1479f4[_0x37be6a(0x235)]!==0x0)try{return{'insertCount':(await this[_0x37be6a(0x64b)](_0x1479f4[0x0][_0x37be6a(0x3f7)])['insertMany']([..._0x1479f4]))[_0x37be6a(0x235)]};}catch(_0x32732f){return _0x32732f;}}async[a0_0x5c0bdf(0x221)](_0x25b4de,_0xfb32e3){const _0x3b4a1f=a0_0x5c0bdf;try{let _0x1b1616=this['getConversationModelForOwner'](_0xfb32e3),_0x330c00=A(_0x25b4de[_0x3b4a1f(0x8e1)]);return{'deletedCount':(await _0x1b1616[_0x3b4a1f(0x4f2)](_0x330c00))['deletedCount']};}catch(_0x4bb638){return{'error':_0x4bb638?.[_0x3b4a1f(0x281)]()};}}async[a0_0x5c0bdf(0x83b)](_0x4b0ca1,_0xd9fc51){const _0x2fa717=a0_0x5c0bdf;try{let _0xa933b9=this[_0x2fa717(0x64b)](_0xd9fc51),_0x254184=A(_0x4b0ca1['where']);return{'deletedCount':(await _0xa933b9[_0x2fa717(0x83b)](_0x254184))['deletedCount']};}catch(_0x42a985){return{'error':_0x42a985?.[_0x2fa717(0x281)]()};}}async[a0_0x5c0bdf(0x1d0)](_0x22f74b,_0x580c1f){const _0x393052=a0_0x5c0bdf;try{if(_0x22f74b[_0x393052(0x235)]===0x0)return;let _0x1c2a7c=this[_0x393052(0x64b)](_0x580c1f),_0x10c94f=_0x22f74b[_0x393052(0x6df)](_0x59f2b2=>({'updateOne':{'filter':{'name':_0x59f2b2['name'],'owner':_0x580c1f},'update':{..._0x59f2b2}}})),{modifiedCount:_0x43027f}=await _0x1c2a7c[_0x393052(0x604)](_0x10c94f);return{'insertCount':_0x43027f};}catch{return;}}async[a0_0x5c0bdf(0x4e2)](_0x348f8b,_0x14a986,_0x331b8f){const _0x3f7e59=a0_0x5c0bdf;try{return{'modifiedCount':(await this[_0x3f7e59(0x64b)](_0x331b8f)[_0x3f7e59(0x4e2)](_0x348f8b,{'$set':_0x14a986})['exec']())[_0x3f7e59(0x86e)]};}catch(_0x29a5d5){return console['error'](_0x3f7e59(0x927),_0x29a5d5),{'error':_0x29a5d5};}}async['updateOne'](_0x445dc4,_0x22a44f,_0x28254a){const _0x32b3d1=a0_0x5c0bdf;try{return await this[_0x32b3d1(0x64b)](_0x28254a)[_0x32b3d1(0x301)]({'_id':_0x445dc4},{'$set':_0x22a44f},{'new':!0x0,'upsert':!0x0})[_0x32b3d1(0x7ce)]();}catch(_0x6ce32c){return console['error'](_0x6ce32c),null;}}async[a0_0x5c0bdf(0x50f)](_0x519b91,_0x5e3ebd){const _0x4dda69=a0_0x5c0bdf;try{return await this[_0x4dda69(0x64b)](_0x5e3ebd)[_0x4dda69(0x50f)](_0x519b91)['sort']({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x5c0bdf(0x81e)](_0x52ca38,_0xd7d8c0){const _0x194e61=a0_0x5c0bdf;try{return await this[_0x194e61(0x64b)](_0xd7d8c0)[_0x194e61(0x81e)]({..._0x52ca38[_0x194e61(0x8e1)]})['lean']();}catch{return null;}}async[a0_0x5c0bdf(0x3a4)](_0x14dec9){const _0x359a6d=a0_0x5c0bdf;try{return await this[_0x359a6d(0x64b)](_0x14dec9)['collection'][_0x359a6d(0x31d)](),{'success':!0x0};}catch(_0x290509){return console[_0x359a6d(0x812)](_0x290509),{'success':!0x1,'error':_0x290509};}}},is=class extends O{[a0_0x5c0bdf(0x2d5)](_0x582cd7){return Ma(_0x582cd7);}async[a0_0x5c0bdf(0x604)](_0x1e6621,_0x14eaf4){const _0x5e4798=a0_0x5c0bdf;try{return await this[_0x5e4798(0x2d5)](_0x14eaf4)[_0x5e4798(0x604)](_0x1e6621);}catch(_0x3078af){return console[_0x5e4798(0x812)](_0x5e4798(0x47f),_0x3078af),null;}}async['createAndSave'](_0x27e26f,_0x28ea3a){const _0x4fbe90=a0_0x5c0bdf;try{let _0x381820=this[_0x4fbe90(0x2d5)](_0x28ea3a);return await new _0x381820(_0x27e26f)['save']();}catch(_0x4aef46){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x4aef46),null;}}async[a0_0x5c0bdf(0x83b)](_0x73c661,_0x1e1ae5){const _0x46c36f=a0_0x5c0bdf;try{return await this['getScheduleMessageModelForOwner'](_0x1e1ae5)[_0x46c36f(0x5ce)](_0x73c661),{};}catch(_0x2cf6ff){return{'error':_0x2cf6ff?.[_0x46c36f(0x281)]()};}}async['updateOne'](_0x3871f7,_0x4b44ad,_0x162369,_0xf8674c={}){const _0x43844a=a0_0x5c0bdf;try{return await this[_0x43844a(0x2d5)](_0x162369)[_0x43844a(0x301)](_0x3871f7,_0x4b44ad,{..._0xf8674c,'new':!0x0})[_0x43844a(0x7ce)]();}catch(_0x58621d){return console['error'](_0x43844a(0x3d5),_0x58621d),null;}}async['updateOneById'](_0x5a23e8,_0x3b7e0c,_0x5546db){const _0x4457a9=a0_0x5c0bdf;try{return await this[_0x4457a9(0x2d5)](_0x5546db)[_0x4457a9(0x70f)](_0x5a23e8,_0x3b7e0c,{'new':!0x0})[_0x4457a9(0x7ce)]();}catch(_0x4cd040){return console[_0x4457a9(0x812)](_0x4457a9(0x3d5),_0x4cd040),null;}}async['find'](_0x46870d,_0x82802f){const _0x1eb777=a0_0x5c0bdf;try{return await this['getScheduleMessageModelForOwner'](_0x82802f)[_0x1eb777(0x50f)](_0x46870d[_0x1eb777(0x8e1)])[_0x1eb777(0x716)](_0x46870d?.[_0x1eb777(0x716)]??0x0)[_0x1eb777(0x474)]({'when':0x1})[_0x1eb777(0x7ce)]();}catch{return[];}}async[a0_0x5c0bdf(0x81e)](_0x157ed0,_0x194ecb){const _0x3eb54c=a0_0x5c0bdf;try{return await this[_0x3eb54c(0x2d5)](_0x194ecb)[_0x3eb54c(0x81e)](_0x157ed0[_0x3eb54c(0x8e1)])[_0x3eb54c(0x474)]({'when':0x1})[_0x3eb54c(0x7ce)]();}catch{return null;}}async[a0_0x5c0bdf(0x715)](_0x150d01,_0x17e111){const _0xc1f788=a0_0x5c0bdf;try{return await this[_0xc1f788(0x2d5)](_0x17e111)[_0xc1f788(0x715)](_0x150d01)[_0xc1f788(0x7ce)]();}catch{return null;}}async[a0_0x5c0bdf(0x4f2)](_0x4831f,_0x413a70){const _0x1dbb8d=a0_0x5c0bdf;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x413a70)['deleteMany'](_0x4831f))[_0x1dbb8d(0x65c)]};}catch(_0x42b354){return console['error']('Erro\x20ao\x20deletar\x20mensagens:',_0x42b354),{'error':_0x42b354};}}async[a0_0x5c0bdf(0x3a4)](_0x4d5a4a){const _0x20f807=a0_0x5c0bdf;try{return await this[_0x20f807(0x2d5)](_0x4d5a4a)[_0x20f807(0x22e)][_0x20f807(0x31d)](),{'success':!0x0};}catch(_0x5d3f96){return console[_0x20f807(0x812)](_0x5d3f96),{'success':!0x1,'error':_0x5d3f96};}}},os=class extends O{async[a0_0x5c0bdf(0x1d0)](_0x16f3ae,_0x250167){const _0x9e44a1=a0_0x5c0bdf;try{if(this['dbSettings'][_0x9e44a1(0x2ed)])return await Te['findOneAndUpdate']({'_id':_0x250167},{'$set':_0x16f3ae},{'new':!0x0});}catch(_0x17dfb6){throw console[_0x9e44a1(0x812)](_0x9e44a1(0x230),_0x17dfb6),_0x17dfb6;}}async[a0_0x5c0bdf(0x34f)](_0x3423fa){const _0x2b8ad5=a0_0x5c0bdf;try{let _0x5d18cb=await Te[_0x2b8ad5(0x715)](_0x3423fa);return _0x5d18cb?_0x5d18cb[_0x2b8ad5(0x598)]||(_0x5d18cb[_0x2b8ad5(0x598)]=[],await _0x5d18cb['save']()):(_0x5d18cb=new Te({'_id':_0x3423fa,'autoCompleteMessages':[]}),await _0x5d18cb['save']()),_0x5d18cb;}catch(_0x5a5bbf){return _0x5a5bbf['code']===0x2af8&&_0x5a5bbf['keyPattern']&&_0x5a5bbf[_0x2b8ad5(0x63a)]['autoCompleteMessages.command']?(console[_0x2b8ad5(0x812)](_0x2b8ad5(0x511)),await Te['collection'][_0x2b8ad5(0x256)](_0x2b8ad5(0x5ed)),null):(console[_0x2b8ad5(0x812)](_0x2b8ad5(0x61d),_0x5a5bbf),null);}}},Jo=new $('WA\x20MODULE'),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ee(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0x5c0bdf(0x542)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),_=new Xt(G),le=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0x5c0bdf(0x40b)](a0_0x5c0bdf(0x746));var $g=require(a0_0x5c0bdf(0x885)),Js=require('fs'),Di=I(require(a0_0x5c0bdf(0x611))),ki=I(require(a0_0x5c0bdf(0x7e5))),je=class u{static #e;static set[a0_0x5c0bdf(0x1a5)](_0x2b5c16){this.#e=_0x2b5c16;}static get['https'](){const _0x4502f6=a0_0x5c0bdf;let {FULLCHAIN:_0x5e5a5c,PRIVKEY:_0x4e2342}=S[_0x4502f6(0x1fe)]('SSL_CONF');return Di[_0x4502f6(0x33e)]({'cert':(0x0,Js[_0x4502f6(0x3db)])(_0x5e5a5c),'key':(0x0,Js[_0x4502f6(0x3db)])(_0x4e2342)},u.#e);}static get[a0_0x5c0bdf(0x7e5)](){const _0x14406b=a0_0x5c0bdf;return ki[_0x14406b(0x33e)](u.#e);}},Je=I(require('fs')),qi=I(require('ini')),qe=I(require(a0_0x5c0bdf(0x483))),ns=I(require(a0_0x5c0bdf(0x245))),rs=require('child_process');function ar(){const _0x39c31a=a0_0x5c0bdf;G[_0x39c31a(0x590)]();let _0x4b9174=ns['default'][_0x39c31a(0x938)](__dirname,_0x39c31a(0x274));Ji(_0x4b9174);}var Ji=_0x33fab8=>{const _0x2f214d=a0_0x5c0bdf;let _0x2dcc19=Je[_0x2f214d(0x32c)][_0x2f214d(0x909)](_0x33fab8),_0x254323=0xc*0x3c*0x3c*0x3e8,_0x47f43f=0x2*0x3c*0x3c*0x3e8,_0x3cd70c=new Date()['getTime']();_0x2dcc19['forEach'](_0x3d3a5a=>{const _0x33def6=_0x2f214d;let _0xb58af6=ns[_0x33def6(0x32c)][_0x33def6(0x938)](_0x33fab8,_0x3d3a5a),_0x1d2bf8=Je[_0x33def6(0x32c)][_0x33def6(0x538)](_0xb58af6)['birthtime'][_0x33def6(0x48c)]();_0x3cd70c-_0x1d2bf8>_0x254323&&(Je['default'][_0x33def6(0x630)](_0xb58af6),console['log'](_0x33def6(0x420)+_0x3d3a5a));}),setTimeout(()=>Ji(_0x33fab8),_0x47f43f);};function ir(){const _0x39ec81=a0_0x5c0bdf;let _0x121437=new $(_0x39ec81(0x1df)),_0x9c641=(0x0,we[_0x39ec81(0x32c)])();_0x9c641['use']((0x0,ji[_0x39ec81(0x32c)])({'origin'(_0xce0df5,_0x3baf50){const _0x5937ae=_0x39ec81;let {ORIGIN:_0x378da1}=S['get']('CORS');return _0xce0df5||(_0xce0df5='*'),_0x378da1[_0x5937ae(0x8bd)]('*')!==-0x1||_0x378da1[_0x5937ae(0x8bd)](_0xce0df5)!==-0x1?_0x3baf50(null,!0x0):_0x3baf50(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S['get'](_0x39ec81(0x939))[_0x39ec81(0x34d)]],'credentials':S[_0x39ec81(0x1fe)]('CORS')[_0x39ec81(0x6db)]}),(0x0,we[_0x39ec81(0x665)])({'extended':!0x0,'limit':_0x39ec81(0x936)}),(0x0,we['json'])({'limit':_0x39ec81(0x936)})),_0x9c641[_0x39ec81(0x2f5)]((_0x16bb9b,_0x568457,_0x7b5bb7)=>{const _0xeab267=_0x39ec81;_0x16bb9b['path'][_0xeab267(0x6bb)](_0xeab267(0x689))?_0x7b5bb7():(0x0,Ui[_0xeab267(0x32c)])()(_0x16bb9b,_0x568457,_0x7b5bb7);}),_0x9c641[_0x39ec81(0x7ef)](_0x39ec81(0x387),_0x39ec81(0x379)),_0x9c641['set'](_0x39ec81(0x613),(0x0,Vs['join'])(ne,_0x39ec81(0x613))),_0x9c641[_0x39ec81(0x2f5)](we[_0x39ec81(0x32c)][_0x39ec81(0x5fc)]((0x0,Vs[_0x39ec81(0x938)])(ne,_0x39ec81(0x42f)))),_0x9c641[_0x39ec81(0x2f5)]((_0x29c7c2,_0x5a091d,_0x1117f9)=>{const _0x168d70=_0x39ec81;let _0x1b581f=_0x5a091d[_0x168d70(0x507)];_0x5a091d[_0x168d70(0x507)]=function(_0x135a81){const _0x19db51=_0x168d70;if(_0x29c7c2[_0x19db51(0x54c)][_0x19db51(0x1f5)]===_0x19db51(0x3ee)||_0x29c7c2[_0x19db51(0x338)][_0x19db51(0x2ef)]===_0x19db51(0x3ee)){let _0xf52bc1=JSON[_0x19db51(0x4d9)](_0x135a81);_0x135a81=JSON['stringify'](_0x31a0dc(_0xf52bc1));}return _0x1b581f[_0x19db51(0x846)](_0x5a091d,[_0x135a81]);},_0x1117f9();}),_0x9c641['use']('/',ke),_0x9c641[_0x39ec81(0x2f5)]((_0x4d3d7c,_0x57f844,_0x434ac3,_0x4e5417)=>{const _0x2bfcf4=_0x39ec81;if(_0x4d3d7c)return _0x434ac3['status'](_0x4d3d7c[_0x2bfcf4(0x3ae)]||0x1f4)[_0x2bfcf4(0x365)](_0x4d3d7c);},(_0x5eab18,_0x48f97f,_0x6e778d)=>{const _0x5ed35e=_0x39ec81;let {method:_0x59b225,url:_0xf2256d}=_0x5eab18;_0x48f97f['status'](0x194)[_0x5ed35e(0x365)]({'status':0x194,'message':'Cannot\x20'+_0x59b225[_0x5ed35e(0x2f3)]()+'\x20'+_0xf2256d,'error':_0x5ed35e(0x6bc)}),_0x6e778d();});let _0x31a0dc=(_0x2d2bc8,_0x4f18cc=_0x39ec81(0x276))=>{const _0x5c476f=_0x39ec81;let _0x3bbd82=(_0x53e4f,_0x18b32=null,_0x106ed1=!0x1)=>{const _0x5ea698=a0_0x34cb;let _0x5b6a95={};return Object[_0x5ea698(0x2ec)](_0x53e4f)[_0x5ea698(0x91c)](_0x4b17ca=>{const _0x120433=_0x5ea698;let _0x4f6f30=_0x53e4f[_0x4b17ca],_0x4cb09d=''+_0x4f18cc+_0x4b17ca;_0x18b32&&!_0x106ed1&&(_0x4cb09d=_0x18b32+'.'+_0x4b17ca),!_0x4f6f30&&_0x4f6f30!==0x0&&_0x4f6f30!==!0x1||typeof _0x4f6f30>'u'?_0x5b6a95[_0x4cb09d]=null:typeof _0x4f6f30!=_0x120433(0x1ef)&&!Array[_0x120433(0x576)](_0x4f6f30)?_0x5b6a95[_0x4cb09d]=_0x4f6f30:typeof _0x4f6f30=='object'&&!Array[_0x120433(0x576)](_0x4f6f30)?_0x5b6a95=Object[_0x120433(0x2bb)](_0x5b6a95,_0x3bbd82(_0x4f6f30,_0x4cb09d)):Array[_0x120433(0x576)](_0x4f6f30)&&(typeof _0x4f6f30[0x0]==_0x120433(0x1ef)?(_0x5b6a95[_0x4cb09d]=[],_0x4f6f30[_0x120433(0x91c)](_0x3ed506=>{const _0x5e6587=_0x120433;_0x5b6a95[_0x4cb09d][_0x5e6587(0x2c1)](_0x3bbd82(_0x3ed506,_0x4cb09d,!0x0));})):_0x5b6a95[_0x4cb09d]=_0x4f6f30);}),_0x5b6a95;};return Array[_0x5c476f(0x576)](_0x2d2bc8)?_0x2d2bc8[_0x5c476f(0x6df)](_0x34f81a=>_0x3bbd82(_0x34f81a)):typeof _0x2d2bc8=='object'&&_0x2d2bc8!==null?_0x3bbd82(_0x2d2bc8):{};},_0x45f151=S[_0x39ec81(0x1fe)](_0x39ec81(0x1df));je[_0x39ec81(0x1a5)]=_0x9c641;let _0x11458d=je[_0x45f151['TYPE']],_0x2e21cf=_0x39ec81(0x5db);_0x11458d[_0x39ec81(0x850)](_0x45f151[_0x39ec81(0x352)],()=>{const _0x2aea5b=_0x39ec81;_0x121437[_0x2aea5b(0x84c)](_0x2e21cf),_0x121437[_0x2aea5b(0x84c)](_0x45f151['TYPE'][_0x2aea5b(0x2f3)]()+_0x2aea5b(0x525)+_0x45f151[_0x2aea5b(0x352)]);}),ar(),Zs();}var or='https://github.com/uazapi/uazapi.git',rr=ns[a0_0x5c0bdf(0x32c)][a0_0x5c0bdf(0x938)](__dirname,a0_0x5c0bdf(0x753)),Re=null;function nr(){return new Promise((_0x3589d8,_0x3c30a4)=>{const _0x603647=a0_0x34cb;Je['default'][_0x603647(0x71d)](rr,'utf-8',(_0x53ae99,_0x28f609)=>{const _0x523beb=_0x603647;if(_0x53ae99){Re=_0x53ae99,_0x3589d8();return;}qi['default']['parse'](_0x28f609)[_0x523beb(0x74c)]['url']===or?(Re=null,_0x3589d8()):(Re=new Error(_0x523beb(0x353)),_0x3589d8());});});}async function cr(){const _0x509380=a0_0x5c0bdf;try{await nr(),await Bi();}catch(_0x3a5468){console[_0x509380(0x812)](_0x509380(0x5ac)+_0x3a5468),process['exit'](0x1);}}cr();async function Vi(){const _0x313b66=a0_0x5c0bdf;let _0x29a2d6;try{_0x29a2d6=(await qe[_0x313b66(0x32c)]['get'](_0x313b66(0x777)))[_0x313b66(0x8db)]['ip'];}catch(_0x3927b7){console[_0x313b66(0x812)](_0x3927b7);try{_0x29a2d6=(await qe['default']['get'](_0x313b66(0x87f)))[_0x313b66(0x8db)]['ip'];}catch(_0x431bb9){console['error'](_0x431bb9);try{_0x29a2d6=(await qe['default']['get'](_0x313b66(0x2cd)))[_0x313b66(0x8db)][_0x313b66(0x211)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x26e809){return console[_0x313b66(0x812)](_0x26e809),!0x1;}}}return _0x29a2d6;}function a0_0x2a90(){const _0x9b2654=['):\x20Fluxo\x20\x27','customFields','\x20ao\x20chat\x20','Error\x20parsing\x20JSON:','instanceName','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','message','sharp','URI','/group','expression','GUARD','contact','$set','extractPhoneNumber','group','documentMessage','):\x20atualização\x20chat:\x20','http','):\x20conversation.waitingMenu_name','Cache-Control','getProfileName','subject','HH:mm:ss','Telefone:\x20','groupMemberAddMode','urlOrBase64','Erro\x20ao\x20tentar\x20updateCustomFields','set','model','deleteDoneMessages','lastCondition','CONTACTS_SET','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','):\x20customFieldVariables','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','setHeader','):\x20não\x20encontrou','processUazapi','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','sendMessage','instance','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Missing\x20global\x20api\x20key','.ogv','initAuthCreds','padStart','value','reconnectTimestamps','#56ccb4','insert','Detalhes\x20do\x20erro:','ERROR','/webhook','sendLocation','Rótulo\x20deletado:\x27,\x20','replaceVariablesLogs','):\x20lastBlockId:\x20','configureIPv6','storePath','exports','\x20quoted:\x20','status@broadcast','error','unlocked','getBusinessProfile','/wa-chats','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','mediaKey','$pull','groupHandler','findChats','Tentando\x20reconectar...','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','\x20chats\x20de\x20','findOne','updateMediaMessage','allContacts','sharePass','ip6eui','):\x20enviado\x20para\x20[','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','generateWAMessageFromContent','connectToWhatsappController','Erro\x20ao\x20buscar\x20a\x20conversa','Rótulo\x20inválido\x20ou\x20sem\x20ID.','lastRealGroupsFetch','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','menu_options','ephemeralExpiration','height','\x1b[43m','licenca','groups','Selecione','upperCase','docker','connectionStatus','newValue','):Business\x20profile\x20fetched','):\x20Entrou\x20na\x20função\x20goToFlow','synchronizeAndMapFlows','this.reconnectAttempts:\x20','deleteOne','):\x20Query\x20params:\x20','webhookService','/wa-groups','whatsappNumbers','locked','cachedContact','enumerable','archived','dark','groupRequestParticipantsUpdate','apply','desc','flowConversation','@ffmpeg-installer/ffmpeg','):\x20Buscando\x20flow,\x20id:\x20','All_Instances_Config','log','removeUnusedChatFields','unreadcount','processReadyMessages','listen','restartInstance','addMessagesToGroup','cors','videoMessage','selectedButtonId','exists','cacheContact','.\x20Aguardando\x20','profilePicture','updateBlock','File\x20written\x20to\x20path:\x20','\x27\x20removido\x20do\x20AutomateSystem.','execSync','stickerMessage','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','promisify','media','request\x20received\x20in\x20starFlow','request\x20received\x20in\x20deleteAllMessages','leadInfo.desativadoFluxoAte','delayChatLabel_RETRY_DELAY_MS','Configuração\x20SSL\x20recuperada:','?timestamp=','):\x20Editando\x20replyOption...','\x1b[1m','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','utf-8','USER','stringify','modifiedCount','redirect','joinApprovalMode','messageType','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','profile','URL\x20completa:','cacheContactModel','Falhou\x20ao\x20encontrar\x20chat\x20','8xgabuH','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','displayName','empty','editflowcondition','interactiveMessage','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','https://api.ipify.org?format=json','local_map','last','CHATS_DELETE','):\x20Criando\x20fluxo...','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','express-async-errors','application/json','detectIPv6PrefixAndInterface','request\x20received\x20in\x20editFlowvariable','labelId','footer','isBase64','toggleEphemeral','SSL_CONF_FULLCHAIN','Group\x20not\x20found','router','}}\x20->\x20valor\x20não\x20encontrado','conversationTimestamp','\x20:\x20','auth','admin_add','scheduleFlow','list2','groupdata','BRL','initializeQueue','/64\x20dev\x20','processclearVariables','pm2\x20flush','no-cache','substring','):\x20Não\x20achou\x20nenhum\x20flow','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','\x27...','processvaredits','cleaningUp','logout',',\x20Segundo\x20Valor:\x20','Error\x20fetching\x20IPv6\x20addresses:\x20','messaging-history.set','reactionMessage','Database\x20is\x20not\x20enabled','.TEL;waid=','groupJid','mentions','instancias:\x20','MESSAGES_UPDATE','verbose','groupFetchAllParticipating','Cache\x20instance\x20update\x20result:\x20',',\x20resultado:\x20','Atualização:\x20','Erro\x20ao\x20atualizar\x20o\x20flow.','_fromMe','end','updatePresence','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','envProcess','Erro\x20ao\x20iniciar\x20fluxo:\x20','PROXY','verifyWhatsAppNumber','indexOf','_month','LOG','Limpando\x20logs\x20do\x20PM2...','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','):\x20ev.flush\x20realizado','editMessagesInGroup','defineAuthState','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','messages.update','editChat','https://ifconfig.me/ip','document','):\x20Criando\x20fluxo\x20compartilhado...','creds.json','processScheduleFlow','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','getVariablesChat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','ex:\x20\x22groupJid=120362@g.us\x22','flowIgnoreGroups','CORS_ORIGIN','This\x20name\x20','viewOnceMessageV2','video-cover.png','setUpdate','output','\x20foi\x20interrompido\x20pelo\x20usuário.','data','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','DATABASE_ENABLED','fetchLabels','replace','\x20\x1b[0m','where','pollCreationMessageKey','):\x20tem\x20blocks','participants','\x1b[33m\x1b[1m','stopMinutesMaxActives','findAll','uazapiSendMenu','getUniqueFlowName','repository','Falha\x20ao\x20processar\x20fetchBusinessProfile','Partes\x20do\x20caminho\x20FULLCHAIN:','deleteMessage','waitingMenu_replyOptions','stateConnection','loggedOut','.\x20Pulando.','stopped','Parando\x20aplicação,\x20atualização\x20recebida','announce','Erro\x20ao\x20alterar\x20privacidade','Erro\x20ao\x20editar\x20o\x20bloco:\x20','API\x20Key\x20from\x20Request:','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','https://v6.ident.me','TYPE','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','apiResponse','request\x20received\x20in\x20deleteDoneMessages','groupGetInviteInfo','Erro\x20ao\x20importar\x20chats','reorderReplyOptions','connecting','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Message','findAndReplaceRegex','success','Valor\x20da\x20URL\x20recuperada:','):\x20Deletando\x20conversa...','readdirSync','protocolMessage','fakeReceived','messageStubParameters','):\x20Conversa\x20atualizada\x20em\x20memória','startFlow','maxActives','):\x20\x27Enviando\x20mídia\x20para\x20\x27','qrcode-terminal','Instance\x20Name:','Subdomínio\x20extraído\x20da\x20URL:','Not\x20is\x20business\x20profile','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','base64','@broadcast','Erro\x20ao\x20buscar\x20conversas','available','remove.instance','Rodapé\x20de\x20Teste','forEach','createIPv6','\x20minutos\x20verificará\x20novas\x20mensagens','remoteJids','pt-BR','DATABASE_CONNECTION_PASSWORD','updateMissingTags','):Type\x20defined\x20as\x20audio','noConnection','emit','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','createConnection','start','automateSystem','getReadyToSendMessages','add','connectedName','/instance/connectionState','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Falha\x20ao\x20processar\x20a\x20solicitação','request\x20received\x20in\x20deleteConversation','role','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','every','group-participants.update','50mb','action','join','CORS','folder','load','_remoteJid','deviceSentMessage','status.instance','cacheInstanceRepository','verify','\x1b[32m%s\x1b[0m','connectionUpdate',',\x20saindo.','):\x20debug\x20alterando\x20this.AutomateSystem','dbConnection','authState','):\x20Bloco\x20original\x20para\x20cópia:\x20','flowName','Network\x20interfaces\x20detected:\x20','cleanStore','eventemitter2','GROUPS_UPSERT','menuType','\x22\x20-\x20REMOVED','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','audio/ogg;\x20codecs=opus','/clients-info','contacts','dbClient','app','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20inseridas\x20no\x20banco\x20de\x20dados...','generateRandomIPv6','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','\x20segundos\x20antes\x20de\x20reconectar...','/instance/create','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','hGetAll','\x1b[41m','evaluateConditionTest','Flow\x20\x27','setRestartTimeout','$addToSet','phoneNumber','lastSend','lastUpdate','description','messageLogs','textMessage','\x20segundos','getContentType','findRealGroups','connectToWhatsapp','saveTextReply','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','AddChatLabel','variables','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','sendMessageWithRetry','creds','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','IPv6\x20addresses\x20detected:\x20','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','Erro\x20ao\x20atualizar\x20conversa:\x20','!cmd_',',\x20valor\x20passado:\x20\x22','updateGroupPicture','editflowreply','IP\x20confirmed:\x20','):\x20Conversa\x20está\x20expirada','iniciando\x20fluxo\x20router','chatLog','update','idSchedule','getFlow','updateLastSeenPrivacy','uazapiSendMedia','Erro\x20inesperado\x20em\x20processvaredits:\x20','COLOR','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Invalid\x20format','pow','SERVER_ACK','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','email','sendCommand','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','SERVER','.ogg','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','Erro\x20ao\x20buscar\x20o\x20fluxo','groupSettingUpdate','picture','content','undefined','isJidUser','boolean','_Chats','):\x20newSecondValue\x20após\x20replaceVariables:','groupJoinApprovalMode','REDIS_PREFIX_KEY','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','object','inviteCode','js-yaml','#6f7bcf','isConnected','getMinutes','convert','nomecompleto','function','beforeExit','deleteflow','EXPIRIN_IN','processawaitSeconds','SECRET','groups.update','get','pollCreationMessageV3','waitingMenu_text','getPrototypeOf','createGroup','convertedOptions','AppStateSyncKeyData','processedMessagesCache','AUTHENTICATION','Botão\x202','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','ephemeralDuration','#92ceac','_pushName','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','uazapiSendAudio','@newsletter','createJid','Connection\x20Closed','match','CONECTADO\x20À\x20UAZAPI','Error\x20adding\x20IPv6\x20address:\x20','leadInfo.atendimentoAberto','StatusJidList\x20is\x20required','desativadoFluxoAte','deleted','Erro\x20ao\x20atualizar\x20agendamento\x20','delayChatLabel','result','flowStopMinutes','getStatus','URL\x20não\x20disponível','Botão\x201','flowPrefixCommand','):\x20conversation.status:\x20','delete','creation','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','\x20depois\x20','.fileUrl','scheduleNextCheck','audioMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','formatStatusMessage','Fluxo\x20não\x20encontrado\x20na\x20memória.',',\x20Comparador:\x20','flattenObject','getDevice','collection','connectionState','Erro\x20ao\x20atualizar\x20AutomateSystem:','sem\x20texto\x20na\x20mensagem','editFlowBlock','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','blocks','length','Erro\x20ao\x20deletar\x20a\x20conversa','contactMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','isURL','qrCode','chats.upsert','\x1b[37m%s\x1b[0m','DaysToDelete','formatVCard','Fluxo\x20id\x20\x27','):\x20Comando\x20desconhecido:\x20','logger','then','_error','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','path','telefone','configService','LICENSE_INVALID','@s.whatsapp.net','Falta\x20informação\x20para\x20a\x20chamada\x20API','randomBytes','jwt','webhook','vir','1200HvtguT','audio','inviteCodeDetails','/events/:instance','false','messageLogsModel','throwAndLogError','dropIndex','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Validate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','\x20minutos.\x20Será\x20às\x20','etiquetas','getTicketSystem','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','groupToggleEphemeral','updateConversation','groupSetting','\x20do\x20chat\x20','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','realVariables','leadInfo','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','parseInt','Chat\x20com\x20ID\x20','option','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','Erro\x20ao\x20criar\x20fluxo','presenceSubscribe','lastBlockId','146628nZBjgK','[AUTH]\x20Database\x20is\x20not\x20enabled','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','count','pollCreationMessage','_day','jid','downloads','delayMessage','_p_','random','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','0123456789ABCDEF','dbInstance','authModel','.jwt','):\x20Fluxos\x20não\x20estão\x20ativados','@redis/client','groupdata.participants','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','toString','spawn','chats.delete','_Messages','Instance\x20ID:','#9ab6c1','#00a1f2','removeChatLabel','):\x20Alterando\x20fluxo...','uncaughtException','request\x20received\x20in\x20getAutomateSystem','.mp3','proxy:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','91RbEaeW','Opção\x20Falsa\x20','requestFile','timeInMinutes','Subdomínio\x20final:','normalizeMessage','CORS_CREDENTIALS','sendMedia','):Processing\x20audio','https://api64.ipify.org?format=json','closeExistingConversations','fetchInstances','editScheduleMessage','Variáveis\x20não\x20encontradas:','label','sendMessageWithTyping','buttonText','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...','Início','imagechat','Esse\x20fluxo\x20não\x20permite\x20importação.','saveConversationToDatabase','markMessageAsRead','MAX_SAFE_INTEGER','cleanupExcessiveIPs','split','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','/media/','flowConfig','open','groupBetterSetting','prepareWAMessageMedia','1136904eEdfet','nativeFlowMessage','joinGroupValidate','connection.update','sendAudio','createConversationforStartFlow','LOG_COLOR','longitude','sendStatus','response','\x1b[40m','assign','@g.us','sendMessageAck','Error\x20updating\x20cache\x20contact:','imgUrl','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','push','sendPoll','resetReconnectionVariables','dropCollection','webp','goToFlow','_id','21659xAVjEI','request\x20received\x20in\x20updateCustomFields','Error\x20in\x20chatModify\x20for\x20number\x20','bearer','image','http://checkip.dyndns.org','loadEnv','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','menuMessage','):\x20Rótulo\x20atualizado:\x20','not_announcement','console','importChats','getScheduleMessageModelForOwner','reaction','cachedData-whatsapp','Error\x20finding\x20many\x20contacts:','groups_ignore','\x20Tentativa\x20de\x20reconexão\x20','all','slice','none','send.message','abs','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','\x1b[47m','Número:\x20','#fe9dfe','conversation','announcement','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','findManyByIds','fileUrl','Subdomínio\x20não\x20encontrado','\x20removido\x20do\x20chat\x20','choices','keys','ENABLED','editflowblock','uazapi','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','isInteger','SendScheduleMessage','toUpperCase','groupRequestParticipantsList','use','Novo\x20IP\x20criado:\x20','replaceVariablesInReplyOptions','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','/automate','ignoreGroups','Grupo\x20não\x20encontrado','.url','test','/wa-all-message','Esse\x20fluxo\x20expirou','copy','findOneAndUpdate','video','createButtonsFromValues','\x1b[36m%s\x1b[0m','):\x20Entrou\x20na\x20função\x20processawaitSeconds','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','write','instanceCount','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','triedToSend','canSendMessage','https://ipv6.jsonip.com','charAt','finish','findAndUpdateCacheContact','quick_reply','DELETED','createAndSave','stderr','ConversationModel','all_member_add','updateParticipant','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','chatHandle','formatBRNumber','convertToWebP','https://api.openai.com/v1/images/generations','mongodb://','drop','getAllData','lastMessage','\x22,\x20valor\x20a\x20substituir:\x20\x22','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','Removidas\x20as\x20variáveis:\x20','-instances','findParticipants','getMessage','#dfaef0','item','Connection\x20closed\x20for\x20instance:\x20','pollErrorMessage','addChatLabel','menuExpiredMessage','default','QRCODE_UPDATED','fetchStatus','promote','arraybuffer','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','replaceVariablesInObject','match_last_seen','labels.association','\x1b[36m','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Error\x20fetching\x20IPv6\x20count:\x20','headers','Types','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','sendWhatsAppAudio','author','variablesToObject','createServer','editFlowReply','LabelModel','Fluxo\x20agendado\x20pelo\x20fluxo\x20','messages','#d3a91f','editFlowVaredit','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','Reusing\x20existing\x20IPv6:\x20','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','\x0aFN:','messageHandle','Instance\x20Key\x20from\x20DB:','checkAndRestartProcess','METHODS',',\x20Resultado:\x20','findOrCreate','fileName','repeat','PORT','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','):\x20\x27Enviando\x20audio\x20para\x20\x27','pollUpdateMessage','IPv6\x20address\x20configured:\x20','newStoppedUntil','findIndex','removeInstance','messageTimestamp','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','crypto','name','reorderMessages','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','evaluateCondition','startCommandWord','):\x20transformedCustomFieldVariables','INFO','util','json','PENDING','API\x20Key\x20inválida.','updateMissingCustomFields','Conversa\x20deletada\x20com\x20sucesso.','menuIgnoreNonVotes','276039rCgNmU','leadInfo.','LEVEL','SERVER_URL','closed','transformScheduledMessagesByType','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','MESSAGES_UPSERT','mimetype','hGet','ipv6Prefix','.txt','\x20mensagens\x20de\x20','):\x20Criou\x20conversa\x20no\x20startFlow','hbs','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Erro\x20ao\x20deletar\x20chat:','next_groupId','Instance\x20\x22','findGroupInfo','DATABASE','inviteUrl','archiveChat','-whatsapp-api','dbServer','moreLogs','numbers','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','view\x20engine','Bad\x20Request','color','messages.upsert','poll','recebido\x20de','mongoose','last_update','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','_FlowHistorico','):\x20Error\x20processing\x20the\x20block:\x20','sign','REDIS_URI','toDataURL','events','):\x20Label\x20','updateOneById','.X-ABLabel:Celular\x0a','Bloco\x20com\x20ID\x20','onWhatsApp','format','unreadCount','--------------------------------------','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','_lastVote','STORE_CONTACTS','sendReaction','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','encoding','deleteAll','processblock','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Instância:\x20','Instância\x20não\x20encontrada.','\x20and\x20data:','oldValue','floor','text','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','status','privacySettings','The\x20global\x20api\x20key\x20must\x20be\x20set','replaceOne','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','/chat','awaitingApproval','hasOwnProperty','interval\x20não\x20é\x20um\x20número','varedits','deleteBlock','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','dataValidate','Partes\x20do\x20domínio:','groupadd','lastSendMessage','contactHandle','#b4ebff','prototype','getLabelModelForOwner','optionDescription','wuid','client','fone','request\x20received\x20in\x20createFlow','qrcode.updated','getMessageModelForOwner','documentWithCaptionMessage','messages.set','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','readMessageBot','writeData','save','):\x20Conversa\x20inserida\x20com\x20sucesso.','changeVariables','scheduleSendMedia','when','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','app-state-sync-key','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','\x20não\x20encontrado','):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20','startID','buttons','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','readFileSync','webhookMap','copyBlock','):\x20Flow\x20desativado','pictureUrl','):including\x20timestamp\x20in\x20url:\x20','scheduleMessage','Flow\x20iniciado','verifiedName','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','getConversation','agents','2687HKuqVW','variable','ListType','\x20is\x20already\x20in\x20use.','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','close','greater','true','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','):\x20whoCanEdit\x20after\x20validation:\x20','waitingForReplyMenu','detail','flows','countIPv6Addresses','readMessages','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','owner','):Notifying\x20clients\x20for\x20chat:\x20','stopMinutes','delaySecMin','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','eventEmitter','tags','156440SrtXSC','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','has','oldToken','errors','application/octet-stream','PASSWORD','):\x20Grupo\x20','MESSAGES_SET','Erro\x20ao\x20atualizar\x20cacheInstance:','restart','^\x5cd+','child_process','info','URL','Database\x20connection\x20closed.','eventHandler','instance.','createHash','updateOne','createConversationforgoToFlow','instanceInfo','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar',',\x20valor\x20a\x20encontrar:\x20\x22','isMessageProcessed','deleteChat','Data\x20inválida\x20fornecida','buttonsResponseMessage','authentication','long','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','TEL','addBlock','leaveGroup','Deleted\x20','capitalizedWords','cwd','userDevicesCache','badSession','):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...','Parando\x20aplicação...','request\x20received\x20in\x20deleteFlow','request\x20received\x20in\x20updateFlowConfig','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','isJWT','\x20com\x20sucesso.','Network\x20Interface\x20detected:\x20','?authSource=admin&readPreference=primary&directConnection=true','public','fetchPrivacySettings','fetchContacts','subjectOwner','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','node-mime-types','now','sendButtons','ListMessage','}}\x20->\x20\x22','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','descId','listIPv6Addresses','updateProfileName','isLong','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','mediatype','3EB0','):\x20Limpando\x20AutomateSystem','number','timeout','clear','Error\x20writing\x20file:\x20','getDelay','fromObject','list3','saveChatVariables','ContactsAndGroups','url','integer','shareOwners','/instance/delete','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','MessageModel','createWebhook','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','minutesToClose','isCommunityAnnounce','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','lowerCase','ERROR:\x20','address','CONNECTION_UPDATE','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','insertCount','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','toBrazilianNumberFormat','upsertChats','/instance','blockLogs','addReplyOption','sending','fetchChats','queue','groups.upsert','hex','):Audio\x20processed','isCommunity','fetchBusinessProfile','pendingMessages','errorLog','getScheduleMessage','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20Entrou\x20na\x20função\x20stop','):\x20Entrou\x20na\x20função\x20scheduleFlow','notEqual','lastInteraction','sort','waitingMenu_ExpiredMessage','warn','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','findWebhook','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','message_normalized','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','editConversation','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Erro\x20ao\x20executar\x20bulkWrite:','secondValue','/wa-message','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','axios','catch','revokeInviteCode',',\x20Novo\x20tamanho:\x20','trimmed','insertMany','DATABASE_CONNECTION_URI','linkPreview','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','getTime','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','createFlow','conditions','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','sendDataWebhook','The\x20\x22','key','listType','scheduled','created','relayMessage','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','stopWhenYouSendMsg','/media','):\x20Mensagem\x20já\x20enviada\x20para\x20','createflow','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','Fluxo\x20\x27','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Erro\x20ao\x20adicionar\x20label\x20','pushName','EMAIL:','isValidIPv6Config',',\x20fará\x20nova\x20verificação\x20em\x20','):\x20','bodyStringErrorParse','existsSync','unavailable','findAndReplace','expiration','myAppStateKeyId','uazapiSendContact','):\x20Bloco\x20com\x20ID\x20','deleteImportedChat','\x0a{\x20instance:\x20','Error\x20in\x20prepareMediaMessage:','Last\x20message\x20not\x20found','min','composing','):\x20mediaMessageInfoId\x20:\x20','GROUPS_UPDATE','DELIVERY_ACK','useMultiFileAuthState','KEY','Erro\x20ao\x20copiar\x20o\x20documento','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','findMany','messagesLogs','notas','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','/create','94ImvFiA','fetchProfile','\x1b[44m','shift','Content-Type','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','[all]','request\x20received\x20in\x20scheduleMessage','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','normalizeMessageContent','silent','text/event-stream','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','_activatedCount','\x1b[31m','upsertedCount','Falha\x20ao\x20recriar\x20IPv6.','processConditions','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','ephemeralMessage','VERBOSE','CHATS_UPSERT','some','1461971jnfmQa','.jpg','parse','DARK','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','allFlows','api','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','importChatsBatch','deleteMessageForEveryone','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','updateMany','basename','state','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','updateChatGroupData','PRESENCE_UPDATE','RemoveChatLabel','presence','from','variablesNotFound','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','${Message\x20absent\x20from\x20node}','includes','quotedMessage','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','deleteMany','findGroupsEspecial','beautifyWithPlaceholders','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','SERVER_PORT','editedMessage','SSL_CONF_PRIVKEY','findGroupInfos','\x20-y','delayChatLabel_MAX_RETRIES','context','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','#f64847','*Pergunta*:\x20\x0a','/wa-qrcode','deleteReplyOption','ON\x20-\x20dbName:\x20','onTime','decryptPollVote','jsonwebtoken','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','send','sendMenu','/config','BufferJSON','):\x20alterando\x20this.AutomateSystem','AutomateSystem\x20não\x20foi\x20inicializado','_second','STATUS_INSTANCE','find','contextInfo','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','Instance\x20deleted','chatModify','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','\x1b[32m','CONTACTS_UPDATE','validate','getValidWhatsAppNumbers','shareFlow','Router','isJidBroadcast','updateGParticipant','isBusinessInstance','recording','ip\x20-br\x20link\x20show','PRIVKEY','):Image\x20path:\x20','locationMessage','processPollUpdateMessage','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x20-\x20ON:\x20',',\x20pairCode:\x20','caption','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','demote','flowStopConversation','generateHash','proto','):\x20Flow\x20\x27','CacheContacts\x20database\x20connection\x20closed.','Retornando\x20grupos\x20SEM\x20cache','):\x20Iniciando\x20bot...','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','reorderBlocks','CHATS_SET','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Generated\x20IPv6:\x20','Número\x20não\x20possui\x20WhatsApp.','CONNECTION','statSync','prepareMediaMessage','joinGroup','Deletion\x20failed','jpegThumbnail','Mac\x20OS','):\x20Buscando\x20todos\x20os\x20fluxos...','addToProcessedMessages','updateMessage','archive','getClient','createButtonSectionsFromValues','getMIMEType','#83e421','senderKeyDistributionMessage','store','):\x20newFirstValue\x20após\x20replaceVariables:','/wa-presence','leadInfo.customFields','):\x20[messages.upsert]\x20group\x20ignored','query','authorization','):\x20Editando\x20variável\x20do\x20fluxo...','options','PRODUCT_LIST','randomMac','whoCanEdit','order','#fed428','participant','):\x20delete\x20=\x20true','buttonParamsJson','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','cache','pop','PREFIX_KEY','trim','stdout','processApiRequest','processConditionsTest','https://','timeoutPromise','nome','condition','\x20adicionado\x20ao\x20chat\x20','ScheduleMessageModel','groupMetadata','localWebhook','getUpdate','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Query\x20params:','varedit','Stack\x20trace:','DOCKER_ENV','templateButtonReplyMessage','):\x20Current\x20Time:\x20','):Image\x20created','getLastMessage','error\x20get\x20vote','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Going\x20to\x20','env','isArray','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','contactsArrayMessage','pollMessage','cpf','findGroup','AutomateFunctions','):Sending\x20audio\x20whatsapp','remoteJid','equal','stopIfLastReturnedError','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):Image\x20is\x20url','and','memberAddMode','extractMessageContent','AutomateSystem','g.us','title','editFlow','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','.doc','selectableCount','\x20instance\x20does\x20not\x20exist','exec','loadInstance','STORE_CHATS','reviver','convertaudio','SSL_CONF','contacts.upsert','reconnectAttempts','delay','autoCompleteMessages','creds.update','findFlow','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','removeData','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','#ffae04','\x1b[1m\x1b[37m','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','):\x20teve\x20mudanças\x20chat.archived:\x20','.pptx','Conexão\x20estabelecida','processingGroup','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','chatId','/exit','type','):\x20Procurando\x20conversa','DATABASE_CONNECTION_DB_PREFIX_NAME','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','convertToString',',\x20Expiration\x20Time:\x20','flush','rm\x20-rf\x20','originalUrl','PLAYED','mediaSticker','apiName',',\x20Minutes\x20to\x20Close:\x20','convertaudioMP3','routerPath','font','config','):\x20whoCanUse\x20before\x20validation:\x20','Primeiro\x20Valor:\x20','endSession','RECONNECT_TIME_FRAME','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','^\x5cd+([-]\x5cd+)*@g.us$','WARN',',\x20lastCondition:\x20','enabled','backgroundColor','):\x20updateResult:','currency','uuid','envYaml','array',',\x20qrcodeCount:\x20','clearVariables','approve','sectionsToString','findByIdAndDelete','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Authentication\x20error','getContactModelForOwner','groupRevokeInvite','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','STORE_CLEANING_TERMINAL','\x5cd+','sendMessageWithTypingButtons','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','redis://127.0.0.1:6379','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Erro\x20ao\x20inserir\x20chats:','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):Error\x20in\x20converting\x20audio','updatePrivacySettings','4wkxLGK','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','splice','fullName','#000000','\x1b[0m','profilePictureUrl','temp-','\x1b[30m','createNewConversation','SINGLE_SELECT','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','off','ChatModel','autoCompleteMessages.command_1','cta_url','writeFileSync','editOperator','groupId','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','redis','command','goNextblock','Contacts\x20not\x20found','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','uazapiSendText','Error\x20in\x20buttonsMessage\x20function:','dbSettings','editFlowVariable','static','chats','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Filtered\x20network\x20interfaces:\x20','selectedDisplayText','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','waInstances','6xoxVoB','bulkWrite','makeCacheableSignalKeyStore','muteEndTime','deleteConversation','):\x20\x27Deletando\x20fluxo,\x20id:\x20','updateAgent','values','GROUP_PARTICIPANTS_UPDATE','.ppt','WebhookGlobal','_year','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens','latitude','https','REDIS_ENABLED','views','\x20inseridos\x20no\x20banco\x20de\x20dados...','create','):Fetching\x20business\x20profile','CHATS_UPDATE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','updateOnlinePrivacy','profileName','Last\x20message\x20not\x20found\x20for\x20number:\x20','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20Editando\x20edição\x20do\x20fluxo...','FlowController','Logger','):\x20Editando\x20grupo\x20do\x20fluxo...','):Image\x20converted\x20to\x20WebP','#ffffff','ObjectId','.png','vote','rows','\x5c$&','removed','remove','_Labels','\x1b[42m','race','endsWith','_sender','unlinkSync','isAdmin','stanzaId','.extension','editflowvariable','sections','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','jsonschema','whatsappNumber','request\x20body:\x20','keyPattern','readData','readMessage','Connection','StartBot','unhandledRejection','website','connectedClient','block','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','startCommand','updateGroupParticipantsWebhook','CONTACTS_UPSERT','sha256','groupDesc','groupLeave','mediaMessage','getConversationModelForOwner','getSeconds','Erro\x20ao\x20tentar\x20autoCompleteMessages','bodyString','groupName','fromMe','organization','sendList','STORE_MESSAGE',',\x20received\x20','audioWhatsapp','singleSelectReply','Close\x20connection','done','scheduleSendAudio','out','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','deletedCount','global','segundos','\x20minutos','DATABASE_CONNECTION_HOST',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Error\x20removing\x20IPv6\x20address:\x20','DD/MM\x20HH:mm:ss','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','urlencoded','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','statusJidList','):\x20Adicionando\x20\x27','.type','descOwner','):Archiving\x20chat','isRunning','Configured\x20new\x20IPv6:\x20','.\x20Tentando\x20novamente\x20em\x20','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','getBase64FromMediaMessage','groupParticipantsUpdate','redisEnv','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','yes','Erro\x20ao\x20buscar\x20Schedule\x20Messages','utf8','\x20segundos...','):\x20Criando\x20nova\x20conversa[createNewConversation]','Erro\x20ao\x20encerrar\x20a\x20API','deleteFlow','Adicionando\x20novo\x20participante:\x20','admin','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Comando\x20desconhecido','editflowgroup','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','release','):Image\x20is\x20base64','interactiveResponseMessage','Sistema\x20atualizado\x20com\x20sucesso!','\x1b[30m%s\x1b[0m','.wav','/events','process','Error\x20while\x20deleting\x20message\x20for\x20everyone','sendText','$dbName','listMessage','DEBUG','replaceVariablesChat','Content\x20is\x20required','apikey','#01d0e2','toArray','bateu\x20events','OrAnd','):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.','findGroups','editFlowCondition','API_KEY','Total\x20IPv6\x20addresses\x20detected:\x20','firstValue','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.',']\x20(','findLabels','apirequest','footerText','startFlowWebhook','):\x20whoCanEdit\x20before\x20validation:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','chats.update','):\x20sender\x20=\x20number:\x20','buffer','uazapiDeleteMessage','processgoToFlow','getAutomateSystem','testingWith','stopConversation','Db\x20Connection','):Temp\x20image\x20deleted','https://uazapi-plugin.bubbleapps.io/?url=','extractRegex','Instance\x20logged\x20out','buttonMessage','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','notEmpty','flow','#64c4ff','Falha\x20após\x205\x20tentativas:\x20','updateAutoCompleteMessages','authService','header','startsWith','Not\x20Found','request\x20received\x20in\x20editFlow','):Audio\x20converted\x20and\x20stored\x20in\x20cache','delAll','Erro\x20ao\x20editar\x20agentes','_minute','pino','IPv6\x20address\x20removed:\x20','ip:\x20','Error\x20removing\x20unused\x20chat\x20fields:','Erro\x20na\x20função\x20updateChatWithMessage:\x20','Flow\x20iniciado\x20com\x20','groupValidate','content-type','AUTHENTICATION_API_KEY','isJidGroup','Falha\x20ao\x20criar\x20IPv6.','fetchConversation','post','uazapiSendLocation','less','HOST','\x1b[33m','list','qrcode','call','createSectionsFromValues','\x1b[34m%s\x1b[0m','instanceKeys','SEND_MESSAGE','ChatRouter','CREDENTIALS','READ','Type\x20not\x20found','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','map','getOwnPropertyDescriptor','\x20excess\x20IPv6\x20addresses.','quoted','vcard','online','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','request\x20received\x20in\x20getFlow','enviado\x20para','express','The\x20property\x20cannot\x20be\x20empty','keep-alive','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):Converted\x20image\x20deleted','.webp','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','entries','setting','):\x20Erro\x20durante\x20a\x20atualização:\x20','\x20}\x0a','webhookModel','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','updateCustomFields','sendContact','ReplyOption\x20com\x20ID\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','digest','\x20não\x20encontrado\x20para\x20atualização.','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','inet6','replacer','isBusiness','user','importChatsAntigo','contact_blacklist','updateAll','REDIS','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','/5\x20falhou:\x20','setNewValue','pollCreationMessageV2','findContacts','.mimetype','getChatModelForOwner','chat\x20não\x20encontrado','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','):\x20Instancia\x20isBusiness:\x20','findByIdAndUpdate','toLocaleString','fetchMessages','messageContextInfo','stack','presence.update','findById','limit','scheduleSendText','updateFlowConfig','The\x20instance\x20needs\x20to\x20be\x20disconnected','error_log','selectedRowId','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','readFile','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','createInstance','getflow','blockId','replyOptions','mongodb','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','applyvaredit','saveMediaToFile','updateProfilePicture','FULLCHAIN','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','\x27\x20não\x20encontrado','globalShow','#9568cf','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','body','Erro\x20ao\x20normalizar\x20a\x20mensagem:','messageId','END:VCARD','waitingMenu_id','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','waMonitor','nativeFlowResponseMessage','toBRL','replyOption','STORE','defineProperty','RemoteJid:','NextBlock','/message','#d8e651','inner','thumbnailUrl','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','notMatchRegex','pairingCode','):\x20Ignoring\x20group\x20messages.','saveVariable','):\x20Atualizando\x20status\x20da\x20mensagem\x20','Module\x20-\x20ON','padEnd','put','string','reduce','deleteAllMessages','remote\x20\x22origin\x22','pollOnReplyDelete','Safari','SERVER_TYPE','notify','https://chat.whatsapp.com/','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','./.git/config','instances','filter','contacts.update','listResponseMessage','restrict','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','imported','exit','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','chat','):Trying\x20to\x20get\x20business\x20profile','class-validator','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','sendPresenceUpdate','replaceVariables','ms\x20(tentativa\x20','sleep','updateStopChat','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','):\x20Iniciando\x20processo\x20de\x20deleção...','activatedCount','matchRegex','Subscribed\x20Events:','connect','):\x20expirationTime:\x20','msgRetryCounterCache','button','Database\x20update\x20result:','request\x20received\x20in\x20editConversation','fetchProfilePicture','hDel','ScheduleMessage','cacheInstanceModel','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','https://jsonip.com','/wa-contacts','editFlowGroup','hSet','/wa-connection-update','namespace','updateChatWithMessage','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','groupAcceptInvite','HistoryProcessed','toLowerCase','replaceValue','lastReceivedMessage','):\x20Entrou\x20na\x20função\x20saveReply','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','groupUpdateDescription','max','contains','):\x20Buscando\x20conversa...','params','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','selectedOptions','removeProfilePicture','toNumber','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','Failed\x20to\x20prepare\x20media\x20message','sendSticker','chats.set','#ffc5c7','):\x20conversation.lastInteraction:\x20','__esModule','subjectTime','lastFetchAwaitingApproval','):\x20[messages.update]\x20group\x20ignored','unknown\x20operation\x20type\x20[','cleanDisconnectedInstances','networkInterface','DisconnectReason','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','updateMissingEtiquetas','getHours','\x22\x20cannot\x20be\x20empty','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','atendimentoAberto','refused','request_method','headerString','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','CLEANING_INTERVAL','URL:','gifPlayback','node-cache','responsavelid','whoCanUse','Background\x20color\x20is\x20required','updateGParticipate','):\x20Buscando\x20flow...','Tentativa\x20','JWT','code','):\x20Limpando\x20delayMessage','no.connection','readreceipts','labels.edit','):\x20Deletando\x20mensagem','connectionClosed','paused','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Type\x20is\x20required','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Retornando\x20grupos\x20COM\x20cache','DB_PREFIX_NAME','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','groupUpdateSubject','Garbage\x20collection\x20não\x20está\x20disponível.','/instance/fetchInstances','request\x20received\x20in\x20allFlows','updateProfileStatus','retrySendMessage','Não\x20respondeu\x20com\x20a\x20enquete.','statusMessage','waUploadToServer','@whiskeysockets/baileys','toFile','getDate','Erro\x20ao\x20alterar\x20fluxo','lean','Schema','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','DATABASE_CONNECTION_USER'];a0_0x2a90=function(){return _0x9b2654;};return a0_0x2a90();}var Li=0x0;async function lr(){const _0x104777=a0_0x5c0bdf;let _0x5a0806=await new ue(S[_0x104777(0x1fe)](_0x104777(0x703)))[_0x104777(0x6d8)]();return console[_0x104777(0x84c)](_0x104777(0x8ad),_0x5a0806[_0x104777(0x235)]),_0x5a0806[_0x104777(0x235)];}function ur(_0x58de33){const _0x39a9cb=a0_0x5c0bdf;let _0x4a87aa=_0x58de33[_0x39a9cb(0x1fe)](_0x39a9cb(0x1df))[_0x39a9cb(0x40c)],_0x2be928=_0x58de33['get'](_0x39a9cb(0x594));console['log'](_0x39a9cb(0x907),_0x4a87aa),console[_0x39a9cb(0x84c)](_0x39a9cb(0x866),_0x2be928);let _0x507e5c='',_0x2f9598=_0x4a87aa||'';if(_0x4a87aa){let _0x269a07=_0x4a87aa['match'](/\/\/(.*?)\./);console[_0x39a9cb(0x84c)]('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x269a07),_0x269a07&&_0x269a07[0x1]&&(_0x507e5c=_0x269a07[0x1],console['log'](_0x39a9cb(0x913),_0x507e5c));}if(!_0x507e5c&&_0x2be928&&_0x2be928[_0x39a9cb(0x728)]){let _0x28fc74=_0x2be928['FULLCHAIN'][_0x39a9cb(0x2a9)]('/');console[_0x39a9cb(0x84c)](_0x39a9cb(0x8ec),_0x28fc74);let _0x18c224=_0x28fc74[_0x28fc74['length']-0x2];if(console['log'](_0x39a9cb(0x78f),_0x18c224),_0x18c224){let _0x576620=_0x18c224[_0x39a9cb(0x2a9)]('.');console[_0x39a9cb(0x84c)](_0x39a9cb(0x3bb),_0x576620),_0x576620[_0x39a9cb(0x235)]>0x2&&(_0x507e5c=_0x576620[0x0],console[_0x39a9cb(0x84c)](_0x39a9cb(0x3b2),_0x507e5c),_0x2f9598=''+_0x18c224);}}return{'subdomain':_0x507e5c||_0x39a9cb(0x2e9),'fullURL':_0x2f9598||_0x39a9cb(0x21d)};}var {subdomain:he,fullURL:Gs}=ur(S);console[a0_0x5c0bdf(0x84c)](a0_0x5c0bdf(0x293),he),console[a0_0x5c0bdf(0x84c)](a0_0x5c0bdf(0x874),Gs);async function dr(){const _0x5bb43b=a0_0x5c0bdf;let _0x2e2fcc=S['get'](_0x5bb43b(0x703)),_0x381ceb=S[_0x5bb43b(0x1fe)](_0x5bb43b(0x206))['API_KEY']['KEY'],_0x477236=S[_0x5bb43b(0x1fe)](_0x5bb43b(0x594)),_0x1a4431=await Vi(),_0x4167c2=S[_0x5bb43b(0x1fe)](_0x5bb43b(0x1df))[_0x5bb43b(0x352)],_0x4a588f=Gs;try{let _0x19c99e={'ip':_0x1a4431||null,'redis_enable':_0x2e2fcc?.[_0x5bb43b(0x2ed)]||null,'apikey':_0x381ceb||null,'ssl':_0x477236?.[_0x5bb43b(0x520)]||null,'lastupdate':Gi||null,'port':_0x4167c2||null,'gitInstallError':Re?.[_0x5bb43b(0x7d9)]||null,'url':_0x4a588f||null,'subdomain':he};if(console['log'](_0x5bb43b(0x6c4),_0x19c99e['ip']),_0x2e2fcc&&_0x2e2fcc[_0x5bb43b(0x2ed)]){let _0x353cb5=await lr();_0x19c99e[_0x5bb43b(0x308)]=_0x353cb5||null;}for(let _0x48397e in _0x19c99e)_0x19c99e[_0x5bb43b(0x3b5)](_0x48397e)&&_0x48397e!=='ip'&&(_0x19c99e[_0x48397e]=JSON[_0x5bb43b(0x86d)](_0x19c99e[_0x48397e]));return(await qe[_0x5bb43b(0x32c)]['post'](_0x5bb43b(0x35b),_0x19c99e))[_0x5bb43b(0x8db)];}catch(_0x44719a){return console[_0x5bb43b(0x812)](_0x44719a),!0x1;}}var qs=!0x1,Gi=0x283,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x3ae0ab=a0_0x5c0bdf;let _0x3073ff='fora\x20do\x20git';Re===null&&(_0x3073ff=await Vi());let _0x38ea16=await dr();if(_0x38ea16){if(_0x38ea16[_0x3ae0ab(0x2b9)][_0x3ae0ab(0x830)]===!0x0){Re===null&&_0x38ea16[_0x3ae0ab(0x2b9)][_0x3ae0ab(0x38e)]-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x2c1504=0x24*0x3c*0x3c,_0x140c4f=_0x38ea16[_0x3ae0ab(0x2b9)][_0x3ae0ab(0x65e)]>_0x2c1504?_0x2c1504:_0x38ea16[_0x3ae0ab(0x2b9)]['segundos'],_0x1b7992=Number(_0x140c4f);if(isNaN(_0x1b7992)){console[_0x3ae0ab(0x812)](_0x3ae0ab(0x3b6));return;}let _0x35a9fa=Math[_0x3ae0ab(0x3ab)](_0x1b7992/0xe10),_0x5aa1fa=Math[_0x3ae0ab(0x3ab)](_0x1b7992%0xe10/0x3c),_0x52c72c=new Date(Date['now']()+_0x1b7992*0x3e8);setTimeout(()=>{const _0x32bc56=_0x3ae0ab;console[_0x32bc56(0x84c)]('Reiniciando\x20a\x20aplicação...'),process[_0x32bc56(0x75b)](0x0);},_0x1b7992*0x3e8);let _0xe1d706=_0x510708=>_0x510708[_0x3ae0ab(0x281)]()[_0x3ae0ab(0x801)](0x2,'0'),_0x5d84bc=_0x3ae0ab(0x6de)+_0xe1d706(_0x35a9fa)+'\x20horas\x20e\x20'+_0xe1d706(_0x5aa1fa)+_0x3ae0ab(0x25a)+_0xe1d706(_0x52c72c[_0x3ae0ab(0x7a0)]())+':'+_0xe1d706(_0x52c72c[_0x3ae0ab(0x1f4)]())+'.';console['log'](_0x5d84bc);}else return console[_0x3ae0ab(0x84c)](_0x3ae0ab(0x6f8)),qs&&(console['log']('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x3ae0ab(0x75b)]()),_0x3ae0ab(0x248);}else{if(Li++,Li<pr)console[_0x3ae0ab(0x84c)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Fi/0xea60+'\x20minutos...'),setTimeout(Bi,Fi);else return console[_0x3ae0ab(0x812)](_0x3ae0ab(0x2f8)),'SERVER_OFFLINE';}}async function hr(){const _0xd1d0bf=a0_0x5c0bdf;console[_0xd1d0bf(0x84c)](_0xd1d0bf(0x8f3)),console[_0xd1d0bf(0x84c)](_0xd1d0bf(0x8c0)),(0x0,rs[_0xd1d0bf(0x282)])(_0xd1d0bf(0x89c),{'shell':!0x0})['on'](_0xd1d0bf(0x3ec),_0x35d174=>{const _0x41ed58=_0xd1d0bf;_0x35d174!==0x0?console[_0x41ed58(0x812)](_0x41ed58(0x69d)):(console[_0x41ed58(0x84c)](_0x41ed58(0x5fe)),console[_0x41ed58(0x84c)](_0x41ed58(0x558)),(0x0,rs[_0x41ed58(0x282)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on']('close',_0x463f74=>{const _0x4c727c=_0x41ed58;if(_0x463f74!==0x0)console[_0x4c727c(0x812)]('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.');else{console[_0x4c727c(0x84c)](_0x4c727c(0x8cf));let _0x3465d2=(0x0,rs[_0x4c727c(0x282)])(_0x4c727c(0x79d),{'shell':!0x0});_0x3465d2[_0x4c727c(0x55d)]['on'](_0x4c727c(0x8db),_0x11f47c=>{const _0x46de9d=_0x4c727c;console['log'](_0x46de9d(0x8b3)+_0x11f47c);}),_0x3465d2[_0x4c727c(0x313)]['on'](_0x4c727c(0x8db),_0x2f8a03=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x2f8a03);}),_0x3465d2['on']('exit',_0x1478ac=>{const _0x5f12e3=_0x4c727c;_0x1478ac!==0x0?console[_0x5f12e3(0x812)](_0x5f12e3(0x5cf)+_0x1478ac):console['log'](_0x5f12e3(0x686)),console['log'](_0x5f12e3(0x426)),setTimeout(()=>process[_0x5f12e3(0x75b)](),0x2710);});}}));});}0x0&&(module[a0_0x5c0bdf(0x80f)]={'fullURL':fullURL,'subdomain':subdomain});