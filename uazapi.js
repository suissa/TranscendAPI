const a0_0x444692=a0_0x3772;(function(_0x392175,_0x4aa542){const _0x2716aa=a0_0x3772,_0x4a1a04=_0x392175();while(!![]){try{const _0x176f47=parseInt(_0x2716aa(0x25d))/0x1*(-parseInt(_0x2716aa(0x41c))/0x2)+parseInt(_0x2716aa(0x3cb))/0x3*(-parseInt(_0x2716aa(0x1fa))/0x4)+-parseInt(_0x2716aa(0x106))/0x5*(-parseInt(_0x2716aa(0x209))/0x6)+parseInt(_0x2716aa(0x247))/0x7*(parseInt(_0x2716aa(0x3bf))/0x8)+parseInt(_0x2716aa(0x3be))/0x9+parseInt(_0x2716aa(0x220))/0xa*(parseInt(_0x2716aa(0x628))/0xb)+parseInt(_0x2716aa(0x636))/0xc*(-parseInt(_0x2716aa(0x3f1))/0xd);if(_0x176f47===_0x4aa542)break;else _0x4a1a04['push'](_0x4a1a04['shift']());}catch(_0xaec9de){_0x4a1a04['push'](_0x4a1a04['shift']());}}}(a0_0x2242,0x7b953));var Lo=Object['create'],Ls=Object[a0_0x444692(0x4a1)],Uo=Object[a0_0x444692(0x361)],Vo=Object['getOwnPropertyNames'],jo=Object[a0_0x444692(0x2b3)],Bo=Object['prototype'][a0_0x444692(0x1cb)],Fo=(_0x4789be,_0x19bf55,_0x3a90ca,_0x13b83a)=>{const _0x185110=a0_0x444692;if(_0x19bf55&&typeof _0x19bf55==_0x185110(0x66b)||typeof _0x19bf55==_0x185110(0x505)){for(let _0x293197 of Vo(_0x19bf55))!Bo['call'](_0x4789be,_0x293197)&&_0x293197!==_0x3a90ca&&Ls(_0x4789be,_0x293197,{'get':()=>_0x19bf55[_0x293197],'enumerable':!(_0x13b83a=Uo(_0x19bf55,_0x293197))||_0x13b83a['enumerable']});}return _0x4789be;},T=(_0x24ae88,_0x317b7b,_0x3fce91)=>(_0x3fce91=_0x24ae88!=null?Lo(jo(_0x24ae88)):{},Fo(_0x317b7b||!_0x24ae88||!_0x24ae88[a0_0x444692(0x2e4)]?Ls(_0x3fce91,a0_0x444692(0x331),{'value':_0x24ae88,'enumerable':!0x0}):_0x3fce91,_0x24ae88)),Io=T(require(a0_0x444692(0x20c))),Vs=require('fs'),js=require(a0_0x444692(0x3b4)),Bs=require(a0_0x444692(0x51a)),Ue=require(a0_0x444692(0x51a)),z=process[a0_0x444692(0x568)](),V=(0x0,Ue[a0_0x444692(0x546)])(z,a0_0x444692(0x627)),Us=(0x0,Ue['join'])(z,a0_0x444692(0x617)),Qt=(0x0,Ue[a0_0x444692(0x546)])(z,'store','auth'),Fs=require(a0_0x444692(0x196)),Yt=class{constructor(){const _0x2852cc=a0_0x444692;this[_0x2852cc(0x333)]();}[a0_0x444692(0x589)](_0x5b5703){return this['env'][_0x5b5703];}[a0_0x444692(0x333)](){const _0x2991a4=a0_0x444692;this['env']=process[_0x2991a4(0x490)]?.[_0x2991a4(0x166)]!==_0x2991a4(0x1f5)?this[_0x2991a4(0x18e)]():this[_0x2991a4(0x2ac)](),this[_0x2991a4(0x490)][_0x2991a4(0x398)]=process[_0x2991a4(0x490)]?.[_0x2991a4(0x3d3)]===_0x2991a4(0x229),process[_0x2991a4(0x490)]?.['DOCKER_ENV']==='true'&&(this[_0x2991a4(0x490)][_0x2991a4(0x2b6)]['TYPE']=_0x2991a4(0x2f8),this[_0x2991a4(0x490)][_0x2991a4(0x2b6)][_0x2991a4(0x250)]=Number[_0x2991a4(0x261)](process['env']?.[_0x2991a4(0x5dd)]??_0x2991a4(0x450)));}['envYaml'](){const _0x4fed7e=a0_0x444692;return(0x0,js[_0x4fed7e(0x2b8)])((0x0,Vs['readFileSync'])((0x0,Bs['join'])(Us,_0x4fed7e(0x158)),{'encoding':_0x4fed7e(0x30e)}));}['envProcess'](){const _0x4c1267=a0_0x444692;return{'SERVER':{'TYPE':process['env'][_0x4c1267(0xef)],'PORT':Number[_0x4c1267(0x261)](process[_0x4c1267(0x490)][_0x4c1267(0x5dd)])},'CORS':{'ORIGIN':process[_0x4c1267(0x490)][_0x4c1267(0x40f)][_0x4c1267(0x1b4)](','),'METHODS':process[_0x4c1267(0x490)][_0x4c1267(0x4d9)][_0x4c1267(0x1b4)](','),'CREDENTIALS':process['env']?.[_0x4c1267(0x672)]===_0x4c1267(0x1f5)},'SSL_CONF':{'PRIVKEY':process[_0x4c1267(0x490)]?.[_0x4c1267(0x531)],'FULLCHAIN':process[_0x4c1267(0x490)]?.[_0x4c1267(0x3fb)]},'STORE':{'CLEANING_INTERVAL':Number[_0x4c1267(0x1b0)](process[_0x4c1267(0x490)]?.[_0x4c1267(0x5fd)])?Number[_0x4c1267(0x261)](process[_0x4c1267(0x490)][_0x4c1267(0x5fd)]):void 0x0,'MESSAGES':process[_0x4c1267(0x490)]?.['STORE_MESSAGE']===_0x4c1267(0x1f5),'CONTACTS':process[_0x4c1267(0x490)]?.[_0x4c1267(0x379)]===_0x4c1267(0x1f5),'CHATS':process[_0x4c1267(0x490)]?.[_0x4c1267(0x430)]===_0x4c1267(0x1f5)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x4c1267(0xfd)],'PORT':Number['parseInt'](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x4c1267(0x490)][_0x4c1267(0x603)],'PASSWORD':process[_0x4c1267(0x490)][_0x4c1267(0x366)],'URI':process[_0x4c1267(0x490)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x4c1267(0x490)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x4c1267(0x490)]?.[_0x4c1267(0x610)]==='true'},'REDIS':{'ENABLED':process['env']?.[_0x4c1267(0x203)]===_0x4c1267(0x1f5),'URI':process['env'][_0x4c1267(0x230)],'PREFIX_KEY':process[_0x4c1267(0x490)]['REDIS_PREFIX_KEY']},'LOG':{'LEVEL':process[_0x4c1267(0x490)]?.[_0x4c1267(0x24d)][_0x4c1267(0x1b4)](','),'COLOR':process[_0x4c1267(0x490)]?.['LOG_COLOR']==='true'},'DEL_INSTANCE':(0x0,Fs[_0x4c1267(0x33f)])(process['env']?.[_0x4c1267(0x48e)])?process[_0x4c1267(0x490)][_0x4c1267(0x48e)]===_0x4c1267(0x1f5):Number[_0x4c1267(0x261)](process[_0x4c1267(0x490)][_0x4c1267(0x48e)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process['env'][_0x4c1267(0x132)]?process[_0x4c1267(0x490)][_0x4c1267(0x132)]===_0x4c1267(0x1f5):!0x1,'GLOBAL':{'URL':process[_0x4c1267(0x490)]?.[_0x4c1267(0x3e9)],'ENABLED':process[_0x4c1267(0x490)]?.[_0x4c1267(0x58a)]===_0x4c1267(0x1f5)},'EVENTS':{'STATUS_INSTANCE':process[_0x4c1267(0x490)]?.['WEBHOOK_EVENTS_STATUS_INSTANCE']==='true','QRCODE_UPDATED':process[_0x4c1267(0x490)]?.[_0x4c1267(0x64c)]==='true','MESSAGES_SET':process[_0x4c1267(0x490)]?.[_0x4c1267(0x161)]===_0x4c1267(0x1f5),'MESSAGES_UPSERT':process[_0x4c1267(0x490)]?.[_0x4c1267(0x3ea)]==='true','MESSAGES_UPDATE':process[_0x4c1267(0x490)]?.[_0x4c1267(0x639)]===_0x4c1267(0x1f5),'SEND_MESSAGE':process[_0x4c1267(0x490)]?.['WEBHOOK_EVENTS_SEND_MESSAGE']===_0x4c1267(0x1f5),'CONTACTS_SET':process[_0x4c1267(0x490)]?.['WEBHOOK_EVENTS_CONTACTS_SET']==='true','CONTACTS_UPDATE':process[_0x4c1267(0x490)]?.[_0x4c1267(0x526)]===_0x4c1267(0x1f5),'CONTACTS_UPSERT':process[_0x4c1267(0x490)]?.['WEBHOOK_EVENTS_CONTACTS_UPSERT']===_0x4c1267(0x1f5),'PRESENCE_UPDATE':process['env']?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x4c1267(0x1f5),'CHATS_SET':process[_0x4c1267(0x490)]?.[_0x4c1267(0x57e)]===_0x4c1267(0x1f5),'CHATS_UPDATE':process['env']?.[_0x4c1267(0x195)]===_0x4c1267(0x1f5),'CHATS_UPSERT':process[_0x4c1267(0x490)]?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0x4c1267(0x1f5),'CHATS_DELETE':process[_0x4c1267(0x490)]?.[_0x4c1267(0x11a)]==='true','CONNECTION_UPDATE':process[_0x4c1267(0x490)]?.[_0x4c1267(0x2da)]===_0x4c1267(0x1f5),'GROUPS_UPSERT':process[_0x4c1267(0x490)]?.[_0x4c1267(0x50f)]===_0x4c1267(0x1f5),'GROUP_UPDATE':process[_0x4c1267(0x490)]?.[_0x4c1267(0xde)]===_0x4c1267(0x1f5),'GROUP_PARTICIPANTS_UPDATE':process[_0x4c1267(0x490)]?.[_0x4c1267(0x312)]===_0x4c1267(0x1f5),'NEW_JWT_TOKEN':process[_0x4c1267(0x490)]?.[_0x4c1267(0x324)]==='true'}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x4c1267(0x490)]?.[_0x4c1267(0x663)]||_0x4c1267(0x244),'NAME':process[_0x4c1267(0x490)]?.[_0x4c1267(0x551)]||'chrome'},'QRCODE':{'LIMIT':Number[_0x4c1267(0x261)](process[_0x4c1267(0x490)][_0x4c1267(0x4e3)])||0x5},'TRIAL_AD':process['env']?.[_0x4c1267(0x243)],'TRIAL_INSTANCE_NAME':process[_0x4c1267(0x490)]?.[_0x4c1267(0x1c7)],'AUTOUPDATE':process['env']?.['AUTOUPDATE']==='true','PHONE':process[_0x4c1267(0x490)]?.[_0x4c1267(0x180)],'AUTHENTICATION':{'TYPE':process[_0x4c1267(0x490)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process['env'][_0x4c1267(0x584)]},'JWT':{'EXPIRIN_IN':Number[_0x4c1267(0x1b0)](process['env']?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x4c1267(0x261)](process[_0x4c1267(0x490)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x4c1267(0x490)][_0x4c1267(0x5cb)]}}};}},y=new Yt(),Do=T(require(a0_0x444692(0x130))),me=T(require('express')),Os=require('path'),Xt=T(require(a0_0x444692(0x382))),Zt=(_0x419f5b=>(_0x419f5b[a0_0x444692(0x561)]=a0_0x444692(0x3a2),_0x419f5b[a0_0x444692(0x421)]=a0_0x444692(0x632),_0x419f5b['WARN']=a0_0x444692(0x413),_0x419f5b[a0_0x444692(0x4b0)]=a0_0x444692(0x1b2),_0x419f5b[a0_0x444692(0x45d)]='\x1b[36m',_0x419f5b[a0_0x444692(0x336)]=a0_0x444692(0x4c3),_0x419f5b[a0_0x444692(0x5ba)]=a0_0x444692(0x523),_0x419f5b))(Zt||{}),Gs=(_0x2281e9=>(_0x2281e9[a0_0x444692(0x561)]=a0_0x444692(0x2ca),_0x2281e9[a0_0x444692(0x5ba)]=a0_0x444692(0x453),_0x2281e9[a0_0x444692(0x421)]='\x1b[34m%s\x1b[0m',_0x2281e9[a0_0x444692(0x4a0)]='\x1b[33m%s\x1b[0m',_0x2281e9[a0_0x444692(0x4b0)]=a0_0x444692(0x3e8),_0x2281e9[a0_0x444692(0x45d)]='\x1b[36m%s\x1b[0m',_0x2281e9[a0_0x444692(0x336)]='\x1b[37m%s\x1b[0m',_0x2281e9))(Gs||{}),qs=(_0x53945f=>(_0x53945f[a0_0x444692(0x561)]=a0_0x444692(0x561),_0x53945f[a0_0x444692(0x4a0)]='WARN',_0x53945f[a0_0x444692(0x421)]=a0_0x444692(0x421),_0x53945f[a0_0x444692(0x5ba)]=a0_0x444692(0x5ba),_0x53945f[a0_0x444692(0x4b0)]=a0_0x444692(0x4b0),_0x53945f['DEBUG']=a0_0x444692(0x45d),_0x53945f['VERBOSE']=a0_0x444692(0x336),_0x53945f))(qs||{}),Js=(_0x4a5ad4=>(_0x4a5ad4[a0_0x444692(0x561)]=a0_0x444692(0xdd),_0x4a5ad4['INFO']='\x1b[44m',_0x4a5ad4[a0_0x444692(0x4a0)]='\x1b[43m',_0x4a5ad4[a0_0x444692(0x5ba)]=a0_0x444692(0x1d3),_0x4a5ad4['ERROR']=a0_0x444692(0x5f2),_0x4a5ad4['DEBUG']=a0_0x444692(0x527),_0x4a5ad4[a0_0x444692(0x336)]=a0_0x444692(0x520),_0x4a5ad4))(Js||{}),v=class{constructor(_0x244be6='Logger'){const _0x30cc35=a0_0x444692;this[_0x30cc35(0x48f)]=_0x244be6,this[_0x30cc35(0x56e)]=y;}['setContext'](_0x31600b){const _0x5a8068=a0_0x444692;this[_0x5a8068(0x48f)]=_0x31600b;}[a0_0x444692(0x16d)](_0x284c8b,_0x35378c){const _0x2b8c07=a0_0x444692;let _0x5a09dc=[];this[_0x2b8c07(0x56e)]['get']('LOG')['LEVEL'][_0x2b8c07(0x58d)](_0x286487=>_0x5a09dc[_0x2b8c07(0x370)](qs[_0x286487]));let _0x3ef018=typeof _0x284c8b;_0x5a09dc[_0x2b8c07(0x48d)](_0x35378c)&&(y[_0x2b8c07(0x589)](_0x2b8c07(0x561))['COLOR']?(console['log'](_0x2b8c07(0x3f7)+Gs[_0x35378c],_0x2b8c07(0x345),(0x0,Xt[_0x2b8c07(0x331)])()['format']('DD/MM\x20HH:mm:ss'),_0x2b8c07(0x17a),Zt[_0x35378c]+Js[_0x35378c]+_0x2b8c07(0x3f7),_0x35378c+_0x2b8c07(0x2e0),'\x1b[33m\x1b[1m',this['context']+_0x2b8c07(0x17a),Zt[_0x35378c],_0x3ef018!=='object'?_0x284c8b:'',_0x2b8c07(0x17a)),_0x3ef018===_0x2b8c07(0x66b)&&console[_0x2b8c07(0xea)](_0x284c8b,'\x0a')):console[_0x2b8c07(0xea)]((0x0,Xt['default'])()[_0x2b8c07(0x624)](_0x2b8c07(0x4fa)),_0x35378c+'\x20',''+this[_0x2b8c07(0x48f)],_0x284c8b));}['log'](_0x421c1d){this['console'](_0x421c1d,'LOG');}['info'](_0x1904fb){const _0x595996=a0_0x444692;this[_0x595996(0x16d)](_0x1904fb,'INFO');}['warn'](_0x22c89c){const _0x4c1bbf=a0_0x444692;this[_0x4c1bbf(0x16d)](_0x22c89c,'WARN');}[a0_0x444692(0x307)](_0x3aa7cd){const _0x3cb4e3=a0_0x444692;this[_0x3cb4e3(0x16d)](_0x3aa7cd,_0x3cb4e3(0x4b0));}['verbose'](_0x19e3f2){const _0x8402e1=a0_0x444692;this[_0x8402e1(0x16d)](_0x19e3f2,_0x8402e1(0x336));}[a0_0x444692(0x380)](_0x280968){const _0x5753da=a0_0x444692;this[_0x5753da(0x16d)](_0x280968,_0x5753da(0x45d));}['dark'](_0x3422e0){const _0x1a0526=a0_0x444692;this[_0x1a0526(0x16d)](_0x3422e0,_0x1a0526(0x5ba));}};function Ws(){const _0x46d373=a0_0x444692;process['on'](_0x46d373(0x4b2),(_0x166fc9,_0x1b2f1c)=>{const _0xfa477f=_0x46d373;new v(_0xfa477f(0x4b2))['error']({'origin':_0x1b2f1c,'stderr':process['stderr']['fd'],'error':_0x166fc9});}),process['on'](_0x46d373(0x686),(_0x169d6a,_0x192f77)=>{const _0x14bb34=_0x46d373;new v(_0x14bb34(0x686))['error']({'origin':_0x192f77,'stderr':process[_0x14bb34(0x4e8)]['fd'],'error':_0x169d6a});});}var Hs=T(require('eventemitter2')),es=new Hs[(a0_0x444692(0x331))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ce=require(a0_0x444692(0x51a)),ge=require('fs'),ts=require(a0_0x444692(0x51a)),j=class{constructor(_0x1c5de7){const _0x4c4b0f=a0_0x444692;this['storePath']=(0x0,ts['join'])(z,_0x4c4b0f(0x190)),this[_0x4c4b0f(0x219)]=_0xc7f9b5=>{const _0x5b1303=_0x4c4b0f;(0x0,ge[_0x5b1303(0x2ff)])(_0xc7f9b5[_0x5b1303(0x51a)])||(0x0,ge[_0x5b1303(0xf7)])(_0xc7f9b5[_0x5b1303(0x51a)],{'recursive':!0x0});try{return(0x0,ge[_0x5b1303(0x653)])((0x0,ts[_0x5b1303(0x546)])(_0xc7f9b5[_0x5b1303(0x51a)],_0xc7f9b5[_0x5b1303(0x29b)]+_0x5b1303(0x3b7)),JSON[_0x5b1303(0x343)]({..._0xc7f9b5[_0x5b1303(0x63a)]}),{'encoding':_0x5b1303(0x30e)}),{'message':'create\x20-\x20success'};}finally{_0xc7f9b5['data']=void 0x0;}},this[_0x4c4b0f(0x28c)]=_0x1c5de7[_0x4c4b0f(0x589)](_0x4c4b0f(0x253));}['insert'](_0x51c467,_0x11886d=!0x1){const _0x5a22ad=a0_0x444692;throw new Error(_0x5a22ad(0x3c9));}['find'](_0x50b7c8){const _0x44b06e=a0_0x444692;throw new Error(_0x44b06e(0x3c9));}[a0_0x444692(0xe7)](_0x7b5c37,_0x1fa0da){const _0x52f0d6=a0_0x444692;throw new Error(_0x52f0d6(0x3c9));}},se=require('fs'),Ve=class{},je=class extends j{constructor(_0x4c5403,_0x4e2b62){const _0x5b85a4=a0_0x444692;super(_0x4e2b62),this[_0x5b85a4(0x618)]=_0x4c5403,this[_0x5b85a4(0x56e)]=_0x4e2b62;}async[a0_0x444692(0x54b)](_0x554196,_0x50b799=!0x1){const _0x435c6f=a0_0x444692;if(_0x554196[_0x435c6f(0x1f4)]!==0x0)try{return this['dbSettings'][_0x435c6f(0xe3)]&&_0x50b799?{'insertCount':(await this[_0x435c6f(0x618)]['insertMany']([..._0x554196]))['length']}:_0x50b799?(_0x554196['forEach'](_0x487936=>this['writeStore']({'path':(0x0,ce[_0x435c6f(0x546)])(this['storePath'],'messages',_0x487936['owner']),'fileName':_0x487936['key']['id'],'data':_0x487936})),{'insertCount':_0x554196[_0x435c6f(0x1f4)]}):{'insertCount':0x0};}catch(_0x415029){return console[_0x435c6f(0xea)](_0x435c6f(0x4bf),_0x415029),_0x415029;}finally{_0x554196=void 0x0;}}async[a0_0x444692(0x235)](_0x35fe3d){const _0x54e542=a0_0x444692;try{if(this[_0x54e542(0x28c)]['ENABLED']){if(_0x35fe3d?.[_0x54e542(0x427)]?.['key']){for(let [_0x38b3ab,_0x5486f8]of Object['entries'](_0x35fe3d[_0x54e542(0x427)][_0x54e542(0x4c1)]))_0x35fe3d[_0x54e542(0x427)]['key.'+_0x38b3ab]=_0x5486f8;delete _0x35fe3d?.['where']?.[_0x54e542(0x4c1)];}return await this[_0x54e542(0x618)]['find']({..._0x35fe3d[_0x54e542(0x427)]})[_0x54e542(0x298)]({'messageTimestamp':-0x1})['limit'](_0x35fe3d?.[_0x54e542(0x3d8)]??0x0);}let _0x71384=[];if(_0x35fe3d?.[_0x54e542(0x427)]?.[_0x54e542(0x4c1)]?.['id'])_0x71384[_0x54e542(0x370)](JSON['parse']((0x0,se[_0x54e542(0x480)])((0x0,ce[_0x54e542(0x546)])(this[_0x54e542(0x30b)],_0x54e542(0x263),_0x35fe3d[_0x54e542(0x427)]['owner'],_0x35fe3d[_0x54e542(0x427)][_0x54e542(0x4c1)]['id']+_0x54e542(0x3b7)),{'encoding':_0x54e542(0x30e)})));else{let _0xa84294=(0x0,se[_0x54e542(0x2a5)])((0x0,ce['join'])(this['storePath'],_0x54e542(0x263),_0x35fe3d[_0x54e542(0x427)][_0x54e542(0x5ec)]),{'encoding':'utf-8'});for await(let _0xcb9e19 of _0xa84294)_0xcb9e19[_0x54e542(0x315)]()&&_0x71384['push'](JSON[_0x54e542(0x3fc)]((0x0,se[_0x54e542(0x480)])((0x0,ce[_0x54e542(0x546)])(this['storePath'],_0x54e542(0x263),_0x35fe3d[_0x54e542(0x427)][_0x54e542(0x5ec)],_0xcb9e19[_0x54e542(0x33d)]),{'encoding':'utf-8'})));}return _0x71384[_0x54e542(0x298)]((_0x659245,_0x14066f)=>_0x14066f['messageTimestamp']-_0x659245[_0x54e542(0x471)])[_0x54e542(0x587)](0x0,_0x35fe3d?.[_0x54e542(0x3d8)]??_0x71384[_0x54e542(0x1f4)]);}catch{return[];}}async[a0_0x444692(0xe7)](_0x536a04){const _0x31c138=a0_0x444692;try{if(this[_0x31c138(0x28c)]['ENABLED'])await this['messageModel']['deleteMany']({..._0x536a04[_0x31c138(0x427)]});else{let {owner:_0x57e0e5}=_0x536a04[_0x31c138(0x427)];(0x0,se[_0x31c138(0x4ab)])((0x0,ce[_0x31c138(0x546)])(this[_0x31c138(0x30b)],'messages',_0x57e0e5))[_0x31c138(0x58d)](_0x245357=>{const _0x3cda1e=_0x31c138;let _0x1cbbfc=(0x0,ce['join'])(this[_0x3cda1e(0x30b)],_0x3cda1e(0x263),_0x57e0e5,_0x245357);(0x0,se[_0x3cda1e(0x25c)])(_0x1cbbfc);});}}catch(_0x5ae025){console['error'](_0x5ae025);}}async[a0_0x444692(0xeb)](_0x4c3519,_0x2e19b0){const _0x11b5e9=a0_0x444692;try{let _0x4f9307=null;if(this[_0x11b5e9(0x28c)][_0x11b5e9(0xe3)])return _0x4f9307=await this[_0x11b5e9(0x618)][_0x11b5e9(0x2d4)]({..._0x4c3519[_0x11b5e9(0x427)]},{'$set':_0x2e19b0},{'new':!0x0}),_0x4f9307;}catch(_0x4563d3){throw console[_0x11b5e9(0x307)](_0x4563d3),_0x4563d3;}}async[a0_0x444692(0x51c)](_0x263539,_0xf446db=!0x1){const _0x20d628=a0_0x444692;if(_0x263539[_0x20d628(0x1f4)]!==0x0)try{return this[_0x20d628(0x28c)]['ENABLED']&&_0xf446db?{'insertCount':(await this[_0x20d628(0x618)][_0x20d628(0x51c)]([..._0x263539]))['length']}:_0xf446db?(_0x263539['forEach'](_0x1043d8=>this[_0x20d628(0x219)]({'path':(0x0,ce[_0x20d628(0x546)])(this['storePath'],_0x20d628(0x263),_0x1043d8[_0x20d628(0x5ec)]),'fileName':_0x1043d8[_0x20d628(0x4c1)]['id'],'data':_0x1043d8})),{'insertCount':_0x263539[_0x20d628(0x1f4)]}):{'insertCount':0x0};}catch(_0x147a53){return console[_0x20d628(0xea)](_0x20d628(0x4bf),_0x147a53),_0x147a53;}finally{_0x263539=void 0x0;}}},ee=require('fs'),w=T(require('@whiskeysockets/baileys')),_e=require('fs'),Z=T(require('path')),le=T(require(a0_0x444692(0x1bb))),io=require(a0_0x444692(0x592)),ro=T(require('qrcode')),no=T(require(a0_0x444692(0x671))),Ks=[a0_0x444692(0x50a),'documentMessage',a0_0x444692(0x290),a0_0x444692(0x405),a0_0x444692(0x59f)],zs=[a0_0x444692(0x2f6),a0_0x444692(0x5b5),a0_0x444692(0x53f),'viewOnceMessageV2'],co=require('os'),$t=T(require(a0_0x444692(0x1d4))),lo=require(a0_0x444692(0x445)),bs=require('node-mime-types'),Be=require(a0_0x444692(0x16c)),ss=T(require(a0_0x444692(0x16c))),Qs=new v(a0_0x444692(0x100)),F=y[a0_0x444692(0x589)](a0_0x444692(0x253)),R=F[a0_0x444692(0xe3)]?F[a0_0x444692(0x1f6)][a0_0x444692(0x36e)]?ss['default']['createConnection'](F['CONNECTION'][a0_0x444692(0x36e)],{'dbName':F['CONNECTION'][a0_0x444692(0x276)]+a0_0x444692(0x2a3)}):ss['default'][a0_0x444692(0x330)](a0_0x444692(0x119)+F[a0_0x444692(0x1f6)]['HOST']+':'+F['CONNECTION'][a0_0x444692(0x250)]+a0_0x444692(0x308),{'user':F[a0_0x444692(0x1f6)][a0_0x444692(0xd6)],'pass':F[a0_0x444692(0x1f6)][a0_0x444692(0x2d1)],'dbName':F[a0_0x444692(0x1f6)][a0_0x444692(0x276)]+a0_0x444692(0x2a3)}):null;F[a0_0x444692(0xe3)]&&Qs[a0_0x444692(0x5e0)](a0_0x444692(0x354)+R['$dbName']);async function Go(){const _0x3d5dc5=a0_0x444692;await I[_0x3d5dc5(0x418)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await I['updateMany']({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await I[_0x3d5dc5(0x418)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}function a0_0x3772(_0x3c7ff3,_0x27956b){const _0x224250=a0_0x2242();return a0_0x3772=function(_0x3772ab,_0x254e9f){_0x3772ab=_0x3772ab-0xd6;let _0x33cfe0=_0x224250[_0x3772ab];return _0x33cfe0;},a0_0x3772(_0x3c7ff3,_0x27956b);}R?.['on'](a0_0x444692(0x4e5),()=>{const _0xda0a62=a0_0x444692;I&&Go()[_0xda0a62(0x50e)](_0x971d2e=>Qs[_0xda0a62(0x307)](_0xda0a62(0x2d2)+_0x971d2e));});var as=class{},qo=new Be[(a0_0x444692(0x202))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new Be[(a0_0x444692(0x202))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Wo=new Be[(a0_0x444692(0x202))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'contactname':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number},'unreadcount':{'type':Number},'lastcache':{'type':Number},'leadInfo':{'type':Jo,'default':{}},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),I=R?.[a0_0x444692(0x156)](as[a0_0x444692(0x33d)],Wo,'chats'),Ys=require(a0_0x444692(0x16c)),os=class{},Ho=new Ys[(a0_0x444692(0x202))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=R?.[a0_0x444692(0x156)](os[a0_0x444692(0x33d)],Ho,a0_0x444692(0x534)),P=require('mongoose'),Xs=new P[(a0_0x444692(0x202))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new P[(a0_0x444692(0x202))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ko=new P[(a0_0x444692(0x202))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x444692(0x5cf)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new P['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ea=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),zo=new P[(a0_0x444692(0x202))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new P[(a0_0x444692(0x202))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ko},'apirequest':ea,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new P[(a0_0x444692(0x202))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new P[(a0_0x444692(0x202))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},aa=new P[(a0_0x444692(0x202))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x2fe3cf=a0_0x444692;return _0x2fe3cf(0x279)+Math[_0x2fe3cf(0x67b)]()[_0x2fe3cf(0x414)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]}});aa[a0_0x444692(0x4db)](a0_0x444692(0x541),function(_0x4dae7e){const _0x3711dc=a0_0x444692;let _0xd09a4f=new Set(),_0x2a0636=new Set(this[_0x3711dc(0x309)]?.[_0x3711dc(0x328)](_0x1d11fa=>_0x1d11fa['name'])),_0x2e7c14=JSON[_0x3711dc(0x343)](this),_0xd329de=/{{(?!_)([^}]*)}}/g,_0x5ce945;for(;(_0x5ce945=_0xd329de['exec'](_0x2e7c14))!==null;)_0x2a0636[_0x3711dc(0x1c9)](_0x5ce945[0x1])||_0xd09a4f[_0x3711dc(0x234)](_0x5ce945[0x1]);_0xd09a4f[_0x3711dc(0x147)]>0x0?(console[_0x3711dc(0x596)](_0x3711dc(0x367),Array[_0x3711dc(0x193)](_0xd09a4f)),this['variablesNotFound']=Array[_0x3711dc(0x193)](_0xd09a4f)):this[_0x3711dc(0x114)]=[],_0x4dae7e();});var D=R?.['model'](rs['name'],aa,a0_0x444692(0x11d)),Qo=new P[(a0_0x444692(0x202))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastBlockId':{'type':String},'blockLogs':[zo]},{'_id':!0x1}),ns=class{},Yo=new P[(a0_0x444692(0x202))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x444692(0x360)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[is],'default':[]}}),G=R?.['model'](ns[a0_0x444692(0x33d)],Yo,a0_0x444692(0x16a)),cs=class{},Xo=new P[(a0_0x444692(0x202))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Zo=new P[(a0_0x444692(0x202))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x444692(0x2df)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),k=R?.[a0_0x444692(0x156)](cs[a0_0x444692(0x33d)],Zo,a0_0x444692(0x311)),ls=class{},ei=new P[(a0_0x444692(0x202))]({'name':{'type':String},'requests':[ea],'owner':{'type':String}}),Wr=R?.[a0_0x444692(0x156)](ls[a0_0x444692(0x33d)],ei,a0_0x444692(0x1d9)),us=class{},ti=new P['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),si=new P[(a0_0x444692(0x202))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x444692(0x493)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),ai=new P[(a0_0x444692(0x202))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),oi=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ai]},'customFields':{'type':[ti]},'flowConfig':{'type':si,'default':{}}}),ae=R?.[a0_0x444692(0x156)](us[a0_0x444692(0x33d)],oi,a0_0x444692(0x5a2)),ye=T(require(a0_0x444692(0x16c))),uo=T(require(a0_0x444692(0x64e))),po=require(a0_0x444692(0x66e)),mo=require(a0_0x444692(0x22d)),x=require(a0_0x444692(0x196)),he=class{constructor(_0x217b84,_0xf1f46a,_0x796f5e){const _0x3f98e7=a0_0x444692;this[_0x3f98e7(0x408)]=_0x217b84,this[_0x3f98e7(0x461)]=_0xf1f46a,this['name']=_0x796f5e;}},Ge=class{},ve=class{},qe=class{},Je=class{},fe=class{},We=class{},He=class{},Ke=class{},ze=class{},Dt=T(require('express')),oa=require('fs'),ia=require(a0_0x444692(0x51a));async function Qe(_0x236e8f){const _0x2ae279=a0_0x444692;let _0x20653d=B[_0x2ae279(0x21c)][_0x236e8f];if(F['ENABLED']){let _0x2f0be7=R[_0x2ae279(0x3e4)]()['db'](F[_0x2ae279(0x1f6)][_0x2ae279(0x276)]+'-instances')[_0x2ae279(0x457)](_0x236e8f);return _0x20653d||(await _0x2f0be7[_0x2ae279(0x235)]({})[_0x2ae279(0x356)]())['length']>0x0;}return _0x20653d||(0x0,oa[_0x2ae279(0x2ff)])((0x0,ia[_0x2ae279(0x546)])(V,_0x236e8f));}async function ps(_0xff1549,_0x2d1d94,_0xbd281f){const _0x55da67=a0_0x444692;if(_0xff1549[_0x55da67(0x642)][_0x55da67(0x48d)](_0x55da67(0x439))||_0xff1549['originalUrl'][_0x55da67(0x48d)](_0x55da67(0x4cd))||_0xff1549[_0x55da67(0x642)][_0x55da67(0x48d)]('/exit'))return _0xbd281f();let _0xd6e55d=_0xff1549[_0x55da67(0x578)];if(!_0xd6e55d?.['instanceName'])throw new m('instanceName\x20not\x20provided.');if(!await Qe(_0xd6e55d[_0x55da67(0x2dc)]))throw new L(_0x55da67(0x52c)+_0xd6e55d[_0x55da67(0x2dc)]+_0x55da67(0x43b));_0xbd281f();}async function ra(_0x23a0bc,_0x47a6a4,_0x372746){const _0x3041c9=a0_0x444692;if(_0x23a0bc['originalUrl']['includes'](_0x3041c9(0x439))){let _0x411307=_0x23a0bc[_0x3041c9(0x285)];if(await Qe(_0x411307[_0x3041c9(0x2dc)]))throw new oe('This\x20name\x20'+_0x411307[_0x3041c9(0x2dc)]+_0x3041c9(0x645));B[_0x3041c9(0x21c)][_0x411307[_0x3041c9(0x2dc)]]&&delete B[_0x3041c9(0x21c)][_0x411307[_0x3041c9(0x2dc)]];}_0x372746();}var na=require('class-validator'),ca=T(require(a0_0x444692(0x399))),Ye=a0_0x444692(0x244),ri=new v(a0_0x444692(0x547));async function ni(_0x2c462c,_0x3d8a20,_0x453450){const _0x26a37e=a0_0x444692;let _0x190066=_0x2c462c[_0x26a37e(0x589)](_0x26a37e(0x479));if(_0x190066&&y[_0x26a37e(0x589)]('AUTHENTICATION')[_0x26a37e(0x30c)][_0x26a37e(0x649)]!==_0x190066)throw new ie();if(y[_0x26a37e(0x589)]('AUTHENTICATION')[_0x26a37e(0x30c)][_0x26a37e(0x649)]===_0x190066)return _0x453450();if((_0x2c462c['originalUrl'][_0x26a37e(0x48d)](_0x26a37e(0x439))||_0x2c462c[_0x26a37e(0x642)][_0x26a37e(0x48d)](_0x26a37e(0x4cd)))&&!_0x190066)throw new oe(_0x26a37e(0x33b),_0x26a37e(0x5f6));let _0x554435=y['get'](_0x26a37e(0x4ff))[_0x26a37e(0x52b)];try{let [_0x393a8f,_0x721df2]=_0x2c462c[_0x26a37e(0x589)](_0x26a37e(0x2a4))[_0x26a37e(0x1b4)]('\x20');if(_0x393a8f[_0x26a37e(0x171)]()!==_0x26a37e(0x66c))throw new ie();if(!(0x0,na[_0x26a37e(0x619)])(_0x721df2))throw new ie();let _0xa09278=_0x2c462c[_0x26a37e(0x578)],_0x16333d=ca[_0x26a37e(0x331)][_0x26a37e(0x57d)](_0x721df2,_0x554435[_0x26a37e(0x67c)],{'ignoreExpiration':_0x554435[_0x26a37e(0x59e)]===0x0});if(_0xa09278[_0x26a37e(0x2dc)]!==_0x16333d[_0x26a37e(0x2dc)]||Ye!==_0x16333d[_0x26a37e(0x402)])throw new ie();return _0x453450();}catch(_0x229491){throw ri[_0x26a37e(0x307)](_0x229491),new ie();}}async function ci(_0x541ccd,_0x3bfdde,_0x467814){const _0x163cba=a0_0x444692;let _0x2a2f68=y[_0x163cba(0x589)](_0x163cba(0x4ff))[_0x163cba(0x30c)],_0x2ad806=_0x541ccd[_0x163cba(0x589)](_0x163cba(0x479));if(_0x2a2f68['KEY']===_0x2ad806)return _0x467814();if(_0x541ccd[_0x163cba(0x642)][_0x163cba(0x48d)]('/instance/create')){let _0x55949b=y['get'](_0x163cba(0x1c7)),_0x4b40fd=_0x541ccd[_0x163cba(0x285)]['instanceName'];if(_0x55949b&&_0x4b40fd[_0x163cba(0x171)]()[_0x163cba(0x40e)](_0x55949b['toLowerCase']()))return _0x467814();if(!_0x2ad806)throw new oe(_0x163cba(0x33b),_0x163cba(0x5f6));}if(_0x541ccd[_0x163cba(0x642)]['includes']('/instance/fetchInstances')&&!_0x2ad806)throw new oe(_0x163cba(0x33b),_0x163cba(0x5f6));if(_0x541ccd[_0x163cba(0x642)]['includes'](_0x163cba(0x597))&&!_0x2ad806)throw new oe(_0x163cba(0x33b),_0x163cba(0x5f6));try{let _0x143d33=_0x541ccd['params'];if((await ue[_0x163cba(0x34e)]['find'](_0x143d33[_0x163cba(0x2dc)]))[_0x163cba(0x479)]===_0x2ad806)return _0x467814();}catch{}throw new ie();}var la={'jwt':ni,'apikey':ci},Ga=require('express'),N=require(a0_0x444692(0x592)),S=(..._0x445821)=>{const _0x13ba84=a0_0x444692;let _0x26dd76={};return _0x445821[_0x13ba84(0x58d)](_0xb035e1=>_0x26dd76[_0xb035e1]={'minLength':0x1,'description':_0x13ba84(0x2b0)+_0xb035e1+_0x13ba84(0x44c)}),{'if':{'propertyNames':{'enum':[..._0x445821]}},'then':{'properties':_0x26dd76}};},C={'$id':(0x0,N['v4'])(),'type':'object','properties':{'instanceName':{'type':'string'}},...S(a0_0x444692(0x2dc))},ua={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'oldToken':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x403)],...S(a0_0x444692(0x403))},ln={'properties':{'key':{'type':a0_0x444692(0x66b),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x444692(0x53a)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x444692(0x278),a0_0x444692(0x569)],...S('id',a0_0x444692(0x278))},'message':{'type':a0_0x444692(0x66b)}}},Q={'properties':{'delay':{'type':a0_0x444692(0x455),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x65b),'available',a0_0x444692(0x524),'recording',a0_0x444692(0x249)]}}},re={'type':a0_0x444692(0x53a),'pattern':a0_0x444692(0x516),'description':a0_0x444692(0x2b9)},da={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x36d)],...S(a0_0x444692(0x36d))}},'required':[a0_0x444692(0x5ca),a0_0x444692(0x44b)]},pa={'type':a0_0x444692(0x53a),'pattern':a0_0x444692(0x412),'description':a0_0x444692(0x2b9)},un={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...pa},'options':{...Q},'textMessage':{'type':a0_0x444692(0x66b),'properties':{'text':{'type':'string'}},'required':['text'],...S(a0_0x444692(0x36d))}},'required':['textMessage',a0_0x444692(0x44b)]},dn={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'number':{...pa},'options':{...Q},'mediaMessage':{'type':a0_0x444692(0x66b),'properties':{'mediatype':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x40d),a0_0x444692(0x431),'video',a0_0x444692(0x3ec)]},'media':{'type':a0_0x444692(0x53a)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x444692(0x26a),a0_0x444692(0x2eb)],...S(a0_0x444692(0x29b),a0_0x444692(0x4c2),a0_0x444692(0x2eb))}},'required':['mediaMessage',a0_0x444692(0x44b)]},ma={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'number':{...re},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x40d)],...S('image')}},'required':[a0_0x444692(0x59f),a0_0x444692(0x44b)]},ga={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'statusMessage':{'type':a0_0x444692(0x66b),'properties':{'type':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x36d),'image',a0_0x444692(0x3ec),a0_0x444692(0x411)]},'content':{'type':a0_0x444692(0x53a)},'caption':{'type':a0_0x444692(0x53a)},'backgroundColor':{'type':a0_0x444692(0x53a)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x444692(0x47e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]}},'required':['type',a0_0x444692(0x444)],...S(a0_0x444692(0x2fe),a0_0x444692(0x444))}},'required':[a0_0x444692(0xf6)]},ha={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'mediaMessage':{'type':a0_0x444692(0x66b),'properties':{'mediatype':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x40d),a0_0x444692(0x431),a0_0x444692(0x411),'audio']},'media':{'type':a0_0x444692(0x53a)},'fileName':{'type':a0_0x444692(0x53a)},'caption':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x26a),'media'],...S(a0_0x444692(0x29b),'caption','media')}},'required':[a0_0x444692(0x521),'number']},fa={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'number':{...re},'options':{...Q},'audioMessage':{'type':a0_0x444692(0x66b),'properties':{'audio':{'type':'string'}},'required':[a0_0x444692(0x3ec)],...S(a0_0x444692(0x3ec))}},'required':[a0_0x444692(0x290),'number']},wa={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'pollMessage':{'type':a0_0x444692(0x66b),'properties':{'name':{'type':a0_0x444692(0x53a)},'selectableCount':{'type':a0_0x444692(0x44b)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x444692(0x425),a0_0x444692(0x432)],...S(a0_0x444692(0x33d),a0_0x444692(0x425),'values')}},'required':['number',a0_0x444692(0x54c)]},ya={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'buttonMessage':{'type':a0_0x444692(0x66b),'properties':{'title':{'type':a0_0x444692(0x53a)},'description':{'type':a0_0x444692(0x53a)},'footerText':{'type':a0_0x444692(0x53a)},'buttons':{'type':a0_0x444692(0x47e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x444692(0x1f8),a0_0x444692(0x5ac)],...S(a0_0x444692(0x1f8),a0_0x444692(0x5ac))}},'mediaMessage':{'type':a0_0x444692(0x66b),'properties':{'media':{'type':a0_0x444692(0x53a)},'fileName':{'type':a0_0x444692(0x53a)},'mediatype':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x40d),a0_0x444692(0x431),a0_0x444692(0x411)]}},'required':['media',a0_0x444692(0x26a)],...S(a0_0x444692(0x2eb),a0_0x444692(0x29b))}},'required':['title',a0_0x444692(0x498)],...S('title',a0_0x444692(0x529))}},'required':[a0_0x444692(0x44b),a0_0x444692(0x269)]},ba={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'number':{...re},'options':{...Q},'locationMessage':{'type':a0_0x444692(0x66b),'properties':{'latitude':{'type':a0_0x444692(0x44b)},'longitude':{'type':a0_0x444692(0x44b)},'name':{'type':'string'},'address':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x255),a0_0x444692(0x4ae)],...S(a0_0x444692(0x33d),'addresss')}},'required':[a0_0x444692(0x44b),a0_0x444692(0x454)]},Sa={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'number':{...re},'options':{...Q},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x444692(0x53a)},'description':{'type':a0_0x444692(0x53a)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x444692(0x47e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x444692(0x66b),'properties':{'title':{'type':a0_0x444692(0x53a)},'rows':{'type':a0_0x444692(0x47e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x444692(0x66b),'properties':{'title':{'type':'string'},'description':{'type':a0_0x444692(0x53a)},'rowId':{'type':'string'}},'required':[a0_0x444692(0x5e3),a0_0x444692(0x529),a0_0x444692(0x5b3)],...S(a0_0x444692(0x5e3),a0_0x444692(0x529),a0_0x444692(0x5b3))}}},'required':['title',a0_0x444692(0x4c5)],...S(a0_0x444692(0x5e3))}}},'required':['title','description',a0_0x444692(0x1f8),'sections'],...S(a0_0x444692(0x5e3),'description',a0_0x444692(0x1f8),a0_0x444692(0x359))}},'required':[a0_0x444692(0x44b),a0_0x444692(0x2bb)]},Ea={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'number':{...re},'options':{...Q},'contactMessage':{'type':a0_0x444692(0x47e),'items':{'type':a0_0x444692(0x66b),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x444692(0x53a),'minLength':0xa}},'required':[a0_0x444692(0x5ab),a0_0x444692(0x614)],...S(a0_0x444692(0x5ab))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x444692(0x44b),'contactMessage']},Na={'$id':(0x0,N['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x444692(0x66b),'properties':{'key':{'type':a0_0x444692(0x66b),'properties':{'id':{'type':a0_0x444692(0x53a)},'remoteJid':{'type':a0_0x444692(0x53a)},'fromMe':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]}},'required':['id',a0_0x444692(0x278),a0_0x444692(0x569)],...S('id',a0_0x444692(0x278))},'reaction':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x4c1),a0_0x444692(0x1c8)],...S(a0_0x444692(0x1c8))}},'required':['reactionMessage']},Ca={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'numbers':{'type':a0_0x444692(0x47e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x444692(0x3ca)}}}},va={'$id':(0x0,N['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x444692(0x47e),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x444692(0x53a)},'fromMe':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x444692(0x53a)}},'required':['id',a0_0x444692(0x569),a0_0x444692(0x278)],...S('id',a0_0x444692(0x278))}}},'required':['readMessages']},Ta={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'privacySettings':{'type':a0_0x444692(0x66b),'properties':{'readreceipts':{'type':a0_0x444692(0x53a),'enum':['all',a0_0x444692(0x4d0)]},'profile':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x5d9),a0_0x444692(0x534),a0_0x444692(0x676),a0_0x444692(0x4d0)]},'status':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x5d9),a0_0x444692(0x534),a0_0x444692(0x676),a0_0x444692(0x4d0)]},'online':{'type':a0_0x444692(0x53a),'enum':['all',a0_0x444692(0x400)]},'last':{'type':a0_0x444692(0x53a),'enum':['all','contacts',a0_0x444692(0x676),a0_0x444692(0x4d0)]},'groupadd':{'type':a0_0x444692(0x53a),'enum':['all',a0_0x444692(0x534),'contact_blacklist',a0_0x444692(0x4d0)]}},'required':['readreceipts',a0_0x444692(0x46e),a0_0x444692(0x475),'online',a0_0x444692(0x629),a0_0x444692(0x522)],...S(a0_0x444692(0x52e),a0_0x444692(0x46e),a0_0x444692(0x475),'online',a0_0x444692(0x629),a0_0x444692(0x522))}},'required':['privacySettings']},Ra={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'lastMessage':{'type':a0_0x444692(0x66b),'properties':{'key':{'type':a0_0x444692(0x66b),'properties':{'id':{'type':a0_0x444692(0x53a)},'remoteJid':{'type':a0_0x444692(0x53a)},'fromMe':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]}},'required':['id',a0_0x444692(0x569),a0_0x444692(0x278)],...S('id',a0_0x444692(0x278))},'messageTimestamp':{'type':a0_0x444692(0x455),'minLength':0x1}},'required':[a0_0x444692(0x4c1)],...S(a0_0x444692(0x471))},'archive':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]}},'required':[a0_0x444692(0x325),a0_0x444692(0x29f)]},Ma={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'id':{'type':a0_0x444692(0x53a)},'fromMe':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x444692(0x53a)},'participant':{'type':'string'}},'required':['id',a0_0x444692(0x569),a0_0x444692(0x278)],...S('id',a0_0x444692(0x278),'participant')},Aa={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'where':{'type':a0_0x444692(0x66b),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x444692(0x53a),'minLength':0x1}},...S('_id','id',a0_0x444692(0x14d))}}},Ia={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'name':{'type':a0_0x444692(0x53a)}},...S(a0_0x444692(0x33d))},Da={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'status':{'type':'string'}},...S('status')},Te={'$id':(0x0,N['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':a0_0x444692(0x53a)}}},Pa={'type':a0_0x444692(0x66b),'properties':{'wuid':{'type':a0_0x444692(0x53a)},'name':{'type':a0_0x444692(0x53a)},'picture':{'type':a0_0x444692(0x53a)},'status':{'type':'string'},'isBusiness':{'type':'boolean'}}},Oa={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x444692(0x53a),'minLength':0x1},'key':{'type':a0_0x444692(0x66b),'if':{'propertyNames':{'enum':[a0_0x444692(0x569),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x444692(0x57a)},'id':{'type':a0_0x444692(0x53a),'minLength':0x1,'description':a0_0x444692(0x57a)},'fromMe':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S(a0_0x444692(0x65d))},'limit':{'type':a0_0x444692(0x455)}}},_a={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x444692(0x53a)},'id':{'type':a0_0x444692(0x53a)},'fromMe':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x4b0),a0_0x444692(0x223),a0_0x444692(0x5d4),a0_0x444692(0x40a),a0_0x444692(0x550),a0_0x444692(0x319)]}},...S('_id',a0_0x444692(0x278),'id',a0_0x444692(0x475))},'limit':{'type':a0_0x444692(0x455)}}},xa={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'subject':{'type':a0_0x444692(0x53a)},'description':{'type':a0_0x444692(0x53a)},'profilePicture':{'type':a0_0x444692(0x53a)},'participants':{'type':a0_0x444692(0x47e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x444692(0x53a),'minLength':0xa,'pattern':a0_0x444692(0x37e),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x444692(0x2d9),a0_0x444692(0x5b8)],...S(a0_0x444692(0x2d9),a0_0x444692(0x529),'profilePicture')},Re={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'groupJid':{'type':a0_0x444692(0x53a),'pattern':a0_0x444692(0x57b)}},'required':[a0_0x444692(0x540)],...S('groupJid')},$a={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'groupJid':{'type':a0_0x444692(0x53a)},'action':{'type':'string','enum':[a0_0x444692(0x234),a0_0x444692(0x1e5),a0_0x444692(0x30d),a0_0x444692(0x50d)]},'participants':{'type':a0_0x444692(0x47e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x444692(0x53a),'minLength':0xa,'pattern':a0_0x444692(0x37e),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['groupJid','action',a0_0x444692(0x5b8)],...S(a0_0x444692(0x540),a0_0x444692(0x511))},ka={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'groupJid':{'type':a0_0x444692(0x53a)},'expiration':{'type':a0_0x444692(0x44b),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x444692(0x540),a0_0x444692(0x4fb)],...S(a0_0x444692(0x540),'expiration')},La={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'groupJid':{'type':a0_0x444692(0x53a)},'image':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x540),a0_0x444692(0x40d)],...S(a0_0x444692(0x540),a0_0x444692(0x40d))},Ua={'$id':(0x0,N['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x444692(0x53a)},'description':{'type':'string'}},'required':[a0_0x444692(0x540),a0_0x444692(0x529)],...S(a0_0x444692(0x540),'description')},Va={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x540),a0_0x444692(0x33d)],...S(a0_0x444692(0x540),a0_0x444692(0x33d))},ja={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'groupJid':{'type':a0_0x444692(0x53a)},'setting':{'type':a0_0x444692(0x53a),'enum':[a0_0x444692(0x391),a0_0x444692(0x122),'unlocked',a0_0x444692(0x227)]}},'required':[a0_0x444692(0x540),'setting'],...S(a0_0x444692(0x540),'setting')},Ba={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'inviteCode':{'type':a0_0x444692(0x53a)}},'required':[a0_0x444692(0x67a)],...S(a0_0x444692(0x67a))},Fa={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]}},'required':[a0_0x444692(0x3eb),a0_0x444692(0x13e)]},pn={'$id':(0x0,N['v4'])(),'type':a0_0x444692(0x66b),'properties':{'local_map':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x444692(0x536),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x444692(0x1f7),a0_0x444692(0x384),a0_0x444692(0x4a5),'MESSAGES_SET',a0_0x444692(0x2fb),a0_0x444692(0x5f9),'SEND_MESSAGE','CONTACTS_SET',a0_0x444692(0x13f),a0_0x444692(0x680),'PRESENCE_UPDATE','CHATS_SET','CHATS_UPSERT',a0_0x444692(0x37d),'CHATS_DELETE',a0_0x444692(0x599),a0_0x444692(0x525),a0_0x444692(0x3a5),a0_0x444692(0x199)],...S(a0_0x444692(0x1f7),a0_0x444692(0x384),a0_0x444692(0x4a5),a0_0x444692(0x21a),a0_0x444692(0x2fb),a0_0x444692(0x5f9),a0_0x444692(0x149),a0_0x444692(0x637),a0_0x444692(0x13f),'CONTACTS_UPDATE',a0_0x444692(0x25e),a0_0x444692(0x59a),a0_0x444692(0x4a8),a0_0x444692(0x37d),a0_0x444692(0x53d),a0_0x444692(0x599),a0_0x444692(0x525),a0_0x444692(0x3a5),'GROUP_PARTICIPANTS_UPDATE')},Ae=require('fs'),Me=require('path'),Xe=class{},Ze=class extends j{constructor(_0x461c5a,_0x1fdee3){const _0x4bb8d8=a0_0x444692;super(_0x1fdee3),this[_0x4bb8d8(0x5db)]=_0x461c5a,this[_0x4bb8d8(0x56e)]=_0x1fdee3;}async['insert'](_0x180afd,_0x395e2f=!0x1){const _0x1ae837=a0_0x444692;if(_0x180afd['length']!==0x0)try{return this[_0x1ae837(0x28c)]['ENABLED']&&_0x395e2f?{'insertCount':(await this[_0x1ae837(0x5db)]['insertMany']([..._0x180afd]))['length']}:(_0x180afd[_0x1ae837(0x58d)](_0xa7e66c=>{const _0x2996a7=_0x1ae837;this['writeStore']({'path':(0x0,Me[_0x2996a7(0x546)])(this[_0x2996a7(0x30b)],_0x2996a7(0x534),_0xa7e66c[_0x2996a7(0x5ec)]),'fileName':_0xa7e66c['id'],'data':_0xa7e66c});}),{'insertCount':_0x180afd[_0x1ae837(0x1f4)]});}catch(_0xd0b889){return _0xd0b889;}finally{_0x180afd=void 0x0;}}async[a0_0x444692(0xe7)](_0x231f1f){const _0x5081a0=a0_0x444692;try{return this['dbSettings']['ENABLED']?await this['contactModel'][_0x5081a0(0x510)]({..._0x231f1f[_0x5081a0(0x427)]}):{'deleted':{'contact':_0x231f1f[_0x5081a0(0x427)]['id']}};}catch(_0x52671a){return{'error':_0x52671a?.['toString']()};}}async[a0_0x444692(0xeb)](_0x3af01b,_0x31338e=!0x1){const _0x494614=a0_0x444692;try{if(_0x3af01b[_0x494614(0x1f4)]===0x0)return;if(this['dbSettings'][_0x494614(0xe3)]&&_0x31338e){let _0x5037ac=_0x3af01b[_0x494614(0x328)](_0x402558=>({'updateOne':{'filter':{'id':_0x402558['id']},'update':{..._0x402558},'upsert':!0x0}})),{nModified:_0x420463}=await this[_0x494614(0x5db)][_0x494614(0x49b)](_0x5037ac);return{'insertCount':_0x420463};}}catch{return;}}async[a0_0x444692(0x235)](_0x4b5251){const _0x147c7c=a0_0x444692;try{if(this[_0x147c7c(0x28c)][_0x147c7c(0xe3)])return await this['contactModel'][_0x147c7c(0x235)]({..._0x4b5251[_0x147c7c(0x427)]});let _0x5b5a20=[];if(_0x4b5251?.[_0x147c7c(0x427)]?.['id'])_0x5b5a20['push'](JSON['parse']((0x0,Ae[_0x147c7c(0x480)])((0x0,Me[_0x147c7c(0x546)])(this['storePath'],'contacts',_0x4b5251[_0x147c7c(0x427)]['owner'],_0x4b5251[_0x147c7c(0x427)]['id']+'.json'),{'encoding':_0x147c7c(0x30e)})));else{let _0xe636b0=(0x0,Ae[_0x147c7c(0x2a5)])((0x0,Me['join'])(this[_0x147c7c(0x30b)],_0x147c7c(0x534),_0x4b5251['where'][_0x147c7c(0x5ec)]),{'encoding':_0x147c7c(0x30e)});for await(let _0xb115ff of _0xe636b0)_0xb115ff[_0x147c7c(0x315)]()&&_0x5b5a20[_0x147c7c(0x370)](JSON[_0x147c7c(0x3fc)]((0x0,Ae[_0x147c7c(0x480)])((0x0,Me[_0x147c7c(0x546)])(this[_0x147c7c(0x30b)],'contacts',_0x4b5251['where']['owner'],_0xb115ff[_0x147c7c(0x33d)]),{'encoding':_0x147c7c(0x30e)})));}return _0x5b5a20;}catch{return[];}}},et=require(a0_0x444692(0x5a0)),yn=require(a0_0x444692(0x218)),ms=new v('Validate'),_=class{constructor(){}[a0_0x444692(0x47a)](_0x219100,_0x25d118=!0x0){const _0x44d379=a0_0x444692;let _0x279f36='/'+_0x219100;return _0x25d118&&(_0x279f36+=_0x44d379(0x3e0)),_0x279f36;}async[a0_0x444692(0x433)](_0xda7b6f){const _0x22dc79=a0_0x444692;let {request:_0x5c931c,schema:_0xc29c53,ClassRef:_0x331bd7,execute:_0x4baa8d}=_0xda7b6f,_0x33738f=new _0x331bd7(),_0x11a79f=_0x5c931c[_0x22dc79(0x285)],_0x2d6930=_0x5c931c[_0x22dc79(0x578)];_0x5c931c?.['query']&&Object[_0x22dc79(0x182)](_0x5c931c[_0x22dc79(0x472)])[_0x22dc79(0x1f4)]>0x0&&Object['assign'](_0x2d6930,_0x5c931c[_0x22dc79(0x472)]),_0x5c931c[_0x22dc79(0x642)][_0x22dc79(0x48d)](_0x22dc79(0x439))&&Object[_0x22dc79(0x136)](_0x2d6930,_0x11a79f),Object[_0x22dc79(0x136)](_0x33738f,_0x11a79f);let _0x2f02e4=_0xc29c53?(0x0,et[_0x22dc79(0x562)])(_0x33738f,_0xc29c53):{'valid':!0x0,'errors':[]};if(!_0x2f02e4[_0x22dc79(0x155)]){let _0x177d5e=_0x2f02e4[_0x22dc79(0x299)][_0x22dc79(0x328)](({property:_0x25795c,stack:_0x123ae2,schema:_0x3b05e8})=>{const _0x4951fd=_0x22dc79;let _0x319bc3;return _0x3b05e8[_0x4951fd(0x529)]?_0x319bc3=_0x3b05e8['description']:_0x319bc3=_0x123ae2[_0x4951fd(0x667)](_0x4951fd(0x1b8),''),{'property':_0x25795c[_0x4951fd(0x667)](_0x4951fd(0x1b8),''),'message':_0x319bc3};});throw ms[_0x22dc79(0x307)]([..._0x177d5e]),new m(..._0x177d5e);}return await _0x4baa8d(_0x2d6930,_0x33738f);}async[a0_0x444692(0xd7)](_0x56836c){const _0x1423f2=a0_0x444692;let {request:_0x1b4a91,ClassRef:_0x3a982c,schema:_0x261ad0,execute:_0x18f6e7}=_0x56836c,_0x53c6b3=_0x1b4a91['query'];if(!_0x53c6b3?.[_0x1423f2(0x540)])throw new m(_0x1423f2(0x2c7),_0x1423f2(0x613));let _0x493040=_0x1b4a91[_0x1423f2(0x578)],_0x2d9f9a=_0x1b4a91[_0x1423f2(0x285)],_0x32ce01=new _0x3a982c();Object[_0x1423f2(0x136)](_0x2d9f9a,_0x53c6b3),Object[_0x1423f2(0x136)](_0x32ce01,_0x2d9f9a);let _0x7f5d72=(0x0,et['validate'])(_0x32ce01,_0x261ad0);if(!_0x7f5d72['valid']){let _0x2ad168=_0x7f5d72[_0x1423f2(0x299)][_0x1423f2(0x328)](({property:_0x11ce8b,stack:_0x18156b,schema:_0x4a732d})=>{const _0x125a85=_0x1423f2;let _0x21029c;return _0x4a732d[_0x125a85(0x529)]?_0x21029c=_0x4a732d['description']:_0x21029c=_0x18156b[_0x125a85(0x667)](_0x125a85(0x1b8),''),{'property':_0x11ce8b[_0x125a85(0x667)]('instance.',''),'message':_0x21029c};});throw ms['error']([..._0x2ad168]),new m(..._0x2ad168);}return await _0x18f6e7(_0x493040,_0x32ce01);}async[a0_0x444692(0x15b)](_0x4bc49e){const _0x58336c=a0_0x444692;let {request:_0xc316c0,ClassRef:_0xd2cc34,schema:_0x277469,execute:_0x28eaa4}=_0x4bc49e,_0x420d9b=_0xc316c0[_0x58336c(0x285)];if(!_0x420d9b?.['inviteCode'])throw new m(_0x58336c(0x460),_0x58336c(0x59c));let _0x577054=_0xc316c0[_0x58336c(0x578)],_0x7820cd=_0xc316c0[_0x58336c(0x285)],_0xc55bf9=new _0xd2cc34();Object[_0x58336c(0x136)](_0x7820cd,_0x420d9b),Object[_0x58336c(0x136)](_0xc55bf9,_0x7820cd);let _0x4f28f2=(0x0,et[_0x58336c(0x562)])(_0xc55bf9,_0x277469);if(!_0x4f28f2[_0x58336c(0x155)]){let _0x4c88db=_0x4f28f2[_0x58336c(0x299)][_0x58336c(0x328)](({property:_0x3b4957,stack:_0x183e7a,schema:_0x37a506})=>{const _0x3cd863=_0x58336c;let _0x5c23bc;return _0x37a506[_0x3cd863(0x529)]?_0x5c23bc=_0x37a506[_0x3cd863(0x529)]:_0x5c23bc=_0x183e7a['replace'](_0x3cd863(0x1b8),''),{'property':_0x3b4957[_0x3cd863(0x667)](_0x3cd863(0x1b8),''),'message':_0x5c23bc};});throw ms[_0x58336c(0x307)]([..._0x4c88db]),new m(..._0x4c88db);}return await _0x28eaa4(_0x577054,_0xc55bf9);}},Ie=require(a0_0x444692(0x51a)),De=require('fs'),tt=class{},st=class extends j{constructor(_0x4232b1,_0x461f10){const _0x336b34=a0_0x444692;super(_0x461f10),this[_0x336b34(0x13b)]=_0x4232b1,this[_0x336b34(0x56e)]=_0x461f10;}async[a0_0x444692(0x54b)](_0xc78ae,_0x44a35a){const _0x33166b=a0_0x444692;if(_0xc78ae['length']!==0x0)try{if(this['dbSettings'][_0x33166b(0xe3)]&&_0x44a35a)return{'insertCount':(await this[_0x33166b(0x13b)][_0x33166b(0x51c)]([..._0xc78ae]))['length']};_0xc78ae['forEach'](_0x41aef4=>{const _0x2f5a5d=_0x33166b;this[_0x2f5a5d(0x219)]({'path':(0x0,Ie[_0x2f5a5d(0x546)])(this[_0x2f5a5d(0x30b)],'message-up',_0x41aef4[_0x2f5a5d(0x5ec)]),'fileName':_0x41aef4['id'],'data':_0x41aef4});});}catch(_0x45959e){return _0x45959e;}}async[a0_0x444692(0x235)](_0x2d3938){const _0x290e92=a0_0x444692;try{if(this[_0x290e92(0x28c)]['ENABLED'])return await this[_0x290e92(0x13b)][_0x290e92(0x235)]({..._0x2d3938[_0x290e92(0x427)]})[_0x290e92(0x298)]({'datetime':-0x1})[_0x290e92(0x3d8)](_0x2d3938?.[_0x290e92(0x3d8)]??0x0);let _0x25cc73=[];if(_0x2d3938?.[_0x290e92(0x427)]?.['id'])_0x25cc73[_0x290e92(0x370)](JSON[_0x290e92(0x3fc)]((0x0,De['readFileSync'])((0x0,Ie[_0x290e92(0x546)])(this['storePath'],_0x290e92(0x369),_0x2d3938[_0x290e92(0x427)][_0x290e92(0x5ec)],_0x2d3938[_0x290e92(0x427)]['id']+_0x290e92(0x3b7)),{'encoding':_0x290e92(0x30e)})));else{let _0x26b04a=(0x0,De[_0x290e92(0x2a5)])((0x0,Ie[_0x290e92(0x546)])(this[_0x290e92(0x30b)],_0x290e92(0x369),_0x2d3938[_0x290e92(0x427)][_0x290e92(0x5ec)]),{'encoding':'utf-8'});for await(let _0x28d76a of _0x26b04a)_0x28d76a[_0x290e92(0x315)]()&&_0x25cc73[_0x290e92(0x370)](JSON['parse']((0x0,De[_0x290e92(0x480)])((0x0,Ie[_0x290e92(0x546)])(this[_0x290e92(0x30b)],'message-up',_0x2d3938[_0x290e92(0x427)][_0x290e92(0x5ec)],_0x28d76a[_0x290e92(0x33d)]),{'encoding':'utf-8'})));}return _0x25cc73[_0x290e92(0x298)]((_0x55b26a,_0x12e96c)=>_0x12e96c['datetime']-_0x55b26a[_0x290e92(0x581)])[_0x290e92(0x587)](0x0,_0x2d3938?.['limit']??_0x25cc73[_0x290e92(0x1f4)]);}catch{return[];}}async[a0_0x444692(0xe7)](_0x4419a0){const _0x1e35e2=a0_0x444692;try{if(this['dbSettings']['ENABLED'])return await this[_0x1e35e2(0x13b)][_0x1e35e2(0x510)]({..._0x4419a0[_0x1e35e2(0x427)]});}catch(_0x11695d){return console[_0x1e35e2(0x307)]('Falha\x20ao\x20deletar\x20mensagens:',_0x11695d),_0x11695d;}}},b=class{},at=class extends _{constructor(..._0xc655b1){const _0x29e79d=a0_0x444692;super(),this[_0x29e79d(0x5fe)]=(0x0,Ga['Router'])(),this['router'][_0x29e79d(0x1c5)](this[_0x29e79d(0x47a)](_0x29e79d(0x648)),..._0xc655b1,async(_0x264251,_0x5c6737)=>{const _0x1d04e2=_0x29e79d;let _0x31bf92=await this[_0x1d04e2(0x433)]({'request':_0x264251,'schema':Ca,'ClassRef':Ge,'execute':(_0x478bba,_0x4947fc)=>O['whatsappNumber'](_0x478bba,_0x4947fc)});return _0x5c6737[_0x1d04e2(0x475)](0xc9)['json'](_0x31bf92);})[_0x29e79d(0x1c5)](this[_0x29e79d(0x47a)]('editChat'),..._0xc655b1,async(_0x349eb2,_0x9135cb)=>{const _0x233a58=_0x29e79d;let _0x239095=await this[_0x233a58(0x433)]({'request':_0x349eb2,'schema':C,'ClassRef':b,'execute':(_0x14b8bd,_0x4872db)=>O[_0x233a58(0x456)](_0x14b8bd,_0x4872db)});return _0x9135cb[_0x233a58(0x475)](0xc9)[_0x233a58(0x5c3)](_0x239095);})[_0x29e79d(0x329)](this['routerPath'](_0x29e79d(0x239)),..._0xc655b1,async(_0x1582d1,_0x1b2455)=>{const _0xe9283f=_0x29e79d;let _0x354feb=await this[_0xe9283f(0x433)]({'request':_0x1582d1,'schema':va,'ClassRef':We,'execute':(_0x227628,_0x8715fb)=>O[_0xe9283f(0x205)](_0x227628,_0x8715fb)});return _0x1b2455['status'](0xc9)[_0xe9283f(0x5c3)](_0x354feb);})[_0x29e79d(0x329)](this[_0x29e79d(0x47a)](_0x29e79d(0x396)),..._0xc655b1,async(_0x25e49e,_0x318ec4)=>{const _0x5c5a20=_0x29e79d;let _0x336013=await this[_0x5c5a20(0x433)]({'request':_0x25e49e,'schema':Ra,'ClassRef':He,'execute':(_0x1813f2,_0x445a42)=>O[_0x5c5a20(0x396)](_0x1813f2,_0x445a42)});return _0x318ec4['status'](0xc9)[_0x5c5a20(0x5c3)](_0x336013);})[_0x29e79d(0xe7)](this[_0x29e79d(0x47a)]('deleteMessageForEveryone'),..._0xc655b1,async(_0x4ad627,_0x489bd5)=>{const _0x3c0151=_0x29e79d;let _0x4bfc97=await this[_0x3c0151(0x433)]({'request':_0x4ad627,'schema':Ma,'ClassRef':ze,'execute':(_0x3129a4,_0x1861ab)=>O[_0x3c0151(0x1d0)](_0x3129a4,_0x1861ab)});return _0x489bd5[_0x3c0151(0x475)](0xc9)[_0x3c0151(0x5c3)](_0x4bfc97);})[_0x29e79d(0x1c5)](this[_0x29e79d(0x47a)](_0x29e79d(0x304)),..._0xc655b1,async(_0x42ca30,_0x315835)=>{const _0x5aac3d=_0x29e79d;let _0xdabffd=await this[_0x5aac3d(0x433)]({'request':_0x42ca30,'schema':Te,'ClassRef':ve,'execute':(_0x22cfb5,_0x383bab)=>O['fetchProfilePicture'](_0x22cfb5,_0x383bab)});return _0x315835[_0x5aac3d(0x475)](0xc8)[_0x5aac3d(0x5c3)](_0xdabffd);})[_0x29e79d(0x1c5)](this[_0x29e79d(0x47a)]('fetchProfile'),..._0xc655b1,async(_0x195002,_0x2e3038)=>{const _0x522d6=_0x29e79d;let _0x806fcd=await this[_0x522d6(0x433)]({'request':_0x195002,'schema':Pa,'ClassRef':ve,'execute':(_0x457787,_0x1c8059)=>O[_0x522d6(0xe0)](_0x457787,_0x1c8059)});return _0x2e3038['status'](0xc8)[_0x522d6(0x5c3)](_0x806fcd);})['post'](this[_0x29e79d(0x47a)]('findContacts'),..._0xc655b1,async(_0x1977ad,_0x59ab5c)=>{const _0xc5874d=_0x29e79d;let _0x3edbf3=await this[_0xc5874d(0x433)]({'request':_0x1977ad,'schema':Aa,'ClassRef':Xe,'execute':(_0x2f992c,_0x5eb06e)=>O[_0xc5874d(0x135)](_0x2f992c,_0x5eb06e)});return _0x59ab5c[_0xc5874d(0x475)](0xc8)[_0xc5874d(0x5c3)](_0x3edbf3);})['post'](this[_0x29e79d(0x47a)](_0x29e79d(0x55f)),..._0xc655b1,async(_0x253864,_0x348f3e)=>{const _0x921b69=_0x29e79d;let _0x1d67a5=await this['dataValidate']({'request':_0x253864,'schema':null,'ClassRef':Object,'execute':(_0x1d0eb4,_0x45cde6)=>O['getBase64FromMediaMessage'](_0x1d0eb4,_0x45cde6)});return _0x348f3e[_0x921b69(0x475)](0xc9)[_0x921b69(0x5c3)](_0x1d67a5);})[_0x29e79d(0x1c5)](this[_0x29e79d(0x47a)](_0x29e79d(0x563)),..._0xc655b1,async(_0x4eb687,_0x142a83)=>{const _0x1df9f4=_0x29e79d;let _0x5b9c55=await this[_0x1df9f4(0x433)]({'request':_0x4eb687,'schema':Oa,'ClassRef':Ve,'execute':(_0x48b38f,_0x1be6fc)=>O['fetchMessages'](_0x48b38f,_0x1be6fc)});return _0x142a83[_0x1df9f4(0x475)](0xc8)[_0x1df9f4(0x5c3)](_0x5b9c55);})[_0x29e79d(0x1c5)](this[_0x29e79d(0x47a)](_0x29e79d(0x5c7)),..._0xc655b1,async(_0x529ae6,_0x4d3477)=>{const _0x90bb6a=_0x29e79d;let _0x193af7=await this['dataValidate']({'request':_0x529ae6,'schema':_a,'ClassRef':tt,'execute':(_0x1e1427,_0x2a5601)=>O[_0x90bb6a(0x42c)](_0x1e1427,_0x2a5601)});return _0x4d3477[_0x90bb6a(0x475)](0xc8)['json'](_0x193af7);})[_0x29e79d(0x589)](this['routerPath'](_0x29e79d(0x228)),..._0xc655b1,async(_0x2a5ff9,_0x4cb490)=>{const _0x5c17a5=_0x29e79d;let _0x583fc7=await this[_0x5c17a5(0x433)]({'request':_0x2a5ff9,'schema':null,'ClassRef':b,'execute':_0x8748d4=>O[_0x5c17a5(0x609)](_0x8748d4)});return _0x4cb490[_0x5c17a5(0x475)](0xc8)[_0x5c17a5(0x5c3)](_0x583fc7);})[_0x29e79d(0x589)](this[_0x29e79d(0x47a)](_0x29e79d(0x588)),..._0xc655b1,async(_0x349fdf,_0xe9312c)=>{const _0x206d39=_0x29e79d;let _0x3618a9=await this['dataValidate']({'request':_0x349fdf,'schema':null,'ClassRef':b,'execute':_0x3cbf62=>O[_0x206d39(0x588)](_0x3cbf62)});return _0xe9312c[_0x206d39(0x475)](0xc8)[_0x206d39(0x5c3)](_0x3618a9);})[_0x29e79d(0x329)](this[_0x29e79d(0x47a)](_0x29e79d(0x105)),..._0xc655b1,async(_0x575480,_0x16292e)=>{const _0x16b9f6=_0x29e79d;let _0x411d23=await this[_0x16b9f6(0x433)]({'request':_0x575480,'schema':Ta,'ClassRef':Ke,'execute':(_0x3ff5e1,_0x3dc74e)=>O[_0x16b9f6(0x105)](_0x3ff5e1,_0x3dc74e)});return _0x16292e[_0x16b9f6(0x475)](0xc9)[_0x16b9f6(0x5c3)](_0x411d23);})[_0x29e79d(0x1c5)](this[_0x29e79d(0x47a)](_0x29e79d(0x662)),..._0xc655b1,async(_0x24d365,_0x5ab28c)=>{const _0x1ed2b8=_0x29e79d;let _0x207d64=await this[_0x1ed2b8(0x433)]({'request':_0x24d365,'schema':Te,'ClassRef':fe,'execute':(_0x162f4a,_0x4cf7fb)=>O[_0x1ed2b8(0x662)](_0x162f4a,_0x4cf7fb)});return _0x5ab28c['status'](0xc8)[_0x1ed2b8(0x5c3)](_0x207d64);})['post'](this[_0x29e79d(0x47a)]('updateProfileName'),..._0xc655b1,async(_0x54ffb3,_0x248c32)=>{const _0x47cb42=_0x29e79d;let _0x23f0b3=await this[_0x47cb42(0x433)]({'request':_0x54ffb3,'schema':Ia,'ClassRef':qe,'execute':(_0x549246,_0x8e87b0)=>O['updateProfileName'](_0x549246,_0x8e87b0)});return _0x248c32[_0x47cb42(0x475)](0xc8)[_0x47cb42(0x5c3)](_0x23f0b3);})[_0x29e79d(0x1c5)](this[_0x29e79d(0x47a)](_0x29e79d(0x12b)),..._0xc655b1,async(_0x426dfa,_0x2b6162)=>{const _0x16e5db=_0x29e79d;let _0x5cfa47=await this[_0x16e5db(0x433)]({'request':_0x426dfa,'schema':Da,'ClassRef':Je,'execute':(_0x2d15f1,_0x4a3c59)=>O[_0x16e5db(0x12b)](_0x2d15f1,_0x4a3c59)});return _0x2b6162[_0x16e5db(0x475)](0xc8)['json'](_0x5cfa47);})[_0x29e79d(0x329)](this['routerPath'](_0x29e79d(0x4ec)),..._0xc655b1,async(_0xe9cd93,_0x49f809)=>{const _0x25b8d9=_0x29e79d;let _0x17898c=await this['dataValidate']({'request':_0xe9cd93,'schema':Te,'ClassRef':fe,'execute':(_0xae3088,_0x7fde02)=>O[_0x25b8d9(0x4ec)](_0xae3088,_0x7fde02)});return _0x49f809['status'](0xc8)[_0x25b8d9(0x5c3)](_0x17898c);})[_0x29e79d(0xe7)](this[_0x29e79d(0x47a)](_0x29e79d(0x2e5)),..._0xc655b1,async(_0x3df9fe,_0x1107be)=>{const _0x5f2f72=_0x29e79d;let _0x237d46=await this['dataValidate']({'request':_0x3df9fe,'schema':Te,'ClassRef':fe,'execute':(_0xefa87,_0x203095)=>O[_0x5f2f72(0x2e5)](_0xefa87,_0x203095)});return _0x1107be[_0x5f2f72(0x475)](0xc8)['json'](_0x237d46);});}},qa=require('express'),ot=class{},it=class{},rt=class{},nt=class{},ct=class{},Y=class{},lt=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends _{constructor(..._0x37bccd){const _0x44d359=a0_0x444692;super(),this[_0x44d359(0x5fe)]=(0x0,qa['Router'])(),this[_0x44d359(0x5fe)]['post'](this['routerPath'](_0x44d359(0x2c0)),..._0x37bccd,async(_0x38ba8d,_0x3b450a)=>{const _0x4bf2e7=_0x44d359;let _0x1c716f=await this[_0x4bf2e7(0x433)]({'request':_0x38ba8d,'schema':xa,'ClassRef':ot,'execute':(_0xc8bc4a,_0x3f82f2)=>U[_0x4bf2e7(0x687)](_0xc8bc4a,_0x3f82f2)});_0x3b450a[_0x4bf2e7(0x475)](0xc9)['json'](_0x1c716f);})[_0x44d359(0x329)](this['routerPath'](_0x44d359(0x44e)),..._0x37bccd,async(_0x514a96,_0x31ca16)=>{const _0x40ec54=_0x44d359;let _0x3ea30d=await this['groupValidate']({'request':_0x514a96,'schema':La,'ClassRef':it,'execute':(_0x8d7749,_0x64ccab)=>U[_0x40ec54(0x44e)](_0x8d7749,_0x64ccab)});_0x31ca16['status'](0xc9)[_0x40ec54(0x5c3)](_0x3ea30d);})['put'](this[_0x44d359(0x47a)](_0x44d359(0x3a7)),..._0x37bccd,async(_0x27a6a6,_0x284c32)=>{const _0x131446=_0x44d359;let _0x2381e0=await this[_0x131446(0xd7)]({'request':_0x27a6a6,'schema':Ua,'ClassRef':rt,'execute':(_0x1fb71e,_0x3fb686)=>U[_0x131446(0x3a7)](_0x1fb71e,_0x3fb686)});_0x284c32['status'](0xc9)[_0x131446(0x5c3)](_0x2381e0);})[_0x44d359(0x329)](this['routerPath']('groupName'),..._0x37bccd,async(_0x6039b3,_0xdf73a9)=>{const _0x1386fb=_0x44d359;let _0x551a15=await this[_0x1386fb(0xd7)]({'request':_0x6039b3,'schema':Va,'ClassRef':nt,'execute':(_0x205e82,_0x4cc0b6)=>U[_0x1386fb(0x33e)](_0x205e82,_0x4cc0b6)});_0xdf73a9['status'](0xc9)['json'](_0x551a15);})[_0x44d359(0x329)](this[_0x44d359(0x47a)](_0x44d359(0x10b)),..._0x37bccd,async(_0x19595a,_0x2c58b1)=>{const _0x46a250=_0x44d359;let _0x2bfec3=await this[_0x46a250(0xd7)]({'request':_0x19595a,'schema':ja,'ClassRef':ct,'execute':(_0x5c75b6,_0x775af2)=>U[_0x46a250(0x10b)](_0x5c75b6,_0x775af2)});_0x2c58b1[_0x46a250(0x475)](0xc9)[_0x46a250(0x5c3)](_0x2bfec3);})[_0x44d359(0x329)](this[_0x44d359(0x47a)](_0x44d359(0x335)),..._0x37bccd,async(_0x35bd2b,_0x4db158)=>{const _0x48669a=_0x44d359;let _0x121904=await this[_0x48669a(0xd7)]({'request':_0x35bd2b,'schema':ka,'ClassRef':dt,'execute':(_0x315cd3,_0x2fd6c2)=>U[_0x48669a(0x335)](_0x315cd3,_0x2fd6c2)});_0x4db158[_0x48669a(0x475)](0xc9)['json'](_0x121904);})[_0x44d359(0x589)](this[_0x44d359(0x47a)](_0x44d359(0x5df)),..._0x37bccd,async(_0x1c1e14,_0x95959)=>{const _0x4fb40c=_0x44d359;let _0x5aba20=await this[_0x4fb40c(0xd7)]({'request':_0x1c1e14,'schema':Re,'ClassRef':Y,'execute':(_0x3f572f,_0x3a8fcb)=>U[_0x4fb40c(0x390)](_0x3f572f,_0x3a8fcb)});_0x95959[_0x4fb40c(0x475)](0xc8)[_0x4fb40c(0x5c3)](_0x5aba20);})['get'](this['routerPath'](_0x44d359(0x3b5)),..._0x37bccd,async(_0x4d8197,_0x436324)=>{const _0x56a406=_0x44d359;let _0x116ad1=await this[_0x56a406(0x433)]({'request':_0x4d8197,'schema':C,'ClassRef':b,'execute':_0x51fc80=>U[_0x56a406(0x3b5)](_0x51fc80)});_0x436324['status'](0xc8)[_0x56a406(0x5c3)](_0x116ad1);})[_0x44d359(0x589)](this[_0x44d359(0x47a)]('participants'),..._0x37bccd,async(_0x3a10ec,_0x4168ec)=>{const _0xb7c294=_0x44d359;let _0x253f61=await this['groupValidate']({'request':_0x3a10ec,'schema':Re,'ClassRef':Y,'execute':(_0x377b6b,_0x576844)=>U[_0xb7c294(0x660)](_0x377b6b,_0x576844)});_0x4168ec[_0xb7c294(0x475)](0xc8)[_0xb7c294(0x5c3)](_0x253f61);})[_0x44d359(0x589)](this[_0x44d359(0x47a)](_0x44d359(0x67a)),..._0x37bccd,async(_0x4d75e0,_0x33fa61)=>{const _0x40b343=_0x44d359;let _0x471ecf=await this[_0x40b343(0xd7)]({'request':_0x4d75e0,'schema':Re,'ClassRef':Y,'execute':(_0xccb2b,_0x26c1f9)=>U[_0x40b343(0x67a)](_0xccb2b,_0x26c1f9)});_0x33fa61[_0x40b343(0x475)](0xc8)[_0x40b343(0x5c3)](_0x471ecf);})[_0x44d359(0x329)](this[_0x44d359(0x47a)]('joinGroup'),..._0x37bccd,async(_0x2f33d3,_0x24eb92)=>{const _0x229412=_0x44d359;let _0x102213=await this[_0x229412(0x15b)]({'request':_0x2f33d3,'schema':Ba,'ClassRef':lt,'execute':(_0x5f01de,_0x55c6a7)=>U[_0x229412(0x3da)](_0x5f01de,_0x55c6a7)});_0x24eb92[_0x229412(0x475)](0xc9)[_0x229412(0x5c3)](_0x102213);})[_0x44d359(0x329)](this[_0x44d359(0x47a)](_0x44d359(0x37a)),..._0x37bccd,async(_0x4f1a97,_0x3e23df)=>{const _0x37661d=_0x44d359;let _0x5a7106=await this[_0x37661d(0xd7)]({'request':_0x4f1a97,'schema':Re,'ClassRef':Y,'execute':(_0xaf2b3c,_0x2065c6)=>U[_0x37661d(0x37a)](_0xaf2b3c,_0x2065c6)});_0x3e23df[_0x37661d(0x475)](0xc9)[_0x37661d(0x5c3)](_0x5a7106);})['put'](this['routerPath']('updateParticipant'),..._0x37bccd,async(_0x27a0d1,_0x351343)=>{const _0x4f511a=_0x44d359;let _0x340b7f=await this[_0x4f511a(0xd7)]({'request':_0x27a0d1,'schema':$a,'ClassRef':ut,'execute':(_0x3933bb,_0x3ea353)=>U[_0x4f511a(0x377)](_0x3933bb,_0x3ea353)});_0x351343['status'](0xc9)['json'](_0x340b7f);})[_0x44d359(0xe7)](this[_0x44d359(0x47a)](_0x44d359(0x145)),..._0x37bccd,async(_0x5dcfd9,_0x59401a)=>{const _0x2f0935=_0x44d359;let _0x4c76a8=await this['groupValidate']({'request':_0x5dcfd9,'schema':{},'ClassRef':Y,'execute':(_0x5ed6d3,_0x4b75cd)=>U['leaveGroup'](_0x5ed6d3,_0x4b75cd)});_0x59401a[_0x2f0935(0x475)](0xc8)['json'](_0x4c76a8);});}},Ha=require(a0_0x444692(0x675)),Pe=require(a0_0x444692(0x399)),gs=require(a0_0x444692(0x592)),Ja=require('class-validator'),Wa=T(require(a0_0x444692(0x1bb))),mt=class{},gt=class l{constructor(_0x4b1070,_0x54620a,_0x5b5c2b){const _0x5c87ee=a0_0x444692;this['configService']=_0x4b1070,this[_0x5c87ee(0x1a5)]=_0x54620a,this[_0x5c87ee(0x1e4)]=_0x5b5c2b,this['logger']=new v(l[_0x5c87ee(0x33d)]);}async['jwt'](_0x3eb695){const _0x171241=a0_0x444692;let _0x3b4a3a=this[_0x171241(0x56e)][_0x171241(0x589)](_0x171241(0x4ff))[_0x171241(0x52b)],_0x3efd52=(0x0,Pe[_0x171241(0x385)])({'instanceName':_0x3eb695['instanceName'],'apiName':Ye,'tokenId':(0x0,gs['v4'])()},_0x3b4a3a[_0x171241(0x67c)],{'expiresIn':_0x3b4a3a[_0x171241(0x59e)],'encoding':_0x171241(0x2f4),'subject':_0x171241(0xe5)}),_0x4c539e=await this[_0x171241(0x1e4)][_0x171241(0x34e)]['create']({'jwt':_0x3efd52},_0x3eb695[_0x171241(0x2dc)]);if(_0x4c539e[_0x171241(0x307)])throw this[_0x171241(0x134)][_0x171241(0x307)]({'localError':l['name']+_0x171241(0x512),'error':_0x4c539e[_0x171241(0x307)]}),new m('Authentication\x20error',_0x4c539e[_0x171241(0x307)]?.[_0x171241(0x414)]());return{'jwt':_0x3efd52};}async[a0_0x444692(0x479)](_0x5b8d8c){const _0x3de09e=a0_0x444692;let _0x3ba377=(0x0,gs['v4'])()['toUpperCase'](),_0x5c4637=await this[_0x3de09e(0x1e4)][_0x3de09e(0x34e)]['create']({'apikey':_0x3ba377},_0x5b8d8c[_0x3de09e(0x2dc)]);if(_0x5c4637['error'])throw this[_0x3de09e(0x134)][_0x3de09e(0x307)]({'localError':l[_0x3de09e(0x33d)]+_0x3de09e(0x512),'error':_0x5c4637['error']}),new m(_0x3de09e(0x15a),_0x5c4637['error']?.['toString']());return{'apikey':_0x3ba377};}async[a0_0x444692(0x4bd)](_0xaf555e){const _0x50b8d0=a0_0x444692;let _0x27c526=this[_0x50b8d0(0x56e)][_0x50b8d0(0x589)](_0x50b8d0(0x4ff));return await this[_0x27c526[_0x50b8d0(0x669)]](_0xaf555e);}async[a0_0x444692(0x4d4)]({oldToken:_0x492d5f}){const _0x3a3f78=a0_0x444692;if(!(0x0,Ja[_0x3a3f78(0x619)])(_0x492d5f))throw new m(_0x3a3f78(0x46c));try{let _0x78fa6a=this[_0x3a3f78(0x56e)][_0x3a3f78(0x589)](_0x3a3f78(0x4ff))[_0x3a3f78(0x52b)],_0x4a1f84=(0x0,Pe[_0x3a3f78(0x57d)])(_0x492d5f,_0x78fa6a[_0x3a3f78(0x67c)],{'ignoreExpiration':!0x0}),_0x47fe83=await this[_0x3a3f78(0x1e4)]['auth'][_0x3a3f78(0x235)](_0x4a1f84[_0x3a3f78(0x2dc)]),_0x52bc94=(0x0,Pe[_0x3a3f78(0x57d)])(_0x47fe83['jwt'],_0x78fa6a[_0x3a3f78(0x67c)],{'ignoreExpiration':!0x0});if(_0x4a1f84['tokenId']!==_0x52bc94[_0x3a3f78(0x2ab)])throw new m(_0x3a3f78(0x46c));let _0x573514={'jwt':(await this[_0x3a3f78(0x2f5)]({'instanceName':_0x4a1f84[_0x3a3f78(0x2dc)]}))['jwt'],'instanceName':_0x4a1f84['instanceName']};try{let _0x1f866b=await this[_0x3a3f78(0x1e4)][_0x3a3f78(0x681)][_0x3a3f78(0x235)](_0x4a1f84[_0x3a3f78(0x2dc)]);_0x1f866b?.[_0x3a3f78(0x13e)]&&this[_0x3a3f78(0x56e)][_0x3a3f78(0x589)](_0x3a3f78(0x622))[_0x3a3f78(0x38f)][_0x3a3f78(0x1db)]&&await Wa[_0x3a3f78(0x331)][_0x3a3f78(0x2c0)]({'baseURL':_0x1f866b[_0x3a3f78(0x3eb)]})[_0x3a3f78(0x1c5)]('',{'event':_0x3a3f78(0x3ba),'instance':_0x4a1f84[_0x3a3f78(0x2dc)],'data':_0x573514},{'params':{'owner':this[_0x3a3f78(0x1a5)][_0x3a3f78(0x21c)][_0x4a1f84[_0x3a3f78(0x2dc)]]['wuid']}});}catch(_0x45a98f){this[_0x3a3f78(0x134)][_0x3a3f78(0x307)](_0x45a98f);}return _0x573514;}catch(_0x3b5908){throw this[_0x3a3f78(0x134)][_0x3a3f78(0x307)]({'localError':l['name']+_0x3a3f78(0x151),'error':_0x3b5908}),new m(_0x3a3f78(0x46c));}}},ht=class extends _{constructor(_0x5f35e0,..._0x322cf8){const _0xe77653=a0_0x444692;super(),this['configService']=_0x5f35e0,this['router']=(0x0,Ha['Router'])();let _0x1c8aab=_0x5f35e0['get'](_0xe77653(0x4ff));this[_0xe77653(0x5fe)][_0xe77653(0x1c5)](_0xe77653(0x407),..._0x322cf8,async(_0x339d22,_0x557b78)=>{const _0x5802bc=_0xe77653;let {instanceName:_0xac3e8a,apikey:_0x1b06d2}=_0x339d22[_0x5802bc(0x285)],_0x193f86=await ne[_0x5802bc(0x3cd)]({'instanceName':_0xac3e8a,'apikey':_0x1b06d2});return _0x557b78[_0x5802bc(0x475)](0xc9)[_0x5802bc(0x5c3)](_0x193f86);})[_0xe77653(0x329)](this[_0xe77653(0x47a)](_0xe77653(0x5de)),..._0x322cf8,async(_0x5f4203,_0x53bcbe)=>{const _0x5a5f2e=_0xe77653;let _0x3fb9dd=await this[_0x5a5f2e(0x433)]({'request':_0x5f4203,'schema':C,'ClassRef':b,'execute':_0x209750=>ne[_0x5a5f2e(0x2b5)](_0x209750)});return _0x53bcbe[_0x5a5f2e(0x475)](0xc8)['json'](_0x3fb9dd);})['get'](this[_0xe77653(0x47a)](_0xe77653(0x548)),..._0x322cf8,async(_0x2ba8bf,_0x232ed)=>{const _0x4b1ea0=_0xe77653;let _0x426a6d=await this[_0x4b1ea0(0x433)]({'request':_0x2ba8bf,'schema':C,'ClassRef':b,'execute':_0x2087e6=>ne[_0x4b1ea0(0x41d)](_0x2087e6)});return _0x232ed[_0x4b1ea0(0x475)](0xc8)['json'](_0x426a6d);})[_0xe77653(0x589)](this[_0xe77653(0x47a)](_0xe77653(0x381)),..._0x322cf8,async(_0x330e0c,_0x35557b)=>{const _0x43c8b7=_0xe77653;let _0x3742e3=await this[_0x43c8b7(0x433)]({'request':_0x330e0c,'schema':C,'ClassRef':b,'execute':_0x141508=>ne[_0x43c8b7(0x381)](_0x141508)});return _0x35557b[_0x43c8b7(0x475)](0xc8)['json'](_0x3742e3);})[_0xe77653(0x589)](this[_0xe77653(0x47a)]('fetchInstances',!0x1),..._0x322cf8,async(_0x4f3302,_0x47162b)=>{const _0x5a94a0=_0xe77653;let _0x5cb2ef=await this[_0x5a94a0(0x433)]({'request':_0x4f3302,'schema':null,'ClassRef':b,'execute':_0x28cc3b=>ne['fetchInstances'](_0x28cc3b)});return _0x47162b[_0x5a94a0(0x475)](0xc8)['json'](_0x5cb2ef);})[_0xe77653(0xe7)](this[_0xe77653(0x47a)]('logout'),..._0x322cf8,async(_0x16ce07,_0x15c33f)=>{const _0x1123e8=_0xe77653;let _0x1ce8a1=await this['dataValidate']({'request':_0x16ce07,'schema':C,'ClassRef':b,'execute':_0x3a0a4d=>ne[_0x1123e8(0xe6)](_0x3a0a4d)});return _0x15c33f[_0x1123e8(0x475)](0xc8)[_0x1123e8(0x5c3)](_0x1ce8a1);})['delete'](this[_0xe77653(0x47a)]('delete'),..._0x322cf8,async(_0x35b994,_0x59943a)=>{const _0x4d67a6=_0xe77653;let _0x177ccb=await this[_0x4d67a6(0x433)]({'request':_0x35b994,'schema':C,'ClassRef':b,'execute':_0x6b58cb=>ne[_0x4d67a6(0x39f)](_0x6b58cb)});return _0x59943a[_0x4d67a6(0x475)](0xc8)[_0x4d67a6(0x5c3)](_0x177ccb);}),_0x1c8aab[_0xe77653(0x669)]===_0xe77653(0x2f5)&&this['router'][_0xe77653(0x329)](_0xe77653(0x183),async(_0x4bde62,_0x2ec8af)=>{const _0x35731b=_0xe77653;let _0x36fbeb=await this[_0x35731b(0x433)]({'request':_0x4bde62,'schema':ua,'ClassRef':mt,'execute':(_0x148daa,_0x10dac7)=>ne[_0x35731b(0x4d4)](_0x148daa,_0x10dac7)});return _0x2ec8af[_0x35731b(0x475)](0xc9)[_0x35731b(0x5c3)](_0x36fbeb);});}},Ka=require(a0_0x444692(0x675)),hs=class{},K=class extends hs{},ft=class extends K{},wt=class extends K{},yt=class extends K{},Oe=class extends K{},bt=class extends K{},St=class extends K{},Et=class extends K{},Nt=class extends K{},Ct=class extends K{},vt=class{},Tt=class extends _{constructor(..._0xbead4a){const _0x16007d=a0_0x444692;super(),this[_0x16007d(0x5fe)]=(0x0,Ka[_0x16007d(0x5c8)])(),this[_0x16007d(0x5fe)][_0x16007d(0x1c5)](this['routerPath'](_0x16007d(0x4cb)),..._0xbead4a,async(_0x5c0418,_0x2017bc)=>{const _0xb16a8e=_0x16007d;let _0x1593c2=await this[_0xb16a8e(0x433)]({'request':_0x5c0418,'schema':da,'ClassRef':ft,'execute':(_0x4d6b9e,_0x3d5c58)=>W[_0xb16a8e(0x4cb)](_0x4d6b9e,_0x3d5c58)});return _0x2017bc[_0xb16a8e(0x475)](0xc9)['json'](_0x1593c2);})[_0x16007d(0x1c5)](this[_0x16007d(0x47a)](_0x16007d(0x443)),..._0xbead4a,async(_0x5e2b1d,_0x3a8431)=>{const _0x295941=_0x16007d;let _0x42d3ad=await this[_0x295941(0x433)]({'request':_0x5e2b1d,'schema':ha,'ClassRef':Oe,'execute':(_0x2bede7,_0x3ef776)=>W[_0x295941(0x443)](_0x2bede7,_0x3ef776)});return _0x3a8431[_0x295941(0x475)](0xc9)[_0x295941(0x5c3)](_0x42d3ad);})[_0x16007d(0x1c5)](this[_0x16007d(0x47a)](_0x16007d(0x3a8)),..._0xbead4a,async(_0x11bcc8,_0xed5692)=>{const _0x13ec2a=_0x16007d;let _0x478065=await this['dataValidate']({'request':_0x11bcc8,'schema':fa,'ClassRef':Oe,'execute':(_0x52716c,_0x1c401f)=>W['sendWhatsAppAudio'](_0x52716c,_0x1c401f)});return _0xed5692[_0x13ec2a(0x475)](0xc9)['json'](_0x478065);})[_0x16007d(0x1c5)](this[_0x16007d(0x47a)](_0x16007d(0x5ae)),..._0xbead4a,async(_0x20bbc9,_0x4675fa)=>{const _0x49ae60=_0x16007d;let _0x7f7029=await this[_0x49ae60(0x433)]({'request':_0x20bbc9,'schema':ya,'ClassRef':St,'execute':(_0x124cb4,_0x1cc70a)=>W['sendButtons'](_0x124cb4,_0x1cc70a)});return _0x4675fa[_0x49ae60(0x475)](0xc9)['json'](_0x7f7029);})[_0x16007d(0x1c5)](this[_0x16007d(0x47a)](_0x16007d(0x178)),..._0xbead4a,async(_0xb33bfc,_0x5a592d)=>{const _0x419f6e=_0x16007d;let _0x1c36ed=await this['dataValidate']({'request':_0xb33bfc,'schema':ba,'ClassRef':Et,'execute':(_0x4d28c5,_0x26ab5a)=>W['sendLocation'](_0x4d28c5,_0x26ab5a)});return _0x5a592d[_0x419f6e(0x475)](0xc9)[_0x419f6e(0x5c3)](_0x1c36ed);})['post'](this[_0x16007d(0x47a)](_0x16007d(0x19e)),..._0xbead4a,async(_0x420c62,_0x219960)=>{const _0x547cf8=_0x16007d;let _0x5cab3a=await this['dataValidate']({'request':_0x420c62,'schema':Sa,'ClassRef':Nt,'execute':(_0x4e444a,_0x4cfa6b)=>W[_0x547cf8(0x19e)](_0x4e444a,_0x4cfa6b)});return _0x219960[_0x547cf8(0x475)](0xc9)[_0x547cf8(0x5c3)](_0x5cab3a);})[_0x16007d(0x1c5)](this[_0x16007d(0x47a)](_0x16007d(0x1d1)),..._0xbead4a,async(_0x46455d,_0x462647)=>{const _0x231fc8=_0x16007d;let _0x4a2d6a=await this['dataValidate']({'request':_0x46455d,'schema':Ea,'ClassRef':Ct,'execute':(_0x17b4de,_0x42e172)=>W[_0x231fc8(0x1d1)](_0x17b4de,_0x42e172)});return _0x462647[_0x231fc8(0x475)](0xc9)[_0x231fc8(0x5c3)](_0x4a2d6a);})[_0x16007d(0x1c5)](this[_0x16007d(0x47a)]('sendReaction'),..._0xbead4a,async(_0x59127f,_0x20b31f)=>{const _0x15d4ef=_0x16007d;let _0x26f5c4=await this[_0x15d4ef(0x433)]({'request':_0x59127f,'schema':Na,'ClassRef':vt,'execute':(_0x216c6a,_0x3a3830)=>W[_0x15d4ef(0x24b)](_0x216c6a,_0x3a3830)});return _0x20b31f[_0x15d4ef(0x475)](0xc9)['json'](_0x26f5c4);})[_0x16007d(0x1c5)](this[_0x16007d(0x47a)](_0x16007d(0x606)),..._0xbead4a,async(_0x49ed4b,_0x43235c)=>{const _0x5df763=_0x16007d;let _0x19b418=await this[_0x5df763(0x433)]({'request':_0x49ed4b,'schema':wa,'ClassRef':yt,'execute':(_0x238d1e,_0x462b25)=>W[_0x5df763(0x606)](_0x238d1e,_0x462b25)});return _0x43235c['status'](0xc9)['json'](_0x19b418);})[_0x16007d(0x1c5)](this[_0x16007d(0x47a)](_0x16007d(0x62c)),..._0xbead4a,async(_0x1f0954,_0x20ff05)=>{const _0x5e9df4=_0x16007d;let _0x5a736b=await this['dataValidate']({'request':_0x1f0954,'schema':ga,'ClassRef':wt,'execute':(_0x5f6b48,_0x3b6b20)=>W['sendStatus'](_0x5f6b48,_0x3b6b20)});return _0x20ff05[_0x5e9df4(0x475)](0xc9)[_0x5e9df4(0x5c3)](_0x5a736b);})[_0x16007d(0x1c5)](this['routerPath'](_0x16007d(0x2ef)),..._0xbead4a,async(_0x1ee106,_0x55e33b)=>{const _0x134d9f=_0x16007d;let _0x2dfefc=await this[_0x134d9f(0x433)]({'request':_0x1ee106,'schema':ma,'ClassRef':bt,'execute':(_0x50aa21,_0x38de8f)=>W[_0x134d9f(0x2ef)](_0x50aa21,_0x38de8f)});return _0x55e33b[_0x134d9f(0x475)](0xc9)[_0x134d9f(0x5c3)](_0x2dfefc);});}},za=require(a0_0x444692(0x675)),Rt=class extends _{constructor(..._0x43aa08){const _0x12e9e9=a0_0x444692;super(),this['router']=(0x0,za[_0x12e9e9(0x5c8)])(),this[_0x12e9e9(0x5fe)]['get'](this[_0x12e9e9(0x47a)]('qrcode'),..._0x43aa08,(_0x56b5fa,_0xd41db0)=>Qa[_0x12e9e9(0x1c1)](_0x56b5fa,_0xd41db0));}},Ya=require(a0_0x444692(0x675)),Mt=class{},At=class extends _{constructor(..._0x598829){const _0x27a642=a0_0x444692;super(),this[_0x27a642(0x5fe)]=(0x0,Ya[_0x27a642(0x5c8)])(),this[_0x27a642(0x5fe)][_0x27a642(0x1c5)](this['routerPath']('set'),..._0x598829,async(_0x1bf6d4,_0x51b0e9)=>{const _0x1c3c83=_0x27a642;let _0x173282=await this[_0x1c3c83(0x433)]({'request':_0x1bf6d4,'schema':Fa,'ClassRef':Mt,'execute':(_0x3d0ba0,_0x80a949)=>fs[_0x1c3c83(0x5c9)](_0x3d0ba0,_0x80a949)});_0x51b0e9[_0x1c3c83(0x475)](0xc9)['json'](_0x173282);})[_0x27a642(0x589)](this['routerPath']('find'),..._0x598829,async(_0xe88899,_0x2e9a9e)=>{const _0x59836c=_0x27a642;let _0x493163=await this[_0x59836c(0x433)]({'request':_0xe88899,'schema':C,'ClassRef':b,'execute':_0x5468c5=>fs[_0x59836c(0x22c)](_0x5468c5)});_0x2e9a9e[_0x59836c(0x475)](0xc8)[_0x59836c(0x5c3)](_0x493163);});}},Xa=require(a0_0x444692(0x675)),g=new v(a0_0x444692(0x56c)),It=class extends _{constructor(..._0x2eb87d){const _0x105fda=a0_0x444692;super(),this['router']=(0x0,Xa[_0x105fda(0x5c8)])(),this[_0x105fda(0x5fe)][_0x105fda(0x1c5)](this['routerPath'](_0x105fda(0x387)),..._0x2eb87d,async(_0x326341,_0x3499d7)=>{const _0x366290=_0x105fda;let _0x253f80=_0x326341[_0x366290(0x285)];g[_0x366290(0x44a)](_0x366290(0x5ee)),g[_0x366290(0x44a)](_0x366290(0x31a)),g[_0x366290(0x44a)](_0x326341[_0x366290(0x285)]);let _0xbf3402=await this['dataValidate']({'request':_0x326341,'schema':C,'ClassRef':b,'execute':_0x5ab723=>M[_0x366290(0x23f)](_0x5ab723,_0x253f80)});_0x3499d7[_0x366290(0x475)](0xc8)[_0x366290(0x5c3)](_0xbf3402);})[_0x105fda(0x589)](this['routerPath'](_0x105fda(0x387)),..._0x2eb87d,async(_0x5a0361,_0x1feed6)=>{const _0x109b30=_0x105fda;let _0x5790a1=await this[_0x109b30(0x433)]({'request':_0x5a0361,'schema':C,'ClassRef':b,'execute':_0x590798=>M[_0x109b30(0x5b1)](_0x590798)});_0x1feed6[_0x109b30(0x475)](0xc8)[_0x109b30(0x5c3)](_0x5790a1);})[_0x105fda(0xe7)](this['routerPath'](_0x105fda(0x477)),..._0x2eb87d,async(_0x209a2c,_0x2ffce1)=>{const _0x46a9f5=_0x105fda;g[_0x46a9f5(0x44a)](_0x46a9f5(0x5bc));let _0x1bf0cd=await this[_0x46a9f5(0x433)]({'request':_0x209a2c,'schema':C,'ClassRef':b,'execute':_0x502222=>M[_0x46a9f5(0x477)](_0x502222)});_0x2ffce1['status'](0xc8)['json'](_0x1bf0cd);})[_0x105fda(0x1c5)](this[_0x105fda(0x47a)](_0x105fda(0x3d4)),..._0x2eb87d,async(_0x41e7c5,_0x3eaa7a)=>{const _0x3bdde2=_0x105fda;let _0xe7fb8e=_0x41e7c5[_0x3bdde2(0x285)];g['verbose'](_0x3bdde2(0x17e)),g[_0x3bdde2(0x44a)](_0x3bdde2(0x31a)),g[_0x3bdde2(0x44a)](_0x41e7c5[_0x3bdde2(0x285)]);let _0x592066=await this[_0x3bdde2(0x433)]({'request':_0x41e7c5,'schema':C,'ClassRef':b,'execute':_0x531a27=>M['startFlow'](_0x531a27,_0xe7fb8e)});_0x3eaa7a[_0x3bdde2(0x475)](0xc8)[_0x3bdde2(0x5c3)](_0x592066);})[_0x105fda(0x589)](this[_0x105fda(0x47a)](_0x105fda(0x67d)),..._0x2eb87d,async(_0x4f5758,_0x3216ee)=>{const _0xfbbf78=_0x105fda;g[_0xfbbf78(0x44a)]('request\x20received\x20in\x20getAutomateSystem');let _0x870b1b=await this[_0xfbbf78(0x433)]({'request':_0x4f5758,'schema':C,'ClassRef':b,'execute':_0x4ef556=>M[_0xfbbf78(0x67d)](_0x4ef556)});_0x3216ee[_0xfbbf78(0x475)](0xc8)[_0xfbbf78(0x5c3)](_0x870b1b);})[_0x105fda(0x589)](this[_0x105fda(0x47a)](_0x105fda(0x401)),..._0x2eb87d,async(_0x14fd2e,_0x4e1e54)=>{const _0x3cc94d=_0x105fda;g['verbose'](_0x3cc94d(0x4d7));let _0x356f7b=await this['dataValidate']({'request':_0x14fd2e,'schema':C,'ClassRef':b,'execute':_0x3fdccb=>M['getAutomateSystem'](_0x3fdccb)});_0x4e1e54[_0x3cc94d(0x475)](0xc8)[_0x3cc94d(0x5c3)](_0x356f7b);})[_0x105fda(0x1c5)](this['routerPath'](_0x105fda(0x553)),..._0x2eb87d,async(_0x1f1a34,_0x4726bd)=>{const _0x3c86c8=_0x105fda;let _0x5e4c53=_0x1f1a34[_0x3c86c8(0x285)];g[_0x3c86c8(0x44a)]('request\x20received\x20in\x20updateAgent'),g[_0x3c86c8(0x44a)]('request\x20body:\x20'),g['verbose'](_0x1f1a34[_0x3c86c8(0x285)]);let _0x27e9f8=await this['dataValidate']({'request':_0x1f1a34,'schema':C,'ClassRef':b,'execute':_0x4f80c1=>M[_0x3c86c8(0x553)](_0x4f80c1,_0x5e4c53)});_0x4726bd[_0x3c86c8(0x475)](0xc8)['json'](_0x27e9f8);})[_0x105fda(0x1c5)](this[_0x105fda(0x47a)](_0x105fda(0x2a7)),..._0x2eb87d,async(_0x4623cf,_0x3d3dd8)=>{const _0x470bf4=_0x105fda;let _0x2be882=_0x4623cf[_0x470bf4(0x285)];g[_0x470bf4(0x44a)](_0x470bf4(0x31e)),g[_0x470bf4(0x44a)](_0x470bf4(0x31a)),g[_0x470bf4(0x44a)](_0x4623cf[_0x470bf4(0x285)]);let _0x16e033=await this[_0x470bf4(0x433)]({'request':_0x4623cf,'schema':C,'ClassRef':b,'execute':_0x3331fc=>M[_0x470bf4(0x2a7)](_0x3331fc,_0x2be882)});_0x3d3dd8[_0x470bf4(0x475)](0xc8)[_0x470bf4(0x5c3)](_0x16e033);})[_0x105fda(0x1c5)](this[_0x105fda(0x47a)]('updateFlowConfig'),..._0x2eb87d,async(_0x27f4ef,_0x38ff34)=>{const _0x11c8b6=_0x105fda;let _0x4a10b4=_0x27f4ef[_0x11c8b6(0x285)];g[_0x11c8b6(0x44a)](_0x11c8b6(0x372)),g['verbose']('request\x20body:\x20'),g[_0x11c8b6(0x44a)](_0x27f4ef[_0x11c8b6(0x285)]);let _0x29842a=await this['dataValidate']({'request':_0x27f4ef,'schema':C,'ClassRef':b,'execute':_0x41a1a2=>M['updateFlowConfig'](_0x41a1a2,_0x4a10b4)});_0x38ff34['status'](0xc8)['json'](_0x29842a);})[_0x105fda(0x1c5)](this['routerPath'](_0x105fda(0x2f9)),..._0x2eb87d,async(_0x11e53b,_0x53ddcb)=>{const _0x4604a6=_0x105fda;let _0x36122b=_0x11e53b[_0x4604a6(0x285)];g[_0x4604a6(0x44a)](_0x4604a6(0x1a4)),g[_0x4604a6(0x44a)](_0x4604a6(0x31a)),g[_0x4604a6(0x44a)](_0x11e53b['body']);let _0xf7f44a=await this[_0x4604a6(0x433)]({'request':_0x11e53b,'schema':C,'ClassRef':b,'execute':_0x5a2ef9=>M[_0x4604a6(0x2f9)](_0x5a2ef9,_0x36122b)});_0x53ddcb[_0x4604a6(0x475)](0xc8)[_0x4604a6(0x5c3)](_0xf7f44a);})[_0x105fda(0x1c5)](this['routerPath'](_0x105fda(0x2bc)),..._0x2eb87d,async(_0x277cdc,_0x3fbe5c)=>{const _0x5939b4=_0x105fda;let _0x1d478a=_0x277cdc[_0x5939b4(0x285)];g['verbose'](_0x5939b4(0x27a)),g['verbose'](_0x5939b4(0x31a)),g['verbose'](_0x277cdc[_0x5939b4(0x285)]);let _0x2e6869=await this[_0x5939b4(0x433)]({'request':_0x277cdc,'schema':C,'ClassRef':b,'execute':_0x6efac9=>M['fetchConversation'](_0x6efac9,_0x1d478a)});_0x3fbe5c[_0x5939b4(0x475)](0xc8)[_0x5939b4(0x5c3)](_0x2e6869);})['post'](this[_0x105fda(0x47a)](_0x105fda(0x442)),..._0x2eb87d,async(_0x4a9fc1,_0x58be80)=>{const _0x34bb65=_0x105fda;let _0x3c5a12=_0x4a9fc1['body'];g[_0x34bb65(0x44a)]('request\x20received\x20in\x20editConversation'),g['verbose']('request\x20body:\x20'),g[_0x34bb65(0x44a)](_0x4a9fc1['body']);let _0x3bcf21=await this[_0x34bb65(0x433)]({'request':_0x4a9fc1,'schema':C,'ClassRef':b,'execute':_0x438f9f=>M[_0x34bb65(0x442)](_0x438f9f,_0x3c5a12)});_0x58be80[_0x34bb65(0x475)](0xc8)['json'](_0x3bcf21);})[_0x105fda(0xe7)](this['routerPath'](_0x105fda(0x5e2)),..._0x2eb87d,async(_0x5ae176,_0x35cf69)=>{const _0x2d76e9=_0x105fda;let _0xf399d8=_0x5ae176[_0x2d76e9(0x285)];g[_0x2d76e9(0x44a)](_0x2d76e9(0x60b)),g[_0x2d76e9(0x44a)](_0x2d76e9(0x31a)),g[_0x2d76e9(0x44a)](_0x5ae176['body']);let _0x15fbda=await this[_0x2d76e9(0x433)]({'request':_0x5ae176,'schema':C,'ClassRef':b,'execute':_0x2ba33d=>M[_0x2d76e9(0x5e2)](_0x2ba33d,_0xf399d8)});_0x35cf69[_0x2d76e9(0x475)](0xc8)['json'](_0x15fbda);})[_0x105fda(0x1c5)](this['routerPath']('createflow'),..._0x2eb87d,async(_0x1b0fa3,_0x2c96a3)=>{const _0x160408=_0x105fda;let _0x1189e1=_0x1b0fa3['body'];g[_0x160408(0x44a)](_0x160408(0x5e9)),g[_0x160408(0x44a)](_0x160408(0x31a)),g[_0x160408(0x44a)](_0x1b0fa3[_0x160408(0x285)]);let _0x69848a=await this['dataValidate']({'request':_0x1b0fa3,'schema':C,'ClassRef':b,'execute':_0x3f28d5=>M['createFlow'](_0x3f28d5,_0x1189e1)});_0x2c96a3[_0x160408(0x475)](0xc8)['json'](_0x69848a);})['post'](this[_0x105fda(0x47a)](_0x105fda(0x560)),..._0x2eb87d,async(_0x1f926a,_0x191cbd)=>{const _0x722491=_0x105fda;let _0x406e6d=_0x1f926a[_0x722491(0x285)];g[_0x722491(0x44a)](_0x722491(0x1dd)),g[_0x722491(0x44a)](_0x722491(0x31a)),g['verbose'](_0x1f926a[_0x722491(0x285)]),delete _0x406e6d['blocks'],delete _0x406e6d[_0x722491(0x309)],delete _0x406e6d[_0x722491(0x129)],delete _0x406e6d[_0x722491(0x42f)];let _0x4d38ed=await this[_0x722491(0x433)]({'request':_0x1f926a,'schema':C,'ClassRef':b,'execute':_0xb4fb77=>M[_0x722491(0x22e)](_0xb4fb77,_0x406e6d)});_0x191cbd[_0x722491(0x475)](0xc8)[_0x722491(0x5c3)](_0x4d38ed);})['post'](this[_0x105fda(0x47a)]('editflowblock'),..._0x2eb87d,async(_0x3db428,_0x4bf4e6)=>{const _0x29bab5=_0x105fda;let _0x3ee9c6=_0x3db428[_0x29bab5(0x285)];g[_0x29bab5(0x44a)](_0x29bab5(0x1dd)),g[_0x29bab5(0x44a)]('request\x20body:\x20'),g[_0x29bab5(0x44a)](_0x3db428['body']);let _0x39f6f3=await this['dataValidate']({'request':_0x3db428,'schema':C,'ClassRef':b,'execute':_0x9c7702=>M[_0x29bab5(0x12f)](_0x9c7702,_0x3ee9c6)});_0x4bf4e6[_0x29bab5(0x475)](0xc8)[_0x29bab5(0x5c3)](_0x39f6f3);})['post'](this[_0x105fda(0x47a)]('editflowreply'),..._0x2eb87d,async(_0x57f992,_0x23dfd4)=>{const _0x6aaa5f=_0x105fda;let _0x33a985=_0x57f992['body'];g['verbose'](_0x6aaa5f(0x1dd)),g[_0x6aaa5f(0x44a)](_0x6aaa5f(0x31a)),g[_0x6aaa5f(0x44a)](_0x57f992[_0x6aaa5f(0x285)]);let _0x1ef6ff=await this[_0x6aaa5f(0x433)]({'request':_0x57f992,'schema':C,'ClassRef':b,'execute':_0x4f8413=>M[_0x6aaa5f(0x623)](_0x4f8413,_0x33a985)});_0x23dfd4['status'](0xc8)[_0x6aaa5f(0x5c3)](_0x1ef6ff);})[_0x105fda(0x1c5)](this[_0x105fda(0x47a)](_0x105fda(0x5d7)),..._0x2eb87d,async(_0x32aa14,_0x49d9e0)=>{const _0x9ab447=_0x105fda;let _0x2cbc9b=_0x32aa14[_0x9ab447(0x285)];g[_0x9ab447(0x44a)](_0x9ab447(0x1dd)),g[_0x9ab447(0x44a)]('request\x20body:\x20'),g['verbose'](_0x32aa14[_0x9ab447(0x285)]);let _0x5ccc54=await this['dataValidate']({'request':_0x32aa14,'schema':C,'ClassRef':b,'execute':_0x48724b=>M['editFlowVaredit'](_0x48724b,_0x2cbc9b)});_0x49d9e0[_0x9ab447(0x475)](0xc8)[_0x9ab447(0x5c3)](_0x5ccc54);})['post'](this[_0x105fda(0x47a)](_0x105fda(0x138)),..._0x2eb87d,async(_0x50e95f,_0x16eb77)=>{const _0x3bb6ac=_0x105fda;let _0x4db298=_0x50e95f['body'];g[_0x3bb6ac(0x44a)](_0x3bb6ac(0x4ca)),g['verbose'](_0x3bb6ac(0x31a)),g[_0x3bb6ac(0x44a)](_0x50e95f[_0x3bb6ac(0x285)]);let _0x1104f2=await this[_0x3bb6ac(0x433)]({'request':_0x50e95f,'schema':C,'ClassRef':b,'execute':_0x25ade9=>M[_0x3bb6ac(0x1ac)](_0x25ade9,_0x4db298)});_0x16eb77[_0x3bb6ac(0x475)](0xc8)[_0x3bb6ac(0x5c3)](_0x1104f2);})[_0x105fda(0x1c5)](this[_0x105fda(0x47a)](_0x105fda(0x5fb)),..._0x2eb87d,async(_0x37ae8c,_0x5d0e88)=>{const _0x354041=_0x105fda;let _0xbeec5c=_0x37ae8c[_0x354041(0x285)];g['verbose'](_0x354041(0x1a1)),g[_0x354041(0x44a)](_0x354041(0x31a)),g[_0x354041(0x44a)](_0x37ae8c['body']);let _0x5e3117=await this[_0x354041(0x433)]({'request':_0x37ae8c,'schema':C,'ClassRef':b,'execute':_0x3d81f7=>M['editFlowCondition'](_0x3d81f7,_0xbeec5c)});_0x5d0e88['status'](0xc8)[_0x354041(0x5c3)](_0x5e3117);})[_0x105fda(0x1c5)](this[_0x105fda(0x47a)]('editflowvariable'),..._0x2eb87d,async(_0x53e849,_0x48fcc8)=>{const _0x3c1b02=_0x105fda;let _0x2eb030=_0x53e849[_0x3c1b02(0x285)];g[_0x3c1b02(0x44a)]('request\x20received\x20in\x20editFlowvariable'),g[_0x3c1b02(0x44a)](_0x3c1b02(0x31a)),g[_0x3c1b02(0x44a)](_0x53e849[_0x3c1b02(0x285)]);let _0x3fd618=await this[_0x3c1b02(0x433)]({'request':_0x53e849,'schema':C,'ClassRef':b,'execute':_0x4a3c22=>M[_0x3c1b02(0x258)](_0x4a3c22,_0x2eb030)});_0x48fcc8['status'](0xc8)[_0x3c1b02(0x5c3)](_0x3fd618);})[_0x105fda(0x1c5)](this[_0x105fda(0x47a)](_0x105fda(0x110)),..._0x2eb87d,async(_0x51c0b7,_0x3fa26b)=>{const _0x4ab9e8=_0x105fda;let _0x3c266b=_0x51c0b7[_0x4ab9e8(0x285)];g[_0x4ab9e8(0x44a)](_0x4ab9e8(0x42e)),g[_0x4ab9e8(0x44a)]('request\x20body:\x20'),g[_0x4ab9e8(0x44a)](_0x51c0b7[_0x4ab9e8(0x285)]);let _0x581454=await this['dataValidate']({'request':_0x51c0b7,'schema':C,'ClassRef':b,'execute':_0x41820a=>M[_0x4ab9e8(0x3ac)](_0x41820a,_0x3c266b)});_0x3fa26b[_0x4ab9e8(0x475)](0xc8)[_0x4ab9e8(0x5c3)](_0x581454);})[_0x105fda(0xe7)](this[_0x105fda(0x47a)](_0x105fda(0x557)),..._0x2eb87d,async(_0x36be0f,_0x21215c)=>{const _0x18b446=_0x105fda;let _0x3a9a7c=_0x36be0f['body'];g[_0x18b446(0x44a)](_0x18b446(0x5e9)),g[_0x18b446(0x44a)](_0x18b446(0x31a)),g[_0x18b446(0x44a)](_0x36be0f[_0x18b446(0x285)]);let _0x76a23=await this[_0x18b446(0x433)]({'request':_0x36be0f,'schema':C,'ClassRef':b,'execute':_0xe7b08a=>M['deleteFlow'](_0xe7b08a,_0x3a9a7c)});_0x21215c['status'](0xc8)[_0x18b446(0x5c3)](_0x76a23);})['get'](this['routerPath'](_0x105fda(0x532)),..._0x2eb87d,async(_0x40587d,_0x4721e7)=>{const _0x3575b1=_0x105fda;g[_0x3575b1(0x44a)](_0x3575b1(0x386));let _0x32dda9=await this[_0x3575b1(0x433)]({'request':_0x40587d,'schema':C,'ClassRef':b,'execute':_0x1645ff=>M[_0x3575b1(0x544)](_0x1645ff)});_0x4721e7[_0x3575b1(0x475)](0xc8)[_0x3575b1(0x5c3)](_0x32dda9);});}},so=T(require(a0_0x444692(0x51a))),X={};function Za(_0xaac810,_0x22166b,_0x24d70e,_0x1868c1){X[_0xaac810]||(X[_0xaac810]={}),X[_0xaac810][_0x22166b]={'id':_0x22166b,'response':_0x24d70e,'events':_0x1868c1};}function eo(_0x3dd909,_0x5d1b5a){!X[_0x3dd909]||!X[_0x3dd909][_0x5d1b5a]||delete X[_0x3dd909][_0x5d1b5a];}function H(_0x4ebf05,_0x20f8d5,_0x2da057){const _0x32f405=a0_0x444692;if(!X[_0x4ebf05])return;let _0x237061='data:\x20'+JSON[_0x32f405(0x343)](_0x2da057)+'\x0a\x0a';Object['values'](X[_0x4ebf05])[_0x32f405(0x58d)](_0x307731=>{const _0xc6515d=_0x32f405;_0x307731['events'][_0xc6515d(0x48d)](_0x20f8d5)&&_0x307731[_0xc6515d(0x248)][_0xc6515d(0x2e6)](_0x237061);});}function to(){const _0xe03058=a0_0x444692;let _0x234b3f={};for(let _0x33b297 in X)_0x234b3f[_0x33b297]=Object['values'](X[_0x33b297])[_0xe03058(0x328)](_0x23c5ca=>({'id':_0x23c5ca['id'],'events':_0x23c5ca[_0xe03058(0x14e)]}));return _0x234b3f;}var ao=require('uuid'),li=so[a0_0x444692(0x331)][a0_0x444692(0x546)](__dirname,a0_0x444692(0x107)),Pt=(0x0,Dt[a0_0x444692(0x5c8)])(),ui=y['get'](a0_0x444692(0x4ff))[a0_0x444692(0x669)],de=[ps,ra,la[ui]];Pt[a0_0x444692(0xf8)]('/media',Dt[a0_0x444692(0x331)][a0_0x444692(0x121)](li))[a0_0x444692(0x589)]('/events/:instance',async(_0xa822e0,_0x15b471)=>{const _0x3c704d=a0_0x444692;console[_0x3c704d(0xea)](_0x3c704d(0x4df));let _0x450153=_0xa822e0[_0x3c704d(0x578)][_0x3c704d(0x4be)],_0x3e481d=(_0xa822e0[_0x3c704d(0x472)][_0x3c704d(0x14e)]||'')['split'](','),_0x4f5ee8=(0x0,ao['v4'])();console['log']('Instance\x20ID:',_0x450153),console['log'](_0x3c704d(0x34d),_0x3e481d);let _0xb106d=y[_0x3c704d(0x589)]('AUTHENTICATION')[_0x3c704d(0x30c)],_0x217155=_0xa822e0[_0x3c704d(0x472)]['apikey'];if(console[_0x3c704d(0xea)](_0x3c704d(0x426),_0x217155),_0xb106d['KEY']!==_0x217155){console[_0x3c704d(0xea)](_0x3c704d(0x640));try{let _0x4653a6=await ue[_0x3c704d(0x34e)]['find'](_0x450153);if(console[_0x3c704d(0xea)](_0x3c704d(0x65f),_0x4653a6),!_0x4653a6||_0x4653a6[_0x3c704d(0x479)]!==_0x217155)return console['log'](_0x3c704d(0x63b)),_0x15b471[_0x3c704d(0x475)](0x191)[_0x3c704d(0x29c)](_0x3c704d(0x2ce));}catch(_0xe7c686){return console[_0x3c704d(0x307)](_0x3c704d(0x5bb),_0xe7c686),_0x15b471['status'](0x191)[_0x3c704d(0x29c)](_0x3c704d(0x4c7));}}if(!await Qe(_0x450153))return _0x15b471[_0x3c704d(0x475)](0x194)[_0x3c704d(0x29c)](_0x3c704d(0x204));_0x15b471['setHeader']('Content-Type','text/event-stream'),_0x15b471[_0x3c704d(0x24c)]('Cache-Control',_0x3c704d(0x2a8)),_0x15b471[_0x3c704d(0x24c)](_0x3c704d(0x265),'keep-alive'),_0x15b471[_0x3c704d(0x3ce)]();let _0x28cfd=_0x3c704d(0x54d)+JSON[_0x3c704d(0x343)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x15b471[_0x3c704d(0x2e6)](_0x28cfd),Za(_0x450153,_0x4f5ee8,_0x15b471,_0x3e481d),_0xa822e0['on'](_0x3c704d(0x601),()=>{const _0x452304=_0x3c704d;console[_0x452304(0xea)](_0x452304(0x4ac)+_0x450153),eo(_0x450153,_0x4f5ee8);});}),Pt['get']('/clients-info',(_0x9756f7,_0x479a99)=>{const _0x5f2b0b=a0_0x444692;let _0x152658=to();_0x479a99[_0x5f2b0b(0x5c3)](_0x152658);})[a0_0x444692(0x589)]('/',(_0x304e94,_0xe068f0)=>{const _0xffa10a=a0_0x444692;let _0x4cdeaa=y[_0xffa10a(0x589)]('SSL_CONF'),_0x148795=_0x4cdeaa&&_0x4cdeaa[_0xffa10a(0x1ee)][_0xffa10a(0x1b4)]('/')[0x4];if(_0x148795){let _0x315c0b=encodeURIComponent(_0xffa10a(0x50b)+_0x148795);_0xe068f0[_0xffa10a(0x109)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x315c0b);}else _0xe068f0[_0xffa10a(0x109)](_0xffa10a(0x52f));})[a0_0x444692(0x329)](a0_0x444692(0x597),...de,async(_0x136b2c,_0x5726ec)=>{const _0x33e29a=a0_0x444692;try{console[_0x33e29a(0xea)](_0x33e29a(0x1c2)),_0x5726ec[_0x33e29a(0x475)](0xc8)[_0x33e29a(0x5c3)]({'message':_0x33e29a(0x56f)}),_0x5726ec['on'](_0x33e29a(0x48c),()=>process[_0x33e29a(0x231)](0x0));}catch(_0x3315f5){console[_0x33e29a(0x307)](_0x33e29a(0x55c),_0x3315f5),_0x5726ec[_0x33e29a(0x475)](0x1f4)[_0x33e29a(0x5c3)]({'message':_0x33e29a(0x1be)});}})[a0_0x444692(0xf8)](a0_0x444692(0x55d),new ht(y,...de)[a0_0x444692(0x5fe)],new Rt(ps)[a0_0x444692(0x5fe)])[a0_0x444692(0xf8)]('/message',new Tt(...de)[a0_0x444692(0x5fe)])[a0_0x444692(0xf8)](a0_0x444692(0x1ea),new at(...de)[a0_0x444692(0x5fe)])['use']('/group',new pt(...de)[a0_0x444692(0x5fe)])[a0_0x444692(0xf8)](a0_0x444692(0x515),new At(...de)[a0_0x444692(0x5fe)])[a0_0x444692(0xf8)](a0_0x444692(0x57c),new It(...de)[a0_0x444692(0x5fe)]);var m=class{constructor(..._0x3de29a){const _0x3be364=a0_0x444692;throw{'status':0x190,'error':_0x3be364(0x2e1),'message':_0x3de29a['length']>0x0?_0x3de29a:void 0x0};}},ie=class{constructor(..._0x28e6af){const _0x543bc9=a0_0x444692;throw{'status':0x191,'error':_0x543bc9(0x685),'message':_0x28e6af['length']>0x0?_0x28e6af:void 0x0};}},oe=class{constructor(..._0x2d73c6){throw{'status':0x193,'error':'Forbidden','message':_0x2d73c6['length']>0x0?_0x2d73c6:void 0x0};}},L=class{constructor(..._0x19bc43){const _0x5e5077=a0_0x444692;throw{'status':0x194,'error':_0x5e5077(0x5d1),'message':_0x19bc43[_0x5e5077(0x1f4)]>0x0?_0x19bc43:void 0x0};}},A=class{constructor(..._0x437f8f){const _0x298757=a0_0x444692;throw{'status':0x1f4,'error':_0x298757(0x35d),'message':_0x437f8f[_0x298757(0x1f4)]>0x0?_0x437f8f:void 0x0};}},pe=require(a0_0x444692(0x61d));async function ws(_0x55369a){const _0x12b61e=a0_0x444692;let _0x2156bb=new v(ws[_0x12b61e(0x33d)]),_0x1d61de=R[_0x12b61e(0x3e4)](),_0x1c7cca=_0x1d61de['db'](y[_0x12b61e(0x589)](_0x12b61e(0x253))[_0x12b61e(0x1f6)][_0x12b61e(0x276)]+'-instances')['collection'](_0x55369a),_0x1b6462=async(_0xf43339,_0x182e1e)=>{const _0x1eef3e=_0x12b61e;try{return await _0x1d61de[_0x1eef3e(0x548)](),await _0x1c7cca['replaceOne']({'_id':_0x182e1e},JSON[_0x1eef3e(0x3fc)](JSON['stringify'](_0xf43339,pe[_0x1eef3e(0x60e)][_0x1eef3e(0x264)])),{'upsert':!0x0});}catch{}},_0x2af541=async _0x2c9681=>{const _0x6e1242=_0x12b61e;try{await _0x1d61de[_0x6e1242(0x548)]();let _0x573800=await _0x1c7cca[_0x6e1242(0x2d7)]({'_id':_0x2c9681}),_0x3f9a79=JSON['stringify'](_0x573800);return JSON[_0x6e1242(0x3fc)](_0x3f9a79,pe[_0x6e1242(0x60e)][_0x6e1242(0x420)]);}catch{}},_0x232459=async _0x521de8=>{const _0x11030a=_0x12b61e;try{return await _0x1d61de[_0x11030a(0x548)](),await _0x1c7cca[_0x11030a(0x207)]({'_id':_0x521de8});}catch{}},_0x2993eb=await _0x2af541(_0x12b61e(0x1c3))||(0x0,pe[_0x12b61e(0x4b4)])();return{'state':{'creds':_0x2993eb,'keys':{'get':async(_0x151de2,_0x211f9e)=>{const _0x4ba664=_0x12b61e;let _0x485196={};return await Promise['all'](_0x211f9e[_0x4ba664(0x328)](async _0x24166b=>{const _0x2c1d8a=_0x4ba664;let _0x9a065d=await _0x2af541(_0x151de2+'-'+_0x24166b);_0x151de2===_0x2c1d8a(0x612)&&_0x9a065d&&(_0x9a065d=pe['proto'][_0x2c1d8a(0x5ed)][_0x2c1d8a(0x62a)][_0x2c1d8a(0x633)](_0x9a065d)),_0x485196[_0x24166b]=_0x9a065d;})),_0x485196;},'set':async _0x1d1868=>{const _0x916eb1=_0x12b61e;let _0x6a3631=[];for(let _0x42e165 in _0x1d1868)for(let _0x187f83 in _0x1d1868[_0x42e165]){let _0xee3757=_0x1d1868[_0x42e165][_0x187f83],_0x157c20=_0x42e165+'-'+_0x187f83;_0x6a3631['push'](_0xee3757?_0x1b6462(_0xee3757,_0x157c20):_0x232459(_0x157c20));}await Promise[_0x916eb1(0x5d9)](_0x6a3631);}}},'saveCreds':async()=>_0x1b6462(_0x2993eb,'creds')};}var Ss=T(require(a0_0x444692(0x3c8))),Es=T(require(a0_0x444692(0x286))),xt=require(a0_0x444692(0x61d)),oo=require(a0_0x444692(0x3a6)),_t=require(a0_0x444692(0x61d)),Ot;function di(_0x57828f){const _0x415959=a0_0x444692;return Ot||(Ot=(0x0,oo[_0x415959(0x327)])({'url':_0x57828f[_0x415959(0x36e)]}),Ot[_0x415959(0x548)]()),Ot;}var we=class l{constructor(_0x19e466,_0x395b0d){const _0x267f7b=a0_0x444692;this[_0x267f7b(0x262)]=_0x19e466,this[_0x267f7b(0x2dc)]=_0x395b0d,this[_0x267f7b(0x134)]=new v(l[_0x267f7b(0x33d)]),this[_0x267f7b(0x625)]=di(_0x19e466);}set[a0_0x444692(0x416)](_0x4b1f7d){const _0x3bad12=a0_0x444692;this[_0x3bad12(0x2dc)]=_0x4b1f7d;}async[a0_0x444692(0x44f)](){const _0x5e47d2=a0_0x444692;try{return await this['client'][_0x5e47d2(0x423)]([_0x5e47d2(0x182),this['redisEnv'][_0x5e47d2(0x371)]+':*']);}catch(_0x361af9){this[_0x5e47d2(0x134)][_0x5e47d2(0x307)](_0x361af9);}}async[a0_0x444692(0x5d8)](_0x425c91,_0x410788){const _0x38aac2=a0_0x444692;try{let _0x2be967=JSON['stringify'](_0x410788,_t['BufferJSON'][_0x38aac2(0x264)]);return await this[_0x38aac2(0x625)][_0x38aac2(0x5a4)](this[_0x38aac2(0x262)][_0x38aac2(0x371)]+':'+this[_0x38aac2(0x2dc)],_0x425c91,_0x2be967);}catch(_0x19cd1f){this[_0x38aac2(0x134)][_0x38aac2(0x307)](_0x19cd1f);}}async[a0_0x444692(0x54a)](){const _0x8311ae=a0_0x444692;try{let _0x1aa36a=await this[_0x8311ae(0x625)][_0x8311ae(0x474)](this[_0x8311ae(0x262)][_0x8311ae(0x371)]+':'+this[_0x8311ae(0x2dc)]);if(_0x1aa36a){for(let _0x3e23a6 in _0x1aa36a)Object['prototype'][_0x8311ae(0x1cb)][_0x8311ae(0x162)](_0x1aa36a,_0x3e23a6)&&(_0x1aa36a[_0x3e23a6]=JSON[_0x8311ae(0x3fc)](_0x1aa36a[_0x3e23a6],_t[_0x8311ae(0x60e)][_0x8311ae(0x420)]));return _0x1aa36a;}}catch(_0x37ac85){this[_0x8311ae(0x134)][_0x8311ae(0x307)](_0x37ac85);}}async[a0_0x444692(0x16b)](_0x1113a2){const _0xcf950=a0_0x444692;try{let _0x97eec5=await this[_0xcf950(0x625)][_0xcf950(0x282)](this[_0xcf950(0x262)][_0xcf950(0x371)]+':'+this[_0xcf950(0x2dc)],_0x1113a2);if(_0x97eec5)return JSON[_0xcf950(0x3fc)](_0x97eec5,_t[_0xcf950(0x60e)][_0xcf950(0x420)]);}catch(_0x319900){this[_0xcf950(0x134)][_0xcf950(0x307)](_0x319900);}}async[a0_0x444692(0x684)](_0x122602){const _0x3e4f5c=a0_0x444692;try{return await this[_0x3e4f5c(0x625)][_0x3e4f5c(0x4b5)](this[_0x3e4f5c(0x262)][_0x3e4f5c(0x371)]+':'+this[_0x3e4f5c(0x2dc)],_0x122602);}catch(_0xfb13c2){this['logger'][_0x3e4f5c(0x307)](_0xfb13c2);}}async['delAll'](_0x289ffb){const _0x36032f=a0_0x444692;try{return await this['client'][_0x36032f(0x184)](_0x289ffb||this[_0x36032f(0x262)][_0x36032f(0x371)]+':'+this[_0x36032f(0x2dc)]);}catch(_0x19a166){this[_0x36032f(0x134)][_0x36032f(0x307)](_0x19a166);}}};async function ys(_0x118d39,_0x24eb71){const _0xebb5b6=a0_0x444692;let _0x3f57ab=new v(ys[_0xebb5b6(0x33d)]),_0xfd1e3d=new we(_0x118d39,_0x24eb71),_0x354afc=async(_0x1f23c0,_0x3fe2f6)=>{const _0x39f5ad=_0xebb5b6;try{return await _0xfd1e3d[_0x39f5ad(0x5d8)](_0x3fe2f6,_0x1f23c0);}catch(_0x5694b3){return _0x3f57ab[_0x39f5ad(0x307)]({'localError':_0x39f5ad(0x5d8),'error':_0x5694b3});}},_0x10ecc6=async _0x5c9d47=>{const _0x5a619d=_0xebb5b6;try{return await _0xfd1e3d[_0x5a619d(0x16b)](_0x5c9d47);}catch(_0x10cba7){_0x3f57ab[_0x5a619d(0x307)]({'readData':'writeData','error':_0x10cba7});return;}},_0x4a5ac2=async _0x12ec82=>{const _0x198c09=_0xebb5b6;try{return await _0xfd1e3d[_0x198c09(0x684)](_0x12ec82);}catch(_0x359046){_0x3f57ab[_0x198c09(0x307)]({'readData':_0x198c09(0x684),'error':_0x359046});}},_0x41a211=await _0x10ecc6(_0xebb5b6(0x1c3))||(0x0,xt[_0xebb5b6(0x4b4)])();return{'state':{'creds':_0x41a211,'keys':{'get':async(_0x2795e2,_0x400e38)=>{const _0x2726a2=_0xebb5b6;let _0x1d2c25={};return await Promise['all'](_0x400e38[_0x2726a2(0x328)](async _0x55870e=>{const _0x460ec0=_0x2726a2;let _0x1594f3=await _0x10ecc6(_0x2795e2+'-'+_0x55870e);_0x2795e2===_0x460ec0(0x612)&&_0x1594f3&&(_0x1594f3=xt['proto'][_0x460ec0(0x5ed)][_0x460ec0(0x62a)][_0x460ec0(0x633)](_0x1594f3)),_0x1d2c25[_0x55870e]=_0x1594f3;})),_0x1d2c25;},'set':async _0x9dfddd=>{const _0x2986c4=_0xebb5b6;let _0x231bf0=[];for(let _0x4883c8 in _0x9dfddd)for(let _0x40be9c in _0x9dfddd[_0x4883c8]){let _0x4fd81b=_0x9dfddd[_0x4883c8][_0x40be9c],_0x4b5c9d=_0x4883c8+'-'+_0x40be9c;_0x231bf0[_0x2986c4(0x370)](_0x4fd81b?await _0x354afc(_0x4fd81b,_0x4b5c9d):await _0x4a5ac2(_0x4b5c9d));}await Promise[_0x2986c4(0x5d9)](_0x231bf0);}}},'saveCreds':async()=>await _0x354afc(_0x41a211,_0xebb5b6(0x1c3))};}var Se=T(require('fs')),go=require(a0_0x444692(0x592));function q(_0x4bd452){const _0x460f48=a0_0x444692;if(_0x4bd452[_0x460f48(0x53f)]||_0x4bd452[_0x460f48(0x3f6)]){let _0xe5fd3b=_0x4bd452[_0x460f48(0x53f)]?_0x4bd452[_0x460f48(0x53f)]['message']:_0x4bd452[_0x460f48(0x3f6)][_0x460f48(0x2d3)];return(0x0,w[_0x460f48(0x3b3)])(_0xe5fd3b);}return _0x4bd452['pollCreationMessageV3']?_0x460f48(0x338):_0x4bd452[_0x460f48(0x2bd)]?_0x460f48(0x2bd):(0x0,w[_0x460f48(0x3b3)])(_0x4bd452);}var be=class l{constructor(_0x46174a,_0x245a41,_0x41a800){const _0x5cef5c=a0_0x444692;this['configService']=_0x46174a,this[_0x5cef5c(0x23d)]=_0x245a41,this[_0x5cef5c(0x1e4)]=_0x41a800,this[_0x5cef5c(0x5a2)]=null,this[_0x5cef5c(0x134)]=new v(l['name']),this['instance']={},this['localWebhook']={},this['stateConnection']={'state':_0x5cef5c(0x601)},this['storePath']=(0x0,Z[_0x5cef5c(0x546)])(z,_0x5cef5c(0x190)),this[_0x5cef5c(0x555)]=new Es['default'](),this['userDevicesCache']=new Es[(_0x5cef5c(0x331))](),this['endSession']=!0x1,this['webhookMap']={'status.instance':_0x5cef5c(0x174),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x5cef5c(0x1a0),'messages.update':_0x5cef5c(0x17f),'send.message':_0x5cef5c(0x1a0),'group.upsert':'/wa-groups','group.update':_0x5cef5c(0x39a),'group-participants.update':_0x5cef5c(0x39a),'connection.update':_0x5cef5c(0x174),'messages.set':_0x5cef5c(0x1a0),'contacts.set':_0x5cef5c(0x378),'contacts.upsert':_0x5cef5c(0x378),'contacts.update':_0x5cef5c(0x378),'presence.update':_0x5cef5c(0x4d2),'chats.set':_0x5cef5c(0x210),'chats.update':_0x5cef5c(0x210),'chats.upsert':_0x5cef5c(0x210),'chats.delete':_0x5cef5c(0x210)},this[_0x5cef5c(0x4bc)]=0x0,this['reconnectTimestamps']=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0x5cef5c(0x284)]=0x7530,this[_0x5cef5c(0x302)]=!0x1,this[_0x5cef5c(0x1e0)]={'chats.upsert':async(_0x2dc2d6,_0x28327f)=>{const _0x2de1ef=_0x5cef5c;let _0xfd9aae=await this[_0x2de1ef(0x1e4)][_0x2de1ef(0x446)][_0x2de1ef(0x235)]({'where':{'owner':this['instance']['wuid']}}),_0x5a43ee=[];for await(let _0x39c2c9 of _0x2dc2d6)_0xfd9aae[_0x2de1ef(0x235)](_0x4fb0c4=>_0x4fb0c4['id']===_0x39c2c9['id'])||_0x5a43ee[_0x2de1ef(0x370)]({'id':_0x39c2c9['id'],'owner':this[_0x2de1ef(0x4be)]['wuid'],'group':_0x39c2c9['id'][_0x2de1ef(0x2e9)](_0x2de1ef(0x40c)),'name':_0x39c2c9[_0x2de1ef(0x33d)]||_0x39c2c9[_0x2de1ef(0x27e)]||null,'contactname':null,'lastmsg':_0x39c2c9[_0x2de1ef(0x2e7)]&&_0x39c2c9[_0x2de1ef(0x2e7)][_0x2de1ef(0x414)]()[_0x2de1ef(0x1f4)]<0xd?_0x39c2c9[_0x2de1ef(0x2e7)]*0x3e8:_0x39c2c9[_0x2de1ef(0x2e7)]||null,'archived':_0x39c2c9[_0x2de1ef(0x3c2)]||!0x1,'unreadcount':_0x39c2c9[_0x2de1ef(0x5e7)]||0x0});await this[_0x2de1ef(0x4e4)](_0x2de1ef(0x187),_0x5a43ee);},'chats.update':async(_0x1ed35c,_0x28737a)=>{const _0x3be758=_0x5cef5c;for(let _0x4b4666 of _0x1ed35c){let _0x4ef309={'id':_0x4b4666['id'],'owner':this[_0x3be758(0x4be)][_0x3be758(0x509)],'group':_0x4b4666['id']['endsWith'](_0x3be758(0x40c)),'name':_0x4b4666['name']||_0x4b4666[_0x3be758(0x27e)],'archived':_0x4b4666[_0x3be758(0x3c2)]},_0x5d1289=!0x1,_0xb97feb={'id':_0x4b4666['id'],'owner':this[_0x3be758(0x4be)][_0x3be758(0x509)]},_0x52d8ea={};_0x4ef309[_0x3be758(0x3c2)]!=null&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3be758(0x4be)][_0x3be758(0x509)]+_0x3be758(0x462)+_0x4b4666['archived']),_0x5d1289=!0x0,_0x52d8ea['archived']=_0x4b4666[_0x3be758(0x3c2)]),_0x4b4666[_0x3be758(0x33d)]!=null&&(this['logger'][_0x3be758(0x44a)](this['instanceName']+'\x20('+this['instance'][_0x3be758(0x509)]+_0x3be758(0x353)+_0x4b4666[_0x3be758(0x33d)]),_0x5d1289=!0x0,_0x52d8ea[_0x3be758(0x33d)]=_0x4b4666[_0x3be758(0x33d)]),_0x4b4666['displayName']!=null&&(this['logger']['verbose'](this[_0x3be758(0x2dc)]+'\x20('+this['instance']['wuid']+_0x3be758(0x3f4)+_0x4b4666[_0x3be758(0x27e)]),_0x5d1289=!0x0,_0x52d8ea[_0x3be758(0x33d)]=_0x4b4666[_0x3be758(0x27e)]);let _0x20eb31;_0x5d1289&&_0x28737a[_0x3be758(0xe3)]&&(_0x20eb31=await I[_0x3be758(0x2d4)](_0xb97feb,{'$set':_0x52d8ea},{'new':!0x0})),_0x20eb31&&H(this[_0x3be758(0x2dc)],'chats',{'chat':_0x20eb31});}},'chats.delete':async _0x344487=>{const _0x47cd81=_0x5cef5c;await this[_0x47cd81(0x4e4)]('chats.delete',[..._0x344487]);}},this[_0x5cef5c(0x593)]={'contacts.upsert':async(_0x264b8a,_0x227163)=>{const _0x2bd91c=_0x5cef5c;let _0x38de5a=await this[_0x2bd91c(0x1e4)][_0x2bd91c(0x19a)][_0x2bd91c(0x235)]({'where':{'owner':this[_0x2bd91c(0x4be)]['wuid']}}),_0x57b16f=[];for await(let _0x330875 of _0x264b8a)_0x38de5a[_0x2bd91c(0x235)](_0x3fb605=>_0x3fb605['id']===_0x330875['id'])||_0x57b16f[_0x2bd91c(0x370)]({'id':_0x330875['id'],'pushName':_0x330875?.[_0x2bd91c(0x33d)]||_0x330875?.['verifiedName'],'owner':this[_0x2bd91c(0x4be)]['wuid']});await this[_0x2bd91c(0x4e4)](_0x2bd91c(0x347),_0x57b16f),await this['repository'][_0x2bd91c(0x19a)][_0x2bd91c(0x54b)](_0x57b16f,_0x227163[_0x2bd91c(0xe3)]);let _0x32bd15=[];for(let _0x554c8e of _0x57b16f){let [_0x372d07,_0x1610b1]=await Promise[_0x2bd91c(0x5d9)]([this['profilePicture'](_0x554c8e['id']),(await this[_0x2bd91c(0x137)](_0x554c8e['id']))[_0x2bd91c(0x475)]]);_0x32bd15[_0x2bd91c(0x370)]({..._0x554c8e,'profilePictureUrl':_0x372d07[_0x2bd91c(0x3dd)],'status':_0x1610b1});}await this[_0x2bd91c(0x1e4)][_0x2bd91c(0x19a)][_0x2bd91c(0xeb)](_0x32bd15,_0x227163[_0x2bd91c(0xe3)]),await this[_0x2bd91c(0x1de)]();},'contacts.update':async(_0x166645,_0x5022dc)=>{const _0x19e7d1=_0x5cef5c;let _0x25d9b9=[];for await(let _0x339d4c of _0x166645)_0x25d9b9[_0x19e7d1(0x370)]({'id':_0x339d4c['id'],'pushName':_0x339d4c?.[_0x19e7d1(0x33d)]??_0x339d4c?.[_0x19e7d1(0x434)],'profilePictureUrl':(await this[_0x19e7d1(0x441)](_0x339d4c['id']))[_0x19e7d1(0x3dd)],'owner':this[_0x19e7d1(0x4be)][_0x19e7d1(0x509)]});await this[_0x19e7d1(0x4e4)]('contacts.update',_0x25d9b9);}},this['messageHandle']={'messaging-history.set':async({messages:_0x23ad69,chats:_0x1238dd,isLatest:_0x1ca79d},_0x302ea4)=>{const _0x24482f=_0x5cef5c;if(_0x1ca79d){let _0x22b694=await Promise[_0x24482f(0x5d9)](_0x1238dd[_0x24482f(0x328)](async _0xae45ad=>({'id':_0xae45ad['id'],'owner':this[_0x24482f(0x4be)][_0x24482f(0x509)],'group':_0xae45ad['id'][_0x24482f(0x2e9)]('@g.us'),'name':_0xae45ad['name']||_0xae45ad[_0x24482f(0x27e)]||null,'contactname':null,'imagechat':(await this[_0x24482f(0x441)](_0xae45ad['id']))['profilePictureUrl'],'lastmsg':_0xae45ad[_0x24482f(0x2e7)]&&_0xae45ad['conversationTimestamp']['toString']()[_0x24482f(0x1f4)]<0xd?_0xae45ad[_0x24482f(0x2e7)]*0x3e8:_0xae45ad[_0x24482f(0x2e7)]||null,'archived':_0xae45ad[_0x24482f(0x3c2)]||!0x1,'unreadcount':_0xae45ad[_0x24482f(0x5e7)]||0x0})));await this['sendDataWebhook'](_0x24482f(0x1f3),_0x22b694),await this['upsertChats'](_0x22b694,_0x302ea4),await this[_0x24482f(0x1de)]();}let _0x437302=[],_0x2f265b=Date[_0x24482f(0x1d5)]()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1b4817]of Object['entries'](_0x23ad69)){if(_0x1b4817[_0x24482f(0x2d3)]?.['protocolMessage']||_0x1b4817[_0x24482f(0x2d3)]?.[_0x24482f(0x484)]||!_0x1b4817[_0x24482f(0x2d3)]||_0x1b4817[_0x24482f(0x4c1)][_0x24482f(0x278)]===_0x24482f(0x18f)||(Ss[_0x24482f(0x331)][_0x24482f(0x126)](_0x1b4817?.[_0x24482f(0x471)])&&(_0x1b4817[_0x24482f(0x471)]=_0x1b4817[_0x24482f(0x471)]?.['toNumber']()),_0x1b4817[_0x24482f(0x471)]&&_0x1b4817[_0x24482f(0x471)]['toString']()[_0x24482f(0x1f4)]<0xd&&(_0x1b4817[_0x24482f(0x471)]=_0x1b4817['messageTimestamp']*0x3e8),_0x1b4817[_0x24482f(0x471)]<_0x2f265b))continue;let {message_normalized:_0x5a2991}=this[_0x24482f(0x45f)](_0x1b4817[_0x24482f(0x2d3)],q(_0x1b4817[_0x24482f(0x2d3)]),null);_0x437302['push']({'key':_0x1b4817[_0x24482f(0x4c1)],'pushName':_0x1b4817[_0x24482f(0x14d)],'participant':_0x1b4817[_0x24482f(0x571)],'message':{..._0x1b4817[_0x24482f(0x2d3)]},'messageType':q(_0x1b4817[_0x24482f(0x2d3)]),'message_normalized':{'key':_0x1b4817[_0x24482f(0x4c1)],'pushName':_0x1b4817[_0x24482f(0x14d)],'messageTimestamp':_0x1b4817[_0x24482f(0x471)],..._0x5a2991},'messageTimestamp':_0x1b4817['messageTimestamp'],'owner':this[_0x24482f(0x4be)]['wuid']});}_0x302ea4['ENABLED']&&_0x437302[_0x24482f(0x1f4)]>0x0&&(this['logger'][_0x24482f(0x44a)](this[_0x24482f(0x2dc)]+'\x20('+this[_0x24482f(0x4be)][_0x24482f(0x509)]+_0x24482f(0x3c5)+_0x437302[_0x24482f(0x1f4)]+_0x24482f(0x31b)+this['instance'][_0x24482f(0x509)]+_0x24482f(0x2fd)),await this[_0x24482f(0x1e4)][_0x24482f(0x2d3)]['insert']([..._0x437302],_0x302ea4['ENABLED'])),this['sendDataWebhook'](_0x24482f(0x1d2),[..._0x437302]),_0x23ad69=void 0x0;},'messages.upsert':async({messages:_0x31e58d,type:_0x2c1ca8},_0x103096)=>{const _0x21264e=_0x5cef5c;let _0x449f4b=_0x31e58d[0x0];if(_0x2c1ca8!=='notify'||!_0x449f4b?.[_0x21264e(0x2d3)]||_0x449f4b[_0x21264e(0x2d3)]?.[_0x21264e(0x2f0)]||_0x449f4b[_0x21264e(0x4c1)][_0x21264e(0x278)]==='status@broadcast')return;let _0x3ca4ac=null,_0x2b4473=null;try{_0x3ca4ac=await this[_0x21264e(0x422)](_0x449f4b),_0x2b4473=_0x3ca4ac?_0x3ca4ac[_0x21264e(0x546)](','):null;}catch(_0x2d873f){this[_0x21264e(0x134)]['verbose'](this[_0x21264e(0x2dc)]+'\x20('+this[_0x21264e(0x4be)][_0x21264e(0x509)]+_0x21264e(0x3c5)+_0x2d873f[_0x21264e(0x2d3)]),_0x2b4473=_0x21264e(0x5f3);}this[_0x21264e(0x625)][_0x21264e(0x213)](_0x21264e(0x65b)),Ss[_0x21264e(0x331)][_0x21264e(0x126)](_0x449f4b[_0x21264e(0x471)])&&(_0x449f4b[_0x21264e(0x471)]=_0x449f4b[_0x21264e(0x471)]?.['toNumber']()),_0x449f4b[_0x21264e(0x471)]&&_0x449f4b[_0x21264e(0x471)]['toString']()[_0x21264e(0x1f4)]<0xd&&(_0x449f4b[_0x21264e(0x471)]=_0x449f4b[_0x21264e(0x471)]*0x3e8);let _0x4ca66c=_0x449f4b['message'],{messageContent:_0xf82dab,message_normalized:_0x3580f9}=this[_0x21264e(0x45f)](_0x4ca66c,q(_0x449f4b[_0x21264e(0x2d3)]),_0x2b4473);_0xf82dab||console[_0x21264e(0x307)](_0x21264e(0x1c6));let _0x445330={'key':_0x449f4b[_0x21264e(0x4c1)],'pushName':_0x449f4b[_0x21264e(0x14d)],'message':{..._0x449f4b[_0x21264e(0x2d3)]},'messageType':q(_0x449f4b[_0x21264e(0x2d3)]),'message_normalized':{'key':_0x449f4b[_0x21264e(0x4c1)],'pushName':_0x449f4b[_0x21264e(0x14d)],'messageTimestamp':_0x449f4b[_0x21264e(0x471)],'source':(0x0,w[_0x21264e(0x440)])(_0x449f4b[_0x21264e(0x4c1)]['id']),..._0x3580f9},'messageTimestamp':_0x449f4b[_0x21264e(0x471)],'owner':this['instance'][_0x21264e(0x509)]};this['logger'][_0x21264e(0xea)](_0x445330),await this['repository'][_0x21264e(0x2d3)][_0x21264e(0x54b)]([_0x445330],_0x103096['ENABLED']),await this['sendDataWebhook']('messages.upsert',_0x445330),H(this[_0x21264e(0x2dc)],'messages',{'message':_0x445330}),_0x449f4b[_0x21264e(0x4c1)]['remoteJid']!==_0x21264e(0x18f)&&await this[_0x21264e(0x118)](_0x103096,_0x445330,'MESSAGES_UPSERT');},'messages.update':async(_0x2b82eb,_0x3d1f1f)=>{const _0x24d56f=_0x5cef5c;let _0x815efd={0x0:_0x24d56f(0x4b0),0x1:_0x24d56f(0x223),0x2:_0x24d56f(0x5d4),0x3:_0x24d56f(0x40a),0x4:_0x24d56f(0x550),0x5:_0x24d56f(0x319)};for await(let {key:_0x55cc14,update:_0x57bd32}of _0x2b82eb)if(_0x55cc14[_0x24d56f(0x278)]!==_0x24d56f(0x18f)){let _0x115453=Date['now'](),_0x49c890;_0x57bd32[_0x24d56f(0x2d3)]===null&&_0x57bd32[_0x24d56f(0x475)]===void 0x0?_0x49c890=_0x24d56f(0x4b6):_0x49c890=_0x815efd[_0x57bd32[_0x24d56f(0x475)]];let _0x1db057=_0x55cc14[_0x24d56f(0x278)][_0x24d56f(0x667)](/:\d{1,2}@/g,'@'),_0x5d04d3={..._0x55cc14,'remoteJid':_0x1db057,'status':_0x49c890,'datetime':_0x115453,'owner':this[_0x24d56f(0x4be)][_0x24d56f(0x509)]};await this[_0x24d56f(0x4e4)](_0x24d56f(0xfa),_0x5d04d3),await this['repository']['messageUpdate'][_0x24d56f(0x54b)]([_0x5d04d3],_0x3d1f1f[_0x24d56f(0xe3)]),await this['updateMessage'](_0x55cc14,_0x1db057,_0x5d04d3);}}},this[_0x5cef5c(0x294)]={'groups.upsert':_0x488741=>{const _0x29cf32=_0x5cef5c;this[_0x29cf32(0x4e4)](_0x29cf32(0x52a),_0x488741);},'groups.update':_0x1d8e82=>{const _0x2772b9=_0x5cef5c;this[_0x2772b9(0x4e4)](_0x2772b9(0x159),_0x1d8e82);},'group-participants.update':_0x39214f=>{const _0x15c954=_0x5cef5c;this['sendDataWebhook'](_0x15c954(0x18a),_0x39214f);}},this[_0x5cef5c(0x422)]=async _0x5f0ae2=>{const _0x86da70=_0x5cef5c;if(_0x5f0ae2[_0x86da70(0x2d3)]?.['pollUpdateMessage']){let _0x59c22c=await this['getMessage'](_0x5f0ae2[_0x86da70(0x2d3)]['pollUpdateMessage'][_0x86da70(0x66d)],!0x0);if(_0x59c22c){let _0x1741d8=_0x59c22c['key'][_0x86da70(0x569)]?this[_0x86da70(0x4be)][_0x86da70(0x509)]+_0x86da70(0x131):_0x59c22c[_0x86da70(0x4c1)]['participant']||_0x59c22c['key'][_0x86da70(0x278)],_0x4181cb=_0x59c22c[_0x86da70(0x4c1)]['id'],_0x47c4d8=_0x59c22c[_0x86da70(0x2d3)],_0x339174=Buffer[_0x86da70(0x193)](_0x47c4d8[_0x86da70(0x301)][_0x86da70(0x488)][_0x86da70(0x414)]('hex'),_0x86da70(0x185)),_0xbef71e=(0x0,w[_0x86da70(0x389)])(_0x5f0ae2[_0x86da70(0x2d3)][_0x86da70(0x5aa)][_0x86da70(0x142)],{'pollCreatorJid':_0x1741d8,'pollMsgId':_0x4181cb,'pollEncKey':_0x339174,'voterJid':_0x5f0ae2[_0x86da70(0x4c1)]['fromMe']?this[_0x86da70(0x4be)][_0x86da70(0x509)]+'@s.whatsapp.net':_0x5f0ae2[_0x86da70(0x4c1)]['remoteJid'][_0x86da70(0x2e9)](_0x86da70(0x67e))?_0x5f0ae2[_0x86da70(0x4c1)][_0x86da70(0x571)]:_0x5f0ae2[_0x86da70(0x4c1)][_0x86da70(0x278)]}),_0x5539d1=[],_0x17dd39=_0xbef71e[_0x86da70(0x140)]['map'](_0x7af5a9=>Buffer[_0x86da70(0x193)](_0x7af5a9)[_0x86da70(0x414)]('hex'));for(let {optionName:_0x3d118d}of _0x47c4d8[_0x86da70(0x310)]?.[_0x86da70(0x272)]||_0x47c4d8[_0x86da70(0x338)]?.[_0x86da70(0x272)]||_0x47c4d8['pollCreationMessageV2']?.[_0x86da70(0x272)])_0x17dd39[_0x86da70(0x3c4)]((0x0,w[_0x86da70(0x4b7)])(Buffer[_0x86da70(0x193)](_0x3d118d))[_0x86da70(0x414)](_0x86da70(0x185)))>-0x1&&_0x5539d1[_0x86da70(0x370)](_0x3d118d);return _0x5539d1;}}return null;},this[_0x5cef5c(0x45f)]=(_0x3b3e75,_0xee36bc,_0x1f94fa)=>{const _0x2b954e=_0x5cef5c;let _0x216ee7=_0xee36bc?_0x3b3e75[_0xee36bc]:void 0x0,_0x2a2485={},_0x5b6a87=null,_0x4fc5b6=null;if(_0x3b3e75[_0x2b954e(0x3f6)]?_0x216ee7=_0x3b3e75[_0x2b954e(0x3f6)]['message'][_0xee36bc]:_0x3b3e75[_0x2b954e(0x53f)]?_0x216ee7=_0x3b3e75[_0x2b954e(0x53f)][_0x2b954e(0x2d3)][_0xee36bc]:_0x3b3e75[_0x2b954e(0x2f6)]?_0x216ee7=_0x3b3e75[_0x2b954e(0x2f6)][_0x2b954e(0x2d3)][_0xee36bc]:_0x216ee7=_0x3b3e75[_0xee36bc],!_0xee36bc||!_0x216ee7){console[_0x2b954e(0x307)](_0x2b954e(0xee),_0x3b3e75);return;}_0x3b3e75[_0xee36bc]?.[_0x2b954e(0x576)]?.['stanzaId']&&_0x3b3e75[_0xee36bc]?.['contextInfo']?.[_0x2b954e(0xf1)]&&(_0x4fc5b6=_0x3b3e75[_0xee36bc][_0x2b954e(0x576)][_0x2b954e(0x4e7)]),_0x3b3e75[_0x2b954e(0x176)]?.[_0x2b954e(0x2d3)]?.[_0x2b954e(0x2f0)]?.[_0x2b954e(0x176)]&&(_0x5b6a87=_0x3b3e75['editedMessage'][_0x2b954e(0x2d3)]['protocolMessage']['key']['id'],_0x3b3e75=_0x3b3e75[_0x2b954e(0x176)][_0x2b954e(0x2d3)][_0x2b954e(0x2f0)][_0x2b954e(0x176)]);let _0x3b4a50;if(_0x216ee7&&typeof _0x216ee7=='object'&&_0x2b954e(0x66d)in _0x216ee7&&({pollCreationMessageKey:_0x3b4a50}=_0x216ee7),_0xee36bc==='documentWithCaptionMessage'){let _0x1fa9ab=_0x216ee7?.['message']?.[_0x2b954e(0xf3)];_0x1fa9ab&&(_0x216ee7=_0x1fa9ab);}if(_0xee36bc===_0x2b954e(0x310)||_0xee36bc===_0x2b954e(0x2bd)||_0xee36bc===_0x2b954e(0x338)){let _0x117928=_0x216ee7[_0x2b954e(0x272)][_0x2b954e(0x328)](_0x4a4573=>_0x4a4573['optionName'])['join']('|');_0x2a2485[_0x2b954e(0x35f)]=_0x117928;}if(_0x216ee7){let {pollCreationMessageKey:_0x1afbd5,footerText:_0x3eb350,contentText:_0x3d8a37,pageCount:_0x33d618,headerType:_0xea7b57,isAvatar:_0x599c43,isAnimated:_0xa78f8c,contactVcard:_0x564361,fallbackLc:_0x164b1d,fallbackLg:_0x42cc1b,namespace:_0x416cc0,elementName:_0x48d511,localizableParams:_0xc42e23,viewOnce:_0x4d2c6a,height:_0x241fbd,width:_0x4dcd00,key:_0x337c40,firstScanLength:_0x2487f2,firstScanSidecar:_0x1f76a8,gifPlayback:_0x3e87c1,gifAttribution:_0x3ed6a8,midQualityFileSha256:_0x193b0d,scansSidecar:_0x30e505,streamingSidecar:_0x3b1545,thumbnailHeight:_0xbff408,thumbnailWidth:_0x5ada1c,thumbnailEncSha256:_0x3c66bd,thumbnailDirectPath:_0x1e93a8,canonicalUrl:_0x5d890a,matchedText:_0x1e37e9,previewType:_0x935a2b,thumbnailSha256:_0x1b8ea1,deviceListMetadataVersion:_0x2c505c,inviteLinkGroupTypeV2:_0x4a081b,interactiveAnnotations:_0x140c5d,scanLengths:_0x4cd2dc,jpegThumbnail:_0x2bed37,url:_0x2881f9,mediaKeyTimestamp:_0x38c047,waveform:_0x175e3d,stickerSentTs:_0x35cd3f,firstFrameLength:_0x1905e9,fileEncSha256:_0x2e4b51,contextInfo:_0x3c6629,firstFrameSidecar:_0xf556ba,directPath:_0x1ed45b,fileSha256:_0x4acc0f,mediaKey:_0x1ccb75,senderTimestampMs:_0xb72b99,..._0x22c9e9}=_0x216ee7;typeof _0x216ee7==_0x2b954e(0x53a)?_0x2a2485={'text':_0x216ee7,'type':_0x2b954e(0x674),..._0x5b6a87&&{'edited':_0x5b6a87},..._0x4fc5b6&&{'quoted':_0x4fc5b6}}:_0x2a2485={..._0x22c9e9,..._0xee36bc===_0x2b954e(0x5aa)?{'poll_id':_0x216ee7[_0x2b954e(0x66d)]['id'],'vote':_0x1f94fa}:{},'type':_0xee36bc,..._0x5b6a87&&{'edited':_0x5b6a87},..._0x4fc5b6&&{'quoted':_0x4fc5b6},...(_0xee36bc===_0x2b954e(0x310)||_0xee36bc===_0x2b954e(0x2bd)||_0xee36bc==='pollCreationMessageV3')&&{'convertedOptions':_0x2a2485['convertedOptions']}};}return{'messageType':_0xee36bc,'messageContent':_0x216ee7,'message_normalized':_0x2a2485};},this[_0x5cef5c(0x4a3)]=null,this[_0x5cef5c(0x654)]=0x0,(this[_0x5cef5c(0x3d5)](),this[_0x5cef5c(0x4be)][_0x5cef5c(0x1c1)]={'count':0x0});}set[a0_0x444692(0x2dc)](_0x4bf0f4){const _0x3d4216=a0_0x444692;if(!_0x4bf0f4){this[_0x3d4216(0x4be)][_0x3d4216(0x33d)]=(0x0,io['v4'])();return;}this['instance'][_0x3d4216(0x33d)]=_0x4bf0f4,this[_0x3d4216(0x4e4)](_0x3d4216(0x62e),{'instance':this[_0x3d4216(0x4be)][_0x3d4216(0x33d)],'status':'created'});}get['instanceName'](){const _0x2e3e44=a0_0x444692;return this[_0x2e3e44(0x4be)]['name'];}get[a0_0x444692(0x509)](){const _0x2d8017=a0_0x444692;return this[_0x2d8017(0x4be)][_0x2d8017(0x509)];}async[a0_0x444692(0x2c1)](){const _0x16d073=a0_0x444692;let _0x24884e=this['client'][_0x16d073(0x35e)]?.[_0x16d073(0x33d)]??this['client']['user']?.[_0x16d073(0x434)];if(!_0x24884e){if(this[_0x16d073(0x56e)]['get']('DATABASE')['ENABLED']){let _0x42f946=await R[_0x16d073(0x3e4)]()['db'](this[_0x16d073(0x56e)][_0x16d073(0x589)](_0x16d073(0x253))[_0x16d073(0x1f6)][_0x16d073(0x276)]+_0x16d073(0x275))[_0x16d073(0x457)](this[_0x16d073(0x2dc)])[_0x16d073(0x2d7)]({'_id':_0x16d073(0x1c3)});if(_0x42f946){let _0x1953c8=JSON[_0x16d073(0x3fc)](JSON[_0x16d073(0x343)](_0x42f946),w['BufferJSON'][_0x16d073(0x420)]);_0x24884e=_0x1953c8['me']?.[_0x16d073(0x33d)]||_0x1953c8['me']?.[_0x16d073(0x434)];}}else{if((0x0,_e[_0x16d073(0x2ff)])((0x0,Z[_0x16d073(0x546)])(V,this['instanceName'],_0x16d073(0x29e)))){let _0x41df41=JSON['parse']((0x0,_e[_0x16d073(0x480)])((0x0,Z['join'])(V,this[_0x16d073(0x2dc)],_0x16d073(0x29e)),{'encoding':_0x16d073(0x30e)}));_0x24884e=_0x41df41['me']?.[_0x16d073(0x33d)]||_0x41df41['me']?.[_0x16d073(0x434)];}}}return _0x24884e;}get[a0_0x444692(0x3dd)](){const _0x51c11d=a0_0x444692;return this['instance'][_0x51c11d(0x3dd)];}get[a0_0x444692(0x55a)](){const _0x418585=a0_0x444692;return{'code':this[_0x418585(0x4be)][_0x418585(0x1c1)]?.[_0x418585(0x39d)],'base64':this[_0x418585(0x4be)][_0x418585(0x1c1)]?.['base64']};}async[a0_0x444692(0x4ef)](){const _0x2bfaa7=a0_0x444692;let _0x16a2a3=await this['repository'][_0x2bfaa7(0x681)][_0x2bfaa7(0x235)](this[_0x2bfaa7(0x2dc)]);this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x3eb)]=_0x16a2a3?.[_0x2bfaa7(0x3eb)],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x13e)]=_0x16a2a3?.[_0x2bfaa7(0x13e)],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x1f7)]=_0x16a2a3?.[_0x2bfaa7(0x1f7)],this['localWebhook'][_0x2bfaa7(0x384)]=_0x16a2a3?.[_0x2bfaa7(0x384)],this[_0x2bfaa7(0x4ce)]['QRCODE_UPDATED']=_0x16a2a3?.['QRCODE_UPDATED'],this['localWebhook'][_0x2bfaa7(0x149)]=_0x16a2a3?.['SEND_MESSAGE'],this[_0x2bfaa7(0x4ce)]['MESSAGES_UPSERT']=_0x16a2a3?.[_0x2bfaa7(0x5f9)],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x2fb)]=_0x16a2a3?.['MESSAGES_UPDATE'],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x525)]=_0x16a2a3?.[_0x2bfaa7(0x525)],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x3a5)]=_0x16a2a3?.[_0x2bfaa7(0x3a5)],this[_0x2bfaa7(0x4ce)]['GROUP_PARTICIPANTS_UPDATE']=_0x16a2a3?.[_0x2bfaa7(0x199)],this[_0x2bfaa7(0x4ce)]['CHATS_SET']=_0x16a2a3?.['CHATS_SET'],this[_0x2bfaa7(0x4ce)]['CHATS_UPSERT']=_0x16a2a3?.[_0x2bfaa7(0x4a8)],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x37d)]=_0x16a2a3?.[_0x2bfaa7(0x37d)],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x53d)]=_0x16a2a3?.[_0x2bfaa7(0x53d)],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x637)]=_0x16a2a3?.[_0x2bfaa7(0x637)],this['localWebhook']['CONTACTS_UPSERT']=_0x16a2a3?.[_0x2bfaa7(0x13f)],this['localWebhook'][_0x2bfaa7(0x680)]=_0x16a2a3?.['CONTACTS_UPDATE'],this['localWebhook'][_0x2bfaa7(0x25e)]=_0x16a2a3?.['PRESENCE_UPDATE'],this[_0x2bfaa7(0x4ce)][_0x2bfaa7(0x21a)]=_0x16a2a3?.['MESSAGES_SET'],this['localWebhook'][_0x2bfaa7(0x599)]=_0x16a2a3?.[_0x2bfaa7(0x599)];}async[a0_0x444692(0x483)](_0x492464){const _0x40c12b=a0_0x444692;let _0x396739=['_id',_0x40c12b(0x3eb),_0x40c12b(0x13e),'local_map',_0x40c12b(0x384),_0x40c12b(0x4a5),_0x40c12b(0x2fb),_0x40c12b(0x5f9),_0x40c12b(0x149),_0x40c12b(0x525),_0x40c12b(0x3a5),_0x40c12b(0x199),_0x40c12b(0x59a),_0x40c12b(0x4a8),_0x40c12b(0x37d),'CHATS_DELETE','CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE','PRESENCE_UPDATE',_0x40c12b(0x21a),_0x40c12b(0x599)],_0x27f8c7={};return _0x396739['forEach'](_0x464211=>{_0x492464[_0x464211]!==void 0x0&&(_0x27f8c7[_0x464211]=_0x492464[_0x464211]);}),await this[_0x40c12b(0x1e4)]['webhook']['create'](_0x27f8c7,this[_0x40c12b(0x2dc)]),Object[_0x40c12b(0x136)](this[_0x40c12b(0x4ce)],_0x27f8c7),await this[_0x40c12b(0x1e4)][_0x40c12b(0x681)][_0x40c12b(0x235)](this[_0x40c12b(0x2dc)]);}async['findWebhook'](){const _0x4d4ecc=a0_0x444692;return await this['repository']['webhook'][_0x4d4ecc(0x235)](this['instanceName']);}async[a0_0x444692(0x4e4)](_0x411b1c,_0x3d8d4e){const _0x2942d1=a0_0x444692;let _0x579504=this['configService'][_0x2942d1(0x589)](_0x2942d1(0x622)),_0xc46fa=_0x411b1c[_0x2942d1(0x667)](/[\.-]/gm,'_')[_0x2942d1(0x172)](),_0x5db48d=this[_0x2942d1(0x4ce)][_0x2942d1(0x13e)]&&(0x0,x['isURL'])(this[_0x2942d1(0x4ce)]['url'])?this[_0x2942d1(0x4ce)][_0x2942d1(0x3eb)]+(this[_0x2942d1(0x4ce)]['local_map']?this[_0x2942d1(0x473)][_0x411b1c]:''):null,_0x11f7a5=_0x579504?.[_0x2942d1(0x60d)],_0x4d9d61=_0x11f7a5&&_0x11f7a5?.['ENABLED']&&(0x0,x[_0x2942d1(0x5d3)])(_0x11f7a5['URL'])?_0x11f7a5[_0x2942d1(0x1ef)]+(_0x579504[_0x2942d1(0x132)]?this[_0x2942d1(0x473)][_0x411b1c]:''):null,_0x48d094=this[_0x2942d1(0x4ce)][_0xc46fa],_0x220b13=_0x579504?.['EVENTS']?.[_0xc46fa];if(_0x48d094&&_0x5db48d)try{await le[_0x2942d1(0x331)][_0x2942d1(0x2c0)]({'baseURL':_0x5db48d})[_0x2942d1(0x1c5)]('',{'event':_0x411b1c,'instance':this[_0x2942d1(0x4be)][_0x2942d1(0x33d)],'data':_0x3d8d4e}),this['logger'][_0x2942d1(0xea)]('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x411b1c+':\x20'+_0x5db48d);}catch(_0x38c4ee){this[_0x2942d1(0x134)][_0x2942d1(0x307)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2942d1(0x3c5)+{'local':l[_0x2942d1(0x33d)]+_0x2942d1(0x661),'message':_0x38c4ee?.[_0x2942d1(0x2d3)],'hostName':_0x38c4ee?.[_0x2942d1(0x281)],'syscall':_0x38c4ee?.[_0x2942d1(0x496)],'code':_0x38c4ee?.[_0x2942d1(0x39d)],'error':_0x38c4ee?.['errno'],'stack':_0x38c4ee?.[_0x2942d1(0xdc)],'name':_0x38c4ee?.[_0x2942d1(0x33d)]});}if(_0x220b13&&_0x4d9d61)try{await le['default'][_0x2942d1(0x2c0)]({'baseURL':_0x4d9d61})[_0x2942d1(0x1c5)]('',{'event':_0x411b1c,'instance':this['instance'][_0x2942d1(0x33d)],'data':_0x3d8d4e}),this[_0x2942d1(0x134)]['log']('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x411b1c+':\x20'+_0x4d9d61);}catch(_0x16dab7){this[_0x2942d1(0x134)]['error'](this[_0x2942d1(0x2dc)]+'\x20('+this['instance']['wuid']+'):\x20'+{'local':l[_0x2942d1(0x33d)]+_0x2942d1(0x677),'message':_0x16dab7?.[_0x2942d1(0x2d3)],'hostName':_0x16dab7?.[_0x2942d1(0x281)],'syscall':_0x16dab7?.[_0x2942d1(0x496)],'code':_0x16dab7?.[_0x2942d1(0x39d)],'error':_0x16dab7?.[_0x2942d1(0x644)],'stack':_0x16dab7?.[_0x2942d1(0xdc)],'name':_0x16dab7?.[_0x2942d1(0x33d)]});}}async[a0_0x444692(0xdf)]({qr:_0x3f73f6,connection:_0x41a80c,lastDisconnect:_0x2b34df}){const _0x4e1c4d=a0_0x444692;if(_0x3f73f6){if(this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x1c1)][_0x4e1c4d(0x533)]===this[_0x4e1c4d(0x56e)][_0x4e1c4d(0x589)](_0x4e1c4d(0x3c7))[_0x4e1c4d(0x3f3)])return this[_0x4e1c4d(0x4e4)]('qrcode.updated',{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x4e1c4d(0x24e)]['badSession']}),this['sendDataWebhook'](_0x4e1c4d(0x4a9),{'instance':this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x33d)],'state':'refused','statusReason':w[_0x4e1c4d(0x24e)][_0x4e1c4d(0x32c)]}),this[_0x4e1c4d(0x4e4)](_0x4e1c4d(0x62e),{'instance':this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x33d)],'status':_0x4e1c4d(0x1fc)}),this[_0x4e1c4d(0x4f7)]=!0x0,this[_0x4e1c4d(0x23d)][_0x4e1c4d(0x383)](_0x4e1c4d(0x449),this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x33d)]);this[_0x4e1c4d(0x4be)]['qrcode']['count']++;let _0x33f002={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x4e1c4d(0x357),'dark':_0x4e1c4d(0x1e8)}};ro['default'][_0x4e1c4d(0x212)](_0x3f73f6,_0x33f002,(_0x5a685a,_0x5d6425)=>{const _0x402ed7=_0x4e1c4d;if(_0x5a685a){this[_0x402ed7(0x134)][_0x402ed7(0x307)](this[_0x402ed7(0x2dc)]+'\x20('+this['instance'][_0x402ed7(0x509)]+_0x402ed7(0x45a)+_0x5a685a[_0x402ed7(0x414)]());return;}this['instance'][_0x402ed7(0x1c1)][_0x402ed7(0x15f)]=_0x5d6425,this[_0x402ed7(0x4be)]['qrcode'][_0x402ed7(0x39d)]=_0x3f73f6,this[_0x402ed7(0x4e4)](_0x402ed7(0x436),{'qrcode':{'instance':this[_0x402ed7(0x4be)][_0x402ed7(0x33d)],'code':_0x3f73f6,'base64':_0x5d6425}});}),no['default']['generate'](_0x3f73f6,{'small':!0x0},_0x54b1c7=>this[_0x4e1c4d(0x134)][_0x4e1c4d(0xea)](_0x4e1c4d(0x392)+this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x33d)]+_0x4e1c4d(0x3e1)+this[_0x4e1c4d(0x4be)]['qrcode'][_0x4e1c4d(0x533)]+_0x4e1c4d(0x34c)+_0x54b1c7));}if(_0x41a80c&&(this[_0x4e1c4d(0x487)]={'state':_0x41a80c,'statusReason':_0x2b34df?.[_0x4e1c4d(0x307)]?.[_0x4e1c4d(0x342)]?.[_0x4e1c4d(0x1cf)]??0xc8},this['sendDataWebhook'](_0x4e1c4d(0x4a9),{'instance':this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x33d)],...this[_0x4e1c4d(0x487)]})),_0x41a80c===_0x4e1c4d(0x601)){if(this[_0x4e1c4d(0x4bc)]++,this[_0x4e1c4d(0xd8)][_0x4e1c4d(0x370)](Date[_0x4e1c4d(0x1d5)]()),this[_0x4e1c4d(0xd8)]=this[_0x4e1c4d(0xd8)][_0x4e1c4d(0x14a)](_0x2710f8=>Date['now']()-_0x2710f8<this[_0x4e1c4d(0x284)]),_0x2b34df[_0x4e1c4d(0x307)]?.['output']?.['statusCode']!==w[_0x4e1c4d(0x24e)][_0x4e1c4d(0x1e9)]&&this[_0x4e1c4d(0xd8)][_0x4e1c4d(0x1f4)]<=this[_0x4e1c4d(0x3bb)])await this['connectToWhatsapp']();else{this['sendDataWebhook'](_0x4e1c4d(0x62e),{'instance':this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x33d)],'status':_0x4e1c4d(0x1fc)}),this[_0x4e1c4d(0x5f0)]=!0x1;try{this[_0x4e1c4d(0x134)][_0x4e1c4d(0x44a)](this[_0x4e1c4d(0x2dc)]+'\x20('+this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x509)]+_0x4e1c4d(0x2e8));let _0x11eb64={'where':{'owner':this['instance']['wuid']}},_0x554332=(await this[_0x4e1c4d(0x1e4)][_0x4e1c4d(0x61c)]['find'](_0x11eb64))['length'];await this['repository'][_0x4e1c4d(0x61c)][_0x4e1c4d(0xe7)](_0x11eb64),this['logger'][_0x4e1c4d(0x44a)](this[_0x4e1c4d(0x2dc)]+'\x20('+this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x509)]+'):\x20Deletados\x20'+_0x554332+_0x4e1c4d(0x635));}catch(_0x54036f){console[_0x4e1c4d(0x307)](_0x4e1c4d(0x5b4),_0x54036f);}try{this[_0x4e1c4d(0x134)][_0x4e1c4d(0x44a)](this['instanceName']+'\x20('+this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x509)]+_0x4e1c4d(0x38d));let _0x5bc36d={'where':{'owner':this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x509)]}},_0x56f136=(await this['repository'][_0x4e1c4d(0x2d3)][_0x4e1c4d(0x235)](_0x5bc36d))[_0x4e1c4d(0x1f4)];await this[_0x4e1c4d(0x1e4)][_0x4e1c4d(0x2d3)][_0x4e1c4d(0xe7)](_0x5bc36d),this[_0x4e1c4d(0x134)]['verbose'](this[_0x4e1c4d(0x2dc)]+'\x20('+this[_0x4e1c4d(0x4be)]['wuid']+'):\x20Deletados\x20'+_0x56f136+_0x4e1c4d(0x5b6));}catch(_0x1b24c5){console[_0x4e1c4d(0x307)](_0x4e1c4d(0x11e),_0x1b24c5);}this[_0x4e1c4d(0x313)]!==null&&(this[_0x4e1c4d(0x134)][_0x4e1c4d(0x44a)](this['instanceName']+'\x20('+this[_0x4e1c4d(0x4be)]['wuid']+_0x4e1c4d(0x58e)),clearInterval(this[_0x4e1c4d(0x313)]),this[_0x4e1c4d(0x313)]=null),this[_0x4e1c4d(0x134)][_0x4e1c4d(0x44a)](this[_0x4e1c4d(0x2dc)]+'\x20('+this['instance'][_0x4e1c4d(0x509)]+_0x4e1c4d(0x167)),this[_0x4e1c4d(0x5a2)]=null,this['eventEmitter']['emit'](_0x4e1c4d(0x1f9),this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x33d)],_0x4e1c4d(0x5fc)),this[_0x4e1c4d(0x625)]?.['ws']?.[_0x4e1c4d(0x601)](),this[_0x4e1c4d(0x625)][_0x4e1c4d(0x682)](new Error('Close\x20connection'));}}if(_0x41a80c===_0x4e1c4d(0x360)){this[_0x4e1c4d(0x45e)],this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x509)]=this[_0x4e1c4d(0x625)][_0x4e1c4d(0x35e)]['id']['replace'](/:\d+/,'')[_0x4e1c4d(0x667)](_0x4e1c4d(0x131),''),this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x3dd)]=(await this[_0x4e1c4d(0x441)](this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x509)]+_0x4e1c4d(0x131)))[_0x4e1c4d(0x3dd)];let _0x328382=_0x4e1c4d(0xfb)+this['instance']['wuid'],_0x4562b8=0x28,_0x30c75d=Math['floor']((_0x4562b8-_0x328382['length'])/0x2),_0x230def='\x20'[_0x4e1c4d(0x326)](_0x30c75d),_0x438181=_0x4e1c4d(0x5e1),_0x56e30f=_0x4e1c4d(0x566)+this[_0x4e1c4d(0x4be)][_0x4e1c4d(0x33d)],_0x5b17b8=(''+_0x230def+_0x328382+_0x230def)[_0x4e1c4d(0x1aa)](_0x4562b8,'\x20'),_0x3c6531=(''+_0x230def+_0x438181+_0x230def)[_0x4e1c4d(0x1aa)](_0x4562b8,'\x20'),_0x54c6e1=(''+_0x230def+_0x56e30f+_0x230def)[_0x4e1c4d(0x1aa)](_0x4562b8,'\x20'),_0x500882=Math['max'](_0x5b17b8[_0x4e1c4d(0x1f4)],_0x3c6531[_0x4e1c4d(0x1f4)],_0x54c6e1[_0x4e1c4d(0x1f4)]),_0x1e7ad2=_0x5b17b8[_0x4e1c4d(0x1aa)](_0x500882,'\x20'),_0x4937e2=_0x3c6531[_0x4e1c4d(0x1aa)](_0x500882,'\x20'),_0x46fc12=_0x54c6e1['padEnd'](_0x500882,'\x20');this['logger'][_0x4e1c4d(0x5e0)]((_0x4e1c4d(0x251)+'─'['repeat'](_0x500882)+_0x4e1c4d(0x226)+_0x4937e2+_0x4e1c4d(0x5a1)+_0x46fc12+_0x4e1c4d(0x5a1)+_0x1e7ad2+_0x4e1c4d(0x21e)+'─'[_0x4e1c4d(0x326)](_0x500882)+'┘')[_0x4e1c4d(0x667)](/^ +/gm,'\x20\x20')),this[_0x4e1c4d(0x437)](),this['isConnected']=!0x0;}}[a0_0x444692(0x45e)](){const _0x55dd0d=a0_0x444692;this[_0x55dd0d(0x4bc)]=0x0,this[_0x55dd0d(0xd8)]=[];}async['getMessage'](_0x16de77,_0x2c0bcb=!0x1){const _0x2a1235=a0_0x444692;try{let _0x201674=await this[_0x2a1235(0x1e4)][_0x2a1235(0x2d3)][_0x2a1235(0x235)]({'where':{'owner':this['instance']['wuid'],'key':{'id':_0x16de77['id']}}});return _0x2c0bcb?_0x201674[0x0]:_0x201674[0x0][_0x2a1235(0x2d3)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x1e39f7=a0_0x444692;let _0x2ef0b4=this[_0x1e39f7(0x56e)]['get'](_0x1e39f7(0x508)),_0x287ed2=this[_0x1e39f7(0x56e)][_0x1e39f7(0x589)]('DATABASE');_0x2ef0b4?.[_0x1e39f7(0x217)]&&!_0x287ed2[_0x1e39f7(0xe3)]&&setInterval(()=>{const _0x1d3923=_0x1e39f7;try{for(let [_0x87b9bb,_0x305c7f]of Object['entries'](_0x2ef0b4))_0x305c7f===!0x0&&(0x0,lo[_0x1d3923(0x3f9)])(_0x1d3923(0x111)+(0x0,Z['join'])(this[_0x1d3923(0x30b)],_0x87b9bb['toLowerCase'](),this['instance'][_0x1d3923(0x509)])+'/*.json');}catch{}},(_0x2ef0b4?.[_0x1e39f7(0x217)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x1dbb35=a0_0x444692;let _0x354676=this['configService'][_0x1dbb35(0x589)](_0x1dbb35(0x253)),_0xbce02b=this[_0x1dbb35(0x56e)][_0x1dbb35(0x589)](_0x1dbb35(0x2d8));return _0xbce02b?.[_0x1dbb35(0xe3)]?await ys(_0xbce02b,this[_0x1dbb35(0x4be)][_0x1dbb35(0x33d)]):_0x354676[_0x1dbb35(0xe3)]?await ws(this[_0x1dbb35(0x4be)]['name']):await(0x0,w[_0x1dbb35(0x4ee)])((0x0,Z['join'])(V,this[_0x1dbb35(0x4be)][_0x1dbb35(0x33d)]));}async['AutomateFunctions'](){const _0x45281f=a0_0x444692;let _0x4658e1=()=>Math[_0x45281f(0x1b6)](Math['random']()*0x2711)+0x7d0,_0x3be488=async()=>{const _0x5bd239=_0x45281f;if(!this[_0x5bd239(0x5f0)]){this['logger'][_0x5bd239(0x44a)](_0x5bd239(0x3a9)),this[_0x5bd239(0x302)]=!0x1;return;}if(this[_0x5bd239(0x4be)][_0x5bd239(0x509)]&&this['AutomateSystem']&&this[_0x5bd239(0x313)]!==null&&this[_0x5bd239(0x313)]!==void 0x0){let _0x4431d5=Math['round'](this[_0x5bd239(0x313)]/0xea60);this['logger'][_0x5bd239(0x44a)](this['instanceName']+'\x20('+this[_0x5bd239(0x4be)][_0x5bd239(0x509)]+_0x5bd239(0x1ed)+_0x4431d5+_0x5bd239(0x1b5)),this[_0x5bd239(0x302)]=!0x1;return;}else this[_0x5bd239(0x4be)][_0x5bd239(0x509)]&&(this['logger'][_0x5bd239(0x44a)](this['instanceName']+'\x20('+this[_0x5bd239(0x4be)]['wuid']+_0x5bd239(0x348)),this[_0x5bd239(0x5a2)]||await this[_0x5bd239(0x67d)](),(this['delayMessage']===null||this[_0x5bd239(0x313)]===void 0x0)&&await this[_0x5bd239(0x4de)]());if(this['isRunning']){let _0x5edf68=_0x4658e1();this[_0x5bd239(0x134)][_0x5bd239(0x44a)](this['instanceName']+_0x5bd239(0x3de)+_0x5edf68/0x3e8+'\x20segundos'),setTimeout(_0x3be488,_0x5edf68);}};if(this['isRunning'])return;this[_0x45281f(0x302)]=!0x0;let _0x29c6a0=_0x4658e1();setTimeout(_0x3be488,_0x29c6a0);}async[a0_0x444692(0x41d)](){const _0x868391=a0_0x444692;try{this[_0x868391(0x4ef)](),this[_0x868391(0x4be)]['authState']=await this[_0x868391(0x19c)]();let {version:_0x54882a}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x26535b=this[_0x868391(0x56e)]['get']('CONFIG_SESSION_PHONE'),_0x211019=[_0x26535b[_0x868391(0x2f1)],_0x26535b['NAME'],(0x0,co[_0x868391(0x5c4)])()],_0x308a4d={'auth':{'creds':this[_0x868391(0x4be)]['authState'][_0x868391(0x2f7)][_0x868391(0x1c3)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance'][_0x868391(0x1ec)]['state'][_0x868391(0x182)],(0x0,$t[_0x868391(0x331)])({'level':_0x868391(0x307)}))},'logger':(0x0,$t[_0x868391(0x331)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x211019,'version':_0x54882a,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x868391(0x555)],'getMessage':async _0x4456b8=>await this[_0x868391(0x492)](_0x4456b8),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x868391(0x214)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x596806=>(!!(_0x596806[_0x868391(0x683)]||_0x596806['listMessage'])&&(_0x596806={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x596806}}}),_0x596806)};return this['endSession']=!0x1,this[_0x868391(0x625)]=(0x0,w['default'])(_0x308a4d),this[_0x868391(0x1e2)](),this[_0x868391(0x625)];}catch(_0x4dc3d7){throw this[_0x868391(0x134)][_0x868391(0x307)](this[_0x868391(0x2dc)]+'\x20('+this[_0x868391(0x4be)][_0x868391(0x509)]+_0x868391(0x3c5)+_0x4dc3d7),new A(_0x4dc3d7?.[_0x868391(0x414)]());}}[a0_0x444692(0x1e2)](){const _0x1e7bf6=a0_0x444692;this['client']['ev'][_0x1e7bf6(0x5ea)](_0x220f8a=>{const _0x2052ae=_0x1e7bf6;if(!this[_0x2052ae(0x4f7)]){let _0x2c719d=this[_0x2052ae(0x56e)][_0x2052ae(0x589)](_0x2052ae(0x253));if(_0x220f8a[_0x2052ae(0x4a9)]&&this['connectionUpdate'](_0x220f8a[_0x2052ae(0x4a9)]),_0x220f8a[_0x2052ae(0x42b)]&&this[_0x2052ae(0x4be)][_0x2052ae(0x1ec)][_0x2052ae(0x2cd)](),_0x220f8a[_0x2052ae(0x1b9)]){let _0x3d7d23=_0x220f8a[_0x2052ae(0x1b9)];this['messageHandle']['messaging-history.set'](_0x3d7d23,_0x2c719d);}if(_0x220f8a[_0x2052ae(0x4f9)]){let _0x257e1a=_0x220f8a[_0x2052ae(0x4f9)];this['messageHandle']['messages.upsert'](_0x257e1a,_0x2c719d);}if(_0x220f8a[_0x2052ae(0xfa)]){let _0x5c98cf=_0x220f8a[_0x2052ae(0xfa)];this[_0x2052ae(0x339)][_0x2052ae(0xfa)](_0x5c98cf,_0x2c719d);}if(_0x220f8a[_0x2052ae(0x5eb)]){let _0x35a261=_0x220f8a[_0x2052ae(0x5eb)];this['sendDataWebhook'](_0x2052ae(0x5eb),_0x35a261);}if(_0x220f8a[_0x2052ae(0x52a)]){let _0x4be82f=_0x220f8a[_0x2052ae(0x52a)];this[_0x2052ae(0x294)][_0x2052ae(0x52a)](_0x4be82f);}if(_0x220f8a[_0x2052ae(0x159)]){let _0x6b7a29=_0x220f8a[_0x2052ae(0x159)];this[_0x2052ae(0x294)]['groups.update'](_0x6b7a29);}if(_0x220f8a[_0x2052ae(0x18a)]){let _0x179ac2=_0x220f8a[_0x2052ae(0x18a)];this[_0x2052ae(0x294)]['group-participants.update'](_0x179ac2);}if(_0x220f8a[_0x2052ae(0x187)]){let _0x33a7a6=_0x220f8a[_0x2052ae(0x187)];this['chatHandle']['chats.upsert'](_0x33a7a6,_0x2c719d);}if(_0x220f8a[_0x2052ae(0x233)]){let _0x4782c8=_0x220f8a[_0x2052ae(0x233)];this['chatHandle'][_0x2052ae(0x233)](_0x4782c8,_0x2c719d);}if(_0x220f8a['chats.delete']){let _0x31c3cd=_0x220f8a[_0x2052ae(0x572)];this['chatHandle']['chats.delete'](_0x31c3cd);}if(_0x220f8a['contacts.upsert']){let _0x1ad1a2=_0x220f8a[_0x2052ae(0x347)];this[_0x2052ae(0x593)][_0x2052ae(0x347)](_0x1ad1a2,_0x2c719d);}if(_0x220f8a[_0x2052ae(0x4f6)]){let _0x20b08e=_0x220f8a[_0x2052ae(0x4f6)];this['contactHandle'][_0x2052ae(0x4f6)](_0x20b08e,_0x2c719d);}}});}[a0_0x444692(0x4ba)](_0x2b907d){let _0x16c9f6=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x2b907d);if(_0x16c9f6&&_0x16c9f6[0x1]==='55'){let _0x497594=_0x16c9f6[0x2],_0x2e333d=_0x16c9f6[0x3],_0x13926a=_0x16c9f6[0x4];if(_0x497594>='31'&&_0x2e333d==='9')return _0x16c9f6[0x1]+_0x497594+_0x13926a;}return _0x2b907d;}[a0_0x444692(0x45c)](_0x4f55fd){const _0x80718d=a0_0x444692;return _0x4f55fd[_0x80718d(0x48d)](_0x80718d(0x40c))||_0x4f55fd[_0x80718d(0x48d)](_0x80718d(0x131))||_0x4f55fd['includes'](_0x80718d(0x57f))?_0x4f55fd:(_0x4f55fd=_0x4f55fd?.[_0x80718d(0x667)](/\s/g,'')[_0x80718d(0x667)](/\+/g,'')[_0x80718d(0x667)](/\(/g,'')[_0x80718d(0x667)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x4f55fd[_0x80718d(0x1f4)]>=0x12?(_0x4f55fd=_0x4f55fd[_0x80718d(0x667)](/[^\d-]/g,''),_0x4f55fd+_0x80718d(0x40c)):(_0x4f55fd=_0x4f55fd['replace'](/\D/g,''),this[_0x80718d(0x4ba)](_0x4f55fd)+_0x80718d(0x131)));}async['profilePicture'](_0x4f0bb2){const _0x4a413f=a0_0x444692;let _0x4ee8f8=this['createJid'](_0x4f0bb2);try{return{'wuid':_0x4ee8f8,'profilePictureUrl':await this[_0x4a413f(0x625)][_0x4a413f(0x3dd)](_0x4ee8f8,_0x4a413f(0x40d))};}catch{return{'wuid':_0x4ee8f8,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x4c6d42,_0x5b1487,_0x3423f2){const _0x9d4efb=a0_0x444692;let _0x16d974=(await this[_0x9d4efb(0x51b)]({'numbers':[_0x4c6d42]}))[0x0];if(!_0x16d974['exists']&&!(0x0,w[_0x9d4efb(0x2c2)])(_0x16d974['jid'])&&!_0x16d974[_0x9d4efb(0x408)][_0x9d4efb(0x48d)](_0x9d4efb(0x57f)))throw new m(_0x16d974);let _0x5b550e=_0x16d974['jid'];try{_0x3423f2?.['delay']&&(await this[_0x9d4efb(0x625)][_0x9d4efb(0x215)](_0x5b550e),await this[_0x9d4efb(0x625)]['sendPresenceUpdate'](_0x3423f2?.[_0x9d4efb(0x424)]??_0x9d4efb(0x524),_0x5b550e),await(0x0,w['delay'])(_0x3423f2[_0x9d4efb(0x128)]),await this[_0x9d4efb(0x625)]['sendPresenceUpdate']('paused',_0x5b550e));let _0xb7869c=_0x3423f2?.[_0x9d4efb(0x1ae)]!=!0x1?void 0x0:!0x1,_0x408ba3;if(_0x3423f2?.[_0x9d4efb(0x179)]){let _0x356ade=_0x3423f2?.[_0x9d4efb(0x179)],_0x218c96=_0x356ade?.[_0x9d4efb(0x2d3)]?_0x356ade:await this['getMessage'](_0x356ade[_0x9d4efb(0x4c1)],!0x0);if(!_0x218c96)throw _0x9d4efb(0x2aa);_0x408ba3=_0x218c96;}let _0x391f54;if((0x0,w[_0x9d4efb(0x2c2)])(_0x5b550e))try{let _0x787449=await this[_0x9d4efb(0x625)][_0x9d4efb(0x2c9)](_0x5b550e);if(!_0x787449)throw new L(_0x9d4efb(0x216));_0x3423f2?.[_0x9d4efb(0x4a6)]&&(_0x3423f2['mentions']?.[_0x9d4efb(0x3fe)]?_0x391f54=_0x787449[_0x9d4efb(0x5b8)][_0x9d4efb(0x328)](_0x35ed8e=>_0x35ed8e['id']):_0x3423f2['mentions']?.[_0x9d4efb(0x125)]?.[_0x9d4efb(0x1f4)]&&(_0x391f54=_0x3423f2[_0x9d4efb(0x4a6)][_0x9d4efb(0x125)][_0x9d4efb(0x328)](_0xaa71c5=>{const _0x986ec7=_0x9d4efb;let _0x2b93bc=this[_0x986ec7(0x45c)](_0xaa71c5);return(0x0,w['isJidGroup'])(_0x2b93bc)?null:_0x2b93bc;})));}catch{throw new L('Group\x20not\x20found');}let _0x2e54f1=await((async()=>{const _0x1abbd8=_0x9d4efb;let _0x32fbd4={'quoted':_0x408ba3};return!_0x5b1487['audio']&&!_0x5b1487[_0x1abbd8(0x60f)]&&!_0x5b1487['sticker']&&!_0x5b1487[_0x1abbd8(0x674)]&&_0x5b550e!=='status@broadcast'&&!_0x5b1487[_0x1abbd8(0x3ec)]?await this[_0x1abbd8(0x625)][_0x1abbd8(0x153)](_0x5b550e,{'forward':{'key':{'remoteJid':this[_0x1abbd8(0x4be)][_0x1abbd8(0x509)],'fromMe':!0x0},'message':_0x5b1487},'mentions':_0x391f54},_0x32fbd4):_0x5b1487[_0x1abbd8(0x674)]?await this[_0x1abbd8(0x625)]['sendMessage'](_0x5b550e,{'text':_0x5b1487[_0x1abbd8(0x674)],'mentions':_0x391f54,'linkPreview':_0xb7869c},_0x32fbd4):_0x5b550e===_0x1abbd8(0x18f)?await this[_0x1abbd8(0x625)][_0x1abbd8(0x153)](_0x5b550e,_0x5b1487[_0x1abbd8(0x475)]['content'],{'backgroundColor':_0x5b1487[_0x1abbd8(0x475)][_0x1abbd8(0x499)][_0x1abbd8(0x15c)],'font':_0x5b1487['status'][_0x1abbd8(0x499)][_0x1abbd8(0x296)],'statusJidList':_0x5b1487[_0x1abbd8(0x475)][_0x1abbd8(0x499)]['statusJidList']}):await this['client'][_0x1abbd8(0x153)](_0x5b550e,_0x5b1487,_0x32fbd4);})()),{message_normalized:_0x37d89f}=this['normalizeMessage'](_0x2e54f1[_0x9d4efb(0x2d3)],q(_0x2e54f1[_0x9d4efb(0x2d3)]),null),_0x4dbca8={'key':_0x2e54f1[_0x9d4efb(0x4c1)],'pushName':_0x2e54f1['pushName'],'message':{..._0x2e54f1[_0x9d4efb(0x2d3)]},'messageType':q(_0x2e54f1['message']),'message_normalized':{'key':_0x2e54f1[_0x9d4efb(0x4c1)],'pushName':_0x2e54f1[_0x9d4efb(0x14d)],'messageTimestamp':_0x2e54f1['messageTimestamp']&&_0x2e54f1[_0x9d4efb(0x471)][_0x9d4efb(0x414)]()[_0x9d4efb(0x1f4)]<0xd?_0x2e54f1[_0x9d4efb(0x471)]*0x3e8:_0x2e54f1[_0x9d4efb(0x471)]||null,'source':(0x0,w[_0x9d4efb(0x440)])(_0x2e54f1[_0x9d4efb(0x4c1)]['id']),..._0x37d89f},'messageTimestamp':_0x2e54f1[_0x9d4efb(0x471)]&&_0x2e54f1['messageTimestamp'][_0x9d4efb(0x414)]()[_0x9d4efb(0x1f4)]<0xd?_0x2e54f1[_0x9d4efb(0x471)]*0x3e8:_0x2e54f1[_0x9d4efb(0x471)]||null,'owner':this[_0x9d4efb(0x4be)][_0x9d4efb(0x509)],'source':(0x0,w[_0x9d4efb(0x440)])(_0x2e54f1[_0x9d4efb(0x4c1)]['id'])};return this[_0x9d4efb(0x134)][_0x9d4efb(0xea)](_0x4dbca8),await this[_0x9d4efb(0x4e4)](_0x9d4efb(0x12a),_0x4dbca8),H(this[_0x9d4efb(0x2dc)],_0x9d4efb(0x263),{'message':_0x4dbca8}),this['updateChatWithMessage'](this[_0x9d4efb(0x56e)][_0x9d4efb(0x589)](_0x9d4efb(0x253)),_0x4dbca8,'SEND_MESSAGE'),await this[_0x9d4efb(0x1e4)][_0x9d4efb(0x2d3)][_0x9d4efb(0x54b)]([_0x4dbca8],this[_0x9d4efb(0x56e)][_0x9d4efb(0x589)](_0x9d4efb(0x253))[_0x9d4efb(0xe3)]),_0x2e54f1;}catch(_0x236e16){throw this[_0x9d4efb(0x134)]['error'](this[_0x9d4efb(0x2dc)]+'\x20('+this['instance'][_0x9d4efb(0x509)]+_0x9d4efb(0x3c5)+_0x236e16[_0x9d4efb(0x414)]()),new m(_0x236e16[_0x9d4efb(0x414)]());}}get[a0_0x444692(0xe8)](){const _0x60463c=a0_0x444692;return this[_0x60463c(0x487)];}async[a0_0x444692(0x5ca)](_0x52bbda){const _0x491cfd=a0_0x444692;let _0x1e6648=this[_0x491cfd(0x56e)][_0x491cfd(0x589)](_0x491cfd(0x243)),_0x389570=this[_0x491cfd(0x56e)][_0x491cfd(0x589)]('TRIAL_INSTANCE_NAME');return _0x389570&&this[_0x491cfd(0x2dc)][_0x491cfd(0x171)]()[_0x491cfd(0x48d)](_0x389570[_0x491cfd(0x171)]())&&(_0x52bbda[_0x491cfd(0x5ca)][_0x491cfd(0x36d)]+='\x0a\x0a'+_0x1e6648),await this['sendMessageWithTyping'](_0x52bbda[_0x491cfd(0x44b)],{'conversation':_0x52bbda[_0x491cfd(0x5ca)][_0x491cfd(0x36d)]},_0x52bbda?.[_0x491cfd(0x272)]);}async[a0_0x444692(0x502)](_0x1e6566){const _0x1581a8=a0_0x444692;if(!_0x1e6566[_0x1581a8(0x2fe)])throw new m('Type\x20is\x20required');if(!_0x1e6566[_0x1581a8(0x444)])throw new m(_0x1581a8(0x28a));if(_0x1e6566[_0x1581a8(0x3e6)]){let _0x25ef4d=await this[_0x1581a8(0x1e4)][_0x1581a8(0x19a)]['find']({'where':{'owner':this['instance'][_0x1581a8(0x509)]}});if(!_0x25ef4d[_0x1581a8(0x1f4)])throw new m(_0x1581a8(0x1bc));_0x1e6566[_0x1581a8(0x4ad)]=_0x25ef4d[_0x1581a8(0x14a)](_0x5017c6=>_0x5017c6['pushName'])['map'](_0x159538=>_0x159538['id']);}if(!_0x1e6566[_0x1581a8(0x4ad)]?.[_0x1581a8(0x1f4)]&&!_0x1e6566[_0x1581a8(0x3e6)])throw new m('StatusJidList\x20is\x20required');if(_0x1e6566[_0x1581a8(0x2fe)]==='text'){if(!_0x1e6566[_0x1581a8(0x15c)])throw new m(_0x1581a8(0x60a));if(!_0x1e6566[_0x1581a8(0x296)])throw new m(_0x1581a8(0x374));return{'content':{'text':_0x1e6566[_0x1581a8(0x444)]},'option':{'backgroundColor':_0x1e6566[_0x1581a8(0x15c)],'font':_0x1e6566[_0x1581a8(0x296)],'statusJidList':_0x1e6566[_0x1581a8(0x4ad)]}};}if(_0x1e6566[_0x1581a8(0x2fe)]===_0x1581a8(0x40d))return{'content':{'image':{'url':_0x1e6566[_0x1581a8(0x444)]},'caption':_0x1e6566[_0x1581a8(0x4c2)]},'option':{'statusJidList':_0x1e6566[_0x1581a8(0x4ad)]}};if(_0x1e6566[_0x1581a8(0x2fe)]===_0x1581a8(0x411))return{'content':{'video':{'url':_0x1e6566[_0x1581a8(0x444)]},'caption':_0x1e6566['caption']},'option':{'statusJidList':_0x1e6566[_0x1581a8(0x4ad)]}};if(_0x1e6566[_0x1581a8(0x2fe)]==='audio'){let _0x170016;if((0x0,x[_0x1581a8(0x5d3)])(_0x1e6566['content'])){let _0x8aa146=await le[_0x1581a8(0x331)][_0x1581a8(0x589)](_0x1e6566[_0x1581a8(0x444)],{'responseType':'arraybuffer'});if(_0x170016=Buffer[_0x1581a8(0x193)](_0x8aa146[_0x1581a8(0x63a)]),_0x1e6566[_0x1581a8(0x444)][_0x1581a8(0x2e9)]('.mp3'))try{_0x170016=await this[_0x1581a8(0xfc)](_0x170016);}catch(_0x414a65){throw new A(_0x1581a8(0x574)+_0x414a65[_0x1581a8(0x2d3)]);}else _0x170016=Buffer[_0x1581a8(0x193)](_0x1e6566[_0x1581a8(0x444)],_0x1581a8(0x15f));let _0x56f01c=_0x170016;return{'content':{'audio':Buffer[_0x1581a8(0x193)](_0x56f01c,_0x1581a8(0x15f)),'ptt':!0x0,'mimetype':_0x1581a8(0x236)},'option':{'statusJidList':_0x1e6566['statusJidList']}};}else throw new A();}throw new m('Type\x20not\x20found');}async[a0_0x444692(0xf6)](_0xbb1780){const _0x305a1c=a0_0x444692;return await this[_0x305a1c(0x48b)](_0x305a1c(0x18f),{'status':await this[_0x305a1c(0x502)](_0xbb1780['statusMessage'])});}async[a0_0x444692(0x21d)](_0xcb42d4){const _0x14502f=a0_0x444692;try{let _0xb1127=await(0x0,w[_0x14502f(0x46d)])({[_0xcb42d4[_0x14502f(0x26a)]]:(0x0,x[_0x14502f(0x5d3)])(_0xcb42d4[_0x14502f(0x2eb)])?{'url':_0xcb42d4[_0x14502f(0x2eb)]}:Buffer[_0x14502f(0x193)](_0xcb42d4[_0x14502f(0x2eb)],'base64')},{'upload':this[_0x14502f(0x625)][_0x14502f(0x2cb)]}),_0x11adad=_0xcb42d4[_0x14502f(0x26a)]+_0x14502f(0x5ed);if(_0xcb42d4[_0x14502f(0x26a)]===_0x14502f(0x431)&&!_0xcb42d4[_0x14502f(0x29b)]){let _0x5080dd=new RegExp(/.*\/(.+?)\./)['exec'](_0xcb42d4[_0x14502f(0x2eb)]);_0xcb42d4[_0x14502f(0x29b)]=_0x5080dd[0x1];}let _0x1230ca;(0x0,x[_0x14502f(0x5d3)])(_0xcb42d4[_0x14502f(0x2eb)])?_0x1230ca=(0x0,bs[_0x14502f(0x621)])(_0xcb42d4[_0x14502f(0x2eb)]):_0x1230ca=(0x0,bs[_0x14502f(0x621)])(_0xcb42d4[_0x14502f(0x29b)]);let _0x52e193=this[_0x14502f(0x56e)][_0x14502f(0x589)]('TRIAL_AD'),_0x328462=this[_0x14502f(0x56e)]['get']('TRIAL_INSTANCE_NAME');return _0x328462&&this['instanceName'][_0x14502f(0x171)]()[_0x14502f(0x48d)](_0x328462[_0x14502f(0x171)]())&&(_0xcb42d4['caption']+='\x0a\x0a'+_0x52e193),_0xb1127[_0x11adad][_0x14502f(0x4c2)]=_0xcb42d4?.[_0x14502f(0x4c2)],_0xb1127[_0x11adad][_0x14502f(0x2cf)]=_0x1230ca,_0xb1127[_0x11adad][_0x14502f(0x29b)]=_0xcb42d4[_0x14502f(0x29b)],_0xcb42d4[_0x14502f(0x26a)]===_0x14502f(0x411)&&(_0xb1127[_0x11adad][_0x14502f(0x478)]=Uint8Array['from']((0x0,_e['readFileSync'])((0x0,Z[_0x14502f(0x546)])(process[_0x14502f(0x568)](),_0x14502f(0x528)))),_0xb1127[_0x11adad][_0x14502f(0x590)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x11adad]:{..._0xb1127[_0x11adad]}},{'userJid':this[_0x14502f(0x4be)][_0x14502f(0x509)]});}catch(_0x2f931c){throw this['logger']['error'](this[_0x14502f(0x2dc)]+'\x20('+this[_0x14502f(0x4be)][_0x14502f(0x509)]+'):\x20'+_0x2f931c),new A(_0x2f931c?.['toString']()||_0x2f931c);}}async[a0_0x444692(0x521)](_0x447cae){const _0x1d30f5=a0_0x444692;let _0xa3abeb=await this[_0x1d30f5(0x21d)](_0x447cae[_0x1d30f5(0x521)]);return await this[_0x1d30f5(0x48b)](_0x447cae[_0x1d30f5(0x44b)],{..._0xa3abeb[_0x1d30f5(0x2d3)]},_0x447cae?.[_0x1d30f5(0x272)]);}async[a0_0x444692(0x17b)](_0x50ca7a){const _0x81dc29=a0_0x444692;return await this[_0x81dc29(0x48b)](_0x50ca7a[_0x81dc29(0x44b)],{'sticker':{'url':_0x50ca7a[_0x81dc29(0x59f)][_0x81dc29(0x40d)]}},_0x50ca7a?.[_0x81dc29(0x272)]);}async[a0_0x444692(0x1a6)](_0x295080){const _0x500898=a0_0x444692;let _0x215cb6;if((0x0,x[_0x500898(0x5d3)])(_0x295080[_0x500898(0x290)][_0x500898(0x3ec)])){let _0xd15992=await le[_0x500898(0x331)][_0x500898(0x589)](_0x295080['audioMessage'][_0x500898(0x3ec)],{'responseType':_0x500898(0x650)});if(_0x215cb6=Buffer[_0x500898(0x193)](_0xd15992[_0x500898(0x63a)]),_0x295080[_0x500898(0x290)]['audio'][_0x500898(0x2e9)](_0x500898(0x2f3)))try{_0x215cb6=await this[_0x500898(0xfc)](_0x215cb6);}catch(_0x522dbc){throw new A(_0x500898(0x574)+_0x522dbc[_0x500898(0x2d3)]);}}else _0x215cb6=Buffer['from'](_0x295080[_0x500898(0x290)][_0x500898(0x3ec)],_0x500898(0x15f));let _0x26e318=_0x215cb6;return this[_0x500898(0x48b)](_0x295080[_0x500898(0x44b)],{'audio':_0x26e318,'mimetype':_0x500898(0x236),'ptt':!0x0},{'presence':'recording','delay':_0x295080?.[_0x500898(0x272)]?.[_0x500898(0x128)]});}async[a0_0x444692(0xfc)](_0x46259f){return new Promise(async(_0x125a2a,_0x282228)=>{const _0x578b39=a0_0x3772;let _0x209c60=po[_0x578b39(0x12d)][_0x578b39(0x193)](_0x46259f),_0x3fc860=new mo[(_0x578b39(0x585))]();(0x0,uo[_0x578b39(0x331)])()['input'](_0x209c60)[_0x578b39(0x41a)]()[_0x578b39(0x539)](['-acodec','libopus',_0x578b39(0x34b),'16000'])[_0x578b39(0x598)](_0x578b39(0x26f))[_0x578b39(0x14b)](0x1)[_0x578b39(0x1ce)](0xbb80)['audioBitrate'](0x12)['format'](_0x578b39(0xf0))[_0x578b39(0x342)](_0x3fc860)['on'](_0x578b39(0x682),async()=>{const _0x40d6d8=_0x578b39;let _0x16b424=_0x3fc860['getContents']();Buffer['isBuffer'](_0x16b424)?_0x125a2a(_0x16b424):_0x282228(new Error(_0x40d6d8(0x3c0)));})['on']('error',_0x441d12=>{_0x282228(_0x441d12);})[_0x578b39(0x51f)]();});}async[a0_0x444692(0x269)](_0x3e4beb){const _0x59ee9b=a0_0x444692;let _0x3d990c={},_0x39a197=_0x59ee9b(0x358);if(_0x3e4beb[_0x59ee9b(0x269)]?.[_0x59ee9b(0x521)]){_0x39a197=_0x3e4beb[_0x59ee9b(0x269)]['mediaMessage']?.['mediatype']['toUpperCase']()??_0x59ee9b(0x358),_0x3d990c[_0x59ee9b(0x2c6)]=_0x39a197[_0x59ee9b(0x171)]()+_0x59ee9b(0x5ed);let _0x443a0c=await this['prepareMediaMessage'](_0x3e4beb[_0x59ee9b(0x269)][_0x59ee9b(0x521)]);_0x3d990c[_0x59ee9b(0x2d3)]=_0x443a0c[_0x59ee9b(0x2d3)][_0x3d990c['mediaKey']],_0x3d990c[_0x59ee9b(0x5e5)]='*'+_0x3e4beb[_0x59ee9b(0x269)][_0x59ee9b(0x5e3)]+_0x59ee9b(0x267)+_0x3e4beb[_0x59ee9b(0x269)]['description'];}let _0x335529={'text':_0x3e4beb[_0x59ee9b(0x269)][_0x59ee9b(0x498)][_0x59ee9b(0x328)](_0x278b32=>_0x278b32[_0x59ee9b(0x1f8)]),'ids':_0x3e4beb['buttonMessage'][_0x59ee9b(0x498)][_0x59ee9b(0x328)](_0x1beac7=>_0x1beac7['buttonId'])};if(!(0x0,x[_0x59ee9b(0x4f4)])(_0x335529[_0x59ee9b(0x36d)])||!(0x0,x[_0x59ee9b(0x4f4)])(_0x335529['ids']))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x59ee9b(0xf2));return await this[_0x59ee9b(0x48b)](_0x3e4beb[_0x59ee9b(0x44b)],{'buttonsMessage':{'text':_0x3d990c?.[_0x59ee9b(0x2c6)]?void 0x0:_0x3e4beb[_0x59ee9b(0x269)][_0x59ee9b(0x5e3)],'contentText':_0x3d990c?.['contentText']??_0x3e4beb[_0x59ee9b(0x269)][_0x59ee9b(0x529)],'footerText':_0x3e4beb['buttonMessage']?.[_0x59ee9b(0x359)],'buttons':_0x3e4beb[_0x59ee9b(0x269)][_0x59ee9b(0x498)][_0x59ee9b(0x328)](_0x4fee1a=>({'buttonText':{'displayText':_0x4fee1a[_0x59ee9b(0x1f8)]},'buttonId':_0x4fee1a[_0x59ee9b(0x5ac)],'type':0x1})),'headerType':w[_0x59ee9b(0x519)]['Message'][_0x59ee9b(0x341)][_0x59ee9b(0x3b1)][_0x39a197],[_0x3d990c?.[_0x59ee9b(0x2c6)]]:_0x3d990c?.[_0x59ee9b(0x2d3)]}},_0x3e4beb?.['options']);}async[a0_0x444692(0x454)](_0x2cd177){const _0x8b7c7a=a0_0x444692;return await this[_0x8b7c7a(0x48b)](_0x2cd177[_0x8b7c7a(0x44b)],{'locationMessage':{'degreesLatitude':_0x2cd177[_0x8b7c7a(0x454)][_0x8b7c7a(0x255)],'degreesLongitude':_0x2cd177[_0x8b7c7a(0x454)]['longitude'],'name':_0x2cd177['locationMessage']?.[_0x8b7c7a(0x33d)],'address':_0x2cd177['locationMessage']?.[_0x8b7c7a(0xfe)]}},_0x2cd177?.[_0x8b7c7a(0x272)]);}async[a0_0x444692(0x2bb)](_0xcfc6c){const _0x5cef79=a0_0x444692;return await this[_0x5cef79(0x48b)](_0xcfc6c[_0x5cef79(0x44b)],{'listMessage':{'title':_0xcfc6c['listMessage']['title'],'description':_0xcfc6c['listMessage']['description'],'buttonText':_0xcfc6c[_0x5cef79(0x2bb)]?.[_0x5cef79(0x1f8)],'footerText':_0xcfc6c[_0x5cef79(0x2bb)]?.['footerText'],'sections':_0xcfc6c[_0x5cef79(0x2bb)][_0x5cef79(0x20d)],'listType':0x1}},_0xcfc6c?.[_0x5cef79(0x272)]);}async['contactMessage'](_0xd41ea8){const _0x552206=a0_0x444692;let _0x2d3815={},_0x1ca961=_0x55cde1=>{const _0x4acf47=a0_0x3772;let _0x3d3777='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x55cde1[_0x4acf47(0x5ab)]+_0x4acf47(0x232)+_0x55cde1[_0x4acf47(0x5ab)]+'\x0a';_0x55cde1[_0x4acf47(0x438)]&&(_0x3d3777+='ORG:'+_0x55cde1[_0x4acf47(0x438)]+';\x0a'),_0x55cde1[_0x4acf47(0x2ae)]&&(_0x3d3777+=_0x4acf47(0x221)+_0x55cde1[_0x4acf47(0x2ae)]+'\x0a'),_0x55cde1[_0x4acf47(0x3eb)]&&(_0x3d3777+=_0x4acf47(0x4dc)+_0x55cde1[_0x4acf47(0x3eb)]+'\x0a');let _0x5bb525='';return _0x55cde1[_0x4acf47(0x614)]&&_0x55cde1[_0x4acf47(0x614)][_0x4acf47(0x1b4)]('|')[_0x4acf47(0x58d)]((_0x117c0e,_0x2c2288)=>{const _0x400a7a=_0x4acf47;let _0x4f40c1=this[_0x400a7a(0x45c)](_0x117c0e)[_0x400a7a(0x667)](_0x400a7a(0x131),'');_0x5bb525+='item'+(_0x2c2288+0x1)+_0x400a7a(0x638)+_0x4f40c1+':'+_0x117c0e+_0x400a7a(0x54e)+(_0x2c2288+0x1)+_0x400a7a(0x26c);}),_0x3d3777+=_0x5bb525+_0x4acf47(0x538),_0x3d3777;};return _0xd41ea8['contactMessage'][_0x552206(0x1f4)]===0x1?_0x2d3815['contactMessage']={'displayName':_0xd41ea8[_0x552206(0x25f)][0x0]['fullName'],'vcard':_0x1ca961(_0xd41ea8['contactMessage'][0x0])}:_0x2d3815[_0x552206(0x116)]={'displayName':_0xd41ea8[_0x552206(0x25f)]['length']+_0x552206(0x163),'contacts':_0xd41ea8['contactMessage']['map'](_0x282e5d=>({'displayName':_0x282e5d[_0x552206(0x5ab)],'vcard':_0x1ca961(_0x282e5d)}))},await this[_0x552206(0x48b)](_0xd41ea8[_0x552206(0x44b)],{..._0x2d3815},_0xd41ea8?.[_0x552206(0x272)]);}async[a0_0x444692(0x535)](_0x4e782b){const _0xff305b=a0_0x444692;return await this[_0xff305b(0x48b)](_0x4e782b['reactionMessage'][_0xff305b(0x4c1)][_0xff305b(0x278)],{'reactionMessage':{'key':_0x4e782b[_0xff305b(0x535)][_0xff305b(0x4c1)],'text':_0x4e782b[_0xff305b(0x535)]['reaction']}});}async[a0_0x444692(0x51b)](_0x5a554f){const _0x3d4dcb=a0_0x444692;let _0x8d056b=[];for await(let _0x1c7116 of _0x5a554f[_0x3d4dcb(0x32a)]){let _0x41d67b=this[_0x3d4dcb(0x45c)](_0x1c7116);if((0x0,w[_0x3d4dcb(0x2c2)])(_0x41d67b)){let _0x556cc1=await this[_0x3d4dcb(0x59d)]({'groupJid':_0x41d67b},'inner');_0x8d056b[_0x3d4dcb(0x370)](new he(_0x556cc1[_0x3d4dcb(0xf5)]['id'],!!_0x556cc1?.[_0x3d4dcb(0xf5)]['id'],_0x556cc1?.['metadata']['subject']));}else try{let _0x147df9=(await this[_0x3d4dcb(0x625)]['onWhatsApp'](_0x41d67b))[0x0];_0x8d056b[_0x3d4dcb(0x370)](new he(_0x147df9[_0x3d4dcb(0x408)],_0x147df9[_0x3d4dcb(0x461)]));}catch{_0x8d056b[_0x3d4dcb(0x370)](new he(_0x1c7116,!0x1));}}return _0x8d056b;}async[a0_0x444692(0x239)](_0x48dd7e){const _0xfd959e=a0_0x444692;try{let _0x32b174=[];try{_0x48dd7e[_0xfd959e(0x5a8)]['forEach'](_0x484d73=>{const _0x3e5dcc=_0xfd959e;((0x0,w[_0x3e5dcc(0x2c2)])(_0x484d73[_0x3e5dcc(0x278)])||(0x0,w[_0x3e5dcc(0x4f3)])(_0x484d73[_0x3e5dcc(0x278)]))&&_0x32b174[_0x3e5dcc(0x370)]({'remoteJid':_0x484d73[_0x3e5dcc(0x278)],'fromMe':_0x484d73[_0x3e5dcc(0x569)],'id':_0x484d73['id']});});}catch(_0x61b22a){console['error']('Error\x20processing\x20read\x20messages:',_0x61b22a);}await this[_0xfd959e(0x625)][_0xfd959e(0x5a8)](_0x32b174);let _0x850cde=_0x32b174[_0xfd959e(0x328)](_0x151171=>this[_0xfd959e(0x24a)](_0x151171,_0x151171[_0xfd959e(0x278)],{'status':_0xfd959e(0x550),'owner':this[_0xfd959e(0x4be)][_0xfd959e(0x509)]}));await Promise[_0xfd959e(0x5d9)](_0x850cde);let _0x29be0a=_0x32b174[_0xfd959e(0x328)](_0x241b43=>I['findOneAndUpdate']({'id':_0x241b43['remoteJid'],'owner':this[_0xfd959e(0x4be)][_0xfd959e(0x509)]},{'$set':{'unreadcount':0x0}},{'new':!0x0}));return(await Promise[_0xfd959e(0x5d9)](_0x29be0a))[_0xfd959e(0x14a)](_0x2d6600=>_0x2d6600!==null)[_0xfd959e(0x58d)](_0x442adc=>{const _0x3dafd4=_0xfd959e;H(this[_0x3dafd4(0x2dc)],_0x3dafd4(0x368),{'chat':_0x442adc});}),await Promise['all'](_0x29be0a),{'message':_0xfd959e(0x65a),'read':_0xfd959e(0x668)};}catch(_0x1cece5){throw new A(_0xfd959e(0x5af),_0x1cece5[_0xfd959e(0x414)]());}}async[a0_0x444692(0x396)](_0x4427f0){const _0x2ac611=a0_0x444692;try{return _0x4427f0[_0x2ac611(0x325)][_0x2ac611(0x471)]=_0x4427f0[_0x2ac611(0x325)]?.['messageTimestamp']??Date['now'](),await this['client'][_0x2ac611(0x20b)]({'archive':_0x4427f0[_0x2ac611(0x29f)],'lastMessages':[_0x4427f0[_0x2ac611(0x325)]]},_0x4427f0[_0x2ac611(0x325)]['key'][_0x2ac611(0x278)]),{'chatId':_0x4427f0['lastMessage'][_0x2ac611(0x4c1)][_0x2ac611(0x278)],'archived':!0x0};}catch(_0x20e23d){throw new A({'archived':!0x1,'message':[_0x2ac611(0x1bf),_0x20e23d['toString']()]});}}async[a0_0x444692(0x1d0)](_0x2fd24e){const _0x151378=a0_0x444692;try{let _0x201d04=await this[_0x151378(0x625)][_0x151378(0x153)](_0x2fd24e[_0x151378(0x278)],{'delete':_0x2fd24e});try{let _0x556124=await this['updateMessage'](_0x2fd24e,_0x2fd24e[_0x151378(0x278)],{'status':_0x151378(0x4b6),'owner':this[_0x151378(0x4be)][_0x151378(0x509)]});this[_0x151378(0x134)][_0x151378(0x44a)](this[_0x151378(0x2dc)]+'\x20('+this[_0x151378(0x4be)][_0x151378(0x509)]+'):\x20updateResult:'+_0x556124);}catch(_0x2ab53a){console[_0x151378(0x307)](_0x151378(0x188),_0x2ab53a);}return _0x201d04;}catch(_0x5d97ce){throw new A('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x5d97ce?.[_0x151378(0x414)]());}}async['getBase64FromMediaMessage'](_0x3ff5b9){const _0x57d88c=a0_0x444692;try{let _0x4c1644=_0x3ff5b9?.[_0x57d88c(0x2d3)]?_0x3ff5b9:await this[_0x57d88c(0x492)](_0x3ff5b9[_0x57d88c(0x4c1)],!0x0);for(let _0x58aa75 of zs)_0x4c1644['message'][_0x58aa75]&&(_0x4c1644[_0x57d88c(0x2d3)]=_0x4c1644[_0x57d88c(0x2d3)][_0x58aa75]['message']);let _0x4f268e,_0x181364;for(let _0x557733 of Ks)if(_0x4f268e=_0x4c1644['message'][_0x557733],_0x4f268e){_0x181364=_0x557733;break;}if(!_0x4f268e)throw _0x57d88c(0x143);typeof _0x4f268e['mediaKey']=='object'&&(_0x4c1644[_0x57d88c(0x2d3)]=JSON[_0x57d88c(0x3fc)](JSON['stringify'](_0x4c1644['message'])));let _0x36f4df=await(0x0,w[_0x57d88c(0x38e)])({'key':_0x4c1644?.[_0x57d88c(0x4c1)],'message':_0x4c1644?.[_0x57d88c(0x2d3)]},'buffer',{},{'logger':(0x0,$t[_0x57d88c(0x331)])({'level':_0x57d88c(0x307)}),'reuploadRequest':this[_0x57d88c(0x625)]['updateMediaMessage']});if(!(_0x36f4df instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');if(this[_0x57d88c(0x56e)][_0x57d88c(0x589)]('DATABASE')[_0x57d88c(0xe3)]){let _0x353eeb;if(_0x4f268e[_0x57d88c(0x29b)])_0x353eeb=_0x4f268e[_0x57d88c(0x29b)];else{let _0x1c9b89=_0x4f268e[_0x57d88c(0x2cf)]?.[_0x57d88c(0x257)](/\/(\w+)/),_0x339d78=_0x1c9b89?_0x1c9b89[0x1]:null;if(_0x339d78===_0x57d88c(0x4b8)&&_0x4f268e[_0x57d88c(0x2cf)]?.[_0x57d88c(0x48d)](_0x57d88c(0xf0))&&(_0x339d78=_0x57d88c(0xf0)),!_0x339d78)throw new Error(_0x57d88c(0x2e2));_0x353eeb=(0x0,go['v4'])()+'.'+_0x339d78;}await this[_0x57d88c(0x26d)](_0x36f4df,_0x353eeb);let _0x21e28b=_0x57d88c(0x4d1)+_0x353eeb,_0x2bb04c=this[_0x57d88c(0x56e)]['get'](_0x57d88c(0x173)),_0x201f79=this['configService'][_0x57d88c(0x589)](_0x57d88c(0x2b6))['PORT'],_0x5483da=_0x2bb04c&&_0x2bb04c[_0x57d88c(0x1ee)][_0x57d88c(0x1b4)]('/')[0x4];_0x201f79===0x1bb&&(_0x21e28b=''+(_0x57d88c(0x50b)+_0x5483da)+_0x21e28b);let _0x27f551={'where':{'key':{'id':_0x4c1644['key']['id'],'remoteJid':_0x4c1644[_0x57d88c(0x4c1)][_0x57d88c(0x278)],'fromMe':_0x4c1644['key'][_0x57d88c(0x569)]},'owner':this[_0x57d88c(0x4be)][_0x57d88c(0x509)]}},_0x14bc72=0xc*0x3c*0x3c*0x3e8,_0x5ce0c5={'message_normalized.fileUrl':_0x21e28b,'message_normalized.expires_fileUrl':Date[_0x57d88c(0x1d5)]()+_0x14bc72};try{let _0x3aad6f=await this[_0x57d88c(0x1e4)][_0x57d88c(0x2d3)][_0x57d88c(0xeb)](_0x27f551,_0x5ce0c5);_0x3aad6f&&H(this[_0x57d88c(0x2dc)],'messages',{'message':_0x3aad6f});}catch{}}return{'mediaType':_0x181364,'fileName':_0x4f268e[_0x57d88c(0x29b)],'caption':_0x4f268e[_0x57d88c(0x4c2)],'size':{'fileLength':_0x4f268e[_0x57d88c(0x31d)],'height':_0x4f268e['height'],'width':_0x4f268e['width']},'mimetype':_0x4f268e['mimetype'],'base64':_0x36f4df[_0x57d88c(0x414)](_0x57d88c(0x15f))};}catch(_0x3feaad){throw this[_0x57d88c(0x134)][_0x57d88c(0x307)](this[_0x57d88c(0x2dc)]+'\x20('+this[_0x57d88c(0x4be)][_0x57d88c(0x509)]+_0x57d88c(0x3c5)+_0x3feaad),new m(_0x3feaad[_0x57d88c(0x414)]());}}async['saveMediaToFile'](_0xa6b64b,_0x15b81e){const _0x18bd58=a0_0x444692;console[_0x18bd58(0xea)](_0x18bd58(0x58c),__dirname),console['log'](_0x18bd58(0x43c),_0x15b81e);let _0x2d7326=Z[_0x18bd58(0x331)][_0x18bd58(0x546)](__dirname,'downloads');console[_0x18bd58(0xea)]('Media\x20folder\x20path:',_0x2d7326),Se['existsSync'](_0x2d7326)||(console[_0x18bd58(0xea)](_0x18bd58(0x237)),Se[_0x18bd58(0xf7)](_0x2d7326,{'recursive':!0x0}));let _0x520dec=Z[_0x18bd58(0x331)][_0x18bd58(0x546)](_0x2d7326,_0x15b81e);return console['log'](_0x18bd58(0x549),_0x520dec),new Promise((_0x321561,_0x132168)=>{const _0x52db16=_0x18bd58;Se[_0x52db16(0x288)](_0x520dec,_0xa6b64b,_0x1bd82c=>{const _0x12a175=_0x52db16;_0x1bd82c?(console[_0x12a175(0x307)](_0x12a175(0x36c),_0x1bd82c),_0x132168(_0x1bd82c)):_0x321561(_0x520dec);});});}async[a0_0x444692(0x135)](_0x4bb27e){const _0x355947=a0_0x444692;return _0x4bb27e?.[_0x355947(0x427)]?_0x4bb27e[_0x355947(0x427)]['owner']=this[_0x355947(0x4be)][_0x355947(0x509)]:_0x4bb27e={'where':{'owner':this[_0x355947(0x4be)][_0x355947(0x509)]}},await this[_0x355947(0x1e4)][_0x355947(0x19a)]['find'](_0x4bb27e);}async[a0_0x444692(0x1ff)](_0x61c319){const _0x5e6148=a0_0x444692;_0x61c319?.[_0x5e6148(0x427)]?_0x61c319[_0x5e6148(0x427)][_0x5e6148(0x5ec)]=this['instance'][_0x5e6148(0x509)]:_0x61c319={'where':{'owner':this[_0x5e6148(0x4be)]['wuid']},'limit':_0x61c319?.[_0x5e6148(0x3d8)]};let _0x430a8c=_0x61c319?.['where']?.[_0x5e6148(0x4c1)]?.['remoteJid'];return _0x430a8c&&this['fetchAndUpdateProfileDetails'](_0x430a8c)[_0x5e6148(0x50e)](_0x5887ae=>{const _0x1ced6d=_0x5e6148;this[_0x1ced6d(0x134)][_0x1ced6d(0x307)](_0x1ced6d(0x42d)+_0x5887ae);}),await this[_0x5e6148(0x1e4)][_0x5e6148(0x2d3)][_0x5e6148(0x235)](_0x61c319);}async[a0_0x444692(0x42c)](_0xa5b220){const _0x4a8ed8=a0_0x444692;return _0xa5b220?.[_0x4a8ed8(0x427)]?_0xa5b220[_0x4a8ed8(0x427)][_0x4a8ed8(0x5ec)]=this['instance'][_0x4a8ed8(0x509)]:_0xa5b220={'where':{'owner':this[_0x4a8ed8(0x4be)]['wuid']},'limit':_0xa5b220?.[_0x4a8ed8(0x3d8)]},await this['repository'][_0x4a8ed8(0x61c)][_0x4a8ed8(0x235)](_0xa5b220);}async[a0_0x444692(0x609)](){const _0x2dd702=a0_0x444692;return await this[_0x2dd702(0x1e4)][_0x2dd702(0x446)]['find']({'where':{'owner':this[_0x2dd702(0x4be)][_0x2dd702(0x509)]}});}async[a0_0x444692(0x588)](){const _0x12e922=a0_0x444692;return await this[_0x12e922(0x625)][_0x12e922(0x588)]();}async[a0_0x444692(0x105)](_0x5517cf){const _0x10f5e4=a0_0x444692;try{return await this[_0x10f5e4(0x625)][_0x10f5e4(0x3ff)](_0x5517cf['privacySettings'][_0x10f5e4(0x52e)]),await this[_0x10f5e4(0x625)][_0x10f5e4(0x27f)](_0x5517cf[_0x10f5e4(0x679)][_0x10f5e4(0x46e)]),await this[_0x10f5e4(0x625)]['updateStatusPrivacy'](_0x5517cf[_0x10f5e4(0x679)]['status']),await this[_0x10f5e4(0x625)]['updateOnlinePrivacy'](_0x5517cf[_0x10f5e4(0x679)]['online']),await this[_0x10f5e4(0x625)]['updateLastSeenPrivacy'](_0x5517cf[_0x10f5e4(0x679)][_0x10f5e4(0x629)]),await this[_0x10f5e4(0x625)][_0x10f5e4(0x24f)](_0x5517cf[_0x10f5e4(0x679)][_0x10f5e4(0x522)]),this[_0x10f5e4(0x625)]?.['ws']?.[_0x10f5e4(0x601)](),{'update':_0x10f5e4(0x668),'data':{'readreceipts':_0x5517cf[_0x10f5e4(0x679)]['readreceipts'],'profile':_0x5517cf['privacySettings'][_0x10f5e4(0x46e)],'status':_0x5517cf['privacySettings'][_0x10f5e4(0x475)],'online':_0x5517cf['privacySettings']['online'],'last':_0x5517cf[_0x10f5e4(0x679)]['last'],'groupadd':_0x5517cf[_0x10f5e4(0x679)][_0x10f5e4(0x522)]}};}catch(_0x1ce586){throw new A(_0x10f5e4(0x28e),_0x1ce586[_0x10f5e4(0x414)]());}}async[a0_0x444692(0xe0)](_0x59de0b){const _0xe05691=a0_0x444692;let _0x2b3249=_0x59de0b?this[_0xe05691(0x45c)](_0x59de0b):this['client']?.[_0xe05691(0x35e)]?.['id'];this['logger'][_0xe05691(0x44a)](_0xe05691(0x10f)+_0x2b3249);try{if(this['logger'][_0xe05691(0x44a)](_0xe05691(0x113)),_0x59de0b){let _0x5c1a73=(await this[_0xe05691(0x51b)]({'numbers':[_0x2b3249]}))?.[_0xe05691(0x295)](),_0xa8f2cb=await this[_0xe05691(0x441)](_0x5c1a73?.[_0xe05691(0x408)]),_0x1a1c5a=await this['getStatus'](_0x5c1a73?.[_0xe05691(0x408)]),_0x26af17=await this['fetchBusinessProfile'](_0x5c1a73?.['jid']);return{'wuid':_0x5c1a73?.[_0xe05691(0x408)]||_0x2b3249,'name':_0x5c1a73?.[_0xe05691(0x33d)],'numberExists':_0x5c1a73?.['exists'],'picture':_0xa8f2cb?.[_0xe05691(0x3dd)],'status':_0x1a1c5a?.[_0xe05691(0x475)],'isBusiness':_0x26af17[_0xe05691(0x4e1)],'email':_0x26af17?.[_0xe05691(0x2ae)],'description':_0x26af17?.['description'],'website':_0x26af17?.[_0xe05691(0x266)]?.[_0xe05691(0x295)]()};}}catch{return this[_0xe05691(0x134)]['verbose'](_0xe05691(0x10d)),{'wuid':_0x2b3249,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x444692(0x662)](_0xab3b38){const _0x60063a=a0_0x444692;this[_0x60063a(0x134)]['verbose'](_0x60063a(0x4aa));try{let _0x5521ce=_0xab3b38?this['createJid'](_0xab3b38):this[_0x60063a(0x4be)][_0x60063a(0x509)],_0x1caddb=await this[_0x60063a(0x625)][_0x60063a(0x3fd)](_0x5521ce);return this['logger'][_0x60063a(0x44a)](_0x60063a(0x181)),_0x1caddb?(this[_0x60063a(0x134)]['verbose'](_0x60063a(0x615)),{'isBusiness':!0x0,..._0x1caddb}):{'isBusiness':!0x1,'message':_0x60063a(0x13a),...(await this['whatsappNumber']({'numbers':[_0x5521ce]}))?.[_0x60063a(0x295)]()};}catch(_0xc86b89){throw new A('Error\x20updating\x20profile\x20name',_0xc86b89['toString']());}}async[a0_0x444692(0x564)](_0x4add23,_0x1d42a4=!0x0){const _0x4f5996=a0_0x444692;let _0x186bba=null,_0x164b16=null,_0x170547;if(_0x1d42a4){let _0x579260=Date[_0x4f5996(0x1d5)]()-0x5265c00,_0x43b243=await I[_0x4f5996(0x2d7)]({'id':_0x4add23,'owner':this[_0x4f5996(0x4be)][_0x4f5996(0x509)],'lastcache':{'$gt':_0x579260}});if(_0x43b243)return{'wuid':_0x4add23,'profilePictureUrl':_0x43b243[_0x4f5996(0x518)],'contactName':_0x43b243[_0x4f5996(0x33d)]};}try{_0x186bba=await this[_0x4f5996(0x625)][_0x4f5996(0x3dd)](_0x4add23,_0x4f5996(0x40d));}catch(_0x41bffe){this['logger'][_0x4f5996(0x307)]('Erro\x20ao\x20obter\x20a\x20imagem\x20do\x20perfil:\x20'+_0x41bffe);}if(_0x4add23[_0x4f5996(0x2e9)]('@g.us')){let _0x1a9b62=await this[_0x4f5996(0x59d)]({'groupJid':_0x4add23}),_0x5af4c7=_0x1a9b62?_0x1a9b62[_0x4f5996(0xf5)]['subject']:null;_0x170547=await I['findOneAndUpdate']({'id':_0x4add23,'owner':this[_0x4f5996(0x4be)][_0x4f5996(0x509)]},{'$set':{'imagechat':_0x186bba,'name':_0x5af4c7,'lastcache':Date[_0x4f5996(0x1d5)]()}},{'new':!0x0});}else{try{let _0x32f2ec=await Fe[_0x4f5996(0x2d7)]({'id':_0x4add23});_0x164b16=_0x32f2ec?_0x32f2ec['pushName']:null;}catch(_0x17f6a4){this[_0x4f5996(0x134)][_0x4f5996(0x307)](_0x4f5996(0x630)+_0x17f6a4);}_0x170547=await I[_0x4f5996(0x2d4)]({'id':_0x4add23,'owner':this[_0x4f5996(0x4be)]['wuid']},{'$set':{'imagechat':_0x186bba,'name':_0x164b16,'lastcache':Date[_0x4f5996(0x1d5)]()}},{'new':!0x0});}return _0x170547&&H(this[_0x4f5996(0x2dc)],_0x4f5996(0x368),{'chat':_0x170547}),{'wuid':_0x4add23,'profilePictureUrl':_0x186bba,'contactName':_0x164b16};}async['getStatus'](_0x66d806){const _0x3e03d0=a0_0x444692;let _0x5b8513=this[_0x3e03d0(0x45c)](_0x66d806);try{return{'wuid':_0x5b8513,'status':(await this[_0x3e03d0(0x625)]['fetchStatus'](_0x5b8513))?.[_0x3e03d0(0x475)]};}catch{return{'wuid':_0x5b8513,'status':null};}}async[a0_0x444692(0x66a)](_0xa6214d){const _0x3206d=a0_0x444692;try{return await this['client'][_0x3206d(0x66a)](_0xa6214d),{'update':_0x3206d(0x668)};}catch(_0x21d4d1){throw new A(_0x3206d(0x64a),_0x21d4d1[_0x3206d(0x414)]());}}async[a0_0x444692(0x12b)](_0x5dc74b){const _0x5741dc=a0_0x444692;try{return await this[_0x5741dc(0x625)][_0x5741dc(0x12b)](_0x5dc74b),{'update':_0x5741dc(0x668)};}catch(_0x59717c){throw new A(_0x5741dc(0x23e),_0x59717c[_0x5741dc(0x414)]());}}async[a0_0x444692(0x4ec)](_0x5b6ef2){const _0x11752f=a0_0x444692;try{let _0x153aac;if((0x0,x[_0x11752f(0x5d3)])(_0x5b6ef2)){let _0x416766=new Date()[_0x11752f(0x2b7)](),_0x2104c3=_0x5b6ef2+_0x11752f(0x39c)+_0x416766;_0x153aac=(await le['default'][_0x11752f(0x589)](_0x2104c3,{'responseType':_0x11752f(0x650)}))['data'];}else{if((0x0,x[_0x11752f(0x49f)])(_0x5b6ef2))_0x153aac=Buffer[_0x11752f(0x193)](_0x5b6ef2,'base64');else throw new m(_0x11752f(0x21f));}return await this[_0x11752f(0x625)][_0x11752f(0x4ec)](this['instance'][_0x11752f(0x509)],_0x153aac),{'update':_0x11752f(0x668)};}catch(_0x124d64){throw new A(_0x11752f(0x470),_0x124d64[_0x11752f(0x414)]());}}async['removeProfilePicture'](){const _0x83f091=a0_0x444692;try{return await this[_0x83f091(0x625)][_0x83f091(0x2e5)](this[_0x83f091(0x4be)]['wuid']),{'update':_0x83f091(0x668)};}catch(_0x16df9c){throw new A(_0x83f091(0x2c4),_0x16df9c[_0x83f091(0x414)]());}}async[a0_0x444692(0x687)](_0x2a03fd){const _0x56dfa9=a0_0x444692;try{let _0x2b4b72=_0x2a03fd[_0x56dfa9(0x5b8)][_0x56dfa9(0x328)](_0x23992d=>this[_0x56dfa9(0x45c)](_0x23992d)),{id:_0x5166ec}=await this[_0x56dfa9(0x625)][_0x56dfa9(0x3d2)](_0x2a03fd['subject'],_0x2b4b72);return _0x2a03fd?.[_0x56dfa9(0x529)]&&await this[_0x56dfa9(0x625)][_0x56dfa9(0x485)](_0x5166ec,_0x2a03fd['description']),{'metadata':await this[_0x56dfa9(0x625)]['groupMetadata'](_0x5166ec)};}catch(_0xd52f2a){throw this[_0x56dfa9(0x134)][_0x56dfa9(0x307)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x56dfa9(0x3c5)+_0xd52f2a),new A(_0x56dfa9(0x4da),_0xd52f2a['toString']());}}async[a0_0x444692(0x44e)](_0x211b34){const _0x4b0b1e=a0_0x444692;try{let _0x57dea0;if((0x0,x[_0x4b0b1e(0x5d3)])(_0x211b34[_0x4b0b1e(0x40d)])){let _0x3e1efb=new Date()[_0x4b0b1e(0x2b7)](),_0x4d4243=_0x211b34[_0x4b0b1e(0x40d)]+'?timestamp='+_0x3e1efb;_0x57dea0=(await le[_0x4b0b1e(0x331)]['get'](_0x4d4243,{'responseType':_0x4b0b1e(0x650)}))[_0x4b0b1e(0x63a)];}else{if((0x0,x[_0x4b0b1e(0x49f)])(_0x211b34['image']))_0x57dea0=Buffer[_0x4b0b1e(0x193)](_0x211b34['image'],_0x4b0b1e(0x15f));else throw new m(_0x4b0b1e(0x21f));}return await this[_0x4b0b1e(0x625)][_0x4b0b1e(0x4ec)](_0x211b34['groupJid'],_0x57dea0),{'update':_0x4b0b1e(0x668)};}catch(_0x4994d3){throw new A(_0x4b0b1e(0x62d),_0x4994d3[_0x4b0b1e(0x414)]());}}async[a0_0x444692(0x59d)](_0x5d253e,_0x266b7e=a0_0x444692(0x198)){const _0x86e3fb=a0_0x444692;try{let _0x527093=await this[_0x86e3fb(0x625)][_0x86e3fb(0x2c9)](_0x5d253e['groupJid']),_0x1f9076=null;try{_0x1f9076=await this[_0x86e3fb(0x625)]['profilePictureUrl'](_0x5d253e[_0x86e3fb(0x540)],_0x86e3fb(0x40d));}catch(_0x104642){this['logger'][_0x86e3fb(0x44a)](this[_0x86e3fb(0x2dc)]+'\x20('+this[_0x86e3fb(0x4be)][_0x86e3fb(0x509)]+_0x86e3fb(0x1c4)+_0x5d253e['groupJid']+':\x20'+_0x104642[_0x86e3fb(0x414)]());}return{'metadata':_0x527093,'image':_0x1f9076};}catch(_0x4eae48){if(_0x266b7e===_0x86e3fb(0x5fc))return;throw new L(_0x86e3fb(0x17d),_0x4eae48[_0x86e3fb(0x414)]());}}async[a0_0x444692(0x3a7)](_0x60396f){const _0x284066=a0_0x444692;try{return await this[_0x284066(0x625)]['groupUpdateDescription'](_0x60396f[_0x284066(0x540)],_0x60396f[_0x284066(0x529)]),{'update':_0x284066(0x668)};}catch(_0x3bbee7){throw new A('Error\x20change\x20group\x20description',_0x3bbee7[_0x284066(0x414)]());}}async[a0_0x444692(0x33e)](_0x57699f){const _0x480d18=a0_0x444692;try{return await this[_0x480d18(0x625)][_0x480d18(0x200)](_0x57699f[_0x480d18(0x540)],_0x57699f[_0x480d18(0x33d)]),{'update':_0x480d18(0x668)};}catch(_0xec32c1){throw new A('Error\x20change\x20group\x20name',_0xec32c1[_0x480d18(0x414)]());}}async['groupSetting'](_0x2287d4){const _0x1c4c36=a0_0x444692;try{return await this[_0x1c4c36(0x625)][_0x1c4c36(0x59b)](_0x2287d4[_0x1c4c36(0x540)],_0x2287d4[_0x1c4c36(0x4e6)]),{'update':_0x1c4c36(0x668)};}catch(_0x3bd765){throw new A(_0x1c4c36(0x20f),_0x3bd765[_0x1c4c36(0x414)]());}}async[a0_0x444692(0x3b5)](){const _0x306a5=a0_0x444692;try{let _0x224e12=[],_0xe10025=await this[_0x306a5(0x625)]['groupFetchAllParticipating'](),_0x2bc04c=Object[_0x306a5(0x432)](_0xe10025),_0x199367=_0x2bc04c[_0x306a5(0x14a)](_0x2af177=>(0x0,w[_0x306a5(0x2c2)])(_0x2af177?.['id']))[_0x306a5(0x328)](async _0x224d7a=>{const _0x52b518=_0x306a5;try{return await this[_0x52b518(0x625)][_0x52b518(0x3dd)](_0x224d7a['id'],_0x52b518(0x40d));}catch(_0x954d19){return this['logger'][_0x52b518(0x44a)](this['instanceName']+'\x20('+this['instance'][_0x52b518(0x509)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x224d7a['id']+':\x20'+_0x954d19[_0x52b518(0x414)]()),null;}}),_0x1fa598=await Promise[_0x306a5(0x5d9)](_0x199367);for(let _0x4d3505=0x0;_0x4d3505<_0x2bc04c['length'];_0x4d3505++){let _0x1ea9f5=_0x2bc04c[_0x4d3505];(0x0,w[_0x306a5(0x2c2)])(_0x1ea9f5?.['id'])&&_0x224e12[_0x306a5(0x370)]({'groupJid':_0x1ea9f5?.['id'],'subject':_0x1ea9f5?.[_0x306a5(0x2d9)],'subjectOwner':_0x1ea9f5?.[_0x306a5(0x486)]?.[_0x306a5(0x1b4)]('@')[0x0],'subjectTime':_0x1ea9f5?.[_0x306a5(0x556)],'size':_0x1ea9f5?.[_0x306a5(0x5b8)]?.[_0x306a5(0x1f4)],'owner':_0x1ea9f5?.[_0x306a5(0x5ec)]?.['split']('@')[0x0],'creation':_0x1ea9f5?.[_0x306a5(0x225)],'desc':_0x1ea9f5?.[_0x306a5(0x626)],'restrict':_0x1ea9f5?.[_0x306a5(0x63c)],'announce':_0x1ea9f5?.[_0x306a5(0x323)],'image':_0x1fa598[_0x4d3505]});}return _0x224e12;}catch(_0x1f4f46){throw new L(_0x306a5(0x17d),_0x1f4f46['toString']());}}async[a0_0x444692(0x67a)](_0x25281a){const _0x4dbb00=a0_0x444692;try{let _0x138e49=await this[_0x4dbb00(0x625)][_0x4dbb00(0x4b3)](_0x25281a[_0x4dbb00(0x540)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x138e49,'inviteCode':_0x138e49};}catch(_0x3e9755){throw new L(_0x4dbb00(0x177),_0x3e9755[_0x4dbb00(0x414)]());}}async['revokeInviteCode'](_0x4e0f92){const _0x2a2b71=a0_0x444692;try{let _0x5325da=await this[_0x2a2b71(0x625)][_0x2a2b71(0x3f8)](_0x4e0f92[_0x2a2b71(0x540)]);return{'revoked':!0x0,'inviteUrl':_0x2a2b71(0x573)+_0x5325da,'inviteCode':_0x5325da};}catch(_0x4a523b){throw new L(_0x2a2b71(0x25b),_0x4a523b['toString']());}}async[a0_0x444692(0x3da)](_0x986296){const _0x23abb7=a0_0x444692;try{if((0x0,x[_0x23abb7(0x5d3)])(_0x986296['inviteCode']))var _0x24c968=_0x986296[_0x23abb7(0x67a)]['split']('/')[0x3];else var _0x24c968=_0x986296[_0x23abb7(0x67a)];let _0x1ac367=await this['client'][_0x23abb7(0x37f)](_0x24c968);return this['logger']['verbose'](this[_0x23abb7(0x2dc)]+'\x20('+this[_0x23abb7(0x4be)][_0x23abb7(0x509)]+_0x23abb7(0x3c5)+_0x1ac367),{'join':!0x0,'inviteCode':_0x24c968,'groupJid':_0x1ac367};}catch(_0x36bcd0){throw new L('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x36bcd0['toString']());}}async[a0_0x444692(0x660)](_0x19cf85){const _0x4ccdd0=a0_0x444692;try{return{'participants':(await this['client'][_0x4ccdd0(0x2c9)](_0x19cf85['groupJid']))[_0x4ccdd0(0x5b8)]};}catch(_0x3d24bb){throw new L(_0x4ccdd0(0x611),_0x3d24bb[_0x4ccdd0(0x414)]());}}async['updateGParticipant'](_0x2da773){const _0x40a8cf=a0_0x444692;try{let _0x21e45a=_0x2da773[_0x40a8cf(0x5b8)][_0x40a8cf(0x328)](_0x23116e=>this[_0x40a8cf(0x45c)](_0x23116e));return{'updateParticipants':await this[_0x40a8cf(0x625)][_0x40a8cf(0x41b)](_0x2da773[_0x40a8cf(0x540)],_0x21e45a,_0x2da773[_0x40a8cf(0x511)])};}catch(_0x30477e){throw new m(_0x40a8cf(0x103),_0x30477e[_0x40a8cf(0x414)]());}}async[a0_0x444692(0x335)](_0x5d8552){const _0x1bebaa=a0_0x444692;try{let _0x2e9914=await this['client'][_0x1bebaa(0x2c5)](_0x5d8552[_0x1bebaa(0x540)],_0x5d8552['expiration']);return{'success':!0x0};}catch(_0x5edab5){throw new m(_0x1bebaa(0x4e9),_0x5edab5[_0x1bebaa(0x414)]());}}async[a0_0x444692(0x145)](_0x584ab9){const _0x5458f4=a0_0x444692;try{return await this['client'][_0x5458f4(0x108)](_0x584ab9['groupJid']),{'groupJid':_0x584ab9['groupJid'],'leave':!0x0};}catch(_0x2edce5){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x2edce5[_0x5458f4(0x414)]());}}async[a0_0x444692(0x54c)](_0xacd803){const _0x1ce3f0=a0_0x444692;return await this['sendMessageWithTyping'](_0xacd803[_0x1ce3f0(0x44b)],{'poll':{'name':_0xacd803[_0x1ce3f0(0x54c)]?.['name'],'selectableCount':_0xacd803[_0x1ce3f0(0x54c)][_0x1ce3f0(0x425)],'values':_0xacd803[_0x1ce3f0(0x54c)][_0x1ce3f0(0x432)]}},_0xacd803?.[_0x1ce3f0(0x272)]);}async[a0_0x444692(0x24a)](_0x4adeec,_0x30364f,_0x4a5ca1){const _0x12ff54=a0_0x444692;if(await this[_0x12ff54(0x492)](_0x4adeec,!0x0)){let _0x33e7e3={'where':{'key':{'id':_0x4adeec['id'],'remoteJid':_0x30364f,'fromMe':_0x4adeec[_0x12ff54(0x569)]},'owner':this['instance']['wuid']}},_0x3d5306={'status':[_0x4a5ca1[_0x12ff54(0x475)]][0x0]};try{let _0x33418e=await this[_0x12ff54(0x1e4)][_0x12ff54(0x2d3)][_0x12ff54(0xeb)](_0x33e7e3,_0x3d5306);_0x33418e&&H(this[_0x12ff54(0x2dc)],_0x12ff54(0x263),{'message':_0x33418e});}catch{}}}async['updateChatWithMessage'](_0x15ddd6,_0x2623c4,_0x10210c){const _0x57d9ff=a0_0x444692;let _0x4bf3c7=_0x2623c4['key'][_0x57d9ff(0x278)],_0x3f5443=_0x2623c4[_0x57d9ff(0x4c1)][_0x57d9ff(0x569)],_0x1d046b=_0x4bf3c7['endsWith'](_0x57d9ff(0x40c));if(!_0x15ddd6[_0x57d9ff(0xe3)])return;let _0x4d8135={'$set':{..._0x3f5443?{'unreadcount':0x0,'lastmsg':_0x2623c4[_0x57d9ff(0x471)]||Date[_0x57d9ff(0x1d5)]()}:{'lastmsg':_0x2623c4[_0x57d9ff(0x471)]||Date['now']()},..._0x3f5443||_0x1d046b?{}:{'name':_0x2623c4['pushName']}},'$setOnInsert':{'group':_0x1d046b,'leadInfo.tags':[],'leadInfo.customFields':[],...!_0x3f5443&&!_0x1d046b?{'leadInfo.nome':_0x2623c4[_0x57d9ff(0x14d)]}:{}},..._0x3f5443?{}:{'$inc':{'unreadcount':0x1}}};console[_0x57d9ff(0xea)]('update.$set.lastmsg'),console['log'](_0x4d8135[_0x57d9ff(0x334)]['lastmsg']);let _0x10b544={'new':!0x0,'upsert':!0x0,'setDefaultsOnInsert':!0x0},_0x34d99f=await I['findOneAndUpdate']({'id':_0x4bf3c7,'owner':this[_0x57d9ff(0x4be)]['wuid']},_0x4d8135,_0x10b544);if(_0x34d99f?(!_0x1d046b&&(!_0x34d99f[_0x57d9ff(0x20e)]||!_0x34d99f[_0x57d9ff(0x20e)][_0x57d9ff(0x157)])&&_0x2623c4[_0x57d9ff(0x14d)]&&!_0x3f5443&&(_0x4d8135={'$set':{'leadInfo.nome':_0x2623c4[_0x57d9ff(0x14d)]}},_0x34d99f=await I['findOneAndUpdate']({'id':_0x4bf3c7,'owner':this[_0x57d9ff(0x4be)][_0x57d9ff(0x509)]},_0x4d8135,_0x10b544)),H(this[_0x57d9ff(0x2dc)],_0x57d9ff(0x368),{'chat':_0x34d99f})):this[_0x57d9ff(0x134)][_0x57d9ff(0x307)](this[_0x57d9ff(0x2dc)]+'\x20('+this[_0x57d9ff(0x4be)][_0x57d9ff(0x509)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat'),!this['AutomateSystem'][_0x57d9ff(0x580)][_0x57d9ff(0x13e)])return this['logger']['verbose'](this[_0x57d9ff(0x2dc)]+'\x20('+this[_0x57d9ff(0x4be)][_0x57d9ff(0x509)]+_0x57d9ff(0x4c6)),null;if(_0x34d99f['id'][_0x57d9ff(0x48d)](_0x57d9ff(0x40c))&&this['AutomateSystem'][_0x57d9ff(0x580)][_0x57d9ff(0x28b)]===!0x0)return this['logger'][_0x57d9ff(0x44a)](this[_0x57d9ff(0x2dc)]+'\x20('+this['instance'][_0x57d9ff(0x509)]+_0x57d9ff(0x32f)),null;if(_0x34d99f[_0x57d9ff(0x20e)]){if(_0x34d99f[_0x57d9ff(0x20e)][_0x57d9ff(0x346)]===0x0||_0x34d99f['leadInfo'][_0x57d9ff(0x542)])return this[_0x57d9ff(0x134)][_0x57d9ff(0x44a)](this[_0x57d9ff(0x2dc)]+'\x20('+this[_0x57d9ff(0x4be)][_0x57d9ff(0x509)]+_0x57d9ff(0x4c0)+_0x4bf3c7+_0x57d9ff(0x141)),null;if(_0x34d99f[_0x57d9ff(0x20e)][_0x57d9ff(0x346)]>Date[_0x57d9ff(0x1d5)]())return this[_0x57d9ff(0x134)]['verbose'](this['instanceName']+'\x20('+this[_0x57d9ff(0x4be)][_0x57d9ff(0x509)]+_0x57d9ff(0x530)+new Date(_0x34d99f['leadInfo'][_0x57d9ff(0x346)])[_0x57d9ff(0x365)]()+_0x57d9ff(0x141)),null;}this['logger'][_0x57d9ff(0x44a)](this[_0x57d9ff(0x2dc)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x57d9ff(0x3fa)](_0x10210c,_0x2623c4,this['instance']['wuid']);}async[a0_0x444692(0x1de)](){const _0x40bffd=a0_0x444692;let _0x57bc56=await this[_0x40bffd(0x1e4)][_0x40bffd(0x19a)][_0x40bffd(0x235)]({'where':{'owner':this['instance'][_0x40bffd(0x509)]}}),_0x199149=0x0,_0x157f9a=[];for(let _0x3c24ea of _0x57bc56)_0x157f9a['push']({'updateOne':{'filter':{'id':_0x3c24ea['id'],'owner':this[_0x40bffd(0x4be)][_0x40bffd(0x509)]},'update':{'$set':{'contactname':_0x3c24ea['pushName']}}}}),_0x157f9a[_0x40bffd(0x1f4)]===0x1f4&&(_0x199149+=await this[_0x40bffd(0x245)](_0x157f9a),_0x157f9a=[]);_0x157f9a[_0x40bffd(0x1f4)]>0x0&&(_0x199149+=await this[_0x40bffd(0x245)](_0x157f9a)),this[_0x40bffd(0x134)]['verbose'](this[_0x40bffd(0x2dc)]+'\x20('+this[_0x40bffd(0x4be)][_0x40bffd(0x509)]+_0x40bffd(0x3c5)+_0x199149+_0x40bffd(0x13c)+this[_0x40bffd(0x4be)][_0x40bffd(0x509)]+_0x40bffd(0x17c));}async[a0_0x444692(0x245)](_0x6d566d){const _0x51ab41=a0_0x444692;return(await I[_0x51ab41(0x49b)](_0x6d566d))[_0x51ab41(0x5b9)];}async[a0_0x444692(0x1fe)](_0x4e5b1d,_0x101aad){const _0x5dc93d=a0_0x444692;if(_0x101aad[_0x5dc93d(0xe3)]){let _0x201d23=_0x4e5b1d['map'](async _0x54ca62=>{const _0x588f62=_0x5dc93d;let _0x3fb856={'$set':{'id':_0x54ca62['id'],'owner':_0x54ca62[_0x588f62(0x5ec)],'lastcache':0x0}};if(_0x54ca62[_0x588f62(0x3f2)]!==null&&(_0x3fb856[_0x588f62(0x334)]['group']=_0x54ca62[_0x588f62(0x3f2)]),_0x54ca62[_0x588f62(0x33d)]!==null&&(_0x3fb856[_0x588f62(0x334)][_0x588f62(0x33d)]=_0x54ca62['name']),_0x54ca62[_0x588f62(0x415)]!==null&&(_0x3fb856[_0x588f62(0x334)]['contactname']=_0x54ca62[_0x588f62(0x415)]),_0x54ca62[_0x588f62(0x518)]!==null&&(_0x3fb856[_0x588f62(0x334)][_0x588f62(0x518)]=_0x54ca62['imagechat']),_0x54ca62[_0x588f62(0x518)]===null&&(_0x3fb856['$set'][_0x588f62(0x518)]=_0x588f62(0x1f1)),_0x54ca62[_0x588f62(0x1d6)]!==null&&(_0x3fb856[_0x588f62(0x334)][_0x588f62(0x1d6)]=_0x54ca62[_0x588f62(0x1d6)]),_0x54ca62[_0x588f62(0x3c2)]!==null&&(_0x3fb856[_0x588f62(0x334)][_0x588f62(0x3c2)]=_0x54ca62['archived']),_0x54ca62['unreadcount']!==null&&(_0x3fb856['$set'][_0x588f62(0x458)]=_0x54ca62['unreadcount']),Object[_0x588f62(0x182)](_0x3fb856[_0x588f62(0x334)])[_0x588f62(0x1f4)]>0x0)return I[_0x588f62(0x2d4)]({'id':_0x54ca62['id'],'owner':_0x54ca62[_0x588f62(0x5ec)]},_0x3fb856,{'new':!0x0,'upsert':!0x0});}),_0x80f58a=(await Promise['all'](_0x201d23))[_0x5dc93d(0x14a)](_0x2863a3=>_0x2863a3!==null)[_0x5dc93d(0x1f4)];this[_0x5dc93d(0x134)][_0x5dc93d(0x44a)](this[_0x5dc93d(0x2dc)]+'\x20('+this[_0x5dc93d(0x4be)][_0x5dc93d(0x509)]+_0x5dc93d(0x3c5)+_0x80f58a+_0x5dc93d(0x13c)+this['instance']['wuid']+_0x5dc93d(0x2af));}}async[a0_0x444692(0x514)](_0x31e88e){const _0x1f5457=a0_0x444692;this[_0x1f5457(0x134)][_0x1f5457(0x44a)](this[_0x1f5457(0x2dc)]+'\x20('+this[_0x1f5457(0x4be)][_0x1f5457(0x509)]+_0x1f5457(0x1d8));let _0x1caa00={'readMessages':[{'remoteJid':_0x31e88e[_0x1f5457(0x5a3)]['lastReceivedMessage']['key'][_0x1f5457(0x278)],'fromMe':_0x31e88e[_0x1f5457(0x5a3)][_0x1f5457(0x49a)][_0x1f5457(0x4c1)][_0x1f5457(0x569)],'id':_0x31e88e['chatLog'][_0x1f5457(0x49a)][_0x1f5457(0x4c1)]['id']}]};await this['markMessageAsRead'](_0x1caa00);}async['StartBot'](_0x3cfd1a,_0x45e147,_0xc2de5c){const _0x489b46=a0_0x444692;try{let {key:_0x5b3c8d,message_normalized:_0x50deaf}=_0x45e147,_0x1df473=_0x50deaf,_0x20fb06=_0x50deaf[_0x489b46(0x36d)]||_0x50deaf['caption']||_0x50deaf['vote']||_0x50deaf[_0x489b46(0x33d)],_0x17ca75=_0x5b3c8d[_0x489b46(0x278)],_0x2dab1f;if(_0x1df473[_0x489b46(0x4c1)][_0x489b46(0x569)]&&_0x20fb06[_0x489b46(0x5a7)]()!==this['AutomateSystem'][_0x489b46(0x580)][_0x489b46(0x658)][_0x489b46(0x5a7)]())return this['logger'][_0x489b46(0x44a)](this[_0x489b46(0x2dc)]+'\x20('+this['instance'][_0x489b46(0x509)]+_0x489b46(0x23c)),null;if(_0x1df473[_0x489b46(0x4c1)]['fromMe']&&_0x20fb06[_0x489b46(0x5a7)]()===this[_0x489b46(0x5a2)]['flowConfig'][_0x489b46(0x658)]['trim']()){this[_0x489b46(0x134)][_0x489b46(0x44a)](this['instanceName']+'\x20('+this[_0x489b46(0x4be)][_0x489b46(0x509)]+_0x489b46(0x1cc));let _0x1401ed=await G['find']({'owner':_0xc2de5c,'remoteJid':_0x17ca75,'status':_0x489b46(0x360)});this[_0x489b46(0x134)][_0x489b46(0x44a)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x489b46(0x352)+_0x1401ed);let _0x4804fd=Date['now'](),_0x4d49a2;return this[_0x489b46(0x5a2)][_0x489b46(0x580)][_0x489b46(0x32e)]===0x0?_0x4d49a2={'stoppedUntil':_0x4804fd+0x7591f6200}:_0x4d49a2={'stoppedUntil':_0x4804fd+this[_0x489b46(0x5a2)][_0x489b46(0x580)][_0x489b46(0x32e)]*0x3c*0x3e8},this[_0x489b46(0x134)][_0x489b46(0x44a)](this['instanceName']+'\x20('+this[_0x489b46(0x4be)][_0x489b46(0x509)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x4d49a2),this[_0x489b46(0x579)](_0x2dab1f,_0x4d49a2[_0x489b46(0x4cc)]),null;}if(_0x20fb06[_0x489b46(0x40e)](this['AutomateSystem'][_0x489b46(0x580)][_0x489b46(0x2a9)])&&_0x20fb06[_0x489b46(0x1f4)]>0x4){let _0xf7b9f=await D[_0x489b46(0x2d7)]({'owner':_0xc2de5c,'startCommandWord':_0x20fb06});if(this[_0x489b46(0x134)][_0x489b46(0x44a)](this[_0x489b46(0x2dc)]+'\x20('+this[_0x489b46(0x4be)][_0x489b46(0x509)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0xf7b9f)_0x2dab1f=await this[_0x489b46(0x543)](_0xf7b9f,_0x1df473[_0x489b46(0x4c1)],_0x1df473);else return this[_0x489b46(0x134)][_0x489b46(0x44a)](this[_0x489b46(0x2dc)]+'\x20('+this[_0x489b46(0x4be)]['wuid']+_0x489b46(0x5fa)),null;}else _0x2dab1f=await this[_0x489b46(0x664)](_0xc2de5c,_0x17ca75,_0x1df473);if(_0x2dab1f){this['logger'][_0x489b46(0x44a)](this[_0x489b46(0x2dc)]+'\x20('+this[_0x489b46(0x4be)]['wuid']+_0x489b46(0x63f)),!_0x5b3c8d[_0x489b46(0x569)]&&_0x2dab1f[_0x489b46(0x5a8)]&&this[_0x489b46(0x514)](_0x2dab1f);let _0x4a0485=await this[_0x489b46(0x51e)](_0x2dab1f);_0x4a0485&&await this[_0x489b46(0x322)](_0x2dab1f,_0x4a0485,_0x2dab1f[_0x489b46(0x278)]);}}catch(_0x11a5a9){this[_0x489b46(0x134)][_0x489b46(0x307)](this['instanceName']+'\x20('+this[_0x489b46(0x4be)]['wuid']+_0x489b46(0xec)+_0x11a5a9);}}['flattenObject'](_0x1f2cf9,_0x3b825f='',_0x24a3d5={},_0x3938c6=!0x0){const _0x3f4e2d=a0_0x444692;for(let _0x5a0094 in _0x1f2cf9){let _0x46b595=_0x3938c6?'_'+_0x5a0094:''+_0x3b825f+_0x5a0094;typeof _0x1f2cf9[_0x5a0094]==_0x3f4e2d(0x66b)&&_0x1f2cf9[_0x5a0094]!==null?this['flattenObject'](_0x1f2cf9[_0x5a0094],_0x46b595+'.',_0x24a3d5,!0x1):_0x24a3d5[_0x46b595]=_0x1f2cf9[_0x5a0094];}return _0x24a3d5;}[a0_0x444692(0x192)](_0xfd2f60){const _0x5ab438=a0_0x444692;let _0x4d59ad={};for(let _0x59f124 of _0xfd2f60)typeof _0x59f124[_0x5ab438(0x33d)]=='string'&&typeof _0x59f124[_0x5ab438(0x53e)]==_0x5ab438(0x53a)&&(_0x4d59ad[_0x59f124[_0x5ab438(0x33d)]]=_0x59f124[_0x5ab438(0x53e)]);return _0x4d59ad;}async[a0_0x444692(0x51e)](_0x111baf){const _0x2be628=a0_0x444692;if(!this[_0x2be628(0x5a2)]['flowConfig']['enabled']||_0x111baf[_0x2be628(0x475)]!==_0x2be628(0x360)&&_0x111baf[_0x2be628(0x393)]==='')return null;let _0x10c379=_0x111baf[_0x2be628(0x5a3)][_0x2be628(0x1ca)]||_0x2be628(0x127);typeof _0x111baf[_0x2be628(0x5a3)]['lastCondition']>'u'&&(_0x111baf[_0x2be628(0x5a3)][_0x2be628(0x22f)]=!0x0);let _0x170603=_0x111baf[_0x2be628(0x5a3)][_0x2be628(0x22f)];this[_0x2be628(0x134)][_0x2be628(0x44a)](this[_0x2be628(0x2dc)]+'\x20('+this[_0x2be628(0x4be)][_0x2be628(0x509)]+_0x2be628(0x27d)+_0x10c379+_0x2be628(0x271)+_0x170603);let _0x25ab81=_0x10c379===_0x2be628(0x127)?_0x111baf[_0x2be628(0x321)][_0x2be628(0x235)](_0xc64a6c=>_0xc64a6c[_0x2be628(0x2fe)]===_0x2be628(0x127)):_0x111baf[_0x2be628(0x321)][_0x2be628(0x235)](_0x20f174=>_0x20f174['_id']['toString']()===_0x10c379[_0x2be628(0x414)]());if(!_0x25ab81)return this[_0x2be628(0x134)][_0x2be628(0x307)](this[_0x2be628(0x2dc)]+'\x20('+this[_0x2be628(0x4be)][_0x2be628(0x509)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x10c379),null;let _0xc01c08={'_pushName':_0x111baf[_0x2be628(0x5a3)]['lastReceivedMessage']['pushName'],..._0x111baf['chatLog'][_0x2be628(0x417)]},_0x1abe8b=null;if(_0x111baf[_0x2be628(0x393)]){let _0x4d422e=_0x111baf[_0x2be628(0x5a3)]['lastReceivedMessage'][_0x2be628(0x142)],_0x3ac51a=_0x111baf[_0x2be628(0x3a3)]['find'](_0x4da25d=>_0x4da25d[_0x2be628(0x499)]===_0x4d422e);if(_0x3ac51a){let _0x5b8fbe=_0x3ac51a[_0x2be628(0x164)];if(_0x1abe8b=_0x111baf[_0x2be628(0x321)][_0x2be628(0x235)](_0x1c5627=>_0x1c5627[_0x2be628(0x112)]===_0x5b8fbe&&_0x1c5627[_0x2be628(0x1f2)]===0x1),_0x25ab81[_0x2be628(0x244)][_0x2be628(0x139)]){let _0x199629={'id':_0x111baf[_0x2be628(0x393)],'remoteJid':_0x111baf['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x199629);}if(_0x25ab81[_0x2be628(0x244)]['pollOnReplyDelete']&&_0x25ab81[_0x2be628(0x244)][_0x2be628(0x673)]){let _0x4ff3e7={'number':_0x111baf['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x2be628(0x241)+_0x111baf[_0x2be628(0x5bd)]+_0x2be628(0x651)+_0x4d422e}};await this['textMessage'](_0x4ff3e7);}_0x111baf['status']=_0x2be628(0x360),_0x111baf[_0x2be628(0x393)]='',_0x111baf[_0x2be628(0x5bd)]='',_0x111baf[_0x2be628(0x3a3)]=[];}else{this[_0x2be628(0x134)][_0x2be628(0x44a)](this[_0x2be628(0x2dc)]+'\x20('+this[_0x2be628(0x4be)]['wuid']+_0x2be628(0x363));let _0x54842f={'activatedCount':_0x111baf[_0x2be628(0x5a3)][_0x2be628(0x2ea)][_0x2be628(0x14a)](_0x4abbcd=>String(_0x4abbcd['blockId'])===String(_0x10c379))[_0x2be628(0x1f4)],'moreLogs':[_0x2be628(0x10c)]};if(_0x25ab81['uazapi'][_0x2be628(0x146)]){let _0x54005e={'number':_0x111baf[_0x2be628(0x278)],'options':{'delay':0x0},'textMessage':{'text':_0x25ab81[_0x2be628(0x244)][_0x2be628(0x146)]}};await this[_0x2be628(0x5ca)](_0x54005e);}if(_0x25ab81['maxActives']!==void 0x0&&_0x54842f['activatedCount']>=_0x25ab81[_0x2be628(0x607)]){let _0x288760=Date[_0x2be628(0x1d5)](),_0x17658d=_0x25ab81[_0x2be628(0x5c1)]??0xa;isNaN(_0x17658d)&&(_0x17658d=0xa);let _0x1b1a70=_0x288760+_0x17658d*0x3c*0x3e8;_0x54842f['newStoppedUntil']=_0x1b1a70,_0x54842f[_0x2be628(0x466)][_0x2be628(0x370)](_0x2be628(0x2a0)),this[_0x2be628(0x579)](_0x111baf,_0x1b1a70),_0x111baf[_0x2be628(0x393)]='',_0x111baf[_0x2be628(0x5bd)]='',_0x111baf[_0x2be628(0x3a3)]=[];}return this[_0x2be628(0x224)](_0x111baf,_0x25ab81,_0x54842f,!0x0),null;}}if(_0x170603&&_0x25ab81[_0x2be628(0x164)]&&!_0x111baf[_0x2be628(0x393)]){let _0x2b2f9a=_0x111baf[_0x2be628(0x321)]['filter'](_0x33297e=>_0x33297e['groupId'][_0x2be628(0x414)]()===_0x25ab81[_0x2be628(0x164)][_0x2be628(0x414)]())['sort']((_0x1cfa5e,_0x210533)=>_0x1cfa5e[_0x2be628(0x1f2)]-_0x210533['order']);_0x2b2f9a[_0x2be628(0x1f4)]>0x0&&(_0x1abe8b=_0x2b2f9a[0x0]);}if(!_0x1abe8b){let _0x5bb3ad=_0x25ab81[_0x2be628(0x112)],_0x29c3e4=_0x111baf[_0x2be628(0x321)][_0x2be628(0x14a)](_0xdc3005=>_0xdc3005[_0x2be628(0x112)]===_0x5bb3ad&&_0xdc3005['order']>_0x25ab81[_0x2be628(0x1f2)])['sort']((_0x31fafb,_0x5bc430)=>_0x31fafb[_0x2be628(0x1f2)]-_0x5bc430[_0x2be628(0x1f2)]);_0x29c3e4[_0x2be628(0x1f4)]>0x0&&(_0x1abe8b=_0x29c3e4[0x0]);}if(!_0x1abe8b)return _0x111baf[_0x2be628(0x475)]=_0x2be628(0x2fa),null;_0x111baf[_0x2be628(0x5a3)][_0x2be628(0x417)]=_0xc01c08;let _0x4933c4=JSON['parse'](JSON[_0x2be628(0x343)](_0x1abe8b));return this['replaceVariablesInObject'](_0x4933c4,_0x111baf[_0x2be628(0x5a3)]['realVariables']),_0x111baf[_0x2be628(0x5a3)][_0x2be628(0x1ca)]=_0x4933c4[_0x2be628(0x65d)],_0x111baf[_0x2be628(0x5a3)][_0x2be628(0x22f)]=!0x0,_0x4933c4;}['replaceVariables'](_0x301001,_0x300029){const _0x5193be=a0_0x444692;return _0x301001[_0x5193be(0x667)](/\{\{([^}]+)\}\}/g,(_0x1e3734,_0x5a8ac1)=>_0x300029[_0x5a8ac1]||'');}[a0_0x444692(0xe9)](_0xa70677,_0x39a827){const _0x3673a9=a0_0x444692;for(let _0x5d948c in _0xa70677)typeof _0xa70677[_0x5d948c]==_0x3673a9(0x53a)?_0xa70677[_0x5d948c]=this[_0x3673a9(0x419)](_0xa70677[_0x5d948c],_0x39a827):typeof _0xa70677[_0x5d948c]==_0x3673a9(0x66b)&&this[_0x3673a9(0xe9)](_0xa70677[_0x5d948c],_0x39a827);}async['goNextblock'](_0x5b04e7,_0x4c30e6){const _0x13006d=a0_0x444692;let _0x1980f0=_0x4c30e6[_0x13006d(0x65d)];if(_0x5b04e7[_0x13006d(0x5a3)]&&_0x5b04e7[_0x13006d(0x5a3)]['blockLogs']){let _0xd00714=_0x5b04e7[_0x13006d(0x5a3)][_0x13006d(0x2ea)][_0x13006d(0x14a)](_0x4854c2=>String(_0x4854c2['blockId'])===String(_0x1980f0))['pop']();if(_0xd00714&&_0xd00714[_0x13006d(0x307)]&&_0x4c30e6[_0x13006d(0x211)])return _0x5b04e7[_0x13006d(0x475)]=_0x13006d(0x2fa),await this[_0x13006d(0x22a)](_0x5b04e7),null;}if(_0x4c30e6[_0x13006d(0x2fe)]==='stop'&&(_0x5b04e7[_0x13006d(0x5a3)]['lastBlockId']=_0x1980f0,await this[_0x13006d(0x22a)](_0x5b04e7)),_0x4c30e6[_0x13006d(0x2fe)]===_0x13006d(0x244)&&_0x4c30e6[_0x13006d(0x244)][_0x13006d(0x4eb)]===_0x13006d(0x606)&&_0x5b04e7[_0x13006d(0x393)])return _0x5b04e7[_0x13006d(0x5a3)][_0x13006d(0x1ca)]=_0x1980f0,await this['saveConversationToDatabase'](_0x5b04e7),null;let _0x53b0d6=await this[_0x13006d(0x51e)](_0x5b04e7);if(_0x5b04e7[_0x13006d(0x5a3)]&&_0x5b04e7['chatLog'][_0x13006d(0x2ea)]){let _0x4d9b21=_0x5b04e7[_0x13006d(0x5a3)]['blockLogs']['filter'](_0x359715=>String(_0x359715['blockId'])===String(_0x1980f0))[_0x13006d(0x1f4)];if(_0x4c30e6['maxActives']!==void 0x0&&_0x4d9b21>=_0x4c30e6[_0x13006d(0x607)]){let _0x35640a=Date[_0x13006d(0x1d5)](),_0x9e41c2=_0x4c30e6[_0x13006d(0x5c1)]??0xa;isNaN(_0x9e41c2)&&(_0x9e41c2=0xa);let _0x2c8e72=_0x35640a+_0x9e41c2*0x3c*0x3e8,_0x437afa={'newStoppedUntil':_0x2c8e72};return this[_0x13006d(0x579)](_0x5b04e7,_0x2c8e72),this[_0x13006d(0x224)](_0x5b04e7,_0x4c30e6,_0x437afa,!0x0),null;}}_0x53b0d6&&_0x53b0d6[_0x13006d(0x2fe)]!=='save'&&await this['processblock'](_0x5b04e7,_0x53b0d6,_0x5b04e7[_0x13006d(0x278)]),_0x53b0d6||await this[_0x13006d(0x22a)](_0x5b04e7),_0x53b0d6&&_0x53b0d6[_0x13006d(0x2fe)]==='save'&&(_0x5b04e7[_0x13006d(0x5a3)][_0x13006d(0x1ca)]=_0x1980f0,await this[_0x13006d(0x22a)](_0x5b04e7));}async['processblock'](_0x4b44c0,_0x525204,_0x3c6955){const _0x17a6ae=a0_0x444692;try{let _0x2d68b5=_0x525204[_0x17a6ae(0x2fe)];this[_0x17a6ae(0x134)]['verbose'](this[_0x17a6ae(0x2dc)]+'\x20('+this[_0x17a6ae(0x4be)][_0x17a6ae(0x509)]+_0x17a6ae(0x11c)+_0x2d68b5);let _0x44ded7={'uazapi':()=>this[_0x17a6ae(0x35a)](_0x4b44c0,_0x525204,_0x3c6955),'save':()=>this[_0x17a6ae(0x102)](_0x4b44c0,_0x525204),'stop':()=>this[_0x17a6ae(0x658)](_0x4b44c0,_0x525204),'condition':()=>this['processConditions'](_0x4b44c0,_0x525204),'varedit':()=>this[_0x17a6ae(0x3c1)](_0x4b44c0,_0x525204),'apirequest':()=>this['processApiRequest'](_0x4b44c0,_0x525204),'goToFlow':()=>this[_0x17a6ae(0x150)](_0x4b44c0,_0x525204)}[_0x2d68b5];_0x44ded7&&await _0x44ded7();}catch(_0x467e39){this[_0x17a6ae(0x134)][_0x17a6ae(0x307)](this['instanceName']+'\x20('+this[_0x17a6ae(0x4be)][_0x17a6ae(0x509)]+_0x17a6ae(0x238)+_0x467e39);}}async['processgoToFlow'](_0x14c979,_0xa4924f){const _0x47d3ac=a0_0x444692;if(this[_0x47d3ac(0x134)][_0x47d3ac(0x44a)](this['instanceName']+'\x20('+this[_0x47d3ac(0x4be)]['wuid']+_0x47d3ac(0x678)),!_0x14c979||!_0xa4924f)return this[_0x47d3ac(0x134)][_0x47d3ac(0x307)](this[_0x47d3ac(0x2dc)]+'\x20('+this[_0x47d3ac(0x4be)][_0x47d3ac(0x509)]+_0x47d3ac(0x5d2)),null;await this['updateConversation'](_0x14c979,_0xa4924f,{},!0x0,!0x0),console[_0x47d3ac(0xea)](_0x47d3ac(0x1ab)),console[_0x47d3ac(0xea)](_0xa4924f);let _0x4eb366=_0xa4924f['goToFlow'];console[_0x47d3ac(0xea)]('flowname:\x20',_0x4eb366),_0x14c979=await this['createConversationforgoToFlow'](_0x4eb366,_0x14c979[_0x47d3ac(0x278)],_0x14c979[_0x47d3ac(0x5a3)][_0x47d3ac(0x417)]),this[_0x47d3ac(0x134)][_0x47d3ac(0x44a)](this[_0x47d3ac(0x2dc)]+'\x20('+this[_0x47d3ac(0x4be)][_0x47d3ac(0x509)]+_0x47d3ac(0x5f1));let _0x4a7918=await this[_0x47d3ac(0x51e)](_0x14c979);_0x4a7918&&await this['processblock'](_0x14c979,_0x4a7918,_0x14c979[_0x47d3ac(0x278)]);}async[a0_0x444692(0x63e)](_0x35877c,_0x3e0f14,_0x1abea9){const _0x10c78d=a0_0x444692;this[_0x10c78d(0x134)][_0x10c78d(0x44a)](this[_0x10c78d(0x2dc)]+'\x20('+this[_0x10c78d(0x4be)][_0x10c78d(0x509)]+_0x10c78d(0x240));try{if(_0x35877c=await D[_0x10c78d(0x2d7)]({'owner':this[_0x10c78d(0x4be)]['wuid'],'name':_0x35877c}),!_0x35877c)return this['logger'][_0x10c78d(0x307)](this[_0x10c78d(0x2dc)]+'\x20('+this[_0x10c78d(0x4be)][_0x10c78d(0x509)]+_0x10c78d(0x62f)),null;let _0x1b82b1=require(_0x10c78d(0xf9))[_0x10c78d(0x56d)],_0x2788a4=Date['now'](),_0x46eba1=_0x10c78d(0x127),_0x547da9={},_0x105818={},_0x174501={..._0x35877c['_doc'],'chatLog':null},_0x3d41e8={'lastReceivedMessage':_0x547da9,'lastSendMessage':_0x105818,'lastBlockId':_0x46eba1,'lastCondition':!0x0,'realVariables':_0x1abea9};_0x174501[_0x10c78d(0x5a3)]=_0x3d41e8,_0x174501['chatLog']['realVariables']={..._0x1abea9},delete _0x174501[_0x10c78d(0x65d)],_0x174501[_0x10c78d(0x65d)]=new _0x1b82b1(),_0x174501[_0x10c78d(0x634)]=_0x2788a4,_0x174501[_0x10c78d(0x475)]=_0x10c78d(0x360),_0x174501[_0x10c78d(0x278)]=_0x3e0f14;let _0x464c8e=await G[_0x10c78d(0x2c0)](_0x174501);return this[_0x10c78d(0x134)]['verbose'](this[_0x10c78d(0x2dc)]+'\x20('+this[_0x10c78d(0x4be)][_0x10c78d(0x509)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x464c8e?_0x174501:null;}catch(_0x55743c){throw this['logger']['error'](this[_0x10c78d(0x2dc)]+'\x20('+this[_0x10c78d(0x4be)][_0x10c78d(0x509)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x55743c),new m(_0x55743c['message']);}}async[a0_0x444692(0x517)](_0x2d789b,_0x1f1b0c){const _0x18cc69=a0_0x444692;let _0x313b9b,_0x4ee304;try{let _0x1fadf7=_0x1f1b0c[_0x18cc69(0x355)];if(!_0x1fadf7||!_0x1fadf7[_0x18cc69(0x3eb)]||!_0x1fadf7['method'])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x40621b={'method':_0x1fadf7['method'],'url':_0x1fadf7[_0x18cc69(0x3eb)],'headers':_0x1fadf7[_0x18cc69(0x2f2)]||{},'data':_0x1fadf7[_0x18cc69(0x285)]||{}};_0x313b9b=(await(0x0,le[_0x18cc69(0x331)])(_0x40621b))[_0x18cc69(0x63a)];let _0x268414=_0x2d789b[_0x18cc69(0x5a3)][_0x18cc69(0x417)],_0x2664e8=this[_0x18cc69(0x1a3)](_0x313b9b);return Object[_0x18cc69(0x136)](_0x268414,_0x2664e8),_0x2d789b[_0x18cc69(0x5a3)][_0x18cc69(0x417)]=_0x268414,_0x4ee304={'error':!0x1,'apiResponse':_0x313b9b},this['updateConversation'](_0x2d789b,_0x1f1b0c,_0x4ee304),_0x313b9b;}catch(_0x258350){console[_0x18cc69(0x307)](_0x18cc69(0x4fc),_0x258350),_0x258350[_0x18cc69(0x248)]&&(_0x313b9b=_0x258350[_0x18cc69(0x248)][_0x18cc69(0x63a)]);let _0x2bfce1=_0x2d789b[_0x18cc69(0x5a3)]['realVariables'],_0x3b2ff1=this[_0x18cc69(0x1a3)](_0x313b9b);return Object[_0x18cc69(0x136)](_0x2bfce1,_0x3b2ff1),_0x2d789b[_0x18cc69(0x5a3)][_0x18cc69(0x417)]=_0x2bfce1,_0x4ee304={'error':!0x0,'errorLog':_0x258350[_0x18cc69(0x414)](),'apiResponse':_0x313b9b},this[_0x18cc69(0x224)](_0x2d789b,_0x1f1b0c,_0x4ee304),{'success':!0x1};}}[a0_0x444692(0x4a4)](_0x5ed0fa,_0x473016){const _0x370f2e=a0_0x444692;let _0x2745f3=_0x564d77=>{let _0x34aeee=_0x564d77['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0xe669a1=parseFloat(_0x34aeee);return isNaN(_0xe669a1)?null:_0xe669a1;},_0x4058bc=_0x473016[_0x370f2e(0x291)],_0x47bac4=_0x473016[_0x370f2e(0x47f)];typeof _0x4058bc==_0x370f2e(0x53a)&&(_0x4058bc=this[_0x370f2e(0x419)](_0x4058bc,_0x5ed0fa[_0x370f2e(0x5a3)]['realVariables'])??''),typeof _0x47bac4==_0x370f2e(0x53a)&&(_0x47bac4=this[_0x370f2e(0x419)](_0x47bac4,_0x5ed0fa[_0x370f2e(0x5a3)][_0x370f2e(0x417)])??'');let _0x484075=null;if(!_0x4058bc||!_0x473016[_0x370f2e(0x47d)])return null;switch(this['logger'][_0x370f2e(0x44a)](this[_0x370f2e(0x2dc)]+'\x20('+this[_0x370f2e(0x4be)][_0x370f2e(0x509)]+_0x370f2e(0x61e)+_0x4058bc),this['logger']['verbose'](this[_0x370f2e(0x2dc)]+'\x20('+this[_0x370f2e(0x4be)]['wuid']+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x47bac4),_0x473016['editOperator']){case'+':case'-':case'*':case'/':let _0x439e32=_0x2745f3(_0x4058bc),_0x120c35=_0x2745f3(_0x47bac4||'0');if(_0x439e32===null)return null;switch(_0x473016[_0x370f2e(0x47d)]){case'+':_0x484075=_0x439e32+(_0x120c35??0x0);break;case'-':_0x484075=_0x439e32-(_0x120c35??0x0);break;case'*':_0x484075=_0x439e32*(_0x120c35??0x1);break;case'/':_0x120c35!==0x0&&(_0x484075=_0x439e32/(_0x120c35??0x1));break;}break;case _0x370f2e(0x2ec):case _0x370f2e(0x43a):let _0x53d681=_0x47bac4,_0x311ca4=_0x473016[_0x370f2e(0x64d)];if(typeof _0x311ca4==_0x370f2e(0x53a)&&(_0x311ca4=this['replaceVariables'](_0x311ca4,_0x5ed0fa[_0x370f2e(0x5a3)]['realVariables'])??''),_0x53d681&&_0x311ca4!==void 0x0){let _0x235ea7=_0x473016[_0x370f2e(0x47d)]==='findAndReplace'?new RegExp(_0x53d681[_0x370f2e(0x667)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x53d681,'g');_0x484075=_0x4058bc[_0x370f2e(0x667)](_0x235ea7,_0x311ca4);}else console[_0x370f2e(0x596)](_0x370f2e(0x41e));break;case _0x370f2e(0x49d):_0x484075=_0x47bac4;break;case _0x370f2e(0xe4):let _0x46a2eb=_0x4058bc['match'](new RegExp(_0x47bac4||''));_0x484075=_0x46a2eb?_0x46a2eb[0x0]:'';break;case _0x370f2e(0x641):_0x484075=_0x4058bc[_0x370f2e(0x503)](0x0,parseInt(_0x47bac4||'0'));break;case _0x370f2e(0x3dc):let _0x3e203a=parseInt(_0x47bac4||'0');_0x484075=_0x4058bc['slice'](_0x4058bc[_0x370f2e(0x1f4)]-_0x3e203a);break;case _0x370f2e(0x4e2):let _0x13c1a1=_0x2745f3(_0x4058bc),_0x2e75b9=parseInt(_0x47bac4||'0');_0x2e75b9=Math['abs'](_0x2e75b9),_0x13c1a1!==null?_0x484075=_0x13c1a1[_0x370f2e(0x365)](_0x370f2e(0x18b),{'minimumFractionDigits':_0x2e75b9,'maximumFractionDigits':_0x2e75b9}):(console[_0x370f2e(0x596)](_0x370f2e(0x154)+_0x4058bc),_0x484075=null);break;case _0x370f2e(0x388):let _0x324f37=_0x2745f3(_0x4058bc);_0x324f37!==null?_0x484075=_0x324f37[_0x370f2e(0x365)](_0x370f2e(0x18b),{'style':'currency','currency':'BRL'}):(console[_0x370f2e(0x596)](_0x370f2e(0x58f)+_0x4058bc),_0x484075=null);break;case _0x370f2e(0x5d5):_0x484075=_0x4058bc[_0x370f2e(0x172)]();break;case'lowerCase':_0x484075=_0x4058bc[_0x370f2e(0x171)]();break;case'capitalizedWords':_0x484075=_0x4058bc[_0x370f2e(0x1b4)]('\x20')[_0x370f2e(0x328)](_0x1463ed=>_0x1463ed[_0x370f2e(0x11b)](0x0)[_0x370f2e(0x172)]()+_0x1463ed['slice'](0x1)[_0x370f2e(0x171)]())[_0x370f2e(0x546)]('\x20');break;case _0x370f2e(0x3c6):_0x484075=_0x4058bc[_0x370f2e(0x5a7)]();break;default:_0x484075=_0x4058bc;}return _0x484075!==null?_0x484075[_0x370f2e(0x414)]():null;}async[a0_0x444692(0x3c1)](_0x276f95,_0x2e18e6){const _0x3ecc77=a0_0x444692;try{let _0x2217cf=_0x276f95['varedits']?.['filter'](_0x58a0f3=>_0x58a0f3['blockId']===_0x2e18e6[_0x3ecc77(0x65d)]?.[_0x3ecc77(0x414)]())||[],_0x18b19d=_0x2e18e6[_0x3ecc77(0x170)],_0x2bd0d5=null,_0x5ca8cc=[],_0x3b7907=_0x276f95[_0x3ecc77(0x5a3)][_0x3ecc77(0x417)][_0x18b19d];_0x5ca8cc[_0x3ecc77(0x370)](_0x3ecc77(0x591)+_0x3b7907+'\x22');for(let _0x3569f4 of _0x2217cf){_0x3569f4[_0x3ecc77(0x291)]=_0x3b7907,_0x2bd0d5=_0x3569f4[_0x3ecc77(0x291)];let _0x2e4d2e;try{_0x2e4d2e=this[_0x3ecc77(0x4a4)](_0x276f95,_0x3569f4);}catch(_0x319e51){console[_0x3ecc77(0x307)](_0x3ecc77(0x3ef)+_0x319e51[_0x3ecc77(0x2d3)]);continue;}if(_0x2e4d2e!==null){let _0x177649=_0x3ecc77(0x4c9)+_0x3569f4[_0x3ecc77(0x47d)]+'\x22',_0x92d004=[_0x3ecc77(0x388),_0x3ecc77(0x5d5),'lowerCase','capitalizedWords',_0x3ecc77(0x3c6)];_0x3569f4[_0x3ecc77(0x47d)]===_0x3ecc77(0x2ec)||_0x3569f4['editOperator']==='findAndReplaceRegex'?_0x177649+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x3569f4[_0x3ecc77(0x47f)]+_0x3ecc77(0x16e)+_0x3569f4[_0x3ecc77(0x64d)]+'\x22':!_0x92d004[_0x3ecc77(0x48d)](_0x3569f4['editOperator'])&&_0x3569f4[_0x3ecc77(0x47f)]!==null&&_0x3569f4[_0x3ecc77(0x47f)]!==void 0x0&&(_0x177649+=_0x3ecc77(0x26e)+_0x3569f4[_0x3ecc77(0x47f)]+'\x22'),_0x177649+=_0x3ecc77(0x316)+_0x2e4d2e+'.',_0x5ca8cc[_0x3ecc77(0x370)](_0x177649);}_0x2e4d2e!==null&&(_0x3b7907=_0x2e4d2e);}if(_0x276f95[_0x3ecc77(0x5a3)]['realVariables']&&_0x2e18e6[_0x3ecc77(0x170)]){_0x276f95[_0x3ecc77(0x5a3)][_0x3ecc77(0x417)][_0x2e18e6['saveVariable']]=_0x3b7907;let _0x25b67a={'variable':_0x2e18e6[_0x3ecc77(0x170)],'oldValue':_0x2bd0d5,'newValue':_0x3b7907,'moreLogs':_0x5ca8cc};try{this[_0x3ecc77(0x224)](_0x276f95,_0x2e18e6,_0x25b67a);}catch(_0x3ae167){console[_0x3ecc77(0x307)](_0x3ecc77(0x208)+_0x3ae167[_0x3ecc77(0x2d3)]);}}return _0x18b19d;}catch(_0x3ead58){return console['error'](_0x3ecc77(0x33a)+_0x3ead58[_0x3ecc77(0x2d3)]),null;}}async[a0_0x444692(0x194)](_0x2fbcef,_0x572b5e){const _0x3884d6=a0_0x444692;try{let _0x4c9ad8=[],_0x4d7133=_0x2fbcef[_0x3884d6(0x42f)][_0x3884d6(0x14a)](_0x35f86b=>_0x35f86b[_0x3884d6(0x666)]===_0x572b5e[_0x3884d6(0x65d)][_0x3884d6(0x414)]()),_0x5bd8fa=!0x0,_0xe7c647=null;for(let _0x31dffe of _0x4d7133){let _0x4584da=this[_0x3884d6(0x5f5)](_0x2fbcef,_0x31dffe);if(_0x4c9ad8['push']('Primeiro\x20Valor:\x20'+_0x31dffe[_0x3884d6(0x291)]+_0x3884d6(0x545)+_0x31dffe['expression']+_0x3884d6(0x14c)+_0x31dffe[_0x3884d6(0x47f)]+_0x3884d6(0x4f0)+_0x4584da),_0xe7c647===null)_0x5bd8fa=_0x4584da;else{if(_0xe7c647==='or'&&_0x4584da){_0x5bd8fa=!0x0;break;}else{if(_0xe7c647===_0x3884d6(0x507)&&!_0x4584da){_0x5bd8fa=!0x1;break;}}}_0xe7c647=_0x31dffe[_0x3884d6(0x452)];}let _0x1ded0a={'moreLogs':_0x4c9ad8};_0x5bd8fa?(_0x2fbcef['chatLog']['lastCondition']=!0x0,this['updateConversation'](_0x2fbcef,_0x572b5e,_0x1ded0a)):(_0x2fbcef[_0x3884d6(0x5a3)][_0x3884d6(0x22f)]=!0x1,_0x1ded0a[_0x3884d6(0x466)]=_0x4c9ad8,this[_0x3884d6(0x224)](_0x2fbcef,_0x572b5e,_0x1ded0a));}catch(_0x104b78){this[_0x3884d6(0x134)][_0x3884d6(0x307)](this[_0x3884d6(0x2dc)]+'\x20('+this['instance'][_0x3884d6(0x509)]+_0x3884d6(0x5da)+_0x104b78);}}[a0_0x444692(0x5f5)](_0x47b2bc,_0x1f537a){const _0x3820a6=a0_0x444692;let _0x106734=_0x1f537a['firstValue'],_0x35cfd7=_0x1f537a[_0x3820a6(0x47f)];typeof _0x106734==_0x3820a6(0x53a)&&(_0x106734=this[_0x3820a6(0x419)](_0x106734,_0x47b2bc[_0x3820a6(0x5a3)][_0x3820a6(0x417)])??''),typeof _0x35cfd7==_0x3820a6(0x53a)&&(_0x35cfd7=this[_0x3820a6(0x419)](_0x35cfd7,_0x47b2bc[_0x3820a6(0x5a3)][_0x3820a6(0x417)])??'');try{switch(_0x1f537a['expression']){case _0x3820a6(0x3af):return _0x106734===_0x35cfd7;case'notEqual':return _0x106734!==_0x35cfd7;case'contains':return _0x106734[_0x3820a6(0x48d)](_0x35cfd7);case _0x3820a6(0x500):return!_0x106734[_0x3820a6(0x48d)](_0x35cfd7);case'greater':return parseFloat(_0x106734)>parseFloat(_0x35cfd7);case _0x3820a6(0x5dc):return parseFloat(_0x106734)<parseFloat(_0x35cfd7);case _0x3820a6(0x49e):return _0x106734!=='';case _0x3820a6(0x3c3):return _0x106734==='';case _0x3820a6(0x3d7):return new RegExp(_0x35cfd7)[_0x3820a6(0x2e3)](_0x106734);case _0x3820a6(0x3e2):return!new RegExp(_0x35cfd7)['test'](_0x106734);default:return!0x1;}}catch(_0x16e427){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x16e427),!0x1;}}['processConditionsTest'](_0x3dac11){const _0x3b1584=a0_0x444692;let _0x1f5a7b=!0x0,_0x598b36=null;for(let _0x1e9b2a of _0x3dac11){let _0x3317ea=this['evaluateConditionTest'](_0x1e9b2a);if(_0x598b36==='or'&&_0x3317ea){_0x1f5a7b=!0x0;break;}if(_0x598b36===_0x3b1584(0x507)&&!_0x3317ea){_0x1f5a7b=!0x1;break;}_0x598b36=_0x1e9b2a[_0x3b1584(0x452)];}return _0x1f5a7b;}[a0_0x444692(0x3ad)](_0x4fe41f){const _0x29be05=a0_0x444692;let _0x2f5192=_0x4fe41f['firstValue'],_0x2472c5=_0x4fe41f['secondValue'];try{switch(_0x4fe41f[_0x29be05(0x1cd)]){case _0x29be05(0x3af):return String(_0x2f5192)===String(_0x2472c5);case _0x29be05(0x206):return String(_0x2f5192)!==String(_0x2472c5);case'contains':return String(_0x2f5192)['includes'](String(_0x2472c5));case _0x29be05(0x500):return!String(_0x2f5192)[_0x29be05(0x48d)](String(_0x2472c5));case _0x29be05(0x4b9):return parseFloat(String(_0x2f5192))>parseFloat(String(_0x2472c5));case'less':return parseFloat(String(_0x2f5192))<parseFloat(String(_0x2472c5));case'notEmpty':return String(_0x2f5192)!=='';case'empty':return String(_0x2f5192)==='';case _0x29be05(0x3d7):return new RegExp(String(_0x2472c5))[_0x29be05(0x2e3)](String(_0x2f5192));case'notMatchRegex':return!new RegExp(String(_0x2472c5))[_0x29be05(0x2e3)](String(_0x2f5192));default:return!0x1;}}catch(_0xbd8f1d){return console[_0x29be05(0x307)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0xbd8f1d),!0x1;}}async[a0_0x444692(0x102)](_0x170640,_0x550b22){const _0x55817e=a0_0x444692;if(this[_0x55817e(0x134)]['verbose'](this[_0x55817e(0x2dc)]+'\x20('+this[_0x55817e(0x4be)]['wuid']+_0x55817e(0x320)),!_0x170640||!_0x550b22)return this['logger'][_0x55817e(0x307)](this[_0x55817e(0x2dc)]+'\x20('+this['instance'][_0x55817e(0x509)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x530ee9=_0x550b22[_0x55817e(0x170)],_0x3ffe7d=_0x170640[_0x55817e(0x5a3)]['lastReceivedMessage']['text']||_0x170640['chatLog'][_0x55817e(0x49a)][_0x55817e(0x4c2)]||_0x170640['chatLog'][_0x55817e(0x49a)][_0x55817e(0x142)];try{_0x170640[_0x55817e(0x5a3)][_0x55817e(0x417)]||(_0x170640[_0x55817e(0x5a3)][_0x55817e(0x417)]={});let _0xcecc78=_0x170640[_0x55817e(0x5a3)][_0x55817e(0x417)][_0x530ee9];_0x170640[_0x55817e(0x5a3)]['realVariables'][_0x530ee9]=_0x3ffe7d;let _0x5a07a7={'variable':_0x530ee9,'oldValue':_0xcecc78,'newValue':_0x3ffe7d};this[_0x55817e(0x224)](_0x170640,_0x550b22,_0x5a07a7),this[_0x55817e(0x134)]['verbose'](this[_0x55817e(0x2dc)]+'\x20('+this[_0x55817e(0x4be)][_0x55817e(0x509)]+_0x55817e(0x494));}catch(_0x1a716e){let _0x109525={'error':!0x0,'errorLog':_0x1a716e[_0x55817e(0x414)]()};return this['updateConversation'](_0x170640,_0x550b22,_0x109525),this[_0x55817e(0x134)][_0x55817e(0x307)](this[_0x55817e(0x2dc)]+'\x20('+this[_0x55817e(0x4be)][_0x55817e(0x509)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+_0x1a716e['message']),null;}}async[a0_0x444692(0x658)](_0x35f2e2,_0x16cc87){const _0x24eee3=a0_0x444692;if(this[_0x24eee3(0x134)][_0x24eee3(0x44a)](this[_0x24eee3(0x2dc)]+'\x20('+this[_0x24eee3(0x4be)][_0x24eee3(0x509)]+_0x24eee3(0x4c8)),!_0x35f2e2||!_0x16cc87)return this['logger'][_0x24eee3(0x307)](this[_0x24eee3(0x2dc)]+'\x20('+this[_0x24eee3(0x4be)][_0x24eee3(0x509)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0xa8e556=Date[_0x24eee3(0x1d5)](),_0x2430a7=parseInt(_0x16cc87['stopMinutes'],0xa);if(isNaN(_0x2430a7))return this[_0x24eee3(0x134)]['error'](this[_0x24eee3(0x2dc)]+'\x20('+this['instance'][_0x24eee3(0x509)]+_0x24eee3(0x559)),null;let _0x1fb020=_0xa8e556+_0x2430a7*0x3c*0x3e8,_0x5e93a3={'newStoppedUntil':_0x1fb020};return this[_0x24eee3(0x579)](_0x35f2e2,_0x1fb020),this[_0x24eee3(0x224)](_0x35f2e2,_0x16cc87,_0x5e93a3),null;}async[a0_0x444692(0x35a)](_0x3cd119,_0x4c3387,_0x49e9a7){const _0x40fad9=a0_0x444692;try{switch(_0x4c3387[_0x40fad9(0x244)][_0x40fad9(0x4eb)]){case _0x40fad9(0x4cb):await this[_0x40fad9(0x56a)](_0x3cd119,_0x4c3387,_0x49e9a7);break;case'sendMedia':await this[_0x40fad9(0x1b1)](_0x3cd119,_0x4c3387,_0x49e9a7);break;case _0x40fad9(0x178):await this[_0x40fad9(0x289)](_0x3cd119,_0x4c3387,_0x49e9a7);break;case _0x40fad9(0x665):await this[_0x40fad9(0x4bb)](_0x3cd119,_0x4c3387,_0x49e9a7);break;case _0x40fad9(0x1d1):await this[_0x40fad9(0x3cf)](_0x3cd119,_0x4c3387,_0x49e9a7);break;case _0x40fad9(0x606):await this[_0x40fad9(0x2c3)](_0x3cd119,_0x4c3387,_0x49e9a7);break;case _0x40fad9(0x1d0):await this['uazapiDeleteMessage'](_0x3cd119,_0x4c3387,_0x49e9a7);break;default:this[_0x40fad9(0x134)][_0x40fad9(0x307)](this[_0x40fad9(0x2dc)]+'\x20('+this[_0x40fad9(0x4be)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x4c3387['uazapi'][_0x40fad9(0x4eb)]);}}catch(_0x4156c5){this[_0x40fad9(0x134)]['error'](this[_0x40fad9(0x2dc)]+'\x20('+this[_0x40fad9(0x4be)][_0x40fad9(0x509)]+_0x40fad9(0x3b9)+_0x4156c5);}}async[a0_0x444692(0x224)](_0x43dc70,_0x387223,_0x601bc4,_0x311d7e=!0x1,_0x9144c=!0x1){const _0x33dcf2=a0_0x444692;_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x2ea)]||(_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x2ea)]=[]);let _0x367615=(_0x43dc70[_0x33dcf2(0x5a3)]['blockLogs']?.[_0x33dcf2(0x1f4)]??0x0)+0x1,_0xeda23c=_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x2ea)][_0x33dcf2(0x14a)](_0x585173=>String(_0x585173['blockId'])===String(_0x387223[_0x33dcf2(0x65d)]))[_0x33dcf2(0x1f4)]+0x1,_0x39a282=_0x601bc4?.[_0x33dcf2(0x3e3)]??Date[_0x33dcf2(0x1d5)](),_0x2e6e81=_0x601bc4?.[_0x33dcf2(0x307)]?_0x601bc4[_0x33dcf2(0x3d6)]??_0x601bc4['error']['toString']():void 0x0,_0x48c87e={'onTime':_0x39a282,'blockId':_0x387223[_0x33dcf2(0x65d)],'order':_0x367615,'activatedCount':_0xeda23c,'error':_0x601bc4?.[_0x33dcf2(0x307)]??!0x1,'messageId':_0x601bc4?.[_0x33dcf2(0x497)],'apiResponse':_0x601bc4?.['apiResponse'],'apiResponseString':_0x601bc4?.[_0x33dcf2(0x491)]?JSON[_0x33dcf2(0x343)](_0x601bc4?.[_0x33dcf2(0x491)]):void 0x0,'variable':_0x601bc4?.['variable'],'oldValue':_0x601bc4?.[_0x33dcf2(0x5f8)],'newValue':_0x601bc4?.[_0x33dcf2(0x537)],'newStoppedUntil':_0x601bc4?.['newStoppedUntil'],'moreLogs':_0x601bc4?.[_0x33dcf2(0x466)],'errorLog':_0x2e6e81};if(_0x601bc4[_0x33dcf2(0x466)]&&_0x601bc4[_0x33dcf2(0x466)][_0x33dcf2(0x1f4)]>0x0){let _0x5a9698=_0x601bc4[_0x33dcf2(0x466)]['map'](_0x292070=>this['replaceVariablesLogs'](_0x292070,_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x417)]));_0x48c87e[_0x33dcf2(0x466)]=_0x5a9698;}_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x417)]||(_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x417)]={}),_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x417)]['_activatedCount']=String(_0xeda23c),_0x43dc70['chatLog'][_0x33dcf2(0x417)][_0x33dcf2(0x656)]=String(_0x601bc4[_0x33dcf2(0x307)]??!0x1),_0x43dc70['chatLog']['blockLogs']['push'](_0x48c87e),_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x1ca)]=_0x387223[_0x33dcf2(0x65d)][_0x33dcf2(0x414)](),_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x5e8)]&&(_0x43dc70['chatLog'][_0x33dcf2(0x5e8)]=_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x5e8)]),_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x49a)]&&(_0x43dc70[_0x33dcf2(0x5a3)]['lastReceivedMessage']=_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x49a)]),_0x43dc70[_0x33dcf2(0x5a3)]['lastCondition']&&(_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x22f)]=_0x43dc70[_0x33dcf2(0x5a3)][_0x33dcf2(0x22f)]),_0x9144c&&(_0x43dc70[_0x33dcf2(0x475)]=_0x33dcf2(0x2fa)),_0x311d7e?this[_0x33dcf2(0x22a)](_0x43dc70):this[_0x33dcf2(0x583)](_0x43dc70,_0x387223);}['replaceVariablesLogs'](_0x27c3ac,_0x18fe8b){const _0x15e711=a0_0x444692;return _0x27c3ac[_0x15e711(0x667)](/\{\{([^}]+)\}\}/g,(_0x20be29,_0x281d0f)=>_0x18fe8b[_0x281d0f]?'{{'+_0x281d0f+_0x15e711(0x1a8)+_0x18fe8b[_0x281d0f]+'\x22':'{{'+_0x281d0f+_0x15e711(0x66f));}async[a0_0x444692(0x22a)](_0x117dcb){const _0x3db74b=a0_0x444692;try{let _0x548d1b=Object[_0x3db74b(0x655)](_0x117dcb[_0x3db74b(0x5a3)]['realVariables'])['map'](([_0x590397,_0x4664d6])=>({'name':_0x590397,'value':_0x4664d6})),_0x29cc13=[_0x3db74b(0x157),_0x3db74b(0x409),_0x3db74b(0x2ae),'cpf','status','notas',_0x3db74b(0x602),_0x3db74b(0x47c)];if(!this[_0x3db74b(0x5a2)]&&(await this[_0x3db74b(0x67d)](),!this[_0x3db74b(0x5a2)]))throw new Error(_0x3db74b(0x67f));let _0x53d692=this['AutomateSystem'][_0x3db74b(0x58b)]['map'](_0x1f9047=>_0x1f9047[_0x3db74b(0x33d)]),_0x573785={};Object[_0x3db74b(0x655)](_0x117dcb[_0x3db74b(0x5a3)][_0x3db74b(0x417)])[_0x3db74b(0x58d)](([_0x5f2c4f,_0x4a31e6])=>{const _0xe7faad=_0x3db74b;_0x29cc13['includes'](_0x5f2c4f)&&(_0x5f2c4f===_0xe7faad(0x47c)&&typeof _0x4a31e6==_0xe7faad(0x53a)?_0x573785[_0x5f2c4f]=_0x4a31e6['split'](',\x20'):_0x573785[_0x5f2c4f]=_0x4a31e6);});let _0x5069c9=_0x548d1b['filter'](_0x2e83f8=>_0x53d692['includes'](_0x2e83f8[_0x3db74b(0x33d)]));this['logger'][_0x3db74b(0x44a)](this['instanceName']+'\x20('+this[_0x3db74b(0x4be)]['wuid']+_0x3db74b(0x5a9)),this[_0x3db74b(0x134)][_0x3db74b(0x44a)](_0x573785),this[_0x3db74b(0x134)][_0x3db74b(0x44a)](this[_0x3db74b(0x2dc)]+'\x20('+this[_0x3db74b(0x4be)]['wuid']+_0x3db74b(0x65c)),this['logger'][_0x3db74b(0x44a)](_0x5069c9);let _0x3c65e1=_0x5069c9[_0x3db74b(0x328)](_0x395ccd=>{const _0x5631d2=_0x3db74b;let _0x34b1ce=this[_0x5631d2(0x5a2)]['customFields'][_0x5631d2(0x235)](_0x36aea7=>_0x36aea7[_0x5631d2(0x33d)]===_0x395ccd[_0x5631d2(0x33d)]);if(!_0x34b1ce)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x395ccd[_0x5631d2(0x33d)]);return{'_id':_0x34b1ce[_0x5631d2(0x65d)],'value':_0x395ccd[_0x5631d2(0x53e)]};});this['logger'][_0x3db74b(0x44a)](this[_0x3db74b(0x2dc)]+'\x20('+this[_0x3db74b(0x4be)][_0x3db74b(0x509)]+'):\x20transformedCustomFieldVariables'),this[_0x3db74b(0x134)]['verbose'](_0x3c65e1);let _0x68094c=await G[_0x3db74b(0x2d4)]({'_id':_0x117dcb['_id']},{'$set':{'chatLog.lastBlockId':_0x117dcb[_0x3db74b(0x5a3)][_0x3db74b(0x1ca)],'blocks':_0x117dcb[_0x3db74b(0x321)],'chatLog.lastSendMessage':_0x117dcb[_0x3db74b(0x5a3)][_0x3db74b(0x5e8)],'chatLog.lastReceivedMessage':_0x117dcb[_0x3db74b(0x5a3)][_0x3db74b(0x49a)],'chatLog.chatVariables':_0x548d1b,'chatLog.realVariables':_0x117dcb['chatLog'][_0x3db74b(0x417)],'status':_0x117dcb[_0x3db74b(0x475)],'chatLog.blockLogs':_0x117dcb[_0x3db74b(0x5a3)][_0x3db74b(0x2ea)],'waitingPoll_id':_0x117dcb[_0x3db74b(0x393)],'waitingPoll_name':_0x117dcb[_0x3db74b(0x5bd)],'waitingPoll_replyOptions':_0x117dcb[_0x3db74b(0x3a3)]}},{'new':!0x0});if(_0x68094c){this['logger'][_0x3db74b(0x44a)](this[_0x3db74b(0x2dc)]+'\x20('+this[_0x3db74b(0x4be)][_0x3db74b(0x509)]+_0x3db74b(0x25a)+_0x68094c['_id']);let _0x4c5777=await I[_0x3db74b(0x2d4)]({'id':_0x117dcb['remoteJid'],'owner':this[_0x3db74b(0x4be)]['wuid']},{'$set':{'leadInfo.nome':_0x573785[_0x3db74b(0x157)],'leadInfo.nomecompleto':_0x573785['nomecompleto'],'leadInfo.email':_0x573785[_0x3db74b(0x2ae)],'leadInfo.cpf':_0x573785[_0x3db74b(0x2c8)],'leadInfo.status':_0x573785['status'],'leadInfo.notas':_0x573785['notas'],'leadInfo.responsavelid':_0x573785[_0x3db74b(0x602)],'leadInfo.tags':_0x573785[_0x3db74b(0x47c)],'leadInfo.customFields':_0x3c65e1}},{'new':!0x0,'upsert':!0x0});_0x4c5777?(this[_0x3db74b(0x134)][_0x3db74b(0x44a)](this['instanceName']+'\x20('+this[_0x3db74b(0x4be)][_0x3db74b(0x509)]+_0x3db74b(0x5a5)+_0x4c5777[_0x3db74b(0x65d)]),H(this['instanceName'],'chats',{'chat':_0x4c5777})):this[_0x3db74b(0x134)][_0x3db74b(0x307)](this[_0x3db74b(0x2dc)]+'\x20('+this[_0x3db74b(0x4be)]['wuid']+'):\x20A\x20atualização\x20no\x20BD\x20do\x20chat\x20não\x20foi\x20bem\x20sucedida');}else this[_0x3db74b(0x134)][_0x3db74b(0x307)](this[_0x3db74b(0x2dc)]+'\x20('+this[_0x3db74b(0x4be)][_0x3db74b(0x509)]+_0x3db74b(0x19f));}catch(_0x590302){this['logger'][_0x3db74b(0x307)](this[_0x3db74b(0x2dc)]+'\x20('+this[_0x3db74b(0x4be)][_0x3db74b(0x509)]+_0x3db74b(0x53c)+JSON[_0x3db74b(0x343)](_0x590302));}}async[a0_0x444692(0x579)](_0x484cad,_0x29b972){const _0x1d891c=a0_0x444692;try{let _0x1a3e83=await I[_0x1d891c(0x2d4)]({'id':_0x484cad[_0x1d891c(0x278)],'owner':_0x484cad[_0x1d891c(0x5ec)]},{'$set':{'desativadoFluxoAte':_0x29b972}},{'new':!0x0});this[_0x1d891c(0x134)][_0x1d891c(0x44a)](this[_0x1d891c(0x2dc)]+'\x20('+this[_0x1d891c(0x4be)][_0x1d891c(0x509)]+_0x1d891c(0x4a7)+_0x484cad['_id']),_0x1a3e83&&H(this[_0x1d891c(0x2dc)],'chats',{'chat':_0x1a3e83});}catch(_0x53e550){this[_0x1d891c(0x134)]['error'](this['instanceName']+'\x20('+this[_0x1d891c(0x4be)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON[_0x1d891c(0x343)](_0x53e550));}}async['findFlow'](_0x162923,_0x25d0e3){const _0x255408=a0_0x444692;try{this[_0x255408(0x134)][_0x255408(0x44a)](this[_0x255408(0x2dc)]+'\x20('+this[_0x255408(0x4be)]['wuid']+'):\x20Buscando\x20flow...');let _0x30d24c=_0x25d0e3[_0x255408(0x667)](/\D/g,''),_0x444c79=await D[_0x255408(0x2d7)]({'owner':_0x162923,'testingWith':_0x30d24c});return _0x444c79||(this['logger'][_0x255408(0x44a)](this[_0x255408(0x2dc)]+'\x20('+this['instance'][_0x255408(0x509)]+_0x255408(0x19d)),_0x444c79=await D[_0x255408(0x2d7)]({'owner':_0x162923,'default':!0x0})),_0x444c79||(this[_0x255408(0x134)]['verbose'](this[_0x255408(0x2dc)]+'\x20('+this['instance'][_0x255408(0x509)]+_0x255408(0x19b)),null);}catch(_0x364633){return this[_0x255408(0x134)][_0x255408(0x307)](this[_0x255408(0x2dc)]+'\x20('+this['instance'][_0x255408(0x509)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x364633),null;}}async[a0_0x444692(0x664)](_0x303b43,_0x4679d8,_0x374547){const _0x39242e=a0_0x444692;try{let _0x1f3cba=!!_0x374547[_0x39242e(0x142)],_0x198aca=_0x374547[_0x39242e(0x1eb)],_0x5b2da4=null;if(this['logger'][_0x39242e(0x44a)](this[_0x39242e(0x2dc)]+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+_0x39242e(0x259)+_0x1f3cba+_0x39242e(0x1eb)+_0x198aca),_0x1f3cba)return this[_0x39242e(0x134)][_0x39242e(0x44a)](this[_0x39242e(0x2dc)]+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+_0x39242e(0x40b)),_0x5b2da4=await G[_0x39242e(0x2d7)]({'owner':_0x303b43,'remoteJid':_0x4679d8,'waitingPoll_id':_0x198aca}),_0x5b2da4?(_0x5b2da4['lastInteraction']=Date[_0x39242e(0x1d5)](),_0x5b2da4['chatLog']['lastReceivedMessage']=_0x374547,_0x5b2da4):(this[_0x39242e(0x134)]['verbose'](this['instanceName']+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+_0x39242e(0x2ee)),null);{if(this[_0x39242e(0x134)][_0x39242e(0x44a)](this[_0x39242e(0x2dc)]+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+_0x39242e(0x3c5)+this['instance']['wuid']+_0x39242e(0x2ad)),this[_0x39242e(0x134)][_0x39242e(0x44a)](this[_0x39242e(0x2dc)]+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+_0x39242e(0x168)),_0x5b2da4=await G['findOne']({'owner':_0x303b43,'remoteJid':_0x4679d8,'status':_0x39242e(0x360)}),!_0x5b2da4){let _0x3ec13d=await this['findFlow'](_0x303b43,_0x4679d8);if(_0x3ec13d&&(_0x5b2da4=await this['createNewConversation'](_0x3ec13d,_0x374547[_0x39242e(0x4c1)],_0x374547)),!_0x5b2da4)return null;}let _0x50395f=Date[_0x39242e(0x1d5)](),_0x435da4=_0x5b2da4?.[_0x39242e(0x56b)]||0x0,_0x20ff6b=_0x50395f-_0x435da4*0x3c*0x3e8;if(this[_0x39242e(0x134)][_0x39242e(0x44a)](this[_0x39242e(0x2dc)]+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+'):\x20Current\x20Time:\x20'+_0x50395f+_0x39242e(0x43e)+_0x435da4+_0x39242e(0x4c4)+_0x20ff6b),this[_0x39242e(0x134)]['verbose'](this[_0x39242e(0x2dc)]+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+_0x39242e(0x605)),this[_0x39242e(0x134)][_0x39242e(0x44a)](this[_0x39242e(0x2dc)]+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+_0x39242e(0x5b7)+_0x5b2da4[_0x39242e(0x634)]),this[_0x39242e(0x134)][_0x39242e(0x44a)](this['instanceName']+'\x20('+this[_0x39242e(0x4be)][_0x39242e(0x509)]+_0x39242e(0x647)+_0x20ff6b),_0x5b2da4[_0x39242e(0x634)]<_0x20ff6b){this[_0x39242e(0x134)][_0x39242e(0x44a)](this[_0x39242e(0x2dc)]+'\x20('+this[_0x39242e(0x4be)]['wuid']+_0x39242e(0x222));let _0x20a615=await this['findFlow'](_0x303b43,_0x4679d8);if(_0x20a615===null)return null;_0x5b2da4&&await G[_0x39242e(0x376)]({'_id':_0x5b2da4[_0x39242e(0x65d)]},{'status':'closed'}),_0x5b2da4=await this[_0x39242e(0x543)](_0x20a615,_0x374547[_0x39242e(0x4c1)],_0x374547);}return _0x5b2da4['lastInteraction']=_0x50395f,_0x5b2da4['chatLog']['lastReceivedMessage']=_0x374547,_0x5b2da4;}}catch(_0x5c52fb){return this[_0x39242e(0x134)][_0x39242e(0x307)](this[_0x39242e(0x2dc)]+'\x20('+this['instance'][_0x39242e(0x509)]+_0x39242e(0x165)+_0x5c52fb),null;}}async[a0_0x444692(0x543)](_0x4cd0ac,_0x3b378f,_0x46fa6c){const _0x32c401=a0_0x444692;this[_0x32c401(0x134)][_0x32c401(0x44a)](this[_0x32c401(0x2dc)]+'\x20('+this['instance'][_0x32c401(0x509)]+_0x32c401(0x240));try{let _0x1a2537=require(_0x32c401(0xf9))['ObjectId'],_0x5ae1ad=Date[_0x32c401(0x1d5)](),_0x201f14='start',_0x376b6d=_0x3b378f[_0x32c401(0x569)]?null:_0x46fa6c,_0x3cd942=_0x3b378f['fromMe']?_0x46fa6c:null,_0x15193a=_0x3b378f['remoteJid'],_0x4ca7dc={..._0x4cd0ac[_0x32c401(0x47b)],'chatLog':null},_0xef1642=await this[_0x32c401(0x192)](_0x4ca7dc[_0x32c401(0x309)]),_0x28887f=await this[_0x32c401(0xff)](_0x15193a),_0x3fb31a={..._0xef1642,..._0x28887f},_0x316f40={'lastReceivedMessage':_0x376b6d,'lastSendMessage':_0x3cd942,'lastBlockId':_0x201f14,'lastCondition':!0x0,'realVariables':_0x3fb31a};_0x4ca7dc[_0x32c401(0x5a3)]=_0x316f40,delete _0x4ca7dc[_0x32c401(0x65d)],_0x4ca7dc[_0x32c401(0x65d)]=new _0x1a2537(),_0x4ca7dc[_0x32c401(0x634)]=_0x5ae1ad,_0x4ca7dc[_0x32c401(0x475)]=_0x32c401(0x360),_0x4ca7dc['remoteJid']=_0x15193a;let _0x33cd50=await G['create'](_0x4ca7dc);return this[_0x32c401(0x134)][_0x32c401(0x44a)](this[_0x32c401(0x2dc)]+'\x20('+this['instance'][_0x32c401(0x509)]+_0x32c401(0x197)),_0x33cd50?_0x4ca7dc:null;}catch(_0x10c100){return this[_0x32c401(0x134)][_0x32c401(0x307)](this[_0x32c401(0x2dc)]+'\x20('+this[_0x32c401(0x4be)][_0x32c401(0x509)]+_0x32c401(0x36a)+_0x10c100),_0x10c100;}}async['uazapiSendText'](_0x47ed56,_0x181101,_0x4d4563){const _0x36ce43=a0_0x444692;this['logger'][_0x36ce43(0x44a)](this[_0x36ce43(0x2dc)]+'\x20('+this[_0x36ce43(0x4be)][_0x36ce43(0x509)]+'):\x20Enviando\x20texto');let _0x3596d4={'number':_0x4d4563,'options':{'delay':_0x181101[_0x36ce43(0x244)][_0x36ce43(0x128)]},'textMessage':{'text':_0x181101[_0x36ce43(0x244)][_0x36ce43(0x36d)]}};try{let _0x39cb00=await this[_0x36ce43(0x5ca)](_0x3596d4);if(_0x39cb00){let _0x19dc93={'_id':_0x39cb00[_0x36ce43(0x4c1)]['id'],'_fromMe':_0x39cb00['key']['fromMe'],'_remoteJid':_0x39cb00[_0x36ce43(0x4c1)][_0x36ce43(0x278)]};_0x47ed56[_0x36ce43(0x5a3)][_0x36ce43(0x1ca)]=_0x181101[_0x36ce43(0x65d)][_0x36ce43(0x414)]();let {message_normalized:_0x47d5c3}=this['normalizeMessage'](_0x39cb00[_0x36ce43(0x2d3)],q(_0x39cb00['message']),null);_0x47ed56['chatLog'][_0x36ce43(0x5e8)]=await _0x47d5c3;let _0x268d08={'messageId':_0x39cb00[_0x36ce43(0x4c1)]['id']},_0x3a7c3a=_0x47ed56['chatLog']['realVariables'];Object[_0x36ce43(0x136)](_0x3a7c3a,_0x19dc93),_0x47ed56['chatLog']['realVariables']=_0x3a7c3a,this['updateConversation'](_0x47ed56,_0x181101,_0x268d08);}else{let _0x196e11={'error':!0x0};this[_0x36ce43(0x224)](_0x47ed56,_0x181101,_0x196e11),this[_0x36ce43(0x134)]['error'](this[_0x36ce43(0x2dc)]+'\x20('+this['instance']['wuid']+_0x36ce43(0x101));}}catch(_0x4e8ced){let _0x111c7a={'error':!0x0,'errorLog':_0x4e8ced[_0x36ce43(0x414)]()};this[_0x36ce43(0x224)](_0x47ed56,_0x181101,_0x111c7a),this[_0x36ce43(0x134)][_0x36ce43(0x307)](this[_0x36ce43(0x2dc)]+'\x20('+this[_0x36ce43(0x4be)]['wuid']+_0x36ce43(0x428)+_0x4e8ced[_0x36ce43(0x414)]());}}async[a0_0x444692(0x1b1)](_0x353af5,_0x21ba93,_0x5c1ebc){const _0xc419a2=a0_0x444692;this[_0xc419a2(0x134)][_0xc419a2(0x44a)](this['instanceName']+'\x20('+this[_0xc419a2(0x4be)][_0xc419a2(0x509)]+_0xc419a2(0x501));let _0x23095a={'number':_0x5c1ebc,'options':{'delay':_0x21ba93[_0xc419a2(0x244)][_0xc419a2(0x128)]},'mediaMessage':{'mediatype':_0x21ba93[_0xc419a2(0x244)]['mediatype'],'caption':_0x21ba93['uazapi'][_0xc419a2(0x4c2)],'media':_0x21ba93['uazapi']['media']}};try{let _0x1d32a7=await this[_0xc419a2(0x521)](_0x23095a);if(_0x1d32a7){let _0x2d38f8={'_id':_0x1d32a7[_0xc419a2(0x4c1)]['id'],'_fromMe':_0x1d32a7[_0xc419a2(0x4c1)][_0xc419a2(0x569)],'_remoteJid':_0x1d32a7[_0xc419a2(0x4c1)][_0xc419a2(0x278)]};_0x353af5['chatLog']['lastBlockId']=_0x21ba93[_0xc419a2(0x65d)][_0xc419a2(0x414)]();let {message_normalized:_0x4159a4}=this[_0xc419a2(0x45f)](_0x1d32a7[_0xc419a2(0x2d3)],q(_0x1d32a7[_0xc419a2(0x2d3)]),null);_0x353af5[_0xc419a2(0x5a3)][_0xc419a2(0x5e8)]=await _0x4159a4;let _0x53029d={'messageId':_0x1d32a7[_0xc419a2(0x4c1)]['id']},_0x59dc5c=_0x353af5[_0xc419a2(0x5a3)][_0xc419a2(0x417)];Object[_0xc419a2(0x136)](_0x59dc5c,_0x2d38f8),_0x353af5[_0xc419a2(0x5a3)][_0xc419a2(0x417)]=_0x59dc5c,this[_0xc419a2(0x224)](_0x353af5,_0x21ba93,_0x53029d);}else{let _0x24fb6c={'error':!0x0};this[_0xc419a2(0x224)](_0x353af5,_0x21ba93,_0x24fb6c),this[_0xc419a2(0x134)][_0xc419a2(0x307)](this[_0xc419a2(0x2dc)]+'\x20('+this[_0xc419a2(0x4be)][_0xc419a2(0x509)]+_0xc419a2(0x351));}}catch(_0x740c86){let _0x63b8a7={'error':!0x0,'errorLog':_0x740c86[_0xc419a2(0x414)]()};this[_0xc419a2(0x224)](_0x353af5,_0x21ba93,_0x63b8a7),this['logger'][_0xc419a2(0x307)](this[_0xc419a2(0x2dc)]+'\x20('+this[_0xc419a2(0x4be)][_0xc419a2(0x509)]+_0xc419a2(0x15d)+_0x740c86['toString']());}}async['uazapiSendLocation'](_0x1c2e13,_0x3e4f56,_0x5ba450){const _0x43a119=a0_0x444692;this['logger'][_0x43a119(0x44a)](this[_0x43a119(0x2dc)]+'\x20('+this[_0x43a119(0x4be)][_0x43a119(0x509)]+_0x43a119(0x117));let _0x1c4431={'number':_0x5ba450,'options':{'delay':_0x3e4f56[_0x43a119(0x244)][_0x43a119(0x128)]},'locationMessage':{'name':_0x3e4f56[_0x43a119(0x244)]['name'],'address':_0x3e4f56[_0x43a119(0x244)][_0x43a119(0xfe)],'latitude':_0x3e4f56[_0x43a119(0x244)][_0x43a119(0x255)],'longitude':_0x3e4f56[_0x43a119(0x244)]['longitude']}};try{let _0x4d08b0=await this[_0x43a119(0x454)](_0x1c4431);if(_0x4d08b0){let _0x1b9ff6={'_id':_0x4d08b0[_0x43a119(0x4c1)]['id'],'_fromMe':_0x4d08b0[_0x43a119(0x4c1)]['fromMe'],'_remoteJid':_0x4d08b0[_0x43a119(0x4c1)]['remoteJid']};_0x1c2e13[_0x43a119(0x5a3)][_0x43a119(0x1ca)]=_0x3e4f56['_id']['toString']();let {message_normalized:_0xfc6c81}=this['normalizeMessage'](_0x4d08b0[_0x43a119(0x2d3)],q(_0x4d08b0[_0x43a119(0x2d3)]),null);_0x1c2e13[_0x43a119(0x5a3)][_0x43a119(0x5e8)]=await _0xfc6c81;let _0x5f1180={'messageId':_0x4d08b0[_0x43a119(0x4c1)]['id']},_0x2b0e98=_0x1c2e13[_0x43a119(0x5a3)][_0x43a119(0x417)];Object['assign'](_0x2b0e98,_0x1b9ff6),_0x1c2e13[_0x43a119(0x5a3)][_0x43a119(0x417)]=_0x2b0e98,this[_0x43a119(0x224)](_0x1c2e13,_0x3e4f56,_0x5f1180);}else{let _0x5be52b={'error':!0x0};this[_0x43a119(0x224)](_0x1c2e13,_0x3e4f56,_0x5be52b),this['logger']['error'](this[_0x43a119(0x2dc)]+'\x20('+this['instance'][_0x43a119(0x509)]+_0x43a119(0x1b3));}}catch(_0x479386){let _0x205c81={'error':!0x0,'errorLog':_0x479386[_0x43a119(0x414)]()};this['updateConversation'](_0x1c2e13,_0x3e4f56,_0x205c81),this['logger'][_0x43a119(0x307)](this[_0x43a119(0x2dc)]+'\x20('+this[_0x43a119(0x4be)]['wuid']+_0x43a119(0x4e0)+_0x479386['toString']());}}async['uazapiSendAudio'](_0xd37f1d,_0x5bdb0b,_0x573cfb){const _0x268e52=a0_0x444692;this['logger']['verbose'](this[_0x268e52(0x2dc)]+'\x20('+this[_0x268e52(0x4be)][_0x268e52(0x509)]+_0x268e52(0x44d));let _0x51ec6b={'number':_0x573cfb,'options':{'delay':_0x5bdb0b[_0x268e52(0x244)][_0x268e52(0x128)]},'audioMessage':{'audio':_0x5bdb0b[_0x268e52(0x244)]['audio']}};try{let _0x4ac3e1=await this[_0x268e52(0x1a6)](_0x51ec6b);if(_0x4ac3e1){let _0x1dbdcc={'_id':_0x4ac3e1[_0x268e52(0x4c1)]['id'],'_fromMe':_0x4ac3e1['key'][_0x268e52(0x569)],'_remoteJid':_0x4ac3e1[_0x268e52(0x4c1)]['remoteJid']};_0xd37f1d[_0x268e52(0x5a3)]['lastBlockId']=_0x5bdb0b['_id'][_0x268e52(0x414)]();let {message_normalized:_0xb45043}=this[_0x268e52(0x45f)](_0x4ac3e1['message'],q(_0x4ac3e1[_0x268e52(0x2d3)]),null);_0xd37f1d['chatLog'][_0x268e52(0x5e8)]=await _0xb45043;let _0x3a4bcb={'messageId':_0x4ac3e1[_0x268e52(0x4c1)]['id']},_0xb55dce=_0xd37f1d[_0x268e52(0x5a3)][_0x268e52(0x417)];Object['assign'](_0xb55dce,_0x1dbdcc),_0xd37f1d[_0x268e52(0x5a3)][_0x268e52(0x417)]=_0xb55dce,this[_0x268e52(0x224)](_0xd37f1d,_0x5bdb0b,_0x3a4bcb);}else{let _0x4edf3d={'error':!0x0};this[_0x268e52(0x224)](_0xd37f1d,_0x5bdb0b,_0x4edf3d),this[_0x268e52(0x134)][_0x268e52(0x307)](this[_0x268e52(0x2dc)]+'\x20('+this['instance'][_0x268e52(0x509)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x5cefd8){let _0xa111b4={'error':!0x0,'errorLog':_0x5cefd8[_0x268e52(0x414)]()};this[_0x268e52(0x224)](_0xd37f1d,_0x5bdb0b,_0xa111b4),this[_0x268e52(0x134)][_0x268e52(0x307)](this[_0x268e52(0x2dc)]+'\x20('+this[_0x268e52(0x4be)][_0x268e52(0x509)]+_0x268e52(0x46f)+_0x5cefd8[_0x268e52(0x414)]());}}async[a0_0x444692(0x3cf)](_0x36f309,_0x3d42e4,_0x4950cd){const _0x130301=a0_0x444692;this[_0x130301(0x134)][_0x130301(0x44a)](this[_0x130301(0x2dc)]+'\x20('+this[_0x130301(0x4be)][_0x130301(0x509)]+'):\x20Enviando\x20contato');let _0x541d76={'number':_0x4950cd,'options':{'delay':_0x3d42e4['uazapi'][_0x130301(0x128)]},'contactMessage':[{'fullName':_0x3d42e4[_0x130301(0x244)]['fullName'],'phoneNumber':_0x3d42e4[_0x130301(0x244)][_0x130301(0x614)]}]};try{let _0xbe87cd=await this[_0x130301(0x25f)](_0x541d76);if(_0xbe87cd){let _0x4bb1ee={'_id':_0xbe87cd[_0x130301(0x4c1)]['id'],'_fromMe':_0xbe87cd[_0x130301(0x4c1)]['fromMe'],'_remoteJid':_0xbe87cd[_0x130301(0x4c1)][_0x130301(0x278)]};_0x36f309[_0x130301(0x5a3)][_0x130301(0x1ca)]=_0x3d42e4[_0x130301(0x65d)][_0x130301(0x414)]();let {message_normalized:_0x57b9eb}=this[_0x130301(0x45f)](_0xbe87cd[_0x130301(0x2d3)],q(_0xbe87cd['message']),null);_0x36f309[_0x130301(0x5a3)][_0x130301(0x5e8)]=await _0x57b9eb;let _0x220b21={'messageId':_0xbe87cd['key']['id']},_0xed7b01=_0x36f309[_0x130301(0x5a3)][_0x130301(0x417)];Object['assign'](_0xed7b01,_0x4bb1ee),_0x36f309[_0x130301(0x5a3)]['realVariables']=_0xed7b01,this[_0x130301(0x224)](_0x36f309,_0x3d42e4,_0x220b21);}else{let _0x3cfee4={'error':!0x0};this['updateConversation'](_0x36f309,_0x3d42e4,_0x3cfee4),this[_0x130301(0x134)]['error'](this[_0x130301(0x2dc)]+'\x20('+this['instance'][_0x130301(0x509)]+_0x130301(0x2dd));}}catch(_0x1ff1cf){let _0x3f70cc={'error':!0x0,'errorLog':_0x1ff1cf[_0x130301(0x414)]()};this['updateConversation'](_0x36f309,_0x3d42e4,_0x3f70cc),this['logger'][_0x130301(0x307)](this['instanceName']+'\x20('+this['instance'][_0x130301(0x509)]+_0x130301(0x5bf)+_0x1ff1cf[_0x130301(0x414)]());}}[a0_0x444692(0x1d7)](_0x4665b2,_0x3f1ab0){const _0x22ce31=a0_0x444692;for(let _0x2ebb36 of _0x4665b2)_0x2ebb36[_0x22ce31(0x499)]&&(_0x2ebb36[_0x22ce31(0x499)]=this[_0x22ce31(0x419)](_0x2ebb36['option'],_0x3f1ab0)),_0x2ebb36[_0x22ce31(0x242)]&&(_0x2ebb36[_0x22ce31(0x242)]=this[_0x22ce31(0x419)](_0x2ebb36[_0x22ce31(0x242)],_0x3f1ab0));}async[a0_0x444692(0x2c3)](_0x5d642a,_0x128148,_0x535044){const _0x325bf9=a0_0x444692;this[_0x325bf9(0x134)]['verbose'](this['instanceName']+'\x20('+this[_0x325bf9(0x4be)][_0x325bf9(0x509)]+_0x325bf9(0x3b0));let _0x9a31da=_0x5d642a[_0x325bf9(0x5b2)]['filter'](_0x5c317f=>_0x5c317f[_0x325bf9(0x666)]===_0x128148[_0x325bf9(0x65d)]);this[_0x325bf9(0x1d7)](_0x9a31da,_0x5d642a['chatLog'][_0x325bf9(0x417)]);let _0x489688=_0x9a31da[_0x325bf9(0x328)](_0x51c889=>_0x51c889['option']),_0x42e8ef={'number':_0x535044,'options':{'delay':_0x128148[_0x325bf9(0x244)]['delay']},'pollMessage':{'name':_0x128148['uazapi']['name'],'selectableCount':0x1,'values':_0x489688}};try{let _0x56e714=await this['pollMessage'](_0x42e8ef);if(_0x56e714){let _0x1d6fa1={'_id':_0x56e714['key']['id'],'_fromMe':_0x56e714['key'][_0x325bf9(0x569)],'_remoteJid':_0x56e714[_0x325bf9(0x4c1)][_0x325bf9(0x278)]};this[_0x325bf9(0x134)][_0x325bf9(0x44a)](this[_0x325bf9(0x2dc)]+'\x20('+this['instance']['wuid']+_0x325bf9(0x570)+_0x128148[_0x325bf9(0x244)][_0x325bf9(0x33d)]),_0x5d642a[_0x325bf9(0x393)]=_0x56e714[_0x325bf9(0x4c1)]['id'],_0x5d642a[_0x325bf9(0x5bd)]=_0x128148['uazapi'][_0x325bf9(0x33d)],_0x5d642a[_0x325bf9(0x3a3)]=_0x9a31da,this[_0x325bf9(0x134)]['verbose'](this[_0x325bf9(0x2dc)]+'\x20('+this['instance'][_0x325bf9(0x509)]+_0x325bf9(0x274)+_0x5d642a[_0x325bf9(0x5bd)]),_0x5d642a[_0x325bf9(0x5a3)]['lastBlockId']=_0x128148[_0x325bf9(0x65d)][_0x325bf9(0x414)]();let {message_normalized:_0x52dbc4}=this[_0x325bf9(0x45f)](_0x56e714[_0x325bf9(0x2d3)],q(_0x56e714['message']),null);_0x5d642a[_0x325bf9(0x5a3)][_0x325bf9(0x5e8)]=await _0x52dbc4;let _0x514c19={'messageId':_0x56e714[_0x325bf9(0x4c1)]['id']},_0x335030=_0x5d642a['chatLog'][_0x325bf9(0x417)];Object['assign'](_0x335030,_0x1d6fa1),_0x5d642a[_0x325bf9(0x5a3)][_0x325bf9(0x417)]=_0x335030,this[_0x325bf9(0x224)](_0x5d642a,_0x128148,_0x514c19);}else{let _0x441acc={'error':!0x0};this[_0x325bf9(0x224)](_0x5d642a,_0x128148,_0x441acc),this[_0x325bf9(0x134)][_0x325bf9(0x307)](this['instanceName']+'\x20('+this[_0x325bf9(0x4be)]['wuid']+_0x325bf9(0x337));}}catch(_0x4243eb){let _0xcf0070={'error':!0x0,'errorLog':_0x4243eb[_0x325bf9(0x414)]()};this[_0x325bf9(0x224)](_0x5d642a,_0x128148,_0xcf0070),this[_0x325bf9(0x134)][_0x325bf9(0x307)](this[_0x325bf9(0x2dc)]+'\x20('+this['instance'][_0x325bf9(0x509)]+_0x325bf9(0x435)+_0x4243eb[_0x325bf9(0x414)]());}}async['uazapiDeleteMessage'](_0x538c70,_0xc346aa,_0x26f32e){const _0x259a5a=a0_0x444692;this[_0x259a5a(0x134)][_0x259a5a(0x44a)](this[_0x259a5a(0x2dc)]+'\x20('+this[_0x259a5a(0x4be)]['wuid']+_0x259a5a(0x657));let _0x407b9d=_0x538c70[_0x259a5a(0x5a3)]['blockLogs']['find'](_0x842244=>_0x842244[_0x259a5a(0x666)][_0x259a5a(0x414)]()===_0xc346aa['uazapi'][_0x259a5a(0x666)]['toString']()),_0x92dd2c={'id':_0x407b9d[_0x259a5a(0x497)],'remoteJid':_0x407b9d[_0x259a5a(0x278)],'fromMe':_0x407b9d['fromMe']};try{let _0x56a362=await this[_0x259a5a(0x1d0)](_0x92dd2c);if(_0x56a362){_0x538c70[_0x259a5a(0x5a3)][_0x259a5a(0x1ca)]=_0xc346aa[_0x259a5a(0x65d)]['toString']();let {message_normalized:_0x2b9359}=this[_0x259a5a(0x45f)](_0x56a362[_0x259a5a(0x2d3)],q(_0x56a362[_0x259a5a(0x2d3)]),null);_0x538c70['chatLog']['lastSendMessage']=await _0x2b9359;let _0x1fac21={};this[_0x259a5a(0x224)](_0x538c70,_0xc346aa,_0x1fac21);}else{let _0x1c7bc6={'error':!0x0};this[_0x259a5a(0x224)](_0x538c70,_0xc346aa,_0x1c7bc6),this[_0x259a5a(0x134)][_0x259a5a(0x307)](this[_0x259a5a(0x2dc)]+'\x20('+this['instance'][_0x259a5a(0x509)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x3bc828){let _0x19ae11={'error':!0x0,'errorLog':_0x3bc828['toString']()};this[_0x259a5a(0x224)](_0x538c70,_0xc346aa,_0x19ae11),this[_0x259a5a(0x134)]['error'](this[_0x259a5a(0x2dc)]+'\x20('+this[_0x259a5a(0x4be)][_0x259a5a(0x509)]+_0x259a5a(0x5cd)+_0x3bc828[_0x259a5a(0x414)]());}}async[a0_0x444692(0xf4)](_0x166055){const _0x11022b=a0_0x444692;try{if(this[_0x11022b(0x134)][_0x11022b(0x44a)](this['instanceName']+'\x20('+this[_0x11022b(0x4be)][_0x11022b(0x509)]+'):\x20Criando\x20fluxo...'),await D[_0x11022b(0x2d7)]({'owner':this['instance'][_0x11022b(0x509)],'name':_0x166055[_0x11022b(0x33d)]}))return{'message':_0x11022b(0x4f8)};_0x166055['default']===!0x0&&await D['updateMany']({'owner':this['instance'][_0x11022b(0x509)]},{'default':!0x1});let _0x57ee70=new ye[(_0x11022b(0x314))][(_0x11022b(0x56d))](),_0x58f055={'_id':_0x57ee70,'default':!0x0,'title':_0x11022b(0x5e6),'x':0x0,'y':0x0},_0x30d9b9={'_id':new ye['Types'][(_0x11022b(0x56d))](),'order':0x1,'groupId':_0x57ee70[_0x11022b(0x414)](),'type':_0x11022b(0x127)};return await D['create']({'owner':this[_0x11022b(0x4be)][_0x11022b(0x509)],'name':_0x166055[_0x11022b(0x33d)],'groups':[_0x58f055],'blocks':[_0x30d9b9],..._0x166055});}catch(_0x5c649a){throw this[_0x11022b(0x134)]['error'](this[_0x11022b(0x2dc)]+'\x20('+this[_0x11022b(0x4be)]['wuid']+_0x11022b(0x1dc)+_0x5c649a),new m('Erro\x20ao\x20criar\x20o\x20fluxo:\x20'+_0x5c649a);}}async[a0_0x444692(0x54f)](_0x22d9fa){const _0x483548=a0_0x444692;try{return this[_0x483548(0x134)]['verbose'](this[_0x483548(0x2dc)]+'\x20('+this[_0x483548(0x4be)]['wuid']+_0x483548(0x38a)),await D[_0x483548(0x207)]({'owner':this[_0x483548(0x4be)]['wuid'],'name':_0x22d9fa});}catch(_0x4434fb){return this[_0x483548(0x134)][_0x483548(0x307)](this[_0x483548(0x2dc)]+'\x20('+this[_0x483548(0x4be)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+_0x4434fb),{'message':_0x483548(0x350)+_0x4434fb};}}async['getFlow'](_0x36f902){const _0x28b6c2=a0_0x444692;try{this[_0x28b6c2(0x134)][_0x28b6c2(0x44a)](this[_0x28b6c2(0x2dc)]+'\x20('+this[_0x28b6c2(0x4be)][_0x28b6c2(0x509)]+_0x28b6c2(0x1da));let _0x5eaaa2=await D[_0x28b6c2(0x2d7)]({'owner':this[_0x28b6c2(0x4be)][_0x28b6c2(0x509)],'name':_0x36f902});if(!_0x5eaaa2)throw new Error('Flow\x20não\x20encontrado');if(!this[_0x28b6c2(0x5a2)]&&(await this['getAutomateSystem'](),!this[_0x28b6c2(0x5a2)]))return null;let _0x32f143=this[_0x28b6c2(0x5a2)][_0x28b6c2(0x58b)]['map'](_0x494d09=>_0x494d09['name']),_0x46867a=['nome',_0x28b6c2(0x409),'email',_0x28b6c2(0x2c8),_0x28b6c2(0x475),_0x28b6c2(0x37c),_0x28b6c2(0x602),_0x28b6c2(0x47c)];return _0x5eaaa2[_0x28b6c2(0x309)]=_0x5eaaa2[_0x28b6c2(0x309)][_0x28b6c2(0x14a)](_0x11f02c=>!_0x46867a[_0x28b6c2(0x48d)](_0x11f02c[_0x28b6c2(0x33d)])),_0x46867a['forEach'](_0x41bae5=>{const _0x2950bb=_0x28b6c2;_0x5eaaa2['variables'][_0x2950bb(0x370)]({'folder':'leadInfo','name':_0x41bae5,'value':'','doc':'','leadInfo':!0x0});}),_0x5eaaa2[_0x28b6c2(0x309)]=_0x5eaaa2[_0x28b6c2(0x309)][_0x28b6c2(0x14a)](_0x1eb058=>!_0x32f143['includes'](_0x1eb058[_0x28b6c2(0x33d)])),_0x32f143[_0x28b6c2(0x58d)](_0x4d9d73=>{const _0xd9858e=_0x28b6c2;_0x5eaaa2[_0xd9858e(0x309)]['some'](_0x44b891=>_0x44b891['name']===_0x4d9d73&&_0x44b891[_0xd9858e(0x20e)]===!0x0)||_0x5eaaa2['variables']['push']({'folder':_0xd9858e(0x20e),'name':_0x4d9d73,'value':'','doc':'','leadInfo':!0x0});}),await _0x5eaaa2[_0x28b6c2(0x541)](),_0x5eaaa2;}catch(_0x4842f7){throw this[_0x28b6c2(0x134)][_0x28b6c2(0x307)](this[_0x28b6c2(0x2dc)]+'\x20('+this['instance'][_0x28b6c2(0x509)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+_0x4842f7),new m(_0x28b6c2(0x1a2)+_0x4842f7);}}async[a0_0x444692(0x544)](){const _0x9df38=a0_0x444692;try{return this[_0x9df38(0x134)][_0x9df38(0x44a)](this[_0x9df38(0x2dc)]+'\x20('+this['instance']['wuid']+_0x9df38(0x468)),await D['find']({'owner':this[_0x9df38(0x4be)][_0x9df38(0x509)]});}catch(_0x199b2f){return this[_0x9df38(0x134)][_0x9df38(0x307)](this[_0x9df38(0x2dc)]+'\x20('+this[_0x9df38(0x4be)][_0x9df38(0x509)]+_0x9df38(0x4ed)+_0x199b2f),{'message':_0x9df38(0x34f)+_0x199b2f};}}async['editFlow'](_0x3593ff){const _0x9e1de1=a0_0x444692;try{this['logger'][_0x9e1de1(0x44a)](this[_0x9e1de1(0x2dc)]+'\x20('+this[_0x9e1de1(0x4be)][_0x9e1de1(0x509)]+'):\x20Alterando\x20fluxo...');let _0x11a29f=await D[_0x9e1de1(0x2d7)]({'owner':this[_0x9e1de1(0x4be)][_0x9e1de1(0x509)],'name':_0x3593ff[_0x9e1de1(0x33d)]});if(!_0x11a29f)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x3593ff[_0x9e1de1(0x331)]===!0x0&&await D[_0x9e1de1(0x418)]({'owner':this['instance'][_0x9e1de1(0x509)]},{'default':!0x1}),_0x3593ff[_0x9e1de1(0x2d0)]){if(await D[_0x9e1de1(0x2d7)]({'owner':this[_0x9e1de1(0x4be)][_0x9e1de1(0x509)],'name':_0x3593ff[_0x9e1de1(0x2d0)]}))return{'message':'Já\x20existe\x20fluxo\x20com\x20esse\x20nome'};_0x3593ff[_0x9e1de1(0x33d)]=_0x3593ff[_0x9e1de1(0x2d0)],delete _0x3593ff[_0x9e1de1(0x2d0)];}return await D[_0x9e1de1(0x60c)](_0x11a29f[_0x9e1de1(0x65d)],{'$set':_0x3593ff},{'new':!0x0});}catch(_0x53ffd4){throw this[_0x9e1de1(0x134)][_0x9e1de1(0x307)](this[_0x9e1de1(0x2dc)]+'\x20('+this['instance'][_0x9e1de1(0x509)]+_0x9e1de1(0x21b)+_0x53ffd4),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+_0x53ffd4);}}async[a0_0x444692(0x12f)](_0x54ed20){const _0x1152c1=a0_0x444692;try{this[_0x1152c1(0x134)][_0x1152c1(0x44a)](this[_0x1152c1(0x2dc)]+'\x20('+this[_0x1152c1(0x4be)]['wuid']+_0x1152c1(0x120));let _0x320c6f={'owner':this[_0x1152c1(0x4be)]['wuid'],'name':_0x54ed20[_0x1152c1(0x33d)]},_0x281bb7=await D[_0x1152c1(0x2d7)](_0x320c6f);_0x281bb7||this[_0x1152c1(0x4fe)](_0x1152c1(0x133));let {block:_0x57cee8}=_0x54ed20;return _0x57cee8?.[_0x1152c1(0xe7)]?this['deleteBlock'](_0x281bb7,_0x54ed20):_0x57cee8[_0x1152c1(0x65d)]?await this[_0x1152c1(0x14f)](_0x281bb7,_0x54ed20):this[_0x1152c1(0x4af)](_0x281bb7,_0x54ed20),await _0x281bb7[_0x1152c1(0x541)](),_0x281bb7;}catch(_0x5a306f){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x5a306f);}}['throwAndLogError'](_0x1fae0c){const _0x515491=a0_0x444692;throw this[_0x515491(0x134)]['error'](this[_0x515491(0x2dc)]+'\x20('+this[_0x515491(0x4be)][_0x515491(0x509)]+_0x515491(0x3c5)+_0x1fae0c),new m(_0x1fae0c);}[a0_0x444692(0x364)](_0x544f26,_0x32cafb){const _0x3e2559=a0_0x444692;let {block:_0x2e897b}=_0x32cafb;if(_0x2e897b[_0x3e2559(0x2fe)]==='start'){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x2e897b['_id']){this['throwAndLogError']('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x205659=_0x544f26[_0x3e2559(0x321)][_0x3e2559(0x235)](_0x1f17d1=>_0x1f17d1[_0x3e2559(0x65d)][_0x3e2559(0x414)]()===_0x32cafb['block']['_id'][_0x3e2559(0x414)]());if(!_0x205659){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x2e897b[_0x3e2559(0x65d)]+_0x3e2559(0x482));return;}_0x544f26[_0x3e2559(0x321)]=_0x544f26[_0x3e2559(0x321)]['filter'](_0x406061=>_0x406061[_0x3e2559(0x65d)][_0x3e2559(0x414)]()!==_0x32cafb[_0x3e2559(0x2db)]['_id'][_0x3e2559(0x414)]()),_0x544f26[_0x3e2559(0x42f)]=_0x544f26['conditions'][_0x3e2559(0x14a)](_0x26a096=>_0x26a096[_0x3e2559(0x666)]!==_0x2e897b[_0x3e2559(0x65d)]['toString']()),_0x544f26[_0x3e2559(0x4f1)]=_0x544f26['varedits']['filter'](_0x48bdf5=>_0x48bdf5['blockId']!==_0x2e897b[_0x3e2559(0x65d)]['toString']()),_0x544f26[_0x3e2559(0x5b2)]=_0x544f26['replyOptions'][_0x3e2559(0x14a)](_0x5c4706=>_0x5c4706[_0x3e2559(0x666)]!==_0x2e897b[_0x3e2559(0x65d)]['toString']()),this[_0x3e2559(0x3ae)](_0x544f26['blocks'],_0x205659['groupId']);}async[a0_0x444692(0x14f)](_0x263e34,_0xce28b4){const _0x3a9342=a0_0x444692;let _0x56a135=_0x263e34[_0x3a9342(0x321)][_0x3a9342(0x1ba)](_0xb3fb30=>_0xb3fb30['_id'][_0x3a9342(0x414)]()===_0xce28b4['block'][_0x3a9342(0x65d)][_0x3a9342(0x414)]());if(this['logger'][_0x3a9342(0x44a)](this[_0x3a9342(0x2dc)]+'\x20('+this[_0x3a9342(0x4be)][_0x3a9342(0x509)]+_0x3a9342(0x1a7)+_0x56a135),_0x56a135===-0x1){this[_0x3a9342(0x134)][_0x3a9342(0x44a)](_0x3a9342(0x344)+_0xce28b4[_0x3a9342(0x2db)][_0x3a9342(0x65d)]+_0x3a9342(0x305));return;}if(_0x263e34['blocks'][_0x56a135][_0x3a9342(0x2fe)]===_0x3a9342(0x127)){let _0x4e49b1=Object[_0x3a9342(0x182)](_0xce28b4['block']);if(_0x4e49b1['length']>0x2||_0x4e49b1[_0x3a9342(0x1f4)]===0x2&&!_0x4e49b1['includes'](_0x3a9342(0x164))){this[_0x3a9342(0x4fe)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0xf2d323=_0x263e34[_0x3a9342(0x321)][_0x56a135][_0x3a9342(0x112)];for(let _0x439a3c in _0xce28b4[_0x3a9342(0x2db)])_0xce28b4[_0x3a9342(0x2db)][_0x3a9342(0x1cb)](_0x439a3c)&&(_0x263e34['blocks'][_0x56a135][_0x439a3c]=_0xce28b4[_0x3a9342(0x2db)][_0x439a3c]);if(this[_0x3a9342(0x134)][_0x3a9342(0x44a)](this[_0x3a9342(0x2dc)]+'\x20('+this[_0x3a9342(0x4be)]['wuid']+_0x3a9342(0x1af)+JSON[_0x3a9342(0x343)](_0x263e34[_0x3a9342(0x321)][_0x56a135])),_0x263e34[_0x3a9342(0x321)][_0x56a135][_0x3a9342(0x355)]&&_0x3a9342(0x2f2)in _0x263e34[_0x3a9342(0x321)][_0x56a135][_0x3a9342(0x355)]){this[_0x3a9342(0x134)][_0x3a9342(0x44a)](this[_0x3a9342(0x2dc)]+'\x20('+this[_0x3a9342(0x4be)][_0x3a9342(0x509)]+_0x3a9342(0x62b));let _0x38f8a8=JSON[_0x3a9342(0x343)](_0x263e34[_0x3a9342(0x321)][_0x56a135][_0x3a9342(0x355)]['header'],null,0x1);_0x38f8a8[_0x3a9342(0x1f4)]>0x2&&(_0x38f8a8=_0x38f8a8[_0x3a9342(0x1e3)](0x1,_0x38f8a8[_0x3a9342(0x1f4)]-0x1)[_0x3a9342(0x5a7)]()),_0x263e34[_0x3a9342(0x321)][_0x56a135][_0x3a9342(0x355)]['headerString']=_0x38f8a8;}if(_0x263e34[_0x3a9342(0x321)][_0x56a135][_0x3a9342(0x355)]&&'body'in _0x263e34[_0x3a9342(0x321)][_0x56a135]['apirequest']){this['logger']['verbose'](this[_0x3a9342(0x2dc)]+'\x20('+this[_0x3a9342(0x4be)][_0x3a9342(0x509)]+_0x3a9342(0x35b));let _0x24a243=JSON[_0x3a9342(0x343)](_0x263e34[_0x3a9342(0x321)][_0x56a135][_0x3a9342(0x355)][_0x3a9342(0x285)],null,0x1);_0x24a243[_0x3a9342(0x1f4)]>0x2&&(_0x24a243=_0x24a243[_0x3a9342(0x1e3)](0x1,_0x24a243[_0x3a9342(0x1f4)]-0x1)[_0x3a9342(0x5a7)]()),_0x263e34[_0x3a9342(0x321)][_0x56a135][_0x3a9342(0x355)][_0x3a9342(0x373)]=_0x24a243;}let _0x44b617=_0x263e34['blocks'][_0x56a135][_0x3a9342(0x112)];_0xf2d323!==_0x44b617?(this[_0x3a9342(0x3ae)](_0x263e34['blocks'],_0xf2d323),this['reorderBlocks'](_0x263e34[_0x3a9342(0x321)],_0x44b617)):this[_0x3a9342(0x3ae)](_0x263e34[_0x3a9342(0x321)],_0xf2d323);}[a0_0x444692(0x4af)](_0x438da7,_0x45c98e){const _0x26d52f=a0_0x444692;if(_0x45c98e['block'][_0x26d52f(0x2fe)]===_0x26d52f(0x127)){this[_0x26d52f(0x4fe)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x45c98e['block'][_0x26d52f(0x355)]&&_0x26d52f(0x2f2)in _0x45c98e['block'][_0x26d52f(0x355)]){this[_0x26d52f(0x134)][_0x26d52f(0x44a)](this[_0x26d52f(0x2dc)]+'\x20('+this[_0x26d52f(0x4be)]['wuid']+_0x26d52f(0x62b));let _0x4b54a5=JSON[_0x26d52f(0x343)](_0x45c98e['block'][_0x26d52f(0x355)][_0x26d52f(0x2f2)],null,0x1);_0x4b54a5[_0x26d52f(0x1f4)]>0x2&&(_0x4b54a5=_0x4b54a5[_0x26d52f(0x1e3)](0x1,_0x4b54a5[_0x26d52f(0x1f4)]-0x1)['trim']()),_0x45c98e['block'][_0x26d52f(0x355)][_0x26d52f(0x27b)]=_0x4b54a5;}_0x45c98e[_0x26d52f(0x2db)]['apirequest']&&_0x26d52f(0x285)in _0x45c98e['block'][_0x26d52f(0x355)]&&(this[_0x26d52f(0x134)]['verbose'](this['instanceName']+'\x20('+this[_0x26d52f(0x4be)][_0x26d52f(0x509)]+_0x26d52f(0x35b)),_0x45c98e[_0x26d52f(0x2db)][_0x26d52f(0x355)][_0x26d52f(0x373)]=JSON[_0x26d52f(0x343)](_0x45c98e[_0x26d52f(0x2db)]['apirequest'][_0x26d52f(0x285)],null,0x1)[_0x26d52f(0x5a7)]()),_0x438da7[_0x26d52f(0x321)]['push'](_0x45c98e['block']),this[_0x26d52f(0x3ae)](_0x438da7['blocks'],_0x45c98e[_0x26d52f(0x2db)][_0x26d52f(0x112)]);}[a0_0x444692(0x3ae)](_0x5450dc,_0x35fac9){const _0x21f679=a0_0x444692;let _0x5e0f36=_0x5450dc[_0x21f679(0x14a)](_0x3d635d=>_0x3d635d[_0x21f679(0x112)]===_0x35fac9);_0x5e0f36[_0x21f679(0x298)]((_0x5cc7c6,_0x244d9a)=>_0x5cc7c6[_0x21f679(0x1f2)]-_0x244d9a[_0x21f679(0x1f2)]),_0x5e0f36[_0x21f679(0x58d)]((_0xcb2470,_0x3bd319)=>_0xcb2470[_0x21f679(0x1f2)]=_0x3bd319+0x1);}async['editFlowReply'](_0x3d4c8d){const _0x2aff2a=a0_0x444692;try{if(this[_0x2aff2a(0x134)]['verbose'](this[_0x2aff2a(0x2dc)]+'\x20('+this[_0x2aff2a(0x4be)][_0x2aff2a(0x509)]+_0x2aff2a(0x481)),!_0x3d4c8d||!_0x3d4c8d[_0x2aff2a(0x3bd)]){this['throwAndLogError'](_0x2aff2a(0x554));return;}let _0x4aea7e={'owner':this[_0x2aff2a(0x4be)][_0x2aff2a(0x509)],'name':_0x3d4c8d[_0x2aff2a(0x33d)]},_0x22f1dd=await D[_0x2aff2a(0x2d7)](_0x4aea7e);_0x22f1dd||this['throwAndLogError'](_0x2aff2a(0x133));let {replyOption:_0x2d7185}=_0x3d4c8d;return _0x2d7185?.[_0x2aff2a(0xe7)]?this[_0x2aff2a(0x16f)](_0x22f1dd,_0x3d4c8d):_0x2d7185[_0x2aff2a(0x65d)]?await this[_0x2aff2a(0x36b)](_0x22f1dd,_0x3d4c8d):this[_0x2aff2a(0x340)](_0x22f1dd,_0x3d4c8d),await _0x22f1dd[_0x2aff2a(0x541)](),_0x22f1dd;}catch(_0xe0ac52){this[_0x2aff2a(0x4fe)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0xe0ac52);}}[a0_0x444692(0x16f)](_0x261e0d,_0x3e243d){const _0x22b71d=a0_0x444692;let {replyOption:_0x4ee710}=_0x3e243d;if(!_0x4ee710[_0x22b71d(0x65d)]){this['throwAndLogError'](_0x22b71d(0x51d));return;}if(!_0x261e0d[_0x22b71d(0x5b2)][_0x22b71d(0x235)](_0xac66c6=>_0xac66c6[_0x22b71d(0x65d)][_0x22b71d(0x414)]()===_0x3e243d[_0x22b71d(0x3bd)][_0x22b71d(0x65d)]['toString']())){this[_0x22b71d(0x4fe)](_0x22b71d(0x4dd)+_0x4ee710[_0x22b71d(0x65d)]+_0x22b71d(0x482));return;}_0x261e0d[_0x22b71d(0x5b2)]=_0x261e0d[_0x22b71d(0x5b2)][_0x22b71d(0x14a)](_0x2f50db=>_0x2f50db['_id']['toString']()!==_0x3e243d['replyOption'][_0x22b71d(0x65d)][_0x22b71d(0x414)]());}async[a0_0x444692(0x36b)](_0x20a41d,_0x51076e){const _0x3dff9d=a0_0x444692;let _0x518e2b=_0x20a41d['replyOptions'][_0x3dff9d(0x1ba)](_0x4f1936=>_0x4f1936['_id']['toString']()===_0x51076e[_0x3dff9d(0x3bd)][_0x3dff9d(0x65d)][_0x3dff9d(0x414)]());if(_0x518e2b===-0x1){this['throwAndLogError'](_0x3dff9d(0x4dd)+_0x51076e[_0x3dff9d(0x3bd)][_0x3dff9d(0x65d)]+_0x3dff9d(0x305));return;}for(let _0x11f189 in _0x51076e[_0x3dff9d(0x3bd)])_0x51076e[_0x3dff9d(0x3bd)][_0x3dff9d(0x1cb)](_0x11f189)&&(_0x20a41d[_0x3dff9d(0x5b2)][_0x518e2b][_0x11f189]=_0x51076e[_0x3dff9d(0x3bd)][_0x11f189]);}[a0_0x444692(0x340)](_0x47e29a,_0x20fba2){const _0xbf9a04=a0_0x444692;_0x47e29a[_0xbf9a04(0x5b2)][_0xbf9a04(0x370)](_0x20fba2[_0xbf9a04(0x3bd)]);}async[a0_0x444692(0x1ac)](_0x5326c7){const _0x40f1c6=a0_0x444692;this['logger'][_0x40f1c6(0x44a)](this[_0x40f1c6(0x2dc)]+'\x20('+this[_0x40f1c6(0x4be)][_0x40f1c6(0x509)]+_0x40f1c6(0x64b)+_0x5326c7);try{this[_0x40f1c6(0x134)]['verbose'](this['instanceName']+'\x20('+this[_0x40f1c6(0x4be)][_0x40f1c6(0x509)]+_0x40f1c6(0x2a6));let _0x27274c={'owner':this['instance'][_0x40f1c6(0x509)],'name':_0x5326c7[_0x40f1c6(0x33d)]},_0x2e7e1c=await D['findOne'](_0x27274c);if(!_0x2e7e1c)throw new Error('Flow\x20não\x20encontrado');if(_0x5326c7[_0x40f1c6(0x3f2)]&&_0x5326c7[_0x40f1c6(0x3f2)]?.[_0x40f1c6(0xe7)]===!0x0){if(this[_0x40f1c6(0x134)][_0x40f1c6(0x44a)](this[_0x40f1c6(0x2dc)]+'\x20('+this[_0x40f1c6(0x4be)]['wuid']+_0x40f1c6(0x46b)),_0x5326c7[_0x40f1c6(0x3f2)][_0x40f1c6(0x331)]===!0x0)return{'message':_0x40f1c6(0x670)};if(_0x2e7e1c[_0x40f1c6(0x321)][_0x40f1c6(0x317)](_0x5ddc6e=>_0x5ddc6e['groupId'][_0x40f1c6(0x414)]()===_0x5326c7[_0x40f1c6(0x3f2)][_0x40f1c6(0x65d)]))return this[_0x40f1c6(0x134)][_0x40f1c6(0x44a)](this[_0x40f1c6(0x2dc)]+'\x20('+this[_0x40f1c6(0x4be)]['wuid']+_0x40f1c6(0x287)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x2e7e1c['groups']=_0x2e7e1c['groups'][_0x40f1c6(0x14a)](_0x567979=>_0x567979['_id'][_0x40f1c6(0x414)]()!==_0x5326c7[_0x40f1c6(0x3f2)][_0x40f1c6(0x65d)]);}else{if(_0x5326c7['group']){if(_0x5326c7[_0x40f1c6(0x3f2)]['default']===!0x0)return{'message':_0x40f1c6(0x306)};if(_0x5326c7[_0x40f1c6(0x3f2)][_0x40f1c6(0x65d)]){let _0x300d0a=_0x2e7e1c[_0x40f1c6(0x129)]['find'](_0x53fff7=>_0x53fff7[_0x40f1c6(0x65d)][_0x40f1c6(0x414)]()===_0x5326c7[_0x40f1c6(0x3f2)][_0x40f1c6(0x65d)]);_0x300d0a&&(_0x5326c7[_0x40f1c6(0x3f2)]['x']<0x0&&(_0x5326c7[_0x40f1c6(0x3f2)]['x']=0x0),_0x5326c7[_0x40f1c6(0x3f2)]['y']<0x0&&(_0x5326c7[_0x40f1c6(0x3f2)]['y']=0x0),Object['assign'](_0x300d0a,_0x5326c7[_0x40f1c6(0x3f2)]));}else _0x2e7e1c[_0x40f1c6(0x129)][_0x40f1c6(0x370)](_0x5326c7['group']);}}return await _0x2e7e1c['save'](),_0x2e7e1c;}catch(_0x2492bc){throw this[_0x40f1c6(0x134)][_0x40f1c6(0x307)](this[_0x40f1c6(0x2dc)]+'\x20('+this[_0x40f1c6(0x4be)][_0x40f1c6(0x509)]+_0x40f1c6(0xdb)+_0x2492bc),new m(_0x40f1c6(0x552)+_0x2492bc);}}async['editFlowCondition'](_0x11122a){const _0xf0b70b=a0_0x444692;try{this['logger'][_0xf0b70b(0x44a)](this[_0xf0b70b(0x2dc)]+'\x20('+this['instance'][_0xf0b70b(0x509)]+_0xf0b70b(0x256));let _0x4d1cf4={'owner':this[_0xf0b70b(0x4be)]['wuid'],'name':_0x11122a[_0xf0b70b(0x33d)]},_0x1fa582=await D[_0xf0b70b(0x2d7)](_0x4d1cf4);if(!_0x1fa582)throw new Error(_0xf0b70b(0x133));let _0x2793f3=!0x1;if(_0x11122a['condition']?.['delete']===!0x0)_0x1fa582[_0xf0b70b(0x42f)]=_0x1fa582[_0xf0b70b(0x42f)][_0xf0b70b(0x14a)](_0x549685=>_0x549685&&_0x11122a[_0xf0b70b(0x191)]&&_0x549685['_id']&&_0x11122a['condition'][_0xf0b70b(0x65d)]&&_0x549685['_id'][_0xf0b70b(0x414)]()!==_0x11122a[_0xf0b70b(0x191)][_0xf0b70b(0x65d)][_0xf0b70b(0x414)]()),_0x2793f3=!0x0;else{let _0x47b2e2=_0x1fa582[_0xf0b70b(0x42f)][_0xf0b70b(0x235)](_0xc3a72a=>_0xc3a72a&&_0x11122a[_0xf0b70b(0x191)]&&_0xc3a72a[_0xf0b70b(0x65d)]&&_0x11122a[_0xf0b70b(0x191)][_0xf0b70b(0x65d)]&&_0xc3a72a[_0xf0b70b(0x65d)][_0xf0b70b(0x414)]()===_0x11122a[_0xf0b70b(0x191)][_0xf0b70b(0x65d)][_0xf0b70b(0x414)]());_0x47b2e2?(_0x2793f3=_0x47b2e2[_0xf0b70b(0x1f2)]!==_0x11122a[_0xf0b70b(0x191)][_0xf0b70b(0x1f2)],Object[_0xf0b70b(0x136)](_0x47b2e2,_0x11122a['condition'])):(_0x1fa582[_0xf0b70b(0x42f)][_0xf0b70b(0x370)](_0x11122a[_0xf0b70b(0x191)]),_0x2793f3=!0x0);}if(_0x2793f3){_0x1fa582['conditions'][_0xf0b70b(0x298)]((_0x198621,_0x2be7f5)=>_0x198621[_0xf0b70b(0x1f2)]>_0x2be7f5[_0xf0b70b(0x1f2)]?0x1:_0x2be7f5[_0xf0b70b(0x1f2)]>_0x198621[_0xf0b70b(0x1f2)]?-0x1:0x0);for(let _0x54e307=0x0;_0x54e307<_0x1fa582['conditions']['length'];_0x54e307++)_0x1fa582[_0xf0b70b(0x42f)][_0x54e307]['order']=_0x54e307+0x1;_0x1fa582[_0xf0b70b(0x42f)][_0xf0b70b(0x1f4)]>0x0&&(_0x1fa582[_0xf0b70b(0x42f)][0x0][_0xf0b70b(0x452)]=_0xf0b70b(0x507));}return await _0x1fa582['save'](),_0x1fa582;}catch(_0x11e79b){throw this['logger'][_0xf0b70b(0x307)](this[_0xf0b70b(0x2dc)]+'\x20('+this['instance']['wuid']+_0xf0b70b(0x451)+_0x11e79b),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x11e79b);}}async[a0_0x444692(0x61b)](_0x161aaf){const _0x1744ce=a0_0x444692;try{this['logger'][_0x1744ce(0x44a)](this[_0x1744ce(0x2dc)]+'\x20('+this[_0x1744ce(0x4be)][_0x1744ce(0x509)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0xeb37a7={'owner':this[_0x1744ce(0x4be)][_0x1744ce(0x509)],'name':_0x161aaf[_0x1744ce(0x33d)]},_0x69ed18=await D['findOne'](_0xeb37a7);if(!_0x69ed18)throw new Error(_0x1744ce(0x133));let _0x35293a=!0x1;if(_0x161aaf['varedit']?.[_0x1744ce(0xe7)]===!0x0)_0x69ed18['varedits']=_0x69ed18['varedits'][_0x1744ce(0x14a)](_0x3334b0=>_0x3334b0&&_0x161aaf[_0x1744ce(0x22b)]&&_0x3334b0[_0x1744ce(0x65d)]&&_0x161aaf[_0x1744ce(0x22b)]['_id']&&_0x3334b0[_0x1744ce(0x65d)][_0x1744ce(0x414)]()!==_0x161aaf[_0x1744ce(0x22b)][_0x1744ce(0x65d)]['toString']()),_0x35293a=!0x0;else{let _0x4d1f65=_0x69ed18['varedits'][_0x1744ce(0x235)](_0x57b487=>_0x57b487&&_0x161aaf[_0x1744ce(0x22b)]&&_0x57b487['_id']&&_0x161aaf[_0x1744ce(0x22b)][_0x1744ce(0x65d)]&&_0x57b487[_0x1744ce(0x65d)]['toString']()===_0x161aaf[_0x1744ce(0x22b)][_0x1744ce(0x65d)][_0x1744ce(0x414)]());_0x4d1f65?(_0x35293a=_0x4d1f65['order']!==_0x161aaf[_0x1744ce(0x22b)][_0x1744ce(0x1f2)],Object[_0x1744ce(0x136)](_0x4d1f65,_0x161aaf[_0x1744ce(0x22b)])):(_0x69ed18[_0x1744ce(0x4f1)][_0x1744ce(0x370)](_0x161aaf['varedit']),_0x35293a=!0x0);}if(_0x35293a){_0x69ed18[_0x1744ce(0x4f1)][_0x1744ce(0x298)]((_0x2cb3ae,_0x46ed9c)=>_0x2cb3ae[_0x1744ce(0x1f2)]>_0x46ed9c[_0x1744ce(0x1f2)]?0x1:_0x46ed9c[_0x1744ce(0x1f2)]>_0x2cb3ae[_0x1744ce(0x1f2)]?-0x1:0x0);for(let _0x1ca528=0x0;_0x1ca528<_0x69ed18[_0x1744ce(0x4f1)][_0x1744ce(0x1f4)];_0x1ca528++)_0x69ed18[_0x1744ce(0x4f1)][_0x1ca528][_0x1744ce(0x1f2)]=_0x1ca528+0x1;}return await _0x69ed18['save'](),_0x69ed18;}catch(_0x5cc35a){throw this[_0x1744ce(0x134)][_0x1744ce(0x307)](this[_0x1744ce(0x2dc)]+'\x20('+this[_0x1744ce(0x4be)][_0x1744ce(0x509)]+_0x1744ce(0x451)+_0x5cc35a),new m(_0x1744ce(0x4d8)+_0x5cc35a);}}async['editFlowVariable'](_0x518ee8){const _0x200ee4=a0_0x444692;try{this[_0x200ee4(0x134)]['verbose'](this[_0x200ee4(0x2dc)]+'\x20('+this['instance']['wuid']+_0x200ee4(0x464));let _0x4d5d04={'owner':this[_0x200ee4(0x4be)][_0x200ee4(0x509)],'name':_0x518ee8[_0x200ee4(0x33d)]},_0x3e6400=await D[_0x200ee4(0x2d7)](_0x4d5d04);if(!_0x3e6400)throw new Error(_0x200ee4(0x133));_0x518ee8['variable']['name']=_0x518ee8[_0x200ee4(0x61a)][_0x200ee4(0x33d)][_0x200ee4(0x5a7)](),_0x518ee8[_0x200ee4(0x61a)][_0x200ee4(0x33d)]['startsWith']('_')&&(_0x518ee8[_0x200ee4(0x61a)][_0x200ee4(0x33d)]=_0x518ee8['variable'][_0x200ee4(0x33d)][_0x200ee4(0x1e3)](0x1)),_0x518ee8[_0x200ee4(0x61a)][_0x200ee4(0x33d)]=_0x518ee8['variable']['name'][_0x200ee4(0x5a7)]();let _0x7afb47=_0x3e6400[_0x200ee4(0x309)]['find'](_0x5e5194=>_0x5e5194[_0x200ee4(0x33d)]===_0x518ee8['variable']['name']);if(_0x7afb47?.[_0x200ee4(0x20e)]===!0x0)throw new Error(_0x200ee4(0x3f5));if(_0x518ee8[_0x200ee4(0x61a)]?.[_0x200ee4(0xe7)]===!0x0){if(!_0x7afb47)return{'message':_0x200ee4(0x10a)};_0x3e6400['variables']=_0x3e6400[_0x200ee4(0x309)][_0x200ee4(0x14a)](_0x1c90a3=>_0x1c90a3[_0x200ee4(0x33d)]!==_0x518ee8[_0x200ee4(0x61a)]['name']);}else _0x7afb47?Object['assign'](_0x7afb47,_0x518ee8[_0x200ee4(0x61a)]):_0x3e6400[_0x200ee4(0x309)][_0x200ee4(0x370)](_0x518ee8[_0x200ee4(0x61a)]);return await _0x3e6400[_0x200ee4(0x541)](),_0x3e6400;}catch(_0x5135b4){throw this[_0x200ee4(0x134)][_0x200ee4(0x307)](this[_0x200ee4(0x2dc)]+'\x20('+this[_0x200ee4(0x4be)][_0x200ee4(0x509)]+_0x200ee4(0x4ea)+_0x5135b4),new m(_0x200ee4(0x29d)+_0x5135b4);}}async[a0_0x444692(0x3d4)](_0x5bb318){const _0x25d366=a0_0x444692;try{if(!this['AutomateSystem']['flowConfig'][_0x25d366(0x13e)])throw new m(_0x25d366(0x506));this[_0x25d366(0x134)][_0x25d366(0x44a)](this[_0x25d366(0x2dc)]+'\x20('+this[_0x25d366(0x4be)]['wuid']+_0x25d366(0x2bf));let _0x19e486=(await this[_0x25d366(0x51b)]({'numbers':[_0x5bb318['remoteJid']]}))[0x0];if(!_0x19e486[_0x25d366(0x461)]&&!(0x0,w[_0x25d366(0x2c2)])(_0x19e486[_0x25d366(0x408)])&&!_0x19e486[_0x25d366(0x408)][_0x25d366(0x48d)]('@broadcast'))throw new m(_0x19e486);let _0xe8b023=await D[_0x25d366(0x2d7)]({'owner':this[_0x25d366(0x4be)][_0x25d366(0x509)],'name':_0x5bb318[_0x25d366(0x33d)]});if(!_0xe8b023)return this[_0x25d366(0x134)][_0x25d366(0x307)](this['instanceName']+'\x20('+this[_0x25d366(0x4be)]['wuid']+_0x25d366(0x62f)),{'message':'Flow\x20não\x20encontrado'};let _0x555fdf=await this[_0x25d366(0x64f)](_0xe8b023,_0x19e486[_0x25d366(0x408)],_0x5bb318['changeVariables']);if(_0x555fdf){this['logger'][_0x25d366(0x44a)](this['instanceName']+'\x20('+this[_0x25d366(0x4be)][_0x25d366(0x509)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x5924be=await this[_0x25d366(0x51e)](_0x555fdf);return _0x5924be&&await this[_0x25d366(0x322)](_0x555fdf,_0x5924be,_0x555fdf[_0x25d366(0x278)]),{'message':_0x25d366(0x18d)+_0x5bb318[_0x25d366(0x278)]};}}catch(_0x5314af){if(this[_0x25d366(0x134)][_0x25d366(0x307)](this[_0x25d366(0x2dc)]+'\x20('+this['instance'][_0x25d366(0x509)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo\x20'+_0x5314af),_0x5314af&&_0x5314af[_0x25d366(0x2d3)]&&Array[_0x25d366(0x3d1)](_0x5314af[_0x25d366(0x2d3)])&&_0x5314af[_0x25d366(0x2d3)][0x0]){let {jid:_0x505526,exists:_0xdb0ffa}=_0x5314af[_0x25d366(0x2d3)][0x0];}throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x5314af[_0x25d366(0x2d3)]);}}async[a0_0x444692(0x64f)](_0x39cfd3,_0x496b83,_0x49cf0c){const _0x4886f8=a0_0x444692;this[_0x4886f8(0x134)][_0x4886f8(0x44a)](this[_0x4886f8(0x2dc)]+'\x20('+this[_0x4886f8(0x4be)][_0x4886f8(0x509)]+_0x4886f8(0x240));try{let _0x4cf15e=require(_0x4886f8(0xf9))[_0x4886f8(0x56d)],_0x178b45=Date[_0x4886f8(0x1d5)](),_0x65b591=_0x4886f8(0x127),_0x5af5df={},_0x313ffc={},_0x2cb97e={..._0x39cfd3['_doc'],'chatLog':null},_0x19e194=await this[_0x4886f8(0x192)](_0x2cb97e[_0x4886f8(0x309)]),_0x596c5e=await this['getVariablesChat'](_0x496b83),_0x18d5a3={..._0x19e194,..._0x596c5e},_0x4a615d={'lastReceivedMessage':_0x5af5df,'lastSendMessage':_0x313ffc,'lastBlockId':_0x65b591,'lastCondition':!0x0,'realVariables':_0x18d5a3};_0x2cb97e[_0x4886f8(0x5a3)]=_0x4a615d,_0x2cb97e['chatLog'][_0x4886f8(0x417)]={..._0x18d5a3,..._0x49cf0c},delete _0x2cb97e[_0x4886f8(0x65d)],_0x2cb97e[_0x4886f8(0x65d)]=new _0x4cf15e(),_0x2cb97e['lastInteraction']=_0x178b45,_0x2cb97e[_0x4886f8(0x475)]=_0x4886f8(0x360),_0x2cb97e[_0x4886f8(0x278)]=_0x496b83;let _0x531d7a=await G[_0x4886f8(0x2c0)](_0x2cb97e);return this[_0x4886f8(0x134)][_0x4886f8(0x44a)](this[_0x4886f8(0x2dc)]+'\x20('+this[_0x4886f8(0x4be)][_0x4886f8(0x509)]+_0x4886f8(0x197)),_0x531d7a?_0x2cb97e:null;}catch(_0x5ced35){throw this[_0x4886f8(0x134)][_0x4886f8(0x307)](this['instanceName']+'\x20('+this[_0x4886f8(0x4be)][_0x4886f8(0x509)]+_0x4886f8(0x36a)+_0x5ced35),new m(_0x5ced35[_0x4886f8(0x2d3)]);}}async['getConversation'](_0x3d306e){const _0x5e509d=a0_0x444692;try{return this[_0x5e509d(0x134)][_0x5e509d(0x44a)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20conversa...'),this[_0x5e509d(0x134)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5e509d(0x509)]+_0x5e509d(0x124)+{'owner':this[_0x5e509d(0x4be)][_0x5e509d(0x509)],'_id':_0x3d306e}),await G[_0x5e509d(0x2d7)]({'owner':this[_0x5e509d(0x4be)][_0x5e509d(0x509)],'_id':_0x3d306e});}catch(_0x57477e){throw this[_0x5e509d(0x134)][_0x5e509d(0x307)](this[_0x5e509d(0x2dc)]+'\x20('+this[_0x5e509d(0x4be)][_0x5e509d(0x509)]+_0x5e509d(0x268)+_0x57477e),new m(_0x5e509d(0x3a1)+_0x57477e[_0x5e509d(0x2d3)]);}}async[a0_0x444692(0x2bc)](_0x48de15,_0x9f19cb=0x64){const _0x2f8239=a0_0x444692;try{this[_0x2f8239(0x134)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2f8239(0x5b0));let _0x1711ee={..._0x48de15,'owner':this[_0x2f8239(0x4be)][_0x2f8239(0x509)]};return this[_0x2f8239(0x134)][_0x2f8239(0x44a)](this[_0x2f8239(0x2dc)]+'\x20('+this['instance'][_0x2f8239(0x509)]+'):\x20Modified\x20Query:'+_0x1711ee),await G[_0x2f8239(0x235)](_0x1711ee)[_0x2f8239(0x3d8)](_0x9f19cb)[_0x2f8239(0x298)]({'lastInteraction':-0x1});}catch(_0x17f786){throw this[_0x2f8239(0x134)][_0x2f8239(0x307)](this[_0x2f8239(0x2dc)]+'\x20('+this[_0x2f8239(0x4be)][_0x2f8239(0x509)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+_0x17f786),new m(_0x2f8239(0x49c)+_0x17f786[_0x2f8239(0x2d3)]);}}async[a0_0x444692(0x5e2)](_0xe83c35){const _0xce69fc=a0_0x444692;try{return this[_0xce69fc(0x134)][_0xce69fc(0x44a)](this['instanceName']+'\x20('+this[_0xce69fc(0x4be)]['wuid']+_0xce69fc(0x260)),this[_0xce69fc(0x134)][_0xce69fc(0x44a)](this[_0xce69fc(0x2dc)]+'\x20('+this[_0xce69fc(0x4be)][_0xce69fc(0x509)]+'):\x20Query\x20params:'+{'owner':this[_0xce69fc(0x4be)][_0xce69fc(0x509)],'_id':_0xe83c35}),(await G[_0xce69fc(0x207)]({'owner':this[_0xce69fc(0x4be)][_0xce69fc(0x509)],'_id':_0xe83c35}))[_0xce69fc(0x31f)]===0x0?{'message':_0xce69fc(0x5f7)}:{'message':_0xce69fc(0x5ce)};}catch(_0x13657e){throw this[_0xce69fc(0x134)][_0xce69fc(0x307)](this['instanceName']+'\x20('+this[_0xce69fc(0x4be)][_0xce69fc(0x509)]+_0xce69fc(0x160)+_0x13657e),new m(_0xce69fc(0x3a4)+_0x13657e[_0xce69fc(0x2d3)]);}}async[a0_0x444692(0x442)](_0x3fbb7d){const _0x33968e=a0_0x444692;try{let {_id:_0x58f465,chatLog:_0x108652,status:_0x40f1d7}=_0x3fbb7d;if(!_0x58f465)return{'message':_0x33968e(0x469)};let _0x249ca1={};if(_0x40f1d7!==void 0x0&&(_0x249ca1[_0x33968e(0x475)]=_0x40f1d7),Object['keys'](_0x249ca1)['length']===0x0)return{'message':_0x33968e(0x616)};let _0x1767f3=this[_0x33968e(0x4be)][_0x33968e(0x509)],_0x3adf2e=await G[_0x33968e(0x2d4)]({'_id':_0x58f465,'owner':_0x1767f3},{'$set':_0x249ca1},{'new':!0x0});return _0x3adf2e||{'message':_0x33968e(0x38c)};}catch(_0xbe1b4b){throw this[_0x33968e(0x134)]['error'](this['instanceName']+'\x20('+this['instance'][_0x33968e(0x509)]+_0x33968e(0x567)+_0xbe1b4b),new m('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0xbe1b4b[_0x33968e(0x2d3)]);}}async['editChat'](_0x2e1831){const _0x2a12fb=a0_0x444692;try{_0x2e1831['id']=this['createJid'](_0x2e1831['id']);let {id:_0x251179,leadInfo:_0x4b5a64}=_0x2e1831;if(!_0x251179)throw new Error(_0x2a12fb(0x1fb));let _0x29ea85=(_0x3d1f70,_0x28683c,_0x119f6f)=>{const _0x337d0c=_0x2a12fb;_0x119f6f[_0x337d0c(0x58d)](_0x1e94d2=>{const _0x1b1b34=_0x337d0c;_0x3d1f70[_0x1e94d2]!==void 0x0&&(_0x28683c[_0x1b1b34(0x2a2)+_0x1e94d2]=_0x3d1f70[_0x1e94d2]);});},_0x23542d={};if(_0x29ea85(_0x4b5a64,_0x23542d,[_0x2a12fb(0x157),'nomecompleto',_0x2a12fb(0x2ae),'cpf',_0x2a12fb(0x475),_0x2a12fb(0x37c),_0x2a12fb(0x47c),'atendimentoAberto','responsavelid']),Array['isArray'](_0x4b5a64[_0x2a12fb(0x58b)])&&(_0x23542d[_0x2a12fb(0x3db)]=_0x4b5a64[_0x2a12fb(0x58b)][_0x2a12fb(0x328)](_0x570b9d=>({'_id':_0x570b9d[_0x2a12fb(0x65d)],'value':_0x570b9d[_0x2a12fb(0x53e)]}))),_0x2e1831[_0x2a12fb(0x20e)][_0x2a12fb(0x346)]!==void 0x0&&(_0x23542d['leadInfo.desativadoFluxoAte']=Number(_0x2e1831['leadInfo']['desativadoFluxoAte'])),_0x2e1831[_0x2a12fb(0x458)]!==void 0x0&&(_0x23542d['unreadcount']=Number(_0x2e1831[_0x2a12fb(0x458)])),Object['keys'](_0x23542d)[_0x2a12fb(0x1f4)]===0x0)throw new Error(_0x2a12fb(0x616));let _0x1dc413=this[_0x2a12fb(0x4be)][_0x2a12fb(0x509)];if(!_0x1dc413)throw new Error(_0x2a12fb(0x5ef));if(!await I[_0x2a12fb(0x2d7)]({'id':_0x2e1831['id'],'owner':_0x1dc413})){let _0xecc65e=(await this[_0x2a12fb(0x51b)]({'numbers':[_0x2e1831['id']]}))[0x0];if(!_0xecc65e['exists']&&!(0x0,w['isJidGroup'])(_0xecc65e[_0x2a12fb(0x408)])&&!_0xecc65e[_0x2a12fb(0x408)][_0x2a12fb(0x48d)](_0x2a12fb(0x57f)))throw new m(_0xecc65e);_0x2e1831['id']=_0xecc65e[_0x2a12fb(0x408)];}let _0x507cf9=await I[_0x2a12fb(0x2d4)]({'id':_0x2e1831['id'],'owner':_0x1dc413},{'$set':_0x23542d},{'new':!0x0,'upsert':!0x0});return _0x507cf9&&H(this['instanceName'],_0x2a12fb(0x368),{'chat':_0x507cf9}),_0x507cf9?(this[_0x2a12fb(0x134)]['verbose'](this['instanceName']+'\x20('+this[_0x2a12fb(0x4be)][_0x2a12fb(0x509)]+_0x2a12fb(0x3c5)+_0x507cf9),_0x507cf9):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x2ae008){throw this[_0x2a12fb(0x134)][_0x2a12fb(0x307)](this[_0x2a12fb(0x2dc)]+'\x20('+this[_0x2a12fb(0x4be)][_0x2a12fb(0x509)]+'):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x2ae008),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x2ae008[_0x2a12fb(0x2d3)]);}}async[a0_0x444692(0x553)](_0x4138f6){const _0x1bdd31=a0_0x444692;let _0x41f813=this[_0x1bdd31(0x4be)][_0x1bdd31(0x509)];try{let _0x5a0c63=await ae[_0x1bdd31(0x2b2)](_0x41f813);_0x5a0c63||(_0x5a0c63=new ae({'_id':_0x41f813}),await _0x5a0c63[_0x1bdd31(0x541)]());let _0x5ee0ce=_0x4138f6['_id']?_0x5a0c63[_0x1bdd31(0x2de)][_0x1bdd31(0x1ba)](_0x7f21ef=>_0x7f21ef[_0x1bdd31(0x65d)]===_0x4138f6[_0x1bdd31(0x65d)]):-0x1;if(_0x4138f6[_0x1bdd31(0xe7)]&&_0x5ee0ce>-0x1)_0x5a0c63['agents']['splice'](_0x5ee0ce,0x1);else{if(_0x5ee0ce>-0x1){let _0x4753b0=_0x5a0c63['agents'][_0x5ee0ce];_0x4138f6[_0x1bdd31(0x375)]&&(_0x4753b0[_0x1bdd31(0x375)]=_0x4138f6[_0x1bdd31(0x375)]),_0x4138f6['name']&&(_0x4753b0['name']=_0x4138f6[_0x1bdd31(0x33d)]),_0x4138f6[_0x1bdd31(0x2ae)]&&(_0x4753b0[_0x1bdd31(0x2ae)]=_0x4138f6[_0x1bdd31(0x2ae)]),_0x4138f6[_0x1bdd31(0x5d6)]&&(_0x4753b0[_0x1bdd31(0x5d6)]=_0x4138f6[_0x1bdd31(0x5d6)]);}else _0x5a0c63['agents']['push']({'_id':_0x4138f6[_0x1bdd31(0x65d)]||new ye[(_0x1bdd31(0x331))][(_0x1bdd31(0x314))][(_0x1bdd31(0x56d))]()[_0x1bdd31(0x414)](),'fone':_0x4138f6[_0x1bdd31(0x375)],'name':_0x4138f6[_0x1bdd31(0x33d)],'email':_0x4138f6[_0x1bdd31(0x2ae)],'role':_0x4138f6['role']});}let _0x18d330=await _0x5a0c63['save']();return this[_0x1bdd31(0x5a2)]=_0x18d330,this[_0x1bdd31(0x134)]['verbose'](this[_0x1bdd31(0x2dc)]+'\x20('+this[_0x1bdd31(0x4be)]['wuid']+'):\x20alterando\x20this.AutomateSystem'),this[_0x1bdd31(0x134)][_0x1bdd31(0x44a)](this[_0x1bdd31(0x2dc)]+'\x20('+this[_0x1bdd31(0x4be)][_0x1bdd31(0x509)]+'):\x20'+this[_0x1bdd31(0x5a2)]),_0x18d330;}catch(_0xf58442){throw this[_0x1bdd31(0x134)]['error'](this[_0x1bdd31(0x2dc)]+'\x20('+this['instance'][_0x1bdd31(0x509)]+_0x1bdd31(0x410)+_0xf58442),new m(_0x1bdd31(0x32b)+_0xf58442[_0x1bdd31(0x2d3)]);}}async[a0_0x444692(0x2a7)](_0x465f49){const _0xc4b7b8=a0_0x444692;let _0x1153eb=this[_0xc4b7b8(0x4be)]['wuid'];try{let _0x409cfe=await ae[_0xc4b7b8(0x2b2)](_0x1153eb);_0x409cfe||(_0x409cfe=new ae({'_id':_0x1153eb}),await _0x409cfe[_0xc4b7b8(0x541)]());let _0x354c93=_0x465f49[_0xc4b7b8(0x65d)]?_0x409cfe['customFields'][_0xc4b7b8(0x1ba)](_0x5a91dd=>_0x5a91dd[_0xc4b7b8(0x65d)]===_0x465f49['_id']):-0x1,_0x34a3ed=!0x1,_0x116485=_0x409cfe[_0xc4b7b8(0x58b)][_0xc4b7b8(0x317)](_0x201a59=>_0x201a59['order']===_0x465f49[_0xc4b7b8(0x1f2)]);if(_0x465f49[_0xc4b7b8(0xe7)]&&_0x354c93>-0x1)_0x409cfe[_0xc4b7b8(0x58b)][_0xc4b7b8(0x587)](_0x354c93,0x1),_0x34a3ed=!0x0;else{if(_0x354c93>-0x1){if(_0x409cfe[_0xc4b7b8(0x58b)][_0xc4b7b8(0x317)](_0x2e67c3=>_0x2e67c3[_0xc4b7b8(0x33d)]===_0x465f49[_0xc4b7b8(0x33d)]&&_0x2e67c3['_id']!==_0x465f49[_0xc4b7b8(0x65d)]))throw new Error(_0xc4b7b8(0x3d0));let _0x4d1bcf=_0x409cfe['customFields'][_0x354c93];_0x465f49['order']&&(_0x116485||!Number['isInteger'](_0x465f49[_0xc4b7b8(0x1f2)]))&&(_0x4d1bcf[_0xc4b7b8(0x1f2)]=_0x465f49['order'],_0x34a3ed=!0x0),_0x465f49[_0xc4b7b8(0x33d)]&&(_0x4d1bcf[_0xc4b7b8(0x33d)]=_0x465f49['name']);}else{if(_0x409cfe['customFields'][_0xc4b7b8(0x317)](_0x3ba809=>_0x3ba809[_0xc4b7b8(0x33d)]===_0x465f49[_0xc4b7b8(0x33d)]&&_0x3ba809[_0xc4b7b8(0x65d)]!==_0x465f49[_0xc4b7b8(0x65d)]))throw new Error(_0xc4b7b8(0x3d0));_0x409cfe[_0xc4b7b8(0x58b)][_0xc4b7b8(0x370)]({'_id':_0x465f49[_0xc4b7b8(0x65d)]||new ye['default'][(_0xc4b7b8(0x314))][(_0xc4b7b8(0x56d))]()[_0xc4b7b8(0x414)](),'order':_0x465f49['order'],'name':_0x465f49[_0xc4b7b8(0x33d)]}),_0x34a3ed=!0x0;}}if(_0x34a3ed){_0x409cfe['customFields'][_0xc4b7b8(0x298)]((_0x39af0f,_0x278eb4)=>_0x39af0f[_0xc4b7b8(0x1f2)]>_0x278eb4[_0xc4b7b8(0x1f2)]?0x1:_0x278eb4[_0xc4b7b8(0x1f2)]>_0x39af0f[_0xc4b7b8(0x1f2)]?-0x1:0x0);for(let _0x16a56c=0x0;_0x16a56c<_0x409cfe[_0xc4b7b8(0x58b)]['length'];_0x16a56c++)_0x409cfe[_0xc4b7b8(0x58b)][_0x16a56c]['order']=_0x16a56c+0x1;}let _0x5b724d=await _0x409cfe[_0xc4b7b8(0x541)]();return this['AutomateSystem']=_0x5b724d,this[_0xc4b7b8(0x134)][_0xc4b7b8(0x44a)](this[_0xc4b7b8(0x2dc)]+'\x20('+this[_0xc4b7b8(0x4be)][_0xc4b7b8(0x509)]+_0xc4b7b8(0x447)),this[_0xc4b7b8(0x134)][_0xc4b7b8(0x44a)](this[_0xc4b7b8(0x2dc)]+'\x20('+this[_0xc4b7b8(0x4be)][_0xc4b7b8(0x509)]+'):\x20'+this[_0xc4b7b8(0x5a2)]),_0x5b724d;}catch(_0xd8cc89){throw this[_0xc4b7b8(0x134)]['error'](this[_0xc4b7b8(0x2dc)]+'\x20('+this['instance'][_0xc4b7b8(0x509)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0xd8cc89),new m(_0xc4b7b8(0x33c)+_0xd8cc89[_0xc4b7b8(0x2d3)]);}}async['updateFlowConfig'](_0x52ec08){const _0x14624a=a0_0x444692;let _0x1ae338=this[_0x14624a(0x4be)][_0x14624a(0x509)];try{let _0xdbeefa=await ae[_0x14624a(0x2b2)](_0x1ae338);_0xdbeefa||(_0xdbeefa=new ae({'_id':_0x1ae338}),await _0xdbeefa[_0x14624a(0x541)]()),_0xdbeefa[_0x14624a(0x580)]['enabled']=_0x52ec08?.[_0x14624a(0x13e)]!==void 0x0?_0x52ec08?.['enabled']:_0xdbeefa[_0x14624a(0x580)]['enabled'],_0xdbeefa[_0x14624a(0x580)][_0x14624a(0x28b)]=_0x52ec08?.[_0x14624a(0x28b)]!==void 0x0?_0x52ec08?.[_0x14624a(0x28b)]:_0xdbeefa[_0x14624a(0x580)][_0x14624a(0x28b)],_0xdbeefa[_0x14624a(0x580)][_0x14624a(0x2a9)]=_0x52ec08?.[_0x14624a(0x2a9)]??_0xdbeefa[_0x14624a(0x580)][_0x14624a(0x2a9)],_0xdbeefa[_0x14624a(0x580)][_0x14624a(0x658)]=_0x52ec08?.[_0x14624a(0x658)]??_0xdbeefa[_0x14624a(0x580)][_0x14624a(0x658)],_0xdbeefa[_0x14624a(0x580)]['stopMinutes']=_0x52ec08?.[_0x14624a(0x32e)]??_0xdbeefa[_0x14624a(0x580)]['stopMinutes'];let _0x2c973b=await _0xdbeefa[_0x14624a(0x541)]();return this[_0x14624a(0x5a2)]=_0x2c973b,this[_0x14624a(0x134)][_0x14624a(0x44a)](this[_0x14624a(0x2dc)]+'\x20('+this['instance'][_0x14624a(0x509)]+'):\x20alterando\x20this.AutomateSystem'),this['logger'][_0x14624a(0x44a)](this[_0x14624a(0x2dc)]+'\x20('+this[_0x14624a(0x4be)][_0x14624a(0x509)]+'):\x20'+this['AutomateSystem']),_0x2c973b;}catch(_0x2939f9){throw this['logger'][_0x14624a(0x307)](this['instanceName']+'\x20('+this[_0x14624a(0x4be)][_0x14624a(0x509)]+_0x14624a(0x410)+_0x2939f9),new m(_0x14624a(0x32b)+_0x2939f9['message']);}}async[a0_0x444692(0x67d)](){const _0x134bc7=a0_0x444692;let _0xd7370c=this[_0x134bc7(0x4be)][_0x134bc7(0x509)];try{let _0x2c5d26=await ae['findById'](_0xd7370c);return _0x2c5d26||(_0x2c5d26=new ae({'_id':_0xd7370c})),_0x2c5d26[_0x134bc7(0x580)]=_0x2c5d26[_0x134bc7(0x580)]||{},_0x2c5d26[_0x134bc7(0x580)][_0x134bc7(0x13e)]===void 0x0&&(_0x2c5d26[_0x134bc7(0x580)][_0x134bc7(0x13e)]=!0x1),_0x2c5d26[_0x134bc7(0x580)][_0x134bc7(0x28b)]===void 0x0&&(_0x2c5d26[_0x134bc7(0x580)][_0x134bc7(0x28b)]=!0x0),_0x2c5d26['flowConfig'][_0x134bc7(0x2a9)]===void 0x0&&(_0x2c5d26[_0x134bc7(0x580)][_0x134bc7(0x2a9)]='!'),_0x2c5d26[_0x134bc7(0x580)][_0x134bc7(0x658)]===void 0x0&&(_0x2c5d26[_0x134bc7(0x580)][_0x134bc7(0x658)]='!stop'),_0x2c5d26['flowConfig'][_0x134bc7(0x32e)]===void 0x0&&(_0x2c5d26[_0x134bc7(0x580)][_0x134bc7(0x32e)]=0x14),await _0x2c5d26[_0x134bc7(0x541)](),this[_0x134bc7(0x5a2)]=_0x2c5d26,this[_0x134bc7(0x134)]['verbose'](this[_0x134bc7(0x2dc)]+'\x20('+this[_0x134bc7(0x4be)][_0x134bc7(0x509)]+_0x134bc7(0x23b)),this[_0x134bc7(0x134)][_0x134bc7(0x44a)](this['AutomateSystem']),_0x2c5d26;}catch(_0x20e4b1){throw this[_0x134bc7(0x134)][_0x134bc7(0x307)](this[_0x134bc7(0x2dc)]+'\x20('+this[_0x134bc7(0x4be)][_0x134bc7(0x509)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x20e4b1['message']),new m(_0x134bc7(0x3ed)+_0x20e4b1['message']);}}async[a0_0x444692(0x4de)](){const _0x4f3a1a=a0_0x444692;let _0x25a7e4=()=>{const _0x29da89=a0_0x3772;this[_0x29da89(0x134)][_0x29da89(0x44a)](this[_0x29da89(0x2dc)]+'\x20('+this[_0x29da89(0x4be)][_0x29da89(0x509)]+_0x29da89(0x631)+this[_0x29da89(0x4a3)]+_0x29da89(0x652));},_0x14ceff=async()=>{const _0x1f8d09=a0_0x3772;this[_0x1f8d09(0x134)][_0x1f8d09(0x44a)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x295cf6=Date[_0x1f8d09(0x1d5)]()-0xc*0x3c*0x3c*0x3e8;return await k[_0x1f8d09(0x235)]({'owner':this[_0x1f8d09(0x4be)][_0x1f8d09(0x509)],'status':{'$in':[_0x1f8d09(0x2df),_0x1f8d09(0x18c)]},'$or':[{'when':{'$lte':Date[_0x1f8d09(0x1d5)](),'$gte':_0x295cf6}},{'when':0x0}]});},_0x299a6a=async _0x285f38=>{const _0x45166d=a0_0x3772;for(let _0x4e54f9 of _0x285f38){if(!await k['findOneAndUpdate']({'_id':_0x4e54f9[_0x45166d(0x65d)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},{'$set':{'startSend':Date['now']()}}))return;if(!this[_0x45166d(0x5f0)]){this[_0x45166d(0x134)][_0x45166d(0x44a)](this[_0x45166d(0x2dc)]+'\x20('+this['instance'][_0x45166d(0x509)]+_0x45166d(0x558));break;}(!_0x4e54f9[_0x45166d(0x55e)]||_0x4e54f9[_0x45166d(0x55e)][_0x45166d(0x1f4)]===0x0)&&(_0x4e54f9=await k[_0x45166d(0x60c)](_0x4e54f9[_0x45166d(0x65d)],{'$set':{'status':_0x45166d(0x18c),'remoteJidsRemaining':[..._0x4e54f9[_0x45166d(0x1e1)]]}},{'new':!0x0}));for(let _0x340a9b of _0x4e54f9[_0x45166d(0x55e)]){if(this[_0x45166d(0x654)]=Date['now'](),_0x4e54f9[_0x45166d(0x3e5)]['some'](_0xa2aedd=>_0xa2aedd['remoteJid']===_0x340a9b)){this[_0x45166d(0x134)]['verbose'](this[_0x45166d(0x2dc)]+'\x20('+this[_0x45166d(0x4be)][_0x45166d(0x509)]+_0x45166d(0x293)+_0x340a9b+_0x45166d(0x12e));continue;}try{let _0x1d956c=await this[_0x45166d(0x4d6)](_0x340a9b,_0x4e54f9),_0x481834={'remoteJid':_0x340a9b,'error':_0x1d956c[_0x45166d(0x307)],'id':_0x1d956c['id']||null,'error_log':_0x1d956c[_0x45166d(0x2b4)]||null,'log_timestamp':Date[_0x45166d(0x1d5)]()};if((await k[_0x45166d(0x60c)](_0x4e54f9[_0x45166d(0x65d)],{'$push':{'messagesSend':_0x481834},'$pull':{'remoteJidsRemaining':_0x340a9b}},{'new':!0x0}))[_0x45166d(0x475)]==='stopped'){this[_0x45166d(0x134)]['verbose'](this['instanceName']+'\x20('+this[_0x45166d(0x4be)][_0x45166d(0x509)]+_0x45166d(0x1b7)+_0x4e54f9['_id']+_0x45166d(0x42a));break;}if(!this[_0x45166d(0x5f0)]){this[_0x45166d(0x134)]['verbose'](this['instanceName']+'\x20('+this[_0x45166d(0x4be)][_0x45166d(0x509)]+_0x45166d(0x604));break;}if(!this['processingScheduleMessageId']){this[_0x45166d(0x134)][_0x45166d(0x44a)](this[_0x45166d(0x2dc)]+'\x20('+this[_0x45166d(0x4be)][_0x45166d(0x509)]+_0x45166d(0x1b7)+_0x4e54f9[_0x45166d(0x65d)]+_0x45166d(0x43f));break;}let _0x173f56=this[_0x45166d(0x3ee)](_0x4e54f9[_0x45166d(0x659)],_0x4e54f9[_0x45166d(0x5c2)]);await this[_0x45166d(0x513)](_0x173f56);}catch(_0x5bd9b5){this[_0x45166d(0x134)][_0x45166d(0x307)](this['instanceName']+'\x20('+this[_0x45166d(0x4be)][_0x45166d(0x509)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x340a9b+':\x20'+_0x5bd9b5[_0x45166d(0x2d3)]);let _0x3849d1={'remoteJid':_0x340a9b,'status':_0x45166d(0x307),'timestamp':Date[_0x45166d(0x1d5)](),'error':_0x5bd9b5['message']};await k['findByIdAndUpdate'](_0x4e54f9[_0x45166d(0x65d)],{'$push':{'messagesSend':_0x3849d1},'$pull':{'remoteJidsRemaining':_0x340a9b}},{'new':!0x0});}}let _0x3c64ee=await k[_0x45166d(0x2b2)](_0x4e54f9['_id']);_0x3c64ee[_0x45166d(0x55e)]['length']===0x0&&_0x3c64ee[_0x45166d(0x475)]!==_0x45166d(0x104)&&await k[_0x45166d(0x60c)](_0x4e54f9['_id'],{'$set':{'status':'done'}},{'new':!0x0}),await new Promise(_0x1f6c5f=>setTimeout(_0x1f6c5f,0x1388));}},_0x3d4f59=async()=>{const _0x503a1f=a0_0x3772;let _0x3e847e=await k[_0x503a1f(0x2d7)]({'owner':this[_0x503a1f(0x4be)]['wuid'],'status':'scheduled','when':{'$gt':Date[_0x503a1f(0x1d5)]()}})['sort']({'when':0x1});_0x3e847e&&_0x3e847e[_0x503a1f(0x52d)]-Date[_0x503a1f(0x1d5)]()<=0x5265c00?this[_0x503a1f(0x313)]=_0x3e847e[_0x503a1f(0x52d)]-Date[_0x503a1f(0x1d5)]():this[_0x503a1f(0x313)]=(0x3c+Math['floor'](Math[_0x503a1f(0x67b)]()*0x3c))*0x3c*0x3e8,this[_0x503a1f(0x313)]=Math[_0x503a1f(0x318)](this[_0x503a1f(0x313)],0x7d0);let _0x57c26f=Math['round'](this[_0x503a1f(0x313)]/0xea60);if(_0x3e847e){let _0x4d33aa=new Date(_0x3e847e[_0x503a1f(0x52d)])[_0x503a1f(0x365)]();this[_0x503a1f(0x134)][_0x503a1f(0x44a)](this[_0x503a1f(0x2dc)]+'\x20('+this[_0x503a1f(0x4be)][_0x503a1f(0x509)]+_0x503a1f(0x45b)+_0x4d33aa+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x57c26f+_0x503a1f(0x1bd));}else this[_0x503a1f(0x134)]['verbose'](this[_0x503a1f(0x2dc)]+'\x20('+this[_0x503a1f(0x4be)][_0x503a1f(0x509)]+_0x503a1f(0x63d)+_0x57c26f+_0x503a1f(0x1bd));setTimeout(()=>this[_0x503a1f(0x4de)](),this[_0x503a1f(0x313)]);};if(this[_0x4f3a1a(0x4a3)]&&Date['now']()-this[_0x4f3a1a(0x654)]<0x1d4c0){_0x25a7e4();return;}try{let _0x30fec3=await _0x14ceff();_0x30fec3['length']===0x0?this[_0x4f3a1a(0x134)][_0x4f3a1a(0x44a)](this[_0x4f3a1a(0x2dc)]+'\x20('+this[_0x4f3a1a(0x4be)][_0x4f3a1a(0x509)]+_0x4f3a1a(0x5c0)):(this[_0x4f3a1a(0x4a3)]=_0x30fec3[0x0]['_id'],await _0x299a6a(_0x30fec3)),await _0x3d4f59(),this[_0x4f3a1a(0x4a3)]=null;}catch(_0x3f9af5){this[_0x4f3a1a(0x134)][_0x4f3a1a(0x307)](_0x4f3a1a(0x50c)+_0x3f9af5[_0x4f3a1a(0x2d3)]);}}[a0_0x444692(0x3ee)](_0x2c401e,_0x2e1ece){const _0x8fe20b=a0_0x444692;return _0x2c401e=Math['max'](0.5,_0x2c401e),_0x2e1ece=Math[_0x8fe20b(0x318)](0x3,_0x2e1ece),Math[_0x8fe20b(0x1b6)](Math['random']()*(_0x2e1ece-_0x2c401e+0x1)+_0x2c401e)*0x3e8;}[a0_0x444692(0x513)](_0x3d98af){return new Promise(_0x810c12=>setTimeout(_0x810c12,_0x3d98af));}async[a0_0x444692(0xff)](_0x3467c2){const _0x53d562=a0_0x444692;if(!this['AutomateSystem']&&(await this[_0x53d562(0x67d)](),!this[_0x53d562(0x5a2)]))return null;_0x3467c2=this[_0x53d562(0x45c)](_0x3467c2);let _0x269f22=await I[_0x53d562(0x2d7)]({'id':_0x3467c2,'owner':this['instance'][_0x53d562(0x509)]}),_0x3048b0={};if(_0x269f22&&_0x269f22[_0x53d562(0x20e)]){let _0x4d4167=_0x269f22[_0x53d562(0x20e)];typeof _0x4d4167[_0x53d562(0x157)]=='string'&&(_0x3048b0['nome']=_0x4d4167['nome']),typeof _0x4d4167[_0x53d562(0x409)]==_0x53d562(0x53a)&&(_0x3048b0[_0x53d562(0x409)]=_0x4d4167[_0x53d562(0x409)]),typeof _0x4d4167[_0x53d562(0x2ae)]==_0x53d562(0x53a)&&(_0x3048b0[_0x53d562(0x2ae)]=_0x4d4167[_0x53d562(0x2ae)]),typeof _0x4d4167[_0x53d562(0x2c8)]=='string'&&(_0x3048b0[_0x53d562(0x2c8)]=_0x4d4167['cpf']),typeof _0x4d4167[_0x53d562(0x475)]==_0x53d562(0x53a)&&(_0x3048b0[_0x53d562(0x475)]=_0x4d4167[_0x53d562(0x475)]),typeof _0x4d4167[_0x53d562(0x37c)]=='string'&&(_0x3048b0[_0x53d562(0x37c)]=_0x4d4167[_0x53d562(0x37c)]),typeof _0x4d4167[_0x53d562(0x602)]==_0x53d562(0x53a)&&(_0x3048b0[_0x53d562(0x602)]=_0x4d4167[_0x53d562(0x602)]),Array[_0x53d562(0x3d1)](_0x4d4167[_0x53d562(0x47c)])&&(_0x3048b0[_0x53d562(0x47c)]=_0x4d4167[_0x53d562(0x47c)][_0x53d562(0x546)](',\x20'));}return _0x269f22&&_0x269f22[_0x53d562(0x20e)]&&_0x269f22[_0x53d562(0x20e)][_0x53d562(0x58b)]&&_0x269f22[_0x53d562(0x20e)]['customFields']['forEach'](_0xf7264c=>{const _0x13dd20=_0x53d562;let _0x17ac96=this[_0x13dd20(0x5a2)][_0x13dd20(0x58b)]['find'](_0x491db8=>_0x491db8['_id']===_0xf7264c[_0x13dd20(0x65d)]);_0x17ac96&&(_0x3048b0[_0x17ac96[_0x13dd20(0x33d)]]=_0xf7264c['value']);}),_0x3048b0;}async[a0_0x444692(0x148)](_0x493d67,_0xaff01a){const _0x51c16e=a0_0x444692;let _0x46b636=await this[_0x51c16e(0xff)](_0xaff01a);return this[_0x51c16e(0x419)](_0x493d67,_0x46b636);}async[a0_0x444692(0x23f)](_0x418472){const _0x5f1be6=a0_0x444692;try{if(this[_0x5f1be6(0x134)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5f1be6(0x429)),_0x418472[_0x5f1be6(0xe7)]&&_0x418472[_0x5f1be6(0x65d)]){if(this[_0x5f1be6(0x4a3)]===_0x418472[_0x5f1be6(0x65d)][_0x5f1be6(0x414)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x36a26d=await k[_0x5f1be6(0x4fd)](_0x418472[_0x5f1be6(0x65d)]);return setTimeout(()=>this[_0x5f1be6(0x4de)](),0x7d0),_0x36a26d;}let _0x25521b;if(_0x418472[_0x5f1be6(0x65d)]&&(_0x25521b=await k['findOne']({'owner':this['instance'][_0x5f1be6(0x509)],'_id':_0x418472[_0x5f1be6(0x65d)]})),_0x25521b){let _0x259974=_0x418472;this['processingScheduleMessageId']===_0x25521b['_id'][_0x5f1be6(0x414)]()&&(_0x259974={'status':_0x418472[_0x5f1be6(0x475)],'_id':_0x418472[_0x5f1be6(0x65d)]});let _0x5241c3=await k[_0x5f1be6(0x60c)](_0x25521b['_id'],{'$set':_0x259974},{'new':!0x0});return setTimeout(()=>this[_0x5f1be6(0x4de)](),0x7d0),_0x5241c3;}else{_0x418472[_0x5f1be6(0x5ec)]=this['instance']['wuid'];let _0x2ee807=await new k(_0x418472)[_0x5f1be6(0x541)]();return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2ee807;}}catch(_0x4ec6e1){throw this['logger'][_0x5f1be6(0x307)](this[_0x5f1be6(0x2dc)]+'\x20('+this[_0x5f1be6(0x4be)][_0x5f1be6(0x509)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+_0x4ec6e1),new m('Erro:'+_0x4ec6e1[_0x5f1be6(0x2d3)]);}}async[a0_0x444692(0x5b1)](){const _0x203982=a0_0x444692;try{return await k[_0x203982(0x235)]({'owner':this['instance'][_0x203982(0x509)]})[_0x203982(0x298)]({'when':0x1});}catch(_0x3cc3b3){throw this[_0x203982(0x134)][_0x203982(0x307)](this[_0x203982(0x2dc)]+'\x20('+this[_0x203982(0x4be)][_0x203982(0x509)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+_0x3cc3b3),new m(_0x203982(0x2ba)+_0x3cc3b3['message']);}}async[a0_0x444692(0x477)](){const _0x2a2077=a0_0x444692;try{return await k['deleteMany']({'owner':this[_0x2a2077(0x4be)]['wuid'],'status':'done'}),this[_0x2a2077(0x134)][_0x2a2077(0x44a)](this[_0x2a2077(0x2dc)]+'\x20('+this[_0x2a2077(0x4be)]['wuid']+_0x2a2077(0x467)),this[_0x2a2077(0x5b1)]();}catch(_0x1d0425){throw this['logger'][_0x2a2077(0x307)](this[_0x2a2077(0x2dc)]+'\x20('+this[_0x2a2077(0x4be)][_0x2a2077(0x509)]+_0x2a2077(0x29a)+_0x1d0425),new m(_0x2a2077(0x2ba)+_0x1d0425['message']);}}async[a0_0x444692(0x4d6)](_0x5d63a7,_0xa866de){const _0x3dd4f5=a0_0x444692;try{switch(_0xa866de[_0x3dd4f5(0x2fe)]){case _0x3dd4f5(0x36d):return await this[_0x3dd4f5(0x3ab)](_0xa866de,_0x5d63a7);case _0x3dd4f5(0x2eb):return await this[_0x3dd4f5(0x61f)](_0xa866de,_0x5d63a7);case _0x3dd4f5(0x3ec):return await this[_0x3dd4f5(0x5ff)](_0xa866de,_0x5d63a7);default:return this[_0x3dd4f5(0x134)][_0x3dd4f5(0x307)](this['instanceName']+'\x20('+this[_0x3dd4f5(0x4be)][_0x3dd4f5(0x509)]+_0x3dd4f5(0x594)+_0xa866de[_0x3dd4f5(0x2fe)]),{'status':_0x3dd4f5(0x307),'detail':_0x3dd4f5(0x404)};}}catch(_0x1189ea){return this[_0x3dd4f5(0x134)][_0x3dd4f5(0x307)](this[_0x3dd4f5(0x2dc)]+'\x20('+this[_0x3dd4f5(0x4be)][_0x3dd4f5(0x509)]+_0x3dd4f5(0x495)+_0x1189ea),{'status':_0x3dd4f5(0x307),'detail':_0x1189ea[_0x3dd4f5(0x2d3)]};}}['getRandomText'](_0x35737f){const _0x4bc7eb=a0_0x444692;let _0x628070=_0x35737f[_0x4bc7eb(0x1b4)]('|'),_0x160ab4=Math[_0x4bc7eb(0x1b6)](Math[_0x4bc7eb(0x67b)]()*_0x628070[_0x4bc7eb(0x1f4)]);return _0x628070[_0x160ab4][_0x4bc7eb(0x5a7)]();}async['scheduleSendText'](_0x34ae90,_0x13fe0c){const _0x36115e=a0_0x444692;if(this[_0x36115e(0x134)]['verbose'](this[_0x36115e(0x2dc)]+'\x20('+this[_0x36115e(0x4be)]['wuid']+_0x36115e(0x4cf)),!_0x34ae90[_0x36115e(0x2d3)][_0x36115e(0x36d)]||_0x34ae90['message'][_0x36115e(0x36d)][_0x36115e(0x1f4)]===0x0)return{'error':!0x0,'error_log':_0x36115e(0x2d6)};let _0x2b4519=this[_0x36115e(0x3f0)](_0x34ae90[_0x36115e(0x2d3)]['text']),_0x3c9b53=await this[_0x36115e(0x148)](_0x2b4519,_0x13fe0c),_0x468f27={'number':_0x13fe0c,'options':{'delay':_0x34ae90[_0x36115e(0x2d3)]['delay']},'textMessage':{'text':_0x3c9b53}},_0x1c5279=null;try{let _0x613b97=await this[_0x36115e(0x5ca)](_0x468f27);if(_0x613b97&&_0x613b97[_0x36115e(0x475)])return{'error':!0x1,'id':_0x613b97[_0x36115e(0x4c1)]['id']};_0x1c5279=JSON['stringify'](_0x613b97),this[_0x36115e(0x134)][_0x36115e(0x44a)](this['instanceName']+'\x20('+this[_0x36115e(0x4be)][_0x36115e(0x509)]+'):\x20'+_0x1c5279);}catch(_0x1089be){this[_0x36115e(0x134)]['error'](this['instanceName']+'\x20('+this[_0x36115e(0x4be)]['wuid']+_0x36115e(0x280)+_0x1089be),_0x1c5279=_0x1089be[_0x36115e(0x2d3)];}if(_0x1c5279)return{'error':!0x0,'error_log':(typeof _0x1c5279==_0x36115e(0x66b)?JSON[_0x36115e(0x343)](_0x1c5279,null,0x2):_0x1c5279)[_0x36115e(0x667)](/[\[\]{}\n]/g,'\x20')[_0x36115e(0x667)](/  +/g,'\x20')};}async[a0_0x444692(0x61f)](_0x5454ec,_0x22f0de){const _0x2c1ef3=a0_0x444692;this[_0x2c1ef3(0x134)][_0x2c1ef3(0x44a)](this[_0x2c1ef3(0x2dc)]+'\x20('+this[_0x2c1ef3(0x4be)]['wuid']+_0x2c1ef3(0x501));let _0x7cef4f;if(_0x5454ec[_0x2c1ef3(0x2d3)]['text']&&_0x5454ec['message'][_0x2c1ef3(0x36d)][_0x2c1ef3(0x1f4)]>0x0){let _0x3b9296=this['getRandomText'](_0x5454ec[_0x2c1ef3(0x2d3)]['text']);_0x7cef4f=await this[_0x2c1ef3(0x148)](_0x3b9296,_0x22f0de);}let _0x525a00={'number':_0x22f0de,'options':{'delay':_0x5454ec[_0x2c1ef3(0x2d3)][_0x2c1ef3(0x128)]},'mediaMessage':{'mediatype':_0x5454ec[_0x2c1ef3(0x2d3)][_0x2c1ef3(0x26a)],'caption':_0x7cef4f,'media':_0x5454ec[_0x2c1ef3(0x2d3)]['urlOrBase64']}},_0x546124=null;try{let _0x78bd6=await this[_0x2c1ef3(0x521)](_0x525a00);if(_0x78bd6&&_0x78bd6[_0x2c1ef3(0x475)])return{'error':!0x1,'id':_0x78bd6[_0x2c1ef3(0x4c1)]['id']};_0x546124=JSON[_0x2c1ef3(0x343)](_0x78bd6),this['logger'][_0x2c1ef3(0x44a)](this[_0x2c1ef3(0x2dc)]+'\x20('+this['instance'][_0x2c1ef3(0x509)]+_0x2c1ef3(0x3c5)+_0x546124);}catch(_0x343b18){this[_0x2c1ef3(0x134)][_0x2c1ef3(0x307)](this['instanceName']+'\x20('+this[_0x2c1ef3(0x4be)]['wuid']+_0x2c1ef3(0xed)+_0x343b18[_0x2c1ef3(0x2d3)]),_0x546124=_0x343b18[_0x2c1ef3(0x2d3)];}if(_0x546124)return{'error':!0x0,'error_log':(typeof _0x546124==_0x2c1ef3(0x66b)?JSON[_0x2c1ef3(0x343)](_0x546124,null,0x2):_0x546124)[_0x2c1ef3(0x667)](/[\[\]{}\n]/g,'\x20')[_0x2c1ef3(0x667)](/  +/g,'\x20')};}async[a0_0x444692(0x5ff)](_0x545870,_0x284bf0){const _0x430c1d=a0_0x444692;this[_0x430c1d(0x134)][_0x430c1d(0x44a)](this[_0x430c1d(0x2dc)]+'\x20('+this[_0x430c1d(0x4be)][_0x430c1d(0x509)]+'):\x20Enviando\x20áudio');let _0x1f3e32={'number':_0x284bf0,'options':{'delay':_0x545870[_0x430c1d(0x2d3)]['delay']},'audioMessage':{'audio':_0x545870[_0x430c1d(0x2d3)]['urlOrBase64']}},_0x3e093e=null;try{let _0x14c01e=await this[_0x430c1d(0x1a6)](_0x1f3e32);if(_0x14c01e&&_0x14c01e[_0x430c1d(0x475)])return{'error':!0x1,'id':_0x14c01e[_0x430c1d(0x4c1)]['id']};_0x3e093e=JSON[_0x430c1d(0x343)](_0x14c01e),this[_0x430c1d(0x134)][_0x430c1d(0x44a)](this[_0x430c1d(0x2dc)]+'\x20('+this[_0x430c1d(0x4be)][_0x430c1d(0x509)]+'):\x20'+_0x3e093e);}catch(_0xab737a){this['logger']['error'](this[_0x430c1d(0x2dc)]+'\x20('+this['instance'][_0x430c1d(0x509)]+_0x430c1d(0x5c5)+_0xab737a),_0x3e093e=_0xab737a[_0x430c1d(0x2d3)];}if(_0x3e093e)return{'error':!0x0,'error_log':(typeof _0x3e093e=='object'?JSON[_0x430c1d(0x343)](_0x3e093e,null,0x2):_0x3e093e)[_0x430c1d(0x667)](/[\[\]{}\n]/g,'\x20')[_0x430c1d(0x667)](/  +/g,'\x20')};}},Ee=require(a0_0x444692(0x51a)),kt=class l{constructor(_0x68ee59,_0x4d87f3,_0x330ddc){const _0x5a0433=a0_0x444692;this[_0x5a0433(0x23d)]=_0x68ee59,this[_0x5a0433(0x56e)]=_0x4d87f3,this[_0x5a0433(0x1e4)]=_0x330ddc,this['db']={},this[_0x5a0433(0x11f)]={},this[_0x5a0433(0x134)]=new v(l[_0x5a0433(0x33d)]),this[_0x5a0433(0x21c)]={},(this[_0x5a0433(0x362)](),this[_0x5a0433(0x504)](),this[_0x5a0433(0x2d5)](),Object[_0x5a0433(0x136)](this['db'],_0x4d87f3[_0x5a0433(0x589)]('DATABASE')),Object[_0x5a0433(0x136)](this[_0x5a0433(0x11f)],_0x4d87f3['get'](_0x5a0433(0x2d8))),this[_0x5a0433(0xd9)]=this['db'][_0x5a0433(0xe3)]?this[_0x5a0433(0x1e4)]['dbServer']?.['db'](this['db'][_0x5a0433(0x1f6)][_0x5a0433(0x276)]+_0x5a0433(0x275)):void 0x0,this[_0x5a0433(0x201)]=this['redis'][_0x5a0433(0xe3)]?new we(this[_0x5a0433(0x11f)]):void 0x0);}['delInstanceTime'](_0x45f75c){const _0x1c79ac=a0_0x444692;let _0x154e3e=this[_0x1c79ac(0x56e)][_0x1c79ac(0x589)](_0x1c79ac(0x48e));typeof _0x154e3e==_0x1c79ac(0x44b)&&_0x154e3e>0x0&&setTimeout(()=>{const _0x1e2cff=_0x1c79ac;this[_0x1e2cff(0x21c)][_0x45f75c]?.['connectionStatus']?.[_0x1e2cff(0x2f7)]!=='open'&&delete this[_0x1e2cff(0x21c)][_0x45f75c];},0x3e8*0x3c*_0x154e3e);}async[a0_0x444692(0x577)](_0x3b3c8e){const _0x511b37=a0_0x444692;if(_0x3b3c8e&&!this[_0x511b37(0x21c)][_0x3b3c8e])throw new L(_0x511b37(0x1fd)+_0x3b3c8e+_0x511b37(0x1a9));let _0x3c840c=[];for await(let [_0x431b35,_0x53830e]of Object['entries'](this['waInstances']))if(_0x53830e&&_0x53830e[_0x511b37(0xe8)][_0x511b37(0x2f7)]==='open'){let _0x35a534=await this[_0x511b37(0x1e4)][_0x511b37(0x34e)]['find'](_0x431b35);_0x3c840c[_0x511b37(0x370)]({'instance':{'instanceName':_0x431b35,'apikey':_0x35a534[_0x511b37(0x479)],'owner':_0x53830e[_0x511b37(0x509)],'profileName':await _0x53830e[_0x511b37(0x2c1)]()||_0x511b37(0x3bc),'profilePictureUrl':_0x53830e[_0x511b37(0x3dd)]}});}return _0x3c840c[_0x511b37(0x235)](_0x456bda=>_0x456bda['instance'][_0x511b37(0x2dc)]===_0x3b3c8e)??_0x3c840c;}[a0_0x444692(0x2d5)](){setInterval(async()=>{const _0x193811=a0_0x3772;if(this['db'][_0x193811(0xe3)])(await this[_0x193811(0xd9)][_0x193811(0x1e6)]())[_0x193811(0x58d)](async _0x1fcee1=>{const _0x9d6b6b=_0x193811;let _0x4e2d66=_0x1fcee1[_0x9d6b6b(0x586)][_0x9d6b6b(0x667)](/^[\w-]+./,'');await this[_0x9d6b6b(0xd9)][_0x9d6b6b(0x457)](_0x4e2d66)[_0x9d6b6b(0x510)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x3621b8=(0x0,ee['opendirSync'])(V,{'encoding':'utf-8'});for await(let _0x51774c of _0x3621b8)_0x51774c[_0x193811(0x620)]()&&(0x0,ee['readdirSync'])((0x0,Ee[_0x193811(0x546)])(V,_0x51774c[_0x193811(0x33d)]),{'encoding':'utf-8'})[_0x193811(0x58d)](async _0x23d5ba=>{const _0x28d683=_0x193811;(_0x23d5ba['match'](/^app.state.*/)||_0x23d5ba['match'](/^session-.*/))&&(0x0,ee[_0x28d683(0x3a0)])((0x0,Ee['join'])(V,_0x51774c[_0x28d683(0x33d)],_0x23d5ba),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x30f233){const _0x5d32df=a0_0x444692;this['db'][_0x5d32df(0xe3)]&&(await this[_0x5d32df(0x1e4)][_0x5d32df(0x3b2)][_0x5d32df(0x548)](),(await this[_0x5d32df(0xd9)][_0x5d32df(0x1e6)]())[_0x5d32df(0x1f4)]>0x0&&await this[_0x5d32df(0xd9)][_0x5d32df(0x32d)](_0x30f233)),this['redis'][_0x5d32df(0xe3)]&&(this[_0x5d32df(0x201)]['reference']=_0x30f233,await this[_0x5d32df(0x201)]['delAll']()),!this['db'][_0x5d32df(0xe3)]&&!this[_0x5d32df(0x11f)][_0x5d32df(0xe3)]&&(0x0,ee['rmSync'])((0x0,Ee[_0x5d32df(0x546)])(V,_0x30f233),{'recursive':!0x0,'force':!0x0});}async['loadInstance'](){const _0x7124cf=a0_0x444692;let _0x3724f1=async _0x1c0745=>{const _0x326d7b=a0_0x3772;let _0x25245c=new be(this['configService'],this[_0x326d7b(0x23d)],this[_0x326d7b(0x1e4)]);_0x25245c[_0x326d7b(0x2dc)]=_0x1c0745,await _0x25245c['connectToWhatsapp'](),this[_0x326d7b(0x21c)][_0x1c0745]=_0x25245c;};try{if(this[_0x7124cf(0x11f)][_0x7124cf(0xe3)]){let _0x59dd1e=await this[_0x7124cf(0x201)]['instanceKeys']();_0x59dd1e?.[_0x7124cf(0x1f4)]>0x0&&_0x59dd1e[_0x7124cf(0x58d)](async _0x523ab5=>await _0x3724f1(_0x523ab5[_0x7124cf(0x1b4)](':')[0x1]));}if(this['db'][_0x7124cf(0xe3)]){await this['repository'][_0x7124cf(0x3b2)][_0x7124cf(0x548)]();let _0x49fc37=await this['dbInstance'][_0x7124cf(0x1e6)]();_0x49fc37[_0x7124cf(0x1f4)]>0x0&&_0x49fc37[_0x7124cf(0x58d)](async _0x310b56=>await _0x3724f1(_0x310b56[_0x7124cf(0x586)][_0x7124cf(0x667)](/^[\w-]+\./,'')));return;}let _0x40cdd7=(0x0,ee[_0x7124cf(0x2a5)])(V,{'encoding':_0x7124cf(0x30e)});for await(let _0x274ce6 of _0x40cdd7)if(_0x274ce6[_0x7124cf(0x620)]()){if((0x0,ee['readdirSync'])((0x0,Ee[_0x7124cf(0x546)])(V,_0x274ce6['name']),{'encoding':_0x7124cf(0x30e)})['length']===0x0){(0x0,ee[_0x7124cf(0x3a0)])((0x0,Ee[_0x7124cf(0x546)])(V,_0x274ce6[_0x7124cf(0x33d)]),{'recursive':!0x0,'force':!0x0});break;}await _0x3724f1(_0x274ce6['name']);}}catch(_0x9e58f5){this[_0x7124cf(0x134)]['error'](_0x9e58f5);}}[a0_0x444692(0x362)](){const _0xe4a644=a0_0x444692;this[_0xe4a644(0x23d)]['on'](_0xe4a644(0x1f9),async _0x29eec2=>{const _0x3565d2=_0xe4a644;try{this[_0x3565d2(0x21c)][_0x29eec2]=void 0x0;}catch{}try{this[_0x3565d2(0x186)](_0x29eec2);}finally{this[_0x3565d2(0x134)][_0x3565d2(0x596)](_0x3565d2(0x1fd)+_0x29eec2+_0x3565d2(0x5e4));}});}[a0_0x444692(0x504)](){const _0x5da5f5=a0_0x444692;this[_0x5da5f5(0x23d)]['on'](_0x5da5f5(0x449),async _0x4959d1=>{const _0x59e212=_0x5da5f5;try{this[_0x59e212(0x21c)][_0x4959d1]=void 0x0,this[_0x59e212(0x186)](_0x4959d1);}catch(_0x33cf2b){this[_0x59e212(0x134)]['error']({'localError':_0x59e212(0x504),'warn':_0x59e212(0x582),'error':_0x33cf2b});}finally{this[_0x59e212(0x134)][_0x59e212(0x596)](_0x59e212(0x1fd)+_0x4959d1+'\x22\x20-\x20NOT\x20CONNECTION');}});}},xe=require(a0_0x444692(0x51a)),Ne=require('fs'),Lt=class extends j{constructor(_0x16b37d,_0xeeff0d){const _0x542271=a0_0x444692;super(_0xeeff0d),this[_0x542271(0x4d5)]=_0x16b37d,this[_0x542271(0x56e)]=_0xeeff0d;}async[a0_0x444692(0x54b)](_0x5721a4,_0x2e9d07=!0x1){const _0x11104d=a0_0x444692;if(_0x5721a4[_0x11104d(0x1f4)]!==0x0)try{return this[_0x11104d(0x28c)][_0x11104d(0xe3)]&&_0x2e9d07?{'insertCount':(await this[_0x11104d(0x4d5)][_0x11104d(0x51c)]([..._0x5721a4]))[_0x11104d(0x1f4)]}:(_0x5721a4[_0x11104d(0x58d)](_0xe27780=>{const _0x5dba8a=_0x11104d;this[_0x5dba8a(0x219)]({'path':(0x0,xe['join'])(this['storePath'],_0x5dba8a(0x368),_0xe27780['owner']),'fileName':_0xe27780['id'],'data':_0xe27780});}),{'insertCount':_0x5721a4[_0x11104d(0x1f4)]});}catch(_0x311fe9){return _0x311fe9;}finally{_0x5721a4=void 0x0;}}async['find'](_0x23e651){const _0x572b07=a0_0x444692;try{if(this['dbSettings'][_0x572b07(0xe3)])return await this['chatModel'][_0x572b07(0x235)]({'owner':_0x23e651['where']['owner']})[_0x572b07(0x298)]({'lastmsg':-0x1})[_0x572b07(0x3d8)](_0x23e651?.[_0x572b07(0x3d8)]??0x0)[_0x572b07(0x55b)]();let _0x1ca849=[],_0x548eb6=(0x0,Ne['opendirSync'])((0x0,xe['join'])(this[_0x572b07(0x30b)],'chats',_0x23e651[_0x572b07(0x427)][_0x572b07(0x5ec)]));for await(let _0x38d74e of _0x548eb6)_0x38d74e[_0x572b07(0x315)]()&&_0x1ca849[_0x572b07(0x370)](JSON[_0x572b07(0x3fc)]((0x0,Ne[_0x572b07(0x480)])((0x0,xe[_0x572b07(0x546)])(this['storePath'],_0x572b07(0x368),_0x23e651[_0x572b07(0x427)][_0x572b07(0x5ec)],_0x38d74e[_0x572b07(0x33d)]),{'encoding':_0x572b07(0x30e)})));return _0x1ca849;}catch{return[];}}async[a0_0x444692(0xe7)](_0x100535){const _0x27f05d=a0_0x444692;try{return this['dbSettings']['ENABLED']?await this[_0x27f05d(0x4d5)][_0x27f05d(0x510)]({..._0x100535[_0x27f05d(0x427)]}):((0x0,Ne[_0x27f05d(0x3a0)])((0x0,xe['join'])(this[_0x27f05d(0x30b)],_0x27f05d(0x368),_0x100535[_0x27f05d(0x427)][_0x27f05d(0x5ec)],_0x100535[_0x27f05d(0x427)]['id']+_0x27f05d(0x476)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x100535[_0x27f05d(0x427)]['id']}});}catch(_0x53e990){return{'error':_0x53e990?.['toString']()};}}async[a0_0x444692(0x2d7)](_0xcfd03f){const _0x4667a6=a0_0x444692;try{if(this['dbSettings'][_0x4667a6(0xe3)])return await this[_0x4667a6(0x4d5)][_0x4667a6(0x2d7)]({'owner':_0xcfd03f[_0x4667a6(0x427)][_0x4667a6(0x5ec)]})[_0x4667a6(0x55b)]();}catch{return null;}}async['update'](_0x47a771,_0x111932){const _0x2adee3=a0_0x444692;try{this['dbSettings'][_0x2adee3(0xe3)]&&await this[_0x2adee3(0x4d5)][_0x2adee3(0x376)]({..._0x47a771['where']},{'$set':_0x111932});}catch(_0x23a647){console[_0x2adee3(0x307)](_0x23a647);}}async['updateMany'](_0x43df4e,_0x20b557){const _0x1b89b6=a0_0x444692;try{if(this[_0x1b89b6(0x28c)][_0x1b89b6(0xe3)]){let _0x33717d=_0x43df4e[_0x1b89b6(0x328)]((_0x1d48fc,_0x285a6a)=>({'updateOne':{'filter':{..._0x1d48fc[_0x1b89b6(0x427)]},'update':{'$set':_0x20b557[_0x285a6a]}}}));await this[_0x1b89b6(0x4d5)][_0x1b89b6(0x49b)](_0x33717d);}}catch(_0x19a7e6){console['error'](_0x19a7e6);}}},Ut=class{constructor(_0x26c215){const _0xb2cff4=a0_0x444692;this[_0xb2cff4(0x1a5)]=_0x26c215;}async[a0_0x444692(0x456)]({instanceName:_0x32eb5d},_0x3679e0){const _0x40c2a2=a0_0x444692;return await this['waMonitor'][_0x40c2a2(0x21c)][_0x32eb5d][_0x40c2a2(0x456)](_0x3679e0);}async[a0_0x444692(0x51b)]({instanceName:_0x3d47fc},_0x498240){const _0x4aa368=a0_0x444692;return await this[_0x4aa368(0x1a5)][_0x4aa368(0x21c)][_0x3d47fc]['whatsappNumber'](_0x498240);}async[a0_0x444692(0x205)]({instanceName:_0x364838},_0x2644e6){const _0x36e596=a0_0x444692;return await this[_0x36e596(0x1a5)][_0x36e596(0x21c)][_0x364838]['markMessageAsRead'](_0x2644e6);}async[a0_0x444692(0x396)]({instanceName:_0xe2492a},_0x5db8ab){const _0x86aa09=a0_0x444692;return await this[_0x86aa09(0x1a5)]['waInstances'][_0xe2492a][_0x86aa09(0x396)](_0x5db8ab);}async[a0_0x444692(0x1d0)]({instanceName:_0x4efc5d},_0x44dfbc){const _0x2c4262=a0_0x444692;return await this['waMonitor'][_0x2c4262(0x21c)][_0x4efc5d][_0x2c4262(0x1d0)](_0x44dfbc);}async[a0_0x444692(0x175)]({instanceName:_0xcef5d1},_0x390168){const _0x50f71a=a0_0x444692;return await this[_0x50f71a(0x1a5)][_0x50f71a(0x21c)][_0xcef5d1][_0x50f71a(0x441)](_0x390168[_0x50f71a(0x44b)]);}async['fetchProfile']({instanceName:_0x10b006},_0x3a2fc0){const _0x3159fc=a0_0x444692;return await this['waMonitor']['waInstances'][_0x10b006][_0x3159fc(0xe0)](_0x10b006,_0x3a2fc0[_0x3159fc(0x44b)]);}async[a0_0x444692(0x135)]({instanceName:_0x3a02ce},_0x199c58){const _0x3f0030=a0_0x444692;return await this[_0x3f0030(0x1a5)][_0x3f0030(0x21c)][_0x3a02ce][_0x3f0030(0x135)](_0x199c58);}async['getBase64FromMediaMessage']({instanceName:_0x12e323},_0x5e1fa6){const _0x773d0f=a0_0x444692;return await this[_0x773d0f(0x1a5)][_0x773d0f(0x21c)][_0x12e323][_0x773d0f(0x55f)](_0x5e1fa6);}async[a0_0x444692(0x1ff)]({instanceName:_0x368c68},_0x5e76cb){const _0x7d3bf2=a0_0x444692;return await this[_0x7d3bf2(0x1a5)][_0x7d3bf2(0x21c)][_0x368c68][_0x7d3bf2(0x1ff)](_0x5e76cb);}async[a0_0x444692(0x42c)]({instanceName:_0x407daf},_0x5d36bd){const _0x1dbbf0=a0_0x444692;return await this[_0x1dbbf0(0x1a5)][_0x1dbbf0(0x21c)][_0x407daf]['fetchStatusMessage'](_0x5d36bd);}async[a0_0x444692(0x609)]({instanceName:_0x1e00cc}){const _0x469829=a0_0x444692;return await this[_0x469829(0x1a5)]['waInstances'][_0x1e00cc]['fetchChats']();}async[a0_0x444692(0x588)]({instanceName:_0x5934cc}){const _0x1723cf=a0_0x444692;return await this['waMonitor'][_0x1723cf(0x21c)][_0x5934cc][_0x1723cf(0x588)]();}async[a0_0x444692(0x105)]({instanceName:_0x35ee0b},_0x358133){const _0x4c393b=a0_0x444692;return await this[_0x4c393b(0x1a5)][_0x4c393b(0x21c)][_0x35ee0b][_0x4c393b(0x105)](_0x358133);}async[a0_0x444692(0x662)]({instanceName:_0x1a77b1},_0x507baf){const _0x50da86=a0_0x444692;return await this[_0x50da86(0x1a5)][_0x50da86(0x21c)][_0x1a77b1][_0x50da86(0x662)](_0x507baf['number']);}async[a0_0x444692(0x66a)]({instanceName:_0x2bf01d},_0x52e256){const _0x3a13c4=a0_0x444692;return await this[_0x3a13c4(0x1a5)][_0x3a13c4(0x21c)][_0x2bf01d]['updateProfileName'](_0x52e256['name']);}async[a0_0x444692(0x12b)]({instanceName:_0x1a0401},_0xb3555){const _0x28cd72=a0_0x444692;return await this[_0x28cd72(0x1a5)]['waInstances'][_0x1a0401][_0x28cd72(0x12b)](_0xb3555[_0x28cd72(0x475)]);}async['updateProfilePicture']({instanceName:_0x429b5e},_0x3234a6){const _0x3b6393=a0_0x444692;return await this['waMonitor'][_0x3b6393(0x21c)][_0x429b5e][_0x3b6393(0x4ec)](_0x3234a6['picture']);}async[a0_0x444692(0x2e5)]({instanceName:_0x25f666},_0x282f69){const _0x4f3b97=a0_0x444692;return await this[_0x4f3b97(0x1a5)][_0x4f3b97(0x21c)][_0x25f666]['removeProfilePicture']();}},Ns=require('@whiskeysockets/baileys'),Vt=class l{constructor(_0x57ed5a,_0x33c70b,_0x1628c9,_0x23fe9a,_0x54e9f5){const _0x506cb8=a0_0x444692;this[_0x506cb8(0x1a5)]=_0x57ed5a,this[_0x506cb8(0x56e)]=_0x33c70b,this['repository']=_0x1628c9,this[_0x506cb8(0x23d)]=_0x23fe9a,this['authService']=_0x54e9f5,this['logger']=new v(l[_0x506cb8(0x33d)]);}async[a0_0x444692(0x3cd)]({instanceName:_0x19daba,apikey:_0x11d985}){const _0x26b909=a0_0x444692;let _0x21b8ed=new be(this[_0x26b909(0x56e)],this['eventEmitter'],this[_0x26b909(0x1e4)]);_0x21b8ed['instanceName']=_0x19daba,this[_0x26b909(0x1a5)][_0x26b909(0x21c)][_0x21b8ed[_0x26b909(0x2dc)]]=_0x21b8ed,this[_0x26b909(0x1a5)][_0x26b909(0x5ad)](_0x21b8ed[_0x26b909(0x2dc)]);let _0x5b9b9b={};_0x11d985?(await this[_0x26b909(0x1e4)]['auth']['create']({'apikey':_0x11d985},_0x19daba),_0x5b9b9b['apikey']=_0x11d985):_0x5b9b9b=await this[_0x26b909(0x252)][_0x26b909(0x4bd)]({'instanceName':_0x21b8ed[_0x26b909(0x2dc)]});let _0x46c726;return await _0x21b8ed[_0x26b909(0x41d)](),await(0x0,Ns[_0x26b909(0x128)])(0x7d0),_0x46c726=_0x21b8ed['qrCode'],{'instance':{'instanceName':_0x21b8ed[_0x26b909(0x2dc)],'status':_0x26b909(0x5c6)},'hash':_0x5b9b9b,'qrcode':_0x46c726};}async[a0_0x444692(0x41d)]({instanceName:_0x1c8a2a}){const _0x55a240=a0_0x444692;try{let _0x26c811=this['waMonitor']['waInstances'][_0x1c8a2a];switch(_0x26c811[_0x55a240(0xe8)]?.[_0x55a240(0x2f7)]){case'close':return await _0x26c811['connectToWhatsapp'](),await(0x0,Ns[_0x55a240(0x128)])(0x7d0),_0x26c811['qrCode'];case'connecting':return _0x26c811[_0x55a240(0x55a)];default:return await this['connectionState']({'instanceName':_0x1c8a2a});}}catch(_0x55b1ff){this['logger'][_0x55a240(0xea)](_0x55b1ff);}}async[a0_0x444692(0x381)]({instanceName:_0x2ec60a}){const _0x32889d=a0_0x444692;let _0x127e06=this['waMonitor']['waInstances'][_0x2ec60a][_0x32889d(0xe8)],_0x41a4ac=null;_0x127e06['state']==='open'&&_0x2ec60a&&(_0x41a4ac=await this[_0x32889d(0x1a5)][_0x32889d(0x577)](_0x2ec60a));let _0x17aacb=null;return _0x127e06[_0x32889d(0x2f7)]===_0x32889d(0x600)&&_0x2ec60a&&(_0x17aacb=this[_0x32889d(0x1a5)][_0x32889d(0x21c)][_0x2ec60a][_0x32889d(0x55a)]),{'instance':_0x2ec60a,'connectionStatus':_0x127e06,'instanceInfo':_0x41a4ac,'qrcode':_0x17aacb};}async[a0_0x444692(0x2b5)]({instanceName:_0x2ede43}){const _0x30c59b=a0_0x444692;try{return this[_0x30c59b(0x1a5)][_0x30c59b(0x21c)][_0x2ede43]?.[_0x30c59b(0x625)]?.['ws']?.['close'](),{'status':_0x30c59b(0x2be),'error':!0x1,'response':{'message':_0x30c59b(0x3e7)}};}catch(_0x27e84a){this[_0x30c59b(0x134)]['error'](_0x27e84a);}}async[a0_0x444692(0x5cc)]({instanceName:_0x11d020}){const _0x5574b3=a0_0x444692;return _0x11d020?this[_0x5574b3(0x1a5)][_0x5574b3(0x577)](_0x11d020):this['waMonitor'][_0x5574b3(0x577)]();}async[a0_0x444692(0xe6)]({instanceName:_0x589b5b}){const _0x436b78=a0_0x444692;try{return await this[_0x436b78(0x1a5)]['waInstances'][_0x589b5b]?.[_0x436b78(0x625)]?.[_0x436b78(0xe6)](_0x436b78(0x38b)+_0x589b5b),{'error':!0x1,'message':_0x436b78(0x3aa)};}catch(_0x47b913){throw new A(_0x47b913[_0x436b78(0x414)]());}}async[a0_0x444692(0x39f)]({instanceName:_0x3ebb93}){const _0x42eb07=a0_0x444692;if((await this[_0x42eb07(0x381)]({'instanceName':_0x3ebb93}))['connectionStatus'][_0x42eb07(0x2f7)]==='open')throw new m([_0x42eb07(0x5f4),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x42eb07(0x1a5)][_0x42eb07(0x21c)][_0x3ebb93],{'error':!0x1,'message':_0x42eb07(0x292)};}catch(_0x118227){throw new m(_0x118227['toString']());}}async[a0_0x444692(0x4d4)](_0x5ba5ec,_0x3bb61a){const _0x555f45=a0_0x444692;return await this[_0x555f45(0x252)][_0x555f45(0x4d4)](_0x3bb61a);}},te=require(a0_0x444692(0x196)),jt=class{constructor(_0x287453){this['waMonitor']=_0x287453;}async[a0_0x444692(0x4cb)]({instanceName:_0x49605a},_0x28826a){const _0x5efcc3=a0_0x444692;return await this['waMonitor'][_0x5efcc3(0x21c)][_0x49605a][_0x5efcc3(0x5ca)](_0x28826a);}async[a0_0x444692(0x443)]({instanceName:_0xb4fb8a},_0x201de9){const _0x3b6985=a0_0x444692;if((0x0,te[_0x3b6985(0x49f)])(_0x201de9?.[_0x3b6985(0x521)]?.[_0x3b6985(0x2eb)])&&!_0x201de9?.['mediaMessage']?.[_0x3b6985(0x29b)])throw new m(_0x3b6985(0x448));if((0x0,te[_0x3b6985(0x5d3)])(_0x201de9?.[_0x3b6985(0x521)]?.[_0x3b6985(0x2eb)])||(0x0,te[_0x3b6985(0x49f)])(_0x201de9?.[_0x3b6985(0x521)]?.[_0x3b6985(0x2eb)]))return await this['waMonitor'][_0x3b6985(0x21c)][_0xb4fb8a]['mediaMessage'](_0x201de9);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x444692(0x2ef)]({instanceName:_0x3b19eb},_0x5de6a4){const _0x44ad37=a0_0x444692;if((0x0,te['isURL'])(_0x5de6a4['stickerMessage'][_0x44ad37(0x40d)])||(0x0,te[_0x44ad37(0x49f)])(_0x5de6a4[_0x44ad37(0x59f)][_0x44ad37(0x40d)]))return await this['waMonitor'][_0x44ad37(0x21c)][_0x3b19eb][_0x44ad37(0x17b)](_0x5de6a4);throw new m(_0x44ad37(0x5d0));}async[a0_0x444692(0x3a8)]({instanceName:_0x5b4826},_0xae5623){const _0x3c7809=a0_0x444692;if((0x0,te[_0x3c7809(0x5d3)])(_0xae5623[_0x3c7809(0x290)][_0x3c7809(0x3ec)])||(0x0,te['isBase64'])(_0xae5623[_0x3c7809(0x290)][_0x3c7809(0x3ec)]))return await this['waMonitor'][_0x3c7809(0x21c)][_0x5b4826][_0x3c7809(0x1a6)](_0xae5623);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x444692(0x5ae)]({instanceName:_0x4de2b1},_0x401e8c){const _0x93567e=a0_0x444692;if((0x0,te[_0x93567e(0x49f)])(_0x401e8c[_0x93567e(0x269)][_0x93567e(0x521)]?.['media'])&&!_0x401e8c['buttonMessage'][_0x93567e(0x521)]?.[_0x93567e(0x29b)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x93567e(0x1a5)][_0x93567e(0x21c)][_0x4de2b1]['buttonMessage'](_0x401e8c);}async['sendLocation']({instanceName:_0x3cc880},_0x35b785){const _0x52482f=a0_0x444692;return await this['waMonitor']['waInstances'][_0x3cc880][_0x52482f(0x454)](_0x35b785);}async[a0_0x444692(0x606)]({instanceName:_0x5d9cdb},_0x46fb6e){const _0x14961b=a0_0x444692;return await this[_0x14961b(0x1a5)][_0x14961b(0x21c)][_0x5d9cdb][_0x14961b(0x54c)](_0x46fb6e);}async[a0_0x444692(0x19e)]({instanceName:_0x131bfc},_0x35cd54){const _0x58ba03=a0_0x444692;return await this[_0x58ba03(0x1a5)][_0x58ba03(0x21c)][_0x131bfc]['listMessage'](_0x35cd54);}async[a0_0x444692(0x1d1)]({instanceName:_0xb49ab3},_0x93a7ee){const _0x3b3574=a0_0x444692;return await this[_0x3b3574(0x1a5)][_0x3b3574(0x21c)][_0xb49ab3][_0x3b3574(0x25f)](_0x93a7ee);}async[a0_0x444692(0x24b)]({instanceName:_0x21c940},_0x1f27eb){const _0x1e0246=a0_0x444692;if(!_0x1f27eb[_0x1e0246(0x535)][_0x1e0246(0x1c8)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x1e0246(0x1a5)][_0x1e0246(0x21c)][_0x21c940][_0x1e0246(0x535)](_0x1f27eb);}async[a0_0x444692(0x62c)]({instanceName:_0x451131},_0x26239d){const _0x933157=a0_0x444692;return await this['waMonitor'][_0x933157(0x21c)][_0x451131][_0x933157(0xf6)](_0x26239d);}},Bt=class{constructor(_0x8c2507){const _0x13487a=a0_0x444692;this[_0x13487a(0x1a5)]=_0x8c2507;}async[a0_0x444692(0x687)](_0x40a2cd,_0x10471a){const _0x5be15e=a0_0x444692;return await this['waMonitor'][_0x5be15e(0x21c)][_0x40a2cd['instanceName']][_0x5be15e(0x687)](_0x10471a);}async[a0_0x444692(0x44e)](_0x3a7f10,_0x48211d){const _0x5ef272=a0_0x444692;return await this[_0x5ef272(0x1a5)][_0x5ef272(0x21c)][_0x3a7f10[_0x5ef272(0x2dc)]][_0x5ef272(0x44e)](_0x48211d);}async['groupDesc'](_0x2a68a6,_0x3f3e03){const _0x11c439=a0_0x444692;return await this[_0x11c439(0x1a5)][_0x11c439(0x21c)][_0x2a68a6[_0x11c439(0x2dc)]]['groupDesc'](_0x3f3e03);}async[a0_0x444692(0x33e)](_0xe7d7e,_0x40080b){const _0x481409=a0_0x444692;return await this[_0x481409(0x1a5)][_0x481409(0x21c)][_0xe7d7e[_0x481409(0x2dc)]][_0x481409(0x33e)](_0x40080b);}async[a0_0x444692(0x10b)](_0x19ec86,_0x31693e){const _0x4cec6a=a0_0x444692;return await this['waMonitor'][_0x4cec6a(0x21c)][_0x19ec86['instanceName']][_0x4cec6a(0x10b)](_0x31693e);}async[a0_0x444692(0x390)](_0x2cbb30,_0x3c09a1){const _0x599404=a0_0x444692;return await this[_0x599404(0x1a5)][_0x599404(0x21c)][_0x2cbb30[_0x599404(0x2dc)]]['findGroup'](_0x3c09a1);}async['findGroups'](_0x523b7a){const _0x656835=a0_0x444692;return await this[_0x656835(0x1a5)]['waInstances'][_0x523b7a[_0x656835(0x2dc)]]['findGroups']();}async[a0_0x444692(0x67a)](_0x32a67e,_0x4fba17){const _0x2a3f8b=a0_0x444692;return await this[_0x2a3f8b(0x1a5)]['waInstances'][_0x32a67e[_0x2a3f8b(0x2dc)]][_0x2a3f8b(0x67a)](_0x4fba17);}async['joinGroup'](_0x287e88,_0x46097a){const _0x513bcd=a0_0x444692;return await this[_0x513bcd(0x1a5)]['waInstances'][_0x287e88[_0x513bcd(0x2dc)]]['joinGroup'](_0x46097a);}async[a0_0x444692(0x37a)](_0x11563b,_0x5159bb){const _0x44872b=a0_0x444692;return await this[_0x44872b(0x1a5)][_0x44872b(0x21c)][_0x11563b['instanceName']][_0x44872b(0x37a)](_0x5159bb);}async[a0_0x444692(0x660)](_0x3814e1,_0x3485e2){const _0x41d22e=a0_0x444692;return await this[_0x41d22e(0x1a5)][_0x41d22e(0x21c)][_0x3814e1['instanceName']][_0x41d22e(0x660)](_0x3485e2);}async[a0_0x444692(0x377)](_0x66fe92,_0x3cff57){const _0x53f3e6=a0_0x444692;return await this[_0x53f3e6(0x1a5)][_0x53f3e6(0x21c)][_0x66fe92['instanceName']][_0x53f3e6(0x459)](_0x3cff57);}async[a0_0x444692(0x335)](_0x2d1338,_0x14f026){const _0x23b5d9=a0_0x444692;return await this[_0x23b5d9(0x1a5)]['waInstances'][_0x2d1338[_0x23b5d9(0x2dc)]][_0x23b5d9(0x335)](_0x14f026);}async[a0_0x444692(0x145)](_0x433b18,_0x56e618){const _0x2d1e1f=a0_0x444692;return await this[_0x2d1e1f(0x1a5)][_0x2d1e1f(0x21c)][_0x433b18[_0x2d1e1f(0x2dc)]][_0x2d1e1f(0x145)](_0x56e618);}},Ft=class{constructor(_0x2d9ec5,_0x53e49a){this['waMonit']=_0x2d9ec5,this['configService']=_0x53e49a;}async['qrcode'](_0x215484,_0x4006d3){const _0x11432f=a0_0x444692;try{let _0x523e2a=_0x215484[_0x11432f(0x578)];if(this[_0x11432f(0x246)][_0x11432f(0x21c)][_0x523e2a[_0x11432f(0x2dc)]][_0x11432f(0xe8)][_0x11432f(0x2f7)]==='open')throw new m(_0x11432f(0x406));let _0xb0eb7d=this[_0x11432f(0x56e)][_0x11432f(0x589)]('AUTHENTICATION')[_0x11432f(0x669)];return _0x4006d3[_0x11432f(0x475)](0xc8)[_0x11432f(0x53b)](_0x11432f(0x1c1),{'type':_0xb0eb7d,..._0x523e2a});}catch(_0x312943){console[_0x11432f(0xea)](_0x11432f(0x4bf),_0x312943);}}},Gt=class{constructor(_0x49f2f0){const _0x488734=a0_0x444692;this[_0x488734(0x1a5)]=_0x49f2f0;}[a0_0x444692(0x2c0)](_0x1f2287,_0x272129){const _0x15f914=a0_0x444692;return this[_0x15f914(0x1a5)][_0x15f914(0x21c)][_0x1f2287[_0x15f914(0x2dc)]]['setWebhook'](_0x272129);}async['find'](_0x4b86e2){const _0x505ff9=a0_0x444692;try{return await this[_0x505ff9(0x1a5)][_0x505ff9(0x21c)][_0x4b86e2['instanceName']][_0x505ff9(0x22c)]();}catch{return{'enabled':null,'url':''};}}},Zu=new v(a0_0x444692(0x2fc)),qt=class{constructor(_0x510760){this['waMonitor']=_0x510760;}async[a0_0x444692(0x23f)](_0x30ffeb,_0x8d6090){const _0x3abd01=a0_0x444692;return await this['waMonitor'][_0x3abd01(0x21c)][_0x30ffeb[_0x3abd01(0x2dc)]][_0x3abd01(0x23f)](_0x8d6090);}async[a0_0x444692(0x5b1)](_0x59b3d1){const _0x15475d=a0_0x444692;return await this['waMonitor'][_0x15475d(0x21c)][_0x59b3d1[_0x15475d(0x2dc)]][_0x15475d(0x5b1)]();}async[a0_0x444692(0x477)](_0x420ca9){const _0x21a604=a0_0x444692;return await this[_0x21a604(0x1a5)][_0x21a604(0x21c)][_0x420ca9[_0x21a604(0x2dc)]][_0x21a604(0x477)]();}async['getAutomateSystem'](_0x212248){const _0x311f7b=a0_0x444692;return await this[_0x311f7b(0x1a5)][_0x311f7b(0x21c)][_0x212248['instanceName']]['getAutomateSystem']();}async['updateAgent'](_0x26a517,_0x434476){const _0x4a2364=a0_0x444692;return await this['waMonitor']['waInstances'][_0x26a517[_0x4a2364(0x2dc)]]['updateAgent'](_0x434476);}async[a0_0x444692(0x2a7)](_0x5e8740,_0x3ab8b4){const _0x48d7a8=a0_0x444692;return await this[_0x48d7a8(0x1a5)]['waInstances'][_0x5e8740[_0x48d7a8(0x2dc)]]['updateCustomFields'](_0x3ab8b4);}async[a0_0x444692(0x123)](_0x407292,_0xa66499){const _0x39bb46=a0_0x444692;return await this[_0x39bb46(0x1a5)][_0x39bb46(0x21c)][_0x407292[_0x39bb46(0x2dc)]][_0x39bb46(0x123)](_0xa66499);}async[a0_0x444692(0x3d4)](_0x19525d,_0x541a5e){const _0x4721d3=a0_0x444692;return await this[_0x4721d3(0x1a5)][_0x4721d3(0x21c)][_0x19525d[_0x4721d3(0x2dc)]]['startFlow'](_0x541a5e);}async['getConversation'](_0x11609f,_0xcf0759){const _0x311893=a0_0x444692;return await this[_0x311893(0x1a5)]['waInstances'][_0x11609f[_0x311893(0x2dc)]][_0x311893(0x2f9)](_0xcf0759);}async[a0_0x444692(0x2bc)](_0xfc38f8,_0x3a3a07){const _0x43300b=a0_0x444692;return await this[_0x43300b(0x1a5)][_0x43300b(0x21c)][_0xfc38f8['instanceName']][_0x43300b(0x2bc)](_0x3a3a07);}async[a0_0x444692(0x442)](_0x730cb2,_0x4774d3){const _0x133057=a0_0x444692;return await this[_0x133057(0x1a5)][_0x133057(0x21c)][_0x730cb2[_0x133057(0x2dc)]]['editConversation'](_0x4774d3);}async[a0_0x444692(0x5e2)](_0xa4b44b,_0x50494d){const _0x56499c=a0_0x444692;return await this['waMonitor'][_0x56499c(0x21c)][_0xa4b44b[_0x56499c(0x2dc)]][_0x56499c(0x5e2)](_0x50494d);}async[a0_0x444692(0x3ac)](_0x3c1a49,_0x1e7694){const _0x531589=a0_0x444692;return await this[_0x531589(0x1a5)]['waInstances'][_0x3c1a49[_0x531589(0x2dc)]][_0x531589(0x3ac)](_0x1e7694['name']);}async[a0_0x444692(0xf4)](_0x49241b,_0x96954f){const _0xfb1114=a0_0x444692;return await this[_0xfb1114(0x1a5)]['waInstances'][_0x49241b[_0xfb1114(0x2dc)]]['createFlow'](_0x96954f);}async[a0_0x444692(0x22e)](_0x122ff9,_0x13d7e3){const _0x4cd4cf=a0_0x444692;return await this[_0x4cd4cf(0x1a5)]['waInstances'][_0x122ff9['instanceName']][_0x4cd4cf(0x22e)](_0x13d7e3);}async[a0_0x444692(0x12f)](_0x2b3792,_0x26fc07){const _0x2a8ec9=a0_0x444692;return await this['waMonitor'][_0x2a8ec9(0x21c)][_0x2b3792['instanceName']][_0x2a8ec9(0x12f)](_0x26fc07);}async[a0_0x444692(0x623)](_0x152541,_0x26cfdd){const _0x2dc3f6=a0_0x444692;return await this[_0x2dc3f6(0x1a5)]['waInstances'][_0x152541[_0x2dc3f6(0x2dc)]][_0x2dc3f6(0x623)](_0x26cfdd);}async[a0_0x444692(0x1ac)](_0x3c1b39,_0x1a0534){const _0x4963eb=a0_0x444692;return await this[_0x4963eb(0x1a5)][_0x4963eb(0x21c)][_0x3c1b39[_0x4963eb(0x2dc)]][_0x4963eb(0x1ac)](_0x1a0534);}async['editFlowCondition'](_0x3c6559,_0x2c329d){const _0xef967c=a0_0x444692;return await this[_0xef967c(0x1a5)][_0xef967c(0x21c)][_0x3c6559['instanceName']]['editFlowCondition'](_0x2c329d);}async[a0_0x444692(0x61b)](_0x59f193,_0x1a741e){const _0x5175f2=a0_0x444692;return await this[_0x5175f2(0x1a5)][_0x5175f2(0x21c)][_0x59f193[_0x5175f2(0x2dc)]]['editFlowVaredit'](_0x1a741e);}async[a0_0x444692(0x258)](_0x3608f7,_0x2365cc){const _0x332b9d=a0_0x444692;return await this[_0x332b9d(0x1a5)][_0x332b9d(0x21c)][_0x3608f7[_0x332b9d(0x2dc)]][_0x332b9d(0x258)](_0x2365cc);}async[a0_0x444692(0x54f)](_0x1e52c2,_0x4ea411){const _0x31ea42=a0_0x444692;return await this[_0x31ea42(0x1a5)]['waInstances'][_0x1e52c2[_0x31ea42(0x2dc)]]['deleteFlow'](_0x4ea411['name']);}async[a0_0x444692(0x544)](_0x35db84){const _0x742dd=a0_0x444692;return await this[_0x742dd(0x1a5)][_0x742dd(0x21c)][_0x35db84[_0x742dd(0x2dc)]][_0x742dd(0x544)]();}},Jt=class{constructor(_0x3879b1){const _0x4a3d06=a0_0x444692;this[_0x4a3d06(0x31c)]=_0x3879b1;}async[a0_0x444692(0x5c9)](_0x38ff7d,_0x315f74){const _0x219c28=a0_0x444692;return this[_0x219c28(0x31c)][_0x219c28(0x2c0)](_0x38ff7d,_0x315f74);}async[a0_0x444692(0x22c)](_0x203834){const _0x4a99aa=a0_0x444692;return this[_0x4a99aa(0x31c)]['find'](_0x203834);}},Wt=class{constructor(_0x2579fd,_0x45f149,_0x57bc13,_0x3fe873,_0x1fe054,_0x42ed73,_0x1217b2){const _0x41c39d=a0_0x444692;this[_0x41c39d(0x2d3)]=_0x2579fd,this[_0x41c39d(0x446)]=_0x45f149,this['contact']=_0x57bc13,this[_0x41c39d(0x61c)]=_0x3fe873,this['webhook']=_0x1fe054,this[_0x41c39d(0x34e)]=_0x42ed73,this[_0x41c39d(0x4f5)]=_0x1217b2;}get['dbServer'](){const _0x2b96b2=a0_0x444692;return this[_0x2b96b2(0x4f5)];}},Ts=require('mongoose'),Cs=class{},pi=new Ts['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x444692(0x41f),'web',a0_0x444692(0x20a)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ho=R?.[a0_0x444692(0x156)](Cs[a0_0x444692(0x33d)],pi,a0_0x444692(0x263)),vs=class{},mi=new Ts[(a0_0x444692(0x202))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),fo=R?.[a0_0x444692(0x156)](vs[a0_0x444692(0x33d)],mi,a0_0x444692(0x61c)),wo=require('mongoose'),Rs=class{},gi=new wo[(a0_0x444692(0x202))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),yo=R?.['model'](Rs[a0_0x444692(0x33d)],gi,a0_0x444692(0x1f0)),bo=require(a0_0x444692(0x16c)),Ms=class{},So=new bo[(a0_0x444692(0x202))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});So['pre']('save',function(_0x54ee82){const _0x3eb764=a0_0x444692;delete this['flowActive'],delete this[_0x3eb764(0x15e)],delete this[_0x3eb764(0x2ed)],delete this[_0x3eb764(0x34a)],delete this[_0x3eb764(0x152)],_0x54ee82();});var Eo=R?.['model'](Ms[a0_0x444692(0x33d)],So,a0_0x444692(0x681)),As=require('path'),No=require('fs'),Ht=class extends j{constructor(_0x48681c,_0x4585bd){const _0x3c7d7c=a0_0x444692;super(_0x4585bd),this['webhookModel']=_0x48681c,this[_0x3c7d7c(0x56e)]=_0x4585bd;}async[a0_0x444692(0x2c0)](_0x4f118e,_0x3cab95){const _0x1dab16=a0_0x444692;try{return this[_0x1dab16(0x28c)][_0x1dab16(0xe3)]?{'insertCount':(await this[_0x1dab16(0x283)][_0x1dab16(0x4f2)]({'_id':_0x3cab95},{..._0x4f118e},{'upsert':!0x0}))['modifiedCount']}:(this[_0x1dab16(0x219)]({'path':(0x0,As[_0x1dab16(0x546)])(this[_0x1dab16(0x30b)],_0x1dab16(0x681)),'fileName':_0x3cab95,'data':_0x4f118e}),{'insertCount':0x1});}catch(_0xfa1a5d){return _0xfa1a5d;}}async['find'](_0xb02307){const _0x1eea91=a0_0x444692;try{return this[_0x1eea91(0x28c)][_0x1eea91(0xe3)]?await this[_0x1eea91(0x283)][_0x1eea91(0x2d7)]({'_id':_0xb02307}):JSON['parse']((0x0,No[_0x1eea91(0x480)])((0x0,As['join'])(this[_0x1eea91(0x30b)],_0x1eea91(0x681),_0xb02307+_0x1eea91(0x3b7)),{'encoding':_0x1eea91(0x30e)}));}catch{return{};}}},Is=require(a0_0x444692(0x51a)),Co=require('fs'),Kt=class extends j{constructor(_0x5d9a03,_0x5ab209){const _0x771c72=a0_0x444692;super(_0x5ab209),this['authModel']=_0x5d9a03,this[_0x771c72(0x56e)]=_0x5ab209,this['auth']=_0x5ab209[_0x771c72(0x589)](_0x771c72(0x4ff));}async[a0_0x444692(0x2c0)](_0x33ad25,_0x573896){const _0x34968a=a0_0x444692;try{return this[_0x34968a(0x28c)][_0x34968a(0xe3)]?{'insertCount':(await this[_0x34968a(0x3cc)][_0x34968a(0x4f2)]({'_id':_0x573896},{..._0x33ad25},{'upsert':!0x0}))[_0x34968a(0x5b9)]}:(this[_0x34968a(0x219)]({'path':(0x0,Is[_0x34968a(0x546)])(Qt,this[_0x34968a(0x34e)][_0x34968a(0x669)]),'fileName':_0x573896,'data':_0x33ad25}),{'insertCount':0x1});}catch(_0x3bca5c){return{'error':_0x3bca5c};}}async[a0_0x444692(0x235)](_0x216ad7){const _0x52870f=a0_0x444692;try{return this[_0x52870f(0x28c)][_0x52870f(0xe3)]?await this[_0x52870f(0x3cc)][_0x52870f(0x2d7)]({'_id':_0x216ad7}):JSON[_0x52870f(0x3fc)]((0x0,Co[_0x52870f(0x480)])((0x0,Is[_0x52870f(0x546)])(Qt,this[_0x52870f(0x34e)]['TYPE'],_0x216ad7+_0x52870f(0x3b7)),{'encoding':_0x52870f(0x30e)}));}catch{return{};}}},hi=new v(a0_0x444692(0x595)),fi=new je(ho,y),wi=new Lt(I,y),yi=new Ze(Fe,y),bi=new st(fo,y),Si=new Ht(Eo,y),Ei=new Kt(yo,y),ue=new Wt(fi,wi,yi,bi,Si,Ei,R?.[a0_0x444692(0x3e4)]()),B=new kt(es,y,ue),Ni=new gt(y,B,ue),Ci=new Gt(B),fs=new Jt(Ci),M=new qt(B),ne=new Vt(B,y,ue,es,Ni),Qa=new Ft(B,y),W=new jt(B),O=new Ut(B),U=new Bt(B);hi[a0_0x444692(0x5e0)](a0_0x444692(0x349));var up=require('express-async-errors'),Ds=require('fs'),vo=T(require(a0_0x444692(0x144))),To=T(require('http')),$e=class l{static #e;static set[a0_0x444692(0x5a6)](_0xeee357){this.#e=_0xeee357;}static get['https'](){const _0x2625d0=a0_0x444692;let {FULLCHAIN:_0x1ab1b0,PRIVKEY:_0x37471c}=y[_0x2625d0(0x589)](_0x2625d0(0x173));return vo[_0x2625d0(0x394)]({'cert':(0x0,Ds['readFileSync'])(_0x1ab1b0),'key':(0x0,Ds['readFileSync'])(_0x37471c)},l.#e);}static get[a0_0x444692(0x2f8)](){const _0x90bb63=a0_0x444692;return To[_0x90bb63(0x394)](l.#e);}},ke=T(require('fs')),Oo=T(require(a0_0x444692(0x1c0))),Le=T(require('axios')),zt=T(require('path')),_o=require(a0_0x444692(0x445)),$s=require(a0_0x444692(0x445));function vi(){const _0x7c8e4c=a0_0x444692;B[_0x7c8e4c(0x23a)]();let _0x11af66=zt[_0x7c8e4c(0x331)]['join'](__dirname,_0x7c8e4c(0x107));Po(_0x11af66);}var Po=_0x71da9d=>{const _0x422a43=a0_0x444692;let _0x333948=ke[_0x422a43(0x331)]['readdirSync'](_0x71da9d),_0x162106=0xc*0x3c*0x3c*0x3e8,_0x2acbdd=0x2*0x3c*0x3c*0x3e8,_0x577199=new Date()['getTime']();_0x333948[_0x422a43(0x58d)](_0x3d4e65=>{const _0x1a7022=_0x422a43;let _0x347457=zt[_0x1a7022(0x331)][_0x1a7022(0x546)](_0x71da9d,_0x3d4e65),_0x50b1e9=ke[_0x1a7022(0x331)][_0x1a7022(0x397)](_0x347457)[_0x1a7022(0x332)]['getTime']();_0x577199-_0x50b1e9>_0x162106&&(ke[_0x1a7022(0x331)][_0x1a7022(0x25c)](_0x347457),console[_0x1a7022(0xea)](_0x1a7022(0x12c)+_0x3d4e65));}),setTimeout(()=>Po(_0x71da9d),_0x2acbdd);};function Ti(){const _0x2f92f6=a0_0x444692;let _0x143901=new v(_0x2f92f6(0x2b6)),_0xdfe282=(0x0,me[_0x2f92f6(0x331)])();_0xdfe282[_0x2f92f6(0xf8)]((0x0,Do[_0x2f92f6(0x331)])({'origin'(_0x4975c5,_0x40898e){const _0x361ce9=_0x2f92f6;let {ORIGIN:_0x41f1c0}=y[_0x361ce9(0x589)](_0x361ce9(0x10e));return _0x4975c5||(_0x4975c5='*'),_0x41f1c0[_0x361ce9(0x3c4)]('*')!==-0x1||_0x41f1c0[_0x361ce9(0x3c4)](_0x4975c5)!==-0x1?_0x40898e(null,!0x0):_0x40898e(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...y[_0x2f92f6(0x589)](_0x2f92f6(0x10e))['METHODS']],'credentials':y[_0x2f92f6(0x589)](_0x2f92f6(0x10e))['CREDENTIALS']}),(0x0,me[_0x2f92f6(0x2cc)])({'extended':!0x0,'limit':_0x2f92f6(0x43d)}),(0x0,me[_0x2f92f6(0x5c3)])({'limit':_0x2f92f6(0x43d)})),_0xdfe282[_0x2f92f6(0xf8)]((_0xcf26b2,_0x4e43d3,_0x291a8c)=>{const _0x4b760c=_0x2f92f6;_0xcf26b2[_0x4b760c(0x51a)][_0x4b760c(0x40e)](_0x4b760c(0x13d))?_0x291a8c():(0x0,Io[_0x4b760c(0x331)])()(_0xcf26b2,_0x4e43d3,_0x291a8c);}),_0xdfe282[_0x2f92f6(0x277)](_0x2f92f6(0x463),'hbs'),_0xdfe282[_0x2f92f6(0x277)](_0x2f92f6(0x26b),(0x0,Os['join'])(z,_0x2f92f6(0x26b))),_0xdfe282['use'](me['default'][_0x2f92f6(0x121)]((0x0,Os[_0x2f92f6(0x546)])(z,'public'))),_0xdfe282[_0x2f92f6(0xf8)]((_0xa783cc,_0x1e9a9b,_0x2ec68d)=>{const _0x468827=_0x2f92f6;let _0x16373c=_0x1e9a9b[_0x468827(0x29c)];_0x1e9a9b[_0x468827(0x29c)]=function(_0x2193de){const _0x1e1835=_0x468827;if(_0xa783cc[_0x1e1835(0x472)]['convert']==='true'||_0xa783cc[_0x1e1835(0x4b1)][_0x1e1835(0x244)]==='true'){let _0x5c4c6d=JSON[_0x1e1835(0x3fc)](_0x2193de);_0x2193de=JSON['stringify'](_0x4b452f(_0x5c4c6d));}return _0x16373c['apply'](_0x1e9a9b,[_0x2193de]);},_0x2ec68d();}),_0xdfe282['use']('/',Pt),_0xdfe282[_0x2f92f6(0xf8)]((_0x44460a,_0x95a263,_0x43a711,_0x16e45f)=>{const _0x2539e9=_0x2f92f6;if(_0x44460a)return _0x43a711[_0x2539e9(0x475)](_0x44460a['status']||0x1f4)[_0x2539e9(0x5c3)](_0x44460a);},(_0x30ed67,_0x2aa4d7,_0x1a5535)=>{const _0x20b223=_0x2f92f6;let {method:_0x49fea4,url:_0x380107}=_0x30ed67;_0x2aa4d7['status'](0x194)[_0x20b223(0x5c3)]({'status':0x194,'message':_0x20b223(0x297)+_0x49fea4[_0x20b223(0x172)]()+'\x20'+_0x380107,'error':'Not\x20Found'}),_0x1a5535();});let _0x4b452f=(_0x1210a7,_0xe9c8da='_p_')=>{const _0x163e7d=_0x2f92f6;let _0x12d13c=(_0x22347c,_0xe427bd=null,_0x31b238=!0x1)=>{const _0x2c9f63=a0_0x3772;let _0x58d05d={};return Object[_0x2c9f63(0x182)](_0x22347c)['forEach'](_0x296290=>{const _0x8367d0=_0x2c9f63;let _0x43ab24=_0x22347c[_0x296290],_0x193a07=''+_0xe9c8da+_0x296290;_0xe427bd&&!_0x31b238&&(_0x193a07=_0xe427bd+'.'+_0x296290),!_0x43ab24&&_0x43ab24!==0x0&&_0x43ab24!==!0x1||typeof _0x43ab24>'u'?_0x58d05d[_0x193a07]=null:typeof _0x43ab24!=_0x8367d0(0x66b)&&!Array[_0x8367d0(0x3d1)](_0x43ab24)?_0x58d05d[_0x193a07]=_0x43ab24:typeof _0x43ab24==_0x8367d0(0x66b)&&!Array[_0x8367d0(0x3d1)](_0x43ab24)?_0x58d05d=Object[_0x8367d0(0x136)](_0x58d05d,_0x12d13c(_0x43ab24,_0x193a07)):Array['isArray'](_0x43ab24)&&(typeof _0x43ab24[0x0]==_0x8367d0(0x66b)?(_0x58d05d[_0x193a07]=[],_0x43ab24[_0x8367d0(0x58d)](_0x652cd1=>{const _0x1cf5c7=_0x8367d0;_0x58d05d[_0x193a07][_0x1cf5c7(0x370)](_0x12d13c(_0x652cd1,_0x193a07,!0x0));})):_0x58d05d[_0x193a07]=_0x43ab24);}),_0x58d05d;};return Array['isArray'](_0x1210a7)?_0x1210a7[_0x163e7d(0x328)](_0x500fd8=>_0x12d13c(_0x500fd8)):typeof _0x1210a7==_0x163e7d(0x66b)&&_0x1210a7!==null?_0x12d13c(_0x1210a7):{};},_0x566d96=y[_0x2f92f6(0x589)](_0x2f92f6(0x2b6));$e[_0x2f92f6(0x5a6)]=_0xdfe282;let _0x4b0a15=$e[_0x566d96[_0x2f92f6(0x669)]],_0x29f239='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x4b0a15[_0x2f92f6(0x115)](_0x566d96['PORT'],()=>{const _0x329c94=_0x2f92f6;_0x143901[_0x329c94(0xea)](_0x29f239),_0x143901[_0x329c94(0xea)](_0x566d96[_0x329c94(0x669)][_0x329c94(0x172)]()+_0x329c94(0x36f)+_0x566d96[_0x329c94(0x250)]);}),vi(),Ws();}function _s(_0x34a90a,_0x202e18){return new Promise(_0x31b782=>{const _0x53e569=a0_0x3772;(0x0,_o[_0x53e569(0xe1)])(_0x34a90a+'\x20'+_0x202e18,_0x17d5d7=>{_0x31b782(!_0x17d5d7);});});}function Ro(_0x395a1a,_0x16b369,_0x5adec3){return new Promise(_0x15e988=>{const _0x4e4a03=a0_0x3772;_s(_0x395a1a,_0x5adec3)[_0x4e4a03(0x65e)](_0x26541c=>{const _0x3cf429=_0x4e4a03;if(_0x26541c)_0x15e988(!0x0);else{let [_0x539d3c,..._0x56ddb3]=_0x16b369[_0x3cf429(0x1b4)]('\x20'),_0x1e8fbc=(0x0,$s[_0x3cf429(0x30a)])(_0x539d3c,_0x56ddb3,{'shell':!0x0});_0x1e8fbc[_0x3cf429(0x48a)]['on']('data',_0x4f8235=>{const _0x58bcef=_0x3cf429;console['log'](_0x395a1a+_0x58bcef(0x395)+_0x4f8235);}),_0x1e8fbc[_0x3cf429(0x4e8)]['on'](_0x3cf429(0x63a),_0x4cdd9b=>{const _0x40ecff=_0x3cf429;console[_0x40ecff(0x307)](_0x395a1a+_0x40ecff(0x646)+_0x4cdd9b);}),_0x1e8fbc['on'](_0x3cf429(0x231),_0x8f3aad=>{const _0x167646=_0x3cf429;_0x8f3aad!==0x0?(console[_0x167646(0x307)]('Erro\x20ao\x20instalar\x20'+_0x395a1a+_0x167646(0x4d3)+_0x8f3aad),_0x15e988(!0x1)):_0x15e988(!0x0);});}});});}var Ri=a0_0x444692(0x608),Mi=zt[a0_0x444692(0x331)][a0_0x444692(0x546)](__dirname,'./.git/config'),Ce=null;function Ai(){return new Promise((_0x5ecdae,_0x4a5d1a)=>{const _0x419e44=a0_0x3772;ke['default'][_0x419e44(0x565)](Mi,_0x419e44(0x30e),(_0x387dab,_0x136dcd)=>{const _0x39b1b2=_0x419e44;if(_0x387dab){Ce=_0x387dab,_0x5ecdae();return;}Oo['default']['parse'](_0x136dcd)[_0x39b1b2(0x3b8)]['url']===Ri?(Ce=null,_0x5ecdae()):(Ce=new Error(_0x39b1b2(0x465)),_0x5ecdae());});});}async function Ii(){const _0x4a6310=a0_0x444692;try{await Ai(),await xs();}catch(_0xfc5526){console['error'](_0x4a6310(0x30f)+_0xfc5526),process[_0x4a6310(0x231)](0x1);}}Ii();async function xo(){const _0x34c470=a0_0x444692;let _0x2532b0;try{_0x2532b0=(await Le[_0x34c470(0x331)]['get'](_0x34c470(0x37b)))[_0x34c470(0x63a)]['ip'];}catch(_0x5ec38e){console['error'](_0x5ec38e);try{_0x2532b0=(await Le[_0x34c470(0x331)]['get']('https://api.ipify.org?format=json'))[_0x34c470(0x63a)]['ip'];}catch(_0x51b0cc){console[_0x34c470(0x307)](_0x51b0cc);try{_0x2532b0=(await Le['default']['get'](_0x34c470(0x169)))[_0x34c470(0x63a)][_0x34c470(0x257)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3a8378){return console[_0x34c470(0x307)](_0x3a8378),!0x1;}}}return _0x2532b0;}async function Di(){const _0x24faf7=a0_0x444692;Ce||(await Ro(_0x24faf7(0x28f),_0x24faf7(0x4a2),'--version'),await Ro(_0x24faf7(0x1e7),'sudo\x20apt\x20install\x20-y\x20ffmpeg','-version'));}var Mo=0x0;function a0_0x2242(){const _0x5c43d6=['EXPIRIN_IN','stickerMessage','jsonschema','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','AutomateSystem','chatLog','hSet','):\x20Chat\x20atualizado\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','app','trim','readMessages','):\x20leadInfoVariables','pollUpdateMessage','fullName','buttonId','delInstanceTime','sendButtons','Read\x20messages\x20fail','):\x20Buscando\x20conversas...','getScheduleMessage','replyOptions','rowId','Falha\x20ao\x20deletar\x20mensagens\x20updates:','documentWithCaptionMessage','\x20messages.','):\x20conversation.lastInteraction:\x20','participants','modifiedCount','DARK','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','request\x20received\x20in\x20deleteDoneMessages','waitingPoll_name','getMinutes','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','stopMinutesMaxActives','delaySecMax','json','release','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','created','findStatusMessage','Router','createWebhook','textMessage','AUTHENTICATION_JWT_SECRET','fetchInstances','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Conversa\x20deletada\x20com\x20sucesso.','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Not\x20Found','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','isURL','SERVER_ACK','upperCase','role','editflowvaredit','writeData','all','):\x20Error\x20processing\x20conditions:\x20','contactModel','less','SERVER_PORT','restart','findGroupInfos','info','CONECTADO\x20À\x20UAZAPI','deleteConversation','title','\x22\x20-\x20REMOVED','contentText','Início','unreadCount','lastSendMessage','request\x20received\x20in\x20createFlow','process','presence.update','owner','Message','request\x20received\x20in\x20scheduleMessage','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','isConnected','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','\x1b[41m','error\x20get\x20vote','Deletion\x20failed','evaluateCondition','The\x20global\x20api\x20key\x20must\x20be\x20set','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','oldValue','MESSAGES_UPSERT','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','editflowcondition','inner','STORE_CLEANING_TERMINAL','router','scheduleSendAudio','connecting','close','responsavelid','DATABASE_CONNECTION_USER','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','sendPoll','maxActives','https://github.com/uazapi/uazapi.git','fetchChats','Background\x20color\x20is\x20required','request\x20received\x20in\x20deleteConversation','findByIdAndUpdate','GLOBAL','BufferJSON','poll','DATABASE_ENABLED','No\x20participants','app-state-sync-key','ex:\x20\x22groupJid=120362@g.us\x22','phoneNumber','Business\x20profile\x20fetched','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','src','messageModel','isJWT','variable','editFlowVaredit','messageUpdate','@whiskeysockets/baileys','):\x20newFirstValue\x20após\x20replaceVariables:','scheduleSendMedia','isDirectory','getMIMEType','WEBHOOK','editFlowReply','format','client','desc','instances','11nxSeoi','last','AppStateSyncKeyData','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','sendStatus','Error\x20update\x20group\x20picture','status.instance','):\x20Flow\x20não\x20encontrado','Erro\x20ao\x20obter\x20o\x20nome\x20do\x20contato:\x20','):\x20this.processingScheduleMessageId:\x20','\x1b[34m','fromObject','lastInteraction','\x20messages.update.','24jPGnrQ','CONTACTS_SET','.TEL;waid=','WEBHOOK_EVENTS_MESSAGES_UPDATE','data','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','restrict','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','createConversationforgoToFlow','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','env.KEY\x20!==\x20key','truncatedto','originalUrl','-version','errno','\x20is\x20already\x20in\x20use.','\x20install\x20error:\x20','):\x20expirationTime:\x20','whatsappNumbers','KEY','Error\x20updating\x20profile\x20name','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','WEBHOOK_EVENTS_QRCODE_UPDATED','replaceValue','fluent-ffmpeg','createConversationforStartFlow','arraybuffer','\x0a*Você\x20respondeu*:\x0a','\x20saindo\x20da\x20função','writeFileSync','lastSend','entries','_error','):\x20Deletando\x20mensagem','stopConversation','delaySecMin','Read\x20messages','unavailable','):\x20customFieldVariables','_id','then','Instance\x20Key\x20from\x20DB:','findParticipants','.sendDataWebhook-local','fetchBusinessProfile','CONFIG_SESSION_PHONE_CLIENT','findConversation','sendAudio','blockId','replace','success','TYPE','updateProfileName','object','bearer','pollCreationMessageKey','stream','}}\x20->\x20valor\x20não\x20encontrado','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','qrcode-terminal','CORS_CREDENTIALS','pollMessageOnDelete','conversation','express','contact_blacklist','.sendDataWebhook-global','):\x20Entrou\x20na\x20função\x20goToFlow','privacySettings','inviteCode','random','SECRET','getAutomateSystem','g.us','AutomateSystem\x20não\x20foi\x20inicializado','CONTACTS_UPDATE','webhook','end','buttonsMessage','removeData','Unauthorized','unhandledRejection','createGroup','USER','groupValidate','reconnectTimestamps','dbInstance','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','stack','\x1b[42m','WEBHOOK_EVENTS_GROUPS_UPDATE','connectionUpdate','fetchProfile','exec','interval\x20não\x20é\x20um\x20número','ENABLED','extractRegex','g-t','logout','delete','connectionStatus','replaceVariablesInObject','log','update','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','Unknown\x20message\x20type\x20encountered','SERVER_TYPE','ogg','quotedMessage','Button\x20IDs\x20cannot\x20be\x20repeated.','documentMessage','createFlow','metadata','statusMessage','mkdirSync','use','mongodb','messages.update','Número:\x20','convertaudio','DATABASE_CONNECTION_HOST','address','getVariablesChat','Db\x20Connection','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','saveTextReply','Error\x20updating\x20participants','stopped','updatePrivacySettings','375685BInAbU','downloads','groupLeave','redirect','Variável\x20não\x20encontrada!','groupSetting','Não\x20respondeu\x20com\x20a\x20enquete.','Profile\x20not\x20found','CORS','Getting\x20profile\x20with\x20jid:\x20','getflow','rm\x20-rf\x20','groupId','Getting\x20profile\x20info','variablesNotFound','listen','contactsArrayMessage','):\x20Enviando\x20localização','updateChatWithMessage','mongodb://','WEBHOOK_EVENTS_CHATS_DELETE','charAt','):\x20Going\x20to\x20','flow','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','redis','):\x20Editando\x20bloco...','static','not_announcement','updateFlowConfig','):\x20Query\x20params:','mentioned','isLong','start','delay','groups','send.message','updateProfileStatus','Deleted\x20','Readable','.\x20Pulando.','editFlowBlock','cors','@s.whatsapp.net','WEBHOOK_MAP','Flow\x20não\x20encontrado','logger','fetchContacts','assign','getStatus','editflowgroup','pollOnReplyDelete','Not\x20is\x20business\x20profile','messageUpModel','\x20chats\x20de\x20','/events','enabled','CONTACTS_UPSERT','selectedOptions',',\x20saindo.','vote','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','https','leaveGroup','pollErrorMessage','size','replaceVariablesChat','SEND_MESSAGE','filter','audioChannels',',\x20Segundo\x20Valor:\x20','pushName','events','updateBlock','processgoToFlow','.refreshToken','flowStopMinutes','sendMessage','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','valid','model','nome','../env.yml','groups.update','Authentication\x20error','joinGroupValidate','backgroundColor','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','flowIgnoreGroups','base64','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','WEBHOOK_EVENTS_MESSAGES_SET','call','\x20contacts','next_groupId','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','DOCKER_ENV','):\x20Limpando\x20AutomateSystem','):\x20Procurando\x20conversa','http://checkip.dyndns.org','flowConversation','readData','mongoose','console','\x22,\x20valor\x20a\x20substituir:\x20\x22','deleteReplyOption','saveVariable','toLowerCase','toUpperCase','SSL_CONF','/wa-connection-update','fetchProfilePicture','editedMessage','No\x20invite\x20code','sendLocation','quoted','\x1b[0m','mediaSticker','\x20foram\x20adicionados\x20\x22contactname\x22\x20','Error\x20fetching\x20group','request\x20received\x20in\x20starFlow','/wa-message-update','PHONE','Trying\x20to\x20get\x20business\x20profile','keys','/refreshToken','del','hex','cleaningUp','chats.upsert','Error\x20updating\x20message\x20status:','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','group-participants.update','pt-BR','sending','Flow\x20iniciado\x20com\x20','envYaml','status@broadcast','store','condition','variablesToObject','from','processConditions','WEBHOOK_EVENTS_CHATS_UPDATE','class-validator','):\x20Conversa\x20inserida\x20com\x20sucesso.','out','GROUP_PARTICIPANTS_UPDATE','contact','):\x20Não\x20achou\x20nenhum\x20flow','defineAuthState','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','sendList','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','/wa-message','request\x20received\x20in\x20editFlowcondition','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','flattenObject','request\x20received\x20in\x20getConversation','waMonitor','audioWhatsapp','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','}}\x20->\x20\x22','\x22\x20not\x20found','padEnd','nextBlock:','editFlowGroup','last_update','linkPreview','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','isInteger','uazapiSendMedia','\x1b[31m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','split','\x20minutos\x20verificará\x20novas\x20mensagens','floor','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','instance.','messaging-history.set','findIndex','axios','Contacts\x20not\x20found','\x20minutos','Erro\x20ao\x20encerrar\x20a\x20API','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','ini','qrcode','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','creds','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','post','Mensagem\x20não\x20suportada','TRIAL_INSTANCE_NAME','reaction','has','lastBlockId','hasOwnProperty','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','expression','audioFrequency','statusCode','deleteMessage','sendContact','messages.set','\x1b[40m','pino','now','lastmsg','replaceVariablesInReplyOptions','):\x20Ler\x20mensagem','saveAPI','):\x20Buscando\x20flow...','NEW_JWT_TOKEN','):\x20Erro\x20ao\x20criar\x20fluxo\x20','request\x20received\x20in\x20editFlow','checkAndUpdateChats','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','chatHandle','remoteJids','eventHandler','substring','repository','remove','collections','ffmpeg','#000000','loggedOut','/chat','poll_id','authState','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','FULLCHAIN','URL','authentication','Imagem\x20não\x20encontrada','order','chats.set','length','true','CONNECTION','local_map','buttonText','remove.instance','38464rivPzx','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','removed','Instance\x20\x22','upsertChats','fetchMessages','groupUpdateSubject','redisCache','Schema','REDIS_ENABLED','Instância\x20não\x20encontrada.','readMessage','notEqual','deleteOne','Erro\x20ao\x20atualizar\x20conversa:\x20','30QfevMp','ios','chatModify','compression','sections','leadInfo','Error\x20change\x20group\x20setting','/wa-chats','stopIfLastReturnedError','toDataURL','sendPresenceUpdate','userDevicesCache','presenceSubscribe','Group\x20not\x20found','CLEANING_INTERVAL','express-async-errors','writeStore','MESSAGES_SET','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','waInstances','prepareMediaMessage','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','9890900zgFnnJ','EMAIL:','):\x20Conversa\x20está\x20expirada','PENDING','updateConversation','creation','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','locked','findChats','PROD','saveConversationToDatabase','varedit','findWebhook','stream-buffers','editFlow','lastCondition','REDIS_URI','exit','\x0aFN:','chats.update','add','find','audio/ogg;\x20codecs=opus','Creating\x20media\x20folder...','):\x20Error\x20processing\x20the\x20block:\x20','markMessageAsRead','loadInstance','):\x20Visualizando\x20AutomateSystem','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','eventEmitter','Error\x20updating\x20profile\x20status','editScheduleMessage','):\x20Criando\x20nova\x20conversa','*Pergunta*:\x20\x0a','optionDescription','TRIAL_AD','uazapi','performBulkUpdate','waMonit','1296029aUJGQk','response','paused','updateMessage','sendReaction','setHeader','LOG_LEVEL','DisconnectReason','updateGroupsAddPrivacy','PORT','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','authService','DATABASE','Parando\x20aplicação,\x20atualização\x20recebida','latitude','):\x20Editando\x20condição\x20do\x20fluxo...','match','editFlowVariable','):\x20isVote','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Revoke\x20error','unlinkSync','3808rFGoFi','PRESENCE_UPDATE','contactMessage','):\x20Deletando\x20conversa...','parseInt','redisEnv','messages','replacer','Connection','website','*\x0a\x0a','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','buttonMessage','mediatype','views','.X-ABLabel:Celular\x0a','saveMediaToFile',',\x20valor\x20passado:\x20\x22','libvorbis','ip:\x20',',\x20lastCondition:\x20','options','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','):\x20conversation.waitingPollname','-instances','DB_PREFIX_NAME','set','remoteJid','!cmd_','request\x20received\x20in\x20fetchConversation','headerString','Parando\x20aplicação...','):\x20lastBlockId:\x20','displayName','updateProfilePicturePrivacy','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','hostname','hGet','webhookModel','RECONNECT_TIME_FRAME','body','node-cache','):\x20tem\x20blocks','writeFile','uazapiSendLocation','Content\x20is\x20required','ignoreGroups','dbSettings','Atualização:\x20','Error\x20updating\x20privacy\x20settings','redis-server','audioMessage','firstValue','Instance\x20deleted','):\x20Mensagem\x20já\x20enviada\x20para\x20','groupHandler','shift','font','Cannot\x20','sort','errors','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','fileName','send','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','creds.json','archive','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','leadInfo.','-whatsapp-api','authorization','opendirSync','):\x20Editando\x20grupo\x20do\x20fluxo...','updateCustomFields','no-cache','prefixCommand','Message\x20not\x20found','tokenId','envProcess','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','email','\x20inseridos\x20no\x20banco\x20de\x20dados...','The\x20\x22','padStart','findById','getPrototypeOf','error_log','restartInstance','SERVER','getTime','load','Invalid\x20format','Erro:','listMessage','fetchConversation','pollCreationMessageV2','SUCCESS','):\x20Iniciando\x20bot...','create','getProfileName','isJidGroup','uazapiSendPoll','Error\x20removing\x20profile\x20picture','groupToggleEphemeral','mediaKey','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','cpf','groupMetadata','\x1b[32m%s\x1b[0m','waUploadToServer','urlencoded','saveCreds','API\x20Key\x20inválida.','mimetype','newName','PASSWORD','Erro\x20na\x20migração:','message','findOneAndUpdate','delInstanceFiles','sem\x20texto\x20na\x20mensagem','findOne','REDIS','subject','WEBHOOK_EVENTS_CONNECTION_UPDATE','block','instanceName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','agents','scheduled','\x20\x1b[0m','Bad\x20Request','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','test','__esModule','removeProfilePicture','write','conversationTimestamp','):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...','endsWith','blockLogs','media','findAndReplace','flowPrefixCommand','):\x20não\x20encontrou','sendSticker','protocolMessage','CLIENT','header','.mp3','utf8','jwt','ephemeralMessage','state','http','getConversation','closed','MESSAGES_UPDATE','FlowController','\x20inseridas\x20no\x20banco\x20de\x20dados...','type','existsSync','Sistema\x20atualizado\x20com\x20sucesso!','messageContextInfo','isRunning','SERVER_OFFLINE','fetchProfilePictureUrl','\x20não\x20encontrado\x20para\x20atualização.','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','error','?authSource=admin&readPreference=primary&directConnection=true','variables','spawn','storePath','API_KEY','promote','utf-8','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','pollCreationMessage','scheduleMessages','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','delayMessage','Types','isFile',',\x20resultado:\x20','some','max','PLAYED','request\x20body:\x20','\x20mensagens\x20de\x20','webhookService','fileLength','request\x20received\x20in\x20updateCustomFields','deletedCount','):\x20Entrou\x20na\x20função\x20saveReply','blocks','processblock','announce','WEBHOOK_EVENTS_NEW_JWT_TOKEN','lastMessage','repeat','createClient','map','put','numbers','Erro\x20ao\x20editar\x20agentes:\x20','connectionClosed','dropCollection','stopMinutes','):\x20Ignoring\x20group\x20messages.','createConnection','default','birthtime','loadEnv','$set','toggleEphemeral','VERBOSE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','pollCreationMessageV3','messageHandle','Erro\x20inesperado\x20em\x20processvaredits:\x20','Missing\x20global\x20api\x20key','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','name','groupName','isBooleanString','addReplyOption','ButtonsMessage','output','stringify','Bloco\x20com\x20ID\x20','\x1b[1m\x1b[37m','desativadoFluxoAte','contacts.upsert','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Module\x20-\x20ON','flowStopConversation','-ar','\x20}\x0a','Subscribed\x20Events:','auth','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20Conversas\x20encontradas:','):\x20teve\x20mudanças\x20chat.name:\x20','ON\x20-\x20dbName:\x20','apirequest','toArray','#ffffff','TEXT','footerText','processUazapi','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','\x20horas\x20e\x20','Internal\x20Server\x20Error','user','convertedOptions','open','getOwnPropertyDescriptor','removeInstance','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','deleteBlock','toLocaleString','DATABASE_CONNECTION_PASSWORD','Variáveis\x20não\x20encontradas:','chats','message-up','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','updateReplyOption','Error\x20writing\x20file:','text','URI','\x20-\x20ON:\x20','push','PREFIX_KEY','request\x20received\x20in\x20updateFlowConfig','bodyString','Font\x20is\x20required','fone','updateOne','updateGParticipate','/wa-contacts','STORE_CONTACTS','revokeInviteCode','https://jsonip.com','notas','CHATS_UPDATE','\x5cd+','groupAcceptInvite','debug','connectionState','dayjs','emit','STATUS_INSTANCE','sign','request\x20received\x20in\x20allFlows','scheduleMessage','toBRL','decryptPollVote','):\x20Deletando\x20fluxo...','Log\x20out\x20instance:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','downloadMediaMessage','EVENTS','findGroupInfo','announcement','\x0a{\x20instance:\x20','waitingPoll_id','createServer','\x20install\x20output:\x20','archiveChat','statSync','PRODUCTION','jsonwebtoken','/wa-groups','AUTOUPDATE','?timestamp=','code','Erro\x20de\x20atualização:\x20','deleteInstance','rmSync','Erro\x20ao\x20buscar\x20conversa:\x20','\x1b[32m','waitingPoll_replyOptions','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','GROUPS_UPDATE','@redis/client','groupDesc','sendWhatsAppAudio','Desconectado,\x20parando\x20execução.','Instance\x20logged\x20out','scheduleSendText','getFlow','evaluateConditionTest','reorderBlocks','equal','):\x20Enviando\x20enquete','HeaderType','dbServer','getContentType','js-yaml','findGroups','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','.json','remote\x20\x22origin\x22','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','new.jwt','MAX_RECONNECT_ATTEMPTS','not\x20loaded','replyOption','8830890belTEq','16YTXNOg','Invalid\x20output','processvaredits','archived','empty','indexOf','):\x20','trimmed','QRCODE','long','Method\x20not\x20implemented.','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','96jLFNwl','authModel','createInstance','flushHeaders','uazapiSendContact','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','isArray','groupCreate','NODE_ENV','startFlow','cleanStore','errorLog','matchRegex','limit','\x20minutos.\x20Será\x20às\x20','joinGroup','leadInfo.customFields','truncatedtoEnd','profilePictureUrl',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','licenca','/:instanceName',',\x20qrcodeCount:\x20','notMatchRegex','onTime','getClient','messagesSend','allContacts','Instance\x20restarted','\x1b[31m%s\x1b[0m','WEBHOOK_GLOBAL_URL','WEBHOOK_EVENTS_MESSAGES_UPSERT','url','audio','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','getDelay','Erro\x20ao\x20aplicar\x20varedit:\x20','getRandomText','11325834RNbJup','group','LIMIT','):\x20teve\x20mudanças\x20chat.displayName:\x20','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','viewOnceMessageV2','\x1b[1m','groupRevokeInvite','execSync','StartBot','SSL_CONF_FULLCHAIN','parse','getBusinessProfile','everyOne','updateReadReceiptsPrivacy','match_last_seen','getTicketSystem','apiName','oldToken','Comando\x20desconhecido','videoMessage','The\x20instance\x20is\x20already\x20connected','/create','jid','nomecompleto','DELIVERY_ACK','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','@g.us','image','startsWith','CORS_ORIGIN','):\x20Erro\x20ao\x20editar\x20agentes:\x20','video','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','\x1b[33m','toString','contactname','reference','realVariables','updateMany','replaceVariables','noVideo','groupParticipantsUpdate','84vwmIxP','connectToWhatsapp','Valor\x20de\x20find\x20ou\x20replace\x20ausente','android','reviver','INFO','processPollUpdateMessage','sendCommand','presence','selectableCount','API\x20Key\x20from\x20Request:','where','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Edit\x20schedule\x20message...','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','creds.update','fetchStatusMessage','Erro\x20ao\x20atualizar\x20os\x20detalhes\x20do\x20perfil:','request\x20received\x20in\x20getFlow','conditions','STORE_CHATS','document','values','dataValidate','verifiedName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','qrcode.updated','AutomateFunctions','organization','/instance/create','findAndReplaceRegex','\x20instance\x20does\x20not\x20exist','Original\x20filename:','50mb',',\x20Minutes\x20to\x20Close:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','getDevice','profilePicture','editConversation','sendMedia','content','child_process','chat','):\x20debug\x20alterando\x20this.AutomateSystem','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','no.connection','verbose','number','\x22\x20cannot\x20be\x20empty','):\x20Enviando\x20áudio','updateGroupPicture','instanceKeys','8080','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','OrAnd','\x1b[30m%s\x1b[0m','locationMessage','integer','editChat','collection','unreadcount','updateGParticipant','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','createJid','DEBUG','resetReconnectionVariables','normalizeMessage','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','exists','):\x20teve\x20mudanças\x20chat.archived:\x20','view\x20engine','):\x20Editando\x20variável\x20do\x20fluxo...','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','moreLogs','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','):\x20Buscando\x20todos\x20os\x20fluxos...','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):\x20delete\x20=\x20true','Invalid\x20\x22oldToken\x22','prepareWAMessageMedia','profile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Error\x20updating\x20profile\x20picture','messageTimestamp','query','webhookMap','hGetAll','status','.josn','deleteDoneMessages','jpegThumbnail','apikey','routerPath','_doc','tags','editOperator','array','secondValue','readFileSync','):\x20Editando\x20replyOption...','\x20não\x20encontrado','setWebhook','senderKeyDistributionMessage','groupUpdateDescription','subjectOwner','stateConnection','messageSecret','--version','stdout','sendMessageWithTyping','finish','includes','DEL_INSTANCE','context','env','apiResponse','getMessage','!stop','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','syscall','messageId','buttons','option','lastReceivedMessage','bulkWrite','Erro\x20ao\x20buscar\x20conversas:\x20','setNewValue','notEmpty','isBase64','WARN','defineProperty','sudo\x20apt\x20install\x20-y\x20redis-server','processingScheduleMessageId','applyvaredit','QRCODE_UPDATED','mentions','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','CHATS_UPSERT','connection.update','Fetching\x20business\x20profile','readdirSync','Connection\x20closed\x20for\x20instance:\x20','statusJidList','longitude','addBlock','ERROR','headers','uncaughtException','groupInviteCode','initAuthCreds','hDel','DELETED','sha256','opus','greater','formatBRNumber','uazapiSendAudio','reconnectAttempts','generateHash','instance','ERROR:\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','key','caption','\x1b[37m',',\x20Expiration\x20Time:\x20','rows','):\x20Flow\x20desativado','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','):\x20Entrou\x20na\x20função\x20stop','Operador:\x20\x22','request\x20received\x20in\x20editFlowgroup','sendText','stoppedUntil','/instance/fetchInstances','localWebhook','):\x20Enviando\x20texto','none','/media/','/wa-presence','.\x20Código\x20de\x20saída\x20','refreshToken','chatModel','SendScheduleMessage','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','CORS_METHODS','Error\x20creating\x20group','pre','URL:','ReplyOption\x20com\x20ID\x20','scheduleNextCheck','bateu\x20events','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','isBusiness','toBrazilianNumberFormat','QRCODE_LIMIT','sendDataWebhook','connected','setting','stanzaId','stderr','Error\x20updating\x20setting','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','command','updateProfilePicture','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','useMultiFileAuthState','loadWebhook',',\x20Resultado:\x20','varedits','replaceOne','isJidUser','arrayUnique','dbClient','contacts.update','endSession','Flow\x20already\x20exists','messages.upsert','HH:mm:ss','expiration','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','findByIdAndDelete','throwAndLogError','AUTHENTICATION','notContains','):\x20Enviando\x20mídia','formatStatusMessage','slice','noConnection','function','Fluxos\x20não\x20estão\x20ativados','and','STORE','wuid','imageMessage','https://','Error\x20in\x20scheduleNextCheck:\x20','demote','catch','WEBHOOK_EVENTS_GROUPS_UPSERT','deleteMany','action','.jwt','sleep','readMessageBot','/webhook','^\x5cd+[\x5c.@\x5cw-]+','processApiRequest','imagechat','proto','path','whatsappNumber','insertMany','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','NextBlock','run','\x1b[47m','mediaMessage','groupadd','\x1b[30m','composing','GROUPS_UPSERT','WEBHOOK_EVENTS_CONTACTS_UPDATE','\x1b[46m','video-cover.png','description','groups.upsert','JWT','The\x20','when','readreceipts','https://uazapi-plugin.bubbleapps.io/','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','SSL_CONF_PRIVKEY','allflows','count','contacts','reactionMessage','boolean','newValue','END:VCARD','outputOptions','string','render','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','CHATS_DELETE','value','viewOnceMessage','groupJid','save','atendimentoAberto','createNewConversation','allFlows',',\x20Comparador:\x20','join','GUARD','connect','Full\x20file\x20path:','getAllData','insert','pollMessage','data:\x20','\x0aitem','deleteFlow','READ','CONFIG_SESSION_PHONE_NAME','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','updateAgent','Data\x20inválida\x20fornecida','msgRetryCounterCache','subjectTime','deleteflow','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','qrCode','lean','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','/instance','remoteJidsRemaining','getBase64FromMediaMessage','editflow','LOG','validate','findMessages','fetchAndUpdateProfileDetails','readFile','Instância:\x20','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','cwd','fromMe','uazapiSendText','minutesToClose','FlowRouter','ObjectId','configService','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20nextBlock.uazapi.name','participant','chats.delete','https://chat.whatsapp.com/','Error\x20converting\x20audio:\x20','segundos','contextInfo','instanceInfo','params','updateChat','The\x20property\x20cannot\x20be\x20empty','^\x5cd+([-]\x5cd+)*@g.us$','/automate','verify','WEBHOOK_EVENTS_CHATS_SET','@broadcast','flowConfig','datetime','Error\x20deleting\x20instance\x20from\x20memory.','goNextblock','AUTHENTICATION_API_KEY','WritableStreamBuffer','namespace','splice','fetchPrivacySettings','get','WEBHOOK_GLOBAL_ENABLED','customFields','Initial\x20__dirname:','forEach','):\x20Limpando\x20delayMessage','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','gifPlayback','Valor\x20inicial:\x20\x22','uuid','contactHandle','):\x20Comando\x20desconhecido:\x20','WA\x20MODULE','warn','/exit','audioCodec','CONNECTION_UPDATE','CHATS_SET','groupSettingUpdate','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','findGroup'];a0_0x2242=function(){return _0x5c43d6;};return a0_0x2242();}async function Pi(){const _0x542d15=a0_0x444692;Di();let _0x1dc460=await _s('redis-server',_0x542d15(0x489)),_0x12ff72=await _s(_0x542d15(0x1e7),_0x542d15(0x643)),_0x12fcf9=y[_0x542d15(0x589)](_0x542d15(0x2d8)),_0x2acfba=y[_0x542d15(0x589)](_0x542d15(0x39b)),_0x232a8d=y[_0x542d15(0x589)](_0x542d15(0x4ff))[_0x542d15(0x30c)][_0x542d15(0x649)],_0x1909ec=y[_0x542d15(0x589)](_0x542d15(0x173)),_0x47783c=await xo(),_0x528051=y[_0x542d15(0x589)](_0x542d15(0x2b6))[_0x542d15(0x250)],_0x535b71=y[_0x542d15(0x589)]('PHONE');try{let _0x5bdab2={'ip':_0x47783c||null,'redis_instalado':_0x1dc460||null,'ffmpeg_instalado':_0x12ff72||null,'redis_enable':_0x12fcf9?.[_0x542d15(0xe3)]||null,'autoupdate':_0x2acfba||null,'apikey':_0x232a8d||null,'ssl':_0x1909ec?.['PRIVKEY']||null,'lastupdate':$o||null,'port':_0x528051||null,'phone':_0x535b71||null,'gitInstallError':Ce?.[_0x542d15(0x2d3)]||null};console[_0x542d15(0xea)](_0x542d15(0x270),_0x5bdab2['ip']);for(let _0x32a20a in _0x5bdab2)_0x5bdab2['hasOwnProperty'](_0x32a20a)&&_0x32a20a!=='ip'&&(_0x5bdab2[_0x32a20a]=JSON[_0x542d15(0x343)](_0x5bdab2[_0x32a20a]));return(await Le[_0x542d15(0x331)][_0x542d15(0x1c5)](_0x542d15(0x46a),_0x5bdab2))[_0x542d15(0x63a)];}catch(_0x5f4201){return console[_0x542d15(0x307)](_0x5f4201),!0x1;}finally{}}var Ps=!0x1,$o=0x205,Oi=0x3,Ao=0x1b7740;async function xs(){const _0x463850=a0_0x444692;if(!await xo())return console[_0x463850(0x307)](_0x463850(0x273)),'NO_IP';let _0x27cdcf=await Pi();if(_0x27cdcf){if(_0x27cdcf[_0x463850(0x248)][_0x463850(0x3df)]===!0x0){let _0x34863f=y[_0x463850(0x589)]('AUTOUPDATE');Ce===null&&_0x34863f!=='false'&&_0x27cdcf[_0x463850(0x248)][_0x463850(0x1ad)]-$o>0x0&&await _i(),Ps||(Ps=!0x0,Ti());}else return console[_0x463850(0xea)](_0x463850(0x189)),Ps&&(console[_0x463850(0xea)](_0x463850(0x2a1)),process[_0x463850(0x231)]()),'LICENSE_INVALID';let _0x4c412a=0x24*0x3c*0x3c,_0x3afd7d=_0x27cdcf[_0x463850(0x248)][_0x463850(0x575)]>_0x4c412a?_0x4c412a:_0x27cdcf['response'][_0x463850(0x575)],_0x1af2e2=Number(_0x3afd7d);if(isNaN(_0x1af2e2)){console['error'](_0x463850(0xe2));return;}let _0x3c914d=Math[_0x463850(0x1b6)](_0x1af2e2/0xe10),_0x126c0d=Math[_0x463850(0x1b6)](_0x1af2e2%0xe10/0x3c),_0x3f5f60=new Date(Date[_0x463850(0x1d5)]()+_0x1af2e2*0x3e8);setTimeout(xs,_0x1af2e2*0x3e8);let _0x64f623=_0x1af8a8=>_0x1af8a8['toString']()[_0x463850(0x2b1)](0x2,'0'),_0x14009d='Próxima\x20verificação\x20em\x20'+_0x64f623(_0x3c914d)+_0x463850(0x35c)+_0x64f623(_0x126c0d)+_0x463850(0x3d9)+_0x64f623(_0x3f5f60['getHours']())+':'+_0x64f623(_0x3f5f60[_0x463850(0x5be)]());console['log'](_0x14009d);}else{if(Mo++,Mo<Oi)console[_0x463850(0xea)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Ao/0xea60+'\x20minutos...'),setTimeout(xs,Ao);else return console['error'](_0x463850(0x3b6)),_0x463850(0x303);}}async function _i(){const _0x5ea1a4=a0_0x444692;console[_0x5ea1a4(0xea)](_0x5ea1a4(0x254));let _0x4d507b=(0x0,$s[_0x5ea1a4(0x30a)])(_0x5ea1a4(0xda),{'shell':!0x0});_0x4d507b['stdout']['on']('data',_0x29f00e=>{const _0x50f33a=_0x5ea1a4;console[_0x50f33a(0xea)](_0x50f33a(0x28d)+_0x29f00e);}),_0x4d507b['stderr']['on']('data',_0x40f752=>{const _0x1f7d98=_0x5ea1a4;console[_0x1f7d98(0x307)](_0x1f7d98(0x39e)+_0x40f752);}),_0x4d507b['on']('exit',_0x39d625=>{const _0x1e72ab=_0x5ea1a4;_0x39d625!==0x0?console['error'](_0x1e72ab(0x1df)+_0x39d625):console[_0x1e72ab(0xea)](_0x1e72ab(0x300)),console[_0x1e72ab(0xea)](_0x1e72ab(0x27c)),setTimeout(()=>process[_0x1e72ab(0x231)](),0x2710);});}