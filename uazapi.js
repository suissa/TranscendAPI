const a0_0x1e84a8=a0_0x3070;(function(_0x2c4f89,_0x972ee5){const _0x356de2=a0_0x3070,_0x21de63=_0x2c4f89();while(!![]){try{const _0x18da93=-parseInt(_0x356de2(0x351))/0x1+parseInt(_0x356de2(0x6dc))/0x2*(-parseInt(_0x356de2(0x193))/0x3)+-parseInt(_0x356de2(0x648))/0x4+parseInt(_0x356de2(0x4d6))/0x5*(-parseInt(_0x356de2(0x4a3))/0x6)+-parseInt(_0x356de2(0x6b3))/0x7*(-parseInt(_0x356de2(0x793))/0x8)+parseInt(_0x356de2(0x709))/0x9+parseInt(_0x356de2(0x83a))/0xa*(parseInt(_0x356de2(0x4ba))/0xb);if(_0x18da93===_0x972ee5)break;else _0x21de63['push'](_0x21de63['shift']());}catch(_0x3e9b0c){_0x21de63['push'](_0x21de63['shift']());}}}(a0_0x59d3,0x579d5));var Bi=Object[a0_0x1e84a8(0x277)],qe=Object[a0_0x1e84a8(0x45a)],Wi=Object[a0_0x1e84a8(0x12e)],zi=Object[a0_0x1e84a8(0x6ef)],Hi=Object['getPrototypeOf'],Ki=Object['prototype'][a0_0x1e84a8(0x827)],Qi=(_0x506a35,_0x5b1ec8)=>{for(var _0x46006e in _0x5b1ec8)qe(_0x506a35,_0x46006e,{'get':_0x5b1ec8[_0x46006e],'enumerable':!0x0});},Bs=(_0x34b498,_0x398fe3,_0xb48d37,_0x4c71d3)=>{const _0x26723a=a0_0x1e84a8;if(_0x398fe3&&typeof _0x398fe3=='object'||typeof _0x398fe3==_0x26723a(0x4b6)){for(let _0x1b9f52 of zi(_0x398fe3))!Ki['call'](_0x34b498,_0x1b9f52)&&_0x1b9f52!==_0xb48d37&&qe(_0x34b498,_0x1b9f52,{'get':()=>_0x398fe3[_0x1b9f52],'enumerable':!(_0x4c71d3=Wi(_0x398fe3,_0x1b9f52))||_0x4c71d3[_0x26723a(0x523)]});}return _0x34b498;},T=(_0x466bb5,_0x4fe6ca,_0x4ea857)=>(_0x4ea857=_0x466bb5!=null?Bi(Hi(_0x466bb5)):{},Bs(_0x4fe6ca||!_0x466bb5||!_0x466bb5[a0_0x1e84a8(0x226)]?qe(_0x4ea857,a0_0x1e84a8(0x50f),{'value':_0x466bb5,'enumerable':!0x0}):_0x4ea857,_0x466bb5)),Yi=_0x1389cb=>Bs(qe({},a0_0x1e84a8(0x226),{'value':!0x0}),_0x1389cb),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module[a0_0x1e84a8(0x669)]=Yi(hr);var Ui=T(require(a0_0x1e84a8(0x85c))),zs=require('fs'),Hs=require(a0_0x1e84a8(0x60a)),Ks=require(a0_0x1e84a8(0x5de)),Ve=require(a0_0x1e84a8(0x5de)),le=process[a0_0x1e84a8(0x719)](),Se=(0x0,Ve[a0_0x1e84a8(0x1db)])(le,a0_0x1e84a8(0x37b)),Ws=(0x0,Ve[a0_0x1e84a8(0x1db)])(le,'src'),gn=(0x0,Ve[a0_0x1e84a8(0x1db)])(le,'store',a0_0x1e84a8(0x396)),us=class{constructor(){const _0x5b5fe9=a0_0x1e84a8;this[_0x5b5fe9(0x391)]();}[a0_0x1e84a8(0x13e)](_0x4652fe){return this['env'][_0x4652fe];}[a0_0x1e84a8(0x391)](){const _0x231dc4=a0_0x1e84a8;this[_0x231dc4(0x867)]=process['env']?.['DOCKER_ENV']!==_0x231dc4(0x502)?this[_0x231dc4(0x67f)]():this[_0x231dc4(0x70d)](),process['env']?.[_0x231dc4(0x505)]==='true'&&(this[_0x231dc4(0x867)][_0x231dc4(0x24e)][_0x231dc4(0x7ef)]='http',this[_0x231dc4(0x867)][_0x231dc4(0x24e)]['PORT']=Number[_0x231dc4(0x77e)](process[_0x231dc4(0x867)]?.[_0x231dc4(0x501)]??_0x231dc4(0x235)));}['envYaml'](){const _0x45ba5f=a0_0x1e84a8;return(0x0,Hs[_0x45ba5f(0x812)])((0x0,zs[_0x45ba5f(0x633)])((0x0,Ks[_0x45ba5f(0x1db)])(Ws,'../env.yml'),{'encoding':_0x45ba5f(0x5fc)}));}[a0_0x1e84a8(0x70d)](){const _0x48cc95=a0_0x1e84a8;return{'SERVER':{'TYPE':process[_0x48cc95(0x867)][_0x48cc95(0x567)],'PORT':Number['parseInt'](process['env'][_0x48cc95(0x501)]),'URL':process[_0x48cc95(0x867)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x48cc95(0x867)][_0x48cc95(0x47b)][_0x48cc95(0x4c1)](','),'METHODS':process['env'][_0x48cc95(0x63e)][_0x48cc95(0x4c1)](','),'CREDENTIALS':process[_0x48cc95(0x867)]?.[_0x48cc95(0x2b2)]===_0x48cc95(0x502)},'SSL_CONF':{'PRIVKEY':process[_0x48cc95(0x867)]?.[_0x48cc95(0x356)],'FULLCHAIN':process[_0x48cc95(0x867)]?.[_0x48cc95(0x531)]},'STORE':{'CLEANING_INTERVAL':Number[_0x48cc95(0x79c)](process[_0x48cc95(0x867)]?.[_0x48cc95(0x7e1)])?Number[_0x48cc95(0x77e)](process['env'][_0x48cc95(0x7e1)]):void 0x0,'MESSAGES':process[_0x48cc95(0x867)]?.['STORE_MESSAGE']===_0x48cc95(0x502),'CONTACTS':process['env']?.['STORE_CONTACTS']==='true','CHATS':process[_0x48cc95(0x867)]?.[_0x48cc95(0x492)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x48cc95(0x867)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number['parseInt'](process['env']?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x48cc95(0x867)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x48cc95(0x867)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x48cc95(0x867)][_0x48cc95(0x21b)],'DB_PREFIX_NAME':process[_0x48cc95(0x867)][_0x48cc95(0x681)]},'ENABLED':process[_0x48cc95(0x867)]?.[_0x48cc95(0x2c9)]===_0x48cc95(0x502)},'REDIS':{'ENABLED':process[_0x48cc95(0x867)]?.[_0x48cc95(0x6c8)]===_0x48cc95(0x502),'URI':process[_0x48cc95(0x867)][_0x48cc95(0x7cc)]||_0x48cc95(0x838),'PREFIX_KEY':process[_0x48cc95(0x867)][_0x48cc95(0x1e4)]||'uazapi'},'LOG':{'LEVEL':process[_0x48cc95(0x867)]?.['LOG_LEVEL'][_0x48cc95(0x4c1)](','),'COLOR':process['env']?.['LOG_COLOR']===_0x48cc95(0x502)},'PROXY':process['env']?.[_0x48cc95(0x2eb)]===_0x48cc95(0x502),'AUTHENTICATION':{'TYPE':process[_0x48cc95(0x867)][_0x48cc95(0x1e1)],'API_KEY':{'KEY':process[_0x48cc95(0x867)][_0x48cc95(0x353)]},'JWT':{'EXPIRIN_IN':Number[_0x48cc95(0x79c)](process[_0x48cc95(0x867)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x48cc95(0x77e)](process['env'][_0x48cc95(0x774)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},S=new us(),ji=T(require(a0_0x1e84a8(0x42b))),ye=T(require('express')),qs=require(a0_0x1e84a8(0x5de)),ds=T(require('dayjs')),ps=(_0x6fe4ec=>(_0x6fe4ec[a0_0x1e84a8(0x5ad)]=a0_0x1e84a8(0x3db),_0x6fe4ec[a0_0x1e84a8(0x199)]='\x1b[34m',_0x6fe4ec[a0_0x1e84a8(0x30c)]=a0_0x1e84a8(0x383),_0x6fe4ec[a0_0x1e84a8(0x3ef)]=a0_0x1e84a8(0x479),_0x6fe4ec[a0_0x1e84a8(0x327)]='\x1b[36m',_0x6fe4ec[a0_0x1e84a8(0x843)]=a0_0x1e84a8(0x211),_0x6fe4ec[a0_0x1e84a8(0x4e5)]=a0_0x1e84a8(0x7be),_0x6fe4ec))(ps||{}),Qs=(_0x58a267=>(_0x58a267[a0_0x1e84a8(0x5ad)]=a0_0x1e84a8(0x60d),_0x58a267[a0_0x1e84a8(0x4e5)]='\x1b[30m%s\x1b[0m',_0x58a267['INFO']=a0_0x1e84a8(0x14e),_0x58a267[a0_0x1e84a8(0x30c)]=a0_0x1e84a8(0x2f8),_0x58a267[a0_0x1e84a8(0x3ef)]=a0_0x1e84a8(0x7f1),_0x58a267['DEBUG']=a0_0x1e84a8(0x1b3),_0x58a267[a0_0x1e84a8(0x843)]=a0_0x1e84a8(0x4d7),_0x58a267))(Qs||{}),Ys=(_0x40f598=>(_0x40f598[a0_0x1e84a8(0x5ad)]=a0_0x1e84a8(0x5ad),_0x40f598[a0_0x1e84a8(0x30c)]=a0_0x1e84a8(0x30c),_0x40f598[a0_0x1e84a8(0x199)]=a0_0x1e84a8(0x199),_0x40f598[a0_0x1e84a8(0x4e5)]=a0_0x1e84a8(0x4e5),_0x40f598['ERROR']=a0_0x1e84a8(0x3ef),_0x40f598[a0_0x1e84a8(0x327)]=a0_0x1e84a8(0x327),_0x40f598[a0_0x1e84a8(0x843)]='VERBOSE',_0x40f598))(Ys||{}),Xs=(_0x38aaec=>(_0x38aaec[a0_0x1e84a8(0x5ad)]='\x1b[42m',_0x38aaec[a0_0x1e84a8(0x199)]=a0_0x1e84a8(0x205),_0x38aaec[a0_0x1e84a8(0x30c)]=a0_0x1e84a8(0x621),_0x38aaec[a0_0x1e84a8(0x4e5)]=a0_0x1e84a8(0x5fe),_0x38aaec[a0_0x1e84a8(0x3ef)]=a0_0x1e84a8(0x586),_0x38aaec[a0_0x1e84a8(0x327)]=a0_0x1e84a8(0x1e7),_0x38aaec[a0_0x1e84a8(0x843)]=a0_0x1e84a8(0x858),_0x38aaec))(Xs||{}),$=class{constructor(_0x18a862='Logger'){const _0x4e5198=a0_0x1e84a8;this[_0x4e5198(0x529)]=_0x18a862,this[_0x4e5198(0x26f)]=S;}[a0_0x1e84a8(0x5c7)](_0x383f6a){const _0x203947=a0_0x1e84a8;this[_0x203947(0x529)]=_0x383f6a;}['console'](_0x2059d4,_0x4c2976){const _0x1ea718=a0_0x1e84a8;let _0x4f482b=[];this['configService'][_0x1ea718(0x13e)](_0x1ea718(0x5ad))[_0x1ea718(0x86a)][_0x1ea718(0x154)](_0x5c1427=>_0x4f482b['push'](Ys[_0x5c1427]));let _0x54958e=typeof _0x2059d4;_0x4f482b[_0x1ea718(0x371)](_0x4c2976)&&(S[_0x1ea718(0x13e)](_0x1ea718(0x5ad))[_0x1ea718(0x3af)]?(console[_0x1ea718(0x1bb)]('\x1b[1m'+Qs[_0x4c2976],_0x1ea718(0x6a9),(0x0,ds[_0x1ea718(0x50f)])()[_0x1ea718(0x300)](_0x1ea718(0x614)),_0x1ea718(0x458),ps[_0x4c2976]+Xs[_0x4c2976]+_0x1ea718(0x266),_0x4c2976+_0x1ea718(0x640),'\x1b[33m\x1b[1m',this[_0x1ea718(0x529)]+_0x1ea718(0x458),ps[_0x4c2976],_0x54958e!==_0x1ea718(0x526)?_0x2059d4:'',_0x1ea718(0x458)),_0x54958e===_0x1ea718(0x526)&&console[_0x1ea718(0x1bb)](_0x2059d4,'\x0a')):console['log']((0x0,ds[_0x1ea718(0x50f)])()[_0x1ea718(0x300)](_0x1ea718(0x46d)),_0x4c2976+'\x20',''+this[_0x1ea718(0x529)],_0x2059d4));}[a0_0x1e84a8(0x1bb)](_0x4e94c9){const _0x522ec8=a0_0x1e84a8;this['console'](_0x4e94c9,_0x522ec8(0x5ad));}[a0_0x1e84a8(0x7b6)](_0x27a972){const _0x4c3016=a0_0x1e84a8;this['console'](_0x27a972,_0x4c3016(0x199));}[a0_0x1e84a8(0x2e7)](_0x444fb0){const _0x29b088=a0_0x1e84a8;this[_0x29b088(0x74d)](_0x444fb0,_0x29b088(0x30c));}['error'](_0x5b2913){const _0x47407b=a0_0x1e84a8;this[_0x47407b(0x74d)](_0x5b2913,'ERROR');}[a0_0x1e84a8(0x7ba)](_0x3c8f90){const _0x5304ea=a0_0x1e84a8;this[_0x5304ea(0x74d)](_0x3c8f90,_0x5304ea(0x843));}[a0_0x1e84a8(0x65b)](_0x4aeca8){const _0x1e640a=a0_0x1e84a8;this[_0x1e640a(0x74d)](_0x4aeca8,_0x1e640a(0x327));}[a0_0x1e84a8(0x6e1)](_0x393138){const _0x6b29fd=a0_0x1e84a8;this[_0x6b29fd(0x74d)](_0x393138,_0x6b29fd(0x4e5));}};function Zs(){const _0x428aa1=a0_0x1e84a8;process['on'](_0x428aa1(0x1c6),(_0x68941a,_0x4b1161)=>{const _0x1576db=_0x428aa1;new $(_0x1576db(0x1c6))['error']({'origin':_0x4b1161,'stderr':process[_0x1576db(0x32d)]['fd'],'error':_0x68941a});}),process['on'](_0x428aa1(0x485),(_0x5128eb,_0x56dd72)=>{const _0x37be88=_0x428aa1;new $(_0x37be88(0x485))[_0x37be88(0x31d)]({'origin':_0x56dd72,'stderr':process['stderr']['fd'],'error':_0x5128eb});});}var ea=T(require('eventemitter2')),hs=new ea[(a0_0x1e84a8(0x50f))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x1e84a8(0x84a)),Ae=T(require('mongoose')),Ge=new $(a0_0x1e84a8(0x784)),L=S[a0_0x1e84a8(0x13e)]('DATABASE'),I=L[a0_0x1e84a8(0x7f4)]?L['CONNECTION']['URI']?Ae[a0_0x1e84a8(0x50f)][a0_0x1e84a8(0x855)](L[a0_0x1e84a8(0x13c)][a0_0x1e84a8(0x5fa)],{'dbName':L['CONNECTION']['DB_PREFIX_NAME']+a0_0x1e84a8(0x1d8)}):Ae[a0_0x1e84a8(0x50f)][a0_0x1e84a8(0x855)](a0_0x1e84a8(0x85f)+L[a0_0x1e84a8(0x13c)]['HOST']+':'+L['CONNECTION'][a0_0x1e84a8(0x499)]+a0_0x1e84a8(0x6b9),{'user':L[a0_0x1e84a8(0x13c)][a0_0x1e84a8(0x295)],'pass':L[a0_0x1e84a8(0x13c)][a0_0x1e84a8(0x685)],'dbName':L[a0_0x1e84a8(0x13c)][a0_0x1e84a8(0x714)]+a0_0x1e84a8(0x1d8)}):null;L['ENABLED']&&Ge[a0_0x1e84a8(0x7b6)]('ON\x20-\x20dbName:\x20'+I[a0_0x1e84a8(0x11a)]);var X=L[a0_0x1e84a8(0x7f4)]?L[a0_0x1e84a8(0x13c)][a0_0x1e84a8(0x5fa)]?Ae[a0_0x1e84a8(0x50f)]['createConnection'](L[a0_0x1e84a8(0x13c)][a0_0x1e84a8(0x5fa)],{'dbName':a0_0x1e84a8(0x5e4)}):Ae[a0_0x1e84a8(0x50f)][a0_0x1e84a8(0x855)](a0_0x1e84a8(0x85f)+L[a0_0x1e84a8(0x13c)]['HOST']+':'+L['CONNECTION'][a0_0x1e84a8(0x499)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x1e84a8(0x13c)]['USER'],'pass':L[a0_0x1e84a8(0x13c)][a0_0x1e84a8(0x685)],'dbName':a0_0x1e84a8(0x35c)}):null;X&&Ge[a0_0x1e84a8(0x7b6)](a0_0x1e84a8(0x835)+X[a0_0x1e84a8(0x11a)]),process['on'](a0_0x1e84a8(0x5b8),()=>{const _0x56fce2=a0_0x1e84a8;I&&I[_0x56fce2(0x6b0)](()=>{const _0x30ebd9=_0x56fce2;Ge[_0x30ebd9(0x7b6)]('Database\x20connection\x20closed.');}),X&&X[_0x56fce2(0x6b0)](()=>{const _0x580a4e=_0x56fce2;Ge['info'](_0x580a4e(0x309));});});var Xi=new Me[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me[(a0_0x1e84a8(0x56c))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x1e84a8(0x56c))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x49f706=>{const _0x135b26=a0_0x1e84a8;let _0x203a8d='z_'+_0x49f706+_0x135b26(0x167);return I?.[_0x135b26(0x560)]('ChatModel',so,_0x203a8d);},sa=require(a0_0x1e84a8(0x84a)),ao=new sa[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x1827de=>{const _0x1805e0=a0_0x1e84a8;let _0x5ab8aa='z_'+_0x1827de+'_Contacts';return I?.['model'](_0x1805e0(0x29f),ao,_0x5ab8aa);},ia=require(a0_0x1e84a8(0x84a)),gs=class{},io=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.['model'](gs[a0_0x1e84a8(0x2c3)],io,a0_0x1e84a8(0x5cc)),ra=require(a0_0x1e84a8(0x84a)),ms=class{},oo=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x1e84a8(0x560)](ms[a0_0x1e84a8(0x2c3)],oo,a0_0x1e84a8(0x37b)),ws=require(a0_0x1e84a8(0x84a)),fs=class{},ro=new ws[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.['model'](fs[a0_0x1e84a8(0x2c3)],no,a0_0x1e84a8(0x7af)),ca=_0x418be4=>{const _0x3b7827=a0_0x1e84a8;let _0x5ad613='z_'+_0x418be4+_0x3b7827(0x331);return I?.[_0x3b7827(0x560)](_0x3b7827(0x18a),ro,_0x5ad613);},la=require(a0_0x1e84a8(0x84a)),ys=class{},co=new la[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=I?.[a0_0x1e84a8(0x560)](ys[a0_0x1e84a8(0x2c3)],co,a0_0x1e84a8(0x341)),da=require(a0_0x1e84a8(0x84a)),bs=class{},pa=new da['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x1e84a8(0x82f)](a0_0x1e84a8(0x1f2),function(_0x3c54ba){const _0x5df575=a0_0x1e84a8;delete this['flowActive'],delete this[_0x5df575(0x233)],delete this[_0x5df575(0x73d)],delete this[_0x5df575(0x4a2)],delete this[_0x5df575(0x273)],_0x3c54ba();});var ha=I?.[a0_0x1e84a8(0x560)](bs[a0_0x1e84a8(0x2c3)],pa,a0_0x1e84a8(0x6f7)),P=require(a0_0x1e84a8(0x84a)),Ss=require(a0_0x1e84a8(0x445)),We=class{},Ms=class{},ma=new P[(a0_0x1e84a8(0x56c))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x1e84a8(0x56c))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new P[(a0_0x1e84a8(0x56c))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1e84a8(0x336)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1e84a8(0x4fe)},'pollErrorMessage':{'type':String,'default':a0_0x1e84a8(0x555)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x1e84a8(0x56c))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new P[(a0_0x1e84a8(0x56c))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new P[(a0_0x1e84a8(0x56c))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new P[(a0_0x1e84a8(0x56c))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x1e84a8(0x56c))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x1e84a8(0x56c))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0xd156d1=a0_0x1e84a8;return'!cmd_'+Math[_0xd156d1(0x69c)]()[_0xd156d1(0x71c)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x1e84a8(0x1c7)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x1e84a8(0x82f)](a0_0x1e84a8(0x198),function(_0xa8e480){const _0x5104c6=a0_0x1e84a8;let _0x50bf7e=this['getUpdate']();if(_0x50bf7e&&typeof _0x50bf7e==_0x5104c6(0x526)&&_0x5104c6(0x1d4)in _0x50bf7e){let _0x342430=_0x50bf7e[_0x5104c6(0x1d4)];if(_0x342430){let _0x3d7782=new Set(),_0x1faf96=new Set(_0x342430[_0x5104c6(0x316)]?.[_0x5104c6(0x7b9)](_0x4ed7d9=>_0x4ed7d9[_0x5104c6(0x2c3)])),_0x146ac2=JSON[_0x5104c6(0x732)](_0x342430),_0x5cde9d=/{{(?!_)([^}]*)}}/g,_0xf386b9;for(;(_0xf386b9=_0x5cde9d[_0x5104c6(0x56b)](_0x146ac2))!==null;)_0x1faf96[_0x5104c6(0x252)](_0xf386b9[0x1])||_0x3d7782[_0x5104c6(0x5f3)](_0xf386b9[0x1]);_0x3d7782[_0x5104c6(0x41a)]>0x0?(console[_0x5104c6(0x2e7)](_0x5104c6(0x64b),Array[_0x5104c6(0x83e)](_0x3d7782)),_0x342430[_0x5104c6(0x20d)]=Array[_0x5104c6(0x83e)](_0x3d7782)):_0x342430[_0x5104c6(0x20d)]=[],this[_0x5104c6(0x78b)]({'$set':_0x342430});}}_0xa8e480();});var Ce=I?.[a0_0x1e84a8(0x560)](Ms[a0_0x1e84a8(0x2c3)],ba,a0_0x1e84a8(0x61a)),go=new P[(a0_0x1e84a8(0x56c))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1e84a8(0x493)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1e84a8(0x4fe)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x329339=>{const _0x3cbd7f=a0_0x1e84a8;let _0x179770='z_'+_0x329339+_0x3cbd7f(0x14f);return I?.['model']('ConversationModel',mo,_0x179770);},fo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new P[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x1e84a8(0x627)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x34a589=>{const _0x4aa0ee=a0_0x1e84a8;let _0x235d48='z_'+_0x34a589+_0x4aa0ee(0x2a6);return I?.[_0x4aa0ee(0x560)](_0x4aa0ee(0x713),wo,_0x235d48);},Es=class{},yo=new P['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new P[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new P[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new P[(a0_0x1e84a8(0x56c))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x1e84a8(0x256)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new P[(a0_0x1e84a8(0x56c))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Ie=I?.[a0_0x1e84a8(0x560)](Es[a0_0x1e84a8(0x2c3)],Eo,a0_0x1e84a8(0x289)),Ca=require(a0_0x1e84a8(0x84a)),vo=new Ca[(a0_0x1e84a8(0x56c))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x2700e9=>{const _0x2f6f07=a0_0x1e84a8;let _0x44e6bf='z_'+_0x2700e9+_0x2f6f07(0x601);return I?.[_0x2f6f07(0x560)]('LabelModel',vo,_0x44e6bf);},_=class{constructor(_0x249273){const _0x320658=a0_0x1e84a8;this[_0x320658(0x436)]=_0x249273['get'](_0x320658(0x257));}};function A(_0x4bd30c){const _0x33a333=a0_0x1e84a8;let _0x2c8faa={};for(let [_0x511394,_0x4a73e8]of Object[_0x33a333(0x40e)](_0x4bd30c))if(typeof _0x4a73e8==_0x33a333(0x526)&&!Array[_0x33a333(0x663)](_0x4a73e8)){for(let [_0x24fc3b,_0x206648]of Object['entries'](_0x4a73e8))_0x2c8faa[_0x511394+'.'+_0x24fc3b]=_0x206648;}else _0x2c8faa[_0x511394]=_0x4a73e8;return _0x2c8faa;}var ze=class{constructor(_0x42252f,_0x9735b5,_0x2fffe9,_0x412f07,_0x3215a6,_0x20b062,_0x3c04f3,_0x514fcc,_0x566a02,_0xc8b1f1,_0x6b9c21,_0x2a6aef,_0xa583f4,_0x32abf8){const _0x440bfb=a0_0x1e84a8;this[_0x440bfb(0x4b3)]=_0x42252f,this['chat']=_0x9735b5,this['contact']=_0x2fffe9,this[_0x440bfb(0x1a1)]=_0x412f07,this[_0x440bfb(0x2df)]=_0x3215a6,this[_0x440bfb(0x6f7)]=_0x20b062,this[_0x440bfb(0x396)]=_0x3c04f3,this[_0x440bfb(0x1d9)]=_0x514fcc,this[_0x440bfb(0x71a)]=_0x566a02,this['flowConversation']=_0xc8b1f1,this['label']=_0x6b9c21,this['scheduleMessage']=_0x2a6aef,this[_0x440bfb(0x2d4)]=_0xa583f4,this[_0x440bfb(0x1f1)]=_0x32abf8;}get[a0_0x1e84a8(0x23f)](){const _0x4fc9a8=a0_0x1e84a8;return this[_0x4fc9a8(0x1f1)];}},He=class{},Ke=class extends _{[a0_0x1e84a8(0x574)](_0xb4ccfd){return ca(_0xb4ccfd);}async[a0_0x1e84a8(0x72d)](_0x34aa01,_0x3226bc){const _0x15828f=a0_0x1e84a8;if(_0x34aa01[_0x15828f(0x124)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x3226bc)[_0x15828f(0x4d9)]([..._0x34aa01]))[_0x15828f(0x124)]};}catch(_0x5b91cc){return _0x5b91cc;}}async[a0_0x1e84a8(0x6a6)](_0x5b3fc4,_0x257496){const _0x377958=a0_0x1e84a8;try{let _0x552609=this['getMessageModelForOwner'](_0x257496),_0x497ece=A(_0x5b3fc4[_0x377958(0x564)]);return await _0x552609['find'](_0x497ece)[_0x377958(0x652)]({'messageTimestamp':-0x1})['limit'](_0x5b3fc4?.[_0x377958(0x5e1)]??0x0)['lean']();}catch{return[];}}async[a0_0x1e84a8(0x185)](_0x5c8b55,_0x1cfe46){const _0x59cfd0=a0_0x1e84a8;try{let _0x898fee=this[_0x59cfd0(0x574)](_0x1cfe46),_0x23248f=A(_0x5c8b55[_0x59cfd0(0x564)]);await _0x898fee[_0x59cfd0(0x48d)](_0x23248f);}catch(_0xed7497){console[_0x59cfd0(0x31d)](_0xed7497);}}async['update'](_0x5aae03,_0x3cec7b,_0x47bb4d){const _0x4bf676=a0_0x1e84a8;try{let _0x135b0b=this[_0x4bf676(0x574)](_0x47bb4d),_0x333d99=A(_0x5aae03[_0x4bf676(0x564)]);return await _0x135b0b['findOneAndUpdate'](_0x333d99,{'$set':_0x3cec7b},{'new':!0x0});}catch(_0x202faf){throw console[_0x4bf676(0x31d)](_0x202faf),_0x202faf;}}async[a0_0x1e84a8(0x4d9)](_0x160fca,_0x505c61){const _0x1239e5=a0_0x1e84a8;if(_0x160fca[_0x1239e5(0x124)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1239e5(0x574)](_0x505c61)[_0x1239e5(0x4d9)]([..._0x160fca]))[_0x1239e5(0x124)]};}catch(_0x50bf79){return console['log']('ERROR:\x20',_0x50bf79),_0x50bf79;}}async[a0_0x1e84a8(0x568)](_0x389736){const _0xfcb4f8=a0_0x1e84a8;try{return await this[_0xfcb4f8(0x574)](_0x389736)['collection'][_0xfcb4f8(0x2bc)](),{'success':!0x0};}catch(_0xd9256){return console[_0xfcb4f8(0x31d)](_0xd9256),{'success':!0x1,'error':_0xd9256};}}},Ps=T(require('@ffmpeg-installer/ffmpeg')),w=T(require(a0_0x1e84a8(0x143))),Le=require('fs'),j=T(require(a0_0x1e84a8(0x5de))),Q=T(require(a0_0x1e84a8(0x4bc))),Ii=require('uuid'),Ti=T(require(a0_0x1e84a8(0x810))),_i=T(require(a0_0x1e84a8(0x4ae))),va=['imageMessage',a0_0x1e84a8(0x746),a0_0x1e84a8(0x2aa),a0_0x1e84a8(0x76c),a0_0x1e84a8(0x2f7)],Na=[a0_0x1e84a8(0x591),'documentWithCaptionMessage',a0_0x1e84a8(0x818),a0_0x1e84a8(0x1de)],Ds=require('os'),Ft=T(require(a0_0x1e84a8(0x47d))),Fe=require('child_process'),Oi=require('node-mime-types'),ge=T(require(a0_0x1e84a8(0x84a))),J=require(a0_0x1e84a8(0x705)),ue=class{constructor(_0x247c89,_0x449964,_0x1ae6f0){const _0x390bc1=a0_0x1e84a8;this[_0x390bc1(0x400)]=_0x247c89,this['exists']=_0x449964,this[_0x390bc1(0x2c3)]=_0x1ae6f0;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=T(require(a0_0x1e84a8(0x7e8))),$a=require('fs'),Ra=require(a0_0x1e84a8(0x5de));async function _e(_0x25c5ec){const _0x107beb=a0_0x1e84a8;let _0x495fe1=G[_0x107beb(0x83f)][_0x25c5ec];if(L[_0x107beb(0x7f4)]){let _0x501a36=I['getClient']()['db'](L['CONNECTION'][_0x107beb(0x714)]+_0x107beb(0x822))[_0x107beb(0x5f5)](_0x25c5ec);return _0x495fe1||(await _0x501a36[_0x107beb(0x6a6)]({})['toArray']())[_0x107beb(0x124)]>0x0;}return _0x495fe1||(0x0,$a['existsSync'])((0x0,Ra[_0x107beb(0x1db)])(Se,_0x25c5ec));}async function Aa(_0x5226bb,_0x5796dd,_0x5ad983){const _0x2f2591=a0_0x1e84a8;if(_0x5226bb[_0x2f2591(0x453)][_0x2f2591(0x371)](_0x2f2591(0x666))||_0x5226bb[_0x2f2591(0x453)][_0x2f2591(0x371)](_0x2f2591(0x6d2))||_0x5226bb[_0x2f2591(0x453)][_0x2f2591(0x371)](_0x2f2591(0x385))||_0x5226bb['originalUrl']['includes']('/config')||_0x5226bb[_0x2f2591(0x453)][_0x2f2591(0x371)](_0x2f2591(0x543))||_0x5226bb[_0x2f2591(0x453)][_0x2f2591(0x371)](_0x2f2591(0x39a))||_0x5226bb[_0x2f2591(0x453)][_0x2f2591(0x371)]('/instance/delete'))return _0x5ad983();let _0x3adc2e=_0x5226bb[_0x2f2591(0x442)];if(!_0x3adc2e?.[_0x2f2591(0x3a0)])throw new m(_0x2f2591(0x549));if(!await _e(_0x3adc2e[_0x2f2591(0x3a0)]))throw new U(_0x2f2591(0x3cc)+_0x3adc2e[_0x2f2591(0x3a0)]+_0x2f2591(0x347));_0x5ad983();}async function Ia(_0x56131d,_0x2ef9bb,_0x5e5e4c){const _0x3f428a=a0_0x1e84a8;if(_0x56131d['originalUrl'][_0x3f428a(0x371)]('/instance/create')){let _0x425f20=_0x56131d[_0x3f428a(0x620)];if(await _e(_0x425f20[_0x3f428a(0x3a0)]))throw new Z('This\x20name\x20'+_0x425f20[_0x3f428a(0x3a0)]+_0x3f428a(0x7b3));G[_0x3f428a(0x83f)][_0x425f20[_0x3f428a(0x3a0)]]&&delete G[_0x3f428a(0x83f)][_0x425f20['instanceName']];}_0x5e5e4c();}var Ta=require(a0_0x1e84a8(0x705)),_a=T(require(a0_0x1e84a8(0x32f))),it=a0_0x1e84a8(0x38f),$o=new $(a0_0x1e84a8(0x73f));async function Ro(_0x350991,_0x57b6de,_0x4b4300){const _0x351550=a0_0x1e84a8;let _0x33be79=_0x350991[_0x351550(0x13e)](_0x351550(0x74f));if(_0x33be79&&S['get']('AUTHENTICATION')[_0x351550(0x296)][_0x351550(0x62a)]!==_0x33be79)throw new ie();if(S[_0x351550(0x13e)]('AUTHENTICATION')[_0x351550(0x296)][_0x351550(0x62a)]===_0x33be79)return _0x4b4300();if((_0x350991['originalUrl'][_0x351550(0x371)](_0x351550(0x666))||_0x350991[_0x351550(0x453)][_0x351550(0x371)](_0x351550(0x6d2)))&&!_0x33be79)throw new Z(_0x351550(0x576),_0x351550(0x311));let _0x355328=S[_0x351550(0x13e)]('AUTHENTICATION')[_0x351550(0x642)];try{let [_0x4269a6,_0x36ad85]=_0x350991['get'](_0x351550(0x7f3))[_0x351550(0x4c1)]('\x20');if(_0x4269a6[_0x351550(0x77a)]()!=='bearer')throw new ie();if(!(0x0,Ta[_0x351550(0x337)])(_0x36ad85))throw new ie();let _0x5df203=_0x350991['params'],_0x415b6e=_a[_0x351550(0x50f)][_0x351550(0x702)](_0x36ad85,_0x355328[_0x351550(0x1f4)],{'ignoreExpiration':_0x355328[_0x351550(0x631)]===0x0});if(_0x5df203[_0x351550(0x3a0)]!==_0x415b6e[_0x351550(0x3a0)]||it!==_0x415b6e[_0x351550(0x41d)])throw new ie();return _0x4b4300();}catch(_0x141206){throw $o['error'](_0x141206),new ie();}}async function Ao(_0x4661c2,_0xc46dbf,_0x498159){const _0x110d1c=a0_0x1e84a8;let _0x4be59b=S[_0x110d1c(0x13e)](_0x110d1c(0x16b))[_0x110d1c(0x296)],_0x47f125=_0x4661c2['get'](_0x110d1c(0x74f));if(_0x4be59b[_0x110d1c(0x62a)]===_0x47f125)return _0x498159();if(_0x4661c2['originalUrl'][_0x110d1c(0x371)](_0x110d1c(0x666))){let _0x4f2aba=xa,_0x495943=_0x4661c2[_0x110d1c(0x620)][_0x110d1c(0x3a0)];if(_0x4f2aba&&_0x495943['toLowerCase']()[_0x110d1c(0x37e)](_0x4f2aba[_0x110d1c(0x77a)]()))return _0x498159();if(!_0x47f125)throw new Z(_0x110d1c(0x576),_0x110d1c(0x311));}if(_0x4661c2[_0x110d1c(0x453)][_0x110d1c(0x371)](_0x110d1c(0x6d2))&&!_0x47f125)throw new Z(_0x110d1c(0x576),_0x110d1c(0x311));if(_0x4661c2[_0x110d1c(0x453)][_0x110d1c(0x371)](_0x110d1c(0x385))&&!_0x47f125)throw new Z('Missing\x20global\x20api\x20key',_0x110d1c(0x311));if(_0x4661c2[_0x110d1c(0x453)][_0x110d1c(0x371)](_0x110d1c(0x75e))&&!_0x47f125)throw new Z(_0x110d1c(0x576),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x1a0580=_0x4661c2[_0x110d1c(0x442)],_0x18d07b=await fe[_0x110d1c(0x396)][_0x110d1c(0x6a6)](_0x1a0580[_0x110d1c(0x3a0)]);if(_0x18d07b&&_0x18d07b['apikey']===_0x47f125)return _0x498159();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require('express'),C=require('uuid'),E=(..._0x189b10)=>{const _0x59420f=a0_0x1e84a8;let _0x2401f9={};return _0x189b10[_0x59420f(0x154)](_0x64272e=>_0x2401f9[_0x64272e]={'minLength':0x1,'description':'The\x20\x22'+_0x64272e+_0x59420f(0x75a)}),{'if':{'propertyNames':{'enum':[..._0x189b10]}},'then':{'properties':_0x2401f9}};},N={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'instanceName':{'type':a0_0x1e84a8(0x190)}},...E(a0_0x1e84a8(0x3a0))},Rc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x3f7)],...E(a0_0x1e84a8(0x3f7))},Ac={'properties':{'key':{'type':a0_0x1e84a8(0x526),'properties':{'id':{'type':a0_0x1e84a8(0x190)},'remoteJid':{'type':a0_0x1e84a8(0x190)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x1e84a8(0x6aa),a0_0x1e84a8(0x3a6)],...E('id',a0_0x1e84a8(0x6aa))},'message':{'type':a0_0x1e84a8(0x526)}}},oe={'properties':{'delay':{'type':a0_0x1e84a8(0x59d),'description':a0_0x1e84a8(0x54a)},'presence':{'type':a0_0x1e84a8(0x190),'enum':['unavailable','available',a0_0x1e84a8(0x354),a0_0x1e84a8(0x81e),a0_0x1e84a8(0x59b)]}}},ee={'type':'string','description':a0_0x1e84a8(0x28b)},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':a0_0x1e84a8(0x526),'properties':{'text':{'type':a0_0x1e84a8(0x190)}},'required':['text'],...E(a0_0x1e84a8(0x5d1))}},'required':[a0_0x1e84a8(0x37d),a0_0x1e84a8(0x1ee)]},Da={'type':'string','pattern':a0_0x1e84a8(0x1f6),'description':a0_0x1e84a8(0x28b)},Ic={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...oe},'textMessage':{'type':a0_0x1e84a8(0x526),'properties':{'text':{'type':a0_0x1e84a8(0x190)}},'required':['text'],...E(a0_0x1e84a8(0x5d1))}},'required':[a0_0x1e84a8(0x37d),a0_0x1e84a8(0x1ee)]},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...Da},'options':{...oe},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x1e84a8(0x190),'enum':[a0_0x1e84a8(0x76b),a0_0x1e84a8(0x15b),'video',a0_0x1e84a8(0x6dd)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x1ac),a0_0x1e84a8(0x461)],...E('fileName',a0_0x1e84a8(0x1cc),'media')}},'required':[a0_0x1e84a8(0x5ef),'number']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x1e84a8(0x526),'properties':{'image':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x76b)],...E(a0_0x1e84a8(0x76b))}},'required':[a0_0x1e84a8(0x2f7),a0_0x1e84a8(0x1ee)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x1e84a8(0x190),'enum':[a0_0x1e84a8(0x5d1),a0_0x1e84a8(0x76b),a0_0x1e84a8(0x6dd),'video']},'content':{'type':a0_0x1e84a8(0x190)},'caption':{'type':a0_0x1e84a8(0x190)},'backgroundColor':{'type':a0_0x1e84a8(0x190)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1e84a8(0x194),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1e84a8(0x190),'pattern':a0_0x1e84a8(0x1c9),'description':a0_0x1e84a8(0x77f)}},'allContacts':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]}},'required':['type','content'],...E(a0_0x1e84a8(0x749),a0_0x1e84a8(0x471))}},'required':[a0_0x1e84a8(0x58c)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':[a0_0x1e84a8(0x76b),a0_0x1e84a8(0x15b),a0_0x1e84a8(0x2cd),a0_0x1e84a8(0x6dd)]},'media':{'type':a0_0x1e84a8(0x190)},'fileName':{'type':'string'},'caption':{'type':'string'}},'required':[a0_0x1e84a8(0x1ac),a0_0x1e84a8(0x461)],...E(a0_0x1e84a8(0x5a4),'caption','media')}},'required':[a0_0x1e84a8(0x5ef),'number']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':a0_0x1e84a8(0x526),'properties':{'audio':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x6dd)],...E(a0_0x1e84a8(0x6dd))}},'required':['audioMessage',a0_0x1e84a8(0x1ee)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'pollMessage':{'type':a0_0x1e84a8(0x526),'properties':{'name':{'type':a0_0x1e84a8(0x190)},'selectableCount':{'type':a0_0x1e84a8(0x1ee)},'values':{'type':a0_0x1e84a8(0x194),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1e84a8(0x2c3),a0_0x1e84a8(0x76f),a0_0x1e84a8(0x659)],...E(a0_0x1e84a8(0x2c3),a0_0x1e84a8(0x76f),'values')}},'required':['number','pollMessage']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'menuMessage':{'type':a0_0x1e84a8(0x526),'properties':{'text':{'type':a0_0x1e84a8(0x190)},'choices':{'type':a0_0x1e84a8(0x194),'uniqueItems':!0x0}},'required':['text',a0_0x1e84a8(0x785)],...E(a0_0x1e84a8(0x5d1),a0_0x1e84a8(0x785))}},'required':[a0_0x1e84a8(0x1ee),a0_0x1e84a8(0x320)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':a0_0x1e84a8(0x526),'properties':{'latitude':{'type':a0_0x1e84a8(0x1ee)},'longitude':{'type':a0_0x1e84a8(0x1ee)},'name':{'type':a0_0x1e84a8(0x190)},'address':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x5b1),a0_0x1e84a8(0x65f)],...E('name',a0_0x1e84a8(0x1fd))}},'required':[a0_0x1e84a8(0x1ee),a0_0x1e84a8(0x5e6)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':a0_0x1e84a8(0x526),'properties':{'title':{'type':a0_0x1e84a8(0x190)},'description':{'type':a0_0x1e84a8(0x190)},'footerText':{'type':a0_0x1e84a8(0x190)},'buttonText':{'type':a0_0x1e84a8(0x190)},'sections':{'type':a0_0x1e84a8(0x194),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1e84a8(0x526),'properties':{'title':{'type':a0_0x1e84a8(0x190)},'rows':{'type':a0_0x1e84a8(0x194),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x1e84a8(0x190)},'description':{'type':a0_0x1e84a8(0x190)},'rowId':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x49e),a0_0x1e84a8(0x3d9)],...E(a0_0x1e84a8(0x49e),a0_0x1e84a8(0x3d9))}}},'required':[a0_0x1e84a8(0x49e),'rows'],...E(a0_0x1e84a8(0x49e))}}},'required':[a0_0x1e84a8(0x49e),a0_0x1e84a8(0x4fc),a0_0x1e84a8(0x54b),a0_0x1e84a8(0x6ae)],...E(a0_0x1e84a8(0x49e),a0_0x1e84a8(0x4fc),'buttonText',a0_0x1e84a8(0x4eb))}},'required':[a0_0x1e84a8(0x1ee),a0_0x1e84a8(0x1bc)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':a0_0x1e84a8(0x194),'items':{'type':a0_0x1e84a8(0x526),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x1e84a8(0x190),'minLength':0xa}},'required':[a0_0x1e84a8(0x4e4),a0_0x1e84a8(0x1c5)],...E(a0_0x1e84a8(0x4e4))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1e84a8(0x1ee),a0_0x1e84a8(0x68e)]},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x1e84a8(0x526),'properties':{'key':{'type':a0_0x1e84a8(0x526),'properties':{'id':{'type':a0_0x1e84a8(0x190)},'remoteJid':{'type':a0_0x1e84a8(0x190)},'fromMe':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1e84a8(0x6aa),a0_0x1e84a8(0x3a6)],...E('id',a0_0x1e84a8(0x6aa))},'reaction':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x37f),a0_0x1e84a8(0x4b7)],...E('reaction')}},'required':[a0_0x1e84a8(0x3c1)]},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1e84a8(0x190),'pattern':a0_0x1e84a8(0x1c9),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x1e84a8(0x194),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1e84a8(0x190)},'fromMe':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id','fromMe',a0_0x1e84a8(0x6aa)],...E('id',a0_0x1e84a8(0x6aa))}}},'required':['readMessages']},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'privacySettings':{'type':a0_0x1e84a8(0x526),'properties':{'readreceipts':{'type':a0_0x1e84a8(0x190),'enum':['all',a0_0x1e84a8(0x14d)]},'profile':{'type':a0_0x1e84a8(0x190),'enum':[a0_0x1e84a8(0x279),'contacts',a0_0x1e84a8(0x13b),a0_0x1e84a8(0x14d)]},'status':{'type':'string','enum':['all',a0_0x1e84a8(0x6a3),a0_0x1e84a8(0x13b),'none']},'online':{'type':'string','enum':['all',a0_0x1e84a8(0x3ce)]},'last':{'type':'string','enum':[a0_0x1e84a8(0x279),a0_0x1e84a8(0x6a3),a0_0x1e84a8(0x13b),a0_0x1e84a8(0x14d)]},'groupadd':{'type':a0_0x1e84a8(0x190),'enum':['all',a0_0x1e84a8(0x6a3),a0_0x1e84a8(0x13b),a0_0x1e84a8(0x14d)]}},'required':[a0_0x1e84a8(0x6d9),'profile',a0_0x1e84a8(0x612),a0_0x1e84a8(0x693),'last',a0_0x1e84a8(0x3cb)],...E('readreceipts',a0_0x1e84a8(0x34c),a0_0x1e84a8(0x612),'online','last',a0_0x1e84a8(0x3cb))}},'required':[a0_0x1e84a8(0x163)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'lastMessage':{'type':a0_0x1e84a8(0x526),'properties':{'key':{'type':a0_0x1e84a8(0x526),'properties':{'id':{'type':a0_0x1e84a8(0x190)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x1e84a8(0x6aa)],...E('id',a0_0x1e84a8(0x6aa))},'messageTimestamp':{'type':a0_0x1e84a8(0x59d),'minLength':0x1}},'required':['key'],...E(a0_0x1e84a8(0x781))},'archive':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]}},'required':[a0_0x1e84a8(0x29b),a0_0x1e84a8(0x7f5)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1e84a8(0x190)},'participant':{'type':a0_0x1e84a8(0x190)}},'required':['id',a0_0x1e84a8(0x3a6),'remoteJid'],...E('id','remoteJid',a0_0x1e84a8(0x5ab))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1e84a8(0x190),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x1e84a8(0x190),'minLength':0x1}},...E(a0_0x1e84a8(0x3c4),'id',a0_0x1e84a8(0x2a7))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'name':{'type':a0_0x1e84a8(0x190)}},...E('name')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'status':{'type':a0_0x1e84a8(0x190)}},...E('status')},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{'type':a0_0x1e84a8(0x190)},'picture':{'type':'string'}}},ei={'type':'object','properties':{'wuid':{'type':a0_0x1e84a8(0x190)},'name':{'type':a0_0x1e84a8(0x190)},'picture':{'type':a0_0x1e84a8(0x190)},'status':{'type':a0_0x1e84a8(0x190)},'isBusiness':{'type':a0_0x1e84a8(0x6c5)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1e84a8(0x190),'minLength':0x1},'key':{'type':a0_0x1e84a8(0x526),'if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1e84a8(0x190),'minLength':0x1,'description':a0_0x1e84a8(0x4c6)},'id':{'type':'string','minLength':0x1,'description':a0_0x1e84a8(0x4c6)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1e84a8(0x526)}},...E('_id')},'limit':{'type':a0_0x1e84a8(0x59d)}}},_c={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x1e84a8(0x526),'properties':{'_id':{'type':a0_0x1e84a8(0x190)},'remoteJid':{'type':'string'},'id':{'type':a0_0x1e84a8(0x190)},'fromMe':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1e84a8(0x190)},'status':{'type':a0_0x1e84a8(0x190),'enum':['ERROR',a0_0x1e84a8(0x267),a0_0x1e84a8(0x741),a0_0x1e84a8(0x25c),a0_0x1e84a8(0x869),'PLAYED']}},...E(a0_0x1e84a8(0x3c4),a0_0x1e84a8(0x6aa),'id',a0_0x1e84a8(0x612))},'limit':{'type':a0_0x1e84a8(0x59d)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'number':{...ee},'presence':{'type':a0_0x1e84a8(0x190),'enum':[a0_0x1e84a8(0x117),a0_0x1e84a8(0x63b),a0_0x1e84a8(0x354),a0_0x1e84a8(0x81e),a0_0x1e84a8(0x59b)]}},'required':[a0_0x1e84a8(0x2c2),a0_0x1e84a8(0x1ee)]},ai={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x1e84a8(0x190)},'description':{'type':a0_0x1e84a8(0x190)},'profilePicture':{'type':a0_0x1e84a8(0x190)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1e84a8(0x190),'minLength':0xa,'pattern':a0_0x1e84a8(0x553),'description':a0_0x1e84a8(0x824)}}},'required':[a0_0x1e84a8(0x280),a0_0x1e84a8(0x813)],...E(a0_0x1e84a8(0x280),'description',a0_0x1e84a8(0x16f))},xe={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1e84a8(0x190),'pattern':a0_0x1e84a8(0x802)}},'required':[a0_0x1e84a8(0x6cd)],...E('groupJid')},ii={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'groupJid':{'type':a0_0x1e84a8(0x190)},'action':{'type':a0_0x1e84a8(0x190),'enum':['add','remove',a0_0x1e84a8(0x132),a0_0x1e84a8(0x358),'reject',a0_0x1e84a8(0x5f8)]},'participants':{'type':a0_0x1e84a8(0x194),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x1e84a8(0x553),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x1e84a8(0x6cd),'action',a0_0x1e84a8(0x813)],...E(a0_0x1e84a8(0x6cd),a0_0x1e84a8(0x31c))},oi={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1e84a8(0x190)},'expiration':{'type':a0_0x1e84a8(0x1ee),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x1e84a8(0x830)],...E(a0_0x1e84a8(0x6cd),a0_0x1e84a8(0x830))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'groupJid':{'type':a0_0x1e84a8(0x190)},'image':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x6cd),a0_0x1e84a8(0x76b)],...E(a0_0x1e84a8(0x6cd),'image')},ni={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'groupJid':{'type':a0_0x1e84a8(0x190)},'description':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x6cd),a0_0x1e84a8(0x4fc)],...E(a0_0x1e84a8(0x6cd),'description')},ci={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'groupJid':{'type':a0_0x1e84a8(0x190)},'name':{'type':a0_0x1e84a8(0x190)}},'required':[a0_0x1e84a8(0x6cd),'name'],...E(a0_0x1e84a8(0x6cd),a0_0x1e84a8(0x2c3))},li={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x1e84a8(0x2ea),a0_0x1e84a8(0x3c7),'unlocked',a0_0x1e84a8(0x527)]}},'required':[a0_0x1e84a8(0x6cd),a0_0x1e84a8(0x828)],...E(a0_0x1e84a8(0x6cd),a0_0x1e84a8(0x828))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'groupJid':{'type':a0_0x1e84a8(0x190)},'restrict':{'type':a0_0x1e84a8(0x6c5)},'announce':{'type':a0_0x1e84a8(0x6c5)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':a0_0x1e84a8(0x6c5)},'expiration':{'type':a0_0x1e84a8(0x59d),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x1e84a8(0x190)},'description':{'type':a0_0x1e84a8(0x190)},'image':{'type':'string'}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x1e84a8(0x67e)],...E('inviteCode')},di={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x1e84a8(0x190)},'enabled':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]}},'required':[a0_0x1e84a8(0x2a2),a0_0x1e84a8(0x388)]},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x1e84a8(0x526),'properties':{'local_map':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1e84a8(0x6c5),'enum':[!0x0,!0x1]}},'required':[a0_0x1e84a8(0x359),'STATUS_INSTANCE',a0_0x1e84a8(0x698),'MESSAGES_SET',a0_0x1e84a8(0x26c),a0_0x1e84a8(0x739),a0_0x1e84a8(0x271),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x1e84a8(0x3ad),a0_0x1e84a8(0x172),a0_0x1e84a8(0x3d4),a0_0x1e84a8(0x14c),'CHATS_UPDATE','CHATS_DELETE',a0_0x1e84a8(0x692),a0_0x1e84a8(0x865),a0_0x1e84a8(0x26a),a0_0x1e84a8(0x27e)],...E(a0_0x1e84a8(0x359),a0_0x1e84a8(0x1c3),'QRCODE_UPDATED',a0_0x1e84a8(0x294),'MESSAGES_UPDATE','MESSAGES_UPSERT','SEND_MESSAGE','CONTACTS_SET',a0_0x1e84a8(0x45f),a0_0x1e84a8(0x3ad),a0_0x1e84a8(0x172),a0_0x1e84a8(0x3d4),a0_0x1e84a8(0x14c),a0_0x1e84a8(0x299),a0_0x1e84a8(0x4f0),a0_0x1e84a8(0x692),'GROUPS_UPSERT',a0_0x1e84a8(0x26a),a0_0x1e84a8(0x27e))},ot=class{},rt=class extends _{[a0_0x1e84a8(0x382)](_0x59f499){return aa(_0x59f499);}async[a0_0x1e84a8(0x72d)](_0x22a774){const _0x16764d=a0_0x1e84a8;if(_0x22a774[_0x16764d(0x124)]!==0x0)try{return{'insertCount':(await this[_0x16764d(0x382)](_0x22a774[0x0][_0x16764d(0x325)])['insertMany']([..._0x22a774]))[_0x16764d(0x124)]};}catch(_0x218b11){return _0x218b11;}}async[a0_0x1e84a8(0x185)](_0x1ebd0c,_0x1a2a93){const _0xbc83eb=a0_0x1e84a8;try{return{'deletedCount':(await this[_0xbc83eb(0x382)](_0x1a2a93)[_0xbc83eb(0x48d)]({..._0x1ebd0c[_0xbc83eb(0x564)]}))[_0xbc83eb(0x25e)]};}catch(_0xf0ff99){return{'error':_0xf0ff99?.[_0xbc83eb(0x71c)]()};}}async[a0_0x1e84a8(0x32a)](_0x534e5e,_0x16650a){const _0x9edaf1=a0_0x1e84a8;try{if(_0x534e5e[_0x9edaf1(0x124)]===0x0)return;let _0x33757a=this['getContactModelForOwner'](_0x16650a),_0x52f372=_0x534e5e[_0x9edaf1(0x7b9)](_0x1bd770=>({'updateOne':{'filter':{'_id':_0x1bd770['_id'],'owner':_0x16650a},'update':{..._0x1bd770}}})),{modifiedCount:_0x2aece0}=await _0x33757a[_0x9edaf1(0x48b)](_0x52f372);return{'insertCount':_0x2aece0};}catch{return;}}async[a0_0x1e84a8(0x6a6)](_0x56d35d,_0x14994f){const _0x3467e8=a0_0x1e84a8;try{let _0x19a15c=this[_0x3467e8(0x382)](_0x14994f),_0x1d26fb=A(_0x56d35d[_0x3467e8(0x564)]);return await _0x19a15c[_0x3467e8(0x6a6)](_0x1d26fb)[_0x3467e8(0x5e1)](_0x56d35d?.[_0x3467e8(0x5e1)]??0x0)['lean']();}catch{return[];}}async[a0_0x1e84a8(0x688)](_0x9a7c80,_0x291e0a){const _0x373b81=a0_0x1e84a8;try{let _0x361fbf=this[_0x373b81(0x382)](_0x291e0a),_0x3bcb19=A(_0x9a7c80[_0x373b81(0x564)]);return await _0x361fbf['findOne'](_0x3bcb19)[_0x373b81(0x225)]();}catch{return null;}}async[a0_0x1e84a8(0x568)](_0x194e67){const _0x30054a=a0_0x1e84a8;try{return await this['getContactModelForOwner'](_0x194e67)[_0x30054a(0x5f5)][_0x30054a(0x2bc)](),{'success':!0x0};}catch(_0x137e7f){return console[_0x30054a(0x31d)](_0x137e7f),{'success':!0x1,'error':_0x137e7f};}}},nt=require(a0_0x1e84a8(0x82d)),Jc=require('express-async-errors'),$s=new $(a0_0x1e84a8(0x432)),V=class{['routerPath'](_0x450bbf,_0x2df160=!0x0){const _0x5918e7=a0_0x1e84a8;let _0x14806b='/'+_0x450bbf;return _0x2df160&&(_0x14806b+=_0x5918e7(0x649)),_0x14806b;}async['dataValidate'](_0x2aa0e1){const _0xc4caf4=a0_0x1e84a8;let {request:_0x37e504,schema:_0x57a492,ClassRef:_0x3eb646,execute:_0x3a7b4a}=_0x2aa0e1,_0x17940b=new _0x3eb646(),_0x116e92=_0x37e504['body'],_0x40798f=_0x37e504[_0xc4caf4(0x442)];_0x37e504?.['query']&&Object[_0xc4caf4(0x4f1)](_0x37e504[_0xc4caf4(0x5e7)])[_0xc4caf4(0x124)]>0x0&&Object['assign'](_0x40798f,_0x37e504['query']),_0x37e504[_0xc4caf4(0x453)]['includes'](_0xc4caf4(0x666))&&Object[_0xc4caf4(0x4e7)](_0x40798f,_0x116e92),Object[_0xc4caf4(0x4e7)](_0x17940b,_0x116e92);let _0x2d647d=_0x57a492?(0x0,nt[_0xc4caf4(0x40f)])(_0x17940b,_0x57a492):{'valid':!0x0,'errors':[]};if(!_0x2d647d[_0xc4caf4(0x57b)]){let _0x28a073=_0x2d647d[_0xc4caf4(0x74c)][_0xc4caf4(0x7b9)](({property:_0x5ad52c,stack:_0x12ad73,schema:_0x5b7efe})=>{const _0x30b250=_0xc4caf4;let _0x5219ae;return _0x5b7efe[_0x30b250(0x4fc)]?_0x5219ae=_0x5b7efe[_0x30b250(0x4fc)]:_0x5219ae=_0x12ad73[_0x30b250(0x122)](_0x30b250(0x668),''),{'property':_0x5ad52c[_0x30b250(0x122)](_0x30b250(0x668),''),'message':_0x5219ae};});throw $s[_0xc4caf4(0x31d)]([..._0x28a073]),new m(..._0x28a073);}return await _0x3a7b4a(_0x40798f,_0x17940b);}async[a0_0x1e84a8(0x731)](_0x460d8b){const _0x4b643f=a0_0x1e84a8;let {request:_0x2f0698,ClassRef:_0xa9355,schema:_0x251caf,execute:_0x34645c}=_0x460d8b,_0x1d0135=_0x2f0698[_0x4b643f(0x5e7)];if(!_0x1d0135?.[_0x4b643f(0x6cd)])throw new m(_0x4b643f(0x434),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x506648=_0x2f0698[_0x4b643f(0x442)],_0x55c83a=_0x2f0698[_0x4b643f(0x620)],_0x55a39a=new _0xa9355();Object['assign'](_0x55c83a,_0x1d0135),Object[_0x4b643f(0x4e7)](_0x55a39a,_0x55c83a);let _0x32b018=(0x0,nt[_0x4b643f(0x40f)])(_0x55a39a,_0x251caf);if(!_0x32b018[_0x4b643f(0x57b)]){let _0x2e8046=_0x32b018[_0x4b643f(0x74c)][_0x4b643f(0x7b9)](({property:_0x495dbe,stack:_0x3b0932,schema:_0x2756b9})=>{const _0x4f6ff4=_0x4b643f;let _0x5433bb;return _0x2756b9[_0x4f6ff4(0x4fc)]?_0x5433bb=_0x2756b9[_0x4f6ff4(0x4fc)]:_0x5433bb=_0x3b0932[_0x4f6ff4(0x122)]('instance.',''),{'property':_0x495dbe[_0x4f6ff4(0x122)]('instance.',''),'message':_0x5433bb};});throw $s[_0x4b643f(0x31d)]([..._0x2e8046]),new m(..._0x2e8046);}return await _0x34645c(_0x506648,_0x55a39a);}async[a0_0x1e84a8(0x7d9)](_0x2f7345){const _0x2b4363=a0_0x1e84a8;let {request:_0x1b9824,ClassRef:_0x4b93c3,schema:_0x2831d0,execute:_0x31c328}=_0x2f7345,_0x23b4c9=_0x1b9824['body'];if(!_0x23b4c9?.[_0x2b4363(0x67e)])throw new m(_0x2b4363(0x30b),_0x2b4363(0x6d1));let _0x25d351=_0x1b9824[_0x2b4363(0x442)],_0xaa399b=_0x1b9824[_0x2b4363(0x620)],_0xbda3b6=new _0x4b93c3();Object[_0x2b4363(0x4e7)](_0xaa399b,_0x23b4c9),Object[_0x2b4363(0x4e7)](_0xbda3b6,_0xaa399b);let _0x362835=(0x0,nt['validate'])(_0xbda3b6,_0x2831d0);if(!_0x362835[_0x2b4363(0x57b)]){let _0x41501a=_0x362835[_0x2b4363(0x74c)]['map'](({property:_0x199453,stack:_0x23040c,schema:_0x52933b})=>{const _0x54b21f=_0x2b4363;let _0x28e4d8;return _0x52933b['description']?_0x28e4d8=_0x52933b[_0x54b21f(0x4fc)]:_0x28e4d8=_0x23040c[_0x54b21f(0x122)](_0x54b21f(0x668),''),{'property':_0x199453['replace'](_0x54b21f(0x668),''),'message':_0x28e4d8};});throw $s[_0x2b4363(0x31d)]([..._0x41501a]),new m(..._0x41501a);}return await _0x31c328(_0x25d351,_0xbda3b6);}},M=class{},sl=new $(a0_0x1e84a8(0x2f3)),ct=class extends V{constructor(..._0x5868e8){const _0x29e2d0=a0_0x1e84a8;super(),this['router']=(0x0,pi[_0x29e2d0(0x10a)])(),this[_0x29e2d0(0x50b)]['post'](this[_0x29e2d0(0x423)](_0x29e2d0(0x30f)),..._0x5868e8,async(_0x1d05b4,_0x18c518)=>{const _0x5bdfab=_0x29e2d0;let _0x298499=await this[_0x5bdfab(0x7f6)]({'request':_0x1d05b4,'schema':si,'ClassRef':Qe,'execute':(_0x28a87b,_0x2e2515)=>D[_0x5bdfab(0x30f)](_0x28a87b,_0x2e2515)});return _0x18c518[_0x5bdfab(0x612)](0xc9)[_0x5bdfab(0x4f9)](_0x298499);})[_0x29e2d0(0x319)](this['routerPath'](_0x29e2d0(0x723)),..._0x5868e8,async(_0x557313,_0x320316)=>{const _0x1807b1=_0x29e2d0;let _0x36713f=await this['dataValidate']({'request':_0x557313,'schema':Wa,'ClassRef':Ye,'execute':(_0x490878,_0x33abc5)=>D[_0x1807b1(0x5d2)](_0x490878,_0x33abc5)});return _0x320316['status'](0xc9)['json'](_0x36713f);})['post'](this[_0x29e2d0(0x423)]('editChat'),..._0x5868e8,async(_0x1b1cb5,_0x1b60c3)=>{const _0x453c40=_0x29e2d0;let _0x3ce1f0=await this[_0x453c40(0x7f6)]({'request':_0x1b1cb5,'schema':N,'ClassRef':M,'execute':(_0x5d667a,_0x43ead3)=>D[_0x453c40(0x184)](_0x5d667a,_0x43ead3)});return _0x1b60c3[_0x453c40(0x612)](0xc9)[_0x453c40(0x4f9)](_0x3ce1f0);})[_0x29e2d0(0x558)](this['routerPath']('markMessageAsRead'),..._0x5868e8,async(_0x16c3b1,_0x595900)=>{const _0x5b1faf=_0x29e2d0;let _0xc95be1=await this[_0x5b1faf(0x7f6)]({'request':_0x16c3b1,'schema':za,'ClassRef':et,'execute':(_0x5d01ed,_0x80f95)=>D[_0x5b1faf(0x170)](_0x5d01ed,_0x80f95)});return _0x595900[_0x5b1faf(0x612)](0xc9)[_0x5b1faf(0x4f9)](_0xc95be1);})['put'](this[_0x29e2d0(0x423)](_0x29e2d0(0x72b)),..._0x5868e8,async(_0x135baf,_0x21e322)=>{let _0x42150d=await this['dataValidate']({'request':_0x135baf,'schema':Ka,'ClassRef':tt,'execute':(_0x51a386,_0x560de6)=>D['archiveChat'](_0x51a386,_0x560de6)});return _0x21e322['status'](0xc9)['json'](_0x42150d);})[_0x29e2d0(0x185)](this[_0x29e2d0(0x423)](_0x29e2d0(0x7b2)),..._0x5868e8,async(_0x46be2f,_0x12f711)=>{const _0x48677f=_0x29e2d0;let _0x11fb18=await this['dataValidate']({'request':_0x46be2f,'schema':Qa,'ClassRef':at,'execute':(_0x241391,_0x3b781c)=>D[_0x48677f(0x426)](_0x241391,_0x3b781c)});return _0x12f711['status'](0xc9)[_0x48677f(0x4f9)](_0x11fb18);})[_0x29e2d0(0x319)](this[_0x29e2d0(0x423)](_0x29e2d0(0x7eb)),..._0x5868e8,async(_0x4b7be1,_0x4e1b5a)=>{const _0x48eb83=_0x29e2d0;let _0x52bed5=await this[_0x48eb83(0x7f6)]({'request':_0x4b7be1,'schema':Oe,'ClassRef':Te,'execute':(_0x50abcf,_0x263fb2)=>D[_0x48eb83(0x578)](_0x50abcf,_0x263fb2)});return _0x4e1b5a['status'](0xc8)['json'](_0x52bed5);})[_0x29e2d0(0x319)](this[_0x29e2d0(0x423)]('fetchProfile'),..._0x5868e8,async(_0x95c899,_0x20c329)=>{const _0x4bab81=_0x29e2d0;let _0x43df99=await this[_0x4bab81(0x7f6)]({'request':_0x95c899,'schema':ei,'ClassRef':Te,'execute':(_0x43fe60,_0x59e917)=>D['fetchProfile'](_0x43fe60,_0x59e917)});return _0x20c329[_0x4bab81(0x612)](0xc8)['json'](_0x43df99);})[_0x29e2d0(0x319)](this[_0x29e2d0(0x423)]('findContacts'),..._0x5868e8,async(_0x9aeee4,_0x9a9450)=>{const _0x56847a=_0x29e2d0;let _0x11ac96=await this[_0x56847a(0x7f6)]({'request':_0x9aeee4,'schema':Ya,'ClassRef':ot,'execute':(_0x4e5bc2,_0x5a37a6)=>D['fetchContacts'](_0x4e5bc2,_0x5a37a6)});return _0x9a9450[_0x56847a(0x612)](0xc8)['json'](_0x11ac96);})['post'](this[_0x29e2d0(0x423)](_0x29e2d0(0x26e)),..._0x5868e8,async(_0x25c133,_0x5550db)=>{const _0x5cfb5d=_0x29e2d0;let _0x2ed1c6=await this[_0x5cfb5d(0x7f6)]({'request':_0x25c133,'schema':null,'ClassRef':Object,'execute':(_0x3337c8,_0x50dcbd)=>D[_0x5cfb5d(0x26e)](_0x3337c8,_0x50dcbd)});return _0x5550db[_0x5cfb5d(0x612)](0xc9)[_0x5cfb5d(0x4f9)](_0x2ed1c6);})[_0x29e2d0(0x319)](this['routerPath'](_0x29e2d0(0x552)),..._0x5868e8,async(_0x45b855,_0x10f9d2)=>{const _0x7408=_0x29e2d0;let _0x48d85b=await this['dataValidate']({'request':_0x45b855,'schema':ti,'ClassRef':He,'execute':(_0x2dacc7,_0x44b84c)=>D[_0x7408(0x605)](_0x2dacc7,_0x44b84c)});return _0x10f9d2['status'](0xc8)[_0x7408(0x4f9)](_0x48d85b);})[_0x29e2d0(0x13e)](this['routerPath'](_0x29e2d0(0x4be)),..._0x5868e8,async(_0xadb81b,_0x3067)=>{const _0x22de37=_0x29e2d0;let _0x1c3b90=await this[_0x22de37(0x7f6)]({'request':_0xadb81b,'schema':null,'ClassRef':M,'execute':_0x34d409=>D[_0x22de37(0x520)](_0x34d409)});return _0x3067[_0x22de37(0x612)](0xc8)[_0x22de37(0x4f9)](_0x1c3b90);})[_0x29e2d0(0x13e)](this['routerPath']('findLabels'),..._0x5868e8,async(_0x3178bf,_0x757635)=>{const _0x1170d1=_0x29e2d0;let _0x18f386=await this[_0x1170d1(0x7f6)]({'request':_0x3178bf,'schema':null,'ClassRef':M,'execute':_0x54b7e8=>D[_0x1170d1(0x61b)](_0x54b7e8)});return _0x757635['status'](0xc8)[_0x1170d1(0x4f9)](_0x18f386);})[_0x29e2d0(0x558)](this[_0x29e2d0(0x423)](_0x29e2d0(0x550)),..._0x5868e8,async(_0x11c22f,_0x54412e)=>{const _0x343dc0=_0x29e2d0;let _0x2cdc10=await this[_0x343dc0(0x7f6)]({'request':_0x11c22f,'schema':null,'ClassRef':Array,'execute':(_0x43e3ee,_0xc85cbb)=>D[_0x343dc0(0x550)](_0x43e3ee,_0xc85cbb)});return _0x54412e[_0x343dc0(0x612)](0xc8)[_0x343dc0(0x4f9)](_0x2cdc10);})[_0x29e2d0(0x13e)](this['routerPath'](_0x29e2d0(0x33f)),..._0x5868e8,async(_0x2816b8,_0x3703d2)=>{const _0x1f8506=_0x29e2d0;let _0x9bbb41=await this[_0x1f8506(0x7f6)]({'request':_0x2816b8,'schema':null,'ClassRef':M,'execute':_0x240b68=>D[_0x1f8506(0x33f)](_0x240b68)});return _0x3703d2[_0x1f8506(0x612)](0xc8)['json'](_0x9bbb41);})['put'](this[_0x29e2d0(0x423)](_0x29e2d0(0x344)),..._0x5868e8,async(_0x4b06eb,_0x1cc7c3)=>{const _0xa0d45=_0x29e2d0;let _0x2b5ec3=await this[_0xa0d45(0x7f6)]({'request':_0x4b06eb,'schema':Ha,'ClassRef':st,'execute':(_0x473cd7,_0x4c36d4)=>D[_0xa0d45(0x344)](_0x473cd7,_0x4c36d4)});return _0x1cc7c3[_0xa0d45(0x612)](0xc9)[_0xa0d45(0x4f9)](_0x2b5ec3);})['post'](this[_0x29e2d0(0x423)](_0x29e2d0(0x7a6)),..._0x5868e8,async(_0x2ccb86,_0x2237a6)=>{const _0x309a66=_0x29e2d0;let _0x6d5b1b=await this[_0x309a66(0x7f6)]({'request':_0x2ccb86,'schema':Oe,'ClassRef':Ee,'execute':(_0x54eda4,_0x1aa975)=>D[_0x309a66(0x7a6)](_0x54eda4,_0x1aa975)});return _0x2237a6['status'](0xc8)[_0x309a66(0x4f9)](_0x6d5b1b);})[_0x29e2d0(0x319)](this[_0x29e2d0(0x423)]('updateProfileName'),..._0x5868e8,async(_0x210c25,_0x158697)=>{const _0x107f9a=_0x29e2d0;let _0x512ec3=await this[_0x107f9a(0x7f6)]({'request':_0x210c25,'schema':Xa,'ClassRef':Xe,'execute':(_0x20532f,_0x4162cf)=>D['updateProfileName'](_0x20532f,_0x4162cf)});return _0x158697['status'](0xc8)[_0x107f9a(0x4f9)](_0x512ec3);})[_0x29e2d0(0x319)](this[_0x29e2d0(0x423)](_0x29e2d0(0x7a8)),..._0x5868e8,async(_0x22fdaf,_0x14a839)=>{const _0x4a8e6c=_0x29e2d0;let _0xd34e24=await this[_0x4a8e6c(0x7f6)]({'request':_0x22fdaf,'schema':Za,'ClassRef':Ze,'execute':(_0x5ec2f7,_0x2cae80)=>D[_0x4a8e6c(0x7a8)](_0x5ec2f7,_0x2cae80)});return _0x14a839[_0x4a8e6c(0x612)](0xc8)[_0x4a8e6c(0x4f9)](_0xd34e24);})[_0x29e2d0(0x558)](this[_0x29e2d0(0x423)](_0x29e2d0(0x223)),..._0x5868e8,async(_0x5870f9,_0x2ee31d)=>{const _0x12a01d=_0x29e2d0;let _0x1e32de=await this[_0x12a01d(0x7f6)]({'request':_0x5870f9,'schema':Oe,'ClassRef':Ee,'execute':(_0x3555c4,_0x2f55ea)=>D[_0x12a01d(0x223)](_0x3555c4,_0x2f55ea)});return _0x2ee31d['status'](0xc8)[_0x12a01d(0x4f9)](_0x1e32de);})[_0x29e2d0(0x185)](this[_0x29e2d0(0x423)](_0x29e2d0(0x7d1)),..._0x5868e8,async(_0x3cf139,_0x37d8b5)=>{const _0x30ebfd=_0x29e2d0;let _0x27f18d=await this[_0x30ebfd(0x7f6)]({'request':_0x3cf139,'schema':Oe,'ClassRef':Ee,'execute':(_0x337230,_0xee91cb)=>D[_0x30ebfd(0x7d1)](_0x337230,_0xee91cb)});return _0x37d8b5[_0x30ebfd(0x612)](0xc8)[_0x30ebfd(0x4f9)](_0x27f18d);});}},hi=require(a0_0x1e84a8(0x7e8)),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},Pe=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x5e7ecd){const _0x2a0c3f=a0_0x1e84a8;super(),this[_0x2a0c3f(0x50b)]=(0x0,hi[_0x2a0c3f(0x10a)])(),this['router'][_0x2a0c3f(0x319)](this['routerPath'](_0x2a0c3f(0x277)),..._0x5e7ecd,async(_0x88e55,_0x3e8661)=>{const _0x4c8c1a=_0x2a0c3f;let _0x3660e2=await this[_0x4c8c1a(0x7f6)]({'request':_0x88e55,'schema':ai,'ClassRef':lt,'execute':(_0x231748,_0x12bf0e)=>q[_0x4c8c1a(0x12a)](_0x231748,_0x12bf0e)});_0x3e8661[_0x4c8c1a(0x612)](0xc9)['json'](_0x3660e2);})['put'](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x7e5)),..._0x5e7ecd,async(_0x3a2c5c,_0x16b016)=>{const _0x1a538c=_0x2a0c3f;let _0x3cc443=await this['groupValidate']({'request':_0x3a2c5c,'schema':ri,'ClassRef':ut,'execute':(_0x3412de,_0x15279b)=>q[_0x1a538c(0x7e5)](_0x3412de,_0x15279b)});_0x16b016[_0x1a538c(0x612)](0xc9)[_0x1a538c(0x4f9)](_0x3cc443);})[_0x2a0c3f(0x558)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x868)),..._0x5e7ecd,async(_0x13333e,_0x47312a)=>{const _0x51dd62=_0x2a0c3f;let _0xfdfb8=await this['groupValidate']({'request':_0x13333e,'schema':ni,'ClassRef':dt,'execute':(_0x24f3b2,_0x489f0f)=>q[_0x51dd62(0x868)](_0x24f3b2,_0x489f0f)});_0x47312a[_0x51dd62(0x612)](0xc9)[_0x51dd62(0x4f9)](_0xfdfb8);})['put'](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x6ab)),..._0x5e7ecd,async(_0x5f3fd5,_0x39fc06)=>{const _0x3d9433=_0x2a0c3f;let _0x37c74b=await this[_0x3d9433(0x731)]({'request':_0x5f3fd5,'schema':ci,'ClassRef':pt,'execute':(_0x57afc7,_0x24d1c9)=>q[_0x3d9433(0x6ab)](_0x57afc7,_0x24d1c9)});_0x39fc06[_0x3d9433(0x612)](0xc9)[_0x3d9433(0x4f9)](_0x37c74b);})[_0x2a0c3f(0x558)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x473)),..._0x5e7ecd,async(_0x44edca,_0x1b6327)=>{const _0x171fa7=_0x2a0c3f;let _0x215551=await this['groupValidate']({'request':_0x44edca,'schema':ui,'ClassRef':gt,'execute':(_0x579c09,_0x1a0ce5)=>q[_0x171fa7(0x473)](_0x579c09,_0x1a0ce5)});_0x1b6327['status'](0xc9)['json'](_0x215551);})[_0x2a0c3f(0x558)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x4d8)),..._0x5e7ecd,async(_0x50a555,_0x1f8ed0)=>{const _0x531aac=_0x2a0c3f;let _0x5a8c85=await this['groupValidate']({'request':_0x50a555,'schema':li,'ClassRef':ht,'execute':(_0x2b8264,_0xa1cd8)=>q[_0x531aac(0x4d8)](_0x2b8264,_0xa1cd8)});_0x1f8ed0[_0x531aac(0x612)](0xc9)[_0x531aac(0x4f9)](_0x5a8c85);})[_0x2a0c3f(0x558)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x3d5)),..._0x5e7ecd,async(_0x4f1843,_0x3be3cc)=>{const _0x3b403f=_0x2a0c3f;let _0x3b229a=await this[_0x3b403f(0x731)]({'request':_0x4f1843,'schema':oi,'ClassRef':ft,'execute':(_0xb46d8d,_0x3de011)=>q[_0x3b403f(0x3d5)](_0xb46d8d,_0x3de011)});_0x3be3cc['status'](0xc9)[_0x3b403f(0x4f9)](_0x3b229a);})[_0x2a0c3f(0x13e)](this[_0x2a0c3f(0x423)]('findGroupInfos'),..._0x5e7ecd,async(_0x10e200,_0x4b78e3)=>{const _0x1c6269=_0x2a0c3f;let _0x27df31=await this['groupValidate']({'request':_0x10e200,'schema':xe,'ClassRef':te,'execute':(_0xea7762,_0x8f6cde)=>q[_0x1c6269(0x243)](_0xea7762,_0x8f6cde)});_0x4b78e3[_0x1c6269(0x612)](0xc8)[_0x1c6269(0x4f9)](_0x27df31);})['get'](this['routerPath'](_0x2a0c3f(0x182)),..._0x5e7ecd,async(_0x3d6d79,_0xb7bc87)=>{const _0x1d91b6=_0x2a0c3f;let _0x378bc7=await this['dataValidate']({'request':_0x3d6d79,'schema':N,'ClassRef':M,'execute':_0x5a8a8c=>q[_0x1d91b6(0x182)](_0x5a8a8c)});_0xb7bc87[_0x1d91b6(0x612)](0xc8)['json'](_0x378bc7);})[_0x2a0c3f(0x13e)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x813)),..._0x5e7ecd,async(_0x10a73d,_0x38a3a8)=>{const _0x45fef5=_0x2a0c3f;let _0x16eb0d=await this[_0x45fef5(0x731)]({'request':_0x10a73d,'schema':xe,'ClassRef':te,'execute':(_0x545f37,_0x545ee8)=>q['findParticipants'](_0x545f37,_0x545ee8)});_0x38a3a8[_0x45fef5(0x612)](0xc8)[_0x45fef5(0x4f9)](_0x16eb0d);})[_0x2a0c3f(0x13e)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x67e)),..._0x5e7ecd,async(_0x4e0962,_0x536126)=>{const _0x3cc249=_0x2a0c3f;let _0x103729=await this[_0x3cc249(0x731)]({'request':_0x4e0962,'schema':xe,'ClassRef':te,'execute':(_0x2d3303,_0x5b9d5a)=>q[_0x3cc249(0x67e)](_0x2d3303,_0x5b9d5a)});_0x536126[_0x3cc249(0x612)](0xc8)[_0x3cc249(0x4f9)](_0x103729);})[_0x2a0c3f(0x319)](this['routerPath'](_0x2a0c3f(0x5c6)),..._0x5e7ecd,async(_0xfb7587,_0x370a0e)=>{const _0x13655b=_0x2a0c3f;let _0x53fd4d=await this['joinGroupValidate']({'request':_0xfb7587,'schema':Ns,'ClassRef':Pe,'execute':(_0x5ca78a,_0xe83067)=>q[_0x13655b(0x3b4)](_0x5ca78a,_0xe83067)});_0x370a0e[_0x13655b(0x612)](0xc9)[_0x13655b(0x4f9)](_0x53fd4d);})[_0x2a0c3f(0x558)](this['routerPath'](_0x2a0c3f(0x5d7)),..._0x5e7ecd,async(_0xdc993,_0x388cc4)=>{const _0x517d1e=_0x2a0c3f;let _0x7d6611=await this['joinGroupValidate']({'request':_0xdc993,'schema':Ns,'ClassRef':Pe,'execute':(_0x1a9d21,_0x3e21c4)=>q[_0x517d1e(0x5d7)](_0x1a9d21,_0x3e21c4)});_0x388cc4[_0x517d1e(0x612)](0xc9)['json'](_0x7d6611);})[_0x2a0c3f(0x558)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x623)),..._0x5e7ecd,async(_0x3f8a1a,_0x17ebca)=>{const _0x358ad9=_0x2a0c3f;let _0x50b172=await this[_0x358ad9(0x731)]({'request':_0x3f8a1a,'schema':xe,'ClassRef':te,'execute':(_0x38277a,_0x37160a)=>q[_0x358ad9(0x623)](_0x38277a,_0x37160a)});_0x17ebca[_0x358ad9(0x612)](0xc9)['json'](_0x50b172);})[_0x2a0c3f(0x558)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x2c8)),..._0x5e7ecd,async(_0x3af767,_0x1e9f3b)=>{const _0x2e449d=_0x2a0c3f;let _0x4b7ea9=await this[_0x2e449d(0x731)]({'request':_0x3af767,'schema':ii,'ClassRef':mt,'execute':(_0x341d2c,_0x5af9ff)=>q[_0x2e449d(0x777)](_0x341d2c,_0x5af9ff)});_0x1e9f3b[_0x2e449d(0x612)](0xc9)['json'](_0x4b7ea9);})[_0x2a0c3f(0x185)](this[_0x2a0c3f(0x423)](_0x2a0c3f(0x6f1)),..._0x5e7ecd,async(_0x234f71,_0x36aba7)=>{const _0x387d59=_0x2a0c3f;let _0x366efe=await this[_0x387d59(0x731)]({'request':_0x234f71,'schema':{},'ClassRef':te,'execute':(_0x266540,_0x46c44a)=>q[_0x387d59(0x6f1)](_0x266540,_0x46c44a)});_0x36aba7[_0x387d59(0x612)](0xc8)[_0x387d59(0x4f9)](_0x366efe);});}},gi=require(a0_0x1e84a8(0x7e8)),yt=class extends V{constructor(_0x4374fc,..._0x1f32da){const _0x56c0c7=a0_0x1e84a8;super(),this[_0x56c0c7(0x26f)]=_0x4374fc,this[_0x56c0c7(0x50b)]=(0x0,gi['Router'])();let _0x23cbe1=_0x4374fc[_0x56c0c7(0x13e)](_0x56c0c7(0x16b));this[_0x56c0c7(0x50b)]['post'](_0x56c0c7(0x696),..._0x1f32da,async(_0x25439c,_0x3cefd0)=>{const _0x2831ff=_0x56c0c7;let {instanceName:_0x80ff1e,apikey:_0x338a9b,number:_0x4b670e}=_0x25439c[_0x2831ff(0x620)],_0x2940ae=await de[_0x2831ff(0x119)]({'instanceName':_0x80ff1e,'apikey':_0x338a9b,'number':_0x4b670e});return _0x3cefd0[_0x2831ff(0x612)](0xc9)['json'](_0x2940ae);})[_0x56c0c7(0x558)](this['routerPath'](_0x56c0c7(0x5a3)),..._0x1f32da,async(_0x1e222f,_0x1b082c)=>{const _0x59d159=_0x56c0c7;let _0x44531c=await this['dataValidate']({'request':_0x1e222f,'schema':N,'ClassRef':M,'execute':_0x5532f7=>de[_0x59d159(0x73c)](_0x5532f7)});return _0x1b082c[_0x59d159(0x612)](0xc8)[_0x59d159(0x4f9)](_0x44531c);})[_0x56c0c7(0x13e)](this[_0x56c0c7(0x423)](_0x56c0c7(0x2dd)),..._0x1f32da,async(_0x3e30ab,_0xa9c329)=>{const _0x500efb=_0x56c0c7;let _0x7d3cd3=await this['dataValidate']({'request':_0x3e30ab,'schema':N,'ClassRef':M,'execute':_0x134b24=>de['connectToWhatsappController'](_0x134b24)});return _0xa9c329[_0x500efb(0x612)](0xc8)[_0x500efb(0x4f9)](_0x7d3cd3);})[_0x56c0c7(0x13e)](this['routerPath'](_0x56c0c7(0x579)),..._0x1f32da,async(_0xf80828,_0x5d5c53)=>{const _0x25f4b5=_0x56c0c7;let _0x2bba11=await this[_0x25f4b5(0x7f6)]({'request':_0xf80828,'schema':N,'ClassRef':M,'execute':_0xff28d6=>de[_0x25f4b5(0x579)](_0xff28d6)});return _0x5d5c53['status'](0xc8)['json'](_0x2bba11);})[_0x56c0c7(0x13e)](this[_0x56c0c7(0x423)]('fetchInstances',!0x1),..._0x1f32da,async(_0x2910f5,_0x30a8e0)=>{const _0x2bd884=_0x56c0c7;let _0x5ab584=await this[_0x2bd884(0x7f6)]({'request':_0x2910f5,'schema':null,'ClassRef':M,'execute':_0x86dde9=>de['fetchInstances'](_0x86dde9)});return _0x30a8e0[_0x2bd884(0x612)](0xc8)[_0x2bd884(0x4f9)](_0x5ab584);})[_0x56c0c7(0x185)](this['routerPath'](_0x56c0c7(0x19f)),..._0x1f32da,async(_0x60f37a,_0x44377b)=>{const _0x4400af=_0x56c0c7;let _0x20259f=await this[_0x4400af(0x7f6)]({'request':_0x60f37a,'schema':N,'ClassRef':M,'execute':_0x23dc29=>de[_0x4400af(0x19f)](_0x23dc29)});return _0x44377b[_0x4400af(0x612)](0xc8)[_0x4400af(0x4f9)](_0x20259f);})[_0x56c0c7(0x185)](this[_0x56c0c7(0x423)](_0x56c0c7(0x185)),..._0x1f32da,async(_0x4e13dc,_0x3b4c18)=>{const _0x38e654=_0x56c0c7;let _0x1bceb8=await this['dataValidate']({'request':_0x4e13dc,'schema':N,'ClassRef':M,'execute':_0x279ed8=>de[_0x38e654(0x102)](_0x279ed8)});return _0x3b4c18[_0x38e654(0x612)](0xc8)[_0x38e654(0x4f9)](_0x1bceb8);});}},mi=require(a0_0x1e84a8(0x7e8)),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},De=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0xe0caee){const _0x39e503=a0_0x1e84a8;super(),this[_0x39e503(0x50b)]=(0x0,mi[_0x39e503(0x10a)])(),this['router']['post'](this[_0x39e503(0x423)](_0x39e503(0x32c)),..._0xe0caee,async(_0x27bb96,_0x10a086)=>{const _0x504695=_0x39e503;let _0x1859c5=await this['dataValidate']({'request':_0x27bb96,'schema':Pa,'ClassRef':bt,'execute':(_0x5add6f,_0x37dcde)=>W[_0x504695(0x32c)](_0x5add6f,_0x37dcde)});return _0x10a086[_0x504695(0x612)](0xc9)[_0x504695(0x4f9)](_0x1859c5);})[_0x39e503(0x319)](this[_0x39e503(0x423)]('sendMedia'),..._0xe0caee,async(_0x471d7d,_0x243b79)=>{const _0x11ac39=_0x39e503;let _0x1d3f5f=await this[_0x11ac39(0x7f6)]({'request':_0x471d7d,'schema':Fa,'ClassRef':De,'execute':(_0x2bc009,_0x299e06)=>W[_0x11ac39(0x5f1)](_0x2bc009,_0x299e06)});return _0x243b79[_0x11ac39(0x612)](0xc9)[_0x11ac39(0x4f9)](_0x1d3f5f);})[_0x39e503(0x319)](this[_0x39e503(0x423)](_0x39e503(0x41b)),..._0xe0caee,async(_0x27c3a8,_0x22a4a6)=>{const _0x43e0b0=_0x39e503;let _0x247bfb=await this[_0x43e0b0(0x7f6)]({'request':_0x27c3a8,'schema':Ja,'ClassRef':Ct,'execute':(_0x89eb80,_0x2a27e0)=>W[_0x43e0b0(0x41b)](_0x89eb80,_0x2a27e0)});return _0x22a4a6['status'](0xc9)[_0x43e0b0(0x4f9)](_0x247bfb);})['post'](this[_0x39e503(0x423)]('sendWhatsAppAudio'),..._0xe0caee,async(_0x22fa9d,_0x436373)=>{const _0x2c9ac1=_0x39e503;let _0x91afcf=await this[_0x2c9ac1(0x7f6)]({'request':_0x22fa9d,'schema':Ua,'ClassRef':De,'execute':(_0x5857fb,_0x52f4d4)=>W[_0x2c9ac1(0x2ed)](_0x5857fb,_0x52f4d4)});return _0x436373[_0x2c9ac1(0x612)](0xc9)[_0x2c9ac1(0x4f9)](_0x91afcf);})[_0x39e503(0x319)](this[_0x39e503(0x423)](_0x39e503(0x260)),..._0xe0caee,async(_0x1e14b5,_0x6c5de1)=>{const _0xb148b9=_0x39e503;let _0x4c0a10=await this[_0xb148b9(0x7f6)]({'request':_0x1e14b5,'schema':qa,'ClassRef':vt,'execute':(_0x280bd1,_0x13de44)=>W[_0xb148b9(0x260)](_0x280bd1,_0x13de44)});return _0x6c5de1[_0xb148b9(0x612)](0xc9)[_0xb148b9(0x4f9)](_0x4c0a10);})['post'](this[_0x39e503(0x423)](_0x39e503(0x44a)),..._0xe0caee,async(_0x1da29f,_0x3805c7)=>{const _0x23f87f=_0x39e503;let _0x4472a8=await this[_0x23f87f(0x7f6)]({'request':_0x1da29f,'schema':Va,'ClassRef':Nt,'execute':(_0xae7b7,_0x3e2221)=>W[_0x23f87f(0x44a)](_0xae7b7,_0x3e2221)});return _0x3805c7[_0x23f87f(0x612)](0xc9)[_0x23f87f(0x4f9)](_0x4472a8);})[_0x39e503(0x319)](this[_0x39e503(0x423)]('sendContact'),..._0xe0caee,async(_0x5d71ec,_0x1c721e)=>{const _0x346d0e=_0x39e503;let _0x26c4fa=await this[_0x346d0e(0x7f6)]({'request':_0x5d71ec,'schema':Ga,'ClassRef':$t,'execute':(_0x733aa8,_0x557adf)=>W[_0x346d0e(0x366)](_0x733aa8,_0x557adf)});return _0x1c721e['status'](0xc9)[_0x346d0e(0x4f9)](_0x26c4fa);})[_0x39e503(0x319)](this[_0x39e503(0x423)](_0x39e503(0x5dc)),..._0xe0caee,async(_0x2db32b,_0x1c1a94)=>{const _0x42b79b=_0x39e503;let _0x3e95c4=await this[_0x42b79b(0x7f6)]({'request':_0x2db32b,'schema':Ba,'ClassRef':Rt,'execute':(_0x3944dc,_0x2faabc)=>W[_0x42b79b(0x5dc)](_0x3944dc,_0x2faabc)});return _0x1c1a94[_0x42b79b(0x612)](0xc9)[_0x42b79b(0x4f9)](_0x3e95c4);})[_0x39e503(0x319)](this[_0x39e503(0x423)]('sendPoll'),..._0xe0caee,async(_0x36f52f,_0x33196b)=>{const _0x43269b=_0x39e503;let _0x30c83b=await this[_0x43269b(0x7f6)]({'request':_0x36f52f,'schema':ja,'ClassRef':Mt,'execute':(_0x32143d,_0x5702fb)=>W[_0x43269b(0x380)](_0x32143d,_0x5702fb)});return _0x33196b[_0x43269b(0x612)](0xc9)['json'](_0x30c83b);})[_0x39e503(0x319)](this[_0x39e503(0x423)](_0x39e503(0x11e)),..._0xe0caee,async(_0x3743d4,_0x99e86b)=>{const _0x5f1440=_0x39e503;let _0x8b40ab=await this[_0x5f1440(0x7f6)]({'request':_0x3743d4,'schema':La,'ClassRef':St,'execute':(_0x1b7419,_0xae4b3)=>W[_0x5f1440(0x11e)](_0x1b7419,_0xae4b3)});return _0x99e86b[_0x5f1440(0x612)](0xc9)[_0x5f1440(0x4f9)](_0x8b40ab);})[_0x39e503(0x319)](this[_0x39e503(0x423)](_0x39e503(0x675)),..._0xe0caee,async(_0x5c4003,_0x22c9c1)=>{const _0x4fc795=_0x39e503;let _0x204b91=await this[_0x4fc795(0x7f6)]({'request':_0x5c4003,'schema':ka,'ClassRef':Et,'execute':(_0x36d3e6,_0x5f36b1)=>W[_0x4fc795(0x675)](_0x36d3e6,_0x5f36b1)});return _0x22c9c1['status'](0xc9)[_0x4fc795(0x4f9)](_0x204b91);});}},fi=require(a0_0x1e84a8(0x7e8)),It=class{},Tt=class extends V{constructor(..._0x1b4d50){const _0x47571d=a0_0x1e84a8;super(),this['router']=(0x0,fi['Router'])(),this[_0x47571d(0x50b)]['post'](this[_0x47571d(0x423)](_0x47571d(0x6f6)),..._0x1b4d50,async(_0x1c6ed1,_0x2b3442)=>{const _0x506972=_0x47571d;let _0x1f298e=await this[_0x506972(0x7f6)]({'request':_0x1c6ed1,'schema':di,'ClassRef':It,'execute':(_0x1f36f0,_0x42ba1d)=>As[_0x506972(0x1da)](_0x1f36f0,_0x42ba1d)});_0x2b3442[_0x506972(0x612)](0xc9)['json'](_0x1f298e);})[_0x47571d(0x13e)](this[_0x47571d(0x423)](_0x47571d(0x6a6)),..._0x1b4d50,async(_0x432917,_0x1909b1)=>{const _0x496fe5=_0x47571d;let _0x8dfedd=await this[_0x496fe5(0x7f6)]({'request':_0x432917,'schema':N,'ClassRef':M,'execute':_0xe1a718=>As[_0x496fe5(0x230)](_0xe1a718)});_0x1909b1[_0x496fe5(0x612)](0xc8)[_0x496fe5(0x4f9)](_0x8dfedd);});}},wi=require(a0_0x1e84a8(0x7e8)),y=new $(a0_0x1e84a8(0x2be)),_t=class extends V{constructor(..._0x564904){const _0x1f0043=a0_0x1e84a8;super(),this[_0x1f0043(0x50b)]=(0x0,wi[_0x1f0043(0x10a)])(),this[_0x1f0043(0x50b)][_0x1f0043(0x319)](this['routerPath'](_0x1f0043(0x4ca)),..._0x564904,async(_0x47f457,_0x2ca13f)=>{const _0x14b20e=_0x1f0043;let _0x5be331=_0x47f457['body'];y[_0x14b20e(0x7ba)](_0x14b20e(0x530)),y[_0x14b20e(0x7ba)](_0x14b20e(0x859)),y['verbose'](_0x47f457[_0x14b20e(0x620)]);let _0x412735=await this['dataValidate']({'request':_0x47f457,'schema':N,'ClassRef':M,'execute':_0x881ebb=>O[_0x14b20e(0x6f9)](_0x881ebb,_0x5be331)});_0x2ca13f['status'](0xc8)[_0x14b20e(0x4f9)](_0x412735);})['get'](this[_0x1f0043(0x423)](_0x1f0043(0x4ca)),..._0x564904,async(_0x490cb8,_0x5d3840)=>{const _0x2e1d57=_0x1f0043;let _0x5db36d=await this['dataValidate']({'request':_0x490cb8,'schema':N,'ClassRef':M,'execute':_0x5cfecb=>O['getScheduleMessage'](_0x5cfecb)});_0x5d3840[_0x2e1d57(0x612)](0xc8)[_0x2e1d57(0x4f9)](_0x5db36d);})[_0x1f0043(0x185)](this['routerPath'](_0x1f0043(0x399)),..._0x564904,async(_0xa2a231,_0x3fee7f)=>{const _0x273364=_0x1f0043;y[_0x273364(0x7ba)](_0x273364(0x466));let _0x2efd01=await this[_0x273364(0x7f6)]({'request':_0xa2a231,'schema':N,'ClassRef':M,'execute':_0x5780b2=>O['deleteDoneMessages'](_0x5780b2)});_0x3fee7f[_0x273364(0x612)](0xc8)[_0x273364(0x4f9)](_0x2efd01);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)](_0x1f0043(0x79b)),..._0x564904,async(_0x1d5fcd,_0x50eb29)=>{const _0x30ba9f=_0x1f0043;let _0x2a7b4f=_0x1d5fcd[_0x30ba9f(0x620)];y['verbose'](_0x30ba9f(0x7e4)),y[_0x30ba9f(0x7ba)]('request\x20body:\x20'),y['verbose'](_0x1d5fcd[_0x30ba9f(0x620)]);let _0x564f32=await this['dataValidate']({'request':_0x1d5fcd,'schema':N,'ClassRef':M,'execute':_0x4ec406=>O[_0x30ba9f(0x79b)](_0x4ec406,_0x2a7b4f)});_0x50eb29[_0x30ba9f(0x612)](0xc8)[_0x30ba9f(0x4f9)](_0x564f32);})[_0x1f0043(0x13e)](this[_0x1f0043(0x423)]('getAutomateSystem'),..._0x564904,async(_0x3fd075,_0x331a63)=>{const _0x32e881=_0x1f0043;y[_0x32e881(0x7ba)](_0x32e881(0x292));let _0x4124cf=await this[_0x32e881(0x7f6)]({'request':_0x3fd075,'schema':N,'ClassRef':M,'execute':_0x10fe82=>O[_0x32e881(0x15c)](_0x10fe82)});_0x331a63[_0x32e881(0x612)](0xc8)['json'](_0x4124cf);})[_0x1f0043(0x13e)](this['routerPath'](_0x1f0043(0x518)),..._0x564904,async(_0x364961,_0x2a649b)=>{const _0x336d87=_0x1f0043;y[_0x336d87(0x7ba)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x212797=await this['dataValidate']({'request':_0x364961,'schema':N,'ClassRef':M,'execute':_0x258a85=>O['getAutomateSystem'](_0x258a85)});_0x2a649b[_0x336d87(0x612)](0xc8)[_0x336d87(0x4f9)](_0x212797);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)](_0x1f0043(0x20a)),..._0x564904,async(_0x5c56e4,_0x1a76c6)=>{const _0x17100c=_0x1f0043;let _0x29f7de=_0x5c56e4[_0x17100c(0x620)];y['verbose'](_0x17100c(0x5bd)),y['verbose']('request\x20body:\x20'),y[_0x17100c(0x7ba)](_0x5c56e4[_0x17100c(0x620)]);let _0x4390c4=await this[_0x17100c(0x7f6)]({'request':_0x5c56e4,'schema':N,'ClassRef':M,'execute':_0x2bfbf7=>O[_0x17100c(0x20a)](_0x2bfbf7,_0x29f7de)});_0x1a76c6['status'](0xc8)[_0x17100c(0x4f9)](_0x4390c4);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)](_0x1f0043(0x52f)),..._0x564904,async(_0x5791dd,_0x39a97f)=>{const _0x2cc695=_0x1f0043;let _0x2737cb=_0x5791dd['body'];y[_0x2cc695(0x7ba)]('request\x20received\x20in\x20updateCustomFields'),y[_0x2cc695(0x7ba)](_0x2cc695(0x859)),y[_0x2cc695(0x7ba)](_0x5791dd[_0x2cc695(0x620)]);let _0x9d20cd=await this[_0x2cc695(0x7f6)]({'request':_0x5791dd,'schema':N,'ClassRef':M,'execute':_0x38ca76=>O[_0x2cc695(0x52f)](_0x38ca76,_0x2737cb)});_0x39a97f[_0x2cc695(0x612)](0xc8)['json'](_0x9d20cd);})[_0x1f0043(0x319)](this['routerPath'](_0x1f0043(0x809)),..._0x564904,async(_0x2dc11c,_0x5cf263)=>{const _0x5ba022=_0x1f0043;let _0x49dff9=_0x2dc11c[_0x5ba022(0x620)];y[_0x5ba022(0x7ba)](_0x5ba022(0x745)),y[_0x5ba022(0x7ba)](_0x5ba022(0x859)),y[_0x5ba022(0x7ba)](_0x2dc11c[_0x5ba022(0x620)]);let _0x2c14fb=await this[_0x5ba022(0x7f6)]({'request':_0x2dc11c,'schema':N,'ClassRef':M,'execute':_0x57fa97=>O[_0x5ba022(0x809)](_0x57fa97,_0x49dff9)});_0x5cf263[_0x5ba022(0x612)](0xc8)[_0x5ba022(0x4f9)](_0x2c14fb);})['post'](this[_0x1f0043(0x423)]('updateFlowConfig'),..._0x564904,async(_0x164b18,_0x3d4d02)=>{const _0x2107a9=_0x1f0043;let _0x353b3e=_0x164b18[_0x2107a9(0x620)];y[_0x2107a9(0x7ba)](_0x2107a9(0x46b)),y['verbose'](_0x2107a9(0x859)),y[_0x2107a9(0x7ba)](_0x164b18[_0x2107a9(0x620)]);let _0x3643bc=await this[_0x2107a9(0x7f6)]({'request':_0x164b18,'schema':N,'ClassRef':M,'execute':_0x4ae069=>O['updateFlowConfig'](_0x4ae069,_0x353b3e)});_0x3d4d02[_0x2107a9(0x612)](0xc8)[_0x2107a9(0x4f9)](_0x3643bc);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)](_0x1f0043(0x44b)),..._0x564904,async(_0x5ed4e7,_0xd61ac7)=>{const _0x127af6=_0x1f0043;let _0x1ab901=_0x5ed4e7[_0x127af6(0x620)];y[_0x127af6(0x7ba)](_0x127af6(0x667)),y[_0x127af6(0x7ba)](_0x127af6(0x859)),y[_0x127af6(0x7ba)](_0x5ed4e7[_0x127af6(0x620)]);let _0x4443cd=await this[_0x127af6(0x7f6)]({'request':_0x5ed4e7,'schema':N,'ClassRef':M,'execute':_0x9c0543=>O['getConversation'](_0x9c0543,_0x1ab901)});_0xd61ac7[_0x127af6(0x612)](0xc8)['json'](_0x4443cd);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)](_0x1f0043(0x72c)),..._0x564904,async(_0xc28bce,_0x2ba8f5)=>{const _0x3bacd9=_0x1f0043;let _0x1f65b8=_0xc28bce[_0x3bacd9(0x620)];y[_0x3bacd9(0x7ba)](_0x3bacd9(0x62c)),y[_0x3bacd9(0x7ba)]('request\x20body:\x20'),y['verbose'](_0xc28bce[_0x3bacd9(0x620)]);let _0x500e17=await this[_0x3bacd9(0x7f6)]({'request':_0xc28bce,'schema':N,'ClassRef':M,'execute':_0xcfc39e=>O[_0x3bacd9(0x72c)](_0xcfc39e,_0x1f65b8)});_0x2ba8f5['status'](0xc8)[_0x3bacd9(0x4f9)](_0x500e17);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)](_0x1f0043(0x6a1)),..._0x564904,async(_0x2efe41,_0x479f68)=>{const _0x204668=_0x1f0043;let _0x31ac00=_0x2efe41['body'];y[_0x204668(0x7ba)](_0x204668(0x762)),y[_0x204668(0x7ba)](_0x204668(0x859)),y['verbose'](_0x2efe41[_0x204668(0x620)]);let _0x3265e7=await this[_0x204668(0x7f6)]({'request':_0x2efe41,'schema':N,'ClassRef':M,'execute':_0xba6a4e=>O[_0x204668(0x6a1)](_0xba6a4e,_0x31ac00)});_0x479f68[_0x204668(0x612)](0xc8)['json'](_0x3265e7);})[_0x1f0043(0x185)](this[_0x1f0043(0x423)](_0x1f0043(0x5bc)),..._0x564904,async(_0x3719f8,_0x1f147d)=>{const _0xe73e6d=_0x1f0043;let _0x2cdd24=_0x3719f8[_0xe73e6d(0x620)];y[_0xe73e6d(0x7ba)](_0xe73e6d(0x35e)),y[_0xe73e6d(0x7ba)](_0xe73e6d(0x859)),y[_0xe73e6d(0x7ba)](_0x3719f8['body']);let _0x11608d=await this[_0xe73e6d(0x7f6)]({'request':_0x3719f8,'schema':N,'ClassRef':M,'execute':_0x483862=>O[_0xe73e6d(0x5bc)](_0x483862,_0x2cdd24)});_0x1f147d[_0xe73e6d(0x612)](0xc8)['json'](_0x11608d);})['post'](this[_0x1f0043(0x423)](_0x1f0043(0x808)),..._0x564904,async(_0x2ded7e,_0x41a12b)=>{const _0x3bb648=_0x1f0043;let _0x1723c3=_0x2ded7e[_0x3bb648(0x620)],_0x20828b=_0x2ded7e[_0x3bb648(0x144)]['apikey'];y['verbose']('request\x20received\x20in\x20createFlow'),y[_0x3bb648(0x7ba)](_0x3bb648(0x859)),y['verbose'](_0x2ded7e['body']);let _0x3595ab=await this[_0x3bb648(0x7f6)]({'request':_0x2ded7e,'schema':N,'ClassRef':M,'execute':_0x2c3917=>O[_0x3bb648(0x1d6)](_0x2c3917,_0x1723c3,_0x20828b)});_0x41a12b[_0x3bb648(0x612)](0xc8)[_0x3bb648(0x4f9)](_0x3595ab);})['post'](this[_0x1f0043(0x423)]('editflow'),..._0x564904,async(_0x4f3988,_0x39a749)=>{const _0x130001=_0x1f0043;let _0x1ca833=_0x4f3988[_0x130001(0x620)],_0x32162e=_0x4f3988['headers'][_0x130001(0x74f)];y[_0x130001(0x7ba)](_0x130001(0x1cd)),y[_0x130001(0x7ba)](_0x130001(0x859)),y['verbose'](_0x4f3988[_0x130001(0x620)]),delete _0x1ca833[_0x130001(0x5f4)],delete _0x1ca833['variables'],delete _0x1ca833[_0x130001(0x77c)],delete _0x1ca833[_0x130001(0x7ec)];let _0x35e0cb=await this[_0x130001(0x7f6)]({'request':_0x4f3988,'schema':N,'ClassRef':M,'execute':_0x187a73=>O[_0x130001(0x62b)](_0x187a73,_0x1ca833,_0x32162e)});_0x39a749[_0x130001(0x612)](0xc8)[_0x130001(0x4f9)](_0x35e0cb);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)]('editflowblock'),..._0x564904,async(_0x6e72be,_0x34002d)=>{const _0x29e025=_0x1f0043;let _0x3a1930=_0x6e72be[_0x29e025(0x620)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x29e025(0x7ba)](_0x29e025(0x859)),y[_0x29e025(0x7ba)](_0x6e72be[_0x29e025(0x620)]);let _0x2a0d06=await this[_0x29e025(0x7f6)]({'request':_0x6e72be,'schema':N,'ClassRef':M,'execute':_0x502bdb=>O[_0x29e025(0x729)](_0x502bdb,_0x3a1930)});_0x34002d[_0x29e025(0x612)](0xc8)[_0x29e025(0x4f9)](_0x2a0d06);})[_0x1f0043(0x319)](this['routerPath'](_0x1f0043(0x14b)),..._0x564904,async(_0x2f3752,_0x8a040d)=>{const _0x210ce8=_0x1f0043;let _0x45dcc8=_0x2f3752['body'];y[_0x210ce8(0x7ba)](_0x210ce8(0x1cd)),y[_0x210ce8(0x7ba)](_0x210ce8(0x859)),y[_0x210ce8(0x7ba)](_0x2f3752['body']);let _0x33b710=await this[_0x210ce8(0x7f6)]({'request':_0x2f3752,'schema':N,'ClassRef':M,'execute':_0x1a69c9=>O['editFlowReply'](_0x1a69c9,_0x45dcc8)});_0x8a040d[_0x210ce8(0x612)](0xc8)[_0x210ce8(0x4f9)](_0x33b710);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)](_0x1f0043(0x59a)),..._0x564904,async(_0x59cd9a,_0x2bfed4)=>{const _0x50f971=_0x1f0043;let _0x5bc060=_0x59cd9a[_0x50f971(0x620)];y[_0x50f971(0x7ba)](_0x50f971(0x1cd)),y[_0x50f971(0x7ba)](_0x50f971(0x859)),y[_0x50f971(0x7ba)](_0x59cd9a[_0x50f971(0x620)]);let _0x4670c7=await this[_0x50f971(0x7f6)]({'request':_0x59cd9a,'schema':N,'ClassRef':M,'execute':_0x5d4899=>O[_0x50f971(0x5b5)](_0x5d4899,_0x5bc060)});_0x2bfed4[_0x50f971(0x612)](0xc8)[_0x50f971(0x4f9)](_0x4670c7);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)](_0x1f0043(0x3b2)),..._0x564904,async(_0x44c12e,_0x5e5a1a)=>{const _0x2ea786=_0x1f0043;let _0x3c19d5=_0x44c12e[_0x2ea786(0x620)];y[_0x2ea786(0x7ba)]('request\x20received\x20in\x20editFlowgroup'),y['verbose'](_0x2ea786(0x859)),y[_0x2ea786(0x7ba)](_0x44c12e[_0x2ea786(0x620)]);let _0x3c03ec=await this[_0x2ea786(0x7f6)]({'request':_0x44c12e,'schema':N,'ClassRef':M,'execute':_0x1cb002=>O[_0x2ea786(0x275)](_0x1cb002,_0x3c19d5)});_0x5e5a1a['status'](0xc8)['json'](_0x3c03ec);})[_0x1f0043(0x319)](this['routerPath'](_0x1f0043(0x272)),..._0x564904,async(_0x1041a7,_0x263f5f)=>{const _0xdd47ba=_0x1f0043;let _0x555088=_0x1041a7[_0xdd47ba(0x620)];y[_0xdd47ba(0x7ba)](_0xdd47ba(0x1dc)),y['verbose'](_0xdd47ba(0x859)),y[_0xdd47ba(0x7ba)](_0x1041a7[_0xdd47ba(0x620)]);let _0x301c5d=await this['dataValidate']({'request':_0x1041a7,'schema':N,'ClassRef':M,'execute':_0xe9bb80=>O[_0xdd47ba(0x191)](_0xe9bb80,_0x555088)});_0x263f5f['status'](0xc8)[_0xdd47ba(0x4f9)](_0x301c5d);})[_0x1f0043(0x319)](this[_0x1f0043(0x423)]('editflowvariable'),..._0x564904,async(_0x43f68c,_0x1c36db)=>{const _0x3873f0=_0x1f0043;let _0x3191f4=_0x43f68c[_0x3873f0(0x620)];y[_0x3873f0(0x7ba)](_0x3873f0(0x429)),y[_0x3873f0(0x7ba)](_0x3873f0(0x859)),y['verbose'](_0x43f68c[_0x3873f0(0x620)]);let _0x567725=await this[_0x3873f0(0x7f6)]({'request':_0x43f68c,'schema':N,'ClassRef':M,'execute':_0x5b1be4=>O[_0x3873f0(0x39f)](_0x5b1be4,_0x3191f4)});_0x1c36db[_0x3873f0(0x612)](0xc8)['json'](_0x567725);})['post'](this[_0x1f0043(0x423)]('getflow'),..._0x564904,async(_0x5d2639,_0x120639)=>{const _0xb3ff19=_0x1f0043;let _0x3cf035=_0x5d2639[_0xb3ff19(0x620)];y['verbose']('request\x20received\x20in\x20getFlow'),y[_0xb3ff19(0x7ba)](_0xb3ff19(0x859)),y[_0xb3ff19(0x7ba)](_0x5d2639[_0xb3ff19(0x620)]);let _0x24b920=await this[_0xb3ff19(0x7f6)]({'request':_0x5d2639,'schema':N,'ClassRef':M,'execute':_0x307942=>O[_0xb3ff19(0x3f0)](_0x307942,_0x3cf035)});_0x120639[_0xb3ff19(0x612)](0xc8)[_0xb3ff19(0x4f9)](_0x24b920);})[_0x1f0043(0x185)](this[_0x1f0043(0x423)]('deleteflow'),..._0x564904,async(_0x33dd8f,_0x5c0ee7)=>{const _0x15ea25=_0x1f0043;let _0xd4344c=_0x33dd8f[_0x15ea25(0x620)];y['verbose'](_0x15ea25(0x15d)),y[_0x15ea25(0x7ba)]('request\x20body:\x20'),y[_0x15ea25(0x7ba)](_0x33dd8f[_0x15ea25(0x620)]);let _0x4f4627=await this['dataValidate']({'request':_0x33dd8f,'schema':N,'ClassRef':M,'execute':_0x33a071=>O[_0x15ea25(0x7ac)](_0x33a071,_0xd4344c)});_0x5c0ee7[_0x15ea25(0x612)](0xc8)[_0x15ea25(0x4f9)](_0x4f4627);})[_0x1f0043(0x13e)](this['routerPath'](_0x1f0043(0x398)),..._0x564904,async(_0x45a1cd,_0x159c7d)=>{const _0x349aef=_0x1f0043;y[_0x349aef(0x7ba)](_0x349aef(0x72e));let _0x5e6c67=await this['dataValidate']({'request':_0x45a1cd,'schema':N,'ClassRef':M,'execute':_0x1d5d5b=>O[_0x349aef(0x61a)](_0x1d5d5b)});_0x159c7d[_0x349aef(0x612)](0xc8)[_0x349aef(0x4f9)](_0x5e6c67);});}},Mi=T(require(a0_0x1e84a8(0x5de))),se={};function yi(_0x25ef06,_0x773219,_0x54cb55,_0x4ec2e8){se[_0x25ef06]||(se[_0x25ef06]={}),se[_0x25ef06][_0x773219]={'id':_0x773219,'response':_0x54cb55,'events':_0x4ec2e8};}function bi(_0x256a1e,_0x1acc7f){!se[_0x256a1e]||!se[_0x256a1e][_0x1acc7f]||delete se[_0x256a1e][_0x1acc7f];}function F(_0x4f25c3,_0x1cfc3f,_0x23035f){const _0x43f300=a0_0x1e84a8;if(!se[_0x4f25c3])return;let _0x11e01c=_0x43f300(0x817)+JSON[_0x43f300(0x732)](_0x23035f)+'\x0a\x0a';Object[_0x43f300(0x659)](se[_0x4f25c3])[_0x43f300(0x154)](_0x4f98db=>{const _0x4fe95b=_0x43f300;_0x4f98db[_0x4fe95b(0x58b)][_0x4fe95b(0x371)](_0x1cfc3f)&&_0x4f98db[_0x4fe95b(0x6d4)]['write'](_0x11e01c);});}function Si(){const _0x547507=a0_0x1e84a8;let _0x876fc5={};for(let _0x446875 in se)_0x876fc5[_0x446875]=Object[_0x547507(0x659)](se[_0x446875])[_0x547507(0x7b9)](_0xce7f82=>({'id':_0xce7f82['id'],'events':_0xce7f82['events']}));return _0x876fc5;}var Ci=require(a0_0x1e84a8(0x445)),Ts=require(a0_0x1e84a8(0x84a)),Is=class{},Io=new Ts[(a0_0x1e84a8(0x56c))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),To=new Ts['Schema']({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=I?.['model'](Is[a0_0x1e84a8(0x2c3)],To,a0_0x1e84a8(0x3e3)),_o=Mi[a0_0x1e84a8(0x50f)][a0_0x1e84a8(0x1db)](__dirname,'downloads'),ke=(0x0,Ot[a0_0x1e84a8(0x10a)])(),Oo=S[a0_0x1e84a8(0x13e)](a0_0x1e84a8(0x16b))[a0_0x1e84a8(0x7ef)],re=[Aa,Ia,Oa[Oo]];ke[a0_0x1e84a8(0x6f5)](a0_0x1e84a8(0x324),Ot[a0_0x1e84a8(0x50f)][a0_0x1e84a8(0x1eb)](_o))['get'](a0_0x1e84a8(0x5d5),async(_0xfadd7a,_0x107b9f)=>{const _0x16340d=a0_0x1e84a8;console[_0x16340d(0x1bb)]('bateu\x20events');let _0x295742=_0xfadd7a[_0x16340d(0x442)]['instance'],_0x1f6429=(_0xfadd7a[_0x16340d(0x5e7)][_0x16340d(0x58b)]||'')[_0x16340d(0x4c1)](','),_0x567af7=(0x0,Ci['v4'])();console[_0x16340d(0x1bb)](_0x16340d(0x624),_0x295742),console[_0x16340d(0x1bb)](_0x16340d(0x28a),_0x1f6429);let _0x4d8562=S[_0x16340d(0x13e)](_0x16340d(0x16b))[_0x16340d(0x296)],_0xe0c555=_0xfadd7a[_0x16340d(0x5e7)][_0x16340d(0x74f)];if(console[_0x16340d(0x1bb)](_0x16340d(0x419),_0xe0c555),_0x4d8562[_0x16340d(0x62a)]!==_0xe0c555){console['log'](_0x16340d(0x801));try{let _0x55d8fb=await fe[_0x16340d(0x396)]['find'](_0x295742);if(console[_0x16340d(0x1bb)](_0x16340d(0x3a1),_0x55d8fb),!_0x55d8fb||_0x55d8fb['apikey']!==_0xe0c555)return console['log'](_0x16340d(0x58d)),_0x107b9f[_0x16340d(0x612)](0x191)[_0x16340d(0x169)](_0x16340d(0x7da));}catch(_0x30ed68){return console[_0x16340d(0x31d)](_0x16340d(0x407),_0x30ed68),_0x107b9f[_0x16340d(0x612)](0x191)[_0x16340d(0x169)](_0x16340d(0x665));}}if(!await _e(_0x295742))return _0x107b9f[_0x16340d(0x612)](0x194)[_0x16340d(0x169)]('Instância\x20não\x20encontrada.');_0x107b9f[_0x16340d(0x232)](_0x16340d(0x7d0),_0x16340d(0x7d5)),_0x107b9f['setHeader']('Cache-Control',_0x16340d(0x610)),_0x107b9f[_0x16340d(0x232)]('Connection',_0x16340d(0x572)),_0x107b9f[_0x16340d(0x35a)]();let _0x19fd41=_0x16340d(0x817)+JSON['stringify']({'info':_0x16340d(0x3d3)})+'\x0a\x0a';_0x107b9f['write'](_0x19fd41),yi(_0x295742,_0x567af7,_0x107b9f,_0x1f6429),_0xfadd7a['on'](_0x16340d(0x6b0),()=>{const _0x272ba1=_0x16340d;console[_0x272ba1(0x1bb)](_0x272ba1(0x650)+_0x295742),bi(_0x295742,_0x567af7);});}),ke[a0_0x1e84a8(0x319)]('/startFlow/:instance/:startID',async(_0x1c2b3d,_0x51e500)=>{const _0x303648=a0_0x1e84a8;console[_0x303648(0x1bb)](_0x303648(0x2ae));let _0x2cf96e=_0x1c2b3d[_0x303648(0x442)][_0x303648(0x1d9)],_0x38195b=_0x1c2b3d[_0x303648(0x442)]['startID'],_0x276a18=_0x1c2b3d['query'][_0x303648(0x6aa)]||'',_0x259a49=_0x1c2b3d[_0x303648(0x620)];console['log'](_0x303648(0x10c),_0x2cf96e),console[_0x303648(0x1bb)](_0x303648(0x841),_0x38195b),console[_0x303648(0x1bb)]('RemoteJid:',_0x276a18),console[_0x303648(0x1bb)]('Request\x20Body:',_0x259a49);try{if(!await _e(_0x2cf96e))return _0x51e500[_0x303648(0x612)](0x194)['send'](_0x303648(0x54e));let _0x15f7da=await O['startFlowWebhook'](_0x2cf96e,_0x38195b,_0x276a18,_0x259a49);_0x51e500[_0x303648(0x169)](_0x15f7da);}catch(_0x3c4d4f){console['error'](_0x3c4d4f),_0x51e500[_0x303648(0x612)](0x1f4)[_0x303648(0x169)](_0x303648(0x3b9));}}),ke['get']('/clients-info',(_0x3a7ae1,_0xb86629)=>{const _0x3c1b73=a0_0x1e84a8;let _0x48952a=Si();_0xb86629[_0x3c1b73(0x4f9)](_0x48952a);})[a0_0x1e84a8(0x13e)]('/',(_0x3688d5,_0x5e4b51)=>{const _0x69f8ed=a0_0x1e84a8;let _0x376a1d=S[_0x69f8ed(0x13e)](_0x69f8ed(0x24e))['URL'];if(_0x376a1d){let _0x38952b=encodeURIComponent(''+_0x376a1d);_0x5e4b51['redirect'](_0x69f8ed(0x515)+_0x38952b);return;}let _0x193912=S[_0x69f8ed(0x13e)](_0x69f8ed(0x64e)),_0xab2aa=_0x193912&&_0x193912[_0x69f8ed(0x662)][_0x69f8ed(0x4c1)]('/')[0x4];if(_0xab2aa){let _0x5c5921=encodeURIComponent('https://'+_0xab2aa);_0x5e4b51['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x5c5921);}else _0x5e4b51['redirect'](_0x69f8ed(0x751));})['put'](a0_0x1e84a8(0x385),...re,async(_0x14982e,_0x502cdc)=>{const _0x4d2b70=a0_0x1e84a8;try{console[_0x4d2b70(0x1bb)](_0x4d2b70(0x583)),_0x502cdc[_0x4d2b70(0x612)](0xc8)['json']({'message':_0x4d2b70(0x590)}),_0x502cdc['on'](_0x4d2b70(0x7e9),()=>process['exit'](0x0));}catch(_0x488aa7){console[_0x4d2b70(0x31d)](_0x4d2b70(0x241),_0x488aa7),_0x502cdc[_0x4d2b70(0x612)](0x1f4)[_0x4d2b70(0x4f9)]({'message':_0x4d2b70(0x216)});}})[a0_0x1e84a8(0x558)]('/config',...re,async(_0x5d0f2b,_0x33685a)=>{const _0x4b64b0=a0_0x1e84a8;try{let _0x272b58=_0x5d0f2b[_0x4b64b0(0x620)];await ve[_0x4b64b0(0x3fe)]({},{'$set':_0x272b58},{'upsert':!0x0});let _0x4e9ce1=await ve['findOne']();_0x33685a[_0x4b64b0(0x4f9)](_0x4e9ce1);}catch(_0x587179){_0x33685a[_0x4b64b0(0x612)](0x190)[_0x4b64b0(0x169)](_0x587179['message']);}})[a0_0x1e84a8(0x13e)]('/config',...re,async(_0x88d716,_0x241edf)=>{const _0xe46dcb=a0_0x1e84a8;try{let _0x1d1a92=await ve['findOne']();if(!_0x1d1a92)return _0x241edf[_0xe46dcb(0x4f9)]({});_0x241edf[_0xe46dcb(0x4f9)](_0x1d1a92);}catch(_0x535ddf){_0x241edf[_0xe46dcb(0x612)](0x1f4)[_0xe46dcb(0x169)](_0x535ddf[_0xe46dcb(0x4b3)]);}})[a0_0x1e84a8(0x6f5)](a0_0x1e84a8(0x42d),new yt(S,...re)[a0_0x1e84a8(0x50b)])[a0_0x1e84a8(0x6f5)](a0_0x1e84a8(0x522),new At(...re)[a0_0x1e84a8(0x50b)])['use'](a0_0x1e84a8(0x481),new ct(...re)[a0_0x1e84a8(0x50b)])[a0_0x1e84a8(0x6f5)](a0_0x1e84a8(0x6e7),new wt(...re)[a0_0x1e84a8(0x50b)])[a0_0x1e84a8(0x6f5)](a0_0x1e84a8(0x5d9),new Tt(...re)[a0_0x1e84a8(0x50b)])['use']('/automate',new _t(...re)[a0_0x1e84a8(0x50b)]);var m=class{constructor(..._0x531f6b){const _0x29c5d=a0_0x1e84a8;throw{'status':0x190,'error':_0x29c5d(0x4cd),'message':_0x531f6b[_0x29c5d(0x124)]>0x0?_0x531f6b:void 0x0};}},ie=class{constructor(..._0x4e19fd){const _0x559339=a0_0x1e84a8;throw{'status':0x191,'error':_0x559339(0x496),'message':_0x4e19fd[_0x559339(0x124)]>0x0?_0x4e19fd:void 0x0};}},Z=class{constructor(..._0x4da9ed){const _0x46d31d=a0_0x1e84a8;throw{'status':0x193,'error':_0x46d31d(0x339),'message':_0x4da9ed['length']>0x0?_0x4da9ed:void 0x0};}},U=class{constructor(..._0x55d31d){const _0x165848=a0_0x1e84a8;throw{'status':0x194,'error':'Not\x20Found','message':_0x55d31d[_0x165848(0x124)]>0x0?_0x55d31d:void 0x0};}},x=class{constructor(..._0x545bd4){throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x545bd4['length']>0x0?_0x545bd4:void 0x0};}},we=require(a0_0x1e84a8(0x143));async function _s(_0x21e0f7){const _0x19eac2=a0_0x1e84a8;let _0x586eff=new $(_s[_0x19eac2(0x2c3)]),_0x385990=I[_0x19eac2(0x3bf)](),_0x1cbf99=_0x385990['db'](S[_0x19eac2(0x13e)](_0x19eac2(0x257))['CONNECTION']['DB_PREFIX_NAME']+_0x19eac2(0x822))['collection'](_0x21e0f7),_0x42eacf=async(_0x1c028e,_0x3fd1a0)=>{const _0x543873=_0x19eac2;try{return await _0x385990['connect'](),await _0x1cbf99[_0x543873(0x18e)]({'_id':_0x3fd1a0},JSON['parse'](JSON[_0x543873(0x732)](_0x1c028e,we[_0x543873(0x420)][_0x543873(0x5ae)])),{'upsert':!0x0});}catch{}},_0x2d44db=async _0x2b1e00=>{const _0x3e8b2b=_0x19eac2;try{await _0x385990[_0x3e8b2b(0x2dd)]();let _0x51e687=await _0x1cbf99['findOne']({'_id':_0x2b1e00}),_0x23eee9=JSON[_0x3e8b2b(0x732)](_0x51e687);return JSON['parse'](_0x23eee9,we[_0x3e8b2b(0x420)][_0x3e8b2b(0x145)]);}catch{}},_0x33250e=async _0x24b883=>{const _0x6dc7a5=_0x19eac2;try{return await _0x385990[_0x6dc7a5(0x2dd)](),await _0x1cbf99[_0x6dc7a5(0x3a3)]({'_id':_0x24b883});}catch{}},_0x5cc4b5=await _0x2d44db('creds')||(0x0,we[_0x19eac2(0x249)])();return{'state':{'creds':_0x5cc4b5,'keys':{'get':async(_0x5540de,_0x6a75f1)=>{const _0x21e235=_0x19eac2;let _0x42beac={};return await Promise[_0x21e235(0x279)](_0x6a75f1[_0x21e235(0x7b9)](async _0x18208f=>{const _0x532d5e=_0x21e235;let _0x3a9aba=await _0x2d44db(_0x5540de+'-'+_0x18208f);_0x5540de===_0x532d5e(0x3ec)&&_0x3a9aba&&(_0x3a9aba=we['proto']['Message']['AppStateSyncKeyData']['fromObject'](_0x3a9aba)),_0x42beac[_0x18208f]=_0x3a9aba;})),_0x42beac;},'set':async _0x1d760c=>{const _0x14b929=_0x19eac2;let _0x3fb227=[];for(let _0x1a9594 in _0x1d760c)for(let _0x43661e in _0x1d760c[_0x1a9594]){let _0x404f07=_0x1d760c[_0x1a9594][_0x43661e],_0x8afd39=_0x1a9594+'-'+_0x43661e;_0x3fb227[_0x14b929(0x857)](_0x404f07?_0x42eacf(_0x404f07,_0x8afd39):_0x33250e(_0x8afd39));}await Promise[_0x14b929(0x279)](_0x3fb227);}}},'saveCreds':async()=>_0x42eacf(_0x5cc4b5,_0x19eac2(0x4ec))};}var ks=T(require(a0_0x1e84a8(0x7b5))),Ls=T(require('node-cache')),Dt=require('@whiskeysockets/baileys'),Ei=require(a0_0x1e84a8(0x4b4)),Pt=require(a0_0x1e84a8(0x143)),xt;function xo(_0x3b0425){const _0x3ad6dc=a0_0x1e84a8;return xt||(xt=(0x0,Ei[_0x3ad6dc(0x326)])({'url':_0x3b0425['URI']}),xt[_0x3ad6dc(0x2dd)]()),xt;}var pe=class u{constructor(_0x19af15,_0x56c633){const _0x4184a2=a0_0x1e84a8;this[_0x4184a2(0x18b)]=_0x19af15,this[_0x4184a2(0x3a0)]=_0x56c633,this['logger']=new $(u[_0x4184a2(0x2c3)]),this[_0x4184a2(0x59e)]=xo(_0x19af15);}set['reference'](_0x5c5632){this['instanceName']=_0x5c5632;}async[a0_0x1e84a8(0x6ac)](){const _0xc4ff45=a0_0x1e84a8;try{return await this[_0xc4ff45(0x59e)]['sendCommand']([_0xc4ff45(0x4f1),this[_0xc4ff45(0x18b)][_0xc4ff45(0x3ee)]+':*']);}catch(_0x1d5a18){this[_0xc4ff45(0x1a7)][_0xc4ff45(0x31d)](_0x1d5a18);}}async[a0_0x1e84a8(0x4c5)](_0x240f3a,_0x57e78f){const _0x592555=a0_0x1e84a8;try{let _0x50a5a6=JSON[_0x592555(0x732)](_0x57e78f,Pt[_0x592555(0x420)][_0x592555(0x5ae)]);return await this[_0x592555(0x59e)]['hSet'](this[_0x592555(0x18b)]['PREFIX_KEY']+':'+this[_0x592555(0x3a0)],_0x240f3a,_0x50a5a6);}catch(_0x16ac1c){this['logger'][_0x592555(0x31d)](_0x16ac1c);}}async[a0_0x1e84a8(0x160)](){const _0x46fd27=a0_0x1e84a8;try{let _0x572bcf=await this[_0x46fd27(0x59e)][_0x46fd27(0x6c2)](this[_0x46fd27(0x18b)][_0x46fd27(0x3ee)]+':'+this[_0x46fd27(0x3a0)]);if(_0x572bcf){for(let _0x4ae844 in _0x572bcf)Object[_0x46fd27(0x20f)][_0x46fd27(0x827)][_0x46fd27(0x832)](_0x572bcf,_0x4ae844)&&(_0x572bcf[_0x4ae844]=JSON[_0x46fd27(0x2c0)](_0x572bcf[_0x4ae844],Pt[_0x46fd27(0x420)][_0x46fd27(0x145)]));return _0x572bcf;}}catch(_0x4cf3bc){this[_0x46fd27(0x1a7)][_0x46fd27(0x31d)](_0x4cf3bc);}}async['readData'](_0x591391){const _0x4d14c9=a0_0x1e84a8;try{let _0x13ac73=await this[_0x4d14c9(0x59e)][_0x4d14c9(0x28e)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x4d14c9(0x3a0)],_0x591391);if(_0x13ac73)return JSON[_0x4d14c9(0x2c0)](_0x13ac73,Pt[_0x4d14c9(0x420)][_0x4d14c9(0x145)]);}catch(_0x1f0763){this[_0x4d14c9(0x1a7)][_0x4d14c9(0x31d)](_0x1f0763);}}async[a0_0x1e84a8(0x82e)](_0x1061b6){const _0x43e5f6=a0_0x1e84a8;try{return await this[_0x43e5f6(0x59e)][_0x43e5f6(0x607)](this['redisEnv'][_0x43e5f6(0x3ee)]+':'+this['instanceName'],_0x1061b6);}catch(_0x71ef3f){this[_0x43e5f6(0x1a7)][_0x43e5f6(0x31d)](_0x71ef3f);}}async[a0_0x1e84a8(0x150)](_0x376295){const _0x31ed4b=a0_0x1e84a8;try{return await this['client']['del'](_0x376295||this['redisEnv'][_0x31ed4b(0x3ee)]+':'+this[_0x31ed4b(0x3a0)]);}catch(_0x3e17cb){this['logger']['error'](_0x3e17cb);}}};async function Os(_0x2d17cb,_0x22138a){const _0x4e3eb8=a0_0x1e84a8;let _0x53c8a9=new $(Os[_0x4e3eb8(0x2c3)]),_0xe84ec9=new pe(_0x2d17cb,_0x22138a),_0x1f3df6=async(_0x27e469,_0x1239df)=>{const _0x253305=_0x4e3eb8;try{return await _0xe84ec9[_0x253305(0x4c5)](_0x1239df,_0x27e469);}catch(_0x4f2c77){return _0x53c8a9['error']({'localError':_0x253305(0x4c5),'error':_0x4f2c77});}},_0x3fb715=async _0x43910c=>{const _0x553786=_0x4e3eb8;try{return await _0xe84ec9[_0x553786(0x2d5)](_0x43910c);}catch(_0x3ee3e1){_0x53c8a9[_0x553786(0x31d)]({'readData':_0x553786(0x4c5),'error':_0x3ee3e1});return;}},_0x12d397=async _0x39ed5f=>{const _0xdbe411=_0x4e3eb8;try{return await _0xe84ec9[_0xdbe411(0x82e)](_0x39ed5f);}catch(_0xabaeaf){_0x53c8a9['error']({'readData':_0xdbe411(0x82e),'error':_0xabaeaf});}},_0x16d52c=await _0x3fb715(_0x4e3eb8(0x4ec))||(0x0,Dt[_0x4e3eb8(0x249)])();return{'state':{'creds':_0x16d52c,'keys':{'get':async(_0x452069,_0x377479)=>{const _0x16ab88=_0x4e3eb8;let _0x536c4e={};return await Promise[_0x16ab88(0x279)](_0x377479[_0x16ab88(0x7b9)](async _0x499b13=>{const _0x4eb62b=_0x16ab88;let _0xe783c5=await _0x3fb715(_0x452069+'-'+_0x499b13);_0x452069===_0x4eb62b(0x3ec)&&_0xe783c5&&(_0xe783c5=Dt[_0x4eb62b(0x5c3)]['Message'][_0x4eb62b(0x352)]['fromObject'](_0xe783c5)),_0x536c4e[_0x499b13]=_0xe783c5;})),_0x536c4e;},'set':async _0x17ef83=>{const _0xf2f52e=_0x4e3eb8;let _0x438f15=[];for(let _0x219e2f in _0x17ef83)for(let _0x1b3e70 in _0x17ef83[_0x219e2f]){let _0xd5bf64=_0x17ef83[_0x219e2f][_0x1b3e70],_0x4c8e5c=_0x219e2f+'-'+_0x1b3e70;_0x438f15[_0xf2f52e(0x857)](_0xd5bf64?await _0x1f3df6(_0xd5bf64,_0x4c8e5c):await _0x12d397(_0x4c8e5c));}await Promise['all'](_0x438f15);}}},'saveCreds':async()=>await _0x1f3df6(_0x16d52c,_0x4e3eb8(0x4ec))};}var k=T(require('fs')),Y=require(a0_0x1e84a8(0x445)),Ut=T(require(a0_0x1e84a8(0x707))),ne=require('crypto'),vi=require(a0_0x1e84a8(0x871)),Ni=require('util'),$i=T(require(a0_0x1e84a8(0x4bc))),Ne=class extends _{constructor(_0x5c7829,_0xe7a333,_0x56901f){const _0x5a5c58=a0_0x1e84a8;super(_0xe7a333),this[_0x5a5c58(0x34d)]=_0x5c7829,this[_0x5a5c58(0x26f)]=_0xe7a333,this['dbConnection']=_0x56901f;}async['createOrUpdate'](_0x1f9915,_0x332144){const _0x310ad1=a0_0x1e84a8;try{if(this['dbSettings']['ENABLED']){console['log']('Creating\x20or\x20updating\x20instance\x20with\x20id:\x20'+_0x332144+_0x310ad1(0x6a0),_0x1f9915);let _0x49c54a=await this[_0x310ad1(0x34d)][_0x310ad1(0x198)]({'_id':_0x332144},{'$set':_0x1f9915},{'new':!0x0,'upsert':!0x0});return console[_0x310ad1(0x1bb)](_0x310ad1(0x820),_0x49c54a),_0x49c54a;}}catch(_0x2a4619){throw console['error'](_0x310ad1(0x4f8),_0x2a4619),_0x2a4619;}return null;}async[a0_0x1e84a8(0x3a3)](_0x377cac){const _0x51bc1c=a0_0x1e84a8;try{let _0x199523=A(_0x377cac['where']);return{'deletedCount':(await this[_0x51bc1c(0x34d)]['deleteOne'](_0x199523))['deletedCount']};}catch(_0x3bf65a){return{'error':_0x3bf65a?.[_0x51bc1c(0x71c)]()};}}async[a0_0x1e84a8(0x688)](_0x4b5331){const _0xf8aeca=a0_0x1e84a8;try{let _0x4eff62=A(_0x4b5331[_0xf8aeca(0x564)]);return await this[_0xf8aeca(0x34d)][_0xf8aeca(0x688)](_0x4eff62)[_0xf8aeca(0x225)]();}catch{return null;}}},kt=(0x0,Ni[a0_0x1e84a8(0x14a)])(vi['exec']),Po=S['get']('PROXY'),xs=class{constructor(){const _0x257c01=a0_0x1e84a8;this[_0x257c01(0x6f8)]=new Ne(Be,S),(!this[_0x257c01(0x5e2)]||!this[_0x257c01(0x3e6)])&&Po&&this['detectIPv6PrefixAndInterface']()['then'](()=>{const _0x2383b7=_0x257c01;console['log'](_0x2383b7(0x7c1)+this['ipv6Prefix']),console[_0x2383b7(0x1bb)](_0x2383b7(0x5d0)+this[_0x2383b7(0x3e6)]);})['catch'](_0xb7fc59=>{const _0x36201f=_0x257c01;console[_0x36201f(0x31d)](_0x36201f(0x3ed)+_0xb7fc59['message']);});}async[a0_0x1e84a8(0x6f4)](){const _0x34ca94=a0_0x1e84a8;try{let {stdout:_0x3999de}=await kt('ip\x20-br\x20link\x20show');console[_0x34ca94(0x1bb)](_0x34ca94(0x5a7)+_0x3999de);let _0x48e859=_0x3999de[_0x34ca94(0x4c1)]('\x0a')[_0x34ca94(0x7b9)](_0x56a658=>_0x56a658['split']('\x20')[0x0])[_0x34ca94(0x186)](_0x2df786=>!_0x2df786[_0x34ca94(0x371)]('lo')&&!_0x2df786[_0x34ca94(0x371)](_0x34ca94(0x606))&&!_0x2df786[_0x34ca94(0x371)]('vir')&&!_0x2df786[_0x34ca94(0x371)]('wl')&&!_0x2df786['includes']('@'));if(console['log']('Filtered\x20network\x20interfaces:\x20'+_0x48e859),_0x48e859[_0x34ca94(0x124)]===0x0)throw new Error(_0x34ca94(0x1b7));this[_0x34ca94(0x3e6)]=_0x48e859[0x0];let {stdout:_0x1edb95}=await kt(_0x34ca94(0x4dc)+this[_0x34ca94(0x3e6)]);console[_0x34ca94(0x1bb)]('IPv6\x20addresses\x20detected:\x20'+_0x1edb95);let _0x1a4361=_0x1edb95[_0x34ca94(0x4c1)]('\x0a')[_0x34ca94(0x6a6)](_0x3edf8e=>_0x3edf8e[_0x34ca94(0x371)]('inet6')&&_0x3edf8e[_0x34ca94(0x371)](_0x34ca94(0x3fb)));if(!_0x1a4361)throw new Error(_0x34ca94(0x1b1));let _0x329fdc=_0x1a4361['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x329fdc)throw new Error(_0x34ca94(0x63c));let [_0x4cdd6a,_0x405955,_0x576cc0]=_0x329fdc,_0x4e3c41=Math['floor'](Number(_0x576cc0)/0x10),_0x3c1854=Number(_0x576cc0)%0x10,_0x4c37fb=_0x405955[_0x34ca94(0x4c1)](':')[_0x34ca94(0x603)](0x0,_0x4e3c41)[_0x34ca94(0x1db)](':');if(_0x3c1854>0x0){let _0x170fad=_0x405955[_0x34ca94(0x4c1)](':')[_0x4e3c41],_0x346d4e=0xffff<<0x10-_0x3c1854&0xffff,_0x35c075=(parseInt(_0x170fad,0x10)&_0x346d4e)['toString'](0x10)[_0x34ca94(0x3f3)](0x4,'0');_0x4c37fb+=':'+_0x35c075;}this[_0x34ca94(0x5e2)]=_0x4c37fb+':';}catch(_0x1d35e1){console[_0x34ca94(0x31d)](_0x34ca94(0x7a0),_0x1d35e1);}}async[a0_0x1e84a8(0x22a)](_0x2d48be){const _0x519bc2=a0_0x1e84a8;let _0x2ff92b='ip\x20-6\x20addr\x20add\x20'+_0x2d48be+'/64\x20dev\x20'+this[_0x519bc2(0x3e6)];try{await kt(_0x2ff92b),console[_0x519bc2(0x1bb)](_0x519bc2(0x573)+_0x2d48be);}catch(_0x2aa25d){console[_0x519bc2(0x31d)](_0x519bc2(0x1b0)+_0x2aa25d);}}async['removeIPv6'](_0x3b7178){const _0x209c38=a0_0x1e84a8;let _0x9af9fe=_0x209c38(0x7dc)+_0x3b7178+_0x209c38(0x308)+this[_0x209c38(0x3e6)];try{await kt(_0x9af9fe),console[_0x209c38(0x1bb)](_0x209c38(0x819)+_0x3b7178);}catch(_0x50ea5d){console[_0x209c38(0x31d)](_0x209c38(0x78e)+_0x50ea5d);}}[a0_0x1e84a8(0x153)](){const _0x12f252=a0_0x1e84a8;return _0x12f252(0x655)[_0x12f252(0x122)](/X/g,()=>'0123456789ABCDEF'['charAt'](Math[_0x12f252(0x2f5)](Math[_0x12f252(0x69c)]()*0x10)));}[a0_0x1e84a8(0x3cd)](_0x39a51d,_0x4322d2){const _0x4667b9=a0_0x1e84a8;let _0x156f63=_0x4322d2[_0x4667b9(0x4c1)](':');return _0x156f63[0x0]=(parseInt(_0x156f63[0x0],0x10)^0x2)[_0x4667b9(0x71c)](0x10)[_0x4667b9(0x3f3)](0x2,'0'),''+_0x39a51d+_0x156f63[0x0]+_0x156f63[0x1]+':'+_0x156f63[0x2]+_0x4667b9(0x864)+_0x156f63[0x3]+':'+_0x156f63[0x4]+_0x156f63[0x5];}[a0_0x1e84a8(0x1e3)](){const _0x3f6c6d=a0_0x1e84a8;let _0x15f3a1=this['ipv6Prefix'];_0x15f3a1[_0x3f6c6d(0x6be)](':')||(_0x15f3a1+=':');let _0x4f74a7=this[_0x3f6c6d(0x153)]();return this['ip6eui'](_0x15f3a1,_0x4f74a7);}[a0_0x1e84a8(0x31e)](_0x59b945){const _0x51521b=a0_0x1e84a8;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x51521b(0x33b)](_0x59b945);}async['testIPv6'](_0x18e1f8){const _0x5090eb=a0_0x1e84a8;let _0x3a88fb=[{'url':_0x5090eb(0x345),'parse':_0x2a0e7e=>_0x2a0e7e['ip']},{'url':_0x5090eb(0x750),'parse':_0x43a236=>_0x43a236['ip']},{'url':'https://ifconfig.me/ip','parse':_0x4d644f=>_0x4d644f[_0x5090eb(0x1e8)]()},{'url':_0x5090eb(0x7c0),'parse':_0x4bc7e5=>_0x4bc7e5[_0x5090eb(0x1e8)]()}],_0x34f008=_0x3a88fb[Math['floor'](Math[_0x5090eb(0x69c)]()*_0x3a88fb['length'])];try{let _0x56742a=await $i['default']['get'](_0x34f008[_0x5090eb(0x2a2)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x18e1f8}}),_0xaddf66=_0x34f008['parse'](_0x56742a['data']);return _0xaddf66[_0x5090eb(0x77a)]()===_0x18e1f8[_0x5090eb(0x77a)]()?(console[_0x5090eb(0x1bb)](_0x5090eb(0x756)+_0x18e1f8),!0x0):(console[_0x5090eb(0x31d)](_0x5090eb(0x815)+_0x18e1f8+_0x5090eb(0x33c)+_0xaddf66),!0x1);}catch(_0x31dea0){return console['error'](_0x5090eb(0x33a)+_0x34f008[_0x5090eb(0x2a2)]+':\x20'+_0x31dea0[_0x5090eb(0x4b3)]),!0x1;}}async['createIPv6'](_0x1ff0b5,_0x39885d){const _0x1fd4b4=a0_0x1e84a8;if(!this[_0x1fd4b4(0x5e2)]||!this['networkInterface'])return console[_0x1fd4b4(0x31d)](_0x1fd4b4(0x2ba)),null;let _0x220156;do _0x220156=this[_0x1fd4b4(0x1e3)](),console[_0x1fd4b4(0x1bb)](_0x1fd4b4(0x397)+_0x220156);while(!await this['isValidAndUniqueIPv6'](_0x220156));await this['configureIPv6'](_0x220156),console[_0x1fd4b4(0x1bb)](_0x1fd4b4(0x657)+_0x220156);let _0x20a42f={'_id':_0x1ff0b5+'-'+_0x39885d,'ip':_0x220156},_0x5a3712=await this[_0x1fd4b4(0x6f8)][_0x1fd4b4(0x5e0)](_0x20a42f,_0x20a42f[_0x1fd4b4(0x3c4)]);return console['log'](_0x1fd4b4(0x221)+_0x5a3712),_0x220156;}async['isValidAndUniqueIPv6'](_0x3370e3){const _0x8fcf98=a0_0x1e84a8;return this['isValidIPv6Config'](_0x3370e3)?!await this['cacheInstanceRepository'][_0x8fcf98(0x688)]({'where':{'ip':_0x3370e3}}):!0x1;}async[a0_0x1e84a8(0x427)](_0x2fe796,_0x53d82e){const _0x5b39ce=a0_0x1e84a8;let _0x5646f3=_0x2fe796+'-'+_0x53d82e,_0x3ab3e7=await this[_0x5b39ce(0x6f8)][_0x5b39ce(0x688)]({'where':{'_id':_0x5646f3}});_0x3ab3e7&&_0x3ab3e7['ip']&&(await this[_0x5b39ce(0x52d)](_0x3ab3e7['ip']),await this[_0x5b39ce(0x6f8)][_0x5b39ce(0x3a3)]({'where':{'_id':_0x5646f3}}));}},Do=new xs(),ae=Do,Fs=a0_0x1e84a8(0x75c),xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S[a0_0x1e84a8(0x13e)]('AUTHENTICATION')[a0_0x1e84a8(0x296)][a0_0x1e84a8(0x62a)],Ai=S[a0_0x1e84a8(0x13e)](a0_0x1e84a8(0x2eb));async function Fo(){const _0x8f77a5=a0_0x1e84a8;let _0x1e1163=await ve[_0x8f77a5(0x688)]();he=_0x1e1163?.[_0x8f77a5(0x178)]??null,Lo=_0x1e1163?.[_0x8f77a5(0x60e)]??null,Fs=_0x1e1163?.[_0x8f77a5(0x1cb)]??'Safari',xi=_0x1e1163?.['connectedName']??B??'uazapi';}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x5c2922,_0x4e73f7,_0x4ab835){const _0x1af9bd=a0_0x1e84a8;this['configService']=_0x5c2922,this['eventEmitter']=_0x4e73f7,this[_0x1af9bd(0x2d1)]=_0x4ab835,this[_0x1af9bd(0x289)]=null,this[_0x1af9bd(0x1a7)]=new $(u[_0x1af9bd(0x2c3)]),this[_0x1af9bd(0x1d9)]={},this[_0x1af9bd(0x83c)]={},this[_0x1af9bd(0x79a)]={'state':_0x1af9bd(0x6b0)},this['storePath']=(0x0,j[_0x1af9bd(0x1db)])(le,_0x1af9bd(0x77d)),this['msgRetryCounterCache']=new Ls[(_0x1af9bd(0x50f))](),this[_0x1af9bd(0x4da)]=new Ls[(_0x1af9bd(0x50f))](),this[_0x1af9bd(0x1aa)]=!0x1,this[_0x1af9bd(0x45c)]={'status.instance':'/wa-connection-update','connection.update':_0x1af9bd(0x849),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x1af9bd(0x207),'send.message':_0x1af9bd(0x207),'messages.update':_0x1af9bd(0x35b),'group.upsert':_0x1af9bd(0x3e2),'group.update':_0x1af9bd(0x3e2),'group-participants.update':'/wa-groups','messages.set':_0x1af9bd(0x532),'contacts.set':_0x1af9bd(0x3c3),'contacts.upsert':_0x1af9bd(0x3c3),'contacts.update':_0x1af9bd(0x3c3),'presence.update':_0x1af9bd(0x2fb),'chats.set':'/wa-chats','chats.update':_0x1af9bd(0x86d),'chats.upsert':'/wa-chats','chats.delete':_0x1af9bd(0x86d)},this[_0x1af9bd(0x2e8)]=0x0,this[_0x1af9bd(0x222)]=[],this[_0x1af9bd(0x2de)]=0xea60,this[_0x1af9bd(0x704)]=!0x1,this[_0x1af9bd(0x12c)]={'chats.upsert':async(_0x4adc9c,_0x333a63)=>{const _0xcadc84=_0x1af9bd;let _0x457b58=[];for await(let _0x12e199 of _0x4adc9c)_0x457b58[_0xcadc84(0x857)]({'_id':_0x12e199['id'],'owner':this['instance'][_0xcadc84(0x40b)],'group':_0x12e199['id'][_0xcadc84(0x6be)]('@g.us'),'name':_0x12e199[_0xcadc84(0x2c3)]||_0x12e199[_0xcadc84(0x16c)]||null,'contactname':null,'lastmsg':_0x12e199[_0xcadc84(0x5a5)]&&_0x12e199[_0xcadc84(0x5a5)][_0xcadc84(0x71c)]()[_0xcadc84(0x124)]<0xd?_0x12e199[_0xcadc84(0x5a5)]*0x3e8:_0x12e199[_0xcadc84(0x5a5)]||null,'archived':_0x12e199[_0xcadc84(0x465)]||!0x1,'unreadcount':_0x12e199[_0xcadc84(0x24a)]||0x0,'ephemeralExpiration':_0x12e199[_0xcadc84(0x38e)]||0x0});this[_0xcadc84(0x47a)](_0xcadc84(0x45e),_0x457b58);},'chats.update':async(_0x182dfe,_0x59e991)=>{const _0xddfcb2=_0x1af9bd;for(let _0x589bc6 of _0x182dfe){let _0x4525d8={'_id':_0x589bc6['id'],'owner':this['instance'][_0xddfcb2(0x40b)],'archived':_0x589bc6[_0xddfcb2(0x465)],'muteEndTime':_0x589bc6[_0xddfcb2(0x5d3)],'ephemeralExpiration':_0x589bc6[_0xddfcb2(0x38e)]},_0x59cb66=!0x1,_0x28abdc={};_0x4525d8[_0xddfcb2(0x465)]!=null&&(this['logger'][_0xddfcb2(0x7ba)](this[_0xddfcb2(0x3a0)]+'\x20('+this['instance'][_0xddfcb2(0x40b)]+_0xddfcb2(0x7c9)+_0x589bc6['id']+'\x20:\x20'+_0x589bc6[_0xddfcb2(0x465)]),_0x59cb66=!0x0,_0x28abdc[_0xddfcb2(0x465)]=_0x589bc6['archived']),_0xddfcb2(0x5d3)in _0x589bc6&&(this[_0xddfcb2(0x1a7)][_0xddfcb2(0x7ba)](this[_0xddfcb2(0x3a0)]+'\x20('+this[_0xddfcb2(0x1d9)][_0xddfcb2(0x40b)]+_0xddfcb2(0x29e)+_0x589bc6['id']+'\x20:\x20'+(_0x589bc6['muteEndTime']??'0')),_0x59cb66=!0x0,_0x28abdc['muteEndTime']=_0x589bc6['muteEndTime']??0x0),_0xddfcb2(0x38e)in _0x589bc6&&(this[_0xddfcb2(0x1a7)]['verbose'](this['instanceName']+'\x20('+this[_0xddfcb2(0x1d9)][_0xddfcb2(0x40b)]+_0xddfcb2(0x821)+_0x589bc6['id']+_0xddfcb2(0x678)+(_0x589bc6[_0xddfcb2(0x38e)]!==void 0x0?_0x589bc6[_0xddfcb2(0x38e)]:'undefined')),_0x28abdc[_0xddfcb2(0x38e)]=_0x589bc6[_0xddfcb2(0x38e)]===null?0x0:_0x589bc6[_0xddfcb2(0x38e)],_0x59cb66=!0x0);let _0x4e52b6;_0x59cb66&&(_0x4e52b6=await this[_0xddfcb2(0x2d1)]['chat']['updateOne']({'where':{'_id':_0x589bc6['id']}},_0x28abdc,this[_0xddfcb2(0x1d9)][_0xddfcb2(0x40b)])),_0x4e52b6&&F(this[_0xddfcb2(0x3a0)],_0xddfcb2(0x16d),{'chat':_0x4e52b6});}},'chats.delete':async _0x18ad6d=>{const _0x67c7c7=_0x1af9bd;for(let _0x57c3cb of _0x18ad6d)if(_0x57c3cb[_0x67c7c7(0x6be)](_0x67c7c7(0x20c))){await this['repository'][_0x67c7c7(0x7e6)]['delete']({'where':{'_id':_0x57c3cb}},this[_0x67c7c7(0x1d9)][_0x67c7c7(0x40b)]);let _0x65c434={'where':{'key':{'remoteJid':_0x57c3cb}}};await this[_0x67c7c7(0x2d1)][_0x67c7c7(0x4b3)][_0x67c7c7(0x185)](_0x65c434,this[_0x67c7c7(0x1d9)][_0x67c7c7(0x40b)]);}else{await this[_0x67c7c7(0x2d1)][_0x67c7c7(0x7e6)][_0x67c7c7(0x3fe)]({'where':{'_id':_0x57c3cb}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x67c7c7(0x40b)]);let _0x10afbb={'where':{'key':{'remoteJid':_0x57c3cb}}};await this[_0x67c7c7(0x2d1)]['message'][_0x67c7c7(0x185)](_0x10afbb,this[_0x67c7c7(0x1d9)]['wuid']);}this[_0x67c7c7(0x47a)](_0x67c7c7(0x581),[..._0x18ad6d]);}},this[_0x1af9bd(0x2bb)]={'contacts.upsert':async(_0xabad0a,_0x1f798f)=>{const _0x29fa83=_0x1af9bd;let _0x427bda=await this[_0x29fa83(0x2d1)][_0x29fa83(0x12b)][_0x29fa83(0x6a6)]({'where':{}},this[_0x29fa83(0x1d9)][_0x29fa83(0x40b)]),_0x360bd4=[];for await(let _0x5e700e of _0xabad0a)_0x427bda[_0x29fa83(0x6a6)](_0x579bd1=>_0x579bd1[_0x29fa83(0x3c4)]===_0x5e700e['id'])||_0x360bd4[_0x29fa83(0x857)]({'_id':_0x5e700e['id'],'pushName':_0x5e700e?.[_0x29fa83(0x2c3)]||_0x5e700e?.[_0x29fa83(0x27c)],'owner':this['instance']['wuid']});this[_0x29fa83(0x47a)]('contacts.upsert',_0x360bd4),await this[_0x29fa83(0x2d1)][_0x29fa83(0x12b)][_0x29fa83(0x72d)](_0x360bd4);},'contacts.update':async(_0x16f574,_0xcc4d76)=>{const _0x104d34=_0x1af9bd;let _0x29eeab=[];for await(let _0x437132 of _0x16f574)_0x29eeab[_0x104d34(0x857)]({'_id':_0x437132['id'],'pushName':_0x437132?.['name']??_0x437132?.['verifiedName'],'owner':this[_0x104d34(0x1d9)][_0x104d34(0x40b)]});this[_0x104d34(0x47a)]('contacts.update',_0x29eeab);}},this['messageHandle']={'messaging-history.set':async({messages:_0x7d7e82,chats:_0x4465f2,isLatest:_0x4e5bb7},_0x1aee06)=>{const _0x1004b5=_0x1af9bd;if(_0x4e5bb7){let _0x4f9806=await Promise[_0x1004b5(0x279)](_0x4465f2['map'](async _0x9cc56a=>({'_id':_0x9cc56a['id'],'owner':this[_0x1004b5(0x1d9)][_0x1004b5(0x40b)],'group':_0x9cc56a['id'][_0x1004b5(0x6be)](_0x1004b5(0x20c)),'name':_0x9cc56a[_0x1004b5(0x2c3)]||_0x9cc56a[_0x1004b5(0x16c)]||_0x9cc56a['username']||null,'contactname':null,'lastmsg':_0x9cc56a[_0x1004b5(0x5a5)]&&_0x9cc56a[_0x1004b5(0x5a5)][_0x1004b5(0x71c)]()['length']<0xd?_0x9cc56a[_0x1004b5(0x5a5)]*0x3e8:_0x9cc56a[_0x1004b5(0x5a5)]||null,'archived':_0x9cc56a[_0x1004b5(0x465)]||!0x1,'unreadcount':_0x9cc56a[_0x1004b5(0x24a)]||0x0,'ephemeralExpiration':_0x9cc56a[_0x1004b5(0x38e)]||0x0,'muteEndTime':_0x9cc56a[_0x1004b5(0x5d3)]||0x0})));this['sendDataWebhook'](_0x1004b5(0x54c),_0x4f9806),await this[_0x1004b5(0x58e)](_0x4f9806,_0x1aee06);}let _0xb8db3=[],_0x2e244f=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x246fb4]of Object[_0x1004b5(0x40e)](_0x7d7e82)){if(_0x246fb4['message']?.[_0x1004b5(0x682)]||_0x246fb4[_0x1004b5(0x4b3)]?.[_0x1004b5(0x340)]||!_0x246fb4['message']||_0x246fb4[_0x1004b5(0x37f)][_0x1004b5(0x6aa)]===_0x1004b5(0x654)||(ks[_0x1004b5(0x50f)][_0x1004b5(0x281)](_0x246fb4?.['messageTimestamp'])&&(_0x246fb4['messageTimestamp']=_0x246fb4[_0x1004b5(0x781)]?.[_0x1004b5(0x303)]()),_0x246fb4['messageTimestamp']&&_0x246fb4[_0x1004b5(0x781)][_0x1004b5(0x71c)]()[_0x1004b5(0x124)]<0xd&&(_0x246fb4[_0x1004b5(0x781)]=_0x246fb4[_0x1004b5(0x781)]*0x3e8),_0x246fb4[_0x1004b5(0x781)]<_0x2e244f))continue;let _0x4289be=(0x0,w[_0x1004b5(0x38a)])(_0x246fb4[_0x1004b5(0x4b3)]),_0x41b729=(0x0,w[_0x1004b5(0x2d0)])(_0x4289be),{message_normalized:_0x4eb844}=this[_0x1004b5(0x73e)](_0x4289be,_0x41b729,null);Object[_0x1004b5(0x4f1)](_0x4eb844)['length']>0x0&&_0xb8db3[_0x1004b5(0x857)]({'_id':_0x246fb4['key']['id'],'key':_0x246fb4[_0x1004b5(0x37f)],'pushName':_0x246fb4[_0x1004b5(0x2a7)],'participant':_0x246fb4['participant'],'message':_0x4289be,'messageType':_0x41b729,'message_normalized':{'key':_0x246fb4['key'],'pushName':_0x246fb4['pushName'],'messageTimestamp':_0x246fb4[_0x1004b5(0x781)],..._0x4eb844},'messageTimestamp':_0x246fb4[_0x1004b5(0x781)],'owner':this[_0x1004b5(0x1d9)][_0x1004b5(0x40b)]});}_0x1aee06[_0x1004b5(0x7f4)]&&_0xb8db3['length']>0x0&&(this[_0x1004b5(0x1a7)][_0x1004b5(0x7ba)](this[_0x1004b5(0x3a0)]+'\x20('+this[_0x1004b5(0x1d9)][_0x1004b5(0x40b)]+'):\x20'+_0xb8db3[_0x1004b5(0x124)]+_0x1004b5(0x4d2)+this[_0x1004b5(0x1d9)][_0x1004b5(0x40b)]+_0x1004b5(0x5f9)),await this[_0x1004b5(0x2d1)][_0x1004b5(0x4b3)][_0x1004b5(0x72d)]([..._0xb8db3],this[_0x1004b5(0x1d9)][_0x1004b5(0x40b)])),this[_0x1004b5(0x47a)]('messages.set',[..._0xb8db3]),_0x7d7e82=void 0x0;},'messages.upsert':async({messages:_0x290ffc,type:_0x4bfde8},_0x93f389)=>{const _0x48d7c8=_0x1af9bd;for(let _0xaf3fd1 of _0x290ffc){if(this[_0x48d7c8(0x83c)]?.[_0x48d7c8(0x66c)]&&_0xaf3fd1[_0x48d7c8(0x37f)][_0x48d7c8(0x6aa)][_0x48d7c8(0x371)]('@g.us')){this[_0x48d7c8(0x1a7)]['verbose'](this[_0x48d7c8(0x3a0)]+'\x20('+this[_0x48d7c8(0x1d9)]['wuid']+_0x48d7c8(0x2b1));return;}if(_0xaf3fd1[_0x48d7c8(0x37f)]['remoteJid'][_0x48d7c8(0x371)](_0x48d7c8(0x47e))||_0xaf3fd1[_0x48d7c8(0x37f)][_0x48d7c8(0x6aa)]==='status@broadcast')return;if(_0xaf3fd1[_0x48d7c8(0x7fb)]&&_0xaf3fd1[_0x48d7c8(0x7fb)][0x0]===_0x48d7c8(0x1a3)){console[_0x48d7c8(0x31d)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this[_0x48d7c8(0x825)](_0xaf3fd1),Lt[_0xaf3fd1[_0x48d7c8(0x37f)]['id']]=_0xaf3fd1,this[_0x48d7c8(0x65d)](_0xaf3fd1,0x0);return;}if(_0x4bfde8!==_0x48d7c8(0x604)||!_0xaf3fd1?.[_0x48d7c8(0x4b3)]||_0xaf3fd1[_0x48d7c8(0x4b3)]?.['protocolMessage']||_0xaf3fd1[_0x48d7c8(0x4b3)]?.['senderKeyDistributionMessage'])return;let _0x248ec7=null,_0x55a892=null;Lt[_0xaf3fd1[_0x48d7c8(0x37f)]['id']]&&(console[_0x48d7c8(0x31d)](_0x48d7c8(0x779)),await this[_0x48d7c8(0x2d1)][_0x48d7c8(0x2df)][_0x48d7c8(0x185)]({'where':{'_id':_0xaf3fd1[_0x48d7c8(0x37f)]['id']}}),delete Lt[_0xaf3fd1[_0x48d7c8(0x37f)]['id']]);try{_0x248ec7=await this[_0x48d7c8(0x3f6)](_0xaf3fd1),_0x55a892=_0x248ec7?_0x248ec7[_0x48d7c8(0x1db)](','):null;}catch(_0xb830ef){this['logger'][_0x48d7c8(0x7ba)](this[_0x48d7c8(0x3a0)]+'\x20('+this[_0x48d7c8(0x1d9)][_0x48d7c8(0x40b)]+'):\x20'+(_0xb830ef instanceof Error?_0xb830ef[_0x48d7c8(0x4b3)]:JSON[_0x48d7c8(0x732)](_0xb830ef,null,0x2))),_0x55a892='error\x20get\x20vote';}this[_0x48d7c8(0x59e)][_0x48d7c8(0x6d7)](_0x48d7c8(0x117)),ks[_0x48d7c8(0x50f)][_0x48d7c8(0x281)](_0xaf3fd1[_0x48d7c8(0x781)])&&(_0xaf3fd1['messageTimestamp']=_0xaf3fd1['messageTimestamp']?.[_0x48d7c8(0x303)]()),_0xaf3fd1[_0x48d7c8(0x781)]&&_0xaf3fd1['messageTimestamp'][_0x48d7c8(0x71c)]()[_0x48d7c8(0x124)]<0xd&&(_0xaf3fd1[_0x48d7c8(0x781)]=_0xaf3fd1[_0x48d7c8(0x781)]*0x3e8);let _0x9989a3=_0xaf3fd1[_0x48d7c8(0x4b3)],_0x139994=(0x0,w[_0x48d7c8(0x38a)])(_0x9989a3),_0x2f2ed6=(0x0,w[_0x48d7c8(0x2d0)])(_0x139994),{messageContent:_0x4b36a4,message_normalized:_0x236635}=this[_0x48d7c8(0x73e)](_0x139994,_0x2f2ed6,_0x55a892);if(_0x2f2ed6==='protocolMessage'&&_0x4b36a4?.[_0x48d7c8(0x3d0)]&&(_0x2f2ed6=_0x48d7c8(0x3d0)),_0x2f2ed6===_0x48d7c8(0x823)&&_0xaf3fd1['key'][_0x48d7c8(0x3a6)])return;let _0x3b5851,_0x20e18d=_0xaf3fd1['key'][_0x48d7c8(0x6aa)][_0x48d7c8(0x6be)]('@g.us');if(_0xaf3fd1[_0x48d7c8(0x37f)]['fromMe'])_0x3b5851=this[_0x48d7c8(0x1d9)][_0x48d7c8(0x2e3)];else{let _0x184430=_0x20e18d?_0xaf3fd1[_0x48d7c8(0x37f)][_0x48d7c8(0x5ab)]:_0xaf3fd1[_0x48d7c8(0x37f)][_0x48d7c8(0x6aa)];_0x3b5851=(await this[_0x48d7c8(0x853)](_0x184430,_0xaf3fd1[_0x48d7c8(0x2a7)],!0x1))[_0x48d7c8(0x2a8)][_0x48d7c8(0x5dd)];}let _0x58017b={'_id':_0xaf3fd1[_0x48d7c8(0x37f)]['id'],'key':_0xaf3fd1[_0x48d7c8(0x37f)],'isGroup':_0x20e18d,'profilePictureUrl':_0x3b5851,'pushName':_0xaf3fd1['pushName'],'message':_0x139994,'messageType':_0x2f2ed6,'message_normalized':{'key':_0xaf3fd1['key'],'pushName':_0xaf3fd1[_0x48d7c8(0x2a7)],'messageTimestamp':_0xaf3fd1[_0x48d7c8(0x781)],'source':(0x0,w['getDevice'])(_0xaf3fd1['key']['id']),..._0x236635},'messageTimestamp':_0xaf3fd1['messageTimestamp'],'owner':this[_0x48d7c8(0x1d9)][_0x48d7c8(0x40b)],'source':(0x0,w[_0x48d7c8(0x460)])(_0xaf3fd1[_0x48d7c8(0x37f)]['id']),'expiration':_0x4b36a4?.[_0x48d7c8(0x85b)]?.['expiration']||0x0};if(_0x4b36a4||(this[_0x48d7c8(0x1a7)][_0x48d7c8(0x31d)](_0x48d7c8(0x6bd)),this[_0x48d7c8(0x1a7)]['error'](_0x58017b)),_0x236635['text']==='${Message\x20absent\x20from\x20node}'){console[_0x48d7c8(0x31d)](_0x48d7c8(0x487)),await this[_0x48d7c8(0x825)](_0xaf3fd1);return;}this[_0x48d7c8(0x1a7)][_0x48d7c8(0x1bb)](this[_0x48d7c8(0x3a0)]+'\x20('+this[_0x48d7c8(0x1d9)][_0x48d7c8(0x40b)]+'):\x20'+(_0x58017b[_0x48d7c8(0x37f)]?.[_0x48d7c8(0x3a6)]?_0x48d7c8(0x788):_0x48d7c8(0x528))+'\x20['+_0x58017b['key']?.['remoteJid'][_0x48d7c8(0x122)](_0x48d7c8(0x5aa),'')+_0x48d7c8(0x833)+_0x58017b[_0x48d7c8(0x754)]+')'),_0x58017b[_0x48d7c8(0x7bc)]?.[_0x48d7c8(0x5d1)]&&this['logger'][_0x48d7c8(0x1bb)](_0xaf3fd1[_0x48d7c8(0x37f)]['id']+':\x20'+_0x58017b['message_normalized']?.[_0x48d7c8(0x5d1)]),await this['repository'][_0x48d7c8(0x4b3)][_0x48d7c8(0x72d)]([_0x58017b],this[_0x48d7c8(0x1d9)][_0x48d7c8(0x40b)]),this['sendDataWebhook'](_0x48d7c8(0x5ac),_0x58017b),F(this['instanceName'],'messages',{'message':_0x58017b}),_0xaf3fd1['key'][_0x48d7c8(0x6aa)]!==_0x48d7c8(0x654)&&await this[_0x48d7c8(0x5af)](_0x93f389,_0x58017b,_0x48d7c8(0x739));}},'messages.update':async(_0x1b2e0a,_0x240e4a)=>{const _0x1026df=_0x1af9bd;let _0xd67672={0x0:_0x1026df(0x3ef),0x1:_0x1026df(0x267),0x2:_0x1026df(0x741),0x3:_0x1026df(0x25c),0x4:'READ',0x5:_0x1026df(0x20e)};for await(let {key:_0x44f6db,update:_0x2b3bd0}of _0x1b2e0a){if(this['localWebhook']?.[_0x1026df(0x66c)]&&_0x44f6db[_0x1026df(0x6aa)][_0x1026df(0x371)](_0x1026df(0x20c))){this[_0x1026df(0x1a7)][_0x1026df(0x7ba)](this[_0x1026df(0x3a0)]+'\x20('+this[_0x1026df(0x1d9)]['wuid']+_0x1026df(0x7b8));return;}if(_0x44f6db[_0x1026df(0x6aa)]!==_0x1026df(0x654)){let _0x15d8e7=Date['now'](),_0x5cd9bc;_0x2b3bd0['message']===null&&_0x2b3bd0[_0x1026df(0x612)]===void 0x0?_0x5cd9bc=_0x1026df(0x1b4):_0x5cd9bc=_0xd67672[_0x2b3bd0[_0x1026df(0x612)]];let _0x162dfe=_0x44f6db[_0x1026df(0x6aa)]['replace'](/:\d{1,2}@/g,'@'),_0x36813f={..._0x44f6db,'remoteJid':_0x162dfe,'status':_0x5cd9bc,'datetime':_0x15d8e7,'owner':this[_0x1026df(0x1d9)][_0x1026df(0x40b)]};this['sendDataWebhook'](_0x1026df(0x6e3),_0x36813f),await this[_0x1026df(0x40a)](_0x44f6db,_0x36813f);}}},'labels.association':async({type:_0x301485,association:_0x5e39d6})=>{const _0x17f857=_0x1af9bd;if(_0x5e39d6[_0x17f857(0x749)]==='label_jid'){let _0x4718a3,_0x508ec7=0x0;for(;!_0x4718a3&&_0x508ec7<this[_0x17f857(0x189)];)_0x4718a3=await this[_0x17f857(0x2d1)][_0x17f857(0x7e6)]['findOne']({'where':{'_id':_0x5e39d6[_0x17f857(0x3ba)]}},this[_0x17f857(0x1d9)][_0x17f857(0x40b)]),_0x4718a3||(_0x508ec7++,this[_0x17f857(0x1a7)]['info'](this[_0x17f857(0x3a0)]+'\x20('+this[_0x17f857(0x1d9)][_0x17f857(0x40b)]+'):\x20Chat\x20'+_0x5e39d6[_0x17f857(0x3ba)]+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this['delayChatLabel_RETRY_DELAY_MS']+_0x17f857(0x313)+_0x508ec7+'/'+this[_0x17f857(0x189)]+')'),await this[_0x17f857(0x322)](this[_0x17f857(0x7c8)]));if(!_0x4718a3){this[_0x17f857(0x1a7)][_0x17f857(0x31d)](_0x17f857(0x36f)+_0x5e39d6[_0x17f857(0x3ba)]+_0x17f857(0x19a)+this['delayChatLabel_MAX_RETRIES']+_0x17f857(0x2e6));return;}switch(_0x301485){case _0x17f857(0x5f3):console[_0x17f857(0x1bb)](_0x5e39d6),await this[_0x17f857(0x2d1)][_0x17f857(0x7e6)][_0x17f857(0x3fe)]({'where':{'_id':_0x5e39d6[_0x17f857(0x3ba)]}},{'leadInfo.etiquetas':_0x5e39d6[_0x17f857(0x365)]},this[_0x17f857(0x1d9)][_0x17f857(0x40b)],void 0x0,_0x17f857(0x81f));break;case _0x17f857(0x381):console['log'](_0x5e39d6),await this[_0x17f857(0x2d1)][_0x17f857(0x7e6)][_0x17f857(0x3fe)]({'where':{'_id':_0x5e39d6['chatId']}},{'leadInfo.etiquetas':_0x5e39d6[_0x17f857(0x365)]},this[_0x17f857(0x1d9)]['wuid'],void 0x0,'$pull');break;default:this[_0x17f857(0x1a7)]['error'](_0x17f857(0x5c4)+_0x301485+']');}}},'labels.edit':async _0x46d911=>{const _0x4498a6=_0x1af9bd;if(!_0x46d911||!_0x46d911['id']){this[_0x4498a6(0x1a7)][_0x4498a6(0x31d)](_0x4498a6(0x106));return;}if(!_0x46d911[_0x4498a6(0x231)]){let _0x191b2f=[_0x4498a6(0x22e),'#64c4ff',_0x4498a6(0x42f),'#dfaef0',_0x4498a6(0x248),_0x4498a6(0x2d6),_0x4498a6(0x1d5),_0x4498a6(0x2d3),_0x4498a6(0x628),_0x4498a6(0x2e5),'#01d0e2','#ffc5c7','#92ceac',_0x4498a6(0x727),_0x4498a6(0x467),_0x4498a6(0x405),_0x4498a6(0x157),'#b4ebff','#9ba6ff',_0x4498a6(0x768)],_0x22a43d;typeof _0x46d911['color']==_0x4498a6(0x1ee)&&_0x46d911[_0x4498a6(0x753)]>=0x0&&_0x46d911[_0x4498a6(0x753)]<_0x191b2f[_0x4498a6(0x124)]?_0x22a43d=_0x191b2f[_0x46d911[_0x4498a6(0x753)]]:(this[_0x4498a6(0x1a7)]['error']('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x46d911[_0x4498a6(0x753)]),_0x22a43d=_0x4498a6(0x48a));let _0x39194e={'_id':_0x46d911['id'],'colorHex':_0x22a43d,'color':_0x46d911?.[_0x4498a6(0x753)],'name':_0x46d911?.[_0x4498a6(0x2c3)],'owner':this[_0x4498a6(0x1d9)][_0x4498a6(0x40b)]};await this[_0x4498a6(0x2d1)][_0x4498a6(0x44f)][_0x4498a6(0x3fe)]({'where':{'_id':_0x46d911['id']}},_0x39194e,this[_0x4498a6(0x1d9)][_0x4498a6(0x40b)]),this[_0x4498a6(0x1a7)][_0x4498a6(0x7b6)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Rótulo\x20atualizado:\x20'+_0x46d911);}_0x46d911[_0x4498a6(0x231)]&&(await this[_0x4498a6(0x2d1)]['label']['delete']({'where':{'_id':_0x46d911['id']}},this['instance'][_0x4498a6(0x40b)]),this[_0x4498a6(0x1a7)]['info']('Rótulo\x20deletado:\x27,\x20'+_0x46d911['id']));}},this['groupHandler']={'groups.upsert':async _0x2e8df2=>{const _0x42b7ed=_0x1af9bd;this[_0x42b7ed(0x83c)]?.[_0x42b7ed(0x66c)]||this[_0x42b7ed(0x47a)](_0x42b7ed(0x644),_0x2e8df2);for(let _0x4cde4 of _0x2e8df2)await this[_0x42b7ed(0x212)](_0x4cde4);},'groups.update':async _0x54d960=>{const _0x43c82a=_0x1af9bd;this['localWebhook']?.[_0x43c82a(0x66c)]||this[_0x43c82a(0x47a)]('groups.update',_0x54d960);for(let _0x1d71f9 of _0x54d960)await this[_0x43c82a(0x212)](_0x1d71f9);},'group-participants.update':async _0x1e378c=>{const _0x5c283c=_0x1af9bd;this['localWebhook']?.[_0x5c283c(0x66c)]||this[_0x5c283c(0x47a)]('group-participants.update',_0x1e378c),await this[_0x5c283c(0x470)](_0x1e378c);}},this[_0x1af9bd(0x189)]=0x5,this[_0x1af9bd(0x7c8)]=0x1388,this[_0x1af9bd(0x759)]=0x0,this[_0x1af9bd(0x3f6)]=async _0x4f8ad0=>{const _0x30acac=_0x1af9bd;if(_0x4f8ad0[_0x30acac(0x4b3)]?.[_0x30acac(0x171)]){let _0x55e9e5=await this[_0x30acac(0x406)](_0x4f8ad0[_0x30acac(0x4b3)]['pollUpdateMessage'][_0x30acac(0x234)],!0x0);if(_0x55e9e5){let _0x4b37ad=_0x55e9e5[_0x30acac(0x37f)][_0x30acac(0x3a6)]?this[_0x30acac(0x1d9)][_0x30acac(0x40b)]+_0x30acac(0x5aa):_0x55e9e5[_0x30acac(0x37f)][_0x30acac(0x5ab)]||_0x55e9e5[_0x30acac(0x37f)][_0x30acac(0x6aa)],_0x4fec90=_0x55e9e5[_0x30acac(0x37f)]['id'],_0x474f2a=_0x55e9e5[_0x30acac(0x4b3)],_0x2923f5=Buffer[_0x30acac(0x83e)](_0x474f2a[_0x30acac(0x5f6)][_0x30acac(0x67c)][_0x30acac(0x71c)]('hex'),_0x30acac(0x874)),_0x131ce8=(0x0,w[_0x30acac(0x51d)])(_0x4f8ad0[_0x30acac(0x4b3)][_0x30acac(0x171)]['vote'],{'pollCreatorJid':_0x4b37ad,'pollMsgId':_0x4fec90,'pollEncKey':_0x2923f5,'voterJid':_0x4f8ad0['key'][_0x30acac(0x3a6)]?this[_0x30acac(0x1d9)][_0x30acac(0x40b)]+_0x30acac(0x5aa):_0x4f8ad0['key'][_0x30acac(0x6aa)]['endsWith']('g.us')?_0x4f8ad0[_0x30acac(0x37f)][_0x30acac(0x5ab)]:_0x4f8ad0[_0x30acac(0x37f)][_0x30acac(0x6aa)]}),_0x272ede=[],_0x22ba21=_0x131ce8[_0x30acac(0x11c)][_0x30acac(0x7b9)](_0x5c6a5b=>Buffer[_0x30acac(0x83e)](_0x5c6a5b)[_0x30acac(0x71c)](_0x30acac(0x874)));for(let {optionName:_0x1a8b32}of _0x474f2a[_0x30acac(0x687)]?.[_0x30acac(0x711)]||_0x474f2a['pollCreationMessageV3']?.[_0x30acac(0x711)]||_0x474f2a[_0x30acac(0x2f0)]?.[_0x30acac(0x711)])_0x22ba21[_0x30acac(0x837)]((0x0,w[_0x30acac(0x695)])(Buffer[_0x30acac(0x83e)](_0x1a8b32))[_0x30acac(0x71c)](_0x30acac(0x874)))>-0x1&&_0x272ede[_0x30acac(0x857)](_0x1a8b32);return _0x272ede;}}return null;},this[_0x1af9bd(0x73e)]=(_0x3b5337,_0xef7a9,_0x59a6f8)=>{const _0x3f0df9=_0x1af9bd;try{let _0x2e1b8f=_0x3b5337?(0x0,w[_0x3f0df9(0x100)])(_0x3b5337)[_0xef7a9]:void 0x0,_0x2d9dd9={},_0x415ec6=null,_0x1a00d7=null,_0x2cf752=null,_0x2f82a6=null;_0xef7a9===_0x3f0df9(0x682)&&_0x2e1b8f?.[_0x3f0df9(0x3d0)]&&(_0xef7a9=(0x0,w[_0x3f0df9(0x2d0)])(_0x2e1b8f['editedMessage']),_0x415ec6=_0x3b5337['protocolMessage']['key']['id'],_0x2e1b8f=_0x3b5337[_0x3f0df9(0x682)]['editedMessage'][_0xef7a9]),_0x3b5337[_0xef7a9]?.['contextInfo']?.[_0x3f0df9(0x253)]&&_0x3b5337[_0xef7a9]?.[_0x3f0df9(0x85b)]?.[_0x3f0df9(0x27a)]&&(_0x1a00d7=_0x3b5337[_0xef7a9]['contextInfo'][_0x3f0df9(0x253)]),_0x3b5337[_0x3f0df9(0x3c1)]&&(_0x2cf752=_0x3b5337[_0x3f0df9(0x3c1)][_0x3f0df9(0x37f)]['id']);let _0x4d7e8b;if(_0x2e1b8f&&typeof _0x2e1b8f==_0x3f0df9(0x526)&&_0x3f0df9(0x234)in _0x2e1b8f&&({pollCreationMessageKey:_0x4d7e8b}=_0x2e1b8f),_0xef7a9===_0x3f0df9(0x687)||_0xef7a9===_0x3f0df9(0x2f0)||_0xef7a9===_0x3f0df9(0x108)){let _0x584107=_0x2e1b8f[_0x3f0df9(0x711)][_0x3f0df9(0x7b9)](_0x4239c8=>_0x4239c8[_0x3f0df9(0x566)])['join']('|');_0x2d9dd9[_0x3f0df9(0x6c4)]=_0x584107;}if(_0xef7a9===_0x3f0df9(0x823)){let _0x2afb2f=_0x2e1b8f['nativeFlowMessage'][_0x3f0df9(0x679)]['map'](_0x57cd8c=>JSON[_0x3f0df9(0x2c0)](_0x57cd8c['buttonParamsJson'])[_0x3f0df9(0x1a8)])[_0x3f0df9(0x1db)]('|');_0x2d9dd9[_0x3f0df9(0x6c4)]=_0x2afb2f;}_0xef7a9===_0x3f0df9(0x19d)&&(_0x2d9dd9[_0x3f0df9(0x468)]=_0x2e1b8f?.[_0x3f0df9(0x65a)]?.['selectedRowId']);let _0x5c06f4='';if(_0x2e1b8f&&(_0x5c06f4+=_0x2e1b8f['name']?_0x2e1b8f[_0x3f0df9(0x2c3)]:'',_0x5c06f4+=_0x2e1b8f[_0x3f0df9(0x1cc)]?'\x20'+_0x2e1b8f['caption']:'',_0x5c06f4+=_0x2e1b8f[_0x3f0df9(0x861)]?'\x20'+_0x2e1b8f[_0x3f0df9(0x861)]:'',_0x5c06f4+=_0x2e1b8f[_0x3f0df9(0x16c)]?'\x20'+_0x2e1b8f['displayName']:'',_0xef7a9!==_0x3f0df9(0x488)&&(_0x5c06f4+=_0x2e1b8f[_0x3f0df9(0x620)]?.[_0x3f0df9(0x5d1)]?'\x20'+_0x2e1b8f[_0x3f0df9(0x620)][_0x3f0df9(0x5d1)]:''),_0x5c06f4+=_0x2e1b8f?.[_0x3f0df9(0x258)]?.['text']?'\x20'+_0x2e1b8f?.[_0x3f0df9(0x258)]?.['text']:''),_0xef7a9===_0x3f0df9(0x1bc)){_0x5c06f4=(_0x2e1b8f[_0x3f0df9(0x49e)]||'')+'\x0a'+(_0x2e1b8f[_0x3f0df9(0x4fc)]||'')+'\x0a'+(_0x2e1b8f[_0x3f0df9(0x4eb)]||'');let _0x11b972=this[_0x3f0df9(0x3b8)](_0x2e1b8f[_0x3f0df9(0x6ae)]);_0x2d9dd9[_0x3f0df9(0x6c4)]=_0x11b972;}if(_0xef7a9==='listResponseMessage'&&(_0x59a6f8=_0x2e1b8f[_0x3f0df9(0x49e)],_0x2f82a6=_0x2e1b8f?.['singleSelectReply']?.['selectedRowId']),_0xef7a9===_0x3f0df9(0x488)){let _0x1aa617=_0x2e1b8f?.['nativeFlowResponseMessage'];_0x1aa617&&_0x1aa617['name']==='menu_options'&&(_0x2f82a6=JSON[_0x3f0df9(0x2c0)](_0x1aa617[_0x3f0df9(0x6ff)])['id']),_0x59a6f8=_0x2e1b8f?.[_0x3f0df9(0x620)]?.[_0x3f0df9(0x5d1)];}if(_0xef7a9===_0x3f0df9(0x799)&&(_0x59a6f8=_0x2e1b8f?.['selectedDisplayText'],_0x2f82a6=_0x2e1b8f?.['selectedId']),_0x2e1b8f&&_0x2e1b8f[_0x3f0df9(0x725)]){let _0x52a0fa=this['formatVCard'](JSON[_0x3f0df9(0x732)](_0x2e1b8f['vcard'],null,0x2));_0x5c06f4=_0x5c06f4+'\x0a'+_0x52a0fa;}if(_0x2e1b8f){let {nativeFlowResponseMessage:_0x3ae965,selectedId:_0x2f405f,selectedDisplayText:_0xa815a0,selectedIndex:_0x228eca,body:_0x46fc7e,nativeFlowMessage:_0x3769bc,singleSelectReply:_0x5b6dee,sections:_0x457a84,listType:_0x469475,displayName:_0x1390ab,vcard:_0x3015c2,contactVcard:_0x3eadfc,name:_0x145c30,caption:_0xfacc76,conversation:_0x3b9af9,pollCreationMessageKey:_0x5eec10,footerText:_0x568462,contentText:_0x1f5372,pageCount:_0x6adf8,headerType:_0x436122,isAvatar:_0xa0bce5,isAnimated:_0x18501d,fallbackLc:_0x2de9cc,fallbackLg:_0x48ccb1,namespace:_0xff7f0d,elementName:_0x443c26,localizableParams:_0x5291b2,viewOnce:_0x2850c9,height:_0x42e6a8,width:_0x520b74,key:_0x3290eb,firstScanLength:_0x1f83ce,firstScanSidecar:_0x3935f5,gifPlayback:_0x2d49f9,gifAttribution:_0x3e246b,midQualityFileSha256:_0x31ac38,scansSidecar:_0x1b2cf4,streamingSidecar:_0x29ef13,thumbnailHeight:_0x17217d,thumbnailWidth:_0x180165,thumbnailEncSha256:_0x347423,thumbnailDirectPath:_0x14e809,canonicalUrl:_0x20b492,matchedText:_0x160cb3,previewType:_0x47923c,thumbnailSha256:_0x1774eb,deviceListMetadataVersion:_0x6fb6c7,inviteLinkGroupTypeV2:_0x935461,interactiveAnnotations:_0x4ae476,scanLengths:_0x3cda66,jpegThumbnail:_0xeaf4e0,url:_0x4237ba,mediaKeyTimestamp:_0x3f2c68,waveform:_0x2b0a99,stickerSentTs:_0x1a129c,firstFrameLength:_0xe60834,fileEncSha256:_0x2177f2,contextInfo:_0x2aa0ba,firstFrameSidecar:_0x451921,directPath:_0x3f2419,fileSha256:_0x4e6a77,mediaKey:_0x292d6f,senderTimestampMs:_0x440ef5,..._0x4c5a78}=_0x2e1b8f;(_0xef7a9==='listMessage'||_0xef7a9===_0x3f0df9(0x19d))&&(delete _0x4c5a78[_0x3f0df9(0x49e)],delete _0x4c5a78[_0x3f0df9(0x4fc)]),typeof _0x2e1b8f=='string'?_0x2d9dd9={'text':_0x2e1b8f,'type':_0xef7a9||_0x3f0df9(0x861),..._0x415ec6&&{'edited':_0x415ec6},..._0x1a00d7&&{'quoted':_0x1a00d7},..._0x2cf752&&{'reaction':_0x2cf752}}:_0x2d9dd9={'text':_0x5c06f4,..._0x4c5a78,..._0xef7a9===_0x3f0df9(0x171)?{'poll_id':_0x2e1b8f['pollCreationMessageKey']['id'],'quoted':_0x2e1b8f['pollCreationMessageKey']['id'],'vote':_0x59a6f8}:{},..._0xef7a9===_0x3f0df9(0x19d)?{'buttonOrList_id':_0x2f82a6,'vote':_0x59a6f8}:{},..._0xef7a9===_0x3f0df9(0x488)?{'buttonOrList_id':_0x2f82a6,'vote':_0x59a6f8}:{},..._0xef7a9===_0x3f0df9(0x799)?{'buttonOrList_id':_0x2f82a6,'vote':_0x59a6f8}:{},'type':_0xef7a9,..._0x415ec6&&{'edited':_0x415ec6},..._0x1a00d7&&{'quoted':_0x1a00d7},..._0x2cf752&&{'reaction':_0x2cf752},...(_0xef7a9===_0x3f0df9(0x687)||_0xef7a9===_0x3f0df9(0x2f0)||_0xef7a9===_0x3f0df9(0x108)||_0xef7a9===_0x3f0df9(0x1bc)||_0xef7a9===_0x3f0df9(0x823))&&{'convertedOptions':_0x2d9dd9[_0x3f0df9(0x6c4)]}};}return{'messageType':_0xef7a9,'messageContent':_0x2e1b8f,'message_normalized':_0x2d9dd9};}catch(_0x9f0a2c){return this[_0x3f0df9(0x1a7)][_0x3f0df9(0x31d)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:'+_0x9f0a2c),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['pendingMessages']=[],(this['cleanStore'](),this['initializeQueue'](),this[_0x1af9bd(0x1d9)][_0x1af9bd(0x810)]={'count':0x0},this[_0x1af9bd(0x1d9)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x1e84a8(0x3a0)](_0x22480f){const _0x527a17=a0_0x1e84a8;if(!_0x22480f){this['instance']['name']=(0x0,Ii['v4'])();return;}this[_0x527a17(0x1d9)][_0x527a17(0x2c3)]=_0x22480f,this[_0x527a17(0x47a)](_0x527a17(0x55d),{'instance':this[_0x527a17(0x1d9)][_0x527a17(0x2c3)],'status':_0x527a17(0x4b0)});}get[a0_0x1e84a8(0x3a0)](){const _0x46ab5b=a0_0x1e84a8;return this[_0x46ab5b(0x1d9)][_0x46ab5b(0x2c3)];}get[a0_0x1e84a8(0x40b)](){const _0x1783e6=a0_0x1e84a8;return this[_0x1783e6(0x1d9)][_0x1783e6(0x40b)];}async[a0_0x1e84a8(0x2e9)](){const _0x1c7b34=a0_0x1e84a8;let _0x42054c=this['client'][_0x1c7b34(0x24c)]?.[_0x1c7b34(0x2c3)]??this[_0x1c7b34(0x59e)][_0x1c7b34(0x24c)]?.[_0x1c7b34(0x27c)];if(!_0x42054c){if(this[_0x1c7b34(0x26f)][_0x1c7b34(0x13e)](_0x1c7b34(0x257))[_0x1c7b34(0x7f4)]){let _0x142355=await I[_0x1c7b34(0x3bf)]()['db'](this['configService'][_0x1c7b34(0x13e)](_0x1c7b34(0x257))[_0x1c7b34(0x13c)][_0x1c7b34(0x714)]+_0x1c7b34(0x822))[_0x1c7b34(0x5f5)](this[_0x1c7b34(0x3a0)])['findOne']({'_id':_0x1c7b34(0x4ec)});if(_0x142355){let _0x4f3e06=JSON['parse'](JSON[_0x1c7b34(0x732)](_0x142355),w[_0x1c7b34(0x420)]['reviver']);_0x42054c=_0x4f3e06['me']?.[_0x1c7b34(0x2c3)]||_0x4f3e06['me']?.['verifiedName'];}}else{if((0x0,Le[_0x1c7b34(0x278)])((0x0,j[_0x1c7b34(0x1db)])(Se,this[_0x1c7b34(0x3a0)],_0x1c7b34(0x123)))){let _0x1562c4=JSON[_0x1c7b34(0x2c0)]((0x0,Le['readFileSync'])((0x0,j[_0x1c7b34(0x1db)])(Se,this[_0x1c7b34(0x3a0)],_0x1c7b34(0x123)),{'encoding':'utf-8'}));_0x42054c=_0x1562c4['me']?.[_0x1c7b34(0x2c3)]||_0x1562c4['me']?.[_0x1c7b34(0x27c)];}}}return _0x42054c;}get[a0_0x1e84a8(0x2e3)](){const _0x65b358=a0_0x1e84a8;return this[_0x65b358(0x1d9)][_0x65b358(0x2e3)];}async[a0_0x1e84a8(0x6ee)](){const _0x4e6372=a0_0x1e84a8;let _0x488a76=this[_0x4e6372(0x1d9)][_0x4e6372(0x40b)]+_0x4e6372(0x5aa);try{await this[_0x4e6372(0x59e)][_0x4e6372(0x56e)](_0x488a76)?this['instance'][_0x4e6372(0x48f)]=!0x0:this[_0x4e6372(0x1d9)][_0x4e6372(0x48f)]=!0x1;}catch{this[_0x4e6372(0x1d9)][_0x4e6372(0x48f)]=!0x1;}return this[_0x4e6372(0x1a7)][_0x4e6372(0x7b6)](this[_0x4e6372(0x3a0)]+'\x20('+this[_0x4e6372(0x1d9)][_0x4e6372(0x40b)]+_0x4e6372(0x554)+this[_0x4e6372(0x1d9)]['isBusiness']),this['instance'][_0x4e6372(0x48f)];}get[a0_0x1e84a8(0x156)](){const _0x465667=a0_0x1e84a8;return this[_0x465667(0x1d9)]['qrcode']?.[_0x465667(0x110)]?{'pairingCode':this[_0x465667(0x1d9)]['qrcode']?.[_0x465667(0x110)]}:{'code':this[_0x465667(0x1d9)][_0x465667(0x810)]?.[_0x465667(0x13f)],'base64':this[_0x465667(0x1d9)][_0x465667(0x810)]?.[_0x465667(0x6d5)]};}async[a0_0x1e84a8(0x6e5)](){const _0x23fcbd=a0_0x1e84a8;let _0x4292cf=await this['repository']['webhook'][_0x23fcbd(0x6a6)](this[_0x23fcbd(0x3a0)]);this[_0x23fcbd(0x83c)]['url']=_0x4292cf?.[_0x23fcbd(0x2a2)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x388)]=_0x4292cf?.[_0x23fcbd(0x388)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x359)]=_0x4292cf?.[_0x23fcbd(0x359)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x1c3)]=_0x4292cf?.[_0x23fcbd(0x1c3)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x698)]=_0x4292cf?.[_0x23fcbd(0x698)],this['localWebhook'][_0x23fcbd(0x271)]=_0x4292cf?.[_0x23fcbd(0x271)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x739)]=_0x4292cf?.[_0x23fcbd(0x739)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x26c)]=_0x4292cf?.['MESSAGES_UPDATE'],this[_0x23fcbd(0x83c)][_0x23fcbd(0x865)]=_0x4292cf?.[_0x23fcbd(0x865)],this['localWebhook'][_0x23fcbd(0x26a)]=_0x4292cf?.[_0x23fcbd(0x26a)],this['localWebhook'][_0x23fcbd(0x27e)]=_0x4292cf?.[_0x23fcbd(0x27e)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x3d4)]=_0x4292cf?.[_0x23fcbd(0x3d4)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x14c)]=_0x4292cf?.['CHATS_UPSERT'],this[_0x23fcbd(0x83c)]['CHATS_UPDATE']=_0x4292cf?.['CHATS_UPDATE'],this['localWebhook'][_0x23fcbd(0x4f0)]=_0x4292cf?.[_0x23fcbd(0x4f0)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x798)]=_0x4292cf?.[_0x23fcbd(0x798)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x45f)]=_0x4292cf?.[_0x23fcbd(0x45f)],this[_0x23fcbd(0x83c)]['CONTACTS_UPDATE']=_0x4292cf?.[_0x23fcbd(0x3ad)],this[_0x23fcbd(0x83c)]['PRESENCE_UPDATE']=_0x4292cf?.[_0x23fcbd(0x172)],this[_0x23fcbd(0x83c)]['MESSAGES_SET']=_0x4292cf?.[_0x23fcbd(0x294)],this[_0x23fcbd(0x83c)][_0x23fcbd(0x692)]=_0x4292cf?.['CONNECTION_UPDATE'],this[_0x23fcbd(0x83c)]['groups_ignore']=_0x4292cf?.[_0x23fcbd(0x66c)];}async[a0_0x1e84a8(0x7d6)](_0x4c2180){const _0xf934f=a0_0x1e84a8;let _0x4ebf80=[_0xf934f(0x3c4),_0xf934f(0x2a2),_0xf934f(0x388),_0xf934f(0x359),_0xf934f(0x1c3),_0xf934f(0x698),'MESSAGES_UPDATE',_0xf934f(0x739),_0xf934f(0x271),_0xf934f(0x865),_0xf934f(0x26a),_0xf934f(0x27e),_0xf934f(0x3d4),'CHATS_UPSERT','CHATS_UPDATE',_0xf934f(0x4f0),_0xf934f(0x798),_0xf934f(0x45f),'CONTACTS_UPDATE','PRESENCE_UPDATE',_0xf934f(0x294),'CONNECTION_UPDATE','groups_ignore'],_0x1b4548={};return _0x4ebf80[_0xf934f(0x154)](_0x4438e7=>{_0x4c2180[_0x4438e7]!==void 0x0&&(_0x1b4548[_0x4438e7]=_0x4c2180[_0x4438e7]);}),_0x1b4548[_0xf934f(0x2a2)]&&(_0x1b4548[_0xf934f(0x2a2)]=_0x1b4548[_0xf934f(0x2a2)][_0xf934f(0x1e8)]()),await this[_0xf934f(0x2d1)][_0xf934f(0x6f7)]['create'](_0x1b4548,this[_0xf934f(0x3a0)]),Object[_0xf934f(0x4e7)](this[_0xf934f(0x83c)],_0x1b4548),await this[_0xf934f(0x2d1)]['webhook'][_0xf934f(0x6a6)](this[_0xf934f(0x3a0)]);}async[a0_0x1e84a8(0x230)](){const _0x102fd6=a0_0x1e84a8;return await this[_0x102fd6(0x2d1)][_0x102fd6(0x6f7)][_0x102fd6(0x6a6)](this[_0x102fd6(0x3a0)]);}async['sendDataWebhook'](_0x31defc,_0x3d4add){const _0x39dc07=a0_0x1e84a8;let _0x3fc584=_0x31defc['replace'](/[\.-]/gm,'_')[_0x39dc07(0x789)](),_0x3c587f=this[_0x39dc07(0x83c)][_0x39dc07(0x388)]&&(0x0,J[_0x39dc07(0x4cc)])(this[_0x39dc07(0x83c)][_0x39dc07(0x2a2)])?this['localWebhook'][_0x39dc07(0x2a2)]+(this[_0x39dc07(0x83c)][_0x39dc07(0x359)]?this['webhookMap'][_0x31defc]:''):null,_0x1ff12e=this['localWebhook'][_0x3fc584],_0x3a3a05=he&&he[_0x39dc07(0x388)]&&(0x0,J[_0x39dc07(0x4cc)])(he[_0x39dc07(0x2a2)])?he['url']+(he[_0x39dc07(0x359)]?this[_0x39dc07(0x45c)][_0x31defc]:''):null,_0x212a7c=he?he[_0x3fc584]:null;if(_0x1ff12e&&_0x3c587f)try{await Q[_0x39dc07(0x50f)]['create']({'baseURL':_0x3c587f})[_0x39dc07(0x319)]('',{'event':_0x31defc,'instance':this[_0x39dc07(0x1d9)][_0x39dc07(0x2c3)],'apikey':this[_0x39dc07(0x1d9)][_0x39dc07(0x74f)],'data':_0x3d4add}),this[_0x39dc07(0x1a7)][_0x39dc07(0x1bb)](this[_0x39dc07(0x3a0)]+'\x20('+this[_0x39dc07(0x1d9)]['wuid']+_0x39dc07(0x2c6)+_0x31defc+':\x20'+_0x3c587f);}catch{this[_0x39dc07(0x1a7)][_0x39dc07(0x31d)](this[_0x39dc07(0x3a0)]+'\x20('+this['instance'][_0x39dc07(0x40b)]+_0x39dc07(0x7e0)+_0x31defc+':\x20'+_0x3c587f);}if(_0x212a7c&&_0x3a3a05)try{await Q[_0x39dc07(0x50f)]['create']({'baseURL':_0x3a3a05})['post']('',{'event':_0x31defc,'instance':this[_0x39dc07(0x1d9)][_0x39dc07(0x2c3)],'apikey':this[_0x39dc07(0x1d9)][_0x39dc07(0x74f)],'data':_0x3d4add}),this['logger'][_0x39dc07(0x1bb)](this['instanceName']+'\x20('+this['instance'][_0x39dc07(0x40b)]+_0x39dc07(0x676)+_0x31defc+':\x20'+_0x3a3a05);}catch{this[_0x39dc07(0x1a7)][_0x39dc07(0x31d)](this[_0x39dc07(0x3a0)]+'\x20('+this[_0x39dc07(0x1d9)][_0x39dc07(0x40b)]+_0x39dc07(0x842)+_0x31defc+':\x20'+_0x3a3a05);}}async['connectionUpdate']({qr:_0xe7a4a6,connection:_0x52ab92,lastDisconnect:_0x48750e}){const _0x58b802=a0_0x1e84a8;if(_0xe7a4a6){if(this[_0x58b802(0x1d9)][_0x58b802(0x810)][_0x58b802(0x227)]===ko)return this[_0x58b802(0x47a)]('qrcode.updated',{'message':_0x58b802(0x464),'statusCode':w[_0x58b802(0x5f2)][_0x58b802(0x6a8)]}),this['stateConnection']={'state':_0x58b802(0x844),'statusReason':w[_0x58b802(0x5f2)][_0x58b802(0x195)]},this['sendDataWebhook'](_0x58b802(0x6fa),{'instance':this[_0x58b802(0x1d9)]['name'],...this[_0x58b802(0x79a)]}),this[_0x58b802(0x47a)](_0x58b802(0x55d),{'instance':this[_0x58b802(0x1d9)][_0x58b802(0x2c3)],'status':_0x58b802(0x2ee)}),this['repository'][_0x58b802(0x396)][_0x58b802(0x185)](this['instance'][_0x58b802(0x2c3)]),this[_0x58b802(0x1aa)]=!0x0,ae[_0x58b802(0x427)](B,this['instance'][_0x58b802(0x2c3)]),this[_0x58b802(0x3dc)]['emit'](_0x58b802(0x375),this[_0x58b802(0x1d9)][_0x58b802(0x2c3)]);this[_0x58b802(0x1d9)]['qrcode']['count']++;let _0x3acec1={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x58b802(0x48a)}};Ti[_0x58b802(0x50f)]['toDataURL'](_0xe7a4a6,_0x3acec1,(_0x20aff7,_0x31ac51)=>{const _0x1fbf4a=_0x58b802;if(_0x20aff7){this[_0x1fbf4a(0x1a7)][_0x1fbf4a(0x31d)](this['instanceName']+'\x20('+this[_0x1fbf4a(0x1d9)][_0x1fbf4a(0x40b)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x20aff7 instanceof Error?_0x20aff7[_0x1fbf4a(0x4b3)]:JSON[_0x1fbf4a(0x732)](_0x20aff7,null,0x2)));return;}this[_0x1fbf4a(0x1d9)][_0x1fbf4a(0x810)][_0x1fbf4a(0x6d5)]=_0x31ac51,this[_0x1fbf4a(0x1d9)]['qrcode'][_0x1fbf4a(0x13f)]=_0xe7a4a6,!this[_0x1fbf4a(0x1c5)]&&this[_0x1fbf4a(0x47a)](_0x1fbf4a(0x45b),{'qrcode':{'instance':this[_0x1fbf4a(0x1d9)][_0x1fbf4a(0x2c3)],'pairingCode':this[_0x1fbf4a(0x1d9)][_0x1fbf4a(0x810)][_0x1fbf4a(0x110)],'code':_0xe7a4a6,'base64':_0x31ac51}});}),this[_0x58b802(0x1c5)]?this[_0x58b802(0x1d9)]['qrcode'][_0x58b802(0x110)]||(await(0x0,w[_0x58b802(0x3ae)])(0x7d0),this[_0x58b802(0x1d9)][_0x58b802(0x810)][_0x58b802(0x110)]=await this[_0x58b802(0x59e)][_0x58b802(0x7a1)](this[_0x58b802(0x1c5)])):this[_0x58b802(0x1d9)][_0x58b802(0x810)][_0x58b802(0x110)]=null,_i['default']['generate'](_0xe7a4a6,{'small':!0x0},_0x5138e6=>this['logger'][_0x58b802(0x1bb)]('\x0a{\x20instance:\x20'+this['instance']['name']+_0x58b802(0x1c8)+this['instance']['qrcode']['count']+_0x58b802(0x81b)+this[_0x58b802(0x1d9)][_0x58b802(0x810)]['pairingCode']+'\x20}\x0a'+_0x5138e6));}if(_0x52ab92&&(this[_0x58b802(0x79a)]={'state':_0x52ab92,'statusReason':_0x48750e?.[_0x58b802(0x31d)]?.[_0x58b802(0x525)]?.['statusCode']??0xc8},this['sendDataWebhook'](_0x58b802(0x6fa),{'instance':this[_0x58b802(0x1d9)]['name'],...this[_0x58b802(0x79a)]})),_0x52ab92===_0x58b802(0x6b0)){if(this[_0x58b802(0x2e8)]++,this[_0x58b802(0x222)][_0x58b802(0x857)](Date['now']()),this['reconnectTimestamps']=this[_0x58b802(0x222)][_0x58b802(0x186)](_0x1fcb15=>Date[_0x58b802(0x3ca)]()-_0x1fcb15<this[_0x58b802(0x2de)]),_0x48750e['error']?.['output']?.[_0x58b802(0x4c4)]!==w[_0x58b802(0x5f2)][_0x58b802(0x57e)]){let _0x59d658=this[_0x58b802(0x2e8)]<=0x1?0x0:Math[_0x58b802(0x602)](Math[_0x58b802(0x104)](0x2,this[_0x58b802(0x2e8)]-0x1)*0x3e8,0x493e0);console['log'](this[_0x58b802(0x3a0)]+_0x58b802(0x511)+this[_0x58b802(0x2e8)]+_0x58b802(0x38c)+_0x59d658/0x3e8+_0x58b802(0x378)),await new Promise(_0x4d7009=>setTimeout(_0x4d7009,_0x59d658)),console['log'](_0x58b802(0x78c)),await this[_0x58b802(0x51c)]();}else{this[_0x58b802(0x47a)]('status.instance',{'instance':this[_0x58b802(0x1d9)]['name'],'status':_0x58b802(0x2ee)}),this[_0x58b802(0x1d9)]['ScheduleMessage'][_0x58b802(0x86f)]=!0x1,this[_0x58b802(0x2d1)][_0x58b802(0x6f7)][_0x58b802(0x185)](this[_0x58b802(0x3a0)]),this[_0x58b802(0x2d1)][_0x58b802(0x396)][_0x58b802(0x277)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x58b802(0x3ca)]()},this[_0x58b802(0x1d9)][_0x58b802(0x2c3)]),ae['removeIPv6ById'](B,this[_0x58b802(0x1d9)][_0x58b802(0x2c3)]);try{this[_0x58b802(0x1a7)][_0x58b802(0x7ba)](this[_0x58b802(0x3a0)]+'\x20('+this[_0x58b802(0x1d9)][_0x58b802(0x40b)]+_0x58b802(0x519));let _0xb8974b=await this[_0x58b802(0x2d1)][_0x58b802(0x4b3)][_0x58b802(0x568)](this[_0x58b802(0x1d9)][_0x58b802(0x40b)]);_0xb8974b[_0x58b802(0x67b)]?this[_0x58b802(0x1a7)]['verbose'](this[_0x58b802(0x3a0)]+'\x20('+this['instance'][_0x58b802(0x40b)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this['logger'][_0x58b802(0x31d)](_0x58b802(0x600)+_0xb8974b[_0x58b802(0x31d)]);}catch(_0x4c64c2){this[_0x58b802(0x1a7)][_0x58b802(0x31d)](_0x58b802(0x609)+_0x4c64c2['message']);}this['instance'][_0x58b802(0x803)][_0x58b802(0x783)]!==null&&(this[_0x58b802(0x1a7)]['verbose'](this[_0x58b802(0x3a0)]+'\x20('+this['instance'][_0x58b802(0x40b)]+_0x58b802(0x755)),clearInterval(this[_0x58b802(0x1d9)][_0x58b802(0x803)][_0x58b802(0x783)]),this[_0x58b802(0x1d9)][_0x58b802(0x803)]['delayMessage']=null),this['logger']['verbose'](this[_0x58b802(0x3a0)]+'\x20('+this[_0x58b802(0x1d9)][_0x58b802(0x40b)]+'):\x20Limpando\x20AutomateSystem'),this[_0x58b802(0x289)]=null,this[_0x58b802(0x3dc)][_0x58b802(0x23a)](_0x58b802(0x61f),this['instance'][_0x58b802(0x2c3)],_0x58b802(0x28f)),this[_0x58b802(0x59e)]?.['ws']?.[_0x58b802(0x6b0)](),this[_0x58b802(0x59e)][_0x58b802(0x541)](new Error('Close\x20connection'));}}if(_0x52ab92==='open'){this[_0x58b802(0x1a7)]['warn'](this['instanceName']+'\x20('+this[_0x58b802(0x1d9)][_0x58b802(0x40b)]+_0x58b802(0x5c1)+this['client'][_0x58b802(0x1dd)]['creds']?.['myAppStateKeyId']),this['client'][_0x58b802(0x1dd)]['creds']?.['myAppStateKeyId']||(this['logger']['warn'](this[_0x58b802(0x3a0)]+'\x20('+this['instance'][_0x58b802(0x40b)]+_0x58b802(0x30d)),this['client']['ev'][_0x58b802(0x447)]()),this[_0x58b802(0x686)],this[_0x58b802(0x1d9)]['wuid']=this['client'][_0x58b802(0x24c)]['id'][_0x58b802(0x122)](/:\d+/,'')[_0x58b802(0x122)](_0x58b802(0x5aa),''),this[_0x58b802(0x1d9)]['profilePictureUrl']=(await this[_0x58b802(0x16f)](this['instance'][_0x58b802(0x40b)]+_0x58b802(0x5aa)))[_0x58b802(0x2e3)],this[_0x58b802(0x2d1)][_0x58b802(0x396)][_0x58b802(0x277)]({'online':!0x0,'owner':this[_0x58b802(0x1d9)][_0x58b802(0x40b)],'lastDisconnect':null},this['instance'][_0x58b802(0x2c3)]);let _0x1245bc='Número:\x20'+this[_0x58b802(0x1d9)][_0x58b802(0x40b)],_0x341a2c=0x28,_0x286c02=Math[_0x58b802(0x2f5)]((_0x341a2c-_0x1245bc['length'])/0x2),_0x4d938b='\x20'[_0x58b802(0x1b5)](_0x286c02),_0x19b157=_0x58b802(0x3c5),_0x4554b0=_0x58b802(0x2c1)+this['instance']['name'],_0x2db7a3=(''+_0x4d938b+_0x1245bc+_0x4d938b)['padEnd'](_0x341a2c,'\x20'),_0x5ef023=(''+_0x4d938b+_0x19b157+_0x4d938b)[_0x58b802(0x76a)](_0x341a2c,'\x20'),_0x5b5906=(''+_0x4d938b+_0x4554b0+_0x4d938b)[_0x58b802(0x76a)](_0x341a2c,'\x20'),_0x58dd7e=Math[_0x58b802(0x561)](_0x2db7a3[_0x58b802(0x124)],_0x5ef023['length'],_0x5b5906[_0x58b802(0x124)]),_0x47bed0=_0x2db7a3[_0x58b802(0x76a)](_0x58dd7e,'\x20'),_0x20d311=_0x5ef023[_0x58b802(0x76a)](_0x58dd7e,'\x20'),_0x583d02=_0x5b5906[_0x58b802(0x76a)](_0x58dd7e,'\x20');this[_0x58b802(0x1a7)]['info']((_0x58b802(0x7cd)+'─'[_0x58b802(0x1b5)](_0x58dd7e)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x20d311+_0x58b802(0x376)+_0x583d02+_0x58b802(0x376)+_0x47bed0+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x58dd7e)+'┘')[_0x58b802(0x122)](/^ +/gm,'\x20\x20')),this[_0x58b802(0x34f)](),this[_0x58b802(0x1d9)][_0x58b802(0x803)][_0x58b802(0x86f)]=!0x0;}}['resetReconnectionVariables'](){const _0x2311e5=a0_0x1e84a8;this['reconnectAttempts']=0x0,this[_0x2311e5(0x222)]=[];}async[a0_0x1e84a8(0x406)](_0xbb90bf,_0x25f5fd=!0x1){const _0x52101f=a0_0x1e84a8;try{let _0x307fda=await this[_0x52101f(0x2d1)][_0x52101f(0x4b3)][_0x52101f(0x6a6)]({'where':{'_id':_0xbb90bf['id']}},this[_0x52101f(0x1d9)][_0x52101f(0x40b)]);return _0x25f5fd?_0x307fda[0x0]:_0x307fda[0x0][_0x52101f(0x4b3)];}catch{return{'conversation':''};}}[a0_0x1e84a8(0x38b)](){const _0x5998be=a0_0x1e84a8;let _0x2f90aa=this['configService'][_0x5998be(0x13e)](_0x5998be(0x740)),_0x1081e0=this[_0x5998be(0x26f)]['get'](_0x5998be(0x257));_0x2f90aa?.['CLEANING_INTERVAL']&&!_0x1081e0[_0x5998be(0x7f4)]&&setInterval(()=>{const _0x16fb6f=_0x5998be;try{for(let [_0x472623,_0x61a8af]of Object[_0x16fb6f(0x40e)](_0x2f90aa))_0x61a8af===!0x0&&(0x0,Fe[_0x16fb6f(0x4f4)])(_0x16fb6f(0x259)+(0x0,j[_0x16fb6f(0x1db)])(this[_0x16fb6f(0x852)],_0x472623[_0x16fb6f(0x77a)](),this[_0x16fb6f(0x1d9)][_0x16fb6f(0x40b)])+_0x16fb6f(0x728));}catch{}},(_0x2f90aa?.[_0x5998be(0x5c2)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x19a492=a0_0x1e84a8;let _0xf6b78a=this[_0x19a492(0x26f)][_0x19a492(0x13e)](_0x19a492(0x257)),_0x16e076=this[_0x19a492(0x26f)][_0x19a492(0x13e)](_0x19a492(0x80d));return _0x16e076?.[_0x19a492(0x7f4)]?await Os(_0x16e076,this['instance']['name']):_0xf6b78a['ENABLED']?await _s(this[_0x19a492(0x1d9)][_0x19a492(0x2c3)]):await(0x0,w[_0x19a492(0x350)])((0x0,j[_0x19a492(0x1db)])(Se,this[_0x19a492(0x1d9)]['name']));}async[a0_0x1e84a8(0x34f)](){const _0xfee980=a0_0x1e84a8;let _0x37182d=()=>Math[_0xfee980(0x2f5)](Math[_0xfee980(0x69c)]()*0x4e21)+0x7d0,_0x23cdb7=async()=>{const _0x5d3180=_0xfee980;if(!this[_0x5d3180(0x1d9)]['ScheduleMessage'][_0x5d3180(0x86f)]){this[_0x5d3180(0x1a7)]['verbose'](this['instanceName']+'\x20('+this[_0x5d3180(0x1d9)]['wuid']+'):Desconectado,\x20parando\x20execução.'),this[_0x5d3180(0x704)]=!0x1;return;}if(this[_0x5d3180(0x1d9)][_0x5d3180(0x40b)]&&this[_0x5d3180(0x289)]&&this[_0x5d3180(0x1d9)][_0x5d3180(0x803)][_0x5d3180(0x783)]!==null&&this[_0x5d3180(0x1d9)][_0x5d3180(0x803)]['delayMessage']!==void 0x0){let _0x1ee591=Math[_0x5d3180(0x18d)](this[_0x5d3180(0x1d9)][_0x5d3180(0x803)][_0x5d3180(0x783)]/0xea60);this[_0x5d3180(0x1a7)][_0x5d3180(0x7ba)](this[_0x5d3180(0x3a0)]+'\x20('+this[_0x5d3180(0x1d9)][_0x5d3180(0x40b)]+_0x5d3180(0x2d2)+_0x1ee591+_0x5d3180(0x7c2)),this[_0x5d3180(0x704)]=!0x1;return;}else this[_0x5d3180(0x1d9)][_0x5d3180(0x40b)]&&(this[_0x5d3180(0x1a7)]['verbose'](this[_0x5d3180(0x3a0)]+'\x20('+this[_0x5d3180(0x1d9)][_0x5d3180(0x40b)]+_0x5d3180(0x494)),this[_0x5d3180(0x289)]||(await this['getAutomateSystem'](),this[_0x5d3180(0x1e6)](),this[_0x5d3180(0x625)]()),(this[_0x5d3180(0x1d9)][_0x5d3180(0x803)][_0x5d3180(0x783)]===null||this[_0x5d3180(0x1d9)][_0x5d3180(0x803)][_0x5d3180(0x783)]===void 0x0)&&await this[_0x5d3180(0x845)]());if(this[_0x5d3180(0x704)]){let _0x35b6c2=_0x37182d();this[_0x5d3180(0x1a7)]['verbose'](this[_0x5d3180(0x3a0)]+_0x5d3180(0x61e)+_0x35b6c2/0x3e8+_0x5d3180(0x5e8)),setTimeout(_0x23cdb7,_0x35b6c2);}};if(this[_0xfee980(0x704)])return;this[_0xfee980(0x704)]=!0x0;let _0x3b248a=_0x37182d();setTimeout(_0x23cdb7,_0x3b248a);}async[a0_0x1e84a8(0x625)](){const _0x4f32f4=a0_0x1e84a8;let _0x3e5123=this[_0x4f32f4(0x1d9)][_0x4f32f4(0x40b)];try{let _0x41e143=await this[_0x4f32f4(0x2d1)]['flow'][_0x4f32f4(0x2c7)]({'where':{'$or':[{'owner':_0x3e5123},{'whoCanUse':{'$in':[_0x3e5123]}},{'shareOwners':{'$in':[_0x3e5123]}}]}}),_0x11565a=new Map(this[_0x4f32f4(0x289)][_0x4f32f4(0x2cc)][_0x4f32f4(0x7b9)](_0x26ba5c=>[_0x26ba5c['_id'],_0x26ba5c])),_0x3a688f=_0x41e143['map'](_0x107448=>{const _0x422695=_0x4f32f4;let _0xd04a44=_0x11565a['get'](_0x107448[_0x422695(0x3c4)]?.[_0x422695(0x71c)]());return{'_id':_0x107448[_0x422695(0x3c4)]?.['toString'](),'name':_0xd04a44?.[_0x422695(0x2c3)]??_0x107448[_0x422695(0x2c3)],'default':_0xd04a44?.['default']??_0x107448[_0x422695(0x50f)]??!0x1,'startCommand':_0xd04a44?.[_0x422695(0x6ed)]??_0x107448[_0x422695(0x559)],'minutesToClose':_0xd04a44?.[_0x422695(0x23c)]??_0x107448[_0x422695(0x23c)]??0xa,'readMessages':_0xd04a44?.['readMessages']??_0x107448[_0x422695(0x718)]??!0x1,'testingWith':_0xd04a44?.[_0x422695(0x51e)]??_0x107448[_0x422695(0x51e)],'canEdit':_0x107448[_0x422695(0x325)]===_0x3e5123||(_0x107448[_0x422695(0x204)]??[])['includes'](_0x3e5123),'usersCount':(_0x107448[_0x422695(0x136)]??[])[_0x422695(0x124)]??0x0};}),_0x45af7c=!0x1;_0x3a688f[_0x4f32f4(0x154)](_0x3464f0=>{const _0x81e43=_0x4f32f4;_0x3464f0[_0x81e43(0x50f)]&&(_0x45af7c?_0x3464f0[_0x81e43(0x50f)]=!0x1:_0x45af7c=!0x0);}),this[_0x4f32f4(0x289)]['flows']=_0x3a688f;let _0x58d82d={'flows':_0x3a688f};return await this[_0x4f32f4(0x2d1)][_0x4f32f4(0x2d4)][_0x4f32f4(0x32a)](_0x58d82d,_0x3e5123),this['logger'][_0x4f32f4(0x7ba)](this[_0x4f32f4(0x3a0)]+'\x20('+_0x3e5123+_0x4f32f4(0x86e)),_0x3a688f['length'];}catch(_0x244461){return this[_0x4f32f4(0x1a7)]['error'](this[_0x4f32f4(0x3a0)]+'\x20('+_0x3e5123+_0x4f32f4(0x11b)+(_0x244461 instanceof Error?_0x244461[_0x4f32f4(0x4b3)]:JSON[_0x4f32f4(0x732)](_0x244461,null,0x2))),{'message':_0x4f32f4(0x6fc)+(_0x244461 instanceof Error?_0x244461[_0x4f32f4(0x4b3)]:JSON['stringify'](_0x244461,null,0x2))};}}async[a0_0x1e84a8(0x51c)](_0x138721){const _0x33ab9e=a0_0x1e84a8;try{let _0x5812c4=await this['repository'][_0x33ab9e(0x1d9)]['findOne']({'where':{'_id':B+'-'+this['instanceName']}}),_0x5adf2e,_0x1cd8d5=!ae[_0x33ab9e(0x5e2)]||!ae[_0x33ab9e(0x3e6)];console[_0x33ab9e(0x1bb)](_0x33ab9e(0x4f3)),console[_0x33ab9e(0x1bb)](_0x33ab9e(0x70a),Ai),console[_0x33ab9e(0x1bb)](_0x33ab9e(0x74b),this[_0x33ab9e(0x2e8)]),console['log'](_0x33ab9e(0x4f3)),Ai&&!_0x1cd8d5&&(this[_0x33ab9e(0x2e8)]<0x4||!this[_0x33ab9e(0x2e8)]?_0x5812c4&&_0x5812c4['ip']?(_0x5adf2e=_0x5812c4['ip'],console[_0x33ab9e(0x1bb)](_0x33ab9e(0x7ab)+_0x5adf2e)):(_0x5adf2e=await ae[_0x33ab9e(0x656)](B,this[_0x33ab9e(0x1d9)][_0x33ab9e(0x2c3)]),_0x5adf2e?(console[_0x33ab9e(0x1bb)]('Novo\x20IP\x20criado:\x20'+_0x5adf2e),await(0x0,w[_0x33ab9e(0x3ae)])(0x7d0)):console[_0x33ab9e(0x31d)]('Falha\x20ao\x20criar\x20IPv6.')):this[_0x33ab9e(0x2e8)]<0x6&&(await ae[_0x33ab9e(0x427)](B,this['instance']['name']),console['log'](_0x33ab9e(0x3da)),_0x5adf2e=await ae['createIPv6'](B,this['instance'][_0x33ab9e(0x2c3)]),_0x5adf2e?(console[_0x33ab9e(0x1bb)](_0x33ab9e(0x240)+_0x5adf2e),await(0x0,w[_0x33ab9e(0x3ae)])(0x7d0)):console['error'](_0x33ab9e(0x690)))),this[_0x33ab9e(0x6e5)](),this['instance'][_0x33ab9e(0x74f)]=(await this[_0x33ab9e(0x2d1)][_0x33ab9e(0x396)]['find'](this[_0x33ab9e(0x1d9)]['name']))[_0x33ab9e(0x74f)],this['instance'][_0x33ab9e(0x1dd)]=await this[_0x33ab9e(0x484)]();let {version:_0x36d357}=await(0x0,w[_0x33ab9e(0x834)])(),_0x13a592=[xi,Fs,(0x0,Ds['release'])()],_0x3bcbe0={'localAddress':_0x5adf2e,'auth':{'creds':this[_0x33ab9e(0x1d9)][_0x33ab9e(0x1dd)][_0x33ab9e(0x70f)]['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x33ab9e(0x1d9)][_0x33ab9e(0x1dd)][_0x33ab9e(0x70f)]['keys'],(0x0,Ft['default'])({'level':_0x33ab9e(0x31d)}))},'logger':(0x0,Ft['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x138721?[_0x33ab9e(0x474),Fs,(0x0,Ds['release'])()]:_0x13a592,'version':_0x36d357,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2e2204=>{const _0x4b5144=_0x33ab9e;let _0x5a448f=this[_0x4b5144(0x83c)]?.['groups_ignore']&&(0x0,w[_0x4b5144(0x5be)])(_0x2e2204);return(0x0,w[_0x4b5144(0x6e9)])(_0x2e2204)||_0x5a448f;},'msgRetryCounterCache':this[_0x33ab9e(0x66b)],'getMessage':async _0x29ae84=>await this[_0x33ab9e(0x406)](_0x29ae84),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x33ab9e(0x4da)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x175289){const _0x107180=_0x33ab9e;return _0x175289[_0x107180(0x75d)]?.[_0x107180(0x4b3)]?.['listMessage']?.[_0x107180(0x118)]===w['proto'][_0x107180(0x62f)][_0x107180(0x6b4)]['ListType'][_0x107180(0x291)]&&(_0x175289=JSON[_0x107180(0x2c0)](JSON[_0x107180(0x732)](_0x175289)),_0x175289[_0x107180(0x75d)][_0x107180(0x4b3)][_0x107180(0x1bc)][_0x107180(0x118)]=w[_0x107180(0x5c3)][_0x107180(0x62f)][_0x107180(0x6b4)][_0x107180(0x29d)][_0x107180(0x2f4)]),_0x175289[_0x107180(0x1bc)]?.[_0x107180(0x118)]==w[_0x107180(0x5c3)][_0x107180(0x62f)][_0x107180(0x6b4)][_0x107180(0x29d)][_0x107180(0x291)]&&(_0x175289=JSON[_0x107180(0x2c0)](JSON[_0x107180(0x732)](_0x175289)),_0x175289[_0x107180(0x1bc)][_0x107180(0x118)]=w[_0x107180(0x5c3)][_0x107180(0x62f)]['ListMessage']['ListType']['SINGLE_SELECT']),_0x175289;}};return this[_0x33ab9e(0x1aa)]=!0x1,this[_0x33ab9e(0x59e)]=(0x0,w[_0x33ab9e(0x50f)])(_0x3bcbe0),this[_0x33ab9e(0x63a)](),this[_0x33ab9e(0x1c5)]=_0x138721,this[_0x33ab9e(0x59e)];}catch(_0xfa4cc3){let _0x4d098d='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x590db7=_0xfa4cc3 instanceof Error?_0xfa4cc3['message']:typeof _0xfa4cc3==_0x33ab9e(0x526)?JSON[_0x33ab9e(0x732)](_0xfa4cc3):_0xfa4cc3,_0x16a657=_0x4d098d+':\x20'+_0x590db7;throw this[_0x33ab9e(0x1a7)][_0x33ab9e(0x31d)](this[_0x33ab9e(0x3a0)]+'\x20('+this[_0x33ab9e(0x1d9)][_0x33ab9e(0x40b)]+_0x33ab9e(0x52a)+_0x16a657),console[_0x33ab9e(0x31d)](_0x33ab9e(0x34b),_0xfa4cc3),_0xfa4cc3 instanceof Error&&console[_0x33ab9e(0x31d)](_0x33ab9e(0x800),_0xfa4cc3[_0x33ab9e(0x764)]),new x(_0x16a657);}}['eventHandler'](){const _0x376b61=a0_0x1e84a8;this[_0x376b61(0x59e)]['ev']['process'](_0xeb2ae4=>{const _0xc26e19=_0x376b61;if(!this[_0xc26e19(0x1aa)]){let _0x314462=this[_0xc26e19(0x26f)][_0xc26e19(0x13e)]('DATABASE');if(_0xeb2ae4[_0xc26e19(0x4c7)]){let _0x4c15ed=_0xeb2ae4[_0xc26e19(0x4c7)];this[_0xc26e19(0x335)][_0xc26e19(0x4c7)](_0x4c15ed);}if(_0xeb2ae4[_0xc26e19(0x2a3)]){let _0x105a34=_0xeb2ae4['labels.association'];this[_0xc26e19(0x335)]['labels.association'](_0x105a34);}if(_0xeb2ae4[_0xc26e19(0x6fa)]&&this['connectionUpdate'](_0xeb2ae4[_0xc26e19(0x6fa)]),_0xeb2ae4[_0xc26e19(0x6bb)]&&this[_0xc26e19(0x1d9)]['authState'][_0xc26e19(0x164)](),_0xeb2ae4['messaging-history.set']){let _0x1fe750=_0xeb2ae4[_0xc26e19(0x3c0)];this[_0xc26e19(0x335)][_0xc26e19(0x3c0)](_0x1fe750,_0x314462);}if(_0xeb2ae4[_0xc26e19(0x5ac)]){let _0x439e85=_0xeb2ae4[_0xc26e19(0x5ac)];this[_0xc26e19(0x335)]['messages.upsert'](_0x439e85,_0x314462);}if(_0xeb2ae4[_0xc26e19(0x6e3)]){let _0xc7e596=_0xeb2ae4['messages.update'];this['messageHandle']['messages.update'](_0xc7e596,_0x314462);}if(_0xeb2ae4[_0xc26e19(0x771)]){let _0xcc4b10=_0xeb2ae4[_0xc26e19(0x771)];if(this['localWebhook']?.[_0xc26e19(0x66c)]&&_0xcc4b10['id'][_0xc26e19(0x371)](_0xc26e19(0x20c)))return;this[_0xc26e19(0x47a)](_0xc26e19(0x771),_0xcc4b10);}if(_0xeb2ae4['groups.upsert']){let _0x43aefa=_0xeb2ae4[_0xc26e19(0x644)];this[_0xc26e19(0x5b2)]['groups.upsert'](_0x43aefa);}if(_0xeb2ae4[_0xc26e19(0x641)]){let _0x5d41ad=_0xeb2ae4[_0xc26e19(0x641)];this['groupHandler'][_0xc26e19(0x641)](_0x5d41ad);}if(_0xeb2ae4[_0xc26e19(0x50e)]){let _0x3890e2=_0xeb2ae4['group-participants.update'];this['groupHandler']['group-participants.update'](_0x3890e2);}if(_0xeb2ae4['chats.upsert']){let _0x303b45=_0xeb2ae4['chats.upsert'];this[_0xc26e19(0x12c)]['chats.upsert'](_0x303b45,_0x314462);}if(_0xeb2ae4[_0xc26e19(0x7e3)]){let _0x31755c=_0xeb2ae4['chats.update'];this[_0xc26e19(0x12c)][_0xc26e19(0x7e3)](_0x31755c,_0x314462);}if(_0xeb2ae4[_0xc26e19(0x581)]){let _0x1f3c57=_0xeb2ae4[_0xc26e19(0x581)];this['chatHandle'][_0xc26e19(0x581)](_0x1f3c57);}if(_0xeb2ae4[_0xc26e19(0x816)]){let _0x4e3a2f=_0xeb2ae4[_0xc26e19(0x816)];this[_0xc26e19(0x2bb)][_0xc26e19(0x816)](_0x4e3a2f,_0x314462);}if(_0xeb2ae4[_0xc26e19(0x58a)]){let _0x48590a=_0xeb2ae4[_0xc26e19(0x58a)];this[_0xc26e19(0x2bb)][_0xc26e19(0x58a)](_0x48590a,_0x314462);}}});}async[a0_0x1e84a8(0x65d)](_0x467458,_0x1c299){const _0x385d60=a0_0x1e84a8;if(_0x1c299>=0xa){console['error'](this[_0x385d60(0x3a0)]+'\x20('+this[_0x385d60(0x1d9)]['wuid']+_0x385d60(0x459)),delete Lt[_0x467458[_0x385d60(0x37f)]['id']];return;}try{console['error'](this[_0x385d60(0x3a0)]+'\x20('+this[_0x385d60(0x1d9)][_0x385d60(0x40b)]+_0x385d60(0x1a2)+(_0x1c299+0x1)),await this[_0x385d60(0x59e)][_0x385d60(0x565)](JSON[_0x385d60(0x2c0)](_0x467458['messageStubParameters'][0x1],w[_0x385d60(0x420)][_0x385d60(0x145)])),console[_0x385d60(0x31d)](_0x385d60(0x6db));}catch(_0x189a84){console[_0x385d60(0x31d)](this['instanceName']+'\x20('+this[_0x385d60(0x1d9)][_0x385d60(0x40b)]+_0x385d60(0x5ce)+_0x189a84),setTimeout(()=>this[_0x385d60(0x65d)](_0x467458,_0x1c299+0x1),Math[_0x385d60(0x104)](0x2,_0x1c299)*0x3e8);}}async[a0_0x1e84a8(0x825)](_0xda1073){const _0x5c1223=a0_0x1e84a8;let _0x141efd=_0xda1073['key'][_0x5c1223(0x6aa)][_0x5c1223(0x6be)](_0x5c1223(0x20c)),_0x3862f7;if(_0xda1073[_0x5c1223(0x37f)][_0x5c1223(0x3a6)])_0x3862f7=this['instance'][_0x5c1223(0x2e3)];else{let _0x455d85=_0x141efd?_0xda1073[_0x5c1223(0x37f)][_0x5c1223(0x5ab)]:_0xda1073[_0x5c1223(0x37f)][_0x5c1223(0x6aa)];_0x3862f7=(await this[_0x5c1223(0x853)](_0x455d85,_0xda1073[_0x5c1223(0x2a7)],!0x1))[_0x5c1223(0x2a8)][_0x5c1223(0x5dd)];}_0xda1073[_0x5c1223(0x781)]&&_0xda1073[_0x5c1223(0x781)][_0x5c1223(0x71c)]()[_0x5c1223(0x124)]<0xd&&(_0xda1073[_0x5c1223(0x781)]=_0xda1073[_0x5c1223(0x781)]*0x3e8);let _0x405b95={'_id':_0xda1073[_0x5c1223(0x37f)]['id'],'key':_0xda1073[_0x5c1223(0x37f)],'isGroup':_0x141efd,'profilePictureUrl':_0x3862f7,'pushName':_0xda1073[_0x5c1223(0x2a7)],'message':{'text':_0x5c1223(0x112)},'messageType':_0x5c1223(0x31d),'message_normalized':{'key':_0xda1073[_0x5c1223(0x37f)],'pushName':_0xda1073[_0x5c1223(0x2a7)],'messageTimestamp':_0xda1073[_0x5c1223(0x781)],'source':(0x0,w['getDevice'])(_0xda1073[_0x5c1223(0x37f)]['id']),'text':_0x5c1223(0x112)},'messageTimestamp':_0xda1073[_0x5c1223(0x781)],'owner':this['instance']['wuid'],'source':(0x0,w['getDevice'])(_0xda1073['key']['id'])};this[_0x5c1223(0x1a7)][_0x5c1223(0x31d)](this[_0x5c1223(0x3a0)]+'\x20('+this['instance'][_0x5c1223(0x40b)]+'):\x20'+(_0x405b95[_0x5c1223(0x37f)]?.[_0x5c1223(0x3a6)]?_0x5c1223(0x788):_0x5c1223(0x528))+'\x20['+_0x405b95['key']?.[_0x5c1223(0x6aa)][_0x5c1223(0x122)](_0x5c1223(0x5aa),'')+']\x20('+_0x405b95[_0x5c1223(0x754)]+')'),_0x405b95['message_normalized']?.[_0x5c1223(0x5d1)]&&this[_0x5c1223(0x1a7)][_0x5c1223(0x31d)](_0xda1073[_0x5c1223(0x37f)]['id']+':\x20'+_0x405b95[_0x5c1223(0x7bc)]?.[_0x5c1223(0x5d1)]),await this['repository']['message'][_0x5c1223(0x72d)]([_0x405b95],this[_0x5c1223(0x1d9)][_0x5c1223(0x40b)]),await this[_0x5c1223(0x2d1)][_0x5c1223(0x2df)][_0x5c1223(0x72d)]([_0x405b95]),this[_0x5c1223(0x47a)](_0x5c1223(0x5ac),_0x405b95),F(this[_0x5c1223(0x3a0)],_0x5c1223(0x435),{'message':_0x405b95});}[a0_0x1e84a8(0x322)](_0x2b6afc){return new Promise(_0x1aa456=>setTimeout(_0x1aa456,_0x2b6afc));}[a0_0x1e84a8(0x35d)](_0x3651a1){const _0x21fe10=a0_0x1e84a8;_0x3651a1=_0x3651a1[_0x21fe10(0x122)](/\D/g,'');let _0x4dc620=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x21fe10(0x56b)](_0x3651a1);if(_0x4dc620&&_0x4dc620[0x1]==='55'){let _0x1b80dc=_0x4dc620[0x2],_0x21133c=_0x4dc620[0x3],_0x12e7b3=_0x4dc620[0x4];if(parseInt(_0x1b80dc)>=0x1f&&_0x21133c==='9')return _0x4dc620[0x1]+_0x1b80dc+_0x12e7b3;}return _0x3651a1;}[a0_0x1e84a8(0x49b)](_0xfa1ca9){const _0x327c30=a0_0x1e84a8;return _0xfa1ca9[_0x327c30(0x371)](_0x327c30(0x20c))||_0xfa1ca9[_0x327c30(0x371)](_0x327c30(0x5aa))||_0xfa1ca9[_0x327c30(0x371)]('@broadcast')?_0xfa1ca9:(_0xfa1ca9=_0xfa1ca9?.[_0x327c30(0x122)](/\s/g,'')[_0x327c30(0x122)](/\+/g,'')[_0x327c30(0x122)](/\(/g,'')[_0x327c30(0x122)](/\)/g,'')[_0x327c30(0x4c1)](/\:/)[0x0]['split']('@')[0x0],_0xfa1ca9['length']>=0x12?(_0xfa1ca9=_0xfa1ca9['replace'](/[^\d-]/g,''),_0xfa1ca9+_0x327c30(0x20c)):(_0xfa1ca9=_0xfa1ca9[_0x327c30(0x122)](/\D/g,''),_0xfa1ca9+_0x327c30(0x5aa)));}async[a0_0x1e84a8(0x30f)](_0x40ef1f){const _0x1ea1bd=a0_0x1e84a8;let _0x3e780b=(await this[_0x1ea1bd(0x5d2)]({'numbers':[_0x40ef1f['number']]}))[0x0];if(!_0x3e780b[_0x1ea1bd(0x70e)]&&!(0x0,w[_0x1ea1bd(0x5be)])(_0x3e780b[_0x1ea1bd(0x400)])&&!_0x3e780b[_0x1ea1bd(0x400)][_0x1ea1bd(0x371)](_0x1ea1bd(0x268)))throw new m(_0x3e780b);let _0x19fa34=_0x3e780b[_0x1ea1bd(0x400)];try{return await this[_0x1ea1bd(0x59e)][_0x1ea1bd(0x4a8)](_0x19fa34),await this[_0x1ea1bd(0x59e)][_0x1ea1bd(0x6d7)](_0x40ef1f[_0x1ea1bd(0x2c2)],_0x19fa34),{'status':0xc8,'presence':_0x40ef1f[_0x1ea1bd(0x2c2)]};}catch(_0x38fa5f){let _0x3bd5ed=_0x1ea1bd(0x4fb),_0x224fa0=_0x38fa5f instanceof Error?_0x38fa5f[_0x1ea1bd(0x4b3)]:typeof _0x38fa5f==_0x1ea1bd(0x526)?JSON[_0x1ea1bd(0x732)](_0x38fa5f):_0x38fa5f,_0x598065=_0x3bd5ed+':\x20'+_0x224fa0;throw this[_0x1ea1bd(0x1a7)][_0x1ea1bd(0x31d)](this[_0x1ea1bd(0x3a0)]+'\x20('+this[_0x1ea1bd(0x1d9)]['wuid']+_0x1ea1bd(0x52a)+_0x598065),new m(_0x598065);}}async[a0_0x1e84a8(0x853)](_0x2956ca,_0x3afd4d,_0x24a269,_0x59edb4=!0x0){const _0x16938f=a0_0x1e84a8;let _0xcfa74e=await this['repository'][_0x16938f(0x1a1)][_0x16938f(0x688)]({'where':{'_id':_0x2956ca}});if(!_0xcfa74e&&!_0x59edb4)return;let _0x1cd406={'lastUpdate':Date['now']()};if(_0x24a269||!_0xcfa74e?.['lastUpdate']||Date['now']()-_0xcfa74e[_0x16938f(0x3d7)]>0x18*0x3c*0x3c*0x3e8)try{let _0xbd16b2=(await this['profilePicture'](_0x2956ca))[_0x16938f(0x2e3)];_0x1cd406[_0x16938f(0x5dd)]=_0xbd16b2;}catch(_0x932eb0){let _0x9dc050=_0x16938f(0x760),_0x1a5008=_0x932eb0 instanceof Error?_0x932eb0['message']:typeof _0x932eb0=='object'?JSON['stringify'](_0x932eb0):_0x932eb0,_0x45de4b=_0x9dc050+':\x20'+_0x1a5008;throw this[_0x16938f(0x1a7)][_0x16938f(0x31d)](this[_0x16938f(0x3a0)]+'\x20('+this[_0x16938f(0x1d9)][_0x16938f(0x40b)]+_0x16938f(0x52a)+_0x45de4b),new m(_0x45de4b);}return _0x3afd4d&&_0xcfa74e?.[_0x16938f(0x2c3)]!==_0x3afd4d&&(_0x1cd406[_0x16938f(0x2c3)]=_0x3afd4d),Object['keys'](_0x1cd406)[_0x16938f(0x124)]>0x1&&(_0xcfa74e?await this[_0x16938f(0x2d1)][_0x16938f(0x1a1)]['update']({'where':{'_id':_0x2956ca}},_0x1cd406):await this[_0x16938f(0x2d1)]['cacheContact'][_0x16938f(0x72d)]([{'_id':_0x2956ca,..._0x1cd406}]),_0xcfa74e={..._0xcfa74e,..._0x1cd406}),{'cachedContact':_0xcfa74e};}async['profilePicture'](_0x2cdea4){const _0x432c34=a0_0x1e84a8;let _0x155033=this[_0x432c34(0x49b)](_0x2cdea4);try{return{'wuid':_0x155033,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x155033,_0x432c34(0x76b))};}catch{return{'wuid':_0x155033,'profilePictureUrl':null};}}async[a0_0x1e84a8(0x10e)](_0x34d96c,_0xd3bca1,_0x580826){const _0x1c7a63=a0_0x1e84a8;let _0x585b9c;try{let _0x30976e=(await this[_0x1c7a63(0x5d2)]({'numbers':[_0x34d96c]}))?.['shift']();if(!_0x30976e['exists']&&!(0x0,w['isJidGroup'])(_0x30976e['jid'])&&!_0x30976e['jid'][_0x1c7a63(0x371)](_0x1c7a63(0x268)))throw new m(_0x30976e);_0x585b9c=_0x30976e['jid'];}catch(_0x260245){_0x585b9c=_0x34d96c,this[_0x1c7a63(0x1a7)][_0x1c7a63(0x2e7)](this[_0x1c7a63(0x3a0)]+'\x20('+this['instance'][_0x1c7a63(0x40b)]+_0x1c7a63(0x3fd)+_0x260245[_0x1c7a63(0x4b3)]),this[_0x1c7a63(0x1a7)][_0x1c7a63(0x2e7)](this['instanceName']+'\x20('+this[_0x1c7a63(0x1d9)][_0x1c7a63(0x40b)]+_0x1c7a63(0x752)+_0x585b9c);}try{if(_0x585b9c||(_0x585b9c=_0x34d96c,this[_0x1c7a63(0x1a7)][_0x1c7a63(0x2e7)](this[_0x1c7a63(0x3a0)]+'\x20('+this[_0x1c7a63(0x1d9)]['wuid']+_0x1c7a63(0x159)+_0x585b9c)),_0x580826||(_0x580826={}),_0x580826?.[_0x1c7a63(0x3ae)]){await this[_0x1c7a63(0x59e)][_0x1c7a63(0x4a8)](_0x585b9c),await this['client'][_0x1c7a63(0x6d7)](_0x580826?.[_0x1c7a63(0x2c2)]??'composing',_0x585b9c);let _0x3b217f=Math[_0x1c7a63(0x602)](_0x580826['delay'],0x2710);await(0x0,w[_0x1c7a63(0x3ae)])(_0x3b217f),await this[_0x1c7a63(0x59e)][_0x1c7a63(0x6d7)](_0x1c7a63(0x59b),_0x585b9c);}let _0xfad658=_0x580826?.[_0x1c7a63(0x15f)]!=!0x1?void 0x0:!0x1,_0x2ee7ae;if(_0x580826?.['quoted']){let _0x3b9f83=_0x580826?.[_0x1c7a63(0x6f0)],_0x3075fb=_0x3b9f83?.[_0x1c7a63(0x4b3)]?_0x3b9f83:await this[_0x1c7a63(0x406)](_0x3b9f83[_0x1c7a63(0x37f)],!0x0);_0x3075fb&&(_0x2ee7ae=_0x3075fb);}let _0x20cdf7=await this['repository'][_0x1c7a63(0x7e6)][_0x1c7a63(0x688)]({'where':{'_id':_0x585b9c}},this[_0x1c7a63(0x1d9)]['wuid']),_0x21e797,_0x4683e5=null;if((0x0,w[_0x1c7a63(0x5be)])(_0x585b9c))try{if(_0x4683e5=_0x20cdf7[_0x1c7a63(0x5a2)],!_0x4683e5)throw new U(_0x1c7a63(0x262));if(!_0x4683e5[_0x1c7a63(0x374)])throw new m(_0x1c7a63(0x183));_0x580826?.[_0x1c7a63(0x41e)]&&(_0x580826[_0x1c7a63(0x41e)]?.[_0x1c7a63(0x55f)]?_0x21e797=_0x4683e5[_0x1c7a63(0x813)]['map'](_0x46e653=>_0x46e653['id']):_0x580826[_0x1c7a63(0x41e)]?.[_0x1c7a63(0x389)]?.[_0x1c7a63(0x124)]&&(_0x21e797=_0x580826[_0x1c7a63(0x41e)][_0x1c7a63(0x389)][_0x1c7a63(0x7b9)](_0x3de6bf=>{const _0x464003=_0x1c7a63;let _0x631cc0=this[_0x464003(0x49b)](_0x3de6bf);return(0x0,w[_0x464003(0x5be)])(_0x631cc0)?null:_0x631cc0;})));}catch(_0x367f4d){throw _0x367f4d instanceof U?new U(_0x1c7a63(0x262)):_0x367f4d instanceof m?new m(_0x1c7a63(0x183)):new Error(_0x1c7a63(0x138));}let _0x27b37c=await((async()=>{const _0x2fcb6e=_0x1c7a63;let _0x458e91={'quoted':_0x2ee7ae,'ephemeralExpiration':_0x20cdf7?.[_0x2fcb6e(0x38e)]??0x0};if(!_0xd3bca1[_0x2fcb6e(0x6dd)]&&!_0xd3bca1[_0x2fcb6e(0x229)]&&!_0xd3bca1['sticker']&&!_0xd3bca1[_0x2fcb6e(0x861)]&&_0x585b9c!==_0x2fcb6e(0x654)&&_0xd3bca1[_0x2fcb6e(0x3c1)])return await this[_0x2fcb6e(0x59e)][_0x2fcb6e(0x1b8)](_0x585b9c,{'react':{'text':_0xd3bca1['reactionMessage']['text'],'key':_0xd3bca1[_0x2fcb6e(0x3c1)][_0x2fcb6e(0x37f)]}},_0x458e91);if(_0xd3bca1['conversation']){let _0x1d53ca=_0xd3bca1[_0x2fcb6e(0x861)];return _0x580826?.['changeVariables']&&(_0x1d53ca=await this[_0x2fcb6e(0x155)](_0x1d53ca,_0x585b9c)),await this[_0x2fcb6e(0x59e)][_0x2fcb6e(0x1b8)](_0x585b9c,{'text':_0x1d53ca,'mentions':_0x21e797,'linkPreview':_0xfad658},_0x458e91);}return!_0xd3bca1[_0x2fcb6e(0x6dd)]&&!_0xd3bca1['poll']&&_0x585b9c!=_0x2fcb6e(0x654)?await this['client'][_0x2fcb6e(0x1b8)](_0x585b9c,{'forward':{'key':{'remoteJid':this['instance'][_0x2fcb6e(0x40b)],'fromMe':!0x0},'message':_0xd3bca1},'mentions':_0x21e797},_0x458e91):_0x585b9c===_0x2fcb6e(0x654)?await this[_0x2fcb6e(0x59e)][_0x2fcb6e(0x1b8)](_0x585b9c,_0xd3bca1[_0x2fcb6e(0x612)]['content'],{'backgroundColor':_0xd3bca1['status'][_0x2fcb6e(0x39c)][_0x2fcb6e(0x1d2)],'font':_0xd3bca1[_0x2fcb6e(0x612)][_0x2fcb6e(0x39c)][_0x2fcb6e(0x25a)],'statusJidList':_0xd3bca1[_0x2fcb6e(0x612)][_0x2fcb6e(0x39c)]['statusJidList']}):await this[_0x2fcb6e(0x59e)]['sendMessage'](_0x585b9c,_0xd3bca1,_0x458e91);})()),_0x45940b=(0x0,w[_0x1c7a63(0x38a)])(_0x27b37c[_0x1c7a63(0x4b3)]),_0x3f37b9=(0x0,w[_0x1c7a63(0x2d0)])(_0x45940b),{message_normalized:_0x1f7077}=this[_0x1c7a63(0x73e)](_0x45940b,_0x3f37b9,null),_0x3013b9={'_id':_0x27b37c[_0x1c7a63(0x37f)]['id'],'key':_0x27b37c[_0x1c7a63(0x37f)],'pushName':_0x27b37c[_0x1c7a63(0x2a7)],'isGroup':_0x27b37c[_0x1c7a63(0x37f)][_0x1c7a63(0x6aa)][_0x1c7a63(0x6be)](_0x1c7a63(0x20c)),'profilePictureUrl':this[_0x1c7a63(0x1d9)][_0x1c7a63(0x2e3)],'message':_0x45940b,'messageType':_0x3f37b9,'message_normalized':{'key':_0x27b37c[_0x1c7a63(0x37f)],'pushName':_0x27b37c['pushName'],'messageTimestamp':_0x27b37c['messageTimestamp']&&_0x27b37c[_0x1c7a63(0x781)][_0x1c7a63(0x71c)]()[_0x1c7a63(0x124)]<0xd?_0x27b37c[_0x1c7a63(0x781)]*0x3e8:_0x27b37c[_0x1c7a63(0x781)]||null,'source':(0x0,w[_0x1c7a63(0x460)])(_0x27b37c[_0x1c7a63(0x37f)]['id']),..._0x1f7077},'messageTimestamp':_0x27b37c[_0x1c7a63(0x781)]&&_0x27b37c[_0x1c7a63(0x781)][_0x1c7a63(0x71c)]()['length']<0xd?_0x27b37c[_0x1c7a63(0x781)]*0x3e8:_0x27b37c[_0x1c7a63(0x781)]||null,'owner':this['instance'][_0x1c7a63(0x40b)],'source':(0x0,w[_0x1c7a63(0x460)])(_0x27b37c[_0x1c7a63(0x37f)]['id'])};return this[_0x1c7a63(0x1a7)][_0x1c7a63(0x2e7)](this[_0x1c7a63(0x3a0)]+'\x20('+this[_0x1c7a63(0x1d9)][_0x1c7a63(0x40b)]+_0x1c7a63(0x71b)+_0x3013b9[_0x1c7a63(0x37f)]?.['remoteJid'][_0x1c7a63(0x122)](_0x1c7a63(0x5aa),'')+_0x1c7a63(0x833)+_0x3013b9[_0x1c7a63(0x754)]+')'),_0x3013b9['message_normalized']?.[_0x1c7a63(0x5d1)]&&this[_0x1c7a63(0x1a7)]['warn'](_0x3013b9[_0x1c7a63(0x7bc)]?.[_0x1c7a63(0x5d1)]),this['sendDataWebhook']('send.message',_0x3013b9),F(this['instanceName'],_0x1c7a63(0x435),{'message':_0x3013b9}),this[_0x1c7a63(0x5af)](this[_0x1c7a63(0x26f)][_0x1c7a63(0x13e)](_0x1c7a63(0x257)),_0x3013b9,_0x1c7a63(0x271),_0x20cdf7),await this[_0x1c7a63(0x2d1)][_0x1c7a63(0x4b3)][_0x1c7a63(0x72d)]([_0x3013b9],this[_0x1c7a63(0x1d9)][_0x1c7a63(0x40b)]),_0x27b37c;}catch(_0x26e5df){let _0x53cc92=_0x1c7a63(0x84c)+_0x585b9c,_0x1983f3=_0x26e5df instanceof Error?_0x26e5df[_0x1c7a63(0x4b3)]:typeof _0x26e5df==_0x1c7a63(0x526)?JSON[_0x1c7a63(0x732)](_0x26e5df):_0x26e5df,_0x129b3b=_0x53cc92+':\x20'+_0x1983f3;throw this['logger'][_0x1c7a63(0x31d)](this['instanceName']+'\x20('+this[_0x1c7a63(0x1d9)][_0x1c7a63(0x40b)]+_0x1c7a63(0x52a)+_0x129b3b),new m(_0x129b3b);}}async[a0_0x1e84a8(0x346)](_0x110ab3,_0xfe446c,_0x253e3f){const _0x22d361=a0_0x1e84a8;let _0x24d2e6=this[_0x22d361(0x49b)](_0x110ab3),_0x4db5df=(await this[_0x22d361(0x5d2)]({'numbers':[_0x24d2e6]}))[0x0];if(!_0x4db5df['exists']&&!(0x0,w['isJidGroup'])(_0x4db5df['jid']))throw new m(_0x4db5df);let _0x4440e8=(0x0,w[_0x22d361(0x5be)])(_0x24d2e6)?_0x24d2e6:_0x4db5df[_0x22d361(0x400)];if((0x0,w[_0x22d361(0x5be)])(_0x4440e8))try{await this[_0x22d361(0x59e)][_0x22d361(0x32b)](_0x4440e8);}catch{throw new m(_0x22d361(0x4dd));}try{_0x253e3f?.[_0x22d361(0x3ae)]&&(await this['client'][_0x22d361(0x4a8)](_0x4440e8),await this[_0x22d361(0x59e)]['sendPresenceUpdate'](_0x253e3f?.[_0x22d361(0x2c2)]??_0x22d361(0x354),_0x24d2e6),await(0x0,w[_0x22d361(0x3ae)])(_0x253e3f[_0x22d361(0x3ae)]),await this[_0x22d361(0x59e)][_0x22d361(0x6d7)](_0x22d361(0x59b),_0x4440e8));let _0x516dc2=await((async()=>{const _0x5a509b=_0x22d361;let _0x1fbb1d,_0x1b261f='3EB0'+(0x0,ne[_0x5a509b(0x451)])(0x12)[_0x5a509b(0x71c)]('hex')[_0x5a509b(0x789)](),_0x5dd2dd=(0x0,w[_0x5a509b(0x6ea)])(_0x4440e8,_0xfe446c,{'timestamp':new Date(),'userJid':this['instance'][_0x5a509b(0x40b)],'messageId':_0x1b261f,'quoted':_0x1fbb1d}),_0x4d5cbb=await this['client'][_0x5a509b(0x1e2)](_0x4440e8,_0x5dd2dd[_0x5a509b(0x4b3)],{'messageId':_0x1b261f});_0x5dd2dd[_0x5a509b(0x37f)]={'id':_0x4d5cbb,'remoteJid':_0x24d2e6,'participant':(0x0,w[_0x5a509b(0x149)])(_0x24d2e6)?void 0x0:_0x24d2e6,'fromMe':!0x0};for(let [_0x59bf3e,_0xf5e54d]of Object[_0x5a509b(0x40e)](_0x5dd2dd))(!_0xf5e54d||Array[_0x5a509b(0x663)](_0xf5e54d)&&_0xf5e54d[_0x5a509b(0x124)]===0x0)&&delete _0x5dd2dd[_0x59bf3e];return this[_0x5a509b(0x59e)]['ev'][_0x5a509b(0x23a)]('messages.upsert',{'messages':[_0x5dd2dd],'type':'notify'}),_0x5dd2dd;})()),_0x2eb80a=await this[_0x22d361(0x2d1)][_0x22d361(0x7e6)][_0x22d361(0x688)]({'where':{'_id':_0x4440e8}},this[_0x22d361(0x1d9)][_0x22d361(0x40b)]),_0x19b235=(0x0,w[_0x22d361(0x38a)])(_0x516dc2[_0x22d361(0x4b3)]),_0x45de66=(0x0,w[_0x22d361(0x2d0)])(_0x19b235),{message_normalized:_0x423627}=this['normalizeMessage'](_0x19b235,_0x45de66,null),_0x5106e0={'_id':_0x516dc2[_0x22d361(0x37f)]['id'],'key':_0x516dc2[_0x22d361(0x37f)],'pushName':_0x516dc2[_0x22d361(0x2a7)],'isGroup':_0x516dc2[_0x22d361(0x37f)][_0x22d361(0x6aa)][_0x22d361(0x6be)](_0x22d361(0x20c)),'profilePictureUrl':this['instance'][_0x22d361(0x2e3)],'message':_0x19b235,'messageType':_0x45de66,'message_normalized':{'key':_0x516dc2[_0x22d361(0x37f)],'pushName':_0x516dc2[_0x22d361(0x2a7)],'messageTimestamp':_0x516dc2[_0x22d361(0x781)]&&_0x516dc2['messageTimestamp'][_0x22d361(0x71c)]()['length']<0xd?_0x516dc2['messageTimestamp']*0x3e8:_0x516dc2[_0x22d361(0x781)]||null,'source':(0x0,w['getDevice'])(_0x516dc2[_0x22d361(0x37f)]['id']),..._0x423627},'messageTimestamp':_0x516dc2[_0x22d361(0x781)]&&_0x516dc2[_0x22d361(0x781)][_0x22d361(0x71c)]()['length']<0xd?_0x516dc2['messageTimestamp']*0x3e8:_0x516dc2[_0x22d361(0x781)]||null,'owner':this[_0x22d361(0x1d9)][_0x22d361(0x40b)],'source':(0x0,w[_0x22d361(0x460)])(_0x516dc2['key']['id'])};return this[_0x22d361(0x1a7)][_0x22d361(0x2e7)](this[_0x22d361(0x3a0)]+'\x20('+this['instance'][_0x22d361(0x40b)]+'):\x20enviado\x20para\x20['+_0x5106e0[_0x22d361(0x37f)]?.['remoteJid'][_0x22d361(0x122)]('@s.whatsapp.net','')+']\x20('+_0x5106e0[_0x22d361(0x754)]+')'),_0x5106e0['message_normalized']?.[_0x22d361(0x5d1)]&&this[_0x22d361(0x1a7)][_0x22d361(0x2e7)](_0x5106e0[_0x22d361(0x7bc)]?.[_0x22d361(0x5d1)]),this[_0x22d361(0x47a)](_0x22d361(0x580),_0x5106e0),F(this[_0x22d361(0x3a0)],'messages',{'message':_0x5106e0}),this[_0x22d361(0x5af)](this['configService'][_0x22d361(0x13e)](_0x22d361(0x257)),_0x5106e0,'SEND_MESSAGE',_0x2eb80a),await this['repository'][_0x22d361(0x4b3)][_0x22d361(0x72d)]([_0x5106e0],this[_0x22d361(0x1d9)]['wuid']),_0x516dc2;}catch(_0xa763b6){throw this[_0x22d361(0x1a7)]['error'](_0xa763b6),new m(_0xa763b6[_0x22d361(0x71c)]());}}get[a0_0x1e84a8(0x1c2)](){const _0x41c7c9=a0_0x1e84a8;return this[_0x41c7c9(0x79a)];}async[a0_0x1e84a8(0x37d)](_0x330eec){const _0x4ce324=a0_0x1e84a8;return await this[_0x4ce324(0x10e)](_0x330eec[_0x4ce324(0x1ee)],{'conversation':_0x330eec[_0x4ce324(0x37d)]['text']},_0x330eec?.[_0x4ce324(0x711)]);}async['formatStatusMessage'](_0x142e47){const _0x1e23f8=a0_0x1e84a8;if(!_0x142e47[_0x1e23f8(0x749)])throw new m(_0x1e23f8(0x588));if(!_0x142e47[_0x1e23f8(0x471)])throw new m(_0x1e23f8(0x4bd));if(_0x142e47[_0x1e23f8(0x165)]){let _0x453932=await this[_0x1e23f8(0x2d1)][_0x1e23f8(0x12b)]['find']({'where':{}},this[_0x1e23f8(0x1d9)][_0x1e23f8(0x40b)]);if(!_0x453932[_0x1e23f8(0x124)])throw new m('Contacts\x20not\x20found');_0x142e47[_0x1e23f8(0x7fa)]=_0x453932[_0x1e23f8(0x186)](_0x164485=>_0x164485[_0x1e23f8(0x2a7)])[_0x1e23f8(0x7b9)](_0x3c94be=>_0x3c94be[_0x1e23f8(0x3c4)]);}if(!_0x142e47[_0x1e23f8(0x7fa)]?.[_0x1e23f8(0x124)]&&!_0x142e47[_0x1e23f8(0x165)])throw new m(_0x1e23f8(0x302));if(_0x142e47['type']===_0x1e23f8(0x5d1)){if(!_0x142e47[_0x1e23f8(0x1d2)])throw new m(_0x1e23f8(0x373));if(!_0x142e47[_0x1e23f8(0x25a)])throw new m(_0x1e23f8(0x5b4));return{'content':{'text':_0x142e47[_0x1e23f8(0x471)]},'option':{'backgroundColor':_0x142e47[_0x1e23f8(0x1d2)],'font':_0x142e47['font'],'statusJidList':_0x142e47[_0x1e23f8(0x7fa)]}};}if(_0x142e47['type']==='image')return{'content':{'image':{'url':_0x142e47['content']},'caption':_0x142e47[_0x1e23f8(0x1cc)]},'option':{'statusJidList':_0x142e47[_0x1e23f8(0x7fa)]}};if(_0x142e47[_0x1e23f8(0x749)]===_0x1e23f8(0x2cd))return{'content':{'video':{'url':_0x142e47[_0x1e23f8(0x471)]},'caption':_0x142e47[_0x1e23f8(0x1cc)]},'option':{'statusJidList':_0x142e47['statusJidList']}};if(_0x142e47[_0x1e23f8(0x749)]===_0x1e23f8(0x6dd)){this[_0x1e23f8(0x1a7)][_0x1e23f8(0x7ba)](this['instanceName']+'\x20('+this[_0x1e23f8(0x1d9)]['wuid']+_0x1e23f8(0x4b2)),this[_0x1e23f8(0x1a7)][_0x1e23f8(0x7ba)](this[_0x1e23f8(0x3a0)]+'\x20('+this['instance'][_0x1e23f8(0x40b)]+'):Processing\x20audio');let _0x2ffa4c=await this[_0x1e23f8(0x7a9)](_0x142e47[_0x1e23f8(0x471)]);if(typeof _0x2ffa4c==_0x1e23f8(0x190)){this[_0x1e23f8(0x1a7)][_0x1e23f8(0x7ba)](this[_0x1e23f8(0x3a0)]+'\x20('+this[_0x1e23f8(0x1d9)][_0x1e23f8(0x40b)]+'):Audio\x20processed');let _0x567bf5=k['readFileSync'](_0x2ffa4c)[_0x1e23f8(0x71c)](_0x1e23f8(0x6d5));return{'content':{'audio':Buffer['from'](_0x567bf5,_0x1e23f8(0x6d5)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x142e47[_0x1e23f8(0x7fa)]}};}else throw new x(_0x2ffa4c);}throw new m('Type\x20not\x20found');}async[a0_0x1e84a8(0x58c)](_0x386339){const _0x1d3363=a0_0x1e84a8;return await this['sendMessageWithTyping'](_0x1d3363(0x654),{'status':await this['formatStatusMessage'](_0x386339['statusMessage'])});}async['prepareMediaMessage'](_0x58c4f7){const _0x414d8f=a0_0x1e84a8;try{let _0x394dd6=await(0x0,w[_0x414d8f(0x23b)])({[_0x58c4f7[_0x414d8f(0x1ac)]]:(0x0,J[_0x414d8f(0x4cc)])(_0x58c4f7[_0x414d8f(0x461)])?{'url':_0x58c4f7['media']}:Buffer[_0x414d8f(0x83e)](_0x58c4f7['media'],_0x414d8f(0x6d5))},{'upload':this[_0x414d8f(0x59e)][_0x414d8f(0x2b5)]}),_0x1836bd=_0x58c4f7[_0x414d8f(0x1ac)]+'Message';if(_0x58c4f7[_0x414d8f(0x1ac)]===_0x414d8f(0x15b)&&!_0x58c4f7['fileName']){let _0x313468=new RegExp(/.*\/(.+?)\./)[_0x414d8f(0x56b)](_0x58c4f7[_0x414d8f(0x461)]);_0x58c4f7[_0x414d8f(0x5a4)]=_0x313468?_0x313468[0x1]:null;}let _0xd6956c;return(0x0,J['isURL'])(_0x58c4f7[_0x414d8f(0x461)])?_0xd6956c=(await Q[_0x414d8f(0x50f)][_0x414d8f(0x13e)](_0x58c4f7['media'],{'responseType':_0x414d8f(0x701)}))[_0x414d8f(0x144)][_0x414d8f(0x7b4)]:_0xd6956c=(0x0,Oi[_0x414d8f(0x5cf)])(_0x58c4f7['fileName']),_0x394dd6[_0x1836bd][_0x414d8f(0x1cc)]=_0x58c4f7?.[_0x414d8f(0x1cc)],_0x394dd6[_0x1836bd][_0x414d8f(0x314)]=_0xd6956c,_0x394dd6[_0x1836bd][_0x414d8f(0x5a4)]=_0x58c4f7[_0x414d8f(0x5a4)],_0x58c4f7['mediatype']===_0x414d8f(0x2cd)&&(_0x394dd6[_0x1836bd][_0x414d8f(0x348)]=Uint8Array[_0x414d8f(0x83e)]((0x0,Le[_0x414d8f(0x633)])((0x0,j[_0x414d8f(0x1db)])(process[_0x414d8f(0x719)](),_0x414d8f(0x46a)))),_0x394dd6[_0x1836bd][_0x414d8f(0x152)]=!0x1),(0x0,w[_0x414d8f(0x6ea)])('',{[_0x1836bd]:{..._0x394dd6[_0x1836bd]}},{'userJid':this['instance'][_0x414d8f(0x40b)]});}catch(_0x3e80c1){let _0x35f9e4=_0x414d8f(0x7dd),_0x242ad9=_0x3e80c1 instanceof Error?_0x3e80c1['message']:typeof _0x3e80c1==_0x414d8f(0x526)?JSON[_0x414d8f(0x732)](_0x3e80c1):_0x3e80c1,_0x311753=_0x35f9e4+':\x20'+_0x242ad9;throw this['logger'][_0x414d8f(0x31d)](this[_0x414d8f(0x3a0)]+'\x20('+this[_0x414d8f(0x1d9)][_0x414d8f(0x40b)]+_0x414d8f(0x52a)+_0x311753),new x(_0x311753);}}async[a0_0x1e84a8(0x5ef)](_0x133062){const _0x1693a3=a0_0x1e84a8;let _0xc64237=await this[_0x1693a3(0x4ff)](_0x133062[_0x1693a3(0x5ef)]);return await this['sendMessageWithTyping'](_0x133062[_0x1693a3(0x1ee)],{..._0xc64237[_0x1693a3(0x4b3)]},_0x133062?.[_0x1693a3(0x711)]);}async[a0_0x1e84a8(0x611)](_0x6b1988,_0x1be0a2){const _0xd4c5f3=a0_0x1e84a8;try{this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this[_0xd4c5f3(0x1d9)][_0xd4c5f3(0x40b)]+_0xd4c5f3(0x13d));let _0xd9c4c3,_0x2cc60a=_0x1be0a2+'-'+new Date()[_0xd4c5f3(0x4d1)]();this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this[_0xd4c5f3(0x1d9)][_0xd4c5f3(0x40b)]+_0xd4c5f3(0x863)+_0x2cc60a);let _0x51326d=''+(0x0,j[_0xd4c5f3(0x1db)])(this['storePath'],_0x2cc60a+_0xd4c5f3(0x6c7));if(this['logger'][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this[_0xd4c5f3(0x1d9)][_0xd4c5f3(0x40b)]+'):Output\x20path:\x20'+_0x51326d),(0x0,J[_0xd4c5f3(0x210)])(_0x6b1988)){this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0xd4c5f3(0x40b)]+_0xd4c5f3(0x37c));let _0x1ec5a8=_0x6b1988[_0xd4c5f3(0x122)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2b044b=Buffer['from'](_0x1ec5a8,_0xd4c5f3(0x6d5));_0xd9c4c3=''+(0x0,j[_0xd4c5f3(0x1db)])(this['storePath'],_0xd4c5f3(0x6cb)+_0x2cc60a+_0xd4c5f3(0x4c3)),this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this['instance'][_0xd4c5f3(0x40b)]+'):Image\x20path:\x20'+_0xd9c4c3),await(0x0,Ut[_0xd4c5f3(0x50f)])(_0x2b044b)[_0xd4c5f3(0x3a2)](_0xd9c4c3),this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this[_0xd4c5f3(0x1d9)]['wuid']+_0xd4c5f3(0x421));}else{this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this[_0xd4c5f3(0x1d9)]['wuid']+'):Image\x20is\x20url');let _0x3dcc40=new Date()[_0xd4c5f3(0x4d1)](),_0x583c70=_0x6b1988+'?timestamp='+_0x3dcc40;this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this['instance'][_0xd4c5f3(0x40b)]+_0xd4c5f3(0x2cb)+_0x583c70);let _0x42d4fb=await Q[_0xd4c5f3(0x50f)]['get'](_0x583c70,{'responseType':'arraybuffer'});this[_0xd4c5f3(0x1a7)]['verbose'](this['instanceName']+'\x20('+this[_0xd4c5f3(0x1d9)]['wuid']+'):Getting\x20image\x20from\x20url');let _0x508100=Buffer[_0xd4c5f3(0x83e)](_0x42d4fb[_0xd4c5f3(0x56a)],_0xd4c5f3(0x653));_0xd9c4c3=''+(0x0,j[_0xd4c5f3(0x1db)])(this['storePath'],_0xd4c5f3(0x6cb)+_0x2cc60a+'.png'),this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this[_0xd4c5f3(0x1d9)][_0xd4c5f3(0x40b)]+_0xd4c5f3(0x26b)+_0xd9c4c3),await(0x0,Ut['default'])(_0x508100)[_0xd4c5f3(0x3a2)](_0xd9c4c3),this['logger']['verbose'](this[_0xd4c5f3(0x3a0)]+'\x20('+this['instance'][_0xd4c5f3(0x40b)]+_0xd4c5f3(0x421));}return await(0x0,Ut[_0xd4c5f3(0x50f)])(_0xd9c4c3)['webp']()[_0xd4c5f3(0x3a2)](_0x51326d),this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0xd4c5f3(0x40b)]+_0xd4c5f3(0x60c)),k[_0xd4c5f3(0x56d)](_0xd9c4c3),this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x7ba)](this[_0xd4c5f3(0x3a0)]+'\x20('+this['instance']['wuid']+_0xd4c5f3(0x287)),_0x51326d;}catch(_0x1d3545){let _0x4e0a99=_0xd4c5f3(0x7a3),_0x20ac5c=_0x1d3545 instanceof Error?_0x1d3545['message']:typeof _0x1d3545==_0xd4c5f3(0x526)?JSON[_0xd4c5f3(0x732)](_0x1d3545):_0x1d3545,_0x699f87=_0x4e0a99+':\x20'+_0x20ac5c;this[_0xd4c5f3(0x1a7)][_0xd4c5f3(0x31d)](this[_0xd4c5f3(0x3a0)]+'\x20('+this[_0xd4c5f3(0x1d9)][_0xd4c5f3(0x40b)]+_0xd4c5f3(0x52a)+_0x699f87);}}async[a0_0x1e84a8(0x1f7)](_0x1e7517){const _0x2f207b=a0_0x1e84a8;let _0x58a4fd=await this[_0x2f207b(0x611)](_0x1e7517[_0x2f207b(0x2f7)]['image'],_0x1e7517[_0x2f207b(0x1ee)]),_0x450882=await this[_0x2f207b(0x10e)](_0x1e7517[_0x2f207b(0x1ee)],{'sticker':{'url':_0x58a4fd}},_0x1e7517?.[_0x2f207b(0x711)]);return k[_0x2f207b(0x56d)](_0x58a4fd),this['logger'][_0x2f207b(0x7ba)](this[_0x2f207b(0x3a0)]+'\x20('+this['instance']['wuid']+_0x2f207b(0x2c4)),_0x450882;}async[a0_0x1e84a8(0x17b)](_0x3c0eed){const _0x526cab=a0_0x1e84a8;if(this[_0x526cab(0x1a7)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x526cab(0x40b)]+_0x526cab(0x74e)),!_0x3c0eed['options']?.[_0x526cab(0x247)]&&_0x3c0eed[_0x526cab(0x711)]?.['encoding']!==!0x1&&(_0x3c0eed[_0x526cab(0x711)]['encoding']=!0x0),_0x3c0eed['options']?.[_0x526cab(0x247)]){let _0x4eefbf=await this[_0x526cab(0x7a9)](_0x3c0eed[_0x526cab(0x2aa)][_0x526cab(0x6dd)]);if(typeof _0x4eefbf==_0x526cab(0x190)){let _0x3efe02=k['readFileSync'](_0x4eefbf)[_0x526cab(0x71c)](_0x526cab(0x6d5));return this[_0x526cab(0x10e)](_0x3c0eed['number'],{'audio':Buffer[_0x526cab(0x83e)](_0x3efe02,_0x526cab(0x6d5)),'ptt':!0x0,'mimetype':_0x526cab(0x179)},{'presence':_0x526cab(0x81e),'delay':_0x3c0eed?.[_0x526cab(0x711)]?.[_0x526cab(0x3ae)]});}else throw new x(_0x4eefbf);}return await this['sendMessageWithTyping'](_0x3c0eed[_0x526cab(0x1ee)],{'audio':(0x0,J[_0x526cab(0x4cc)])(_0x3c0eed[_0x526cab(0x2aa)][_0x526cab(0x6dd)])?{'url':_0x3c0eed[_0x526cab(0x2aa)]['audio']}:Buffer[_0x526cab(0x83e)](_0x3c0eed[_0x526cab(0x2aa)][_0x526cab(0x6dd)],'base64'),'ptt':!0x0,'mimetype':_0x526cab(0x179)},{'presence':_0x526cab(0x81e),'delay':_0x3c0eed?.[_0x526cab(0x711)]?.[_0x526cab(0x3ae)]});}async[a0_0x1e84a8(0x7a9)](_0x192936){const _0x5665e5=a0_0x1e84a8;this['logger'][_0x5665e5(0x7ba)](this[_0x5665e5(0x3a0)]+'\x20('+this[_0x5665e5(0x1d9)][_0x5665e5(0x40b)]+_0x5665e5(0x5a0));let _0x549af0=(0x0,J[_0x5665e5(0x4cc)])(_0x192936)?(0x0,ne['createHash'])(_0x5665e5(0x695))['update'](_0x192936)['digest'](_0x5665e5(0x874)):(0x0,ne[_0x5665e5(0x3c8)])('sha256')['update'](_0x192936)[_0x5665e5(0x200)](_0x5665e5(0x874)),_0x5aecec=''+(0x0,j['join'])(this[_0x5665e5(0x852)],_0x549af0+_0x5665e5(0x457));if(k[_0x5665e5(0x278)](_0x5aecec))return this[_0x5665e5(0x1a7)][_0x5665e5(0x7ba)](this[_0x5665e5(0x3a0)]+'\x20('+this['instance'][_0x5665e5(0x40b)]+_0x5665e5(0x34e)),_0x5aecec;let _0x7977ac=''+(0x0,j['join'])(this[_0x5665e5(0x852)],'temp-'+(0x0,Y['v4'])()+_0x5665e5(0x57d));if((0x0,J[_0x5665e5(0x4cc)])(_0x192936)){let _0x19ae29=new Date()[_0x5665e5(0x4d1)](),_0x2ce84f=_0x192936+_0x5665e5(0x3d6)+_0x19ae29,_0x886738=await Q[_0x5665e5(0x50f)][_0x5665e5(0x13e)](_0x2ce84f,{'responseType':_0x5665e5(0x701)});k[_0x5665e5(0x4b8)](_0x7977ac,_0x886738[_0x5665e5(0x56a)]);}else{let _0xf484bf=Buffer[_0x5665e5(0x83e)](_0x192936,_0x5665e5(0x6d5));k[_0x5665e5(0x4b8)](_0x7977ac,_0xf484bf);}return new Promise((_0x3c54c5,_0xe3df)=>{const _0x2c1df2=_0x5665e5;(0x0,Fe['exec'])(Ps[_0x2c1df2(0x50f)][_0x2c1df2(0x5de)]+_0x2c1df2(0x1a4)+_0x7977ac+_0x2c1df2(0x1ea)+_0x5aecec+_0x2c1df2(0x6ba),_0x3cd2f6=>{const _0xa5ff75=_0x2c1df2;if(k[_0xa5ff75(0x56d)](_0x7977ac),_0x3cd2f6){this[_0xa5ff75(0x1a7)][_0xa5ff75(0x7ba)](this[_0xa5ff75(0x3a0)]+'\x20('+this[_0xa5ff75(0x1d9)][_0xa5ff75(0x40b)]+_0xa5ff75(0x7c4)),_0xe3df(_0x3cd2f6);return;}this[_0xa5ff75(0x1a7)][_0xa5ff75(0x7ba)](this[_0xa5ff75(0x3a0)]+'\x20('+this[_0xa5ff75(0x1d9)][_0xa5ff75(0x40b)]+_0xa5ff75(0x379)),_0x3c54c5(_0x5aecec);});});}async[a0_0x1e84a8(0x3a9)](_0x31ed33){const _0x308cbc=a0_0x1e84a8;this['logger'][_0x308cbc(0x7ba)](this[_0x308cbc(0x3a0)]+'\x20('+this[_0x308cbc(0x1d9)][_0x308cbc(0x40b)]+_0x308cbc(0x5a0));let _0x1ea613=(0x0,ne[_0x308cbc(0x3c8)])('sha256')['update'](_0x31ed33)['digest'](_0x308cbc(0x874)),_0x4d11ed=''+(0x0,j[_0x308cbc(0x1db)])(this[_0x308cbc(0x852)],_0x1ea613+'.mp3');if(k['existsSync'](_0x4d11ed))return this[_0x308cbc(0x1a7)][_0x308cbc(0x7ba)](this[_0x308cbc(0x3a0)]+'\x20('+this[_0x308cbc(0x1d9)][_0x308cbc(0x40b)]+_0x308cbc(0x34e)),j['default']['basename'](_0x4d11ed);let _0x53bdb0=''+(0x0,j[_0x308cbc(0x1db)])(this[_0x308cbc(0x852)],_0x308cbc(0x6cb)+_0x1ea613+'.ogg');if((0x0,J[_0x308cbc(0x4cc)])(_0x31ed33)){let _0x753b07=new Date()[_0x308cbc(0x4d1)](),_0x30caee=_0x31ed33+_0x308cbc(0x3d6)+_0x753b07,_0x7a5cc=await Q[_0x308cbc(0x50f)]['get'](_0x30caee,{'responseType':'arraybuffer'});k[_0x308cbc(0x4b8)](_0x53bdb0,_0x7a5cc[_0x308cbc(0x56a)]);}else{let _0x2a6150=Buffer['from'](_0x31ed33,_0x308cbc(0x6d5));k[_0x308cbc(0x4b8)](_0x53bdb0,_0x2a6150);}return new Promise((_0x473c09,_0x199147)=>{const _0x1ebdb5=_0x308cbc;(0x0,Fe['exec'])(Ps[_0x1ebdb5(0x50f)][_0x1ebdb5(0x5de)]+_0x1ebdb5(0x1a4)+_0x53bdb0+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x4d11ed+_0x1ebdb5(0x6ba),_0x21d9b0=>{const _0x377165=_0x1ebdb5;if(k[_0x377165(0x56d)](_0x53bdb0),_0x21d9b0){this[_0x377165(0x1a7)][_0x377165(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x377165(0x40b)]+_0x377165(0x7c4)),_0x199147(_0x21d9b0);return;}this['logger'][_0x377165(0x7ba)](this[_0x377165(0x3a0)]+'\x20('+this['instance'][_0x377165(0x40b)]+_0x377165(0x379)),_0x473c09(j[_0x377165(0x50f)][_0x377165(0x797)](_0x4d11ed));});});}async[a0_0x1e84a8(0x619)](_0x33837a){const _0x5c7c93=a0_0x1e84a8;console['log'](_0x5c7c93(0x780),_0x33837a);let _0x5bdc06;try{_0x33837a[_0x5c7c93(0x619)]?.[_0x5c7c93(0x54d)]&&(_0x5bdc06=await this[_0x5c7c93(0x4ff)]({'mediatype':'image','media':_0x33837a['buttonMessage'][_0x5c7c93(0x54d)]}));}catch(_0x3ec952){throw console[_0x5c7c93(0x31d)](_0x5c7c93(0x101),_0x3ec952),new Error(_0x5c7c93(0x305));}try{let _0x511238={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x5c7c93(0x47c)},'footer':{'text':'Rodapé\x20de\x20Teste'},'header':((()=>{const _0x15dc46=_0x5c7c93;if(_0x5bdc06?.[_0x15dc46(0x4b3)]?.[_0x15dc46(0x49d)])return{'hasMediaAttachment':!!_0x5bdc06[_0x15dc46(0x4b3)]['imageMessage'],'imageMessage':_0x5bdc06[_0x15dc46(0x4b3)][_0x15dc46(0x49d)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x5c7c93(0x80c),'buttonParamsJson':JSON[_0x5c7c93(0x732)]({'display_text':_0x5c7c93(0x517),'id':'1'})},{'name':_0x5c7c93(0x80c),'buttonParamsJson':JSON[_0x5c7c93(0x732)]({'display_text':_0x5c7c93(0x72f),'id':'2'})}],'messageParamsJson':JSON[_0x5c7c93(0x732)]({'from':'api','templateId':_0x5c7c93(0x84e)+(0x0,ne[_0x5c7c93(0x451)])(0x12)[_0x5c7c93(0x71c)](_0x5c7c93(0x874))[_0x5c7c93(0x789)]()})}}}}};return await this[_0x5c7c93(0x346)](_0x33837a['number'],_0x511238,_0x33837a?.[_0x5c7c93(0x711)]);}catch(_0x380855){throw console['error']('Error\x20in\x20buttonsMessage\x20function:',_0x380855),new Error('Failed\x20to\x20send\x20buttons\x20message');}}async[a0_0x1e84a8(0x5e6)](_0x344e85){const _0x3152d1=a0_0x1e84a8;return await this[_0x3152d1(0x10e)](_0x344e85['number'],{'locationMessage':{'degreesLatitude':_0x344e85[_0x3152d1(0x5e6)][_0x3152d1(0x5b1)],'degreesLongitude':_0x344e85[_0x3152d1(0x5e6)]['longitude'],'name':_0x344e85[_0x3152d1(0x5e6)]?.[_0x3152d1(0x2c3)],'address':_0x344e85['locationMessage']?.[_0x3152d1(0x2e2)]}},_0x344e85?.['options']);}async[a0_0x1e84a8(0x68e)](_0x2e5a07){const _0x3dc83=a0_0x1e84a8;let _0x56e486={},_0x4ff052=async _0x5aaf5b=>{const _0x587e7a=a0_0x3070;let _0x326f1f=_0x587e7a(0x717)+_0x5aaf5b[_0x587e7a(0x4e4)]+_0x587e7a(0x85e)+_0x5aaf5b[_0x587e7a(0x4e4)]+'\x0a';_0x5aaf5b[_0x587e7a(0x4e8)]&&(_0x326f1f+=_0x587e7a(0x715)+_0x5aaf5b[_0x587e7a(0x4e8)]+';\x0a'),_0x5aaf5b['email']&&(_0x326f1f+=_0x587e7a(0x161)+_0x5aaf5b[_0x587e7a(0x79e)]+'\x0a'),_0x5aaf5b[_0x587e7a(0x2a2)]&&(_0x326f1f+=_0x587e7a(0x862)+_0x5aaf5b[_0x587e7a(0x2a2)]+'\x0a');let _0x486d04='',_0x1596a9=0x1;if(_0x5aaf5b['phoneNumber']){let _0x137119=_0x5aaf5b['phoneNumber'][_0x587e7a(0x4c1)]('|');for(let _0x481eda of _0x137119){let _0x77e5c0=await this['whatsappNumber']({'numbers':[_0x481eda]}),_0x1069f3=(_0x77e5c0[_0x587e7a(0x124)]>0x0?_0x77e5c0[0x0][_0x587e7a(0x400)]:this[_0x587e7a(0x49b)](_0x481eda))[_0x587e7a(0x122)](_0x587e7a(0x5aa),'');_0x486d04+=_0x587e7a(0x1ab)+_0x1596a9+'.TEL;waid='+_0x1069f3+':'+_0x481eda+_0x587e7a(0x5d8)+_0x1596a9+_0x587e7a(0x4ee),_0x1596a9++;}}return _0x326f1f+=_0x486d04+_0x587e7a(0x536),_0x326f1f;};return _0x2e5a07[_0x3dc83(0x68e)][_0x3dc83(0x124)]===0x1?_0x56e486[_0x3dc83(0x68e)]={'displayName':_0x2e5a07[_0x3dc83(0x68e)][0x0][_0x3dc83(0x4e4)],'vcard':await _0x4ff052(_0x2e5a07['contactMessage'][0x0])}:_0x56e486[_0x3dc83(0x31a)]={'displayName':_0x2e5a07[_0x3dc83(0x68e)]['length']+_0x3dc83(0x3a5),'contacts':await Promise['all'](_0x2e5a07[_0x3dc83(0x68e)][_0x3dc83(0x7b9)](async _0x34f7f6=>({'displayName':_0x34f7f6['fullName'],'vcard':await _0x4ff052(_0x34f7f6)})))},await this['sendMessageWithTyping'](_0x2e5a07[_0x3dc83(0x1ee)],{..._0x56e486},_0x2e5a07?.[_0x3dc83(0x711)]);}async[a0_0x1e84a8(0x3c1)](_0xac0880){const _0x58a7e4=a0_0x1e84a8;return await this['sendMessageWithTyping'](_0xac0880[_0x58a7e4(0x3c1)][_0x58a7e4(0x37f)][_0x58a7e4(0x6aa)],{'reactionMessage':{'key':_0xac0880[_0x58a7e4(0x3c1)][_0x58a7e4(0x37f)],'text':_0xac0880[_0x58a7e4(0x3c1)][_0x58a7e4(0x4b7)]}});}async[a0_0x1e84a8(0x5d2)](_0x43745a){const _0x1d8803=a0_0x1e84a8;let _0x5b30c0=[];for await(let _0x2fb02e of _0x43745a[_0x1d8803(0x4cf)]){let _0x2863d3=this[_0x1d8803(0x49b)](_0x2fb02e),_0x2dd66b=!0x1;try{if((0x0,w[_0x1d8803(0x5be)])(_0x2863d3)){let _0x34eb84=(await this[_0x1d8803(0x2d1)][_0x1d8803(0x7e6)][_0x1d8803(0x688)]({'where':{'_id':_0x2863d3}},this[_0x1d8803(0x1d9)][_0x1d8803(0x40b)]))[_0x1d8803(0x5a2)];_0x34eb84?(_0x2dd66b=!0x0,_0x5b30c0[_0x1d8803(0x857)](new ue(_0x34eb84['id'],_0x2dd66b,_0x34eb84?.['subject']))):(_0x34eb84=await this['findGroup']({'groupJid':_0x2863d3},'inner'),_0x5b30c0[_0x1d8803(0x857)](new ue(_0x34eb84['id'],!!_0x34eb84?.['id'],_0x34eb84?.[_0x1d8803(0x280)])));}else{if(_0x2863d3[_0x1d8803(0x371)](_0x1d8803(0x268)))_0x5b30c0[_0x1d8803(0x857)](new ue(_0x2863d3,!0x0));else{let _0x36c4bb=(await this[_0x1d8803(0x59e)][_0x1d8803(0x716)](_0x2863d3))[0x0];_0x5b30c0[_0x1d8803(0x857)](new ue(_0x36c4bb[_0x1d8803(0x400)],_0x36c4bb['exists']));}}}catch{(0x0,w[_0x1d8803(0x5be)])(_0x2863d3)||await this[_0x1d8803(0x805)](_0x2863d3),_0x5b30c0[_0x1d8803(0x857)](new ue(_0x2fb02e,!0x1));}}return _0x5b30c0;}async[a0_0x1e84a8(0x805)](_0x464f46){const _0x4d7ed7=a0_0x1e84a8;try{await this[_0x4d7ed7(0x2d1)][_0x4d7ed7(0x7e6)][_0x4d7ed7(0x688)]({'where':{'_id':_0x464f46,'imported':!0x0}},this[_0x4d7ed7(0x1d9)][_0x4d7ed7(0x40b)])&&(await this[_0x4d7ed7(0x2d1)]['chat']['deleteChat'](_0x464f46,this['instance']['wuid']),this[_0x4d7ed7(0x1a7)]['info'](_0x4d7ed7(0x507)+_0x464f46+_0x4d7ed7(0x6f3)));}catch(_0x4d74de){let _0x54bf05=_0x4d7ed7(0x283),_0x3c7acd=_0x4d74de instanceof Error?_0x4d74de[_0x4d7ed7(0x4b3)]:typeof _0x4d74de=='object'?JSON[_0x4d7ed7(0x732)](_0x4d74de):_0x4d74de,_0x12bd35=_0x54bf05+':\x20'+_0x3c7acd;this['logger'][_0x4d7ed7(0x31d)](this[_0x4d7ed7(0x3a0)]+'\x20('+this[_0x4d7ed7(0x1d9)]['wuid']+_0x4d7ed7(0x52a)+_0x12bd35);}}async[a0_0x1e84a8(0x3f9)](_0x307024){const _0xdeff87=a0_0x1e84a8;try{let _0x325b69=_0x307024['readMessages'][_0xdeff87(0x186)](_0x1b3ae0=>(0x0,w[_0xdeff87(0x5be)])(_0x1b3ae0[_0xdeff87(0x6aa)])||(0x0,w[_0xdeff87(0x149)])(_0x1b3ae0['remoteJid']))[_0xdeff87(0x7b9)](_0x1e7e2a=>({'remoteJid':_0x1e7e2a[_0xdeff87(0x6aa)],'fromMe':_0x1e7e2a['fromMe'],'id':_0x1e7e2a['id']}));await this[_0xdeff87(0x59e)][_0xdeff87(0x718)](_0x325b69);let _0xd746bd=_0x325b69[_0xdeff87(0x7b9)](_0x8d7cb4=>this['updateMessage'](_0x8d7cb4,{'status':'READ','owner':this['instance'][_0xdeff87(0x40b)]})),_0x2677c6=_0x325b69[_0xdeff87(0x7b9)](_0x30a20c=>this['repository'][_0xdeff87(0x7e6)]['updateOne']({'where':{'_id':_0x30a20c[_0xdeff87(0x6aa)]}},{'unreadcount':0x0},this['instance'][_0xdeff87(0x40b)])),[_0x4054b6,_0x1ee478]=await Promise[_0xdeff87(0x279)]([Promise['all'](_0xd746bd),Promise[_0xdeff87(0x279)](_0x2677c6)]);return _0x1ee478[_0xdeff87(0x186)](_0x4dcfe7=>_0x4dcfe7!==null)['forEach'](_0x4759d8=>{const _0x2898c7=_0xdeff87;F(this[_0x2898c7(0x3a0)],_0x2898c7(0x16d),{'chat':_0x4759d8});}),{'message':_0xdeff87(0x6bc),'read':_0xdeff87(0x67b)};}catch(_0x1ddcc6){let _0x3f09ac=_0xdeff87(0x3bc),_0x17d040=_0x1ddcc6 instanceof Error?_0x1ddcc6[_0xdeff87(0x4b3)]:typeof _0x1ddcc6==_0xdeff87(0x526)?JSON[_0xdeff87(0x732)](_0x1ddcc6):_0x1ddcc6,_0x5799cf=_0x3f09ac+':\x20'+_0x17d040;throw this[_0xdeff87(0x1a7)][_0xdeff87(0x31d)](this[_0xdeff87(0x3a0)]+'\x20('+this[_0xdeff87(0x1d9)]['wuid']+'):\x20'+_0x5799cf),new x(_0x5799cf);}}async[a0_0x1e84a8(0x43e)](_0x56cd23){const _0x3f82a8=a0_0x1e84a8;let _0x7995ea={'where':{'key':{'remoteJid':_0x56cd23}},'limit':0x1},_0x4d763f=await this[_0x3f82a8(0x605)](_0x7995ea);return _0x4d763f||(this[_0x3f82a8(0x1a7)][_0x3f82a8(0x31d)](_0x3f82a8(0x31f)+_0x56cd23),null);}async['archiveChat'](_0x241c84){const _0x347f54=a0_0x1e84a8;this[_0x347f54(0x1a7)]['verbose'](this[_0x347f54(0x3a0)]+'\x20('+this[_0x347f54(0x1d9)]['wuid']+_0x347f54(0x33e));try{let _0x7ed6bc=_0x241c84['lastMessage'],_0x3a50e9=_0x241c84['chat'];if(!_0x7ed6bc&&_0x3a50e9?_0x7ed6bc=await this[_0x347f54(0x43e)](_0x3a50e9):(_0x7ed6bc=_0x241c84['lastMessage'],_0x7ed6bc['messageTimestamp']=_0x7ed6bc?.[_0x347f54(0x781)]??Date[_0x347f54(0x3ca)](),_0x3a50e9=_0x7ed6bc?.[_0x347f54(0x37f)]?.[_0x347f54(0x6aa)]),!_0x7ed6bc||Object['keys'](_0x7ed6bc)[_0x347f54(0x124)]===0x0)throw new U(_0x347f54(0x2f2));this[_0x347f54(0x1a7)][_0x347f54(0x7ba)](this[_0x347f54(0x3a0)]+'\x20('+this[_0x347f54(0x1d9)]['wuid']+_0x347f54(0x4bf)+_0x3a50e9);try{await this[_0x347f54(0x59e)][_0x347f54(0x4d0)]({'archive':_0x241c84[_0x347f54(0x7f5)],'lastMessages':[_0x7ed6bc]},this[_0x347f54(0x49b)](_0x3a50e9));}catch(_0x4383cf){let _0x224bb6='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x3a50e9,_0x4601b3=_0x4383cf instanceof Error?_0x4383cf[_0x347f54(0x4b3)]:typeof _0x4383cf==_0x347f54(0x526)?JSON['stringify'](_0x4383cf):_0x4383cf,_0x34f3a5=_0x224bb6+':\x20'+_0x4601b3;this[_0x347f54(0x1a7)][_0x347f54(0x31d)](this[_0x347f54(0x3a0)]+'\x20('+this[_0x347f54(0x1d9)][_0x347f54(0x40b)]+_0x347f54(0x52a)+_0x34f3a5);}this[_0x347f54(0x1a7)][_0x347f54(0x7ba)](this['instanceName']+'\x20('+this[_0x347f54(0x1d9)][_0x347f54(0x40b)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3a50e9);let _0x343d1b=await this['repository']['chat'][_0x347f54(0x3fe)]({'where':{'_id':_0x7ed6bc?.['key']?.[_0x347f54(0x6aa)]}},{'archived':_0x241c84['archive']},this[_0x347f54(0x1d9)][_0x347f54(0x40b)]);return _0x343d1b?(this[_0x347f54(0x1a7)][_0x347f54(0x7ba)](this[_0x347f54(0x3a0)]+'\x20('+this[_0x347f54(0x1d9)]['wuid']+_0x347f54(0x15a)+JSON[_0x347f54(0x732)](_0x343d1b)),F(this['instanceName'],_0x347f54(0x16d),{'chat':_0x343d1b})):this['logger'][_0x347f54(0x31d)](this['instanceName']+'\x20('+this[_0x347f54(0x1d9)][_0x347f54(0x40b)]+_0x347f54(0x4cb)+_0x3a50e9),{'chatId':_0x3a50e9,'archived':_0x241c84['archive']};}catch(_0x2940fe){let _0x4134a9=_0x347f54(0x7ca),_0x520352=_0x2940fe instanceof Error?_0x2940fe[_0x347f54(0x4b3)]:typeof _0x2940fe==_0x347f54(0x526)?JSON[_0x347f54(0x732)](_0x2940fe):_0x2940fe,_0x37607d=_0x4134a9+':\x20'+_0x520352;throw this[_0x347f54(0x1a7)]['error'](this[_0x347f54(0x3a0)]+'\x20('+this[_0x347f54(0x1d9)][_0x347f54(0x40b)]+'):\x20'+_0x37607d),new x(_0x37607d);}}async[a0_0x1e84a8(0x26d)](_0x566fa0){const _0x34f3c4=a0_0x1e84a8;this[_0x34f3c4(0x1a7)][_0x34f3c4(0x7ba)](this['instanceName']+'\x20('+this[_0x34f3c4(0x1d9)][_0x34f3c4(0x40b)]+_0x34f3c4(0x17e));try{let _0xcb5c9e=await this['getLastMessage'](_0x566fa0);if(!_0xcb5c9e||Object[_0x34f3c4(0x4f1)](_0xcb5c9e)[_0x34f3c4(0x124)]===0x0)throw new U(_0x34f3c4(0x2f2));let _0x9a93e5=_0xcb5c9e[0x0];this['logger'][_0x34f3c4(0x7ba)](this['instanceName']+'\x20('+this[_0x34f3c4(0x1d9)]['wuid']+_0x34f3c4(0x125)+_0x566fa0);try{await this['client'][_0x34f3c4(0x4d0)]({'delete':!0x0,'lastMessages':[{'key':_0x9a93e5[_0x34f3c4(0x37f)],'messageTimestamp':_0x9a93e5[_0x34f3c4(0x781)]}]},this[_0x34f3c4(0x49b)](_0x566fa0));}catch(_0xac3ffb){this[_0x34f3c4(0x1a7)][_0x34f3c4(0x31d)](_0x34f3c4(0x146)+_0x566fa0+':\x20'+_0xac3ffb[_0x34f3c4(0x71c)]());}this[_0x34f3c4(0x1a7)][_0x34f3c4(0x7ba)](this[_0x34f3c4(0x3a0)]+'\x20('+this[_0x34f3c4(0x1d9)][_0x34f3c4(0x40b)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x566fa0);return;}catch(_0x18651f){throw this[_0x34f3c4(0x1a7)][_0x34f3c4(0x31d)](this['instanceName']+'\x20('+this['instance'][_0x34f3c4(0x40b)]+_0x34f3c4(0x840)+_0x18651f['toString']()),new x({'archived':!0x1,'message':[_0x34f3c4(0x424),_0x18651f[_0x34f3c4(0x71c)]()]});}}async[a0_0x1e84a8(0x426)](_0x28ec89){const _0x20a04f=a0_0x1e84a8;try{let _0x2698c3=await this['client'][_0x20a04f(0x1b8)](_0x28ec89[_0x20a04f(0x6aa)],{'delete':_0x28ec89});try{let _0x19fc6a=await this['updateMessage'](_0x28ec89,{'status':_0x20a04f(0x1b4),'owner':this[_0x20a04f(0x1d9)][_0x20a04f(0x40b)]});this[_0x20a04f(0x1a7)]['verbose'](this[_0x20a04f(0x3a0)]+'\x20('+this[_0x20a04f(0x1d9)]['wuid']+_0x20a04f(0x69b)+_0x19fc6a);}catch(_0x4639ce){this[_0x20a04f(0x1a7)]['error'](_0x20a04f(0x22f)+_0x4639ce);}return _0x2698c3;}catch(_0x26f135){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x26f135?.[_0x20a04f(0x71c)]());}}async[a0_0x1e84a8(0x26e)](_0x7c23b3){const _0x5bca73=a0_0x1e84a8;try{let _0x356e1f=_0x7c23b3?.[_0x5bca73(0x4b3)]?_0x7c23b3:await this['getMessage'](_0x7c23b3[_0x5bca73(0x37f)],!0x0);for(let _0x5b7b22 of Na)_0x356e1f['message'][_0x5b7b22]&&(_0x356e1f[_0x5bca73(0x4b3)]=_0x356e1f[_0x5bca73(0x4b3)][_0x5b7b22]['message']);let _0x578b9b,_0x37b564;for(let _0x4a9b53 of va)if(_0x578b9b=_0x356e1f[_0x5bca73(0x4b3)][_0x4a9b53],_0x578b9b){_0x37b564=_0x4a9b53;break;}if(!_0x578b9b)throw _0x5bca73(0x664);typeof _0x578b9b[_0x5bca73(0x617)]==_0x5bca73(0x526)&&(_0x356e1f['message']=JSON[_0x5bca73(0x2c0)](JSON['stringify'](_0x356e1f['message'])));let _0x406b53=await(0x0,w['downloadMediaMessage'])({'key':_0x356e1f?.['key'],'message':_0x356e1f?.[_0x5bca73(0x4b3)]},_0x5bca73(0x747),{},{'logger':(0x0,Ft['default'])({'level':_0x5bca73(0x3d2)}),'reuploadRequest':this[_0x5bca73(0x59e)][_0x5bca73(0x5a9)]});if(!(_0x406b53 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x15e3b2=this['configService']['get'](_0x5bca73(0x257)),_0x1355a8,_0x454681;if(_0x578b9b[_0x5bca73(0x5a4)])_0x1355a8=_0x578b9b[_0x5bca73(0x5a4)];else{let _0x343356=_0x578b9b['mimetype']?.['match'](/\/(\w+)/),_0x13ee0f=_0x343356?_0x343356[0x1]:null;if(!_0x13ee0f)throw new Error(_0x5bca73(0x33d));_0x1355a8=(0x0,Y['v4'])()+'.'+_0x13ee0f;}_0x37b564===_0x5bca73(0x2aa)?_0x454681=_0x5bca73(0x6af)+await this['convertaudioMP3'](_0x406b53[_0x5bca73(0x71c)]('base64')):(await this[_0x5bca73(0x5c8)](_0x406b53,_0x1355a8),_0x454681=_0x5bca73(0x6af)+_0x1355a8);let _0x1142fa=this[_0x5bca73(0x26f)][_0x5bca73(0x13e)](_0x5bca73(0x24e))['URL'];if(!_0x1142fa){let _0x5582c5=this[_0x5bca73(0x26f)][_0x5bca73(0x13e)]('SSL_CONF');_0x1142fa='https://'+(_0x5582c5&&_0x5582c5[_0x5bca73(0x662)][_0x5bca73(0x4c1)]('/')[0x4]);}_0x454681=''+_0x1142fa+_0x454681;let _0x56e9fa=0xc*0x3c*0x3c*0x3e8,_0x1b775b={'where':{'_id':_0x356e1f[_0x5bca73(0x37f)]['id']}},_0x1162a6={'message_normalized.fileUrl':_0x454681,'message_normalized.expires_fileUrl':Date[_0x5bca73(0x3ca)]()+_0x56e9fa};try{let _0x1a8e1e=await this[_0x5bca73(0x2d1)][_0x5bca73(0x4b3)][_0x5bca73(0x32a)](_0x1b775b,_0x1162a6,this[_0x5bca73(0x1d9)][_0x5bca73(0x40b)]);_0x1a8e1e&&F(this[_0x5bca73(0x3a0)],_0x5bca73(0x435),{'message':_0x1a8e1e});}catch(_0x222eb8){let _0x14bd46='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x5d6b60=_0x222eb8 instanceof Error?_0x222eb8['message']:typeof _0x222eb8==_0x5bca73(0x526)?JSON['stringify'](_0x222eb8):_0x222eb8,_0x3ab551=_0x14bd46+':\x20'+_0x5d6b60;this[_0x5bca73(0x1a7)][_0x5bca73(0x31d)](this['instanceName']+'\x20('+this['instance'][_0x5bca73(0x40b)]+_0x5bca73(0x52a)+_0x3ab551);}return{'mediaType':_0x37b564,'fileName':_0x578b9b['fileName'],'caption':_0x578b9b[_0x5bca73(0x1cc)],'size':{'fileLength':_0x578b9b['fileLength'],'height':_0x578b9b[_0x5bca73(0x807)],'width':_0x578b9b[_0x5bca73(0x203)]},'mimetype':_0x578b9b[_0x5bca73(0x314)],'base64':_0x406b53[_0x5bca73(0x71c)](_0x5bca73(0x6d5)),'fileUrl':_0x454681,'expires_fileUrl':Date[_0x5bca73(0x3ca)]()+_0x56e9fa};}catch(_0x3819ca){let _0x369331=_0x5bca73(0x82c),_0x36bb30=_0x3819ca instanceof Error?_0x3819ca[_0x5bca73(0x4b3)]:typeof _0x3819ca==_0x5bca73(0x526)?JSON[_0x5bca73(0x732)](_0x3819ca):_0x3819ca,_0xbe2eb=_0x369331+':\x20'+_0x36bb30;throw this['logger'][_0x5bca73(0x31d)](this['instanceName']+'\x20('+this[_0x5bca73(0x1d9)][_0x5bca73(0x40b)]+_0x5bca73(0x52a)+_0xbe2eb),new m(_0xbe2eb);}}async[a0_0x1e84a8(0x5c8)](_0x48bf58,_0x5e0556){const _0x473fe1=a0_0x1e84a8;let _0x58143c=j[_0x473fe1(0x50f)][_0x473fe1(0x1db)](__dirname,_0x473fe1(0x77d));k[_0x473fe1(0x278)](_0x58143c)||k[_0x473fe1(0x691)](_0x58143c,{'recursive':!0x0});let _0x2d955b=j[_0x473fe1(0x50f)][_0x473fe1(0x1db)](_0x58143c,_0x5e0556);return new Promise((_0x248f9a,_0x6e283f)=>{const _0x437a1d=_0x473fe1;k[_0x437a1d(0x7ce)](_0x2d955b,_0x48bf58,_0x319ee7=>{const _0x4764e3=_0x437a1d;_0x319ee7?(this[_0x4764e3(0x1a7)]['error'](_0x4764e3(0x66f)+(_0x319ee7 instanceof Error?_0x319ee7[_0x4764e3(0x4b3)]:JSON[_0x4764e3(0x732)](_0x319ee7,null,0x2))),_0x6e283f(_0x319ee7)):(this[_0x4764e3(0x1a7)][_0x4764e3(0x1bb)]('File\x20written\x20to\x20path:\x20'+_0x2d955b),_0x248f9a(_0x2d955b));});});}async[a0_0x1e84a8(0x77b)](_0x19f933){const _0x8c0e7b=a0_0x1e84a8;return await this[_0x8c0e7b(0x2d1)][_0x8c0e7b(0x12b)][_0x8c0e7b(0x6a6)](_0x19f933,this[_0x8c0e7b(0x1d9)]['wuid']);}async['fetchLabels'](){const _0x266ef1=a0_0x1e84a8;return await this['repository']['label']['find']({'where':{}},this[_0x266ef1(0x1d9)][_0x266ef1(0x40b)]);}async['fetchMessages'](_0x13c0c0){const _0x245ef0=a0_0x1e84a8;return await this['repository']['message'][_0x245ef0(0x6a6)](_0x13c0c0,this[_0x245ef0(0x1d9)][_0x245ef0(0x40b)]);}async[a0_0x1e84a8(0x520)](){const _0x314d67=a0_0x1e84a8;return this[_0x314d67(0x2d1)][_0x314d67(0x7e6)]['removeUnusedChatFields'](this[_0x314d67(0x1d9)][_0x314d67(0x40b)]),this[_0x314d67(0x2d1)]['chat']['updateMissingEtiquetas'](this['instance'][_0x314d67(0x40b)]),this[_0x314d67(0x2d1)][_0x314d67(0x7e6)][_0x314d67(0x2ca)](this[_0x314d67(0x1d9)][_0x314d67(0x40b)]),this['repository']['chat'][_0x314d67(0x72a)](this['instance'][_0x314d67(0x40b)]),await this[_0x314d67(0x2d1)]['chat'][_0x314d67(0x6a6)]({'where':{}},this['instance']['wuid']);}async[a0_0x1e84a8(0x73b)](_0x3577a9){const _0xb0f62c=a0_0x1e84a8;try{if(!Array[_0xb0f62c(0x663)](_0x3577a9)||_0x3577a9[_0xb0f62c(0x124)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x4bdbeb=[],_0x11959e=[];for(let _0x3a47c5 of _0x3577a9){if(_0x3a47c5[_0xb0f62c(0x3c4)])_0x3a47c5[_0xb0f62c(0x3c4)]=this[_0xb0f62c(0x49b)](_0x3a47c5[_0xb0f62c(0x3c4)]);else continue;await this[_0xb0f62c(0x2d1)]['chat'][_0xb0f62c(0x688)]({'where':{'_id':_0x3a47c5[_0xb0f62c(0x3c4)]}},this[_0xb0f62c(0x1d9)][_0xb0f62c(0x40b)])?_0x11959e[_0xb0f62c(0x857)]({'_id':_0x3a47c5[_0xb0f62c(0x3c4)],'leadInfo':_0x3a47c5['leadInfo'],'owner':this[_0xb0f62c(0x1d9)][_0xb0f62c(0x40b)]}):_0x4bdbeb['push']({'_id':_0x3a47c5[_0xb0f62c(0x3c4)],'owner':this[_0xb0f62c(0x1d9)]['wuid'],'leadInfo':_0x3a47c5['leadInfo'],'imported':!0x0});}return _0x11959e[_0xb0f62c(0x124)]>0x0&&await this[_0xb0f62c(0x2d1)]['chat'][_0xb0f62c(0x74a)](_0x11959e[_0xb0f62c(0x7b9)](_0xe65d54=>({'query':{'where':{'_id':_0xe65d54[_0xb0f62c(0x3c4)],'owner':this[_0xb0f62c(0x1d9)][_0xb0f62c(0x40b)]}},'update':_0xe65d54}))),_0x4bdbeb[_0xb0f62c(0x124)]>0x0&&await this[_0xb0f62c(0x2d1)][_0xb0f62c(0x7e6)]['insertMany'](_0x4bdbeb,this['instance'][_0xb0f62c(0x40b)]),{'updated':_0x11959e[_0xb0f62c(0x124)],'inserted':_0x4bdbeb['length']};}catch(_0x3d6488){let _0x1fe5d9=_0xb0f62c(0x440),_0x577cad=_0x3d6488 instanceof Error?_0x3d6488[_0xb0f62c(0x4b3)]:typeof _0x3d6488==_0xb0f62c(0x526)?JSON[_0xb0f62c(0x732)](_0x3d6488):_0x3d6488,_0x21a8dc=_0x1fe5d9+':\x20'+_0x577cad;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xb0f62c(0x1d9)][_0xb0f62c(0x40b)]+_0xb0f62c(0x52a)+_0x21a8dc),new m(_0x21a8dc);}}async[a0_0x1e84a8(0x550)](_0x1a7c4a){const _0x4b6742=a0_0x1e84a8;try{if(!Array['isArray'](_0x1a7c4a)||_0x1a7c4a[_0x4b6742(0x124)]===0x0)throw new Error(_0x4b6742(0x113));let _0x299a75=0x64,_0x2cb092=0x0;for(let _0x2b4c06=0x0;_0x2b4c06<_0x1a7c4a[_0x4b6742(0x124)];_0x2b4c06+=_0x299a75){let _0x1fd854=_0x1a7c4a[_0x4b6742(0x603)](_0x2b4c06,_0x2b4c06+_0x299a75),{updated:_0x5edf6e}=await this['importChatsBatch'](_0x1fd854);_0x2cb092+=_0x5edf6e;}return{'updated':_0x2cb092};}catch(_0x10ece1){let _0x2e9c1d=_0x4b6742(0x440),_0xa7008f=_0x10ece1 instanceof Error?_0x10ece1['message']:typeof _0x10ece1==_0x4b6742(0x526)?JSON[_0x4b6742(0x732)](_0x10ece1):_0x10ece1,_0x400d0d=_0x2e9c1d+':\x20'+_0xa7008f;throw this[_0x4b6742(0x1a7)][_0x4b6742(0x31d)](this[_0x4b6742(0x3a0)]+'\x20('+this['instance'][_0x4b6742(0x40b)]+'):\x20'+_0x400d0d),new m(_0x400d0d);}}async[a0_0x1e84a8(0x787)](_0x3647d2){const _0x199702=a0_0x1e84a8;try{let _0x8bc34c=await this[_0x199702(0x2d1)][_0x199702(0x44f)][_0x199702(0x6a6)]({'where':{}},this[_0x199702(0x1d9)]['wuid']),_0x10646e=new Set(_0x8bc34c[_0x199702(0x7b9)](_0x3fdf56=>_0x3fdf56['_id'])),_0x2dc47e=[],_0x3ae5a2=[];for(let _0x251281 of _0x3647d2){if(!_0x251281[_0x199702(0x3c4)])continue;_0x251281['_id']=this[_0x199702(0x49b)](_0x251281['_id']);let _0x1a605e=await this[_0x199702(0x2d1)][_0x199702(0x7e6)]['findOne']({'where':{'_id':_0x251281['_id']}},this['instance'][_0x199702(0x40b)]),_0x5357ed={};if(Object[_0x199702(0x40e)](_0x251281[_0x199702(0x2ab)])[_0x199702(0x154)](([_0x4af120,_0x10f43c])=>{const _0x4682c5=_0x199702;_0x5357ed[_0x4682c5(0x402)+_0x4af120]=_0x10f43c;}),_0x1a605e&&!_0x1a605e[_0x199702(0x121)]){let _0x51bf07=(_0x251281[_0x199702(0x2ab)][_0x199702(0x4e1)]||[])['filter'](_0x1dbe02=>_0x10646e[_0x199702(0x252)](_0x1dbe02)),_0x3b4fcf=new Set(_0x1a605e[_0x199702(0x2ab)][_0x199702(0x4e1)]||[]),_0x36f858=_0x51bf07['filter'](_0xca9795=>!_0x3b4fcf[_0x199702(0x252)](_0xca9795)),_0x315d9b=[..._0x3b4fcf]['filter'](_0x496d80=>!_0x51bf07[_0x199702(0x371)](_0x496d80));_0x3ae5a2[_0x199702(0x857)](..._0x36f858['map'](_0x24a326=>this[_0x199702(0x68f)](_0x24a326,_0x251281[_0x199702(0x3c4)]))),_0x3ae5a2['push'](..._0x315d9b[_0x199702(0x7b9)](_0x5eb973=>this['RemoveChatLabel'](_0x5eb973,_0x251281[_0x199702(0x3c4)]))),_0x251281[_0x199702(0x2ab)]['etiquetas']=_0x51bf07,_0x2dc47e[_0x199702(0x857)]({'query':{'where':{'_id':_0x251281['_id'],'owner':this[_0x199702(0x1d9)]['wuid']}},'update':_0x5357ed});}else _0x5357ed[_0x199702(0x121)]=!0x0,_0x2dc47e['push']({'query':{'where':{'_id':_0x251281['_id'],'owner':this[_0x199702(0x1d9)][_0x199702(0x40b)]}},'update':_0x5357ed});}let _0x285463=await this[_0x199702(0x2d1)]['chat']['updateMany'](_0x2dc47e);return await Promise['all'](_0x3ae5a2),{'updated':_0x285463};}catch(_0x4f53fb){let _0x3cb0fc=_0x199702(0x440),_0x4674ee=_0x4f53fb instanceof Error?_0x4f53fb[_0x199702(0x4b3)]:typeof _0x4f53fb=='object'?JSON[_0x199702(0x732)](_0x4f53fb):_0x4f53fb,_0x3ab2c1=_0x3cb0fc+':\x20'+_0x4674ee;throw this[_0x199702(0x1a7)][_0x199702(0x31d)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x199702(0x52a)+_0x3ab2c1),new m(_0x3ab2c1);}}async[a0_0x1e84a8(0x33f)](){const _0x53f3b1=a0_0x1e84a8;return await this[_0x53f3b1(0x59e)][_0x53f3b1(0x33f)]();}async['updatePrivacySettings'](_0x31d134){const _0x1ed085=a0_0x1e84a8;try{return await this[_0x1ed085(0x59e)][_0x1ed085(0x166)](_0x31d134[_0x1ed085(0x163)]['readreceipts']),await this[_0x1ed085(0x59e)][_0x1ed085(0x201)](_0x31d134[_0x1ed085(0x163)]['profile']),await this['client']['updateStatusPrivacy'](_0x31d134[_0x1ed085(0x163)]['status']),await this['client'][_0x1ed085(0x47f)](_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x693)]),await this[_0x1ed085(0x59e)][_0x1ed085(0x538)](_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x7a7)]),await this[_0x1ed085(0x59e)][_0x1ed085(0x20b)](_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x3cb)]),this[_0x1ed085(0x59e)]?.['ws']?.[_0x1ed085(0x6b0)](),{'update':_0x1ed085(0x67b),'data':{'readreceipts':_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x6d9)],'profile':_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x34c)],'status':_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x612)],'online':_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x693)],'last':_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x7a7)],'groupadd':_0x31d134[_0x1ed085(0x163)][_0x1ed085(0x3cb)]}};}catch(_0x32fe1b){let _0x364971=_0x1ed085(0x64f),_0x512bd5=_0x32fe1b instanceof Error?_0x32fe1b[_0x1ed085(0x4b3)]:typeof _0x32fe1b=='object'?JSON[_0x1ed085(0x732)](_0x32fe1b):_0x32fe1b,_0x34f937=_0x364971+':\x20'+_0x512bd5;throw this[_0x1ed085(0x1a7)]['error'](this[_0x1ed085(0x3a0)]+'\x20('+this[_0x1ed085(0x1d9)][_0x1ed085(0x40b)]+_0x1ed085(0x52a)+_0x34f937),new m(_0x34f937);}}async[a0_0x1e84a8(0x76d)](_0x1fe0fe){const _0x14e22c=a0_0x1e84a8;let _0x8cd75d=(_0x1fe0fe?this[_0x14e22c(0x49b)](_0x1fe0fe):this[_0x14e22c(0x59e)]?.[_0x14e22c(0x24c)]?.['id'])[_0x14e22c(0x122)](/:\d{1,2}@/g,'@');this[_0x14e22c(0x1a7)][_0x14e22c(0x7ba)](this[_0x14e22c(0x3a0)]+'\x20('+this[_0x14e22c(0x1d9)]['wuid']+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x8cd75d);let _0x5f45f4=await this[_0x14e22c(0x2d1)]['contact'][_0x14e22c(0x688)]({'where':{'_id':_0x8cd75d}},this[_0x14e22c(0x1d9)]['wuid']),_0x24e8f5=_0x5f45f4?_0x5f45f4['pushName']:null;try{let _0x5aee2d=(await this[_0x14e22c(0x5d2)]({'numbers':[_0x8cd75d]}))?.[_0x14e22c(0x56f)](),_0xb5862d=(await this[_0x14e22c(0x853)](_0x8cd75d,null,!0x1))[_0x14e22c(0x2a8)][_0x14e22c(0x5dd)],_0x32fc44=await this[_0x14e22c(0x2ce)](_0x5aee2d?.[_0x14e22c(0x400)]),_0x165d0f=await this[_0x14e22c(0x7a6)](_0x5aee2d?.[_0x14e22c(0x400)]),_0x3e07dd=(await this[_0x14e22c(0x853)](_0x8cd75d,null,!0x1))[_0x14e22c(0x2a8)]['name'],_0x42ab69=await this[_0x14e22c(0x2d1)]['chat'][_0x14e22c(0x688)]({'where':{'_id':_0x8cd75d}},this[_0x14e22c(0x1d9)][_0x14e22c(0x40b)]),_0x488602={'imagechat':_0xb5862d,'contactname':_0x24e8f5||null,'pushName':_0x3e07dd,'status':_0x32fc44?.[_0x14e22c(0x612)],'isBusiness':_0x165d0f['isBusiness'],'email':_0x165d0f?.[_0x14e22c(0x79e)],'description':_0x165d0f?.[_0x14e22c(0x4fc)],'website':_0x165d0f?.[_0x14e22c(0x7bb)]?.['shift'](),'lastcache':Date[_0x14e22c(0x3ca)](),'imported':!_0x42ab69},_0x3ef662=await this[_0x14e22c(0x2d1)][_0x14e22c(0x7e6)][_0x14e22c(0x3fe)]({'where':{'_id':_0x8cd75d}},_0x488602,this[_0x14e22c(0x1d9)][_0x14e22c(0x40b)]),_0x41783d={'owner':this[_0x14e22c(0x1d9)][_0x14e22c(0x40b)],'_id':_0x8cd75d,'profilePictureUrl':_0xb5862d,'status':_0x32fc44?.[_0x14e22c(0x612)]};return this[_0x14e22c(0x2d1)][_0x14e22c(0x12b)][_0x14e22c(0x32a)]([_0x41783d],this[_0x14e22c(0x1d9)]['wuid']),_0x3ef662&&F(this['instanceName'],_0x14e22c(0x16d),{'chat':_0x3ef662}),{'wuid':_0x5aee2d?.[_0x14e22c(0x400)]||_0x8cd75d,'name':_0x5aee2d?.['name'],'pushName':_0x3e07dd,'numberExists':_0x5aee2d?.[_0x14e22c(0x70e)],'picture':_0xb5862d,'status':_0x32fc44?.['status'],'isBusiness':_0x165d0f[_0x14e22c(0x48f)],'email':_0x165d0f?.[_0x14e22c(0x79e)],'description':_0x165d0f?.[_0x14e22c(0x4fc)],'website':_0x165d0f?.[_0x14e22c(0x7bb)]?.['shift']()};}catch(_0x1e28b0){return this[_0x14e22c(0x1a7)][_0x14e22c(0x31d)](_0x14e22c(0x411)+(_0x1e28b0 instanceof Error?_0x1e28b0[_0x14e22c(0x4b3)]:JSON[_0x14e22c(0x732)](_0x1e28b0,null,0x2))),{};}}async[a0_0x1e84a8(0x7a6)](_0x335e30){const _0x434a07=a0_0x1e84a8;this['logger'][_0x434a07(0x7ba)](this[_0x434a07(0x3a0)]+'\x20('+this['instance'][_0x434a07(0x40b)]+_0x434a07(0x629));try{let _0xf8d2de=_0x335e30?this[_0x434a07(0x49b)](_0x335e30):this['instance'][_0x434a07(0x40b)],_0x73cdfa=await this['client']['getBusinessProfile'](_0xf8d2de);return this[_0x434a07(0x1a7)]['verbose'](this[_0x434a07(0x3a0)]+'\x20('+this['instance']['wuid']+'):Trying\x20to\x20get\x20business\x20profile'),_0x73cdfa?(this[_0x434a07(0x1a7)][_0x434a07(0x7ba)](this[_0x434a07(0x3a0)]+'\x20('+this[_0x434a07(0x1d9)][_0x434a07(0x40b)]+_0x434a07(0x540)),{'isBusiness':!0x0,..._0x73cdfa}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x434a07(0x5d2)]({'numbers':[_0xf8d2de]}))?.['shift']()};}catch(_0x31904b){let _0x5cf9dc=_0x434a07(0x4b9),_0x3ba9b5=_0x31904b instanceof Error?_0x31904b[_0x434a07(0x4b3)]:typeof _0x31904b==_0x434a07(0x526)?JSON[_0x434a07(0x732)](_0x31904b):_0x31904b,_0x2be1cd=_0x5cf9dc+':\x20'+_0x3ba9b5;throw this[_0x434a07(0x1a7)]['error'](this[_0x434a07(0x3a0)]+'\x20('+this[_0x434a07(0x1d9)][_0x434a07(0x40b)]+'):\x20'+_0x2be1cd),new x(_0x2be1cd);}}async[a0_0x1e84a8(0x2ce)](_0x5aebde){const _0x11b266=a0_0x1e84a8;let _0xf0bf37=this['createJid'](_0x5aebde);try{return{'wuid':_0xf0bf37,'status':(await this[_0x11b266(0x59e)][_0x11b266(0x2a1)](_0xf0bf37))[0x0]?.[_0x11b266(0x612)]};}catch{return{'wuid':_0xf0bf37,'status':null};}}async[a0_0x1e84a8(0x69a)](_0x494f47){const _0xfcd5b7=a0_0x1e84a8;try{return await this['client'][_0xfcd5b7(0x69a)](_0x494f47),{'update':'success'};}catch(_0x68441){let _0x42a9c7=_0xfcd5b7(0x81d),_0x38ab50=_0x68441 instanceof Error?_0x68441[_0xfcd5b7(0x4b3)]:typeof _0x68441==_0xfcd5b7(0x526)?JSON[_0xfcd5b7(0x732)](_0x68441):_0x68441,_0x1e97c9=_0x42a9c7+':\x20'+_0x38ab50;throw this[_0xfcd5b7(0x1a7)]['error'](this[_0xfcd5b7(0x3a0)]+'\x20('+this[_0xfcd5b7(0x1d9)][_0xfcd5b7(0x40b)]+_0xfcd5b7(0x52a)+_0x1e97c9),new x(_0x1e97c9);}}async[a0_0x1e84a8(0x7a8)](_0x41f59f){const _0x74d1d5=a0_0x1e84a8;try{return await this[_0x74d1d5(0x59e)][_0x74d1d5(0x7a8)](_0x41f59f),{'update':_0x74d1d5(0x67b)};}catch(_0x14ce9c){let _0x2f2e83='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0xb1f29d=_0x14ce9c instanceof Error?_0x14ce9c[_0x74d1d5(0x4b3)]:typeof _0x14ce9c=='object'?JSON[_0x74d1d5(0x732)](_0x14ce9c):_0x14ce9c,_0x43cf1d=_0x2f2e83+':\x20'+_0xb1f29d;throw this['logger'][_0x74d1d5(0x31d)](this[_0x74d1d5(0x3a0)]+'\x20('+this['instance'][_0x74d1d5(0x40b)]+_0x74d1d5(0x52a)+_0x43cf1d),new x(_0x43cf1d);}}async[a0_0x1e84a8(0x223)](_0x5e0631){const _0x55e43a=a0_0x1e84a8;try{let _0x5f5208;if((0x0,J['isURL'])(_0x5e0631)){let _0x1e9cc1=new Date()[_0x55e43a(0x4d1)](),_0x928b48=_0x5e0631+_0x55e43a(0x3d6)+_0x1e9cc1;_0x5f5208=(await Q[_0x55e43a(0x50f)]['get'](_0x928b48,{'responseType':_0x55e43a(0x701)}))[_0x55e43a(0x56a)];}else{if((0x0,J['isBase64'])(_0x5e0631))_0x5f5208=Buffer['from'](_0x5e0631,_0x55e43a(0x6d5));else throw new m(_0x55e43a(0x246));}return await this[_0x55e43a(0x59e)][_0x55e43a(0x223)](this[_0x55e43a(0x1d9)][_0x55e43a(0x40b)],_0x5f5208),{'update':_0x55e43a(0x67b)};}catch(_0x245513){let _0x2d506e=_0x55e43a(0x17d),_0x38675c=_0x245513 instanceof Error?_0x245513[_0x55e43a(0x4b3)]:typeof _0x245513==_0x55e43a(0x526)?JSON[_0x55e43a(0x732)](_0x245513):_0x245513,_0x3f3332=_0x2d506e+':\x20'+_0x38675c;throw this[_0x55e43a(0x1a7)][_0x55e43a(0x31d)](this[_0x55e43a(0x3a0)]+'\x20('+this[_0x55e43a(0x1d9)][_0x55e43a(0x40b)]+_0x55e43a(0x52a)+_0x3f3332),new x(_0x3f3332);}}async[a0_0x1e84a8(0x7d1)](){const _0x5e36db=a0_0x1e84a8;try{return await this['client'][_0x5e36db(0x7d1)](this[_0x5e36db(0x1d9)]['wuid']),{'update':_0x5e36db(0x67b)};}catch(_0x5e95c8){let _0x23df1f=_0x5e36db(0x126),_0x5ddae7=_0x5e95c8 instanceof Error?_0x5e95c8[_0x5e36db(0x4b3)]:typeof _0x5e95c8==_0x5e36db(0x526)?JSON[_0x5e36db(0x732)](_0x5e95c8):_0x5e95c8,_0x1fc67f=_0x23df1f+':\x20'+_0x5ddae7;throw this[_0x5e36db(0x1a7)][_0x5e36db(0x31d)](this['instanceName']+'\x20('+this[_0x5e36db(0x1d9)][_0x5e36db(0x40b)]+_0x5e36db(0x52a)+_0x1fc67f),new x(_0x1fc67f);}}async[a0_0x1e84a8(0x12a)](_0x810780){const _0x4cc8db=a0_0x1e84a8;try{let _0x66f380=(await this[_0x4cc8db(0x5d2)]({'numbers':_0x810780[_0x4cc8db(0x813)]}))['filter'](_0xb9ffdb=>_0xb9ffdb[_0x4cc8db(0x70e)])['map'](_0x29655e=>_0x29655e['jid']),{id:_0x1567e7}=await this[_0x4cc8db(0x59e)][_0x4cc8db(0x792)](_0x810780[_0x4cc8db(0x280)],_0x66f380);_0x810780?.[_0x4cc8db(0x4fc)]&&await this[_0x4cc8db(0x59e)]['groupUpdateDescription'](_0x1567e7,_0x810780['description']);let _0x57f546=await this['client'][_0x4cc8db(0x32b)](_0x1567e7);return _0x57f546[_0x4cc8db(0x6df)]=[],await this[_0x4cc8db(0x2ff)](_0x57f546),{'metadata':_0x57f546};}catch(_0x12806d){let _0x40d2ac=_0x4cc8db(0x4d3),_0x12de20=_0x12806d instanceof Error?_0x12806d[_0x4cc8db(0x4b3)]:typeof _0x12806d=='object'?JSON[_0x4cc8db(0x732)](_0x12806d):_0x12806d,_0x45d1c5=_0x40d2ac+':\x20'+_0x12de20;throw this['logger'][_0x4cc8db(0x31d)](this[_0x4cc8db(0x3a0)]+'\x20('+this['instance'][_0x4cc8db(0x40b)]+'):\x20'+_0x45d1c5),new x(_0x45d1c5);}}async[a0_0x1e84a8(0x473)](_0x184c6a){const _0x1d7ef4=a0_0x1e84a8;try{if(_0x184c6a[_0x1d7ef4(0x25d)]===!0x0&&await this[_0x1d7ef4(0x59e)][_0x1d7ef4(0x21a)](_0x184c6a[_0x1d7ef4(0x6cd)],'locked'),_0x184c6a[_0x1d7ef4(0x25d)]===!0x1&&await this['client'][_0x1d7ef4(0x21a)](_0x184c6a[_0x1d7ef4(0x6cd)],_0x1d7ef4(0x7f9)),_0x184c6a[_0x1d7ef4(0x870)]===!0x0&&await this['client'][_0x1d7ef4(0x21a)](_0x184c6a[_0x1d7ef4(0x6cd)],_0x1d7ef4(0x2ea)),_0x184c6a['announce']===!0x1&&await this[_0x1d7ef4(0x59e)]['groupSettingUpdate'](_0x184c6a['groupJid'],_0x1d7ef4(0x3c7)),_0x184c6a['memberAddMode']===!0x0&&await this['client'][_0x1d7ef4(0x7bf)](_0x184c6a['groupJid'],'all_member_add'),_0x184c6a[_0x1d7ef4(0x244)]===!0x1&&await this[_0x1d7ef4(0x59e)][_0x1d7ef4(0x7bf)](_0x184c6a['groupJid'],_0x1d7ef4(0x41f)),_0x184c6a['joinApprovalMode']===!0x0&&await this['client'][_0x1d7ef4(0x290)](_0x184c6a[_0x1d7ef4(0x6cd)],'on'),_0x184c6a[_0x1d7ef4(0x6fb)]===!0x1&&await this['client'][_0x1d7ef4(0x290)](_0x184c6a[_0x1d7ef4(0x6cd)],_0x1d7ef4(0x2a4)),typeof _0x184c6a[_0x1d7ef4(0x830)]<'u'&&_0x184c6a[_0x1d7ef4(0x830)]!==null&&await this[_0x1d7ef4(0x59e)][_0x1d7ef4(0x3bb)](_0x184c6a[_0x1d7ef4(0x6cd)],_0x184c6a['expiration']),_0x184c6a[_0x1d7ef4(0x2c3)]&&await this[_0x1d7ef4(0x59e)][_0x1d7ef4(0x64d)](_0x184c6a[_0x1d7ef4(0x6cd)],_0x184c6a[_0x1d7ef4(0x2c3)]),_0x184c6a[_0x1d7ef4(0x4fc)]&&await this['client'][_0x1d7ef4(0x712)](_0x184c6a[_0x1d7ef4(0x6cd)],_0x184c6a[_0x1d7ef4(0x4fc)]),_0x184c6a['image']){let _0x2b355a;if((0x0,J[_0x1d7ef4(0x4cc)])(_0x184c6a[_0x1d7ef4(0x76b)])){let _0x3b275a=new Date()[_0x1d7ef4(0x4d1)](),_0x4a57ef=_0x184c6a[_0x1d7ef4(0x76b)]+'?timestamp='+_0x3b275a;_0x2b355a=(await Q[_0x1d7ef4(0x50f)][_0x1d7ef4(0x13e)](_0x4a57ef,{'responseType':_0x1d7ef4(0x701)}))[_0x1d7ef4(0x56a)];}else{if((0x0,J[_0x1d7ef4(0x210)])(_0x184c6a[_0x1d7ef4(0x76b)]))_0x2b355a=Buffer[_0x1d7ef4(0x83e)](_0x184c6a[_0x1d7ef4(0x76b)],_0x1d7ef4(0x6d5));else throw new m(_0x1d7ef4(0x246));}await this['client'][_0x1d7ef4(0x223)](_0x184c6a[_0x1d7ef4(0x6cd)],_0x2b355a);}return await this[_0x1d7ef4(0x7a4)]({'groupJid':_0x184c6a[_0x1d7ef4(0x6cd)]});}catch(_0x4b0e6f){let _0xffb050='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x54de14=_0x4b0e6f instanceof Error?_0x4b0e6f[_0x1d7ef4(0x4b3)]:typeof _0x4b0e6f==_0x1d7ef4(0x526)?JSON[_0x1d7ef4(0x732)](_0x4b0e6f):_0x4b0e6f,_0x29a6ae=_0xffb050+':\x20'+_0x54de14;throw this[_0x1d7ef4(0x1a7)][_0x1d7ef4(0x31d)](this['instanceName']+'\x20('+this[_0x1d7ef4(0x1d9)][_0x1d7ef4(0x40b)]+'):\x20'+_0x29a6ae),new x(_0x29a6ae);}}async[a0_0x1e84a8(0x2c5)](_0x2f0cb6){const _0x18616c=a0_0x1e84a8;try{let _0x2c0935=_0x2f0cb6[_0x18616c(0x813)][_0x18616c(0x7b9)](_0xd347f8=>this[_0x18616c(0x49b)](_0xd347f8));if(_0x2f0cb6['action']==='approve'||_0x2f0cb6[_0x18616c(0x31c)]==='reject')await this[_0x18616c(0x59e)][_0x18616c(0x111)](_0x2f0cb6['groupJid'],_0x2c0935,_0x2f0cb6['action']);else{if(_0x2f0cb6[_0x18616c(0x31c)]==='add'){let _0x13d329=(await this['whatsappNumber']({'numbers':_0x2f0cb6[_0x18616c(0x813)]}))[_0x18616c(0x186)](_0x276c4d=>_0x276c4d[_0x18616c(0x70e)])[_0x18616c(0x7b9)](_0xdf15b=>this['createJid'](_0xdf15b[_0x18616c(0x400)]));if(_0x13d329[_0x18616c(0x124)]===0x0)throw new m(_0x18616c(0x506));await this[_0x18616c(0x59e)][_0x18616c(0x333)](_0x2f0cb6[_0x18616c(0x6cd)],_0x13d329,_0x18616c(0x5f3));}else await this[_0x18616c(0x59e)]['groupParticipantsUpdate'](_0x2f0cb6[_0x18616c(0x6cd)],_0x2c0935,_0x2f0cb6[_0x18616c(0x31c)]);}return await this[_0x18616c(0x7a4)]({'groupJid':_0x2f0cb6[_0x18616c(0x6cd)]});}catch(_0x45c345){let _0x43b9ab=_0x18616c(0x454),_0x20fc63=_0x45c345 instanceof Error?_0x45c345[_0x18616c(0x4b3)]:typeof _0x45c345==_0x18616c(0x526)?JSON['stringify'](_0x45c345):_0x45c345,_0xbdd21d=_0x43b9ab+':\x20'+_0x20fc63;throw this[_0x18616c(0x1a7)]['error'](this[_0x18616c(0x3a0)]+'\x20('+this[_0x18616c(0x1d9)]['wuid']+_0x18616c(0x52a)+_0xbdd21d),new m(_0xbdd21d);}}async['groupGetInviteInfo'](_0x325e76){const _0x3a5bd2=a0_0x1e84a8;try{return await this['client'][_0x3a5bd2(0x3b4)](_0x325e76[_0x3a5bd2(0x67e)]);}catch(_0x1565b1){let _0x1fa805=_0x3a5bd2(0x5b7),_0x56215b=_0x1565b1 instanceof Error?_0x1565b1[_0x3a5bd2(0x4b3)]:typeof _0x1565b1==_0x3a5bd2(0x526)?JSON[_0x3a5bd2(0x732)](_0x1565b1):_0x1565b1,_0x4e374a=_0x1fa805+':\x20'+_0x56215b;throw this['logger'][_0x3a5bd2(0x31d)](this[_0x3a5bd2(0x3a0)]+'\x20('+this[_0x3a5bd2(0x1d9)]['wuid']+_0x3a5bd2(0x52a)+_0x4e374a),new m(_0x4e374a);}}async[a0_0x1e84a8(0x7a4)](_0x351ea7,_0x46661='out'){const _0x1a3f07=a0_0x1e84a8;try{let _0x183f1a=await this[_0x1a3f07(0x2d1)][_0x1a3f07(0x7e6)][_0x1a3f07(0x688)]({'where':{'_id':_0x351ea7[_0x1a3f07(0x6cd)]}},this[_0x1a3f07(0x1d9)][_0x1a3f07(0x40b)]),_0x5d3df9=_0x183f1a?_0x183f1a[_0x1a3f07(0x5a2)]:null,_0x4c10b0=0x18*0x3c*0x3c*0x3e8;if(!_0x5d3df9||_0x5d3df9['lastUpdate']&&Date[_0x1a3f07(0x3ca)]()-_0x5d3df9[_0x1a3f07(0x3d7)]>_0x4c10b0){let _0x3e01e9=await this['client'][_0x1a3f07(0x32b)](_0x351ea7[_0x1a3f07(0x6cd)]);if(_0x3e01e9[_0x1a3f07(0x418)]=_0x3e01e9?.[_0x1a3f07(0x418)]&&_0x3e01e9[_0x1a3f07(0x418)][_0x1a3f07(0x71c)]()[_0x1a3f07(0x124)]<0xd?_0x3e01e9?.[_0x1a3f07(0x418)]*0x3e8:_0x3e01e9?.['subjectTime']||null,_0x3e01e9['creation']=_0x3e01e9?.[_0x1a3f07(0x1b2)]&&_0x3e01e9[_0x1a3f07(0x1b2)][_0x1a3f07(0x71c)]()['length']<0xd?_0x3e01e9?.['creation']*0x3e8:_0x3e01e9?.[_0x1a3f07(0x1b2)]||null,_0x5d3df9={..._0x3e01e9,'lastUpdate':Date['now']()},!_0x3e01e9)return;}let _0x533d05=_0x5d3df9[_0x1a3f07(0x813)]?.[_0x1a3f07(0x645)](_0x1b737a=>_0x1b737a['id']===this['instance'][_0x1a3f07(0x40b)]+_0x1a3f07(0x5aa)&&_0x1b737a[_0x1a3f07(0x5da)]!=null)||!0x1;!_0x5d3df9[_0x1a3f07(0x67e)]&&_0x533d05&&(_0x5d3df9['inviteCode']=(await this['inviteCode'](_0x351ea7,!0x1))[_0x1a3f07(0x551)]);let _0xd58d09=(!_0x5d3df9[_0x1a3f07(0x870)]||_0x533d05)&&(!_0x5d3df9[_0x1a3f07(0x7cb)]||_0x533d05);_0x5d3df9[_0x1a3f07(0x637)]=_0x533d05,_0x5d3df9[_0x1a3f07(0x374)]=_0xd58d09;let _0x51f35c=[];if(_0x533d05&&_0x5d3df9[_0x1a3f07(0x6fb)])try{_0x51f35c=await this['client'][_0x1a3f07(0x1f3)](_0x351ea7[_0x1a3f07(0x6cd)]),_0x5d3df9[_0x1a3f07(0x1a9)]=Date[_0x1a3f07(0x3ca)]();}catch(_0x16aed5){this['logger'][_0x1a3f07(0x7ba)](this['instanceName']+'\x20('+this[_0x1a3f07(0x1d9)][_0x1a3f07(0x40b)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x351ea7[_0x1a3f07(0x6cd)]+':\x20'+(_0x16aed5 instanceof Error?_0x16aed5[_0x1a3f07(0x4b3)]:JSON[_0x1a3f07(0x732)](_0x16aed5,null,0x2)));}try{_0x5d3df9['image']=(await this['findAndUpdateCacheContact'](_0x351ea7['groupJid'],null,!0x0))[_0x1a3f07(0x2a8)][_0x1a3f07(0x5dd)];}catch(_0x5f3652){this['logger']['verbose'](this[_0x1a3f07(0x3a0)]+'\x20('+this[_0x1a3f07(0x1d9)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x351ea7[_0x1a3f07(0x6cd)]+':\x20'+(_0x5f3652 instanceof Error?_0x5f3652[_0x1a3f07(0x4b3)]:JSON[_0x1a3f07(0x732)](_0x5f3652,null,0x2)));}let _0x1c46d9=_0x5d3df9['participants']['map'](_0x4ccdfc=>_0x4ccdfc['id']),_0x3e86b0=_0x51f35c[_0x1a3f07(0x7b9)](_0x1a8f8b=>_0x1a8f8b[_0x1a3f07(0x400)]),_0x525bbc=await this[_0x1a3f07(0x2d1)][_0x1a3f07(0x1a1)][_0x1a3f07(0x710)]([..._0x1c46d9,..._0x3e86b0]);_0x5d3df9[_0x1a3f07(0x813)]=_0x5d3df9[_0x1a3f07(0x813)]['map'](_0x27105c=>{const _0x238649=_0x1a3f07;let _0x15990f=_0x525bbc[_0x238649(0x6a6)](_0x510a9d=>_0x510a9d[_0x238649(0x3c4)]===_0x27105c['id']);return{'id':_0x27105c['id'],'isAdmin':['admin',_0x238649(0x439)][_0x238649(0x371)](_0x27105c[_0x238649(0x5da)]),'admin':_0x27105c[_0x238649(0x5da)],'pushName':_0x15990f?.['name'],'profilePictureUrl':_0x15990f?.[_0x238649(0x5dd)]};}),_0x5d3df9[_0x1a3f07(0x6df)]=_0x51f35c['map'](_0x1375dc=>{const _0x4c6646=_0x1a3f07;let _0x4221a8=_0x525bbc[_0x4c6646(0x6a6)](_0x448d9a=>_0x448d9a[_0x4c6646(0x3c4)]===_0x1375dc[_0x4c6646(0x400)]);return{'id':_0x1375dc[_0x4c6646(0x400)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x4221a8?.['name'],'profilePictureUrl':_0x4221a8?.[_0x4c6646(0x5dd)],'request_method':_0x1375dc[_0x4c6646(0x638)],'request_time':_0x1375dc[_0x4c6646(0x4e3)]};});let _0x39b6af=await this[_0x1a3f07(0x2d1)][_0x1a3f07(0x7e6)][_0x1a3f07(0x3fe)]({'where':{'_id':_0x351ea7['groupJid']}},{'imagechat':_0x5d3df9[_0x1a3f07(0x76b)],'name':_0x5d3df9[_0x1a3f07(0x280)],'lastcache':Date[_0x1a3f07(0x3ca)](),'groupdata':_0x5d3df9},this[_0x1a3f07(0x1d9)][_0x1a3f07(0x40b)]);return F(this[_0x1a3f07(0x3a0)],_0x1a3f07(0x16d),{'chat':_0x39b6af}),{'metadata':_0x5d3df9};}catch(_0x4e4bc5){if(_0x46661===_0x1a3f07(0x28f))return;throw new U(_0x1a3f07(0x3f2),_0x4e4bc5[_0x1a3f07(0x4b3)]['toString']());}}async['findGroups'](){const _0x3a50c6=a0_0x1e84a8;try{this['logger'][_0x3a50c6(0x7b6)](_0x3a50c6(0x4ea));let _0x138376=Date[_0x3a50c6(0x3ca)](),_0x2de6d1=0x3*0x3c*0x3c*0x3e8;return _0x138376-this[_0x3a50c6(0x759)]>_0x2de6d1&&(this['findRealGroups'](),this[_0x3a50c6(0x759)]=_0x138376),(await this['repository'][_0x3a50c6(0x7e6)][_0x3a50c6(0x334)]({'where':{'group':!0x0}},this[_0x3a50c6(0x1d9)]['wuid']))['map'](_0x43cf76=>({..._0x43cf76[_0x3a50c6(0x5a2)],'groupJid':_0x43cf76?.[_0x3a50c6(0x3c4)],'participants':_0x43cf76?.['groupdata']?.['participants']||[],'awaitingApproval':_0x43cf76?.[_0x3a50c6(0x5a2)]?.[_0x3a50c6(0x6df)]||[],'image':_0x43cf76?.[_0x3a50c6(0x782)]}));}catch(_0x31110c){let _0x3d7838='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x41f236=_0x31110c instanceof Error?_0x31110c[_0x3a50c6(0x4b3)]:typeof _0x31110c==_0x3a50c6(0x526)?JSON['stringify'](_0x31110c):_0x31110c,_0x432c5e=_0x3d7838+':\x20'+_0x41f236;throw this['logger'][_0x3a50c6(0x31d)](this['instanceName']+'\x20('+this[_0x3a50c6(0x1d9)][_0x3a50c6(0x40b)]+_0x3a50c6(0x52a)+_0x432c5e),new U(_0x432c5e);}}async[a0_0x1e84a8(0x1e6)](){const _0x2517d2=a0_0x1e84a8;try{this[_0x2517d2(0x1a7)]['info'](_0x2517d2(0x1df));let _0x38e9db=[],_0x18c4ef=await this[_0x2517d2(0x59e)][_0x2517d2(0x4e6)](),_0x4bb1ae=Object[_0x2517d2(0x659)](_0x18c4ef);for(let _0x52221e=0x0;_0x52221e<_0x4bb1ae[_0x2517d2(0x124)];_0x52221e++){let _0x31b5e4=_0x4bb1ae[_0x52221e];(0x0,w[_0x2517d2(0x5be)])(_0x31b5e4?.['id'])&&(_0x38e9db[_0x2517d2(0x857)]({'groupJid':_0x31b5e4?.['id'],'subject':_0x31b5e4?.['subject'],'subjectOwner':_0x31b5e4?.[_0x2517d2(0x585)]?.[_0x2517d2(0x4c1)]('@')[0x0],'subjectTime':_0x31b5e4?.[_0x2517d2(0x418)],'creation':_0x31b5e4?.[_0x2517d2(0x1b2)],'size':_0x31b5e4?.['participants']?.[_0x2517d2(0x124)],'owner':_0x31b5e4?.[_0x2517d2(0x325)]?.[_0x2517d2(0x4c1)]('@')[0x0],'desc':_0x31b5e4?.[_0x2517d2(0x478)],'restrict':_0x31b5e4?.[_0x2517d2(0x25d)],'announce':_0x31b5e4?.['announce'],'image':null,'isCommunity':_0x31b5e4?.[_0x2517d2(0x7cb)],'joinApprovalMode':_0x31b5e4?.[_0x2517d2(0x6fb)],'memberCanAddParticipant':_0x31b5e4?.[_0x2517d2(0x244)],'participants':_0x31b5e4?.[_0x2517d2(0x813)],'descOwner':_0x31b5e4?.[_0x2517d2(0x593)],'descId':_0x31b5e4?.['descId'],'memberAddMode':_0x31b5e4?.[_0x2517d2(0x244)],'isCommunityAnnounce':_0x31b5e4?.[_0x2517d2(0x19e)],'ephemeralDuration':_0x31b5e4?.[_0x2517d2(0x4df)]||0x0,'author':_0x31b5e4?.[_0x2517d2(0x1b9)]}),this[_0x2517d2(0x2ff)](_0x4bb1ae[_0x52221e]));}return _0x38e9db;}catch(_0x5c571b){let _0x386e46=_0x2517d2(0x387),_0x168f45=_0x5c571b instanceof Error?_0x5c571b[_0x2517d2(0x4b3)]:typeof _0x5c571b==_0x2517d2(0x526)?JSON[_0x2517d2(0x732)](_0x5c571b):_0x5c571b,_0x515f81=_0x386e46+':\x20'+_0x168f45;throw this[_0x2517d2(0x1a7)][_0x2517d2(0x31d)](this[_0x2517d2(0x3a0)]+'\x20('+this['instance'][_0x2517d2(0x40b)]+_0x2517d2(0x52a)+_0x515f81),new U(_0x515f81);}}async[a0_0x1e84a8(0x2ff)](_0x29af93){const _0x1c2b19=a0_0x1e84a8;let _0x5a9f09=await this['repository']['chat'][_0x1c2b19(0x688)]({'where':{'_id':_0x29af93['id']}},this['instance'][_0x1c2b19(0x40b)]);if(_0x29af93[_0x1c2b19(0x418)]=_0x29af93?.['subjectTime']&&_0x29af93['subjectTime'][_0x1c2b19(0x71c)]()[_0x1c2b19(0x124)]<0xd?_0x29af93?.['subjectTime']*0x3e8:_0x29af93?.[_0x1c2b19(0x418)]||null,_0x29af93[_0x1c2b19(0x1b2)]=_0x29af93?.[_0x1c2b19(0x1b2)]&&_0x29af93[_0x1c2b19(0x1b2)][_0x1c2b19(0x71c)]()[_0x1c2b19(0x124)]<0xd?_0x29af93?.[_0x1c2b19(0x1b2)]*0x3e8:_0x29af93?.[_0x1c2b19(0x1b2)]||null,!_0x29af93[_0x1c2b19(0x76b)])try{_0x29af93[_0x1c2b19(0x76b)]=await this['client'][_0x1c2b19(0x2e3)](_0x29af93['id'],_0x1c2b19(0x60b));}catch(_0x452dc6){this[_0x1c2b19(0x1a7)][_0x1c2b19(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x1c2b19(0x40b)]+_0x1c2b19(0x794)+_0x29af93['id']+':\x20'+(_0x452dc6 instanceof Error?_0x452dc6[_0x1c2b19(0x4b3)]:JSON[_0x1c2b19(0x732)](_0x452dc6,null,0x2)));}let _0x14279d=_0x29af93['participants'][_0x1c2b19(0x7b9)](_0x1ee768=>{const _0x1defea=_0x1c2b19;let _0x395805=_0x5a9f09?.['groupdata']?.[_0x1defea(0x813)]['find'](_0x5a7f6d=>_0x5a7f6d['id']===_0x1ee768['id']);return{..._0x1ee768,'isAdmin':['admin',_0x1defea(0x439)][_0x1defea(0x371)](_0x1ee768[_0x1defea(0x5da)]),'admin':_0x1ee768['admin'],'name':_0x395805?.['name']||_0x1ee768['name'],'imgUrl':_0x395805?.[_0x1defea(0x3d8)]||_0x1ee768[_0x1defea(0x3d8)]};}),_0x483c6d=_0x14279d[_0x1c2b19(0x645)](_0x363be4=>_0x363be4['id']===this[_0x1c2b19(0x1d9)][_0x1c2b19(0x40b)]+_0x1c2b19(0x5aa)&&_0x363be4[_0x1c2b19(0x5da)]!=null)||!0x1,_0x2b13a8=(!_0x29af93['announce']||_0x483c6d)&&(!_0x29af93['isCommunity']||_0x483c6d),_0x408b44={..._0x29af93,'participants':_0x14279d,'awaitingApproval':_0x5a9f09?.[_0x1c2b19(0x5a2)]?.[_0x1c2b19(0x6df)]||[],'lastFetchAwaitingApproval':_0x5a9f09?.[_0x1c2b19(0x5a2)]?.[_0x1c2b19(0x1a9)],'isAdmin':_0x483c6d,'canSendMessage':_0x2b13a8,'lastUpdate':Date[_0x1c2b19(0x3ca)]()};await this[_0x1c2b19(0x2d1)][_0x1c2b19(0x7e6)][_0x1c2b19(0x3fe)]({'where':{'_id':_0x29af93['id']}},{'imagechat':_0x29af93[_0x1c2b19(0x76b)],'name':_0x29af93[_0x1c2b19(0x280)],'group':!0x0,'groupdata':_0x408b44,'lastcache':Date[_0x1c2b19(0x3ca)]()},this['instance']['wuid']),F(this[_0x1c2b19(0x3a0)],_0x1c2b19(0x16d),{'chat':_0x29af93});}async[a0_0x1e84a8(0x212)](_0x130883){const _0x9f5dcd=a0_0x1e84a8;let _0x2bbfb8=await this['repository'][_0x9f5dcd(0x7e6)][_0x9f5dcd(0x688)]({'where':{'_id':_0x130883['id']}},this[_0x9f5dcd(0x1d9)][_0x9f5dcd(0x40b)]);_0x130883['subjectTime']=_0x130883?.['subjectTime']&&_0x130883[_0x9f5dcd(0x418)][_0x9f5dcd(0x71c)]()[_0x9f5dcd(0x124)]<0xd?_0x130883?.[_0x9f5dcd(0x418)]*0x3e8:_0x130883?.['subjectTime']||null,_0x130883[_0x9f5dcd(0x1b2)]=_0x130883?.['creation']&&_0x130883['creation']['toString']()[_0x9f5dcd(0x124)]<0xd?_0x130883?.[_0x9f5dcd(0x1b2)]*0x3e8:_0x130883?.[_0x9f5dcd(0x1b2)]||null,_0x130883[_0x9f5dcd(0x67e)]&&(_0x130883['inviteCode']=_0x9f5dcd(0x848)+_0x130883['inviteCode']);let _0x12c75b=_0x2bbfb8?.[_0x9f5dcd(0x5a2)]?{..._0x2bbfb8[_0x9f5dcd(0x5a2)]}:{};Object['keys'](_0x130883)[_0x9f5dcd(0x154)](_0x3cd4b4=>{_0x3cd4b4!=='id'&&(_0x12c75b[_0x3cd4b4]=_0x130883[_0x3cd4b4]);});let _0x1e09a1=_0x12c75b[_0x9f5dcd(0x813)]?.[_0x9f5dcd(0x645)](_0x1d356a=>_0x1d356a['id']===this[_0x9f5dcd(0x1d9)][_0x9f5dcd(0x40b)]+_0x9f5dcd(0x5aa)&&_0x1d356a['admin']!=null)||!0x1;_0x12c75b[_0x9f5dcd(0x637)]=_0x1e09a1;let _0x52fb98=(!_0x12c75b[_0x9f5dcd(0x870)]||_0x1e09a1)&&(!_0x12c75b['isCommunity']||_0x1e09a1);_0x12c75b[_0x9f5dcd(0x374)]=_0x52fb98;let _0x47bea8={'group':!0x0,'groupdata':_0x12c75b};_0x130883[_0x9f5dcd(0x280)]&&(_0x47bea8[_0x9f5dcd(0x2c3)]=_0x130883[_0x9f5dcd(0x280)]),await this[_0x9f5dcd(0x2d1)][_0x9f5dcd(0x7e6)][_0x9f5dcd(0x3fe)]({'where':{'_id':_0x130883['id']}},_0x47bea8,this[_0x9f5dcd(0x1d9)]['wuid'],{'upsert':!0x0}),F(this['instanceName'],'chats',{'chat':_0x47bea8});}async[a0_0x1e84a8(0x470)](_0x3fc4b3){const _0x139738=a0_0x1e84a8;let _0x4b31d5=await this[_0x139738(0x2d1)][_0x139738(0x7e6)]['findOne']({'where':{'_id':_0x3fc4b3['id']}},this[_0x139738(0x1d9)]['wuid']);if(!_0x4b31d5||!_0x4b31d5[_0x139738(0x5a2)]){this[_0x139738(0x1a7)][_0x139738(0x7b6)](this['instanceName']+'\x20('+this[_0x139738(0x1d9)]['wuid']+_0x139738(0x147)+_0x3fc4b3['id']);return;}let _0x4bb5bc=await this['repository']['cacheContact'][_0x139738(0x710)](_0x3fc4b3['participants']),_0x2142e1=[..._0x4b31d5[_0x139738(0x5a2)]?.[_0x139738(0x813)]];switch(_0x3fc4b3[_0x139738(0x31c)]){case _0x139738(0x5f3):_0x4bb5bc[_0x139738(0x7b9)](_0x17cf72=>({'id':_0x17cf72[_0x139738(0x3c4)],'isAdmin':!0x1,'name':_0x17cf72[_0x139738(0x2c3)],'imgUrl':_0x17cf72[_0x139738(0x5dd)]}))['forEach'](_0x5e0279=>{const _0x47d0d9=_0x139738;_0x2142e1[_0x47d0d9(0x645)](_0x37cf98=>_0x37cf98['id']===_0x5e0279['id'])||(_0x2142e1[_0x47d0d9(0x857)](_0x5e0279),this['logger']['info'](_0x47d0d9(0x670)+JSON[_0x47d0d9(0x732)](_0x5e0279)));});break;case _0x139738(0x381):_0x2142e1=_0x2142e1[_0x139738(0x186)](_0x427eca=>!_0x3fc4b3[_0x139738(0x813)][_0x139738(0x371)](_0x427eca['id']));break;case _0x139738(0x132):_0x2142e1=_0x2142e1['map'](_0x49143a=>_0x3fc4b3[_0x139738(0x813)][_0x139738(0x371)](_0x49143a['id'])?{..._0x49143a,'isAdmin':!0x0,'admin':_0x139738(0x5da)}:_0x49143a);break;case _0x139738(0x358):_0x2142e1=_0x2142e1[_0x139738(0x7b9)](_0x2026cb=>_0x3fc4b3[_0x139738(0x813)]['includes'](_0x2026cb['id'])?{..._0x2026cb,'isAdmin':!0x1,'admin':null}:_0x2026cb);break;}let _0x1be95a=_0x2142e1[_0x139738(0x124)],_0xdf7c65=_0x2142e1[_0x139738(0x645)](_0x2b549d=>_0x2b549d['id']===this[_0x139738(0x1d9)][_0x139738(0x40b)]+_0x139738(0x5aa)),_0x551cb6=_0xdf7c65&&_0x2142e1[_0x139738(0x645)](_0x3e4170=>_0x3e4170['id']===this[_0x139738(0x1d9)][_0x139738(0x40b)]+_0x139738(0x5aa)&&_0x3e4170['admin']!=null)||!0x1,_0x6a1631=_0xdf7c65&&(!_0x4b31d5[_0x139738(0x5a2)][_0x139738(0x870)]||_0x551cb6)&&(!_0x4b31d5[_0x139738(0x5a2)]['isCommunity']||_0x551cb6);await this[_0x139738(0x2d1)][_0x139738(0x7e6)][_0x139738(0x3fe)]({'where':{'_id':_0x3fc4b3['id']}},{'groupdata':{..._0x4b31d5['groupdata'],'participants':_0x2142e1,'size':_0x1be95a,'isAdmin':_0x551cb6,'canSendMessage':_0x6a1631}},this[_0x139738(0x1d9)][_0x139738(0x40b)]),this[_0x139738(0x1a7)][_0x139738(0x7b6)](this['instanceName']+'\x20('+this['instance'][_0x139738(0x40b)]+_0x139738(0x53c)+_0x3fc4b3['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x3fc4b3[_0x139738(0x31c)]+_0x139738(0x69e)+_0x1be95a+_0x139738(0x134)+_0x551cb6+_0x139738(0x482)+_0x6a1631);}async[a0_0x1e84a8(0x67e)](_0x46e687,_0x14fbf4=!0x0){const _0x1ae7b0=a0_0x1e84a8;try{let _0x5a7ce3=await this['client'][_0x1ae7b0(0x48c)](_0x46e687[_0x1ae7b0(0x6cd)]),_0x188799={'groupdata.inviteCode':_0x1ae7b0(0x848)+_0x5a7ce3};if(_0x14fbf4){let _0x1e3a50=await this['repository'][_0x1ae7b0(0x7e6)]['updateOne']({'where':{'_id':_0x46e687[_0x1ae7b0(0x6cd)]}},_0x188799,this[_0x1ae7b0(0x1d9)][_0x1ae7b0(0x40b)]);}return{'inviteUrl':_0x1ae7b0(0x848)+_0x5a7ce3,'inviteCode':_0x5a7ce3};}catch(_0x33cb52){let _0x3c4f4a=_0x1ae7b0(0x3b6),_0x421f81=_0x33cb52 instanceof Error?_0x33cb52[_0x1ae7b0(0x4b3)]:typeof _0x33cb52==_0x1ae7b0(0x526)?JSON[_0x1ae7b0(0x732)](_0x33cb52):_0x33cb52,_0x6b66c6=_0x3c4f4a+':\x20'+_0x421f81;throw this[_0x1ae7b0(0x1a7)][_0x1ae7b0(0x31d)](this[_0x1ae7b0(0x3a0)]+'\x20('+this[_0x1ae7b0(0x1d9)][_0x1ae7b0(0x40b)]+_0x1ae7b0(0x52a)+_0x6b66c6),new U(_0x6b66c6);}}async[a0_0x1e84a8(0x623)](_0x32584d){const _0x321860=a0_0x1e84a8;try{let _0x2ea4a6=await this[_0x321860(0x59e)][_0x321860(0x757)](_0x32584d[_0x321860(0x6cd)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x2ea4a6,'inviteCode':_0x2ea4a6};}catch(_0x172400){let _0x1a12ee=_0x321860(0x472),_0x5e5ae3=_0x172400 instanceof Error?_0x172400[_0x321860(0x4b3)]:typeof _0x172400=='object'?JSON[_0x321860(0x732)](_0x172400):_0x172400,_0x330959=_0x1a12ee+':\x20'+_0x5e5ae3;throw this[_0x321860(0x1a7)][_0x321860(0x31d)](this[_0x321860(0x3a0)]+'\x20('+this[_0x321860(0x1d9)][_0x321860(0x40b)]+_0x321860(0x52a)+_0x330959),new U(_0x330959);}}async[a0_0x1e84a8(0x5d7)](_0x5146b5){const _0xde33b5=a0_0x1e84a8;try{if((0x0,J[_0xde33b5(0x4cc)])(_0x5146b5[_0xde33b5(0x67e)]))var _0x52db88=_0x5146b5[_0xde33b5(0x67e)][_0xde33b5(0x4c1)]('/')[0x3];else var _0x52db88=_0x5146b5[_0xde33b5(0x67e)];let _0x4d54d3=await this[_0xde33b5(0x59e)]['groupAcceptInvite'](_0x52db88);return this[_0xde33b5(0x1a7)][_0xde33b5(0x7ba)](this[_0xde33b5(0x3a0)]+'\x20('+this[_0xde33b5(0x1d9)][_0xde33b5(0x40b)]+_0xde33b5(0x52a)+_0x4d54d3),{'join':!0x0,'inviteCode':_0x52db88,'groupJid':_0x4d54d3};}catch(_0x5caefb){let _0x49eb50='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x27a213=_0x5caefb instanceof Error?_0x5caefb[_0xde33b5(0x4b3)]:typeof _0x5caefb==_0xde33b5(0x526)?JSON[_0xde33b5(0x732)](_0x5caefb):_0x5caefb,_0x235bb5=_0x49eb50+':\x20'+_0x27a213;throw this[_0xde33b5(0x1a7)]['error'](this[_0xde33b5(0x3a0)]+'\x20('+this[_0xde33b5(0x1d9)][_0xde33b5(0x40b)]+'):\x20'+_0x235bb5),new U(_0x235bb5);}}async[a0_0x1e84a8(0x401)](_0x3f5807){const _0x3b020d=a0_0x1e84a8;try{return{'participants':(await this[_0x3b020d(0x2d1)][_0x3b020d(0x7e6)][_0x3b020d(0x688)]({'where':{'_id':_0x3f5807['groupJid']}},this[_0x3b020d(0x1d9)]['wuid']))['groupdata']['participants']};}catch(_0x3b8375){let _0x122935=_0x3b020d(0x748),_0x5443ed=_0x3b8375 instanceof Error?_0x3b8375['message']:typeof _0x3b8375==_0x3b020d(0x526)?JSON[_0x3b020d(0x732)](_0x3b8375):_0x3b8375,_0x30f0e3=_0x122935+':\x20'+_0x5443ed;throw this[_0x3b020d(0x1a7)][_0x3b020d(0x31d)](this['instanceName']+'\x20('+this[_0x3b020d(0x1d9)][_0x3b020d(0x40b)]+_0x3b020d(0x52a)+_0x30f0e3),new U(_0x30f0e3);}}async[a0_0x1e84a8(0x6f1)](_0x240d4f){const _0x41180e=a0_0x1e84a8;try{return await this[_0x41180e(0x59e)][_0x41180e(0x1e0)](_0x240d4f[_0x41180e(0x6cd)]),{'groupJid':_0x240d4f[_0x41180e(0x6cd)],'leave':!0x0};}catch(_0x1ceedc){let _0x1084d9='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x4530e7=_0x1ceedc instanceof Error?_0x1ceedc[_0x41180e(0x4b3)]:typeof _0x1ceedc==_0x41180e(0x526)?JSON['stringify'](_0x1ceedc):_0x1ceedc,_0x4dffc2=_0x1084d9+':\x20'+_0x4530e7;throw this[_0x41180e(0x1a7)][_0x41180e(0x31d)](this[_0x41180e(0x3a0)]+'\x20('+this[_0x41180e(0x1d9)][_0x41180e(0x40b)]+'):\x20'+_0x4dffc2),new m(_0x4dffc2);}}async['pollMessage'](_0x18fb12){const _0x3a2eea=a0_0x1e84a8;return await this[_0x3a2eea(0x10e)](_0x18fb12[_0x3a2eea(0x1ee)],{'poll':{'name':_0x18fb12[_0x3a2eea(0x791)]?.[_0x3a2eea(0x2c3)],'selectableCount':_0x18fb12[_0x3a2eea(0x791)][_0x3a2eea(0x76f)],'values':_0x18fb12[_0x3a2eea(0x791)][_0x3a2eea(0x659)]}},_0x18fb12?.[_0x3a2eea(0x711)]);}async[a0_0x1e84a8(0x1bc)](_0x4d25ec){const _0x327ba2=a0_0x1e84a8;return await this[_0x327ba2(0x10e)](_0x4d25ec['number'],{'listMessage':{'title':_0x4d25ec[_0x327ba2(0x1bc)]['title'],'description':_0x4d25ec['listMessage'][_0x327ba2(0x4fc)],'buttonText':_0x4d25ec[_0x327ba2(0x1bc)]?.['buttonText'],'footerText':_0x4d25ec[_0x327ba2(0x1bc)]?.[_0x327ba2(0x4eb)],'sections':_0x4d25ec['listMessage']['sections'],'listType':0x2}},_0x4d25ec?.['options']);}async['menuMessage'](_0x443de4){const _0x56eabd=a0_0x1e84a8;this['instance'][_0x56eabd(0x48f)]===void 0x0&&await this[_0x56eabd(0x6ee)]();let _0x284cd3;if(_0x443de4['menuMessage'][_0x56eabd(0x749)]==='list'||_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x749)]===_0x56eabd(0x3bd)){let _0x2eee5d=_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x5d1)][_0x56eabd(0x837)]('\x0a'),_0x23994d='',_0x41e11d='';_0x2eee5d!==-0x1?(_0x23994d=_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x5d1)][_0x56eabd(0x7d8)](0x0,_0x2eee5d)[_0x56eabd(0x1e8)](),_0x41e11d=_0x443de4['menuMessage'][_0x56eabd(0x5d1)]['substring'](_0x2eee5d+0x1)):_0x41e11d=_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x5d1)];let _0x39f6b1=_0x443de4['menuMessage'][_0x56eabd(0x785)][_0x56eabd(0x186)](_0x223123=>_0x223123[_0x56eabd(0x1e8)]()!==''),_0x3c7686=this[_0x56eabd(0x5fb)](_0x39f6b1);_0x284cd3={'listMessage':{'title':_0x23994d,'description':_0x41e11d,'buttonText':_0x443de4['menuMessage'][_0x56eabd(0x54b)]||_0x56eabd(0x336),'footerText':_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x4eb)],'sections':_0x3c7686,'listType':0x2}};}else{if(_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x749)]===_0x56eabd(0x229)){let _0x4c5820=_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x785)][_0x56eabd(0x186)](_0x5f0f98=>!(_0x5f0f98[_0x56eabd(0x37e)]('[')&&_0x5f0f98[_0x56eabd(0x6be)](']'))&&_0x5f0f98['trim']()!=='')[_0x56eabd(0x7b9)](_0xb7ce36=>_0xb7ce36[_0x56eabd(0x4c1)]('\x0a')[0x0]);for(;_0x4c5820[_0x56eabd(0x124)]<0x2;)_0x4c5820[_0x56eabd(0x857)](_0x56eabd(0x133)+(_0x4c5820[_0x56eabd(0x124)]+0x1));_0x284cd3={'poll':{'name':_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x5d1)],'selectableCount':_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x76f)]||0x1,'values':_0x4c5820}};}else{if(_0x443de4[_0x56eabd(0x320)]['type']===_0x56eabd(0x63d)){let _0x500e5b=this[_0x56eabd(0x251)](_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x785)][_0x56eabd(0x186)](_0x380d95=>!(_0x380d95['startsWith']('[')&&_0x380d95[_0x56eabd(0x6be)](']'))));return _0x284cd3={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x5d1)]},'footer':_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x4eb)]?{'text':_0x443de4[_0x56eabd(0x320)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x500e5b,'messageParamsJson':JSON[_0x56eabd(0x732)]({'from':_0x56eabd(0x7fc),'templateId':_0x56eabd(0x84e)+(0x0,ne[_0x56eabd(0x451)])(0x12)[_0x56eabd(0x71c)]('hex')[_0x56eabd(0x789)]()})}}}}},await this[_0x56eabd(0x346)](_0x443de4[_0x56eabd(0x1ee)],_0x284cd3,_0x443de4?.[_0x56eabd(0x711)]);}else{if(_0x443de4[_0x56eabd(0x320)]['type']===_0x56eabd(0x6ca)){let _0x2f437f=this['createButtonSectionsFromValues'](_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x785)]);return _0x284cd3={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x443de4[_0x56eabd(0x320)][_0x56eabd(0x5d1)]},'footer':_0x443de4['menuMessage'][_0x56eabd(0x4eb)]?{'text':_0x443de4['menuMessage'][_0x56eabd(0x4eb)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x2f437f,'messageParamsJson':JSON[_0x56eabd(0x732)]({'from':_0x56eabd(0x7fc),'templateId':_0x56eabd(0x84e)+(0x0,ne[_0x56eabd(0x451)])(0x12)[_0x56eabd(0x71c)](_0x56eabd(0x874))[_0x56eabd(0x789)]()})}}}}},await this['sendMessageWithTypingButtons'](_0x443de4[_0x56eabd(0x1ee)],_0x284cd3,_0x443de4?.[_0x56eabd(0x711)]);}}}}return await this[_0x56eabd(0x10e)](_0x443de4[_0x56eabd(0x1ee)],_0x284cd3,_0x443de4?.['options']);}['createButtonsFromValues'](_0x30910a){return _0x30910a['map'](_0x360ae5=>{const _0x50850a=a0_0x3070;let _0x1d482b=_0x360ae5['split']('\x0a')[_0x50850a(0x7b9)](_0x2acf3f=>_0x2acf3f['trim']()),_0x404f79=_0x1d482b[0x0],_0xeb7577=_0x1d482b[0x1]||_0x404f79,_0x15b534=_0xeb7577[_0x50850a(0x37e)](_0x50850a(0x772))?_0x50850a(0x3eb):_0x50850a(0x80c);return{'name':_0x15b534,'buttonParamsJson':JSON[_0x50850a(0x732)]({'display_text':_0x404f79,'id':_0x15b534===_0x50850a(0x80c)?_0xeb7577:void 0x0,'url':_0x15b534==='cta_url'?_0xeb7577:void 0x0})};});}[a0_0x1e84a8(0x29a)](_0x45f2bf){const _0x197da1=a0_0x1e84a8;let _0x429665=[],_0x2de74e={'title':'','rows':[]};return _0x45f2bf['forEach'](_0x365987=>{const _0x22b659=a0_0x3070;if(_0x365987[_0x22b659(0x37e)]('[')&&_0x365987[_0x22b659(0x6be)](']'))_0x2de74e[_0x22b659(0x61d)][_0x22b659(0x124)]>0x0&&_0x429665[_0x22b659(0x857)](_0x2de74e),_0x2de74e={'title':_0x365987[_0x22b659(0x603)](0x1,-0x1),'rows':[]};else{let _0x540303=_0x365987['split']('\x0a')[_0x22b659(0x7b9)](_0x123e23=>_0x123e23[_0x22b659(0x1e8)]()),_0x2f40c7=_0x540303[0x0],_0x40e01c=_0x540303[0x1]?_0x540303[0x1]:void 0x0,_0x4315a9=_0x540303[0x2]||_0x2f40c7;_0x2de74e[_0x22b659(0x61d)][_0x22b659(0x857)]({'title':_0x2f40c7,'description':_0x40e01c,'id':_0x4315a9});}}),_0x2de74e[_0x197da1(0x61d)][_0x197da1(0x124)]>0x0&&_0x429665['push'](_0x2de74e),[{'name':_0x197da1(0x50a),'buttonParamsJson':JSON['stringify']({'title':'Selecione\x20uma\x20opção','sections':_0x429665})}];}[a0_0x1e84a8(0x5fb)](_0x12b4ae){const _0x530d84=a0_0x1e84a8;let _0x55255d=[],_0x4fef27={'rows':[]};return _0x12b4ae[_0x530d84(0x154)](_0x2d4861=>{const _0x345b71=_0x530d84;if(_0x2d4861[_0x345b71(0x37e)]('[')&&_0x2d4861[_0x345b71(0x6be)](']'))_0x4fef27[_0x345b71(0x61d)][_0x345b71(0x124)]>0x0&&_0x55255d[_0x345b71(0x857)](_0x4fef27),_0x4fef27={'title':_0x2d4861[_0x345b71(0x603)](0x1,-0x1),'rows':[]};else{let _0x21b7ee=_0x2d4861[_0x345b71(0x4c1)]('\x0a')[_0x345b71(0x7b9)](_0x1f14d2=>_0x1f14d2[_0x345b71(0x1e8)]()),_0x52874c=_0x21b7ee[0x0],_0x2e8b34=_0x21b7ee[0x1]||null,_0x1a61d9=_0x21b7ee[0x2]||_0x52874c;_0x4fef27[_0x345b71(0x61d)][_0x345b71(0x857)]({'title':_0x52874c,'description':_0x2e8b34,'rowId':_0x1a61d9});}}),_0x4fef27[_0x530d84(0x61d)][_0x530d84(0x124)]>0x0&&_0x55255d['push'](_0x4fef27),_0x55255d;}async['updateMessage'](_0x5ebf01,_0x3563e8){const _0x2b1852=a0_0x1e84a8;if(await this[_0x2b1852(0x406)](_0x5ebf01,!0x0)){let _0x55f8eb={'where':{'_id':_0x5ebf01['id']}},_0x29146b={'status':[_0x3563e8[_0x2b1852(0x612)]][0x0]};try{let _0x1d13dd=await this['repository'][_0x2b1852(0x4b3)][_0x2b1852(0x32a)](_0x55f8eb,_0x29146b,this[_0x2b1852(0x1d9)][_0x2b1852(0x40b)]);_0x1d13dd&&F(this[_0x2b1852(0x3a0)],_0x2b1852(0x435),{'message':_0x1d13dd});}catch{}}}['sectionsToString'](_0x5b6d19){const _0x188367=a0_0x1e84a8;let _0x4b8a8a=[];return _0x5b6d19[_0x188367(0x154)](_0xa0f001=>{const _0x1fd556=_0x188367;_0xa0f001[_0x1fd556(0x49e)]&&_0x4b8a8a['push']('['+_0xa0f001[_0x1fd556(0x49e)]+']'),_0xa0f001[_0x1fd556(0x61d)][_0x1fd556(0x154)](_0x136fb8=>{const _0x548a25=_0x1fd556;_0x4b8a8a[_0x548a25(0x857)](_0x136fb8[_0x548a25(0x49e)]);});}),_0x4b8a8a[_0x188367(0x1db)]('|');}[a0_0x1e84a8(0x62e)](_0x944a6d){const _0x5d2e84=a0_0x1e84a8;let _0x5eabe1=_0x944a6d[_0x5d2e84(0x122)](/\\n/g,'\x0a')['split']('\x0a')[_0x5d2e84(0x186)](_0x1fe3b3=>_0x1fe3b3['includes']('TEL')||_0x1fe3b3[_0x5d2e84(0x371)](_0x5d2e84(0x19b))),_0x2d06ac='';return _0x5eabe1['forEach'](_0x4c3c0c=>{const _0x2db4ce=_0x5d2e84;let _0x24c301=/TEL(?:.*):(.+)/,_0x32ffe7=/EMAIL(?:.*):(.+)/,_0x40aaf1=_0x4c3c0c[_0x2db4ce(0x7f2)](_0x24c301),_0x4413a0=_0x4c3c0c['match'](_0x32ffe7);if(_0x40aaf1){let _0x1be182=_0x40aaf1[0x1][_0x2db4ce(0x122)](/-| |\+|\(|\)/g,'')[_0x2db4ce(0x1e8)]();_0x2d06ac+=_0x2db4ce(0x839)+_0x1be182+'\x0a';}else{if(_0x4413a0){let _0x3bc80d=_0x4413a0[0x1][_0x2db4ce(0x1e8)]();_0x2d06ac+=_0x2db4ce(0x1d0)+_0x3bc80d+'\x0a';}}}),_0x2d06ac[_0x5d2e84(0x1e8)]();}async[a0_0x1e84a8(0x5af)](_0x4653f1,_0x27a432,_0x42d716,_0x3838eb=null){const _0x2e6182=a0_0x1e84a8;if(_0x4653f1[_0x2e6182(0x7f4)])try{let _0x248035=_0x27a432[_0x2e6182(0x37f)][_0x2e6182(0x6aa)][_0x2e6182(0x122)](/:\d{1,2}@/g,'@'),_0x4c23f0=_0x27a432[_0x2e6182(0x37f)][_0x2e6182(0x3a6)],_0x235a77=_0x248035[_0x2e6182(0x6be)](_0x2e6182(0x20c)),_0x54ea56=_0x27a432['participant']?.[_0x2e6182(0x122)](/:\d{1,2}@/g,'@')||'',_0x1cc144=_0x27a432[_0x2e6182(0x7bc)]?.['text']||_0x27a432[_0x2e6182(0x7bc)]?.['caption']||_0x27a432[_0x2e6182(0x7bc)]?.[_0x2e6182(0x618)]||_0x27a432[_0x2e6182(0x7bc)]?.[_0x2e6182(0x2c3)]||'',_0x5b88f2={'_id':_0x27a432['_id'],'remoteJid':_0x4c23f0?this[_0x2e6182(0x1d9)][_0x2e6182(0x40b)]:_0x235a77?_0x54ea56:_0x248035,'pushName':_0x4c23f0?this[_0x2e6182(0x1d9)]['profileName']||'Eu':_0x27a432[_0x2e6182(0x2a7)],'text':_0x1cc144,'type':_0x27a432[_0x2e6182(0x754)],'when':_0x27a432[_0x2e6182(0x781)]||Date[_0x2e6182(0x3ca)]()};_0x3838eb||(_0x3838eb=await this['repository'][_0x2e6182(0x7e6)][_0x2e6182(0x688)]({'where':{'_id':_0x248035}},this[_0x2e6182(0x1d9)][_0x2e6182(0x40b)]));let _0x2a69b6=_0x4c23f0?0x0:_0x3838eb?(_0x3838eb[_0x2e6182(0x367)]||0x0)+0x1:0x1,_0x5f507c={'lastmsg':_0x27a432[_0x2e6182(0x781)]||Date[_0x2e6182(0x3ca)](),'ephemeralExpiration':_0x27a432[_0x2e6182(0x830)],'lastMessage':_0x5b88f2,'unreadcount':_0x2a69b6,..._0x4c23f0||_0x235a77?{}:{'name':_0x27a432[_0x2e6182(0x2a7)]},..._0x235a77?{'group':_0x235a77}:{},...!_0x4c23f0&&!_0x235a77&&_0x27a432[_0x2e6182(0x2e3)]?{'imagechat':_0x27a432['profilePictureUrl']}:{}};if(!_0x235a77&&(!_0x3838eb?.[_0x2e6182(0x2ab)]||!_0x3838eb[_0x2e6182(0x2ab)][_0x2e6182(0x116)])&&_0x27a432['pushName']&&!_0x4c23f0&&(_0x5f507c={..._0x5f507c,'leadInfo.nome':_0x27a432[_0x2e6182(0x2a7)]}),_0x3838eb?.['leadInfo']['etiquetas']||(_0x5f507c={..._0x5f507c,'leadInfo.etiquetas':[]}),_0x3838eb?.['leadInfo'][_0x2e6182(0x569)]||(_0x5f507c={..._0x5f507c,'leadInfo.customFields':[]}),_0x3838eb?.[_0x2e6182(0x2ab)]['tags']||(_0x5f507c={..._0x5f507c,'leadInfo.tags':[]}),_0x3838eb&&_0x3838eb?.[_0x2e6182(0x121)]){let _0x29b4c7=await this[_0x2e6182(0x2d1)]['label'][_0x2e6182(0x6a6)]({'where':{}},this[_0x2e6182(0x1d9)]['wuid']),_0x13c3ff=new Set(_0x29b4c7[_0x2e6182(0x7b9)](_0x569649=>_0x569649[_0x2e6182(0x3c4)])),_0x11bcd8=(_0x3838eb[_0x2e6182(0x2ab)]?.[_0x2e6182(0x4e1)]||[])['filter'](_0x3fa761=>_0x13c3ff[_0x2e6182(0x252)](_0x3fa761));_0x5f507c={..._0x5f507c,'imported':!0x1,'leadInfo.etiquetas':_0x11bcd8};for(let _0x2b15ba of _0x11bcd8)await this[_0x2e6182(0x68f)](_0x2b15ba,_0x248035);}if(!this[_0x2e6182(0x289)][_0x2e6182(0x2cc)]['find'](_0x519c1d=>_0x519c1d[_0x2e6182(0x6ed)]&&_0x1cc144[_0x2e6182(0x371)](_0x519c1d[_0x2e6182(0x6ed)]))&&_0x42d716==='MESSAGES_UPSERT'&&_0x4c23f0&&this[_0x2e6182(0x289)]?.[_0x2e6182(0x50d)][_0x2e6182(0x388)]&&_0x1cc144[_0x2e6182(0x1e8)]()!==this[_0x2e6182(0x289)]?.['flowConfig']['stopConversation']['trim']()){let _0x5d73f8=(this['AutomateSystem']?.[_0x2e6182(0x50d)][_0x2e6182(0x17f)]||0x0)*0xea60,_0x50dba1=Date['now']()+_0x5d73f8;_0x3838eb?.[_0x2e6182(0x2ab)]?.['desativadoFluxoAte']===0x0||(_0x5f507c={..._0x5f507c,'leadInfo.desativadoFluxoAte':_0x50dba1},this[_0x2e6182(0x1a7)][_0x2e6182(0x7ba)](this[_0x2e6182(0x3a0)]+'\x20('+this[_0x2e6182(0x1d9)]['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x50dba1+'.'));}if(_0x1cc144[_0x2e6182(0x1e8)]()===this['AutomateSystem']?.[_0x2e6182(0x50d)]['stopConversation'][_0x2e6182(0x1e8)]()){this[_0x2e6182(0x1a7)][_0x2e6182(0x7ba)](this[_0x2e6182(0x3a0)]+'\x20('+this[_0x2e6182(0x1d9)]['wuid']+_0x2e6182(0x5a6)+_0x1cc144);let _0x15abcc=Date['now']();this[_0x2e6182(0x289)]?.[_0x2e6182(0x50d)][_0x2e6182(0x214)]===0x0?_0x5f507c={..._0x5f507c,'leadInfo.desativadoFluxoAte':_0x15abcc+0x7591f6200}:_0x5f507c={..._0x5f507c,'leadInfo.desativadoFluxoAte':_0x15abcc+this[_0x2e6182(0x289)]?.[_0x2e6182(0x50d)][_0x2e6182(0x214)]*0x3c*0x3e8};}if(_0x3838eb=await this[_0x2e6182(0x2d1)][_0x2e6182(0x7e6)][_0x2e6182(0x3fe)]({'where':{'_id':_0x248035}},_0x5f507c,this[_0x2e6182(0x1d9)][_0x2e6182(0x40b)],{'new':!0x0,'upsert':!0x0}),_0x3838eb)F(this['instanceName'],_0x2e6182(0x16d),{'chat':_0x3838eb});else{this['logger'][_0x2e6182(0x31d)](this[_0x2e6182(0x3a0)]+'\x20('+this[_0x2e6182(0x1d9)]['wuid']+_0x2e6182(0x1d1));return;}if(_0x4c23f0)return this[_0x2e6182(0x1a7)][_0x2e6182(0x7ba)](this[_0x2e6182(0x3a0)]+'\x20('+this[_0x2e6182(0x1d9)][_0x2e6182(0x40b)]+_0x2e6182(0x806)),null;if(!this[_0x2e6182(0x289)]?.[_0x2e6182(0x50d)][_0x2e6182(0x388)])return this[_0x2e6182(0x1a7)][_0x2e6182(0x7ba)](this[_0x2e6182(0x3a0)]+'\x20('+this[_0x2e6182(0x1d9)][_0x2e6182(0x40b)]+_0x2e6182(0x3aa)),null;if(_0x3838eb[_0x2e6182(0x3c4)]['includes'](_0x2e6182(0x20c))&&this[_0x2e6182(0x289)]?.[_0x2e6182(0x50d)][_0x2e6182(0x2a0)]===!0x0)return this[_0x2e6182(0x1a7)][_0x2e6182(0x7ba)](this['instanceName']+'\x20('+this[_0x2e6182(0x1d9)]['wuid']+_0x2e6182(0x12d)),null;if(_0x3838eb[_0x2e6182(0x2ab)]){if(_0x3838eb[_0x2e6182(0x2ab)]['desativadoFluxoAte']===0x0||_0x3838eb[_0x2e6182(0x2ab)]['atendimentoAberto'])return this[_0x2e6182(0x1a7)][_0x2e6182(0x7ba)](this[_0x2e6182(0x3a0)]+'\x20('+this[_0x2e6182(0x1d9)][_0x2e6182(0x40b)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x248035+_0x2e6182(0x850)),null;if(_0x3838eb['leadInfo']['desativadoFluxoAte']>Date[_0x2e6182(0x3ca)]()&&!_0x27a432['message_normalized']?.['vote'])return this[_0x2e6182(0x1a7)]['verbose'](this[_0x2e6182(0x3a0)]+'\x20('+this[_0x2e6182(0x1d9)][_0x2e6182(0x40b)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x3838eb[_0x2e6182(0x2ab)]['desativadoFluxoAte'])[_0x2e6182(0x570)]()+',\x20saindo.'),null;}this['logger'][_0x2e6182(0x7ba)](this[_0x2e6182(0x3a0)]+'\x20('+this['instance'][_0x2e6182(0x40b)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x2e6182(0x86b)](_0x27a432,_0x42d716);}catch(_0x167f5b){let _0x4a8b03='Erro\x20na\x20função\x20updateChatWithMessage:\x20',_0x492831=_0x167f5b instanceof Error?_0x167f5b[_0x2e6182(0x4b3)]:typeof _0x167f5b==_0x2e6182(0x526)?JSON['stringify'](_0x167f5b):_0x167f5b,_0x3cab37=_0x4a8b03+':\x20'+_0x492831;return this[_0x2e6182(0x1a7)][_0x2e6182(0x31d)](this[_0x2e6182(0x3a0)]+'\x20('+this[_0x2e6182(0x1d9)][_0x2e6182(0x40b)]+'):\x20'+_0x3cab37),null;}}async[a0_0x1e84a8(0x58e)](_0xed8344,_0x3d09ee){const _0x61e8be=a0_0x1e84a8;if(_0x3d09ee[_0x61e8be(0x7f4)]){let _0x5995bd=_0xed8344[_0x61e8be(0x7b9)](async _0xa855fa=>{const _0x4086ca=_0x61e8be;try{let _0x12458d={'_id':_0xa855fa['_id'],'owner':_0xa855fa[_0x4086ca(0x325)],'lastcache':0x0};if(Object[_0x4086ca(0x4f1)](_0xa855fa)['forEach'](_0x541dd3=>{_0xa855fa[_0x541dd3]!==null&&(_0x12458d[_0x541dd3]=_0xa855fa[_0x541dd3]);}),_0x12458d[_0x4086ca(0x782)]===null&&(_0x12458d[_0x4086ca(0x782)]=_0x4086ca(0x2e1)),Object[_0x4086ca(0x4f1)](_0x12458d)[_0x4086ca(0x124)]>0x0)return await this[_0x4086ca(0x2d1)][_0x4086ca(0x7e6)]['updateOne']({'where':{'_id':_0xa855fa[_0x4086ca(0x3c4)]}},_0x12458d,this[_0x4086ca(0x1d9)][_0x4086ca(0x40b)]);}catch(_0x5d5860){let _0xcc8710=_0x4086ca(0x4ab)+_0xa855fa[_0x4086ca(0x3c4)],_0x26b370=_0x5d5860 instanceof Error?_0x5d5860['message']:typeof _0x5d5860=='object'?JSON['stringify'](_0x5d5860):_0x5d5860,_0x361893=_0xcc8710+':\x20'+_0x26b370;return this[_0x4086ca(0x1a7)]['error'](this['instanceName']+'\x20('+this[_0x4086ca(0x1d9)][_0x4086ca(0x40b)]+_0x4086ca(0x52a)+_0x361893),null;}}),_0x1e0829=(await Promise['all'](_0x5995bd))[_0x61e8be(0x186)](_0x38aaeb=>_0x38aaeb!==null)[_0x61e8be(0x124)];this[_0x61e8be(0x1a7)]['verbose'](this[_0x61e8be(0x3a0)]+'\x20('+this['instance']['wuid']+_0x61e8be(0x52a)+_0x1e0829+'\x20chats\x20de\x20'+this[_0x61e8be(0x1d9)][_0x61e8be(0x40b)]+_0x61e8be(0x18c));}}async['readMessageBot'](_0x4bc47c){const _0x3baf5b=a0_0x1e84a8;this[_0x3baf5b(0x1a7)][_0x3baf5b(0x7ba)](this[_0x3baf5b(0x3a0)]+'\x20('+this['instance']['wuid']+_0x3baf5b(0x81c));let _0x253595={'readMessages':[{'remoteJid':_0x4bc47c[_0x3baf5b(0x52c)][_0x3baf5b(0x44e)][_0x3baf5b(0x37f)][_0x3baf5b(0x6aa)],'fromMe':_0x4bc47c['chatLog'][_0x3baf5b(0x44e)][_0x3baf5b(0x37f)][_0x3baf5b(0x3a6)],'id':_0x4bc47c[_0x3baf5b(0x52c)][_0x3baf5b(0x44e)][_0x3baf5b(0x37f)]['id']}]};await this[_0x3baf5b(0x3f9)](_0x253595);}async['StartBot'](_0x43f5ce,_0x2e5da7){const _0x30cdb5=a0_0x1e84a8;try{let {key:_0x231e0a,message_normalized:_0x49d23b}=_0x43f5ce,_0x26d9a2=_0x49d23b,_0x434bab=_0x49d23b[_0x30cdb5(0x5d1)]||_0x49d23b[_0x30cdb5(0x1cc)]||_0x49d23b[_0x30cdb5(0x618)]||_0x49d23b['name']||'',_0x4fe2d3=_0x231e0a[_0x30cdb5(0x6aa)],_0x40cb03=null,_0x1caa1b=this[_0x30cdb5(0x289)][_0x30cdb5(0x2cc)][_0x30cdb5(0x6a6)](_0x3f04f2=>_0x3f04f2[_0x30cdb5(0x6ed)]&&_0x434bab[_0x30cdb5(0x371)](_0x3f04f2['startCommand']));if(_0x1caa1b&&_0x2e5da7===_0x30cdb5(0x739)){let _0x38dec2=await this[_0x30cdb5(0x2d1)][_0x30cdb5(0x71a)][_0x30cdb5(0x688)]({'where':{'_id':_0x1caa1b['_id']}});if(this[_0x30cdb5(0x1a7)][_0x30cdb5(0x7ba)](this[_0x30cdb5(0x3a0)]+'\x20('+this[_0x30cdb5(0x1d9)]['wuid']+_0x30cdb5(0x6b7)),_0x38dec2&&_0x38dec2[_0x30cdb5(0x7d3)]?.[_0x30cdb5(0x371)](this[_0x30cdb5(0x1d9)][_0x30cdb5(0x40b)]))_0x40cb03=await this['createNewConversation'](_0x38dec2,_0x231e0a,_0x26d9a2);else return this[_0x30cdb5(0x1a7)][_0x30cdb5(0x7ba)](this[_0x30cdb5(0x3a0)]+'\x20('+this['instance'][_0x30cdb5(0x40b)]+_0x30cdb5(0x318)),null;}else this[_0x30cdb5(0x1a7)][_0x30cdb5(0x7ba)](this[_0x30cdb5(0x3a0)]+'\x20('+this[_0x30cdb5(0x1d9)]['wuid']+_0x30cdb5(0x413));if(_0x40cb03=await this[_0x30cdb5(0x2b4)](_0x4fe2d3,_0x26d9a2),_0x40cb03){this[_0x30cdb5(0x1a7)][_0x30cdb5(0x7ba)](this[_0x30cdb5(0x3a0)]+'\x20('+this[_0x30cdb5(0x1d9)]['wuid']+_0x30cdb5(0x3dd)),!_0x231e0a[_0x30cdb5(0x3a6)]&&_0x40cb03[_0x30cdb5(0x718)]&&this[_0x30cdb5(0x217)](_0x40cb03);let _0x12d399=await this[_0x30cdb5(0x173)](_0x40cb03);_0x12d399&&await this[_0x30cdb5(0x395)](_0x40cb03,_0x12d399);}}catch(_0xb0f607){this[_0x30cdb5(0x1a7)][_0x30cdb5(0x31d)](this[_0x30cdb5(0x3a0)]+'\x20('+this[_0x30cdb5(0x1d9)][_0x30cdb5(0x40b)]+_0x30cdb5(0x860)+(_0xb0f607 instanceof Error?_0xb0f607[_0x30cdb5(0x4b3)]:JSON[_0x30cdb5(0x732)](_0xb0f607,null,0x2)));}}['flattenObject'](_0x59bf99,_0x4cb474='',_0x2b1de7={}){const _0x192170=a0_0x1e84a8;return typeof _0x59bf99!='object'||_0x59bf99===null?(_0x4cb474&&(_0x2b1de7[_0x4cb474]=_0x59bf99),_0x2b1de7):(Object[_0x192170(0x40e)](_0x59bf99)[_0x192170(0x154)](([_0x154b41,_0x28d41a])=>{const _0x4545e3=_0x192170;let _0x5f11c4=_0x4cb474?_0x4cb474+'.'+_0x154b41:'_'+_0x154b41;Array['isArray'](_0x28d41a)?_0x28d41a['forEach']((_0x5f1382,_0x44ab47)=>{const _0x27f456=a0_0x3070;this[_0x27f456(0x4c9)](_0x5f1382,_0x5f11c4+'['+_0x44ab47+']',_0x2b1de7);}):typeof _0x28d41a==_0x4545e3(0x526)&&_0x28d41a!==null?this['flattenObject'](_0x28d41a,_0x5f11c4,_0x2b1de7):_0x2b1de7[_0x5f11c4]=String(_0x28d41a);}),_0x2b1de7);}[a0_0x1e84a8(0x635)](_0x49d7bc){const _0x359c30=a0_0x1e84a8;let _0x2e81db={};for(let _0x46af5a of _0x49d7bc)typeof _0x46af5a[_0x359c30(0x2c3)]==_0x359c30(0x190)&&typeof _0x46af5a[_0x359c30(0x187)]=='string'&&(_0x2e81db[_0x46af5a['name']]=_0x46af5a[_0x359c30(0x187)]);return _0x2e81db;}async[a0_0x1e84a8(0x173)](_0x1bfbb4){const _0x5f25d0=a0_0x1e84a8;if(!this['AutomateSystem']?.[_0x5f25d0(0x50d)][_0x5f25d0(0x388)]||_0x1bfbb4[_0x5f25d0(0x612)]!=='open'&&_0x1bfbb4['waitingMenu_id']==='')return null;let _0x3660bb=_0x1bfbb4[_0x5f25d0(0x52c)][_0x5f25d0(0x3df)]||_0x5f25d0(0x360);typeof _0x1bfbb4[_0x5f25d0(0x52c)]['lastCondition']>'u'&&(_0x1bfbb4[_0x5f25d0(0x52c)]['lastCondition']=!0x0);let _0x15283c=_0x1bfbb4[_0x5f25d0(0x52c)][_0x5f25d0(0x414)];this[_0x5f25d0(0x1a7)][_0x5f25d0(0x7ba)](this[_0x5f25d0(0x3a0)]+'\x20('+this[_0x5f25d0(0x1d9)][_0x5f25d0(0x40b)]+'):\x20lastBlockId:\x20'+_0x3660bb+',\x20lastCondition:\x20'+_0x15283c);let _0x22ff4d=_0x3660bb===_0x5f25d0(0x360)?_0x1bfbb4[_0x5f25d0(0x5f4)]['find'](_0x1f33f0=>_0x1f33f0[_0x5f25d0(0x749)]===_0x5f25d0(0x360)):_0x1bfbb4[_0x5f25d0(0x5f4)]['find'](_0x4f6dc9=>_0x4f6dc9['_id'][_0x5f25d0(0x71c)]()===_0x3660bb[_0x5f25d0(0x71c)]());if(!_0x22ff4d)return this[_0x5f25d0(0x1a7)][_0x5f25d0(0x31d)](this[_0x5f25d0(0x3a0)]+'\x20('+this['instance'][_0x5f25d0(0x40b)]+_0x5f25d0(0x483)+_0x3660bb),null;let _0xf6a6c4={'_pushName':_0x1bfbb4?.[_0x5f25d0(0x52c)]?.[_0x5f25d0(0x44e)]?.[_0x5f25d0(0x2a7)]||'','_sender':this[_0x5f25d0(0x1d9)][_0x5f25d0(0x40b)]||'',..._0x1bfbb4[_0x5f25d0(0x52c)][_0x5f25d0(0x5df)]},_0x437747=new Date();_0xf6a6c4[_0x5f25d0(0x5b9)]=_0x437747[_0x5f25d0(0x497)](),_0xf6a6c4['_month']=_0x437747['getMonth']()+0x1,_0xf6a6c4[_0x5f25d0(0x480)]=_0x437747[_0x5f25d0(0x5e9)](),_0xf6a6c4[_0x5f25d0(0x1ef)]=_0x437747['getHours'](),_0xf6a6c4['_minute']=_0x437747[_0x5f25d0(0x46e)](),_0xf6a6c4['_second']=_0x437747['getSeconds']();let _0x265dc3=null;if(_0x1bfbb4[_0x5f25d0(0x510)]){let _0x1454e9=_0x1bfbb4[_0x5f25d0(0x52c)]['lastReceivedMessage']['vote'],_0x5a3434=_0x1bfbb4[_0x5f25d0(0x27b)][_0x5f25d0(0x6a6)](_0x23f5ab=>_0x23f5ab[_0x5f25d0(0x39c)]===_0x1454e9);if(_0x5a3434){let _0x49e542=_0x5a3434[_0x5f25d0(0x239)];if(_0x265dc3=_0x1bfbb4['blocks']['find'](_0x1eb93b=>_0x1eb93b[_0x5f25d0(0x34a)]===_0x49e542&&_0x1eb93b[_0x5f25d0(0x254)]===0x1),_0x22ff4d[_0x5f25d0(0x38f)][_0x5f25d0(0x7fe)]){let _0x155d63={'id':_0x1bfbb4[_0x5f25d0(0x510)],'remoteJid':_0x1bfbb4[_0x5f25d0(0x6aa)],'fromMe':!0x0};await this[_0x5f25d0(0x426)](_0x155d63);}if(_0x22ff4d['uazapi'][_0x5f25d0(0x7fe)]&&_0x22ff4d[_0x5f25d0(0x38f)][_0x5f25d0(0x730)]&&_0x22ff4d[_0x5f25d0(0x38f)][_0x5f25d0(0x661)]===_0x5f25d0(0x229)){let _0x16de1c={'number':_0x1bfbb4[_0x5f25d0(0x6aa)],'options':{'delay':0x0},'textMessage':{'text':_0x5f25d0(0x2b3)+_0x1bfbb4['waitingMenu_text']+_0x5f25d0(0x114)+_0x1454e9}};await this['textMessage'](_0x16de1c);}_0xf6a6c4[_0x5f25d0(0x25b)]=_0x1454e9,_0x1bfbb4['status']=_0x5f25d0(0x493),_0x1bfbb4[_0x5f25d0(0x510)]='',_0x1bfbb4[_0x5f25d0(0x446)]='',_0x1bfbb4[_0x5f25d0(0x27b)]=[];}else{this[_0x5f25d0(0x1a7)][_0x5f25d0(0x7ba)](this['instanceName']+'\x20('+this[_0x5f25d0(0x1d9)][_0x5f25d0(0x40b)]+_0x5f25d0(0x444));let _0xebe9ec={'activatedCount':_0x1bfbb4[_0x5f25d0(0x52c)]['blockLogs'][_0x5f25d0(0x186)](_0x562125=>String(_0x562125[_0x5f25d0(0x7d7)])===String(_0x3660bb))['length'],'moreLogs':[_0x5f25d0(0x4a0)]};if(_0x22ff4d[_0x5f25d0(0x38f)]['pollErrorMessage']){let _0xf2d03f={'number':_0x1bfbb4[_0x5f25d0(0x6aa)],'options':{'delay':0x0},'textMessage':{'text':_0x22ff4d['uazapi']['pollErrorMessage']}};await this[_0x5f25d0(0x37d)](_0xf2d03f);}if(_0x22ff4d[_0x5f25d0(0x245)]!==void 0x0&&_0xebe9ec[_0x5f25d0(0x449)]>=_0x22ff4d[_0x5f25d0(0x245)]){let _0x1b44ce=Date[_0x5f25d0(0x3ca)](),_0x189453=_0x22ff4d[_0x5f25d0(0x721)]??0xa;isNaN(_0x189453)&&(_0x189453=0xa);let _0x108dcc=_0x1b44ce+_0x189453*0x3c*0x3e8;_0xebe9ec[_0x5f25d0(0x877)]=_0x108dcc,_0xebe9ec[_0x5f25d0(0x3b1)][_0x5f25d0(0x857)](_0x5f25d0(0x643)),this[_0x5f25d0(0x4c2)](_0x1bfbb4,_0x108dcc),_0x1bfbb4['waitingMenu_id']='',_0x1bfbb4[_0x5f25d0(0x446)]='',_0x1bfbb4[_0x5f25d0(0x27b)]=[];}return this[_0x5f25d0(0x463)](_0x1bfbb4,_0x22ff4d,_0xebe9ec,!0x0),null;}}if(_0x15283c&&_0x22ff4d[_0x5f25d0(0x239)]&&!_0x1bfbb4[_0x5f25d0(0x510)]){let _0x3b6be4=_0x1bfbb4[_0x5f25d0(0x5f4)][_0x5f25d0(0x186)](_0x476f0a=>_0x476f0a[_0x5f25d0(0x34a)][_0x5f25d0(0x71c)]()===_0x22ff4d['next_groupId'][_0x5f25d0(0x71c)]())[_0x5f25d0(0x652)]((_0xde4b19,_0x184300)=>_0xde4b19[_0x5f25d0(0x254)]-_0x184300[_0x5f25d0(0x254)]);_0x3b6be4[_0x5f25d0(0x124)]>0x0&&(_0x265dc3=_0x3b6be4[0x0]);}if(!_0x265dc3){let _0x1390ef=_0x22ff4d[_0x5f25d0(0x34a)],_0x416f7d=_0x1bfbb4[_0x5f25d0(0x5f4)]['filter'](_0x309b81=>_0x309b81[_0x5f25d0(0x34a)]===_0x1390ef&&_0x309b81[_0x5f25d0(0x254)]>_0x22ff4d[_0x5f25d0(0x254)])[_0x5f25d0(0x652)]((_0x1c4322,_0x2cb965)=>_0x1c4322[_0x5f25d0(0x254)]-_0x2cb965[_0x5f25d0(0x254)]);_0x416f7d[_0x5f25d0(0x124)]>0x0&&(_0x265dc3=_0x416f7d[0x0]);}if(!_0x265dc3)return _0x1bfbb4[_0x5f25d0(0x612)]='closed',null;_0x1bfbb4[_0x5f25d0(0x52c)][_0x5f25d0(0x5df)]=_0xf6a6c4;let _0x1311fe=JSON[_0x5f25d0(0x2c0)](JSON[_0x5f25d0(0x732)](_0x265dc3));return this['replaceVariablesInObject'](_0x1311fe,_0x1bfbb4[_0x5f25d0(0x52c)][_0x5f25d0(0x5df)]),_0x1bfbb4[_0x5f25d0(0x52c)][_0x5f25d0(0x3df)]=_0x1311fe[_0x5f25d0(0x3c4)],_0x1bfbb4[_0x5f25d0(0x52c)]['lastCondition']=!0x0,_0x1311fe;}[a0_0x1e84a8(0x115)](_0x50c39b,_0x57e11f){return _0x50c39b['replace'](/\{\{([^}]+)\}\}/g,(_0x38d4c4,_0x1c2af7)=>_0x57e11f[_0x1c2af7]||'');}['replaceVariablesInObject'](_0x57efee,_0x58edb9){const _0x19f508=a0_0x1e84a8;for(let _0x34ff36 in _0x57efee)typeof _0x57efee[_0x34ff36]==_0x19f508(0x190)?_0x57efee[_0x34ff36]=this[_0x19f508(0x115)](_0x57efee[_0x34ff36],_0x58edb9):typeof _0x57efee[_0x34ff36]==_0x19f508(0x526)&&this[_0x19f508(0x608)](_0x57efee[_0x34ff36],_0x58edb9);}async[a0_0x1e84a8(0x5ca)](_0x30e5ab,_0x4d7790){const _0x35128a=a0_0x1e84a8;let _0x5e31e3=_0x4d7790['_id'];if(_0x30e5ab[_0x35128a(0x52c)]&&_0x30e5ab[_0x35128a(0x52c)][_0x35128a(0x315)]){let _0x1fc299=_0x30e5ab['chatLog'][_0x35128a(0x315)][_0x35128a(0x186)](_0x2f8df4=>String(_0x2f8df4[_0x35128a(0x7d7)])===String(_0x5e31e3))[_0x35128a(0x3fc)]();if(_0x1fc299&&_0x1fc299['error']&&_0x4d7790[_0x35128a(0x68d)])return _0x30e5ab['status']=_0x35128a(0x3be),await this[_0x35128a(0x43d)](_0x30e5ab),null;}if(_0x4d7790[_0x35128a(0x749)]==='uazapi'&&_0x4d7790[_0x35128a(0x38f)][_0x35128a(0x694)]===_0x35128a(0x380)&&_0x30e5ab[_0x35128a(0x510)])return _0x30e5ab[_0x35128a(0x52c)][_0x35128a(0x3df)]=_0x5e31e3,await this['saveConversationToDatabase'](_0x30e5ab),null;let _0x35072a=await this[_0x35128a(0x173)](_0x30e5ab);if(_0x30e5ab[_0x35128a(0x52c)]&&_0x30e5ab['chatLog'][_0x35128a(0x315)]){let _0x2c021d=_0x30e5ab[_0x35128a(0x52c)][_0x35128a(0x315)][_0x35128a(0x186)](_0x263490=>String(_0x263490[_0x35128a(0x7d7)])===String(_0x5e31e3))[_0x35128a(0x124)];if(_0x4d7790[_0x35128a(0x245)]!==void 0x0&&_0x2c021d>=_0x4d7790['maxActives']){let _0x20e554=Date['now'](),_0x333dea=_0x4d7790[_0x35128a(0x721)]??0xa;isNaN(_0x333dea)&&(_0x333dea=0xa);let _0x33e96f=_0x20e554+_0x333dea*0x3c*0x3e8,_0x12ba7a={'newStoppedUntil':_0x33e96f};return this[_0x35128a(0x4c2)](_0x30e5ab,_0x33e96f),this[_0x35128a(0x463)](_0x30e5ab,_0x4d7790,_0x12ba7a,!0x0),null;}}_0x35072a&&_0x35072a[_0x35128a(0x749)]!==_0x35128a(0x1f2)&&await this[_0x35128a(0x395)](_0x30e5ab,_0x35072a),_0x35072a||await this['saveConversationToDatabase'](_0x30e5ab),_0x35072a&&_0x35072a[_0x35128a(0x749)]===_0x35128a(0x1f2)&&(_0x30e5ab['chatLog'][_0x35128a(0x3df)]=_0x5e31e3,await this[_0x35128a(0x43d)](_0x30e5ab));}async['processblock'](_0x307587,_0x2219e4){const _0xae08d3=a0_0x1e84a8;try{let _0x178b73=_0x2219e4[_0xae08d3(0x749)];this[_0xae08d3(0x1a7)][_0xae08d3(0x7ba)](this[_0xae08d3(0x3a0)]+'\x20('+this[_0xae08d3(0x1d9)][_0xae08d3(0x40b)]+_0xae08d3(0x21d)+_0x178b73);let _0x1408bd={'uazapi':()=>this[_0xae08d3(0x42c)](_0x307587,_0x2219e4),'save':()=>this[_0xae08d3(0x6e6)](_0x307587,_0x2219e4),'stop':()=>this['stopConversation'](_0x307587,_0x2219e4),'condition':()=>this[_0xae08d3(0x1f0)](_0x307587,_0x2219e4),'varedit':()=>this[_0xae08d3(0x7bd)](_0x307587,_0x2219e4),'apirequest':()=>this[_0xae08d3(0x2b6)](_0x307587,_0x2219e4),'goToFlow':()=>this['processgoToFlow'](_0x307587,_0x2219e4),'scheduleFlow':()=>this[_0xae08d3(0x476)](_0x307587,_0x2219e4),'awaitSeconds':()=>this[_0xae08d3(0x2a9)](_0x307587,_0x2219e4),'clearVariables':()=>this[_0xae08d3(0x724)](_0x307587,_0x2219e4)}[_0x178b73];_0x1408bd&&await _0x1408bd();}catch(_0xc8e1db){this[_0xae08d3(0x1a7)][_0xae08d3(0x31d)](this[_0xae08d3(0x3a0)]+'\x20('+this[_0xae08d3(0x1d9)][_0xae08d3(0x40b)]+_0xae08d3(0x5a1)+(_0xc8e1db instanceof Error?_0xc8e1db[_0xae08d3(0x4b3)]:JSON['stringify'](_0xc8e1db,null,0x2)));}}async[a0_0x1e84a8(0x2a9)](_0x5f49e3,_0x1c74bc){const _0x403375=a0_0x1e84a8;if(this[_0x403375(0x1a7)][_0x403375(0x7ba)](this[_0x403375(0x3a0)]+'\x20('+this[_0x403375(0x1d9)][_0x403375(0x40b)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x5f49e3||!_0x1c74bc)return this[_0x403375(0x1a7)][_0x403375(0x31d)](this[_0x403375(0x3a0)]+'\x20('+this['instance'][_0x403375(0x40b)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x137b7d=+_0x1c74bc[_0x403375(0x5f7)];isNaN(_0x137b7d)&&(_0x137b7d=0x0),_0x137b7d=Math[_0x403375(0x602)](_0x137b7d,0x3c),await(0x0,w[_0x403375(0x3ae)])(_0x137b7d*0x3e8);let _0x40719f={'moreLogs':[_0x403375(0x773)+_0x137b7d+_0x403375(0x5e8)]};return await this['updateConversation'](_0x5f49e3,_0x1c74bc,_0x40719f),_0x137b7d;}async[a0_0x1e84a8(0x724)](_0x4b94ef,_0x42e851){const _0x488b2e=a0_0x1e84a8;if(this[_0x488b2e(0x1a7)][_0x488b2e(0x7ba)](this[_0x488b2e(0x3a0)]+'\x20('+this[_0x488b2e(0x1d9)][_0x488b2e(0x40b)]+_0x488b2e(0x81a)),!_0x4b94ef||!_0x42e851)return this[_0x488b2e(0x1a7)][_0x488b2e(0x31d)](this['instanceName']+'\x20('+this[_0x488b2e(0x1d9)][_0x488b2e(0x40b)]+_0x488b2e(0x364)),null;let _0x60a653=[];if(_0x42e851[_0x488b2e(0x3e9)][_0x488b2e(0x1e8)]()==='[all]'){let _0x2342b6=[_0x488b2e(0x5ee),_0x488b2e(0x6c0),_0x488b2e(0x495),'_activedCount','_remoteJid',_0x488b2e(0x3c4),_0x488b2e(0x21c)];_0x60a653=Object[_0x488b2e(0x4f1)](_0x4b94ef[_0x488b2e(0x52c)]['realVariables'])[_0x488b2e(0x186)](_0xc36517=>_0xc36517[_0x488b2e(0x37e)]('_')&&!_0x2342b6[_0x488b2e(0x371)](_0xc36517));}else _0x60a653=_0x42e851['clearVariables'][_0x488b2e(0x4c1)]('|')[_0x488b2e(0x7b9)](_0x5de5ad=>(_0x5de5ad=_0x5de5ad[_0x488b2e(0x122)](/[{}]/g,'')[_0x488b2e(0x1e8)](),_0x5de5ad[_0x488b2e(0x37e)]('_')?_0x5de5ad:'_'+_0x5de5ad));let _0x2eed10=[];_0x60a653[_0x488b2e(0x154)](_0x4b7ae8=>{const _0x93afee=_0x488b2e;_0x4b7ae8 in _0x4b94ef['chatLog'][_0x93afee(0x5df)]&&(delete _0x4b94ef[_0x93afee(0x52c)][_0x93afee(0x5df)][_0x4b7ae8],_0x2eed10[_0x93afee(0x857)](_0x4b7ae8));}),_0x2eed10[_0x488b2e(0x124)]>0x0?this[_0x488b2e(0x1a7)][_0x488b2e(0x7ba)](this[_0x488b2e(0x3a0)]+'\x20('+this['instance'][_0x488b2e(0x40b)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x2eed10[_0x488b2e(0x1db)](',\x20')):this[_0x488b2e(0x1a7)][_0x488b2e(0x7ba)](this[_0x488b2e(0x3a0)]+'\x20('+this[_0x488b2e(0x1d9)][_0x488b2e(0x40b)]+_0x488b2e(0x49f));let _0x3ae649={'moreLogs':[_0x488b2e(0x836)+_0x2eed10[_0x488b2e(0x1db)](',\x20')]};return await this[_0x488b2e(0x463)](_0x4b94ef,_0x42e851,_0x3ae649),null;}async[a0_0x1e84a8(0x476)](_0x2e8301,_0x54c0d7){const _0x4c425a=a0_0x1e84a8;if(this['logger'][_0x4c425a(0x7ba)](this['instanceName']+'\x20('+this[_0x4c425a(0x1d9)][_0x4c425a(0x40b)]+_0x4c425a(0x3e0)),!_0x2e8301||!_0x54c0d7)return this[_0x4c425a(0x1a7)]['error'](this['instanceName']+'\x20('+this[_0x4c425a(0x1d9)][_0x4c425a(0x40b)]+_0x4c425a(0x364)),null;let _0x38d200=_0x2e8301[_0x4c425a(0x6aa)];_0x54c0d7[_0x4c425a(0x3ab)][_0x4c425a(0x6aa)]&&_0x54c0d7[_0x4c425a(0x3ab)]['remoteJid'][_0x4c425a(0x1e8)]()!==''&&(_0x38d200=_0x54c0d7['uazapi'][_0x4c425a(0x6aa)][_0x4c425a(0x1e8)]());let _0x12c28c=_0x54c0d7[_0x4c425a(0x3ab)]['timeInMinutes']*0xea60,_0x3f70c1=Date[_0x4c425a(0x3ca)]()+_0x12c28c,_0x1b5cec={'status':_0x4c425a(0x627),'info':_0x4c425a(0x4e9)+_0x2e8301[_0x4c425a(0x2c3)],'remoteJids':[_0x38d200],'when':_0x3f70c1,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x4c425a(0x71a),'flowName':_0x54c0d7[_0x4c425a(0x3ab)]['flowName']};this[_0x4c425a(0x6f9)](_0x1b5cec);let _0x5ee02e=await this['NextBlock'](_0x2e8301);_0x5ee02e&&await this[_0x4c425a(0x395)](_0x2e8301,_0x5ee02e);}async['processgoToFlow'](_0x78d10a,_0x11558e){const _0x1ad1f4=a0_0x1e84a8;if(this['logger']['verbose'](this[_0x1ad1f4(0x3a0)]+'\x20('+this[_0x1ad1f4(0x1d9)][_0x1ad1f4(0x40b)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x78d10a||!_0x11558e)return this[_0x1ad1f4(0x1a7)][_0x1ad1f4(0x31d)](this[_0x1ad1f4(0x3a0)]+'\x20('+this[_0x1ad1f4(0x1d9)]['wuid']+_0x1ad1f4(0x364)),null;await this[_0x1ad1f4(0x463)](_0x78d10a,_0x11558e,{},!0x0,!0x0);let _0x104712=_0x11558e[_0x1ad1f4(0x5f0)];_0x78d10a=await this[_0x1ad1f4(0x80a)](_0x104712,_0x78d10a[_0x1ad1f4(0x6aa)],_0x78d10a[_0x1ad1f4(0x52c)][_0x1ad1f4(0x5df)]);let _0x5d78d3=await this['NextBlock'](_0x78d10a);_0x5d78d3&&await this[_0x1ad1f4(0x395)](_0x78d10a,_0x5d78d3);}async[a0_0x1e84a8(0x80a)](_0x163907,_0x1b100b,_0x4682bd){const _0x13e4fa=a0_0x1e84a8;this[_0x13e4fa(0x1a7)][_0x13e4fa(0x7ba)](this[_0x13e4fa(0x3a0)]+'\x20('+this[_0x13e4fa(0x1d9)][_0x13e4fa(0x40b)]+_0x13e4fa(0x1b6));try{let _0x2d0780=this[_0x13e4fa(0x289)]['flows'][_0x13e4fa(0x6a6)](_0x328935=>_0x328935[_0x13e4fa(0x3c4)]===_0x163907);_0x2d0780||this[_0x13e4fa(0x1a7)]['error'](this['instanceName']+'\x20('+this[_0x13e4fa(0x1d9)][_0x13e4fa(0x40b)]+_0x13e4fa(0xff)+_0x163907+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x2896a0=await this[_0x13e4fa(0x2d1)][_0x13e4fa(0x71a)][_0x13e4fa(0x688)]({'where':{'_id':_0x2d0780[_0x13e4fa(0x3c4)]}});if(!_0x2896a0||!_0x2896a0[_0x13e4fa(0x7d3)]?.[_0x13e4fa(0x371)](this['instance'][_0x13e4fa(0x40b)]))throw this[_0x13e4fa(0x1a7)][_0x13e4fa(0x31d)](this[_0x13e4fa(0x3a0)]+'\x20('+this[_0x13e4fa(0x1d9)][_0x13e4fa(0x40b)]+'):\x20Flow\x20\x27'+_0x163907+_0x13e4fa(0x491)),new m(_0x13e4fa(0x1bf)+_0x163907+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x3d9e73=require('mongodb')[_0x13e4fa(0x53a)],_0x347789=Date[_0x13e4fa(0x3ca)](),_0x44c7cc=_0x13e4fa(0x360),_0x41fa69={},_0x502c3b={},_0x2139f5=this[_0x13e4fa(0x289)][_0x13e4fa(0x2cc)][_0x13e4fa(0x6a6)](_0x292c6d=>_0x292c6d[_0x13e4fa(0x3c4)]===_0x2896a0[_0x13e4fa(0x3c4)]?.[_0x13e4fa(0x71c)]()),_0x3044e1=_0x2139f5?.[_0x13e4fa(0x23c)]??_0x2896a0[_0x13e4fa(0x23c)]??0x0,_0x149e27=_0x2139f5?.[_0x13e4fa(0x718)]??_0x2896a0[_0x13e4fa(0x718)]??!0x1,_0x314372={'flowId':_0x2d0780['_id'],'readMessages':_0x2d0780[_0x13e4fa(0x718)],..._0x2896a0,'chatLog':null},_0x3bacbe={'lastReceivedMessage':_0x41fa69,'lastSendMessage':_0x502c3b,'lastBlockId':_0x44c7cc,'lastCondition':!0x0,'realVariables':_0x4682bd};_0x314372[_0x13e4fa(0x52c)]=_0x3bacbe,_0x314372[_0x13e4fa(0x52c)][_0x13e4fa(0x5df)]={..._0x4682bd},delete _0x314372[_0x13e4fa(0x3c4)],_0x314372[_0x13e4fa(0x3c4)]=new _0x3d9e73(),_0x314372[_0x13e4fa(0x66d)]=_0x347789,_0x314372[_0x13e4fa(0x612)]=_0x13e4fa(0x493),_0x314372[_0x13e4fa(0x6aa)]=_0x1b100b,_0x314372[_0x13e4fa(0x23c)]=_0x3044e1,_0x314372[_0x13e4fa(0x718)]=_0x149e27;let _0x222744=await this[_0x13e4fa(0x2d1)][_0x13e4fa(0x689)]['updateOne'](_0x314372[_0x13e4fa(0x3c4)],_0x314372,this['instance'][_0x13e4fa(0x40b)]);return this[_0x13e4fa(0x1a7)][_0x13e4fa(0x7ba)](this['instanceName']+'\x20('+this[_0x13e4fa(0x1d9)][_0x13e4fa(0x40b)]+_0x13e4fa(0x3f1)),_0x222744?_0x314372:null;}catch(_0x30b63f){let _0x9b5a88='Erro\x20ao\x20copiar\x20o\x20documento',_0x51f9ea=_0x30b63f instanceof Error?_0x30b63f[_0x13e4fa(0x4b3)]:typeof _0x30b63f==_0x13e4fa(0x526)?JSON['stringify'](_0x30b63f):_0x30b63f,_0x241beb=_0x9b5a88+':\x20'+_0x51f9ea;throw this[_0x13e4fa(0x1a7)][_0x13e4fa(0x31d)](this[_0x13e4fa(0x3a0)]+'\x20('+this[_0x13e4fa(0x1d9)][_0x13e4fa(0x40b)]+_0x13e4fa(0x52a)+_0x241beb),new m(_0x241beb);}}async[a0_0x1e84a8(0x2b6)](_0x3c3816,_0x138913){const _0x22e81a=a0_0x1e84a8;let _0x366304,_0x26ccd3;try{let _0x33821a=_0x138913[_0x22e81a(0x343)];if(!_0x33821a||!_0x33821a[_0x22e81a(0x2a2)]||!_0x33821a['method'])throw new Error(_0x22e81a(0x722));let _0x491c4c;([_0x22e81a(0x384),_0x22e81a(0x4c8),_0x22e81a(0x1f9)][_0x22e81a(0x645)](_0x1eccb9=>_0x33821a[_0x22e81a(0x2a2)][_0x22e81a(0x371)](_0x1eccb9))||_0x33821a['requestFile'])&&(_0x491c4c=_0x22e81a(0x701));let _0x3533af='\u205f',_0x408eac;try{_0x408eac=JSON[_0x22e81a(0x2c0)](_0x33821a['bodyString'][_0x22e81a(0x122)](new RegExp(_0x3533af,'g'),''));}catch(_0x310898){throw _0x310898;}let _0x1279c5={'method':_0x33821a[_0x22e81a(0x73a)],'url':_0x33821a[_0x22e81a(0x2a2)],'headers':_0x33821a['header']||{},..._0x33821a[_0x22e81a(0x73a)][_0x22e81a(0x789)]()!==_0x22e81a(0x264)&&_0x33821a[_0x22e81a(0x51a)]?{'data':JSON[_0x22e81a(0x2c0)](_0x33821a[_0x22e81a(0x51a)][_0x22e81a(0x122)](new RegExp(_0x3533af,'g'),''))}:{},..._0x491c4c&&{'responseType':_0x491c4c}},_0x5c0faa=await(0x0,Q['default'])(_0x1279c5),_0x37c8da=_0x5c0faa[_0x22e81a(0x144)][_0x22e81a(0x7b4)];if(_0x37c8da&&_0x37c8da[_0x22e81a(0x371)](_0x22e81a(0x6b8))||typeof _0x5c0faa[_0x22e81a(0x56a)]=='string'){if(typeof _0x5c0faa[_0x22e81a(0x56a)]==_0x22e81a(0x190)){let _0x3d41b7=_0x5c0faa['data'][_0x22e81a(0x122)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x366304=JSON['parse'](_0x3d41b7);}catch(_0x261ea){this[_0x22e81a(0x1a7)][_0x22e81a(0x31d)](_0x22e81a(0x456)+_0x261ea[_0x22e81a(0x4b3)]),_0x366304={'_apiResponse':_0x5c0faa[_0x22e81a(0x56a)]};}}else _0x366304=_0x5c0faa[_0x22e81a(0x56a)];let _0x586bbe=_0x3c3816['chatLog'][_0x22e81a(0x5df)],_0x354176=this['flattenObject'](_0x366304);return Object[_0x22e81a(0x4e7)](_0x586bbe,_0x354176),_0x3c3816[_0x22e81a(0x52c)]['realVariables']=_0x586bbe,_0x26ccd3={'error':!0x1,'apiResponse':_0x366304},this[_0x22e81a(0x463)](_0x3c3816,_0x138913,_0x26ccd3),_0x366304;}if(_0x37c8da&&(_0x37c8da[_0x22e81a(0x371)]('application/octet-stream')||_0x37c8da[_0x22e81a(0x371)](_0x22e81a(0x76b))||_0x37c8da[_0x22e81a(0x371)](_0x22e81a(0x6dd))||_0x37c8da[_0x22e81a(0x371)](_0x22e81a(0x2cd)))){this[_0x22e81a(0x1a7)][_0x22e81a(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x22e81a(0x40b)]+_0x22e81a(0x409)+_0x37c8da);let _0x520863=(0x0,Y['v4'])(),_0x2ecf10='',_0x59bcf3={'image/jpeg':_0x22e81a(0x1cf),'image/png':_0x22e81a(0x4c3),'image/gif':'.gif','image/webp':_0x22e81a(0x6c7),'image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':_0x22e81a(0x457),'audio/wav':_0x22e81a(0x76e),'video/mp4':_0x22e81a(0x3f5),'video/webm':_0x22e81a(0x39d),'video/ogg':_0x22e81a(0x6d6),'text/plain':_0x22e81a(0x3ea),'application/pdf':'.pdf','application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x22e81a(0x7a2),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x22e81a(0x545),'application/vnd.ms-powerpoint':_0x22e81a(0x181),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x59bcf3[_0x37c8da]?(_0x2ecf10=_0x59bcf3[_0x37c8da],this[_0x22e81a(0x1a7)][_0x22e81a(0x7ba)](this[_0x22e81a(0x3a0)]+'\x20('+this[_0x22e81a(0x1d9)]['wuid']+_0x22e81a(0x129)+_0x2ecf10)):(_0x2ecf10=_0x22e81a(0x3e7),this['logger'][_0x22e81a(0x7ba)](this[_0x22e81a(0x3a0)]+'\x20('+this['instance'][_0x22e81a(0x40b)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x2ecf10)),_0x520863+=_0x2ecf10,this['logger'][_0x22e81a(0x7ba)](this['instanceName']+'\x20('+this[_0x22e81a(0x1d9)][_0x22e81a(0x40b)]+_0x22e81a(0x6cf)+_0x520863);let _0x11815c=this[_0x22e81a(0x26f)][_0x22e81a(0x13e)](_0x22e81a(0x24e))['URL'];if(!_0x11815c){let _0x2eeca0=this['configService'][_0x22e81a(0x13e)]('SSL_CONF');_0x11815c='https://'+(_0x2eeca0&&_0x2eeca0[_0x22e81a(0x662)][_0x22e81a(0x4c1)]('/')[0x4]);}let _0x330ed8=Buffer[_0x22e81a(0x83e)](_0x5c0faa[_0x22e81a(0x56a)]);await this['saveMediaToFile'](_0x330ed8,_0x520863);let _0xf06fe2=_0x22e81a(0x6af)+_0x520863;_0xf06fe2=''+_0x11815c+_0xf06fe2,_0x366304={'fileUrl':_0xf06fe2},_0x3c3816['chatLog'][_0x22e81a(0x5df)][_0x22e81a(0x372)]=_0xf06fe2;let _0x3d3a52=_0x3c3816[_0x22e81a(0x52c)][_0x22e81a(0x5df)],_0x294e32=this[_0x22e81a(0x4c9)](_0x366304);return Object['assign'](_0x3d3a52,_0x294e32),_0x3c3816[_0x22e81a(0x52c)][_0x22e81a(0x5df)]=_0x3d3a52,_0x26ccd3={'error':!0x1,'apiResponse':{'fileUrl':_0xf06fe2}},this[_0x22e81a(0x463)](_0x3c3816,_0x138913,_0x26ccd3),_0x366304;}}catch(_0x55feff){this['logger'][_0x22e81a(0x31d)](_0x22e81a(0x15e)+_0x55feff[_0x22e81a(0x4b3)]),_0x55feff[_0x22e81a(0x6d4)]&&(_0x366304=_0x55feff['response'][_0x22e81a(0x56a)]);let _0x4556bf=_0x3c3816[_0x22e81a(0x52c)][_0x22e81a(0x5df)],_0xc1e745=this[_0x22e81a(0x4c9)](_0x366304);return Object['assign'](_0x4556bf,_0xc1e745),_0x3c3816[_0x22e81a(0x52c)]['realVariables']=_0x4556bf,_0x26ccd3={'error':!0x0,'errorLog':_0x55feff[_0x22e81a(0x71c)](),'apiResponse':_0x366304},this[_0x22e81a(0x463)](_0x3c3816,_0x138913,_0x26ccd3),{'success':!0x1};}}[a0_0x1e84a8(0x598)](_0x42c4a6,_0x3a3430){const _0x1dc3c9=a0_0x1e84a8;let _0x51befe=_0x497142=>{const _0x29c75e=a0_0x3070;let _0x508b39=_0x497142[_0x29c75e(0x122)](/[^0-9.,-]/g,'')[_0x29c75e(0x122)](',','.'),_0x1f251e=parseFloat(_0x508b39);return isNaN(_0x1f251e)?null:_0x1f251e;},_0x23ae90=_0x3a3430['firstValue'],_0x58b710=_0x3a3430[_0x1dc3c9(0x415)];typeof _0x23ae90==_0x1dc3c9(0x190)&&(_0x23ae90=this[_0x1dc3c9(0x115)](_0x23ae90,_0x42c4a6[_0x1dc3c9(0x52c)]['realVariables'])??''),typeof _0x58b710==_0x1dc3c9(0x190)&&(_0x58b710=this[_0x1dc3c9(0x115)](_0x58b710,_0x42c4a6[_0x1dc3c9(0x52c)][_0x1dc3c9(0x5df)])??'');let _0x22ccea=null;if(!_0x3a3430[_0x1dc3c9(0x2b9)])return null;switch(this[_0x1dc3c9(0x1a7)][_0x1dc3c9(0x7ba)](this[_0x1dc3c9(0x3a0)]+'\x20('+this[_0x1dc3c9(0x1d9)][_0x1dc3c9(0x40b)]+_0x1dc3c9(0x57a)+_0x23ae90),this[_0x1dc3c9(0x1a7)]['verbose'](this[_0x1dc3c9(0x3a0)]+'\x20('+this[_0x1dc3c9(0x1d9)][_0x1dc3c9(0x40b)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x58b710),_0x3a3430[_0x1dc3c9(0x2b9)]){case'+':case'-':case'*':case'/':let _0x33289c=_0x51befe(_0x23ae90||'0'),_0x2392cc=_0x51befe(_0x58b710||'0');if(_0x33289c===null)return null;switch(_0x3a3430[_0x1dc3c9(0x2b9)]){case'+':_0x22ccea=_0x33289c+(_0x2392cc??0x0);break;case'-':_0x22ccea=_0x33289c-(_0x2392cc??0x0);break;case'*':_0x22ccea=_0x33289c*(_0x2392cc??0x1);break;case'/':_0x2392cc!==0x0&&(_0x22ccea=_0x33289c/(_0x2392cc??0x1));break;}break;case _0x1dc3c9(0x68a):case _0x1dc3c9(0x86c):let _0x10a6e2=_0x58b710,_0x5bd9cd=_0x3a3430[_0x1dc3c9(0x571)];if(typeof _0x5bd9cd=='string'&&(_0x5bd9cd=this[_0x1dc3c9(0x115)](_0x5bd9cd,_0x42c4a6[_0x1dc3c9(0x52c)][_0x1dc3c9(0x5df)])??''),_0x10a6e2&&_0x5bd9cd!==void 0x0){let _0x52d828=_0x3a3430['editOperator']===_0x1dc3c9(0x68a)?new RegExp(_0x10a6e2['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x1dc3c9(0x40d)),'g'):new RegExp(_0x10a6e2,'g');_0x22ccea=_0x23ae90[_0x1dc3c9(0x122)](_0x52d828,_0x5bd9cd);}else console[_0x1dc3c9(0x2e7)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x1dc3c9(0x4db):_0x22ccea=_0x58b710;break;case _0x1dc3c9(0x634):let _0xbc061=_0x23ae90['match'](new RegExp(_0x58b710||''));_0x22ccea=_0xbc061?_0xbc061[0x0]:'';break;case _0x1dc3c9(0x2fa):_0x22ccea=_0x23ae90[_0x1dc3c9(0x603)](0x0,parseInt(_0x58b710||'0'));break;case _0x1dc3c9(0x5ed):let _0x58e751=parseInt(_0x58b710||'0');_0x22ccea=_0x23ae90['slice'](_0x23ae90['length']-_0x58e751);break;case _0x1dc3c9(0x127):let _0x2332a5=_0x51befe(_0x23ae90),_0x12d719=parseInt(_0x58b710||'0');_0x12d719=Math['abs'](_0x12d719),_0x2332a5!==null?_0x22ccea=_0x2332a5[_0x1dc3c9(0x570)](_0x1dc3c9(0x3e8),{'minimumFractionDigits':_0x12d719,'maximumFractionDigits':_0x12d719}):(console[_0x1dc3c9(0x2e7)](_0x1dc3c9(0x4ad)+_0x23ae90),_0x22ccea=null);break;case _0x1dc3c9(0x1c4):let _0x549c8c=_0x51befe(_0x23ae90);_0x549c8c!==null?_0x22ccea=_0x549c8c[_0x1dc3c9(0x570)](_0x1dc3c9(0x3e8),{'style':'currency','currency':'BRL'}):(console[_0x1dc3c9(0x2e7)](_0x1dc3c9(0x1ca)+_0x23ae90),_0x22ccea=null);break;case'upperCase':_0x22ccea=_0x23ae90[_0x1dc3c9(0x789)]();break;case _0x1dc3c9(0x274):_0x22ccea=_0x23ae90[_0x1dc3c9(0x77a)]();break;case _0x1dc3c9(0x5cb):_0x22ccea=_0x23ae90['split']('\x20')[_0x1dc3c9(0x7b9)](_0x376d5e=>_0x376d5e[_0x1dc3c9(0x6c9)](0x0)[_0x1dc3c9(0x789)]()+_0x376d5e[_0x1dc3c9(0x603)](0x1)[_0x1dc3c9(0x77a)]())[_0x1dc3c9(0x1db)]('\x20');break;case'convertToString':_0x22ccea=JSON[_0x1dc3c9(0x732)](_0x23ae90);break;case _0x1dc3c9(0x726):_0x22ccea=_0x23ae90['trim']();break;default:_0x22ccea=_0x23ae90;}return _0x22ccea!==null?_0x22ccea[_0x1dc3c9(0x71c)]():null;}async[a0_0x1e84a8(0x7bd)](_0x23ebf2,_0x50f3cf){const _0x401dc7=a0_0x1e84a8;try{let _0x14569b=_0x23ebf2[_0x401dc7(0x425)]?.[_0x401dc7(0x186)](_0x4bdf50=>_0x4bdf50[_0x401dc7(0x7d7)]===_0x50f3cf['_id']?.[_0x401dc7(0x71c)]())||[],_0x32a4ad=_0x50f3cf['saveVariable'],_0x31fefd=null,_0x2eca4b=[],_0x30969e=_0x23ebf2[_0x401dc7(0x52c)][_0x401dc7(0x5df)][_0x32a4ad];_0x2eca4b['push'](_0x401dc7(0x2ac)+_0x30969e+'\x22');for(let _0x2d4b88 of _0x14569b){_0x2d4b88[_0x401dc7(0x29c)]=_0x30969e,_0x31fefd=_0x2d4b88[_0x401dc7(0x29c)];let _0x56c01c;try{_0x56c01c=this[_0x401dc7(0x598)](_0x23ebf2,_0x2d4b88);}catch(_0x397d3a){this['logger']['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x397d3a[_0x401dc7(0x4b3)]);continue;}if(_0x56c01c!==null){let _0x134904=_0x401dc7(0x27f)+_0x2d4b88[_0x401dc7(0x2b9)]+'\x22',_0x4ce1a0=[_0x401dc7(0x1c4),_0x401dc7(0x1f8),_0x401dc7(0x274),'capitalizedWords','trimmed'];_0x2d4b88['editOperator']===_0x401dc7(0x68a)||_0x2d4b88[_0x401dc7(0x2b9)]===_0x401dc7(0x86c)?_0x134904+=_0x401dc7(0x1fb)+_0x2d4b88['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x2d4b88['replaceValue']+'\x22':!_0x4ce1a0[_0x401dc7(0x371)](_0x2d4b88[_0x401dc7(0x2b9)])&&_0x2d4b88[_0x401dc7(0x415)]!==null&&_0x2d4b88['secondValue']!==void 0x0&&(_0x134904+=_0x401dc7(0x1ff)+_0x2d4b88[_0x401dc7(0x415)]+'\x22'),_0x134904+=_0x401dc7(0x120)+_0x56c01c+'.',_0x2eca4b[_0x401dc7(0x857)](_0x134904);}_0x56c01c!==null&&(_0x30969e=_0x56c01c);}if(_0x23ebf2[_0x401dc7(0x52c)][_0x401dc7(0x5df)]&&_0x50f3cf[_0x401dc7(0x636)]){_0x23ebf2[_0x401dc7(0x52c)]['realVariables'][_0x50f3cf[_0x401dc7(0x636)]]=_0x30969e;let _0x5511dc={'variable':_0x50f3cf[_0x401dc7(0x636)],'oldValue':_0x31fefd,'newValue':_0x30969e,'moreLogs':_0x2eca4b};try{this[_0x401dc7(0x463)](_0x23ebf2,_0x50f3cf,_0x5511dc);}catch(_0x49bde8){this[_0x401dc7(0x1a7)][_0x401dc7(0x31d)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x49bde8[_0x401dc7(0x4b3)]);}}return _0x32a4ad;}catch(_0x2db3da){return this['logger'][_0x401dc7(0x31d)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x2db3da[_0x401dc7(0x4b3)]),null;}}async[a0_0x1e84a8(0x1f0)](_0x17c8de,_0x3f62eb){const _0x31c576=a0_0x1e84a8;try{let _0x4b8e1c=[],_0x1565a4=_0x17c8de[_0x31c576(0x7ec)][_0x31c576(0x186)](_0x59593e=>_0x59593e['blockId']===_0x3f62eb[_0x31c576(0x3c4)][_0x31c576(0x71c)]()),_0x48c88e=null,_0x47b33b=!0x1;for(let _0x998973 of _0x1565a4){let _0x509299=this[_0x31c576(0x1d3)](_0x17c8de,_0x998973);_0x4b8e1c[_0x31c576(0x857)](_0x31c576(0x6c3)+_0x998973[_0x31c576(0x29c)]+_0x31c576(0x3cf)+_0x998973[_0x31c576(0x4a5)]+_0x31c576(0x196)+_0x998973[_0x31c576(0x415)]+_0x31c576(0x452)+_0x509299),_0x48c88e===null?_0x48c88e=_0x509299:_0x998973['OrAnd']===_0x31c576(0x53d)?(_0x48c88e=_0x48c88e&&_0x509299,_0x509299||(_0x47b33b=!0x0)):_0x998973['OrAnd']==='or'&&(_0x47b33b||(_0x48c88e=_0x48c88e||_0x509299));}_0x48c88e===null&&(_0x48c88e=!0x0);let _0x2235a0={'moreLogs':_0x4b8e1c};_0x17c8de[_0x31c576(0x52c)][_0x31c576(0x414)]=_0x48c88e,await this[_0x31c576(0x463)](_0x17c8de,_0x3f62eb,_0x2235a0);}catch(_0x1d186d){this[_0x31c576(0x1a7)][_0x31c576(0x31d)](this['instanceName']+'\x20('+this[_0x31c576(0x1d9)]['wuid']+_0x31c576(0x321)+(_0x1d186d instanceof Error?_0x1d186d['message']:JSON[_0x31c576(0x732)](_0x1d186d,null,0x2)));}}[a0_0x1e84a8(0x1d3)](_0x18678b,_0x1d76d8){const _0x3cede3=a0_0x1e84a8;let _0x3c4476=_0x1d76d8[_0x3cede3(0x29c)],_0x724fed=_0x1d76d8[_0x3cede3(0x415)];typeof _0x3c4476==_0x3cede3(0x190)&&(_0x3c4476=this[_0x3cede3(0x115)](_0x3c4476,_0x18678b[_0x3cede3(0x52c)][_0x3cede3(0x5df)])??''),typeof _0x724fed==_0x3cede3(0x190)&&(_0x724fed=this[_0x3cede3(0x115)](_0x724fed,_0x18678b[_0x3cede3(0x52c)][_0x3cede3(0x5df)])??'');try{switch(_0x1d76d8[_0x3cede3(0x4a5)]){case'equal':return _0x3c4476===_0x724fed;case'notEqual':return _0x3c4476!==_0x724fed;case _0x3cede3(0x4f6):return this['contains'](_0x3c4476,_0x724fed);case _0x3cede3(0x514):return!this[_0x3cede3(0x4f6)](_0x3c4476,_0x724fed);case _0x3cede3(0x6eb):return parseFloat(_0x3c4476)>parseFloat(_0x724fed);case _0x3cede3(0x2ef):return parseFloat(_0x3c4476)<parseFloat(_0x724fed);case _0x3cede3(0x4a1):return _0x3c4476!=='';case _0x3cede3(0x54f):return _0x3c4476==='';case _0x3cede3(0x4a6):return new RegExp(_0x724fed)[_0x3cede3(0x33b)](_0x3c4476);case _0x3cede3(0x4af):return!new RegExp(_0x724fed)[_0x3cede3(0x33b)](_0x3c4476);default:return!0x1;}}catch(_0x18c2fe){return this[_0x3cede3(0x1a7)]['error'](_0x3cede3(0x55e)+_0x18c2fe),!0x1;}}[a0_0x1e84a8(0x4f6)](_0x37701d,_0x3e086d){const _0x2ab4d4=a0_0x1e84a8;if(_0x37701d===_0x3e086d&&/^\d+$/[_0x2ab4d4(0x33b)](_0x37701d))return!0x0;if(this[_0x2ab4d4(0x255)](_0x37701d)&&/^\d+$/['test'](_0x3e086d)){let _0xd967c9=_0x37701d['split'](',')[_0x2ab4d4(0x7b9)](_0xb6e27a=>parseInt(_0xb6e27a[_0x2ab4d4(0x1e8)]())),_0x10db43=parseInt(_0x3e086d);return _0xd967c9[_0x2ab4d4(0x371)](_0x10db43);}return _0x37701d[_0x2ab4d4(0x371)](_0x3e086d);}[a0_0x1e84a8(0x255)](_0x2cb9a3){const _0xb0d99b=a0_0x1e84a8;return/^\d+(,\d+)*$/[_0xb0d99b(0x33b)](_0x2cb9a3);}[a0_0x1e84a8(0x575)](_0x6ba59f){const _0x1b35fe=a0_0x1e84a8;let _0x401ba1=!0x0,_0x475b05=null;for(let _0x59e85c of _0x6ba59f){let _0x373f3d=this[_0x1b35fe(0x80f)](_0x59e85c);if(_0x475b05==='or'&&_0x373f3d){_0x401ba1=!0x0;break;}if(_0x475b05===_0x1b35fe(0x53d)&&!_0x373f3d){_0x401ba1=!0x1;break;}_0x475b05=_0x59e85c[_0x1b35fe(0x58f)];}return _0x401ba1;}[a0_0x1e84a8(0x80f)](_0x1e6a22){const _0x1e005f=a0_0x1e84a8;let _0x10385d=_0x1e6a22[_0x1e005f(0x29c)],_0x5955e9=_0x1e6a22[_0x1e005f(0x415)];try{switch(_0x1e6a22['expression']){case _0x1e005f(0x6e0):return String(_0x10385d)===String(_0x5955e9);case _0x1e005f(0x105):return String(_0x10385d)!==String(_0x5955e9);case _0x1e005f(0x4f6):return String(_0x10385d)[_0x1e005f(0x371)](String(_0x5955e9));case _0x1e005f(0x514):return!String(_0x10385d)[_0x1e005f(0x371)](String(_0x5955e9));case _0x1e005f(0x6eb):return parseFloat(String(_0x10385d))>parseFloat(String(_0x5955e9));case _0x1e005f(0x2ef):return parseFloat(String(_0x10385d))<parseFloat(String(_0x5955e9));case _0x1e005f(0x4a1):return String(_0x10385d)!=='';case _0x1e005f(0x54f):return String(_0x10385d)==='';case'matchRegex':return new RegExp(String(_0x5955e9))[_0x1e005f(0x33b)](String(_0x10385d));case _0x1e005f(0x4af):return!new RegExp(String(_0x5955e9))[_0x1e005f(0x33b)](String(_0x10385d));default:return!0x1;}}catch(_0x152579){return this[_0x1e005f(0x1a7)][_0x1e005f(0x31d)](_0x1e005f(0x55e)+_0x152579),!0x1;}}async[a0_0x1e84a8(0x6e6)](_0x385bde,_0x3cbae1){const _0x55586f=a0_0x1e84a8;if(this['logger'][_0x55586f(0x7ba)](this[_0x55586f(0x3a0)]+'\x20('+this[_0x55586f(0x1d9)][_0x55586f(0x40b)]+_0x55586f(0x1e9)),!_0x385bde||!_0x3cbae1)return this[_0x55586f(0x1a7)][_0x55586f(0x31d)](this[_0x55586f(0x3a0)]+'\x20('+this['instance'][_0x55586f(0x40b)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x40a207=_0x385bde[_0x55586f(0x52c)]['lastReceivedMessage'][_0x55586f(0x37f)]['id'];this[_0x55586f(0x1a7)]['verbose'](this[_0x55586f(0x3a0)]+'\x20('+this[_0x55586f(0x1d9)][_0x55586f(0x40b)]+_0x55586f(0x4a9)+_0x40a207);let _0xfbcbab={'key':{'id':_0x40a207}},_0x4d49bc=_0x3cbae1[_0x55586f(0x636)];_0x385bde[_0x55586f(0x52c)]['realVariables']['_'+_0x4d49bc+_0x55586f(0x304)]=null,_0x385bde['chatLog'][_0x55586f(0x5df)]['_'+_0x4d49bc+_0x55586f(0x11f)]=null,_0x385bde[_0x55586f(0x52c)][_0x55586f(0x5df)]['_'+_0x4d49bc+_0x55586f(0x438)]=null,_0x385bde['chatLog'][_0x55586f(0x5df)]['_'+_0x4d49bc+_0x55586f(0x4fd)]=_0x385bde[_0x55586f(0x52c)][_0x55586f(0x44e)][_0x55586f(0x749)];try{let _0x1b9001=await this['getBase64FromMediaMessage'](_0xfbcbab);this[_0x55586f(0x1a7)]['verbose'](this['instanceName']+'\x20('+this[_0x55586f(0x1d9)][_0x55586f(0x40b)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x385bde[_0x55586f(0x52c)][_0x55586f(0x5df)]['_'+_0x4d49bc+'.url']=_0x1b9001[_0x55586f(0x372)],_0x385bde['chatLog']['realVariables']['_'+_0x4d49bc+_0x55586f(0x11f)]=_0x1b9001[_0x55586f(0x314)];let _0x357d95=_0x1b9001[_0x55586f(0x314)][_0x55586f(0x7f2)](/\/(\w+)$/),_0x53dc1a=_0x357d95?_0x357d95[0x1]:null;_0x385bde['chatLog'][_0x55586f(0x5df)]['_'+_0x4d49bc+_0x55586f(0x438)]=_0x53dc1a,this[_0x55586f(0x1a7)][_0x55586f(0x7ba)](this[_0x55586f(0x3a0)]+'\x20('+this[_0x55586f(0x1d9)][_0x55586f(0x40b)]+_0x55586f(0x78d)+_0x4d49bc+'\x27.');}catch(_0x32c336){this[_0x55586f(0x1a7)]['error'](this[_0x55586f(0x3a0)]+'\x20('+this[_0x55586f(0x1d9)][_0x55586f(0x40b)]+_0x55586f(0x630)+_0x32c336['message']);}let _0x392517=_0x385bde[_0x55586f(0x52c)][_0x55586f(0x44e)]['text']||_0x385bde[_0x55586f(0x52c)][_0x55586f(0x44e)][_0x55586f(0x1cc)]||_0x385bde[_0x55586f(0x52c)][_0x55586f(0x44e)]['vote'];try{_0x385bde[_0x55586f(0x52c)][_0x55586f(0x5df)]||(_0x385bde['chatLog'][_0x55586f(0x5df)]={});let _0x2ebe19=_0x385bde[_0x55586f(0x52c)]['realVariables'][_0x4d49bc];_0x385bde[_0x55586f(0x52c)][_0x55586f(0x5df)][_0x4d49bc]=_0x392517;let _0x19ded3={'variable':_0x4d49bc,'oldValue':_0x2ebe19,'newValue':_0x392517};this[_0x55586f(0x463)](_0x385bde,_0x3cbae1,_0x19ded3),this[_0x55586f(0x1a7)][_0x55586f(0x7ba)](this[_0x55586f(0x3a0)]+'\x20('+this[_0x55586f(0x1d9)][_0x55586f(0x40b)]+_0x55586f(0x30e));}catch(_0x3eddc2){let _0x3a5780={'error':!0x0,'errorLog':_0x3eddc2[_0x55586f(0x71c)]()};return this['updateConversation'](_0x385bde,_0x3cbae1,_0x3a5780),this[_0x55586f(0x1a7)][_0x55586f(0x31d)](this[_0x55586f(0x3a0)]+'\x20('+this[_0x55586f(0x1d9)][_0x55586f(0x40b)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x3eddc2 instanceof Error?_0x3eddc2['message']:JSON[_0x55586f(0x732)](_0x3eddc2,null,0x2))),null;}}async[a0_0x1e84a8(0x328)](_0x3234f2,_0x440def){const _0x265d2c=a0_0x1e84a8;if(this[_0x265d2c(0x1a7)]['verbose'](this[_0x265d2c(0x3a0)]+'\x20('+this[_0x265d2c(0x1d9)][_0x265d2c(0x40b)]+_0x265d2c(0x1af)),!_0x3234f2||!_0x440def)return this[_0x265d2c(0x1a7)][_0x265d2c(0x31d)](this[_0x265d2c(0x3a0)]+'\x20('+this['instance'][_0x265d2c(0x40b)]+_0x265d2c(0x364)),null;let _0x5847a1=Date[_0x265d2c(0x3ca)](),_0x374a55=parseInt(_0x440def[_0x265d2c(0x214)],0xa);if(isNaN(_0x374a55))return this['logger']['error'](this[_0x265d2c(0x3a0)]+'\x20('+this['instance'][_0x265d2c(0x40b)]+_0x265d2c(0x856)),null;let _0x404140={'newStoppedUntil':_0x5847a1+_0x374a55*0x3c*0x3e8};return await this['updateConversation'](_0x3234f2,_0x440def,_0x404140,!0x0),null;}async[a0_0x1e84a8(0x42c)](_0x3d0c07,_0x1d8e0f){const _0x18df9c=a0_0x1e84a8;try{switch(_0x1d8e0f[_0x18df9c(0x38f)][_0x18df9c(0x694)]){case'sendText':await this[_0x18df9c(0x534)](_0x3d0c07,_0x1d8e0f);break;case _0x18df9c(0x5f1):await this[_0x18df9c(0x3de)](_0x3d0c07,_0x1d8e0f);break;case _0x18df9c(0x260):await this[_0x18df9c(0x1f5)](_0x3d0c07,_0x1d8e0f);break;case _0x18df9c(0x78f):await this['uazapiSendAudio'](_0x3d0c07,_0x1d8e0f);break;case _0x18df9c(0x366):await this[_0x18df9c(0x65e)](_0x3d0c07,_0x1d8e0f);break;case _0x18df9c(0x380):await this[_0x18df9c(0x5e5)](_0x3d0c07,_0x1d8e0f);break;case _0x18df9c(0x41b):await this[_0x18df9c(0x5e5)](_0x3d0c07,_0x1d8e0f);break;case _0x18df9c(0x426):await this[_0x18df9c(0x744)](_0x3d0c07,_0x1d8e0f);break;default:this[_0x18df9c(0x1a7)][_0x18df9c(0x31d)](this[_0x18df9c(0x3a0)]+'\x20('+this[_0x18df9c(0x1d9)][_0x18df9c(0x40b)]+_0x18df9c(0x595)+_0x1d8e0f['uazapi'][_0x18df9c(0x694)]);}}catch(_0x18dccd){this[_0x18df9c(0x1a7)][_0x18df9c(0x31d)](this[_0x18df9c(0x3a0)]+'\x20('+this[_0x18df9c(0x1d9)][_0x18df9c(0x40b)]+_0x18df9c(0x330)+(_0x18dccd instanceof Error?_0x18dccd['message']:JSON[_0x18df9c(0x732)](_0x18dccd,null,0x2)));}}async[a0_0x1e84a8(0x463)](_0x598d20,_0x25b01f,_0x461667,_0x543a39=!0x1,_0x5168ec=!0x1){const _0x90e11b=a0_0x1e84a8;_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x315)]||(_0x598d20['chatLog'][_0x90e11b(0x315)]=[]);let _0xc6fef4=(_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x315)]?.[_0x90e11b(0x124)]??0x0)+0x1,_0x4b9980=_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x315)][_0x90e11b(0x186)](_0x4097db=>String(_0x4097db[_0x90e11b(0x7d7)])===String(_0x25b01f[_0x90e11b(0x3c4)]))[_0x90e11b(0x124)]+0x1,_0x16b09a=_0x461667?.[_0x90e11b(0x2fe)]??Date[_0x90e11b(0x3ca)](),_0x2765c3=_0x461667?.['error']?_0x461667['errorLog']??_0x461667[_0x90e11b(0x31d)][_0x90e11b(0x71c)]():void 0x0,_0x51035d={'onTime':_0x16b09a,'blockId':_0x25b01f[_0x90e11b(0x3c4)],'order':_0xc6fef4,'activatedCount':_0x4b9980,'error':_0x461667?.[_0x90e11b(0x31d)]??!0x1,'messageId':_0x461667?.[_0x90e11b(0x647)],'apiResponse':_0x461667?.[_0x90e11b(0x450)],'apiResponseString':_0x461667?.[_0x90e11b(0x450)]?JSON[_0x90e11b(0x732)](_0x461667?.[_0x90e11b(0x450)]):void 0x0,'variable':_0x461667?.[_0x90e11b(0x403)],'oldValue':_0x461667?.[_0x90e11b(0x51b)],'newValue':_0x461667?.[_0x90e11b(0x758)],'newStoppedUntil':_0x461667?.[_0x90e11b(0x877)],'moreLogs':_0x461667?.[_0x90e11b(0x3b1)],'errorLog':_0x2765c3};if(_0x461667[_0x90e11b(0x3b1)]&&_0x461667['moreLogs'][_0x90e11b(0x124)]>0x0){let _0x17695f=_0x461667['moreLogs']['map'](_0x553c16=>this['replaceVariablesLogs'](_0x553c16,_0x598d20[_0x90e11b(0x52c)]['realVariables']));_0x51035d[_0x90e11b(0x3b1)]=_0x17695f;}if(_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x5df)]||(_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x5df)]={}),_0x598d20[_0x90e11b(0x52c)]['realVariables']['_activatedCount']=String(_0x4b9980),_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x5df)][_0x90e11b(0x495)]=String(_0x461667[_0x90e11b(0x31d)]??!0x1),_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x315)]['push'](_0x51035d),_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x5df)][_0x90e11b(0x6b5)]&&_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x5df)][_0x90e11b(0x6b5)]!==_0x598d20[_0x90e11b(0x6aa)]){let _0x48fd75=(await this[_0x90e11b(0x5d2)]({'numbers':[_0x598d20['chatLog']['realVariables'][_0x90e11b(0x6b5)]]}))[0x0][_0x90e11b(0x400)];_0x598d20['chatLog'][_0x90e11b(0x5df)][_0x90e11b(0x6b5)]=_0x48fd75,_0x598d20['remoteJid']=_0x48fd75;try{let _0x1ed07a={'_id':{'$ne':_0x598d20[_0x90e11b(0x3c4)]},'remoteJid':_0x48fd75,'status':'open'},_0x195075={'status':_0x90e11b(0x3be)};await this[_0x90e11b(0x2d1)][_0x90e11b(0x689)][_0x90e11b(0x74a)](_0x1ed07a,_0x195075,this[_0x90e11b(0x1d9)]['wuid']),this['logger'][_0x90e11b(0x7ba)](this[_0x90e11b(0x3a0)]+'\x20('+this['instance'][_0x90e11b(0x40b)]+_0x90e11b(0x776));}catch(_0x55f01b){this[_0x90e11b(0x1a7)][_0x90e11b(0x31d)](this[_0x90e11b(0x3a0)]+'\x20('+this[_0x90e11b(0x1d9)][_0x90e11b(0x40b)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x55f01b[_0x90e11b(0x4b3)]);}try{let _0x277b8b=_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x5df)],_0x53adc1=await this[_0x90e11b(0x332)](_0x48fd75),_0x5102c0={..._0x277b8b,..._0x53adc1,'_remoteJid':_0x48fd75};_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x5df)]=_0x5102c0;}catch(_0x28f53e){this['logger'][_0x90e11b(0x31d)](this[_0x90e11b(0x3a0)]+'\x20('+this[_0x90e11b(0x1d9)][_0x90e11b(0x40b)]+_0x90e11b(0x509)+_0x28f53e[_0x90e11b(0x4b3)]);}}_0x598d20['chatLog'][_0x90e11b(0x3df)]=_0x25b01f[_0x90e11b(0x3c4)][_0x90e11b(0x71c)](),_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x66a)]&&(_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x66a)]=_0x598d20['chatLog'][_0x90e11b(0x66a)]),_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x44e)]&&(_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x44e)]=_0x598d20[_0x90e11b(0x52c)]['lastReceivedMessage']),_0x598d20['chatLog'][_0x90e11b(0x414)]&&(_0x598d20[_0x90e11b(0x52c)][_0x90e11b(0x414)]=_0x598d20['chatLog']['lastCondition']),_0x5168ec&&(_0x598d20[_0x90e11b(0x612)]=_0x90e11b(0x3be)),_0x543a39?this[_0x90e11b(0x43d)](_0x598d20):this['goNextblock'](_0x598d20,_0x25b01f);}[a0_0x1e84a8(0x2ad)](_0xe99083,_0x333646){const _0x47b98c=a0_0x1e84a8;return _0xe99083[_0x47b98c(0x122)](/\{\{([^}]+)\}\}/g,(_0x17d4a4,_0x1798a8)=>_0x333646[_0x1798a8]?'{{'+_0x1798a8+_0x47b98c(0x21e)+_0x333646[_0x1798a8]+'\x22':'{{'+_0x1798a8+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x1e84a8(0x43d)](_0x3fe42d){const _0x2ba3e8=a0_0x1e84a8;try{let _0x546992=Object[_0x2ba3e8(0x40e)](_0x3fe42d[_0x2ba3e8(0x52c)][_0x2ba3e8(0x5df)])[_0x2ba3e8(0x7b9)](([_0x563945,_0x2b3731])=>({'name':_0x563945,'value':_0x2b3731})),_0x7be151={'status':_0x3fe42d[_0x2ba3e8(0x612)],'remoteJid':_0x3fe42d[_0x2ba3e8(0x6aa)],'blocks':_0x3fe42d[_0x2ba3e8(0x5f4)],'waitingMenu_id':_0x3fe42d['waitingMenu_id'],'waitingMenu_text':_0x3fe42d[_0x2ba3e8(0x446)],'waitingMenu_replyOptions':_0x3fe42d[_0x2ba3e8(0x27b)],'chatLog':{'lastBlockId':_0x3fe42d[_0x2ba3e8(0x52c)][_0x2ba3e8(0x3df)],'lastSendMessage':_0x3fe42d[_0x2ba3e8(0x52c)][_0x2ba3e8(0x66a)],'lastReceivedMessage':_0x3fe42d['chatLog'][_0x2ba3e8(0x44e)],'lastCondition':_0x3fe42d[_0x2ba3e8(0x52c)][_0x2ba3e8(0x414)],'chatVariables':_0x546992,'realVariables':_0x3fe42d[_0x2ba3e8(0x52c)][_0x2ba3e8(0x5df)],'blockLogs':_0x3fe42d[_0x2ba3e8(0x52c)][_0x2ba3e8(0x315)]}},_0x1a7d95=await this[_0x2ba3e8(0x2d1)][_0x2ba3e8(0x689)][_0x2ba3e8(0x3fe)](_0x3fe42d[_0x2ba3e8(0x3c4)],_0x7be151,this[_0x2ba3e8(0x1d9)][_0x2ba3e8(0x40b)]);if(_0x1a7d95){this[_0x2ba3e8(0x1a7)][_0x2ba3e8(0x7ba)](this[_0x2ba3e8(0x3a0)]+'\x20('+this[_0x2ba3e8(0x1d9)][_0x2ba3e8(0x40b)]+_0x2ba3e8(0x197)+_0x1a7d95[_0x2ba3e8(0x3c4)]);try{let _0x1713a4=[_0x2ba3e8(0x116),_0x2ba3e8(0x6b6),_0x2ba3e8(0x79e),_0x2ba3e8(0x19c),_0x2ba3e8(0x612),_0x2ba3e8(0x357),_0x2ba3e8(0x720),_0x2ba3e8(0x84f),_0x2ba3e8(0x4e1),_0x2ba3e8(0x846)];if(!this[_0x2ba3e8(0x289)]&&(await this[_0x2ba3e8(0x15c)](),!this[_0x2ba3e8(0x289)]))throw new Error(_0x2ba3e8(0x349));let _0xcacf0d=this[_0x2ba3e8(0x289)]?.[_0x2ba3e8(0x569)][_0x2ba3e8(0x7b9)](_0x2147d5=>_0x2147d5[_0x2ba3e8(0x2c3)]),_0x738f41={};Object[_0x2ba3e8(0x40e)](_0x3fe42d[_0x2ba3e8(0x52c)]['realVariables'])[_0x2ba3e8(0x154)](([_0x397f35,_0x43f74a])=>{const _0x5ab651=_0x2ba3e8;_0x1713a4['includes'](_0x397f35)&&(_0x397f35===_0x5ab651(0x84f)&&typeof _0x43f74a==_0x5ab651(0x190)?_0x738f41[_0x397f35]=_0x43f74a[_0x5ab651(0x4c1)](',')['map'](_0x27735f=>_0x27735f[_0x5ab651(0x1e8)]())[_0x5ab651(0x186)](_0x1299b3=>_0x1299b3!==''):_0x397f35===_0x5ab651(0x4e1)&&typeof _0x43f74a==_0x5ab651(0x190)?_0x738f41[_0x397f35]=_0x43f74a[_0x5ab651(0x4c1)](',')[_0x5ab651(0x7b9)](_0x607dd5=>_0x607dd5['trim']())[_0x5ab651(0x186)](_0x19a0b1=>_0x19a0b1!==''):_0x738f41[_0x397f35]=_0x43f74a);});let _0x1742a7=_0x3fe42d[_0x2ba3e8(0x52c)][_0x2ba3e8(0x315)][_0x3fe42d[_0x2ba3e8(0x52c)][_0x2ba3e8(0x315)][_0x2ba3e8(0x124)]-0x1];if(_0x1742a7){let _0x1f85ee=_0x1742a7['newStoppedUntil'];_0x1f85ee!==void 0x0&&(_0x738f41[_0x2ba3e8(0x632)]=_0x1f85ee['toString']());}let _0x31c080=_0x546992[_0x2ba3e8(0x186)](_0x21f8ce=>_0xcacf0d[_0x2ba3e8(0x371)](_0x21f8ce['name']));this[_0x2ba3e8(0x1a7)][_0x2ba3e8(0x7ba)](this['instanceName']+'\x20('+this[_0x2ba3e8(0x1d9)][_0x2ba3e8(0x40b)]+_0x2ba3e8(0x224)),this[_0x2ba3e8(0x1a7)][_0x2ba3e8(0x7ba)](_0x738f41),this[_0x2ba3e8(0x1a7)][_0x2ba3e8(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x2ba3e8(0x40b)]+_0x2ba3e8(0x228)),this[_0x2ba3e8(0x1a7)][_0x2ba3e8(0x7ba)](_0x31c080);let _0x2c9d77=_0x31c080[_0x2ba3e8(0x7b9)](_0x2414a9=>{const _0x270af8=_0x2ba3e8;let _0x1a9739=this['AutomateSystem']?.['customFields'][_0x270af8(0x6a6)](_0x1fb78b=>_0x1fb78b['name']===_0x2414a9['name']);if(!_0x1a9739)throw new Error(_0x270af8(0x1ed)+_0x2414a9['name']);return{'_id':_0x1a9739[_0x270af8(0x3c4)],'value':_0x2414a9[_0x270af8(0x187)]};});this[_0x2ba3e8(0x1a7)][_0x2ba3e8(0x7ba)](this['instanceName']+'\x20('+this[_0x2ba3e8(0x1d9)][_0x2ba3e8(0x40b)]+_0x2ba3e8(0x3a8)),this[_0x2ba3e8(0x1a7)][_0x2ba3e8(0x7ba)](_0x2c9d77),await this[_0x2ba3e8(0x699)](_0x3fe42d[_0x2ba3e8(0x6aa)],_0x738f41,_0x2c9d77);}catch(_0x1f7e34){this['logger'][_0x2ba3e8(0x31d)](this[_0x2ba3e8(0x3a0)]+'\x20('+this[_0x2ba3e8(0x1d9)][_0x2ba3e8(0x40b)]+_0x2ba3e8(0x437)+(_0x1f7e34 instanceof Error?_0x1f7e34[_0x2ba3e8(0x4b3)]:JSON[_0x2ba3e8(0x732)](_0x1f7e34,null,0x2)));}}else this['logger'][_0x2ba3e8(0x31d)](this[_0x2ba3e8(0x3a0)]+'\x20('+this[_0x2ba3e8(0x1d9)][_0x2ba3e8(0x40b)]+_0x2ba3e8(0x7e2));}catch(_0x36e621){this[_0x2ba3e8(0x1a7)][_0x2ba3e8(0x31d)](this[_0x2ba3e8(0x3a0)]+'\x20('+this[_0x2ba3e8(0x1d9)]['wuid']+_0x2ba3e8(0x148)+(_0x36e621 instanceof Error?_0x36e621['message']:JSON['stringify'](_0x36e621,null,0x2)));}}async[a0_0x1e84a8(0x699)](_0x4f3188,_0x583add,_0x406866){const _0x44104d=a0_0x1e84a8;try{let _0x1fe530={'leadInfo.leadnome':_0x583add[_0x44104d(0x116)],'leadInfo.nomecompleto':_0x583add[_0x44104d(0x6b6)],'leadInfo.email':_0x583add[_0x44104d(0x79e)],'leadInfo.cpf':_0x583add[_0x44104d(0x19c)],'leadInfo.status':_0x583add['status'],'leadInfo.notas':_0x583add[_0x44104d(0x357)],'leadInfo.responsavelid':_0x583add['responsavelid'],'leadInfo.tags':_0x583add[_0x44104d(0x84f)],'leadInfo.etiquetas':_0x583add[_0x44104d(0x4e1)],'leadInfo.customFields':_0x406866,'leadInfo.atendimentoAberto':_0x583add[_0x44104d(0x846)]},_0xf85dd9=await this['repository'][_0x44104d(0x7e6)][_0x44104d(0x688)]({'where':{'_id':_0x4f3188}},this['instance'][_0x44104d(0x40b)]);if(!_0xf85dd9)return _0x44104d(0x577);let _0xad2f45=new Set(_0xf85dd9[_0x44104d(0x2ab)][_0x44104d(0x4e1)]||[]),_0x4ac3af=new Set(_0x583add[_0x44104d(0x4e1)]||[]),_0x7b5790=await this[_0x44104d(0x2d1)][_0x44104d(0x44f)][_0x44104d(0x6a6)]({'where':{}},this[_0x44104d(0x1d9)]['wuid']),_0x16246b=new Set(_0x7b5790[_0x44104d(0x7b9)](_0x50391e=>_0x50391e[_0x44104d(0x3c4)])),_0xc09958=[..._0x4ac3af][_0x44104d(0x186)](_0xfe5080=>!_0xad2f45[_0x44104d(0x252)](_0xfe5080)&&_0x16246b['has'](_0xfe5080)),_0x6d2022=[..._0xad2f45][_0x44104d(0x186)](_0x251169=>!_0x4ac3af['has'](_0x251169));for(let _0x42b743 of _0xc09958)await this[_0x44104d(0x68f)](_0x42b743,_0xf85dd9[_0x44104d(0x3c4)]),_0xad2f45[_0x44104d(0x5f3)](_0x42b743);for(let _0x16626a of _0x6d2022)await this[_0x44104d(0x64c)](_0x16626a,_0xf85dd9[_0x44104d(0x3c4)]),_0xad2f45[_0x44104d(0x185)](_0x16626a);if(_0x44104d(0x632)in _0x583add){let _0xd4ba02=_0x583add[_0x44104d(0x632)];_0x1fe530[_0x44104d(0x282)]=_0xd4ba02?Number(_0xd4ba02):null;}if(_0x44104d(0x846)in _0x583add){let _0x4eb653=_0x583add[_0x44104d(0x846)][_0x44104d(0x77a)]();_0x1fe530[_0x44104d(0x37a)]=_0x4eb653==='true'||_0x4eb653==='1'||_0x4eb653===_0x44104d(0x6ec)||_0x4eb653==='sim';}let _0x46a7e8=await this['repository'][_0x44104d(0x7e6)][_0x44104d(0x3fe)]({'where':{'_id':_0x4f3188}},_0x1fe530,this[_0x44104d(0x1d9)][_0x44104d(0x40b)]);_0x46a7e8?(this[_0x44104d(0x1a7)][_0x44104d(0x7ba)](this['instanceName']+'\x20('+this[_0x44104d(0x1d9)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x46a7e8[_0x44104d(0x3c4)]),F(this[_0x44104d(0x3a0)],_0x44104d(0x16d),{'chat':_0x46a7e8})):this[_0x44104d(0x1a7)]['error'](this['instanceName']+'\x20('+this[_0x44104d(0x1d9)][_0x44104d(0x40b)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x303410){this[_0x44104d(0x1a7)][_0x44104d(0x31d)](this[_0x44104d(0x3a0)]+'\x20('+this[_0x44104d(0x1d9)][_0x44104d(0x40b)]+_0x44104d(0x23e)+(_0x303410 instanceof Error?_0x303410['message']:JSON[_0x44104d(0x732)](_0x303410,null,0x2)));}}async[a0_0x1e84a8(0x4c2)](_0x4b7645,_0x4985e2){const _0xfd10d4=a0_0x1e84a8;this[_0xfd10d4(0x1a7)][_0xfd10d4(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0xfd10d4(0x40b)]+_0xfd10d4(0x213)+_0x4985e2);try{let _0x242092=await this[_0xfd10d4(0x2d1)][_0xfd10d4(0x7e6)][_0xfd10d4(0x3fe)]({'where':{'_id':_0x4b7645[_0xfd10d4(0x6aa)]}},{'leadInfo.desativadoFluxoAte':_0x4985e2},this['instance']['wuid']);this[_0xfd10d4(0x1a7)]['verbose'](this['instanceName']+'\x20('+this[_0xfd10d4(0x1d9)][_0xfd10d4(0x40b)]+_0xfd10d4(0x140)+_0x4b7645['_id']),this[_0xfd10d4(0x1a7)][_0xfd10d4(0x7ba)](this['instanceName']+'\x20('+this[_0xfd10d4(0x1d9)][_0xfd10d4(0x40b)]+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0x242092,null,0x2)),_0x242092&&F(this[_0xfd10d4(0x3a0)],_0xfd10d4(0x16d),{'chat':_0x242092});}catch(_0x4419f6){this[_0xfd10d4(0x1a7)][_0xfd10d4(0x31d)](this[_0xfd10d4(0x3a0)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x4419f6 instanceof Error?_0x4419f6['message']:JSON['stringify'](_0x4419f6,null,0x2)));}}async[a0_0x1e84a8(0x286)](_0x1ccee0){const _0x164a41=a0_0x1e84a8;try{this[_0x164a41(0x1a7)][_0x164a41(0x7ba)](this[_0x164a41(0x3a0)]+'\x20('+this[_0x164a41(0x1d9)]['wuid']+_0x164a41(0x599));let _0x4a22ac=_0x1ccee0[_0x164a41(0x122)](/\D/g,''),_0x21d87d=this['AutomateSystem'][_0x164a41(0x2cc)]['find'](_0x949ead=>_0x949ead[_0x164a41(0x51e)]===_0x4a22ac);if(_0x21d87d||(this[_0x164a41(0x1a7)][_0x164a41(0x7ba)](this[_0x164a41(0x3a0)]+'\x20('+this[_0x164a41(0x1d9)][_0x164a41(0x40b)]+_0x164a41(0x2ec)),_0x21d87d=this[_0x164a41(0x289)][_0x164a41(0x2cc)][_0x164a41(0x6a6)](_0x3bb91f=>_0x3bb91f[_0x164a41(0x50f)]===!0x0)),!_0x21d87d)return this['logger']['verbose'](this[_0x164a41(0x3a0)]+'\x20('+this['instance'][_0x164a41(0x40b)]+_0x164a41(0x49c)),null;let _0xd5fb07=await this[_0x164a41(0x2d1)]['flow'][_0x164a41(0x688)]({'where':{'_id':_0x21d87d[_0x164a41(0x3c4)]}});if(!_0xd5fb07||!_0xd5fb07[_0x164a41(0x7d3)]?.[_0x164a41(0x371)](this['instance'][_0x164a41(0x40b)]))throw this[_0x164a41(0x1a7)][_0x164a41(0x31d)](this[_0x164a41(0x3a0)]+'\x20('+this[_0x164a41(0x1d9)][_0x164a41(0x40b)]+'):\x20Flow\x20\x27'+_0xd5fb07[_0x164a41(0x3c4)]+_0x164a41(0x491)),new m(_0x164a41(0x1bf)+_0xd5fb07[_0x164a41(0x3c4)]+_0x164a41(0x491));return _0xd5fb07;}catch(_0x39cf63){return this[_0x164a41(0x1a7)][_0x164a41(0x31d)](this[_0x164a41(0x3a0)]+'\x20('+this[_0x164a41(0x1d9)][_0x164a41(0x40b)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x39cf63 instanceof Error?_0x39cf63[_0x164a41(0x4b3)]:JSON[_0x164a41(0x732)](_0x39cf63,null,0x2))),null;}}async[a0_0x1e84a8(0x2b4)](_0x2d5107,_0x3f3536){const _0x298c1f=a0_0x1e84a8;try{let _0x18e170=!!_0x3f3536[_0x298c1f(0x618)],_0x1922c5=_0x3f3536[_0x298c1f(0x6f0)],_0x2ecacd=null;if(this['logger'][_0x298c1f(0x7ba)](this[_0x298c1f(0x3a0)]+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+_0x298c1f(0x3b3)+_0x18e170+'\x20quoted:\x20'+_0x1922c5),_0x18e170){this['logger'][_0x298c1f(0x7ba)](this['instanceName']+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x2dd19b={'where':{'remoteJid':_0x2d5107,'waitingMenu_id':_0x1922c5}};if(_0x2ecacd=await this[_0x298c1f(0x2d1)]['flowConversation']['findOne'](_0x2dd19b,this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]),!_0x2ecacd)return this[_0x298c1f(0x1a7)][_0x298c1f(0x7ba)](this[_0x298c1f(0x3a0)]+'\x20('+this['instance'][_0x298c1f(0x40b)]+'):\x20não\x20encontrou'),null;let _0x8fca6f=Date[_0x298c1f(0x3ca)](),_0x3a8329=_0x2ecacd?.[_0x298c1f(0x23c)]||0x0,_0x4a0dde=_0x8fca6f-_0x3a8329*0x3c*0x3e8;if(_0x2ecacd['lastInteraction']<_0x4a0dde){this[_0x298c1f(0x1a7)][_0x298c1f(0x7ba)](this[_0x298c1f(0x3a0)]+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+_0x298c1f(0x596));let _0x443e60={'number':_0x2ecacd[_0x298c1f(0x6aa)],'options':{'delay':0x0},'textMessage':{'text':_0x2ecacd[_0x298c1f(0x55b)]}};await this[_0x298c1f(0x37d)](_0x443e60);let _0x51e058={'status':_0x298c1f(0x3be),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x298c1f(0x2d1)][_0x298c1f(0x689)][_0x298c1f(0x3fe)](_0x2ecacd[_0x298c1f(0x3c4)],_0x51e058,this[_0x298c1f(0x1d9)]['wuid']),null;}return _0x2ecacd['lastInteraction']=Date[_0x298c1f(0x3ca)](),_0x2ecacd['chatLog'][_0x298c1f(0x44e)]=_0x3f3536,_0x2ecacd;}else{this[_0x298c1f(0x1a7)]['verbose'](this[_0x298c1f(0x3a0)]+'\x20('+this[_0x298c1f(0x1d9)]['wuid']+_0x298c1f(0x52a)+this[_0x298c1f(0x1d9)]['wuid']+_0x298c1f(0x5d4)),this[_0x298c1f(0x1a7)][_0x298c1f(0x7ba)](this['instanceName']+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+_0x298c1f(0x851));let _0x1f8eb5={'where':{'remoteJid':_0x2d5107,'status':_0x298c1f(0x493)}};if(_0x2ecacd=await this[_0x298c1f(0x2d1)]['flowConversation']['findOne'](_0x1f8eb5,this['instance'][_0x298c1f(0x40b)]),!_0x2ecacd){let _0x588737=await this[_0x298c1f(0x286)](_0x2d5107);if(_0x588737&&(_0x2ecacd=await this['createNewConversation'](_0x588737,_0x3f3536[_0x298c1f(0x37f)],_0x3f3536)),!_0x2ecacd)return null;}let _0x4a1a88=Date[_0x298c1f(0x3ca)](),_0x3dd4b8=_0x2ecacd?.[_0x298c1f(0x23c)]||0x0,_0x3f628b=_0x4a1a88-_0x3dd4b8*0x3c*0x3e8;if(this[_0x298c1f(0x1a7)]['verbose'](this['instanceName']+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+_0x298c1f(0x17a)+_0x4a1a88+_0x298c1f(0x587)+_0x3dd4b8+',\x20Expiration\x20Time:\x20'+_0x3f628b),this['logger'][_0x298c1f(0x7ba)](this['instanceName']+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+_0x298c1f(0x3ac)),this[_0x298c1f(0x1a7)][_0x298c1f(0x7ba)](this['instanceName']+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+_0x298c1f(0x767)+_0x2ecacd[_0x298c1f(0x66d)]),this[_0x298c1f(0x1a7)][_0x298c1f(0x7ba)](this['instanceName']+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+'):\x20expirationTime:\x20'+_0x3f628b),_0x2ecacd[_0x298c1f(0x66d)]<_0x3f628b){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+_0x298c1f(0x270));let _0x51354e=await this[_0x298c1f(0x286)](_0x2d5107);if(_0x51354e===null)return null;_0x2ecacd&&await this[_0x298c1f(0x2d1)][_0x298c1f(0x689)]['updateOne'](_0x2ecacd['_id'],{'status':'closed'},this['instance']['wuid']),_0x2ecacd=await this[_0x298c1f(0x2d7)](_0x51354e,_0x3f3536[_0x298c1f(0x37f)],_0x3f3536);}return _0x2ecacd[_0x298c1f(0x66d)]=_0x4a1a88,_0x2ecacd[_0x298c1f(0x52c)][_0x298c1f(0x44e)]=_0x3f3536,_0x2ecacd;}}catch(_0x493950){return this[_0x298c1f(0x1a7)][_0x298c1f(0x31d)](this[_0x298c1f(0x3a0)]+'\x20('+this[_0x298c1f(0x1d9)][_0x298c1f(0x40b)]+_0x298c1f(0x323)+(_0x493950 instanceof Error?_0x493950[_0x298c1f(0x4b3)]:JSON[_0x298c1f(0x732)](_0x493950,null,0x2))),null;}}async[a0_0x1e84a8(0x2d7)](_0x37bc53,_0x47cba1,_0x48d51b){const _0x36b550=a0_0x1e84a8;this['logger'][_0x36b550(0x7ba)](this[_0x36b550(0x3a0)]+'\x20('+this[_0x36b550(0x1d9)]['wuid']+_0x36b550(0x6a5));try{let _0x126a1d=require('mongodb')['ObjectId'],_0x39f161=Date['now'](),_0x4b0d40=_0x36b550(0x360),_0xebfa1c=_0x47cba1[_0x36b550(0x3a6)]?null:_0x48d51b,_0x25ac1c=_0x47cba1[_0x36b550(0x3a6)]?_0x48d51b:null,_0x5d00d4=_0x47cba1[_0x36b550(0x6aa)],_0x375e64=this[_0x36b550(0x289)][_0x36b550(0x2cc)][_0x36b550(0x6a6)](_0x3e0979=>_0x3e0979[_0x36b550(0x3c4)]===_0x37bc53[_0x36b550(0x3c4)]?.[_0x36b550(0x71c)]()),_0x42f790=_0x375e64?.[_0x36b550(0x23c)]??_0x37bc53[_0x36b550(0x23c)]??0x0,_0x446be3=_0x375e64?.[_0x36b550(0x718)]??_0x37bc53[_0x36b550(0x718)]??!0x1;await this[_0x36b550(0x13a)](_0x5d00d4);let _0x10c75c={'flowId':_0x37bc53[_0x36b550(0x3c4)],..._0x37bc53,'chatLog':null},_0x3e16a3=await this[_0x36b550(0x635)](_0x10c75c[_0x36b550(0x316)]),_0x42e5e1=await this[_0x36b550(0x332)](_0x5d00d4),_0x3c3e9b={..._0x3e16a3,..._0x42e5e1,'_remoteJid':_0x5d00d4},_0x2e6572={'lastReceivedMessage':_0xebfa1c,'lastSendMessage':_0x25ac1c,'lastBlockId':_0x4b0d40,'lastCondition':!0x0,'realVariables':_0x3c3e9b};_0x10c75c[_0x36b550(0x52c)]=_0x2e6572,delete _0x10c75c[_0x36b550(0x3c4)],_0x10c75c[_0x36b550(0x3c4)]=new _0x126a1d(),_0x10c75c['lastInteraction']=_0x39f161,_0x10c75c['status']='open',_0x10c75c[_0x36b550(0x6aa)]=_0x5d00d4,_0x10c75c[_0x36b550(0x23c)]=_0x42f790,_0x10c75c[_0x36b550(0x718)]=_0x446be3;let _0x3fad60=await this[_0x36b550(0x2d1)][_0x36b550(0x689)][_0x36b550(0x3fe)](_0x10c75c['_id'],_0x10c75c,this[_0x36b550(0x1d9)][_0x36b550(0x40b)]);return this[_0x36b550(0x1a7)][_0x36b550(0x7ba)](this['instanceName']+'\x20('+this[_0x36b550(0x1d9)][_0x36b550(0x40b)]+_0x36b550(0x3f1)),_0x3fad60?_0x10c75c:null;}catch(_0x5f2771){return this[_0x36b550(0x1a7)][_0x36b550(0x31d)](this[_0x36b550(0x3a0)]+'\x20('+this[_0x36b550(0x1d9)][_0x36b550(0x40b)]+_0x36b550(0x71d)+(_0x5f2771 instanceof Error?_0x5f2771[_0x36b550(0x4b3)]:JSON[_0x36b550(0x732)](_0x5f2771,null,0x2))),_0x5f2771;}}async[a0_0x1e84a8(0x534)](_0x56f6de,_0x322c48){const _0x4c262d=a0_0x1e84a8;let _0x2971d6=_0x56f6de[_0x4c262d(0x6aa)];_0x322c48['uazapi']['remoteJid']&&_0x322c48[_0x4c262d(0x38f)]['remoteJid']['trim']()!==''&&(_0x2971d6=_0x322c48[_0x4c262d(0x38f)][_0x4c262d(0x6aa)][_0x4c262d(0x1e8)]()),this[_0x4c262d(0x1a7)][_0x4c262d(0x7ba)](this[_0x4c262d(0x3a0)]+'\x20('+this[_0x4c262d(0x1d9)][_0x4c262d(0x40b)]+_0x4c262d(0x516));let _0x34946a={'number':_0x2971d6,'options':{'delay':_0x322c48[_0x4c262d(0x38f)][_0x4c262d(0x3ae)],'linkPreview':_0x322c48['uazapi'][_0x4c262d(0x15f)]},'textMessage':{'text':_0x322c48[_0x4c262d(0x38f)][_0x4c262d(0x5d1)]}};try{let _0x43cc9e=await this['textMessage'](_0x34946a);if(_0x43cc9e){let _0x351384={'_id':_0x43cc9e['key']['id'],'_fromMe':_0x43cc9e['key'][_0x4c262d(0x3a6)],'_remoteJid':_0x43cc9e[_0x4c262d(0x37f)][_0x4c262d(0x6aa)]},_0x5127cf=(0x0,w[_0x4c262d(0x38a)])(_0x43cc9e[_0x4c262d(0x4b3)]),_0x13dabb=(0x0,w[_0x4c262d(0x2d0)])(_0x5127cf);_0x56f6de[_0x4c262d(0x52c)][_0x4c262d(0x3df)]=_0x322c48[_0x4c262d(0x3c4)][_0x4c262d(0x71c)]();let {message_normalized:_0x4410a4}=this[_0x4c262d(0x73e)](_0x5127cf,_0x13dabb,null);_0x56f6de[_0x4c262d(0x52c)][_0x4c262d(0x66a)]=await _0x4410a4;let _0x2be647={'messageId':_0x43cc9e[_0x4c262d(0x37f)]['id']},_0x36900a=_0x56f6de[_0x4c262d(0x52c)][_0x4c262d(0x5df)];Object[_0x4c262d(0x4e7)](_0x36900a,_0x351384),_0x56f6de['chatLog'][_0x4c262d(0x5df)]=_0x36900a,this['updateConversation'](_0x56f6de,_0x322c48,_0x2be647);}else{let _0x50257f={'error':!0x0};this[_0x4c262d(0x463)](_0x56f6de,_0x322c48,_0x50257f),this[_0x4c262d(0x1a7)]['error'](this['instanceName']+'\x20('+this[_0x4c262d(0x1d9)][_0x4c262d(0x40b)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x481d0b){let _0x26b0e0={'error':!0x0,'errorLog':_0x481d0b['toString']()};this['updateConversation'](_0x56f6de,_0x322c48,_0x26b0e0),this[_0x4c262d(0x1a7)][_0x4c262d(0x31d)](this[_0x4c262d(0x3a0)]+'\x20('+this[_0x4c262d(0x1d9)]['wuid']+_0x4c262d(0x2b7)+(_0x481d0b instanceof Error?_0x481d0b[_0x4c262d(0x4b3)]:JSON[_0x4c262d(0x732)](_0x481d0b,null,0x2)));}}async['uazapiSendMedia'](_0x320653,_0x24eb9d){const _0x358ffe=a0_0x1e84a8;let _0x316d4a=_0x320653[_0x358ffe(0x6aa)];_0x24eb9d['uazapi'][_0x358ffe(0x6aa)]&&_0x24eb9d[_0x358ffe(0x38f)][_0x358ffe(0x6aa)][_0x358ffe(0x1e8)]()!==''&&(_0x316d4a=_0x24eb9d[_0x358ffe(0x38f)][_0x358ffe(0x6aa)][_0x358ffe(0x1e8)]()),this[_0x358ffe(0x1a7)][_0x358ffe(0x7ba)](this['instanceName']+'\x20('+this[_0x358ffe(0x1d9)][_0x358ffe(0x40b)]+_0x358ffe(0x6cc));let _0xf741ce={'number':_0x316d4a,'options':{'delay':_0x24eb9d[_0x358ffe(0x38f)][_0x358ffe(0x3ae)],'linkPreview':_0x24eb9d['uazapi'][_0x358ffe(0x15f)]},'mediaMessage':{'mediatype':_0x24eb9d[_0x358ffe(0x38f)][_0x358ffe(0x1ac)],'caption':_0x24eb9d[_0x358ffe(0x38f)][_0x358ffe(0x1cc)],'media':_0x24eb9d[_0x358ffe(0x38f)]['media'],'fileName':_0x24eb9d[_0x358ffe(0x38f)][_0x358ffe(0x5a4)]}};try{let _0x2d12ca=await this[_0x358ffe(0x5ef)](_0xf741ce);if(_0x2d12ca){let _0x3e17da={'_id':_0x2d12ca[_0x358ffe(0x37f)]['id'],'_fromMe':_0x2d12ca['key'][_0x358ffe(0x3a6)],'_remoteJid':_0x2d12ca[_0x358ffe(0x37f)][_0x358ffe(0x6aa)]},_0x40501a=(0x0,w['normalizeMessageContent'])(_0x2d12ca[_0x358ffe(0x4b3)]),_0x1a9700=(0x0,w[_0x358ffe(0x2d0)])(_0x40501a);_0x320653[_0x358ffe(0x52c)][_0x358ffe(0x3df)]=_0x24eb9d[_0x358ffe(0x3c4)]['toString']();let {message_normalized:_0x52a86c}=this['normalizeMessage'](_0x40501a,_0x1a9700,null);_0x320653[_0x358ffe(0x52c)][_0x358ffe(0x66a)]=await _0x52a86c;let _0x1b8c32={'messageId':_0x2d12ca['key']['id']},_0x52ff1b=_0x320653[_0x358ffe(0x52c)][_0x358ffe(0x5df)];Object[_0x358ffe(0x4e7)](_0x52ff1b,_0x3e17da),_0x320653[_0x358ffe(0x52c)]['realVariables']=_0x52ff1b,this[_0x358ffe(0x463)](_0x320653,_0x24eb9d,_0x1b8c32);}else{let _0x597ed5={'error':!0x0};this[_0x358ffe(0x463)](_0x320653,_0x24eb9d,_0x597ed5),this[_0x358ffe(0x1a7)]['error'](this[_0x358ffe(0x3a0)]+'\x20('+this[_0x358ffe(0x1d9)][_0x358ffe(0x40b)]+_0x358ffe(0x158));}}catch(_0x51a497){let _0x49ec63={'error':!0x0,'errorLog':_0x51a497['toString']()};this[_0x358ffe(0x463)](_0x320653,_0x24eb9d,_0x49ec63),this[_0x358ffe(0x1a7)]['error'](this[_0x358ffe(0x3a0)]+'\x20('+this['instance']['wuid']+_0x358ffe(0x2dc)+(_0x51a497 instanceof Error?_0x51a497['message']:JSON[_0x358ffe(0x732)](_0x51a497,null,0x2)));}}async[a0_0x1e84a8(0x1f5)](_0x5f324b,_0x4cc6ca){const _0x20678c=a0_0x1e84a8;let _0x2d5173=_0x5f324b[_0x20678c(0x6aa)];_0x4cc6ca['uazapi'][_0x20678c(0x6aa)]&&_0x4cc6ca['uazapi']['remoteJid']['trim']()!==''&&(_0x2d5173=_0x4cc6ca[_0x20678c(0x38f)][_0x20678c(0x6aa)]['trim']()),this[_0x20678c(0x1a7)][_0x20678c(0x7ba)](this[_0x20678c(0x3a0)]+'\x20('+this[_0x20678c(0x1d9)][_0x20678c(0x40b)]+_0x20678c(0x3d1));let _0x35be9a={'number':_0x2d5173,'options':{'delay':_0x4cc6ca['uazapi']['delay']},'locationMessage':{'name':_0x4cc6ca['uazapi'][_0x20678c(0x2c3)],'address':_0x4cc6ca[_0x20678c(0x38f)][_0x20678c(0x2e2)],'latitude':_0x4cc6ca[_0x20678c(0x38f)][_0x20678c(0x5b1)],'longitude':_0x4cc6ca[_0x20678c(0x38f)][_0x20678c(0x65f)]}};try{let _0x18feab=await this[_0x20678c(0x5e6)](_0x35be9a);if(_0x18feab){let _0x434c3b={'_id':_0x18feab['key']['id'],'_fromMe':_0x18feab[_0x20678c(0x37f)][_0x20678c(0x3a6)],'_remoteJid':_0x18feab[_0x20678c(0x37f)][_0x20678c(0x6aa)]},_0x48518c=(0x0,w[_0x20678c(0x38a)])(_0x18feab['message']),_0x20c0b1=(0x0,w[_0x20678c(0x2d0)])(_0x48518c);_0x5f324b[_0x20678c(0x52c)][_0x20678c(0x3df)]=_0x4cc6ca[_0x20678c(0x3c4)][_0x20678c(0x71c)]();let {message_normalized:_0x6fa0a7}=this[_0x20678c(0x73e)](_0x48518c,_0x20c0b1,null);_0x5f324b['chatLog'][_0x20678c(0x66a)]=await _0x6fa0a7;let _0x18dade={'messageId':_0x18feab[_0x20678c(0x37f)]['id']},_0x20f83d=_0x5f324b['chatLog'][_0x20678c(0x5df)];Object[_0x20678c(0x4e7)](_0x20f83d,_0x434c3b),_0x5f324b['chatLog'][_0x20678c(0x5df)]=_0x20f83d,this[_0x20678c(0x463)](_0x5f324b,_0x4cc6ca,_0x18dade);}else{let _0x57d386={'error':!0x0};this[_0x20678c(0x463)](_0x5f324b,_0x4cc6ca,_0x57d386),this['logger'][_0x20678c(0x31d)](this[_0x20678c(0x3a0)]+'\x20('+this[_0x20678c(0x1d9)]['wuid']+_0x20678c(0x433));}}catch(_0x507aa9){let _0x4a566d={'error':!0x0,'errorLog':_0x507aa9[_0x20678c(0x71c)]()};this[_0x20678c(0x463)](_0x5f324b,_0x4cc6ca,_0x4a566d),this['logger'][_0x20678c(0x31d)](this[_0x20678c(0x3a0)]+'\x20('+this[_0x20678c(0x1d9)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x507aa9 instanceof Error?_0x507aa9[_0x20678c(0x4b3)]:JSON[_0x20678c(0x732)](_0x507aa9,null,0x2)));}}async[a0_0x1e84a8(0x180)](_0x1387bf,_0x58ae43){const _0x3ba20a=a0_0x1e84a8;let _0xe58175=_0x1387bf[_0x3ba20a(0x6aa)];_0x58ae43['uazapi']['remoteJid']&&_0x58ae43[_0x3ba20a(0x38f)][_0x3ba20a(0x6aa)][_0x3ba20a(0x1e8)]()!==''&&(_0xe58175=_0x58ae43[_0x3ba20a(0x38f)][_0x3ba20a(0x6aa)][_0x3ba20a(0x1e8)]()),this['logger'][_0x3ba20a(0x7ba)](this['instanceName']+'\x20('+this[_0x3ba20a(0x1d9)]['wuid']+_0x3ba20a(0x22b));let _0x3efd19={'number':_0xe58175,'options':{'delay':_0x58ae43[_0x3ba20a(0x38f)][_0x3ba20a(0x3ae)]},'audioMessage':{'audio':_0x58ae43[_0x3ba20a(0x38f)]['audio']}};try{let _0x1b1fd8=await this[_0x3ba20a(0x17b)](_0x3efd19);if(_0x1b1fd8){let _0x35f25a={'_id':_0x1b1fd8['key']['id'],'_fromMe':_0x1b1fd8['key']['fromMe'],'_remoteJid':_0x1b1fd8['key'][_0x3ba20a(0x6aa)]},_0x29de02=(0x0,w[_0x3ba20a(0x38a)])(_0x1b1fd8[_0x3ba20a(0x4b3)]),_0x4cebc5=(0x0,w[_0x3ba20a(0x2d0)])(_0x29de02);_0x1387bf['chatLog'][_0x3ba20a(0x3df)]=_0x58ae43[_0x3ba20a(0x3c4)][_0x3ba20a(0x71c)]();let {message_normalized:_0x208cf5}=this[_0x3ba20a(0x73e)](_0x29de02,_0x4cebc5,null);_0x1387bf['chatLog'][_0x3ba20a(0x66a)]=await _0x208cf5;let _0x10ace0={'messageId':_0x1b1fd8[_0x3ba20a(0x37f)]['id']},_0x139d4c=_0x1387bf['chatLog'][_0x3ba20a(0x5df)];Object[_0x3ba20a(0x4e7)](_0x139d4c,_0x35f25a),_0x1387bf[_0x3ba20a(0x52c)][_0x3ba20a(0x5df)]=_0x139d4c,this[_0x3ba20a(0x463)](_0x1387bf,_0x58ae43,_0x10ace0);}else{let _0x45e5b2={'error':!0x0};this[_0x3ba20a(0x463)](_0x1387bf,_0x58ae43,_0x45e5b2),this[_0x3ba20a(0x1a7)][_0x3ba20a(0x31d)](this[_0x3ba20a(0x3a0)]+'\x20('+this[_0x3ba20a(0x1d9)][_0x3ba20a(0x40b)]+_0x3ba20a(0x742));}}catch(_0x49045e){let _0x174af9={'error':!0x0,'errorLog':_0x49045e[_0x3ba20a(0x71c)]()};this['updateConversation'](_0x1387bf,_0x58ae43,_0x174af9),this[_0x3ba20a(0x1a7)][_0x3ba20a(0x31d)](this[_0x3ba20a(0x3a0)]+'\x20('+this['instance'][_0x3ba20a(0x40b)]+_0x3ba20a(0x738)+(_0x49045e instanceof Error?_0x49045e[_0x3ba20a(0x4b3)]:JSON['stringify'](_0x49045e,null,0x2)));}}async[a0_0x1e84a8(0x65e)](_0x32f4bc,_0x24a4ad){const _0x280f4f=a0_0x1e84a8;let _0x6ab8bd=_0x32f4bc[_0x280f4f(0x6aa)];_0x24a4ad[_0x280f4f(0x38f)]['remoteJid']&&_0x24a4ad[_0x280f4f(0x38f)][_0x280f4f(0x6aa)]['trim']()!==''&&(_0x6ab8bd=_0x24a4ad['uazapi'][_0x280f4f(0x6aa)]['trim']()),this[_0x280f4f(0x1a7)][_0x280f4f(0x7ba)](this[_0x280f4f(0x3a0)]+'\x20('+this['instance'][_0x280f4f(0x40b)]+'):\x20Enviando\x20contato');let _0x3802ee={'number':_0x6ab8bd,'options':{'delay':_0x24a4ad[_0x280f4f(0x38f)]['delay']},'contactMessage':[{'fullName':_0x24a4ad[_0x280f4f(0x38f)]['fullName'],'phoneNumber':_0x24a4ad[_0x280f4f(0x38f)][_0x280f4f(0x1c5)]}]};try{let _0x35e530=await this[_0x280f4f(0x68e)](_0x3802ee);if(_0x35e530){let _0x2003b4={'_id':_0x35e530[_0x280f4f(0x37f)]['id'],'_fromMe':_0x35e530[_0x280f4f(0x37f)][_0x280f4f(0x3a6)],'_remoteJid':_0x35e530[_0x280f4f(0x37f)][_0x280f4f(0x6aa)]},_0x436c22=(0x0,w[_0x280f4f(0x38a)])(_0x35e530['message']),_0x459ddd=(0x0,w[_0x280f4f(0x2d0)])(_0x436c22);_0x32f4bc[_0x280f4f(0x52c)]['lastBlockId']=_0x24a4ad[_0x280f4f(0x3c4)][_0x280f4f(0x71c)]();let {message_normalized:_0x383886}=this[_0x280f4f(0x73e)](_0x436c22,_0x459ddd,null);_0x32f4bc['chatLog'][_0x280f4f(0x66a)]=await _0x383886;let _0x451e10={'messageId':_0x35e530[_0x280f4f(0x37f)]['id']},_0x369e37=_0x32f4bc[_0x280f4f(0x52c)][_0x280f4f(0x5df)];Object['assign'](_0x369e37,_0x2003b4),_0x32f4bc[_0x280f4f(0x52c)][_0x280f4f(0x5df)]=_0x369e37,this[_0x280f4f(0x463)](_0x32f4bc,_0x24a4ad,_0x451e10);}else{let _0x113f63={'error':!0x0};this[_0x280f4f(0x463)](_0x32f4bc,_0x24a4ad,_0x113f63),this['logger'][_0x280f4f(0x31d)](this['instanceName']+'\x20('+this[_0x280f4f(0x1d9)][_0x280f4f(0x40b)]+_0x280f4f(0x5b6));}}catch(_0x25457d){let _0x12c543={'error':!0x0,'errorLog':_0x25457d[_0x280f4f(0x71c)]()};this[_0x280f4f(0x463)](_0x32f4bc,_0x24a4ad,_0x12c543),this[_0x280f4f(0x1a7)]['error'](this[_0x280f4f(0x3a0)]+'\x20('+this[_0x280f4f(0x1d9)][_0x280f4f(0x40b)]+_0x280f4f(0x3b5)+(_0x25457d instanceof Error?_0x25457d['message']:JSON['stringify'](_0x25457d,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x6bbce9,_0x470950){const _0x5f35bb=a0_0x1e84a8;for(let _0x4da10b of _0x6bbce9)_0x4da10b['option']&&(_0x4da10b[_0x5f35bb(0x39c)]=this[_0x5f35bb(0x115)](_0x4da10b[_0x5f35bb(0x39c)],_0x470950)),_0x4da10b[_0x5f35bb(0x524)]&&(_0x4da10b[_0x5f35bb(0x524)]=this[_0x5f35bb(0x115)](_0x4da10b[_0x5f35bb(0x524)],_0x470950));}async[a0_0x1e84a8(0x5e5)](_0x6066e2,_0xd59e87){const _0x2728ff=a0_0x1e84a8;let _0x4bf2a3=_0x6066e2[_0x2728ff(0x6aa)];_0xd59e87['uazapi'][_0x2728ff(0x6aa)]&&_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x6aa)][_0x2728ff(0x1e8)]()!==''&&(_0x4bf2a3=_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x6aa)][_0x2728ff(0x1e8)]()),this[_0x2728ff(0x1a7)][_0x2728ff(0x7ba)](this[_0x2728ff(0x3a0)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20enquete');let _0x22b7f4=_0x6066e2[_0x2728ff(0x708)][_0x2728ff(0x186)](_0x37524d=>_0x37524d[_0x2728ff(0x7d7)]===_0xd59e87[_0x2728ff(0x3c4)])[_0x2728ff(0x652)]((_0x38ecc4,_0x1965fc)=>_0x38ecc4['order']-_0x1965fc['order']);this[_0x2728ff(0x706)](_0x22b7f4,_0x6066e2[_0x2728ff(0x52c)][_0x2728ff(0x5df)]);let _0x3cd04c=_0x22b7f4[_0x2728ff(0x7b9)](_0x36601c=>_0x36601c[_0x2728ff(0x39c)]),_0x4f8476={'number':_0x4bf2a3,'menuMessage':{'type':_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x661)]||_0x2728ff(0x229),'text':_0xd59e87['uazapi'][_0x2728ff(0x5d1)]||_0xd59e87['uazapi'][_0x2728ff(0x2c3)],'footerText':_0xd59e87['uazapi'][_0x2728ff(0x4eb)],'buttonText':_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x54b)],'selectableCount':0x1,'choices':_0x3cd04c},'options':{'delay':_0xd59e87['uazapi']['delay']}};try{let _0x35a662=await this['menuMessage'](_0x4f8476);if(_0x35a662){let _0x4c86db={'_id':_0x35a662[_0x2728ff(0x37f)]['id'],'_fromMe':_0x35a662[_0x2728ff(0x37f)][_0x2728ff(0x3a6)],'_remoteJid':_0x35a662[_0x2728ff(0x37f)][_0x2728ff(0x6aa)]};_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x778)]===!0x0&&(_0x6066e2[_0x2728ff(0x612)]=_0x2728ff(0x4e0),this[_0x2728ff(0x1a7)][_0x2728ff(0x7ba)](this[_0x2728ff(0x3a0)]+'\x20('+this[_0x2728ff(0x1d9)]['wuid']+_0x2728ff(0x3b0)+_0x6066e2[_0x2728ff(0x612)])),this[_0x2728ff(0x1a7)]['verbose'](this[_0x2728ff(0x3a0)]+'\x20('+this[_0x2728ff(0x1d9)]['wuid']+_0x2728ff(0x417)+(_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x2c3)]||_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x5d1)])),_0x6066e2[_0x2728ff(0x510)]=_0x35a662[_0x2728ff(0x37f)]['id'],_0x6066e2[_0x2728ff(0x446)]=_0xd59e87['uazapi']['name']||_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x5d1)],_0x6066e2[_0x2728ff(0x27b)]=_0x22b7f4,_0xd59e87['uazapi'][_0x2728ff(0x28c)]&&(_0x6066e2['waitingMenu_ExpiredMessage']=_0xd59e87[_0x2728ff(0x38f)][_0x2728ff(0x28c)]),this[_0x2728ff(0x1a7)][_0x2728ff(0x7ba)](this[_0x2728ff(0x3a0)]+'\x20('+this[_0x2728ff(0x1d9)]['wuid']+_0x2728ff(0x238)+_0x6066e2[_0x2728ff(0x446)]);let _0x3a5111=(0x0,w[_0x2728ff(0x38a)])(_0x35a662[_0x2728ff(0x4b3)]),_0x2c239f=(0x0,w[_0x2728ff(0x2d0)])(_0x3a5111);_0x6066e2[_0x2728ff(0x52c)]['lastBlockId']=_0xd59e87['_id'][_0x2728ff(0x71c)]();let {message_normalized:_0x42492a}=this[_0x2728ff(0x73e)](_0x3a5111,_0x2c239f,null);_0x6066e2[_0x2728ff(0x52c)][_0x2728ff(0x66a)]=await _0x42492a;let _0x3d5a69={'messageId':_0x35a662[_0x2728ff(0x37f)]['id']},_0x5853a1=_0x6066e2[_0x2728ff(0x52c)][_0x2728ff(0x5df)];Object[_0x2728ff(0x4e7)](_0x5853a1,_0x4c86db),_0x6066e2[_0x2728ff(0x52c)][_0x2728ff(0x5df)]=_0x5853a1,this['updateConversation'](_0x6066e2,_0xd59e87,_0x3d5a69);}else{let _0x1b22f6={'error':!0x0};this['updateConversation'](_0x6066e2,_0xd59e87,_0x1b22f6),this['logger']['error'](this[_0x2728ff(0x3a0)]+'\x20('+this[_0x2728ff(0x1d9)][_0x2728ff(0x40b)]+_0x2728ff(0x368));}}catch(_0x4360f4){let _0x5e70a9={'error':!0x0,'errorLog':_0x4360f4 instanceof Error?_0x4360f4[_0x2728ff(0x4b3)]:JSON['stringify'](_0x4360f4,null,0x2)};this[_0x2728ff(0x463)](_0x6066e2,_0xd59e87,_0x5e70a9),this[_0x2728ff(0x1a7)][_0x2728ff(0x31d)](this[_0x2728ff(0x3a0)]+'\x20('+this['instance'][_0x2728ff(0x40b)]+_0x2728ff(0x139)+(_0x4360f4 instanceof Error?_0x4360f4[_0x2728ff(0x4b3)]:JSON[_0x2728ff(0x732)](_0x4360f4,null,0x2)));}}async[a0_0x1e84a8(0x744)](_0x13c2e7,_0x409d04){const _0x1c3cca=a0_0x1e84a8;this['logger'][_0x1c3cca(0x7ba)](this['instanceName']+'\x20('+this[_0x1c3cca(0x1d9)][_0x1c3cca(0x40b)]+'):\x20Deletando\x20mensagem');let _0x809f3=_0x13c2e7['chatLog'][_0x1c3cca(0x315)]['find'](_0x3b4402=>_0x3b4402[_0x1c3cca(0x7d7)][_0x1c3cca(0x71c)]()===_0x409d04[_0x1c3cca(0x38f)]['blockId']['toString']()),_0x1b646e={'id':_0x809f3[_0x1c3cca(0x647)],'remoteJid':_0x809f3[_0x1c3cca(0x6aa)],'fromMe':_0x809f3['fromMe']};try{let _0x19461c=await this[_0x1c3cca(0x426)](_0x1b646e);if(_0x19461c){let _0x13a5a3=(0x0,w[_0x1c3cca(0x38a)])(_0x19461c[_0x1c3cca(0x4b3)]),_0x40fa68=(0x0,w[_0x1c3cca(0x2d0)])(_0x13a5a3);_0x13c2e7['chatLog'][_0x1c3cca(0x3df)]=_0x409d04[_0x1c3cca(0x3c4)][_0x1c3cca(0x71c)]();let {message_normalized:_0x94b90f}=this[_0x1c3cca(0x73e)](_0x13a5a3,_0x40fa68,null);_0x13c2e7[_0x1c3cca(0x52c)]['lastSendMessage']=await _0x94b90f;let _0x2acaac={};this[_0x1c3cca(0x463)](_0x13c2e7,_0x409d04,_0x2acaac);}else{let _0xbf1812={'error':!0x0};this[_0x1c3cca(0x463)](_0x13c2e7,_0x409d04,_0xbf1812),this[_0x1c3cca(0x1a7)]['error'](this[_0x1c3cca(0x3a0)]+'\x20('+this[_0x1c3cca(0x1d9)][_0x1c3cca(0x40b)]+_0x1c3cca(0x43b));}}catch(_0x5dc231){let _0x354d89={'error':!0x0,'errorLog':_0x5dc231 instanceof Error?_0x5dc231[_0x1c3cca(0x4b3)]:JSON[_0x1c3cca(0x732)](_0x5dc231,null,0x2)};this['updateConversation'](_0x13c2e7,_0x409d04,_0x354d89),this['logger'][_0x1c3cca(0x31d)](this[_0x1c3cca(0x3a0)]+'\x20('+this[_0x1c3cca(0x1d9)][_0x1c3cca(0x40b)]+_0x1c3cca(0x542)+(_0x5dc231 instanceof Error?_0x5dc231[_0x1c3cca(0x4b3)]:JSON[_0x1c3cca(0x732)](_0x5dc231,null,0x2)));}}async[a0_0x1e84a8(0x1d6)](_0xd8f770,_0xfa156a){const _0x57f462=a0_0x1e84a8;if(_0xd8f770[_0x57f462(0x2c3)]||(_0xd8f770['name']=(0x0,Y['v4'])()),_0xfa156a!==Ri&&_0xd8f770?.[_0x57f462(0x393)])throw new m(_0x57f462(0x10f));if('_id'in _0xd8f770&&'owner'in _0xd8f770)return this[_0x57f462(0x41c)](_0xd8f770[_0x57f462(0x325)],_0xd8f770[_0x57f462(0x3c4)]);this[_0x57f462(0x1a7)]['verbose'](this[_0x57f462(0x3a0)]+'\x20('+this[_0x57f462(0x1d9)][_0x57f462(0x40b)]+_0x57f462(0x83d));let _0x18f0cf=this[_0x57f462(0x3ff)](_0xd8f770[_0x57f462(0x2c3)]),_0x46167e=new ge[(_0x57f462(0x293))][(_0x57f462(0x53a))](),_0xdfc38c={'_id':_0x46167e,'default':!0x0,'title':_0x57f462(0x69d),'x':0x0,'y':0x0},_0x2847ef={'_id':new ge[(_0x57f462(0x293))][(_0x57f462(0x53a))](),'order':0x1,'groupId':_0x46167e[_0x57f462(0x71c)](),'type':_0x57f462(0x360)},_0x3da9d7=this[_0x57f462(0x1d9)][_0x57f462(0x40b)],_0x201a05={'_id':(0x0,Y['v4'])(),'owner':_0x3da9d7,'name':_0x18f0cf,'whoCanEdit':[_0x3da9d7],'whoCanUse':[_0x3da9d7],'groups':[_0xdfc38c],'blocks':[_0x2847ef],..._0xd8f770};try{let _0x446c45=await this[_0x57f462(0x2d1)][_0x57f462(0x71a)][_0x57f462(0x79d)](_0x201a05);return await this['synchronizeAndMapFlows'](),_0x446c45;}catch(_0x35437b){let _0x362c10='Erro\x20ao\x20criar\x20fluxo',_0xbf6126=_0x35437b instanceof Error?_0x35437b[_0x57f462(0x4b3)]:typeof _0x35437b=='object'?JSON[_0x57f462(0x732)](_0x35437b):_0x35437b,_0x523e0c=_0x362c10+':\x20'+_0xbf6126;throw this[_0x57f462(0x1a7)][_0x57f462(0x31d)](this['instanceName']+'\x20('+this[_0x57f462(0x1d9)][_0x57f462(0x40b)]+_0x57f462(0x52a)+_0x523e0c),new m(_0x523e0c);}}async[a0_0x1e84a8(0x41c)](_0xd7bbab,_0x9f2e39){const _0x1f8004=a0_0x1e84a8;try{this[_0x1f8004(0x1a7)][_0x1f8004(0x7ba)](this[_0x1f8004(0x3a0)]+'\x20('+this[_0x1f8004(0x1d9)][_0x1f8004(0x40b)]+_0x1f8004(0x811));let _0x49262f=await this['repository']['flow'][_0x1f8004(0x688)]({'where':{'_id':_0x9f2e39,'owner':_0xd7bbab}});if(!_0x49262f)throw new m(_0x1f8004(0x1fa));if(_0x49262f[_0x1f8004(0x36d)]===!0x1&&!_0x49262f[_0x1f8004(0x393)])throw new m(_0x1f8004(0x508));let _0x17508c=new Set(_0x49262f[_0x1f8004(0x7d3)]??[]);_0x17508c[_0x1f8004(0x5f3)](this[_0x1f8004(0x1d9)][_0x1f8004(0x40b)]);let _0x47465a=await this[_0x1f8004(0x2d1)][_0x1f8004(0x71a)][_0x1f8004(0x3fe)](_0x9f2e39,{..._0x49262f,'whoCanUse':Array[_0x1f8004(0x83e)](_0x17508c)});return await this[_0x1f8004(0x625)](),_0x47465a;}catch(_0x42124d){let _0x5ae464=_0x1f8004(0x4ac),_0x254a75=_0x42124d instanceof Error?_0x42124d[_0x1f8004(0x4b3)]:typeof _0x42124d==_0x1f8004(0x526)?JSON[_0x1f8004(0x732)](_0x42124d):_0x42124d,_0x27bdb6=_0x5ae464+':\x20'+_0x254a75;throw this[_0x1f8004(0x1a7)][_0x1f8004(0x31d)](this[_0x1f8004(0x3a0)]+'\x20('+this[_0x1f8004(0x1d9)][_0x1f8004(0x40b)]+'):\x20'+_0x27bdb6),new m(_0x27bdb6);}}['getUniqueFlowName'](_0x54ece9){const _0x3a124f=a0_0x1e84a8;let _0x43ad15=_0x54ece9,_0x593a74=0x1;for(;this['AutomateSystem']['flows'][_0x3a124f(0x645)](_0x198ae9=>_0x198ae9[_0x3a124f(0x2c3)]===_0x43ad15);)_0x593a74++,_0x43ad15=_0x54ece9+'\x20('+_0x593a74+')';return _0x43ad15;}async[a0_0x1e84a8(0x7ac)](_0x1f184e){const _0x5df03b=a0_0x1e84a8;try{if(this[_0x5df03b(0x1a7)]['verbose'](this[_0x5df03b(0x3a0)]+'\x20('+this[_0x5df03b(0x1d9)][_0x5df03b(0x40b)]+_0x5df03b(0x7ae)+_0x1f184e['_id']+',\x20global:\x20'+_0x1f184e[_0x5df03b(0x3fb)]),!this['AutomateSystem']['flows'][_0x5df03b(0x6a6)](_0x4eadb6=>_0x4eadb6['_id']===_0x1f184e[_0x5df03b(0x3c4)]))throw this[_0x5df03b(0x1a7)][_0x5df03b(0x7ba)](this[_0x5df03b(0x3a0)]+'\x20('+this[_0x5df03b(0x1d9)][_0x5df03b(0x40b)]+_0x5df03b(0x79f)+_0x1f184e[_0x5df03b(0x3c4)]+_0x5df03b(0x317)),new m(_0x5df03b(0x67a));let _0x46f8f4=await this[_0x5df03b(0x2d1)]['flow'][_0x5df03b(0x688)]({'where':{'_id':_0x1f184e[_0x5df03b(0x3c4)]}});if(!_0x46f8f4)throw new m(_0x5df03b(0x61c));if(this['instance'][_0x5df03b(0x40b)]===_0x46f8f4['owner']){this[_0x5df03b(0x1a7)]['verbose'](this[_0x5df03b(0x3a0)]+'\x20('+this[_0x5df03b(0x1d9)][_0x5df03b(0x40b)]+_0x5df03b(0x562)+_0x1f184e[_0x5df03b(0x3c4)]+'\x27\x20do\x20banco\x20de\x20dados...');let _0x4d1c49=await this['repository']['flow'][_0x5df03b(0x3a3)]({'where':{'_id':_0x1f184e[_0x5df03b(0x3c4)]}});return await this[_0x5df03b(0x625)](),_0x4d1c49;}return this[_0x5df03b(0x1a7)][_0x5df03b(0x7ba)](this[_0x5df03b(0x3a0)]+'\x20('+this[_0x5df03b(0x1d9)][_0x5df03b(0x40b)]+'):\x20Removendo\x20\x27'+this[_0x5df03b(0x1d9)][_0x5df03b(0x40b)]+_0x5df03b(0x7cf)+_0x1f184e[_0x5df03b(0x3c4)]+_0x5df03b(0x539)),_0x46f8f4[_0x5df03b(0x7d3)]=(_0x46f8f4[_0x5df03b(0x7d3)]??[])[_0x5df03b(0x186)](_0xe1f6ca=>_0xe1f6ca!==this[_0x5df03b(0x1d9)]['wuid']),_0x46f8f4[_0x5df03b(0x204)]=(_0x46f8f4[_0x5df03b(0x204)]??[])[_0x5df03b(0x186)](_0x2ec2bc=>_0x2ec2bc!==this[_0x5df03b(0x1d9)][_0x5df03b(0x40b)]),_0x46f8f4[_0x5df03b(0x204)][_0x5df03b(0x124)]===0x0&&_0x46f8f4['whoCanUse'][_0x5df03b(0x124)]>0x0&&(_0x46f8f4[_0x5df03b(0x204)][_0x5df03b(0x857)](_0x46f8f4[_0x5df03b(0x7d3)][0x0]),this[_0x5df03b(0x1a7)][_0x5df03b(0x7ba)](this['instanceName']+'\x20('+this[_0x5df03b(0x1d9)][_0x5df03b(0x40b)]+'):\x20Adicionando\x20\x27'+_0x46f8f4[_0x5df03b(0x7d3)][0x0]+_0x5df03b(0x4fa)+_0x1f184e['_id']+_0x5df03b(0x539))),await this[_0x5df03b(0x2d1)]['flow'][_0x5df03b(0x3fe)](_0x46f8f4['_id'],_0x46f8f4),await this[_0x5df03b(0x625)](),{'message':_0x5df03b(0x7b1)+_0x1f184e[_0x5df03b(0x2c3)]+_0x5df03b(0x57f)};}catch(_0x383009){return this['logger'][_0x5df03b(0x31d)](this[_0x5df03b(0x3a0)]+'\x20('+this[_0x5df03b(0x1d9)][_0x5df03b(0x40b)]+_0x5df03b(0x55c)+(_0x383009 instanceof Error?_0x383009[_0x5df03b(0x4b3)]:JSON['stringify'](_0x383009,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x383009 instanceof Error?_0x383009[_0x5df03b(0x4b3)]:JSON['stringify'](_0x383009,null,0x2))};}}async['getFlow'](_0xd48959){const _0x35a01a=a0_0x1e84a8;try{if(this[_0x35a01a(0x1a7)][_0x35a01a(0x7b6)](this[_0x35a01a(0x3a0)]+'\x20('+this['instance'][_0x35a01a(0x40b)]+_0x35a01a(0x39b)+_0xd48959),!this['AutomateSystem']&&(await this[_0x35a01a(0x15c)](),!this[_0x35a01a(0x289)]))return null;let _0x45b1e1=await this[_0x35a01a(0x2d1)][_0x35a01a(0x71a)]['findOne']({'where':{'_id':_0xd48959}});if(!_0x45b1e1)throw new m('Fluxo\x20id\x20\x27'+_0xd48959+_0x35a01a(0x547));if(!(_0x45b1e1[_0x35a01a(0x393)]||_0x45b1e1[_0x35a01a(0x7d3)]?.['includes'](this[_0x35a01a(0x1d9)]['wuid'])))throw new m(_0x35a01a(0x646)+name+'\x27');_0x45b1e1['globalShow']&&!_0x45b1e1['whoCanUse']?.[_0x35a01a(0x371)](this[_0x35a01a(0x1d9)][_0x35a01a(0x40b)])&&(_0x45b1e1[_0x35a01a(0x7d3)]=[..._0x45b1e1[_0x35a01a(0x7d3)]??[],this[_0x35a01a(0x1d9)][_0x35a01a(0x40b)]],await this[_0x35a01a(0x2d1)][_0x35a01a(0x71a)][_0x35a01a(0x3fe)](_0x45b1e1[_0x35a01a(0x3c4)],_0x45b1e1),this[_0x35a01a(0x625)]());let _0x29510e=this[_0x35a01a(0x289)]?.[_0x35a01a(0x569)][_0x35a01a(0x7b9)](_0x17f5d9=>_0x17f5d9[_0x35a01a(0x2c3)]),_0x493856=[_0x35a01a(0x116),_0x35a01a(0x6b6),_0x35a01a(0x79e),_0x35a01a(0x19c),_0x35a01a(0x612),_0x35a01a(0x357),_0x35a01a(0x720),_0x35a01a(0x84f),'etiquetas',_0x35a01a(0x6b5),_0x35a01a(0x846)];_0x45b1e1[_0x35a01a(0x316)]=_0x45b1e1[_0x35a01a(0x316)]['filter'](_0x391547=>!(_0x391547[_0x35a01a(0x1ad)]==='leadInfo'||_0x391547[_0x35a01a(0x2ab)])),_0x493856[_0x35a01a(0x154)](_0x43bfee=>{const _0x1fecfa=_0x35a01a;_0x45b1e1[_0x1fecfa(0x316)][_0x1fecfa(0x857)]({'folder':_0x1fecfa(0x2ab),'name':_0x43bfee,'value':'','doc':'','leadInfo':!0x0});}),_0x29510e[_0x35a01a(0x154)](_0x346820=>{const _0x5cbfcc=_0x35a01a;let _0x28b209=_0x45b1e1[_0x5cbfcc(0x316)][_0x5cbfcc(0x130)](_0x5f3256=>_0x5f3256[_0x5cbfcc(0x2c3)]===_0x346820);_0x28b209===-0x1?_0x45b1e1[_0x5cbfcc(0x316)][_0x5cbfcc(0x857)]({'folder':_0x5cbfcc(0x2ab),'name':_0x346820,'value':'','doc':'','leadInfo':!0x0}):(_0x45b1e1[_0x5cbfcc(0x316)][_0x28b209][_0x5cbfcc(0x1ad)]=_0x5cbfcc(0x2ab),_0x45b1e1[_0x5cbfcc(0x316)][_0x28b209][_0x5cbfcc(0x2ab)]=!0x0);}),_0x45b1e1[_0x35a01a(0x5f4)]&&_0x45b1e1[_0x35a01a(0x5f4)][_0x35a01a(0x124)]>0x0&&_0x45b1e1['blocks'][_0x35a01a(0x154)](_0x7de52b=>{const _0x4056e0=_0x35a01a;_0x7de52b['groupId']&&_0x7de52b[_0x4056e0(0x239)]&&_0x7de52b[_0x4056e0(0x34a)]===_0x7de52b[_0x4056e0(0x239)]&&(_0x7de52b[_0x4056e0(0x239)]=null);});let _0x10f7d6=await this['repository'][_0x35a01a(0x71a)]['updateOne'](_0x45b1e1[_0x35a01a(0x3c4)],_0x45b1e1);if(!_0x10f7d6)throw new Error(_0x35a01a(0x763));return _0x10f7d6;}catch(_0x177fab){let _0x3d8d42='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x8b9b1c=_0x177fab instanceof Error?_0x177fab[_0x35a01a(0x4b3)]:typeof _0x177fab==_0x35a01a(0x526)?JSON[_0x35a01a(0x732)](_0x177fab):_0x177fab,_0x457afd=_0x3d8d42+':\x20'+_0x8b9b1c;throw this[_0x35a01a(0x1a7)][_0x35a01a(0x31d)](this[_0x35a01a(0x3a0)]+'\x20('+this['instance'][_0x35a01a(0x40b)]+_0x35a01a(0x52a)+_0x457afd),new m(_0x457afd);}}async[a0_0x1e84a8(0x61a)](){const _0x20c042=a0_0x1e84a8;try{this[_0x20c042(0x1a7)]['verbose'](this[_0x20c042(0x3a0)]+'\x20('+this[_0x20c042(0x1d9)][_0x20c042(0x40b)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x20c042(0x625)]();let _0xe6b560=await this['repository'][_0x20c042(0x71a)][_0x20c042(0x2c7)]({'where':{'globalShow':!0x0}});return[...this[_0x20c042(0x289)][_0x20c042(0x2cc)],..._0xe6b560];}catch(_0x3a0c01){return this[_0x20c042(0x1a7)][_0x20c042(0x31d)](this[_0x20c042(0x3a0)]+'\x20('+this[_0x20c042(0x1d9)][_0x20c042(0x40b)]+_0x20c042(0x626)+(_0x3a0c01 instanceof Error?_0x3a0c01[_0x20c042(0x4b3)]:JSON['stringify'](_0x3a0c01,null,0x2))),{'message':_0x20c042(0x83b)+(_0x3a0c01 instanceof Error?_0x3a0c01[_0x20c042(0x4b3)]:String(_0x3a0c01))};}}async['editFlow'](_0x53b15d,_0x26173b){const _0x1ca6ef=a0_0x1e84a8;try{this[_0x1ca6ef(0x1a7)][_0x1ca6ef(0x7ba)](this[_0x1ca6ef(0x3a0)]+'\x20('+this[_0x1ca6ef(0x1d9)][_0x1ca6ef(0x40b)]+_0x1ca6ef(0x677));let _0x348993=this[_0x1ca6ef(0x289)][_0x1ca6ef(0x2cc)][_0x1ca6ef(0x6a6)](_0x3f54af=>_0x3f54af[_0x1ca6ef(0x3c4)]===_0x53b15d[_0x1ca6ef(0x3c4)]);if(!_0x348993)throw this[_0x1ca6ef(0x1a7)]['verbose'](this[_0x1ca6ef(0x3a0)]+'\x20('+this[_0x1ca6ef(0x1d9)]['wuid']+_0x1ca6ef(0x79f)+_0x53b15d['_id']+_0x1ca6ef(0x317)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x6200a=await this[_0x1ca6ef(0x2d1)]['flow'][_0x1ca6ef(0x688)]({'where':{'_id':_0x53b15d[_0x1ca6ef(0x3c4)]}});if(!_0x6200a||!_0x6200a['whoCanUse']?.[_0x1ca6ef(0x371)](this[_0x1ca6ef(0x1d9)]['wuid']))throw this[_0x1ca6ef(0x1a7)][_0x1ca6ef(0x31d)](this['instanceName']+'\x20('+this['instance'][_0x1ca6ef(0x40b)]+_0x1ca6ef(0xff)+_0x53b15d[_0x1ca6ef(0x3c4)]+_0x1ca6ef(0x491)),new m('Flow\x20\x27'+_0x53b15d['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x2892e6=this[_0x1ca6ef(0x289)][_0x1ca6ef(0x2cc)]['findIndex'](_0x35b38c=>_0x35b38c[_0x1ca6ef(0x3c4)]===_0x348993[_0x1ca6ef(0x3c4)]);if(_0x2892e6!==-0x1){let _0x4f71fa=this[_0x1ca6ef(0x289)][_0x1ca6ef(0x2cc)][_0x2892e6];if(_0x4f71fa['name']=_0x53b15d[_0x1ca6ef(0x2c3)]??_0x4f71fa[_0x1ca6ef(0x2c3)],_0x4f71fa[_0x1ca6ef(0x50f)]=_0x53b15d[_0x1ca6ef(0x50f)]??_0x4f71fa[_0x1ca6ef(0x50f)],_0x4f71fa[_0x1ca6ef(0x51e)]=_0x53b15d[_0x1ca6ef(0x51e)]??_0x4f71fa['testingWith'],_0x4f71fa[_0x1ca6ef(0x6ed)]=_0x53b15d['startCommandWord']??_0x4f71fa[_0x1ca6ef(0x6ed)],_0x4f71fa[_0x1ca6ef(0x23c)]=_0x53b15d[_0x1ca6ef(0x23c)]??_0x4f71fa['minutesToClose'],_0x4f71fa[_0x1ca6ef(0x718)]=_0x53b15d['readMessages']??_0x4f71fa[_0x1ca6ef(0x718)],_0x53b15d[_0x1ca6ef(0x50f)]&&this[_0x1ca6ef(0x289)][_0x1ca6ef(0x2cc)][_0x1ca6ef(0x154)]((_0x1fb742,_0x2fbc8f)=>{const _0x4d9af5=_0x1ca6ef;_0x2fbc8f!==_0x2892e6&&(_0x1fb742[_0x4d9af5(0x50f)]=!0x1);}),this[_0x1ca6ef(0x289)][_0x1ca6ef(0x2cc)][_0x2892e6]=_0x4f71fa,!await this[_0x1ca6ef(0x2d1)][_0x1ca6ef(0x2d4)][_0x1ca6ef(0x32a)]({'flows':this['AutomateSystem']['flows']},this[_0x1ca6ef(0x1d9)][_0x1ca6ef(0x40b)]))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x459dc7=[_0x1ca6ef(0x3fb),_0x1ca6ef(0x1ce),_0x1ca6ef(0x589),_0x1ca6ef(0x136)];for(let _0x5cf80b of _0x459dc7)delete _0x53b15d[_0x5cf80b];if(_0x6200a[_0x1ca6ef(0x204)]?.[_0x1ca6ef(0x371)](this[_0x1ca6ef(0x1d9)][_0x1ca6ef(0x40b)])||(_0x53b15d={'_id':_0x53b15d[_0x1ca6ef(0x3c4)]}),_0x26173b!==Ri&&_0x53b15d?.['globalShow']&&!_0x6200a?.[_0x1ca6ef(0x393)])throw new m(_0x1ca6ef(0x5ff));let _0x2a9c93=new Set(_0x53b15d[_0x1ca6ef(0x204)]??_0x6200a[_0x1ca6ef(0x204)]);_0x2a9c93[_0x1ca6ef(0x5f3)](_0x6200a[_0x1ca6ef(0x325)]);let _0x2e32cd=new Set(_0x53b15d[_0x1ca6ef(0x7d3)]??_0x6200a[_0x1ca6ef(0x7d3)]??[]);_0x2a9c93[_0x1ca6ef(0x154)](_0x77ed2f=>_0x2e32cd[_0x1ca6ef(0x5f3)](_0x77ed2f)),_0x2e32cd['add'](_0x6200a[_0x1ca6ef(0x325)]),this[_0x1ca6ef(0x1a7)][_0x1ca6ef(0x7ba)](this['instanceName']+'\x20('+this[_0x1ca6ef(0x1d9)]['wuid']+_0x1ca6ef(0x521)+Array[_0x1ca6ef(0x83e)](_0x2a9c93)),this['logger'][_0x1ca6ef(0x7ba)](this[_0x1ca6ef(0x3a0)]+'\x20('+this[_0x1ca6ef(0x1d9)][_0x1ca6ef(0x40b)]+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x1ca6ef(0x83e)](_0x2e32cd));let _0x1ed267=await this[_0x1ca6ef(0x65c)](Array[_0x1ca6ef(0x83e)](_0x2e32cd)),_0x5cbeae=Array['from'](_0x2a9c93)[_0x1ca6ef(0x186)](_0x5411c4=>_0x1ed267[_0x1ca6ef(0x371)](_0x5411c4)),_0x5841c0=Array[_0x1ca6ef(0x83e)](_0x2e32cd)['filter'](_0x109784=>_0x1ed267[_0x1ca6ef(0x371)](_0x109784));this[_0x1ca6ef(0x1a7)]['verbose'](this[_0x1ca6ef(0x3a0)]+'\x20('+this[_0x1ca6ef(0x1d9)]['wuid']+_0x1ca6ef(0x288)+_0x5cbeae),this[_0x1ca6ef(0x1a7)][_0x1ca6ef(0x7ba)](this[_0x1ca6ef(0x3a0)]+'\x20('+this[_0x1ca6ef(0x1d9)]['wuid']+_0x1ca6ef(0x43a)+_0x5841c0);let _0x47c8f5={..._0x6200a,..._0x53b15d,'whoCanEdit':_0x5cbeae,'whoCanUse':_0x5841c0},_0xb5b5d4=await this[_0x1ca6ef(0x2d1)][_0x1ca6ef(0x71a)][_0x1ca6ef(0x3fe)](_0x6200a['_id'],_0x47c8f5);return await this[_0x1ca6ef(0x625)](),_0xb5b5d4;}catch(_0x312498){let _0x2bc24b=_0x1ca6ef(0x700),_0x10e51a=_0x312498 instanceof Error?_0x312498['message']:typeof _0x312498=='object'?JSON[_0x1ca6ef(0x732)](_0x312498):_0x312498,_0x85e840=_0x2bc24b+':\x20'+_0x10e51a;throw this[_0x1ca6ef(0x1a7)][_0x1ca6ef(0x31d)](this['instanceName']+'\x20('+this['instance'][_0x1ca6ef(0x40b)]+'):\x20'+_0x85e840),new m(_0x85e840);}}async[a0_0x1e84a8(0x65c)](_0x10922b){const _0x2e9b70=a0_0x1e84a8;let _0x199940={'numbers':_0x10922b};return(await this[_0x2e9b70(0x5d2)](_0x199940))['filter'](_0xaa3871=>_0xaa3871[_0x2e9b70(0x70e)])[_0x2e9b70(0x7b9)](_0x247003=>_0x247003[_0x2e9b70(0x400)])[_0x2e9b70(0x7b9)](_0x5f1605=>this['extractPhoneNumber'](_0x5f1605));}[a0_0x1e84a8(0x64a)](_0x3e39c4){const _0x3c133d=a0_0x1e84a8;let _0x545c57=_0x3e39c4[_0x3c133d(0x7f2)](/\d+/);return _0x545c57?_0x545c57[0x0]:'';}async[a0_0x1e84a8(0x729)](_0xeeee39){const _0x51668f=a0_0x1e84a8;try{if(this[_0x51668f(0x1a7)][_0x51668f(0x7ba)](this[_0x51668f(0x3a0)]+'\x20('+this[_0x51668f(0x1d9)]['wuid']+_0x51668f(0x2b8)),!this['AutomateSystem'][_0x51668f(0x2cc)][_0x51668f(0x6a6)](_0x789e38=>_0x789e38['_id']===_0xeeee39[_0x51668f(0x3c4)]))throw this[_0x51668f(0x1a7)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Fluxo\x20\x27'+_0xeeee39[_0x51668f(0x3c4)]+_0x51668f(0x317)),new m(_0x51668f(0x67a));let _0x7305f8=await this[_0x51668f(0x2d1)]['flow'][_0x51668f(0x688)]({'where':{'_id':_0xeeee39['_id']}});if(!_0x7305f8||!_0x7305f8['whoCanUse']?.['includes'](this['instance'][_0x51668f(0x40b)]))throw this[_0x51668f(0x1a7)][_0x51668f(0x31d)](this[_0x51668f(0x3a0)]+'\x20('+this['instance'][_0x51668f(0x40b)]+_0x51668f(0xff)+_0xeeee39['_id']+_0x51668f(0x491)),new m(_0x51668f(0x1bf)+_0xeeee39['_id']+_0x51668f(0x491));if(!_0x7305f8['whoCanEdit']?.[_0x51668f(0x371)](this['instance'][_0x51668f(0x40b)]))throw new m(_0x51668f(0x3b7));let {block:_0x1e9890}=_0xeeee39;_0x1e9890?.[_0x51668f(0x737)]?this[_0x51668f(0x22d)](_0x7305f8,_0xeeee39):_0x1e9890?.[_0x51668f(0x185)]?this[_0x51668f(0x672)](_0x7305f8,_0xeeee39):_0x1e9890['_id']?await this[_0x51668f(0x355)](_0x7305f8,_0xeeee39):this['addBlock'](_0x7305f8,_0xeeee39);let _0xc4a4c1=await this[_0x51668f(0x2d1)][_0x51668f(0x71a)][_0x51668f(0x3fe)](_0x7305f8[_0x51668f(0x3c4)],_0x7305f8);if(!_0xc4a4c1)throw new Error(_0x51668f(0x763));return _0xc4a4c1;}catch(_0xed3227){this[_0x51668f(0x829)](_0x51668f(0x3e4)+_0xed3227['message']);}}async[a0_0x1e84a8(0x22d)](_0xebb4ce,_0x458d38){const _0x2e4c45=a0_0x1e84a8;let _0x38a4d5=_0x458d38[_0x2e4c45(0x2f1)][_0x2e4c45(0x3c4)],_0x32153c=_0xebb4ce[_0x2e4c45(0x5f4)]['find'](_0x9e9bc7=>_0x9e9bc7['_id'][_0x2e4c45(0x71c)]()===_0x38a4d5);if(!_0x32153c){this[_0x2e4c45(0x1a7)][_0x2e4c45(0x31d)](this[_0x2e4c45(0x3a0)]+'\x20('+this[_0x2e4c45(0x1d9)][_0x2e4c45(0x40b)]+'):\x20Bloco\x20com\x20ID\x20'+_0x38a4d5+_0x2e4c45(0x7d4));return;}this[_0x2e4c45(0x1a7)][_0x2e4c45(0x7ba)](this[_0x2e4c45(0x3a0)]+'\x20('+this[_0x2e4c45(0x1d9)]['wuid']+_0x2e4c45(0x4b5)+JSON[_0x2e4c45(0x732)](_0x32153c));let _0x1b70c2=JSON[_0x2e4c45(0x2c0)](JSON[_0x2e4c45(0x732)](_0x32153c));_0x1b70c2[_0x2e4c45(0x3c4)]=new ge[(_0x2e4c45(0x50f))]['Types'][(_0x2e4c45(0x53a))](),this[_0x2e4c45(0x1a7)][_0x2e4c45(0x7ba)](this[_0x2e4c45(0x3a0)]+'\x20('+this['instance'][_0x2e4c45(0x40b)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x2e4c45(0x732)](_0x1b70c2)),_0xebb4ce['blocks'][_0x2e4c45(0x857)](_0x1b70c2),this['reorderBlocks'](_0xebb4ce[_0x2e4c45(0x5f4)],_0x1b70c2[_0x2e4c45(0x34a)]);}[a0_0x1e84a8(0x829)](_0x2bc4bb){const _0x52a473=a0_0x1e84a8;throw this['logger'][_0x52a473(0x31d)](this['instanceName']+'\x20('+this[_0x52a473(0x1d9)][_0x52a473(0x40b)]+_0x52a473(0x52a)+_0x2bc4bb),new m(_0x2bc4bb);}[a0_0x1e84a8(0x672)](_0x16ef5f,_0x805169){const _0x7b0384=a0_0x1e84a8;let {block:_0x1e0046}=_0x805169;if(_0x1e0046[_0x7b0384(0x749)]===_0x7b0384(0x360)){this[_0x7b0384(0x829)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x1e0046['_id']){this[_0x7b0384(0x829)](_0x7b0384(0x660));return;}let _0x260deb=_0x16ef5f['blocks']['find'](_0x3e0b40=>_0x3e0b40[_0x7b0384(0x3c4)]['toString']()===_0x805169[_0x7b0384(0x2f1)][_0x7b0384(0x3c4)][_0x7b0384(0x71c)]());if(!_0x260deb){this[_0x7b0384(0x829)](_0x7b0384(0x67d)+_0x1e0046[_0x7b0384(0x3c4)]+_0x7b0384(0x804));return;}_0x16ef5f[_0x7b0384(0x5f4)]=_0x16ef5f[_0x7b0384(0x5f4)][_0x7b0384(0x186)](_0x18033a=>_0x18033a['_id'][_0x7b0384(0x71c)]()!==_0x805169[_0x7b0384(0x2f1)][_0x7b0384(0x3c4)]['toString']()),_0x16ef5f['conditions']=_0x16ef5f[_0x7b0384(0x7ec)][_0x7b0384(0x186)](_0x4acb19=>_0x4acb19[_0x7b0384(0x7d7)]!==_0x1e0046[_0x7b0384(0x3c4)][_0x7b0384(0x71c)]()),_0x16ef5f[_0x7b0384(0x425)]=_0x16ef5f['varedits'][_0x7b0384(0x186)](_0xe2251e=>_0xe2251e[_0x7b0384(0x7d7)]!==_0x1e0046[_0x7b0384(0x3c4)][_0x7b0384(0x71c)]()),_0x16ef5f['replyOptions']=_0x16ef5f['replyOptions'][_0x7b0384(0x186)](_0x1ba1c1=>_0x1ba1c1['blockId']!==_0x1e0046[_0x7b0384(0x3c4)]['toString']()),this[_0x7b0384(0x6c6)](_0x16ef5f[_0x7b0384(0x5f4)],_0x260deb[_0x7b0384(0x34a)]);}async['updateBlock'](_0x10dc56,_0x1babb9){const _0x8bf41d=a0_0x1e84a8;let _0x5e736e=_0x10dc56[_0x8bf41d(0x5f4)][_0x8bf41d(0x130)](_0x400272=>_0x400272[_0x8bf41d(0x3c4)][_0x8bf41d(0x71c)]()===_0x1babb9['block'][_0x8bf41d(0x3c4)][_0x8bf41d(0x71c)]());if(this['logger'][_0x8bf41d(0x7ba)](this[_0x8bf41d(0x3a0)]+'\x20('+this[_0x8bf41d(0x1d9)][_0x8bf41d(0x40b)]+_0x8bf41d(0x4f7)+_0x5e736e),_0x5e736e===-0x1){this[_0x8bf41d(0x1a7)]['verbose'](_0x8bf41d(0x67d)+_0x1babb9['block'][_0x8bf41d(0x3c4)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e]['type']==='start'){let _0x161a36=Object['keys'](_0x1babb9[_0x8bf41d(0x2f1)]);if(_0x161a36[_0x8bf41d(0x124)]>0x2||_0x161a36[_0x8bf41d(0x124)]===0x2&&!_0x161a36[_0x8bf41d(0x371)](_0x8bf41d(0x239))){this[_0x8bf41d(0x829)](_0x8bf41d(0x82a));return;}}let _0x430f7b=_0x10dc56['blocks'][_0x5e736e][_0x8bf41d(0x34a)];for(let _0x3721f3 in _0x1babb9[_0x8bf41d(0x2f1)])_0x1babb9['block'][_0x8bf41d(0x827)](_0x3721f3)&&(_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x3721f3]=_0x1babb9['block'][_0x3721f3]);if(this['logger'][_0x8bf41d(0x7ba)](this[_0x8bf41d(0x3a0)]+'\x20('+this[_0x8bf41d(0x1d9)]['wuid']+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x8bf41d(0x732)](_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e])),_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x8bf41d(0x343)]&&_0x8bf41d(0x6e2)in _0x10dc56['blocks'][_0x5e736e]['apirequest']){this[_0x8bf41d(0x1a7)][_0x8bf41d(0x7ba)](this['instanceName']+'\x20('+this[_0x8bf41d(0x1d9)][_0x8bf41d(0x40b)]+_0x8bf41d(0x544));let _0x1c1476=JSON[_0x8bf41d(0x732)](_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e]['apirequest'][_0x8bf41d(0x6e2)],null,0x1);_0x1c1476['length']>0x2&&(_0x1c1476=_0x1c1476[_0x8bf41d(0x7d8)](0x1,_0x1c1476['length']-0x1)[_0x8bf41d(0x1e8)]()),_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e]['apirequest'][_0x8bf41d(0x24d)]=_0x1c1476;}if(_0x10dc56['blocks'][_0x5e736e][_0x8bf41d(0x343)]&&'body'in _0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x8bf41d(0x343)]&&!(_0x8bf41d(0x51a)in _0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x8bf41d(0x343)])){this[_0x8bf41d(0x1a7)]['verbose'](this[_0x8bf41d(0x3a0)]+'\x20('+this['instance'][_0x8bf41d(0x40b)]+_0x8bf41d(0x45d)),_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e]['apirequest']['bodyStringErrorParse']=!0x1;let _0x4e2f27=JSON[_0x8bf41d(0x732)](_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x8bf41d(0x343)][_0x8bf41d(0x620)],null,0x2);_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x8bf41d(0x343)]['bodyString']=_0x4e2f27;}if(_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x8bf41d(0x343)]&&_0x8bf41d(0x51a)in _0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e]['apirequest']){_0x10dc56['blocks'][_0x5e736e][_0x8bf41d(0x343)][_0x8bf41d(0x7a5)]=!0x1;let _0x3290e9=_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x8bf41d(0x343)][_0x8bf41d(0x51a)],_0xd7f447=this['beautifyWithPlaceholders'](_0x3290e9);_0x10dc56['blocks'][_0x5e736e][_0x8bf41d(0x343)][_0x8bf41d(0x51a)]=_0xd7f447[_0x8bf41d(0x59f)],_0x10dc56['blocks'][_0x5e736e][_0x8bf41d(0x343)][_0x8bf41d(0x7a5)]=_0xd7f447[_0x8bf41d(0x31d)];}let _0x53bf01=_0x10dc56[_0x8bf41d(0x5f4)][_0x5e736e][_0x8bf41d(0x34a)];_0x430f7b!==_0x53bf01?(this[_0x8bf41d(0x6c6)](_0x10dc56[_0x8bf41d(0x5f4)],_0x430f7b),this['reorderBlocks'](_0x10dc56[_0x8bf41d(0x5f4)],_0x53bf01)):this['reorderBlocks'](_0x10dc56[_0x8bf41d(0x5f4)],_0x430f7b);}[a0_0x1e84a8(0x616)](_0xb0a241){const _0x17e6b6=a0_0x1e84a8;let _0x4f7a3f='\u205f',_0x3f2de7=!0x1,_0x5280ee='';for(let _0x26f322=0x0;_0x26f322<_0xb0a241['length'];_0x26f322++){let _0x1ad78d=_0xb0a241[_0x26f322];_0x1ad78d==='\x22'&&(_0x26f322===0x0||_0xb0a241[_0x26f322-0x1]!=='\x5c')&&(_0x3f2de7=!_0x3f2de7),!(!_0x3f2de7&&(_0x1ad78d==='\x0a'||_0x1ad78d==='\x20'||_0x1ad78d===_0x4f7a3f))&&(_0x5280ee+=_0x1ad78d);}let _0x580f5c={},_0x33d56c=9876543210.1234,_0x14d9d1=_0x5280ee[_0x17e6b6(0x122)](/\{\{([^}]+)\}\}/g,_0x30953f=>{let _0x5f0dd2=_0x30953f,_0x21dc30=''+_0x33d56c;return _0x580f5c[_0x21dc30]=_0x5f0dd2,_0x33d56c+=0.0001,_0x21dc30;}),_0x454381='',_0x36b11a=!0x1;try{let _0x2df8bc=JSON[_0x17e6b6(0x2c0)](_0x14d9d1);_0x454381=JSON[_0x17e6b6(0x732)](_0x2df8bc,null,0x2),_0x454381=_0x454381[_0x17e6b6(0x122)](/\n( +)/g,(_0x43027f,_0x1807cc)=>{const _0x114aa2=_0x17e6b6;let _0xadfade=_0x1807cc[_0x114aa2(0x124)];return'\x0a'+_0x4f7a3f[_0x114aa2(0x1b5)](_0xadfade*0x2);}),_0x454381=_0x454381['replace'](/(\d{10,}\.\d+)/g,_0x398a87=>_0x580f5c[_0x398a87]||_0x398a87);}catch(_0x16f4e5){this[_0x17e6b6(0x1a7)][_0x17e6b6(0x31d)](_0x17e6b6(0x422)+_0x16f4e5),_0x454381=_0xb0a241,_0x36b11a=!0x0;}return{'result':_0x454381,'error':_0x36b11a};}[a0_0x1e84a8(0x1a6)](_0x258484,_0x2b2ce5){const _0x50b431=a0_0x1e84a8;if(_0x2b2ce5['block']['type']==='start'){this[_0x50b431(0x829)](_0x50b431(0x107));return;}if(_0x2b2ce5[_0x50b431(0x2f1)][_0x50b431(0x343)]&&_0x50b431(0x6e2)in _0x2b2ce5[_0x50b431(0x2f1)][_0x50b431(0x343)]){this['logger'][_0x50b431(0x7ba)](this[_0x50b431(0x3a0)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x453232=JSON[_0x50b431(0x732)](_0x2b2ce5['block'][_0x50b431(0x343)][_0x50b431(0x6e2)],null,0x1);_0x453232[_0x50b431(0x124)]>0x2&&(_0x453232=_0x453232[_0x50b431(0x7d8)](0x1,_0x453232[_0x50b431(0x124)]-0x1)[_0x50b431(0x1e8)]()),_0x2b2ce5[_0x50b431(0x2f1)][_0x50b431(0x343)][_0x50b431(0x24d)]=_0x453232;}_0x2b2ce5['block']['apirequest']&&_0x50b431(0x620)in _0x2b2ce5[_0x50b431(0x2f1)]['apirequest']&&(this['logger'][_0x50b431(0x7ba)](this['instanceName']+'\x20('+this[_0x50b431(0x1d9)][_0x50b431(0x40b)]+_0x50b431(0x45d)),_0x2b2ce5[_0x50b431(0x2f1)]['apirequest']['bodyString']=JSON[_0x50b431(0x732)](_0x2b2ce5[_0x50b431(0x2f1)]['apirequest'][_0x50b431(0x620)],null,0x1)['trim']()),_0x258484[_0x50b431(0x5f4)][_0x50b431(0x857)](_0x2b2ce5[_0x50b431(0x2f1)]),this[_0x50b431(0x6c6)](_0x258484[_0x50b431(0x5f4)],_0x2b2ce5[_0x50b431(0x2f1)][_0x50b431(0x34a)]);}[a0_0x1e84a8(0x6c6)](_0x5b9e7a,_0x1193ee){const _0x17cea4=a0_0x1e84a8;let _0x37dc3a=_0x5b9e7a['filter'](_0x300092=>_0x300092[_0x17cea4(0x34a)]===_0x1193ee);_0x37dc3a['sort']((_0x10e27c,_0x3b1027)=>_0x10e27c[_0x17cea4(0x254)]-_0x3b1027[_0x17cea4(0x254)]),_0x37dc3a[_0x17cea4(0x154)]((_0x32145e,_0x263ca6)=>_0x32145e['order']=_0x263ca6+0x1);}async[a0_0x1e84a8(0x52e)](_0x253f67){const _0x30e2bf=a0_0x1e84a8;try{if(this[_0x30e2bf(0x1a7)][_0x30e2bf(0x7ba)](this[_0x30e2bf(0x3a0)]+'\x20('+this[_0x30e2bf(0x1d9)][_0x30e2bf(0x40b)]+'):\x20Editando\x20replyOption...'),!_0x253f67||!_0x253f67['replyOption']){this[_0x30e2bf(0x829)](_0x30e2bf(0x36e));return;}if(!this['AutomateSystem'][_0x30e2bf(0x2cc)]['find'](_0x48befc=>_0x48befc[_0x30e2bf(0x3c4)]===_0x253f67[_0x30e2bf(0x3c4)]))throw this['logger'][_0x30e2bf(0x7ba)](this['instanceName']+'\x20('+this[_0x30e2bf(0x1d9)]['wuid']+_0x30e2bf(0x79f)+_0x253f67[_0x30e2bf(0x3c4)]+_0x30e2bf(0x317)),new m(_0x30e2bf(0x67a));let _0x2ad972=await this['repository'][_0x30e2bf(0x71a)][_0x30e2bf(0x688)]({'where':{'_id':_0x253f67[_0x30e2bf(0x3c4)]}});if(!_0x2ad972||!_0x2ad972[_0x30e2bf(0x7d3)]?.[_0x30e2bf(0x371)](this[_0x30e2bf(0x1d9)][_0x30e2bf(0x40b)]))throw this[_0x30e2bf(0x1a7)][_0x30e2bf(0x31d)](this[_0x30e2bf(0x3a0)]+'\x20('+this[_0x30e2bf(0x1d9)][_0x30e2bf(0x40b)]+_0x30e2bf(0xff)+_0x253f67[_0x30e2bf(0x3c4)]+_0x30e2bf(0x491)),new m(_0x30e2bf(0x1bf)+_0x253f67[_0x30e2bf(0x3c4)]+_0x30e2bf(0x491));if(!_0x2ad972[_0x30e2bf(0x204)]?.[_0x30e2bf(0x371)](this['instance'][_0x30e2bf(0x40b)]))throw new m(_0x30e2bf(0x3b7));let {replyOption:_0x54024d}=_0x253f67;_0x54024d?.[_0x30e2bf(0x185)]?(this[_0x30e2bf(0x831)](_0x2ad972,_0x253f67),this[_0x30e2bf(0x7e7)](_0x2ad972[_0x30e2bf(0x708)],_0x253f67['replyOption']['blockId'])):_0x54024d[_0x30e2bf(0x3c4)]?(await this[_0x30e2bf(0x7c5)](_0x2ad972,_0x253f67),this['reorderReplyOptions'](_0x2ad972[_0x30e2bf(0x708)],_0x253f67[_0x30e2bf(0x60f)][_0x30e2bf(0x7d7)])):(this[_0x30e2bf(0x2e4)](_0x2ad972,_0x253f67),this[_0x30e2bf(0x7e7)](_0x2ad972['replyOptions'],_0x253f67[_0x30e2bf(0x60f)][_0x30e2bf(0x7d7)]));let _0x542fa7=await this[_0x30e2bf(0x2d1)][_0x30e2bf(0x71a)]['updateOne'](_0x2ad972[_0x30e2bf(0x3c4)],_0x2ad972);if(!_0x542fa7)throw new Error(_0x30e2bf(0x763));return _0x542fa7;}catch(_0xb35c06){this[_0x30e2bf(0x829)](_0x30e2bf(0x795)+_0xb35c06);}}[a0_0x1e84a8(0x7e7)](_0x3bee64,_0x50bd86){const _0x2011b8=a0_0x1e84a8;_0x3bee64[_0x2011b8(0x154)](_0x15266e=>{const _0x1d1c3d=_0x2011b8;_0x15266e[_0x1d1c3d(0x7d7)]===_0x50bd86&&_0x15266e['order']===void 0x0&&(_0x15266e[_0x1d1c3d(0x254)]=0x270f);});let _0x4ef152=_0x3bee64[_0x2011b8(0x186)](_0x4fb50c=>_0x4fb50c[_0x2011b8(0x7d7)]===_0x50bd86);_0x4ef152[_0x2011b8(0x652)]((_0x3b7a77,_0x1a2d71)=>_0x3b7a77[_0x2011b8(0x254)]-_0x1a2d71[_0x2011b8(0x254)]),_0x4ef152[_0x2011b8(0x154)]((_0x42dc71,_0x539854)=>{const _0x389aee=_0x2011b8;_0x42dc71[_0x389aee(0x254)]=_0x539854+0x1;}),_0x3bee64['forEach'](_0x41550e=>{const _0x350e8b=_0x2011b8;if(_0x41550e['blockId']===_0x50bd86){let _0x350069=_0x4ef152[_0x350e8b(0x6a6)](_0x3c48f6=>_0x3c48f6['_id']&&_0x41550e[_0x350e8b(0x3c4)]&&_0x3c48f6[_0x350e8b(0x3c4)][_0x350e8b(0x71c)]()===_0x41550e['_id'][_0x350e8b(0x71c)]());_0x350069&&(_0x41550e[_0x350e8b(0x254)]=_0x350069['order']);}});}[a0_0x1e84a8(0x831)](_0x4c61a0,_0x3a038f){const _0x277d0b=a0_0x1e84a8;let {replyOption:_0x3ad82c}=_0x3a038f;if(!_0x3ad82c[_0x277d0b(0x3c4)]){this[_0x277d0b(0x829)](_0x277d0b(0x563));return;}if(!_0x4c61a0[_0x277d0b(0x708)][_0x277d0b(0x6a6)](_0x261b82=>_0x261b82[_0x277d0b(0x3c4)]['toString']()===_0x3a038f[_0x277d0b(0x60f)][_0x277d0b(0x3c4)][_0x277d0b(0x71c)]())){this[_0x277d0b(0x829)](_0x277d0b(0x4a4)+_0x3ad82c[_0x277d0b(0x3c4)]+_0x277d0b(0x804));return;}_0x4c61a0[_0x277d0b(0x708)]=_0x4c61a0[_0x277d0b(0x708)]['filter'](_0x111ebd=>_0x111ebd[_0x277d0b(0x3c4)]['toString']()!==_0x3a038f[_0x277d0b(0x60f)][_0x277d0b(0x3c4)][_0x277d0b(0x71c)]());}async[a0_0x1e84a8(0x7c5)](_0x1954d9,_0x43ca0b){const _0x142c88=a0_0x1e84a8;let _0x5c96c1=_0x1954d9[_0x142c88(0x708)][_0x142c88(0x130)](_0x5e493a=>_0x5e493a[_0x142c88(0x3c4)]['toString']()===_0x43ca0b[_0x142c88(0x60f)][_0x142c88(0x3c4)][_0x142c88(0x71c)]());if(_0x5c96c1===-0x1){this[_0x142c88(0x829)](_0x142c88(0x4a4)+_0x43ca0b['replyOption'][_0x142c88(0x3c4)]+_0x142c88(0x192));return;}for(let _0xdb6f65 in _0x43ca0b[_0x142c88(0x60f)])_0x43ca0b['replyOption'][_0x142c88(0x827)](_0xdb6f65)&&(_0x1954d9[_0x142c88(0x708)][_0x5c96c1][_0xdb6f65]=_0x43ca0b[_0x142c88(0x60f)][_0xdb6f65]);}['addReplyOption'](_0x2befd7,_0x271b29){const _0x3828c9=a0_0x1e84a8;_0x2befd7[_0x3828c9(0x708)][_0x3828c9(0x857)](_0x271b29[_0x3828c9(0x60f)]);}async[a0_0x1e84a8(0x275)](_0x5581d0){const _0x809202=a0_0x1e84a8;this['logger'][_0x809202(0x7ba)](this[_0x809202(0x3a0)]+'\x20('+this[_0x809202(0x1d9)][_0x809202(0x40b)]+_0x809202(0x6c1)+JSON['stringify'](_0x5581d0,null,0x2));try{if(this[_0x809202(0x1a7)][_0x809202(0x7ba)](this[_0x809202(0x3a0)]+'\x20('+this[_0x809202(0x1d9)]['wuid']+_0x809202(0x168)),!this[_0x809202(0x289)][_0x809202(0x2cc)][_0x809202(0x6a6)](_0x9e3d7=>_0x9e3d7[_0x809202(0x3c4)]===_0x5581d0[_0x809202(0x3c4)]))throw this[_0x809202(0x1a7)][_0x809202(0x7ba)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Fluxo\x20\x27'+_0x5581d0[_0x809202(0x3c4)]+_0x809202(0x317)),new m(_0x809202(0x67a));let _0x577f19=await this['repository'][_0x809202(0x71a)][_0x809202(0x688)]({'where':{'_id':_0x5581d0[_0x809202(0x3c4)]}});if(!_0x577f19||!_0x577f19[_0x809202(0x7d3)]?.[_0x809202(0x371)](this['instance'][_0x809202(0x40b)]))throw this[_0x809202(0x1a7)][_0x809202(0x31d)](this[_0x809202(0x3a0)]+'\x20('+this[_0x809202(0x1d9)][_0x809202(0x40b)]+_0x809202(0xff)+_0x5581d0[_0x809202(0x3c4)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x809202(0x1bf)+_0x5581d0[_0x809202(0x3c4)]+_0x809202(0x491));if(!_0x577f19[_0x809202(0x204)]?.['includes'](this[_0x809202(0x1d9)][_0x809202(0x40b)]))throw new m(_0x809202(0x3b7));if(_0x5581d0[_0x809202(0x3e5)]&&_0x5581d0['group']?.[_0x809202(0x185)]===!0x0){if(this[_0x809202(0x1a7)][_0x809202(0x7ba)](this[_0x809202(0x3a0)]+'\x20('+this[_0x809202(0x1d9)][_0x809202(0x40b)]+_0x809202(0x504)),_0x5581d0[_0x809202(0x3e5)][_0x809202(0x50f)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x577f19['blocks'][_0x809202(0x645)](_0x1b3389=>_0x1b3389[_0x809202(0x34a)][_0x809202(0x71c)]()===_0x5581d0[_0x809202(0x3e5)]['_id']))return this[_0x809202(0x1a7)][_0x809202(0x7ba)](this[_0x809202(0x3a0)]+'\x20('+this[_0x809202(0x1d9)][_0x809202(0x40b)]+_0x809202(0x22c)),{'message':_0x809202(0x109)};_0x577f19[_0x809202(0x77c)]=_0x577f19[_0x809202(0x77c)][_0x809202(0x186)](_0x5e1c7a=>_0x5e1c7a[_0x809202(0x3c4)][_0x809202(0x71c)]()!==_0x5581d0[_0x809202(0x3e5)][_0x809202(0x3c4)]);}else{if(_0x5581d0[_0x809202(0x3e5)]){if(_0x5581d0['group']['default']===!0x0)return{'message':_0x809202(0x443)};if(_0x5581d0[_0x809202(0x3e5)]['_id']){let _0x2a71ca=_0x577f19['groups']['find'](_0x4838e3=>_0x4838e3[_0x809202(0x3c4)]['toString']()===_0x5581d0[_0x809202(0x3e5)][_0x809202(0x3c4)]);_0x2a71ca&&(_0x5581d0[_0x809202(0x3e5)]['x']<0x0&&(_0x5581d0[_0x809202(0x3e5)]['x']=0x0),_0x5581d0[_0x809202(0x3e5)]['y']<0x0&&(_0x5581d0[_0x809202(0x3e5)]['y']=0x0),Object[_0x809202(0x4e7)](_0x2a71ca,_0x5581d0[_0x809202(0x3e5)]));}else _0x577f19[_0x809202(0x77c)][_0x809202(0x857)](_0x5581d0[_0x809202(0x3e5)]);}}let _0x5064d1=await this[_0x809202(0x2d1)][_0x809202(0x71a)]['updateOne'](_0x577f19['_id'],_0x577f19);if(!_0x5064d1)throw new Error(_0x809202(0x763));return _0x5064d1;}catch(_0x13bbeb){let _0x30bc49=_0x809202(0x392),_0x51e489=_0x13bbeb instanceof Error?_0x13bbeb[_0x809202(0x4b3)]:typeof _0x13bbeb==_0x809202(0x526)?JSON[_0x809202(0x732)](_0x13bbeb):_0x13bbeb,_0x29cac6=_0x30bc49+':\x20'+_0x51e489;throw this['logger'][_0x809202(0x31d)](this[_0x809202(0x3a0)]+'\x20('+this[_0x809202(0x1d9)][_0x809202(0x40b)]+'):\x20'+_0x29cac6),new m(_0x29cac6);}}async[a0_0x1e84a8(0x191)](_0x51ca2a){const _0x349bdd=a0_0x1e84a8;try{if(this[_0x349bdd(0x1a7)][_0x349bdd(0x7ba)](this['instanceName']+'\x20('+this[_0x349bdd(0x1d9)]['wuid']+_0x349bdd(0x4de)),!this[_0x349bdd(0x289)][_0x349bdd(0x2cc)][_0x349bdd(0x6a6)](_0x4340b6=>_0x4340b6[_0x349bdd(0x3c4)]===_0x51ca2a[_0x349bdd(0x3c4)]))throw this[_0x349bdd(0x1a7)]['verbose'](this[_0x349bdd(0x3a0)]+'\x20('+this['instance'][_0x349bdd(0x40b)]+_0x349bdd(0x79f)+_0x51ca2a[_0x349bdd(0x3c4)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x47c4d7=await this[_0x349bdd(0x2d1)]['flow'][_0x349bdd(0x688)]({'where':{'_id':_0x51ca2a[_0x349bdd(0x3c4)]}});if(!_0x47c4d7||!_0x47c4d7['whoCanUse']?.[_0x349bdd(0x371)](this[_0x349bdd(0x1d9)][_0x349bdd(0x40b)]))throw this[_0x349bdd(0x1a7)]['error'](this[_0x349bdd(0x3a0)]+'\x20('+this[_0x349bdd(0x1d9)][_0x349bdd(0x40b)]+_0x349bdd(0xff)+_0x51ca2a[_0x349bdd(0x3c4)]+_0x349bdd(0x491)),new m('Flow\x20\x27'+_0x51ca2a['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x47c4d7[_0x349bdd(0x204)]?.[_0x349bdd(0x371)](this['instance']['wuid']))throw new m(_0x349bdd(0x3b7));let _0x373f86=!0x1;if(_0x51ca2a['condition']?.[_0x349bdd(0x185)]===!0x0)_0x47c4d7[_0x349bdd(0x7ec)]=_0x47c4d7[_0x349bdd(0x7ec)][_0x349bdd(0x186)](_0x5c6591=>_0x5c6591&&_0x51ca2a[_0x349bdd(0x410)]&&_0x5c6591[_0x349bdd(0x3c4)]&&_0x51ca2a[_0x349bdd(0x410)]['_id']&&_0x5c6591[_0x349bdd(0x3c4)]['toString']()!==_0x51ca2a['condition']['_id']['toString']()),_0x373f86=!0x0;else{let _0x47f3f2=_0x47c4d7[_0x349bdd(0x7ec)][_0x349bdd(0x6a6)](_0x341283=>_0x341283&&_0x51ca2a[_0x349bdd(0x410)]&&_0x341283[_0x349bdd(0x3c4)]&&_0x51ca2a[_0x349bdd(0x410)][_0x349bdd(0x3c4)]&&_0x341283[_0x349bdd(0x3c4)][_0x349bdd(0x71c)]()===_0x51ca2a[_0x349bdd(0x410)][_0x349bdd(0x3c4)][_0x349bdd(0x71c)]());_0x47f3f2?(_0x373f86=_0x47f3f2['order']!==_0x51ca2a[_0x349bdd(0x410)]['order'],Object[_0x349bdd(0x4e7)](_0x47f3f2,_0x51ca2a[_0x349bdd(0x410)])):(_0x47c4d7[_0x349bdd(0x7ec)]['push'](_0x51ca2a[_0x349bdd(0x410)]),_0x373f86=!0x0);}if(_0x373f86){_0x47c4d7[_0x349bdd(0x7ec)][_0x349bdd(0x652)]((_0x35aeb8,_0x499166)=>_0x35aeb8[_0x349bdd(0x254)]>_0x499166['order']?0x1:_0x499166[_0x349bdd(0x254)]>_0x35aeb8['order']?-0x1:0x0);for(let _0x5e557a=0x0;_0x5e557a<_0x47c4d7[_0x349bdd(0x7ec)][_0x349bdd(0x124)];_0x5e557a++)_0x47c4d7[_0x349bdd(0x7ec)][_0x5e557a]['order']=_0x5e557a+0x1;_0x47c4d7[_0x349bdd(0x7ec)]['length']>0x0&&(_0x47c4d7[_0x349bdd(0x7ec)][0x0]['OrAnd']='and');}let _0x4c5e09=await this[_0x349bdd(0x2d1)]['flow'][_0x349bdd(0x3fe)](_0x47c4d7[_0x349bdd(0x3c4)],_0x47c4d7);if(!_0x4c5e09)throw new Error(_0x349bdd(0x763));return _0x4c5e09;}catch(_0x1a06ad){let _0x58cc35=_0x349bdd(0x75b),_0x2f2e15=_0x1a06ad instanceof Error?_0x1a06ad[_0x349bdd(0x4b3)]:typeof _0x1a06ad==_0x349bdd(0x526)?JSON[_0x349bdd(0x732)](_0x1a06ad):_0x1a06ad,_0x5883d2=_0x58cc35+':\x20'+_0x2f2e15;throw this[_0x349bdd(0x1a7)][_0x349bdd(0x31d)](this[_0x349bdd(0x3a0)]+'\x20('+this[_0x349bdd(0x1d9)]['wuid']+'):\x20'+_0x5883d2),new m(_0x5883d2);}}async[a0_0x1e84a8(0x5b5)](_0xfe50a){const _0xde0d51=a0_0x1e84a8;try{if(this[_0xde0d51(0x1a7)][_0xde0d51(0x7ba)](this[_0xde0d51(0x3a0)]+'\x20('+this[_0xde0d51(0x1d9)]['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this['AutomateSystem']['flows'][_0xde0d51(0x6a6)](_0x557b10=>_0x557b10[_0xde0d51(0x3c4)]===_0xfe50a[_0xde0d51(0x3c4)]))throw this[_0xde0d51(0x1a7)][_0xde0d51(0x7ba)](this[_0xde0d51(0x3a0)]+'\x20('+this[_0xde0d51(0x1d9)][_0xde0d51(0x40b)]+_0xde0d51(0x79f)+_0xfe50a['_id']+_0xde0d51(0x317)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x319f91=await this[_0xde0d51(0x2d1)][_0xde0d51(0x71a)][_0xde0d51(0x688)]({'where':{'_id':_0xfe50a['_id']}});if(!_0x319f91||!_0x319f91[_0xde0d51(0x7d3)]?.[_0xde0d51(0x371)](this[_0xde0d51(0x1d9)][_0xde0d51(0x40b)]))throw this[_0xde0d51(0x1a7)][_0xde0d51(0x31d)](this[_0xde0d51(0x3a0)]+'\x20('+this[_0xde0d51(0x1d9)]['wuid']+_0xde0d51(0xff)+_0xfe50a[_0xde0d51(0x3c4)]+_0xde0d51(0x491)),new m('Flow\x20\x27'+_0xfe50a[_0xde0d51(0x3c4)]+_0xde0d51(0x491));if(!_0x319f91[_0xde0d51(0x204)]?.[_0xde0d51(0x371)](this[_0xde0d51(0x1d9)][_0xde0d51(0x40b)]))throw new m(_0xde0d51(0x3b7));let _0x2c574b=!0x1;if(_0xfe50a[_0xde0d51(0x674)]?.[_0xde0d51(0x185)]===!0x0)_0x319f91['varedits']=_0x319f91[_0xde0d51(0x425)][_0xde0d51(0x186)](_0x58572f=>_0x58572f&&_0xfe50a[_0xde0d51(0x674)]&&_0x58572f[_0xde0d51(0x3c4)]&&_0xfe50a['varedit'][_0xde0d51(0x3c4)]&&_0x58572f['_id'][_0xde0d51(0x71c)]()!==_0xfe50a[_0xde0d51(0x674)][_0xde0d51(0x3c4)][_0xde0d51(0x71c)]()),_0x2c574b=!0x0;else{let _0x4739aa=_0x319f91[_0xde0d51(0x425)]['find'](_0xcee52e=>_0xcee52e&&_0xfe50a[_0xde0d51(0x674)]&&_0xcee52e[_0xde0d51(0x3c4)]&&_0xfe50a[_0xde0d51(0x674)][_0xde0d51(0x3c4)]&&_0xcee52e[_0xde0d51(0x3c4)]['toString']()===_0xfe50a[_0xde0d51(0x674)]['_id'][_0xde0d51(0x71c)]());_0x4739aa?(_0x2c574b=_0x4739aa['order']!==_0xfe50a['varedit']['order'],Object[_0xde0d51(0x4e7)](_0x4739aa,_0xfe50a[_0xde0d51(0x674)])):(_0x319f91[_0xde0d51(0x425)][_0xde0d51(0x857)](_0xfe50a[_0xde0d51(0x674)]),_0x2c574b=!0x0);}if(_0x2c574b){_0x319f91[_0xde0d51(0x425)][_0xde0d51(0x652)]((_0x4786fa,_0x5b5a55)=>_0x4786fa[_0xde0d51(0x254)]>_0x5b5a55[_0xde0d51(0x254)]?0x1:_0x5b5a55[_0xde0d51(0x254)]>_0x4786fa[_0xde0d51(0x254)]?-0x1:0x0);for(let _0x3a25b1=0x0;_0x3a25b1<_0x319f91[_0xde0d51(0x425)][_0xde0d51(0x124)];_0x3a25b1++)_0x319f91[_0xde0d51(0x425)][_0x3a25b1]['order']=_0x3a25b1+0x1;}let _0x5454ec=await this[_0xde0d51(0x2d1)][_0xde0d51(0x71a)]['updateOne'](_0x319f91['_id'],_0x319f91);if(!_0x5454ec)throw new Error(_0xde0d51(0x763));return _0x5454ec;}catch(_0x2bfb13){let _0x46e64f=_0xde0d51(0x75b),_0x43f36a=_0x2bfb13 instanceof Error?_0x2bfb13[_0xde0d51(0x4b3)]:typeof _0x2bfb13==_0xde0d51(0x526)?JSON[_0xde0d51(0x732)](_0x2bfb13):_0x2bfb13,_0x422bc4=_0x46e64f+':\x20'+_0x43f36a;throw this[_0xde0d51(0x1a7)][_0xde0d51(0x31d)](this[_0xde0d51(0x3a0)]+'\x20('+this[_0xde0d51(0x1d9)][_0xde0d51(0x40b)]+_0xde0d51(0x52a)+_0x422bc4),new m(_0x422bc4);}}async[a0_0x1e84a8(0x39f)](_0x336f95){const _0x188868=a0_0x1e84a8;try{if(this[_0x188868(0x1a7)]['verbose'](this[_0x188868(0x3a0)]+'\x20('+this[_0x188868(0x1d9)][_0x188868(0x40b)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x188868(0x289)][_0x188868(0x2cc)][_0x188868(0x6a6)](_0x209b37=>_0x209b37[_0x188868(0x3c4)]===_0x336f95['_id']))throw this[_0x188868(0x1a7)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x188868(0x40b)]+'):\x20Fluxo\x20\x27'+_0x336f95[_0x188868(0x3c4)]+_0x188868(0x317)),new m(_0x188868(0x67a));let _0x57ca47=await this[_0x188868(0x2d1)][_0x188868(0x71a)][_0x188868(0x688)]({'where':{'_id':_0x336f95[_0x188868(0x3c4)]}});if(!_0x57ca47||!_0x57ca47[_0x188868(0x7d3)]?.[_0x188868(0x371)](this[_0x188868(0x1d9)][_0x188868(0x40b)]))throw this[_0x188868(0x1a7)]['error'](this[_0x188868(0x3a0)]+'\x20('+this['instance'][_0x188868(0x40b)]+'):\x20Flow\x20\x27'+_0x336f95[_0x188868(0x3c4)]+_0x188868(0x491)),new m(_0x188868(0x1bf)+_0x336f95['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x57ca47['whoCanEdit']?.['includes'](this[_0x188868(0x1d9)][_0x188868(0x40b)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');_0x336f95[_0x188868(0x403)][_0x188868(0x2c3)]=_0x336f95[_0x188868(0x403)][_0x188868(0x2c3)][_0x188868(0x1e8)](),_0x336f95[_0x188868(0x403)][_0x188868(0x2c3)][_0x188868(0x37e)]('_')&&(_0x336f95[_0x188868(0x403)]['name']=_0x336f95['variable'][_0x188868(0x2c3)][_0x188868(0x7d8)](0x1)),_0x336f95[_0x188868(0x403)][_0x188868(0x2c3)]=_0x336f95['variable'][_0x188868(0x2c3)][_0x188868(0x1e8)]();let _0x2bfa4a=_0x57ca47['variables'][_0x188868(0x6a6)](_0x3f1ece=>_0x3f1ece['name']===_0x336f95[_0x188868(0x403)][_0x188868(0x2c3)]);if(_0x2bfa4a?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x336f95[_0x188868(0x403)]?.[_0x188868(0x185)]===!0x0){if(!_0x2bfa4a)return{'message':_0x188868(0x301)};_0x57ca47[_0x188868(0x316)]=_0x57ca47[_0x188868(0x316)][_0x188868(0x186)](_0x18444e=>_0x18444e[_0x188868(0x2c3)]!==_0x336f95['variable'][_0x188868(0x2c3)]);}else _0x2bfa4a?Object['assign'](_0x2bfa4a,_0x336f95[_0x188868(0x403)]):_0x57ca47[_0x188868(0x316)][_0x188868(0x857)](_0x336f95[_0x188868(0x403)]);let _0x17106c=await this[_0x188868(0x2d1)]['flow'][_0x188868(0x3fe)](_0x57ca47[_0x188868(0x3c4)],_0x57ca47);if(!_0x17106c)throw new Error(_0x188868(0x763));return _0x17106c;}catch(_0x1ade92){let _0x5e93d1=_0x188868(0x5a8),_0x1b4e40=_0x1ade92 instanceof Error?_0x1ade92[_0x188868(0x4b3)]:typeof _0x1ade92==_0x188868(0x526)?JSON['stringify'](_0x1ade92):_0x1ade92,_0x2b7015=_0x5e93d1+':\x20'+_0x1b4e40;throw this[_0x188868(0x1a7)][_0x188868(0x31d)](this[_0x188868(0x3a0)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x2b7015),new m(_0x2b7015);}}async[a0_0x1e84a8(0x79b)](_0x3c24cf){const _0xde4d04=a0_0x1e84a8;let _0x1762d5=null;try{if(!this['AutomateSystem']?.[_0xde4d04(0x50d)][_0xde4d04(0x388)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0xde4d04(0x1a7)]['verbose'](this[_0xde4d04(0x3a0)]+'\x20('+this[_0xde4d04(0x1d9)][_0xde4d04(0x40b)]+'):\x20Iniciando\x20bot...');let _0x54b645=(await this[_0xde4d04(0x5d2)]({'numbers':[_0x3c24cf[_0xde4d04(0x6aa)]]}))[0x0];if(!_0x54b645['exists']&&!(0x0,w[_0xde4d04(0x5be)])(_0x54b645[_0xde4d04(0x400)])&&!_0x54b645[_0xde4d04(0x400)][_0xde4d04(0x371)]('@broadcast'))throw _0x1762d5=JSON['stringify'](_0x54b645,null,0x2),new m(_0x54b645);let _0x141961;if(_0x3c24cf[_0xde4d04(0x2c3)][_0xde4d04(0x124)]===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x3c24cf['name'])?_0x141961=this[_0xde4d04(0x289)][_0xde4d04(0x2cc)][_0xde4d04(0x6a6)](_0x529610=>_0x529610[_0xde4d04(0x3c4)]===_0x3c24cf[_0xde4d04(0x2c3)]):_0x141961=this[_0xde4d04(0x289)][_0xde4d04(0x2cc)][_0xde4d04(0x6a6)](_0x16a074=>_0x16a074[_0xde4d04(0x2c3)]===_0x3c24cf[_0xde4d04(0x2c3)]),!_0x141961)throw this[_0xde4d04(0x1a7)][_0xde4d04(0x7ba)](this['instanceName']+'\x20('+this[_0xde4d04(0x1d9)][_0xde4d04(0x40b)]+_0xde4d04(0x79f)+_0x3c24cf[_0xde4d04(0x2c3)]+_0xde4d04(0x317)),new m(_0xde4d04(0x67a));let _0x5264b2=await this[_0xde4d04(0x2d1)][_0xde4d04(0x71a)][_0xde4d04(0x688)]({'where':{'_id':_0x141961[_0xde4d04(0x3c4)]}});if(!_0x5264b2||!_0x5264b2[_0xde4d04(0x7d3)]?.[_0xde4d04(0x371)](this['instance'][_0xde4d04(0x40b)]))throw this[_0xde4d04(0x1a7)]['error'](this['instanceName']+'\x20('+this['instance'][_0xde4d04(0x40b)]+_0xde4d04(0xff)+_0x141961[_0xde4d04(0x3c4)]+_0xde4d04(0x491)),_0x1762d5=_0xde4d04(0x1bf)+_0x141961[_0xde4d04(0x3c4)]+_0xde4d04(0x491),new m(_0x1762d5);let _0x2e184d=await this['createConversationforStartFlow'](_0x5264b2,_0x54b645[_0xde4d04(0x400)],_0x3c24cf[_0xde4d04(0x363)]);if(_0x2e184d){this['logger']['verbose'](this[_0xde4d04(0x3a0)]+'\x20('+this[_0xde4d04(0x1d9)][_0xde4d04(0x40b)]+_0xde4d04(0x265));let _0x319834=await this[_0xde4d04(0x173)](_0x2e184d);return _0x319834&&await this[_0xde4d04(0x395)](_0x2e184d,_0x319834),{'message':'Flow\x20iniciado\x20com\x20'+_0x3c24cf[_0xde4d04(0x6aa)]};}}catch(_0x4689fb){if(this[_0xde4d04(0x1a7)][_0xde4d04(0x31d)](this[_0xde4d04(0x3a0)]+'\x20('+this[_0xde4d04(0x1d9)][_0xde4d04(0x40b)]+_0xde4d04(0x53f)+(_0x4689fb instanceof Error?_0x4689fb[_0xde4d04(0x4b3)]:JSON[_0xde4d04(0x732)](_0x4689fb,null,0x2))),_0x1762d5=_0x4689fb instanceof Error?_0x4689fb[_0xde4d04(0x4b3)]:JSON[_0xde4d04(0x732)](_0x4689fb,null,0x2),_0x1762d5)throw new m(_0xde4d04(0x4c0)+_0x1762d5);}}async[a0_0x1e84a8(0x500)](_0x46e6f5,_0x63f66e,_0x345592){const _0x347680=a0_0x1e84a8;let _0x1a98f5=null;try{if(!this[_0x347680(0x289)]?.['flowConfig'][_0x347680(0x388)])throw new m(_0x347680(0x455));if(this[_0x347680(0x1a7)]['verbose'](this[_0x347680(0x3a0)]+'\x20('+this[_0x347680(0x1d9)][_0x347680(0x40b)]+_0x347680(0x361)),_0x63f66e){let _0x142074=(await this['whatsappNumber']({'numbers':[_0x63f66e]}))[0x0];if(!_0x142074[_0x347680(0x70e)]&&!(0x0,w[_0x347680(0x5be)])(_0x142074[_0x347680(0x400)])&&!_0x142074['jid'][_0x347680(0x371)](_0x347680(0x268)))throw _0x1a98f5=JSON[_0x347680(0x732)](_0x142074,null,0x2),new m(_0x142074);_0x63f66e=_0x142074[_0x347680(0x400)];}else _0x63f66e||(_0x63f66e=(0x0,Y['v4'])());let _0x387202=await this[_0x347680(0x2d1)][_0x347680(0x71a)][_0x347680(0x688)]({'where':{'_id':_0x46e6f5}});if(!_0x387202||!_0x387202[_0x347680(0x7d3)]?.[_0x347680(0x371)](this['instance'][_0x347680(0x40b)]))throw this[_0x347680(0x1a7)][_0x347680(0x31d)](this[_0x347680(0x3a0)]+'\x20('+this['instance'][_0x347680(0x40b)]+'):\x20Flow\x20\x27'+_0x46e6f5+_0x347680(0x491)),new m('Flow\x20\x27'+_0x46e6f5+_0x347680(0x491));let _0xd185ab=await this[_0x347680(0x298)](_0x387202,_0x63f66e,null);if(_0xd185ab){this[_0x347680(0x1a7)][_0x347680(0x7ba)](this[_0x347680(0x3a0)]+'\x20('+this[_0x347680(0x1d9)][_0x347680(0x40b)]+_0x347680(0x310));let _0x5644ec;if(_0x345592){let _0x3a206a=_0xd185ab[_0x347680(0x52c)][_0x347680(0x5df)],_0x3e619d=this[_0x347680(0x4c9)](_0x345592);Object['assign'](_0x3a206a,_0x3e619d),_0xd185ab[_0x347680(0x52c)][_0x347680(0x5df)]=_0x3a206a,_0x5644ec={'error':!0x1,'apiResponse':_0x345592};}let _0x4d3d7a=await this[_0x347680(0x173)](_0xd185ab);return _0x4d3d7a&&await this[_0x347680(0x395)](_0xd185ab,_0x4d3d7a),{'message':_0x347680(0x7de)};}}catch(_0x5d3b5d){if(this['logger']['error'](this[_0x347680(0x3a0)]+'\x20('+this['instance'][_0x347680(0x40b)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x5d3b5d instanceof Error?_0x5d3b5d['message']:JSON[_0x347680(0x732)](_0x5d3b5d,null,0x2))),_0x1a98f5=_0x5d3b5d instanceof Error?_0x5d3b5d[_0x347680(0x4b3)]:JSON['stringify'](_0x5d3b5d,null,0x2),_0x1a98f5)throw new m(_0x347680(0x4c0)+_0x1a98f5);}}async[a0_0x1e84a8(0x13a)](_0x3645fa){const _0x3874ba=a0_0x1e84a8;try{let _0x173490={'remoteJid':_0x3645fa,'status':_0x3874ba(0x493)},_0x37f5db={'status':_0x3874ba(0x3be)},_0x59b242=await this['repository']['flowConversation'][_0x3874ba(0x74a)](_0x173490,_0x37f5db,this[_0x3874ba(0x1d9)][_0x3874ba(0x40b)]);return this[_0x3874ba(0x1a7)][_0x3874ba(0x7ba)](this['instanceName']+'\x20('+this[_0x3874ba(0x1d9)]['wuid']+_0x3874ba(0x776)),_0x59b242;}catch(_0x2a232b){throw this[_0x3874ba(0x1a7)]['error'](this['instanceName']+'\x20('+this[_0x3874ba(0x1d9)][_0x3874ba(0x40b)]+_0x3874ba(0x269)+_0x2a232b[_0x3874ba(0x4b3)]),_0x2a232b;}}async['createConversationforStartFlow'](_0x763aa9,_0x219f70,_0x47f3fa){const _0x5e8181=a0_0x1e84a8;this['logger'][_0x5e8181(0x7ba)](this['instanceName']+'\x20('+this[_0x5e8181(0x1d9)][_0x5e8181(0x40b)]+_0x5e8181(0x151)),await this['closeExistingConversations'](_0x219f70);try{let _0x35b209=require(_0x5e8181(0x5b0))['ObjectId'],_0x495088=Date['now'](),_0x5d59c7=_0x5e8181(0x360),_0x582dda={},_0x24ddab={},_0x33c3d3=this['AutomateSystem'][_0x5e8181(0x2cc)][_0x5e8181(0x6a6)](_0x35279f=>_0x35279f['_id']===_0x763aa9[_0x5e8181(0x3c4)]?.[_0x5e8181(0x71c)]()),_0x544bb8=_0x33c3d3?.['minutesToClose']??_0x763aa9[_0x5e8181(0x23c)]??0x0,_0x198213=_0x33c3d3?.[_0x5e8181(0x718)]??_0x763aa9['readMessages']??!0x1,_0xf4fcef={'flowId':_0x763aa9[_0x5e8181(0x3c4)],..._0x763aa9,'chatLog':null},_0x1e22a1=await this[_0x5e8181(0x635)](_0xf4fcef[_0x5e8181(0x316)]),_0x420156=await this['getVariablesChat'](_0x219f70),_0x423de1={..._0x1e22a1,..._0x420156,'_remoteJid':_0x219f70},_0x27b5ac={'lastReceivedMessage':_0x582dda,'lastSendMessage':_0x24ddab,'lastBlockId':_0x5d59c7,'lastCondition':!0x0,'realVariables':_0x423de1};_0xf4fcef[_0x5e8181(0x52c)]=_0x27b5ac,_0xf4fcef[_0x5e8181(0x52c)][_0x5e8181(0x5df)]={..._0x423de1,..._0x47f3fa},delete _0xf4fcef['_id'],_0xf4fcef[_0x5e8181(0x3c4)]=new _0x35b209(),_0xf4fcef[_0x5e8181(0x66d)]=_0x495088,_0xf4fcef['status']=_0x5e8181(0x493),_0xf4fcef[_0x5e8181(0x6aa)]=_0x219f70,_0xf4fcef[_0x5e8181(0x23c)]=_0x544bb8,_0xf4fcef[_0x5e8181(0x718)]=_0x198213,_0xf4fcef['_id']=_0x763aa9['_id'];let _0x15b115=await this['repository'][_0x5e8181(0x689)][_0x5e8181(0x3fe)](_0xf4fcef[_0x5e8181(0x3c4)],_0xf4fcef,this[_0x5e8181(0x1d9)][_0x5e8181(0x40b)]);return this['logger'][_0x5e8181(0x7ba)](this['instanceName']+'\x20('+this[_0x5e8181(0x1d9)][_0x5e8181(0x40b)]+_0x5e8181(0x3f1)),_0x15b115?_0xf4fcef:null;}catch(_0x11ee17){let _0x52f3cb=_0x5e8181(0x2f6),_0x367539=_0x11ee17 instanceof Error?_0x11ee17[_0x5e8181(0x4b3)]:typeof _0x11ee17=='object'?JSON[_0x5e8181(0x732)](_0x11ee17):_0x11ee17,_0x2bb224=_0x52f3cb+':\x20'+_0x367539;throw this[_0x5e8181(0x1a7)][_0x5e8181(0x31d)](this['instanceName']+'\x20('+this[_0x5e8181(0x1d9)][_0x5e8181(0x40b)]+'):\x20'+_0x2bb224),new m(_0x2bb224);}}async['getConversation'](_0x2cf3d3){const _0x4fd165=a0_0x1e84a8;try{this['logger'][_0x4fd165(0x7ba)](this[_0x4fd165(0x3a0)]+'\x20('+this['instance']['wuid']+_0x4fd165(0x6e4)),this[_0x4fd165(0x1a7)][_0x4fd165(0x7ba)](this[_0x4fd165(0x3a0)]+'\x20('+this[_0x4fd165(0x1d9)][_0x4fd165(0x40b)]+'):\x20Query\x20params:\x20'+_0x2cf3d3);let _0x12df74={'where':{'_id':_0x2cf3d3}};return await this[_0x4fd165(0x2d1)][_0x4fd165(0x689)][_0x4fd165(0x688)](_0x12df74,this['instance'][_0x4fd165(0x40b)]);}catch(_0x14b4f6){let _0x2af661='Erro\x20ao\x20buscar\x20a\x20conversa',_0x26f934=_0x14b4f6 instanceof Error?_0x14b4f6['message']:typeof _0x14b4f6==_0x4fd165(0x526)?JSON[_0x4fd165(0x732)](_0x14b4f6):_0x14b4f6,_0x58662a=_0x2af661+':\x20'+_0x26f934;throw this[_0x4fd165(0x1a7)]['error'](this[_0x4fd165(0x3a0)]+'\x20('+this['instance']['wuid']+_0x4fd165(0x52a)+_0x58662a),new m(_0x58662a);}}async[a0_0x1e84a8(0x72c)](_0x3cffd2){const _0x3f2ed0=a0_0x1e84a8;try{return this['logger'][_0x3f2ed0(0x7ba)](this[_0x3f2ed0(0x3a0)]+'\x20('+this['instance'][_0x3f2ed0(0x40b)]+_0x3f2ed0(0x70c)),await this[_0x3f2ed0(0x2d1)][_0x3f2ed0(0x689)][_0x3f2ed0(0x6a6)](_0x3cffd2,this[_0x3f2ed0(0x1d9)][_0x3f2ed0(0x40b)]);}catch(_0xa5d05d){let _0x4eddb4='Erro\x20ao\x20buscar\x20conversas',_0x3c5170=_0xa5d05d instanceof Error?_0xa5d05d[_0x3f2ed0(0x4b3)]:typeof _0xa5d05d==_0x3f2ed0(0x526)?JSON[_0x3f2ed0(0x732)](_0xa5d05d):_0xa5d05d,_0x4e0841=_0x4eddb4+':\x20'+_0x3c5170;throw this[_0x3f2ed0(0x1a7)]['error'](this[_0x3f2ed0(0x3a0)]+'\x20('+this[_0x3f2ed0(0x1d9)][_0x3f2ed0(0x40b)]+'):\x20'+_0x4e0841),new m(_0x4e0841);}}async[a0_0x1e84a8(0x5bc)](_0x4b49d2){const _0x4bd380=a0_0x1e84a8;try{return this[_0x4bd380(0x1a7)][_0x4bd380(0x7ba)](this[_0x4bd380(0x3a0)]+'\x20('+this[_0x4bd380(0x1d9)][_0x4bd380(0x40b)]+_0x4bd380(0x7db)),this[_0x4bd380(0x1a7)][_0x4bd380(0x7ba)](this['instanceName']+'\x20('+this[_0x4bd380(0x1d9)][_0x4bd380(0x40b)]+_0x4bd380(0x6f2)+_0x4b49d2),(await this['repository'][_0x4bd380(0x689)][_0x4bd380(0x3a3)]({'where':{'_id':_0x4b49d2[_0x4bd380(0x3c4)]}},this['instance']['wuid']))[_0x4bd380(0x25e)]===0x0?{'message':_0x4bd380(0x377)}:{'message':_0x4bd380(0x32e)};}catch(_0x1880e4){let _0x4bc64a=_0x4bd380(0x307),_0x4b2522=_0x1880e4 instanceof Error?_0x1880e4['message']:typeof _0x1880e4==_0x4bd380(0x526)?JSON[_0x4bd380(0x732)](_0x1880e4):_0x1880e4,_0x1f612a=_0x4bc64a+':\x20'+_0x4b2522;throw this[_0x4bd380(0x1a7)][_0x4bd380(0x31d)](this[_0x4bd380(0x3a0)]+'\x20('+this['instance'][_0x4bd380(0x40b)]+_0x4bd380(0x52a)+_0x1f612a),new m(_0x1f612a);}}async[a0_0x1e84a8(0x6a1)](_0x25caad){const _0xcc2ae=a0_0x1e84a8;try{let {_id:_0x521cfe,chatLog:_0x5ed935,status:_0x42110d}=_0x25caad;if(!_0x521cfe)return{'message':_0xcc2ae(0x6a2)};let _0x3cc3b4={};if(_0x42110d!==void 0x0&&(_0x3cc3b4[_0xcc2ae(0x612)]=_0x42110d),Object[_0xcc2ae(0x4f1)](_0x3cc3b4)[_0xcc2ae(0x124)]===0x0)return{'message':_0xcc2ae(0x697)};let _0x2a6fd1=await this[_0xcc2ae(0x2d1)][_0xcc2ae(0x689)]['updateOne'](_0x521cfe,_0x3cc3b4,this['instance'][_0xcc2ae(0x40b)]);return _0x2a6fd1||{'message':_0xcc2ae(0x1fe)};}catch(_0x258d38){let _0x46dbcf=_0xcc2ae(0x284),_0x5e0038=_0x258d38 instanceof Error?_0x258d38[_0xcc2ae(0x4b3)]:typeof _0x258d38=='object'?JSON[_0xcc2ae(0x732)](_0x258d38):_0x258d38,_0x5a8c90=_0x46dbcf+':\x20'+_0x5e0038;throw this[_0xcc2ae(0x1a7)]['error'](this[_0xcc2ae(0x3a0)]+'\x20('+this[_0xcc2ae(0x1d9)]['wuid']+'):\x20'+_0x5a8c90),new m(_0x5a8c90);}}async[a0_0x1e84a8(0x184)](_0x398c3a){const _0x3b89f1=a0_0x1e84a8;try{_0x398c3a[_0x3b89f1(0x3c4)]=this[_0x3b89f1(0x49b)](_0x398c3a[_0x3b89f1(0x3c4)]);let _0x9dabf3=await this[_0x3b89f1(0x2d1)][_0x3b89f1(0x7e6)][_0x3b89f1(0x688)]({'where':{'_id':_0x398c3a[_0x3b89f1(0x3c4)]}},this['instance'][_0x3b89f1(0x40b)]);if(!_0x9dabf3)throw new m(_0x3b89f1(0x622));let {_id:_0x1c1b0a,leadInfo:_0x4a00f7}=_0x398c3a;if(!_0x1c1b0a)throw new Error(_0x3b89f1(0x16a));if(_0x398c3a[_0x3b89f1(0x185)]===_0x3b89f1(0x279))return await this[_0x3b89f1(0x26d)](_0x398c3a[_0x3b89f1(0x3c4)]),await this[_0x3b89f1(0x2d1)][_0x3b89f1(0x7e6)][_0x3b89f1(0x185)]({'where':{'_id':_0x398c3a[_0x3b89f1(0x3c4)]}},this[_0x3b89f1(0x1d9)][_0x3b89f1(0x40b)]),await this[_0x3b89f1(0x2d1)]['message']['delete']({'where':{'key':{'remoteJid':_0x398c3a['_id']}}},this[_0x3b89f1(0x1d9)][_0x3b89f1(0x40b)]),_0x398c3a=await this['repository']['chat'][_0x3b89f1(0x3fe)]({'where':{'_id':_0x398c3a[_0x3b89f1(0x3c4)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3b89f1(0x1d9)][_0x3b89f1(0x40b)]),F(this['instanceName'],'chats',{'chat':_0x398c3a}),{'message':_0x3b89f1(0x5c0)};if(_0x398c3a[_0x3b89f1(0x185)]===_0x3b89f1(0x435))return await this[_0x3b89f1(0x2d1)][_0x3b89f1(0x4b3)][_0x3b89f1(0x185)]({'where':{'key':{'remoteJid':_0x398c3a[_0x3b89f1(0x3c4)]}}},this['instance'][_0x3b89f1(0x40b)]),_0x398c3a=await this['repository'][_0x3b89f1(0x7e6)][_0x3b89f1(0x3fe)]({'where':{'_id':_0x398c3a[_0x3b89f1(0x3c4)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3b89f1(0x1d9)]['wuid']),F(this['instanceName'],_0x3b89f1(0x16d),{'chat':_0x398c3a}),{'message':_0x3b89f1(0x39e)};let _0xe7f620=(_0x47869e,_0x545773,_0x3ba1ac)=>{const _0x5e44d7=_0x3b89f1;_0x47869e&&_0x3ba1ac[_0x5e44d7(0x154)](_0x3d3c6c=>{const _0x170261=_0x5e44d7;_0x47869e[_0x3d3c6c]!==void 0x0&&(_0x545773[_0x170261(0x402)+_0x3d3c6c]=_0x47869e[_0x3d3c6c]);});},_0x4f2cf4={};if('muteEndTime'in _0x398c3a&&(this[_0x3b89f1(0x1a7)][_0x3b89f1(0x7ba)](this[_0x3b89f1(0x3a0)]+'\x20('+this[_0x3b89f1(0x1d9)][_0x3b89f1(0x40b)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x398c3a[_0x3b89f1(0x3c4)]),_0x398c3a[_0x3b89f1(0x5d3)]=_0x398c3a['muteEndTime']===0x0?null:-0x1,await this['client'][_0x3b89f1(0x4d0)]({'mute':_0x398c3a[_0x3b89f1(0x5d3)]},_0x398c3a['_id']),_0x4f2cf4[_0x3b89f1(0x5d3)]=Number(_0x398c3a[_0x3b89f1(0x5d3)])),_0x4a00f7&&(_0xe7f620(_0x4a00f7,_0x4f2cf4,[_0x3b89f1(0x116),_0x3b89f1(0x6b6),_0x3b89f1(0x79e),_0x3b89f1(0x19c),_0x3b89f1(0x612),_0x3b89f1(0x357),_0x3b89f1(0x84f),'atendimentoAberto',_0x3b89f1(0x720),_0x3b89f1(0x4e1),_0x3b89f1(0x632)]),Array[_0x3b89f1(0x663)](_0x4a00f7['customFields'])&&(_0x4f2cf4[_0x3b89f1(0x219)]=_0x4a00f7['customFields'][_0x3b89f1(0x7b9)](_0x59ee7e=>({'_id':_0x59ee7e[_0x3b89f1(0x3c4)],'value':_0x59ee7e['value']}))),_0x398c3a[_0x3b89f1(0x2ab)][_0x3b89f1(0x4e1)]!==void 0x0)){let _0x5384f1=await this[_0x3b89f1(0x2d1)]['label'][_0x3b89f1(0x6a6)]({'where':{}},this[_0x3b89f1(0x1d9)]['wuid']),_0x28e875=new Set(_0x398c3a[_0x3b89f1(0x2ab)][_0x3b89f1(0x4e1)]||[]),_0x22394f=new Set(_0x398c3a[_0x3b89f1(0x2ab)][_0x3b89f1(0x4e1)]),_0x53419b=new Set(_0x5384f1['map'](_0x4472f1=>_0x4472f1[_0x3b89f1(0x3c4)])),_0x260c1b=[..._0x22394f][_0x3b89f1(0x186)](_0xcf81d5=>!_0x28e875[_0x3b89f1(0x252)](_0xcf81d5)&&_0x53419b[_0x3b89f1(0x252)](_0xcf81d5)),_0x3d22b7=[..._0x28e875][_0x3b89f1(0x186)](_0x505570=>!_0x22394f['has'](_0x505570));if(_0x4f2cf4['leadInfo.etiquetas']=[..._0x28e875],_0x9dabf3&&!_0x9dabf3[_0x3b89f1(0x121)]){for(let _0x5e0744 of _0x260c1b)await this[_0x3b89f1(0x68f)](_0x5e0744,_0x398c3a[_0x3b89f1(0x3c4)]),_0x28e875[_0x3b89f1(0x5f3)](_0x5e0744);for(let _0x12ecbd of _0x3d22b7)await this[_0x3b89f1(0x64c)](_0x12ecbd,_0x398c3a[_0x3b89f1(0x3c4)]),_0x28e875[_0x3b89f1(0x185)](_0x12ecbd);}}if(_0x398c3a[_0x3b89f1(0x367)]!==void 0x0&&(_0x4f2cf4[_0x3b89f1(0x367)]=Number(_0x398c3a[_0x3b89f1(0x367)])),Object['keys'](_0x4f2cf4)[_0x3b89f1(0x124)]===0x0)throw new Error(_0x3b89f1(0x697));let _0x3b831f=await this['repository']['chat'][_0x3b89f1(0x3fe)]({'where':{'_id':_0x398c3a[_0x3b89f1(0x3c4)]}},_0x4f2cf4,this['instance'][_0x3b89f1(0x40b)]);return _0x3b831f&&F(this['instanceName'],'chats',{'chat':_0x3b831f}),_0x3b831f?(this[_0x3b89f1(0x1a7)][_0x3b89f1(0x7ba)](this[_0x3b89f1(0x3a0)]+'\x20('+this[_0x3b89f1(0x1d9)][_0x3b89f1(0x40b)]+'):\x20'+JSON[_0x3b89f1(0x732)](_0x3b831f,null,0x2)),_0x3b831f):{'message':_0x3b89f1(0x142)};}catch(_0x4acb6f){let _0xc1474d=_0x3b89f1(0x7b7),_0x4e2099=_0x4acb6f instanceof Error?_0x4acb6f[_0x3b89f1(0x4b3)]:typeof _0x4acb6f==_0x3b89f1(0x526)?JSON[_0x3b89f1(0x732)](_0x4acb6f):_0x4acb6f,_0x33bc7e=_0xc1474d+':\x20'+_0x4e2099;throw this['logger']['error'](this[_0x3b89f1(0x3a0)]+'\x20('+this[_0x3b89f1(0x1d9)][_0x3b89f1(0x40b)]+_0x3b89f1(0x52a)+_0x33bc7e),new m(_0x33bc7e);}}async[a0_0x1e84a8(0x68f)](_0xaa8e77,_0x2eb628){const _0xd90544=a0_0x1e84a8;try{await this[_0xd90544(0x59e)]['addChatLabel'](_0x2eb628,_0xaa8e77),this[_0xd90544(0x1a7)][_0xd90544(0x7b6)](this['instanceName']+'\x20('+this[_0xd90544(0x1d9)][_0xd90544(0x40b)]+'):\x20Label\x20'+_0xaa8e77+'\x20adicionado\x20ao\x20chat\x20'+_0x2eb628+_0xd90544(0x43c));}catch(_0x5b7013){this[_0xd90544(0x1a7)]['error'](_0xd90544(0x27d)+_0xaa8e77+_0xd90544(0x6ad)+_0x2eb628+':\x20'+_0x5b7013);}}async[a0_0x1e84a8(0x64c)](_0x33e313,_0x46ab9e){const _0x5d5cff=a0_0x1e84a8;try{await this[_0x5d5cff(0x59e)][_0x5d5cff(0x44c)](_0x46ab9e,_0x33e313),this[_0x5d5cff(0x1a7)][_0x5d5cff(0x7b6)](this[_0x5d5cff(0x3a0)]+'\x20('+this[_0x5d5cff(0x1d9)][_0x5d5cff(0x40b)]+_0x5d5cff(0x6b1)+_0x33e313+_0x5d5cff(0x4d5)+_0x46ab9e+'\x20com\x20sucesso.');}catch(_0x1cc070){this['logger']['error'](_0x5d5cff(0x486)+_0x33e313+_0x5d5cff(0x680)+_0x46ab9e+':\x20'+_0x1cc070);}}async[a0_0x1e84a8(0x20a)](_0x114c2e){const _0x2b9d39=a0_0x1e84a8;try{let _0xa9ab8f=await this[_0x2b9d39(0x2d1)][_0x2b9d39(0x2d4)][_0x2b9d39(0x369)](this[_0x2b9d39(0x1d9)][_0x2b9d39(0x40b)]),_0x3edbcd=_0x114c2e[_0x2b9d39(0x3c4)]?_0xa9ab8f[_0x2b9d39(0x557)][_0x2b9d39(0x130)](_0x47dbb4=>_0x47dbb4['_id']===_0x114c2e[_0x2b9d39(0x3c4)]):-0x1;if(_0x114c2e[_0x2b9d39(0x185)]&&_0x3edbcd>-0x1)_0xa9ab8f[_0x2b9d39(0x557)][_0x2b9d39(0x770)](_0x3edbcd,0x1);else{if(_0x3edbcd>-0x1){let _0x5ae548=_0xa9ab8f[_0x2b9d39(0x557)][_0x3edbcd];_0x114c2e[_0x2b9d39(0x5c5)]&&(_0x5ae548[_0x2b9d39(0x5c5)]=_0x114c2e[_0x2b9d39(0x5c5)]),_0x114c2e[_0x2b9d39(0x2c3)]&&(_0x5ae548[_0x2b9d39(0x2c3)]=_0x114c2e[_0x2b9d39(0x2c3)]),_0x114c2e[_0x2b9d39(0x79e)]&&(_0x5ae548[_0x2b9d39(0x79e)]=_0x114c2e[_0x2b9d39(0x79e)]),_0x114c2e['role']&&(_0x5ae548[_0x2b9d39(0x3c2)]=_0x114c2e[_0x2b9d39(0x3c2)]);}else _0xa9ab8f[_0x2b9d39(0x557)][_0x2b9d39(0x857)]({'_id':_0x114c2e[_0x2b9d39(0x3c4)]||new ge[(_0x2b9d39(0x50f))][(_0x2b9d39(0x293))][(_0x2b9d39(0x53a))]()[_0x2b9d39(0x71c)](),'fone':_0x114c2e[_0x2b9d39(0x5c5)],'name':_0x114c2e[_0x2b9d39(0x2c3)],'email':_0x114c2e[_0x2b9d39(0x79e)],'role':_0x114c2e[_0x2b9d39(0x3c2)]});}let _0x1ffa02={'agents':_0xa9ab8f[_0x2b9d39(0x557)]},_0x34eb60=await this['repository'][_0x2b9d39(0x2d4)][_0x2b9d39(0x32a)](_0x1ffa02,this[_0x2b9d39(0x1d9)][_0x2b9d39(0x40b)]);return this[_0x2b9d39(0x289)]=_0x34eb60,this[_0x2b9d39(0x1a7)][_0x2b9d39(0x7ba)](this[_0x2b9d39(0x3a0)]+'\x20('+this[_0x2b9d39(0x1d9)][_0x2b9d39(0x40b)]+_0x2b9d39(0x36c)),this[_0x2b9d39(0x1a7)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2b9d39(0x40b)]+_0x2b9d39(0x52a)+this[_0x2b9d39(0x289)]),_0x34eb60;}catch(_0x9847c4){let _0xd576cb=_0x2b9d39(0x556),_0x277227=_0x9847c4 instanceof Error?_0x9847c4[_0x2b9d39(0x4b3)]:typeof _0x9847c4==_0x2b9d39(0x526)?JSON[_0x2b9d39(0x732)](_0x9847c4):_0x9847c4,_0x23f6ac=_0xd576cb+':\x20'+_0x277227;throw this['logger'][_0x2b9d39(0x31d)](this[_0x2b9d39(0x3a0)]+'\x20('+this[_0x2b9d39(0x1d9)][_0x2b9d39(0x40b)]+_0x2b9d39(0x52a)+_0x23f6ac),new m(_0x23f6ac);}}async[a0_0x1e84a8(0x52f)](_0x3789d4){const _0x5d851b=a0_0x1e84a8;try{let _0x47649d=await this[_0x5d851b(0x2d1)][_0x5d851b(0x2d4)][_0x5d851b(0x369)](this[_0x5d851b(0x1d9)][_0x5d851b(0x40b)]),_0x30b57d=_0x3789d4[_0x5d851b(0x3c4)]?_0x47649d[_0x5d851b(0x569)][_0x5d851b(0x130)](_0x7ebab7=>_0x7ebab7[_0x5d851b(0x3c4)]===_0x3789d4[_0x5d851b(0x3c4)]):-0x1,_0x30d461=!0x1,_0x38c760=_0x47649d[_0x5d851b(0x569)][_0x5d851b(0x645)](_0x4afd65=>_0x4afd65[_0x5d851b(0x254)]===_0x3789d4[_0x5d851b(0x254)]);if(_0x3789d4['delete']&&_0x30b57d>-0x1)_0x47649d[_0x5d851b(0x569)][_0x5d851b(0x770)](_0x30b57d,0x1),_0x30d461=!0x0;else{if(_0x30b57d>-0x1){if(_0x47649d[_0x5d851b(0x569)]['some'](_0x52881d=>_0x52881d[_0x5d851b(0x2c3)]===_0x3789d4[_0x5d851b(0x2c3)]&&_0x52881d[_0x5d851b(0x3c4)]!==_0x3789d4['_id']))throw new Error(_0x5d851b(0x873));let _0x41bd84=_0x47649d[_0x5d851b(0x569)][_0x30b57d];_0x3789d4[_0x5d851b(0x254)]&&(_0x38c760||!Number['isInteger'](_0x3789d4[_0x5d851b(0x254)]))&&(_0x41bd84['order']=_0x3789d4[_0x5d851b(0x254)],_0x30d461=!0x0),_0x3789d4[_0x5d851b(0x2c3)]&&(_0x41bd84['name']=_0x3789d4[_0x5d851b(0x2c3)]);}else{if(_0x47649d[_0x5d851b(0x569)][_0x5d851b(0x645)](_0x188fb4=>_0x188fb4[_0x5d851b(0x2c3)]===_0x3789d4[_0x5d851b(0x2c3)]&&_0x188fb4['_id']!==_0x3789d4['_id']))throw new Error(_0x5d851b(0x873));_0x47649d['customFields'][_0x5d851b(0x857)]({'_id':_0x3789d4['_id']||new ge[(_0x5d851b(0x50f))][(_0x5d851b(0x293))]['ObjectId']()['toString'](),'order':_0x3789d4['order'],'name':_0x3789d4[_0x5d851b(0x2c3)]}),_0x30d461=!0x0;}}if(_0x30d461){_0x47649d[_0x5d851b(0x569)][_0x5d851b(0x652)]((_0x5ad4b7,_0x56b235)=>_0x5ad4b7[_0x5d851b(0x254)]>_0x56b235['order']?0x1:_0x56b235[_0x5d851b(0x254)]>_0x5ad4b7[_0x5d851b(0x254)]?-0x1:0x0);for(let _0x2b0d8e=0x0;_0x2b0d8e<_0x47649d[_0x5d851b(0x569)][_0x5d851b(0x124)];_0x2b0d8e++)_0x47649d[_0x5d851b(0x569)][_0x2b0d8e][_0x5d851b(0x254)]=_0x2b0d8e+0x1;}let _0xc82134=await this[_0x5d851b(0x2d1)]['automateSystem'][_0x5d851b(0x32a)](_0x47649d,this['instance'][_0x5d851b(0x40b)]);return this['AutomateSystem']=_0xc82134,this['logger'][_0x5d851b(0x7ba)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5d851b(0x761)),this['logger'][_0x5d851b(0x7ba)](this[_0x5d851b(0x3a0)]+'\x20('+this[_0x5d851b(0x1d9)][_0x5d851b(0x40b)]+_0x5d851b(0x52a)+this[_0x5d851b(0x289)]),_0xc82134;}catch(_0x30f59b){let _0x2857b3=_0x5d851b(0x597),_0x38e1a8=_0x30f59b instanceof Error?_0x30f59b['message']:typeof _0x30f59b=='object'?JSON['stringify'](_0x30f59b):_0x30f59b,_0x10a8b4=_0x2857b3+':\x20'+_0x38e1a8;throw this['logger'][_0x5d851b(0x31d)](this['instanceName']+'\x20('+this[_0x5d851b(0x1d9)][_0x5d851b(0x40b)]+_0x5d851b(0x52a)+_0x10a8b4),new m(_0x10a8b4);}}async[a0_0x1e84a8(0x809)](_0x33f105){const _0x494c6d=a0_0x1e84a8;try{let _0xf57728=await this[_0x494c6d(0x2d1)][_0x494c6d(0x2d4)][_0x494c6d(0x369)](this['instance']['wuid']),_0x3313b8=_0xf57728?.[_0x494c6d(0x46c)]?.[_0x494c6d(0x130)](_0x20ed5e=>_0x20ed5e[_0x494c6d(0x3c4)]===_0x33f105?.[_0x494c6d(0x3c4)]);if(_0x33f105?.[_0x494c6d(0x185)])_0x3313b8>-0x1&&_0xf57728?.[_0x494c6d(0x46c)]?.[_0x494c6d(0x770)](_0x3313b8,0x1);else{if(_0x3313b8>-0x1){let _0x50e51d=_0xf57728[_0x494c6d(0x46c)][_0x3313b8];_0x50e51d[_0x494c6d(0x254)]=_0x33f105?.[_0x494c6d(0x254)]||_0x50e51d[_0x494c6d(0x254)],_0x50e51d[_0x494c6d(0x694)]=_0x33f105?.[_0x494c6d(0x694)]||_0x50e51d[_0x494c6d(0x694)],_0x50e51d[_0x494c6d(0x4b3)]=_0x33f105?.['message']||_0x50e51d[_0x494c6d(0x4b3)];}else{let _0x469008={'_id':_0x33f105?.[_0x494c6d(0x3c4)]||new ge['default'][(_0x494c6d(0x293))][(_0x494c6d(0x53a))]()[_0x494c6d(0x71c)](),'order':_0x33f105?.[_0x494c6d(0x254)],'command':_0x33f105?.[_0x494c6d(0x694)],'message':_0x33f105?.[_0x494c6d(0x4b3)]};_0xf57728?.[_0x494c6d(0x46c)]?.['push'](_0x469008);}}_0xf57728?.['autoCompleteMessages']?.[_0x494c6d(0x652)]((_0x853ce,_0x1412ad)=>_0x853ce[_0x494c6d(0x254)]-_0x1412ad['order']);let _0x29e767=await this['repository'][_0x494c6d(0x2d4)][_0x494c6d(0x32a)](_0xf57728,this[_0x494c6d(0x1d9)]['wuid']);return this[_0x494c6d(0x289)]=_0x29e767,this[_0x494c6d(0x1a7)][_0x494c6d(0x7ba)](this['instanceName']+'\x20('+this[_0x494c6d(0x1d9)][_0x494c6d(0x40b)]+_0x494c6d(0x761)),_0x29e767;}catch(_0x2b80b2){let _0x43d74b=_0x494c6d(0x4d4),_0x592c55=_0x2b80b2 instanceof Error?_0x2b80b2[_0x494c6d(0x4b3)]:typeof _0x2b80b2=='object'?JSON[_0x494c6d(0x732)](_0x2b80b2):_0x2b80b2,_0x4f8bdf=_0x43d74b+':\x20'+_0x592c55;throw this[_0x494c6d(0x1a7)][_0x494c6d(0x31d)](this[_0x494c6d(0x3a0)]+'\x20('+this[_0x494c6d(0x1d9)][_0x494c6d(0x40b)]+_0x494c6d(0x52a)+_0x4f8bdf),new m(_0x4f8bdf);}}async[a0_0x1e84a8(0x68c)](_0x399370){const _0x18b405=a0_0x1e84a8;try{let _0x449a8c=await this[_0x18b405(0x2d1)][_0x18b405(0x2d4)]['findOrCreate'](this[_0x18b405(0x1d9)][_0x18b405(0x40b)]);if(!_0x449a8c)throw new Error(_0x18b405(0x7ea));let _0x29cf8e={'_id':_0x449a8c['_id'],'flowConfig':{'enabled':_0x399370[_0x18b405(0x388)]??_0x449a8c[_0x18b405(0x50d)][_0x18b405(0x388)],'ignoreGroups':_0x399370[_0x18b405(0x2a0)]??_0x449a8c[_0x18b405(0x50d)][_0x18b405(0x2a0)],'stopConversation':_0x399370[_0x18b405(0x328)][_0x18b405(0x1e8)]()??_0x449a8c['flowConfig']['stopConversation']['trim'](),'stopMinutes':_0x399370[_0x18b405(0x214)]??_0x449a8c[_0x18b405(0x50d)]['stopMinutes'],'stopWhenYouSendMsg':_0x399370[_0x18b405(0x17f)]??_0x449a8c[_0x18b405(0x50d)]['stopWhenYouSendMsg']}},_0x5bbaad=await this[_0x18b405(0x2d1)]['automateSystem']['update'](_0x29cf8e,this['instance'][_0x18b405(0x40b)]);return this['AutomateSystem']=_0x5bbaad,this[_0x18b405(0x1a7)][_0x18b405(0x7ba)](this['instanceName']+'\x20('+this[_0x18b405(0x1d9)][_0x18b405(0x40b)]+_0x18b405(0x36c)),this[_0x18b405(0x1a7)][_0x18b405(0x7ba)](this[_0x18b405(0x3a0)]+'\x20('+this[_0x18b405(0x1d9)]['wuid']+_0x18b405(0x52a)+this[_0x18b405(0x289)]),setTimeout(()=>this[_0x18b405(0x845)](),0x7d0),_0x5bbaad;}catch(_0x5ba728){let _0x5be044=_0x18b405(0x2cf),_0x3b3f96=_0x5ba728 instanceof Error?_0x5ba728[_0x18b405(0x4b3)]:typeof _0x5ba728==_0x18b405(0x526)?JSON[_0x18b405(0x732)](_0x5ba728):_0x5ba728,_0x5aa7a4=_0x5be044+':\x20'+_0x3b3f96;throw this[_0x18b405(0x1a7)][_0x18b405(0x31d)](this[_0x18b405(0x3a0)]+'\x20('+this[_0x18b405(0x1d9)][_0x18b405(0x40b)]+'):\x20'+_0x5aa7a4),new m(_0x5aa7a4);}}async[a0_0x1e84a8(0x15c)](){const _0x8eefbb=a0_0x1e84a8;try{let _0x215684=await this[_0x8eefbb(0x2d1)][_0x8eefbb(0x2d4)][_0x8eefbb(0x369)](this[_0x8eefbb(0x1d9)][_0x8eefbb(0x40b)]);return this[_0x8eefbb(0x289)]=_0x215684,_0x215684;}catch(_0x16fdf2){let _0x1ee536='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x30b84e=_0x16fdf2 instanceof Error?_0x16fdf2[_0x8eefbb(0x4b3)]:typeof _0x16fdf2==_0x8eefbb(0x526)?JSON['stringify'](_0x16fdf2):_0x16fdf2,_0x8aa899=_0x1ee536+':\x20'+_0x30b84e;throw this[_0x8eefbb(0x1a7)][_0x8eefbb(0x31d)](this[_0x8eefbb(0x3a0)]+'\x20('+this[_0x8eefbb(0x1d9)][_0x8eefbb(0x40b)]+_0x8eefbb(0x52a)+_0x8aa899),new m(_0x8aa899);}}async[a0_0x1e84a8(0x592)](){const _0x3f8086=a0_0x1e84a8;let _0x1f8f31=(await import(_0x3f8086(0x2da)))['default'];this[_0x3f8086(0x826)]=new _0x1f8f31({'concurrency':0x1});}async[a0_0x1e84a8(0x338)](){const _0x2f0e03=a0_0x1e84a8;this[_0x2f0e03(0x1d9)][_0x2f0e03(0x803)][_0x2f0e03(0x404)]&&clearTimeout(this[_0x2f0e03(0x1d9)][_0x2f0e03(0x803)][_0x2f0e03(0x404)]),this[_0x2f0e03(0x1d9)][_0x2f0e03(0x803)]['timeout']=setTimeout(()=>{const _0x5d9bb2=_0x2f0e03;this[_0x5d9bb2(0x6e8)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x2f8ed=a0_0x1e84a8;let _0x2e5f7b=this[_0x2f8ed(0x1d9)][_0x2f8ed(0x803)][_0x2f8ed(0x512)];(_0x2e5f7b===0x0||_0x2e5f7b===null||Date[_0x2f8ed(0x3ca)]()-_0x2e5f7b>=0x1d4c0)&&(this[_0x2f8ed(0x1a7)]['verbose'](this[_0x2f8ed(0x3a0)]+'\x20('+this['instance']['wuid']+_0x2f8ed(0x370)),this['instance'][_0x2f8ed(0x803)]['processingGroup']=null,this[_0x2f8ed(0x1d9)][_0x2f8ed(0x803)]['lastSend']=0x0,this['instance'][_0x2f8ed(0x803)]['delayMessage']=0x0,await this[_0x2f8ed(0x845)]());}async[a0_0x1e84a8(0x845)](){const _0x2aedc1=a0_0x1e84a8;this['logger'][_0x2aedc1(0x2e7)](this[_0x2aedc1(0x3a0)]+'\x20('+this[_0x2aedc1(0x1d9)][_0x2aedc1(0x40b)]+_0x2aedc1(0x503)),await this['transformScheduledMessagesByType']();let _0x4da677=await this[_0x2aedc1(0x412)]();_0x4da677['length']>0x0&&(setTimeout(()=>this[_0x2aedc1(0x6e8)](),0x14*0x3e8),this[_0x2aedc1(0x1a7)][_0x2aedc1(0x2e7)](this['instanceName']+'\x20('+this[_0x2aedc1(0x1d9)][_0x2aedc1(0x40b)]+_0x2aedc1(0x342)),this[_0x2aedc1(0x826)][_0x2aedc1(0x10d)](),this['queue'][_0x2aedc1(0x5f3)](()=>this['processReadyMessages'](_0x4da677)));let _0x477e1a={'where':{'status':_0x2aedc1(0x627),'when':{'$gt':Date[_0x2aedc1(0x3ca)]()}}},_0x37bf01=await this[_0x2aedc1(0x2d1)][_0x2aedc1(0x4ca)][_0x2aedc1(0x688)](_0x477e1a,this['instance'][_0x2aedc1(0x40b)]);_0x37bf01&&_0x37bf01['when']-Date[_0x2aedc1(0x3ca)]()<=0x6ddd00?this['instance'][_0x2aedc1(0x803)]['delayMessage']=_0x37bf01[_0x2aedc1(0x866)]-Date[_0x2aedc1(0x3ca)]():this[_0x2aedc1(0x1d9)]['ScheduleMessage'][_0x2aedc1(0x783)]=(0x3c+Math[_0x2aedc1(0x2f5)](Math[_0x2aedc1(0x69c)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x2aedc1(0x803)][_0x2aedc1(0x783)]=Math[_0x2aedc1(0x561)](this[_0x2aedc1(0x1d9)][_0x2aedc1(0x803)][_0x2aedc1(0x783)],0x1*0x2*0x3e8);let _0x2a995d=Math[_0x2aedc1(0x18d)](this['instance'][_0x2aedc1(0x803)][_0x2aedc1(0x783)]/0xea60);if(_0x37bf01){let _0x3ebe81=new Date(_0x37bf01['when'])[_0x2aedc1(0x570)]();this[_0x2aedc1(0x1a7)][_0x2aedc1(0x2e7)](this[_0x2aedc1(0x3a0)]+'\x20('+this['instance'][_0x2aedc1(0x40b)]+_0x2aedc1(0x25f)+_0x3ebe81+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x2a995d+_0x2aedc1(0x394));}else this[_0x2aedc1(0x1a7)][_0x2aedc1(0x2e7)](this[_0x2aedc1(0x3a0)]+'\x20('+this[_0x2aedc1(0x1d9)]['wuid']+_0x2aedc1(0x6fe)+_0x2a995d+_0x2aedc1(0x394));setTimeout(()=>{const _0x2a5148=_0x2aedc1;this[_0x2a5148(0x845)]();},this[_0x2aedc1(0x1d9)]['ScheduleMessage'][_0x2aedc1(0x783)]);}async[a0_0x1e84a8(0x412)](){const _0x4ff8d0=a0_0x1e84a8;this[_0x4ff8d0(0x1a7)][_0x4ff8d0(0x2e7)](this[_0x4ff8d0(0x3a0)]+'\x20('+this[_0x4ff8d0(0x1d9)][_0x4ff8d0(0x40b)]+_0x4ff8d0(0x548));let _0x1b5a8c=Date[_0x4ff8d0(0x3ca)]()-0xc*0x3c*0x3c*0x3e8,_0x43aba4={'where':{'status':{'$in':[_0x4ff8d0(0x627),_0x4ff8d0(0x218)]},'$or':[{'when':{'$lte':Date[_0x4ff8d0(0x3ca)](),'$gte':_0x1b5a8c}},{'when':0x0}]}},_0x4599de=await this[_0x4ff8d0(0x2d1)][_0x4ff8d0(0x4ca)][_0x4ff8d0(0x6a6)](_0x43aba4,this[_0x4ff8d0(0x1d9)][_0x4ff8d0(0x40b)]);return this['logger'][_0x4ff8d0(0x2e7)](this[_0x4ff8d0(0x3a0)]+'\x20('+this[_0x4ff8d0(0x1d9)][_0x4ff8d0(0x40b)]+'):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20'+_0x4599de[_0x4ff8d0(0x124)]),_0x4599de;}async[a0_0x1e84a8(0x3c9)](_0x47e0de){const _0x4158ff=a0_0x1e84a8;this[_0x4158ff(0x1a7)]['warn'](this['instanceName']+'\x20('+this['instance'][_0x4158ff(0x40b)]+_0x4158ff(0x103));let _0x3b47c1=0x3*0x3e8,_0x32dce8=0x8*0x3e8,_0x426191=Math[_0x4158ff(0x2f5)](Math[_0x4158ff(0x69c)]()*(_0x32dce8-_0x3b47c1+0x1))+_0x3b47c1,_0x5175d7=()=>this[_0x4158ff(0x24b)][_0x4158ff(0x124)]===0x0?null:this[_0x4158ff(0x24b)][_0x4158ff(0x3a7)]((_0x20d26d,_0x287ade)=>(_0x20d26d['order']??Number['MAX_SAFE_INTEGER'])<(_0x287ade[_0x4158ff(0x254)]??Number[_0x4158ff(0x84b)])?_0x20d26d:_0x287ade,this[_0x4158ff(0x24b)][0x0]);_0x47e0de=await this[_0x4158ff(0x412)]();for(let _0xf738ab of _0x47e0de){await this['setRestartTimeout']();let _0x142f41=0x3*0x3e8,_0x187b8a={'_id':_0xf738ab[_0x4158ff(0x3c4)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-_0x142f41}}]},_0x1e8a1f={'startSend':Date['now'](),'status':_0x4158ff(0x218)},_0x58b6f3=await this['repository'][_0x4158ff(0x4ca)]['updateOne'](_0x187b8a,_0x1e8a1f,this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]);if(this['pendingMessages']=_0x58b6f3[_0x4158ff(0x435)][_0x4158ff(0x186)](_0x277bf6=>!_0x277bf6[_0x4158ff(0x733)]),!_0x58b6f3){setTimeout(()=>this[_0x4158ff(0x6e8)](),0xa*0x3e8);continue;}if(this['instance'][_0x4158ff(0x803)][_0x4158ff(0x671)]=_0x58b6f3,!this[_0x4158ff(0x1d9)][_0x4158ff(0x803)][_0x4158ff(0x86f)]){this[_0x4158ff(0x1a7)][_0x4158ff(0x2e7)](this['instanceName']+'\x20('+this[_0x4158ff(0x1d9)]['wuid']+_0x4158ff(0x2bf));break;}for(;this[_0x4158ff(0x24b)][_0x4158ff(0x124)]>0x0;){await this[_0x4158ff(0x338)]();let _0x459440=_0x5175d7();if(!_0x459440)break;let _0xc64e97=_0xf738ab['messages'][_0x4158ff(0x6a6)](_0x52f6ed=>_0x52f6ed[_0x4158ff(0x3c4)]===_0x459440[_0x4158ff(0x3c4)]);if(!_0xc64e97)break;if(this['instance'][_0x4158ff(0x803)][_0x4158ff(0x512)]=Date[_0x4158ff(0x3ca)](),_0xc64e97['triedToSend']){this[_0x4158ff(0x1a7)][_0x4158ff(0x2e7)](this[_0x4158ff(0x3a0)]+'\x20('+this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0xc64e97[_0x4158ff(0x6aa)]+_0x4158ff(0x462)),this[_0x4158ff(0x24b)]=this[_0x4158ff(0x24b)][_0x4158ff(0x186)](_0x51b7a9=>_0x51b7a9[_0x4158ff(0x3c4)]!==_0xc64e97[_0x4158ff(0x3c4)]);continue;}if(!this[_0x4158ff(0x1d9)][_0x4158ff(0x803)][_0x4158ff(0x86f)]){this['logger'][_0x4158ff(0x2e7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4158ff(0x23d));break;}if(!this[_0x4158ff(0x1d9)]['ScheduleMessage'][_0x4158ff(0x671)]){this[_0x4158ff(0x1a7)][_0x4158ff(0x2e7)](this[_0x4158ff(0x3a0)]+'\x20('+this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0xf738ab[_0x4158ff(0x3c4)]+_0x4158ff(0x63f));break;}let _0x2bb9bc={'idControl':_0xc64e97[_0x4158ff(0x3c4)],'remoteJid':_0xc64e97['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4158ff(0x3ca)]()},_0xa431d1=null;try{this[_0x4158ff(0x1a7)]['warn'](this[_0x4158ff(0x3a0)]+'\x20('+this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0xc64e97[_0x4158ff(0x6aa)]);let _0x3b5801=await this['SendScheduleMessage'](_0xc64e97[_0x4158ff(0x6aa)],_0xc64e97);_0x2bb9bc[_0x4158ff(0x31d)]=_0x3b5801[_0x4158ff(0x31d)],_0x2bb9bc['id']=_0x3b5801[_0x4158ff(0x31d)]?null:_0x3b5801['id'],_0x2bb9bc[_0x4158ff(0x734)]=_0x3b5801['error']?_0x3b5801[_0x4158ff(0x4a7)]?_0x3b5801['detail'][_0x4158ff(0x71c)]():'':null;let _0xa38e26=_0xf738ab['messages']['findIndex'](_0x28d1d1=>_0x28d1d1[_0x4158ff(0x3c4)]===_0xc64e97[_0x4158ff(0x3c4)]);_0xa38e26!==-0x1&&(_0xf738ab[_0x4158ff(0x435)][_0xa38e26][_0x4158ff(0x733)]=!0x0);let _0x1724be={'$push':{'messagesSend':_0x2bb9bc},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x26814c=[{'elem._id':_0xc64e97[_0x4158ff(0x3c4)]}];if(this[_0x4158ff(0x1a7)][_0x4158ff(0x2e7)](this[_0x4158ff(0x3a0)]+'\x20('+this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]+_0x4158ff(0x658)+_0xc64e97[_0x4158ff(0x3c4)]),_0xa431d1=await this[_0x4158ff(0x2d1)][_0x4158ff(0x4ca)][_0x4158ff(0x3fe)]({'_id':_0xf738ab['_id']},_0x1724be,this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)],{'arrayFilters':_0x26814c}),_0x3b5801[_0x4158ff(0x31d)]){this[_0x4158ff(0x1a7)][_0x4158ff(0x31d)](this['instanceName']+'\x20('+this['instance'][_0x4158ff(0x40b)]+_0x4158ff(0x250)+_0x3b5801[_0x4158ff(0x4a7)]);continue;}let _0x1d2ed1=this['getDelay'](_0xf738ab[_0x4158ff(0x1c0)],_0xf738ab[_0x4158ff(0x174)]);await this[_0x4158ff(0x3f4)](_0x1d2ed1);}catch(_0x201bc0){this['logger'][_0x4158ff(0x31d)](this[_0x4158ff(0x3a0)]+'\x20('+this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]+_0x4158ff(0x7df)+_0xc64e97[_0x4158ff(0x6aa)]+':\x20'+(_0x201bc0 instanceof Error?_0x201bc0[_0x4158ff(0x4b3)]:JSON[_0x4158ff(0x732)](_0x201bc0,null,0x2))),_0x2bb9bc[_0x4158ff(0x31d)]=!0x0,_0x2bb9bc[_0x4158ff(0x734)]=_0x201bc0[_0x4158ff(0x4b3)];let _0x587765=_0xf738ab[_0x4158ff(0x435)][_0x4158ff(0x130)](_0x1ee968=>_0x1ee968[_0x4158ff(0x3c4)]===_0xc64e97['_id']);_0x587765!==-0x1&&(_0xf738ab['messages'][_0x587765][_0x4158ff(0x733)]=!0x0);let _0x2d7e49={'$push':{'messagesSend':_0x2bb9bc},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x39a6ce=[{'elem._id':_0xc64e97[_0x4158ff(0x3c4)]}];this[_0x4158ff(0x1a7)][_0x4158ff(0x2e7)](this[_0x4158ff(0x3a0)]+'\x20('+this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]+_0x4158ff(0x5fd)+_0xc64e97[_0x4158ff(0x3c4)]),_0xa431d1=await this[_0x4158ff(0x2d1)][_0x4158ff(0x4ca)]['updateOne']({'_id':_0xf738ab[_0x4158ff(0x3c4)]},_0x2d7e49,this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)],{'arrayFilters':_0x39a6ce});}finally{if(_0xa431d1&&_0xa431d1[_0x4158ff(0x612)]===_0x4158ff(0x6a4)){this[_0x4158ff(0x1a7)][_0x4158ff(0x2e7)](this[_0x4158ff(0x3a0)]+'\x20('+this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]+_0x4158ff(0x202)+_0xc64e97['_id']+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}let _0x1e3b4a=_0xa431d1[_0x4158ff(0x435)][_0x4158ff(0x6a6)](_0x40e9ef=>_0x40e9ef['_id']===_0xc64e97['_id']);if(_0x1e3b4a&&!_0x1e3b4a[_0x4158ff(0x733)]){let _0x371b09={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2f6f3f=[{'elem._id':_0xc64e97['_id']}];await this['repository']['scheduleMessage']['updateOne']({'_id':_0xa431d1[_0x4158ff(0x3c4)]},_0x371b09,this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)],{'arrayFilters':_0x2f6f3f});}if(this[_0x4158ff(0x24b)]=_0xa431d1['messages'][_0x4158ff(0x186)](_0x1b12c2=>!_0x1b12c2[_0x4158ff(0x733)]),!this[_0x4158ff(0x1d9)][_0x4158ff(0x803)][_0x4158ff(0x671)]){await this['setRestartTimeout'](),this[_0x4158ff(0x1a7)][_0x4158ff(0x2e7)](this['instanceName']+'\x20('+this[_0x4158ff(0x1d9)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0xf738ab[_0x4158ff(0x3c4)]+_0x4158ff(0x63f));break;}}}this[_0x4158ff(0x24b)]=[];let _0x2c1d64=await this[_0x4158ff(0x2d1)][_0x4158ff(0x4ca)][_0x4158ff(0x44d)](_0xf738ab[_0x4158ff(0x3c4)],this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]);if(_0x2c1d64['messages']['every'](_0x5bc898=>_0x5bc898[_0x4158ff(0x733)])&&_0x2c1d64[_0x4158ff(0x612)]!==_0x4158ff(0x6a4)){let _0x58189c={'$set':{'status':_0x4158ff(0x1ae)}};await this['repository'][_0x4158ff(0x4ca)][_0x4158ff(0x7c6)](_0x2c1d64[_0x4158ff(0x3c4)],_0x58189c,this[_0x4158ff(0x1d9)][_0x4158ff(0x40b)]);}await new Promise(_0x17c76b=>setTimeout(_0x17c76b,_0x426191)),global['gc']?global['gc']():console['warn'](_0x4158ff(0x775));}}['getDelay'](_0x129b75,_0x709ff2){const _0x2540c9=a0_0x1e84a8;return _0x129b75=Math['max'](0.5,_0x129b75),_0x709ff2=Math[_0x2540c9(0x602)](Math[_0x2540c9(0x561)](0x3,_0x709ff2),0x78),Math[_0x2540c9(0x2f5)](Math[_0x2540c9(0x69c)]()*(_0x709ff2-_0x129b75+0x1)+_0x129b75)*0x3e8;}[a0_0x1e84a8(0x3f4)](_0x1a7144){return new Promise(_0x4911a8=>setTimeout(_0x4911a8,_0x1a7144));}async['getVariablesChat'](_0x498756){const _0x452141=a0_0x1e84a8;if(!this[_0x452141(0x289)]&&(await this[_0x452141(0x15c)](),!this[_0x452141(0x289)]))return null;_0x498756=this['createJid'](_0x498756);let _0x14c453=await this['repository'][_0x452141(0x7e6)][_0x452141(0x688)]({'where':{'_id':_0x498756}},this['instance'][_0x452141(0x40b)]),_0x2c8458={};if(_0x14c453&&_0x14c453[_0x452141(0x2ab)]){let _0x59f1cd=_0x14c453[_0x452141(0x2ab)];typeof _0x59f1cd[_0x452141(0x116)]==_0x452141(0x190)&&(_0x2c8458[_0x452141(0x116)]=_0x59f1cd[_0x452141(0x116)]),typeof _0x59f1cd[_0x452141(0x6b6)]==_0x452141(0x190)&&(_0x2c8458['nomecompleto']=_0x59f1cd[_0x452141(0x6b6)]),typeof _0x59f1cd[_0x452141(0x79e)]==_0x452141(0x190)&&(_0x2c8458[_0x452141(0x79e)]=_0x59f1cd[_0x452141(0x79e)]),typeof _0x59f1cd[_0x452141(0x19c)]=='string'&&(_0x2c8458[_0x452141(0x19c)]=_0x59f1cd[_0x452141(0x19c)]),typeof _0x59f1cd['status']==_0x452141(0x190)&&(_0x2c8458[_0x452141(0x612)]=_0x59f1cd['status']),typeof _0x59f1cd[_0x452141(0x357)]==_0x452141(0x190)&&(_0x2c8458[_0x452141(0x357)]=_0x59f1cd[_0x452141(0x357)]),typeof _0x59f1cd[_0x452141(0x720)]=='string'&&(_0x2c8458[_0x452141(0x720)]=_0x59f1cd[_0x452141(0x720)]),Array[_0x452141(0x663)](_0x59f1cd[_0x452141(0x84f)])&&(_0x2c8458[_0x452141(0x84f)]=_0x59f1cd[_0x452141(0x84f)][_0x452141(0x1db)](',\x20')),Array['isArray'](_0x59f1cd[_0x452141(0x4e1)])&&(_0x2c8458['etiquetas']=_0x59f1cd[_0x452141(0x4e1)]['join'](',\x20'));}return _0x14c453&&_0x14c453[_0x452141(0x2ab)]&&_0x14c453[_0x452141(0x2ab)][_0x452141(0x569)]&&_0x14c453[_0x452141(0x2ab)][_0x452141(0x569)]['forEach'](_0x31abbf=>{const _0x420a38=_0x452141;let _0x1f087f=this[_0x420a38(0x289)]?.[_0x420a38(0x569)]['find'](_0x4acda1=>_0x4acda1[_0x420a38(0x3c4)]===_0x31abbf[_0x420a38(0x3c4)]);_0x1f087f&&(_0x2c8458[_0x1f087f[_0x420a38(0x2c3)]]=_0x31abbf[_0x420a38(0x187)]);}),_0x2c8458;}async['replaceVariablesChat'](_0x5c09bf,_0x224dd9){const _0x2e8236=a0_0x1e84a8;try{let _0x3cb4d5=await this[_0x2e8236(0x332)](_0x224dd9);return this[_0x2e8236(0x115)](_0x5c09bf,_0x3cb4d5);}catch(_0x1e668f){return this[_0x2e8236(0x1a7)][_0x2e8236(0x31d)](_0x2e8236(0x362)+_0x224dd9+':\x20'+_0x1e668f),_0x5c09bf;}}async['transformScheduledMessagesByType'](){const _0x453796=a0_0x1e84a8;let _0x5c85be=async(_0x2d2c2a,_0x3f7f85)=>{const _0x2e787a=a0_0x3070;let _0x1d9fca=(await this[_0x2e787a(0x2d1)][_0x2e787a(0x4ca)][_0x2e787a(0x6a6)]({'where':{'type':_0x2d2c2a}},this[_0x2e787a(0x1d9)][_0x2e787a(0x40b)]))['map'](async _0x32204b=>{const _0x589e9a=_0x2e787a;let _0xea0158=_0x3f7f85(_0x32204b),_0x1530bc=_0x1ba861=>/^\d+$/['test'](_0x1ba861),_0xbc9881=_0x32204b['remoteJids'][_0x589e9a(0x186)](_0x5a0d4a=>_0x5a0d4a[_0x589e9a(0x6be)](_0x589e9a(0x5aa))?_0x5a0d4a[_0x589e9a(0x124)]>0x19:_0x5a0d4a[_0x589e9a(0x6be)](_0x589e9a(0x20c))?_0x5a0d4a[_0x589e9a(0x124)]>0xf:_0x1530bc(_0x5a0d4a)?_0x5a0d4a[_0x589e9a(0x124)]>=0xb:!0x1)[_0x589e9a(0x7b9)](_0x498eed=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x32204b[_0x589e9a(0x3c4)],'type':_0xea0158,'remoteJid':_0x498eed,'flow':_0x32204b['flowName'],'text':_0x32204b[_0x589e9a(0x4b3)]?.[_0x589e9a(0x5d1)],'delay':_0x32204b[_0x589e9a(0x4b3)]?.['delay'],'urlOrBase64':_0x32204b[_0x589e9a(0x4b3)]?.[_0x589e9a(0x84d)],'linkPreview':_0x32204b['message']?.[_0x589e9a(0x15f)],'fileName':_0x32204b[_0x589e9a(0x4b3)]?.['fileName'],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x589e9a(0x4ca)][_0x589e9a(0x7c6)](_0x32204b[_0x589e9a(0x3c4)],{'$set':{'messages':_0xbc9881},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x589e9a(0x1d9)][_0x589e9a(0x40b)]);}catch(_0x57e1dc){console['error'](_0x589e9a(0x2bd)+_0x32204b[_0x589e9a(0x3c4)]+':',_0x57e1dc);}});await Promise[_0x2e787a(0x279)](_0x1d9fca);};await _0x5c85be('text',_0xfebd6c=>_0x453796(0x5d1)),await _0x5c85be('media',_0x2a54aa=>_0x2a54aa[_0x453796(0x4b3)]?.['mediatype']||_0x453796(0x461)),await _0x5c85be('audio',_0x14de16=>'audio'),await _0x5c85be(_0x453796(0x71a),_0x3a3845=>_0x453796(0x71a)),await _0x5c85be(_0x453796(0x76b),_0x50da9f=>_0x453796(0x76b)),await _0x5c85be(_0x453796(0x2cd),_0x205729=>'video'),await _0x5c85be('document',_0x3971e2=>'document'),this[_0x453796(0x1a7)][_0x453796(0x2e7)](this['instanceName']+'\x20('+this[_0x453796(0x1d9)][_0x453796(0x40b)]+_0x453796(0x28d));}async[a0_0x1e84a8(0x6f9)](_0x17736a){const _0x25bbc8=a0_0x1e84a8;try{if(this[_0x25bbc8(0x1a7)][_0x25bbc8(0x2e7)](this['instanceName']+'\x20('+this['instance'][_0x25bbc8(0x40b)]+_0x25bbc8(0x52b)),_0x17736a[_0x25bbc8(0x3c4)]||(_0x17736a['_id']=(0x0,Y['v4'])()),this[_0x25bbc8(0x1d9)][_0x25bbc8(0x803)][_0x25bbc8(0x671)]?.[_0x25bbc8(0x3c4)]===_0x17736a['_id']?.[_0x25bbc8(0x71c)]()){if(_0x17736a['status']==='stopped')this[_0x25bbc8(0x1d9)][_0x25bbc8(0x803)][_0x25bbc8(0x671)]=null;else throw new Error(_0x25bbc8(0x71f));}if(_0x17736a[_0x25bbc8(0x185)]&&_0x17736a[_0x25bbc8(0x3c4)]){let _0x52d80e=await this[_0x25bbc8(0x2d1)][_0x25bbc8(0x4ca)][_0x25bbc8(0x3a3)](_0x17736a['_id'],this[_0x25bbc8(0x1d9)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x52d80e;}let _0xb866a5=null;if(_0x17736a[_0x25bbc8(0x3c4)]&&(_0xb866a5=await this[_0x25bbc8(0x2d1)][_0x25bbc8(0x4ca)][_0x25bbc8(0x44d)](_0x17736a[_0x25bbc8(0x3c4)],this[_0x25bbc8(0x1d9)]['wuid'])),_0xb866a5){let {_id:_0x109c27,owner:_0x171737,messages:_0x1469dc,..._0x1d32ef}=_0x17736a;if(_0x1469dc){let _0x4698b3=_0x1469dc[_0x25bbc8(0x186)](_0x3d7af9=>!_0x3d7af9[_0x25bbc8(0x3c4)]),_0x1d7627=_0x1469dc[_0x25bbc8(0x186)](_0x4c3aa3=>_0x4c3aa3[_0x25bbc8(0x3c4)]&&!_0x4c3aa3['delete']),_0x37a5f9=_0x1469dc[_0x25bbc8(0x186)](_0x233ec5=>_0x233ec5[_0x25bbc8(0x3c4)]&&_0x233ec5[_0x25bbc8(0x185)]);if(_0x4698b3['length']>0x0&&await this[_0x25bbc8(0x847)](_0x17736a[_0x25bbc8(0x3c4)],_0x4698b3),_0x1d7627[_0x25bbc8(0x124)]>0x0&&await this[_0x25bbc8(0x43f)]({'_id':_0x17736a[_0x25bbc8(0x3c4)],'messages':_0x1d7627}),_0x37a5f9['length']>0x0){let _0x33d911=_0x37a5f9[_0x25bbc8(0x7b9)](_0x5535de=>({'updateOne':{'filter':{'_id':_0x17736a[_0x25bbc8(0x3c4)]},'update':{'$pull':{'messages':{'_id':_0x5535de[_0x25bbc8(0x3c4)]}}}}}));await this[_0x25bbc8(0x2d1)]['scheduleMessage'][_0x25bbc8(0x48b)](_0x33d911,this['instance'][_0x25bbc8(0x40b)]);}}let _0x949129={'$set':{..._0x1d32ef,'status':_0x17736a[_0x25bbc8(0x612)]||_0xb866a5['status']}},_0x342bed=await this[_0x25bbc8(0x2d1)][_0x25bbc8(0x4ca)][_0x25bbc8(0x7c6)](_0x17736a[_0x25bbc8(0x3c4)],_0x949129,this[_0x25bbc8(0x1d9)]['wuid']);return _0x342bed&&(this['reorderMessages'](_0x342bed[_0x25bbc8(0x435)]),await this[_0x25bbc8(0x2d1)]['scheduleMessage'][_0x25bbc8(0x7c6)](_0x342bed['_id'],{'$set':{'messages':_0x342bed[_0x25bbc8(0x435)]}},this['instance'][_0x25bbc8(0x40b)])),setTimeout(()=>this[_0x25bbc8(0x845)](),0x7d0),await this[_0x25bbc8(0x50c)](),_0x342bed;}else{_0x17736a[_0x25bbc8(0x325)]=this[_0x25bbc8(0x1d9)][_0x25bbc8(0x40b)],_0x17736a[_0x25bbc8(0x435)]&&_0x17736a[_0x25bbc8(0x435)][_0x25bbc8(0x154)](_0x34c7a4=>{const _0x1a0a9c=_0x25bbc8;_0x34c7a4[_0x1a0a9c(0x3c4)]||(_0x34c7a4[_0x1a0a9c(0x3c4)]=(0x0,Y['v4'])()),_0x34c7a4[_0x1a0a9c(0x5bb)]||(_0x34c7a4[_0x1a0a9c(0x5bb)]=_0x17736a[_0x1a0a9c(0x3c4)]),delete _0x34c7a4[_0x1a0a9c(0x733)];});let _0x8f0b3c=await this[_0x25bbc8(0x2d1)]['scheduleMessage'][_0x25bbc8(0x79d)](_0x17736a,this['instance'][_0x25bbc8(0x40b)]);return _0x8f0b3c&&(this[_0x25bbc8(0x3e1)](_0x8f0b3c[_0x25bbc8(0x435)]),await this[_0x25bbc8(0x2d1)][_0x25bbc8(0x4ca)][_0x25bbc8(0x7c6)](_0x8f0b3c[_0x25bbc8(0x3c4)],{'$set':{'messages':_0x8f0b3c[_0x25bbc8(0x435)]}},this[_0x25bbc8(0x1d9)][_0x25bbc8(0x40b)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x8f0b3c;}}catch(_0x1523e3){let _0x13d04e=_0x25bbc8(0x546),_0x229240=_0x1523e3 instanceof Error?_0x1523e3[_0x25bbc8(0x4b3)]:typeof _0x1523e3==_0x25bbc8(0x526)?JSON[_0x25bbc8(0x732)](_0x1523e3):_0x1523e3,_0x52c7b1=_0x13d04e+':\x20'+_0x229240;throw this['logger'][_0x25bbc8(0x31d)](this['instanceName']+'\x20('+this[_0x25bbc8(0x1d9)][_0x25bbc8(0x40b)]+'):\x20'+_0x52c7b1),new m(_0x52c7b1);}}async[a0_0x1e84a8(0x847)](_0x139018,_0x3adee9){const _0x3073b8=a0_0x1e84a8;try{this[_0x3073b8(0x1a7)][_0x3073b8(0x7ba)](this[_0x3073b8(0x3a0)]+'\x20('+this[_0x3073b8(0x1d9)][_0x3073b8(0x40b)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x3adee9[_0x3073b8(0x154)](_0x170d45=>{const _0x3100b4=_0x3073b8;_0x170d45[_0x3100b4(0x3c4)]||(_0x170d45[_0x3100b4(0x3c4)]=(0x0,Y['v4'])()),_0x170d45[_0x3100b4(0x5bb)]||(_0x170d45[_0x3100b4(0x5bb)]=_0x139018),delete _0x170d45[_0x3100b4(0x733)];});let _0x55be22={'$push':{'messages':{'$each':_0x3adee9}}},_0x3ab145=await this[_0x3073b8(0x2d1)]['scheduleMessage']['updateOneById'](_0x139018,_0x55be22,this['instance']['wuid']);return _0x3ab145&&(this['reorderMessages'](_0x3ab145[_0x3073b8(0x435)]),await this[_0x3073b8(0x2d1)]['scheduleMessage']['updateOneById'](_0x3ab145[_0x3073b8(0x3c4)],{'$set':{'messages':_0x3ab145[_0x3073b8(0x435)]}},this[_0x3073b8(0x1d9)][_0x3073b8(0x40b)])),_0x3ab145;}catch(_0x272482){let _0x551146=_0x3073b8(0x584),_0x177bf0=_0x272482 instanceof Error?_0x272482['message']:typeof _0x272482==_0x3073b8(0x526)?JSON[_0x3073b8(0x732)](_0x272482):_0x272482,_0x5d4093=_0x551146+':\x20'+_0x177bf0;throw this['logger'][_0x3073b8(0x31d)](this['instanceName']+'\x20('+this[_0x3073b8(0x1d9)][_0x3073b8(0x40b)]+_0x3073b8(0x52a)+_0x5d4093),new m(_0x5d4093);}}async[a0_0x1e84a8(0x43f)](_0x5287ce){const _0x3544af=a0_0x1e84a8;try{if(this[_0x3544af(0x1a7)][_0x3544af(0x7ba)](this['instanceName']+'\x20('+this['instance'][_0x3544af(0x40b)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x5287ce[_0x3544af(0x3c4)]||!_0x5287ce[_0x3544af(0x435)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x524f81=_0x5287ce['_id'],_0x128dfb=_0x5287ce['messages'],_0x5a1a1f=_0x128dfb[_0x3544af(0x186)](_0x5ee508=>!_0x5ee508[_0x3544af(0x185)])[_0x3544af(0x7b9)](_0x59b872=>{const _0x3a5bd9=_0x3544af;let _0x548033=_0x59b872['_id'];if(!_0x548033)throw new Error(_0x3a5bd9(0x735));return _0x59b872[_0x3a5bd9(0x5bb)]||(_0x59b872['idSchedule']=_0x524f81),delete _0x59b872[_0x3a5bd9(0x733)],{'updateOne':{'filter':{'_id':_0x524f81,'messages._id':_0x548033},'update':{'$set':{'messages.$[elem]':_0x59b872}},'arrayFilters':[{'elem._id':_0x548033}]}};}),_0x56d18b=_0x128dfb[_0x3544af(0x186)](_0x5a0eec=>_0x5a0eec[_0x3544af(0x185)])[_0x3544af(0x7b9)](_0x23070b=>{const _0x511bfc=_0x3544af;let _0x5d9785=_0x23070b[_0x511bfc(0x3c4)];if(!_0x5d9785)throw new Error(_0x511bfc(0x2d8));return{'updateOne':{'filter':{'_id':_0x524f81},'update':{'$pull':{'messages':{'_id':_0x5d9785}}}}};}),_0x5e96db=[..._0x5a1a1f,..._0x56d18b],_0x1c4b7b=await this[_0x3544af(0x2d1)]['scheduleMessage'][_0x3544af(0x48b)](_0x5e96db,this['instance'][_0x3544af(0x40b)]),_0x2b6dc7=await this[_0x3544af(0x2d1)][_0x3544af(0x4ca)]['findById'](_0x524f81,this[_0x3544af(0x1d9)][_0x3544af(0x40b)]);return _0x2b6dc7&&(this[_0x3544af(0x3e1)](_0x2b6dc7['messages']),await this[_0x3544af(0x2d1)][_0x3544af(0x4ca)][_0x3544af(0x7c6)](_0x2b6dc7[_0x3544af(0x3c4)],{'$set':{'messages':_0x2b6dc7['messages']}},this[_0x3544af(0x1d9)][_0x3544af(0x40b)])),_0x2b6dc7;}catch(_0x206a82){let _0x4120f4=_0x3544af(0x85a),_0x523988=_0x206a82 instanceof Error?_0x206a82[_0x3544af(0x4b3)]:typeof _0x206a82==_0x3544af(0x526)?JSON[_0x3544af(0x732)](_0x206a82):_0x206a82,_0x53cf63=_0x4120f4+':\x20'+_0x523988;throw this[_0x3544af(0x1a7)]['error'](this['instanceName']+'\x20('+this[_0x3544af(0x1d9)]['wuid']+'):\x20'+_0x53cf63),new m(_0x53cf63);}}async[a0_0x1e84a8(0x399)](){const _0x55eaa3=a0_0x1e84a8;try{let _0x3d2bd3={'status':_0x55eaa3(0x1ae)},_0x30edff=await this['repository']['scheduleMessage'][_0x55eaa3(0x48d)](_0x3d2bd3,this[_0x55eaa3(0x1d9)][_0x55eaa3(0x40b)]);if(!_0x30edff[_0x55eaa3(0x31d)])this[_0x55eaa3(0x1a7)][_0x55eaa3(0x7ba)](this[_0x55eaa3(0x3a0)]+'\x20('+this[_0x55eaa3(0x1d9)]['wuid']+_0x55eaa3(0x7d2));else throw new Error(_0x30edff['error'][_0x55eaa3(0x4b3)]||_0x55eaa3(0x4f5));return this[_0x55eaa3(0x5c9)]();}catch(_0x12caf5){let _0x53e485=_0x55eaa3(0x71e),_0x197e66=_0x12caf5 instanceof Error?_0x12caf5['message']:typeof _0x12caf5==_0x55eaa3(0x526)?JSON['stringify'](_0x12caf5):_0x12caf5,_0x143768=_0x53e485+':\x20'+_0x197e66;throw this[_0x55eaa3(0x1a7)][_0x55eaa3(0x31d)](this[_0x55eaa3(0x3a0)]+'\x20('+this[_0x55eaa3(0x1d9)][_0x55eaa3(0x40b)]+_0x55eaa3(0x52a)+_0x143768),new m(_0x143768);}}async[a0_0x1e84a8(0x5c9)](){const _0xc64b3=a0_0x1e84a8;try{return await this[_0xc64b3(0x2d1)][_0xc64b3(0x4ca)][_0xc64b3(0x6a6)]({'where':{}},this[_0xc64b3(0x1d9)][_0xc64b3(0x40b)]);}catch(_0x5822dd){let _0x792241='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x13269f=_0x5822dd instanceof Error?_0x5822dd[_0xc64b3(0x4b3)]:typeof _0x5822dd==_0xc64b3(0x526)?JSON['stringify'](_0x5822dd):_0x5822dd,_0x29ef7f=_0x792241+':\x20'+_0x13269f;throw this[_0xc64b3(0x1a7)][_0xc64b3(0x31d)](this[_0xc64b3(0x3a0)]+'\x20('+this['instance'][_0xc64b3(0x40b)]+_0xc64b3(0x52a)+_0x29ef7f),new m(_0x29ef7f);}}[a0_0x1e84a8(0x3e1)](_0x4a5665){const _0x344573=a0_0x1e84a8;_0x4a5665[_0x344573(0x652)]((_0x39b8c5,_0xc8d154)=>_0x39b8c5[_0x344573(0x254)]-_0xc8d154[_0x344573(0x254)]),_0x4a5665[_0x344573(0x154)]((_0x260e41,_0xd84dd0)=>{const _0x240d23=_0x344573;_0x260e41[_0x240d23(0x254)]=_0xd84dd0+0x1;});}async[a0_0x1e84a8(0x1d7)](_0x9480fc,_0x2332d1){const _0x5b32c7=a0_0x1e84a8;try{if(!_0x2332d1)return this[_0x5b32c7(0x1a7)]['error'](this[_0x5b32c7(0x3a0)]+'\x20('+this[_0x5b32c7(0x1d9)][_0x5b32c7(0x40b)]+_0x5b32c7(0x16e)),{'error':!0x0,'detail':_0x5b32c7(0x1e5)};if(_0x2332d1['type']===_0x5b32c7(0x71a)&&!this[_0x5b32c7(0x289)]?.[_0x5b32c7(0x50d)][_0x5b32c7(0x388)])return this[_0x5b32c7(0x1a7)][_0x5b32c7(0x31d)](this[_0x5b32c7(0x3a0)]+'\x20('+this[_0x5b32c7(0x1d9)][_0x5b32c7(0x40b)]+_0x5b32c7(0x448)),{'error':!0x0,'detail':_0x5b32c7(0x455)};switch(_0x2332d1[_0x5b32c7(0x749)]){case _0x5b32c7(0x5d1):return await this[_0x5b32c7(0x6de)](_0x2332d1,_0x9480fc);case _0x5b32c7(0x2cd):case _0x5b32c7(0x76b):case _0x5b32c7(0x15b):return await this[_0x5b32c7(0x7f0)](_0x2332d1,_0x9480fc);case _0x5b32c7(0x6dd):return await this[_0x5b32c7(0x80e)](_0x2332d1,_0x9480fc);case _0x5b32c7(0x71a):let _0x4a6598=new We();return _0x4a6598[_0x5b32c7(0x2c3)]=_0x2332d1[_0x5b32c7(0x71a)],_0x4a6598[_0x5b32c7(0x6aa)]=_0x9480fc,await this['startFlow'](_0x4a6598);default:return this[_0x5b32c7(0x1a7)][_0x5b32c7(0x31d)](this[_0x5b32c7(0x3a0)]+'\x20('+this['instance']['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x2332d1[_0x5b32c7(0x749)]),{'error':!0x0,'detail':_0x5b32c7(0x57c)};}}catch(_0x1e4362){return this[_0x5b32c7(0x1a7)][_0x5b32c7(0x31d)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x1e4362 instanceof Error?_0x1e4362[_0x5b32c7(0x4b3)]:JSON['stringify'](_0x1e4362,null,0x2))),{'error':!0x0,'detail':_0x1e4362[_0x5b32c7(0x4b3)]};}}async['scheduleSendText'](_0x2883e7,_0x489461){const _0x1a7df1=a0_0x1e84a8;if(this[_0x1a7df1(0x1a7)][_0x1a7df1(0x7ba)](this[_0x1a7df1(0x3a0)]+'\x20('+this[_0x1a7df1(0x1d9)]['wuid']+_0x1a7df1(0x6d8)+_0x489461+'\x27'),!_0x2883e7['text']||_0x2883e7[_0x1a7df1(0x5d1)][_0x1a7df1(0x124)]===0x0)return{'error':!0x0,'detail':_0x1a7df1(0x297)};let _0x39070f=await this[_0x1a7df1(0x155)](_0x2883e7[_0x1a7df1(0x5d1)],_0x489461),_0x5b3a62={'number':_0x489461,'options':{'delay':_0x2883e7[_0x1a7df1(0x3ae)],'linkPreview':_0x2883e7[_0x1a7df1(0x15f)]},'textMessage':{'text':_0x39070f}},_0xca19f0=null;try{let _0x1c2627=await this[_0x1a7df1(0x37d)](_0x5b3a62);if(_0x1c2627&&_0x1c2627['status'])return{'error':!0x1,'id':_0x1c2627[_0x1a7df1(0x37f)]['id']};_0xca19f0=JSON[_0x1a7df1(0x732)](_0x1c2627),this[_0x1a7df1(0x1a7)][_0x1a7df1(0x7ba)](this[_0x1a7df1(0x3a0)]+'\x20('+this[_0x1a7df1(0x1d9)][_0x1a7df1(0x40b)]+_0x1a7df1(0x52a)+_0xca19f0);}catch(_0x2ac7b8){this[_0x1a7df1(0x1a7)][_0x1a7df1(0x31d)](this['instanceName']+'\x20('+this['instance'][_0x1a7df1(0x40b)]+_0x1a7df1(0x4bb)+(_0x2ac7b8 instanceof Error?_0x2ac7b8['message']:JSON[_0x1a7df1(0x732)](_0x2ac7b8,null,0x2))),_0xca19f0=_0x2ac7b8['message'];}if(_0xca19f0)return{'error':!0x0,'detail':(typeof _0xca19f0==_0x1a7df1(0x526)?JSON[_0x1a7df1(0x732)](_0xca19f0,null,0x2):_0xca19f0)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1e84a8(0x7f0)](_0x13a595,_0x30a093){const _0x13980b=a0_0x1e84a8;this[_0x13980b(0x1a7)][_0x13980b(0x7ba)](this[_0x13980b(0x3a0)]+'\x20('+this[_0x13980b(0x1d9)][_0x13980b(0x40b)]+_0x13980b(0x582)+_0x30a093+'\x27');let _0x9c963e;_0x13a595[_0x13980b(0x5d1)]&&_0x13a595[_0x13980b(0x5d1)]['length']>0x0&&(_0x9c963e=await this['replaceVariablesChat'](_0x13a595[_0x13980b(0x5d1)],_0x30a093));let _0x7ec9d0={'number':_0x30a093,'options':{'delay':_0x13a595[_0x13980b(0x3ae)],'linkPreview':_0x13a595['linkPreview']},'mediaMessage':{'mediatype':_0x13a595[_0x13980b(0x749)],'caption':_0x9c963e,'media':_0x13a595[_0x13980b(0x84d)]}},_0x2db083=null;try{let _0x54dfdf=await this[_0x13980b(0x5ef)](_0x7ec9d0);if(_0x54dfdf&&_0x54dfdf[_0x13980b(0x612)])return{'error':!0x1,'id':_0x54dfdf[_0x13980b(0x37f)]['id']};_0x2db083=JSON[_0x13980b(0x732)](_0x54dfdf),this[_0x13980b(0x1a7)][_0x13980b(0x7ba)](this[_0x13980b(0x3a0)]+'\x20('+this[_0x13980b(0x1d9)][_0x13980b(0x40b)]+'):\x20'+_0x2db083);}catch(_0xb99c41){this[_0x13980b(0x1a7)][_0x13980b(0x31d)](this[_0x13980b(0x3a0)]+'\x20('+this[_0x13980b(0x1d9)]['wuid']+_0x13980b(0x5b3)+(_0xb99c41 instanceof Error?_0xb99c41[_0x13980b(0x4b3)]:JSON[_0x13980b(0x732)](_0xb99c41,null,0x2))),_0x2db083=_0xb99c41[_0x13980b(0x4b3)];}if(_0x2db083)return{'error':!0x0,'detail':(typeof _0x2db083=='object'?JSON[_0x13980b(0x732)](_0x2db083,null,0x2):_0x2db083)[_0x13980b(0x122)](/[\[\]{}\n]/g,'\x20')[_0x13980b(0x122)](/  +/g,'\x20')};}async[a0_0x1e84a8(0x80e)](_0x4157c2,_0x3eec10){const _0x32f723=a0_0x1e84a8;this[_0x32f723(0x1a7)][_0x32f723(0x7ba)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x3eec10+'\x27');let _0x5ae001={'number':_0x3eec10,'options':{'delay':_0x4157c2[_0x32f723(0x3ae)]},'audioMessage':{'audio':_0x4157c2[_0x32f723(0x84d)]}},_0x31a53e=null;try{let _0x3ed74b=await this[_0x32f723(0x17b)](_0x5ae001);if(_0x3ed74b&&_0x3ed74b[_0x32f723(0x612)])return{'error':!0x1,'id':_0x3ed74b[_0x32f723(0x37f)]['id']};_0x31a53e=JSON['stringify'](_0x3ed74b),this[_0x32f723(0x1a7)][_0x32f723(0x7ba)](this[_0x32f723(0x3a0)]+'\x20('+this['instance'][_0x32f723(0x40b)]+_0x32f723(0x52a)+_0x31a53e);}catch(_0x524aec){this[_0x32f723(0x1a7)][_0x32f723(0x31d)](this[_0x32f723(0x3a0)]+'\x20('+this[_0x32f723(0x1d9)][_0x32f723(0x40b)]+_0x32f723(0x1ba)+(_0x524aec instanceof Error?_0x524aec[_0x32f723(0x4b3)]:JSON[_0x32f723(0x732)](_0x524aec,null,0x2))),_0x31a53e=_0x524aec['message'];}if(_0x31a53e)return{'error':!0x0,'detail':(typeof _0x31a53e==_0x32f723(0x526)?JSON['stringify'](_0x31a53e,null,0x2):_0x31a53e)[_0x32f723(0x122)](/[\[\]{}\n]/g,'\x20')[_0x32f723(0x122)](/  +/g,'\x20')};}async[a0_0x1e84a8(0x868)](_0xd74bee){const _0x5c070a=a0_0x1e84a8;try{return await this[_0x5c070a(0x59e)][_0x5c070a(0x712)](_0xd74bee[_0x5c070a(0x6cd)],_0xd74bee[_0x5c070a(0x4fc)]),{'update':_0x5c070a(0x67b)};}catch(_0x434bb8){let _0x334b03=_0x5c070a(0x6a7),_0x59d55f=_0x434bb8 instanceof Error?_0x434bb8[_0x5c070a(0x4b3)]:typeof _0x434bb8=='object'?JSON[_0x5c070a(0x732)](_0x434bb8):_0x434bb8,_0x591769=_0x334b03+':\x20'+_0x59d55f;throw this[_0x5c070a(0x1a7)][_0x5c070a(0x31d)](this[_0x5c070a(0x3a0)]+'\x20('+this[_0x5c070a(0x1d9)][_0x5c070a(0x40b)]+_0x5c070a(0x52a)+_0x591769),new x(_0x591769);}}async[a0_0x1e84a8(0x6ab)](_0x4bb6b5){const _0x186470=a0_0x1e84a8;try{return await this[_0x186470(0x59e)][_0x186470(0x64d)](_0x4bb6b5['groupJid'],_0x4bb6b5[_0x186470(0x2c3)]),{'update':_0x186470(0x67b)};}catch(_0x3671f9){let _0x1e0de8=_0x186470(0x814),_0x372b1=_0x3671f9 instanceof Error?_0x3671f9[_0x186470(0x4b3)]:typeof _0x3671f9==_0x186470(0x526)?JSON[_0x186470(0x732)](_0x3671f9):_0x3671f9,_0x421824=_0x1e0de8+':\x20'+_0x372b1;throw this[_0x186470(0x1a7)][_0x186470(0x31d)](this[_0x186470(0x3a0)]+'\x20('+this[_0x186470(0x1d9)][_0x186470(0x40b)]+'):\x20'+_0x421824),new x(_0x421824);}}async[a0_0x1e84a8(0x3d5)](_0x3232e5){const _0x3f0384=a0_0x1e84a8;try{let _0x57d3a4=await this['client'][_0x3f0384(0x3bb)](_0x3232e5[_0x3f0384(0x6cd)],_0x3232e5[_0x3f0384(0x830)]);return{'success':!0x0};}catch(_0x26d798){let _0x38a92a=_0x3f0384(0x220),_0x3ba7cd=_0x26d798 instanceof Error?_0x26d798['message']:typeof _0x26d798==_0x3f0384(0x526)?JSON[_0x3f0384(0x732)](_0x26d798):_0x26d798,_0x3db8fa=_0x38a92a+':\x20'+_0x3ba7cd;throw this[_0x3f0384(0x1a7)][_0x3f0384(0x31d)](this[_0x3f0384(0x3a0)]+'\x20('+this[_0x3f0384(0x1d9)][_0x3f0384(0x40b)]+'):\x20'+_0x3db8fa),new x(_0x3db8fa);}}async[a0_0x1e84a8(0x4d8)](_0x23f91c){const _0x11ae3f=a0_0x1e84a8;try{return await this[_0x11ae3f(0x59e)]['groupSettingUpdate'](_0x23f91c[_0x11ae3f(0x6cd)],_0x23f91c[_0x11ae3f(0x828)]),{'update':'success'};}catch(_0x406b36){let _0x546562=_0x11ae3f(0x5bf),_0x5a6785=_0x406b36 instanceof Error?_0x406b36[_0x11ae3f(0x4b3)]:typeof _0x406b36=='object'?JSON['stringify'](_0x406b36):_0x406b36,_0x3bcedd=_0x546562+':\x20'+_0x5a6785;throw this[_0x11ae3f(0x1a7)][_0x11ae3f(0x31d)](this['instanceName']+'\x20('+this[_0x11ae3f(0x1d9)][_0x11ae3f(0x40b)]+_0x11ae3f(0x52a)+_0x3bcedd),new x(_0x3bcedd);}}async[a0_0x1e84a8(0x7e5)](_0xfcb23e){const _0xa3103e=a0_0x1e84a8;try{let _0x4398ed;if((0x0,J['isURL'])(_0xfcb23e[_0xa3103e(0x76b)])){let _0x335f2e=new Date()['getTime'](),_0xfed91c=_0xfcb23e[_0xa3103e(0x76b)]+'?timestamp='+_0x335f2e;_0x4398ed=(await Q[_0xa3103e(0x50f)]['get'](_0xfed91c,{'responseType':_0xa3103e(0x701)}))[_0xa3103e(0x56a)];}else{if((0x0,J[_0xa3103e(0x210)])(_0xfcb23e[_0xa3103e(0x76b)]))_0x4398ed=Buffer[_0xa3103e(0x83e)](_0xfcb23e[_0xa3103e(0x76b)],_0xa3103e(0x6d5));else throw new m(_0xa3103e(0x246));}return await this['client'][_0xa3103e(0x223)](_0xfcb23e[_0xa3103e(0x6cd)],_0x4398ed),{'update':_0xa3103e(0x67b)};}catch(_0x4f5d83){let _0xc132b1='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x5a51f3=_0x4f5d83 instanceof Error?_0x4f5d83[_0xa3103e(0x4b3)]:typeof _0x4f5d83==_0xa3103e(0x526)?JSON[_0xa3103e(0x732)](_0x4f5d83):_0x4f5d83,_0x5a1035=_0xc132b1+':\x20'+_0x5a51f3;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xa3103e(0x1d9)][_0xa3103e(0x40b)]+'):\x20'+_0x5a1035),new x(_0x5a1035);}}},jt=class u{constructor(_0x22afaf,_0x3651e6,_0x383b52){const _0x5a5132=a0_0x1e84a8;this['eventEmitter']=_0x22afaf,this[_0x5a5132(0x26f)]=_0x3651e6,this[_0x5a5132(0x2d1)]=_0x383b52,this['db']={},this[_0x5a5132(0x769)]={},this[_0x5a5132(0x1a7)]=new $(u[_0x5a5132(0x2c3)]),this[_0x5a5132(0x83f)]={},(this[_0x5a5132(0x215)](),this['noConnection'](),Object['assign'](this['db'],_0x3651e6['get'](_0x5a5132(0x257))),Object[_0x5a5132(0x4e7)](this[_0x5a5132(0x769)],_0x3651e6[_0x5a5132(0x13e)]('REDIS')),this['dbInstance']=this['db']['ENABLED']?this[_0x5a5132(0x2d1)]['dbServer']?.['db'](this['db'][_0x5a5132(0x13c)]['DB_PREFIX_NAME']+_0x5a5132(0x822)):void 0x0,this[_0x5a5132(0x1bd)]=this[_0x5a5132(0x769)][_0x5a5132(0x7f4)]?new pe(this['redis']):void 0x0);}async[a0_0x1e84a8(0x3c6)](_0x263c3b){const _0x34073c=a0_0x1e84a8;if(_0x263c3b&&!this['waInstances'][_0x263c3b])throw new U(_0x34073c(0x1c1)+_0x263c3b+_0x34073c(0x4ed));let _0x18046e=[];for await(let [_0xc3affe,_0x2a1b3f]of Object['entries'](this[_0x34073c(0x83f)]))if(_0x2a1b3f&&_0x2a1b3f['connectionStatus'][_0x34073c(0x70f)]===_0x34073c(0x493)){let _0x24a581=await this[_0x34073c(0x2d1)]['auth'][_0x34073c(0x6a6)](_0xc3affe);_0x18046e['push']({'instance':{'instanceName':_0xc3affe,'apikey':_0x24a581['apikey'],'owner':_0x2a1b3f[_0x34073c(0x40b)],'profileName':await _0x2a1b3f['getProfileName']()||_0x34073c(0x5e3),'profilePictureUrl':_0x2a1b3f[_0x34073c(0x2e3)]}});}return _0x18046e[_0x34073c(0x6a6)](_0x31b9c3=>_0x31b9c3[_0x34073c(0x1d9)][_0x34073c(0x3a0)]===_0x263c3b)??_0x18046e;}async[a0_0x1e84a8(0x5ea)](_0x5e30d8){const _0x224f65=a0_0x1e84a8;if(this['db'][_0x224f65(0x7f4)]&&(await this['repository'][_0x224f65(0x23f)][_0x224f65(0x2dd)](),(await this[_0x224f65(0x428)][_0x224f65(0x175)]())['length']>0x0&&await this[_0x224f65(0x428)]['dropCollection'](_0x5e30d8)),this[_0x224f65(0x769)][_0x224f65(0x7f4)]){this['cache'][_0x224f65(0x329)]=_0x5e30d8,await this[_0x224f65(0x1bd)][_0x224f65(0x150)]();return;}}async['loadInstance'](){const _0x45bbc3=a0_0x1e84a8;await this[_0x45bbc3(0x42a)]();let _0x198b1e=async _0x12cb83=>{const _0x384a58=_0x45bbc3;let _0x318b81=new $e(this[_0x384a58(0x26f)],this[_0x384a58(0x3dc)],this[_0x384a58(0x2d1)]);_0x318b81[_0x384a58(0x3a0)]=_0x12cb83,await _0x318b81[_0x384a58(0x51c)](),this[_0x384a58(0x83f)][_0x12cb83]=_0x318b81;};try{if(this[_0x45bbc3(0x769)][_0x45bbc3(0x7f4)]){let _0x25b908=await this[_0x45bbc3(0x1bd)]['instanceKeys']();_0x25b908?.[_0x45bbc3(0x124)]>0x0&&_0x25b908[_0x45bbc3(0x154)](async _0x8851a7=>await _0x198b1e(_0x8851a7[_0x45bbc3(0x4c1)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x45bbc3(0x2d1)][_0x45bbc3(0x23f)][_0x45bbc3(0x2dd)]();let _0x2e55a7=await this['dbInstance'][_0x45bbc3(0x175)]();_0x2e55a7[_0x45bbc3(0x124)]>0x0&&_0x2e55a7['forEach'](async _0x153a9d=>await _0x198b1e(_0x153a9d[_0x45bbc3(0x498)][_0x45bbc3(0x122)](/^[\w-]+\./,'')));return;}}catch(_0x4de6de){this[_0x45bbc3(0x1a7)][_0x45bbc3(0x31d)](_0x4de6de);}}async['cleanDisconnectedInstances'](){const _0x5a47c2=a0_0x1e84a8;try{let _0x2694f2=await this[_0x5a47c2(0x2d1)][_0x5a47c2(0x396)][_0x5a47c2(0x75f)]({'online':!0x1});for(let _0x4e5a5f of _0x2694f2){let _0x3360a2=_0x4e5a5f[_0x5a47c2(0x3c4)];await ae[_0x5a47c2(0x427)](B,_0x3360a2);}console[_0x5a47c2(0x1bb)](_0x5a47c2(0x854)+_0x2694f2[_0x5a47c2(0x124)]);let _0x37577c={'online':!0x1},_0x3cc4fc=await this[_0x5a47c2(0x2d1)][_0x5a47c2(0x396)][_0x5a47c2(0x48d)](_0x37577c);console[_0x5a47c2(0x1bb)](_0x5a47c2(0x70b)+_0x3cc4fc['insertCount']);}catch(_0xf2c82b){console[_0x5a47c2(0x31d)]('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0xf2c82b);}}async[a0_0x1e84a8(0x42a)](){const _0x3e6c0d=a0_0x1e84a8;try{let _0x42ddc3={'online':!0x1},_0xf4f8c5={'online':!0x1,'lastDisconnect':Date[_0x3e6c0d(0x3ca)]()},_0x498df2=await this[_0x3e6c0d(0x2d1)][_0x3e6c0d(0x396)][_0x3e6c0d(0x17c)](_0x42ddc3,_0xf4f8c5);await this[_0x3e6c0d(0x490)]();}catch(_0x136133){console[_0x3e6c0d(0x31d)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x136133);}}['removeInstance'](){const _0x3d0e9a=a0_0x1e84a8;this['eventEmitter']['on'](_0x3d0e9a(0x61f),async _0x558f56=>{const _0x546bce=_0x3d0e9a;try{this[_0x546bce(0x83f)][_0x558f56]=void 0x0;}catch{}try{this[_0x546bce(0x5ea)](_0x558f56);}finally{this['logger'][_0x546bce(0x2e7)](_0x546bce(0x1c1)+_0x558f56+'\x22\x20-\x20REMOVED');}});}[a0_0x1e84a8(0x21f)](){const _0x7db2b5=a0_0x1e84a8;this[_0x7db2b5(0x3dc)]['on'](_0x7db2b5(0x375),async _0x4b8ef7=>{const _0x3259f6=_0x7db2b5;try{this[_0x3259f6(0x83f)][_0x4b8ef7]=void 0x0;}catch{}try{this[_0x3259f6(0x5ea)](_0x4b8ef7);}finally{this[_0x3259f6(0x1a7)][_0x3259f6(0x2e7)](_0x3259f6(0x1c1)+_0x4b8ef7+_0x3259f6(0x7f7));}});}},Jt=class extends _{['getChatModelForOwner'](_0x36d8cb){return ta(_0x36d8cb);}async[a0_0x1e84a8(0x72d)](_0x4d95b0){const _0x1ccf3d=a0_0x1e84a8;if(_0x4d95b0[_0x1ccf3d(0x124)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x4d95b0[0x0]['owner'])[_0x1ccf3d(0x4d9)]([..._0x4d95b0]))[_0x1ccf3d(0x124)]};}catch(_0xb1ca40){return _0xb1ca40;}}async[a0_0x1e84a8(0x6a6)](_0x585588,_0x145ffb){const _0x55636e=a0_0x1e84a8;try{let _0x5ca678=this[_0x55636e(0x441)](_0x145ffb),_0x18dd3c=A(_0x585588['where']);return await _0x5ca678[_0x55636e(0x6a6)](_0x18dd3c)['sort']({'lastmsg':-0x1})[_0x55636e(0x5e1)](_0x585588?.['limit']??0x0)['lean']();}catch{return[];}}async['findGroupsEspecial'](_0x18e756,_0x130efd){const _0x143b8d=a0_0x1e84a8;try{let _0x5069ff=this[_0x143b8d(0x441)](_0x130efd),_0xd165b7=A(_0x18e756[_0x143b8d(0x564)]);return _0xd165b7[_0x143b8d(0x872)]={'$ne':[]},await _0x5069ff[_0x143b8d(0x6a6)](_0xd165b7)[_0x143b8d(0x652)]({'lastmsg':-0x1})[_0x143b8d(0x5e1)](_0x18e756?.['limit']??0x0)['lean']();}catch{return[];}}async['delete'](_0x2102d2,_0x341c09){const _0x15dfa9=a0_0x1e84a8;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x341c09)[_0x15dfa9(0x48d)]({..._0x2102d2[_0x15dfa9(0x564)]}))[_0x15dfa9(0x25e)]};}catch(_0x337421){return{'error':_0x337421?.[_0x15dfa9(0x71c)]()};}}async['deleteAll'](_0x343a68,_0x227d07){const _0x59cd3e=a0_0x1e84a8;try{return await this[_0x59cd3e(0x441)](_0x227d07)['deleteMany']({..._0x343a68[_0x59cd3e(0x564)]}),[];}catch(_0x455876){return{'error':_0x455876?.[_0x59cd3e(0x71c)]()};}}async['findOne'](_0x5885e9,_0x4334de){const _0x524f8c=a0_0x1e84a8;try{let _0x92b135=this[_0x524f8c(0x441)](_0x4334de),_0x45cf19=A(_0x5885e9[_0x524f8c(0x564)]);return await _0x92b135['findOne'](_0x45cf19)[_0x524f8c(0x225)]();}catch{return null;}}async[a0_0x1e84a8(0x3fe)](_0x2e522d,_0x38eb98,_0x99d9c8,_0x5ca93a,_0x42988f='$set'){const _0x2617b4=a0_0x1e84a8;try{let _0x46a074={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5ca93a},_0x5dd1f4=this[_0x2617b4(0x441)](_0x99d9c8),_0xd9f5d6=A(_0x2e522d[_0x2617b4(0x564)]);Object[_0x2617b4(0x4f1)](_0x38eb98)['forEach'](_0x3289fa=>{_0x38eb98[_0x3289fa]==null&&delete _0x38eb98[_0x3289fa];});let _0x150a75={};return _0x150a75[_0x42988f]=_0x38eb98,await _0x5dd1f4['findOneAndUpdate'](_0xd9f5d6,_0x150a75,_0x46a074);}catch(_0x38430d){return console['error'](_0x38430d),null;}}async[a0_0x1e84a8(0x74a)](_0xd99367){const _0x2db78b=a0_0x1e84a8;try{let _0x2de5f8=this[_0x2db78b(0x441)](_0xd99367[0x0]['query']['where'][_0x2db78b(0x325)]),_0x126cb2=_0xd99367[_0x2db78b(0x7b9)](_0x30419d=>({'updateOne':{'filter':{..._0x30419d['query'][_0x2db78b(0x564)]},'update':{'$set':_0x30419d[_0x2db78b(0x32a)]},'upsert':!0x0}})),_0x151796=await _0x2de5f8[_0x2db78b(0x48b)](_0x126cb2);return _0x151796[_0x2db78b(0x5cd)]+_0x151796[_0x2db78b(0x162)];}catch(_0x19b74e){return console[_0x2db78b(0x31d)](_0x19b74e),0x0;}}async[a0_0x1e84a8(0x35f)](_0x21e1d4){const _0xa88b43=a0_0x1e84a8;try{let _0x18e5c3={'group_isCommunity':'','group_announce':'','group_size':''},_0x498e12={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x4c21f={'$unset':_0x18e5c3};return(await this[_0xa88b43(0x441)](_0x21e1d4)[_0xa88b43(0x74a)](_0x498e12,_0x4c21f))[_0xa88b43(0x5cd)];}catch(_0x57ec92){return console[_0xa88b43(0x31d)](_0xa88b43(0x69f),_0x57ec92),0x0;}}async[a0_0x1e84a8(0x261)](_0x581f86){const _0x573b00=a0_0x1e84a8;try{let _0x15aee2=this[_0x573b00(0x441)](_0x581f86),_0x15c7c7={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1cff4a={'$set':{'leadInfo.etiquetas':[]}};return(await _0x15aee2['updateMany'](_0x15c7c7,_0x1cff4a))['modifiedCount'];}catch(_0x12b899){return console[_0x573b00(0x31d)](_0x12b899),0x0;}}async[a0_0x1e84a8(0x2ca)](_0x21c793){const _0x9f492b=a0_0x1e84a8;try{let _0x576c7c=this[_0x9f492b(0x441)](_0x21c793),_0x50168d={'leadInfo.tags':{'$exists':!0x1}},_0x439711={'$set':{'leadInfo.tags':[]}};return(await _0x576c7c['updateMany'](_0x50168d,_0x439711))[_0x9f492b(0x5cd)];}catch(_0x3d2a43){return console[_0x9f492b(0x31d)](_0x3d2a43),0x0;}}async[a0_0x1e84a8(0x72a)](_0x24c7af){const _0x2dc37b=a0_0x1e84a8;try{let _0x337978=this[_0x2dc37b(0x441)](_0x24c7af),_0x43f490={'leadInfo.customFields':{'$exists':!0x1}},_0x321ba3={'$set':{'leadInfo.customFields':[]}};return(await _0x337978[_0x2dc37b(0x74a)](_0x43f490,_0x321ba3))[_0x2dc37b(0x5cd)];}catch(_0x36510c){return console[_0x2dc37b(0x31d)](_0x36510c),0x0;}}async[a0_0x1e84a8(0x4d9)](_0x1b28ea,_0x57615e){const _0x45822e=a0_0x1e84a8;if(!Array[_0x45822e(0x663)](_0x1b28ea)||_0x1b28ea[_0x45822e(0x124)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x57615e)[_0x45822e(0x4d9)](_0x1b28ea))['length'];}catch(_0x131b4a){throw console['error'](_0x45822e(0x2fc),_0x131b4a),_0x131b4a;}}async[a0_0x1e84a8(0x26d)](_0x319573,_0x2c0437){const _0x3b1c5c=a0_0x1e84a8;try{await this['getChatModelForOwner'](_0x2c0437)[_0x3b1c5c(0x3a3)]({'_id':_0x319573});}catch(_0x1add7f){throw console[_0x3b1c5c(0x31d)](_0x3b1c5c(0x786),_0x1add7f),_0x1add7f;}}},qt=class extends _{constructor(_0x17e8a1,_0x40e8df,_0x5887d9){const _0x2bd66c=a0_0x1e84a8;super(_0x40e8df),this['cacheContactModel']=_0x17e8a1,this[_0x2bd66c(0x26f)]=_0x40e8df,this[_0x2bd66c(0x206)]=_0x5887d9;}async['insert'](_0x2488b4){const _0x81a7bf=a0_0x1e84a8;if(_0x2488b4[_0x81a7bf(0x124)]!==0x0)try{return{'insertCount':(await this[_0x81a7bf(0x285)][_0x81a7bf(0x4d9)]([..._0x2488b4]))[_0x81a7bf(0x124)]};}catch(_0x57a06f){return _0x57a06f;}}async[a0_0x1e84a8(0x32a)](_0x96c8c8,_0x10decc){const _0x58634b=a0_0x1e84a8;try{let _0x7fe7e0=A(_0x96c8c8['where']);return{'updatedCount':(await this[_0x58634b(0x285)]['updateMany'](_0x7fe7e0,{'$set':_0x10decc}))[_0x58634b(0x5cd)]};}catch(_0x38bbdc){return console['error']('Error\x20updating\x20cache\x20contact:',_0x38bbdc),{'error':_0x38bbdc[_0x58634b(0x71c)]()};}}async[a0_0x1e84a8(0x710)](_0x83c541){const _0x3173bb=a0_0x1e84a8;try{let _0x2864e7={'_id':{'$in':_0x83c541}};return await this[_0x3173bb(0x285)][_0x3173bb(0x6a6)](_0x2864e7)[_0x3173bb(0x225)]();}catch(_0x2ff987){return console['error'](_0x3173bb(0x489),_0x2ff987),[];}}async[a0_0x1e84a8(0x185)](_0x292dc7){const _0x4bb3f8=a0_0x1e84a8;try{return{'deletedCount':(await this[_0x4bb3f8(0x285)][_0x4bb3f8(0x48d)]({..._0x292dc7[_0x4bb3f8(0x564)]}))[_0x4bb3f8(0x25e)]};}catch(_0x4b992a){return{'error':_0x4b992a?.[_0x4bb3f8(0x71c)]()};}}async[a0_0x1e84a8(0x6a6)](_0x457484){const _0x39dea4=a0_0x1e84a8;try{let _0x23aaf9=A(_0x457484[_0x39dea4(0x564)]);return await this['cacheContactModel']['find'](_0x23aaf9)[_0x39dea4(0x5e1)](_0x457484?.[_0x39dea4(0x5e1)]??0x0)[_0x39dea4(0x225)]();}catch{return[];}}async['findOne'](_0x2ebe62){const _0x24ff77=a0_0x1e84a8;try{let _0x3f9138=A(_0x2ebe62[_0x24ff77(0x564)]);return await this[_0x24ff77(0x285)]['findOne'](_0x3f9138)['lean']();}catch{return null;}}},Vt=class extends _{constructor(_0x333f91,_0x396e74,_0x395bae){const _0x39fae6=a0_0x1e84a8;super(_0x396e74),this['messageLogsModel']=_0x333f91,this[_0x39fae6(0x26f)]=_0x396e74,this[_0x39fae6(0x206)]=_0x395bae;}async[a0_0x1e84a8(0x72d)](_0x49c726){const _0x5cd478=a0_0x1e84a8;if(_0x49c726[_0x5cd478(0x124)]!==0x0)try{return{'insertCount':(await this[_0x5cd478(0x5ba)][_0x5cd478(0x4d9)]([..._0x49c726]))[_0x5cd478(0x124)]};}catch(_0x2ad7d5){return _0x2ad7d5;}}async[a0_0x1e84a8(0x32a)](_0x289eb2,_0x2b20ae){const _0x1efd56=a0_0x1e84a8;try{let _0xb60d6=A(_0x289eb2['where']);return{'updatedCount':(await this[_0x1efd56(0x5ba)][_0x1efd56(0x74a)](_0xb60d6,{'$set':_0x2b20ae}))[_0x1efd56(0x5cd)]};}catch(_0xccbeb1){return console[_0x1efd56(0x31d)](_0x1efd56(0x875),_0xccbeb1),{'error':_0xccbeb1[_0x1efd56(0x71c)]()};}}async['delete'](_0x1beb4a){const _0x44847f=a0_0x1e84a8;try{return{'deletedCount':(await this['messageLogsModel'][_0x44847f(0x48d)]({..._0x1beb4a[_0x44847f(0x564)]}))[_0x44847f(0x25e)]};}catch(_0x4d5822){return{'error':_0x4d5822?.[_0x44847f(0x71c)]()};}}async['findOne'](_0x522902){const _0x5cf7a8=a0_0x1e84a8;try{let _0x30ca2f=A(_0x522902[_0x5cf7a8(0x564)]);return await this[_0x5cf7a8(0x5ba)][_0x5cf7a8(0x688)](_0x30ca2f)[_0x5cf7a8(0x225)]();}catch{return null;}}},Gt=class extends _{['getLabelModelForOwner'](_0xc23b6d){return Ea(_0xc23b6d);}async[a0_0x1e84a8(0x3fe)](_0x1b24a3,_0x6c8d32,_0x3b28ed,_0x479650){const _0x49f253=a0_0x1e84a8;try{let _0x2b15f0={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x479650},_0x2c47a2=this[_0x49f253(0x1ec)](_0x3b28ed),_0x1b5fe6=A(_0x1b24a3[_0x49f253(0x564)]);return await _0x2c47a2[_0x49f253(0x198)](_0x1b5fe6,{'$set':_0x6c8d32},_0x2b15f0);}catch(_0x65b47f){return console[_0x49f253(0x31d)](_0x65b47f),null;}}async[a0_0x1e84a8(0x6a6)](_0x2d3700,_0x374eb6){const _0xce574b=a0_0x1e84a8;try{let _0x5907c6=this['getLabelModelForOwner'](_0x374eb6),_0x269d5f=A(_0x2d3700['where']);return await _0x5907c6[_0xce574b(0x6a6)](_0x269d5f);}catch(_0x2c8b76){console['error'](_0x2c8b76);}}async[a0_0x1e84a8(0x185)](_0x45b1c7,_0x1278bb){const _0x4ce146=a0_0x1e84a8;try{let _0x36ebbd=this[_0x4ce146(0x1ec)](_0x1278bb),_0x4d740b=A(_0x45b1c7[_0x4ce146(0x564)]);await _0x36ebbd['deleteMany'](_0x4d740b);}catch(_0x1b766b){console[_0x4ce146(0x31d)](_0x1b766b);}}async[a0_0x1e84a8(0x568)](_0x7e1004){const _0x3419e9=a0_0x1e84a8;try{return await this[_0x3419e9(0x1ec)](_0x7e1004)['collection'][_0x3419e9(0x2bc)](),{'success':!0x0};}catch(_0x15d0e5){return console[_0x3419e9(0x31d)](_0x15d0e5),{'success':!0x1,'error':_0x15d0e5};}}},Bt=class{constructor(_0x515a3d){this['waMonitor']=_0x515a3d;}async[a0_0x1e84a8(0x184)]({instanceName:_0x564f51},_0x1d31ac){const _0x3c7946=a0_0x1e84a8;return await this[_0x3c7946(0x2af)]['waInstances'][_0x564f51][_0x3c7946(0x184)](_0x1d31ac);}async['whatsappNumber']({instanceName:_0x4313b1},_0x2fa73c){const _0x5663d6=a0_0x1e84a8;return await this[_0x5663d6(0x2af)]['waInstances'][_0x4313b1][_0x5663d6(0x5d2)](_0x2fa73c);}async['importChats']({instanceName:_0x482844},_0x1ec343){const _0x36b954=a0_0x1e84a8;return await this[_0x36b954(0x2af)]['waInstances'][_0x482844][_0x36b954(0x550)](_0x1ec343);}async[a0_0x1e84a8(0x170)]({instanceName:_0x1d9faa},_0x4777d7){const _0x41b997=a0_0x1e84a8;return await this[_0x41b997(0x2af)][_0x41b997(0x83f)][_0x1d9faa][_0x41b997(0x3f9)](_0x4777d7);}async['archiveChat']({instanceName:_0x438c36},_0x49bb5b){const _0x5a695b=a0_0x1e84a8;return await this[_0x5a695b(0x2af)][_0x5a695b(0x83f)][_0x438c36][_0x5a695b(0x72b)](_0x49bb5b);}async['deleteMessage']({instanceName:_0x63379f},_0x343750){const _0x1c70c7=a0_0x1e84a8;return await this[_0x1c70c7(0x2af)][_0x1c70c7(0x83f)][_0x63379f][_0x1c70c7(0x426)](_0x343750);}async[a0_0x1e84a8(0x578)]({instanceName:_0x547cb6},_0x3f0891){const _0x538d27=a0_0x1e84a8;return await this['waMonitor'][_0x538d27(0x83f)][_0x547cb6][_0x538d27(0x16f)](_0x3f0891[_0x538d27(0x1ee)]);}async[a0_0x1e84a8(0x76d)]({instanceName:_0x1cfbc8},_0x592281){const _0x144a35=a0_0x1e84a8;return await this[_0x144a35(0x2af)][_0x144a35(0x83f)][_0x1cfbc8][_0x144a35(0x76d)](_0x592281[_0x144a35(0x1ee)]);}async[a0_0x1e84a8(0x30f)]({instanceName:_0xc3a886},_0x39cb62){const _0x45ec4c=a0_0x1e84a8;return await this[_0x45ec4c(0x2af)][_0x45ec4c(0x83f)][_0xc3a886][_0x45ec4c(0x30f)](_0x39cb62);}async[a0_0x1e84a8(0x77b)]({instanceName:_0x47e9a3},_0x5296ef){const _0x343cc7=a0_0x1e84a8;return await this['waMonitor'][_0x343cc7(0x83f)][_0x47e9a3][_0x343cc7(0x77b)](_0x5296ef);}async[a0_0x1e84a8(0x26e)]({instanceName:_0x1de0a5},_0x54aff4){const _0x49276c=a0_0x1e84a8;return await this[_0x49276c(0x2af)][_0x49276c(0x83f)][_0x1de0a5]['getBase64FromMediaMessage'](_0x54aff4);}async[a0_0x1e84a8(0x605)]({instanceName:_0x148d51},_0x133b8a){const _0xd6e0bf=a0_0x1e84a8;return await this[_0xd6e0bf(0x2af)]['waInstances'][_0x148d51]['fetchMessages'](_0x133b8a);}async[a0_0x1e84a8(0x61b)]({instanceName:_0x2fb937}){const _0x110619=a0_0x1e84a8;return await this[_0x110619(0x2af)][_0x110619(0x83f)][_0x2fb937][_0x110619(0x61b)]();}async[a0_0x1e84a8(0x520)]({instanceName:_0x3b4b84}){const _0x36f296=a0_0x1e84a8;return await this[_0x36f296(0x2af)][_0x36f296(0x83f)][_0x3b4b84][_0x36f296(0x520)]();}async['fetchPrivacySettings']({instanceName:_0x2eeab7}){const _0x20e270=a0_0x1e84a8;return await this[_0x20e270(0x2af)][_0x20e270(0x83f)][_0x2eeab7]['fetchPrivacySettings']();}async[a0_0x1e84a8(0x344)]({instanceName:_0x47bbd5},_0x3bfdc2){const _0x7667f6=a0_0x1e84a8;return await this[_0x7667f6(0x2af)][_0x7667f6(0x83f)][_0x47bbd5][_0x7667f6(0x344)](_0x3bfdc2);}async[a0_0x1e84a8(0x7a6)]({instanceName:_0xb2ee57},_0x25a0ac){const _0x2872cb=a0_0x1e84a8;return await this[_0x2872cb(0x2af)][_0x2872cb(0x83f)][_0xb2ee57]['fetchBusinessProfile'](_0x25a0ac[_0x2872cb(0x1ee)]);}async[a0_0x1e84a8(0x69a)]({instanceName:_0x37d47b},_0x1c76d5){const _0x3ca773=a0_0x1e84a8;return await this[_0x3ca773(0x2af)][_0x3ca773(0x83f)][_0x37d47b][_0x3ca773(0x69a)](_0x1c76d5['name']);}async['updateProfileStatus']({instanceName:_0x23e7ae},_0x435bf0){const _0x508796=a0_0x1e84a8;return await this[_0x508796(0x2af)][_0x508796(0x83f)][_0x23e7ae][_0x508796(0x7a8)](_0x435bf0[_0x508796(0x612)]);}async[a0_0x1e84a8(0x223)]({instanceName:_0x5259ed},_0x3ecade){const _0xce22f3=a0_0x1e84a8;return await this[_0xce22f3(0x2af)][_0xce22f3(0x83f)][_0x5259ed][_0xce22f3(0x223)](_0x3ecade[_0xce22f3(0x876)]);}async[a0_0x1e84a8(0x7d1)]({instanceName:_0x4f3433},_0x485152){const _0x2ee226=a0_0x1e84a8;return await this['waMonitor']['waInstances'][_0x4f3433][_0x2ee226(0x7d1)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x32ac1e,_0x5b725b,_0x5e7f60,_0x8cda0f,_0x50224d){const _0xea6105=a0_0x1e84a8;this[_0xea6105(0x2af)]=_0x32ac1e,this[_0xea6105(0x26f)]=_0x5b725b,this['repository']=_0x5e7f60,this[_0xea6105(0x3dc)]=_0x8cda0f,this[_0xea6105(0x5d6)]=_0x50224d,this['logger']=new $(u[_0xea6105(0x2c3)]);}async[a0_0x1e84a8(0x119)]({instanceName:_0x9b3b5d,apikey:_0x4b904c,number:_0x19aefb,proxy:_0x239838=!0x0}){const _0x1700d9=a0_0x1e84a8;try{let _0x2ee3f3=new $e(this['configService'],this['eventEmitter'],this[_0x1700d9(0x2d1)]);_0x2ee3f3['instanceName']=_0x9b3b5d,this[_0x1700d9(0x2af)][_0x1700d9(0x83f)][_0x2ee3f3[_0x1700d9(0x3a0)]]=_0x2ee3f3;let _0xfc3c63={};_0x4b904c?(await this[_0x1700d9(0x2d1)]['auth'][_0x1700d9(0x277)]({'apikey':_0x4b904c},_0x9b3b5d),_0xfc3c63[_0x1700d9(0x74f)]=_0x4b904c):_0xfc3c63=await this[_0x1700d9(0x5d6)]['generateHash']({'instanceName':_0x2ee3f3[_0x1700d9(0x3a0)]});let _0x96851e;if(_0x19aefb){if(_0x96851e=await this['verifyWhatsAppNumber'](_0x19aefb),_0x96851e[_0x1700d9(0x31d)])throw new x(_0x96851e[_0x1700d9(0x31d)][_0x1700d9(0x71c)]());_0x19aefb=_0x96851e[_0x1700d9(0x1ee)];}let _0x30edd2;return await _0x2ee3f3[_0x1700d9(0x51c)](_0x19aefb),await(0x0,Wt['delay'])(0xfa0),_0x19aefb&&await(0x0,Wt[_0x1700d9(0x3ae)])(0xbb8),_0x30edd2=_0x2ee3f3[_0x1700d9(0x156)],{'instance':{'instanceName':_0x2ee3f3[_0x1700d9(0x3a0)],'status':'created'},'hash':_0xfc3c63,'qrcode':_0x30edd2};}catch(_0x566ea8){throw this[_0x1700d9(0x1a7)][_0x1700d9(0x31d)](_0x566ea8),_0x566ea8;}}async[a0_0x1e84a8(0x2f9)]({instanceName:_0x6a6ee0,number:_0x171dec=null}){const _0x3c097a=a0_0x1e84a8;try{let _0x5312ce=this[_0x3c097a(0x2af)]['waInstances'][_0x6a6ee0];switch(_0x5312ce?.[_0x3c097a(0x1c2)]?.[_0x3c097a(0x70f)]){case'close':return await _0x5312ce[_0x3c097a(0x51c)](_0x171dec),await(0x0,Wt[_0x3c097a(0x3ae)])(0x7d0),_0x5312ce[_0x3c097a(0x156)];case _0x3c097a(0x176):return _0x5312ce[_0x3c097a(0x156)];default:return await this[_0x3c097a(0x579)]({'instanceName':_0x6a6ee0});}}catch(_0x292bab){this['logger'][_0x3c097a(0x1bb)](_0x292bab);}}async[a0_0x1e84a8(0x579)]({instanceName:_0xb31fa5}){const _0x835fc3=a0_0x1e84a8;let _0x55fddd=this[_0x835fc3(0x2af)]['waInstances'][_0xb31fa5][_0x835fc3(0x1c2)],_0x27c8e5=null;_0x55fddd['state']===_0x835fc3(0x493)&&_0xb31fa5&&(_0x27c8e5=await this[_0x835fc3(0x2af)][_0x835fc3(0x3c6)](_0xb31fa5));let _0x165cbd=null;return _0x55fddd[_0x835fc3(0x70f)]===_0x835fc3(0x176)&&_0xb31fa5&&(_0x165cbd=this['waMonitor'][_0x835fc3(0x83f)][_0xb31fa5][_0x835fc3(0x156)]),{'instance':_0xb31fa5,'connectionStatus':_0x55fddd,'instanceInfo':_0x27c8e5,'qrcode':_0x165cbd};}async[a0_0x1e84a8(0x513)](_0x32dad5){const _0x46fe21=a0_0x1e84a8;_0x32dad5=_0x32dad5['replace'](/\D/g,'');let _0x10a200=Object['keys'](this['waMonitor'][_0x46fe21(0x83f)])['filter'](_0x31ea2c=>{const _0x16f5c3=_0x46fe21;let _0x3285e7=this[_0x16f5c3(0x2af)][_0x16f5c3(0x83f)][_0x31ea2c];return _0x3285e7&&_0x3285e7[_0x16f5c3(0x1c2)]&&_0x3285e7['connectionStatus'][_0x16f5c3(0x70f)]===_0x16f5c3(0x493);});if(_0x10a200[_0x46fe21(0x124)]===0x0)return{'number':this[_0x46fe21(0x35d)](_0x32dad5)};let _0x2a12cc=Math[_0x46fe21(0x2f5)](Math[_0x46fe21(0x69c)]()*_0x10a200['length']),_0x47d0de=_0x10a200[_0x2a12cc];try{let _0x52228c=(await this[_0x46fe21(0x2af)]['waInstances'][_0x47d0de][_0x46fe21(0x5d2)]({'numbers':[_0x32dad5]}))[_0x46fe21(0x56f)]();return _0x52228c[_0x46fe21(0x70e)]?{'number':_0x52228c[_0x46fe21(0x400)]['replace'](_0x46fe21(0x5aa),'')}:{'number':_0x32dad5,'error':_0x46fe21(0x36b)};}catch(_0x4aec65){return this['logger'][_0x46fe21(0x31d)](_0x46fe21(0x477)+_0x4aec65),{'number':_0x32dad5,'error':_0x46fe21(0x6da)};}}[a0_0x1e84a8(0x35d)](_0xdcddd3){let _0x5b6f68=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0xdcddd3);if(_0x5b6f68&&_0x5b6f68[0x1]==='55'){let _0x40c9c8=_0x5b6f68[0x2],_0x4f79b6=_0x5b6f68[0x3],_0x559085=_0x5b6f68[0x4];if(parseInt(_0x40c9c8)>=0x1f&&_0x4f79b6==='9')return _0x5b6f68[0x1]+_0x40c9c8+_0x559085;}return _0xdcddd3;}async[a0_0x1e84a8(0x73c)]({instanceName:_0x3576eb}){const _0x1740b=a0_0x1e84a8;try{return this[_0x1740b(0x2af)][_0x1740b(0x83f)][_0x3576eb]?.['client']?.['ws']?.[_0x1740b(0x6b0)](),{'status':_0x1740b(0x3a4),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x5660bd){this[_0x1740b(0x1a7)]['error'](_0x5660bd);}}async[a0_0x1e84a8(0x66e)]({instanceName:_0x127917}){const _0x52a39f=a0_0x1e84a8;return _0x127917?this[_0x52a39f(0x2af)][_0x52a39f(0x3c6)](_0x127917):this[_0x52a39f(0x2af)][_0x52a39f(0x3c6)]();}async[a0_0x1e84a8(0x19f)]({instanceName:_0x125833}){const _0x465b97=a0_0x1e84a8;try{return await this[_0x465b97(0x2af)]['waInstances'][_0x125833]?.[_0x465b97(0x59e)]?.[_0x465b97(0x19f)](_0x465b97(0x673)+_0x125833),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x2012f7){throw new x(_0x2012f7[_0x465b97(0x71c)]());}}async['deleteInstance']({instanceName:_0xcaaf24}){const _0x485353=a0_0x1e84a8;if((await this[_0x485353(0x579)]({'instanceName':_0xcaaf24}))[_0x485353(0x1c2)][_0x485353(0x70f)]===_0x485353(0x493))throw new m([_0x485353(0x78a),_0x485353(0x2fd)]);try{return delete this['waMonitor'][_0x485353(0x83f)][_0xcaaf24],{'error':!0x1,'message':_0x485353(0x2db)};}catch(_0x368594){throw new m(_0x368594[_0x485353(0x71c)]());}}},ce=require(a0_0x1e84a8(0x705)),Ht=class{constructor(_0x26a88a){const _0x38a312=a0_0x1e84a8;this[_0x38a312(0x2af)]=_0x26a88a;}async[a0_0x1e84a8(0x32c)]({instanceName:_0x2bbb2b},_0x320e46){const _0x33b9df=a0_0x1e84a8;return await this[_0x33b9df(0x2af)][_0x33b9df(0x83f)][_0x2bbb2b][_0x33b9df(0x37d)](_0x320e46);}async['sendMenu']({instanceName:_0x41329b},_0x152230){const _0x1c6127=a0_0x1e84a8;return await this[_0x1c6127(0x2af)][_0x1c6127(0x83f)][_0x41329b][_0x1c6127(0x320)](_0x152230);}async[a0_0x1e84a8(0x5f1)]({instanceName:_0x39787d},_0x13aeca){const _0x1baf8f=a0_0x1e84a8;if((0x0,ce[_0x1baf8f(0x210)])(_0x13aeca?.[_0x1baf8f(0x5ef)]?.['media'])&&!_0x13aeca?.[_0x1baf8f(0x5ef)]?.[_0x1baf8f(0x5a4)])throw new m(_0x1baf8f(0x736));if((0x0,ce['isURL'])(_0x13aeca?.[_0x1baf8f(0x5ef)]?.[_0x1baf8f(0x461)])||(0x0,ce[_0x1baf8f(0x210)])(_0x13aeca?.[_0x1baf8f(0x5ef)]?.['media']))return await this[_0x1baf8f(0x2af)][_0x1baf8f(0x83f)][_0x39787d][_0x1baf8f(0x5ef)](_0x13aeca);throw new m(_0x1baf8f(0x408));}async['sendSticker']({instanceName:_0x298765},_0x34b40f){const _0x5159c8=a0_0x1e84a8;if((0x0,ce[_0x5159c8(0x4cc)])(_0x34b40f[_0x5159c8(0x2f7)]['image'])||(0x0,ce[_0x5159c8(0x210)])(_0x34b40f[_0x5159c8(0x2f7)][_0x5159c8(0x76b)]))return await this[_0x5159c8(0x2af)][_0x5159c8(0x83f)][_0x298765][_0x5159c8(0x1f7)](_0x34b40f);throw new m(_0x5159c8(0x408));}async[a0_0x1e84a8(0x2ed)]({instanceName:_0x5adbf5},_0x552e55){const _0x1be9e8=a0_0x1e84a8;if((0x0,ce[_0x1be9e8(0x4cc)])(_0x552e55[_0x1be9e8(0x2aa)][_0x1be9e8(0x6dd)])||(0x0,ce[_0x1be9e8(0x210)])(_0x552e55[_0x1be9e8(0x2aa)][_0x1be9e8(0x6dd)]))return await this[_0x1be9e8(0x2af)]['waInstances'][_0x5adbf5][_0x1be9e8(0x17b)](_0x552e55);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x1e84a8(0x1be)]({instanceName:_0x5984ef},_0x49c876){const _0x241ca7=a0_0x1e84a8;return await this[_0x241ca7(0x2af)]['waInstances'][_0x5984ef]['buttonMessage'](_0x49c876);}async[a0_0x1e84a8(0x260)]({instanceName:_0x1fd3e8},_0x1afc9c){const _0x1f858e=a0_0x1e84a8;return await this[_0x1f858e(0x2af)][_0x1f858e(0x83f)][_0x1fd3e8][_0x1f858e(0x5e6)](_0x1afc9c);}async[a0_0x1e84a8(0x380)]({instanceName:_0x1f00d0},_0x29ace5){const _0x945b28=a0_0x1e84a8;return await this[_0x945b28(0x2af)][_0x945b28(0x83f)][_0x1f00d0][_0x945b28(0x791)](_0x29ace5);}async[a0_0x1e84a8(0x44a)]({instanceName:_0x43a45d},_0x2c6891){const _0x53bd34=a0_0x1e84a8;return await this[_0x53bd34(0x2af)]['waInstances'][_0x43a45d][_0x53bd34(0x1bc)](_0x2c6891);}async[a0_0x1e84a8(0x366)]({instanceName:_0x369aaa},_0x395710){const _0x49cbc2=a0_0x1e84a8;return await this['waMonitor']['waInstances'][_0x369aaa][_0x49cbc2(0x68e)](_0x395710);}async['sendReaction']({instanceName:_0x1d36c0},_0x238970){const _0x1e5eec=a0_0x1e84a8;if(!_0x238970[_0x1e5eec(0x3c1)]['reaction'][_0x1e5eec(0x7f2)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x1e5eec(0x4e2));return await this['waMonitor']['waInstances'][_0x1d36c0][_0x1e5eec(0x3c1)](_0x238970);}async[a0_0x1e84a8(0x11e)]({instanceName:_0x39981a},_0x132097){const _0x48c17b=a0_0x1e84a8;return await this['waMonitor'][_0x48c17b(0x83f)][_0x39981a][_0x48c17b(0x58c)](_0x132097);}},Pi=require(a0_0x1e84a8(0x32f)),Us=require(a0_0x1e84a8(0x445)),Kt=class u{constructor(_0x360b83,_0x417b28,_0x29ba24){const _0x46ef56=a0_0x1e84a8;this['configService']=_0x360b83,this[_0x46ef56(0x2af)]=_0x417b28,this[_0x46ef56(0x2d1)]=_0x29ba24,this[_0x46ef56(0x1a7)]=new $(u['name']);}async[a0_0x1e84a8(0x4aa)](_0x3603fc){const _0x58858f=a0_0x1e84a8;let _0x483a29=this[_0x58858f(0x26f)]['get'](_0x58858f(0x16b))[_0x58858f(0x642)],_0x22546e=(0x0,Pi['sign'])({'instanceName':_0x3603fc[_0x58858f(0x3a0)],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x483a29[_0x58858f(0x1f4)],{'expiresIn':_0x483a29[_0x58858f(0x631)],'encoding':_0x58858f(0x3f8),'subject':_0x58858f(0x4f2)}),_0x44dddb=await this['repository'][_0x58858f(0x396)]['create']({'jwt':_0x22546e},_0x3603fc[_0x58858f(0x3a0)]);if(_0x44dddb[_0x58858f(0x31d)])throw this[_0x58858f(0x1a7)][_0x58858f(0x31d)]({'localError':u[_0x58858f(0x2c3)]+'.jwt','error':_0x44dddb[_0x58858f(0x31d)]}),new m(_0x58858f(0x7c3),_0x44dddb[_0x58858f(0x31d)]?.['toString']());return{'jwt':_0x22546e};}async[a0_0x1e84a8(0x74f)](_0x19dd2a){const _0x159dac=a0_0x1e84a8;let _0x158015=(0x0,Us['v4'])()['toUpperCase'](),_0x2f3d1b=await this[_0x159dac(0x2d1)][_0x159dac(0x396)]['create']({'apikey':_0x158015},_0x19dd2a[_0x159dac(0x3a0)]);if(_0x2f3d1b[_0x159dac(0x31d)])throw this[_0x159dac(0x1a7)][_0x159dac(0x31d)]({'localError':u[_0x159dac(0x2c3)]+_0x159dac(0x535),'error':_0x2f3d1b[_0x159dac(0x31d)]}),new m(_0x159dac(0x7c3),_0x2f3d1b[_0x159dac(0x31d)]?.['toString']());return{'apikey':_0x158015};}async[a0_0x1e84a8(0x594)](_0x53ae3e){const _0x2319c2=a0_0x1e84a8;let _0x24ab31=this['configService'][_0x2319c2(0x13e)](_0x2319c2(0x16b));return await this[_0x24ab31[_0x2319c2(0x7ef)]](_0x53ae3e);}},Qt=class{constructor(_0x1cd12d){this['waMonitor']=_0x1cd12d;}async[a0_0x1e84a8(0x12a)](_0x593ecc,_0x5e824b){const _0x2ad21b=a0_0x1e84a8;return await this[_0x2ad21b(0x2af)]['waInstances'][_0x593ecc['instanceName']][_0x2ad21b(0x12a)](_0x5e824b);}async[a0_0x1e84a8(0x7e5)](_0x42eb37,_0x562de7){const _0x308753=a0_0x1e84a8;return await this['waMonitor'][_0x308753(0x83f)][_0x42eb37[_0x308753(0x3a0)]][_0x308753(0x7e5)](_0x562de7);}async[a0_0x1e84a8(0x868)](_0x261799,_0x5077ef){const _0x515bce=a0_0x1e84a8;return await this[_0x515bce(0x2af)][_0x515bce(0x83f)][_0x261799['instanceName']]['groupDesc'](_0x5077ef);}async['groupName'](_0x4fd7fc,_0xa6b93e){const _0x572bd5=a0_0x1e84a8;return await this[_0x572bd5(0x2af)][_0x572bd5(0x83f)][_0x4fd7fc[_0x572bd5(0x3a0)]][_0x572bd5(0x6ab)](_0xa6b93e);}async[a0_0x1e84a8(0x473)](_0x4224c5,_0x4f3b90){const _0x3a11ff=a0_0x1e84a8;return await this[_0x3a11ff(0x2af)]['waInstances'][_0x4224c5[_0x3a11ff(0x3a0)]][_0x3a11ff(0x473)](_0x4f3b90);}async[a0_0x1e84a8(0x4d8)](_0x518d82,_0x2fe3ba){const _0x40de3b=a0_0x1e84a8;return await this[_0x40de3b(0x2af)][_0x40de3b(0x83f)][_0x518d82[_0x40de3b(0x3a0)]][_0x40de3b(0x4d8)](_0x2fe3ba);}async[a0_0x1e84a8(0x243)](_0x507bba,_0x4cbc9d){const _0x374cae=a0_0x1e84a8;return await this[_0x374cae(0x2af)][_0x374cae(0x83f)][_0x507bba['instanceName']][_0x374cae(0x7a4)](_0x4cbc9d);}async['findGroups'](_0x863b11){const _0x3abdff=a0_0x1e84a8;return await this[_0x3abdff(0x2af)][_0x3abdff(0x83f)][_0x863b11[_0x3abdff(0x3a0)]][_0x3abdff(0x182)]();}async[a0_0x1e84a8(0x67e)](_0x1e2dbe,_0x14d155){const _0x13d2a0=a0_0x1e84a8;return await this['waMonitor'][_0x13d2a0(0x83f)][_0x1e2dbe[_0x13d2a0(0x3a0)]][_0x13d2a0(0x67e)](_0x14d155);}async['joinGroup'](_0x599171,_0x2c13a9){const _0x509e52=a0_0x1e84a8;return await this['waMonitor']['waInstances'][_0x599171[_0x509e52(0x3a0)]][_0x509e52(0x5d7)](_0x2c13a9);}async[a0_0x1e84a8(0x3b4)](_0x25324a,_0x1e1b3a){const _0x5d5344=a0_0x1e84a8;return await this[_0x5d5344(0x2af)][_0x5d5344(0x83f)][_0x25324a[_0x5d5344(0x3a0)]][_0x5d5344(0x3b4)](_0x1e1b3a);}async[a0_0x1e84a8(0x623)](_0x4bbd46,_0x32f26a){const _0x541bc4=a0_0x1e84a8;return await this[_0x541bc4(0x2af)][_0x541bc4(0x83f)][_0x4bbd46[_0x541bc4(0x3a0)]][_0x541bc4(0x623)](_0x32f26a);}async[a0_0x1e84a8(0x401)](_0xf3f070,_0x8fee75){const _0x4f7a6a=a0_0x1e84a8;return await this[_0x4f7a6a(0x2af)][_0x4f7a6a(0x83f)][_0xf3f070[_0x4f7a6a(0x3a0)]][_0x4f7a6a(0x401)](_0x8fee75);}async[a0_0x1e84a8(0x777)](_0x3ed68e,_0x402220){const _0x21abef=a0_0x1e84a8;return await this['waMonitor']['waInstances'][_0x3ed68e['instanceName']][_0x21abef(0x2c5)](_0x402220);}async['toggleEphemeral'](_0x21e8ef,_0xacf9d3){const _0x51c920=a0_0x1e84a8;return await this['waMonitor'][_0x51c920(0x83f)][_0x21e8ef[_0x51c920(0x3a0)]]['toggleEphemeral'](_0xacf9d3);}async['leaveGroup'](_0x4fd15e,_0x38331b){const _0x1c1b3d=a0_0x1e84a8;return await this['waMonitor']['waInstances'][_0x4fd15e['instanceName']][_0x1c1b3d(0x6f1)](_0x38331b);}},Yt=class{constructor(_0x308c4f){this['waMonitor']=_0x308c4f;}[a0_0x1e84a8(0x277)](_0x2fa1a6,_0x49adbb){const _0x29322b=a0_0x1e84a8;return this[_0x29322b(0x2af)][_0x29322b(0x83f)][_0x2fa1a6['instanceName']][_0x29322b(0x7d6)](_0x49adbb);}async[a0_0x1e84a8(0x6a6)](_0x4b0421){const _0x1a36aa=a0_0x1e84a8;try{return await this[_0x1a36aa(0x2af)]['waInstances'][_0x4b0421['instanceName']][_0x1a36aa(0x230)]();}catch{return{'enabled':null,'url':''};}}},nh=new $(a0_0x1e84a8(0x533)),Xt=class{constructor(_0x31864d){const _0x2ac576=a0_0x1e84a8;this[_0x2ac576(0x2af)]=_0x31864d;}async['editScheduleMessage'](_0x36129f,_0x75ae56){const _0x57b04e=a0_0x1e84a8;return await this[_0x57b04e(0x2af)]['waInstances'][_0x36129f[_0x57b04e(0x3a0)]][_0x57b04e(0x6f9)](_0x75ae56);}async[a0_0x1e84a8(0x5c9)](_0x18c556){const _0x3111b5=a0_0x1e84a8;return await this[_0x3111b5(0x2af)][_0x3111b5(0x83f)][_0x18c556[_0x3111b5(0x3a0)]][_0x3111b5(0x5c9)]();}async['deleteDoneMessages'](_0x33ef57){const _0x3ed7ce=a0_0x1e84a8;return await this[_0x3ed7ce(0x2af)][_0x3ed7ce(0x83f)][_0x33ef57[_0x3ed7ce(0x3a0)]][_0x3ed7ce(0x399)]();}async[a0_0x1e84a8(0x15c)](_0x35fc46){const _0x4edd16=a0_0x1e84a8;return await this[_0x4edd16(0x2af)][_0x4edd16(0x83f)][_0x35fc46[_0x4edd16(0x3a0)]][_0x4edd16(0x15c)]();}async[a0_0x1e84a8(0x20a)](_0xb71c6a,_0x1e4f8e){const _0x34d229=a0_0x1e84a8;return await this[_0x34d229(0x2af)][_0x34d229(0x83f)][_0xb71c6a[_0x34d229(0x3a0)]]['updateAgent'](_0x1e4f8e);}async[a0_0x1e84a8(0x52f)](_0x2a3e60,_0x487368){const _0xb6904f=a0_0x1e84a8;return await this[_0xb6904f(0x2af)][_0xb6904f(0x83f)][_0x2a3e60['instanceName']][_0xb6904f(0x52f)](_0x487368);}async['updateAutoCompleteMessages'](_0x4522a8,_0x5c0c33){const _0x2e65cd=a0_0x1e84a8;return await this[_0x2e65cd(0x2af)][_0x2e65cd(0x83f)][_0x4522a8[_0x2e65cd(0x3a0)]][_0x2e65cd(0x809)](_0x5c0c33);}async['updateFlowConfig'](_0x480856,_0x21fedf){const _0x4beeae=a0_0x1e84a8;return await this[_0x4beeae(0x2af)]['waInstances'][_0x480856[_0x4beeae(0x3a0)]][_0x4beeae(0x68c)](_0x21fedf);}async['startFlow'](_0x404a9b,_0x4473bc){const _0x1ff4d5=a0_0x1e84a8;return await this[_0x1ff4d5(0x2af)]['waInstances'][_0x404a9b[_0x1ff4d5(0x3a0)]][_0x1ff4d5(0x79b)](_0x4473bc);}async[a0_0x1e84a8(0x500)](_0x38694e,_0x1d7e17,_0xd1f679,_0xa4f09f){const _0x109aae=a0_0x1e84a8;return await this[_0x109aae(0x2af)]['waInstances'][_0x38694e][_0x109aae(0x500)](_0x1d7e17,_0xd1f679,_0xa4f09f);}async[a0_0x1e84a8(0x44b)](_0xc6b2f1,_0x48b07d){const _0x1a9370=a0_0x1e84a8;return await this['waMonitor']['waInstances'][_0xc6b2f1[_0x1a9370(0x3a0)]][_0x1a9370(0x44b)](_0x48b07d);}async['fetchConversation'](_0x26b3d3,_0x191654){const _0x422958=a0_0x1e84a8;return await this['waMonitor']['waInstances'][_0x26b3d3[_0x422958(0x3a0)]][_0x422958(0x72c)](_0x191654);}async[a0_0x1e84a8(0x6a1)](_0x2cda75,_0x5a6ec6){const _0x5085e8=a0_0x1e84a8;return await this[_0x5085e8(0x2af)][_0x5085e8(0x83f)][_0x2cda75[_0x5085e8(0x3a0)]][_0x5085e8(0x6a1)](_0x5a6ec6);}async[a0_0x1e84a8(0x5bc)](_0x43f77d,_0x28f9f4){const _0x306a18=a0_0x1e84a8;return await this[_0x306a18(0x2af)][_0x306a18(0x83f)][_0x43f77d[_0x306a18(0x3a0)]][_0x306a18(0x5bc)](_0x28f9f4);}async[a0_0x1e84a8(0x3f0)](_0x546841,_0x93a0f){const _0xdac063=a0_0x1e84a8;return await this[_0xdac063(0x2af)][_0xdac063(0x83f)][_0x546841['instanceName']][_0xdac063(0x3f0)](_0x93a0f[_0xdac063(0x3c4)]);}async[a0_0x1e84a8(0x1d6)](_0x201c8c,_0x17f324,_0x15304a){const _0x2f4910=a0_0x1e84a8;return await this[_0x2f4910(0x2af)][_0x2f4910(0x83f)][_0x201c8c['instanceName']][_0x2f4910(0x1d6)](_0x17f324,_0x15304a);}async[a0_0x1e84a8(0x62b)](_0xf95518,_0x3a73b4,_0x4b1a47){const _0x1740e6=a0_0x1e84a8;return await this[_0x1740e6(0x2af)]['waInstances'][_0xf95518['instanceName']][_0x1740e6(0x62b)](_0x3a73b4,_0x4b1a47);}async[a0_0x1e84a8(0x729)](_0x479ced,_0xa0ad2a){const _0x3c0a71=a0_0x1e84a8;return await this[_0x3c0a71(0x2af)][_0x3c0a71(0x83f)][_0x479ced[_0x3c0a71(0x3a0)]][_0x3c0a71(0x729)](_0xa0ad2a);}async[a0_0x1e84a8(0x52e)](_0xcf3520,_0x5dd460){const _0x3d9949=a0_0x1e84a8;return await this[_0x3d9949(0x2af)]['waInstances'][_0xcf3520[_0x3d9949(0x3a0)]][_0x3d9949(0x52e)](_0x5dd460);}async['editFlowGroup'](_0x1bc9fd,_0x2f11d9){const _0x203f64=a0_0x1e84a8;return await this[_0x203f64(0x2af)][_0x203f64(0x83f)][_0x1bc9fd[_0x203f64(0x3a0)]][_0x203f64(0x275)](_0x2f11d9);}async[a0_0x1e84a8(0x191)](_0x5f22f1,_0x5ff11d){const _0x31e2e5=a0_0x1e84a8;return await this[_0x31e2e5(0x2af)]['waInstances'][_0x5f22f1[_0x31e2e5(0x3a0)]]['editFlowCondition'](_0x5ff11d);}async[a0_0x1e84a8(0x5b5)](_0x483ca6,_0x366324){const _0x3140b7=a0_0x1e84a8;return await this['waMonitor'][_0x3140b7(0x83f)][_0x483ca6['instanceName']]['editFlowVaredit'](_0x366324);}async['editFlowVariable'](_0x44b067,_0x3bc0a7){const _0x425a31=a0_0x1e84a8;return await this['waMonitor']['waInstances'][_0x44b067[_0x425a31(0x3a0)]][_0x425a31(0x39f)](_0x3bc0a7);}async[a0_0x1e84a8(0x7ac)](_0xf56714,_0x198be3){const _0x443fa6=a0_0x1e84a8;return await this['waMonitor'][_0x443fa6(0x83f)][_0xf56714['instanceName']][_0x443fa6(0x7ac)](_0x198be3);}async[a0_0x1e84a8(0x61a)](_0x2f04e1){const _0x4a0d3d=a0_0x1e84a8;return await this[_0x4a0d3d(0x2af)][_0x4a0d3d(0x83f)][_0x2f04e1['instanceName']][_0x4a0d3d(0x61a)]();}},Zt=class{constructor(_0x4e26ae){const _0x540aa9=a0_0x1e84a8;this[_0x540aa9(0x743)]=_0x4e26ae;}async[a0_0x1e84a8(0x1da)](_0xde8d2c,_0x5b144d){const _0x45a5c9=a0_0x1e84a8;return this[_0x45a5c9(0x743)]['create'](_0xde8d2c,_0x5b144d);}async['findWebhook'](_0x30b30f){const _0x14383f=a0_0x1e84a8;return this[_0x14383f(0x743)][_0x14383f(0x6a6)](_0x30b30f);}},es=class extends _{constructor(_0x33fef0,_0x14836b){const _0x349139=a0_0x1e84a8;super(_0x14836b),this['webhookModel']=_0x33fef0,this[_0x349139(0x26f)]=_0x14836b;}async['create'](_0x16a6d5,_0x5dce80){const _0x3b7588=a0_0x1e84a8;try{return this[_0x3b7588(0x436)][_0x3b7588(0x7f4)]?{'insertCount':(await this[_0x3b7588(0x38d)][_0x3b7588(0x18e)]({'_id':_0x5dce80},{..._0x16a6d5},{'upsert':!0x0}))[_0x3b7588(0x5cd)]}:{'insertCount':0x1};}catch(_0x40a27c){return _0x40a27c;}}async[a0_0x1e84a8(0x185)](_0xacd62d){const _0x4db6c6=a0_0x1e84a8;try{if(this['dbSettings'][_0x4db6c6(0x7f4)]){await this[_0x4db6c6(0x38d)]['deleteOne']({'_id':_0xacd62d});return;}}catch(_0x3f6cf4){return{'error':_0x3f6cf4};}}async[a0_0x1e84a8(0x6a6)](_0x39d432){const _0x231e12=a0_0x1e84a8;try{if(this[_0x231e12(0x436)][_0x231e12(0x7f4)])return await this[_0x231e12(0x38d)][_0x231e12(0x688)]({'_id':_0x39d432});}catch{return{};}}},ts=class extends _{constructor(_0x3668de,_0xee57f2){const _0x36dbfa=a0_0x1e84a8;super(_0xee57f2),this[_0x36dbfa(0x1a5)]=_0x3668de,this[_0x36dbfa(0x26f)]=_0xee57f2,this[_0x36dbfa(0x396)]=_0xee57f2['get'](_0x36dbfa(0x16b));}async[a0_0x1e84a8(0x277)](_0x2d6ef5,_0x379b8c){const _0x5a3942=a0_0x1e84a8;try{if(this[_0x5a3942(0x436)][_0x5a3942(0x7f4)])return{'insertCount':(await this[_0x5a3942(0x1a5)]['updateOne']({'_id':_0x379b8c},{'$set':{..._0x2d6ef5}},{'upsert':!0x0}))[_0x5a3942(0x5cd)]};}catch(_0x1b47c1){return{'error':_0x1b47c1};}}async[a0_0x1e84a8(0x17c)](_0x3bc0ad,_0xf0fb95){const _0x593c22=a0_0x1e84a8;try{if(this[_0x593c22(0x436)][_0x593c22(0x7f4)])return{'insertCount':(await this[_0x593c22(0x1a5)][_0x593c22(0x74a)](_0x3bc0ad,{'$set':_0xf0fb95},{'upsert':!0x1}))[_0x593c22(0x5cd)]};throw new Error(_0x593c22(0x141));}catch(_0x3f095d){return{'error':_0x3f095d};}}async[a0_0x1e84a8(0x48d)](_0x200b76){const _0x15afdb=a0_0x1e84a8;try{if(this[_0x15afdb(0x436)][_0x15afdb(0x7f4)])return{'insertCount':(await this[_0x15afdb(0x1a5)]['deleteMany'](_0x200b76))[_0x15afdb(0x25e)]};throw new Error(_0x15afdb(0x386));}catch(_0x29d163){return{'error':_0x29d163};}}async[a0_0x1e84a8(0x185)](_0x12a407){const _0x592721=a0_0x1e84a8;try{if(this[_0x592721(0x436)][_0x592721(0x7f4)]){await this[_0x592721(0x1a5)][_0x592721(0x3a3)]({'_id':_0x12a407});return;}}catch(_0x14cfe8){return{'error':_0x14cfe8};}}async['find'](_0x59001f){const _0x3b5e44=a0_0x1e84a8;try{if(this['dbSettings'][_0x3b5e44(0x7f4)])return await this[_0x3b5e44(0x1a5)][_0x3b5e44(0x688)]({'_id':_0x59001f});}catch{return{};}}async[a0_0x1e84a8(0x2c7)](){const _0x58b9ac=a0_0x1e84a8;try{if(this['dbSettings'][_0x58b9ac(0x7f4)])return await this[_0x58b9ac(0x1a5)][_0x58b9ac(0x6a6)]();}catch{return[];}}async[a0_0x1e84a8(0x75f)](_0x39248d){const _0x1fe355=a0_0x1e84a8;try{if(this['dbSettings'][_0x1fe355(0x7f4)])return await this[_0x1fe355(0x1a5)][_0x1fe355(0x6a6)](_0x39248d);}catch{return[];}}},ss=class extends _{async[a0_0x1e84a8(0x3a3)](_0x36ea28){const _0x4a69d0=a0_0x1e84a8;try{let _0x2a0824=A(_0x36ea28[_0x4a69d0(0x564)]);return{'deletedCount':(await Ce[_0x4a69d0(0x3a3)](_0x2a0824))[_0x4a69d0(0x25e)]};}catch(_0x4b9502){return{'error':_0x4b9502?.[_0x4a69d0(0x71c)]()};}}async[a0_0x1e84a8(0x3fe)](_0x1a1974,_0x5cba65){const _0x14bc90=a0_0x1e84a8;try{let _0x2d4307=await Ce[_0x14bc90(0x44d)](_0x1a1974);return _0x2d4307?(Object[_0x14bc90(0x4e7)](_0x2d4307,_0x5cba65),await _0x2d4307['save']()):(console[_0x14bc90(0x31d)](_0x14bc90(0x2e0),_0x1a1974),null);}catch(_0x51b1db){return console[_0x14bc90(0x31d)](_0x14bc90(0x82b),_0x51b1db),null;}}async[a0_0x1e84a8(0x79d)](_0x46e3b3){const _0xaafed7=a0_0x1e84a8;try{return await new Ce(_0x46e3b3)[_0xaafed7(0x1f2)]();}catch(_0x5a3979){return console[_0xaafed7(0x31d)](_0xaafed7(0x49a),_0x5a3979),null;}}async[a0_0x1e84a8(0x2c7)](_0x1deac2){const _0x358b8f=a0_0x1e84a8;try{let _0x5761b4=_0x1deac2['where']??{};return await Ce[_0x358b8f(0x6a6)](_0x5761b4)[_0x358b8f(0x5e1)](_0x1deac2[_0x358b8f(0x5e1)]??0x0)[_0x358b8f(0x225)]();}catch(_0x1ba85e){return console[_0x358b8f(0x31d)](_0x358b8f(0x236),_0x1ba85e),[];}}async['findOne'](_0x347302){const _0x595e01=a0_0x1e84a8;try{let _0x39fe12=A(_0x347302['where']);return await Ce[_0x595e01(0x688)](_0x39fe12)['lean']();}catch{return null;}}},as=class extends _{[a0_0x1e84a8(0x51f)](_0x207cf0){return Sa(_0x207cf0);}async[a0_0x1e84a8(0x72d)](_0x4ac937){const _0x384a56=a0_0x1e84a8;if(_0x4ac937[_0x384a56(0x124)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x4ac937[0x0]['owner'])[_0x384a56(0x4d9)]([..._0x4ac937]))[_0x384a56(0x124)]};}catch(_0x3aff2a){return _0x3aff2a;}}async['delete'](_0x3f5649,_0x5da706){const _0x9e7b22=a0_0x1e84a8;try{let _0x32b098=this[_0x9e7b22(0x51f)](_0x5da706),_0x21b310=A(_0x3f5649['where']);return{'deletedCount':(await _0x32b098[_0x9e7b22(0x48d)](_0x21b310))['deletedCount']};}catch(_0x30d97c){return{'error':_0x30d97c?.[_0x9e7b22(0x71c)]()};}}async[a0_0x1e84a8(0x3a3)](_0x56c78b,_0x4e571d){const _0x528397=a0_0x1e84a8;try{let _0x4c7321=this[_0x528397(0x51f)](_0x4e571d),_0x492c19=A(_0x56c78b[_0x528397(0x564)]);return{'deletedCount':(await _0x4c7321[_0x528397(0x3a3)](_0x492c19))['deletedCount']};}catch(_0x5e2e38){return{'error':_0x5e2e38?.[_0x528397(0x71c)]()};}}async[a0_0x1e84a8(0x32a)](_0x45ac99,_0x30fc4c){const _0x5b4a73=a0_0x1e84a8;try{if(_0x45ac99[_0x5b4a73(0x124)]===0x0)return;let _0x18716f=this['getConversationModelForOwner'](_0x30fc4c),_0x5ecd53=_0x45ac99[_0x5b4a73(0x7b9)](_0x532a09=>({'updateOne':{'filter':{'name':_0x532a09['name'],'owner':_0x30fc4c},'update':{..._0x532a09}}})),{modifiedCount:_0x54c09f}=await _0x18716f[_0x5b4a73(0x48b)](_0x5ecd53);return{'insertCount':_0x54c09f};}catch{return;}}async[a0_0x1e84a8(0x74a)](_0x28db23,_0x56f984,_0x3e8f91){const _0x30d43e=a0_0x1e84a8;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x3e8f91)[_0x30d43e(0x74a)](_0x28db23,{'$set':_0x56f984})['exec']())[_0x30d43e(0x5cd)]};}catch(_0x55b8f3){return console['error'](_0x30d43e(0x276),_0x55b8f3),{'error':_0x55b8f3};}}async[a0_0x1e84a8(0x3fe)](_0x2ecfa1,_0x300e0a,_0x56bce3){const _0x1b1ab2=a0_0x1e84a8;try{return await this['getConversationModelForOwner'](_0x56bce3)[_0x1b1ab2(0x198)]({'_id':_0x2ecfa1},{'$set':_0x300e0a},{'new':!0x0,'upsert':!0x0})[_0x1b1ab2(0x225)]();}catch(_0x2950aa){return console[_0x1b1ab2(0x31d)](_0x2950aa),null;}}async[a0_0x1e84a8(0x6a6)](_0xb0f9e9,_0x59d82f){const _0xe390a1=a0_0x1e84a8;try{return await this[_0xe390a1(0x51f)](_0x59d82f)[_0xe390a1(0x6a6)](_0xb0f9e9)[_0xe390a1(0x652)]({'lastInteraction':-0x1})[_0xe390a1(0x225)]();}catch{return[];}}async['findOne'](_0x428041,_0x27cfe4){const _0x2aacaf=a0_0x1e84a8;try{return await this[_0x2aacaf(0x51f)](_0x27cfe4)[_0x2aacaf(0x688)]({..._0x428041[_0x2aacaf(0x564)]})[_0x2aacaf(0x225)]();}catch{return null;}}async[a0_0x1e84a8(0x568)](_0x15125e){const _0x1d8d33=a0_0x1e84a8;try{return await this[_0x1d8d33(0x51f)](_0x15125e)[_0x1d8d33(0x5f5)]['drop'](),{'success':!0x0};}catch(_0x5ecb80){return console[_0x1d8d33(0x31d)](_0x5ecb80),{'success':!0x1,'error':_0x5ecb80};}}},is=class extends _{[a0_0x1e84a8(0x6fd)](_0x4479f1){return Ma(_0x4479f1);}async['bulkWrite'](_0x482de5,_0x42c119){const _0x55f40c=a0_0x1e84a8;try{return await this[_0x55f40c(0x6fd)](_0x42c119)[_0x55f40c(0x48b)](_0x482de5);}catch(_0x3b980d){return console[_0x55f40c(0x31d)](_0x55f40c(0x18f),_0x3b980d),null;}}async[a0_0x1e84a8(0x79d)](_0x5815f9,_0x17d8d2){const _0x595aa3=a0_0x1e84a8;try{let _0x116087=this[_0x595aa3(0x6fd)](_0x17d8d2);return await new _0x116087(_0x5815f9)[_0x595aa3(0x1f2)]();}catch(_0x54ace6){return console['error'](_0x595aa3(0x7ad),_0x54ace6),null;}}async[a0_0x1e84a8(0x3a3)](_0x5434f5,_0x3248c9){const _0x411fda=a0_0x1e84a8;try{return await this[_0x411fda(0x6fd)](_0x3248c9)[_0x411fda(0x475)](_0x5434f5),{};}catch(_0x21ee24){return{'error':_0x21ee24?.[_0x411fda(0x71c)]()};}}async[a0_0x1e84a8(0x3fe)](_0x1b86b6,_0x409055,_0x53427e,_0x1b1571={}){const _0x1e81fd=a0_0x1e84a8;try{return await this[_0x1e81fd(0x6fd)](_0x53427e)[_0x1e81fd(0x198)](_0x1b86b6,_0x409055,{..._0x1b1571,'new':!0x0})['lean']();}catch(_0x5387e2){return console[_0x1e81fd(0x31d)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5387e2),null;}}async[a0_0x1e84a8(0x7c6)](_0x3d1615,_0x384f30,_0x259918){const _0x247fd7=a0_0x1e84a8;try{return await this[_0x247fd7(0x6fd)](_0x259918)[_0x247fd7(0x3fa)](_0x3d1615,_0x384f30,{'new':!0x0})[_0x247fd7(0x225)]();}catch(_0x74285a){return console[_0x247fd7(0x31d)](_0x247fd7(0x59c),_0x74285a),null;}}async[a0_0x1e84a8(0x6a6)](_0x3f3078,_0x495085){const _0x4e927a=a0_0x1e84a8;try{return await this['getScheduleMessageModelForOwner'](_0x495085)[_0x4e927a(0x6a6)](_0x3f3078[_0x4e927a(0x564)])[_0x4e927a(0x5e1)](_0x3f3078?.[_0x4e927a(0x5e1)]??0x0)[_0x4e927a(0x652)]({'when':0x1})[_0x4e927a(0x225)]();}catch{return[];}}async['findOne'](_0x57c9d0,_0x3a0dae){const _0x881156=a0_0x1e84a8;try{return await this[_0x881156(0x6fd)](_0x3a0dae)[_0x881156(0x688)](_0x57c9d0[_0x881156(0x564)])['sort']({'when':0x1})['lean']();}catch{return null;}}async[a0_0x1e84a8(0x44d)](_0x45c63c,_0x36878c){const _0x398097=a0_0x1e84a8;try{return await this[_0x398097(0x6fd)](_0x36878c)[_0x398097(0x44d)](_0x45c63c)[_0x398097(0x225)]();}catch{return null;}}async['deleteMany'](_0x4356dc,_0x5bbb7b){const _0x517834=a0_0x1e84a8;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x5bbb7b)[_0x517834(0x48d)](_0x4356dc))['deletedCount']};}catch(_0x82491b){return console[_0x517834(0x31d)](_0x517834(0x4b1),_0x82491b),{'error':_0x82491b};}}async[a0_0x1e84a8(0x568)](_0x14349a){const _0x489a66=a0_0x1e84a8;try{return await this[_0x489a66(0x6fd)](_0x14349a)[_0x489a66(0x5f5)][_0x489a66(0x2bc)](),{'success':!0x0};}catch(_0x408e16){return console[_0x489a66(0x31d)](_0x408e16),{'success':!0x1,'error':_0x408e16};}}},os=class extends _{async[a0_0x1e84a8(0x32a)](_0x56aa52,_0x187c61){const _0x2d0c74=a0_0x1e84a8;try{if(this[_0x2d0c74(0x436)]['ENABLED'])return await Ie[_0x2d0c74(0x198)]({'_id':_0x187c61},{'$set':_0x56aa52},{'new':!0x0});}catch(_0x31b681){throw console['error']('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x31b681),_0x31b681;}}async[a0_0x1e84a8(0x369)](_0x1b0177){const _0x3eae5c=a0_0x1e84a8;try{let _0x5d521d=await Ie['findById'](_0x1b0177);return _0x5d521d?_0x5d521d[_0x3eae5c(0x46c)]||(_0x5d521d[_0x3eae5c(0x46c)]=[],await _0x5d521d[_0x3eae5c(0x1f2)]()):(_0x5d521d=new Ie({'_id':_0x1b0177,'autoCompleteMessages':[]}),await _0x5d521d[_0x3eae5c(0x1f2)]()),_0x5d521d;}catch(_0x49a5d3){return _0x49a5d3[_0x3eae5c(0x13f)]===0x2af8&&_0x49a5d3['keyPattern']&&_0x49a5d3['keyPattern'][_0x3eae5c(0x651)]?(console['error'](_0x3eae5c(0x188)),await Ie[_0x3eae5c(0x5f5)][_0x3eae5c(0x80b)](_0x3eae5c(0x128)),null):(console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x49a5d3),null);}}},jo=new $(a0_0x1e84a8(0x431)),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,I?.[a0_0x1e84a8(0x3bf)]()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),D=new Bt(G),q=new Qt(G);function a0_0x59d3(){const _0x5a3eb5=['):\x20Buscando\x20conversas...','envProcess','exists','state','findManyByIds','options','groupUpdateDescription','ScheduleMessageModel','DB_PREFIX_NAME','ORG:','onWhatsApp','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','readMessages','cwd','flow','):\x20enviado\x20para\x20[','toString','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','responsavelid','stopMinutesMaxActives','Falta\x20informação\x20para\x20a\x20chamada\x20API','whatsappNumbers','processclearVariables','vcard','trimmed','#f64847','/*.json','editFlowBlock','updateMissingCustomFields','archiveChat','fetchConversation','insert','request\x20received\x20in\x20allFlows','Botão\x202','pollMessageOnDelete','groupValidate','stringify','triedToSend','error_log','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','copy','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','MESSAGES_UPSERT','method','importChatsAntigo','restartInstance','flowPrefixCommand','normalizeMessage','GUARD','STORE','SERVER_ACK','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','webhookService','uazapiDeleteMessage','request\x20received\x20in\x20updateAutoCompleteMessages','documentMessage','buffer','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','type','updateMany','this.reconnectAttempts:\x20','errors','console','):Sending\x20audio\x20whatsapp','apikey','https://api64.ipify.org?format=json','https://uazapi-plugin.bubbleapps.io/','):\x20sender\x20=\x20number:\x20','color','messageType','):\x20Limpando\x20delayMessage','IP\x20confirmed:\x20','groupRevokeInvite','newValue','lastRealGroupsFetch','\x22\x20cannot\x20be\x20empty','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','Safari','deviceSentMessage','/config','findMany','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','):\x20debug\x20alterando\x20this.AutomateSystem','request\x20received\x20in\x20editConversation','Erro\x20ao\x20atualizar\x20o\x20flow.','stack','Parando\x20aplicação...','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','):\x20conversation.lastInteraction:\x20','#9568cf','redis','padEnd','image','videoMessage','fetchProfile','.wav','selectableCount','splice','presence.update','http','Pausado\x20por\x20','AUTHENTICATION_JWT_EXPIRIN_IN','Garbage\x20collection\x20não\x20está\x20disponível.','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','updateGParticipate','menuIgnoreNonVotes','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','toLowerCase','fetchContacts','groups','downloads','parseInt','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','[service]\x20request\x20received\x20in\x20sendButtons','messageTimestamp','imagechat','delayMessage','Db\x20Connection','choices','Erro\x20ao\x20deletar\x20chat:','importChatsBatch','enviado\x20para','toUpperCase','Deletion\x20failed','setUpdate','Tentando\x20reconectar...','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Error\x20removing\x20IPv6\x20address:\x20','sendAudio','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','pollMessage','groupCreate','5702704urChTZ','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','CREDENTIALS','basename','CONTACTS_SET','templateButtonReplyMessage','stateConnection','startFlow','isInteger','createAndSave','email','):\x20Fluxo\x20\x27','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','requestPairingCode','.docx','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','findGroup','bodyStringErrorParse','fetchBusinessProfile','last','updateProfileStatus','convertaudio','app','Usando\x20IP\x20existente:\x20','deleteFlow','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20\x27Deletando\x20fluxo,\x20id:\x20','messagesLogs','spawn','Fluxo\x20\x27','deleteMessageForEveryone','\x20is\x20already\x20in\x20use.','content-type','long','info','Erro\x20ao\x20editar\x20o\x20chat','):\x20[messages.update]\x20group\x20ignored','map','verbose','website','message_normalized','processvaredits','\x1b[30m','groupMemberAddMode','https://v6.ident.me','IPv6\x20Prefix\x20detected:\x20','\x20minutos\x20verificará\x20novas\x20mensagens','Authentication\x20error','):Error\x20in\x20converting\x20audio','updateReplyOption','updateOneById','fora\x20do\x20git','delayChatLabel_RETRY_DELAY_MS','):\x20teve\x20mudanças\x20chat.archived:\x20','Erro\x20ao\x20arquivar\x20chat','isCommunity','REDIS_URI','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','writeFile','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','Content-Type','removeProfilePicture','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','whoCanUse','\x20não\x20encontrado\x20para\x20cópia','text/event-stream','setWebhook','blockId','substring','joinGroupValidate','API\x20Key\x20inválida.','):\x20Deletando\x20conversa...','ip\x20-6\x20addr\x20del\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','Flow\x20iniciado','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','STORE_CLEANING_TERMINAL','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','chats.update','request\x20received\x20in\x20starFlow','updateGroupPicture','chat','reorderReplyOptions','express','finish','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','fetchProfilePictureUrl','conditions','public','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','TYPE','scheduleSendMedia','\x1b[31m%s\x1b[0m','match','authorization','ENABLED','archive','dataValidate','\x22\x20-\x20NOT\x20CONNECTION','METHODS','unlocked','statusJidList','messageStubParameters','api','view\x20engine','pollOnReplyDelete','Sistema\x20atualizado\x20com\x20sucesso!','Stack\x20trace:','env.KEY\x20!==\x20key','^\x5cd+([-]\x5cd+)*@g.us$','ScheduleMessage','\x20não\x20encontrado','deleteImportedChat','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','height','createflow','updateAutoCompleteMessages','createConversationforgoToFlow','dropIndex','quick_reply','REDIS','scheduleSendAudio','evaluateConditionTest','qrcode','):\x20Criando\x20fluxo\x20compartilhado...','load','participants','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','IP\x20mismatch:\x20configured\x20','contacts.upsert','data:\x20','viewOnceMessage','IPv6\x20address\x20removed:\x20','):\x20Entrou\x20na\x20função\x20clearVariables',',\x20pairCode:\x20','):\x20Ler\x20mensagem','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','recording','$addToSet','Database\x20update\x20result:','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','-instances','interactiveMessage','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','fakeReceived','queue','hasOwnProperty','setting','throwAndLogError','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Falha\x20ao\x20processar\x20a\x20solicitação','jsonschema','removeData','pre','expiration','deleteReplyOption','call',']\x20(','fetchLatestBaileysVersion','ON\x20-\x20dbName:\x20','Removidas\x20as\x20variáveis:\x20','indexOf','redis://127.0.0.1:6379','Telefone:\x20','3733270NfQkyV','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','localWebhook','):\x20Criando\x20fluxo...','from','waInstances','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','StartID:','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','VERBOSE','refused','scheduleNextCheck','atendimentoAberto','addMessagesToGroup','https://chat.whatsapp.com/','/wa-connection-update','mongoose','MAX_SAFE_INTEGER','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','urlOrBase64','3EB0','tags',',\x20saindo.','):\x20Procurando\x20conversa','storePath','findAndUpdateCacheContact','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','createConnection','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','push','\x1b[47m','request\x20body:\x20','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','contextInfo','compression','Partes\x20do\x20domínio:','\x0aFN:','mongodb://','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','conversation','URL:','):Hash\x20to\x20image\x20name:\x20','ff:fe','GROUPS_UPSERT','when','env','groupDesc','READ','LEVEL','StartBot','findAndReplaceRegex','/wa-chats','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','isConnected','announce','child_process','groupdata.participants','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','hex','Error\x20updating\x20cache\x20contact:','picture','newStoppedUntil','):\x20Flow\x20\x27','extractMessageContent','Error\x20in\x20prepareMediaMessage:','deleteInstance','):\x20Iniciando\x20processReadyMessages','pow','notEqual','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','pollCreationMessageV3','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Router','Subdomínio\x20extraído\x20da\x20URL:','Instance\x20Name:','clear','sendMessageWithTyping','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','pairingCode','groupRequestParticipantsUpdate','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','\x0a*Você\x20respondeu*:\x0a','replaceVariables','nome','unavailable','listType','createInstance','$dbName','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','selectedOptions','CORS','sendStatus','.mimetype',',\x20resultado:\x20','imported','replace','creds.json','length','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','toBrazilianNumberFormat','autoCompleteMessages.command_1','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','createGroup','contact','chatHandle','):\x20Ignoring\x20group\x20messages.','getOwnPropertyDescriptor','licenca','findIndex','/events','promote','Opção\x20Falsa\x20',',\x20isAdmin:\x20','URL\x20não\x20disponível','shareOwners','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','closeExistingConversations','contact_blacklist','CONNECTION','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','get','code','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Database\x20is\x20not\x20enabled','Nenhum\x20chat\x20encontrado\x20para\x20editar.','@whiskeysockets/baileys','headers','reviver','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','isJidUser','promisify','editflowreply','CHATS_UPSERT','none','\x1b[34m%s\x1b[0m','_FlowHistorico','delAll','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','gifPlayback','randomMac','forEach','replaceVariablesChat','qrCode','#ffae04','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','):Notifying\x20clients\x20for\x20chat:\x20','document','getAutomateSystem','request\x20received\x20in\x20deleteFlow','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','linkPreview','getAllData','EMAIL:','upsertedCount','privacySettings','saveCreds','allContacts','updateReadReceiptsPrivacy','_Chats','):\x20Editando\x20grupo\x20do\x20fluxo...','send','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','AUTHENTICATION','displayName','chats','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','profilePicture','readMessage','pollUpdateMessage','PRESENCE_UPDATE','NextBlock','delaySecMax','collections','connecting','SERVER_OFFLINE','WebhookGlobal','audio/ogg;\x20codecs=opus','):\x20Current\x20Time:\x20','audioWhatsapp','updateAll','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','):Delete\x20chat','stopWhenYouSendMsg','uazapiSendAudio','.ppt','findGroups','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','editChat','delete','filter','value','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','delayChatLabel_MAX_RETRIES','MessageModel','redisEnv','\x20inseridos\x20no\x20banco\x20de\x20dados...','round','replaceOne','Erro\x20ao\x20executar\x20bulkWrite:','string','editFlowCondition','\x20não\x20encontrado\x20para\x20atualização.','1879245esrBmJ','array','connectionClosed',',\x20Segundo\x20Valor:\x20','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','findOneAndUpdate','INFO','\x20depois\x20','EMAIL','cpf','listResponseMessage','isCommunityAnnounce','logout','./.git/config','cacheContact','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','Message\x20absent\x20from\x20node','\x20-i\x20','authModel','addBlock','logger','display_text','lastFetchAwaitingApproval','endSession','item','mediatype','folder','done','):\x20Entrou\x20na\x20função\x20stop','Error\x20adding\x20IPv6\x20address:\x20','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','creation','\x1b[36m%s\x1b[0m','DELETED','repeat','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','No\x20suitable\x20network\x20interface\x20found','sendMessage','author','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','log','listMessage','cache','sendButtons','Flow\x20\x27','delaySecMin','Instance\x20\x22','connectionStatus','STATUS_INSTANCE','toBRL','phoneNumber','uncaughtException','false',',\x20qrcodeCount:\x20','^\x5cd+','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','connectedClient','caption','request\x20received\x20in\x20editFlow','startID','.jpg','E-mail:\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','backgroundColor','evaluateCondition','$set','#fe9dfe','createFlow','SendScheduleMessage','-whatsapp-api','instance','createWebhook','join','request\x20received\x20in\x20editFlowcondition','authState','viewOnceMessageV2','Retornando\x20grupos\x20SEM\x20cache','groupLeave','AUTHENTICATION_TYPE','relayMessage','generateRandomIPv6','REDIS_PREFIX_KEY','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','findRealGroups','\x1b[46m','trim','):\x20Entrou\x20na\x20função\x20saveReply','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','static','getLabelModelForOwner','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','number','_hour','processConditions','dbClient','save','groupRequestParticipantsList','SECRET','uazapiSendLocation','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','mediaSticker','upperCase','https://api.elevenlabs.io/v1/text-to-speech/','Nenhum\x20fluxo\x20correspondente\x20encontrado.',',\x20valor\x20a\x20encontrar:\x20\x22','Deleted\x20','addresss','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.',',\x20valor\x20passado:\x20\x22','digest','updateProfilePicturePrivacy','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','width','whoCanEdit','\x1b[44m','dbConnection','/wa-message','\x20minutos...','convert','updateAgent','updateGroupsAddPrivacy','@g.us','variablesNotFound','PLAYED','prototype','isBase64','\x1b[37m','updateGroupWebhook','):\x20atualização\x20chat:\x20','stopMinutes','removeInstance','Erro\x20ao\x20encerrar\x20a\x20API','readMessageBot','sending','leadInfo.customFields','groupSettingUpdate','DATABASE_CONNECTION_URI','_fromMe','):\x20Going\x20to\x20','}}\x20->\x20\x22','noConnection','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Cache\x20instance\x20update\x20result:\x20','reconnectTimestamps','updateProfilePicture','):\x20leadInfoVariables','lean','__esModule','count','):\x20customFieldVariables','poll','configureIPv6','):\x20Enviando\x20áudio','):\x20tem\x20blocks','copyBlock','#ff9484','Error\x20updating\x20message\x20status:','findWebhook','deleted','setHeader','flowIgnoreGroups','pollCreationMessageKey','8080','Erro\x20ao\x20buscar\x20fluxos:','Valor\x20da\x20URL\x20recuperada:','):\x20conversation.waitingMenu_name','next_groupId','emit','prepareWAMessageMedia','minutesToClose','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','dbServer','Novo\x20IP\x20criado:\x20','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','\x20horas\x20e\x20','findGroupInfo','memberAddMode','maxActives','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','encoding','#9ab6c1','initAuthCreds','unreadCount','pendingMessages','user','headerString','SERVER','URL\x20completa:','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','createButtonsFromValues','has','stanzaId','order','isListOfNumbers','!stop','DATABASE','footer','rm\x20-rf\x20','font','_lastVote','DELIVERY_ACK','restrict','deletedCount','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','sendLocation','updateMissingEtiquetas','Grupo\x20não\x20encontrado','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','GET','):\x20Criou\x20conversa\x20no\x20startFlow','\x1b[1m','PENDING','@broadcast','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','GROUPS_UPDATE','):Image\x20path:\x20','MESSAGES_UPDATE','deleteChat','getBase64FromMediaMessage','configService','):\x20Conversa\x20está\x20expirada','SEND_MESSAGE','editflowcondition','flowStopMinutes','lowerCase','editFlowGroup','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','create','existsSync','all','quotedMessage','waitingMenu_replyOptions','verifiedName','Erro\x20ao\x20adicionar\x20label\x20','GROUP_PARTICIPANTS_UPDATE','Operador:\x20\x22','subject','isLong','leadInfo.desativadoFluxoAte','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','Erro\x20ao\x20editar\x20a\x20conversa','cacheContactModel','findFlow','):Temp\x20image\x20deleted','):\x20whoCanEdit\x20after\x20validation:\x20','AutomateSystem','Subscribed\x20Events:','Invalid\x20format','menuExpiredMessage','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','hGet','inner','groupJoinApprovalMode','PRODUCT_LIST','request\x20received\x20in\x20getAutomateSystem','Types','MESSAGES_SET','USER','API_KEY','sem\x20texto\x20na\x20mensagem','createConversationforStartFlow','CHATS_UPDATE','createButtonSectionsFromValues','lastMessage','firstValue','ListType','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','ContactModel','ignoreGroups','fetchStatus','url','labels.association','off','instancias:\x20','_ScheduleMessages','pushName','cachedContact','processawaitSeconds','audioMessage','leadInfo','Valor\x20inicial:\x20\x22','replaceVariablesLogs','iniciando\x20fluxo\x20router','waMonitor','\x20minutos.\x20Será\x20às\x20','):\x20[messages.upsert]\x20group\x20ignored','CORS_CREDENTIALS','*Pergunta*:\x20\x0a','findConversation','waUploadToServer','processApiRequest','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Editando\x20bloco...','editOperator','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','contactHandle','drop','Erro\x20ao\x20atualizar\x20agendamento\x20','FlowRouter','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','parse','Instância:\x20','presence','name','):Converted\x20image\x20deleted','updateGParticipant','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','findAll','updateParticipant','DATABASE_ENABLED','updateMissingTags','):including\x20timestamp\x20in\x20url:\x20','flows','video','getStatus','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','getContentType','repository','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','#d3a91f','automateSystem','readData','#56ccb4','createNewConversation','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','https','p-queue','Instance\x20deleted','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','connect','RECONNECT_TIME_FRAME','messageLogs','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Imagem\x20não\x20encontrada','address','profilePictureUrl','addReplyOption','#d8e651','\x20tentativas.','warn','reconnectAttempts','getProfileName','announcement','PROXY','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','sendWhatsAppAudio','removed','less','pollCreationMessageV2','block','Last\x20message\x20not\x20found','ChatRouter','SINGLE_SELECT','floor','Erro\x20ao\x20copiar\x20o\x20documento','stickerMessage','\x1b[33m%s\x1b[0m','connectToWhatsappController','truncatedto','/wa-presence','Erro\x20ao\x20inserir\x20chats:','The\x20instance\x20needs\x20to\x20be\x20disconnected','onTime','updateChatGroupData','format','Variável\x20não\x20encontrada!','StatusJidList\x20is\x20required','toNumber','.fileUrl','Failed\x20to\x20prepare\x20media\x20message','Configuração\x20SSL\x20recuperada:','Erro\x20ao\x20deletar\x20a\x20conversa','/64\x20dev\x20','CacheContacts\x20database\x20connection\x20closed.','last_update','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','WARN','):\x20ev.flush\x20realizado','):\x20Conversa\x20atualizada\x20em\x20memória','updatePresence','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','The\x20global\x20api\x20key\x20must\x20be\x20set','express-async-errors','ms\x20(tentativa\x20','mimetype','blockLogs','variables','\x27\x20não\x20encontrado','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','post','contactsArrayMessage','stdout','action','error','isValidIPv6Config','Last\x20message\x20not\x20found\x20for\x20number:\x20','menuMessage','):\x20Error\x20processing\x20conditions:\x20','delayChatLabel','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','/media','owner','createClient','DEBUG','stopConversation','reference','update','groupMetadata','sendText','stderr','Conversa\x20deletada\x20com\x20sucesso.','jsonwebtoken','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','_Messages','getVariablesChat','groupParticipantsUpdate','findGroupsEspecial','messageHandle','Selecione','isJWT','setRestartTimeout','Forbidden','Error\x20testing\x20IP\x20with\x20','test',',\x20received\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):Archiving\x20chat','fetchPrivacySettings','senderKeyDistributionMessage','authentication','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','apirequest','updatePrivacySettings','https://ipv6.jsonip.com','sendMessageWithTypingButtons','\x20instance\x20does\x20not\x20exist','jpegThumbnail','AutomateSystem\x20não\x20foi\x20inicializado','groupId','Detalhes\x20do\x20erro:','profile','cacheInstanceModel','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','AutomateFunctions','useMultiFileAuthState','381812GiYtaY','AppStateSyncKeyData','AUTHENTICATION_API_KEY','composing','updateBlock','SSL_CONF_PRIVKEY','notas','demote','local_map','flushHeaders','/wa-message-update','cachedContacts-whatsapp','formatBRNumber','request\x20received\x20in\x20deleteConversation','removeUnusedChatFields','start','):\x20Iniciando\x20bot...','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','changeVariables','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','labelId','sendContact','unreadcount','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','findOrCreate','URL','Número\x20não\x20possui\x20WhatsApp.','):\x20alterando\x20this.AutomateSystem','shareFlow','Data\x20inválida\x20fornecida','Falhou\x20ao\x20encontrar\x20chat\x20','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','includes','fileUrl','Background\x20color\x20is\x20required','canSendMessage','no.connection','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','\x20segundos\x20antes\x20de\x20reconectar...','):Audio\x20converted\x20and\x20stored\x20in\x20cache','leadInfo.atendimentoAberto','instances','):Image\x20is\x20base64','textMessage','startsWith','key','sendPoll','remove','getContactModelForOwner','\x1b[33m','https://api.openai.com/v1/audio/speech','/exit','[AUTH]\x20Database\x20is\x20not\x20enabled','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','enabled','mentioned','normalizeMessageContent','cleanStore','.\x20Aguardando\x20','webhookModel','ephemeralExpiration','uazapi','segundos','loadEnv','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','globalShow','\x20minutos','processblock','auth','Generated\x20IPv6:\x20','allflows','deleteDoneMessages','/instance/connectionState','):\x20Buscando\x20flow,\x20id:\x20','option','.webm','Mensagens\x20deletadas\x20com\x20sucesso.','editFlowVariable','instanceName','Instance\x20Key\x20from\x20DB:','toFile','deleteOne','SUCCESS','\x20contacts','fromMe','reduce','):\x20transformedCustomFieldVariables','convertaudioMP3','):\x20Flow\x20desativado','scheduleFlow','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','CONTACTS_UPDATE','delay','COLOR','):\x20conversation.status:\x20','moreLogs','editflowgroup','):\x20isVote:\x20','groupGetInviteInfo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','sectionsToString','Erro\x20ao\x20iniciar\x20o\x20fluxo.','chatId','groupToggleEphemeral','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','list2','closed','getClient','messaging-history.set','reactionMessage','role','/wa-contacts','_id','CONECTADO\x20À\x20UAZAPI','instanceInfo','not_announcement','createHash','processReadyMessages','now','groupadd','The\x20','ip6eui','match_last_seen',',\x20Comparador:\x20','editedMessage','):\x20Enviando\x20localização','silent','Conexão\x20estabelecida','CHATS_SET','toggleEphemeral','?timestamp=','lastUpdate','imgUrl','rowId','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','\x1b[32m','eventEmitter','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','uazapiSendMedia','lastBlockId','):\x20Entrou\x20na\x20função\x20scheduleFlow','reorderMessages','/wa-groups','All_Instances_Config','Erro\x20ao\x20editar\x20o\x20bloco:\x20','group','networkInterface','.error','pt-BR','clearVariables','.txt','cta_url','app-state-sync-key','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','PREFIX_KEY','ERROR','getFlow','):\x20Conversa\x20inserida\x20com\x20sucesso.','Error\x20fetching\x20group','padStart','sleep','.mp4','processPollUpdateMessage','oldToken','utf8','markMessageAsRead','findByIdAndUpdate','global','pop','):\x20error:\x20','updateOne','getUniqueFlowName','jid','findParticipants','leadInfo.','variable','timeout','#83e421','getMessage','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','updateMessage','wuid','ini','\x5c$&','entries','validate','condition','Error\x20fetching\x20and\x20updating\x20profile:\x20','getReadyToSendMessages','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','lastCondition','secondValue','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20nextBlock.uazapi.name','subjectTime','API\x20Key\x20from\x20Request:','size','sendMenu','AddUserFlow','apiName','mentions','admin_add','BufferJSON','):Image\x20created','Error\x20parsing\x20JSON:','routerPath','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','varedits','deleteMessage','removeIPv6ById','dbInstance','request\x20received\x20in\x20editFlowvariable','InstancesAlterarTodas','cors','processUazapi','/instance','exit','#fed428','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','WA\x20MODULE','Validate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','messages','dbSettings','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','.extension','superadmin','):\x20whoCanUse\x20after\x20validation:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem.','\x20com\x20sucesso.','saveConversationToDatabase','getLastMessage','editMessagesInGroup','Erro\x20ao\x20importar\x20chats','getChatModelForOwner','params','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','uuid','waitingMenu_text','flush','):\x20Fluxos\x20não\x20estão\x20ativados','activatedCount','sendList','getConversation','removeChatLabel','findById','lastReceivedMessage','label','apiResponse','randomBytes',',\x20Resultado:\x20','originalUrl','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Fluxos\x20não\x20estão\x20ativados','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','.ogg','\x1b[0m','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','defineProperty','qrcode.updated','webhookMap','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','chats.upsert','CONTACTS_UPSERT','getDevice','media','.\x20Pulando.','updateConversation','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','archived','request\x20received\x20in\x20deleteDoneMessages','#00a1f2','buttonOrList_id','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','video-cover.png','request\x20received\x20in\x20updateFlowConfig','autoCompleteMessages','HH:mm:ss','getMinutes','createServer','updateGroupParticipantsWebhook','content','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','groupBetterSetting','Mac\x20OS','findByIdAndDelete','processScheduleFlow','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','desc','\x1b[31m','sendDataWebhook','CORS_ORIGIN','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','pino','@newsletter','updateOnlinePrivacy','_year','/chat',',\x20canSendMessage:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','defineAuthState','unhandledRejection','Erro\x20ao\x20remover\x20label\x20','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','interactiveResponseMessage','Error\x20finding\x20many\x20contacts:','#000000','bulkWrite','groupInviteCode','deleteMany','Limpando\x20logs\x20do\x20PM2...','isBusiness','cleanDisconnectedInstances','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','STORE_CHATS','open','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','_error','Unauthorized','getDate','namespace','PORT','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','createJid','):\x20Não\x20achou\x20nenhum\x20flow','imageMessage','title','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','Não\x20respondeu\x20com\x20a\x20enquete.','notEmpty','flowStopConversation','6unpuWT','ReplyOption\x20com\x20ID\x20','expression','matchRegex','detail','presenceSubscribe','):\x20mediaMessageInfoId\x20:\x20','jwt','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','qrcode-terminal','notMatchRegex','created','Erro\x20ao\x20deletar\x20mensagens:','):Type\x20defined\x20as\x20audio','message','@redis/client','):\x20Bloco\x20original\x20para\x20cópia:\x20','function','reaction','writeFileSync','Falha\x20ao\x20processar\x20fetchBusinessProfile','22cJeXES','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','axios','Content\x20is\x20required','findChats','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Erro\x20ao\x20iniciar\x20fluxo:\x20','split','updateStopChat','.png','statusCode','writeData','The\x20property\x20cannot\x20be\x20empty','labels.edit','https://api.openai.com/v1/images/generations','flattenObject','scheduleMessage','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','isURL','Bad\x20Request','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','numbers','chatModify','getTime','\x20mensagens\x20de\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','Erro\x20ao\x20tentar\x20autoCompleteMessages','\x20removido\x20do\x20chat\x20','2228965ghYjXG','\x1b[37m%s\x1b[0m','groupSetting','insertMany','userDevicesCache','setNewValue','ip\x20-6\x20addr\x20show\x20dev\x20','Group\x20not\x20found','):\x20Editando\x20condição\x20do\x20fluxo...','ephemeralDuration','waitingForReplyMenu','etiquetas','\x22reaction\x22\x20must\x20be\x20an\x20emoji','request_time','fullName','DARK','groupFetchAllParticipating','assign','organization','Fluxo\x20agendado\x20pelo\x20fluxo\x20','Retornando\x20grupos\x20COM\x20cache','footerText','creds','\x22\x20not\x20found','.X-ABLabel:Celular\x0a','Not\x20Found','CHATS_DELETE','keys','g-t','--------------------------------------','execSync','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','contains','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Erro\x20ao\x20atualizar\x20cacheInstance:','json','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','description','.type','Esse\x20fluxo\x20expirou','prepareMediaMessage','startFlowWebhook','SERVER_PORT','true','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20delete\x20=\x20true','DOCKER_ENV','Nenhum\x20participante\x20válido\x20encontrado.','Chat\x20com\x20ID\x20','Esse\x20fluxo\x20não\x20permite\x20importação.','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','single_select','router','transformScheduledMessagesByType','flowConfig','group-participants.update','default','waitingMenu_id','\x20Tentativa\x20de\x20reconexão\x20','lastSend','verifyWhatsAppNumber','notContains','https://uazapi-plugin.bubbleapps.io/?url=','):\x20Enviando\x20texto','Botão\x201','getTicketSystem','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','bodyString','oldValue','connectToWhatsapp','decryptPollVote','testingWith','getConversationModelForOwner','fetchChats','):\x20whoCanEdit\x20before\x20validation:\x20','/message','enumerable','optionDescription','output','object','locked','recebido\x20de','context','):\x20','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','chatLog','removeIPv6','editFlowReply','updateCustomFields','request\x20received\x20in\x20scheduleMessage','SSL_CONF_FULLCHAIN','/wa-all-message','FlowController','uazapiSendText','.jwt','END:VCARD','50mb','updateLastSeenPrivacy','\x27...','ObjectId','birthtime','):\x20Grupo\x20','and','PRIVKEY','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):Business\x20profile\x20fetched','end','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','/instance/connect','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','.xlsx','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','instanceName\x20not\x20provided.','Enter\x20a\x20value\x20in\x20milliseconds','buttonText','chats.set','thumbnailUrl','Instância\x20não\x20encontrada.','empty','importChats','inviteUrl','findMessages','\x5cd+','):\x20Instancia\x20isBusiness:\x20','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Erro\x20ao\x20editar\x20agentes','agents','put','startCommandWord','Resultado\x20da\x20correspondência\x20de\x20URL:','waitingMenu_ExpiredMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','status.instance','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','everyOne','model','max','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','where','sendMessageAck','optionName','SERVER_TYPE','deleteAll','customFields','data','exec','Schema','unlinkSync','getBusinessProfile','shift','toLocaleString','replaceValue','keep-alive','IPv6\x20address\x20configured:\x20','getMessageModelForOwner','processConditionsTest','Missing\x20global\x20api\x20key','chat\x20não\x20encontrado','fetchProfilePicture','connectionState','):\x20newFirstValue\x20após\x20replaceVariables:','valid','Comando\x20desconhecido','.mp3','loggedOut','\x27\x20removido\x20do\x20AutomateSystem.','send.message','chats.delete','):\x20\x27Enviando\x20mídia\x20para\x20\x27','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','subjectOwner','\x1b[41m',',\x20Minutes\x20to\x20Close:\x20','Type\x20is\x20required','sharePass','contacts.update','events','statusMessage','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','upsertChats','OrAnd','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','ephemeralMessage','initializeQueue','descOwner','generateHash','):\x20Comando\x20desconhecido:\x20','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Erro\x20ao\x20tentar\x20updateCustomFields','applyvaredit','):\x20Buscando\x20flow...','editflowvaredit','paused','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','integer','client','result','):Processing\x20audio','):\x20Error\x20processing\x20the\x20block:\x20','groupdata','restart','fileName','conversationTimestamp','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','Network\x20interfaces\x20detected:\x20','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','updateMediaMessage','@s.whatsapp.net','participant','messages.upsert','LOG','replacer','updateChatWithMessage','mongodb','latitude','groupHandler','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Font\x20is\x20required','editFlowVaredit','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','beforeExit','_day','messageLogsModel','idSchedule','deleteConversation','request\x20received\x20in\x20updateAgent','isJidGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','CLEANING_INTERVAL','proto','unknown\x20operation\x20type\x20[','fone','inviteCodeDetails','setContext','saveMediaToFile','getScheduleMessage','goNextblock','capitalizedWords','ContactsAndGroups','modifiedCount','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','getMIMEType','Network\x20Interface\x20detected:\x20','text','whatsappNumber','muteEndTime','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','/events/:instance','authService','joinGroup','\x0aitem','/webhook','admin','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','sendReaction','pictureUrl','path','realVariables','createOrUpdate','limit','ipv6Prefix','not\x20loaded','cachedData-whatsapp','uazapiSendMenu','locationMessage','query','\x20segundos','getFullYear','cleaningUp','remote\x20\x22origin\x22','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','truncatedtoEnd','_sender','mediaMessage','goToFlow','sendMedia','DisconnectReason','add','blocks','collection','messageContextInfo','awaitSeconds','approve','\x20inseridas\x20no\x20banco\x20de\x20dados...','URI','createSectionsFromValues','utf-8','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','\x1b[40m','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','_Labels','min','slice','notify','fetchMessages','docker','hDel','replaceVariablesInObject','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','js-yaml','preview','):Image\x20converted\x20to\x20WebP','\x1b[32m%s\x1b[0m','DaysToDelete','replyOption','no-cache','convertToWebP','status','ip:\x20','DD/MM\x20HH:mm:ss','pm2\x20flush','beautifyWithPlaceholders','mediaKey','vote','buttonMessage','allFlows','fetchLabels','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','rows',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','remove.instance','body','\x1b[43m','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','revokeInviteCode','Instance\x20ID:','synchronizeAndMapFlows','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','scheduled','#6f7bcf','):Fetching\x20business\x20profile','KEY','editFlow','request\x20received\x20in\x20fetchConversation','readFile','formatVCard','Message','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','EXPIRIN_IN','desativadoFluxoAte','readFileSync','extractRegex','variablesToObject','saveVariable','isAdmin','request_method','LICENSE_INVALID','eventHandler','available','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','button','CORS_METHODS','\x20foi\x20interrompido\x20pelo\x20usuário.','\x20\x1b[0m','groups.update','JWT','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','groups.upsert','some','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','messageId','1258112PoOoCI','/:instanceName','extractPhoneNumber','Variáveis\x20não\x20encontradas:','RemoveChatLabel','groupUpdateSubject','SSL_CONF','Erro\x20ao\x20alterar\x20privacidade','Connection\x20closed\x20for\x20instance:\x20','autoCompleteMessages.command','sort','binary','status@broadcast','XX:XX:XX:XX:XX:XX','createIPv6','Configured\x20IPv6:\x20','):\x20Atualizando\x20status\x20da\x20mensagem\x20','values','singleSelectReply','debug','getValidWhatsAppNumbers','retrySendMessage','uazapiSendContact','longitude','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','menuType','FULLCHAIN','isArray','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','/instance/create','request\x20received\x20in\x20getConversation','instance.','exports','lastSendMessage','msgRetryCounterCache','groups_ignore','lastInteraction','fetchInstances','Error\x20writing\x20file:\x20','Adicionando\x20novo\x20participante:\x20','processingGroup','deleteBlock','Log\x20out\x20instance:\x20','varedit','sendSticker','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Alterando\x20fluxo...','\x20:\x20','buttons','Fluxo\x20não\x20encontrado\x20na\x20memória.','success','messageSecret','Bloco\x20com\x20ID\x20','inviteCode','envYaml','\x20do\x20chat\x20','DATABASE_CONNECTION_DB_PREFIX_NAME','protocolMessage','apply','Subdomínio\x20final:','PASSWORD','resetReconnectionVariables','pollCreationMessage','findOne','flowConversation','findAndReplace','\x20-\x20ON:\x20','updateFlowConfig','stopIfLastReturnedError','contactMessage','AddChatLabel','Falha\x20ao\x20recriar\x20IPv6.','mkdirSync','CONNECTION_UPDATE','online','command','sha256','/create','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','QRCODE_UPDATED','saveChatVariables','updateProfileName','):\x20updateResult:','random','Início',',\x20Novo\x20tamanho:\x20','Error\x20removing\x20unused\x20chat\x20fields:','\x20and\x20data:','editConversation','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','contacts','stopped','):\x20Criando\x20nova\x20conversa[createNewConversation]','find','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','badSession','\x1b[1m\x1b[37m','remoteJid','groupName','instanceKeys','\x20ao\x20chat\x20','sections','/media/','close','):\x20Label\x20','loadInstance','7tADjGy','ListMessage','telefone','nomecompleto','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','application/json','?authSource=admin&readPreference=primary&directConnection=true','\x20-y','creds.update','Read\x20messages','Mensagem\x20não\x20suportada','endsWith','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','_pushName','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','hGetAll','Primeiro\x20Valor:\x20','convertedOptions','boolean','reorderBlocks','.webp','REDIS_ENABLED','charAt','list3','temp-','):\x20Enviando\x20mídia','groupJid','Partes\x20do\x20caminho\x20FULLCHAIN:','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','readdirSync','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','/instance/fetchInstances','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','response','base64','.ogv','sendPresenceUpdate','):\x20\x27Enviando\x20texto\x20para\x20\x27','readreceipts','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','2SEXRqD','audio','scheduleSendText','awaitingApproval','equal','dark','header','messages.update','):\x20Buscando\x20conversa...','loadWebhook','saveTextReply','/group','checkAndRestartProcess','isJidBroadcast','generateWAMessageFromContent','greater','yes','startCommand','isBusinessInstance','getOwnPropertyNames','quoted','leaveGroup','):\x20Query\x20params:','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','detectIPv6PrefixAndInterface','use','set','webhook','cacheInstanceRepository','editScheduleMessage','connection.update','joinApprovalMode','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','getScheduleMessageModelForOwner','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','paramsJson','Erro\x20ao\x20alterar\x20fluxo','arraybuffer','verify','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','isRunning','class-validator','replaceVariablesInReplyOptions','sharp','replyOptions','6011325vLwlGt','proxy:\x20','Instâncias\x20removidas:\x20'];a0_0x59d3=function(){return _0x5a3eb5;};return a0_0x59d3();}jo[a0_0x1e84a8(0x7b6)]('Module\x20-\x20ON');var Ng=require(a0_0x1e84a8(0x312)),js=require('fs'),Di=T(require(a0_0x1e84a8(0x2d9))),ki=T(require(a0_0x1e84a8(0x772))),Ue=class u{static #e;static set[a0_0x1e84a8(0x7aa)](_0x3f9f4f){this.#e=_0x3f9f4f;}static get['https'](){const _0x56fba9=a0_0x1e84a8;let {FULLCHAIN:_0x162e3c,PRIVKEY:_0xbf70c9}=S[_0x56fba9(0x13e)](_0x56fba9(0x64e));return Di['createServer']({'cert':(0x0,js[_0x56fba9(0x633)])(_0x162e3c),'key':(0x0,js[_0x56fba9(0x633)])(_0xbf70c9)},u.#e);}static get[a0_0x1e84a8(0x772)](){const _0xf020c3=a0_0x1e84a8;return ki[_0xf020c3(0x46f)](u.#e);}},je=T(require('fs')),qi=T(require(a0_0x1e84a8(0x40c))),Je=T(require(a0_0x1e84a8(0x4bc))),ns=T(require(a0_0x1e84a8(0x5de))),rs=require(a0_0x1e84a8(0x871));function sr(){const _0x1eea70=a0_0x1e84a8;G[_0x1eea70(0x6b2)]();let _0x978fd3=ns[_0x1eea70(0x50f)][_0x1eea70(0x1db)](__dirname,_0x1eea70(0x77d));Ji(_0x978fd3);}var Ji=_0x1680a6=>{const _0x140d33=a0_0x1e84a8;let _0x5680b4=je[_0x140d33(0x50f)][_0x140d33(0x6d0)](_0x1680a6),_0x5f007a=0xc*0x3c*0x3c*0x3e8,_0x4ba7e7=0x2*0x3c*0x3c*0x3e8,_0x34d3c8=new Date()[_0x140d33(0x4d1)]();_0x5680b4['forEach'](_0x3d76a9=>{const _0x3eee57=_0x140d33;let _0xbfdd47=ns[_0x3eee57(0x50f)][_0x3eee57(0x1db)](_0x1680a6,_0x3d76a9),_0x13cc67=je[_0x3eee57(0x50f)]['statSync'](_0xbfdd47)[_0x3eee57(0x53b)][_0x3eee57(0x4d1)]();_0x34d3c8-_0x13cc67>_0x5f007a&&(je[_0x3eee57(0x50f)][_0x3eee57(0x56d)](_0xbfdd47),console[_0x3eee57(0x1bb)](_0x3eee57(0x1fc)+_0x3d76a9));}),setTimeout(()=>Ji(_0x1680a6),_0x4ba7e7);};function ar(){const _0x2dd958=a0_0x1e84a8;let _0x333b7a=new $(_0x2dd958(0x24e)),_0xb3b7c=(0x0,ye[_0x2dd958(0x50f)])();_0xb3b7c[_0x2dd958(0x6f5)]((0x0,ji[_0x2dd958(0x50f)])({'origin'(_0x3259d4,_0x57abf4){const _0x5b1520=_0x2dd958;let {ORIGIN:_0x1a49af}=S[_0x5b1520(0x13e)](_0x5b1520(0x11d));return _0x3259d4||(_0x3259d4='*'),_0x1a49af[_0x5b1520(0x837)]('*')!==-0x1||_0x1a49af['indexOf'](_0x3259d4)!==-0x1?_0x57abf4(null,!0x0):_0x57abf4(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x2dd958(0x13e)](_0x2dd958(0x11d))[_0x2dd958(0x7f8)]],'credentials':S[_0x2dd958(0x13e)](_0x2dd958(0x11d))[_0x2dd958(0x796)]}),(0x0,ye['urlencoded'])({'extended':!0x0,'limit':_0x2dd958(0x537)}),(0x0,ye[_0x2dd958(0x4f9)])({'limit':_0x2dd958(0x537)})),_0xb3b7c[_0x2dd958(0x6f5)]((_0x2a3aa2,_0x718031,_0x563566)=>{const _0x11e62a=_0x2dd958;_0x2a3aa2[_0x11e62a(0x5de)][_0x11e62a(0x37e)](_0x11e62a(0x131))?_0x563566():(0x0,Ui[_0x11e62a(0x50f)])()(_0x2a3aa2,_0x718031,_0x563566);}),_0xb3b7c[_0x2dd958(0x6f6)](_0x2dd958(0x7fd),'hbs'),_0xb3b7c[_0x2dd958(0x6f6)]('views',(0x0,qs[_0x2dd958(0x1db)])(le,'views')),_0xb3b7c[_0x2dd958(0x6f5)](ye['default'][_0x2dd958(0x1eb)]((0x0,qs[_0x2dd958(0x1db)])(le,_0x2dd958(0x7ed)))),_0xb3b7c['use']((_0x58e880,_0x804be5,_0x50776b)=>{const _0x3a8e1=_0x2dd958;let _0x210aaa=_0x804be5[_0x3a8e1(0x169)];_0x804be5['send']=function(_0x45bce4){const _0x34c338=_0x3a8e1;if(_0x58e880[_0x34c338(0x5e7)][_0x34c338(0x209)]===_0x34c338(0x502)||_0x58e880[_0x34c338(0x144)]['uazapi']==='true'){let _0x3b3ab7=JSON[_0x34c338(0x2c0)](_0x45bce4);_0x45bce4=JSON[_0x34c338(0x732)](_0x2cf8a4(_0x3b3ab7));}return _0x210aaa[_0x34c338(0x683)](_0x804be5,[_0x45bce4]);},_0x50776b();}),_0xb3b7c[_0x2dd958(0x6f5)]('/',ke),_0xb3b7c['use']((_0x3c9107,_0x56a9ed,_0x3247ff,_0xba0fb0)=>{const _0x51f120=_0x2dd958;if(_0x3c9107)return _0x3247ff[_0x51f120(0x612)](_0x3c9107['status']||0x1f4)[_0x51f120(0x4f9)](_0x3c9107);},(_0x43af78,_0x1225d4,_0x1d8f49)=>{const _0xcaedc7=_0x2dd958;let {method:_0x1989a1,url:_0x1b2842}=_0x43af78;_0x1225d4[_0xcaedc7(0x612)](0x194)[_0xcaedc7(0x4f9)]({'status':0x194,'message':'Cannot\x20'+_0x1989a1['toUpperCase']()+'\x20'+_0x1b2842,'error':_0xcaedc7(0x4ef)}),_0x1d8f49();});let _0x2cf8a4=(_0xfa7358,_0x29fdf9='_p_')=>{const _0x5d4b4a=_0x2dd958;let _0x2de6a5=(_0x13274c,_0x3eb4c1=null,_0x4d0d9d=!0x1)=>{const _0x1426d1=a0_0x3070;let _0x4f3312={};return Object[_0x1426d1(0x4f1)](_0x13274c)[_0x1426d1(0x154)](_0x1f38dd=>{const _0x500307=_0x1426d1;let _0x22a3ef=_0x13274c[_0x1f38dd],_0x4511e2=''+_0x29fdf9+_0x1f38dd;_0x3eb4c1&&!_0x4d0d9d&&(_0x4511e2=_0x3eb4c1+'.'+_0x1f38dd),!_0x22a3ef&&_0x22a3ef!==0x0&&_0x22a3ef!==!0x1||typeof _0x22a3ef>'u'?_0x4f3312[_0x4511e2]=null:typeof _0x22a3ef!=_0x500307(0x526)&&!Array[_0x500307(0x663)](_0x22a3ef)?_0x4f3312[_0x4511e2]=_0x22a3ef:typeof _0x22a3ef==_0x500307(0x526)&&!Array[_0x500307(0x663)](_0x22a3ef)?_0x4f3312=Object['assign'](_0x4f3312,_0x2de6a5(_0x22a3ef,_0x4511e2)):Array[_0x500307(0x663)](_0x22a3ef)&&(typeof _0x22a3ef[0x0]==_0x500307(0x526)?(_0x4f3312[_0x4511e2]=[],_0x22a3ef[_0x500307(0x154)](_0xf3074e=>{const _0x29c2f4=_0x500307;_0x4f3312[_0x4511e2][_0x29c2f4(0x857)](_0x2de6a5(_0xf3074e,_0x4511e2,!0x0));})):_0x4f3312[_0x4511e2]=_0x22a3ef);}),_0x4f3312;};return Array['isArray'](_0xfa7358)?_0xfa7358[_0x5d4b4a(0x7b9)](_0x4cc72f=>_0x2de6a5(_0x4cc72f)):typeof _0xfa7358==_0x5d4b4a(0x526)&&_0xfa7358!==null?_0x2de6a5(_0xfa7358):{};},_0x58342d=S[_0x2dd958(0x13e)](_0x2dd958(0x24e));Ue[_0x2dd958(0x7aa)]=_0xb3b7c;let _0x516f44=Ue[_0x58342d[_0x2dd958(0x7ef)]],_0x43844b=_0x2dd958(0x6d3);_0x516f44['listen'](_0x58342d[_0x2dd958(0x499)],()=>{const _0x2231e7=_0x2dd958;_0x333b7a[_0x2231e7(0x1bb)](_0x43844b),_0x333b7a[_0x2231e7(0x1bb)](_0x58342d[_0x2231e7(0x7ef)][_0x2231e7(0x789)]()+_0x2231e7(0x68b)+_0x58342d[_0x2231e7(0x499)]);}),sr(),Zs();}var ir='https://github.com/uazapi/uazapi.git',or=ns[a0_0x1e84a8(0x50f)]['join'](__dirname,a0_0x1e84a8(0x1a0)),Re=null;function rr(){return new Promise((_0x2c6757,_0x53a38b)=>{const _0x3684e4=a0_0x3070;je['default'][_0x3684e4(0x62d)](or,'utf-8',(_0x5b1c40,_0x1e15b8)=>{const _0x405bee=_0x3684e4;if(_0x5b1c40){Re=_0x5b1c40,_0x2c6757();return;}qi[_0x405bee(0x50f)][_0x405bee(0x2c0)](_0x1e15b8)[_0x405bee(0x5eb)][_0x405bee(0x2a2)]===ir?(Re=null,_0x2c6757()):(Re=new Error(_0x405bee(0x263)),_0x2c6757());});});}async function nr(){const _0x53d61c=a0_0x1e84a8;try{await rr(),await Vs();}catch(_0x3fdebb){console['error'](_0x53d61c(0x6bf)+_0x3fdebb),process[_0x53d61c(0x42e)](0x1);}}nr();async function Vi(){const _0xcc1ace=a0_0x1e84a8;let _0x3a6392;try{_0x3a6392=(await Je[_0xcc1ace(0x50f)]['get']('https://jsonip.com'))[_0xcc1ace(0x56a)]['ip'];}catch(_0x22e7b3){console['error'](_0x22e7b3);try{_0x3a6392=(await Je[_0xcc1ace(0x50f)][_0xcc1ace(0x13e)]('https://api.ipify.org?format=json'))[_0xcc1ace(0x56a)]['ip'];}catch(_0x3256f5){console[_0xcc1ace(0x31d)](_0x3256f5);try{_0x3a6392=(await Je[_0xcc1ace(0x50f)][_0xcc1ace(0x13e)]('http://checkip.dyndns.org'))['data'][_0xcc1ace(0x7f2)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x56cefa){return console[_0xcc1ace(0x31d)](_0x56cefa),!0x1;}}}return _0x3a6392;}var Li=0x0;function a0_0x3070(_0x2d9b5c,_0x1c1b8f){const _0x59d317=a0_0x59d3();return a0_0x3070=function(_0x307056,_0x397de7){_0x307056=_0x307056-0xff;let _0x272e8d=_0x59d317[_0x307056];return _0x272e8d;},a0_0x3070(_0x2d9b5c,_0x1c1b8f);}async function cr(){const _0x4c21f6=a0_0x1e84a8;let _0x29da4c=await new pe(S[_0x4c21f6(0x13e)](_0x4c21f6(0x80d)))[_0x4c21f6(0x6ac)]();return console[_0x4c21f6(0x1bb)](_0x4c21f6(0x2a5),_0x29da4c[_0x4c21f6(0x124)]),_0x29da4c[_0x4c21f6(0x124)];}function lr(_0x47642a){const _0x14a6eb=a0_0x1e84a8;let _0x367068=_0x47642a[_0x14a6eb(0x13e)]('SERVER')[_0x14a6eb(0x36a)],_0x19a7f3=_0x47642a['get'](_0x14a6eb(0x64e));console[_0x14a6eb(0x1bb)](_0x14a6eb(0x237),_0x367068),console[_0x14a6eb(0x1bb)](_0x14a6eb(0x306),_0x19a7f3);let _0x98fd13='',_0x3d945e=_0x367068||'';if(_0x367068){let _0x13bde1=_0x367068[_0x14a6eb(0x7f2)](/\/\/(.*?)\./);console[_0x14a6eb(0x1bb)](_0x14a6eb(0x55a),_0x13bde1),_0x13bde1&&_0x13bde1[0x1]&&(_0x98fd13=_0x13bde1[0x1],console[_0x14a6eb(0x1bb)](_0x14a6eb(0x10b),_0x98fd13));}if(!_0x98fd13&&_0x19a7f3&&_0x19a7f3[_0x14a6eb(0x662)]){let _0x5734e4=_0x19a7f3[_0x14a6eb(0x662)][_0x14a6eb(0x4c1)]('/');console[_0x14a6eb(0x1bb)](_0x14a6eb(0x6ce),_0x5734e4);let _0x3da616=_0x5734e4[_0x5734e4[_0x14a6eb(0x124)]-0x2];if(console['log']('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x3da616),_0x3da616){let _0x45b9d4=_0x3da616[_0x14a6eb(0x4c1)]('.');console[_0x14a6eb(0x1bb)](_0x14a6eb(0x85d),_0x45b9d4),_0x45b9d4['length']>0x2&&(_0x98fd13=_0x45b9d4[0x0],console[_0x14a6eb(0x1bb)](_0x14a6eb(0x5db),_0x98fd13),_0x3d945e=''+_0x3da616);}}return{'subdomain':_0x98fd13||'Subdomínio\x20não\x20encontrado','fullURL':_0x3d945e||_0x14a6eb(0x135)};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x1e84a8(0x1bb)](a0_0x1e84a8(0x684),B),console[a0_0x1e84a8(0x1bb)](a0_0x1e84a8(0x24f),Gs);async function ur(){const _0x4aeb61=a0_0x1e84a8;let _0x1903b3=S['get']('REDIS'),_0x278d10=S[_0x4aeb61(0x13e)](_0x4aeb61(0x16b))[_0x4aeb61(0x296)][_0x4aeb61(0x62a)],_0x52e013=S[_0x4aeb61(0x13e)](_0x4aeb61(0x64e)),_0x184fbf=await Vi(),_0x53a0cf=S[_0x4aeb61(0x13e)](_0x4aeb61(0x24e))[_0x4aeb61(0x499)],_0x26ee67=Gs;try{let _0x10119f={'ip':_0x184fbf||null,'redis_enable':_0x1903b3?.[_0x4aeb61(0x7f4)]||null,'apikey':_0x278d10||null,'ssl':_0x52e013?.[_0x4aeb61(0x53e)]||null,'lastupdate':Gi||null,'port':_0x53a0cf||null,'gitInstallError':Re?.['message']||null,'url':_0x26ee67||null,'subdomain':B};if(console[_0x4aeb61(0x1bb)](_0x4aeb61(0x613),_0x10119f['ip']),_0x1903b3&&_0x1903b3['ENABLED']){let _0x32472e=await cr();_0x10119f['instanceCount']=_0x32472e||null;}for(let _0x5ea840 in _0x10119f)_0x10119f[_0x4aeb61(0x827)](_0x5ea840)&&_0x5ea840!=='ip'&&(_0x10119f[_0x5ea840]=JSON[_0x4aeb61(0x732)](_0x10119f[_0x5ea840]));return(await Je[_0x4aeb61(0x50f)][_0x4aeb61(0x319)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x10119f))[_0x4aeb61(0x56a)];}catch(_0x1c77fa){return console['error'](_0x1c77fa),!0x1;}}var Js=!0x1,Gi=0x272,dr=0x3,Fi=0x1b7740;async function Vs(){const _0x30f6a3=a0_0x1e84a8;let _0x3b78ee=_0x30f6a3(0x7c7);Re===null&&(_0x3b78ee=await Vi());let _0x5a0f7f=await ur();if(_0x5a0f7f){if(_0x5a0f7f[_0x30f6a3(0x6d4)][_0x30f6a3(0x12f)]===!0x0){Re===null&&_0x5a0f7f[_0x30f6a3(0x6d4)][_0x30f6a3(0x30a)]-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x2b728d=0x24*0x3c*0x3c,_0x3653f0=_0x5a0f7f[_0x30f6a3(0x6d4)][_0x30f6a3(0x390)]>_0x2b728d?_0x2b728d:_0x5a0f7f[_0x30f6a3(0x6d4)][_0x30f6a3(0x390)],_0x8da565=Number(_0x3653f0);if(isNaN(_0x8da565)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x3ab5a9=Math[_0x30f6a3(0x2f5)](_0x8da565/0xe10),_0x14bb24=Math[_0x30f6a3(0x2f5)](_0x8da565%0xe10/0x3c),_0x1385b7=new Date(Date[_0x30f6a3(0x3ca)]()+_0x8da565*0x3e8);setTimeout(Vs,_0x8da565*0x3e8);let _0x3d9bf6=_0x488bd8=>_0x488bd8[_0x30f6a3(0x71c)]()[_0x30f6a3(0x3f3)](0x2,'0'),_0xf54f9d=_0x30f6a3(0x5ec)+_0x3d9bf6(_0x3ab5a9)+_0x30f6a3(0x242)+_0x3d9bf6(_0x14bb24)+_0x30f6a3(0x2b0)+_0x3d9bf6(_0x1385b7['getHours']())+':'+_0x3d9bf6(_0x1385b7['getMinutes']())+'.';console[_0x30f6a3(0x1bb)](_0xf54f9d);}else return console[_0x30f6a3(0x1bb)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console['log'](_0x30f6a3(0x703)),process['exit']()),_0x30f6a3(0x639);}else{if(Li++,Li<dr)console[_0x30f6a3(0x1bb)](_0x30f6a3(0x416)+Fi/0xea60+_0x30f6a3(0x208)),setTimeout(Vs,Fi);else return console[_0x30f6a3(0x31d)](_0x30f6a3(0x790)),_0x30f6a3(0x177);}}async function pr(){const _0x172be5=a0_0x1e84a8;console[_0x172be5(0x1bb)]('Parando\x20aplicação,\x20atualização\x20recebida'),console[_0x172be5(0x1bb)](_0x172be5(0x48e)),(0x0,rs[_0x172be5(0x7b0)])(_0x172be5(0x615),{'shell':!0x0})['on'](_0x172be5(0x6b0),_0x39398c=>{const _0x386cb9=_0x172be5;_0x39398c!==0x0?console['error'](_0x386cb9(0x4ce)):(console[_0x386cb9(0x1bb)](_0x386cb9(0x430)),console[_0x386cb9(0x1bb)](_0x386cb9(0x766)),(0x0,rs['spawn'])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x386cb9(0x6b0),_0x3308d5=>{const _0x2326f3=_0x386cb9;if(_0x3308d5!==0x0)console[_0x2326f3(0x31d)](_0x2326f3(0x469));else{console[_0x2326f3(0x1bb)](_0x2326f3(0x137));let _0x19b89f=(0x0,rs[_0x2326f3(0x7b0)])(_0x2326f3(0x7ee),{'shell':!0x0});_0x19b89f[_0x2326f3(0x31b)]['on'](_0x2326f3(0x56a),_0x168482=>{const _0xbce931=_0x2326f3;console[_0xbce931(0x1bb)]('Atualização:\x20'+_0x168482);}),_0x19b89f[_0x2326f3(0x32d)]['on'](_0x2326f3(0x56a),_0x18554b=>{const _0x142305=_0x2326f3;console[_0x142305(0x31d)]('Erro\x20de\x20atualização:\x20'+_0x18554b);}),_0x19b89f['on']('exit',_0x1d1569=>{const _0x812339=_0x2326f3;_0x1d1569!==0x0?console[_0x812339(0x31d)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x1d1569):console['log'](_0x812339(0x7ff)),console[_0x812339(0x1bb)](_0x812339(0x765)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x1e84a8(0x669)]={'fullURL':fullURL,'subdomain':subdomain});