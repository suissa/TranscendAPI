const a0_0x349dbc=a0_0x5444;(function(_0x35d5ee,_0x49e8c2){const _0x5dd590=a0_0x5444,_0x160eba=_0x35d5ee();while(!![]){try{const _0x269661=parseInt(_0x5dd590(0x5d5))/0x1*(-parseInt(_0x5dd590(0x331))/0x2)+-parseInt(_0x5dd590(0x5c6))/0x3+-parseInt(_0x5dd590(0x60e))/0x4+-parseInt(_0x5dd590(0x33a))/0x5+parseInt(_0x5dd590(0x42a))/0x6+-parseInt(_0x5dd590(0x55b))/0x7+parseInt(_0x5dd590(0x4f6))/0x8;if(_0x269661===_0x49e8c2)break;else _0x160eba['push'](_0x160eba['shift']());}catch(_0x3f44f4){_0x160eba['push'](_0x160eba['shift']());}}}(a0_0x546a,0x50954));function a0_0x546a(){const _0xd70fa8=['clearVariables','AddChatLabel','https://api.elevenlabs.io/v1/text-to-speech/','blocks','js-yaml','findGroupInfos','OrAnd','Subscribed\x20Events:','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','removeProfilePicture','chats.upsert','address','privacySettings','\x5cd+','flush','API\x20Key\x20inválida.','sectionsToString','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','getMinutes','fetchMessages','findAndReplaceRegex','.webm','pt-BR','creds','profilePictureUrl','contact','editScheduleMessage','send','updateFlowConfig','context','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','namespace','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','now','editflowvariable','GET','\x20->\x20NÃO\x20CORRESPONDE.','path','_Labels','jsonschema','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','uncaughtException','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','where','unreadcount','):\x20Enviando\x20contato','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','connectToWhatsapp','user','from','markMessageAsRead','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','editflow','mkdirSync','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','authService','\x20e\x20proprietário\x20',',\x20pairCode:\x20','):\x20Buscando\x20conversa...','setting','startsWith','updateGroupsAddPrivacy','info','/events','data','memberAddMode','ContactsAndGroups','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','eventHandler','Erro\x20ao\x20encerrar\x20a\x20API','fromObject','updateStopChat','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Iniciando\x20bot...','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','backgroundColor','Converting\x20image\x20to\x20WebP\x20to\x20sticker','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','deleteFlow','):\x20Conversas\x20encontradas:','request\x20received\x20in\x20editFlowgroup','presenceSubscribe','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','GROUP_PARTICIPANTS_UPDATE','basename','update','STORE_MESSAGE','store','not\x20loaded','groupId','updateOneById','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','prefixCommand','sendWhatsAppAudio','create','join','}}\x20->\x20valor\x20não\x20encontrado','InstancesAlterarTodas','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','The\x20property\x20cannot\x20be\x20empty','STATUS_INSTANCE','contactMessage','request\x20received\x20in\x20updateAutoCompleteMessages','_error','profile','replaceVariablesLogs','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','createConversationforgoToFlow','exit','Selecione','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','notMatchRegex','findChats','lastSendMessage','updateGParticipate','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','\x20foi\x20interrompido\x20pelo\x20usuário.','blockLogs','customFields','loadproxy','false','saveChatVariables','fetchBusinessProfile','findWebhook','STORE_CLEANING_TERMINAL','):\x20Error\x20processing\x20the\x20block:\x20','pollUpdateMessage','sharePass','/instance/create','fromMe','):\x20Procurando\x20mensagens\x20para\x20envio','state','chatId','descOwner','findAndUpdate','pollCreationMessage','lastCondition','createflow','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','isJidUser','linkPreview','DATABASE','getConversationModelForOwner','):\x20[messages.update]\x20group\x20ignored','Image\x20path:\x20','notContains','ButtonsMessage','getTime','Enter\x20a\x20value\x20in\x20milliseconds','stringify','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','/events/:instance','Número\x20não\x20possui\x20WhatsApp.','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','flowStopMinutes','Erro\x20ao\x20inserir\x20chats:','muteEndTime','mongoose','Deletion\x20failed','sendReaction','count','variablesToObject','CHATS_UPDATE','createJid','checkAndRestartProcess','groups_ignore','AppStateSyncKeyData','groupHandler','\x20mensagens\x20de\x20','variables','config','reactionMessage','writeFileSync','decryptPollVote','messaging-history.set','some','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','applyvaredit','/instance/delete','lastInteraction','DELETED','https://uazapi-plugin.bubbleapps.io/?url=','Esse\x20fluxo\x20expirou','Imagem\x20não\x20encontrada','ini','replyOption','sleep','no.connection','readreceipts','):\x20Deletando\x20conversa...',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','qrCode','startFlow','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','\x20segundos','express-async-errors','all','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','AUTHENTICATION_JWT_EXPIRIN_IN','#92ceac','stderr','client','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','when','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Sending\x20audio\x20whatsapp','createGroup','http://icanhazip.com/','interval\x20não\x20é\x20um\x20número','HOST','deleteDoneMessages','Erro\x20ao\x20tentar\x20updateCustomFields','validate','PASSWORD','truncatedtoEnd','execSync','findMessages','):\x20this.processing_id:\x20','delayChatLabel_RETRY_DELAY_MS','Not\x20Found','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','#fe9dfe','forEach','parseInt','\x1b[47m','pushName','):\x20Ignoring\x20group\x20messages.','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','updateBlock','updateMissingShareOwners','SECRET','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','senderKeyDistributionMessage','request\x20received\x20in\x20scheduleMessage','setNewValue','header','originalUrl','key','vote','updateGroupPicture','exec','chatModify','editFlowReply','errorLog','HH:mm:ss','):\x20Usando\x20extensão\x20padrão:\x20','tags','\x20tentativas.','goNextblock','parse','defineProperty','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','Erro\x20do\x20Certbot:\x20','Last\x20message\x20not\x20found','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Flow\x20não\x20encontrado','):\x20Editando\x20condição\x20do\x20fluxo...','creds.json','lowerCase','uuid','apiName','testProxy','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','https://github.com/uazapi/uazapi.git','start','optionDescription','isJidGroup','):\x20[messages.upsert]\x20group\x20ignored','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','firstValue','noConnection','trimmed','copy','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','replyOptions','Operador:\x20\x22','!cmd_','option','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','fullName','):\x20debug\x20alterando\x20this.AutomateSystem','groupJid','authState','.type','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','sendDataWebhook','\x1b[42m','editConversation','audioMessage','ChatRouter','SERVER','mentions','Cached\x20audio\x20found,\x20returning\x20existing\x20file','editflowreply','FlowController','Error\x20removing\x20unused\x20chat\x20fields:','):\x20atualização\x20chat:\x20','cpf','_ScheduleMessages','\x22,\x20valor\x20a\x20substituir:\x20\x22','connectionUpdate','whatsappNumber','updateMissingEtiquetas','\x1b[31m%s\x1b[0m','groupInviteCode','Erro\x20ao\x20editar\x20agentes','allContacts','ENABLED','getUpdate','PROXY','\x1b[32m%s\x1b[0m','convertaudioMP3','ORG:','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','getChatModelForOwner','imagechat','Image\x20is\x20base64','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','repeat','mentioned','contactHandle','findContacts','Fetching\x20business\x20profile','formatVCard','\x1b[46m','AutomateSystem','ephemeralExpiration','sendAudio','Erro\x20inesperado\x20em\x20processvaredits:\x20','pollCreationMessageKey','src','autoCompleteMessages','request\x20received\x20in\x20getConversation','notEqual',':\x20Erro\x20durante\x20loadproxy\x20-\x20','notas','editFlowVariable','media','superadmin','realVariables','groupName','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','groupdata','includes','saveCreds','convertedOptions','status','variablesNotFound','router','bulkWrite','flowConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','longitude','getPrototypeOf','temp-','documentWithCaptionMessage','mongodb://','.webp','#dfaef0','split','floor','\x20não\x20encontrado.','last_update','editFlowVaredit','max','/wa-chats','WARN','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','groupadd','waMonitor','collection','\x20não\x20encontrado\x20para\x20atualização.','findAndReplace','has','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','instanceInfo','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','condition','labels.edit','dbServer','updateChatWithMessage','):\x20Buscando\x20todos\x20os\x20fluxos...','updateMediaMessage','Archiving\x20chat','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','verifiedName','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','\x1b[0m','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Instance\x20restarted','stickerMessage',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','capitalizedWords','KEY','importChatsAntigo','?timestamp=','groupSetting','):\x20Procurando\x20conversa','PREFIX_KEY','ChatModel','express','ContactModel','request\x20received\x20in\x20getAutomateSystem','contacts','#000000','Schema','buttonMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','TEL','findIndex','Missing\x20global\x20api\x20key','Rótulo\x20inválido\x20ou\x20sem\x20ID.','deleteConversation','deleteReplyOption','video-cover.png','contacts.upsert','del','Fluxo\x20não\x20encontrado','AUTHENTICATION','Invalid\x20format','bodyString','contacts.update','binary','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','\x1b[33m\x1b[1m','menuIgnoreNonVotes','message','Instance\x20Key\x20from\x20DB:','):\x20Erro\x20durante\x20a\x20atualização:\x20','badSession','/media/','remoteJid','filter','Logger','done','ReplyOption\x20com\x20ID\x20','groupRequestParticipantsList','createAndSave','remove.instance','value','saveVariable','editFlowGroup','Instance\x20\x22','formatStatusMessage','CREDENTIALS','request\x20received\x20in\x20editFlow','messageType','uazapiSendContact','sections','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Conversa\x20inserida\x20com\x20sucesso.','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','lastDisconnect','isRunning','.X-ABLabel:Celular\x0a','protocol','groups.upsert','request\x20body:\x20','findOne','order','CHATS_SET','CONTACTS_SET','Instance\x20ID:','sendPoll',',\x20apikey:\x20','/wa-message-update','@ffmpeg-installer/ffmpeg','\x1b[40m','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','LOG','insertCount','presence.update','findFlow','flowName','canSendMessage','cache','available','findOneAndUpdate','webp','groupRevokeInvite','selectableCount','replace',',\x20Minutes\x20to\x20Close:\x20','chats','width','getOwnPropertyDescriptor','\x1b[33m','secondValue','Desconectado,\x20parando\x20execução.','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','/wa-qrcode','labels.association','defineAuthState','getAllData','Cannot\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','processConditionsTest','replaceOne','reconnectAttempts','upsertChats','flowActive','http://myexternalip.com/raw','$dbName','view\x20engine','content-type','AutomateSystem\x20não\x20foi\x20inicializado','headers','moreLogs','envYaml','lean','waitingMenu_replyOptions','preview','getOwnPropertyNames','fetchStatus','updateMany','ERROR:\x20','_fromMe','qrcode-terminal','subdomain','not_announcement','quoted','Comando\x20desconhecido','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','cachedContacts-whatsapp','deleteMessage','CORS','\x20minutos.\x20Será\x20às\x20','redis','\x20do\x20chat\x20','\x1b[37m','Instância:\x20','Type\x20is\x20required','ultimaTentativaRemoteJid','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Connection\x20closed\x20for\x20instance:\x20',':\x20Tentativa\x20','password','TEXT','cacheContactModel','https','copyBlock','announcement','node-mime-types','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Mac\x20OS','chats.delete','promote','none','rows','/webhook','pictureUrl','ex:\x20\x22groupJid=120362@g.us\x22','Erro\x20ao\x20editar\x20a\x20conversa','rm\x20-rf\x20','flowPrefixCommand','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20Conversa\x20está\x20expirada\x20-\x20voto','footerText','):\x20Editando\x20variável\x20do\x20fluxo...','text/event-stream','waitingMenu_id','delete','empty','exports','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','request\x20received\x20in\x20fetchConversation','audio/ogg','font','.\x20Aguardando\x20antes\x20de\x20reconectar...','):\x20Buscando\x20conversas...','qrcode.updated','messageStubType','groupBetterSetting','Parando\x20aplicação...','fetchPrivacySettings','.jwt','Chat\x20com\x20ID\x20','\x22\x20not\x20found','video','textMessage','group','fetchProfilePictureUrl','Valor\x20inicial:\x20\x22','errors','AUTHENTICATION_JWT_SECRET','createRegularFlow','Fluxos\x20não\x20estão\x20ativados','CacheContacts\x20database\x20connection\x20closed.','/instance/fetchInstances','CONECTADO\x20À\x20UAZAPI','lastBlockId','Início','^\x5cd+([-]\x5cd+)*@g.us$','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','deleteOne','Bloco\x20com\x20ID\x20','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Buscando\x20flow...','instanceName\x20not\x20provided.','Esse\x20fluxo\x20é\x20global,\x20para\x20deleta-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','#6f7bcf','default','):\x20customFieldVariables','jwt','number','groups.update','params','contentText','\x1b[1m','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Business\x20profile\x20fetched','size','groupLeave','processUazapi','description','LEVEL',',\x20Comparador:\x20','isBase64','Error\x20in\x20chatModify\x20for\x20number\x20','pino','SERVER_PORT','documentMessage','name','updateOnlinePrivacy','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','getScheduleMessage','sharp','closed','processPollUpdateMessage','insert','mediaKey','readMessage','\x1b[34m','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','*Pergunta*:\x20\x0a','Mensagens\x20deletadas\x20com\x20sucesso.','):\x20Comando\x20desconhecido:\x20','_activatedCount','MESSAGES_UPDATE','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','.wav','Erro\x20ao\x20deletar\x20chat:','getAutomateSystem','@g.us','announce','makeCacheableSignalKeyStore','webhook','dbConnection','jid','base64','output','imgUrl','picture','.uazapi.dev','minutesToClose','joinGroup','Message\x20not\x20found','varedit','request\x20received\x20in\x20editConversation','Erro\x20ao\x20buscar\x20o\x20fluxo','isCommunity','flowStopConversation','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','image','/instance/connect','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','uazapi','_Messages','groupUpdateDescription','updateReplyOption','imported','presence','finish','participant','sendList','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','\x0aFN:','.jpg','Erro\x20ao\x20arquivar\x20chat','Erro\x20ao\x20atualizar\x20conversa:\x20','joinGroupValidate','composing','concat','stopMinutesMaxActives','delayMessage','groups','equal','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):\x20Enviando\x20mídia','ephemeralDuration','editOperator','poll','string','isListOfNumbers',',\x20valor\x20a\x20encontrar:\x20\x22','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','ip:\x20','):\x20enviado\x20para\x20[','owner','The\x20instance\x20needs\x20to\x20be\x20disconnected','buttons','toggleEphemeral','delay','reviver','\x20adicionado\x20ao\x20chat\x20','apirequest','uazapiSendMenu','createServer','MESSAGES_UPSERT','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','verify','request\x20received\x20in\x20updateAgent','creds.update','stopIfLastReturnedError','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','padEnd','updatePrivacySettings','port','delayChatLabel','action','ConversationModel','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','contextInfo','apply','title','):\x20expirationTime:\x20','getFlowModelForOwner','throwAndLogError','getLastMessage','profileName','http://ipecho.net/plain','request\x20received\x20in\x20editFlowvariable','chats.update','reorderBlocks','isURL','SERVER_ACK','#d3a91f','):\x20não\x20encontrou','\x1b[44m','goToFlow','paused','subjectOwner','QRCODE_UPDATED','recebido\x20de','writeData','pollCreationMessageV2','label','axios','deleteInstance','updateAgent','locationMessage','Button\x20IDs\x20cannot\x20be\x20repeated.','updatePresence','REDIS_ENABLED','document','get','createSectionsFromValues','error_log','collections','):\x20Ler\x20mensagem','connecting','://','expression','static',',\x20valor\x20passado:\x20\x22','getflow','AUTHENTICATION_TYPE','limit','loadInstance','application/octet-stream','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','editFlowCondition','nomecompleto','length','isArray','conversation','inner','getClient','.docx','NO_IP','text','protocolMessage','\x20-y','repository','removeOlderDisconnectedInstances','stopConversation','Instância\x20não\x20encontrada.','blockId','Database\x20connection\x20closed.','getLabelModelForOwner','modifiedCount','url','-instances','https://jsonip.com','\x1b[31m','waitingMenu_text','agents','class-validator','\x22reaction\x22\x20must\x20be\x20an\x20emoji','Button\x20texts\x20cannot\x20be\x20repeated','out','enviado\x20para','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','hGet','detail','#9568cf','ScheduleMessageModel','updateGroupParticipantsWebhook','findAndUpdateCacheContact','cleanStore','leadInfo','body','reorderReplyOptions','getContactModelForOwner','updateCustomFields','replaceVariablesInReplyOptions','updateParticipant','auth','integer','redis://127.0.0.1:6379','updateMessage','):\x20mediaMessageInfoId\x20:\x20','/wa-connection-update','insertMany','#ff9484','formatBRNumber','sendStatus','organization','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','https-proxy-agent','#b4ebff','uazapiDeleteMessage','):\x20Query\x20params:','Erro\x20ao\x20editar\x20o\x20chat','<subdomain>','deleteChat','listMessage','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','):\x20Editando\x20replyOption...','archived','Erro\x20ao\x20buscar\x20Schedule\x20Messages','RemoveChatLabel','variable','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','waInstances','code','reconnectTimestamps','convertaudio','no-cache','online','dbSettings','lastUpdate','.mimetype','USER','754oUuGYJ','prepareWAMessageMedia','):\x20Deletando\x20mensagem','lastMessage','SERVER_OFFLINE','importChats','):\x20Entrou\x20na\x20função\x20clearVariables','\x20não\x20encontrado','.xls','2365475qHvyAU','GUARD','deleteAll','conditions','):\x20Criou\x20conversa\x20no\x20startFlow:','delAll','#f64847','Reinicialização\x20iniciada:\x20','EMAIL','toString','listResponseMessage','messagesSend','-whatsapp-api','response','API_KEY','trim','debug','uazapiSendMedia','extractRegex','unlocked','editedMessage','.png','CONTACTS_UPDATE','generateWAMessageFromContent','getVariablesChat','getMessageModelForOwner','#d8e651','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','public','block','role','processvaredits','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','GROUPS_UPDATE','menuType','VERBOSE','.xlsx','post','toLowerCase','statusJidList','processblock','groupParticipantsUpdate','#ffffff','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','instanceKeys','updateProfileStatus','admin','min','allFlows','updateOne','fileUrl','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','reference','messages.upsert','getConversation','_remoteJid','query','eventemitter2','READ','deleteMessageForEveryone','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','unlinkSync','exists','$set','groupMemberAddMode','indexOf','item','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','requestFile','log','data:\x20','stopMinutes','Error\x20writing\x20file:\x20','LICENSE_INVALID','CORS_CREDENTIALS','keep-alive','API\x20Key\x20from\x20Request:','wuid','):\x20Editando\x20bloco...','InstancesAsDisconnectedX','evaluateConditionTest','redisEnv','Temp\x20image\x20deleted','getBase64FromMediaMessage','deleteBlock','Image\x20created','SSL_CONF','sendPresenceUpdate','Erro\x20ao\x20deletar\x20mensagens:','Error\x20fetching\x20and\x20updating\x20profile:\x20','webhookModel','fetchContacts','):\x20conversation.waitingMenu_name','Resultado\x20da\x20atualização:','events','username','Bad\x20Request','redirect','findOrCreate','request_method','selectedOptions','audioWhatsapp','E-mail:\x20','result','g.us','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22',',\x20Resultado:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','50mb','The\x20','Erro\x20ao\x20buscar\x20a\x20conversa','Falha\x20ao\x20processar\x20a\x20solicitação','save','groupFetchAllParticipating','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','prototype','group-participants.update','removeData','participants','\x20quoted:\x20','URL','verbose','#64c4ff','messageContextInfo','messageHandle','Removidas\x20as\x20variáveis:\x20','METHODS','cors','TYPE','ephemeralMessage','leadInfo.','dark','silent','g-t','ignoreGroups','prepareMediaMessage','videoMessage','urlOrBase64','sendContact','etiquetas','profilePicture','fetchChats','setContext','https://','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','type','messageId','numbers','startCommandWord','https://api.ipify.org?format=json','Error\x20updating\x20message\x20status:','app-state-sync-key','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','.ppt','.ogg','stopWhenYouSendMsg','):\x20conversation.status:\x20','HeaderType','DATABASE_CONNECTION_PASSWORD','reject','caption','_Contacts','URI','Erro\x20ao\x20deletar\x20a\x20conversa','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','find','contains','):\x20Conversa\x20atualizada\x20em\x20memória','apiResponse','EXPIRIN_IN','desc','fetchConversation','createInstance','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','createHash','node-cache','enabled','put','Close\x20connection','\x20contacts','archive','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','Forbidden','substring','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','updateGParticipant','editChat','apikey','request\x20received\x20in\x20deleteDoneMessages','boolean','shareOwners','Erro\x20ao\x20criar\x20fluxo\x20regular','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','https://api.openai.com/v1/audio/speech','push','#00a1f2','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','getDevice','sendMessageWithTyping','arraybuffer','fetchInstances','getProfileName','groupMetadata','getDelay','expiration','@broadcast','greater','DATABASE_CONNECTION_USER','scheduleSendMedia','findParticipants','sendLocation','getBusinessProfile','stateConnection','/wa-contacts','sending','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','routerPath','loggedOut','ListType','uazapiSendText','/message','Error\x20updating\x20cache\x20contact:','height',',\x20resultado:\x20','):\x20Query\x20params:\x20','@redis/client','^\x5cd+','replaceValue','):\x20Flow\x20desativado','editflowvaredit','Error\x20in\x20converting\x20audio','viewOnceMessageV2','Erro\x20ao\x20remover\x20label\x20','beautifyWithPlaceholders','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','chat','1007946OhVqeU','BufferJSON','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','sha256','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','@s.whatsapp.net','convert','):\x20tem\x20blocks','joinApprovalMode','logger','listType','\x20\x1b[0m','useMultiFileAuthState','pollOnReplyDelete','isAdmin','app','CONTACTS_UPSERT','release','sign','Conexão\x20estabelecida','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','.svg','):\x20Criando\x20fluxo\x20compartilhado...','DaysToDelete','leadInfo.desativadoFluxoAte','request\x20received\x20in\x20getFlow','ERROR','truncatedto','responsavelid','changeVariables','ListMessage','normalizeMessageContent','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.',':\x20IP\x20funcionando!','getStatus','connectedClient','CONNECTION','connect','INFO','logout','sendText','Converted\x20image\x20deleted','close','Content\x20is\x20required','Message','webhookMap','msgRetryCounterCache','Flow\x20não\x20encontrado','Hash\x20to\x20image\x20name:\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Last\x20message\x20not\x20found\x20for\x20number:','Read\x20messages','CONNECTION_UPDATE','valid','\x20minutos','replacer','utf8','CLEANING_INTERVAL','restrict','recording','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','list','/:instanceName','addBlock','MESSAGES_SET','testingWith','endsWith','Fluxo\x20não\x20encontrado.','CHATS_UPSERT','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','DATABASE_CONNECTION_HOST','#56ccb4','fileName','lastReceivedMessage','ScheduleMessage','Safari','getMIMEType','messages.update','editflowcondition','cleaningUp','SSL_CONF_PRIVKEY','):\x20Grupo\x20','replaceVariablesChat','Certbot:\x20','\x1b[41m','\x20depois\x20','mimetype','envProcess','demote','__esModule','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','proto','latitude','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','hex','last','.pptx','subject','saveConversationToDatabase','LOG_LEVEL','augusto.fcs@gmail.com','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','cacheContact','#ffc5c7','updateConversation','Delete\x20chat','):\x20Rótulo\x20atualizado:\x20','):\x20Campos\x20a\x20serem\x20atualizados:','model','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','phoneNumber','):\x20Editando\x20edição\x20do\x20fluxo...','editFlowBlock','REDIS_PREFIX_KEY','random','upperCase','deleted','true','env','locked','keys','findManyByIds','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Falha\x20ao\x20processar\x20fetchBusinessProfile','getTicketSystem','SSL_CONF_FULLCHAIN','stoppedUntil','unreadCount',',\x20lastCondition:\x20','json','\x22\x20cannot\x20be\x20empty','viewOnceMessage','_FlowHistorico','removed','ObjectId','open','add','created','/instance/connectionState','.gif','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','request\x20received\x20in\x20updateCustomFields','Validate','):\x20updateResult:','DisconnectReason','findConversation','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','waitingForReplyMenu','createWebhook','desativadoFluxoAte','groupGetInviteInfo','updateMissingCustomFields','local_map','headerString','restart','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','SERVER_TYPE','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','$pull','onTime','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','@whiskeysockets/baileys','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','groupDesc','color','request_time','getContentType','Erro\x20de\x20atualização:\x20','child_process','Erro\x20ao\x20atualizar\x20o\x20flow.','request\x20received\x20in\x20starFlow','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',':\x20IP\x20configurado:\x20','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','mongodb','activatedCount','#9ab6c1','editFlow','SEND_MESSAGE','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','sync','WA\x20MODULE','\x1b[32m','normalizeMessage','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','fetchProfile','leadInfo.customFields','Falha\x20após\x20várias\x20tentativas.','deleteImportedChat','groupToggleEphemeral','certonly','\x20minutos...','\x0a{\x20instance:\x20','match_last_seen','scheduleMessage','readdirSync','mediatype','Erro\x20ao\x20criar\x20fluxo\x20compartilhado',',\x20canSendMessage:\x20','15898584AZkwfL','splice','atendimentoAberto','createSharedFlow','birthtime','toUpperCase','extractMessageContent','https://uazapi-plugin.bubbleapps.io/','authentication','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','StartBot','host','Db\x20Connection','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','views','):\x20transformedCustomFieldVariables','array','getMessage','/group','?authSource=admin&readPreference=primary&directConnection=true','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','enumerable','instance.','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','hSet','\x20não\x20encontrado\x20para\x20cópia','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','emit','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','.TEL;waid=','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','message_normalized','groupUpdateSubject','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','pollMessage','/config','\x20-i\x20','loadEnv','Erro\x20ao\x20atualizar\x20o\x20fluxo:','localWebhook','File\x20written\x20to\x20path:\x20','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','less','findById','revokeInviteCode','):\x20Going\x20to\x20','createNewConversation','/*.json','qrcode','):\x20Limpando\x20AutomateSystem','toLocaleString','authorization','replaceVariables','endSession','flushHeaders','nome','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','values','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','requestPairingCode','):\x20Enviando\x20áudio','certbot','PENDING','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','stopped','.pdf','assign','\x20e\x20ID=','pairingCode','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','sendMessage','scheduleNextCheck','segundos','eventEmitter','PRIVKEY','.ogv','Database\x20is\x20not\x20enabled','evaluateCondition','encoding','toNumber','subjectTime','all_member_add','Processing\x20audio','\x1b[1m\x1b[37m','deleteMany','isBusiness','vcard','scheduleSendText','error','processclearVariables','_p_','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','/exit','RECONNECT_TIME_FRAME','NextBlock','):\x20delete\x20=\x20true','findGroup','1916901PukgKe','charAt','):\x20Limpando\x20delayMessage','groupValidate',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','addresss','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','processgoToFlow','sendSticker','utf-8','match','test','remoteJidsRemaining','map','fone','addReplyOption','):\x20','downloads','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','END:VCARD','Types','Erro\x20ao\x20alterar\x20fluxo','shutdown\x20-r\x20now','Conversa\x20deletada\x20com\x20sucesso.','Error\x20finding\x20many\x20contacts:','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','closeExistingConversations','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','readData','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','dbInstance','next_groupId','connectionState','\x20minutos\x20verificará\x20novas\x20mensagens','archiveChat','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','object','FlowRouter','@newsletter','readFileSync','chats.set','COLOR','http://ifconfig.me/ip','creation','Não\x20respondeu\x20com\x20a\x20enquete.','_id','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','write','updateMissingTags','choices','):\x20Fluxos\x20não\x20estão\x20ativados','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','flattenObject','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','flowConfig','PRESENCE_UPDATE','configService','waitingMenu_ExpiredMessage','deletedCount','):\x20Current\x20Time:\x20','updateAll','shift','#83e421','flow','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','):\x20nextBlock.uazapi.name','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Contacts\x20not\x20found','isCommunityAnnounce','DOCKER_ENV','updateProfileName','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','cwd','varedits','getFlow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','processing_id','sendButtons','send.message','updateStatusPrivacy','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','dataValidate','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','unavailable','replaceVariablesInObject','timeout','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','hbs','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','statusCode','_Chats','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','pre','and','including\x20timestamp\x20in\x20url:\x20','connectionClosed','http','setRestartTimeout','initAuthCreds','connection.update','readMessages','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','allflows','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','hasOwnProperty','delaySecMax','1451313OnaFEJ','/wa-all-message','sendMedia','inviteCode','menuExpiredMessage','messages','The\x20global\x20api\x20key\x20must\x20be\x20set','editflowblock','EMAIL:','unhandledRejection','#01d0e2','undefined','setHeader','content','PORT','680hgeLRg','findAll','HttpsProxyAgent','removeInstance','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','maxActives','https://api.openai.com/v1/images/generations','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','findGroupInfo','status.instance','lastFetchAwaitingApproval','userDevicesCache','buttonText','MAX_RECONNECT_ATTEMPTS','long','status@broadcast','isJWT','upsertedCount','getRandomText','FULLCHAIN','unknown\x20operation\x20type\x20[','Error\x20parsing\x20JSON:','chatLog','updateGroupWebhook','displayName','findGroups','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','automateSystem','connectToWhatsappController','slice','groupSettingUpdate','success','inviteCodeDetails','messageTimestamp','http://checkip.dyndns.org','label_jid','fetchLatestBaileysVersion','buttonId','.mp3','findByIdAndDelete','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','removeUnusedChatFields','createClient','Atualização:\x20','/create','\x20horas\x20e\x20','):\x20newSecondValue\x20após\x20replaceVariables:','delayChatLabel_MAX_RETRIES','CHATS_DELETE','writeFile','reaction','global','pollCreationMessageV3','DARK','):\x20Entrou\x20na\x20função\x20goToFlow','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','1352708AYPmMb','notEmpty','Audio\x20converted\x20and\x20stored\x20in\x20cache',',\x20Novo\x20tamanho:\x20','\x20-\x20retornado:\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','licenca','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20',',\x20isAdmin:\x20','Cache-Control','):\x20teve\x20mudanças\x20chat.archived:\x20','mediaMessage','Instance\x20logged\x20out','createConnection','isInteger','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','bodyStringErrorParse','Group\x20not\x20found','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','DD/MM\x20HH:mm:ss','Erro\x20ao\x20alterar\x20privacidade','toBRL','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','author','https://chat.whatsapp.com/','toFile','/wa-groups','):\x20Criando\x20fluxo\x20regular...','processConditions','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','beforeExit','delaySecMin','!stop','Trying\x20to\x20get\x20business\x20profile','):\x20Enviando\x20texto','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Erro\x20ao\x20buscar\x20conversas','restartInstance','Variáveis\x20não\x20encontradas:','uazapiSendLocation','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20Chat\x20','Router','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','existsSync','\x1b[30m','[all]','DB_PREFIX_NAME','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','):\x20Bloco\x20com\x20ID\x20','request\x20received\x20in\x20createFlow','Erro\x20ao\x20importar\x20chats','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','instanceName','Type\x20not\x20found','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','AutomateFunctions','GROUPS_UPSERT','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','REDIS_URI','audio/ogg;\x20codecs=opus','\x0aitem','$addToSet','spawn','conversationTimestamp','Erro\x20ao\x20iniciar\x20fluxo:\x20','remove','fetchProfilePicture','sendMenu','REDIS','fetchLabels','off','Deleted\x20','createFlow','updateProfilePicture','format','connectionStatus','\x20:\x20','cachedContact','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','rowId','currency','abs','oldValue','awaitingApproval','):\x20Enviando\x20localização','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20',',\x20data:\x20','Erro\x20ao\x20atualizar\x20o\x20documento:','webhookService','messageSecret','isLong','DEBUG','fileLength','storePath','toArray','crypto','Variável\x20não\x20encontrada!','authModel','_activedCount','drop','/wa-message','synchronizeFlows','\x20instance\x20does\x20not\x20exist','PLAYED','set','method','saveMediaToFile','findByIdAndUpdate','matchRegex','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','readMessageBot','chatHandle','Authentication\x20error','labelId','use','WebhookGlobal',',\x20qrcodeCount:\x20','scheduled','options','StatusJidList\x20is\x20required','menuMessage','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','sort','listen','toDataURL','updateReadReceiptsPrivacy','updateChatGroupData','approve','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','pollErrorMessage','ON\x20-\x20dbName:\x20','#fed428','updateAutoCompleteMessages','statusMessage','digest','console','email','removeChatLabel','isConnected','Tentando\x20reconectar...','STORE_CONTACTS','notify','STORE_CHATS','):\x20lastBlockId:\x20','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Erro\x20ao\x20copiar\x20o\x20documento','\x1b[36m%s\x1b[0m','Content-Type','entries','leaveGroup','saveTextReply','uazapiSendAudio','verifyWhatsAppNumber',',\x20saindo.','command','folder','round','http://ip-api.com/json','warn','Connection','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem.','whatsappNumbers','audio','newStoppedUntil','getScheduleMessageModelForOwner','sticker','lastSend','contact_blacklist','SUCCESS','instance'];a0_0x546a=function(){return _0xd70fa8;};return a0_0x546a();}var Lo=Object[a0_0x349dbc(0x719)],ke=Object[a0_0x349dbc(0xcd)],Fo=Object[a0_0x349dbc(0x1bb)],Uo=Object[a0_0x349dbc(0x1d8)],Jo=Object[a0_0x349dbc(0x137)],qo=Object[a0_0x349dbc(0x3ae)][a0_0x349dbc(0x5c4)],Vo=(_0xcda9f3,_0x258bf5)=>{for(var _0x389661 in _0x258bf5)ke(_0xcda9f3,_0x389661,{'get':_0x258bf5[_0x389661],'enumerable':!0x0});},Fs=(_0x1e74ec,_0x516412,_0x590584,_0x57bf4a)=>{const _0x316989=a0_0x349dbc;if(_0x516412&&typeof _0x516412=='object'||typeof _0x516412=='function'){for(let _0x728f43 of Uo(_0x516412))!qo['call'](_0x1e74ec,_0x728f43)&&_0x728f43!==_0x590584&&ke(_0x1e74ec,_0x728f43,{'get':()=>_0x516412[_0x728f43],'enumerable':!(_0x57bf4a=Fo(_0x516412,_0x728f43))||_0x57bf4a[_0x316989(0x50c)]});}return _0x1e74ec;},T=(_0x1e5fc3,_0x1d940c,_0x2eb142)=>(_0x2eb142=_0x1e5fc3!=null?Lo(Jo(_0x1e5fc3)):{},Fs(_0x1d940c||!_0x1e5fc3||!_0x1e5fc3[a0_0x349dbc(0x485)]?ke(_0x2eb142,'default',{'value':_0x1e5fc3,'enumerable':!0x0}):_0x2eb142,_0x1e5fc3)),Go=_0x35a3b4=>Fs(ke({},a0_0x349dbc(0x485),{'value':!0x0}),_0x35a3b4),oi={};Vo(oi,{'subdomain':()=>xs}),module[a0_0x349dbc(0x20b)]=Go(oi);var Io=T(require('compression')),Js=require('fs'),qs=require(a0_0x349dbc(0x6be)),Vs=require(a0_0x349dbc(0x6df)),je=require('path'),ne=process[a0_0x349dbc(0x5a3)](),me=(0x0,je[a0_0x349dbc(0x71a)])(ne,'instances'),Us=(0x0,je[a0_0x349dbc(0x71a)])(ne,a0_0x349dbc(0x120)),Qi=(0x0,je[a0_0x349dbc(0x71a)])(ne,a0_0x349dbc(0x712),'auth'),ns=class{constructor(){const _0x29bc63=a0_0x349dbc;this[_0x29bc63(0x51f)]();}[a0_0x349dbc(0x2cd)](_0x2b43c4){return this['env'][_0x2b43c4];}[a0_0x349dbc(0x51f)](){const _0x2f0cc3=a0_0x349dbc;this[_0x2f0cc3(0x4a2)]=process[_0x2f0cc3(0x4a2)]?.[_0x2f0cc3(0x5a0)]!==_0x2f0cc3(0x4a1)?this['envYaml']():this[_0x2f0cc3(0x483)](),process[_0x2f0cc3(0x4a2)]?.[_0x2f0cc3(0x5a0)]===_0x2f0cc3(0x4a1)&&(this[_0x2f0cc3(0x4a2)]['SERVER'][_0x2f0cc3(0x3bb)]=_0x2f0cc3(0x5bc),this[_0x2f0cc3(0x4a2)][_0x2f0cc3(0xf7)]['PORT']=Number[_0x2f0cc3(0x79b)](process[_0x2f0cc3(0x4a2)]?.[_0x2f0cc3(0x244)]??'8080'));}[a0_0x349dbc(0x1d4)](){const _0x121d58=a0_0x349dbc;return(0x0,qs['load'])((0x0,Js['readFileSync'])((0x0,Vs[_0x121d58(0x71a)])(Us,'../env.yml'),{'encoding':_0x121d58(0x564)}));}[a0_0x349dbc(0x483)](){const _0xbb2bf3=a0_0x349dbc;return{'SERVER':{'TYPE':process['env'][_0xbb2bf3(0x4c9)],'PORT':Number['parseInt'](process[_0xbb2bf3(0x4a2)][_0xbb2bf3(0x244)]),'URL':process[_0xbb2bf3(0x4a2)]['SERVER_URL']},'CORS':{'ORIGIN':process['env']['CORS_ORIGIN'][_0xbb2bf3(0x13d)](','),'METHODS':process[_0xbb2bf3(0x4a2)]['CORS_METHODS'][_0xbb2bf3(0x13d)](','),'CREDENTIALS':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x384)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x47c)],'FULLCHAIN':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x4a9)]},'STORE':{'CLEANING_INTERVAL':Number[_0xbb2bf3(0x61c)](process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x737)])?Number['parseInt'](process[_0xbb2bf3(0x4a2)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x711)]===_0xbb2bf3(0x4a1),'CONTACTS':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x69b)]==='true','CHATS':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x69d)]===_0xbb2bf3(0x4a1)},'DATABASE':{'CONNECTION':{'HOST':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x472)],'PORT':Number[_0xbb2bf3(0x79b)](process[_0xbb2bf3(0x4a2)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0xbb2bf3(0x4a2)][_0xbb2bf3(0x40a)],'PASSWORD':process[_0xbb2bf3(0x4a2)][_0xbb2bf3(0x3d9)],'URI':process[_0xbb2bf3(0x4a2)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0xbb2bf3(0x4a2)]?.['DATABASE_ENABLED']===_0xbb2bf3(0x4a1)},'REDIS':{'ENABLED':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x2cb)]===_0xbb2bf3(0x4a1),'URI':process[_0xbb2bf3(0x4a2)][_0xbb2bf3(0x649)]||_0xbb2bf3(0x30e),'PREFIX_KEY':process[_0xbb2bf3(0x4a2)][_0xbb2bf3(0x49d)]||_0xbb2bf3(0x273)},'LOG':{'LEVEL':process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x48f)][_0xbb2bf3(0x13d)](','),'COLOR':process[_0xbb2bf3(0x4a2)]?.['LOG_COLOR']===_0xbb2bf3(0x4a1)},'PROXY':Number[_0xbb2bf3(0x79b)](process['env']?.[_0xbb2bf3(0x10a)]),'AUTHENTICATION':{'TYPE':process[_0xbb2bf3(0x4a2)][_0xbb2bf3(0x2d8)],'API_KEY':{'KEY':process[_0xbb2bf3(0x4a2)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0xbb2bf3(0x61c)](process[_0xbb2bf3(0x4a2)]?.[_0xbb2bf3(0x782)])?Number['parseInt'](process['env'][_0xbb2bf3(0x782)]):0xe10,'SECRET':process['env'][_0xbb2bf3(0x220)]}}};}},b=new ns(),xo=T(require(a0_0x349dbc(0x3ba))),ge=T(require(a0_0x349dbc(0x166))),js=require(a0_0x349dbc(0x6df)),cs=T(require('dayjs')),ls=(_0x59f769=>(_0x59f769[a0_0x349dbc(0x1ab)]=a0_0x349dbc(0x4e5),_0x59f769[a0_0x349dbc(0x452)]=a0_0x349dbc(0x250),_0x59f769[a0_0x349dbc(0x144)]=a0_0x349dbc(0x1bc),_0x59f769[a0_0x349dbc(0x444)]=a0_0x349dbc(0x2f5),_0x59f769['DEBUG']='\x1b[36m',_0x59f769[a0_0x349dbc(0x35d)]=a0_0x349dbc(0x1e9),_0x59f769[a0_0x349dbc(0x60b)]=a0_0x349dbc(0x63b),_0x59f769))(ls||{}),Gs=(_0x58c3ee=>(_0x58c3ee[a0_0x349dbc(0x1ab)]=a0_0x349dbc(0x10b),_0x58c3ee['DARK']='\x1b[30m%s\x1b[0m',_0x58c3ee[a0_0x349dbc(0x452)]='\x1b[34m%s\x1b[0m',_0x58c3ee[a0_0x349dbc(0x144)]='\x1b[33m%s\x1b[0m',_0x58c3ee[a0_0x349dbc(0x444)]=a0_0x349dbc(0x104),_0x58c3ee['DEBUG']=a0_0x349dbc(0x6a1),_0x58c3ee[a0_0x349dbc(0x35d)]='\x1b[37m%s\x1b[0m',_0x58c3ee))(Gs||{}),Bs=(_0x401daf=>(_0x401daf[a0_0x349dbc(0x1ab)]=a0_0x349dbc(0x1ab),_0x401daf[a0_0x349dbc(0x144)]=a0_0x349dbc(0x144),_0x401daf[a0_0x349dbc(0x452)]=a0_0x349dbc(0x452),_0x401daf[a0_0x349dbc(0x60b)]=a0_0x349dbc(0x60b),_0x401daf['ERROR']='ERROR',_0x401daf['DEBUG']=a0_0x349dbc(0x66a),_0x401daf[a0_0x349dbc(0x35d)]=a0_0x349dbc(0x35d),_0x401daf))(Bs||{}),Ws=(_0x5a567d=>(_0x5a567d[a0_0x349dbc(0x1ab)]=a0_0x349dbc(0xf3),_0x5a567d[a0_0x349dbc(0x452)]=a0_0x349dbc(0x2bc),_0x5a567d[a0_0x349dbc(0x144)]='\x1b[43m',_0x5a567d['DARK']=a0_0x349dbc(0x1a9),_0x5a567d[a0_0x349dbc(0x444)]=a0_0x349dbc(0x480),_0x5a567d[a0_0x349dbc(0x66a)]=a0_0x349dbc(0x11a),_0x5a567d[a0_0x349dbc(0x35d)]=a0_0x349dbc(0x79c),_0x5a567d))(Ws||{}),R=class{constructor(_0x149410=a0_0x349dbc(0x187)){const _0xe60879=a0_0x349dbc;this['context']=_0x149410,this[_0xe60879(0x593)]=b;}[a0_0x349dbc(0x3c9)](_0x4e3f4f){this['context']=_0x4e3f4f;}[a0_0x349dbc(0x696)](_0x2b543d,_0xf9fe59){const _0x1d239b=a0_0x349dbc;let _0x4294fe=[];this[_0x1d239b(0x593)][_0x1d239b(0x2cd)](_0x1d239b(0x1ab))[_0x1d239b(0x23f)][_0x1d239b(0x79a)](_0x5d0e76=>_0x4294fe[_0x1d239b(0x3fd)](Bs[_0x5d0e76]));let _0x1c42da=typeof _0x2b543d;_0x4294fe[_0x1d239b(0x12d)](_0xf9fe59)&&(b[_0x1d239b(0x2cd)](_0x1d239b(0x1ab))[_0x1d239b(0x584)]?(console[_0x1d239b(0x37f)](_0x1d239b(0x238)+Gs[_0xf9fe59],_0x1d239b(0x54d),(0x0,cs[_0x1d239b(0x231)])()[_0x1d239b(0x659)](_0x1d239b(0x621)),_0x1d239b(0x159),ls[_0xf9fe59]+Ws[_0xf9fe59]+_0x1d239b(0x238),_0xf9fe59+_0x1d239b(0x435),_0x1d239b(0x17e),this['context']+_0x1d239b(0x159),ls[_0xf9fe59],_0x1c42da!==_0x1d239b(0x57f)?_0x2b543d:'','\x1b[0m'),_0x1c42da==='object'&&console[_0x1d239b(0x37f)](_0x2b543d,'\x0a')):console['log']((0x0,cs[_0x1d239b(0x231)])()[_0x1d239b(0x659)](_0x1d239b(0xc7)),_0xf9fe59+'\x20',''+this[_0x1d239b(0x6d7)],_0x2b543d));}['log'](_0x1bd5a3){const _0x414371=a0_0x349dbc;this[_0x414371(0x696)](_0x1bd5a3,_0x414371(0x1ab));}[a0_0x349dbc(0x6f9)](_0x5be859){const _0x5ed50c=a0_0x349dbc;this[_0x5ed50c(0x696)](_0x5be859,'INFO');}[a0_0x349dbc(0x6ad)](_0x23582e){const _0x2616b9=a0_0x349dbc;this['console'](_0x23582e,_0x2616b9(0x144));}[a0_0x349dbc(0x552)](_0x5ae4dd){const _0x3e1de7=a0_0x349dbc;this[_0x3e1de7(0x696)](_0x5ae4dd,_0x3e1de7(0x444));}[a0_0x349dbc(0x3b4)](_0x5cc722){const _0x623d0c=a0_0x349dbc;this[_0x623d0c(0x696)](_0x5cc722,_0x623d0c(0x35d));}[a0_0x349dbc(0x34a)](_0x161761){const _0x264826=a0_0x349dbc;this[_0x264826(0x696)](_0x161761,_0x264826(0x66a));}[a0_0x349dbc(0x3be)](_0x1930e6){const _0x2d9293=a0_0x349dbc;this[_0x2d9293(0x696)](_0x1930e6,_0x2d9293(0x60b));}};function zs(){const _0x45350a=a0_0x349dbc;process['on'](_0x45350a(0x6e3),(_0x29c3ff,_0x44a8ba)=>{const _0x1045b1=_0x45350a;new R('uncaughtException')[_0x1045b1(0x552)]({'origin':_0x44a8ba,'stderr':process[_0x1045b1(0x784)]['fd'],'error':_0x29c3ff});}),process['on']('unhandledRejection',(_0x512bf4,_0x4a1dca)=>{const _0x40bd2a=_0x45350a;new R(_0x40bd2a(0x5cf))[_0x40bd2a(0x552)]({'origin':_0x4a1dca,'stderr':process[_0x40bd2a(0x784)]['fd'],'error':_0x512bf4});});}var Hs=T(require(a0_0x349dbc(0x373))),us=new Hs[(a0_0x349dbc(0x231))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require('mongoose'),Ce=T(require(a0_0x349dbc(0x758))),Le=new R(a0_0x349dbc(0x502)),L=b[a0_0x349dbc(0x2cd)](a0_0x349dbc(0x748)),O=L[a0_0x349dbc(0x108)]?L['CONNECTION'][a0_0x349dbc(0x3dd)]?Ce[a0_0x349dbc(0x231)][a0_0x349dbc(0x61b)](L[a0_0x349dbc(0x450)][a0_0x349dbc(0x3dd)],{'dbName':L[a0_0x349dbc(0x450)][a0_0x349dbc(0x63d)]+a0_0x349dbc(0x346)}):Ce[a0_0x349dbc(0x231)]['createConnection'](a0_0x349dbc(0x13a)+L[a0_0x349dbc(0x450)][a0_0x349dbc(0x78d)]+':'+L[a0_0x349dbc(0x450)][a0_0x349dbc(0x5d4)]+a0_0x349dbc(0x509),{'user':L[a0_0x349dbc(0x450)][a0_0x349dbc(0x330)],'pass':L['CONNECTION'][a0_0x349dbc(0x791)],'dbName':L[a0_0x349dbc(0x450)][a0_0x349dbc(0x63d)]+a0_0x349dbc(0x346)}):null;L[a0_0x349dbc(0x108)]&&Le[a0_0x349dbc(0x6f9)](a0_0x349dbc(0x691)+O[a0_0x349dbc(0x1ce)]);var fe=L[a0_0x349dbc(0x108)]?L[a0_0x349dbc(0x450)][a0_0x349dbc(0x3dd)]?Ce[a0_0x349dbc(0x231)][a0_0x349dbc(0x61b)](L['CONNECTION'][a0_0x349dbc(0x3dd)],{'dbName':'cachedData-whatsapp'}):Ce[a0_0x349dbc(0x231)]['createConnection'](a0_0x349dbc(0x13a)+L[a0_0x349dbc(0x450)]['HOST']+':'+L[a0_0x349dbc(0x450)]['PORT']+a0_0x349dbc(0x509),{'user':L[a0_0x349dbc(0x450)]['USER'],'pass':L['CONNECTION'][a0_0x349dbc(0x791)],'dbName':a0_0x349dbc(0x1e3)}):null;fe&&Le[a0_0x349dbc(0x6f9)]('ON\x20-\x20dbName:\x20'+fe[a0_0x349dbc(0x1ce)]),process['on'](a0_0x349dbc(0x62c),()=>{const _0x40dbcd=a0_0x349dbc;O&&O[_0x40dbcd(0x456)](()=>{const _0x3456e7=_0x40dbcd;Le['info'](_0x3456e7(0x2ef));}),fe&&fe[_0x40dbcd(0x456)](()=>{const _0x5ef865=_0x40dbcd;Le[_0x5ef865(0x6f9)](_0x5ef865(0x223));});});var Bo=new we[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new we[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new we['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new we[(a0_0x349dbc(0x16b))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new we[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x399369=>{const _0x2bdfe3=a0_0x349dbc;let _0x43b114='z_'+_0x399369+_0x2bdfe3(0x5b6);return O?.[_0x2bdfe3(0x498)](_0x2bdfe3(0x165),Ko,_0x43b114);},Qs=require(a0_0x349dbc(0x758)),Qo=new Qs[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x1e0160=>{const _0x20e4ef=a0_0x349dbc;let _0x2eedfa='z_'+_0x1e0160+_0x20e4ef(0x3dc);return O?.['model'](_0x20e4ef(0x167),Qo,_0x2eedfa);},Xs=require(a0_0x349dbc(0x758)),ds=class{},Yo=new Xs[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x349dbc(0x498)](ds[a0_0x349dbc(0x246)],Yo,a0_0x349dbc(0x6fd)),ea=require('mongoose'),Xo=new ea['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x52d11d=>{const _0x1a2fca=a0_0x349dbc;let _0xb56e6a='z_'+_0x52d11d+_0x1a2fca(0x274);return O?.[_0x1a2fca(0x498)]('MessageModel',Xo,_0xb56e6a);},sa=require(a0_0x349dbc(0x758)),ps=class{},Zo=new sa[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=O?.[a0_0x349dbc(0x498)](ps['name'],Zo,a0_0x349dbc(0x4fe)),oa=require(a0_0x349dbc(0x758)),hs=class{},ra=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ra[a0_0x349dbc(0x5b8)](a0_0x349dbc(0x3ab),function(_0x312b29){const _0x478d5b=a0_0x349dbc;delete this[_0x478d5b(0x1cc)],delete this['flowIgnoreGroups'],delete this[_0x478d5b(0x202)],delete this[_0x478d5b(0x26d)],delete this[_0x478d5b(0x755)],_0x312b29();});var ia=O?.['model'](hs[a0_0x349dbc(0x246)],ra,a0_0x349dbc(0x25e)),k=require('mongoose'),na=require(a0_0x349dbc(0xd7)),Fe=class{},ca=new k[(a0_0x349dbc(0x16b))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new k[(a0_0x349dbc(0x16b))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new k[(a0_0x349dbc(0x16b))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x349dbc(0x469)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x349dbc(0x771)},'pollErrorMessage':{'type':String,'default':a0_0x349dbc(0x7a3)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x349dbc(0x16b))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new k[(a0_0x349dbc(0x16b))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new k[(a0_0x349dbc(0x16b))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new k['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ua=new k[(a0_0x349dbc(0x16b))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new k[(a0_0x349dbc(0x16b))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new k[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':'false'},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x110de7=a0_0x349dbc;return _0x110de7(0xe8)+Math['random']()[_0x110de7(0x343)](0x24)[_0x110de7(0x5f3)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]}});ws['pre'](a0_0x349dbc(0x3ab),function(_0x764a5a){const _0x5efb9f=a0_0x349dbc;let _0x1e0411=new Set(),_0x3eb369=new Set(this[_0x5efb9f(0x764)]?.[_0x5efb9f(0x568)](_0x2c7c12=>_0x2c7c12[_0x5efb9f(0x246)])),_0x49ddc9=JSON[_0x5efb9f(0x750)](this),_0x393fd7=/{{(?!_)([^}]*)}}/g,_0x1c801a;for(;(_0x1c801a=_0x393fd7[_0x5efb9f(0xc3)](_0x49ddc9))!==null;)_0x3eb369['has'](_0x1c801a[0x1])||_0x1e0411[_0x5efb9f(0x4b4)](_0x1c801a[0x1]);_0x1e0411[_0x5efb9f(0x23b)]>0x0?(console[_0x5efb9f(0x6ad)](_0x5efb9f(0x634),Array['from'](_0x1e0411)),this[_0x5efb9f(0x131)]=Array[_0x5efb9f(0x6eb)](_0x1e0411)):this[_0x5efb9f(0x131)]=[],_0x764a5a();}),ws[a0_0x349dbc(0x5b8)](a0_0x349dbc(0x1b3),function(_0x4332de){const _0x376657=a0_0x349dbc;let _0x37be10=this[_0x376657(0x109)]();if(_0x37be10&&typeof _0x37be10=='object'&&_0x376657(0x379)in _0x37be10){let _0x30bc51=_0x37be10['$set'];if(_0x30bc51){let _0x419bf8=new Set(),_0x4d983d=new Set(_0x30bc51[_0x376657(0x764)]?.[_0x376657(0x568)](_0x5f468d=>_0x5f468d['name'])),_0x11bf98=JSON['stringify'](_0x30bc51),_0x556960=/{{(?!_)([^}]*)}}/g,_0x4bc84b;for(;(_0x4bc84b=_0x556960[_0x376657(0xc3)](_0x11bf98))!==null;)_0x4d983d[_0x376657(0x14b)](_0x4bc84b[0x1])||_0x419bf8[_0x376657(0x4b4)](_0x4bc84b[0x1]);_0x419bf8[_0x376657(0x23b)]>0x0?(console[_0x376657(0x6ad)](_0x376657(0x634),Array['from'](_0x419bf8)),_0x30bc51[_0x376657(0x131)]=Array[_0x376657(0x6eb)](_0x419bf8)):_0x30bc51[_0x376657(0x131)]=[],this['setUpdate']({'$set':_0x30bc51});}}_0x4332de();});var pa=_0x3d9798=>{const _0x39b171=a0_0x349dbc;let _0xd764f2='z_'+_0x3d9798+'_Flows';return O?.[_0x39b171(0x498)]('FlowModel',ws,_0xd764f2);},ar=new k[(a0_0x349dbc(0x16b))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),or=new k[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]},'chatLog':ar,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x349dbc(0x4b3)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),ha=_0x23543c=>{const _0x152bed=a0_0x349dbc;let _0x876df9='z_'+_0x23543c+_0x152bed(0x4b0);return O?.[_0x152bed(0x498)](_0x152bed(0x2a9),or,_0x876df9);},rr=new k[(a0_0x349dbc(0x16b))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ir=new k['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),nr=new k[(a0_0x349dbc(0x16b))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x349dbc(0x684)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ir,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[rr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0xca0288=>{const _0xcaad1=a0_0x349dbc;let _0x23447f='z_'+_0xca0288+_0xcaad1(0xff);return O?.[_0xcaad1(0x498)](_0xcaad1(0x301),nr,_0x23447f);},ms=class{},cr=new k[(a0_0x349dbc(0x16b))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),lr=new k[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ur=new k[(a0_0x349dbc(0x16b))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x349dbc(0x62e)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),dr=new k[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),pr=new k['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[dr]},'customFields':{'type':[lr]},'flowConfig':{'type':ur,'default':{}},'autoCompleteMessages':{'type':[cr],'default':[]}}),Ue=O?.[a0_0x349dbc(0x498)](ms[a0_0x349dbc(0x246)],pr,a0_0x349dbc(0x11b)),ma=require(a0_0x349dbc(0x758)),hr=new ma[(a0_0x349dbc(0x16b))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x2a3857=>{const _0xf7a219=a0_0x349dbc;let _0x4edf9c='z_'+_0x2a3857+_0xf7a219(0x6e0);return O?.[_0xf7a219(0x498)]('LabelModel',hr,_0x4edf9c);},x=class{constructor(_0x4b7d97){const _0x574106=a0_0x349dbc;this['dbSettings']=_0x4b7d97[_0x574106(0x2cd)]('DATABASE');}};function $(_0x13c873){const _0x5c3b37=a0_0x349dbc;let _0x547490={};for(let [_0x318b04,_0x326bfb]of Object['entries'](_0x13c873))if(typeof _0x326bfb==_0x5c3b37(0x57f)&&!Array[_0x5c3b37(0x2e1)](_0x326bfb)){for(let [_0x72c565,_0x343388]of Object[_0x5c3b37(0x6a3)](_0x326bfb))_0x547490[_0x318b04+'.'+_0x72c565]=_0x343388;}else _0x547490[_0x318b04]=_0x326bfb;return _0x547490;}var Je=class{constructor(_0x3b5097,_0x59c9cd,_0x28e3db,_0x5f242a,_0x401a4f,_0x1d4a21,_0x51e9cb,_0x59cd58,_0x427f8d,_0x553040,_0x5ede75,_0x355c68){const _0x24e582=a0_0x349dbc;this[_0x24e582(0x180)]=_0x3b5097,this[_0x24e582(0x429)]=_0x59c9cd,this['contact']=_0x28e3db,this[_0x24e582(0x492)]=_0x5f242a,this['webhook']=_0x401a4f,this[_0x24e582(0x30c)]=_0x1d4a21,this['flow']=_0x51e9cb,this[_0x24e582(0x134)]=_0x59cd58,this[_0x24e582(0x2c4)]=_0x427f8d,this[_0x24e582(0x4f1)]=_0x553040,this[_0x24e582(0x5f1)]=_0x5ede75,this['dbClient']=_0x355c68;}get[a0_0x349dbc(0x151)](){return this['dbClient'];}},qe=class{},Ve=class extends x{[a0_0x349dbc(0x353)](_0x1e7da7){return ta(_0x1e7da7);}async[a0_0x349dbc(0x24d)](_0x2374f2,_0x4ad9a0){const _0x1ee3ae=a0_0x349dbc;if(_0x2374f2[_0x1ee3ae(0x2e0)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x4ad9a0)[_0x1ee3ae(0x312)]([..._0x2374f2]))[_0x1ee3ae(0x2e0)]};}catch(_0x4397ad){return _0x4397ad;}}async['find'](_0x4317d2,_0x138350){const _0x5e930a=a0_0x349dbc;try{let _0xe9359e=this[_0x5e930a(0x353)](_0x138350),_0x313512=$(_0x4317d2[_0x5e930a(0x6e5)]);return await _0xe9359e[_0x5e930a(0x3e0)](_0x313512)['sort']({'messageTimestamp':-0x1})[_0x5e930a(0x2d9)](_0x4317d2?.[_0x5e930a(0x2d9)]??0x0)[_0x5e930a(0x1d5)]();}catch{return[];}}async[a0_0x349dbc(0x209)](_0x424889,_0x21ca29){const _0x6732f1=a0_0x349dbc;try{let _0x2c76dd=this['getMessageModelForOwner'](_0x21ca29),_0x59d0cc=$(_0x424889['where']);await _0x2c76dd[_0x6732f1(0x54e)](_0x59d0cc);}catch(_0x326aae){console['error'](_0x326aae);}}async[a0_0x349dbc(0x710)](_0x124d99,_0x2f49aa,_0x375254){const _0x2e5657=a0_0x349dbc;try{let _0x4e04db=this[_0x2e5657(0x353)](_0x375254),_0x32b868=$(_0x124d99['where']);return await _0x4e04db[_0x2e5657(0x1b3)](_0x32b868,{'$set':_0x2f49aa},{'new':!0x0});}catch(_0x2b3e76){throw console[_0x2e5657(0x552)](_0x2b3e76),_0x2b3e76;}}async[a0_0x349dbc(0x312)](_0x4f28b0,_0x50bfcc){const _0x402458=a0_0x349dbc;if(_0x4f28b0['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x402458(0x353)](_0x50bfcc)['insertMany']([..._0x4f28b0]))[_0x402458(0x2e0)]};}catch(_0x29444d){return console['log'](_0x402458(0x1db),_0x29444d),_0x29444d;}}async[a0_0x349dbc(0x33c)](_0x4d676b){const _0x2f4053=a0_0x349dbc;try{return await this[_0x2f4053(0x353)](_0x4d676b)[_0x2f4053(0x148)]['drop'](),{'success':!0x0};}catch(_0x267411){return console['error'](_0x267411),{'success':!0x1,'error':_0x267411};}}},Os=T(require(a0_0x349dbc(0x1a8))),f=T(require(a0_0x349dbc(0x4ce))),Te=require('fs'),F=T(require('path')),K=T(require(a0_0x349dbc(0x2c5))),Co=require(a0_0x349dbc(0xd7)),Eo=T(require(a0_0x349dbc(0x52a))),vo=T(require(a0_0x349dbc(0x1dd))),wa=['imageMessage',a0_0x349dbc(0x245),a0_0x349dbc(0xf5),a0_0x349dbc(0x3c3),a0_0x349dbc(0x15c)],ya=[a0_0x349dbc(0x3bc),a0_0x349dbc(0x139),a0_0x349dbc(0x4af),a0_0x349dbc(0x422)],Ts=require('os'),Pt=T(require(a0_0x349dbc(0x243))),$e=require(a0_0x349dbc(0x4d5)),kt=require(a0_0x349dbc(0x1f6)),re=T(require('mongoose')),P=require(a0_0x349dbc(0x2f8)),ye=class{constructor(_0x33e59a,_0x1ddc8b,_0x3a8a0d){const _0x17eea4=a0_0x349dbc;this[_0x17eea4(0x260)]=_0x33e59a,this['exists']=_0x1ddc8b,this[_0x17eea4(0x246)]=_0x3a8a0d;}},Ge=class{},Be=class{},Ee=class{},We=class{},ze=class{},be=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},$t=T(require(a0_0x349dbc(0x166))),ba=require('fs'),Sa=require(a0_0x349dbc(0x6df));function a0_0x5444(_0x20f1a9,_0x4f8578){const _0x546aef=a0_0x546a();return a0_0x5444=function(_0x544494,_0xc384e0){_0x544494=_0x544494-0xbe;let _0x465b8c=_0x546aef[_0x544494];return _0x465b8c;},a0_0x5444(_0x20f1a9,_0x4f8578);}async function Xe(_0x54eb46){const _0x22e45d=a0_0x349dbc;let _0x44b2ea=G[_0x22e45d(0x327)][_0x54eb46];if(L[_0x22e45d(0x108)]){let _0x113c09=O['getClient']()['db'](L[_0x22e45d(0x450)]['DB_PREFIX_NAME']+_0x22e45d(0x2f3))[_0x22e45d(0x148)](_0x54eb46);return _0x44b2ea||(await _0x113c09['find']({})[_0x22e45d(0x66d)]())[_0x22e45d(0x2e0)]>0x0;}return _0x44b2ea||(0x0,ba['existsSync'])((0x0,Sa[_0x22e45d(0x71a)])(me,_0x54eb46));}async function Ma(_0x40b601,_0x315998,_0x476424){const _0x2c38f7=a0_0x349dbc;if(_0x40b601[_0x2c38f7(0xbf)]['includes'](_0x2c38f7(0x73b))||_0x40b601[_0x2c38f7(0xbf)][_0x2c38f7(0x12d)](_0x2c38f7(0x224))||_0x40b601[_0x2c38f7(0xbf)][_0x2c38f7(0x12d)](_0x2c38f7(0x556))||_0x40b601[_0x2c38f7(0xbf)][_0x2c38f7(0x12d)](_0x2c38f7(0x51d))||_0x40b601['originalUrl'][_0x2c38f7(0x12d)](_0x2c38f7(0x271))||_0x40b601[_0x2c38f7(0xbf)][_0x2c38f7(0x12d)](_0x2c38f7(0x4b6))||_0x40b601[_0x2c38f7(0xbf)][_0x2c38f7(0x12d)](_0x2c38f7(0x76d)))return _0x476424();let _0x3d749f=_0x40b601[_0x2c38f7(0x236)];if(!_0x3d749f?.[_0x2c38f7(0x643)])throw new m(_0x2c38f7(0x22e));if(!await Xe(_0x3d749f[_0x2c38f7(0x643)]))throw new J(_0x2c38f7(0x3a8)+_0x3d749f['instanceName']+_0x2c38f7(0x675));_0x476424();}async function Ca(_0x10e607,_0x5c91c0,_0x41e4ca){const _0x1219cc=a0_0x349dbc;if(_0x10e607[_0x1219cc(0xbf)][_0x1219cc(0x12d)](_0x1219cc(0x73b))){let _0x352de1=_0x10e607['body'];if(await Xe(_0x352de1[_0x1219cc(0x643)]))throw new Q('This\x20name\x20'+_0x352de1[_0x1219cc(0x643)]+'\x20is\x20already\x20in\x20use.');G[_0x1219cc(0x327)][_0x352de1[_0x1219cc(0x643)]]&&delete G['waInstances'][_0x352de1[_0x1219cc(0x643)]];}_0x41e4ca();}var Ea=require(a0_0x349dbc(0x2f8)),va=T(require('jsonwebtoken')),Ze=a0_0x349dbc(0x273),mr=new R(a0_0x349dbc(0x33b));async function fr(_0x56a881,_0x19a464,_0x44dedf){const _0x1262df=a0_0x349dbc;let _0x44b454=_0x56a881[_0x1262df(0x2cd)](_0x1262df(0x3f6));if(_0x44b454&&b[_0x1262df(0x2cd)](_0x1262df(0x178))[_0x1262df(0x348)][_0x1262df(0x15f)]!==_0x44b454)throw new se();if(b[_0x1262df(0x2cd)]('AUTHENTICATION')['API_KEY'][_0x1262df(0x15f)]===_0x44b454)return _0x44dedf();if((_0x56a881[_0x1262df(0xbf)]['includes'](_0x1262df(0x73b))||_0x56a881[_0x1262df(0xbf)][_0x1262df(0x12d)]('/instance/fetchInstances'))&&!_0x44b454)throw new Q('Missing\x20global\x20api\x20key',_0x1262df(0x5cc));let _0x35da11=b[_0x1262df(0x2cd)](_0x1262df(0x178))['JWT'];try{let [_0x320570,_0x3e09fb]=_0x56a881[_0x1262df(0x2cd)](_0x1262df(0x52d))['split']('\x20');if(_0x320570[_0x1262df(0x360)]()!=='bearer')throw new se();if(!(0x0,Ea[_0x1262df(0x5e6)])(_0x3e09fb))throw new se();let _0x3e99b6=_0x56a881[_0x1262df(0x236)],_0x60b63=va['default'][_0x1262df(0x29f)](_0x3e09fb,_0x35da11['SECRET'],{'ignoreExpiration':_0x35da11['EXPIRIN_IN']===0x0});if(_0x3e99b6[_0x1262df(0x643)]!==_0x60b63[_0x1262df(0x643)]||Ze!==_0x60b63[_0x1262df(0xd8)])throw new se();return _0x44dedf();}catch(_0x6a4a93){throw mr[_0x1262df(0x552)](_0x6a4a93),new se();}}async function wr(_0x513e2a,_0x47070e,_0x29e8ce){const _0x21d86b=a0_0x349dbc;let _0x475c87=b[_0x21d86b(0x2cd)](_0x21d86b(0x178))[_0x21d86b(0x348)],_0x39e4ff=_0x513e2a[_0x21d86b(0x2cd)](_0x21d86b(0x3f6));if(_0x475c87['KEY']===_0x39e4ff)return _0x29e8ce();if(_0x513e2a[_0x21d86b(0xbf)][_0x21d86b(0x12d)](_0x21d86b(0x73b))){let _0x313e12=et,_0xf35c53=_0x513e2a[_0x21d86b(0x306)]['instanceName'];if(_0x313e12&&_0xf35c53[_0x21d86b(0x360)]()['startsWith'](_0x313e12[_0x21d86b(0x360)]()))return _0x29e8ce();if(!_0x39e4ff)throw new Q(_0x21d86b(0x170),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x513e2a['originalUrl']['includes'](_0x21d86b(0x224))&&!_0x39e4ff)throw new Q('Missing\x20global\x20api\x20key',_0x21d86b(0x5cc));if(_0x513e2a[_0x21d86b(0xbf)]['includes'](_0x21d86b(0x556))&&!_0x39e4ff)throw new Q('Missing\x20global\x20api\x20key',_0x21d86b(0x5cc));if(_0x513e2a['originalUrl'][_0x21d86b(0x12d)]('/config')&&!_0x39e4ff)throw new Q(_0x21d86b(0x170),_0x21d86b(0x5cc));try{let _0x222fc3=_0x513e2a[_0x21d86b(0x236)],_0x1e4d2d=await de['auth'][_0x21d86b(0x3e0)](_0x222fc3['instanceName']);if(_0x1e4d2d&&_0x1e4d2d[_0x21d86b(0x3f6)]===_0x39e4ff)return _0x29e8ce();}catch{}throw new se();}var Na={'jwt':fr,'apikey':wr},ro=require('express'),v=require(a0_0x349dbc(0xd7)),E=(..._0x37bca8)=>{const _0xdcad83=a0_0x349dbc;let _0x2c948e={};return _0x37bca8[_0xdcad83(0x79a)](_0x5471b3=>_0x2c948e[_0x5471b3]={'minLength':0x1,'description':'The\x20\x22'+_0x5471b3+_0xdcad83(0x4ae)}),{'if':{'propertyNames':{'enum':[..._0x37bca8]}},'then':{'properties':_0x2c948e}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'instanceName':{'type':a0_0x349dbc(0x28d)}},...E(a0_0x349dbc(0x643))},ic={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'oldToken':{'type':a0_0x349dbc(0x28d)}},'required':['oldToken'],...E('oldToken')},nc={'properties':{'key':{'type':a0_0x349dbc(0x57f),'properties':{'id':{'type':a0_0x349dbc(0x28d)},'remoteJid':{'type':a0_0x349dbc(0x28d)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x349dbc(0x185),a0_0x349dbc(0x73c)],...E('id','remoteJid')},'message':{'type':a0_0x349dbc(0x57f)}}},Y={'properties':{'delay':{'type':a0_0x349dbc(0x30d),'description':a0_0x349dbc(0x74f)},'presence':{'type':a0_0x349dbc(0x28d),'enum':['unavailable',a0_0x349dbc(0x1b2),a0_0x349dbc(0x282),a0_0x349dbc(0x467),a0_0x349dbc(0x2be)]}}},z={'type':a0_0x349dbc(0x28d),'description':a0_0x349dbc(0x179)},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0x2e7)],...E(a0_0x349dbc(0x2e7))}},'required':['textMessage',a0_0x349dbc(0x234)]},Oa={'type':a0_0x349dbc(0x28d),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x349dbc(0x179)},cc={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...Oa},'options':{...Y},'textMessage':{'type':a0_0x349dbc(0x57f),'properties':{'text':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0x2e7)],...E(a0_0x349dbc(0x2e7))}},'required':['textMessage',a0_0x349dbc(0x234)]},lc={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...Oa},'options':{...Y},'mediaMessage':{'type':a0_0x349dbc(0x57f),'properties':{'mediatype':{'type':'string','enum':[a0_0x349dbc(0x270),a0_0x349dbc(0x2cc),a0_0x349dbc(0x21a),'audio']},'media':{'type':a0_0x349dbc(0x28d)},'fileName':{'type':a0_0x349dbc(0x28d)},'caption':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0x4f3),a0_0x349dbc(0x127)],...E(a0_0x349dbc(0x474),a0_0x349dbc(0x3db),a0_0x349dbc(0x127))}},'required':[a0_0x349dbc(0x619),'number']},Ta={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x349dbc(0x57f),'properties':{'image':{'type':a0_0x349dbc(0x28d)}},'required':['image'],...E(a0_0x349dbc(0x270))}},'required':['stickerMessage',a0_0x349dbc(0x234)]},$a={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'statusMessage':{'type':a0_0x349dbc(0x57f),'properties':{'type':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x2e7),a0_0x349dbc(0x270),a0_0x349dbc(0x6b2),'video']},'content':{'type':'string'},'caption':{'type':a0_0x349dbc(0x28d)},'backgroundColor':{'type':a0_0x349dbc(0x28d)},'font':{'type':a0_0x349dbc(0x30d),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x349dbc(0x506),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x349dbc(0x28d),'pattern':a0_0x349dbc(0x41d),'description':a0_0x349dbc(0x12b)}},'allContacts':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]}},'required':['type',a0_0x349dbc(0x5d3)],...E(a0_0x349dbc(0x3cc),a0_0x349dbc(0x5d3))}},'required':[a0_0x349dbc(0x694)]},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x349dbc(0x57f),'properties':{'mediatype':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x270),a0_0x349dbc(0x2cc),a0_0x349dbc(0x21a),a0_0x349dbc(0x6b2)]},'media':{'type':'string'},'fileName':{'type':a0_0x349dbc(0x28d)},'caption':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0x4f3),a0_0x349dbc(0x127)],...E(a0_0x349dbc(0x474),a0_0x349dbc(0x3db),'media')}},'required':['mediaMessage',a0_0x349dbc(0x234)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x349dbc(0x57f),'properties':{'audio':{'type':'string'}},'required':['audio'],...E(a0_0x349dbc(0x6b2))}},'required':['audioMessage',a0_0x349dbc(0x234)]},xa={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x349dbc(0x234)},'values':{'type':a0_0x349dbc(0x506),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x349dbc(0x246),'selectableCount',a0_0x349dbc(0x533)],...E(a0_0x349dbc(0x246),'selectableCount',a0_0x349dbc(0x533))}},'required':['number',a0_0x349dbc(0x51c)]},Da={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x349dbc(0x57f),'properties':{'text':{'type':a0_0x349dbc(0x28d)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x349dbc(0x2e7),a0_0x349dbc(0x58c)],...E(a0_0x349dbc(0x2e7),a0_0x349dbc(0x58c))}},'required':[a0_0x349dbc(0x234),a0_0x349dbc(0x687)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x349dbc(0x28d)},'description':{'type':a0_0x349dbc(0x28d)},'footerText':{'type':a0_0x349dbc(0x28d)},'buttons':{'type':a0_0x349dbc(0x506),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x349dbc(0x28d)},'buttonId':{'type':a0_0x349dbc(0x28d)}},'required':['buttonText',a0_0x349dbc(0x5fb)],...E(a0_0x349dbc(0x5e2),a0_0x349dbc(0x5fb))}},'mediaMessage':{'type':'object','properties':{'media':{'type':'string'},'fileName':{'type':'string'},'mediatype':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x270),a0_0x349dbc(0x2cc),a0_0x349dbc(0x21a)]}},'required':[a0_0x349dbc(0x127),a0_0x349dbc(0x4f3)],...E(a0_0x349dbc(0x127),a0_0x349dbc(0x474))}},'required':['title',a0_0x349dbc(0x295)],...E(a0_0x349dbc(0x2ae),a0_0x349dbc(0x23e))}},'required':[a0_0x349dbc(0x234),a0_0x349dbc(0x16c)]},Pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x349dbc(0x57f),'properties':{'latitude':{'type':a0_0x349dbc(0x234)},'longitude':{'type':a0_0x349dbc(0x234)},'name':{'type':'string'},'address':{'type':'string'}},'required':[a0_0x349dbc(0x488),'longitude'],...E(a0_0x349dbc(0x246),a0_0x349dbc(0x560))}},'required':['number',a0_0x349dbc(0x2c8)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':'string'},'buttonText':{'type':a0_0x349dbc(0x28d)},'sections':{'type':a0_0x349dbc(0x506),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x349dbc(0x57f),'properties':{'title':{'type':a0_0x349dbc(0x28d)},'rows':{'type':a0_0x349dbc(0x506),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x349dbc(0x57f),'properties':{'title':{'type':'string'},'description':{'type':'string'},'rowId':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0x2ae),a0_0x349dbc(0x65e)],...E('title',a0_0x349dbc(0x65e))}}},'required':['title',a0_0x349dbc(0x1fc)],...E(a0_0x349dbc(0x2ae))}}},'required':['title',a0_0x349dbc(0x23e),'buttonText',a0_0x349dbc(0x196)],...E('title','description',a0_0x349dbc(0x5e2),a0_0x349dbc(0x205))}},'required':['number',a0_0x349dbc(0x31f)]},ja={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x349dbc(0x506),'items':{'type':'object','properties':{'fullName':{'type':a0_0x349dbc(0x28d)},'phoneNumber':{'type':a0_0x349dbc(0x28d),'minLength':0xa}},'required':[a0_0x349dbc(0xec),a0_0x349dbc(0x49a)],...E(a0_0x349dbc(0xec))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x349dbc(0x234),'contactMessage']},La={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x349dbc(0x57f),'properties':{'id':{'type':a0_0x349dbc(0x28d)},'remoteJid':{'type':a0_0x349dbc(0x28d)},'fromMe':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]}},'required':['id',a0_0x349dbc(0x185),a0_0x349dbc(0x73c)],...E('id','remoteJid')},'reaction':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0xc0),a0_0x349dbc(0x608)],...E(a0_0x349dbc(0x608))}},'required':[a0_0x349dbc(0x766)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'numbers':{'type':a0_0x349dbc(0x506),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x349dbc(0x28d),'pattern':a0_0x349dbc(0x41d),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'readMessages':{'type':a0_0x349dbc(0x506),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x349dbc(0x28d)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x349dbc(0x28d)}},'required':['id',a0_0x349dbc(0x73c),'remoteJid'],...E('id','remoteJid')}}},'required':['readMessages']},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'privacySettings':{'type':a0_0x349dbc(0x57f),'properties':{'readreceipts':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x77f),a0_0x349dbc(0x1fb)]},'profile':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x77f),'contacts','contact_blacklist',a0_0x349dbc(0x1fb)]},'status':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x77f),a0_0x349dbc(0x169),a0_0x349dbc(0x6b7),a0_0x349dbc(0x1fb)]},'online':{'type':'string','enum':['all',a0_0x349dbc(0x4f0)]},'last':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x77f),a0_0x349dbc(0x169),a0_0x349dbc(0x6b7),a0_0x349dbc(0x1fb)]},'groupadd':{'type':'string','enum':[a0_0x349dbc(0x77f),a0_0x349dbc(0x169),a0_0x349dbc(0x6b7),a0_0x349dbc(0x1fb)]}},'required':[a0_0x349dbc(0x777),a0_0x349dbc(0x723),a0_0x349dbc(0x130),a0_0x349dbc(0x32c),'last',a0_0x349dbc(0x146)],...E(a0_0x349dbc(0x777),'profile',a0_0x349dbc(0x130),a0_0x349dbc(0x32c),'last',a0_0x349dbc(0x146))}},'required':[a0_0x349dbc(0x6c6)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'lastMessage':{'type':a0_0x349dbc(0x57f),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x349dbc(0x28d)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x349dbc(0x73c),a0_0x349dbc(0x185)],...E('id',a0_0x349dbc(0x185))},'messageTimestamp':{'type':a0_0x349dbc(0x30d),'minLength':0x1}},'required':[a0_0x349dbc(0xc0)],...E(a0_0x349dbc(0x5f7))},'archive':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]}},'required':[a0_0x349dbc(0x334),a0_0x349dbc(0x3ef)]},Va={'$id':(0x0,v['v4'])(),'type':'object','properties':{'id':{'type':a0_0x349dbc(0x28d)},'fromMe':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x349dbc(0x28d)},'participant':{'type':'string'}},'required':['id',a0_0x349dbc(0x73c),a0_0x349dbc(0x185)],...E('id','remoteJid',a0_0x349dbc(0x27a))},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x349dbc(0x28d),'minLength':0x1},'id':{'type':a0_0x349dbc(0x28d),'minLength':0x1}},...E(a0_0x349dbc(0x588),'id',a0_0x349dbc(0x79d))}}},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'name':{'type':a0_0x349dbc(0x28d)}},...E(a0_0x349dbc(0x246))},Wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x349dbc(0x28d)}},...E(a0_0x349dbc(0x130))},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':'string'}}},za={'type':a0_0x349dbc(0x57f),'properties':{'wuid':{'type':a0_0x349dbc(0x28d)},'name':{'type':a0_0x349dbc(0x28d)},'picture':{'type':a0_0x349dbc(0x28d)},'status':{'type':'string'},'isBusiness':{'type':a0_0x349dbc(0x3f8)}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'where':{'type':a0_0x349dbc(0x57f),'properties':{'_id':{'type':a0_0x349dbc(0x28d),'minLength':0x1},'key':{'type':a0_0x349dbc(0x57f),'if':{'propertyNames':{'enum':[a0_0x349dbc(0x73c),a0_0x349dbc(0x185),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x349dbc(0x28d),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x349dbc(0x28d),'minLength':0x1,'description':a0_0x349dbc(0x71e)},'fromMe':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x349dbc(0x57f)}},...E('_id')},'limit':{'type':a0_0x349dbc(0x30d)}}},uc={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'where':{'type':a0_0x349dbc(0x57f),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x349dbc(0x28d)},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x349dbc(0x28d)},'status':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x444),a0_0x349dbc(0x538),a0_0x349dbc(0x2b9),'DELIVERY_ACK',a0_0x349dbc(0x374),a0_0x349dbc(0x676)]}},...E('_id',a0_0x349dbc(0x185),'id',a0_0x349dbc(0x130))},'limit':{'type':a0_0x349dbc(0x30d)}}},Ka={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':'string','enum':[a0_0x349dbc(0x5ae),a0_0x349dbc(0x1b2),a0_0x349dbc(0x282),a0_0x349dbc(0x467),a0_0x349dbc(0x2be)]}},'required':[a0_0x349dbc(0x278),a0_0x349dbc(0x234)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'subject':{'type':a0_0x349dbc(0x28d)},'description':{'type':a0_0x349dbc(0x28d)},'profilePicture':{'type':a0_0x349dbc(0x28d)},'participants':{'type':a0_0x349dbc(0x506),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x349dbc(0x28d),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x349dbc(0x555)}}},'required':[a0_0x349dbc(0x48d),a0_0x349dbc(0x3b1)],...E('subject',a0_0x349dbc(0x23e),a0_0x349dbc(0x3c7))},Ne={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'groupJid':{'type':a0_0x349dbc(0x28d),'pattern':a0_0x349dbc(0x228)}},'required':['groupJid'],...E(a0_0x349dbc(0xee))},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'groupJid':{'type':a0_0x349dbc(0x28d)},'action':{'type':a0_0x349dbc(0x28d),'enum':[a0_0x349dbc(0x4b4),'remove',a0_0x349dbc(0x1fa),a0_0x349dbc(0x484),a0_0x349dbc(0x3da),'approve']},'participants':{'type':a0_0x349dbc(0x506),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x349dbc(0x28d),'minLength':0xa,'pattern':a0_0x349dbc(0x6c7),'description':a0_0x349dbc(0x555)}}},'required':[a0_0x349dbc(0xee),a0_0x349dbc(0x2a8),a0_0x349dbc(0x3b1)],...E(a0_0x349dbc(0xee),a0_0x349dbc(0x2a8))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x349dbc(0x234),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x349dbc(0x407)],...E('groupJid',a0_0x349dbc(0x407))},Za={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'groupJid':{'type':a0_0x349dbc(0x28d)},'image':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0xee),'image'],...E(a0_0x349dbc(0xee),'image')},eo={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0xee),a0_0x349dbc(0x23e)],...E(a0_0x349dbc(0xee),a0_0x349dbc(0x23e))},to={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'groupJid':{'type':a0_0x349dbc(0x28d)},'name':{'type':a0_0x349dbc(0x28d)}},'required':['groupJid','name'],...E('groupJid',a0_0x349dbc(0x246))},so={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'groupJid':{'type':a0_0x349dbc(0x28d)},'setting':{'type':'string','enum':[a0_0x349dbc(0x1f5),a0_0x349dbc(0x1df),a0_0x349dbc(0x34d),a0_0x349dbc(0x4a3)]}},'required':[a0_0x349dbc(0xee),'setting'],...E(a0_0x349dbc(0xee),a0_0x349dbc(0x6f6))},ao={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'groupJid':{'type':a0_0x349dbc(0x28d)},'restrict':{'type':a0_0x349dbc(0x3f8)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x349dbc(0x3f8)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x349dbc(0x30d),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x349dbc(0x28d)},'description':{'type':a0_0x349dbc(0x28d)},'image':{'type':a0_0x349dbc(0x28d)}}},ys={'$id':(0x0,v['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x349dbc(0x28d)}},'required':[a0_0x349dbc(0x5c9)],...E(a0_0x349dbc(0x5c9))},oo={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x349dbc(0x2f2),a0_0x349dbc(0x3eb)]},dc={'$id':(0x0,v['v4'])(),'type':a0_0x349dbc(0x57f),'properties':{'local_map':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x349dbc(0x3f8),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x349dbc(0x71f),a0_0x349dbc(0x2c0),a0_0x349dbc(0x46c),a0_0x349dbc(0x256),'MESSAGES_UPSERT',a0_0x349dbc(0x4df),a0_0x349dbc(0x1a3),'CONTACTS_UPSERT',a0_0x349dbc(0x350),a0_0x349dbc(0x592),'CHATS_SET',a0_0x349dbc(0x470),a0_0x349dbc(0x75d),a0_0x349dbc(0x606),a0_0x349dbc(0x460),a0_0x349dbc(0x647),a0_0x349dbc(0x35b),a0_0x349dbc(0x70e)],...E('local_map',a0_0x349dbc(0x71f),'QRCODE_UPDATED','MESSAGES_SET','MESSAGES_UPDATE',a0_0x349dbc(0x29d),a0_0x349dbc(0x4df),a0_0x349dbc(0x1a3),a0_0x349dbc(0x43a),a0_0x349dbc(0x350),a0_0x349dbc(0x592),a0_0x349dbc(0x1a2),a0_0x349dbc(0x470),'CHATS_UPDATE',a0_0x349dbc(0x606),a0_0x349dbc(0x460),a0_0x349dbc(0x647),a0_0x349dbc(0x35b),a0_0x349dbc(0x70e))},tt=class{},st=class extends x{[a0_0x349dbc(0x308)](_0x284ce9){return Ys(_0x284ce9);}async[a0_0x349dbc(0x24d)](_0x41f0a0){const _0x338f9a=a0_0x349dbc;if(_0x41f0a0['length']!==0x0)try{return{'insertCount':(await this[_0x338f9a(0x308)](_0x41f0a0[0x0]['owner'])[_0x338f9a(0x312)]([..._0x41f0a0]))[_0x338f9a(0x2e0)]};}catch(_0x27be23){return _0x27be23;}}async[a0_0x349dbc(0x209)](_0x458bfe,_0x307f4b){const _0x30f96a=a0_0x349dbc;try{return{'deletedCount':(await this[_0x30f96a(0x308)](_0x307f4b)['deleteMany']({..._0x458bfe['where']}))[_0x30f96a(0x595)]};}catch(_0x30399a){return{'error':_0x30399a?.['toString']()};}}async['update'](_0x227b4f,_0x1234d0){const _0x30ace3=a0_0x349dbc;try{if(_0x227b4f[_0x30ace3(0x2e0)]===0x0)return;let _0x5b23ab=this[_0x30ace3(0x308)](_0x1234d0),_0x3b4d59=_0x227b4f[_0x30ace3(0x568)](_0x5ac5bc=>({'updateOne':{'filter':{'_id':_0x5ac5bc[_0x30ace3(0x588)],'owner':_0x1234d0},'update':{..._0x5ac5bc}}})),{modifiedCount:_0x26ffb9}=await _0x5b23ab[_0x30ace3(0x133)](_0x3b4d59);return{'insertCount':_0x26ffb9};}catch{return;}}async['find'](_0x227356,_0x498892){const _0x3cd536=a0_0x349dbc;try{let _0xeacd92=this[_0x3cd536(0x308)](_0x498892),_0x24192f=$(_0x227356[_0x3cd536(0x6e5)]);return await _0xeacd92[_0x3cd536(0x3e0)](_0x24192f)[_0x3cd536(0x2d9)](_0x227356?.[_0x3cd536(0x2d9)]??0x0)['lean']();}catch{return[];}}async[a0_0x349dbc(0x1a0)](_0x141d3b,_0x2839c4){const _0x526c07=a0_0x349dbc;try{let _0x1fca14=this[_0x526c07(0x308)](_0x2839c4),_0x5f433c=$(_0x141d3b[_0x526c07(0x6e5)]);return await _0x1fca14[_0x526c07(0x1a0)](_0x5f433c)[_0x526c07(0x1d5)]();}catch{return null;}}async[a0_0x349dbc(0x33c)](_0x5e6472){const _0x31c7ad=a0_0x349dbc;try{return await this[_0x31c7ad(0x308)](_0x5e6472)[_0x31c7ad(0x148)][_0x31c7ad(0x672)](),{'success':!0x0};}catch(_0x48e767){return console[_0x31c7ad(0x552)](_0x48e767),{'success':!0x1,'error':_0x48e767};}}},at=require(a0_0x349dbc(0x6e1)),Sc=require(a0_0x349dbc(0x77e)),bs=new R(a0_0x349dbc(0x4ba)),V=class{[a0_0x349dbc(0x413)](_0x42b915,_0x43d8be=!0x0){const _0xd8fddb=a0_0x349dbc;let _0x16f209='/'+_0x42b915;return _0x43d8be&&(_0x16f209+=_0xd8fddb(0x46a)),_0x16f209;}async[a0_0x349dbc(0x5ac)](_0x734ed3){const _0x10fa01=a0_0x349dbc;let {request:_0x58a43c,schema:_0x1178ab,ClassRef:_0x624d9b,execute:_0x48a83d}=_0x734ed3,_0x5a4b08=new _0x624d9b(),_0x1e4917=_0x58a43c[_0x10fa01(0x306)],_0xc8b12b=_0x58a43c[_0x10fa01(0x236)];_0x58a43c?.['query']&&Object[_0x10fa01(0x4a4)](_0x58a43c[_0x10fa01(0x372)])['length']>0x0&&Object['assign'](_0xc8b12b,_0x58a43c[_0x10fa01(0x372)]),_0x58a43c['originalUrl'][_0x10fa01(0x12d)](_0x10fa01(0x73b))&&Object[_0x10fa01(0x53c)](_0xc8b12b,_0x1e4917),Object[_0x10fa01(0x53c)](_0x5a4b08,_0x1e4917);let _0x24807d=_0x1178ab?(0x0,at[_0x10fa01(0x790)])(_0x5a4b08,_0x1178ab):{'valid':!0x0,'errors':[]};if(!_0x24807d[_0x10fa01(0x461)]){let _0x57b9f4=_0x24807d[_0x10fa01(0x21f)]['map'](({property:_0x58c28d,stack:_0x43de18,schema:_0x408577})=>{const _0x311442=_0x10fa01;let _0x4ced85;return _0x408577['description']?_0x4ced85=_0x408577[_0x311442(0x23e)]:_0x4ced85=_0x43de18[_0x311442(0x1b7)](_0x311442(0x50d),''),{'property':_0x58c28d['replace']('instance.',''),'message':_0x4ced85};});throw bs['error']([..._0x57b9f4]),new m(..._0x57b9f4);}return await _0x48a83d(_0xc8b12b,_0x5a4b08);}async[a0_0x349dbc(0x55e)](_0x5efd43){const _0x72e3a8=a0_0x349dbc;let {request:_0x23b50a,ClassRef:_0x4908e5,schema:_0x1e7a02,execute:_0x151aea}=_0x5efd43,_0x546f46=_0x23b50a[_0x72e3a8(0x372)];if(!_0x546f46?.[_0x72e3a8(0xee)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x72e3a8(0x1ff));let _0x30ea82=_0x23b50a[_0x72e3a8(0x236)],_0x279209=_0x23b50a[_0x72e3a8(0x306)],_0x57c5d8=new _0x4908e5();Object[_0x72e3a8(0x53c)](_0x279209,_0x546f46),Object[_0x72e3a8(0x53c)](_0x57c5d8,_0x279209);let _0x11f9bb=(0x0,at[_0x72e3a8(0x790)])(_0x57c5d8,_0x1e7a02);if(!_0x11f9bb[_0x72e3a8(0x461)]){let _0x1a9424=_0x11f9bb[_0x72e3a8(0x21f)][_0x72e3a8(0x568)](({property:_0x5c66d0,stack:_0x2ca183,schema:_0x24920f})=>{const _0xadc397=_0x72e3a8;let _0x372c83;return _0x24920f[_0xadc397(0x23e)]?_0x372c83=_0x24920f[_0xadc397(0x23e)]:_0x372c83=_0x2ca183[_0xadc397(0x1b7)](_0xadc397(0x50d),''),{'property':_0x5c66d0[_0xadc397(0x1b7)](_0xadc397(0x50d),''),'message':_0x372c83};});throw bs[_0x72e3a8(0x552)]([..._0x1a9424]),new m(..._0x1a9424);}return await _0x151aea(_0x30ea82,_0x57c5d8);}async[a0_0x349dbc(0x281)](_0x8ca8d7){const _0x25fc82=a0_0x349dbc;let {request:_0x2fe0ac,ClassRef:_0x1dd269,schema:_0x310810,execute:_0x39c22d}=_0x8ca8d7,_0x22dbbc=_0x2fe0ac[_0x25fc82(0x306)];if(!_0x22dbbc?.[_0x25fc82(0x5c9)])throw new m(_0x25fc82(0x703),_0x25fc82(0x3a4));let _0x2e7f33=_0x2fe0ac[_0x25fc82(0x236)],_0xe0096f=_0x2fe0ac['body'],_0x3740e5=new _0x1dd269();Object['assign'](_0xe0096f,_0x22dbbc),Object[_0x25fc82(0x53c)](_0x3740e5,_0xe0096f);let _0x2a8c4c=(0x0,at['validate'])(_0x3740e5,_0x310810);if(!_0x2a8c4c[_0x25fc82(0x461)]){let _0x2c1ebc=_0x2a8c4c[_0x25fc82(0x21f)][_0x25fc82(0x568)](({property:_0x28d7a1,stack:_0x29a6e2,schema:_0x10fbcc})=>{const _0x1637ff=_0x25fc82;let _0x3cbb5c;return _0x10fbcc['description']?_0x3cbb5c=_0x10fbcc['description']:_0x3cbb5c=_0x29a6e2[_0x1637ff(0x1b7)]('instance.',''),{'property':_0x28d7a1['replace'](_0x1637ff(0x50d),''),'message':_0x3cbb5c};});throw bs[_0x25fc82(0x552)]([..._0x2c1ebc]),new m(..._0x2c1ebc);}return await _0x39c22d(_0x2e7f33,_0x3740e5);}},C=class{},Pc=new R(a0_0x349dbc(0xf6)),ot=class extends V{constructor(..._0x169fd1){const _0x1548f3=a0_0x349dbc;super(),this['router']=(0x0,ro[_0x1548f3(0x638)])(),this[_0x1548f3(0x132)]['post'](this['routerPath']('updatePresence'),..._0x169fd1,async(_0x30fa33,_0x39ef7d)=>{const _0x48fa25=_0x1548f3;let _0xefc7ca=await this[_0x48fa25(0x5ac)]({'request':_0x30fa33,'schema':Ka,'ClassRef':Ge,'execute':(_0x4c5a50,_0x3b5e45)=>_[_0x48fa25(0x2ca)](_0x4c5a50,_0x3b5e45)});return _0x39ef7d[_0x48fa25(0x130)](0xc9)[_0x48fa25(0x4ad)](_0xefc7ca);})[_0x1548f3(0x35f)](this[_0x1548f3(0x413)](_0x1548f3(0x6b1)),..._0x169fd1,async(_0x43e2d3,_0x26740b)=>{const _0x5a8257=_0x1548f3;let _0x699871=await this[_0x5a8257(0x5ac)]({'request':_0x43e2d3,'schema':Fa,'ClassRef':Be,'execute':(_0x180d3c,_0x51fd1b)=>_['whatsappNumber'](_0x180d3c,_0x51fd1b)});return _0x26740b[_0x5a8257(0x130)](0xc9)['json'](_0x699871);})[_0x1548f3(0x35f)](this[_0x1548f3(0x413)]('editChat'),..._0x169fd1,async(_0x4c85ad,_0x16e1b9)=>{const _0x53f84b=_0x1548f3;let _0x32e603=await this[_0x53f84b(0x5ac)]({'request':_0x4c85ad,'schema':N,'ClassRef':C,'execute':(_0x4f028e,_0x4e66ff)=>_['editChat'](_0x4f028e,_0x4e66ff)});return _0x16e1b9[_0x53f84b(0x130)](0xc9)[_0x53f84b(0x4ad)](_0x32e603);})[_0x1548f3(0x3ec)](this[_0x1548f3(0x413)](_0x1548f3(0x6ec)),..._0x169fd1,async(_0x2c6190,_0x20a31d)=>{const _0x179cb2=_0x1548f3;let _0x3260a4=await this[_0x179cb2(0x5ac)]({'request':_0x2c6190,'schema':Ua,'ClassRef':He,'execute':(_0x57e24c,_0x4da923)=>_[_0x179cb2(0x24f)](_0x57e24c,_0x4da923)});return _0x20a31d['status'](0xc9)[_0x179cb2(0x4ad)](_0x3260a4);})['put'](this[_0x1548f3(0x413)](_0x1548f3(0x57d)),..._0x169fd1,async(_0x4481c6,_0x378ec3)=>{const _0x2138e4=_0x1548f3;let _0x5de8c1=await this[_0x2138e4(0x5ac)]({'request':_0x4481c6,'schema':qa,'ClassRef':Ke,'execute':(_0x1cbdbc,_0x5d6e77)=>_[_0x2138e4(0x57d)](_0x1cbdbc,_0x5d6e77)});return _0x378ec3[_0x2138e4(0x130)](0xc9)[_0x2138e4(0x4ad)](_0x5de8c1);})[_0x1548f3(0x209)](this['routerPath'](_0x1548f3(0x375)),..._0x169fd1,async(_0xb73a9c,_0x1d13f8)=>{const _0x387d91=_0x1548f3;let _0x1f2a7f=await this[_0x387d91(0x5ac)]({'request':_0xb73a9c,'schema':Va,'ClassRef':Ye,'execute':(_0x4d0da4,_0x1dfefd)=>_[_0x387d91(0x1e4)](_0x4d0da4,_0x1dfefd)});return _0x1d13f8['status'](0xc9)[_0x387d91(0x4ad)](_0x1f2a7f);})[_0x1548f3(0x35f)](this['routerPath'](_0x1548f3(0x21d)),..._0x169fd1,async(_0x43ed17,_0x15daa3)=>{const _0x1abec6=_0x1548f3;let _0x5064fc=await this['dataValidate']({'request':_0x43ed17,'schema':ve,'ClassRef':Ee,'execute':(_0x1d7b5a,_0x265bee)=>_[_0x1abec6(0x651)](_0x1d7b5a,_0x265bee)});return _0x15daa3[_0x1abec6(0x130)](0xc8)[_0x1abec6(0x4ad)](_0x5064fc);})[_0x1548f3(0x35f)](this[_0x1548f3(0x413)](_0x1548f3(0x4e8)),..._0x169fd1,async(_0x7bbc6b,_0x34fe49)=>{const _0x235f15=_0x1548f3;let _0x108a9a=await this['dataValidate']({'request':_0x7bbc6b,'schema':za,'ClassRef':Ee,'execute':(_0x498f9a,_0x2d710f)=>_['fetchProfile'](_0x498f9a,_0x2d710f)});return _0x34fe49[_0x235f15(0x130)](0xc8)[_0x235f15(0x4ad)](_0x108a9a);})[_0x1548f3(0x35f)](this[_0x1548f3(0x413)](_0x1548f3(0x117)),..._0x169fd1,async(_0x4c8910,_0x31c6c3)=>{const _0x42833=_0x1548f3;let _0xfc9528=await this[_0x42833(0x5ac)]({'request':_0x4c8910,'schema':Ga,'ClassRef':tt,'execute':(_0xe0175f,_0x5e9219)=>_[_0x42833(0x395)](_0xe0175f,_0x5e9219)});return _0x31c6c3[_0x42833(0x130)](0xc8)[_0x42833(0x4ad)](_0xfc9528);})['post'](this[_0x1548f3(0x413)](_0x1548f3(0x38d)),..._0x169fd1,async(_0x2782f4,_0x2e2b17)=>{const _0x2e301=_0x1548f3;let _0x4f8fa2=await this[_0x2e301(0x5ac)]({'request':_0x2782f4,'schema':null,'ClassRef':Object,'execute':(_0x4fd77f,_0x22ea94)=>_['getBase64FromMediaMessage'](_0x4fd77f,_0x22ea94)});return _0x2e2b17['status'](0xc9)['json'](_0x4f8fa2);})[_0x1548f3(0x35f)](this[_0x1548f3(0x413)](_0x1548f3(0x794)),..._0x169fd1,async(_0x567fe4,_0x23643f)=>{const _0x2ad8e6=_0x1548f3;let _0x4f13b6=await this[_0x2ad8e6(0x5ac)]({'request':_0x567fe4,'schema':Ha,'ClassRef':qe,'execute':(_0x5ab72c,_0x4063a5)=>_[_0x2ad8e6(0x6cd)](_0x5ab72c,_0x4063a5)});return _0x23643f['status'](0xc8)[_0x2ad8e6(0x4ad)](_0x4f13b6);})[_0x1548f3(0x2cd)](this[_0x1548f3(0x413)](_0x1548f3(0x72b)),..._0x169fd1,async(_0x459a70,_0x172601)=>{const _0x3b2239=_0x1548f3;let _0x1e2024=await this[_0x3b2239(0x5ac)]({'request':_0x459a70,'schema':null,'ClassRef':C,'execute':_0x3fe452=>_[_0x3b2239(0x3c8)](_0x3fe452)});return _0x172601[_0x3b2239(0x130)](0xc8)[_0x3b2239(0x4ad)](_0x1e2024);})['get'](this[_0x1548f3(0x413)]('findLabels'),..._0x169fd1,async(_0x494ffd,_0x19c30d)=>{const _0x51ddd1=_0x1548f3;let _0x2c582f=await this[_0x51ddd1(0x5ac)]({'request':_0x494ffd,'schema':null,'ClassRef':C,'execute':_0x322674=>_[_0x51ddd1(0x654)](_0x322674)});return _0x19c30d[_0x51ddd1(0x130)](0xc8)[_0x51ddd1(0x4ad)](_0x2c582f);})[_0x1548f3(0x3ec)](this['routerPath'](_0x1548f3(0x336)),..._0x169fd1,async(_0x39ba91,_0x2c0664)=>{const _0x356a93=_0x1548f3;let _0x2f5103=await this[_0x356a93(0x5ac)]({'request':_0x39ba91,'schema':null,'ClassRef':Array,'execute':(_0x5d5f6e,_0x214aa6)=>_[_0x356a93(0x336)](_0x5d5f6e,_0x214aa6)});return _0x2c0664[_0x356a93(0x130)](0xc8)['json'](_0x2f5103);})['get'](this[_0x1548f3(0x413)](_0x1548f3(0x216)),..._0x169fd1,async(_0x608745,_0x578585)=>{const _0x4e9573=_0x1548f3;let _0x141085=await this['dataValidate']({'request':_0x608745,'schema':null,'ClassRef':C,'execute':_0x11af09=>_['fetchPrivacySettings'](_0x11af09)});return _0x578585['status'](0xc8)[_0x4e9573(0x4ad)](_0x141085);})[_0x1548f3(0x3ec)](this['routerPath']('updatePrivacySettings'),..._0x169fd1,async(_0x1bc8a6,_0x272b95)=>{const _0x230aba=_0x1548f3;let _0x13ac94=await this[_0x230aba(0x5ac)]({'request':_0x1bc8a6,'schema':Ja,'ClassRef':Qe,'execute':(_0x400a40,_0x4fce2b)=>_[_0x230aba(0x2a5)](_0x400a40,_0x4fce2b)});return _0x272b95[_0x230aba(0x130)](0xc9)[_0x230aba(0x4ad)](_0x13ac94);})['post'](this['routerPath'](_0x1548f3(0x735)),..._0x169fd1,async(_0x3e9a45,_0x524983)=>{const _0x915994=_0x1548f3;let _0x404b98=await this['dataValidate']({'request':_0x3e9a45,'schema':ve,'ClassRef':be,'execute':(_0x37135e,_0x1a0a92)=>_['fetchBusinessProfile'](_0x37135e,_0x1a0a92)});return _0x524983['status'](0xc8)[_0x915994(0x4ad)](_0x404b98);})['post'](this[_0x1548f3(0x413)](_0x1548f3(0x5a1)),..._0x169fd1,async(_0x2b985f,_0x3989b3)=>{const _0x1206b6=_0x1548f3;let _0x5cf748=await this[_0x1206b6(0x5ac)]({'request':_0x2b985f,'schema':Ba,'ClassRef':We,'execute':(_0x1233d6,_0x347823)=>_[_0x1206b6(0x5a1)](_0x1233d6,_0x347823)});return _0x3989b3[_0x1206b6(0x130)](0xc8)[_0x1206b6(0x4ad)](_0x5cf748);})['post'](this[_0x1548f3(0x413)](_0x1548f3(0x367)),..._0x169fd1,async(_0x3b412e,_0x3cc627)=>{const _0x3a9ce4=_0x1548f3;let _0x25ee41=await this[_0x3a9ce4(0x5ac)]({'request':_0x3b412e,'schema':Wa,'ClassRef':ze,'execute':(_0xc8a744,_0x126e87)=>_['updateProfileStatus'](_0xc8a744,_0x126e87)});return _0x3cc627['status'](0xc8)['json'](_0x25ee41);})[_0x1548f3(0x3ec)](this['routerPath'](_0x1548f3(0x658)),..._0x169fd1,async(_0x2c6f49,_0x115149)=>{const _0x1c1adb=_0x1548f3;let _0x575fd4=await this['dataValidate']({'request':_0x2c6f49,'schema':ve,'ClassRef':be,'execute':(_0x275e5f,_0x58805e)=>_['updateProfilePicture'](_0x275e5f,_0x58805e)});return _0x115149[_0x1c1adb(0x130)](0xc8)[_0x1c1adb(0x4ad)](_0x575fd4);})[_0x1548f3(0x209)](this[_0x1548f3(0x413)](_0x1548f3(0x6c3)),..._0x169fd1,async(_0x25fb3e,_0x27e62b)=>{const _0x4e34a7=_0x1548f3;let _0x21257d=await this[_0x4e34a7(0x5ac)]({'request':_0x25fb3e,'schema':ve,'ClassRef':be,'execute':(_0x5a18bf,_0x54e225)=>_[_0x4e34a7(0x6c3)](_0x5a18bf,_0x54e225)});return _0x27e62b['status'](0xc8)[_0x4e34a7(0x4ad)](_0x21257d);});}},io=require('express'),rt=class{},it=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Re=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x3fe199){const _0x43ba93=a0_0x349dbc;super(),this[_0x43ba93(0x132)]=(0x0,io[_0x43ba93(0x638)])(),this[_0x43ba93(0x132)][_0x43ba93(0x35f)](this[_0x43ba93(0x413)](_0x43ba93(0x719)),..._0x3fe199,async(_0x27272b,_0x466d81)=>{const _0x498093=_0x43ba93;let _0x5b870c=await this['dataValidate']({'request':_0x27272b,'schema':Qa,'ClassRef':rt,'execute':(_0x1a5151,_0x36b4fe)=>q[_0x498093(0x78a)](_0x1a5151,_0x36b4fe)});_0x466d81['status'](0xc9)[_0x498093(0x4ad)](_0x5b870c);})[_0x43ba93(0x3ec)](this[_0x43ba93(0x413)](_0x43ba93(0xc2)),..._0x3fe199,async(_0x19d1bf,_0x161dde)=>{const _0x41908b=_0x43ba93;let _0x114c3a=await this[_0x41908b(0x55e)]({'request':_0x19d1bf,'schema':Za,'ClassRef':it,'execute':(_0xd040fd,_0x3204b7)=>q['updateGroupPicture'](_0xd040fd,_0x3204b7)});_0x161dde[_0x41908b(0x130)](0xc9)[_0x41908b(0x4ad)](_0x114c3a);})[_0x43ba93(0x3ec)](this[_0x43ba93(0x413)](_0x43ba93(0x4d0)),..._0x3fe199,async(_0x425e9c,_0xd9b8f9)=>{const _0x19c9fd=_0x43ba93;let _0x36e110=await this[_0x19c9fd(0x55e)]({'request':_0x425e9c,'schema':eo,'ClassRef':nt,'execute':(_0x1043ab,_0x109173)=>q[_0x19c9fd(0x4d0)](_0x1043ab,_0x109173)});_0xd9b8f9['status'](0xc9)['json'](_0x36e110);})[_0x43ba93(0x3ec)](this[_0x43ba93(0x413)](_0x43ba93(0x12a)),..._0x3fe199,async(_0x22abfc,_0x5596cc)=>{const _0x52ebd1=_0x43ba93;let _0x1697c1=await this[_0x52ebd1(0x55e)]({'request':_0x22abfc,'schema':to,'ClassRef':ct,'execute':(_0x1c457d,_0x1a24bc)=>q[_0x52ebd1(0x12a)](_0x1c457d,_0x1a24bc)});_0x5596cc[_0x52ebd1(0x130)](0xc9)[_0x52ebd1(0x4ad)](_0x1697c1);})[_0x43ba93(0x3ec)](this[_0x43ba93(0x413)]('groupBetterSetting'),..._0x3fe199,async(_0x9ca177,_0x9502cb)=>{const _0xf1cb4c=_0x43ba93;let _0xd7843b=await this[_0xf1cb4c(0x55e)]({'request':_0x9ca177,'schema':ao,'ClassRef':ut,'execute':(_0x29ae5a,_0x24ae81)=>q[_0xf1cb4c(0x214)](_0x29ae5a,_0x24ae81)});_0x9502cb[_0xf1cb4c(0x130)](0xc9)['json'](_0xd7843b);})[_0x43ba93(0x3ec)](this[_0x43ba93(0x413)](_0x43ba93(0x162)),..._0x3fe199,async(_0x3be2d9,_0x387eaf)=>{const _0x1a2fe4=_0x43ba93;let _0x343af4=await this[_0x1a2fe4(0x55e)]({'request':_0x3be2d9,'schema':so,'ClassRef':lt,'execute':(_0x261752,_0x16137c)=>q['groupSetting'](_0x261752,_0x16137c)});_0x387eaf[_0x1a2fe4(0x130)](0xc9)[_0x1a2fe4(0x4ad)](_0x343af4);})[_0x43ba93(0x3ec)](this[_0x43ba93(0x413)](_0x43ba93(0x296)),..._0x3fe199,async(_0x424f41,_0x4a8e70)=>{const _0x253980=_0x43ba93;let _0x41262d=await this[_0x253980(0x55e)]({'request':_0x424f41,'schema':Xa,'ClassRef':pt,'execute':(_0x100801,_0x1d5369)=>q[_0x253980(0x296)](_0x100801,_0x1d5369)});_0x4a8e70[_0x253980(0x130)](0xc9)['json'](_0x41262d);})[_0x43ba93(0x2cd)](this['routerPath'](_0x43ba93(0x6bf)),..._0x3fe199,async(_0x3d680b,_0x43342a)=>{const _0x127a59=_0x43ba93;let _0x42ab74=await this[_0x127a59(0x55e)]({'request':_0x3d680b,'schema':Ne,'ClassRef':X,'execute':(_0x371fe1,_0x16664f)=>q[_0x127a59(0x5de)](_0x371fe1,_0x16664f)});_0x43342a[_0x127a59(0x130)](0xc8)[_0x127a59(0x4ad)](_0x42ab74);})[_0x43ba93(0x2cd)](this[_0x43ba93(0x413)](_0x43ba93(0x5ef)),..._0x3fe199,async(_0x4dbfb9,_0x57f8f8)=>{const _0x2570c9=_0x43ba93;let _0x39fefd=await this[_0x2570c9(0x5ac)]({'request':_0x4dbfb9,'schema':N,'ClassRef':C,'execute':_0x67d67=>q[_0x2570c9(0x5ef)](_0x67d67)});_0x57f8f8['status'](0xc8)[_0x2570c9(0x4ad)](_0x39fefd);})[_0x43ba93(0x2cd)](this['routerPath'](_0x43ba93(0x3b1)),..._0x3fe199,async(_0x21a4d1,_0x396e35)=>{const _0x18fd97=_0x43ba93;let _0x558c1b=await this[_0x18fd97(0x55e)]({'request':_0x21a4d1,'schema':Ne,'ClassRef':X,'execute':(_0x147f67,_0x3b1df2)=>q['findParticipants'](_0x147f67,_0x3b1df2)});_0x396e35[_0x18fd97(0x130)](0xc8)[_0x18fd97(0x4ad)](_0x558c1b);})['get'](this[_0x43ba93(0x413)](_0x43ba93(0x5c9)),..._0x3fe199,async(_0x56b0b0,_0x232980)=>{const _0x33affc=_0x43ba93;let _0x413f56=await this['groupValidate']({'request':_0x56b0b0,'schema':Ne,'ClassRef':X,'execute':(_0x4f62f6,_0x766299)=>q[_0x33affc(0x5c9)](_0x4f62f6,_0x766299)});_0x232980[_0x33affc(0x130)](0xc8)[_0x33affc(0x4ad)](_0x413f56);})[_0x43ba93(0x35f)](this[_0x43ba93(0x413)](_0x43ba93(0x5f6)),..._0x3fe199,async(_0x3b4dc0,_0x1a4e30)=>{const _0xdb0626=_0x43ba93;let _0x59b8b5=await this['joinGroupValidate']({'request':_0x3b4dc0,'schema':ys,'ClassRef':Re,'execute':(_0x3d444a,_0xd5a35a)=>q['groupGetInviteInfo'](_0x3d444a,_0xd5a35a)});_0x1a4e30['status'](0xc9)[_0xdb0626(0x4ad)](_0x59b8b5);})['put'](this[_0x43ba93(0x413)]('joinGroup'),..._0x3fe199,async(_0x150118,_0x387cfa)=>{const _0x2e57e8=_0x43ba93;let _0x2c5b14=await this[_0x2e57e8(0x281)]({'request':_0x150118,'schema':ys,'ClassRef':Re,'execute':(_0x399134,_0xaa9c74)=>q['joinGroup'](_0x399134,_0xaa9c74)});_0x387cfa[_0x2e57e8(0x130)](0xc9)['json'](_0x2c5b14);})[_0x43ba93(0x3ec)](this[_0x43ba93(0x413)](_0x43ba93(0x526)),..._0x3fe199,async(_0x2a289b,_0x4adceb)=>{const _0x2f7d20=_0x43ba93;let _0x165103=await this[_0x2f7d20(0x55e)]({'request':_0x2a289b,'schema':Ne,'ClassRef':X,'execute':(_0x41d530,_0x50dd49)=>q[_0x2f7d20(0x526)](_0x41d530,_0x50dd49)});_0x4adceb[_0x2f7d20(0x130)](0xc9)[_0x2f7d20(0x4ad)](_0x165103);})[_0x43ba93(0x3ec)](this[_0x43ba93(0x413)](_0x43ba93(0x30b)),..._0x3fe199,async(_0x1f6691,_0x109582)=>{const _0x4684f2=_0x43ba93;let _0x45d8e6=await this[_0x4684f2(0x55e)]({'request':_0x1f6691,'schema':Ya,'ClassRef':dt,'execute':(_0x41d6da,_0x546b7a)=>q['updateGParticipate'](_0x41d6da,_0x546b7a)});_0x109582[_0x4684f2(0x130)](0xc9)[_0x4684f2(0x4ad)](_0x45d8e6);})['delete'](this[_0x43ba93(0x413)](_0x43ba93(0x6a4)),..._0x3fe199,async(_0x2fe3eb,_0x7a8d63)=>{const _0x352b42=_0x43ba93;let _0x820f94=await this[_0x352b42(0x55e)]({'request':_0x2fe3eb,'schema':{},'ClassRef':X,'execute':(_0x28f244,_0x4a861b)=>q['leaveGroup'](_0x28f244,_0x4a861b)});_0x7a8d63[_0x352b42(0x130)](0xc8)[_0x352b42(0x4ad)](_0x820f94);});}},no=require(a0_0x349dbc(0x166)),gt=class extends V{constructor(_0x4d28e0,..._0x20e74b){const _0x2620cb=a0_0x349dbc;super(),this[_0x2620cb(0x593)]=_0x4d28e0,this[_0x2620cb(0x132)]=(0x0,no[_0x2620cb(0x638)])();let _0x37ed55=_0x4d28e0['get'](_0x2620cb(0x178));this[_0x2620cb(0x132)][_0x2620cb(0x35f)](_0x2620cb(0x602),..._0x20e74b,async(_0x13af61,_0x4cd2b2)=>{const _0x2c0fae=_0x2620cb;let {instanceName:_0x2ca048,apikey:_0x13894d,number:_0x15948c}=_0x13af61['body'],_0x1d5d0b=await ce[_0x2c0fae(0x3e7)]({'instanceName':_0x2ca048,'apikey':_0x13894d,'number':_0x15948c});return _0x4cd2b2[_0x2c0fae(0x130)](0xc9)[_0x2c0fae(0x4ad)](_0x1d5d0b);})[_0x2620cb(0x3ec)](this[_0x2620cb(0x413)](_0x2620cb(0x4c6)),..._0x20e74b,async(_0x4f93bd,_0xa41daf)=>{const _0x3bad88=_0x2620cb;let _0x12af52=await this[_0x3bad88(0x5ac)]({'request':_0x4f93bd,'schema':N,'ClassRef':C,'execute':_0x53bca1=>ce[_0x3bad88(0x633)](_0x53bca1)});return _0xa41daf[_0x3bad88(0x130)](0xc8)[_0x3bad88(0x4ad)](_0x12af52);})['get'](this[_0x2620cb(0x413)](_0x2620cb(0x451)),..._0x20e74b,async(_0x3376fd,_0x408d4c)=>{const _0x512e4f=_0x2620cb;let _0x22fd28=await this['dataValidate']({'request':_0x3376fd,'schema':N,'ClassRef':C,'execute':_0x4110be=>ce[_0x512e4f(0x5f2)](_0x4110be)});return _0x408d4c[_0x512e4f(0x130)](0xc8)[_0x512e4f(0x4ad)](_0x22fd28);})[_0x2620cb(0x2cd)](this[_0x2620cb(0x413)](_0x2620cb(0x57b)),..._0x20e74b,async(_0x2c8d32,_0x5e7685)=>{const _0x51da17=_0x2620cb;let _0x43b602=await this[_0x51da17(0x5ac)]({'request':_0x2c8d32,'schema':N,'ClassRef':C,'execute':_0x262c6d=>ce[_0x51da17(0x57b)](_0x262c6d)});return _0x5e7685[_0x51da17(0x130)](0xc8)[_0x51da17(0x4ad)](_0x43b602);})[_0x2620cb(0x2cd)](this[_0x2620cb(0x413)]('fetchInstances',!0x1),..._0x20e74b,async(_0x3de7c8,_0x527365)=>{const _0x1139b6=_0x2620cb;let _0x526d4a=await this[_0x1139b6(0x5ac)]({'request':_0x3de7c8,'schema':null,'ClassRef':C,'execute':_0x2c13ce=>ce[_0x1139b6(0x403)](_0x2c13ce)});return _0x527365[_0x1139b6(0x130)](0xc8)[_0x1139b6(0x4ad)](_0x526d4a);})['delete'](this[_0x2620cb(0x413)](_0x2620cb(0x453)),..._0x20e74b,async(_0x50750c,_0x4ac66a)=>{const _0x38fb43=_0x2620cb;let _0x1c6497=await this[_0x38fb43(0x5ac)]({'request':_0x50750c,'schema':N,'ClassRef':C,'execute':_0x26fab8=>ce['logout'](_0x26fab8)});return _0x4ac66a['status'](0xc8)[_0x38fb43(0x4ad)](_0x1c6497);})[_0x2620cb(0x209)](this[_0x2620cb(0x413)](_0x2620cb(0x209)),..._0x20e74b,async(_0x246ea7,_0x21a0fd)=>{const _0x307972=_0x2620cb;let _0x4e119d=await this[_0x307972(0x5ac)]({'request':_0x246ea7,'schema':N,'ClassRef':C,'execute':_0x20fbcc=>ce[_0x307972(0x2c6)](_0x20fbcc)});return _0x21a0fd[_0x307972(0x130)](0xc8)[_0x307972(0x4ad)](_0x4e119d);});}},co=require(a0_0x349dbc(0x166)),Ss=class{},W=class extends Ss{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Oe=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x447786){const _0x28941d=a0_0x349dbc;super(),this[_0x28941d(0x132)]=(0x0,co[_0x28941d(0x638)])(),this[_0x28941d(0x132)][_0x28941d(0x35f)](this[_0x28941d(0x413)](_0x28941d(0x454)),..._0x447786,async(_0x466e19,_0x188ad8)=>{const _0x1a692d=_0x28941d;let _0x3345ca=await this[_0x1a692d(0x5ac)]({'request':_0x466e19,'schema':Ra,'ClassRef':mt,'execute':(_0x48c276,_0x5c6974)=>B['sendText'](_0x48c276,_0x5c6974)});return _0x188ad8['status'](0xc9)[_0x1a692d(0x4ad)](_0x3345ca);})[_0x28941d(0x35f)](this['routerPath'](_0x28941d(0x5c8)),..._0x447786,async(_0x5ae6fc,_0x207254)=>{const _0x298ba1=_0x28941d;let _0x1f7817=await this[_0x298ba1(0x5ac)]({'request':_0x5ae6fc,'schema':Aa,'ClassRef':Oe,'execute':(_0x22cfa,_0x5cf1a9)=>B[_0x298ba1(0x5c8)](_0x22cfa,_0x5cf1a9)});return _0x207254[_0x298ba1(0x130)](0xc9)['json'](_0x1f7817);})[_0x28941d(0x35f)](this[_0x28941d(0x413)](_0x28941d(0x652)),..._0x447786,async(_0x1c3f46,_0x2a473f)=>{const _0x5d4b75=_0x28941d;let _0x293143=await this[_0x5d4b75(0x5ac)]({'request':_0x1c3f46,'schema':Da,'ClassRef':yt,'execute':(_0x55e5c3,_0x457926)=>B[_0x5d4b75(0x652)](_0x55e5c3,_0x457926)});return _0x2a473f['status'](0xc9)[_0x5d4b75(0x4ad)](_0x293143);})[_0x28941d(0x35f)](this['routerPath'](_0x28941d(0x718)),..._0x447786,async(_0x2904ed,_0x8bef1f)=>{const _0x4079e6=_0x28941d;let _0x2d477d=await this[_0x4079e6(0x5ac)]({'request':_0x2904ed,'schema':Ia,'ClassRef':Oe,'execute':(_0x326cd1,_0x505c2c)=>B[_0x4079e6(0x718)](_0x326cd1,_0x505c2c)});return _0x8bef1f['status'](0xc9)[_0x4079e6(0x4ad)](_0x2d477d);})[_0x28941d(0x35f)](this[_0x28941d(0x413)](_0x28941d(0x5a8)),..._0x447786,async(_0x306df3,_0x12b61a)=>{const _0x2492ef=_0x28941d;let _0x3d4170=await this[_0x2492ef(0x5ac)]({'request':_0x306df3,'schema':_a,'ClassRef':St,'execute':(_0x4cf805,_0x3a93bc)=>B['sendButtons'](_0x4cf805,_0x3a93bc)});return _0x12b61a[_0x2492ef(0x130)](0xc9)[_0x2492ef(0x4ad)](_0x3d4170);})['post'](this[_0x28941d(0x413)](_0x28941d(0x40d)),..._0x447786,async(_0x22b655,_0x30e187)=>{const _0x406729=_0x28941d;let _0x7b4e72=await this['dataValidate']({'request':_0x22b655,'schema':Pa,'ClassRef':Mt,'execute':(_0xf8c891,_0x36a0e7)=>B[_0x406729(0x40d)](_0xf8c891,_0x36a0e7)});return _0x30e187[_0x406729(0x130)](0xc9)[_0x406729(0x4ad)](_0x7b4e72);})['post'](this[_0x28941d(0x413)](_0x28941d(0x27b)),..._0x447786,async(_0x2a3ed3,_0x464f10)=>{const _0x34a767=_0x28941d;let _0x872f87=await this['dataValidate']({'request':_0x2a3ed3,'schema':ka,'ClassRef':Ct,'execute':(_0x51ce43,_0x32569d)=>B[_0x34a767(0x27b)](_0x51ce43,_0x32569d)});return _0x464f10['status'](0xc9)['json'](_0x872f87);})[_0x28941d(0x35f)](this[_0x28941d(0x413)](_0x28941d(0x3c5)),..._0x447786,async(_0x59d6e6,_0x914d00)=>{const _0x4bf9e3=_0x28941d;let _0x219e22=await this[_0x4bf9e3(0x5ac)]({'request':_0x59d6e6,'schema':ja,'ClassRef':Et,'execute':(_0x387531,_0x343201)=>B[_0x4bf9e3(0x3c5)](_0x387531,_0x343201)});return _0x914d00[_0x4bf9e3(0x130)](0xc9)['json'](_0x219e22);})[_0x28941d(0x35f)](this[_0x28941d(0x413)]('sendReaction'),..._0x447786,async(_0x2bd2b8,_0x364dac)=>{const _0xd7ef4e=_0x28941d;let _0x1f03bc=await this[_0xd7ef4e(0x5ac)]({'request':_0x2bd2b8,'schema':La,'ClassRef':vt,'execute':(_0x22d2c6,_0x6f3a9d)=>B[_0xd7ef4e(0x75a)](_0x22d2c6,_0x6f3a9d)});return _0x364dac[_0xd7ef4e(0x130)](0xc9)[_0xd7ef4e(0x4ad)](_0x1f03bc);})[_0x28941d(0x35f)](this['routerPath'](_0x28941d(0x1a5)),..._0x447786,async(_0x51dffb,_0x834bdf)=>{const _0x46dc45=_0x28941d;let _0xcbbac1=await this[_0x46dc45(0x5ac)]({'request':_0x51dffb,'schema':xa,'ClassRef':wt,'execute':(_0x48e8ca,_0x333604)=>B['sendPoll'](_0x48e8ca,_0x333604)});return _0x834bdf['status'](0xc9)['json'](_0xcbbac1);})[_0x28941d(0x35f)](this[_0x28941d(0x413)](_0x28941d(0x315)),..._0x447786,async(_0xcb5d5d,_0x23ee22)=>{const _0x51b4ec=_0x28941d;let _0x30e0f2=await this[_0x51b4ec(0x5ac)]({'request':_0xcb5d5d,'schema':$a,'ClassRef':ft,'execute':(_0x165e1b,_0x320891)=>B[_0x51b4ec(0x315)](_0x165e1b,_0x320891)});return _0x23ee22['status'](0xc9)[_0x51b4ec(0x4ad)](_0x30e0f2);})[_0x28941d(0x35f)](this[_0x28941d(0x413)]('sendSticker'),..._0x447786,async(_0x5703a7,_0x4906d7)=>{const _0x907876=_0x28941d;let _0x93232=await this[_0x907876(0x5ac)]({'request':_0x5703a7,'schema':Ta,'ClassRef':bt,'execute':(_0x253167,_0xda61b8)=>B['sendSticker'](_0x253167,_0xda61b8)});return _0x4906d7[_0x907876(0x130)](0xc9)['json'](_0x93232);});}},lo=require(a0_0x349dbc(0x166)),Rt=class{},Ot=class extends V{constructor(..._0x44e522){const _0x4db726=a0_0x349dbc;super(),this['router']=(0x0,lo[_0x4db726(0x638)])(),this[_0x4db726(0x132)][_0x4db726(0x35f)](this[_0x4db726(0x413)](_0x4db726(0x677)),..._0x44e522,async(_0xbc9edf,_0x67d588)=>{const _0x55a5ff=_0x4db726;let _0x1faf2a=await this[_0x55a5ff(0x5ac)]({'request':_0xbc9edf,'schema':oo,'ClassRef':Rt,'execute':(_0x3618ee,_0x5c3589)=>Ms[_0x55a5ff(0x4c0)](_0x3618ee,_0x5c3589)});_0x67d588['status'](0xc9)[_0x55a5ff(0x4ad)](_0x1faf2a);})[_0x4db726(0x2cd)](this[_0x4db726(0x413)](_0x4db726(0x3e0)),..._0x44e522,async(_0x5cfe83,_0x273e45)=>{const _0x3b2993=_0x4db726;let _0x219c8=await this[_0x3b2993(0x5ac)]({'request':_0x5cfe83,'schema':N,'ClassRef':C,'execute':_0x6fafcd=>Ms[_0x3b2993(0x736)](_0x6fafcd)});_0x273e45['status'](0xc8)['json'](_0x219c8);});}},uo=require(a0_0x349dbc(0x166)),y=new R(a0_0x349dbc(0x580)),Tt=class extends V{constructor(..._0x2e0cf6){const _0x2aa9d8=a0_0x349dbc;super(),this[_0x2aa9d8(0x132)]=(0x0,uo[_0x2aa9d8(0x638)])(),this[_0x2aa9d8(0x132)]['post'](this[_0x2aa9d8(0x413)]('scheduleMessage'),..._0x2e0cf6,async(_0x2cac5d,_0xd9faa0)=>{const _0x18a715=_0x2aa9d8;let _0x4c12ea=_0x2cac5d[_0x18a715(0x306)];y[_0x18a715(0x3b4)](_0x18a715(0x7a5)),y[_0x18a715(0x3b4)]('request\x20body:\x20'),y[_0x18a715(0x3b4)](_0x2cac5d[_0x18a715(0x306)]);let _0x10e1e1=await this[_0x18a715(0x5ac)]({'request':_0x2cac5d,'schema':N,'ClassRef':C,'execute':_0x330d40=>A[_0x18a715(0x6d4)](_0x330d40,_0x4c12ea)});_0xd9faa0[_0x18a715(0x130)](0xc8)[_0x18a715(0x4ad)](_0x10e1e1);})[_0x2aa9d8(0x2cd)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x4f1)),..._0x2e0cf6,async(_0x264507,_0x21dd06)=>{const _0xa2c09e=_0x2aa9d8;let _0x3c44a8=await this[_0xa2c09e(0x5ac)]({'request':_0x264507,'schema':N,'ClassRef':C,'execute':_0x31d605=>A[_0xa2c09e(0x249)](_0x31d605)});_0x21dd06[_0xa2c09e(0x130)](0xc8)['json'](_0x3c44a8);})[_0x2aa9d8(0x209)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x78e)),..._0x2e0cf6,async(_0x2b0a67,_0xbf795a)=>{const _0xe6ecb8=_0x2aa9d8;y[_0xe6ecb8(0x3b4)](_0xe6ecb8(0x3f7));let _0x32b307=await this[_0xe6ecb8(0x5ac)]({'request':_0x2b0a67,'schema':N,'ClassRef':C,'execute':_0x151825=>A[_0xe6ecb8(0x78e)](_0x151825)});_0xbf795a[_0xe6ecb8(0x130)](0xc8)[_0xe6ecb8(0x4ad)](_0x32b307);})['post'](this[_0x2aa9d8(0x413)]('startFlow'),..._0x2e0cf6,async(_0x2beceb,_0xa6b9a0)=>{const _0x16e2db=_0x2aa9d8;let _0x4d0f45=_0x2beceb['body'];y[_0x16e2db(0x3b4)](_0x16e2db(0x4d7)),y[_0x16e2db(0x3b4)](_0x16e2db(0x19f)),y['verbose'](_0x2beceb[_0x16e2db(0x306)]);let _0x1c7694=await this['dataValidate']({'request':_0x2beceb,'schema':N,'ClassRef':C,'execute':_0x17a167=>A[_0x16e2db(0x77b)](_0x17a167,_0x4d0f45)});_0xa6b9a0[_0x16e2db(0x130)](0xc8)[_0x16e2db(0x4ad)](_0x1c7694);})[_0x2aa9d8(0x2cd)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x25a)),..._0x2e0cf6,async(_0x3f198b,_0x1c6e74)=>{const _0x23dde8=_0x2aa9d8;y[_0x23dde8(0x3b4)](_0x23dde8(0x168));let _0x471ff2=await this['dataValidate']({'request':_0x3f198b,'schema':N,'ClassRef':C,'execute':_0x2ceefa=>A[_0x23dde8(0x25a)](_0x2ceefa)});_0x1c6e74[_0x23dde8(0x130)](0xc8)[_0x23dde8(0x4ad)](_0x471ff2);})[_0x2aa9d8(0x2cd)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x4a8)),..._0x2e0cf6,async(_0x2ce41f,_0x2bd2cb)=>{const _0x28dbf9=_0x2aa9d8;y[_0x28dbf9(0x3b4)](_0x28dbf9(0x77c));let _0x4f9bd5=await this[_0x28dbf9(0x5ac)]({'request':_0x2ce41f,'schema':N,'ClassRef':C,'execute':_0x32046f=>A[_0x28dbf9(0x25a)](_0x32046f)});_0x2bd2cb[_0x28dbf9(0x130)](0xc8)['json'](_0x4f9bd5);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x2c7)),..._0x2e0cf6,async(_0x1c1c15,_0x4db40b)=>{const _0x59bcac=_0x2aa9d8;let _0x565b62=_0x1c1c15[_0x59bcac(0x306)];y[_0x59bcac(0x3b4)](_0x59bcac(0x2a0)),y['verbose'](_0x59bcac(0x19f)),y[_0x59bcac(0x3b4)](_0x1c1c15[_0x59bcac(0x306)]);let _0xd2c4e6=await this['dataValidate']({'request':_0x1c1c15,'schema':N,'ClassRef':C,'execute':_0x31abb6=>A[_0x59bcac(0x2c7)](_0x31abb6,_0x565b62)});_0x4db40b[_0x59bcac(0x130)](0xc8)['json'](_0xd2c4e6);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x309)),..._0x2e0cf6,async(_0x73f6ba,_0x589305)=>{const _0x5211a0=_0x2aa9d8;let _0x4fa8bc=_0x73f6ba[_0x5211a0(0x306)];y[_0x5211a0(0x3b4)](_0x5211a0(0x4b9)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x73f6ba[_0x5211a0(0x306)]);let _0x2487a0=await this[_0x5211a0(0x5ac)]({'request':_0x73f6ba,'schema':N,'ClassRef':C,'execute':_0x312a03=>A[_0x5211a0(0x309)](_0x312a03,_0x4fa8bc)});_0x589305[_0x5211a0(0x130)](0xc8)['json'](_0x2487a0);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x693)),..._0x2e0cf6,async(_0xdc14e4,_0x220967)=>{const _0x309b28=_0x2aa9d8;let _0xf031f7=_0xdc14e4[_0x309b28(0x306)];y[_0x309b28(0x3b4)](_0x309b28(0x721)),y['verbose'](_0x309b28(0x19f)),y[_0x309b28(0x3b4)](_0xdc14e4['body']);let _0x4824da=await this[_0x309b28(0x5ac)]({'request':_0xdc14e4,'schema':N,'ClassRef':C,'execute':_0xf3aebf=>A[_0x309b28(0x693)](_0xf3aebf,_0xf031f7)});_0x220967[_0x309b28(0x130)](0xc8)[_0x309b28(0x4ad)](_0x4824da);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x6d6)),..._0x2e0cf6,async(_0x222914,_0x155f68)=>{const _0x203fec=_0x2aa9d8;let _0x4d745c=_0x222914[_0x203fec(0x306)];y[_0x203fec(0x3b4)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x203fec(0x3b4)]('request\x20body:\x20'),y['verbose'](_0x222914[_0x203fec(0x306)]);let _0x15bcc6=await this['dataValidate']({'request':_0x222914,'schema':N,'ClassRef':C,'execute':_0x3ec1cb=>A['updateFlowConfig'](_0x3ec1cb,_0x4d745c)});_0x155f68[_0x203fec(0x130)](0xc8)['json'](_0x15bcc6);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x370)),..._0x2e0cf6,async(_0x4eaf3b,_0x589b3e)=>{const _0x547f09=_0x2aa9d8;let _0x156199=_0x4eaf3b['body'];y[_0x547f09(0x3b4)](_0x547f09(0x122)),y['verbose'](_0x547f09(0x19f)),y['verbose'](_0x4eaf3b['body']);let _0x3105b9=await this[_0x547f09(0x5ac)]({'request':_0x4eaf3b,'schema':N,'ClassRef':C,'execute':_0x120754=>A[_0x547f09(0x370)](_0x120754,_0x156199)});_0x589b3e[_0x547f09(0x130)](0xc8)['json'](_0x3105b9);})['post'](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x3e6)),..._0x2e0cf6,async(_0x307b96,_0x46f1f4)=>{const _0x4e6112=_0x2aa9d8;let _0xb2a3f0=_0x307b96[_0x4e6112(0x306)];y['verbose'](_0x4e6112(0x20d)),y[_0x4e6112(0x3b4)](_0x4e6112(0x19f)),y[_0x4e6112(0x3b4)](_0x307b96[_0x4e6112(0x306)]);let _0x5ec8d0=await this[_0x4e6112(0x5ac)]({'request':_0x307b96,'schema':N,'ClassRef':C,'execute':_0x462e3a=>A['fetchConversation'](_0x462e3a,_0xb2a3f0)});_0x46f1f4[_0x4e6112(0x130)](0xc8)[_0x4e6112(0x4ad)](_0x5ec8d0);})['post'](this['routerPath'](_0x2aa9d8(0xf4)),..._0x2e0cf6,async(_0x3dc36a,_0x49a2e8)=>{const _0x47d2d6=_0x2aa9d8;let _0x355d88=_0x3dc36a['body'];y[_0x47d2d6(0x3b4)](_0x47d2d6(0x26a)),y[_0x47d2d6(0x3b4)](_0x47d2d6(0x19f)),y[_0x47d2d6(0x3b4)](_0x3dc36a[_0x47d2d6(0x306)]);let _0x904342=await this[_0x47d2d6(0x5ac)]({'request':_0x3dc36a,'schema':N,'ClassRef':C,'execute':_0x3ea499=>A[_0x47d2d6(0xf4)](_0x3ea499,_0x355d88)});_0x49a2e8[_0x47d2d6(0x130)](0xc8)[_0x47d2d6(0x4ad)](_0x904342);})[_0x2aa9d8(0x209)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x172)),..._0x2e0cf6,async(_0x5f0626,_0x5abb93)=>{const _0x3e247a=_0x2aa9d8;let _0x40639b=_0x5f0626[_0x3e247a(0x306)];y['verbose']('request\x20received\x20in\x20deleteConversation'),y[_0x3e247a(0x3b4)](_0x3e247a(0x19f)),y[_0x3e247a(0x3b4)](_0x5f0626[_0x3e247a(0x306)]);let _0x5bcad6=await this[_0x3e247a(0x5ac)]({'request':_0x5f0626,'schema':N,'ClassRef':C,'execute':_0xd9a8f4=>A['deleteConversation'](_0xd9a8f4,_0x40639b)});_0x5abb93[_0x3e247a(0x130)](0xc8)[_0x3e247a(0x4ad)](_0x5bcad6);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x744)),..._0x2e0cf6,async(_0xba6090,_0x49761c)=>{const _0x372129=_0x2aa9d8;let _0x3607d0=_0xba6090[_0x372129(0x306)],_0x296a35=_0xba6090[_0x372129(0x1d2)][_0x372129(0x3f6)];y['verbose'](_0x372129(0x640)),y[_0x372129(0x3b4)](_0x372129(0x19f)),y['verbose'](_0xba6090[_0x372129(0x306)]);let _0xfae39f=await this[_0x372129(0x5ac)]({'request':_0xba6090,'schema':N,'ClassRef':C,'execute':_0x36bdd8=>A[_0x372129(0x657)](_0x36bdd8,_0x3607d0,_0x296a35)});_0x49761c[_0x372129(0x130)](0xc8)['json'](_0xfae39f);})[_0x2aa9d8(0x35f)](this['routerPath'](_0x2aa9d8(0x6ef)),..._0x2e0cf6,async(_0x48d558,_0x463638)=>{const _0x3411d0=_0x2aa9d8;let _0x5c7c5f=_0x48d558[_0x3411d0(0x306)],_0x5688ae=_0x48d558[_0x3411d0(0x1d2)][_0x3411d0(0x3f6)];y[_0x3411d0(0x3b4)](_0x3411d0(0x193)),y[_0x3411d0(0x3b4)](_0x3411d0(0x19f)),y['verbose'](_0x48d558[_0x3411d0(0x306)]),delete _0x5c7c5f[_0x3411d0(0x6bd)],delete _0x5c7c5f[_0x3411d0(0x764)],delete _0x5c7c5f[_0x3411d0(0x286)],delete _0x5c7c5f[_0x3411d0(0x33d)];let _0x45b9a9=await this[_0x3411d0(0x5ac)]({'request':_0x48d558,'schema':N,'ClassRef':C,'execute':_0x5c29ec=>A[_0x3411d0(0x4de)](_0x5c29ec,_0x5c7c5f,_0x5688ae)});_0x463638['status'](0xc8)['json'](_0x45b9a9);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x5cd)),..._0x2e0cf6,async(_0x307850,_0x40b6d7)=>{const _0x2f276c=_0x2aa9d8;let _0x435754=_0x307850['body'],_0x3490ad=_0x307850[_0x2f276c(0x1d2)][_0x2f276c(0x3f6)];y[_0x2f276c(0x3b4)](_0x2f276c(0x193)),y[_0x2f276c(0x3b4)](_0x2f276c(0x19f)),y[_0x2f276c(0x3b4)](_0x307850[_0x2f276c(0x306)]);let _0x18233a=await this[_0x2f276c(0x5ac)]({'request':_0x307850,'schema':N,'ClassRef':C,'execute':_0x14cf7c=>A[_0x2f276c(0x49c)](_0x14cf7c,_0x435754,_0x3490ad)});_0x40b6d7['status'](0xc8)['json'](_0x18233a);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0xfa)),..._0x2e0cf6,async(_0x2aa117,_0x4151ce)=>{const _0x424095=_0x2aa9d8;let _0x3b941b=_0x2aa117[_0x424095(0x306)],_0x1fb896=_0x2aa117['headers'][_0x424095(0x3f6)];y['verbose'](_0x424095(0x193)),y[_0x424095(0x3b4)](_0x424095(0x19f)),y[_0x424095(0x3b4)](_0x2aa117['body']);let _0x591cf0=await this['dataValidate']({'request':_0x2aa117,'schema':N,'ClassRef':C,'execute':_0x5309da=>A['editFlowReply'](_0x5309da,_0x3b941b,_0x1fb896)});_0x4151ce[_0x424095(0x130)](0xc8)[_0x424095(0x4ad)](_0x591cf0);})['post'](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x420)),..._0x2e0cf6,async(_0x5d402f,_0xd1e657)=>{const _0xad1037=_0x2aa9d8;let _0x4cfed5=_0x5d402f[_0xad1037(0x306)],_0x49cc38=_0x5d402f[_0xad1037(0x1d2)]['apikey'];y[_0xad1037(0x3b4)](_0xad1037(0x193)),y['verbose'](_0xad1037(0x19f)),y[_0xad1037(0x3b4)](_0x5d402f['body']);let _0x47f8f4=await this[_0xad1037(0x5ac)]({'request':_0x5d402f,'schema':N,'ClassRef':C,'execute':_0x8a9076=>A[_0xad1037(0x141)](_0x8a9076,_0x4cfed5,_0x49cc38)});_0xd1e657['status'](0xc8)['json'](_0x47f8f4);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)]('editflowgroup'),..._0x2e0cf6,async(_0x46acc0,_0x39062e)=>{const _0x393d06=_0x2aa9d8;let _0x55a99c=_0x46acc0[_0x393d06(0x306)],_0xeb3d87=_0x46acc0['headers']['apikey'];y[_0x393d06(0x3b4)](_0x393d06(0x70b)),y['verbose'](_0x393d06(0x19f)),y[_0x393d06(0x3b4)](_0x46acc0['body']);let _0x16ba09=await this[_0x393d06(0x5ac)]({'request':_0x46acc0,'schema':N,'ClassRef':C,'execute':_0x4c137c=>A[_0x393d06(0x18f)](_0x4c137c,_0x55a99c,_0xeb3d87)});_0x39062e[_0x393d06(0x130)](0xc8)[_0x393d06(0x4ad)](_0x16ba09);})['post'](this['routerPath'](_0x2aa9d8(0x47a)),..._0x2e0cf6,async(_0x25cefa,_0x37fabb)=>{const _0x5d5909=_0x2aa9d8;let _0x25169e=_0x25cefa[_0x5d5909(0x306)],_0x53a6db=_0x25cefa[_0x5d5909(0x1d2)][_0x5d5909(0x3f6)];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y[_0x5d5909(0x3b4)]('request\x20body:\x20'),y[_0x5d5909(0x3b4)](_0x25cefa[_0x5d5909(0x306)]);let _0x3548da=await this['dataValidate']({'request':_0x25cefa,'schema':N,'ClassRef':C,'execute':_0x319c55=>A[_0x5d5909(0x2de)](_0x319c55,_0x25169e,_0x53a6db)});_0x37fabb['status'](0xc8)[_0x5d5909(0x4ad)](_0x3548da);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x6dc)),..._0x2e0cf6,async(_0x21c339,_0x39e030)=>{const _0x2f0d0a=_0x2aa9d8;let _0x2a7b5d=_0x21c339[_0x2f0d0a(0x306)],_0x425870=_0x21c339[_0x2f0d0a(0x1d2)][_0x2f0d0a(0x3f6)];y[_0x2f0d0a(0x3b4)](_0x2f0d0a(0x2b5)),y[_0x2f0d0a(0x3b4)](_0x2f0d0a(0x19f)),y[_0x2f0d0a(0x3b4)](_0x21c339['body']);let _0x327035=await this['dataValidate']({'request':_0x21c339,'schema':N,'ClassRef':C,'execute':_0x2daefb=>A[_0x2f0d0a(0x126)](_0x2daefb,_0x2a7b5d,_0x425870)});_0x39e030[_0x2f0d0a(0x130)](0xc8)[_0x2f0d0a(0x4ad)](_0x327035);})[_0x2aa9d8(0x35f)](this[_0x2aa9d8(0x413)](_0x2aa9d8(0x2d7)),..._0x2e0cf6,async(_0xb4cd95,_0x595500)=>{const _0x133bc1=_0x2aa9d8;let _0x364f7e=_0xb4cd95[_0x133bc1(0x306)];y[_0x133bc1(0x3b4)](_0x133bc1(0x443)),y[_0x133bc1(0x3b4)]('request\x20body:\x20'),y[_0x133bc1(0x3b4)](_0xb4cd95[_0x133bc1(0x306)]);let _0x4c91ab=await this[_0x133bc1(0x5ac)]({'request':_0xb4cd95,'schema':N,'ClassRef':C,'execute':_0x49aad2=>A[_0x133bc1(0x5a5)](_0x49aad2,_0x364f7e)});_0x595500[_0x133bc1(0x130)](0xc8)[_0x133bc1(0x4ad)](_0x4c91ab);})[_0x2aa9d8(0x209)](this['routerPath']('deleteflow'),..._0x2e0cf6,async(_0x10ce93,_0x31402a)=>{const _0x18cf7d=_0x2aa9d8;let _0x119a94=_0x10ce93[_0x18cf7d(0x306)],_0xc02fc5=_0x10ce93[_0x18cf7d(0x1d2)][_0x18cf7d(0x3f6)];y[_0x18cf7d(0x3b4)]('request\x20received\x20in\x20deleteFlow'),y[_0x18cf7d(0x3b4)]('request\x20body:\x20'),y['verbose'](_0x10ce93[_0x18cf7d(0x306)]);let _0x5a2c08=await this['dataValidate']({'request':_0x10ce93,'schema':N,'ClassRef':C,'execute':_0x4fd5d0=>A[_0x18cf7d(0x709)](_0x4fd5d0,_0x119a94,_0xc02fc5)});_0x31402a[_0x18cf7d(0x130)](0xc8)[_0x18cf7d(0x4ad)](_0x5a2c08);})['get'](this['routerPath'](_0x2aa9d8(0x5c2)),..._0x2e0cf6,async(_0x4b4207,_0x4e24e1)=>{const _0x1d7243=_0x2aa9d8;y[_0x1d7243(0x3b4)]('request\x20received\x20in\x20allFlows');let _0x3180c2=await this['dataValidate']({'request':_0x4b4207,'schema':N,'ClassRef':C,'execute':_0x2b0d42=>A[_0x1d7243(0x36a)](_0x2b0d42)});_0x4e24e1['status'](0xc8)['json'](_0x3180c2);});}},mo=T(require(a0_0x349dbc(0x6df))),Z={};function po(_0x569820,_0x27f4e2,_0x4e84a4,_0x442aaf){Z[_0x569820]||(Z[_0x569820]={}),Z[_0x569820][_0x27f4e2]={'id':_0x27f4e2,'response':_0x4e84a4,'events':_0x442aaf};}function ho(_0x23fb5c,_0x19dc51){!Z[_0x23fb5c]||!Z[_0x23fb5c][_0x19dc51]||delete Z[_0x23fb5c][_0x19dc51];}function U(_0x1dea7,_0x363c68,_0x5f37bc){const _0x2f7b1d=a0_0x349dbc;if(!Z[_0x1dea7])return;let _0x5da8d8=_0x2f7b1d(0x380)+JSON['stringify'](_0x5f37bc)+'\x0a\x0a';Object[_0x2f7b1d(0x533)](Z[_0x1dea7])[_0x2f7b1d(0x79a)](_0x54e451=>{const _0x47eb73=_0x2f7b1d;_0x54e451[_0x47eb73(0x398)][_0x47eb73(0x12d)](_0x363c68)&&_0x54e451[_0x47eb73(0x347)][_0x47eb73(0x58a)](_0x5da8d8);});}function go(){const _0x514ec7=a0_0x349dbc;let _0x170dbd={};for(let _0x3eb487 in Z)_0x170dbd[_0x3eb487]=Object[_0x514ec7(0x533)](Z[_0x3eb487])[_0x514ec7(0x568)](_0x4ae731=>({'id':_0x4ae731['id'],'events':_0x4ae731[_0x514ec7(0x398)]}));return _0x170dbd;}var fo=require(a0_0x349dbc(0xd7)),Es=require(a0_0x349dbc(0x758)),Cs=class{},yr=new Es[(a0_0x349dbc(0x16b))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),br=new Es[(a0_0x349dbc(0x16b))]({'_id':{'type':String,'default':a0_0x349dbc(0x765)},'WebhookGlobal':{'type':yr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=O?.[a0_0x349dbc(0x498)](Cs['name'],br,'All_Instances_Config'),Sr=mo[a0_0x349dbc(0x231)]['join'](__dirname,a0_0x349dbc(0x56c)),At=(0x0,$t[a0_0x349dbc(0x638)])(),Mr=b[a0_0x349dbc(0x2cd)]('AUTHENTICATION')[a0_0x349dbc(0x3bb)],ae=[Ma,Ca,Na[Mr]];At[a0_0x349dbc(0x681)]('/media',$t[a0_0x349dbc(0x231)][a0_0x349dbc(0x2d5)](Sr))[a0_0x349dbc(0x2cd)](a0_0x349dbc(0x752),async(_0x7f8219,_0x4f4cfc)=>{const _0x529e50=a0_0x349dbc;console[_0x529e50(0x37f)]('bateu\x20events');let _0x51bdc3=_0x7f8219[_0x529e50(0x236)][_0x529e50(0x6b9)],_0x1793a8=(_0x7f8219[_0x529e50(0x372)][_0x529e50(0x398)]||'')['split'](','),_0x2e2500=(0x0,fo['v4'])();console[_0x529e50(0x37f)](_0x529e50(0x1a4),_0x51bdc3),console[_0x529e50(0x37f)](_0x529e50(0x6c1),_0x1793a8);let _0x4e924b=b[_0x529e50(0x2cd)]('AUTHENTICATION')[_0x529e50(0x348)],_0x2ce8f0=_0x7f8219[_0x529e50(0x372)][_0x529e50(0x3f6)];if(console[_0x529e50(0x37f)](_0x529e50(0x386),_0x2ce8f0),_0x4e924b[_0x529e50(0x15f)]!==_0x2ce8f0){console[_0x529e50(0x37f)]('env.KEY\x20!==\x20key');try{let _0x36ebaf=await de['auth'][_0x529e50(0x3e0)](_0x51bdc3);if(console['log'](_0x529e50(0x181),_0x36ebaf),!_0x36ebaf||_0x36ebaf['apikey']!==_0x2ce8f0)return console[_0x529e50(0x37f)](_0x529e50(0x229)),_0x4f4cfc[_0x529e50(0x130)](0x191)['send'](_0x529e50(0x6c9));}catch(_0x27b9b3){return console[_0x529e50(0x552)](_0x529e50(0x3cb),_0x27b9b3),_0x4f4cfc['status'](0x191)[_0x529e50(0x6d5)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Xe(_0x51bdc3))return _0x4f4cfc[_0x529e50(0x130)](0x194)['send'](_0x529e50(0x2ed));_0x4f4cfc[_0x529e50(0x5d2)](_0x529e50(0x6a2),_0x529e50(0x207)),_0x4f4cfc[_0x529e50(0x5d2)](_0x529e50(0x617),_0x529e50(0x32b)),_0x4f4cfc[_0x529e50(0x5d2)](_0x529e50(0x6ae),_0x529e50(0x385)),_0x4f4cfc[_0x529e50(0x530)]();let _0xb15419='data:\x20'+JSON[_0x529e50(0x750)]({'info':_0x529e50(0x43d)})+'\x0a\x0a';_0x4f4cfc[_0x529e50(0x58a)](_0xb15419),po(_0x51bdc3,_0x2e2500,_0x4f4cfc,_0x1793a8),_0x7f8219['on'](_0x529e50(0x456),()=>{const _0x48592c=_0x529e50;console[_0x48592c(0x37f)](_0x48592c(0x1ee)+_0x51bdc3),ho(_0x51bdc3,_0x2e2500);});}),At['get']('/clients-info',(_0x57f46a,_0x45a291)=>{let _0x5657be=go();_0x45a291['json'](_0x5657be);})[a0_0x349dbc(0x2cd)]('/',(_0x3d6860,_0x15a732)=>{const _0x381b55=a0_0x349dbc;let _0x3b02ec=b[_0x381b55(0x2cd)]('SERVER')['URL'];if(_0x3b02ec){let _0x585ad7=encodeURIComponent(''+_0x3b02ec);_0x15a732[_0x381b55(0x39b)](_0x381b55(0x770)+_0x585ad7);return;}let _0x1ac87e=b[_0x381b55(0x2cd)](_0x381b55(0x390)),_0x207154=_0x1ac87e&&_0x1ac87e[_0x381b55(0x5e9)][_0x381b55(0x13d)]('/')[0x4];if(_0x207154){let _0x4c3bfa=encodeURIComponent(_0x381b55(0x3ca)+_0x207154);_0x15a732['redirect'](_0x381b55(0x770)+_0x4c3bfa);}else _0x15a732[_0x381b55(0x39b)](_0x381b55(0x4fd));})[a0_0x349dbc(0x3ec)]('/exit',...ae,async(_0x4d553f,_0x5e4d25)=>{const _0x58dc02=a0_0x349dbc;try{console[_0x58dc02(0x37f)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x5e4d25['status'](0xc8)[_0x58dc02(0x4ad)]({'message':_0x58dc02(0x290)}),_0x5e4d25['on'](_0x58dc02(0x279),()=>process[_0x58dc02(0x727)](0x0));}catch(_0x6cd71c){console[_0x58dc02(0x552)](_0x58dc02(0x5ad),_0x6cd71c),_0x5e4d25[_0x58dc02(0x130)](0x1f4)[_0x58dc02(0x4ad)]({'message':_0x58dc02(0x700)});}})[a0_0x349dbc(0x3ec)]('/config',...ae,async(_0x5d0ed0,_0x1efbc5)=>{const _0xfd5c43=a0_0x349dbc;try{let _0x2aa7e4=_0x5d0ed0[_0xfd5c43(0x306)];await Se[_0xfd5c43(0x36b)]({},{'$set':_0x2aa7e4},{'upsert':!0x0});let _0x39922d=await Se['findOne']();_0x1efbc5['json'](_0x39922d);}catch(_0x3d14b5){_0x1efbc5['status'](0x190)[_0xfd5c43(0x6d5)](_0x3d14b5[_0xfd5c43(0x180)]);}})[a0_0x349dbc(0x2cd)](a0_0x349dbc(0x51d),...ae,async(_0x4a000f,_0x43f62f)=>{const _0xc3f7d2=a0_0x349dbc;try{let _0x1c1248=await Se[_0xc3f7d2(0x1a0)]();if(!_0x1c1248)return _0x43f62f['json']({});_0x43f62f['json'](_0x1c1248);}catch(_0x2cbd05){_0x43f62f['status'](0x1f4)[_0xc3f7d2(0x6d5)](_0x2cbd05[_0xc3f7d2(0x180)]);}})['use']('/instance',new gt(b,...ae)[a0_0x349dbc(0x132)])[a0_0x349dbc(0x681)](a0_0x349dbc(0x417),new Nt(...ae)[a0_0x349dbc(0x132)])['use']('/chat',new ot(...ae)[a0_0x349dbc(0x132)])[a0_0x349dbc(0x681)](a0_0x349dbc(0x508),new ht(...ae)[a0_0x349dbc(0x132)])[a0_0x349dbc(0x681)](a0_0x349dbc(0x1fd),new Ot(...ae)['router'])[a0_0x349dbc(0x681)]('/automate',new Tt(...ae)[a0_0x349dbc(0x132)]);var m=class{constructor(..._0x4e0616){const _0x3f7cff=a0_0x349dbc;throw{'status':0x190,'error':_0x3f7cff(0x39a),'message':_0x4e0616[_0x3f7cff(0x2e0)]>0x0?_0x4e0616:void 0x0};}},se=class{constructor(..._0x1d4546){const _0x5cea8b=a0_0x349dbc;throw{'status':0x191,'error':'Unauthorized','message':_0x1d4546[_0x5cea8b(0x2e0)]>0x0?_0x1d4546:void 0x0};}},Q=class{constructor(..._0x1123ce){const _0x480115=a0_0x349dbc;throw{'status':0x193,'error':_0x480115(0x3f1),'message':_0x1123ce[_0x480115(0x2e0)]>0x0?_0x1123ce:void 0x0};}},J=class{constructor(..._0x2abefc){const _0x4a3625=a0_0x349dbc;throw{'status':0x194,'error':_0x4a3625(0x797),'message':_0x2abefc[_0x4a3625(0x2e0)]>0x0?_0x2abefc:void 0x0};}},I=class{constructor(..._0x4d2111){const _0x24a5a8=a0_0x349dbc;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x4d2111[_0x24a5a8(0x2e0)]>0x0?_0x4d2111:void 0x0};}},pe=require(a0_0x349dbc(0x4ce));async function vs(_0x3bfb4e){const _0x1cfe55=a0_0x349dbc;let _0x20472b=new R(vs[_0x1cfe55(0x246)]),_0x388367=O['getClient'](),_0x290bf3=_0x388367['db'](b[_0x1cfe55(0x2cd)]('DATABASE')[_0x1cfe55(0x450)][_0x1cfe55(0x63d)]+_0x1cfe55(0x2f3))[_0x1cfe55(0x148)](_0x3bfb4e),_0x467da6=async(_0x3d22b3,_0x54179d)=>{const _0x5523c8=_0x1cfe55;try{return await _0x388367['connect'](),await _0x290bf3['replaceOne']({'_id':_0x54179d},JSON[_0x5523c8(0xcc)](JSON[_0x5523c8(0x750)](_0x3d22b3,pe[_0x5523c8(0x42b)]['replacer'])),{'upsert':!0x0});}catch{}},_0x95c232=async _0x4676b8=>{const _0x644494=_0x1cfe55;try{await _0x388367[_0x644494(0x451)]();let _0x158277=await _0x290bf3[_0x644494(0x1a0)]({'_id':_0x4676b8}),_0x574fc2=JSON['stringify'](_0x158277);return JSON[_0x644494(0xcc)](_0x574fc2,pe[_0x644494(0x42b)][_0x644494(0x298)]);}catch{}},_0x761df3=async _0x16a302=>{const _0x1f1dca=_0x1cfe55;try{return await _0x388367[_0x1f1dca(0x451)](),await _0x290bf3[_0x1f1dca(0x22a)]({'_id':_0x16a302});}catch{}},_0x471fb6=await _0x95c232(_0x1cfe55(0x6d1))||(0x0,pe[_0x1cfe55(0x5be)])();return{'state':{'creds':_0x471fb6,'keys':{'get':async(_0x1deedd,_0x4872b4)=>{const _0xbca428=_0x1cfe55;let _0x1893c3={};return await Promise[_0xbca428(0x77f)](_0x4872b4['map'](async _0x2ddaa7=>{const _0x17b094=_0xbca428;let _0x31de0c=await _0x95c232(_0x1deedd+'-'+_0x2ddaa7);_0x1deedd===_0x17b094(0x3d2)&&_0x31de0c&&(_0x31de0c=pe[_0x17b094(0x487)][_0x17b094(0x458)]['AppStateSyncKeyData'][_0x17b094(0x701)](_0x31de0c)),_0x1893c3[_0x2ddaa7]=_0x31de0c;})),_0x1893c3;},'set':async _0x21c953=>{const _0x15f365=_0x1cfe55;let _0x588471=[];for(let _0x5b4772 in _0x21c953)for(let _0x392814 in _0x21c953[_0x5b4772]){let _0x3649d9=_0x21c953[_0x5b4772][_0x392814],_0x1c142f=_0x5b4772+'-'+_0x392814;_0x588471[_0x15f365(0x3fd)](_0x3649d9?_0x467da6(_0x3649d9,_0x1c142f):_0x761df3(_0x1c142f));}await Promise['all'](_0x588471);}}},'saveCreds':async()=>_0x467da6(_0x471fb6,_0x1cfe55(0x6d1))};}var $s=T(require(a0_0x349dbc(0x5e4))),As=T(require(a0_0x349dbc(0x3ea))),Dt=require(a0_0x349dbc(0x4ce)),wo=require(a0_0x349dbc(0x41c)),xt=require(a0_0x349dbc(0x4ce)),It;function Cr(_0x310d09){const _0x3d7ae8=a0_0x349dbc;return It||(It=(0x0,wo[_0x3d7ae8(0x600)])({'url':_0x310d09[_0x3d7ae8(0x3dd)]}),It[_0x3d7ae8(0x451)]()),It;}var le=class c{constructor(_0x49c270,_0x259218){const _0x1fa8ec=a0_0x349dbc;this['redisEnv']=_0x49c270,this[_0x1fa8ec(0x643)]=_0x259218,this[_0x1fa8ec(0x433)]=new R(c[_0x1fa8ec(0x246)]),this[_0x1fa8ec(0x785)]=Cr(_0x49c270);}set[a0_0x349dbc(0x36e)](_0xa0245b){const _0x31d3d5=a0_0x349dbc;this[_0x31d3d5(0x643)]=_0xa0245b;}async[a0_0x349dbc(0x366)](){const _0x3ead39=a0_0x349dbc;try{return await this[_0x3ead39(0x785)]['sendCommand'](['keys',this[_0x3ead39(0x38b)]['PREFIX_KEY']+':*']);}catch(_0x11bd93){this[_0x3ead39(0x433)][_0x3ead39(0x552)](_0x11bd93);}}async[a0_0x349dbc(0x2c2)](_0x108e05,_0x3575cf){const _0x12aeb1=a0_0x349dbc;try{let _0x5b7bb2=JSON['stringify'](_0x3575cf,xt[_0x12aeb1(0x42b)][_0x12aeb1(0x463)]);return await this['client'][_0x12aeb1(0x50f)](this[_0x12aeb1(0x38b)][_0x12aeb1(0x164)]+':'+this[_0x12aeb1(0x643)],_0x108e05,_0x5b7bb2);}catch(_0x2fe580){this[_0x12aeb1(0x433)][_0x12aeb1(0x552)](_0x2fe580);}}async[a0_0x349dbc(0x1c3)](){const _0x594638=a0_0x349dbc;try{let _0x5c642a=await this['client']['hGetAll'](this['redisEnv'][_0x594638(0x164)]+':'+this[_0x594638(0x643)]);if(_0x5c642a){for(let _0x45d1a3 in _0x5c642a)Object['prototype'][_0x594638(0x5c4)]['call'](_0x5c642a,_0x45d1a3)&&(_0x5c642a[_0x45d1a3]=JSON['parse'](_0x5c642a[_0x45d1a3],xt[_0x594638(0x42b)][_0x594638(0x298)]));return _0x5c642a;}}catch(_0x2dd547){this[_0x594638(0x433)][_0x594638(0x552)](_0x2dd547);}}async[a0_0x349dbc(0x577)](_0x4f9f92){const _0x337c5c=a0_0x349dbc;try{let _0x56c973=await this['client'][_0x337c5c(0x2fe)](this[_0x337c5c(0x38b)][_0x337c5c(0x164)]+':'+this[_0x337c5c(0x643)],_0x4f9f92);if(_0x56c973)return JSON[_0x337c5c(0xcc)](_0x56c973,xt[_0x337c5c(0x42b)][_0x337c5c(0x298)]);}catch(_0x33b070){this[_0x337c5c(0x433)]['error'](_0x33b070);}}async[a0_0x349dbc(0x3b0)](_0x4a2df1){const _0x63d8bb=a0_0x349dbc;try{return await this[_0x63d8bb(0x785)]['hDel'](this['redisEnv'][_0x63d8bb(0x164)]+':'+this[_0x63d8bb(0x643)],_0x4a2df1);}catch(_0x1e41f8){this[_0x63d8bb(0x433)][_0x63d8bb(0x552)](_0x1e41f8);}}async[a0_0x349dbc(0x33f)](_0x38f2bd){const _0x33d247=a0_0x349dbc;try{return await this[_0x33d247(0x785)][_0x33d247(0x176)](_0x38f2bd||this['redisEnv']['PREFIX_KEY']+':'+this[_0x33d247(0x643)]);}catch(_0xd8d156){this[_0x33d247(0x433)][_0x33d247(0x552)](_0xd8d156);}}};async function Ns(_0x1010ba,_0x1dce4d){const _0x4262df=a0_0x349dbc;let _0x6f5caf=new R(Ns['name']),_0x3a5577=new le(_0x1010ba,_0x1dce4d),_0x5c7231=async(_0xfe60b9,_0x646213)=>{const _0x5f2d19=a0_0x5444;try{return await _0x3a5577[_0x5f2d19(0x2c2)](_0x646213,_0xfe60b9);}catch(_0x1622b0){return _0x6f5caf['error']({'localError':_0x5f2d19(0x2c2),'error':_0x1622b0});}},_0x3a5ad4=async _0x226a4f=>{const _0xedad7c=a0_0x5444;try{return await _0x3a5577[_0xedad7c(0x577)](_0x226a4f);}catch(_0x292076){_0x6f5caf[_0xedad7c(0x552)]({'readData':_0xedad7c(0x2c2),'error':_0x292076});return;}},_0xd860dd=async _0x453882=>{const _0x3f72df=a0_0x5444;try{return await _0x3a5577[_0x3f72df(0x3b0)](_0x453882);}catch(_0x28b0bd){_0x6f5caf[_0x3f72df(0x552)]({'readData':_0x3f72df(0x3b0),'error':_0x28b0bd});}},_0x5e7186=await _0x3a5ad4(_0x4262df(0x6d1))||(0x0,Dt['initAuthCreds'])();return{'state':{'creds':_0x5e7186,'keys':{'get':async(_0x58ee91,_0x334924)=>{const _0x51cfd5=_0x4262df;let _0x97bd45={};return await Promise[_0x51cfd5(0x77f)](_0x334924[_0x51cfd5(0x568)](async _0x29dc76=>{const _0x2d276e=_0x51cfd5;let _0x59d9cc=await _0x3a5ad4(_0x58ee91+'-'+_0x29dc76);_0x58ee91===_0x2d276e(0x3d2)&&_0x59d9cc&&(_0x59d9cc=Dt['proto']['Message'][_0x2d276e(0x761)][_0x2d276e(0x701)](_0x59d9cc)),_0x97bd45[_0x29dc76]=_0x59d9cc;})),_0x97bd45;},'set':async _0x20aeb8=>{const _0x33a529=_0x4262df;let _0xe137af=[];for(let _0x5e0695 in _0x20aeb8)for(let _0xe3256e in _0x20aeb8[_0x5e0695]){let _0x23f4ca=_0x20aeb8[_0x5e0695][_0xe3256e],_0x2e182a=_0x5e0695+'-'+_0xe3256e;_0xe137af[_0x33a529(0x3fd)](_0x23f4ca?await _0x5c7231(_0x23f4ca,_0x2e182a):await _0xd860dd(_0x2e182a));}await Promise[_0x33a529(0x77f)](_0xe137af);}}},'saveCreds':async()=>await _0x5c7231(_0x5e7186,'creds')};}var j=T(require('fs')),jt=require(a0_0x349dbc(0xd7)),Lt=T(require(a0_0x349dbc(0x24a))),Ft=require(a0_0x349dbc(0x318)),Er='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x349dbc(0x349)](),_t=Er['split']('\x0a')[a0_0x349dbc(0x568)](_0x1b7e83=>{const _0x4f4620=a0_0x349dbc;let _0xfbc773=_0x1b7e83[_0x4f4620(0x13d)](':'),_0x7edc9={'host':_0xfbc773[0x0],'port':_0xfbc773[0x1],'protocol':_0x4f4620(0x5bc)};return _0xfbc773['length']===0x4&&(_0x7edc9[_0x4f4620(0x399)]=_0xfbc773[0x2],_0x7edc9[_0x4f4620(0x1f0)]=_0xfbc773[0x3]),_0x7edc9;});function yo(_0x417d13){const _0x9c26f9=a0_0x349dbc;return _t[_0x9c26f9(0x3e0)](_0x523438=>_0x523438['host']===_0x417d13)||null;}function bo(){const _0x512930=a0_0x349dbc;if(_t[_0x512930(0x2e0)]===0x0)return null;let _0x58a66f=Math[_0x512930(0x13e)](Math[_0x512930(0x49e)]()*_t[_0x512930(0x2e0)]);return _t[_0x58a66f];}function Rs(_0x1ce77e){const _0x3780fb=a0_0x349dbc;let _0x3a37a3=_0x2ac3b1=>typeof _0x2ac3b1==_0x3780fb(0x28d)&&_0x2ac3b1[_0x3780fb(0x2e0)]>0x0,_0x129579=_0x418dbc=>{let _0x26c4ee=parseInt(_0x418dbc,0xa);return!isNaN(_0x26c4ee)&&_0x26c4ee>0x0&&_0x26c4ee<=0xffff;},_0x3a6e25=_0x46a65b=>typeof _0x46a65b=='string'&&_0x46a65b['length']>0x0;return _0x1ce77e&&_0x3a37a3(_0x1ce77e[_0x3780fb(0x501)])&&_0x129579(_0x1ce77e[_0x3780fb(0x2a6)])&&(!_0x1ce77e[_0x3780fb(0x399)]||_0x3a6e25(_0x1ce77e[_0x3780fb(0x399)]))&&(!_0x1ce77e[_0x3780fb(0x1f0)]||_0x3a6e25(_0x1ce77e[_0x3780fb(0x1f0)]))&&(_0x1ce77e[_0x3780fb(0x19d)]===_0x3780fb(0x5bc)||_0x1ce77e['protocol']==='https');}var Ut=require(a0_0x349dbc(0x66e)),Is='Safari',No,ue=null,So=null,et=null,vr=0x3,Nr=null,ee=b['get']('AUTHENTICATION')['API_KEY'][a0_0x349dbc(0x15f)];async function Rr(){const _0x288548=a0_0x349dbc;let _0x568753=await Se['findOne']();ue=_0x568753?.[_0x288548(0x682)]??null,Nr=_0x568753?.[_0x288548(0x441)]??null,Is=_0x568753?.[_0x288548(0x44f)]??_0x288548(0x477),No=_0x568753?.['connectedName']??xs??_0x288548(0x273),console['log'](_0x568753);}async function Or(){await Rr();}Or();var Mo={},oe={},Me=class c{constructor(_0x55c1ba,_0x471f8e,_0x277ede){const _0x59e47f=a0_0x349dbc;this[_0x59e47f(0x593)]=_0x55c1ba,this[_0x59e47f(0x543)]=_0x471f8e,this[_0x59e47f(0x2ea)]=_0x277ede,this[_0x59e47f(0x11b)]=null,this[_0x59e47f(0x433)]=new R(c[_0x59e47f(0x246)]),this[_0x59e47f(0x6b9)]={},this[_0x59e47f(0x521)]={},this[_0x59e47f(0x40f)]={'state':'close'},this[_0x59e47f(0x66c)]=(0x0,F[_0x59e47f(0x71a)])(ne,_0x59e47f(0x56c)),this[_0x59e47f(0x45a)]=new As[(_0x59e47f(0x231))](),this[_0x59e47f(0x5e1)]=new As[(_0x59e47f(0x231))](),this['endSession']=!0x1,this[_0x59e47f(0x459)]={'status.instance':_0x59e47f(0x311),'connection.update':_0x59e47f(0x311),'qrcode.updated':_0x59e47f(0x1c0),'messages.upsert':_0x59e47f(0x673),'send.message':'/wa-message','messages.update':_0x59e47f(0x1a7),'group.upsert':_0x59e47f(0x628),'group.update':_0x59e47f(0x628),'group-participants.update':_0x59e47f(0x628),'messages.set':_0x59e47f(0x5c7),'contacts.set':_0x59e47f(0x410),'contacts.upsert':_0x59e47f(0x410),'contacts.update':_0x59e47f(0x410),'presence.update':'/wa-presence','chats.set':_0x59e47f(0x143),'chats.update':_0x59e47f(0x143),'chats.upsert':_0x59e47f(0x143),'chats.delete':_0x59e47f(0x143)},this['reconnectAttempts']=0x0,this[_0x59e47f(0x329)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this[_0x59e47f(0x557)]=0xea60,this[_0x59e47f(0x19b)]=!0x1,this[_0x59e47f(0x67e)]={'chats.upsert':async(_0x2cc0a4,_0x520463)=>{const _0x3e7629=_0x59e47f;let _0x18ca7e=[];for await(let _0x543d42 of _0x2cc0a4)_0x18ca7e[_0x3e7629(0x3fd)]({'_id':_0x543d42['id'],'owner':this[_0x3e7629(0x6b9)][_0x3e7629(0x387)],'group':_0x543d42['id'][_0x3e7629(0x46e)]('@g.us'),'name':_0x543d42['name']||_0x543d42[_0x3e7629(0x5ee)]||null,'contactname':null,'lastmsg':_0x543d42[_0x3e7629(0x64e)]&&_0x543d42[_0x3e7629(0x64e)][_0x3e7629(0x343)]()[_0x3e7629(0x2e0)]<0xd?_0x543d42[_0x3e7629(0x64e)]*0x3e8:_0x543d42['conversationTimestamp']||null,'archived':_0x543d42[_0x3e7629(0x322)]||!0x1,'unreadcount':_0x543d42[_0x3e7629(0x4ab)]||0x0,'ephemeralExpiration':_0x543d42[_0x3e7629(0x11c)]||0x0});this['sendDataWebhook'](_0x3e7629(0x6c4),_0x18ca7e);},'chats.update':async(_0x50f30b,_0x934ae6)=>{const _0x4b5d2f=_0x59e47f;for(let _0x33d7df of _0x50f30b){let _0xe3206b={'_id':_0x33d7df['id'],'owner':this[_0x4b5d2f(0x6b9)][_0x4b5d2f(0x387)],'archived':_0x33d7df['archived'],'muteEndTime':_0x33d7df[_0x4b5d2f(0x757)],'ephemeralExpiration':_0x33d7df['ephemeralExpiration']},_0x376ad1=!0x1,_0x332899={};_0xe3206b[_0x4b5d2f(0x322)]!=null&&(this[_0x4b5d2f(0x433)]['verbose'](this[_0x4b5d2f(0x643)]+'\x20('+this[_0x4b5d2f(0x6b9)][_0x4b5d2f(0x387)]+_0x4b5d2f(0x618)+_0x33d7df['id']+_0x4b5d2f(0x65b)+_0x33d7df[_0x4b5d2f(0x322)]),_0x376ad1=!0x0,_0x332899['archived']=_0x33d7df[_0x4b5d2f(0x322)]),_0x4b5d2f(0x757)in _0x33d7df&&(this[_0x4b5d2f(0x433)][_0x4b5d2f(0x3b4)](this[_0x4b5d2f(0x643)]+'\x20('+this[_0x4b5d2f(0x6b9)]['wuid']+_0x4b5d2f(0x6ee)+_0x33d7df['id']+_0x4b5d2f(0x65b)+(_0x33d7df[_0x4b5d2f(0x757)]??'0')),_0x376ad1=!0x0,_0x332899[_0x4b5d2f(0x757)]=_0x33d7df[_0x4b5d2f(0x757)]??0x0),_0x4b5d2f(0x11c)in _0x33d7df&&(this['logger'][_0x4b5d2f(0x3b4)](this[_0x4b5d2f(0x643)]+'\x20('+this[_0x4b5d2f(0x6b9)][_0x4b5d2f(0x387)]+_0x4b5d2f(0x4ff)+_0x33d7df['id']+'\x20:\x20'+(_0x33d7df[_0x4b5d2f(0x11c)]!==void 0x0?_0x33d7df[_0x4b5d2f(0x11c)]:_0x4b5d2f(0x5d1))),_0x332899['ephemeralExpiration']=_0x33d7df['ephemeralExpiration']===null?0x0:_0x33d7df[_0x4b5d2f(0x11c)],_0x376ad1=!0x0);let _0x22c019;_0x376ad1&&(_0x22c019=await this[_0x4b5d2f(0x2ea)][_0x4b5d2f(0x429)][_0x4b5d2f(0x36b)]({'where':{'_id':_0x33d7df['id']}},_0x332899,this[_0x4b5d2f(0x6b9)][_0x4b5d2f(0x387)])),_0x22c019&&U(this[_0x4b5d2f(0x643)],_0x4b5d2f(0x1b9),{'chat':_0x22c019});}},'chats.delete':async _0x4b8e81=>{const _0x5e1c59=_0x59e47f;for(let _0x2dbd8f of _0x4b8e81)if(_0x2dbd8f[_0x5e1c59(0x46e)](_0x5e1c59(0x25b))){await this[_0x5e1c59(0x2ea)][_0x5e1c59(0x429)][_0x5e1c59(0x209)]({'where':{'_id':_0x2dbd8f}},this[_0x5e1c59(0x6b9)][_0x5e1c59(0x387)]);let _0x472cec={'where':{'key':{'remoteJid':_0x2dbd8f}}};await this[_0x5e1c59(0x2ea)][_0x5e1c59(0x180)][_0x5e1c59(0x209)](_0x472cec,this[_0x5e1c59(0x6b9)][_0x5e1c59(0x387)]);}else{await this[_0x5e1c59(0x2ea)][_0x5e1c59(0x429)][_0x5e1c59(0x36b)]({'where':{'_id':_0x2dbd8f}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5e1c59(0x6b9)][_0x5e1c59(0x387)]);let _0x4739fa={'where':{'key':{'remoteJid':_0x2dbd8f}}};await this[_0x5e1c59(0x2ea)][_0x5e1c59(0x180)][_0x5e1c59(0x209)](_0x4739fa,this[_0x5e1c59(0x6b9)][_0x5e1c59(0x387)]);}this[_0x5e1c59(0xf2)]('chats.delete',[..._0x4b8e81]);}},this[_0x59e47f(0x116)]={'contacts.upsert':async(_0x4faa67,_0x406241)=>{const _0x322510=_0x59e47f;let _0x1cb819=await this[_0x322510(0x2ea)][_0x322510(0x6d3)][_0x322510(0x3e0)]({'where':{}},this['instance'][_0x322510(0x387)]),_0x419e43=[];for await(let _0x5c276a of _0x4faa67)_0x1cb819[_0x322510(0x3e0)](_0x58f0d1=>_0x58f0d1['_id']===_0x5c276a['id'])||_0x419e43[_0x322510(0x3fd)]({'_id':_0x5c276a['id'],'pushName':_0x5c276a?.['name']||_0x5c276a?.[_0x322510(0x157)],'owner':this[_0x322510(0x6b9)][_0x322510(0x387)]});this[_0x322510(0xf2)](_0x322510(0x175),_0x419e43),await this['repository']['contact'][_0x322510(0x24d)](_0x419e43);},'contacts.update':async(_0x9c582f,_0x4cf0fb)=>{const _0x3ad682=_0x59e47f;let _0x59cbc4=[];for await(let _0x279c75 of _0x9c582f)_0x59cbc4[_0x3ad682(0x3fd)]({'_id':_0x279c75['id'],'pushName':_0x279c75?.[_0x3ad682(0x246)]??_0x279c75?.[_0x3ad682(0x157)],'owner':this['instance']['wuid']});this[_0x3ad682(0xf2)](_0x3ad682(0x17b),_0x59cbc4);}},this[_0x59e47f(0x3b7)]={'messaging-history.set':async({messages:_0x5e3ce2,chats:_0x53d3ce,isLatest:_0x15cf52},_0x3d2ee0)=>{const _0x5a9bb5=_0x59e47f;if(_0x15cf52){let _0x5ef0c7=await Promise[_0x5a9bb5(0x77f)](_0x53d3ce[_0x5a9bb5(0x568)](async _0x5a48ed=>({'_id':_0x5a48ed['id'],'owner':this[_0x5a9bb5(0x6b9)][_0x5a9bb5(0x387)],'group':_0x5a48ed['id'][_0x5a9bb5(0x46e)](_0x5a9bb5(0x25b)),'name':_0x5a48ed[_0x5a9bb5(0x246)]||_0x5a48ed['displayName']||_0x5a48ed[_0x5a9bb5(0x399)]||null,'contactname':null,'lastmsg':_0x5a48ed[_0x5a9bb5(0x64e)]&&_0x5a48ed[_0x5a9bb5(0x64e)]['toString']()[_0x5a9bb5(0x2e0)]<0xd?_0x5a48ed['conversationTimestamp']*0x3e8:_0x5a48ed[_0x5a9bb5(0x64e)]||null,'archived':_0x5a48ed['archived']||!0x1,'unreadcount':_0x5a48ed[_0x5a9bb5(0x4ab)]||0x0,'ephemeralExpiration':_0x5a48ed[_0x5a9bb5(0x11c)]||0x0,'muteEndTime':_0x5a48ed['muteEndTime']||0x0})));this['sendDataWebhook'](_0x5a9bb5(0x583),_0x5ef0c7),await this[_0x5a9bb5(0x1cb)](_0x5ef0c7,_0x3d2ee0);}let _0xc3aaec=[],_0x4a585c=Date[_0x5a9bb5(0x6db)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x393eb3]of Object[_0x5a9bb5(0x6a3)](_0x5e3ce2)){if(_0x393eb3[_0x5a9bb5(0x180)]?.[_0x5a9bb5(0x2e8)]||_0x393eb3[_0x5a9bb5(0x180)]?.['senderKeyDistributionMessage']||!_0x393eb3[_0x5a9bb5(0x180)]||_0x393eb3[_0x5a9bb5(0xc0)][_0x5a9bb5(0x185)]===_0x5a9bb5(0x5e5)||($s[_0x5a9bb5(0x231)][_0x5a9bb5(0x669)](_0x393eb3?.[_0x5a9bb5(0x5f7)])&&(_0x393eb3[_0x5a9bb5(0x5f7)]=_0x393eb3[_0x5a9bb5(0x5f7)]?.[_0x5a9bb5(0x549)]()),_0x393eb3[_0x5a9bb5(0x5f7)]&&_0x393eb3[_0x5a9bb5(0x5f7)][_0x5a9bb5(0x343)]()[_0x5a9bb5(0x2e0)]<0xd&&(_0x393eb3[_0x5a9bb5(0x5f7)]=_0x393eb3[_0x5a9bb5(0x5f7)]*0x3e8),_0x393eb3['messageTimestamp']<_0x4a585c))continue;let _0x484342=(0x0,f[_0x5a9bb5(0x449)])(_0x393eb3[_0x5a9bb5(0x180)]),_0x556558=(0x0,f[_0x5a9bb5(0x4d3)])(_0x484342),{message_normalized:_0x3104f1}=this['normalizeMessage'](_0x484342,_0x556558,null);Object[_0x5a9bb5(0x4a4)](_0x3104f1)['length']>0x0&&_0xc3aaec[_0x5a9bb5(0x3fd)]({'_id':_0x393eb3[_0x5a9bb5(0xc0)]['id'],'key':_0x393eb3[_0x5a9bb5(0xc0)],'pushName':_0x393eb3['pushName'],'participant':_0x393eb3[_0x5a9bb5(0x27a)],'message':_0x484342,'messageType':_0x556558,'message_normalized':{'key':_0x393eb3['key'],'pushName':_0x393eb3[_0x5a9bb5(0x79d)],'messageTimestamp':_0x393eb3['messageTimestamp'],..._0x3104f1},'messageTimestamp':_0x393eb3[_0x5a9bb5(0x5f7)],'owner':this[_0x5a9bb5(0x6b9)]['wuid']});}_0x3d2ee0[_0x5a9bb5(0x108)]&&_0xc3aaec[_0x5a9bb5(0x2e0)]>0x0&&(this['logger'][_0x5a9bb5(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x5a9bb5(0x387)]+_0x5a9bb5(0x56b)+_0xc3aaec[_0x5a9bb5(0x2e0)]+_0x5a9bb5(0x763)+this['instance'][_0x5a9bb5(0x387)]+_0x5a9bb5(0x511)),await this[_0x5a9bb5(0x2ea)][_0x5a9bb5(0x180)][_0x5a9bb5(0x24d)]([..._0xc3aaec],this['instance'][_0x5a9bb5(0x387)])),this[_0x5a9bb5(0xf2)]('messages.set',[..._0xc3aaec]),_0x5e3ce2=void 0x0;},'messages.upsert':async({messages:_0x1b2bbc,type:_0x53d34f},_0xf88c86)=>{const _0xb7d4ec=_0x59e47f;let _0x17a4ce=_0x1b2bbc[0x0],_0x357199=_0x17a4ce[_0xb7d4ec(0xc0)]['id'],_0x56c04b=_0x17a4ce[_0xb7d4ec(0x213)]===0x2,_0x2e2837=0xb;if(this[_0xb7d4ec(0x521)]?.['groups_ignore']&&_0x17a4ce[_0xb7d4ec(0xc0)][_0xb7d4ec(0x185)][_0xb7d4ec(0x12d)](_0xb7d4ec(0x25b))){this[_0xb7d4ec(0x433)][_0xb7d4ec(0x3b4)](this[_0xb7d4ec(0x643)]+'\x20('+this['instance'][_0xb7d4ec(0x387)]+_0xb7d4ec(0xdf));return;}if(_0x56c04b){if(oe[_0x357199]||(oe[_0x357199]=0x0),oe[_0x357199]++,this['logger'][_0xb7d4ec(0x552)](this[_0xb7d4ec(0x643)]+'\x20('+this[_0xb7d4ec(0x6b9)][_0xb7d4ec(0x387)]+_0xb7d4ec(0xcf)+_0x17a4ce[_0xb7d4ec(0xc0)][_0xb7d4ec(0x185)]+_0xb7d4ec(0x53d)+_0x357199+':\x20'+oe[_0x357199]+'/'+_0x2e2837),oe[_0x357199]>=_0x2e2837){this[_0xb7d4ec(0x433)]['error'](this[_0xb7d4ec(0x643)]+'\x20('+this['instance']['wuid']+_0xb7d4ec(0x4e0)+_0x17a4ce['key'][_0xb7d4ec(0x185)]+'\x20e\x20ID='+_0x357199+'.');let _0x5e075f={'key':{..._0x17a4ce[_0xb7d4ec(0xc0)]},'message':{'conversation':_0xb7d4ec(0x428)+_0x357199+_0xb7d4ec(0x10e)}};this[_0xb7d4ec(0x785)]['ev'][_0xb7d4ec(0x514)](_0xb7d4ec(0x36f),{'messages':[_0x5e075f],'type':'notify'}),delete oe[_0x357199];}}else oe[_0x357199]&&(this[_0xb7d4ec(0x433)][_0xb7d4ec(0x6ad)](_0xb7d4ec(0x3ad)+oe[_0x357199]+'\x20tentativas:\x20remotejid='+_0x17a4ce[_0xb7d4ec(0xc0)]['remoteJid']+_0xb7d4ec(0x53d)+_0x357199),delete oe[_0x357199]);if(_0x53d34f!==_0xb7d4ec(0x69c)||!_0x17a4ce?.[_0xb7d4ec(0x180)]||_0x17a4ce[_0xb7d4ec(0x180)]?.['protocolMessage']||_0x17a4ce[_0xb7d4ec(0x180)][_0xb7d4ec(0x7a4)]||_0x17a4ce['key'][_0xb7d4ec(0x185)]==='status@broadcast')return;let _0x39568d=null,_0x365742=null;try{_0x39568d=await this[_0xb7d4ec(0x24c)](_0x17a4ce),_0x365742=_0x39568d?_0x39568d[_0xb7d4ec(0x71a)](','):null;}catch(_0x2e8f98){this['logger'][_0xb7d4ec(0x3b4)](this[_0xb7d4ec(0x643)]+'\x20('+this[_0xb7d4ec(0x6b9)][_0xb7d4ec(0x387)]+_0xb7d4ec(0x56b)+(_0x2e8f98 instanceof Error?_0x2e8f98[_0xb7d4ec(0x180)]:JSON[_0xb7d4ec(0x750)](_0x2e8f98,null,0x2))),_0x365742='error\x20get\x20vote';}this['client'][_0xb7d4ec(0x391)](_0xb7d4ec(0x5ae)),$s['default'][_0xb7d4ec(0x669)](_0x17a4ce[_0xb7d4ec(0x5f7)])&&(_0x17a4ce[_0xb7d4ec(0x5f7)]=_0x17a4ce['messageTimestamp']?.['toNumber']()),_0x17a4ce[_0xb7d4ec(0x5f7)]&&_0x17a4ce[_0xb7d4ec(0x5f7)][_0xb7d4ec(0x343)]()['length']<0xd&&(_0x17a4ce[_0xb7d4ec(0x5f7)]=_0x17a4ce[_0xb7d4ec(0x5f7)]*0x3e8);let _0x3a3922=_0x17a4ce[_0xb7d4ec(0x180)],_0x479458=(0x0,f['normalizeMessageContent'])(_0x3a3922),_0x5f4055=(0x0,f[_0xb7d4ec(0x4d3)])(_0x479458),{messageContent:_0x4a1400,message_normalized:_0x4ccbc2}=this[_0xb7d4ec(0x4e6)](_0x479458,_0x5f4055,_0x365742);_0x5f4055===_0xb7d4ec(0x2e8)&&_0x4a1400?.[_0xb7d4ec(0x34e)]&&(_0x5f4055=_0xb7d4ec(0x34e));let _0x4c3370,_0x5cc7c5=_0x17a4ce[_0xb7d4ec(0xc0)]['remoteJid']['endsWith'](_0xb7d4ec(0x25b));if(_0x17a4ce[_0xb7d4ec(0xc0)][_0xb7d4ec(0x73c)])_0x4c3370=this['instance'][_0xb7d4ec(0x6d2)];else{let _0x229258=_0x5cc7c5?_0x17a4ce[_0xb7d4ec(0xc0)][_0xb7d4ec(0x27a)]:_0x17a4ce['key']['remoteJid'];_0x4c3370=(await this[_0xb7d4ec(0x303)](_0x229258,_0x17a4ce[_0xb7d4ec(0x79d)],!0x1))[_0xb7d4ec(0x65c)][_0xb7d4ec(0x1fe)];}let _0x3ecc75={'_id':_0x17a4ce['key']['id'],'key':_0x17a4ce[_0xb7d4ec(0xc0)],'isGroup':_0x5cc7c5,'profilePictureUrl':_0x4c3370,'pushName':_0x17a4ce[_0xb7d4ec(0x79d)],'message':_0x479458,'messageType':_0x5f4055,'message_normalized':{'key':_0x17a4ce['key'],'pushName':_0x17a4ce[_0xb7d4ec(0x79d)],'messageTimestamp':_0x17a4ce[_0xb7d4ec(0x5f7)],'source':(0x0,f[_0xb7d4ec(0x400)])(_0x17a4ce[_0xb7d4ec(0xc0)]['id']),..._0x4ccbc2},'messageTimestamp':_0x17a4ce[_0xb7d4ec(0x5f7)],'owner':this['instance']['wuid'],'source':(0x0,f[_0xb7d4ec(0x400)])(_0x17a4ce[_0xb7d4ec(0xc0)]['id']),'expiration':_0x4a1400?.[_0xb7d4ec(0x2ac)]?.[_0xb7d4ec(0x407)]||0x0};_0x4a1400||(console[_0xb7d4ec(0x552)]('Mensagem\x20não\x20suportada'),this[_0xb7d4ec(0x433)]['error'](_0x3ecc75)),this[_0xb7d4ec(0x433)][_0xb7d4ec(0x37f)](this['instanceName']+'\x20('+this[_0xb7d4ec(0x6b9)]['wuid']+_0xb7d4ec(0x56b)+(_0x3ecc75[_0xb7d4ec(0xc0)]?.[_0xb7d4ec(0x73c)]?_0xb7d4ec(0x2fc):_0xb7d4ec(0x2c1))+'\x20['+_0x3ecc75[_0xb7d4ec(0xc0)]?.[_0xb7d4ec(0x185)][_0xb7d4ec(0x1b7)](_0xb7d4ec(0x42f),'')+']\x20('+_0x3ecc75[_0xb7d4ec(0x194)]+')'),_0x3ecc75[_0xb7d4ec(0x518)]?.[_0xb7d4ec(0x2e7)]&&this[_0xb7d4ec(0x433)][_0xb7d4ec(0x37f)](_0x357199+':\x20'+_0x3ecc75['message_normalized']?.['text']),await this[_0xb7d4ec(0x2ea)][_0xb7d4ec(0x180)][_0xb7d4ec(0x24d)]([_0x3ecc75],this[_0xb7d4ec(0x6b9)]['wuid']),this[_0xb7d4ec(0xf2)](_0xb7d4ec(0x36f),_0x3ecc75),U(this['instanceName'],'messages',{'message':_0x3ecc75}),_0x17a4ce['key'][_0xb7d4ec(0x185)]!=='status@broadcast'&&await this[_0xb7d4ec(0x152)](_0xf88c86,_0x3ecc75,_0xb7d4ec(0x29d));},'messages.update':async(_0x59f1b2,_0x358287)=>{const _0x3c62e5=_0x59e47f;let _0x49b8e5={0x0:_0x3c62e5(0x444),0x1:_0x3c62e5(0x538),0x2:_0x3c62e5(0x2b9),0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x3c62e5(0x676)};for await(let {key:_0x14aa2e,update:_0x293c66}of _0x59f1b2){if(this['localWebhook']?.['groups_ignore']&&_0x14aa2e['remoteJid']['includes'](_0x3c62e5(0x25b))){this['logger'][_0x3c62e5(0x3b4)](this[_0x3c62e5(0x643)]+'\x20('+this[_0x3c62e5(0x6b9)][_0x3c62e5(0x387)]+_0x3c62e5(0x74a));return;}if(_0x14aa2e['remoteJid']!==_0x3c62e5(0x5e5)){let _0x1446af=Date[_0x3c62e5(0x6db)](),_0x1c5d03;_0x293c66['message']===null&&_0x293c66['status']===void 0x0?_0x1c5d03='DELETED':_0x1c5d03=_0x49b8e5[_0x293c66[_0x3c62e5(0x130)]];let _0xff6472=_0x14aa2e[_0x3c62e5(0x185)][_0x3c62e5(0x1b7)](/:\d{1,2}@/g,'@'),_0x4f62df={..._0x14aa2e,'remoteJid':_0xff6472,'status':_0x1c5d03,'datetime':_0x1446af,'owner':this[_0x3c62e5(0x6b9)]['wuid']};this[_0x3c62e5(0xf2)](_0x3c62e5(0x479),_0x4f62df),await this[_0x3c62e5(0x30f)](_0x14aa2e,_0x4f62df);}}},'labels.association':async({type:_0x4906ca,association:_0x83b095})=>{const _0x3f72a4=_0x59e47f;if(_0x83b095[_0x3f72a4(0x3cc)]===_0x3f72a4(0x5f9)){let _0x50a534,_0x5bf319=0x0;for(;!_0x50a534&&_0x5bf319<this[_0x3f72a4(0x605)];)_0x50a534=await this[_0x3f72a4(0x2ea)][_0x3f72a4(0x429)][_0x3f72a4(0x1a0)]({'where':{'_id':_0x83b095[_0x3f72a4(0x73f)]}},this[_0x3f72a4(0x6b9)][_0x3f72a4(0x387)]),_0x50a534||(_0x5bf319++,this['logger'][_0x3f72a4(0x6f9)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3f72a4(0x637)+_0x83b095['chatId']+_0x3f72a4(0x576)+this[_0x3f72a4(0x796)]+'ms\x20(tentativa\x20'+_0x5bf319+'/'+this[_0x3f72a4(0x605)]+')'),await this[_0x3f72a4(0x2a7)](this[_0x3f72a4(0x796)]));if(!_0x50a534){console[_0x3f72a4(0x552)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x83b095[_0x3f72a4(0x73f)]+_0x3f72a4(0x481)+this[_0x3f72a4(0x605)]+_0x3f72a4(0xca));return;}switch(_0x4906ca){case _0x3f72a4(0x4b4):console[_0x3f72a4(0x37f)](_0x83b095),await this[_0x3f72a4(0x2ea)][_0x3f72a4(0x429)]['updateOne']({'where':{'_id':_0x83b095[_0x3f72a4(0x73f)]}},{'leadInfo.etiquetas':_0x83b095[_0x3f72a4(0x680)]},this['instance'][_0x3f72a4(0x387)],void 0x0,_0x3f72a4(0x64c));break;case _0x3f72a4(0x650):console['log'](_0x83b095),await this[_0x3f72a4(0x2ea)][_0x3f72a4(0x429)][_0x3f72a4(0x36b)]({'where':{'_id':_0x83b095['chatId']}},{'leadInfo.etiquetas':_0x83b095[_0x3f72a4(0x680)]},this['instance']['wuid'],void 0x0,_0x3f72a4(0x4cb));break;default:console[_0x3f72a4(0x552)](_0x3f72a4(0x5ea)+_0x4906ca+']');}}},'labels.edit':async _0x4343a2=>{const _0x4f95f3=_0x59e47f;if(!_0x4343a2||!_0x4343a2['id']){console[_0x4f95f3(0x552)](_0x4f95f3(0x171));return;}if(!_0x4343a2[_0x4f95f3(0x4a0)]){let _0x4b1de5=[_0x4f95f3(0x313),_0x4f95f3(0x3b5),_0x4f95f3(0x692),_0x4f95f3(0x13c),_0x4f95f3(0x4dd),_0x4f95f3(0x473),_0x4f95f3(0x799),_0x4f95f3(0x2ba),_0x4f95f3(0x230),_0x4f95f3(0x354),_0x4f95f3(0x5d0),_0x4f95f3(0x493),_0x4f95f3(0x783),_0x4f95f3(0x340),_0x4f95f3(0x3fe),_0x4f95f3(0x599),'#ffae04',_0x4f95f3(0x319),'#9ba6ff',_0x4f95f3(0x300)],_0x2b8378;typeof _0x4343a2[_0x4f95f3(0x4d1)]==_0x4f95f3(0x234)&&_0x4343a2[_0x4f95f3(0x4d1)]>=0x0&&_0x4343a2['color']<_0x4b1de5[_0x4f95f3(0x2e0)]?_0x2b8378=_0x4b1de5[_0x4343a2[_0x4f95f3(0x4d1)]]:(console[_0x4f95f3(0x552)](_0x4f95f3(0x781),_0x4343a2[_0x4f95f3(0x4d1)]),_0x2b8378=_0x4f95f3(0x16a));let _0x1db1d5={'_id':_0x4343a2['id'],'colorHex':_0x2b8378,'color':_0x4343a2?.[_0x4f95f3(0x4d1)],'name':_0x4343a2?.[_0x4f95f3(0x246)],'owner':this['instance'][_0x4f95f3(0x387)]};await this[_0x4f95f3(0x2ea)][_0x4f95f3(0x2c4)]['updateOne']({'where':{'_id':_0x4343a2['id']}},_0x1db1d5,this[_0x4f95f3(0x6b9)][_0x4f95f3(0x387)]),this['logger'][_0x4f95f3(0x6f9)](this[_0x4f95f3(0x643)]+'\x20('+this['instance'][_0x4f95f3(0x387)]+_0x4f95f3(0x496)+_0x4343a2);}_0x4343a2['deleted']&&(await this[_0x4f95f3(0x2ea)][_0x4f95f3(0x2c4)][_0x4f95f3(0x209)]({'where':{'_id':_0x4343a2['id']}},this[_0x4f95f3(0x6b9)][_0x4f95f3(0x387)]),this[_0x4f95f3(0x433)][_0x4f95f3(0x6f9)]('Rótulo\x20deletado:\x27,\x20'+_0x4343a2['id']));}},this['groupHandler']={'groups.upsert':async _0x6f62f8=>{const _0x21d08d=_0x59e47f;this[_0x21d08d(0x521)]?.[_0x21d08d(0x760)]||this[_0x21d08d(0xf2)](_0x21d08d(0x19e),_0x6f62f8);for(let _0x1719a6 of _0x6f62f8)await this[_0x21d08d(0x5ed)](_0x1719a6);},'groups.update':async _0x3dabc2=>{const _0x7dafba=_0x59e47f;this[_0x7dafba(0x521)]?.[_0x7dafba(0x760)]||this['sendDataWebhook'](_0x7dafba(0x235),_0x3dabc2);for(let _0x35c72d of _0x3dabc2)await this[_0x7dafba(0x5ed)](_0x35c72d);},'group-participants.update':async _0x374f2e=>{const _0x129fd9=_0x59e47f;this[_0x129fd9(0x521)]?.[_0x129fd9(0x760)]||this['sendDataWebhook']('group-participants.update',_0x374f2e),await this['updateGroupParticipantsWebhook'](_0x374f2e);}},this[_0x59e47f(0x605)]=0x5,this[_0x59e47f(0x796)]=0x1388,this[_0x59e47f(0x24c)]=async _0x577104=>{const _0x39f2ec=_0x59e47f;if(_0x577104[_0x39f2ec(0x180)]?.[_0x39f2ec(0x739)]){let _0x392459=await this[_0x39f2ec(0x507)](_0x577104[_0x39f2ec(0x180)][_0x39f2ec(0x739)][_0x39f2ec(0x11f)],!0x0);if(_0x392459){let _0x464371=_0x392459[_0x39f2ec(0xc0)]['fromMe']?this[_0x39f2ec(0x6b9)]['wuid']+_0x39f2ec(0x42f):_0x392459[_0x39f2ec(0xc0)][_0x39f2ec(0x27a)]||_0x392459[_0x39f2ec(0xc0)]['remoteJid'],_0x414fa7=_0x392459[_0x39f2ec(0xc0)]['id'],_0x16253c=_0x392459[_0x39f2ec(0x180)],_0x5dacab=Buffer[_0x39f2ec(0x6eb)](_0x16253c[_0x39f2ec(0x3b6)][_0x39f2ec(0x668)]['toString'](_0x39f2ec(0x48a)),_0x39f2ec(0x48a)),_0x57383b=(0x0,f[_0x39f2ec(0x768)])(_0x577104['message'][_0x39f2ec(0x739)][_0x39f2ec(0xc1)],{'pollCreatorJid':_0x464371,'pollMsgId':_0x414fa7,'pollEncKey':_0x5dacab,'voterJid':_0x577104['key'][_0x39f2ec(0x73c)]?this[_0x39f2ec(0x6b9)]['wuid']+_0x39f2ec(0x42f):_0x577104[_0x39f2ec(0xc0)][_0x39f2ec(0x185)][_0x39f2ec(0x46e)](_0x39f2ec(0x3a2))?_0x577104[_0x39f2ec(0xc0)][_0x39f2ec(0x27a)]:_0x577104[_0x39f2ec(0xc0)][_0x39f2ec(0x185)]}),_0x14fde7=[],_0x4311fb=_0x57383b[_0x39f2ec(0x39e)][_0x39f2ec(0x568)](_0x5f2896=>Buffer['from'](_0x5f2896)[_0x39f2ec(0x343)](_0x39f2ec(0x48a)));for(let {optionName:_0x29530b}of _0x16253c['pollCreationMessage']?.[_0x39f2ec(0x685)]||_0x16253c['pollCreationMessageV3']?.['options']||_0x16253c[_0x39f2ec(0x2c3)]?.[_0x39f2ec(0x685)])_0x4311fb[_0x39f2ec(0x37b)]((0x0,f[_0x39f2ec(0x42d)])(Buffer[_0x39f2ec(0x6eb)](_0x29530b))[_0x39f2ec(0x343)]('hex'))>-0x1&&_0x14fde7[_0x39f2ec(0x3fd)](_0x29530b);return _0x14fde7;}}return null;},this[_0x59e47f(0x4e6)]=(_0x176093,_0x2cf5ae,_0xf98290)=>{const _0xc449ca=_0x59e47f;try{let _0x1ad396=_0x176093?(0x0,f[_0xc449ca(0x4fc)])(_0x176093)[_0x2cf5ae]:void 0x0,_0xbab5af={},_0x19f5f7=null,_0x2c574a=null,_0x3f6562=null;_0x2cf5ae==='protocolMessage'&&_0x1ad396?.['editedMessage']&&(_0x2cf5ae=(0x0,f['getContentType'])(_0x1ad396['editedMessage']),_0x19f5f7=_0x176093[_0xc449ca(0x2e8)]['key']['id'],_0x1ad396=_0x176093[_0xc449ca(0x2e8)][_0xc449ca(0x34e)][_0x2cf5ae]),_0x176093[_0x2cf5ae]?.[_0xc449ca(0x2ac)]?.['stanzaId']&&_0x176093[_0x2cf5ae]?.[_0xc449ca(0x2ac)]?.['quotedMessage']&&(_0x2c574a=_0x176093[_0x2cf5ae][_0xc449ca(0x2ac)]['stanzaId']),_0x176093['reactionMessage']&&(_0x3f6562=_0x176093['reactionMessage'][_0xc449ca(0xc0)]['id']);let _0x436027;if(_0x1ad396&&typeof _0x1ad396==_0xc449ca(0x57f)&&_0xc449ca(0x11f)in _0x1ad396&&({pollCreationMessageKey:_0x436027}=_0x1ad396),_0x2cf5ae===_0xc449ca(0x742)||_0x2cf5ae===_0xc449ca(0x2c3)||_0x2cf5ae===_0xc449ca(0x60a)){let _0x99fc06=_0x1ad396[_0xc449ca(0x685)][_0xc449ca(0x568)](_0x1f827c=>_0x1f827c['optionName'])[_0xc449ca(0x71a)]('|');_0xbab5af[_0xc449ca(0x12f)]=_0x99fc06;}let _0x581c15='';if(_0x1ad396&&(_0x581c15+=_0x1ad396['name']?_0x1ad396[_0xc449ca(0x246)]:'',_0x581c15+=_0x1ad396[_0xc449ca(0x3db)]?'\x20'+_0x1ad396[_0xc449ca(0x3db)]:'',_0x581c15+=_0x1ad396[_0xc449ca(0x2e2)]?'\x20'+_0x1ad396[_0xc449ca(0x2e2)]:'',_0x581c15+=_0x1ad396['displayName']?'\x20'+_0x1ad396[_0xc449ca(0x5ee)]:''),_0x2cf5ae===_0xc449ca(0x31f)){_0x581c15=(_0x1ad396['title']||'')+'\x0a'+(_0x1ad396['description']||'')+'\x0a'+(_0x1ad396[_0xc449ca(0x205)]||'');let _0x3b98f1=this[_0xc449ca(0x6ca)](_0x1ad396[_0xc449ca(0x196)]);_0xbab5af[_0xc449ca(0x12f)]=_0x3b98f1;}if(_0x2cf5ae===_0xc449ca(0x344)&&(_0xf98290=_0x1ad396[_0xc449ca(0x2ae)]),_0x1ad396&&_0x1ad396[_0xc449ca(0x550)]){let _0x3a8898=this[_0xc449ca(0x119)](JSON[_0xc449ca(0x750)](_0x1ad396[_0xc449ca(0x550)],null,0x2));_0x581c15=_0x581c15+'\x0a'+_0x3a8898;}if(_0x1ad396){let {sections:_0xf4a3bc,listType:_0x100798,displayName:_0x30aa7d,vcard:_0x3b295c,contactVcard:_0x1167ff,name:_0x5c41d3,caption:_0x312f5d,conversation:_0x3ba69b,pollCreationMessageKey:_0xf5b979,footerText:_0x5e46ff,contentText:_0xcba502,pageCount:_0x5a0663,headerType:_0x151e16,isAvatar:_0xc2ce34,isAnimated:_0x403260,fallbackLc:_0x263007,fallbackLg:_0x5af028,namespace:_0x445c89,elementName:_0x175920,localizableParams:_0x505db3,viewOnce:_0x4cd204,height:_0x305ead,width:_0x393aca,key:_0x25bd24,firstScanLength:_0x14df9c,firstScanSidecar:_0x1df8b9,gifPlayback:_0x2d1d1f,gifAttribution:_0x397fb5,midQualityFileSha256:_0x17f3f7,scansSidecar:_0x5f61ca,streamingSidecar:_0x4b19a9,thumbnailHeight:_0x1735c0,thumbnailWidth:_0x2ca3a4,thumbnailEncSha256:_0x3a00f9,thumbnailDirectPath:_0x40038e,canonicalUrl:_0xb6cae4,matchedText:_0x4edd87,previewType:_0x4e627c,thumbnailSha256:_0x44f598,deviceListMetadataVersion:_0x1ec4dc,inviteLinkGroupTypeV2:_0x22207f,interactiveAnnotations:_0xd94b8f,scanLengths:_0x6b9f97,jpegThumbnail:_0x127c94,url:_0x453c54,mediaKeyTimestamp:_0x4a15ca,waveform:_0x5afcbc,stickerSentTs:_0x34a708,firstFrameLength:_0x28bbe0,fileEncSha256:_0x22bbc1,contextInfo:_0x1377be,firstFrameSidecar:_0x738730,directPath:_0x206418,fileSha256:_0xfd4a57,mediaKey:_0x104593,senderTimestampMs:_0x3dabd3,..._0x4d5c9d}=_0x1ad396;(_0x2cf5ae===_0xc449ca(0x31f)||_0x2cf5ae===_0xc449ca(0x344))&&(delete _0x4d5c9d[_0xc449ca(0x2ae)],delete _0x4d5c9d[_0xc449ca(0x23e)]),typeof _0x1ad396=='string'?_0xbab5af={'text':_0x1ad396,'type':_0x2cf5ae||'conversation',..._0x19f5f7&&{'edited':_0x19f5f7},..._0x2c574a&&{'quoted':_0x2c574a},..._0x3f6562&&{'reaction':_0x3f6562}}:_0xbab5af={'text':_0x581c15,..._0x4d5c9d,..._0x2cf5ae===_0xc449ca(0x739)?{'poll_id':_0x1ad396[_0xc449ca(0x11f)]['id'],'quoted':_0x1ad396[_0xc449ca(0x11f)]['id'],'vote':_0xf98290}:{},..._0x2cf5ae===_0xc449ca(0x344)?{'vote':_0xf98290}:{},'type':_0x2cf5ae,..._0x19f5f7&&{'edited':_0x19f5f7},..._0x2c574a&&{'quoted':_0x2c574a},..._0x3f6562&&{'reaction':_0x3f6562},...(_0x2cf5ae===_0xc449ca(0x742)||_0x2cf5ae===_0xc449ca(0x2c3)||_0x2cf5ae===_0xc449ca(0x60a)||_0x2cf5ae===_0xc449ca(0x31f))&&{'convertedOptions':_0xbab5af[_0xc449ca(0x12f)]}};}return{'messageType':_0x2cf5ae,'messageContent':_0x1ad396,'message_normalized':_0xbab5af};}catch(_0x248b12){return console[_0xc449ca(0x552)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x248b12),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this[_0x59e47f(0x6b9)][_0x59e47f(0x52a)]={'count':0x0},this[_0x59e47f(0x6b9)][_0x59e47f(0x476)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x349dbc(0x643)](_0x3d908a){const _0x389183=a0_0x349dbc;if(!_0x3d908a){this[_0x389183(0x6b9)]['name']=(0x0,Co['v4'])();return;}this[_0x389183(0x6b9)][_0x389183(0x246)]=_0x3d908a,this[_0x389183(0xf2)](_0x389183(0x5df),{'instance':this[_0x389183(0x6b9)][_0x389183(0x246)],'status':_0x389183(0x4b5)});}get[a0_0x349dbc(0x643)](){const _0x397364=a0_0x349dbc;return this['instance'][_0x397364(0x246)];}get[a0_0x349dbc(0x387)](){const _0x3099b5=a0_0x349dbc;return this[_0x3099b5(0x6b9)][_0x3099b5(0x387)];}async[a0_0x349dbc(0x404)](){const _0x3400d4=a0_0x349dbc;let _0x88fd1b=this[_0x3400d4(0x785)]['user']?.['name']??this[_0x3400d4(0x785)][_0x3400d4(0x6ea)]?.[_0x3400d4(0x157)];if(!_0x88fd1b){if(this[_0x3400d4(0x593)][_0x3400d4(0x2cd)]('DATABASE')[_0x3400d4(0x108)]){let _0xcfad40=await O[_0x3400d4(0x2e4)]()['db'](this['configService'][_0x3400d4(0x2cd)]('DATABASE')[_0x3400d4(0x450)][_0x3400d4(0x63d)]+_0x3400d4(0x2f3))[_0x3400d4(0x148)](this[_0x3400d4(0x643)])[_0x3400d4(0x1a0)]({'_id':_0x3400d4(0x6d1)});if(_0xcfad40){let _0x5ae8b8=JSON['parse'](JSON['stringify'](_0xcfad40),f[_0x3400d4(0x42b)][_0x3400d4(0x298)]);_0x88fd1b=_0x5ae8b8['me']?.[_0x3400d4(0x246)]||_0x5ae8b8['me']?.[_0x3400d4(0x157)];}}else{if((0x0,Te[_0x3400d4(0x63a)])((0x0,F['join'])(me,this[_0x3400d4(0x643)],'creds.json'))){let _0xdb6b0e=JSON[_0x3400d4(0xcc)]((0x0,Te[_0x3400d4(0x582)])((0x0,F[_0x3400d4(0x71a)])(me,this[_0x3400d4(0x643)],_0x3400d4(0xd5)),{'encoding':'utf-8'}));_0x88fd1b=_0xdb6b0e['me']?.[_0x3400d4(0x246)]||_0xdb6b0e['me']?.['verifiedName'];}}}return _0x88fd1b;}get['profilePictureUrl'](){const _0xad3535=a0_0x349dbc;return this[_0xad3535(0x6b9)][_0xad3535(0x6d2)];}get[a0_0x349dbc(0x77a)](){const _0x2a7aa6=a0_0x349dbc;return this[_0x2a7aa6(0x6b9)][_0x2a7aa6(0x52a)]?.[_0x2a7aa6(0x53e)]?{'pairingCode':this[_0x2a7aa6(0x6b9)]['qrcode']?.[_0x2a7aa6(0x53e)]}:{'code':this['instance'][_0x2a7aa6(0x52a)]?.[_0x2a7aa6(0x328)],'base64':this[_0x2a7aa6(0x6b9)]['qrcode']?.[_0x2a7aa6(0x261)]};}async['loadWebhook'](){const _0x4e19c5=a0_0x349dbc;let _0x4fabe6=await this[_0x4e19c5(0x2ea)][_0x4e19c5(0x25e)][_0x4e19c5(0x3e0)](this[_0x4e19c5(0x643)]);this[_0x4e19c5(0x521)][_0x4e19c5(0x2f2)]=_0x4fabe6?.[_0x4e19c5(0x2f2)],this[_0x4e19c5(0x521)][_0x4e19c5(0x3eb)]=_0x4fabe6?.[_0x4e19c5(0x3eb)],this['localWebhook'][_0x4e19c5(0x4c4)]=_0x4fabe6?.[_0x4e19c5(0x4c4)],this[_0x4e19c5(0x521)]['STATUS_INSTANCE']=_0x4fabe6?.['STATUS_INSTANCE'],this[_0x4e19c5(0x521)]['QRCODE_UPDATED']=_0x4fabe6?.[_0x4e19c5(0x2c0)],this['localWebhook'][_0x4e19c5(0x4df)]=_0x4fabe6?.['SEND_MESSAGE'],this['localWebhook']['MESSAGES_UPSERT']=_0x4fabe6?.[_0x4e19c5(0x29d)],this[_0x4e19c5(0x521)][_0x4e19c5(0x256)]=_0x4fabe6?.[_0x4e19c5(0x256)],this[_0x4e19c5(0x521)][_0x4e19c5(0x647)]=_0x4fabe6?.[_0x4e19c5(0x647)],this[_0x4e19c5(0x521)][_0x4e19c5(0x35b)]=_0x4fabe6?.[_0x4e19c5(0x35b)],this[_0x4e19c5(0x521)][_0x4e19c5(0x70e)]=_0x4fabe6?.[_0x4e19c5(0x70e)],this[_0x4e19c5(0x521)][_0x4e19c5(0x1a2)]=_0x4fabe6?.['CHATS_SET'],this['localWebhook']['CHATS_UPSERT']=_0x4fabe6?.[_0x4e19c5(0x470)],this[_0x4e19c5(0x521)][_0x4e19c5(0x75d)]=_0x4fabe6?.['CHATS_UPDATE'],this[_0x4e19c5(0x521)][_0x4e19c5(0x606)]=_0x4fabe6?.[_0x4e19c5(0x606)],this['localWebhook'][_0x4e19c5(0x1a3)]=_0x4fabe6?.[_0x4e19c5(0x1a3)],this[_0x4e19c5(0x521)][_0x4e19c5(0x43a)]=_0x4fabe6?.['CONTACTS_UPSERT'],this[_0x4e19c5(0x521)][_0x4e19c5(0x350)]=_0x4fabe6?.[_0x4e19c5(0x350)],this[_0x4e19c5(0x521)]['PRESENCE_UPDATE']=_0x4fabe6?.['PRESENCE_UPDATE'],this[_0x4e19c5(0x521)]['MESSAGES_SET']=_0x4fabe6?.['MESSAGES_SET'],this['localWebhook'][_0x4e19c5(0x460)]=_0x4fabe6?.['CONNECTION_UPDATE'],this[_0x4e19c5(0x521)][_0x4e19c5(0x760)]=_0x4fabe6?.['groups_ignore'];}async['setWebhook'](_0xb547cc){const _0x44a73d=a0_0x349dbc;let _0x90cfd2=[_0x44a73d(0x588),_0x44a73d(0x2f2),_0x44a73d(0x3eb),_0x44a73d(0x4c4),_0x44a73d(0x71f),_0x44a73d(0x2c0),_0x44a73d(0x256),_0x44a73d(0x29d),_0x44a73d(0x4df),_0x44a73d(0x647),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE',_0x44a73d(0x1a2),_0x44a73d(0x470),_0x44a73d(0x75d),_0x44a73d(0x606),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',_0x44a73d(0x592),_0x44a73d(0x46c),_0x44a73d(0x460),_0x44a73d(0x760)],_0x4fe27c={};return _0x90cfd2[_0x44a73d(0x79a)](_0xa60bd5=>{_0xb547cc[_0xa60bd5]!==void 0x0&&(_0x4fe27c[_0xa60bd5]=_0xb547cc[_0xa60bd5]);}),_0x4fe27c[_0x44a73d(0x2f2)]&&(_0x4fe27c[_0x44a73d(0x2f2)]=_0x4fe27c[_0x44a73d(0x2f2)][_0x44a73d(0x349)]()),await this[_0x44a73d(0x2ea)][_0x44a73d(0x25e)]['create'](_0x4fe27c,this[_0x44a73d(0x643)]),Object[_0x44a73d(0x53c)](this[_0x44a73d(0x521)],_0x4fe27c),await this['repository'][_0x44a73d(0x25e)][_0x44a73d(0x3e0)](this[_0x44a73d(0x643)]);}async[a0_0x349dbc(0x736)](){const _0x40a850=a0_0x349dbc;return await this[_0x40a850(0x2ea)][_0x40a850(0x25e)]['find'](this[_0x40a850(0x643)]);}async['sendDataWebhook'](_0x179253,_0x11d135){const _0x329d8b=a0_0x349dbc;let _0xd55aae=_0x179253['replace'](/[\.-]/gm,'_')['toUpperCase'](),_0x159af9=this['localWebhook'][_0x329d8b(0x3eb)]&&(0x0,P[_0x329d8b(0x2b8)])(this[_0x329d8b(0x521)][_0x329d8b(0x2f2)])?this['localWebhook'][_0x329d8b(0x2f2)]+(this['localWebhook'][_0x329d8b(0x4c4)]?this[_0x329d8b(0x459)][_0x179253]:''):null,_0x4423d7=this['localWebhook'][_0xd55aae],_0x10591b=ue&&ue['enabled']&&(0x0,P[_0x329d8b(0x2b8)])(ue[_0x329d8b(0x2f2)])?ue[_0x329d8b(0x2f2)]+(ue[_0x329d8b(0x4c4)]?this[_0x329d8b(0x459)][_0x179253]:''):null,_0x118654=ue?ue[_0xd55aae]:null;if(_0x4423d7&&_0x159af9)try{await K[_0x329d8b(0x231)]['create']({'baseURL':_0x159af9})['post']('',{'event':_0x179253,'instance':this[_0x329d8b(0x6b9)][_0x329d8b(0x246)],'apikey':this[_0x329d8b(0x6b9)][_0x329d8b(0x3f6)],'data':_0x11d135}),this[_0x329d8b(0x433)]['log'](this[_0x329d8b(0x643)]+'\x20('+this[_0x329d8b(0x6b9)][_0x329d8b(0x387)]+_0x329d8b(0x798)+_0x179253+':\x20'+_0x159af9);}catch{this[_0x329d8b(0x433)]['error'](this[_0x329d8b(0x643)]+'\x20('+this[_0x329d8b(0x6b9)][_0x329d8b(0x387)]+_0x329d8b(0x4be)+_0x179253+':\x20'+_0x159af9);}if(_0x118654&&_0x10591b)try{await K[_0x329d8b(0x231)][_0x329d8b(0x719)]({'baseURL':_0x10591b})['post']('',{'event':_0x179253,'instance':this[_0x329d8b(0x6b9)][_0x329d8b(0x246)],'apikey':this['instance'][_0x329d8b(0x3f6)],'data':_0x11d135}),this[_0x329d8b(0x433)][_0x329d8b(0x37f)](this[_0x329d8b(0x643)]+'\x20('+this['instance'][_0x329d8b(0x387)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x179253+':\x20'+_0x10591b);}catch{this[_0x329d8b(0x433)][_0x329d8b(0x552)](this[_0x329d8b(0x643)]+'\x20('+this['instance'][_0x329d8b(0x387)]+_0x329d8b(0xd2)+_0x179253+':\x20'+_0x10591b);}}async[a0_0x349dbc(0x101)]({qr:_0x56d557,connection:_0x65f527,lastDisconnect:_0xd0389e}){const _0x19dae6=a0_0x349dbc;if(_0x56d557){if(this[_0x19dae6(0x6b9)][_0x19dae6(0x52a)][_0x19dae6(0x75b)]===vr)return this[_0x19dae6(0xf2)]('qrcode.updated',{'message':_0x19dae6(0x590),'statusCode':f[_0x19dae6(0x4bc)][_0x19dae6(0x183)]}),this[_0x19dae6(0x40f)]={'state':'refused','statusReason':f['DisconnectReason'][_0x19dae6(0x5bb)]},this[_0x19dae6(0xf2)](_0x19dae6(0x5bf),{'instance':this[_0x19dae6(0x6b9)][_0x19dae6(0x246)],...this[_0x19dae6(0x40f)]}),this['sendDataWebhook'](_0x19dae6(0x5df),{'instance':this[_0x19dae6(0x6b9)][_0x19dae6(0x246)],'status':_0x19dae6(0x4b1)}),this[_0x19dae6(0x2ea)]['auth'][_0x19dae6(0x719)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x19dae6(0x6db)]()},this['instance'][_0x19dae6(0x246)]),this[_0x19dae6(0x52f)]=!0x0,this['eventEmitter']['emit'](_0x19dae6(0x776),this[_0x19dae6(0x6b9)]['name']);this[_0x19dae6(0x6b9)][_0x19dae6(0x52a)]['count']++;let _0x45dd3e={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x19dae6(0x364),'dark':_0x19dae6(0x16a)}};Eo['default'][_0x19dae6(0x68b)](_0x56d557,_0x45dd3e,(_0x2ba2d2,_0x1dfe71)=>{const _0x3e0a15=_0x19dae6;if(_0x2ba2d2){this[_0x3e0a15(0x433)][_0x3e0a15(0x552)](this[_0x3e0a15(0x643)]+'\x20('+this['instance'][_0x3e0a15(0x387)]+_0x3e0a15(0x688)+(_0x2ba2d2 instanceof Error?_0x2ba2d2[_0x3e0a15(0x180)]:JSON[_0x3e0a15(0x750)](_0x2ba2d2,null,0x2)));return;}this[_0x3e0a15(0x6b9)][_0x3e0a15(0x52a)][_0x3e0a15(0x261)]=_0x1dfe71,this['instance'][_0x3e0a15(0x52a)][_0x3e0a15(0x328)]=_0x56d557,!this['phoneNumber']&&this[_0x3e0a15(0xf2)](_0x3e0a15(0x212),{'qrcode':{'instance':this[_0x3e0a15(0x6b9)]['name'],'pairingCode':this[_0x3e0a15(0x6b9)][_0x3e0a15(0x52a)][_0x3e0a15(0x53e)],'code':_0x56d557,'base64':_0x1dfe71}});}),this[_0x19dae6(0x49a)]?this[_0x19dae6(0x6b9)][_0x19dae6(0x52a)][_0x19dae6(0x53e)]||(await(0x0,f['delay'])(0x7d0),this[_0x19dae6(0x6b9)][_0x19dae6(0x52a)][_0x19dae6(0x53e)]=await this[_0x19dae6(0x785)][_0x19dae6(0x535)](this[_0x19dae6(0x49a)])):this['instance'][_0x19dae6(0x52a)][_0x19dae6(0x53e)]=null,vo['default']['generate'](_0x56d557,{'small':!0x0},_0x28442f=>this['logger'][_0x19dae6(0x37f)](_0x19dae6(0x4ef)+this[_0x19dae6(0x6b9)]['name']+_0x19dae6(0x683)+this['instance'][_0x19dae6(0x52a)][_0x19dae6(0x75b)]+_0x19dae6(0x6f4)+this[_0x19dae6(0x6b9)]['qrcode'][_0x19dae6(0x53e)]+'\x20}\x0a'+_0x28442f));}if(_0x65f527&&(this['stateConnection']={'state':_0x65f527,'statusReason':_0xd0389e?.[_0x19dae6(0x552)]?.[_0x19dae6(0x262)]?.['statusCode']??0xc8},this[_0x19dae6(0xf2)](_0x19dae6(0x5bf),{'instance':this[_0x19dae6(0x6b9)][_0x19dae6(0x246)],...this[_0x19dae6(0x40f)]})),_0x65f527===_0x19dae6(0x456)){if(this[_0x19dae6(0x1ca)]++,this[_0x19dae6(0x329)][_0x19dae6(0x3fd)](Date['now']()),this['reconnectTimestamps']=this[_0x19dae6(0x329)]['filter'](_0x504830=>Date[_0x19dae6(0x6db)]()-_0x504830<this[_0x19dae6(0x557)]),_0xd0389e[_0x19dae6(0x552)]?.[_0x19dae6(0x262)]?.[_0x19dae6(0x5b5)]!==f[_0x19dae6(0x4bc)][_0x19dae6(0x414)]&&this[_0x19dae6(0x329)]['length']<=this[_0x19dae6(0x5e3)])console[_0x19dae6(0x37f)](this[_0x19dae6(0x643)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x19dae6(0x1ca)]+'/'+this[_0x19dae6(0x5e3)]+_0x19dae6(0x210)),console[_0x19dae6(0x37f)](_0x19dae6(0x69a)),await this[_0x19dae6(0x6e9)]();else{this[_0x19dae6(0xf2)](_0x19dae6(0x5df),{'instance':this[_0x19dae6(0x6b9)][_0x19dae6(0x246)],'status':_0x19dae6(0x4b1)}),this['instance']['ScheduleMessage'][_0x19dae6(0x699)]=!0x1,this[_0x19dae6(0x2ea)][_0x19dae6(0x25e)][_0x19dae6(0x209)](this[_0x19dae6(0x643)]),this[_0x19dae6(0x2ea)][_0x19dae6(0x30c)][_0x19dae6(0x719)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x19dae6(0x6db)]()},this[_0x19dae6(0x6b9)]['name']);try{this[_0x19dae6(0x433)][_0x19dae6(0x3b4)](this[_0x19dae6(0x643)]+'\x20('+this[_0x19dae6(0x6b9)][_0x19dae6(0x387)]+_0x19dae6(0x1c5));let _0x4a8949=await this[_0x19dae6(0x2ea)]['message'][_0x19dae6(0x33c)](this[_0x19dae6(0x6b9)][_0x19dae6(0x387)]);_0x4a8949[_0x19dae6(0x5f5)]?this[_0x19dae6(0x433)]['verbose'](this[_0x19dae6(0x643)]+'\x20('+this[_0x19dae6(0x6b9)]['wuid']+_0x19dae6(0x532)):console[_0x19dae6(0x552)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x4a8949[_0x19dae6(0x552)]);}catch(_0x3ea4be){console['error'](_0x19dae6(0x70d),_0x3ea4be['message']);}this[_0x19dae6(0x6b9)][_0x19dae6(0x476)][_0x19dae6(0x285)]!==null&&(this['logger']['verbose'](this[_0x19dae6(0x643)]+'\x20('+this[_0x19dae6(0x6b9)][_0x19dae6(0x387)]+_0x19dae6(0x55d)),clearInterval(this[_0x19dae6(0x6b9)][_0x19dae6(0x476)][_0x19dae6(0x285)]),this[_0x19dae6(0x6b9)]['ScheduleMessage'][_0x19dae6(0x285)]=null),this[_0x19dae6(0x433)][_0x19dae6(0x3b4)](this[_0x19dae6(0x643)]+'\x20('+this[_0x19dae6(0x6b9)][_0x19dae6(0x387)]+_0x19dae6(0x52b)),this[_0x19dae6(0x11b)]=null,this[_0x19dae6(0x543)]['emit'](_0x19dae6(0x18c),this[_0x19dae6(0x6b9)]['name'],'inner'),this[_0x19dae6(0x785)]?.['ws']?.[_0x19dae6(0x456)](),this[_0x19dae6(0x785)]['end'](new Error(_0x19dae6(0x3ed)));}}if(_0x65f527==='open'){this[_0x19dae6(0x785)]['ev'][_0x19dae6(0x6c8)](),this['resetReconnectionVariables'],this[_0x19dae6(0x6b9)][_0x19dae6(0x387)]=this[_0x19dae6(0x785)][_0x19dae6(0x6ea)]['id'][_0x19dae6(0x1b7)](/:\d+/,'')[_0x19dae6(0x1b7)]('@s.whatsapp.net',''),this['instance'][_0x19dae6(0x6d2)]=(await this[_0x19dae6(0x3c7)](this[_0x19dae6(0x6b9)][_0x19dae6(0x387)]+_0x19dae6(0x42f)))[_0x19dae6(0x6d2)],this[_0x19dae6(0x2ea)]['auth'][_0x19dae6(0x719)]({'online':!0x0,'owner':this[_0x19dae6(0x6b9)]['wuid'],'lastDisconnect':null},this['instance'][_0x19dae6(0x246)]);let _0x230632='Número:\x20'+this['instance']['wuid'],_0xe9401f=0x28,_0x22ebaa=Math[_0x19dae6(0x13e)]((_0xe9401f-_0x230632[_0x19dae6(0x2e0)])/0x2),_0x17fe54='\x20'[_0x19dae6(0x114)](_0x22ebaa),_0x34dac4=_0x19dae6(0x225),_0x43e5e6=_0x19dae6(0x1ea)+this[_0x19dae6(0x6b9)][_0x19dae6(0x246)],_0x751cdc=(''+_0x17fe54+_0x230632+_0x17fe54)[_0x19dae6(0x2a4)](_0xe9401f,'\x20'),_0x2f614c=(''+_0x17fe54+_0x34dac4+_0x17fe54)[_0x19dae6(0x2a4)](_0xe9401f,'\x20'),_0x171cce=(''+_0x17fe54+_0x43e5e6+_0x17fe54)['padEnd'](_0xe9401f,'\x20'),_0x3e5c8a=Math[_0x19dae6(0x142)](_0x751cdc[_0x19dae6(0x2e0)],_0x2f614c[_0x19dae6(0x2e0)],_0x171cce[_0x19dae6(0x2e0)]),_0xd1a522=_0x751cdc[_0x19dae6(0x2a4)](_0x3e5c8a,'\x20'),_0x218f67=_0x2f614c[_0x19dae6(0x2a4)](_0x3e5c8a,'\x20'),_0x367bdc=_0x171cce[_0x19dae6(0x2a4)](_0x3e5c8a,'\x20');this[_0x19dae6(0x433)][_0x19dae6(0x6f9)]((_0x19dae6(0x5a6)+'─'[_0x19dae6(0x114)](_0x3e5c8a)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x218f67+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x367bdc+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xd1a522+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x19dae6(0x114)](_0x3e5c8a)+'┘')[_0x19dae6(0x1b7)](/^ +/gm,'\x20\x20')),this[_0x19dae6(0x646)](),this[_0x19dae6(0x6b9)][_0x19dae6(0x476)][_0x19dae6(0x699)]=!0x0;}}['resetReconnectionVariables'](){const _0x165e65=a0_0x349dbc;this['reconnectAttempts']=0x0,this[_0x165e65(0x329)]=[];}async['getMessage'](_0x4586f6,_0x2bb7fc=!0x1){const _0x198770=a0_0x349dbc;try{let _0x53cdda=await this[_0x198770(0x2ea)][_0x198770(0x180)]['find']({'where':{'_id':_0x4586f6['id']}},this[_0x198770(0x6b9)][_0x198770(0x387)]);return _0x2bb7fc?_0x53cdda[0x0]:_0x53cdda[0x0][_0x198770(0x180)];}catch{return{'conversation':''};}}[a0_0x349dbc(0x304)](){const _0x29ca6e=a0_0x349dbc;let _0x2a54ff=this[_0x29ca6e(0x593)][_0x29ca6e(0x2cd)]('STORE'),_0xa96f76=this[_0x29ca6e(0x593)][_0x29ca6e(0x2cd)](_0x29ca6e(0x748));_0x2a54ff?.['CLEANING_INTERVAL']&&!_0xa96f76[_0x29ca6e(0x108)]&&setInterval(()=>{const _0x24c272=_0x29ca6e;try{for(let [_0x1671a9,_0x2aadc0]of Object['entries'](_0x2a54ff))_0x2aadc0===!0x0&&(0x0,$e[_0x24c272(0x793)])(_0x24c272(0x201)+(0x0,F[_0x24c272(0x71a)])(this[_0x24c272(0x66c)],_0x1671a9['toLowerCase'](),this[_0x24c272(0x6b9)]['wuid'])+_0x24c272(0x529));}catch{}},(_0x2a54ff?.[_0x29ca6e(0x465)]??0xe10)*0x3e8);}async[a0_0x349dbc(0x1c2)](){const _0x21df66=a0_0x349dbc;let _0x3157f1=this[_0x21df66(0x593)]['get']('DATABASE'),_0xb87cad=this[_0x21df66(0x593)][_0x21df66(0x2cd)](_0x21df66(0x653));return _0xb87cad?.['ENABLED']?await Ns(_0xb87cad,this[_0x21df66(0x6b9)][_0x21df66(0x246)]):_0x3157f1['ENABLED']?await vs(this['instance']['name']):await(0x0,f[_0x21df66(0x436)])((0x0,F[_0x21df66(0x71a)])(me,this['instance'][_0x21df66(0x246)]));}async['AutomateFunctions'](){const _0x1f3577=a0_0x349dbc;let _0x117caf=()=>Math[_0x1f3577(0x13e)](Math[_0x1f3577(0x49e)]()*0x2711)+0x7d0,_0x41d8ae=async()=>{const _0x56af9f=_0x1f3577;if(!this[_0x56af9f(0x6b9)][_0x56af9f(0x476)]['isConnected']){this[_0x56af9f(0x433)][_0x56af9f(0x3b4)](_0x56af9f(0x1be)),this[_0x56af9f(0x19b)]=!0x1;return;}if(this[_0x56af9f(0x6b9)][_0x56af9f(0x387)]&&this[_0x56af9f(0x11b)]&&this[_0x56af9f(0x6b9)]['ScheduleMessage']['delayMessage']!==null&&this[_0x56af9f(0x6b9)][_0x56af9f(0x476)]['delayMessage']!==void 0x0){let _0x583a2f=Math[_0x56af9f(0x6ab)](this[_0x56af9f(0x6b9)]['ScheduleMessage'][_0x56af9f(0x285)]/0xea60);this['logger'][_0x56af9f(0x3b4)](this['instanceName']+'\x20('+this[_0x56af9f(0x6b9)][_0x56af9f(0x387)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x583a2f+_0x56af9f(0x57c)),this['isRunning']=!0x1;return;}else this[_0x56af9f(0x6b9)][_0x56af9f(0x387)]&&(this[_0x56af9f(0x433)][_0x56af9f(0x3b4)](this[_0x56af9f(0x643)]+'\x20('+this[_0x56af9f(0x6b9)][_0x56af9f(0x387)]+_0x56af9f(0x499)),this['AutomateSystem']||(await this['getAutomateSystem'](),this[_0x56af9f(0x5ef)]()),(this[_0x56af9f(0x6b9)][_0x56af9f(0x476)][_0x56af9f(0x285)]===null||this[_0x56af9f(0x6b9)]['ScheduleMessage'][_0x56af9f(0x285)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x56af9f(0x19b)]){let _0x2190cb=_0x117caf();this[_0x56af9f(0x433)]['verbose'](this[_0x56af9f(0x643)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x2190cb/0x3e8+'\x20segundos'),setTimeout(_0x41d8ae,_0x2190cb);}};if(this[_0x1f3577(0x19b)])return;this[_0x1f3577(0x19b)]=!0x0;let _0x27888d=_0x117caf();setTimeout(_0x41d8ae,_0x27888d);}async['loadproxy'](_0x3b7c4b=0x0,_0x71f111=!0x1){const _0x4a1b92=a0_0x349dbc;try{let _0x17a5af=this[_0x4a1b92(0x593)][_0x4a1b92(0x2cd)](_0x4a1b92(0x10a));if(_0x17a5af!==0x1||typeof _0x17a5af>'u'||_0x3b7c4b>=0x5)return this[_0x4a1b92(0x433)][_0x4a1b92(0x6ad)](_0x4a1b92(0xf1)),this[_0x4a1b92(0x2ea)][_0x4a1b92(0x30c)]['create']({'ip':null},this['instance'][_0x4a1b92(0x246)]),{};this[_0x4a1b92(0x433)][_0x4a1b92(0x3b4)](this['instanceName']+_0x4a1b92(0x1ef)+(_0x3b7c4b+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x47876c;if(!_0x71f111){let _0x20ee44=await this['repository']['auth']['find'](this[_0x4a1b92(0x643)]);_0x20ee44&&_0x20ee44['ip']&&(_0x47876c=yo(_0x20ee44['ip']));}if((!_0x47876c||!Rs(_0x47876c))&&(this['logger'][_0x4a1b92(0x6ad)](this['instanceName']+_0x4a1b92(0x55f)),_0x47876c=bo()),_0x47876c&&Rs(_0x47876c)){let _0x40b202=_0x47876c[_0x4a1b92(0x399)]&&_0x47876c[_0x4a1b92(0x1f0)]?_0x47876c[_0x4a1b92(0x19d)]+_0x4a1b92(0x2d3)+_0x47876c['username']+':'+_0x47876c[_0x4a1b92(0x1f0)]+'@'+_0x47876c['host']+':'+_0x47876c[_0x4a1b92(0x2a6)]:_0x47876c[_0x4a1b92(0x19d)]+_0x4a1b92(0x2d3)+_0x47876c[_0x4a1b92(0x501)]+':'+_0x47876c[_0x4a1b92(0x2a6)];return await this[_0x4a1b92(0xd9)](_0x40b202,_0x47876c[_0x4a1b92(0x501)])?(this[_0x4a1b92(0x433)][_0x4a1b92(0x3b4)](this['instanceName']+_0x4a1b92(0x44d)),this[_0x4a1b92(0x2ea)]['auth'][_0x4a1b92(0x719)]({'ip':_0x47876c['host']},this[_0x4a1b92(0x6b9)][_0x4a1b92(0x246)]),{'agent':new Ft[(_0x4a1b92(0x5d7))](_0x40b202),'fetchAgent':new Ft[(_0x4a1b92(0x5d7))](_0x40b202)}):(this[_0x4a1b92(0x433)]['warn'](this[_0x4a1b92(0x643)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,f[_0x4a1b92(0x297)])(0xc8),this[_0x4a1b92(0x732)](_0x3b7c4b+0x1,!0x0));}else return this[_0x4a1b92(0x433)][_0x4a1b92(0x6ad)](this['instanceName']+_0x4a1b92(0x15d)),await(0x0,f[_0x4a1b92(0x297)])(0xc8),this[_0x4a1b92(0x732)](_0x3b7c4b+0x1,!0x0);}catch(_0x35ae49){return this[_0x4a1b92(0x433)][_0x4a1b92(0x552)](this[_0x4a1b92(0x643)]+_0x4a1b92(0x124)+_0x35ae49[_0x4a1b92(0x180)]),{};}}async[a0_0x349dbc(0xd9)](_0x3e985b,_0x48406a){const _0x169fd5=a0_0x349dbc;let _0x35f2b3=new Ft['HttpsProxyAgent'](_0x3e985b),_0x4fe16b=0x1388,_0x26f1c6=[{'url':_0x169fd5(0x2f4),'parse':_0x30c949=>_0x30c949['ip']},{'url':_0x169fd5(0x3d0),'parse':_0x46997c=>_0x46997c['ip']},{'url':_0x169fd5(0x5f8),'parse':_0x332e30=>_0x332e30[_0x169fd5(0x565)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0xbf556a=>_0xbf556a['ip']},{'url':_0x169fd5(0x585),'parse':_0x564b99=>_0x564b99[_0x169fd5(0x349)]()},{'url':_0x169fd5(0x2b4),'parse':_0x2e47c6=>_0x2e47c6['trim']()},{'url':_0x169fd5(0x6ac),'parse':_0x298c16=>_0x298c16['query']},{'url':_0x169fd5(0x1cd),'parse':_0x394f91=>_0x394f91[_0x169fd5(0x349)]()},{'url':_0x169fd5(0x78b),'parse':_0x3b55cd=>_0x3b55cd[_0x169fd5(0x349)]()}],_0x3dd385=_0x26f1c6[Math[_0x169fd5(0x13e)](Math[_0x169fd5(0x49e)]()*_0x26f1c6['length'])];try{let _0x6926a5=await K[_0x169fd5(0x231)]['get'](_0x3dd385['url'],{'httpsAgent':_0x35f2b3,'timeout':_0x4fe16b}),_0x4b6446=_0x3dd385['parse'](_0x6926a5[_0x169fd5(0x6fb)]);return _0x4b6446===_0x48406a?(this['logger']['verbose'](this[_0x169fd5(0x643)]+_0x169fd5(0x4d9)+_0x48406a+'\x20-\x20retornado:\x20'+_0x4b6446+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x169fd5(0x433)]['error'](this[_0x169fd5(0x643)]+':\x20IP\x20configurado:\x20'+_0x48406a+_0x169fd5(0x612)+_0x4b6446+_0x169fd5(0x6de)),!0x1);}catch(_0x5ac2bc){return this[_0x169fd5(0x433)]['error'](this[_0x169fd5(0x643)]+_0x169fd5(0x779)+_0x3dd385['url']+':\x20'+_0x5ac2bc[_0x169fd5(0x180)]),!0x1;}}async[a0_0x349dbc(0x6e9)](_0x40b5d2){const _0x23cb7e=a0_0x349dbc;try{let _0x5e0744=await this['loadproxy']();this['loadWebhook'](),this[_0x23cb7e(0x6b9)]['apikey']=(await this['repository'][_0x23cb7e(0x30c)][_0x23cb7e(0x3e0)](this['instance'][_0x23cb7e(0x246)]))['apikey'],this[_0x23cb7e(0x6b9)][_0x23cb7e(0xef)]=await this[_0x23cb7e(0x1c2)]();let {version:_0x32b1fa}=await(0x0,f[_0x23cb7e(0x5fa)])(),_0x1bbd1c=[No,Is,(0x0,Ts[_0x23cb7e(0x43b)])()],_0x48bf39={..._0x5e0744,'auth':{'creds':this[_0x23cb7e(0x6b9)][_0x23cb7e(0xef)]['state'][_0x23cb7e(0x6d1)],'keys':(0x0,f[_0x23cb7e(0x25d)])(this[_0x23cb7e(0x6b9)][_0x23cb7e(0xef)]['state'][_0x23cb7e(0x4a4)],(0x0,Pt['default'])({'level':'error'}))},'logger':(0x0,Pt[_0x23cb7e(0x231)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x40b5d2?[_0x23cb7e(0x1f8),Is,(0x0,Ts[_0x23cb7e(0x43b)])()]:_0x1bbd1c,'version':_0x32b1fa,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x4ee6cd=>{const _0x3b2a03=_0x23cb7e;let _0x5bbc55=_0x4ee6cd['endsWith'](_0x3b2a03(0x581)),_0x1b61cc=this[_0x3b2a03(0x521)]?.['groups_ignore']&&_0x4ee6cd[_0x3b2a03(0x46e)]('@g.us');return _0x5bbc55||(0x0,f['isJidBroadcast'])(_0x4ee6cd)||_0x1b61cc;},'msgRetryCounterCache':this[_0x23cb7e(0x45a)],'getMessage':async _0x442561=>await this[_0x23cb7e(0x507)](_0x442561),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x8c6813=>(_0x8c6813['listMessage']?.[_0x23cb7e(0x434)]==f[_0x23cb7e(0x487)][_0x23cb7e(0x458)]['ListMessage'][_0x23cb7e(0x415)]['PRODUCT_LIST']&&(_0x8c6813=JSON['parse'](JSON[_0x23cb7e(0x750)](_0x8c6813)),_0x8c6813[_0x23cb7e(0x31f)][_0x23cb7e(0x434)]=f[_0x23cb7e(0x487)][_0x23cb7e(0x458)][_0x23cb7e(0x448)][_0x23cb7e(0x415)]['SINGLE_SELECT']),_0x8c6813)};return this[_0x23cb7e(0x52f)]=!0x1,this[_0x23cb7e(0x785)]=(0x0,f[_0x23cb7e(0x231)])(_0x48bf39),this[_0x23cb7e(0x6ff)](),this[_0x23cb7e(0x49a)]=_0x40b5d2,this[_0x23cb7e(0x785)];}catch(_0x2cd6b8){let _0x1ad54e=_0x23cb7e(0x620),_0x3f0789=_0x2cd6b8 instanceof Error?_0x2cd6b8[_0x23cb7e(0x180)]:typeof _0x2cd6b8==_0x23cb7e(0x57f)?JSON[_0x23cb7e(0x750)](_0x2cd6b8):_0x2cd6b8,_0x24a9af=_0x1ad54e+':\x20'+_0x3f0789;throw this[_0x23cb7e(0x433)][_0x23cb7e(0x552)](this['instanceName']+'\x20('+this[_0x23cb7e(0x6b9)][_0x23cb7e(0x387)]+'):\x20'+_0x24a9af),new I(_0x24a9af);}}[a0_0x349dbc(0x6ff)](){const _0x6876d=a0_0x349dbc;this[_0x6876d(0x785)]['ev']['process'](_0x5b4afc=>{const _0x216d31=_0x6876d;if(!this[_0x216d31(0x52f)]){let _0x275491=this[_0x216d31(0x593)][_0x216d31(0x2cd)](_0x216d31(0x748));if(_0x5b4afc[_0x216d31(0x150)]){let _0x818ac5=_0x5b4afc[_0x216d31(0x150)];this[_0x216d31(0x3b7)]['labels.edit'](_0x818ac5);}if(_0x5b4afc['labels.association']){let _0x2f08db=_0x5b4afc[_0x216d31(0x1c1)];this[_0x216d31(0x3b7)]['labels.association'](_0x2f08db);}if(_0x5b4afc[_0x216d31(0x5bf)]&&this['connectionUpdate'](_0x5b4afc[_0x216d31(0x5bf)]),_0x5b4afc[_0x216d31(0x2a1)]&&this[_0x216d31(0x6b9)]['authState'][_0x216d31(0x12e)](),_0x5b4afc[_0x216d31(0x769)]){let _0x1ef26c=_0x5b4afc[_0x216d31(0x769)];this[_0x216d31(0x3b7)][_0x216d31(0x769)](_0x1ef26c,_0x275491);}if(_0x5b4afc[_0x216d31(0x36f)]){let _0xf7be7=_0x5b4afc[_0x216d31(0x36f)];this[_0x216d31(0x3b7)]['messages.upsert'](_0xf7be7,_0x275491);}if(_0x5b4afc[_0x216d31(0x479)]){let _0x26bccf=_0x5b4afc[_0x216d31(0x479)];_0x26bccf[_0x216d31(0x79a)](_0x561082=>{const _0x33be24=_0x216d31;if(Mo[_0x561082[_0x33be24(0xc0)]['id']]){this[_0x33be24(0x785)]['ev']['emit'](_0x33be24(0x36f),{'messages':[_0x561082],'type':'notify'}),delete Mo[_0x561082[_0x33be24(0xc0)]['id']];return;}}),this[_0x216d31(0x3b7)]['messages.update'](_0x26bccf,_0x275491);}if(_0x5b4afc['presence.update']){let _0x3769ac=_0x5b4afc[_0x216d31(0x1ad)];if(this[_0x216d31(0x521)]?.['groups_ignore']&&_0x3769ac['id']['includes'](_0x216d31(0x25b)))return;this['sendDataWebhook'](_0x216d31(0x1ad),_0x3769ac);}if(_0x5b4afc[_0x216d31(0x19e)]){let _0x49f4b9=_0x5b4afc[_0x216d31(0x19e)];this[_0x216d31(0x762)]['groups.upsert'](_0x49f4b9);}if(_0x5b4afc[_0x216d31(0x235)]){let _0x14c2e6=_0x5b4afc[_0x216d31(0x235)];this[_0x216d31(0x762)][_0x216d31(0x235)](_0x14c2e6);}if(_0x5b4afc[_0x216d31(0x3af)]){let _0x1ea647=_0x5b4afc[_0x216d31(0x3af)];this[_0x216d31(0x762)][_0x216d31(0x3af)](_0x1ea647);}if(_0x5b4afc[_0x216d31(0x6c4)]){let _0x3972b1=_0x5b4afc[_0x216d31(0x6c4)];this[_0x216d31(0x67e)][_0x216d31(0x6c4)](_0x3972b1,_0x275491);}if(_0x5b4afc['chats.update']){let _0x1381f0=_0x5b4afc[_0x216d31(0x2b6)];this[_0x216d31(0x67e)][_0x216d31(0x2b6)](_0x1381f0,_0x275491);}if(_0x5b4afc['chats.delete']){let _0xf08a89=_0x5b4afc[_0x216d31(0x1f9)];this[_0x216d31(0x67e)][_0x216d31(0x1f9)](_0xf08a89);}if(_0x5b4afc[_0x216d31(0x175)]){let _0x4fbd4e=_0x5b4afc[_0x216d31(0x175)];this[_0x216d31(0x116)][_0x216d31(0x175)](_0x4fbd4e,_0x275491);}if(_0x5b4afc['contacts.update']){let _0x37a123=_0x5b4afc['contacts.update'];this['contactHandle'][_0x216d31(0x17b)](_0x37a123,_0x275491);}}});}[a0_0x349dbc(0x2a7)](_0x50e519){return new Promise(_0x21f776=>setTimeout(_0x21f776,_0x50e519));}[a0_0x349dbc(0x314)](_0x4987ef){const _0x2f50c9=a0_0x349dbc;_0x4987ef=_0x4987ef[_0x2f50c9(0x1b7)](/\D/g,'');let _0x503c51=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2f50c9(0xc3)](_0x4987ef);if(_0x503c51&&_0x503c51[0x1]==='55'){let _0x29357d=_0x503c51[0x2],_0x42bc6f=_0x503c51[0x3],_0x446263=_0x503c51[0x4];if(parseInt(_0x29357d)>=0x1f&&_0x42bc6f==='9')return _0x503c51[0x1]+_0x29357d+_0x446263;}return _0x4987ef;}['createJid'](_0x429a55){const _0x346631=a0_0x349dbc;return _0x429a55[_0x346631(0x12d)](_0x346631(0x25b))||_0x429a55[_0x346631(0x12d)]('@s.whatsapp.net')||_0x429a55['includes'](_0x346631(0x408))?_0x429a55:(_0x429a55=_0x429a55?.['replace'](/\s/g,'')[_0x346631(0x1b7)](/\+/g,'')[_0x346631(0x1b7)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x346631(0x13d)]('@')[0x0],_0x429a55[_0x346631(0x2e0)]>=0x12?(_0x429a55=_0x429a55[_0x346631(0x1b7)](/[^\d-]/g,''),_0x429a55+_0x346631(0x25b)):(_0x429a55=_0x429a55[_0x346631(0x1b7)](/\D/g,''),_0x429a55+'@s.whatsapp.net'));}async['updatePresence'](_0x38d9e7){const _0x5bfa4e=a0_0x349dbc;let _0x267a5=(await this[_0x5bfa4e(0x102)]({'numbers':[_0x38d9e7['number']]}))[0x0];if(!_0x267a5['exists']&&!(0x0,f[_0x5bfa4e(0xde)])(_0x267a5[_0x5bfa4e(0x260)])&&!_0x267a5[_0x5bfa4e(0x260)][_0x5bfa4e(0x12d)](_0x5bfa4e(0x408)))throw new m(_0x267a5);let _0x481592=_0x267a5[_0x5bfa4e(0x260)];try{return await this['client'][_0x5bfa4e(0x70c)](_0x481592),await this['client']['sendPresenceUpdate'](_0x38d9e7[_0x5bfa4e(0x278)],_0x481592),{'status':0xc8,'presence':_0x38d9e7['presence']};}catch(_0x5390cc){let _0x23aa69=_0x5bfa4e(0x14e),_0x20bb35=_0x5390cc instanceof Error?_0x5390cc[_0x5bfa4e(0x180)]:typeof _0x5390cc==_0x5bfa4e(0x57f)?JSON['stringify'](_0x5390cc):_0x5390cc,_0x3601e3=_0x23aa69+':\x20'+_0x20bb35;throw this[_0x5bfa4e(0x433)]['error'](this['instanceName']+'\x20('+this[_0x5bfa4e(0x6b9)][_0x5bfa4e(0x387)]+_0x5bfa4e(0x56b)+_0x3601e3),new m(_0x3601e3);}}async[a0_0x349dbc(0x303)](_0x1b64c7,_0x685a09,_0x1c9bbd,_0x89b92d=!0x0){const _0x25418b=a0_0x349dbc;let _0x334d0f=await this[_0x25418b(0x2ea)][_0x25418b(0x492)][_0x25418b(0x1a0)]({'where':{'_id':_0x1b64c7}});if(!_0x334d0f&&!_0x89b92d)return;let _0x272685={'lastUpdate':Date[_0x25418b(0x6db)]()};if(_0x1c9bbd||!_0x334d0f?.[_0x25418b(0x32e)]||Date['now']()-_0x334d0f['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x4c195a=(await this[_0x25418b(0x3c7)](_0x1b64c7))['profilePictureUrl'];_0x272685['pictureUrl']=_0x4c195a;}catch(_0xaa1796){let _0x1838b7='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x24b698=_0xaa1796 instanceof Error?_0xaa1796[_0x25418b(0x180)]:typeof _0xaa1796==_0x25418b(0x57f)?JSON[_0x25418b(0x750)](_0xaa1796):_0xaa1796,_0x3cdf6a=_0x1838b7+':\x20'+_0x24b698;throw this[_0x25418b(0x433)][_0x25418b(0x552)](this[_0x25418b(0x643)]+'\x20('+this['instance'][_0x25418b(0x387)]+_0x25418b(0x56b)+_0x3cdf6a),new m(_0x3cdf6a);}return _0x685a09&&_0x334d0f?.[_0x25418b(0x246)]!==_0x685a09&&(_0x272685['name']=_0x685a09),Object['keys'](_0x272685)[_0x25418b(0x2e0)]>0x1&&(_0x334d0f?await this[_0x25418b(0x2ea)][_0x25418b(0x492)][_0x25418b(0x710)]({'where':{'_id':_0x1b64c7}},_0x272685):await this[_0x25418b(0x2ea)][_0x25418b(0x492)]['insert']([{'_id':_0x1b64c7,..._0x272685}]),_0x334d0f={..._0x334d0f,..._0x272685}),{'cachedContact':_0x334d0f};}async[a0_0x349dbc(0x3c7)](_0x4a2016){const _0x368d8e=a0_0x349dbc;let _0x5f389a=this[_0x368d8e(0x75e)](_0x4a2016);try{return{'wuid':_0x5f389a,'profilePictureUrl':await this[_0x368d8e(0x785)][_0x368d8e(0x6d2)](_0x5f389a,_0x368d8e(0x270))};}catch{return{'wuid':_0x5f389a,'profilePictureUrl':null};}}async[a0_0x349dbc(0x401)](_0x4c101c,_0x18bd97,_0x35e000){const _0x3eaae1=a0_0x349dbc;_0x35e000||(_0x35e000={});let _0x2f8783=(await this[_0x3eaae1(0x102)]({'numbers':[_0x4c101c]}))[0x0];if(!_0x2f8783[_0x3eaae1(0x378)]&&!(0x0,f['isJidGroup'])(_0x2f8783[_0x3eaae1(0x260)])&&!_0x2f8783[_0x3eaae1(0x260)][_0x3eaae1(0x12d)](_0x3eaae1(0x408)))throw new m(_0x2f8783);let _0x346451=_0x2f8783[_0x3eaae1(0x260)];try{if(_0x35e000?.[_0x3eaae1(0x297)]){await this['client']['presenceSubscribe'](_0x346451),await this[_0x3eaae1(0x785)][_0x3eaae1(0x391)](_0x35e000?.[_0x3eaae1(0x278)]??_0x3eaae1(0x282),_0x346451);let _0x26b7ea=Math[_0x3eaae1(0x369)](_0x35e000['delay'],0x2710);await(0x0,f['delay'])(_0x26b7ea),await this[_0x3eaae1(0x785)][_0x3eaae1(0x391)]('paused',_0x346451);}let _0x4a72f4=_0x35e000?.[_0x3eaae1(0x747)]!=!0x1?void 0x0:!0x1,_0x1d40a6;if(_0x35e000?.['quoted']){let _0xfaf999=_0x35e000?.[_0x3eaae1(0x1e0)],_0x32aa7a=_0xfaf999?.[_0x3eaae1(0x180)]?_0xfaf999:await this[_0x3eaae1(0x507)](_0xfaf999['key'],!0x0);if(!_0x32aa7a)throw _0x3eaae1(0x268);_0x1d40a6=_0x32aa7a;}let _0x4f08f3;if((0x0,f[_0x3eaae1(0xde)])(_0x346451))try{let _0x37b0c6=(await this['repository']['chat'][_0x3eaae1(0x1a0)]({'where':{'_id':_0x346451}},this['instance'][_0x3eaae1(0x387)]))[_0x3eaae1(0x12c)];if(!_0x37b0c6)throw new J(_0x3eaae1(0x61f));_0x35e000?.[_0x3eaae1(0xf8)]&&(_0x35e000['mentions']?.['everyOne']?_0x4f08f3=_0x37b0c6[_0x3eaae1(0x3b1)][_0x3eaae1(0x568)](_0x19a142=>_0x19a142['id']):_0x35e000[_0x3eaae1(0xf8)]?.[_0x3eaae1(0x115)]?.[_0x3eaae1(0x2e0)]&&(_0x4f08f3=_0x35e000[_0x3eaae1(0xf8)][_0x3eaae1(0x115)]['map'](_0x16bd7c=>{let _0x5c4d32=this['createJid'](_0x16bd7c);return(0x0,f['isJidGroup'])(_0x5c4d32)?null:_0x5c4d32;})));}catch{throw new J('Group\x20not\x20found');}let _0x26fc92=await this[_0x3eaae1(0x2ea)][_0x3eaae1(0x429)][_0x3eaae1(0x1a0)]({'where':{'_id':_0x346451}},this[_0x3eaae1(0x6b9)][_0x3eaae1(0x387)]),_0xe0d288=await((async()=>{const _0x129832=_0x3eaae1;let _0x1163df={'quoted':_0x1d40a6,'ephemeralExpiration':_0x26fc92?.['ephemeralExpiration']??0x0};if(!_0x18bd97[_0x129832(0x6b2)]&&!_0x18bd97[_0x129832(0x28c)]&&!_0x18bd97[_0x129832(0x6b5)]&&!_0x18bd97[_0x129832(0x2e2)]&&_0x346451!=='status@broadcast'&&!_0x18bd97[_0x129832(0x6b2)])return await this[_0x129832(0x785)][_0x129832(0x540)](_0x346451,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x18bd97},'mentions':_0x4f08f3},_0x1163df);if(_0x18bd97['reactionMessage'])return await this[_0x129832(0x785)][_0x129832(0x540)](_0x346451,{'react':{'text':_0x18bd97[_0x129832(0x766)][_0x129832(0x2e7)],'key':_0x18bd97[_0x129832(0x766)][_0x129832(0xc0)]}},_0x1163df);if(_0x18bd97['conversation']){let _0x2b2bd1=_0x18bd97['conversation'];return _0x35e000?.[_0x129832(0x447)]&&(_0x2b2bd1=await this[_0x129832(0x47e)](_0x2b2bd1,_0x346451)),await this[_0x129832(0x785)][_0x129832(0x540)](_0x346451,{'text':_0x2b2bd1,'mentions':_0x4f08f3,'linkPreview':_0x4a72f4},_0x1163df);}return _0x346451===_0x129832(0x5e5)?await this[_0x129832(0x785)][_0x129832(0x540)](_0x346451,_0x18bd97[_0x129832(0x130)][_0x129832(0x5d3)],{'backgroundColor':_0x18bd97[_0x129832(0x130)][_0x129832(0xe9)]['backgroundColor'],'font':_0x18bd97[_0x129832(0x130)]['option']['font'],'statusJidList':_0x18bd97[_0x129832(0x130)][_0x129832(0xe9)][_0x129832(0x361)]}):await this[_0x129832(0x785)]['sendMessage'](_0x346451,_0x18bd97,_0x1163df);})()),_0x1b43c9=(0x0,f[_0x3eaae1(0x449)])(_0xe0d288[_0x3eaae1(0x180)]),_0x1a22da=(0x0,f[_0x3eaae1(0x4d3)])(_0x1b43c9),{message_normalized:_0x3e66be}=this[_0x3eaae1(0x4e6)](_0x1b43c9,_0x1a22da,null),_0x4c5540={'_id':_0xe0d288[_0x3eaae1(0xc0)]['id'],'key':_0xe0d288['key'],'pushName':_0xe0d288[_0x3eaae1(0x79d)],'isGroup':_0xe0d288['key'][_0x3eaae1(0x185)][_0x3eaae1(0x46e)]('@g.us'),'profilePictureUrl':this[_0x3eaae1(0x6b9)][_0x3eaae1(0x6d2)],'message':_0x1b43c9,'messageType':_0x1a22da,'message_normalized':{'key':_0xe0d288['key'],'pushName':_0xe0d288[_0x3eaae1(0x79d)],'messageTimestamp':_0xe0d288[_0x3eaae1(0x5f7)]&&_0xe0d288['messageTimestamp'][_0x3eaae1(0x343)]()[_0x3eaae1(0x2e0)]<0xd?_0xe0d288[_0x3eaae1(0x5f7)]*0x3e8:_0xe0d288['messageTimestamp']||null,'source':(0x0,f['getDevice'])(_0xe0d288[_0x3eaae1(0xc0)]['id']),..._0x3e66be},'messageTimestamp':_0xe0d288[_0x3eaae1(0x5f7)]&&_0xe0d288['messageTimestamp'][_0x3eaae1(0x343)]()['length']<0xd?_0xe0d288[_0x3eaae1(0x5f7)]*0x3e8:_0xe0d288[_0x3eaae1(0x5f7)]||null,'owner':this[_0x3eaae1(0x6b9)]['wuid'],'source':(0x0,f['getDevice'])(_0xe0d288[_0x3eaae1(0xc0)]['id'])};return this[_0x3eaae1(0x433)][_0x3eaae1(0x6ad)](this['instanceName']+'\x20('+this[_0x3eaae1(0x6b9)]['wuid']+_0x3eaae1(0x292)+_0x4c5540[_0x3eaae1(0xc0)]?.[_0x3eaae1(0x185)]['replace'](_0x3eaae1(0x42f),'')+']\x20('+_0x4c5540[_0x3eaae1(0x194)]+')'),_0x4c5540[_0x3eaae1(0x518)]?.[_0x3eaae1(0x2e7)]&&this[_0x3eaae1(0x433)][_0x3eaae1(0x6ad)](_0x4c5540['message_normalized']?.[_0x3eaae1(0x2e7)]),this[_0x3eaae1(0xf2)](_0x3eaae1(0x5a9),_0x4c5540),U(this[_0x3eaae1(0x643)],_0x3eaae1(0x5cb),{'message':_0x4c5540}),this['updateChatWithMessage'](this[_0x3eaae1(0x593)]['get']('DATABASE'),_0x4c5540,_0x3eaae1(0x4df),_0x26fc92),await this['repository'][_0x3eaae1(0x180)][_0x3eaae1(0x24d)]([_0x4c5540],this[_0x3eaae1(0x6b9)]['wuid']),_0xe0d288;}catch(_0x1f17cd){let _0x134778=_0x3eaae1(0x745),_0x2ff00b=_0x1f17cd instanceof Error?_0x1f17cd['message']:typeof _0x1f17cd==_0x3eaae1(0x57f)?JSON[_0x3eaae1(0x750)](_0x1f17cd):_0x1f17cd,_0x4870d2=_0x134778+':\x20'+_0x2ff00b;throw this[_0x3eaae1(0x433)][_0x3eaae1(0x552)](this[_0x3eaae1(0x643)]+'\x20('+this[_0x3eaae1(0x6b9)][_0x3eaae1(0x387)]+_0x3eaae1(0x56b)+_0x4870d2),new m(_0x4870d2);}}get[a0_0x349dbc(0x65a)](){return this['stateConnection'];}async[a0_0x349dbc(0x21b)](_0x42f325){const _0x528c4a=a0_0x349dbc;let _0x1a4cfd=So,_0x1ddae8=et;return _0x1ddae8&&this[_0x528c4a(0x643)][_0x528c4a(0x360)]()[_0x528c4a(0x12d)](_0x1ddae8[_0x528c4a(0x360)]())&&(_0x42f325['textMessage'][_0x528c4a(0x2e7)]+='\x0a\x0a'+_0x1a4cfd),await this['sendMessageWithTyping'](_0x42f325['number'],{'conversation':_0x42f325[_0x528c4a(0x21b)][_0x528c4a(0x2e7)]},_0x42f325?.[_0x528c4a(0x685)]);}async[a0_0x349dbc(0x191)](_0x497631){const _0x46d7bc=a0_0x349dbc;if(!_0x497631[_0x46d7bc(0x3cc)])throw new m(_0x46d7bc(0x1eb));if(!_0x497631[_0x46d7bc(0x5d3)])throw new m(_0x46d7bc(0x457));if(_0x497631[_0x46d7bc(0x107)]){let _0x5c35c3=await this[_0x46d7bc(0x2ea)]['contact'][_0x46d7bc(0x3e0)]({'where':{}},this[_0x46d7bc(0x6b9)][_0x46d7bc(0x387)]);if(!_0x5c35c3[_0x46d7bc(0x2e0)])throw new m(_0x46d7bc(0x59e));_0x497631[_0x46d7bc(0x361)]=_0x5c35c3[_0x46d7bc(0x186)](_0x59d480=>_0x59d480[_0x46d7bc(0x79d)])[_0x46d7bc(0x568)](_0x4f2c4d=>_0x4f2c4d['_id']);}if(!_0x497631[_0x46d7bc(0x361)]?.[_0x46d7bc(0x2e0)]&&!_0x497631[_0x46d7bc(0x107)])throw new m(_0x46d7bc(0x686));if(_0x497631[_0x46d7bc(0x3cc)]===_0x46d7bc(0x2e7)){if(!_0x497631['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0x497631[_0x46d7bc(0x20f)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x497631[_0x46d7bc(0x5d3)]},'option':{'backgroundColor':_0x497631[_0x46d7bc(0x706)],'font':_0x497631[_0x46d7bc(0x20f)],'statusJidList':_0x497631[_0x46d7bc(0x361)]}};}if(_0x497631['type']===_0x46d7bc(0x270))return{'content':{'image':{'url':_0x497631[_0x46d7bc(0x5d3)]},'caption':_0x497631[_0x46d7bc(0x3db)]},'option':{'statusJidList':_0x497631[_0x46d7bc(0x361)]}};if(_0x497631[_0x46d7bc(0x3cc)]===_0x46d7bc(0x21a))return{'content':{'video':{'url':_0x497631[_0x46d7bc(0x5d3)]},'caption':_0x497631[_0x46d7bc(0x3db)]},'option':{'statusJidList':_0x497631['statusJidList']}};if(_0x497631['type']===_0x46d7bc(0x6b2)){this[_0x46d7bc(0x433)]['verbose']('Type\x20defined\x20as\x20audio'),this[_0x46d7bc(0x433)][_0x46d7bc(0x3b4)]('Processing\x20audio');let _0x5e439c=await this[_0x46d7bc(0x32a)](_0x497631['content']);if(typeof _0x5e439c==_0x46d7bc(0x28d)){this[_0x46d7bc(0x433)]['verbose']('Audio\x20processed');let _0x23cb37=j[_0x46d7bc(0x582)](_0x5e439c)['toString'](_0x46d7bc(0x261));return{'content':{'audio':Buffer['from'](_0x23cb37,_0x46d7bc(0x261)),'ptt':!0x0,'mimetype':_0x46d7bc(0x20e)},'option':{'statusJidList':_0x497631[_0x46d7bc(0x361)]}};}else throw new I(_0x5e439c);}throw new m(_0x46d7bc(0x644));}async[a0_0x349dbc(0x694)](_0x5dbaa9){const _0x475f10=a0_0x349dbc;return await this[_0x475f10(0x401)](_0x475f10(0x5e5),{'status':await this['formatStatusMessage'](_0x5dbaa9['statusMessage'])});}async['prepareMediaMessage'](_0x47ae5d){const _0x20409b=a0_0x349dbc;try{let _0x249201=await(0x0,f[_0x20409b(0x332)])({[_0x47ae5d[_0x20409b(0x4f3)]]:(0x0,P[_0x20409b(0x2b8)])(_0x47ae5d[_0x20409b(0x127)])?{'url':_0x47ae5d[_0x20409b(0x127)]}:Buffer['from'](_0x47ae5d[_0x20409b(0x127)],'base64')},{'upload':this[_0x20409b(0x785)]['waUploadToServer']}),_0xccdfd4=_0x47ae5d[_0x20409b(0x4f3)]+_0x20409b(0x458);if(_0x47ae5d[_0x20409b(0x4f3)]===_0x20409b(0x2cc)&&!_0x47ae5d[_0x20409b(0x474)]){let _0x279ae2=new RegExp(/.*\/(.+?)\./)[_0x20409b(0xc3)](_0x47ae5d[_0x20409b(0x127)]);_0x47ae5d['fileName']=_0x279ae2?_0x279ae2[0x1]:null;}let _0x5d91b4=(0x0,P[_0x20409b(0x2b8)])(_0x47ae5d[_0x20409b(0x127)])?_0x47ae5d[_0x20409b(0x127)]['split']('?')[0x0]:_0x47ae5d[_0x20409b(0x127)];this[_0x20409b(0x433)][_0x20409b(0x3b4)]('URL\x20limpa:\x20'+_0x5d91b4);let _0x2db89d;(0x0,P['isURL'])(_0x47ae5d[_0x20409b(0x127)])?_0x2db89d=(0x0,kt[_0x20409b(0x478)])(_0x5d91b4):_0x47ae5d[_0x20409b(0x474)]&&_0x47ae5d[_0x20409b(0x474)]['includes']('.')?_0x2db89d=(0x0,kt[_0x20409b(0x478)])(_0x47ae5d[_0x20409b(0x474)]):_0x2db89d=(0x0,kt[_0x20409b(0x478)])(_0x47ae5d[_0x20409b(0x127)]);let _0x4a6986=So,_0x4bccfd=et;return _0x4bccfd&&this[_0x20409b(0x643)][_0x20409b(0x360)]()[_0x20409b(0x12d)](_0x4bccfd[_0x20409b(0x360)]())&&(_0x47ae5d[_0x20409b(0x3db)]+='\x0a\x0a'+_0x4a6986),_0x249201[_0xccdfd4]['caption']=_0x47ae5d?.[_0x20409b(0x3db)],_0x249201[_0xccdfd4]['mimetype']=_0x2db89d,_0x249201[_0xccdfd4][_0x20409b(0x474)]=_0x47ae5d[_0x20409b(0x474)],_0x47ae5d[_0x20409b(0x4f3)]===_0x20409b(0x21a)&&(_0x249201[_0xccdfd4]['jpegThumbnail']=Uint8Array['from']((0x0,Te[_0x20409b(0x582)])((0x0,F['join'])(process[_0x20409b(0x5a3)](),_0x20409b(0x174)))),_0x249201[_0xccdfd4]['gifPlayback']=!0x1),(0x0,f[_0x20409b(0x351)])('',{[_0xccdfd4]:{..._0x249201[_0xccdfd4]}},{'userJid':this[_0x20409b(0x6b9)][_0x20409b(0x387)]});}catch(_0x55167f){let _0x21ecf7='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0x1bd4b0=_0x55167f instanceof Error?_0x55167f[_0x20409b(0x180)]:typeof _0x55167f==_0x20409b(0x57f)?JSON['stringify'](_0x55167f):_0x55167f,_0x2b3553=_0x21ecf7+':\x20'+_0x1bd4b0;throw this[_0x20409b(0x433)][_0x20409b(0x552)](this[_0x20409b(0x643)]+'\x20('+this['instance'][_0x20409b(0x387)]+_0x20409b(0x56b)+_0x2b3553),new I(_0x2b3553);}}async[a0_0x349dbc(0x619)](_0x17bd28){const _0x3de434=a0_0x349dbc;let _0xada3a=await this[_0x3de434(0x3c2)](_0x17bd28[_0x3de434(0x619)]);return await this['sendMessageWithTyping'](_0x17bd28[_0x3de434(0x234)],{..._0xada3a[_0x3de434(0x180)]},_0x17bd28?.[_0x3de434(0x685)]);}async['convertToWebP'](_0x3b62b5,_0x3db027){const _0x31c747=a0_0x349dbc;try{this['logger'][_0x31c747(0x3b4)](_0x31c747(0x707));let _0x3c8803,_0x4154f4=_0x3db027+'-'+new Date()['getTime']();this['logger']['verbose'](_0x31c747(0x45c)+_0x4154f4);let _0x48a824=''+(0x0,F['join'])(this[_0x31c747(0x66c)],_0x4154f4+'.webp');if(this[_0x31c747(0x433)][_0x31c747(0x3b4)]('Output\x20path:\x20'+_0x48a824),(0x0,P[_0x31c747(0x241)])(_0x3b62b5)){this['logger'][_0x31c747(0x3b4)](_0x31c747(0x111));let _0x86eccc=_0x3b62b5[_0x31c747(0x1b7)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4fc8f3=Buffer[_0x31c747(0x6eb)](_0x86eccc,'base64');_0x3c8803=''+(0x0,F['join'])(this['storePath'],'temp-'+_0x4154f4+_0x31c747(0x34f)),this[_0x31c747(0x433)][_0x31c747(0x3b4)](_0x31c747(0x74b)+_0x3c8803),await(0x0,Lt['default'])(_0x4fc8f3)[_0x31c747(0x627)](_0x3c8803),this[_0x31c747(0x433)][_0x31c747(0x3b4)]('Image\x20created');}else{this[_0x31c747(0x433)][_0x31c747(0x3b4)]('Image\x20is\x20url');let _0x54466c=new Date()[_0x31c747(0x74e)](),_0x46c69c=_0x3b62b5+'?timestamp='+_0x54466c;this[_0x31c747(0x433)][_0x31c747(0x3b4)](_0x31c747(0x5ba)+_0x46c69c);let _0x28198a=await K[_0x31c747(0x231)][_0x31c747(0x2cd)](_0x46c69c,{'responseType':_0x31c747(0x402)});this[_0x31c747(0x433)]['verbose']('Getting\x20image\x20from\x20url');let _0x22b1eb=Buffer[_0x31c747(0x6eb)](_0x28198a[_0x31c747(0x6fb)],_0x31c747(0x17c));_0x3c8803=''+(0x0,F[_0x31c747(0x71a)])(this[_0x31c747(0x66c)],_0x31c747(0x138)+_0x4154f4+'.png'),this[_0x31c747(0x433)]['verbose'](_0x31c747(0x74b)+_0x3c8803),await(0x0,Lt[_0x31c747(0x231)])(_0x22b1eb)['toFile'](_0x3c8803),this[_0x31c747(0x433)][_0x31c747(0x3b4)](_0x31c747(0x38f));}return await(0x0,Lt[_0x31c747(0x231)])(_0x3c8803)[_0x31c747(0x1b4)]()['toFile'](_0x48a824),this[_0x31c747(0x433)][_0x31c747(0x3b4)]('Image\x20converted\x20to\x20WebP'),j[_0x31c747(0x377)](_0x3c8803),this[_0x31c747(0x433)][_0x31c747(0x3b4)](_0x31c747(0x38c)),_0x48a824;}catch(_0x7c1b26){let _0x117ad9=_0x31c747(0x4d8),_0x310f44=_0x7c1b26 instanceof Error?_0x7c1b26[_0x31c747(0x180)]:typeof _0x7c1b26==_0x31c747(0x57f)?JSON[_0x31c747(0x750)](_0x7c1b26):_0x7c1b26,_0x49f6bd=_0x117ad9+':\x20'+_0x310f44;this[_0x31c747(0x433)][_0x31c747(0x552)](this[_0x31c747(0x643)]+'\x20('+this[_0x31c747(0x6b9)][_0x31c747(0x387)]+'):\x20'+_0x49f6bd);}}async['mediaSticker'](_0x3d441c){const _0x2d168e=a0_0x349dbc;let _0x47ced6=await this['convertToWebP'](_0x3d441c[_0x2d168e(0x15c)][_0x2d168e(0x270)],_0x3d441c[_0x2d168e(0x234)]),_0xec8382=await this['sendMessageWithTyping'](_0x3d441c[_0x2d168e(0x234)],{'sticker':{'url':_0x47ced6}},_0x3d441c?.['options']);return j[_0x2d168e(0x377)](_0x47ced6),this['logger'][_0x2d168e(0x3b4)](_0x2d168e(0x455)),_0xec8382;}async['audioWhatsapp'](_0x3cdbad){const _0x3e7a6b=a0_0x349dbc;if(this[_0x3e7a6b(0x433)][_0x3e7a6b(0x3b4)](_0x3e7a6b(0x789)),!_0x3cdbad[_0x3e7a6b(0x685)]?.['encoding']&&_0x3cdbad[_0x3e7a6b(0x685)]?.[_0x3e7a6b(0x548)]!==!0x1&&(_0x3cdbad['options'][_0x3e7a6b(0x548)]=!0x0),_0x3cdbad[_0x3e7a6b(0x685)]?.['encoding']){let _0x2c5ffc=await this[_0x3e7a6b(0x32a)](_0x3cdbad[_0x3e7a6b(0xf5)][_0x3e7a6b(0x6b2)]);if(typeof _0x2c5ffc=='string'){let _0xbfa3be=j[_0x3e7a6b(0x582)](_0x2c5ffc)[_0x3e7a6b(0x343)](_0x3e7a6b(0x261));return this['sendMessageWithTyping'](_0x3cdbad[_0x3e7a6b(0x234)],{'audio':Buffer['from'](_0xbfa3be,_0x3e7a6b(0x261)),'ptt':!0x0,'mimetype':_0x3e7a6b(0x64a)},{'presence':'recording','delay':_0x3cdbad?.[_0x3e7a6b(0x685)]?.[_0x3e7a6b(0x297)]});}else throw new I(_0x2c5ffc);}return await this[_0x3e7a6b(0x401)](_0x3cdbad[_0x3e7a6b(0x234)],{'audio':(0x0,P['isURL'])(_0x3cdbad[_0x3e7a6b(0xf5)]['audio'])?{'url':_0x3cdbad[_0x3e7a6b(0xf5)][_0x3e7a6b(0x6b2)]}:Buffer[_0x3e7a6b(0x6eb)](_0x3cdbad[_0x3e7a6b(0xf5)][_0x3e7a6b(0x6b2)],_0x3e7a6b(0x261)),'ptt':!0x0,'mimetype':_0x3e7a6b(0x64a)},{'presence':_0x3e7a6b(0x467),'delay':_0x3cdbad?.[_0x3e7a6b(0x685)]?.[_0x3e7a6b(0x297)]});}async['convertaudio'](_0x1922a6){const _0x38bb0f=a0_0x349dbc;this[_0x38bb0f(0x433)]['verbose'](_0x38bb0f(0x54c));let _0x2b5a38=(0x0,P[_0x38bb0f(0x2b8)])(_0x1922a6)?(0x0,Ut['createHash'])(_0x38bb0f(0x42d))[_0x38bb0f(0x710)](_0x1922a6)['digest'](_0x38bb0f(0x48a)):(0x0,Ut[_0x38bb0f(0x3e9)])(_0x38bb0f(0x42d))[_0x38bb0f(0x710)](_0x1922a6)[_0x38bb0f(0x695)](_0x38bb0f(0x48a)),_0x193fb8=''+(0x0,F[_0x38bb0f(0x71a)])(this[_0x38bb0f(0x66c)],_0x2b5a38+_0x38bb0f(0x3d5));if(j['existsSync'](_0x193fb8))return this[_0x38bb0f(0x433)]['verbose']('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x193fb8;let _0x17e679=''+(0x0,F[_0x38bb0f(0x71a)])(this[_0x38bb0f(0x66c)],_0x38bb0f(0x138)+(0x0,jt['v4'])()+_0x38bb0f(0x5fc));if((0x0,P[_0x38bb0f(0x2b8)])(_0x1922a6)){let _0x44fd99=new Date()[_0x38bb0f(0x74e)](),_0x215315=_0x1922a6+_0x38bb0f(0x161)+_0x44fd99,_0x5376bd=await K[_0x38bb0f(0x231)]['get'](_0x215315,{'responseType':'arraybuffer'});j['writeFileSync'](_0x17e679,_0x5376bd['data']);}else{let _0xc6f9e6=Buffer[_0x38bb0f(0x6eb)](_0x1922a6,_0x38bb0f(0x261));j[_0x38bb0f(0x767)](_0x17e679,_0xc6f9e6);}return new Promise((_0x315eb3,_0x46ae42)=>{const _0x3d6d6c=_0x38bb0f;(0x0,$e[_0x3d6d6c(0xc3)])(Os['default'][_0x3d6d6c(0x6df)]+_0x3d6d6c(0x51e)+_0x17e679+_0x3d6d6c(0x60d)+_0x193fb8+'\x20-y',_0x34b4e0=>{const _0x422260=_0x3d6d6c;if(j['unlinkSync'](_0x17e679),_0x34b4e0){this[_0x422260(0x433)]['verbose'](_0x422260(0x421)),_0x46ae42(_0x34b4e0);return;}this[_0x422260(0x433)][_0x422260(0x3b4)](_0x422260(0x610)),_0x315eb3(_0x193fb8);});});}async[a0_0x349dbc(0x10c)](_0x42aa4c){const _0x5a1083=a0_0x349dbc;this[_0x5a1083(0x433)]['verbose'](_0x5a1083(0x54c));let _0x164504=(0x0,Ut[_0x5a1083(0x3e9)])('sha256')['update'](_0x42aa4c)[_0x5a1083(0x695)](_0x5a1083(0x48a)),_0x1b2274=''+(0x0,F[_0x5a1083(0x71a)])(this['storePath'],_0x164504+_0x5a1083(0x5fc));if(j[_0x5a1083(0x63a)](_0x1b2274))return this['logger'][_0x5a1083(0x3b4)](_0x5a1083(0xf9)),F[_0x5a1083(0x231)][_0x5a1083(0x70f)](_0x1b2274);let _0x4525f4=''+(0x0,F[_0x5a1083(0x71a)])(this[_0x5a1083(0x66c)],_0x5a1083(0x138)+_0x164504+_0x5a1083(0x3d5));if((0x0,P[_0x5a1083(0x2b8)])(_0x42aa4c)){let _0x592864=new Date()[_0x5a1083(0x74e)](),_0x364d6c=_0x42aa4c+_0x5a1083(0x161)+_0x592864,_0xc679d6=await K[_0x5a1083(0x231)][_0x5a1083(0x2cd)](_0x364d6c,{'responseType':_0x5a1083(0x402)});j['writeFileSync'](_0x4525f4,_0xc679d6[_0x5a1083(0x6fb)]);}else{let _0x3ac32c=Buffer[_0x5a1083(0x6eb)](_0x42aa4c,'base64');j[_0x5a1083(0x767)](_0x4525f4,_0x3ac32c);}return new Promise((_0x1b22f8,_0x135f59)=>{const _0x2c8511=_0x5a1083;(0x0,$e[_0x2c8511(0xc3)])(Os['default'][_0x2c8511(0x6df)]+'\x20-i\x20'+_0x4525f4+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x1b2274+_0x2c8511(0x2e9),_0x29bd83=>{const _0x623efd=_0x2c8511;if(j[_0x623efd(0x377)](_0x4525f4),_0x29bd83){this[_0x623efd(0x433)][_0x623efd(0x3b4)](_0x623efd(0x421)),_0x135f59(_0x29bd83);return;}this[_0x623efd(0x433)]['verbose'](_0x623efd(0x610)),_0x1b22f8(F[_0x623efd(0x231)][_0x623efd(0x70f)](_0x1b2274));});});}async[a0_0x349dbc(0x16c)](_0x3a9686){const _0x6793bb=a0_0x349dbc;let _0x4afdd0={},_0x28506e='TEXT';if(_0x3a9686[_0x6793bb(0x16c)]?.[_0x6793bb(0x619)]){_0x28506e=_0x3a9686[_0x6793bb(0x16c)][_0x6793bb(0x619)]?.[_0x6793bb(0x4f3)][_0x6793bb(0x4fb)]()??_0x6793bb(0x1f1),_0x4afdd0[_0x6793bb(0x24e)]=_0x28506e[_0x6793bb(0x360)]()+_0x6793bb(0x458);let _0x444730=await this[_0x6793bb(0x3c2)](_0x3a9686[_0x6793bb(0x16c)][_0x6793bb(0x619)]);_0x4afdd0[_0x6793bb(0x180)]=_0x444730[_0x6793bb(0x180)][_0x4afdd0[_0x6793bb(0x24e)]],_0x4afdd0[_0x6793bb(0x237)]='*'+_0x3a9686[_0x6793bb(0x16c)][_0x6793bb(0x2ae)]+'*\x0a\x0a'+_0x3a9686[_0x6793bb(0x16c)][_0x6793bb(0x23e)];}let _0x52f61c={'text':_0x3a9686[_0x6793bb(0x16c)][_0x6793bb(0x295)][_0x6793bb(0x568)](_0x397366=>_0x397366['buttonText']),'ids':_0x3a9686['buttonMessage'][_0x6793bb(0x295)][_0x6793bb(0x568)](_0x9c068e=>_0x9c068e[_0x6793bb(0x5fb)])};if(!(0x0,P['arrayUnique'])(_0x52f61c['text'])||!(0x0,P['arrayUnique'])(_0x52f61c['ids']))throw new m(_0x6793bb(0x2fa),_0x6793bb(0x2c9));return await this[_0x6793bb(0x401)](_0x3a9686[_0x6793bb(0x234)],{'buttonsMessage':{'text':_0x4afdd0?.[_0x6793bb(0x24e)]?void 0x0:_0x3a9686[_0x6793bb(0x16c)][_0x6793bb(0x2ae)],'contentText':_0x4afdd0?.[_0x6793bb(0x237)]??_0x3a9686[_0x6793bb(0x16c)]['description'],'footerText':_0x3a9686[_0x6793bb(0x16c)]?.[_0x6793bb(0x205)],'buttons':_0x3a9686[_0x6793bb(0x16c)][_0x6793bb(0x295)][_0x6793bb(0x568)](_0x56778b=>({'buttonText':{'displayText':_0x56778b['buttonText']},'buttonId':_0x56778b['buttonId'],'type':0x1})),'headerType':f[_0x6793bb(0x487)]['Message'][_0x6793bb(0x74d)][_0x6793bb(0x3d8)][_0x28506e],[_0x4afdd0?.[_0x6793bb(0x24e)]]:_0x4afdd0?.[_0x6793bb(0x180)]}},_0x3a9686?.[_0x6793bb(0x685)]);}async['locationMessage'](_0x46a0af){const _0x2b347c=a0_0x349dbc;return await this[_0x2b347c(0x401)](_0x46a0af['number'],{'locationMessage':{'degreesLatitude':_0x46a0af[_0x2b347c(0x2c8)][_0x2b347c(0x488)],'degreesLongitude':_0x46a0af[_0x2b347c(0x2c8)][_0x2b347c(0x136)],'name':_0x46a0af['locationMessage']?.[_0x2b347c(0x246)],'address':_0x46a0af[_0x2b347c(0x2c8)]?.['address']}},_0x46a0af?.[_0x2b347c(0x685)]);}async[a0_0x349dbc(0x720)](_0x493b25){const _0x199be5=a0_0x349dbc;let _0x378323={},_0x5ab700=async _0x4e9995=>{const _0x2e619c=a0_0x5444;let _0x1553ae=_0x2e619c(0x5c3)+_0x4e9995[_0x2e619c(0xec)]+_0x2e619c(0x27d)+_0x4e9995[_0x2e619c(0xec)]+'\x0a';_0x4e9995[_0x2e619c(0x316)]&&(_0x1553ae+=_0x2e619c(0x10d)+_0x4e9995['organization']+';\x0a'),_0x4e9995[_0x2e619c(0x697)]&&(_0x1553ae+=_0x2e619c(0x5ce)+_0x4e9995[_0x2e619c(0x697)]+'\x0a'),_0x4e9995[_0x2e619c(0x2f2)]&&(_0x1553ae+='URL:'+_0x4e9995[_0x2e619c(0x2f2)]+'\x0a');let _0x126daf='',_0x14e074=0x1;if(_0x4e9995[_0x2e619c(0x49a)]){let _0x47ec38=_0x4e9995[_0x2e619c(0x49a)][_0x2e619c(0x13d)]('|');for(let _0x37b4d7 of _0x47ec38){let _0x1b094a=await this['whatsappNumber']({'numbers':[_0x37b4d7]}),_0x25c1fb=(_0x1b094a[_0x2e619c(0x2e0)]>0x0?_0x1b094a[0x0][_0x2e619c(0x260)]:this[_0x2e619c(0x75e)](_0x37b4d7))[_0x2e619c(0x1b7)](_0x2e619c(0x42f),'');_0x126daf+=_0x2e619c(0x37c)+_0x14e074+_0x2e619c(0x516)+_0x25c1fb+':'+_0x37b4d7+_0x2e619c(0x64b)+_0x14e074+_0x2e619c(0x19c),_0x14e074++;}}return _0x1553ae+=_0x126daf+_0x2e619c(0x56e),_0x1553ae;};return _0x493b25[_0x199be5(0x720)][_0x199be5(0x2e0)]===0x1?_0x378323[_0x199be5(0x720)]={'displayName':_0x493b25[_0x199be5(0x720)][0x0][_0x199be5(0xec)],'vcard':await _0x5ab700(_0x493b25[_0x199be5(0x720)][0x0])}:_0x378323['contactsArrayMessage']={'displayName':_0x493b25[_0x199be5(0x720)][_0x199be5(0x2e0)]+_0x199be5(0x3ee),'contacts':await Promise['all'](_0x493b25[_0x199be5(0x720)][_0x199be5(0x568)](async _0x359516=>({'displayName':_0x359516['fullName'],'vcard':await _0x5ab700(_0x359516)})))},await this[_0x199be5(0x401)](_0x493b25[_0x199be5(0x234)],{..._0x378323},_0x493b25?.[_0x199be5(0x685)]);}async[a0_0x349dbc(0x766)](_0xd7f10e){const _0x17c86b=a0_0x349dbc;return await this['sendMessageWithTyping'](_0xd7f10e[_0x17c86b(0x766)][_0x17c86b(0xc0)]['remoteJid'],{'reactionMessage':{'key':_0xd7f10e[_0x17c86b(0x766)][_0x17c86b(0xc0)],'text':_0xd7f10e[_0x17c86b(0x766)][_0x17c86b(0x608)]}});}async['whatsappNumber'](_0x5c76cb){const _0x351636=a0_0x349dbc;let _0x36193f=[];for await(let _0x212b46 of _0x5c76cb[_0x351636(0x3ce)]){let _0x230512=this[_0x351636(0x75e)](_0x212b46),_0x32353c=!0x1;try{if((0x0,f['isJidGroup'])(_0x230512)){let _0x2c90e3=(await this['repository']['chat'][_0x351636(0x1a0)]({'where':{'_id':_0x230512}},this[_0x351636(0x6b9)]['wuid']))[_0x351636(0x12c)];_0x32353c=!!_0x2c90e3?.['id']&&!!_0x2c90e3?.[_0x351636(0x1b0)],_0x36193f['push'](new ye(_0x2c90e3['id'],_0x32353c,_0x2c90e3?.[_0x351636(0x48d)]));}else{let _0x5e2412=(await this[_0x351636(0x785)]['onWhatsApp'](_0x230512))[0x0];_0x32353c=_0x5e2412[_0x351636(0x378)],_0x36193f[_0x351636(0x3fd)](new ye(_0x5e2412[_0x351636(0x260)],_0x32353c));}}catch{(0x0,f[_0x351636(0xde)])(_0x230512)||await this['deleteImportedChat'](_0x230512,_0x32353c),_0x36193f[_0x351636(0x3fd)](new ye(_0x212b46,!0x1));}}return _0x36193f;}async[a0_0x349dbc(0x4eb)](_0x26f130,_0x2bac40){const _0x593045=a0_0x349dbc;try{await this[_0x593045(0x2ea)][_0x593045(0x429)][_0x593045(0x1a0)]({'where':{'_id':_0x26f130,'imported':!0x0}},this[_0x593045(0x6b9)]['wuid'])&&(_0x2bac40||(await this['repository'][_0x593045(0x429)][_0x593045(0x31e)](_0x26f130,this['instance'][_0x593045(0x387)]),this[_0x593045(0x433)][_0x593045(0x6f9)](_0x593045(0x218)+_0x26f130+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x2ef935){let _0x1b222e=_0x593045(0x2fd),_0x4eb792=_0x2ef935 instanceof Error?_0x2ef935[_0x593045(0x180)]:typeof _0x2ef935=='object'?JSON[_0x593045(0x750)](_0x2ef935):_0x2ef935,_0x21e308=_0x1b222e+':\x20'+_0x4eb792;this['logger'][_0x593045(0x552)](this[_0x593045(0x643)]+'\x20('+this['instance']['wuid']+_0x593045(0x56b)+_0x21e308);}}async['markMessageAsRead'](_0x5a33dc){const _0x34ba6d=a0_0x349dbc;try{let _0x179c36=_0x5a33dc[_0x34ba6d(0x5c0)][_0x34ba6d(0x186)](_0x2073cd=>(0x0,f[_0x34ba6d(0xde)])(_0x2073cd[_0x34ba6d(0x185)])||(0x0,f[_0x34ba6d(0x746)])(_0x2073cd[_0x34ba6d(0x185)]))[_0x34ba6d(0x568)](_0x4c5255=>({'remoteJid':_0x4c5255[_0x34ba6d(0x185)],'fromMe':_0x4c5255[_0x34ba6d(0x73c)],'id':_0x4c5255['id']}));await this[_0x34ba6d(0x785)][_0x34ba6d(0x5c0)](_0x179c36);let _0x5db3e2=_0x179c36['map'](_0x2c933b=>this[_0x34ba6d(0x30f)](_0x2c933b,{'status':'READ','owner':this[_0x34ba6d(0x6b9)]['wuid']})),_0x58becb=_0x179c36[_0x34ba6d(0x568)](_0xe6f0c2=>this['repository'][_0x34ba6d(0x429)][_0x34ba6d(0x36b)]({'where':{'_id':_0xe6f0c2[_0x34ba6d(0x185)]}},{'unreadcount':0x0},this[_0x34ba6d(0x6b9)][_0x34ba6d(0x387)])),[_0x41ccb6,_0x26c55e]=await Promise[_0x34ba6d(0x77f)]([Promise[_0x34ba6d(0x77f)](_0x5db3e2),Promise[_0x34ba6d(0x77f)](_0x58becb)]);return _0x26c55e[_0x34ba6d(0x186)](_0x41ea10=>_0x41ea10!==null)['forEach'](_0x1dfa5d=>{const _0x4fea50=_0x34ba6d;U(this[_0x4fea50(0x643)],_0x4fea50(0x1b9),{'chat':_0x1dfa5d});}),{'message':_0x34ba6d(0x45f),'read':'success'};}catch(_0x4b58e7){let _0x5ad2e3=_0x34ba6d(0x574),_0x31e41b=_0x4b58e7 instanceof Error?_0x4b58e7[_0x34ba6d(0x180)]:typeof _0x4b58e7==_0x34ba6d(0x57f)?JSON[_0x34ba6d(0x750)](_0x4b58e7):_0x4b58e7,_0x1ad7f3=_0x5ad2e3+':\x20'+_0x31e41b;throw this[_0x34ba6d(0x433)][_0x34ba6d(0x552)](this[_0x34ba6d(0x643)]+'\x20('+this['instance'][_0x34ba6d(0x387)]+_0x34ba6d(0x56b)+_0x1ad7f3),new I(_0x1ad7f3);}}async[a0_0x349dbc(0x2b2)](_0xba32c){const _0x522551=a0_0x349dbc;let _0x2f4818={'where':{'key':{'remoteJid':_0xba32c}},'limit':0x1},_0x4aa8a6=await this['fetchMessages'](_0x2f4818);return _0x4aa8a6||(console['error'](_0x522551(0x45e),_0xba32c),null);}async[a0_0x349dbc(0x57d)](_0x3434d2){const _0x2c4e1d=a0_0x349dbc;this[_0x2c4e1d(0x433)][_0x2c4e1d(0x3b4)](_0x2c4e1d(0x155));try{let _0x8d5319=_0x3434d2['lastMessage'],_0x5769ce=_0x3434d2[_0x2c4e1d(0x429)];if(!_0x8d5319&&_0x5769ce?_0x8d5319=await this['getLastMessage'](_0x5769ce):(_0x8d5319=_0x3434d2[_0x2c4e1d(0x334)],_0x8d5319[_0x2c4e1d(0x5f7)]=_0x8d5319?.[_0x2c4e1d(0x5f7)]??Date[_0x2c4e1d(0x6db)](),_0x5769ce=_0x8d5319?.['key']?.['remoteJid']),!_0x8d5319||Object[_0x2c4e1d(0x4a4)](_0x8d5319)[_0x2c4e1d(0x2e0)]===0x0)throw new J(_0x2c4e1d(0xd1));this['logger']['verbose'](_0x2c4e1d(0x3df)+_0x5769ce);try{await this[_0x2c4e1d(0x785)][_0x2c4e1d(0xc4)]({'archive':_0x3434d2[_0x2c4e1d(0x3ef)],'lastMessages':[_0x8d5319]},this['createJid'](_0x5769ce));}catch(_0x1e3877){let _0x1301db=_0x2c4e1d(0x242)+_0x5769ce,_0x5a272e=_0x1e3877 instanceof Error?_0x1e3877[_0x2c4e1d(0x180)]:typeof _0x1e3877=='object'?JSON['stringify'](_0x1e3877):_0x1e3877,_0xeaacb1=_0x1301db+':\x20'+_0x5a272e;this[_0x2c4e1d(0x433)]['error'](this[_0x2c4e1d(0x643)]+'\x20('+this['instance'][_0x2c4e1d(0x387)]+_0x2c4e1d(0x56b)+_0xeaacb1);}this[_0x2c4e1d(0x433)][_0x2c4e1d(0x3b4)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x5769ce);let _0x1f5256=await this['repository']['chat']['updateOne']({'where':{'_id':_0x8d5319?.[_0x2c4e1d(0xc0)]?.[_0x2c4e1d(0x185)]}},{'archived':_0x3434d2['archive']},this['instance'][_0x2c4e1d(0x387)]);return _0x1f5256?(this[_0x2c4e1d(0x433)][_0x2c4e1d(0x3b4)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON['stringify'](_0x1f5256)),U(this[_0x2c4e1d(0x643)],'chats',{'chat':_0x1f5256})):this[_0x2c4e1d(0x433)][_0x2c4e1d(0x552)](_0x2c4e1d(0x716)+_0x5769ce),{'chatId':_0x5769ce,'archived':_0x3434d2[_0x2c4e1d(0x3ef)]};}catch(_0x374e6d){let _0x221632=_0x2c4e1d(0x27f),_0x5443fa=_0x374e6d instanceof Error?_0x374e6d[_0x2c4e1d(0x180)]:typeof _0x374e6d==_0x2c4e1d(0x57f)?JSON['stringify'](_0x374e6d):_0x374e6d,_0x3d5e4d=_0x221632+':\x20'+_0x5443fa;throw this['logger'][_0x2c4e1d(0x552)](this[_0x2c4e1d(0x643)]+'\x20('+this[_0x2c4e1d(0x6b9)]['wuid']+_0x2c4e1d(0x56b)+_0x3d5e4d),new I(_0x3d5e4d);}}async[a0_0x349dbc(0x31e)](_0x348ac6){const _0x3f8154=a0_0x349dbc;this['logger'][_0x3f8154(0x3b4)](_0x3f8154(0x495));try{let _0x4a5d84=await this[_0x3f8154(0x2b2)](_0x348ac6);if(!_0x4a5d84||Object[_0x3f8154(0x4a4)](_0x4a5d84)[_0x3f8154(0x2e0)]===0x0)throw new J(_0x3f8154(0xd1));let _0x53923a=_0x4a5d84[0x0];this[_0x3f8154(0x433)][_0x3f8154(0x3b4)](_0x3f8154(0x50a)+_0x348ac6);try{await this[_0x3f8154(0x785)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x53923a[_0x3f8154(0xc0)],'messageTimestamp':_0x53923a[_0x3f8154(0x5f7)]}]},this[_0x3f8154(0x75e)](_0x348ac6));}catch(_0x5bec3f){this[_0x3f8154(0x433)][_0x3f8154(0x552)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x348ac6+':\x20'+_0x5bec3f['toString']());}this[_0x3f8154(0x433)][_0x3f8154(0x3b4)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x348ac6);return;}catch(_0x4a6dd3){throw this[_0x3f8154(0x433)][_0x3f8154(0x552)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x4a6dd3[_0x3f8154(0x343)]()),new I({'archived':!0x1,'message':[_0x3f8154(0x426),_0x4a6dd3[_0x3f8154(0x343)]()]});}}async[a0_0x349dbc(0x1e4)](_0x1f59f5){const _0x1ce790=a0_0x349dbc;try{let _0x3d67cd=await this[_0x1ce790(0x785)]['sendMessage'](_0x1f59f5[_0x1ce790(0x185)],{'delete':_0x1f59f5});try{let _0x5d0da9=await this['updateMessage'](_0x1f59f5,{'status':_0x1ce790(0x76f),'owner':this[_0x1ce790(0x6b9)][_0x1ce790(0x387)]});this[_0x1ce790(0x433)][_0x1ce790(0x3b4)](this[_0x1ce790(0x643)]+'\x20('+this['instance'][_0x1ce790(0x387)]+_0x1ce790(0x4bb)+_0x5d0da9);}catch(_0x5901c7){console[_0x1ce790(0x552)](_0x1ce790(0x3d1),_0x5901c7);}return _0x3d67cd;}catch(_0x11c7dc){throw new I(_0x1ce790(0x636),_0x11c7dc?.[_0x1ce790(0x343)]());}}async[a0_0x349dbc(0x38d)](_0x414fd7){const _0x96b9cb=a0_0x349dbc;try{let _0x1cdab3=_0x414fd7?.[_0x96b9cb(0x180)]?_0x414fd7:await this[_0x96b9cb(0x507)](_0x414fd7[_0x96b9cb(0xc0)],!0x0);for(let _0x1b55c0 of ya)_0x1cdab3['message'][_0x1b55c0]&&(_0x1cdab3[_0x96b9cb(0x180)]=_0x1cdab3[_0x96b9cb(0x180)][_0x1b55c0]['message']);let _0x1cbb9b,_0x40733c;for(let _0x4694aa of wa)if(_0x1cbb9b=_0x1cdab3[_0x96b9cb(0x180)][_0x4694aa],_0x1cbb9b){_0x40733c=_0x4694aa;break;}if(!_0x1cbb9b)throw _0x96b9cb(0x5fe);typeof _0x1cbb9b[_0x96b9cb(0x24e)]=='object'&&(_0x1cdab3[_0x96b9cb(0x180)]=JSON['parse'](JSON['stringify'](_0x1cdab3['message'])));let _0x2bfc15=await(0x0,f['downloadMediaMessage'])({'key':_0x1cdab3?.[_0x96b9cb(0xc0)],'message':_0x1cdab3?.[_0x96b9cb(0x180)]},'buffer',{},{'logger':(0x0,Pt[_0x96b9cb(0x231)])({'level':_0x96b9cb(0x3bf)}),'reuploadRequest':this['client'][_0x96b9cb(0x154)]});if(!(_0x2bfc15 instanceof Buffer))throw new Error(_0x96b9cb(0x639));let _0x23558f=this[_0x96b9cb(0x593)][_0x96b9cb(0x2cd)](_0x96b9cb(0x748)),_0x207b8c,_0x5c3b12;if(_0x1cbb9b[_0x96b9cb(0x474)])_0x207b8c=_0x1cbb9b[_0x96b9cb(0x474)];else{let _0x4c7ab5=_0x1cbb9b[_0x96b9cb(0x482)]?.[_0x96b9cb(0x565)](/\/(\w+)/),_0xb2938c=_0x4c7ab5?_0x4c7ab5[0x1]:null;if(!_0xb2938c)throw new Error(_0x96b9cb(0x5b1));_0x207b8c=(0x0,jt['v4'])()+'.'+_0xb2938c;}_0x40733c===_0x96b9cb(0xf5)?_0x5c3b12=_0x96b9cb(0x184)+await this[_0x96b9cb(0x10c)](_0x2bfc15[_0x96b9cb(0x343)](_0x96b9cb(0x261))):(await this['saveMediaToFile'](_0x2bfc15,_0x207b8c),_0x5c3b12=_0x96b9cb(0x184)+_0x207b8c);let _0x389863=this[_0x96b9cb(0x593)]['get'](_0x96b9cb(0xf7))[_0x96b9cb(0x3b3)];if(!_0x389863){let _0x258e71=this['configService'][_0x96b9cb(0x2cd)](_0x96b9cb(0x390));_0x389863=_0x96b9cb(0x3ca)+(_0x258e71&&_0x258e71['FULLCHAIN']['split']('/')[0x4]);}_0x5c3b12=''+_0x389863+_0x5c3b12;let _0x36dbe5=0xc*0x3c*0x3c*0x3e8,_0x1de824={'where':{'_id':_0x1cdab3['key']['id']}},_0x2877a5={'message_normalized.fileUrl':_0x5c3b12,'message_normalized.expires_fileUrl':Date[_0x96b9cb(0x6db)]()+_0x36dbe5};try{let _0xe93aec=await this[_0x96b9cb(0x2ea)]['message'][_0x96b9cb(0x710)](_0x1de824,_0x2877a5,this[_0x96b9cb(0x6b9)][_0x96b9cb(0x387)]);_0xe93aec&&U(this[_0x96b9cb(0x643)],_0x96b9cb(0x5cb),{'message':_0xe93aec});}catch(_0x4acf69){let _0x1a01f4=_0x96b9cb(0x58e),_0x3ea968=_0x4acf69 instanceof Error?_0x4acf69[_0x96b9cb(0x180)]:typeof _0x4acf69==_0x96b9cb(0x57f)?JSON[_0x96b9cb(0x750)](_0x4acf69):_0x4acf69,_0x361d76=_0x1a01f4+':\x20'+_0x3ea968;this[_0x96b9cb(0x433)][_0x96b9cb(0x552)](this[_0x96b9cb(0x643)]+'\x20('+this[_0x96b9cb(0x6b9)][_0x96b9cb(0x387)]+_0x96b9cb(0x56b)+_0x361d76);}return{'mediaType':_0x40733c,'fileName':_0x1cbb9b[_0x96b9cb(0x474)],'caption':_0x1cbb9b[_0x96b9cb(0x3db)],'size':{'fileLength':_0x1cbb9b[_0x96b9cb(0x66b)],'height':_0x1cbb9b[_0x96b9cb(0x419)],'width':_0x1cbb9b[_0x96b9cb(0x1ba)]},'mimetype':_0x1cbb9b[_0x96b9cb(0x482)],'base64':_0x2bfc15[_0x96b9cb(0x343)](_0x96b9cb(0x261)),'fileUrl':_0x5c3b12,'expires_fileUrl':Date['now']()+_0x36dbe5};}catch(_0x3c88ff){let _0x5865ba=_0x96b9cb(0x3aa),_0x2beac2=_0x3c88ff instanceof Error?_0x3c88ff[_0x96b9cb(0x180)]:typeof _0x3c88ff==_0x96b9cb(0x57f)?JSON[_0x96b9cb(0x750)](_0x3c88ff):_0x3c88ff,_0x2937c6=_0x5865ba+':\x20'+_0x2beac2;throw this['logger'][_0x96b9cb(0x552)](this[_0x96b9cb(0x643)]+'\x20('+this['instance'][_0x96b9cb(0x387)]+_0x96b9cb(0x56b)+_0x2937c6),new m(_0x2937c6);}}async['saveMediaToFile'](_0xdc87be,_0x231c06){const _0x20c223=a0_0x349dbc;let _0x5f311b=F[_0x20c223(0x231)]['join'](__dirname,_0x20c223(0x56c));j[_0x20c223(0x63a)](_0x5f311b)||j[_0x20c223(0x6f0)](_0x5f311b,{'recursive':!0x0});let _0x178a2b=F[_0x20c223(0x231)][_0x20c223(0x71a)](_0x5f311b,_0x231c06);return new Promise((_0x41a755,_0x33d545)=>{const _0x3cf5a9=_0x20c223;j[_0x3cf5a9(0x607)](_0x178a2b,_0xdc87be,_0x1ceb6c=>{const _0x30a7f8=_0x3cf5a9;_0x1ceb6c?(this['logger']['error'](_0x30a7f8(0x382)+(_0x1ceb6c instanceof Error?_0x1ceb6c[_0x30a7f8(0x180)]:JSON[_0x30a7f8(0x750)](_0x1ceb6c,null,0x2))),_0x33d545(_0x1ceb6c)):(this[_0x30a7f8(0x433)][_0x30a7f8(0x37f)](_0x30a7f8(0x522)+_0x178a2b),_0x41a755(_0x178a2b));});});}async[a0_0x349dbc(0x395)](_0x4334f7){const _0x5d9e9b=a0_0x349dbc;return await this['repository'][_0x5d9e9b(0x6d3)]['find'](_0x4334f7,this[_0x5d9e9b(0x6b9)][_0x5d9e9b(0x387)]);}async[a0_0x349dbc(0x654)](){const _0x1eb41d=a0_0x349dbc;return await this[_0x1eb41d(0x2ea)][_0x1eb41d(0x2c4)][_0x1eb41d(0x3e0)]({'where':{}},this[_0x1eb41d(0x6b9)][_0x1eb41d(0x387)]);}async[a0_0x349dbc(0x6cd)](_0x3ebe2e){const _0x3fbb96=a0_0x349dbc;return await this[_0x3fbb96(0x2ea)][_0x3fbb96(0x180)][_0x3fbb96(0x3e0)](_0x3ebe2e,this[_0x3fbb96(0x6b9)]['wuid']);}async['fetchChats'](){const _0x5cdc56=a0_0x349dbc;return this[_0x5cdc56(0x2ea)][_0x5cdc56(0x429)][_0x5cdc56(0x5ff)](this['instance'][_0x5cdc56(0x387)]),this[_0x5cdc56(0x2ea)][_0x5cdc56(0x429)][_0x5cdc56(0x103)](this[_0x5cdc56(0x6b9)][_0x5cdc56(0x387)]),this['repository']['chat'][_0x5cdc56(0x58b)](this['instance'][_0x5cdc56(0x387)]),this[_0x5cdc56(0x2ea)][_0x5cdc56(0x429)][_0x5cdc56(0x4c3)](this[_0x5cdc56(0x6b9)][_0x5cdc56(0x387)]),await this[_0x5cdc56(0x2ea)]['chat'][_0x5cdc56(0x3e0)]({'where':{}},this[_0x5cdc56(0x6b9)][_0x5cdc56(0x387)]);}async[a0_0x349dbc(0x160)](_0x40fef9){const _0x3d29e1=a0_0x349dbc;try{if(!Array[_0x3d29e1(0x2e1)](_0x40fef9)||_0x40fef9[_0x3d29e1(0x2e0)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x5621ae=[],_0x1a2c85=[];for(let _0x12ba59 of _0x40fef9){if(_0x12ba59['_id'])_0x12ba59[_0x3d29e1(0x588)]=this[_0x3d29e1(0x75e)](_0x12ba59[_0x3d29e1(0x588)]);else continue;await this[_0x3d29e1(0x2ea)]['chat']['findOne']({'where':{'_id':_0x12ba59[_0x3d29e1(0x588)]}},this[_0x3d29e1(0x6b9)][_0x3d29e1(0x387)])?_0x1a2c85['push']({'_id':_0x12ba59['_id'],'leadInfo':_0x12ba59[_0x3d29e1(0x305)],'owner':this['instance'][_0x3d29e1(0x387)]}):_0x5621ae[_0x3d29e1(0x3fd)]({'_id':_0x12ba59[_0x3d29e1(0x588)],'owner':this['instance'][_0x3d29e1(0x387)],'leadInfo':_0x12ba59[_0x3d29e1(0x305)],'imported':!0x0});}return _0x1a2c85[_0x3d29e1(0x2e0)]>0x0&&await this[_0x3d29e1(0x2ea)][_0x3d29e1(0x429)][_0x3d29e1(0x1da)](_0x1a2c85['map'](_0x5f41a6=>({'query':{'where':{'_id':_0x5f41a6['_id'],'owner':this[_0x3d29e1(0x6b9)][_0x3d29e1(0x387)]}},'update':_0x5f41a6}))),_0x5621ae[_0x3d29e1(0x2e0)]>0x0&&await this['repository'][_0x3d29e1(0x429)][_0x3d29e1(0x312)](_0x5621ae,this[_0x3d29e1(0x6b9)][_0x3d29e1(0x387)]),{'updated':_0x1a2c85['length'],'inserted':_0x5621ae[_0x3d29e1(0x2e0)]};}catch(_0x460e35){let _0x5e2b3d='Erro\x20ao\x20importar\x20chats',_0x102763=_0x460e35 instanceof Error?_0x460e35[_0x3d29e1(0x180)]:typeof _0x460e35==_0x3d29e1(0x57f)?JSON['stringify'](_0x460e35):_0x460e35,_0x42852c=_0x5e2b3d+':\x20'+_0x102763;throw this['logger'][_0x3d29e1(0x552)](this[_0x3d29e1(0x643)]+'\x20('+this[_0x3d29e1(0x6b9)][_0x3d29e1(0x387)]+_0x3d29e1(0x56b)+_0x42852c),new m(_0x42852c);}}async[a0_0x349dbc(0x336)](_0x10d8a4){const _0x7e4fe2=a0_0x349dbc;try{if(!Array[_0x7e4fe2(0x2e1)](_0x10d8a4)||_0x10d8a4['length']===0x0)throw new Error(_0x7e4fe2(0x44c));let _0x277ebd=0x64,_0x36172c=0x0;for(let _0x12bd63=0x0;_0x12bd63<_0x10d8a4['length'];_0x12bd63+=_0x277ebd){let _0x207756=_0x10d8a4['slice'](_0x12bd63,_0x12bd63+_0x277ebd),{updated:_0x589ddd}=await this['importChatsBatch'](_0x207756);_0x36172c+=_0x589ddd;}return{'updated':_0x36172c};}catch(_0x499e95){let _0x13441d='Erro\x20ao\x20importar\x20chats',_0x43abbe=_0x499e95 instanceof Error?_0x499e95[_0x7e4fe2(0x180)]:typeof _0x499e95==_0x7e4fe2(0x57f)?JSON[_0x7e4fe2(0x750)](_0x499e95):_0x499e95,_0x4ad6d0=_0x13441d+':\x20'+_0x43abbe;throw this[_0x7e4fe2(0x433)]['error'](this[_0x7e4fe2(0x643)]+'\x20('+this[_0x7e4fe2(0x6b9)][_0x7e4fe2(0x387)]+_0x7e4fe2(0x56b)+_0x4ad6d0),new m(_0x4ad6d0);}}async['importChatsBatch'](_0x25a180){const _0xd62f5a=a0_0x349dbc;try{let _0x1b8eb1=await this[_0xd62f5a(0x2ea)]['label'][_0xd62f5a(0x3e0)]({'where':{}},this[_0xd62f5a(0x6b9)][_0xd62f5a(0x387)]),_0x4ce85f=new Set(_0x1b8eb1[_0xd62f5a(0x568)](_0x1b49f=>_0x1b49f[_0xd62f5a(0x588)])),_0x3a7013=[],_0xaba4a3=[];for(let _0x317742 of _0x25a180){if(!_0x317742[_0xd62f5a(0x588)])continue;_0x317742[_0xd62f5a(0x588)]=this[_0xd62f5a(0x75e)](_0x317742[_0xd62f5a(0x588)]);let _0x243af9=await this[_0xd62f5a(0x2ea)][_0xd62f5a(0x429)][_0xd62f5a(0x1a0)]({'where':{'_id':_0x317742[_0xd62f5a(0x588)]}},this[_0xd62f5a(0x6b9)][_0xd62f5a(0x387)]),_0x8786cf={};if(Object[_0xd62f5a(0x6a3)](_0x317742[_0xd62f5a(0x305)])[_0xd62f5a(0x79a)](([_0x4f2c84,_0x552e08])=>{const _0x6348f4=_0xd62f5a;_0x8786cf[_0x6348f4(0x3bd)+_0x4f2c84]=_0x552e08;}),_0x243af9&&!_0x243af9[_0xd62f5a(0x277)]){let _0x1fd8d2=(_0x317742[_0xd62f5a(0x305)][_0xd62f5a(0x3c6)]||[])['filter'](_0x49e287=>_0x4ce85f['has'](_0x49e287)),_0x40d4a5=new Set(_0x243af9[_0xd62f5a(0x305)][_0xd62f5a(0x3c6)]||[]),_0x50b64f=_0x1fd8d2[_0xd62f5a(0x186)](_0x542717=>!_0x40d4a5[_0xd62f5a(0x14b)](_0x542717)),_0x3016d8=[..._0x40d4a5]['filter'](_0xed492c=>!_0x1fd8d2[_0xd62f5a(0x12d)](_0xed492c));_0xaba4a3[_0xd62f5a(0x3fd)](..._0x50b64f[_0xd62f5a(0x568)](_0x39e919=>this[_0xd62f5a(0x6bb)](_0x39e919,_0x317742[_0xd62f5a(0x588)]))),_0xaba4a3[_0xd62f5a(0x3fd)](..._0x3016d8[_0xd62f5a(0x568)](_0x2471d1=>this[_0xd62f5a(0x324)](_0x2471d1,_0x317742[_0xd62f5a(0x588)]))),_0x317742['leadInfo']['etiquetas']=_0x1fd8d2,_0x3a7013[_0xd62f5a(0x3fd)]({'query':{'where':{'_id':_0x317742[_0xd62f5a(0x588)],'owner':this[_0xd62f5a(0x6b9)]['wuid']}},'update':_0x8786cf});}else _0x8786cf[_0xd62f5a(0x277)]=!0x0,_0x3a7013[_0xd62f5a(0x3fd)]({'query':{'where':{'_id':_0x317742[_0xd62f5a(0x588)],'owner':this[_0xd62f5a(0x6b9)][_0xd62f5a(0x387)]}},'update':_0x8786cf});}let _0x370db1=await this[_0xd62f5a(0x2ea)][_0xd62f5a(0x429)][_0xd62f5a(0x1da)](_0x3a7013);return await Promise[_0xd62f5a(0x77f)](_0xaba4a3),{'updated':_0x370db1};}catch(_0x539ee1){let _0x46156b=_0xd62f5a(0x641),_0x33f250=_0x539ee1 instanceof Error?_0x539ee1[_0xd62f5a(0x180)]:typeof _0x539ee1==_0xd62f5a(0x57f)?JSON[_0xd62f5a(0x750)](_0x539ee1):_0x539ee1,_0x52e847=_0x46156b+':\x20'+_0x33f250;throw this['logger'][_0xd62f5a(0x552)](this['instanceName']+'\x20('+this[_0xd62f5a(0x6b9)][_0xd62f5a(0x387)]+_0xd62f5a(0x56b)+_0x52e847),new m(_0x52e847);}}async[a0_0x349dbc(0x216)](){const _0x5c0af3=a0_0x349dbc;return await this['client'][_0x5c0af3(0x216)]();}async['updatePrivacySettings'](_0x1e6f91){const _0x54bfd9=a0_0x349dbc;try{return await this[_0x54bfd9(0x785)][_0x54bfd9(0x68c)](_0x1e6f91[_0x54bfd9(0x6c6)]['readreceipts']),await this[_0x54bfd9(0x785)]['updateProfilePicturePrivacy'](_0x1e6f91[_0x54bfd9(0x6c6)][_0x54bfd9(0x723)]),await this[_0x54bfd9(0x785)][_0x54bfd9(0x5aa)](_0x1e6f91[_0x54bfd9(0x6c6)][_0x54bfd9(0x130)]),await this[_0x54bfd9(0x785)][_0x54bfd9(0x247)](_0x1e6f91[_0x54bfd9(0x6c6)][_0x54bfd9(0x32c)]),await this[_0x54bfd9(0x785)]['updateLastSeenPrivacy'](_0x1e6f91['privacySettings'][_0x54bfd9(0x48b)]),await this[_0x54bfd9(0x785)][_0x54bfd9(0x6f8)](_0x1e6f91[_0x54bfd9(0x6c6)]['groupadd']),this[_0x54bfd9(0x785)]?.['ws']?.[_0x54bfd9(0x456)](),{'update':'success','data':{'readreceipts':_0x1e6f91[_0x54bfd9(0x6c6)][_0x54bfd9(0x777)],'profile':_0x1e6f91[_0x54bfd9(0x6c6)]['profile'],'status':_0x1e6f91[_0x54bfd9(0x6c6)][_0x54bfd9(0x130)],'online':_0x1e6f91[_0x54bfd9(0x6c6)]['online'],'last':_0x1e6f91[_0x54bfd9(0x6c6)][_0x54bfd9(0x48b)],'groupadd':_0x1e6f91[_0x54bfd9(0x6c6)][_0x54bfd9(0x146)]}};}catch(_0x304b02){let _0x280afb=_0x54bfd9(0x622),_0x586ca7=_0x304b02 instanceof Error?_0x304b02[_0x54bfd9(0x180)]:typeof _0x304b02=='object'?JSON[_0x54bfd9(0x750)](_0x304b02):_0x304b02,_0x3d62c9=_0x280afb+':\x20'+_0x586ca7;throw this['logger'][_0x54bfd9(0x552)](this[_0x54bfd9(0x643)]+'\x20('+this[_0x54bfd9(0x6b9)][_0x54bfd9(0x387)]+_0x54bfd9(0x56b)+_0x3d62c9),new m(_0x3d62c9);}}async[a0_0x349dbc(0x4e8)](_0x40b01d){const _0x44f489=a0_0x349dbc;let _0x3fea0c=(_0x40b01d?this['createJid'](_0x40b01d):this[_0x44f489(0x785)]?.[_0x44f489(0x6ea)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0x44f489(0x3b4)](_0x44f489(0x491)+_0x3fea0c);let _0x146e81=await this['repository'][_0x44f489(0x6d3)][_0x44f489(0x1a0)]({'where':{'_id':_0x3fea0c}},this['instance'][_0x44f489(0x387)]),_0x573d66=_0x146e81?_0x146e81['pushName']:null;try{let _0x4b9c93=(await this[_0x44f489(0x102)]({'numbers':[_0x3fea0c]}))?.[_0x44f489(0x598)](),_0x27013e=(await this['findAndUpdateCacheContact'](_0x3fea0c,null,!0x1))[_0x44f489(0x65c)]['pictureUrl'],_0x5c55bd=await this[_0x44f489(0x44e)](_0x4b9c93?.[_0x44f489(0x260)]),_0x20c5f3=await this[_0x44f489(0x735)](_0x4b9c93?.[_0x44f489(0x260)]),_0xace0bc=(await this[_0x44f489(0x303)](_0x3fea0c,null,!0x1))[_0x44f489(0x65c)][_0x44f489(0x246)],_0x344acc=await this[_0x44f489(0x2ea)][_0x44f489(0x429)][_0x44f489(0x1a0)]({'where':{'_id':_0x3fea0c}},this['instance'][_0x44f489(0x387)]),_0x48d30e={'imagechat':_0x27013e,'contactname':_0x573d66||null,'pushName':_0xace0bc,'status':_0x5c55bd?.['status'],'isBusiness':_0x20c5f3[_0x44f489(0x54f)],'email':_0x20c5f3?.[_0x44f489(0x697)],'description':_0x20c5f3?.['description'],'website':_0x20c5f3?.['website']?.[_0x44f489(0x598)](),'lastcache':Date['now'](),'imported':!_0x344acc},_0x2719f7=await this[_0x44f489(0x2ea)]['chat'][_0x44f489(0x36b)]({'where':{'_id':_0x3fea0c}},_0x48d30e,this[_0x44f489(0x6b9)]['wuid']),_0xac6928={'owner':this[_0x44f489(0x6b9)][_0x44f489(0x387)],'_id':_0x3fea0c,'profilePictureUrl':_0x27013e,'status':_0x5c55bd?.[_0x44f489(0x130)]};return this['repository'][_0x44f489(0x6d3)][_0x44f489(0x710)]([_0xac6928],this[_0x44f489(0x6b9)][_0x44f489(0x387)]),_0x2719f7&&U(this[_0x44f489(0x643)],_0x44f489(0x1b9),{'chat':_0x2719f7}),{'wuid':_0x4b9c93?.[_0x44f489(0x260)]||_0x3fea0c,'name':_0x4b9c93?.['name'],'pushName':_0xace0bc,'numberExists':_0x4b9c93?.[_0x44f489(0x378)],'picture':_0x27013e,'status':_0x5c55bd?.['status'],'isBusiness':_0x20c5f3['isBusiness'],'email':_0x20c5f3?.[_0x44f489(0x697)],'description':_0x20c5f3?.['description'],'website':_0x20c5f3?.['website']?.['shift']()};}catch(_0x7a02c4){return this[_0x44f489(0x433)][_0x44f489(0x552)](_0x44f489(0x393)+(_0x7a02c4 instanceof Error?_0x7a02c4[_0x44f489(0x180)]:JSON['stringify'](_0x7a02c4,null,0x2))),{};}}async[a0_0x349dbc(0x735)](_0x38d765){const _0xaa7f0c=a0_0x349dbc;this[_0xaa7f0c(0x433)][_0xaa7f0c(0x3b4)](_0xaa7f0c(0x118));try{let _0x23ef5b=_0x38d765?this[_0xaa7f0c(0x75e)](_0x38d765):this[_0xaa7f0c(0x6b9)][_0xaa7f0c(0x387)],_0x218bf9=await this[_0xaa7f0c(0x785)][_0xaa7f0c(0x40e)](_0x23ef5b);return this['logger'][_0xaa7f0c(0x3b4)](_0xaa7f0c(0x62f)),_0x218bf9?(this[_0xaa7f0c(0x433)][_0xaa7f0c(0x3b4)](_0xaa7f0c(0x23a)),{'isBusiness':!0x0,..._0x218bf9}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0xaa7f0c(0x102)]({'numbers':[_0x23ef5b]}))?.[_0xaa7f0c(0x598)]()};}catch(_0x3cab6a){let _0x553377=_0xaa7f0c(0x4a7),_0x498e5b=_0x3cab6a instanceof Error?_0x3cab6a[_0xaa7f0c(0x180)]:typeof _0x3cab6a==_0xaa7f0c(0x57f)?JSON['stringify'](_0x3cab6a):_0x3cab6a,_0x293181=_0x553377+':\x20'+_0x498e5b;throw this[_0xaa7f0c(0x433)][_0xaa7f0c(0x552)](this[_0xaa7f0c(0x643)]+'\x20('+this[_0xaa7f0c(0x6b9)][_0xaa7f0c(0x387)]+'):\x20'+_0x293181),new I(_0x293181);}}async[a0_0x349dbc(0x44e)](_0x17b4b6){const _0x41c2e8=a0_0x349dbc;let _0x296f5c=this[_0x41c2e8(0x75e)](_0x17b4b6);try{return{'wuid':_0x296f5c,'status':(await this['client'][_0x41c2e8(0x1d9)](_0x296f5c))?.['status']};}catch{return{'wuid':_0x296f5c,'status':null};}}async[a0_0x349dbc(0x5a1)](_0xd76329){const _0x12a1e5=a0_0x349dbc;try{return await this[_0x12a1e5(0x785)][_0x12a1e5(0x5a1)](_0xd76329),{'update':_0x12a1e5(0x5f5)};}catch(_0x240d01){let _0x3fda28=_0x12a1e5(0x51b),_0x16e6fe=_0x240d01 instanceof Error?_0x240d01[_0x12a1e5(0x180)]:typeof _0x240d01==_0x12a1e5(0x57f)?JSON[_0x12a1e5(0x750)](_0x240d01):_0x240d01,_0x1c14cc=_0x3fda28+':\x20'+_0x16e6fe;throw this[_0x12a1e5(0x433)]['error'](this[_0x12a1e5(0x643)]+'\x20('+this[_0x12a1e5(0x6b9)][_0x12a1e5(0x387)]+_0x12a1e5(0x56b)+_0x1c14cc),new I(_0x1c14cc);}}async['updateProfileStatus'](_0x40cea3){const _0x5f57a9=a0_0x349dbc;try{return await this['client'][_0x5f57a9(0x367)](_0x40cea3),{'update':'success'};}catch(_0x18174b){let _0x447ec9=_0x5f57a9(0x135),_0x47f7e4=_0x18174b instanceof Error?_0x18174b[_0x5f57a9(0x180)]:typeof _0x18174b==_0x5f57a9(0x57f)?JSON[_0x5f57a9(0x750)](_0x18174b):_0x18174b,_0x2572e6=_0x447ec9+':\x20'+_0x47f7e4;throw this[_0x5f57a9(0x433)][_0x5f57a9(0x552)](this[_0x5f57a9(0x643)]+'\x20('+this[_0x5f57a9(0x6b9)][_0x5f57a9(0x387)]+_0x5f57a9(0x56b)+_0x2572e6),new I(_0x2572e6);}}async['updateProfilePicture'](_0x49e065){const _0x37cfad=a0_0x349dbc;try{let _0x2371a3;if((0x0,P[_0x37cfad(0x2b8)])(_0x49e065)){let _0xb41c66=new Date()[_0x37cfad(0x74e)](),_0x235768=_0x49e065+_0x37cfad(0x161)+_0xb41c66;_0x2371a3=(await K['default']['get'](_0x235768,{'responseType':_0x37cfad(0x402)}))[_0x37cfad(0x6fb)];}else{if((0x0,P['isBase64'])(_0x49e065))_0x2371a3=Buffer[_0x37cfad(0x6eb)](_0x49e065,'base64');else throw new m(_0x37cfad(0x5dc));}return await this[_0x37cfad(0x785)][_0x37cfad(0x658)](this[_0x37cfad(0x6b9)]['wuid'],_0x2371a3),{'update':_0x37cfad(0x5f5)};}catch(_0x466db1){let _0x3a1a9d=_0x37cfad(0x50e),_0x39433c=_0x466db1 instanceof Error?_0x466db1[_0x37cfad(0x180)]:typeof _0x466db1==_0x37cfad(0x57f)?JSON['stringify'](_0x466db1):_0x466db1,_0x168afd=_0x3a1a9d+':\x20'+_0x39433c;throw this[_0x37cfad(0x433)][_0x37cfad(0x552)](this[_0x37cfad(0x643)]+'\x20('+this[_0x37cfad(0x6b9)][_0x37cfad(0x387)]+'):\x20'+_0x168afd),new I(_0x168afd);}}async[a0_0x349dbc(0x6c3)](){const _0x9b4c62=a0_0x349dbc;try{return await this[_0x9b4c62(0x785)][_0x9b4c62(0x6c3)](this['instance'][_0x9b4c62(0x387)]),{'update':_0x9b4c62(0x5f5)};}catch(_0x40fa76){let _0xd6673c=_0x9b4c62(0x16d),_0x1f0429=_0x40fa76 instanceof Error?_0x40fa76['message']:typeof _0x40fa76==_0x9b4c62(0x57f)?JSON['stringify'](_0x40fa76):_0x40fa76,_0x21570f=_0xd6673c+':\x20'+_0x1f0429;throw this['logger'][_0x9b4c62(0x552)](this[_0x9b4c62(0x643)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x21570f),new I(_0x21570f);}}async['createGroup'](_0x2872af){const _0x4fb1a8=a0_0x349dbc;try{let _0x2934ba=(await this['whatsappNumber']({'numbers':_0x2872af['participants']}))[_0x4fb1a8(0x186)](_0x532fae=>_0x532fae['exists'])[_0x4fb1a8(0x568)](_0x350bb8=>_0x350bb8['jid']),{id:_0x43db88}=await this[_0x4fb1a8(0x785)]['groupCreate'](_0x2872af['subject'],_0x2934ba);_0x2872af?.[_0x4fb1a8(0x23e)]&&await this[_0x4fb1a8(0x785)][_0x4fb1a8(0x275)](_0x43db88,_0x2872af[_0x4fb1a8(0x23e)]);let _0x11056b=await this[_0x4fb1a8(0x785)][_0x4fb1a8(0x405)](_0x43db88);return _0x11056b[_0x4fb1a8(0x662)]=[],{'metadata':_0x11056b};}catch(_0x3f3f8e){let _0x5476f6=_0x4fb1a8(0x751),_0x431688=_0x3f3f8e instanceof Error?_0x3f3f8e[_0x4fb1a8(0x180)]:typeof _0x3f3f8e=='object'?JSON[_0x4fb1a8(0x750)](_0x3f3f8e):_0x3f3f8e,_0x44667c=_0x5476f6+':\x20'+_0x431688;throw this[_0x4fb1a8(0x433)][_0x4fb1a8(0x552)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x44667c),new I(_0x44667c);}}async[a0_0x349dbc(0xc2)](_0x3c6e93){const _0xfc4496=a0_0x349dbc;try{let _0x55407e;if((0x0,P[_0xfc4496(0x2b8)])(_0x3c6e93[_0xfc4496(0x270)])){let _0x530979=new Date()[_0xfc4496(0x74e)](),_0x22a368=_0x3c6e93[_0xfc4496(0x270)]+_0xfc4496(0x161)+_0x530979;_0x55407e=(await K[_0xfc4496(0x231)][_0xfc4496(0x2cd)](_0x22a368,{'responseType':_0xfc4496(0x402)}))[_0xfc4496(0x6fb)];}else{if((0x0,P[_0xfc4496(0x241)])(_0x3c6e93[_0xfc4496(0x270)]))_0x55407e=Buffer[_0xfc4496(0x6eb)](_0x3c6e93[_0xfc4496(0x270)],'base64');else throw new m(_0xfc4496(0x5dc));}return await this[_0xfc4496(0x785)][_0xfc4496(0x658)](_0x3c6e93[_0xfc4496(0xee)],_0x55407e),{'update':'success'};}catch(_0x355cbb){let _0x406a99=_0xfc4496(0x14c),_0x497fce=_0x355cbb instanceof Error?_0x355cbb[_0xfc4496(0x180)]:typeof _0x355cbb==_0xfc4496(0x57f)?JSON[_0xfc4496(0x750)](_0x355cbb):_0x355cbb,_0x5e02db=_0x406a99+':\x20'+_0x497fce;throw this[_0xfc4496(0x433)][_0xfc4496(0x552)](this['instanceName']+'\x20('+this[_0xfc4496(0x6b9)][_0xfc4496(0x387)]+_0xfc4496(0x56b)+_0x5e02db),new I(_0x5e02db);}}async[a0_0x349dbc(0x214)](_0x953140){const _0x47bef4=a0_0x349dbc;try{if(_0x953140['restrict']===!0x0&&await this[_0x47bef4(0x785)][_0x47bef4(0x5f4)](_0x953140[_0x47bef4(0xee)],_0x47bef4(0x4a3)),_0x953140[_0x47bef4(0x466)]===!0x1&&await this['client'][_0x47bef4(0x5f4)](_0x953140['groupJid'],_0x47bef4(0x34d)),_0x953140[_0x47bef4(0x25c)]===!0x0&&await this['client'][_0x47bef4(0x5f4)](_0x953140[_0x47bef4(0xee)],_0x47bef4(0x1f5)),_0x953140['announce']===!0x1&&await this[_0x47bef4(0x785)]['groupSettingUpdate'](_0x953140[_0x47bef4(0xee)],_0x47bef4(0x1df)),_0x953140[_0x47bef4(0x6fc)]===!0x0&&await this[_0x47bef4(0x785)][_0x47bef4(0x37a)](_0x953140[_0x47bef4(0xee)],_0x47bef4(0x54b)),_0x953140[_0x47bef4(0x6fc)]===!0x1&&await this['client'][_0x47bef4(0x37a)](_0x953140[_0x47bef4(0xee)],'admin_add'),_0x953140[_0x47bef4(0x432)]===!0x0&&await this['client']['groupJoinApprovalMode'](_0x953140[_0x47bef4(0xee)],'on'),_0x953140[_0x47bef4(0x432)]===!0x1&&await this[_0x47bef4(0x785)]['groupJoinApprovalMode'](_0x953140[_0x47bef4(0xee)],_0x47bef4(0x655)),typeof _0x953140[_0x47bef4(0x407)]<'u'&&_0x953140['expiration']!==null&&await this['client'][_0x47bef4(0x4ec)](_0x953140['groupJid'],_0x953140[_0x47bef4(0x407)]),_0x953140[_0x47bef4(0x246)]&&await this[_0x47bef4(0x785)][_0x47bef4(0x519)](_0x953140[_0x47bef4(0xee)],_0x953140['name']),_0x953140[_0x47bef4(0x23e)]&&await this[_0x47bef4(0x785)][_0x47bef4(0x275)](_0x953140[_0x47bef4(0xee)],_0x953140[_0x47bef4(0x23e)]),_0x953140[_0x47bef4(0x270)]){let _0x59a369;if((0x0,P[_0x47bef4(0x2b8)])(_0x953140[_0x47bef4(0x270)])){let _0x112df8=new Date()[_0x47bef4(0x74e)](),_0x5835d0=_0x953140[_0x47bef4(0x270)]+_0x47bef4(0x161)+_0x112df8;_0x59a369=(await K[_0x47bef4(0x231)][_0x47bef4(0x2cd)](_0x5835d0,{'responseType':_0x47bef4(0x402)}))[_0x47bef4(0x6fb)];}else{if((0x0,P['isBase64'])(_0x953140[_0x47bef4(0x270)]))_0x59a369=Buffer[_0x47bef4(0x6eb)](_0x953140[_0x47bef4(0x270)],'base64');else throw new m(_0x47bef4(0x5dc));}await this['client']['updateProfilePicture'](_0x953140[_0x47bef4(0xee)],_0x59a369);}return await this['findGroup']({'groupJid':_0x953140[_0x47bef4(0xee)]});}catch(_0x2dc362){let _0x49ff54='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x53ecd1=_0x2dc362 instanceof Error?_0x2dc362[_0x47bef4(0x180)]:typeof _0x2dc362==_0x47bef4(0x57f)?JSON['stringify'](_0x2dc362):_0x2dc362,_0x18634f=_0x49ff54+':\x20'+_0x53ecd1;throw this[_0x47bef4(0x433)][_0x47bef4(0x552)](this[_0x47bef4(0x643)]+'\x20('+this[_0x47bef4(0x6b9)][_0x47bef4(0x387)]+_0x47bef4(0x56b)+_0x18634f),new I(_0x18634f);}}async['updateGParticipant'](_0x51ef8a){const _0x1c0ec6=a0_0x349dbc;try{if(_0x51ef8a[_0x1c0ec6(0x2a8)]===_0x1c0ec6(0x68e)||_0x51ef8a[_0x1c0ec6(0x2a8)]===_0x1c0ec6(0x3da)){let _0x5077c5=_0x51ef8a[_0x1c0ec6(0x3b1)][_0x1c0ec6(0x568)](_0x62dd97=>this['createJid'](_0x62dd97));await this[_0x1c0ec6(0x785)]['groupRequestParticipantsUpdate'](_0x51ef8a[_0x1c0ec6(0xee)],_0x5077c5,_0x51ef8a[_0x1c0ec6(0x2a8)]);}else{if(_0x51ef8a[_0x1c0ec6(0x2a8)]===_0x1c0ec6(0x4b4)){let _0x5b96e7=(await this[_0x1c0ec6(0x102)]({'numbers':_0x51ef8a['participants']}))['filter'](_0x214662=>_0x214662['exists'])[_0x1c0ec6(0x568)](_0x59e359=>this[_0x1c0ec6(0x75e)](_0x59e359[_0x1c0ec6(0x260)]));if(_0x5b96e7[_0x1c0ec6(0x2e0)]===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x1c0ec6(0x785)][_0x1c0ec6(0x363)](_0x51ef8a['groupJid'],_0x5b96e7,_0x1c0ec6(0x4b4));}else{let _0x63ef5d=_0x51ef8a[_0x1c0ec6(0x3b1)][_0x1c0ec6(0x568)](_0x2ed629=>this[_0x1c0ec6(0x75e)](_0x2ed629));await this[_0x1c0ec6(0x785)]['groupParticipantsUpdate'](_0x51ef8a[_0x1c0ec6(0xee)],_0x63ef5d,_0x51ef8a[_0x1c0ec6(0x2a8)]);}}return await this[_0x1c0ec6(0x55a)]({'groupJid':_0x51ef8a[_0x1c0ec6(0xee)]});}catch(_0x3aabdb){let _0x156eb2='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x424c67=_0x3aabdb instanceof Error?_0x3aabdb[_0x1c0ec6(0x180)]:typeof _0x3aabdb==_0x1c0ec6(0x57f)?JSON[_0x1c0ec6(0x750)](_0x3aabdb):_0x3aabdb,_0x30ffd4=_0x156eb2+':\x20'+_0x424c67;throw this[_0x1c0ec6(0x433)]['error'](this[_0x1c0ec6(0x643)]+'\x20('+this[_0x1c0ec6(0x6b9)][_0x1c0ec6(0x387)]+_0x1c0ec6(0x56b)+_0x30ffd4),new m(_0x30ffd4);}}async[a0_0x349dbc(0x4c2)](_0xdcfe09){const _0x7e9d3a=a0_0x349dbc;try{return await this[_0x7e9d3a(0x785)]['groupGetInviteInfo'](_0xdcfe09[_0x7e9d3a(0x5c9)]);}catch(_0xf481f9){let _0xe977ac=_0x7e9d3a(0x3a6),_0x179e28=_0xf481f9 instanceof Error?_0xf481f9['message']:typeof _0xf481f9=='object'?JSON[_0x7e9d3a(0x750)](_0xf481f9):_0xf481f9,_0x2f188f=_0xe977ac+':\x20'+_0x179e28;throw this[_0x7e9d3a(0x433)]['error'](this['instanceName']+'\x20('+this['instance'][_0x7e9d3a(0x387)]+'):\x20'+_0x2f188f),new m(_0x2f188f);}}async[a0_0x349dbc(0x55a)](_0x525c0,_0x5d500b=a0_0x349dbc(0x2fb)){const _0x3412a2=a0_0x349dbc;try{let _0x224fdf=await this['repository'][_0x3412a2(0x429)][_0x3412a2(0x1a0)]({'where':{'_id':_0x525c0[_0x3412a2(0xee)]}},this[_0x3412a2(0x6b9)]['wuid']),_0x4a5ceb=_0x224fdf?_0x224fdf['groupdata']:null,_0x378fc9=0x18*0x3c*0x3c*0x3e8;if(!_0x4a5ceb||_0x4a5ceb[_0x3412a2(0x32e)]&&Date['now']()-_0x4a5ceb[_0x3412a2(0x32e)]>_0x378fc9){let _0x59a016=await this[_0x3412a2(0x785)][_0x3412a2(0x405)](_0x525c0[_0x3412a2(0xee)]);if(_0x59a016[_0x3412a2(0x54a)]=_0x59a016?.[_0x3412a2(0x54a)]&&_0x59a016['subjectTime'][_0x3412a2(0x343)]()[_0x3412a2(0x2e0)]<0xd?_0x59a016?.[_0x3412a2(0x54a)]*0x3e8:_0x59a016?.[_0x3412a2(0x54a)]||null,_0x59a016[_0x3412a2(0x586)]=_0x59a016?.[_0x3412a2(0x586)]&&_0x59a016[_0x3412a2(0x586)][_0x3412a2(0x343)]()['length']<0xd?_0x59a016?.[_0x3412a2(0x586)]*0x3e8:_0x59a016?.['creation']||null,_0x4a5ceb={..._0x59a016,'lastUpdate':Date[_0x3412a2(0x6db)]()},!_0x59a016)return;}let _0x125621=_0x4a5ceb[_0x3412a2(0x3b1)][_0x3412a2(0x76a)](_0x4939db=>_0x4939db['id']===this['instance'][_0x3412a2(0x387)]+'@s.whatsapp.net'&&_0x4939db[_0x3412a2(0x368)]!=null);!_0x4a5ceb[_0x3412a2(0x5c9)]&&_0x125621&&(_0x4a5ceb[_0x3412a2(0x5c9)]=(await this[_0x3412a2(0x5c9)](_0x525c0,!0x1))['inviteUrl']);let _0x2be669=(!_0x4a5ceb[_0x3412a2(0x25c)]||_0x125621)&&(!_0x4a5ceb[_0x3412a2(0x26c)]||_0x4a5ceb['isCommunity']&&_0x4a5ceb['isCommunityAnnounce']&&_0x125621);_0x4a5ceb[_0x3412a2(0x438)]=_0x125621,_0x4a5ceb[_0x3412a2(0x1b0)]=_0x2be669;let _0x257d50=[];if(_0x125621&&_0x4a5ceb[_0x3412a2(0x432)])try{_0x257d50=await this[_0x3412a2(0x785)][_0x3412a2(0x18a)](_0x525c0['groupJid']),_0x4a5ceb['lastFetchAwaitingApproval']=Date['now']();}catch(_0x33aedf){this[_0x3412a2(0x433)][_0x3412a2(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x3412a2(0x387)]+_0x3412a2(0x2a3)+_0x525c0[_0x3412a2(0xee)]+':\x20'+(_0x33aedf instanceof Error?_0x33aedf[_0x3412a2(0x180)]:JSON[_0x3412a2(0x750)](_0x33aedf,null,0x2)));}try{_0x4a5ceb[_0x3412a2(0x270)]=(await this['findAndUpdateCacheContact'](_0x525c0['groupJid'],null,!0x0))[_0x3412a2(0x65c)][_0x3412a2(0x1fe)];}catch(_0x247ef6){this[_0x3412a2(0x433)][_0x3412a2(0x3b4)](this['instanceName']+'\x20('+this[_0x3412a2(0x6b9)][_0x3412a2(0x387)]+_0x3412a2(0xea)+_0x525c0[_0x3412a2(0xee)]+':\x20'+(_0x247ef6 instanceof Error?_0x247ef6[_0x3412a2(0x180)]:JSON[_0x3412a2(0x750)](_0x247ef6,null,0x2)));}let _0x59942f=_0x4a5ceb['participants'][_0x3412a2(0x568)](_0x3d9fb9=>_0x3d9fb9['id']),_0x113b25=_0x257d50['map'](_0x3bdff1=>_0x3bdff1[_0x3412a2(0x260)]),_0x3cf2b8=await this[_0x3412a2(0x2ea)][_0x3412a2(0x492)][_0x3412a2(0x4a5)]([..._0x59942f,..._0x113b25]);_0x4a5ceb[_0x3412a2(0x3b1)]=_0x4a5ceb[_0x3412a2(0x3b1)]['map'](_0x2fdeeb=>{const _0x18e602=_0x3412a2;let _0x544eb8=_0x3cf2b8['find'](_0x14ca7f=>_0x14ca7f[_0x18e602(0x588)]===_0x2fdeeb['id']);return{'id':_0x2fdeeb['id'],'isAdmin':[_0x18e602(0x368),_0x18e602(0x128)][_0x18e602(0x12d)](_0x2fdeeb[_0x18e602(0x368)]),'admin':_0x2fdeeb['admin'],'pushName':_0x544eb8?.[_0x18e602(0x246)],'profilePictureUrl':_0x544eb8?.[_0x18e602(0x1fe)]};}),_0x4a5ceb['awaitingApproval']=_0x257d50['map'](_0x18f51a=>{const _0x44a37d=_0x3412a2;let _0x4c658f=_0x3cf2b8[_0x44a37d(0x3e0)](_0x249104=>_0x249104[_0x44a37d(0x588)]===_0x18f51a['jid']);return{'id':_0x18f51a[_0x44a37d(0x260)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x4c658f?.[_0x44a37d(0x246)],'profilePictureUrl':_0x4c658f?.[_0x44a37d(0x1fe)],'request_method':_0x18f51a[_0x44a37d(0x39d)],'request_time':_0x18f51a[_0x44a37d(0x4d2)]};});let _0x9be75f=await this['repository'][_0x3412a2(0x429)][_0x3412a2(0x36b)]({'where':{'_id':_0x525c0[_0x3412a2(0xee)]}},{'imagechat':_0x4a5ceb[_0x3412a2(0x270)],'name':_0x4a5ceb['subject'],'lastcache':Date[_0x3412a2(0x6db)](),'groupdata':_0x4a5ceb},this[_0x3412a2(0x6b9)]['wuid']);return U(this[_0x3412a2(0x643)],_0x3412a2(0x1b9),{'chat':_0x9be75f}),{'metadata':_0x4a5ceb};}catch(_0x16bc57){if(_0x5d500b===_0x3412a2(0x2e3))return;throw new J('Error\x20fetching\x20group',_0x16bc57[_0x3412a2(0x180)][_0x3412a2(0x343)]());}}async['findGroups'](){const _0x4a2b7e=a0_0x349dbc;try{let _0x5672e7=[],_0x1bb49f=await this['client'][_0x4a2b7e(0x3ac)](),_0x75b8d5=Object[_0x4a2b7e(0x533)](_0x1bb49f),_0x3fcc80=_0x75b8d5['filter'](_0x305eb7=>(0x0,f[_0x4a2b7e(0xde)])(_0x305eb7?.['id']))[_0x4a2b7e(0x568)](async _0x7427d2=>{const _0x59ac1a=_0x4a2b7e;try{return await this['client'][_0x59ac1a(0x6d2)](_0x7427d2['id'],_0x59ac1a(0x1d7));}catch(_0x4e94fc){return this[_0x59ac1a(0x433)][_0x59ac1a(0x3b4)](this['instanceName']+'\x20('+this[_0x59ac1a(0x6b9)][_0x59ac1a(0x387)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x7427d2['id']+':\x20'+(_0x4e94fc instanceof Error?_0x4e94fc['message']:JSON[_0x59ac1a(0x750)](_0x4e94fc,null,0x2))),null;}}),_0x13cd4c=await Promise['all'](_0x3fcc80);for(let _0x375eb9=0x0;_0x375eb9<_0x75b8d5[_0x4a2b7e(0x2e0)];_0x375eb9++){let _0x350cf5=_0x75b8d5[_0x375eb9];(0x0,f[_0x4a2b7e(0xde)])(_0x350cf5?.['id'])&&(_0x5672e7[_0x4a2b7e(0x3fd)]({'groupJid':_0x350cf5?.['id'],'subject':_0x350cf5?.[_0x4a2b7e(0x48d)],'subjectOwner':_0x350cf5?.[_0x4a2b7e(0x2bf)]?.[_0x4a2b7e(0x13d)]('@')[0x0],'subjectTime':_0x350cf5?.[_0x4a2b7e(0x54a)],'creation':_0x350cf5?.['creation'],'size':_0x350cf5?.[_0x4a2b7e(0x3b1)]?.[_0x4a2b7e(0x2e0)],'owner':_0x350cf5?.[_0x4a2b7e(0x293)]?.[_0x4a2b7e(0x13d)]('@')[0x0],'desc':_0x350cf5?.[_0x4a2b7e(0x3e5)],'restrict':_0x350cf5?.[_0x4a2b7e(0x466)],'announce':_0x350cf5?.['announce'],'image':_0x13cd4c[_0x375eb9],'isCommunity':_0x350cf5?.['isCommunity'],'joinApprovalMode':_0x350cf5?.['joinApprovalMode'],'memberCanAddParticipant':_0x350cf5?.[_0x4a2b7e(0x6fc)],'participants':_0x350cf5?.['participants'],'descOwner':_0x350cf5?.[_0x4a2b7e(0x740)],'descId':_0x350cf5?.['descId'],'memberAddMode':_0x350cf5?.[_0x4a2b7e(0x6fc)],'isCommunityAnnounce':_0x350cf5?.[_0x4a2b7e(0x59f)],'ephemeralDuration':_0x350cf5?.[_0x4a2b7e(0x28a)]||0x0,'author':_0x350cf5?.[_0x4a2b7e(0x625)]}),this[_0x4a2b7e(0x68d)](_0x75b8d5[_0x375eb9]));}return _0x5672e7;}catch(_0x230f1d){let _0x502ac4=_0x4a2b7e(0x63e),_0x43bb47=_0x230f1d instanceof Error?_0x230f1d[_0x4a2b7e(0x180)]:typeof _0x230f1d=='object'?JSON[_0x4a2b7e(0x750)](_0x230f1d):_0x230f1d,_0x36c8b6=_0x502ac4+':\x20'+_0x43bb47;throw this['logger']['error'](this[_0x4a2b7e(0x643)]+'\x20('+this[_0x4a2b7e(0x6b9)]['wuid']+_0x4a2b7e(0x56b)+_0x36c8b6),new J(_0x36c8b6);}}async[a0_0x349dbc(0x68d)](_0x2ac5a5){const _0x77fa51=a0_0x349dbc;let _0x2610b8=await this[_0x77fa51(0x2ea)]['chat'][_0x77fa51(0x1a0)]({'where':{'_id':_0x2ac5a5['id']}},this[_0x77fa51(0x6b9)][_0x77fa51(0x387)]);_0x2ac5a5[_0x77fa51(0x54a)]=_0x2ac5a5?.[_0x77fa51(0x54a)]&&_0x2ac5a5[_0x77fa51(0x54a)][_0x77fa51(0x343)]()[_0x77fa51(0x2e0)]<0xd?_0x2ac5a5?.[_0x77fa51(0x54a)]*0x3e8:_0x2ac5a5?.[_0x77fa51(0x54a)]||null,_0x2ac5a5[_0x77fa51(0x586)]=_0x2ac5a5?.[_0x77fa51(0x586)]&&_0x2ac5a5['creation']['toString']()[_0x77fa51(0x2e0)]<0xd?_0x2ac5a5?.[_0x77fa51(0x586)]*0x3e8:_0x2ac5a5?.['creation']||null;let _0x16e2b3=_0x2610b8?.[_0x77fa51(0x12c)]?.[_0x77fa51(0x662)]||[],_0x5d4ac1=_0x2610b8?.[_0x77fa51(0x12c)]?.[_0x77fa51(0x5e0)],_0x57b191=_0x2ac5a5['participants'][_0x77fa51(0x568)](_0x407df1=>{const _0x2d6ed9=_0x77fa51;let _0xc607e7=_0x2610b8?.[_0x2d6ed9(0x12c)]?.[_0x2d6ed9(0x3b1)][_0x2d6ed9(0x3e0)](_0x3e953d=>_0x3e953d['id']===_0x407df1['id']);return{..._0x407df1,'isAdmin':[_0x2d6ed9(0x368),_0x2d6ed9(0x128)][_0x2d6ed9(0x12d)](_0x407df1[_0x2d6ed9(0x368)]),'admin':_0x407df1[_0x2d6ed9(0x368)],'name':_0xc607e7?.[_0x2d6ed9(0x246)]||_0x407df1['name'],'imgUrl':_0xc607e7?.[_0x2d6ed9(0x263)]||_0x407df1['imgUrl']};}),_0x1b5744=_0x57b191[_0x77fa51(0x76a)](_0x5a5194=>_0x5a5194['id']===this[_0x77fa51(0x6b9)]['wuid']+_0x77fa51(0x42f)&&_0x5a5194[_0x77fa51(0x438)]),_0x546999=(!_0x2ac5a5[_0x77fa51(0x25c)]||_0x1b5744)&&(!_0x2ac5a5[_0x77fa51(0x26c)]||_0x2ac5a5['isCommunity']&&_0x2ac5a5[_0x77fa51(0x59f)]&&_0x1b5744),_0x408973={..._0x2ac5a5,'participants':_0x57b191,'awaitingApproval':_0x16e2b3,'lastFetchAwaitingApproval':_0x5d4ac1,'isAdmin':_0x1b5744,'canSendMessage':_0x546999,'lastUpdate':Date[_0x77fa51(0x6db)]()};await this['repository'][_0x77fa51(0x429)]['updateOne']({'where':{'_id':_0x2ac5a5['id']}},{'name':_0x2ac5a5[_0x77fa51(0x48d)],'group':!0x0,'groupdata':_0x408973,'lastcache':Date[_0x77fa51(0x6db)]()},this[_0x77fa51(0x6b9)][_0x77fa51(0x387)]),U(this[_0x77fa51(0x643)],'chats',{'chat':_0x2ac5a5});}async[a0_0x349dbc(0x5ed)](_0x372ef9){const _0xe6855d=a0_0x349dbc;let _0x52d391=await this[_0xe6855d(0x2ea)][_0xe6855d(0x429)][_0xe6855d(0x1a0)]({'where':{'_id':_0x372ef9['id']}},this['instance']['wuid']);_0x372ef9[_0xe6855d(0x54a)]=_0x372ef9?.[_0xe6855d(0x54a)]&&_0x372ef9[_0xe6855d(0x54a)][_0xe6855d(0x343)]()[_0xe6855d(0x2e0)]<0xd?_0x372ef9?.['subjectTime']*0x3e8:_0x372ef9?.[_0xe6855d(0x54a)]||null,_0x372ef9['creation']=_0x372ef9?.['creation']&&_0x372ef9[_0xe6855d(0x586)][_0xe6855d(0x343)]()[_0xe6855d(0x2e0)]<0xd?_0x372ef9?.[_0xe6855d(0x586)]*0x3e8:_0x372ef9?.['creation']||null,_0x372ef9[_0xe6855d(0x5c9)]&&(_0x372ef9['inviteCode']='https://chat.whatsapp.com/'+_0x372ef9[_0xe6855d(0x5c9)]);let _0x34774b=_0x52d391?.[_0xe6855d(0x12c)]?{..._0x52d391['groupdata']}:{};Object[_0xe6855d(0x4a4)](_0x372ef9)[_0xe6855d(0x79a)](_0x2bf9ce=>{_0x2bf9ce!=='id'&&(_0x34774b[_0x2bf9ce]=_0x372ef9[_0x2bf9ce]);});let _0x36527f=_0x34774b[_0xe6855d(0x3b1)]?.[_0xe6855d(0x76a)](_0x594083=>_0x594083['id']===this[_0xe6855d(0x6b9)]['wuid']+_0xe6855d(0x42f)&&_0x594083[_0xe6855d(0x438)])||!0x1;_0x34774b['isAdmin']=_0x36527f;let _0x1c5409=(!_0x34774b[_0xe6855d(0x25c)]||_0x36527f)&&(!_0x34774b[_0xe6855d(0x26c)]||_0x34774b[_0xe6855d(0x26c)]&&_0x34774b[_0xe6855d(0x59f)]&&_0x36527f);_0x34774b['canSendMessage']=_0x1c5409;let _0x278724={'group':!0x0,'groupdata':_0x34774b};_0x372ef9[_0xe6855d(0x48d)]&&(_0x278724[_0xe6855d(0x246)]=_0x372ef9['subject']),await this[_0xe6855d(0x2ea)][_0xe6855d(0x429)][_0xe6855d(0x36b)]({'where':{'_id':_0x372ef9['id']}},_0x278724,this[_0xe6855d(0x6b9)][_0xe6855d(0x387)],{'upsert':!0x0}),U(this[_0xe6855d(0x643)],_0xe6855d(0x1b9),{'chat':_0x278724});}async[a0_0x349dbc(0x302)](_0x30e68e){const _0x24b35b=a0_0x349dbc;let _0x44e382=await this[_0x24b35b(0x2ea)]['chat'][_0x24b35b(0x1a0)]({'where':{'_id':_0x30e68e['id']}},this[_0x24b35b(0x6b9)][_0x24b35b(0x387)]);if(!_0x44e382||!_0x44e382[_0x24b35b(0x12c)]){this[_0x24b35b(0x433)][_0x24b35b(0x6f9)](this['instanceName']+'\x20('+this['instance'][_0x24b35b(0x387)]+_0x24b35b(0x512)+_0x30e68e['id']);return;}let _0x15987b=await this['repository'][_0x24b35b(0x492)]['findManyByIds'](_0x30e68e[_0x24b35b(0x3b1)]),_0x2e4580=[..._0x44e382[_0x24b35b(0x12c)]?.['participants']];switch(_0x30e68e[_0x24b35b(0x2a8)]){case'add':let _0x18defb=_0x15987b['map'](_0x4c55c7=>({'id':_0x4c55c7[_0x24b35b(0x588)],'isAdmin':!0x1,'name':_0x4c55c7[_0x24b35b(0x246)],'imgUrl':_0x4c55c7[_0x24b35b(0x1fe)]}));_0x2e4580=[..._0x2e4580,..._0x18defb];break;case _0x24b35b(0x650):_0x2e4580=_0x2e4580[_0x24b35b(0x186)](_0x7ce22d=>!_0x30e68e['participants'][_0x24b35b(0x12d)](_0x7ce22d['id']));break;case _0x24b35b(0x1fa):case _0x24b35b(0x484):_0x2e4580=_0x2e4580[_0x24b35b(0x568)](_0x3153d7=>_0x30e68e[_0x24b35b(0x3b1)]['includes'](_0x3153d7['id'])?{..._0x3153d7,'isAdmin':_0x30e68e[_0x24b35b(0x2a8)]==='promote'}:_0x3153d7);break;}let _0x18bdd0=_0x2e4580[_0x24b35b(0x2e0)],_0x4628c8=_0x2e4580[_0x24b35b(0x76a)](_0x25cf84=>_0x25cf84['id']===this['instance'][_0x24b35b(0x387)]+_0x24b35b(0x42f)),_0x3c41e5=_0x4628c8&&_0x2e4580['some'](_0x396f2e=>_0x396f2e['id']===this[_0x24b35b(0x6b9)][_0x24b35b(0x387)]+_0x24b35b(0x42f)&&_0x396f2e['isAdmin']),_0x20aa57=_0x4628c8&&(!_0x44e382['groupdata'][_0x24b35b(0x25c)]||_0x3c41e5)&&(!_0x44e382[_0x24b35b(0x12c)][_0x24b35b(0x26c)]||_0x44e382[_0x24b35b(0x12c)]['isCommunity']&&_0x3c41e5);await this[_0x24b35b(0x2ea)][_0x24b35b(0x429)][_0x24b35b(0x36b)]({'where':{'_id':_0x30e68e['id']}},{'groupdata':{..._0x44e382[_0x24b35b(0x12c)],'participants':_0x2e4580,'size':_0x18bdd0,'isAdmin':_0x3c41e5,'canSendMessage':_0x20aa57}},this['instance'][_0x24b35b(0x387)]),this[_0x24b35b(0x433)]['info'](this[_0x24b35b(0x643)]+'\x20('+this[_0x24b35b(0x6b9)][_0x24b35b(0x387)]+_0x24b35b(0x47d)+_0x30e68e['id']+_0x24b35b(0x365)+_0x30e68e[_0x24b35b(0x2a8)]+_0x24b35b(0x611)+_0x18bdd0+_0x24b35b(0x616)+_0x3c41e5+_0x24b35b(0x4f5)+_0x20aa57);}async['inviteCode'](_0xa64723,_0x1b9ea3=!0x0){const _0x1c1751=a0_0x349dbc;try{let _0x1015f8=await this['client'][_0x1c1751(0x105)](_0xa64723[_0x1c1751(0xee)]),_0x488b0b={'groupdata.inviteCode':_0x1c1751(0x626)+_0x1015f8};if(_0x1b9ea3){let _0x5bb050=await this['repository'][_0x1c1751(0x429)]['updateOne']({'where':{'_id':_0xa64723[_0x1c1751(0xee)]}},_0x488b0b,this['instance']['wuid']);}return{'inviteUrl':_0x1c1751(0x626)+_0x1015f8,'inviteCode':_0x1015f8};}catch(_0x5ed989){let _0x1b8393=_0x1c1751(0x6e8),_0x311f43=_0x5ed989 instanceof Error?_0x5ed989[_0x1c1751(0x180)]:typeof _0x5ed989==_0x1c1751(0x57f)?JSON[_0x1c1751(0x750)](_0x5ed989):_0x5ed989,_0x1fc65b=_0x1b8393+':\x20'+_0x311f43;throw this[_0x1c1751(0x433)]['error'](this[_0x1c1751(0x643)]+'\x20('+this[_0x1c1751(0x6b9)][_0x1c1751(0x387)]+_0x1c1751(0x56b)+_0x1fc65b),new J(_0x1fc65b);}}async['revokeInviteCode'](_0x22e099){const _0x269dd7=a0_0x349dbc;try{let _0x2b20c0=await this[_0x269dd7(0x785)][_0x269dd7(0x1b5)](_0x22e099[_0x269dd7(0xee)]);return{'revoked':!0x0,'inviteUrl':_0x269dd7(0x626)+_0x2b20c0,'inviteCode':_0x2b20c0};}catch(_0xbbf910){let _0x55064a='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0xf64cc2=_0xbbf910 instanceof Error?_0xbbf910['message']:typeof _0xbbf910==_0x269dd7(0x57f)?JSON[_0x269dd7(0x750)](_0xbbf910):_0xbbf910,_0x4bc2d2=_0x55064a+':\x20'+_0xf64cc2;throw this[_0x269dd7(0x433)][_0x269dd7(0x552)](this['instanceName']+'\x20('+this[_0x269dd7(0x6b9)][_0x269dd7(0x387)]+_0x269dd7(0x56b)+_0x4bc2d2),new J(_0x4bc2d2);}}async[a0_0x349dbc(0x267)](_0x1abbad){const _0x41b639=a0_0x349dbc;try{if((0x0,P[_0x41b639(0x2b8)])(_0x1abbad[_0x41b639(0x5c9)]))var _0x1064a5=_0x1abbad[_0x41b639(0x5c9)]['split']('/')[0x3];else var _0x1064a5=_0x1abbad[_0x41b639(0x5c9)];let _0x1b22fa=await this[_0x41b639(0x785)]['groupAcceptInvite'](_0x1064a5);return this[_0x41b639(0x433)][_0x41b639(0x3b4)](this[_0x41b639(0x643)]+'\x20('+this[_0x41b639(0x6b9)][_0x41b639(0x387)]+'):\x20'+_0x1b22fa),{'join':!0x0,'inviteCode':_0x1064a5,'groupJid':_0x1b22fa};}catch(_0x25617a){let _0x5c21b6=_0x41b639(0x6da),_0x5f279f=_0x25617a instanceof Error?_0x25617a[_0x41b639(0x180)]:typeof _0x25617a=='object'?JSON[_0x41b639(0x750)](_0x25617a):_0x25617a,_0x32b371=_0x5c21b6+':\x20'+_0x5f279f;throw this[_0x41b639(0x433)][_0x41b639(0x552)](this['instanceName']+'\x20('+this[_0x41b639(0x6b9)]['wuid']+'):\x20'+_0x32b371),new J(_0x32b371);}}async['findParticipants'](_0x253822){const _0x53e07f=a0_0x349dbc;try{return{'participants':(await this[_0x53e07f(0x785)][_0x53e07f(0x405)](_0x253822['groupJid']))[_0x53e07f(0x3b1)]};}catch(_0x2754e3){let _0x33861d=_0x53e07f(0x4c7),_0x438c91=_0x2754e3 instanceof Error?_0x2754e3['message']:typeof _0x2754e3==_0x53e07f(0x57f)?JSON[_0x53e07f(0x750)](_0x2754e3):_0x2754e3,_0x5c5c30=_0x33861d+':\x20'+_0x438c91;throw this[_0x53e07f(0x433)][_0x53e07f(0x552)](this['instanceName']+'\x20('+this[_0x53e07f(0x6b9)][_0x53e07f(0x387)]+_0x53e07f(0x56b)+_0x5c5c30),new J(_0x5c5c30);}}async[a0_0x349dbc(0x6a4)](_0x1737bf){const _0x1c88c5=a0_0x349dbc;try{return await this['client'][_0x1c88c5(0x23c)](_0x1737bf[_0x1c88c5(0xee)]),{'groupJid':_0x1737bf['groupJid'],'leave':!0x0};}catch(_0x52c0e1){let _0x3ab3b6='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0xc4a4e5=_0x52c0e1 instanceof Error?_0x52c0e1[_0x1c88c5(0x180)]:typeof _0x52c0e1==_0x1c88c5(0x57f)?JSON[_0x1c88c5(0x750)](_0x52c0e1):_0x52c0e1,_0x37ad83=_0x3ab3b6+':\x20'+_0xc4a4e5;throw this[_0x1c88c5(0x433)][_0x1c88c5(0x552)](this[_0x1c88c5(0x643)]+'\x20('+this[_0x1c88c5(0x6b9)][_0x1c88c5(0x387)]+_0x1c88c5(0x56b)+_0x37ad83),new m(_0x37ad83);}}async[a0_0x349dbc(0x51c)](_0x36979c){const _0x4479c6=a0_0x349dbc;return await this[_0x4479c6(0x401)](_0x36979c[_0x4479c6(0x234)],{'poll':{'name':_0x36979c[_0x4479c6(0x51c)]?.[_0x4479c6(0x246)],'selectableCount':_0x36979c[_0x4479c6(0x51c)][_0x4479c6(0x1b6)],'values':_0x36979c[_0x4479c6(0x51c)][_0x4479c6(0x533)]}},_0x36979c?.['options']);}async[a0_0x349dbc(0x31f)](_0x54cab5){const _0x4aef7b=a0_0x349dbc;return await this[_0x4aef7b(0x401)](_0x54cab5[_0x4aef7b(0x234)],{'listMessage':{'title':_0x54cab5['listMessage'][_0x4aef7b(0x2ae)],'description':_0x54cab5['listMessage'][_0x4aef7b(0x23e)],'buttonText':_0x54cab5[_0x4aef7b(0x31f)]?.[_0x4aef7b(0x5e2)],'footerText':_0x54cab5[_0x4aef7b(0x31f)]?.['footerText'],'sections':_0x54cab5['listMessage']['sections'],'listType':0x2}},_0x54cab5?.[_0x4aef7b(0x685)]);}async[a0_0x349dbc(0x687)](_0xf6d91d){const _0x5092c7=a0_0x349dbc;let _0x27e735;if(_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x3cc)]===_0x5092c7(0x469)){let _0xe07b1d=_0xf6d91d['menuMessage'][_0x5092c7(0x2e7)]['indexOf']('\x0a'),_0x1abcef='',_0x1ac992='';_0xe07b1d!==-0x1?(_0x1abcef=_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x2e7)][_0x5092c7(0x3f2)](0x0,_0xe07b1d)[_0x5092c7(0x349)](),_0x1ac992=_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x2e7)]['substring'](_0xe07b1d+0x1)):_0x1ac992=_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x2e7)];let _0x46f045=_0xf6d91d['menuMessage'][_0x5092c7(0x58c)][_0x5092c7(0x186)](_0x18e0ef=>_0x18e0ef['trim']()!==''),_0x2b4484=this[_0x5092c7(0x2ce)](_0x46f045);_0x27e735={'listMessage':{'title':_0x1abcef,'description':_0x1ac992,'buttonText':_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x5e2)]||_0x5092c7(0x728),'footerText':_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x205)],'sections':_0x2b4484,'listType':0x2}};}else{if(_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x3cc)]==='poll'){let _0x560d33=_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x58c)]['filter'](_0x1977b2=>!(_0x1977b2[_0x5092c7(0x6f7)]('[')&&_0x1977b2['endsWith'](']'))&&_0x1977b2['trim']()!=='')['map'](_0xecf6db=>_0xecf6db['split']('\x0a')[0x0]);_0x27e735={'poll':{'name':_0xf6d91d[_0x5092c7(0x687)][_0x5092c7(0x2e7)],'selectableCount':_0xf6d91d['menuMessage'][_0x5092c7(0x1b6)]||0x1,'values':_0x560d33}};}}return await this[_0x5092c7(0x401)](_0xf6d91d[_0x5092c7(0x234)],_0x27e735,_0xf6d91d?.[_0x5092c7(0x685)]);}[a0_0x349dbc(0x2ce)](_0x34bf64){const _0x2f74ed=a0_0x349dbc;let _0x70e7db=[],_0x15ab3c={'rows':[]};return _0x34bf64[_0x2f74ed(0x79a)](_0x42c5f9=>{const _0x400821=_0x2f74ed;if(_0x42c5f9[_0x400821(0x6f7)]('[')&&_0x42c5f9[_0x400821(0x46e)](']'))_0x15ab3c[_0x400821(0x1fc)][_0x400821(0x2e0)]>0x0&&_0x70e7db[_0x400821(0x3fd)](_0x15ab3c),_0x15ab3c={'title':_0x42c5f9[_0x400821(0x5f3)](0x1,-0x1),'rows':[]};else{let _0x5f5aa3=_0x42c5f9[_0x400821(0x13d)]('\x0a')[_0x400821(0x568)](_0x566880=>_0x566880[_0x400821(0x349)]()),_0x5ca987=_0x5f5aa3[0x0],_0x303f08=_0x5f5aa3[0x1]||null,_0x56463b=_0x5f5aa3[0x2]||_0x5ca987;_0x15ab3c[_0x400821(0x1fc)][_0x400821(0x3fd)]({'title':_0x5ca987,'description':_0x303f08,'rowId':_0x56463b});}}),_0x15ab3c['rows']['length']>0x0&&_0x70e7db[_0x2f74ed(0x3fd)](_0x15ab3c),_0x70e7db;}async[a0_0x349dbc(0x30f)](_0x541087,_0x37350b){const _0x479ea5=a0_0x349dbc;if(await this[_0x479ea5(0x507)](_0x541087,!0x0)){let _0x27159d={'where':{'_id':_0x541087['id']}},_0x5dab60={'status':[_0x37350b[_0x479ea5(0x130)]][0x0]};try{let _0x48b463=await this[_0x479ea5(0x2ea)]['message'][_0x479ea5(0x710)](_0x27159d,_0x5dab60,this[_0x479ea5(0x6b9)][_0x479ea5(0x387)]);_0x48b463&&U(this[_0x479ea5(0x643)],'messages',{'message':_0x48b463});}catch{}}}[a0_0x349dbc(0x6ca)](_0x2d04dc){const _0x45db33=a0_0x349dbc;let _0xe153aa=[];return _0x2d04dc[_0x45db33(0x79a)](_0x3727bc=>{const _0x22ad5c=_0x45db33;_0x3727bc['title']&&_0xe153aa[_0x22ad5c(0x3fd)]('['+_0x3727bc[_0x22ad5c(0x2ae)]+']'),_0x3727bc['rows'][_0x22ad5c(0x79a)](_0x2a6ae4=>{_0xe153aa['push'](_0x2a6ae4['title']);});}),_0xe153aa[_0x45db33(0x71a)]('|');}[a0_0x349dbc(0x119)](_0x48d29d){const _0x3ebae2=a0_0x349dbc;let _0x4bdead=_0x48d29d[_0x3ebae2(0x1b7)](/\\n/g,'\x0a')[_0x3ebae2(0x13d)]('\x0a')[_0x3ebae2(0x186)](_0x1ba851=>_0x1ba851['includes'](_0x3ebae2(0x16e))||_0x1ba851[_0x3ebae2(0x12d)](_0x3ebae2(0x342))),_0xa2939b='';return _0x4bdead[_0x3ebae2(0x79a)](_0x3b44e8=>{const _0x197e90=_0x3ebae2;let _0x37efd5=/TEL(?:.*):(.+)/,_0x16587a=/EMAIL(?:.*):(.+)/,_0x56f66b=_0x3b44e8['match'](_0x37efd5),_0x236bcb=_0x3b44e8[_0x197e90(0x565)](_0x16587a);if(_0x56f66b){let _0x10581e=_0x56f66b[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x197e90(0x349)]();_0xa2939b+='Telefone:\x20'+_0x10581e+'\x0a';}else{if(_0x236bcb){let _0x3dff87=_0x236bcb[0x1][_0x197e90(0x349)]();_0xa2939b+=_0x197e90(0x3a0)+_0x3dff87+'\x0a';}}}),_0xa2939b[_0x3ebae2(0x349)]();}async['updateChatWithMessage'](_0x4f7f02,_0xf2b40d,_0x15f3ee,_0x307ec0=null){const _0x46c4a5=a0_0x349dbc;if(!_0x4f7f02['ENABLED'])return;let _0x48ee5e=_0xf2b40d[_0x46c4a5(0xc0)][_0x46c4a5(0x185)]['replace'](/:\d{1,2}@/g,'@'),_0x1362ac=_0xf2b40d[_0x46c4a5(0xc0)][_0x46c4a5(0x73c)],_0x210adf=_0x48ee5e['endsWith'](_0x46c4a5(0x25b)),_0x478165=_0xf2b40d[_0x46c4a5(0x27a)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x48550c=_0xf2b40d['message_normalized']?.['text']||_0xf2b40d[_0x46c4a5(0x518)]?.['caption']||_0xf2b40d[_0x46c4a5(0x518)]?.[_0x46c4a5(0xc1)]||_0xf2b40d[_0x46c4a5(0x518)]?.['name'],_0xbbf01a={'_id':_0xf2b40d[_0x46c4a5(0x588)],'remoteJid':_0x1362ac?this[_0x46c4a5(0x6b9)][_0x46c4a5(0x387)]:_0x210adf?_0x478165:_0x48ee5e,'pushName':_0x1362ac?this[_0x46c4a5(0x6b9)][_0x46c4a5(0x2b3)]||'Eu':_0xf2b40d['pushName'],'text':_0x48550c,'type':_0xf2b40d[_0x46c4a5(0x194)],'when':_0xf2b40d[_0x46c4a5(0x5f7)]||Date[_0x46c4a5(0x6db)]()};_0x307ec0||(_0x307ec0=await this[_0x46c4a5(0x2ea)][_0x46c4a5(0x429)]['findOne']({'where':{'_id':_0x48ee5e}},this[_0x46c4a5(0x6b9)][_0x46c4a5(0x387)]));let _0x5a0435=_0x307ec0?_0x1362ac?_0x307ec0['unreadcount']:(_0x307ec0[_0x46c4a5(0x6e6)]||0x0)+0x1:_0x1362ac?0x0:0x1,_0x13b81f={'lastmsg':_0xf2b40d[_0x46c4a5(0x5f7)]||Date['now'](),'ephemeralExpiration':_0xf2b40d[_0x46c4a5(0x407)],'lastMessage':_0xbbf01a,'unreadcount':_0x5a0435,..._0x1362ac||_0x210adf?{}:{'name':_0xf2b40d['pushName']},..._0x210adf?{'group':_0x210adf}:{},...!_0x1362ac&&!_0x210adf&&_0xf2b40d['profilePictureUrl']?{'imagechat':_0xf2b40d[_0x46c4a5(0x6d2)]}:{}};if(!_0x210adf&&(!_0x307ec0?.[_0x46c4a5(0x305)]||!_0x307ec0[_0x46c4a5(0x305)][_0x46c4a5(0x531)])&&_0xf2b40d[_0x46c4a5(0x79d)]&&!_0x1362ac&&(_0x13b81f={..._0x13b81f,'leadInfo.nome':_0xf2b40d[_0x46c4a5(0x79d)]}),_0x307ec0?.[_0x46c4a5(0x305)]['etiquetas']||(_0x13b81f={..._0x13b81f,'leadInfo.etiquetas':[]}),_0x307ec0?.[_0x46c4a5(0x305)]['customFields']||(_0x13b81f={..._0x13b81f,'leadInfo.customFields':[]}),_0x307ec0?.[_0x46c4a5(0x305)][_0x46c4a5(0xc9)]||(_0x13b81f={..._0x13b81f,'leadInfo.tags':[]}),_0x307ec0&&_0x307ec0?.[_0x46c4a5(0x277)]){let _0x4323a6=await this[_0x46c4a5(0x2ea)][_0x46c4a5(0x2c4)][_0x46c4a5(0x3e0)]({'where':{}},this['instance'][_0x46c4a5(0x387)]),_0x442502=new Set(_0x4323a6[_0x46c4a5(0x568)](_0x15623c=>_0x15623c[_0x46c4a5(0x588)])),_0x307f2b=(_0x307ec0['leadInfo']?.[_0x46c4a5(0x3c6)]||[])['filter'](_0x330984=>_0x442502[_0x46c4a5(0x14b)](_0x330984));_0x13b81f={..._0x13b81f,'imported':!0x1,'leadInfo.etiquetas':_0x307f2b};for(let _0x28f58e of _0x307f2b)await this[_0x46c4a5(0x6bb)](_0x28f58e,_0x48ee5e);}if(_0x15f3ee===_0x46c4a5(0x29d)&&_0x1362ac&&this[_0x46c4a5(0x11b)]?.['flowConfig'][_0x46c4a5(0x3eb)]&&!_0x48550c[_0x46c4a5(0x6f7)](this[_0x46c4a5(0x11b)]?.[_0x46c4a5(0x591)]['prefixCommand'])){let _0x45f1c8=(this[_0x46c4a5(0x11b)]?.[_0x46c4a5(0x591)][_0x46c4a5(0x3d6)]||0x5)*0xea60,_0x598010=Date['now']()+_0x45f1c8;_0x307ec0?.[_0x46c4a5(0x305)]?.[_0x46c4a5(0x4c1)]===0x0||(_0x13b81f={..._0x13b81f,'leadInfo.desativadoFluxoAte':_0x598010},this[_0x46c4a5(0x433)][_0x46c4a5(0x3b4)](this['instanceName']+'\x20('+this[_0x46c4a5(0x6b9)]['wuid']+_0x46c4a5(0x3e8)+_0x598010+'.'));}if(_0x307ec0=await this['repository']['chat'][_0x46c4a5(0x36b)]({'where':{'_id':_0x48ee5e}},_0x13b81f,this[_0x46c4a5(0x6b9)][_0x46c4a5(0x387)],{'new':!0x0,'upsert':!0x0}),_0x307ec0)U(this[_0x46c4a5(0x643)],'chats',{'chat':_0x307ec0});else{this[_0x46c4a5(0x433)][_0x46c4a5(0x552)](this['instanceName']+'\x20('+this['instance'][_0x46c4a5(0x387)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(!this[_0x46c4a5(0x11b)]?.[_0x46c4a5(0x591)][_0x46c4a5(0x3eb)])return this[_0x46c4a5(0x433)][_0x46c4a5(0x3b4)](this[_0x46c4a5(0x643)]+'\x20('+this[_0x46c4a5(0x6b9)]['wuid']+_0x46c4a5(0x41f)),null;if(_0x307ec0[_0x46c4a5(0x588)]['includes'](_0x46c4a5(0x25b))&&this[_0x46c4a5(0x11b)]?.['flowConfig'][_0x46c4a5(0x3c1)]===!0x0)return this['logger'][_0x46c4a5(0x3b4)](this['instanceName']+'\x20('+this[_0x46c4a5(0x6b9)][_0x46c4a5(0x387)]+_0x46c4a5(0x79e)),null;if(_0x307ec0['leadInfo']){if(_0x307ec0[_0x46c4a5(0x305)]['desativadoFluxoAte']===0x0||_0x307ec0['leadInfo'][_0x46c4a5(0x4f8)])return this[_0x46c4a5(0x433)][_0x46c4a5(0x3b4)](this[_0x46c4a5(0x643)]+'\x20('+this[_0x46c4a5(0x6b9)][_0x46c4a5(0x387)]+_0x46c4a5(0x6cb)+_0x48ee5e+_0x46c4a5(0x6a8)),null;if(_0x307ec0[_0x46c4a5(0x305)][_0x46c4a5(0x4c1)]>Date[_0x46c4a5(0x6db)]()&&!_0xf2b40d[_0x46c4a5(0x518)]?.['vote'])return this[_0x46c4a5(0x433)][_0x46c4a5(0x3b4)](this[_0x46c4a5(0x643)]+'\x20('+this['instance']['wuid']+_0x46c4a5(0x45d)+new Date(_0x307ec0[_0x46c4a5(0x305)]['desativadoFluxoAte'])[_0x46c4a5(0x52c)]()+_0x46c4a5(0x6a8)),null;}this['logger'][_0x46c4a5(0x3b4)](this[_0x46c4a5(0x643)]+'\x20('+this['instance']['wuid']+_0x46c4a5(0x203)),this[_0x46c4a5(0x500)](_0x15f3ee,_0xf2b40d);}async[a0_0x349dbc(0x1cb)](_0x59d7d,_0x6e8374){const _0x35f061=a0_0x349dbc;if(_0x6e8374[_0x35f061(0x108)]){let _0x33a7c7=_0x59d7d[_0x35f061(0x568)](async _0x4d3d2e=>{const _0xb4a3fd=_0x35f061;try{let _0x2617b0={'_id':_0x4d3d2e[_0xb4a3fd(0x588)],'owner':_0x4d3d2e[_0xb4a3fd(0x293)],'lastcache':0x0};if(Object[_0xb4a3fd(0x4a4)](_0x4d3d2e)[_0xb4a3fd(0x79a)](_0x181749=>{_0x4d3d2e[_0x181749]!==null&&(_0x2617b0[_0x181749]=_0x4d3d2e[_0x181749]);}),_0x2617b0[_0xb4a3fd(0x110)]===null&&(_0x2617b0[_0xb4a3fd(0x110)]=_0xb4a3fd(0x772)),Object['keys'](_0x2617b0)[_0xb4a3fd(0x2e0)]>0x0)return await this[_0xb4a3fd(0x2ea)]['chat'][_0xb4a3fd(0x36b)]({'where':{'_id':_0x4d3d2e[_0xb4a3fd(0x588)]}},_0x2617b0,this[_0xb4a3fd(0x6b9)]['wuid']);}catch(_0x1aa006){let _0x213b50='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x4d3d2e[_0xb4a3fd(0x588)],_0x1f6b67=_0x1aa006 instanceof Error?_0x1aa006[_0xb4a3fd(0x180)]:typeof _0x1aa006==_0xb4a3fd(0x57f)?JSON[_0xb4a3fd(0x750)](_0x1aa006):_0x1aa006,_0x58563e=_0x213b50+':\x20'+_0x1f6b67;return this[_0xb4a3fd(0x433)]['error'](this['instanceName']+'\x20('+this[_0xb4a3fd(0x6b9)][_0xb4a3fd(0x387)]+'):\x20'+_0x58563e),null;}}),_0xa7cb02=(await Promise[_0x35f061(0x77f)](_0x33a7c7))[_0x35f061(0x186)](_0x1cccc9=>_0x1cccc9!==null)[_0x35f061(0x2e0)];this[_0x35f061(0x433)]['verbose'](this['instanceName']+'\x20('+this[_0x35f061(0x6b9)][_0x35f061(0x387)]+_0x35f061(0x56b)+_0xa7cb02+'\x20chats\x20de\x20'+this[_0x35f061(0x6b9)][_0x35f061(0x387)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x3fdf43){const _0x3fcc45=a0_0x349dbc;this[_0x3fcc45(0x433)]['verbose'](this[_0x3fcc45(0x643)]+'\x20('+this[_0x3fcc45(0x6b9)][_0x3fcc45(0x387)]+_0x3fcc45(0x2d1));let _0x382948={'readMessages':[{'remoteJid':_0x3fdf43[_0x3fcc45(0x5ec)][_0x3fcc45(0x475)][_0x3fcc45(0xc0)][_0x3fcc45(0x185)],'fromMe':_0x3fdf43[_0x3fcc45(0x5ec)][_0x3fcc45(0x475)]['key'][_0x3fcc45(0x73c)],'id':_0x3fdf43[_0x3fcc45(0x5ec)]['lastReceivedMessage']['key']['id']}]};await this['markMessageAsRead'](_0x382948);}async[a0_0x349dbc(0x500)](_0x520108,_0x2d2b95){const _0x400cf0=a0_0x349dbc;try{let {key:_0x2ab79e,message_normalized:_0x5373b4}=_0x2d2b95,_0x3f4fa0=_0x5373b4,_0x283ae3=_0x5373b4[_0x400cf0(0x2e7)]||_0x5373b4[_0x400cf0(0x3db)]||_0x5373b4['vote']||_0x5373b4['name'],_0x3560f0=_0x2ab79e[_0x400cf0(0x185)],_0x847faf;if(_0x3f4fa0[_0x400cf0(0xc0)][_0x400cf0(0x73c)]&&_0x283ae3[_0x400cf0(0x349)]()!==this[_0x400cf0(0x11b)]?.['flowConfig'][_0x400cf0(0x2ec)][_0x400cf0(0x349)]())return this[_0x400cf0(0x433)][_0x400cf0(0x3b4)](this[_0x400cf0(0x643)]+'\x20('+this[_0x400cf0(0x6b9)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x3f4fa0[_0x400cf0(0xc0)][_0x400cf0(0x73c)]&&_0x283ae3[_0x400cf0(0x349)]()===this[_0x400cf0(0x11b)]?.[_0x400cf0(0x591)][_0x400cf0(0x2ec)][_0x400cf0(0x349)]()){this[_0x400cf0(0x433)][_0x400cf0(0x3b4)](this[_0x400cf0(0x643)]+'\x20('+this[_0x400cf0(0x6b9)]['wuid']+_0x400cf0(0x534));let _0x5b10d0=await this[_0x400cf0(0x2ea)][_0x400cf0(0x134)]['find']({'remoteJid':_0x3560f0,'status':_0x400cf0(0x4b3)},this[_0x400cf0(0x6b9)][_0x400cf0(0x387)]);this[_0x400cf0(0x433)][_0x400cf0(0x3b4)](this[_0x400cf0(0x643)]+'\x20('+this[_0x400cf0(0x6b9)][_0x400cf0(0x387)]+_0x400cf0(0x70a)+_0x5b10d0);let _0x5032da=Date[_0x400cf0(0x6db)](),_0x182766;return this[_0x400cf0(0x11b)]?.[_0x400cf0(0x591)][_0x400cf0(0x381)]===0x0?_0x182766={'stoppedUntil':_0x5032da+0x7591f6200}:_0x182766={'stoppedUntil':_0x5032da+this[_0x400cf0(0x11b)]?.[_0x400cf0(0x591)][_0x400cf0(0x381)]*0x3c*0x3e8},this[_0x400cf0(0x433)][_0x400cf0(0x3b4)](this[_0x400cf0(0x643)]+'\x20('+this[_0x400cf0(0x6b9)][_0x400cf0(0x387)]+_0x400cf0(0x497)+_0x182766),this[_0x400cf0(0x702)](_0x847faf,_0x182766[_0x400cf0(0x4aa)]),null;}if(_0x283ae3&&_0x283ae3[_0x400cf0(0x6f7)](this[_0x400cf0(0x11b)]?.[_0x400cf0(0x591)]['prefixCommand'])&&_0x283ae3['length']>0x4){let _0x27fe96=await this['repository'][_0x400cf0(0x59a)]['findOne']({'where':{'startCommandWord':_0x283ae3}},this[_0x400cf0(0x6b9)][_0x400cf0(0x387)]);if(this[_0x400cf0(0x433)]['verbose'](this[_0x400cf0(0x643)]+'\x20('+this['instance'][_0x400cf0(0x387)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x27fe96)_0x847faf=await this[_0x400cf0(0x528)](_0x27fe96,_0x3f4fa0[_0x400cf0(0xc0)],_0x3f4fa0);else return this[_0x400cf0(0x433)][_0x400cf0(0x3b4)](this[_0x400cf0(0x643)]+'\x20('+this[_0x400cf0(0x6b9)][_0x400cf0(0x387)]+_0x400cf0(0x4c8)),null;}else _0x847faf=await this[_0x400cf0(0x4bd)](_0x3560f0,_0x3f4fa0);if(_0x847faf){this['logger'][_0x400cf0(0x3b4)](this[_0x400cf0(0x643)]+'\x20('+this[_0x400cf0(0x6b9)]['wuid']+_0x400cf0(0xeb)),!_0x2ab79e[_0x400cf0(0x73c)]&&_0x847faf[_0x400cf0(0x5c0)]&&this[_0x400cf0(0x67d)](_0x847faf);let _0xc1e2c5=await this[_0x400cf0(0x558)](_0x847faf);_0xc1e2c5&&await this[_0x400cf0(0x362)](_0x847faf,_0xc1e2c5);}}catch(_0xe68911){this[_0x400cf0(0x433)][_0x400cf0(0x552)](this[_0x400cf0(0x643)]+'\x20('+this['instance'][_0x400cf0(0x387)]+_0x400cf0(0x5f0)+(_0xe68911 instanceof Error?_0xe68911[_0x400cf0(0x180)]:JSON[_0x400cf0(0x750)](_0xe68911,null,0x2)));}}['flattenObject'](_0x4c5555,_0x5f0492='',_0x5e5784={}){const _0x571819=a0_0x349dbc;return typeof _0x4c5555!=_0x571819(0x57f)||_0x4c5555===null?(_0x5f0492&&(_0x5e5784[_0x5f0492]=_0x4c5555),_0x5e5784):(Object[_0x571819(0x6a3)](_0x4c5555)[_0x571819(0x79a)](([_0x1a7123,_0x15361f])=>{const _0x24b0fe=_0x571819;let _0x41af14=_0x5f0492?_0x5f0492+'.'+_0x1a7123:'_'+_0x1a7123;Array[_0x24b0fe(0x2e1)](_0x15361f)?_0x15361f[_0x24b0fe(0x79a)]((_0x5c73c4,_0x130394)=>{this['flattenObject'](_0x5c73c4,_0x41af14+'['+_0x130394+']',_0x5e5784);}):typeof _0x15361f==_0x24b0fe(0x57f)&&_0x15361f!==null?this[_0x24b0fe(0x58f)](_0x15361f,_0x41af14,_0x5e5784):_0x5e5784[_0x41af14]=String(_0x15361f);}),_0x5e5784);}[a0_0x349dbc(0x75c)](_0x505125){const _0x3b1459=a0_0x349dbc;let _0xbcad28={};for(let _0xd9b2f5 of _0x505125)typeof _0xd9b2f5[_0x3b1459(0x246)]=='string'&&typeof _0xd9b2f5[_0x3b1459(0x18d)]==_0x3b1459(0x28d)&&(_0xbcad28[_0xd9b2f5[_0x3b1459(0x246)]]=_0xd9b2f5[_0x3b1459(0x18d)]);return _0xbcad28;}async['NextBlock'](_0x2efec6){const _0x3b6fa1=a0_0x349dbc;if(!this[_0x3b6fa1(0x11b)]?.[_0x3b6fa1(0x591)][_0x3b6fa1(0x3eb)]||_0x2efec6['status']!==_0x3b6fa1(0x4b3)&&_0x2efec6[_0x3b6fa1(0x208)]==='')return null;let _0x50b7ed=_0x2efec6[_0x3b6fa1(0x5ec)]['lastBlockId']||_0x3b6fa1(0xdc);typeof _0x2efec6[_0x3b6fa1(0x5ec)][_0x3b6fa1(0x743)]>'u'&&(_0x2efec6[_0x3b6fa1(0x5ec)][_0x3b6fa1(0x743)]=!0x0);let _0x2192ab=_0x2efec6[_0x3b6fa1(0x5ec)][_0x3b6fa1(0x743)];this[_0x3b6fa1(0x433)][_0x3b6fa1(0x3b4)](this['instanceName']+'\x20('+this[_0x3b6fa1(0x6b9)][_0x3b6fa1(0x387)]+_0x3b6fa1(0x69e)+_0x50b7ed+_0x3b6fa1(0x4ac)+_0x2192ab);let _0x5c731b=_0x50b7ed==='start'?_0x2efec6[_0x3b6fa1(0x6bd)][_0x3b6fa1(0x3e0)](_0x2d85bf=>_0x2d85bf[_0x3b6fa1(0x3cc)]===_0x3b6fa1(0xdc)):_0x2efec6[_0x3b6fa1(0x6bd)][_0x3b6fa1(0x3e0)](_0x4e18e1=>_0x4e18e1['_id'][_0x3b6fa1(0x343)]()===_0x50b7ed[_0x3b6fa1(0x343)]());if(!_0x5c731b)return this[_0x3b6fa1(0x433)][_0x3b6fa1(0x552)](this['instanceName']+'\x20('+this[_0x3b6fa1(0x6b9)][_0x3b6fa1(0x387)]+_0x3b6fa1(0x3f0)+_0x50b7ed),null;let _0x492fc1={'_pushName':_0x2efec6['chatLog'][_0x3b6fa1(0x475)][_0x3b6fa1(0x79d)],..._0x2efec6[_0x3b6fa1(0x5ec)][_0x3b6fa1(0x129)]},_0x10ead7=null;if(_0x2efec6['waitingMenu_id']){let _0x314421=_0x2efec6[_0x3b6fa1(0x5ec)][_0x3b6fa1(0x475)][_0x3b6fa1(0xc1)],_0x50d650=_0x2efec6['waitingMenu_replyOptions'][_0x3b6fa1(0x3e0)](_0x4e8494=>_0x4e8494[_0x3b6fa1(0xe9)]===_0x314421);if(_0x50d650){let _0x1b9c13=_0x50d650[_0x3b6fa1(0x57a)];if(_0x10ead7=_0x2efec6[_0x3b6fa1(0x6bd)][_0x3b6fa1(0x3e0)](_0x240721=>_0x240721[_0x3b6fa1(0x714)]===_0x1b9c13&&_0x240721[_0x3b6fa1(0x1a1)]===0x1),_0x5c731b[_0x3b6fa1(0x273)][_0x3b6fa1(0x437)]){let _0x393e5f={'id':_0x2efec6[_0x3b6fa1(0x208)],'remoteJid':_0x2efec6[_0x3b6fa1(0x185)],'fromMe':!0x0};await this['deleteMessage'](_0x393e5f);}if(_0x5c731b['uazapi'][_0x3b6fa1(0x437)]&&_0x5c731b[_0x3b6fa1(0x273)]['pollMessageOnDelete']&&_0x5c731b['uazapi']['menuType']===_0x3b6fa1(0x28c)){let _0x49fb16={'number':_0x2efec6['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x3b6fa1(0x252)+_0x2efec6[_0x3b6fa1(0x2f6)]+'\x0a*Você\x20respondeu*:\x0a'+_0x314421}};await this[_0x3b6fa1(0x21b)](_0x49fb16);}_0x2efec6['status']='open',_0x2efec6['waitingMenu_id']='',_0x2efec6[_0x3b6fa1(0x2f6)]='',_0x2efec6[_0x3b6fa1(0x1d6)]=[];}else{this[_0x3b6fa1(0x433)][_0x3b6fa1(0x3b4)](this['instanceName']+'\x20('+this[_0x3b6fa1(0x6b9)][_0x3b6fa1(0x387)]+_0x3b6fa1(0x2ab));let _0x34c917={'activatedCount':_0x2efec6['chatLog']['blockLogs']['filter'](_0x511838=>String(_0x511838[_0x3b6fa1(0x2ee)])===String(_0x50b7ed))[_0x3b6fa1(0x2e0)],'moreLogs':[_0x3b6fa1(0x587)]};if(_0x5c731b['uazapi'][_0x3b6fa1(0x690)]){let _0x48d5ee={'number':_0x2efec6[_0x3b6fa1(0x185)],'options':{'delay':0x0},'textMessage':{'text':_0x5c731b['uazapi'][_0x3b6fa1(0x690)]}};await this[_0x3b6fa1(0x21b)](_0x48d5ee);}if(_0x5c731b['maxActives']!==void 0x0&&_0x34c917[_0x3b6fa1(0x4dc)]>=_0x5c731b[_0x3b6fa1(0x5da)]){let _0x406437=Date['now'](),_0x5e224d=_0x5c731b['stopMinutesMaxActives']??0xa;isNaN(_0x5e224d)&&(_0x5e224d=0xa);let _0x36fcc2=_0x406437+_0x5e224d*0x3c*0x3e8;_0x34c917[_0x3b6fa1(0x6b3)]=_0x36fcc2,_0x34c917[_0x3b6fa1(0x1d3)][_0x3b6fa1(0x3fd)](_0x3b6fa1(0x4da)),this[_0x3b6fa1(0x702)](_0x2efec6,_0x36fcc2),_0x2efec6[_0x3b6fa1(0x208)]='',_0x2efec6[_0x3b6fa1(0x2f6)]='',_0x2efec6[_0x3b6fa1(0x1d6)]=[];}return this[_0x3b6fa1(0x494)](_0x2efec6,_0x5c731b,_0x34c917,!0x0),null;}}if(_0x2192ab&&_0x5c731b[_0x3b6fa1(0x57a)]&&!_0x2efec6[_0x3b6fa1(0x208)]){let _0xb9833c=_0x2efec6[_0x3b6fa1(0x6bd)]['filter'](_0x16d57a=>_0x16d57a[_0x3b6fa1(0x714)][_0x3b6fa1(0x343)]()===_0x5c731b[_0x3b6fa1(0x57a)][_0x3b6fa1(0x343)]())[_0x3b6fa1(0x689)]((_0x523d16,_0x39141b)=>_0x523d16[_0x3b6fa1(0x1a1)]-_0x39141b[_0x3b6fa1(0x1a1)]);_0xb9833c[_0x3b6fa1(0x2e0)]>0x0&&(_0x10ead7=_0xb9833c[0x0]);}if(!_0x10ead7){let _0x51ebab=_0x5c731b[_0x3b6fa1(0x714)],_0x8f7930=_0x2efec6[_0x3b6fa1(0x6bd)][_0x3b6fa1(0x186)](_0x559d47=>_0x559d47['groupId']===_0x51ebab&&_0x559d47['order']>_0x5c731b[_0x3b6fa1(0x1a1)])[_0x3b6fa1(0x689)]((_0x5314bf,_0x531e2f)=>_0x5314bf[_0x3b6fa1(0x1a1)]-_0x531e2f['order']);_0x8f7930[_0x3b6fa1(0x2e0)]>0x0&&(_0x10ead7=_0x8f7930[0x0]);}if(!_0x10ead7)return _0x2efec6[_0x3b6fa1(0x130)]=_0x3b6fa1(0x24b),null;_0x2efec6[_0x3b6fa1(0x5ec)]['realVariables']=_0x492fc1;let _0x1e5b48=JSON[_0x3b6fa1(0xcc)](JSON[_0x3b6fa1(0x750)](_0x10ead7));return this[_0x3b6fa1(0x5af)](_0x1e5b48,_0x2efec6[_0x3b6fa1(0x5ec)][_0x3b6fa1(0x129)]),_0x2efec6[_0x3b6fa1(0x5ec)]['lastBlockId']=_0x1e5b48['_id'],_0x2efec6[_0x3b6fa1(0x5ec)][_0x3b6fa1(0x743)]=!0x0,_0x1e5b48;}[a0_0x349dbc(0x52e)](_0x5675e2,_0x5a816a){return _0x5675e2['replace'](/\{\{([^}]+)\}\}/g,(_0x3bc074,_0x2f9631)=>_0x5a816a[_0x2f9631]||'');}['replaceVariablesInObject'](_0x363534,_0x10d3e5){const _0x1835eb=a0_0x349dbc;for(let _0x461257 in _0x363534)typeof _0x363534[_0x461257]==_0x1835eb(0x28d)?_0x363534[_0x461257]=this[_0x1835eb(0x52e)](_0x363534[_0x461257],_0x10d3e5):typeof _0x363534[_0x461257]==_0x1835eb(0x57f)&&this[_0x1835eb(0x5af)](_0x363534[_0x461257],_0x10d3e5);}async[a0_0x349dbc(0xcb)](_0x13c4d7,_0x451653){const _0x414881=a0_0x349dbc;let _0x20baca=_0x451653[_0x414881(0x588)];if(_0x13c4d7['chatLog']&&_0x13c4d7['chatLog']['blockLogs']){let _0x743798=_0x13c4d7['chatLog'][_0x414881(0x730)][_0x414881(0x186)](_0x4ff3c5=>String(_0x4ff3c5['blockId'])===String(_0x20baca))['pop']();if(_0x743798&&_0x743798[_0x414881(0x552)]&&_0x451653[_0x414881(0x2a2)])return _0x13c4d7['status']=_0x414881(0x24b),await this[_0x414881(0x48e)](_0x13c4d7),null;}if(_0x451653[_0x414881(0x3cc)]===_0x414881(0x273)&&_0x451653[_0x414881(0x273)][_0x414881(0x6a9)]===_0x414881(0x1a5)&&_0x13c4d7[_0x414881(0x208)])return _0x13c4d7[_0x414881(0x5ec)]['lastBlockId']=_0x20baca,await this[_0x414881(0x48e)](_0x13c4d7),null;let _0x1481df=await this[_0x414881(0x558)](_0x13c4d7);if(_0x13c4d7[_0x414881(0x5ec)]&&_0x13c4d7[_0x414881(0x5ec)]['blockLogs']){let _0x5d26af=_0x13c4d7[_0x414881(0x5ec)]['blockLogs']['filter'](_0x5bf26f=>String(_0x5bf26f[_0x414881(0x2ee)])===String(_0x20baca))['length'];if(_0x451653[_0x414881(0x5da)]!==void 0x0&&_0x5d26af>=_0x451653[_0x414881(0x5da)]){let _0xfa4417=Date[_0x414881(0x6db)](),_0x2e11a7=_0x451653[_0x414881(0x284)]??0xa;isNaN(_0x2e11a7)&&(_0x2e11a7=0xa);let _0x23f72b=_0xfa4417+_0x2e11a7*0x3c*0x3e8,_0x3cc359={'newStoppedUntil':_0x23f72b};return this[_0x414881(0x702)](_0x13c4d7,_0x23f72b),this['updateConversation'](_0x13c4d7,_0x451653,_0x3cc359,!0x0),null;}}_0x1481df&&_0x1481df[_0x414881(0x3cc)]!==_0x414881(0x3ab)&&await this[_0x414881(0x362)](_0x13c4d7,_0x1481df),_0x1481df||await this[_0x414881(0x48e)](_0x13c4d7),_0x1481df&&_0x1481df[_0x414881(0x3cc)]==='save'&&(_0x13c4d7[_0x414881(0x5ec)][_0x414881(0x226)]=_0x20baca,await this[_0x414881(0x48e)](_0x13c4d7));}async[a0_0x349dbc(0x362)](_0x861705,_0x5adb2b){const _0x419991=a0_0x349dbc;try{let _0x324b18=_0x5adb2b[_0x419991(0x3cc)];this[_0x419991(0x433)][_0x419991(0x3b4)](this[_0x419991(0x643)]+'\x20('+this['instance'][_0x419991(0x387)]+_0x419991(0x527)+_0x324b18);let _0x4a993f={'uazapi':()=>this[_0x419991(0x23d)](_0x861705,_0x5adb2b),'save':()=>this[_0x419991(0x6a5)](_0x861705,_0x5adb2b),'stop':()=>this['stopConversation'](_0x861705,_0x5adb2b),'condition':()=>this[_0x419991(0x62a)](_0x861705,_0x5adb2b),'varedit':()=>this[_0x419991(0x359)](_0x861705,_0x5adb2b),'apirequest':()=>this['processApiRequest'](_0x861705,_0x5adb2b),'goToFlow':()=>this[_0x419991(0x562)](_0x861705,_0x5adb2b),'awaitSeconds':()=>this['processawaitSeconds'](_0x861705,_0x5adb2b),'clearVariables':()=>this[_0x419991(0x553)](_0x861705,_0x5adb2b)}[_0x324b18];_0x4a993f&&await _0x4a993f();}catch(_0x54367c){this[_0x419991(0x433)]['error'](this[_0x419991(0x643)]+'\x20('+this[_0x419991(0x6b9)][_0x419991(0x387)]+_0x419991(0x738)+(_0x54367c instanceof Error?_0x54367c['message']:JSON[_0x419991(0x750)](_0x54367c,null,0x2)));}}async['processawaitSeconds'](_0x3dc0e4,_0x4bf57c){const _0x36a707=a0_0x349dbc;if(this[_0x36a707(0x433)][_0x36a707(0x3b4)](this[_0x36a707(0x643)]+'\x20('+this[_0x36a707(0x6b9)][_0x36a707(0x387)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x3dc0e4||!_0x4bf57c)return this[_0x36a707(0x433)][_0x36a707(0x552)](this[_0x36a707(0x643)]+'\x20('+this[_0x36a707(0x6b9)][_0x36a707(0x387)]+_0x36a707(0x5c1)),null;let _0x559bc0=+_0x4bf57c['awaitSeconds'];isNaN(_0x559bc0)&&(_0x559bc0=0x0),_0x559bc0=Math[_0x36a707(0x369)](_0x559bc0,0x3c),await(0x0,f[_0x36a707(0x297)])(_0x559bc0*0x3e8);let _0x155dc1={'moreLogs':['Pausado\x20por\x20'+_0x559bc0+_0x36a707(0x77d)]};return await this['updateConversation'](_0x3dc0e4,_0x4bf57c,_0x155dc1),_0x559bc0;}async[a0_0x349dbc(0x553)](_0x4c5f20,_0x47fec9){const _0x238fb8=a0_0x349dbc;if(this['logger'][_0x238fb8(0x3b4)](this[_0x238fb8(0x643)]+'\x20('+this['instance']['wuid']+_0x238fb8(0x337)),!_0x4c5f20||!_0x47fec9)return this['logger'][_0x238fb8(0x552)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x201181=[];if(_0x47fec9[_0x238fb8(0x6ba)][_0x238fb8(0x349)]()===_0x238fb8(0x63c)){let _0x4a8ba2=['_pushName',_0x238fb8(0x722),_0x238fb8(0x671),_0x238fb8(0x371),_0x238fb8(0x588),_0x238fb8(0x1dc)];_0x201181=Object['keys'](_0x4c5f20[_0x238fb8(0x5ec)]['realVariables'])['filter'](_0x4379f9=>_0x4379f9['startsWith']('_')&&!_0x4a8ba2[_0x238fb8(0x12d)](_0x4379f9));}else _0x201181=_0x47fec9[_0x238fb8(0x6ba)][_0x238fb8(0x13d)]('|')[_0x238fb8(0x568)](_0x3168f6=>(_0x3168f6=_0x3168f6[_0x238fb8(0x1b7)](/[{}]/g,'')[_0x238fb8(0x349)](),_0x3168f6['startsWith']('_')?_0x3168f6:'_'+_0x3168f6));let _0xed371=[];_0x201181[_0x238fb8(0x79a)](_0x3a5ca5=>{const _0x515e58=_0x238fb8;_0x3a5ca5 in _0x4c5f20[_0x515e58(0x5ec)][_0x515e58(0x129)]&&(delete _0x4c5f20[_0x515e58(0x5ec)][_0x515e58(0x129)][_0x3a5ca5],_0xed371['push'](_0x3a5ca5));}),_0xed371[_0x238fb8(0x2e0)]>0x0?this[_0x238fb8(0x433)]['verbose'](this[_0x238fb8(0x643)]+'\x20('+this[_0x238fb8(0x6b9)][_0x238fb8(0x387)]+_0x238fb8(0x158)+_0xed371[_0x238fb8(0x71a)](',\x20')):this['logger'][_0x238fb8(0x3b4)](this[_0x238fb8(0x643)]+'\x20('+this['instance'][_0x238fb8(0x387)]+_0x238fb8(0x376));let _0x5e1bce={'moreLogs':[_0x238fb8(0x3b8)+_0xed371[_0x238fb8(0x71a)](',\x20')]};return await this[_0x238fb8(0x494)](_0x4c5f20,_0x47fec9,_0x5e1bce),null;}async[a0_0x349dbc(0x562)](_0x3f099f,_0x335a32){const _0xe2dd94=a0_0x349dbc;if(this['logger'][_0xe2dd94(0x3b4)](this[_0xe2dd94(0x643)]+'\x20('+this['instance'][_0xe2dd94(0x387)]+_0xe2dd94(0x60c)),!_0x3f099f||!_0x335a32)return this['logger'][_0xe2dd94(0x552)](this[_0xe2dd94(0x643)]+'\x20('+this[_0xe2dd94(0x6b9)][_0xe2dd94(0x387)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x3f099f,_0x335a32,{},!0x0,!0x0);let _0x109972=_0x335a32[_0xe2dd94(0x2bd)];_0x3f099f=await this[_0xe2dd94(0x726)](_0x109972,_0x3f099f[_0xe2dd94(0x185)],_0x3f099f[_0xe2dd94(0x5ec)][_0xe2dd94(0x129)]),this['logger'][_0xe2dd94(0x3b4)](this[_0xe2dd94(0x643)]+'\x20('+this[_0xe2dd94(0x6b9)][_0xe2dd94(0x387)]+_0xe2dd94(0x4ca));let _0x5de5cb=await this[_0xe2dd94(0x558)](_0x3f099f);_0x5de5cb&&await this[_0xe2dd94(0x362)](_0x3f099f,_0x5de5cb);}async[a0_0x349dbc(0x726)](_0x37dde8,_0x937023,_0x52c5dd){const _0x4f6840=a0_0x349dbc;this[_0x4f6840(0x433)][_0x4f6840(0x3b4)](this[_0x4f6840(0x643)]+'\x20('+this[_0x4f6840(0x6b9)][_0x4f6840(0x387)]+_0x4f6840(0x515));try{if(_0x37dde8=await this[_0x4f6840(0x2ea)][_0x4f6840(0x59a)][_0x4f6840(0x1a0)]({'where':{'name':_0x37dde8}},this[_0x4f6840(0x6b9)][_0x4f6840(0x387)]),!_0x37dde8)return this[_0x4f6840(0x433)][_0x4f6840(0x552)](this['instanceName']+'\x20('+this[_0x4f6840(0x6b9)]['wuid']+'):\x20Flow\x20não\x20encontrado'),null;let _0x755a0b=require(_0x4f6840(0x4db))[_0x4f6840(0x4b2)],_0x105782=Date[_0x4f6840(0x6db)](),_0x513b30=_0x4f6840(0xdc),_0x523bc7={},_0x1fbf32={},_0x2db38a={..._0x37dde8,'chatLog':null},_0x1bcff6={'lastReceivedMessage':_0x523bc7,'lastSendMessage':_0x1fbf32,'lastBlockId':_0x513b30,'lastCondition':!0x0,'realVariables':_0x52c5dd};_0x2db38a[_0x4f6840(0x5ec)]=_0x1bcff6,_0x2db38a[_0x4f6840(0x5ec)][_0x4f6840(0x129)]={..._0x52c5dd},delete _0x2db38a['_id'],_0x2db38a[_0x4f6840(0x588)]=new _0x755a0b(),_0x2db38a[_0x4f6840(0x76e)]=_0x105782,_0x2db38a[_0x4f6840(0x130)]=_0x4f6840(0x4b3),_0x2db38a[_0x4f6840(0x185)]=_0x937023;let _0x7537fd=await this['repository']['flowConversation'][_0x4f6840(0x36b)](_0x2db38a[_0x4f6840(0x588)],_0x2db38a,this[_0x4f6840(0x6b9)][_0x4f6840(0x387)]);return this[_0x4f6840(0x433)][_0x4f6840(0x3b4)](this[_0x4f6840(0x643)]+'\x20('+this[_0x4f6840(0x6b9)]['wuid']+_0x4f6840(0x198)),_0x7537fd?_0x2db38a:null;}catch(_0x3c783d){let _0x577eb6='Erro\x20ao\x20copiar\x20o\x20documento',_0x46439a=_0x3c783d instanceof Error?_0x3c783d[_0x4f6840(0x180)]:typeof _0x3c783d==_0x4f6840(0x57f)?JSON[_0x4f6840(0x750)](_0x3c783d):_0x3c783d,_0x174978=_0x577eb6+':\x20'+_0x46439a;throw this[_0x4f6840(0x433)][_0x4f6840(0x552)](this[_0x4f6840(0x643)]+'\x20('+this['instance'][_0x4f6840(0x387)]+'):\x20'+_0x174978),new m(_0x174978);}}async['processApiRequest'](_0x38e1d9,_0x36e957){const _0x51fa40=a0_0x349dbc;let _0x5c5d5c,_0x367691;try{let _0x324094=_0x36e957[_0x51fa40(0x29a)];if(!_0x324094||!_0x324094[_0x51fa40(0x2f2)]||!_0x324094['method'])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x1c5d86;([_0x51fa40(0x3fc),_0x51fa40(0x5db),_0x51fa40(0x6bc)][_0x51fa40(0x76a)](_0x3173b8=>_0x324094['url'][_0x51fa40(0x12d)](_0x3173b8))||_0x324094[_0x51fa40(0x37e)])&&(_0x1c5d86='arraybuffer');let _0x326c4f='\u205f',_0x2ea958;try{_0x2ea958=JSON['parse'](_0x324094[_0x51fa40(0x17a)][_0x51fa40(0x1b7)](new RegExp(_0x326c4f,'g'),''));}catch(_0x26a1b7){throw _0x26a1b7;}let _0x3fb38c={'method':_0x324094[_0x51fa40(0x678)],'url':_0x324094[_0x51fa40(0x2f2)],'headers':_0x324094[_0x51fa40(0xbe)]||{},..._0x324094['method'][_0x51fa40(0x4fb)]()!==_0x51fa40(0x6dd)&&_0x324094[_0x51fa40(0x17a)]?{'data':JSON[_0x51fa40(0xcc)](_0x324094[_0x51fa40(0x17a)]['replace'](new RegExp(_0x326c4f,'g'),''))}:{},..._0x1c5d86&&{'responseType':_0x1c5d86}},_0x5e17a7=await(0x0,K[_0x51fa40(0x231)])(_0x3fb38c),_0x15d80f=_0x5e17a7['headers'][_0x51fa40(0x1d0)];if(_0x15d80f&&_0x15d80f['includes']('application/json')||typeof _0x5e17a7[_0x51fa40(0x6fb)]==_0x51fa40(0x28d)){if(typeof _0x5e17a7['data']==_0x51fa40(0x28d)){let _0x1ab88d=_0x5e17a7[_0x51fa40(0x6fb)][_0x51fa40(0x1b7)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x51fa40(0x349)]();try{_0x5c5d5c=JSON[_0x51fa40(0xcc)](_0x1ab88d);}catch(_0x532572){console[_0x51fa40(0x552)](_0x51fa40(0x37d)+_0x532572[_0x51fa40(0x180)]),_0x5c5d5c={'_apiResponse':_0x5e17a7[_0x51fa40(0x6fb)]};}}else _0x5c5d5c=_0x5e17a7['data'];let _0x2304e3=_0x38e1d9[_0x51fa40(0x5ec)][_0x51fa40(0x129)],_0x5a6beb=this[_0x51fa40(0x58f)](_0x5c5d5c);return Object[_0x51fa40(0x53c)](_0x2304e3,_0x5a6beb),_0x38e1d9['chatLog'][_0x51fa40(0x129)]=_0x2304e3,_0x367691={'error':!0x1,'apiResponse':_0x5c5d5c},this[_0x51fa40(0x494)](_0x38e1d9,_0x36e957,_0x367691),_0x5c5d5c;}if(_0x15d80f&&(_0x15d80f[_0x51fa40(0x12d)](_0x51fa40(0x2db))||_0x15d80f['includes'](_0x51fa40(0x270))||_0x15d80f['includes'](_0x51fa40(0x6b2))||_0x15d80f[_0x51fa40(0x12d)](_0x51fa40(0x21a)))){this['logger'][_0x51fa40(0x3b4)](this[_0x51fa40(0x643)]+'\x20('+this[_0x51fa40(0x6b9)]['wuid']+_0x51fa40(0x320)+_0x15d80f);let _0x59ae8d=(0x0,jt['v4'])(),_0x132158='',_0x1326ef={'image/jpeg':_0x51fa40(0x27e),'image/png':'.png','image/gif':_0x51fa40(0x4b7),'image/webp':_0x51fa40(0x13b),'image/svg+xml':_0x51fa40(0x43f),'audio/mpeg':'.mp3','audio/ogg':_0x51fa40(0x3d5),'audio/wav':_0x51fa40(0x258),'video/mp4':'.mp4','video/webm':_0x51fa40(0x6cf),'video/ogg':_0x51fa40(0x545),'text/plain':'.txt','application/pdf':_0x51fa40(0x53b),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x51fa40(0x2e5),'application/vnd.ms-excel':_0x51fa40(0x339),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x51fa40(0x35e),'application/vnd.ms-powerpoint':_0x51fa40(0x3d4),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x51fa40(0x48c)};_0x1326ef[_0x15d80f]?(_0x132158=_0x1326ef[_0x15d80f],this[_0x51fa40(0x433)][_0x51fa40(0x3b4)](this['instanceName']+'\x20('+this[_0x51fa40(0x6b9)][_0x51fa40(0x387)]+_0x51fa40(0xe0)+_0x132158)):(_0x132158='.error',this[_0x51fa40(0x433)][_0x51fa40(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x51fa40(0x387)]+_0x51fa40(0xc8)+_0x132158)),_0x59ae8d+=_0x132158,this[_0x51fa40(0x433)]['verbose'](this[_0x51fa40(0x643)]+'\x20('+this['instance']['wuid']+_0x51fa40(0x36d)+_0x59ae8d);let _0x25c043=this[_0x51fa40(0x593)][_0x51fa40(0x2cd)](_0x51fa40(0xf7))['URL'];if(!_0x25c043){let _0x2eaa0b=this[_0x51fa40(0x593)]['get']('SSL_CONF');_0x25c043=_0x51fa40(0x3ca)+(_0x2eaa0b&&_0x2eaa0b[_0x51fa40(0x5e9)][_0x51fa40(0x13d)]('/')[0x4]);}let _0x4730f5=Buffer[_0x51fa40(0x6eb)](_0x5e17a7['data']);await this[_0x51fa40(0x679)](_0x4730f5,_0x59ae8d);let _0x18ea6c='/media/'+_0x59ae8d;_0x18ea6c=''+_0x25c043+_0x18ea6c,_0x5c5d5c={'fileUrl':_0x18ea6c},_0x38e1d9[_0x51fa40(0x5ec)][_0x51fa40(0x129)]['fileUrl']=_0x18ea6c;let _0x1d4bb3=_0x38e1d9['chatLog'][_0x51fa40(0x129)],_0x1f21b3=this[_0x51fa40(0x58f)](_0x5c5d5c);return Object[_0x51fa40(0x53c)](_0x1d4bb3,_0x1f21b3),_0x38e1d9[_0x51fa40(0x5ec)][_0x51fa40(0x129)]=_0x1d4bb3,_0x367691={'error':!0x1,'apiResponse':{'fileUrl':_0x18ea6c}},this[_0x51fa40(0x494)](_0x38e1d9,_0x36e957,_0x367691),_0x5c5d5c;}}catch(_0x19b5be){console[_0x51fa40(0x552)](_0x51fa40(0x43e),_0x19b5be['message']),_0x19b5be['response']&&(_0x5c5d5c=_0x19b5be[_0x51fa40(0x347)][_0x51fa40(0x6fb)]);let _0x32a992=_0x38e1d9[_0x51fa40(0x5ec)]['realVariables'],_0x549342=this[_0x51fa40(0x58f)](_0x5c5d5c);return Object[_0x51fa40(0x53c)](_0x32a992,_0x549342),_0x38e1d9[_0x51fa40(0x5ec)]['realVariables']=_0x32a992,_0x367691={'error':!0x0,'errorLog':_0x19b5be[_0x51fa40(0x343)](),'apiResponse':_0x5c5d5c},this[_0x51fa40(0x494)](_0x38e1d9,_0x36e957,_0x367691),{'success':!0x1};}}[a0_0x349dbc(0x76c)](_0x404fe7,_0x4d3394){const _0x1f00a1=a0_0x349dbc;let _0x5d0040=_0x69468b=>{const _0x199f96=a0_0x5444;let _0xe806a1=_0x69468b[_0x199f96(0x1b7)](/[^0-9.,-]/g,'')[_0x199f96(0x1b7)](',','.'),_0x1bb6cb=parseFloat(_0xe806a1);return isNaN(_0x1bb6cb)?null:_0x1bb6cb;},_0x3e2628=_0x4d3394[_0x1f00a1(0xe1)],_0x59c067=_0x4d3394['secondValue'];typeof _0x3e2628==_0x1f00a1(0x28d)&&(_0x3e2628=this[_0x1f00a1(0x52e)](_0x3e2628,_0x404fe7[_0x1f00a1(0x5ec)]['realVariables'])??''),typeof _0x59c067==_0x1f00a1(0x28d)&&(_0x59c067=this[_0x1f00a1(0x52e)](_0x59c067,_0x404fe7[_0x1f00a1(0x5ec)]['realVariables'])??'');let _0x3ae00f=null;if(!_0x4d3394['editOperator'])return null;switch(this[_0x1f00a1(0x433)][_0x1f00a1(0x3b4)](this[_0x1f00a1(0x643)]+'\x20('+this[_0x1f00a1(0x6b9)][_0x1f00a1(0x387)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x3e2628),this['logger'][_0x1f00a1(0x3b4)](this[_0x1f00a1(0x643)]+'\x20('+this['instance']['wuid']+_0x1f00a1(0x604)+_0x59c067),_0x4d3394[_0x1f00a1(0x28b)]){case'+':case'-':case'*':case'/':let _0x333439=_0x5d0040(_0x3e2628||'0'),_0x4f89aa=_0x5d0040(_0x59c067||'0');if(_0x333439===null)return null;switch(_0x4d3394[_0x1f00a1(0x28b)]){case'+':_0x3ae00f=_0x333439+(_0x4f89aa??0x0);break;case'-':_0x3ae00f=_0x333439-(_0x4f89aa??0x0);break;case'*':_0x3ae00f=_0x333439*(_0x4f89aa??0x1);break;case'/':_0x4f89aa!==0x0&&(_0x3ae00f=_0x333439/(_0x4f89aa??0x1));break;}break;case _0x1f00a1(0x14a):case _0x1f00a1(0x6ce):let _0x1d05d4=_0x59c067,_0x3e2ca1=_0x4d3394[_0x1f00a1(0x41e)];if(typeof _0x3e2ca1==_0x1f00a1(0x28d)&&(_0x3e2ca1=this[_0x1f00a1(0x52e)](_0x3e2ca1,_0x404fe7['chatLog'][_0x1f00a1(0x129)])??''),_0x1d05d4&&_0x3e2ca1!==void 0x0){let _0x4ea4c1=_0x4d3394[_0x1f00a1(0x28b)]===_0x1f00a1(0x14a)?new RegExp(_0x1d05d4[_0x1f00a1(0x1b7)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x1d05d4,'g');_0x3ae00f=_0x3e2628[_0x1f00a1(0x1b7)](_0x4ea4c1,_0x3e2ca1);}else console[_0x1f00a1(0x6ad)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x1f00a1(0x7a6):_0x3ae00f=_0x59c067;break;case _0x1f00a1(0x34c):let _0x3d09fd=_0x3e2628[_0x1f00a1(0x565)](new RegExp(_0x59c067||''));_0x3ae00f=_0x3d09fd?_0x3d09fd[0x0]:'';break;case _0x1f00a1(0x445):_0x3ae00f=_0x3e2628[_0x1f00a1(0x5f3)](0x0,parseInt(_0x59c067||'0'));break;case _0x1f00a1(0x792):let _0x57b179=parseInt(_0x59c067||'0');_0x3ae00f=_0x3e2628['slice'](_0x3e2628[_0x1f00a1(0x2e0)]-_0x57b179);break;case'toBrazilianNumberFormat':let _0x417a82=_0x5d0040(_0x3e2628),_0x5c34d4=parseInt(_0x59c067||'0');_0x5c34d4=Math[_0x1f00a1(0x660)](_0x5c34d4),_0x417a82!==null?_0x3ae00f=_0x417a82[_0x1f00a1(0x52c)]('pt-BR',{'minimumFractionDigits':_0x5c34d4,'maximumFractionDigits':_0x5c34d4}):(console[_0x1f00a1(0x6ad)](_0x1f00a1(0x53f)+_0x3e2628),_0x3ae00f=null);break;case _0x1f00a1(0x623):let _0x51a1f4=_0x5d0040(_0x3e2628);_0x51a1f4!==null?_0x3ae00f=_0x51a1f4[_0x1f00a1(0x52c)](_0x1f00a1(0x6d0),{'style':_0x1f00a1(0x65f),'currency':'BRL'}):(console[_0x1f00a1(0x6ad)](_0x1f00a1(0x44b)+_0x3e2628),_0x3ae00f=null);break;case _0x1f00a1(0x49f):_0x3ae00f=_0x3e2628['toUpperCase']();break;case _0x1f00a1(0xd6):_0x3ae00f=_0x3e2628[_0x1f00a1(0x360)]();break;case _0x1f00a1(0x15e):_0x3ae00f=_0x3e2628[_0x1f00a1(0x13d)]('\x20')[_0x1f00a1(0x568)](_0x2b6320=>_0x2b6320['charAt'](0x0)[_0x1f00a1(0x4fb)]()+_0x2b6320[_0x1f00a1(0x5f3)](0x1)['toLowerCase']())['join']('\x20');break;case'trimmed':_0x3ae00f=_0x3e2628[_0x1f00a1(0x349)]();break;default:_0x3ae00f=_0x3e2628;}return _0x3ae00f!==null?_0x3ae00f[_0x1f00a1(0x343)]():null;}async[a0_0x349dbc(0x359)](_0x2b6971,_0x4d2b18){const _0xc126e3=a0_0x349dbc;try{let _0x48157c=_0x2b6971[_0xc126e3(0x5a4)]?.['filter'](_0x536191=>_0x536191[_0xc126e3(0x2ee)]===_0x4d2b18['_id']?.[_0xc126e3(0x343)]())||[],_0x26629d=_0x4d2b18['saveVariable'],_0x5da8c9=null,_0x1c3e03=[],_0x49b128=_0x2b6971['chatLog'][_0xc126e3(0x129)][_0x26629d];_0x1c3e03[_0xc126e3(0x3fd)](_0xc126e3(0x21e)+_0x49b128+'\x22');for(let _0x2c9d11 of _0x48157c){_0x2c9d11[_0xc126e3(0xe1)]=_0x49b128,_0x5da8c9=_0x2c9d11[_0xc126e3(0xe1)];let _0x3861fc;try{_0x3861fc=this['applyvaredit'](_0x2b6971,_0x2c9d11);}catch(_0x24ded3){console[_0xc126e3(0x552)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x24ded3[_0xc126e3(0x180)]);continue;}if(_0x3861fc!==null){let _0x4b0a9c=_0xc126e3(0xe7)+_0x2c9d11['editOperator']+'\x22',_0x5cac87=[_0xc126e3(0x623),_0xc126e3(0x49f),_0xc126e3(0xd6),_0xc126e3(0x15e),_0xc126e3(0xe3)];_0x2c9d11[_0xc126e3(0x28b)]===_0xc126e3(0x14a)||_0x2c9d11['editOperator']===_0xc126e3(0x6ce)?_0x4b0a9c+=_0xc126e3(0x28f)+_0x2c9d11[_0xc126e3(0x1bd)]+_0xc126e3(0x100)+_0x2c9d11[_0xc126e3(0x41e)]+'\x22':!_0x5cac87[_0xc126e3(0x12d)](_0x2c9d11['editOperator'])&&_0x2c9d11[_0xc126e3(0x1bd)]!==null&&_0x2c9d11[_0xc126e3(0x1bd)]!==void 0x0&&(_0x4b0a9c+=_0xc126e3(0x2d6)+_0x2c9d11[_0xc126e3(0x1bd)]+'\x22'),_0x4b0a9c+=_0xc126e3(0x41a)+_0x3861fc+'.',_0x1c3e03[_0xc126e3(0x3fd)](_0x4b0a9c);}_0x3861fc!==null&&(_0x49b128=_0x3861fc);}if(_0x2b6971['chatLog'][_0xc126e3(0x129)]&&_0x4d2b18[_0xc126e3(0x18e)]){_0x2b6971[_0xc126e3(0x5ec)][_0xc126e3(0x129)][_0x4d2b18[_0xc126e3(0x18e)]]=_0x49b128;let _0x5060e5={'variable':_0x4d2b18['saveVariable'],'oldValue':_0x5da8c9,'newValue':_0x49b128,'moreLogs':_0x1c3e03};try{this[_0xc126e3(0x494)](_0x2b6971,_0x4d2b18,_0x5060e5);}catch(_0x64ffdb){console[_0xc126e3(0x552)](_0xc126e3(0x280)+_0x64ffdb[_0xc126e3(0x180)]);}}return _0x26629d;}catch(_0x2485f4){return console[_0xc126e3(0x552)](_0xc126e3(0x11e)+_0x2485f4[_0xc126e3(0x180)]),null;}}async[a0_0x349dbc(0x62a)](_0x49608c,_0x59e317){const _0x4f763c=a0_0x349dbc;try{let _0x3c5a41=[],_0x564433=_0x49608c[_0x4f763c(0x33d)][_0x4f763c(0x186)](_0x58f2ba=>_0x58f2ba[_0x4f763c(0x2ee)]===_0x59e317[_0x4f763c(0x588)][_0x4f763c(0x343)]()),_0xc0416a=null,_0x3646ba=!0x1;for(let _0x2c480b of _0x564433){let _0x35e86d=this[_0x4f763c(0x547)](_0x49608c,_0x2c480b);_0x3c5a41[_0x4f763c(0x3fd)]('Primeiro\x20Valor:\x20'+_0x2c480b['firstValue']+_0x4f763c(0x240)+_0x2c480b[_0x4f763c(0x2d4)]+',\x20Segundo\x20Valor:\x20'+_0x2c480b['secondValue']+_0x4f763c(0x3a5)+_0x35e86d),_0xc0416a===null?_0xc0416a=_0x35e86d:_0x2c480b[_0x4f763c(0x6c0)]===_0x4f763c(0x5b9)?(_0xc0416a=_0xc0416a&&_0x35e86d,_0x35e86d||(_0x3646ba=!0x0)):_0x2c480b['OrAnd']==='or'&&(_0x3646ba||(_0xc0416a=_0xc0416a||_0x35e86d));}_0xc0416a===null&&(_0xc0416a=!0x0);let _0x54fa33={'moreLogs':_0x3c5a41};_0x49608c[_0x4f763c(0x5ec)][_0x4f763c(0x743)]=_0xc0416a,await this[_0x4f763c(0x494)](_0x49608c,_0x59e317,_0x54fa33);}catch(_0x1739b8){this[_0x4f763c(0x433)][_0x4f763c(0x552)](this[_0x4f763c(0x643)]+'\x20('+this[_0x4f763c(0x6b9)][_0x4f763c(0x387)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x1739b8 instanceof Error?_0x1739b8[_0x4f763c(0x180)]:JSON['stringify'](_0x1739b8,null,0x2)));}}['evaluateCondition'](_0x2ec2d1,_0x43fcd0){const _0x5a4733=a0_0x349dbc;let _0x3bfb83=_0x43fcd0[_0x5a4733(0xe1)],_0x3ee495=_0x43fcd0[_0x5a4733(0x1bd)];typeof _0x3bfb83==_0x5a4733(0x28d)&&(_0x3bfb83=this['replaceVariables'](_0x3bfb83,_0x2ec2d1[_0x5a4733(0x5ec)]['realVariables'])??''),typeof _0x3ee495==_0x5a4733(0x28d)&&(_0x3ee495=this[_0x5a4733(0x52e)](_0x3ee495,_0x2ec2d1[_0x5a4733(0x5ec)]['realVariables'])??'');try{switch(_0x43fcd0[_0x5a4733(0x2d4)]){case'equal':return _0x3bfb83===_0x3ee495;case _0x5a4733(0x123):return _0x3bfb83!==_0x3ee495;case _0x5a4733(0x3e1):return this['contains'](_0x3bfb83,_0x3ee495);case _0x5a4733(0x74c):return!this[_0x5a4733(0x3e1)](_0x3bfb83,_0x3ee495);case _0x5a4733(0x409):return parseFloat(_0x3bfb83)>parseFloat(_0x3ee495);case _0x5a4733(0x524):return parseFloat(_0x3bfb83)<parseFloat(_0x3ee495);case _0x5a4733(0x60f):return _0x3bfb83!=='';case _0x5a4733(0x20a):return _0x3bfb83==='';case _0x5a4733(0x67b):return new RegExp(_0x3ee495)['test'](_0x3bfb83);case _0x5a4733(0x72a):return!new RegExp(_0x3ee495)['test'](_0x3bfb83);default:return!0x1;}}catch(_0x30e5ea){return console['error'](_0x5a4733(0x1aa)+_0x30e5ea),!0x1;}}[a0_0x349dbc(0x3e1)](_0x4ddb18,_0xf8abd4){const _0x3b6d7a=a0_0x349dbc;if(_0x4ddb18===_0xf8abd4&&/^\d+$/[_0x3b6d7a(0x566)](_0x4ddb18))return!0x0;if(this['isListOfNumbers'](_0x4ddb18)&&/^\d+$/[_0x3b6d7a(0x566)](_0xf8abd4)){let _0x29d3b5=_0x4ddb18['split'](',')['map'](_0x491455=>parseInt(_0x491455[_0x3b6d7a(0x349)]())),_0x319ee7=parseInt(_0xf8abd4);return _0x29d3b5[_0x3b6d7a(0x12d)](_0x319ee7);}return _0x4ddb18[_0x3b6d7a(0x12d)](_0xf8abd4);}[a0_0x349dbc(0x28e)](_0x1af8b6){const _0x2bc3da=a0_0x349dbc;return/^\d+(,\d+)*$/[_0x2bc3da(0x566)](_0x1af8b6);}[a0_0x349dbc(0x1c8)](_0x1c2e96){const _0x3ad42f=a0_0x349dbc;let _0xda0683=!0x0,_0xf703e6=null;for(let _0xeae39a of _0x1c2e96){let _0x4a54e1=this[_0x3ad42f(0x38a)](_0xeae39a);if(_0xf703e6==='or'&&_0x4a54e1){_0xda0683=!0x0;break;}if(_0xf703e6===_0x3ad42f(0x5b9)&&!_0x4a54e1){_0xda0683=!0x1;break;}_0xf703e6=_0xeae39a[_0x3ad42f(0x6c0)];}return _0xda0683;}['evaluateConditionTest'](_0x396f8c){const _0x2e3eb1=a0_0x349dbc;let _0x4a1f77=_0x396f8c[_0x2e3eb1(0xe1)],_0x490985=_0x396f8c[_0x2e3eb1(0x1bd)];try{switch(_0x396f8c['expression']){case _0x2e3eb1(0x287):return String(_0x4a1f77)===String(_0x490985);case _0x2e3eb1(0x123):return String(_0x4a1f77)!==String(_0x490985);case _0x2e3eb1(0x3e1):return String(_0x4a1f77)['includes'](String(_0x490985));case'notContains':return!String(_0x4a1f77)[_0x2e3eb1(0x12d)](String(_0x490985));case _0x2e3eb1(0x409):return parseFloat(String(_0x4a1f77))>parseFloat(String(_0x490985));case'less':return parseFloat(String(_0x4a1f77))<parseFloat(String(_0x490985));case'notEmpty':return String(_0x4a1f77)!=='';case _0x2e3eb1(0x20a):return String(_0x4a1f77)==='';case'matchRegex':return new RegExp(String(_0x490985))[_0x2e3eb1(0x566)](String(_0x4a1f77));case _0x2e3eb1(0x72a):return!new RegExp(String(_0x490985))[_0x2e3eb1(0x566)](String(_0x4a1f77));default:return!0x1;}}catch(_0x143604){return console[_0x2e3eb1(0x552)](_0x2e3eb1(0x1aa)+_0x143604),!0x1;}}async[a0_0x349dbc(0x6a5)](_0x4678ae,_0x295b8a){const _0x1483f8=a0_0x349dbc;if(this['logger']['verbose'](this[_0x1483f8(0x643)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x4678ae||!_0x295b8a)return this[_0x1483f8(0x433)][_0x1483f8(0x552)](this['instanceName']+'\x20('+this['instance'][_0x1483f8(0x387)]+_0x1483f8(0x5c1)),null;let _0x4c1695=_0x4678ae['chatLog'][_0x1483f8(0x475)]['key']['id'];this[_0x1483f8(0x433)]['verbose'](this['instanceName']+'\x20('+this[_0x1483f8(0x6b9)]['wuid']+_0x1483f8(0x310)+_0x4c1695);let _0x554c4b={'key':{'id':_0x4c1695}},_0x559a8b=_0x295b8a[_0x1483f8(0x18e)];_0x4678ae[_0x1483f8(0x5ec)]['realVariables']['_'+_0x559a8b+'.fileUrl']=null,_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x129)]['_'+_0x559a8b+_0x1483f8(0x32f)]=null,_0x4678ae['chatLog'][_0x1483f8(0x129)]['_'+_0x559a8b+'.extension']=null,_0x4678ae[_0x1483f8(0x5ec)]['realVariables']['_'+_0x559a8b+_0x1483f8(0xf0)]=_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x475)][_0x1483f8(0x3cc)];try{let _0xeb24db=await this[_0x1483f8(0x38d)](_0x554c4b);this[_0x1483f8(0x433)]['verbose'](this[_0x1483f8(0x643)]+'\x20('+this[_0x1483f8(0x6b9)][_0x1483f8(0x387)]+_0x1483f8(0x4cf)),_0x4678ae[_0x1483f8(0x5ec)]['realVariables']['_'+_0x559a8b+'.url']=_0xeb24db[_0x1483f8(0x36c)],_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x129)]['_'+_0x559a8b+_0x1483f8(0x32f)]=_0xeb24db[_0x1483f8(0x482)];let _0x31b220=_0xeb24db[_0x1483f8(0x482)]['match'](/\/(\w+)$/),_0x43017f=_0x31b220?_0x31b220[0x1]:null;_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x129)]['_'+_0x559a8b+'.extension']=_0x43017f,this[_0x1483f8(0x433)][_0x1483f8(0x3b4)](this[_0x1483f8(0x643)]+'\x20('+this[_0x1483f8(0x6b9)][_0x1483f8(0x387)]+_0x1483f8(0x57e)+_0x559a8b+'\x27.');}catch(_0x51ab02){this['logger'][_0x1483f8(0x552)](this[_0x1483f8(0x643)]+'\x20('+this[_0x1483f8(0x6b9)][_0x1483f8(0x387)]+_0x1483f8(0x26f)+_0x51ab02);}let _0x234d70=_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x475)][_0x1483f8(0x2e7)]||_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x475)][_0x1483f8(0x3db)]||_0x4678ae['chatLog'][_0x1483f8(0x475)][_0x1483f8(0xc1)];try{_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x129)]||(_0x4678ae['chatLog'][_0x1483f8(0x129)]={});let _0x5ebc2f=_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x129)][_0x559a8b];_0x4678ae[_0x1483f8(0x5ec)][_0x1483f8(0x129)][_0x559a8b]=_0x234d70;let _0x1e5e85={'variable':_0x559a8b,'oldValue':_0x5ebc2f,'newValue':_0x234d70};this[_0x1483f8(0x494)](_0x4678ae,_0x295b8a,_0x1e5e85),this[_0x1483f8(0x433)][_0x1483f8(0x3b4)](this[_0x1483f8(0x643)]+'\x20('+this[_0x1483f8(0x6b9)][_0x1483f8(0x387)]+_0x1483f8(0x3e2));}catch(_0x14fab8){let _0x3e0aaa={'error':!0x0,'errorLog':_0x14fab8[_0x1483f8(0x343)]()};return this[_0x1483f8(0x494)](_0x4678ae,_0x295b8a,_0x3e0aaa),this[_0x1483f8(0x433)][_0x1483f8(0x552)](this[_0x1483f8(0x643)]+'\x20('+this['instance'][_0x1483f8(0x387)]+_0x1483f8(0x182)+(_0x14fab8 instanceof Error?_0x14fab8[_0x1483f8(0x180)]:JSON[_0x1483f8(0x750)](_0x14fab8,null,0x2))),null;}}async[a0_0x349dbc(0x2ec)](_0x3d5689,_0x3db864){const _0x4db054=a0_0x349dbc;if(this[_0x4db054(0x433)][_0x4db054(0x3b4)](this['instanceName']+'\x20('+this[_0x4db054(0x6b9)][_0x4db054(0x387)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x3d5689||!_0x3db864)return this[_0x4db054(0x433)][_0x4db054(0x552)](this[_0x4db054(0x643)]+'\x20('+this[_0x4db054(0x6b9)][_0x4db054(0x387)]+_0x4db054(0x5c1)),null;let _0xfa9bff=Date[_0x4db054(0x6db)](),_0x427a26=parseInt(_0x3db864[_0x4db054(0x381)],0xa);if(isNaN(_0x427a26))return this[_0x4db054(0x433)][_0x4db054(0x552)](this[_0x4db054(0x643)]+'\x20('+this[_0x4db054(0x6b9)]['wuid']+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0xcbaf6={'newStoppedUntil':_0xfa9bff+_0x427a26*0x3c*0x3e8};return await this[_0x4db054(0x494)](_0x3d5689,_0x3db864,_0xcbaf6,!0x0),null;}async[a0_0x349dbc(0x23d)](_0x2445b6,_0x5c3997){const _0x186207=a0_0x349dbc;try{switch(_0x5c3997['uazapi']['command']){case'sendText':await this[_0x186207(0x416)](_0x2445b6,_0x5c3997);break;case _0x186207(0x5c8):await this[_0x186207(0x34b)](_0x2445b6,_0x5c3997);break;case'sendLocation':await this[_0x186207(0x635)](_0x2445b6,_0x5c3997);break;case _0x186207(0x11d):await this['uazapiSendAudio'](_0x2445b6,_0x5c3997);break;case _0x186207(0x3c5):await this[_0x186207(0x195)](_0x2445b6,_0x5c3997);break;case'sendPoll':await this['uazapiSendMenu'](_0x2445b6,_0x5c3997);break;case _0x186207(0x652):await this[_0x186207(0x29b)](_0x2445b6,_0x5c3997);break;case _0x186207(0x1e4):await this[_0x186207(0x31a)](_0x2445b6,_0x5c3997);break;default:this[_0x186207(0x433)]['error'](this[_0x186207(0x643)]+'\x20('+this[_0x186207(0x6b9)][_0x186207(0x387)]+_0x186207(0x254)+_0x5c3997[_0x186207(0x273)][_0x186207(0x6a9)]);}}catch(_0x803aee){this['logger'][_0x186207(0x552)](this[_0x186207(0x643)]+'\x20('+this[_0x186207(0x6b9)]['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x803aee instanceof Error?_0x803aee[_0x186207(0x180)]:JSON[_0x186207(0x750)](_0x803aee,null,0x2)));}}async[a0_0x349dbc(0x494)](_0x343d80,_0x3abbe2,_0x216506,_0xcf26db=!0x1,_0x5da4f0=!0x1){const _0x3f206d=a0_0x349dbc;_0x343d80[_0x3f206d(0x5ec)]['blockLogs']||(_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x730)]=[]);let _0x1a8a7d=(_0x343d80['chatLog'][_0x3f206d(0x730)]?.[_0x3f206d(0x2e0)]??0x0)+0x1,_0xdddadb=_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x730)][_0x3f206d(0x186)](_0x508e93=>String(_0x508e93[_0x3f206d(0x2ee)])===String(_0x3abbe2[_0x3f206d(0x588)]))[_0x3f206d(0x2e0)]+0x1,_0x345699=_0x216506?.[_0x3f206d(0x4cc)]??Date[_0x3f206d(0x6db)](),_0x4c5310=_0x216506?.[_0x3f206d(0x552)]?_0x216506[_0x3f206d(0xc6)]??_0x216506[_0x3f206d(0x552)][_0x3f206d(0x343)]():void 0x0,_0x142cb7={'onTime':_0x345699,'blockId':_0x3abbe2[_0x3f206d(0x588)],'order':_0x1a8a7d,'activatedCount':_0xdddadb,'error':_0x216506?.['error']??!0x1,'messageId':_0x216506?.[_0x3f206d(0x3cd)],'apiResponse':_0x216506?.[_0x3f206d(0x3e3)],'apiResponseString':_0x216506?.['apiResponse']?JSON['stringify'](_0x216506?.['apiResponse']):void 0x0,'variable':_0x216506?.[_0x3f206d(0x325)],'oldValue':_0x216506?.[_0x3f206d(0x661)],'newValue':_0x216506?.['newValue'],'newStoppedUntil':_0x216506?.[_0x3f206d(0x6b3)],'moreLogs':_0x216506?.[_0x3f206d(0x1d3)],'errorLog':_0x4c5310};if(_0x216506['moreLogs']&&_0x216506['moreLogs']['length']>0x0){let _0x3ff32c=_0x216506[_0x3f206d(0x1d3)][_0x3f206d(0x568)](_0x5ad635=>this[_0x3f206d(0x724)](_0x5ad635,_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x129)]));_0x142cb7[_0x3f206d(0x1d3)]=_0x3ff32c;}_0x343d80['chatLog'][_0x3f206d(0x129)]||(_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x129)]={}),_0x343d80['chatLog'][_0x3f206d(0x129)][_0x3f206d(0x255)]=String(_0xdddadb),_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x129)]['_error']=String(_0x216506[_0x3f206d(0x552)]??!0x1),_0x343d80[_0x3f206d(0x5ec)]['blockLogs']['push'](_0x142cb7),_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x226)]=_0x3abbe2[_0x3f206d(0x588)][_0x3f206d(0x343)](),_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x72c)]&&(_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x72c)]=_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x72c)]),_0x343d80['chatLog'][_0x3f206d(0x475)]&&(_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x475)]=_0x343d80['chatLog'][_0x3f206d(0x475)]),_0x343d80[_0x3f206d(0x5ec)]['lastCondition']&&(_0x343d80[_0x3f206d(0x5ec)][_0x3f206d(0x743)]=_0x343d80['chatLog'][_0x3f206d(0x743)]),_0x5da4f0&&(_0x343d80[_0x3f206d(0x130)]=_0x3f206d(0x24b)),_0xcf26db?this[_0x3f206d(0x48e)](_0x343d80):this[_0x3f206d(0xcb)](_0x343d80,_0x3abbe2);}['replaceVariablesLogs'](_0x213add,_0x6b07f8){const _0x3706c1=a0_0x349dbc;return _0x213add[_0x3706c1(0x1b7)](/\{\{([^}]+)\}\}/g,(_0xb4d8aa,_0x275293)=>_0x6b07f8[_0x275293]?'{{'+_0x275293+'}}\x20->\x20\x22'+_0x6b07f8[_0x275293]+'\x22':'{{'+_0x275293+_0x3706c1(0x71b));}async[a0_0x349dbc(0x48e)](_0x42d521){const _0xf10fb9=a0_0x349dbc;try{let _0xef7d4a=Object[_0xf10fb9(0x6a3)](_0x42d521[_0xf10fb9(0x5ec)][_0xf10fb9(0x129)])['map'](([_0xb35b8a,_0x45f848])=>({'name':_0xb35b8a,'value':_0x45f848})),_0x31f2ca={'status':_0x42d521[_0xf10fb9(0x130)],'blocks':_0x42d521[_0xf10fb9(0x6bd)],'waitingMenu_id':_0x42d521[_0xf10fb9(0x208)],'waitingMenu_text':_0x42d521['waitingMenu_text'],'waitingMenu_replyOptions':_0x42d521['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x42d521[_0xf10fb9(0x5ec)][_0xf10fb9(0x226)],'lastSendMessage':_0x42d521['chatLog']['lastSendMessage'],'lastReceivedMessage':_0x42d521[_0xf10fb9(0x5ec)][_0xf10fb9(0x475)],'lastCondition':_0x42d521[_0xf10fb9(0x5ec)][_0xf10fb9(0x743)],'chatVariables':_0xef7d4a,'realVariables':_0x42d521[_0xf10fb9(0x5ec)][_0xf10fb9(0x129)],'blockLogs':_0x42d521[_0xf10fb9(0x5ec)]['blockLogs']}},_0x5380bf=await this['repository'][_0xf10fb9(0x134)][_0xf10fb9(0x36b)](_0x42d521[_0xf10fb9(0x588)],_0x31f2ca,this[_0xf10fb9(0x6b9)][_0xf10fb9(0x387)]);if(_0x5380bf){this[_0xf10fb9(0x433)][_0xf10fb9(0x3b4)](this[_0xf10fb9(0x643)]+'\x20('+this[_0xf10fb9(0x6b9)][_0xf10fb9(0x387)]+_0xf10fb9(0x35a)+_0x5380bf['_id']);try{let _0x9fe63a=[_0xf10fb9(0x531),'nomecompleto','email',_0xf10fb9(0xfe),'status',_0xf10fb9(0x125),'responsavelid',_0xf10fb9(0xc9),_0xf10fb9(0x3c6)];if(!this[_0xf10fb9(0x11b)]&&(await this[_0xf10fb9(0x25a)](),!this[_0xf10fb9(0x11b)]))throw new Error(_0xf10fb9(0x1d1));let _0xf56924=this[_0xf10fb9(0x11b)]?.[_0xf10fb9(0x731)][_0xf10fb9(0x568)](_0x2e7ff8=>_0x2e7ff8[_0xf10fb9(0x246)]),_0x49f782={};Object[_0xf10fb9(0x6a3)](_0x42d521[_0xf10fb9(0x5ec)]['realVariables'])[_0xf10fb9(0x79a)](([_0x4277fc,_0x32d77b])=>{const _0x5bd767=_0xf10fb9;_0x9fe63a[_0x5bd767(0x12d)](_0x4277fc)&&(_0x4277fc===_0x5bd767(0xc9)&&typeof _0x32d77b==_0x5bd767(0x28d)?_0x49f782[_0x4277fc]=_0x32d77b[_0x5bd767(0x13d)](',')[_0x5bd767(0x568)](_0x521a35=>_0x521a35['trim']())[_0x5bd767(0x186)](_0x2d42f3=>_0x2d42f3!==''):_0x4277fc==='etiquetas'&&typeof _0x32d77b==_0x5bd767(0x28d)?_0x49f782[_0x4277fc]=_0x32d77b[_0x5bd767(0x13d)](',')[_0x5bd767(0x568)](_0x311b18=>_0x311b18[_0x5bd767(0x349)]())[_0x5bd767(0x186)](_0x4d2421=>_0x4d2421!==''):_0x49f782[_0x4277fc]=_0x32d77b);});let _0x48dada=_0x42d521['chatLog'][_0xf10fb9(0x730)][_0x42d521[_0xf10fb9(0x5ec)][_0xf10fb9(0x730)][_0xf10fb9(0x2e0)]-0x1];if(_0x48dada){let _0x120058=_0x48dada[_0xf10fb9(0x6b3)];_0x120058!==void 0x0&&(_0x49f782['desativadoFluxoAte']=_0x120058[_0xf10fb9(0x343)]());}let _0x2c623e=_0xef7d4a[_0xf10fb9(0x186)](_0x2ce344=>_0xf56924['includes'](_0x2ce344[_0xf10fb9(0x246)]));this['logger'][_0xf10fb9(0x3b4)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20leadInfoVariables'),this[_0xf10fb9(0x433)][_0xf10fb9(0x3b4)](_0x49f782),this[_0xf10fb9(0x433)][_0xf10fb9(0x3b4)](this[_0xf10fb9(0x643)]+'\x20('+this['instance'][_0xf10fb9(0x387)]+_0xf10fb9(0x232)),this['logger'][_0xf10fb9(0x3b4)](_0x2c623e);let _0x3e33a7=_0x2c623e[_0xf10fb9(0x568)](_0x4c5fc3=>{const _0x4a5db0=_0xf10fb9;let _0x334bf7=this[_0x4a5db0(0x11b)]?.[_0x4a5db0(0x731)][_0x4a5db0(0x3e0)](_0x2ce692=>_0x2ce692[_0x4a5db0(0x246)]===_0x4c5fc3['name']);if(!_0x334bf7)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x4c5fc3[_0x4a5db0(0x246)]);return{'_id':_0x334bf7[_0x4a5db0(0x588)],'value':_0x4c5fc3[_0x4a5db0(0x18d)]};});this[_0xf10fb9(0x433)]['verbose'](this[_0xf10fb9(0x643)]+'\x20('+this[_0xf10fb9(0x6b9)][_0xf10fb9(0x387)]+_0xf10fb9(0x505)),this[_0xf10fb9(0x433)][_0xf10fb9(0x3b4)](_0x3e33a7),await this[_0xf10fb9(0x734)](_0x42d521[_0xf10fb9(0x185)],_0x49f782,_0x3e33a7);}catch(_0x4b5070){this[_0xf10fb9(0x433)][_0xf10fb9(0x552)](this['instanceName']+'\x20('+this[_0xf10fb9(0x6b9)][_0xf10fb9(0x387)]+_0xf10fb9(0x615)+(_0x4b5070 instanceof Error?_0x4b5070['message']:JSON[_0xf10fb9(0x750)](_0x4b5070,null,0x2)));}}else this[_0xf10fb9(0x433)][_0xf10fb9(0x552)](this['instanceName']+'\x20('+this['instance'][_0xf10fb9(0x387)]+_0xf10fb9(0x355));}catch(_0xc1b03a){this[_0xf10fb9(0x433)]['error'](this['instanceName']+'\x20('+this[_0xf10fb9(0x6b9)][_0xf10fb9(0x387)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0xc1b03a instanceof Error?_0xc1b03a[_0xf10fb9(0x180)]:JSON[_0xf10fb9(0x750)](_0xc1b03a,null,0x2)));}}async[a0_0x349dbc(0x734)](_0x2ab0f3,_0x3911d2,_0x260dba){const _0x22d799=a0_0x349dbc;try{let _0x8817e8={'leadInfo.leadnome':_0x3911d2[_0x22d799(0x531)],'leadInfo.nomecompleto':_0x3911d2[_0x22d799(0x2df)],'leadInfo.email':_0x3911d2[_0x22d799(0x697)],'leadInfo.cpf':_0x3911d2[_0x22d799(0xfe)],'leadInfo.status':_0x3911d2[_0x22d799(0x130)],'leadInfo.notas':_0x3911d2[_0x22d799(0x125)],'leadInfo.responsavelid':_0x3911d2[_0x22d799(0x446)],'leadInfo.tags':_0x3911d2[_0x22d799(0xc9)],'leadInfo.etiquetas':_0x3911d2[_0x22d799(0x3c6)],'leadInfo.customFields':_0x260dba},_0x4ea359=await this[_0x22d799(0x2ea)][_0x22d799(0x429)]['findOne']({'where':{'_id':_0x2ab0f3}},this['instance'][_0x22d799(0x387)]),_0x1d17c4=new Set(_0x4ea359[_0x22d799(0x305)]['etiquetas']||[]),_0x129390=new Set(_0x3911d2['etiquetas']||[]),_0x4d2f4f=await this['repository']['label'][_0x22d799(0x3e0)]({'where':{}},this[_0x22d799(0x6b9)]['wuid']),_0xccf714=new Set(_0x4d2f4f[_0x22d799(0x568)](_0x3c75b2=>_0x3c75b2['_id'])),_0x5e4629=[..._0x129390][_0x22d799(0x186)](_0x633e9c=>!_0x1d17c4[_0x22d799(0x14b)](_0x633e9c)&&_0xccf714[_0x22d799(0x14b)](_0x633e9c)),_0x2234e7=[..._0x1d17c4][_0x22d799(0x186)](_0xf060b1=>!_0x129390[_0x22d799(0x14b)](_0xf060b1));for(let _0x4c210f of _0x5e4629)await this[_0x22d799(0x6bb)](_0x4c210f,_0x4ea359[_0x22d799(0x588)]),_0x1d17c4[_0x22d799(0x4b4)](_0x4c210f);for(let _0x980dbe of _0x2234e7)await this[_0x22d799(0x324)](_0x980dbe,_0x4ea359['_id']),_0x1d17c4[_0x22d799(0x209)](_0x980dbe);if(_0x22d799(0x4c1)in _0x3911d2){let _0x2258a7=_0x3911d2[_0x22d799(0x4c1)];_0x8817e8[_0x22d799(0x442)]=_0x2258a7?Number(_0x2258a7):null;}let _0x392187=await this[_0x22d799(0x2ea)][_0x22d799(0x429)][_0x22d799(0x36b)]({'where':{'_id':_0x2ab0f3}},_0x8817e8,this[_0x22d799(0x6b9)][_0x22d799(0x387)]);_0x392187?(this[_0x22d799(0x433)]['verbose'](this['instanceName']+'\x20('+this[_0x22d799(0x6b9)][_0x22d799(0x387)]+_0x22d799(0x65d)+_0x392187[_0x22d799(0x588)]),U(this['instanceName'],_0x22d799(0x1b9),{'chat':_0x392187})):this[_0x22d799(0x433)]['error'](this[_0x22d799(0x643)]+'\x20('+this['instance'][_0x22d799(0x387)]+_0x22d799(0x4e2));}catch(_0x55c0cc){this[_0x22d799(0x433)][_0x22d799(0x552)](this[_0x22d799(0x643)]+'\x20('+this[_0x22d799(0x6b9)][_0x22d799(0x387)]+_0x22d799(0x1bf)+(_0x55c0cc instanceof Error?_0x55c0cc['message']:JSON[_0x22d799(0x750)](_0x55c0cc,null,0x2)));}}async[a0_0x349dbc(0x702)](_0x3d2f2a,_0x4ff18b){const _0x22edb5=a0_0x349dbc;this[_0x22edb5(0x433)][_0x22edb5(0x3b4)](this[_0x22edb5(0x643)]+'\x20('+this[_0x22edb5(0x6b9)]['wuid']+_0x22edb5(0xfd)+_0x4ff18b);try{let _0x146894=await this[_0x22edb5(0x2ea)][_0x22edb5(0x429)][_0x22edb5(0x36b)]({'where':{'_id':_0x3d2f2a[_0x22edb5(0x185)]}},{'leadInfo.desativadoFluxoAte':_0x4ff18b},this[_0x22edb5(0x6b9)][_0x22edb5(0x387)]);this['logger']['verbose'](this[_0x22edb5(0x643)]+'\x20('+this[_0x22edb5(0x6b9)]['wuid']+_0x22edb5(0x113)+_0x3d2f2a[_0x22edb5(0x588)]),this[_0x22edb5(0x433)][_0x22edb5(0x3b4)](this[_0x22edb5(0x643)]+'\x20('+this['instance'][_0x22edb5(0x387)]+_0x22edb5(0xfd)+JSON['stringify'](_0x146894,null,0x2)),_0x146894&&U(this[_0x22edb5(0x643)],_0x22edb5(0x1b9),{'chat':_0x146894});}catch(_0x3d07eb){this[_0x22edb5(0x433)][_0x22edb5(0x552)](this[_0x22edb5(0x643)]+'\x20('+this['instance'][_0x22edb5(0x387)]+_0x22edb5(0x486)+(_0x3d07eb instanceof Error?_0x3d07eb[_0x22edb5(0x180)]:JSON[_0x22edb5(0x750)](_0x3d07eb,null,0x2)));}}async[a0_0x349dbc(0x1ae)](_0x586edd){const _0x2c42dc=a0_0x349dbc;try{this[_0x2c42dc(0x433)][_0x2c42dc(0x3b4)](this['instanceName']+'\x20('+this[_0x2c42dc(0x6b9)][_0x2c42dc(0x387)]+'):\x20Buscando\x20flow...');let _0x4db7af=_0x586edd[_0x2c42dc(0x1b7)](/\D/g,''),_0x37b117=await this[_0x2c42dc(0x2ea)][_0x2c42dc(0x59a)][_0x2c42dc(0x1a0)]({'where':{'testingWith':_0x4db7af}},this[_0x2c42dc(0x6b9)][_0x2c42dc(0x387)]);return _0x37b117||(this['logger'][_0x2c42dc(0x3b4)](this[_0x2c42dc(0x643)]+'\x20('+this['instance']['wuid']+_0x2c42dc(0x471)),_0x37b117=await this['repository'][_0x2c42dc(0x59a)][_0x2c42dc(0x1a0)]({'where':{'default':!0x0}},this['instance'][_0x2c42dc(0x387)])),_0x37b117||(this[_0x2c42dc(0x433)]['verbose'](this[_0x2c42dc(0x643)]+'\x20('+this[_0x2c42dc(0x6b9)][_0x2c42dc(0x387)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x977e6){return this[_0x2c42dc(0x433)][_0x2c42dc(0x552)](this[_0x2c42dc(0x643)]+'\x20('+this[_0x2c42dc(0x6b9)][_0x2c42dc(0x387)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x977e6 instanceof Error?_0x977e6[_0x2c42dc(0x180)]:JSON[_0x2c42dc(0x750)](_0x977e6,null,0x2))),null;}}async[a0_0x349dbc(0x4bd)](_0x9b2df4,_0x4feba7){const _0x2401d8=a0_0x349dbc;try{let _0x1b5a8b=!!_0x4feba7[_0x2401d8(0xc1)],_0x4e2aa0=_0x4feba7[_0x2401d8(0x1e0)],_0xea8b7=null;if(this['logger'][_0x2401d8(0x3b4)](this[_0x2401d8(0x643)]+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+'):\x20isVote:\x20'+_0x1b5a8b+_0x2401d8(0x3b2)+_0x4e2aa0),_0x1b5a8b){this[_0x2401d8(0x433)][_0x2401d8(0x3b4)](this[_0x2401d8(0x643)]+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+_0x2401d8(0x6d8));let _0xc86bb9={'where':{'remoteJid':_0x9b2df4,'waitingMenu_id':_0x4e2aa0}};if(_0xea8b7=await this[_0x2401d8(0x2ea)][_0x2401d8(0x134)][_0x2401d8(0x1a0)](_0xc86bb9,this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]),!_0xea8b7)return this[_0x2401d8(0x433)]['verbose'](this[_0x2401d8(0x643)]+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+_0x2401d8(0x2bb)),null;let _0x1ef67c=Date['now'](),_0x3d65dc=_0xea8b7?.[_0x2401d8(0x266)]||0x0,_0xfa747b=_0x1ef67c-_0x3d65dc*0x3c*0x3e8;if(_0xea8b7[_0x2401d8(0x76e)]<_0xfa747b){this[_0x2401d8(0x433)][_0x2401d8(0x3b4)](this[_0x2401d8(0x643)]+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+_0x2401d8(0x204));let _0x3aa0d9={'number':_0xea8b7[_0x2401d8(0x185)],'options':{'delay':0x0},'textMessage':{'text':_0xea8b7[_0x2401d8(0x594)]}};await this[_0x2401d8(0x21b)](_0x3aa0d9);let _0x1a1423={'status':_0x2401d8(0x24b),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2401d8(0x2ea)][_0x2401d8(0x134)]['updateOne'](_0xea8b7[_0x2401d8(0x588)],_0x1a1423,this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]),null;}return _0xea8b7[_0x2401d8(0x76e)]=Date[_0x2401d8(0x6db)](),_0xea8b7[_0x2401d8(0x5ec)][_0x2401d8(0x475)]=_0x4feba7,_0xea8b7;}else{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+'):\x20'+this[_0x2401d8(0x6b9)]['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x2401d8(0x433)][_0x2401d8(0x3b4)](this[_0x2401d8(0x643)]+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+_0x2401d8(0x163));let _0x2679ff={'where':{'remoteJid':_0x9b2df4,'status':_0x2401d8(0x4b3)}};if(_0xea8b7=await this['repository']['flowConversation'][_0x2401d8(0x1a0)](_0x2679ff,this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]),!_0xea8b7){let _0x2240e4=await this[_0x2401d8(0x1ae)](_0x9b2df4);if(_0x2240e4&&(_0xea8b7=await this['createNewConversation'](_0x2240e4,_0x4feba7[_0x2401d8(0xc0)],_0x4feba7)),!_0xea8b7)return null;}let _0x1e9fe6=Date[_0x2401d8(0x6db)](),_0xe7e6ce=_0xea8b7?.['minutesToClose']||0x0,_0x335753=_0x1e9fe6-_0xe7e6ce*0x3c*0x3e8;if(this[_0x2401d8(0x433)][_0x2401d8(0x3b4)](this[_0x2401d8(0x643)]+'\x20('+this['instance'][_0x2401d8(0x387)]+_0x2401d8(0x596)+_0x1e9fe6+_0x2401d8(0x1b8)+_0xe7e6ce+',\x20Expiration\x20Time:\x20'+_0x335753),this[_0x2401d8(0x433)]['verbose'](this[_0x2401d8(0x643)]+'\x20('+this[_0x2401d8(0x6b9)]['wuid']+_0x2401d8(0x539)),this[_0x2401d8(0x433)][_0x2401d8(0x3b4)](this[_0x2401d8(0x643)]+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+'):\x20conversation.lastInteraction:\x20'+_0xea8b7[_0x2401d8(0x76e)]),this[_0x2401d8(0x433)]['verbose'](this['instanceName']+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+_0x2401d8(0x2af)+_0x335753),_0xea8b7[_0x2401d8(0x76e)]<_0x335753){this['logger'][_0x2401d8(0x3b4)](this[_0x2401d8(0x643)]+'\x20('+this[_0x2401d8(0x6b9)][_0x2401d8(0x387)]+'):\x20Conversa\x20está\x20expirada');let _0x4bc328=await this[_0x2401d8(0x1ae)](_0x9b2df4);if(_0x4bc328===null)return null;_0xea8b7&&await this[_0x2401d8(0x2ea)]['flowConversation']['updateOne'](_0xea8b7[_0x2401d8(0x588)],{'status':_0x2401d8(0x24b)},this[_0x2401d8(0x6b9)]['wuid']),_0xea8b7=await this['createNewConversation'](_0x4bc328,_0x4feba7[_0x2401d8(0xc0)],_0x4feba7);}return _0xea8b7[_0x2401d8(0x76e)]=_0x1e9fe6,_0xea8b7[_0x2401d8(0x5ec)][_0x2401d8(0x475)]=_0x4feba7,_0xea8b7;}}catch(_0x497258){return this[_0x2401d8(0x433)][_0x2401d8(0x552)](this[_0x2401d8(0x643)]+'\x20('+this['instance']['wuid']+_0x2401d8(0x642)+(_0x497258 instanceof Error?_0x497258[_0x2401d8(0x180)]:JSON[_0x2401d8(0x750)](_0x497258,null,0x2))),null;}}async['createNewConversation'](_0x4f8712,_0x179dea,_0x8fd0eb){const _0x5ded8e=a0_0x349dbc;this['logger'][_0x5ded8e(0x3b4)](this[_0x5ded8e(0x643)]+'\x20('+this[_0x5ded8e(0x6b9)][_0x5ded8e(0x387)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x4efe50=require(_0x5ded8e(0x4db))[_0x5ded8e(0x4b2)],_0x4d9eee=Date['now'](),_0x22729f=_0x5ded8e(0xdc),_0x493e3a=_0x179dea[_0x5ded8e(0x73c)]?null:_0x8fd0eb,_0x12a1d4=_0x179dea['fromMe']?_0x8fd0eb:null,_0x2eed7b=_0x179dea[_0x5ded8e(0x185)];await this[_0x5ded8e(0x575)](_0x2eed7b);let _0x4704d9={..._0x4f8712,'chatLog':null},_0x16a84b=await this[_0x5ded8e(0x75c)](_0x4704d9['variables']),_0x48b779=await this['getVariablesChat'](_0x2eed7b),_0x258c6f={..._0x16a84b,..._0x48b779,'_remoteJid':_0x2eed7b},_0x317806={'lastReceivedMessage':_0x493e3a,'lastSendMessage':_0x12a1d4,'lastBlockId':_0x22729f,'lastCondition':!0x0,'realVariables':_0x258c6f};_0x4704d9['chatLog']=_0x317806,delete _0x4704d9[_0x5ded8e(0x588)],_0x4704d9[_0x5ded8e(0x588)]=new _0x4efe50(),_0x4704d9['lastInteraction']=_0x4d9eee,_0x4704d9['status']=_0x5ded8e(0x4b3),_0x4704d9['remoteJid']=_0x2eed7b;let _0x565191=await this[_0x5ded8e(0x2ea)][_0x5ded8e(0x134)][_0x5ded8e(0x36b)](_0x4704d9[_0x5ded8e(0x588)],_0x4704d9,this[_0x5ded8e(0x6b9)][_0x5ded8e(0x387)]);return this[_0x5ded8e(0x433)][_0x5ded8e(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x5ded8e(0x387)]+_0x5ded8e(0x198)),_0x565191?_0x4704d9:null;}catch(_0x513ee7){return this['logger'][_0x5ded8e(0x552)](this[_0x5ded8e(0x643)]+'\x20('+this[_0x5ded8e(0x6b9)]['wuid']+_0x5ded8e(0x725)+(_0x513ee7 instanceof Error?_0x513ee7['message']:JSON['stringify'](_0x513ee7,null,0x2))),_0x513ee7;}}async['uazapiSendText'](_0x4781d5,_0x36c04a){const _0x203cff=a0_0x349dbc;let _0x1c4587=_0x4781d5[_0x203cff(0x185)];_0x36c04a[_0x203cff(0x273)][_0x203cff(0x185)]&&_0x36c04a[_0x203cff(0x273)]['remoteJid']['trim']()!==''&&(_0x1c4587=_0x36c04a[_0x203cff(0x273)][_0x203cff(0x185)][_0x203cff(0x349)]()),this[_0x203cff(0x433)][_0x203cff(0x3b4)](this[_0x203cff(0x643)]+'\x20('+this[_0x203cff(0x6b9)][_0x203cff(0x387)]+_0x203cff(0x630));let _0x2ef9ea={'number':_0x1c4587,'options':{'delay':_0x36c04a[_0x203cff(0x273)]['delay'],'linkPreview':_0x36c04a[_0x203cff(0x273)][_0x203cff(0x747)]},'textMessage':{'text':_0x36c04a[_0x203cff(0x273)][_0x203cff(0x2e7)]}};try{let _0x513464=await this[_0x203cff(0x21b)](_0x2ef9ea);if(_0x513464){let _0xaf3ed0={'_id':_0x513464[_0x203cff(0xc0)]['id'],'_fromMe':_0x513464[_0x203cff(0xc0)][_0x203cff(0x73c)],'_remoteJid':_0x513464[_0x203cff(0xc0)][_0x203cff(0x185)]},_0x39a031=(0x0,f['normalizeMessageContent'])(_0x513464[_0x203cff(0x180)]),_0x2e59b8=(0x0,f[_0x203cff(0x4d3)])(_0x39a031);_0x4781d5[_0x203cff(0x5ec)]['lastBlockId']=_0x36c04a[_0x203cff(0x588)][_0x203cff(0x343)]();let {message_normalized:_0x5a16c3}=this[_0x203cff(0x4e6)](_0x39a031,_0x2e59b8,null);_0x4781d5[_0x203cff(0x5ec)][_0x203cff(0x72c)]=await _0x5a16c3;let _0x269692={'messageId':_0x513464[_0x203cff(0xc0)]['id']},_0x1be5de=_0x4781d5[_0x203cff(0x5ec)][_0x203cff(0x129)];Object[_0x203cff(0x53c)](_0x1be5de,_0xaf3ed0),_0x4781d5[_0x203cff(0x5ec)][_0x203cff(0x129)]=_0x1be5de,this[_0x203cff(0x494)](_0x4781d5,_0x36c04a,_0x269692);}else{let _0x25bd6c={'error':!0x0};this[_0x203cff(0x494)](_0x4781d5,_0x36c04a,_0x25bd6c),this['logger'][_0x203cff(0x552)](this[_0x203cff(0x643)]+'\x20('+this['instance'][_0x203cff(0x387)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x50007d){let _0xbcb0cd={'error':!0x0,'errorLog':_0x50007d[_0x203cff(0x343)]()};this[_0x203cff(0x494)](_0x4781d5,_0x36c04a,_0xbcb0cd),this['logger'][_0x203cff(0x552)](this[_0x203cff(0x643)]+'\x20('+this[_0x203cff(0x6b9)][_0x203cff(0x387)]+_0x203cff(0x62b)+(_0x50007d instanceof Error?_0x50007d[_0x203cff(0x180)]:JSON['stringify'](_0x50007d,null,0x2)));}}async[a0_0x349dbc(0x34b)](_0x94cbb9,_0x5cad64){const _0x25a1df=a0_0x349dbc;let _0x3ebad2=_0x94cbb9[_0x25a1df(0x185)];_0x5cad64[_0x25a1df(0x273)][_0x25a1df(0x185)]&&_0x5cad64[_0x25a1df(0x273)][_0x25a1df(0x185)][_0x25a1df(0x349)]()!==''&&(_0x3ebad2=_0x5cad64['uazapi'][_0x25a1df(0x185)][_0x25a1df(0x349)]()),this[_0x25a1df(0x433)][_0x25a1df(0x3b4)](this['instanceName']+'\x20('+this[_0x25a1df(0x6b9)][_0x25a1df(0x387)]+_0x25a1df(0x289));let _0x40272e={'number':_0x3ebad2,'options':{'delay':_0x5cad64[_0x25a1df(0x273)]['delay'],'linkPreview':_0x5cad64['uazapi'][_0x25a1df(0x747)]},'mediaMessage':{'mediatype':_0x5cad64[_0x25a1df(0x273)]['mediatype'],'caption':_0x5cad64[_0x25a1df(0x273)][_0x25a1df(0x3db)],'media':_0x5cad64[_0x25a1df(0x273)][_0x25a1df(0x127)],'fileName':_0x5cad64[_0x25a1df(0x273)][_0x25a1df(0x474)]}};try{let _0x2718cc=await this[_0x25a1df(0x619)](_0x40272e);if(_0x2718cc){let _0x26ad76={'_id':_0x2718cc['key']['id'],'_fromMe':_0x2718cc[_0x25a1df(0xc0)][_0x25a1df(0x73c)],'_remoteJid':_0x2718cc[_0x25a1df(0xc0)][_0x25a1df(0x185)]},_0x303943=(0x0,f[_0x25a1df(0x449)])(_0x2718cc['message']),_0x5d927e=(0x0,f['getContentType'])(_0x303943);_0x94cbb9['chatLog'][_0x25a1df(0x226)]=_0x5cad64[_0x25a1df(0x588)][_0x25a1df(0x343)]();let {message_normalized:_0x45dd40}=this[_0x25a1df(0x4e6)](_0x303943,_0x5d927e,null);_0x94cbb9[_0x25a1df(0x5ec)]['lastSendMessage']=await _0x45dd40;let _0x8b2c5e={'messageId':_0x2718cc[_0x25a1df(0xc0)]['id']},_0x5a7592=_0x94cbb9['chatLog']['realVariables'];Object['assign'](_0x5a7592,_0x26ad76),_0x94cbb9[_0x25a1df(0x5ec)][_0x25a1df(0x129)]=_0x5a7592,this[_0x25a1df(0x494)](_0x94cbb9,_0x5cad64,_0x8b2c5e);}else{let _0x55ea40={'error':!0x0};this[_0x25a1df(0x494)](_0x94cbb9,_0x5cad64,_0x55ea40),this[_0x25a1df(0x433)]['error'](this[_0x25a1df(0x643)]+'\x20('+this[_0x25a1df(0x6b9)][_0x25a1df(0x387)]+_0x25a1df(0x5dd));}}catch(_0x223b07){let _0x65568a={'error':!0x0,'errorLog':_0x223b07[_0x25a1df(0x343)]()};this[_0x25a1df(0x494)](_0x94cbb9,_0x5cad64,_0x65568a),this[_0x25a1df(0x433)][_0x25a1df(0x552)](this['instanceName']+'\x20('+this[_0x25a1df(0x6b9)][_0x25a1df(0x387)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x223b07 instanceof Error?_0x223b07[_0x25a1df(0x180)]:JSON[_0x25a1df(0x750)](_0x223b07,null,0x2)));}}async[a0_0x349dbc(0x635)](_0x108311,_0x563ef3){const _0x15a18d=a0_0x349dbc;let _0x419704=_0x108311[_0x15a18d(0x185)];_0x563ef3[_0x15a18d(0x273)][_0x15a18d(0x185)]&&_0x563ef3[_0x15a18d(0x273)][_0x15a18d(0x185)][_0x15a18d(0x349)]()!==''&&(_0x419704=_0x563ef3[_0x15a18d(0x273)]['remoteJid'][_0x15a18d(0x349)]()),this[_0x15a18d(0x433)][_0x15a18d(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x15a18d(0x387)]+_0x15a18d(0x663));let _0x24a8c2={'number':_0x419704,'options':{'delay':_0x563ef3['uazapi'][_0x15a18d(0x297)]},'locationMessage':{'name':_0x563ef3['uazapi'][_0x15a18d(0x246)],'address':_0x563ef3[_0x15a18d(0x273)][_0x15a18d(0x6c5)],'latitude':_0x563ef3['uazapi'][_0x15a18d(0x488)],'longitude':_0x563ef3[_0x15a18d(0x273)][_0x15a18d(0x136)]}};try{let _0x4cf00e=await this['locationMessage'](_0x24a8c2);if(_0x4cf00e){let _0x52dbce={'_id':_0x4cf00e[_0x15a18d(0xc0)]['id'],'_fromMe':_0x4cf00e[_0x15a18d(0xc0)][_0x15a18d(0x73c)],'_remoteJid':_0x4cf00e[_0x15a18d(0xc0)][_0x15a18d(0x185)]},_0x58aff1=(0x0,f[_0x15a18d(0x449)])(_0x4cf00e[_0x15a18d(0x180)]),_0x1e07d9=(0x0,f[_0x15a18d(0x4d3)])(_0x58aff1);_0x108311['chatLog'][_0x15a18d(0x226)]=_0x563ef3[_0x15a18d(0x588)][_0x15a18d(0x343)]();let {message_normalized:_0x371a72}=this[_0x15a18d(0x4e6)](_0x58aff1,_0x1e07d9,null);_0x108311[_0x15a18d(0x5ec)][_0x15a18d(0x72c)]=await _0x371a72;let _0x55f6d9={'messageId':_0x4cf00e[_0x15a18d(0xc0)]['id']},_0x1f2086=_0x108311[_0x15a18d(0x5ec)]['realVariables'];Object[_0x15a18d(0x53c)](_0x1f2086,_0x52dbce),_0x108311[_0x15a18d(0x5ec)][_0x15a18d(0x129)]=_0x1f2086,this['updateConversation'](_0x108311,_0x563ef3,_0x55f6d9);}else{let _0x54ad88={'error':!0x0};this[_0x15a18d(0x494)](_0x108311,_0x563ef3,_0x54ad88),this[_0x15a18d(0x433)]['error'](this[_0x15a18d(0x643)]+'\x20('+this[_0x15a18d(0x6b9)][_0x15a18d(0x387)]+_0x15a18d(0x112));}}catch(_0x4e136a){let _0x5a6522={'error':!0x0,'errorLog':_0x4e136a[_0x15a18d(0x343)]()};this[_0x15a18d(0x494)](_0x108311,_0x563ef3,_0x5a6522),this[_0x15a18d(0x433)][_0x15a18d(0x552)](this[_0x15a18d(0x643)]+'\x20('+this[_0x15a18d(0x6b9)][_0x15a18d(0x387)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x4e136a instanceof Error?_0x4e136a[_0x15a18d(0x180)]:JSON[_0x15a18d(0x750)](_0x4e136a,null,0x2)));}}async[a0_0x349dbc(0x6a6)](_0x5e1342,_0x2b27b0){const _0x74e466=a0_0x349dbc;let _0x2eea81=_0x5e1342['remoteJid'];_0x2b27b0[_0x74e466(0x273)][_0x74e466(0x185)]&&_0x2b27b0['uazapi'][_0x74e466(0x185)][_0x74e466(0x349)]()!==''&&(_0x2eea81=_0x2b27b0[_0x74e466(0x273)][_0x74e466(0x185)][_0x74e466(0x349)]()),this['logger']['verbose'](this[_0x74e466(0x643)]+'\x20('+this[_0x74e466(0x6b9)][_0x74e466(0x387)]+_0x74e466(0x536));let _0x3f51c2={'number':_0x2eea81,'options':{'delay':_0x2b27b0[_0x74e466(0x273)][_0x74e466(0x297)]},'audioMessage':{'audio':_0x2b27b0[_0x74e466(0x273)][_0x74e466(0x6b2)]}};try{let _0x41af9e=await this[_0x74e466(0x39f)](_0x3f51c2);if(_0x41af9e){let _0x3ee9b4={'_id':_0x41af9e[_0x74e466(0xc0)]['id'],'_fromMe':_0x41af9e['key'][_0x74e466(0x73c)],'_remoteJid':_0x41af9e[_0x74e466(0xc0)]['remoteJid']},_0x449f47=(0x0,f['normalizeMessageContent'])(_0x41af9e[_0x74e466(0x180)]),_0x53872d=(0x0,f[_0x74e466(0x4d3)])(_0x449f47);_0x5e1342['chatLog']['lastBlockId']=_0x2b27b0[_0x74e466(0x588)]['toString']();let {message_normalized:_0x1bda16}=this['normalizeMessage'](_0x449f47,_0x53872d,null);_0x5e1342[_0x74e466(0x5ec)][_0x74e466(0x72c)]=await _0x1bda16;let _0x568a26={'messageId':_0x41af9e[_0x74e466(0xc0)]['id']},_0x420769=_0x5e1342[_0x74e466(0x5ec)]['realVariables'];Object[_0x74e466(0x53c)](_0x420769,_0x3ee9b4),_0x5e1342[_0x74e466(0x5ec)]['realVariables']=_0x420769,this[_0x74e466(0x494)](_0x5e1342,_0x2b27b0,_0x568a26);}else{let _0x1a9ead={'error':!0x0};this[_0x74e466(0x494)](_0x5e1342,_0x2b27b0,_0x1a9ead),this[_0x74e466(0x433)][_0x74e466(0x552)](this[_0x74e466(0x643)]+'\x20('+this['instance'][_0x74e466(0x387)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x2d3cf7){let _0x4cae2f={'error':!0x0,'errorLog':_0x2d3cf7[_0x74e466(0x343)]()};this[_0x74e466(0x494)](_0x5e1342,_0x2b27b0,_0x4cae2f),this[_0x74e466(0x433)]['error'](this[_0x74e466(0x643)]+'\x20('+this[_0x74e466(0x6b9)][_0x74e466(0x387)]+_0x74e466(0x425)+(_0x2d3cf7 instanceof Error?_0x2d3cf7[_0x74e466(0x180)]:JSON[_0x74e466(0x750)](_0x2d3cf7,null,0x2)));}}async[a0_0x349dbc(0x195)](_0x55e6a3,_0x9b565e){const _0x3c2b1a=a0_0x349dbc;let _0xbf91e5=_0x55e6a3[_0x3c2b1a(0x185)];_0x9b565e['uazapi']['remoteJid']&&_0x9b565e['uazapi'][_0x3c2b1a(0x185)][_0x3c2b1a(0x349)]()!==''&&(_0xbf91e5=_0x9b565e[_0x3c2b1a(0x273)][_0x3c2b1a(0x185)][_0x3c2b1a(0x349)]()),this[_0x3c2b1a(0x433)][_0x3c2b1a(0x3b4)](this['instanceName']+'\x20('+this[_0x3c2b1a(0x6b9)]['wuid']+_0x3c2b1a(0x6e7));let _0x14d703={'number':_0xbf91e5,'options':{'delay':_0x9b565e['uazapi'][_0x3c2b1a(0x297)]},'contactMessage':[{'fullName':_0x9b565e[_0x3c2b1a(0x273)][_0x3c2b1a(0xec)],'phoneNumber':_0x9b565e[_0x3c2b1a(0x273)]['phoneNumber']}]};try{let _0x21cea4=await this[_0x3c2b1a(0x720)](_0x14d703);if(_0x21cea4){let _0x4fba8c={'_id':_0x21cea4['key']['id'],'_fromMe':_0x21cea4['key'][_0x3c2b1a(0x73c)],'_remoteJid':_0x21cea4['key']['remoteJid']},_0x2401df=(0x0,f[_0x3c2b1a(0x449)])(_0x21cea4['message']),_0x30ffb1=(0x0,f[_0x3c2b1a(0x4d3)])(_0x2401df);_0x55e6a3[_0x3c2b1a(0x5ec)][_0x3c2b1a(0x226)]=_0x9b565e[_0x3c2b1a(0x588)]['toString']();let {message_normalized:_0x118c57}=this[_0x3c2b1a(0x4e6)](_0x2401df,_0x30ffb1,null);_0x55e6a3[_0x3c2b1a(0x5ec)]['lastSendMessage']=await _0x118c57;let _0x46e211={'messageId':_0x21cea4[_0x3c2b1a(0xc0)]['id']},_0x1464fc=_0x55e6a3[_0x3c2b1a(0x5ec)][_0x3c2b1a(0x129)];Object['assign'](_0x1464fc,_0x4fba8c),_0x55e6a3['chatLog']['realVariables']=_0x1464fc,this[_0x3c2b1a(0x494)](_0x55e6a3,_0x9b565e,_0x46e211);}else{let _0x1e21ca={'error':!0x0};this['updateConversation'](_0x55e6a3,_0x9b565e,_0x1e21ca),this[_0x3c2b1a(0x433)][_0x3c2b1a(0x552)](this[_0x3c2b1a(0x643)]+'\x20('+this[_0x3c2b1a(0x6b9)][_0x3c2b1a(0x387)]+_0x3c2b1a(0x6e2));}}catch(_0x385e23){let _0x16a3bc={'error':!0x0,'errorLog':_0x385e23[_0x3c2b1a(0x343)]()};this[_0x3c2b1a(0x494)](_0x55e6a3,_0x9b565e,_0x16a3bc),this[_0x3c2b1a(0x433)][_0x3c2b1a(0x552)](this['instanceName']+'\x20('+this[_0x3c2b1a(0x6b9)]['wuid']+_0x3c2b1a(0x5b2)+(_0x385e23 instanceof Error?_0x385e23['message']:JSON[_0x3c2b1a(0x750)](_0x385e23,null,0x2)));}}[a0_0x349dbc(0x30a)](_0x3f93a5,_0x16ad9a){const _0x33dcdf=a0_0x349dbc;for(let _0x414d1e of _0x3f93a5)_0x414d1e['option']&&(_0x414d1e[_0x33dcdf(0xe9)]=this[_0x33dcdf(0x52e)](_0x414d1e[_0x33dcdf(0xe9)],_0x16ad9a)),_0x414d1e[_0x33dcdf(0xdd)]&&(_0x414d1e['optionDescription']=this['replaceVariables'](_0x414d1e[_0x33dcdf(0xdd)],_0x16ad9a));}async[a0_0x349dbc(0x29b)](_0x8ade9e,_0x1f071d){const _0x39a4b4=a0_0x349dbc;let _0x2f612=_0x8ade9e[_0x39a4b4(0x185)];_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x185)]&&_0x1f071d['uazapi']['remoteJid'][_0x39a4b4(0x349)]()!==''&&(_0x2f612=_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x185)]['trim']()),this['logger'][_0x39a4b4(0x3b4)](this['instanceName']+'\x20('+this[_0x39a4b4(0x6b9)]['wuid']+'):\x20Enviando\x20enquete');let _0xa487a3=_0x8ade9e[_0x39a4b4(0xe6)][_0x39a4b4(0x186)](_0x30e312=>_0x30e312[_0x39a4b4(0x2ee)]===_0x1f071d[_0x39a4b4(0x588)])['sort']((_0x2b38dd,_0x434694)=>_0x2b38dd[_0x39a4b4(0x1a1)]-_0x434694['order']);this[_0x39a4b4(0x30a)](_0xa487a3,_0x8ade9e[_0x39a4b4(0x5ec)][_0x39a4b4(0x129)]);let _0x5ab2e5=_0xa487a3['map'](_0x5a1436=>_0x5a1436[_0x39a4b4(0xe9)]),_0x2c242={'number':_0x2f612,'menuMessage':{'type':_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x35c)]||_0x39a4b4(0x28c),'text':_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x2e7)]||_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x246)],'footerText':_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x205)],'buttonText':_0x1f071d[_0x39a4b4(0x273)]['buttonText'],'selectableCount':0x1,'choices':_0x5ab2e5},'options':{'delay':_0x1f071d['uazapi'][_0x39a4b4(0x297)]}};try{let _0x2c7168=await this['menuMessage'](_0x2c242);if(_0x2c7168){let _0x1ff9f5={'_id':_0x2c7168[_0x39a4b4(0xc0)]['id'],'_fromMe':_0x2c7168[_0x39a4b4(0xc0)][_0x39a4b4(0x73c)],'_remoteJid':_0x2c7168[_0x39a4b4(0xc0)][_0x39a4b4(0x185)]};_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x17f)]===!0x0&&(_0x8ade9e[_0x39a4b4(0x130)]=_0x39a4b4(0x4bf),this[_0x39a4b4(0x433)]['verbose'](this[_0x39a4b4(0x643)]+'\x20('+this[_0x39a4b4(0x6b9)][_0x39a4b4(0x387)]+_0x39a4b4(0x3d7)+_0x8ade9e[_0x39a4b4(0x130)])),this[_0x39a4b4(0x433)][_0x39a4b4(0x3b4)](this[_0x39a4b4(0x643)]+'\x20('+this[_0x39a4b4(0x6b9)][_0x39a4b4(0x387)]+_0x39a4b4(0x59c)+(_0x1f071d['uazapi']['name']||_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x2e7)])),_0x8ade9e['waitingMenu_id']=_0x2c7168[_0x39a4b4(0xc0)]['id'],_0x8ade9e['waitingMenu_text']=_0x1f071d['uazapi'][_0x39a4b4(0x246)]||_0x1f071d[_0x39a4b4(0x273)]['text'],_0x8ade9e[_0x39a4b4(0x1d6)]=_0xa487a3,_0x1f071d[_0x39a4b4(0x273)][_0x39a4b4(0x5ca)]&&(_0x8ade9e[_0x39a4b4(0x594)]=_0x1f071d[_0x39a4b4(0x273)]['menuExpiredMessage']),this[_0x39a4b4(0x433)][_0x39a4b4(0x3b4)](this[_0x39a4b4(0x643)]+'\x20('+this[_0x39a4b4(0x6b9)][_0x39a4b4(0x387)]+_0x39a4b4(0x396)+_0x8ade9e[_0x39a4b4(0x2f6)]);let _0x54e738=(0x0,f[_0x39a4b4(0x449)])(_0x2c7168['message']),_0x50aa71=(0x0,f[_0x39a4b4(0x4d3)])(_0x54e738);_0x8ade9e[_0x39a4b4(0x5ec)][_0x39a4b4(0x226)]=_0x1f071d[_0x39a4b4(0x588)][_0x39a4b4(0x343)]();let {message_normalized:_0x103aef}=this['normalizeMessage'](_0x54e738,_0x50aa71,null);_0x8ade9e[_0x39a4b4(0x5ec)]['lastSendMessage']=await _0x103aef;let _0x4ee9be={'messageId':_0x2c7168['key']['id']},_0x4aa80a=_0x8ade9e[_0x39a4b4(0x5ec)][_0x39a4b4(0x129)];Object['assign'](_0x4aa80a,_0x1ff9f5),_0x8ade9e[_0x39a4b4(0x5ec)][_0x39a4b4(0x129)]=_0x4aa80a,this[_0x39a4b4(0x494)](_0x8ade9e,_0x1f071d,_0x4ee9be);}else{let _0x3350bf={'error':!0x0};this[_0x39a4b4(0x494)](_0x8ade9e,_0x1f071d,_0x3350bf),this[_0x39a4b4(0x433)][_0x39a4b4(0x552)](this[_0x39a4b4(0x643)]+'\x20('+this['instance']['wuid']+_0x39a4b4(0xe5));}}catch(_0x30d254){let _0x24fd0a={'error':!0x0,'errorLog':_0x30d254 instanceof Error?_0x30d254[_0x39a4b4(0x180)]:JSON[_0x39a4b4(0x750)](_0x30d254,null,0x2)};this['updateConversation'](_0x8ade9e,_0x1f071d,_0x24fd0a),this[_0x39a4b4(0x433)][_0x39a4b4(0x552)](this[_0x39a4b4(0x643)]+'\x20('+this[_0x39a4b4(0x6b9)][_0x39a4b4(0x387)]+_0x39a4b4(0x1e2)+(_0x30d254 instanceof Error?_0x30d254[_0x39a4b4(0x180)]:JSON[_0x39a4b4(0x750)](_0x30d254,null,0x2)));}}async[a0_0x349dbc(0x31a)](_0xa6ad95,_0x5c6d53){const _0x44f7e7=a0_0x349dbc;this[_0x44f7e7(0x433)]['verbose'](this['instanceName']+'\x20('+this[_0x44f7e7(0x6b9)][_0x44f7e7(0x387)]+_0x44f7e7(0x333));let _0x3902ca=_0xa6ad95[_0x44f7e7(0x5ec)][_0x44f7e7(0x730)][_0x44f7e7(0x3e0)](_0x5c5b38=>_0x5c5b38[_0x44f7e7(0x2ee)][_0x44f7e7(0x343)]()===_0x5c6d53[_0x44f7e7(0x273)][_0x44f7e7(0x2ee)]['toString']()),_0x553726={'id':_0x3902ca[_0x44f7e7(0x3cd)],'remoteJid':_0x3902ca[_0x44f7e7(0x185)],'fromMe':_0x3902ca['fromMe']};try{let _0x421ac1=await this['deleteMessage'](_0x553726);if(_0x421ac1){let _0x3febeb=(0x0,f[_0x44f7e7(0x449)])(_0x421ac1[_0x44f7e7(0x180)]),_0xcf8799=(0x0,f[_0x44f7e7(0x4d3)])(_0x3febeb);_0xa6ad95[_0x44f7e7(0x5ec)]['lastBlockId']=_0x5c6d53[_0x44f7e7(0x588)][_0x44f7e7(0x343)]();let {message_normalized:_0x868fd3}=this['normalizeMessage'](_0x3febeb,_0xcf8799,null);_0xa6ad95[_0x44f7e7(0x5ec)][_0x44f7e7(0x72c)]=await _0x868fd3;let _0x4dd70e={};this[_0x44f7e7(0x494)](_0xa6ad95,_0x5c6d53,_0x4dd70e);}else{let _0x2e392e={'error':!0x0};this[_0x44f7e7(0x494)](_0xa6ad95,_0x5c6d53,_0x2e392e),this[_0x44f7e7(0x433)][_0x44f7e7(0x552)](this['instanceName']+'\x20('+this[_0x44f7e7(0x6b9)]['wuid']+_0x44f7e7(0x6b0));}}catch(_0x17f361){let _0x57e8a2={'error':!0x0,'errorLog':_0x17f361 instanceof Error?_0x17f361[_0x44f7e7(0x180)]:JSON[_0x44f7e7(0x750)](_0x17f361,null,0x2)};this[_0x44f7e7(0x494)](_0xa6ad95,_0x5c6d53,_0x57e8a2),this[_0x44f7e7(0x433)][_0x44f7e7(0x552)](this['instanceName']+'\x20('+this[_0x44f7e7(0x6b9)]['wuid']+_0x44f7e7(0x6af)+(_0x17f361 instanceof Error?_0x17f361[_0x44f7e7(0x180)]:JSON[_0x44f7e7(0x750)](_0x17f361,null,0x2)));}}async[a0_0x349dbc(0x657)](_0x569b0d,_0x508793){const _0x23b9a5=a0_0x349dbc;if(!_0x569b0d['name'])throw new m(_0x23b9a5(0x29e));let _0x41aad7=_0x569b0d?.[_0x23b9a5(0x609)]?.[_0x23b9a5(0x349)]()===_0x23b9a5(0x4a1)?_0x23b9a5(0x609):this['instance'][_0x23b9a5(0x387)],_0x592822=await this[_0x23b9a5(0x2ea)][_0x23b9a5(0x59a)]['findOne']({'where':{'name':_0x569b0d[_0x23b9a5(0x246)]}},_0x41aad7);if(_0x508793!==ee&&_0x569b0d?.[_0x23b9a5(0x609)]===_0x23b9a5(0x4a1))throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0x569b0d?.[_0x23b9a5(0x609)]!=='true'&&(_0x569b0d[_0x23b9a5(0x609)]=_0x23b9a5(0x733)),_0x592822)throw new m('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x23b9a5(0x246)in _0x569b0d&&'sharePass'in _0x569b0d&&'owner'in _0x569b0d?this[_0x23b9a5(0x4f9)](_0x569b0d[_0x23b9a5(0x293)],_0x569b0d[_0x23b9a5(0x73a)],_0x569b0d['name']):this[_0x23b9a5(0x221)](_0x569b0d);}async[a0_0x349dbc(0x4f9)](_0x23e9b7,_0x4f7b30,_0x2da55d){const _0xe52df0=a0_0x349dbc;try{this[_0xe52df0(0x433)]['verbose'](this[_0xe52df0(0x643)]+'\x20('+this[_0xe52df0(0x6b9)]['wuid']+_0xe52df0(0x440));let _0x46071b=await this['repository']['flow'][_0xe52df0(0x1a0)]({'where':{'sharePass':_0x4f7b30}},_0x23e9b7);if(!_0x46071b)throw new m(_0xe52df0(0x59b));let _0x3b62db={..._0x46071b};_0x3b62db[_0xe52df0(0x293)]=this[_0xe52df0(0x6b9)][_0xe52df0(0x387)];let _0x4869e1=_0x46071b[_0xe52df0(0x609)]===_0xe52df0(0x4a1)?_0xe52df0(0x609):_0x46071b[_0xe52df0(0x293)];return(_0x23e9b7===_0xe52df0(0x609)||_0x46071b['global']===_0xe52df0(0x4a1))&&(_0x3b62db[_0xe52df0(0x609)]=_0xe52df0(0x4e3),_0x3b62db['owner']='global'),_0x3b62db['shareOwners']=Array[_0xe52df0(0x6eb)](new Set([..._0x46071b[_0xe52df0(0x3f9)]||[],_0x4869e1,this[_0xe52df0(0x6b9)]['wuid']])),_0x46071b[_0xe52df0(0x3f9)]=_0x3b62db[_0xe52df0(0x3f9)],await this[_0xe52df0(0x2ea)][_0xe52df0(0x59a)][_0xe52df0(0x36b)](_0x46071b[_0xe52df0(0x588)],{'shareOwners':_0x46071b[_0xe52df0(0x3f9)]},_0x4869e1),_0x46071b[_0xe52df0(0x231)]===!0x0&&await this[_0xe52df0(0x2ea)][_0xe52df0(0x59a)][_0xe52df0(0x1da)]({},{'default':!0x1},this[_0xe52df0(0x6b9)][_0xe52df0(0x387)]),await this[_0xe52df0(0x2ea)][_0xe52df0(0x59a)]['createAndSave'](_0x3b62db,this[_0xe52df0(0x6b9)]['wuid']);}catch(_0x158f1c){let _0x7187da=_0xe52df0(0x4f4),_0x9da31f=_0x158f1c instanceof Error?_0x158f1c['message']:typeof _0x158f1c==_0xe52df0(0x57f)?JSON['stringify'](_0x158f1c):_0x158f1c,_0xf55089=_0x7187da+':\x20'+_0x9da31f;throw this[_0xe52df0(0x433)][_0xe52df0(0x552)](this[_0xe52df0(0x643)]+'\x20('+this[_0xe52df0(0x6b9)][_0xe52df0(0x387)]+_0xe52df0(0x56b)+_0xf55089),new m(_0xf55089);}}async[a0_0x349dbc(0x221)](_0x1ebc47){const _0x5bf8f7=a0_0x349dbc;try{this[_0x5bf8f7(0x433)][_0x5bf8f7(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x5bf8f7(0x387)]+_0x5bf8f7(0x629));let _0x14a149=_0x1ebc47?.[_0x5bf8f7(0x609)]===_0x5bf8f7(0x4a1)?_0x5bf8f7(0x609):this[_0x5bf8f7(0x6b9)][_0x5bf8f7(0x387)];delete _0x1ebc47[_0x5bf8f7(0x3f9)],delete _0x1ebc47[_0x5bf8f7(0x73a)],delete _0x1ebc47[_0x5bf8f7(0x293)],_0x1ebc47[_0x5bf8f7(0x231)]===!0x0&&await this[_0x5bf8f7(0x2ea)]['flow'][_0x5bf8f7(0x1da)]({},{'default':!0x1},this[_0x5bf8f7(0x6b9)][_0x5bf8f7(0x387)]);let _0x3c8c09=new re[(_0x5bf8f7(0x56f))]['ObjectId'](),_0x38b8a8={'_id':_0x3c8c09,'default':!0x0,'title':_0x5bf8f7(0x227),'x':0x0,'y':0x0},_0x150f04={'_id':new re[(_0x5bf8f7(0x56f))][(_0x5bf8f7(0x4b2))](),'order':0x1,'groupId':_0x3c8c09[_0x5bf8f7(0x343)](),'type':_0x5bf8f7(0xdc)},_0x1f6629={'_id':new re[(_0x5bf8f7(0x56f))][(_0x5bf8f7(0x4b2))](),'owner':this[_0x5bf8f7(0x6b9)][_0x5bf8f7(0x387)],'name':_0x1ebc47[_0x5bf8f7(0x246)],'groups':[_0x38b8a8],'blocks':[_0x150f04],..._0x1ebc47};return await this[_0x5bf8f7(0x2ea)][_0x5bf8f7(0x59a)][_0x5bf8f7(0x18b)](_0x1f6629,_0x14a149);}catch(_0xcd6dd4){let _0x169fb4=_0x5bf8f7(0x3fa),_0x1aaa6f=_0xcd6dd4 instanceof Error?_0xcd6dd4['message']:typeof _0xcd6dd4==_0x5bf8f7(0x57f)?JSON[_0x5bf8f7(0x750)](_0xcd6dd4):_0xcd6dd4,_0x2a3b24=_0x169fb4+':\x20'+_0x1aaa6f;throw this['logger'][_0x5bf8f7(0x552)](this[_0x5bf8f7(0x643)]+'\x20('+this[_0x5bf8f7(0x6b9)][_0x5bf8f7(0x387)]+_0x5bf8f7(0x56b)+_0x2a3b24),new m(_0x2a3b24);}}async['synchronizeFlows'](_0x4cc4de,_0x4ea11c){const _0x174cf2=a0_0x349dbc;this[_0x174cf2(0x433)][_0x174cf2(0x6f9)](_0x174cf2(0x251));try{let _0x3c1142=await this[_0x174cf2(0x2ea)][_0x174cf2(0x59a)][_0x174cf2(0x1a0)]({'where':{'_id':_0x4cc4de}},_0x4ea11c);if(delete _0x3c1142[_0x174cf2(0x231)],delete _0x3c1142['startCommandWord'],delete _0x3c1142[_0x174cf2(0x46d)],delete _0x3c1142[_0x174cf2(0x266)],delete _0x3c1142[_0x174cf2(0x5c0)],_0x3c1142['global']===_0x174cf2(0x4a1)&&(_0x3c1142[_0x174cf2(0x609)]=_0x174cf2(0x4e3)),_0x3c1142&&_0x3c1142['shareOwners']){for(let _0x1de9e2 of _0x3c1142[_0x174cf2(0x3f9)])if(_0x1de9e2!==_0x4ea11c){let _0x2e1bed={..._0x3c1142,'owner':_0x1de9e2};await this[_0x174cf2(0x2ea)][_0x174cf2(0x59a)][_0x174cf2(0x741)](_0x3c1142[_0x174cf2(0x588)],_0x2e1bed,_0x1de9e2);}}}catch(_0x32ace6){this['logger'][_0x174cf2(0x552)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x32ace6);}}async[a0_0x349dbc(0x709)](_0x477aab,_0x40ad12,_0xb6c838){const _0x20762a=a0_0x349dbc;try{this[_0x20762a(0x433)][_0x20762a(0x3b4)](this[_0x20762a(0x643)]+'\x20('+this[_0x20762a(0x6b9)][_0x20762a(0x387)]+'):\x20Deletando\x20fluxo...');let _0x12ba6e=_0xb6c838[_0x20762a(0x349)]()===_0x20762a(0x4a1)?_0x20762a(0x609):this['instance'][_0x20762a(0x387)],_0x457d4c=await this[_0x20762a(0x2ea)][_0x20762a(0x59a)][_0x20762a(0x1a0)]({'where':{'name':_0x477aab}},_0x12ba6e);if(!_0x457d4c)throw new m(_0x20762a(0x46f));if(_0x40ad12!==ee&&_0x457d4c?.[_0x20762a(0x609)]===_0x20762a(0x4a1)&&_0x457d4c?.[_0x20762a(0x293)]!==this['instance']['wuid'])throw new m(_0x20762a(0x22f));if(_0x457d4c&&_0x457d4c[_0x20762a(0x3f9)]&&_0x457d4c[_0x20762a(0x3f9)][_0x20762a(0x2e0)]>0x1){for(let _0x187a74 of _0x457d4c['shareOwners'])if(_0x187a74!==this[_0x20762a(0x6b9)]['wuid']){let _0x22b9fa=await this['repository'][_0x20762a(0x59a)][_0x20762a(0x1a0)]({'where':{'sharePass':_0x457d4c['sharePass']}},_0x187a74);_0x22b9fa&&(_0x22b9fa[_0x20762a(0x3f9)]=_0x22b9fa[_0x20762a(0x3f9)][_0x20762a(0x186)](_0x56b0dc=>_0x56b0dc!==_0x457d4c['owner']),await this['repository'][_0x20762a(0x59a)][_0x20762a(0x36b)](_0x22b9fa[_0x20762a(0x588)],{'shareOwners':_0x22b9fa[_0x20762a(0x3f9)],'global':'false'},_0x187a74));}}return await this['repository'][_0x20762a(0x59a)][_0x20762a(0x22a)]({'where':{'name':_0x477aab}},_0x12ba6e);}catch(_0x4235bc){return this[_0x20762a(0x433)]['error'](this[_0x20762a(0x643)]+'\x20('+this['instance'][_0x20762a(0x387)]+_0x20762a(0x68f)+(_0x4235bc instanceof Error?_0x4235bc[_0x20762a(0x180)]:JSON['stringify'](_0x4235bc,null,0x2))),{'message':_0x20762a(0x786)+_0x4235bc[_0x20762a(0x180)]};}}async[a0_0x349dbc(0x5a5)](_0x388438,_0x4e057d){const _0x100ec6=a0_0x349dbc;try{this['logger'][_0x100ec6(0x3b4)](this[_0x100ec6(0x643)]+'\x20('+this[_0x100ec6(0x6b9)][_0x100ec6(0x387)]+_0x100ec6(0x22d));let _0x4119bf=_0x4e057d?.[_0x100ec6(0x349)]()==='true'?_0x100ec6(0x609):this[_0x100ec6(0x6b9)]['wuid'],_0x57ca03=await this['repository'][_0x100ec6(0x59a)][_0x100ec6(0x1a0)]({'where':{'name':_0x388438}},_0x4119bf);if(!_0x57ca03)throw new Error(_0x100ec6(0x45b));if(!this[_0x100ec6(0x11b)]&&(await this['getAutomateSystem'](),!this[_0x100ec6(0x11b)]))return null;let _0x2abfd4=this[_0x100ec6(0x11b)]?.[_0x100ec6(0x731)][_0x100ec6(0x568)](_0x226ba5=>_0x226ba5[_0x100ec6(0x246)]),_0x467e7b=[_0x100ec6(0x531),_0x100ec6(0x2df),'email','cpf','status',_0x100ec6(0x125),_0x100ec6(0x446),_0x100ec6(0xc9),_0x100ec6(0x3c6)];_0x57ca03['variables']=_0x57ca03[_0x100ec6(0x764)][_0x100ec6(0x186)](_0x184074=>!(_0x184074[_0x100ec6(0x6aa)]==='leadInfo'||_0x184074[_0x100ec6(0x305)])),_0x467e7b[_0x100ec6(0x79a)](_0x3abee5=>{const _0x57f7dd=_0x100ec6;_0x57ca03[_0x57f7dd(0x764)]['push']({'folder':_0x57f7dd(0x305),'name':_0x3abee5,'value':'','doc':'','leadInfo':!0x0});}),_0x2abfd4[_0x100ec6(0x79a)](_0x17d850=>{const _0x3dc259=_0x100ec6;let _0x24e4ac=_0x57ca03['variables'][_0x3dc259(0x16f)](_0x5e30b7=>_0x5e30b7[_0x3dc259(0x246)]===_0x17d850);_0x24e4ac===-0x1?_0x57ca03['variables'][_0x3dc259(0x3fd)]({'folder':_0x3dc259(0x305),'name':_0x17d850,'value':'','doc':'','leadInfo':!0x0}):(_0x57ca03[_0x3dc259(0x764)][_0x24e4ac][_0x3dc259(0x6aa)]='leadInfo',_0x57ca03['variables'][_0x24e4ac][_0x3dc259(0x305)]=!0x0);}),_0x57ca03[_0x100ec6(0x6bd)]&&_0x57ca03['blocks'][_0x100ec6(0x2e0)]>0x0&&_0x57ca03[_0x100ec6(0x6bd)][_0x100ec6(0x79a)](_0x173043=>{const _0x294528=_0x100ec6;_0x173043[_0x294528(0x714)]&&_0x173043[_0x294528(0x57a)]&&_0x173043['groupId']===_0x173043[_0x294528(0x57a)]&&(_0x173043['next_groupId']=null);});let _0x3210d7=await this[_0x100ec6(0x2ea)]['flow']['updateOne'](_0x57ca03['_id'],_0x57ca03,_0x4119bf);if(!_0x3210d7)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3210d7;}catch(_0x210341){let _0x682a3c=_0x100ec6(0x26b),_0x2353f5=_0x210341 instanceof Error?_0x210341[_0x100ec6(0x180)]:typeof _0x210341=='object'?JSON[_0x100ec6(0x750)](_0x210341):_0x210341,_0x48a2c3=_0x682a3c+':\x20'+_0x2353f5;throw this[_0x100ec6(0x433)]['error'](this['instanceName']+'\x20('+this[_0x100ec6(0x6b9)]['wuid']+'):\x20'+_0x48a2c3),new m(_0x48a2c3);}}async[a0_0x349dbc(0x36a)](){const _0x224e69=a0_0x349dbc;try{this[_0x224e69(0x433)][_0x224e69(0x3b4)](this[_0x224e69(0x643)]+'\x20('+this[_0x224e69(0x6b9)][_0x224e69(0x387)]+_0x224e69(0x153)),await this[_0x224e69(0x2ea)][_0x224e69(0x59a)][_0x224e69(0x7a1)](this['instance'][_0x224e69(0x387)]);let _0xc42cc7=await this['repository'][_0x224e69(0x59a)]['findAll']({'where':{}},this[_0x224e69(0x6b9)][_0x224e69(0x387)]),_0x38b262=await this[_0x224e69(0x2ea)][_0x224e69(0x59a)][_0x224e69(0x5d6)]({'where':{}},_0x224e69(0x609));return _0xc42cc7[_0x224e69(0x283)](_0x38b262);}catch(_0x45081b){return this[_0x224e69(0x433)]['error'](this[_0x224e69(0x643)]+'\x20('+this[_0x224e69(0x6b9)]['wuid']+_0x224e69(0x6e4)+(_0x45081b instanceof Error?_0x45081b[_0x224e69(0x180)]:JSON[_0x224e69(0x750)](_0x45081b,null,0x2))),{'message':_0x224e69(0x4b8)+_0x45081b[_0x224e69(0x180)]};}}async[a0_0x349dbc(0x4de)](_0x3b6e82,_0x1fc60c){const _0x19e3ff=a0_0x349dbc;try{this[_0x19e3ff(0x433)][_0x19e3ff(0x3b4)](this[_0x19e3ff(0x643)]+'\x20('+this[_0x19e3ff(0x6b9)][_0x19e3ff(0x387)]+'):\x20Alterando\x20fluxo...');let _0x54129e=_0x3b6e82?.[_0x19e3ff(0x609)]?.['trim']()===_0x19e3ff(0x4a1)?_0x19e3ff(0x609):this['instance'][_0x19e3ff(0x387)],_0x1d7559=await this[_0x19e3ff(0x2ea)][_0x19e3ff(0x59a)][_0x19e3ff(0x1a0)]({'where':{'name':_0x3b6e82[_0x19e3ff(0x246)]}},_0x54129e);if(!_0x1d7559)return{'message':_0x19e3ff(0x177)};if(_0x1fc60c!==ee&&_0x1d7559?.['global']===_0x19e3ff(0x4a1)&&_0x1d7559?.['owner']!==this[_0x19e3ff(0x6b9)][_0x19e3ff(0x387)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');_0x1d7559?.[_0x19e3ff(0x609)]===_0x19e3ff(0x4e3)&&(_0x3b6e82={'default':_0x3b6e82[_0x19e3ff(0x231)],'minutesToClose':_0x3b6e82['minutesToClose'],'readMessages':_0x3b6e82[_0x19e3ff(0x5c0)],'testingWith':_0x3b6e82[_0x19e3ff(0x46d)],'startCommandWord':_0x3b6e82[_0x19e3ff(0x3cf)]}),_0x3b6e82['default']===!0x0&&_0x1d7559?.[_0x19e3ff(0x609)]!==_0x19e3ff(0x4a1)&&await this[_0x19e3ff(0x2ea)][_0x19e3ff(0x59a)]['updateMany']({},{'default':!0x1},_0x54129e),delete _0x3b6e82[_0x19e3ff(0x3f9)],delete _0x3b6e82[_0x19e3ff(0x73a)],delete _0x3b6e82[_0x19e3ff(0x609)];let _0x4b71d2=await this[_0x19e3ff(0x2ea)][_0x19e3ff(0x59a)][_0x19e3ff(0x36b)](_0x1d7559[_0x19e3ff(0x588)],_0x3b6e82,_0x54129e);return _0x4b71d2&&_0x4b71d2[_0x19e3ff(0x3f9)]&&_0x4b71d2['shareOwners'][_0x19e3ff(0x2e0)]>0x1&&_0x4b71d2[_0x19e3ff(0x609)]!==_0x19e3ff(0x4e3)&&this[_0x19e3ff(0x674)](_0x4b71d2['_id'],_0x54129e),_0x4b71d2;}catch(_0x380594){let _0x899802=_0x19e3ff(0x570),_0x4aa1f1=_0x380594 instanceof Error?_0x380594[_0x19e3ff(0x180)]:typeof _0x380594==_0x19e3ff(0x57f)?JSON[_0x19e3ff(0x750)](_0x380594):_0x380594,_0x1adf77=_0x899802+':\x20'+_0x4aa1f1;throw this['logger'][_0x19e3ff(0x552)](this[_0x19e3ff(0x643)]+'\x20('+this[_0x19e3ff(0x6b9)]['wuid']+_0x19e3ff(0x56b)+_0x1adf77),new m(_0x1adf77);}}async['editFlowBlock'](_0x1f6ed2,_0xd81e92){const _0x41f6d3=a0_0x349dbc;try{this[_0x41f6d3(0x433)]['verbose'](this[_0x41f6d3(0x643)]+'\x20('+this[_0x41f6d3(0x6b9)]['wuid']+_0x41f6d3(0x388));let _0x1086ee=_0x1f6ed2?.[_0x41f6d3(0x609)]?.['trim']()==='true'?_0x41f6d3(0x609):this[_0x41f6d3(0x6b9)][_0x41f6d3(0x387)],_0x4845a9=await this[_0x41f6d3(0x2ea)][_0x41f6d3(0x59a)][_0x41f6d3(0x1a0)]({'where':{'name':_0x1f6ed2[_0x41f6d3(0x246)]}},_0x1086ee);if(_0x4845a9||this[_0x41f6d3(0x2b1)](_0x41f6d3(0x45b)),_0x4845a9?.['global']===_0x41f6d3(0x4e3))throw new m(_0x41f6d3(0x5ab));if(_0xd81e92!==ee&&_0x4845a9?.['global']===_0x41f6d3(0x4a1)&&_0x4845a9?.[_0x41f6d3(0x293)]!==this[_0x41f6d3(0x6b9)][_0x41f6d3(0x387)])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let {block:_0x42a9d7}=_0x1f6ed2;_0x42a9d7?.[_0x41f6d3(0xe4)]?this[_0x41f6d3(0x1f4)](_0x4845a9,_0x1f6ed2):_0x42a9d7?.[_0x41f6d3(0x209)]?this[_0x41f6d3(0x38e)](_0x4845a9,_0x1f6ed2):_0x42a9d7[_0x41f6d3(0x588)]?await this[_0x41f6d3(0x7a0)](_0x4845a9,_0x1f6ed2):this[_0x41f6d3(0x46b)](_0x4845a9,_0x1f6ed2);let _0x352674=await this[_0x41f6d3(0x2ea)]['flow'][_0x41f6d3(0x36b)](_0x4845a9[_0x41f6d3(0x588)],_0x4845a9,_0x1086ee);if(_0x352674&&_0x352674[_0x41f6d3(0x3f9)]&&_0x352674['shareOwners'][_0x41f6d3(0x2e0)]>0x1&&this[_0x41f6d3(0x674)](_0x352674[_0x41f6d3(0x588)],this[_0x41f6d3(0x6b9)]['wuid']),!_0x352674)throw new Error(_0x41f6d3(0x4d6));return _0x352674;}catch(_0x4b18fb){this[_0x41f6d3(0x2b1)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x4b18fb['message']);}}async[a0_0x349dbc(0x1f4)](_0x244122,_0x26852d){const _0xd32c71=a0_0x349dbc;let _0x81ec8b=_0x26852d[_0xd32c71(0x357)][_0xd32c71(0x588)],_0x4c398b=_0x244122[_0xd32c71(0x6bd)][_0xd32c71(0x3e0)](_0x21b5fc=>_0x21b5fc[_0xd32c71(0x588)][_0xd32c71(0x343)]()===_0x81ec8b);if(!_0x4c398b){this['logger'][_0xd32c71(0x552)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xd32c71(0x63f)+_0x81ec8b+_0xd32c71(0x510));return;}this[_0xd32c71(0x433)][_0xd32c71(0x3b4)](this[_0xd32c71(0x643)]+'\x20('+this[_0xd32c71(0x6b9)]['wuid']+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON['stringify'](_0x4c398b));let _0x14fa12=JSON[_0xd32c71(0xcc)](JSON['stringify'](_0x4c398b));_0x14fa12[_0xd32c71(0x588)]=new re[(_0xd32c71(0x231))][(_0xd32c71(0x56f))][(_0xd32c71(0x4b2))](),this['logger'][_0xd32c71(0x3b4)](this[_0xd32c71(0x643)]+'\x20('+this['instance'][_0xd32c71(0x387)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0xd32c71(0x750)](_0x14fa12)),_0x244122[_0xd32c71(0x6bd)][_0xd32c71(0x3fd)](_0x14fa12),this[_0xd32c71(0x2b7)](_0x244122[_0xd32c71(0x6bd)],_0x14fa12[_0xd32c71(0x714)]);}[a0_0x349dbc(0x2b1)](_0x12f730){const _0x1b8e1b=a0_0x349dbc;throw this['logger'][_0x1b8e1b(0x552)](this[_0x1b8e1b(0x643)]+'\x20('+this[_0x1b8e1b(0x6b9)][_0x1b8e1b(0x387)]+'):\x20'+_0x12f730),new m(_0x12f730);}[a0_0x349dbc(0x38e)](_0x5e1c50,_0x55c5d0){const _0x1226d9=a0_0x349dbc;let {block:_0x33a203}=_0x55c5d0;if(_0x33a203[_0x1226d9(0x3cc)]==='start'){this[_0x1226d9(0x2b1)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x33a203[_0x1226d9(0x588)]){this['throwAndLogError'](_0x1226d9(0x708));return;}let _0xd6a179=_0x5e1c50[_0x1226d9(0x6bd)][_0x1226d9(0x3e0)](_0x3e1c02=>_0x3e1c02[_0x1226d9(0x588)][_0x1226d9(0x343)]()===_0x55c5d0[_0x1226d9(0x357)]['_id'][_0x1226d9(0x343)]());if(!_0xd6a179){this['throwAndLogError'](_0x1226d9(0x22b)+_0x33a203['_id']+_0x1226d9(0x338));return;}_0x5e1c50[_0x1226d9(0x6bd)]=_0x5e1c50[_0x1226d9(0x6bd)][_0x1226d9(0x186)](_0x783e41=>_0x783e41[_0x1226d9(0x588)][_0x1226d9(0x343)]()!==_0x55c5d0[_0x1226d9(0x357)][_0x1226d9(0x588)][_0x1226d9(0x343)]()),_0x5e1c50[_0x1226d9(0x33d)]=_0x5e1c50[_0x1226d9(0x33d)]['filter'](_0x213ab8=>_0x213ab8[_0x1226d9(0x2ee)]!==_0x33a203[_0x1226d9(0x588)][_0x1226d9(0x343)]()),_0x5e1c50['varedits']=_0x5e1c50['varedits'][_0x1226d9(0x186)](_0x18530a=>_0x18530a[_0x1226d9(0x2ee)]!==_0x33a203[_0x1226d9(0x588)][_0x1226d9(0x343)]()),_0x5e1c50[_0x1226d9(0xe6)]=_0x5e1c50[_0x1226d9(0xe6)][_0x1226d9(0x186)](_0x3fbef4=>_0x3fbef4[_0x1226d9(0x2ee)]!==_0x33a203['_id']['toString']()),this[_0x1226d9(0x2b7)](_0x5e1c50['blocks'],_0xd6a179[_0x1226d9(0x714)]);}async['updateBlock'](_0x277bf4,_0x2a9134){const _0x3a1271=a0_0x349dbc;let _0x50b72a=_0x277bf4[_0x3a1271(0x6bd)]['findIndex'](_0x1ffbe6=>_0x1ffbe6[_0x3a1271(0x588)][_0x3a1271(0x343)]()===_0x2a9134[_0x3a1271(0x357)][_0x3a1271(0x588)][_0x3a1271(0x343)]());if(this[_0x3a1271(0x433)][_0x3a1271(0x3b4)](this[_0x3a1271(0x643)]+'\x20('+this[_0x3a1271(0x6b9)][_0x3a1271(0x387)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x50b72a),_0x50b72a===-0x1){this[_0x3a1271(0x433)][_0x3a1271(0x3b4)](_0x3a1271(0x22b)+_0x2a9134[_0x3a1271(0x357)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x277bf4['blocks'][_0x50b72a]['type']===_0x3a1271(0xdc)){let _0x2ff975=Object['keys'](_0x2a9134[_0x3a1271(0x357)]);if(_0x2ff975[_0x3a1271(0x2e0)]>0x2||_0x2ff975[_0x3a1271(0x2e0)]===0x2&&!_0x2ff975[_0x3a1271(0x12d)](_0x3a1271(0x57a))){this['throwAndLogError'](_0x3a1271(0x248));return;}}let _0x495bcd=_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a]['groupId'];for(let _0x16e881 in _0x2a9134[_0x3a1271(0x357)])_0x2a9134[_0x3a1271(0x357)][_0x3a1271(0x5c4)](_0x16e881)&&(_0x277bf4['blocks'][_0x50b72a][_0x16e881]=_0x2a9134['block'][_0x16e881]);if(this[_0x3a1271(0x433)]['verbose'](this['instanceName']+'\x20('+this[_0x3a1271(0x6b9)][_0x3a1271(0x387)]+_0x3a1271(0xda)+JSON[_0x3a1271(0x750)](_0x277bf4['blocks'][_0x50b72a])),_0x277bf4['blocks'][_0x50b72a][_0x3a1271(0x29a)]&&'header'in _0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)]){this['logger'][_0x3a1271(0x3b4)](this['instanceName']+'\x20('+this[_0x3a1271(0x6b9)][_0x3a1271(0x387)]+_0x3a1271(0x1f7));let _0x1c99f8=JSON[_0x3a1271(0x750)](_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)]['header'],null,0x1);_0x1c99f8['length']>0x2&&(_0x1c99f8=_0x1c99f8[_0x3a1271(0x3f2)](0x1,_0x1c99f8[_0x3a1271(0x2e0)]-0x1)['trim']()),_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)][_0x3a1271(0x4c5)]=_0x1c99f8;}if(_0x277bf4['blocks'][_0x50b72a][_0x3a1271(0x29a)]&&_0x3a1271(0x306)in _0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)]&&!(_0x3a1271(0x17a)in _0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)])){this[_0x3a1271(0x433)][_0x3a1271(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x3a1271(0x387)]+_0x3a1271(0x468)),_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)][_0x3a1271(0x61e)]=!0x1;let _0x4892fc=JSON[_0x3a1271(0x750)](_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a]['apirequest'][_0x3a1271(0x306)],null,0x2);_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)]['bodyString']=_0x4892fc;}if(_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)]&&_0x3a1271(0x17a)in _0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)]){_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)][_0x3a1271(0x61e)]=!0x1;let _0xea0181=_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)][_0x3a1271(0x17a)],_0x4be991=this[_0x3a1271(0x424)](_0xea0181);_0x277bf4['blocks'][_0x50b72a][_0x3a1271(0x29a)][_0x3a1271(0x17a)]=_0x4be991[_0x3a1271(0x3a1)],_0x277bf4[_0x3a1271(0x6bd)][_0x50b72a][_0x3a1271(0x29a)]['bodyStringErrorParse']=_0x4be991[_0x3a1271(0x552)];}let _0x3e879e=_0x277bf4['blocks'][_0x50b72a][_0x3a1271(0x714)];_0x495bcd!==_0x3e879e?(this[_0x3a1271(0x2b7)](_0x277bf4['blocks'],_0x495bcd),this[_0x3a1271(0x2b7)](_0x277bf4[_0x3a1271(0x6bd)],_0x3e879e)):this[_0x3a1271(0x2b7)](_0x277bf4[_0x3a1271(0x6bd)],_0x495bcd);}[a0_0x349dbc(0x424)](_0x5619a7){const _0x4b57eb=a0_0x349dbc;let _0x5d3c43='\u205f',_0x4dcfe7=!0x1,_0x3b7946='';for(let _0x2598f2=0x0;_0x2598f2<_0x5619a7[_0x4b57eb(0x2e0)];_0x2598f2++){let _0x35962e=_0x5619a7[_0x2598f2];_0x35962e==='\x22'&&(_0x2598f2===0x0||_0x5619a7[_0x2598f2-0x1]!=='\x5c')&&(_0x4dcfe7=!_0x4dcfe7),!(!_0x4dcfe7&&(_0x35962e==='\x0a'||_0x35962e==='\x20'||_0x35962e===_0x5d3c43))&&(_0x3b7946+=_0x35962e);}let _0x26b53a={},_0x4a2b1b=9876543210.1234,_0x1183e5=_0x3b7946[_0x4b57eb(0x1b7)](/\{\{([^}]+)\}\}/g,_0x5bb4f5=>{let _0x1d9483=_0x5bb4f5,_0x301f5e=''+_0x4a2b1b;return _0x26b53a[_0x301f5e]=_0x1d9483,_0x4a2b1b+=0.0001,_0x301f5e;}),_0x338979='',_0x49e7fa=!0x1;try{let _0x5bcba4=JSON[_0x4b57eb(0xcc)](_0x1183e5);_0x338979=JSON[_0x4b57eb(0x750)](_0x5bcba4,null,0x2),_0x338979=_0x338979[_0x4b57eb(0x1b7)](/\n( +)/g,(_0x3b4fe1,_0x463324)=>{const _0x4e7411=_0x4b57eb;let _0x255717=_0x463324[_0x4e7411(0x2e0)];return'\x0a'+_0x5d3c43[_0x4e7411(0x114)](_0x255717*0x2);}),_0x338979=_0x338979['replace'](/(\d{10,}\.\d+)/g,_0x75c570=>_0x26b53a[_0x75c570]||_0x75c570);}catch(_0xe14925){console[_0x4b57eb(0x552)](_0x4b57eb(0x5eb),_0xe14925),_0x338979=_0x5619a7,_0x49e7fa=!0x0;}return{'result':_0x338979,'error':_0x49e7fa};}[a0_0x349dbc(0x46b)](_0x483c71,_0x53f0c7){const _0x3bd6ff=a0_0x349dbc;if(_0x53f0c7['block'][_0x3bd6ff(0x3cc)]===_0x3bd6ff(0xdc)){this[_0x3bd6ff(0x2b1)](_0x3bd6ff(0x578));return;}if(_0x53f0c7[_0x3bd6ff(0x357)][_0x3bd6ff(0x29a)]&&_0x3bd6ff(0xbe)in _0x53f0c7['block'][_0x3bd6ff(0x29a)]){this[_0x3bd6ff(0x433)][_0x3bd6ff(0x3b4)](this[_0x3bd6ff(0x643)]+'\x20('+this[_0x3bd6ff(0x6b9)][_0x3bd6ff(0x387)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x479a44=JSON[_0x3bd6ff(0x750)](_0x53f0c7[_0x3bd6ff(0x357)][_0x3bd6ff(0x29a)][_0x3bd6ff(0xbe)],null,0x1);_0x479a44[_0x3bd6ff(0x2e0)]>0x2&&(_0x479a44=_0x479a44['substring'](0x1,_0x479a44['length']-0x1)[_0x3bd6ff(0x349)]()),_0x53f0c7[_0x3bd6ff(0x357)][_0x3bd6ff(0x29a)][_0x3bd6ff(0x4c5)]=_0x479a44;}_0x53f0c7[_0x3bd6ff(0x357)][_0x3bd6ff(0x29a)]&&_0x3bd6ff(0x306)in _0x53f0c7[_0x3bd6ff(0x357)][_0x3bd6ff(0x29a)]&&(this[_0x3bd6ff(0x433)][_0x3bd6ff(0x3b4)](this[_0x3bd6ff(0x643)]+'\x20('+this[_0x3bd6ff(0x6b9)][_0x3bd6ff(0x387)]+_0x3bd6ff(0x468)),_0x53f0c7['block'][_0x3bd6ff(0x29a)][_0x3bd6ff(0x17a)]=JSON['stringify'](_0x53f0c7[_0x3bd6ff(0x357)][_0x3bd6ff(0x29a)]['body'],null,0x1)[_0x3bd6ff(0x349)]()),_0x483c71[_0x3bd6ff(0x6bd)][_0x3bd6ff(0x3fd)](_0x53f0c7[_0x3bd6ff(0x357)]),this[_0x3bd6ff(0x2b7)](_0x483c71[_0x3bd6ff(0x6bd)],_0x53f0c7[_0x3bd6ff(0x357)][_0x3bd6ff(0x714)]);}['reorderBlocks'](_0x3b3b79,_0x4dc55f){const _0x29d560=a0_0x349dbc;let _0x313c4d=_0x3b3b79['filter'](_0x5136f5=>_0x5136f5['groupId']===_0x4dc55f);_0x313c4d[_0x29d560(0x689)]((_0x11d660,_0x1f5fb0)=>_0x11d660[_0x29d560(0x1a1)]-_0x1f5fb0[_0x29d560(0x1a1)]),_0x313c4d[_0x29d560(0x79a)]((_0x4c4721,_0x30372d)=>_0x4c4721[_0x29d560(0x1a1)]=_0x30372d+0x1);}async['editFlowReply'](_0x41b512,_0x276470){const _0x1982b6=a0_0x349dbc;try{this['logger'][_0x1982b6(0x3b4)](this[_0x1982b6(0x643)]+'\x20('+this[_0x1982b6(0x6b9)][_0x1982b6(0x387)]+_0x1982b6(0x321));let _0x324e2c=_0x41b512?.[_0x1982b6(0x609)][_0x1982b6(0x349)]()===_0x1982b6(0x4a1)?_0x1982b6(0x609):this[_0x1982b6(0x6b9)][_0x1982b6(0x387)];if(!_0x41b512||!_0x41b512['replyOption']){this[_0x1982b6(0x2b1)]('Data\x20inválida\x20fornecida');return;}let _0x43f649=await this[_0x1982b6(0x2ea)][_0x1982b6(0x59a)][_0x1982b6(0x1a0)]({'where':{'name':_0x41b512[_0x1982b6(0x246)]}},_0x324e2c);if(_0x43f649||this['throwAndLogError'](_0x1982b6(0x45b)),_0x43f649?.[_0x1982b6(0x609)]===_0x1982b6(0x4e3))throw new m(_0x1982b6(0x5ab));if(_0x276470!==ee&&_0x43f649?.['global']==='true'&&_0x43f649?.[_0x1982b6(0x293)]!==this['instance'][_0x1982b6(0x387)])throw new m(_0x1982b6(0x412));let {replyOption:_0x56bb84}=_0x41b512;_0x56bb84?.[_0x1982b6(0x209)]?(this[_0x1982b6(0x173)](_0x43f649,_0x41b512),this[_0x1982b6(0x307)](_0x43f649[_0x1982b6(0xe6)],_0x41b512['replyOption'][_0x1982b6(0x2ee)])):_0x56bb84['_id']?(await this['updateReplyOption'](_0x43f649,_0x41b512),this[_0x1982b6(0x307)](_0x43f649[_0x1982b6(0xe6)],_0x41b512[_0x1982b6(0x774)][_0x1982b6(0x2ee)])):(this[_0x1982b6(0x56a)](_0x43f649,_0x41b512),this[_0x1982b6(0x307)](_0x43f649['replyOptions'],_0x41b512[_0x1982b6(0x774)][_0x1982b6(0x2ee)]));let _0x554555=await this[_0x1982b6(0x2ea)][_0x1982b6(0x59a)][_0x1982b6(0x36b)](_0x43f649[_0x1982b6(0x588)],_0x43f649,_0x324e2c);if(_0x554555&&_0x554555['shareOwners']&&_0x554555[_0x1982b6(0x3f9)][_0x1982b6(0x2e0)]>0x1&&_0x554555[_0x1982b6(0x609)]!==_0x1982b6(0x4e3)&&this[_0x1982b6(0x674)](_0x554555[_0x1982b6(0x588)],_0x324e2c),!_0x554555)throw new Error(_0x1982b6(0x4d6));return _0x554555;}catch(_0x406ed9){this[_0x1982b6(0x2b1)](_0x1982b6(0x156)+_0x406ed9);}}[a0_0x349dbc(0x307)](_0x41c283,_0x24660d){const _0x206abd=a0_0x349dbc;_0x41c283['forEach'](_0x4c1ae9=>{const _0x45a4e0=a0_0x5444;_0x4c1ae9[_0x45a4e0(0x2ee)]===_0x24660d&&_0x4c1ae9[_0x45a4e0(0x1a1)]===void 0x0&&(_0x4c1ae9[_0x45a4e0(0x1a1)]=0x270f);});let _0x3f517e=_0x41c283['filter'](_0x50882a=>_0x50882a['blockId']===_0x24660d);_0x3f517e[_0x206abd(0x689)]((_0x16d4fd,_0xe6b356)=>_0x16d4fd[_0x206abd(0x1a1)]-_0xe6b356['order']),_0x3f517e[_0x206abd(0x79a)]((_0x8f1bfc,_0x220a69)=>{const _0x37c6a8=_0x206abd;_0x8f1bfc[_0x37c6a8(0x1a1)]=_0x220a69+0x1;}),_0x41c283['forEach'](_0x257e9b=>{const _0x2feadc=_0x206abd;if(_0x257e9b[_0x2feadc(0x2ee)]===_0x24660d){let _0x551c2c=_0x3f517e[_0x2feadc(0x3e0)](_0x19cba4=>_0x19cba4['_id']&&_0x257e9b['_id']&&_0x19cba4[_0x2feadc(0x588)]['toString']()===_0x257e9b[_0x2feadc(0x588)][_0x2feadc(0x343)]());_0x551c2c&&(_0x257e9b['order']=_0x551c2c['order']);}});}[a0_0x349dbc(0x173)](_0x227603,_0x5ef0bf){const _0x4246f3=a0_0x349dbc;let {replyOption:_0x391a51}=_0x5ef0bf;if(!_0x391a51[_0x4246f3(0x588)]){this[_0x4246f3(0x2b1)](_0x4246f3(0x589));return;}if(!_0x227603['replyOptions'][_0x4246f3(0x3e0)](_0x31e423=>_0x31e423['_id'][_0x4246f3(0x343)]()===_0x5ef0bf['replyOption']['_id']['toString']())){this[_0x4246f3(0x2b1)](_0x4246f3(0x189)+_0x391a51['_id']+_0x4246f3(0x338));return;}_0x227603[_0x4246f3(0xe6)]=_0x227603['replyOptions'][_0x4246f3(0x186)](_0x11d492=>_0x11d492['_id']['toString']()!==_0x5ef0bf[_0x4246f3(0x774)]['_id']['toString']());}async[a0_0x349dbc(0x276)](_0x455c2,_0x125c34){const _0x27bb3a=a0_0x349dbc;let _0x80b119=_0x455c2[_0x27bb3a(0xe6)]['findIndex'](_0x3d9881=>_0x3d9881[_0x27bb3a(0x588)][_0x27bb3a(0x343)]()===_0x125c34['replyOption'][_0x27bb3a(0x588)]['toString']());if(_0x80b119===-0x1){this['throwAndLogError'](_0x27bb3a(0x189)+_0x125c34['replyOption'][_0x27bb3a(0x588)]+_0x27bb3a(0x149));return;}for(let _0x20cad6 in _0x125c34['replyOption'])_0x125c34[_0x27bb3a(0x774)][_0x27bb3a(0x5c4)](_0x20cad6)&&(_0x455c2[_0x27bb3a(0xe6)][_0x80b119][_0x20cad6]=_0x125c34['replyOption'][_0x20cad6]);}[a0_0x349dbc(0x56a)](_0x5e94f6,_0x23aebc){const _0x2dca86=a0_0x349dbc;_0x5e94f6[_0x2dca86(0xe6)]['push'](_0x23aebc[_0x2dca86(0x774)]);}async[a0_0x349dbc(0x18f)](_0x37cf66,_0x211ec2){const _0x1888f9=a0_0x349dbc;let _0x140f69=_0x37cf66?.[_0x1888f9(0x609)][_0x1888f9(0x349)]()===_0x1888f9(0x4a1)?'global':this['instance'][_0x1888f9(0x387)];this[_0x1888f9(0x433)]['verbose'](this[_0x1888f9(0x643)]+'\x20('+this[_0x1888f9(0x6b9)][_0x1888f9(0x387)]+_0x1888f9(0x257)+_0x140f69+_0x1888f9(0x1a6)+_0x211ec2+_0x1888f9(0x665)+JSON[_0x1888f9(0x750)](_0x37cf66,null,0x2));try{this[_0x1888f9(0x433)][_0x1888f9(0x3b4)](this[_0x1888f9(0x643)]+'\x20('+this[_0x1888f9(0x6b9)][_0x1888f9(0x387)]+_0x1888f9(0x26e));let _0x9ed57b=await this[_0x1888f9(0x2ea)][_0x1888f9(0x59a)][_0x1888f9(0x1a0)]({'where':{'name':_0x37cf66[_0x1888f9(0x246)]}},_0x140f69);if(!_0x9ed57b)throw this['logger'][_0x1888f9(0x3b4)](this[_0x1888f9(0x643)]+'\x20('+this[_0x1888f9(0x6b9)][_0x1888f9(0x387)]+_0x1888f9(0xd3)),new Error('Flow\x20não\x20encontrado');if(_0x9ed57b?.[_0x1888f9(0x609)]===_0x1888f9(0x4e3))throw this[_0x1888f9(0x433)][_0x1888f9(0x3b4)](this[_0x1888f9(0x643)]+'\x20('+this[_0x1888f9(0x6b9)][_0x1888f9(0x387)]+_0x1888f9(0x729)),new m(_0x1888f9(0x326));if(_0x211ec2!==ee&&_0x9ed57b?.[_0x1888f9(0x609)]===_0x1888f9(0x4a1)&&_0x9ed57b?.[_0x1888f9(0x293)]!==this[_0x1888f9(0x6b9)][_0x1888f9(0x387)])throw this[_0x1888f9(0x433)][_0x1888f9(0x3b4)](this[_0x1888f9(0x643)]+'\x20('+this[_0x1888f9(0x6b9)][_0x1888f9(0x387)]+_0x1888f9(0x3d3)),new m(_0x1888f9(0x412));if(_0x37cf66[_0x1888f9(0x21c)]&&_0x37cf66[_0x1888f9(0x21c)]?.[_0x1888f9(0x209)]===!0x0){if(this[_0x1888f9(0x433)][_0x1888f9(0x3b4)](this[_0x1888f9(0x643)]+'\x20('+this['instance'][_0x1888f9(0x387)]+_0x1888f9(0x559)),_0x37cf66[_0x1888f9(0x21c)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x9ed57b['blocks'][_0x1888f9(0x76a)](_0x33befd=>_0x33befd['groupId'][_0x1888f9(0x343)]()===_0x37cf66[_0x1888f9(0x21c)][_0x1888f9(0x588)]))return this['logger']['verbose'](this[_0x1888f9(0x643)]+'\x20('+this['instance'][_0x1888f9(0x387)]+_0x1888f9(0x431)),{'message':_0x1888f9(0x503)};_0x9ed57b[_0x1888f9(0x286)]=_0x9ed57b[_0x1888f9(0x286)]['filter'](_0x1aaf80=>_0x1aaf80[_0x1888f9(0x588)][_0x1888f9(0x343)]()!==_0x37cf66[_0x1888f9(0x21c)][_0x1888f9(0x588)]);}else{if(_0x37cf66['group']){if(_0x37cf66[_0x1888f9(0x21c)]['default']===!0x0)return{'message':_0x1888f9(0x145)};if(_0x37cf66[_0x1888f9(0x21c)]['_id']){let _0x36bd49=_0x9ed57b['groups'][_0x1888f9(0x3e0)](_0xf40d1b=>_0xf40d1b[_0x1888f9(0x588)][_0x1888f9(0x343)]()===_0x37cf66['group'][_0x1888f9(0x588)]);_0x36bd49&&(_0x37cf66['group']['x']<0x0&&(_0x37cf66[_0x1888f9(0x21c)]['x']=0x0),_0x37cf66[_0x1888f9(0x21c)]['y']<0x0&&(_0x37cf66['group']['y']=0x0),Object[_0x1888f9(0x53c)](_0x36bd49,_0x37cf66[_0x1888f9(0x21c)]));}else _0x9ed57b[_0x1888f9(0x286)][_0x1888f9(0x3fd)](_0x37cf66['group']);}}let _0x592432=await this['repository'][_0x1888f9(0x59a)][_0x1888f9(0x36b)](_0x9ed57b[_0x1888f9(0x588)],_0x9ed57b,_0x140f69);if(_0x592432&&_0x592432[_0x1888f9(0x3f9)]&&_0x592432['shareOwners'][_0x1888f9(0x2e0)]>0x1&&_0x592432[_0x1888f9(0x609)]!==_0x1888f9(0x4e3)&&this[_0x1888f9(0x674)](_0x592432[_0x1888f9(0x588)],_0x140f69),!_0x592432)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x592432;}catch(_0x591085){let _0x532dca=_0x1888f9(0x5a2),_0x58bada=_0x591085 instanceof Error?_0x591085['message']:typeof _0x591085=='object'?JSON[_0x1888f9(0x750)](_0x591085):_0x591085,_0x56652c=_0x532dca+':\x20'+_0x58bada;throw this[_0x1888f9(0x433)][_0x1888f9(0x552)](this[_0x1888f9(0x643)]+'\x20('+this[_0x1888f9(0x6b9)][_0x1888f9(0x387)]+'):\x20'+_0x56652c),new m(_0x56652c);}}async['editFlowCondition'](_0x494159,_0xdac21f){const _0x3471a6=a0_0x349dbc;try{this['logger'][_0x3471a6(0x3b4)](this[_0x3471a6(0x643)]+'\x20('+this[_0x3471a6(0x6b9)][_0x3471a6(0x387)]+_0x3471a6(0xd4));let _0x1d35e7=_0x494159?.[_0x3471a6(0x609)][_0x3471a6(0x349)]()===_0x3471a6(0x4a1)?_0x3471a6(0x609):this[_0x3471a6(0x6b9)]['wuid'],_0x59958d=await this[_0x3471a6(0x2ea)]['flow'][_0x3471a6(0x1a0)]({'where':{'name':_0x494159[_0x3471a6(0x246)]}},_0x1d35e7);if(!_0x59958d)throw new Error('Flow\x20não\x20encontrado');if(_0x59958d?.[_0x3471a6(0x609)]===_0x3471a6(0x4e3))throw new m(_0x3471a6(0x5ab));if(_0xdac21f!==ee&&_0x59958d?.[_0x3471a6(0x609)]===_0x3471a6(0x4a1)&&_0x59958d?.[_0x3471a6(0x293)]!==this[_0x3471a6(0x6b9)][_0x3471a6(0x387)])throw new m(_0x3471a6(0x412));let _0x377e25=!0x1;if(_0x494159[_0x3471a6(0x14f)]?.['delete']===!0x0)_0x59958d['conditions']=_0x59958d[_0x3471a6(0x33d)]['filter'](_0x24329d=>_0x24329d&&_0x494159[_0x3471a6(0x14f)]&&_0x24329d[_0x3471a6(0x588)]&&_0x494159[_0x3471a6(0x14f)][_0x3471a6(0x588)]&&_0x24329d['_id']['toString']()!==_0x494159['condition'][_0x3471a6(0x588)][_0x3471a6(0x343)]()),_0x377e25=!0x0;else{let _0x5dfa1f=_0x59958d[_0x3471a6(0x33d)][_0x3471a6(0x3e0)](_0x56bb0b=>_0x56bb0b&&_0x494159[_0x3471a6(0x14f)]&&_0x56bb0b[_0x3471a6(0x588)]&&_0x494159[_0x3471a6(0x14f)][_0x3471a6(0x588)]&&_0x56bb0b[_0x3471a6(0x588)][_0x3471a6(0x343)]()===_0x494159[_0x3471a6(0x14f)][_0x3471a6(0x588)][_0x3471a6(0x343)]());_0x5dfa1f?(_0x377e25=_0x5dfa1f['order']!==_0x494159['condition']['order'],Object[_0x3471a6(0x53c)](_0x5dfa1f,_0x494159['condition'])):(_0x59958d['conditions']['push'](_0x494159['condition']),_0x377e25=!0x0);}if(_0x377e25){_0x59958d[_0x3471a6(0x33d)]['sort']((_0x2507a6,_0x2b472d)=>_0x2507a6[_0x3471a6(0x1a1)]>_0x2b472d[_0x3471a6(0x1a1)]?0x1:_0x2b472d[_0x3471a6(0x1a1)]>_0x2507a6['order']?-0x1:0x0);for(let _0x2ab38c=0x0;_0x2ab38c<_0x59958d[_0x3471a6(0x33d)]['length'];_0x2ab38c++)_0x59958d[_0x3471a6(0x33d)][_0x2ab38c][_0x3471a6(0x1a1)]=_0x2ab38c+0x1;_0x59958d[_0x3471a6(0x33d)]['length']>0x0&&(_0x59958d[_0x3471a6(0x33d)][0x0][_0x3471a6(0x6c0)]=_0x3471a6(0x5b9));}let _0x4d1666=await this[_0x3471a6(0x2ea)][_0x3471a6(0x59a)][_0x3471a6(0x36b)](_0x59958d[_0x3471a6(0x588)],_0x59958d,_0x1d35e7);if(_0x4d1666&&_0x4d1666[_0x3471a6(0x3f9)]&&_0x4d1666['shareOwners'][_0x3471a6(0x2e0)]>0x1&&_0x4d1666[_0x3471a6(0x609)]!=='sync'&&this[_0x3471a6(0x674)](_0x4d1666['_id'],_0x1d35e7),!_0x4d1666)throw new Error(_0x3471a6(0x4d6));return _0x4d1666;}catch(_0x4d703d){let _0x4d7afb='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x265455=_0x4d703d instanceof Error?_0x4d703d['message']:typeof _0x4d703d==_0x3471a6(0x57f)?JSON[_0x3471a6(0x750)](_0x4d703d):_0x4d703d,_0x2d7588=_0x4d7afb+':\x20'+_0x265455;throw this['logger'][_0x3471a6(0x552)](this[_0x3471a6(0x643)]+'\x20('+this[_0x3471a6(0x6b9)][_0x3471a6(0x387)]+'):\x20'+_0x2d7588),new m(_0x2d7588);}}async[a0_0x349dbc(0x141)](_0x2a72c1,_0x24af5a){const _0x563769=a0_0x349dbc;try{this[_0x563769(0x433)][_0x563769(0x3b4)](this[_0x563769(0x643)]+'\x20('+this['instance'][_0x563769(0x387)]+_0x563769(0x49b));let _0x56656f=_0x2a72c1?.[_0x563769(0x609)][_0x563769(0x349)]()===_0x563769(0x4a1)?_0x563769(0x609):this[_0x563769(0x6b9)][_0x563769(0x387)],_0x1ac041=await this[_0x563769(0x2ea)][_0x563769(0x59a)][_0x563769(0x1a0)]({'where':{'name':_0x2a72c1[_0x563769(0x246)]}},_0x56656f);if(!_0x1ac041)throw new Error('Flow\x20não\x20encontrado');if(_0x1ac041?.[_0x563769(0x609)]===_0x563769(0x4e3))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x24af5a!==ee&&_0x1ac041?.[_0x563769(0x609)]===_0x563769(0x4a1)&&_0x1ac041?.[_0x563769(0x293)]!==this[_0x563769(0x6b9)][_0x563769(0x387)])throw new m(_0x563769(0x412));let _0x18df0d=!0x1;if(_0x2a72c1[_0x563769(0x269)]?.['delete']===!0x0)_0x1ac041['varedits']=_0x1ac041['varedits'][_0x563769(0x186)](_0x214f5e=>_0x214f5e&&_0x2a72c1[_0x563769(0x269)]&&_0x214f5e[_0x563769(0x588)]&&_0x2a72c1[_0x563769(0x269)][_0x563769(0x588)]&&_0x214f5e['_id']['toString']()!==_0x2a72c1[_0x563769(0x269)][_0x563769(0x588)][_0x563769(0x343)]()),_0x18df0d=!0x0;else{let _0x411d84=_0x1ac041[_0x563769(0x5a4)][_0x563769(0x3e0)](_0xb9b232=>_0xb9b232&&_0x2a72c1['varedit']&&_0xb9b232['_id']&&_0x2a72c1[_0x563769(0x269)][_0x563769(0x588)]&&_0xb9b232[_0x563769(0x588)][_0x563769(0x343)]()===_0x2a72c1['varedit'][_0x563769(0x588)][_0x563769(0x343)]());_0x411d84?(_0x18df0d=_0x411d84[_0x563769(0x1a1)]!==_0x2a72c1[_0x563769(0x269)][_0x563769(0x1a1)],Object[_0x563769(0x53c)](_0x411d84,_0x2a72c1[_0x563769(0x269)])):(_0x1ac041[_0x563769(0x5a4)]['push'](_0x2a72c1[_0x563769(0x269)]),_0x18df0d=!0x0);}if(_0x18df0d){_0x1ac041['varedits'][_0x563769(0x689)]((_0x15b821,_0x362de7)=>_0x15b821[_0x563769(0x1a1)]>_0x362de7[_0x563769(0x1a1)]?0x1:_0x362de7[_0x563769(0x1a1)]>_0x15b821[_0x563769(0x1a1)]?-0x1:0x0);for(let _0x1a8e35=0x0;_0x1a8e35<_0x1ac041['varedits'][_0x563769(0x2e0)];_0x1a8e35++)_0x1ac041[_0x563769(0x5a4)][_0x1a8e35][_0x563769(0x1a1)]=_0x1a8e35+0x1;}let _0xe6eda8=await this[_0x563769(0x2ea)][_0x563769(0x59a)][_0x563769(0x36b)](_0x1ac041[_0x563769(0x588)],_0x1ac041,_0x56656f);if(_0xe6eda8&&_0xe6eda8[_0x563769(0x3f9)]&&_0xe6eda8['shareOwners'][_0x563769(0x2e0)]>0x1&&_0xe6eda8[_0x563769(0x609)]!=='sync'&&this[_0x563769(0x674)](_0xe6eda8[_0x563769(0x588)],_0x56656f),!_0xe6eda8)throw new Error(_0x563769(0x4d6));return _0xe6eda8;}catch(_0x5a7805){let _0x9804c5=_0x563769(0x199),_0x59d5ea=_0x5a7805 instanceof Error?_0x5a7805['message']:typeof _0x5a7805=='object'?JSON[_0x563769(0x750)](_0x5a7805):_0x5a7805,_0x3e424c=_0x9804c5+':\x20'+_0x59d5ea;throw this[_0x563769(0x433)][_0x563769(0x552)](this[_0x563769(0x643)]+'\x20('+this[_0x563769(0x6b9)][_0x563769(0x387)]+_0x563769(0x56b)+_0x3e424c),new m(_0x3e424c);}}async[a0_0x349dbc(0x126)](_0x1866c9,_0x2fe891){const _0x57253b=a0_0x349dbc;try{this[_0x57253b(0x433)][_0x57253b(0x3b4)](this[_0x57253b(0x643)]+'\x20('+this['instance']['wuid']+_0x57253b(0x206));let _0x19d0c9=_0x1866c9?.[_0x57253b(0x609)][_0x57253b(0x349)]()==='true'?_0x57253b(0x609):this[_0x57253b(0x6b9)][_0x57253b(0x387)],_0x17d56c=await this[_0x57253b(0x2ea)][_0x57253b(0x59a)][_0x57253b(0x1a0)]({'where':{'name':_0x1866c9[_0x57253b(0x246)]}},_0x19d0c9);if(!_0x17d56c)throw new Error(_0x57253b(0x45b));if(_0x17d56c?.[_0x57253b(0x609)]===_0x57253b(0x4e3))throw new m(_0x57253b(0x5ab));if(_0x2fe891!==ee&&_0x17d56c?.['global']===_0x57253b(0x4a1)&&_0x17d56c?.['owner']!==this['instance'][_0x57253b(0x387)])throw new m(_0x57253b(0x412));if(_0x2fe891!==ee&&_0x17d56c?.[_0x57253b(0x609)]===_0x57253b(0x4a1)&&_0x17d56c?.[_0x57253b(0x293)]!==this[_0x57253b(0x6b9)][_0x57253b(0x387)])throw new m(_0x57253b(0x412));_0x1866c9[_0x57253b(0x325)][_0x57253b(0x246)]=_0x1866c9['variable'][_0x57253b(0x246)][_0x57253b(0x349)](),_0x1866c9[_0x57253b(0x325)][_0x57253b(0x246)]['startsWith']('_')&&(_0x1866c9['variable']['name']=_0x1866c9[_0x57253b(0x325)][_0x57253b(0x246)][_0x57253b(0x3f2)](0x1)),_0x1866c9[_0x57253b(0x325)][_0x57253b(0x246)]=_0x1866c9['variable'][_0x57253b(0x246)][_0x57253b(0x349)]();let _0x108539=_0x17d56c['variables'][_0x57253b(0x3e0)](_0x525226=>_0x525226[_0x57253b(0x246)]===_0x1866c9['variable'][_0x57253b(0x246)]);if(_0x108539?.['leadInfo']===!0x0)throw new Error(_0x57253b(0x42e));if(_0x1866c9[_0x57253b(0x325)]?.[_0x57253b(0x209)]===!0x0){if(!_0x108539)return{'message':_0x57253b(0x66f)};_0x17d56c[_0x57253b(0x764)]=_0x17d56c[_0x57253b(0x764)][_0x57253b(0x186)](_0x2dda60=>_0x2dda60[_0x57253b(0x246)]!==_0x1866c9[_0x57253b(0x325)][_0x57253b(0x246)]);}else _0x108539?Object['assign'](_0x108539,_0x1866c9[_0x57253b(0x325)]):_0x17d56c[_0x57253b(0x764)][_0x57253b(0x3fd)](_0x1866c9[_0x57253b(0x325)]);let _0x42ba90=await this[_0x57253b(0x2ea)][_0x57253b(0x59a)][_0x57253b(0x36b)](_0x17d56c['_id'],_0x17d56c,_0x19d0c9);if(_0x42ba90&&_0x42ba90[_0x57253b(0x3f9)]&&_0x42ba90['shareOwners'][_0x57253b(0x2e0)]>0x1&&_0x42ba90[_0x57253b(0x609)]!=='sync'&&this[_0x57253b(0x674)](_0x42ba90['_id'],_0x19d0c9),!_0x42ba90)throw new Error(_0x57253b(0x4d6));return _0x42ba90;}catch(_0x3b54e7){let _0x15ec45='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x34b9d8=_0x3b54e7 instanceof Error?_0x3b54e7['message']:typeof _0x3b54e7==_0x57253b(0x57f)?JSON[_0x57253b(0x750)](_0x3b54e7):_0x3b54e7,_0xcce753=_0x15ec45+':\x20'+_0x34b9d8;throw this[_0x57253b(0x433)][_0x57253b(0x552)](this['instanceName']+'\x20('+this[_0x57253b(0x6b9)][_0x57253b(0x387)]+_0x57253b(0x56b)+_0xcce753),new m(_0xcce753);}}async['startFlow'](_0x301e25){const _0x50d9ac=a0_0x349dbc;let _0x9a9542=null;try{if(!this[_0x50d9ac(0x11b)]?.[_0x50d9ac(0x591)][_0x50d9ac(0x3eb)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x50d9ac(0x433)][_0x50d9ac(0x3b4)](this[_0x50d9ac(0x643)]+'\x20('+this[_0x50d9ac(0x6b9)][_0x50d9ac(0x387)]+_0x50d9ac(0x704));let _0x557fa1=(await this[_0x50d9ac(0x102)]({'numbers':[_0x301e25[_0x50d9ac(0x185)]]}))[0x0];if(!_0x557fa1[_0x50d9ac(0x378)]&&!(0x0,f[_0x50d9ac(0xde)])(_0x557fa1['jid'])&&!_0x557fa1['jid'][_0x50d9ac(0x12d)](_0x50d9ac(0x408)))throw _0x9a9542=JSON[_0x50d9ac(0x750)](_0x557fa1,null,0x2),new m(_0x557fa1);let _0x2c92bc=await this[_0x50d9ac(0x2ea)][_0x50d9ac(0x59a)][_0x50d9ac(0x1a0)]({'where':{'name':_0x301e25['name']}},this[_0x50d9ac(0x6b9)][_0x50d9ac(0x387)]);if(!_0x2c92bc)return this[_0x50d9ac(0x433)]['error'](this[_0x50d9ac(0x643)]+'\x20('+this[_0x50d9ac(0x6b9)][_0x50d9ac(0x387)]+_0x50d9ac(0xd3)),{'message':_0x50d9ac(0x45b)};let _0x966e24=await this['createConversationforStartFlow'](_0x2c92bc,_0x557fa1[_0x50d9ac(0x260)],_0x301e25[_0x50d9ac(0x447)]);if(_0x966e24){this['logger']['verbose'](this[_0x50d9ac(0x643)]+'\x20('+this[_0x50d9ac(0x6b9)][_0x50d9ac(0x387)]+_0x50d9ac(0x33e));let _0x9f6dc=await this[_0x50d9ac(0x558)](_0x966e24);return _0x9f6dc&&await this[_0x50d9ac(0x362)](_0x966e24,_0x9f6dc),{'message':'Flow\x20iniciado\x20com\x20'+_0x301e25['remoteJid']};}}catch(_0x407b6f){if(this[_0x50d9ac(0x433)][_0x50d9ac(0x552)](this[_0x50d9ac(0x643)]+'\x20('+this[_0x50d9ac(0x6b9)][_0x50d9ac(0x387)]+_0x50d9ac(0x22c)+(_0x407b6f instanceof Error?_0x407b6f[_0x50d9ac(0x180)]:JSON[_0x50d9ac(0x750)](_0x407b6f,null,0x2))),_0x9a9542=_0x407b6f instanceof Error?_0x407b6f[_0x50d9ac(0x180)]:JSON['stringify'](_0x407b6f,null,0x2),_0x9a9542)throw new m(_0x50d9ac(0x64f)+_0x9a9542);}}async['closeExistingConversations'](_0xcf9833){const _0x1039d6=a0_0x349dbc;try{let _0xd17ef0={'remoteJid':_0xcf9833,'status':_0x1039d6(0x4b3)},_0x451436={'status':'closed'},_0x1f5e55=await this['repository'][_0x1039d6(0x134)]['updateMany'](_0xd17ef0,_0x451436,this[_0x1039d6(0x6b9)][_0x1039d6(0x387)]);return this[_0x1039d6(0x433)][_0x1039d6(0x3b4)](this['instanceName']+'\x20('+this[_0x1039d6(0x6b9)][_0x1039d6(0x387)]+_0x1039d6(0x6c2)),_0x1f5e55;}catch(_0x115bcc){throw this[_0x1039d6(0x433)][_0x1039d6(0x552)](this[_0x1039d6(0x643)]+'\x20('+this[_0x1039d6(0x6b9)][_0x1039d6(0x387)]+_0x1039d6(0x2dc)+_0x115bcc[_0x1039d6(0x180)]),_0x115bcc;}}async['createConversationforStartFlow'](_0x4280c3,_0x5518d8,_0x53fd4f){const _0x5a2f11=a0_0x349dbc;this['logger'][_0x5a2f11(0x3b4)](this['instanceName']+'\x20('+this[_0x5a2f11(0x6b9)][_0x5a2f11(0x387)]+_0x5a2f11(0x624)),await this[_0x5a2f11(0x575)](_0x5518d8);try{let _0x48cdef=require('mongodb')[_0x5a2f11(0x4b2)],_0x569992=Date[_0x5a2f11(0x6db)](),_0x253e68=_0x5a2f11(0xdc),_0x464bf0={},_0x354914={},_0x955c85={..._0x4280c3,'chatLog':null},_0x72c7c7=await this[_0x5a2f11(0x75c)](_0x955c85[_0x5a2f11(0x764)]),_0xb1f319=await this[_0x5a2f11(0x352)](_0x5518d8),_0x29012f={..._0x72c7c7,..._0xb1f319,'_remoteJid':_0x5518d8},_0x2f0d31={'lastReceivedMessage':_0x464bf0,'lastSendMessage':_0x354914,'lastBlockId':_0x253e68,'lastCondition':!0x0,'realVariables':_0x29012f};_0x955c85[_0x5a2f11(0x5ec)]=_0x2f0d31,_0x955c85['chatLog'][_0x5a2f11(0x129)]={..._0x29012f,..._0x53fd4f},delete _0x955c85[_0x5a2f11(0x588)],_0x955c85[_0x5a2f11(0x588)]=new _0x48cdef(),_0x955c85[_0x5a2f11(0x76e)]=_0x569992,_0x955c85[_0x5a2f11(0x130)]=_0x5a2f11(0x4b3),_0x955c85[_0x5a2f11(0x185)]=_0x5518d8;let _0x2893ec=await this[_0x5a2f11(0x2ea)][_0x5a2f11(0x134)]['updateOne'](_0x955c85['_id'],_0x955c85,this[_0x5a2f11(0x6b9)][_0x5a2f11(0x387)]);return this['logger']['verbose'](this[_0x5a2f11(0x643)]+'\x20('+this['instance'][_0x5a2f11(0x387)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x2893ec?_0x955c85:null;}catch(_0x42eee7){let _0x19ecc9=_0x5a2f11(0x6a0),_0xf507f0=_0x42eee7 instanceof Error?_0x42eee7[_0x5a2f11(0x180)]:typeof _0x42eee7==_0x5a2f11(0x57f)?JSON[_0x5a2f11(0x750)](_0x42eee7):_0x42eee7,_0x13ad33=_0x19ecc9+':\x20'+_0xf507f0;throw this[_0x5a2f11(0x433)][_0x5a2f11(0x552)](this[_0x5a2f11(0x643)]+'\x20('+this[_0x5a2f11(0x6b9)][_0x5a2f11(0x387)]+_0x5a2f11(0x56b)+_0x13ad33),new m(_0x13ad33);}}async['getConversation'](_0x16050c){const _0x538a77=a0_0x349dbc;try{this[_0x538a77(0x433)]['verbose'](this[_0x538a77(0x643)]+'\x20('+this[_0x538a77(0x6b9)][_0x538a77(0x387)]+_0x538a77(0x6f5)),this[_0x538a77(0x433)][_0x538a77(0x3b4)](this[_0x538a77(0x643)]+'\x20('+this[_0x538a77(0x6b9)][_0x538a77(0x387)]+_0x538a77(0x41b)+_0x16050c);let _0x29933f={'where':{'_id':_0x16050c}};return await this[_0x538a77(0x2ea)]['flowConversation']['findOne'](_0x29933f,this[_0x538a77(0x6b9)][_0x538a77(0x387)]);}catch(_0x328578){let _0x22cb12=_0x538a77(0x3a9),_0x41068f=_0x328578 instanceof Error?_0x328578[_0x538a77(0x180)]:typeof _0x328578=='object'?JSON[_0x538a77(0x750)](_0x328578):_0x328578,_0x4cec9d=_0x22cb12+':\x20'+_0x41068f;throw this[_0x538a77(0x433)]['error'](this['instanceName']+'\x20('+this[_0x538a77(0x6b9)][_0x538a77(0x387)]+_0x538a77(0x56b)+_0x4cec9d),new m(_0x4cec9d);}}async[a0_0x349dbc(0x3e6)](_0x28ac6d){const _0x4d0e03=a0_0x349dbc;try{return this[_0x4d0e03(0x433)][_0x4d0e03(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x4d0e03(0x387)]+_0x4d0e03(0x211)),await this[_0x4d0e03(0x2ea)][_0x4d0e03(0x134)][_0x4d0e03(0x3e0)](_0x28ac6d,this[_0x4d0e03(0x6b9)][_0x4d0e03(0x387)]);}catch(_0xf6a056){let _0x2aa850=_0x4d0e03(0x632),_0xda0c32=_0xf6a056 instanceof Error?_0xf6a056[_0x4d0e03(0x180)]:typeof _0xf6a056==_0x4d0e03(0x57f)?JSON[_0x4d0e03(0x750)](_0xf6a056):_0xf6a056,_0x3d72af=_0x2aa850+':\x20'+_0xda0c32;throw this[_0x4d0e03(0x433)][_0x4d0e03(0x552)](this[_0x4d0e03(0x643)]+'\x20('+this[_0x4d0e03(0x6b9)]['wuid']+_0x4d0e03(0x56b)+_0x3d72af),new m(_0x3d72af);}}async[a0_0x349dbc(0x172)](_0x12816f){const _0x2bb64a=a0_0x349dbc;try{return this[_0x2bb64a(0x433)][_0x2bb64a(0x3b4)](this[_0x2bb64a(0x643)]+'\x20('+this[_0x2bb64a(0x6b9)][_0x2bb64a(0x387)]+_0x2bb64a(0x778)),this[_0x2bb64a(0x433)][_0x2bb64a(0x3b4)](this[_0x2bb64a(0x643)]+'\x20('+this['instance'][_0x2bb64a(0x387)]+_0x2bb64a(0x31b)+_0x12816f),(await this[_0x2bb64a(0x2ea)][_0x2bb64a(0x134)][_0x2bb64a(0x22a)]({'where':{'_id':_0x12816f}},this[_0x2bb64a(0x6b9)][_0x2bb64a(0x387)]))[_0x2bb64a(0x595)]===0x0?{'message':_0x2bb64a(0x489)}:{'message':_0x2bb64a(0x572)};}catch(_0x410bf3){let _0x5348b0=_0x2bb64a(0x3de),_0x23a497=_0x410bf3 instanceof Error?_0x410bf3[_0x2bb64a(0x180)]:typeof _0x410bf3==_0x2bb64a(0x57f)?JSON[_0x2bb64a(0x750)](_0x410bf3):_0x410bf3,_0x619566=_0x5348b0+':\x20'+_0x23a497;throw this[_0x2bb64a(0x433)][_0x2bb64a(0x552)](this['instanceName']+'\x20('+this['instance'][_0x2bb64a(0x387)]+_0x2bb64a(0x56b)+_0x619566),new m(_0x619566);}}async[a0_0x349dbc(0xf4)](_0x175145){const _0x3782cf=a0_0x349dbc;try{let {_id:_0x39c967,chatLog:_0x4f2c9d,status:_0x1b9993}=_0x175145;if(!_0x39c967)return{'message':_0x3782cf(0x51a)};let _0x555677={};if(_0x1b9993!==void 0x0&&(_0x555677[_0x3782cf(0x130)]=_0x1b9993),Object[_0x3782cf(0x4a4)](_0x555677)['length']===0x0)return{'message':_0x3782cf(0x6fe)};let _0x279383=await this[_0x3782cf(0x2ea)][_0x3782cf(0x134)][_0x3782cf(0x36b)](_0x39c967,_0x555677,this[_0x3782cf(0x6b9)][_0x3782cf(0x387)]);return _0x279383||{'message':_0x3782cf(0x4e1)};}catch(_0x5799a5){let _0x280383=_0x3782cf(0x200),_0x355084=_0x5799a5 instanceof Error?_0x5799a5[_0x3782cf(0x180)]:typeof _0x5799a5==_0x3782cf(0x57f)?JSON[_0x3782cf(0x750)](_0x5799a5):_0x5799a5,_0x2da111=_0x280383+':\x20'+_0x355084;throw this[_0x3782cf(0x433)]['error'](this[_0x3782cf(0x643)]+'\x20('+this[_0x3782cf(0x6b9)][_0x3782cf(0x387)]+_0x3782cf(0x56b)+_0x2da111),new m(_0x2da111);}}async[a0_0x349dbc(0x3f5)](_0x23bcbb){const _0x3d622c=a0_0x349dbc;try{_0x23bcbb[_0x3d622c(0x588)]=this['createJid'](_0x23bcbb[_0x3d622c(0x588)]);let _0x33bf91=await this[_0x3d622c(0x2ea)][_0x3d622c(0x429)][_0x3d622c(0x1a0)]({'where':{'_id':_0x23bcbb[_0x3d622c(0x588)]}},this[_0x3d622c(0x6b9)][_0x3d622c(0x387)]);if(!_0x33bf91)throw new m(_0x3d622c(0x72e));let {_id:_0x865591,leadInfo:_0x31f312}=_0x23bcbb;if(!_0x865591)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x23bcbb[_0x3d622c(0x209)]===_0x3d622c(0x77f))return await this['deleteChat'](_0x23bcbb[_0x3d622c(0x588)]),await this['repository']['chat']['delete']({'where':{'_id':_0x23bcbb[_0x3d622c(0x588)]}},this['instance']['wuid']),await this[_0x3d622c(0x2ea)][_0x3d622c(0x180)]['delete']({'where':{'key':{'remoteJid':_0x23bcbb[_0x3d622c(0x588)]}}},this[_0x3d622c(0x6b9)][_0x3d622c(0x387)]),_0x23bcbb=await this[_0x3d622c(0x2ea)][_0x3d622c(0x429)][_0x3d622c(0x36b)]({'where':{'_id':_0x23bcbb[_0x3d622c(0x588)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3d622c(0x387)]),U(this['instanceName'],_0x3d622c(0x1b9),{'chat':_0x23bcbb}),{'message':_0x3d622c(0x4cd)};if(_0x23bcbb[_0x3d622c(0x209)]==='messages')return await this[_0x3d622c(0x2ea)][_0x3d622c(0x180)]['delete']({'where':{'key':{'remoteJid':_0x23bcbb[_0x3d622c(0x588)]}}},this[_0x3d622c(0x6b9)][_0x3d622c(0x387)]),_0x23bcbb=await this[_0x3d622c(0x2ea)][_0x3d622c(0x429)][_0x3d622c(0x36b)]({'where':{'_id':_0x23bcbb['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3d622c(0x6b9)][_0x3d622c(0x387)]),U(this[_0x3d622c(0x643)],'chats',{'chat':_0x23bcbb}),{'message':_0x3d622c(0x253)};let _0x17fbed=(_0x1ed795,_0x342a50,_0x396bbe)=>{const _0x5f45b6=_0x3d622c;_0x1ed795&&_0x396bbe[_0x5f45b6(0x79a)](_0x54c876=>{const _0x2182a5=_0x5f45b6;_0x1ed795[_0x54c876]!==void 0x0&&(_0x342a50[_0x2182a5(0x3bd)+_0x54c876]=_0x1ed795[_0x54c876]);});},_0x39c3b2={};if(_0x3d622c(0x757)in _0x23bcbb&&(this[_0x3d622c(0x433)]['verbose']('Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x23bcbb['_id']),_0x23bcbb[_0x3d622c(0x757)]=_0x23bcbb[_0x3d622c(0x757)]===0x0?null:-0x1,await this[_0x3d622c(0x785)][_0x3d622c(0xc4)]({'mute':_0x23bcbb[_0x3d622c(0x757)]},_0x23bcbb[_0x3d622c(0x588)]),_0x39c3b2[_0x3d622c(0x757)]=Number(_0x23bcbb[_0x3d622c(0x757)])),_0x31f312&&(_0x17fbed(_0x31f312,_0x39c3b2,[_0x3d622c(0x531),'nomecompleto',_0x3d622c(0x697),'cpf','status',_0x3d622c(0x125),_0x3d622c(0xc9),'atendimentoAberto','responsavelid',_0x3d622c(0x3c6)]),Array[_0x3d622c(0x2e1)](_0x31f312[_0x3d622c(0x731)])&&(_0x39c3b2[_0x3d622c(0x4e9)]=_0x31f312['customFields'][_0x3d622c(0x568)](_0x2c052d=>({'_id':_0x2c052d[_0x3d622c(0x588)],'value':_0x2c052d['value']}))),_0x23bcbb[_0x3d622c(0x305)][_0x3d622c(0x3c6)]!==void 0x0)){let _0x29d0f7=await this[_0x3d622c(0x2ea)][_0x3d622c(0x2c4)]['find']({'where':{}},this[_0x3d622c(0x6b9)]['wuid']),_0x2d3165=new Set(_0x23bcbb['leadInfo'][_0x3d622c(0x3c6)]||[]),_0x52e6f3=new Set(_0x23bcbb[_0x3d622c(0x305)][_0x3d622c(0x3c6)]),_0x32a6fa=new Set(_0x29d0f7['map'](_0x4aa1b6=>_0x4aa1b6[_0x3d622c(0x588)])),_0x4a4c4b=[..._0x52e6f3][_0x3d622c(0x186)](_0x45433b=>!_0x2d3165[_0x3d622c(0x14b)](_0x45433b)&&_0x32a6fa[_0x3d622c(0x14b)](_0x45433b)),_0x375791=[..._0x2d3165][_0x3d622c(0x186)](_0x2f7e78=>!_0x52e6f3[_0x3d622c(0x14b)](_0x2f7e78));if(_0x39c3b2['leadInfo.etiquetas']=[..._0x2d3165],_0x33bf91&&!_0x33bf91['imported']){for(let _0x5c28e3 of _0x4a4c4b)await this[_0x3d622c(0x6bb)](_0x5c28e3,_0x23bcbb[_0x3d622c(0x588)]),_0x2d3165[_0x3d622c(0x4b4)](_0x5c28e3);for(let _0x4d09df of _0x375791)await this[_0x3d622c(0x324)](_0x4d09df,_0x23bcbb['_id']),_0x2d3165[_0x3d622c(0x209)](_0x4d09df);}}if(_0x23bcbb[_0x3d622c(0x6e6)]!==void 0x0&&(_0x39c3b2['unreadcount']=Number(_0x23bcbb[_0x3d622c(0x6e6)])),Object[_0x3d622c(0x4a4)](_0x39c3b2)[_0x3d622c(0x2e0)]===0x0)throw new Error(_0x3d622c(0x6fe));let _0xa29016=await this[_0x3d622c(0x2ea)][_0x3d622c(0x429)][_0x3d622c(0x36b)]({'where':{'_id':_0x23bcbb['_id']}},_0x39c3b2,this[_0x3d622c(0x6b9)][_0x3d622c(0x387)]);return _0xa29016&&U(this[_0x3d622c(0x643)],_0x3d622c(0x1b9),{'chat':_0xa29016}),_0xa29016?(this[_0x3d622c(0x433)][_0x3d622c(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x3d622c(0x387)]+_0x3d622c(0x56b)+JSON[_0x3d622c(0x750)](_0xa29016,null,0x2)),_0xa29016):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x48c575){let _0x31691f=_0x3d622c(0x31c),_0x46f390=_0x48c575 instanceof Error?_0x48c575['message']:typeof _0x48c575==_0x3d622c(0x57f)?JSON[_0x3d622c(0x750)](_0x48c575):_0x48c575,_0x3af42a=_0x31691f+':\x20'+_0x46f390;throw this[_0x3d622c(0x433)][_0x3d622c(0x552)](this[_0x3d622c(0x643)]+'\x20('+this[_0x3d622c(0x6b9)][_0x3d622c(0x387)]+_0x3d622c(0x56b)+_0x3af42a),new m(_0x3af42a);}}async['AddChatLabel'](_0x40222d,_0x558043){const _0x1548ed=a0_0x349dbc;try{await this[_0x1548ed(0x785)]['addChatLabel'](_0x558043,_0x40222d),this['logger'][_0x1548ed(0x6f9)](this['instanceName']+'\x20('+this['instance'][_0x1548ed(0x387)]+'):\x20Label\x20'+_0x40222d+_0x1548ed(0x299)+_0x558043+'\x20com\x20sucesso.');}catch(_0x161fc0){console['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x40222d+'\x20ao\x20chat\x20'+_0x558043+':',_0x161fc0);}}async[a0_0x349dbc(0x324)](_0x35b8a3,_0x564d21){const _0x3ec809=a0_0x349dbc;try{await this[_0x3ec809(0x785)][_0x3ec809(0x698)](_0x564d21,_0x35b8a3),this['logger'][_0x3ec809(0x6f9)](this[_0x3ec809(0x643)]+'\x20('+this[_0x3ec809(0x6b9)][_0x3ec809(0x387)]+'):\x20Label\x20'+_0x35b8a3+'\x20removido\x20do\x20chat\x20'+_0x564d21+'\x20com\x20sucesso.');}catch(_0x21763b){console[_0x3ec809(0x552)](_0x3ec809(0x423)+_0x35b8a3+_0x3ec809(0x1e8)+_0x564d21+':',_0x21763b);}}async['updateAgent'](_0x14c324){const _0x476d3d=a0_0x349dbc;try{let _0x4e13d2=await this[_0x476d3d(0x2ea)]['automateSystem'][_0x476d3d(0x39c)](this['instance'][_0x476d3d(0x387)]),_0xd549c6=_0x14c324[_0x476d3d(0x588)]?_0x4e13d2[_0x476d3d(0x2f7)]['findIndex'](_0x3d946f=>_0x3d946f['_id']===_0x14c324[_0x476d3d(0x588)]):-0x1;if(_0x14c324[_0x476d3d(0x209)]&&_0xd549c6>-0x1)_0x4e13d2['agents'][_0x476d3d(0x4f7)](_0xd549c6,0x1);else{if(_0xd549c6>-0x1){let _0x1e7ca8=_0x4e13d2['agents'][_0xd549c6];_0x14c324[_0x476d3d(0x569)]&&(_0x1e7ca8[_0x476d3d(0x569)]=_0x14c324[_0x476d3d(0x569)]),_0x14c324[_0x476d3d(0x246)]&&(_0x1e7ca8['name']=_0x14c324[_0x476d3d(0x246)]),_0x14c324[_0x476d3d(0x697)]&&(_0x1e7ca8[_0x476d3d(0x697)]=_0x14c324[_0x476d3d(0x697)]),_0x14c324[_0x476d3d(0x358)]&&(_0x1e7ca8[_0x476d3d(0x358)]=_0x14c324[_0x476d3d(0x358)]);}else _0x4e13d2[_0x476d3d(0x2f7)][_0x476d3d(0x3fd)]({'_id':_0x14c324[_0x476d3d(0x588)]||new re['default'][(_0x476d3d(0x56f))][(_0x476d3d(0x4b2))]()[_0x476d3d(0x343)](),'fone':_0x14c324[_0x476d3d(0x569)],'name':_0x14c324[_0x476d3d(0x246)],'email':_0x14c324[_0x476d3d(0x697)],'role':_0x14c324[_0x476d3d(0x358)]});}let _0x39cefb={'agents':_0x4e13d2['agents']},_0x54cb14=await this[_0x476d3d(0x2ea)][_0x476d3d(0x5f1)][_0x476d3d(0x710)](_0x39cefb,this[_0x476d3d(0x6b9)][_0x476d3d(0x387)]);return this['AutomateSystem']=_0x54cb14,this[_0x476d3d(0x433)][_0x476d3d(0x3b4)](this[_0x476d3d(0x643)]+'\x20('+this[_0x476d3d(0x6b9)][_0x476d3d(0x387)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x476d3d(0x433)][_0x476d3d(0x3b4)](this[_0x476d3d(0x643)]+'\x20('+this[_0x476d3d(0x6b9)][_0x476d3d(0x387)]+_0x476d3d(0x56b)+this[_0x476d3d(0x11b)]),_0x54cb14;}catch(_0x158fec){let _0x5c16ed=_0x476d3d(0x106),_0x2838d0=_0x158fec instanceof Error?_0x158fec[_0x476d3d(0x180)]:typeof _0x158fec==_0x476d3d(0x57f)?JSON['stringify'](_0x158fec):_0x158fec,_0x238bf0=_0x5c16ed+':\x20'+_0x2838d0;throw this['logger'][_0x476d3d(0x552)](this[_0x476d3d(0x643)]+'\x20('+this[_0x476d3d(0x6b9)][_0x476d3d(0x387)]+_0x476d3d(0x56b)+_0x238bf0),new m(_0x238bf0);}}async[a0_0x349dbc(0x309)](_0x342dc8){const _0x3d0964=a0_0x349dbc;try{let _0x41ad78=await this[_0x3d0964(0x2ea)][_0x3d0964(0x5f1)][_0x3d0964(0x39c)](this[_0x3d0964(0x6b9)][_0x3d0964(0x387)]),_0x51309d=_0x342dc8[_0x3d0964(0x588)]?_0x41ad78[_0x3d0964(0x731)][_0x3d0964(0x16f)](_0x44ee3a=>_0x44ee3a[_0x3d0964(0x588)]===_0x342dc8['_id']):-0x1,_0x4f32b0=!0x1,_0x4b4417=_0x41ad78[_0x3d0964(0x731)]['some'](_0x2c8ae7=>_0x2c8ae7[_0x3d0964(0x1a1)]===_0x342dc8[_0x3d0964(0x1a1)]);if(_0x342dc8['delete']&&_0x51309d>-0x1)_0x41ad78[_0x3d0964(0x731)][_0x3d0964(0x4f7)](_0x51309d,0x1),_0x4f32b0=!0x0;else{if(_0x51309d>-0x1){if(_0x41ad78[_0x3d0964(0x731)][_0x3d0964(0x76a)](_0x48871d=>_0x48871d['name']===_0x342dc8[_0x3d0964(0x246)]&&_0x48871d[_0x3d0964(0x588)]!==_0x342dc8[_0x3d0964(0x588)]))throw new Error(_0x3d0964(0x2dd));let _0x1ffbbe=_0x41ad78['customFields'][_0x51309d];_0x342dc8[_0x3d0964(0x1a1)]&&(_0x4b4417||!Number[_0x3d0964(0x61c)](_0x342dc8[_0x3d0964(0x1a1)]))&&(_0x1ffbbe[_0x3d0964(0x1a1)]=_0x342dc8['order'],_0x4f32b0=!0x0),_0x342dc8[_0x3d0964(0x246)]&&(_0x1ffbbe['name']=_0x342dc8['name']);}else{if(_0x41ad78[_0x3d0964(0x731)][_0x3d0964(0x76a)](_0x1462d8=>_0x1462d8[_0x3d0964(0x246)]===_0x342dc8['name']&&_0x1462d8['_id']!==_0x342dc8['_id']))throw new Error(_0x3d0964(0x2dd));_0x41ad78[_0x3d0964(0x731)][_0x3d0964(0x3fd)]({'_id':_0x342dc8[_0x3d0964(0x588)]||new re[(_0x3d0964(0x231))][(_0x3d0964(0x56f))][(_0x3d0964(0x4b2))]()[_0x3d0964(0x343)](),'order':_0x342dc8[_0x3d0964(0x1a1)],'name':_0x342dc8[_0x3d0964(0x246)]}),_0x4f32b0=!0x0;}}if(_0x4f32b0){_0x41ad78[_0x3d0964(0x731)][_0x3d0964(0x689)]((_0x2e66f3,_0x4a523c)=>_0x2e66f3[_0x3d0964(0x1a1)]>_0x4a523c[_0x3d0964(0x1a1)]?0x1:_0x4a523c[_0x3d0964(0x1a1)]>_0x2e66f3[_0x3d0964(0x1a1)]?-0x1:0x0);for(let _0x5ea8ea=0x0;_0x5ea8ea<_0x41ad78[_0x3d0964(0x731)][_0x3d0964(0x2e0)];_0x5ea8ea++)_0x41ad78[_0x3d0964(0x731)][_0x5ea8ea]['order']=_0x5ea8ea+0x1;}let _0x4108c2=await this['repository'][_0x3d0964(0x5f1)][_0x3d0964(0x710)](_0x41ad78,this[_0x3d0964(0x6b9)][_0x3d0964(0x387)]);return this[_0x3d0964(0x11b)]=_0x4108c2,this[_0x3d0964(0x433)][_0x3d0964(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x3d0964(0x387)]+_0x3d0964(0xed)),this[_0x3d0964(0x433)]['verbose'](this[_0x3d0964(0x643)]+'\x20('+this[_0x3d0964(0x6b9)][_0x3d0964(0x387)]+_0x3d0964(0x56b)+this['AutomateSystem']),_0x4108c2;}catch(_0x5437dc){let _0x426359=_0x3d0964(0x78f),_0x207413=_0x5437dc instanceof Error?_0x5437dc[_0x3d0964(0x180)]:typeof _0x5437dc==_0x3d0964(0x57f)?JSON['stringify'](_0x5437dc):_0x5437dc,_0x277ca8=_0x426359+':\x20'+_0x207413;throw this[_0x3d0964(0x433)][_0x3d0964(0x552)](this[_0x3d0964(0x643)]+'\x20('+this['instance'][_0x3d0964(0x387)]+_0x3d0964(0x56b)+_0x277ca8),new m(_0x277ca8);}}async[a0_0x349dbc(0x693)](_0xe978ca){const _0x27d4d8=a0_0x349dbc;try{let _0x3093ed=await this[_0x27d4d8(0x2ea)][_0x27d4d8(0x5f1)][_0x27d4d8(0x39c)](this[_0x27d4d8(0x6b9)][_0x27d4d8(0x387)]),_0x2ea1c1=_0x3093ed?.[_0x27d4d8(0x121)]?.[_0x27d4d8(0x16f)](_0x156a22=>_0x156a22[_0x27d4d8(0x588)]===_0xe978ca?.['_id']);if(_0xe978ca?.[_0x27d4d8(0x209)])_0x2ea1c1>-0x1&&_0x3093ed?.['autoCompleteMessages']?.[_0x27d4d8(0x4f7)](_0x2ea1c1,0x1);else{if(_0x2ea1c1>-0x1){let _0x59776b=_0x3093ed['autoCompleteMessages'][_0x2ea1c1];_0x59776b[_0x27d4d8(0x1a1)]=_0xe978ca?.['order']||_0x59776b[_0x27d4d8(0x1a1)],_0x59776b['command']=_0xe978ca?.[_0x27d4d8(0x6a9)]||_0x59776b[_0x27d4d8(0x6a9)],_0x59776b[_0x27d4d8(0x180)]=_0xe978ca?.['message']||_0x59776b['message'];}else{let _0x1dc1dd={'_id':_0xe978ca?.[_0x27d4d8(0x588)]||new re[(_0x27d4d8(0x231))]['Types'][(_0x27d4d8(0x4b2))]()['toString'](),'order':_0xe978ca?.[_0x27d4d8(0x1a1)],'command':_0xe978ca?.['command'],'message':_0xe978ca?.[_0x27d4d8(0x180)]};_0x3093ed?.['autoCompleteMessages']?.[_0x27d4d8(0x3fd)](_0x1dc1dd);}}_0x3093ed?.[_0x27d4d8(0x121)]?.[_0x27d4d8(0x689)]((_0x1fdc31,_0x59e91)=>_0x1fdc31[_0x27d4d8(0x1a1)]-_0x59e91['order']);let _0x3ef2c3=await this['repository'][_0x27d4d8(0x5f1)][_0x27d4d8(0x710)](_0x3093ed,this['instance']['wuid']);return this['AutomateSystem']=_0x3ef2c3,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x27d4d8(0x6b9)][_0x27d4d8(0x387)]+_0x27d4d8(0xed)),_0x3ef2c3;}catch(_0x28a811){let _0x525fee='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x1af619=_0x28a811 instanceof Error?_0x28a811[_0x27d4d8(0x180)]:typeof _0x28a811=='object'?JSON['stringify'](_0x28a811):_0x28a811,_0xb094d5=_0x525fee+':\x20'+_0x1af619;throw this[_0x27d4d8(0x433)]['error'](this[_0x27d4d8(0x643)]+'\x20('+this['instance'][_0x27d4d8(0x387)]+_0x27d4d8(0x56b)+_0xb094d5),new m(_0xb094d5);}}async[a0_0x349dbc(0x6d6)](_0x1bc4c){const _0x4f32ab=a0_0x349dbc;try{let _0x1d7cce=await this['repository']['automateSystem'][_0x4f32ab(0x39c)](this['instance']['wuid']);if(!_0x1d7cce)throw new Error(_0x4f32ab(0x3f3));let _0x55516f={'_id':_0x1d7cce[_0x4f32ab(0x588)],'flowConfig':{'enabled':_0x1bc4c[_0x4f32ab(0x3eb)]??_0x1d7cce[_0x4f32ab(0x591)][_0x4f32ab(0x3eb)],'ignoreGroups':_0x1bc4c['ignoreGroups']??_0x1d7cce['flowConfig'][_0x4f32ab(0x3c1)],'prefixCommand':_0x1bc4c[_0x4f32ab(0x717)]??_0x1d7cce['flowConfig'][_0x4f32ab(0x717)],'stopConversation':_0x1bc4c[_0x4f32ab(0x2ec)]??_0x1d7cce['flowConfig']['stopConversation'],'stopMinutes':_0x1bc4c['stopMinutes']??_0x1d7cce[_0x4f32ab(0x591)][_0x4f32ab(0x381)],'stopWhenYouSendMsg':_0x1bc4c[_0x4f32ab(0x3d6)]??_0x1d7cce['flowConfig'][_0x4f32ab(0x3d6)]}},_0x1b9849=await this[_0x4f32ab(0x2ea)][_0x4f32ab(0x5f1)][_0x4f32ab(0x710)](_0x55516f,this[_0x4f32ab(0x6b9)][_0x4f32ab(0x387)]);return this['AutomateSystem']=_0x1b9849,this[_0x4f32ab(0x433)]['verbose'](this['instanceName']+'\x20('+this[_0x4f32ab(0x6b9)][_0x4f32ab(0x387)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4f32ab(0x433)][_0x4f32ab(0x3b4)](this[_0x4f32ab(0x643)]+'\x20('+this[_0x4f32ab(0x6b9)][_0x4f32ab(0x387)]+_0x4f32ab(0x56b)+this[_0x4f32ab(0x11b)]),setTimeout(()=>this[_0x4f32ab(0x541)](),0x7d0),_0x1b9849;}catch(_0x7e43a3){let _0x4f1d59=_0x4f32ab(0x645),_0x371649=_0x7e43a3 instanceof Error?_0x7e43a3[_0x4f32ab(0x180)]:typeof _0x7e43a3==_0x4f32ab(0x57f)?JSON['stringify'](_0x7e43a3):_0x7e43a3,_0x320eba=_0x4f1d59+':\x20'+_0x371649;throw this[_0x4f32ab(0x433)]['error'](this['instanceName']+'\x20('+this[_0x4f32ab(0x6b9)][_0x4f32ab(0x387)]+_0x4f32ab(0x56b)+_0x320eba),new m(_0x320eba);}}async['getAutomateSystem'](){const _0x5a131b=a0_0x349dbc;try{let _0x59c5d1=await this[_0x5a131b(0x2ea)][_0x5a131b(0x5f1)][_0x5a131b(0x39c)](this[_0x5a131b(0x6b9)][_0x5a131b(0x387)]);return this[_0x5a131b(0x11b)]=_0x59c5d1,this[_0x5a131b(0x433)][_0x5a131b(0x3b4)](this['instanceName']+'\x20('+this[_0x5a131b(0x6b9)][_0x5a131b(0x387)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x5a131b(0x433)][_0x5a131b(0x3b4)](this[_0x5a131b(0x11b)]),_0x59c5d1;}catch(_0x384aec){let _0x17e607=_0x5a131b(0x56d),_0x37da6d=_0x384aec instanceof Error?_0x384aec[_0x5a131b(0x180)]:typeof _0x384aec==_0x5a131b(0x57f)?JSON[_0x5a131b(0x750)](_0x384aec):_0x384aec,_0xfe9b77=_0x17e607+':\x20'+_0x37da6d;throw this[_0x5a131b(0x433)][_0x5a131b(0x552)](this['instanceName']+'\x20('+this['instance'][_0x5a131b(0x387)]+'):\x20'+_0xfe9b77),new m(_0xfe9b77);}}async[a0_0x349dbc(0x5bd)](){const _0x5b48c2=a0_0x349dbc;this['instance']['ScheduleMessage'][_0x5b48c2(0x5b0)]&&clearTimeout(this[_0x5b48c2(0x6b9)][_0x5b48c2(0x476)][_0x5b48c2(0x5b0)]),this[_0x5b48c2(0x6b9)][_0x5b48c2(0x476)][_0x5b48c2(0x5b0)]=setTimeout(()=>{const _0x3f94ac=_0x5b48c2;this[_0x3f94ac(0x75f)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x349dbc(0x75f)](){const _0x4287a8=a0_0x349dbc;Date[_0x4287a8(0x6db)]()-this[_0x4287a8(0x6b9)][_0x4287a8(0x476)][_0x4287a8(0x6b6)]>=0x1d4c0&&(this[_0x4287a8(0x433)][_0x4287a8(0x3b4)](this[_0x4287a8(0x643)]+'\x20('+this[_0x4287a8(0x6b9)][_0x4287a8(0x387)]+_0x4287a8(0x272)),this[_0x4287a8(0x6b9)][_0x4287a8(0x476)][_0x4287a8(0x5a7)]=null,this[_0x4287a8(0x6b9)]['ScheduleMessage'][_0x4287a8(0x6b6)]=0x0,this[_0x4287a8(0x6b9)][_0x4287a8(0x476)][_0x4287a8(0x285)]=0x0,await this[_0x4287a8(0x541)]());}async[a0_0x349dbc(0x541)](){const _0x240e2b=a0_0x349dbc;let _0x537c61=()=>{const _0x1bff28=a0_0x5444;this[_0x1bff28(0x433)][_0x1bff28(0x3b4)](this[_0x1bff28(0x643)]+'\x20('+this['instance'][_0x1bff28(0x387)]+_0x1bff28(0x795)+this[_0x1bff28(0x6b9)][_0x1bff28(0x476)]['processing_id']+'\x20saindo\x20da\x20função');},_0x5a8821=async()=>{const _0xa983b8=a0_0x5444;this['logger'][_0xa983b8(0x3b4)](this[_0xa983b8(0x643)]+'\x20('+this['instance'][_0xa983b8(0x387)]+_0xa983b8(0x73d));let _0x33d331=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x38f264={'where':{'status':{'$in':['scheduled',_0xa983b8(0x411)]},'$or':[{'when':{'$lte':Date[_0xa983b8(0x6db)](),'$gte':_0x33d331}},{'when':0x0}]}};return await this['repository'][_0xa983b8(0x4f1)][_0xa983b8(0x3e0)](_0x38f264,this['instance'][_0xa983b8(0x387)]);},_0x1f51cb=async _0x19f3c5=>{const _0x2211e4=a0_0x5444;for(let _0x3b8289 of _0x19f3c5){let _0x53bd9e={'_id':_0x3b8289[_0x2211e4(0x588)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x2211e4(0x6db)]()-0x1770}}]},_0x59369b={'startSend':Date['now']()};if(!await this['repository'][_0x2211e4(0x4f1)]['updateOne'](_0x53bd9e,_0x59369b,this[_0x2211e4(0x6b9)][_0x2211e4(0x387)]))return;if(!this[_0x2211e4(0x6b9)][_0x2211e4(0x476)]['isConnected']){this[_0x2211e4(0x433)][_0x2211e4(0x3b4)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2211e4(0x288));break;}if(_0x3b8289[_0x2211e4(0x3cc)]===_0x2211e4(0x59a)&&!this[_0x2211e4(0x11b)]?.[_0x2211e4(0x591)][_0x2211e4(0x3eb)]){this[_0x2211e4(0x433)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2211e4(0x71d));continue;}(!_0x3b8289['remoteJidsRemaining']||_0x3b8289[_0x2211e4(0x567)][_0x2211e4(0x2e0)]===0x0)&&(_0x3b8289=await this[_0x2211e4(0x2ea)]['scheduleMessage']['updateOneById'](_0x3b8289[_0x2211e4(0x588)],{'status':_0x2211e4(0x411),'remoteJidsRemaining':[..._0x3b8289['remoteJids']]},this['instance'][_0x2211e4(0x387)]));for(let _0x5f44d0 of _0x3b8289['remoteJidsRemaining']){if(await this[_0x2211e4(0x5bd)](),this[_0x2211e4(0x6b9)][_0x2211e4(0x476)][_0x2211e4(0x6b6)]=Date[_0x2211e4(0x6db)](),this[_0x2211e4(0x6b9)][_0x2211e4(0x476)][_0x2211e4(0x1ec)]===_0x5f44d0){this[_0x2211e4(0x433)][_0x2211e4(0x552)](this[_0x2211e4(0x643)]+'\x20('+this['instance']['wuid']+_0x2211e4(0x27c)+_0x5f44d0+_0x2211e4(0x1c7));let _0x4109e9={'$push':{'messagesSend':{'remoteJid':_0x5f44d0,'error':!0x0,'id':null,'error_log':_0x2211e4(0x4ea),'log_timestamp':Date[_0x2211e4(0x6db)]()}},'$pull':{'remoteJidsRemaining':_0x5f44d0}};await this['repository'][_0x2211e4(0x4f1)][_0x2211e4(0x715)](_0x3b8289[_0x2211e4(0x588)],_0x4109e9,this['instance']['wuid']);continue;}if(this[_0x2211e4(0x6b9)][_0x2211e4(0x476)]['ultimaTentativaRemoteJid']=_0x5f44d0,_0x3b8289[_0x2211e4(0x345)]['some'](_0x416114=>_0x416114[_0x2211e4(0x185)]===_0x5f44d0)){this[_0x2211e4(0x433)][_0x2211e4(0x3b4)](this[_0x2211e4(0x643)]+'\x20('+this[_0x2211e4(0x6b9)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x5f44d0+'.\x20Pulando.');continue;}if(!this[_0x2211e4(0x6b9)][_0x2211e4(0x476)][_0x2211e4(0x699)]){this['logger'][_0x2211e4(0x3b4)](this[_0x2211e4(0x643)]+'\x20('+this['instance'][_0x2211e4(0x387)]+_0x2211e4(0x42c));break;}if(!this['instance'][_0x2211e4(0x476)][_0x2211e4(0x5a7)]){this[_0x2211e4(0x433)][_0x2211e4(0x3b4)](this[_0x2211e4(0x643)]+'\x20('+this['instance'][_0x2211e4(0x387)]+_0x2211e4(0x76b)+_0x3b8289[_0x2211e4(0x588)]+_0x2211e4(0x72f));break;}if(_0x3b8289[_0x2211e4(0x3cc)]==='flow'&&!this[_0x2211e4(0x11b)]?.[_0x2211e4(0x591)][_0x2211e4(0x3eb)]){this[_0x2211e4(0x433)][_0x2211e4(0x552)](this[_0x2211e4(0x643)]+'\x20('+this[_0x2211e4(0x6b9)][_0x2211e4(0x387)]+_0x2211e4(0x71d));break;}let _0x591f88={'remoteJid':_0x5f44d0,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x3bb32e=null;try{let _0x42045c=await this['SendScheduleMessage'](_0x5f44d0,_0x3b8289);_0x591f88[_0x2211e4(0x552)]=_0x42045c[_0x2211e4(0x552)],_0x591f88['id']=_0x42045c[_0x2211e4(0x552)]?null:_0x42045c['id'],_0x591f88['error_log']=_0x42045c[_0x2211e4(0x552)]?_0x42045c[_0x2211e4(0x2ff)]?_0x42045c[_0x2211e4(0x2ff)][_0x2211e4(0x343)]():'':null;let _0x399422={'$push':{'messagesSend':_0x591f88},'$pull':{'remoteJidsRemaining':_0x5f44d0}},_0x526372=_0x3b8289[_0x2211e4(0x588)];if(_0x3bb32e=await this[_0x2211e4(0x2ea)][_0x2211e4(0x4f1)][_0x2211e4(0x715)](_0x526372,_0x399422,this[_0x2211e4(0x6b9)][_0x2211e4(0x387)]),_0x42045c[_0x2211e4(0x552)])continue;let _0x385181=this[_0x2211e4(0x406)](_0x3b8289[_0x2211e4(0x62d)],_0x3b8289[_0x2211e4(0x5c5)]);await this[_0x2211e4(0x775)](_0x385181);}catch(_0x57863f){this[_0x2211e4(0x433)][_0x2211e4(0x552)](this[_0x2211e4(0x643)]+'\x20('+this['instance'][_0x2211e4(0x387)]+_0x2211e4(0x664)+_0x5f44d0+':\x20'+(_0x57863f instanceof Error?_0x57863f[_0x2211e4(0x180)]:JSON[_0x2211e4(0x750)](_0x57863f,null,0x2))),_0x591f88['error']=!0x0,_0x591f88[_0x2211e4(0x2cf)]=_0x57863f[_0x2211e4(0x180)];let _0x58a48d={'$push':{'messagesSend':_0x591f88},'$pull':{'remoteJidsRemaining':_0x5f44d0}},_0x12eca9=_0x3b8289[_0x2211e4(0x588)];_0x3bb32e=await this[_0x2211e4(0x2ea)][_0x2211e4(0x4f1)][_0x2211e4(0x715)](_0x12eca9,_0x58a48d,this[_0x2211e4(0x6b9)]['wuid']);}finally{if(_0x3bb32e&&_0x3bb32e['status']===_0x2211e4(0x53a)){this[_0x2211e4(0x433)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2211e4(0x387)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x3b8289[_0x2211e4(0x588)]+_0x2211e4(0x561));break;}}}let _0x4a10c6=await this['repository'][_0x2211e4(0x4f1)][_0x2211e4(0x525)](_0x3b8289[_0x2211e4(0x588)],this[_0x2211e4(0x6b9)][_0x2211e4(0x387)]);if(_0x4a10c6[_0x2211e4(0x567)][_0x2211e4(0x2e0)]===0x0&&_0x4a10c6[_0x2211e4(0x130)]!==_0x2211e4(0x53a)){this[_0x2211e4(0x6b9)]['ScheduleMessage'][_0x2211e4(0x1ec)]=null;let _0x57c02f={'$set':{'status':'done'}},_0x4733aa=_0x4a10c6['_id'];await this[_0x2211e4(0x2ea)][_0x2211e4(0x4f1)][_0x2211e4(0x715)](_0x4733aa,_0x57c02f,this['instance'][_0x2211e4(0x387)]);}await new Promise(_0x21b684=>setTimeout(_0x21b684,0x1388));}},_0x19e7ef=async()=>{const _0x4293db=a0_0x5444;let _0x2bd52a={'where':{'status':'scheduled','when':{'$gt':Date[_0x4293db(0x6db)]()}}},_0x3b4c8d=await this[_0x4293db(0x2ea)][_0x4293db(0x4f1)][_0x4293db(0x1a0)](_0x2bd52a,this['instance']['wuid']);_0x3b4c8d&&_0x3b4c8d[_0x4293db(0x787)]-Date[_0x4293db(0x6db)]()<=0x5265c00?this[_0x4293db(0x6b9)][_0x4293db(0x476)][_0x4293db(0x285)]=_0x3b4c8d[_0x4293db(0x787)]-Date[_0x4293db(0x6db)]():this[_0x4293db(0x6b9)]['ScheduleMessage'][_0x4293db(0x285)]=(0x3c+Math[_0x4293db(0x13e)](Math[_0x4293db(0x49e)]()*0x3c))*0x3c*0x3e8,this[_0x4293db(0x6b9)][_0x4293db(0x476)][_0x4293db(0x285)]=Math[_0x4293db(0x142)](this[_0x4293db(0x6b9)][_0x4293db(0x476)][_0x4293db(0x285)],0x7d0);let _0x28228d=Math[_0x4293db(0x6ab)](this[_0x4293db(0x6b9)][_0x4293db(0x476)][_0x4293db(0x285)]/0xea60);if(_0x3b4c8d){let _0x4f3396=new Date(_0x3b4c8d[_0x4293db(0x787)])['toLocaleString']();this[_0x4293db(0x433)][_0x4293db(0x3b4)](this['instanceName']+'\x20('+this['instance'][_0x4293db(0x387)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x4f3396+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x28228d+_0x4293db(0x462));}else this[_0x4293db(0x433)]['verbose'](this[_0x4293db(0x643)]+'\x20('+this[_0x4293db(0x6b9)]['wuid']+_0x4293db(0xce)+_0x28228d+'\x20minutos');setTimeout(()=>this['scheduleNextCheck'](),this['instance'][_0x4293db(0x476)][_0x4293db(0x285)]);};if(this['instance'][_0x240e2b(0x476)][_0x240e2b(0x5a7)]){await this[_0x240e2b(0x5bd)](),_0x537c61();return;}if(!this[_0x240e2b(0x6b9)][_0x240e2b(0x476)][_0x240e2b(0x699)]){this[_0x240e2b(0x433)]['verbose'](this[_0x240e2b(0x643)]+'\x20('+this['instance'][_0x240e2b(0x387)]+_0x240e2b(0x61d)),this['instance'][_0x240e2b(0x476)][_0x240e2b(0x5a7)]=null,this[_0x240e2b(0x6b9)][_0x240e2b(0x476)][_0x240e2b(0x6b6)]=0x0,this[_0x240e2b(0x6b9)][_0x240e2b(0x476)][_0x240e2b(0x285)]=0x0,this[_0x240e2b(0x6b9)][_0x240e2b(0x476)]['ultimaTentativaRemoteJid']=null;return;}try{let _0x2f5e1d=await _0x5a8821();_0x2f5e1d['length']===0x0?this[_0x240e2b(0x433)][_0x240e2b(0x3b4)](this[_0x240e2b(0x643)]+'\x20('+this[_0x240e2b(0x6b9)][_0x240e2b(0x387)]+_0x240e2b(0x317)):(this[_0x240e2b(0x6b9)][_0x240e2b(0x476)][_0x240e2b(0x5a7)]=_0x2f5e1d[0x0][_0x240e2b(0x588)],await _0x1f51cb(_0x2f5e1d)),await _0x19e7ef(),this[_0x240e2b(0x6b9)][_0x240e2b(0x476)][_0x240e2b(0x5a7)]=null,this[_0x240e2b(0x6b9)][_0x240e2b(0x476)][_0x240e2b(0x1ec)]=null;}catch(_0x1afde6){this[_0x240e2b(0x433)][_0x240e2b(0x552)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x1afde6 instanceof Error?_0x1afde6[_0x240e2b(0x180)]:JSON[_0x240e2b(0x750)](_0x1afde6,null,0x2)));}}[a0_0x349dbc(0x406)](_0x409cc1,_0x57479d){const _0x2720b9=a0_0x349dbc;return _0x409cc1=Math[_0x2720b9(0x142)](0.5,_0x409cc1),_0x57479d=Math['min'](Math['max'](0x3,_0x57479d),0x78),Math[_0x2720b9(0x13e)](Math['random']()*(_0x57479d-_0x409cc1+0x1)+_0x409cc1)*0x3e8;}[a0_0x349dbc(0x775)](_0x467872){return new Promise(_0x584f80=>setTimeout(_0x584f80,_0x467872));}async[a0_0x349dbc(0x352)](_0x4f8dcc){const _0x3023e6=a0_0x349dbc;if(!this[_0x3023e6(0x11b)]&&(await this[_0x3023e6(0x25a)](),!this[_0x3023e6(0x11b)]))return null;_0x4f8dcc=this['createJid'](_0x4f8dcc);let _0x57d366=await this['repository'][_0x3023e6(0x429)][_0x3023e6(0x1a0)]({'where':{'_id':_0x4f8dcc}},this[_0x3023e6(0x6b9)][_0x3023e6(0x387)]),_0x264020={};if(_0x57d366&&_0x57d366[_0x3023e6(0x305)]){let _0x32cd91=_0x57d366[_0x3023e6(0x305)];typeof _0x32cd91[_0x3023e6(0x531)]==_0x3023e6(0x28d)&&(_0x264020['nome']=_0x32cd91[_0x3023e6(0x531)]),typeof _0x32cd91[_0x3023e6(0x2df)]=='string'&&(_0x264020[_0x3023e6(0x2df)]=_0x32cd91[_0x3023e6(0x2df)]),typeof _0x32cd91[_0x3023e6(0x697)]==_0x3023e6(0x28d)&&(_0x264020[_0x3023e6(0x697)]=_0x32cd91[_0x3023e6(0x697)]),typeof _0x32cd91['cpf']=='string'&&(_0x264020[_0x3023e6(0xfe)]=_0x32cd91[_0x3023e6(0xfe)]),typeof _0x32cd91[_0x3023e6(0x130)]==_0x3023e6(0x28d)&&(_0x264020['status']=_0x32cd91[_0x3023e6(0x130)]),typeof _0x32cd91[_0x3023e6(0x125)]==_0x3023e6(0x28d)&&(_0x264020[_0x3023e6(0x125)]=_0x32cd91[_0x3023e6(0x125)]),typeof _0x32cd91[_0x3023e6(0x446)]==_0x3023e6(0x28d)&&(_0x264020[_0x3023e6(0x446)]=_0x32cd91[_0x3023e6(0x446)]),Array['isArray'](_0x32cd91['tags'])&&(_0x264020[_0x3023e6(0xc9)]=_0x32cd91['tags'][_0x3023e6(0x71a)](',\x20')),Array[_0x3023e6(0x2e1)](_0x32cd91[_0x3023e6(0x3c6)])&&(_0x264020['etiquetas']=_0x32cd91[_0x3023e6(0x3c6)][_0x3023e6(0x71a)](',\x20'));}return _0x57d366&&_0x57d366['leadInfo']&&_0x57d366[_0x3023e6(0x305)]['customFields']&&_0x57d366['leadInfo'][_0x3023e6(0x731)][_0x3023e6(0x79a)](_0x2cc5c2=>{const _0x32ca7d=_0x3023e6;let _0x283327=this[_0x32ca7d(0x11b)]?.[_0x32ca7d(0x731)][_0x32ca7d(0x3e0)](_0x315535=>_0x315535[_0x32ca7d(0x588)]===_0x2cc5c2['_id']);_0x283327&&(_0x264020[_0x283327['name']]=_0x2cc5c2['value']);}),_0x264020;}async['replaceVariablesChat'](_0x520c73,_0x5c8157){const _0x5b16bf=a0_0x349dbc;try{let _0x7208b4=await this[_0x5b16bf(0x352)](_0x5c8157);return this[_0x5b16bf(0x52e)](_0x520c73,_0x7208b4);}catch(_0x866d50){return this[_0x5b16bf(0x433)][_0x5b16bf(0x552)](_0x5b16bf(0x1c6)+_0x5c8157+':\x20'+_0x866d50),_0x520c73;}}async[a0_0x349dbc(0x6d4)](_0x25b210){const _0x4e5b92=a0_0x349dbc;try{if(this[_0x4e5b92(0x433)]['verbose'](this[_0x4e5b92(0x643)]+'\x20('+this['instance'][_0x4e5b92(0x387)]+'):\x20Edit\x20schedule\x20message...'),_0x25b210['delete']&&_0x25b210[_0x4e5b92(0x588)]){if(this[_0x4e5b92(0x6b9)]['ScheduleMessage'][_0x4e5b92(0x5a7)]===_0x25b210[_0x4e5b92(0x588)]['toString']())throw new Error(_0x4e5b92(0x4a6));let _0x119437=await this[_0x4e5b92(0x2ea)][_0x4e5b92(0x4f1)][_0x4e5b92(0x22a)](_0x25b210[_0x4e5b92(0x588)],this[_0x4e5b92(0x6b9)][_0x4e5b92(0x387)]);return setTimeout(()=>this[_0x4e5b92(0x541)](),0x7d0),_0x119437;}let _0x3fa489;if(_0x25b210[_0x4e5b92(0x588)]&&(_0x3fa489=await this[_0x4e5b92(0x2ea)][_0x4e5b92(0x4f1)][_0x4e5b92(0x525)](_0x25b210[_0x4e5b92(0x588)],this[_0x4e5b92(0x6b9)][_0x4e5b92(0x387)])),_0x3fa489){let _0x301cf9;if(this[_0x4e5b92(0x6b9)]['ScheduleMessage'][_0x4e5b92(0x5a7)]===_0x3fa489[_0x4e5b92(0x588)][_0x4e5b92(0x343)]())_0x301cf9={'$set':{'status':_0x25b210['status']}};else{let {_id:_0x16fdf1,..._0x388eaf}=_0x25b210;_0x301cf9={'$set':_0x388eaf};}let _0x4e0ad7=await this['repository']['scheduleMessage']['updateOneById'](_0x25b210[_0x4e5b92(0x588)],_0x301cf9,this[_0x4e5b92(0x6b9)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4e0ad7;}else{_0x25b210['owner']=this[_0x4e5b92(0x6b9)][_0x4e5b92(0x387)];let _0x5da9b8=await this[_0x4e5b92(0x2ea)]['scheduleMessage']['createAndSave'](_0x25b210,this[_0x4e5b92(0x6b9)]['wuid']);return setTimeout(()=>this[_0x4e5b92(0x541)](),0x7d0),_0x5da9b8;}}catch(_0x372a05){let _0x91b503=_0x4e5b92(0x5b7),_0x438b5b=_0x372a05 instanceof Error?_0x372a05['message']:typeof _0x372a05==_0x4e5b92(0x57f)?JSON[_0x4e5b92(0x750)](_0x372a05):_0x372a05,_0x3b0461=_0x91b503+':\x20'+_0x438b5b;throw this[_0x4e5b92(0x433)][_0x4e5b92(0x552)](this[_0x4e5b92(0x643)]+'\x20('+this[_0x4e5b92(0x6b9)][_0x4e5b92(0x387)]+_0x4e5b92(0x56b)+_0x3b0461),new m(_0x3b0461);}}async[a0_0x349dbc(0x249)](){const _0x3afd23=a0_0x349dbc;try{return await this[_0x3afd23(0x2ea)][_0x3afd23(0x4f1)]['find']({'where':{}},this[_0x3afd23(0x6b9)][_0x3afd23(0x387)]);}catch(_0x4c0a3f){let _0x1f85b8=_0x3afd23(0x323),_0x1598ce=_0x4c0a3f instanceof Error?_0x4c0a3f['message']:typeof _0x4c0a3f==_0x3afd23(0x57f)?JSON['stringify'](_0x4c0a3f):_0x4c0a3f,_0x5334e1=_0x1f85b8+':\x20'+_0x1598ce;throw this[_0x3afd23(0x433)][_0x3afd23(0x552)](this[_0x3afd23(0x643)]+'\x20('+this['instance'][_0x3afd23(0x387)]+_0x3afd23(0x56b)+_0x5334e1),new m(_0x5334e1);}}async[a0_0x349dbc(0x78e)](){const _0x3ae31f=a0_0x349dbc;try{let _0x8ab9c3={'status':_0x3ae31f(0x188)},_0x21ef1f=await this[_0x3ae31f(0x2ea)][_0x3ae31f(0x4f1)][_0x3ae31f(0x54e)](_0x8ab9c3,this[_0x3ae31f(0x6b9)][_0x3ae31f(0x387)]);if(!_0x21ef1f[_0x3ae31f(0x552)])this[_0x3ae31f(0x433)][_0x3ae31f(0x3b4)](this[_0x3ae31f(0x643)]+'\x20('+this[_0x3ae31f(0x6b9)][_0x3ae31f(0x387)]+_0x3ae31f(0x79f));else throw new Error(_0x21ef1f['error']['message']||_0x3ae31f(0x69f));return this['getScheduleMessage']();}catch(_0x5ad8fe){let _0x5a0ef5=_0x3ae31f(0x17d),_0x1fa7b4=_0x5ad8fe instanceof Error?_0x5ad8fe['message']:typeof _0x5ad8fe==_0x3ae31f(0x57f)?JSON['stringify'](_0x5ad8fe):_0x5ad8fe,_0x3eee6e=_0x5a0ef5+':\x20'+_0x1fa7b4;throw this[_0x3ae31f(0x433)][_0x3ae31f(0x552)](this['instanceName']+'\x20('+this[_0x3ae31f(0x6b9)][_0x3ae31f(0x387)]+_0x3ae31f(0x56b)+_0x3eee6e),new m(_0x3eee6e);}}async['SendScheduleMessage'](_0x9635cd,_0x46c57e){const _0x1c300e=a0_0x349dbc;try{if(_0x46c57e[_0x1c300e(0x3cc)]===_0x1c300e(0x59a)&&!this['AutomateSystem']?.[_0x1c300e(0x591)][_0x1c300e(0x3eb)])return this[_0x1c300e(0x433)]['error'](this['instanceName']+'\x20('+this['instance'][_0x1c300e(0x387)]+_0x1c300e(0x58d)),{'error':!0x0,'detail':_0x1c300e(0x222)};switch(_0x46c57e[_0x1c300e(0x3cc)]){case _0x1c300e(0x2e7):return await this[_0x1c300e(0x551)](_0x46c57e,_0x9635cd);case _0x1c300e(0x127):return await this[_0x1c300e(0x40b)](_0x46c57e,_0x9635cd);case'audio':return await this['scheduleSendAudio'](_0x46c57e,_0x9635cd);case'flow':let _0xe575b7=new Fe();return _0xe575b7[_0x1c300e(0x246)]=_0x46c57e[_0x1c300e(0x1af)],_0xe575b7[_0x1c300e(0x185)]=_0x9635cd,await this[_0x1c300e(0x77b)](_0xe575b7);break;default:return this[_0x1c300e(0x433)][_0x1c300e(0x552)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1c300e(0x254)+_0x46c57e[_0x1c300e(0x3cc)]),{'error':!0x0,'detail':_0x1c300e(0x1e1)};}}catch(_0x5b09f6){return this[_0x1c300e(0x433)][_0x1c300e(0x552)](this[_0x1c300e(0x643)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x5b09f6 instanceof Error?_0x5b09f6[_0x1c300e(0x180)]:JSON[_0x1c300e(0x750)](_0x5b09f6,null,0x2))),{'error':!0x0,'detail':_0x5b09f6[_0x1c300e(0x180)]};}}[a0_0x349dbc(0x5e8)](_0x42bb93){const _0x1023e7=a0_0x349dbc;let _0x53ce8f=_0x42bb93[_0x1023e7(0x13d)]('|'),_0xaa0d7a=Math['floor'](Math[_0x1023e7(0x49e)]()*_0x53ce8f['length']);return _0x53ce8f[_0xaa0d7a]['trim']();}async[a0_0x349dbc(0x551)](_0x1a6877,_0x33b553){const _0x1afab0=a0_0x349dbc;if(this['logger'][_0x1afab0(0x3b4)](this[_0x1afab0(0x643)]+'\x20('+this['instance'][_0x1afab0(0x387)]+_0x1afab0(0x630)),!_0x1a6877[_0x1afab0(0x180)][_0x1afab0(0x2e7)]||_0x1a6877[_0x1afab0(0x180)][_0x1afab0(0x2e7)][_0x1afab0(0x2e0)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x1f701a=this[_0x1afab0(0x5e8)](_0x1a6877['message'][_0x1afab0(0x2e7)]),_0x4a564b=await this['replaceVariablesChat'](_0x1f701a,_0x33b553),_0x18ef46={'number':_0x33b553,'options':{'delay':_0x1a6877[_0x1afab0(0x180)][_0x1afab0(0x297)],'linkPreview':_0x1a6877[_0x1afab0(0x180)][_0x1afab0(0x747)]},'textMessage':{'text':_0x4a564b}},_0x299211=null;try{let _0x592eb3=await this['textMessage'](_0x18ef46);if(_0x592eb3&&_0x592eb3[_0x1afab0(0x130)])return{'error':!0x1,'id':_0x592eb3[_0x1afab0(0xc0)]['id']};_0x299211=JSON[_0x1afab0(0x750)](_0x592eb3),this[_0x1afab0(0x433)][_0x1afab0(0x3b4)](this[_0x1afab0(0x643)]+'\x20('+this[_0x1afab0(0x6b9)][_0x1afab0(0x387)]+'):\x20'+_0x299211);}catch(_0x636afb){this[_0x1afab0(0x433)][_0x1afab0(0x552)](this[_0x1afab0(0x643)]+'\x20('+this[_0x1afab0(0x6b9)][_0x1afab0(0x387)]+_0x1afab0(0x20c)+(_0x636afb instanceof Error?_0x636afb[_0x1afab0(0x180)]:JSON[_0x1afab0(0x750)](_0x636afb,null,0x2))),_0x299211=_0x636afb[_0x1afab0(0x180)];}if(_0x299211)return{'error':!0x0,'detail':(typeof _0x299211==_0x1afab0(0x57f)?JSON['stringify'](_0x299211,null,0x2):_0x299211)['replace'](/[\[\]{}\n]/g,'\x20')[_0x1afab0(0x1b7)](/  +/g,'\x20')};}async[a0_0x349dbc(0x40b)](_0x512336,_0x388f26){const _0x1e5449=a0_0x349dbc;this['logger'][_0x1e5449(0x3b4)](this[_0x1e5449(0x643)]+'\x20('+this[_0x1e5449(0x6b9)]['wuid']+_0x1e5449(0x289));let _0x4b8862;if(_0x512336[_0x1e5449(0x180)]['text']&&_0x512336[_0x1e5449(0x180)][_0x1e5449(0x2e7)]['length']>0x0){let _0x4b829d=this[_0x1e5449(0x5e8)](_0x512336[_0x1e5449(0x180)][_0x1e5449(0x2e7)]);_0x4b8862=await this[_0x1e5449(0x47e)](_0x4b829d,_0x388f26);}let _0x4746f6={'number':_0x388f26,'options':{'delay':_0x512336['message'][_0x1e5449(0x297)],'linkPreview':_0x512336[_0x1e5449(0x180)][_0x1e5449(0x747)]},'mediaMessage':{'mediatype':_0x512336['message']['mediatype'],'caption':_0x4b8862,'media':_0x512336[_0x1e5449(0x180)][_0x1e5449(0x3c4)]}},_0xe628c3=null;try{let _0x48a099=await this[_0x1e5449(0x619)](_0x4746f6);if(_0x48a099&&_0x48a099[_0x1e5449(0x130)])return{'error':!0x1,'id':_0x48a099['key']['id']};_0xe628c3=JSON[_0x1e5449(0x750)](_0x48a099),this[_0x1e5449(0x433)][_0x1e5449(0x3b4)](this[_0x1e5449(0x643)]+'\x20('+this[_0x1e5449(0x6b9)][_0x1e5449(0x387)]+_0x1e5449(0x56b)+_0xe628c3);}catch(_0xb45899){this[_0x1e5449(0x433)][_0x1e5449(0x552)](this[_0x1e5449(0x643)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0xb45899 instanceof Error?_0xb45899[_0x1e5449(0x180)]:JSON[_0x1e5449(0x750)](_0xb45899,null,0x2))),_0xe628c3=_0xb45899[_0x1e5449(0x180)];}if(_0xe628c3)return{'error':!0x0,'detail':(typeof _0xe628c3==_0x1e5449(0x57f)?JSON[_0x1e5449(0x750)](_0xe628c3,null,0x2):_0xe628c3)[_0x1e5449(0x1b7)](/[\[\]{}\n]/g,'\x20')[_0x1e5449(0x1b7)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x50a97c,_0x3103b6){const _0x46f671=a0_0x349dbc;this[_0x46f671(0x433)]['verbose'](this[_0x46f671(0x643)]+'\x20('+this[_0x46f671(0x6b9)]['wuid']+_0x46f671(0x536));let _0xee16a3={'number':_0x3103b6,'options':{'delay':_0x50a97c['message'][_0x46f671(0x297)]},'audioMessage':{'audio':_0x50a97c[_0x46f671(0x180)][_0x46f671(0x3c4)]}},_0x4d84ae=null;try{let _0x3c14d6=await this[_0x46f671(0x39f)](_0xee16a3);if(_0x3c14d6&&_0x3c14d6[_0x46f671(0x130)])return{'error':!0x1,'id':_0x3c14d6[_0x46f671(0xc0)]['id']};_0x4d84ae=JSON[_0x46f671(0x750)](_0x3c14d6),this[_0x46f671(0x433)]['verbose'](this[_0x46f671(0x643)]+'\x20('+this[_0x46f671(0x6b9)]['wuid']+_0x46f671(0x56b)+_0x4d84ae);}catch(_0x4f634e){this['logger'][_0x46f671(0x552)](this[_0x46f671(0x643)]+'\x20('+this[_0x46f671(0x6b9)][_0x46f671(0x387)]+_0x46f671(0x2aa)+(_0x4f634e instanceof Error?_0x4f634e[_0x46f671(0x180)]:JSON['stringify'](_0x4f634e,null,0x2))),_0x4d84ae=_0x4f634e['message'];}if(_0x4d84ae)return{'error':!0x0,'detail':(typeof _0x4d84ae==_0x46f671(0x57f)?JSON[_0x46f671(0x750)](_0x4d84ae,null,0x2):_0x4d84ae)[_0x46f671(0x1b7)](/[\[\]{}\n]/g,'\x20')[_0x46f671(0x1b7)](/  +/g,'\x20')};}async['groupDesc'](_0x51a97d){const _0x59ec3e=a0_0x349dbc;try{return await this['client'][_0x59ec3e(0x275)](_0x51a97d[_0x59ec3e(0xee)],_0x51a97d[_0x59ec3e(0x23e)]),{'update':_0x59ec3e(0x5f5)};}catch(_0x3cf602){let _0x2de028='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x2e1e78=_0x3cf602 instanceof Error?_0x3cf602[_0x59ec3e(0x180)]:typeof _0x3cf602=='object'?JSON[_0x59ec3e(0x750)](_0x3cf602):_0x3cf602,_0x48cb78=_0x2de028+':\x20'+_0x2e1e78;throw this[_0x59ec3e(0x433)][_0x59ec3e(0x552)](this['instanceName']+'\x20('+this[_0x59ec3e(0x6b9)]['wuid']+'):\x20'+_0x48cb78),new I(_0x48cb78);}}async['groupName'](_0x1292c1){const _0x27a8e3=a0_0x349dbc;try{return await this[_0x27a8e3(0x785)]['groupUpdateSubject'](_0x1292c1[_0x27a8e3(0xee)],_0x1292c1[_0x27a8e3(0x246)]),{'update':_0x27a8e3(0x5f5)};}catch(_0x2349db){let _0x345d5a=_0x27a8e3(0x780),_0x39cd46=_0x2349db instanceof Error?_0x2349db[_0x27a8e3(0x180)]:typeof _0x2349db==_0x27a8e3(0x57f)?JSON[_0x27a8e3(0x750)](_0x2349db):_0x2349db,_0x4ccfc0=_0x345d5a+':\x20'+_0x39cd46;throw this[_0x27a8e3(0x433)]['error'](this['instanceName']+'\x20('+this[_0x27a8e3(0x6b9)][_0x27a8e3(0x387)]+_0x27a8e3(0x56b)+_0x4ccfc0),new I(_0x4ccfc0);}}async[a0_0x349dbc(0x296)](_0x2efe79){const _0x4b9df8=a0_0x349dbc;try{let _0x5f54c1=await this[_0x4b9df8(0x785)]['groupToggleEphemeral'](_0x2efe79[_0x4b9df8(0xee)],_0x2efe79[_0x4b9df8(0x407)]);return{'success':!0x0};}catch(_0x33ac01){let _0x259cdc='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x29cb2c=_0x33ac01 instanceof Error?_0x33ac01['message']:typeof _0x33ac01==_0x4b9df8(0x57f)?JSON[_0x4b9df8(0x750)](_0x33ac01):_0x33ac01,_0x13e26c=_0x259cdc+':\x20'+_0x29cb2c;throw this[_0x4b9df8(0x433)][_0x4b9df8(0x552)](this[_0x4b9df8(0x643)]+'\x20('+this[_0x4b9df8(0x6b9)][_0x4b9df8(0x387)]+_0x4b9df8(0x56b)+_0x13e26c),new I(_0x13e26c);}}async[a0_0x349dbc(0x162)](_0x1fcac0){const _0xd69c98=a0_0x349dbc;try{return await this['client']['groupSettingUpdate'](_0x1fcac0[_0xd69c98(0xee)],_0x1fcac0['setting']),{'update':_0xd69c98(0x5f5)};}catch(_0x342ff6){let _0x5b24e5=_0xd69c98(0x513),_0x346c7c=_0x342ff6 instanceof Error?_0x342ff6[_0xd69c98(0x180)]:typeof _0x342ff6==_0xd69c98(0x57f)?JSON[_0xd69c98(0x750)](_0x342ff6):_0x342ff6,_0x45619b=_0x5b24e5+':\x20'+_0x346c7c;throw this[_0xd69c98(0x433)][_0xd69c98(0x552)](this['instanceName']+'\x20('+this[_0xd69c98(0x6b9)][_0xd69c98(0x387)]+_0xd69c98(0x56b)+_0x45619b),new I(_0x45619b);}}},Jt=class c{constructor(_0x497cd3,_0x3901ca,_0x1b1b34){const _0x4f09f8=a0_0x349dbc;this['eventEmitter']=_0x497cd3,this[_0x4f09f8(0x593)]=_0x3901ca,this[_0x4f09f8(0x2ea)]=_0x1b1b34,this['db']={},this[_0x4f09f8(0x1e7)]={},this['logger']=new R(c[_0x4f09f8(0x246)]),this[_0x4f09f8(0x327)]={},(this[_0x4f09f8(0x5d8)](),this[_0x4f09f8(0xe2)](),Object[_0x4f09f8(0x53c)](this['db'],_0x3901ca[_0x4f09f8(0x2cd)](_0x4f09f8(0x748))),Object[_0x4f09f8(0x53c)](this[_0x4f09f8(0x1e7)],_0x3901ca[_0x4f09f8(0x2cd)](_0x4f09f8(0x653))),this[_0x4f09f8(0x579)]=this['db'][_0x4f09f8(0x108)]?this[_0x4f09f8(0x2ea)][_0x4f09f8(0x151)]?.['db'](this['db'][_0x4f09f8(0x450)][_0x4f09f8(0x63d)]+_0x4f09f8(0x2f3)):void 0x0,this['cache']=this['redis'][_0x4f09f8(0x108)]?new le(this[_0x4f09f8(0x1e7)]):void 0x0);}async[a0_0x349dbc(0x14d)](_0x209448){const _0x4c20c2=a0_0x349dbc;if(_0x209448&&!this[_0x4c20c2(0x327)][_0x209448])throw new J(_0x4c20c2(0x190)+_0x209448+_0x4c20c2(0x219));let _0x466421=[];for await(let [_0x29c1d1,_0x1bec85]of Object[_0x4c20c2(0x6a3)](this[_0x4c20c2(0x327)]))if(_0x1bec85&&_0x1bec85[_0x4c20c2(0x65a)][_0x4c20c2(0x73e)]==='open'){let _0x423ba3=await this[_0x4c20c2(0x2ea)][_0x4c20c2(0x30c)][_0x4c20c2(0x3e0)](_0x29c1d1);_0x466421[_0x4c20c2(0x3fd)]({'instance':{'instanceName':_0x29c1d1,'apikey':_0x423ba3[_0x4c20c2(0x3f6)],'owner':_0x1bec85[_0x4c20c2(0x387)],'profileName':await _0x1bec85[_0x4c20c2(0x404)]()||_0x4c20c2(0x713),'profilePictureUrl':_0x1bec85[_0x4c20c2(0x6d2)]}});}return _0x466421[_0x4c20c2(0x3e0)](_0xb4977a=>_0xb4977a[_0x4c20c2(0x6b9)][_0x4c20c2(0x643)]===_0x209448)??_0x466421;}async['cleaningUp'](_0x572f58){const _0x559271=a0_0x349dbc;if(this['db'][_0x559271(0x108)]&&(await this[_0x559271(0x2ea)]['dbServer']['connect'](),(await this[_0x559271(0x579)][_0x559271(0x2d0)]())[_0x559271(0x2e0)]>0x0&&await this['dbInstance']['dropCollection'](_0x572f58)),this[_0x559271(0x1e7)][_0x559271(0x108)]){this[_0x559271(0x1b1)]['reference']=_0x572f58,await this[_0x559271(0x1b1)][_0x559271(0x33f)]();return;}}async['loadInstance'](){const _0x183cb3=a0_0x349dbc;await this['InstancesAlterarTodas']();let _0x4b539a=async _0x8856b7=>{const _0x5ecd70=a0_0x5444;let _0x20aed1=new Me(this[_0x5ecd70(0x593)],this[_0x5ecd70(0x543)],this[_0x5ecd70(0x2ea)]);_0x20aed1[_0x5ecd70(0x643)]=_0x8856b7,await _0x20aed1[_0x5ecd70(0x6e9)](),this[_0x5ecd70(0x327)][_0x8856b7]=_0x20aed1;};try{if(this[_0x183cb3(0x1e7)][_0x183cb3(0x108)]){let _0x1cc71c=await this[_0x183cb3(0x1b1)][_0x183cb3(0x366)]();_0x1cc71c?.['length']>0x0&&_0x1cc71c['forEach'](async _0x37fd8f=>await _0x4b539a(_0x37fd8f[_0x183cb3(0x13d)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x183cb3(0x2ea)][_0x183cb3(0x151)][_0x183cb3(0x451)]();let _0x22cedf=await this[_0x183cb3(0x579)]['collections']();_0x22cedf['length']>0x0&&_0x22cedf[_0x183cb3(0x79a)](async _0x36f7b2=>await _0x4b539a(_0x36f7b2[_0x183cb3(0x6d9)][_0x183cb3(0x1b7)](/^[\w-]+\./,'')));return;}}catch(_0x3d5a59){this[_0x183cb3(0x433)]['error'](_0x3d5a59);}}async[a0_0x349dbc(0x389)](){const _0x3be70b=a0_0x349dbc;let _0x3eeab7=await this[_0x3be70b(0x2ea)][_0x3be70b(0x30c)][_0x3be70b(0x5d6)](),_0x1c3080=_0x3eeab7[_0x3be70b(0x186)](_0x3e3ebb=>!this[_0x3be70b(0x327)][_0x3e3ebb[_0x3be70b(0x588)]]&&(_0x3e3ebb['online']||typeof _0x3e3ebb['online']>'u'));_0x1c3080[_0x3be70b(0x2e0)]>0x0&&await Promise[_0x3be70b(0x77f)](_0x1c3080[_0x3be70b(0x568)](async _0x2f03bc=>{const _0x55caaf=_0x3be70b;let _0x40ed2f={'online':!0x1,'lastDisconnect':Date[_0x55caaf(0x6db)]()};await this['repository'][_0x55caaf(0x30c)][_0x55caaf(0x719)](_0x40ed2f,_0x2f03bc[_0x55caaf(0x588)]);}));let _0x21d9e0=Date[_0x3be70b(0x6db)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x54d3af=_0x3eeab7[_0x3be70b(0x186)](_0x50b229=>!this[_0x3be70b(0x327)][_0x50b229['_id']]&&typeof _0x50b229[_0x3be70b(0x19a)]<'u'&&_0x50b229['lastDisconnect']<_0x21d9e0);_0x54d3af['length']>0x0&&await Promise['all'](_0x54d3af['map'](async _0x8bf76f=>{}));}async[a0_0x349dbc(0x71c)](){const _0x6a2475=a0_0x349dbc;try{let _0x1b8906={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x422a88={'online':!0x1,'lastDisconnect':Date[_0x6a2475(0x6db)]()},_0x57a461=await this[_0x6a2475(0x2ea)][_0x6a2475(0x30c)][_0x6a2475(0x597)](_0x1b8906,_0x422a88);console[_0x6a2475(0x37f)](_0x6a2475(0x44a)+_0x57a461[_0x6a2475(0x1ac)]),await this[_0x6a2475(0x2eb)]();}catch(_0x252e1f){console[_0x6a2475(0x552)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x252e1f);}}async[a0_0x349dbc(0x2eb)](){const _0x17b768=a0_0x349dbc;try{let _0x20751a={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x457444=await this[_0x17b768(0x2ea)][_0x17b768(0x30c)][_0x17b768(0x54e)](_0x20751a);console[_0x17b768(0x37f)](_0x17b768(0x50b)+_0x457444['insertCount']);}catch(_0x381d46){console[_0x17b768(0x552)](_0x17b768(0x1ed),_0x381d46);}}['removeInstance'](){const _0x55fa9e=a0_0x349dbc;this['eventEmitter']['on'](_0x55fa9e(0x18c),async _0x5c5d74=>{const _0x2094c1=_0x55fa9e;try{this[_0x2094c1(0x327)][_0x5c5d74]=void 0x0;}catch{}try{this[_0x2094c1(0x47b)](_0x5c5d74);}finally{this[_0x2094c1(0x433)][_0x2094c1(0x6ad)]('Instance\x20\x22'+_0x5c5d74+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x3dc63d=a0_0x349dbc;this[_0x3dc63d(0x543)]['on']('no.connection',async _0x1eef70=>{const _0x14b660=_0x3dc63d;try{this[_0x14b660(0x327)][_0x1eef70]=void 0x0;}catch{}try{this[_0x14b660(0x47b)](_0x1eef70);}finally{this[_0x14b660(0x433)][_0x14b660(0x6ad)]('Instance\x20\x22'+_0x1eef70+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends x{['getChatModelForOwner'](_0x4ec2d8){return Ks(_0x4ec2d8);}async['insert'](_0x360bda){const _0x5c1316=a0_0x349dbc;if(_0x360bda[_0x5c1316(0x2e0)]!==0x0)try{return{'insertCount':(await this[_0x5c1316(0x10f)](_0x360bda[0x0][_0x5c1316(0x293)])[_0x5c1316(0x312)]([..._0x360bda]))[_0x5c1316(0x2e0)]};}catch(_0x3bf083){return _0x3bf083;}}async[a0_0x349dbc(0x3e0)](_0x5b123e,_0x58571b){const _0xc27143=a0_0x349dbc;try{let _0x5bcbe8=this[_0xc27143(0x10f)](_0x58571b),_0x2d708f=$(_0x5b123e[_0xc27143(0x6e5)]);return await _0x5bcbe8[_0xc27143(0x3e0)](_0x2d708f)[_0xc27143(0x689)]({'lastmsg':-0x1})['limit'](_0x5b123e?.[_0xc27143(0x2d9)]??0x0)['lean']();}catch{return[];}}async[a0_0x349dbc(0x209)](_0x5e4800,_0x4cb931){const _0x2fba97=a0_0x349dbc;try{return{'deletedCount':(await this[_0x2fba97(0x10f)](_0x4cb931)[_0x2fba97(0x54e)]({..._0x5e4800[_0x2fba97(0x6e5)]}))[_0x2fba97(0x595)]};}catch(_0x687ad4){return{'error':_0x687ad4?.[_0x2fba97(0x343)]()};}}async[a0_0x349dbc(0x33c)](_0x25aa5c,_0x4796c6){const _0x122888=a0_0x349dbc;try{return await this['getChatModelForOwner'](_0x4796c6)[_0x122888(0x54e)]({..._0x25aa5c[_0x122888(0x6e5)]}),[];}catch(_0x13d230){return{'error':_0x13d230?.['toString']()};}}async[a0_0x349dbc(0x1a0)](_0x56c418,_0x5388ca){const _0xe69d8c=a0_0x349dbc;try{let _0x112476=this[_0xe69d8c(0x10f)](_0x5388ca),_0x4c87ec=$(_0x56c418[_0xe69d8c(0x6e5)]);return await _0x112476['findOne'](_0x4c87ec)[_0xe69d8c(0x1d5)]();}catch{return null;}}async['updateOne'](_0x20426d,_0x1f2e91,_0x50cd5f,_0x52ab37,_0x47ac12=a0_0x349dbc(0x379)){const _0x24c4e6=a0_0x349dbc;try{let _0x4bfbdc={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x52ab37},_0x1db72e=this[_0x24c4e6(0x10f)](_0x50cd5f),_0x245eda=$(_0x20426d[_0x24c4e6(0x6e5)]);Object[_0x24c4e6(0x4a4)](_0x1f2e91)['forEach'](_0x1d5e02=>{_0x1f2e91[_0x1d5e02]==null&&delete _0x1f2e91[_0x1d5e02];});let _0x4e015e={};return _0x4e015e[_0x47ac12]=_0x1f2e91,await _0x1db72e[_0x24c4e6(0x1b3)](_0x245eda,_0x4e015e,_0x4bfbdc);}catch(_0x61d5a2){return console[_0x24c4e6(0x552)](_0x61d5a2),null;}}async['updateMany'](_0x349455){const _0x2d5e29=a0_0x349dbc;try{let _0x1f1b02=this[_0x2d5e29(0x10f)](_0x349455[0x0]['query']['where']['owner']),_0x18df46=_0x349455[_0x2d5e29(0x568)](_0x531363=>({'updateOne':{'filter':{..._0x531363['query']['where']},'update':{'$set':_0x531363['update']},'upsert':!0x0}})),_0xf01719=await _0x1f1b02[_0x2d5e29(0x133)](_0x18df46);return _0xf01719[_0x2d5e29(0x2f1)]+_0xf01719[_0x2d5e29(0x5e7)];}catch(_0x3d218a){return console[_0x2d5e29(0x552)](_0x3d218a),0x0;}}async[a0_0x349dbc(0x5ff)](_0x325270){const _0x2484eb=a0_0x349dbc;try{let _0x3dad1a={'group_isCommunity':'','group_announce':'','group_size':''},_0x896d2a={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x2dc270={'$unset':_0x3dad1a};return(await this[_0x2484eb(0x10f)](_0x325270)[_0x2484eb(0x1da)](_0x896d2a,_0x2dc270))[_0x2484eb(0x2f1)];}catch(_0x370ceb){return console['error'](_0x2484eb(0xfc),_0x370ceb),0x0;}}async[a0_0x349dbc(0x103)](_0x435517){const _0x2a41c0=a0_0x349dbc;try{let _0x4c9f1f=this[_0x2a41c0(0x10f)](_0x435517),_0x293126={'leadInfo.etiquetas':{'$exists':!0x1}},_0x104b6d={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4c9f1f[_0x2a41c0(0x1da)](_0x293126,_0x104b6d))[_0x2a41c0(0x2f1)];}catch(_0x5cd2bd){return console[_0x2a41c0(0x552)](_0x5cd2bd),0x0;}}async['updateMissingTags'](_0x476e91){const _0x2a62cf=a0_0x349dbc;try{let _0x3db2fe=this[_0x2a62cf(0x10f)](_0x476e91),_0x56e463={'leadInfo.tags':{'$exists':!0x1}},_0x3137a7={'$set':{'leadInfo.tags':[]}};return(await _0x3db2fe['updateMany'](_0x56e463,_0x3137a7))[_0x2a62cf(0x2f1)];}catch(_0x296b4e){return console[_0x2a62cf(0x552)](_0x296b4e),0x0;}}async[a0_0x349dbc(0x4c3)](_0x4431a7){const _0x5db7ab=a0_0x349dbc;try{let _0x1b6b9e=this[_0x5db7ab(0x10f)](_0x4431a7),_0x368844={'leadInfo.customFields':{'$exists':!0x1}},_0x40c61d={'$set':{'leadInfo.customFields':[]}};return(await _0x1b6b9e[_0x5db7ab(0x1da)](_0x368844,_0x40c61d))[_0x5db7ab(0x2f1)];}catch(_0x191a4b){return console[_0x5db7ab(0x552)](_0x191a4b),0x0;}}async[a0_0x349dbc(0x312)](_0x5cdd58,_0x257d4e){const _0x4d19b2=a0_0x349dbc;if(!Array[_0x4d19b2(0x2e1)](_0x5cdd58)||_0x5cdd58['length']===0x0)throw new Error(_0x4d19b2(0x3a3));try{return(await this[_0x4d19b2(0x10f)](_0x257d4e)[_0x4d19b2(0x312)](_0x5cdd58))[_0x4d19b2(0x2e0)];}catch(_0x403d79){throw console[_0x4d19b2(0x552)](_0x4d19b2(0x756),_0x403d79),_0x403d79;}}async[a0_0x349dbc(0x31e)](_0x324470,_0xaa3b59){const _0x227e23=a0_0x349dbc;try{await this[_0x227e23(0x10f)](_0xaa3b59)[_0x227e23(0x22a)]({'_id':_0x324470});}catch(_0x45b27b){throw console[_0x227e23(0x552)](_0x227e23(0x259),_0x45b27b),_0x45b27b;}}},Vt=class extends x{constructor(_0x15e8a2,_0x2cb452,_0x3eac76){const _0x57b8ed=a0_0x349dbc;super(_0x2cb452),this[_0x57b8ed(0x1f2)]=_0x15e8a2,this[_0x57b8ed(0x593)]=_0x2cb452,this[_0x57b8ed(0x25f)]=_0x3eac76;}async[a0_0x349dbc(0x24d)](_0x143ed5){const _0x492b23=a0_0x349dbc;if(_0x143ed5['length']!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x492b23(0x312)]([..._0x143ed5]))[_0x492b23(0x2e0)]};}catch(_0x4c7a28){return _0x4c7a28;}}async[a0_0x349dbc(0x710)](_0x3e7064,_0x136939){const _0x4ae3de=a0_0x349dbc;try{let _0x3d1a75=$(_0x3e7064['where']);return{'updatedCount':(await this[_0x4ae3de(0x1f2)]['updateMany'](_0x3d1a75,{'$set':_0x136939}))[_0x4ae3de(0x2f1)]};}catch(_0x3a0d22){return console[_0x4ae3de(0x552)](_0x4ae3de(0x418),_0x3a0d22),{'error':_0x3a0d22['toString']()};}}async[a0_0x349dbc(0x4a5)](_0x24d1bb){const _0x1e6e04=a0_0x349dbc;try{let _0x2d22e3={'_id':{'$in':_0x24d1bb}};return await this[_0x1e6e04(0x1f2)][_0x1e6e04(0x3e0)](_0x2d22e3)[_0x1e6e04(0x1d5)]();}catch(_0x490d7e){return console['error'](_0x1e6e04(0x573),_0x490d7e),[];}}async[a0_0x349dbc(0x209)](_0x36f7df){const _0x3a711d=a0_0x349dbc;try{return{'deletedCount':(await this['cacheContactModel'][_0x3a711d(0x54e)]({..._0x36f7df['where']}))[_0x3a711d(0x595)]};}catch(_0x514898){return{'error':_0x514898?.['toString']()};}}async[a0_0x349dbc(0x3e0)](_0xee8629){const _0x5abe8b=a0_0x349dbc;try{let _0x556b8a=$(_0xee8629[_0x5abe8b(0x6e5)]);return await this[_0x5abe8b(0x1f2)][_0x5abe8b(0x3e0)](_0x556b8a)[_0x5abe8b(0x2d9)](_0xee8629?.[_0x5abe8b(0x2d9)]??0x0)[_0x5abe8b(0x1d5)]();}catch{return[];}}async[a0_0x349dbc(0x1a0)](_0x3dbfc5){const _0x51fb78=a0_0x349dbc;try{let _0x1d4a5c=$(_0x3dbfc5[_0x51fb78(0x6e5)]);return await this[_0x51fb78(0x1f2)][_0x51fb78(0x1a0)](_0x1d4a5c)[_0x51fb78(0x1d5)]();}catch{return null;}}},Gt=class extends x{[a0_0x349dbc(0x2f0)](_0x202d41){return fa(_0x202d41);}async[a0_0x349dbc(0x36b)](_0x5d802a,_0x341ca5,_0x4f753,_0x4b3955){const _0x28abdb=a0_0x349dbc;try{let _0x12e23e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4b3955},_0x453a3e=this[_0x28abdb(0x2f0)](_0x4f753),_0x38037c=$(_0x5d802a['where']);return await _0x453a3e[_0x28abdb(0x1b3)](_0x38037c,{'$set':_0x341ca5},_0x12e23e);}catch(_0x201ab3){return console[_0x28abdb(0x552)](_0x201ab3),null;}}async[a0_0x349dbc(0x3e0)](_0x59ca6e,_0x4e5e41){try{let _0x1e690c=this['getLabelModelForOwner'](_0x4e5e41),_0x4d2466=$(_0x59ca6e['where']);return await _0x1e690c['find'](_0x4d2466);}catch(_0x2839e5){console['error'](_0x2839e5);}}async[a0_0x349dbc(0x209)](_0x441923,_0x5b00f9){const _0x38495c=a0_0x349dbc;try{let _0x29803c=this[_0x38495c(0x2f0)](_0x5b00f9),_0x317703=$(_0x441923[_0x38495c(0x6e5)]);await _0x29803c[_0x38495c(0x54e)](_0x317703);}catch(_0x2cecd7){console[_0x38495c(0x552)](_0x2cecd7);}}async[a0_0x349dbc(0x33c)](_0x2a39cc){const _0x1f83a8=a0_0x349dbc;try{return await this[_0x1f83a8(0x2f0)](_0x2a39cc)['collection'][_0x1f83a8(0x672)](),{'success':!0x0};}catch(_0x885642){return console[_0x1f83a8(0x552)](_0x885642),{'success':!0x1,'error':_0x885642};}}},Bt=class{constructor(_0x53054d){const _0x1face8=a0_0x349dbc;this[_0x1face8(0x147)]=_0x53054d;}async[a0_0x349dbc(0x3f5)]({instanceName:_0x13d614},_0x9b25ef){const _0x536a0a=a0_0x349dbc;return await this[_0x536a0a(0x147)][_0x536a0a(0x327)][_0x13d614][_0x536a0a(0x3f5)](_0x9b25ef);}async['whatsappNumber']({instanceName:_0x3e9d41},_0x4b1d26){const _0x2a90a9=a0_0x349dbc;return await this[_0x2a90a9(0x147)][_0x2a90a9(0x327)][_0x3e9d41][_0x2a90a9(0x102)](_0x4b1d26);}async[a0_0x349dbc(0x336)]({instanceName:_0x2af51a},_0x4dc46f){const _0x16d6cf=a0_0x349dbc;return await this[_0x16d6cf(0x147)][_0x16d6cf(0x327)][_0x2af51a][_0x16d6cf(0x336)](_0x4dc46f);}async['readMessage']({instanceName:_0x5588f4},_0x1ab2a5){const _0x3c129b=a0_0x349dbc;return await this['waMonitor']['waInstances'][_0x5588f4][_0x3c129b(0x6ec)](_0x1ab2a5);}async[a0_0x349dbc(0x57d)]({instanceName:_0x4f2dcf},_0x4e6703){const _0x5aa66e=a0_0x349dbc;return await this[_0x5aa66e(0x147)][_0x5aa66e(0x327)][_0x4f2dcf][_0x5aa66e(0x57d)](_0x4e6703);}async[a0_0x349dbc(0x1e4)]({instanceName:_0x309da3},_0x235af5){const _0x16fe45=a0_0x349dbc;return await this['waMonitor'][_0x16fe45(0x327)][_0x309da3]['deleteMessage'](_0x235af5);}async['fetchProfilePicture']({instanceName:_0x35ba54},_0x5be616){const _0x1a4856=a0_0x349dbc;return await this[_0x1a4856(0x147)][_0x1a4856(0x327)][_0x35ba54][_0x1a4856(0x3c7)](_0x5be616['number']);}async[a0_0x349dbc(0x4e8)]({instanceName:_0x54230a},_0x1dcddf){const _0x3d0389=a0_0x349dbc;return await this[_0x3d0389(0x147)]['waInstances'][_0x54230a]['fetchProfile'](_0x1dcddf['number']);}async[a0_0x349dbc(0x2ca)]({instanceName:_0x552aba},_0x30743d){const _0x672539=a0_0x349dbc;return await this['waMonitor'][_0x672539(0x327)][_0x552aba][_0x672539(0x2ca)](_0x30743d);}async[a0_0x349dbc(0x395)]({instanceName:_0x51f101},_0x5ad74d){const _0x1b20ca=a0_0x349dbc;return await this[_0x1b20ca(0x147)][_0x1b20ca(0x327)][_0x51f101][_0x1b20ca(0x395)](_0x5ad74d);}async['getBase64FromMediaMessage']({instanceName:_0x377e1d},_0xad68d2){const _0xf730d0=a0_0x349dbc;return await this['waMonitor'][_0xf730d0(0x327)][_0x377e1d]['getBase64FromMediaMessage'](_0xad68d2);}async[a0_0x349dbc(0x6cd)]({instanceName:_0x59d595},_0x4384dd){const _0x4bc41d=a0_0x349dbc;return await this[_0x4bc41d(0x147)][_0x4bc41d(0x327)][_0x59d595][_0x4bc41d(0x6cd)](_0x4384dd);}async[a0_0x349dbc(0x654)]({instanceName:_0x1ade6e}){const _0x392502=a0_0x349dbc;return await this[_0x392502(0x147)][_0x392502(0x327)][_0x1ade6e][_0x392502(0x654)]();}async[a0_0x349dbc(0x3c8)]({instanceName:_0x3ce87d}){const _0x9dd380=a0_0x349dbc;return await this['waMonitor'][_0x9dd380(0x327)][_0x3ce87d][_0x9dd380(0x3c8)]();}async[a0_0x349dbc(0x216)]({instanceName:_0x41a17f}){const _0x4bdc04=a0_0x349dbc;return await this['waMonitor'][_0x4bdc04(0x327)][_0x41a17f]['fetchPrivacySettings']();}async[a0_0x349dbc(0x2a5)]({instanceName:_0x18c48b},_0x589812){const _0x2d1540=a0_0x349dbc;return await this[_0x2d1540(0x147)][_0x2d1540(0x327)][_0x18c48b][_0x2d1540(0x2a5)](_0x589812);}async[a0_0x349dbc(0x735)]({instanceName:_0x34fb83},_0x39904c){const _0x1f63af=a0_0x349dbc;return await this[_0x1f63af(0x147)][_0x1f63af(0x327)][_0x34fb83][_0x1f63af(0x735)](_0x39904c['number']);}async['updateProfileName']({instanceName:_0x34efd2},_0x3fa544){const _0x42f88f=a0_0x349dbc;return await this[_0x42f88f(0x147)]['waInstances'][_0x34efd2]['updateProfileName'](_0x3fa544[_0x42f88f(0x246)]);}async['updateProfileStatus']({instanceName:_0x25ee5f},_0xc24f73){const _0x59a581=a0_0x349dbc;return await this[_0x59a581(0x147)][_0x59a581(0x327)][_0x25ee5f][_0x59a581(0x367)](_0xc24f73[_0x59a581(0x130)]);}async[a0_0x349dbc(0x658)]({instanceName:_0x49f998},_0x4662e7){const _0x51a156=a0_0x349dbc;return await this[_0x51a156(0x147)][_0x51a156(0x327)][_0x49f998]['updateProfilePicture'](_0x4662e7[_0x51a156(0x264)]);}async[a0_0x349dbc(0x6c3)]({instanceName:_0x15bb32},_0x223582){return await this['waMonitor']['waInstances'][_0x15bb32]['removeProfilePicture']();}},Ds=require(a0_0x349dbc(0x4ce)),Wt=class c{constructor(_0x4eaf5f,_0x2f6253,_0x2f35de,_0x4030ed,_0x45f1bb){const _0x3d4d95=a0_0x349dbc;this[_0x3d4d95(0x147)]=_0x4eaf5f,this[_0x3d4d95(0x593)]=_0x2f6253,this[_0x3d4d95(0x2ea)]=_0x2f35de,this[_0x3d4d95(0x543)]=_0x4030ed,this[_0x3d4d95(0x6f2)]=_0x45f1bb,this['logger']=new R(c[_0x3d4d95(0x246)]);}async[a0_0x349dbc(0x3e7)]({instanceName:_0x526675,apikey:_0x20113e,number:_0x354008,proxy:_0x14903d=!0x0}){const _0x3aae1d=a0_0x349dbc;try{let _0x2daeb0=new Me(this['configService'],this[_0x3aae1d(0x543)],this['repository']);_0x2daeb0['instanceName']=_0x526675,this[_0x3aae1d(0x147)][_0x3aae1d(0x327)][_0x2daeb0[_0x3aae1d(0x643)]]=_0x2daeb0;let _0x31396e={};_0x20113e?(await this[_0x3aae1d(0x2ea)][_0x3aae1d(0x30c)][_0x3aae1d(0x719)]({'apikey':_0x20113e},_0x526675),_0x31396e[_0x3aae1d(0x3f6)]=_0x20113e):_0x31396e=await this['authService']['generateHash']({'instanceName':_0x2daeb0[_0x3aae1d(0x643)]});let _0xe582ba;if(_0x354008){if(_0xe582ba=await this[_0x3aae1d(0x6a7)](_0x354008),_0xe582ba['error'])throw new I(_0xe582ba[_0x3aae1d(0x552)][_0x3aae1d(0x343)]());_0x354008=_0xe582ba[_0x3aae1d(0x234)];}let _0xc5d9c7;return await _0x2daeb0[_0x3aae1d(0x6e9)](_0x354008),await(0x0,Ds[_0x3aae1d(0x297)])(0x7d0),_0xc5d9c7=_0x2daeb0[_0x3aae1d(0x77a)],{'instance':{'instanceName':_0x2daeb0[_0x3aae1d(0x643)],'status':'created'},'hash':_0x31396e,'qrcode':_0xc5d9c7};}catch(_0x233b2a){throw this['logger']['error'](_0x233b2a),_0x233b2a;}}async[a0_0x349dbc(0x5f2)]({instanceName:_0x5e925a,number:_0x5b6340=null}){const _0x45ae93=a0_0x349dbc;try{let _0x58b219=this['waMonitor'][_0x45ae93(0x327)][_0x5e925a];switch(_0x58b219?.[_0x45ae93(0x65a)]?.[_0x45ae93(0x73e)]){case'close':return await _0x58b219[_0x45ae93(0x6e9)](_0x5b6340),await(0x0,Ds[_0x45ae93(0x297)])(0x7d0),_0x58b219[_0x45ae93(0x77a)];case _0x45ae93(0x2d2):return _0x58b219[_0x45ae93(0x77a)];default:return await this['connectionState']({'instanceName':_0x5e925a});}}catch(_0x84bd51){this[_0x45ae93(0x433)][_0x45ae93(0x37f)](_0x84bd51);}}async[a0_0x349dbc(0x57b)]({instanceName:_0x493641}){const _0x2ccd10=a0_0x349dbc;let _0x3f15b2=this[_0x2ccd10(0x147)][_0x2ccd10(0x327)][_0x493641]['connectionStatus'],_0x548ff6=null;_0x3f15b2['state']===_0x2ccd10(0x4b3)&&_0x493641&&(_0x548ff6=await this['waMonitor'][_0x2ccd10(0x14d)](_0x493641));let _0x518290=null;return _0x3f15b2[_0x2ccd10(0x73e)]===_0x2ccd10(0x2d2)&&_0x493641&&(_0x518290=this['waMonitor'][_0x2ccd10(0x327)][_0x493641]['qrCode']),{'instance':_0x493641,'connectionStatus':_0x3f15b2,'instanceInfo':_0x548ff6,'qrcode':_0x518290};}async['verifyWhatsAppNumber'](_0x56b399){const _0x103cb3=a0_0x349dbc;_0x56b399=_0x56b399['replace'](/\D/g,'');let _0x197c8e=Object['keys'](this['waMonitor'][_0x103cb3(0x327)])[_0x103cb3(0x186)](_0x321023=>{const _0x39eb2e=_0x103cb3;let _0x2a1f06=this[_0x39eb2e(0x147)][_0x39eb2e(0x327)][_0x321023];return _0x2a1f06&&_0x2a1f06[_0x39eb2e(0x65a)]&&_0x2a1f06[_0x39eb2e(0x65a)][_0x39eb2e(0x73e)]===_0x39eb2e(0x4b3);});if(_0x197c8e['length']===0x0)return{'number':this[_0x103cb3(0x314)](_0x56b399)};let _0x53e51f=Math[_0x103cb3(0x13e)](Math['random']()*_0x197c8e[_0x103cb3(0x2e0)]),_0x21750f=_0x197c8e[_0x53e51f];try{let _0x41df92=(await this['waMonitor'][_0x103cb3(0x327)][_0x21750f][_0x103cb3(0x102)]({'numbers':[_0x56b399]}))['shift']();return _0x41df92['exists']?{'number':_0x41df92[_0x103cb3(0x260)]['replace'](_0x103cb3(0x42f),'')}:{'number':_0x56b399,'error':_0x103cb3(0x753)};}catch(_0x20731b){return this[_0x103cb3(0x433)][_0x103cb3(0x552)](_0x103cb3(0x3ff)+_0x20731b),{'number':_0x56b399,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x349dbc(0x314)](_0x2f7a02){const _0x416b59=a0_0x349dbc;let _0x1ff370=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x416b59(0xc3)](_0x2f7a02);if(_0x1ff370&&_0x1ff370[0x1]==='55'){let _0x25f6dd=_0x1ff370[0x2],_0x1a110f=_0x1ff370[0x3],_0xd9e3e0=_0x1ff370[0x4];if(parseInt(_0x25f6dd)>=0x1f&&_0x1a110f==='9')return _0x1ff370[0x1]+_0x25f6dd+_0xd9e3e0;}return _0x2f7a02;}async[a0_0x349dbc(0x633)]({instanceName:_0x1c50ad}){const _0x35adfb=a0_0x349dbc;try{return this[_0x35adfb(0x147)][_0x35adfb(0x327)][_0x1c50ad]?.[_0x35adfb(0x785)]?.['ws']?.[_0x35adfb(0x456)](),{'status':_0x35adfb(0x6b8),'error':!0x1,'response':{'message':_0x35adfb(0x15b)}};}catch(_0x595367){this[_0x35adfb(0x433)][_0x35adfb(0x552)](_0x595367);}}async[a0_0x349dbc(0x403)]({instanceName:_0x119288}){const _0x5eea07=a0_0x349dbc;return _0x119288?this[_0x5eea07(0x147)]['instanceInfo'](_0x119288):this[_0x5eea07(0x147)][_0x5eea07(0x14d)]();}async['logout']({instanceName:_0x434f94}){const _0x14e4ba=a0_0x349dbc;try{return await this['waMonitor'][_0x14e4ba(0x327)][_0x434f94]?.[_0x14e4ba(0x785)]?.[_0x14e4ba(0x453)]('Log\x20out\x20instance:\x20'+_0x434f94),{'error':!0x1,'message':_0x14e4ba(0x61a)};}catch(_0x3a7b2a){throw new I(_0x3a7b2a[_0x14e4ba(0x343)]());}}async[a0_0x349dbc(0x2c6)]({instanceName:_0x4a1645}){const _0x50bf5d=a0_0x349dbc;if((await this['connectionState']({'instanceName':_0x4a1645}))[_0x50bf5d(0x65a)]['state']===_0x50bf5d(0x4b3))throw new m([_0x50bf5d(0x759),_0x50bf5d(0x294)]);try{return delete this['waMonitor'][_0x50bf5d(0x327)][_0x4a1645],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x226766){throw new m(_0x226766[_0x50bf5d(0x343)]());}}},te=require(a0_0x349dbc(0x2f8)),zt=class{constructor(_0xfa0cf7){const _0x30e6ab=a0_0x349dbc;this[_0x30e6ab(0x147)]=_0xfa0cf7;}async[a0_0x349dbc(0x454)]({instanceName:_0x8fd08},_0x4deac3){const _0x57be29=a0_0x349dbc;return await this['waMonitor'][_0x57be29(0x327)][_0x8fd08][_0x57be29(0x21b)](_0x4deac3);}async[a0_0x349dbc(0x652)]({instanceName:_0xa192bf},_0x191513){return await this['waMonitor']['waInstances'][_0xa192bf]['menuMessage'](_0x191513);}async[a0_0x349dbc(0x5c8)]({instanceName:_0x5e67f8},_0x57b3e6){const _0x2c5cea=a0_0x349dbc;if((0x0,te['isBase64'])(_0x57b3e6?.[_0x2c5cea(0x619)]?.['media'])&&!_0x57b3e6?.[_0x2c5cea(0x619)]?.[_0x2c5cea(0x474)])throw new m(_0x2c5cea(0x517));if((0x0,te[_0x2c5cea(0x2b8)])(_0x57b3e6?.[_0x2c5cea(0x619)]?.[_0x2c5cea(0x127)])||(0x0,te['isBase64'])(_0x57b3e6?.[_0x2c5cea(0x619)]?.['media']))return await this[_0x2c5cea(0x147)][_0x2c5cea(0x327)][_0x5e67f8]['mediaMessage'](_0x57b3e6);throw new m(_0x2c5cea(0x4e7));}async[a0_0x349dbc(0x563)]({instanceName:_0x1423ed},_0x42bf33){const _0x1cf88b=a0_0x349dbc;if((0x0,te[_0x1cf88b(0x2b8)])(_0x42bf33[_0x1cf88b(0x15c)][_0x1cf88b(0x270)])||(0x0,te[_0x1cf88b(0x241)])(_0x42bf33[_0x1cf88b(0x15c)][_0x1cf88b(0x270)]))return await this[_0x1cf88b(0x147)][_0x1cf88b(0x327)][_0x1423ed]['mediaSticker'](_0x42bf33);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x349dbc(0x718)]({instanceName:_0x2fc1d3},_0x4dda7d){const _0x4bff40=a0_0x349dbc;if((0x0,te[_0x4bff40(0x2b8)])(_0x4dda7d['audioMessage'][_0x4bff40(0x6b2)])||(0x0,te['isBase64'])(_0x4dda7d[_0x4bff40(0xf5)][_0x4bff40(0x6b2)]))return await this[_0x4bff40(0x147)][_0x4bff40(0x327)][_0x2fc1d3][_0x4bff40(0x39f)](_0x4dda7d);throw new m(_0x4bff40(0x4e7));}async['sendButtons']({instanceName:_0x3fc552},_0x2cf6bf){const _0x1aecae=a0_0x349dbc;if((0x0,te[_0x1aecae(0x241)])(_0x2cf6bf[_0x1aecae(0x16c)]['mediaMessage']?.[_0x1aecae(0x127)])&&!_0x2cf6bf[_0x1aecae(0x16c)]['mediaMessage']?.[_0x1aecae(0x474)])throw new m(_0x1aecae(0x517));return await this[_0x1aecae(0x147)][_0x1aecae(0x327)][_0x3fc552][_0x1aecae(0x16c)](_0x2cf6bf);}async[a0_0x349dbc(0x40d)]({instanceName:_0x445762},_0x416025){const _0x1542d8=a0_0x349dbc;return await this[_0x1542d8(0x147)][_0x1542d8(0x327)][_0x445762][_0x1542d8(0x2c8)](_0x416025);}async[a0_0x349dbc(0x1a5)]({instanceName:_0x31f3e7},_0x3b392c){const _0xa423a8=a0_0x349dbc;return await this[_0xa423a8(0x147)]['waInstances'][_0x31f3e7][_0xa423a8(0x51c)](_0x3b392c);}async[a0_0x349dbc(0x27b)]({instanceName:_0x3acb54},_0x5b8d0d){const _0x34b267=a0_0x349dbc;return await this[_0x34b267(0x147)]['waInstances'][_0x3acb54][_0x34b267(0x31f)](_0x5b8d0d);}async['sendContact']({instanceName:_0x16cb10},_0x5078f7){const _0xfae8f6=a0_0x349dbc;return await this['waMonitor'][_0xfae8f6(0x327)][_0x16cb10][_0xfae8f6(0x720)](_0x5078f7);}async[a0_0x349dbc(0x75a)]({instanceName:_0x585b77},_0x2b7f61){const _0x49aa6c=a0_0x349dbc;if(!_0x2b7f61[_0x49aa6c(0x766)]['reaction'][_0x49aa6c(0x565)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x49aa6c(0x2f9));return await this[_0x49aa6c(0x147)][_0x49aa6c(0x327)][_0x585b77][_0x49aa6c(0x766)](_0x2b7f61);}async[a0_0x349dbc(0x315)]({instanceName:_0x2389b2},_0x3245dd){const _0x315958=a0_0x349dbc;return await this[_0x315958(0x147)][_0x315958(0x327)][_0x2389b2]['statusMessage'](_0x3245dd);}},Ro=require('jsonwebtoken'),_s=require('uuid'),Ht=class c{constructor(_0x7151a2,_0x5cdf9b,_0x45c53c){const _0xa5351a=a0_0x349dbc;this[_0xa5351a(0x593)]=_0x7151a2,this[_0xa5351a(0x147)]=_0x5cdf9b,this['repository']=_0x45c53c,this['logger']=new R(c[_0xa5351a(0x246)]);}async[a0_0x349dbc(0x233)](_0x316543){const _0x125fd0=a0_0x349dbc;let _0x30fba3=this[_0x125fd0(0x593)][_0x125fd0(0x2cd)]('AUTHENTICATION')['JWT'],_0xbc4a54=(0x0,Ro[_0x125fd0(0x43c)])({'instanceName':_0x316543['instanceName'],'apiName':Ze,'tokenId':(0x0,_s['v4'])()},_0x30fba3[_0x125fd0(0x7a2)],{'expiresIn':_0x30fba3[_0x125fd0(0x3e4)],'encoding':_0x125fd0(0x464),'subject':_0x125fd0(0x3c0)}),_0x2f061c=await this['repository'][_0x125fd0(0x30c)][_0x125fd0(0x719)]({'jwt':_0xbc4a54},_0x316543[_0x125fd0(0x643)]);if(_0x2f061c[_0x125fd0(0x552)])throw this[_0x125fd0(0x433)][_0x125fd0(0x552)]({'localError':c['name']+'.jwt','error':_0x2f061c['error']}),new m(_0x125fd0(0x67f),_0x2f061c[_0x125fd0(0x552)]?.[_0x125fd0(0x343)]());return{'jwt':_0xbc4a54};}async[a0_0x349dbc(0x3f6)](_0x435989){const _0x353319=a0_0x349dbc;let _0x40233f=(0x0,_s['v4'])()['toUpperCase'](),_0x3b50d9=await this[_0x353319(0x2ea)]['auth']['create']({'apikey':_0x40233f},_0x435989[_0x353319(0x643)]);if(_0x3b50d9[_0x353319(0x552)])throw this[_0x353319(0x433)][_0x353319(0x552)]({'localError':c[_0x353319(0x246)]+_0x353319(0x217),'error':_0x3b50d9[_0x353319(0x552)]}),new m(_0x353319(0x67f),_0x3b50d9[_0x353319(0x552)]?.['toString']());return{'apikey':_0x40233f};}async['generateHash'](_0x143c90){const _0x33a07f=a0_0x349dbc;let _0x19554d=this[_0x33a07f(0x593)]['get']('AUTHENTICATION');return await this[_0x19554d[_0x33a07f(0x3bb)]](_0x143c90);}},Kt=class{constructor(_0xebfd4f){const _0x55ad36=a0_0x349dbc;this[_0x55ad36(0x147)]=_0xebfd4f;}async[a0_0x349dbc(0x78a)](_0x9579ee,_0x784423){const _0xc62ccd=a0_0x349dbc;return await this[_0xc62ccd(0x147)]['waInstances'][_0x9579ee['instanceName']]['createGroup'](_0x784423);}async[a0_0x349dbc(0xc2)](_0x3c918d,_0x4c65ed){const _0x38c4db=a0_0x349dbc;return await this[_0x38c4db(0x147)][_0x38c4db(0x327)][_0x3c918d[_0x38c4db(0x643)]][_0x38c4db(0xc2)](_0x4c65ed);}async[a0_0x349dbc(0x4d0)](_0x22664e,_0x25eb95){const _0x4860fd=a0_0x349dbc;return await this[_0x4860fd(0x147)][_0x4860fd(0x327)][_0x22664e[_0x4860fd(0x643)]][_0x4860fd(0x4d0)](_0x25eb95);}async[a0_0x349dbc(0x12a)](_0x1d0ec8,_0x4b9049){const _0x2160ee=a0_0x349dbc;return await this[_0x2160ee(0x147)][_0x2160ee(0x327)][_0x1d0ec8['instanceName']]['groupName'](_0x4b9049);}async[a0_0x349dbc(0x214)](_0xa04707,_0x273a22){const _0x4d28b=a0_0x349dbc;return await this['waMonitor'][_0x4d28b(0x327)][_0xa04707['instanceName']][_0x4d28b(0x214)](_0x273a22);}async[a0_0x349dbc(0x162)](_0xae080f,_0x57b9e8){const _0xd9fe43=a0_0x349dbc;return await this[_0xd9fe43(0x147)][_0xd9fe43(0x327)][_0xae080f[_0xd9fe43(0x643)]][_0xd9fe43(0x162)](_0x57b9e8);}async[a0_0x349dbc(0x5de)](_0x34261e,_0x1fcf53){const _0x40ce0d=a0_0x349dbc;return await this[_0x40ce0d(0x147)]['waInstances'][_0x34261e[_0x40ce0d(0x643)]][_0x40ce0d(0x55a)](_0x1fcf53);}async[a0_0x349dbc(0x5ef)](_0x7cde54){const _0x47ab18=a0_0x349dbc;return await this['waMonitor'][_0x47ab18(0x327)][_0x7cde54[_0x47ab18(0x643)]][_0x47ab18(0x5ef)]();}async[a0_0x349dbc(0x5c9)](_0x26b9bc,_0x12af84){const _0x4d1a17=a0_0x349dbc;return await this[_0x4d1a17(0x147)][_0x4d1a17(0x327)][_0x26b9bc[_0x4d1a17(0x643)]][_0x4d1a17(0x5c9)](_0x12af84);}async[a0_0x349dbc(0x267)](_0x53ffb6,_0x3c171f){const _0x3b020d=a0_0x349dbc;return await this[_0x3b020d(0x147)][_0x3b020d(0x327)][_0x53ffb6[_0x3b020d(0x643)]][_0x3b020d(0x267)](_0x3c171f);}async[a0_0x349dbc(0x4c2)](_0x552fbf,_0x5b8a49){const _0x2c085c=a0_0x349dbc;return await this[_0x2c085c(0x147)][_0x2c085c(0x327)][_0x552fbf[_0x2c085c(0x643)]][_0x2c085c(0x4c2)](_0x5b8a49);}async['revokeInviteCode'](_0x2a4d60,_0x287df2){const _0x587be3=a0_0x349dbc;return await this['waMonitor'][_0x587be3(0x327)][_0x2a4d60[_0x587be3(0x643)]][_0x587be3(0x526)](_0x287df2);}async['findParticipants'](_0x2d4eb4,_0x1a87a1){const _0x249ff1=a0_0x349dbc;return await this['waMonitor'][_0x249ff1(0x327)][_0x2d4eb4[_0x249ff1(0x643)]][_0x249ff1(0x40c)](_0x1a87a1);}async[a0_0x349dbc(0x72d)](_0x323243,_0x30b9ca){const _0x1b4546=a0_0x349dbc;return await this[_0x1b4546(0x147)][_0x1b4546(0x327)][_0x323243[_0x1b4546(0x643)]][_0x1b4546(0x3f4)](_0x30b9ca);}async[a0_0x349dbc(0x296)](_0x4b956b,_0xf9502){const _0x2e2729=a0_0x349dbc;return await this[_0x2e2729(0x147)][_0x2e2729(0x327)][_0x4b956b[_0x2e2729(0x643)]][_0x2e2729(0x296)](_0xf9502);}async[a0_0x349dbc(0x6a4)](_0x3ae6b1,_0xffe2e5){const _0x575879=a0_0x349dbc;return await this[_0x575879(0x147)][_0x575879(0x327)][_0x3ae6b1['instanceName']][_0x575879(0x6a4)](_0xffe2e5);}},Qt=class{constructor(_0x4a9b38){this['waMonitor']=_0x4a9b38;}['create'](_0x58c33c,_0x5ab648){const _0x3ead86=a0_0x349dbc;return this[_0x3ead86(0x147)][_0x3ead86(0x327)][_0x58c33c[_0x3ead86(0x643)]]['setWebhook'](_0x5ab648);}async[a0_0x349dbc(0x3e0)](_0x222a53){const _0x299b23=a0_0x349dbc;try{return await this['waMonitor']['waInstances'][_0x222a53[_0x299b23(0x643)]][_0x299b23(0x736)]();}catch{return{'enabled':null,'url':''};}}},Ep=new R(a0_0x349dbc(0xfb)),Yt=class{constructor(_0x2cc6c1){const _0x181a25=a0_0x349dbc;this[_0x181a25(0x147)]=_0x2cc6c1;}async[a0_0x349dbc(0x6d4)](_0x2efb32,_0xed3b07){const _0x155850=a0_0x349dbc;return await this[_0x155850(0x147)]['waInstances'][_0x2efb32[_0x155850(0x643)]]['editScheduleMessage'](_0xed3b07);}async[a0_0x349dbc(0x249)](_0x2a7745){const _0x5c4db1=a0_0x349dbc;return await this[_0x5c4db1(0x147)][_0x5c4db1(0x327)][_0x2a7745[_0x5c4db1(0x643)]][_0x5c4db1(0x249)]();}async[a0_0x349dbc(0x78e)](_0x42978f){const _0x2bfe20=a0_0x349dbc;return await this['waMonitor']['waInstances'][_0x42978f[_0x2bfe20(0x643)]][_0x2bfe20(0x78e)]();}async['getAutomateSystem'](_0xa0fad9){const _0x5b5203=a0_0x349dbc;return await this[_0x5b5203(0x147)][_0x5b5203(0x327)][_0xa0fad9['instanceName']][_0x5b5203(0x25a)]();}async['updateAgent'](_0x15e895,_0x24870b){const _0x1ae337=a0_0x349dbc;return await this[_0x1ae337(0x147)][_0x1ae337(0x327)][_0x15e895['instanceName']][_0x1ae337(0x2c7)](_0x24870b);}async[a0_0x349dbc(0x309)](_0x141c0b,_0xd19e3b){const _0xcec07f=a0_0x349dbc;return await this[_0xcec07f(0x147)]['waInstances'][_0x141c0b[_0xcec07f(0x643)]][_0xcec07f(0x309)](_0xd19e3b);}async[a0_0x349dbc(0x693)](_0x15f022,_0x256cbc){const _0x3a7a87=a0_0x349dbc;return await this[_0x3a7a87(0x147)][_0x3a7a87(0x327)][_0x15f022[_0x3a7a87(0x643)]][_0x3a7a87(0x693)](_0x256cbc);}async[a0_0x349dbc(0x6d6)](_0x3f96e3,_0x31ee6f){const _0x5df860=a0_0x349dbc;return await this[_0x5df860(0x147)]['waInstances'][_0x3f96e3[_0x5df860(0x643)]][_0x5df860(0x6d6)](_0x31ee6f);}async[a0_0x349dbc(0x77b)](_0x39faa3,_0xbdd132){const _0x5819ad=a0_0x349dbc;return await this[_0x5819ad(0x147)][_0x5819ad(0x327)][_0x39faa3[_0x5819ad(0x643)]]['startFlow'](_0xbdd132);}async[a0_0x349dbc(0x370)](_0x5e350d,_0x41d7aa){const _0x431d94=a0_0x349dbc;return await this['waMonitor'][_0x431d94(0x327)][_0x5e350d[_0x431d94(0x643)]][_0x431d94(0x370)](_0x41d7aa);}async[a0_0x349dbc(0x3e6)](_0x1e5e31,_0xd91cf4){const _0xe136ba=a0_0x349dbc;return await this['waMonitor'][_0xe136ba(0x327)][_0x1e5e31[_0xe136ba(0x643)]]['fetchConversation'](_0xd91cf4);}async['editConversation'](_0x1e56b8,_0x5a82fb){const _0x7f6dc2=a0_0x349dbc;return await this[_0x7f6dc2(0x147)][_0x7f6dc2(0x327)][_0x1e56b8[_0x7f6dc2(0x643)]][_0x7f6dc2(0xf4)](_0x5a82fb);}async['deleteConversation'](_0x3d8604,_0x48e827){const _0x531d69=a0_0x349dbc;return await this['waMonitor'][_0x531d69(0x327)][_0x3d8604['instanceName']]['deleteConversation'](_0x48e827);}async[a0_0x349dbc(0x5a5)](_0x4b6fe7,_0x3eb5b0){const _0x3271c0=a0_0x349dbc;return await this[_0x3271c0(0x147)][_0x3271c0(0x327)][_0x4b6fe7[_0x3271c0(0x643)]][_0x3271c0(0x5a5)](_0x3eb5b0[_0x3271c0(0x246)],_0x3eb5b0[_0x3271c0(0x609)]);}async[a0_0x349dbc(0x657)](_0x3e70f4,_0x25a4a8,_0x40644f){const _0x124f5c=a0_0x349dbc;return await this[_0x124f5c(0x147)]['waInstances'][_0x3e70f4['instanceName']][_0x124f5c(0x657)](_0x25a4a8,_0x40644f);}async[a0_0x349dbc(0x4de)](_0x1c6255,_0x79b6d9,_0x58069d){const _0xf9327c=a0_0x349dbc;return await this[_0xf9327c(0x147)]['waInstances'][_0x1c6255[_0xf9327c(0x643)]][_0xf9327c(0x4de)](_0x79b6d9,_0x58069d);}async['editFlowBlock'](_0x1c361e,_0x33d3b4,_0x22b3aa){const _0x19ae24=a0_0x349dbc;return await this[_0x19ae24(0x147)][_0x19ae24(0x327)][_0x1c361e[_0x19ae24(0x643)]][_0x19ae24(0x49c)](_0x33d3b4,_0x22b3aa);}async['editFlowReply'](_0x3b39c2,_0x4f907a,_0x4b5b5c){const _0x1eab6c=a0_0x349dbc;return await this[_0x1eab6c(0x147)]['waInstances'][_0x3b39c2[_0x1eab6c(0x643)]][_0x1eab6c(0xc5)](_0x4f907a,_0x4b5b5c);}async[a0_0x349dbc(0x18f)](_0x26d3e1,_0x3a1296,_0x40547b){return await this['waMonitor']['waInstances'][_0x26d3e1['instanceName']]['editFlowGroup'](_0x3a1296,_0x40547b);}async['editFlowCondition'](_0x5dbb9d,_0x2889d2,_0x3640d5){const _0x4f3b03=a0_0x349dbc;return await this[_0x4f3b03(0x147)][_0x4f3b03(0x327)][_0x5dbb9d['instanceName']][_0x4f3b03(0x2de)](_0x2889d2,_0x3640d5);}async[a0_0x349dbc(0x141)](_0x865f08,_0x263f05,_0x1187c8){const _0x460f35=a0_0x349dbc;return await this['waMonitor']['waInstances'][_0x865f08[_0x460f35(0x643)]][_0x460f35(0x141)](_0x263f05,_0x1187c8);}async[a0_0x349dbc(0x126)](_0x5a4f99,_0x51aff5,_0x5a41d0){const _0x12fc6e=a0_0x349dbc;return await this['waMonitor']['waInstances'][_0x5a4f99[_0x12fc6e(0x643)]]['editFlowVariable'](_0x51aff5,_0x5a41d0);}async[a0_0x349dbc(0x709)](_0xd8cda6,_0x466829,_0x5d33f8){const _0xe8778c=a0_0x349dbc;return await this[_0xe8778c(0x147)][_0xe8778c(0x327)][_0xd8cda6[_0xe8778c(0x643)]][_0xe8778c(0x709)](_0x466829,_0x5d33f8,_0x466829[_0xe8778c(0x609)]);}async[a0_0x349dbc(0x36a)](_0x32e2e6){const _0x103093=a0_0x349dbc;return await this['waMonitor']['waInstances'][_0x32e2e6[_0x103093(0x643)]][_0x103093(0x36a)]();}},Xt=class{constructor(_0x1a29ce){const _0x5c3ca1=a0_0x349dbc;this[_0x5c3ca1(0x667)]=_0x1a29ce;}async[a0_0x349dbc(0x4c0)](_0x8bf58b,_0x465792){const _0x4684d2=a0_0x349dbc;return this[_0x4684d2(0x667)]['create'](_0x8bf58b,_0x465792);}async[a0_0x349dbc(0x736)](_0x17487e){const _0xb5ff01=a0_0x349dbc;return this[_0xb5ff01(0x667)][_0xb5ff01(0x3e0)](_0x17487e);}},Zt=class extends x{constructor(_0x4c21c8,_0x2b537f){const _0x4bd044=a0_0x349dbc;super(_0x2b537f),this[_0x4bd044(0x394)]=_0x4c21c8,this[_0x4bd044(0x593)]=_0x2b537f;}async['create'](_0x15e658,_0x275bb4){const _0x5e1e98=a0_0x349dbc;try{return this[_0x5e1e98(0x32d)][_0x5e1e98(0x108)]?{'insertCount':(await this[_0x5e1e98(0x394)][_0x5e1e98(0x1c9)]({'_id':_0x275bb4},{..._0x15e658},{'upsert':!0x0}))[_0x5e1e98(0x2f1)]}:{'insertCount':0x1};}catch(_0x186bdd){return _0x186bdd;}}async[a0_0x349dbc(0x209)](_0xb91eaa){const _0x32764e=a0_0x349dbc;try{if(this['dbSettings']['ENABLED']){await this[_0x32764e(0x394)][_0x32764e(0x22a)]({'_id':_0xb91eaa});return;}}catch(_0x53baca){return{'error':_0x53baca};}}async[a0_0x349dbc(0x3e0)](_0x5363f3){const _0x1e9338=a0_0x349dbc;try{if(this[_0x1e9338(0x32d)][_0x1e9338(0x108)])return await this['webhookModel'][_0x1e9338(0x1a0)]({'_id':_0x5363f3});}catch{return{};}}},es=class extends x{constructor(_0x727cb9,_0x4d4d24){const _0x33a860=a0_0x349dbc;super(_0x4d4d24),this[_0x33a860(0x670)]=_0x727cb9,this[_0x33a860(0x593)]=_0x4d4d24,this['auth']=_0x4d4d24[_0x33a860(0x2cd)](_0x33a860(0x178));}async[a0_0x349dbc(0x719)](_0x467535,_0x573741){const _0x93c6de=a0_0x349dbc;try{if(this['dbSettings'][_0x93c6de(0x108)])return{'insertCount':(await this['authModel'][_0x93c6de(0x36b)]({'_id':_0x573741},{'$set':{..._0x467535}},{'upsert':!0x0}))[_0x93c6de(0x2f1)]};}catch(_0x23f62c){return{'error':_0x23f62c};}}async[a0_0x349dbc(0x597)](_0x2a62d1,_0x11db6f){const _0x172427=a0_0x349dbc;try{if(this[_0x172427(0x32d)][_0x172427(0x108)])return{'insertCount':(await this[_0x172427(0x670)]['updateMany'](_0x2a62d1,{'$set':_0x11db6f},{'upsert':!0x1}))[_0x172427(0x2f1)]};throw new Error(_0x172427(0x546));}catch(_0xd1cc05){return{'error':_0xd1cc05};}}async['deleteMany'](_0xf16c02){const _0xdfad1c=a0_0x349dbc;try{if(this[_0xdfad1c(0x32d)]['ENABLED'])return{'insertCount':(await this[_0xdfad1c(0x670)]['deleteMany'](_0xf16c02))[_0xdfad1c(0x595)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x535cc6){return{'error':_0x535cc6};}}async[a0_0x349dbc(0x209)](_0x7f4e0d){const _0x450b92=a0_0x349dbc;try{if(this[_0x450b92(0x32d)][_0x450b92(0x108)]){await this[_0x450b92(0x670)][_0x450b92(0x22a)]({'_id':_0x7f4e0d});return;}}catch(_0x41e100){return{'error':_0x41e100};}}async[a0_0x349dbc(0x3e0)](_0x2239ca){const _0x2ea8fe=a0_0x349dbc;try{if(this[_0x2ea8fe(0x32d)][_0x2ea8fe(0x108)])return await this[_0x2ea8fe(0x670)][_0x2ea8fe(0x1a0)]({'_id':_0x2239ca});}catch{return{};}}async['findAll'](){const _0x2e73da=a0_0x349dbc;try{if(this[_0x2e73da(0x32d)][_0x2e73da(0x108)])return await this[_0x2e73da(0x670)][_0x2e73da(0x3e0)]();}catch{return[];}}},ts=class extends x{[a0_0x349dbc(0x2b0)](_0x23211d){return pa(_0x23211d);}async[a0_0x349dbc(0x209)](_0x380482,_0x16fd57){const _0x492b93=a0_0x349dbc;try{let _0x163df5=this[_0x492b93(0x2b0)](_0x16fd57),_0x3c6f27=$(_0x380482[_0x492b93(0x6e5)]);return{'deletedCount':(await _0x163df5[_0x492b93(0x54e)](_0x3c6f27))[_0x492b93(0x595)]};}catch(_0x14f0a7){return{'error':_0x14f0a7?.['toString']()};}}async['deleteOne'](_0x5eb0ad,_0x25f8bc){const _0x5d3ea2=a0_0x349dbc;try{let _0x311397=this[_0x5d3ea2(0x2b0)](_0x25f8bc),_0x468134=$(_0x5eb0ad[_0x5d3ea2(0x6e5)]);return{'deletedCount':(await _0x311397['deleteOne'](_0x468134))[_0x5d3ea2(0x595)]};}catch(_0x4bf842){return{'error':_0x4bf842?.[_0x5d3ea2(0x343)]()};}}async[a0_0x349dbc(0x1c9)](_0x2b59f7,_0x5d6e64,_0x385ffb){const _0x364f04=a0_0x349dbc;try{let _0x28fefd=await this['getFlowModelForOwner'](_0x385ffb)[_0x364f04(0x67a)](_0x2b59f7,_0x5d6e64,{'overwrite':!0x0,'new':!0x0});return _0x28fefd||(console[_0x364f04(0x552)](_0x364f04(0x3fb),_0x2b59f7),null);}catch(_0x5c4034){return console[_0x364f04(0x552)](_0x364f04(0x520),_0x5c4034),null;}}async[a0_0x349dbc(0x36b)](_0x8ad510,_0x537009,_0x58c11f){const _0x18c408=a0_0x349dbc;try{let _0x2afc5e=await this[_0x18c408(0x2b0)](_0x58c11f)[_0x18c408(0x525)](_0x8ad510);return _0x2afc5e?(Object[_0x18c408(0x53c)](_0x2afc5e,_0x537009),await _0x2afc5e[_0x18c408(0x3ab)]()):(console['error'](_0x18c408(0x788),_0x8ad510),null);}catch(_0x2ce803){return console[_0x18c408(0x552)](_0x18c408(0x520),_0x2ce803),null;}}async[a0_0x349dbc(0x741)](_0xb4d705,_0xb1029e,_0x3d7c83){const _0xdaa586=a0_0x349dbc;try{let _0x5769aa=this[_0xdaa586(0x2b0)](_0x3d7c83),_0x555988=await _0x5769aa['findById'](_0xb4d705),_0x523378=await _0x5769aa[_0xdaa586(0x1b3)]({'_id':_0xb4d705},_0xb1029e,{'new':!0x0,'runValidators':!0x0});return _0x523378||(console[_0xdaa586(0x37f)]('Documento\x20com\x20ID\x20'+_0xb4d705+_0xdaa586(0x6f3)+_0x3d7c83+_0xdaa586(0x13f)),null);}catch(_0x50ed4c){throw console[_0xdaa586(0x552)](_0xdaa586(0x666),_0x50ed4c),_0x50ed4c;}}async[a0_0x349dbc(0x7a1)](_0x172e4e){const _0x5632ef=a0_0x349dbc;try{let _0x4b365a=this[_0x5632ef(0x2b0)](_0x172e4e),_0x1dea30={'shareOwners':{'$exists':!0x1}},_0x36027d={'$set':{'shareOwners':[]}};return(await _0x4b365a[_0x5632ef(0x1da)](_0x1dea30,_0x36027d))[_0x5632ef(0x2f1)];}catch(_0x5be446){return console[_0x5632ef(0x552)](_0x5be446),0x0;}}async[a0_0x349dbc(0x18b)](_0xa19142,_0x22a936){const _0x54d78f=a0_0x349dbc;try{let _0x39b067=this[_0x54d78f(0x2b0)](_0x22a936);return await new _0x39b067(_0xa19142)[_0x54d78f(0x3ab)]();}catch(_0x3bf332){return console[_0x54d78f(0x552)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x3bf332),null;}}async['updateMany'](_0x34fe41,_0x1d161b,_0x51d265){const _0x4dd314=a0_0x349dbc;try{return{'modifiedCount':(await this[_0x4dd314(0x2b0)](_0x51d265)['updateMany'](_0x34fe41,{'$set':_0x1d161b}))[_0x4dd314(0x2f1)]};}catch(_0x2e9bd0){return console[_0x4dd314(0x552)](_0x4dd314(0x648),_0x2e9bd0),{'error':_0x2e9bd0};}}async['findAll'](_0x392667,_0x80af8b){const _0x5de172=a0_0x349dbc;try{let _0x4905fe=this[_0x5de172(0x2b0)](_0x80af8b),_0x18b3fc=$(_0x392667[_0x5de172(0x6e5)]);return await _0x4905fe[_0x5de172(0x3e0)](_0x18b3fc)[_0x5de172(0x2d9)](_0x392667?.[_0x5de172(0x2d9)]??0x0)[_0x5de172(0x1d5)]();}catch{return[];}}async[a0_0x349dbc(0x1a0)](_0x32a867,_0x44fc7d){const _0x190f31=a0_0x349dbc;try{let _0x5e895c=this[_0x190f31(0x2b0)](_0x44fc7d),_0x57f29e=$(_0x32a867[_0x190f31(0x6e5)]);return await _0x5e895c[_0x190f31(0x1a0)](_0x57f29e)[_0x190f31(0x1d5)]();}catch{return null;}}async[a0_0x349dbc(0x33c)](_0x427bec){const _0x202a54=a0_0x349dbc;try{return await this[_0x202a54(0x2b0)](_0x427bec)[_0x202a54(0x148)][_0x202a54(0x672)](),{'success':!0x0};}catch(_0x45fe96){return console[_0x202a54(0x552)](_0x45fe96),{'success':!0x1,'error':_0x45fe96};}}},ss=class extends x{[a0_0x349dbc(0x749)](_0x1224d2){return ha(_0x1224d2);}async[a0_0x349dbc(0x24d)](_0x2732d9){const _0x4dd486=a0_0x349dbc;if(_0x2732d9['length']!==0x0)try{return{'insertCount':(await this[_0x4dd486(0x749)](_0x2732d9[0x0][_0x4dd486(0x293)])[_0x4dd486(0x312)]([..._0x2732d9]))[_0x4dd486(0x2e0)]};}catch(_0x410850){return _0x410850;}}async[a0_0x349dbc(0x209)](_0x5dac28,_0x3bf0eb){const _0x3beb0b=a0_0x349dbc;try{let _0x3990a4=this[_0x3beb0b(0x749)](_0x3bf0eb),_0x2f475d=$(_0x5dac28['where']);return{'deletedCount':(await _0x3990a4['deleteMany'](_0x2f475d))[_0x3beb0b(0x595)]};}catch(_0x5679dc){return{'error':_0x5679dc?.['toString']()};}}async[a0_0x349dbc(0x22a)](_0x585316,_0x275df4){const _0x3ecb2e=a0_0x349dbc;try{let _0x25272a=this[_0x3ecb2e(0x749)](_0x275df4),_0x188e73=$(_0x585316[_0x3ecb2e(0x6e5)]);return{'deletedCount':(await _0x25272a[_0x3ecb2e(0x22a)](_0x188e73))[_0x3ecb2e(0x595)]};}catch(_0x1e08ec){return{'error':_0x1e08ec?.[_0x3ecb2e(0x343)]()};}}async[a0_0x349dbc(0x710)](_0x2b9e00,_0x37062f){const _0x2bf727=a0_0x349dbc;try{if(_0x2b9e00[_0x2bf727(0x2e0)]===0x0)return;let _0x5d981f=this[_0x2bf727(0x749)](_0x37062f),_0x455759=_0x2b9e00['map'](_0x2bd63e=>({'updateOne':{'filter':{'name':_0x2bd63e['name'],'owner':_0x37062f},'update':{..._0x2bd63e}}})),{modifiedCount:_0x249193}=await _0x5d981f[_0x2bf727(0x133)](_0x455759);return{'insertCount':_0x249193};}catch{return;}}async[a0_0x349dbc(0x1da)](_0x44ab26,_0x17b198,_0x23bcf4){const _0x5c1f7c=a0_0x349dbc;try{return{'modifiedCount':(await this[_0x5c1f7c(0x749)](_0x23bcf4)[_0x5c1f7c(0x1da)](_0x44ab26,{'$set':_0x17b198}))[_0x5c1f7c(0x2f1)]};}catch(_0x1ee40b){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x1ee40b),{'error':_0x1ee40b};}}async[a0_0x349dbc(0x36b)](_0x453af4,_0x563e5b,_0x41f4c8){const _0x6e4ddb=a0_0x349dbc;try{return await this[_0x6e4ddb(0x749)](_0x41f4c8)['findOneAndUpdate']({'_id':_0x453af4},{'$set':_0x563e5b},{'new':!0x0,'upsert':!0x0})[_0x6e4ddb(0x1d5)]();}catch(_0x4d0a33){return console[_0x6e4ddb(0x552)](_0x4d0a33),null;}}async[a0_0x349dbc(0x3e0)](_0x5908dc,_0x3ed31f){const _0x2de73a=a0_0x349dbc;try{return await this['getConversationModelForOwner'](_0x3ed31f)[_0x2de73a(0x3e0)](_0x5908dc)['sort']({'lastInteraction':-0x1})[_0x2de73a(0x1d5)]();}catch{return[];}}async[a0_0x349dbc(0x1a0)](_0x1b3742,_0x1a1e58){const _0x1c8751=a0_0x349dbc;try{return await this[_0x1c8751(0x749)](_0x1a1e58)[_0x1c8751(0x1a0)]({..._0x1b3742[_0x1c8751(0x6e5)]})[_0x1c8751(0x1d5)]();}catch{return null;}}async[a0_0x349dbc(0x33c)](_0x5e9927){const _0x186aac=a0_0x349dbc;try{return await this[_0x186aac(0x749)](_0x5e9927)[_0x186aac(0x148)][_0x186aac(0x672)](),{'success':!0x0};}catch(_0x2d4c22){return console[_0x186aac(0x552)](_0x2d4c22),{'success':!0x1,'error':_0x2d4c22};}}},as=class extends x{['getScheduleMessageModelForOwner'](_0x2ec500){return ga(_0x2ec500);}async[a0_0x349dbc(0x18b)](_0x488577,_0x54b603){const _0x4c5bcf=a0_0x349dbc;try{let _0x3bb509=this[_0x4c5bcf(0x6b4)](_0x54b603);return await new _0x3bb509(_0x488577)[_0x4c5bcf(0x3ab)]();}catch(_0x7dba68){return console[_0x4c5bcf(0x552)](_0x4c5bcf(0x5d9),_0x7dba68),null;}}async[a0_0x349dbc(0x22a)](_0x232f92,_0x28d155){const _0x32652b=a0_0x349dbc;try{return await this[_0x32652b(0x6b4)](_0x28d155)[_0x32652b(0x5fd)](_0x232f92),{};}catch(_0x4074a1){return{'error':_0x4074a1?.[_0x32652b(0x343)]()};}}async[a0_0x349dbc(0x36b)](_0x2ebe2e,_0x4568b2,_0x233502){const _0x18d045=a0_0x349dbc;try{return await this[_0x18d045(0x6b4)](_0x233502)[_0x18d045(0x1b3)](_0x2ebe2e,{'$set':_0x4568b2},{'new':!0x0})[_0x18d045(0x1d5)]();}catch(_0x213787){return console[_0x18d045(0x552)](_0x18d045(0x15a),_0x213787),null;}}async[a0_0x349dbc(0x715)](_0x1bda1e,_0xd376f5,_0x1b70e1){const _0x3da5a7=a0_0x349dbc;try{return await this[_0x3da5a7(0x6b4)](_0x1b70e1)[_0x3da5a7(0x67a)](_0x1bda1e,_0xd376f5,{'new':!0x0})['lean']();}catch(_0x236651){return console[_0x3da5a7(0x552)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x236651),null;}}async[a0_0x349dbc(0x3e0)](_0x1df398,_0x24c7a6){const _0x172e59=a0_0x349dbc;try{return await this[_0x172e59(0x6b4)](_0x24c7a6)['find'](_0x1df398[_0x172e59(0x6e5)])['limit'](_0x1df398?.[_0x172e59(0x2d9)]??0x0)[_0x172e59(0x689)]({'when':0x1})[_0x172e59(0x1d5)]();}catch{return[];}}async[a0_0x349dbc(0x1a0)](_0x43874f,_0x26c672){const _0x58dc41=a0_0x349dbc;try{return await this[_0x58dc41(0x6b4)](_0x26c672)[_0x58dc41(0x1a0)](_0x43874f['where'])[_0x58dc41(0x689)]({'when':0x1})[_0x58dc41(0x1d5)]();}catch{return null;}}async[a0_0x349dbc(0x525)](_0x11aca1,_0x2b44d5){const _0x30e6ca=a0_0x349dbc;try{return await this[_0x30e6ca(0x6b4)](_0x2b44d5)['findById'](_0x11aca1)['lean']();}catch{return null;}}async[a0_0x349dbc(0x54e)](_0x47288c,_0x5a6048){const _0x5582bc=a0_0x349dbc;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x5a6048)[_0x5582bc(0x54e)](_0x47288c))[_0x5582bc(0x595)]};}catch(_0x33732e){return console[_0x5582bc(0x552)](_0x5582bc(0x392),_0x33732e),{'error':_0x33732e};}}async[a0_0x349dbc(0x33c)](_0x5aad3e){const _0x365323=a0_0x349dbc;try{return await this[_0x365323(0x6b4)](_0x5aad3e)[_0x365323(0x148)][_0x365323(0x672)](),{'success':!0x0};}catch(_0x1f1e58){return console[_0x365323(0x552)](_0x1f1e58),{'success':!0x1,'error':_0x1f1e58};}}},os=class extends x{async['update'](_0x3292d1,_0x156fb0){const _0x4b92be=a0_0x349dbc;try{if(this[_0x4b92be(0x32d)][_0x4b92be(0x108)]){let _0x323e52=await Ue[_0x4b92be(0x1b3)]({'_id':_0x156fb0},{'$set':_0x3292d1},{'new':!0x0});return console[_0x4b92be(0x37f)](_0x4b92be(0x397),_0x323e52),_0x323e52;}}catch(_0x599bba){throw console[_0x4b92be(0x552)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x599bba),_0x599bba;}}async[a0_0x349dbc(0x39c)](_0x57eb19){const _0x36d436=a0_0x349dbc;try{let _0x29a742=await Ue[_0x36d436(0x525)](_0x57eb19);return _0x29a742?_0x29a742['autoCompleteMessages']||(_0x29a742[_0x36d436(0x121)]=[],await _0x29a742[_0x36d436(0x3ab)]()):(_0x29a742=new Ue({'_id':_0x57eb19,'autoCompleteMessages':[]}),await _0x29a742[_0x36d436(0x3ab)]()),_0x29a742;}catch(_0x1e59e6){return console[_0x36d436(0x552)](_0x36d436(0x239),_0x1e59e6),null;}}},Tr=new R(a0_0x349dbc(0x4e4)),$r=new Ve(b),Ar=new qt(b),Ir=new st(b),xr=new Vt(Zs,b),Dr=new Zt(ia,b),_r=new es(aa,b),Pr=new ts(b),kr=new Gt(b),jr=new ss(b),Lr=new as(b),Fr=new os(b),de=new Je($r,Ar,Ir,xr,Dr,_r,Pr,jr,kr,Lr,Fr,O?.['getClient']()),G=new Jt(us,b,de),Ur=new Ht(b,G,de),Jr=new Qt(G),Ms=new Xt(Jr),A=new Yt(G),ce=new Wt(G,b,de,us,Ur),B=new zt(G),_=new Bt(G),q=new Kt(G);Tr[a0_0x349dbc(0x6f9)]('Module\x20-\x20ON');var Uh=require(a0_0x349dbc(0x77e)),Ps=require('fs'),Oo=T(require('https')),To=T(require(a0_0x349dbc(0x5bc))),Ae=class c{static #e;static set[a0_0x349dbc(0x439)](_0x3b6472){this.#e=_0x3b6472;}static get[a0_0x349dbc(0x1f3)](){const _0x2177a0=a0_0x349dbc;let {FULLCHAIN:_0x5bc1ec,PRIVKEY:_0x343c47}=b['get']('SSL_CONF');return Oo[_0x2177a0(0x29c)]({'cert':(0x0,Ps[_0x2177a0(0x582)])(_0x5bc1ec),'key':(0x0,Ps[_0x2177a0(0x582)])(_0x343c47)},c.#e);}static get[a0_0x349dbc(0x5bc)](){const _0x33cc54=a0_0x349dbc;return To[_0x33cc54(0x29c)](c.#e);}},he=T(require('fs')),_o=T(require(a0_0x349dbc(0x773))),Ie=T(require('axios')),De=T(require(a0_0x349dbc(0x6df))),_e=require('child_process');function qr(){const _0x10f622=a0_0x349dbc;G[_0x10f622(0x2da)]();let _0x2d6354=De[_0x10f622(0x231)][_0x10f622(0x71a)](__dirname,_0x10f622(0x56c));Do(_0x2d6354);}var Do=_0xfca8c3=>{const _0x134438=a0_0x349dbc;let _0x53216b=he[_0x134438(0x231)][_0x134438(0x4f2)](_0xfca8c3),_0x18b150=0xc*0x3c*0x3c*0x3e8,_0x1d125a=0x2*0x3c*0x3c*0x3e8,_0x1e51d5=new Date()['getTime']();_0x53216b[_0x134438(0x79a)](_0x532345=>{const _0x44935c=_0x134438;let _0x1fb302=De[_0x44935c(0x231)][_0x44935c(0x71a)](_0xfca8c3,_0x532345),_0x214013=he[_0x44935c(0x231)]['statSync'](_0x1fb302)[_0x44935c(0x4fa)][_0x44935c(0x74e)]();_0x1e51d5-_0x214013>_0x18b150&&(he[_0x44935c(0x231)]['unlinkSync'](_0x1fb302),console['log'](_0x44935c(0x656)+_0x532345));}),setTimeout(()=>Do(_0xfca8c3),_0x1d125a);};function Vr(){const _0x5b6ffa=a0_0x349dbc;let _0x4b733c=new R(_0x5b6ffa(0xf7)),_0x32972c=(0x0,ge[_0x5b6ffa(0x231)])();_0x32972c[_0x5b6ffa(0x681)]((0x0,xo[_0x5b6ffa(0x231)])({'origin'(_0x344b36,_0x237feb){const _0x34d32c=_0x5b6ffa;let {ORIGIN:_0x2b78b7}=b['get'](_0x34d32c(0x1e5));return _0x344b36||(_0x344b36='*'),_0x2b78b7['indexOf']('*')!==-0x1||_0x2b78b7[_0x34d32c(0x37b)](_0x344b36)!==-0x1?_0x237feb(null,!0x0):_0x237feb(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x5b6ffa(0x2cd)](_0x5b6ffa(0x1e5))[_0x5b6ffa(0x3b9)]],'credentials':b[_0x5b6ffa(0x2cd)](_0x5b6ffa(0x1e5))[_0x5b6ffa(0x192)]}),(0x0,ge['urlencoded'])({'extended':!0x0,'limit':_0x5b6ffa(0x3a7)}),(0x0,ge['json'])({'limit':'50mb'})),_0x32972c[_0x5b6ffa(0x681)]((_0x71b913,_0x339da2,_0xbde663)=>{const _0x2c5c7e=_0x5b6ffa;_0x71b913[_0x2c5c7e(0x6df)][_0x2c5c7e(0x6f7)](_0x2c5c7e(0x6fa))?_0xbde663():(0x0,Io[_0x2c5c7e(0x231)])()(_0x71b913,_0x339da2,_0xbde663);}),_0x32972c['set'](_0x5b6ffa(0x1cf),_0x5b6ffa(0x5b3)),_0x32972c[_0x5b6ffa(0x677)](_0x5b6ffa(0x504),(0x0,js['join'])(ne,_0x5b6ffa(0x504))),_0x32972c[_0x5b6ffa(0x681)](ge[_0x5b6ffa(0x231)][_0x5b6ffa(0x2d5)]((0x0,js['join'])(ne,_0x5b6ffa(0x356)))),_0x32972c[_0x5b6ffa(0x681)]((_0x475dda,_0x5094d7,_0xffbd58)=>{const _0x4064d0=_0x5b6ffa;let _0xe2a25c=_0x5094d7[_0x4064d0(0x6d5)];_0x5094d7[_0x4064d0(0x6d5)]=function(_0x13e93e){const _0x22b6af=_0x4064d0;if(_0x475dda[_0x22b6af(0x372)][_0x22b6af(0x430)]==='true'||_0x475dda[_0x22b6af(0x1d2)]['uazapi']===_0x22b6af(0x4a1)){let _0x742d7e=JSON[_0x22b6af(0xcc)](_0x13e93e);_0x13e93e=JSON[_0x22b6af(0x750)](_0x45a697(_0x742d7e));}return _0xe2a25c[_0x22b6af(0x2ad)](_0x5094d7,[_0x13e93e]);},_0xffbd58();}),_0x32972c[_0x5b6ffa(0x681)]('/',At),_0x32972c[_0x5b6ffa(0x681)]((_0x4f3112,_0x7b718f,_0x4026db,_0x213f5f)=>{const _0x176178=_0x5b6ffa;if(_0x4f3112)return _0x4026db[_0x176178(0x130)](_0x4f3112['status']||0x1f4)['json'](_0x4f3112);},(_0xd2e567,_0x3f8519,_0x2326b1)=>{const _0x13ddd5=_0x5b6ffa;let {method:_0xb086e9,url:_0x3189ba}=_0xd2e567;_0x3f8519[_0x13ddd5(0x130)](0x194)['json']({'status':0x194,'message':_0x13ddd5(0x1c4)+_0xb086e9['toUpperCase']()+'\x20'+_0x3189ba,'error':_0x13ddd5(0x797)}),_0x2326b1();});let _0x45a697=(_0x37209f,_0x312cd7=_0x5b6ffa(0x554))=>{const _0x5d89f9=_0x5b6ffa;let _0xc79ad6=(_0x20a0d6,_0x14bf40=null,_0x3bd57b=!0x1)=>{const _0x5769dd=a0_0x5444;let _0x5aa896={};return Object[_0x5769dd(0x4a4)](_0x20a0d6)[_0x5769dd(0x79a)](_0x343932=>{const _0x4d77e4=_0x5769dd;let _0x4da7f8=_0x20a0d6[_0x343932],_0x52fcf9=''+_0x312cd7+_0x343932;_0x14bf40&&!_0x3bd57b&&(_0x52fcf9=_0x14bf40+'.'+_0x343932),!_0x4da7f8&&_0x4da7f8!==0x0&&_0x4da7f8!==!0x1||typeof _0x4da7f8>'u'?_0x5aa896[_0x52fcf9]=null:typeof _0x4da7f8!=_0x4d77e4(0x57f)&&!Array[_0x4d77e4(0x2e1)](_0x4da7f8)?_0x5aa896[_0x52fcf9]=_0x4da7f8:typeof _0x4da7f8==_0x4d77e4(0x57f)&&!Array[_0x4d77e4(0x2e1)](_0x4da7f8)?_0x5aa896=Object[_0x4d77e4(0x53c)](_0x5aa896,_0xc79ad6(_0x4da7f8,_0x52fcf9)):Array['isArray'](_0x4da7f8)&&(typeof _0x4da7f8[0x0]==_0x4d77e4(0x57f)?(_0x5aa896[_0x52fcf9]=[],_0x4da7f8['forEach'](_0x35fe1e=>{_0x5aa896[_0x52fcf9]['push'](_0xc79ad6(_0x35fe1e,_0x52fcf9,!0x0));})):_0x5aa896[_0x52fcf9]=_0x4da7f8);}),_0x5aa896;};return Array[_0x5d89f9(0x2e1)](_0x37209f)?_0x37209f[_0x5d89f9(0x568)](_0x2c1099=>_0xc79ad6(_0x2c1099)):typeof _0x37209f==_0x5d89f9(0x57f)&&_0x37209f!==null?_0xc79ad6(_0x37209f):{};},_0x30ab26=b['get'](_0x5b6ffa(0xf7));Ae['app']=_0x32972c;let _0x55040b=Ae[_0x30ab26['TYPE']],_0xba2e17='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x55040b[_0x5b6ffa(0x68a)](_0x30ab26[_0x5b6ffa(0x5d4)],()=>{const _0x1613d2=_0x5b6ffa;_0x4b733c[_0x1613d2(0x37f)](_0xba2e17),_0x4b733c[_0x1613d2(0x37f)](_0x30ab26[_0x1613d2(0x3bb)][_0x1613d2(0x4fb)]()+'\x20-\x20ON:\x20'+_0x30ab26[_0x1613d2(0x5d4)]);}),qr(),zs();}var Gr=a0_0x349dbc(0xdb),Br=De['default'][a0_0x349dbc(0x71a)](__dirname,'./.git/config'),xe=null;function Wr(){return new Promise((_0x16dd78,_0x454d6c)=>{const _0x3c60e6=a0_0x5444;he[_0x3c60e6(0x231)]['readFile'](Br,'utf-8',(_0x5b903b,_0x17f369)=>{const _0x3baab4=_0x3c60e6;if(_0x5b903b){xe=_0x5b903b,_0x16dd78();return;}_o[_0x3baab4(0x231)][_0x3baab4(0xcc)](_0x17f369)['remote\x20\x22origin\x22'][_0x3baab4(0x2f2)]===Gr?(xe=null,_0x16dd78()):(xe=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x16dd78());});});}async function zr(){const _0xfd932a=a0_0x349dbc;try{await Wr(),await Ls();}catch(_0x26e0db){console['error'](_0xfd932a(0x705)+_0x26e0db),process[_0xfd932a(0x727)](0x1);}}zr();async function Po(){const _0x1b5ec6=a0_0x349dbc;let _0x56c727;try{_0x56c727=(await Ie['default'][_0x1b5ec6(0x2cd)](_0x1b5ec6(0x2f4)))['data']['ip'];}catch(_0x25a7fc){console[_0x1b5ec6(0x552)](_0x25a7fc);try{_0x56c727=(await Ie['default'][_0x1b5ec6(0x2cd)]('https://api.ipify.org?format=json'))[_0x1b5ec6(0x6fb)]['ip'];}catch(_0xcce392){console['error'](_0xcce392);try{_0x56c727=(await Ie[_0x1b5ec6(0x231)]['get'](_0x1b5ec6(0x5f8)))[_0x1b5ec6(0x6fb)][_0x1b5ec6(0x565)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1a4c98){return console['error'](_0x1a4c98),!0x1;}}}return _0x56c727;}var $o=0x0;async function Hr(){const _0x458bbf=a0_0x349dbc;let _0x596b5c=await new le(b[_0x458bbf(0x2cd)](_0x458bbf(0x653)))[_0x458bbf(0x366)]();return console[_0x458bbf(0x37f)]('instancias:\x20',_0x596b5c[_0x458bbf(0x2e0)]),_0x596b5c[_0x458bbf(0x2e0)];}function Kr(_0x396fba){const _0x18d5fc=a0_0x349dbc;let _0x193dc6=_0x396fba['get'](_0x18d5fc(0xf7))[_0x18d5fc(0x3b3)],_0x1f16d4=_0x396fba[_0x18d5fc(0x2cd)](_0x18d5fc(0x390)),_0x26ac29;if(_0x193dc6){let _0x1e532e=_0x193dc6['match'](/\/\/(.*?)\./);_0x1e532e&&_0x1e532e[0x1]&&(_0x26ac29=_0x1e532e[0x1]);}if(!_0x26ac29&&_0x1f16d4&&_0x1f16d4[_0x18d5fc(0x5e9)]){let _0x3b64b1=_0x1f16d4[_0x18d5fc(0x5e9)][_0x18d5fc(0x13d)]('/'),_0x538ea2=_0x3b64b1[_0x3b64b1['length']-0x2];if(_0x538ea2){let _0x479398=_0x538ea2[_0x18d5fc(0x13d)]('.');_0x479398[_0x18d5fc(0x2e0)]>0x2&&(_0x26ac29=_0x479398[0x0]);}}return _0x26ac29;}var xs=Kr(b);async function Qr(){const _0x2a47b2=a0_0x349dbc;let _0x186dba=b['get']('REDIS'),_0x116c15=b[_0x2a47b2(0x2cd)](_0x2a47b2(0x178))[_0x2a47b2(0x348)][_0x2a47b2(0x15f)],_0x205d6e=b[_0x2a47b2(0x2cd)](_0x2a47b2(0x390)),_0x51b72b=await Po(),_0x4fefd3=b[_0x2a47b2(0x2cd)](_0x2a47b2(0xf7))['PORT'],_0x5429db=b[_0x2a47b2(0x2cd)](_0x2a47b2(0xf7))[_0x2a47b2(0x3b3)];try{let _0x442c1f={'ip':_0x51b72b||null,'redis_enable':_0x186dba?.['ENABLED']||null,'apikey':_0x116c15||null,'ssl':_0x205d6e?.[_0x2a47b2(0x544)]||null,'lastupdate':ko||null,'port':_0x4fefd3||null,'gitInstallError':xe?.[_0x2a47b2(0x180)]||null,'url':_0x5429db||null};if(console[_0x2a47b2(0x37f)](_0x2a47b2(0x291),_0x442c1f['ip']),_0x186dba&&_0x186dba[_0x2a47b2(0x108)]){let _0x50ca57=await Hr();_0x442c1f['instanceCount']=_0x50ca57||null;}for(let _0x59dd2c in _0x442c1f)_0x442c1f['hasOwnProperty'](_0x59dd2c)&&_0x59dd2c!=='ip'&&(_0x442c1f[_0x59dd2c]=JSON[_0x2a47b2(0x750)](_0x442c1f[_0x59dd2c]));return(await Ie[_0x2a47b2(0x231)]['post'](_0x2a47b2(0x631),_0x442c1f))[_0x2a47b2(0x6fb)];}catch(_0x30814e){return console[_0x2a47b2(0x552)](_0x30814e),!0x1;}}var ks=!0x1,ko=0x23f,Yr=0x3,Ao=0x1b7740;async function Ls(){const _0x1664ad=a0_0x349dbc;if(!await Po())return console['error'](_0x1664ad(0x427)),_0x1664ad(0x2e6);let _0x4c74a7=await Qr();if(_0x4c74a7){if(_0x4c74a7[_0x1664ad(0x347)][_0x1664ad(0x614)]===!0x0){let _0x1d8561=b[_0x1664ad(0x2cd)](_0x1664ad(0x390)),_0x894fb5=b[_0x1664ad(0x2cd)](_0x1664ad(0xf7))[_0x1664ad(0x3b3)];_0x1d8561&&_0x1d8561?.[_0x1664ad(0x544)]?.['includes'](_0x1664ad(0x31d))&&_0x4c74a7[_0x1664ad(0x347)]['subdomain']&&!_0x894fb5&&(await ei(_0x4c74a7['response'][_0x1664ad(0x1de)],Zr),await ti(_0x1664ad(0x490),_0x4c74a7[_0x1664ad(0x347)]['subdomain']),console['log']('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>ai(),0x2710)),xe===null&&_0x4c74a7[_0x1664ad(0x347)][_0x1664ad(0x140)]-ko>0x0&&await Xr(),ks||(ks=!0x0,Vr());let _0x2fe10e=0x24*0x3c*0x3c,_0xa4b1f3=_0x4c74a7[_0x1664ad(0x347)][_0x1664ad(0x542)]>_0x2fe10e?_0x2fe10e:_0x4c74a7[_0x1664ad(0x347)][_0x1664ad(0x542)],_0x42fa98=Number(_0xa4b1f3);if(isNaN(_0x42fa98)){console[_0x1664ad(0x552)](_0x1664ad(0x78c));return;}let _0x3445e7=Math[_0x1664ad(0x13e)](_0x42fa98/0xe10),_0x5a52d8=Math[_0x1664ad(0x13e)](_0x42fa98%0xe10/0x3c),_0x203dde=new Date(Date[_0x1664ad(0x6db)]()+_0x42fa98*0x3e8);setTimeout(Ls,_0x42fa98*0x3e8);let _0x34bd6a=_0x45b197=>_0x45b197[_0x1664ad(0x343)]()['padStart'](0x2,'0'),_0x2ea762='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x34bd6a(_0x3445e7)+_0x1664ad(0x603)+_0x34bd6a(_0x5a52d8)+_0x1664ad(0x1e6)+_0x34bd6a(_0x203dde['getHours']())+':'+_0x34bd6a(_0x203dde[_0x1664ad(0x6cc)]())+'.';console['log'](_0x2ea762);}else return console['log'](_0x1664ad(0x613)),ks&&(console[_0x1664ad(0x37f)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x1664ad(0x727)]()),_0x1664ad(0x383);}else{if($o++,$o<Yr)console['log'](_0x1664ad(0x754)+Ao/0xea60+_0x1664ad(0x4ee)),setTimeout(Ls,Ao);else return console[_0x1664ad(0x552)](_0x1664ad(0x5b4)),_0x1664ad(0x335);}}async function Xr(){const _0x85014b=a0_0x349dbc;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x339304=(0x0,_e['spawn'])(_0x85014b(0x197),{'shell':!0x0});_0x339304['stdout']['on']('data',_0x3ae6f5=>{const _0x6810fd=_0x85014b;console['log'](_0x6810fd(0x601)+_0x3ae6f5);}),_0x339304[_0x85014b(0x784)]['on'](_0x85014b(0x6fb),_0x786d25=>{const _0x2b06ac=_0x85014b;console[_0x2b06ac(0x552)](_0x2b06ac(0x4d4)+_0x786d25);}),_0x339304['on']('exit',_0x3e12fe=>{const _0x27ab13=_0x85014b;_0x3e12fe!==0x0?console[_0x27ab13(0x552)](_0x27ab13(0x59d)+_0x3e12fe):console[_0x27ab13(0x37f)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x27ab13(0x37f)](_0x27ab13(0x215)),setTimeout(()=>process['exit'](),0x2710);});}var Zr=De[a0_0x349dbc(0x231)]['join'](__dirname,'env.yml');async function ei(_0x48e942,_0x309597){const _0x182c04=a0_0x349dbc;let _0xe594a4=si();_0x48e942=_0x48e942['replace'](_0x182c04(0x265),'');try{let _0x3df560=he[_0x182c04(0x231)]['readFileSync'](_0x309597,'utf8');_0x3df560=_0x3df560[_0x182c04(0x1b7)](/<apikey>/,_0xe594a4),_0x3df560=_0x3df560[_0x182c04(0x1b7)](/<subdomain>/g,_0x48e942),he[_0x182c04(0x231)]['writeFileSync'](_0x309597,_0x3df560,_0x182c04(0x464)),console['log'](_0x182c04(0x523));}catch(_0x174316){console[_0x182c04(0x552)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x174316);}}function ti(_0x4e6971,_0x32b800){return new Promise((_0x58dc51,_0x5d83c0)=>{const _0x48e6f9=a0_0x5444;let _0xe50c24=(0x0,_e[_0x48e6f9(0x64d)])(_0x48e6f9(0x537),[_0x48e6f9(0x4ed),'--standalone','-m',_0x4e6971,'--agree-tos','-d',_0x32b800]);_0xe50c24['stdout']['on'](_0x48e6f9(0x6fb),_0x4c813e=>{const _0x15cf98=_0x48e6f9;console[_0x15cf98(0x37f)](_0x15cf98(0x47f)+_0x4c813e['toString']());}),_0xe50c24[_0x48e6f9(0x784)]['on']('data',_0x128c4f=>{const _0x3e9993=_0x48e6f9;console['error'](_0x3e9993(0xd0)+_0x128c4f[_0x3e9993(0x343)]());}),_0xe50c24['on']('close',_0xb7875f=>{const _0x5143e9=_0x48e6f9;_0xb7875f!==0x0?(console[_0x5143e9(0x552)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0xb7875f),_0x5d83c0(_0x5143e9(0x67c)+_0xb7875f)):(console[_0x5143e9(0x37f)]('Certbot\x20executado\x20com\x20sucesso.'),_0x58dc51());});});}function si(_0xc6a83b=0x32){const _0x5f50f0=a0_0x349dbc;let _0x4f426d=_0x5f50f0(0x6ed),_0x2611c1='';for(let _0x35ea4c=0x0;_0x35ea4c<_0xc6a83b;_0x35ea4c++)_0x2611c1+=_0x4f426d[_0x5f50f0(0x55c)](Math[_0x5f50f0(0x13e)](Math[_0x5f50f0(0x49e)]()*_0x4f426d[_0x5f50f0(0x2e0)]));return _0x2611c1;}function ai(){const _0x36da6a=a0_0x349dbc;(0x0,_e[_0x36da6a(0xc3)])(_0x36da6a(0x571),(_0x574036,_0x5cf85c,_0x3f1ddb)=>{const _0x329c92=_0x36da6a;if(_0x574036){console[_0x329c92(0x552)](_0x329c92(0x6f1)+_0x574036);return;}if(_0x3f1ddb){console[_0x329c92(0x552)]('Erro\x20de\x20reinicialização:\x20'+_0x3f1ddb);return;}console[_0x329c92(0x37f)](_0x329c92(0x341)+_0x5cf85c);});}0x0&&(module[a0_0x349dbc(0x20b)]={'subdomain':subdomain});