const a0_0xe3fdb8=a0_0x3ea8;(function(_0xcaa029,_0x3f9665){const _0x4f6ebc=a0_0x3ea8,_0x205226=_0xcaa029();while(!![]){try{const _0x2623fb=-parseInt(_0x4f6ebc(0x68a))/0x1+parseInt(_0x4f6ebc(0x328))/0x2*(-parseInt(_0x4f6ebc(0x1de))/0x3)+parseInt(_0x4f6ebc(0x643))/0x4+parseInt(_0x4f6ebc(0x373))/0x5+-parseInt(_0x4f6ebc(0x5dc))/0x6+parseInt(_0x4f6ebc(0x4ec))/0x7+-parseInt(_0x4f6ebc(0x42b))/0x8;if(_0x2623fb===_0x3f9665)break;else _0x205226['push'](_0x205226['shift']());}catch(_0x3f4f8f){_0x205226['push'](_0x205226['shift']());}}}(a0_0x1d6e,0x52dc8));var _o=Object[a0_0xe3fdb8(0x751)],Ie=Object['defineProperty'],Po=Object[a0_0xe3fdb8(0x1b0)],$o=Object[a0_0xe3fdb8(0x691)],ko=Object[a0_0xe3fdb8(0x2c0)],Lo=Object[a0_0xe3fdb8(0x214)][a0_0xe3fdb8(0x541)],jo=(_0x2b6816,_0x5cfb26)=>{for(var _0x2188a7 in _0x5cfb26)Ie(_0x2b6816,_0x2188a7,{'get':_0x5cfb26[_0x2188a7],'enumerable':!0x0});},xs=(_0xe9285,_0x152d74,_0x330e21,_0x466bac)=>{const _0x5c4c5b=a0_0xe3fdb8;if(_0x152d74&&typeof _0x152d74=='object'||typeof _0x152d74==_0x5c4c5b(0x3cd)){for(let _0xc48271 of $o(_0x152d74))!Lo['call'](_0xe9285,_0xc48271)&&_0xc48271!==_0x330e21&&Ie(_0xe9285,_0xc48271,{'get':()=>_0x152d74[_0xc48271],'enumerable':!(_0x466bac=Po(_0x152d74,_0xc48271))||_0x466bac[_0x5c4c5b(0x480)]});}return _0xe9285;},R=(_0x450baf,_0x72e254,_0x4361bc)=>(_0x4361bc=_0x450baf!=null?_o(ko(_0x450baf)):{},xs(_0x72e254||!_0x450baf||!_0x450baf['__esModule']?Ie(_0x4361bc,'default',{'value':_0x450baf,'enumerable':!0x0}):_0x4361bc,_0x450baf)),Fo=_0x7427c=>xs(Ie({},'__esModule',{'value':!0x0}),_0x7427c),zr={};jo(zr,{'subdomain':()=>vs}),module[a0_0xe3fdb8(0x238)]=Fo(zr);var To=R(require(a0_0xe3fdb8(0x416))),_s=require('fs'),Ps=require(a0_0xe3fdb8(0x26b)),$s=require(a0_0xe3fdb8(0x390)),xe=require(a0_0xe3fdb8(0x390)),ae=process[a0_0xe3fdb8(0x432)](),ge=(0x0,xe[a0_0xe3fdb8(0x483)])(ae,a0_0xe3fdb8(0x4eb)),Ds=(0x0,xe[a0_0xe3fdb8(0x483)])(ae,a0_0xe3fdb8(0x550)),Ui=(0x0,xe[a0_0xe3fdb8(0x483)])(ae,'store','auth'),Zt=class{constructor(){const _0x54a400=a0_0xe3fdb8;this[_0x54a400(0x177)]();}['get'](_0x1e4018){return this['env'][_0x1e4018];}[a0_0xe3fdb8(0x177)](){const _0x54089e=a0_0xe3fdb8;this['env']=process['env']?.[_0x54089e(0x747)]!==_0x54089e(0x448)?this[_0x54089e(0x260)]():this['envProcess'](),process[_0x54089e(0x5f1)]?.['DOCKER_ENV']==='true'&&(this['env'][_0x54089e(0x772)]['TYPE']='http',this[_0x54089e(0x5f1)][_0x54089e(0x772)][_0x54089e(0x2c8)]=Number[_0x54089e(0x2c4)](process['env']?.[_0x54089e(0x2bb)]??_0x54089e(0x450)));}[a0_0xe3fdb8(0x260)](){const _0x2617ae=a0_0xe3fdb8;return(0x0,Ps[_0x2617ae(0x225)])((0x0,_s[_0x2617ae(0x3f2)])((0x0,$s[_0x2617ae(0x483)])(Ds,'../env.yml'),{'encoding':_0x2617ae(0x1ec)}));}[a0_0xe3fdb8(0x263)](){const _0x33beb7=a0_0xe3fdb8;return{'SERVER':{'TYPE':process[_0x33beb7(0x5f1)][_0x33beb7(0x216)],'PORT':Number[_0x33beb7(0x2c4)](process[_0x33beb7(0x5f1)]['SERVER_PORT']),'URL':process[_0x33beb7(0x5f1)]['SERVER_URL']},'CORS':{'ORIGIN':process['env'][_0x33beb7(0x51d)][_0x33beb7(0x4c7)](','),'METHODS':process[_0x33beb7(0x5f1)][_0x33beb7(0x3fc)]['split'](','),'CREDENTIALS':process[_0x33beb7(0x5f1)]?.[_0x33beb7(0x367)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x33beb7(0x5f1)]?.[_0x33beb7(0x206)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x33beb7(0x5f1)]?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process[_0x33beb7(0x5f1)]?.[_0x33beb7(0x4d4)]===_0x33beb7(0x448),'CONTACTS':process['env']?.[_0x33beb7(0x17f)]==='true','CHATS':process[_0x33beb7(0x5f1)]?.['STORE_CHATS']===_0x33beb7(0x448)},'DATABASE':{'CONNECTION':{'HOST':process[_0x33beb7(0x5f1)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x33beb7(0x2c4)](process[_0x33beb7(0x5f1)]?.[_0x33beb7(0x247)]),'USER':process[_0x33beb7(0x5f1)][_0x33beb7(0x28f)],'PASSWORD':process[_0x33beb7(0x5f1)][_0x33beb7(0x558)],'URI':process[_0x33beb7(0x5f1)][_0x33beb7(0x5d7)],'DB_PREFIX_NAME':process['env'][_0x33beb7(0x149)]},'ENABLED':process[_0x33beb7(0x5f1)]?.[_0x33beb7(0x195)]===_0x33beb7(0x448)},'REDIS':{'ENABLED':process['env']?.[_0x33beb7(0x5cd)]===_0x33beb7(0x448),'URI':process[_0x33beb7(0x5f1)][_0x33beb7(0x3b8)]||_0x33beb7(0x588),'PREFIX_KEY':process[_0x33beb7(0x5f1)]['REDIS_PREFIX_KEY']||_0x33beb7(0x53c)},'LOG':{'LEVEL':process['env']?.[_0x33beb7(0x54b)][_0x33beb7(0x4c7)](','),'COLOR':process['env']?.['LOG_COLOR']==='true'},'PROXY':process['env']?.[_0x33beb7(0x5e5)]===_0x33beb7(0x448),'AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x33beb7(0x5f1)][_0x33beb7(0x64c)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x33beb7(0x5f1)]?.[_0x33beb7(0x3f0)])?Number['parseInt'](process[_0x33beb7(0x5f1)][_0x33beb7(0x3f0)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},b=new Zt(),Ao=R(require(a0_0xe3fdb8(0x60c))),pe=R(require('express')),Os=require('path'),es=R(require(a0_0xe3fdb8(0x6ff))),ts=(_0x49b9ab=>(_0x49b9ab[a0_0xe3fdb8(0x468)]=a0_0xe3fdb8(0x47a),_0x49b9ab[a0_0xe3fdb8(0x415)]='\x1b[34m',_0x49b9ab['WARN']=a0_0xe3fdb8(0x6a3),_0x49b9ab[a0_0xe3fdb8(0x592)]='\x1b[31m',_0x49b9ab[a0_0xe3fdb8(0x25f)]=a0_0xe3fdb8(0x2da),_0x49b9ab[a0_0xe3fdb8(0x56a)]='\x1b[37m',_0x49b9ab[a0_0xe3fdb8(0x484)]='\x1b[30m',_0x49b9ab))(ts||{}),ks=(_0x486a30=>(_0x486a30[a0_0xe3fdb8(0x468)]=a0_0xe3fdb8(0x5be),_0x486a30[a0_0xe3fdb8(0x484)]='\x1b[30m%s\x1b[0m',_0x486a30[a0_0xe3fdb8(0x415)]=a0_0xe3fdb8(0x68d),_0x486a30[a0_0xe3fdb8(0x250)]=a0_0xe3fdb8(0x2a5),_0x486a30['ERROR']='\x1b[31m%s\x1b[0m',_0x486a30['DEBUG']=a0_0xe3fdb8(0x19a),_0x486a30[a0_0xe3fdb8(0x56a)]=a0_0xe3fdb8(0x45b),_0x486a30))(ks||{}),Ls=(_0x38aaa4=>(_0x38aaa4[a0_0xe3fdb8(0x468)]=a0_0xe3fdb8(0x468),_0x38aaa4[a0_0xe3fdb8(0x250)]=a0_0xe3fdb8(0x250),_0x38aaa4[a0_0xe3fdb8(0x415)]='INFO',_0x38aaa4[a0_0xe3fdb8(0x484)]=a0_0xe3fdb8(0x484),_0x38aaa4['ERROR']=a0_0xe3fdb8(0x592),_0x38aaa4[a0_0xe3fdb8(0x25f)]=a0_0xe3fdb8(0x25f),_0x38aaa4[a0_0xe3fdb8(0x56a)]=a0_0xe3fdb8(0x56a),_0x38aaa4))(Ls||{}),js=(_0x109e2b=>(_0x109e2b[a0_0xe3fdb8(0x468)]='\x1b[42m',_0x109e2b[a0_0xe3fdb8(0x415)]=a0_0xe3fdb8(0x155),_0x109e2b[a0_0xe3fdb8(0x250)]=a0_0xe3fdb8(0x1d3),_0x109e2b[a0_0xe3fdb8(0x484)]=a0_0xe3fdb8(0x3f7),_0x109e2b[a0_0xe3fdb8(0x592)]=a0_0xe3fdb8(0x678),_0x109e2b[a0_0xe3fdb8(0x25f)]='\x1b[46m',_0x109e2b[a0_0xe3fdb8(0x56a)]=a0_0xe3fdb8(0x6b9),_0x109e2b))(js||{}),v=class{constructor(_0x341dee=a0_0xe3fdb8(0x135)){const _0x107d54=a0_0xe3fdb8;this[_0x107d54(0x74e)]=_0x341dee,this[_0x107d54(0x5f2)]=b;}['setContext'](_0x21238a){const _0x373299=a0_0xe3fdb8;this[_0x373299(0x74e)]=_0x21238a;}[a0_0xe3fdb8(0x2b3)](_0x5dbe22,_0x10398b){const _0x23f3fc=a0_0xe3fdb8;let _0xc08323=[];this[_0x23f3fc(0x5f2)][_0x23f3fc(0x221)](_0x23f3fc(0x468))[_0x23f3fc(0x1bc)][_0x23f3fc(0x261)](_0x11848a=>_0xc08323['push'](Ls[_0x11848a]));let _0x110d38=typeof _0x5dbe22;_0xc08323[_0x23f3fc(0x13f)](_0x10398b)&&(b[_0x23f3fc(0x221)](_0x23f3fc(0x468))[_0x23f3fc(0x53d)]?(console['log'](_0x23f3fc(0x3ad)+ks[_0x10398b],_0x23f3fc(0x32a),(0x0,es[_0x23f3fc(0x3bb)])()[_0x23f3fc(0x1af)](_0x23f3fc(0x40f)),'\x1b[0m',ts[_0x10398b]+js[_0x10398b]+'\x1b[1m',_0x10398b+_0x23f3fc(0x1f9),_0x23f3fc(0x598),this[_0x23f3fc(0x74e)]+'\x1b[0m',ts[_0x10398b],_0x110d38!==_0x23f3fc(0x5c2)?_0x5dbe22:'',_0x23f3fc(0x240)),_0x110d38===_0x23f3fc(0x5c2)&&console['log'](_0x5dbe22,'\x0a')):console[_0x23f3fc(0x21f)]((0x0,es[_0x23f3fc(0x3bb)])()[_0x23f3fc(0x1af)](_0x23f3fc(0x6d8)),_0x10398b+'\x20',''+this['context'],_0x5dbe22));}['log'](_0x296291){const _0x47232b=a0_0xe3fdb8;this[_0x47232b(0x2b3)](_0x296291,_0x47232b(0x468));}[a0_0xe3fdb8(0x4aa)](_0x4920cf){const _0x1f4a27=a0_0xe3fdb8;this['console'](_0x4920cf,_0x1f4a27(0x415));}[a0_0xe3fdb8(0x292)](_0x52ff4c){const _0x34bfc5=a0_0xe3fdb8;this[_0x34bfc5(0x2b3)](_0x52ff4c,'WARN');}[a0_0xe3fdb8(0x430)](_0x4f16e4){const _0xf68983=a0_0xe3fdb8;this[_0xf68983(0x2b3)](_0x4f16e4,_0xf68983(0x592));}[a0_0xe3fdb8(0x2b1)](_0x4c5485){const _0x420a03=a0_0xe3fdb8;this[_0x420a03(0x2b3)](_0x4c5485,_0x420a03(0x56a));}[a0_0xe3fdb8(0x75c)](_0x1068bf){const _0xf589a0=a0_0xe3fdb8;this[_0xf589a0(0x2b3)](_0x1068bf,'DEBUG');}['dark'](_0x7b12a1){const _0xcdd532=a0_0xe3fdb8;this['console'](_0x7b12a1,_0xcdd532(0x484));}};function Fs(){const _0x420014=a0_0xe3fdb8;process['on'](_0x420014(0x410),(_0x33c3d8,_0x42ed30)=>{const _0x5a819b=_0x420014;new v(_0x5a819b(0x410))['error']({'origin':_0x42ed30,'stderr':process[_0x5a819b(0x2b2)]['fd'],'error':_0x33c3d8});}),process['on'](_0x420014(0x799),(_0x8e7ab3,_0x1f5583)=>{const _0x4a6738=_0x420014;new v('unhandledRejection')[_0x4a6738(0x430)]({'origin':_0x1f5583,'stderr':process['stderr']['fd'],'error':_0x8e7ab3});});}var qs=R(require('eventemitter2')),ss=new qs[(a0_0xe3fdb8(0x3bb))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require('mongoose'),as=R(require(a0_0xe3fdb8(0x274))),qo=new v('Db\x20Connection'),V=b['get'](a0_0xe3fdb8(0x72c)),N=V[a0_0xe3fdb8(0x74c)]?V[a0_0xe3fdb8(0x38a)][a0_0xe3fdb8(0x6da)]?as[a0_0xe3fdb8(0x3bb)][a0_0xe3fdb8(0x5a3)](V['CONNECTION'][a0_0xe3fdb8(0x6da)],{'dbName':V[a0_0xe3fdb8(0x38a)][a0_0xe3fdb8(0x5a7)]+a0_0xe3fdb8(0x5a6)}):as['default'][a0_0xe3fdb8(0x5a3)]('mongodb://'+V[a0_0xe3fdb8(0x38a)][a0_0xe3fdb8(0x6c4)]+':'+V[a0_0xe3fdb8(0x38a)][a0_0xe3fdb8(0x2c8)]+a0_0xe3fdb8(0x617),{'user':V[a0_0xe3fdb8(0x38a)][a0_0xe3fdb8(0x347)],'pass':V[a0_0xe3fdb8(0x38a)][a0_0xe3fdb8(0x3f9)],'dbName':V['CONNECTION'][a0_0xe3fdb8(0x5a7)]+'-whatsapp-api'}):null;V[a0_0xe3fdb8(0x74c)]&&qo[a0_0xe3fdb8(0x4aa)]('ON\x20-\x20dbName:\x20'+N[a0_0xe3fdb8(0x612)]);var Uo=new De['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new De[(a0_0xe3fdb8(0x6c8))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Vo=new De[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Us=_0x20d43c=>{const _0x8bb74d=a0_0xe3fdb8;let _0x39120b='z_'+_0x20d43c+'_Chats';return N?.[_0x8bb74d(0x321)](_0x8bb74d(0x6db),Vo,_0x39120b);},Js=require('mongoose'),Bo=new Js[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x591bb3=>{const _0x1abce2=a0_0xe3fdb8;let _0x21054d='z_'+_0x591bb3+'_Contacts';return N?.[_0x1abce2(0x321)](_0x1abce2(0x6ae),Bo,_0x21054d);},Bs=require(a0_0xe3fdb8(0x274)),Go=new Bs[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x447d0d=>{const _0x551832=a0_0xe3fdb8;let _0x4519f1='z_'+_0x447d0d+'_Messages';return N?.[_0x551832(0x321)](_0x551832(0x505),Go,_0x4519f1);},Ws=require('mongoose'),os=class{},Wo=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),zs=N?.[a0_0xe3fdb8(0x321)](os[a0_0xe3fdb8(0x62f)],Wo,a0_0xe3fdb8(0x773)),Hs=require(a0_0xe3fdb8(0x274)),rs=class{},Ks=new Hs[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0xe3fdb8(0x30a)](a0_0xe3fdb8(0x53f),function(_0x4162db){const _0x2ae25c=a0_0xe3fdb8;delete this[_0x2ae25c(0x3b5)],delete this['flowIgnoreGroups'],delete this[_0x2ae25c(0x486)],delete this[_0x2ae25c(0x2fd)],delete this[_0x2ae25c(0x256)],_0x4162db();});var Qs=N?.[a0_0xe3fdb8(0x321)](rs[a0_0xe3fdb8(0x62f)],Ks,a0_0xe3fdb8(0x38f)),_=require(a0_0xe3fdb8(0x274)),_e=class{},Ys=new _[(a0_0xe3fdb8(0x6c8))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new _[(a0_0xe3fdb8(0x6c8))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),zo=new _[(a0_0xe3fdb8(0x6c8))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0xe3fdb8(0x386)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0xe3fdb8(0x485)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0xe3fdb8(0x28d)},'pollErrorMessage':{'type':String,'default':a0_0xe3fdb8(0x3c2)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _[(a0_0xe3fdb8(0x6c8))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ho=new _['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Ko=new _[(a0_0xe3fdb8(0x6c8))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':zo},'apirequest':Ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ns=class{},ps=new _[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x499b47=a0_0xe3fdb8;return _0x499b47(0x477)+Math[_0x499b47(0x781)]()[_0x499b47(0x4ff)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]}});ps[a0_0xe3fdb8(0x30a)](a0_0xe3fdb8(0x53f),function(_0x135ef7){const _0x2c71d=a0_0xe3fdb8;let _0xae7c86=new Set(),_0x90eca2=new Set(this[_0x2c71d(0x36c)]?.['map'](_0x469b5f=>_0x469b5f['name'])),_0x4d1aaa=JSON['stringify'](this),_0x23ad32=/{{(?!_)([^}]*)}}/g,_0x5c3e01;for(;(_0x5c3e01=_0x23ad32[_0x2c71d(0x555)](_0x4d1aaa))!==null;)_0x90eca2[_0x2c71d(0x64b)](_0x5c3e01[0x1])||_0xae7c86[_0x2c71d(0x18c)](_0x5c3e01[0x1]);_0xae7c86[_0x2c71d(0x400)]>0x0?(console[_0x2c71d(0x292)](_0x2c71d(0x633),Array[_0x2c71d(0x519)](_0xae7c86)),this[_0x2c71d(0x180)]=Array[_0x2c71d(0x519)](_0xae7c86)):this['variablesNotFound']=[],_0x135ef7();});var ta=_0x3baa31=>{const _0x5682d7=a0_0xe3fdb8;let _0x4ea3e2='z_'+_0x3baa31+_0x5682d7(0x4e1);return N?.[_0x5682d7(0x321)](_0x5682d7(0x34a),ps,_0x4ea3e2);},sa=N?.[a0_0xe3fdb8(0x321)](ns['name'],ps,'flow'),Qo=new _[(a0_0xe3fdb8(0x6c8))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Ko]},{'_id':!0x1}),cs=class{},aa=new _[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0xe3fdb8(0x28d)},'waitingMenu_replyOptions':{'type':[is],'default':[]}}),oa=_0x5713a9=>{const _0x3ffe89=a0_0xe3fdb8;let _0x14d970='z_'+_0x5713a9+'_FlowHistorico';return N?.[_0x3ffe89(0x321)](_0x3ffe89(0x632),aa,_0x14d970);},ra=N?.[a0_0xe3fdb8(0x321)](cs[a0_0xe3fdb8(0x62f)],aa,a0_0xe3fdb8(0x39c)),ls=class{},Yo=new _[(a0_0xe3fdb8(0x6c8))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Xo=new _[(a0_0xe3fdb8(0x6c8))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0xe3fdb8(0x6c8))]({'owner':{'type':String},'status':{'type':String,'default':a0_0xe3fdb8(0x67d)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Yo],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x124e47=>{const _0x187d0d=a0_0xe3fdb8;let _0x3dda0e='z_'+_0x124e47+_0x187d0d(0x4e3);return N?.[_0x187d0d(0x321)](_0x187d0d(0x24b),ia,_0x3dda0e);},ca=N?.[a0_0xe3fdb8(0x321)](ls['name'],ia,a0_0xe3fdb8(0x2ed)),us=class{},Zo=new _[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),er=new _[(a0_0xe3fdb8(0x6c8))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0xe3fdb8(0x561)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),tr=new _[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),sr=new _[(a0_0xe3fdb8(0x6c8))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[tr]},'customFields':{'type':[Zo]},'flowConfig':{'type':er,'default':{}}}),Pe=N?.[a0_0xe3fdb8(0x321)](us[a0_0xe3fdb8(0x62f)],sr,a0_0xe3fdb8(0x1c2)),la=require('mongoose'),ar=new la['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x3576af=>{const _0x5279fe=a0_0xe3fdb8;let _0x262646='z_'+_0x3576af+_0x5279fe(0x1fe);return N?.['model'](_0x5279fe(0x223),ar,_0x262646);},I=class{constructor(_0x4eb6f0){const _0x345127=a0_0xe3fdb8;this['dbSettings']=_0x4eb6f0[_0x345127(0x221)](_0x345127(0x72c));}};function A(_0x1015fb){const _0x4cae89=a0_0xe3fdb8;let _0x5dc887={};for(let [_0x3a52ad,_0x421620]of Object[_0x4cae89(0x133)](_0x1015fb))if(typeof _0x421620==_0x4cae89(0x5c2)&&!Array['isArray'](_0x421620)){for(let [_0x793eaa,_0xc99875]of Object['entries'](_0x421620))_0x5dc887[_0x3a52ad+'.'+_0x793eaa]=_0xc99875;}else _0x5dc887[_0x3a52ad]=_0x421620;return _0x5dc887;}var $e=class{constructor(_0x18bb4c,_0x1b7041,_0x58cfee,_0x245e5c,_0x1e31b3,_0x502465,_0x54463d,_0x1ca477,_0x226ab6,_0x2f250e,_0x3df679){const _0x43bcd0=a0_0xe3fdb8;this[_0x43bcd0(0x20e)]=_0x18bb4c,this['chat']=_0x1b7041,this[_0x43bcd0(0x1f6)]=_0x58cfee,this[_0x43bcd0(0x38f)]=_0x245e5c,this[_0x43bcd0(0x439)]=_0x1e31b3,this[_0x43bcd0(0x4e6)]=_0x502465,this[_0x43bcd0(0x39c)]=_0x54463d,this[_0x43bcd0(0x506)]=_0x1ca477,this[_0x43bcd0(0x4ca)]=_0x226ab6,this[_0x43bcd0(0x585)]=_0x2f250e,this['dbClient']=_0x3df679;}get[a0_0xe3fdb8(0x44c)](){return this['dbClient'];}},ke=class{},Le=class extends I{[a0_0xe3fdb8(0x70b)](_0x1025c4){return Gs(_0x1025c4);}async[a0_0xe3fdb8(0x1f7)](_0x327514,_0x2d0c2f){const _0x1290ca=a0_0xe3fdb8;if(_0x327514[_0x1290ca(0x736)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x1290ca(0x70b)](_0x2d0c2f)[_0x1290ca(0x5b9)]([..._0x327514]))[_0x1290ca(0x736)]};}catch(_0x49e62f){return _0x49e62f;}}async['find'](_0x3f5442,_0x2308da){const _0x18df9b=a0_0xe3fdb8;try{let _0x58e78f=this[_0x18df9b(0x70b)](_0x2308da),_0x244ea2=A(_0x3f5442[_0x18df9b(0x287)]);return await _0x58e78f[_0x18df9b(0x579)](_0x244ea2)[_0x18df9b(0x770)]({'messageTimestamp':-0x1})['limit'](_0x3f5442?.[_0x18df9b(0x235)]??0x0)[_0x18df9b(0x2a0)]();}catch{return[];}}async[a0_0xe3fdb8(0x75e)](_0x2a41af,_0x1de261){const _0x345365=a0_0xe3fdb8;try{let _0x31e72f=this[_0x345365(0x70b)](_0x1de261),_0x2c7914=A(_0x2a41af['where']);await _0x31e72f[_0x345365(0x1da)](_0x2c7914);}catch(_0x20aed0){console['error'](_0x20aed0);}}async[a0_0xe3fdb8(0x3e6)](_0x47b70e,_0x79b52d,_0x26a182){const _0x3a8da4=a0_0xe3fdb8;try{let _0x17a729=this[_0x3a8da4(0x70b)](_0x26a182),_0xf441d9=A(_0x47b70e[_0x3a8da4(0x287)]);return await _0x17a729[_0x3a8da4(0x76d)](_0xf441d9,{'$set':_0x79b52d},{'new':!0x0});}catch(_0x166821){throw console['error'](_0x166821),_0x166821;}}async[a0_0xe3fdb8(0x5b9)](_0x40d2c0,_0x2d1c64){const _0x2e8bd5=a0_0xe3fdb8;if(_0x40d2c0[_0x2e8bd5(0x736)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2e8bd5(0x70b)](_0x2d1c64)['insertMany']([..._0x40d2c0]))[_0x2e8bd5(0x736)]};}catch(_0x40a075){return console[_0x2e8bd5(0x21f)](_0x2e8bd5(0x520),_0x40a075),_0x40a075;}}async[a0_0xe3fdb8(0x5e6)](_0x318873){const _0x587108=a0_0xe3fdb8;try{return await this[_0x587108(0x70b)](_0x318873)[_0x587108(0x28e)][_0x587108(0x4d6)](),{'success':!0x0};}catch(_0x3d4f67){return console['error'](_0x3d4f67),{'success':!0x1,'error':_0x3d4f67};}}},wo=R(require(a0_0xe3fdb8(0x6e2))),y=R(require(a0_0xe3fdb8(0x189))),ve=require('fs'),F=R(require(a0_0xe3fdb8(0x390))),se=R(require('axios')),yo=require('uuid'),bo=R(require(a0_0xe3fdb8(0x6b4))),So=R(require('qrcode-terminal')),da=[a0_0xe3fdb8(0x332),a0_0xe3fdb8(0x2d3),a0_0xe3fdb8(0x310),a0_0xe3fdb8(0x77c),a0_0xe3fdb8(0x29b)],pa=['ephemeralMessage','documentWithCaptionMessage',a0_0xe3fdb8(0x675),a0_0xe3fdb8(0x3f8)],Ss=require('os'),Ot=R(require(a0_0xe3fdb8(0x2de))),_t=require(a0_0xe3fdb8(0x4a8)),It=require(a0_0xe3fdb8(0x6eb)),ie=R(require('mongoose')),k=require('class-validator'),me=class{constructor(_0x56a74f,_0x1215e5,_0x57cdc7){const _0x3567c6=a0_0xe3fdb8;this['jid']=_0x56a74f,this['exists']=_0x1215e5,this[_0x3567c6(0x62f)]=_0x57cdc7;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0xe3fdb8(0x22b))),ha=require('fs'),ga=require('path');async function We(_0x2a90bb){const _0x47329e=a0_0xe3fdb8;let _0x1be312=B['waInstances'][_0x2a90bb];if(V['ENABLED']){let _0x5ea9bc=N[_0x47329e(0x76b)]()['db'](V[_0x47329e(0x38a)][_0x47329e(0x5a7)]+_0x47329e(0x66d))['collection'](_0x2a90bb);return _0x1be312||(await _0x5ea9bc[_0x47329e(0x579)]({})['toArray']())[_0x47329e(0x736)]>0x0;}return _0x1be312||(0x0,ha['existsSync'])((0x0,ga[_0x47329e(0x483)])(ge,_0x2a90bb));}async function ma(_0x23b73c,_0x5822a8,_0x110323){const _0x40a772=a0_0xe3fdb8;if(_0x23b73c[_0x40a772(0x5db)][_0x40a772(0x13f)]('/instance/create')||_0x23b73c[_0x40a772(0x5db)][_0x40a772(0x13f)]('/instance/fetchInstances')||_0x23b73c[_0x40a772(0x5db)][_0x40a772(0x13f)](_0x40a772(0x208))||_0x23b73c['originalUrl']['includes'](_0x40a772(0x4a4))||_0x23b73c[_0x40a772(0x5db)][_0x40a772(0x13f)]('/instance/connect')||_0x23b73c[_0x40a772(0x5db)][_0x40a772(0x13f)](_0x40a772(0x13a))||_0x23b73c[_0x40a772(0x5db)][_0x40a772(0x13f)](_0x40a772(0x3b2)))return _0x110323();let _0x524332=_0x23b73c['params'];if(!_0x524332?.[_0x40a772(0x413)])throw new m(_0x40a772(0x5ac));if(!await We(_0x524332[_0x40a772(0x413)]))throw new j('The\x20'+_0x524332['instanceName']+_0x40a772(0x4c5));_0x110323();}async function fa(_0x186ba4,_0x5dfecc,_0x27c7a1){const _0x30288b=a0_0xe3fdb8;if(_0x186ba4[_0x30288b(0x5db)]['includes'](_0x30288b(0x531))){let _0x3196f4=_0x186ba4['body'];if(await We(_0x3196f4['instanceName']))throw new K(_0x30288b(0x19f)+_0x3196f4[_0x30288b(0x413)]+_0x30288b(0x361));B[_0x30288b(0x52e)][_0x3196f4['instanceName']]&&delete B[_0x30288b(0x52e)][_0x3196f4[_0x30288b(0x413)]];}_0x27c7a1();}var wa=require('class-validator'),ya=R(require(a0_0xe3fdb8(0x158))),ze='uazapi',rr=new v('GUARD');async function ir(_0x5ee730,_0x4a679f,_0x2dc405){const _0x199125=a0_0xe3fdb8;let _0x13f518=_0x5ee730[_0x199125(0x221)]('apikey');if(_0x13f518&&b['get']('AUTHENTICATION')[_0x199125(0x727)][_0x199125(0x78c)]!==_0x13f518)throw new ee();if(b['get'](_0x199125(0x209))[_0x199125(0x727)][_0x199125(0x78c)]===_0x13f518)return _0x2dc405();if((_0x5ee730['originalUrl'][_0x199125(0x13f)](_0x199125(0x531))||_0x5ee730[_0x199125(0x5db)][_0x199125(0x13f)]('/instance/fetchInstances'))&&!_0x13f518)throw new K(_0x199125(0x358),_0x199125(0x1c6));let _0x3ab973=b[_0x199125(0x221)](_0x199125(0x209))[_0x199125(0x651)];try{let [_0x489ad5,_0xf9884]=_0x5ee730[_0x199125(0x221)](_0x199125(0x6cd))[_0x199125(0x4c7)]('\x20');if(_0x489ad5[_0x199125(0x3a4)]()!==_0x199125(0x6cf))throw new ee();if(!(0x0,wa['isJWT'])(_0xf9884))throw new ee();let _0x1d06d7=_0x5ee730['params'],_0x37427e=ya[_0x199125(0x3bb)]['verify'](_0xf9884,_0x3ab973[_0x199125(0x60d)],{'ignoreExpiration':_0x3ab973[_0x199125(0x40a)]===0x0});if(_0x1d06d7[_0x199125(0x413)]!==_0x37427e[_0x199125(0x413)]||ze!==_0x37427e[_0x199125(0x5b7)])throw new ee();return _0x2dc405();}catch(_0x1e2773){throw rr[_0x199125(0x430)](_0x1e2773),new ee();}}async function nr(_0x27e900,_0x220c3f,_0x4f7e28){const _0x46e09f=a0_0xe3fdb8;let _0x20c4ce=b[_0x46e09f(0x221)](_0x46e09f(0x209))['API_KEY'],_0x3a4ccb=_0x27e900[_0x46e09f(0x221)]('apikey');if(_0x20c4ce[_0x46e09f(0x78c)]===_0x3a4ccb)return _0x4f7e28();if(_0x27e900[_0x46e09f(0x5db)][_0x46e09f(0x13f)](_0x46e09f(0x531))){let _0x3b307f=He,_0x27cac2=_0x27e900[_0x46e09f(0x1c8)]['instanceName'];if(_0x3b307f&&_0x27cac2[_0x46e09f(0x3a4)]()[_0x46e09f(0x222)](_0x3b307f['toLowerCase']()))return _0x4f7e28();if(!_0x3a4ccb)throw new K(_0x46e09f(0x358),_0x46e09f(0x1c6));}if(_0x27e900['originalUrl'][_0x46e09f(0x13f)](_0x46e09f(0x48e))&&!_0x3a4ccb)throw new K('Missing\x20global\x20api\x20key',_0x46e09f(0x1c6));if(_0x27e900[_0x46e09f(0x5db)]['includes'](_0x46e09f(0x208))&&!_0x3a4ccb)throw new K(_0x46e09f(0x358),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x27e900[_0x46e09f(0x5db)][_0x46e09f(0x13f)](_0x46e09f(0x4a4))&&!_0x3a4ccb)throw new K(_0x46e09f(0x358),_0x46e09f(0x1c6));try{let _0x338201=_0x27e900['params'];if((await ce[_0x46e09f(0x439)][_0x46e09f(0x579)](_0x338201[_0x46e09f(0x413)]))['apikey']===_0x3a4ccb)return _0x4f7e28();}catch{}throw new ee();}var ba={'jwt':ir,'apikey':nr},Za=require(a0_0xe3fdb8(0x22b)),C=require('uuid'),S=(..._0x1b8c8c)=>{const _0x3d0c54=a0_0xe3fdb8;let _0x2e8659={};return _0x1b8c8c['forEach'](_0xb49dc=>_0x2e8659[_0xb49dc]={'minLength':0x1,'description':_0x3d0c54(0x3ca)+_0xb49dc+_0x3d0c54(0x3eb)}),{'if':{'propertyNames':{'enum':[..._0x1b8c8c]}},'then':{'properties':_0x2e8659}};},M={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':'string'}},...S(a0_0xe3fdb8(0x413))},Hn={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'oldToken':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x696)],...S('oldToken')},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0xe3fdb8(0x467)},'fromMe':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]}},'required':['id',a0_0xe3fdb8(0x27d),a0_0xe3fdb8(0x63e)],...S('id',a0_0xe3fdb8(0x27d))},'message':{'type':a0_0xe3fdb8(0x5c2)}}},Q={'properties':{'delay':{'type':a0_0xe3fdb8(0x35d),'description':a0_0xe3fdb8(0x1b2)},'presence':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x22d),a0_0xe3fdb8(0x5af),a0_0xe3fdb8(0x375),a0_0xe3fdb8(0x4b0),a0_0xe3fdb8(0x6ef)]}}},z={'type':a0_0xe3fdb8(0x467),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0xe3fdb8(0x16b)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'text':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x3d6)],...S(a0_0xe3fdb8(0x3d6))}},'required':[a0_0xe3fdb8(0x2e2),a0_0xe3fdb8(0x3d5)]},Ea={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0xe3fdb8(0x16b)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'text':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x3d6)],...S('text')}},'required':['textMessage',a0_0xe3fdb8(0x3d5)]},Yn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x3a5),a0_0xe3fdb8(0x2c2),a0_0xe3fdb8(0x567),a0_0xe3fdb8(0x1b5)]},'media':{'type':a0_0xe3fdb8(0x467)},'fileName':{'type':a0_0xe3fdb8(0x467)},'caption':{'type':a0_0xe3fdb8(0x467)}},'required':['mediatype','media'],...S(a0_0xe3fdb8(0x581),'caption','media')}},'required':['mediaMessage',a0_0xe3fdb8(0x3d5)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'image':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x3a5)],...S(a0_0xe3fdb8(0x3a5))}},'required':[a0_0xe3fdb8(0x29b),a0_0xe3fdb8(0x3d5)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'statusMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'type':{'type':'string','enum':[a0_0xe3fdb8(0x3d6),a0_0xe3fdb8(0x3a5),a0_0xe3fdb8(0x1b5),a0_0xe3fdb8(0x567)]},'content':{'type':a0_0xe3fdb8(0x467)},'caption':{'type':a0_0xe3fdb8(0x467)},'backgroundColor':{'type':a0_0xe3fdb8(0x467)},'font':{'type':a0_0xe3fdb8(0x35d),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xe3fdb8(0x661),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe3fdb8(0x467),'pattern':a0_0xe3fdb8(0x5e0),'description':a0_0xe3fdb8(0x5cc)}},'allContacts':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]}},'required':[a0_0xe3fdb8(0x715),a0_0xe3fdb8(0x234)],...S(a0_0xe3fdb8(0x715),a0_0xe3fdb8(0x234))}},'required':['statusMessage']},va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'mediatype':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x3a5),a0_0xe3fdb8(0x2c2),a0_0xe3fdb8(0x567),a0_0xe3fdb8(0x1b5)]},'media':{'type':a0_0xe3fdb8(0x467)},'fileName':{'type':'string'},'caption':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x703),a0_0xe3fdb8(0x3cf)],...S(a0_0xe3fdb8(0x581),a0_0xe3fdb8(0x21c),'media')}},'required':[a0_0xe3fdb8(0x1bd),a0_0xe3fdb8(0x3d5)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'audio':{'type':'string'}},'required':[a0_0xe3fdb8(0x1b5)],...S(a0_0xe3fdb8(0x1b5))}},'required':[a0_0xe3fdb8(0x310),'number']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...z},'pollMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0xe3fdb8(0x3d5)},'values':{'type':a0_0xe3fdb8(0x661),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xe3fdb8(0x62f),a0_0xe3fdb8(0x509),a0_0xe3fdb8(0x714)],...S(a0_0xe3fdb8(0x62f),a0_0xe3fdb8(0x509),a0_0xe3fdb8(0x714))}},'required':[a0_0xe3fdb8(0x3d5),a0_0xe3fdb8(0x32f)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...z},'menuMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'text':{'type':a0_0xe3fdb8(0x467)},'choices':{'type':a0_0xe3fdb8(0x661),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xe3fdb8(0x3d6),a0_0xe3fdb8(0x190)],...S(a0_0xe3fdb8(0x3d6),a0_0xe3fdb8(0x190))}},'required':[a0_0xe3fdb8(0x3d5),a0_0xe3fdb8(0x6ec)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'title':{'type':a0_0xe3fdb8(0x467)},'description':{'type':a0_0xe3fdb8(0x467)},'footerText':{'type':a0_0xe3fdb8(0x467)},'buttons':{'type':a0_0xe3fdb8(0x661),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0xe3fdb8(0x467)},'buttonId':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x42f),a0_0xe3fdb8(0x551)],...S(a0_0xe3fdb8(0x42f),'buttonId')}},'mediaMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'media':{'type':a0_0xe3fdb8(0x467)},'fileName':{'type':a0_0xe3fdb8(0x467)},'mediatype':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x3a5),'document',a0_0xe3fdb8(0x567)]}},'required':[a0_0xe3fdb8(0x3cf),'mediatype'],...S(a0_0xe3fdb8(0x3cf),a0_0xe3fdb8(0x581))}},'required':[a0_0xe3fdb8(0x1e7),a0_0xe3fdb8(0x5bc)],...S('title',a0_0xe3fdb8(0x472))}},'required':['number',a0_0xe3fdb8(0x2cd)]},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0xe3fdb8(0x3d5)},'longitude':{'type':'number'},'name':{'type':a0_0xe3fdb8(0x467)},'address':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x4de),a0_0xe3fdb8(0x203)],...S(a0_0xe3fdb8(0x62f),a0_0xe3fdb8(0x2f2))}},'required':[a0_0xe3fdb8(0x3d5),a0_0xe3fdb8(0x66c)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'title':{'type':a0_0xe3fdb8(0x467)},'description':{'type':a0_0xe3fdb8(0x467)},'footerText':{'type':a0_0xe3fdb8(0x467)},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe3fdb8(0x5c2),'properties':{'title':{'type':a0_0xe3fdb8(0x467)},'rows':{'type':a0_0xe3fdb8(0x661),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe3fdb8(0x5c2),'properties':{'title':{'type':a0_0xe3fdb8(0x467)},'description':{'type':a0_0xe3fdb8(0x467)},'rowId':{'type':'string'}},'required':[a0_0xe3fdb8(0x1e7),a0_0xe3fdb8(0x4b4)],...S(a0_0xe3fdb8(0x1e7),a0_0xe3fdb8(0x4b4))}}},'required':[a0_0xe3fdb8(0x1e7),a0_0xe3fdb8(0x6ed)],...S(a0_0xe3fdb8(0x1e7))}}},'required':[a0_0xe3fdb8(0x1e7),a0_0xe3fdb8(0x472),a0_0xe3fdb8(0x42f),a0_0xe3fdb8(0x507)],...S('title',a0_0xe3fdb8(0x472),a0_0xe3fdb8(0x42f),a0_0xe3fdb8(0x53a))}},'required':['number',a0_0xe3fdb8(0x6a7)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0xe3fdb8(0x661),'items':{'type':a0_0xe3fdb8(0x5c2),'properties':{'fullName':{'type':a0_0xe3fdb8(0x467)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0xe3fdb8(0x213),a0_0xe3fdb8(0x51a)],...S(a0_0xe3fdb8(0x213))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xe3fdb8(0x3d5),a0_0xe3fdb8(0x528)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'reactionMessage':{'type':a0_0xe3fdb8(0x5c2),'properties':{'key':{'type':a0_0xe3fdb8(0x5c2),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0xe3fdb8(0x467)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0xe3fdb8(0x27d),a0_0xe3fdb8(0x63e)],...S('id',a0_0xe3fdb8(0x27d))},'reaction':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x326),a0_0xe3fdb8(0x2ad)],...S(a0_0xe3fdb8(0x2ad))}},'required':[a0_0xe3fdb8(0x5e2)]},_a={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'numbers':{'type':a0_0xe3fdb8(0x661),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0xe3fdb8(0x4ea)}}}},Pa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'readMessages':{'type':a0_0xe3fdb8(0x661),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0xe3fdb8(0x467)},'fromMe':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xe3fdb8(0x467)}},'required':['id','fromMe',a0_0xe3fdb8(0x27d)],...S('id',a0_0xe3fdb8(0x27d))}}},'required':[a0_0xe3fdb8(0x5ea)]},$a={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'privacySettings':{'type':a0_0xe3fdb8(0x5c2),'properties':{'readreceipts':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x297),a0_0xe3fdb8(0x77b)]},'profile':{'type':'string','enum':[a0_0xe3fdb8(0x297),a0_0xe3fdb8(0x682),a0_0xe3fdb8(0x3e0),a0_0xe3fdb8(0x77b)]},'status':{'type':'string','enum':[a0_0xe3fdb8(0x297),a0_0xe3fdb8(0x682),'contact_blacklist',a0_0xe3fdb8(0x77b)]},'online':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x297),a0_0xe3fdb8(0x1ae)]},'last':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x297),'contacts',a0_0xe3fdb8(0x3e0),a0_0xe3fdb8(0x77b)]},'groupadd':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x297),a0_0xe3fdb8(0x682),'contact_blacklist',a0_0xe3fdb8(0x77b)]}},'required':[a0_0xe3fdb8(0x652),'profile',a0_0xe3fdb8(0x299),'online',a0_0xe3fdb8(0x4c0),a0_0xe3fdb8(0x58f)],...S('readreceipts',a0_0xe3fdb8(0x3a9),a0_0xe3fdb8(0x299),'online','last',a0_0xe3fdb8(0x58f))}},'required':[a0_0xe3fdb8(0x6d2)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0xe3fdb8(0x5c2),'properties':{'id':{'type':a0_0xe3fdb8(0x467)},'remoteJid':{'type':a0_0xe3fdb8(0x467)},'fromMe':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0xe3fdb8(0x27d)],...S('id',a0_0xe3fdb8(0x27d))},'messageTimestamp':{'type':a0_0xe3fdb8(0x35d),'minLength':0x1}},'required':[a0_0xe3fdb8(0x326)],...S(a0_0xe3fdb8(0x61e))},'archive':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0xe3fdb8(0x365)]},La={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'id':{'type':a0_0xe3fdb8(0x467)},'fromMe':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xe3fdb8(0x467)},'participant':{'type':a0_0xe3fdb8(0x467)}},'required':['id','fromMe','remoteJid'],...S('id','remoteJid',a0_0xe3fdb8(0x599))},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0xe3fdb8(0x5c2),'properties':{'_id':{'type':a0_0xe3fdb8(0x467),'minLength':0x1},'pushName':{'type':a0_0xe3fdb8(0x467),'minLength':0x1},'id':{'type':a0_0xe3fdb8(0x467),'minLength':0x1}},...S('_id','id',a0_0xe3fdb8(0x27b))}}},Fa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'name':{'type':a0_0xe3fdb8(0x467)}},...S(a0_0xe3fdb8(0x62f))},qa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'status':{'type':a0_0xe3fdb8(0x467)}},...S(a0_0xe3fdb8(0x299))},Se={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'number':{'type':'string'},'picture':{'type':a0_0xe3fdb8(0x467)}}},Ua={'type':'object','properties':{'wuid':{'type':a0_0xe3fdb8(0x467)},'name':{'type':'string'},'picture':{'type':a0_0xe3fdb8(0x467)},'status':{'type':a0_0xe3fdb8(0x467)},'isBusiness':{'type':a0_0xe3fdb8(0x3c9)}}},Ja={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0xe3fdb8(0x467),'minLength':0x1},'key':{'type':a0_0xe3fdb8(0x5c2),'if':{'propertyNames':{'enum':[a0_0xe3fdb8(0x63e),a0_0xe3fdb8(0x27d),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0xe3fdb8(0x467),'minLength':0x1,'description':a0_0xe3fdb8(0x2c9)},'id':{'type':a0_0xe3fdb8(0x467),'minLength':0x1,'description':a0_0xe3fdb8(0x2c9)},'fromMe':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S('_id')},'limit':{'type':a0_0xe3fdb8(0x35d)}}},Xn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0xe3fdb8(0x5c2),'properties':{'_id':{'type':a0_0xe3fdb8(0x467)},'remoteJid':{'type':a0_0xe3fdb8(0x467)},'id':{'type':a0_0xe3fdb8(0x467)},'fromMe':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'participant':{'type':a0_0xe3fdb8(0x467)},'status':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x592),a0_0xe3fdb8(0x792),'SERVER_ACK',a0_0xe3fdb8(0x335),'READ',a0_0xe3fdb8(0x1d6)]}},...S(a0_0xe3fdb8(0x1ff),'remoteJid','id','status')},'limit':{'type':a0_0xe3fdb8(0x35d)}}},Va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x22d),a0_0xe3fdb8(0x5af),a0_0xe3fdb8(0x375),'recording',a0_0xe3fdb8(0x6ef)]}},'required':[a0_0xe3fdb8(0x46e),a0_0xe3fdb8(0x3d5)]},Ba={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':'string'},'description':{'type':'string'},'profilePicture':{'type':'string'},'participants':{'type':a0_0xe3fdb8(0x661),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0xe3fdb8(0x6a4)}}},'required':['subject',a0_0xe3fdb8(0x197)],...S(a0_0xe3fdb8(0x37e),a0_0xe3fdb8(0x472),a0_0xe3fdb8(0x763))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'groupJid':{'type':a0_0xe3fdb8(0x467),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0xe3fdb8(0x334)],...S('groupJid')},Ga={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0xe3fdb8(0x467),'enum':['add',a0_0xe3fdb8(0x406),a0_0xe3fdb8(0x535),a0_0xe3fdb8(0x4b1)]},'participants':{'type':a0_0xe3fdb8(0x661),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xe3fdb8(0x467),'minLength':0xa,'pattern':a0_0xe3fdb8(0x712),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0xe3fdb8(0x334),a0_0xe3fdb8(0x2f9),a0_0xe3fdb8(0x197)],...S(a0_0xe3fdb8(0x334),a0_0xe3fdb8(0x2f9))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'groupJid':{'type':'string'},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...S(a0_0xe3fdb8(0x334),a0_0xe3fdb8(0x572))},za={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0xe3fdb8(0x467)}},'required':[a0_0xe3fdb8(0x334),a0_0xe3fdb8(0x3a5)],...S(a0_0xe3fdb8(0x334),a0_0xe3fdb8(0x3a5))},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xe3fdb8(0x467)},'description':{'type':'string'}},'required':[a0_0xe3fdb8(0x334),a0_0xe3fdb8(0x472)],...S(a0_0xe3fdb8(0x334),'description')},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xe3fdb8(0x467)},'name':{'type':a0_0xe3fdb8(0x467)}},'required':['groupJid',a0_0xe3fdb8(0x62f)],...S('groupJid',a0_0xe3fdb8(0x62f))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'groupJid':{'type':a0_0xe3fdb8(0x467)},'setting':{'type':a0_0xe3fdb8(0x467),'enum':[a0_0xe3fdb8(0x220),'not_announcement',a0_0xe3fdb8(0x5a1),a0_0xe3fdb8(0x779)]}},'required':[a0_0xe3fdb8(0x334),a0_0xe3fdb8(0x40b)],...S(a0_0xe3fdb8(0x334),'setting')},Ya={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0xe3fdb8(0x29c)],...S(a0_0xe3fdb8(0x29c))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0xe3fdb8(0x5c2),'properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0xe3fdb8(0x5e3),a0_0xe3fdb8(0x3e1)]},Zn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0xe3fdb8(0x3c9),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0xe3fdb8(0x71c),a0_0xe3fdb8(0x49a),'MESSAGES_SET','MESSAGES_UPDATE',a0_0xe3fdb8(0x1f5),a0_0xe3fdb8(0x40d),a0_0xe3fdb8(0x606),a0_0xe3fdb8(0x568),a0_0xe3fdb8(0x309),a0_0xe3fdb8(0x65c),'CHATS_SET',a0_0xe3fdb8(0x3d8),a0_0xe3fdb8(0x766),a0_0xe3fdb8(0x6de),'CONNECTION_UPDATE',a0_0xe3fdb8(0x184),a0_0xe3fdb8(0x316),a0_0xe3fdb8(0x3c8)],...S('local_map',a0_0xe3fdb8(0x71c),'QRCODE_UPDATED',a0_0xe3fdb8(0x46b),a0_0xe3fdb8(0x2a1),'MESSAGES_UPSERT',a0_0xe3fdb8(0x40d),a0_0xe3fdb8(0x606),'CONTACTS_UPSERT',a0_0xe3fdb8(0x309),a0_0xe3fdb8(0x65c),'CHATS_SET',a0_0xe3fdb8(0x3d8),a0_0xe3fdb8(0x766),a0_0xe3fdb8(0x6de),a0_0xe3fdb8(0x6b7),a0_0xe3fdb8(0x184),'GROUPS_UPDATE',a0_0xe3fdb8(0x3c8))},Ke=class{},Qe=class extends I{[a0_0xe3fdb8(0x140)](_0x500397){return Vs(_0x500397);}async['insert'](_0x47a56a){const _0xa61ef7=a0_0xe3fdb8;if(_0x47a56a[_0xa61ef7(0x736)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x47a56a[0x0][_0xa61ef7(0x3ae)])[_0xa61ef7(0x5b9)]([..._0x47a56a]))[_0xa61ef7(0x736)]};}catch(_0x5d1388){return _0x5d1388;}}async['delete'](_0x18ba55,_0xd1417d){const _0x46e210=a0_0xe3fdb8;try{return{'deletedCount':(await this[_0x46e210(0x140)](_0xd1417d)['deleteMany']({..._0x18ba55['where']}))[_0x46e210(0x54d)]};}catch(_0x5a92ed){return{'error':_0x5a92ed?.[_0x46e210(0x4ff)]()};}}async[a0_0xe3fdb8(0x3e6)](_0x3a4ae3,_0x47b1f7){const _0x28823e=a0_0xe3fdb8;try{if(_0x3a4ae3['length']===0x0)return;let _0x440297=this['getContactModelForOwner'](_0x47b1f7),_0x1c7821=_0x3a4ae3['map'](_0x3def72=>({'updateOne':{'filter':{'_id':_0x3def72[_0x28823e(0x1ff)],'owner':_0x47b1f7},'update':{..._0x3def72}}})),{modifiedCount:_0x9d1d9e}=await _0x440297['bulkWrite'](_0x1c7821);return{'insertCount':_0x9d1d9e};}catch{return;}}async['find'](_0x2d50ff,_0x4f8a18){const _0x1d6a98=a0_0xe3fdb8;try{let _0x4a0871=this[_0x1d6a98(0x140)](_0x4f8a18),_0x192eee=A(_0x2d50ff[_0x1d6a98(0x287)]);return await _0x4a0871[_0x1d6a98(0x579)](_0x192eee)['limit'](_0x2d50ff?.['limit']??0x0)[_0x1d6a98(0x2a0)]();}catch{return[];}}async[a0_0xe3fdb8(0x6a9)](_0x169ba6,_0x544b53){const _0x422c67=a0_0xe3fdb8;try{let _0xf3d38c=this[_0x422c67(0x140)](_0x544b53),_0x177c5a=A(_0x169ba6['where']);return await _0xf3d38c[_0x422c67(0x6a9)](_0x177c5a)[_0x422c67(0x2a0)]();}catch{return null;}}async[a0_0xe3fdb8(0x5e6)](_0x24a077){const _0xde1a8f=a0_0xe3fdb8;try{return await this['getContactModelForOwner'](_0x24a077)['collection']['drop'](),{'success':!0x0};}catch(_0x265a89){return console[_0xde1a8f(0x430)](_0x265a89),{'success':!0x1,'error':_0x265a89};}}},Ye=require(a0_0xe3fdb8(0x2fc)),cc=require('express-async-errors'),hs=new v(a0_0xe3fdb8(0x502)),U=class{[a0_0xe3fdb8(0x6dd)](_0x5c94a6,_0x1cafa3=!0x0){let _0x20644a='/'+_0x5c94a6;return _0x1cafa3&&(_0x20644a+='/:instanceName'),_0x20644a;}async['dataValidate'](_0x511258){const _0x2492eb=a0_0xe3fdb8;let {request:_0x1d97ea,schema:_0x1e8eee,ClassRef:_0x4e87b9,execute:_0xa25d3e}=_0x511258,_0x174fe6=new _0x4e87b9(),_0x4f1186=_0x1d97ea[_0x2492eb(0x1c8)],_0x36f853=_0x1d97ea[_0x2492eb(0x670)];_0x1d97ea?.['query']&&Object[_0x2492eb(0x205)](_0x1d97ea[_0x2492eb(0x288)])[_0x2492eb(0x736)]>0x0&&Object['assign'](_0x36f853,_0x1d97ea[_0x2492eb(0x288)]),_0x1d97ea[_0x2492eb(0x5db)][_0x2492eb(0x13f)](_0x2492eb(0x531))&&Object[_0x2492eb(0x322)](_0x36f853,_0x4f1186),Object[_0x2492eb(0x322)](_0x174fe6,_0x4f1186);let _0x245786=_0x1e8eee?(0x0,Ye['validate'])(_0x174fe6,_0x1e8eee):{'valid':!0x0,'errors':[]};if(!_0x245786[_0x2492eb(0x162)]){let _0x2cf141=_0x245786[_0x2492eb(0x521)][_0x2492eb(0x716)](({property:_0x402c60,stack:_0x23154c,schema:_0x21f3a4})=>{const _0x67413a=_0x2492eb;let _0x46658a;return _0x21f3a4[_0x67413a(0x472)]?_0x46658a=_0x21f3a4['description']:_0x46658a=_0x23154c[_0x67413a(0x199)](_0x67413a(0x15c),''),{'property':_0x402c60[_0x67413a(0x199)](_0x67413a(0x15c),''),'message':_0x46658a};});throw hs[_0x2492eb(0x430)]([..._0x2cf141]),new m(..._0x2cf141);}return await _0xa25d3e(_0x36f853,_0x174fe6);}async[a0_0xe3fdb8(0x2a6)](_0x211ddb){const _0x3e51e0=a0_0xe3fdb8;let {request:_0x147c26,ClassRef:_0x2bdd25,schema:_0x4236b6,execute:_0x3873a7}=_0x211ddb,_0x35ad96=_0x147c26['query'];if(!_0x35ad96?.[_0x3e51e0(0x334)])throw new m(_0x3e51e0(0x6ea),_0x3e51e0(0x33d));let _0x5434d2=_0x147c26[_0x3e51e0(0x670)],_0x454744=_0x147c26[_0x3e51e0(0x1c8)],_0x40cd05=new _0x2bdd25();Object[_0x3e51e0(0x322)](_0x454744,_0x35ad96),Object[_0x3e51e0(0x322)](_0x40cd05,_0x454744);let _0x5422ee=(0x0,Ye[_0x3e51e0(0x611)])(_0x40cd05,_0x4236b6);if(!_0x5422ee['valid']){let _0x1e429e=_0x5422ee['errors'][_0x3e51e0(0x716)](({property:_0x28b688,stack:_0x5441d8,schema:_0x335e49})=>{const _0x29c17a=_0x3e51e0;let _0x4d200a;return _0x335e49[_0x29c17a(0x472)]?_0x4d200a=_0x335e49[_0x29c17a(0x472)]:_0x4d200a=_0x5441d8['replace']('instance.',''),{'property':_0x28b688[_0x29c17a(0x199)](_0x29c17a(0x15c),''),'message':_0x4d200a};});throw hs[_0x3e51e0(0x430)]([..._0x1e429e]),new m(..._0x1e429e);}return await _0x3873a7(_0x5434d2,_0x40cd05);}async[a0_0xe3fdb8(0x42d)](_0x2ca96d){const _0x37ac0e=a0_0xe3fdb8;let {request:_0x4366a8,ClassRef:_0x25005f,schema:_0x1e4f12,execute:_0x1db382}=_0x2ca96d,_0xb6a5bc=_0x4366a8[_0x37ac0e(0x1c8)];if(!_0xb6a5bc?.['inviteCode'])throw new m(_0x37ac0e(0x461),_0x37ac0e(0x3fb));let _0x1f03af=_0x4366a8[_0x37ac0e(0x670)],_0x4f8fb0=_0x4366a8[_0x37ac0e(0x1c8)],_0x3a373a=new _0x25005f();Object['assign'](_0x4f8fb0,_0xb6a5bc),Object[_0x37ac0e(0x322)](_0x3a373a,_0x4f8fb0);let _0x4ee34e=(0x0,Ye[_0x37ac0e(0x611)])(_0x3a373a,_0x1e4f12);if(!_0x4ee34e[_0x37ac0e(0x162)]){let _0x46617f=_0x4ee34e[_0x37ac0e(0x521)]['map'](({property:_0xfb4af8,stack:_0x55e24a,schema:_0x45661d})=>{const _0x1b6c89=_0x37ac0e;let _0x5eb786;return _0x45661d[_0x1b6c89(0x472)]?_0x5eb786=_0x45661d['description']:_0x5eb786=_0x55e24a['replace'](_0x1b6c89(0x15c),''),{'property':_0xfb4af8[_0x1b6c89(0x199)](_0x1b6c89(0x15c),''),'message':_0x5eb786};});throw hs[_0x37ac0e(0x430)]([..._0x46617f]),new m(..._0x46617f);}return await _0x1db382(_0x1f03af,_0x3a373a);}},E=class{},Mc=new v('ChatRouter'),Xe=class extends U{constructor(..._0x420e91){const _0x1ef0fc=a0_0xe3fdb8;super(),this[_0x1ef0fc(0x776)]=(0x0,Za[_0x1ef0fc(0x48b)])(),this[_0x1ef0fc(0x776)][_0x1ef0fc(0x333)](this[_0x1ef0fc(0x6dd)]('updatePresence'),..._0x420e91,async(_0x3ebfe4,_0xc395e3)=>{const _0x12140c=_0x1ef0fc;let _0xcdfdf9=await this[_0x12140c(0x21e)]({'request':_0x3ebfe4,'schema':Va,'ClassRef':je,'execute':(_0x1f64d9,_0x36455f)=>x[_0x12140c(0x28b)](_0x1f64d9,_0x36455f)});return _0xc395e3[_0x12140c(0x299)](0xc9)[_0x12140c(0x242)](_0xcdfdf9);})[_0x1ef0fc(0x333)](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x1cc)),..._0x420e91,async(_0x2b4fe9,_0x49e5f7)=>{const _0x3462c6=_0x1ef0fc;let _0x2720ea=await this[_0x3462c6(0x21e)]({'request':_0x2b4fe9,'schema':_a,'ClassRef':Fe,'execute':(_0x150451,_0x532fd7)=>x[_0x3462c6(0x28a)](_0x150451,_0x532fd7)});return _0x49e5f7[_0x3462c6(0x299)](0xc9)[_0x3462c6(0x242)](_0x2720ea);})[_0x1ef0fc(0x333)](this[_0x1ef0fc(0x6dd)]('editChat'),..._0x420e91,async(_0x420e14,_0x37ee59)=>{const _0x1b4346=_0x1ef0fc;let _0xdd1021=await this['dataValidate']({'request':_0x420e14,'schema':M,'ClassRef':E,'execute':(_0x437e61,_0x1fa843)=>x['editChat'](_0x437e61,_0x1fa843)});return _0x37ee59[_0x1b4346(0x299)](0xc9)['json'](_0xdd1021);})['put'](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x457)),..._0x420e91,async(_0x5a0f2d,_0x3971ed)=>{const _0x4954da=_0x1ef0fc;let _0x4047e5=await this['dataValidate']({'request':_0x5a0f2d,'schema':Pa,'ClassRef':Je,'execute':(_0x4f0c5f,_0x302abc)=>x[_0x4954da(0x6bd)](_0x4f0c5f,_0x302abc)});return _0x3971ed['status'](0xc9)['json'](_0x4047e5);})[_0x1ef0fc(0x340)](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x2f4)),..._0x420e91,async(_0x32fd2f,_0x57e8fc)=>{const _0x53ce11=_0x1ef0fc;let _0x39af8b=await this['dataValidate']({'request':_0x32fd2f,'schema':ka,'ClassRef':Ve,'execute':(_0xa67dbe,_0x5dac1a)=>x['archiveChat'](_0xa67dbe,_0x5dac1a)});return _0x57e8fc[_0x53ce11(0x299)](0xc9)[_0x53ce11(0x242)](_0x39af8b);})['delete'](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x6f1)),..._0x420e91,async(_0x1dcd54,_0x2f4861)=>{const _0x2bc386=_0x1ef0fc;let _0x27bd03=await this[_0x2bc386(0x21e)]({'request':_0x1dcd54,'schema':La,'ClassRef':Ge,'execute':(_0xe56c0f,_0x1ffd34)=>x[_0x2bc386(0x4b5)](_0xe56c0f,_0x1ffd34)});return _0x2f4861['status'](0xc9)[_0x2bc386(0x242)](_0x27bd03);})['post'](this['routerPath']('fetchProfilePictureUrl'),..._0x420e91,async(_0x1ab06d,_0x51b6b0)=>{const _0x48a908=_0x1ef0fc;let _0x3079ae=await this['dataValidate']({'request':_0x1ab06d,'schema':Se,'ClassRef':be,'execute':(_0xcdb32a,_0x42338b)=>x[_0x48a908(0x3ee)](_0xcdb32a,_0x42338b)});return _0x51b6b0['status'](0xc8)[_0x48a908(0x242)](_0x3079ae);})['post'](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x32d)),..._0x420e91,async(_0xd01dec,_0x39c0ff)=>{const _0x5aedd1=_0x1ef0fc;let _0x41515e=await this[_0x5aedd1(0x21e)]({'request':_0xd01dec,'schema':Ua,'ClassRef':be,'execute':(_0x785efd,_0x4c773c)=>x[_0x5aedd1(0x32d)](_0x785efd,_0x4c773c)});return _0x39c0ff[_0x5aedd1(0x299)](0xc8)[_0x5aedd1(0x242)](_0x41515e);})[_0x1ef0fc(0x333)](this['routerPath']('findContacts'),..._0x420e91,async(_0x3a6800,_0x4c1f0f)=>{const _0x7e439e=_0x1ef0fc;let _0x46a36f=await this['dataValidate']({'request':_0x3a6800,'schema':ja,'ClassRef':Ke,'execute':(_0x379f0b,_0x367d73)=>x[_0x7e439e(0x441)](_0x379f0b,_0x367d73)});return _0x4c1f0f[_0x7e439e(0x299)](0xc8)[_0x7e439e(0x242)](_0x46a36f);})[_0x1ef0fc(0x333)](this['routerPath'](_0x1ef0fc(0x564)),..._0x420e91,async(_0x2aca1e,_0x473042)=>{const _0x2ecbfc=_0x1ef0fc;let _0x4d71b0=await this[_0x2ecbfc(0x21e)]({'request':_0x2aca1e,'schema':null,'ClassRef':Object,'execute':(_0x1ad09b,_0x565968)=>x[_0x2ecbfc(0x564)](_0x1ad09b,_0x565968)});return _0x473042[_0x2ecbfc(0x299)](0xc9)[_0x2ecbfc(0x242)](_0x4d71b0);})[_0x1ef0fc(0x333)](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x282)),..._0x420e91,async(_0x49a2e9,_0x560a6d)=>{const _0x2c73f4=_0x1ef0fc;let _0x2f8847=await this['dataValidate']({'request':_0x49a2e9,'schema':Ja,'ClassRef':ke,'execute':(_0x10992c,_0x4e0afe)=>x[_0x2c73f4(0x2e6)](_0x10992c,_0x4e0afe)});return _0x560a6d['status'](0xc8)[_0x2c73f4(0x242)](_0x2f8847);})[_0x1ef0fc(0x221)](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x362)),..._0x420e91,async(_0x2d100f,_0x55215c)=>{const _0x107ada=_0x1ef0fc;let _0x5144a7=await this[_0x107ada(0x21e)]({'request':_0x2d100f,'schema':null,'ClassRef':E,'execute':_0xb0515f=>x[_0x107ada(0x25c)](_0xb0515f)});return _0x55215c[_0x107ada(0x299)](0xc8)[_0x107ada(0x242)](_0x5144a7);})['get'](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x1f8)),..._0x420e91,async(_0x471093,_0xafa7aa)=>{const _0x35ab8d=_0x1ef0fc;let _0x2abd74=await this[_0x35ab8d(0x21e)]({'request':_0x471093,'schema':null,'ClassRef':E,'execute':_0x3781e8=>x[_0x35ab8d(0x308)](_0x3781e8)});return _0xafa7aa[_0x35ab8d(0x299)](0xc8)[_0x35ab8d(0x242)](_0x2abd74);})[_0x1ef0fc(0x340)](this[_0x1ef0fc(0x6dd)]('importChats'),..._0x420e91,async(_0x2089c5,_0x41307c)=>{const _0x4be0ba=_0x1ef0fc;let _0x15984e=await this[_0x4be0ba(0x21e)]({'request':_0x2089c5,'schema':null,'ClassRef':Array,'execute':(_0x295357,_0x8e1575)=>x[_0x4be0ba(0x6d9)](_0x295357,_0x8e1575)});return _0x41307c[_0x4be0ba(0x299)](0xc8)[_0x4be0ba(0x242)](_0x15984e);})[_0x1ef0fc(0x221)](this['routerPath'](_0x1ef0fc(0x4ab)),..._0x420e91,async(_0x48f931,_0x21e44f)=>{const _0x5e9623=_0x1ef0fc;let _0x2e1ea6=await this[_0x5e9623(0x21e)]({'request':_0x48f931,'schema':null,'ClassRef':E,'execute':_0x51533c=>x[_0x5e9623(0x4ab)](_0x51533c)});return _0x21e44f[_0x5e9623(0x299)](0xc8)['json'](_0x2e1ea6);})[_0x1ef0fc(0x340)](this['routerPath']('updatePrivacySettings'),..._0x420e91,async(_0x3c0fd9,_0xc7a170)=>{const _0x15fd83=_0x1ef0fc;let _0x1bd33a=await this[_0x15fd83(0x21e)]({'request':_0x3c0fd9,'schema':$a,'ClassRef':Be,'execute':(_0x1b3382,_0x3546cf)=>x[_0x15fd83(0x34e)](_0x1b3382,_0x3546cf)});return _0xc7a170[_0x15fd83(0x299)](0xc9)[_0x15fd83(0x242)](_0x1bd33a);})[_0x1ef0fc(0x333)](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x61f)),..._0x420e91,async(_0x37e657,_0x591b6f)=>{const _0x597090=_0x1ef0fc;let _0x1b75bb=await this[_0x597090(0x21e)]({'request':_0x37e657,'schema':Se,'ClassRef':fe,'execute':(_0x1b5ce3,_0x2bf775)=>x[_0x597090(0x61f)](_0x1b5ce3,_0x2bf775)});return _0x591b6f['status'](0xc8)['json'](_0x1b75bb);})[_0x1ef0fc(0x333)](this[_0x1ef0fc(0x6dd)]('updateProfileName'),..._0x420e91,async(_0x5e5653,_0x210b05)=>{const _0x1a84ed=_0x1ef0fc;let _0xe63fb4=await this[_0x1a84ed(0x21e)]({'request':_0x5e5653,'schema':Fa,'ClassRef':qe,'execute':(_0x313c76,_0x6af804)=>x[_0x1a84ed(0x3a7)](_0x313c76,_0x6af804)});return _0x210b05[_0x1a84ed(0x299)](0xc8)[_0x1a84ed(0x242)](_0xe63fb4);})[_0x1ef0fc(0x333)](this[_0x1ef0fc(0x6dd)](_0x1ef0fc(0x513)),..._0x420e91,async(_0x2333ac,_0x5398ee)=>{const _0x200b5e=_0x1ef0fc;let _0x5d3611=await this[_0x200b5e(0x21e)]({'request':_0x2333ac,'schema':qa,'ClassRef':Ue,'execute':(_0x5057d9,_0x110d0a)=>x[_0x200b5e(0x513)](_0x5057d9,_0x110d0a)});return _0x5398ee[_0x200b5e(0x299)](0xc8)[_0x200b5e(0x242)](_0x5d3611);})['put'](this['routerPath']('updateProfilePicture'),..._0x420e91,async(_0xd339cd,_0x3ec50d)=>{const _0x4168c0=_0x1ef0fc;let _0x35449c=await this['dataValidate']({'request':_0xd339cd,'schema':Se,'ClassRef':fe,'execute':(_0x178b64,_0x25abba)=>x['updateProfilePicture'](_0x178b64,_0x25abba)});return _0x3ec50d[_0x4168c0(0x299)](0xc8)[_0x4168c0(0x242)](_0x35449c);})[_0x1ef0fc(0x75e)](this['routerPath'](_0x1ef0fc(0x681)),..._0x420e91,async(_0x1a8760,_0x13c5b6)=>{const _0x593821=_0x1ef0fc;let _0x387c95=await this['dataValidate']({'request':_0x1a8760,'schema':Se,'ClassRef':fe,'execute':(_0x42f8ed,_0x5262e5)=>x['removeProfilePicture'](_0x42f8ed,_0x5262e5)});return _0x13c5b6[_0x593821(0x299)](0xc8)[_0x593821(0x242)](_0x387c95);});}},eo=require(a0_0xe3fdb8(0x22b)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},ot=class{},rt=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x534f82){const _0x40e163=a0_0xe3fdb8;super(),this[_0x40e163(0x776)]=(0x0,eo[_0x40e163(0x48b)])(),this[_0x40e163(0x776)]['post'](this[_0x40e163(0x6dd)](_0x40e163(0x751)),..._0x534f82,async(_0x1886a1,_0x4c06e5)=>{const _0x2daac5=_0x40e163;let _0x2167b5=await this[_0x2daac5(0x21e)]({'request':_0x1886a1,'schema':Ba,'ClassRef':Ze,'execute':(_0x5d6fcb,_0x57fbf1)=>q[_0x2daac5(0x311)](_0x5d6fcb,_0x57fbf1)});_0x4c06e5[_0x2daac5(0x299)](0xc9)['json'](_0x2167b5);})[_0x40e163(0x340)](this['routerPath'](_0x40e163(0x706)),..._0x534f82,async(_0x5e9adb,_0x1253c0)=>{const _0x2f5e19=_0x40e163;let _0x1bf71b=await this[_0x2f5e19(0x2a6)]({'request':_0x5e9adb,'schema':za,'ClassRef':et,'execute':(_0x261b27,_0x26f122)=>q['updateGroupPicture'](_0x261b27,_0x26f122)});_0x1253c0['status'](0xc9)[_0x2f5e19(0x242)](_0x1bf71b);})['put'](this[_0x40e163(0x6dd)](_0x40e163(0x33c)),..._0x534f82,async(_0x177e41,_0x55928f)=>{const _0x2c0c61=_0x40e163;let _0xe73978=await this['groupValidate']({'request':_0x177e41,'schema':Ha,'ClassRef':tt,'execute':(_0x6b0b0d,_0x1f9bba)=>q[_0x2c0c61(0x33c)](_0x6b0b0d,_0x1f9bba)});_0x55928f[_0x2c0c61(0x299)](0xc9)[_0x2c0c61(0x242)](_0xe73978);})[_0x40e163(0x340)](this[_0x40e163(0x6dd)](_0x40e163(0x2a9)),..._0x534f82,async(_0x35e52d,_0x5cdadb)=>{const _0x37c38a=_0x40e163;let _0x1df7e2=await this[_0x37c38a(0x2a6)]({'request':_0x35e52d,'schema':Ka,'ClassRef':st,'execute':(_0x49d93b,_0x290a93)=>q['groupName'](_0x49d93b,_0x290a93)});_0x5cdadb['status'](0xc9)['json'](_0x1df7e2);})[_0x40e163(0x340)](this[_0x40e163(0x6dd)]('groupSetting'),..._0x534f82,async(_0x35766a,_0x26b1fc)=>{const _0x108a47=_0x40e163;let _0xc4cc11=await this[_0x108a47(0x2a6)]({'request':_0x35766a,'schema':Qa,'ClassRef':at,'execute':(_0x33a493,_0x583b5a)=>q[_0x108a47(0x236)](_0x33a493,_0x583b5a)});_0x26b1fc[_0x108a47(0x299)](0xc9)['json'](_0xc4cc11);})[_0x40e163(0x340)](this[_0x40e163(0x6dd)](_0x40e163(0x42c)),..._0x534f82,async(_0x56933e,_0x47d56a)=>{const _0xdc885d=_0x40e163;let _0x93b0c4=await this['groupValidate']({'request':_0x56933e,'schema':Wa,'ClassRef':it,'execute':(_0xd7df5,_0x4af058)=>q[_0xdc885d(0x42c)](_0xd7df5,_0x4af058)});_0x47d56a[_0xdc885d(0x299)](0xc9)[_0xdc885d(0x242)](_0x93b0c4);})[_0x40e163(0x221)](this[_0x40e163(0x6dd)](_0x40e163(0x6e9)),..._0x534f82,async(_0x1704e3,_0x30e454)=>{const _0x1046a6=_0x40e163;let _0x52506b=await this['groupValidate']({'request':_0x1704e3,'schema':Ee,'ClassRef':Y,'execute':(_0xee79c3,_0x52ed8b)=>q['findGroupInfo'](_0xee79c3,_0x52ed8b)});_0x30e454['status'](0xc8)[_0x1046a6(0x242)](_0x52506b);})['get'](this[_0x40e163(0x6dd)]('findGroups'),..._0x534f82,async(_0x11580d,_0x3bdf55)=>{const _0x16a670=_0x40e163;let _0x62cb1c=await this['dataValidate']({'request':_0x11580d,'schema':M,'ClassRef':E,'execute':_0x521ace=>q['findGroups'](_0x521ace)});_0x3bdf55[_0x16a670(0x299)](0xc8)[_0x16a670(0x242)](_0x62cb1c);})[_0x40e163(0x221)](this['routerPath']('participants'),..._0x534f82,async(_0x3f704d,_0x134e34)=>{const _0x478da2=_0x40e163;let _0x20c4f0=await this[_0x478da2(0x2a6)]({'request':_0x3f704d,'schema':Ee,'ClassRef':Y,'execute':(_0x5cf0b6,_0x2a18d3)=>q[_0x478da2(0x193)](_0x5cf0b6,_0x2a18d3)});_0x134e34[_0x478da2(0x299)](0xc8)['json'](_0x20c4f0);})[_0x40e163(0x221)](this[_0x40e163(0x6dd)](_0x40e163(0x29c)),..._0x534f82,async(_0x1e0490,_0x310e70)=>{const _0x60e552=_0x40e163;let _0x18566a=await this[_0x60e552(0x2a6)]({'request':_0x1e0490,'schema':Ee,'ClassRef':Y,'execute':(_0xc228c0,_0x3ba4ef)=>q['inviteCode'](_0xc228c0,_0x3ba4ef)});_0x310e70[_0x60e552(0x299)](0xc8)['json'](_0x18566a);})[_0x40e163(0x340)](this[_0x40e163(0x6dd)]('joinGroup'),..._0x534f82,async(_0xda9cc4,_0x8169e2)=>{const _0xe6d62a=_0x40e163;let _0x33e60e=await this['joinGroupValidate']({'request':_0xda9cc4,'schema':Ya,'ClassRef':ot,'execute':(_0x3cce90,_0x4f8b7a)=>q[_0xe6d62a(0x583)](_0x3cce90,_0x4f8b7a)});_0x8169e2['status'](0xc9)[_0xe6d62a(0x242)](_0x33e60e);})[_0x40e163(0x340)](this['routerPath'](_0x40e163(0x6a0)),..._0x534f82,async(_0x306521,_0x31bfdb)=>{const _0x3f174d=_0x40e163;let _0x5887ef=await this[_0x3f174d(0x2a6)]({'request':_0x306521,'schema':Ee,'ClassRef':Y,'execute':(_0x562ab3,_0x8c1659)=>q[_0x3f174d(0x6a0)](_0x562ab3,_0x8c1659)});_0x31bfdb[_0x3f174d(0x299)](0xc9)[_0x3f174d(0x242)](_0x5887ef);})[_0x40e163(0x340)](this[_0x40e163(0x6dd)](_0x40e163(0x60b)),..._0x534f82,async(_0x88beae,_0x34ffce)=>{const _0x1b3ab7=_0x40e163;let _0x3d9f69=await this[_0x1b3ab7(0x2a6)]({'request':_0x88beae,'schema':Ga,'ClassRef':rt,'execute':(_0x3899c3,_0x1ea6ca)=>q[_0x1b3ab7(0x5d6)](_0x3899c3,_0x1ea6ca)});_0x34ffce[_0x1b3ab7(0x299)](0xc9)[_0x1b3ab7(0x242)](_0x3d9f69);})['delete'](this[_0x40e163(0x6dd)](_0x40e163(0x582)),..._0x534f82,async(_0x4630e1,_0x28cb25)=>{const _0x225fe=_0x40e163;let _0xa6c521=await this['groupValidate']({'request':_0x4630e1,'schema':{},'ClassRef':Y,'execute':(_0x41ace0,_0xae3386)=>q[_0x225fe(0x582)](_0x41ace0,_0xae3386)});_0x28cb25[_0x225fe(0x299)](0xc8)['json'](_0xa6c521);});}},to=require(a0_0xe3fdb8(0x22b)),ct=class extends U{constructor(_0x2f34d8,..._0x1cca08){const _0x5e26ce=a0_0xe3fdb8;super(),this[_0x5e26ce(0x5f2)]=_0x2f34d8,this[_0x5e26ce(0x776)]=(0x0,to[_0x5e26ce(0x48b)])();let _0x355765=_0x2f34d8['get'](_0x5e26ce(0x209));this[_0x5e26ce(0x776)][_0x5e26ce(0x333)](_0x5e26ce(0x2f7),..._0x1cca08,async(_0x4dd46e,_0x50e6c8)=>{const _0x49bcf2=_0x5e26ce;let {instanceName:_0x44b406,apikey:_0x28d8fd,number:_0x3beba6}=_0x4dd46e['body'],_0x50871c=await le[_0x49bcf2(0x5a2)]({'instanceName':_0x44b406,'apikey':_0x28d8fd,'number':_0x3beba6});return _0x50e6c8[_0x49bcf2(0x299)](0xc9)[_0x49bcf2(0x242)](_0x50871c);})[_0x5e26ce(0x340)](this[_0x5e26ce(0x6dd)](_0x5e26ce(0x605)),..._0x1cca08,async(_0x185bfb,_0x4ddd30)=>{const _0x493014=_0x5e26ce;let _0x43efe0=await this[_0x493014(0x21e)]({'request':_0x185bfb,'schema':M,'ClassRef':E,'execute':_0x14d1bd=>le[_0x493014(0x730)](_0x14d1bd)});return _0x4ddd30[_0x493014(0x299)](0xc8)['json'](_0x43efe0);})['get'](this[_0x5e26ce(0x6dd)](_0x5e26ce(0x1c7)),..._0x1cca08,async(_0x2c57e0,_0x408973)=>{const _0x89b2cf=_0x5e26ce;let _0x58a998=await this[_0x89b2cf(0x21e)]({'request':_0x2c57e0,'schema':M,'ClassRef':E,'execute':_0x1b5bca=>le[_0x89b2cf(0x1c7)](_0x1b5bca)});return _0x408973[_0x89b2cf(0x299)](0xc8)[_0x89b2cf(0x242)](_0x58a998);})[_0x5e26ce(0x221)](this[_0x5e26ce(0x6dd)]('fetchInstances',!0x1),..._0x1cca08,async(_0x2fb96b,_0x5e4532)=>{const _0x2681a0=_0x5e26ce;let _0x4c8285=await this[_0x2681a0(0x21e)]({'request':_0x2fb96b,'schema':null,'ClassRef':E,'execute':_0x1e5a18=>le[_0x2681a0(0x4a2)](_0x1e5a18)});return _0x5e4532[_0x2681a0(0x299)](0xc8)[_0x2681a0(0x242)](_0x4c8285);})[_0x5e26ce(0x75e)](this[_0x5e26ce(0x6dd)](_0x5e26ce(0x50d)),..._0x1cca08,async(_0x33b3c3,_0xe9b56c)=>{const _0x4f716f=_0x5e26ce;let _0x51fc3b=await this['dataValidate']({'request':_0x33b3c3,'schema':M,'ClassRef':E,'execute':_0x57d279=>le[_0x4f716f(0x50d)](_0x57d279)});return _0xe9b56c[_0x4f716f(0x299)](0xc8)['json'](_0x51fc3b);})[_0x5e26ce(0x75e)](this['routerPath'](_0x5e26ce(0x75e)),..._0x1cca08,async(_0x4092ee,_0x389ada)=>{const _0x114987=_0x5e26ce;let _0x3a1be6=await this['dataValidate']({'request':_0x4092ee,'schema':M,'ClassRef':E,'execute':_0x5e83ad=>le[_0x114987(0x695)](_0x5e83ad)});return _0x389ada[_0x114987(0x299)](0xc8)[_0x114987(0x242)](_0x3a1be6);});}},so=require(a0_0xe3fdb8(0x22b)),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},ht=class extends W{},gt=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x39777b){const _0x56264f=a0_0xe3fdb8;super(),this[_0x56264f(0x776)]=(0x0,so[_0x56264f(0x48b)])(),this['router'][_0x56264f(0x333)](this[_0x56264f(0x6dd)](_0x56264f(0x434)),..._0x39777b,async(_0xc45aea,_0x22e3e7)=>{const _0x191524=_0x56264f;let _0x4f1eca=await this['dataValidate']({'request':_0xc45aea,'schema':Sa,'ClassRef':lt,'execute':(_0x386159,_0x5b4401)=>G[_0x191524(0x434)](_0x386159,_0x5b4401)});return _0x22e3e7[_0x191524(0x299)](0xc9)[_0x191524(0x242)](_0x4f1eca);})[_0x56264f(0x333)](this[_0x56264f(0x6dd)](_0x56264f(0x37a)),..._0x39777b,async(_0x1ffa21,_0x14fe62)=>{const _0xc8a328=_0x56264f;let _0x26630a=await this[_0xc8a328(0x21e)]({'request':_0x1ffa21,'schema':va,'ClassRef':Ce,'execute':(_0x5dcc01,_0x26f390)=>G[_0xc8a328(0x37a)](_0x5dcc01,_0x26f390)});return _0x14fe62[_0xc8a328(0x299)](0xc9)[_0xc8a328(0x242)](_0x26630a);})['post'](this[_0x56264f(0x6dd)](_0x56264f(0x739)),..._0x39777b,async(_0x15ee1f,_0x2417fa)=>{const _0x850002=_0x56264f;let _0x32763d=await this[_0x850002(0x21e)]({'request':_0x15ee1f,'schema':Ta,'ClassRef':pt,'execute':(_0x56c1cf,_0x3f0d5a)=>G[_0x850002(0x739)](_0x56c1cf,_0x3f0d5a)});return _0x2417fa['status'](0xc9)['json'](_0x32763d);})[_0x56264f(0x333)](this['routerPath']('sendWhatsAppAudio'),..._0x39777b,async(_0x5827e7,_0x4cde6a)=>{const _0x35db7f=_0x56264f;let _0x5d4501=await this[_0x35db7f(0x21e)]({'request':_0x5827e7,'schema':Na,'ClassRef':Ce,'execute':(_0x4ee7b9,_0x5555bd)=>G[_0x35db7f(0x1dc)](_0x4ee7b9,_0x5555bd)});return _0x4cde6a['status'](0xc9)[_0x35db7f(0x242)](_0x5d4501);})[_0x56264f(0x333)](this[_0x56264f(0x6dd)]('sendButtons'),..._0x39777b,async(_0x28ffef,_0x31883a)=>{const _0xb7cc71=_0x56264f;let _0x1b3e4e=await this[_0xb7cc71(0x21e)]({'request':_0x28ffef,'schema':Aa,'ClassRef':gt,'execute':(_0x572caf,_0x56556e)=>G[_0xb7cc71(0x53e)](_0x572caf,_0x56556e)});return _0x31883a[_0xb7cc71(0x299)](0xc9)[_0xb7cc71(0x242)](_0x1b3e4e);})[_0x56264f(0x333)](this[_0x56264f(0x6dd)]('sendLocation'),..._0x39777b,async(_0x24f288,_0x37a0c5)=>{const _0x4336d2=_0x56264f;let _0x5bae30=await this[_0x4336d2(0x21e)]({'request':_0x24f288,'schema':Oa,'ClassRef':mt,'execute':(_0x1236af,_0x4d40df)=>G[_0x4336d2(0x57d)](_0x1236af,_0x4d40df)});return _0x37a0c5[_0x4336d2(0x299)](0xc9)[_0x4336d2(0x242)](_0x5bae30);})[_0x56264f(0x333)](this['routerPath'](_0x56264f(0x173)),..._0x39777b,async(_0x524ac6,_0x31a48c)=>{const _0x3b017f=_0x56264f;let _0x372b03=await this[_0x3b017f(0x21e)]({'request':_0x524ac6,'schema':Ia,'ClassRef':ft,'execute':(_0x509497,_0x84f75e)=>G['sendList'](_0x509497,_0x84f75e)});return _0x31a48c['status'](0xc9)[_0x3b017f(0x242)](_0x372b03);})[_0x56264f(0x333)](this[_0x56264f(0x6dd)](_0x56264f(0x31f)),..._0x39777b,async(_0x59b14c,_0x1d2a92)=>{const _0x504687=_0x56264f;let _0x51364a=await this['dataValidate']({'request':_0x59b14c,'schema':xa,'ClassRef':wt,'execute':(_0x9c6ebf,_0x2b3783)=>G['sendContact'](_0x9c6ebf,_0x2b3783)});return _0x1d2a92[_0x504687(0x299)](0xc9)[_0x504687(0x242)](_0x51364a);})[_0x56264f(0x333)](this[_0x56264f(0x6dd)]('sendReaction'),..._0x39777b,async(_0xd699a8,_0x15f265)=>{const _0x1288f0=_0x56264f;let _0x4b7ff7=await this['dataValidate']({'request':_0xd699a8,'schema':Da,'ClassRef':yt,'execute':(_0x507743,_0x56fa0b)=>G[_0x1288f0(0x2dd)](_0x507743,_0x56fa0b)});return _0x15f265[_0x1288f0(0x299)](0xc9)['json'](_0x4b7ff7);})[_0x56264f(0x333)](this[_0x56264f(0x6dd)](_0x56264f(0x6cc)),..._0x39777b,async(_0x4394db,_0x170c4d)=>{const _0x3bbb72=_0x56264f;let _0x356486=await this[_0x3bbb72(0x21e)]({'request':_0x4394db,'schema':Ra,'ClassRef':dt,'execute':(_0x2cf305,_0x56fd3a)=>G['sendPoll'](_0x2cf305,_0x56fd3a)});return _0x170c4d[_0x3bbb72(0x299)](0xc9)[_0x3bbb72(0x242)](_0x356486);})[_0x56264f(0x333)](this[_0x56264f(0x6dd)](_0x56264f(0x341)),..._0x39777b,async(_0x14a0db,_0x44056d)=>{const _0x178683=_0x56264f;let _0x4139bf=await this[_0x178683(0x21e)]({'request':_0x14a0db,'schema':Ma,'ClassRef':ut,'execute':(_0x43d37b,_0x4a9b51)=>G[_0x178683(0x341)](_0x43d37b,_0x4a9b51)});return _0x44056d[_0x178683(0x299)](0xc9)['json'](_0x4139bf);})[_0x56264f(0x333)](this['routerPath'](_0x56264f(0x447)),..._0x39777b,async(_0x486c72,_0x150396)=>{const _0x19cd4e=_0x56264f;let _0x5e55ea=await this[_0x19cd4e(0x21e)]({'request':_0x486c72,'schema':Ca,'ClassRef':ht,'execute':(_0x19818e,_0xfd4ef0)=>G[_0x19cd4e(0x447)](_0x19818e,_0xfd4ef0)});return _0x150396[_0x19cd4e(0x299)](0xc9)[_0x19cd4e(0x242)](_0x5e55ea);});}},ao=require('express'),St=class{},Et=class extends U{constructor(..._0xe2e2db){const _0x26972b=a0_0xe3fdb8;super(),this[_0x26972b(0x776)]=(0x0,ao['Router'])(),this[_0x26972b(0x776)][_0x26972b(0x333)](this[_0x26972b(0x6dd)](_0x26972b(0x273)),..._0xe2e2db,async(_0x36e14d,_0x53f53a)=>{const _0x421c67=_0x26972b;let _0x2027bf=await this['dataValidate']({'request':_0x36e14d,'schema':Xa,'ClassRef':St,'execute':(_0x1aa8ba,_0x2f06ec)=>ms['createWebhook'](_0x1aa8ba,_0x2f06ec)});_0x53f53a[_0x421c67(0x299)](0xc9)[_0x421c67(0x242)](_0x2027bf);})[_0x26972b(0x221)](this[_0x26972b(0x6dd)](_0x26972b(0x579)),..._0xe2e2db,async(_0x3ec7ca,_0x37b981)=>{const _0x3df943=_0x26972b;let _0x313bec=await this[_0x3df943(0x21e)]({'request':_0x3ec7ca,'schema':M,'ClassRef':E,'execute':_0x6db2c8=>ms[_0x3df943(0x4dc)](_0x6db2c8)});_0x37b981[_0x3df943(0x299)](0xc8)[_0x3df943(0x242)](_0x313bec);});}},oo=require(a0_0xe3fdb8(0x22b)),f=new v(a0_0xe3fdb8(0x281)),Ct=class extends U{constructor(..._0x4cdb8c){const _0x18fdd2=a0_0xe3fdb8;super(),this[_0x18fdd2(0x776)]=(0x0,oo[_0x18fdd2(0x48b)])(),this[_0x18fdd2(0x776)]['post'](this[_0x18fdd2(0x6dd)]('scheduleMessage'),..._0x4cdb8c,async(_0x974d93,_0x24af55)=>{const _0x13d04b=_0x18fdd2;let _0x2a5883=_0x974d93[_0x13d04b(0x1c8)];f[_0x13d04b(0x2b1)]('request\x20received\x20in\x20scheduleMessage'),f['verbose'](_0x13d04b(0x29e)),f[_0x13d04b(0x2b1)](_0x974d93[_0x13d04b(0x1c8)]);let _0x4ee0f2=await this['dataValidate']({'request':_0x974d93,'schema':M,'ClassRef':E,'execute':_0xa44448=>T[_0x13d04b(0x72d)](_0xa44448,_0x2a5883)});_0x24af55[_0x13d04b(0x299)](0xc8)[_0x13d04b(0x242)](_0x4ee0f2);})[_0x18fdd2(0x221)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x4ca)),..._0x4cdb8c,async(_0x59e2d2,_0x578f7e)=>{const _0x1ffd0=_0x18fdd2;let _0x4ac777=await this[_0x1ffd0(0x21e)]({'request':_0x59e2d2,'schema':M,'ClassRef':E,'execute':_0x2119a6=>T['getScheduleMessage'](_0x2119a6)});_0x578f7e[_0x1ffd0(0x299)](0xc8)[_0x1ffd0(0x242)](_0x4ac777);})[_0x18fdd2(0x75e)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x489)),..._0x4cdb8c,async(_0xb3559,_0x2f80ee)=>{const _0x2a6736=_0x18fdd2;f[_0x2a6736(0x2b1)](_0x2a6736(0x5f6));let _0x22107b=await this['dataValidate']({'request':_0xb3559,'schema':M,'ClassRef':E,'execute':_0x1906df=>T[_0x2a6736(0x489)](_0x1906df)});_0x2f80ee['status'](0xc8)[_0x2a6736(0x242)](_0x22107b);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)]('startFlow'),..._0x4cdb8c,async(_0x3c8a59,_0x10dfa2)=>{const _0x111bc6=_0x18fdd2;let _0x7832bb=_0x3c8a59[_0x111bc6(0x1c8)];f[_0x111bc6(0x2b1)](_0x111bc6(0x3c3)),f[_0x111bc6(0x2b1)](_0x111bc6(0x29e)),f[_0x111bc6(0x2b1)](_0x3c8a59[_0x111bc6(0x1c8)]);let _0x54e58d=await this['dataValidate']({'request':_0x3c8a59,'schema':M,'ClassRef':E,'execute':_0x4af283=>T[_0x111bc6(0x257)](_0x4af283,_0x7832bb)});_0x10dfa2[_0x111bc6(0x299)](0xc8)[_0x111bc6(0x242)](_0x54e58d);})[_0x18fdd2(0x221)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x452)),..._0x4cdb8c,async(_0x2a74bb,_0x9e4b0c)=>{const _0x31e6e8=_0x18fdd2;f['verbose'](_0x31e6e8(0x677));let _0x174a5c=await this[_0x31e6e8(0x21e)]({'request':_0x2a74bb,'schema':M,'ClassRef':E,'execute':_0x5927ec=>T[_0x31e6e8(0x452)](_0x5927ec)});_0x9e4b0c[_0x31e6e8(0x299)](0xc8)[_0x31e6e8(0x242)](_0x174a5c);})[_0x18fdd2(0x221)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x6bc)),..._0x4cdb8c,async(_0x3e1b1d,_0xd7b7f8)=>{const _0x55544e=_0x18fdd2;f[_0x55544e(0x2b1)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x1cb499=await this[_0x55544e(0x21e)]({'request':_0x3e1b1d,'schema':M,'ClassRef':E,'execute':_0x9a0ea7=>T[_0x55544e(0x452)](_0x9a0ea7)});_0xd7b7f8[_0x55544e(0x299)](0xc8)[_0x55544e(0x242)](_0x1cb499);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x6f7)),..._0x4cdb8c,async(_0x4ed339,_0x45dc5a)=>{const _0x5ad996=_0x18fdd2;let _0x29bc51=_0x4ed339[_0x5ad996(0x1c8)];f[_0x5ad996(0x2b1)]('request\x20received\x20in\x20updateAgent'),f['verbose'](_0x5ad996(0x29e)),f['verbose'](_0x4ed339[_0x5ad996(0x1c8)]);let _0x123848=await this[_0x5ad996(0x21e)]({'request':_0x4ed339,'schema':M,'ClassRef':E,'execute':_0x3a56cc=>T['updateAgent'](_0x3a56cc,_0x29bc51)});_0x45dc5a['status'](0xc8)[_0x5ad996(0x242)](_0x123848);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x47f)),..._0x4cdb8c,async(_0x2b535c,_0x4bcdca)=>{const _0x3742e2=_0x18fdd2;let _0x297a21=_0x2b535c[_0x3742e2(0x1c8)];f[_0x3742e2(0x2b1)](_0x3742e2(0x6fd)),f[_0x3742e2(0x2b1)](_0x3742e2(0x29e)),f[_0x3742e2(0x2b1)](_0x2b535c['body']);let _0x2e21a2=await this[_0x3742e2(0x21e)]({'request':_0x2b535c,'schema':M,'ClassRef':E,'execute':_0x2afc02=>T['updateCustomFields'](_0x2afc02,_0x297a21)});_0x4bcdca[_0x3742e2(0x299)](0xc8)['json'](_0x2e21a2);})[_0x18fdd2(0x333)](this['routerPath'](_0x18fdd2(0x755)),..._0x4cdb8c,async(_0x723466,_0x4531a6)=>{const _0x4e314e=_0x18fdd2;let _0x3c88d9=_0x723466[_0x4e314e(0x1c8)];f[_0x4e314e(0x2b1)](_0x4e314e(0x47d)),f[_0x4e314e(0x2b1)]('request\x20body:\x20'),f[_0x4e314e(0x2b1)](_0x723466[_0x4e314e(0x1c8)]);let _0xf6803b=await this['dataValidate']({'request':_0x723466,'schema':M,'ClassRef':E,'execute':_0x1470fa=>T[_0x4e314e(0x755)](_0x1470fa,_0x3c88d9)});_0x4531a6['status'](0xc8)[_0x4e314e(0x242)](_0xf6803b);})['post'](this[_0x18fdd2(0x6dd)]('getConversation'),..._0x4cdb8c,async(_0x2c9944,_0x565005)=>{const _0x4e2123=_0x18fdd2;let _0x4bf950=_0x2c9944[_0x4e2123(0x1c8)];f[_0x4e2123(0x2b1)](_0x4e2123(0x280)),f[_0x4e2123(0x2b1)](_0x4e2123(0x29e)),f[_0x4e2123(0x2b1)](_0x2c9944[_0x4e2123(0x1c8)]);let _0x54d29b=await this[_0x4e2123(0x21e)]({'request':_0x2c9944,'schema':M,'ClassRef':E,'execute':_0x3da839=>T[_0x4e2123(0x265)](_0x3da839,_0x4bf950)});_0x565005['status'](0xc8)[_0x4e2123(0x242)](_0x54d29b);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)]('fetchConversation'),..._0x4cdb8c,async(_0x4b6521,_0x22fc8a)=>{const _0x2ccd2c=_0x18fdd2;let _0x36ee3c=_0x4b6521[_0x2ccd2c(0x1c8)];f['verbose']('request\x20received\x20in\x20fetchConversation'),f[_0x2ccd2c(0x2b1)]('request\x20body:\x20'),f[_0x2ccd2c(0x2b1)](_0x4b6521[_0x2ccd2c(0x1c8)]);let _0x8da3aa=await this[_0x2ccd2c(0x21e)]({'request':_0x4b6521,'schema':M,'ClassRef':E,'execute':_0x5bbc07=>T[_0x2ccd2c(0x337)](_0x5bbc07,_0x36ee3c)});_0x22fc8a['status'](0xc8)['json'](_0x8da3aa);})['post'](this['routerPath'](_0x18fdd2(0x731)),..._0x4cdb8c,async(_0x3dac69,_0x186158)=>{const _0x2b0214=_0x18fdd2;let _0x229000=_0x3dac69['body'];f[_0x2b0214(0x2b1)](_0x2b0214(0x1b1)),f[_0x2b0214(0x2b1)](_0x2b0214(0x29e)),f['verbose'](_0x3dac69[_0x2b0214(0x1c8)]);let _0x417275=await this[_0x2b0214(0x21e)]({'request':_0x3dac69,'schema':M,'ClassRef':E,'execute':_0x3076f7=>T[_0x2b0214(0x731)](_0x3076f7,_0x229000)});_0x186158[_0x2b0214(0x299)](0xc8)[_0x2b0214(0x242)](_0x417275);})[_0x18fdd2(0x75e)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x29f)),..._0x4cdb8c,async(_0x5e9dfa,_0x415053)=>{const _0x37182c=_0x18fdd2;let _0x1a75f6=_0x5e9dfa[_0x37182c(0x1c8)];f[_0x37182c(0x2b1)]('request\x20received\x20in\x20deleteConversation'),f[_0x37182c(0x2b1)]('request\x20body:\x20'),f[_0x37182c(0x2b1)](_0x5e9dfa[_0x37182c(0x1c8)]);let _0x1541f5=await this[_0x37182c(0x21e)]({'request':_0x5e9dfa,'schema':M,'ClassRef':E,'execute':_0x210bd6=>T[_0x37182c(0x29f)](_0x210bd6,_0x1a75f6)});_0x415053['status'](0xc8)['json'](_0x1541f5);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x3f1)),..._0x4cdb8c,async(_0x2ba05d,_0x11b316)=>{const _0x571292=_0x18fdd2;let _0x2ee7fb=_0x2ba05d[_0x571292(0x1c8)];f['verbose'](_0x571292(0x314)),f['verbose'](_0x571292(0x29e)),f['verbose'](_0x2ba05d[_0x571292(0x1c8)]);let _0x4083e8=await this[_0x571292(0x21e)]({'request':_0x2ba05d,'schema':M,'ClassRef':E,'execute':_0x3b8745=>T[_0x571292(0x4d2)](_0x3b8745,_0x2ee7fb)});_0x11b316['status'](0xc8)[_0x571292(0x242)](_0x4083e8);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x352)),..._0x4cdb8c,async(_0x15c23c,_0x34244b)=>{const _0x298832=_0x18fdd2;let _0x39ead6=_0x15c23c[_0x298832(0x1c8)];f['verbose'](_0x298832(0x142)),f[_0x298832(0x2b1)](_0x298832(0x29e)),f[_0x298832(0x2b1)](_0x15c23c[_0x298832(0x1c8)]),delete _0x39ead6[_0x298832(0x5ef)],delete _0x39ead6['variables'],delete _0x39ead6[_0x298832(0x384)],delete _0x39ead6[_0x298832(0x4b7)];let _0xcbda0c=await this[_0x298832(0x21e)]({'request':_0x15c23c,'schema':M,'ClassRef':E,'execute':_0x6ca145=>T['editFlow'](_0x6ca145,_0x39ead6)});_0x34244b['status'](0xc8)['json'](_0xcbda0c);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x2a2)),..._0x4cdb8c,async(_0x18e3f2,_0x3a5969)=>{const _0x30d3d3=_0x18fdd2;let _0x5fd9f2=_0x18e3f2['body'];f['verbose'](_0x30d3d3(0x142)),f['verbose']('request\x20body:\x20'),f[_0x30d3d3(0x2b1)](_0x18e3f2[_0x30d3d3(0x1c8)]);let _0x534998=await this[_0x30d3d3(0x21e)]({'request':_0x18e3f2,'schema':M,'ClassRef':E,'execute':_0x4be820=>T[_0x30d3d3(0x746)](_0x4be820,_0x5fd9f2)});_0x3a5969[_0x30d3d3(0x299)](0xc8)[_0x30d3d3(0x242)](_0x534998);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x165)),..._0x4cdb8c,async(_0x598fde,_0x5c1314)=>{const _0x1c4384=_0x18fdd2;let _0x1bcbb1=_0x598fde[_0x1c4384(0x1c8)];f[_0x1c4384(0x2b1)](_0x1c4384(0x142)),f[_0x1c4384(0x2b1)](_0x1c4384(0x29e)),f[_0x1c4384(0x2b1)](_0x598fde[_0x1c4384(0x1c8)]);let _0x298137=await this['dataValidate']({'request':_0x598fde,'schema':M,'ClassRef':E,'execute':_0xce6e47=>T[_0x1c4384(0x451)](_0xce6e47,_0x1bcbb1)});_0x5c1314[_0x1c4384(0x299)](0xc8)['json'](_0x298137);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x2cc)),..._0x4cdb8c,async(_0x5e3798,_0x35d323)=>{const _0x128c5b=_0x18fdd2;let _0x46614c=_0x5e3798[_0x128c5b(0x1c8)];f['verbose'](_0x128c5b(0x142)),f[_0x128c5b(0x2b1)](_0x128c5b(0x29e)),f['verbose'](_0x5e3798[_0x128c5b(0x1c8)]);let _0x3e9275=await this['dataValidate']({'request':_0x5e3798,'schema':M,'ClassRef':E,'execute':_0x37e432=>T[_0x128c5b(0x232)](_0x37e432,_0x46614c)});_0x35d323[_0x128c5b(0x299)](0xc8)[_0x128c5b(0x242)](_0x3e9275);})[_0x18fdd2(0x333)](this['routerPath'](_0x18fdd2(0x1ab)),..._0x4cdb8c,async(_0x7f28fc,_0x4b9916)=>{const _0x406bdc=_0x18fdd2;let _0x10a845=_0x7f28fc[_0x406bdc(0x1c8)];f[_0x406bdc(0x2b1)](_0x406bdc(0x258)),f['verbose'](_0x406bdc(0x29e)),f[_0x406bdc(0x2b1)](_0x7f28fc[_0x406bdc(0x1c8)]);let _0x30a5b5=await this[_0x406bdc(0x21e)]({'request':_0x7f28fc,'schema':M,'ClassRef':E,'execute':_0x24715b=>T[_0x406bdc(0x482)](_0x24715b,_0x10a845)});_0x4b9916[_0x406bdc(0x299)](0xc8)[_0x406bdc(0x242)](_0x30a5b5);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x409)),..._0x4cdb8c,async(_0x19e3ee,_0x330f41)=>{const _0x11bee2=_0x18fdd2;let _0x57919a=_0x19e3ee['body'];f[_0x11bee2(0x2b1)]('request\x20received\x20in\x20editFlowcondition'),f[_0x11bee2(0x2b1)]('request\x20body:\x20'),f[_0x11bee2(0x2b1)](_0x19e3ee['body']);let _0x4c5887=await this[_0x11bee2(0x21e)]({'request':_0x19e3ee,'schema':M,'ClassRef':E,'execute':_0x3a010b=>T[_0x11bee2(0x41b)](_0x3a010b,_0x57919a)});_0x330f41[_0x11bee2(0x299)](0xc8)[_0x11bee2(0x242)](_0x4c5887);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x44d)),..._0x4cdb8c,async(_0x5d182a,_0x7a0da7)=>{const _0x1d520e=_0x18fdd2;let _0xf82342=_0x5d182a['body'];f[_0x1d520e(0x2b1)](_0x1d520e(0x5de)),f['verbose']('request\x20body:\x20'),f[_0x1d520e(0x2b1)](_0x5d182a[_0x1d520e(0x1c8)]);let _0x278cb0=await this['dataValidate']({'request':_0x5d182a,'schema':M,'ClassRef':E,'execute':_0x5a7d07=>T[_0x1d520e(0x393)](_0x5a7d07,_0xf82342)});_0x7a0da7[_0x1d520e(0x299)](0xc8)[_0x1d520e(0x242)](_0x278cb0);})[_0x18fdd2(0x333)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x4cb)),..._0x4cdb8c,async(_0x21a882,_0x1f13b3)=>{const _0x4a8924=_0x18fdd2;let _0x77a1f8=_0x21a882[_0x4a8924(0x1c8)];f[_0x4a8924(0x2b1)]('request\x20received\x20in\x20getFlow'),f['verbose']('request\x20body:\x20'),f['verbose'](_0x21a882[_0x4a8924(0x1c8)]);let _0x5bb13f=await this['dataValidate']({'request':_0x21a882,'schema':M,'ClassRef':E,'execute':_0x39ff6e=>T['getFlow'](_0x39ff6e,_0x77a1f8)});_0x1f13b3['status'](0xc8)[_0x4a8924(0x242)](_0x5bb13f);})['delete'](this['routerPath'](_0x18fdd2(0x688)),..._0x4cdb8c,async(_0x1db98b,_0x1526ef)=>{const _0xdb02ca=_0x18fdd2;let _0x614962=_0x1db98b['body'];f[_0xdb02ca(0x2b1)](_0xdb02ca(0x545)),f[_0xdb02ca(0x2b1)](_0xdb02ca(0x29e)),f[_0xdb02ca(0x2b1)](_0x1db98b[_0xdb02ca(0x1c8)]);let _0x115a59=await this[_0xdb02ca(0x21e)]({'request':_0x1db98b,'schema':M,'ClassRef':E,'execute':_0x3dc659=>T[_0xdb02ca(0x780)](_0x3dc659,_0x614962)});_0x1526ef['status'](0xc8)['json'](_0x115a59);})[_0x18fdd2(0x221)](this[_0x18fdd2(0x6dd)](_0x18fdd2(0x479)),..._0x4cdb8c,async(_0x234d06,_0x29d87f)=>{const _0x258a78=_0x18fdd2;f['verbose'](_0x258a78(0x540));let _0x5091b0=await this['dataValidate']({'request':_0x234d06,'schema':M,'ClassRef':E,'execute':_0x495187=>T['allFlows'](_0x495187)});_0x29d87f['status'](0xc8)[_0x258a78(0x242)](_0x5091b0);});}},co=R(require(a0_0xe3fdb8(0x390))),X={};function ro(_0xba9fb5,_0x5b30e3,_0x59c4fd,_0x3e55cd){X[_0xba9fb5]||(X[_0xba9fb5]={}),X[_0xba9fb5][_0x5b30e3]={'id':_0x5b30e3,'response':_0x59c4fd,'events':_0x3e55cd};}function io(_0x581a70,_0x4dd84d){!X[_0x581a70]||!X[_0x581a70][_0x4dd84d]||delete X[_0x581a70][_0x4dd84d];}function J(_0xdadf5b,_0x40251e,_0x1a4d0f){const _0xf5072c=a0_0xe3fdb8;if(!X[_0xdadf5b])return;let _0x47157b='data:\x20'+JSON[_0xf5072c(0x291)](_0x1a4d0f)+'\x0a\x0a';Object[_0xf5072c(0x714)](X[_0xdadf5b])['forEach'](_0x106935=>{const _0x202015=_0xf5072c;_0x106935[_0x202015(0x784)]['includes'](_0x40251e)&&_0x106935[_0x202015(0x6e7)][_0x202015(0x548)](_0x47157b);});}function no(){const _0x1d99a5=a0_0xe3fdb8;let _0x479f28={};for(let _0x33a1be in X)_0x479f28[_0x33a1be]=Object[_0x1d99a5(0x714)](X[_0x33a1be])[_0x1d99a5(0x716)](_0x9ebd1e=>({'id':_0x9ebd1e['id'],'events':_0x9ebd1e[_0x1d99a5(0x784)]}));return _0x479f28;}var lo=require(a0_0xe3fdb8(0x3e7)),ws=require('mongoose'),fs=class{},cr=new ws[(a0_0xe3fdb8(0x6c8))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),lr=new ws['Schema']({'_id':{'type':String,'default':a0_0xe3fdb8(0x786)},'WebhookGlobal':{'type':cr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0xe3fdb8(0x321)](fs[a0_0xe3fdb8(0x62f)],lr,'All_Instances_Config'),ur=co[a0_0xe3fdb8(0x3bb)]['join'](__dirname,'downloads'),vt=(0x0,Mt['Router'])(),dr=b[a0_0xe3fdb8(0x221)](a0_0xe3fdb8(0x209))[a0_0xe3fdb8(0x1e0)],te=[ma,fa,ba[dr]];vt[a0_0xe3fdb8(0x5d1)](a0_0xe3fdb8(0x1a0),Mt[a0_0xe3fdb8(0x3bb)][a0_0xe3fdb8(0x49d)](ur))[a0_0xe3fdb8(0x221)](a0_0xe3fdb8(0x23e),async(_0x3f4625,_0x4a4c69)=>{const _0x24ed16=a0_0xe3fdb8;console[_0x24ed16(0x21f)](_0x24ed16(0x596));let _0x3339ed=_0x3f4625[_0x24ed16(0x670)]['instance'],_0x438df8=(_0x3f4625[_0x24ed16(0x288)]['events']||'')['split'](','),_0x4bd2a5=(0x0,lo['v4'])();console[_0x24ed16(0x21f)](_0x24ed16(0x5cb),_0x3339ed),console[_0x24ed16(0x21f)](_0x24ed16(0x672),_0x438df8);let _0x2ba088=b[_0x24ed16(0x221)](_0x24ed16(0x209))['API_KEY'],_0x1b8400=_0x3f4625['query']['apikey'];if(console[_0x24ed16(0x21f)](_0x24ed16(0x788),_0x1b8400),_0x2ba088['KEY']!==_0x1b8400){console[_0x24ed16(0x21f)](_0x24ed16(0x18f));try{let _0x360674=await ce[_0x24ed16(0x439)][_0x24ed16(0x579)](_0x3339ed);if(console['log'](_0x24ed16(0x3e5),_0x360674),!_0x360674||_0x360674[_0x24ed16(0x55c)]!==_0x1b8400)return console[_0x24ed16(0x21f)](_0x24ed16(0x37d)),_0x4a4c69['status'](0x191)[_0x24ed16(0x422)](_0x24ed16(0x2d2));}catch(_0x3b4d9c){return console['error'](_0x24ed16(0x524),_0x3b4d9c),_0x4a4c69['status'](0x191)[_0x24ed16(0x422)](_0x24ed16(0x77f));}}if(!await We(_0x3339ed))return _0x4a4c69['status'](0x194)[_0x24ed16(0x422)](_0x24ed16(0x425));_0x4a4c69[_0x24ed16(0x14a)](_0x24ed16(0x689),_0x24ed16(0x667)),_0x4a4c69['setHeader'](_0x24ed16(0x4fb),_0x24ed16(0x20b)),_0x4a4c69['setHeader'](_0x24ed16(0x1f2),_0x24ed16(0x207)),_0x4a4c69[_0x24ed16(0x791)]();let _0x5853f7=_0x24ed16(0x5ae)+JSON[_0x24ed16(0x291)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x4a4c69[_0x24ed16(0x548)](_0x5853f7),ro(_0x3339ed,_0x4bd2a5,_0x4a4c69,_0x438df8),_0x3f4625['on'](_0x24ed16(0x233),()=>{const _0x34fcbc=_0x24ed16;console['log'](_0x34fcbc(0x491)+_0x3339ed),io(_0x3339ed,_0x4bd2a5);});}),vt['get']('/clients-info',(_0x3276be,_0x3dcf5c)=>{const _0x50674c=a0_0xe3fdb8;let _0x2ea432=no();_0x3dcf5c[_0x50674c(0x242)](_0x2ea432);})[a0_0xe3fdb8(0x221)]('/',(_0x475d46,_0x36d510)=>{const _0x451841=a0_0xe3fdb8;let _0x569d7a=b['get']('SSL_CONF'),_0x3b6890=_0x569d7a&&_0x569d7a['FULLCHAIN'][_0x451841(0x4c7)]('/')[0x4];if(_0x3b6890){let _0x1eee8c=encodeURIComponent(_0x451841(0x145)+_0x3b6890);_0x36d510[_0x451841(0x200)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x1eee8c);}else _0x36d510[_0x451841(0x200)](_0x451841(0x3d3));})[a0_0xe3fdb8(0x340)](a0_0xe3fdb8(0x208),...te,async(_0x5609d6,_0x16b658)=>{const _0x122064=a0_0xe3fdb8;try{console[_0x122064(0x21f)](_0x122064(0x4f2)),_0x16b658[_0x122064(0x299)](0xc8)[_0x122064(0x242)]({'message':_0x122064(0x500)}),_0x16b658['on'](_0x122064(0x655),()=>process[_0x122064(0x556)](0x0));}catch(_0xc743ad){console['error'](_0x122064(0x4a0),_0xc743ad),_0x16b658[_0x122064(0x299)](0x1f4)[_0x122064(0x242)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})['put'](a0_0xe3fdb8(0x4a4),...te,async(_0x32fcbe,_0x57d324)=>{const _0x43c08c=a0_0xe3fdb8;try{let _0x1d669e=_0x32fcbe[_0x43c08c(0x1c8)];await we[_0x43c08c(0x6f4)]({},{'$set':_0x1d669e},{'upsert':!0x0});let _0x50acac=await we[_0x43c08c(0x6a9)]();_0x57d324['json'](_0x50acac);}catch(_0x351d7b){_0x57d324[_0x43c08c(0x299)](0x190)[_0x43c08c(0x422)](_0x351d7b['message']);}})['get'](a0_0xe3fdb8(0x4a4),...te,async(_0x24e7af,_0x2b1555)=>{const _0x2eb6a3=a0_0xe3fdb8;try{let _0x419347=await we['findOne']();if(!_0x419347)return _0x2b1555[_0x2eb6a3(0x242)]({});_0x2b1555[_0x2eb6a3(0x242)](_0x419347);}catch(_0x1c67fe){_0x2b1555[_0x2eb6a3(0x299)](0x1f4)['send'](_0x1c67fe['message']);}})[a0_0xe3fdb8(0x5d1)](a0_0xe3fdb8(0x2ca),new ct(b,...te)[a0_0xe3fdb8(0x776)])[a0_0xe3fdb8(0x5d1)](a0_0xe3fdb8(0x21b),new bt(...te)['router'])['use'](a0_0xe3fdb8(0x2be),new Xe(...te)[a0_0xe3fdb8(0x776)])[a0_0xe3fdb8(0x5d1)](a0_0xe3fdb8(0x18e),new nt(...te)[a0_0xe3fdb8(0x776)])['use']('/webhook',new Et(...te)['router'])[a0_0xe3fdb8(0x5d1)](a0_0xe3fdb8(0x427),new Ct(...te)['router']);var m=class{constructor(..._0x25b8e4){const _0x34f0e6=a0_0xe3fdb8;throw{'status':0x190,'error':_0x34f0e6(0x6b3),'message':_0x25b8e4[_0x34f0e6(0x736)]>0x0?_0x25b8e4:void 0x0};}},ee=class{constructor(..._0x595bbe){const _0x438f8b=a0_0xe3fdb8;throw{'status':0x191,'error':_0x438f8b(0x3b1),'message':_0x595bbe[_0x438f8b(0x736)]>0x0?_0x595bbe:void 0x0};}},K=class{constructor(..._0x105971){const _0x56900b=a0_0xe3fdb8;throw{'status':0x193,'error':_0x56900b(0x4c8),'message':_0x105971[_0x56900b(0x736)]>0x0?_0x105971:void 0x0};}},j=class{constructor(..._0x35ccd9){const _0x20cd6d=a0_0xe3fdb8;throw{'status':0x194,'error':'Not\x20Found','message':_0x35ccd9[_0x20cd6d(0x736)]>0x0?_0x35ccd9:void 0x0};}},O=class{constructor(..._0x2f54db){const _0x2022be=a0_0xe3fdb8;throw{'status':0x1f4,'error':_0x2022be(0x330),'message':_0x2f54db[_0x2022be(0x736)]>0x0?_0x2f54db:void 0x0};}},ue=require('@whiskeysockets/baileys');async function ys(_0xc265c0){const _0x367731=a0_0xe3fdb8;let _0x303ea5=new v(ys[_0x367731(0x62f)]),_0x5ec85e=N[_0x367731(0x76b)](),_0x59266f=_0x5ec85e['db'](b[_0x367731(0x221)]('DATABASE')[_0x367731(0x38a)][_0x367731(0x5a7)]+_0x367731(0x66d))[_0x367731(0x28e)](_0xc265c0),_0x5b70b3=async(_0x589fcf,_0x4aed15)=>{const _0x303e8c=_0x367731;try{return await _0x5ec85e[_0x303e8c(0x656)](),await _0x59266f[_0x303e8c(0x2ce)]({'_id':_0x4aed15},JSON[_0x303e8c(0x371)](JSON[_0x303e8c(0x291)](_0x589fcf,ue[_0x303e8c(0x5a8)]['replacer'])),{'upsert':!0x0});}catch{}},_0x1c8680=async _0x487e9f=>{const _0x3c23a1=_0x367731;try{await _0x5ec85e['connect']();let _0x2b0b00=await _0x59266f[_0x3c23a1(0x6a9)]({'_id':_0x487e9f}),_0x46484a=JSON[_0x3c23a1(0x291)](_0x2b0b00);return JSON[_0x3c23a1(0x371)](_0x46484a,ue[_0x3c23a1(0x5a8)][_0x3c23a1(0x146)]);}catch{}},_0xa1e320=async _0x9a983c=>{const _0x106597=_0x367731;try{return await _0x5ec85e[_0x106597(0x656)](),await _0x59266f[_0x106597(0x2ef)]({'_id':_0x9a983c});}catch{}},_0x24f194=await _0x1c8680(_0x367731(0x5ee))||(0x0,ue[_0x367731(0x722)])();return{'state':{'creds':_0x24f194,'keys':{'get':async(_0x14396f,_0x2b7b73)=>{const _0x399af5=_0x367731;let _0x3a4b40={};return await Promise[_0x399af5(0x297)](_0x2b7b73[_0x399af5(0x716)](async _0x184647=>{const _0x3c0727=_0x399af5;let _0x522e0a=await _0x1c8680(_0x14396f+'-'+_0x184647);_0x14396f===_0x3c0727(0x176)&&_0x522e0a&&(_0x522e0a=ue[_0x3c0727(0x2bf)][_0x3c0727(0x3a8)]['AppStateSyncKeyData'][_0x3c0727(0x65b)](_0x522e0a)),_0x3a4b40[_0x184647]=_0x522e0a;})),_0x3a4b40;},'set':async _0x41f5c1=>{const _0x2cdecf=_0x367731;let _0x188f1b=[];for(let _0x28eeab in _0x41f5c1)for(let _0x56298a in _0x41f5c1[_0x28eeab]){let _0x39b2f7=_0x41f5c1[_0x28eeab][_0x56298a],_0x316889=_0x28eeab+'-'+_0x56298a;_0x188f1b[_0x2cdecf(0x4fd)](_0x39b2f7?_0x5b70b3(_0x39b2f7,_0x316889):_0xa1e320(_0x316889));}await Promise['all'](_0x188f1b);}}},'saveCreds':async()=>_0x5b70b3(_0x24f194,_0x367731(0x5ee))};}var Es=R(require(a0_0xe3fdb8(0x2f0))),Cs=R(require(a0_0xe3fdb8(0x1d4))),Tt=require('@whiskeysockets/baileys'),uo=require(a0_0xe3fdb8(0x294)),Rt=require('@whiskeysockets/baileys'),Nt;function pr(_0x583759){return Nt||(Nt=(0x0,uo['createClient'])({'url':_0x583759['URI']}),Nt['connect']()),Nt;}var oe=class c{constructor(_0x4666d0,_0x37a52a){const _0x54cd1a=a0_0xe3fdb8;this[_0x54cd1a(0x59a)]=_0x4666d0,this[_0x54cd1a(0x413)]=_0x37a52a,this[_0x54cd1a(0x2e0)]=new v(c[_0x54cd1a(0x62f)]),this[_0x54cd1a(0x5b2)]=pr(_0x4666d0);}set[a0_0xe3fdb8(0x616)](_0x21534c){const _0x53c4ac=a0_0xe3fdb8;this[_0x53c4ac(0x413)]=_0x21534c;}async[a0_0xe3fdb8(0x4c1)](){const _0xe4d0cb=a0_0xe3fdb8;try{return await this['client'][_0xe4d0cb(0x575)](['keys',this[_0xe4d0cb(0x59a)][_0xe4d0cb(0x3da)]+':*']);}catch(_0x5930bb){this[_0xe4d0cb(0x2e0)][_0xe4d0cb(0x430)](_0x5930bb);}}async[a0_0xe3fdb8(0x3cc)](_0x47b7eb,_0xf70308){const _0x20ed69=a0_0xe3fdb8;try{let _0x1d15a6=JSON[_0x20ed69(0x291)](_0xf70308,Rt['BufferJSON'][_0x20ed69(0x1c1)]);return await this[_0x20ed69(0x5b2)]['hSet'](this['redisEnv']['PREFIX_KEY']+':'+this[_0x20ed69(0x413)],_0x47b7eb,_0x1d15a6);}catch(_0x44bf53){this[_0x20ed69(0x2e0)][_0x20ed69(0x430)](_0x44bf53);}}async['getAllData'](){const _0x198442=a0_0xe3fdb8;try{let _0x348c74=await this[_0x198442(0x5b2)][_0x198442(0x32b)](this['redisEnv'][_0x198442(0x3da)]+':'+this['instanceName']);if(_0x348c74){for(let _0x37413e in _0x348c74)Object[_0x198442(0x214)][_0x198442(0x541)][_0x198442(0x164)](_0x348c74,_0x37413e)&&(_0x348c74[_0x37413e]=JSON[_0x198442(0x371)](_0x348c74[_0x37413e],Rt[_0x198442(0x5a8)]['reviver']));return _0x348c74;}}catch(_0x51e1f3){this[_0x198442(0x2e0)][_0x198442(0x430)](_0x51e1f3);}}async[a0_0xe3fdb8(0x151)](_0x57c138){const _0x16b8c9=a0_0xe3fdb8;try{let _0x2e8870=await this[_0x16b8c9(0x5b2)]['hGet'](this['redisEnv'][_0x16b8c9(0x3da)]+':'+this[_0x16b8c9(0x413)],_0x57c138);if(_0x2e8870)return JSON[_0x16b8c9(0x371)](_0x2e8870,Rt[_0x16b8c9(0x5a8)][_0x16b8c9(0x146)]);}catch(_0x183742){this[_0x16b8c9(0x2e0)][_0x16b8c9(0x430)](_0x183742);}}async[a0_0xe3fdb8(0x23b)](_0xc6cfd6){const _0x9fc2c7=a0_0xe3fdb8;try{return await this[_0x9fc2c7(0x5b2)][_0x9fc2c7(0x339)](this[_0x9fc2c7(0x59a)][_0x9fc2c7(0x3da)]+':'+this[_0x9fc2c7(0x413)],_0xc6cfd6);}catch(_0x1bf060){this[_0x9fc2c7(0x2e0)][_0x9fc2c7(0x430)](_0x1bf060);}}async[a0_0xe3fdb8(0x65e)](_0x409111){const _0x5cb003=a0_0xe3fdb8;try{return await this['client']['del'](_0x409111||this[_0x5cb003(0x59a)]['PREFIX_KEY']+':'+this[_0x5cb003(0x413)]);}catch(_0x5c3cfa){this[_0x5cb003(0x2e0)]['error'](_0x5c3cfa);}}};async function bs(_0x1d488c,_0x53c58b){const _0x5170d6=a0_0xe3fdb8;let _0x6be29a=new v(bs[_0x5170d6(0x62f)]),_0x54a2dd=new oe(_0x1d488c,_0x53c58b),_0x38118b=async(_0x4beb99,_0x40fe53)=>{const _0x194e37=_0x5170d6;try{return await _0x54a2dd[_0x194e37(0x3cc)](_0x40fe53,_0x4beb99);}catch(_0x4af478){return _0x6be29a[_0x194e37(0x430)]({'localError':'writeData','error':_0x4af478});}},_0x39f3ec=async _0x52a084=>{const _0x31f933=_0x5170d6;try{return await _0x54a2dd[_0x31f933(0x151)](_0x52a084);}catch(_0x5a8970){_0x6be29a[_0x31f933(0x430)]({'readData':_0x31f933(0x3cc),'error':_0x5a8970});return;}},_0xd87ab4=async _0xa673d1=>{const _0x3ba90c=_0x5170d6;try{return await _0x54a2dd[_0x3ba90c(0x23b)](_0xa673d1);}catch(_0x3fca2c){_0x6be29a[_0x3ba90c(0x430)]({'readData':_0x3ba90c(0x23b),'error':_0x3fca2c});}},_0x13d4d0=await _0x39f3ec(_0x5170d6(0x5ee))||(0x0,Tt[_0x5170d6(0x722)])();return{'state':{'creds':_0x13d4d0,'keys':{'get':async(_0x263b5f,_0x27e40e)=>{const _0x304cc3=_0x5170d6;let _0x57c147={};return await Promise[_0x304cc3(0x297)](_0x27e40e[_0x304cc3(0x716)](async _0xe4539c=>{const _0x3cdd2e=_0x304cc3;let _0x30b491=await _0x39f3ec(_0x263b5f+'-'+_0xe4539c);_0x263b5f===_0x3cdd2e(0x176)&&_0x30b491&&(_0x30b491=Tt[_0x3cdd2e(0x2bf)]['Message'][_0x3cdd2e(0x6e5)]['fromObject'](_0x30b491)),_0x57c147[_0xe4539c]=_0x30b491;})),_0x57c147;},'set':async _0x1e8c68=>{const _0x465594=_0x5170d6;let _0x2a8df0=[];for(let _0x3a9378 in _0x1e8c68)for(let _0x1d3036 in _0x1e8c68[_0x3a9378]){let _0x15c5ad=_0x1e8c68[_0x3a9378][_0x1d3036],_0xd71cf3=_0x3a9378+'-'+_0x1d3036;_0x2a8df0[_0x465594(0x4fd)](_0x15c5ad?await _0x38118b(_0x15c5ad,_0xd71cf3):await _0xd87ab4(_0xd71cf3));}await Promise['all'](_0x2a8df0);}}},'saveCreds':async()=>await _0x38118b(_0x13d4d0,'creds')};}var L=R(require('fs')),Me=require(a0_0xe3fdb8(0x3e7)),xt=R(require(a0_0xe3fdb8(0x353))),Dt=require('https-proxy-agent'),hr=a0_0xe3fdb8(0x666)[a0_0xe3fdb8(0x293)](),At=hr[a0_0xe3fdb8(0x4c7)]('\x0a')[a0_0xe3fdb8(0x716)](_0x14668d=>{const _0x24e948=a0_0xe3fdb8;let _0x21ed26=_0x14668d[_0x24e948(0x4c7)](':');return{'host':_0x21ed26[0x0],'port':_0x21ed26[0x1],'username':_0x21ed26[0x2],'password':_0x21ed26[0x3],'protocol':'http'};});function po(_0x87d63a){const _0x154027=a0_0xe3fdb8;let _0x54c229=At['find'](_0x24fad9=>_0x24fad9[_0x154027(0x765)]===_0x87d63a);return _0x54c229||null;}function ho(){const _0x2106ff=a0_0xe3fdb8;if(At[_0x2106ff(0x736)]===0x0)return null;let _0x4676a7=Math['floor'](Math[_0x2106ff(0x781)]()*At[_0x2106ff(0x736)]);return At[_0x4676a7];}function go(_0x310aa3){const _0x1365c7=a0_0xe3fdb8;let _0x46134e=_0x4f1cf2=>typeof _0x4f1cf2==_0x1365c7(0x467)&&_0x4f1cf2[_0x1365c7(0x736)]>0x0,_0x112054=_0x205cb6=>{let _0x3422a9=parseInt(_0x205cb6,0xa);return!isNaN(_0x3422a9)&&_0x3422a9>0x0&&_0x3422a9<=0xffff;},_0x22d56e=_0x136eae=>typeof _0x136eae==_0x1365c7(0x467)&&_0x136eae[_0x1365c7(0x736)]>0x0;return _0x310aa3&&_0x46134e(_0x310aa3[_0x1365c7(0x765)])&&_0x112054(_0x310aa3[_0x1365c7(0x644)])&&_0x22d56e(_0x310aa3['username'])&&_0x22d56e(_0x310aa3[_0x1365c7(0x475)])&&(_0x310aa3[_0x1365c7(0x1e9)]==='http'||_0x310aa3[_0x1365c7(0x1e9)]===_0x1365c7(0x37c));}var Eo=a0_0xe3fdb8(0x5c8),Ms,re=null,mo=null,He=null,gr=0x3,mr=null;async function fr(){const _0x9fb19b=a0_0xe3fdb8;let _0x7dbea=await we['findOne']();re=_0x7dbea?.[_0x9fb19b(0x6f8)]??null,mr=_0x7dbea?.[_0x9fb19b(0x1f1)]??null,Eo=_0x7dbea?.['connectedClient']??_0x9fb19b(0x5c8),Ms=_0x7dbea?.[_0x9fb19b(0x543)]??vs??_0x9fb19b(0x53c),console[_0x9fb19b(0x21f)](_0x9fb19b(0x41d)),console[_0x9fb19b(0x21f)](_0x7dbea);}async function wr(){await fr();}function a0_0x3ea8(_0x16e66e,_0x271430){const _0x1d6e45=a0_0x1d6e();return a0_0x3ea8=function(_0x3ea80d,_0x367037){_0x3ea80d=_0x3ea80d-0x130;let _0x1f6ea1=_0x1d6e45[_0x3ea80d];return _0x1f6ea1;},a0_0x3ea8(_0x16e66e,_0x271430);}wr();function $(_0x287549){const _0x2bd9bc=a0_0xe3fdb8;if(_0x287549[_0x2bd9bc(0x675)]||_0x287549[_0x2bd9bc(0x3f8)]){let _0x17d239=_0x287549['viewOnceMessage']?_0x287549[_0x2bd9bc(0x675)][_0x2bd9bc(0x20e)]:_0x287549[_0x2bd9bc(0x3f8)]['message'];return(0x0,y[_0x2bd9bc(0x4d3)])(_0x17d239);}return _0x287549[_0x2bd9bc(0x5df)]?'pollCreationMessageV3':_0x287549[_0x2bd9bc(0x671)]?_0x2bd9bc(0x671):_0x287549[_0x2bd9bc(0x74a)]?_0x2bd9bc(0x74a):(0x0,y['getContentType'])(_0x287549);}var fo={},ye=class c{constructor(_0x49565c,_0x169376,_0xd3440){const _0x363c3d=a0_0xe3fdb8;this['configService']=_0x49565c,this[_0x363c3d(0x62a)]=_0x169376,this[_0x363c3d(0x1aa)]=_0xd3440,this[_0x363c3d(0x1c2)]=null,this['logger']=new v(c[_0x363c3d(0x62f)]),this['instance']={},this[_0x363c3d(0x5ab)]={},this[_0x363c3d(0x181)]={'state':_0x363c3d(0x233)},this['storePath']=(0x0,F['join'])(ae,_0x363c3d(0x2ab)),this['msgRetryCounterCache']=new Cs[(_0x363c3d(0x3bb))](),this[_0x363c3d(0x478)]=new Cs[(_0x363c3d(0x3bb))](),this[_0x363c3d(0x692)]=!0x1,this[_0x363c3d(0x676)]={'status.instance':_0x363c3d(0x6d1),'qrcode.updated':_0x363c3d(0x363),'messages.upsert':_0x363c3d(0x6aa),'messages.update':_0x363c3d(0x395),'send.message':_0x363c3d(0x6aa),'group.upsert':_0x363c3d(0x762),'group.update':'/wa-groups','group-participants.update':_0x363c3d(0x762),'connection.update':_0x363c3d(0x6d1),'messages.set':'/wa-message','contacts.set':_0x363c3d(0x31b),'contacts.upsert':'/wa-contacts','contacts.update':'/wa-contacts','presence.update':_0x363c3d(0x44b),'chats.set':_0x363c3d(0x534),'chats.update':'/wa-chats','chats.upsert':_0x363c3d(0x534),'chats.delete':_0x363c3d(0x534)},this[_0x363c3d(0x71e)]=0x0,this[_0x363c3d(0x376)]=[],this[_0x363c3d(0x251)]=0xa,this[_0x363c3d(0x357)]=0xea60,this[_0x363c3d(0x132)]=!0x1,this[_0x363c3d(0x46c)]={'chats.upsert':async(_0x171ac7,_0x2681f3)=>{const _0x45892b=_0x363c3d;let _0xaa5bd6=[];for await(let _0x31d471 of _0x171ac7)_0xaa5bd6[_0x45892b(0x4fd)]({'_id':_0x31d471['id'],'owner':this[_0x45892b(0x635)][_0x45892b(0x278)],'group':_0x31d471['id'][_0x45892b(0x5d0)]('@g.us'),'name':_0x31d471[_0x45892b(0x62f)]||_0x31d471[_0x45892b(0x2f5)]||null,'contactname':null,'lastmsg':_0x31d471[_0x45892b(0x47c)]&&_0x31d471[_0x45892b(0x47c)]['toString']()[_0x45892b(0x736)]<0xd?_0x31d471['conversationTimestamp']*0x3e8:_0x31d471[_0x45892b(0x47c)]||null,'archived':_0x31d471['archived']||!0x1,'unreadcount':_0x31d471[_0x45892b(0x350)]||0x0});this['sendDataWebhook'](_0x45892b(0x795),_0xaa5bd6);},'chats.update':async(_0x394fa1,_0x43fa42)=>{const _0x2b252a=_0x363c3d;for(let _0x2283ee of _0x394fa1){let _0x5150bc={'_id':_0x2283ee['id'],'owner':this[_0x2b252a(0x635)][_0x2b252a(0x278)],'group':_0x2283ee['id'][_0x2b252a(0x5d0)](_0x2b252a(0x138)),'name':_0x2283ee[_0x2b252a(0x62f)]||_0x2283ee['displayName'],'archived':_0x2283ee[_0x2b252a(0x391)],'ephemeralExpiration':_0x2283ee[_0x2b252a(0x31a)]},_0x54896f=!0x1,_0xdc3eb8={};_0x5150bc[_0x2b252a(0x391)]!=null&&(this[_0x2b252a(0x2e0)][_0x2b252a(0x2b1)](this[_0x2b252a(0x413)]+'\x20('+this[_0x2b252a(0x635)][_0x2b252a(0x278)]+_0x2b252a(0x760)+_0x2283ee['archived']),_0x54896f=!0x0,_0xdc3eb8[_0x2b252a(0x391)]=_0x2283ee[_0x2b252a(0x391)]),_0x2283ee[_0x2b252a(0x62f)]!=null&&(this[_0x2b252a(0x2e0)]['verbose'](this[_0x2b252a(0x413)]+'\x20('+this[_0x2b252a(0x635)]['wuid']+_0x2b252a(0x275)+_0x2283ee[_0x2b252a(0x62f)]),_0x54896f=!0x0,_0xdc3eb8[_0x2b252a(0x62f)]=_0x2283ee[_0x2b252a(0x62f)]),_0x2283ee[_0x2b252a(0x2f5)]!=null&&(this['logger'][_0x2b252a(0x2b1)](this['instanceName']+'\x20('+this[_0x2b252a(0x635)][_0x2b252a(0x278)]+_0x2b252a(0x2f1)+_0x2283ee['displayName']),_0x54896f=!0x0,_0xdc3eb8['name']=_0x2283ee[_0x2b252a(0x2f5)]);let _0x23bf33;_0x54896f&&(_0x23bf33=await this['repository']['chat'][_0x2b252a(0x6f4)]({'where':{'_id':_0x2283ee['id']}},_0xdc3eb8,this['instance'][_0x2b252a(0x278)])),_0x23bf33&&J(this[_0x2b252a(0x413)],_0x2b252a(0x26e),{'chat':_0x23bf33});}},'chats.delete':async _0x4d30cf=>{const _0x1b4213=_0x363c3d;this[_0x1b4213(0x45f)](_0x1b4213(0x609),[..._0x4d30cf]);}},this[_0x363c3d(0x5e7)]={'contacts.upsert':async(_0x4e3e0a,_0x33ab7b)=>{const _0x14a649=_0x363c3d;let _0xd02c0b=await this[_0x14a649(0x1aa)][_0x14a649(0x1f6)][_0x14a649(0x579)]({'where':{}},this['instance'][_0x14a649(0x278)]),_0x588565=[];for await(let _0x21f40f of _0x4e3e0a)_0xd02c0b[_0x14a649(0x579)](_0x96eb70=>_0x96eb70['_id']===_0x21f40f['id'])||_0x588565[_0x14a649(0x4fd)]({'_id':_0x21f40f['id'],'pushName':_0x21f40f?.[_0x14a649(0x62f)]||_0x21f40f?.[_0x14a649(0x4fe)],'owner':this['instance'][_0x14a649(0x278)]});this['sendDataWebhook']('contacts.upsert',_0x588565),await this[_0x14a649(0x1aa)]['contact'][_0x14a649(0x1f7)](_0x588565);},'contacts.update':async(_0x4f3fa5,_0xf39aca)=>{const _0x13a279=_0x363c3d;let _0x8987ea=[];for await(let _0x4550cd of _0x4f3fa5)_0x8987ea[_0x13a279(0x4fd)]({'_id':_0x4550cd['id'],'pushName':_0x4550cd?.[_0x13a279(0x62f)]??_0x4550cd?.[_0x13a279(0x4fe)],'owner':this[_0x13a279(0x635)][_0x13a279(0x278)]});this[_0x13a279(0x45f)]('contacts.update',_0x8987ea);}},this[_0x363c3d(0x702)]={'messaging-history.set':async({messages:_0x202ed4,chats:_0x5decfb,isLatest:_0x45c567},_0x4e0f7d)=>{const _0x2ca83a=_0x363c3d;if(_0x45c567){let _0x3d9de6=await Promise[_0x2ca83a(0x297)](_0x5decfb[_0x2ca83a(0x716)](async _0x206aeb=>({'_id':_0x206aeb['id'],'owner':this[_0x2ca83a(0x635)][_0x2ca83a(0x278)],'group':_0x206aeb['id'][_0x2ca83a(0x5d0)](_0x2ca83a(0x138)),'name':_0x206aeb['name']||_0x206aeb[_0x2ca83a(0x2f5)]||null,'contactname':null,'lastmsg':_0x206aeb[_0x2ca83a(0x47c)]&&_0x206aeb['conversationTimestamp'][_0x2ca83a(0x4ff)]()[_0x2ca83a(0x736)]<0xd?_0x206aeb[_0x2ca83a(0x47c)]*0x3e8:_0x206aeb[_0x2ca83a(0x47c)]||null,'archived':_0x206aeb[_0x2ca83a(0x391)]||!0x1,'unreadcount':_0x206aeb[_0x2ca83a(0x350)]||0x0})));this[_0x2ca83a(0x45f)]('chats.set',_0x3d9de6),await this[_0x2ca83a(0x55f)](_0x3d9de6,_0x4e0f7d);}let _0x3e504f=[],_0x193450=Date[_0x2ca83a(0x1d1)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x476245]of Object[_0x2ca83a(0x133)](_0x202ed4)){if(_0x476245[_0x2ca83a(0x20e)]?.[_0x2ca83a(0x510)]||_0x476245[_0x2ca83a(0x20e)]?.[_0x2ca83a(0x267)]||!_0x476245[_0x2ca83a(0x20e)]||_0x476245[_0x2ca83a(0x326)][_0x2ca83a(0x27d)]===_0x2ca83a(0x697)||(Es[_0x2ca83a(0x3bb)][_0x2ca83a(0x196)](_0x476245?.[_0x2ca83a(0x61e)])&&(_0x476245[_0x2ca83a(0x61e)]=_0x476245[_0x2ca83a(0x61e)]?.['toNumber']()),_0x476245[_0x2ca83a(0x61e)]&&_0x476245[_0x2ca83a(0x61e)][_0x2ca83a(0x4ff)]()[_0x2ca83a(0x736)]<0xd&&(_0x476245[_0x2ca83a(0x61e)]=_0x476245[_0x2ca83a(0x61e)]*0x3e8),_0x476245[_0x2ca83a(0x61e)]<_0x193450))continue;let {message_normalized:_0x20ae83}=this[_0x2ca83a(0x336)](_0x476245[_0x2ca83a(0x20e)],$(_0x476245[_0x2ca83a(0x20e)]),null);Object[_0x2ca83a(0x205)](_0x20ae83)[_0x2ca83a(0x736)]>0x0&&_0x3e504f[_0x2ca83a(0x4fd)]({'_id':_0x476245[_0x2ca83a(0x326)]['id'],'key':_0x476245[_0x2ca83a(0x326)],'pushName':_0x476245['pushName'],'participant':_0x476245[_0x2ca83a(0x599)],'message':{..._0x476245['message']},'messageType':$(_0x476245[_0x2ca83a(0x20e)]),'message_normalized':{'key':_0x476245['key'],'pushName':_0x476245[_0x2ca83a(0x27b)],'messageTimestamp':_0x476245['messageTimestamp'],..._0x20ae83},'messageTimestamp':_0x476245[_0x2ca83a(0x61e)],'owner':this[_0x2ca83a(0x635)][_0x2ca83a(0x278)]});}_0x4e0f7d[_0x2ca83a(0x74c)]&&_0x3e504f[_0x2ca83a(0x736)]>0x0&&(this[_0x2ca83a(0x2e0)]['verbose'](this[_0x2ca83a(0x413)]+'\x20('+this[_0x2ca83a(0x635)][_0x2ca83a(0x278)]+_0x2ca83a(0x668)+_0x3e504f[_0x2ca83a(0x736)]+'\x20mensagens\x20de\x20'+this[_0x2ca83a(0x635)][_0x2ca83a(0x278)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x2ca83a(0x1aa)][_0x2ca83a(0x20e)]['insert']([..._0x3e504f],this['instance'][_0x2ca83a(0x278)])),this[_0x2ca83a(0x45f)](_0x2ca83a(0x639),[..._0x3e504f]),_0x202ed4=void 0x0;},'messages.upsert':async({messages:_0x5a00ab,type:_0x297ebf},_0x361888)=>{const _0x1d10c8=_0x363c3d;let _0x1f8acb=_0x5a00ab[0x0];if(_0x297ebf!=='notify'||!_0x1f8acb?.[_0x1d10c8(0x20e)]||_0x1f8acb[_0x1d10c8(0x20e)]?.[_0x1d10c8(0x510)]||_0x1f8acb[_0x1d10c8(0x20e)][_0x1d10c8(0x267)]||_0x1f8acb[_0x1d10c8(0x326)]['remoteJid']===_0x1d10c8(0x697))return;let _0x4443c1=null,_0x451466=null;try{_0x4443c1=await this[_0x1d10c8(0x79a)](_0x1f8acb),_0x451466=_0x4443c1?_0x4443c1[_0x1d10c8(0x483)](','):null;}catch(_0x3e125b){this[_0x1d10c8(0x2e0)][_0x1d10c8(0x2b1)](this[_0x1d10c8(0x413)]+'\x20('+this[_0x1d10c8(0x635)][_0x1d10c8(0x278)]+_0x1d10c8(0x668)+(_0x3e125b instanceof Error?_0x3e125b[_0x1d10c8(0x20e)]:JSON[_0x1d10c8(0x291)](_0x3e125b,null,0x2))),_0x451466='error\x20get\x20vote';}if(this[_0x1d10c8(0x5b2)][_0x1d10c8(0x354)](_0x1d10c8(0x22d)),Es[_0x1d10c8(0x3bb)][_0x1d10c8(0x196)](_0x1f8acb['messageTimestamp'])&&(_0x1f8acb['messageTimestamp']=_0x1f8acb[_0x1d10c8(0x61e)]?.[_0x1d10c8(0x607)]()),this['localWebhook']?.[_0x1d10c8(0x360)]&&_0x1f8acb[_0x1d10c8(0x326)][_0x1d10c8(0x27d)][_0x1d10c8(0x13f)](_0x1d10c8(0x138))){this[_0x1d10c8(0x2e0)][_0x1d10c8(0x2b1)](_0x1d10c8(0x623));return;}_0x1f8acb[_0x1d10c8(0x61e)]&&_0x1f8acb[_0x1d10c8(0x61e)][_0x1d10c8(0x4ff)]()['length']<0xd&&(_0x1f8acb[_0x1d10c8(0x61e)]=_0x1f8acb[_0x1d10c8(0x61e)]*0x3e8);let _0x12e646=_0x1f8acb[_0x1d10c8(0x20e)],{messageContent:_0x5b9bdc,message_normalized:_0x579f34}=this[_0x1d10c8(0x336)](_0x12e646,$(_0x1f8acb[_0x1d10c8(0x20e)]),_0x451466),_0x1e4f77={'_id':_0x1f8acb[_0x1d10c8(0x326)]['id'],'key':_0x1f8acb['key'],'pushName':_0x1f8acb[_0x1d10c8(0x27b)],'message':{..._0x1f8acb[_0x1d10c8(0x20e)]},'messageType':$(_0x1f8acb['message']),'message_normalized':{'key':_0x1f8acb[_0x1d10c8(0x326)],'pushName':_0x1f8acb[_0x1d10c8(0x27b)],'messageTimestamp':_0x1f8acb[_0x1d10c8(0x61e)],'source':(0x0,y[_0x1d10c8(0x5f3)])(_0x1f8acb[_0x1d10c8(0x326)]['id']),..._0x579f34},'messageTimestamp':_0x1f8acb[_0x1d10c8(0x61e)],'owner':this[_0x1d10c8(0x635)][_0x1d10c8(0x278)],'source':(0x0,y[_0x1d10c8(0x5f3)])(_0x1f8acb['key']['id'])};_0x5b9bdc||(console[_0x1d10c8(0x430)](_0x1d10c8(0x474)),this['logger'][_0x1d10c8(0x21f)](_0x1e4f77)),await this[_0x1d10c8(0x1aa)]['message'][_0x1d10c8(0x1f7)]([_0x1e4f77],this[_0x1d10c8(0x635)][_0x1d10c8(0x278)]),this[_0x1d10c8(0x45f)](_0x1d10c8(0x724),_0x1e4f77),J(this[_0x1d10c8(0x413)],'messages',{'message':_0x1e4f77}),_0x1f8acb[_0x1d10c8(0x326)][_0x1d10c8(0x27d)]!==_0x1d10c8(0x697)&&await this[_0x1d10c8(0x58a)](_0x361888,_0x1e4f77,'MESSAGES_UPSERT');},'messages.update':async(_0x4f3e56,_0x10cee9)=>{const _0x32cd65=_0x363c3d;let _0x39aa6c={0x0:'ERROR',0x1:_0x32cd65(0x792),0x2:'SERVER_ACK',0x3:_0x32cd65(0x335),0x4:_0x32cd65(0x41a),0x5:_0x32cd65(0x1d6)};for await(let {key:_0x4b0e23,update:_0x2d3892}of _0x4f3e56){if(this[_0x32cd65(0x5ab)]?.[_0x32cd65(0x360)]&&_0x4b0e23['remoteJid'][_0x32cd65(0x13f)](_0x32cd65(0x138))){this[_0x32cd65(0x2e0)][_0x32cd65(0x2b1)](_0x32cd65(0x623));return;}if(_0x4b0e23[_0x32cd65(0x27d)]!=='status@broadcast'){let _0x50bf70=Date[_0x32cd65(0x1d1)](),_0x19fe38;_0x2d3892[_0x32cd65(0x20e)]===null&&_0x2d3892[_0x32cd65(0x299)]===void 0x0?_0x19fe38='DELETED':_0x19fe38=_0x39aa6c[_0x2d3892['status']];let _0x5a6e6c=_0x4b0e23[_0x32cd65(0x27d)][_0x32cd65(0x199)](/:\d{1,2}@/g,'@'),_0x541e4b={..._0x4b0e23,'remoteJid':_0x5a6e6c,'status':_0x19fe38,'datetime':_0x50bf70,'owner':this['instance'][_0x32cd65(0x278)]};this[_0x32cd65(0x45f)](_0x32cd65(0x577),_0x541e4b),await this[_0x32cd65(0x750)](_0x4b0e23,_0x541e4b);}}},'labels.association':async({type:_0x22ab7d,association:_0x27da05})=>{const _0x223cb6=_0x363c3d;if(_0x27da05[_0x223cb6(0x715)]===_0x223cb6(0x2d4)){let _0x19b580,_0x3095ae=0x0;for(;!_0x19b580&&_0x3095ae<this[_0x223cb6(0x514)];)_0x19b580=await this[_0x223cb6(0x1aa)][_0x223cb6(0x277)]['findOne']({'where':{'_id':_0x27da05[_0x223cb6(0x2dc)]}},this[_0x223cb6(0x635)][_0x223cb6(0x278)]),_0x19b580||(_0x3095ae++,console['log'](_0x223cb6(0x464)+_0x27da05[_0x223cb6(0x2dc)]+_0x223cb6(0x313)+this[_0x223cb6(0x156)]+_0x223cb6(0x266)+_0x3095ae+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x223cb6(0x285)](this[_0x223cb6(0x156)]));if(!_0x19b580){console[_0x223cb6(0x430)](_0x223cb6(0x16e)+_0x27da05['chatId']+_0x223cb6(0x6a2)+this[_0x223cb6(0x514)]+_0x223cb6(0x499));return;}switch(_0x22ab7d){case _0x223cb6(0x18c):console[_0x223cb6(0x21f)](_0x27da05),await this[_0x223cb6(0x1aa)][_0x223cb6(0x277)][_0x223cb6(0x6f4)]({'where':{'_id':_0x27da05[_0x223cb6(0x2dc)]}},{'leadInfo.etiquetas':_0x27da05[_0x223cb6(0x1e5)]},this[_0x223cb6(0x635)][_0x223cb6(0x278)],void 0x0,_0x223cb6(0x75d));break;case _0x223cb6(0x406):console[_0x223cb6(0x21f)](_0x27da05),await this[_0x223cb6(0x1aa)][_0x223cb6(0x277)][_0x223cb6(0x6f4)]({'where':{'_id':_0x27da05[_0x223cb6(0x2dc)]}},{'leadInfo.etiquetas':_0x27da05[_0x223cb6(0x1e5)]},this['instance'][_0x223cb6(0x278)],void 0x0,_0x223cb6(0x5d5));break;default:console['error'](_0x223cb6(0x144)+_0x22ab7d+']');}}},'labels.edit':async _0x69c3dd=>{const _0x322b5a=_0x363c3d;if(!_0x69c3dd||!_0x69c3dd['id']){console[_0x322b5a(0x430)](_0x322b5a(0x5c0));return;}if(!_0x69c3dd[_0x322b5a(0x493)]){let _0x2f1b56=[_0x322b5a(0x68c),_0x322b5a(0x70a),_0x322b5a(0x57a),_0x322b5a(0x455),'#9ab6c1',_0x322b5a(0x17a),_0x322b5a(0x1a6),_0x322b5a(0x3de),'#6f7bcf',_0x322b5a(0x55a),_0x322b5a(0x217),_0x322b5a(0x6ce),_0x322b5a(0x6ab),_0x322b5a(0x525),'#00a1f2',_0x322b5a(0x30d),_0x322b5a(0x5d8),_0x322b5a(0x595),_0x322b5a(0x317),_0x322b5a(0x1c9)],_0x2a82b6;typeof _0x69c3dd[_0x322b5a(0x5ff)]=='number'&&_0x69c3dd[_0x322b5a(0x5ff)]>=0x0&&_0x69c3dd[_0x322b5a(0x5ff)]<_0x2f1b56[_0x322b5a(0x736)]?_0x2a82b6=_0x2f1b56[_0x69c3dd[_0x322b5a(0x5ff)]]:(console[_0x322b5a(0x430)](_0x322b5a(0x522),_0x69c3dd[_0x322b5a(0x5ff)]),_0x2a82b6=_0x322b5a(0x37f));let _0x5dd9c7={'_id':_0x69c3dd['id'],'colorHex':_0x2a82b6,'color':_0x69c3dd?.[_0x322b5a(0x5ff)],'name':_0x69c3dd?.[_0x322b5a(0x62f)],'owner':this[_0x322b5a(0x635)]['wuid']};await this[_0x322b5a(0x1aa)][_0x322b5a(0x506)][_0x322b5a(0x6f4)]({'where':{'_id':_0x69c3dd['id']}},_0x5dd9c7,this[_0x322b5a(0x635)][_0x322b5a(0x278)]),console[_0x322b5a(0x21f)](_0x322b5a(0x31d),_0x69c3dd);}_0x69c3dd[_0x322b5a(0x493)]&&(await this[_0x322b5a(0x1aa)][_0x322b5a(0x506)]['delete']({'where':{'_id':_0x69c3dd['id']}},this[_0x322b5a(0x635)][_0x322b5a(0x278)]),console[_0x322b5a(0x21f)]('Rótulo\x20deletado:',_0x69c3dd['id']));}},this[_0x363c3d(0x6f5)]={'groups.upsert':_0x3526ff=>{const _0x524483=_0x363c3d;this[_0x524483(0x45f)](_0x524483(0x5a0),_0x3526ff);},'groups.update':_0x1b2d77=>{const _0x95c41b=_0x363c3d;this[_0x95c41b(0x45f)](_0x95c41b(0x61c),_0x1b2d77);},'group-participants.update':_0x546aba=>{const _0x1e9504=_0x363c3d;this[_0x1e9504(0x45f)](_0x1e9504(0x75b),_0x546aba);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x363c3d(0x156)]=0x7d0,this[_0x363c3d(0x79a)]=async _0x5075d4=>{const _0x45b60d=_0x363c3d;if(_0x5075d4['message']?.['pollUpdateMessage']){let _0x3d0f4b=await this[_0x45b60d(0x729)](_0x5075d4[_0x45b60d(0x20e)][_0x45b60d(0x438)][_0x45b60d(0x66a)],!0x0);if(_0x3d0f4b){let _0x344e97=_0x3d0f4b[_0x45b60d(0x326)][_0x45b60d(0x63e)]?this[_0x45b60d(0x635)][_0x45b60d(0x278)]+'@s.whatsapp.net':_0x3d0f4b['key'][_0x45b60d(0x599)]||_0x3d0f4b[_0x45b60d(0x326)][_0x45b60d(0x27d)],_0x3fff7a=_0x3d0f4b[_0x45b60d(0x326)]['id'],_0x556bc4=_0x3d0f4b[_0x45b60d(0x20e)],_0x378557=Buffer[_0x45b60d(0x519)](_0x556bc4['messageContextInfo'][_0x45b60d(0x1c0)][_0x45b60d(0x4ff)](_0x45b60d(0x754)),_0x45b60d(0x754)),_0x5ce6bd=(0x0,y[_0x45b60d(0x49f)])(_0x5075d4[_0x45b60d(0x20e)][_0x45b60d(0x438)][_0x45b60d(0x646)],{'pollCreatorJid':_0x344e97,'pollMsgId':_0x3fff7a,'pollEncKey':_0x378557,'voterJid':_0x5075d4[_0x45b60d(0x326)][_0x45b60d(0x63e)]?this[_0x45b60d(0x635)][_0x45b60d(0x278)]+_0x45b60d(0x708):_0x5075d4[_0x45b60d(0x326)][_0x45b60d(0x27d)][_0x45b60d(0x5d0)](_0x45b60d(0x2c1))?_0x5075d4[_0x45b60d(0x326)][_0x45b60d(0x599)]:_0x5075d4[_0x45b60d(0x326)][_0x45b60d(0x27d)]}),_0x46b5a8=[],_0x505a71=_0x5ce6bd[_0x45b60d(0x1ca)][_0x45b60d(0x716)](_0x53be19=>Buffer[_0x45b60d(0x519)](_0x53be19)[_0x45b60d(0x4ff)](_0x45b60d(0x754)));for(let {optionName:_0x3d8203}of _0x556bc4['pollCreationMessage']?.[_0x45b60d(0x3ce)]||_0x556bc4[_0x45b60d(0x5df)]?.[_0x45b60d(0x3ce)]||_0x556bc4[_0x45b60d(0x671)]?.['options'])_0x505a71[_0x45b60d(0x3af)]((0x0,y['sha256'])(Buffer[_0x45b60d(0x519)](_0x3d8203))['toString'](_0x45b60d(0x754)))>-0x1&&_0x46b5a8[_0x45b60d(0x4fd)](_0x3d8203);return _0x46b5a8;}}return null;},this[_0x363c3d(0x336)]=(_0x23b7dc,_0x1fd8df,_0xdc0150)=>{const _0x2e448d=_0x363c3d;try{let _0x586704=_0x1fd8df?_0x23b7dc[_0x1fd8df]:void 0x0,_0x58c39f={},_0x27109c=null,_0x168619=null,_0x473cc6=null;if(_0x23b7dc[_0x2e448d(0x3f8)]?(_0x1fd8df=$(_0x23b7dc[_0x2e448d(0x3f8)][_0x2e448d(0x20e)]),_0x586704=_0x23b7dc[_0x2e448d(0x3f8)][_0x2e448d(0x20e)][_0x1fd8df]):_0x23b7dc[_0x2e448d(0x74a)]?(_0x1fd8df=$(_0x23b7dc['viewOnceMessageV2Extension'][_0x2e448d(0x20e)]),_0x586704=_0x23b7dc[_0x2e448d(0x74a)]['message'][_0x1fd8df]):_0x23b7dc[_0x2e448d(0x675)]?(_0x1fd8df=$(_0x23b7dc['viewOnceMessage'][_0x2e448d(0x20e)]),_0x586704=_0x23b7dc[_0x2e448d(0x675)][_0x2e448d(0x20e)][_0x1fd8df]):_0x23b7dc[_0x2e448d(0x374)]?(_0x1fd8df=$(_0x23b7dc[_0x2e448d(0x20e)]['ephemeralMessage']['message']),_0x586704=_0x23b7dc[_0x2e448d(0x20e)][_0x2e448d(0x374)][_0x2e448d(0x20e)][_0x1fd8df]):_0x23b7dc[_0x2e448d(0x289)]?.[_0x2e448d(0x20e)]?.[_0x2e448d(0x510)]?.[_0x2e448d(0x289)]?(_0x1fd8df=$(_0x23b7dc[_0x2e448d(0x289)]['message'][_0x2e448d(0x510)][_0x2e448d(0x289)]),_0x27109c=_0x23b7dc['editedMessage'][_0x2e448d(0x20e)]['protocolMessage'][_0x2e448d(0x326)]['id'],_0x586704=_0x23b7dc[_0x2e448d(0x289)][_0x2e448d(0x20e)][_0x2e448d(0x510)]['editedMessage'][_0x1fd8df]):_0x586704=_0x23b7dc[_0x1fd8df],!_0x1fd8df||!_0x586704)return console[_0x2e448d(0x430)](_0x2e448d(0x4d1),_0x23b7dc),{'messageType':_0x1fd8df,'messageContent':_0x586704,'message_normalized':{}};_0x23b7dc[_0x1fd8df]?.[_0x2e448d(0x15b)]?.[_0x2e448d(0x565)]&&_0x23b7dc[_0x1fd8df]?.[_0x2e448d(0x15b)]?.[_0x2e448d(0x60e)]&&(_0x168619=_0x23b7dc[_0x1fd8df][_0x2e448d(0x15b)][_0x2e448d(0x565)]),_0x23b7dc[_0x2e448d(0x5e2)]&&(_0x473cc6=_0x23b7dc[_0x2e448d(0x5e2)][_0x2e448d(0x326)]['id']);let _0x5e8d4a;if(_0x586704&&typeof _0x586704==_0x2e448d(0x5c2)&&_0x2e448d(0x66a)in _0x586704&&({pollCreationMessageKey:_0x5e8d4a}=_0x586704),_0x1fd8df===_0x2e448d(0x5e8)){let _0x255408=_0x586704?.[_0x2e448d(0x20e)]?.[_0x2e448d(0x2d3)];_0x255408&&(_0x586704=_0x255408);}if(_0x1fd8df==='pollCreationMessage'||_0x1fd8df===_0x2e448d(0x671)||_0x1fd8df===_0x2e448d(0x5df)){let _0x3e3ac7=_0x586704[_0x2e448d(0x3ce)][_0x2e448d(0x716)](_0xea000e=>_0xea000e[_0x2e448d(0x70e)])['join']('|');_0x58c39f[_0x2e448d(0x38d)]=_0x3e3ac7;}let _0x31e312=_0x586704[_0x2e448d(0x62f)]||_0x586704[_0x2e448d(0x21c)]||_0x586704['conversation']||_0x586704[_0x2e448d(0x2f5)];if(_0x1fd8df===_0x2e448d(0x6a7)){_0x31e312=(_0x586704[_0x2e448d(0x1e7)]||'')+'\x0a'+(_0x586704[_0x2e448d(0x472)]||'')+'\x0a'+(_0x586704[_0x2e448d(0x53a)]||'');let _0x2f76ef=this[_0x2e448d(0x2af)](_0x586704[_0x2e448d(0x507)]);_0x58c39f[_0x2e448d(0x38d)]=_0x2f76ef;}if(_0x1fd8df===_0x2e448d(0x6f6)&&(_0xdc0150=_0x586704[_0x2e448d(0x1e7)]),_0x586704['vcard']){let _0x53d974=this[_0x2e448d(0x725)](JSON[_0x2e448d(0x291)](_0x586704[_0x2e448d(0x14c)],null,0x2));_0x31e312=_0x31e312+'\x0a'+_0x53d974;}if(_0x586704){let {sections:_0x537613,listType:_0x1789bf,displayName:_0x2830ae,vcard:_0x55908a,contactVcard:_0x5da6dc,name:_0x2d9681,caption:_0x681cab,conversation:_0x3f8d58,pollCreationMessageKey:_0x1f9139,footerText:_0x3e30fc,contentText:_0x4b784b,pageCount:_0x547ae5,headerType:_0x28182e,isAvatar:_0x29c4fc,isAnimated:_0xe733ee,fallbackLc:_0x17b91e,fallbackLg:_0x57f5e5,namespace:_0x4bd258,elementName:_0xb2b968,localizableParams:_0x5cde75,viewOnce:_0x47707f,height:_0x3a796d,width:_0x6b8b1b,key:_0x5ed86c,firstScanLength:_0x359019,firstScanSidecar:_0x28b4ad,gifPlayback:_0xcaf1d5,gifAttribution:_0x8f75ba,midQualityFileSha256:_0x32b6af,scansSidecar:_0x4f93be,streamingSidecar:_0x1de57e,thumbnailHeight:_0x53e32f,thumbnailWidth:_0x2ea333,thumbnailEncSha256:_0x100e0e,thumbnailDirectPath:_0x5bf6d1,canonicalUrl:_0x2f83a3,matchedText:_0x4a72fe,previewType:_0x467dab,thumbnailSha256:_0xf0c658,deviceListMetadataVersion:_0x2aa443,inviteLinkGroupTypeV2:_0x594d68,interactiveAnnotations:_0x37b42f,scanLengths:_0x2bcdea,jpegThumbnail:_0x2bf42c,url:_0x26776a,mediaKeyTimestamp:_0xeca13f,waveform:_0x1f248f,stickerSentTs:_0x24129b,firstFrameLength:_0xe3ad4d,fileEncSha256:_0x2a2686,contextInfo:_0x365d73,firstFrameSidecar:_0x5f463d,directPath:_0x38dde7,fileSha256:_0x577a66,mediaKey:_0x14593,senderTimestampMs:_0x21fbe9,..._0x266e43}=_0x586704;(_0x1fd8df===_0x2e448d(0x6a7)||_0x1fd8df===_0x2e448d(0x6f6))&&(delete _0x266e43[_0x2e448d(0x1e7)],delete _0x266e43[_0x2e448d(0x472)]),typeof _0x586704==_0x2e448d(0x467)?_0x58c39f={'text':_0x586704,'type':_0x1fd8df||_0x2e448d(0x418),..._0x27109c&&{'edited':_0x27109c},..._0x168619&&{'quoted':_0x168619},..._0x473cc6&&{'reaction':_0x473cc6}}:_0x58c39f={'text':_0x31e312,..._0x266e43,..._0x1fd8df==='pollUpdateMessage'?{'poll_id':_0x586704['pollCreationMessageKey']['id'],'quoted':_0x586704[_0x2e448d(0x66a)]['id'],'vote':_0xdc0150}:{},..._0x1fd8df===_0x2e448d(0x6f6)?{'vote':_0xdc0150}:{},'type':_0x1fd8df,..._0x27109c&&{'edited':_0x27109c},..._0x168619&&{'quoted':_0x168619},..._0x473cc6&&{'reaction':_0x473cc6},...(_0x1fd8df===_0x2e448d(0x75f)||_0x1fd8df==='pollCreationMessageV2'||_0x1fd8df===_0x2e448d(0x5df)||_0x1fd8df==='listMessage')&&{'convertedOptions':_0x58c39f['convertedOptions']}};}return{'messageType':_0x1fd8df,'messageContent':_0x586704,'message_normalized':_0x58c39f};}catch(_0x79722e){return console[_0x2e448d(0x430)](_0x2e448d(0x5d3),_0x79722e),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x363c3d(0x6e0)]=null,this[_0x363c3d(0x654)]=0x0,this[_0x363c3d(0x4ac)]=null,(this[_0x363c3d(0x43f)](),this[_0x363c3d(0x635)][_0x363c3d(0x6b4)]={'count':0x0});}set[a0_0xe3fdb8(0x413)](_0x159c12){const _0x46dc82=a0_0xe3fdb8;if(!_0x159c12){this[_0x46dc82(0x635)][_0x46dc82(0x62f)]=(0x0,yo['v4'])();return;}this[_0x46dc82(0x635)]['name']=_0x159c12,this['sendDataWebhook']('status.instance',{'instance':this[_0x46dc82(0x635)][_0x46dc82(0x62f)],'status':_0x46dc82(0x369)});}get[a0_0xe3fdb8(0x413)](){const _0x3eaf18=a0_0xe3fdb8;return this['instance'][_0x3eaf18(0x62f)];}get[a0_0xe3fdb8(0x278)](){const _0xc724c9=a0_0xe3fdb8;return this[_0xc724c9(0x635)][_0xc724c9(0x278)];}async[a0_0xe3fdb8(0x50f)](){const _0x25799a=a0_0xe3fdb8;let _0x69ca43=this[_0x25799a(0x5b2)][_0x25799a(0x43d)]?.[_0x25799a(0x62f)]??this[_0x25799a(0x5b2)][_0x25799a(0x43d)]?.[_0x25799a(0x4fe)];if(!_0x69ca43){if(this[_0x25799a(0x5f2)][_0x25799a(0x221)](_0x25799a(0x72c))['ENABLED']){let _0x5b71eb=await N[_0x25799a(0x76b)]()['db'](this[_0x25799a(0x5f2)][_0x25799a(0x221)](_0x25799a(0x72c))[_0x25799a(0x38a)][_0x25799a(0x5a7)]+_0x25799a(0x66d))[_0x25799a(0x28e)](this['instanceName'])['findOne']({'_id':_0x25799a(0x5ee)});if(_0x5b71eb){let _0xd1bfde=JSON[_0x25799a(0x371)](JSON[_0x25799a(0x291)](_0x5b71eb),y['BufferJSON'][_0x25799a(0x146)]);_0x69ca43=_0xd1bfde['me']?.[_0x25799a(0x62f)]||_0xd1bfde['me']?.[_0x25799a(0x4fe)];}}else{if((0x0,ve[_0x25799a(0x2db)])((0x0,F[_0x25799a(0x483)])(ge,this['instanceName'],_0x25799a(0x503)))){let _0x2b4ca6=JSON[_0x25799a(0x371)]((0x0,ve[_0x25799a(0x3f2)])((0x0,F[_0x25799a(0x483)])(ge,this[_0x25799a(0x413)],_0x25799a(0x503)),{'encoding':_0x25799a(0x1ec)}));_0x69ca43=_0x2b4ca6['me']?.[_0x25799a(0x62f)]||_0x2b4ca6['me']?.[_0x25799a(0x4fe)];}}}return _0x69ca43;}get[a0_0xe3fdb8(0x2c3)](){const _0x35cb8c=a0_0xe3fdb8;return this[_0x35cb8c(0x635)]['profilePictureUrl'];}get[a0_0xe3fdb8(0x5e9)](){const _0x30067b=a0_0xe3fdb8;return{'pairingCode':this['instance'][_0x30067b(0x6b4)]?.[_0x30067b(0x787)],'code':this[_0x30067b(0x635)][_0x30067b(0x6b4)]?.[_0x30067b(0x63a)],'base64':this[_0x30067b(0x635)][_0x30067b(0x6b4)]?.['base64']};}async[a0_0xe3fdb8(0x471)](){const _0x1fbdfd=a0_0xe3fdb8;let _0x1352c4=await this['repository'][_0x1fbdfd(0x38f)][_0x1fbdfd(0x579)](this['instanceName']);this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x5e3)]=_0x1352c4?.[_0x1fbdfd(0x5e3)],this['localWebhook'][_0x1fbdfd(0x3e1)]=_0x1352c4?.[_0x1fbdfd(0x3e1)],this['localWebhook']['local_map']=_0x1352c4?.['local_map'],this[_0x1fbdfd(0x5ab)]['STATUS_INSTANCE']=_0x1352c4?.[_0x1fbdfd(0x71c)],this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x49a)]=_0x1352c4?.[_0x1fbdfd(0x49a)],this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x40d)]=_0x1352c4?.['SEND_MESSAGE'],this['localWebhook']['MESSAGES_UPSERT']=_0x1352c4?.[_0x1fbdfd(0x1f5)],this[_0x1fbdfd(0x5ab)]['MESSAGES_UPDATE']=_0x1352c4?.['MESSAGES_UPDATE'],this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x184)]=_0x1352c4?.[_0x1fbdfd(0x184)],this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x316)]=_0x1352c4?.['GROUPS_UPDATE'],this[_0x1fbdfd(0x5ab)]['GROUP_PARTICIPANTS_UPDATE']=_0x1352c4?.[_0x1fbdfd(0x3c8)],this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x603)]=_0x1352c4?.[_0x1fbdfd(0x603)],this['localWebhook'][_0x1fbdfd(0x3d8)]=_0x1352c4?.[_0x1fbdfd(0x3d8)],this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x766)]=_0x1352c4?.['CHATS_UPDATE'],this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x6de)]=_0x1352c4?.[_0x1fbdfd(0x6de)],this[_0x1fbdfd(0x5ab)]['CONTACTS_SET']=_0x1352c4?.['CONTACTS_SET'],this[_0x1fbdfd(0x5ab)]['CONTACTS_UPSERT']=_0x1352c4?.[_0x1fbdfd(0x568)],this['localWebhook']['CONTACTS_UPDATE']=_0x1352c4?.['CONTACTS_UPDATE'],this['localWebhook'][_0x1fbdfd(0x65c)]=_0x1352c4?.['PRESENCE_UPDATE'],this[_0x1fbdfd(0x5ab)]['MESSAGES_SET']=_0x1352c4?.[_0x1fbdfd(0x46b)],this[_0x1fbdfd(0x5ab)][_0x1fbdfd(0x6b7)]=_0x1352c4?.[_0x1fbdfd(0x6b7)],this['localWebhook'][_0x1fbdfd(0x360)]=_0x1352c4?.['groups_ignore'];}async[a0_0xe3fdb8(0x600)](_0x550742){const _0x489d6a=a0_0xe3fdb8;let _0x581f0d=[_0x489d6a(0x1ff),_0x489d6a(0x5e3),_0x489d6a(0x3e1),_0x489d6a(0x60a),_0x489d6a(0x71c),_0x489d6a(0x49a),_0x489d6a(0x2a1),_0x489d6a(0x1f5),_0x489d6a(0x40d),'GROUPS_UPSERT',_0x489d6a(0x316),_0x489d6a(0x3c8),_0x489d6a(0x603),_0x489d6a(0x3d8),_0x489d6a(0x766),_0x489d6a(0x6de),_0x489d6a(0x606),'CONTACTS_UPSERT','CONTACTS_UPDATE','PRESENCE_UPDATE',_0x489d6a(0x46b),_0x489d6a(0x6b7),_0x489d6a(0x360)],_0x263cf8={};return _0x581f0d[_0x489d6a(0x261)](_0x4a7c01=>{_0x550742[_0x4a7c01]!==void 0x0&&(_0x263cf8[_0x4a7c01]=_0x550742[_0x4a7c01]);}),await this['repository'][_0x489d6a(0x38f)][_0x489d6a(0x751)](_0x263cf8,this[_0x489d6a(0x413)]),Object['assign'](this[_0x489d6a(0x5ab)],_0x263cf8),await this[_0x489d6a(0x1aa)][_0x489d6a(0x38f)][_0x489d6a(0x579)](this[_0x489d6a(0x413)]);}async[a0_0xe3fdb8(0x4dc)](){const _0x350ccc=a0_0xe3fdb8;return await this[_0x350ccc(0x1aa)][_0x350ccc(0x38f)][_0x350ccc(0x579)](this[_0x350ccc(0x413)]);}async[a0_0xe3fdb8(0x45f)](_0x3b8708,_0x13b2bd){const _0x20c168=a0_0xe3fdb8;let _0x2b9b6f=_0x3b8708[_0x20c168(0x199)](/[\.-]/gm,'_')[_0x20c168(0x408)](),_0x431a89=this['localWebhook'][_0x20c168(0x3e1)]&&(0x0,k['isURL'])(this[_0x20c168(0x5ab)][_0x20c168(0x5e3)])?this['localWebhook']['url']+(this[_0x20c168(0x5ab)][_0x20c168(0x60a)]?this[_0x20c168(0x676)][_0x3b8708]:''):null,_0x243e67=this[_0x20c168(0x5ab)][_0x2b9b6f],_0x4c14d9=re&&re[_0x20c168(0x3e1)]&&(0x0,k[_0x20c168(0x3d1)])(re[_0x20c168(0x5e3)])?re[_0x20c168(0x5e3)]+(re['local_map']?this['webhookMap'][_0x3b8708]:''):null,_0x128252=re?re[_0x2b9b6f]:null;if(_0x243e67&&_0x431a89)try{await se[_0x20c168(0x3bb)][_0x20c168(0x751)]({'baseURL':_0x431a89})[_0x20c168(0x333)]('',{'event':_0x3b8708,'instance':this[_0x20c168(0x635)][_0x20c168(0x62f)],'data':_0x13b2bd}),this[_0x20c168(0x2e0)][_0x20c168(0x21f)](_0x20c168(0x61d)+_0x3b8708+':\x20'+_0x431a89);}catch(_0x6c163b){this[_0x20c168(0x2e0)][_0x20c168(0x430)](this['instanceName']+'\x20('+this['instance'][_0x20c168(0x278)]+'):\x20'+{'local':c[_0x20c168(0x62f)]+_0x20c168(0x516),'message':_0x6c163b?.[_0x20c168(0x20e)],'hostName':_0x6c163b?.['hostname'],'syscall':_0x6c163b?.[_0x20c168(0x1b9)],'code':_0x6c163b?.[_0x20c168(0x63a)],'error':_0x6c163b?.['errno'],'stack':_0x6c163b?.[_0x20c168(0x344)],'name':_0x6c163b?.['name']});}if(_0x128252&&_0x4c14d9)try{await se[_0x20c168(0x3bb)][_0x20c168(0x751)]({'baseURL':_0x4c14d9})[_0x20c168(0x333)]('',{'event':_0x3b8708,'instance':this['instance'][_0x20c168(0x62f)],'data':_0x13b2bd}),this[_0x20c168(0x2e0)]['log'](_0x20c168(0x79b)+_0x3b8708+':\x20'+_0x4c14d9);}catch(_0x3debc6){this[_0x20c168(0x2e0)]['error'](this[_0x20c168(0x413)]+'\x20('+this[_0x20c168(0x635)][_0x20c168(0x278)]+'):\x20'+{'local':c[_0x20c168(0x62f)]+_0x20c168(0x586),'message':_0x3debc6?.[_0x20c168(0x20e)],'hostName':_0x3debc6?.['hostname'],'syscall':_0x3debc6?.[_0x20c168(0x1b9)],'code':_0x3debc6?.['code'],'error':_0x3debc6?.[_0x20c168(0x501)],'stack':_0x3debc6?.['stack'],'name':_0x3debc6?.[_0x20c168(0x62f)]});}}async[a0_0xe3fdb8(0x198)]({qr:_0x50d08d,connection:_0x355f6b,lastDisconnect:_0x4a248f}){const _0x567590=a0_0xe3fdb8;if(_0x50d08d){if(this[_0x567590(0x635)][_0x567590(0x6b4)][_0x567590(0x327)]===gr)return this[_0x567590(0x45f)]('qrcode.updated',{'message':_0x567590(0x270),'statusCode':y[_0x567590(0x5bb)][_0x567590(0x738)]}),this['stateConnection']={'state':_0x567590(0x1e8),'statusReason':y[_0x567590(0x5bb)][_0x567590(0x3b0)]},this['sendDataWebhook'](_0x567590(0x212),{'instance':this[_0x567590(0x635)][_0x567590(0x62f)],...this[_0x567590(0x181)]}),this['sendDataWebhook'](_0x567590(0x494),{'instance':this[_0x567590(0x635)][_0x567590(0x62f)],'status':_0x567590(0x229)}),this[_0x567590(0x1aa)][_0x567590(0x439)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x567590(0x635)][_0x567590(0x62f)]),this[_0x567590(0x692)]=!0x0,this['eventEmitter']['emit']('no.connection',this[_0x567590(0x635)]['name']);this[_0x567590(0x635)][_0x567590(0x6b4)][_0x567590(0x327)]++;let _0x3cabbf={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x567590(0x183),'dark':'#000000'}};bo[_0x567590(0x3bb)][_0x567590(0x490)](_0x50d08d,_0x3cabbf,(_0x3d51b5,_0x26ab89)=>{const _0x79b6c=_0x567590;if(_0x3d51b5){this['logger'][_0x79b6c(0x430)](this['instanceName']+'\x20('+this[_0x79b6c(0x635)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x3d51b5 instanceof Error?_0x3d51b5[_0x79b6c(0x20e)]:JSON[_0x79b6c(0x291)](_0x3d51b5,null,0x2)));return;}this[_0x79b6c(0x635)][_0x79b6c(0x6b4)]['base64']=_0x26ab89,this[_0x79b6c(0x635)][_0x79b6c(0x6b4)][_0x79b6c(0x63a)]=_0x50d08d,this[_0x79b6c(0x45f)](_0x79b6c(0x1c3),{'qrcode':{'instance':this['instance'][_0x79b6c(0x62f)],'pairingCode':this[_0x79b6c(0x635)]['qrcode']['pairingCode'],'code':_0x50d08d,'base64':_0x26ab89}});}),this[_0x567590(0x51a)]?this[_0x567590(0x635)][_0x567590(0x6b4)][_0x567590(0x787)]=await this[_0x567590(0x5b2)]['requestPairingCode'](this[_0x567590(0x51a)]):this[_0x567590(0x635)][_0x567590(0x6b4)]['pairingCode']=null,So['default'][_0x567590(0x591)](_0x50d08d,{'small':!0x0},_0x4273cb=>this[_0x567590(0x2e0)]['log'](_0x567590(0x35a)+this[_0x567590(0x635)]['name']+_0x567590(0x305)+this[_0x567590(0x635)][_0x567590(0x6b4)][_0x567590(0x327)]+_0x567590(0x63d)+this[_0x567590(0x635)][_0x567590(0x6b4)][_0x567590(0x787)]+'\x20}\x0a'+_0x4273cb));}if(_0x355f6b&&(this['stateConnection']={'state':_0x355f6b,'statusReason':_0x4a248f?.[_0x567590(0x430)]?.[_0x567590(0x4f3)]?.[_0x567590(0x50b)]??0xc8},this[_0x567590(0x45f)](_0x567590(0x212),{'instance':this[_0x567590(0x635)]['name'],...this[_0x567590(0x181)]})),_0x355f6b==='close'){if(this[_0x567590(0x71e)]++,this[_0x567590(0x376)][_0x567590(0x4fd)](Date[_0x567590(0x1d1)]()),this[_0x567590(0x376)]=this['reconnectTimestamps']['filter'](_0x36b314=>Date[_0x567590(0x1d1)]()-_0x36b314<this[_0x567590(0x357)]),_0x4a248f['error']?.[_0x567590(0x4f3)]?.[_0x567590(0x50b)]!==y[_0x567590(0x5bb)]['loggedOut']&&this[_0x567590(0x376)][_0x567590(0x736)]<=this[_0x567590(0x251)])console[_0x567590(0x21f)](this['instanceName']+_0x567590(0x2cb)+this['reconnectAttempts']+'/'+this[_0x567590(0x251)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x567590(0x21f)]('Tentando\x20reconectar...'),await this[_0x567590(0x53b)]();else{this[_0x567590(0x45f)](_0x567590(0x494),{'instance':this[_0x567590(0x635)][_0x567590(0x62f)],'status':'removed'}),this[_0x567590(0x5fb)]=!0x1,this[_0x567590(0x1aa)][_0x567590(0x38f)][_0x567590(0x75e)](this['instanceName']),this[_0x567590(0x1aa)]['auth'][_0x567590(0x751)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x567590(0x635)][_0x567590(0x62f)]);try{this[_0x567590(0x2e0)][_0x567590(0x2b1)](this['instanceName']+'\x20('+this[_0x567590(0x635)][_0x567590(0x278)]+_0x567590(0x6d3));let _0xee0fad=await this[_0x567590(0x1aa)][_0x567590(0x20e)][_0x567590(0x5e6)](this[_0x567590(0x635)][_0x567590(0x278)]);_0xee0fad['success']?this[_0x567590(0x2e0)][_0x567590(0x2b1)](this[_0x567590(0x413)]+'\x20('+this[_0x567590(0x635)][_0x567590(0x278)]+_0x567590(0x48d)):console['error'](_0x567590(0x5ad),_0xee0fad[_0x567590(0x430)]);}catch(_0x5c6143){console['error'](_0x567590(0x1f4),_0x5c6143);}this[_0x567590(0x210)]!==null&&(this['logger'][_0x567590(0x2b1)](this[_0x567590(0x413)]+'\x20('+this['instance'][_0x567590(0x278)]+_0x567590(0x462)),clearInterval(this[_0x567590(0x210)]),this[_0x567590(0x210)]=null),this[_0x567590(0x2e0)][_0x567590(0x2b1)](this[_0x567590(0x413)]+'\x20('+this[_0x567590(0x635)]['wuid']+_0x567590(0x5c5)),this[_0x567590(0x1c2)]=null,this[_0x567590(0x62a)][_0x567590(0x711)](_0x567590(0x71d),this[_0x567590(0x635)][_0x567590(0x62f)],'inner'),this[_0x567590(0x5b2)]?.['ws']?.[_0x567590(0x233)](),this['client'][_0x567590(0x1a2)](new Error(_0x567590(0x613)));}}if(_0x355f6b===_0x567590(0x389)){this[_0x567590(0x735)],this[_0x567590(0x635)][_0x567590(0x278)]=this[_0x567590(0x5b2)]['user']['id'][_0x567590(0x199)](/:\d+/,'')['replace'](_0x567590(0x708),''),this[_0x567590(0x635)][_0x567590(0x2c3)]=(await this[_0x567590(0x763)](this[_0x567590(0x635)]['wuid']+'@s.whatsapp.net'))[_0x567590(0x2c3)],this[_0x567590(0x1aa)]['auth'][_0x567590(0x751)]({'online':!0x0,'owner':this[_0x567590(0x635)]['wuid'],'lastDisconnect':null},this['instance']['name']);let _0x463f80='Número:\x20'+this['instance']['wuid'],_0x41a5e3=0x28,_0x5e38ef=Math[_0x567590(0x59c)]((_0x41a5e3-_0x463f80['length'])/0x2),_0x232ebc='\x20'[_0x567590(0x1ac)](_0x5e38ef),_0xfdf670='CONECTADO\x20À\x20UAZAPI',_0x3ece07='Instância:\x20'+this[_0x567590(0x635)][_0x567590(0x62f)],_0x4b1d11=(''+_0x232ebc+_0x463f80+_0x232ebc)['padEnd'](_0x41a5e3,'\x20'),_0x299047=(''+_0x232ebc+_0xfdf670+_0x232ebc)[_0x567590(0x1bb)](_0x41a5e3,'\x20'),_0x4e1e0d=(''+_0x232ebc+_0x3ece07+_0x232ebc)[_0x567590(0x1bb)](_0x41a5e3,'\x20'),_0x3f337e=Math[_0x567590(0x488)](_0x4b1d11[_0x567590(0x736)],_0x299047['length'],_0x4e1e0d['length']),_0x2a5e99=_0x4b1d11[_0x567590(0x1bb)](_0x3f337e,'\x20'),_0x4eb837=_0x299047[_0x567590(0x1bb)](_0x3f337e,'\x20'),_0x2335d4=_0x4e1e0d['padEnd'](_0x3f337e,'\x20');this[_0x567590(0x2e0)][_0x567590(0x4aa)]((_0x567590(0x398)+'─'[_0x567590(0x1ac)](_0x3f337e)+_0x567590(0x5e1)+_0x4eb837+_0x567590(0x4f8)+_0x2335d4+_0x567590(0x4f8)+_0x2a5e99+_0x567590(0x298)+'─'[_0x567590(0x1ac)](_0x3f337e)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x567590(0x4f4)](),this[_0x567590(0x5fb)]=!0x0;}}['resetReconnectionVariables'](){const _0x4c5516=a0_0xe3fdb8;this[_0x4c5516(0x71e)]=0x0,this[_0x4c5516(0x376)]=[];}async['getMessage'](_0x7c3c46,_0x278a95=!0x1){const _0x5198af=a0_0xe3fdb8;try{let _0x111836=await this['repository'][_0x5198af(0x20e)][_0x5198af(0x579)]({'where':{'_id':_0x7c3c46['id']}},this[_0x5198af(0x635)][_0x5198af(0x278)]);return _0x278a95?_0x111836[0x0]:_0x111836[0x0][_0x5198af(0x20e)];}catch{return{'conversation':''};}}[a0_0xe3fdb8(0x43f)](){const _0xad955e=a0_0xe3fdb8;let _0x4989c6=this[_0xad955e(0x5f2)][_0xad955e(0x221)]('STORE'),_0x37e724=this['configService'][_0xad955e(0x221)](_0xad955e(0x72c));_0x4989c6?.[_0xad955e(0x69f)]&&!_0x37e724[_0xad955e(0x74c)]&&setInterval(()=>{const _0x403624=_0xad955e;try{for(let [_0x227b9a,_0x2139fb]of Object[_0x403624(0x133)](_0x4989c6))_0x2139fb===!0x0&&(0x0,_t[_0x403624(0x70c)])(_0x403624(0x401)+(0x0,F[_0x403624(0x483)])(this[_0x403624(0x64d)],_0x227b9a[_0x403624(0x3a4)](),this[_0x403624(0x635)]['wuid'])+_0x403624(0x1ea));}catch{}},(_0x4989c6?.[_0xad955e(0x69f)]??0xe10)*0x3e8);}async[a0_0xe3fdb8(0x449)](){const _0x14f2bb=a0_0xe3fdb8;let _0x1ce9a5=this[_0x14f2bb(0x5f2)][_0x14f2bb(0x221)](_0x14f2bb(0x72c)),_0x59e7b6=this['configService'][_0x14f2bb(0x221)]('REDIS');return _0x59e7b6?.[_0x14f2bb(0x74c)]?await bs(_0x59e7b6,this[_0x14f2bb(0x635)][_0x14f2bb(0x62f)]):_0x1ce9a5[_0x14f2bb(0x74c)]?await ys(this[_0x14f2bb(0x635)]['name']):await(0x0,y['useMultiFileAuthState'])((0x0,F[_0x14f2bb(0x483)])(ge,this[_0x14f2bb(0x635)][_0x14f2bb(0x62f)]));}async[a0_0xe3fdb8(0x4f4)](){const _0x5a448b=a0_0xe3fdb8;let _0x19bc4b=()=>Math[_0x5a448b(0x59c)](Math[_0x5a448b(0x781)]()*0x2711)+0x7d0,_0x179d3c=async()=>{const _0x29d686=_0x5a448b;if(!this[_0x29d686(0x5fb)]){this[_0x29d686(0x2e0)][_0x29d686(0x2b1)](_0x29d686(0x570)),this[_0x29d686(0x132)]=!0x1;return;}if(this[_0x29d686(0x635)][_0x29d686(0x278)]&&this[_0x29d686(0x1c2)]&&this['delayMessage']!==null&&this[_0x29d686(0x210)]!==void 0x0){let _0x493b3e=Math['round'](this[_0x29d686(0x210)]/0xea60);this['logger'][_0x29d686(0x2b1)](this[_0x29d686(0x413)]+'\x20('+this['instance'][_0x29d686(0x278)]+_0x29d686(0x33e)+_0x493b3e+_0x29d686(0x6f2)),this[_0x29d686(0x132)]=!0x1;return;}else this[_0x29d686(0x635)][_0x29d686(0x278)]&&(this[_0x29d686(0x2e0)][_0x29d686(0x2b1)](this[_0x29d686(0x413)]+'\x20('+this[_0x29d686(0x635)][_0x29d686(0x278)]+_0x29d686(0x383)),this['logger']['verbose'](this[_0x29d686(0x413)]+'\x20('+this[_0x29d686(0x635)]['wuid']+'):\x20Dados\x20migrados\x20com\x20sucesso'),this['AutomateSystem']||await this[_0x29d686(0x452)](),(this[_0x29d686(0x210)]===null||this[_0x29d686(0x210)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x37a57c=_0x19bc4b();this[_0x29d686(0x2e0)][_0x29d686(0x2b1)](this[_0x29d686(0x413)]+_0x29d686(0x2fb)+_0x37a57c/0x3e8+_0x29d686(0x15f)),setTimeout(_0x179d3c,_0x37a57c);}};if(this[_0x5a448b(0x132)])return;this[_0x5a448b(0x132)]=!0x0;let _0x24b220=_0x19bc4b();setTimeout(_0x179d3c,_0x24b220);}async[a0_0xe3fdb8(0x5b4)](_0x2113f3=0x0){const _0x4bdc4e=a0_0xe3fdb8;if(!(this[_0x4bdc4e(0x5f2)]['get'](_0x4bdc4e(0x5e5))||!0x1)||_0x2113f3>=0x3)return this['logger'][_0x4bdc4e(0x292)](_0x4bdc4e(0x2ff)),this[_0x4bdc4e(0x1aa)][_0x4bdc4e(0x439)][_0x4bdc4e(0x751)]({'ip':null},this['instance']['name']),{};console[_0x4bdc4e(0x21f)](_0x4bdc4e(0x279)+(_0x2113f3+0x1)+'\x20de\x20conectar\x20com\x20proxy.');let _0x48f7ce=(await this[_0x4bdc4e(0x1aa)][_0x4bdc4e(0x439)][_0x4bdc4e(0x579)](this[_0x4bdc4e(0x413)]))['ip'],_0x126c2f=po(_0x48f7ce);if(_0x126c2f||(console[_0x4bdc4e(0x21f)](_0x4bdc4e(0x593)),_0x126c2f=ho()),console[_0x4bdc4e(0x21f)]('Configuração\x20do\x20ip:',_0x126c2f),_0x126c2f&&go(_0x126c2f)){let _0x348f34=_0x126c2f[_0x4bdc4e(0x1e9)]+_0x4bdc4e(0x319)+_0x126c2f[_0x4bdc4e(0x62e)]+':'+_0x126c2f[_0x4bdc4e(0x475)]+'@'+_0x126c2f[_0x4bdc4e(0x765)]+':'+_0x126c2f[_0x4bdc4e(0x644)];return console[_0x4bdc4e(0x21f)](_0x4bdc4e(0x38e)),console['log'](_0x348f34),await this[_0x4bdc4e(0x40e)](_0x348f34)?(console[_0x4bdc4e(0x21f)](_0x4bdc4e(0x43e)),this['repository'][_0x4bdc4e(0x439)][_0x4bdc4e(0x751)]({'ip':_0x126c2f[_0x4bdc4e(0x765)]},this[_0x4bdc4e(0x635)][_0x4bdc4e(0x62f)]),{'agent':new Dt[(_0x4bdc4e(0x4cd))](_0x348f34),'fetchAgent':new Dt[(_0x4bdc4e(0x4cd))](_0x348f34)}):(console['log'](_0x4bdc4e(0x423)),this[_0x4bdc4e(0x5b4)](_0x2113f3+0x1));}else return console[_0x4bdc4e(0x21f)]('Configuração\x20do\x20Proxy\x20inválida.\x20Tentando\x20o\x20próximo...'),this[_0x4bdc4e(0x5b4)](_0x2113f3+0x1);}async[a0_0xe3fdb8(0x40e)](_0x49d6a4){const _0x5f2c47=a0_0xe3fdb8;let _0x4ba367=new Dt[(_0x5f2c47(0x4cd))](_0x49d6a4);try{let _0x2583be=await se[_0x5f2c47(0x3bb)]['get'](_0x5f2c47(0x45d),{'httpsAgent':_0x4ba367});return console[_0x5f2c47(0x21f)](_0x5f2c47(0x136),_0x2583be[_0x5f2c47(0x382)]),!0x0;}catch{return console[_0x5f2c47(0x430)]('Erro\x20ao\x20testar\x20o\x20proxy'),!0x1;}}async[a0_0xe3fdb8(0x53b)](_0x51be05){const _0x1dd573=a0_0xe3fdb8;try{let _0x3e7d01=await this[_0x1dd573(0x5b4)]();this['loadWebhook'](),this[_0x1dd573(0x635)][_0x1dd573(0x307)]=await this[_0x1dd573(0x449)]();let {version:_0x1ce9ad}=await(0x0,y[_0x1dd573(0x4f7)])(),_0x143870=[Ms,Eo,(0x0,Ss[_0x1dd573(0x2d0)])()],_0x511537={..._0x3e7d01,'auth':{'creds':this[_0x1dd573(0x635)][_0x1dd573(0x307)]['state'][_0x1dd573(0x5ee)],'keys':(0x0,y[_0x1dd573(0x154)])(this['instance'][_0x1dd573(0x307)][_0x1dd573(0x4d0)]['keys'],(0x0,Ot[_0x1dd573(0x3bb)])({'level':_0x1dd573(0x430)}))},'logger':(0x0,Ot[_0x1dd573(0x3bb)])({'level':_0x1dd573(0x430)}),'printQRInTerminal':!0x1,'browser':_0x51be05?[_0x1dd573(0x527),Ms,(0x0,Ss[_0x1dd573(0x2d0)])()]:_0x143870,'version':_0x1ce9ad,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x1dd573(0x69a)],'getMessage':async _0x41fdfd=>await this['getMessage'](_0x41fdfd),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1dd573(0x478)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x26d3ff=>(_0x26d3ff[_0x1dd573(0x6a7)]?.['listType']==y[_0x1dd573(0x2bf)]['Message'][_0x1dd573(0x54f)][_0x1dd573(0x741)]['PRODUCT_LIST']&&(_0x26d3ff=JSON[_0x1dd573(0x371)](JSON[_0x1dd573(0x291)](_0x26d3ff)),_0x26d3ff['listMessage']['listType']=y[_0x1dd573(0x2bf)][_0x1dd573(0x3a8)][_0x1dd573(0x54f)][_0x1dd573(0x741)][_0x1dd573(0x159)]),_0x26d3ff)};return this['endSession']=!0x1,this[_0x1dd573(0x5b2)]=(0x0,y[_0x1dd573(0x3bb)])(_0x511537),this['eventHandler'](),this[_0x1dd573(0x51a)]=_0x51be05,this[_0x1dd573(0x5b2)];}catch(_0x542668){throw this[_0x1dd573(0x2e0)]['error'](this[_0x1dd573(0x413)]+'\x20('+this[_0x1dd573(0x635)][_0x1dd573(0x278)]+_0x1dd573(0x668)+(_0x542668 instanceof Error?_0x542668[_0x1dd573(0x20e)]:JSON[_0x1dd573(0x291)](_0x542668,null,0x2))),new O(_0x542668?.[_0x1dd573(0x4ff)]());}}[a0_0xe3fdb8(0x1a3)](){const _0x374502=a0_0xe3fdb8;this[_0x374502(0x5b2)]['ev'][_0x374502(0x1a1)](_0x88e075=>{const _0x2ccb05=_0x374502;if(!this[_0x2ccb05(0x692)]){let _0x292faa=this[_0x2ccb05(0x5f2)][_0x2ccb05(0x221)](_0x2ccb05(0x72c));if(_0x88e075[_0x2ccb05(0x608)]){let _0x326ddd=_0x88e075[_0x2ccb05(0x608)];this['messageHandle'][_0x2ccb05(0x608)](_0x326ddd);}if(_0x88e075[_0x2ccb05(0x403)]){let _0x29d829=_0x88e075['labels.association'];this['messageHandle'][_0x2ccb05(0x403)](_0x29d829);}if(_0x88e075[_0x2ccb05(0x212)]&&this[_0x2ccb05(0x198)](_0x88e075[_0x2ccb05(0x212)]),_0x88e075['creds.update']&&this[_0x2ccb05(0x635)][_0x2ccb05(0x307)][_0x2ccb05(0x25a)](),_0x88e075['messaging-history.set']){let _0xbc5c7e=_0x88e075['messaging-history.set'];this[_0x2ccb05(0x702)][_0x2ccb05(0x630)](_0xbc5c7e,_0x292faa);}if(_0x88e075['messages.upsert']){let _0x1b67f1=_0x88e075[_0x2ccb05(0x724)];this['messageHandle'][_0x2ccb05(0x724)](_0x1b67f1,_0x292faa);}if(_0x88e075[_0x2ccb05(0x577)]){let _0x513ed3=_0x88e075[_0x2ccb05(0x577)];_0x513ed3['forEach'](_0x4f408e=>{const _0x3bfa6c=_0x2ccb05;if(fo[_0x4f408e[_0x3bfa6c(0x326)]['id']]){this[_0x3bfa6c(0x5b2)]['ev'][_0x3bfa6c(0x711)]('messages.upsert',{'messages':[_0x4f408e],'type':_0x3bfa6c(0x175)}),delete fo[_0x4f408e[_0x3bfa6c(0x326)]['id']];return;}}),this[_0x2ccb05(0x702)][_0x2ccb05(0x577)](_0x513ed3,_0x292faa);}if(_0x88e075[_0x2ccb05(0x252)]){let _0xaf9911=_0x88e075[_0x2ccb05(0x252)];if(this[_0x2ccb05(0x5ab)]?.['groups_ignore']&&_0xaf9911['id'][_0x2ccb05(0x13f)](_0x2ccb05(0x138)))return;this['sendDataWebhook'](_0x2ccb05(0x252),_0xaf9911);}if(!this['localWebhook']?.[_0x2ccb05(0x360)]){if(_0x88e075[_0x2ccb05(0x5a0)]){let _0x531ad1=_0x88e075['groups.upsert'];this['groupHandler']['groups.upsert'](_0x531ad1);}if(_0x88e075['groups.update']){let _0x40e814=_0x88e075[_0x2ccb05(0x61c)];this[_0x2ccb05(0x6f5)][_0x2ccb05(0x61c)](_0x40e814);}if(_0x88e075[_0x2ccb05(0x75b)]){let _0x326998=_0x88e075['group-participants.update'];this[_0x2ccb05(0x6f5)]['group-participants.update'](_0x326998);}}if(_0x88e075[_0x2ccb05(0x795)]){let _0x27be2c=_0x88e075[_0x2ccb05(0x795)];this[_0x2ccb05(0x46c)][_0x2ccb05(0x795)](_0x27be2c,_0x292faa);}if(_0x88e075[_0x2ccb05(0x6ad)]){let _0x2a297c=_0x88e075['chats.update'];this[_0x2ccb05(0x46c)][_0x2ccb05(0x6ad)](_0x2a297c,_0x292faa);}if(_0x88e075[_0x2ccb05(0x609)]){let _0x4f6670=_0x88e075[_0x2ccb05(0x609)];this[_0x2ccb05(0x46c)][_0x2ccb05(0x609)](_0x4f6670);}if(_0x88e075[_0x2ccb05(0x388)]){let _0xc4abee=_0x88e075[_0x2ccb05(0x388)];this['contactHandle']['contacts.upsert'](_0xc4abee,_0x292faa);}if(_0x88e075['contacts.update']){let _0x1fcdc9=_0x88e075['contacts.update'];this[_0x2ccb05(0x5e7)]['contacts.update'](_0x1fcdc9,_0x292faa);}}});}[a0_0xe3fdb8(0x285)](_0x3f3bb1){return new Promise(_0x3dd882=>setTimeout(_0x3dd882,_0x3f3bb1));}[a0_0xe3fdb8(0x1b8)](_0x5f4129){let _0x4528df=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x5f4129);if(_0x4528df&&_0x4528df[0x1]==='55'){let _0x166fa8=_0x4528df[0x2],_0x538a4b=_0x4528df[0x3],_0x415c46=_0x4528df[0x4];if(_0x166fa8>='31'&&_0x538a4b==='9')return _0x4528df[0x1]+_0x166fa8+_0x415c46;}return _0x5f4129;}[a0_0xe3fdb8(0x27a)](_0x5e8f70){const _0x4a7b61=a0_0xe3fdb8;return _0x5e8f70['includes']('@g.us')||_0x5e8f70[_0x4a7b61(0x13f)](_0x4a7b61(0x708))||_0x5e8f70[_0x4a7b61(0x13f)](_0x4a7b61(0x6be))?_0x5e8f70:(_0x5e8f70=_0x5e8f70?.[_0x4a7b61(0x199)](/\s/g,'')['replace'](/\+/g,'')['replace'](/\(/g,'')[_0x4a7b61(0x199)](/\)/g,'')[_0x4a7b61(0x4c7)](/\:/)[0x0]['split']('@')[0x0],_0x5e8f70[_0x4a7b61(0x736)]>=0x12?(_0x5e8f70=_0x5e8f70[_0x4a7b61(0x199)](/[^\d-]/g,''),_0x5e8f70+_0x4a7b61(0x138)):(_0x5e8f70=_0x5e8f70[_0x4a7b61(0x199)](/\D/g,''),this[_0x4a7b61(0x1b8)](_0x5e8f70)+_0x4a7b61(0x708)));}async['updatePresence'](_0x52e2fa){const _0x41f390=a0_0xe3fdb8;let _0x32c749=this[_0x41f390(0x27a)](_0x52e2fa[_0x41f390(0x3d5)]),_0xe1d505=(await this[_0x41f390(0x28a)]({'numbers':[_0x32c749]}))[0x0];if(!_0xe1d505[_0x41f390(0x343)]&&!(0x0,y['isJidGroup'])(_0xe1d505[_0x41f390(0x237)]))throw new m(_0xe1d505);let _0x24b782=(0x0,y[_0x41f390(0x72b)])(_0x32c749)?_0x32c749:_0xe1d505['jid'];if((0x0,y[_0x41f390(0x72b)])(_0x24b782))try{await this[_0x41f390(0x5b2)][_0x41f390(0x638)](_0x24b782);}catch{throw new j('Group\x20not\x20found');}try{return await this[_0x41f390(0x5b2)][_0x41f390(0x6c5)](_0x24b782),await this[_0x41f390(0x5b2)][_0x41f390(0x354)](_0x52e2fa['presence'],_0x32c749),{'status':0xc8,'presence':_0x52e2fa[_0x41f390(0x46e)]};}catch(_0x31969d){throw new m(_0x31969d[_0x41f390(0x4ff)]());}}async[a0_0xe3fdb8(0x763)](_0x3dd9a7){const _0x41326c=a0_0xe3fdb8;let _0x269763=this[_0x41326c(0x27a)](_0x3dd9a7);try{return{'wuid':_0x269763,'profilePictureUrl':await this[_0x41326c(0x5b2)][_0x41326c(0x2c3)](_0x269763,_0x41326c(0x3a5))};}catch{return{'wuid':_0x269763,'profilePictureUrl':null};}}async[a0_0xe3fdb8(0x2f3)](_0x42fe05,_0x25b163,_0x13a8e1){const _0x1af87b=a0_0xe3fdb8;_0x13a8e1||(_0x13a8e1={});let _0x919875=(await this[_0x1af87b(0x28a)]({'numbers':[_0x42fe05]}))[0x0];if(!_0x919875[_0x1af87b(0x343)]&&!(0x0,y[_0x1af87b(0x72b)])(_0x919875[_0x1af87b(0x237)])&&!_0x919875['jid']['includes'](_0x1af87b(0x6be)))throw new m(_0x919875);let _0x44558a=_0x919875[_0x1af87b(0x237)];try{_0x13a8e1?.[_0x1af87b(0x245)]&&(await this['client'][_0x1af87b(0x6c5)](_0x44558a),await this[_0x1af87b(0x5b2)][_0x1af87b(0x354)](_0x13a8e1?.[_0x1af87b(0x46e)]??_0x1af87b(0x375),_0x44558a),await(0x0,y[_0x1af87b(0x245)])(_0x13a8e1[_0x1af87b(0x245)]),await this[_0x1af87b(0x5b2)][_0x1af87b(0x354)]('paused',_0x44558a));let _0x785a0b=_0x13a8e1?.[_0x1af87b(0x65d)]!=!0x1?void 0x0:!0x1,_0x2daab7;if(_0x13a8e1?.[_0x1af87b(0x56c)]){let _0x2311e0=_0x13a8e1?.['quoted'],_0x1a3221=_0x2311e0?.['message']?_0x2311e0:await this[_0x1af87b(0x729)](_0x2311e0['key'],!0x0);if(!_0x1a3221)throw _0x1af87b(0x73c);_0x2daab7=_0x1a3221;}let _0x2d24d6;if((0x0,y['isJidGroup'])(_0x44558a))try{let _0x1df18d=await this[_0x1af87b(0x5b2)][_0x1af87b(0x638)](_0x44558a);if(!_0x1df18d)throw new j(_0x1af87b(0x4f1));_0x13a8e1?.[_0x1af87b(0x34d)]&&(_0x13a8e1[_0x1af87b(0x34d)]?.[_0x1af87b(0x4ba)]?_0x2d24d6=_0x1df18d[_0x1af87b(0x197)]['map'](_0x23db37=>_0x23db37['id']):_0x13a8e1[_0x1af87b(0x34d)]?.[_0x1af87b(0x426)]?.[_0x1af87b(0x736)]&&(_0x2d24d6=_0x13a8e1['mentions'][_0x1af87b(0x426)][_0x1af87b(0x716)](_0x5d5476=>{const _0x10dbbb=_0x1af87b;let _0x533519=this[_0x10dbbb(0x27a)](_0x5d5476);return(0x0,y[_0x10dbbb(0x72b)])(_0x533519)?null:_0x533519;})));}catch{throw new j(_0x1af87b(0x4f1));}let _0x3fa5d9=await((async()=>{const _0x246451=_0x1af87b;let _0x3fb4c8={'quoted':_0x2daab7};if(!_0x25b163['audio']&&!_0x25b163[_0x246451(0x312)]&&!_0x25b163['sticker']&&!_0x25b163[_0x246451(0x418)]&&_0x44558a!=='status@broadcast'&&!_0x25b163['audio'])return await this[_0x246451(0x5b2)][_0x246451(0x659)](_0x44558a,{'forward':{'key':{'remoteJid':this[_0x246451(0x635)][_0x246451(0x278)],'fromMe':!0x0},'message':_0x25b163},'mentions':_0x2d24d6},_0x3fb4c8);if(_0x25b163[_0x246451(0x418)]){let _0x52395d=_0x25b163[_0x246451(0x418)];return _0x13a8e1?.[_0x246451(0x231)]&&(_0x52395d=await this['replaceVariablesChat'](_0x52395d,_0x44558a)),await this[_0x246451(0x5b2)][_0x246451(0x659)](_0x44558a,{'text':_0x52395d,'mentions':_0x2d24d6,'linkPreview':_0x785a0b},_0x3fb4c8);}return _0x44558a==='status@broadcast'?await this[_0x246451(0x5b2)][_0x246451(0x659)](_0x44558a,_0x25b163[_0x246451(0x299)]['content'],{'backgroundColor':_0x25b163[_0x246451(0x299)][_0x246451(0x302)][_0x246451(0x38c)],'font':_0x25b163['status'][_0x246451(0x302)]['font'],'statusJidList':_0x25b163[_0x246451(0x299)]['option'][_0x246451(0x239)]}):await this[_0x246451(0x5b2)][_0x246451(0x659)](_0x44558a,_0x25b163,_0x3fb4c8);})()),{message_normalized:_0x306aa8}=this[_0x1af87b(0x336)](_0x3fa5d9[_0x1af87b(0x20e)],$(_0x3fa5d9[_0x1af87b(0x20e)]),null),_0x3a1551={'_id':_0x3fa5d9['key']['id'],'key':_0x3fa5d9[_0x1af87b(0x326)],'pushName':_0x3fa5d9[_0x1af87b(0x27b)],'message':{..._0x3fa5d9['message']},'messageType':$(_0x3fa5d9[_0x1af87b(0x20e)]),'message_normalized':{'key':_0x3fa5d9[_0x1af87b(0x326)],'pushName':_0x3fa5d9[_0x1af87b(0x27b)],'messageTimestamp':_0x3fa5d9[_0x1af87b(0x61e)]&&_0x3fa5d9[_0x1af87b(0x61e)][_0x1af87b(0x4ff)]()['length']<0xd?_0x3fa5d9['messageTimestamp']*0x3e8:_0x3fa5d9[_0x1af87b(0x61e)]||null,'source':(0x0,y[_0x1af87b(0x5f3)])(_0x3fa5d9['key']['id']),..._0x306aa8},'messageTimestamp':_0x3fa5d9[_0x1af87b(0x61e)]&&_0x3fa5d9[_0x1af87b(0x61e)]['toString']()['length']<0xd?_0x3fa5d9['messageTimestamp']*0x3e8:_0x3fa5d9[_0x1af87b(0x61e)]||null,'owner':this['instance']['wuid'],'source':(0x0,y[_0x1af87b(0x5f3)])(_0x3fa5d9[_0x1af87b(0x326)]['id'])};return this[_0x1af87b(0x2e0)][_0x1af87b(0x21f)](_0x3a1551),this['sendDataWebhook'](_0x1af87b(0x27e),_0x3a1551),J(this[_0x1af87b(0x413)],_0x1af87b(0x143),{'message':_0x3a1551}),this[_0x1af87b(0x58a)](this[_0x1af87b(0x5f2)][_0x1af87b(0x221)](_0x1af87b(0x72c)),_0x3a1551,_0x1af87b(0x40d)),await this[_0x1af87b(0x1aa)][_0x1af87b(0x20e)][_0x1af87b(0x1f7)]([_0x3a1551],this['instance'][_0x1af87b(0x278)]),_0x3fa5d9;}catch(_0x30f5da){throw this[_0x1af87b(0x2e0)]['error'](this['instanceName']+'\x20('+this[_0x1af87b(0x635)][_0x1af87b(0x278)]+_0x1af87b(0x668)+_0x30f5da[_0x1af87b(0x4ff)]()),new m(_0x30f5da[_0x1af87b(0x4ff)]());}}get['connectionStatus'](){const _0x33f06d=a0_0xe3fdb8;return this[_0x33f06d(0x181)];}async[a0_0xe3fdb8(0x2e2)](_0x17502c){const _0x502470=a0_0xe3fdb8;let _0x47e339=mo,_0x548924=He;return _0x548924&&this[_0x502470(0x413)]['toLowerCase']()['includes'](_0x548924[_0x502470(0x3a4)]())&&(_0x17502c[_0x502470(0x2e2)][_0x502470(0x3d6)]+='\x0a\x0a'+_0x47e339),await this['sendMessageWithTyping'](_0x17502c['number'],{'conversation':_0x17502c[_0x502470(0x2e2)][_0x502470(0x3d6)]},_0x17502c?.['options']);}async['formatStatusMessage'](_0x50ca30){const _0x212f1a=a0_0xe3fdb8;if(!_0x50ca30[_0x212f1a(0x715)])throw new m(_0x212f1a(0x4a1));if(!_0x50ca30[_0x212f1a(0x234)])throw new m('Content\x20is\x20required');if(_0x50ca30['allContacts']){let _0x21f9a1=await this[_0x212f1a(0x1aa)]['contact']['find']({'where':{}},this[_0x212f1a(0x635)]['wuid']);if(!_0x21f9a1[_0x212f1a(0x736)])throw new m(_0x212f1a(0x6f0));_0x50ca30['statusJidList']=_0x21f9a1['filter'](_0x3e044b=>_0x3e044b['pushName'])[_0x212f1a(0x716)](_0x3319bb=>_0x3319bb[_0x212f1a(0x1ff)]);}if(!_0x50ca30[_0x212f1a(0x239)]?.[_0x212f1a(0x736)]&&!_0x50ca30['allContacts'])throw new m('StatusJidList\x20is\x20required');if(_0x50ca30[_0x212f1a(0x715)]===_0x212f1a(0x3d6)){if(!_0x50ca30[_0x212f1a(0x38c)])throw new m(_0x212f1a(0x78e));if(!_0x50ca30[_0x212f1a(0x721)])throw new m(_0x212f1a(0x3dc));return{'content':{'text':_0x50ca30[_0x212f1a(0x234)]},'option':{'backgroundColor':_0x50ca30['backgroundColor'],'font':_0x50ca30[_0x212f1a(0x721)],'statusJidList':_0x50ca30['statusJidList']}};}if(_0x50ca30['type']===_0x212f1a(0x3a5))return{'content':{'image':{'url':_0x50ca30[_0x212f1a(0x234)]},'caption':_0x50ca30[_0x212f1a(0x21c)]},'option':{'statusJidList':_0x50ca30[_0x212f1a(0x239)]}};if(_0x50ca30[_0x212f1a(0x715)]===_0x212f1a(0x567))return{'content':{'video':{'url':_0x50ca30[_0x212f1a(0x234)]},'caption':_0x50ca30[_0x212f1a(0x21c)]},'option':{'statusJidList':_0x50ca30['statusJidList']}};if(_0x50ca30[_0x212f1a(0x715)]==='audio'){this['logger']['verbose']('Type\x20defined\x20as\x20audio'),this['logger'][_0x212f1a(0x2b1)](_0x212f1a(0x453));let _0x2a0d66=await this[_0x212f1a(0x775)](_0x50ca30[_0x212f1a(0x234)]);if(typeof _0x2a0d66==_0x212f1a(0x467)){this[_0x212f1a(0x2e0)]['verbose'](_0x212f1a(0x67b));let _0x2d29b4=L[_0x212f1a(0x3f2)](_0x2a0d66)[_0x212f1a(0x4ff)](_0x212f1a(0x301)),_0x4fdefe={'content':{'audio':Buffer['from'](_0x2d29b4,'base64'),'ptt':!0x0,'mimetype':_0x212f1a(0x45e)},'option':{'statusJidList':_0x50ca30[_0x212f1a(0x239)]}};return L[_0x212f1a(0x546)](_0x2a0d66),_0x4fdefe;}else throw new O(_0x2a0d66);}throw new m(_0x212f1a(0x54a));}async[a0_0xe3fdb8(0x4b9)](_0x5e5595){const _0x387a48=a0_0xe3fdb8;return await this[_0x387a48(0x2f3)]('status@broadcast',{'status':await this[_0x387a48(0x3e3)](_0x5e5595['statusMessage'])});}async[a0_0xe3fdb8(0x4c2)](_0x39ee08){const _0x12fed7=a0_0xe3fdb8;try{let _0x712d8a=await(0x0,y[_0x12fed7(0x306)])({[_0x39ee08[_0x12fed7(0x703)]]:(0x0,k[_0x12fed7(0x3d1)])(_0x39ee08['media'])?{'url':_0x39ee08[_0x12fed7(0x3cf)]}:Buffer[_0x12fed7(0x519)](_0x39ee08[_0x12fed7(0x3cf)],_0x12fed7(0x301))},{'upload':this['client'][_0x12fed7(0x5cf)]}),_0x1dc61e=_0x39ee08[_0x12fed7(0x703)]+_0x12fed7(0x3a8);if(_0x39ee08['mediatype']===_0x12fed7(0x2c2)&&!_0x39ee08['fileName']){let _0x32242f=new RegExp(/.*\/(.+?)\./)[_0x12fed7(0x555)](_0x39ee08[_0x12fed7(0x3cf)]);_0x39ee08[_0x12fed7(0x581)]=_0x32242f?_0x32242f[0x1]:null;}let _0x5188eb=(0x0,k[_0x12fed7(0x3d1)])(_0x39ee08['media'])?_0x39ee08['media'][_0x12fed7(0x4c7)]('?')[0x0]:_0x39ee08[_0x12fed7(0x3cf)];this[_0x12fed7(0x2e0)][_0x12fed7(0x2b1)]('URL\x20limpa:\x20'+_0x5188eb);let _0x334b33;(0x0,k['isURL'])(_0x39ee08[_0x12fed7(0x3cf)])?_0x334b33=(0x0,It[_0x12fed7(0x1e1)])(_0x5188eb):_0x39ee08['fileName']&&_0x39ee08[_0x12fed7(0x581)][_0x12fed7(0x13f)]('.')?_0x334b33=(0x0,It[_0x12fed7(0x1e1)])(_0x39ee08[_0x12fed7(0x581)]):_0x334b33=(0x0,It[_0x12fed7(0x1e1)])(_0x39ee08[_0x12fed7(0x3cf)]);let _0xcd777b=mo,_0x4c67c4=He;return _0x4c67c4&&this['instanceName'][_0x12fed7(0x3a4)]()[_0x12fed7(0x13f)](_0x4c67c4[_0x12fed7(0x3a4)]())&&(_0x39ee08['caption']+='\x0a\x0a'+_0xcd777b),_0x712d8a[_0x1dc61e][_0x12fed7(0x21c)]=_0x39ee08?.['caption'],_0x712d8a[_0x1dc61e][_0x12fed7(0x560)]=_0x334b33,_0x712d8a[_0x1dc61e][_0x12fed7(0x581)]=_0x39ee08[_0x12fed7(0x581)],_0x39ee08[_0x12fed7(0x703)]===_0x12fed7(0x567)&&(_0x712d8a[_0x1dc61e][_0x12fed7(0x5ec)]=Uint8Array[_0x12fed7(0x519)]((0x0,ve['readFileSync'])((0x0,F[_0x12fed7(0x483)])(process[_0x12fed7(0x432)](),_0x12fed7(0x1f0)))),_0x712d8a[_0x1dc61e][_0x12fed7(0x578)]=!0x1),(0x0,y['generateWAMessageFromContent'])('',{[_0x1dc61e]:{..._0x712d8a[_0x1dc61e]}},{'userJid':this[_0x12fed7(0x635)][_0x12fed7(0x278)]});}catch(_0xdbc8bb){throw this[_0x12fed7(0x2e0)][_0x12fed7(0x430)](this[_0x12fed7(0x413)]+'\x20('+this[_0x12fed7(0x635)][_0x12fed7(0x278)]+_0x12fed7(0x668)+(_0xdbc8bb instanceof Error?_0xdbc8bb[_0x12fed7(0x20e)]:JSON[_0x12fed7(0x291)](_0xdbc8bb,null,0x2))),new O(_0xdbc8bb?.[_0x12fed7(0x4ff)]()||_0xdbc8bb);}}async[a0_0xe3fdb8(0x1bd)](_0x391979){const _0x1f81ea=a0_0xe3fdb8;let _0x2c9329=await this[_0x1f81ea(0x4c2)](_0x391979[_0x1f81ea(0x1bd)]);return await this[_0x1f81ea(0x2f3)](_0x391979[_0x1f81ea(0x3d5)],{..._0x2c9329[_0x1f81ea(0x20e)]},_0x391979?.[_0x1f81ea(0x3ce)]);}async['convertToWebP'](_0x4a308e,_0x8527a6){const _0x406c42=a0_0xe3fdb8;try{this[_0x406c42(0x2e0)][_0x406c42(0x2b1)](_0x406c42(0x707));let _0x168c76,_0x37fbb8=_0x8527a6+'-'+new Date()['getTime']();this[_0x406c42(0x2e0)]['verbose']('Hash\x20to\x20image\x20name:\x20'+_0x37fbb8);let _0x385f6a=''+(0x0,F[_0x406c42(0x483)])(this[_0x406c42(0x64d)],_0x37fbb8+'.webp');if(this['logger'][_0x406c42(0x2b1)](_0x406c42(0x66e)+_0x385f6a),(0x0,k['isBase64'])(_0x4a308e)){this['logger'][_0x406c42(0x2b1)](_0x406c42(0x35b));let _0x551f7d=_0x4a308e[_0x406c42(0x199)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x274075=Buffer['from'](_0x551f7d,_0x406c42(0x301));_0x168c76=''+(0x0,F['join'])(this[_0x406c42(0x64d)],_0x406c42(0x56f)+_0x37fbb8+_0x406c42(0x69e)),this['logger'][_0x406c42(0x2b1)]('Image\x20path:\x20'+_0x168c76),await(0x0,xt['default'])(_0x274075)['toFile'](_0x168c76),this[_0x406c42(0x2e0)][_0x406c42(0x2b1)]('Image\x20created');}else{this['logger'][_0x406c42(0x2b1)]('Image\x20is\x20url');let _0x166c48=new Date()[_0x406c42(0x5e4)](),_0x11240a=_0x4a308e+_0x406c42(0x24f)+_0x166c48;this[_0x406c42(0x2e0)][_0x406c42(0x2b1)](_0x406c42(0x686)+_0x11240a);let _0x8c094e=await se[_0x406c42(0x3bb)][_0x406c42(0x221)](_0x11240a,{'responseType':_0x406c42(0x6c6)});this['logger'][_0x406c42(0x2b1)](_0x406c42(0x364));let _0x1e40f6=Buffer[_0x406c42(0x519)](_0x8c094e['data'],'binary');_0x168c76=''+(0x0,F[_0x406c42(0x483)])(this[_0x406c42(0x64d)],'temp-'+_0x37fbb8+_0x406c42(0x69e)),this[_0x406c42(0x2e0)][_0x406c42(0x2b1)](_0x406c42(0x63c)+_0x168c76),await(0x0,xt[_0x406c42(0x3bb)])(_0x1e40f6)[_0x406c42(0x2ac)](_0x168c76),this[_0x406c42(0x2e0)][_0x406c42(0x2b1)]('Image\x20created');}return await(0x0,xt[_0x406c42(0x3bb)])(_0x168c76)[_0x406c42(0x139)]()[_0x406c42(0x2ac)](_0x385f6a),this['logger'][_0x406c42(0x2b1)](_0x406c42(0x771)),L['unlinkSync'](_0x168c76),this[_0x406c42(0x2e0)]['verbose']('Temp\x20image\x20deleted'),_0x385f6a;}catch(_0x197791){console['error'](_0x406c42(0x5bf),_0x197791 instanceof Error?_0x197791[_0x406c42(0x20e)]:JSON[_0x406c42(0x291)](_0x197791,null,0x2));}}async[a0_0xe3fdb8(0x4da)](_0x3e76a1){const _0x5c44ca=a0_0xe3fdb8;let _0x504305=await this[_0x5c44ca(0x3be)](_0x3e76a1[_0x5c44ca(0x29b)]['image'],_0x3e76a1[_0x5c44ca(0x3d5)]),_0x3bbbe6=await this[_0x5c44ca(0x2f3)](_0x3e76a1['number'],{'sticker':{'url':_0x504305}},_0x3e76a1?.['options']);return L[_0x5c44ca(0x546)](_0x504305),this[_0x5c44ca(0x2e0)][_0x5c44ca(0x2b1)](_0x5c44ca(0x6bf)),_0x3bbbe6;}async[a0_0xe3fdb8(0x2e5)](_0x186f63){const _0x10b761=a0_0xe3fdb8;if(this[_0x10b761(0x2e0)][_0x10b761(0x2b1)](_0x10b761(0x13d)),!_0x186f63['options']?.[_0x10b761(0x79d)]&&_0x186f63[_0x10b761(0x3ce)]?.['encoding']!==!0x1&&(_0x186f63[_0x10b761(0x3ce)][_0x10b761(0x79d)]=!0x0),_0x186f63[_0x10b761(0x3ce)]?.[_0x10b761(0x79d)]){let _0x59e33c=await this[_0x10b761(0x775)](_0x186f63[_0x10b761(0x310)][_0x10b761(0x1b5)]);if(typeof _0x59e33c=='string'){let _0x4d0b24=L[_0x10b761(0x3f2)](_0x59e33c)[_0x10b761(0x4ff)](_0x10b761(0x301)),_0x421b4a=this[_0x10b761(0x2f3)](_0x186f63[_0x10b761(0x3d5)],{'audio':Buffer['from'](_0x4d0b24,_0x10b761(0x301)),'ptt':!0x0,'mimetype':_0x10b761(0x45e)},{'presence':_0x10b761(0x4b0),'delay':_0x186f63?.[_0x10b761(0x3ce)]?.['delay']});return L[_0x10b761(0x546)](_0x59e33c),this[_0x10b761(0x2e0)][_0x10b761(0x2b1)](_0x10b761(0x4d7)),_0x421b4a;}else throw new O(_0x59e33c);}return await this[_0x10b761(0x2f3)](_0x186f63[_0x10b761(0x3d5)],{'audio':(0x0,k[_0x10b761(0x3d1)])(_0x186f63[_0x10b761(0x310)]['audio'])?{'url':_0x186f63[_0x10b761(0x310)][_0x10b761(0x1b5)]}:Buffer['from'](_0x186f63[_0x10b761(0x310)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x10b761(0x562)},{'presence':_0x10b761(0x4b0),'delay':_0x186f63?.[_0x10b761(0x3ce)]?.[_0x10b761(0x245)]});}async['convertaudio'](_0x19bf9c){const _0x3178af=a0_0xe3fdb8;this[_0x3178af(0x2e0)][_0x3178af(0x2b1)](_0x3178af(0x453));let _0x23da61,_0x403865,_0x596567=(0x0,Me['v4'])();if(this['logger'][_0x3178af(0x2b1)](_0x3178af(0x3ac)+_0x596567),(0x0,k[_0x3178af(0x3d1)])(_0x19bf9c)){this[_0x3178af(0x2e0)]['verbose'](_0x3178af(0x470)),_0x403865=''+(0x0,F['join'])(this[_0x3178af(0x64d)],_0x596567+'.mp4'),_0x23da61=''+(0x0,F[_0x3178af(0x483)])(this['storePath'],_0x3178af(0x56f)+_0x596567+_0x3178af(0x6fc)),this['logger']['verbose']('Output\x20audio\x20path:\x20'+_0x403865),this[_0x3178af(0x2e0)][_0x3178af(0x2b1)](_0x3178af(0x435)+_0x23da61);let _0x340677=new Date()[_0x3178af(0x5e4)](),_0x3c3b03=_0x19bf9c+_0x3178af(0x24f)+_0x340677;this['logger'][_0x3178af(0x2b1)](_0x3178af(0x699)+_0x3c3b03);let _0x53f093=await se[_0x3178af(0x3bb)][_0x3178af(0x221)](_0x3c3b03,{'responseType':_0x3178af(0x6c6)});this[_0x3178af(0x2e0)][_0x3178af(0x2b1)]('Getting\x20audio\x20from\x20url'),L[_0x3178af(0x370)](_0x23da61,_0x53f093[_0x3178af(0x382)]);}else{this['logger'][_0x3178af(0x2b1)](_0x3178af(0x3c5)),_0x403865=''+(0x0,F[_0x3178af(0x483)])(this[_0x3178af(0x64d)],_0x596567+_0x3178af(0x70f)),_0x23da61=''+(0x0,F[_0x3178af(0x483)])(this[_0x3178af(0x64d)],_0x3178af(0x56f)+_0x596567+_0x3178af(0x6fc)),this[_0x3178af(0x2e0)][_0x3178af(0x2b1)](_0x3178af(0x325)+_0x403865),this['logger'][_0x3178af(0x2b1)](_0x3178af(0x435)+_0x23da61);let _0x2f2e99=Buffer[_0x3178af(0x519)](_0x19bf9c,_0x3178af(0x301));L['writeFileSync'](_0x23da61,_0x2f2e99),this[_0x3178af(0x2e0)]['verbose'](_0x3178af(0x36f));}return this[_0x3178af(0x2e0)]['verbose']('Converting\x20audio\x20to\x20mp4'),new Promise((_0x4f17bf,_0x50de9e)=>{const _0x48d5f8=_0x3178af;(0x0,_t['exec'])(wo[_0x48d5f8(0x3bb)][_0x48d5f8(0x390)]+'\x20-i\x20'+_0x23da61+_0x48d5f8(0x394)+_0x403865+'\x20-y',_0x2bda6b=>{const _0x4dfe8d=_0x48d5f8;L[_0x4dfe8d(0x546)](_0x23da61),this['logger'][_0x4dfe8d(0x2b1)](_0x4dfe8d(0x6e6)),_0x2bda6b&&_0x50de9e(_0x2bda6b),this[_0x4dfe8d(0x2e0)][_0x4dfe8d(0x2b1)](_0x4dfe8d(0x243)),_0x4f17bf(_0x403865);});});}async[a0_0xe3fdb8(0x2cd)](_0x52044e){const _0x1f5b33=a0_0xe3fdb8;let _0x195847={},_0x28d5f4=_0x1f5b33(0x5f0);if(_0x52044e[_0x1f5b33(0x2cd)]?.[_0x1f5b33(0x1bd)]){_0x28d5f4=_0x52044e['buttonMessage'][_0x1f5b33(0x1bd)]?.[_0x1f5b33(0x703)][_0x1f5b33(0x408)]()??_0x1f5b33(0x5f0),_0x195847[_0x1f5b33(0x50c)]=_0x28d5f4[_0x1f5b33(0x3a4)]()+_0x1f5b33(0x3a8);let _0x435280=await this[_0x1f5b33(0x4c2)](_0x52044e[_0x1f5b33(0x2cd)]['mediaMessage']);_0x195847[_0x1f5b33(0x20e)]=_0x435280[_0x1f5b33(0x20e)][_0x195847[_0x1f5b33(0x50c)]],_0x195847['contentText']='*'+_0x52044e[_0x1f5b33(0x2cd)]['title']+_0x1f5b33(0x794)+_0x52044e[_0x1f5b33(0x2cd)][_0x1f5b33(0x472)];}let _0x11198b={'text':_0x52044e[_0x1f5b33(0x2cd)][_0x1f5b33(0x5bc)]['map'](_0x37286d=>_0x37286d[_0x1f5b33(0x42f)]),'ids':_0x52044e[_0x1f5b33(0x2cd)][_0x1f5b33(0x5bc)][_0x1f5b33(0x716)](_0x27da21=>_0x27da21[_0x1f5b33(0x551)])};if(!(0x0,k[_0x1f5b33(0x797)])(_0x11198b[_0x1f5b33(0x3d6)])||!(0x0,k[_0x1f5b33(0x797)])(_0x11198b['ids']))throw new m(_0x1f5b33(0x768),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x1f5b33(0x2f3)](_0x52044e[_0x1f5b33(0x3d5)],{'buttonsMessage':{'text':_0x195847?.[_0x1f5b33(0x50c)]?void 0x0:_0x52044e[_0x1f5b33(0x2cd)][_0x1f5b33(0x1e7)],'contentText':_0x195847?.['contentText']??_0x52044e[_0x1f5b33(0x2cd)][_0x1f5b33(0x472)],'footerText':_0x52044e[_0x1f5b33(0x2cd)]?.['footerText'],'buttons':_0x52044e['buttonMessage'][_0x1f5b33(0x5bc)][_0x1f5b33(0x716)](_0x1bad30=>({'buttonText':{'displayText':_0x1bad30[_0x1f5b33(0x42f)]},'buttonId':_0x1bad30[_0x1f5b33(0x551)],'type':0x1})),'headerType':y[_0x1f5b33(0x2bf)][_0x1f5b33(0x3a8)][_0x1f5b33(0x3db)][_0x1f5b33(0x380)][_0x28d5f4],[_0x195847?.['mediaKey']]:_0x195847?.['message']}},_0x52044e?.[_0x1f5b33(0x3ce)]);}async[a0_0xe3fdb8(0x66c)](_0x1eda6f){const _0x3f665a=a0_0xe3fdb8;return await this[_0x3f665a(0x2f3)](_0x1eda6f['number'],{'locationMessage':{'degreesLatitude':_0x1eda6f[_0x3f665a(0x66c)][_0x3f665a(0x4de)],'degreesLongitude':_0x1eda6f[_0x3f665a(0x66c)][_0x3f665a(0x203)],'name':_0x1eda6f['locationMessage']?.[_0x3f665a(0x62f)],'address':_0x1eda6f[_0x3f665a(0x66c)]?.['address']}},_0x1eda6f?.[_0x3f665a(0x3ce)]);}async[a0_0xe3fdb8(0x528)](_0x3ffae7){const _0x479f44=a0_0xe3fdb8;let _0x26bf05={},_0x5d7e31=_0x198b24=>{const _0x408829=a0_0x3ea8;let _0x536b82='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x198b24[_0x408829(0x213)]+'\x0aFN:'+_0x198b24[_0x408829(0x213)]+'\x0a';_0x198b24[_0x408829(0x30f)]&&(_0x536b82+='ORG:'+_0x198b24[_0x408829(0x30f)]+';\x0a'),_0x198b24['email']&&(_0x536b82+=_0x408829(0x5b5)+_0x198b24[_0x408829(0x6e1)]+'\x0a'),_0x198b24['url']&&(_0x536b82+=_0x408829(0x226)+_0x198b24[_0x408829(0x5e3)]+'\x0a');let _0x57e9ed='';return _0x198b24[_0x408829(0x51a)]&&_0x198b24['phoneNumber'][_0x408829(0x4c7)]('|')['forEach']((_0x5d742e,_0x5cb868)=>{const _0x220df1=_0x408829;let _0x1974cf=this['createJid'](_0x5d742e)[_0x220df1(0x199)]('@s.whatsapp.net','');_0x57e9ed+=_0x220df1(0x4b6)+(_0x5cb868+0x1)+_0x220df1(0x2fa)+_0x1974cf+':'+_0x5d742e+_0x220df1(0x24e)+(_0x5cb868+0x1)+_0x220df1(0x179);}),_0x536b82+=_0x57e9ed+_0x408829(0x6e4),_0x536b82;};return _0x3ffae7[_0x479f44(0x528)]['length']===0x1?_0x26bf05[_0x479f44(0x528)]={'displayName':_0x3ffae7[_0x479f44(0x528)][0x0][_0x479f44(0x213)],'vcard':_0x5d7e31(_0x3ffae7[_0x479f44(0x528)][0x0])}:_0x26bf05[_0x479f44(0x161)]={'displayName':_0x3ffae7[_0x479f44(0x528)][_0x479f44(0x736)]+_0x479f44(0x5c6),'contacts':_0x3ffae7[_0x479f44(0x528)]['map'](_0x87ce58=>({'displayName':_0x87ce58[_0x479f44(0x213)],'vcard':_0x5d7e31(_0x87ce58)}))},await this[_0x479f44(0x2f3)](_0x3ffae7['number'],{..._0x26bf05},_0x3ffae7?.[_0x479f44(0x3ce)]);}async[a0_0xe3fdb8(0x5e2)](_0x20fb0b){const _0x73d5c8=a0_0xe3fdb8;return await this[_0x73d5c8(0x2f3)](_0x20fb0b[_0x73d5c8(0x5e2)][_0x73d5c8(0x326)][_0x73d5c8(0x27d)],{'reactionMessage':{'key':_0x20fb0b['reactionMessage'][_0x73d5c8(0x326)],'text':_0x20fb0b[_0x73d5c8(0x5e2)][_0x73d5c8(0x2ad)]}});}async[a0_0xe3fdb8(0x28a)](_0x4b0679){const _0x26c9fb=a0_0xe3fdb8;let _0x28aceb=[];for await(let _0x13da2e of _0x4b0679[_0x26c9fb(0x356)]){let _0x1a2e09=this[_0x26c9fb(0x27a)](_0x13da2e),_0x496617=!0x1;try{if((0x0,y['isJidGroup'])(_0x1a2e09)){let _0x1873e9=await this['findGroup']({'groupJid':_0x1a2e09},_0x26c9fb(0x3ba));_0x28aceb[_0x26c9fb(0x4fd)](new me(_0x1873e9[_0x26c9fb(0x57f)]['id'],!!_0x1873e9?.[_0x26c9fb(0x57f)]['id'],_0x1873e9?.['metadata'][_0x26c9fb(0x37e)])),_0x496617=!!_0x1873e9?.[_0x26c9fb(0x57f)]['id'];}else{let _0x42c68e=(await this[_0x26c9fb(0x5b2)][_0x26c9fb(0x3c0)](_0x1a2e09))[0x0];_0x28aceb[_0x26c9fb(0x4fd)](new me(_0x42c68e[_0x26c9fb(0x237)],_0x42c68e['exists'])),_0x496617=_0x42c68e[_0x26c9fb(0x343)];}}catch{await this[_0x26c9fb(0x73d)](_0x1a2e09,_0x496617),_0x28aceb['push'](new me(_0x13da2e,!0x1));}}return _0x28aceb;}async[a0_0xe3fdb8(0x73d)](_0x280627,_0x75b5f0){const _0x251fda=a0_0xe3fdb8;try{await this[_0x251fda(0x1aa)]['chat']['findOne']({'where':{'_id':_0x280627,'imported':!0x0}},this[_0x251fda(0x635)][_0x251fda(0x278)])&&(_0x75b5f0||(await this[_0x251fda(0x1aa)][_0x251fda(0x277)][_0x251fda(0x19d)](_0x280627,this['instance'][_0x251fda(0x278)]),console['log'](_0x251fda(0x604)+_0x280627+_0x251fda(0x6f9))));}catch(_0x387107){console[_0x251fda(0x430)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x387107);}}async['markMessageAsRead'](_0x34c54c){const _0x1042ad=a0_0xe3fdb8;try{let _0x190f47=_0x34c54c[_0x1042ad(0x5ea)][_0x1042ad(0x304)](_0x15b4b6=>(0x0,y[_0x1042ad(0x72b)])(_0x15b4b6[_0x1042ad(0x27d)])||(0x0,y[_0x1042ad(0x48a)])(_0x15b4b6[_0x1042ad(0x27d)]))[_0x1042ad(0x716)](_0x3637ba=>({'remoteJid':_0x3637ba[_0x1042ad(0x27d)],'fromMe':_0x3637ba[_0x1042ad(0x63e)],'id':_0x3637ba['id']}));await this['client'][_0x1042ad(0x5ea)](_0x190f47);let _0x536dd3=_0x190f47[_0x1042ad(0x716)](_0x180b8d=>this[_0x1042ad(0x750)](_0x180b8d,{'status':_0x1042ad(0x41a),'owner':this[_0x1042ad(0x635)]['wuid']})),_0x168778=_0x190f47[_0x1042ad(0x716)](_0x12ab5a=>this[_0x1042ad(0x1aa)][_0x1042ad(0x277)]['updateOne']({'where':{'_id':_0x12ab5a[_0x1042ad(0x27d)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x137eb1,_0x2c624d]=await Promise[_0x1042ad(0x297)]([Promise[_0x1042ad(0x297)](_0x536dd3),Promise[_0x1042ad(0x297)](_0x168778)]);return _0x2c624d[_0x1042ad(0x304)](_0x552151=>_0x552151!==null)['forEach'](_0x5d6861=>{const _0x344ab5=_0x1042ad;J(this[_0x344ab5(0x413)],_0x344ab5(0x26e),{'chat':_0x5d6861});}),{'message':_0x1042ad(0x3e9),'read':_0x1042ad(0x1d7)};}catch(_0x25e70f){throw console[_0x1042ad(0x430)](_0x1042ad(0x39b),_0x25e70f),new O(_0x1042ad(0x3d4),_0x25e70f[_0x1042ad(0x4ff)]());}}async[a0_0xe3fdb8(0x170)](_0x4bbe38){const _0x53b97a=a0_0xe3fdb8;let _0x3a3eb0={'where':{'key':{'remoteJid':_0x4bbe38}},'limit':0x1},_0x2a7c48=await this[_0x53b97a(0x2e6)](_0x3a3eb0);return _0x2a7c48||(console['error']('Last\x20message\x20not\x20found\x20for\x20number:',_0x4bbe38),null);}async[a0_0xe3fdb8(0x2f4)](_0x3ddb18){const _0x2580bb=a0_0xe3fdb8;this['logger'][_0x2580bb(0x2b1)](_0x2580bb(0x187));try{let _0x210602=_0x3ddb18[_0x2580bb(0x463)],_0x1416a1=_0x3ddb18[_0x2580bb(0x277)];if(!_0x210602&&_0x1416a1?_0x210602=await this[_0x2580bb(0x170)](_0x1416a1):(_0x210602=_0x3ddb18['lastMessage'],_0x210602[_0x2580bb(0x61e)]=_0x210602?.[_0x2580bb(0x61e)]??Date[_0x2580bb(0x1d1)](),_0x1416a1=_0x210602?.[_0x2580bb(0x326)]?.['remoteJid']),!_0x210602||Object[_0x2580bb(0x205)](_0x210602)[_0x2580bb(0x736)]===0x0)throw new j(_0x2580bb(0x1fd));this[_0x2580bb(0x2e0)][_0x2580bb(0x2b1)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x1416a1);try{await this[_0x2580bb(0x5b2)][_0x2580bb(0x5a5)]({'archive':_0x3ddb18['archive'],'lastMessages':[_0x210602]},this[_0x2580bb(0x27a)](_0x1416a1));}catch(_0x3a2223){this['logger'][_0x2580bb(0x430)](_0x2580bb(0x437)+_0x1416a1+':\x20'+_0x3a2223[_0x2580bb(0x4ff)]());}this[_0x2580bb(0x2e0)][_0x2580bb(0x2b1)](_0x2580bb(0x230)+_0x1416a1);let _0x1b168e=await this[_0x2580bb(0x1aa)][_0x2580bb(0x277)]['updateOne']({'where':{'_id':_0x210602?.[_0x2580bb(0x326)]?.[_0x2580bb(0x27d)]}},{'archived':_0x3ddb18[_0x2580bb(0x365)]},this['instance']['wuid']);return _0x1b168e?(this['logger'][_0x2580bb(0x2b1)](_0x2580bb(0x215)+JSON[_0x2580bb(0x291)](_0x1b168e)),J(this[_0x2580bb(0x413)],_0x2580bb(0x26e),{'chat':_0x1b168e})):this[_0x2580bb(0x2e0)][_0x2580bb(0x430)](_0x2580bb(0x2d9)+_0x1416a1),{'chatId':_0x1416a1,'archived':_0x3ddb18['archive']};}catch(_0x157deb){throw this[_0x2580bb(0x2e0)][_0x2580bb(0x430)](_0x2580bb(0x1bf)+_0x157deb['toString']()),new O({'archived':!0x1,'message':[_0x2580bb(0x761),_0x157deb[_0x2580bb(0x4ff)]()]});}}async[a0_0xe3fdb8(0x4b5)](_0x408535){const _0x422244=a0_0xe3fdb8;try{let _0x1dc05e=await this[_0x422244(0x5b2)][_0x422244(0x659)](_0x408535[_0x422244(0x27d)],{'delete':_0x408535});try{let _0x3db55f=await this[_0x422244(0x750)](_0x408535,{'status':'DELETED','owner':this[_0x422244(0x635)][_0x422244(0x278)]});this['logger'][_0x422244(0x2b1)](this[_0x422244(0x413)]+'\x20('+this[_0x422244(0x635)][_0x422244(0x278)]+_0x422244(0x2b5)+_0x3db55f);}catch(_0x4abc50){console['error'](_0x422244(0x3b6),_0x4abc50);}return _0x1dc05e;}catch(_0x2a6960){throw new O('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x2a6960?.[_0x422244(0x4ff)]());}}async[a0_0xe3fdb8(0x564)](_0x33aee3){const _0x15fe93=a0_0xe3fdb8;try{let _0x4194c8=_0x33aee3?.[_0x15fe93(0x20e)]?_0x33aee3:await this[_0x15fe93(0x729)](_0x33aee3[_0x15fe93(0x326)],!0x0);for(let _0x4435f6 of pa)_0x4194c8[_0x15fe93(0x20e)][_0x4435f6]&&(_0x4194c8[_0x15fe93(0x20e)]=_0x4194c8[_0x15fe93(0x20e)][_0x4435f6][_0x15fe93(0x20e)]);let _0x75be3a,_0x22f14c;for(let _0x3fbd5a of da)if(_0x75be3a=_0x4194c8['message'][_0x3fbd5a],_0x75be3a){_0x22f14c=_0x3fbd5a;break;}if(!_0x75be3a)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x75be3a['mediaKey']==_0x15fe93(0x5c2)&&(_0x4194c8[_0x15fe93(0x20e)]=JSON[_0x15fe93(0x371)](JSON[_0x15fe93(0x291)](_0x4194c8['message'])));let _0xd5b224=await(0x0,y[_0x15fe93(0x495)])({'key':_0x4194c8?.['key'],'message':_0x4194c8?.[_0x15fe93(0x20e)]},_0x15fe93(0x680),{},{'logger':(0x0,Ot['default'])({'level':_0x15fe93(0x157)}),'reuploadRequest':this[_0x15fe93(0x5b2)][_0x15fe93(0x56e)]});if(!(_0xd5b224 instanceof Buffer))throw new Error(_0x15fe93(0x50e));let _0x34da14=this[_0x15fe93(0x5f2)][_0x15fe93(0x221)]('DATABASE'),_0xe635e0,_0x300323;if(_0x75be3a[_0x15fe93(0x581)])_0xe635e0=_0x75be3a[_0x15fe93(0x581)];else{let _0x34dac7=_0x75be3a[_0x15fe93(0x560)]?.[_0x15fe93(0x2d1)](/\/(\w+)/),_0x275aa7=_0x34dac7?_0x34dac7[0x1]:null;if(!_0x275aa7)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0xe635e0=(0x0,Me['v4'])()+'.'+_0x275aa7;}_0x22f14c===_0x15fe93(0x310)&&_0x75be3a[_0x15fe93(0x560)]===_0x15fe93(0x429)?(_0xe635e0=(0x0,Me['v4'])()+'.ogg',_0x300323=_0x15fe93(0x1a9)+await this[_0x15fe93(0x775)](_0xd5b224[_0x15fe93(0x4ff)]('base64'))):(await this[_0x15fe93(0x147)](_0xd5b224,_0xe635e0),_0x300323=_0x15fe93(0x1a9)+_0xe635e0);let _0x5c3db4=this[_0x15fe93(0x5f2)]['get'](_0x15fe93(0x772))[_0x15fe93(0x17b)];if(!_0x5c3db4){let _0x14d0ca=this['configService'][_0x15fe93(0x221)](_0x15fe93(0x407));_0x5c3db4=_0x15fe93(0x145)+(_0x14d0ca&&_0x14d0ca['FULLCHAIN'][_0x15fe93(0x4c7)]('/')[0x4]);}_0x300323=''+_0x5c3db4+_0x300323;let _0x36d8b5=0xc*0x3c*0x3c*0x3e8,_0x1393f7={'where':{'_id':_0x4194c8[_0x15fe93(0x326)]['id']}},_0x48a781={'message_normalized.fileUrl':_0x300323,'message_normalized.expires_fileUrl':Date[_0x15fe93(0x1d1)]()+_0x36d8b5};try{let _0x134bec=await this[_0x15fe93(0x1aa)][_0x15fe93(0x20e)][_0x15fe93(0x3e6)](_0x1393f7,_0x48a781,this[_0x15fe93(0x635)][_0x15fe93(0x278)]);_0x134bec&&J(this[_0x15fe93(0x413)],'messages',{'message':_0x134bec});}catch(_0x91eac5){this['logger'][_0x15fe93(0x430)](this[_0x15fe93(0x413)]+'\x20('+this[_0x15fe93(0x635)][_0x15fe93(0x278)]+_0x15fe93(0x668)+(_0x91eac5 instanceof Error?_0x91eac5[_0x15fe93(0x20e)]:JSON['stringify'](_0x91eac5,null,0x2)));}return{'mediaType':_0x22f14c,'fileName':_0x75be3a[_0x15fe93(0x581)],'caption':_0x75be3a[_0x15fe93(0x21c)],'size':{'fileLength':_0x75be3a['fileLength'],'height':_0x75be3a[_0x15fe93(0x3bf)],'width':_0x75be3a[_0x15fe93(0x22a)]},'mimetype':_0x75be3a[_0x15fe93(0x560)],'base64':_0xd5b224[_0x15fe93(0x4ff)](_0x15fe93(0x301)),'fileUrl':_0x300323,'expires_fileUrl':Date['now']()+_0x36d8b5};}catch(_0x3ef168){throw this[_0x15fe93(0x2e0)][_0x15fe93(0x430)](this[_0x15fe93(0x413)]+'\x20('+this[_0x15fe93(0x635)][_0x15fe93(0x278)]+'):\x20'+(_0x3ef168 instanceof Error?_0x3ef168[_0x15fe93(0x20e)]:JSON[_0x15fe93(0x291)](_0x3ef168,null,0x2))),new m(_0x3ef168[_0x15fe93(0x4ff)]());}}async['saveMediaToFile'](_0x4e7ba4,_0x1ea8fc){const _0x5777ef=a0_0xe3fdb8;let _0x234c9f=F[_0x5777ef(0x3bb)]['join'](__dirname,_0x5777ef(0x2ab));L[_0x5777ef(0x2db)](_0x234c9f)||L[_0x5777ef(0x622)](_0x234c9f,{'recursive':!0x0});let _0x68cece=F['default'][_0x5777ef(0x483)](_0x234c9f,_0x1ea8fc);return new Promise((_0x59bb8b,_0x109402)=>{L['writeFile'](_0x68cece,_0x4e7ba4,_0xa0c581=>{const _0x591445=a0_0x3ea8;_0xa0c581?(this[_0x591445(0x2e0)][_0x591445(0x430)](_0x591445(0x1f3)+(_0xa0c581 instanceof Error?_0xa0c581[_0x591445(0x20e)]:JSON[_0x591445(0x291)](_0xa0c581,null,0x2))),_0x109402(_0xa0c581)):(this[_0x591445(0x2e0)][_0x591445(0x21f)](_0x591445(0x4fa)+_0x68cece),_0x59bb8b(_0x68cece));});});}async[a0_0xe3fdb8(0x441)](_0x284c38){const _0x3cf725=a0_0xe3fdb8;return await this[_0x3cf725(0x1aa)]['contact'][_0x3cf725(0x579)](_0x284c38,this[_0x3cf725(0x635)][_0x3cf725(0x278)]);}async['fetchLabels'](){const _0x3e0a76=a0_0xe3fdb8;return await this[_0x3e0a76(0x1aa)][_0x3e0a76(0x506)][_0x3e0a76(0x579)]({'where':{}},this[_0x3e0a76(0x635)]['wuid']);}async['fetchMessages'](_0x197c38){const _0x5cb54d=a0_0xe3fdb8;return await this['repository'][_0x5cb54d(0x20e)]['find'](_0x197c38,this[_0x5cb54d(0x635)][_0x5cb54d(0x278)]);}async[a0_0xe3fdb8(0x25c)](){const _0x392b36=a0_0xe3fdb8;return this['repository'][_0x392b36(0x277)][_0x392b36(0x674)](this['instance'][_0x392b36(0x278)]),this[_0x392b36(0x1aa)]['chat']['updateMissingEtiquetas'](this[_0x392b36(0x635)]['wuid']),this[_0x392b36(0x1aa)][_0x392b36(0x277)][_0x392b36(0x653)](this['instance']['wuid']),this[_0x392b36(0x1aa)]['chat'][_0x392b36(0x68e)](this[_0x392b36(0x635)]['wuid']),await this[_0x392b36(0x1aa)][_0x392b36(0x277)][_0x392b36(0x579)]({'where':{}},this[_0x392b36(0x635)][_0x392b36(0x278)]);}async[a0_0xe3fdb8(0x331)](_0x2fd2b2){const _0x40c03d=a0_0xe3fdb8;try{if(!Array[_0x40c03d(0x1ed)](_0x2fd2b2)||_0x2fd2b2['length']===0x0)throw new Error(_0x40c03d(0x54c));let _0x207bde=[],_0x53756d=[];for(let _0x48cf26 of _0x2fd2b2){if(_0x48cf26[_0x40c03d(0x1ff)])_0x48cf26['_id']=this[_0x40c03d(0x27a)](_0x48cf26[_0x40c03d(0x1ff)]);else continue;await this['repository'][_0x40c03d(0x277)][_0x40c03d(0x6a9)]({'where':{'_id':_0x48cf26[_0x40c03d(0x1ff)]}},this[_0x40c03d(0x635)]['wuid'])?_0x53756d[_0x40c03d(0x4fd)]({'_id':_0x48cf26['_id'],'leadInfo':_0x48cf26[_0x40c03d(0x39e)],'owner':this[_0x40c03d(0x635)][_0x40c03d(0x278)]}):_0x207bde[_0x40c03d(0x4fd)]({'_id':_0x48cf26[_0x40c03d(0x1ff)],'owner':this['instance'][_0x40c03d(0x278)],'leadInfo':_0x48cf26[_0x40c03d(0x39e)],'imported':!0x0});}return _0x53756d[_0x40c03d(0x736)]>0x0&&await this[_0x40c03d(0x1aa)][_0x40c03d(0x277)][_0x40c03d(0x6a6)](_0x53756d[_0x40c03d(0x716)](_0x40a776=>({'query':{'where':{'_id':_0x40a776[_0x40c03d(0x1ff)],'owner':this[_0x40c03d(0x635)][_0x40c03d(0x278)]}},'update':_0x40a776}))),_0x207bde[_0x40c03d(0x736)]>0x0&&await this[_0x40c03d(0x1aa)][_0x40c03d(0x277)][_0x40c03d(0x5b9)](_0x207bde,this['instance'][_0x40c03d(0x278)]),{'updated':_0x53756d['length'],'inserted':_0x207bde[_0x40c03d(0x736)]};}catch(_0x1d48d6){throw console[_0x40c03d(0x430)](_0x40c03d(0x58d),_0x1d48d6),_0x1d48d6;}}async[a0_0xe3fdb8(0x6d9)](_0x3708dd){const _0xa72d3a=a0_0xe3fdb8;try{if(!Array[_0xa72d3a(0x1ed)](_0x3708dd)||_0x3708dd[_0xa72d3a(0x736)]===0x0)throw new Error(_0xa72d3a(0x54c));let _0x130591=0x64,_0x5b5ef4=0x0;for(let _0x229a77=0x0;_0x229a77<_0x3708dd['length'];_0x229a77+=_0x130591){let _0x292e65=_0x3708dd['slice'](_0x229a77,_0x229a77+_0x130591),{updated:_0x513bf8}=await this[_0xa72d3a(0x777)](_0x292e65);_0x5b5ef4+=_0x513bf8;}return{'updated':_0x5b5ef4};}catch(_0x5e45d5){throw console[_0xa72d3a(0x430)](_0xa72d3a(0x58d),_0x5e45d5),_0x5e45d5;}}async[a0_0xe3fdb8(0x777)](_0x2936b5){const _0x15e22b=a0_0xe3fdb8;try{let _0x4509e1=await this[_0x15e22b(0x1aa)][_0x15e22b(0x506)][_0x15e22b(0x579)]({'where':{}},this['instance'][_0x15e22b(0x278)]),_0x2158ff=new Set(_0x4509e1[_0x15e22b(0x716)](_0x585d4c=>_0x585d4c[_0x15e22b(0x1ff)])),_0x27daba=[],_0x4b5500=[];for(let _0x1291b1 of _0x2936b5){if(!_0x1291b1[_0x15e22b(0x1ff)])continue;_0x1291b1[_0x15e22b(0x1ff)]=this[_0x15e22b(0x27a)](_0x1291b1[_0x15e22b(0x1ff)]);let _0x143bd1=await this[_0x15e22b(0x1aa)]['chat'][_0x15e22b(0x6a9)]({'where':{'_id':_0x1291b1['_id']}},this[_0x15e22b(0x635)][_0x15e22b(0x278)]),_0x395d2a={};if(Object[_0x15e22b(0x133)](_0x1291b1[_0x15e22b(0x39e)])[_0x15e22b(0x261)](([_0x1a6cff,_0x4e7684])=>{_0x395d2a['leadInfo.'+_0x1a6cff]=_0x4e7684;}),_0x143bd1&&!_0x143bd1[_0x15e22b(0x171)]){let _0x58eb24=(_0x1291b1[_0x15e22b(0x39e)][_0x15e22b(0x778)]||[])['filter'](_0x3c8e51=>_0x2158ff['has'](_0x3c8e51)),_0x2884f6=new Set(_0x143bd1[_0x15e22b(0x39e)][_0x15e22b(0x778)]||[]),_0x314575=_0x58eb24[_0x15e22b(0x304)](_0x747b33=>!_0x2884f6[_0x15e22b(0x64b)](_0x747b33)),_0x195bea=[..._0x2884f6][_0x15e22b(0x304)](_0x190a54=>!_0x58eb24[_0x15e22b(0x13f)](_0x190a54));_0x4b5500[_0x15e22b(0x4fd)](..._0x314575[_0x15e22b(0x716)](_0x1ae5d6=>this[_0x15e22b(0x2e3)](_0x1ae5d6,_0x1291b1[_0x15e22b(0x1ff)]))),_0x4b5500[_0x15e22b(0x4fd)](..._0x195bea[_0x15e22b(0x716)](_0x315098=>this[_0x15e22b(0x476)](_0x315098,_0x1291b1[_0x15e22b(0x1ff)]))),_0x1291b1[_0x15e22b(0x39e)]['etiquetas']=_0x58eb24,_0x27daba[_0x15e22b(0x4fd)]({'query':{'where':{'_id':_0x1291b1[_0x15e22b(0x1ff)],'owner':this[_0x15e22b(0x635)][_0x15e22b(0x278)]}},'update':_0x395d2a});}else _0x395d2a['imported']=!0x0,_0x27daba[_0x15e22b(0x4fd)]({'query':{'where':{'_id':_0x1291b1['_id'],'owner':this[_0x15e22b(0x635)][_0x15e22b(0x278)]}},'update':_0x395d2a});}let _0x231016=await this[_0x15e22b(0x1aa)][_0x15e22b(0x277)]['updateMany'](_0x27daba);return await Promise[_0x15e22b(0x297)](_0x4b5500),{'updated':_0x231016};}catch(_0x1702d2){throw console['error'](_0x15e22b(0x58d),_0x1702d2),_0x1702d2;}}async[a0_0xe3fdb8(0x4ab)](){const _0x1f868b=a0_0xe3fdb8;return await this[_0x1f868b(0x5b2)][_0x1f868b(0x4ab)]();}async[a0_0xe3fdb8(0x34e)](_0x4f8a96){const _0x1b1ace=a0_0xe3fdb8;try{return await this[_0x1b1ace(0x5b2)][_0x1b1ace(0x381)](_0x4f8a96['privacySettings'][_0x1b1ace(0x652)]),await this['client'][_0x1b1ace(0x679)](_0x4f8a96['privacySettings'][_0x1b1ace(0x3a9)]),await this[_0x1b1ace(0x5b2)][_0x1b1ace(0x508)](_0x4f8a96[_0x1b1ace(0x6d2)][_0x1b1ace(0x299)]),await this[_0x1b1ace(0x5b2)]['updateOnlinePrivacy'](_0x4f8a96['privacySettings']['online']),await this[_0x1b1ace(0x5b2)][_0x1b1ace(0x764)](_0x4f8a96[_0x1b1ace(0x6d2)][_0x1b1ace(0x4c0)]),await this[_0x1b1ace(0x5b2)]['updateGroupsAddPrivacy'](_0x4f8a96[_0x1b1ace(0x6d2)][_0x1b1ace(0x58f)]),this['client']?.['ws']?.[_0x1b1ace(0x233)](),{'update':_0x1b1ace(0x1d7),'data':{'readreceipts':_0x4f8a96[_0x1b1ace(0x6d2)]['readreceipts'],'profile':_0x4f8a96[_0x1b1ace(0x6d2)][_0x1b1ace(0x3a9)],'status':_0x4f8a96[_0x1b1ace(0x6d2)][_0x1b1ace(0x299)],'online':_0x4f8a96[_0x1b1ace(0x6d2)][_0x1b1ace(0x227)],'last':_0x4f8a96[_0x1b1ace(0x6d2)][_0x1b1ace(0x4c0)],'groupadd':_0x4f8a96[_0x1b1ace(0x6d2)][_0x1b1ace(0x58f)]}};}catch(_0x2a03e5){throw new O(_0x1b1ace(0x1eb),_0x2a03e5[_0x1b1ace(0x4ff)]());}}async['fetchProfile2'](_0xeb00f8){const _0x365411=a0_0xe3fdb8;let _0x5b8d29=_0xeb00f8?this['createJid'](_0xeb00f8):this[_0x365411(0x5b2)]?.['user']?.['id'];this[_0x365411(0x2e0)][_0x365411(0x2b1)](_0x365411(0x68b)+_0x5b8d29);try{if(this[_0x365411(0x2e0)][_0x365411(0x2b1)]('Getting\x20profile\x20info'),_0xeb00f8){let _0x36dd5c=(await this[_0x365411(0x28a)]({'numbers':[_0x5b8d29]}))?.[_0x365411(0x249)](),_0x28f65e=await this[_0x365411(0x763)](_0x36dd5c?.[_0x365411(0x237)]),_0x3c788e=await this[_0x365411(0x402)](_0x36dd5c?.[_0x365411(0x237)]),_0x4b51d7=await this[_0x365411(0x61f)](_0x36dd5c?.[_0x365411(0x237)]);return{'wuid':_0x36dd5c?.['jid']||_0x5b8d29,'name':_0x36dd5c?.['name'],'numberExists':_0x36dd5c?.[_0x365411(0x343)],'picture':_0x28f65e?.['profilePictureUrl'],'status':_0x3c788e?.[_0x365411(0x299)],'isBusiness':_0x4b51d7[_0x365411(0x420)],'email':_0x4b51d7?.['email'],'description':_0x4b51d7?.[_0x365411(0x472)],'website':_0x4b51d7?.[_0x365411(0x2e4)]?.['shift']()};}}catch{return this[_0x365411(0x2e0)][_0x365411(0x2b1)](_0x365411(0x492)),{'wuid':_0x5b8d29,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0xe3fdb8(0x32d)](_0x420add){const _0x5acd2e=a0_0xe3fdb8;let _0x4319d6=(_0x420add?this[_0x5acd2e(0x27a)](_0x420add):this[_0x5acd2e(0x5b2)]?.['user']?.['id'])[_0x5acd2e(0x199)](/:\d{1,2}@/g,'@');this['logger'][_0x5acd2e(0x2b1)](_0x5acd2e(0x64a)+_0x4319d6);let _0xc4f5c1=await this[_0x5acd2e(0x1aa)][_0x5acd2e(0x1f6)][_0x5acd2e(0x6a9)]({'where':{'_id':_0x4319d6}},this['instance'][_0x5acd2e(0x278)]),_0x19ae08=_0xc4f5c1?_0xc4f5c1['pushName']:null;try{let _0x3a8ac7=(await this[_0x5acd2e(0x28a)]({'numbers':[_0x4319d6]}))?.[_0x5acd2e(0x249)](),_0x26cf17=await this[_0x5acd2e(0x763)](_0x3a8ac7?.[_0x5acd2e(0x237)]),_0x219b55=await this[_0x5acd2e(0x402)](_0x3a8ac7?.[_0x5acd2e(0x237)]),_0x2a835b=await this[_0x5acd2e(0x61f)](_0x3a8ac7?.[_0x5acd2e(0x237)]),_0x19f81d=await this['repository'][_0x5acd2e(0x277)]['findOne']({'where':{'_id':_0x4319d6}},this[_0x5acd2e(0x635)]['wuid']),_0x9e350c={'imagechat':_0x26cf17?.[_0x5acd2e(0x2c3)],'contactname':_0x19ae08||null,'status':_0x219b55?.[_0x5acd2e(0x299)],'isBusiness':_0x2a835b[_0x5acd2e(0x420)],'email':_0x2a835b?.[_0x5acd2e(0x6e1)],'description':_0x2a835b?.['description'],'website':_0x2a835b?.[_0x5acd2e(0x2e4)]?.[_0x5acd2e(0x249)](),'lastcache':Date[_0x5acd2e(0x1d1)](),'imported':!_0x19f81d},_0xb6e29=await this[_0x5acd2e(0x1aa)][_0x5acd2e(0x277)]['updateOne']({'where':{'_id':_0x4319d6}},_0x9e350c,this[_0x5acd2e(0x635)][_0x5acd2e(0x278)]),_0x4b6f0c={'owner':this['instance']['wuid'],'_id':_0x4319d6,'profilePictureUrl':_0x26cf17?.[_0x5acd2e(0x2c3)],'status':_0x219b55?.['status']};return this[_0x5acd2e(0x1aa)][_0x5acd2e(0x1f6)]['update']([_0x4b6f0c],this[_0x5acd2e(0x635)]['wuid']),_0xb6e29&&J(this[_0x5acd2e(0x413)],_0x5acd2e(0x26e),{'chat':_0xb6e29}),{'wuid':_0x3a8ac7?.['jid']||_0x4319d6,'name':_0x3a8ac7?.['name'],'numberExists':_0x3a8ac7?.[_0x5acd2e(0x343)],'picture':_0x26cf17?.[_0x5acd2e(0x2c3)],'status':_0x219b55?.[_0x5acd2e(0x299)],'isBusiness':_0x2a835b['isBusiness'],'email':_0x2a835b?.[_0x5acd2e(0x6e1)],'description':_0x2a835b?.[_0x5acd2e(0x472)],'website':_0x2a835b?.[_0x5acd2e(0x2e4)]?.['shift']()};}catch(_0x388153){return this[_0x5acd2e(0x2e0)][_0x5acd2e(0x430)](_0x5acd2e(0x72e)+(_0x388153 instanceof Error?_0x388153[_0x5acd2e(0x20e)]:JSON[_0x5acd2e(0x291)](_0x388153,null,0x2))),{};}}async[a0_0xe3fdb8(0x61f)](_0x4ddba3){const _0x4e246f=a0_0xe3fdb8;this[_0x4e246f(0x2e0)][_0x4e246f(0x2b1)]('Fetching\x20business\x20profile');try{let _0x21c6f2=_0x4ddba3?this[_0x4e246f(0x27a)](_0x4ddba3):this['instance'][_0x4e246f(0x278)],_0x20fede=await this[_0x4e246f(0x5b2)][_0x4e246f(0x4f5)](_0x21c6f2);return this[_0x4e246f(0x2e0)][_0x4e246f(0x2b1)]('Trying\x20to\x20get\x20business\x20profile'),_0x20fede?(this[_0x4e246f(0x2e0)]['verbose'](_0x4e246f(0x2bc)),{'isBusiness':!0x0,..._0x20fede}):{'isBusiness':!0x1,'message':_0x4e246f(0x597),...(await this['whatsappNumber']({'numbers':[_0x21c6f2]}))?.['shift']()};}catch(_0xd2b6b5){throw new O(_0x4e246f(0x1d0),_0xd2b6b5['toString']());}}async[a0_0xe3fdb8(0x402)](_0x46947e){const _0x458cc3=a0_0xe3fdb8;let _0x4f6bfd=this[_0x458cc3(0x27a)](_0x46947e);try{return{'wuid':_0x4f6bfd,'status':(await this['client'][_0x458cc3(0x74f)](_0x4f6bfd))?.[_0x458cc3(0x299)]};}catch{return{'wuid':_0x4f6bfd,'status':null};}}async[a0_0xe3fdb8(0x3a7)](_0x1171a7){const _0x25c3c6=a0_0xe3fdb8;try{return await this[_0x25c3c6(0x5b2)][_0x25c3c6(0x3a7)](_0x1171a7),{'update':'success'};}catch(_0x17e556){throw new O(_0x25c3c6(0x1d0),_0x17e556[_0x25c3c6(0x4ff)]());}}async['updateProfileStatus'](_0x24d6e2){const _0x4b4e90=a0_0xe3fdb8;try{return await this[_0x4b4e90(0x5b2)]['updateProfileStatus'](_0x24d6e2),{'update':_0x4b4e90(0x1d7)};}catch(_0x4aeaf6){throw new O(_0x4b4e90(0x3c1),_0x4aeaf6['toString']());}}async[a0_0xe3fdb8(0x377)](_0x4d96cf){const _0xcde5b2=a0_0xe3fdb8;try{let _0x1a099f;if((0x0,k['isURL'])(_0x4d96cf)){let _0x2451b5=new Date()[_0xcde5b2(0x5e4)](),_0x3b1b72=_0x4d96cf+_0xcde5b2(0x24f)+_0x2451b5;_0x1a099f=(await se[_0xcde5b2(0x3bb)][_0xcde5b2(0x221)](_0x3b1b72,{'responseType':_0xcde5b2(0x6c6)}))[_0xcde5b2(0x382)];}else{if((0x0,k[_0xcde5b2(0x295)])(_0x4d96cf))_0x1a099f=Buffer[_0xcde5b2(0x519)](_0x4d96cf,_0xcde5b2(0x301));else throw new m(_0xcde5b2(0x442));}return await this[_0xcde5b2(0x5b2)][_0xcde5b2(0x377)](this['instance'][_0xcde5b2(0x278)],_0x1a099f),{'update':_0xcde5b2(0x1d7)};}catch(_0x21a035){throw new O(_0xcde5b2(0x710),_0x21a035[_0xcde5b2(0x4ff)]());}}async[a0_0xe3fdb8(0x681)](){const _0x425224=a0_0xe3fdb8;try{return await this[_0x425224(0x5b2)]['removeProfilePicture'](this['instance'][_0x425224(0x278)]),{'update':_0x425224(0x1d7)};}catch(_0x42be36){throw new O(_0x425224(0x436),_0x42be36['toString']());}}async['createGroup'](_0x535cad){const _0x21ac2a=a0_0xe3fdb8;try{let _0x538322=_0x535cad[_0x21ac2a(0x197)][_0x21ac2a(0x716)](_0x40d13c=>this['createJid'](_0x40d13c)),{id:_0x3ccd78}=await this[_0x21ac2a(0x5b2)][_0x21ac2a(0x4d5)](_0x535cad[_0x21ac2a(0x37e)],_0x538322);return _0x535cad?.['description']&&await this[_0x21ac2a(0x5b2)][_0x21ac2a(0x67e)](_0x3ccd78,_0x535cad[_0x21ac2a(0x472)]),{'metadata':await this[_0x21ac2a(0x5b2)]['groupMetadata'](_0x3ccd78)};}catch(_0x562a39){throw this[_0x21ac2a(0x2e0)][_0x21ac2a(0x430)](this[_0x21ac2a(0x413)]+'\x20('+this[_0x21ac2a(0x635)][_0x21ac2a(0x278)]+_0x21ac2a(0x668)+(_0x562a39 instanceof Error?_0x562a39[_0x21ac2a(0x20e)]:JSON[_0x21ac2a(0x291)](_0x562a39,null,0x2))),new O(_0x21ac2a(0x5ed),_0x562a39['toString']());}}async[a0_0xe3fdb8(0x706)](_0x420b0d){const _0x167808=a0_0xe3fdb8;try{let _0x1bd0b0;if((0x0,k[_0x167808(0x3d1)])(_0x420b0d[_0x167808(0x3a5)])){let _0x2f7f27=new Date()[_0x167808(0x5e4)](),_0x384600=_0x420b0d[_0x167808(0x3a5)]+_0x167808(0x24f)+_0x2f7f27;_0x1bd0b0=(await se['default'][_0x167808(0x221)](_0x384600,{'responseType':'arraybuffer'}))[_0x167808(0x382)];}else{if((0x0,k[_0x167808(0x295)])(_0x420b0d[_0x167808(0x3a5)]))_0x1bd0b0=Buffer['from'](_0x420b0d[_0x167808(0x3a5)],_0x167808(0x301));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x167808(0x5b2)][_0x167808(0x377)](_0x420b0d[_0x167808(0x334)],_0x1bd0b0),{'update':_0x167808(0x1d7)};}catch(_0x35fc60){throw new O(_0x167808(0x5aa),_0x35fc60['toString']());}}async[a0_0xe3fdb8(0x547)](_0x35ccef,_0x8e259f=a0_0xe3fdb8(0x6d0)){const _0x2a5aa4=a0_0xe3fdb8;try{let _0x102e1e=await this[_0x2a5aa4(0x5b2)]['groupMetadata'](_0x35ccef[_0x2a5aa4(0x334)]),_0x6f858f=null;try{_0x6f858f=(await this[_0x2a5aa4(0x763)](_0x35ccef[_0x2a5aa4(0x334)]))[_0x2a5aa4(0x2c3)];}catch(_0xaa859c){this[_0x2a5aa4(0x2e0)][_0x2a5aa4(0x2b1)](this[_0x2a5aa4(0x413)]+'\x20('+this[_0x2a5aa4(0x635)][_0x2a5aa4(0x278)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x35ccef[_0x2a5aa4(0x334)]+':\x20'+(_0xaa859c instanceof Error?_0xaa859c[_0x2a5aa4(0x20e)]:JSON[_0x2a5aa4(0x291)](_0xaa859c,null,0x2)));}let _0x2998a5=await this[_0x2a5aa4(0x1aa)][_0x2a5aa4(0x277)][_0x2a5aa4(0x6f4)]({'where':{'_id':_0x35ccef[_0x2a5aa4(0x334)]}},{'imagechat':_0x6f858f,'name':_0x102e1e[_0x2a5aa4(0x37e)],'group_size':_0x102e1e['size'],'group_announce':_0x102e1e[_0x2a5aa4(0x2ba)],'lastcache':Date[_0x2a5aa4(0x1d1)]()},this[_0x2a5aa4(0x635)][_0x2a5aa4(0x278)]);return _0x2998a5&&J(this['instanceName'],_0x2a5aa4(0x26e),{'chat':_0x2998a5}),{'metadata':_0x102e1e,'image':_0x6f858f};}catch(_0x5a09ed){if(_0x8e259f===_0x2a5aa4(0x3ba))return;throw new j(_0x2a5aa4(0x15a),_0x5a09ed[_0x2a5aa4(0x4ff)]());}}async[a0_0xe3fdb8(0x33c)](_0x52dec4){const _0x51adae=a0_0xe3fdb8;try{return await this['client'][_0x51adae(0x67e)](_0x52dec4[_0x51adae(0x334)],_0x52dec4['description']),{'update':_0x51adae(0x1d7)};}catch(_0x59e3df){throw new O(_0x51adae(0x720),_0x59e3df['toString']());}}async[a0_0xe3fdb8(0x2a9)](_0x358f2b){const _0x222df0=a0_0xe3fdb8;try{return await this[_0x222df0(0x5b2)]['groupUpdateSubject'](_0x358f2b[_0x222df0(0x334)],_0x358f2b[_0x222df0(0x62f)]),{'update':_0x222df0(0x1d7)};}catch(_0x1c4c59){throw new O(_0x222df0(0x414),_0x1c4c59[_0x222df0(0x4ff)]());}}async[a0_0xe3fdb8(0x236)](_0xd8afb0){const _0x4760fc=a0_0xe3fdb8;try{return await this[_0x4760fc(0x5b2)][_0x4760fc(0x50a)](_0xd8afb0[_0x4760fc(0x334)],_0xd8afb0[_0x4760fc(0x40b)]),{'update':'success'};}catch(_0x4b74de){throw new O(_0x4760fc(0x709),_0x4b74de[_0x4760fc(0x4ff)]());}}async[a0_0xe3fdb8(0x320)](){const _0xd4dc98=a0_0xe3fdb8;try{let _0x55b05f=[],_0x5526a7=await this['client'][_0xd4dc98(0x624)](),_0x3169ad=Object[_0xd4dc98(0x714)](_0x5526a7),_0x200b6e=_0x3169ad[_0xd4dc98(0x304)](_0x2c6b4b=>(0x0,y[_0xd4dc98(0x72b)])(_0x2c6b4b?.['id']))['map'](async _0x58d2ed=>{const _0x4c7a3b=_0xd4dc98;try{return await this[_0x4c7a3b(0x5b2)][_0x4c7a3b(0x2c3)](_0x58d2ed['id'],'preview');}catch(_0x39f6ff){return this[_0x4c7a3b(0x2e0)][_0x4c7a3b(0x2b1)](this[_0x4c7a3b(0x413)]+'\x20('+this[_0x4c7a3b(0x635)][_0x4c7a3b(0x278)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x58d2ed['id']+':\x20'+(_0x39f6ff instanceof Error?_0x39f6ff[_0x4c7a3b(0x20e)]:JSON[_0x4c7a3b(0x291)](_0x39f6ff,null,0x2))),null;}}),_0x3d4bd1=await Promise[_0xd4dc98(0x297)](_0x200b6e);for(let _0x44be87=0x0;_0x44be87<_0x3169ad[_0xd4dc98(0x736)];_0x44be87++){let _0x1bfd32=_0x3169ad[_0x44be87];(0x0,y[_0xd4dc98(0x72b)])(_0x1bfd32?.['id'])&&_0x55b05f[_0xd4dc98(0x4fd)]({'groupJid':_0x1bfd32?.['id'],'subject':_0x1bfd32?.[_0xd4dc98(0x37e)],'subjectOwner':_0x1bfd32?.['subjectOwner']?.[_0xd4dc98(0x4c7)]('@')[0x0],'subjectTime':_0x1bfd32?.['subjectTime'],'size':_0x1bfd32?.[_0xd4dc98(0x197)]?.['length'],'owner':_0x1bfd32?.[_0xd4dc98(0x3ae)]?.[_0xd4dc98(0x4c7)]('@')[0x0],'creation':_0x1bfd32?.[_0xd4dc98(0x1ba)],'desc':_0x1bfd32?.['desc'],'restrict':_0x1bfd32?.['restrict'],'announce':_0x1bfd32?.[_0xd4dc98(0x2ba)],'image':_0x3d4bd1[_0x44be87]});}return _0x55b05f;}catch(_0x54a6b5){throw new j(_0xd4dc98(0x15a),_0x54a6b5['toString']());}}async[a0_0xe3fdb8(0x29c)](_0x28ab19){const _0x347244=a0_0xe3fdb8;try{let _0x70d0b2=await this['client'][_0x347244(0x796)](_0x28ab19['groupJid']);return{'inviteUrl':_0x347244(0x1db)+_0x70d0b2,'inviteCode':_0x70d0b2};}catch(_0x179732){throw new j(_0x347244(0x454),_0x179732[_0x347244(0x4ff)]());}}async['revokeInviteCode'](_0x4b9a56){const _0x4913d8=a0_0xe3fdb8;try{let _0x40ba01=await this['client']['groupRevokeInvite'](_0x4b9a56[_0x4913d8(0x334)]);return{'revoked':!0x0,'inviteUrl':_0x4913d8(0x1db)+_0x40ba01,'inviteCode':_0x40ba01};}catch(_0x81c008){throw new j(_0x4913d8(0x192),_0x81c008[_0x4913d8(0x4ff)]());}}async[a0_0xe3fdb8(0x583)](_0x47f7ba){const _0x435461=a0_0xe3fdb8;try{if((0x0,k[_0x435461(0x3d1)])(_0x47f7ba[_0x435461(0x29c)]))var _0xf40844=_0x47f7ba['inviteCode']['split']('/')[0x3];else var _0xf40844=_0x47f7ba[_0x435461(0x29c)];let _0x2f06c1=await this[_0x435461(0x5b2)][_0x435461(0x1e2)](_0xf40844);return this[_0x435461(0x2e0)][_0x435461(0x2b1)](this[_0x435461(0x413)]+'\x20('+this['instance'][_0x435461(0x278)]+'):\x20'+_0x2f06c1),{'join':!0x0,'inviteCode':_0xf40844,'groupJid':_0x2f06c1};}catch(_0x636d34){throw new j(_0x435461(0x443),_0x636d34[_0x435461(0x4ff)]());}}async[a0_0xe3fdb8(0x193)](_0x251800){const _0x501247=a0_0xe3fdb8;try{return{'participants':(await this[_0x501247(0x5b2)][_0x501247(0x638)](_0x251800[_0x501247(0x334)]))[_0x501247(0x197)]};}catch(_0x47bb74){throw new j(_0x501247(0x14f),_0x47bb74[_0x501247(0x4ff)]());}}async['updateGParticipant'](_0x39ef8a){const _0x328a38=a0_0xe3fdb8;try{let _0x2719f1=_0x39ef8a['participants'][_0x328a38(0x716)](_0x49d8db=>this['createJid'](_0x49d8db));return{'updateParticipants':await this['client'][_0x328a38(0x27c)](_0x39ef8a[_0x328a38(0x334)],_0x2719f1,_0x39ef8a['action'])};}catch(_0x413190){throw new m(_0x328a38(0x41e),_0x413190[_0x328a38(0x4ff)]());}}async[a0_0xe3fdb8(0x42c)](_0x251782){const _0x1f3246=a0_0xe3fdb8;try{let _0x164562=await this[_0x1f3246(0x5b2)][_0x1f3246(0x533)](_0x251782['groupJid'],_0x251782[_0x1f3246(0x572)]);return{'success':!0x0};}catch(_0xdfb599){throw new m(_0x1f3246(0x163),_0xdfb599['toString']());}}async[a0_0xe3fdb8(0x582)](_0x4bf6dc){const _0x4404cf=a0_0xe3fdb8;try{return await this['client'][_0x4404cf(0x13e)](_0x4bf6dc[_0x4404cf(0x334)]),{'groupJid':_0x4bf6dc[_0x4404cf(0x334)],'leave':!0x0};}catch(_0x1ef402){throw new m(_0x4404cf(0x5d4),_0x1ef402[_0x4404cf(0x4ff)]());}}async[a0_0xe3fdb8(0x32f)](_0x31cd42){const _0x4fc344=a0_0xe3fdb8;return await this[_0x4fc344(0x2f3)](_0x31cd42[_0x4fc344(0x3d5)],{'poll':{'name':_0x31cd42[_0x4fc344(0x32f)]?.['name'],'selectableCount':_0x31cd42[_0x4fc344(0x32f)][_0x4fc344(0x509)],'values':_0x31cd42['pollMessage'][_0x4fc344(0x714)]}},_0x31cd42?.[_0x4fc344(0x3ce)]);}async['listMessage'](_0x2375bd){const _0xd3a86c=a0_0xe3fdb8;return await this[_0xd3a86c(0x2f3)](_0x2375bd[_0xd3a86c(0x3d5)],{'listMessage':{'title':_0x2375bd[_0xd3a86c(0x6a7)][_0xd3a86c(0x1e7)],'description':_0x2375bd[_0xd3a86c(0x6a7)]['description'],'buttonText':_0x2375bd['listMessage']?.[_0xd3a86c(0x42f)],'footerText':_0x2375bd[_0xd3a86c(0x6a7)]?.['footerText'],'sections':_0x2375bd['listMessage'][_0xd3a86c(0x507)],'listType':0x2}},_0x2375bd?.[_0xd3a86c(0x3ce)]);}async[a0_0xe3fdb8(0x6ec)](_0x52e58e){const _0x550e70=a0_0xe3fdb8;let _0x5292fe;if(_0x52e58e[_0x550e70(0x6ec)][_0x550e70(0x715)]===_0x550e70(0x386)){let _0x9f26a3=_0x52e58e[_0x550e70(0x6ec)][_0x550e70(0x3d6)][_0x550e70(0x3af)]('\x0a'),_0x41f7b0='',_0x2af727='';_0x9f26a3!==-0x1?(_0x41f7b0=_0x52e58e[_0x550e70(0x6ec)][_0x550e70(0x3d6)][_0x550e70(0x26c)](0x0,_0x9f26a3)[_0x550e70(0x293)](),_0x2af727=_0x52e58e[_0x550e70(0x6ec)]['text'][_0x550e70(0x26c)](_0x9f26a3+0x1)):_0x2af727=_0x52e58e[_0x550e70(0x6ec)]['text'];let _0x4e3dde=this[_0x550e70(0x62b)](_0x52e58e['menuMessage'][_0x550e70(0x190)]);_0x5292fe={'listMessage':{'title':_0x41f7b0,'description':_0x2af727,'buttonText':_0x52e58e[_0x550e70(0x6ec)][_0x550e70(0x42f)]||_0x550e70(0x485),'footerText':_0x52e58e[_0x550e70(0x6ec)][_0x550e70(0x53a)],'sections':_0x4e3dde,'listType':0x2}};}else{if(_0x52e58e[_0x550e70(0x6ec)]['type']==='poll'){let _0x5a977e=_0x52e58e[_0x550e70(0x6ec)][_0x550e70(0x190)]['filter'](_0x37fd80=>!(_0x37fd80[_0x550e70(0x222)]('[')&&_0x37fd80[_0x550e70(0x5d0)](']')))[_0x550e70(0x716)](_0x1cf3a5=>_0x1cf3a5[_0x550e70(0x4c7)]('\x0a')[0x0]);_0x5292fe={'poll':{'name':_0x52e58e[_0x550e70(0x6ec)][_0x550e70(0x3d6)],'selectableCount':_0x52e58e[_0x550e70(0x6ec)][_0x550e70(0x509)]||0x1,'values':_0x5a977e}};}}return await this[_0x550e70(0x2f3)](_0x52e58e[_0x550e70(0x3d5)],_0x5292fe,_0x52e58e?.[_0x550e70(0x3ce)]);}['createSectionsFromValues'](_0x1e3e00){const _0x15957e=a0_0xe3fdb8;let _0x41186f=[],_0x37f922={'rows':[]};return _0x1e3e00[_0x15957e(0x261)](_0x5bb57b=>{const _0x1608ce=_0x15957e;if(_0x5bb57b[_0x1608ce(0x222)]('[')&&_0x5bb57b[_0x1608ce(0x5d0)](']'))_0x37f922[_0x1608ce(0x6ed)]['length']>0x0&&_0x41186f[_0x1608ce(0x4fd)](_0x37f922),_0x37f922={'title':_0x5bb57b[_0x1608ce(0x743)](0x1,-0x1),'rows':[]};else{let _0x471495=_0x5bb57b['split']('\x0a')[_0x1608ce(0x716)](_0x4c962e=>_0x4c962e[_0x1608ce(0x293)]()),_0x586ecf=_0x471495[0x0],_0x73041e=_0x471495[0x1]||null,_0x2529b1=_0x471495[0x2]||_0x586ecf;_0x37f922[_0x1608ce(0x6ed)][_0x1608ce(0x4fd)]({'title':_0x586ecf,'description':_0x73041e,'rowId':_0x2529b1});}}),_0x37f922['rows'][_0x15957e(0x736)]>0x0&&_0x41186f[_0x15957e(0x4fd)](_0x37f922),_0x41186f;}async[a0_0xe3fdb8(0x750)](_0x13e9c0,_0x3b01ec){const _0x3fa07b=a0_0xe3fdb8;if(await this[_0x3fa07b(0x729)](_0x13e9c0,!0x0)){let _0x1c9a59={'where':{'_id':_0x13e9c0['id']}},_0x33f72e={'status':[_0x3b01ec[_0x3fa07b(0x299)]][0x0]};try{let _0xb8616f=await this[_0x3fa07b(0x1aa)]['message'][_0x3fa07b(0x3e6)](_0x1c9a59,_0x33f72e,this[_0x3fa07b(0x635)][_0x3fa07b(0x278)]);_0xb8616f&&J(this[_0x3fa07b(0x413)],_0x3fa07b(0x143),{'message':_0xb8616f});}catch{}}}[a0_0xe3fdb8(0x2af)](_0x4be748){const _0xbc3614=a0_0xe3fdb8;let _0x406f37=[];return _0x4be748[_0xbc3614(0x261)](_0xa78aed=>{const _0x28a01e=_0xbc3614;_0xa78aed[_0x28a01e(0x1e7)]&&_0x406f37[_0x28a01e(0x4fd)]('['+_0xa78aed[_0x28a01e(0x1e7)]+']'),_0xa78aed[_0x28a01e(0x6ed)]['forEach'](_0x39aa78=>{const _0x5b2949=_0x28a01e;_0x406f37[_0x5b2949(0x4fd)](_0x39aa78[_0x5b2949(0x1e7)]);});}),_0x406f37[_0xbc3614(0x483)]('|');}[a0_0xe3fdb8(0x725)](_0x19f228){const _0x152b35=a0_0xe3fdb8;let _0x33b596=_0x19f228[_0x152b35(0x199)](/\\n/g,'\x0a')[_0x152b35(0x4c7)]('\x0a')[_0x152b35(0x304)](_0x1f8519=>_0x1f8519[_0x152b35(0x13f)](_0x152b35(0x79e))||_0x1f8519[_0x152b35(0x13f)](_0x152b35(0x641))),_0x135951='';return _0x33b596[_0x152b35(0x261)](_0xb4ae0a=>{const _0x4168f=_0x152b35;let _0xce49e0=/TEL(?:.*):(.+)/,_0x2a8d9d=/EMAIL(?:.*):(.+)/,_0x3715b3=_0xb4ae0a[_0x4168f(0x2d1)](_0xce49e0),_0x2bbf5d=_0xb4ae0a['match'](_0x2a8d9d);if(_0x3715b3){let _0x3e69=_0x3715b3[0x1][_0x4168f(0x199)](/-| |\+|\(|\)/g,'')[_0x4168f(0x293)]();_0x135951+=_0x4168f(0x526)+_0x3e69+'\x0a';}else{if(_0x2bbf5d){let _0x3ee096=_0x2bbf5d[0x1][_0x4168f(0x293)]();_0x135951+='E-mail:\x20'+_0x3ee096+'\x0a';}}}),_0x135951[_0x152b35(0x293)]();}async[a0_0xe3fdb8(0x58a)](_0x26dad9,_0x423f84,_0x517a7e){const _0x4f9b9a=a0_0xe3fdb8;if(!_0x26dad9[_0x4f9b9a(0x74c)])return;let _0x2d0399=_0x423f84[_0x4f9b9a(0x326)][_0x4f9b9a(0x27d)]['replace'](/:\d{1,2}@/g,'@'),_0x24108d=_0x423f84[_0x4f9b9a(0x326)][_0x4f9b9a(0x63e)],_0x47d4ae=_0x2d0399['endsWith']('@g.us'),_0x5e9ec3=_0x423f84['message_normalized']?.[_0x4f9b9a(0x3d6)]||_0x423f84[_0x4f9b9a(0x3bd)]?.[_0x4f9b9a(0x21c)]||_0x423f84['message_normalized']?.[_0x4f9b9a(0x646)]||_0x423f84[_0x4f9b9a(0x3bd)]?.['name'],_0x483ee5={'lastmsg':_0x423f84['messageTimestamp']||Date[_0x4f9b9a(0x1d1)](),'unreadcount':_0x24108d?0x0:0x1,..._0x24108d||_0x47d4ae?{}:{'name':_0x423f84['pushName']},..._0x47d4ae?{'group':_0x47d4ae}:{}},_0xa6b593=await this['repository'][_0x4f9b9a(0x277)][_0x4f9b9a(0x6f4)]({'where':{'_id':_0x2d0399}},_0x483ee5,this[_0x4f9b9a(0x635)][_0x4f9b9a(0x278)],{'new':!0x0,'upsert':!0x0});if(_0xa6b593[_0x4f9b9a(0x171)]){let _0x1c7ac0=await this[_0x4f9b9a(0x1aa)][_0x4f9b9a(0x506)]['find']({'where':{}},this[_0x4f9b9a(0x635)][_0x4f9b9a(0x278)]),_0x443470=new Set(_0x1c7ac0[_0x4f9b9a(0x716)](_0xf151f5=>_0xf151f5['_id'])),_0x4cefa2=(_0xa6b593['leadInfo']?.['etiquetas']||[])[_0x4f9b9a(0x304)](_0x3843d6=>_0x443470['has'](_0x3843d6)),_0xac4756={'leadInfo.etiquetas':_0x4cefa2,'imported':!0x1};_0xa6b593=await this[_0x4f9b9a(0x1aa)][_0x4f9b9a(0x277)]['updateOne']({'where':{'_id':_0x2d0399}},_0xac4756,this[_0x4f9b9a(0x635)][_0x4f9b9a(0x278)]);for(let _0x526c08 of _0x4cefa2)await this['AddChatLabel'](_0x526c08,_0x2d0399);}if(!_0x47d4ae&&(!_0xa6b593?.['leadInfo']||!_0xa6b593[_0x4f9b9a(0x39e)][_0x4f9b9a(0x71f)])&&_0x423f84[_0x4f9b9a(0x27b)]&&!_0x24108d&&(_0xa6b593=await this['repository'][_0x4f9b9a(0x277)][_0x4f9b9a(0x6f4)]({'where':{'_id':_0x2d0399}},{'leadInfo.nome':_0x423f84[_0x4f9b9a(0x27b)]},this['instance']['wuid'],{'new':!0x0,'upsert':!0x0})),_0x517a7e===_0x4f9b9a(0x1f5)&&_0x24108d&&this['AutomateSystem']?.[_0x4f9b9a(0x244)][_0x4f9b9a(0x3e1)]&&!_0x5e9ec3[_0x4f9b9a(0x222)](this[_0x4f9b9a(0x1c2)]?.['flowConfig'][_0x4f9b9a(0x346)])){let _0x49455d=(this[_0x4f9b9a(0x1c2)]?.[_0x4f9b9a(0x244)][_0x4f9b9a(0x6b8)]||0x5)*0xea60,_0x1221f6=Date[_0x4f9b9a(0x1d1)]()+_0x49455d;_0xa6b593?.['leadInfo']?.[_0x4f9b9a(0x3ab)]===0x0||(await this[_0x4f9b9a(0x1aa)]['chat'][_0x4f9b9a(0x6f4)]({'where':{'_id':_0x2d0399}},{'leadInfo.desativadoFluxoAte':_0x1221f6},this[_0x4f9b9a(0x635)][_0x4f9b9a(0x278)],{'new':!0x0,'upsert':!0x1}),this[_0x4f9b9a(0x2e0)][_0x4f9b9a(0x2b1)](this[_0x4f9b9a(0x413)]+'\x20('+this['instance'][_0x4f9b9a(0x278)]+_0x4f9b9a(0x417)+_0x1221f6+'.'));}if(_0xa6b593)J(this[_0x4f9b9a(0x413)],'chats',{'chat':_0xa6b593});else{this[_0x4f9b9a(0x2e0)]['error'](this[_0x4f9b9a(0x413)]+'\x20('+this[_0x4f9b9a(0x635)][_0x4f9b9a(0x278)]+_0x4f9b9a(0x68f));return;}if(!this[_0x4f9b9a(0x1c2)]?.[_0x4f9b9a(0x244)][_0x4f9b9a(0x3e1)])return this[_0x4f9b9a(0x2e0)][_0x4f9b9a(0x2b1)](this['instanceName']+'\x20('+this[_0x4f9b9a(0x635)]['wuid']+_0x4f9b9a(0x36a)),null;if(_0xa6b593[_0x4f9b9a(0x1ff)][_0x4f9b9a(0x13f)](_0x4f9b9a(0x138))&&this[_0x4f9b9a(0x1c2)]?.[_0x4f9b9a(0x244)][_0x4f9b9a(0x19e)]===!0x0)return this['logger'][_0x4f9b9a(0x2b1)](this[_0x4f9b9a(0x413)]+'\x20('+this['instance']['wuid']+_0x4f9b9a(0x718)),null;if(_0xa6b593[_0x4f9b9a(0x39e)]){if(_0xa6b593[_0x4f9b9a(0x39e)][_0x4f9b9a(0x3ab)]===0x0||_0xa6b593[_0x4f9b9a(0x39e)][_0x4f9b9a(0x634)])return this[_0x4f9b9a(0x2e0)][_0x4f9b9a(0x2b1)](this[_0x4f9b9a(0x413)]+'\x20('+this[_0x4f9b9a(0x635)]['wuid']+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x2d0399+_0x4f9b9a(0x1cd)),null;if(_0xa6b593[_0x4f9b9a(0x39e)][_0x4f9b9a(0x3ab)]>Date[_0x4f9b9a(0x1d1)]()&&!_0x423f84['message_normalized']?.[_0x4f9b9a(0x646)])return this['logger'][_0x4f9b9a(0x2b1)](this[_0x4f9b9a(0x413)]+'\x20('+this['instance'][_0x4f9b9a(0x278)]+_0x4f9b9a(0x618)+new Date(_0xa6b593[_0x4f9b9a(0x39e)][_0x4f9b9a(0x3ab)])['toLocaleString']()+_0x4f9b9a(0x1cd)),null;}this[_0x4f9b9a(0x2e0)]['verbose'](this[_0x4f9b9a(0x413)]+'\x20('+this['instance'][_0x4f9b9a(0x278)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0x517a7e,_0x423f84);}async['upsertChats'](_0x15a9ca,_0x52b902){const _0x33fdc5=a0_0xe3fdb8;if(_0x52b902[_0x33fdc5(0x74c)]){let _0x26211e=_0x15a9ca[_0x33fdc5(0x716)](async _0x1872d8=>{const _0x3bc36e=_0x33fdc5;try{let _0x1cacc0={'_id':_0x1872d8[_0x3bc36e(0x1ff)],'owner':_0x1872d8[_0x3bc36e(0x3ae)],'lastcache':0x0};if(_0x1872d8['group']!==null&&(_0x1cacc0[_0x3bc36e(0x5c7)]=_0x1872d8[_0x3bc36e(0x5c7)]),_0x1872d8[_0x3bc36e(0x62f)]!==null&&(_0x1cacc0['name']=_0x1872d8[_0x3bc36e(0x62f)]),_0x1872d8['contactname']!==null&&(_0x1cacc0[_0x3bc36e(0x759)]=_0x1872d8['contactname']),_0x1872d8['imagechat']!==null&&(_0x1cacc0[_0x3bc36e(0x517)]=_0x1872d8['imagechat']),_0x1872d8[_0x3bc36e(0x517)]===null&&(_0x1cacc0[_0x3bc36e(0x517)]=_0x3bc36e(0x32e)),_0x1872d8['lastmsg']!==null&&(_0x1cacc0[_0x3bc36e(0x532)]=_0x1872d8[_0x3bc36e(0x532)]),_0x1872d8[_0x3bc36e(0x391)]!==null&&(_0x1cacc0[_0x3bc36e(0x391)]=_0x1872d8[_0x3bc36e(0x391)]),_0x1872d8[_0x3bc36e(0x64f)]!==null&&(_0x1cacc0['unreadcount']=_0x1872d8['unreadcount']),Object['keys'](_0x1cacc0)['length']>0x0)return await this[_0x3bc36e(0x1aa)]['chat'][_0x3bc36e(0x6f4)]({'where':{'_id':_0x1872d8[_0x3bc36e(0x1ff)]}},_0x1cacc0,this[_0x3bc36e(0x635)][_0x3bc36e(0x278)]);}catch(_0x5e2a81){return console['error'](_0x3bc36e(0x13b)+_0x1872d8[_0x3bc36e(0x1ff)]+':',_0x5e2a81),null;}}),_0x28cade=(await Promise[_0x33fdc5(0x297)](_0x26211e))['filter'](_0x2188fa=>_0x2188fa!==null)[_0x33fdc5(0x736)];this[_0x33fdc5(0x2e0)]['verbose'](this[_0x33fdc5(0x413)]+'\x20('+this[_0x33fdc5(0x635)][_0x33fdc5(0x278)]+_0x33fdc5(0x668)+_0x28cade+_0x33fdc5(0x26d)+this[_0x33fdc5(0x635)][_0x33fdc5(0x278)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0xe3fdb8(0x3d2)](_0xa716bb){const _0x2755c6=a0_0xe3fdb8;this[_0x2755c6(0x2e0)][_0x2755c6(0x2b1)](this[_0x2755c6(0x413)]+'\x20('+this[_0x2755c6(0x635)][_0x2755c6(0x278)]+_0x2755c6(0x17d));let _0x6dbd55={'readMessages':[{'remoteJid':_0xa716bb[_0x2755c6(0x24a)][_0x2755c6(0x732)][_0x2755c6(0x326)][_0x2755c6(0x27d)],'fromMe':_0xa716bb['chatLog'][_0x2755c6(0x732)]['key'][_0x2755c6(0x63e)],'id':_0xa716bb[_0x2755c6(0x24a)][_0x2755c6(0x732)][_0x2755c6(0x326)]['id']}]};await this[_0x2755c6(0x457)](_0x6dbd55);}async[a0_0xe3fdb8(0x5b3)](_0x26c5d3,_0x3329a7){const _0x18c58d=a0_0xe3fdb8;try{let {key:_0x411597,message_normalized:_0x3c004e}=_0x3329a7,_0x33c478=_0x3c004e,_0x12622b=_0x3c004e[_0x18c58d(0x3d6)]||_0x3c004e[_0x18c58d(0x21c)]||_0x3c004e['vote']||_0x3c004e[_0x18c58d(0x62f)],_0x2263e5=_0x411597['remoteJid'],_0x32399c;if(_0x33c478[_0x18c58d(0x326)]['fromMe']&&_0x12622b[_0x18c58d(0x293)]()!==this[_0x18c58d(0x1c2)]?.['flowConfig']['stopConversation']['trim']())return this['logger'][_0x18c58d(0x2b1)](this[_0x18c58d(0x413)]+'\x20('+this[_0x18c58d(0x635)]['wuid']+_0x18c58d(0x79c)),null;if(_0x33c478[_0x18c58d(0x326)][_0x18c58d(0x63e)]&&_0x12622b['trim']()===this[_0x18c58d(0x1c2)]?.[_0x18c58d(0x244)][_0x18c58d(0x594)][_0x18c58d(0x293)]()){this[_0x18c58d(0x2e0)][_0x18c58d(0x2b1)](this[_0x18c58d(0x413)]+'\x20('+this[_0x18c58d(0x635)]['wuid']+_0x18c58d(0x2b9));let _0x40f79b=await this[_0x18c58d(0x1aa)][_0x18c58d(0x39c)][_0x18c58d(0x579)]({'remoteJid':_0x2263e5,'status':'open'},this[_0x18c58d(0x635)][_0x18c58d(0x278)]);this[_0x18c58d(0x2e0)][_0x18c58d(0x2b1)](this[_0x18c58d(0x413)]+'\x20('+this[_0x18c58d(0x635)][_0x18c58d(0x278)]+_0x18c58d(0x573)+_0x40f79b);let _0x2ef4af=Date[_0x18c58d(0x1d1)](),_0x474aea;return this[_0x18c58d(0x1c2)]?.[_0x18c58d(0x244)][_0x18c58d(0x4be)]===0x0?_0x474aea={'stoppedUntil':_0x2ef4af+0x7591f6200}:_0x474aea={'stoppedUntil':_0x2ef4af+this[_0x18c58d(0x1c2)]?.['flowConfig'][_0x18c58d(0x4be)]*0x3c*0x3e8},this[_0x18c58d(0x2e0)][_0x18c58d(0x2b1)](this[_0x18c58d(0x413)]+'\x20('+this['instance'][_0x18c58d(0x278)]+_0x18c58d(0x52d)+_0x474aea),this['updateStopChat'](_0x32399c,_0x474aea[_0x18c58d(0x290)]),null;}if(_0x12622b&&_0x12622b[_0x18c58d(0x222)](this[_0x18c58d(0x1c2)]?.[_0x18c58d(0x244)]['prefixCommand'])&&_0x12622b[_0x18c58d(0x736)]>0x4){let _0x54bdff=await this[_0x18c58d(0x1aa)][_0x18c58d(0x4e6)][_0x18c58d(0x6a9)]({'where':{'startCommandWord':_0x12622b}},this['instance'][_0x18c58d(0x278)]);if(this[_0x18c58d(0x2e0)][_0x18c58d(0x2b1)](this[_0x18c58d(0x413)]+'\x20('+this['instance'][_0x18c58d(0x278)]+_0x18c58d(0x74d)),_0x54bdff)_0x32399c=await this[_0x18c58d(0x31c)](_0x54bdff,_0x33c478['key'],_0x33c478);else return this[_0x18c58d(0x2e0)][_0x18c58d(0x2b1)](this['instanceName']+'\x20('+this[_0x18c58d(0x635)][_0x18c58d(0x278)]+_0x18c58d(0x34f)),null;}else _0x32399c=await this['findConversation'](_0x2263e5,_0x33c478);if(_0x32399c){this[_0x18c58d(0x2e0)][_0x18c58d(0x2b1)](this[_0x18c58d(0x413)]+'\x20('+this[_0x18c58d(0x635)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x411597[_0x18c58d(0x63e)]&&_0x32399c[_0x18c58d(0x5ea)]&&this[_0x18c58d(0x3d2)](_0x32399c);let _0x5dcc75=await this[_0x18c58d(0x424)](_0x32399c);_0x5dcc75&&await this[_0x18c58d(0x444)](_0x32399c,_0x5dcc75);}}catch(_0x537a0a){this[_0x18c58d(0x2e0)][_0x18c58d(0x430)](this['instanceName']+'\x20('+this[_0x18c58d(0x635)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x537a0a instanceof Error?_0x537a0a[_0x18c58d(0x20e)]:JSON[_0x18c58d(0x291)](_0x537a0a,null,0x2)));}}['flattenObject'](_0x2db205,_0x277c35='',_0x9b752d={},_0x25d538=!0x0){const _0x39da22=a0_0xe3fdb8;for(let _0x437836 in _0x2db205){let _0x50a150=_0x25d538?'_'+_0x437836:''+_0x277c35+_0x437836;typeof _0x2db205[_0x437836]==_0x39da22(0x5c2)&&_0x2db205[_0x437836]!==null?this[_0x39da22(0x41c)](_0x2db205[_0x437836],_0x50a150+'.',_0x9b752d,!0x1):_0x9b752d[_0x50a150]=String(_0x2db205[_0x437836]);}return _0x9b752d;}[a0_0xe3fdb8(0x60f)](_0x2d0205){const _0xbf9aa5=a0_0xe3fdb8;let _0x2a37d0={};for(let _0x4860d0 of _0x2d0205)typeof _0x4860d0[_0xbf9aa5(0x62f)]==_0xbf9aa5(0x467)&&typeof _0x4860d0[_0xbf9aa5(0x168)]==_0xbf9aa5(0x467)&&(_0x2a37d0[_0x4860d0[_0xbf9aa5(0x62f)]]=_0x4860d0[_0xbf9aa5(0x168)]);return _0x2a37d0;}async[a0_0xe3fdb8(0x424)](_0x5acac7){const _0x539f1a=a0_0xe3fdb8;if(!this[_0x539f1a(0x1c2)]?.[_0x539f1a(0x244)][_0x539f1a(0x3e1)]||_0x5acac7['status']!=='open'&&_0x5acac7[_0x539f1a(0x538)]==='')return null;let _0x360d5b=_0x5acac7[_0x539f1a(0x24a)]['lastBlockId']||_0x539f1a(0x219);typeof _0x5acac7['chatLog'][_0x539f1a(0x783)]>'u'&&(_0x5acac7[_0x539f1a(0x24a)][_0x539f1a(0x783)]=!0x0);let _0x253cea=_0x5acac7['chatLog'][_0x539f1a(0x783)];this['logger'][_0x539f1a(0x2b1)](this['instanceName']+'\x20('+this[_0x539f1a(0x635)]['wuid']+_0x539f1a(0x182)+_0x360d5b+_0x539f1a(0x29d)+_0x253cea);let _0x386dde=_0x360d5b==='start'?_0x5acac7[_0x539f1a(0x5ef)]['find'](_0xeaed48=>_0xeaed48[_0x539f1a(0x715)]===_0x539f1a(0x219)):_0x5acac7[_0x539f1a(0x5ef)][_0x539f1a(0x579)](_0x2ba435=>_0x2ba435[_0x539f1a(0x1ff)][_0x539f1a(0x4ff)]()===_0x360d5b[_0x539f1a(0x4ff)]());if(!_0x386dde)return this[_0x539f1a(0x2e0)]['error'](this[_0x539f1a(0x413)]+'\x20('+this[_0x539f1a(0x635)][_0x539f1a(0x278)]+_0x539f1a(0x48f)+_0x360d5b),null;let _0xb73463={'_pushName':_0x5acac7[_0x539f1a(0x24a)][_0x539f1a(0x732)][_0x539f1a(0x27b)],..._0x5acac7[_0x539f1a(0x24a)][_0x539f1a(0x5f9)]},_0x365740=null;if(_0x5acac7[_0x539f1a(0x538)]){let _0x44c815=_0x5acac7[_0x539f1a(0x24a)][_0x539f1a(0x732)][_0x539f1a(0x646)],_0x2f4915=_0x5acac7[_0x539f1a(0x174)][_0x539f1a(0x579)](_0x468dcf=>_0x468dcf[_0x539f1a(0x302)]===_0x44c815);if(_0x2f4915){let _0x35ed39=_0x2f4915[_0x539f1a(0x35c)];if(_0x365740=_0x5acac7['blocks'][_0x539f1a(0x579)](_0x1ff957=>_0x1ff957[_0x539f1a(0x59d)]===_0x35ed39&&_0x1ff957[_0x539f1a(0x186)]===0x1),_0x386dde[_0x539f1a(0x53c)][_0x539f1a(0x574)]){let _0x322938={'id':_0x5acac7[_0x539f1a(0x538)],'remoteJid':_0x5acac7[_0x539f1a(0x27d)],'fromMe':!0x0};await this['deleteMessage'](_0x322938);}if(_0x386dde[_0x539f1a(0x53c)][_0x539f1a(0x574)]&&_0x386dde['uazapi'][_0x539f1a(0x3f4)]&&_0x386dde[_0x539f1a(0x53c)][_0x539f1a(0x1ee)]===_0x539f1a(0x312)){let _0x78b64a={'number':_0x5acac7[_0x539f1a(0x27d)],'options':{'delay':0x0},'textMessage':{'text':_0x539f1a(0x601)+_0x5acac7[_0x539f1a(0x3ed)]+_0x539f1a(0x52b)+_0x44c815}};await this[_0x539f1a(0x2e2)](_0x78b64a);}_0x5acac7[_0x539f1a(0x299)]='open',_0x5acac7[_0x539f1a(0x538)]='',_0x5acac7['waitingMenu_text']='',_0x5acac7[_0x539f1a(0x174)]=[];}else{this['logger']['verbose'](this[_0x539f1a(0x413)]+'\x20('+this[_0x539f1a(0x635)]['wuid']+_0x539f1a(0x6af));let _0xca8eda={'activatedCount':_0x5acac7[_0x539f1a(0x24a)]['blockLogs'][_0x539f1a(0x304)](_0x491669=>String(_0x491669[_0x539f1a(0x166)])===String(_0x360d5b))[_0x539f1a(0x736)],'moreLogs':[_0x539f1a(0x1fc)]};if(_0x386dde[_0x539f1a(0x53c)][_0x539f1a(0x315)]){let _0x2a35ec={'number':_0x5acac7['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x386dde[_0x539f1a(0x53c)][_0x539f1a(0x315)]}};await this['textMessage'](_0x2a35ec);}if(_0x386dde[_0x539f1a(0x18a)]!==void 0x0&&_0xca8eda[_0x539f1a(0x262)]>=_0x386dde[_0x539f1a(0x18a)]){let _0x59d3c3=Date[_0x539f1a(0x1d1)](),_0x411c9a=_0x386dde[_0x539f1a(0x713)]??0xa;isNaN(_0x411c9a)&&(_0x411c9a=0xa);let _0x5c02c4=_0x59d3c3+_0x411c9a*0x3c*0x3e8;_0xca8eda[_0x539f1a(0x6ca)]=_0x5c02c4,_0xca8eda[_0x539f1a(0x6b2)][_0x539f1a(0x4fd)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x539f1a(0x5b6)](_0x5acac7,_0x5c02c4),_0x5acac7[_0x539f1a(0x538)]='',_0x5acac7[_0x539f1a(0x3ed)]='',_0x5acac7[_0x539f1a(0x174)]=[];}return this['updateConversation'](_0x5acac7,_0x386dde,_0xca8eda,!0x0),null;}}if(_0x253cea&&_0x386dde[_0x539f1a(0x35c)]&&!_0x5acac7[_0x539f1a(0x538)]){let _0x2766f4=_0x5acac7[_0x539f1a(0x5ef)][_0x539f1a(0x304)](_0x3183ce=>_0x3183ce['groupId'][_0x539f1a(0x4ff)]()===_0x386dde[_0x539f1a(0x35c)][_0x539f1a(0x4ff)]())[_0x539f1a(0x770)]((_0x1ca024,_0x2bd1d1)=>_0x1ca024['order']-_0x2bd1d1[_0x539f1a(0x186)]);_0x2766f4[_0x539f1a(0x736)]>0x0&&(_0x365740=_0x2766f4[0x0]);}if(!_0x365740){let _0x32d013=_0x386dde[_0x539f1a(0x59d)],_0x21f9e5=_0x5acac7[_0x539f1a(0x5ef)][_0x539f1a(0x304)](_0x2540bc=>_0x2540bc[_0x539f1a(0x59d)]===_0x32d013&&_0x2540bc['order']>_0x386dde[_0x539f1a(0x186)])[_0x539f1a(0x770)]((_0xf18fcd,_0x30350a)=>_0xf18fcd['order']-_0x30350a[_0x539f1a(0x186)]);_0x21f9e5[_0x539f1a(0x736)]>0x0&&(_0x365740=_0x21f9e5[0x0]);}if(!_0x365740)return _0x5acac7[_0x539f1a(0x299)]='closed',null;_0x5acac7[_0x539f1a(0x24a)][_0x539f1a(0x5f9)]=_0xb73463;let _0x2f26aa=JSON['parse'](JSON[_0x539f1a(0x291)](_0x365740));return this['replaceVariablesInObject'](_0x2f26aa,_0x5acac7[_0x539f1a(0x24a)][_0x539f1a(0x5f9)]),_0x5acac7[_0x539f1a(0x24a)][_0x539f1a(0x286)]=_0x2f26aa[_0x539f1a(0x1ff)],_0x5acac7[_0x539f1a(0x24a)][_0x539f1a(0x783)]=!0x0,_0x2f26aa;}[a0_0xe3fdb8(0x569)](_0x27a7d1,_0x2a5904){return _0x27a7d1['replace'](/\{\{([^}]+)\}\}/g,(_0x4ff53e,_0x3cdcb3)=>_0x2a5904[_0x3cdcb3]||'');}[a0_0xe3fdb8(0x300)](_0x3a5aeb,_0x1bd52c){const _0xb63efa=a0_0xe3fdb8;for(let _0x405fc8 in _0x3a5aeb)typeof _0x3a5aeb[_0x405fc8]==_0xb63efa(0x467)?_0x3a5aeb[_0x405fc8]=this[_0xb63efa(0x569)](_0x3a5aeb[_0x405fc8],_0x1bd52c):typeof _0x3a5aeb[_0x405fc8]==_0xb63efa(0x5c2)&&this[_0xb63efa(0x300)](_0x3a5aeb[_0x405fc8],_0x1bd52c);}async[a0_0xe3fdb8(0x530)](_0x3fcbfe,_0x5bc5b6){const _0x27fca5=a0_0xe3fdb8;let _0x18044b=_0x5bc5b6[_0x27fca5(0x1ff)];if(_0x3fcbfe[_0x27fca5(0x24a)]&&_0x3fcbfe[_0x27fca5(0x24a)][_0x27fca5(0x431)]){let _0x2b1a87=_0x3fcbfe[_0x27fca5(0x24a)][_0x27fca5(0x431)][_0x27fca5(0x304)](_0x5e8ca9=>String(_0x5e8ca9['blockId'])===String(_0x18044b))[_0x27fca5(0x649)]();if(_0x2b1a87&&_0x2b1a87[_0x27fca5(0x430)]&&_0x5bc5b6['stopIfLastReturnedError'])return _0x3fcbfe[_0x27fca5(0x299)]=_0x27fca5(0x5d2),await this[_0x27fca5(0x379)](_0x3fcbfe),null;}if(_0x5bc5b6[_0x27fca5(0x715)]===_0x27fca5(0x53c)&&_0x5bc5b6[_0x27fca5(0x53c)][_0x27fca5(0x647)]===_0x27fca5(0x6cc)&&_0x3fcbfe[_0x27fca5(0x538)])return _0x3fcbfe['chatLog']['lastBlockId']=_0x18044b,await this[_0x27fca5(0x379)](_0x3fcbfe),null;let _0x73febd=await this['NextBlock'](_0x3fcbfe);if(_0x3fcbfe['chatLog']&&_0x3fcbfe[_0x27fca5(0x24a)][_0x27fca5(0x431)]){let _0x26759a=_0x3fcbfe[_0x27fca5(0x24a)][_0x27fca5(0x431)]['filter'](_0x419c94=>String(_0x419c94[_0x27fca5(0x166)])===String(_0x18044b))[_0x27fca5(0x736)];if(_0x5bc5b6[_0x27fca5(0x18a)]!==void 0x0&&_0x26759a>=_0x5bc5b6[_0x27fca5(0x18a)]){let _0x133d53=Date[_0x27fca5(0x1d1)](),_0x3a7edc=_0x5bc5b6[_0x27fca5(0x713)]??0xa;isNaN(_0x3a7edc)&&(_0x3a7edc=0xa);let _0x32bd60=_0x133d53+_0x3a7edc*0x3c*0x3e8,_0x12089e={'newStoppedUntil':_0x32bd60};return this[_0x27fca5(0x5b6)](_0x3fcbfe,_0x32bd60),this['updateConversation'](_0x3fcbfe,_0x5bc5b6,_0x12089e,!0x0),null;}}_0x73febd&&_0x73febd[_0x27fca5(0x715)]!==_0x27fca5(0x53f)&&await this['processblock'](_0x3fcbfe,_0x73febd),_0x73febd||await this[_0x27fca5(0x379)](_0x3fcbfe),_0x73febd&&_0x73febd[_0x27fca5(0x715)]===_0x27fca5(0x53f)&&(_0x3fcbfe[_0x27fca5(0x24a)][_0x27fca5(0x286)]=_0x18044b,await this[_0x27fca5(0x379)](_0x3fcbfe));}async[a0_0xe3fdb8(0x444)](_0xb0f09e,_0x433437){const _0x1a7efc=a0_0xe3fdb8;try{let _0x4f16da=_0x433437['type'];this[_0x1a7efc(0x2e0)][_0x1a7efc(0x2b1)](this[_0x1a7efc(0x413)]+'\x20('+this[_0x1a7efc(0x635)][_0x1a7efc(0x278)]+'):\x20Going\x20to\x20'+_0x4f16da);let _0x2574a9={'uazapi':()=>this[_0x1a7efc(0x28c)](_0xb0f09e,_0x433437),'save':()=>this[_0x1a7efc(0x744)](_0xb0f09e,_0x433437),'stop':()=>this[_0x1a7efc(0x594)](_0xb0f09e,_0x433437),'condition':()=>this[_0x1a7efc(0x1c5)](_0xb0f09e,_0x433437),'varedit':()=>this[_0x1a7efc(0x4c6)](_0xb0f09e,_0x433437),'apirequest':()=>this[_0x1a7efc(0x5f5)](_0xb0f09e,_0x433437),'goToFlow':()=>this[_0x1a7efc(0x56b)](_0xb0f09e,_0x433437)}[_0x4f16da];_0x2574a9&&await _0x2574a9();}catch(_0x4d3b71){this['logger'][_0x1a7efc(0x430)](this['instanceName']+'\x20('+this[_0x1a7efc(0x635)][_0x1a7efc(0x278)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x4d3b71 instanceof Error?_0x4d3b71[_0x1a7efc(0x20e)]:JSON[_0x1a7efc(0x291)](_0x4d3b71,null,0x2)));}}async['processgoToFlow'](_0x10f56f,_0x4f7f54){const _0x58583a=a0_0xe3fdb8;if(this['logger']['verbose'](this[_0x58583a(0x413)]+'\x20('+this[_0x58583a(0x635)]['wuid']+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x10f56f||!_0x4f7f54)return this[_0x58583a(0x2e0)][_0x58583a(0x430)](this['instanceName']+'\x20('+this[_0x58583a(0x635)][_0x58583a(0x278)]+_0x58583a(0x767)),null;await this[_0x58583a(0x6dc)](_0x10f56f,_0x4f7f54,{},!0x0,!0x0),console[_0x58583a(0x21f)](_0x58583a(0x191)),console[_0x58583a(0x21f)](_0x4f7f54);let _0x29c9ec=_0x4f7f54['goToFlow'];console['log'](_0x58583a(0x39f),_0x29c9ec),_0x10f56f=await this[_0x58583a(0x6b6)](_0x29c9ec,_0x10f56f['remoteJid'],_0x10f56f['chatLog']['realVariables']),this[_0x58583a(0x2e0)][_0x58583a(0x2b1)](this['instanceName']+'\x20('+this[_0x58583a(0x635)]['wuid']+_0x58583a(0x23d));let _0x14999c=await this[_0x58583a(0x424)](_0x10f56f);_0x14999c&&await this[_0x58583a(0x444)](_0x10f56f,_0x14999c);}async[a0_0xe3fdb8(0x6b6)](_0x1b3d20,_0x285106,_0x280241){const _0x48f3a7=a0_0xe3fdb8;this[_0x48f3a7(0x2e0)]['verbose'](this[_0x48f3a7(0x413)]+'\x20('+this[_0x48f3a7(0x635)][_0x48f3a7(0x278)]+_0x48f3a7(0x13c));try{if(_0x1b3d20=await this[_0x48f3a7(0x1aa)][_0x48f3a7(0x4e6)][_0x48f3a7(0x6a9)]({'where':{'name':_0x1b3d20}},this[_0x48f3a7(0x635)][_0x48f3a7(0x278)]),!_0x1b3d20)return this[_0x48f3a7(0x2e0)]['error'](this[_0x48f3a7(0x413)]+'\x20('+this[_0x48f3a7(0x635)][_0x48f3a7(0x278)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x3e6d59=require(_0x48f3a7(0x469))['ObjectId'],_0x4cee0b=Date[_0x48f3a7(0x1d1)](),_0x556372='start',_0x188a09={},_0x38e758={},_0x1bfb08={..._0x1b3d20,'chatLog':null},_0x52359b={'lastReceivedMessage':_0x188a09,'lastSendMessage':_0x38e758,'lastBlockId':_0x556372,'lastCondition':!0x0,'realVariables':_0x280241};_0x1bfb08['chatLog']=_0x52359b,_0x1bfb08[_0x48f3a7(0x24a)][_0x48f3a7(0x5f9)]={..._0x280241},delete _0x1bfb08[_0x48f3a7(0x1ff)],_0x1bfb08[_0x48f3a7(0x1ff)]=new _0x3e6d59(),_0x1bfb08[_0x48f3a7(0x27f)]=_0x4cee0b,_0x1bfb08[_0x48f3a7(0x299)]=_0x48f3a7(0x389),_0x1bfb08[_0x48f3a7(0x27d)]=_0x285106;let _0x43cadf=await this['repository']['flowConversation'][_0x48f3a7(0x6f4)](_0x1bfb08['_id'],_0x1bfb08,this[_0x48f3a7(0x635)][_0x48f3a7(0x278)]);return this[_0x48f3a7(0x2e0)][_0x48f3a7(0x2b1)](this[_0x48f3a7(0x413)]+'\x20('+this['instance'][_0x48f3a7(0x278)]+_0x48f3a7(0x351)),_0x43cadf?_0x1bfb08:null;}catch(_0xb933a7){throw this[_0x48f3a7(0x2e0)][_0x48f3a7(0x430)](this[_0x48f3a7(0x413)]+'\x20('+this['instance'][_0x48f3a7(0x278)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0xb933a7 instanceof Error?_0xb933a7[_0x48f3a7(0x20e)]:JSON[_0x48f3a7(0x291)](_0xb933a7,null,0x2))),new m(_0xb933a7['message']);}}async['processApiRequest'](_0x7ffa49,_0x158ee6){const _0x2d109e=a0_0xe3fdb8;let _0x48a442,_0x470895;try{let _0x14525e=_0x158ee6['apirequest'];if(!_0x14525e||!_0x14525e[_0x2d109e(0x5e3)]||!_0x14525e[_0x2d109e(0x56d)])throw new Error(_0x2d109e(0x404));let _0x404a8d;([_0x2d109e(0x4bd),_0x2d109e(0x78b),_0x2d109e(0x224)]['some'](_0x56e921=>_0x14525e[_0x2d109e(0x5e3)]['includes'](_0x56e921))||_0x14525e[_0x2d109e(0x693)])&&(_0x404a8d=_0x2d109e(0x6c6));let _0x1d5323={'method':_0x14525e[_0x2d109e(0x56d)],'url':_0x14525e['url'],'headers':_0x14525e[_0x2d109e(0x3fe)]||{},'data':_0x14525e[_0x2d109e(0x1c8)]||{},..._0x404a8d&&{'responseType':_0x404a8d}},_0x2aa46d=await(0x0,se[_0x2d109e(0x3bb)])(_0x1d5323),_0x3b8fef=_0x2aa46d['headers']['content-type'];if(_0x3b8fef&&_0x3b8fef[_0x2d109e(0x13f)](_0x2d109e(0x428))){_0x48a442=_0x2aa46d[_0x2d109e(0x382)];let _0x4f5c70=_0x7ffa49[_0x2d109e(0x24a)][_0x2d109e(0x5f9)],_0xdacc82=this[_0x2d109e(0x41c)](_0x48a442);return Object['assign'](_0x4f5c70,_0xdacc82),_0x7ffa49[_0x2d109e(0x24a)][_0x2d109e(0x5f9)]=_0x4f5c70,_0x470895={'error':!0x1,'apiResponse':_0x48a442},this['updateConversation'](_0x7ffa49,_0x158ee6,_0x470895),_0x48a442;}if(_0x3b8fef&&(_0x3b8fef[_0x2d109e(0x13f)]('application/octet-stream')||_0x3b8fef[_0x2d109e(0x13f)](_0x2d109e(0x3a5))||_0x3b8fef[_0x2d109e(0x13f)](_0x2d109e(0x1b5))||_0x3b8fef[_0x2d109e(0x13f)](_0x2d109e(0x567)))){this[_0x2d109e(0x2e0)][_0x2d109e(0x2b1)](this[_0x2d109e(0x413)]+'\x20('+this[_0x2d109e(0x635)][_0x2d109e(0x278)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x3b8fef);let _0x7f118f=(0x0,Me['v4'])(),_0x5d0d7c='',_0x2ba29d={'image/jpeg':_0x2d109e(0x1e6),'image/png':'.png','image/gif':_0x2d109e(0x24c),'image/webp':_0x2d109e(0x737),'image/svg+xml':'.svg','audio/mpeg':_0x2d109e(0x6fc),'audio/ogg':_0x2d109e(0x58b),'audio/wav':_0x2d109e(0x6a8),'video/mp4':_0x2d109e(0x70f),'video/webm':'.webm','video/ogg':_0x2d109e(0x640),'text/plain':_0x2d109e(0x4ed),'application/pdf':'.pdf','application/msword':_0x2d109e(0x69c),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x2d109e(0x753),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x2d109e(0x77d),'application/vnd.ms-powerpoint':_0x2d109e(0x742),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x2ba29d[_0x3b8fef]?(_0x5d0d7c=_0x2ba29d[_0x3b8fef],this[_0x2d109e(0x2e0)][_0x2d109e(0x2b1)](this['instanceName']+'\x20('+this[_0x2d109e(0x635)][_0x2d109e(0x278)]+_0x2d109e(0x487)+_0x5d0d7c)):(_0x5d0d7c=_0x2d109e(0x536),this[_0x2d109e(0x2e0)][_0x2d109e(0x2b1)](this['instanceName']+'\x20('+this[_0x2d109e(0x635)][_0x2d109e(0x278)]+_0x2d109e(0x41f)+_0x5d0d7c)),_0x7f118f+=_0x5d0d7c,this[_0x2d109e(0x2e0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2d109e(0x278)]+_0x2d109e(0x31e)+_0x7f118f);let _0x2d426f=this[_0x2d109e(0x5f2)]['get'](_0x2d109e(0x772))[_0x2d109e(0x17b)];if(!_0x2d426f){let _0x52e015=this[_0x2d109e(0x5f2)][_0x2d109e(0x221)]('SSL_CONF');_0x2d426f=_0x2d109e(0x145)+(_0x52e015&&_0x52e015[_0x2d109e(0x619)][_0x2d109e(0x4c7)]('/')[0x4]);}let _0x1bb5ac=Buffer[_0x2d109e(0x519)](_0x2aa46d['data']);await this[_0x2d109e(0x147)](_0x1bb5ac,_0x7f118f);let _0x2d1ab2='/media/'+_0x7f118f;_0x2d1ab2=''+_0x2d426f+_0x2d1ab2,_0x48a442={'fileUrl':_0x2d1ab2},_0x7ffa49[_0x2d109e(0x24a)][_0x2d109e(0x5f9)][_0x2d109e(0x496)]=_0x2d1ab2;let _0x81aa48=_0x7ffa49[_0x2d109e(0x24a)][_0x2d109e(0x5f9)],_0x551689=this[_0x2d109e(0x41c)](_0x48a442);return Object['assign'](_0x81aa48,_0x551689),_0x7ffa49[_0x2d109e(0x24a)][_0x2d109e(0x5f9)]=_0x81aa48,_0x470895={'error':!0x1,'apiResponse':{'fileUrl':_0x2d1ab2}},this[_0x2d109e(0x6dc)](_0x7ffa49,_0x158ee6,_0x470895),_0x48a442;}}catch(_0x5070f3){console[_0x2d109e(0x430)](_0x2d109e(0x73a),_0x5070f3),_0x5070f3[_0x2d109e(0x6e7)]&&(_0x48a442=_0x5070f3['response'][_0x2d109e(0x382)]);let _0x42ff1e=_0x7ffa49['chatLog'][_0x2d109e(0x5f9)],_0x4b028e=this[_0x2d109e(0x41c)](_0x48a442);return Object[_0x2d109e(0x322)](_0x42ff1e,_0x4b028e),_0x7ffa49[_0x2d109e(0x24a)][_0x2d109e(0x5f9)]=_0x42ff1e,_0x470895={'error':!0x0,'errorLog':_0x5070f3[_0x2d109e(0x4ff)](),'apiResponse':_0x48a442},this[_0x2d109e(0x6dc)](_0x7ffa49,_0x158ee6,_0x470895),{'success':!0x1};}}[a0_0xe3fdb8(0x683)](_0x12cb17,_0x459c8a){const _0x9b5368=a0_0xe3fdb8;let _0xa56579=_0x57a634=>{const _0x5ea44c=a0_0x3ea8;let _0x386b1a=_0x57a634[_0x5ea44c(0x199)](/[^0-9.,-]/g,'')[_0x5ea44c(0x199)](',','.'),_0x156e8a=parseFloat(_0x386b1a);return isNaN(_0x156e8a)?null:_0x156e8a;},_0x567c0c=_0x459c8a['firstValue'],_0x57bbb9=_0x459c8a[_0x9b5368(0x1e4)];typeof _0x567c0c=='string'&&(_0x567c0c=this[_0x9b5368(0x569)](_0x567c0c,_0x12cb17[_0x9b5368(0x24a)]['realVariables'])??''),typeof _0x57bbb9=='string'&&(_0x57bbb9=this[_0x9b5368(0x569)](_0x57bbb9,_0x12cb17[_0x9b5368(0x24a)][_0x9b5368(0x5f9)])??'');let _0x4d3644=null;if(!_0x459c8a[_0x9b5368(0x745)])return null;switch(this[_0x9b5368(0x2e0)][_0x9b5368(0x2b1)](this[_0x9b5368(0x413)]+'\x20('+this[_0x9b5368(0x635)]['wuid']+_0x9b5368(0x2c7)+_0x567c0c),this[_0x9b5368(0x2e0)][_0x9b5368(0x2b1)](this[_0x9b5368(0x413)]+'\x20('+this['instance']['wuid']+_0x9b5368(0x17e)+_0x57bbb9),_0x459c8a[_0x9b5368(0x745)]){case'+':case'-':case'*':case'/':let _0x4a595e=_0xa56579(_0x567c0c||'0'),_0x51c668=_0xa56579(_0x57bbb9||'0');if(_0x4a595e===null)return null;switch(_0x459c8a[_0x9b5368(0x745)]){case'+':_0x4d3644=_0x4a595e+(_0x51c668??0x0);break;case'-':_0x4d3644=_0x4a595e-(_0x51c668??0x0);break;case'*':_0x4d3644=_0x4a595e*(_0x51c668??0x1);break;case'/':_0x51c668!==0x0&&(_0x4d3644=_0x4a595e/(_0x51c668??0x1));break;}break;case _0x9b5368(0x6d6):case'findAndReplaceRegex':let _0x3454d9=_0x57bbb9,_0x10b061=_0x459c8a[_0x9b5368(0x758)];if(typeof _0x10b061=='string'&&(_0x10b061=this[_0x9b5368(0x569)](_0x10b061,_0x12cb17[_0x9b5368(0x24a)]['realVariables'])??''),_0x3454d9&&_0x10b061!==void 0x0){let _0x38c33b=_0x459c8a[_0x9b5368(0x745)]===_0x9b5368(0x6d6)?new RegExp(_0x3454d9['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x9b5368(0x36d)),'g'):new RegExp(_0x3454d9,'g');_0x4d3644=_0x567c0c[_0x9b5368(0x199)](_0x38c33b,_0x10b061);}else console[_0x9b5368(0x292)](_0x9b5368(0x22e));break;case'setNewValue':_0x4d3644=_0x57bbb9;break;case'extractRegex':let _0x73ca55=_0x567c0c[_0x9b5368(0x2d1)](new RegExp(_0x57bbb9||''));_0x4d3644=_0x73ca55?_0x73ca55[0x0]:'';break;case _0x9b5368(0x318):_0x4d3644=_0x567c0c[_0x9b5368(0x743)](0x0,parseInt(_0x57bbb9||'0'));break;case'truncatedtoEnd':let _0x48326f=parseInt(_0x57bbb9||'0');_0x4d3644=_0x567c0c['slice'](_0x567c0c[_0x9b5368(0x736)]-_0x48326f);break;case _0x9b5368(0x20a):let _0x5563ea=_0xa56579(_0x567c0c),_0x2d1af5=parseInt(_0x57bbb9||'0');_0x2d1af5=Math[_0x9b5368(0x6c9)](_0x2d1af5),_0x5563ea!==null?_0x4d3644=_0x5563ea['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x2d1af5,'maximumFractionDigits':_0x2d1af5}):(console[_0x9b5368(0x292)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x567c0c),_0x4d3644=null);break;case _0x9b5368(0x6f3):let _0x43a7cc=_0xa56579(_0x567c0c);_0x43a7cc!==null?_0x4d3644=_0x43a7cc[_0x9b5368(0x590)](_0x9b5368(0x67c),{'style':_0x9b5368(0x6b5),'currency':'BRL'}):(console[_0x9b5368(0x292)](_0x9b5368(0x39d)+_0x567c0c),_0x4d3644=null);break;case'upperCase':_0x4d3644=_0x567c0c[_0x9b5368(0x408)]();break;case'lowerCase':_0x4d3644=_0x567c0c[_0x9b5368(0x3a4)]();break;case'capitalizedWords':_0x4d3644=_0x567c0c[_0x9b5368(0x4c7)]('\x20')[_0x9b5368(0x716)](_0x12f745=>_0x12f745[_0x9b5368(0x34c)](0x0)[_0x9b5368(0x408)]()+_0x12f745['slice'](0x1)[_0x9b5368(0x3a4)]())[_0x9b5368(0x483)]('\x20');break;case _0x9b5368(0x324):_0x4d3644=_0x567c0c[_0x9b5368(0x293)]();break;default:_0x4d3644=_0x567c0c;}return _0x4d3644!==null?_0x4d3644[_0x9b5368(0x4ff)]():null;}async[a0_0xe3fdb8(0x4c6)](_0x5b2b3c,_0x456268){const _0x5b92f3=a0_0xe3fdb8;try{let _0xa95c85=_0x5b2b3c[_0x5b92f3(0x18d)]?.[_0x5b92f3(0x304)](_0x1bb410=>_0x1bb410[_0x5b92f3(0x166)]===_0x456268[_0x5b92f3(0x1ff)]?.[_0x5b92f3(0x4ff)]())||[],_0x244421=_0x456268[_0x5b92f3(0x33b)],_0x275293=null,_0xa92b87=[],_0x550fb3=_0x5b2b3c['chatLog']['realVariables'][_0x244421];_0xa92b87['push']('Valor\x20inicial:\x20\x22'+_0x550fb3+'\x22');for(let _0x44eed4 of _0xa95c85){_0x44eed4['firstValue']=_0x550fb3,_0x275293=_0x44eed4[_0x5b92f3(0x62d)];let _0x4267e9;try{_0x4267e9=this['applyvaredit'](_0x5b2b3c,_0x44eed4);}catch(_0x46bf2e){console[_0x5b92f3(0x430)](_0x5b92f3(0x3b9)+_0x46bf2e[_0x5b92f3(0x20e)]);continue;}if(_0x4267e9!==null){let _0x226538='Operador:\x20\x22'+_0x44eed4['editOperator']+'\x22',_0x554e46=[_0x5b92f3(0x6f3),_0x5b92f3(0x342),'lowerCase',_0x5b92f3(0x1ce),_0x5b92f3(0x324)];_0x44eed4[_0x5b92f3(0x745)]===_0x5b92f3(0x6d6)||_0x44eed4[_0x5b92f3(0x745)]===_0x5b92f3(0x303)?_0x226538+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x44eed4[_0x5b92f3(0x1e4)]+_0x5b92f3(0x445)+_0x44eed4['replaceValue']+'\x22':!_0x554e46[_0x5b92f3(0x13f)](_0x44eed4['editOperator'])&&_0x44eed4[_0x5b92f3(0x1e4)]!==null&&_0x44eed4[_0x5b92f3(0x1e4)]!==void 0x0&&(_0x226538+=_0x5b92f3(0x38b)+_0x44eed4[_0x5b92f3(0x1e4)]+'\x22'),_0x226538+=',\x20resultado:\x20'+_0x4267e9+'.',_0xa92b87[_0x5b92f3(0x4fd)](_0x226538);}_0x4267e9!==null&&(_0x550fb3=_0x4267e9);}if(_0x5b2b3c['chatLog'][_0x5b92f3(0x5f9)]&&_0x456268[_0x5b92f3(0x33b)]){_0x5b2b3c[_0x5b92f3(0x24a)][_0x5b92f3(0x5f9)][_0x456268[_0x5b92f3(0x33b)]]=_0x550fb3;let _0xf30b87={'variable':_0x456268[_0x5b92f3(0x33b)],'oldValue':_0x275293,'newValue':_0x550fb3,'moreLogs':_0xa92b87};try{this[_0x5b92f3(0x6dc)](_0x5b2b3c,_0x456268,_0xf30b87);}catch(_0x1f72c3){console[_0x5b92f3(0x430)](_0x5b92f3(0x211)+_0x1f72c3[_0x5b92f3(0x20e)]);}}return _0x244421;}catch(_0x539d8e){return console[_0x5b92f3(0x430)](_0x5b92f3(0x3a0)+_0x539d8e[_0x5b92f3(0x20e)]),null;}}async[a0_0xe3fdb8(0x1c5)](_0x342457,_0x1479cc){const _0x5a7107=a0_0xe3fdb8;try{let _0x3b64e3=[],_0x17de5d=_0x342457['conditions']['filter'](_0x51f0b2=>_0x51f0b2[_0x5a7107(0x166)]===_0x1479cc[_0x5a7107(0x1ff)]['toString']()),_0x58e07e=null,_0x54ee81=!0x1;for(let _0x499c77 of _0x17de5d){let _0x4374a2=this[_0x5a7107(0x4a9)](_0x342457,_0x499c77);_0x3b64e3['push']('Primeiro\x20Valor:\x20'+_0x499c77[_0x5a7107(0x62d)]+_0x5a7107(0x3f3)+_0x499c77[_0x5a7107(0x757)]+_0x5a7107(0x529)+_0x499c77[_0x5a7107(0x1e4)]+',\x20Resultado:\x20'+_0x4374a2),_0x58e07e===null?_0x58e07e=_0x4374a2:_0x499c77[_0x5a7107(0x44a)]==='and'?(_0x58e07e=_0x58e07e&&_0x4374a2,_0x4374a2||(_0x54ee81=!0x0)):_0x499c77['OrAnd']==='or'&&(_0x54ee81||(_0x58e07e=_0x58e07e||_0x4374a2));}_0x58e07e===null&&(_0x58e07e=!0x0);let _0x433191={'moreLogs':_0x3b64e3};_0x342457[_0x5a7107(0x24a)][_0x5a7107(0x783)]=_0x58e07e,await this[_0x5a7107(0x6dc)](_0x342457,_0x1479cc,_0x433191);}catch(_0x1abaea){this[_0x5a7107(0x2e0)][_0x5a7107(0x430)](this['instanceName']+'\x20('+this[_0x5a7107(0x635)]['wuid']+_0x5a7107(0x620)+(_0x1abaea instanceof Error?_0x1abaea[_0x5a7107(0x20e)]:JSON[_0x5a7107(0x291)](_0x1abaea,null,0x2)));}}[a0_0xe3fdb8(0x4a9)](_0x3efcdb,_0x2ae3f9){const _0x2bfabe=a0_0xe3fdb8;let _0x4eac01=_0x2ae3f9[_0x2bfabe(0x62d)],_0x1d8632=_0x2ae3f9[_0x2bfabe(0x1e4)];typeof _0x4eac01==_0x2bfabe(0x467)&&(_0x4eac01=this[_0x2bfabe(0x569)](_0x4eac01,_0x3efcdb[_0x2bfabe(0x24a)][_0x2bfabe(0x5f9)])??''),typeof _0x1d8632==_0x2bfabe(0x467)&&(_0x1d8632=this['replaceVariables'](_0x1d8632,_0x3efcdb['chatLog']['realVariables'])??'');try{switch(_0x2ae3f9[_0x2bfabe(0x757)]){case _0x2bfabe(0x397):return _0x4eac01===_0x1d8632;case'notEqual':return _0x4eac01!==_0x1d8632;case'contains':return this[_0x2bfabe(0x2fe)](_0x4eac01,_0x1d8632);case _0x2bfabe(0x5fd):return!this[_0x2bfabe(0x2fe)](_0x4eac01,_0x1d8632);case _0x2bfabe(0x78a):return parseFloat(_0x4eac01)>parseFloat(_0x1d8632);case _0x2bfabe(0x73f):return parseFloat(_0x4eac01)<parseFloat(_0x1d8632);case _0x2bfabe(0x4bb):return _0x4eac01!=='';case _0x2bfabe(0x559):return _0x4eac01==='';case'matchRegex':return new RegExp(_0x1d8632)['test'](_0x4eac01);case _0x2bfabe(0x49b):return!new RegExp(_0x1d8632)[_0x2bfabe(0x6fe)](_0x4eac01);default:return!0x1;}}catch(_0x3a057d){return console[_0x2bfabe(0x430)](_0x2bfabe(0x3c7)+_0x3a057d),!0x1;}}[a0_0xe3fdb8(0x2fe)](_0x1aa1ae,_0xf8386e){const _0x2aa222=a0_0xe3fdb8;if(_0x1aa1ae===_0xf8386e&&/^\d+$/[_0x2aa222(0x6fe)](_0x1aa1ae))return!0x0;if(this[_0x2aa222(0x5eb)](_0x1aa1ae)&&/^\d+$/['test'](_0xf8386e)){let _0x45eac0=_0x1aa1ae[_0x2aa222(0x4c7)](',')['map'](_0x32cf08=>parseInt(_0x32cf08[_0x2aa222(0x293)]())),_0x16f453=parseInt(_0xf8386e);return _0x45eac0[_0x2aa222(0x13f)](_0x16f453);}return _0x1aa1ae[_0x2aa222(0x13f)](_0xf8386e);}['isListOfNumbers'](_0x8f65e2){const _0x5e10c7=a0_0xe3fdb8;return/^\d+(,\d+)*$/[_0x5e10c7(0x6fe)](_0x8f65e2);}['processConditionsTest'](_0x4cac7d){const _0x313d64=a0_0xe3fdb8;let _0xbb06e7=!0x0,_0x59d643=null;for(let _0x434baf of _0x4cac7d){let _0x883d50=this[_0x313d64(0x47e)](_0x434baf);if(_0x59d643==='or'&&_0x883d50){_0xbb06e7=!0x0;break;}if(_0x59d643===_0x313d64(0x440)&&!_0x883d50){_0xbb06e7=!0x1;break;}_0x59d643=_0x434baf[_0x313d64(0x44a)];}return _0xbb06e7;}[a0_0xe3fdb8(0x47e)](_0x34ea58){const _0x3c1b74=a0_0xe3fdb8;let _0x44d75d=_0x34ea58[_0x3c1b74(0x62d)],_0x47b81a=_0x34ea58[_0x3c1b74(0x1e4)];try{switch(_0x34ea58['expression']){case _0x3c1b74(0x397):return String(_0x44d75d)===String(_0x47b81a);case _0x3c1b74(0x20c):return String(_0x44d75d)!==String(_0x47b81a);case _0x3c1b74(0x2fe):return String(_0x44d75d)[_0x3c1b74(0x13f)](String(_0x47b81a));case _0x3c1b74(0x5fd):return!String(_0x44d75d)[_0x3c1b74(0x13f)](String(_0x47b81a));case _0x3c1b74(0x78a):return parseFloat(String(_0x44d75d))>parseFloat(String(_0x47b81a));case _0x3c1b74(0x73f):return parseFloat(String(_0x44d75d))<parseFloat(String(_0x47b81a));case _0x3c1b74(0x4bb):return String(_0x44d75d)!=='';case _0x3c1b74(0x559):return String(_0x44d75d)==='';case _0x3c1b74(0x580):return new RegExp(String(_0x47b81a))[_0x3c1b74(0x6fe)](String(_0x44d75d));case _0x3c1b74(0x49b):return!new RegExp(String(_0x47b81a))[_0x3c1b74(0x6fe)](String(_0x44d75d));default:return!0x1;}}catch(_0x10637d){return console[_0x3c1b74(0x430)](_0x3c1b74(0x3c7)+_0x10637d),!0x1;}}async['saveTextReply'](_0x5f0b9b,_0x324387){const _0x35a4c5=a0_0xe3fdb8;if(this['logger']['verbose'](this[_0x35a4c5(0x413)]+'\x20('+this[_0x35a4c5(0x635)]['wuid']+_0x35a4c5(0x2cf)),!_0x5f0b9b||!_0x324387)return this['logger'][_0x35a4c5(0x430)](this[_0x35a4c5(0x413)]+'\x20('+this[_0x35a4c5(0x635)][_0x35a4c5(0x278)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x41fad3=_0x324387[_0x35a4c5(0x33b)],_0xa7a877=_0x5f0b9b['chatLog'][_0x35a4c5(0x732)][_0x35a4c5(0x3d6)]||_0x5f0b9b[_0x35a4c5(0x24a)][_0x35a4c5(0x732)][_0x35a4c5(0x21c)]||_0x5f0b9b[_0x35a4c5(0x24a)]['lastReceivedMessage'][_0x35a4c5(0x646)];try{_0x5f0b9b['chatLog'][_0x35a4c5(0x5f9)]||(_0x5f0b9b['chatLog'][_0x35a4c5(0x5f9)]={});let _0x339e5a=_0x5f0b9b['chatLog']['realVariables'][_0x41fad3];_0x5f0b9b[_0x35a4c5(0x24a)][_0x35a4c5(0x5f9)][_0x41fad3]=_0xa7a877;let _0x41973c={'variable':_0x41fad3,'oldValue':_0x339e5a,'newValue':_0xa7a877};this[_0x35a4c5(0x6dc)](_0x5f0b9b,_0x324387,_0x41973c),this[_0x35a4c5(0x2e0)][_0x35a4c5(0x2b1)](this[_0x35a4c5(0x413)]+'\x20('+this['instance'][_0x35a4c5(0x278)]+_0x35a4c5(0x3fa));}catch(_0x251a89){let _0xa8b9e6={'error':!0x0,'errorLog':_0x251a89[_0x35a4c5(0x4ff)]()};return this[_0x35a4c5(0x6dc)](_0x5f0b9b,_0x324387,_0xa8b9e6),this['logger'][_0x35a4c5(0x430)](this['instanceName']+'\x20('+this['instance'][_0x35a4c5(0x278)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x251a89 instanceof Error?_0x251a89[_0x35a4c5(0x20e)]:JSON['stringify'](_0x251a89,null,0x2))),null;}}async['stopConversation'](_0x4561e0,_0x4e8f31){const _0x12ea93=a0_0xe3fdb8;if(this[_0x12ea93(0x2e0)][_0x12ea93(0x2b1)](this[_0x12ea93(0x413)]+'\x20('+this[_0x12ea93(0x635)]['wuid']+_0x12ea93(0x5ba)),!_0x4561e0||!_0x4e8f31)return this[_0x12ea93(0x2e0)]['error'](this['instanceName']+'\x20('+this[_0x12ea93(0x635)][_0x12ea93(0x278)]+_0x12ea93(0x767)),null;let _0x312fcb=Date[_0x12ea93(0x1d1)](),_0x4d13ac=parseInt(_0x4e8f31[_0x12ea93(0x4be)],0xa);if(isNaN(_0x4d13ac))return this[_0x12ea93(0x2e0)][_0x12ea93(0x430)](this[_0x12ea93(0x413)]+'\x20('+this['instance']['wuid']+_0x12ea93(0x74b)),null;let _0x470f2e={'newStoppedUntil':_0x312fcb+_0x4d13ac*0x3c*0x3e8};return await this[_0x12ea93(0x6dc)](_0x4561e0,_0x4e8f31,_0x470f2e,!0x0),null;}async[a0_0xe3fdb8(0x28c)](_0x4cef5f,_0x520835){const _0x5d97a4=a0_0xe3fdb8;try{switch(_0x520835['uazapi'][_0x5d97a4(0x647)]){case _0x5d97a4(0x434):await this[_0x5d97a4(0x241)](_0x4cef5f,_0x520835);break;case'sendMedia':await this[_0x5d97a4(0x3d0)](_0x4cef5f,_0x520835);break;case _0x5d97a4(0x57d):await this[_0x5d97a4(0x1a5)](_0x4cef5f,_0x520835);break;case _0x5d97a4(0x271):await this[_0x5d97a4(0x45a)](_0x4cef5f,_0x520835);break;case _0x5d97a4(0x31f):await this['uazapiSendContact'](_0x4cef5f,_0x520835);break;case _0x5d97a4(0x6cc):await this['uazapiSendMenu'](_0x4cef5f,_0x520835);break;case _0x5d97a4(0x739):await this[_0x5d97a4(0x6c3)](_0x4cef5f,_0x520835);break;case'deleteMessage':await this[_0x5d97a4(0x789)](_0x4cef5f,_0x520835);break;default:this['logger'][_0x5d97a4(0x430)](this[_0x5d97a4(0x413)]+'\x20('+this[_0x5d97a4(0x635)][_0x5d97a4(0x278)]+'):\x20Comando\x20desconhecido:\x20'+_0x520835['uazapi']['command']);}}catch(_0x122ad6){this[_0x5d97a4(0x2e0)][_0x5d97a4(0x430)](this[_0x5d97a4(0x413)]+'\x20('+this['instance']['wuid']+_0x5d97a4(0x6d5)+(_0x122ad6 instanceof Error?_0x122ad6[_0x5d97a4(0x20e)]:JSON[_0x5d97a4(0x291)](_0x122ad6,null,0x2)));}}async['updateConversation'](_0x37c773,_0x38c6d8,_0x46b5c0,_0x26bd26=!0x1,_0x1bfda4=!0x1){const _0x59d34f=a0_0xe3fdb8;_0x37c773['chatLog'][_0x59d34f(0x431)]||(_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x431)]=[]);let _0x234234=(_0x37c773[_0x59d34f(0x24a)]['blockLogs']?.['length']??0x0)+0x1,_0x40bf76=_0x37c773['chatLog'][_0x59d34f(0x431)][_0x59d34f(0x304)](_0x17980b=>String(_0x17980b['blockId'])===String(_0x38c6d8[_0x59d34f(0x1ff)]))[_0x59d34f(0x736)]+0x1,_0x20096b=_0x46b5c0?.['onTime']??Date[_0x59d34f(0x1d1)](),_0x42792b=_0x46b5c0?.[_0x59d34f(0x430)]?_0x46b5c0[_0x59d34f(0x4b8)]??_0x46b5c0['error']['toString']():void 0x0,_0x3b61e3={'onTime':_0x20096b,'blockId':_0x38c6d8[_0x59d34f(0x1ff)],'order':_0x234234,'activatedCount':_0x40bf76,'error':_0x46b5c0?.[_0x59d34f(0x430)]??!0x1,'messageId':_0x46b5c0?.['messageId'],'apiResponse':_0x46b5c0?.[_0x59d34f(0x723)],'apiResponseString':_0x46b5c0?.['apiResponse']?JSON['stringify'](_0x46b5c0?.[_0x59d34f(0x723)]):void 0x0,'variable':_0x46b5c0?.['variable'],'oldValue':_0x46b5c0?.['oldValue'],'newValue':_0x46b5c0?.['newValue'],'newStoppedUntil':_0x46b5c0?.[_0x59d34f(0x6ca)],'moreLogs':_0x46b5c0?.[_0x59d34f(0x6b2)],'errorLog':_0x42792b};if(_0x46b5c0[_0x59d34f(0x6b2)]&&_0x46b5c0['moreLogs']['length']>0x0){let _0x231ae1=_0x46b5c0[_0x59d34f(0x6b2)][_0x59d34f(0x716)](_0x2fc34e=>this[_0x59d34f(0x673)](_0x2fc34e,_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x5f9)]));_0x3b61e3['moreLogs']=_0x231ae1;}_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x5f9)]||(_0x37c773['chatLog'][_0x59d34f(0x5f9)]={}),_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x5f9)]['_activatedCount']=String(_0x40bf76),_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x5f9)][_0x59d34f(0x55e)]=String(_0x46b5c0[_0x59d34f(0x430)]??!0x1),_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x431)][_0x59d34f(0x4fd)](_0x3b61e3),_0x37c773[_0x59d34f(0x24a)]['lastBlockId']=_0x38c6d8['_id'][_0x59d34f(0x4ff)](),_0x37c773['chatLog']['lastSendMessage']&&(_0x37c773[_0x59d34f(0x24a)]['lastSendMessage']=_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x497)]),_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x732)]&&(_0x37c773['chatLog'][_0x59d34f(0x732)]=_0x37c773[_0x59d34f(0x24a)]['lastReceivedMessage']),_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x783)]&&(_0x37c773['chatLog'][_0x59d34f(0x783)]=_0x37c773[_0x59d34f(0x24a)][_0x59d34f(0x783)]),_0x1bfda4&&(_0x37c773[_0x59d34f(0x299)]=_0x59d34f(0x5d2)),_0x26bd26?this['saveConversationToDatabase'](_0x37c773):this[_0x59d34f(0x530)](_0x37c773,_0x38c6d8);}['replaceVariablesLogs'](_0x458c51,_0xa2b4e9){const _0x5ee017=a0_0xe3fdb8;return _0x458c51[_0x5ee017(0x199)](/\{\{([^}]+)\}\}/g,(_0x44e8d8,_0x1b5343)=>_0xa2b4e9[_0x1b5343]?'{{'+_0x1b5343+_0x5ee017(0x36e)+_0xa2b4e9[_0x1b5343]+'\x22':'{{'+_0x1b5343+_0x5ee017(0x57c));}async[a0_0xe3fdb8(0x379)](_0x8a54b){const _0x45da16=a0_0xe3fdb8;try{let _0x33b5f1=Object[_0x45da16(0x133)](_0x8a54b[_0x45da16(0x24a)][_0x45da16(0x5f9)])[_0x45da16(0x716)](([_0x3872b4,_0x5a4d58])=>({'name':_0x3872b4,'value':_0x5a4d58})),_0x13db45={'status':_0x8a54b['status'],'blocks':_0x8a54b[_0x45da16(0x5ef)],'waitingMenu_id':_0x8a54b['waitingMenu_id'],'waitingMenu_text':_0x8a54b[_0x45da16(0x3ed)],'waitingMenu_replyOptions':_0x8a54b[_0x45da16(0x174)],'chatLog':{'lastBlockId':_0x8a54b[_0x45da16(0x24a)][_0x45da16(0x286)],'lastSendMessage':_0x8a54b[_0x45da16(0x24a)][_0x45da16(0x497)],'lastReceivedMessage':_0x8a54b[_0x45da16(0x24a)][_0x45da16(0x732)],'lastCondition':_0x8a54b[_0x45da16(0x24a)][_0x45da16(0x783)],'chatVariables':_0x33b5f1,'realVariables':_0x8a54b[_0x45da16(0x24a)][_0x45da16(0x5f9)],'blockLogs':_0x8a54b[_0x45da16(0x24a)]['blockLogs']}},_0x4b952d=await this[_0x45da16(0x1aa)][_0x45da16(0x39c)][_0x45da16(0x6f4)](_0x8a54b[_0x45da16(0x1ff)],_0x13db45,this[_0x45da16(0x635)]['wuid']);if(_0x4b952d){this[_0x45da16(0x2e0)][_0x45da16(0x2b1)](this[_0x45da16(0x413)]+'\x20('+this['instance'][_0x45da16(0x278)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x4b952d[_0x45da16(0x1ff)]);try{let _0x3fa81f=[_0x45da16(0x71f),_0x45da16(0x690),'email',_0x45da16(0x3d9),_0x45da16(0x299),_0x45da16(0x1a4),_0x45da16(0x748),_0x45da16(0x58e),_0x45da16(0x778)];if(!this[_0x45da16(0x1c2)]&&(await this[_0x45da16(0x452)](),!this[_0x45da16(0x1c2)]))throw new Error(_0x45da16(0x5f8));let _0x516cdd=this[_0x45da16(0x1c2)]?.[_0x45da16(0x42e)][_0x45da16(0x716)](_0x2bea05=>_0x2bea05[_0x45da16(0x62f)]),_0xffce13={};Object[_0x45da16(0x133)](_0x8a54b[_0x45da16(0x24a)][_0x45da16(0x5f9)])[_0x45da16(0x261)](([_0x4d6958,_0x517323])=>{const _0xcdcbd7=_0x45da16;_0x3fa81f[_0xcdcbd7(0x13f)](_0x4d6958)&&(_0x4d6958===_0xcdcbd7(0x58e)&&typeof _0x517323==_0xcdcbd7(0x467)?_0xffce13[_0x4d6958]=_0x517323[_0xcdcbd7(0x4c7)](',')[_0xcdcbd7(0x716)](_0x949db9=>_0x949db9[_0xcdcbd7(0x293)]())[_0xcdcbd7(0x304)](_0x3108c2=>_0x3108c2!==''):_0x4d6958===_0xcdcbd7(0x778)&&typeof _0x517323==_0xcdcbd7(0x467)?_0xffce13[_0x4d6958]=_0x517323[_0xcdcbd7(0x4c7)](',')[_0xcdcbd7(0x716)](_0x439951=>_0x439951[_0xcdcbd7(0x293)]())[_0xcdcbd7(0x304)](_0xed730c=>_0xed730c!==''):_0xffce13[_0x4d6958]=_0x517323);});let _0x341403=_0x8a54b['chatLog'][_0x45da16(0x431)][_0x8a54b[_0x45da16(0x24a)]['blockLogs'][_0x45da16(0x736)]-0x1];if(_0x341403){let _0x20d1de=_0x341403[_0x45da16(0x6ca)];_0x20d1de!==void 0x0&&(_0xffce13[_0x45da16(0x3ab)]=_0x20d1de[_0x45da16(0x4ff)]());}let _0xd259fe=_0x33b5f1[_0x45da16(0x304)](_0x35331d=>_0x516cdd[_0x45da16(0x13f)](_0x35331d['name']));this['logger'][_0x45da16(0x2b1)](this[_0x45da16(0x413)]+'\x20('+this['instance'][_0x45da16(0x278)]+'):\x20leadInfoVariables'),this[_0x45da16(0x2e0)][_0x45da16(0x2b1)](_0xffce13),this[_0x45da16(0x2e0)][_0x45da16(0x2b1)](this[_0x45da16(0x413)]+'\x20('+this['instance']['wuid']+_0x45da16(0x137)),this[_0x45da16(0x2e0)][_0x45da16(0x2b1)](_0xd259fe);let _0x369bf9=_0xd259fe[_0x45da16(0x716)](_0x4bd767=>{const _0x554e5c=_0x45da16;let _0x3c319d=this[_0x554e5c(0x1c2)]?.[_0x554e5c(0x42e)][_0x554e5c(0x579)](_0x5738df=>_0x5738df[_0x554e5c(0x62f)]===_0x4bd767[_0x554e5c(0x62f)]);if(!_0x3c319d)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x4bd767['name']);return{'_id':_0x3c319d[_0x554e5c(0x1ff)],'value':_0x4bd767['value']};});this[_0x45da16(0x2e0)][_0x45da16(0x2b1)](this[_0x45da16(0x413)]+'\x20('+this[_0x45da16(0x635)][_0x45da16(0x278)]+_0x45da16(0x66b)),this['logger'][_0x45da16(0x2b1)](_0x369bf9),await this[_0x45da16(0x2a4)](_0x8a54b[_0x45da16(0x27d)],_0xffce13,_0x369bf9);}catch(_0x2e631e){this[_0x45da16(0x2e0)][_0x45da16(0x430)](this[_0x45da16(0x413)]+'\x20('+this[_0x45da16(0x635)][_0x45da16(0x278)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x2e631e instanceof Error?_0x2e631e[_0x45da16(0x20e)]:JSON['stringify'](_0x2e631e,null,0x2)));}}else this[_0x45da16(0x2e0)][_0x45da16(0x430)](this[_0x45da16(0x413)]+'\x20('+this[_0x45da16(0x635)][_0x45da16(0x278)]+_0x45da16(0x571));}catch(_0x54b2a8){this[_0x45da16(0x2e0)][_0x45da16(0x430)](this[_0x45da16(0x413)]+'\x20('+this[_0x45da16(0x635)][_0x45da16(0x278)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x54b2a8 instanceof Error?_0x54b2a8[_0x45da16(0x20e)]:JSON['stringify'](_0x54b2a8,null,0x2)));}}async[a0_0xe3fdb8(0x2a4)](_0x8e3556,_0x25bf91,_0x46986b){const _0x30e068=a0_0xe3fdb8;try{let _0x43666c={'leadInfo.leadnome':_0x25bf91[_0x30e068(0x71f)],'leadInfo.nomecompleto':_0x25bf91['nomecompleto'],'leadInfo.email':_0x25bf91[_0x30e068(0x6e1)],'leadInfo.cpf':_0x25bf91[_0x30e068(0x3d9)],'leadInfo.status':_0x25bf91[_0x30e068(0x299)],'leadInfo.notas':_0x25bf91[_0x30e068(0x1a4)],'leadInfo.responsavelid':_0x25bf91[_0x30e068(0x748)],'leadInfo.tags':_0x25bf91[_0x30e068(0x58e)],'leadInfo.etiquetas':_0x25bf91[_0x30e068(0x778)],'leadInfo.customFields':_0x46986b},_0x253e37=await this[_0x30e068(0x1aa)][_0x30e068(0x277)]['findOne']({'where':{'_id':_0x8e3556}},this[_0x30e068(0x635)][_0x30e068(0x278)]),_0x19e4b9=new Set(_0x253e37[_0x30e068(0x39e)]['etiquetas']||[]),_0x53516a=new Set(_0x25bf91[_0x30e068(0x778)]||[]),_0x31159b=await this[_0x30e068(0x1aa)]['label'][_0x30e068(0x579)]({'where':{}},this[_0x30e068(0x635)][_0x30e068(0x278)]),_0x469365=new Set(_0x31159b[_0x30e068(0x716)](_0x16303f=>_0x16303f[_0x30e068(0x1ff)])),_0x42208b=[..._0x53516a]['filter'](_0x283dce=>!_0x19e4b9['has'](_0x283dce)&&_0x469365[_0x30e068(0x64b)](_0x283dce)),_0x1404a9=[..._0x19e4b9][_0x30e068(0x304)](_0x1fe83a=>!_0x53516a[_0x30e068(0x64b)](_0x1fe83a));for(let _0x3cbd36 of _0x42208b)await this[_0x30e068(0x2e3)](_0x3cbd36,_0x253e37['_id']),_0x19e4b9[_0x30e068(0x18c)](_0x3cbd36);for(let _0x3bbc5c of _0x1404a9)await this['RemoveChatLabel'](_0x3bbc5c,_0x253e37['_id']),_0x19e4b9[_0x30e068(0x75e)](_0x3bbc5c);if(_0x30e068(0x3ab)in _0x25bf91){let _0x2e6884=_0x25bf91[_0x30e068(0x3ab)];_0x43666c[_0x30e068(0x59e)]=_0x2e6884?Number(_0x2e6884):null;}let _0x4aad0b=await this[_0x30e068(0x1aa)]['chat'][_0x30e068(0x6f4)]({'where':{'_id':_0x8e3556}},_0x43666c,this[_0x30e068(0x635)]['wuid']);_0x4aad0b?(this[_0x30e068(0x2e0)][_0x30e068(0x2b1)](this[_0x30e068(0x413)]+'\x20('+this['instance'][_0x30e068(0x278)]+_0x30e068(0x4e8)+_0x4aad0b[_0x30e068(0x1ff)]),J(this[_0x30e068(0x413)],_0x30e068(0x26e),{'chat':_0x4aad0b})):this[_0x30e068(0x2e0)][_0x30e068(0x430)](this[_0x30e068(0x413)]+'\x20('+this[_0x30e068(0x635)]['wuid']+_0x30e068(0x5fa));}catch(_0x4d2df2){this['logger'][_0x30e068(0x430)](this[_0x30e068(0x413)]+'\x20('+this[_0x30e068(0x635)]['wuid']+_0x30e068(0x63b)+(_0x4d2df2 instanceof Error?_0x4d2df2[_0x30e068(0x20e)]:JSON[_0x30e068(0x291)](_0x4d2df2,null,0x2)));}}async[a0_0xe3fdb8(0x5b6)](_0x35b294,_0x8c9be9){const _0x5ccd00=a0_0xe3fdb8;this[_0x5ccd00(0x2e0)][_0x5ccd00(0x2b1)](this[_0x5ccd00(0x413)]+'\x20('+this['instance'][_0x5ccd00(0x278)]+_0x5ccd00(0x24d)+_0x8c9be9);try{let _0xfda4dd=await this[_0x5ccd00(0x1aa)][_0x5ccd00(0x277)]['updateOne']({'where':{'_id':_0x35b294[_0x5ccd00(0x27d)]}},{'leadInfo.desativadoFluxoAte':_0x8c9be9},this[_0x5ccd00(0x635)][_0x5ccd00(0x278)]);this[_0x5ccd00(0x2e0)][_0x5ccd00(0x2b1)](this[_0x5ccd00(0x413)]+'\x20('+this['instance'][_0x5ccd00(0x278)]+_0x5ccd00(0x4c3)+_0x35b294[_0x5ccd00(0x1ff)]),this['logger'][_0x5ccd00(0x2b1)](this[_0x5ccd00(0x413)]+'\x20('+this[_0x5ccd00(0x635)][_0x5ccd00(0x278)]+_0x5ccd00(0x24d)+JSON[_0x5ccd00(0x291)](_0xfda4dd,null,0x2)),_0xfda4dd&&J(this[_0x5ccd00(0x413)],_0x5ccd00(0x26e),{'chat':_0xfda4dd});}catch(_0x1294ba){this[_0x5ccd00(0x2e0)]['error'](this['instanceName']+'\x20('+this['instance'][_0x5ccd00(0x278)]+_0x5ccd00(0x6a1)+(_0x1294ba instanceof Error?_0x1294ba[_0x5ccd00(0x20e)]:JSON[_0x5ccd00(0x291)](_0x1294ba,null,0x2)));}}async[a0_0xe3fdb8(0x4c4)](_0x5050ab){const _0x1fdf04=a0_0xe3fdb8;try{this['logger'][_0x1fdf04(0x2b1)](this[_0x1fdf04(0x413)]+'\x20('+this[_0x1fdf04(0x635)][_0x1fdf04(0x278)]+_0x1fdf04(0x35e));let _0x492c50=_0x5050ab[_0x1fdf04(0x199)](/\D/g,''),_0x408258=await this[_0x1fdf04(0x1aa)][_0x1fdf04(0x4e6)][_0x1fdf04(0x6a9)]({'where':{'testingWith':_0x492c50}},this[_0x1fdf04(0x635)]['wuid']);return _0x408258||(this[_0x1fdf04(0x2e0)][_0x1fdf04(0x2b1)](this[_0x1fdf04(0x413)]+'\x20('+this[_0x1fdf04(0x635)][_0x1fdf04(0x278)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x408258=await this[_0x1fdf04(0x1aa)][_0x1fdf04(0x4e6)][_0x1fdf04(0x6a9)]({'where':{'default':!0x0}},this['instance'][_0x1fdf04(0x278)])),_0x408258||(this[_0x1fdf04(0x2e0)][_0x1fdf04(0x2b1)](this[_0x1fdf04(0x413)]+'\x20('+this[_0x1fdf04(0x635)][_0x1fdf04(0x278)]+_0x1fdf04(0x5c3)),null);}catch(_0x13a97c){return this[_0x1fdf04(0x2e0)][_0x1fdf04(0x430)](this[_0x1fdf04(0x413)]+'\x20('+this['instance']['wuid']+_0x1fdf04(0x51e)+(_0x13a97c instanceof Error?_0x13a97c[_0x1fdf04(0x20e)]:JSON[_0x1fdf04(0x291)](_0x13a97c,null,0x2))),null;}}async['findConversation'](_0x1a7698,_0xe36331){const _0x387ff3=a0_0xe3fdb8;try{let _0x53965b=!!_0xe36331[_0x387ff3(0x646)],_0x4e6ac6=_0xe36331[_0x387ff3(0x56c)],_0x59c78d=null;if(this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this[_0x387ff3(0x635)][_0x387ff3(0x278)]+_0x387ff3(0x49c)+_0x53965b+'\x20quoted:\x20'+_0x4e6ac6),_0x53965b){this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this['instance'][_0x387ff3(0x278)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x1a758d={'where':{'remoteJid':_0x1a7698,'waitingMenu_id':_0x4e6ac6}};if(_0x59c78d=await this[_0x387ff3(0x1aa)]['flowConversation'][_0x387ff3(0x6a9)](_0x1a758d,this[_0x387ff3(0x635)]['wuid']),!_0x59c78d)return this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this[_0x387ff3(0x635)][_0x387ff3(0x278)]+'):\x20não\x20encontrou'),null;let _0x38665c=Date[_0x387ff3(0x1d1)](),_0x2ca824=_0x59c78d?.[_0x387ff3(0x246)]||0x0,_0x32004f=_0x38665c-_0x2ca824*0x3c*0x3e8;if(_0x59c78d[_0x387ff3(0x27f)]<_0x32004f){this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this['instance']['wuid']+_0x387ff3(0x4a5));let _0x40cf0c={'number':_0x59c78d[_0x387ff3(0x27d)],'options':{'delay':0x0},'textMessage':{'text':_0x59c78d[_0x387ff3(0x1cb)]}};await this['textMessage'](_0x40cf0c);let _0x2b791f={'status':_0x387ff3(0x5d2),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x387ff3(0x1aa)][_0x387ff3(0x39c)]['updateOne'](_0x59c78d['_id'],_0x2b791f,this[_0x387ff3(0x635)][_0x387ff3(0x278)]),null;}return _0x59c78d[_0x387ff3(0x27f)]=Date['now'](),_0x59c78d[_0x387ff3(0x24a)][_0x387ff3(0x732)]=_0xe36331,_0x59c78d;}else{this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this[_0x387ff3(0x635)][_0x387ff3(0x278)]+'):\x20'+this[_0x387ff3(0x635)][_0x387ff3(0x278)]+_0x387ff3(0x2e1)),this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this[_0x387ff3(0x635)]['wuid']+_0x387ff3(0x3ea));let _0x1b9be={'where':{'remoteJid':_0x1a7698,'status':_0x387ff3(0x389)}};if(_0x59c78d=await this[_0x387ff3(0x1aa)][_0x387ff3(0x39c)][_0x387ff3(0x6a9)](_0x1b9be,this[_0x387ff3(0x635)][_0x387ff3(0x278)]),!_0x59c78d){let _0xa92458=await this[_0x387ff3(0x4c4)](_0x1a7698);if(_0xa92458&&(_0x59c78d=await this[_0x387ff3(0x31c)](_0xa92458,_0xe36331[_0x387ff3(0x326)],_0xe36331)),!_0x59c78d)return null;}let _0x4ac629=Date['now'](),_0x211d6a=_0x59c78d?.[_0x387ff3(0x246)]||0x0,_0x2ed3f2=_0x4ac629-_0x211d6a*0x3c*0x3e8;if(this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this['instance'][_0x387ff3(0x278)]+_0x387ff3(0x16c)+_0x4ac629+',\x20Minutes\x20to\x20Close:\x20'+_0x211d6a+_0x387ff3(0x4a7)+_0x2ed3f2),this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this['instanceName']+'\x20('+this[_0x387ff3(0x635)][_0x387ff3(0x278)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x387ff3(0x2e0)][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this[_0x387ff3(0x635)][_0x387ff3(0x278)]+_0x387ff3(0x21a)+_0x59c78d[_0x387ff3(0x27f)]),this['logger'][_0x387ff3(0x2b1)](this[_0x387ff3(0x413)]+'\x20('+this[_0x387ff3(0x635)][_0x387ff3(0x278)]+_0x387ff3(0x75a)+_0x2ed3f2),_0x59c78d[_0x387ff3(0x27f)]<_0x2ed3f2){this[_0x387ff3(0x2e0)]['verbose'](this[_0x387ff3(0x413)]+'\x20('+this[_0x387ff3(0x635)]['wuid']+_0x387ff3(0x798));let _0xb7b763=await this[_0x387ff3(0x4c4)](_0x1a7698);if(_0xb7b763===null)return null;_0x59c78d&&await this['repository'][_0x387ff3(0x39c)][_0x387ff3(0x6f4)](_0x59c78d[_0x387ff3(0x1ff)],{'status':_0x387ff3(0x5d2)},this['instance'][_0x387ff3(0x278)]),_0x59c78d=await this['createNewConversation'](_0xb7b763,_0xe36331[_0x387ff3(0x326)],_0xe36331);}return _0x59c78d['lastInteraction']=_0x4ac629,_0x59c78d[_0x387ff3(0x24a)][_0x387ff3(0x732)]=_0xe36331,_0x59c78d;}}catch(_0x1a846f){return this[_0x387ff3(0x2e0)][_0x387ff3(0x430)](this[_0x387ff3(0x413)]+'\x20('+this[_0x387ff3(0x635)][_0x387ff3(0x278)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x1a846f instanceof Error?_0x1a846f[_0x387ff3(0x20e)]:JSON[_0x387ff3(0x291)](_0x1a846f,null,0x2))),null;}}async[a0_0xe3fdb8(0x31c)](_0x4da69d,_0x174bba,_0x3a0b72){const _0x27fd27=a0_0xe3fdb8;this[_0x27fd27(0x2e0)]['verbose'](this[_0x27fd27(0x413)]+'\x20('+this[_0x27fd27(0x635)][_0x27fd27(0x278)]+_0x27fd27(0x152));try{let _0xb09562=require(_0x27fd27(0x469))[_0x27fd27(0x6d7)],_0xea1108=Date[_0x27fd27(0x1d1)](),_0x4e1415='start',_0x5c78db=_0x174bba[_0x27fd27(0x63e)]?null:_0x3a0b72,_0x2a4e64=_0x174bba[_0x27fd27(0x63e)]?_0x3a0b72:null,_0x582e6f=_0x174bba[_0x27fd27(0x27d)];await this['closeExistingConversations'](_0x582e6f);let _0x81bc80={..._0x4da69d,'chatLog':null},_0x584f9e=await this[_0x27fd27(0x60f)](_0x81bc80[_0x27fd27(0x36c)]),_0xde66c9=await this['getVariablesChat'](_0x582e6f),_0x430ca6={..._0x584f9e,..._0xde66c9,'_remoteJid':_0x582e6f},_0x59202a={'lastReceivedMessage':_0x5c78db,'lastSendMessage':_0x2a4e64,'lastBlockId':_0x4e1415,'lastCondition':!0x0,'realVariables':_0x430ca6};_0x81bc80[_0x27fd27(0x24a)]=_0x59202a,delete _0x81bc80[_0x27fd27(0x1ff)],_0x81bc80[_0x27fd27(0x1ff)]=new _0xb09562(),_0x81bc80[_0x27fd27(0x27f)]=_0xea1108,_0x81bc80[_0x27fd27(0x299)]='open',_0x81bc80['remoteJid']=_0x582e6f;let _0x33507c=await this[_0x27fd27(0x1aa)][_0x27fd27(0x39c)][_0x27fd27(0x6f4)](_0x81bc80[_0x27fd27(0x1ff)],_0x81bc80,this['instance'][_0x27fd27(0x278)]);return this[_0x27fd27(0x2e0)][_0x27fd27(0x2b1)](this[_0x27fd27(0x413)]+'\x20('+this['instance'][_0x27fd27(0x278)]+_0x27fd27(0x351)),_0x33507c?_0x81bc80:null;}catch(_0x4ad0e4){return this['logger'][_0x27fd27(0x430)](this[_0x27fd27(0x413)]+'\x20('+this[_0x27fd27(0x635)][_0x27fd27(0x278)]+_0x27fd27(0x51f)+(_0x4ad0e4 instanceof Error?_0x4ad0e4[_0x27fd27(0x20e)]:JSON[_0x27fd27(0x291)](_0x4ad0e4,null,0x2))),_0x4ad0e4;}}async['uazapiSendText'](_0x35fddb,_0x2ac00f){const _0xbf8f19=a0_0xe3fdb8;let _0x2da04e=_0x35fddb[_0xbf8f19(0x27d)];_0x2ac00f[_0xbf8f19(0x53c)][_0xbf8f19(0x27d)]&&_0x2ac00f[_0xbf8f19(0x53c)][_0xbf8f19(0x27d)]['trim']()!==''&&(_0x2da04e=_0x2ac00f[_0xbf8f19(0x53c)][_0xbf8f19(0x27d)][_0xbf8f19(0x293)]()),this['logger'][_0xbf8f19(0x2b1)](this[_0xbf8f19(0x413)]+'\x20('+this['instance'][_0xbf8f19(0x278)]+_0xbf8f19(0x694));let _0xcfb4bf={'number':_0x2da04e,'options':{'delay':_0x2ac00f['uazapi'][_0xbf8f19(0x245)]},'textMessage':{'text':_0x2ac00f['uazapi']['text']}};try{let _0x10196e=await this[_0xbf8f19(0x2e2)](_0xcfb4bf);if(_0x10196e){let _0x332e9f={'_id':_0x10196e[_0xbf8f19(0x326)]['id'],'_fromMe':_0x10196e[_0xbf8f19(0x326)]['fromMe'],'_remoteJid':_0x10196e[_0xbf8f19(0x326)]['remoteJid']};_0x35fddb[_0xbf8f19(0x24a)][_0xbf8f19(0x286)]=_0x2ac00f[_0xbf8f19(0x1ff)][_0xbf8f19(0x4ff)]();let {message_normalized:_0x545b8a}=this[_0xbf8f19(0x336)](_0x10196e[_0xbf8f19(0x20e)],$(_0x10196e[_0xbf8f19(0x20e)]),null);_0x35fddb[_0xbf8f19(0x24a)][_0xbf8f19(0x497)]=await _0x545b8a;let _0x593e4d={'messageId':_0x10196e[_0xbf8f19(0x326)]['id']},_0x2b5d29=_0x35fddb['chatLog'][_0xbf8f19(0x5f9)];Object['assign'](_0x2b5d29,_0x332e9f),_0x35fddb[_0xbf8f19(0x24a)][_0xbf8f19(0x5f9)]=_0x2b5d29,this[_0xbf8f19(0x6dc)](_0x35fddb,_0x2ac00f,_0x593e4d);}else{let _0xf871fa={'error':!0x0};this['updateConversation'](_0x35fddb,_0x2ac00f,_0xf871fa),this[_0xbf8f19(0x2e0)][_0xbf8f19(0x430)](this[_0xbf8f19(0x413)]+'\x20('+this['instance'][_0xbf8f19(0x278)]+_0xbf8f19(0x204));}}catch(_0x2b16a4){let _0x4e65ef={'error':!0x0,'errorLog':_0x2b16a4[_0xbf8f19(0x4ff)]()};this[_0xbf8f19(0x6dc)](_0x35fddb,_0x2ac00f,_0x4e65ef),this['logger'][_0xbf8f19(0x430)](this['instanceName']+'\x20('+this[_0xbf8f19(0x635)][_0xbf8f19(0x278)]+_0xbf8f19(0x61b)+(_0x2b16a4 instanceof Error?_0x2b16a4[_0xbf8f19(0x20e)]:JSON[_0xbf8f19(0x291)](_0x2b16a4,null,0x2)));}}async[a0_0xe3fdb8(0x3d0)](_0x3d6d34,_0x38ff4f){const _0x9270a1=a0_0xe3fdb8;let _0x2a3121=_0x3d6d34['remoteJid'];_0x38ff4f[_0x9270a1(0x53c)][_0x9270a1(0x27d)]&&_0x38ff4f['uazapi'][_0x9270a1(0x27d)][_0x9270a1(0x293)]()!==''&&(_0x2a3121=_0x38ff4f[_0x9270a1(0x53c)][_0x9270a1(0x27d)][_0x9270a1(0x293)]()),this[_0x9270a1(0x2e0)][_0x9270a1(0x2b1)](this[_0x9270a1(0x413)]+'\x20('+this['instance'][_0x9270a1(0x278)]+_0x9270a1(0x253));let _0x44e1ca={'number':_0x2a3121,'options':{'delay':_0x38ff4f[_0x9270a1(0x53c)][_0x9270a1(0x245)]},'mediaMessage':{'mediatype':_0x38ff4f[_0x9270a1(0x53c)][_0x9270a1(0x703)],'caption':_0x38ff4f[_0x9270a1(0x53c)][_0x9270a1(0x21c)],'media':_0x38ff4f[_0x9270a1(0x53c)][_0x9270a1(0x3cf)],'fileName':_0x38ff4f[_0x9270a1(0x53c)][_0x9270a1(0x581)]}};try{let _0x112bed=await this[_0x9270a1(0x1bd)](_0x44e1ca);if(_0x112bed){let _0xd68415={'_id':_0x112bed['key']['id'],'_fromMe':_0x112bed['key']['fromMe'],'_remoteJid':_0x112bed[_0x9270a1(0x326)][_0x9270a1(0x27d)]};_0x3d6d34['chatLog'][_0x9270a1(0x286)]=_0x38ff4f[_0x9270a1(0x1ff)]['toString']();let {message_normalized:_0x15c30f}=this['normalizeMessage'](_0x112bed[_0x9270a1(0x20e)],$(_0x112bed[_0x9270a1(0x20e)]),null);_0x3d6d34['chatLog'][_0x9270a1(0x497)]=await _0x15c30f;let _0x19863e={'messageId':_0x112bed[_0x9270a1(0x326)]['id']},_0x24cbec=_0x3d6d34[_0x9270a1(0x24a)][_0x9270a1(0x5f9)];Object[_0x9270a1(0x322)](_0x24cbec,_0xd68415),_0x3d6d34['chatLog'][_0x9270a1(0x5f9)]=_0x24cbec,this[_0x9270a1(0x6dc)](_0x3d6d34,_0x38ff4f,_0x19863e);}else{let _0x2e78f5={'error':!0x0};this[_0x9270a1(0x6dc)](_0x3d6d34,_0x38ff4f,_0x2e78f5),this[_0x9270a1(0x2e0)][_0x9270a1(0x430)](this['instanceName']+'\x20('+this[_0x9270a1(0x635)][_0x9270a1(0x278)]+_0x9270a1(0x54e));}}catch(_0x1dcaa2){let _0x5f264d={'error':!0x0,'errorLog':_0x1dcaa2['toString']()};this['updateConversation'](_0x3d6d34,_0x38ff4f,_0x5f264d),this[_0x9270a1(0x2e0)][_0x9270a1(0x430)](this[_0x9270a1(0x413)]+'\x20('+this[_0x9270a1(0x635)][_0x9270a1(0x278)]+_0x9270a1(0x1b4)+(_0x1dcaa2 instanceof Error?_0x1dcaa2[_0x9270a1(0x20e)]:JSON[_0x9270a1(0x291)](_0x1dcaa2,null,0x2)));}}async[a0_0xe3fdb8(0x1a5)](_0x11d2b7,_0x5bc932){const _0x4b3a68=a0_0xe3fdb8;let _0x4112d9=_0x11d2b7['remoteJid'];_0x5bc932['uazapi'][_0x4b3a68(0x27d)]&&_0x5bc932['uazapi'][_0x4b3a68(0x27d)]['trim']()!==''&&(_0x4112d9=_0x5bc932['uazapi'][_0x4b3a68(0x27d)]['trim']()),this[_0x4b3a68(0x2e0)][_0x4b3a68(0x2b1)](this['instanceName']+'\x20('+this[_0x4b3a68(0x635)][_0x4b3a68(0x278)]+_0x4b3a68(0x615));let _0x33ecd1={'number':_0x4112d9,'options':{'delay':_0x5bc932['uazapi']['delay']},'locationMessage':{'name':_0x5bc932[_0x4b3a68(0x53c)]['name'],'address':_0x5bc932[_0x4b3a68(0x53c)]['address'],'latitude':_0x5bc932['uazapi'][_0x4b3a68(0x4de)],'longitude':_0x5bc932[_0x4b3a68(0x53c)]['longitude']}};try{let _0x105605=await this[_0x4b3a68(0x66c)](_0x33ecd1);if(_0x105605){let _0x4e8d5a={'_id':_0x105605[_0x4b3a68(0x326)]['id'],'_fromMe':_0x105605[_0x4b3a68(0x326)]['fromMe'],'_remoteJid':_0x105605[_0x4b3a68(0x326)][_0x4b3a68(0x27d)]};_0x11d2b7[_0x4b3a68(0x24a)][_0x4b3a68(0x286)]=_0x5bc932[_0x4b3a68(0x1ff)][_0x4b3a68(0x4ff)]();let {message_normalized:_0x49f31e}=this['normalizeMessage'](_0x105605[_0x4b3a68(0x20e)],$(_0x105605[_0x4b3a68(0x20e)]),null);_0x11d2b7[_0x4b3a68(0x24a)][_0x4b3a68(0x497)]=await _0x49f31e;let _0x301f80={'messageId':_0x105605['key']['id']},_0x22d449=_0x11d2b7['chatLog'][_0x4b3a68(0x5f9)];Object['assign'](_0x22d449,_0x4e8d5a),_0x11d2b7[_0x4b3a68(0x24a)]['realVariables']=_0x22d449,this[_0x4b3a68(0x6dc)](_0x11d2b7,_0x5bc932,_0x301f80);}else{let _0x3c5093={'error':!0x0};this[_0x4b3a68(0x6dc)](_0x11d2b7,_0x5bc932,_0x3c5093),this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x4b3a68(0x278)]+_0x4b3a68(0x26a));}}catch(_0x25aaf7){let _0x3a75f5={'error':!0x0,'errorLog':_0x25aaf7['toString']()};this['updateConversation'](_0x11d2b7,_0x5bc932,_0x3a75f5),this[_0x4b3a68(0x2e0)][_0x4b3a68(0x430)](this[_0x4b3a68(0x413)]+'\x20('+this[_0x4b3a68(0x635)]['wuid']+_0x4b3a68(0x268)+(_0x25aaf7 instanceof Error?_0x25aaf7[_0x4b3a68(0x20e)]:JSON[_0x4b3a68(0x291)](_0x25aaf7,null,0x2)));}}async[a0_0xe3fdb8(0x45a)](_0x1df1f3,_0x53a7ce){const _0x564ae7=a0_0xe3fdb8;let _0x44062d=_0x1df1f3[_0x564ae7(0x27d)];_0x53a7ce[_0x564ae7(0x53c)][_0x564ae7(0x27d)]&&_0x53a7ce[_0x564ae7(0x53c)]['remoteJid'][_0x564ae7(0x293)]()!==''&&(_0x44062d=_0x53a7ce['uazapi'][_0x564ae7(0x27d)][_0x564ae7(0x293)]()),this[_0x564ae7(0x2e0)][_0x564ae7(0x2b1)](this[_0x564ae7(0x413)]+'\x20('+this[_0x564ae7(0x635)][_0x564ae7(0x278)]+'):\x20Enviando\x20áudio');let _0xf7bc25={'number':_0x44062d,'options':{'delay':_0x53a7ce[_0x564ae7(0x53c)][_0x564ae7(0x245)]},'audioMessage':{'audio':_0x53a7ce[_0x564ae7(0x53c)][_0x564ae7(0x1b5)]}};try{let _0x2ff12e=await this[_0x564ae7(0x2e5)](_0xf7bc25);if(_0x2ff12e){let _0x3afe5a={'_id':_0x2ff12e['key']['id'],'_fromMe':_0x2ff12e[_0x564ae7(0x326)][_0x564ae7(0x63e)],'_remoteJid':_0x2ff12e[_0x564ae7(0x326)]['remoteJid']};_0x1df1f3[_0x564ae7(0x24a)]['lastBlockId']=_0x53a7ce['_id']['toString']();let {message_normalized:_0x6817a0}=this[_0x564ae7(0x336)](_0x2ff12e[_0x564ae7(0x20e)],$(_0x2ff12e[_0x564ae7(0x20e)]),null);_0x1df1f3[_0x564ae7(0x24a)][_0x564ae7(0x497)]=await _0x6817a0;let _0x2cf9fb={'messageId':_0x2ff12e[_0x564ae7(0x326)]['id']},_0x18a463=_0x1df1f3['chatLog']['realVariables'];Object[_0x564ae7(0x322)](_0x18a463,_0x3afe5a),_0x1df1f3['chatLog'][_0x564ae7(0x5f9)]=_0x18a463,this[_0x564ae7(0x6dc)](_0x1df1f3,_0x53a7ce,_0x2cf9fb);}else{let _0x274f99={'error':!0x0};this['updateConversation'](_0x1df1f3,_0x53a7ce,_0x274f99),this[_0x564ae7(0x2e0)][_0x564ae7(0x430)](this[_0x564ae7(0x413)]+'\x20('+this[_0x564ae7(0x635)][_0x564ae7(0x278)]+_0x564ae7(0x188));}}catch(_0x9daeac){let _0x1e939a={'error':!0x0,'errorLog':_0x9daeac[_0x564ae7(0x4ff)]()};this[_0x564ae7(0x6dc)](_0x1df1f3,_0x53a7ce,_0x1e939a),this[_0x564ae7(0x2e0)][_0x564ae7(0x430)](this[_0x564ae7(0x413)]+'\x20('+this[_0x564ae7(0x635)][_0x564ae7(0x278)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x9daeac instanceof Error?_0x9daeac[_0x564ae7(0x20e)]:JSON[_0x564ae7(0x291)](_0x9daeac,null,0x2)));}}async[a0_0xe3fdb8(0x64e)](_0x27ec44,_0x16889b){const _0x582b8a=a0_0xe3fdb8;let _0x1bc2a2=_0x27ec44[_0x582b8a(0x27d)];_0x16889b[_0x582b8a(0x53c)][_0x582b8a(0x27d)]&&_0x16889b[_0x582b8a(0x53c)][_0x582b8a(0x27d)][_0x582b8a(0x293)]()!==''&&(_0x1bc2a2=_0x16889b[_0x582b8a(0x53c)][_0x582b8a(0x27d)]['trim']()),this[_0x582b8a(0x2e0)][_0x582b8a(0x2b1)](this['instanceName']+'\x20('+this['instance'][_0x582b8a(0x278)]+'):\x20Enviando\x20contato');let _0x25c471={'number':_0x1bc2a2,'options':{'delay':_0x16889b[_0x582b8a(0x53c)][_0x582b8a(0x245)]},'contactMessage':[{'fullName':_0x16889b[_0x582b8a(0x53c)]['fullName'],'phoneNumber':_0x16889b[_0x582b8a(0x53c)][_0x582b8a(0x51a)]}]};try{let _0x17d0d2=await this[_0x582b8a(0x528)](_0x25c471);if(_0x17d0d2){let _0x521071={'_id':_0x17d0d2[_0x582b8a(0x326)]['id'],'_fromMe':_0x17d0d2[_0x582b8a(0x326)][_0x582b8a(0x63e)],'_remoteJid':_0x17d0d2[_0x582b8a(0x326)][_0x582b8a(0x27d)]};_0x27ec44[_0x582b8a(0x24a)][_0x582b8a(0x286)]=_0x16889b[_0x582b8a(0x1ff)][_0x582b8a(0x4ff)]();let {message_normalized:_0x3eff92}=this[_0x582b8a(0x336)](_0x17d0d2[_0x582b8a(0x20e)],$(_0x17d0d2[_0x582b8a(0x20e)]),null);_0x27ec44[_0x582b8a(0x24a)][_0x582b8a(0x497)]=await _0x3eff92;let _0x1785f7={'messageId':_0x17d0d2[_0x582b8a(0x326)]['id']},_0x226b87=_0x27ec44[_0x582b8a(0x24a)][_0x582b8a(0x5f9)];Object[_0x582b8a(0x322)](_0x226b87,_0x521071),_0x27ec44[_0x582b8a(0x24a)]['realVariables']=_0x226b87,this['updateConversation'](_0x27ec44,_0x16889b,_0x1785f7);}else{let _0x290453={'error':!0x0};this[_0x582b8a(0x6dc)](_0x27ec44,_0x16889b,_0x290453),this[_0x582b8a(0x2e0)][_0x582b8a(0x430)](this['instanceName']+'\x20('+this[_0x582b8a(0x635)][_0x582b8a(0x278)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x6b4424){let _0x2e8675={'error':!0x0,'errorLog':_0x6b4424[_0x582b8a(0x4ff)]()};this[_0x582b8a(0x6dc)](_0x27ec44,_0x16889b,_0x2e8675),this[_0x582b8a(0x2e0)][_0x582b8a(0x430)](this['instanceName']+'\x20('+this[_0x582b8a(0x635)][_0x582b8a(0x278)]+_0x582b8a(0x1c4)+(_0x6b4424 instanceof Error?_0x6b4424[_0x582b8a(0x20e)]:JSON['stringify'](_0x6b4424,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x3f9349,_0x33a1c0){const _0x5834b8=a0_0xe3fdb8;for(let _0x33162b of _0x3f9349)_0x33162b[_0x5834b8(0x302)]&&(_0x33162b[_0x5834b8(0x302)]=this[_0x5834b8(0x569)](_0x33162b[_0x5834b8(0x302)],_0x33a1c0)),_0x33162b['optionDescription']&&(_0x33162b[_0x5834b8(0x625)]=this[_0x5834b8(0x569)](_0x33162b[_0x5834b8(0x625)],_0x33a1c0));}async[a0_0xe3fdb8(0x6c3)](_0x21c475,_0x421289){const _0x21ced8=a0_0xe3fdb8;let _0x44b68b=_0x21c475[_0x21ced8(0x27d)];_0x421289[_0x21ced8(0x53c)][_0x21ced8(0x27d)]&&_0x421289['uazapi'][_0x21ced8(0x27d)][_0x21ced8(0x293)]()!==''&&(_0x44b68b=_0x421289[_0x21ced8(0x53c)][_0x21ced8(0x27d)][_0x21ced8(0x293)]()),this['logger'][_0x21ced8(0x2b1)](this['instanceName']+'\x20('+this['instance'][_0x21ced8(0x278)]+_0x21ced8(0x4e4));let _0x202c82=_0x21c475[_0x21ced8(0x2c5)][_0x21ced8(0x304)](_0x37c2a3=>_0x37c2a3[_0x21ced8(0x166)]===_0x421289['_id'])['sort']((_0x785d32,_0x11311d)=>_0x785d32[_0x21ced8(0x186)]-_0x11311d[_0x21ced8(0x186)]);this[_0x21ced8(0x2ae)](_0x202c82,_0x21c475[_0x21ced8(0x24a)][_0x21ced8(0x5f9)]);let _0xd42b77=_0x202c82['map'](_0x3d6d41=>_0x3d6d41[_0x21ced8(0x302)]),_0x1c02ae={'number':_0x44b68b,'menuMessage':{'type':_0x421289[_0x21ced8(0x53c)]['menuType']||'poll','text':_0x421289['uazapi'][_0x21ced8(0x3d6)]||_0x421289['uazapi'][_0x21ced8(0x62f)],'footerText':_0x421289[_0x21ced8(0x53c)][_0x21ced8(0x53a)],'buttonText':_0x421289['uazapi'][_0x21ced8(0x42f)],'selectableCount':0x1,'choices':_0xd42b77},'options':{'delay':_0x421289[_0x21ced8(0x53c)][_0x21ced8(0x245)]}};try{let _0x145132=await this[_0x21ced8(0x6ec)](_0x1c02ae);if(_0x145132){let _0x147417={'_id':_0x145132[_0x21ced8(0x326)]['id'],'_fromMe':_0x145132[_0x21ced8(0x326)]['fromMe'],'_remoteJid':_0x145132[_0x21ced8(0x326)][_0x21ced8(0x27d)]};_0x421289['uazapi'][_0x21ced8(0x284)]===!0x0&&(_0x21c475[_0x21ced8(0x299)]=_0x21ced8(0x3a3),this[_0x21ced8(0x2e0)][_0x21ced8(0x2b1)](this[_0x21ced8(0x413)]+'\x20('+this['instance'][_0x21ced8(0x278)]+_0x21ced8(0x19b)+_0x21c475[_0x21ced8(0x299)])),this[_0x21ced8(0x2e0)][_0x21ced8(0x2b1)](this[_0x21ced8(0x413)]+'\x20('+this[_0x21ced8(0x635)][_0x21ced8(0x278)]+_0x21ced8(0x5da)+(_0x421289[_0x21ced8(0x53c)]['name']||_0x421289[_0x21ced8(0x53c)]['text'])),_0x21c475[_0x21ced8(0x538)]=_0x145132[_0x21ced8(0x326)]['id'],_0x21c475[_0x21ced8(0x3ed)]=_0x421289[_0x21ced8(0x53c)][_0x21ced8(0x62f)]||_0x421289['uazapi'][_0x21ced8(0x3d6)],_0x21c475[_0x21ced8(0x174)]=_0x202c82,_0x421289[_0x21ced8(0x53c)][_0x21ced8(0x610)]&&(_0x21c475[_0x21ced8(0x1cb)]=_0x421289[_0x21ced8(0x53c)][_0x21ced8(0x610)]),this['logger'][_0x21ced8(0x2b1)](this[_0x21ced8(0x413)]+'\x20('+this['instance'][_0x21ced8(0x278)]+'):\x20conversation.waitingMenu_name'+_0x21c475[_0x21ced8(0x3ed)]),_0x21c475[_0x21ced8(0x24a)][_0x21ced8(0x286)]=_0x421289[_0x21ced8(0x1ff)][_0x21ced8(0x4ff)]();let {message_normalized:_0x4e0ce0}=this[_0x21ced8(0x336)](_0x145132['message'],$(_0x145132[_0x21ced8(0x20e)]),null);_0x21c475[_0x21ced8(0x24a)][_0x21ced8(0x497)]=await _0x4e0ce0;let _0xea19f8={'messageId':_0x145132[_0x21ced8(0x326)]['id']},_0x3d1cd4=_0x21c475['chatLog'][_0x21ced8(0x5f9)];Object['assign'](_0x3d1cd4,_0x147417),_0x21c475[_0x21ced8(0x24a)][_0x21ced8(0x5f9)]=_0x3d1cd4,this[_0x21ced8(0x6dc)](_0x21c475,_0x421289,_0xea19f8);}else{let _0x4d11b4={'error':!0x0};this[_0x21ced8(0x6dc)](_0x21c475,_0x421289,_0x4d11b4),this[_0x21ced8(0x2e0)]['error'](this[_0x21ced8(0x413)]+'\x20('+this[_0x21ced8(0x635)][_0x21ced8(0x278)]+_0x21ced8(0x5a4));}}catch(_0x211f01){let _0x52a1a4={'error':!0x0,'errorLog':_0x211f01 instanceof Error?_0x211f01[_0x21ced8(0x20e)]:JSON[_0x21ced8(0x291)](_0x211f01,null,0x2)};this[_0x21ced8(0x6dc)](_0x21c475,_0x421289,_0x52a1a4),this[_0x21ced8(0x2e0)][_0x21ced8(0x430)](this[_0x21ced8(0x413)]+'\x20('+this[_0x21ced8(0x635)]['wuid']+_0x21ced8(0x5fc)+(_0x211f01 instanceof Error?_0x211f01[_0x21ced8(0x20e)]:JSON[_0x21ced8(0x291)](_0x211f01,null,0x2)));}}async[a0_0xe3fdb8(0x789)](_0x11bf56,_0x5d16c8){const _0xfa832f=a0_0xe3fdb8;this[_0xfa832f(0x2e0)][_0xfa832f(0x2b1)](this[_0xfa832f(0x413)]+'\x20('+this[_0xfa832f(0x635)][_0xfa832f(0x278)]+'):\x20Deletando\x20mensagem');let _0x439a23=_0x11bf56[_0xfa832f(0x24a)]['blockLogs'][_0xfa832f(0x579)](_0x2ccc6f=>_0x2ccc6f[_0xfa832f(0x166)][_0xfa832f(0x4ff)]()===_0x5d16c8[_0xfa832f(0x53c)][_0xfa832f(0x166)][_0xfa832f(0x4ff)]()),_0x1d6028={'id':_0x439a23[_0xfa832f(0x178)],'remoteJid':_0x439a23['remoteJid'],'fromMe':_0x439a23['fromMe']};try{let _0x1843e3=await this['deleteMessage'](_0x1d6028);if(_0x1843e3){_0x11bf56[_0xfa832f(0x24a)][_0xfa832f(0x286)]=_0x5d16c8[_0xfa832f(0x1ff)]['toString']();let {message_normalized:_0x5348c0}=this[_0xfa832f(0x336)](_0x1843e3[_0xfa832f(0x20e)],$(_0x1843e3[_0xfa832f(0x20e)]),null);_0x11bf56['chatLog']['lastSendMessage']=await _0x5348c0;let _0x3cfdec={};this['updateConversation'](_0x11bf56,_0x5d16c8,_0x3cfdec);}else{let _0x4e766c={'error':!0x0};this['updateConversation'](_0x11bf56,_0x5d16c8,_0x4e766c),this[_0xfa832f(0x2e0)][_0xfa832f(0x430)](this[_0xfa832f(0x413)]+'\x20('+this[_0xfa832f(0x635)][_0xfa832f(0x278)]+_0xfa832f(0x51c));}}catch(_0x17d481){let _0x348207={'error':!0x0,'errorLog':_0x17d481 instanceof Error?_0x17d481[_0xfa832f(0x20e)]:JSON[_0xfa832f(0x291)](_0x17d481,null,0x2)};this['updateConversation'](_0x11bf56,_0x5d16c8,_0x348207),this[_0xfa832f(0x2e0)]['error'](this[_0xfa832f(0x413)]+'\x20('+this[_0xfa832f(0x635)][_0xfa832f(0x278)]+_0xfa832f(0x2b0)+(_0x17d481 instanceof Error?_0x17d481[_0xfa832f(0x20e)]:JSON['stringify'](_0x17d481,null,0x2)));}}async['createFlow'](_0xf43914){const _0x563999=a0_0xe3fdb8;try{if(this[_0x563999(0x2e0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x563999(0x278)]+_0x563999(0x2eb)),await this['repository']['flow']['findOne']({'where':{'name':_0xf43914[_0x563999(0x62f)]}},this[_0x563999(0x635)][_0x563999(0x278)]))return{'message':_0x563999(0x48c)};_0xf43914['default']===!0x0&&await this[_0x563999(0x1aa)][_0x563999(0x4e6)][_0x563999(0x6a6)]({},{'default':!0x1},this[_0x563999(0x635)][_0x563999(0x278)]);let _0x53f163=new ie[(_0x563999(0x6c0))][(_0x563999(0x6d7))](),_0x1e21ac={'_id':_0x53f163,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x66d7d={'_id':new ie[(_0x563999(0x6c0))]['ObjectId'](),'order':0x1,'groupId':_0x53f163['toString'](),'type':_0x563999(0x219)},_0x522b32={'_id':new ie[(_0x563999(0x6c0))][(_0x563999(0x6d7))](),'owner':this[_0x563999(0x635)][_0x563999(0x278)],'name':_0xf43914[_0x563999(0x62f)],'groups':[_0x1e21ac],'blocks':[_0x66d7d],..._0xf43914};return _0x522b32=await this[_0x563999(0x1aa)][_0x563999(0x4e6)][_0x563999(0x645)](_0x522b32,this[_0x563999(0x635)][_0x563999(0x278)]),_0x522b32;}catch(_0x2ec0e1){throw this['logger'][_0x563999(0x430)](this[_0x563999(0x413)]+'\x20('+this[_0x563999(0x635)]['wuid']+_0x563999(0x511)+(_0x2ec0e1 instanceof Error?_0x2ec0e1[_0x563999(0x20e)]:JSON[_0x563999(0x291)](_0x2ec0e1,null,0x2))),new m(_0x563999(0x33a)+_0x2ec0e1);}}async[a0_0xe3fdb8(0x780)](_0x1d03ce){const _0x4df6ec=a0_0xe3fdb8;try{return this['logger'][_0x4df6ec(0x2b1)](this[_0x4df6ec(0x413)]+'\x20('+this['instance']['wuid']+_0x4df6ec(0x30c)),await this[_0x4df6ec(0x1aa)][_0x4df6ec(0x4e6)]['deleteOne']({'where':{'name':_0x1d03ce}},this['instance'][_0x4df6ec(0x278)]);}catch(_0x9a24fc){return this[_0x4df6ec(0x2e0)][_0x4df6ec(0x430)](this[_0x4df6ec(0x413)]+'\x20('+this[_0x4df6ec(0x635)][_0x4df6ec(0x278)]+_0x4df6ec(0x660)+(_0x9a24fc instanceof Error?_0x9a24fc[_0x4df6ec(0x20e)]:JSON['stringify'](_0x9a24fc,null,0x2))),{'message':_0x4df6ec(0x466)+_0x9a24fc};}}async[a0_0xe3fdb8(0x473)](_0x1bb50e){const _0x2bb92b=a0_0xe3fdb8;try{this[_0x2bb92b(0x2e0)][_0x2bb92b(0x2b1)](this[_0x2bb92b(0x413)]+'\x20('+this[_0x2bb92b(0x635)]['wuid']+_0x2bb92b(0x35e));let _0xa76274=await this['repository'][_0x2bb92b(0x4e6)]['findOne']({'where':{'name':_0x1bb50e}},this[_0x2bb92b(0x635)][_0x2bb92b(0x278)]);if(!_0xa76274)throw new Error(_0x2bb92b(0x636));if(!this[_0x2bb92b(0x1c2)]&&(await this[_0x2bb92b(0x452)](),!this[_0x2bb92b(0x1c2)]))return null;let _0x255729=this[_0x2bb92b(0x1c2)]?.[_0x2bb92b(0x42e)][_0x2bb92b(0x716)](_0x36bb67=>_0x36bb67[_0x2bb92b(0x62f)]),_0x53dde5=[_0x2bb92b(0x71f),_0x2bb92b(0x690),_0x2bb92b(0x6e1),_0x2bb92b(0x3d9),_0x2bb92b(0x299),'notas',_0x2bb92b(0x748),_0x2bb92b(0x58e),'etiquetas'];_0xa76274[_0x2bb92b(0x36c)]=_0xa76274['variables'][_0x2bb92b(0x304)](_0x3c0390=>!(_0x3c0390[_0x2bb92b(0x69d)]===_0x2bb92b(0x39e)||_0x3c0390[_0x2bb92b(0x39e)])),_0x53dde5[_0x2bb92b(0x261)](_0x58c0e8=>{const _0x3ccb3a=_0x2bb92b;_0xa76274['variables']['push']({'folder':_0x3ccb3a(0x39e),'name':_0x58c0e8,'value':'','doc':'','leadInfo':!0x0});}),_0x255729[_0x2bb92b(0x261)](_0x308abd=>{const _0x25a98f=_0x2bb92b;let _0x232da2=_0xa76274['variables']['findIndex'](_0x3bd52d=>_0x3bd52d[_0x25a98f(0x62f)]===_0x308abd);_0x232da2===-0x1?_0xa76274[_0x25a98f(0x36c)][_0x25a98f(0x4fd)]({'folder':'leadInfo','name':_0x308abd,'value':'','doc':'','leadInfo':!0x0}):(_0xa76274[_0x25a98f(0x36c)][_0x232da2][_0x25a98f(0x69d)]='leadInfo',_0xa76274[_0x25a98f(0x36c)][_0x232da2]['leadInfo']=!0x0);}),_0xa76274[_0x2bb92b(0x5ef)]&&_0xa76274['blocks'][_0x2bb92b(0x736)]>0x0&&_0xa76274['blocks']['forEach'](_0x271251=>{const _0x49ee81=_0x2bb92b;_0x271251[_0x49ee81(0x59d)]&&_0x271251[_0x49ee81(0x35c)]&&_0x271251['groupId']===_0x271251['next_groupId']&&(_0x271251[_0x49ee81(0x35c)]=null);});let _0x5a0221=await this['repository'][_0x2bb92b(0x4e6)][_0x2bb92b(0x6f4)](_0xa76274[_0x2bb92b(0x1ff)],_0xa76274,this['instance'][_0x2bb92b(0x278)]);if(!_0x5a0221)throw new Error(_0x2bb92b(0x61a));return _0x5a0221;}catch(_0x503527){throw this[_0x2bb92b(0x2e0)]['error'](this[_0x2bb92b(0x413)]+'\x20('+this[_0x2bb92b(0x635)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x503527 instanceof Error?_0x503527[_0x2bb92b(0x20e)]:JSON['stringify'](_0x503527,null,0x2))),new m(_0x2bb92b(0x6ac)+_0x503527);}}async[a0_0xe3fdb8(0x4dd)](){const _0x367649=a0_0xe3fdb8;try{return this[_0x367649(0x2e0)][_0x367649(0x2b1)](this['instanceName']+'\x20('+this[_0x367649(0x635)][_0x367649(0x278)]+_0x367649(0x14b)),await this[_0x367649(0x1aa)][_0x367649(0x4e6)]['findAll']({'where':{}},this[_0x367649(0x635)][_0x367649(0x278)]);}catch(_0x200af6){return this['logger'][_0x367649(0x430)](this['instanceName']+'\x20('+this[_0x367649(0x635)]['wuid']+_0x367649(0x2e7)+(_0x200af6 instanceof Error?_0x200af6[_0x367649(0x20e)]:JSON[_0x367649(0x291)](_0x200af6,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x200af6};}}async[a0_0xe3fdb8(0x30e)](_0x30299f){const _0x520004=a0_0xe3fdb8;try{this[_0x520004(0x2e0)]['verbose'](this[_0x520004(0x413)]+'\x20('+this[_0x520004(0x635)][_0x520004(0x278)]+_0x520004(0x1d8));let _0x58f365=await this[_0x520004(0x1aa)][_0x520004(0x4e6)][_0x520004(0x6a9)]({'where':{'name':_0x30299f[_0x520004(0x62f)]}},this[_0x520004(0x635)][_0x520004(0x278)]);return _0x58f365?(_0x30299f['default']===!0x0&&await this[_0x520004(0x1aa)][_0x520004(0x4e6)][_0x520004(0x6a6)]({},{'default':!0x1},this[_0x520004(0x635)][_0x520004(0x278)]),await this[_0x520004(0x1aa)]['flow']['updateOne'](_0x58f365[_0x520004(0x1ff)],_0x30299f,this[_0x520004(0x635)][_0x520004(0x278)])):{'message':_0x520004(0x167)};}catch(_0x307032){throw this[_0x520004(0x2e0)][_0x520004(0x430)](this['instanceName']+'\x20('+this[_0x520004(0x635)][_0x520004(0x278)]+_0x520004(0x793)+(_0x307032 instanceof Error?_0x307032[_0x520004(0x20e)]:JSON['stringify'](_0x307032,null,0x2))),new m(_0x520004(0x631)+(_0x307032 instanceof Error?_0x307032[_0x520004(0x20e)]:JSON[_0x520004(0x291)](_0x307032,null,0x2)));}}async[a0_0xe3fdb8(0x746)](_0x38fed2){const _0x9d837f=a0_0xe3fdb8;try{this[_0x9d837f(0x2e0)][_0x9d837f(0x2b1)](this[_0x9d837f(0x413)]+'\x20('+this[_0x9d837f(0x635)][_0x9d837f(0x278)]+_0x9d837f(0x5fe));let _0x306b20=await this[_0x9d837f(0x1aa)][_0x9d837f(0x4e6)][_0x9d837f(0x6a9)]({'where':{'name':_0x38fed2['name']}},this[_0x9d837f(0x635)][_0x9d837f(0x278)]);_0x306b20||this[_0x9d837f(0x698)]('Flow\x20não\x20encontrado');let {block:_0x5c2d5f}=_0x38fed2;_0x5c2d5f?.['copy']?this['copyBlock'](_0x306b20,_0x38fed2):_0x5c2d5f?.[_0x9d837f(0x75e)]?this['deleteBlock'](_0x306b20,_0x38fed2):_0x5c2d5f[_0x9d837f(0x1ff)]?await this[_0x9d837f(0x5b0)](_0x306b20,_0x38fed2):this[_0x9d837f(0x5f4)](_0x306b20,_0x38fed2);let _0x2e90da=await this['repository'][_0x9d837f(0x4e6)][_0x9d837f(0x6f4)](_0x306b20[_0x9d837f(0x1ff)],_0x306b20,this['instance'][_0x9d837f(0x278)]);if(!_0x2e90da)throw new Error(_0x9d837f(0x61a));return _0x2e90da;}catch(_0x504330){this[_0x9d837f(0x698)](_0x9d837f(0x201)+_0x504330);}}async[a0_0xe3fdb8(0x4d8)](_0x2a4f26,_0x39eea5){const _0xbb3a49=a0_0xe3fdb8;let _0x5424fd=_0x39eea5[_0xbb3a49(0x52f)][_0xbb3a49(0x1ff)],_0xdececd=_0x2a4f26[_0xbb3a49(0x5ef)][_0xbb3a49(0x579)](_0x146de2=>_0x146de2[_0xbb3a49(0x1ff)]['toString']()===_0x5424fd);if(!_0xdececd){this[_0xbb3a49(0x2e0)][_0xbb3a49(0x430)](this[_0xbb3a49(0x413)]+'\x20('+this[_0xbb3a49(0x635)][_0xbb3a49(0x278)]+'):\x20Bloco\x20com\x20ID\x20'+_0x5424fd+_0xbb3a49(0x6a5));return;}this[_0xbb3a49(0x2e0)]['verbose'](this[_0xbb3a49(0x413)]+'\x20('+this[_0xbb3a49(0x635)][_0xbb3a49(0x278)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0xbb3a49(0x291)](_0xdececd));let _0x2617b8=JSON[_0xbb3a49(0x371)](JSON[_0xbb3a49(0x291)](_0xdececd));_0x2617b8[_0xbb3a49(0x1ff)]=new ie[(_0xbb3a49(0x3bb))]['Types']['ObjectId'](),this[_0xbb3a49(0x2e0)][_0xbb3a49(0x2b1)](this[_0xbb3a49(0x413)]+'\x20('+this[_0xbb3a49(0x635)]['wuid']+_0xbb3a49(0x523)+JSON['stringify'](_0x2617b8)),_0x2a4f26[_0xbb3a49(0x5ef)][_0xbb3a49(0x4fd)](_0x2617b8),this[_0xbb3a49(0x1dd)](_0x2a4f26[_0xbb3a49(0x5ef)],_0x2617b8['groupId']);}['throwAndLogError'](_0x280dc7){const _0x252f64=a0_0xe3fdb8;throw this[_0x252f64(0x2e0)]['error'](this[_0x252f64(0x413)]+'\x20('+this[_0x252f64(0x635)][_0x252f64(0x278)]+_0x252f64(0x668)+_0x280dc7),new m(_0x280dc7);}[a0_0xe3fdb8(0x669)](_0x305cc1,_0x5a357a){const _0x2c2d5a=a0_0xe3fdb8;let {block:_0x40469f}=_0x5a357a;if(_0x40469f[_0x2c2d5a(0x715)]===_0x2c2d5a(0x219)){this[_0x2c2d5a(0x698)](_0x2c2d5a(0x3aa));return;}if(!_0x40469f[_0x2c2d5a(0x1ff)]){this[_0x2c2d5a(0x698)](_0x2c2d5a(0x734));return;}let _0x597d66=_0x305cc1['blocks']['find'](_0x57cd4b=>_0x57cd4b['_id'][_0x2c2d5a(0x4ff)]()===_0x5a357a['block']['_id'][_0x2c2d5a(0x4ff)]());if(!_0x597d66){this['throwAndLogError']('Bloco\x20com\x20ID\x20'+_0x40469f[_0x2c2d5a(0x1ff)]+_0x2c2d5a(0x4c9));return;}_0x305cc1[_0x2c2d5a(0x5ef)]=_0x305cc1[_0x2c2d5a(0x5ef)][_0x2c2d5a(0x304)](_0x457e50=>_0x457e50[_0x2c2d5a(0x1ff)][_0x2c2d5a(0x4ff)]()!==_0x5a357a[_0x2c2d5a(0x52f)][_0x2c2d5a(0x1ff)][_0x2c2d5a(0x4ff)]()),_0x305cc1['conditions']=_0x305cc1['conditions'][_0x2c2d5a(0x304)](_0x1b037b=>_0x1b037b[_0x2c2d5a(0x166)]!==_0x40469f[_0x2c2d5a(0x1ff)][_0x2c2d5a(0x4ff)]()),_0x305cc1[_0x2c2d5a(0x18d)]=_0x305cc1[_0x2c2d5a(0x18d)][_0x2c2d5a(0x304)](_0x31d73f=>_0x31d73f[_0x2c2d5a(0x166)]!==_0x40469f['_id'][_0x2c2d5a(0x4ff)]()),_0x305cc1['replyOptions']=_0x305cc1[_0x2c2d5a(0x2c5)][_0x2c2d5a(0x304)](_0x241a67=>_0x241a67[_0x2c2d5a(0x166)]!==_0x40469f[_0x2c2d5a(0x1ff)][_0x2c2d5a(0x4ff)]()),this['reorderBlocks'](_0x305cc1['blocks'],_0x597d66[_0x2c2d5a(0x59d)]);}async['updateBlock'](_0x5fc78f,_0x2f7cb4){const _0x112013=a0_0xe3fdb8;let _0x12ead3=_0x5fc78f[_0x112013(0x5ef)][_0x112013(0x446)](_0x2106b8=>_0x2106b8[_0x112013(0x1ff)]['toString']()===_0x2f7cb4[_0x112013(0x52f)][_0x112013(0x1ff)]['toString']());if(this[_0x112013(0x2e0)][_0x112013(0x2b1)](this[_0x112013(0x413)]+'\x20('+this[_0x112013(0x635)][_0x112013(0x278)]+_0x112013(0x504)+_0x12ead3),_0x12ead3===-0x1){this[_0x112013(0x2e0)][_0x112013(0x2b1)](_0x112013(0x228)+_0x2f7cb4[_0x112013(0x52f)]['_id']+_0x112013(0x42a));return;}if(_0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x112013(0x715)]===_0x112013(0x219)){let _0x135183=Object[_0x112013(0x205)](_0x2f7cb4[_0x112013(0x52f)]);if(_0x135183[_0x112013(0x736)]>0x2||_0x135183[_0x112013(0x736)]===0x2&&!_0x135183[_0x112013(0x13f)](_0x112013(0x35c))){this[_0x112013(0x698)](_0x112013(0x658));return;}}let _0x181e87=_0x5fc78f['blocks'][_0x12ead3][_0x112013(0x59d)];for(let _0x4fadbb in _0x2f7cb4[_0x112013(0x52f)])_0x2f7cb4[_0x112013(0x52f)]['hasOwnProperty'](_0x4fadbb)&&(_0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x4fadbb]=_0x2f7cb4['block'][_0x4fadbb]);if(this[_0x112013(0x2e0)][_0x112013(0x2b1)](this['instanceName']+'\x20('+this[_0x112013(0x635)][_0x112013(0x278)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x112013(0x291)](_0x5fc78f[_0x112013(0x5ef)][_0x12ead3])),_0x5fc78f['blocks'][_0x12ead3][_0x112013(0x4a6)]&&'header'in _0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x112013(0x4a6)]){this['logger'][_0x112013(0x2b1)](this['instanceName']+'\x20('+this[_0x112013(0x635)][_0x112013(0x278)]+_0x112013(0x52a));let _0x2c7c7a=JSON['stringify'](_0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x112013(0x4a6)]['header'],null,0x1);_0x2c7c7a[_0x112013(0x736)]>0x2&&(_0x2c7c7a=_0x2c7c7a['substring'](0x1,_0x2c7c7a[_0x112013(0x736)]-0x1)[_0x112013(0x293)]()),_0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x112013(0x4a6)]['headerString']=_0x2c7c7a;}if(_0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x112013(0x4a6)]&&'body'in _0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x112013(0x4a6)]){this['logger']['verbose'](this[_0x112013(0x413)]+'\x20('+this[_0x112013(0x635)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x3dcc13=JSON[_0x112013(0x291)](_0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x112013(0x4a6)][_0x112013(0x1c8)],null,0x1);_0x3dcc13[_0x112013(0x736)]>0x2&&(_0x3dcc13=_0x3dcc13[_0x112013(0x26c)](0x1,_0x3dcc13[_0x112013(0x736)]-0x1)[_0x112013(0x293)]()),_0x5fc78f['blocks'][_0x12ead3][_0x112013(0x4a6)][_0x112013(0x55d)]=_0x3dcc13;}let _0x130099=_0x5fc78f[_0x112013(0x5ef)][_0x12ead3][_0x112013(0x59d)];_0x181e87!==_0x130099?(this[_0x112013(0x1dd)](_0x5fc78f[_0x112013(0x5ef)],_0x181e87),this[_0x112013(0x1dd)](_0x5fc78f[_0x112013(0x5ef)],_0x130099)):this[_0x112013(0x1dd)](_0x5fc78f[_0x112013(0x5ef)],_0x181e87);}[a0_0xe3fdb8(0x5f4)](_0x1dc15d,_0x45d268){const _0x1fff8d=a0_0xe3fdb8;if(_0x45d268[_0x1fff8d(0x52f)][_0x1fff8d(0x715)]==='start'){this[_0x1fff8d(0x698)](_0x1fff8d(0x35f));return;}if(_0x45d268[_0x1fff8d(0x52f)]['apirequest']&&_0x1fff8d(0x3fe)in _0x45d268[_0x1fff8d(0x52f)]['apirequest']){this[_0x1fff8d(0x2e0)]['verbose'](this['instanceName']+'\x20('+this[_0x1fff8d(0x635)][_0x1fff8d(0x278)]+_0x1fff8d(0x52a));let _0x3e37af=JSON[_0x1fff8d(0x291)](_0x45d268['block']['apirequest'][_0x1fff8d(0x3fe)],null,0x1);_0x3e37af[_0x1fff8d(0x736)]>0x2&&(_0x3e37af=_0x3e37af[_0x1fff8d(0x26c)](0x1,_0x3e37af[_0x1fff8d(0x736)]-0x1)[_0x1fff8d(0x293)]()),_0x45d268[_0x1fff8d(0x52f)][_0x1fff8d(0x4a6)]['headerString']=_0x3e37af;}_0x45d268[_0x1fff8d(0x52f)][_0x1fff8d(0x4a6)]&&_0x1fff8d(0x1c8)in _0x45d268[_0x1fff8d(0x52f)]['apirequest']&&(this['logger'][_0x1fff8d(0x2b1)](this['instanceName']+'\x20('+this[_0x1fff8d(0x635)][_0x1fff8d(0x278)]+_0x1fff8d(0x456)),_0x45d268[_0x1fff8d(0x52f)][_0x1fff8d(0x4a6)][_0x1fff8d(0x55d)]=JSON['stringify'](_0x45d268[_0x1fff8d(0x52f)][_0x1fff8d(0x4a6)][_0x1fff8d(0x1c8)],null,0x1)[_0x1fff8d(0x293)]()),_0x1dc15d['blocks']['push'](_0x45d268['block']),this[_0x1fff8d(0x1dd)](_0x1dc15d[_0x1fff8d(0x5ef)],_0x45d268[_0x1fff8d(0x52f)][_0x1fff8d(0x59d)]);}[a0_0xe3fdb8(0x1dd)](_0x3ea23e,_0x28e6e0){const _0x588b03=a0_0xe3fdb8;let _0x48933c=_0x3ea23e['filter'](_0x3fe56e=>_0x3fe56e['groupId']===_0x28e6e0);_0x48933c[_0x588b03(0x770)]((_0x2cc3f8,_0x3f2ea2)=>_0x2cc3f8[_0x588b03(0x186)]-_0x3f2ea2[_0x588b03(0x186)]),_0x48933c[_0x588b03(0x261)]((_0x21de23,_0x2bc48f)=>_0x21de23['order']=_0x2bc48f+0x1);}async['editFlowReply'](_0x215c05){const _0x24e2df=a0_0xe3fdb8;try{if(this[_0x24e2df(0x2e0)][_0x24e2df(0x2b1)](this[_0x24e2df(0x413)]+'\x20('+this['instance'][_0x24e2df(0x278)]+_0x24e2df(0x662)),!_0x215c05||!_0x215c05[_0x24e2df(0x4ef)]){this[_0x24e2df(0x698)]('Data\x20inválida\x20fornecida');return;}let _0x17a54a=await this[_0x24e2df(0x1aa)][_0x24e2df(0x4e6)][_0x24e2df(0x6a9)]({'where':{'name':_0x215c05[_0x24e2df(0x62f)]}},this[_0x24e2df(0x635)][_0x24e2df(0x278)]);_0x17a54a||this[_0x24e2df(0x698)](_0x24e2df(0x636));let {replyOption:_0x2b588c}=_0x215c05;_0x2b588c?.[_0x24e2df(0x75e)]?(this[_0x24e2df(0x627)](_0x17a54a,_0x215c05),this[_0x24e2df(0x785)](_0x17a54a[_0x24e2df(0x2c5)],_0x215c05[_0x24e2df(0x4ef)][_0x24e2df(0x166)])):_0x2b588c[_0x24e2df(0x1ff)]?(await this['updateReplyOption'](_0x17a54a,_0x215c05),this['reorderReplyOptions'](_0x17a54a[_0x24e2df(0x2c5)],_0x215c05[_0x24e2df(0x4ef)][_0x24e2df(0x166)])):(this[_0x24e2df(0x717)](_0x17a54a,_0x215c05),this[_0x24e2df(0x785)](_0x17a54a[_0x24e2df(0x2c5)],_0x215c05['replyOption'][_0x24e2df(0x166)]));let _0x330a41=await this['repository'][_0x24e2df(0x4e6)][_0x24e2df(0x6f4)](_0x17a54a[_0x24e2df(0x1ff)],_0x17a54a,this[_0x24e2df(0x635)][_0x24e2df(0x278)]);if(!_0x330a41)throw new Error(_0x24e2df(0x61a));return _0x330a41;}catch(_0x363a9c){this[_0x24e2df(0x698)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x363a9c);}}[a0_0xe3fdb8(0x785)](_0x13faf2,_0x4a158a){const _0x5c0d2f=a0_0xe3fdb8;console[_0x5c0d2f(0x21f)](_0x5c0d2f(0x6c1),_0x4a158a),_0x13faf2[_0x5c0d2f(0x261)](_0x236cfe=>{const _0x46e558=_0x5c0d2f;_0x236cfe[_0x46e558(0x166)]===_0x4a158a&&_0x236cfe[_0x46e558(0x186)]===void 0x0&&(_0x236cfe[_0x46e558(0x186)]=0x270f);});let _0x4901c9=_0x13faf2[_0x5c0d2f(0x304)](_0x46242b=>_0x46242b[_0x5c0d2f(0x166)]===_0x4a158a);_0x4901c9[_0x5c0d2f(0x770)]((_0xe0cdd2,_0x505026)=>_0xe0cdd2[_0x5c0d2f(0x186)]-_0x505026['order']),_0x4901c9['forEach']((_0x473509,_0x2dd7ad)=>{const _0xb0fd8c=_0x5c0d2f;_0x473509[_0xb0fd8c(0x186)]=_0x2dd7ad+0x1;}),_0x13faf2[_0x5c0d2f(0x261)](_0x544321=>{const _0x5e55bf=_0x5c0d2f;if(_0x544321['blockId']===_0x4a158a){let _0x2ff28c=_0x4901c9[_0x5e55bf(0x579)](_0x179f4a=>_0x179f4a[_0x5e55bf(0x1ff)]&&_0x544321[_0x5e55bf(0x1ff)]&&_0x179f4a[_0x5e55bf(0x1ff)]['toString']()===_0x544321[_0x5e55bf(0x1ff)][_0x5e55bf(0x4ff)]());_0x2ff28c&&(_0x544321[_0x5e55bf(0x186)]=_0x2ff28c[_0x5e55bf(0x186)]);}}),console[_0x5c0d2f(0x21f)](_0x5c0d2f(0x4bc),_0x13faf2);}[a0_0xe3fdb8(0x627)](_0x16ca1a,_0x19d513){const _0x361a4d=a0_0xe3fdb8;let {replyOption:_0x2094fc}=_0x19d513;if(!_0x2094fc[_0x361a4d(0x1ff)]){this[_0x361a4d(0x698)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x16ca1a[_0x361a4d(0x2c5)][_0x361a4d(0x579)](_0x5f5417=>_0x5f5417[_0x361a4d(0x1ff)][_0x361a4d(0x4ff)]()===_0x19d513[_0x361a4d(0x4ef)][_0x361a4d(0x1ff)][_0x361a4d(0x4ff)]())){this['throwAndLogError'](_0x361a4d(0x63f)+_0x2094fc['_id']+_0x361a4d(0x4c9));return;}_0x16ca1a[_0x361a4d(0x2c5)]=_0x16ca1a[_0x361a4d(0x2c5)][_0x361a4d(0x304)](_0x175258=>_0x175258[_0x361a4d(0x1ff)]['toString']()!==_0x19d513[_0x361a4d(0x4ef)][_0x361a4d(0x1ff)]['toString']());}async[a0_0xe3fdb8(0x218)](_0x3646b0,_0x531a0b){const _0x5d45fd=a0_0xe3fdb8;let _0x5bffd7=_0x3646b0[_0x5d45fd(0x2c5)][_0x5d45fd(0x446)](_0x3d530b=>_0x3d530b[_0x5d45fd(0x1ff)]['toString']()===_0x531a0b[_0x5d45fd(0x4ef)][_0x5d45fd(0x1ff)][_0x5d45fd(0x4ff)]());if(_0x5bffd7===-0x1){this[_0x5d45fd(0x698)](_0x5d45fd(0x63f)+_0x531a0b[_0x5d45fd(0x4ef)][_0x5d45fd(0x1ff)]+_0x5d45fd(0x42a));return;}for(let _0x556ddd in _0x531a0b[_0x5d45fd(0x4ef)])_0x531a0b[_0x5d45fd(0x4ef)][_0x5d45fd(0x541)](_0x556ddd)&&(_0x3646b0[_0x5d45fd(0x2c5)][_0x5bffd7][_0x556ddd]=_0x531a0b[_0x5d45fd(0x4ef)][_0x556ddd]);}[a0_0xe3fdb8(0x717)](_0xe66883,_0x10d9f7){const _0x5216e2=a0_0xe3fdb8;_0xe66883['replyOptions'][_0x5216e2(0x4fd)](_0x10d9f7[_0x5216e2(0x4ef)]);}async['editFlowGroup'](_0x3261cb){const _0x3a1de0=a0_0xe3fdb8;this[_0x3a1de0(0x2e0)][_0x3a1de0(0x2b1)](this[_0x3a1de0(0x413)]+'\x20('+this[_0x3a1de0(0x635)]['wuid']+_0x3a1de0(0x67a)+_0x3261cb);try{this[_0x3a1de0(0x2e0)][_0x3a1de0(0x2b1)](this[_0x3a1de0(0x413)]+'\x20('+this[_0x3a1de0(0x635)][_0x3a1de0(0x278)]+_0x3a1de0(0x254));let _0x4ddd57=await this['repository'][_0x3a1de0(0x4e6)][_0x3a1de0(0x6a9)]({'where':{'name':_0x3261cb[_0x3a1de0(0x62f)]}},this['instance'][_0x3a1de0(0x278)]);if(!_0x4ddd57)throw new Error(_0x3a1de0(0x636));if(_0x3261cb[_0x3a1de0(0x5c7)]&&_0x3261cb['group']?.[_0x3a1de0(0x75e)]===!0x0){if(this[_0x3a1de0(0x2e0)][_0x3a1de0(0x2b1)](this['instanceName']+'\x20('+this['instance'][_0x3a1de0(0x278)]+_0x3a1de0(0x3e4)),_0x3261cb['group'][_0x3a1de0(0x3bb)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x4ddd57[_0x3a1de0(0x5ef)][_0x3a1de0(0x602)](_0x8af450=>_0x8af450[_0x3a1de0(0x59d)][_0x3a1de0(0x4ff)]()===_0x3261cb[_0x3a1de0(0x5c7)]['_id']))return this[_0x3a1de0(0x2e0)][_0x3a1de0(0x2b1)](this[_0x3a1de0(0x413)]+'\x20('+this[_0x3a1de0(0x635)][_0x3a1de0(0x278)]+_0x3a1de0(0x73b)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x4ddd57[_0x3a1de0(0x384)]=_0x4ddd57[_0x3a1de0(0x384)][_0x3a1de0(0x304)](_0x1faec6=>_0x1faec6[_0x3a1de0(0x1ff)][_0x3a1de0(0x4ff)]()!==_0x3261cb['group'][_0x3a1de0(0x1ff)]);}else{if(_0x3261cb['group']){if(_0x3261cb['group'][_0x3a1de0(0x3bb)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x3261cb[_0x3a1de0(0x5c7)][_0x3a1de0(0x1ff)]){let _0x5543c8=_0x4ddd57[_0x3a1de0(0x384)]['find'](_0x414f74=>_0x414f74[_0x3a1de0(0x1ff)]['toString']()===_0x3261cb[_0x3a1de0(0x5c7)]['_id']);_0x5543c8&&(_0x3261cb['group']['x']<0x0&&(_0x3261cb['group']['x']=0x0),_0x3261cb[_0x3a1de0(0x5c7)]['y']<0x0&&(_0x3261cb[_0x3a1de0(0x5c7)]['y']=0x0),Object[_0x3a1de0(0x322)](_0x5543c8,_0x3261cb['group']));}else _0x4ddd57['groups'][_0x3a1de0(0x4fd)](_0x3261cb['group']);}}let _0x392d9a=await this[_0x3a1de0(0x1aa)]['flow'][_0x3a1de0(0x6f4)](_0x4ddd57[_0x3a1de0(0x1ff)],_0x4ddd57,this['instance'][_0x3a1de0(0x278)]);if(!_0x392d9a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x392d9a;}catch(_0x41a5fc){throw this[_0x3a1de0(0x2e0)][_0x3a1de0(0x430)](this['instanceName']+'\x20('+this[_0x3a1de0(0x635)][_0x3a1de0(0x278)]+_0x3a1de0(0x5ce)+(_0x41a5fc instanceof Error?_0x41a5fc[_0x3a1de0(0x20e)]:JSON[_0x3a1de0(0x291)](_0x41a5fc,null,0x2))),new m(_0x3a1de0(0x6b1)+(_0x41a5fc instanceof Error?_0x41a5fc[_0x3a1de0(0x20e)]:JSON[_0x3a1de0(0x291)](_0x41a5fc,null,0x2)));}}async[a0_0xe3fdb8(0x41b)](_0x358cee){const _0x46a1a2=a0_0xe3fdb8;try{this['logger']['verbose'](this[_0x46a1a2(0x413)]+'\x20('+this[_0x46a1a2(0x635)]['wuid']+_0x46a1a2(0x552));let _0x3ae284=await this[_0x46a1a2(0x1aa)]['flow']['findOne']({'where':{'name':_0x358cee[_0x46a1a2(0x62f)]}},this['instance'][_0x46a1a2(0x278)]);if(!_0x3ae284)throw new Error(_0x46a1a2(0x636));let _0x41cbd8=!0x1;if(_0x358cee['condition']?.[_0x46a1a2(0x75e)]===!0x0)_0x3ae284[_0x46a1a2(0x4b7)]=_0x3ae284[_0x46a1a2(0x4b7)][_0x46a1a2(0x304)](_0x540526=>_0x540526&&_0x358cee[_0x46a1a2(0x15d)]&&_0x540526[_0x46a1a2(0x1ff)]&&_0x358cee[_0x46a1a2(0x15d)][_0x46a1a2(0x1ff)]&&_0x540526[_0x46a1a2(0x1ff)][_0x46a1a2(0x4ff)]()!==_0x358cee[_0x46a1a2(0x15d)][_0x46a1a2(0x1ff)][_0x46a1a2(0x4ff)]()),_0x41cbd8=!0x0;else{let _0x565b3c=_0x3ae284[_0x46a1a2(0x4b7)][_0x46a1a2(0x579)](_0x162489=>_0x162489&&_0x358cee['condition']&&_0x162489[_0x46a1a2(0x1ff)]&&_0x358cee[_0x46a1a2(0x15d)][_0x46a1a2(0x1ff)]&&_0x162489[_0x46a1a2(0x1ff)][_0x46a1a2(0x4ff)]()===_0x358cee[_0x46a1a2(0x15d)][_0x46a1a2(0x1ff)]['toString']());_0x565b3c?(_0x41cbd8=_0x565b3c[_0x46a1a2(0x186)]!==_0x358cee['condition']['order'],Object['assign'](_0x565b3c,_0x358cee[_0x46a1a2(0x15d)])):(_0x3ae284[_0x46a1a2(0x4b7)][_0x46a1a2(0x4fd)](_0x358cee['condition']),_0x41cbd8=!0x0);}if(_0x41cbd8){_0x3ae284[_0x46a1a2(0x4b7)][_0x46a1a2(0x770)]((_0x2e7b34,_0x182874)=>_0x2e7b34['order']>_0x182874['order']?0x1:_0x182874[_0x46a1a2(0x186)]>_0x2e7b34[_0x46a1a2(0x186)]?-0x1:0x0);for(let _0x2bded3=0x0;_0x2bded3<_0x3ae284[_0x46a1a2(0x4b7)][_0x46a1a2(0x736)];_0x2bded3++)_0x3ae284[_0x46a1a2(0x4b7)][_0x2bded3]['order']=_0x2bded3+0x1;_0x3ae284[_0x46a1a2(0x4b7)][_0x46a1a2(0x736)]>0x0&&(_0x3ae284[_0x46a1a2(0x4b7)][0x0]['OrAnd']=_0x46a1a2(0x440));}let _0x29ef3f=await this['repository'][_0x46a1a2(0x4e6)][_0x46a1a2(0x6f4)](_0x3ae284[_0x46a1a2(0x1ff)],_0x3ae284,this['instance']['wuid']);if(!_0x29ef3f)throw new Error(_0x46a1a2(0x61a));return _0x29ef3f;}catch(_0x22045f){throw this[_0x46a1a2(0x2e0)]['error'](this[_0x46a1a2(0x413)]+'\x20('+this[_0x46a1a2(0x635)][_0x46a1a2(0x278)]+_0x46a1a2(0x628)+(_0x22045f instanceof Error?_0x22045f[_0x46a1a2(0x20e)]:JSON[_0x46a1a2(0x291)](_0x22045f,null,0x2))),new Error(_0x46a1a2(0x20f)+(_0x22045f instanceof Error?_0x22045f['message']:JSON[_0x46a1a2(0x291)](_0x22045f,null,0x2)));}}async[a0_0xe3fdb8(0x232)](_0x5bc84f){const _0x1e0f95=a0_0xe3fdb8;try{this['logger']['verbose'](this[_0x1e0f95(0x413)]+'\x20('+this[_0x1e0f95(0x635)]['wuid']+_0x1e0f95(0x774));let _0x36e68f=await this['repository'][_0x1e0f95(0x4e6)][_0x1e0f95(0x6a9)]({'where':{'name':_0x5bc84f[_0x1e0f95(0x62f)]}},this[_0x1e0f95(0x635)][_0x1e0f95(0x278)]);if(!_0x36e68f)throw new Error(_0x1e0f95(0x636));let _0x23fe0=!0x1;if(_0x5bc84f[_0x1e0f95(0x73e)]?.['delete']===!0x0)_0x36e68f[_0x1e0f95(0x18d)]=_0x36e68f[_0x1e0f95(0x18d)]['filter'](_0x55d1e3=>_0x55d1e3&&_0x5bc84f['varedit']&&_0x55d1e3[_0x1e0f95(0x1ff)]&&_0x5bc84f[_0x1e0f95(0x73e)][_0x1e0f95(0x1ff)]&&_0x55d1e3[_0x1e0f95(0x1ff)]['toString']()!==_0x5bc84f[_0x1e0f95(0x73e)][_0x1e0f95(0x1ff)]['toString']()),_0x23fe0=!0x0;else{let _0x3f0c58=_0x36e68f['varedits']['find'](_0xe2d18f=>_0xe2d18f&&_0x5bc84f['varedit']&&_0xe2d18f[_0x1e0f95(0x1ff)]&&_0x5bc84f['varedit']['_id']&&_0xe2d18f[_0x1e0f95(0x1ff)][_0x1e0f95(0x4ff)]()===_0x5bc84f[_0x1e0f95(0x73e)][_0x1e0f95(0x1ff)][_0x1e0f95(0x4ff)]());_0x3f0c58?(_0x23fe0=_0x3f0c58['order']!==_0x5bc84f[_0x1e0f95(0x73e)]['order'],Object['assign'](_0x3f0c58,_0x5bc84f[_0x1e0f95(0x73e)])):(_0x36e68f['varedits'][_0x1e0f95(0x4fd)](_0x5bc84f[_0x1e0f95(0x73e)]),_0x23fe0=!0x0);}if(_0x23fe0){_0x36e68f[_0x1e0f95(0x18d)][_0x1e0f95(0x770)]((_0x7518c6,_0x58785c)=>_0x7518c6['order']>_0x58785c[_0x1e0f95(0x186)]?0x1:_0x58785c[_0x1e0f95(0x186)]>_0x7518c6[_0x1e0f95(0x186)]?-0x1:0x0);for(let _0x21a4da=0x0;_0x21a4da<_0x36e68f[_0x1e0f95(0x18d)][_0x1e0f95(0x736)];_0x21a4da++)_0x36e68f[_0x1e0f95(0x18d)][_0x21a4da][_0x1e0f95(0x186)]=_0x21a4da+0x1;}let _0x56779c=await this[_0x1e0f95(0x1aa)][_0x1e0f95(0x4e6)]['updateOne'](_0x36e68f[_0x1e0f95(0x1ff)],_0x36e68f,this['instance'][_0x1e0f95(0x278)]);if(!_0x56779c)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x56779c;}catch(_0x639afe){throw this[_0x1e0f95(0x2e0)][_0x1e0f95(0x430)](this[_0x1e0f95(0x413)]+'\x20('+this[_0x1e0f95(0x635)][_0x1e0f95(0x278)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x639afe instanceof Error?_0x639afe[_0x1e0f95(0x20e)]:JSON['stringify'](_0x639afe,null,0x2))),new m(_0x1e0f95(0x20f)+(_0x639afe instanceof Error?_0x639afe['message']:JSON[_0x1e0f95(0x291)](_0x639afe,null,0x2)));}}async[a0_0xe3fdb8(0x393)](_0x2a61aa){const _0x4c002d=a0_0xe3fdb8;try{this[_0x4c002d(0x2e0)][_0x4c002d(0x2b1)](this['instanceName']+'\x20('+this[_0x4c002d(0x635)][_0x4c002d(0x278)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x1cdfa1=await this['repository']['flow'][_0x4c002d(0x6a9)]({'where':{'name':_0x2a61aa[_0x4c002d(0x62f)]}},this[_0x4c002d(0x635)][_0x4c002d(0x278)]);if(!_0x1cdfa1)throw new Error(_0x4c002d(0x636));_0x2a61aa[_0x4c002d(0x650)][_0x4c002d(0x62f)]=_0x2a61aa[_0x4c002d(0x650)][_0x4c002d(0x62f)][_0x4c002d(0x293)](),_0x2a61aa[_0x4c002d(0x650)][_0x4c002d(0x62f)][_0x4c002d(0x222)]('_')&&(_0x2a61aa['variable']['name']=_0x2a61aa[_0x4c002d(0x650)][_0x4c002d(0x62f)][_0x4c002d(0x26c)](0x1)),_0x2a61aa['variable'][_0x4c002d(0x62f)]=_0x2a61aa[_0x4c002d(0x650)][_0x4c002d(0x62f)][_0x4c002d(0x293)]();let _0xbeb82c=_0x1cdfa1[_0x4c002d(0x36c)][_0x4c002d(0x579)](_0x274411=>_0x274411[_0x4c002d(0x62f)]===_0x2a61aa[_0x4c002d(0x650)][_0x4c002d(0x62f)]);if(_0xbeb82c?.[_0x4c002d(0x39e)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x2a61aa[_0x4c002d(0x650)]?.[_0x4c002d(0x75e)]===!0x0){if(!_0xbeb82c)return{'message':_0x4c002d(0x59f)};_0x1cdfa1[_0x4c002d(0x36c)]=_0x1cdfa1[_0x4c002d(0x36c)]['filter'](_0x5bff61=>_0x5bff61[_0x4c002d(0x62f)]!==_0x2a61aa[_0x4c002d(0x650)]['name']);}else _0xbeb82c?Object['assign'](_0xbeb82c,_0x2a61aa[_0x4c002d(0x650)]):_0x1cdfa1[_0x4c002d(0x36c)][_0x4c002d(0x4fd)](_0x2a61aa['variable']);let _0x1905f5=await this[_0x4c002d(0x1aa)]['flow'][_0x4c002d(0x6f4)](_0x1cdfa1['_id'],_0x1cdfa1,this['instance'][_0x4c002d(0x278)]);if(!_0x1905f5)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1905f5;}catch(_0x503669){throw this[_0x4c002d(0x2e0)][_0x4c002d(0x430)](this[_0x4c002d(0x413)]+'\x20('+this[_0x4c002d(0x635)][_0x4c002d(0x278)]+_0x4c002d(0x46a)+(_0x503669 instanceof Error?_0x503669[_0x4c002d(0x20e)]:JSON[_0x4c002d(0x291)](_0x503669,null,0x2))),new m(_0x4c002d(0x62c)+(_0x503669 instanceof Error?_0x503669[_0x4c002d(0x20e)]:JSON[_0x4c002d(0x291)](_0x503669,null,0x2)));}}async['startFlow'](_0x322428){const _0x5eb865=a0_0xe3fdb8;let _0x495004=null;try{if(!this[_0x5eb865(0x1c2)]?.[_0x5eb865(0x244)]['enabled'])throw new m(_0x5eb865(0x6df));this['logger'][_0x5eb865(0x2b1)](this[_0x5eb865(0x413)]+'\x20('+this[_0x5eb865(0x635)][_0x5eb865(0x278)]+'):\x20Iniciando\x20bot...');let _0x5a67cd=(await this['whatsappNumber']({'numbers':[_0x322428[_0x5eb865(0x27d)]]}))[0x0];if(!_0x5a67cd[_0x5eb865(0x343)]&&!(0x0,y[_0x5eb865(0x72b)])(_0x5a67cd[_0x5eb865(0x237)])&&!_0x5a67cd[_0x5eb865(0x237)][_0x5eb865(0x13f)](_0x5eb865(0x6be)))throw _0x495004=JSON[_0x5eb865(0x291)](_0x5a67cd,null,0x2),new m(_0x5a67cd);let _0x291f4d=await this[_0x5eb865(0x1aa)][_0x5eb865(0x4e6)]['findOne']({'where':{'name':_0x322428[_0x5eb865(0x62f)]}},this[_0x5eb865(0x635)][_0x5eb865(0x278)]);if(!_0x291f4d)return this['logger']['error'](this[_0x5eb865(0x413)]+'\x20('+this[_0x5eb865(0x635)][_0x5eb865(0x278)]+_0x5eb865(0x26f)),{'message':_0x5eb865(0x636)};let _0x343dba=await this[_0x5eb865(0x563)](_0x291f4d,_0x5a67cd[_0x5eb865(0x237)],_0x322428[_0x5eb865(0x231)]);if(_0x343dba){this['logger'][_0x5eb865(0x2b1)](this[_0x5eb865(0x413)]+'\x20('+this[_0x5eb865(0x635)][_0x5eb865(0x278)]+_0x5eb865(0x1d2));let _0x3887fe=await this[_0x5eb865(0x424)](_0x343dba);return _0x3887fe&&await this[_0x5eb865(0x444)](_0x343dba,_0x3887fe),{'message':'Flow\x20iniciado\x20com\x20'+_0x322428['remoteJid']};}}catch(_0x10dd6c){if(this[_0x5eb865(0x2e0)]['error'](this[_0x5eb865(0x413)]+'\x20('+this[_0x5eb865(0x635)][_0x5eb865(0x278)]+_0x5eb865(0x20d)+(_0x10dd6c instanceof Error?_0x10dd6c[_0x5eb865(0x20e)]:JSON[_0x5eb865(0x291)](_0x10dd6c,null,0x2))),_0x495004=_0x10dd6c instanceof Error?_0x10dd6c[_0x5eb865(0x20e)]:JSON[_0x5eb865(0x291)](_0x10dd6c,null,0x2),_0x495004)throw new m(_0x5eb865(0x6e3)+_0x495004);}}async['closeExistingConversations'](_0x18b829){const _0x586992=a0_0xe3fdb8;try{let _0x113fc2={'remoteJid':_0x18b829,'status':_0x586992(0x389)},_0x7bfcfe={'status':'closed'},_0x4f0634=await this[_0x586992(0x1aa)][_0x586992(0x39c)][_0x586992(0x6a6)](_0x113fc2,_0x7bfcfe,this[_0x586992(0x635)]['wuid']);return this[_0x586992(0x2e0)][_0x586992(0x2b1)](this[_0x586992(0x413)]+'\x20('+this[_0x586992(0x635)][_0x586992(0x278)]+_0x586992(0x3c4)),_0x4f0634;}catch(_0x11cd0d){throw this[_0x586992(0x2e0)][_0x586992(0x430)](this[_0x586992(0x413)]+'\x20('+this['instance'][_0x586992(0x278)]+_0x586992(0x3b4)+_0x11cd0d[_0x586992(0x20e)]),_0x11cd0d;}}async['createConversationforStartFlow'](_0x3fad0b,_0x2257f3,_0x283d99){const _0x1ef941=a0_0xe3fdb8;this['logger'][_0x1ef941(0x2b1)](this[_0x1ef941(0x413)]+'\x20('+this[_0x1ef941(0x635)][_0x1ef941(0x278)]+_0x1ef941(0x733)),await this[_0x1ef941(0x684)](_0x2257f3);try{let _0x25bb5e=require(_0x1ef941(0x469))[_0x1ef941(0x6d7)],_0xef92f1=Date['now'](),_0x34a5e6=_0x1ef941(0x219),_0x8a2f71={},_0x5353cc={},_0x5b2836={..._0x3fad0b,'chatLog':null},_0x3570f1=await this[_0x1ef941(0x60f)](_0x5b2836['variables']),_0x59d313=await this['getVariablesChat'](_0x2257f3),_0x3cd4c1={..._0x3570f1,..._0x59d313,'_remoteJid':_0x2257f3},_0x7bafaa={'lastReceivedMessage':_0x8a2f71,'lastSendMessage':_0x5353cc,'lastBlockId':_0x34a5e6,'lastCondition':!0x0,'realVariables':_0x3cd4c1};_0x5b2836[_0x1ef941(0x24a)]=_0x7bafaa,_0x5b2836[_0x1ef941(0x24a)][_0x1ef941(0x5f9)]={..._0x3cd4c1,..._0x283d99},delete _0x5b2836[_0x1ef941(0x1ff)],_0x5b2836[_0x1ef941(0x1ff)]=new _0x25bb5e(),_0x5b2836[_0x1ef941(0x27f)]=_0xef92f1,_0x5b2836['status']=_0x1ef941(0x389),_0x5b2836['remoteJid']=_0x2257f3;let _0x5d6b75=await this[_0x1ef941(0x1aa)][_0x1ef941(0x39c)][_0x1ef941(0x6f4)](_0x5b2836[_0x1ef941(0x1ff)],_0x5b2836,this[_0x1ef941(0x635)]['wuid']);return this['logger']['verbose'](this[_0x1ef941(0x413)]+'\x20('+this['instance'][_0x1ef941(0x278)]+_0x1ef941(0x351)),_0x5d6b75?_0x5b2836:null;}catch(_0x551bdd){throw this[_0x1ef941(0x2e0)]['error'](this[_0x1ef941(0x413)]+'\x20('+this[_0x1ef941(0x635)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x551bdd instanceof Error?_0x551bdd[_0x1ef941(0x20e)]:JSON[_0x1ef941(0x291)](_0x551bdd,null,0x2))),new m(_0x551bdd[_0x1ef941(0x20e)]);}}async[a0_0xe3fdb8(0x265)](_0x12feae){const _0x3f0837=a0_0xe3fdb8;try{this[_0x3f0837(0x2e0)][_0x3f0837(0x2b1)](this[_0x3f0837(0x413)]+'\x20('+this[_0x3f0837(0x635)][_0x3f0837(0x278)]+_0x3f0837(0x3fd)),this[_0x3f0837(0x2e0)][_0x3f0837(0x2b1)](this[_0x3f0837(0x413)]+'\x20('+this[_0x3f0837(0x635)]['wuid']+'):\x20Query\x20params:\x20'+_0x12feae);let _0x367eed={'where':{'_id':_0x12feae}};return await this['repository'][_0x3f0837(0x39c)][_0x3f0837(0x6a9)](_0x367eed,this[_0x3f0837(0x635)][_0x3f0837(0x278)]);}catch(_0x36e729){throw this[_0x3f0837(0x2e0)][_0x3f0837(0x430)](this[_0x3f0837(0x413)]+'\x20('+this['instance'][_0x3f0837(0x278)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x36e729 instanceof Error?_0x36e729[_0x3f0837(0x20e)]:JSON[_0x3f0837(0x291)](_0x36e729,null,0x2))),new m(_0x3f0837(0x2bd)+_0x36e729[_0x3f0837(0x20e)]);}}async['fetchConversation'](_0x5d61eb){const _0x2fd66c=a0_0xe3fdb8;try{return this[_0x2fd66c(0x2e0)][_0x2fd66c(0x2b1)](this[_0x2fd66c(0x413)]+'\x20('+this[_0x2fd66c(0x635)][_0x2fd66c(0x278)]+_0x2fd66c(0x790)),await this['repository'][_0x2fd66c(0x39c)][_0x2fd66c(0x579)](_0x5d61eb,this[_0x2fd66c(0x635)][_0x2fd66c(0x278)]);}catch(_0x5a7ea9){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x2fd66c(0x635)]['wuid']+_0x2fd66c(0x79f)+(_0x5a7ea9 instanceof Error?_0x5a7ea9['message']:JSON[_0x2fd66c(0x291)](_0x5a7ea9,null,0x2))),new m(_0x2fd66c(0x76c)+_0x5a7ea9['message']);}}async[a0_0xe3fdb8(0x29f)](_0x595d23){const _0x3c65cd=a0_0xe3fdb8;try{return this['logger'][_0x3c65cd(0x2b1)](this[_0x3c65cd(0x413)]+'\x20('+this['instance'][_0x3c65cd(0x278)]+'):\x20Deletando\x20conversa...'),this[_0x3c65cd(0x2e0)][_0x3c65cd(0x2b1)](this[_0x3c65cd(0x413)]+'\x20('+this[_0x3c65cd(0x635)][_0x3c65cd(0x278)]+_0x3c65cd(0x72f)+_0x595d23),(await this[_0x3c65cd(0x1aa)][_0x3c65cd(0x39c)]['deleteOne']({'where':{'_id':_0x595d23}},this[_0x3c65cd(0x635)][_0x3c65cd(0x278)]))[_0x3c65cd(0x54d)]===0x0?{'message':_0x3c65cd(0x549)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x4ac9f4){throw this[_0x3c65cd(0x2e0)][_0x3c65cd(0x430)](this['instanceName']+'\x20('+this[_0x3c65cd(0x635)][_0x3c65cd(0x278)]+_0x3c65cd(0x71a)+(_0x4ac9f4 instanceof Error?_0x4ac9f4[_0x3c65cd(0x20e)]:JSON[_0x3c65cd(0x291)](_0x4ac9f4,null,0x2))),new m(_0x3c65cd(0x345)+_0x4ac9f4[_0x3c65cd(0x20e)]);}}async['editConversation'](_0x33eec1){const _0xcf0b35=a0_0xe3fdb8;try{let {_id:_0x5550a6,chatLog:_0x5d3992,status:_0x2949c0}=_0x33eec1;if(!_0x5550a6)return{'message':_0xcf0b35(0x25e)};let _0x3ac160={};if(_0x2949c0!==void 0x0&&(_0x3ac160[_0xcf0b35(0x299)]=_0x2949c0),Object['keys'](_0x3ac160)[_0xcf0b35(0x736)]===0x0)return{'message':_0xcf0b35(0x323)};let _0x19da86=await this[_0xcf0b35(0x1aa)][_0xcf0b35(0x39c)]['updateOne'](_0x5550a6,_0x3ac160,this[_0xcf0b35(0x635)][_0xcf0b35(0x278)]);return _0x19da86||{'message':_0xcf0b35(0x4e7)};}catch(_0x314f96){throw this[_0xcf0b35(0x2e0)][_0xcf0b35(0x430)](this[_0xcf0b35(0x413)]+'\x20('+this[_0xcf0b35(0x635)][_0xcf0b35(0x278)]+_0xcf0b35(0x58c)+(_0x314f96 instanceof Error?_0x314f96['message']:JSON[_0xcf0b35(0x291)](_0x314f96,null,0x2))),new m(_0xcf0b35(0x14d)+_0x314f96['message']);}}async[a0_0xe3fdb8(0x589)](_0x14b99a){const _0x2fde56=a0_0xe3fdb8;let _0x4e7b5d=await this['repository']['chat'][_0x2fde56(0x6a9)]({'where':{'_id':_0x14b99a[_0x2fde56(0x1ff)]}},this[_0x2fde56(0x635)][_0x2fde56(0x278)]);if(!_0x4e7b5d)throw new m(_0x2fde56(0x65a));console[_0x2fde56(0x21f)](_0x14b99a);try{_0x14b99a['_id']=this[_0x2fde56(0x27a)](_0x14b99a[_0x2fde56(0x1ff)]);let {_id:_0x11bd22,leadInfo:_0x460f45}=_0x14b99a;if(!_0x11bd22)throw new Error(_0x2fde56(0x46d));let _0x39357c=(_0x1e0ef5,_0x5408b2,_0x45276a)=>{_0x1e0ef5&&_0x45276a['forEach'](_0x1c2fd4=>{_0x1e0ef5[_0x1c2fd4]!==void 0x0&&(_0x5408b2['leadInfo.'+_0x1c2fd4]=_0x1e0ef5[_0x1c2fd4]);});},_0x5bf33e={};if(_0x460f45&&(_0x39357c(_0x460f45,_0x5bf33e,[_0x2fde56(0x71f),_0x2fde56(0x690),_0x2fde56(0x6e1),_0x2fde56(0x3d9),_0x2fde56(0x299),'notas',_0x2fde56(0x58e),_0x2fde56(0x634),_0x2fde56(0x748),_0x2fde56(0x778)]),Array[_0x2fde56(0x1ed)](_0x460f45[_0x2fde56(0x42e)])&&(_0x5bf33e[_0x2fde56(0x378)]=_0x460f45['customFields'][_0x2fde56(0x716)](_0x105c7f=>({'_id':_0x105c7f['_id'],'value':_0x105c7f['value']}))),_0x14b99a[_0x2fde56(0x39e)][_0x2fde56(0x778)]!==void 0x0)){let _0x216a43=await this[_0x2fde56(0x1aa)]['label'][_0x2fde56(0x579)]({'where':{}},this['instance'][_0x2fde56(0x278)]),_0x80bc48=new Set(_0x14b99a[_0x2fde56(0x39e)][_0x2fde56(0x778)]||[]),_0x2ef74c=new Set(_0x14b99a['leadInfo']['etiquetas']),_0x2986e5=new Set(_0x216a43[_0x2fde56(0x716)](_0x49aba7=>_0x49aba7[_0x2fde56(0x1ff)])),_0x135e46=[..._0x2ef74c]['filter'](_0x502c7d=>!_0x80bc48[_0x2fde56(0x64b)](_0x502c7d)&&_0x2986e5['has'](_0x502c7d)),_0x38148a=[..._0x80bc48][_0x2fde56(0x304)](_0x4d4d30=>!_0x2ef74c[_0x2fde56(0x64b)](_0x4d4d30));if(_0x5bf33e[_0x2fde56(0x6b0)]=[..._0x80bc48],_0x4e7b5d&&!_0x4e7b5d[_0x2fde56(0x171)]){for(let _0x4b3b08 of _0x135e46)await this[_0x2fde56(0x2e3)](_0x4b3b08,_0x14b99a[_0x2fde56(0x1ff)]),_0x80bc48['add'](_0x4b3b08);for(let _0x42a760 of _0x38148a)await this[_0x2fde56(0x476)](_0x42a760,_0x14b99a[_0x2fde56(0x1ff)]),_0x80bc48[_0x2fde56(0x75e)](_0x42a760);}}if(_0x14b99a[_0x2fde56(0x64f)]!==void 0x0&&(_0x5bf33e[_0x2fde56(0x64f)]=Number(_0x14b99a[_0x2fde56(0x64f)])),Object[_0x2fde56(0x205)](_0x5bf33e)['length']===0x0)throw new Error(_0x2fde56(0x323));let _0x342ffd=await this['repository']['chat'][_0x2fde56(0x6f4)]({'where':{'_id':_0x14b99a[_0x2fde56(0x1ff)]}},_0x5bf33e,this[_0x2fde56(0x635)][_0x2fde56(0x278)]);return _0x342ffd&&J(this[_0x2fde56(0x413)],'chats',{'chat':_0x342ffd}),_0x342ffd?(this[_0x2fde56(0x2e0)][_0x2fde56(0x2b1)](this[_0x2fde56(0x413)]+'\x20('+this[_0x2fde56(0x635)][_0x2fde56(0x278)]+'):\x20'+JSON[_0x2fde56(0x291)](_0x342ffd,null,0x2)),_0x342ffd):{'message':_0x2fde56(0x557)};}catch(_0x4cad30){throw this[_0x2fde56(0x2e0)][_0x2fde56(0x430)](this[_0x2fde56(0x413)]+'\x20('+this[_0x2fde56(0x635)][_0x2fde56(0x278)]+_0x2fde56(0x23c)+(_0x4cad30 instanceof Error?_0x4cad30[_0x2fde56(0x20e)]:JSON['stringify'](_0x4cad30,null,0x2))),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x4cad30[_0x2fde56(0x20e)]);}}async[a0_0xe3fdb8(0x2e3)](_0x30af46,_0x5a693d){const _0x1019f9=a0_0xe3fdb8;try{await this[_0x1019f9(0x5b2)][_0x1019f9(0x43a)](_0x5a693d,_0x30af46),console[_0x1019f9(0x21f)](_0x1019f9(0x5d9)+_0x30af46+'\x20adicionado\x20ao\x20chat\x20'+_0x5a693d+'\x20com\x20sucesso.');}catch(_0x39ef6d){console[_0x1019f9(0x430)](_0x1019f9(0x6fa)+_0x30af46+_0x1019f9(0x141)+_0x5a693d+':',_0x39ef6d);}}async[a0_0xe3fdb8(0x476)](_0x4c615c,_0x5c4aad){const _0x329054=a0_0xe3fdb8;try{await this[_0x329054(0x5b2)][_0x329054(0x701)](_0x5c4aad,_0x4c615c),console[_0x329054(0x21f)](_0x329054(0x5d9)+_0x4c615c+_0x329054(0x17c)+_0x5c4aad+_0x329054(0x16a));}catch(_0x3e6448){console[_0x329054(0x430)](_0x329054(0x539)+_0x4c615c+_0x329054(0x465)+_0x5c4aad+':',_0x3e6448);}}async[a0_0xe3fdb8(0x6f7)](_0x1fcaab){const _0x35f1a2=a0_0xe3fdb8;try{let _0x5d14f1=await this['repository']['automateSystem']['findOrCreate'](this[_0x35f1a2(0x635)][_0x35f1a2(0x278)]),_0x4dee66=_0x1fcaab['_id']?_0x5d14f1['agents']['findIndex'](_0x19337a=>_0x19337a['_id']===_0x1fcaab[_0x35f1a2(0x1ff)]):-0x1;if(_0x1fcaab[_0x35f1a2(0x75e)]&&_0x4dee66>-0x1)_0x5d14f1['agents'][_0x35f1a2(0x39a)](_0x4dee66,0x1);else{if(_0x4dee66>-0x1){let _0x211dca=_0x5d14f1[_0x35f1a2(0x1df)][_0x4dee66];_0x1fcaab[_0x35f1a2(0x259)]&&(_0x211dca['fone']=_0x1fcaab[_0x35f1a2(0x259)]),_0x1fcaab[_0x35f1a2(0x62f)]&&(_0x211dca[_0x35f1a2(0x62f)]=_0x1fcaab[_0x35f1a2(0x62f)]),_0x1fcaab['email']&&(_0x211dca['email']=_0x1fcaab[_0x35f1a2(0x6e1)]),_0x1fcaab[_0x35f1a2(0x21d)]&&(_0x211dca['role']=_0x1fcaab['role']);}else _0x5d14f1[_0x35f1a2(0x1df)][_0x35f1a2(0x4fd)]({'_id':_0x1fcaab[_0x35f1a2(0x1ff)]||new ie[(_0x35f1a2(0x3bb))][(_0x35f1a2(0x6c0))][(_0x35f1a2(0x6d7))]()[_0x35f1a2(0x4ff)](),'fone':_0x1fcaab[_0x35f1a2(0x259)],'name':_0x1fcaab[_0x35f1a2(0x62f)],'email':_0x1fcaab[_0x35f1a2(0x6e1)],'role':_0x1fcaab[_0x35f1a2(0x21d)]});}let _0x3a67f4={'agents':_0x5d14f1['agents']},_0x5f3519=await this[_0x35f1a2(0x1aa)]['automateSystem']['update'](_0x3a67f4,this[_0x35f1a2(0x635)][_0x35f1a2(0x278)]);return this[_0x35f1a2(0x1c2)]=_0x5f3519,this['logger']['verbose'](this[_0x35f1a2(0x413)]+'\x20('+this[_0x35f1a2(0x635)][_0x35f1a2(0x278)]+_0x35f1a2(0x749)),this[_0x35f1a2(0x2e0)]['verbose'](this[_0x35f1a2(0x413)]+'\x20('+this[_0x35f1a2(0x635)][_0x35f1a2(0x278)]+_0x35f1a2(0x668)+this[_0x35f1a2(0x1c2)]),_0x5f3519;}catch(_0x3d754f){throw this['logger'][_0x35f1a2(0x430)](this['instanceName']+'\x20('+this[_0x35f1a2(0x635)][_0x35f1a2(0x278)]+_0x35f1a2(0x329)+(_0x3d754f instanceof Error?_0x3d754f[_0x35f1a2(0x20e)]:JSON[_0x35f1a2(0x291)](_0x3d754f,null,0x2))),new m(_0x35f1a2(0x657)+_0x3d754f[_0x35f1a2(0x20e)]);}}async[a0_0xe3fdb8(0x47f)](_0x36884d){const _0x2bb390=a0_0xe3fdb8;try{let _0xbbba09=await this['repository']['automateSystem']['findOrCreate'](this['instance'][_0x2bb390(0x278)]),_0x425f05=_0x36884d[_0x2bb390(0x1ff)]?_0xbbba09[_0x2bb390(0x42e)]['findIndex'](_0x4f09cb=>_0x4f09cb[_0x2bb390(0x1ff)]===_0x36884d[_0x2bb390(0x1ff)]):-0x1,_0x5c803e=!0x1,_0x5cf11a=_0xbbba09[_0x2bb390(0x42e)][_0x2bb390(0x602)](_0x187cbf=>_0x187cbf[_0x2bb390(0x186)]===_0x36884d[_0x2bb390(0x186)]);if(_0x36884d[_0x2bb390(0x75e)]&&_0x425f05>-0x1)_0xbbba09[_0x2bb390(0x42e)]['splice'](_0x425f05,0x1),_0x5c803e=!0x0;else{if(_0x425f05>-0x1){if(_0xbbba09['customFields'][_0x2bb390(0x602)](_0x21221e=>_0x21221e[_0x2bb390(0x62f)]===_0x36884d[_0x2bb390(0x62f)]&&_0x21221e[_0x2bb390(0x1ff)]!==_0x36884d[_0x2bb390(0x1ff)]))throw new Error(_0x2bb390(0x4fc));let _0x9bad5a=_0xbbba09['customFields'][_0x425f05];_0x36884d[_0x2bb390(0x186)]&&(_0x5cf11a||!Number[_0x2bb390(0x25b)](_0x36884d[_0x2bb390(0x186)]))&&(_0x9bad5a[_0x2bb390(0x186)]=_0x36884d[_0x2bb390(0x186)],_0x5c803e=!0x0),_0x36884d[_0x2bb390(0x62f)]&&(_0x9bad5a['name']=_0x36884d[_0x2bb390(0x62f)]);}else{if(_0xbbba09[_0x2bb390(0x42e)][_0x2bb390(0x602)](_0x458ffb=>_0x458ffb[_0x2bb390(0x62f)]===_0x36884d['name']&&_0x458ffb[_0x2bb390(0x1ff)]!==_0x36884d[_0x2bb390(0x1ff)]))throw new Error(_0x2bb390(0x4fc));_0xbbba09['customFields'][_0x2bb390(0x4fd)]({'_id':_0x36884d[_0x2bb390(0x1ff)]||new ie[(_0x2bb390(0x3bb))]['Types'][(_0x2bb390(0x6d7))]()[_0x2bb390(0x4ff)](),'order':_0x36884d['order'],'name':_0x36884d[_0x2bb390(0x62f)]}),_0x5c803e=!0x0;}}if(_0x5c803e){_0xbbba09[_0x2bb390(0x42e)][_0x2bb390(0x770)]((_0x1acb2a,_0x369f8c)=>_0x1acb2a[_0x2bb390(0x186)]>_0x369f8c[_0x2bb390(0x186)]?0x1:_0x369f8c[_0x2bb390(0x186)]>_0x1acb2a[_0x2bb390(0x186)]?-0x1:0x0);for(let _0x31d338=0x0;_0x31d338<_0xbbba09['customFields'][_0x2bb390(0x736)];_0x31d338++)_0xbbba09[_0x2bb390(0x42e)][_0x31d338]['order']=_0x31d338+0x1;}let _0x1f9ce5=await this['repository']['automateSystem'][_0x2bb390(0x3e6)](_0xbbba09,this[_0x2bb390(0x635)][_0x2bb390(0x278)]);return this[_0x2bb390(0x1c2)]=_0x1f9ce5,this[_0x2bb390(0x2e0)][_0x2bb390(0x2b1)](this[_0x2bb390(0x413)]+'\x20('+this[_0x2bb390(0x635)]['wuid']+_0x2bb390(0x3cb)),this['logger'][_0x2bb390(0x2b1)](this['instanceName']+'\x20('+this[_0x2bb390(0x635)]['wuid']+_0x2bb390(0x668)+this[_0x2bb390(0x1c2)]),_0x1f9ce5;}catch(_0x280175){throw this[_0x2bb390(0x2e0)][_0x2bb390(0x430)](this['instanceName']+'\x20('+this['instance'][_0x2bb390(0x278)]+_0x2bb390(0x44e)+(_0x280175 instanceof Error?_0x280175[_0x2bb390(0x20e)]:JSON[_0x2bb390(0x291)](_0x280175,null,0x2))),new m(_0x2bb390(0x4f0)+_0x280175[_0x2bb390(0x20e)]);}}async[a0_0xe3fdb8(0x755)](_0x33336b){const _0x3d8789=a0_0xe3fdb8;try{let _0x56f1c5=await this[_0x3d8789(0x1aa)][_0x3d8789(0x585)][_0x3d8789(0x5f7)](this[_0x3d8789(0x635)][_0x3d8789(0x278)]);if(!_0x56f1c5)throw new Error(_0x3d8789(0x728));let _0x4a0b7a={'_id':_0x56f1c5[_0x3d8789(0x1ff)],'flowConfig':{'enabled':_0x33336b['enabled']??_0x56f1c5[_0x3d8789(0x244)]['enabled'],'ignoreGroups':_0x33336b['ignoreGroups']??_0x56f1c5[_0x3d8789(0x244)][_0x3d8789(0x19e)],'prefixCommand':_0x33336b[_0x3d8789(0x346)]??_0x56f1c5[_0x3d8789(0x244)][_0x3d8789(0x346)],'stopConversation':_0x33336b[_0x3d8789(0x594)]??_0x56f1c5['flowConfig'][_0x3d8789(0x594)],'stopMinutes':_0x33336b['stopMinutes']??_0x56f1c5[_0x3d8789(0x244)][_0x3d8789(0x4be)],'stopWhenYouSendMsg':_0x33336b[_0x3d8789(0x6b8)]??_0x56f1c5[_0x3d8789(0x244)]['stopWhenYouSendMsg']}},_0x248e5d=await this[_0x3d8789(0x1aa)][_0x3d8789(0x585)][_0x3d8789(0x3e6)](_0x4a0b7a,this[_0x3d8789(0x635)][_0x3d8789(0x278)]);return this[_0x3d8789(0x1c2)]=_0x248e5d,this[_0x3d8789(0x2e0)][_0x3d8789(0x2b1)](this[_0x3d8789(0x413)]+'\x20('+this[_0x3d8789(0x635)][_0x3d8789(0x278)]+_0x3d8789(0x749)),this[_0x3d8789(0x2e0)][_0x3d8789(0x2b1)](this[_0x3d8789(0x413)]+'\x20('+this[_0x3d8789(0x635)]['wuid']+_0x3d8789(0x668)+this[_0x3d8789(0x1c2)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x248e5d;}catch(_0x1babb0){throw this[_0x3d8789(0x2e0)]['error'](this['instanceName']+'\x20('+this[_0x3d8789(0x635)]['wuid']+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x1babb0 instanceof Error?_0x1babb0[_0x3d8789(0x20e)]:JSON[_0x3d8789(0x291)](_0x1babb0,null,0x2))),new m(_0x3d8789(0x160)+_0x1babb0[_0x3d8789(0x20e)]);}}async[a0_0xe3fdb8(0x452)](){const _0x20133f=a0_0xe3fdb8;try{let _0x1e9365=await this['repository'][_0x20133f(0x585)][_0x20133f(0x5f7)](this['instance'][_0x20133f(0x278)]);return this[_0x20133f(0x1c2)]=_0x1e9365,this['logger'][_0x20133f(0x2b1)](this[_0x20133f(0x413)]+'\x20('+this['instance'][_0x20133f(0x278)]+_0x20133f(0x19c)),this[_0x20133f(0x2e0)][_0x20133f(0x2b1)](this[_0x20133f(0x1c2)]),_0x1e9365;}catch(_0x1c9b1f){throw this[_0x20133f(0x2e0)]['error'](this[_0x20133f(0x413)]+'\x20('+this[_0x20133f(0x635)]['wuid']+_0x20133f(0x4d9)+(_0x1c9b1f instanceof Error?_0x1c9b1f[_0x20133f(0x20e)]:JSON[_0x20133f(0x291)](_0x1c9b1f,null,0x2))),new m(_0x20133f(0x77a)+_0x1c9b1f['message']);}}async[a0_0xe3fdb8(0x4ce)](){const _0x171523=a0_0xe3fdb8;this[_0x171523(0x4ac)]&&clearTimeout(this[_0x171523(0x4ac)]),this[_0x171523(0x4ac)]=setTimeout(()=>{const _0x34acda=_0x171523;this[_0x34acda(0x2b6)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x9b9d54=a0_0xe3fdb8;Date[_0x9b9d54(0x1d1)]()-this[_0x9b9d54(0x654)]>=0x1d4c0&&(this[_0x9b9d54(0x2e0)][_0x9b9d54(0x2b1)](this[_0x9b9d54(0x413)]+'\x20('+this[_0x9b9d54(0x635)][_0x9b9d54(0x278)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x9b9d54(0x6e0)]=null,this['lastSend']=0x0,this[_0x9b9d54(0x210)]=0x0,await this[_0x9b9d54(0x1d9)]());}async[a0_0xe3fdb8(0x1d9)](){const _0x30077b=a0_0xe3fdb8;let _0x27263f=()=>{const _0x1fb884=a0_0x3ea8;this['logger']['verbose'](this[_0x1fb884(0x413)]+'\x20('+this[_0x1fb884(0x635)]['wuid']+_0x1fb884(0x3a1)+this['processingScheduleMessageId']+_0x1fb884(0x55b));},_0x293e23=async()=>{const _0x18a427=a0_0x3ea8;this['logger'][_0x18a427(0x2b1)](this['instanceName']+'\x20('+this[_0x18a427(0x635)]['wuid']+_0x18a427(0x76f));let _0x47870d=Date[_0x18a427(0x1d1)]()-0xc*0x3c*0x3c*0x3e8,_0x1edd5f={'where':{'status':{'$in':[_0x18a427(0x67d),_0x18a427(0x3b3)]},'$or':[{'when':{'$lte':Date[_0x18a427(0x1d1)](),'$gte':_0x47870d}},{'when':0x0}]}};return await this[_0x18a427(0x1aa)][_0x18a427(0x4ca)]['find'](_0x1edd5f,this['instance'][_0x18a427(0x278)]);},_0x17d816=async _0x83baa2=>{const _0xfc924e=a0_0x3ea8;for(let _0x47d51a of _0x83baa2){let _0x2a5278={'_id':_0x47d51a[_0xfc924e(0x1ff)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0xfc924e(0x1d1)]()-0x1770}}]},_0x28f2f7={'startSend':Date[_0xfc924e(0x1d1)]()};if(!await this['repository'][_0xfc924e(0x4ca)]['updateOne'](_0x2a5278,_0x28f2f7,this[_0xfc924e(0x635)][_0xfc924e(0x278)]))return;if(!this[_0xfc924e(0x5fb)]){this[_0xfc924e(0x2e0)]['verbose'](this[_0xfc924e(0x413)]+'\x20('+this[_0xfc924e(0x635)][_0xfc924e(0x278)]+_0xfc924e(0x355));break;}if(_0x47d51a[_0xfc924e(0x715)]==='flow'&&!this['AutomateSystem']?.[_0xfc924e(0x244)][_0xfc924e(0x3e1)]){this[_0xfc924e(0x2e0)]['error'](this[_0xfc924e(0x413)]+'\x20('+this[_0xfc924e(0x635)][_0xfc924e(0x278)]+_0xfc924e(0x78d));continue;}(!_0x47d51a[_0xfc924e(0x65f)]||_0x47d51a[_0xfc924e(0x65f)][_0xfc924e(0x736)]===0x0)&&(_0x47d51a=await this['repository']['scheduleMessage'][_0xfc924e(0x544)](_0x47d51a[_0xfc924e(0x1ff)],{'status':_0xfc924e(0x3b3),'remoteJidsRemaining':[..._0x47d51a[_0xfc924e(0x2a8)]]},this[_0xfc924e(0x635)][_0xfc924e(0x278)]));for(let _0xddd423 of _0x47d51a[_0xfc924e(0x65f)]){if(await this['setRestartTimer'](),this[_0xfc924e(0x654)]=Date['now'](),_0x47d51a[_0xfc924e(0x57e)]['some'](_0x3dd5ca=>_0x3dd5ca[_0xfc924e(0x27d)]===_0xddd423)){this[_0xfc924e(0x2e0)]['verbose'](this[_0xfc924e(0x413)]+'\x20('+this[_0xfc924e(0x635)][_0xfc924e(0x278)]+_0xfc924e(0x3c6)+_0xddd423+'.\x20Pulando.');continue;}if(!this[_0xfc924e(0x5fb)]){this[_0xfc924e(0x2e0)][_0xfc924e(0x2b1)](this[_0xfc924e(0x413)]+'\x20('+this[_0xfc924e(0x635)][_0xfc924e(0x278)]+_0xfc924e(0x2c6));break;}if(!this['processingScheduleMessageId']){this[_0xfc924e(0x2e0)][_0xfc924e(0x2b1)](this[_0xfc924e(0x413)]+'\x20('+this[_0xfc924e(0x635)][_0xfc924e(0x278)]+_0xfc924e(0x2d7)+_0x47d51a[_0xfc924e(0x1ff)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x47d51a[_0xfc924e(0x715)]===_0xfc924e(0x4e6)&&!this[_0xfc924e(0x1c2)]?.['flowConfig'][_0xfc924e(0x3e1)]){this[_0xfc924e(0x2e0)]['error'](this['instanceName']+'\x20('+this[_0xfc924e(0x635)]['wuid']+_0xfc924e(0x78d));break;}let _0x12ba87={'remoteJid':_0xddd423,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0xfc924e(0x1d1)]()},_0x2b8257=null;try{let _0x1dfe2c=await this[_0xfc924e(0x2f8)](_0xddd423,_0x47d51a);_0x12ba87[_0xfc924e(0x430)]=_0x1dfe2c[_0xfc924e(0x430)],_0x12ba87['id']=_0x1dfe2c[_0xfc924e(0x430)]?null:_0x1dfe2c['id'],_0x12ba87[_0xfc924e(0x576)]=_0x1dfe2c[_0xfc924e(0x430)]?_0x1dfe2c[_0xfc924e(0x283)]?_0x1dfe2c[_0xfc924e(0x283)][_0xfc924e(0x4ff)]():'':null;let _0x3db01d={'$push':{'messagesSend':_0x12ba87},'$pull':{'remoteJidsRemaining':_0xddd423}},_0x1f67dc=_0x47d51a['_id'];if(_0x2b8257=await this[_0xfc924e(0x1aa)][_0xfc924e(0x4ca)][_0xfc924e(0x544)](_0x1f67dc,_0x3db01d,this[_0xfc924e(0x635)]['wuid']),_0x1dfe2c[_0xfc924e(0x430)])continue;let _0x16666f=this[_0xfc924e(0x269)](_0x47d51a[_0xfc924e(0x22c)],_0x47d51a['delaySecMax']);await this['sleep'](_0x16666f);}catch(_0x4efda2){this[_0xfc924e(0x2e0)][_0xfc924e(0x430)](this[_0xfc924e(0x413)]+'\x20('+this['instance'][_0xfc924e(0x278)]+_0xfc924e(0x3d7)+_0xddd423+':\x20'+(_0x4efda2 instanceof Error?_0x4efda2[_0xfc924e(0x20e)]:JSON[_0xfc924e(0x291)](_0x4efda2,null,0x2))),_0x12ba87[_0xfc924e(0x430)]=!0x0,_0x12ba87['error_log']=_0x4efda2[_0xfc924e(0x20e)];let _0x4e523c={'$push':{'messagesSend':_0x12ba87},'$pull':{'remoteJidsRemaining':_0xddd423}},_0x58c4f6=_0x47d51a['_id'];_0x2b8257=await this[_0xfc924e(0x1aa)][_0xfc924e(0x4ca)]['updateOneById'](_0x58c4f6,_0x4e523c,this[_0xfc924e(0x635)]['wuid']);}finally{if(_0x2b8257&&_0x2b8257[_0xfc924e(0x299)]===_0xfc924e(0x614)){this[_0xfc924e(0x2e0)][_0xfc924e(0x2b1)](this[_0xfc924e(0x413)]+'\x20('+this[_0xfc924e(0x635)][_0xfc924e(0x278)]+_0xfc924e(0x2d7)+_0x47d51a[_0xfc924e(0x1ff)]+_0xfc924e(0x3a2));break;}}}let _0x51adc9=await this[_0xfc924e(0x1aa)][_0xfc924e(0x4ca)][_0xfc924e(0x704)](_0x47d51a[_0xfc924e(0x1ff)],this[_0xfc924e(0x635)]['wuid']);if(_0x51adc9[_0xfc924e(0x65f)][_0xfc924e(0x736)]===0x0&&_0x51adc9[_0xfc924e(0x299)]!==_0xfc924e(0x614)){let _0x2a6715={'$set':{'status':_0xfc924e(0x33f)}},_0x3c4064=_0x51adc9['_id'];await this['repository'][_0xfc924e(0x4ca)]['updateOneById'](_0x3c4064,_0x2a6715,this[_0xfc924e(0x635)]['wuid']);}await new Promise(_0x455a2f=>setTimeout(_0x455a2f,0x1388));}},_0x2d49e3=async()=>{const _0x51f283=a0_0x3ea8;let _0x13579b={'where':{'status':'scheduled','when':{'$gt':Date[_0x51f283(0x1d1)]()}}},_0x3dac3e=await this[_0x51f283(0x1aa)]['scheduleMessage'][_0x51f283(0x6a9)](_0x13579b,this['instance'][_0x51f283(0x278)]);_0x3dac3e&&_0x3dac3e[_0x51f283(0x687)]-Date[_0x51f283(0x1d1)]()<=0x5265c00?this['delayMessage']=_0x3dac3e['when']-Date[_0x51f283(0x1d1)]():this[_0x51f283(0x210)]=(0x3c+Math[_0x51f283(0x59c)](Math[_0x51f283(0x781)]()*0x3c))*0x3c*0x3e8,this[_0x51f283(0x210)]=Math[_0x51f283(0x488)](this['delayMessage'],0x7d0);let _0x2abf1e=Math[_0x51f283(0x2d5)](this[_0x51f283(0x210)]/0xea60);if(_0x3dac3e){let _0x327c8e=new Date(_0x3dac3e['when'])['toLocaleString']();this[_0x51f283(0x2e0)]['verbose'](this[_0x51f283(0x413)]+'\x20('+this[_0x51f283(0x635)][_0x51f283(0x278)]+_0x51f283(0x338)+_0x327c8e+_0x51f283(0x387)+_0x2abf1e+_0x51f283(0x2d6));}else this[_0x51f283(0x2e0)][_0x51f283(0x2b1)](this[_0x51f283(0x413)]+'\x20('+this[_0x51f283(0x635)][_0x51f283(0x278)]+_0x51f283(0x131)+_0x2abf1e+_0x51f283(0x2d6));setTimeout(()=>this[_0x51f283(0x1d9)](),this[_0x51f283(0x210)]);};if(this['processingScheduleMessageId']){await this[_0x30077b(0x4ce)](),_0x27263f();return;}if(!this[_0x30077b(0x5fb)]){this[_0x30077b(0x2e0)][_0x30077b(0x2b1)](this[_0x30077b(0x413)]+'\x20('+this[_0x30077b(0x635)][_0x30077b(0x278)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this['processingScheduleMessageId']=null,this[_0x30077b(0x654)]=0x0,this[_0x30077b(0x210)]=0x0;return;}try{let _0x524b72=await _0x293e23();_0x524b72['length']===0x0?this[_0x30077b(0x2e0)][_0x30077b(0x2b1)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x30077b(0x6fb)):(this[_0x30077b(0x6e0)]=_0x524b72[0x0]['_id'],await _0x17d816(_0x524b72)),await _0x2d49e3(),this['processingScheduleMessageId']=null;}catch(_0x28697d){this[_0x30077b(0x2e0)]['error']('Error\x20in\x20scheduleNextCheck:\x20'+(_0x28697d instanceof Error?_0x28697d[_0x30077b(0x20e)]:JSON[_0x30077b(0x291)](_0x28697d,null,0x2)));}}['getDelay'](_0x5dda5c,_0x148827){const _0x3ed930=a0_0xe3fdb8;return _0x5dda5c=Math[_0x3ed930(0x488)](0.5,_0x5dda5c),_0x148827=Math[_0x3ed930(0x700)](Math['max'](0x3,_0x148827),0x78),Math[_0x3ed930(0x59c)](Math[_0x3ed930(0x781)]()*(_0x148827-_0x5dda5c+0x1)+_0x5dda5c)*0x3e8;}[a0_0xe3fdb8(0x4e5)](_0x232afb){return new Promise(_0x50758d=>setTimeout(_0x50758d,_0x232afb));}async[a0_0xe3fdb8(0x3ef)](_0x2f6712){const _0x5479c5=a0_0xe3fdb8;if(!this[_0x5479c5(0x1c2)]&&(await this[_0x5479c5(0x452)](),!this['AutomateSystem']))return null;_0x2f6712=this[_0x5479c5(0x27a)](_0x2f6712);let _0x43a7e5=await this[_0x5479c5(0x1aa)]['chat'][_0x5479c5(0x6a9)]({'where':{'_id':_0x2f6712}},this[_0x5479c5(0x635)]['wuid']),_0x450be3={};if(_0x43a7e5&&_0x43a7e5[_0x5479c5(0x39e)]){let _0x3a5bff=_0x43a7e5['leadInfo'];typeof _0x3a5bff[_0x5479c5(0x71f)]==_0x5479c5(0x467)&&(_0x450be3[_0x5479c5(0x71f)]=_0x3a5bff['nome']),typeof _0x3a5bff[_0x5479c5(0x690)]==_0x5479c5(0x467)&&(_0x450be3[_0x5479c5(0x690)]=_0x3a5bff[_0x5479c5(0x690)]),typeof _0x3a5bff[_0x5479c5(0x6e1)]==_0x5479c5(0x467)&&(_0x450be3['email']=_0x3a5bff[_0x5479c5(0x6e1)]),typeof _0x3a5bff[_0x5479c5(0x3d9)]=='string'&&(_0x450be3['cpf']=_0x3a5bff[_0x5479c5(0x3d9)]),typeof _0x3a5bff[_0x5479c5(0x299)]==_0x5479c5(0x467)&&(_0x450be3[_0x5479c5(0x299)]=_0x3a5bff[_0x5479c5(0x299)]),typeof _0x3a5bff[_0x5479c5(0x1a4)]=='string'&&(_0x450be3['notas']=_0x3a5bff['notas']),typeof _0x3a5bff[_0x5479c5(0x748)]==_0x5479c5(0x467)&&(_0x450be3['responsavelid']=_0x3a5bff[_0x5479c5(0x748)]),Array[_0x5479c5(0x1ed)](_0x3a5bff[_0x5479c5(0x58e)])&&(_0x450be3['tags']=_0x3a5bff[_0x5479c5(0x58e)][_0x5479c5(0x483)](',\x20')),Array[_0x5479c5(0x1ed)](_0x3a5bff[_0x5479c5(0x778)])&&(_0x450be3[_0x5479c5(0x778)]=_0x3a5bff[_0x5479c5(0x778)][_0x5479c5(0x483)](',\x20'));}return _0x43a7e5&&_0x43a7e5['leadInfo']&&_0x43a7e5[_0x5479c5(0x39e)][_0x5479c5(0x42e)]&&_0x43a7e5[_0x5479c5(0x39e)][_0x5479c5(0x42e)][_0x5479c5(0x261)](_0x1a7d43=>{const _0x28286a=_0x5479c5;let _0x286015=this[_0x28286a(0x1c2)]?.[_0x28286a(0x42e)]['find'](_0x3d0b95=>_0x3d0b95[_0x28286a(0x1ff)]===_0x1a7d43[_0x28286a(0x1ff)]);_0x286015&&(_0x450be3[_0x286015[_0x28286a(0x62f)]]=_0x1a7d43[_0x28286a(0x168)]);}),_0x450be3;}async[a0_0xe3fdb8(0x752)](_0x34af4f,_0xfaba54){const _0x2c573e=a0_0xe3fdb8;let _0x4aabc1=await this[_0x2c573e(0x3ef)](_0xfaba54);return this['replaceVariables'](_0x34af4f,_0x4aabc1);}async[a0_0xe3fdb8(0x72d)](_0x96487c){const _0x367347=a0_0xe3fdb8;try{if(this[_0x367347(0x2e0)][_0x367347(0x2b1)](this[_0x367347(0x413)]+'\x20('+this[_0x367347(0x635)][_0x367347(0x278)]+_0x367347(0x6c7)),_0x96487c[_0x367347(0x75e)]&&_0x96487c['_id']){if(this['processingScheduleMessageId']===_0x96487c[_0x367347(0x1ff)][_0x367347(0x4ff)]())throw new Error(_0x367347(0x4db));let _0x2767f5=await this[_0x367347(0x1aa)]['scheduleMessage'][_0x367347(0x2ef)](_0x96487c[_0x367347(0x1ff)],this[_0x367347(0x635)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2767f5;}let _0x5bb1e6;if(_0x96487c[_0x367347(0x1ff)]&&(_0x5bb1e6=await this[_0x367347(0x1aa)]['scheduleMessage'][_0x367347(0x704)](_0x96487c[_0x367347(0x1ff)],this['instance']['wuid'])),_0x5bb1e6){let _0x41b07b;if(this[_0x367347(0x6e0)]===_0x5bb1e6['_id']['toString']())_0x41b07b={'$set':{'status':_0x96487c[_0x367347(0x299)]}};else{let {_id:_0x13797d,..._0x53b753}=_0x96487c;_0x41b07b={'$set':_0x53b753};}let _0x436f9a=await this[_0x367347(0x1aa)][_0x367347(0x4ca)][_0x367347(0x544)](_0x96487c[_0x367347(0x1ff)],_0x41b07b,this['instance'][_0x367347(0x278)]);return setTimeout(()=>this[_0x367347(0x1d9)](),0x7d0),_0x436f9a;}else{_0x96487c[_0x367347(0x3ae)]=this[_0x367347(0x635)]['wuid'];let _0x4ab245=await this['repository'][_0x367347(0x4ca)][_0x367347(0x645)](_0x96487c,this['instance'][_0x367347(0x278)]);return setTimeout(()=>this[_0x367347(0x1d9)](),0x7d0),_0x4ab245;}}catch(_0xead2c3){throw this[_0x367347(0x2e0)]['error'](this[_0x367347(0x413)]+'\x20('+this[_0x367347(0x635)]['wuid']+_0x367347(0x25d)+(_0xead2c3 instanceof Error?_0xead2c3[_0x367347(0x20e)]:JSON['stringify'](_0xead2c3,null,0x2))),new m('Erro:'+_0xead2c3[_0x367347(0x20e)]);}}async[a0_0xe3fdb8(0x2e9)](){const _0x530252=a0_0xe3fdb8;try{return await this[_0x530252(0x1aa)]['scheduleMessage'][_0x530252(0x579)]({'where':{}},this[_0x530252(0x635)][_0x530252(0x278)]);}catch(_0x26fea5){throw this[_0x530252(0x2e0)][_0x530252(0x430)](this[_0x530252(0x413)]+'\x20('+this[_0x530252(0x635)][_0x530252(0x278)]+_0x530252(0x5c1)+(_0x26fea5 instanceof Error?_0x26fea5[_0x530252(0x20e)]:JSON[_0x530252(0x291)](_0x26fea5,null,0x2))),new m(_0x530252(0x2b8)+_0x26fea5[_0x530252(0x20e)]);}}async[a0_0xe3fdb8(0x489)](){const _0x4a4b81=a0_0xe3fdb8;try{let _0x15dcc1={'status':_0x4a4b81(0x33f)},_0x1fecc3=await this[_0x4a4b81(0x1aa)][_0x4a4b81(0x4ca)][_0x4a4b81(0x1da)](_0x15dcc1,this[_0x4a4b81(0x635)]['wuid']);if(!_0x1fecc3['error'])this['logger'][_0x4a4b81(0x2b1)](this['instanceName']+'\x20('+this[_0x4a4b81(0x635)][_0x4a4b81(0x278)]+_0x4a4b81(0x16d));else throw new Error(_0x1fecc3[_0x4a4b81(0x430)]['message']||_0x4a4b81(0x421));return this[_0x4a4b81(0x2e9)]();}catch(_0x1980a5){throw this[_0x4a4b81(0x2e0)][_0x4a4b81(0x430)](this[_0x4a4b81(0x413)]+'\x20('+this[_0x4a4b81(0x635)]['wuid']+_0x4a4b81(0x1ef)+(_0x1980a5 instanceof Error?_0x1980a5[_0x4a4b81(0x20e)]:JSON[_0x4a4b81(0x291)](_0x1980a5,null,0x2))),new m(_0x4a4b81(0x2b8)+_0x1980a5[_0x4a4b81(0x20e)]);}}async[a0_0xe3fdb8(0x2f8)](_0x517a86,_0x40194d){const _0x5d40ed=a0_0xe3fdb8;try{if(_0x40194d[_0x5d40ed(0x715)]===_0x5d40ed(0x4e6)&&!this[_0x5d40ed(0x1c2)]?.[_0x5d40ed(0x244)][_0x5d40ed(0x3e1)])return this['logger']['error'](this['instanceName']+'\x20('+this[_0x5d40ed(0x635)]['wuid']+_0x5d40ed(0x29a)),{'error':!0x0,'detail':_0x5d40ed(0x6df)};switch(_0x40194d['type']){case _0x5d40ed(0x3d6):return await this[_0x5d40ed(0x756)](_0x40194d,_0x517a86);case _0x5d40ed(0x3cf):return await this[_0x5d40ed(0x553)](_0x40194d,_0x517a86);case _0x5d40ed(0x1b5):return await this[_0x5d40ed(0x6ee)](_0x40194d,_0x517a86);case _0x5d40ed(0x4e6):let _0x34b690=new _e();return _0x34b690[_0x5d40ed(0x62f)]=_0x40194d[_0x5d40ed(0x4a3)],_0x34b690[_0x5d40ed(0x27d)]=_0x517a86,await this[_0x5d40ed(0x257)](_0x34b690);break;default:return this[_0x5d40ed(0x2e0)][_0x5d40ed(0x430)](this[_0x5d40ed(0x413)]+'\x20('+this[_0x5d40ed(0x635)][_0x5d40ed(0x278)]+_0x5d40ed(0x4ad)+_0x40194d[_0x5d40ed(0x715)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x504562){return this[_0x5d40ed(0x2e0)][_0x5d40ed(0x430)](this[_0x5d40ed(0x413)]+'\x20('+this['instance'][_0x5d40ed(0x278)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x504562 instanceof Error?_0x504562['message']:JSON[_0x5d40ed(0x291)](_0x504562,null,0x2))),{'error':!0x0,'detail':_0x504562[_0x5d40ed(0x20e)]};}}['getRandomText'](_0x5393af){const _0x49dc3c=a0_0xe3fdb8;let _0x1c0da8=_0x5393af['split']('|'),_0x190903=Math[_0x49dc3c(0x59c)](Math[_0x49dc3c(0x781)]()*_0x1c0da8[_0x49dc3c(0x736)]);return _0x1c0da8[_0x190903][_0x49dc3c(0x293)]();}async[a0_0xe3fdb8(0x756)](_0x3fb4ef,_0x54bb30){const _0x9be904=a0_0xe3fdb8;if(this[_0x9be904(0x2e0)]['verbose'](this[_0x9be904(0x413)]+'\x20('+this[_0x9be904(0x635)]['wuid']+_0x9be904(0x694)),!_0x3fb4ef[_0x9be904(0x20e)][_0x9be904(0x3d6)]||_0x3fb4ef[_0x9be904(0x20e)]['text'][_0x9be904(0x736)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x3be941=this[_0x9be904(0x148)](_0x3fb4ef[_0x9be904(0x20e)][_0x9be904(0x3d6)]),_0x44b8c0=await this[_0x9be904(0x752)](_0x3be941,_0x54bb30),_0x1bb6d8={'number':_0x54bb30,'options':{'delay':_0x3fb4ef[_0x9be904(0x20e)][_0x9be904(0x245)]},'textMessage':{'text':_0x44b8c0}},_0x33f0ef=null;try{let _0x2b5b08=await this[_0x9be904(0x2e2)](_0x1bb6d8);if(_0x2b5b08&&_0x2b5b08[_0x9be904(0x299)])return{'error':!0x1,'id':_0x2b5b08[_0x9be904(0x326)]['id']};_0x33f0ef=JSON[_0x9be904(0x291)](_0x2b5b08),this[_0x9be904(0x2e0)][_0x9be904(0x2b1)](this['instanceName']+'\x20('+this[_0x9be904(0x635)][_0x9be904(0x278)]+_0x9be904(0x668)+_0x33f0ef);}catch(_0x432431){this[_0x9be904(0x2e0)][_0x9be904(0x430)](this[_0x9be904(0x413)]+'\x20('+this[_0x9be904(0x635)][_0x9be904(0x278)]+_0x9be904(0x3e8)+(_0x432431 instanceof Error?_0x432431[_0x9be904(0x20e)]:JSON[_0x9be904(0x291)](_0x432431,null,0x2))),_0x33f0ef=_0x432431[_0x9be904(0x20e)];}if(_0x33f0ef)return{'error':!0x0,'detail':(typeof _0x33f0ef==_0x9be904(0x5c2)?JSON['stringify'](_0x33f0ef,null,0x2):_0x33f0ef)[_0x9be904(0x199)](/[\[\]{}\n]/g,'\x20')[_0x9be904(0x199)](/  +/g,'\x20')};}async[a0_0xe3fdb8(0x553)](_0x4ed169,_0x4fb7f9){const _0x3ae30f=a0_0xe3fdb8;this[_0x3ae30f(0x2e0)][_0x3ae30f(0x2b1)](this['instanceName']+'\x20('+this[_0x3ae30f(0x635)][_0x3ae30f(0x278)]+_0x3ae30f(0x253));let _0x19bd21;if(_0x4ed169[_0x3ae30f(0x20e)][_0x3ae30f(0x3d6)]&&_0x4ed169[_0x3ae30f(0x20e)][_0x3ae30f(0x3d6)][_0x3ae30f(0x736)]>0x0){let _0x44a617=this[_0x3ae30f(0x148)](_0x4ed169[_0x3ae30f(0x20e)]['text']);_0x19bd21=await this[_0x3ae30f(0x752)](_0x44a617,_0x4fb7f9);}let _0x3cca55={'number':_0x4fb7f9,'options':{'delay':_0x4ed169[_0x3ae30f(0x20e)][_0x3ae30f(0x245)]},'mediaMessage':{'mediatype':_0x4ed169[_0x3ae30f(0x20e)][_0x3ae30f(0x703)],'caption':_0x19bd21,'media':_0x4ed169[_0x3ae30f(0x20e)]['urlOrBase64']}},_0x422c92=null;try{let _0x225639=await this[_0x3ae30f(0x1bd)](_0x3cca55);if(_0x225639&&_0x225639['status'])return{'error':!0x1,'id':_0x225639['key']['id']};_0x422c92=JSON['stringify'](_0x225639),this[_0x3ae30f(0x2e0)][_0x3ae30f(0x2b1)](this['instanceName']+'\x20('+this[_0x3ae30f(0x635)][_0x3ae30f(0x278)]+_0x3ae30f(0x668)+_0x422c92);}catch(_0x534a0b){this[_0x3ae30f(0x2e0)][_0x3ae30f(0x430)](this['instanceName']+'\x20('+this[_0x3ae30f(0x635)][_0x3ae30f(0x278)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x534a0b instanceof Error?_0x534a0b[_0x3ae30f(0x20e)]:JSON[_0x3ae30f(0x291)](_0x534a0b,null,0x2))),_0x422c92=_0x534a0b[_0x3ae30f(0x20e)];}if(_0x422c92)return{'error':!0x0,'detail':(typeof _0x422c92==_0x3ae30f(0x5c2)?JSON[_0x3ae30f(0x291)](_0x422c92,null,0x2):_0x422c92)[_0x3ae30f(0x199)](/[\[\]{}\n]/g,'\x20')[_0x3ae30f(0x199)](/  +/g,'\x20')};}async[a0_0xe3fdb8(0x6ee)](_0x4f5f8b,_0x599af7){const _0x157e5c=a0_0xe3fdb8;this[_0x157e5c(0x2e0)][_0x157e5c(0x2b1)](this['instanceName']+'\x20('+this['instance'][_0x157e5c(0x278)]+_0x157e5c(0x4b3));let _0x103415={'number':_0x599af7,'options':{'delay':_0x4f5f8b[_0x157e5c(0x20e)][_0x157e5c(0x245)]},'audioMessage':{'audio':_0x4f5f8b[_0x157e5c(0x20e)][_0x157e5c(0x1be)]}},_0x254a13=null;try{let _0x1c1b66=await this['audioWhatsapp'](_0x103415);if(_0x1c1b66&&_0x1c1b66[_0x157e5c(0x299)])return{'error':!0x1,'id':_0x1c1b66[_0x157e5c(0x326)]['id']};_0x254a13=JSON['stringify'](_0x1c1b66),this['logger']['verbose'](this[_0x157e5c(0x413)]+'\x20('+this[_0x157e5c(0x635)][_0x157e5c(0x278)]+_0x157e5c(0x668)+_0x254a13);}catch(_0x53bd2f){this['logger'][_0x157e5c(0x430)](this[_0x157e5c(0x413)]+'\x20('+this[_0x157e5c(0x635)][_0x157e5c(0x278)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x53bd2f instanceof Error?_0x53bd2f['message']:JSON[_0x157e5c(0x291)](_0x53bd2f,null,0x2))),_0x254a13=_0x53bd2f[_0x157e5c(0x20e)];}if(_0x254a13)return{'error':!0x0,'detail':(typeof _0x254a13==_0x157e5c(0x5c2)?JSON[_0x157e5c(0x291)](_0x254a13,null,0x2):_0x254a13)[_0x157e5c(0x199)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Pt=class c{constructor(_0x3a84ab,_0x75ed9f,_0x426a0e){const _0x4491bc=a0_0xe3fdb8;this[_0x4491bc(0x62a)]=_0x3a84ab,this[_0x4491bc(0x5f2)]=_0x75ed9f,this[_0x4491bc(0x1aa)]=_0x426a0e,this['db']={},this[_0x4491bc(0x52c)]={},this[_0x4491bc(0x2e0)]=new v(c[_0x4491bc(0x62f)]),this[_0x4491bc(0x52e)]={},(this[_0x4491bc(0x665)](),this[_0x4491bc(0x5a9)](),Object[_0x4491bc(0x322)](this['db'],_0x75ed9f['get'](_0x4491bc(0x72c))),Object[_0x4491bc(0x322)](this[_0x4491bc(0x52c)],_0x75ed9f[_0x4491bc(0x221)]('REDIS')),this['dbInstance']=this['db'][_0x4491bc(0x74c)]?this[_0x4491bc(0x1aa)][_0x4491bc(0x44c)]?.['db'](this['db'][_0x4491bc(0x38a)][_0x4491bc(0x5a7)]+_0x4491bc(0x66d)):void 0x0,this[_0x4491bc(0x15e)]=this[_0x4491bc(0x52c)][_0x4491bc(0x74c)]?new oe(this[_0x4491bc(0x52c)]):void 0x0);}async[a0_0xe3fdb8(0x4f9)](_0x3f8e04){const _0x33c0d1=a0_0xe3fdb8;if(_0x3f8e04&&!this[_0x33c0d1(0x52e)][_0x3f8e04])throw new j('Instance\x20\x22'+_0x3f8e04+_0x33c0d1(0x264));let _0x52af0b=[];for await(let [_0x5c84e7,_0x16c111]of Object[_0x33c0d1(0x133)](this[_0x33c0d1(0x52e)]))if(_0x16c111&&_0x16c111[_0x33c0d1(0x4f6)]['state']===_0x33c0d1(0x389)){let _0x291d2a=await this[_0x33c0d1(0x1aa)]['auth'][_0x33c0d1(0x579)](_0x5c84e7);_0x52af0b[_0x33c0d1(0x4fd)]({'instance':{'instanceName':_0x5c84e7,'apikey':_0x291d2a[_0x33c0d1(0x55c)],'owner':_0x16c111[_0x33c0d1(0x278)],'profileName':await _0x16c111[_0x33c0d1(0x50f)]()||_0x33c0d1(0x272),'profilePictureUrl':_0x16c111[_0x33c0d1(0x2c3)]}});}return _0x52af0b[_0x33c0d1(0x579)](_0xad0f53=>_0xad0f53[_0x33c0d1(0x635)][_0x33c0d1(0x413)]===_0x3f8e04)??_0x52af0b;}async[a0_0xe3fdb8(0x1cf)](_0x16b873){const _0x39df5f=a0_0xe3fdb8;if(this['db'][_0x39df5f(0x74c)]&&(await this[_0x39df5f(0x1aa)][_0x39df5f(0x44c)][_0x39df5f(0x656)](),(await this[_0x39df5f(0x359)]['collections']())[_0x39df5f(0x736)]>0x0&&await this[_0x39df5f(0x359)][_0x39df5f(0x4cf)](_0x16b873)),this[_0x39df5f(0x52c)][_0x39df5f(0x74c)]){this['cache'][_0x39df5f(0x616)]=_0x16b873,await this[_0x39df5f(0x15e)]['delAll']();return;}}async[a0_0xe3fdb8(0x5bd)](){const _0x1e5cac=a0_0xe3fdb8;await this[_0x1e5cac(0x32c)]();let _0x315239=async _0x3688da=>{const _0x5499e4=_0x1e5cac;let _0x34e13f=new ye(this[_0x5499e4(0x5f2)],this[_0x5499e4(0x62a)],this[_0x5499e4(0x1aa)]);_0x34e13f[_0x5499e4(0x413)]=_0x3688da,await _0x34e13f[_0x5499e4(0x53b)](),this[_0x5499e4(0x52e)][_0x3688da]=_0x34e13f;};try{if(this[_0x1e5cac(0x52c)][_0x1e5cac(0x74c)]){let _0x15c23e=await this['cache'][_0x1e5cac(0x4c1)]();_0x15c23e?.['length']>0x0&&_0x15c23e[_0x1e5cac(0x261)](async _0x970751=>await _0x315239(_0x970751[_0x1e5cac(0x4c7)](':')[0x1]));return;}if(this['db'][_0x1e5cac(0x74c)]){await this[_0x1e5cac(0x1aa)][_0x1e5cac(0x44c)][_0x1e5cac(0x656)]();let _0x16284c=await this[_0x1e5cac(0x359)][_0x1e5cac(0x76e)]();_0x16284c[_0x1e5cac(0x736)]>0x0&&_0x16284c[_0x1e5cac(0x261)](async _0x174ccf=>await _0x315239(_0x174ccf[_0x1e5cac(0x30b)][_0x1e5cac(0x199)](/^[\w-]+\./,'')));return;}}catch(_0x692945){this[_0x1e5cac(0x2e0)]['error'](_0x692945);}}async[a0_0xe3fdb8(0x1fb)](){const _0x43ee1e=a0_0xe3fdb8;let _0x408ca9=await this[_0x43ee1e(0x1aa)]['auth'][_0x43ee1e(0x59b)](),_0xbae63a=_0x408ca9[_0x43ee1e(0x304)](_0x58678f=>!this[_0x43ee1e(0x52e)][_0x58678f[_0x43ee1e(0x1ff)]]&&(_0x58678f[_0x43ee1e(0x227)]||typeof _0x58678f['online']>'u'));_0xbae63a['length']>0x0&&await Promise[_0x43ee1e(0x297)](_0xbae63a['map'](async _0x46f169=>{const _0x256078=_0x43ee1e;let _0x4abf80={'online':!0x1,'lastDisconnect':Date['now']()};await this['repository'][_0x256078(0x439)][_0x256078(0x751)](_0x4abf80,_0x46f169[_0x256078(0x1ff)]);}));let _0x53668a=Date[_0x43ee1e(0x1d1)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x57fced=_0x408ca9[_0x43ee1e(0x304)](_0xc9f0a6=>!this[_0x43ee1e(0x52e)][_0xc9f0a6['_id']]&&typeof _0xc9f0a6[_0x43ee1e(0x1ad)]<'u'&&_0xc9f0a6['lastDisconnect']<_0x53668a);_0x57fced[_0x43ee1e(0x736)]>0x0&&await Promise[_0x43ee1e(0x297)](_0x57fced[_0x43ee1e(0x716)](async _0x45565c=>{}));}async['InstancesAlterarTodas'](){const _0x28c825=a0_0xe3fdb8;try{let _0x1fa567={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x468657={'online':!0x1,'lastDisconnect':Date['now']()},_0x2d9627=await this[_0x28c825(0x1aa)][_0x28c825(0x439)][_0x28c825(0x1a7)](_0x1fa567,_0x468657);console[_0x28c825(0x21f)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x2d9627[_0x28c825(0x2f6)]),await this[_0x28c825(0x433)]();}catch(_0x44fc40){console[_0x28c825(0x430)](_0x28c825(0x3bc),_0x44fc40);}}async['removeOlderDisconnectedInstances'](){const _0x2d4a54=a0_0xe3fdb8;try{let _0x48b2b3={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x540cb5=await this[_0x2d4a54(0x1aa)][_0x2d4a54(0x439)][_0x2d4a54(0x1da)](_0x48b2b3);console[_0x2d4a54(0x21f)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x540cb5[_0x2d4a54(0x2f6)]);}catch(_0x46b18d){console['error']('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x46b18d);}}['removeInstance'](){const _0x4fd19f=a0_0xe3fdb8;this[_0x4fd19f(0x62a)]['on'](_0x4fd19f(0x71d),async _0x14ced7=>{const _0x253c1b=_0x4fd19f;try{this[_0x253c1b(0x52e)][_0x14ced7]=void 0x0;}catch{}try{this[_0x253c1b(0x1cf)](_0x14ced7);}finally{this['logger'][_0x253c1b(0x292)](_0x253c1b(0x23f)+_0x14ced7+_0x253c1b(0x2df));}});}[a0_0xe3fdb8(0x5a9)](){const _0x3644d8=a0_0xe3fdb8;this[_0x3644d8(0x62a)]['on'](_0x3644d8(0x498),async _0x2b91b2=>{const _0x14de22=_0x3644d8;try{this[_0x14de22(0x52e)][_0x2b91b2]=void 0x0;}catch{}try{this[_0x14de22(0x1cf)](_0x2b91b2);}finally{this[_0x14de22(0x2e0)][_0x14de22(0x292)](_0x14de22(0x23f)+_0x2b91b2+'\x22\x20-\x20NOT\x20CONNECTION');}});}},$t=class extends I{[a0_0xe3fdb8(0x3dd)](_0x77ceda){return Us(_0x77ceda);}async[a0_0xe3fdb8(0x1f7)](_0x446eb9){const _0x2d9b0b=a0_0xe3fdb8;if(_0x446eb9['length']!==0x0)try{return{'insertCount':(await this[_0x2d9b0b(0x3dd)](_0x446eb9[0x0][_0x2d9b0b(0x3ae)])[_0x2d9b0b(0x5b9)]([..._0x446eb9]))['length']};}catch(_0x52833d){return _0x52833d;}}async[a0_0xe3fdb8(0x579)](_0x5a60e8,_0x44e5cc){const _0x11ca66=a0_0xe3fdb8;try{let _0x301012=this[_0x11ca66(0x3dd)](_0x44e5cc),_0x1b6502=A(_0x5a60e8[_0x11ca66(0x287)]);return await _0x301012[_0x11ca66(0x579)](_0x1b6502)[_0x11ca66(0x770)]({'lastmsg':-0x1})[_0x11ca66(0x235)](_0x5a60e8?.['limit']??0x0)[_0x11ca66(0x2a0)]();}catch{return[];}}async['deleteAll'](_0x21b393,_0x379e00){const _0x55da55=a0_0xe3fdb8;try{return await this[_0x55da55(0x3dd)](_0x379e00)[_0x55da55(0x1da)]({..._0x21b393[_0x55da55(0x287)]}),[];}catch(_0x5e2b65){return{'error':_0x5e2b65?.[_0x55da55(0x4ff)]()};}}async[a0_0xe3fdb8(0x6a9)](_0x2c1f6c,_0x3fbe16){const _0x29dd06=a0_0xe3fdb8;try{let _0x4614cd=this[_0x29dd06(0x3dd)](_0x3fbe16),_0x106464=A(_0x2c1f6c[_0x29dd06(0x287)]);return await _0x4614cd['findOne'](_0x106464)[_0x29dd06(0x2a0)]();}catch{return null;}}async['updateOne'](_0x2aba93,_0x552b61,_0x4e0e40,_0x1cfd23,_0x1b9d65=a0_0xe3fdb8(0x172)){const _0x126c74=a0_0xe3fdb8;try{let _0x297e93={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1cfd23},_0x5ec27d=this[_0x126c74(0x3dd)](_0x4e0e40),_0x531f70=A(_0x2aba93[_0x126c74(0x287)]);Object['keys'](_0x552b61)[_0x126c74(0x261)](_0x3ca8eb=>{_0x552b61[_0x3ca8eb]==null&&delete _0x552b61[_0x3ca8eb];});let _0x150beb={};return _0x150beb[_0x1b9d65]=_0x552b61,await _0x5ec27d[_0x126c74(0x76d)](_0x531f70,_0x150beb,_0x297e93);}catch(_0x59bde2){return console['error'](_0x59bde2),null;}}async[a0_0xe3fdb8(0x6a6)](_0x46b447){const _0x50686d=a0_0xe3fdb8;try{let _0x53e828=this[_0x50686d(0x3dd)](_0x46b447[0x0][_0x50686d(0x288)]['where'][_0x50686d(0x3ae)]),_0x52436b=_0x46b447['map'](_0x3d9e19=>({'updateOne':{'filter':{..._0x3d9e19['query'][_0x50686d(0x287)]},'update':{'$set':_0x3d9e19[_0x50686d(0x3e6)]},'upsert':!0x0}})),_0x31d87a=await _0x53e828['bulkWrite'](_0x52436b);return _0x31d87a[_0x50686d(0x18b)]+_0x31d87a[_0x50686d(0x1b7)];}catch(_0x1a06f9){return console[_0x50686d(0x430)](_0x1a06f9),0x0;}}async[a0_0xe3fdb8(0x674)](_0x316f63){const _0x7b2c55=a0_0xe3fdb8;try{let _0x6f4ab7=this[_0x7b2c55(0x3dd)](_0x316f63),_0x246972={'labels':{'$exists':!0x0}},_0x15ba15={'$unset':{'labels':''}};return(await _0x6f4ab7[_0x7b2c55(0x6a6)](_0x246972,_0x15ba15))['modifiedCount'];}catch(_0x5e8a73){return console[_0x7b2c55(0x430)](_0x5e8a73),0x0;}}async[a0_0xe3fdb8(0x2a3)](_0x435af5){const _0x35808c=a0_0xe3fdb8;try{let _0x1798a6=this[_0x35808c(0x3dd)](_0x435af5),_0x3e1f51={'leadInfo.etiquetas':{'$exists':!0x1}},_0x2c4655={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1798a6[_0x35808c(0x6a6)](_0x3e1f51,_0x2c4655))['modifiedCount'];}catch(_0x248f7f){return console['error'](_0x248f7f),0x0;}}async[a0_0xe3fdb8(0x653)](_0x136640){const _0x3e3a27=a0_0xe3fdb8;try{let _0x579bee=this[_0x3e3a27(0x3dd)](_0x136640),_0x51ffaa={'leadInfo.tags':{'$exists':!0x1}},_0x4cfd75={'$set':{'leadInfo.tags':[]}};return(await _0x579bee[_0x3e3a27(0x6a6)](_0x51ffaa,_0x4cfd75))['modifiedCount'];}catch(_0x1e2ff5){return console['error'](_0x1e2ff5),0x0;}}async['updateMissingCustomFields'](_0x39283e){const _0x1972b8=a0_0xe3fdb8;try{let _0x278639=this[_0x1972b8(0x3dd)](_0x39283e),_0x3f3f11={'leadInfo.customFields':{'$exists':!0x1}},_0x50d90a={'$set':{'leadInfo.customFields':[]}};return(await _0x278639[_0x1972b8(0x6a6)](_0x3f3f11,_0x50d90a))[_0x1972b8(0x18b)];}catch(_0x391df1){return console[_0x1972b8(0x430)](_0x391df1),0x0;}}async[a0_0xe3fdb8(0x5b9)](_0x1c076f,_0x469ef8){const _0x2d366e=a0_0xe3fdb8;if(!Array[_0x2d366e(0x1ed)](_0x1c076f)||_0x1c076f[_0x2d366e(0x736)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x2d366e(0x3dd)](_0x469ef8)['insertMany'](_0x1c076f))[_0x2d366e(0x736)];}catch(_0x129996){throw console[_0x2d366e(0x430)](_0x2d366e(0x66f),_0x129996),_0x129996;}}async[a0_0xe3fdb8(0x19d)](_0x821b4f,_0x1067f3){const _0x56e989=a0_0xe3fdb8;try{await this[_0x56e989(0x3dd)](_0x1067f3)[_0x56e989(0x2ef)]({'_id':_0x821b4f});}catch(_0x467617){throw console['error']('Erro\x20ao\x20deletar\x20chat:',_0x467617),_0x467617;}}},kt=class extends I{['getLabelModelForOwner'](_0x34e284){return ua(_0x34e284);}async[a0_0xe3fdb8(0x6f4)](_0x35c2e4,_0x3b0198,_0x301261,_0x22da2e){const _0x122ec3=a0_0xe3fdb8;try{let _0x1369e6={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x22da2e},_0x32e428=this[_0x122ec3(0x2ea)](_0x301261),_0x122fee=A(_0x35c2e4[_0x122ec3(0x287)]);return await _0x32e428[_0x122ec3(0x76d)](_0x122fee,{'$set':_0x3b0198},_0x1369e6);}catch(_0x3843f2){return console[_0x122ec3(0x430)](_0x3843f2),null;}}async[a0_0xe3fdb8(0x579)](_0x19f6d2,_0x3020be){const _0x2f5f6f=a0_0xe3fdb8;try{let _0x35129f=this[_0x2f5f6f(0x2ea)](_0x3020be),_0x22a230=A(_0x19f6d2[_0x2f5f6f(0x287)]);return await _0x35129f[_0x2f5f6f(0x579)](_0x22a230);}catch(_0x1878f5){console['error'](_0x1878f5);}}async[a0_0xe3fdb8(0x75e)](_0x5131e9,_0x45294a){const _0x325eb6=a0_0xe3fdb8;try{let _0x3ab5c4=this[_0x325eb6(0x2ea)](_0x45294a),_0x5a7975=A(_0x5131e9[_0x325eb6(0x287)]);await _0x3ab5c4[_0x325eb6(0x1da)](_0x5a7975);}catch(_0x10b75e){console[_0x325eb6(0x430)](_0x10b75e);}}async[a0_0xe3fdb8(0x5e6)](_0x513745){const _0x575881=a0_0xe3fdb8;try{return await this[_0x575881(0x2ea)](_0x513745)['collection'][_0x575881(0x4d6)](),{'success':!0x0};}catch(_0xae24b2){return console[_0x575881(0x430)](_0xae24b2),{'success':!0x1,'error':_0xae24b2};}}},Lt=class{constructor(_0x3468f5){const _0x3b4e01=a0_0xe3fdb8;this[_0x3b4e01(0x14e)]=_0x3468f5;}async['editChat']({instanceName:_0x50b763},_0x137291){const _0x52f91e=a0_0xe3fdb8;return await this[_0x52f91e(0x14e)][_0x52f91e(0x52e)][_0x50b763][_0x52f91e(0x589)](_0x137291);}async['whatsappNumber']({instanceName:_0x72fb06},_0x23b76f){const _0x14dbb3=a0_0xe3fdb8;return await this['waMonitor'][_0x14dbb3(0x52e)][_0x72fb06]['whatsappNumber'](_0x23b76f);}async[a0_0xe3fdb8(0x6d9)]({instanceName:_0xbced07},_0x3deb27){const _0x5e56f4=a0_0xe3fdb8;return await this[_0x5e56f4(0x14e)][_0x5e56f4(0x52e)][_0xbced07]['importChats'](_0x3deb27);}async[a0_0xe3fdb8(0x6bd)]({instanceName:_0x3be3bd},_0x5ce2cd){const _0x1df148=a0_0xe3fdb8;return await this[_0x1df148(0x14e)][_0x1df148(0x52e)][_0x3be3bd]['markMessageAsRead'](_0x5ce2cd);}async[a0_0xe3fdb8(0x2f4)]({instanceName:_0x3a1d3d},_0x39b23d){const _0x3511fd=a0_0xe3fdb8;return await this[_0x3511fd(0x14e)][_0x3511fd(0x52e)][_0x3a1d3d][_0x3511fd(0x2f4)](_0x39b23d);}async[a0_0xe3fdb8(0x4b5)]({instanceName:_0x1a3145},_0x16978b){const _0xb0b07e=a0_0xe3fdb8;return await this[_0xb0b07e(0x14e)]['waInstances'][_0x1a3145][_0xb0b07e(0x4b5)](_0x16978b);}async['fetchProfilePicture']({instanceName:_0x2721f7},_0x44e173){const _0x22205d=a0_0xe3fdb8;return await this[_0x22205d(0x14e)][_0x22205d(0x52e)][_0x2721f7][_0x22205d(0x763)](_0x44e173[_0x22205d(0x3d5)]);}async[a0_0xe3fdb8(0x32d)]({instanceName:_0x1d0186},_0x21e824){const _0x1faf75=a0_0xe3fdb8;return await this[_0x1faf75(0x14e)][_0x1faf75(0x52e)][_0x1d0186][_0x1faf75(0x32d)](_0x21e824[_0x1faf75(0x3d5)]);}async['updatePresence']({instanceName:_0x53c771},_0x54a1da){const _0x12e029=a0_0xe3fdb8;return await this[_0x12e029(0x14e)][_0x12e029(0x52e)][_0x53c771][_0x12e029(0x28b)](_0x54a1da);}async[a0_0xe3fdb8(0x441)]({instanceName:_0x75ce8c},_0x16dfcc){const _0x3e0a20=a0_0xe3fdb8;return await this[_0x3e0a20(0x14e)][_0x3e0a20(0x52e)][_0x75ce8c][_0x3e0a20(0x441)](_0x16dfcc);}async[a0_0xe3fdb8(0x564)]({instanceName:_0x21bf9c},_0x1b825e){const _0x16ee7d=a0_0xe3fdb8;return await this['waMonitor'][_0x16ee7d(0x52e)][_0x21bf9c][_0x16ee7d(0x564)](_0x1b825e);}async[a0_0xe3fdb8(0x2e6)]({instanceName:_0x1b5c84},_0x11506c){const _0x2f6019=a0_0xe3fdb8;return await this['waMonitor'][_0x2f6019(0x52e)][_0x1b5c84][_0x2f6019(0x2e6)](_0x11506c);}async[a0_0xe3fdb8(0x308)]({instanceName:_0x39e73a}){const _0x66375d=a0_0xe3fdb8;return await this[_0x66375d(0x14e)][_0x66375d(0x52e)][_0x39e73a]['fetchLabels']();}async[a0_0xe3fdb8(0x25c)]({instanceName:_0x39273a}){const _0x3e0067=a0_0xe3fdb8;return await this[_0x3e0067(0x14e)][_0x3e0067(0x52e)][_0x39273a][_0x3e0067(0x25c)]();}async[a0_0xe3fdb8(0x4ab)]({instanceName:_0x3b1282}){const _0x23394c=a0_0xe3fdb8;return await this[_0x23394c(0x14e)][_0x23394c(0x52e)][_0x3b1282][_0x23394c(0x4ab)]();}async[a0_0xe3fdb8(0x34e)]({instanceName:_0x2c199c},_0x4f6de1){const _0x332420=a0_0xe3fdb8;return await this[_0x332420(0x14e)][_0x332420(0x52e)][_0x2c199c][_0x332420(0x34e)](_0x4f6de1);}async[a0_0xe3fdb8(0x61f)]({instanceName:_0x113838},_0x5d736d){const _0x581d99=a0_0xe3fdb8;return await this[_0x581d99(0x14e)]['waInstances'][_0x113838][_0x581d99(0x61f)](_0x5d736d[_0x581d99(0x3d5)]);}async[a0_0xe3fdb8(0x3a7)]({instanceName:_0x272bbe},_0x5a2dd9){const _0x2ad97a=a0_0xe3fdb8;return await this[_0x2ad97a(0x14e)][_0x2ad97a(0x52e)][_0x272bbe]['updateProfileName'](_0x5a2dd9[_0x2ad97a(0x62f)]);}async[a0_0xe3fdb8(0x513)]({instanceName:_0x1c29f7},_0x216bb7){const _0x2d0985=a0_0xe3fdb8;return await this[_0x2d0985(0x14e)][_0x2d0985(0x52e)][_0x1c29f7][_0x2d0985(0x513)](_0x216bb7[_0x2d0985(0x299)]);}async[a0_0xe3fdb8(0x377)]({instanceName:_0x57c924},_0x3a0763){const _0x613928=a0_0xe3fdb8;return await this[_0x613928(0x14e)][_0x613928(0x52e)][_0x57c924][_0x613928(0x377)](_0x3a0763[_0x613928(0x2ee)]);}async[a0_0xe3fdb8(0x681)]({instanceName:_0x1d5f02},_0x2f5cea){const _0x4970bc=a0_0xe3fdb8;return await this[_0x4970bc(0x14e)]['waInstances'][_0x1d5f02][_0x4970bc(0x681)]();}},Ns=require(a0_0xe3fdb8(0x189)),jt=class c{constructor(_0x1b6bef,_0x79f70d,_0x28d86c,_0x74d42a,_0x42c7f2){const _0x6d631c=a0_0xe3fdb8;this[_0x6d631c(0x14e)]=_0x1b6bef,this[_0x6d631c(0x5f2)]=_0x79f70d,this['repository']=_0x28d86c,this[_0x6d631c(0x62a)]=_0x74d42a,this[_0x6d631c(0x642)]=_0x42c7f2,this['logger']=new v(c[_0x6d631c(0x62f)]);}async[a0_0xe3fdb8(0x5a2)]({instanceName:_0xf0758f,apikey:_0xd8d7f6,number:_0x21c974,proxy:_0x35c6d8=!0x0}){const _0x4b122c=a0_0xe3fdb8;try{let _0x3d5f48=new ye(this['configService'],this[_0x4b122c(0x62a)],this['repository']);_0x3d5f48['instanceName']=_0xf0758f,this[_0x4b122c(0x14e)][_0x4b122c(0x52e)][_0x3d5f48[_0x4b122c(0x413)]]=_0x3d5f48;let _0x3bb4db={};_0xd8d7f6?(await this[_0x4b122c(0x1aa)]['auth'][_0x4b122c(0x751)]({'apikey':_0xd8d7f6},_0xf0758f),_0x3bb4db['apikey']=_0xd8d7f6):_0x3bb4db=await this[_0x4b122c(0x642)][_0x4b122c(0x2b4)]({'instanceName':_0x3d5f48['instanceName']});let _0x45bc6d;return await _0x3d5f48[_0x4b122c(0x53b)](_0x21c974,_0x35c6d8),await(0x0,Ns[_0x4b122c(0x245)])(0x7d0),_0x45bc6d=_0x3d5f48[_0x4b122c(0x5e9)],{'instance':{'instanceName':_0x3d5f48['instanceName'],'status':'created'},'hash':_0x3bb4db,'qrcode':_0x45bc6d};}catch(_0x189b30){this['logger'][_0x4b122c(0x430)](_0x189b30);}}async[a0_0xe3fdb8(0x44f)]({instanceName:_0x44d925,number:_0x39fd76=null,proxy:_0x35665e=!0x0}){const _0x129aef=a0_0xe3fdb8;try{let _0x1118b0=this[_0x129aef(0x14e)][_0x129aef(0x52e)][_0x44d925];switch(_0x1118b0?.[_0x129aef(0x4f6)]?.[_0x129aef(0x4d0)]){case _0x129aef(0x233):return await _0x1118b0['connectToWhatsapp'](_0x39fd76,_0x35665e),await(0x0,Ns[_0x129aef(0x245)])(0x7d0),_0x1118b0[_0x129aef(0x5e9)];case _0x129aef(0x153):return _0x1118b0[_0x129aef(0x5e9)];default:return await this[_0x129aef(0x1c7)]({'instanceName':_0x44d925});}}catch(_0x35b2a6){this['logger']['log'](_0x35b2a6);}}async[a0_0xe3fdb8(0x1c7)]({instanceName:_0x18828b}){const _0x5274a8=a0_0xe3fdb8;let _0x46ab47=this[_0x5274a8(0x14e)][_0x5274a8(0x52e)][_0x18828b][_0x5274a8(0x4f6)],_0x3470b5=null;_0x46ab47[_0x5274a8(0x4d0)]==='open'&&_0x18828b&&(_0x3470b5=await this[_0x5274a8(0x14e)][_0x5274a8(0x4f9)](_0x18828b));let _0x59e1d0=null;return _0x46ab47[_0x5274a8(0x4d0)]===_0x5274a8(0x153)&&_0x18828b&&(_0x59e1d0=this['waMonitor']['waInstances'][_0x18828b]['qrCode']),{'instance':_0x18828b,'connectionStatus':_0x46ab47,'instanceInfo':_0x3470b5,'qrcode':_0x59e1d0};}async[a0_0xe3fdb8(0x730)]({instanceName:_0x21f9bc}){const _0x7aaf03=a0_0xe3fdb8;try{return this['waMonitor'][_0x7aaf03(0x52e)][_0x21f9bc]?.[_0x7aaf03(0x5b2)]?.['ws']?.[_0x7aaf03(0x233)](),{'status':_0x7aaf03(0x202),'error':!0x1,'response':{'message':_0x7aaf03(0x3ff)}};}catch(_0x1197ed){this[_0x7aaf03(0x2e0)]['error'](_0x1197ed);}}async[a0_0xe3fdb8(0x4a2)]({instanceName:_0x59af7a}){const _0x12a8bc=a0_0xe3fdb8;return _0x59af7a?this[_0x12a8bc(0x14e)][_0x12a8bc(0x4f9)](_0x59af7a):this[_0x12a8bc(0x14e)]['instanceInfo']();}async['logout']({instanceName:_0x2273bd}){const _0x45d78d=a0_0xe3fdb8;try{return await this[_0x45d78d(0x14e)][_0x45d78d(0x52e)][_0x2273bd]?.[_0x45d78d(0x5b2)]?.['logout'](_0x45d78d(0x4ee)+_0x2273bd),{'error':!0x1,'message':_0x45d78d(0x2e8)};}catch(_0x54bc2c){throw new O(_0x54bc2c['toString']());}}async[a0_0xe3fdb8(0x695)]({instanceName:_0x3fb571}){const _0x182a51=a0_0xe3fdb8;if((await this[_0x182a51(0x1c7)]({'instanceName':_0x3fb571}))[_0x182a51(0x4f6)]['state']===_0x182a51(0x389))throw new m([_0x182a51(0x5c4),_0x182a51(0x587)]);try{return delete this[_0x182a51(0x14e)][_0x182a51(0x52e)][_0x3fb571],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x229be3){throw new m(_0x229be3['toString']());}}},Z=require(a0_0xe3fdb8(0x648)),Ft=class{constructor(_0x25360a){const _0x4a9990=a0_0xe3fdb8;this[_0x4a9990(0x14e)]=_0x25360a;}async['sendText']({instanceName:_0x4982c0},_0x1f9122){const _0x341956=a0_0xe3fdb8;return await this[_0x341956(0x14e)][_0x341956(0x52e)][_0x4982c0][_0x341956(0x2e2)](_0x1f9122);}async[a0_0xe3fdb8(0x739)]({instanceName:_0x5e7a7a},_0x519332){const _0x31470a=a0_0xe3fdb8;return await this[_0x31470a(0x14e)][_0x31470a(0x52e)][_0x5e7a7a][_0x31470a(0x6ec)](_0x519332);}async[a0_0xe3fdb8(0x37a)]({instanceName:_0x4e124e},_0x28dc03){const _0x4738c7=a0_0xe3fdb8;if((0x0,Z['isBase64'])(_0x28dc03?.['mediaMessage']?.[_0x4738c7(0x3cf)])&&!_0x28dc03?.[_0x4738c7(0x1bd)]?.['fileName'])throw new m(_0x4738c7(0x3a6));if((0x0,Z['isURL'])(_0x28dc03?.[_0x4738c7(0x1bd)]?.[_0x4738c7(0x3cf)])||(0x0,Z['isBase64'])(_0x28dc03?.[_0x4738c7(0x1bd)]?.[_0x4738c7(0x3cf)]))return await this[_0x4738c7(0x14e)][_0x4738c7(0x52e)][_0x4e124e][_0x4738c7(0x1bd)](_0x28dc03);throw new m(_0x4738c7(0x566));}async[a0_0xe3fdb8(0x447)]({instanceName:_0x19ecde},_0x105601){const _0x3be2a6=a0_0xe3fdb8;if((0x0,Z[_0x3be2a6(0x3d1)])(_0x105601[_0x3be2a6(0x29b)][_0x3be2a6(0x3a5)])||(0x0,Z[_0x3be2a6(0x295)])(_0x105601['stickerMessage']['image']))return await this[_0x3be2a6(0x14e)][_0x3be2a6(0x52e)][_0x19ecde]['mediaSticker'](_0x105601);throw new m(_0x3be2a6(0x566));}async[a0_0xe3fdb8(0x1dc)]({instanceName:_0x2eb82e},_0x202058){const _0x1a2b4c=a0_0xe3fdb8;if((0x0,Z[_0x1a2b4c(0x3d1)])(_0x202058['audioMessage']['audio'])||(0x0,Z[_0x1a2b4c(0x295)])(_0x202058[_0x1a2b4c(0x310)]['audio']))return await this[_0x1a2b4c(0x14e)][_0x1a2b4c(0x52e)][_0x2eb82e]['audioWhatsapp'](_0x202058);throw new m(_0x1a2b4c(0x566));}async[a0_0xe3fdb8(0x53e)]({instanceName:_0x4999d2},_0x1011f2){const _0x3b88c0=a0_0xe3fdb8;if((0x0,Z[_0x3b88c0(0x295)])(_0x1011f2[_0x3b88c0(0x2cd)][_0x3b88c0(0x1bd)]?.[_0x3b88c0(0x3cf)])&&!_0x1011f2['buttonMessage'][_0x3b88c0(0x1bd)]?.[_0x3b88c0(0x581)])throw new m(_0x3b88c0(0x3a6));return await this[_0x3b88c0(0x14e)][_0x3b88c0(0x52e)][_0x4999d2][_0x3b88c0(0x2cd)](_0x1011f2);}async[a0_0xe3fdb8(0x57d)]({instanceName:_0x2340dd},_0x163b22){const _0x3877bd=a0_0xe3fdb8;return await this[_0x3877bd(0x14e)][_0x3877bd(0x52e)][_0x2340dd][_0x3877bd(0x66c)](_0x163b22);}async[a0_0xe3fdb8(0x6cc)]({instanceName:_0x2c65a4},_0x25d997){const _0x1832b0=a0_0xe3fdb8;return await this[_0x1832b0(0x14e)][_0x1832b0(0x52e)][_0x2c65a4]['pollMessage'](_0x25d997);}async['sendList']({instanceName:_0x32a9e9},_0x516cc9){const _0x490d8c=a0_0xe3fdb8;return await this[_0x490d8c(0x14e)][_0x490d8c(0x52e)][_0x32a9e9][_0x490d8c(0x6a7)](_0x516cc9);}async[a0_0xe3fdb8(0x31f)]({instanceName:_0x455e0d},_0x1771a2){const _0xb61540=a0_0xe3fdb8;return await this[_0xb61540(0x14e)][_0xb61540(0x52e)][_0x455e0d][_0xb61540(0x528)](_0x1771a2);}async['sendReaction']({instanceName:_0x166b86},_0x3361fa){const _0x23bd86=a0_0xe3fdb8;if(!_0x3361fa['reactionMessage'][_0x23bd86(0x2ad)][_0x23bd86(0x2d1)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x23bd86(0x1d5));return await this[_0x23bd86(0x14e)]['waInstances'][_0x166b86][_0x23bd86(0x5e2)](_0x3361fa);}async[a0_0xe3fdb8(0x341)]({instanceName:_0x33788d},_0xf4f68e){const _0x419666=a0_0xe3fdb8;return await this[_0x419666(0x14e)][_0x419666(0x52e)][_0x33788d][_0x419666(0x4b9)](_0xf4f68e);}},Co=require(a0_0xe3fdb8(0x158)),Rs=require(a0_0xe3fdb8(0x3e7)),qt=class c{constructor(_0x40c04e,_0x4a7aad,_0x956b5a){const _0x168bea=a0_0xe3fdb8;this[_0x168bea(0x5f2)]=_0x40c04e,this[_0x168bea(0x14e)]=_0x4a7aad,this[_0x168bea(0x1aa)]=_0x956b5a,this[_0x168bea(0x2e0)]=new v(c[_0x168bea(0x62f)]);}async[a0_0xe3fdb8(0x4ae)](_0x2a741e){const _0x4b4b1e=a0_0xe3fdb8;let _0x53b15c=this[_0x4b4b1e(0x5f2)][_0x4b4b1e(0x221)](_0x4b4b1e(0x209))[_0x4b4b1e(0x651)],_0xc8051e=(0x0,Co[_0x4b4b1e(0x4df)])({'instanceName':_0x2a741e[_0x4b4b1e(0x413)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x53b15c[_0x4b4b1e(0x60d)],{'expiresIn':_0x53b15c[_0x4b4b1e(0x40a)],'encoding':_0x4b4b1e(0x3df),'subject':_0x4b4b1e(0x169)}),_0x288180=await this[_0x4b4b1e(0x1aa)][_0x4b4b1e(0x439)]['create']({'jwt':_0xc8051e},_0x2a741e[_0x4b4b1e(0x413)]);if(_0x288180['error'])throw this[_0x4b4b1e(0x2e0)][_0x4b4b1e(0x430)]({'localError':c[_0x4b4b1e(0x62f)]+'.jwt','error':_0x288180[_0x4b4b1e(0x430)]}),new m(_0x4b4b1e(0x150),_0x288180[_0x4b4b1e(0x430)]?.[_0x4b4b1e(0x4ff)]());return{'jwt':_0xc8051e};}async[a0_0xe3fdb8(0x55c)](_0x5602a9){const _0x267149=a0_0xe3fdb8;let _0x48eb8f=(0x0,Rs['v4'])()['toUpperCase'](),_0xcdf2d7=await this[_0x267149(0x1aa)]['auth']['create']({'apikey':_0x48eb8f},_0x5602a9['instanceName']);if(_0xcdf2d7[_0x267149(0x430)])throw this[_0x267149(0x2e0)][_0x267149(0x430)]({'localError':c[_0x267149(0x62f)]+'.jwt','error':_0xcdf2d7[_0x267149(0x430)]}),new m(_0x267149(0x150),_0xcdf2d7[_0x267149(0x430)]?.['toString']());return{'apikey':_0x48eb8f};}async[a0_0xe3fdb8(0x2b4)](_0x51bafc){const _0x453c2d=a0_0xe3fdb8;let _0x590e88=this[_0x453c2d(0x5f2)][_0x453c2d(0x221)](_0x453c2d(0x209));return await this[_0x590e88['TYPE']](_0x51bafc);}},Ut=class{constructor(_0x354909){this['waMonitor']=_0x354909;}async[a0_0xe3fdb8(0x311)](_0x5631b5,_0xaf7454){const _0x34e67d=a0_0xe3fdb8;return await this[_0x34e67d(0x14e)][_0x34e67d(0x52e)][_0x5631b5[_0x34e67d(0x413)]][_0x34e67d(0x311)](_0xaf7454);}async[a0_0xe3fdb8(0x706)](_0x2760e5,_0x485911){const _0x414646=a0_0xe3fdb8;return await this[_0x414646(0x14e)][_0x414646(0x52e)][_0x2760e5[_0x414646(0x413)]][_0x414646(0x706)](_0x485911);}async['groupDesc'](_0x505fcd,_0x272a5c){const _0x29a0b5=a0_0xe3fdb8;return await this[_0x29a0b5(0x14e)]['waInstances'][_0x505fcd[_0x29a0b5(0x413)]]['groupDesc'](_0x272a5c);}async[a0_0xe3fdb8(0x2a9)](_0x685f11,_0x1bc5f7){const _0x1c510f=a0_0xe3fdb8;return await this[_0x1c510f(0x14e)]['waInstances'][_0x685f11[_0x1c510f(0x413)]]['groupName'](_0x1bc5f7);}async['groupSetting'](_0x58c720,_0x52f780){const _0x8588d1=a0_0xe3fdb8;return await this[_0x8588d1(0x14e)][_0x8588d1(0x52e)][_0x58c720[_0x8588d1(0x413)]][_0x8588d1(0x236)](_0x52f780);}async[a0_0xe3fdb8(0x1fa)](_0x4e8dd9,_0x282e56){const _0x56acf4=a0_0xe3fdb8;return await this['waMonitor'][_0x56acf4(0x52e)][_0x4e8dd9[_0x56acf4(0x413)]][_0x56acf4(0x547)](_0x282e56);}async[a0_0xe3fdb8(0x320)](_0x10de1e){const _0x9f9902=a0_0xe3fdb8;return await this[_0x9f9902(0x14e)][_0x9f9902(0x52e)][_0x10de1e[_0x9f9902(0x413)]][_0x9f9902(0x320)]();}async[a0_0xe3fdb8(0x29c)](_0x356215,_0x2be13a){const _0x2c93f2=a0_0xe3fdb8;return await this[_0x2c93f2(0x14e)][_0x2c93f2(0x52e)][_0x356215[_0x2c93f2(0x413)]]['inviteCode'](_0x2be13a);}async['joinGroup'](_0x597d6e,_0x5860d5){const _0x3b28f1=a0_0xe3fdb8;return await this['waMonitor'][_0x3b28f1(0x52e)][_0x597d6e[_0x3b28f1(0x413)]][_0x3b28f1(0x583)](_0x5860d5);}async[a0_0xe3fdb8(0x6a0)](_0x4345f0,_0x55ee0d){const _0x2e4bc5=a0_0xe3fdb8;return await this[_0x2e4bc5(0x14e)][_0x2e4bc5(0x52e)][_0x4345f0[_0x2e4bc5(0x413)]][_0x2e4bc5(0x6a0)](_0x55ee0d);}async[a0_0xe3fdb8(0x193)](_0x185792,_0x16f955){const _0xcf6073=a0_0xe3fdb8;return await this['waMonitor'][_0xcf6073(0x52e)][_0x185792[_0xcf6073(0x413)]][_0xcf6073(0x193)](_0x16f955);}async[a0_0xe3fdb8(0x5d6)](_0x23894c,_0x11630c){const _0x1e570b=a0_0xe3fdb8;return await this[_0x1e570b(0x14e)][_0x1e570b(0x52e)][_0x23894c[_0x1e570b(0x413)]]['updateGParticipant'](_0x11630c);}async[a0_0xe3fdb8(0x42c)](_0x1bd9b9,_0x2d5e0a){const _0x5231c3=a0_0xe3fdb8;return await this['waMonitor'][_0x5231c3(0x52e)][_0x1bd9b9[_0x5231c3(0x413)]][_0x5231c3(0x42c)](_0x2d5e0a);}async[a0_0xe3fdb8(0x582)](_0x5e15a9,_0x3766d4){const _0x4de246=a0_0xe3fdb8;return await this[_0x4de246(0x14e)][_0x4de246(0x52e)][_0x5e15a9[_0x4de246(0x413)]]['leaveGroup'](_0x3766d4);}},Jt=class{constructor(_0x3b08c8){const _0x179ae9=a0_0xe3fdb8;this[_0x179ae9(0x14e)]=_0x3b08c8;}[a0_0xe3fdb8(0x751)](_0x54cf35,_0x1b2202){const _0x18eac6=a0_0xe3fdb8;return this[_0x18eac6(0x14e)][_0x18eac6(0x52e)][_0x54cf35[_0x18eac6(0x413)]][_0x18eac6(0x600)](_0x1b2202);}async[a0_0xe3fdb8(0x579)](_0x3d4ca4){const _0x44a56c=a0_0xe3fdb8;try{return await this[_0x44a56c(0x14e)][_0x44a56c(0x52e)][_0x3d4ca4[_0x44a56c(0x413)]][_0x44a56c(0x4dc)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0xe3fdb8(0x46f)),Vt=class{constructor(_0x518808){const _0x59fe9f=a0_0xe3fdb8;this[_0x59fe9f(0x14e)]=_0x518808;}async[a0_0xe3fdb8(0x72d)](_0xd40872,_0x38c476){const _0x37fe08=a0_0xe3fdb8;return await this['waMonitor']['waInstances'][_0xd40872[_0x37fe08(0x413)]][_0x37fe08(0x72d)](_0x38c476);}async['getScheduleMessage'](_0x1e4d52){const _0x3c9d75=a0_0xe3fdb8;return await this[_0x3c9d75(0x14e)]['waInstances'][_0x1e4d52['instanceName']]['getScheduleMessage']();}async['deleteDoneMessages'](_0x450053){const _0x4a8567=a0_0xe3fdb8;return await this['waMonitor']['waInstances'][_0x450053[_0x4a8567(0x413)]]['deleteDoneMessages']();}async[a0_0xe3fdb8(0x452)](_0x2338b0){const _0xc9a55e=a0_0xe3fdb8;return await this[_0xc9a55e(0x14e)][_0xc9a55e(0x52e)][_0x2338b0[_0xc9a55e(0x413)]][_0xc9a55e(0x452)]();}async[a0_0xe3fdb8(0x6f7)](_0x693c83,_0x9e4458){const _0x4ca58f=a0_0xe3fdb8;return await this[_0x4ca58f(0x14e)][_0x4ca58f(0x52e)][_0x693c83['instanceName']][_0x4ca58f(0x6f7)](_0x9e4458);}async['updateCustomFields'](_0x30a692,_0x12e9d0){const _0x4bdb55=a0_0xe3fdb8;return await this[_0x4bdb55(0x14e)]['waInstances'][_0x30a692['instanceName']][_0x4bdb55(0x47f)](_0x12e9d0);}async[a0_0xe3fdb8(0x755)](_0x2dec12,_0x141a1e){const _0x4556c2=a0_0xe3fdb8;return await this['waMonitor'][_0x4556c2(0x52e)][_0x2dec12['instanceName']][_0x4556c2(0x755)](_0x141a1e);}async[a0_0xe3fdb8(0x257)](_0x4fccbc,_0x1c2f55){const _0x228a3b=a0_0xe3fdb8;return await this[_0x228a3b(0x14e)]['waInstances'][_0x4fccbc[_0x228a3b(0x413)]][_0x228a3b(0x257)](_0x1c2f55);}async[a0_0xe3fdb8(0x265)](_0x119465,_0x2a9b0b){const _0xae004c=a0_0xe3fdb8;return await this[_0xae004c(0x14e)][_0xae004c(0x52e)][_0x119465[_0xae004c(0x413)]][_0xae004c(0x265)](_0x2a9b0b);}async[a0_0xe3fdb8(0x337)](_0x4e58b0,_0x2b43d){const _0x1a32cb=a0_0xe3fdb8;return await this[_0x1a32cb(0x14e)]['waInstances'][_0x4e58b0[_0x1a32cb(0x413)]][_0x1a32cb(0x337)](_0x2b43d);}async['editConversation'](_0x4699d5,_0x212441){const _0x1a63cd=a0_0xe3fdb8;return await this[_0x1a63cd(0x14e)]['waInstances'][_0x4699d5[_0x1a63cd(0x413)]]['editConversation'](_0x212441);}async[a0_0xe3fdb8(0x29f)](_0x367f34,_0x5343fd){const _0x44be7d=a0_0xe3fdb8;return await this[_0x44be7d(0x14e)][_0x44be7d(0x52e)][_0x367f34['instanceName']][_0x44be7d(0x29f)](_0x5343fd);}async['getFlow'](_0x12a6d4,_0x9b2930){const _0x5ab195=a0_0xe3fdb8;return await this[_0x5ab195(0x14e)][_0x5ab195(0x52e)][_0x12a6d4[_0x5ab195(0x413)]][_0x5ab195(0x473)](_0x9b2930[_0x5ab195(0x62f)]);}async[a0_0xe3fdb8(0x4d2)](_0x1ea03c,_0x5085a7){const _0x3c98b4=a0_0xe3fdb8;return await this['waMonitor'][_0x3c98b4(0x52e)][_0x1ea03c[_0x3c98b4(0x413)]][_0x3c98b4(0x4d2)](_0x5085a7);}async[a0_0xe3fdb8(0x30e)](_0x1c879c,_0x1a81b6){const _0x5d06b8=a0_0xe3fdb8;return await this[_0x5d06b8(0x14e)][_0x5d06b8(0x52e)][_0x1c879c[_0x5d06b8(0x413)]]['editFlow'](_0x1a81b6);}async[a0_0xe3fdb8(0x746)](_0x30a8b2,_0x58fcd3){const _0x3459d9=a0_0xe3fdb8;return await this[_0x3459d9(0x14e)][_0x3459d9(0x52e)][_0x30a8b2['instanceName']][_0x3459d9(0x746)](_0x58fcd3);}async[a0_0xe3fdb8(0x451)](_0x55fb55,_0x29faf0){const _0x1329e8=a0_0xe3fdb8;return await this['waMonitor']['waInstances'][_0x55fb55[_0x1329e8(0x413)]][_0x1329e8(0x451)](_0x29faf0);}async['editFlowGroup'](_0x20e7ff,_0x553ca3){const _0x32535b=a0_0xe3fdb8;return await this[_0x32535b(0x14e)]['waInstances'][_0x20e7ff[_0x32535b(0x413)]][_0x32535b(0x482)](_0x553ca3);}async[a0_0xe3fdb8(0x41b)](_0x645b86,_0x5099cd){const _0x493cfa=a0_0xe3fdb8;return await this[_0x493cfa(0x14e)][_0x493cfa(0x52e)][_0x645b86[_0x493cfa(0x413)]]['editFlowCondition'](_0x5099cd);}async[a0_0xe3fdb8(0x232)](_0x14a39f,_0x4b8187){const _0x1f74b5=a0_0xe3fdb8;return await this[_0x1f74b5(0x14e)][_0x1f74b5(0x52e)][_0x14a39f[_0x1f74b5(0x413)]][_0x1f74b5(0x232)](_0x4b8187);}async[a0_0xe3fdb8(0x393)](_0x3babc4,_0x1c2a7e){const _0x271947=a0_0xe3fdb8;return await this[_0x271947(0x14e)][_0x271947(0x52e)][_0x3babc4[_0x271947(0x413)]]['editFlowVariable'](_0x1c2a7e);}async['deleteFlow'](_0x53fbe6,_0x4dfb9b){const _0x496a6f=a0_0xe3fdb8;return await this['waMonitor'][_0x496a6f(0x52e)][_0x53fbe6['instanceName']][_0x496a6f(0x780)](_0x4dfb9b[_0x496a6f(0x62f)]);}async[a0_0xe3fdb8(0x4dd)](_0x4594c9){const _0x112201=a0_0xe3fdb8;return await this[_0x112201(0x14e)][_0x112201(0x52e)][_0x4594c9[_0x112201(0x413)]]['allFlows']();}},Bt=class{constructor(_0x78a591){this['webhookService']=_0x78a591;}async['createWebhook'](_0x33aa39,_0xa1c12b){const _0x5a043b=a0_0xe3fdb8;return this[_0x5a043b(0x4e2)]['create'](_0x33aa39,_0xa1c12b);}async[a0_0xe3fdb8(0x4dc)](_0x47ed9b){const _0x4e6364=a0_0xe3fdb8;return this[_0x4e6364(0x4e2)][_0x4e6364(0x579)](_0x47ed9b);}},Gt=class extends I{constructor(_0x4ee694,_0x1e7aa8){const _0x446084=a0_0xe3fdb8;super(_0x1e7aa8),this[_0x446084(0x194)]=_0x4ee694,this[_0x446084(0x5f2)]=_0x1e7aa8;}async[a0_0xe3fdb8(0x751)](_0x1d51e0,_0x2a4d70){const _0x4362cb=a0_0xe3fdb8;try{return this['dbSettings'][_0x4362cb(0x74c)]?{'insertCount':(await this[_0x4362cb(0x194)][_0x4362cb(0x2ce)]({'_id':_0x2a4d70},{..._0x1d51e0},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x4b8bda){return _0x4b8bda;}}async[a0_0xe3fdb8(0x75e)](_0x4d331d){const _0x4c5fc1=a0_0xe3fdb8;try{if(this[_0x4c5fc1(0x1a8)]['ENABLED']){await this[_0x4c5fc1(0x194)][_0x4c5fc1(0x2ef)]({'_id':_0x4d331d});return;}}catch(_0x553e44){return{'error':_0x553e44};}}async[a0_0xe3fdb8(0x579)](_0x30a423){const _0x9773f4=a0_0xe3fdb8;try{if(this[_0x9773f4(0x1a8)][_0x9773f4(0x74c)])return await this['webhookModel'][_0x9773f4(0x6a9)]({'_id':_0x30a423});}catch{return{};}}},Wt=class extends I{constructor(_0x3fd27a,_0x357528){const _0x5ce070=a0_0xe3fdb8;super(_0x357528),this[_0x5ce070(0x726)]=_0x3fd27a,this[_0x5ce070(0x5f2)]=_0x357528,this[_0x5ce070(0x439)]=_0x357528[_0x5ce070(0x221)]('AUTHENTICATION');}async[a0_0xe3fdb8(0x751)](_0x23361a,_0x1d5e4a){const _0x22ab80=a0_0xe3fdb8;try{if(this[_0x22ab80(0x1a8)]['ENABLED'])return{'insertCount':(await this[_0x22ab80(0x726)][_0x22ab80(0x6f4)]({'_id':_0x1d5e4a},{'$set':{..._0x23361a}},{'upsert':!0x0}))[_0x22ab80(0x18b)]};}catch(_0x529cc9){return{'error':_0x529cc9};}}async[a0_0xe3fdb8(0x1a7)](_0x1fa382,_0x57c46c){const _0x1bde38=a0_0xe3fdb8;try{if(this['dbSettings'][_0x1bde38(0x74c)])return{'insertCount':(await this[_0x1bde38(0x726)][_0x1bde38(0x6a6)](_0x1fa382,{'$set':_0x57c46c},{'upsert':!0x1}))[_0x1bde38(0x18b)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x3ddf74){return{'error':_0x3ddf74};}}async['deleteMany'](_0x429b5d){const _0x1bb2ce=a0_0xe3fdb8;try{if(this[_0x1bb2ce(0x1a8)][_0x1bb2ce(0x74c)])return{'insertCount':(await this[_0x1bb2ce(0x726)][_0x1bb2ce(0x1da)](_0x429b5d))[_0x1bb2ce(0x54d)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x1737da){return{'error':_0x1737da};}}async[a0_0xe3fdb8(0x75e)](_0xee0e92){const _0xa3f562=a0_0xe3fdb8;try{if(this['dbSettings']['ENABLED']){await this[_0xa3f562(0x726)][_0xa3f562(0x2ef)]({'_id':_0xee0e92});return;}}catch(_0x2209ae){return{'error':_0x2209ae};}}async[a0_0xe3fdb8(0x579)](_0x443a76){const _0x5c7a09=a0_0xe3fdb8;try{if(this['dbSettings'][_0x5c7a09(0x74c)])return await this[_0x5c7a09(0x726)][_0x5c7a09(0x6a9)]({'_id':_0x443a76});}catch{return{};}}async[a0_0xe3fdb8(0x59b)](){const _0xe7d262=a0_0xe3fdb8;try{if(this[_0xe7d262(0x1a8)][_0xe7d262(0x74c)])return await this[_0xe7d262(0x726)][_0xe7d262(0x579)]();}catch{return[];}}},zt=class extends I{[a0_0xe3fdb8(0x705)](_0x4f355f){return ta(_0x4f355f);}async['copyDataToNewModel'](_0x328680){const _0x1b0827=a0_0xe3fdb8;try{let _0x22fea8=sa,_0x59c7eb=this[_0x1b0827(0x705)](_0x328680),_0x2c96bb=await _0x22fea8[_0x1b0827(0x579)]({'owner':_0x328680})[_0x1b0827(0x2a0)](),_0x3bb386=[],_0x51f7d8=[];for(let _0x1e4f82 of _0x2c96bb)await _0x59c7eb[_0x1b0827(0x704)](_0x1e4f82[_0x1b0827(0x1ff)])['lean']()||(_0x3bb386[_0x1b0827(0x4fd)](_0x1e4f82),_0x51f7d8[_0x1b0827(0x4fd)](_0x1e4f82[_0x1b0827(0x1ff)]));return _0x3bb386[_0x1b0827(0x736)]>0x0&&await _0x59c7eb[_0x1b0827(0x5b9)](_0x3bb386,{'ordered':!0x1}),{'success':!0x0};}catch(_0x44b9a1){return console[_0x1b0827(0x430)](_0x1b0827(0x76a),_0x44b9a1),{'success':!0x1,'error':_0x44b9a1};}}async[a0_0xe3fdb8(0x75e)](_0x50943e,_0x554f6a){const _0x5e32db=a0_0xe3fdb8;try{let _0x2d2271=this['getFlowModelForOwner'](_0x554f6a),_0x28c4f9=A(_0x50943e[_0x5e32db(0x287)]);return{'deletedCount':(await _0x2d2271[_0x5e32db(0x1da)](_0x28c4f9))[_0x5e32db(0x54d)]};}catch(_0x482395){return{'error':_0x482395?.['toString']()};}}async[a0_0xe3fdb8(0x2ef)](_0x26da28,_0x5742ca){const _0x15de25=a0_0xe3fdb8;try{let _0x133d3b=this[_0x15de25(0x705)](_0x5742ca),_0x53bcd4=A(_0x26da28['where']);return{'deletedCount':(await _0x133d3b[_0x15de25(0x2ef)](_0x53bcd4))[_0x15de25(0x54d)]};}catch(_0x366a25){return{'error':_0x366a25?.[_0x15de25(0x4ff)]()};}}async['updateOne'](_0x4929d7,_0x17674d,_0x47fa0e){const _0x154214=a0_0xe3fdb8;try{return await this[_0x154214(0x705)](_0x47fa0e)[_0x154214(0x663)](_0x4929d7,_0x17674d,{'new':!0x0});}catch(_0x46efae){return console[_0x154214(0x430)](_0x154214(0x349),_0x46efae),null;}}async[a0_0xe3fdb8(0x645)](_0x815d69,_0x472e3d){const _0x4ea069=a0_0xe3fdb8;try{let _0x3c0ec7=this[_0x4ea069(0x705)](_0x472e3d);return await new _0x3c0ec7(_0x815d69)['save']();}catch(_0x51d085){return console[_0x4ea069(0x430)](_0x4ea069(0x1b3),_0x51d085),null;}}async[a0_0xe3fdb8(0x6a6)](_0x5d2ab1,_0x418bec,_0x4bbb08){const _0x50f917=a0_0xe3fdb8;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x4bbb08)[_0x50f917(0x6a6)](_0x5d2ab1,{'$set':_0x418bec}))[_0x50f917(0x18b)]};}catch(_0x3885c1){return console[_0x50f917(0x430)](_0x50f917(0x769),_0x3885c1),{'error':_0x3885c1};}}async[a0_0xe3fdb8(0x59b)](_0x3de3e8,_0x2e5895){const _0x53275f=a0_0xe3fdb8;try{let _0xf48d2f=this[_0x53275f(0x705)](_0x2e5895),_0x22c9ea=A(_0x3de3e8['where']);return await _0xf48d2f[_0x53275f(0x579)](_0x22c9ea)[_0x53275f(0x235)](_0x3de3e8?.[_0x53275f(0x235)]??0x0)[_0x53275f(0x2a0)]();}catch{return[];}}async[a0_0xe3fdb8(0x6a9)](_0x55ea8b,_0x2602a1){const _0x2e1c56=a0_0xe3fdb8;try{let _0x239c40=this[_0x2e1c56(0x705)](_0x2602a1),_0x40aaeb=A(_0x55ea8b[_0x2e1c56(0x287)]);return await _0x239c40[_0x2e1c56(0x6a9)](_0x40aaeb)['lean']();}catch{return null;}}async[a0_0xe3fdb8(0x5e6)](_0x1de51d){const _0x22bfda=a0_0xe3fdb8;try{return await this[_0x22bfda(0x705)](_0x1de51d)[_0x22bfda(0x28e)][_0x22bfda(0x4d6)](),{'success':!0x0};}catch(_0x46ad36){return console[_0x22bfda(0x430)](_0x46ad36),{'success':!0x1,'error':_0x46ad36};}}},Ht=class extends I{[a0_0xe3fdb8(0x518)](_0x39bae7){return oa(_0x39bae7);}async['copyDataToNewModel'](_0x5d1a6d){const _0x5d6c64=a0_0xe3fdb8;try{let _0x542f39=ra,_0x10fcbe=this[_0x5d6c64(0x518)](_0x5d1a6d),_0x145404=await _0x542f39[_0x5d6c64(0x579)]({'owner':_0x5d1a6d})['lean'](),_0x48f00a=[],_0x2ad641=[];for(let _0xa2d38f of _0x145404)await _0x10fcbe['findById'](_0xa2d38f[_0x5d6c64(0x1ff)])[_0x5d6c64(0x2a0)]()||(_0x48f00a[_0x5d6c64(0x4fd)](_0xa2d38f),_0x2ad641[_0x5d6c64(0x4fd)](_0xa2d38f['_id']));return _0x48f00a[_0x5d6c64(0x736)]>0x0&&await _0x10fcbe[_0x5d6c64(0x5b9)](_0x48f00a,{'ordered':!0x1}),{'success':!0x0};}catch(_0x510ea3){return console[_0x5d6c64(0x430)]('Erro\x20ao\x20copiar\x20dados:',_0x510ea3),{'success':!0x1,'error':_0x510ea3};}}async[a0_0xe3fdb8(0x1f7)](_0x16e958){const _0x1e07fe=a0_0xe3fdb8;if(_0x16e958[_0x1e07fe(0x736)]!==0x0)try{return{'insertCount':(await this[_0x1e07fe(0x518)](_0x16e958[0x0][_0x1e07fe(0x3ae)])[_0x1e07fe(0x5b9)]([..._0x16e958]))[_0x1e07fe(0x736)]};}catch(_0x465780){return _0x465780;}}async[a0_0xe3fdb8(0x75e)](_0x569534,_0x21a573){const _0x6ba2c0=a0_0xe3fdb8;try{let _0x152138=this[_0x6ba2c0(0x518)](_0x21a573),_0x4cf4d3=A(_0x569534[_0x6ba2c0(0x287)]);return{'deletedCount':(await _0x152138[_0x6ba2c0(0x1da)](_0x4cf4d3))[_0x6ba2c0(0x54d)]};}catch(_0x1d1787){return{'error':_0x1d1787?.[_0x6ba2c0(0x4ff)]()};}}async[a0_0xe3fdb8(0x2ef)](_0x52ec02,_0x1fb940){const _0x3ed311=a0_0xe3fdb8;try{let _0x16e3a8=this[_0x3ed311(0x518)](_0x1fb940),_0x21dee4=A(_0x52ec02[_0x3ed311(0x287)]);return{'deletedCount':(await _0x16e3a8['deleteOne'](_0x21dee4))['deletedCount']};}catch(_0x1515c6){return{'error':_0x1515c6?.['toString']()};}}async[a0_0xe3fdb8(0x3e6)](_0x5e2bd2,_0x489de2){const _0x414568=a0_0xe3fdb8;try{if(_0x5e2bd2[_0x414568(0x736)]===0x0)return;let _0xa6e385=this[_0x414568(0x518)](_0x489de2),_0x3b8094=_0x5e2bd2[_0x414568(0x716)](_0x53218e=>({'updateOne':{'filter':{'name':_0x53218e[_0x414568(0x62f)],'owner':_0x489de2},'update':{..._0x53218e}}})),{modifiedCount:_0x4f28e1}=await _0xa6e385[_0x414568(0x4cc)](_0x3b8094);return{'insertCount':_0x4f28e1};}catch{return;}}async['updateMany'](_0x5757d6,_0x535e15,_0x444657){const _0x50c6ae=a0_0xe3fdb8;try{return{'modifiedCount':(await this[_0x50c6ae(0x518)](_0x444657)['updateMany'](_0x5757d6,{'$set':_0x535e15}))[_0x50c6ae(0x18b)]};}catch(_0x3aca55){return console[_0x50c6ae(0x430)](_0x50c6ae(0x43c),_0x3aca55),{'error':_0x3aca55};}}async['updateOne'](_0x2428f0,_0x4fafca,_0x4998c4){const _0x559eb7=a0_0xe3fdb8;try{return await this[_0x559eb7(0x518)](_0x4998c4)[_0x559eb7(0x76d)]({'_id':_0x2428f0},{'$set':_0x4fafca},{'new':!0x0,'upsert':!0x0})[_0x559eb7(0x2a0)]();}catch(_0x8d182a){return console[_0x559eb7(0x430)](_0x8d182a),null;}}async[a0_0xe3fdb8(0x579)](_0x1a56e4,_0x4b99c8){const _0x1c7a16=a0_0xe3fdb8;try{return await this['getConversationModelForOwner'](_0x4b99c8)[_0x1c7a16(0x579)](_0x1a56e4)[_0x1c7a16(0x770)]({'lastInteraction':-0x1})[_0x1c7a16(0x2a0)]();}catch{return[];}}async[a0_0xe3fdb8(0x6a9)](_0x775423,_0x54ad82){const _0x1b0c45=a0_0xe3fdb8;try{return await this['getConversationModelForOwner'](_0x54ad82)[_0x1b0c45(0x6a9)]({..._0x775423[_0x1b0c45(0x287)]})['lean']();}catch{return null;}}async['deleteAll'](_0x4d9b7a){const _0x130347=a0_0xe3fdb8;try{return await this[_0x130347(0x518)](_0x4d9b7a)['collection']['drop'](),{'success':!0x0};}catch(_0x4bf351){return console[_0x130347(0x430)](_0x4bf351),{'success':!0x1,'error':_0x4bf351};}}},Kt=class extends I{['getScheduleMessageModelForOwner'](_0x61220b){return na(_0x61220b);}async['copyDataToNewModel'](_0x2c658c){const _0x4a8eea=a0_0xe3fdb8;try{let _0x4c496b=ca,_0x57daeb=this['getScheduleMessageModelForOwner'](_0x2c658c),_0x3eb04d=await _0x4c496b[_0x4a8eea(0x579)]({'owner':_0x2c658c})[_0x4a8eea(0x2a0)](),_0x377be6=[],_0x29bd54=[];for(let _0x3f18d2 of _0x3eb04d)await _0x57daeb['findById'](_0x3f18d2['_id'])[_0x4a8eea(0x2a0)]()||(_0x377be6[_0x4a8eea(0x4fd)](_0x3f18d2),_0x29bd54[_0x4a8eea(0x4fd)](_0x3f18d2['_id']));return _0x377be6['length']>0x0&&await _0x57daeb['insertMany'](_0x377be6,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1e250f){return console[_0x4a8eea(0x430)](_0x4a8eea(0x76a),_0x1e250f),{'success':!0x1,'error':_0x1e250f};}}async[a0_0xe3fdb8(0x645)](_0x3729c9,_0x141612){const _0x52fb59=a0_0xe3fdb8;try{let _0xb6099c=this[_0x52fb59(0x5b8)](_0x141612);return await new _0xb6099c(_0x3729c9)[_0x52fb59(0x53f)]();}catch(_0xea0380){return console[_0x52fb59(0x430)](_0x52fb59(0x1b3),_0xea0380),null;}}async['deleteOne'](_0x243c5f,_0x2f8de9){const _0x4e90d8=a0_0xe3fdb8;try{return await this['getScheduleMessageModelForOwner'](_0x2f8de9)[_0x4e90d8(0x3f6)](_0x243c5f),{};}catch(_0x2cf3bf){return{'error':_0x2cf3bf?.[_0x4e90d8(0x4ff)]()};}}async[a0_0xe3fdb8(0x6f4)](_0x1443c8,_0x495ae9,_0x327359){const _0x1f4e8c=a0_0xe3fdb8;try{return await this[_0x1f4e8c(0x5b8)](_0x327359)['findOneAndUpdate'](_0x1443c8,{'$set':_0x495ae9},{'new':!0x0})['lean']();}catch(_0x383f56){return console[_0x1f4e8c(0x430)](_0x1f4e8c(0x5dd),_0x383f56),null;}}async[a0_0xe3fdb8(0x544)](_0x5a1cce,_0x1234da,_0x1fe117){const _0x4dcc81=a0_0xe3fdb8;try{return await this['getScheduleMessageModelForOwner'](_0x1fe117)[_0x4dcc81(0x663)](_0x5a1cce,_0x1234da,{'new':!0x0})[_0x4dcc81(0x2a0)]();}catch(_0xde8483){return console['error'](_0x4dcc81(0x5dd),_0xde8483),null;}}async['find'](_0x3f3d23,_0x2df720){const _0x31501b=a0_0xe3fdb8;try{return await this['getScheduleMessageModelForOwner'](_0x2df720)[_0x31501b(0x579)](_0x3f3d23['where'])[_0x31501b(0x235)](_0x3f3d23?.[_0x31501b(0x235)]??0x0)[_0x31501b(0x770)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0xe3fdb8(0x6a9)](_0x20c252,_0x3b6e13){const _0x2009ce=a0_0xe3fdb8;try{return await this[_0x2009ce(0x5b8)](_0x3b6e13)['findOne'](_0x20c252[_0x2009ce(0x287)])[_0x2009ce(0x770)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0xe3fdb8(0x704)](_0xe51cf3,_0x3c5094){const _0x459ddb=a0_0xe3fdb8;try{return await this[_0x459ddb(0x5b8)](_0x3c5094)['findById'](_0xe51cf3)['lean']();}catch{return null;}}async[a0_0xe3fdb8(0x1da)](_0x4fc3dc,_0x3c44bc){const _0x158dde=a0_0xe3fdb8;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x3c44bc)[_0x158dde(0x1da)](_0x4fc3dc))['deletedCount']};}catch(_0x5e4af0){return console[_0x158dde(0x430)](_0x158dde(0x399),_0x5e4af0),{'error':_0x5e4af0};}}async['deleteAll'](_0x38a773){const _0x6df360=a0_0xe3fdb8;try{return await this[_0x6df360(0x5b8)](_0x38a773)[_0x6df360(0x28e)][_0x6df360(0x4d6)](),{'success':!0x0};}catch(_0x124a0e){return console['error'](_0x124a0e),{'success':!0x1,'error':_0x124a0e};}}},Qt=class extends I{async[a0_0xe3fdb8(0x3e6)](_0x24feb2,_0x11918a){const _0x5e7822=a0_0xe3fdb8;try{if(this[_0x5e7822(0x1a8)]['ENABLED']){let _0x41a823=await Pe[_0x5e7822(0x76d)]({'_id':_0x11918a},{'$set':_0x24feb2},{'new':!0x0});return console[_0x5e7822(0x21f)](_0x5e7822(0x542),_0x41a823),_0x41a823;}}catch(_0x287410){throw console[_0x5e7822(0x430)](_0x5e7822(0x134),_0x287410),_0x287410;}}async[a0_0xe3fdb8(0x5f7)](_0x9faa0f){const _0x480aff=a0_0xe3fdb8;try{let _0x220f5f=await Pe[_0x480aff(0x704)](_0x9faa0f);return _0x220f5f||(_0x220f5f=new Pe({'_id':_0x9faa0f}),await _0x220f5f[_0x480aff(0x53f)]()),_0x220f5f;}catch(_0x4d47bb){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x4d47bb),null;}}},yr=new v(a0_0xe3fdb8(0x719)),br=new Le(b),Sr=new $t(b),Er=new Qe(b),Cr=new Gt(Qs,b),Mr=new Wt(zs,b),vr=new zt(b),Nr=new kt(b),Rr=new Ht(b),Tr=new Kt(b),Ar=new Qt(b),ce=new $e(br,Sr,Er,Cr,Mr,vr,Rr,Nr,Tr,Ar,N?.['getClient']()),B=new Pt(ss,b,ce),Or=new qt(b,B,ce),Ir=new Jt(B),ms=new Bt(Ir),T=new Vt(B),le=new jt(B,b,ce,ss,Or),G=new Ft(B),x=new Lt(B),q=new Ut(B);yr[a0_0xe3fdb8(0x4aa)]('Module\x20-\x20ON');var hh=require(a0_0xe3fdb8(0x584)),Ts=require('fs'),Mo=R(require(a0_0xe3fdb8(0x37c))),vo=R(require('http')),Ne=class c{static #e;static set[a0_0xe3fdb8(0x185)](_0x17a078){this.#e=_0x17a078;}static get[a0_0xe3fdb8(0x37c)](){const _0x1b6dc1=a0_0xe3fdb8;let {FULLCHAIN:_0x4a619a,PRIVKEY:_0x575210}=b[_0x1b6dc1(0x221)]('SSL_CONF');return Mo[_0x1b6dc1(0x3e2)]({'cert':(0x0,Ts['readFileSync'])(_0x4a619a),'key':(0x0,Ts[_0x1b6dc1(0x3f2)])(_0x575210)},c.#e);}static get[a0_0xe3fdb8(0x664)](){const _0x57de8d=a0_0xe3fdb8;return vo[_0x57de8d(0x3e2)](c.#e);}},de=R(require('fs')),Io=R(require(a0_0xe3fdb8(0x67f))),Re=R(require('axios')),Ae=R(require(a0_0xe3fdb8(0x390))),Oe=require(a0_0xe3fdb8(0x4a8));function xr(){const _0x3a13dc=a0_0xe3fdb8;B[_0x3a13dc(0x5bd)]();let _0x5ddba0=Ae['default']['join'](__dirname,_0x3a13dc(0x2ab));Oo(_0x5ddba0);}function a0_0x1d6e(){const _0x50361d=['variablesToObject','menuExpiredMessage','validate','$dbName','Close\x20connection','stopped','):\x20Enviando\x20localização','reference','?authSource=admin&readPreference=primary&directConnection=true','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','FULLCHAIN','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','groups.update','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','messageTimestamp','fetchBusinessProfile','):\x20Error\x20processing\x20conditions:\x20','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','mkdirSync','group\x20ignored','groupFetchAllParticipating','optionDescription','spawn','deleteReplyOption','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Atualização:\x20','eventEmitter','createSectionsFromValues','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','firstValue','username','name','messaging-history.set','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','ConversationModel','Variáveis\x20não\x20encontradas:','atendimentoAberto','instance','Flow\x20não\x20encontrado','padStart','groupMetadata','messages.set','code','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','Image\x20path:\x20',',\x20pairCode:\x20','fromMe','ReplyOption\x20com\x20ID\x20','.ogv','EMAIL','authService','2149444cCzEjC','port','createAndSave','vote','command','class-validator','pop','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','has','AUTHENTICATION_API_KEY','storePath','uazapiSendContact','unreadcount','variable','JWT','readreceipts','updateMissingTags','lastSend','finish','connect','Erro\x20ao\x20editar\x20agentes:\x20','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','sendMessage','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','fromObject','PRESENCE_UPDATE','linkPreview','delAll','remoteJidsRemaining','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','array','):\x20Editando\x20replyOption...','findByIdAndUpdate','http','removeInstance','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','text/event-stream','):\x20','deleteBlock','pollCreationMessageKey','):\x20transformedCustomFieldVariables','locationMessage','-instances','Output\x20path:\x20','Erro\x20ao\x20inserir\x20chats:','params','pollCreationMessageV2','Subscribed\x20Events:','replaceVariablesLogs','updateMissingLabels','viewOnceMessage','webhookMap','request\x20received\x20in\x20getAutomateSystem','\x1b[41m','updateProfilePicturePrivacy','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','Audio\x20processed','pt-BR','scheduled','groupUpdateDescription','ini','buffer','removeProfilePicture','contacts','applyvaredit','closeExistingConversations','certbot','including\x20timestamp\x20in\x20url:\x20','when','deleteflow','Content-Type','8971kOsujS','Getting\x20profile\x20with\x20jid:\x20','#ff9484','\x1b[34m%s\x1b[0m','updateMissingCustomFields','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','nomecompleto','getOwnPropertyNames','endSession','requestFile','):\x20Enviando\x20texto','deleteInstance','oldToken','status@broadcast','throwAndLogError','Including\x20timestamp\x20in\x20url:\x20','msgRetryCounterCache','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','.doc','folder','.png','CLEANING_INTERVAL','revokeInviteCode','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','\x20after\x20','\x1b[33m','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20não\x20encontrado\x20para\x20cópia','updateMany','listMessage','.wav','findOne','/wa-message','#92ceac','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','chats.update','ContactModel','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','leadInfo.etiquetas','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','moreLogs','Bad\x20Request','qrcode','currency','createConversationforgoToFlow','CONNECTION_UPDATE','stopWhenYouSendMsg','\x1b[47m','readdirSync','hbs','getTicketSystem','readMessage','@broadcast','Converted\x20image\x20deleted','Types','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','Cannot\x20','uazapiSendMenu','HOST','presenceSubscribe','arraybuffer','):\x20Edit\x20schedule\x20message...','Schema','abs','newStoppedUntil','licenca','sendPoll','authorization','#ffc5c7','bearer','out','/wa-connection-update','privacySettings','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','findAndReplace','ObjectId','HH:mm:ss','importChats','URI','ChatModel','updateConversation','routerPath','CHATS_DELETE','Fluxos\x20não\x20estão\x20ativados','processingScheduleMessageId','email','@ffmpeg-installer/ffmpeg','Erro\x20ao\x20iniciar\x20fluxo:\x20','END:VCARD','AppStateSyncKeyData','Temp\x20audio\x20deleted','response','Certbot:\x20','findGroupInfos','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','node-mime-types','menuMessage','rows','scheduleSendAudio','paused','Contacts\x20not\x20found','deleteMessageForEveryone','\x20minutos\x20verificará\x20novas\x20mensagens','toBRL','updateOne','groupHandler','listResponseMessage','updateAgent','WebhookGlobal','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Erro\x20ao\x20adicionar\x20label\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','.mp3','request\x20received\x20in\x20updateCustomFields','test','dayjs','min','removeChatLabel','messageHandle','mediatype','findById','getFlowModelForOwner','updateGroupPicture','Converting\x20image\x20to\x20WebP\x20to\x20sticker','@s.whatsapp.net','Error\x20change\x20group\x20setting','#64c4ff','getMessageModelForOwner','execSync','METHODS','optionName','.mp4','Error\x20updating\x20profile\x20picture','emit','\x5cd+','stopMinutesMaxActives','values','type','map','addReplyOption','):\x20Ignoring\x20group\x20messages.','WA\x20MODULE','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','apply','STATUS_INSTANCE','remove.instance','reconnectAttempts','nome','Error\x20change\x20group\x20description','font','initAuthCreds','apiResponse','messages.upsert','formatVCard','authModel','API_KEY','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','getMessage','certonly','isJidGroup','DATABASE','editScheduleMessage','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Query\x20params:','restartInstance','editConversation','lastReceivedMessage','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','resetReconnectionVariables','length','.webp','badSession','sendMenu','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20tem\x20blocks','Message\x20not\x20found','checkAndUpdateChatStatus','varedit','less','views','ListType','.ppt','slice','saveTextReply','editOperator','editFlowBlock','DOCKER_ENV','responsavelid','):\x20alterando\x20this.AutomateSystem','viewOnceMessageV2Extension','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','ENABLED','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','context','fetchStatus','updateMessage','create','replaceVariablesChat','.xls','hex','updateFlowConfig','scheduleSendText','expression','replaceValue','contactname','):\x20expirationTime:\x20','group-participants.update','debug','$addToSet','delete','pollCreationMessage','):\x20teve\x20mudanças\x20chat.archived:\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','/wa-groups','profilePicture','updateLastSeenPrivacy','host','CHATS_UPDATE','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Button\x20texts\x20cannot\x20be\x20repeated','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Erro\x20ao\x20copiar\x20dados:','getClient','Erro\x20ao\x20buscar\x20conversas:\x20','findOneAndUpdate','collections','):\x20Procurando\x20mensagens\x20para\x20envio','sort','Image\x20converted\x20to\x20WebP','SERVER','authentication','):\x20Editando\x20edição\x20do\x20fluxo...','convertaudio','router','importChatsBatch','etiquetas','locked','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','none','videoMessage','.xlsx','headers','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','deleteFlow','random','last_update','lastCondition','events','reorderReplyOptions','config','pairingCode','API\x20Key\x20from\x20Request:','uazapiDeleteMessage','greater','https://api.openai.com/v1/images/generations','KEY','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Background\x20color\x20is\x20required','PRIVKEY','):\x20Buscando\x20conversas...','flushHeaders','PENDING','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','*\x0a\x0a','chats.upsert','groupInviteCode','arrayUnique','):\x20Conversa\x20está\x20expirada','unhandledRejection','processPollUpdateMessage','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','encoding','TEL','):\x20Erro\x20ao\x20buscar\x20conversas\x20','Certbot\x20executado\x20com\x20sucesso.','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','isRunning','entries','Erro\x20ao\x20atualizar\x20AutomateSystem:','Logger','Resposta\x20do\x20Teste\x20do\x20Proxy:','):\x20customFieldVariables','@g.us','webp','/instance/connectionState','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Sending\x20audio\x20whatsapp','groupLeave','includes','getContactModelForOwner','\x20ao\x20chat\x20','request\x20received\x20in\x20editFlow','messages','unknown\x20operation\x20type\x20[','https://','reviver','saveMediaToFile','getRandomText','DATABASE_CONNECTION_DB_PREFIX_NAME','setHeader','):\x20Buscando\x20todos\x20os\x20fluxos...','vcard','Erro\x20ao\x20editar\x20a\x20conversa:\x20','waMonitor','No\x20participants','Authentication\x20error','readData','):\x20Criando\x20nova\x20conversa[createNewConversation]','connecting','makeCacheableSignalKeyStore','\x1b[44m','delayChatLabel_RETRY_DELAY_MS','silent','jsonwebtoken','SINGLE_SELECT','Error\x20fetching\x20group','contextInfo','instance.','condition','cache','\x20segundos','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','contactsArrayMessage','valid','Error\x20updating\x20setting','call','editflowreply','blockId','Fluxo\x20não\x20encontrado','value','g-t','\x20com\x20sucesso.','Invalid\x20format','):\x20Current\x20Time:\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','Failed\x20to\x20find\x20chat\x20','segundos','getLastMessage','imported','$set','sendList','waitingMenu_replyOptions','notify','app-state-sync-key','loadEnv','messageId','.X-ABLabel:Celular\x0a','#56ccb4','URL','\x20removido\x20do\x20chat\x20','):\x20Ler\x20mensagem','):\x20newSecondValue\x20após\x20replaceVariables:','STORE_CONTACTS','variablesNotFound','stateConnection','):\x20lastBlockId:\x20','#ffffff','GROUPS_UPSERT','app','order','Archiving\x20chat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','@whiskeysockets/baileys','maxActives','modifiedCount','add','varedits','/group','env.KEY\x20!==\x20key','choices','nextBlock:','Revoke\x20error','findParticipants','webhookModel','DATABASE_ENABLED','isLong','participants','connectionUpdate','replace','\x1b[36m%s\x1b[0m','):\x20conversation.status:\x20','):\x20Visualizando\x20AutomateSystem','deleteChat','ignoreGroups','This\x20name\x20','/media','process','end','eventHandler','notas','uazapiSendLocation','#fe9dfe','updateAll','dbSettings','/media/','repository','editflowgroup','repeat','lastDisconnect','match_last_seen','format','getOwnPropertyDescriptor','request\x20received\x20in\x20editConversation','Enter\x20a\x20value\x20in\x20milliseconds','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','audio','instanceCount','upsertedCount','formatBRNumber','syscall','creation','padEnd','LEVEL','mediaMessage','urlOrBase64','Error\x20occurred\x20while\x20archiving\x20chat:\x20','messageSecret','replacer','AutomateSystem','qrcode.updated','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','processConditions','The\x20global\x20api\x20key\x20must\x20be\x20set','connectionState','body','#9568cf','selectedOptions','waitingMenu_ExpiredMessage','whatsappNumbers',',\x20saindo.','capitalizedWords','cleaningUp','Error\x20updating\x20profile\x20name','now','):\x20Criou\x20conversa\x20no\x20startFlow:','\x1b[43m','node-cache','\x22reaction\x22\x20must\x20be\x20an\x20emoji','PLAYED','success','):\x20Alterando\x20fluxo...','scheduleNextCheck','deleteMany','https://chat.whatsapp.com/','sendWhatsAppAudio','reorderBlocks','17799zwBzdF','agents','TYPE','getMIMEType','groupAcceptInvite','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','secondValue','labelId','.jpg','title','refused','protocol','/*.json','Error\x20updating\x20privacy\x20settings','utf-8','isArray','menuType','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','video-cover.png','DaysToDelete','Connection','Error\x20writing\x20file:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','MESSAGES_UPSERT','contact','insert','findLabels','\x20\x1b[0m','findGroupInfo','InstancesAsDisconnectedX','Não\x20respondeu\x20com\x20a\x20enquete.','Last\x20message\x20not\x20found','_Labels','_id','redirect','Erro\x20ao\x20editar\x20o\x20bloco:\x20','SUCCESS','longitude','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','keys','SSL_CONF_PRIVKEY','keep-alive','/exit','AUTHENTICATION','toBrazilianNumberFormat','no-cache','notEqual','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','message','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','delayMessage','Erro\x20ao\x20atualizar\x20conversa:\x20','connection.update','fullName','prototype','Notifying\x20clients\x20for\x20chat:\x20','SERVER_TYPE','#01d0e2','updateReplyOption','start','):\x20conversation.lastInteraction:\x20','/message','caption','role','dataValidate','log','announcement','get','startsWith','LabelModel','https://api.elevenlabs.io/v1/text-to-speech/','load','URL:','online','Bloco\x20com\x20ID\x20','removed','width','express','delaySecMin','unavailable','Valor\x20de\x20find\x20ou\x20replace\x20ausente','NO_IP','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','changeVariables','editFlowVaredit','close','content','limit','groupSetting','jid','exports','statusJidList','REDIS','removeData','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','/events/:instance','Instance\x20\x22','\x1b[0m','uazapiSendText','json','Audio\x20converted\x20to\x20mp4','flowConfig','delay','minutesToClose','DATABASE_CONNECTION_HOST','Erro\x20de\x20reinicialização:\x20','shift','chatLog','ScheduleMessageModel','.gif','):\x20atualização\x20chat:\x20','\x0aitem','?timestamp=','WARN','MAX_RECONNECT_ATTEMPTS','presence.update','):\x20Enviando\x20mídia','):\x20Editando\x20grupo\x20do\x20fluxo...','https://github.com/uazapi/uazapi.git','flowStopMinutes','startFlow','request\x20received\x20in\x20editFlowgroup','fone','saveCreds','isInteger','fetchChats','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','DEBUG','envYaml','forEach','activatedCount','envProcess','\x22\x20not\x20found','getConversation','ms\x20(Attempt\x20','senderKeyDistributionMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','getDelay','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','js-yaml','substring','\x20chats\x20de\x20','chats','):\x20Flow\x20não\x20encontrado','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','sendAudio','not\x20loaded','set','mongoose','):\x20teve\x20mudanças\x20chat.name:\x20','50mb','chat','wuid','Tentativa\x20','createJid','pushName','groupParticipantsUpdate','remoteJid','send.message','lastInteraction','request\x20received\x20in\x20getConversation','FlowRouter','findMessages','detail','menuIgnoreNonVotes','delayChatLabel','lastBlockId','where','query','editedMessage','whatsappNumber','updatePresence','processUazapi','Esse\x20fluxo\x20expirou','collection','DATABASE_CONNECTION_USER','stoppedUntil','stringify','warn','trim','@redis/client','isBase64','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','all','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','status','):\x20Fluxos\x20não\x20estão\x20ativados','stickerMessage','inviteCode',',\x20lastCondition:\x20','request\x20body:\x20','deleteConversation','lean','MESSAGES_UPDATE','editflowblock','updateMissingEtiquetas','saveChatVariables','\x1b[33m%s\x1b[0m','groupValidate','LICENSE_INVALID','remoteJids','groupName','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','downloads','toFile','reaction','replaceVariablesInReplyOptions','sectionsToString','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','verbose','stderr','console','generateHash','):\x20updateResult:','checkAndRestartProcess','\x20-\x20ON:\x20','Erro:','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','announce','SERVER_PORT','Business\x20profile\x20fetched','Erro\x20ao\x20buscar\x20conversa:\x20','/chat','proto','getPrototypeOf','g.us','document','profilePictureUrl','parseInt','replyOptions','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):\x20newFirstValue\x20após\x20replaceVariables:','PORT','The\x20property\x20cannot\x20be\x20empty','/instance','\x20Tentativa\x20de\x20reconexão\x20','editflowvaredit','buttonMessage','replaceOne','):\x20Entrou\x20na\x20função\x20saveReply','release','match','API\x20Key\x20inválida.','documentMessage','label_jid','round','\x20minutos','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Parando\x20aplicação,\x20atualização\x20recebida','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','\x1b[36m','existsSync','chatId','sendReaction','pino','\x22\x20-\x20REMOVED','logger','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','textMessage','AddChatLabel','website','audioWhatsapp','fetchMessages','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Instance\x20logged\x20out','getScheduleMessage','getLabelModelForOwner','):\x20Criando\x20fluxo...','.uazapi.dev','scheduleMessages','picture','deleteOne','long','):\x20teve\x20mudanças\x20chat.displayName:\x20','addresss','sendMessageWithTyping','archiveChat','displayName','insertCount','/create','SendScheduleMessage','action','.TEL;waid=',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','jsonschema','flowStopConversation','contains','Nenhum\x20proxy\x20funcional\x20encontrado\x20ou\x20desabilitado.','replaceVariablesInObject','base64','option','findAndReplaceRegex','filter',',\x20qrcodeCount:\x20','prepareWAMessageMedia','authState','fetchLabels','CONTACTS_UPDATE','pre','namespace','):\x20Deletando\x20fluxo...','#83e421','editFlow','organization','audioMessage','createGroup','poll','\x20not\x20found,\x20retrying\x20in\x20','request\x20received\x20in\x20createFlow','pollErrorMessage','GROUPS_UPDATE','#9ba6ff','truncatedto','://','ephemeralExpiration','/wa-contacts','createNewConversation','Rótulo\x20atualizado:','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','sendContact','findGroups','model','assign','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','trimmed','Output\x20audio\x20path:\x20','key','count','190HrGyhJ','):\x20Erro\x20ao\x20editar\x20agentes:\x20','\x1b[1m\x1b[37m','hGetAll','InstancesAlterarTodas','fetchProfile','Imagem\x20não\x20encontrada','pollMessage','Internal\x20Server\x20Error','importChatsAntigo','imageMessage','post','groupJid','DELIVERY_ACK','normalizeMessage','fetchConversation','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','hDel','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','saveVariable','groupDesc','ex:\x20\x22groupJid=120362@g.us\x22','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','done','put','sendStatus','upperCase','exists','stack','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','prefixCommand','USER','subdomain','Erro\x20ao\x20atualizar\x20o\x20fluxo:','FlowModel','getMinutes','charAt','mentions','updatePrivacySettings','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','unreadCount','):\x20Conversa\x20inserida\x20com\x20sucesso.','editflow','sharp','sendPresenceUpdate','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','numbers','RECONNECT_TIME_FRAME','Missing\x20global\x20api\x20key','dbInstance','\x0a{\x20instance:\x20','Image\x20is\x20base64','next_groupId','integer','):\x20Buscando\x20flow...','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','groups_ignore','\x20is\x20already\x20in\x20use.','findChats','/wa-qrcode','Getting\x20image\x20from\x20url','archive','<subdomain>','CORS_CREDENTIALS','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','created','):\x20Flow\x20desativado','public','variables','\x5c$&','}}\x20->\x20\x22','Temp\x20audio\x20created','writeFileSync','parse','/events','2203615CbOEVE','ephemeralMessage','composing','reconnectTimestamps','updateProfilePicture','leadInfo.customFields','saveConversationToDatabase','sendMedia','\x20minutos...','https','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','subject','#000000','HeaderType','updateReadReceiptsPrivacy','data','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','groups','interval\x20não\x20é\x20um\x20número','list',',\x20fará\x20nova\x20verificação\x20em\x20','contacts.upsert','open','CONNECTION',',\x20valor\x20passado:\x20\x22','backgroundColor','convertedOptions','-----------------proxyUri---------------------','webhook','path','archived','https://jsonip.com','editFlowVariable','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','/wa-message-update','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','equal','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','Erro\x20ao\x20deletar\x20mensagens:','splice','Error\x20in\x20markMessageAsRead:','flowConversation','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','leadInfo','flowname:\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20this.processingScheduleMessageId:\x20','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','waitingForReplyMenu','toLowerCase','image','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','updateProfileName','Message','profile','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','desativadoFluxoAte','Hash\x20to\x20audio\x20name:\x20','\x1b[1m','owner','indexOf','connectionClosed','Unauthorized','/instance/delete','sending','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','flowActive','Error\x20updating\x20message\x20status:','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','REDIS_URI','Erro\x20ao\x20aplicar\x20varedit:\x20','inner','default','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','message_normalized','convertToWebP','height','onWhatsApp','Error\x20updating\x20profile\x20status','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','request\x20received\x20in\x20starFlow','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Audio\x20is\x20base64','):\x20Mensagem\x20já\x20enviada\x20para\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','GROUP_PARTICIPANTS_UPDATE','boolean','The\x20\x22','):\x20debug\x20alterando\x20this.AutomateSystem','writeData','function','options','media','uazapiSendMedia','isURL','readMessageBot','https://uazapi-plugin.bubbleapps.io/','Read\x20messages\x20fail','number','text','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','CHATS_UPSERT','cpf','PREFIX_KEY','ButtonsMessage','Font\x20is\x20required','getChatModelForOwner','#d3a91f','utf8','contact_blacklist','enabled','createServer','formatStatusMessage','):\x20delete\x20=\x20true','Instance\x20Key\x20from\x20DB:','update','uuid','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Read\x20messages','):\x20Procurando\x20conversa','\x22\x20cannot\x20be\x20empty','Parando\x20aplicação...','waitingMenu_text','fetchProfilePicture','getVariablesChat','AUTHENTICATION_JWT_EXPIRIN_IN','createflow','readFileSync',',\x20Comparador:\x20','pollMessageOnDelete','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','findByIdAndDelete','\x1b[40m','viewOnceMessageV2','PASSWORD','):\x20Conversa\x20atualizada\x20em\x20memória','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','CORS_METHODS','):\x20Buscando\x20conversa...','header','Instance\x20restarted','size','rm\x20-rf\x20','getStatus','labels.association','Falta\x20informação\x20para\x20a\x20chamada\x20API','listen','remove','SSL_CONF','toUpperCase','editflowcondition','EXPIRIN_IN','setting','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','SEND_MESSAGE','testProxy','DD/MM\x20HH:mm:ss','uncaughtException','instancias:\x20','Erro\x20de\x20atualização:\x20','instanceName','Error\x20change\x20group\x20name','INFO','compression','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','conversation','./.git/config','READ','editFlowCondition','flattenObject','CONFIGURAÇÃO\x20GERAL:','Error\x20updating\x20participants','):\x20Usando\x20extensão\x20padrão:\x20','isBusiness','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','send','Proxy\x20falhou.\x20Tentando\x20o\x20próximo...','NextBlock','Instância\x20não\x20encontrada.','mentioned','/automate','application/json','audio/ogg','\x20não\x20encontrado\x20para\x20atualização.','4232264gzkswD','toggleEphemeral','joinGroupValidate','customFields','buttonText','error','blockLogs','cwd','removeOlderDisconnectedInstances','sendText','Temp\x20audio\x20path:\x20','Error\x20removing\x20profile\x20picture','Error\x20in\x20chatModify\x20for\x20number\x20','pollUpdateMessage','auth','addChatLabel','shutdown\x20-r\x20now','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','user','Proxy\x20funcionando!','cleanStore','and','fetchContacts','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','No\x20join\x20group\x20invite\x20code\x20or\x20url','processblock','\x22,\x20valor\x20a\x20substituir:\x20\x22','findIndex','sendSticker','true','defineAuthState','OrAnd','/wa-presence','dbServer','editflowvariable','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','connectToWhatsappController','8080','editFlowReply','getAutomateSystem','Processing\x20audio','No\x20invite\x20code','#dfaef0','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','markMessageAsRead','stdout','Erro\x20do\x20Certbot:\x20','uazapiSendAudio','\x1b[37m%s\x1b[0m','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','https://api.ipify.org?format=json','audio/mp4','sendDataWebhook','readFile','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Limpando\x20delayMessage','lastMessage','Chat\x20','\x20do\x20chat\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','string','LOG','mongodb','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','MESSAGES_SET','chatHandle','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','presence','FlowController','Audio\x20is\x20url','loadWebhook','description','getFlow','Mensagem\x20não\x20suportada','password','RemoveChatLabel','!cmd_','userDevicesCache','allflows','\x1b[32m','remote\x20\x22origin\x22','conversationTimestamp','request\x20received\x20in\x20updateFlowConfig','evaluateConditionTest','updateCustomFields','enumerable','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','editFlowGroup','join','DARK','Selecione','flowPrefixCommand','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','max','deleteDoneMessages','isJidUser','Router','Flow\x20already\x20exists','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','/instance/fetchInstances','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','toDataURL','Connection\x20closed\x20for\x20instance:\x20','Profile\x20not\x20found','deleted','status.instance','downloadMediaMessage','fileUrl','lastSendMessage','no.connection','\x20attempts.','QRCODE_UPDATED','notMatchRegex','):\x20isVote:\x20','static','CREDENTIALS','decryptPollVote','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','Type\x20is\x20required','fetchInstances','flowName','/config','):\x20Conversa\x20está\x20expirada\x20-\x20voto','apirequest',',\x20Expiration\x20Time:\x20','child_process','evaluateCondition','info','fetchPrivacySettings','timerId','):\x20Comando\x20desconhecido:\x20','jwt','_p_','recording','demote','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20Enviando\x20áudio','rowId','deleteMessage','item','conditions','errorLog','statusMessage','everyOne','notEmpty','ReplyOptions\x20finais\x20após\x20reordenação:','https://api.openai.com/v1/audio/speech','stopMinutes','\x20minutos.\x20Será\x20às\x20','last','instanceKeys','prepareMediaMessage','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','findFlow','\x20instance\x20does\x20not\x20exist','processvaredits','split','Forbidden','\x20não\x20encontrado','scheduleMessage','getflow','bulkWrite','HttpsProxyAgent','setRestartTimer','dropCollection','state','Unknown\x20message\x20type\x20or\x20empty\x20message','createFlow','getContentType','STORE_MESSAGE','groupCreate','drop','Converted\x20audio\x20deleted','copyBlock','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','mediaSticker','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','findWebhook','allFlows','latitude','sign','augusto.fcs@gmail.com','_Flows','webhookService','_ScheduleMessages','):\x20Enviando\x20enquete','sleep','flow','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','CORS','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','instances','3777067yaYsYl','.txt','Log\x20out\x20instance:\x20','replyOption','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','Group\x20not\x20found','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','output','AutomateFunctions','getBusinessProfile','connectionStatus','fetchLatestBaileysVersion','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','instanceInfo','File\x20written\x20to\x20path:\x20','Cache-Control','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','push','verifiedName','toString','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','errno','Validate','creds.json','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','MessageModel','label','sections','updateStatusPrivacy','selectableCount','groupSettingUpdate','statusCode','mediaKey','logout','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','getProfileName','protocolMessage','):\x20Erro\x20ao\x20criar\x20fluxo\x20','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','updateProfileStatus','delayChatLabel_MAX_RETRIES','Not\x20allowed\x20by\x20CORS','.sendDataWebhook-local','imagechat','getConversationModelForOwner','from','phoneNumber','--standalone','):\x20Falha\x20ao\x20deletar\x20mensagem.','CORS_ORIGIN','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','ERROR:\x20','errors','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','):\x20Bloco\x20copiado:\x20','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','#f64847','Telefone:\x20','Chrome\x20(Linux)','contactMessage',',\x20Segundo\x20Valor:\x20','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x0a*Você\x20respondeu*:\x0a','redis','):\x20Campos\x20a\x20serem\x20atualizados:','waInstances','block','goNextblock','/instance/create','lastmsg','groupToggleEphemeral','/wa-chats','promote','.error','Not\x20Found','waitingMenu_id','Erro\x20ao\x20remover\x20label\x20','footerText','connectToWhatsapp','uazapi','COLOR','sendButtons','save','request\x20received\x20in\x20allFlows','hasOwnProperty','Resultado\x20da\x20atualização:','connectedName','updateOneById','request\x20received\x20in\x20deleteFlow','unlinkSync','findGroup','write','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Type\x20not\x20found','LOG_LEVEL','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','deletedCount','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','ListMessage','src','buttonId','):\x20Editando\x20condição\x20do\x20fluxo...','scheduleSendMedia','\x20horas\x20e\x20','exec','exit','Nenhum\x20chat\x20encontrado\x20para\x20editar.','DATABASE_CONNECTION_PASSWORD','empty','#d8e651','\x20saindo\x20da\x20função','apikey','bodyString','_error','upsertChats','mimetype','!stop','audio/aac','createConversationforStartFlow','getBase64FromMediaMessage','stanzaId','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','video','CONTACTS_UPSERT','replaceVariables','VERBOSE','processgoToFlow','quoted','method','updateMediaMessage','temp-','Desconectado,\x20parando\x20execução.','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','expiration','):\x20Conversas\x20encontradas:','pollOnReplyDelete','sendCommand','error_log','messages.update','gifPlayback','find','#fed428','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','}}\x20->\x20valor\x20não\x20encontrado','sendLocation','messagesSend','metadata','matchRegex','fileName','leaveGroup','joinGroup','express-async-errors','automateSystem','.sendDataWebhook-global','The\x20instance\x20needs\x20to\x20be\x20disconnected','redis://127.0.0.1:6379','editChat','updateChatWithMessage','.ogg','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','Erro\x20ao\x20importar\x20chats:','tags','groupadd','toLocaleString','generate','ERROR','Host\x20de\x20proxy\x20em\x20\x27auth\x27\x20não\x20encontrado,\x20selecionando\x20um\x20proxy\x20aleatório.','stopConversation','#b4ebff','bateu\x20events','Not\x20is\x20business\x20profile','\x1b[33m\x1b[1m','participant','redisEnv','findAll','floor','groupId','leadInfo.desativadoFluxoAte','Variável\x20não\x20encontrada!','groups.upsert','unlocked','createInstance','createConnection','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','chatModify','-whatsapp-api','DB_PREFIX_NAME','BufferJSON','noConnection','Error\x20update\x20group\x20picture','localWebhook','instanceName\x20not\x20provided.','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','data:\x20','available','updateBlock','Deleted\x20','client','StartBot','loadproxy','EMAIL:','updateStopChat','apiName','getScheduleMessageModelForOwner','insertMany','):\x20Entrou\x20na\x20função\x20stop','DisconnectReason','buttons','loadInstance','\x1b[32m%s\x1b[0m','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','object','):\x20Não\x20achou\x20nenhum\x20flow','Deletion\x20failed','):\x20Limpando\x20AutomateSystem','\x20contacts','group','Chrome','SERVER_OFFLINE','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Instance\x20ID:','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','REDIS_ENABLED','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','waUploadToServer','endsWith','use','closed','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Unable\x20to\x20leave\x20the\x20group','$pull','updateGParticipate','DATABASE_CONNECTION_URI','#ffae04','Label\x20','):\x20nextBlock.uazapi.name','originalUrl','459756mnjsQu','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','request\x20received\x20in\x20editFlowvariable','pollCreationMessageV3','^\x5cd+','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','reactionMessage','url','getTime','PROXY','deleteAll','contactHandle','documentWithCaptionMessage','qrCode','readMessages','isListOfNumbers','jpegThumbnail','Error\x20creating\x20group','creds','blocks','TEXT','env','configService','getDevice','addBlock','processApiRequest','request\x20received\x20in\x20deleteDoneMessages','findOrCreate','AutomateSystem\x20não\x20foi\x20inicializado','realVariables','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','isConnected','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','notContains','):\x20Editando\x20bloco...','color','setWebhook','*Pergunta*:\x20\x0a','some','CHATS_SET','Chat\x20com\x20ID\x20','restart','CONTACTS_SET','toNumber','labels.edit','chats.delete','local_map','updateParticipant','cors','SECRET','quotedMessage'];a0_0x1d6e=function(){return _0x50361d;};return a0_0x1d6e();}var Oo=_0x55a915=>{const _0x2fab03=a0_0xe3fdb8;let _0x429b24=de[_0x2fab03(0x3bb)][_0x2fab03(0x6ba)](_0x55a915),_0x3f7dfd=0xc*0x3c*0x3c*0x3e8,_0x5ae745=0x2*0x3c*0x3c*0x3e8,_0x20ddc1=new Date()['getTime']();_0x429b24[_0x2fab03(0x261)](_0x24ee7f=>{const _0x3809f2=_0x2fab03;let _0x11acf0=Ae[_0x3809f2(0x3bb)][_0x3809f2(0x483)](_0x55a915,_0x24ee7f),_0x7dc534=de[_0x3809f2(0x3bb)]['statSync'](_0x11acf0)['birthtime'][_0x3809f2(0x5e4)]();_0x20ddc1-_0x7dc534>_0x3f7dfd&&(de['default']['unlinkSync'](_0x11acf0),console[_0x3809f2(0x21f)](_0x3809f2(0x5b1)+_0x24ee7f));}),setTimeout(()=>Oo(_0x55a915),_0x5ae745);};function Dr(){const _0x36ef86=a0_0xe3fdb8;let _0x174168=new v(_0x36ef86(0x772)),_0xa2341c=(0x0,pe[_0x36ef86(0x3bb)])();_0xa2341c[_0x36ef86(0x5d1)]((0x0,Ao[_0x36ef86(0x3bb)])({'origin'(_0x2f6875,_0x5ad9ec){const _0xb1f53c=_0x36ef86;let {ORIGIN:_0x1b579f}=b['get'](_0xb1f53c(0x4e9));return _0x2f6875||(_0x2f6875='*'),_0x1b579f[_0xb1f53c(0x3af)]('*')!==-0x1||_0x1b579f[_0xb1f53c(0x3af)](_0x2f6875)!==-0x1?_0x5ad9ec(null,!0x0):_0x5ad9ec(new Error(_0xb1f53c(0x515)));},'methods':[...b[_0x36ef86(0x221)](_0x36ef86(0x4e9))[_0x36ef86(0x70d)]],'credentials':b[_0x36ef86(0x221)]('CORS')[_0x36ef86(0x49e)]}),(0x0,pe['urlencoded'])({'extended':!0x0,'limit':_0x36ef86(0x276)}),(0x0,pe[_0x36ef86(0x242)])({'limit':_0x36ef86(0x276)})),_0xa2341c[_0x36ef86(0x5d1)]((_0x2e24c0,_0x26d07a,_0x314d06)=>{const _0x286b1b=_0x36ef86;_0x2e24c0['path'][_0x286b1b(0x222)](_0x286b1b(0x372))?_0x314d06():(0x0,To[_0x286b1b(0x3bb)])()(_0x2e24c0,_0x26d07a,_0x314d06);}),_0xa2341c[_0x36ef86(0x273)]('view\x20engine',_0x36ef86(0x6bb)),_0xa2341c['set'](_0x36ef86(0x740),(0x0,Os[_0x36ef86(0x483)])(ae,'views')),_0xa2341c[_0x36ef86(0x5d1)](pe['default'][_0x36ef86(0x49d)]((0x0,Os[_0x36ef86(0x483)])(ae,_0x36ef86(0x36b)))),_0xa2341c[_0x36ef86(0x5d1)]((_0x17f40d,_0x48ec74,_0x3a7551)=>{const _0x3ff86d=_0x36ef86;let _0x2c1d41=_0x48ec74[_0x3ff86d(0x422)];_0x48ec74['send']=function(_0x218547){const _0xe3f665=_0x3ff86d;if(_0x17f40d[_0xe3f665(0x288)]['convert']===_0xe3f665(0x448)||_0x17f40d[_0xe3f665(0x77e)][_0xe3f665(0x53c)]==='true'){let _0x14eecc=JSON['parse'](_0x218547);_0x218547=JSON['stringify'](_0x401f11(_0x14eecc));}return _0x2c1d41[_0xe3f665(0x71b)](_0x48ec74,[_0x218547]);},_0x3a7551();}),_0xa2341c[_0x36ef86(0x5d1)]('/',vt),_0xa2341c[_0x36ef86(0x5d1)]((_0x4b22ec,_0x1aec9a,_0x386088,_0x200062)=>{const _0x3aadcc=_0x36ef86;if(_0x4b22ec)return _0x386088[_0x3aadcc(0x299)](_0x4b22ec['status']||0x1f4)[_0x3aadcc(0x242)](_0x4b22ec);},(_0x5d181f,_0x570da6,_0x5eb3be)=>{const _0x97a63c=_0x36ef86;let {method:_0x31392c,url:_0x4f4ea0}=_0x5d181f;_0x570da6[_0x97a63c(0x299)](0x194)[_0x97a63c(0x242)]({'status':0x194,'message':_0x97a63c(0x6c2)+_0x31392c[_0x97a63c(0x408)]()+'\x20'+_0x4f4ea0,'error':_0x97a63c(0x537)}),_0x5eb3be();});let _0x401f11=(_0x1ba4cb,_0x2132b6=_0x36ef86(0x4af))=>{const _0x3d685c=_0x36ef86;let _0x1efc21=(_0x2a2d4c,_0x4f4c00=null,_0x5aca50=!0x1)=>{const _0x338d7e=a0_0x3ea8;let _0x488afe={};return Object[_0x338d7e(0x205)](_0x2a2d4c)[_0x338d7e(0x261)](_0xafb300=>{const _0x3fad8a=_0x338d7e;let _0x56b26b=_0x2a2d4c[_0xafb300],_0x3e9753=''+_0x2132b6+_0xafb300;_0x4f4c00&&!_0x5aca50&&(_0x3e9753=_0x4f4c00+'.'+_0xafb300),!_0x56b26b&&_0x56b26b!==0x0&&_0x56b26b!==!0x1||typeof _0x56b26b>'u'?_0x488afe[_0x3e9753]=null:typeof _0x56b26b!=_0x3fad8a(0x5c2)&&!Array[_0x3fad8a(0x1ed)](_0x56b26b)?_0x488afe[_0x3e9753]=_0x56b26b:typeof _0x56b26b==_0x3fad8a(0x5c2)&&!Array['isArray'](_0x56b26b)?_0x488afe=Object['assign'](_0x488afe,_0x1efc21(_0x56b26b,_0x3e9753)):Array[_0x3fad8a(0x1ed)](_0x56b26b)&&(typeof _0x56b26b[0x0]==_0x3fad8a(0x5c2)?(_0x488afe[_0x3e9753]=[],_0x56b26b[_0x3fad8a(0x261)](_0x5c6291=>{const _0x5223c5=_0x3fad8a;_0x488afe[_0x3e9753][_0x5223c5(0x4fd)](_0x1efc21(_0x5c6291,_0x3e9753,!0x0));})):_0x488afe[_0x3e9753]=_0x56b26b);}),_0x488afe;};return Array[_0x3d685c(0x1ed)](_0x1ba4cb)?_0x1ba4cb[_0x3d685c(0x716)](_0x4e6ad0=>_0x1efc21(_0x4e6ad0)):typeof _0x1ba4cb=='object'&&_0x1ba4cb!==null?_0x1efc21(_0x1ba4cb):{};},_0x49169b=b[_0x36ef86(0x221)](_0x36ef86(0x772));Ne['app']=_0xa2341c;let _0xf6616c=Ne[_0x49169b[_0x36ef86(0x1e0)]],_0x260035=_0x36ef86(0x3b7);_0xf6616c[_0x36ef86(0x405)](_0x49169b[_0x36ef86(0x2c8)],()=>{const _0x2784e7=_0x36ef86;_0x174168[_0x2784e7(0x21f)](_0x260035),_0x174168[_0x2784e7(0x21f)](_0x49169b['TYPE'][_0x2784e7(0x408)]()+_0x2784e7(0x2b7)+_0x49169b[_0x2784e7(0x2c8)]);}),xr(),Fs();}var _r=a0_0xe3fdb8(0x255),Pr=Ae[a0_0xe3fdb8(0x3bb)][a0_0xe3fdb8(0x483)](__dirname,a0_0xe3fdb8(0x419)),Te=null;function $r(){return new Promise((_0x47f89d,_0x39bfb8)=>{const _0x221ab1=a0_0x3ea8;de[_0x221ab1(0x3bb)][_0x221ab1(0x460)](Pr,_0x221ab1(0x1ec),(_0x387611,_0x2597f4)=>{const _0x126fee=_0x221ab1;if(_0x387611){Te=_0x387611,_0x47f89d();return;}Io[_0x126fee(0x3bb)][_0x126fee(0x371)](_0x2597f4)[_0x126fee(0x47b)]['url']===_r?(Te=null,_0x47f89d()):(Te=new Error(_0x126fee(0x40c)),_0x47f89d());});});}async function kr(){const _0x329564=a0_0xe3fdb8;try{await $r(),await Is();}catch(_0x23e77a){console[_0x329564(0x430)](_0x329564(0x6d4)+_0x23e77a),process['exit'](0x1);}}kr();async function xo(){const _0x244a5a=a0_0xe3fdb8;let _0x2724da;try{_0x2724da=(await Re[_0x244a5a(0x3bb)][_0x244a5a(0x221)](_0x244a5a(0x392)))[_0x244a5a(0x382)]['ip'];}catch(_0x4aa357){console[_0x244a5a(0x430)](_0x4aa357);try{_0x2724da=(await Re['default'][_0x244a5a(0x221)](_0x244a5a(0x45d)))[_0x244a5a(0x382)]['ip'];}catch(_0x1bc747){console['error'](_0x1bc747);try{_0x2724da=(await Re['default']['get']('http://checkip.dyndns.org'))[_0x244a5a(0x382)][_0x244a5a(0x2d1)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5a67ab){return console['error'](_0x5a67ab),!0x1;}}}return _0x2724da;}var No=0x0;async function Lr(){const _0x22cda5=a0_0xe3fdb8;let _0x253f20=await new oe(b[_0x22cda5(0x221)]('REDIS'))[_0x22cda5(0x4c1)]();return console['log'](_0x22cda5(0x411),_0x253f20[_0x22cda5(0x736)]),_0x253f20['length'];}function jr(_0x1bf7ae){const _0x41b6b3=a0_0xe3fdb8;let _0x3db2ff=_0x1bf7ae[_0x41b6b3(0x221)](_0x41b6b3(0x772))[_0x41b6b3(0x17b)],_0x58f7e5=_0x1bf7ae[_0x41b6b3(0x221)]('SSL_CONF'),_0xad65c;if(_0x3db2ff){let _0x17e437=_0x3db2ff[_0x41b6b3(0x2d1)](/\/\/(.*?)\./);_0x17e437&&_0x17e437[0x1]&&(_0xad65c=_0x17e437[0x1]);}if(!_0xad65c&&_0x58f7e5&&_0x58f7e5[_0x41b6b3(0x619)]){let _0x58038f=_0x58f7e5[_0x41b6b3(0x619)][_0x41b6b3(0x4c7)]('/'),_0x190442=_0x58038f[_0x58038f['length']-0x2];if(_0x190442){let _0x2b8451=_0x190442[_0x41b6b3(0x4c7)]('.');_0x2b8451['length']>0x2&&(_0xad65c=_0x2b8451[0x0]);}}return _0xad65c;}var vs=jr(b);async function Fr(){const _0x46627a=a0_0xe3fdb8;let _0x51705a=b[_0x46627a(0x221)](_0x46627a(0x23a)),_0x28b57d=b[_0x46627a(0x221)](_0x46627a(0x209))[_0x46627a(0x727)][_0x46627a(0x78c)],_0x21d283=b[_0x46627a(0x221)](_0x46627a(0x407)),_0x4b64c9=await xo(),_0x440ed7=b[_0x46627a(0x221)]('SERVER')[_0x46627a(0x2c8)],_0x3f3b71=b['get'](_0x46627a(0x772))['URL'];try{let _0x115edb={'ip':_0x4b64c9||null,'redis_enable':_0x51705a?.[_0x46627a(0x74c)]||null,'apikey':_0x28b57d||null,'ssl':_0x21d283?.[_0x46627a(0x78f)]||null,'lastupdate':Do||null,'port':_0x440ed7||null,'gitInstallError':Te?.[_0x46627a(0x20e)]||null,'url':_0x3f3b71||null};if(console[_0x46627a(0x21f)]('ip:\x20',_0x115edb['ip']),_0x51705a&&_0x51705a[_0x46627a(0x74c)]){let _0x4a9fd5=await Lr();_0x115edb[_0x46627a(0x1b6)]=_0x4a9fd5||null;}for(let _0x4b5af1 in _0x115edb)_0x115edb[_0x46627a(0x541)](_0x4b5af1)&&_0x4b5af1!=='ip'&&(_0x115edb[_0x4b5af1]=JSON[_0x46627a(0x291)](_0x115edb[_0x4b5af1]));return(await Re[_0x46627a(0x3bb)][_0x46627a(0x333)](_0x46627a(0x481),_0x115edb))[_0x46627a(0x382)];}catch(_0x278ebc){return console[_0x46627a(0x430)](_0x278ebc),!0x1;}}var As=!0x1,Do=0x223,qr=0x3,Ro=0x1b7740;async function Is(){const _0x4de8b9=a0_0xe3fdb8;if(!await xo())return console['error'](_0x4de8b9(0x57b)),_0x4de8b9(0x22f);let _0x1c7e45=await Fr();if(_0x1c7e45){if(_0x1c7e45[_0x4de8b9(0x6e7)][_0x4de8b9(0x6cb)]===!0x0){b['get']('SSL_CONF')[_0x4de8b9(0x78f)][_0x4de8b9(0x13f)](_0x4de8b9(0x366))&&_0x1c7e45[_0x4de8b9(0x6e7)][_0x4de8b9(0x348)]&&(await Vr(_0x1c7e45[_0x4de8b9(0x6e7)][_0x4de8b9(0x348)],Jr),await Br(_0x4de8b9(0x4e0),_0x1c7e45[_0x4de8b9(0x6e7)][_0x4de8b9(0x348)]),console['log'](_0x4de8b9(0x1e3)),setTimeout(()=>Wr(),0x2710)),Te===null&&_0x1c7e45[_0x4de8b9(0x6e7)][_0x4de8b9(0x782)]-Do>0x0&&await Ur(),As||(As=!0x0,Dr());let _0x40786c=0x24*0x3c*0x3c,_0x3dab4d=_0x1c7e45[_0x4de8b9(0x6e7)][_0x4de8b9(0x16f)]>_0x40786c?_0x40786c:_0x1c7e45[_0x4de8b9(0x6e7)][_0x4de8b9(0x16f)],_0x9e7982=Number(_0x3dab4d);if(isNaN(_0x9e7982)){console[_0x4de8b9(0x430)](_0x4de8b9(0x385));return;}let _0x4605c6=Math[_0x4de8b9(0x59c)](_0x9e7982/0xe10),_0x33fc72=Math['floor'](_0x9e7982%0xe10/0x3c),_0x5d7660=new Date(Date[_0x4de8b9(0x1d1)]()+_0x9e7982*0x3e8);setTimeout(Is,_0x9e7982*0x3e8);let _0x22620c=_0x5174e5=>_0x5174e5['toString']()[_0x4de8b9(0x637)](0x2,'0'),_0x290989=_0x4de8b9(0x368)+_0x22620c(_0x4605c6)+_0x4de8b9(0x554)+_0x22620c(_0x33fc72)+_0x4de8b9(0x4bf)+_0x22620c(_0x5d7660['getHours']())+':'+_0x22620c(_0x5d7660[_0x4de8b9(0x34b)]())+'.';console['log'](_0x290989);}else return console[_0x4de8b9(0x21f)](_0x4de8b9(0x396)),As&&(console[_0x4de8b9(0x21f)](_0x4de8b9(0x5ca)),process[_0x4de8b9(0x556)]()),_0x4de8b9(0x2a7);}else{if(No++,No<qr)console[_0x4de8b9(0x21f)](_0x4de8b9(0x512)+Ro/0xea60+_0x4de8b9(0x37b)),setTimeout(Is,Ro);else return console[_0x4de8b9(0x430)](_0x4de8b9(0x2aa)),_0x4de8b9(0x5c9);}}async function Ur(){const _0xd67553=a0_0xe3fdb8;console[_0xd67553(0x21f)](_0xd67553(0x2d8));let _0x5a3b90=(0x0,Oe[_0xd67553(0x626)])(_0xd67553(0x296),{'shell':!0x0});_0x5a3b90[_0xd67553(0x458)]['on'](_0xd67553(0x382),_0x282b4f=>{const _0x4f85a4=_0xd67553;console[_0x4f85a4(0x21f)](_0x4f85a4(0x629)+_0x282b4f);}),_0x5a3b90[_0xd67553(0x2b2)]['on']('data',_0x3cc8c8=>{const _0x59355a=_0xd67553;console[_0x59355a(0x430)](_0x59355a(0x412)+_0x3cc8c8);}),_0x5a3b90['on'](_0xd67553(0x556),_0xf0387a=>{const _0x5c2d7b=_0xd67553;_0xf0387a!==0x0?console[_0x5c2d7b(0x430)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0xf0387a):console[_0x5c2d7b(0x21f)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x5c2d7b(0x21f)](_0x5c2d7b(0x3ec)),setTimeout(()=>process['exit'](),0x2710);});}var Jr=Ae[a0_0xe3fdb8(0x3bb)]['join'](__dirname,'env.yml');async function Vr(_0x34e673,_0xea3299){const _0x2c2c90=a0_0xe3fdb8;let _0x224481=Gr();_0x34e673=_0x34e673[_0x2c2c90(0x199)](_0x2c2c90(0x2ec),'');try{let _0x99dce7=de[_0x2c2c90(0x3bb)][_0x2c2c90(0x3f2)](_0xea3299,_0x2c2c90(0x3df));_0x99dce7=_0x99dce7[_0x2c2c90(0x199)](/<apikey>/,_0x224481),_0x99dce7=_0x99dce7['replace'](/<subdomain>/g,_0x34e673),de[_0x2c2c90(0x3bb)][_0x2c2c90(0x370)](_0xea3299,_0x99dce7,_0x2c2c90(0x3df)),console[_0x2c2c90(0x21f)](_0x2c2c90(0x45c));}catch(_0x435316){console[_0x2c2c90(0x430)](_0x2c2c90(0x3f5),_0x435316);}}function Br(_0x28e3f8,_0x227faf){return new Promise((_0xd90c43,_0x3adac6)=>{const _0x218c62=a0_0x3ea8;let _0x3d79a6=(0x0,Oe[_0x218c62(0x626)])(_0x218c62(0x685),[_0x218c62(0x72a),_0x218c62(0x51b),'-m',_0x28e3f8,'--agree-tos','-d',_0x227faf]);_0x3d79a6['stdout']['on'](_0x218c62(0x382),_0x169c91=>{const _0x4f176e=_0x218c62;console['log'](_0x4f176e(0x6e8)+_0x169c91[_0x4f176e(0x4ff)]());}),_0x3d79a6['stderr']['on'](_0x218c62(0x382),_0x10c589=>{const _0x5efbc6=_0x218c62;console['error'](_0x5efbc6(0x459)+_0x10c589[_0x5efbc6(0x4ff)]());}),_0x3d79a6['on'](_0x218c62(0x233),_0x400422=>{const _0x161ead=_0x218c62;_0x400422!==0x0?(console[_0x161ead(0x430)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x400422),_0x3adac6(_0x161ead(0x621)+_0x400422)):(console['log'](_0x161ead(0x130)),_0xd90c43());});});}function Gr(_0x56e0bf=0x32){const _0x58cec7=a0_0xe3fdb8;let _0x2efde0=_0x58cec7(0x69b),_0x3d7735='';for(let _0x3191f9=0x0;_0x3191f9<_0x56e0bf;_0x3191f9++)_0x3d7735+=_0x2efde0[_0x58cec7(0x34c)](Math[_0x58cec7(0x59c)](Math[_0x58cec7(0x781)]()*_0x2efde0['length']));return _0x3d7735;}function Wr(){const _0x74778b=a0_0xe3fdb8;(0x0,Oe[_0x74778b(0x555)])(_0x74778b(0x43b),(_0x1b6031,_0x3999d3,_0x1bbb4c)=>{const _0x3e52e6=_0x74778b;if(_0x1b6031){console['error'](_0x3e52e6(0x4b2)+_0x1b6031);return;}if(_0x1bbb4c){console[_0x3e52e6(0x430)](_0x3e52e6(0x248)+_0x1bbb4c);return;}console['log']('Reinicialização\x20iniciada:\x20'+_0x3999d3);});}0x0&&(module[a0_0xe3fdb8(0x238)]={'subdomain':subdomain});