const a0_0xc869c4=a0_0x3de4;(function(_0x2aff19,_0x3b2ed4){const _0x27bce1=a0_0x3de4,_0x11596c=_0x2aff19();while(!![]){try{const _0x18bc60=parseInt(_0x27bce1(0x6ed))/0x1*(-parseInt(_0x27bce1(0x31c))/0x2)+-parseInt(_0x27bce1(0x548))/0x3+-parseInt(_0x27bce1(0x83b))/0x4*(-parseInt(_0x27bce1(0x84f))/0x5)+parseInt(_0x27bce1(0x230))/0x6+parseInt(_0x27bce1(0x561))/0x7*(-parseInt(_0x27bce1(0x256))/0x8)+-parseInt(_0x27bce1(0x4f1))/0x9*(parseInt(_0x27bce1(0x2ff))/0xa)+parseInt(_0x27bce1(0x382))/0xb;if(_0x18bc60===_0x3b2ed4)break;else _0x11596c['push'](_0x11596c['shift']());}catch(_0x103445){_0x11596c['push'](_0x11596c['shift']());}}}(a0_0x460b,0xef757));var Wi=Object[a0_0xc869c4(0x5de)],Ve=Object[a0_0xc869c4(0x345)],zi=Object[a0_0xc869c4(0x1db)],Hi=Object[a0_0xc869c4(0x590)],Ki=Object['getPrototypeOf'],Qi=Object[a0_0xc869c4(0x5e8)][a0_0xc869c4(0xd5)],Yi=(_0x4454fa,_0x3caafa)=>{for(var _0x32c85c in _0x3caafa)Ve(_0x4454fa,_0x32c85c,{'get':_0x3caafa[_0x32c85c],'enumerable':!0x0});},Bs=(_0x3c4889,_0x258d69,_0x56a37f,_0x3e8f14)=>{const _0x4e6073=a0_0xc869c4;if(_0x258d69&&typeof _0x258d69==_0x4e6073(0xfe)||typeof _0x258d69==_0x4e6073(0x597)){for(let _0x5c7cd6 of Hi(_0x258d69))!Qi[_0x4e6073(0x687)](_0x3c4889,_0x5c7cd6)&&_0x5c7cd6!==_0x56a37f&&Ve(_0x3c4889,_0x5c7cd6,{'get':()=>_0x258d69[_0x5c7cd6],'enumerable':!(_0x3e8f14=zi(_0x258d69,_0x5c7cd6))||_0x3e8f14['enumerable']});}return _0x3c4889;},I=(_0x5d2b59,_0x32ac0c,_0x4a5000)=>(_0x4a5000=_0x5d2b59!=null?Wi(Ki(_0x5d2b59)):{},Bs(_0x32ac0c||!_0x5d2b59||!_0x5d2b59[a0_0xc869c4(0x6ec)]?Ve(_0x4a5000,a0_0xc869c4(0xef),{'value':_0x5d2b59,'enumerable':!0x0}):_0x4a5000,_0x5d2b59)),Xi=_0x55548e=>Bs(Ve({},a0_0xc869c4(0x6ec),{'value':!0x0}),_0x55548e),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>se}),module[a0_0xc869c4(0x19c)]=Xi(gr);var Ui=I(require(a0_0xc869c4(0x349))),zs=require('fs'),Hs=require('js-yaml'),Ks=require(a0_0xc869c4(0x814)),Ge=require(a0_0xc869c4(0x814)),ce=process['cwd'](),Se=(0x0,Ge[a0_0xc869c4(0x29a)])(ce,a0_0xc869c4(0x5a7)),Ws=(0x0,Ge[a0_0xc869c4(0x29a)])(ce,'src'),fn=(0x0,Ge[a0_0xc869c4(0x29a)])(ce,a0_0xc869c4(0x24f),a0_0xc869c4(0x6e8)),us=class{constructor(){this['loadEnv']();}[a0_0xc869c4(0x1d4)](_0x4f4af1){const _0x159d05=a0_0xc869c4;return this[_0x159d05(0x515)][_0x4f4af1];}[a0_0xc869c4(0x3db)](){const _0x50a429=a0_0xc869c4;this['env']=process[_0x50a429(0x515)]?.['DOCKER_ENV']!==_0x50a429(0x611)?this[_0x50a429(0x228)]():this['envProcess'](),process[_0x50a429(0x515)]?.[_0x50a429(0x6b3)]===_0x50a429(0x611)&&(this[_0x50a429(0x515)]['SERVER']['TYPE']='http',this['env'][_0x50a429(0x81d)][_0x50a429(0x458)]=Number[_0x50a429(0x826)](process[_0x50a429(0x515)]?.[_0x50a429(0x68a)]??_0x50a429(0x1a9)));}[a0_0xc869c4(0x228)](){const _0x4f1d00=a0_0xc869c4;return(0x0,Hs[_0x4f1d00(0x556)])((0x0,zs[_0x4f1d00(0x275)])((0x0,Ks['join'])(Ws,_0x4f1d00(0x77e)),{'encoding':_0x4f1d00(0x6e5)}));}[a0_0xc869c4(0x318)](){const _0x37973e=a0_0xc869c4;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number[_0x37973e(0x826)](process['env'][_0x37973e(0x68a)]),'URL':process[_0x37973e(0x515)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x37973e(0x515)][_0x37973e(0x25b)][_0x37973e(0x63b)](','),'METHODS':process[_0x37973e(0x515)][_0x37973e(0x593)]['split'](','),'CREDENTIALS':process[_0x37973e(0x515)]?.['CORS_CREDENTIALS']===_0x37973e(0x611)},'SSL_CONF':{'PRIVKEY':process[_0x37973e(0x515)]?.[_0x37973e(0x25f)],'FULLCHAIN':process[_0x37973e(0x515)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x37973e(0x136)](process[_0x37973e(0x515)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x37973e(0x826)](process[_0x37973e(0x515)][_0x37973e(0x1de)]):void 0x0,'MESSAGES':process[_0x37973e(0x515)]?.['STORE_MESSAGE']===_0x37973e(0x611),'CONTACTS':process['env']?.[_0x37973e(0x2bf)]===_0x37973e(0x611),'CHATS':process[_0x37973e(0x515)]?.[_0x37973e(0xf6)]===_0x37973e(0x611)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x37973e(0x756)],'PORT':Number[_0x37973e(0x826)](process['env']?.[_0x37973e(0x756)]),'USER':process[_0x37973e(0x515)][_0x37973e(0xcc)],'PASSWORD':process[_0x37973e(0x515)][_0x37973e(0x508)],'URI':process[_0x37973e(0x515)][_0x37973e(0x2b4)],'DB_PREFIX_NAME':process[_0x37973e(0x515)][_0x37973e(0x5f1)]},'ENABLED':process[_0x37973e(0x515)]?.[_0x37973e(0x4d9)]===_0x37973e(0x611)},'REDIS':{'ENABLED':process[_0x37973e(0x515)]?.['REDIS_ENABLED']===_0x37973e(0x611),'URI':process[_0x37973e(0x515)][_0x37973e(0x63c)]||_0x37973e(0x119),'PREFIX_KEY':process[_0x37973e(0x515)]['REDIS_PREFIX_KEY']||_0x37973e(0x684)},'LOG':{'LEVEL':process[_0x37973e(0x515)]?.['LOG_LEVEL']['split'](','),'COLOR':process[_0x37973e(0x515)]?.[_0x37973e(0x2e8)]===_0x37973e(0x611)},'PROXY':process[_0x37973e(0x515)]?.[_0x37973e(0x542)]===_0x37973e(0x611),'AUTHENTICATION':{'TYPE':process[_0x37973e(0x515)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x37973e(0x515)][_0x37973e(0x54b)]},'JWT':{'EXPIRIN_IN':Number[_0x37973e(0x136)](process['env']?.[_0x37973e(0x84c)])?Number['parseInt'](process[_0x37973e(0x515)][_0x37973e(0x84c)]):0xe10,'SECRET':process['env'][_0x37973e(0x4be)]}}};}},S=new us(),ji=I(require(a0_0xc869c4(0x841))),ye=I(require(a0_0xc869c4(0x37d))),Vs=require(a0_0xc869c4(0x814)),ds=I(require(a0_0xc869c4(0x16b))),ps=(_0x2261f9=>(_0x2261f9[a0_0xc869c4(0xe8)]=a0_0xc869c4(0x132),_0x2261f9['INFO']=a0_0xc869c4(0x421),_0x2261f9[a0_0xc869c4(0x536)]=a0_0xc869c4(0x2c7),_0x2261f9[a0_0xc869c4(0x4b3)]=a0_0xc869c4(0x475),_0x2261f9[a0_0xc869c4(0x2f9)]=a0_0xc869c4(0x6a0),_0x2261f9[a0_0xc869c4(0x3e6)]=a0_0xc869c4(0x6d4),_0x2261f9[a0_0xc869c4(0x292)]=a0_0xc869c4(0x7ef),_0x2261f9))(ps||{}),Qs=(_0x47300d=>(_0x47300d[a0_0xc869c4(0xe8)]=a0_0xc869c4(0x3a7),_0x47300d['DARK']=a0_0xc869c4(0x66c),_0x47300d[a0_0xc869c4(0x6d9)]=a0_0xc869c4(0x410),_0x47300d[a0_0xc869c4(0x536)]='\x1b[33m%s\x1b[0m',_0x47300d[a0_0xc869c4(0x4b3)]=a0_0xc869c4(0x807),_0x47300d[a0_0xc869c4(0x2f9)]='\x1b[36m%s\x1b[0m',_0x47300d['VERBOSE']=a0_0xc869c4(0x42c),_0x47300d))(Qs||{}),Ys=(_0x172841=>(_0x172841[a0_0xc869c4(0xe8)]='LOG',_0x172841[a0_0xc869c4(0x536)]=a0_0xc869c4(0x536),_0x172841[a0_0xc869c4(0x6d9)]='INFO',_0x172841['DARK']=a0_0xc869c4(0x292),_0x172841[a0_0xc869c4(0x4b3)]=a0_0xc869c4(0x4b3),_0x172841[a0_0xc869c4(0x2f9)]=a0_0xc869c4(0x2f9),_0x172841[a0_0xc869c4(0x3e6)]=a0_0xc869c4(0x3e6),_0x172841))(Ys||{}),Xs=(_0x5928e7=>(_0x5928e7[a0_0xc869c4(0xe8)]=a0_0xc869c4(0x779),_0x5928e7['INFO']='\x1b[44m',_0x5928e7['WARN']=a0_0xc869c4(0x7bf),_0x5928e7['DARK']=a0_0xc869c4(0x6b1),_0x5928e7[a0_0xc869c4(0x4b3)]=a0_0xc869c4(0x17b),_0x5928e7['DEBUG']=a0_0xc869c4(0x507),_0x5928e7[a0_0xc869c4(0x3e6)]=a0_0xc869c4(0x7ad),_0x5928e7))(Xs||{}),$=class{constructor(_0x3f95ed=a0_0xc869c4(0x4cc)){this['context']=_0x3f95ed,this['configService']=S;}['setContext'](_0x172a50){this['context']=_0x172a50;}[a0_0xc869c4(0x48d)](_0x432c76,_0x4693a1){const _0x505874=a0_0xc869c4;let _0x30b08d=[];this[_0x505874(0x3a6)][_0x505874(0x1d4)]('LOG')['LEVEL']['forEach'](_0x339369=>_0x30b08d['push'](Ys[_0x339369]));let _0x226d6a=typeof _0x432c76;_0x30b08d[_0x505874(0x49c)](_0x4693a1)&&(S[_0x505874(0x1d4)]('LOG')[_0x505874(0x725)]?(console[_0x505874(0x114)](_0x505874(0x161)+Qs[_0x4693a1],_0x505874(0x212),(0x0,ds[_0x505874(0xef)])()[_0x505874(0x11c)]('DD/MM\x20HH:mm:ss'),_0x505874(0x50d),ps[_0x4693a1]+Xs[_0x4693a1]+_0x505874(0x161),_0x4693a1+_0x505874(0x7b0),_0x505874(0x733),this[_0x505874(0x5ed)]+_0x505874(0x50d),ps[_0x4693a1],_0x226d6a!=='object'?_0x432c76:'',_0x505874(0x50d)),_0x226d6a===_0x505874(0xfe)&&console['log'](_0x432c76,'\x0a')):console[_0x505874(0x114)]((0x0,ds[_0x505874(0xef)])()[_0x505874(0x11c)](_0x505874(0x7d1)),_0x4693a1+'\x20',''+this[_0x505874(0x5ed)],_0x432c76));}[a0_0xc869c4(0x114)](_0x540e24){const _0x307fdf=a0_0xc869c4;this[_0x307fdf(0x48d)](_0x540e24,_0x307fdf(0xe8));}['info'](_0x20ecf9){const _0x142702=a0_0xc869c4;this[_0x142702(0x48d)](_0x20ecf9,_0x142702(0x6d9));}[a0_0xc869c4(0x1ae)](_0x4c1555){const _0x10da4f=a0_0xc869c4;this['console'](_0x4c1555,_0x10da4f(0x536));}[a0_0xc869c4(0x3d2)](_0x359902){const _0x26d08f=a0_0xc869c4;this[_0x26d08f(0x48d)](_0x359902,_0x26d08f(0x4b3));}[a0_0xc869c4(0x5a1)](_0x16babc){const _0x3d1921=a0_0xc869c4;this[_0x3d1921(0x48d)](_0x16babc,_0x3d1921(0x3e6));}[a0_0xc869c4(0x715)](_0x9ba2d2){const _0x55e063=a0_0xc869c4;this[_0x55e063(0x48d)](_0x9ba2d2,_0x55e063(0x2f9));}[a0_0xc869c4(0x53e)](_0x3ad3e2){const _0x5b2550=a0_0xc869c4;this[_0x5b2550(0x48d)](_0x3ad3e2,_0x5b2550(0x292));}};function Zs(){const _0x1ce1ad=a0_0xc869c4;process['on'](_0x1ce1ad(0x7ea),(_0x3f4e44,_0x25d944)=>{const _0x5952fe=_0x1ce1ad;new $('uncaughtException')[_0x5952fe(0x3d2)]({'origin':_0x25d944,'stderr':process[_0x5952fe(0x6af)]['fd'],'error':_0x3f4e44});}),process['on'](_0x1ce1ad(0x461),(_0x39881f,_0x3d20dd)=>{const _0x301d4c=_0x1ce1ad;new $(_0x301d4c(0x461))[_0x301d4c(0x3d2)]({'origin':_0x3d20dd,'stderr':process[_0x301d4c(0x6af)]['fd'],'error':_0x39881f});});}var ea=I(require(a0_0xc869c4(0x263))),hs=new ea[(a0_0xc869c4(0xef))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require('mongoose'),Te=I(require(a0_0xc869c4(0x3cf))),Be=new $('Db\x20Connection'),L=S[a0_0xc869c4(0x1d4)](a0_0xc869c4(0x661)),T=L[a0_0xc869c4(0x29e)]?L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x4c8)]?Te['default']['createConnection'](L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x4c8)],{'dbName':L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x668)]+a0_0xc869c4(0x698)}):Te[a0_0xc869c4(0xef)][a0_0xc869c4(0x77b)](a0_0xc869c4(0x4b5)+L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x13f)]+':'+L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x458)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x313)],'pass':L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x25e)],'dbName':L[a0_0xc869c4(0x7a6)]['DB_PREFIX_NAME']+a0_0xc869c4(0x698)}):null;L[a0_0xc869c4(0x29e)]&&Be[a0_0xc869c4(0x7b4)](a0_0xc869c4(0x49d)+T[a0_0xc869c4(0x306)]);var Y=L['ENABLED']?L['CONNECTION']['URI']?Te[a0_0xc869c4(0xef)][a0_0xc869c4(0x77b)](L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x4c8)],{'dbName':'cachedData-whatsapp'}):Te[a0_0xc869c4(0xef)][a0_0xc869c4(0x77b)]('mongodb://'+L['CONNECTION'][a0_0xc869c4(0x13f)]+':'+L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x458)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0xc869c4(0x7a6)]['USER'],'pass':L[a0_0xc869c4(0x7a6)][a0_0xc869c4(0x25e)],'dbName':a0_0xc869c4(0xeb)}):null;function a0_0x3de4(_0x2b5d3f,_0x5dca2d){const _0x460b25=a0_0x460b();return a0_0x3de4=function(_0x3de4a5,_0x29d4aa){_0x3de4a5=_0x3de4a5-0xc2;let _0x488698=_0x460b25[_0x3de4a5];return _0x488698;},a0_0x3de4(_0x2b5d3f,_0x5dca2d);}Y&&Be['info']('ON\x20-\x20dbName:\x20'+Y[a0_0xc869c4(0x306)]),process['on'](a0_0xc869c4(0x32f),()=>{const _0x2fa4ba=a0_0xc869c4;T&&T[_0x2fa4ba(0x6e6)](()=>{const _0xc15a1d=_0x2fa4ba;Be['info'](_0xc15a1d(0x7d4));}),Y&&Y['close'](()=>{const _0x15147e=_0x2fa4ba;Be[_0x15147e(0x7b4)](_0x15147e(0x7c7));});});var Zi=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Me[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Me[(a0_0xc869c4(0x3fe))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Me[(a0_0xc869c4(0x3fe))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Me[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x1d9cb6=>{const _0x1eca56=a0_0xc869c4;let _0x400919='z_'+_0x1d9cb6+'_Chats';return T?.['model'](_0x1eca56(0x6b2),ao,_0x400919);},sa=require('mongoose'),io=new sa[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x3902a1=>{const _0x2b36e8=a0_0xc869c4;let _0x3b83c8='z_'+_0x3902a1+'_Contacts';return T?.[_0x2b36e8(0x580)](_0x2b36e8(0x723),io,_0x3b83c8);},ia=require(a0_0xc869c4(0x3cf)),gs=class{},oo=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.[a0_0xc869c4(0x580)](gs[a0_0xc869c4(0x15e)],oo,a0_0xc869c4(0x771)),ra=require(a0_0xc869c4(0x3cf)),ms=class{},ro=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.[a0_0xc869c4(0x580)](ms[a0_0xc869c4(0x15e)],ro,a0_0xc869c4(0x5a7)),ws=require('mongoose'),fs=class{},no=new ws[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws[(a0_0xc869c4(0x3fe))]({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.[a0_0xc869c4(0x580)](fs[a0_0xc869c4(0x15e)],co,a0_0xc869c4(0x5d7)),ca=_0x4e7e9d=>{const _0x18c8b2=a0_0xc869c4;let _0x5a1100='z_'+_0x4e7e9d+_0x18c8b2(0x80a);return T?.[_0x18c8b2(0x580)]('MessageModel',no,_0x5a1100);},la=require('mongoose'),ys=class{},lo=new la[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0xc869c4(0x580)](ys[a0_0xc869c4(0x15e)],lo,a0_0xc869c4(0x38c)),da=require(a0_0xc869c4(0x3cf)),bs=class{},pa=new da[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0xc869c4(0x78d)]('save',function(_0x458cec){const _0x3b6ee2=a0_0xc869c4;delete this[_0x3b6ee2(0x44f)],delete this[_0x3b6ee2(0x38e)],delete this[_0x3b6ee2(0x51f)],delete this[_0x3b6ee2(0x752)],delete this[_0x3b6ee2(0x817)],_0x458cec();});var ha=T?.[a0_0xc869c4(0x580)](bs['name'],pa,a0_0xc869c4(0x645)),P=require(a0_0xc869c4(0x3cf)),Ss=require(a0_0xc869c4(0x634)),ze=class{},Ms=class{},ma=new P[(a0_0xc869c4(0x3fe))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0xc869c4(0x3fe))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0xc869c4(0x3fe))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0xc869c4(0x59a)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0xc869c4(0x366)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0xc869c4(0x3c8)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0xc869c4(0x3fe))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P[(a0_0xc869c4(0x3fe))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0xc869c4(0x3fe))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0xc869c4(0x3fe))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x4967dc=a0_0xc869c4;return _0x4967dc(0x57a)+Math[_0x4967dc(0x5ba)]()[_0x4967dc(0x806)](0x24)[_0x4967dc(0x512)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0xc869c4(0x27c)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0xc869c4(0x78d)](a0_0xc869c4(0x59c),function(_0x4eb9f9){const _0x47fd76=a0_0xc869c4;let _0x33b484=this['getUpdate']();if(_0x33b484&&typeof _0x33b484==_0x47fd76(0xfe)&&_0x47fd76(0x4c5)in _0x33b484){let _0x35a52f=_0x33b484[_0x47fd76(0x4c5)];if(_0x35a52f){let _0x15d11d=new Set(),_0x3fd0af=new Set(_0x35a52f['variables']?.['map'](_0x360de1=>_0x360de1[_0x47fd76(0x15e)])),_0x43a74c=JSON[_0x47fd76(0x563)](_0x35a52f),_0x44a47c=/{{(?!_)([^}]*)}}/g,_0x3d0c30;for(;(_0x3d0c30=_0x44a47c[_0x47fd76(0x866)](_0x43a74c))!==null;)_0x3fd0af['has'](_0x3d0c30[0x1])||_0x15d11d[_0x47fd76(0x346)](_0x3d0c30[0x1]);_0x15d11d[_0x47fd76(0x49b)]>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0x47fd76(0x1be)](_0x15d11d)),_0x35a52f[_0x47fd76(0x367)]=Array['from'](_0x15d11d)):_0x35a52f[_0x47fd76(0x367)]=[],this[_0x47fd76(0x254)]({'$set':_0x35a52f});}}_0x4eb9f9();});var Ce=T?.[a0_0xc869c4(0x580)](Ms[a0_0xc869c4(0x15e)],ba,a0_0xc869c4(0x490)),mo=new P[(a0_0xc869c4(0x3fe))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0xc869c4(0x4d4)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x2d4867=>{const _0x33962c=a0_0xc869c4;let _0x59a5c2='z_'+_0x2d4867+'_FlowHistorico';return T?.[_0x33962c(0x580)](_0x33962c(0x14a),fo,_0x59a5c2);},wo=new P[(a0_0xc869c4(0x3fe))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0xc869c4(0x12d)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x3694b1=>{const _0xb32492=a0_0xc869c4;let _0x4241c1='z_'+_0x3694b1+_0xb32492(0x1b2);return T?.['model']('ScheduleMessageModel',yo,_0x4241c1);},vs=class{},bo=new P[(a0_0xc869c4(0x3fe))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P[(a0_0xc869c4(0x3fe))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Ie=T?.[a0_0xc869c4(0x580)](vs[a0_0xc869c4(0x15e)],Eo,a0_0xc869c4(0x162)),Ca=require(a0_0xc869c4(0x3cf)),No=new Ca[(a0_0xc869c4(0x3fe))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x14de3f=>{const _0x5b8554=a0_0xc869c4;let _0x3ac65d='z_'+_0x14de3f+_0x5b8554(0x667);return T?.[_0x5b8554(0x580)]('LabelModel',No,_0x3ac65d);},_=class{constructor(_0x485248){const _0x76cf3f=a0_0xc869c4;this[_0x76cf3f(0x73d)]=_0x485248[_0x76cf3f(0x1d4)](_0x76cf3f(0x661));}};function A(_0x5a54f6){const _0x445161=a0_0xc869c4;let _0x28d0b5={};for(let [_0x2d2603,_0x3575cd]of Object[_0x445161(0x85d)](_0x5a54f6))if(typeof _0x3575cd=='object'&&!Array['isArray'](_0x3575cd)){for(let [_0x513356,_0x29d1f9]of Object[_0x445161(0x85d)](_0x3575cd))_0x28d0b5[_0x2d2603+'.'+_0x513356]=_0x29d1f9;}else _0x28d0b5[_0x2d2603]=_0x3575cd;return _0x28d0b5;}var He=class{constructor(_0x3ebb72,_0x26c423,_0x2ffbae,_0x28ef48,_0x2ab9f7,_0x130ddd,_0x5f3608,_0x5f0677,_0x4bcef3,_0x1ea97b,_0x2905a0,_0x3f1b6a,_0x1c655e,_0x19f2d3){const _0x28b5f5=a0_0xc869c4;this[_0x28b5f5(0x5ad)]=_0x3ebb72,this[_0x28b5f5(0x6f8)]=_0x26c423,this[_0x28b5f5(0x1ac)]=_0x2ffbae,this[_0x28b5f5(0x5b6)]=_0x28ef48,this['messageLogs']=_0x2ab9f7,this['webhook']=_0x130ddd,this[_0x28b5f5(0x6e8)]=_0x5f3608,this[_0x28b5f5(0x801)]=_0x5f0677,this[_0x28b5f5(0x4ad)]=_0x4bcef3,this[_0x28b5f5(0x7f6)]=_0x1ea97b,this[_0x28b5f5(0x59d)]=_0x2905a0,this[_0x28b5f5(0x101)]=_0x3f1b6a,this[_0x28b5f5(0x126)]=_0x1c655e,this[_0x28b5f5(0x5fd)]=_0x19f2d3;}get[a0_0xc869c4(0x10c)](){const _0x4a64f9=a0_0xc869c4;return this[_0x4a64f9(0x5fd)];}},Ke=class{},Qe=class extends _{[a0_0xc869c4(0x704)](_0x4b11a6){return ca(_0x4b11a6);}async['insert'](_0x5540b0,_0x56cda8){const _0x513130=a0_0xc869c4;if(_0x5540b0['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x56cda8)[_0x513130(0x183)]([..._0x5540b0]))[_0x513130(0x4c6)]};}catch(_0x3bc5f7){return _0x3bc5f7;}}async[a0_0xc869c4(0x194)](_0x4cf7d2,_0x3831c2){const _0x2f222c=a0_0xc869c4;try{let _0x2ec57b=this[_0x2f222c(0x704)](_0x3831c2),_0x30580d=A(_0x4cf7d2[_0x2f222c(0x732)]);return await _0x2ec57b[_0x2f222c(0x194)](_0x30580d)[_0x2f222c(0x822)]({'messageTimestamp':-0x1})[_0x2f222c(0x720)](_0x4cf7d2?.['limit']??0x0)[_0x2f222c(0x11a)]();}catch{return[];}}async[a0_0xc869c4(0x7c3)](_0x4acec8,_0xb0f330){const _0x270900=a0_0xc869c4;try{let _0x54f840=this[_0x270900(0x704)](_0xb0f330),_0x33790e=A(_0x4acec8[_0x270900(0x732)]);await _0x54f840[_0x270900(0x1ec)](_0x33790e);}catch(_0xfbeac4){console['error'](_0xfbeac4);}}async[a0_0xc869c4(0x6cc)](_0x5c2644,_0xf478ca,_0xc442b1){const _0x294fdd=a0_0xc869c4;try{let _0x2c3201=this[_0x294fdd(0x704)](_0xc442b1),_0xb5cb26=A(_0x5c2644['where']);return await _0x2c3201['findOneAndUpdate'](_0xb5cb26,{'$set':_0xf478ca},{'new':!0x0});}catch(_0x45730a){throw console[_0x294fdd(0x3d2)](_0x45730a),_0x45730a;}}async[a0_0xc869c4(0x183)](_0x14fc9b,_0x36022f){const _0x5e5dc0=a0_0xc869c4;if(_0x14fc9b['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5e5dc0(0x704)](_0x36022f)['insertMany']([..._0x14fc9b]))[_0x5e5dc0(0x4c6)]};}catch(_0x6913c){return console[_0x5e5dc0(0x114)](_0x5e5dc0(0x533),_0x6913c),_0x6913c;}}async[a0_0xc869c4(0x417)](_0x1953c7){const _0x424806=a0_0xc869c4;try{return await this[_0x424806(0x704)](_0x1953c7)[_0x424806(0x586)]['drop'](),{'success':!0x0};}catch(_0x37ea36){return console['error'](_0x37ea36),{'success':!0x1,'error':_0x37ea36};}}},Ds=I(require(a0_0xc869c4(0x710))),w=I(require(a0_0xc869c4(0x146))),Fe=require('fs'),j=I(require(a0_0xc869c4(0x814))),K=I(require(a0_0xc869c4(0x5cd))),Ti=require(a0_0xc869c4(0x634)),Ii=I(require(a0_0xc869c4(0x369))),_i=I(require('qrcode-terminal')),Ea=[a0_0xc869c4(0x7da),a0_0xc869c4(0x3f0),a0_0xc869c4(0x459),a0_0xc869c4(0x614),a0_0xc869c4(0x123)],Na=[a0_0xc869c4(0x78a),'documentWithCaptionMessage',a0_0xc869c4(0x575),a0_0xc869c4(0x82d)],ks=require('os'),Ft=I(require('pino')),Ue=require(a0_0xc869c4(0x519)),Oi=require(a0_0xc869c4(0x45a)),he=I(require(a0_0xc869c4(0x3cf))),J=require(a0_0xc869c4(0x2bd)),le=class{constructor(_0x1a8466,_0x589d1c,_0x393709){const _0x39f825=a0_0xc869c4;this['jid']=_0x1a8466,this['exists']=_0x589d1c,this[_0x39f825(0x15e)]=_0x393709;}},Ye=class{},Xe=class{},_e=class{},Ze=class{},et=class{},ve=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require('express')),$a=require('fs'),Ra=require(a0_0xc869c4(0x814));async function Oe(_0xb0f69){const _0x28956e=a0_0xc869c4;let _0x29341f=G[_0x28956e(0x828)][_0xb0f69];if(L[_0x28956e(0x29e)]){let _0x14498a=T[_0x28956e(0x57f)]()['db'](L[_0x28956e(0x7a6)]['DB_PREFIX_NAME']+'-instances')[_0x28956e(0x586)](_0xb0f69);return _0x29341f||(await _0x14498a[_0x28956e(0x194)]({})[_0x28956e(0x689)]())[_0x28956e(0x4c6)]>0x0;}return _0x29341f||(0x0,$a[_0x28956e(0x589)])((0x0,Ra['join'])(Se,_0xb0f69));}async function Aa(_0x46f9be,_0x237c3d,_0x491289){const _0x3296b2=a0_0xc869c4;if(_0x46f9be['originalUrl'][_0x3296b2(0x49c)](_0x3296b2(0x391))||_0x46f9be[_0x3296b2(0x180)][_0x3296b2(0x49c)]('/instance/fetchInstances')||_0x46f9be[_0x3296b2(0x180)][_0x3296b2(0x49c)]('/exit')||_0x46f9be[_0x3296b2(0x180)][_0x3296b2(0x49c)](_0x3296b2(0x4c1))||_0x46f9be[_0x3296b2(0x180)][_0x3296b2(0x49c)](_0x3296b2(0x7ba))||_0x46f9be[_0x3296b2(0x180)][_0x3296b2(0x49c)](_0x3296b2(0x33a))||_0x46f9be[_0x3296b2(0x180)]['includes']('/instance/delete'))return _0x491289();let _0x56e092=_0x46f9be[_0x3296b2(0x278)];if(!_0x56e092?.[_0x3296b2(0x77a)])throw new m(_0x3296b2(0xf1));if(!await Oe(_0x56e092[_0x3296b2(0x77a)]))throw new U('The\x20'+_0x56e092[_0x3296b2(0x77a)]+_0x3296b2(0x36c));_0x491289();}async function Ta(_0x5dc52d,_0x49bddf,_0x27fdc6){const _0x5cca26=a0_0xc869c4;if(_0x5dc52d[_0x5cca26(0x180)][_0x5cca26(0x49c)](_0x5cca26(0x391))){let _0x492000=_0x5dc52d[_0x5cca26(0x83c)];if(await Oe(_0x492000[_0x5cca26(0x77a)]))throw new X(_0x5cca26(0x4bc)+_0x492000[_0x5cca26(0x77a)]+_0x5cca26(0x2da));G[_0x5cca26(0x828)][_0x492000[_0x5cca26(0x77a)]]&&delete G[_0x5cca26(0x828)][_0x492000[_0x5cca26(0x77a)]];}_0x27fdc6();}var Ia=require(a0_0xc869c4(0x2bd)),_a=I(require('jsonwebtoken')),ot=a0_0xc869c4(0x684),Ro=new $(a0_0xc869c4(0x66f));async function Ao(_0x1b7368,_0x497e9b,_0x24b922){const _0x1537bf=a0_0xc869c4;let _0x3445ca=_0x1b7368[_0x1537bf(0x1d4)](_0x1537bf(0x6c3));if(_0x3445ca&&S['get'](_0x1537bf(0x6aa))[_0x1537bf(0x45f)][_0x1537bf(0x547)]!==_0x3445ca)throw new ae();if(S['get']('AUTHENTICATION')[_0x1537bf(0x45f)][_0x1537bf(0x547)]===_0x3445ca)return _0x24b922();if((_0x1b7368[_0x1537bf(0x180)][_0x1537bf(0x49c)](_0x1537bf(0x391))||_0x1b7368[_0x1537bf(0x180)][_0x1537bf(0x49c)]('/instance/fetchInstances'))&&!_0x3445ca)throw new X(_0x1537bf(0x4b7),_0x1537bf(0x3a9));let _0x4d185b=S[_0x1537bf(0x1d4)](_0x1537bf(0x6aa))[_0x1537bf(0x63d)];try{let [_0x16440e,_0x3ff17c]=_0x1b7368[_0x1537bf(0x1d4)](_0x1537bf(0x49e))['split']('\x20');if(_0x16440e[_0x1537bf(0x61a)]()!=='bearer')throw new ae();if(!(0x0,Ia[_0x1537bf(0x51c)])(_0x3ff17c))throw new ae();let _0xe88fa1=_0x1b7368[_0x1537bf(0x278)],_0x1bacc2=_a['default'][_0x1537bf(0x293)](_0x3ff17c,_0x4d185b[_0x1537bf(0x53b)],{'ignoreExpiration':_0x4d185b[_0x1537bf(0x82f)]===0x0});if(_0xe88fa1['instanceName']!==_0x1bacc2[_0x1537bf(0x77a)]||ot!==_0x1bacc2['apiName'])throw new ae();return _0x24b922();}catch(_0x2228b8){throw Ro['error'](_0x2228b8),new ae();}}async function To(_0x53fd06,_0x2e3c1f,_0x3f3a92){const _0x51364b=a0_0xc869c4;let _0x2abf35=S[_0x51364b(0x1d4)](_0x51364b(0x6aa))[_0x51364b(0x45f)],_0x5cd0b=_0x53fd06[_0x51364b(0x1d4)]('apikey');if(_0x2abf35[_0x51364b(0x547)]===_0x5cd0b)return _0x3f3a92();if(_0x53fd06[_0x51364b(0x180)][_0x51364b(0x49c)](_0x51364b(0x391))){let _0x156f32=xa,_0x2a7866=_0x53fd06['body']['instanceName'];if(_0x156f32&&_0x2a7866['toLowerCase']()[_0x51364b(0x24d)](_0x156f32[_0x51364b(0x61a)]()))return _0x3f3a92();if(!_0x5cd0b)throw new X(_0x51364b(0x4b7),_0x51364b(0x3a9));}if(_0x53fd06[_0x51364b(0x180)]['includes'](_0x51364b(0x4fe))&&!_0x5cd0b)throw new X(_0x51364b(0x4b7),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x53fd06[_0x51364b(0x180)][_0x51364b(0x49c)]('/exit')&&!_0x5cd0b)throw new X(_0x51364b(0x4b7),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x53fd06[_0x51364b(0x180)][_0x51364b(0x49c)](_0x51364b(0x4c1))&&!_0x5cd0b)throw new X(_0x51364b(0x4b7),_0x51364b(0x3a9));try{let _0x52be7a=_0x53fd06[_0x51364b(0x278)],_0x441a0e=await me[_0x51364b(0x6e8)]['find'](_0x52be7a[_0x51364b(0x77a)]);if(_0x441a0e&&_0x441a0e[_0x51364b(0x6c3)]===_0x5cd0b)return _0x3f3a92();}catch{}throw new ae();}var Oa={'jwt':Ao,'apikey':To},pi=require(a0_0xc869c4(0x37d)),C=require(a0_0xc869c4(0x634)),v=(..._0x18f811)=>{const _0x1c449a=a0_0xc869c4;let _0x1dcb74={};return _0x18f811[_0x1c449a(0x64a)](_0x469533=>_0x1dcb74[_0x469533]={'minLength':0x1,'description':_0x1c449a(0x504)+_0x469533+_0x1c449a(0x455)}),{'if':{'propertyNames':{'enum':[..._0x18f811]}},'then':{'properties':_0x1dcb74}};},N={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0xc869c4(0x2d7)}},...v(a0_0xc869c4(0x77a))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'oldToken':{'type':'string'}},'required':[a0_0xc869c4(0x32a)],...v(a0_0xc869c4(0x32a))},Ic={'properties':{'key':{'type':a0_0xc869c4(0xfe),'properties':{'id':{'type':a0_0xc869c4(0x2d7)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0xc869c4(0x2ae)],...v('id',a0_0xc869c4(0x607))},'message':{'type':a0_0xc869c4(0xfe)}}},ie={'properties':{'delay':{'type':'integer','description':a0_0xc869c4(0x66e)},'presence':{'type':'string','enum':[a0_0xc869c4(0x214),a0_0xc869c4(0x1a2),a0_0xc869c4(0x372),'recording','paused']}}},Z={'type':a0_0xc869c4(0x2d7),'description':'Invalid\x20format'},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ie},'textMessage':{'type':'object','properties':{'text':{'type':a0_0xc869c4(0x2d7)}},'required':[a0_0xc869c4(0x1ed)],...v(a0_0xc869c4(0x1ed))}},'required':[a0_0xc869c4(0x250),a0_0xc869c4(0x1ce)]},Da={'type':a0_0xc869c4(0x2d7),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0xc869c4(0x50f)},_c={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Da},'options':{...ie},'textMessage':{'type':a0_0xc869c4(0xfe),'properties':{'text':{'type':a0_0xc869c4(0x2d7)}},'required':[a0_0xc869c4(0x1ed)],...v(a0_0xc869c4(0x1ed))}},'required':['textMessage',a0_0xc869c4(0x1ce)]},Oc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...ie},'mediaMessage':{'type':a0_0xc869c4(0xfe),'properties':{'mediatype':{'type':a0_0xc869c4(0x2d7),'enum':[a0_0xc869c4(0x37e),'document',a0_0xc869c4(0xe9),'audio']},'media':{'type':a0_0xc869c4(0x2d7)},'fileName':{'type':a0_0xc869c4(0x2d7)},'caption':{'type':a0_0xc869c4(0x2d7)}},'required':['mediatype',a0_0xc869c4(0x3f2)],...v(a0_0xc869c4(0x2f2),'caption',a0_0xc869c4(0x3f2))}},'required':[a0_0xc869c4(0x665),a0_0xc869c4(0x1ce)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Z},'options':{...ie},'stickerMessage':{'type':a0_0xc869c4(0xfe),'properties':{'image':{'type':'string'}},'required':['image'],...v(a0_0xc869c4(0x37e))}},'required':[a0_0xc869c4(0x123),a0_0xc869c4(0x1ce)]},La={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'statusMessage':{'type':a0_0xc869c4(0xfe),'properties':{'type':{'type':a0_0xc869c4(0x2d7),'enum':[a0_0xc869c4(0x1ed),a0_0xc869c4(0x37e),a0_0xc869c4(0x603),'video']},'content':{'type':a0_0xc869c4(0x2d7)},'caption':{'type':a0_0xc869c4(0x2d7)},'backgroundColor':{'type':a0_0xc869c4(0x2d7)},'font':{'type':a0_0xc869c4(0x558),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0xc869c4(0x198),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0xc869c4(0x3eb)}},'allContacts':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]}},'required':[a0_0xc869c4(0x155),'content'],...v(a0_0xc869c4(0x155),a0_0xc869c4(0x7fb))}},'required':['statusMessage']},Fa={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Z},'options':{...ie},'mediaMessage':{'type':a0_0xc869c4(0xfe),'properties':{'mediatype':{'type':'string','enum':[a0_0xc869c4(0x37e),a0_0xc869c4(0x2c0),a0_0xc869c4(0xe9),a0_0xc869c4(0x603)]},'media':{'type':a0_0xc869c4(0x2d7)},'fileName':{'type':'string'},'caption':{'type':a0_0xc869c4(0x2d7)}},'required':[a0_0xc869c4(0x4ae),a0_0xc869c4(0x3f2)],...v(a0_0xc869c4(0x2f2),'caption',a0_0xc869c4(0x3f2))}},'required':[a0_0xc869c4(0x665),'number']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Z},'options':{...ie},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0xc869c4(0x2d7)}},'required':['audio'],...v(a0_0xc869c4(0x603))}},'required':[a0_0xc869c4(0x459),a0_0xc869c4(0x1ce)]},ja={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Z},'pollMessage':{'type':a0_0xc869c4(0xfe),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0xc869c4(0x1ce)},'values':{'type':a0_0xc869c4(0x198),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xc869c4(0x15e),a0_0xc869c4(0x465),a0_0xc869c4(0x37b)],...v(a0_0xc869c4(0x15e),a0_0xc869c4(0x465),'values')}},'required':[a0_0xc869c4(0x1ce),'pollMessage']},Ja={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Z},'menuMessage':{'type':a0_0xc869c4(0xfe),'properties':{'text':{'type':a0_0xc869c4(0x2d7)},'choices':{'type':a0_0xc869c4(0x198),'uniqueItems':!0x0}},'required':[a0_0xc869c4(0x1ed),a0_0xc869c4(0x819)],...v(a0_0xc869c4(0x1ed),'choices')}},'required':[a0_0xc869c4(0x1ce),a0_0xc869c4(0x40d)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Z},'options':{...ie},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0xc869c4(0x1ce)},'longitude':{'type':a0_0xc869c4(0x1ce)},'name':{'type':'string'},'address':{'type':a0_0xc869c4(0x2d7)}},'required':['latitude','longitude'],...v(a0_0xc869c4(0x15e),a0_0xc869c4(0x825))}},'required':[a0_0xc869c4(0x1ce),a0_0xc869c4(0x718)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Z},'options':{...ie},'listMessage':{'type':a0_0xc869c4(0xfe),'properties':{'title':{'type':a0_0xc869c4(0x2d7)},'description':{'type':a0_0xc869c4(0x2d7)},'footerText':{'type':a0_0xc869c4(0x2d7)},'buttonText':{'type':'string'},'sections':{'type':a0_0xc869c4(0x198),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':a0_0xc869c4(0x198),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc869c4(0xfe),'properties':{'title':{'type':'string'},'description':{'type':a0_0xc869c4(0x2d7)},'rowId':{'type':a0_0xc869c4(0x2d7)}},'required':['title',a0_0xc869c4(0x348)],...v('title','rowId')}}},'required':['title',a0_0xc869c4(0x3b9)],...v('title')}}},'required':[a0_0xc869c4(0x4bd),a0_0xc869c4(0x22c),a0_0xc869c4(0x289),a0_0xc869c4(0x47f)],...v(a0_0xc869c4(0x4bd),a0_0xc869c4(0x22c),a0_0xc869c4(0x289),a0_0xc869c4(0x2a8))}},'required':[a0_0xc869c4(0x1ce),a0_0xc869c4(0x538)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{...Z},'options':{...ie},'contactMessage':{'type':a0_0xc869c4(0x198),'items':{'type':a0_0xc869c4(0xfe),'properties':{'fullName':{'type':a0_0xc869c4(0x2d7)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0xc869c4(0x129),a0_0xc869c4(0x1c1)],...v(a0_0xc869c4(0x129))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0xc869c4(0x236)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'reactionMessage':{'type':a0_0xc869c4(0xfe),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0xc869c4(0x2d7)},'remoteJid':{'type':a0_0xc869c4(0x2d7)},'fromMe':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...v('id',a0_0xc869c4(0x607))},'reaction':{'type':'string'}},'required':[a0_0xc869c4(0x7e2),a0_0xc869c4(0x696)],...v('reaction')}},'required':[a0_0xc869c4(0x282)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'numbers':{'type':a0_0xc869c4(0x198),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc869c4(0x2d7),'pattern':a0_0xc869c4(0x53c),'description':a0_0xc869c4(0x52b)}}}},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0xc869c4(0x2d7)},'fromMe':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xc869c4(0x2d7)}},'required':['id',a0_0xc869c4(0x2ae),a0_0xc869c4(0x607)],...v('id',a0_0xc869c4(0x607))}}},'required':[a0_0xc869c4(0x5cc)]},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0xc869c4(0xfe),'properties':{'readreceipts':{'type':a0_0xc869c4(0x2d7),'enum':['all','none']},'profile':{'type':a0_0xc869c4(0x2d7),'enum':['all',a0_0xc869c4(0x49f),'contact_blacklist',a0_0xc869c4(0x32d)]},'status':{'type':'string','enum':[a0_0xc869c4(0x4e4),a0_0xc869c4(0x49f),'contact_blacklist',a0_0xc869c4(0x32d)]},'online':{'type':a0_0xc869c4(0x2d7),'enum':[a0_0xc869c4(0x4e4),'match_last_seen']},'last':{'type':a0_0xc869c4(0x2d7),'enum':[a0_0xc869c4(0x4e4),a0_0xc869c4(0x49f),a0_0xc869c4(0x71d),a0_0xc869c4(0x32d)]},'groupadd':{'type':'string','enum':[a0_0xc869c4(0x4e4),'contacts',a0_0xc869c4(0x71d),a0_0xc869c4(0x32d)]}},'required':[a0_0xc869c4(0x26a),a0_0xc869c4(0x690),a0_0xc869c4(0x202),'online',a0_0xc869c4(0x411),a0_0xc869c4(0x6b5)],...v(a0_0xc869c4(0x26a),a0_0xc869c4(0x690),a0_0xc869c4(0x202),a0_0xc869c4(0x620),a0_0xc869c4(0x411),a0_0xc869c4(0x6b5))}},'required':[a0_0xc869c4(0xdc)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'lastMessage':{'type':a0_0xc869c4(0xfe),'properties':{'key':{'type':a0_0xc869c4(0xfe),'properties':{'id':{'type':a0_0xc869c4(0x2d7)},'remoteJid':{'type':a0_0xc869c4(0x2d7)},'fromMe':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]}},'required':['id',a0_0xc869c4(0x2ae),a0_0xc869c4(0x607)],...v('id','remoteJid')},'messageTimestamp':{'type':a0_0xc869c4(0x558),'minLength':0x1}},'required':['key'],...v(a0_0xc869c4(0x3e2))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0xc869c4(0x172)]},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0xc869c4(0x2d7)},'fromMe':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xc869c4(0x2d7)},'participant':{'type':'string'}},'required':['id',a0_0xc869c4(0x2ae),'remoteJid'],...v('id',a0_0xc869c4(0x607),'participant')},Ya={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0xc869c4(0xfe),'properties':{'_id':{'type':a0_0xc869c4(0x2d7),'minLength':0x1},'pushName':{'type':a0_0xc869c4(0x2d7),'minLength':0x1},'id':{'type':a0_0xc869c4(0x2d7),'minLength':0x1}},...v(a0_0xc869c4(0x59b),'id',a0_0xc869c4(0x576))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'name':{'type':'string'}},...v(a0_0xc869c4(0x15e))},Za={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'status':{'type':a0_0xc869c4(0x2d7)}},...v(a0_0xc869c4(0x202))},xe={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'number':{'type':'string'},'picture':{'type':a0_0xc869c4(0x2d7)}}},ei={'type':a0_0xc869c4(0xfe),'properties':{'wuid':{'type':a0_0xc869c4(0x2d7)},'name':{'type':a0_0xc869c4(0x2d7)},'picture':{'type':a0_0xc869c4(0x2d7)},'status':{'type':a0_0xc869c4(0x2d7)},'isBusiness':{'type':a0_0xc869c4(0x845)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'where':{'type':a0_0xc869c4(0xfe),'properties':{'_id':{'type':a0_0xc869c4(0x2d7),'minLength':0x1},'key':{'type':a0_0xc869c4(0xfe),'if':{'propertyNames':{'enum':[a0_0xc869c4(0x2ae),a0_0xc869c4(0x607),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0xc869c4(0x2d7),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0xc869c4(0x2d7),'minLength':0x1,'description':a0_0xc869c4(0x483)},'fromMe':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0xc869c4(0xfe)}},...v('_id')},'limit':{'type':a0_0xc869c4(0x558)}}},xc={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'where':{'type':a0_0xc869c4(0xfe),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0xc869c4(0x2d7),'enum':['ERROR',a0_0xc869c4(0x1a0),a0_0xc869c4(0x12e),a0_0xc869c4(0x354),a0_0xc869c4(0x555),a0_0xc869c4(0x641)]}},...v(a0_0xc869c4(0x59b),a0_0xc869c4(0x607),'id',a0_0xc869c4(0x202))},'limit':{'type':a0_0xc869c4(0x558)}}},si={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'presence':{'type':a0_0xc869c4(0x2d7),'enum':[a0_0xc869c4(0x214),a0_0xc869c4(0x1a2),a0_0xc869c4(0x372),a0_0xc869c4(0x26d),a0_0xc869c4(0xcb)]}},'required':[a0_0xc869c4(0x335),a0_0xc869c4(0x1ce)]},ai={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'subject':{'type':'string'},'description':{'type':a0_0xc869c4(0x2d7)},'profilePicture':{'type':a0_0xc869c4(0x2d7)},'participants':{'type':a0_0xc869c4(0x198),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xc869c4(0x2d7),'minLength':0xa,'pattern':a0_0xc869c4(0x3ff),'description':a0_0xc869c4(0x863)}}},'required':[a0_0xc869c4(0x5aa),a0_0xc869c4(0xd0)],...v('subject','description','profilePicture')},Pe={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'groupJid':{'type':a0_0xc869c4(0x2d7),'pattern':a0_0xc869c4(0x5dc)}},'required':['groupJid'],...v(a0_0xc869c4(0x266))},ii={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'groupJid':{'type':a0_0xc869c4(0x2d7)},'action':{'type':a0_0xc869c4(0x2d7),'enum':[a0_0xc869c4(0x346),a0_0xc869c4(0x758),a0_0xc869c4(0x426),a0_0xc869c4(0x4cb),'reject','approve']},'participants':{'type':a0_0xc869c4(0x198),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0xc869c4(0x3ff),'description':a0_0xc869c4(0x863)}}},'required':[a0_0xc869c4(0x266),a0_0xc869c4(0x153),a0_0xc869c4(0xd0)],...v(a0_0xc869c4(0x266),a0_0xc869c4(0x153))},oi={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'groupJid':{'type':a0_0xc869c4(0x2d7)},'expiration':{'type':a0_0xc869c4(0x1ce),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0xc869c4(0x266),a0_0xc869c4(0x38d)],...v(a0_0xc869c4(0x266),a0_0xc869c4(0x38d))},ri={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xc869c4(0x2d7)},'image':{'type':a0_0xc869c4(0x2d7)}},'required':[a0_0xc869c4(0x266),a0_0xc869c4(0x37e)],...v('groupJid',a0_0xc869c4(0x37e))},ni={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xc869c4(0x2d7)},'description':{'type':a0_0xc869c4(0x2d7)}},'required':[a0_0xc869c4(0x266),a0_0xc869c4(0x22c)],...v(a0_0xc869c4(0x266),a0_0xc869c4(0x22c))},ci={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0xc869c4(0x2d7)}},'required':[a0_0xc869c4(0x266),a0_0xc869c4(0x15e)],...v('groupJid',a0_0xc869c4(0x15e))},li={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'groupJid':{'type':a0_0xc869c4(0x2d7)},'setting':{'type':'string','enum':[a0_0xc869c4(0x45c),a0_0xc869c4(0x69f),a0_0xc869c4(0x1a1),'locked']}},'required':[a0_0xc869c4(0x266),a0_0xc869c4(0x2fe)],...v('groupJid',a0_0xc869c4(0x2fe))},ui={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'groupJid':{'type':a0_0xc869c4(0x2d7)},'restrict':{'type':a0_0xc869c4(0x845)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0xc869c4(0x845)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0xc869c4(0x2d7)},'description':{'type':a0_0xc869c4(0x2d7)},'image':{'type':a0_0xc869c4(0x2d7)}}},Ns={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0xc869c4(0x5af)],...v(a0_0xc869c4(0x5af))},di={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0xc869c4(0x2d7)},'enabled':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]}},'required':[a0_0xc869c4(0x709),a0_0xc869c4(0x766)]},Pc={'$id':(0x0,C['v4'])(),'type':a0_0xc869c4(0xfe),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0xc869c4(0x845),'enum':[!0x0,!0x1]}},'required':[a0_0xc869c4(0x374),a0_0xc869c4(0x1b4),a0_0xc869c4(0x5d0),'MESSAGES_SET',a0_0xc869c4(0x642),a0_0xc869c4(0xe7),a0_0xc869c4(0xf9),a0_0xc869c4(0x545),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0xc869c4(0x63e),'CHATS_SET','CHATS_UPSERT',a0_0xc869c4(0x1e8),a0_0xc869c4(0x833),a0_0xc869c4(0x7b3),a0_0xc869c4(0x760),a0_0xc869c4(0x5a3),a0_0xc869c4(0x14b)],...v(a0_0xc869c4(0x374),a0_0xc869c4(0x1b4),a0_0xc869c4(0x5d0),'MESSAGES_SET',a0_0xc869c4(0x642),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0xc869c4(0x545),a0_0xc869c4(0x617),a0_0xc869c4(0x61c),'PRESENCE_UPDATE',a0_0xc869c4(0x420),a0_0xc869c4(0x23a),a0_0xc869c4(0x1e8),a0_0xc869c4(0x833),a0_0xc869c4(0x7b3),a0_0xc869c4(0x760),'GROUPS_UPDATE',a0_0xc869c4(0x14b))},rt=class{},nt=class extends _{[a0_0xc869c4(0x40a)](_0x58dcbf){return aa(_0x58dcbf);}async[a0_0xc869c4(0x138)](_0x4eaaa5){const _0x123bba=a0_0xc869c4;if(_0x4eaaa5['length']!==0x0)try{return{'insertCount':(await this[_0x123bba(0x40a)](_0x4eaaa5[0x0][_0x123bba(0x436)])['insertMany']([..._0x4eaaa5]))['length']};}catch(_0x4c1999){return _0x4c1999;}}async[a0_0xc869c4(0x7c3)](_0x4ac03c,_0x27f4ec){const _0x1c5c08=a0_0xc869c4;try{return{'deletedCount':(await this[_0x1c5c08(0x40a)](_0x27f4ec)[_0x1c5c08(0x1ec)]({..._0x4ac03c['where']}))['deletedCount']};}catch(_0x43206e){return{'error':_0x43206e?.[_0x1c5c08(0x806)]()};}}async[a0_0xc869c4(0x6cc)](_0x4df566,_0x4fa1a0){const _0x81ff39=a0_0xc869c4;try{if(_0x4df566[_0x81ff39(0x4c6)]===0x0)return;let _0x81dea6=this[_0x81ff39(0x40a)](_0x4fa1a0),_0x25ca9c=_0x4df566[_0x81ff39(0x474)](_0x4a1044=>({'updateOne':{'filter':{'_id':_0x4a1044[_0x81ff39(0x59b)],'owner':_0x4fa1a0},'update':{..._0x4a1044}}})),{modifiedCount:_0x3e5b92}=await _0x81dea6[_0x81ff39(0x229)](_0x25ca9c);return{'insertCount':_0x3e5b92};}catch{return;}}async[a0_0xc869c4(0x194)](_0x4bcc0e,_0x12fb0c){const _0x4b5396=a0_0xc869c4;try{let _0x491ab2=this[_0x4b5396(0x40a)](_0x12fb0c),_0xc00b30=A(_0x4bcc0e['where']);return await _0x491ab2['find'](_0xc00b30)[_0x4b5396(0x720)](_0x4bcc0e?.[_0x4b5396(0x720)]??0x0)[_0x4b5396(0x11a)]();}catch{return[];}}async[a0_0xc869c4(0x4d6)](_0x26cb00,_0x1c3eb8){const _0x8210e2=a0_0xc869c4;try{let _0x26d633=this[_0x8210e2(0x40a)](_0x1c3eb8),_0x32331e=A(_0x26cb00['where']);return await _0x26d633[_0x8210e2(0x4d6)](_0x32331e)[_0x8210e2(0x11a)]();}catch{return null;}}async[a0_0xc869c4(0x417)](_0x50425a){const _0x3071f4=a0_0xc869c4;try{return await this[_0x3071f4(0x40a)](_0x50425a)[_0x3071f4(0x586)][_0x3071f4(0x4e0)](),{'success':!0x0};}catch(_0x44c4ae){return console[_0x3071f4(0x3d2)](_0x44c4ae),{'success':!0x1,'error':_0x44c4ae};}}},ct=require(a0_0xc869c4(0x24e)),Vc=require(a0_0xc869c4(0x300)),$s=new $(a0_0xc869c4(0x35d)),V=class{[a0_0xc869c4(0x537)](_0x4f8d1d,_0x3b60de=!0x0){const _0x28e4ca=a0_0xc869c4;let _0x4b95e1='/'+_0x4f8d1d;return _0x3b60de&&(_0x4b95e1+=_0x28e4ca(0x360)),_0x4b95e1;}async[a0_0xc869c4(0x396)](_0x288e82){const _0x52d4b0=a0_0xc869c4;let {request:_0xb7bc81,schema:_0x4dbe61,ClassRef:_0x3c715c,execute:_0x1d01ac}=_0x288e82,_0x5c2138=new _0x3c715c(),_0x5fb26e=_0xb7bc81['body'],_0x49393a=_0xb7bc81[_0x52d4b0(0x278)];_0xb7bc81?.[_0x52d4b0(0x657)]&&Object[_0x52d4b0(0x239)](_0xb7bc81[_0x52d4b0(0x657)])[_0x52d4b0(0x4c6)]>0x0&&Object['assign'](_0x49393a,_0xb7bc81[_0x52d4b0(0x657)]),_0xb7bc81['originalUrl']['includes'](_0x52d4b0(0x391))&&Object[_0x52d4b0(0x7cb)](_0x49393a,_0x5fb26e),Object[_0x52d4b0(0x7cb)](_0x5c2138,_0x5fb26e);let _0x5f3304=_0x4dbe61?(0x0,ct[_0x52d4b0(0x67b)])(_0x5c2138,_0x4dbe61):{'valid':!0x0,'errors':[]};if(!_0x5f3304[_0x52d4b0(0x428)]){let _0x26aedc=_0x5f3304['errors'][_0x52d4b0(0x474)](({property:_0x2c6ccc,stack:_0x1ec446,schema:_0x3baee9})=>{const _0xbb5255=_0x52d4b0;let _0x440fd1;return _0x3baee9[_0xbb5255(0x22c)]?_0x440fd1=_0x3baee9[_0xbb5255(0x22c)]:_0x440fd1=_0x1ec446[_0xbb5255(0x791)](_0xbb5255(0x737),''),{'property':_0x2c6ccc[_0xbb5255(0x791)](_0xbb5255(0x737),''),'message':_0x440fd1};});throw $s[_0x52d4b0(0x3d2)]([..._0x26aedc]),new m(..._0x26aedc);}return await _0x1d01ac(_0x49393a,_0x5c2138);}async[a0_0xc869c4(0x187)](_0x2e8e0d){const _0x1ad886=a0_0xc869c4;let {request:_0x32a3d2,ClassRef:_0xf2e489,schema:_0xbf2645,execute:_0x28db6d}=_0x2e8e0d,_0x436e8e=_0x32a3d2[_0x1ad886(0x657)];if(!_0x436e8e?.[_0x1ad886(0x266)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x1ad886(0x2ef));let _0x39a883=_0x32a3d2[_0x1ad886(0x278)],_0x1077e0=_0x32a3d2[_0x1ad886(0x83c)],_0x238e29=new _0xf2e489();Object[_0x1ad886(0x7cb)](_0x1077e0,_0x436e8e),Object[_0x1ad886(0x7cb)](_0x238e29,_0x1077e0);let _0x379ac0=(0x0,ct[_0x1ad886(0x67b)])(_0x238e29,_0xbf2645);if(!_0x379ac0[_0x1ad886(0x428)]){let _0x41a11d=_0x379ac0[_0x1ad886(0xe3)][_0x1ad886(0x474)](({property:_0x164171,stack:_0x1f9076,schema:_0x4bee2e})=>{const _0x20e77d=_0x1ad886;let _0x501312;return _0x4bee2e[_0x20e77d(0x22c)]?_0x501312=_0x4bee2e[_0x20e77d(0x22c)]:_0x501312=_0x1f9076[_0x20e77d(0x791)](_0x20e77d(0x737),''),{'property':_0x164171['replace'](_0x20e77d(0x737),''),'message':_0x501312};});throw $s['error']([..._0x41a11d]),new m(..._0x41a11d);}return await _0x28db6d(_0x39a883,_0x238e29);}async[a0_0xc869c4(0x7a3)](_0x38f4ef){const _0xff960=a0_0xc869c4;let {request:_0x4ea3c6,ClassRef:_0xc9b5d8,schema:_0x136cd5,execute:_0xf691aa}=_0x38f4ef,_0x373ad2=_0x4ea3c6[_0xff960(0x83c)];if(!_0x373ad2?.[_0xff960(0x5af)])throw new m(_0xff960(0x244),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x3a002e=_0x4ea3c6['params'],_0x4b9263=_0x4ea3c6['body'],_0x225f5=new _0xc9b5d8();Object[_0xff960(0x7cb)](_0x4b9263,_0x373ad2),Object[_0xff960(0x7cb)](_0x225f5,_0x4b9263);let _0x4cda9d=(0x0,ct[_0xff960(0x67b)])(_0x225f5,_0x136cd5);if(!_0x4cda9d[_0xff960(0x428)]){let _0x2fc0b5=_0x4cda9d[_0xff960(0xe3)][_0xff960(0x474)](({property:_0xe413ae,stack:_0x32c837,schema:_0x3ea3e7})=>{const _0x47002a=_0xff960;let _0x1a5636;return _0x3ea3e7[_0x47002a(0x22c)]?_0x1a5636=_0x3ea3e7[_0x47002a(0x22c)]:_0x1a5636=_0x32c837['replace'](_0x47002a(0x737),''),{'property':_0xe413ae[_0x47002a(0x791)]('instance.',''),'message':_0x1a5636};});throw $s[_0xff960(0x3d2)]([..._0x2fc0b5]),new m(..._0x2fc0b5);}return await _0xf691aa(_0x3a002e,_0x225f5);}},M=class{},il=new $(a0_0xc869c4(0x6be)),lt=class extends V{constructor(..._0x20ada4){const _0x5a5b5b=a0_0xc869c4;super(),this[_0x5a5b5b(0x85c)]=(0x0,pi[_0x5a5b5b(0x623)])(),this['router'][_0x5a5b5b(0x4de)](this[_0x5a5b5b(0x537)]('updatePresence'),..._0x20ada4,async(_0x1020fc,_0x5ab6e7)=>{const _0x18ee7f=_0x5a5b5b;let _0x583ee8=await this[_0x18ee7f(0x396)]({'request':_0x1020fc,'schema':si,'ClassRef':Ye,'execute':(_0x415ee0,_0x5eb416)=>D[_0x18ee7f(0x220)](_0x415ee0,_0x5eb416)});return _0x5ab6e7[_0x18ee7f(0x202)](0xc9)['json'](_0x583ee8);})[_0x5a5b5b(0x4de)](this[_0x5a5b5b(0x537)](_0x5a5b5b(0x304)),..._0x20ada4,async(_0x59ba64,_0x50fb66)=>{const _0x2746cf=_0x5a5b5b;let _0x223a93=await this[_0x2746cf(0x396)]({'request':_0x59ba64,'schema':Wa,'ClassRef':Xe,'execute':(_0x572a3,_0x5ac54a)=>D['whatsappNumber'](_0x572a3,_0x5ac54a)});return _0x50fb66[_0x2746cf(0x202)](0xc9)[_0x2746cf(0x534)](_0x223a93);})[_0x5a5b5b(0x4de)](this[_0x5a5b5b(0x537)](_0x5a5b5b(0xc4)),..._0x20ada4,async(_0x4dc723,_0x1019ad)=>{const _0xedf816=_0x5a5b5b;let _0x4ae637=await this[_0xedf816(0x396)]({'request':_0x4dc723,'schema':N,'ClassRef':M,'execute':(_0x217c3c,_0xd68ad)=>D[_0xedf816(0xc4)](_0x217c3c,_0xd68ad)});return _0x1019ad[_0xedf816(0x202)](0xc9)['json'](_0x4ae637);})[_0x5a5b5b(0x5bf)](this[_0x5a5b5b(0x537)](_0x5a5b5b(0x4ca)),..._0x20ada4,async(_0x490146,_0xd7b731)=>{const _0xbbc829=_0x5a5b5b;let _0x1fa8b8=await this[_0xbbc829(0x396)]({'request':_0x490146,'schema':za,'ClassRef':tt,'execute':(_0x43e6ad,_0x43957d)=>D[_0xbbc829(0x29b)](_0x43e6ad,_0x43957d)});return _0xd7b731['status'](0xc9)[_0xbbc829(0x534)](_0x1fa8b8);})[_0x5a5b5b(0x5bf)](this['routerPath']('archiveChat'),..._0x20ada4,async(_0x55a2ba,_0x5cacd1)=>{const _0xb46dce=_0x5a5b5b;let _0x350a55=await this['dataValidate']({'request':_0x55a2ba,'schema':Ka,'ClassRef':st,'execute':(_0x125924,_0x15e1a4)=>D[_0xb46dce(0x11b)](_0x125924,_0x15e1a4)});return _0x5cacd1[_0xb46dce(0x202)](0xc9)[_0xb46dce(0x534)](_0x350a55);})['delete'](this['routerPath'](_0x5a5b5b(0x746)),..._0x20ada4,async(_0x28e5c8,_0x363deb)=>{const _0x9580fb=_0x5a5b5b;let _0x320908=await this[_0x9580fb(0x396)]({'request':_0x28e5c8,'schema':Qa,'ClassRef':it,'execute':(_0x278d92,_0x5c6cc8)=>D[_0x9580fb(0x671)](_0x278d92,_0x5c6cc8)});return _0x363deb[_0x9580fb(0x202)](0xc9)['json'](_0x320908);})[_0x5a5b5b(0x4de)](this[_0x5a5b5b(0x537)](_0x5a5b5b(0x2a4)),..._0x20ada4,async(_0x279514,_0x158b84)=>{const _0x531640=_0x5a5b5b;let _0x47afac=await this[_0x531640(0x396)]({'request':_0x279514,'schema':xe,'ClassRef':_e,'execute':(_0x1c4f66,_0x267671)=>D[_0x531640(0x3d0)](_0x1c4f66,_0x267671)});return _0x158b84[_0x531640(0x202)](0xc8)[_0x531640(0x534)](_0x47afac);})[_0x5a5b5b(0x4de)](this[_0x5a5b5b(0x537)](_0x5a5b5b(0x484)),..._0x20ada4,async(_0x2c5243,_0x3250bb)=>{const _0x15d55a=_0x5a5b5b;let _0x39ec8e=await this[_0x15d55a(0x396)]({'request':_0x2c5243,'schema':ei,'ClassRef':_e,'execute':(_0x2b5caa,_0x3367a4)=>D[_0x15d55a(0x484)](_0x2b5caa,_0x3367a4)});return _0x3250bb[_0x15d55a(0x202)](0xc8)['json'](_0x39ec8e);})[_0x5a5b5b(0x4de)](this[_0x5a5b5b(0x537)](_0x5a5b5b(0x626)),..._0x20ada4,async(_0x38367d,_0x257eb6)=>{const _0x5034d3=_0x5a5b5b;let _0x29a40b=await this[_0x5034d3(0x396)]({'request':_0x38367d,'schema':Ya,'ClassRef':rt,'execute':(_0x36e69f,_0x2845c3)=>D['fetchContacts'](_0x36e69f,_0x2845c3)});return _0x257eb6['status'](0xc8)['json'](_0x29a40b);})[_0x5a5b5b(0x4de)](this['routerPath'](_0x5a5b5b(0x2d8)),..._0x20ada4,async(_0x1e249c,_0x5c05ab)=>{const _0x13c822=_0x5a5b5b;let _0x429b27=await this[_0x13c822(0x396)]({'request':_0x1e249c,'schema':null,'ClassRef':Object,'execute':(_0x5f0ea4,_0x445ebc)=>D[_0x13c822(0x2d8)](_0x5f0ea4,_0x445ebc)});return _0x5c05ab[_0x13c822(0x202)](0xc9)[_0x13c822(0x534)](_0x429b27);})['post'](this[_0x5a5b5b(0x537)]('findMessages'),..._0x20ada4,async(_0x323204,_0x1638f4)=>{const _0x206429=_0x5a5b5b;let _0x1b768c=await this['dataValidate']({'request':_0x323204,'schema':ti,'ClassRef':Ke,'execute':(_0x1fff1b,_0x5a1ef6)=>D[_0x206429(0x26f)](_0x1fff1b,_0x5a1ef6)});return _0x1638f4[_0x206429(0x202)](0xc8)[_0x206429(0x534)](_0x1b768c);})[_0x5a5b5b(0x1d4)](this[_0x5a5b5b(0x537)]('findChats'),..._0x20ada4,async(_0x1f2120,_0x1cab07)=>{const _0xcb4288=_0x5a5b5b;let _0x4d943c=await this[_0xcb4288(0x396)]({'request':_0x1f2120,'schema':null,'ClassRef':M,'execute':_0x3da718=>D['fetchChats'](_0x3da718)});return _0x1cab07[_0xcb4288(0x202)](0xc8)['json'](_0x4d943c);})['get'](this['routerPath']('findLabels'),..._0x20ada4,async(_0xc5c112,_0x2df663)=>{const _0x563ad3=_0x5a5b5b;let _0x4ca011=await this['dataValidate']({'request':_0xc5c112,'schema':null,'ClassRef':M,'execute':_0x580b7b=>D[_0x563ad3(0x29c)](_0x580b7b)});return _0x2df663[_0x563ad3(0x202)](0xc8)['json'](_0x4ca011);})['put'](this[_0x5a5b5b(0x537)](_0x5a5b5b(0x1af)),..._0x20ada4,async(_0xbcc620,_0x4b48ec)=>{const _0x1dfc9f=_0x5a5b5b;let _0x1bdb24=await this['dataValidate']({'request':_0xbcc620,'schema':null,'ClassRef':Array,'execute':(_0x197521,_0x532acb)=>D[_0x1dfc9f(0x1af)](_0x197521,_0x532acb)});return _0x4b48ec[_0x1dfc9f(0x202)](0xc8)[_0x1dfc9f(0x534)](_0x1bdb24);})[_0x5a5b5b(0x1d4)](this[_0x5a5b5b(0x537)](_0x5a5b5b(0x781)),..._0x20ada4,async(_0x37526d,_0x58990f)=>{const _0x1848ca=_0x5a5b5b;let _0x1e8770=await this[_0x1848ca(0x396)]({'request':_0x37526d,'schema':null,'ClassRef':M,'execute':_0x5a634a=>D[_0x1848ca(0x781)](_0x5a634a)});return _0x58990f[_0x1848ca(0x202)](0xc8)[_0x1848ca(0x534)](_0x1e8770);})['put'](this['routerPath']('updatePrivacySettings'),..._0x20ada4,async(_0x3ef33a,_0x41f4a2)=>{const _0x696a33=_0x5a5b5b;let _0x4706ed=await this[_0x696a33(0x396)]({'request':_0x3ef33a,'schema':Ha,'ClassRef':at,'execute':(_0x5036ef,_0x652aab)=>D[_0x696a33(0x598)](_0x5036ef,_0x652aab)});return _0x41f4a2[_0x696a33(0x202)](0xc9)['json'](_0x4706ed);})[_0x5a5b5b(0x4de)](this['routerPath'](_0x5a5b5b(0x4da)),..._0x20ada4,async(_0x2cbbd1,_0x3e2842)=>{const _0x487e6a=_0x5a5b5b;let _0x5454c3=await this[_0x487e6a(0x396)]({'request':_0x2cbbd1,'schema':xe,'ClassRef':ve,'execute':(_0x2d02ac,_0x1a8bba)=>D[_0x487e6a(0x4da)](_0x2d02ac,_0x1a8bba)});return _0x3e2842[_0x487e6a(0x202)](0xc8)[_0x487e6a(0x534)](_0x5454c3);})['post'](this[_0x5a5b5b(0x537)]('updateProfileName'),..._0x20ada4,async(_0x30fdef,_0xf8372e)=>{const _0x3b2f89=_0x5a5b5b;let _0x4f0cc9=await this['dataValidate']({'request':_0x30fdef,'schema':Xa,'ClassRef':Ze,'execute':(_0x41c661,_0x127769)=>D[_0x3b2f89(0x79e)](_0x41c661,_0x127769)});return _0xf8372e['status'](0xc8)[_0x3b2f89(0x534)](_0x4f0cc9);})['post'](this[_0x5a5b5b(0x537)]('updateProfileStatus'),..._0x20ada4,async(_0x5ae487,_0x2c7edd)=>{const _0x38e787=_0x5a5b5b;let _0x2787c3=await this[_0x38e787(0x396)]({'request':_0x5ae487,'schema':Za,'ClassRef':et,'execute':(_0x48b461,_0xb185f2)=>D[_0x38e787(0x3ec)](_0x48b461,_0xb185f2)});return _0x2c7edd[_0x38e787(0x202)](0xc8)[_0x38e787(0x534)](_0x2787c3);})[_0x5a5b5b(0x5bf)](this['routerPath']('updateProfilePicture'),..._0x20ada4,async(_0x488f83,_0x3156fb)=>{const _0x3590ab=_0x5a5b5b;let _0x3e7844=await this[_0x3590ab(0x396)]({'request':_0x488f83,'schema':xe,'ClassRef':ve,'execute':(_0x1d995c,_0x5127c8)=>D[_0x3590ab(0x58d)](_0x1d995c,_0x5127c8)});return _0x3156fb[_0x3590ab(0x202)](0xc8)[_0x3590ab(0x534)](_0x3e7844);})[_0x5a5b5b(0x7c3)](this['routerPath'](_0x5a5b5b(0xe1)),..._0x20ada4,async(_0x20fca,_0x49e609)=>{const _0x50ab79=_0x5a5b5b;let _0x3fde66=await this['dataValidate']({'request':_0x20fca,'schema':xe,'ClassRef':ve,'execute':(_0x3ca88e,_0x25c47c)=>D[_0x50ab79(0xe1)](_0x3ca88e,_0x25c47c)});return _0x49e609[_0x50ab79(0x202)](0xc8)[_0x50ab79(0x534)](_0x3fde66);});}},hi=require(a0_0xc869c4(0x37d)),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},De=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x2ac4ee){const _0x5ab68d=a0_0xc869c4;super(),this[_0x5ab68d(0x85c)]=(0x0,hi['Router'])(),this[_0x5ab68d(0x85c)][_0x5ab68d(0x4de)](this[_0x5ab68d(0x537)](_0x5ab68d(0x5de)),..._0x2ac4ee,async(_0x26e4a7,_0x3d1511)=>{const _0x3620a9=_0x5ab68d;let _0x5b4628=await this['dataValidate']({'request':_0x26e4a7,'schema':ai,'ClassRef':ut,'execute':(_0x3ea7f6,_0x3b6548)=>q[_0x3620a9(0x1c3)](_0x3ea7f6,_0x3b6548)});_0x3d1511[_0x3620a9(0x202)](0xc9)['json'](_0x5b4628);})[_0x5ab68d(0x5bf)](this[_0x5ab68d(0x537)](_0x5ab68d(0x415)),..._0x2ac4ee,async(_0x1160ce,_0x3a483f)=>{const _0x5df9db=_0x5ab68d;let _0x409bfa=await this[_0x5df9db(0x187)]({'request':_0x1160ce,'schema':ri,'ClassRef':dt,'execute':(_0x4747cf,_0x9e7e0a)=>q['updateGroupPicture'](_0x4747cf,_0x9e7e0a)});_0x3a483f[_0x5df9db(0x202)](0xc9)[_0x5df9db(0x534)](_0x409bfa);})['put'](this[_0x5ab68d(0x537)]('groupDesc'),..._0x2ac4ee,async(_0x305fb2,_0xf7d606)=>{const _0x353782=_0x5ab68d;let _0x4e24b5=await this[_0x353782(0x187)]({'request':_0x305fb2,'schema':ni,'ClassRef':pt,'execute':(_0x1d43d2,_0x4d46a6)=>q[_0x353782(0x121)](_0x1d43d2,_0x4d46a6)});_0xf7d606[_0x353782(0x202)](0xc9)['json'](_0x4e24b5);})[_0x5ab68d(0x5bf)](this[_0x5ab68d(0x537)]('groupName'),..._0x2ac4ee,async(_0x2c8710,_0x4c3748)=>{const _0x2cff00=_0x5ab68d;let _0x352fc3=await this[_0x2cff00(0x187)]({'request':_0x2c8710,'schema':ci,'ClassRef':ht,'execute':(_0x52426d,_0x37a560)=>q[_0x2cff00(0x6c7)](_0x52426d,_0x37a560)});_0x4c3748['status'](0xc9)[_0x2cff00(0x534)](_0x352fc3);})['put'](this[_0x5ab68d(0x537)](_0x5ab68d(0x85b)),..._0x2ac4ee,async(_0x266955,_0x492acd)=>{const _0x55dbe8=_0x5ab68d;let _0x28d991=await this[_0x55dbe8(0x187)]({'request':_0x266955,'schema':ui,'ClassRef':mt,'execute':(_0x27b692,_0x435b87)=>q[_0x55dbe8(0x85b)](_0x27b692,_0x435b87)});_0x492acd['status'](0xc9)[_0x55dbe8(0x534)](_0x28d991);})[_0x5ab68d(0x5bf)](this[_0x5ab68d(0x537)](_0x5ab68d(0x460)),..._0x2ac4ee,async(_0x1fd891,_0x41a94b)=>{const _0x5d74c0=_0x5ab68d;let _0x8281e2=await this[_0x5d74c0(0x187)]({'request':_0x1fd891,'schema':li,'ClassRef':gt,'execute':(_0xdd5035,_0x4ef40e)=>q['groupSetting'](_0xdd5035,_0x4ef40e)});_0x41a94b[_0x5d74c0(0x202)](0xc9)[_0x5d74c0(0x534)](_0x8281e2);})[_0x5ab68d(0x5bf)](this[_0x5ab68d(0x537)](_0x5ab68d(0x163)),..._0x2ac4ee,async(_0x555ac1,_0x468414)=>{const _0x11f0b0=_0x5ab68d;let _0x143a89=await this['groupValidate']({'request':_0x555ac1,'schema':oi,'ClassRef':wt,'execute':(_0x23d61d,_0x371a21)=>q[_0x11f0b0(0x163)](_0x23d61d,_0x371a21)});_0x468414[_0x11f0b0(0x202)](0xc9)[_0x11f0b0(0x534)](_0x143a89);})[_0x5ab68d(0x1d4)](this[_0x5ab68d(0x537)](_0x5ab68d(0x48a)),..._0x2ac4ee,async(_0x220087,_0x3ddcd1)=>{const _0x4791c0=_0x5ab68d;let _0x1ecf10=await this['groupValidate']({'request':_0x220087,'schema':Pe,'ClassRef':ee,'execute':(_0x4a01fa,_0x4bce18)=>q[_0x4791c0(0xd4)](_0x4a01fa,_0x4bce18)});_0x3ddcd1['status'](0xc8)['json'](_0x1ecf10);})['get'](this[_0x5ab68d(0x537)]('findGroups'),..._0x2ac4ee,async(_0x4a500d,_0x31c36f)=>{const _0x15289f=_0x5ab68d;let _0x333bee=await this[_0x15289f(0x396)]({'request':_0x4a500d,'schema':N,'ClassRef':M,'execute':_0x2e3633=>q[_0x15289f(0x2e9)](_0x2e3633)});_0x31c36f[_0x15289f(0x202)](0xc8)[_0x15289f(0x534)](_0x333bee);})[_0x5ab68d(0x1d4)](this[_0x5ab68d(0x537)]('participants'),..._0x2ac4ee,async(_0x1e6066,_0x1c96ee)=>{const _0x2a4576=_0x5ab68d;let _0x25b1b1=await this[_0x2a4576(0x187)]({'request':_0x1e6066,'schema':Pe,'ClassRef':ee,'execute':(_0x16d4fe,_0x51fc05)=>q[_0x2a4576(0x2a6)](_0x16d4fe,_0x51fc05)});_0x1c96ee[_0x2a4576(0x202)](0xc8)[_0x2a4576(0x534)](_0x25b1b1);})[_0x5ab68d(0x1d4)](this[_0x5ab68d(0x537)](_0x5ab68d(0x5af)),..._0x2ac4ee,async(_0x49fbe9,_0x238481)=>{const _0x3b8f70=_0x5ab68d;let _0x51043e=await this['groupValidate']({'request':_0x49fbe9,'schema':Pe,'ClassRef':ee,'execute':(_0x53c6ae,_0x7c81ed)=>q[_0x3b8f70(0x5af)](_0x53c6ae,_0x7c81ed)});_0x238481[_0x3b8f70(0x202)](0xc8)[_0x3b8f70(0x534)](_0x51043e);})[_0x5ab68d(0x4de)](this[_0x5ab68d(0x537)](_0x5ab68d(0x1da)),..._0x2ac4ee,async(_0xf8f78e,_0x3b62c2)=>{const _0x46c2a9=_0x5ab68d;let _0x1885f5=await this[_0x46c2a9(0x7a3)]({'request':_0xf8f78e,'schema':Ns,'ClassRef':De,'execute':(_0x44dfab,_0x2b8581)=>q['groupGetInviteInfo'](_0x44dfab,_0x2b8581)});_0x3b62c2['status'](0xc9)[_0x46c2a9(0x534)](_0x1885f5);})['put'](this[_0x5ab68d(0x537)](_0x5ab68d(0x591)),..._0x2ac4ee,async(_0x4f3aec,_0x282573)=>{const _0x5c93d2=_0x5ab68d;let _0x75b533=await this[_0x5c93d2(0x7a3)]({'request':_0x4f3aec,'schema':Ns,'ClassRef':De,'execute':(_0x38cda1,_0x34911a)=>q['joinGroup'](_0x38cda1,_0x34911a)});_0x282573['status'](0xc9)[_0x5c93d2(0x534)](_0x75b533);})[_0x5ab68d(0x5bf)](this[_0x5ab68d(0x537)](_0x5ab68d(0x340)),..._0x2ac4ee,async(_0x3b1db3,_0x3af3d7)=>{const _0x44c05d=_0x5ab68d;let _0x406628=await this[_0x44c05d(0x187)]({'request':_0x3b1db3,'schema':Pe,'ClassRef':ee,'execute':(_0x12bf91,_0x414107)=>q['revokeInviteCode'](_0x12bf91,_0x414107)});_0x3af3d7[_0x44c05d(0x202)](0xc9)[_0x44c05d(0x534)](_0x406628);})[_0x5ab68d(0x5bf)](this[_0x5ab68d(0x537)](_0x5ab68d(0x480)),..._0x2ac4ee,async(_0xec44e7,_0xecabd2)=>{const _0x1d91b9=_0x5ab68d;let _0x5a091c=await this[_0x1d91b9(0x187)]({'request':_0xec44e7,'schema':ii,'ClassRef':ft,'execute':(_0x290fc0,_0x354e69)=>q[_0x1d91b9(0x3f1)](_0x290fc0,_0x354e69)});_0xecabd2[_0x1d91b9(0x202)](0xc9)[_0x1d91b9(0x534)](_0x5a091c);})[_0x5ab68d(0x7c3)](this[_0x5ab68d(0x537)]('leaveGroup'),..._0x2ac4ee,async(_0x28f2b1,_0x203027)=>{const _0x4738d1=_0x5ab68d;let _0x13d4d1=await this['groupValidate']({'request':_0x28f2b1,'schema':{},'ClassRef':ee,'execute':(_0x50de5c,_0x214c8f)=>q['leaveGroup'](_0x50de5c,_0x214c8f)});_0x203027[_0x4738d1(0x202)](0xc8)['json'](_0x13d4d1);});}},gi=require(a0_0xc869c4(0x37d)),bt=class extends V{constructor(_0x1131cf,..._0x2ca0b5){const _0x30ea86=a0_0xc869c4;super(),this[_0x30ea86(0x3a6)]=_0x1131cf,this[_0x30ea86(0x85c)]=(0x0,gi[_0x30ea86(0x623)])();let _0x5acca8=_0x1131cf[_0x30ea86(0x1d4)](_0x30ea86(0x6aa));this[_0x30ea86(0x85c)]['post'](_0x30ea86(0x65f),..._0x2ca0b5,async(_0x4959d4,_0x33c20a)=>{const _0x3cb711=_0x30ea86;let {instanceName:_0x55a88a,apikey:_0x54b4b0,number:_0x3430cc}=_0x4959d4[_0x3cb711(0x83c)],_0x5688e2=await ue[_0x3cb711(0x6a9)]({'instanceName':_0x55a88a,'apikey':_0x54b4b0,'number':_0x3430cc});return _0x33c20a[_0x3cb711(0x202)](0xc9)[_0x3cb711(0x534)](_0x5688e2);})[_0x30ea86(0x5bf)](this[_0x30ea86(0x537)](_0x30ea86(0x35a)),..._0x2ca0b5,async(_0x34cfa3,_0x4e4331)=>{const _0x1b4a24=_0x30ea86;let _0x21bcfe=await this[_0x1b4a24(0x396)]({'request':_0x34cfa3,'schema':N,'ClassRef':M,'execute':_0xb174b1=>ue[_0x1b4a24(0x5a9)](_0xb174b1)});return _0x4e4331['status'](0xc8)['json'](_0x21bcfe);})[_0x30ea86(0x1d4)](this[_0x30ea86(0x537)](_0x30ea86(0x55e)),..._0x2ca0b5,async(_0x38c268,_0x19f200)=>{const _0x1c6ac0=_0x30ea86;let _0x36e874=await this[_0x1c6ac0(0x396)]({'request':_0x38c268,'schema':N,'ClassRef':M,'execute':_0x4b53ea=>ue[_0x1c6ac0(0x764)](_0x4b53ea)});return _0x19f200[_0x1c6ac0(0x202)](0xc8)[_0x1c6ac0(0x534)](_0x36e874);})[_0x30ea86(0x1d4)](this['routerPath'](_0x30ea86(0x539)),..._0x2ca0b5,async(_0x544430,_0xe839c0)=>{const _0x1520f5=_0x30ea86;let _0x3d78c9=await this[_0x1520f5(0x396)]({'request':_0x544430,'schema':N,'ClassRef':M,'execute':_0xfde7f2=>ue[_0x1520f5(0x539)](_0xfde7f2)});return _0xe839c0[_0x1520f5(0x202)](0xc8)[_0x1520f5(0x534)](_0x3d78c9);})['get'](this[_0x30ea86(0x537)](_0x30ea86(0x252),!0x1),..._0x2ca0b5,async(_0xf52620,_0x675323)=>{const _0x80e55b=_0x30ea86;let _0x4a500b=await this[_0x80e55b(0x396)]({'request':_0xf52620,'schema':null,'ClassRef':M,'execute':_0x2ec829=>ue[_0x80e55b(0x252)](_0x2ec829)});return _0x675323[_0x80e55b(0x202)](0xc8)['json'](_0x4a500b);})[_0x30ea86(0x7c3)](this[_0x30ea86(0x537)](_0x30ea86(0x849)),..._0x2ca0b5,async(_0x2be787,_0x42f75f)=>{const _0x26c5dd=_0x30ea86;let _0x3a8f27=await this['dataValidate']({'request':_0x2be787,'schema':N,'ClassRef':M,'execute':_0x32b4bd=>ue[_0x26c5dd(0x849)](_0x32b4bd)});return _0x42f75f['status'](0xc8)[_0x26c5dd(0x534)](_0x3a8f27);})[_0x30ea86(0x7c3)](this[_0x30ea86(0x537)](_0x30ea86(0x7c3)),..._0x2ca0b5,async(_0x4d1646,_0x14f479)=>{const _0x659bb3=_0x30ea86;let _0x20951c=await this[_0x659bb3(0x396)]({'request':_0x4d1646,'schema':N,'ClassRef':M,'execute':_0x2ff91c=>ue[_0x659bb3(0x205)](_0x2ff91c)});return _0x14f479['status'](0xc8)['json'](_0x20951c);});}},mi=require(a0_0xc869c4(0x37d)),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},ke=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x148f6e){const _0x1c97a0=a0_0xc869c4;super(),this['router']=(0x0,mi[_0x1c97a0(0x623)])(),this[_0x1c97a0(0x85c)][_0x1c97a0(0x4de)](this[_0x1c97a0(0x537)](_0x1c97a0(0x258)),..._0x148f6e,async(_0x237a79,_0x515116)=>{const _0x1f33be=_0x1c97a0;let _0x5b5c12=await this[_0x1f33be(0x396)]({'request':_0x237a79,'schema':Pa,'ClassRef':St,'execute':(_0x5c4d21,_0x282a18)=>B[_0x1f33be(0x258)](_0x5c4d21,_0x282a18)});return _0x515116[_0x1f33be(0x202)](0xc9)['json'](_0x5b5c12);})[_0x1c97a0(0x4de)](this[_0x1c97a0(0x537)](_0x1c97a0(0x75c)),..._0x148f6e,async(_0x18a9b8,_0x46382d)=>{const _0xbeb1c0=_0x1c97a0;let _0x331c64=await this[_0xbeb1c0(0x396)]({'request':_0x18a9b8,'schema':Fa,'ClassRef':ke,'execute':(_0x1795cd,_0x2e2d37)=>B[_0xbeb1c0(0x75c)](_0x1795cd,_0x2e2d37)});return _0x46382d['status'](0xc9)['json'](_0x331c64);})[_0x1c97a0(0x4de)](this[_0x1c97a0(0x537)](_0x1c97a0(0x2e6)),..._0x148f6e,async(_0x397eb7,_0x1ce1ac)=>{const _0x651d87=_0x1c97a0;let _0x3a83b6=await this[_0x651d87(0x396)]({'request':_0x397eb7,'schema':Ja,'ClassRef':vt,'execute':(_0xa2dea0,_0x2c5c02)=>B['sendMenu'](_0xa2dea0,_0x2c5c02)});return _0x1ce1ac[_0x651d87(0x202)](0xc9)[_0x651d87(0x534)](_0x3a83b6);})[_0x1c97a0(0x4de)](this[_0x1c97a0(0x537)](_0x1c97a0(0x3bf)),..._0x148f6e,async(_0x1b807c,_0x27caca)=>{const _0x392236=_0x1c97a0;let _0x1dcb18=await this[_0x392236(0x396)]({'request':_0x1b807c,'schema':Ua,'ClassRef':ke,'execute':(_0x4d74e7,_0x47dbe2)=>B[_0x392236(0x3bf)](_0x4d74e7,_0x47dbe2)});return _0x27caca['status'](0xc9)[_0x392236(0x534)](_0x1dcb18);})['post'](this['routerPath']('sendLocation'),..._0x148f6e,async(_0x4734ea,_0x3a03c1)=>{const _0x2ae1f9=_0x1c97a0;let _0x2fdf3b=await this['dataValidate']({'request':_0x4734ea,'schema':qa,'ClassRef':Nt,'execute':(_0x40f46b,_0x5a057f)=>B[_0x2ae1f9(0x6fb)](_0x40f46b,_0x5a057f)});return _0x3a03c1[_0x2ae1f9(0x202)](0xc9)['json'](_0x2fdf3b);})[_0x1c97a0(0x4de)](this[_0x1c97a0(0x537)](_0x1c97a0(0x326)),..._0x148f6e,async(_0x151042,_0x54736f)=>{const _0x531847=_0x1c97a0;let _0x2e71ff=await this[_0x531847(0x396)]({'request':_0x151042,'schema':Va,'ClassRef':$t,'execute':(_0x3fd1d0,_0xd9ba91)=>B[_0x531847(0x326)](_0x3fd1d0,_0xd9ba91)});return _0x54736f[_0x531847(0x202)](0xc9)[_0x531847(0x534)](_0x2e71ff);})['post'](this[_0x1c97a0(0x537)](_0x1c97a0(0x4c9)),..._0x148f6e,async(_0x2a7b79,_0x1c490c)=>{const _0x11cd05=_0x1c97a0;let _0x36f4be=await this[_0x11cd05(0x396)]({'request':_0x2a7b79,'schema':Ga,'ClassRef':Rt,'execute':(_0x3ac789,_0x5ec95a)=>B[_0x11cd05(0x4c9)](_0x3ac789,_0x5ec95a)});return _0x1c490c[_0x11cd05(0x202)](0xc9)[_0x11cd05(0x534)](_0x36f4be);})[_0x1c97a0(0x4de)](this[_0x1c97a0(0x537)](_0x1c97a0(0x70a)),..._0x148f6e,async(_0x37ac28,_0x311464)=>{const _0x2acb94=_0x1c97a0;let _0x1cc563=await this[_0x2acb94(0x396)]({'request':_0x37ac28,'schema':Ba,'ClassRef':At,'execute':(_0x283ae3,_0xb24871)=>B[_0x2acb94(0x70a)](_0x283ae3,_0xb24871)});return _0x311464[_0x2acb94(0x202)](0xc9)[_0x2acb94(0x534)](_0x1cc563);})[_0x1c97a0(0x4de)](this[_0x1c97a0(0x537)](_0x1c97a0(0x11f)),..._0x148f6e,async(_0x40fbcc,_0x237ba7)=>{const _0x2f7684=_0x1c97a0;let _0x45b8eb=await this[_0x2f7684(0x396)]({'request':_0x40fbcc,'schema':ja,'ClassRef':Ct,'execute':(_0x40a1b5,_0x2ea128)=>B[_0x2f7684(0x11f)](_0x40a1b5,_0x2ea128)});return _0x237ba7[_0x2f7684(0x202)](0xc9)['json'](_0x45b8eb);})[_0x1c97a0(0x4de)](this['routerPath'](_0x1c97a0(0x76c)),..._0x148f6e,async(_0x87d353,_0x377232)=>{const _0x1ad34e=_0x1c97a0;let _0x54f8a4=await this[_0x1ad34e(0x396)]({'request':_0x87d353,'schema':La,'ClassRef':Mt,'execute':(_0x1d77f5,_0x19fcee)=>B[_0x1ad34e(0x76c)](_0x1d77f5,_0x19fcee)});return _0x377232[_0x1ad34e(0x202)](0xc9)[_0x1ad34e(0x534)](_0x54f8a4);})[_0x1c97a0(0x4de)](this[_0x1c97a0(0x537)](_0x1c97a0(0x660)),..._0x148f6e,async(_0x5749c7,_0x256e19)=>{const _0x54830b=_0x1c97a0;let _0x124575=await this[_0x54830b(0x396)]({'request':_0x5749c7,'schema':ka,'ClassRef':Et,'execute':(_0x1c8f1b,_0x37a8c4)=>B[_0x54830b(0x660)](_0x1c8f1b,_0x37a8c4)});return _0x256e19[_0x54830b(0x202)](0xc9)[_0x54830b(0x534)](_0x124575);});}},fi=require('express'),It=class{},_t=class extends V{constructor(..._0x51b5b3){const _0x3fbc22=a0_0xc869c4;super(),this[_0x3fbc22(0x85c)]=(0x0,fi['Router'])(),this[_0x3fbc22(0x85c)][_0x3fbc22(0x4de)](this['routerPath'](_0x3fbc22(0x40c)),..._0x51b5b3,async(_0x5a051c,_0x2909a3)=>{const _0x37fd65=_0x3fbc22;let _0x3fc02f=await this[_0x37fd65(0x396)]({'request':_0x5a051c,'schema':di,'ClassRef':It,'execute':(_0x58bd1d,_0x23e8fa)=>As[_0x37fd65(0x3de)](_0x58bd1d,_0x23e8fa)});_0x2909a3[_0x37fd65(0x202)](0xc9)['json'](_0x3fc02f);})[_0x3fbc22(0x1d4)](this[_0x3fbc22(0x537)](_0x3fbc22(0x194)),..._0x51b5b3,async(_0x378293,_0x41dbb4)=>{const _0x57c827=_0x3fbc22;let _0x2e0d45=await this[_0x57c827(0x396)]({'request':_0x378293,'schema':N,'ClassRef':M,'execute':_0x1537c6=>As[_0x57c827(0x6c0)](_0x1537c6)});_0x41dbb4[_0x57c827(0x202)](0xc8)[_0x57c827(0x534)](_0x2e0d45);});}},wi=require(a0_0xc869c4(0x37d)),y=new $('FlowRouter'),Ot=class extends V{constructor(..._0x56634e){const _0x5916dc=a0_0xc869c4;super(),this[_0x5916dc(0x85c)]=(0x0,wi[_0x5916dc(0x623)])(),this[_0x5916dc(0x85c)]['post'](this[_0x5916dc(0x537)](_0x5916dc(0x101)),..._0x56634e,async(_0x22488a,_0x125e95)=>{const _0x5cd377=_0x5916dc;let _0x17ecff=_0x22488a[_0x5cd377(0x83c)];y[_0x5cd377(0x5a1)](_0x5cd377(0x7a4)),y[_0x5cd377(0x5a1)](_0x5cd377(0x6f9)),y[_0x5cd377(0x5a1)](_0x22488a[_0x5cd377(0x83c)]);let _0x41cea9=await this[_0x5cd377(0x396)]({'request':_0x22488a,'schema':N,'ClassRef':M,'execute':_0x3c75fd=>O[_0x5cd377(0x1b5)](_0x3c75fd,_0x17ecff)});_0x125e95[_0x5cd377(0x202)](0xc8)[_0x5cd377(0x534)](_0x41cea9);})[_0x5916dc(0x1d4)](this['routerPath']('scheduleMessage'),..._0x56634e,async(_0x172e9d,_0x59a499)=>{const _0x193efb=_0x5916dc;let _0x328c94=await this[_0x193efb(0x396)]({'request':_0x172e9d,'schema':N,'ClassRef':M,'execute':_0x442548=>O[_0x193efb(0x307)](_0x442548)});_0x59a499[_0x193efb(0x202)](0xc8)['json'](_0x328c94);})[_0x5916dc(0x7c3)](this[_0x5916dc(0x537)](_0x5916dc(0x51a)),..._0x56634e,async(_0x47c48a,_0x4fab61)=>{const _0x2f76df=_0x5916dc;y[_0x2f76df(0x5a1)](_0x2f76df(0x2b7));let _0x5beadf=await this[_0x2f76df(0x396)]({'request':_0x47c48a,'schema':N,'ClassRef':M,'execute':_0x499530=>O[_0x2f76df(0x51a)](_0x499530)});_0x4fab61[_0x2f76df(0x202)](0xc8)[_0x2f76df(0x534)](_0x5beadf);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x454)),..._0x56634e,async(_0x338373,_0x3d96b3)=>{const _0x40caa5=_0x5916dc;let _0x279cde=_0x338373[_0x40caa5(0x83c)];y['verbose'](_0x40caa5(0x1d7)),y[_0x40caa5(0x5a1)](_0x40caa5(0x6f9)),y['verbose'](_0x338373['body']);let _0x3746b5=await this['dataValidate']({'request':_0x338373,'schema':N,'ClassRef':M,'execute':_0x573d0b=>O[_0x40caa5(0x454)](_0x573d0b,_0x279cde)});_0x3d96b3[_0x40caa5(0x202)](0xc8)[_0x40caa5(0x534)](_0x3746b5);})[_0x5916dc(0x1d4)](this[_0x5916dc(0x537)](_0x5916dc(0x329)),..._0x56634e,async(_0x46a267,_0x3c8413)=>{const _0x15f2b6=_0x5916dc;y[_0x15f2b6(0x5a1)](_0x15f2b6(0x82c));let _0x3e2310=await this['dataValidate']({'request':_0x46a267,'schema':N,'ClassRef':M,'execute':_0x2d7156=>O[_0x15f2b6(0x329)](_0x2d7156)});_0x3c8413[_0x15f2b6(0x202)](0xc8)['json'](_0x3e2310);})['get'](this[_0x5916dc(0x537)](_0x5916dc(0x646)),..._0x56634e,async(_0x3c446c,_0x16c924)=>{const _0x5b36dc=_0x5916dc;y[_0x5b36dc(0x5a1)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x598123=await this['dataValidate']({'request':_0x3c446c,'schema':N,'ClassRef':M,'execute':_0x12eb78=>O['getAutomateSystem'](_0x12eb78)});_0x16c924['status'](0xc8)['json'](_0x598123);})['post'](this['routerPath']('updateAgent'),..._0x56634e,async(_0x4fa601,_0x4aeb70)=>{const _0x3dfb32=_0x5916dc;let _0x706c37=_0x4fa601['body'];y[_0x3dfb32(0x5a1)](_0x3dfb32(0x4e3)),y[_0x3dfb32(0x5a1)]('request\x20body:\x20'),y['verbose'](_0x4fa601[_0x3dfb32(0x83c)]);let _0x4f39e0=await this[_0x3dfb32(0x396)]({'request':_0x4fa601,'schema':N,'ClassRef':M,'execute':_0x5a7a62=>O[_0x3dfb32(0x610)](_0x5a7a62,_0x706c37)});_0x4aeb70[_0x3dfb32(0x202)](0xc8)['json'](_0x4f39e0);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x1df)),..._0x56634e,async(_0x230f4b,_0x3f27a7)=>{const _0x8f9729=_0x5916dc;let _0x4aa70f=_0x230f4b['body'];y[_0x8f9729(0x5a1)]('request\x20received\x20in\x20updateCustomFields'),y['verbose'](_0x8f9729(0x6f9)),y['verbose'](_0x230f4b['body']);let _0x4a29b0=await this[_0x8f9729(0x396)]({'request':_0x230f4b,'schema':N,'ClassRef':M,'execute':_0x2a16b5=>O[_0x8f9729(0x1df)](_0x2a16b5,_0x4aa70f)});_0x3f27a7[_0x8f9729(0x202)](0xc8)[_0x8f9729(0x534)](_0x4a29b0);})[_0x5916dc(0x4de)](this['routerPath'](_0x5916dc(0x629)),..._0x56634e,async(_0x116ba9,_0x3f938e)=>{const _0x297b05=_0x5916dc;let _0x5ccee6=_0x116ba9[_0x297b05(0x83c)];y['verbose'](_0x297b05(0x449)),y[_0x297b05(0x5a1)](_0x297b05(0x6f9)),y['verbose'](_0x116ba9[_0x297b05(0x83c)]);let _0x12ef42=await this[_0x297b05(0x396)]({'request':_0x116ba9,'schema':N,'ClassRef':M,'execute':_0x4d0d6=>O[_0x297b05(0x629)](_0x4d0d6,_0x5ccee6)});_0x3f938e[_0x297b05(0x202)](0xc8)[_0x297b05(0x534)](_0x12ef42);})[_0x5916dc(0x4de)](this['routerPath'](_0x5916dc(0x809)),..._0x56634e,async(_0x15a26b,_0x57abd9)=>{const _0x460b71=_0x5916dc;let _0x223af0=_0x15a26b[_0x460b71(0x83c)];y['verbose'](_0x460b71(0x30b)),y[_0x460b71(0x5a1)]('request\x20body:\x20'),y[_0x460b71(0x5a1)](_0x15a26b[_0x460b71(0x83c)]);let _0x102d7a=await this[_0x460b71(0x396)]({'request':_0x15a26b,'schema':N,'ClassRef':M,'execute':_0x1bf3d6=>O[_0x460b71(0x809)](_0x1bf3d6,_0x223af0)});_0x57abd9[_0x460b71(0x202)](0xc8)[_0x460b71(0x534)](_0x102d7a);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x355)),..._0x56634e,async(_0x25c84a,_0x4fba60)=>{const _0x40d922=_0x5916dc;let _0x3c367c=_0x25c84a['body'];y[_0x40d922(0x5a1)](_0x40d922(0x832)),y[_0x40d922(0x5a1)](_0x40d922(0x6f9)),y[_0x40d922(0x5a1)](_0x25c84a[_0x40d922(0x83c)]);let _0x49b46e=await this[_0x40d922(0x396)]({'request':_0x25c84a,'schema':N,'ClassRef':M,'execute':_0x5ea843=>O[_0x40d922(0x355)](_0x5ea843,_0x3c367c)});_0x4fba60[_0x40d922(0x202)](0xc8)['json'](_0x49b46e);})[_0x5916dc(0x4de)](this['routerPath'](_0x5916dc(0x81f)),..._0x56634e,async(_0x41eef9,_0x10f8eb)=>{const _0x236578=_0x5916dc;let _0x4388d2=_0x41eef9[_0x236578(0x83c)];y[_0x236578(0x5a1)](_0x236578(0x206)),y[_0x236578(0x5a1)](_0x236578(0x6f9)),y[_0x236578(0x5a1)](_0x41eef9[_0x236578(0x83c)]);let _0x48a074=await this[_0x236578(0x396)]({'request':_0x41eef9,'schema':N,'ClassRef':M,'execute':_0x177e23=>O[_0x236578(0x81f)](_0x177e23,_0x4388d2)});_0x10f8eb[_0x236578(0x202)](0xc8)[_0x236578(0x534)](_0x48a074);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x5bc)),..._0x56634e,async(_0x544f36,_0x3647ec)=>{const _0x395a76=_0x5916dc;let _0x2ee983=_0x544f36[_0x395a76(0x83c)];y[_0x395a76(0x5a1)](_0x395a76(0x48e)),y[_0x395a76(0x5a1)]('request\x20body:\x20'),y['verbose'](_0x544f36[_0x395a76(0x83c)]);let _0x5e6bcc=await this['dataValidate']({'request':_0x544f36,'schema':N,'ClassRef':M,'execute':_0x23bd68=>O[_0x395a76(0x5bc)](_0x23bd68,_0x2ee983)});_0x3647ec[_0x395a76(0x202)](0xc8)[_0x395a76(0x534)](_0x5e6bcc);})[_0x5916dc(0x7c3)](this[_0x5916dc(0x537)]('deleteConversation'),..._0x56634e,async(_0x288591,_0x1aeae5)=>{const _0x4c6a96=_0x5916dc;let _0x9d0731=_0x288591[_0x4c6a96(0x83c)];y[_0x4c6a96(0x5a1)](_0x4c6a96(0x50e)),y[_0x4c6a96(0x5a1)](_0x4c6a96(0x6f9)),y[_0x4c6a96(0x5a1)](_0x288591[_0x4c6a96(0x83c)]);let _0x163af0=await this['dataValidate']({'request':_0x288591,'schema':N,'ClassRef':M,'execute':_0x45150e=>O[_0x4c6a96(0x655)](_0x45150e,_0x9d0731)});_0x1aeae5[_0x4c6a96(0x202)](0xc8)['json'](_0x163af0);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x692)),..._0x56634e,async(_0x31cc97,_0x4d09a7)=>{const _0x4a87bc=_0x5916dc;let _0x2f8fa9=_0x31cc97[_0x4a87bc(0x83c)],_0x290bd8=_0x31cc97['headers'][_0x4a87bc(0x6c3)];y[_0x4a87bc(0x5a1)](_0x4a87bc(0x139)),y['verbose'](_0x4a87bc(0x6f9)),y[_0x4a87bc(0x5a1)](_0x31cc97[_0x4a87bc(0x83c)]);let _0x7324fb=await this[_0x4a87bc(0x396)]({'request':_0x31cc97,'schema':N,'ClassRef':M,'execute':_0x5c23aa=>O[_0x4a87bc(0x116)](_0x5c23aa,_0x2f8fa9,_0x290bd8)});_0x4d09a7[_0x4a87bc(0x202)](0xc8)[_0x4a87bc(0x534)](_0x7324fb);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x4ac)),..._0x56634e,async(_0x246c5a,_0x283314)=>{const _0x40117c=_0x5916dc;let _0x41c1f0=_0x246c5a[_0x40117c(0x83c)],_0x5587fc=_0x246c5a[_0x40117c(0x125)][_0x40117c(0x6c3)];y[_0x40117c(0x5a1)](_0x40117c(0x18f)),y['verbose'](_0x40117c(0x6f9)),y[_0x40117c(0x5a1)](_0x246c5a[_0x40117c(0x83c)]),delete _0x41c1f0[_0x40117c(0x755)],delete _0x41c1f0[_0x40117c(0x56f)],delete _0x41c1f0['groups'],delete _0x41c1f0[_0x40117c(0x51b)];let _0x289306=await this['dataValidate']({'request':_0x246c5a,'schema':N,'ClassRef':M,'execute':_0x36d63a=>O['editFlow'](_0x36d63a,_0x41c1f0,_0x5587fc)});_0x283314[_0x40117c(0x202)](0xc8)[_0x40117c(0x534)](_0x289306);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x353)),..._0x56634e,async(_0x5b150b,_0x140f46)=>{const _0xa9190f=_0x5916dc;let _0x281eaf=_0x5b150b['body'];y[_0xa9190f(0x5a1)](_0xa9190f(0x18f)),y['verbose'](_0xa9190f(0x6f9)),y[_0xa9190f(0x5a1)](_0x5b150b['body']);let _0x49f9ae=await this[_0xa9190f(0x396)]({'request':_0x5b150b,'schema':N,'ClassRef':M,'execute':_0x1904f3=>O['editFlowBlock'](_0x1904f3,_0x281eaf)});_0x140f46[_0xa9190f(0x202)](0xc8)[_0xa9190f(0x534)](_0x49f9ae);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)]('editflowreply'),..._0x56634e,async(_0x793821,_0x42a2de)=>{const _0x414fd2=_0x5916dc;let _0x4a2746=_0x793821[_0x414fd2(0x83c)];y[_0x414fd2(0x5a1)](_0x414fd2(0x18f)),y[_0x414fd2(0x5a1)](_0x414fd2(0x6f9)),y[_0x414fd2(0x5a1)](_0x793821[_0x414fd2(0x83c)]);let _0x57234f=await this[_0x414fd2(0x396)]({'request':_0x793821,'schema':N,'ClassRef':M,'execute':_0x41c792=>O[_0x414fd2(0x551)](_0x41c792,_0x4a2746)});_0x42a2de[_0x414fd2(0x202)](0xc8)[_0x414fd2(0x534)](_0x57234f);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x5ce)),..._0x56634e,async(_0x3e6328,_0x1b7fff)=>{const _0x171bda=_0x5916dc;let _0x2bd864=_0x3e6328[_0x171bda(0x83c)];y[_0x171bda(0x5a1)](_0x171bda(0x18f)),y['verbose'](_0x171bda(0x6f9)),y[_0x171bda(0x5a1)](_0x3e6328[_0x171bda(0x83c)]);let _0x44a25d=await this[_0x171bda(0x396)]({'request':_0x3e6328,'schema':N,'ClassRef':M,'execute':_0xfcd3c7=>O[_0x171bda(0x5c1)](_0xfcd3c7,_0x2bd864)});_0x1b7fff[_0x171bda(0x202)](0xc8)[_0x171bda(0x534)](_0x44a25d);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x2b9)),..._0x56634e,async(_0x3e533d,_0x323d8b)=>{const _0x424665=_0x5916dc;let _0x561acb=_0x3e533d['body'];y[_0x424665(0x5a1)](_0x424665(0x20a)),y[_0x424665(0x5a1)](_0x424665(0x6f9)),y[_0x424665(0x5a1)](_0x3e533d['body']);let _0x1d1704=await this[_0x424665(0x396)]({'request':_0x3e533d,'schema':N,'ClassRef':M,'execute':_0x5aa74d=>O[_0x424665(0x158)](_0x5aa74d,_0x561acb)});_0x323d8b[_0x424665(0x202)](0xc8)[_0x424665(0x534)](_0x1d1704);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)](_0x5916dc(0x6ac)),..._0x56634e,async(_0x32264d,_0x1c8c06)=>{const _0x2cafe6=_0x5916dc;let _0x43bd45=_0x32264d[_0x2cafe6(0x83c)];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y[_0x2cafe6(0x5a1)]('request\x20body:\x20'),y[_0x2cafe6(0x5a1)](_0x32264d['body']);let _0x456512=await this[_0x2cafe6(0x396)]({'request':_0x32264d,'schema':N,'ClassRef':M,'execute':_0x449216=>O[_0x2cafe6(0x104)](_0x449216,_0x43bd45)});_0x1c8c06[_0x2cafe6(0x202)](0xc8)['json'](_0x456512);})[_0x5916dc(0x4de)](this['routerPath'](_0x5916dc(0x133)),..._0x56634e,async(_0x51236d,_0x2824a0)=>{const _0x11b496=_0x5916dc;let _0x481c0a=_0x51236d[_0x11b496(0x83c)];y[_0x11b496(0x5a1)](_0x11b496(0x7f2)),y[_0x11b496(0x5a1)]('request\x20body:\x20'),y['verbose'](_0x51236d[_0x11b496(0x83c)]);let _0x3399da=await this[_0x11b496(0x396)]({'request':_0x51236d,'schema':N,'ClassRef':M,'execute':_0x32c2c7=>O[_0x11b496(0x6fa)](_0x32c2c7,_0x481c0a)});_0x2824a0['status'](0xc8)[_0x11b496(0x534)](_0x3399da);})[_0x5916dc(0x4de)](this[_0x5916dc(0x537)]('getflow'),..._0x56634e,async(_0x56c836,_0x2951ff)=>{const _0x44453f=_0x5916dc;let _0xa7b84d=_0x56c836['body'];y[_0x44453f(0x5a1)](_0x44453f(0x7f5)),y['verbose'](_0x44453f(0x6f9)),y[_0x44453f(0x5a1)](_0x56c836[_0x44453f(0x83c)]);let _0x496506=await this[_0x44453f(0x396)]({'request':_0x56c836,'schema':N,'ClassRef':M,'execute':_0x263fd8=>O[_0x44453f(0x3bb)](_0x263fd8,_0xa7b84d)});_0x2951ff['status'](0xc8)[_0x44453f(0x534)](_0x496506);})[_0x5916dc(0x7c3)](this[_0x5916dc(0x537)](_0x5916dc(0xd1)),..._0x56634e,async(_0x4d556c,_0x39ce43)=>{const _0x3ce144=_0x5916dc;let _0x420dde=_0x4d556c['body'];y['verbose'](_0x3ce144(0x10a)),y['verbose'](_0x3ce144(0x6f9)),y[_0x3ce144(0x5a1)](_0x4d556c[_0x3ce144(0x83c)]);let _0x3ad003=await this[_0x3ce144(0x396)]({'request':_0x4d556c,'schema':N,'ClassRef':M,'execute':_0x29cb06=>O[_0x3ce144(0x315)](_0x29cb06,_0x420dde)});_0x39ce43['status'](0xc8)[_0x3ce144(0x534)](_0x3ad003);})[_0x5916dc(0x1d4)](this[_0x5916dc(0x537)](_0x5916dc(0x1e3)),..._0x56634e,async(_0xcce750,_0x5b166d)=>{const _0x4c232e=_0x5916dc;y[_0x4c232e(0x5a1)](_0x4c232e(0x553));let _0xe36362=await this[_0x4c232e(0x396)]({'request':_0xcce750,'schema':N,'ClassRef':M,'execute':_0x4a5f6e=>O[_0x4c232e(0x490)](_0x4a5f6e)});_0x5b166d[_0x4c232e(0x202)](0xc8)['json'](_0xe36362);});}},Mi=I(require('path')),te={};function yi(_0xf7bc06,_0x28613d,_0x15d027,_0x14f892){te[_0xf7bc06]||(te[_0xf7bc06]={}),te[_0xf7bc06][_0x28613d]={'id':_0x28613d,'response':_0x15d027,'events':_0x14f892};}function bi(_0x20fcb2,_0x11b421){!te[_0x20fcb2]||!te[_0x20fcb2][_0x11b421]||delete te[_0x20fcb2][_0x11b421];}function F(_0x19982f,_0x572de0,_0x431077){const _0x2ce32b=a0_0xc869c4;if(!te[_0x19982f])return;let _0x36b842=_0x2ce32b(0xea)+JSON[_0x2ce32b(0x563)](_0x431077)+'\x0a\x0a';Object[_0x2ce32b(0x37b)](te[_0x19982f])[_0x2ce32b(0x64a)](_0x1d684d=>{const _0x3714cf=_0x2ce32b;_0x1d684d[_0x3714cf(0x45d)][_0x3714cf(0x49c)](_0x572de0)&&_0x1d684d[_0x3714cf(0x15f)][_0x3714cf(0x208)](_0x36b842);});}function Si(){const _0x552cdf=a0_0xc869c4;let _0x4dd7b4={};for(let _0x468fec in te)_0x4dd7b4[_0x468fec]=Object[_0x552cdf(0x37b)](te[_0x468fec])[_0x552cdf(0x474)](_0x58b48c=>({'id':_0x58b48c['id'],'events':_0x58b48c['events']}));return _0x4dd7b4;}var Ci=require(a0_0xc869c4(0x634)),Is=require(a0_0xc869c4(0x3cf)),Ts=class{},Io=new Is['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is['Schema']({'_id':{'type':String,'default':a0_0xc869c4(0x18a)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=T?.[a0_0xc869c4(0x580)](Ts[a0_0xc869c4(0x15e)],_o,a0_0xc869c4(0x3e5)),Oo=Mi[a0_0xc869c4(0xef)][a0_0xc869c4(0x29a)](__dirname,a0_0xc869c4(0x291)),Le=(0x0,xt['Router'])(),xo=S['get'](a0_0xc869c4(0x6aa))[a0_0xc869c4(0x2ec)],oe=[Aa,Ta,Oa[xo]];Le[a0_0xc869c4(0x559)](a0_0xc869c4(0x488),xt[a0_0xc869c4(0xef)]['static'](Oo))['get'](a0_0xc869c4(0x2de),async(_0x1b152d,_0x42f8f4)=>{const _0x5bc768=a0_0xc869c4;console[_0x5bc768(0x114)](_0x5bc768(0x15a));let _0x39dad6=_0x1b152d[_0x5bc768(0x278)][_0x5bc768(0x801)],_0x313916=(_0x1b152d[_0x5bc768(0x657)][_0x5bc768(0x45d)]||'')[_0x5bc768(0x63b)](','),_0x380835=(0x0,Ci['v4'])();console[_0x5bc768(0x114)](_0x5bc768(0x695),_0x39dad6),console[_0x5bc768(0x114)]('Subscribed\x20Events:',_0x313916);let _0x9e527=S[_0x5bc768(0x1d4)](_0x5bc768(0x6aa))[_0x5bc768(0x45f)],_0xbd9544=_0x1b152d['query'][_0x5bc768(0x6c3)];if(console[_0x5bc768(0x114)](_0x5bc768(0x234),_0xbd9544),_0x9e527[_0x5bc768(0x547)]!==_0xbd9544){console[_0x5bc768(0x114)](_0x5bc768(0x776));try{let _0x3c6e61=await me[_0x5bc768(0x6e8)][_0x5bc768(0x194)](_0x39dad6);if(console['log']('Instance\x20Key\x20from\x20DB:',_0x3c6e61),!_0x3c6e61||_0x3c6e61[_0x5bc768(0x6c3)]!==_0xbd9544)return console[_0x5bc768(0x114)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x42f8f4[_0x5bc768(0x202)](0x191)[_0x5bc768(0xca)](_0x5bc768(0x3fb));}catch(_0x55c323){return console[_0x5bc768(0x3d2)](_0x5bc768(0x6e2),_0x55c323),_0x42f8f4['status'](0x191)[_0x5bc768(0xca)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Oe(_0x39dad6))return _0x42f8f4[_0x5bc768(0x202)](0x194)[_0x5bc768(0xca)](_0x5bc768(0x5fa));_0x42f8f4[_0x5bc768(0xfc)](_0x5bc768(0x596),'text/event-stream'),_0x42f8f4[_0x5bc768(0xfc)](_0x5bc768(0x3b5),'no-cache'),_0x42f8f4[_0x5bc768(0xfc)]('Connection',_0x5bc768(0x219)),_0x42f8f4[_0x5bc768(0x339)]();let _0x47998f=_0x5bc768(0xea)+JSON[_0x5bc768(0x563)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x42f8f4['write'](_0x47998f),yi(_0x39dad6,_0x380835,_0x42f8f4,_0x313916),_0x1b152d['on'](_0x5bc768(0x6e6),()=>{const _0x554c45=_0x5bc768;console['log'](_0x554c45(0x4ab)+_0x39dad6),bi(_0x39dad6,_0x380835);});}),Le['post'](a0_0xc869c4(0x4c7),async(_0x544156,_0x4e7307)=>{const _0x988afc=a0_0xc869c4;console[_0x988afc(0x114)](_0x988afc(0x7cd));let _0x227d08=_0x544156[_0x988afc(0x278)][_0x988afc(0x801)],_0x249f03=_0x544156[_0x988afc(0x278)][_0x988afc(0x4f2)],_0x54025e=_0x544156[_0x988afc(0x657)][_0x988afc(0x607)]||'',_0x59d8c0=_0x544156['body'];console['log']('Instance\x20Name:',_0x227d08),console[_0x988afc(0x114)](_0x988afc(0x16e),_0x249f03),console[_0x988afc(0x114)]('RemoteJid:',_0x54025e),console['log'](_0x988afc(0x681),_0x59d8c0);try{if(!await Oe(_0x227d08))return _0x4e7307['status'](0x194)[_0x988afc(0xca)](_0x988afc(0x5fa));let _0x4a9902=await O[_0x988afc(0x3da)](_0x227d08,_0x249f03,_0x54025e,_0x59d8c0);_0x4e7307[_0x988afc(0xca)](_0x4a9902);}catch(_0x37bef0){console['error'](_0x37bef0),_0x4e7307['status'](0x1f4)[_0x988afc(0xca)](_0x988afc(0x387));}}),Le[a0_0xc869c4(0x1d4)](a0_0xc869c4(0x3b3),(_0x586a6c,_0x1d770f)=>{const _0x3dd60e=a0_0xc869c4;let _0xd83e92=Si();_0x1d770f[_0x3dd60e(0x534)](_0xd83e92);})[a0_0xc869c4(0x1d4)]('/',(_0x3b1b27,_0x4e3ca8)=>{const _0xd2222c=a0_0xc869c4;let _0x460e86=S[_0xd2222c(0x1d4)]('SERVER')[_0xd2222c(0x5f6)];if(_0x460e86){let _0x51b1f4=encodeURIComponent(''+_0x460e86);_0x4e3ca8[_0xd2222c(0x1c9)](_0xd2222c(0x311)+_0x51b1f4);return;}let _0x85a93b=S[_0xd2222c(0x1d4)](_0xd2222c(0x296)),_0x5824cd=_0x85a93b&&_0x85a93b['FULLCHAIN'][_0xd2222c(0x63b)]('/')[0x4];if(_0x5824cd){let _0x547a4c=encodeURIComponent(_0xd2222c(0x69c)+_0x5824cd);_0x4e3ca8['redirect'](_0xd2222c(0x311)+_0x547a4c);}else _0x4e3ca8[_0xd2222c(0x1c9)](_0xd2222c(0x522));})[a0_0xc869c4(0x5bf)](a0_0xc869c4(0x446),...oe,async(_0x2da484,_0x4a7da0)=>{const _0x147b00=a0_0xc869c4;try{console[_0x147b00(0x114)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x4a7da0['status'](0xc8)[_0x147b00(0x534)]({'message':_0x147b00(0x844)}),_0x4a7da0['on'](_0x147b00(0x73e),()=>process[_0x147b00(0x6a6)](0x0));}catch(_0x30fb65){console[_0x147b00(0x3d2)](_0x147b00(0x686),_0x30fb65),_0x4a7da0['status'](0x1f4)[_0x147b00(0x534)]({'message':_0x147b00(0x1c7)});}})['put'](a0_0xc869c4(0x4c1),...oe,async(_0x44b257,_0x3cf5cf)=>{const _0x4f212c=a0_0xc869c4;try{let _0x5bbf42=_0x44b257['body'];await Ee[_0x4f212c(0x2a2)]({},{'$set':_0x5bbf42},{'upsert':!0x0});let _0x28fb4d=await Ee[_0x4f212c(0x4d6)]();_0x3cf5cf[_0x4f212c(0x534)](_0x28fb4d);}catch(_0x52726d){_0x3cf5cf[_0x4f212c(0x202)](0x190)[_0x4f212c(0xca)](_0x52726d[_0x4f212c(0x5ad)]);}})[a0_0xc869c4(0x1d4)]('/config',...oe,async(_0x1e05a8,_0x357524)=>{const _0x322e33=a0_0xc869c4;try{let _0x1ea1e7=await Ee['findOne']();if(!_0x1ea1e7)return _0x357524[_0x322e33(0x534)]({});_0x357524[_0x322e33(0x534)](_0x1ea1e7);}catch(_0x358d70){_0x357524[_0x322e33(0x202)](0x1f4)[_0x322e33(0xca)](_0x358d70['message']);}})[a0_0xc869c4(0x559)](a0_0xc869c4(0x4ef),new bt(S,...oe)[a0_0xc869c4(0x85c)])[a0_0xc869c4(0x559)](a0_0xc869c4(0x4f7),new Tt(...oe)['router'])['use'](a0_0xc869c4(0x48f),new lt(...oe)[a0_0xc869c4(0x85c)])[a0_0xc869c4(0x559)](a0_0xc869c4(0x571),new yt(...oe)[a0_0xc869c4(0x85c)])['use'](a0_0xc869c4(0x6d1),new _t(...oe)[a0_0xc869c4(0x85c)])[a0_0xc869c4(0x559)](a0_0xc869c4(0x72d),new Ot(...oe)[a0_0xc869c4(0x85c)]);var m=class{constructor(..._0x3de119){const _0xcc9f22=a0_0xc869c4;throw{'status':0x190,'error':_0xcc9f22(0x319),'message':_0x3de119[_0xcc9f22(0x4c6)]>0x0?_0x3de119:void 0x0};}},ae=class{constructor(..._0x4d573c){const _0x2f2377=a0_0xc869c4;throw{'status':0x191,'error':'Unauthorized','message':_0x4d573c[_0x2f2377(0x4c6)]>0x0?_0x4d573c:void 0x0};}},X=class{constructor(..._0xce5a82){const _0x4c9859=a0_0xc869c4;throw{'status':0x193,'error':_0x4c9859(0x7e3),'message':_0xce5a82[_0x4c9859(0x4c6)]>0x0?_0xce5a82:void 0x0};}},U=class{constructor(..._0x2e0887){const _0xcd505d=a0_0xc869c4;throw{'status':0x194,'error':_0xcd505d(0x41c),'message':_0x2e0887['length']>0x0?_0x2e0887:void 0x0};}},x=class{constructor(..._0x2d5cb6){const _0x4d6520=a0_0xc869c4;throw{'status':0x1f4,'error':_0x4d6520(0x2fd),'message':_0x2d5cb6[_0x4d6520(0x4c6)]>0x0?_0x2d5cb6:void 0x0};}},fe=require(a0_0xc869c4(0x146));async function _s(_0x4044be){const _0x5eab4d=a0_0xc869c4;let _0x177f9a=new $(_s[_0x5eab4d(0x15e)]),_0x5a7bd3=T[_0x5eab4d(0x57f)](),_0x15556a=_0x5a7bd3['db'](S[_0x5eab4d(0x1d4)](_0x5eab4d(0x661))[_0x5eab4d(0x7a6)][_0x5eab4d(0x668)]+_0x5eab4d(0x7dd))[_0x5eab4d(0x586)](_0x4044be),_0x1bfd84=async(_0x2078d0,_0x3b6c85)=>{const _0x3f1772=_0x5eab4d;try{return await _0x5a7bd3[_0x3f1772(0x55e)](),await _0x15556a[_0x3f1772(0x298)]({'_id':_0x3b6c85},JSON[_0x3f1772(0x50b)](JSON[_0x3f1772(0x563)](_0x2078d0,fe[_0x3f1772(0x491)][_0x3f1772(0x204)])),{'upsert':!0x0});}catch{}},_0x300620=async _0x56e5ed=>{const _0x327dcd=_0x5eab4d;try{await _0x5a7bd3['connect']();let _0x5388f0=await _0x15556a['findOne']({'_id':_0x56e5ed}),_0x5a9800=JSON[_0x327dcd(0x563)](_0x5388f0);return JSON['parse'](_0x5a9800,fe['BufferJSON']['reviver']);}catch{}},_0x435623=async _0x144263=>{const _0x5a06cf=_0x5eab4d;try{return await _0x5a7bd3[_0x5a06cf(0x55e)](),await _0x15556a['deleteOne']({'_id':_0x144263});}catch{}},_0x1b4a3e=await _0x300620('creds')||(0x0,fe['initAuthCreds'])();return{'state':{'creds':_0x1b4a3e,'keys':{'get':async(_0x37d8b6,_0x2b8ad2)=>{const _0x17e6d7=_0x5eab4d;let _0xeed2f3={};return await Promise[_0x17e6d7(0x4e4)](_0x2b8ad2['map'](async _0x52058d=>{const _0x59089d=_0x17e6d7;let _0x318d29=await _0x300620(_0x37d8b6+'-'+_0x52058d);_0x37d8b6===_0x59089d(0x356)&&_0x318d29&&(_0x318d29=fe[_0x59089d(0x4a4)][_0x59089d(0x470)][_0x59089d(0x5c0)]['fromObject'](_0x318d29)),_0xeed2f3[_0x52058d]=_0x318d29;})),_0xeed2f3;},'set':async _0x51b381=>{const _0xf79289=_0x5eab4d;let _0x1b5438=[];for(let _0xd9f5e7 in _0x51b381)for(let _0x3d062e in _0x51b381[_0xd9f5e7]){let _0x4b8ea8=_0x51b381[_0xd9f5e7][_0x3d062e],_0x4468cf=_0xd9f5e7+'-'+_0x3d062e;_0x1b5438[_0xf79289(0x14c)](_0x4b8ea8?_0x1bfd84(_0x4b8ea8,_0x4468cf):_0x435623(_0x4468cf));}await Promise[_0xf79289(0x4e4)](_0x1b5438);}}},'saveCreds':async()=>_0x1bfd84(_0x1b4a3e,_0x5eab4d(0x13c))};}var Ls=I(require(a0_0xc869c4(0x675))),Fs=I(require(a0_0xc869c4(0x3fa))),kt=require('@whiskeysockets/baileys'),vi=require(a0_0xc869c4(0xf7)),Dt=require(a0_0xc869c4(0x146)),Pt;function Po(_0x28bdcc){const _0x30f282=a0_0xc869c4;return Pt||(Pt=(0x0,vi[_0x30f282(0x52e)])({'url':_0x28bdcc['URI']}),Pt['connect']()),Pt;}var de=class u{constructor(_0x315462,_0x1dff81){const _0x364f20=a0_0xc869c4;this[_0x364f20(0x7b6)]=_0x315462,this[_0x364f20(0x77a)]=_0x1dff81,this[_0x364f20(0x246)]=new $(u['name']),this[_0x364f20(0x52a)]=Po(_0x315462);}set[a0_0xc869c4(0x299)](_0x49d24){const _0x19b951=a0_0xc869c4;this[_0x19b951(0x77a)]=_0x49d24;}async['instanceKeys'](){const _0x5999ca=a0_0xc869c4;try{return await this[_0x5999ca(0x52a)][_0x5999ca(0x742)]([_0x5999ca(0x239),this[_0x5999ca(0x7b6)][_0x5999ca(0x6d7)]+':*']);}catch(_0x69f739){this[_0x5999ca(0x246)]['error'](_0x69f739);}}async[a0_0xc869c4(0x5f0)](_0x6c63a6,_0x44e74a){const _0x495bd2=a0_0xc869c4;try{let _0x431dae=JSON[_0x495bd2(0x563)](_0x44e74a,Dt['BufferJSON'][_0x495bd2(0x204)]);return await this[_0x495bd2(0x52a)]['hSet'](this[_0x495bd2(0x7b6)]['PREFIX_KEY']+':'+this[_0x495bd2(0x77a)],_0x6c63a6,_0x431dae);}catch(_0xb329f2){this['logger'][_0x495bd2(0x3d2)](_0xb329f2);}}async['getAllData'](){const _0x16f90d=a0_0xc869c4;try{let _0x10b4eb=await this['client']['hGetAll'](this[_0x16f90d(0x7b6)][_0x16f90d(0x6d7)]+':'+this[_0x16f90d(0x77a)]);if(_0x10b4eb){for(let _0x460ea6 in _0x10b4eb)Object['prototype']['hasOwnProperty'][_0x16f90d(0x687)](_0x10b4eb,_0x460ea6)&&(_0x10b4eb[_0x460ea6]=JSON[_0x16f90d(0x50b)](_0x10b4eb[_0x460ea6],Dt[_0x16f90d(0x491)][_0x16f90d(0x85f)]));return _0x10b4eb;}}catch(_0x3e84f8){this[_0x16f90d(0x246)][_0x16f90d(0x3d2)](_0x3e84f8);}}async[a0_0xc869c4(0x867)](_0x111f86){const _0x1fc57d=a0_0xc869c4;try{let _0x16509f=await this['client'][_0x1fc57d(0x381)](this[_0x1fc57d(0x7b6)]['PREFIX_KEY']+':'+this['instanceName'],_0x111f86);if(_0x16509f)return JSON['parse'](_0x16509f,Dt['BufferJSON'][_0x1fc57d(0x85f)]);}catch(_0x16f84e){this['logger'][_0x1fc57d(0x3d2)](_0x16f84e);}}async[a0_0xc869c4(0x5e1)](_0x4f8d7){const _0x4bf3f1=a0_0xc869c4;try{return await this[_0x4bf3f1(0x52a)][_0x4bf3f1(0x702)](this['redisEnv'][_0x4bf3f1(0x6d7)]+':'+this[_0x4bf3f1(0x77a)],_0x4f8d7);}catch(_0x4b0e56){this['logger'][_0x4bf3f1(0x3d2)](_0x4b0e56);}}async[a0_0xc869c4(0x6ee)](_0x4d6608){const _0x56472f=a0_0xc869c4;try{return await this[_0x56472f(0x52a)][_0x56472f(0x5a8)](_0x4d6608||this[_0x56472f(0x7b6)][_0x56472f(0x6d7)]+':'+this[_0x56472f(0x77a)]);}catch(_0xe5566b){this[_0x56472f(0x246)][_0x56472f(0x3d2)](_0xe5566b);}}};async function Os(_0x4a8cc0,_0x465de4){const _0x4a9504=a0_0xc869c4;let _0x33ec4f=new $(Os[_0x4a9504(0x15e)]),_0x5e2c3f=new de(_0x4a8cc0,_0x465de4),_0x51ca7e=async(_0x5e8567,_0x1b6518)=>{try{return await _0x5e2c3f['writeData'](_0x1b6518,_0x5e8567);}catch(_0x190393){return _0x33ec4f['error']({'localError':'writeData','error':_0x190393});}},_0x128ae9=async _0x489ebb=>{const _0x4498ba=_0x4a9504;try{return await _0x5e2c3f['readData'](_0x489ebb);}catch(_0xf44a29){_0x33ec4f[_0x4498ba(0x3d2)]({'readData':_0x4498ba(0x5f0),'error':_0xf44a29});return;}},_0x1adbb3=async _0x399d33=>{const _0x2497ba=_0x4a9504;try{return await _0x5e2c3f[_0x2497ba(0x5e1)](_0x399d33);}catch(_0x235a0c){_0x33ec4f[_0x2497ba(0x3d2)]({'readData':_0x2497ba(0x5e1),'error':_0x235a0c});}},_0x139d60=await _0x128ae9(_0x4a9504(0x13c))||(0x0,kt[_0x4a9504(0x3ca)])();return{'state':{'creds':_0x139d60,'keys':{'get':async(_0x1fbc17,_0x4b39f1)=>{const _0x2fcf45=_0x4a9504;let _0x48cb28={};return await Promise[_0x2fcf45(0x4e4)](_0x4b39f1[_0x2fcf45(0x474)](async _0xdb2ccc=>{const _0x3963c4=_0x2fcf45;let _0x6ba781=await _0x128ae9(_0x1fbc17+'-'+_0xdb2ccc);_0x1fbc17==='app-state-sync-key'&&_0x6ba781&&(_0x6ba781=kt[_0x3963c4(0x4a4)][_0x3963c4(0x470)][_0x3963c4(0x5c0)]['fromObject'](_0x6ba781)),_0x48cb28[_0xdb2ccc]=_0x6ba781;})),_0x48cb28;},'set':async _0x46975c=>{let _0x3bcfed=[];for(let _0x29164d in _0x46975c)for(let _0x5a52d6 in _0x46975c[_0x29164d]){let _0x3382c1=_0x46975c[_0x29164d][_0x5a52d6],_0x4e3742=_0x29164d+'-'+_0x5a52d6;_0x3bcfed['push'](_0x3382c1?await _0x51ca7e(_0x3382c1,_0x4e3742):await _0x1adbb3(_0x4e3742));}await Promise['all'](_0x3bcfed);}}},'saveCreds':async()=>await _0x51ca7e(_0x139d60,_0x4a9504(0x13c))};}var k=I(require('fs')),Q=require(a0_0xc869c4(0x634)),Ut=I(require(a0_0xc869c4(0x527))),re=require(a0_0xc869c4(0x4f3)),Ei=require('child_process'),Ni=require(a0_0xc869c4(0x188)),$i=I(require('axios')),Ne=class extends _{constructor(_0x249123,_0x497410,_0x327199){const _0x14d505=a0_0xc869c4;super(_0x497410),this[_0x14d505(0x635)]=_0x249123,this[_0x14d505(0x3a6)]=_0x497410,this[_0x14d505(0x784)]=_0x327199;}async[a0_0xc869c4(0x357)](_0x3e0c77,_0x2017fd){const _0x322ee9=a0_0xc869c4;try{if(this[_0x322ee9(0x73d)][_0x322ee9(0x29e)]){console[_0x322ee9(0x114)](_0x322ee9(0x251)+_0x2017fd+_0x322ee9(0x476),_0x3e0c77);let _0x158090=await this[_0x322ee9(0x635)][_0x322ee9(0x59c)]({'_id':_0x2017fd},{'$set':_0x3e0c77},{'new':!0x0,'upsert':!0x0});return console['log']('Database\x20update\x20result:',_0x158090),_0x158090;}}catch(_0x3dabfe){throw console[_0x322ee9(0x3d2)](_0x322ee9(0x680),_0x3dabfe),_0x3dabfe;}return null;}async[a0_0xc869c4(0xc7)](_0x57d87d){const _0x55f388=a0_0xc869c4;try{let _0x31fea3=A(_0x57d87d[_0x55f388(0x732)]);return{'deletedCount':(await this[_0x55f388(0x635)][_0x55f388(0xc7)](_0x31fea3))[_0x55f388(0x173)]};}catch(_0x5bb724){return{'error':_0x5bb724?.[_0x55f388(0x806)]()};}}async[a0_0xc869c4(0x4d6)](_0x51791d){const _0x3b45f8=a0_0xc869c4;try{let _0x5c5a08=A(_0x51791d[_0x3b45f8(0x732)]);return await this[_0x3b45f8(0x635)][_0x3b45f8(0x4d6)](_0x5c5a08)[_0x3b45f8(0x11a)]();}catch{return null;}}},$e=(0x0,Ni[a0_0xc869c4(0x82e)])(Ei[a0_0xc869c4(0x866)]),xs=0x1f4,Do=S[a0_0xc869c4(0x1d4)](a0_0xc869c4(0x542)),Ps=class{constructor(){const _0x366bda=a0_0xc869c4;this[_0x366bda(0x2c8)]=new Ne(We,S),(!this[_0x366bda(0x24b)]||!this[_0x366bda(0x7a7)])&&Do&&this[_0x366bda(0x721)]()[_0x366bda(0x62e)](async()=>{const _0x4079fb=_0x366bda;console[_0x4079fb(0x114)](_0x4079fb(0x6f4)+this[_0x4079fb(0x24b)]),console[_0x4079fb(0x114)](_0x4079fb(0x130)+this['networkInterface']),await this[_0x4079fb(0x5e0)]();let _0x6296fa=await this[_0x4079fb(0x5f8)]();console[_0x4079fb(0x114)](_0x4079fb(0x1f5)+_0x6296fa);})[_0x366bda(0x36e)](_0x50df52=>{const _0x3bac14=_0x366bda;console['error'](_0x3bac14(0x84e)+_0x50df52[_0x3bac14(0x5ad)]);});}async[a0_0xc869c4(0x5e0)](){const _0x5e81d2=a0_0xc869c4;let _0x33303e=await this['listIPv6Addresses']();if(console[_0x5e81d2(0x114)](_0x5e81d2(0x2cc)+_0x33303e[_0x5e81d2(0x4c6)]),_0x33303e['length']>xs){let _0x5cbb1b=_0x33303e[_0x5e81d2(0x512)](xs);for(let _0x1b7e04 of _0x5cbb1b)console[_0x5e81d2(0x114)](_0x5e81d2(0x7e9)+_0x1b7e04),await this[_0x5e81d2(0x22d)](_0x1b7e04);console['log'](_0x5e81d2(0x767)+_0x5cbb1b['length']+_0x5e81d2(0x4e2));}else console[_0x5e81d2(0x114)](_0x5e81d2(0x84d));}async[a0_0xc869c4(0x513)](){const _0x2c9932=a0_0xc869c4;try{let {stdout:_0x39ddf8}=await $e(_0x2c9932(0x401));return _0x39ddf8['split']('\x0a')[_0x2c9932(0x314)](_0xbe96ee=>_0xbe96ee['includes']('inet6')&&_0xbe96ee[_0x2c9932(0x49c)](_0x2c9932(0x5e3)))[_0x2c9932(0x474)](_0x3dbb28=>_0x3dbb28[_0x2c9932(0x2f6)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])['filter'](Boolean);}catch(_0x55e13e){return console[_0x2c9932(0x3d2)](_0x2c9932(0x12b)+_0x55e13e[_0x2c9932(0x5ad)]),[];}}async[a0_0xc869c4(0x5f8)](){const _0x13930b=a0_0xc869c4;try{let {stdout:_0x21f52b}=await $e(_0x13930b(0x32b)),_0x1d1a94=parseInt(_0x21f52b['trim'](),0xa);return console['log'](_0x13930b(0x7cf)+_0x1d1a94),_0x1d1a94;}catch(_0x2a2d1c){return console[_0x13930b(0x3d2)](_0x13930b(0xdd)+_0x2a2d1c[_0x13930b(0x5ad)]),0x0;}}async[a0_0xc869c4(0x22d)](_0x52f1e9){const _0x21dee4=a0_0xc869c4;try{await $e(_0x21dee4(0x240)+_0x52f1e9+_0x21dee4(0xc2)+this[_0x21dee4(0x7a7)]),console[_0x21dee4(0x114)]('IPv6\x20address\x20removed:\x20'+_0x52f1e9);}catch(_0x497130){console['error'](_0x21dee4(0x54c)+_0x497130['message']);}}async[a0_0xc869c4(0x721)](){const _0x4dfa46=a0_0xc869c4;try{let {stdout:_0x4961f0}=await $e('ip\x20-br\x20link\x20show');console['log']('Network\x20interfaces\x20detected:\x20'+_0x4961f0);let _0x1fc2c9=_0x4961f0['split']('\x0a')[_0x4dfa46(0x474)](_0xa01aab=>_0xa01aab[_0x4dfa46(0x63b)]('\x20')[0x0])['filter'](_0x513a2c=>!_0x513a2c['includes']('lo')&&!_0x513a2c[_0x4dfa46(0x49c)](_0x4dfa46(0x166))&&!_0x513a2c[_0x4dfa46(0x49c)](_0x4dfa46(0x361))&&!_0x513a2c['includes']('wl')&&!_0x513a2c[_0x4dfa46(0x49c)]('@'));if(console[_0x4dfa46(0x114)](_0x4dfa46(0x442)+_0x1fc2c9),_0x1fc2c9[_0x4dfa46(0x4c6)]===0x0)throw new Error(_0x4dfa46(0x6e1));this[_0x4dfa46(0x7a7)]=_0x1fc2c9[0x0];let {stdout:_0x31bb82}=await $e('ip\x20-6\x20addr\x20show\x20dev\x20'+this[_0x4dfa46(0x7a7)]);console[_0x4dfa46(0x114)](_0x4dfa46(0x37a)+_0x31bb82);let _0x5bf707=_0x31bb82['split']('\x0a')[_0x4dfa46(0x194)](_0x1940d2=>_0x1940d2[_0x4dfa46(0x49c)](_0x4dfa46(0x58f))&&_0x1940d2[_0x4dfa46(0x49c)](_0x4dfa46(0x5e3)));if(!_0x5bf707)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x5f5a0a=_0x5bf707['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x5f5a0a)throw new Error(_0x4dfa46(0x824));let [_0x3ebf0c,_0x3009e5,_0x2f4c21]=_0x5f5a0a,_0x2a9bc1=Math[_0x4dfa46(0x3af)](Number(_0x2f4c21)/0x10),_0x1d82e0=Number(_0x2f4c21)%0x10,_0x19853f=_0x3009e5[_0x4dfa46(0x63b)](':')[_0x4dfa46(0x512)](0x0,_0x2a9bc1)[_0x4dfa46(0x29a)](':');if(_0x1d82e0>0x0){let _0x29da54=_0x3009e5[_0x4dfa46(0x63b)](':')[_0x2a9bc1],_0x4936da=0xffff<<0x10-_0x1d82e0&0xffff,_0xf4261f=(parseInt(_0x29da54,0x10)&_0x4936da)[_0x4dfa46(0x806)](0x10)[_0x4dfa46(0x5c7)](0x4,'0');_0x19853f+=':'+_0xf4261f;}this[_0x4dfa46(0x24b)]=_0x19853f+':';}catch(_0x1c2b20){console[_0x4dfa46(0x3d2)](_0x4dfa46(0x76f),_0x1c2b20);}}async[a0_0xc869c4(0x456)](_0x3b6ef1){const _0x3b1825=a0_0xc869c4;let _0x5bb457='ip\x20-6\x20addr\x20add\x20'+_0x3b6ef1+_0x3b1825(0xc2)+this[_0x3b1825(0x7a7)];try{await $e(_0x5bb457),console['log'](_0x3b1825(0x3d7)+_0x3b6ef1);}catch(_0x549bcc){console[_0x3b1825(0x3d2)](_0x3b1825(0x7ec)+_0x549bcc);}}[a0_0xc869c4(0x708)](){const _0xd95d48=a0_0xc869c4;return _0xd95d48(0x55d)[_0xd95d48(0x791)](/X/g,()=>_0xd95d48(0x595)[_0xd95d48(0x160)](Math[_0xd95d48(0x3af)](Math[_0xd95d48(0x5ba)]()*0x10)));}['ip6eui'](_0xc725f,_0x42facf){const _0x31a7c0=a0_0xc869c4;let _0x5b1fbd=_0x42facf[_0x31a7c0(0x63b)](':');return _0x5b1fbd[0x0]=(parseInt(_0x5b1fbd[0x0],0x10)^0x2)['toString'](0x10)['padStart'](0x2,'0'),''+_0xc725f+_0x5b1fbd[0x0]+_0x5b1fbd[0x1]+':'+_0x5b1fbd[0x2]+'ff:fe'+_0x5b1fbd[0x3]+':'+_0x5b1fbd[0x4]+_0x5b1fbd[0x5];}['generateRandomIPv6'](){const _0x3187c8=a0_0xc869c4;let _0x14d70e=this[_0x3187c8(0x24b)];_0x14d70e[_0x3187c8(0x364)](':')||(_0x14d70e+=':');let _0x43547a=this[_0x3187c8(0x708)]();return this[_0x3187c8(0x56a)](_0x14d70e,_0x43547a);}[a0_0xc869c4(0x858)](_0x19cd79){const _0x4e6bfc=a0_0xc869c4;return new RegExp(_0x4e6bfc(0x3c3))['test'](_0x19cd79);}async[a0_0xc869c4(0x6b4)](_0x459151){const _0x5e0739=a0_0xc869c4;let _0x7ed6f6=[{'url':'https://ipv6.jsonip.com','parse':_0x4f88bd=>_0x4f88bd['ip']},{'url':_0x5e0739(0x750),'parse':_0x145a2d=>_0x145a2d['ip']},{'url':_0x5e0739(0x4c3),'parse':_0x26a380=>_0x26a380['trim']()},{'url':_0x5e0739(0x628),'parse':_0x488638=>_0x488638['trim']()}],_0x17dc68=_0x7ed6f6[Math[_0x5e0739(0x3af)](Math['random']()*_0x7ed6f6['length'])];try{let _0xc496a9=await $i[_0x5e0739(0xef)][_0x5e0739(0x1d4)](_0x17dc68[_0x5e0739(0x709)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x459151}}),_0x188400=_0x17dc68['parse'](_0xc496a9[_0x5e0739(0x3df)]);return _0x188400['toLowerCase']()===_0x459151[_0x5e0739(0x61a)]()?(console['log'](_0x5e0739(0x5b4)+_0x459151),!0x0):(console[_0x5e0739(0x3d2)](_0x5e0739(0x5d6)+_0x459151+_0x5e0739(0x390)+_0x188400),!0x1);}catch(_0x101a0a){return console[_0x5e0739(0x3d2)](_0x5e0739(0x5b3)+_0x17dc68['url']+':\x20'+_0x101a0a[_0x5e0739(0x5ad)]),!0x1;}}async[a0_0xc869c4(0xce)](_0x4fbeb5,_0x2f59e5){const _0x575c67=a0_0xc869c4;if(!this['ipv6Prefix']||!this['networkInterface'])return console[_0x575c67(0x3d2)](_0x575c67(0x1bb)),null;let _0x38f2e8=await this[_0x575c67(0x513)]();if(_0x38f2e8[_0x575c67(0x4c6)]>=xs){let _0x464c61=_0x38f2e8[Math[_0x575c67(0x3af)](Math[_0x575c67(0x5ba)]()*_0x38f2e8[_0x575c67(0x4c6)])];return console[_0x575c67(0x114)]('Reusing\x20existing\x20IPv6:\x20'+_0x464c61),_0x464c61;}let _0xbac092;do _0xbac092=this[_0x575c67(0x21e)](),console[_0x575c67(0x114)]('Generated\x20IPv6:\x20'+_0xbac092);while(!this[_0x575c67(0x858)](_0xbac092));await this[_0x575c67(0x456)](_0xbac092),console['log'](_0x575c67(0x395)+_0xbac092);let _0x29cbaf={'_id':_0x4fbeb5+'-'+_0x2f59e5,'ip':_0xbac092},_0x4312ee=await this['cacheInstanceRepository']['createOrUpdate'](_0x29cbaf,_0x29cbaf[_0x575c67(0x59b)]);return console[_0x575c67(0x114)]('Cache\x20instance\x20update\x20result:\x20'+_0x4312ee),_0xbac092;}},ko=new Ps(),we=ko,Us='Safari',xi,pe=null,xa=null,Lo=0x3,Fo=null,Ri=S[a0_0xc869c4(0x1d4)](a0_0xc869c4(0x6aa))[a0_0xc869c4(0x45f)][a0_0xc869c4(0x547)],Ai=S['get']('PROXY');async function Uo(){const _0x190160=a0_0xc869c4;let _0x302634=await Ee[_0x190160(0x4d6)]();pe=_0x302634?.[_0x190160(0x2b2)]??null,Fo=_0x302634?.[_0x190160(0x22a)]??null,Us=_0x302634?.['connectedClient']??_0x190160(0x499),xi=_0x302634?.['connectedName']??se??_0x190160(0x684);}async function jo(){await Uo();}jo();var Lt={},Re=class u{constructor(_0x1ce94d,_0x4d8eb1,_0x2aa969){const _0x22c775=a0_0xc869c4;this[_0x22c775(0x3a6)]=_0x1ce94d,this[_0x22c775(0x2f1)]=_0x4d8eb1,this['repository']=_0x2aa969,this[_0x22c775(0x1ca)]={},this[_0x22c775(0x162)]=null,this[_0x22c775(0x246)]=new $(u['name']),this['instance']={},this[_0x22c775(0x492)]={},this[_0x22c775(0xd6)]={'state':_0x22c775(0x6e6)},this[_0x22c775(0x3f9)]=(0x0,j[_0x22c775(0x29a)])(ce,'downloads'),this[_0x22c775(0x5cb)]=new Fs[(_0x22c775(0xef))](),this[_0x22c775(0x1b3)]=new Fs['default'](),this[_0x22c775(0x2be)]=!0x1,this[_0x22c775(0x70d)]={'status.instance':'/wa-connection-update','connection.update':_0x22c775(0x429),'qrcode.updated':_0x22c775(0x865),'messages.upsert':_0x22c775(0x327),'send.message':_0x22c775(0x327),'messages.update':_0x22c775(0x432),'group.upsert':'/wa-groups','group.update':_0x22c775(0x268),'group-participants.update':_0x22c775(0x268),'messages.set':_0x22c775(0x4b9),'contacts.set':_0x22c775(0x52f),'contacts.upsert':_0x22c775(0x52f),'contacts.update':'/wa-contacts','presence.update':_0x22c775(0x2e5),'chats.set':_0x22c775(0x185),'chats.update':_0x22c775(0x185),'chats.upsert':_0x22c775(0x185),'chats.delete':_0x22c775(0x185)},this[_0x22c775(0x7d6)]=0x0,this['reconnectTimestamps']=[],this[_0x22c775(0x2cb)]=0xea60,this[_0x22c775(0x613)]=!0x1,this[_0x22c775(0x62b)]={'chats.upsert':async(_0x1823b0,_0xa59082)=>{const _0x4cc080=_0x22c775;let _0x3105dc=[];for await(let _0x210317 of _0x1823b0)_0x3105dc[_0x4cc080(0x14c)]({'_id':_0x210317['id'],'owner':this[_0x4cc080(0x801)][_0x4cc080(0x69a)],'group':_0x210317['id'][_0x4cc080(0x364)](_0x4cc080(0x386)),'name':_0x210317[_0x4cc080(0x15e)]||_0x210317[_0x4cc080(0x58a)]||null,'contactname':null,'lastmsg':_0x210317[_0x4cc080(0x33e)]&&_0x210317[_0x4cc080(0x33e)][_0x4cc080(0x806)]()[_0x4cc080(0x4c6)]<0xd?_0x210317[_0x4cc080(0x33e)]*0x3e8:_0x210317[_0x4cc080(0x33e)]||null,'archived':_0x210317[_0x4cc080(0x118)]||!0x1,'unreadcount':_0x210317[_0x4cc080(0x86a)]||0x0,'ephemeralExpiration':_0x210317[_0x4cc080(0x81a)]||0x0});this[_0x4cc080(0x656)](_0x4cc080(0x836),_0x3105dc);},'chats.update':async(_0x3547cb,_0x41dbfa)=>{const _0x219c73=_0x22c775;for(let _0x1df3ff of _0x3547cb){let _0x21b69d={'_id':_0x1df3ff['id'],'owner':this[_0x219c73(0x801)]['wuid'],'archived':_0x1df3ff[_0x219c73(0x118)],'muteEndTime':_0x1df3ff[_0x219c73(0x154)],'ephemeralExpiration':_0x1df3ff[_0x219c73(0x81a)]},_0x1372e9=!0x1,_0x8dfd42={};_0x21b69d[_0x219c73(0x118)]!=null&&(this[_0x219c73(0x246)]['verbose'](this['instanceName']+'\x20('+this[_0x219c73(0x801)][_0x219c73(0x69a)]+_0x219c73(0x431)+_0x1df3ff['id']+_0x219c73(0x618)+_0x1df3ff['archived']),_0x1372e9=!0x0,_0x8dfd42[_0x219c73(0x118)]=_0x1df3ff['archived']),_0x219c73(0x154)in _0x1df3ff&&(this[_0x219c73(0x246)][_0x219c73(0x5a1)](this[_0x219c73(0x77a)]+'\x20('+this[_0x219c73(0x801)]['wuid']+_0x219c73(0x6bc)+_0x1df3ff['id']+'\x20:\x20'+(_0x1df3ff['muteEndTime']??'0')),_0x1372e9=!0x0,_0x8dfd42['muteEndTime']=_0x1df3ff[_0x219c73(0x154)]??0x0),'ephemeralExpiration'in _0x1df3ff&&(this['logger'][_0x219c73(0x5a1)](this[_0x219c73(0x77a)]+'\x20('+this['instance'][_0x219c73(0x69a)]+_0x219c73(0xec)+_0x1df3ff['id']+'\x20:\x20'+(_0x1df3ff[_0x219c73(0x81a)]!==void 0x0?_0x1df3ff[_0x219c73(0x81a)]:'undefined')),_0x8dfd42[_0x219c73(0x81a)]=_0x1df3ff[_0x219c73(0x81a)]===null?0x0:_0x1df3ff[_0x219c73(0x81a)],_0x1372e9=!0x0);let _0x34a5cd;_0x1372e9&&(_0x34a5cd=await this['repository'][_0x219c73(0x6f8)]['updateOne']({'where':{'_id':_0x1df3ff['id']}},_0x8dfd42,this[_0x219c73(0x801)][_0x219c73(0x69a)])),_0x34a5cd&&F(this[_0x219c73(0x77a)],_0x219c73(0x856),{'chat':_0x34a5cd});}},'chats.delete':async _0xdf9469=>{const _0x20bc63=_0x22c775;for(let _0x5eec72 of _0xdf9469)if(_0x5eec72[_0x20bc63(0x364)](_0x20bc63(0x386))){await this[_0x20bc63(0x77f)]['chat'][_0x20bc63(0x7c3)]({'where':{'_id':_0x5eec72}},this['instance'][_0x20bc63(0x69a)]);let _0x455923={'where':{'key':{'remoteJid':_0x5eec72}}};await this[_0x20bc63(0x77f)]['message'][_0x20bc63(0x7c3)](_0x455923,this[_0x20bc63(0x801)][_0x20bc63(0x69a)]);}else{await this[_0x20bc63(0x77f)][_0x20bc63(0x6f8)][_0x20bc63(0x2a2)]({'where':{'_id':_0x5eec72}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x20bc63(0x801)][_0x20bc63(0x69a)]);let _0x59e57a={'where':{'key':{'remoteJid':_0x5eec72}}};await this['repository'][_0x20bc63(0x5ad)][_0x20bc63(0x7c3)](_0x59e57a,this['instance'][_0x20bc63(0x69a)]);}this[_0x20bc63(0x656)](_0x20bc63(0x20b),[..._0xdf9469]);}},this['contactHandle']={'contacts.upsert':async(_0x2e2191,_0x2e8fda)=>{const _0x58e0e3=_0x22c775;let _0x15dcca=await this[_0x58e0e3(0x77f)][_0x58e0e3(0x1ac)][_0x58e0e3(0x194)]({'where':{}},this['instance'][_0x58e0e3(0x69a)]),_0x28f56c=[];for await(let _0x14d379 of _0x2e2191)_0x15dcca[_0x58e0e3(0x194)](_0xae2af8=>_0xae2af8[_0x58e0e3(0x59b)]===_0x14d379['id'])||_0x28f56c[_0x58e0e3(0x14c)]({'_id':_0x14d379['id'],'pushName':_0x14d379?.[_0x58e0e3(0x15e)]||_0x14d379?.[_0x58e0e3(0x24a)],'owner':this[_0x58e0e3(0x801)]['wuid']});this[_0x58e0e3(0x656)](_0x58e0e3(0x5f9),_0x28f56c),await this[_0x58e0e3(0x77f)][_0x58e0e3(0x1ac)]['insert'](_0x28f56c);},'contacts.update':async(_0xe45c22,_0x3ee720)=>{const _0x571c99=_0x22c775;let _0x2646bb=[];for await(let _0x2b1bec of _0xe45c22)_0x2646bb[_0x571c99(0x14c)]({'_id':_0x2b1bec['id'],'pushName':_0x2b1bec?.[_0x571c99(0x15e)]??_0x2b1bec?.[_0x571c99(0x24a)],'owner':this[_0x571c99(0x801)][_0x571c99(0x69a)]});this['sendDataWebhook'](_0x571c99(0x2a3),_0x2646bb);}},this['messageHandle']={'messaging-history.set':async({messages:_0x470765,chats:_0x2ca950,isLatest:_0x5236f7},_0xe6e1d)=>{const _0x5e8777=_0x22c775;if(_0x5236f7){setTimeout(()=>{const _0xa3fc43=a0_0x3de4;this[_0xa3fc43(0x801)][_0xa3fc43(0x3b2)]=!0x0,console['log'](_0xa3fc43(0x5c8));},0x1d4c0);let _0x4a7eef=await Promise[_0x5e8777(0x4e4)](_0x2ca950['map'](async _0x16118d=>({'_id':_0x16118d['id'],'owner':this[_0x5e8777(0x801)][_0x5e8777(0x69a)],'group':_0x16118d['id']['endsWith'](_0x5e8777(0x386)),'name':_0x16118d[_0x5e8777(0x15e)]||_0x16118d[_0x5e8777(0x58a)]||_0x16118d[_0x5e8777(0x827)]||null,'contactname':null,'lastmsg':_0x16118d[_0x5e8777(0x33e)]&&_0x16118d[_0x5e8777(0x33e)][_0x5e8777(0x806)]()[_0x5e8777(0x4c6)]<0xd?_0x16118d[_0x5e8777(0x33e)]*0x3e8:_0x16118d[_0x5e8777(0x33e)]||null,'archived':_0x16118d[_0x5e8777(0x118)]||!0x1,'unreadcount':_0x16118d['unreadCount']||0x0,'ephemeralExpiration':_0x16118d['ephemeralExpiration']||0x0,'muteEndTime':_0x16118d[_0x5e8777(0x154)]||0x0})));this[_0x5e8777(0x656)](_0x5e8777(0x404),_0x4a7eef),await this['upsertChats'](_0x4a7eef,_0xe6e1d);}let _0x2547e6=[],_0x2872d3=Date[_0x5e8777(0x574)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2df360]of Object['entries'](_0x470765)){if(_0x2df360['message']?.[_0x5e8777(0x2a9)]||_0x2df360[_0x5e8777(0x5ad)]?.[_0x5e8777(0x39a)]||!_0x2df360[_0x5e8777(0x5ad)]||_0x2df360[_0x5e8777(0x7e2)][_0x5e8777(0x607)]===_0x5e8777(0x55f)||(Ls['default']['isLong'](_0x2df360?.[_0x5e8777(0x3e2)])&&(_0x2df360[_0x5e8777(0x3e2)]=_0x2df360[_0x5e8777(0x3e2)]?.[_0x5e8777(0x583)]()),_0x2df360[_0x5e8777(0x3e2)]&&_0x2df360['messageTimestamp'][_0x5e8777(0x806)]()[_0x5e8777(0x4c6)]<0xd&&(_0x2df360[_0x5e8777(0x3e2)]=_0x2df360['messageTimestamp']*0x3e8),_0x2df360[_0x5e8777(0x3e2)]<_0x2872d3))continue;let _0x33a2e8=(0x0,w[_0x5e8777(0x609)])(_0x2df360[_0x5e8777(0x5ad)]),_0x4d8b82=(0x0,w[_0x5e8777(0x1bc)])(_0x33a2e8),{message_normalized:_0x552ce8}=this[_0x5e8777(0x529)](_0x33a2e8,_0x4d8b82,null);Object['keys'](_0x552ce8)[_0x5e8777(0x4c6)]>0x0&&_0x2547e6[_0x5e8777(0x14c)]({'_id':_0x2df360[_0x5e8777(0x7e2)]['id'],'key':_0x2df360[_0x5e8777(0x7e2)],'pushName':_0x2df360[_0x5e8777(0x576)],'participant':_0x2df360[_0x5e8777(0x584)],'message':_0x33a2e8,'messageType':_0x4d8b82,'message_normalized':{'key':_0x2df360[_0x5e8777(0x7e2)],'pushName':_0x2df360['pushName'],'messageTimestamp':_0x2df360[_0x5e8777(0x3e2)],..._0x552ce8},'messageTimestamp':_0x2df360['messageTimestamp'],'owner':this[_0x5e8777(0x801)]['wuid']});}if(_0xe6e1d[_0x5e8777(0x29e)]&&_0x2547e6['length']>0x0&&(this['logger'][_0x5e8777(0x5a1)](this[_0x5e8777(0x77a)]+'\x20('+this[_0x5e8777(0x801)]['wuid']+_0x5e8777(0x6fe)+_0x2547e6[_0x5e8777(0x4c6)]+'\x20mensagens\x20de\x20'+this['instance'][_0x5e8777(0x69a)]+_0x5e8777(0x6d5)),await this[_0x5e8777(0x77f)][_0x5e8777(0x5ad)]['insert']([..._0x2547e6],this[_0x5e8777(0x801)][_0x5e8777(0x69a)])),this[_0x5e8777(0x801)]['HistoryProcessed']){for(let _0x10ad18 of _0x2547e6)this['sendDataWebhook']('messages.upsert',_0x10ad18);}else this[_0x5e8777(0x656)](_0x5e8777(0x23c),[..._0x2547e6]);_0x470765=void 0x0,_0x470765=void 0x0;},'messages.upsert':async({messages:_0x36877d,type:_0x247c0b},_0x445991)=>{const _0x3fa9ea=_0x22c775;for(let _0x5bddc6 of _0x36877d){if(this[_0x3fa9ea(0x492)]?.[_0x3fa9ea(0x769)]&&_0x5bddc6[_0x3fa9ea(0x7e2)][_0x3fa9ea(0x607)][_0x3fa9ea(0x49c)]('@g.us')){this['logger'][_0x3fa9ea(0x5a1)](this['instanceName']+'\x20('+this['instance'][_0x3fa9ea(0x69a)]+_0x3fa9ea(0x2f7));continue;}if(_0x5bddc6[_0x3fa9ea(0x7e2)][_0x3fa9ea(0x607)]['includes'](_0x3fa9ea(0x6fd))||_0x5bddc6[_0x3fa9ea(0x7e2)][_0x3fa9ea(0x607)]==='status@broadcast')continue;if(_0x5bddc6[_0x3fa9ea(0x75f)]&&_0x5bddc6[_0x3fa9ea(0x75f)][0x0]===_0x3fa9ea(0x80f)){console['error'](_0x3fa9ea(0x7b2)),await this[_0x3fa9ea(0x110)](_0x5bddc6),Lt[_0x5bddc6['key']['id']]=_0x5bddc6,this[_0x3fa9ea(0x1aa)](_0x5bddc6,0x0);continue;}if(_0x247c0b!==_0x3fa9ea(0x76e)||!_0x5bddc6?.[_0x3fa9ea(0x5ad)]||_0x5bddc6[_0x3fa9ea(0x5ad)]?.['protocolMessage']||_0x5bddc6[_0x3fa9ea(0x5ad)]?.[_0x3fa9ea(0x39a)])continue;let _0x27ba09=null,_0x162db1=null;if(Lt[_0x5bddc6[_0x3fa9ea(0x7e2)]['id']]&&(console[_0x3fa9ea(0x3d2)](_0x3fa9ea(0x5ea)),await this[_0x3fa9ea(0x77f)][_0x3fa9ea(0x5dd)][_0x3fa9ea(0x7c3)]({'where':{'_id':_0x5bddc6[_0x3fa9ea(0x7e2)]['id']}}),delete Lt[_0x5bddc6['key']['id']]),this[_0x3fa9ea(0x753)](this[_0x3fa9ea(0x801)][_0x3fa9ea(0x69a)],_0x5bddc6[_0x3fa9ea(0x7e2)]['id'])){this[_0x3fa9ea(0x246)]['verbose'](this[_0x3fa9ea(0x77a)]+'\x20('+this[_0x3fa9ea(0x801)][_0x3fa9ea(0x69a)]+_0x3fa9ea(0x543));continue;}this[_0x3fa9ea(0x71f)](this[_0x3fa9ea(0x801)][_0x3fa9ea(0x69a)],_0x5bddc6[_0x3fa9ea(0x7e2)]['id']);try{_0x27ba09=await this[_0x3fa9ea(0x802)](_0x5bddc6),_0x162db1=_0x27ba09?_0x27ba09['join'](','):null;}catch(_0x46cb98){this[_0x3fa9ea(0x246)][_0x3fa9ea(0x5a1)](this[_0x3fa9ea(0x77a)]+'\x20('+this[_0x3fa9ea(0x801)]['wuid']+'):\x20'+(_0x46cb98 instanceof Error?_0x46cb98[_0x3fa9ea(0x5ad)]:JSON[_0x3fa9ea(0x563)](_0x46cb98,null,0x2))),_0x162db1=_0x3fa9ea(0x670);}this[_0x3fa9ea(0x52a)][_0x3fa9ea(0x303)](_0x3fa9ea(0x214)),Ls[_0x3fa9ea(0xef)][_0x3fa9ea(0x3cb)](_0x5bddc6['messageTimestamp'])&&(_0x5bddc6[_0x3fa9ea(0x3e2)]=_0x5bddc6[_0x3fa9ea(0x3e2)]?.[_0x3fa9ea(0x583)]()),_0x5bddc6[_0x3fa9ea(0x3e2)]&&_0x5bddc6[_0x3fa9ea(0x3e2)][_0x3fa9ea(0x806)]()[_0x3fa9ea(0x4c6)]<0xd&&(_0x5bddc6['messageTimestamp']=_0x5bddc6[_0x3fa9ea(0x3e2)]*0x3e8);let _0x11366e=_0x5bddc6[_0x3fa9ea(0x5ad)],_0x41d53f=(0x0,w[_0x3fa9ea(0x609)])(_0x11366e),_0xeec587=(0x0,w[_0x3fa9ea(0x1bc)])(_0x41d53f),{messageContent:_0xf9e22d,message_normalized:_0x170238}=this[_0x3fa9ea(0x529)](_0x41d53f,_0xeec587,_0x162db1);if(_0xeec587===_0x3fa9ea(0x2a9)&&_0xf9e22d?.[_0x3fa9ea(0x2b0)]&&(_0xeec587=_0x3fa9ea(0x2b0)),_0xeec587===_0x3fa9ea(0x530)&&_0x5bddc6[_0x3fa9ea(0x7e2)][_0x3fa9ea(0x2ae)])continue;let _0x2d9726,_0x18a05e=_0x5bddc6[_0x3fa9ea(0x7e2)]['remoteJid'][_0x3fa9ea(0x364)]('@g.us');if(_0x5bddc6[_0x3fa9ea(0x7e2)][_0x3fa9ea(0x2ae)])_0x2d9726=this[_0x3fa9ea(0x801)]['profilePictureUrl'];else{let _0xc7e18f=_0x18a05e?_0x5bddc6[_0x3fa9ea(0x7e2)][_0x3fa9ea(0x584)]:_0x5bddc6[_0x3fa9ea(0x7e2)]['remoteJid'];_0x2d9726=(await this['findAndUpdateCacheContact'](_0xc7e18f,_0x5bddc6[_0x3fa9ea(0x576)],!0x1))['cachedContact']['pictureUrl'];}let _0x3e32f5={'_id':_0x5bddc6['key']['id'],'key':_0x5bddc6['key'],'isGroup':_0x18a05e,'profilePictureUrl':_0x2d9726,'pushName':_0x5bddc6[_0x3fa9ea(0x576)],'message':_0x41d53f,'messageType':_0xeec587,'message_normalized':{'key':_0x5bddc6[_0x3fa9ea(0x7e2)],'pushName':_0x5bddc6[_0x3fa9ea(0x576)],'messageTimestamp':_0x5bddc6[_0x3fa9ea(0x3e2)],'source':(0x0,w[_0x3fa9ea(0x652)])(_0x5bddc6[_0x3fa9ea(0x7e2)]['id']),..._0x170238},'messageTimestamp':_0x5bddc6[_0x3fa9ea(0x3e2)],'owner':this['instance'][_0x3fa9ea(0x69a)],'source':(0x0,w['getDevice'])(_0x5bddc6[_0x3fa9ea(0x7e2)]['id']),'expiration':_0xf9e22d?.[_0x3fa9ea(0x782)]?.['expiration']||0x0};if(_0xf9e22d||(this['logger'][_0x3fa9ea(0x3d2)]('Mensagem\x20não\x20suportada'),this[_0x3fa9ea(0x246)][_0x3fa9ea(0x3d2)](_0x3e32f5)),_0x170238[_0x3fa9ea(0x1ed)]===_0x3fa9ea(0x728)){console[_0x3fa9ea(0x3d2)](_0x3fa9ea(0x7e5)),await this[_0x3fa9ea(0x110)](_0x5bddc6);continue;}this[_0x3fa9ea(0x246)][_0x3fa9ea(0x114)](this[_0x3fa9ea(0x77a)]+'\x20('+this[_0x3fa9ea(0x801)][_0x3fa9ea(0x69a)]+_0x3fa9ea(0x6fe)+(_0x3e32f5[_0x3fa9ea(0x7e2)]?.[_0x3fa9ea(0x2ae)]?'enviado\x20para':_0x3fa9ea(0x630))+'\x20['+_0x3e32f5[_0x3fa9ea(0x7e2)]?.[_0x3fa9ea(0x607)][_0x3fa9ea(0x791)](_0x3fa9ea(0x457),'')+_0x3fa9ea(0x36f)+_0x3e32f5[_0x3fa9ea(0x4e7)]+')'),_0x3e32f5[_0x3fa9ea(0xcf)]?.[_0x3fa9ea(0x1ed)]&&this[_0x3fa9ea(0x246)][_0x3fa9ea(0x114)](_0x5bddc6['key']['id']+':\x20'+_0x3e32f5[_0x3fa9ea(0xcf)]?.['text']),await this[_0x3fa9ea(0x77f)]['message']['insert']([_0x3e32f5],this['instance'][_0x3fa9ea(0x69a)]),this[_0x3fa9ea(0x656)](_0x3fa9ea(0x17e),_0x3e32f5),F(this['instanceName'],_0x3fa9ea(0x43f),{'message':_0x3e32f5}),_0x5bddc6['key'][_0x3fa9ea(0x607)]!==_0x3fa9ea(0x55f)&&await this[_0x3fa9ea(0x3c5)](_0x445991,_0x3e32f5,_0x3fa9ea(0xe7));}},'messages.update':async(_0x219b46,_0x1055cc)=>{const _0x47c0a4=_0x22c775;let _0x2b8888={0x0:_0x47c0a4(0x4b3),0x1:_0x47c0a4(0x1a0),0x2:_0x47c0a4(0x12e),0x3:_0x47c0a4(0x354),0x4:'READ',0x5:_0x47c0a4(0x641)};for await(let {key:_0x5de2f4,update:_0xe82c18}of _0x219b46){if(this['localWebhook']?.[_0x47c0a4(0x769)]&&_0x5de2f4['remoteJid'][_0x47c0a4(0x49c)](_0x47c0a4(0x386))){this['logger'][_0x47c0a4(0x5a1)](this[_0x47c0a4(0x77a)]+'\x20('+this['instance'][_0x47c0a4(0x69a)]+_0x47c0a4(0x73f));return;}if(_0x5de2f4[_0x47c0a4(0x607)]!==_0x47c0a4(0x55f)){let _0x5bd802=Date[_0x47c0a4(0x574)](),_0x6c5fa9;_0xe82c18[_0x47c0a4(0x5ad)]===null&&_0xe82c18[_0x47c0a4(0x202)]===void 0x0?_0x6c5fa9=_0x47c0a4(0x859):_0x6c5fa9=_0x2b8888[_0xe82c18['status']];let _0x2e7c1b=_0x5de2f4[_0x47c0a4(0x607)][_0x47c0a4(0x791)](/:\d{1,2}@/g,'@'),_0x43e527={..._0x5de2f4,'remoteJid':_0x2e7c1b,'status':_0x6c5fa9,'datetime':_0x5bd802,'owner':this[_0x47c0a4(0x801)][_0x47c0a4(0x69a)]};this[_0x47c0a4(0x656)](_0x47c0a4(0x1a7),_0x43e527),await this[_0x47c0a4(0x11d)](_0x5de2f4,_0x43e527);}}},'labels.association':async({type:_0x4d9dab,association:_0xd10013})=>{const _0x187521=_0x22c775;if(_0xd10013[_0x187521(0x155)]===_0x187521(0x789)){let _0x5244d9,_0x53e11d=0x0;for(;!_0x5244d9&&_0x53e11d<this[_0x187521(0x810)];)_0x5244d9=await this['repository'][_0x187521(0x6f8)][_0x187521(0x4d6)]({'where':{'_id':_0xd10013['chatId']}},this[_0x187521(0x801)][_0x187521(0x69a)]),_0x5244d9||(_0x53e11d++,this[_0x187521(0x246)]['info'](this[_0x187521(0x77a)]+'\x20('+this[_0x187521(0x801)][_0x187521(0x69a)]+_0x187521(0x6f0)+_0xd10013['chatId']+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this['delayChatLabel_RETRY_DELAY_MS']+_0x187521(0x839)+_0x53e11d+'/'+this[_0x187521(0x810)]+')'),await this['delayChatLabel'](this[_0x187521(0x577)]));if(!_0x5244d9){this[_0x187521(0x246)]['error'](_0x187521(0x5c6)+_0xd10013[_0x187521(0x6ca)]+'\x20depois\x20'+this[_0x187521(0x810)]+_0x187521(0x1f8));return;}switch(_0x4d9dab){case _0x187521(0x346):console[_0x187521(0x114)](_0xd10013),await this[_0x187521(0x77f)][_0x187521(0x6f8)][_0x187521(0x2a2)]({'where':{'_id':_0xd10013[_0x187521(0x6ca)]}},{'leadInfo.etiquetas':_0xd10013[_0x187521(0x4a9)]},this['instance'][_0x187521(0x69a)],void 0x0,_0x187521(0x6e9));break;case'remove':console[_0x187521(0x114)](_0xd10013),await this[_0x187521(0x77f)][_0x187521(0x6f8)]['updateOne']({'where':{'_id':_0xd10013[_0x187521(0x6ca)]}},{'leadInfo.etiquetas':_0xd10013[_0x187521(0x4a9)]},this[_0x187521(0x801)]['wuid'],void 0x0,_0x187521(0x47e));break;default:this['logger'][_0x187521(0x3d2)](_0x187521(0x26b)+_0x4d9dab+']');}}},'labels.edit':async _0x16044c=>{const _0x3a160d=_0x22c775;if(!_0x16044c||!_0x16044c['id']){this[_0x3a160d(0x246)][_0x3a160d(0x3d2)](_0x3a160d(0x394));return;}if(!_0x16044c[_0x3a160d(0x159)]){let _0x3082f5=[_0x3a160d(0x4fc),'#64c4ff',_0x3a160d(0x6e7),_0x3a160d(0x115),'#9ab6c1','#56ccb4',_0x3a160d(0x1dc),_0x3a160d(0x109),_0x3a160d(0x7d5),_0x3a160d(0x75d),_0x3a160d(0x3c6),_0x3a160d(0x4bb),_0x3a160d(0x30c),_0x3a160d(0x45b),'#00a1f2',_0x3a160d(0x39e),_0x3a160d(0x2ed),'#b4ebff',_0x3a160d(0x150),_0x3a160d(0x324)],_0xc6034f;typeof _0x16044c['color']=='number'&&_0x16044c['color']>=0x0&&_0x16044c['color']<_0x3082f5[_0x3a160d(0x4c6)]?_0xc6034f=_0x3082f5[_0x16044c['color']]:(this[_0x3a160d(0x246)][_0x3a160d(0x3d2)](_0x3a160d(0x808)+_0x16044c[_0x3a160d(0x399)]),_0xc6034f='#000000');let _0x8030bf={'_id':_0x16044c['id'],'colorHex':_0xc6034f,'color':_0x16044c?.[_0x3a160d(0x399)],'name':_0x16044c?.[_0x3a160d(0x15e)],'owner':this[_0x3a160d(0x801)][_0x3a160d(0x69a)]};await this[_0x3a160d(0x77f)][_0x3a160d(0x59d)][_0x3a160d(0x2a2)]({'where':{'_id':_0x16044c['id']}},_0x8030bf,this[_0x3a160d(0x801)][_0x3a160d(0x69a)]),this['logger'][_0x3a160d(0x7b4)](this[_0x3a160d(0x77a)]+'\x20('+this[_0x3a160d(0x801)][_0x3a160d(0x69a)]+_0x3a160d(0x7c8)+_0x16044c);}_0x16044c[_0x3a160d(0x159)]&&(await this[_0x3a160d(0x77f)][_0x3a160d(0x59d)][_0x3a160d(0x7c3)]({'where':{'_id':_0x16044c['id']}},this[_0x3a160d(0x801)][_0x3a160d(0x69a)]),this[_0x3a160d(0x246)]['info'](_0x3a160d(0x21d)+_0x16044c['id']));}},this[_0x22c775(0x7c5)]={'groups.upsert':async _0x533cfb=>{const _0x467cf5=_0x22c775;this[_0x467cf5(0x492)]?.['groups_ignore']||this['sendDataWebhook'](_0x467cf5(0x5c3),_0x533cfb);for(let _0xec0c53 of _0x533cfb)await this['updateGroupWebhook'](_0xec0c53);},'groups.update':async _0x14bb8b=>{const _0x5152cf=_0x22c775;this[_0x5152cf(0x492)]?.['groups_ignore']||this['sendDataWebhook']('groups.update',_0x14bb8b);for(let _0x29b898 of _0x14bb8b)await this[_0x5152cf(0x6e0)](_0x29b898);},'group-participants.update':async _0x44b509=>{const _0x9d7997=_0x22c775;this['localWebhook']?.[_0x9d7997(0x769)]||this['sendDataWebhook'](_0x9d7997(0x197),_0x44b509),await this[_0x9d7997(0x209)](_0x44b509);}},this['delayChatLabel_MAX_RETRIES']=0x5,this[_0x22c775(0x577)]=0x1388,this[_0x22c775(0x137)]=0x0,this[_0x22c775(0x802)]=async _0x3e4f91=>{const _0x30dcd0=_0x22c775;if(_0x3e4f91[_0x30dcd0(0x5ad)]?.[_0x30dcd0(0xc9)]){let _0x3c5b37=await this[_0x30dcd0(0x2ac)](_0x3e4f91[_0x30dcd0(0x5ad)][_0x30dcd0(0xc9)][_0x30dcd0(0x701)],!0x0);if(_0x3c5b37){let _0x3238f2=_0x3c5b37[_0x30dcd0(0x7e2)][_0x30dcd0(0x2ae)]?this['instance'][_0x30dcd0(0x69a)]+_0x30dcd0(0x457):_0x3c5b37[_0x30dcd0(0x7e2)][_0x30dcd0(0x584)]||_0x3c5b37['key'][_0x30dcd0(0x607)],_0xad93ee=_0x3c5b37[_0x30dcd0(0x7e2)]['id'],_0x120407=_0x3c5b37[_0x30dcd0(0x5ad)],_0x39a984=Buffer[_0x30dcd0(0x1be)](_0x120407[_0x30dcd0(0x65e)][_0x30dcd0(0x683)]['toString'](_0x30dcd0(0x33d)),_0x30dcd0(0x33d)),_0x416c25=(0x0,w[_0x30dcd0(0x2b8)])(_0x3e4f91[_0x30dcd0(0x5ad)][_0x30dcd0(0xc9)][_0x30dcd0(0xd2)],{'pollCreatorJid':_0x3238f2,'pollMsgId':_0xad93ee,'pollEncKey':_0x39a984,'voterJid':_0x3e4f91[_0x30dcd0(0x7e2)][_0x30dcd0(0x2ae)]?this[_0x30dcd0(0x801)][_0x30dcd0(0x69a)]+_0x30dcd0(0x457):_0x3e4f91['key']['remoteJid'][_0x30dcd0(0x364)](_0x30dcd0(0x3b6))?_0x3e4f91[_0x30dcd0(0x7e2)]['participant']:_0x3e4f91[_0x30dcd0(0x7e2)]['remoteJid']}),_0x261721=[],_0x1cf7e8=_0x416c25['selectedOptions'][_0x30dcd0(0x474)](_0x3f4914=>Buffer[_0x30dcd0(0x1be)](_0x3f4914)[_0x30dcd0(0x806)](_0x30dcd0(0x33d)));for(let {optionName:_0x1d123b}of _0x120407[_0x30dcd0(0x5e5)]?.[_0x30dcd0(0x5ab)]||_0x120407[_0x30dcd0(0x413)]?.[_0x30dcd0(0x5ab)]||_0x120407[_0x30dcd0(0x493)]?.[_0x30dcd0(0x5ab)])_0x1cf7e8[_0x30dcd0(0x6b0)]((0x0,w[_0x30dcd0(0x73a)])(Buffer[_0x30dcd0(0x1be)](_0x1d123b))[_0x30dcd0(0x806)](_0x30dcd0(0x33d)))>-0x1&&_0x261721[_0x30dcd0(0x14c)](_0x1d123b);return _0x261721;}}return null;},this[_0x22c775(0x529)]=(_0x3d1589,_0x1a25b2,_0x2229fe)=>{const _0x122976=_0x22c775;try{let _0x29f7c1=_0x3d1589?(0x0,w[_0x122976(0x7c1)])(_0x3d1589)[_0x1a25b2]:void 0x0,_0x2fd0d8={},_0x430bdc=null,_0x475cb3=null,_0x41f813=null,_0x7c287f=null;_0x1a25b2===_0x122976(0x2a9)&&_0x29f7c1?.[_0x122976(0x2b0)]&&(_0x1a25b2=(0x0,w['getContentType'])(_0x29f7c1[_0x122976(0x2b0)]),_0x430bdc=_0x3d1589['protocolMessage'][_0x122976(0x7e2)]['id'],_0x29f7c1=_0x3d1589[_0x122976(0x2a9)][_0x122976(0x2b0)][_0x1a25b2]),_0x3d1589[_0x1a25b2]?.[_0x122976(0x782)]?.['stanzaId']&&_0x3d1589[_0x1a25b2]?.[_0x122976(0x782)]?.['quotedMessage']&&(_0x475cb3=_0x3d1589[_0x1a25b2][_0x122976(0x782)][_0x122976(0x1d1)]),_0x3d1589[_0x122976(0x282)]&&(_0x41f813=_0x3d1589[_0x122976(0x282)][_0x122976(0x7e2)]['id']);let _0x2ce12c;if(_0x29f7c1&&typeof _0x29f7c1==_0x122976(0xfe)&&_0x122976(0x701)in _0x29f7c1&&({pollCreationMessageKey:_0x2ce12c}=_0x29f7c1),_0x1a25b2===_0x122976(0x5e5)||_0x1a25b2===_0x122976(0x493)||_0x1a25b2===_0x122976(0x413)){let _0x402caa=_0x29f7c1[_0x122976(0x5ab)][_0x122976(0x474)](_0x527e57=>_0x527e57[_0x122976(0x713)])[_0x122976(0x29a)]('|');_0x2fd0d8[_0x122976(0x500)]=_0x402caa;}if(_0x1a25b2===_0x122976(0x530)){let _0x4146a2=_0x29f7c1[_0x122976(0x5a2)]['buttons'][_0x122976(0x474)](_0x2896e0=>JSON[_0x122976(0x50b)](_0x2896e0[_0x122976(0xde)])[_0x122976(0x6e4)])[_0x122976(0x29a)]('|');_0x2fd0d8[_0x122976(0x500)]=_0x4146a2;}_0x1a25b2==='listResponseMessage'&&(_0x2fd0d8[_0x122976(0x2c9)]=_0x29f7c1?.[_0x122976(0x15d)]?.[_0x122976(0x7df)]);let _0x255e5b='';if(_0x29f7c1&&(_0x255e5b+=_0x29f7c1[_0x122976(0x15e)]?_0x29f7c1[_0x122976(0x15e)]:'',_0x255e5b+=_0x29f7c1['caption']?'\x20'+_0x29f7c1[_0x122976(0x7b5)]:'',_0x255e5b+=_0x29f7c1[_0x122976(0x592)]?'\x20'+_0x29f7c1[_0x122976(0x592)]:'',_0x255e5b+=_0x29f7c1['displayName']?'\x20'+_0x29f7c1[_0x122976(0x58a)]:'',_0x1a25b2!==_0x122976(0x796)&&(_0x255e5b+=_0x29f7c1[_0x122976(0x83c)]?.[_0x122976(0x1ed)]?'\x20'+_0x29f7c1[_0x122976(0x83c)][_0x122976(0x1ed)]:''),_0x255e5b+=_0x29f7c1?.[_0x122976(0x6f3)]?.[_0x122976(0x1ed)]?'\x20'+_0x29f7c1?.[_0x122976(0x6f3)]?.[_0x122976(0x1ed)]:''),_0x1a25b2===_0x122976(0x538)){_0x255e5b=(_0x29f7c1[_0x122976(0x4bd)]||'')+'\x0a'+(_0x29f7c1[_0x122976(0x22c)]||'')+'\x0a'+(_0x29f7c1['footerText']||'');let _0xabd9e=this[_0x122976(0x1d8)](_0x29f7c1[_0x122976(0x47f)]);_0x2fd0d8[_0x122976(0x500)]=_0xabd9e;}if(_0x1a25b2===_0x122976(0x16a)&&(_0x2229fe=_0x29f7c1[_0x122976(0x4bd)],_0x7c287f=_0x29f7c1?.[_0x122976(0x15d)]?.['selectedRowId']),_0x1a25b2===_0x122976(0x796)){let _0x3f81b9=_0x29f7c1?.[_0x122976(0x790)];_0x3f81b9&&_0x3f81b9[_0x122976(0x15e)]===_0x122976(0x5d3)&&(_0x7c287f=JSON[_0x122976(0x50b)](_0x3f81b9['paramsJson'])['id']),_0x2229fe=_0x29f7c1?.['body']?.[_0x122976(0x1ed)];}if(_0x1a25b2===_0x122976(0x850)&&(_0x2229fe=_0x29f7c1?.[_0x122976(0x5ae)],_0x7c287f=_0x29f7c1?.[_0x122976(0x712)]),_0x1a25b2==='buttonsResponseMessage'&&(_0x2229fe=_0x29f7c1?.[_0x122976(0x5ae)],_0x7c287f=_0x29f7c1?.[_0x122976(0x854)]),_0x29f7c1&&_0x29f7c1['vcard']){let _0x5e2af1=this['formatVCard'](JSON[_0x122976(0x563)](_0x29f7c1[_0x122976(0x743)],null,0x2));_0x255e5b=_0x255e5b+'\x0a'+_0x5e2af1;}if(_0x29f7c1){let {selectedButtonId:_0x473b47,nativeFlowResponseMessage:_0x5ac850,selectedId:_0x577704,selectedDisplayText:_0x5d01be,selectedIndex:_0x29189a,body:_0x1f3a09,nativeFlowMessage:_0x549873,singleSelectReply:_0x3c64f3,sections:_0xdf75fa,listType:_0x58d427,displayName:_0x36f7b1,vcard:_0x1493d2,contactVcard:_0x267f8a,name:_0x55f7bb,caption:_0x40709c,conversation:_0x1443ee,pollCreationMessageKey:_0xde768f,footerText:_0x27f690,contentText:_0x36d9a7,pageCount:_0x2aa8fa,headerType:_0x27c4fd,isAvatar:_0x3d8a7c,isAnimated:_0x5977a6,fallbackLc:_0x5a767c,fallbackLg:_0x300448,namespace:_0x1f6d2b,elementName:_0x2d8f31,localizableParams:_0x132366,viewOnce:_0x5de4ce,height:_0x35e855,width:_0x3835d2,key:_0x13a6e3,firstScanLength:_0x373b93,firstScanSidecar:_0x130898,gifPlayback:_0x480a1b,gifAttribution:_0x1cca49,midQualityFileSha256:_0x3ca770,scansSidecar:_0x358d3b,streamingSidecar:_0xaceb7c,thumbnailHeight:_0x1763ec,thumbnailWidth:_0x275fbb,thumbnailEncSha256:_0x527af0,thumbnailDirectPath:_0x68e55d,canonicalUrl:_0x4c6ac7,matchedText:_0x2ebc03,previewType:_0x2a38d5,thumbnailSha256:_0x2d2638,deviceListMetadataVersion:_0x4e502a,inviteLinkGroupTypeV2:_0x169815,interactiveAnnotations:_0xa41e40,scanLengths:_0x5f3e62,jpegThumbnail:_0x2b83b5,url:_0x50bd50,mediaKeyTimestamp:_0xaa9a7f,waveform:_0x494277,stickerSentTs:_0x32718b,firstFrameLength:_0x47e063,fileEncSha256:_0x6974b4,contextInfo:_0x3e61ca,firstFrameSidecar:_0x5a1a36,directPath:_0xf816bb,fileSha256:_0x563f9c,mediaKey:_0x5a7bc5,senderTimestampMs:_0xcea6b9,..._0x107e61}=_0x29f7c1;(_0x1a25b2===_0x122976(0x538)||_0x1a25b2===_0x122976(0x16a))&&(delete _0x107e61[_0x122976(0x4bd)],delete _0x107e61[_0x122976(0x22c)]),typeof _0x29f7c1==_0x122976(0x2d7)?_0x2fd0d8={'text':_0x29f7c1,'type':_0x1a25b2||_0x122976(0x592),..._0x430bdc&&{'edited':_0x430bdc},..._0x475cb3&&{'quoted':_0x475cb3},..._0x41f813&&{'reaction':_0x41f813}}:_0x2fd0d8={'text':_0x255e5b,..._0x107e61,..._0x1a25b2===_0x122976(0xc9)?{'poll_id':_0x29f7c1['pollCreationMessageKey']['id'],'quoted':_0x29f7c1[_0x122976(0x701)]['id'],'vote':_0x2229fe}:{},..._0x1a25b2===_0x122976(0x16a)?{'buttonOrList_id':_0x7c287f,'vote':_0x2229fe}:{},..._0x1a25b2===_0x122976(0x796)?{'buttonOrList_id':_0x7c287f,'vote':_0x2229fe}:{},..._0x1a25b2==='templateButtonReplyMessage'?{'buttonOrList_id':_0x7c287f,'vote':_0x2229fe}:{},..._0x1a25b2===_0x122976(0x6c9)?{'buttonOrList_id':_0x7c287f,'vote':_0x2229fe}:{},'type':_0x1a25b2,..._0x430bdc&&{'edited':_0x430bdc},..._0x475cb3&&{'quoted':_0x475cb3},..._0x41f813&&{'reaction':_0x41f813},...(_0x1a25b2==='pollCreationMessage'||_0x1a25b2===_0x122976(0x493)||_0x1a25b2===_0x122976(0x413)||_0x1a25b2==='listMessage'||_0x1a25b2===_0x122976(0x530))&&{'convertedOptions':_0x2fd0d8[_0x122976(0x500)]}};}return{'messageType':_0x1a25b2,'messageContent':_0x29f7c1,'message_normalized':_0x2fd0d8};}catch(_0x880834){return this[_0x122976(0x246)][_0x122976(0x3d2)](_0x122976(0x28f)+_0x880834),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x22c775(0x52d)]=[],(this[_0x22c775(0x44c)](),this[_0x22c775(0x42e)](),this[_0x22c775(0x801)][_0x22c775(0x3b2)]=!0x0,this[_0x22c775(0x801)][_0x22c775(0x369)]={'count':0x0},this['instance'][_0x22c775(0x3ab)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0xc869c4(0x71f)](_0x2804a4,_0x3967b1){const _0x3e9e99=a0_0xc869c4;this[_0x3e9e99(0x1ca)][_0x2804a4]||(this[_0x3e9e99(0x1ca)][_0x2804a4]=new Set()),this[_0x3e9e99(0x1ca)][_0x2804a4][_0x3e9e99(0x346)](_0x3967b1),setTimeout(()=>this['processedMessagesCache'][_0x2804a4][_0x3e9e99(0x7c3)](_0x3967b1),0x2710);}[a0_0xc869c4(0x753)](_0x414025,_0x1f8067){const _0x42d16b=a0_0xc869c4;return this[_0x42d16b(0x1ca)][_0x414025]?.['has'](_0x1f8067)??!0x1;}set['instanceName'](_0x1cc79b){const _0x395957=a0_0xc869c4;if(!_0x1cc79b){this[_0x395957(0x801)][_0x395957(0x15e)]=(0x0,Ti['v4'])();return;}this[_0x395957(0x801)][_0x395957(0x15e)]=_0x1cc79b,this['sendDataWebhook'](_0x395957(0x5f2),{'instance':this[_0x395957(0x801)][_0x395957(0x15e)],'status':'created'});}get[a0_0xc869c4(0x77a)](){const _0x3bb252=a0_0xc869c4;return this['instance'][_0x3bb252(0x15e)];}get[a0_0xc869c4(0x69a)](){const _0x4f6729=a0_0xc869c4;return this[_0x4f6729(0x801)][_0x4f6729(0x69a)];}async['getProfileName'](){const _0x7b810e=a0_0xc869c4;let _0x1f5d78=this[_0x7b810e(0x52a)][_0x7b810e(0x17c)]?.[_0x7b810e(0x15e)]??this['client']['user']?.['verifiedName'];if(!_0x1f5d78){if(this[_0x7b810e(0x3a6)][_0x7b810e(0x1d4)]('DATABASE')[_0x7b810e(0x29e)]){let _0x1852df=await T[_0x7b810e(0x57f)]()['db'](this[_0x7b810e(0x3a6)][_0x7b810e(0x1d4)](_0x7b810e(0x661))[_0x7b810e(0x7a6)]['DB_PREFIX_NAME']+_0x7b810e(0x7dd))[_0x7b810e(0x586)](this['instanceName'])[_0x7b810e(0x4d6)]({'_id':_0x7b810e(0x13c)});if(_0x1852df){let _0x50e805=JSON['parse'](JSON[_0x7b810e(0x563)](_0x1852df),w[_0x7b810e(0x491)][_0x7b810e(0x85f)]);_0x1f5d78=_0x50e805['me']?.[_0x7b810e(0x15e)]||_0x50e805['me']?.[_0x7b810e(0x24a)];}}else{if((0x0,Fe['existsSync'])((0x0,j[_0x7b810e(0x29a)])(Se,this['instanceName'],_0x7b810e(0x310)))){let _0x1b0303=JSON[_0x7b810e(0x50b)]((0x0,Fe[_0x7b810e(0x275)])((0x0,j[_0x7b810e(0x29a)])(Se,this[_0x7b810e(0x77a)],_0x7b810e(0x310)),{'encoding':'utf-8'}));_0x1f5d78=_0x1b0303['me']?.['name']||_0x1b0303['me']?.[_0x7b810e(0x24a)];}}}return _0x1f5d78;}get[a0_0xc869c4(0x528)](){const _0x2d30d4=a0_0xc869c4;return this[_0x2d30d4(0x801)][_0x2d30d4(0x528)];}async['isBusinessInstance'](){const _0x4df3a6=a0_0xc869c4;let _0x5a3ee3=this[_0x4df3a6(0x801)][_0x4df3a6(0x69a)]+_0x4df3a6(0x457);try{await this['client'][_0x4df3a6(0x434)](_0x5a3ee3)?this[_0x4df3a6(0x801)]['isBusiness']=!0x0:this['instance'][_0x4df3a6(0x31e)]=!0x1;}catch{this[_0x4df3a6(0x801)][_0x4df3a6(0x31e)]=!0x1;}return this['logger']['info'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4df3a6(0x797)+this[_0x4df3a6(0x801)][_0x4df3a6(0x31e)]),this[_0x4df3a6(0x801)][_0x4df3a6(0x31e)];}get[a0_0xc869c4(0x201)](){const _0x268dca=a0_0xc869c4;return this['instance'][_0x268dca(0x3b2)]=!0x1,this[_0x268dca(0x801)][_0x268dca(0x369)]?.[_0x268dca(0x400)]?{'pairingCode':this[_0x268dca(0x801)][_0x268dca(0x369)]?.[_0x268dca(0x400)]}:{'code':this[_0x268dca(0x801)]['qrcode']?.[_0x268dca(0x60d)],'base64':this[_0x268dca(0x801)][_0x268dca(0x369)]?.['base64']};}async[a0_0xc869c4(0x35b)](){const _0x1b3789=a0_0xc869c4;let _0x40df96=await this[_0x1b3789(0x77f)][_0x1b3789(0x645)]['find'](this[_0x1b3789(0x77a)]);this[_0x1b3789(0x492)]['url']=_0x40df96?.['url'],this[_0x1b3789(0x492)][_0x1b3789(0x766)]=_0x40df96?.['enabled'],this['localWebhook']['local_map']=_0x40df96?.['local_map'],this[_0x1b3789(0x492)][_0x1b3789(0x1b4)]=_0x40df96?.[_0x1b3789(0x1b4)],this[_0x1b3789(0x492)][_0x1b3789(0x5d0)]=_0x40df96?.['QRCODE_UPDATED'],this['localWebhook']['SEND_MESSAGE']=_0x40df96?.[_0x1b3789(0xf9)],this[_0x1b3789(0x492)][_0x1b3789(0xe7)]=_0x40df96?.['MESSAGES_UPSERT'],this[_0x1b3789(0x492)]['MESSAGES_UPDATE']=_0x40df96?.[_0x1b3789(0x642)],this[_0x1b3789(0x492)][_0x1b3789(0x760)]=_0x40df96?.[_0x1b3789(0x760)],this[_0x1b3789(0x492)][_0x1b3789(0x5a3)]=_0x40df96?.[_0x1b3789(0x5a3)],this['localWebhook'][_0x1b3789(0x14b)]=_0x40df96?.[_0x1b3789(0x14b)],this[_0x1b3789(0x492)][_0x1b3789(0x420)]=_0x40df96?.[_0x1b3789(0x420)],this[_0x1b3789(0x492)][_0x1b3789(0x23a)]=_0x40df96?.[_0x1b3789(0x23a)],this['localWebhook']['CHATS_UPDATE']=_0x40df96?.[_0x1b3789(0x1e8)],this['localWebhook']['CHATS_DELETE']=_0x40df96?.[_0x1b3789(0x833)],this[_0x1b3789(0x492)][_0x1b3789(0x545)]=_0x40df96?.[_0x1b3789(0x545)],this[_0x1b3789(0x492)]['CONTACTS_UPSERT']=_0x40df96?.[_0x1b3789(0x617)],this['localWebhook'][_0x1b3789(0x61c)]=_0x40df96?.[_0x1b3789(0x61c)],this[_0x1b3789(0x492)]['PRESENCE_UPDATE']=_0x40df96?.[_0x1b3789(0x63e)],this[_0x1b3789(0x492)][_0x1b3789(0x3ed)]=_0x40df96?.[_0x1b3789(0x3ed)],this[_0x1b3789(0x492)][_0x1b3789(0x7b3)]=_0x40df96?.[_0x1b3789(0x7b3)],this[_0x1b3789(0x492)][_0x1b3789(0x769)]=_0x40df96?.[_0x1b3789(0x769)];}async['setWebhook'](_0x46da58){const _0x1308d6=a0_0xc869c4;let _0x10ab19=[_0x1308d6(0x59b),_0x1308d6(0x709),_0x1308d6(0x766),_0x1308d6(0x374),_0x1308d6(0x1b4),_0x1308d6(0x5d0),_0x1308d6(0x642),_0x1308d6(0xe7),_0x1308d6(0xf9),_0x1308d6(0x760),_0x1308d6(0x5a3),'GROUP_PARTICIPANTS_UPDATE',_0x1308d6(0x420),_0x1308d6(0x23a),_0x1308d6(0x1e8),_0x1308d6(0x833),_0x1308d6(0x545),'CONTACTS_UPSERT',_0x1308d6(0x61c),_0x1308d6(0x63e),_0x1308d6(0x3ed),_0x1308d6(0x7b3),_0x1308d6(0x769)],_0x462025={};return _0x10ab19[_0x1308d6(0x64a)](_0xd8d47d=>{_0x46da58[_0xd8d47d]!==void 0x0&&(_0x462025[_0xd8d47d]=_0x46da58[_0xd8d47d]);}),_0x462025[_0x1308d6(0x709)]&&(_0x462025['url']=_0x462025[_0x1308d6(0x709)][_0x1308d6(0x501)]()),await this[_0x1308d6(0x77f)][_0x1308d6(0x645)][_0x1308d6(0x5de)](_0x462025,this[_0x1308d6(0x77a)]),Object[_0x1308d6(0x7cb)](this[_0x1308d6(0x492)],_0x462025),await this[_0x1308d6(0x77f)][_0x1308d6(0x645)]['find'](this[_0x1308d6(0x77a)]);}async[a0_0xc869c4(0x6c0)](){const _0x3abba4=a0_0xc869c4;return await this[_0x3abba4(0x77f)]['webhook']['find'](this['instanceName']);}async[a0_0xc869c4(0x656)](_0x36fac7,_0x10b499){const _0x1dafa3=a0_0xc869c4;let _0x5a4b9c=_0x36fac7[_0x1dafa3(0x791)](/[\.-]/gm,'_')[_0x1dafa3(0x15b)](),_0x1f6e16=this[_0x1dafa3(0x492)][_0x1dafa3(0x766)]&&(0x0,J['isURL'])(this[_0x1dafa3(0x492)]['url'])?this['localWebhook'][_0x1dafa3(0x709)]+(this[_0x1dafa3(0x492)][_0x1dafa3(0x374)]?this[_0x1dafa3(0x70d)][_0x36fac7]:''):null,_0x48bfe8=this[_0x1dafa3(0x492)][_0x5a4b9c],_0x171d46=pe&&pe['enabled']&&(0x0,J[_0x1dafa3(0x3a8)])(pe[_0x1dafa3(0x709)])?pe['url']+(pe['local_map']?this[_0x1dafa3(0x70d)][_0x36fac7]:''):null,_0x10885d=pe?pe[_0x5a4b9c]:null;if(_0x48bfe8&&_0x1f6e16)try{await K[_0x1dafa3(0xef)][_0x1dafa3(0x5de)]({'baseURL':_0x1f6e16})['post']('',{'event':_0x36fac7,'instance':this[_0x1dafa3(0x801)][_0x1dafa3(0x15e)],'apikey':this[_0x1dafa3(0x801)]['apikey'],'data':_0x10b499}),this[_0x1dafa3(0x246)][_0x1dafa3(0x114)](this['instanceName']+'\x20('+this[_0x1dafa3(0x801)][_0x1dafa3(0x69a)]+_0x1dafa3(0x27a)+_0x36fac7+':\x20'+_0x1f6e16);}catch{this[_0x1dafa3(0x246)][_0x1dafa3(0x3d2)](this[_0x1dafa3(0x77a)]+'\x20('+this['instance']['wuid']+_0x1dafa3(0xc8)+_0x36fac7+':\x20'+_0x1f6e16);}if(_0x10885d&&_0x171d46)try{await K[_0x1dafa3(0xef)][_0x1dafa3(0x5de)]({'baseURL':_0x171d46})[_0x1dafa3(0x4de)]('',{'event':_0x36fac7,'instance':this[_0x1dafa3(0x801)][_0x1dafa3(0x15e)],'apikey':this[_0x1dafa3(0x801)][_0x1dafa3(0x6c3)],'data':_0x10b499}),this[_0x1dafa3(0x246)][_0x1dafa3(0x114)](this[_0x1dafa3(0x77a)]+'\x20('+this[_0x1dafa3(0x801)]['wuid']+_0x1dafa3(0x10d)+_0x36fac7+':\x20'+_0x171d46);}catch{this[_0x1dafa3(0x246)][_0x1dafa3(0x3d2)](this[_0x1dafa3(0x77a)]+'\x20('+this['instance'][_0x1dafa3(0x69a)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x36fac7+':\x20'+_0x171d46);}}async['connectionUpdate']({qr:_0x7ee8d2,connection:_0x3501b7,lastDisconnect:_0x264fe3}){const _0x22b736=a0_0xc869c4;if(_0x7ee8d2){if(this[_0x22b736(0x801)][_0x22b736(0x369)][_0x22b736(0x164)]===Lo)return this[_0x22b736(0x656)](_0x22b736(0x3e3),{'message':_0x22b736(0x640),'statusCode':w[_0x22b736(0x6da)][_0x22b736(0x287)]}),this[_0x22b736(0xd6)]={'state':_0x22b736(0x60e),'statusReason':w['DisconnectReason'][_0x22b736(0x1b8)]},this[_0x22b736(0x656)](_0x22b736(0x344),{'instance':this['instance'][_0x22b736(0x15e)],...this[_0x22b736(0xd6)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0x22b736(0x801)][_0x22b736(0x15e)],'status':_0x22b736(0x565)}),this['repository']['auth'][_0x22b736(0x7c3)](this[_0x22b736(0x801)][_0x22b736(0x15e)]),this['endSession']=!0x0,this[_0x22b736(0x2f1)][_0x22b736(0x358)](_0x22b736(0x359),this[_0x22b736(0x801)]['name']);this[_0x22b736(0x801)][_0x22b736(0x369)]['count']++;let _0x146e5e={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x22b736(0x127),'dark':'#000000'}};Ii[_0x22b736(0xef)][_0x22b736(0x60b)](_0x7ee8d2,_0x146e5e,(_0x536542,_0x554a38)=>{const _0x1c220d=_0x22b736;if(_0x536542){this[_0x1c220d(0x246)]['error'](this[_0x1c220d(0x77a)]+'\x20('+this[_0x1c220d(0x801)][_0x1c220d(0x69a)]+_0x1c220d(0x774)+(_0x536542 instanceof Error?_0x536542[_0x1c220d(0x5ad)]:JSON['stringify'](_0x536542,null,0x2)));return;}this[_0x1c220d(0x801)]['qrcode'][_0x1c220d(0x7c0)]=_0x554a38,this[_0x1c220d(0x801)][_0x1c220d(0x369)][_0x1c220d(0x60d)]=_0x7ee8d2,!this[_0x1c220d(0x1c1)]&&this[_0x1c220d(0x656)]('qrcode.updated',{'qrcode':{'instance':this[_0x1c220d(0x801)][_0x1c220d(0x15e)],'pairingCode':this['instance'][_0x1c220d(0x369)][_0x1c220d(0x400)],'code':_0x7ee8d2,'base64':_0x554a38}});}),this[_0x22b736(0x1c1)]?this['instance'][_0x22b736(0x369)]['pairingCode']||(await(0x0,w[_0x22b736(0x379)])(0x7d0),this[_0x22b736(0x801)][_0x22b736(0x369)][_0x22b736(0x400)]=await this['client'][_0x22b736(0x36d)](this[_0x22b736(0x1c1)])):this[_0x22b736(0x801)][_0x22b736(0x369)][_0x22b736(0x400)]=null,_i[_0x22b736(0xef)]['generate'](_0x7ee8d2,{'small':!0x0},_0x232939=>this[_0x22b736(0x246)][_0x22b736(0x114)](_0x22b736(0x632)+this[_0x22b736(0x801)][_0x22b736(0x15e)]+',\x20qrcodeCount:\x20'+this['instance']['qrcode'][_0x22b736(0x164)]+_0x22b736(0x78c)+this['instance'][_0x22b736(0x369)]['pairingCode']+'\x20}\x0a'+_0x232939));}if(_0x3501b7&&(this[_0x22b736(0xd6)]={'state':_0x3501b7,'statusReason':_0x264fe3?.[_0x22b736(0x3d2)]?.[_0x22b736(0x169)]?.[_0x22b736(0x66b)]??0xc8},this['sendDataWebhook'](_0x22b736(0x344),{'instance':this[_0x22b736(0x801)][_0x22b736(0x15e)],...this[_0x22b736(0xd6)]})),_0x3501b7===_0x22b736(0x6e6)){if(_0x264fe3[_0x22b736(0x3d2)]?.['output']?.[_0x22b736(0x66b)]!==w[_0x22b736(0x6da)][_0x22b736(0x570)]&&(this[_0x22b736(0x7d6)]<0x21||this[_0x22b736(0x801)][_0x22b736(0x3ab)][_0x22b736(0x52c)])){this[_0x22b736(0x7d6)]++,this[_0x22b736(0x67e)]['push'](Date['now']()),this['reconnectTimestamps']=this[_0x22b736(0x67e)][_0x22b736(0x314)](_0x1a7ee7=>Date['now']()-_0x1a7ee7<this[_0x22b736(0x2cb)]);let _0x4efc64=this[_0x22b736(0x7d6)]<=0x1?0x0:Math[_0x22b736(0x375)](Math[_0x22b736(0x748)](0x2,this[_0x22b736(0x7d6)]-0x1)*0x3e8,0x493e0);console[_0x22b736(0x114)](this[_0x22b736(0x77a)]+_0x22b736(0x176)+this['reconnectAttempts']+_0x22b736(0x1c2)+_0x4efc64/0x3e8+_0x22b736(0x49a)),await new Promise(_0xc44fd3=>setTimeout(_0xc44fd3,_0x4efc64)),console['log'](_0x22b736(0x245)),await this[_0x22b736(0x525)]();}else{this['sendDataWebhook'](_0x22b736(0x5f2),{'instance':this[_0x22b736(0x801)][_0x22b736(0x15e)],'status':_0x22b736(0x565)}),this[_0x22b736(0x801)][_0x22b736(0x3ab)][_0x22b736(0x52c)]=!0x1,this[_0x22b736(0x77f)][_0x22b736(0x645)]['delete'](this[_0x22b736(0x77a)]),this[_0x22b736(0x77f)][_0x22b736(0x6e8)][_0x22b736(0x5de)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x22b736(0x574)]()},this[_0x22b736(0x801)]['name']);try{this[_0x22b736(0x246)][_0x22b736(0x5a1)](this[_0x22b736(0x77a)]+'\x20('+this[_0x22b736(0x801)][_0x22b736(0x69a)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x473257=await this[_0x22b736(0x77f)][_0x22b736(0x5ad)][_0x22b736(0x417)](this[_0x22b736(0x801)][_0x22b736(0x69a)]);_0x473257['success']?this[_0x22b736(0x246)][_0x22b736(0x5a1)](this[_0x22b736(0x77a)]+'\x20('+this[_0x22b736(0x801)]['wuid']+_0x22b736(0x820)):this['logger']['error'](_0x22b736(0x7c9)+_0x473257['error']);}catch(_0x3edd27){this[_0x22b736(0x246)][_0x22b736(0x3d2)](_0x22b736(0x705)+_0x3edd27[_0x22b736(0x5ad)]);}this['instance'][_0x22b736(0x3ab)][_0x22b736(0x2bc)]!==null&&(this[_0x22b736(0x246)]['verbose'](this[_0x22b736(0x77a)]+'\x20('+this['instance']['wuid']+_0x22b736(0x17a)),clearInterval(this[_0x22b736(0x801)][_0x22b736(0x3ab)]['delayMessage']),this[_0x22b736(0x801)][_0x22b736(0x3ab)][_0x22b736(0x2bc)]=null),this[_0x22b736(0x246)][_0x22b736(0x5a1)](this[_0x22b736(0x77a)]+'\x20('+this[_0x22b736(0x801)][_0x22b736(0x69a)]+_0x22b736(0x262)),this[_0x22b736(0x162)]=null,this[_0x22b736(0x2f1)][_0x22b736(0x358)](_0x22b736(0x481),this[_0x22b736(0x801)][_0x22b736(0x15e)],_0x22b736(0x5b7)),this[_0x22b736(0x52a)]?.['ws']?.[_0x22b736(0x6e6)](),this[_0x22b736(0x52a)]['end'](new Error('Close\x20connection'));}}if(_0x3501b7===_0x22b736(0x5d5)){this['logger'][_0x22b736(0x1ae)](this['instanceName']+'\x20('+this[_0x22b736(0x801)]['wuid']+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x22b736(0x52a)][_0x22b736(0x16f)]['creds']?.[_0x22b736(0x422)]),this[_0x22b736(0x52a)]['authState'][_0x22b736(0x13c)]?.['myAppStateKeyId']||(this[_0x22b736(0x246)][_0x22b736(0x1ae)](this[_0x22b736(0x77a)]+'\x20('+this['instance'][_0x22b736(0x69a)]+_0x22b736(0x40f)),this[_0x22b736(0x52a)]['ev'][_0x22b736(0x495)]()),this[_0x22b736(0x6ae)],this[_0x22b736(0x801)][_0x22b736(0x69a)]=this['client'][_0x22b736(0x17c)]['id'][_0x22b736(0x791)](/:\d+/,'')[_0x22b736(0x791)](_0x22b736(0x457),''),this[_0x22b736(0x801)][_0x22b736(0x528)]=(await this[_0x22b736(0x4e1)](this[_0x22b736(0x801)][_0x22b736(0x69a)]+'@s.whatsapp.net'))[_0x22b736(0x528)],this['repository']['auth'][_0x22b736(0x5de)]({'online':!0x0,'owner':this[_0x22b736(0x801)][_0x22b736(0x69a)],'lastDisconnect':null},this[_0x22b736(0x801)][_0x22b736(0x15e)]);let _0x1d30cc='Número:\x20'+this[_0x22b736(0x801)][_0x22b736(0x69a)],_0x27a9e6=0x28,_0x212580=Math[_0x22b736(0x3af)]((_0x27a9e6-_0x1d30cc['length'])/0x2),_0x17d816='\x20'[_0x22b736(0x4b1)](_0x212580),_0x1fa870=_0x22b736(0x2b3),_0x4e2a93='Instância:\x20'+this[_0x22b736(0x801)][_0x22b736(0x15e)],_0x18e741=(''+_0x17d816+_0x1d30cc+_0x17d816)['padEnd'](_0x27a9e6,'\x20'),_0x5487c1=(''+_0x17d816+_0x1fa870+_0x17d816)[_0x22b736(0x3d9)](_0x27a9e6,'\x20'),_0x1e9de5=(''+_0x17d816+_0x4e2a93+_0x17d816)[_0x22b736(0x3d9)](_0x27a9e6,'\x20'),_0xf9ad0d=Math['max'](_0x18e741[_0x22b736(0x4c6)],_0x5487c1['length'],_0x1e9de5['length']),_0x4f862e=_0x18e741['padEnd'](_0xf9ad0d,'\x20'),_0x31112e=_0x5487c1[_0x22b736(0x3d9)](_0xf9ad0d,'\x20'),_0x4bd4aa=_0x1e9de5[_0x22b736(0x3d9)](_0xf9ad0d,'\x20');this['logger'][_0x22b736(0x7b4)]((_0x22b736(0x34b)+'─'[_0x22b736(0x4b1)](_0xf9ad0d)+_0x22b736(0x486)+_0x31112e+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x4bd4aa+_0x22b736(0x3a0)+_0x4f862e+_0x22b736(0x740)+'─'[_0x22b736(0x4b1)](_0xf9ad0d)+'┘')[_0x22b736(0x791)](/^ +/gm,'\x20\x20')),this[_0x22b736(0x4aa)](),this[_0x22b736(0x801)]['ScheduleMessage'][_0x22b736(0x52c)]=!0x0;}}['resetReconnectionVariables'](){const _0x41a57b=a0_0xc869c4;this[_0x41a57b(0x7d6)]=0x0,this['reconnectTimestamps']=[];}async[a0_0xc869c4(0x2ac)](_0x204a3e,_0x56a3df=!0x1){const _0x47e74f=a0_0xc869c4;try{let _0xd5d4b7=await this[_0x47e74f(0x77f)]['message']['find']({'where':{'_id':_0x204a3e['id']}},this[_0x47e74f(0x801)][_0x47e74f(0x69a)]);return _0x56a3df?_0xd5d4b7[0x0]:_0xd5d4b7[0x0][_0x47e74f(0x5ad)];}catch{return{'conversation':''};}}[a0_0xc869c4(0x44c)](){const _0x25b011=a0_0xc869c4;let _0x2fce40=this['configService']['get'](_0x25b011(0x604)),_0x410409=this['configService']['get'](_0x25b011(0x661));_0x2fce40?.['CLEANING_INTERVAL']&&!_0x410409[_0x25b011(0x29e)]&&setInterval(()=>{const _0x42d0f8=_0x25b011;try{for(let [_0x373df2,_0x28c09f]of Object[_0x42d0f8(0x85d)](_0x2fce40))_0x28c09f===!0x0&&(0x0,Ue[_0x42d0f8(0x38a)])('rm\x20-rf\x20'+(0x0,j['join'])(this[_0x42d0f8(0x3f9)],_0x373df2[_0x42d0f8(0x61a)](),this[_0x42d0f8(0x801)][_0x42d0f8(0x69a)])+'/*.json');}catch{}},(_0x2fce40?.[_0x25b011(0x61e)]??0xe10)*0x3e8);}async[a0_0xc869c4(0x785)](){const _0x347b78=a0_0xc869c4;let _0x2a4a30=this[_0x347b78(0x3a6)]['get']('DATABASE'),_0x42d8c7=this[_0x347b78(0x3a6)][_0x347b78(0x1d4)](_0x347b78(0x506));return _0x42d8c7?.[_0x347b78(0x29e)]?await Os(_0x42d8c7,this['instance'][_0x347b78(0x15e)]):_0x2a4a30[_0x347b78(0x29e)]?await _s(this[_0x347b78(0x801)][_0x347b78(0x15e)]):await(0x0,w[_0x347b78(0x541)])((0x0,j[_0x347b78(0x29a)])(Se,this['instance'][_0x347b78(0x15e)]));}async[a0_0xc869c4(0x4aa)](){const _0xd03f35=a0_0xc869c4;let _0x3fe8d5=()=>Math[_0xd03f35(0x3af)](Math['random']()*0x4e21)+0x7d0,_0x43be6c=async()=>{const _0x119b45=_0xd03f35;if(!this[_0x119b45(0x801)][_0x119b45(0x3ab)][_0x119b45(0x52c)]){this[_0x119b45(0x246)][_0x119b45(0x5a1)](this[_0x119b45(0x77a)]+'\x20('+this[_0x119b45(0x801)]['wuid']+_0x119b45(0x320)),this[_0x119b45(0x613)]=!0x1;return;}if(this[_0x119b45(0x801)][_0x119b45(0x69a)]&&this[_0x119b45(0x162)]&&this[_0x119b45(0x801)]['ScheduleMessage'][_0x119b45(0x2bc)]!==null&&this['instance'][_0x119b45(0x3ab)][_0x119b45(0x2bc)]!==void 0x0){let _0x98071b=Math[_0x119b45(0x42b)](this[_0x119b45(0x801)]['ScheduleMessage'][_0x119b45(0x2bc)]/0xea60);this[_0x119b45(0x246)][_0x119b45(0x5a1)](this['instanceName']+'\x20('+this[_0x119b45(0x801)][_0x119b45(0x69a)]+_0x119b45(0x5a4)+_0x98071b+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x119b45(0x613)]=!0x1;return;}else this[_0x119b45(0x801)][_0x119b45(0x69a)]&&(this[_0x119b45(0x246)][_0x119b45(0x5a1)](this[_0x119b45(0x77a)]+'\x20('+this[_0x119b45(0x801)][_0x119b45(0x69a)]+_0x119b45(0x12f)),this['AutomateSystem']||(await this[_0x119b45(0x329)](),this['findRealGroups'](),this[_0x119b45(0x4d8)]()),(this['instance'][_0x119b45(0x3ab)][_0x119b45(0x2bc)]===null||this['instance'][_0x119b45(0x3ab)]['delayMessage']===void 0x0)&&await this[_0x119b45(0x674)]());if(this[_0x119b45(0x613)]){let _0x283141=_0x3fe8d5();this[_0x119b45(0x246)]['verbose'](this[_0x119b45(0x77a)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x283141/0x3e8+_0x119b45(0x380)),setTimeout(_0x43be6c,_0x283141);}};if(this[_0xd03f35(0x613)])return;this[_0xd03f35(0x613)]=!0x0;let _0x2e8a6c=_0x3fe8d5();setTimeout(_0x43be6c,_0x2e8a6c);}async[a0_0xc869c4(0x4d8)](){const _0x29e07a=a0_0xc869c4;let _0x32ec8e=this[_0x29e07a(0x801)][_0x29e07a(0x69a)];try{let _0x1ffac5=await this[_0x29e07a(0x77f)][_0x29e07a(0x4ad)][_0x29e07a(0x74e)]({'where':{'$or':[{'owner':_0x32ec8e},{'whoCanUse':{'$in':[_0x32ec8e]}},{'shareOwners':{'$in':[_0x32ec8e]}}]}}),_0x34afe9=new Map(this[_0x29e07a(0x162)][_0x29e07a(0x32c)][_0x29e07a(0x474)](_0x791920=>[_0x791920['_id'],_0x791920])),_0x319304=_0x1ffac5['map'](_0x158ac3=>{const _0xeb6a51=_0x29e07a;let _0x13b2a2=_0x34afe9[_0xeb6a51(0x1d4)](_0x158ac3['_id']?.[_0xeb6a51(0x806)]());return{'_id':_0x158ac3[_0xeb6a51(0x59b)]?.[_0xeb6a51(0x806)](),'name':_0x13b2a2?.[_0xeb6a51(0x15e)]??_0x158ac3[_0xeb6a51(0x15e)],'default':_0x13b2a2?.['default']??_0x158ac3[_0xeb6a51(0xef)]??!0x1,'startCommand':_0x13b2a2?.[_0xeb6a51(0x6a7)]??_0x158ac3['startCommandWord'],'minutesToClose':_0x13b2a2?.[_0xeb6a51(0x4cd)]??_0x158ac3[_0xeb6a51(0x4cd)]??0xa,'readMessages':_0x13b2a2?.[_0xeb6a51(0x5cc)]??_0x158ac3[_0xeb6a51(0x5cc)]??!0x1,'testingWith':_0x13b2a2?.['testingWith']??_0x158ac3[_0xeb6a51(0x762)],'canEdit':_0x158ac3[_0xeb6a51(0x436)]===_0x32ec8e||(_0x158ac3['whoCanEdit']??[])['includes'](_0x32ec8e),'usersCount':(_0x158ac3['shareOwners']??[])[_0xeb6a51(0x4c6)]??0x0};}),_0xde4beb=!0x1;_0x319304['forEach'](_0x32f192=>{const _0x49abe2=_0x29e07a;_0x32f192[_0x49abe2(0xef)]&&(_0xde4beb?_0x32f192[_0x49abe2(0xef)]=!0x1:_0xde4beb=!0x0);}),this[_0x29e07a(0x162)][_0x29e07a(0x32c)]=_0x319304;let _0x5784cb={'flows':_0x319304};return await this['repository'][_0x29e07a(0x126)][_0x29e07a(0x6cc)](_0x5784cb,_0x32ec8e),this[_0x29e07a(0x246)][_0x29e07a(0x5a1)](this['instanceName']+'\x20('+_0x32ec8e+_0x29e07a(0xf3)),_0x319304['length'];}catch(_0x5a1517){return this[_0x29e07a(0x246)][_0x29e07a(0x3d2)](this[_0x29e07a(0x77a)]+'\x20('+_0x32ec8e+_0x29e07a(0x57b)+(_0x5a1517 instanceof Error?_0x5a1517['message']:JSON[_0x29e07a(0x563)](_0x5a1517,null,0x2))),{'message':_0x29e07a(0x569)+(_0x5a1517 instanceof Error?_0x5a1517[_0x29e07a(0x5ad)]:JSON[_0x29e07a(0x563)](_0x5a1517,null,0x2))};}}async[a0_0xc869c4(0x525)](_0x239af1){const _0x1961bf=a0_0xc869c4;try{let _0x1f76d9=await this[_0x1961bf(0x77f)][_0x1961bf(0x801)][_0x1961bf(0x4d6)]({'where':{'_id':se+'-'+this[_0x1961bf(0x77a)]}}),_0x15277a,_0xc752a6=!we['ipv6Prefix']||!we[_0x1961bf(0x7a7)];console[_0x1961bf(0x114)]('--------------------------------------'),console['log'](_0x1961bf(0x227),Ai),console[_0x1961bf(0x114)](_0x1961bf(0x516),this['reconnectAttempts']),console[_0x1961bf(0x114)](_0x1961bf(0x438)),Ai&&!_0xc752a6&&(this[_0x1961bf(0x7d6)]<0x4||!this[_0x1961bf(0x7d6)]?_0x1f76d9&&_0x1f76d9['ip']?(_0x15277a=_0x1f76d9['ip'],console[_0x1961bf(0x114)]('Usando\x20IP\x20existente:\x20'+_0x15277a)):(_0x15277a=await we['createIPv6'](se,this[_0x1961bf(0x801)][_0x1961bf(0x15e)]),_0x15277a?(console[_0x1961bf(0x114)](_0x1961bf(0x3fc)+_0x15277a),await(0x0,w['delay'])(0x7d0)):console[_0x1961bf(0x3d2)](_0x1961bf(0x622))):this['reconnectAttempts']<0x6&&(console[_0x1961bf(0x114)]('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x15277a=await we[_0x1961bf(0xce)](se,this[_0x1961bf(0x801)][_0x1961bf(0x15e)]),_0x15277a?(console[_0x1961bf(0x114)](_0x1961bf(0x3fc)+_0x15277a),await(0x0,w[_0x1961bf(0x379)])(0x7d0)):console[_0x1961bf(0x3d2)](_0x1961bf(0x464)))),this[_0x1961bf(0x35b)](),this[_0x1961bf(0x801)][_0x1961bf(0x6c3)]=(await this[_0x1961bf(0x77f)]['auth'][_0x1961bf(0x194)](this[_0x1961bf(0x801)][_0x1961bf(0x15e)]))[_0x1961bf(0x6c3)],this[_0x1961bf(0x801)]['authState']=await this[_0x1961bf(0x785)]();let _0x3c097b=[xi,Us,(0x0,ks[_0x1961bf(0x487)])()],_0x13a2c8={'localAddress':_0x15277a,'auth':{'creds':this['instance'][_0x1961bf(0x16f)][_0x1961bf(0x83f)]['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x1961bf(0x801)][_0x1961bf(0x16f)][_0x1961bf(0x83f)][_0x1961bf(0x239)],(0x0,Ft[_0x1961bf(0xef)])({'level':'error'}))},'logger':(0x0,Ft[_0x1961bf(0xef)])({'level':_0x1961bf(0x3d2)}),'printQRInTerminal':!0x1,'browser':_0x239af1?['Mac\x20OS',Us,(0x0,ks['release'])()]:_0x3c097b,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2571ee=>{const _0xfac66f=_0x1961bf;let _0x33bb73=this[_0xfac66f(0x492)]?.[_0xfac66f(0x769)]&&(0x0,w[_0xfac66f(0x735)])(_0x2571ee);return(0x0,w[_0xfac66f(0x21a)])(_0x2571ee)||_0x33bb73;},'msgRetryCounterCache':this[_0x1961bf(0x5cb)],'getMessage':async _0x52ad71=>await this['getMessage'](_0x52ad71),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x1961bf(0x1b3)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x39f130){const _0x5184b6=_0x1961bf;return _0x39f130[_0x5184b6(0x272)]?.[_0x5184b6(0x5ad)]?.[_0x5184b6(0x538)]?.[_0x5184b6(0x80b)]===w['proto'][_0x5184b6(0x470)][_0x5184b6(0x3fd)][_0x5184b6(0x550)]['PRODUCT_LIST']&&(_0x39f130=JSON[_0x5184b6(0x50b)](JSON[_0x5184b6(0x563)](_0x39f130)),_0x39f130[_0x5184b6(0x272)][_0x5184b6(0x5ad)][_0x5184b6(0x538)][_0x5184b6(0x80b)]=w[_0x5184b6(0x4a4)]['Message'][_0x5184b6(0x3fd)][_0x5184b6(0x550)][_0x5184b6(0x174)]),_0x39f130[_0x5184b6(0x538)]?.[_0x5184b6(0x80b)]==w[_0x5184b6(0x4a4)][_0x5184b6(0x470)][_0x5184b6(0x3fd)]['ListType'][_0x5184b6(0x649)]&&(_0x39f130=JSON['parse'](JSON[_0x5184b6(0x563)](_0x39f130)),_0x39f130[_0x5184b6(0x538)][_0x5184b6(0x80b)]=w['proto'][_0x5184b6(0x470)][_0x5184b6(0x3fd)]['ListType'][_0x5184b6(0x174)]),_0x39f130;}};return this['endSession']=!0x1,this[_0x1961bf(0x52a)]=(0x0,w[_0x1961bf(0xef)])(_0x13a2c8),this[_0x1961bf(0xf2)](),this[_0x1961bf(0x1c1)]=_0x239af1,this[_0x1961bf(0x52a)];}catch(_0xb1638e){let _0xaa55c8=_0x1961bf(0x699),_0x378f86=_0xb1638e instanceof Error?_0xb1638e['message']:typeof _0xb1638e==_0x1961bf(0xfe)?JSON[_0x1961bf(0x563)](_0xb1638e):_0xb1638e,_0x41b954=_0xaa55c8+':\x20'+_0x378f86;throw this[_0x1961bf(0x246)][_0x1961bf(0x3d2)](this['instanceName']+'\x20('+this[_0x1961bf(0x801)]['wuid']+'):\x20'+_0x41b954),console[_0x1961bf(0x3d2)](_0x1961bf(0x54e),_0xb1638e),_0xb1638e instanceof Error&&console['error'](_0x1961bf(0x1f6),_0xb1638e['stack']),new x(_0x41b954);}}[a0_0xc869c4(0xf2)](){const _0x1b7f99=a0_0xc869c4;this[_0x1b7f99(0x52a)]['ev'][_0x1b7f99(0x831)](_0x3e3fb3=>{const _0x3c830=_0x1b7f99;if(!this[_0x3c830(0x2be)]){let _0x2be89b=this[_0x3c830(0x3a6)][_0x3c830(0x1d4)](_0x3c830(0x661));if(_0x3e3fb3[_0x3c830(0x323)]){let _0x3f12f0=_0x3e3fb3[_0x3c830(0x323)];this[_0x3c830(0x1fc)][_0x3c830(0x323)](_0x3f12f0);}if(_0x3e3fb3[_0x3c830(0x23e)]){let _0x3d2a22=_0x3e3fb3[_0x3c830(0x23e)];this[_0x3c830(0x1fc)][_0x3c830(0x23e)](_0x3d2a22);}if(_0x3e3fb3[_0x3c830(0x344)]&&this[_0x3c830(0x2ad)](_0x3e3fb3['connection.update']),_0x3e3fb3[_0x3c830(0x443)]&&this[_0x3c830(0x801)]['authState'][_0x3c830(0x1d3)](),_0x3e3fb3[_0x3c830(0x4b8)]){let _0x1d2e4e=_0x3e3fb3['messaging-history.set'];this[_0x3c830(0x1fc)][_0x3c830(0x4b8)](_0x1d2e4e,_0x2be89b);}if(_0x3e3fb3['messages.upsert']){let _0x5d114b=_0x3e3fb3['messages.upsert'];this[_0x3c830(0x1fc)]['messages.upsert'](_0x5d114b,_0x2be89b);}if(_0x3e3fb3[_0x3c830(0x1a7)]){let _0x507826=_0x3e3fb3[_0x3c830(0x1a7)];this[_0x3c830(0x1fc)][_0x3c830(0x1a7)](_0x507826,_0x2be89b);}if(_0x3e3fb3[_0x3c830(0x682)]){let _0x1c3b79=_0x3e3fb3[_0x3c830(0x682)];if(this[_0x3c830(0x492)]?.[_0x3c830(0x769)]&&_0x1c3b79['id'][_0x3c830(0x49c)](_0x3c830(0x386)))return;this[_0x3c830(0x656)](_0x3c830(0x682),_0x1c3b79);}if(_0x3e3fb3[_0x3c830(0x5c3)]){let _0x1ca800=_0x3e3fb3[_0x3c830(0x5c3)];this[_0x3c830(0x7c5)][_0x3c830(0x5c3)](_0x1ca800);}if(_0x3e3fb3['groups.update']){let _0x4795b3=_0x3e3fb3[_0x3c830(0x331)];this[_0x3c830(0x7c5)][_0x3c830(0x331)](_0x4795b3);}if(_0x3e3fb3[_0x3c830(0x197)]){let _0xaa4d5d=_0x3e3fb3[_0x3c830(0x197)];this[_0x3c830(0x7c5)]['group-participants.update'](_0xaa4d5d);}if(_0x3e3fb3[_0x3c830(0x836)]){let _0x21344e=_0x3e3fb3[_0x3c830(0x836)];this[_0x3c830(0x62b)][_0x3c830(0x836)](_0x21344e,_0x2be89b);}if(_0x3e3fb3['chats.update']){let _0x5a636f=_0x3e3fb3[_0x3c830(0x869)];this[_0x3c830(0x62b)][_0x3c830(0x869)](_0x5a636f,_0x2be89b);}if(_0x3e3fb3[_0x3c830(0x20b)]){let _0x93215f=_0x3e3fb3[_0x3c830(0x20b)];this[_0x3c830(0x62b)][_0x3c830(0x20b)](_0x93215f);}if(_0x3e3fb3['contacts.upsert']){let _0x496918=_0x3e3fb3['contacts.upsert'];this['contactHandle'][_0x3c830(0x5f9)](_0x496918,_0x2be89b);}if(_0x3e3fb3[_0x3c830(0x2a3)]){let _0x1f1411=_0x3e3fb3[_0x3c830(0x2a3)];this[_0x3c830(0x1e1)]['contacts.update'](_0x1f1411,_0x2be89b);}}});}async['retrySendMessage'](_0x13e020,_0x1e0feb){const _0x345410=a0_0xc869c4;if(_0x1e0feb>=0xa){console[_0x345410(0x3d2)](this[_0x345410(0x77a)]+'\x20('+this[_0x345410(0x801)][_0x345410(0x69a)]+_0x345410(0x19b)),delete Lt[_0x13e020[_0x345410(0x7e2)]['id']];return;}try{console[_0x345410(0x3d2)](this[_0x345410(0x77a)]+'\x20('+this[_0x345410(0x801)][_0x345410(0x69a)]+'):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20'+(_0x1e0feb+0x1)),await this[_0x345410(0x52a)]['sendMessageAck'](JSON[_0x345410(0x50b)](_0x13e020[_0x345410(0x75f)][0x1],w['BufferJSON'][_0x345410(0x85f)])),console['error']('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x3de094){console['error'](this['instanceName']+'\x20('+this[_0x345410(0x801)][_0x345410(0x69a)]+_0x345410(0x435)+_0x3de094),setTimeout(()=>this['retrySendMessage'](_0x13e020,_0x1e0feb+0x1),Math[_0x345410(0x748)](0x2,_0x1e0feb)*0x3e8);}}async['fakeReceived'](_0x35c81c){const _0x420d19=a0_0xc869c4;let _0x2be466=_0x35c81c[_0x420d19(0x7e2)][_0x420d19(0x607)][_0x420d19(0x364)](_0x420d19(0x386)),_0x25b748;if(_0x35c81c[_0x420d19(0x7e2)][_0x420d19(0x2ae)])_0x25b748=this['instance'][_0x420d19(0x528)];else{let _0x4f3aca=_0x2be466?_0x35c81c[_0x420d19(0x7e2)][_0x420d19(0x584)]:_0x35c81c[_0x420d19(0x7e2)][_0x420d19(0x607)];_0x25b748=(await this[_0x420d19(0x638)](_0x4f3aca,_0x35c81c[_0x420d19(0x576)],!0x1))[_0x420d19(0x6ef)][_0x420d19(0xfd)];}_0x35c81c['messageTimestamp']&&_0x35c81c[_0x420d19(0x3e2)]['toString']()[_0x420d19(0x4c6)]<0xd&&(_0x35c81c['messageTimestamp']=_0x35c81c[_0x420d19(0x3e2)]*0x3e8);let _0x63b0d2={'_id':_0x35c81c['key']['id'],'key':_0x35c81c['key'],'isGroup':_0x2be466,'profilePictureUrl':_0x25b748,'pushName':_0x35c81c['pushName'],'message':{'text':_0x420d19(0x4bf)},'messageType':_0x420d19(0x3d2),'message_normalized':{'key':_0x35c81c[_0x420d19(0x7e2)],'pushName':_0x35c81c[_0x420d19(0x576)],'messageTimestamp':_0x35c81c['messageTimestamp'],'source':(0x0,w[_0x420d19(0x652)])(_0x35c81c[_0x420d19(0x7e2)]['id']),'text':_0x420d19(0x4bf)},'messageTimestamp':_0x35c81c['messageTimestamp'],'owner':this[_0x420d19(0x801)][_0x420d19(0x69a)],'source':(0x0,w[_0x420d19(0x652)])(_0x35c81c[_0x420d19(0x7e2)]['id'])};this['logger'][_0x420d19(0x3d2)](this[_0x420d19(0x77a)]+'\x20('+this[_0x420d19(0x801)][_0x420d19(0x69a)]+'):\x20'+(_0x63b0d2[_0x420d19(0x7e2)]?.[_0x420d19(0x2ae)]?_0x420d19(0x77d):_0x420d19(0x630))+'\x20['+_0x63b0d2[_0x420d19(0x7e2)]?.[_0x420d19(0x607)][_0x420d19(0x791)]('@s.whatsapp.net','')+_0x420d19(0x36f)+_0x63b0d2['messageType']+')'),_0x63b0d2['message_normalized']?.[_0x420d19(0x1ed)]&&this[_0x420d19(0x246)][_0x420d19(0x3d2)](_0x35c81c['key']['id']+':\x20'+_0x63b0d2[_0x420d19(0xcf)]?.[_0x420d19(0x1ed)]),await this[_0x420d19(0x77f)][_0x420d19(0x5ad)][_0x420d19(0x138)]([_0x63b0d2],this[_0x420d19(0x801)]['wuid']),await this['repository'][_0x420d19(0x5dd)]['insert']([_0x63b0d2]),this[_0x420d19(0x656)](_0x420d19(0x17e),_0x63b0d2),F(this['instanceName'],_0x420d19(0x43f),{'message':_0x63b0d2});}[a0_0xc869c4(0x4f4)](_0x4a8d4d){return new Promise(_0xa45a03=>setTimeout(_0xa45a03,_0x4a8d4d));}[a0_0xc869c4(0x3dc)](_0xcc1368){const _0x1f701f=a0_0xc869c4;_0xcc1368=_0xcc1368[_0x1f701f(0x791)](/\D/g,'');let _0x19e84e=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0xcc1368);if(_0x19e84e&&_0x19e84e[0x1]==='55'){let _0x4758a2=_0x19e84e[0x2],_0xd85c5a=_0x19e84e[0x3],_0x8bdfbe=_0x19e84e[0x4];if(parseInt(_0x4758a2)>=0x1f&&_0xd85c5a==='9')return _0x19e84e[0x1]+_0x4758a2+_0x8bdfbe;}return _0xcc1368;}[a0_0xc869c4(0x697)](_0x10d9a6){const _0x129a64=a0_0xc869c4;return _0x10d9a6[_0x129a64(0x49c)](_0x129a64(0x386))||_0x10d9a6[_0x129a64(0x49c)]('@s.whatsapp.net')||_0x10d9a6[_0x129a64(0x49c)](_0x129a64(0x7b8))?_0x10d9a6:(_0x10d9a6=_0x10d9a6?.[_0x129a64(0x791)](/\s/g,'')['replace'](/\+/g,'')[_0x129a64(0x791)](/\(/g,'')[_0x129a64(0x791)](/\)/g,'')[_0x129a64(0x63b)](/\:/)[0x0][_0x129a64(0x63b)]('@')[0x0],_0x10d9a6[_0x129a64(0x4c6)]>=0x12?(_0x10d9a6=_0x10d9a6[_0x129a64(0x791)](/[^\d-]/g,''),_0x10d9a6+'@g.us'):(_0x10d9a6=_0x10d9a6[_0x129a64(0x791)](/\D/g,''),_0x10d9a6+_0x129a64(0x457)));}async[a0_0xc869c4(0x220)](_0x258f01){const _0xc8f30b=a0_0xc869c4;let _0x24d791=(await this[_0xc8f30b(0x23f)]({'numbers':[_0x258f01[_0xc8f30b(0x1ce)]]}))[0x0];if(!_0x24d791[_0xc8f30b(0x177)]&&!(0x0,w['isJidGroup'])(_0x24d791[_0xc8f30b(0x724)])&&!_0x24d791[_0xc8f30b(0x724)][_0xc8f30b(0x49c)](_0xc8f30b(0x7b8)))throw new m(_0x24d791);let _0x4c693b=_0x24d791['jid'];try{return await this[_0xc8f30b(0x52a)]['presenceSubscribe'](_0x4c693b),await this['client']['sendPresenceUpdate'](_0x258f01[_0xc8f30b(0x335)],_0x4c693b),{'status':0xc8,'presence':_0x258f01[_0xc8f30b(0x335)]};}catch(_0x49b2f2){let _0x1b7b9d='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x4deb0b=_0x49b2f2 instanceof Error?_0x49b2f2[_0xc8f30b(0x5ad)]:typeof _0x49b2f2==_0xc8f30b(0xfe)?JSON[_0xc8f30b(0x563)](_0x49b2f2):_0x49b2f2,_0x53cb24=_0x1b7b9d+':\x20'+_0x4deb0b;throw this[_0xc8f30b(0x246)][_0xc8f30b(0x3d2)](this['instanceName']+'\x20('+this[_0xc8f30b(0x801)][_0xc8f30b(0x69a)]+'):\x20'+_0x53cb24),new m(_0x53cb24);}}async['findAndUpdateCacheContact'](_0x1f101,_0x94acf3,_0x25cc70,_0x4bf73e=!0x0){const _0x5bb861=a0_0xc869c4;let _0x8d3dbe=await this[_0x5bb861(0x77f)]['cacheContact']['findOne']({'where':{'_id':_0x1f101}});if(!_0x8d3dbe&&!_0x4bf73e)return;let _0x215d43={'lastUpdate':Date['now']()};if(_0x25cc70||!_0x8d3dbe?.['lastUpdate']||Date[_0x5bb861(0x574)]()-_0x8d3dbe[_0x5bb861(0x462)]>0x18*0x3c*0x3c*0x3e8)try{let _0x33c289=(await this[_0x5bb861(0x4e1)](_0x1f101))['profilePictureUrl'];_0x215d43[_0x5bb861(0xfd)]=_0x33c289;}catch(_0x510930){let _0xd901ba=_0x5bb861(0x4f0),_0x290f73=_0x510930 instanceof Error?_0x510930['message']:typeof _0x510930==_0x5bb861(0xfe)?JSON[_0x5bb861(0x563)](_0x510930):_0x510930,_0x49c1bf=_0xd901ba+':\x20'+_0x290f73;throw this[_0x5bb861(0x246)][_0x5bb861(0x3d2)](this[_0x5bb861(0x77a)]+'\x20('+this[_0x5bb861(0x801)][_0x5bb861(0x69a)]+_0x5bb861(0x6fe)+_0x49c1bf),new m(_0x49c1bf);}return _0x94acf3&&_0x8d3dbe?.[_0x5bb861(0x15e)]!==_0x94acf3&&(_0x215d43[_0x5bb861(0x15e)]=_0x94acf3),Object[_0x5bb861(0x239)](_0x215d43)['length']>0x1&&(_0x8d3dbe?await this[_0x5bb861(0x77f)][_0x5bb861(0x5b6)][_0x5bb861(0x6cc)]({'where':{'_id':_0x1f101}},_0x215d43):await this[_0x5bb861(0x77f)]['cacheContact'][_0x5bb861(0x138)]([{'_id':_0x1f101,..._0x215d43}]),_0x8d3dbe={..._0x8d3dbe,..._0x215d43}),{'cachedContact':_0x8d3dbe};}async['profilePicture'](_0x186d96){const _0x1f095c=a0_0xc869c4;let _0x32be6b=this[_0x1f095c(0x697)](_0x186d96);try{return{'wuid':_0x32be6b,'profilePictureUrl':await this[_0x1f095c(0x52a)][_0x1f095c(0x528)](_0x32be6b,_0x1f095c(0x37e))};}catch{return{'wuid':_0x32be6b,'profilePictureUrl':null};}}async['sendMessageWithRetry'](_0x555105,_0x2dabed,_0x403f42){const _0x4d3c96=a0_0xc869c4;let _0x296c8e=0x0;for(;_0x296c8e<0x5;)try{return await this['sendMessageWithTyping'](_0x555105,_0x2dabed,_0x403f42);}catch(_0x4b16a5){if(_0x296c8e++,_0x4b16a5 instanceof Error&&_0x4b16a5[_0x4d3c96(0x5ad)]==='Connection\x20Closed'){if(_0x296c8e>=0x5)throw new m(_0x4d3c96(0x30a)+_0x4b16a5[_0x4d3c96(0x5ad)]);this[_0x4d3c96(0x246)]['warn'](_0x4d3c96(0x76a)+_0x296c8e+_0x4d3c96(0x4f9)+_0x4b16a5[_0x4d3c96(0x5ad)]+_0x4d3c96(0x30e)+0x1388/0x3e8+_0x4d3c96(0x3d3)),await new Promise(_0x288edf=>setTimeout(_0x288edf,0x1388));}else throw new m(_0x4b16a5[_0x4d3c96(0x5ad)]);}}async[a0_0xc869c4(0x2f8)](_0x39bddf,_0xa7a7bb,_0xa8d106){const _0x219d2a=a0_0xc869c4;let _0x11d3be;try{let _0xea1e77=(await this[_0x219d2a(0x23f)]({'numbers':[_0x39bddf]}))?.['shift']();if(!_0xea1e77[_0x219d2a(0x177)]&&!(0x0,w[_0x219d2a(0x735)])(_0xea1e77[_0x219d2a(0x724)])&&!_0xea1e77[_0x219d2a(0x724)][_0x219d2a(0x49c)]('@broadcast'))throw new m(_0xea1e77);_0x11d3be=_0xea1e77[_0x219d2a(0x724)];}catch(_0xb81bf3){_0x11d3be=_0x39bddf,this[_0x219d2a(0x246)][_0x219d2a(0x1ae)](this[_0x219d2a(0x77a)]+'\x20('+this['instance'][_0x219d2a(0x69a)]+_0x219d2a(0x37f)+_0xb81bf3[_0x219d2a(0x5ad)]),this[_0x219d2a(0x246)][_0x219d2a(0x1ae)](this[_0x219d2a(0x77a)]+'\x20('+this[_0x219d2a(0x801)][_0x219d2a(0x69a)]+_0x219d2a(0x2c4)+_0x11d3be);}try{if(_0x11d3be||(_0x11d3be=_0x39bddf,this['logger']['warn'](this[_0x219d2a(0x77a)]+'\x20('+this[_0x219d2a(0x801)][_0x219d2a(0x69a)]+_0x219d2a(0x862)+_0x11d3be)),_0xa8d106||(_0xa8d106={}),_0xa8d106?.['delay']){await this['client']['presenceSubscribe'](_0x11d3be),await this[_0x219d2a(0x52a)]['sendPresenceUpdate'](_0xa8d106?.['presence']??_0x219d2a(0x372),_0x11d3be);let _0x10cc6d=Math['min'](_0xa8d106[_0x219d2a(0x379)],0x2710);await(0x0,w[_0x219d2a(0x379)])(_0x10cc6d),await this[_0x219d2a(0x52a)][_0x219d2a(0x303)](_0x219d2a(0xcb),_0x11d3be);}let _0x41d189=_0xa8d106?.[_0x219d2a(0x1c8)]!=!0x1?void 0x0:!0x1,_0x3777fd;if(_0xa8d106?.[_0x219d2a(0x803)]){let _0xa9e569=_0xa8d106?.[_0x219d2a(0x803)],_0x4a84c7=_0xa9e569?.[_0x219d2a(0x5ad)]?_0xa9e569:await this[_0x219d2a(0x2ac)](_0xa9e569[_0x219d2a(0x7e2)],!0x0);_0x4a84c7&&(_0x3777fd=_0x4a84c7);}let _0x43f84f=await this['repository']['chat'][_0x219d2a(0x4d6)]({'where':{'_id':_0x11d3be}},this[_0x219d2a(0x801)][_0x219d2a(0x69a)]),_0x1640fe,_0xabb674=null;if((0x0,w[_0x219d2a(0x735)])(_0x11d3be))try{if(_0xabb674=_0x43f84f[_0x219d2a(0x18b)],!_0xabb674)throw new U('Grupo\x20não\x20encontrado');if(!_0xabb674['canSendMessage'])throw new m(_0x219d2a(0x316));_0xa8d106?.[_0x219d2a(0x3f8)]&&(_0xa8d106['mentions']?.[_0x219d2a(0x2ea)]?_0x1640fe=_0xabb674['participants'][_0x219d2a(0x474)](_0x3e5a6b=>_0x3e5a6b['id']):_0xa8d106[_0x219d2a(0x3f8)]?.[_0x219d2a(0x7aa)]?.[_0x219d2a(0x4c6)]&&(_0x1640fe=_0xa8d106[_0x219d2a(0x3f8)][_0x219d2a(0x7aa)][_0x219d2a(0x474)](_0x3b8017=>{const _0xa7f66c=_0x219d2a;let _0x2d97e4=this['createJid'](_0x3b8017);return(0x0,w[_0xa7f66c(0x735)])(_0x2d97e4)?null:_0x2d97e4;})));}catch(_0x3af779){throw _0x3af779 instanceof U?new U(_0x219d2a(0x182)):_0x3af779 instanceof m?new m(_0x219d2a(0x316)):new Error(_0x219d2a(0x26c));}let _0x26091f=await((async()=>{const _0x40ad5a=_0x219d2a;let _0x141877={'quoted':_0x3777fd,'ephemeralExpiration':_0x43f84f?.['ephemeralExpiration']??0x0};if(!_0xa7a7bb[_0x40ad5a(0x603)]&&!_0xa7a7bb[_0x40ad5a(0xf8)]&&!_0xa7a7bb[_0x40ad5a(0xd7)]&&!_0xa7a7bb[_0x40ad5a(0x592)]&&_0x11d3be!==_0x40ad5a(0x55f)&&_0xa7a7bb[_0x40ad5a(0x282)])return await this['client']['sendMessage'](_0x11d3be,{'react':{'text':_0xa7a7bb['reactionMessage'][_0x40ad5a(0x1ed)],'key':_0xa7a7bb[_0x40ad5a(0x282)]['key']}},_0x141877);if(_0xa7a7bb[_0x40ad5a(0x592)]){let _0x4c9bf9=_0xa7a7bb[_0x40ad5a(0x592)];return _0xa8d106?.[_0x40ad5a(0x1e0)]&&(_0x4c9bf9=await this[_0x40ad5a(0x352)](_0x4c9bf9,_0x11d3be)),await this['client'][_0x40ad5a(0x714)](_0x11d3be,{'text':_0x4c9bf9,'mentions':_0x1640fe,'linkPreview':_0x41d189},_0x141877);}return!_0xa7a7bb['audio']&&!_0xa7a7bb[_0x40ad5a(0xf8)]&&_0x11d3be!=_0x40ad5a(0x55f)?await this[_0x40ad5a(0x52a)]['sendMessage'](_0x11d3be,{'forward':{'key':{'remoteJid':this[_0x40ad5a(0x801)][_0x40ad5a(0x69a)],'fromMe':!0x0},'message':_0xa7a7bb},'mentions':_0x1640fe},_0x141877):_0x11d3be===_0x40ad5a(0x55f)?await this[_0x40ad5a(0x52a)][_0x40ad5a(0x714)](_0x11d3be,_0xa7a7bb[_0x40ad5a(0x202)][_0x40ad5a(0x7fb)],{'backgroundColor':_0xa7a7bb[_0x40ad5a(0x202)]['option'][_0x40ad5a(0x77c)],'font':_0xa7a7bb['status']['option']['font'],'statusJidList':_0xa7a7bb[_0x40ad5a(0x202)][_0x40ad5a(0x6d0)]['statusJidList']}):await this[_0x40ad5a(0x52a)][_0x40ad5a(0x714)](_0x11d3be,_0xa7a7bb,_0x141877);})()),_0x5f54d6=(0x0,w[_0x219d2a(0x609)])(_0x26091f[_0x219d2a(0x5ad)]),_0x38fcf3=(0x0,w[_0x219d2a(0x1bc)])(_0x5f54d6),{message_normalized:_0x196092}=this[_0x219d2a(0x529)](_0x5f54d6,_0x38fcf3,null),_0x1ad5e0={'_id':_0x26091f[_0x219d2a(0x7e2)]['id'],'key':_0x26091f[_0x219d2a(0x7e2)],'pushName':_0x26091f['pushName'],'isGroup':_0x26091f[_0x219d2a(0x7e2)][_0x219d2a(0x607)][_0x219d2a(0x364)]('@g.us'),'profilePictureUrl':this['instance'][_0x219d2a(0x528)],'message':_0x5f54d6,'messageType':_0x38fcf3,'message_normalized':{'key':_0x26091f['key'],'pushName':_0x26091f['pushName'],'messageTimestamp':_0x26091f[_0x219d2a(0x3e2)]&&_0x26091f[_0x219d2a(0x3e2)][_0x219d2a(0x806)]()['length']<0xd?_0x26091f[_0x219d2a(0x3e2)]*0x3e8:_0x26091f[_0x219d2a(0x3e2)]||null,'source':(0x0,w[_0x219d2a(0x652)])(_0x26091f[_0x219d2a(0x7e2)]['id']),..._0x196092},'messageTimestamp':_0x26091f['messageTimestamp']&&_0x26091f[_0x219d2a(0x3e2)]['toString']()['length']<0xd?_0x26091f['messageTimestamp']*0x3e8:_0x26091f[_0x219d2a(0x3e2)]||null,'owner':this[_0x219d2a(0x801)]['wuid'],'source':(0x0,w['getDevice'])(_0x26091f['key']['id'])};return this[_0x219d2a(0x246)][_0x219d2a(0x1ae)](this['instanceName']+'\x20('+this['instance'][_0x219d2a(0x69a)]+'):\x20enviado\x20para\x20['+_0x1ad5e0[_0x219d2a(0x7e2)]?.[_0x219d2a(0x607)][_0x219d2a(0x791)](_0x219d2a(0x457),'')+_0x219d2a(0x36f)+_0x1ad5e0['messageType']+')'),_0x1ad5e0[_0x219d2a(0xcf)]?.[_0x219d2a(0x1ed)]&&this[_0x219d2a(0x246)][_0x219d2a(0x1ae)](_0x1ad5e0[_0x219d2a(0xcf)]?.['text']),this[_0x219d2a(0x656)](_0x219d2a(0x5ee),_0x1ad5e0),F(this[_0x219d2a(0x77a)],_0x219d2a(0x43f),{'message':_0x1ad5e0}),this[_0x219d2a(0x3c5)](this['configService'][_0x219d2a(0x1d4)](_0x219d2a(0x661)),_0x1ad5e0,'SEND_MESSAGE',_0x43f84f),await this[_0x219d2a(0x77f)]['message'][_0x219d2a(0x138)]([_0x1ad5e0],this[_0x219d2a(0x801)]['wuid']),_0x26091f;}catch(_0x1b2394){let _0x118930='Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20'+_0x11d3be,_0x4d5167=_0x1b2394 instanceof Error?_0x1b2394['message']:typeof _0x1b2394=='object'?JSON['stringify'](_0x1b2394):_0x1b2394,_0x4fd3f0=_0x118930+':\x20'+_0x4d5167;throw this[_0x219d2a(0x246)]['error'](this[_0x219d2a(0x77a)]+'\x20('+this[_0x219d2a(0x801)][_0x219d2a(0x69a)]+_0x219d2a(0x6fe)+_0x4fd3f0),new m(_0x4fd3f0);}}async['sendMessageWithTypingButtons'](_0x1ce855,_0x3c4b1a,_0x5781a4){const _0x18def6=a0_0xc869c4;let _0x5f5b36=this[_0x18def6(0x697)](_0x1ce855),_0x7c665=(await this[_0x18def6(0x23f)]({'numbers':[_0x5f5b36]}))[0x0];if(!_0x7c665['exists']&&!(0x0,w[_0x18def6(0x735)])(_0x7c665['jid']))throw new m(_0x7c665);let _0x2217a0=(0x0,w[_0x18def6(0x735)])(_0x5f5b36)?_0x5f5b36:_0x7c665[_0x18def6(0x724)];if((0x0,w['isJidGroup'])(_0x2217a0))try{await this[_0x18def6(0x52a)][_0x18def6(0x3dd)](_0x2217a0);}catch{throw new m(_0x18def6(0x81e));}try{_0x5781a4?.[_0x18def6(0x379)]&&(await this[_0x18def6(0x52a)][_0x18def6(0x672)](_0x2217a0),await this[_0x18def6(0x52a)]['sendPresenceUpdate'](_0x5781a4?.[_0x18def6(0x335)]??_0x18def6(0x372),_0x5f5b36),await(0x0,w[_0x18def6(0x379)])(_0x5781a4[_0x18def6(0x379)]),await this[_0x18def6(0x52a)]['sendPresenceUpdate']('paused',_0x2217a0));let _0x3911f2=await((async()=>{const _0x215bca=_0x18def6;let _0x318f03,_0x3dd56c=_0x215bca(0x3ba)+(0x0,re[_0x215bca(0x54a)])(0x12)[_0x215bca(0x806)](_0x215bca(0x33d))[_0x215bca(0x15b)](),_0x12a0d5=(0x0,w[_0x215bca(0x82a)])(_0x2217a0,_0x3c4b1a,{'timestamp':new Date(),'userJid':this[_0x215bca(0x801)][_0x215bca(0x69a)],'messageId':_0x3dd56c,'quoted':_0x318f03}),_0x40d039=await this[_0x215bca(0x52a)][_0x215bca(0x218)](_0x2217a0,_0x12a0d5['message'],{'messageId':_0x3dd56c});_0x12a0d5[_0x215bca(0x7e2)]={'id':_0x40d039,'remoteJid':_0x5f5b36,'participant':(0x0,w[_0x215bca(0x868)])(_0x5f5b36)?void 0x0:_0x5f5b36,'fromMe':!0x0};for(let [_0x57b0d2,_0x54b966]of Object[_0x215bca(0x85d)](_0x12a0d5))(!_0x54b966||Array[_0x215bca(0x585)](_0x54b966)&&_0x54b966[_0x215bca(0x4c6)]===0x0)&&delete _0x12a0d5[_0x57b0d2];return this[_0x215bca(0x52a)]['ev'][_0x215bca(0x358)]('messages.upsert',{'messages':[_0x12a0d5],'type':_0x215bca(0x76e)}),_0x12a0d5;})()),_0x5e7397=await this[_0x18def6(0x77f)][_0x18def6(0x6f8)][_0x18def6(0x4d6)]({'where':{'_id':_0x2217a0}},this[_0x18def6(0x801)][_0x18def6(0x69a)]),_0xd1922b=(0x0,w[_0x18def6(0x609)])(_0x3911f2['message']),_0xf9eaef=(0x0,w['getContentType'])(_0xd1922b),{message_normalized:_0x2cbbd5}=this[_0x18def6(0x529)](_0xd1922b,_0xf9eaef,null),_0x1e6908={'_id':_0x3911f2[_0x18def6(0x7e2)]['id'],'key':_0x3911f2[_0x18def6(0x7e2)],'pushName':_0x3911f2[_0x18def6(0x576)],'isGroup':_0x3911f2[_0x18def6(0x7e2)][_0x18def6(0x607)][_0x18def6(0x364)](_0x18def6(0x386)),'profilePictureUrl':this[_0x18def6(0x801)][_0x18def6(0x528)],'message':_0xd1922b,'messageType':_0xf9eaef,'message_normalized':{'key':_0x3911f2[_0x18def6(0x7e2)],'pushName':_0x3911f2['pushName'],'messageTimestamp':_0x3911f2[_0x18def6(0x3e2)]&&_0x3911f2['messageTimestamp'][_0x18def6(0x806)]()[_0x18def6(0x4c6)]<0xd?_0x3911f2[_0x18def6(0x3e2)]*0x3e8:_0x3911f2[_0x18def6(0x3e2)]||null,'source':(0x0,w[_0x18def6(0x652)])(_0x3911f2[_0x18def6(0x7e2)]['id']),..._0x2cbbd5},'messageTimestamp':_0x3911f2[_0x18def6(0x3e2)]&&_0x3911f2[_0x18def6(0x3e2)][_0x18def6(0x806)]()['length']<0xd?_0x3911f2['messageTimestamp']*0x3e8:_0x3911f2['messageTimestamp']||null,'owner':this['instance'][_0x18def6(0x69a)],'source':(0x0,w[_0x18def6(0x652)])(_0x3911f2[_0x18def6(0x7e2)]['id'])};return this[_0x18def6(0x246)][_0x18def6(0x1ae)](this[_0x18def6(0x77a)]+'\x20('+this[_0x18def6(0x801)]['wuid']+'):\x20enviado\x20para\x20['+_0x1e6908[_0x18def6(0x7e2)]?.[_0x18def6(0x607)]['replace'](_0x18def6(0x457),'')+_0x18def6(0x36f)+_0x1e6908['messageType']+')'),_0x1e6908[_0x18def6(0xcf)]?.['text']&&this[_0x18def6(0x246)][_0x18def6(0x1ae)](_0x1e6908[_0x18def6(0xcf)]?.[_0x18def6(0x1ed)]),this[_0x18def6(0x656)](_0x18def6(0x5ee),_0x1e6908),F(this['instanceName'],'messages',{'message':_0x1e6908}),this[_0x18def6(0x3c5)](this[_0x18def6(0x3a6)][_0x18def6(0x1d4)]('DATABASE'),_0x1e6908,_0x18def6(0xf9),_0x5e7397),await this['repository'][_0x18def6(0x5ad)][_0x18def6(0x138)]([_0x1e6908],this[_0x18def6(0x801)][_0x18def6(0x69a)]),_0x3911f2;}catch(_0x48f1dd){throw this[_0x18def6(0x246)]['error'](_0x48f1dd),new m(_0x48f1dd['toString']());}}get[a0_0xc869c4(0x4ed)](){const _0x5e6fa7=a0_0xc869c4;return this[_0x5e6fa7(0xd6)];}async[a0_0xc869c4(0x250)](_0x3e1b9d){const _0x48197c=a0_0xc869c4;return await this[_0x48197c(0x452)](_0x3e1b9d[_0x48197c(0x1ce)],{'conversation':_0x3e1b9d[_0x48197c(0x250)][_0x48197c(0x1ed)]},_0x3e1b9d?.[_0x48197c(0x5ab)]);}async[a0_0xc869c4(0x573)](_0x19aa43){const _0x35160a=a0_0xc869c4;if(!_0x19aa43['type'])throw new m(_0x35160a(0x6ff));if(!_0x19aa43[_0x35160a(0x7fb)])throw new m(_0x35160a(0x27b));if(_0x19aa43[_0x35160a(0x2e1)]){let _0x90dfb6=await this[_0x35160a(0x77f)][_0x35160a(0x1ac)]['find']({'where':{}},this['instance'][_0x35160a(0x69a)]);if(!_0x90dfb6[_0x35160a(0x4c6)])throw new m(_0x35160a(0x186));_0x19aa43[_0x35160a(0x511)]=_0x90dfb6[_0x35160a(0x314)](_0xc60054=>_0xc60054[_0x35160a(0x576)])[_0x35160a(0x474)](_0x49a7c5=>_0x49a7c5['_id']);}if(!_0x19aa43[_0x35160a(0x511)]?.[_0x35160a(0x4c6)]&&!_0x19aa43['allContacts'])throw new m(_0x35160a(0x7f7));if(_0x19aa43[_0x35160a(0x155)]===_0x35160a(0x1ed)){if(!_0x19aa43[_0x35160a(0x77c)])throw new m(_0x35160a(0x247));if(!_0x19aa43[_0x35160a(0x157)])throw new m(_0x35160a(0x191));return{'content':{'text':_0x19aa43[_0x35160a(0x7fb)]},'option':{'backgroundColor':_0x19aa43[_0x35160a(0x77c)],'font':_0x19aa43[_0x35160a(0x157)],'statusJidList':_0x19aa43[_0x35160a(0x511)]}};}if(_0x19aa43['type']===_0x35160a(0x37e))return{'content':{'image':{'url':_0x19aa43[_0x35160a(0x7fb)]},'caption':_0x19aa43[_0x35160a(0x7b5)]},'option':{'statusJidList':_0x19aa43['statusJidList']}};if(_0x19aa43[_0x35160a(0x155)]==='video')return{'content':{'video':{'url':_0x19aa43['content']},'caption':_0x19aa43['caption']},'option':{'statusJidList':_0x19aa43[_0x35160a(0x511)]}};if(_0x19aa43[_0x35160a(0x155)]===_0x35160a(0x603)){this[_0x35160a(0x246)][_0x35160a(0x5a1)](this[_0x35160a(0x77a)]+'\x20('+this[_0x35160a(0x801)][_0x35160a(0x69a)]+_0x35160a(0x233)),this['logger'][_0x35160a(0x5a1)](this['instanceName']+'\x20('+this[_0x35160a(0x801)]['wuid']+'):Processing\x20audio');let _0x5d9438=await this[_0x35160a(0x34f)](_0x19aa43['content']);if(typeof _0x5d9438==_0x35160a(0x2d7)){this[_0x35160a(0x246)][_0x35160a(0x5a1)](this[_0x35160a(0x77a)]+'\x20('+this['instance']['wuid']+_0x35160a(0x290));let _0x3d02a3=k[_0x35160a(0x275)](_0x5d9438)['toString']('base64');return{'content':{'audio':Buffer[_0x35160a(0x1be)](_0x3d02a3,_0x35160a(0x7c0)),'ptt':!0x0,'mimetype':_0x35160a(0x5b8)},'option':{'statusJidList':_0x19aa43[_0x35160a(0x511)]}};}else throw new x(_0x5d9438);}throw new m(_0x35160a(0x63a));}async[a0_0xc869c4(0x24c)](_0x30a1b7){const _0x5701b8=a0_0xc869c4;return await this['sendMessageWithRetry'](_0x5701b8(0x55f),{'status':await this[_0x5701b8(0x573)](_0x30a1b7[_0x5701b8(0x24c)])});}async[a0_0xc869c4(0x5a6)](_0x4b6a06){const _0x2befe3=a0_0xc869c4;try{let _0x4fcc22=await(0x0,w[_0x2befe3(0x1fb)])({[_0x4b6a06[_0x2befe3(0x4ae)]]:(0x0,J[_0x2befe3(0x3a8)])(_0x4b6a06[_0x2befe3(0x3f2)])?{'url':_0x4b6a06[_0x2befe3(0x3f2)]}:Buffer[_0x2befe3(0x1be)](_0x4b6a06['media'],_0x2befe3(0x7c0))},{'upload':this[_0x2befe3(0x52a)][_0x2befe3(0x5d9)]}),_0x4dfc24=_0x4b6a06[_0x2befe3(0x4ae)]+_0x2befe3(0x470);if(_0x4b6a06[_0x2befe3(0x4ae)]===_0x2befe3(0x2c0)&&!_0x4b6a06[_0x2befe3(0x2f2)]){let _0x1e7e41=new RegExp(/.*\/(.+?)\./)[_0x2befe3(0x866)](_0x4b6a06[_0x2befe3(0x3f2)]);_0x4b6a06[_0x2befe3(0x2f2)]=_0x1e7e41?_0x1e7e41[0x1]:null;}let _0x2fd7c1;return(0x0,J[_0x2befe3(0x3a8)])(_0x4b6a06[_0x2befe3(0x3f2)])?_0x2fd7c1=(await K[_0x2befe3(0xef)][_0x2befe3(0x1d4)](_0x4b6a06[_0x2befe3(0x3f2)],{'responseType':_0x2befe3(0x43c)}))['headers']['content-type']:_0x2fd7c1=(0x0,Oi[_0x2befe3(0x6ba)])(_0x4b6a06[_0x2befe3(0x2f2)]),_0x4fcc22[_0x4dfc24][_0x2befe3(0x7b5)]=_0x4b6a06?.[_0x2befe3(0x7b5)],_0x4fcc22[_0x4dfc24][_0x2befe3(0x32e)]=_0x2fd7c1,_0x4fcc22[_0x4dfc24][_0x2befe3(0x2f2)]=_0x4b6a06['fileName'],_0x4b6a06[_0x2befe3(0x4ae)]===_0x2befe3(0xe9)&&(_0x4fcc22[_0x4dfc24][_0x2befe3(0x4f8)]=Uint8Array[_0x2befe3(0x1be)]((0x0,Fe[_0x2befe3(0x275)])((0x0,j[_0x2befe3(0x29a)])(process[_0x2befe3(0x271)](),_0x2befe3(0x260)))),_0x4fcc22[_0x4dfc24][_0x2befe3(0xd9)]=!0x1),(0x0,w[_0x2befe3(0x82a)])('',{[_0x4dfc24]:{..._0x4fcc22[_0x4dfc24]}},{'userJid':this[_0x2befe3(0x801)][_0x2befe3(0x69a)]});}catch(_0x979601){let _0x1abdde=_0x2befe3(0x2cd),_0x1df620=_0x979601 instanceof Error?_0x979601['message']:typeof _0x979601==_0x2befe3(0xfe)?JSON['stringify'](_0x979601):_0x979601,_0x4fa7f0=_0x1abdde+':\x20'+_0x1df620;throw this[_0x2befe3(0x246)][_0x2befe3(0x3d2)](this['instanceName']+'\x20('+this[_0x2befe3(0x801)][_0x2befe3(0x69a)]+_0x2befe3(0x6fe)+_0x4fa7f0),new x(_0x4fa7f0);}}async[a0_0xc869c4(0x665)](_0x3a8a97){const _0x252b29=a0_0xc869c4;let _0x24980e=0x0;for(;_0x24980e<0x5;)try{let _0x530ab3=await this[_0x252b29(0x5a6)](_0x3a8a97[_0x252b29(0x665)]);return await this['sendMessageWithRetry'](_0x3a8a97[_0x252b29(0x1ce)],{..._0x530ab3[_0x252b29(0x5ad)]},_0x3a8a97?.[_0x252b29(0x5ab)]);}catch(_0x3a33a2){if(_0x24980e++,_0x3a33a2 instanceof Error&&_0x3a33a2['message']===_0x252b29(0x25d)){if(_0x24980e>=0x5)throw new m(_0x252b29(0x2d6)+_0x3a33a2[_0x252b29(0x5ad)]);this[_0x252b29(0x246)][_0x252b29(0x1ae)](_0x252b29(0x76a)+_0x24980e+'/5\x20de\x20preparar\x20mídia\x20falhou:\x20'+_0x3a33a2[_0x252b29(0x5ad)]+_0x252b29(0x30e)+0x1388/0x3e8+_0x252b29(0x3d3)),await new Promise(_0x27a5c4=>setTimeout(_0x27a5c4,0x1388));}else throw new m(_0x3a33a2[_0x252b29(0x5ad)]);}}async[a0_0xc869c4(0x636)](_0x392558,_0x342500){const _0x469bff=a0_0xc869c4;try{this[_0x469bff(0x246)]['verbose'](this['instanceName']+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0xc5));let _0x53f6d9,_0x5f1b10=_0x342500+'-'+new Date()[_0x469bff(0x1f9)]();this[_0x469bff(0x246)][_0x469bff(0x5a1)](this['instanceName']+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0x3ae)+_0x5f1b10);let _0x381bec=''+(0x0,j[_0x469bff(0x29a)])(this[_0x469bff(0x3f9)],_0x5f1b10+_0x469bff(0x54f));if(this[_0x469bff(0x246)][_0x469bff(0x5a1)](this['instanceName']+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0xd8)+_0x381bec),(0x0,J[_0x469bff(0x731)])(_0x392558)){this[_0x469bff(0x246)][_0x469bff(0x5a1)](this[_0x469bff(0x77a)]+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0x843));let _0x15810a=_0x392558[_0x469bff(0x791)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x29af79=Buffer[_0x469bff(0x1be)](_0x15810a,_0x469bff(0x7c0));_0x53f6d9=''+(0x0,j['join'])(this['storePath'],_0x469bff(0x5f5)+_0x5f1b10+_0x469bff(0x520)),this[_0x469bff(0x246)][_0x469bff(0x5a1)](this[_0x469bff(0x77a)]+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0x4eb)+_0x53f6d9),await(0x0,Ut['default'])(_0x29af79)[_0x469bff(0x56c)](_0x53f6d9),this['logger'][_0x469bff(0x5a1)](this['instanceName']+'\x20('+this[_0x469bff(0x801)]['wuid']+_0x469bff(0x6df));}else{this['logger']['verbose'](this[_0x469bff(0x77a)]+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0x2d0));let _0x5d7fd6=new Date()[_0x469bff(0x1f9)](),_0x490253=_0x392558+_0x469bff(0xd3)+_0x5d7fd6;this[_0x469bff(0x246)][_0x469bff(0x5a1)](this[_0x469bff(0x77a)]+'\x20('+this['instance'][_0x469bff(0x69a)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x490253);let _0x1affcb=await K[_0x469bff(0xef)][_0x469bff(0x1d4)](_0x490253,{'responseType':_0x469bff(0x43c)});this[_0x469bff(0x246)][_0x469bff(0x5a1)](this[_0x469bff(0x77a)]+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0x79f));let _0x4f998d=Buffer[_0x469bff(0x1be)](_0x1affcb[_0x469bff(0x3df)],_0x469bff(0x50c));_0x53f6d9=''+(0x0,j[_0x469bff(0x29a)])(this[_0x469bff(0x3f9)],'temp-'+_0x5f1b10+'.png'),this[_0x469bff(0x246)][_0x469bff(0x5a1)](this[_0x469bff(0x77a)]+'\x20('+this['instance'][_0x469bff(0x69a)]+_0x469bff(0x4eb)+_0x53f6d9),await(0x0,Ut[_0x469bff(0xef)])(_0x4f998d)['toFile'](_0x53f6d9),this['logger']['verbose'](this[_0x469bff(0x77a)]+'\x20('+this['instance']['wuid']+_0x469bff(0x6df));}return await(0x0,Ut['default'])(_0x53f6d9)[_0x469bff(0x71b)]()[_0x469bff(0x56c)](_0x381bec),this[_0x469bff(0x246)][_0x469bff(0x5a1)](this[_0x469bff(0x77a)]+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0x2f3)),k[_0x469bff(0x615)](_0x53f6d9),this['logger'][_0x469bff(0x5a1)](this[_0x469bff(0x77a)]+'\x20('+this[_0x469bff(0x801)]['wuid']+_0x469bff(0x1ef)),_0x381bec;}catch(_0x2b07e7){let _0x4b7990=_0x469bff(0x594),_0x4b5fe4=_0x2b07e7 instanceof Error?_0x2b07e7[_0x469bff(0x5ad)]:typeof _0x2b07e7==_0x469bff(0xfe)?JSON[_0x469bff(0x563)](_0x2b07e7):_0x2b07e7,_0x261941=_0x4b7990+':\x20'+_0x4b5fe4;this[_0x469bff(0x246)][_0x469bff(0x3d2)](this[_0x469bff(0x77a)]+'\x20('+this[_0x469bff(0x801)][_0x469bff(0x69a)]+_0x469bff(0x6fe)+_0x261941);}}async[a0_0xc869c4(0x235)](_0x28797f){const _0x4b4b46=a0_0xc869c4;let _0x9f6016=await this[_0x4b4b46(0x636)](_0x28797f['stickerMessage'][_0x4b4b46(0x37e)],_0x28797f[_0x4b4b46(0x1ce)]),_0x4ce95a=await this[_0x4b4b46(0x452)](_0x28797f[_0x4b4b46(0x1ce)],{'sticker':{'url':_0x9f6016}},_0x28797f?.[_0x4b4b46(0x5ab)]);return k[_0x4b4b46(0x615)](_0x9f6016),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4b4b46(0x69a)]+'):Converted\x20image\x20deleted'),_0x4ce95a;}async['audioWhatsapp'](_0x26a888){const _0x369a59=a0_0xc869c4;if(this[_0x369a59(0x246)][_0x369a59(0x5a1)](this[_0x369a59(0x77a)]+'\x20('+this[_0x369a59(0x801)]['wuid']+_0x369a59(0x6a3)),!_0x26a888[_0x369a59(0x5ab)]?.['encoding']&&_0x26a888[_0x369a59(0x5ab)]?.[_0x369a59(0x3c2)]!==!0x1&&(_0x26a888[_0x369a59(0x5ab)]['encoding']=!0x0),_0x26a888[_0x369a59(0x5ab)]?.[_0x369a59(0x3c2)]){let _0x79c625=await this[_0x369a59(0x34f)](_0x26a888[_0x369a59(0x459)][_0x369a59(0x603)]);if(typeof _0x79c625==_0x369a59(0x2d7)){let _0x242aac=k[_0x369a59(0x275)](_0x79c625)[_0x369a59(0x806)](_0x369a59(0x7c0));return this['sendMessageWithRetry'](_0x26a888[_0x369a59(0x1ce)],{'audio':Buffer[_0x369a59(0x1be)](_0x242aac,_0x369a59(0x7c0)),'ptt':!0x0,'mimetype':_0x369a59(0x409)},{'presence':_0x369a59(0x26d),'delay':_0x26a888?.[_0x369a59(0x5ab)]?.[_0x369a59(0x379)]});}else throw new x(_0x79c625);}return await this[_0x369a59(0x452)](_0x26a888[_0x369a59(0x1ce)],{'audio':(0x0,J[_0x369a59(0x3a8)])(_0x26a888['audioMessage'][_0x369a59(0x603)])?{'url':_0x26a888[_0x369a59(0x459)][_0x369a59(0x603)]}:Buffer['from'](_0x26a888[_0x369a59(0x459)][_0x369a59(0x603)],_0x369a59(0x7c0)),'ptt':!0x0,'mimetype':_0x369a59(0x409)},{'presence':_0x369a59(0x26d),'delay':_0x26a888?.['options']?.[_0x369a59(0x379)]});}async[a0_0xc869c4(0x34f)](_0x301afb){const _0xb604b9=a0_0xc869c4;this[_0xb604b9(0x246)]['verbose'](this[_0xb604b9(0x77a)]+'\x20('+this[_0xb604b9(0x801)][_0xb604b9(0x69a)]+_0xb604b9(0x334));let _0x50cb34=(0x0,J[_0xb604b9(0x3a8)])(_0x301afb)?(0x0,re[_0xb604b9(0x144)])(_0xb604b9(0x73a))[_0xb604b9(0x6cc)](_0x301afb)[_0xb604b9(0x66d)](_0xb604b9(0x33d)):(0x0,re[_0xb604b9(0x144)])('sha256')[_0xb604b9(0x6cc)](_0x301afb)[_0xb604b9(0x66d)](_0xb604b9(0x33d)),_0xe29405=''+(0x0,j[_0xb604b9(0x29a)])(this[_0xb604b9(0x3f9)],_0x50cb34+'.ogg');if(k[_0xb604b9(0x589)](_0xe29405))return this['logger'][_0xb604b9(0x5a1)](this[_0xb604b9(0x77a)]+'\x20('+this[_0xb604b9(0x801)][_0xb604b9(0x69a)]+_0xb604b9(0x43b)),_0xe29405;let _0x53318e=''+(0x0,j['join'])(this[_0xb604b9(0x3f9)],_0xb604b9(0x5f5)+(0x0,Q['v4'])()+_0xb604b9(0x7ff));if((0x0,J[_0xb604b9(0x3a8)])(_0x301afb)){let _0x4f63c6=new Date()['getTime'](),_0x4d1820=_0x301afb+_0xb604b9(0xd3)+_0x4f63c6,_0x1cbd8f=await K[_0xb604b9(0xef)][_0xb604b9(0x1d4)](_0x4d1820,{'responseType':_0xb604b9(0x43c)});k[_0xb604b9(0x248)](_0x53318e,_0x1cbd8f[_0xb604b9(0x3df)]);}else{let _0x4abaa1=Buffer['from'](_0x301afb,_0xb604b9(0x7c0));k[_0xb604b9(0x248)](_0x53318e,_0x4abaa1);}return new Promise((_0x5b11cb,_0x57e010)=>{const _0x2be770=_0xb604b9;(0x0,Ue['exec'])(Ds[_0x2be770(0xef)][_0x2be770(0x814)]+'\x20-i\x20'+_0x53318e+_0x2be770(0x757)+_0xe29405+_0x2be770(0x2cf),_0x20b096=>{const _0x407700=_0x2be770;if(k[_0x407700(0x615)](_0x53318e),_0x20b096){this[_0x407700(0x246)][_0x407700(0x5a1)](this['instanceName']+'\x20('+this[_0x407700(0x801)][_0x407700(0x69a)]+_0x407700(0x2af)),_0x57e010(_0x20b096);return;}this[_0x407700(0x246)][_0x407700(0x5a1)](this[_0x407700(0x77a)]+'\x20('+this[_0x407700(0x801)]['wuid']+_0x407700(0x554)),_0x5b11cb(_0xe29405);});});}async[a0_0xc869c4(0x18c)](_0x47fc20){const _0x427958=a0_0xc869c4;this[_0x427958(0x246)]['verbose'](this[_0x427958(0x77a)]+'\x20('+this['instance'][_0x427958(0x69a)]+_0x427958(0x334));let _0x57073c=(0x0,re[_0x427958(0x144)])(_0x427958(0x73a))['update'](_0x47fc20)[_0x427958(0x66d)]('hex'),_0x53d73c=''+(0x0,j['join'])(this[_0x427958(0x3f9)],_0x57073c+'.mp3');if(k[_0x427958(0x589)](_0x53d73c))return this['logger'][_0x427958(0x5a1)](this[_0x427958(0x77a)]+'\x20('+this[_0x427958(0x801)][_0x427958(0x69a)]+_0x427958(0x43b)),j['default'][_0x427958(0x5fc)](_0x53d73c);let _0x1d5c17=''+(0x0,j[_0x427958(0x29a)])(this[_0x427958(0x3f9)],_0x427958(0x5f5)+_0x57073c+_0x427958(0x6b9));if((0x0,J[_0x427958(0x3a8)])(_0x47fc20)){let _0xad2587=new Date()[_0x427958(0x1f9)](),_0x1b33b8=_0x47fc20+'?timestamp='+_0xad2587,_0x363af8=await K[_0x427958(0xef)][_0x427958(0x1d4)](_0x1b33b8,{'responseType':_0x427958(0x43c)});k[_0x427958(0x248)](_0x1d5c17,_0x363af8['data']);}else{let _0x54db33=Buffer['from'](_0x47fc20,'base64');k[_0x427958(0x248)](_0x1d5c17,_0x54db33);}return new Promise((_0xa4f376,_0x34d439)=>{const _0x14fabc=_0x427958;(0x0,Ue[_0x14fabc(0x866)])(Ds[_0x14fabc(0xef)]['path']+'\x20-i\x20'+_0x1d5c17+_0x14fabc(0x4a2)+_0x53d73c+_0x14fabc(0x2cf),_0x3e6b82=>{const _0x2465e6=_0x14fabc;if(k[_0x2465e6(0x615)](_0x1d5c17),_0x3e6b82){this[_0x2465e6(0x246)][_0x2465e6(0x5a1)](this['instanceName']+'\x20('+this[_0x2465e6(0x801)][_0x2465e6(0x69a)]+_0x2465e6(0x2af)),_0x34d439(_0x3e6b82);return;}this[_0x2465e6(0x246)][_0x2465e6(0x5a1)](this['instanceName']+'\x20('+this[_0x2465e6(0x801)]['wuid']+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0xa4f376(j[_0x2465e6(0xef)][_0x2465e6(0x5fc)](_0x53d73c));});});}async[a0_0xc869c4(0x41a)](_0x2503df){const _0x2a30fe=a0_0xc869c4;console[_0x2a30fe(0x114)]('[service]\x20request\x20received\x20in\x20sendButtons',_0x2503df);let _0x52f90c;try{_0x2503df[_0x2a30fe(0x41a)]?.[_0x2a30fe(0x141)]&&(_0x52f90c=await this[_0x2a30fe(0x5a6)]({'mediatype':_0x2a30fe(0x37e),'media':_0x2503df[_0x2a30fe(0x41a)][_0x2a30fe(0x141)]}));}catch(_0x5e7cf6){throw console[_0x2a30fe(0x3d2)](_0x2a30fe(0x61b),_0x5e7cf6),new Error(_0x2a30fe(0x7ca));}try{let _0x3de423={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x2a30fe(0x567)},'footer':{'text':'Rodapé\x20de\x20Teste'},'header':((()=>{const _0x417e68=_0x2a30fe;if(_0x52f90c?.[_0x417e68(0x5ad)]?.[_0x417e68(0x7da)])return{'hasMediaAttachment':!!_0x52f90c['message']['imageMessage'],'imageMessage':_0x52f90c[_0x417e68(0x5ad)][_0x417e68(0x7da)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x2a30fe(0x71c),'buttonParamsJson':JSON[_0x2a30fe(0x563)]({'display_text':_0x2a30fe(0xe0),'id':'1'})},{'name':'quick_reply','buttonParamsJson':JSON[_0x2a30fe(0x563)]({'display_text':'Botão\x202','id':'2'})}],'messageParamsJson':JSON[_0x2a30fe(0x563)]({'from':_0x2a30fe(0x745),'templateId':_0x2a30fe(0x3ba)+(0x0,re['randomBytes'])(0x12)[_0x2a30fe(0x806)](_0x2a30fe(0x33d))[_0x2a30fe(0x15b)]()})}}}}};return await this[_0x2a30fe(0x463)](_0x2503df[_0x2a30fe(0x1ce)],_0x3de423,_0x2503df?.[_0x2a30fe(0x5ab)]);}catch(_0x2d56d3){throw console[_0x2a30fe(0x3d2)](_0x2a30fe(0x4fb),_0x2d56d3),new Error(_0x2a30fe(0x79b));}}async[a0_0xc869c4(0x718)](_0x279343){const _0x1165e6=a0_0xc869c4;return await this['sendMessageWithRetry'](_0x279343[_0x1165e6(0x1ce)],{'locationMessage':{'degreesLatitude':_0x279343[_0x1165e6(0x718)][_0x1165e6(0x783)],'degreesLongitude':_0x279343[_0x1165e6(0x718)][_0x1165e6(0x156)],'name':_0x279343[_0x1165e6(0x718)]?.[_0x1165e6(0x15e)],'address':_0x279343[_0x1165e6(0x718)]?.[_0x1165e6(0x605)]}},_0x279343?.['options']);}async['contactMessage'](_0x50dbd4){const _0x42241d=a0_0xc869c4;let _0x556a7={},_0x247312=async _0x121524=>{const _0x5ae8d2=a0_0x3de4;let _0x260614=_0x5ae8d2(0x34c)+_0x121524[_0x5ae8d2(0x129)]+'\x0aFN:'+_0x121524[_0x5ae8d2(0x129)]+'\x0a';_0x121524['organization']&&(_0x260614+=_0x5ae8d2(0x1cb)+_0x121524[_0x5ae8d2(0x5df)]+';\x0a'),_0x121524['email']&&(_0x260614+=_0x5ae8d2(0x799)+_0x121524['email']+'\x0a'),_0x121524[_0x5ae8d2(0x709)]&&(_0x260614+=_0x5ae8d2(0x19d)+_0x121524[_0x5ae8d2(0x709)]+'\x0a');let _0x37c82e='',_0x2c389f=0x1;if(_0x121524[_0x5ae8d2(0x1c1)]){let _0x37b496=_0x121524[_0x5ae8d2(0x1c1)][_0x5ae8d2(0x63b)]('|');for(let _0x5afd8a of _0x37b496){let _0x4d0c60=await this[_0x5ae8d2(0x23f)]({'numbers':[_0x5afd8a]}),_0x3c2248=(_0x4d0c60['length']>0x0?_0x4d0c60[0x0]['jid']:this['createJid'](_0x5afd8a))[_0x5ae8d2(0x791)](_0x5ae8d2(0x457),'');_0x37c82e+=_0x5ae8d2(0x21c)+_0x2c389f+'.TEL;waid='+_0x3c2248+':'+_0x5afd8a+_0x5ae8d2(0x6f2)+_0x2c389f+'.X-ABLabel:Celular\x0a',_0x2c389f++;}}return _0x260614+=_0x37c82e+_0x5ae8d2(0x342),_0x260614;};return _0x50dbd4['contactMessage'][_0x42241d(0x4c6)]===0x1?_0x556a7[_0x42241d(0x236)]={'displayName':_0x50dbd4[_0x42241d(0x236)][0x0][_0x42241d(0x129)],'vcard':await _0x247312(_0x50dbd4[_0x42241d(0x236)][0x0])}:_0x556a7[_0x42241d(0x45e)]={'displayName':_0x50dbd4[_0x42241d(0x236)][_0x42241d(0x4c6)]+_0x42241d(0x816),'contacts':await Promise[_0x42241d(0x4e4)](_0x50dbd4[_0x42241d(0x236)][_0x42241d(0x474)](async _0x15f3c6=>({'displayName':_0x15f3c6[_0x42241d(0x129)],'vcard':await _0x247312(_0x15f3c6)})))},await this[_0x42241d(0x452)](_0x50dbd4[_0x42241d(0x1ce)],{..._0x556a7},_0x50dbd4?.[_0x42241d(0x5ab)]);}async[a0_0xc869c4(0x282)](_0x26d1d8){const _0x495062=a0_0xc869c4;return await this[_0x495062(0x452)](_0x26d1d8[_0x495062(0x282)][_0x495062(0x7e2)][_0x495062(0x607)],{'reactionMessage':{'key':_0x26d1d8['reactionMessage'][_0x495062(0x7e2)],'text':_0x26d1d8[_0x495062(0x282)][_0x495062(0x696)]}});}async[a0_0xc869c4(0x23f)](_0x5d6b3f){const _0x2c29b9=a0_0xc869c4;let _0xc948ce=[];for await(let _0x17cdec of _0x5d6b3f['numbers']){let _0x1c3870=this[_0x2c29b9(0x697)](_0x17cdec),_0x38e0c2=!0x1;try{if((0x0,w[_0x2c29b9(0x735)])(_0x1c3870)){let _0xb5b33a=(await this['repository'][_0x2c29b9(0x6f8)][_0x2c29b9(0x4d6)]({'where':{'_id':_0x1c3870}},this[_0x2c29b9(0x801)]['wuid']))['groupdata'];_0xb5b33a?(_0x38e0c2=!0x0,_0xc948ce['push'](new le(_0xb5b33a['id'],_0x38e0c2,_0xb5b33a?.['subject']))):(_0xb5b33a=await this[_0x2c29b9(0x3b4)]({'groupJid':_0x1c3870},_0x2c29b9(0x5b7)),_0xc948ce[_0x2c29b9(0x14c)](new le(_0xb5b33a['id'],!!_0xb5b33a?.['id'],_0xb5b33a?.[_0x2c29b9(0x5aa)])));}else{if(_0x1c3870[_0x2c29b9(0x49c)]('@broadcast'))_0xc948ce['push'](new le(_0x1c3870,!0x0));else{let _0x4af6ab=(await this['client'][_0x2c29b9(0x861)](_0x1c3870))[0x0];_0xc948ce[_0x2c29b9(0x14c)](new le(_0x4af6ab[_0x2c29b9(0x724)],_0x4af6ab['exists']));}}}catch{(0x0,w[_0x2c29b9(0x735)])(_0x1c3870)||await this['deleteImportedChat'](_0x1c3870),_0xc948ce[_0x2c29b9(0x14c)](new le(_0x17cdec,!0x1));}}return _0xc948ce;}async[a0_0xc869c4(0x3f6)](_0x50c7d5){const _0x4f00e5=a0_0xc869c4;try{await this[_0x4f00e5(0x77f)][_0x4f00e5(0x6f8)][_0x4f00e5(0x4d6)]({'where':{'_id':_0x50c7d5,'imported':!0x0}},this[_0x4f00e5(0x801)]['wuid'])&&(await this[_0x4f00e5(0x77f)][_0x4f00e5(0x6f8)]['deleteChat'](_0x50c7d5,this[_0x4f00e5(0x801)][_0x4f00e5(0x69a)]),this[_0x4f00e5(0x246)]['info'](_0x4f00e5(0x79d)+_0x50c7d5+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x1d6243){let _0xb3d1b6=_0x4f00e5(0xed),_0x105754=_0x1d6243 instanceof Error?_0x1d6243[_0x4f00e5(0x5ad)]:typeof _0x1d6243==_0x4f00e5(0xfe)?JSON['stringify'](_0x1d6243):_0x1d6243,_0x5a1822=_0xb3d1b6+':\x20'+_0x105754;this['logger']['error'](this[_0x4f00e5(0x77a)]+'\x20('+this[_0x4f00e5(0x801)][_0x4f00e5(0x69a)]+_0x4f00e5(0x6fe)+_0x5a1822);}}async[a0_0xc869c4(0x4ca)](_0x4fc452){const _0x1a4bb9=a0_0xc869c4;try{let _0x3e5d1a=_0x4fc452['readMessages'][_0x1a4bb9(0x314)](_0x519f55=>(0x0,w[_0x1a4bb9(0x735)])(_0x519f55[_0x1a4bb9(0x607)])||(0x0,w[_0x1a4bb9(0x868)])(_0x519f55[_0x1a4bb9(0x607)]))['map'](_0x43c061=>({'remoteJid':_0x43c061[_0x1a4bb9(0x607)],'fromMe':_0x43c061['fromMe'],'id':_0x43c061['id']}));await this[_0x1a4bb9(0x52a)][_0x1a4bb9(0x5cc)](_0x3e5d1a);let _0x402a08=_0x3e5d1a[_0x1a4bb9(0x474)](_0x48a7c0=>this[_0x1a4bb9(0x11d)](_0x48a7c0,{'status':_0x1a4bb9(0x555),'owner':this['instance'][_0x1a4bb9(0x69a)]})),_0x15dd0c=_0x3e5d1a[_0x1a4bb9(0x474)](_0x4b79f1=>this[_0x1a4bb9(0x77f)][_0x1a4bb9(0x6f8)][_0x1a4bb9(0x2a2)]({'where':{'_id':_0x4b79f1[_0x1a4bb9(0x607)]}},{'unreadcount':0x0},this[_0x1a4bb9(0x801)][_0x1a4bb9(0x69a)])),[_0x2d8c08,_0x5c1d54]=await Promise['all']([Promise[_0x1a4bb9(0x4e4)](_0x402a08),Promise['all'](_0x15dd0c)]);return _0x5c1d54['filter'](_0x76139c=>_0x76139c!==null)[_0x1a4bb9(0x64a)](_0x46586d=>{const _0x5a7be4=_0x1a4bb9;F(this['instanceName'],_0x5a7be4(0x856),{'chat':_0x46586d});}),{'message':_0x1a4bb9(0x581),'read':_0x1a4bb9(0x47b)};}catch(_0x530d3b){let _0x16061f=_0x1a4bb9(0x514),_0x18c87b=_0x530d3b instanceof Error?_0x530d3b['message']:typeof _0x530d3b==_0x1a4bb9(0xfe)?JSON[_0x1a4bb9(0x563)](_0x530d3b):_0x530d3b,_0x207a0c=_0x16061f+':\x20'+_0x18c87b;throw this['logger']['error'](this[_0x1a4bb9(0x77a)]+'\x20('+this[_0x1a4bb9(0x801)][_0x1a4bb9(0x69a)]+_0x1a4bb9(0x6fe)+_0x207a0c),new x(_0x207a0c);}}async[a0_0xc869c4(0x370)](_0x5abb01){const _0x152935=a0_0xc869c4;let _0xc49c92={'where':{'key':{'remoteJid':_0x5abb01}},'limit':0x1},_0x1bbd57=await this[_0x152935(0x26f)](_0xc49c92);return _0x1bbd57||(this['logger'][_0x152935(0x3d2)](_0x152935(0x54d)+_0x5abb01),null);}async['archiveChat'](_0x49ae00){const _0x41d5b7=a0_0xc869c4;this[_0x41d5b7(0x246)]['verbose'](this[_0x41d5b7(0x77a)]+'\x20('+this[_0x41d5b7(0x801)]['wuid']+_0x41d5b7(0x4d0));try{let _0x5a007f=_0x49ae00['lastMessage'],_0x37abcd=_0x49ae00[_0x41d5b7(0x6f8)];if(!_0x5a007f&&_0x37abcd?_0x5a007f=await this[_0x41d5b7(0x370)](_0x37abcd):(_0x5a007f=_0x49ae00[_0x41d5b7(0x798)],_0x5a007f['messageTimestamp']=_0x5a007f?.[_0x41d5b7(0x3e2)]??Date['now'](),_0x37abcd=_0x5a007f?.[_0x41d5b7(0x7e2)]?.[_0x41d5b7(0x607)]),!_0x5a007f||Object['keys'](_0x5a007f)[_0x41d5b7(0x4c6)]===0x0)throw new U('Last\x20message\x20not\x20found');this[_0x41d5b7(0x246)][_0x41d5b7(0x5a1)](this[_0x41d5b7(0x77a)]+'\x20('+this['instance'][_0x41d5b7(0x69a)]+_0x41d5b7(0x5ff)+_0x37abcd);try{await this['client'][_0x41d5b7(0x46e)]({'archive':_0x49ae00[_0x41d5b7(0x172)],'lastMessages':[_0x5a007f]},this['createJid'](_0x37abcd));}catch(_0x10bd95){let _0x20378c=_0x41d5b7(0x29f)+_0x37abcd,_0x2cd865=_0x10bd95 instanceof Error?_0x10bd95[_0x41d5b7(0x5ad)]:typeof _0x10bd95==_0x41d5b7(0xfe)?JSON[_0x41d5b7(0x563)](_0x10bd95):_0x10bd95,_0x585de7=_0x20378c+':\x20'+_0x2cd865;this[_0x41d5b7(0x246)][_0x41d5b7(0x3d2)](this[_0x41d5b7(0x77a)]+'\x20('+this['instance'][_0x41d5b7(0x69a)]+'):\x20'+_0x585de7);}this[_0x41d5b7(0x246)][_0x41d5b7(0x5a1)](this[_0x41d5b7(0x77a)]+'\x20('+this[_0x41d5b7(0x801)][_0x41d5b7(0x69a)]+_0x41d5b7(0x295)+_0x37abcd);let _0x525c3a=await this[_0x41d5b7(0x77f)][_0x41d5b7(0x6f8)]['updateOne']({'where':{'_id':_0x5a007f?.[_0x41d5b7(0x7e2)]?.[_0x41d5b7(0x607)]}},{'archived':_0x49ae00[_0x41d5b7(0x172)]},this[_0x41d5b7(0x801)][_0x41d5b7(0x69a)]);return _0x525c3a?(this[_0x41d5b7(0x246)][_0x41d5b7(0x5a1)](this[_0x41d5b7(0x77a)]+'\x20('+this[_0x41d5b7(0x801)][_0x41d5b7(0x69a)]+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x41d5b7(0x563)](_0x525c3a)),F(this[_0x41d5b7(0x77a)],_0x41d5b7(0x856),{'chat':_0x525c3a})):this[_0x41d5b7(0x246)][_0x41d5b7(0x3d2)](this['instanceName']+'\x20('+this[_0x41d5b7(0x801)][_0x41d5b7(0x69a)]+_0x41d5b7(0x730)+_0x37abcd),{'chatId':_0x37abcd,'archived':_0x49ae00['archive']};}catch(_0x2ef4a4){let _0x44309c='Erro\x20ao\x20arquivar\x20chat',_0x53ae75=_0x2ef4a4 instanceof Error?_0x2ef4a4[_0x41d5b7(0x5ad)]:typeof _0x2ef4a4==_0x41d5b7(0xfe)?JSON['stringify'](_0x2ef4a4):_0x2ef4a4,_0x412cb0=_0x44309c+':\x20'+_0x53ae75;throw this[_0x41d5b7(0x246)][_0x41d5b7(0x3d2)](this[_0x41d5b7(0x77a)]+'\x20('+this[_0x41d5b7(0x801)][_0x41d5b7(0x69a)]+_0x41d5b7(0x6fe)+_0x412cb0),new x(_0x412cb0);}}async[a0_0xc869c4(0x5ac)](_0x43185c){const _0x2f056d=a0_0xc869c4;this[_0x2f056d(0x246)]['verbose'](this[_0x2f056d(0x77a)]+'\x20('+this[_0x2f056d(0x801)]['wuid']+_0x2f056d(0x2ba));try{let _0x137306=await this['getLastMessage'](_0x43185c);if(!_0x137306||Object[_0x2f056d(0x239)](_0x137306)['length']===0x0)throw new U('Last\x20message\x20not\x20found');let _0x63f8da=_0x137306[0x0];this[_0x2f056d(0x246)][_0x2f056d(0x5a1)](this[_0x2f056d(0x77a)]+'\x20('+this[_0x2f056d(0x801)][_0x2f056d(0x69a)]+_0x2f056d(0x17d)+_0x43185c);try{await this[_0x2f056d(0x52a)][_0x2f056d(0x46e)]({'delete':!0x0,'lastMessages':[{'key':_0x63f8da[_0x2f056d(0x7e2)],'messageTimestamp':_0x63f8da['messageTimestamp']}]},this[_0x2f056d(0x697)](_0x43185c));}catch(_0x346dd1){this['logger'][_0x2f056d(0x3d2)](_0x2f056d(0x29f)+_0x43185c+':\x20'+_0x346dd1[_0x2f056d(0x806)]());}this['logger'][_0x2f056d(0x5a1)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2f056d(0x295)+_0x43185c);return;}catch(_0x936eaf){throw this[_0x2f056d(0x246)]['error'](this[_0x2f056d(0x77a)]+'\x20('+this['instance']['wuid']+_0x2f056d(0x117)+_0x936eaf[_0x2f056d(0x806)]()),new x({'archived':!0x1,'message':[_0x2f056d(0x81b),_0x936eaf[_0x2f056d(0x806)]()]});}}async[a0_0xc869c4(0x671)](_0x2f70cf){const _0x35506=a0_0xc869c4;try{let _0x1c80f=await this[_0x35506(0x52a)][_0x35506(0x714)](_0x2f70cf[_0x35506(0x607)],{'delete':_0x2f70cf});try{let _0x1f8f7a=await this[_0x35506(0x11d)](_0x2f70cf,{'status':'DELETED','owner':this[_0x35506(0x801)][_0x35506(0x69a)]});this[_0x35506(0x246)][_0x35506(0x5a1)](this[_0x35506(0x77a)]+'\x20('+this[_0x35506(0x801)][_0x35506(0x69a)]+_0x35506(0x4af)+_0x1f8f7a);}catch(_0x11b334){this[_0x35506(0x246)][_0x35506(0x3d2)](_0x35506(0x41b)+_0x11b334);}return _0x1c80f;}catch(_0x5c59fa){throw new x(_0x35506(0x6bb),_0x5c59fa?.[_0x35506(0x806)]());}}async[a0_0xc869c4(0x2d8)](_0x3bf217){const _0x5963ff=a0_0xc869c4;try{let _0x2f356d=_0x3bf217?.[_0x5963ff(0x5ad)]?_0x3bf217:await this[_0x5963ff(0x2ac)](_0x3bf217['key'],!0x0);for(let _0x3cc082 of Na)_0x2f356d[_0x5963ff(0x5ad)][_0x3cc082]&&(_0x2f356d[_0x5963ff(0x5ad)]=_0x2f356d[_0x5963ff(0x5ad)][_0x3cc082][_0x5963ff(0x5ad)]);let _0x1045ce,_0x1a755f;for(let _0x5633b5 of Ea)if(_0x1045ce=_0x2f356d['message'][_0x5633b5],_0x1045ce){_0x1a755f=_0x5633b5;break;}if(!_0x1045ce)throw _0x5963ff(0x5c9);typeof _0x1045ce[_0x5963ff(0x2bb)]==_0x5963ff(0xfe)&&(_0x2f356d[_0x5963ff(0x5ad)]=JSON[_0x5963ff(0x50b)](JSON[_0x5963ff(0x563)](_0x2f356d[_0x5963ff(0x5ad)])));let _0xf79383=await(0x0,w[_0x5963ff(0x2c6)])({'key':_0x2f356d?.[_0x5963ff(0x7e2)],'message':_0x2f356d?.[_0x5963ff(0x5ad)]},_0x5963ff(0x1d0),{},{'logger':(0x0,Ft[_0x5963ff(0xef)])({'level':_0x5963ff(0x535)}),'reuploadRequest':this[_0x5963ff(0x52a)][_0x5963ff(0x509)]});if(!(_0xf79383 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x2be40b=this[_0x5963ff(0x3a6)][_0x5963ff(0x1d4)](_0x5963ff(0x661)),_0x15d4bf,_0x15f99a;if(_0x1045ce['fileName'])_0x15d4bf=_0x1045ce['fileName'];else{let _0x3970b3=_0x1045ce[_0x5963ff(0x32e)]?.[_0x5963ff(0x2f6)](/\/(\w+)/),_0x3605d0=_0x3970b3?_0x3970b3[0x1]:null;if(!_0x3605d0)throw new Error(_0x5963ff(0x3bd));_0x15d4bf=(0x0,Q['v4'])()+'.'+_0x3605d0;}_0x1a755f===_0x5963ff(0x459)?_0x15f99a=_0x5963ff(0x468)+await this[_0x5963ff(0x18c)](_0xf79383['toString'](_0x5963ff(0x7c0))):(await this[_0x5963ff(0x751)](_0xf79383,_0x15d4bf),_0x15f99a=_0x5963ff(0x468)+_0x15d4bf);let _0x21ca94=this[_0x5963ff(0x3a6)][_0x5963ff(0x1d4)](_0x5963ff(0x81d))[_0x5963ff(0x5f6)];if(!_0x21ca94){let _0x56ea2c=this[_0x5963ff(0x3a6)][_0x5963ff(0x1d4)](_0x5963ff(0x296));_0x21ca94=_0x5963ff(0x69c)+(_0x56ea2c&&_0x56ea2c[_0x5963ff(0x7ce)][_0x5963ff(0x63b)]('/')[0x4]);}_0x15f99a=''+_0x21ca94+_0x15f99a;let _0x483379=0xc*0x3c*0x3c*0x3e8,_0x49f44c={'where':{'_id':_0x2f356d[_0x5963ff(0x7e2)]['id']}},_0x3d2820={'message_normalized.fileUrl':_0x15f99a,'message_normalized.expires_fileUrl':Date[_0x5963ff(0x574)]()+_0x483379};try{let _0x1369c2=await this[_0x5963ff(0x77f)]['message'][_0x5963ff(0x6cc)](_0x49f44c,_0x3d2820,this[_0x5963ff(0x801)]['wuid']);_0x1369c2&&F(this[_0x5963ff(0x77a)],_0x5963ff(0x43f),{'message':_0x1369c2});}catch(_0x175cdf){let _0x1142a2=_0x5963ff(0x621),_0x5b9985=_0x175cdf instanceof Error?_0x175cdf[_0x5963ff(0x5ad)]:typeof _0x175cdf==_0x5963ff(0xfe)?JSON['stringify'](_0x175cdf):_0x175cdf,_0x4b0562=_0x1142a2+':\x20'+_0x5b9985;this[_0x5963ff(0x246)][_0x5963ff(0x3d2)](this[_0x5963ff(0x77a)]+'\x20('+this[_0x5963ff(0x801)][_0x5963ff(0x69a)]+_0x5963ff(0x6fe)+_0x4b0562);}return{'mediaType':_0x1a755f,'fileName':_0x1045ce[_0x5963ff(0x2f2)],'caption':_0x1045ce['caption'],'size':{'fileLength':_0x1045ce['fileLength'],'height':_0x1045ce[_0x5963ff(0x1ba)],'width':_0x1045ce[_0x5963ff(0x416)]},'mimetype':_0x1045ce['mimetype'],'base64':_0xf79383['toString'](_0x5963ff(0x7c0)),'fileUrl':_0x15f99a,'expires_fileUrl':Date[_0x5963ff(0x574)]()+_0x483379};}catch(_0x30155f){let _0x495d57='Falha\x20ao\x20processar\x20a\x20solicitação',_0x257fba=_0x30155f instanceof Error?_0x30155f[_0x5963ff(0x5ad)]:typeof _0x30155f=='object'?JSON[_0x5963ff(0x563)](_0x30155f):_0x30155f,_0x3bfe6e=_0x495d57+':\x20'+_0x257fba;throw this[_0x5963ff(0x246)]['error'](this[_0x5963ff(0x77a)]+'\x20('+this[_0x5963ff(0x801)][_0x5963ff(0x69a)]+_0x5963ff(0x6fe)+_0x3bfe6e),new m(_0x3bfe6e);}}async['saveMediaToFile'](_0x2eda69,_0x411e72){const _0x432ef6=a0_0xc869c4;let _0x6ccf1d=j[_0x432ef6(0xef)][_0x432ef6(0x29a)](__dirname,_0x432ef6(0x291));k[_0x432ef6(0x589)](_0x6ccf1d)||k[_0x432ef6(0x4ec)](_0x6ccf1d,{'recursive':!0x0});let _0x371268=j[_0x432ef6(0xef)][_0x432ef6(0x29a)](_0x6ccf1d,_0x411e72);return new Promise((_0x4a97a0,_0x2c32d3)=>{const _0x2d9a93=_0x432ef6;k[_0x2d9a93(0x4ee)](_0x371268,_0x2eda69,_0x42190c=>{const _0x44a36d=_0x2d9a93;_0x42190c?(this[_0x44a36d(0x246)][_0x44a36d(0x3d2)]('Error\x20writing\x20file:\x20'+(_0x42190c instanceof Error?_0x42190c[_0x44a36d(0x5ad)]:JSON[_0x44a36d(0x563)](_0x42190c,null,0x2))),_0x2c32d3(_0x42190c)):(this['logger'][_0x44a36d(0x114)](_0x44a36d(0x631)+_0x371268),_0x4a97a0(_0x371268));});});}async[a0_0xc869c4(0x700)](_0x2a2732){const _0x3517ee=a0_0xc869c4;return await this[_0x3517ee(0x77f)][_0x3517ee(0x1ac)][_0x3517ee(0x194)](_0x2a2732,this['instance'][_0x3517ee(0x69a)]);}async['fetchLabels'](){const _0x26eeb2=a0_0xc869c4;return await this[_0x26eeb2(0x77f)][_0x26eeb2(0x59d)]['find']({'where':{}},this['instance'][_0x26eeb2(0x69a)]);}async[a0_0xc869c4(0x26f)](_0x335ade){const _0x37c4b5=a0_0xc869c4;return await this['repository'][_0x37c4b5(0x5ad)][_0x37c4b5(0x194)](_0x335ade,this[_0x37c4b5(0x801)]['wuid']);}async[a0_0xc869c4(0x1c6)](){const _0x46fc9f=a0_0xc869c4;return this[_0x46fc9f(0x77f)][_0x46fc9f(0x6f8)]['removeUnusedChatFields'](this[_0x46fc9f(0x801)][_0x46fc9f(0x69a)]),this[_0x46fc9f(0x77f)][_0x46fc9f(0x6f8)][_0x46fc9f(0x294)](this[_0x46fc9f(0x801)][_0x46fc9f(0x69a)]),this[_0x46fc9f(0x77f)]['chat']['updateMissingTags'](this[_0x46fc9f(0x801)]['wuid']),this['repository']['chat'][_0x46fc9f(0x4dc)](this['instance'][_0x46fc9f(0x69a)]),await this[_0x46fc9f(0x77f)][_0x46fc9f(0x6f8)][_0x46fc9f(0x194)]({'where':{}},this[_0x46fc9f(0x801)]['wuid']);}async[a0_0xc869c4(0x71e)](_0x5c2ecc){const _0x3e7ee1=a0_0xc869c4;try{if(!Array[_0x3e7ee1(0x585)](_0x5c2ecc)||_0x5c2ecc[_0x3e7ee1(0x4c6)]===0x0)throw new Error(_0x3e7ee1(0x5c4));let _0x45b3fb=[],_0x14fe5f=[];for(let _0x51bec2 of _0x5c2ecc){if(_0x51bec2[_0x3e7ee1(0x59b)])_0x51bec2[_0x3e7ee1(0x59b)]=this[_0x3e7ee1(0x697)](_0x51bec2['_id']);else continue;await this[_0x3e7ee1(0x77f)]['chat']['findOne']({'where':{'_id':_0x51bec2[_0x3e7ee1(0x59b)]}},this[_0x3e7ee1(0x801)][_0x3e7ee1(0x69a)])?_0x14fe5f[_0x3e7ee1(0x14c)]({'_id':_0x51bec2[_0x3e7ee1(0x59b)],'leadInfo':_0x51bec2[_0x3e7ee1(0x639)],'owner':this['instance'][_0x3e7ee1(0x69a)]}):_0x45b3fb[_0x3e7ee1(0x14c)]({'_id':_0x51bec2['_id'],'owner':this[_0x3e7ee1(0x801)][_0x3e7ee1(0x69a)],'leadInfo':_0x51bec2[_0x3e7ee1(0x639)],'imported':!0x0});}return _0x14fe5f['length']>0x0&&await this['repository']['chat'][_0x3e7ee1(0x414)](_0x14fe5f[_0x3e7ee1(0x474)](_0x3c19dc=>({'query':{'where':{'_id':_0x3c19dc[_0x3e7ee1(0x59b)],'owner':this[_0x3e7ee1(0x801)][_0x3e7ee1(0x69a)]}},'update':_0x3c19dc}))),_0x45b3fb['length']>0x0&&await this[_0x3e7ee1(0x77f)]['chat']['insertMany'](_0x45b3fb,this[_0x3e7ee1(0x801)][_0x3e7ee1(0x69a)]),{'updated':_0x14fe5f[_0x3e7ee1(0x4c6)],'inserted':_0x45b3fb[_0x3e7ee1(0x4c6)]};}catch(_0x3d158e){let _0x569c48=_0x3e7ee1(0x6dc),_0x49c106=_0x3d158e instanceof Error?_0x3d158e[_0x3e7ee1(0x5ad)]:typeof _0x3d158e=='object'?JSON[_0x3e7ee1(0x563)](_0x3d158e):_0x3d158e,_0x16b27=_0x569c48+':\x20'+_0x49c106;throw this[_0x3e7ee1(0x246)]['error'](this[_0x3e7ee1(0x77a)]+'\x20('+this[_0x3e7ee1(0x801)][_0x3e7ee1(0x69a)]+'):\x20'+_0x16b27),new m(_0x16b27);}}async['importChats'](_0x1d7609){const _0x41264f=a0_0xc869c4;try{if(!Array['isArray'](_0x1d7609)||_0x1d7609[_0x41264f(0x4c6)]===0x0)throw new Error(_0x41264f(0x5c4));let _0x394305=0x64,_0x397114=0x0;for(let _0x1cfbae=0x0;_0x1cfbae<_0x1d7609[_0x41264f(0x4c6)];_0x1cfbae+=_0x394305){let _0xef946b=_0x1d7609[_0x41264f(0x512)](_0x1cfbae,_0x1cfbae+_0x394305),{updated:_0x1c772a}=await this['importChatsBatch'](_0xef946b);_0x397114+=_0x1c772a;}return{'updated':_0x397114};}catch(_0x1c6456){let _0x48d70a=_0x41264f(0x6dc),_0x4e7b23=_0x1c6456 instanceof Error?_0x1c6456[_0x41264f(0x5ad)]:typeof _0x1c6456==_0x41264f(0xfe)?JSON[_0x41264f(0x563)](_0x1c6456):_0x1c6456,_0x3ae911=_0x48d70a+':\x20'+_0x4e7b23;throw this[_0x41264f(0x246)][_0x41264f(0x3d2)](this[_0x41264f(0x77a)]+'\x20('+this[_0x41264f(0x801)]['wuid']+_0x41264f(0x6fe)+_0x3ae911),new m(_0x3ae911);}}async[a0_0xc869c4(0x5bd)](_0x335e38){const _0x1db7bb=a0_0xc869c4;try{let _0x57a1ca=await this[_0x1db7bb(0x77f)][_0x1db7bb(0x59d)]['find']({'where':{}},this[_0x1db7bb(0x801)][_0x1db7bb(0x69a)]),_0x17b33b=new Set(_0x57a1ca['map'](_0x54f5e9=>_0x54f5e9[_0x1db7bb(0x59b)])),_0x1ffe5f=[],_0x241df6=[];for(let _0x1c8713 of _0x335e38){if(!_0x1c8713[_0x1db7bb(0x59b)])continue;_0x1c8713[_0x1db7bb(0x59b)]=this[_0x1db7bb(0x697)](_0x1c8713[_0x1db7bb(0x59b)]);let _0x1905a4=await this['repository']['chat']['findOne']({'where':{'_id':_0x1c8713[_0x1db7bb(0x59b)]}},this[_0x1db7bb(0x801)][_0x1db7bb(0x69a)]),_0x4c0589={};if(Object[_0x1db7bb(0x85d)](_0x1c8713[_0x1db7bb(0x639)])[_0x1db7bb(0x64a)](([_0x517adc,_0x397e24])=>{const _0x392e10=_0x1db7bb;_0x4c0589[_0x392e10(0x147)+_0x517adc]=_0x397e24;}),_0x1905a4&&!_0x1905a4[_0x1db7bb(0x58e)]){let _0x23a615=(_0x1c8713['leadInfo'][_0x1db7bb(0x3ee)]||[])[_0x1db7bb(0x314)](_0x162cfd=>_0x17b33b['has'](_0x162cfd)),_0xe30e41=new Set(_0x1905a4[_0x1db7bb(0x639)][_0x1db7bb(0x3ee)]||[]),_0x53a8f9=_0x23a615[_0x1db7bb(0x314)](_0x1cf9ee=>!_0xe30e41['has'](_0x1cf9ee)),_0x57cc6b=[..._0xe30e41]['filter'](_0x547b3b=>!_0x23a615[_0x1db7bb(0x49c)](_0x547b3b));_0x241df6[_0x1db7bb(0x14c)](..._0x53a8f9['map'](_0x4a7f9b=>this[_0x1db7bb(0x608)](_0x4a7f9b,_0x1c8713[_0x1db7bb(0x59b)]))),_0x241df6['push'](..._0x57cc6b[_0x1db7bb(0x474)](_0x4e7596=>this[_0x1db7bb(0x4a0)](_0x4e7596,_0x1c8713[_0x1db7bb(0x59b)]))),_0x1c8713[_0x1db7bb(0x639)][_0x1db7bb(0x3ee)]=_0x23a615,_0x1ffe5f[_0x1db7bb(0x14c)]({'query':{'where':{'_id':_0x1c8713['_id'],'owner':this['instance']['wuid']}},'update':_0x4c0589});}else _0x4c0589[_0x1db7bb(0x58e)]=!0x0,_0x1ffe5f['push']({'query':{'where':{'_id':_0x1c8713[_0x1db7bb(0x59b)],'owner':this[_0x1db7bb(0x801)]['wuid']}},'update':_0x4c0589});}let _0x3fa1c4=await this[_0x1db7bb(0x77f)][_0x1db7bb(0x6f8)][_0x1db7bb(0x414)](_0x1ffe5f);return await Promise[_0x1db7bb(0x4e4)](_0x241df6),{'updated':_0x3fa1c4};}catch(_0x3fb213){let _0x1fe566=_0x1db7bb(0x6dc),_0x2075e5=_0x3fb213 instanceof Error?_0x3fb213[_0x1db7bb(0x5ad)]:typeof _0x3fb213==_0x1db7bb(0xfe)?JSON[_0x1db7bb(0x563)](_0x3fb213):_0x3fb213,_0x1f7928=_0x1fe566+':\x20'+_0x2075e5;throw this['logger'][_0x1db7bb(0x3d2)](this[_0x1db7bb(0x77a)]+'\x20('+this['instance'][_0x1db7bb(0x69a)]+_0x1db7bb(0x6fe)+_0x1f7928),new m(_0x1f7928);}}async['fetchPrivacySettings'](){return await this['client']['fetchPrivacySettings']();}async[a0_0xc869c4(0x598)](_0x551ea0){const _0x3c9536=a0_0xc869c4;try{return await this[_0x3c9536(0x52a)][_0x3c9536(0x502)](_0x551ea0[_0x3c9536(0xdc)]['readreceipts']),await this[_0x3c9536(0x52a)]['updateProfilePicturePrivacy'](_0x551ea0[_0x3c9536(0xdc)][_0x3c9536(0x690)]),await this[_0x3c9536(0x52a)][_0x3c9536(0x2d9)](_0x551ea0[_0x3c9536(0xdc)][_0x3c9536(0x202)]),await this[_0x3c9536(0x52a)][_0x3c9536(0x5a5)](_0x551ea0[_0x3c9536(0xdc)][_0x3c9536(0x620)]),await this['client'][_0x3c9536(0x43d)](_0x551ea0[_0x3c9536(0xdc)]['last']),await this[_0x3c9536(0x52a)]['updateGroupsAddPrivacy'](_0x551ea0['privacySettings'][_0x3c9536(0x6b5)]),this['client']?.['ws']?.['close'](),{'update':_0x3c9536(0x47b),'data':{'readreceipts':_0x551ea0[_0x3c9536(0xdc)][_0x3c9536(0x26a)],'profile':_0x551ea0['privacySettings']['profile'],'status':_0x551ea0[_0x3c9536(0xdc)][_0x3c9536(0x202)],'online':_0x551ea0['privacySettings']['online'],'last':_0x551ea0['privacySettings'][_0x3c9536(0x411)],'groupadd':_0x551ea0[_0x3c9536(0xdc)][_0x3c9536(0x6b5)]}};}catch(_0x57836f){let _0x5606e3='Erro\x20ao\x20alterar\x20privacidade',_0x3636ec=_0x57836f instanceof Error?_0x57836f['message']:typeof _0x57836f==_0x3c9536(0xfe)?JSON['stringify'](_0x57836f):_0x57836f,_0x1c4d85=_0x5606e3+':\x20'+_0x3636ec;throw this[_0x3c9536(0x246)][_0x3c9536(0x3d2)](this[_0x3c9536(0x77a)]+'\x20('+this[_0x3c9536(0x801)][_0x3c9536(0x69a)]+_0x3c9536(0x6fe)+_0x1c4d85),new m(_0x1c4d85);}}async[a0_0xc869c4(0x484)](_0x5ddde1){const _0x160931=a0_0xc869c4;let _0x70c73c=(_0x5ddde1?this[_0x160931(0x697)](_0x5ddde1):this[_0x160931(0x52a)]?.[_0x160931(0x17c)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x160931(0x246)]['verbose'](this[_0x160931(0x77a)]+'\x20('+this[_0x160931(0x801)]['wuid']+_0x160931(0x7eb)+_0x70c73c);let _0x3d8172=await this[_0x160931(0x77f)][_0x160931(0x1ac)][_0x160931(0x4d6)]({'where':{'_id':_0x70c73c}},this[_0x160931(0x801)][_0x160931(0x69a)]),_0x608592=_0x3d8172?_0x3d8172[_0x160931(0x576)]:null;try{let _0x400a24=(await this[_0x160931(0x23f)]({'numbers':[_0x70c73c]}))?.[_0x160931(0x203)](),_0x5580c5=(await this['findAndUpdateCacheContact'](_0x70c73c,null,!0x1))[_0x160931(0x6ef)][_0x160931(0xfd)],_0x29d7f3=await this[_0x160931(0x44e)](_0x400a24?.[_0x160931(0x724)]),_0x136e47=await this[_0x160931(0x4da)](_0x400a24?.['jid']),_0x41b3f3=(await this[_0x160931(0x638)](_0x70c73c,null,!0x1))[_0x160931(0x6ef)][_0x160931(0x15e)],_0x1ae0ce=await this[_0x160931(0x77f)][_0x160931(0x6f8)]['findOne']({'where':{'_id':_0x70c73c}},this['instance'][_0x160931(0x69a)]),_0x3a8524={'imagechat':_0x5580c5,'contactname':_0x608592||null,'pushName':_0x41b3f3,'status':_0x29d7f3?.[_0x160931(0x202)],'isBusiness':_0x136e47[_0x160931(0x31e)],'email':_0x136e47?.['email'],'description':_0x136e47?.[_0x160931(0x22c)],'website':_0x136e47?.[_0x160931(0x4a5)]?.[_0x160931(0x203)](),'lastcache':Date['now'](),'imported':!_0x1ae0ce},_0x22d285=await this[_0x160931(0x77f)][_0x160931(0x6f8)]['updateOne']({'where':{'_id':_0x70c73c}},_0x3a8524,this[_0x160931(0x801)][_0x160931(0x69a)]),_0x56324e={'owner':this['instance'][_0x160931(0x69a)],'_id':_0x70c73c,'profilePictureUrl':_0x5580c5,'status':_0x29d7f3?.[_0x160931(0x202)]};return this[_0x160931(0x77f)][_0x160931(0x1ac)][_0x160931(0x6cc)]([_0x56324e],this[_0x160931(0x801)][_0x160931(0x69a)]),_0x22d285&&F(this[_0x160931(0x77a)],'chats',{'chat':_0x22d285}),{'wuid':_0x400a24?.[_0x160931(0x724)]||_0x70c73c,'name':_0x400a24?.[_0x160931(0x15e)],'pushName':_0x41b3f3,'numberExists':_0x400a24?.[_0x160931(0x177)],'picture':_0x5580c5,'status':_0x29d7f3?.['status'],'isBusiness':_0x136e47['isBusiness'],'email':_0x136e47?.['email'],'description':_0x136e47?.[_0x160931(0x22c)],'website':_0x136e47?.['website']?.[_0x160931(0x203)]()};}catch(_0x221f8f){return this[_0x160931(0x246)][_0x160931(0x3d2)](_0x160931(0x691)+(_0x221f8f instanceof Error?_0x221f8f[_0x160931(0x5ad)]:JSON[_0x160931(0x563)](_0x221f8f,null,0x2))),{};}}async[a0_0xc869c4(0x4da)](_0x2a210d){const _0x5e1b0f=a0_0xc869c4;this[_0x5e1b0f(0x246)]['verbose'](this[_0x5e1b0f(0x77a)]+'\x20('+this[_0x5e1b0f(0x801)]['wuid']+_0x5e1b0f(0x80e));try{let _0x496924=_0x2a210d?this['createJid'](_0x2a210d):this[_0x5e1b0f(0x801)][_0x5e1b0f(0x69a)],_0x33d896=await this[_0x5e1b0f(0x52a)][_0x5e1b0f(0x434)](_0x496924);return this[_0x5e1b0f(0x246)][_0x5e1b0f(0x5a1)](this[_0x5e1b0f(0x77a)]+'\x20('+this['instance'][_0x5e1b0f(0x69a)]+_0x5e1b0f(0x332)),_0x33d896?(this[_0x5e1b0f(0x246)][_0x5e1b0f(0x5a1)](this[_0x5e1b0f(0x77a)]+'\x20('+this[_0x5e1b0f(0x801)]['wuid']+_0x5e1b0f(0x46d)),{'isBusiness':!0x0,..._0x33d896}):{'isBusiness':!0x1,'message':_0x5e1b0f(0x1bd),...(await this[_0x5e1b0f(0x23f)]({'numbers':[_0x496924]}))?.['shift']()};}catch(_0x3d7eef){let _0xe76e26='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x13f679=_0x3d7eef instanceof Error?_0x3d7eef[_0x5e1b0f(0x5ad)]:typeof _0x3d7eef==_0x5e1b0f(0xfe)?JSON[_0x5e1b0f(0x563)](_0x3d7eef):_0x3d7eef,_0x357408=_0xe76e26+':\x20'+_0x13f679;throw this[_0x5e1b0f(0x246)][_0x5e1b0f(0x3d2)](this[_0x5e1b0f(0x77a)]+'\x20('+this['instance'][_0x5e1b0f(0x69a)]+_0x5e1b0f(0x6fe)+_0x357408),new x(_0x357408);}}async[a0_0xc869c4(0x44e)](_0x2f561a){const _0x421a2d=a0_0xc869c4;let _0xdf2722=this[_0x421a2d(0x697)](_0x2f561a);try{return{'wuid':_0xdf2722,'status':(await this[_0x421a2d(0x52a)][_0x421a2d(0x510)](_0xdf2722))[0x0]?.[_0x421a2d(0x202)]};}catch{return{'wuid':_0xdf2722,'status':null};}}async['updateProfileName'](_0x51cce4){const _0x325eab=a0_0xc869c4;try{return await this[_0x325eab(0x52a)]['updateProfileName'](_0x51cce4),{'update':_0x325eab(0x47b)};}catch(_0x95874d){let _0x1ef870=_0x325eab(0x5e9),_0x578521=_0x95874d instanceof Error?_0x95874d[_0x325eab(0x5ad)]:typeof _0x95874d=='object'?JSON['stringify'](_0x95874d):_0x95874d,_0x2b50a4=_0x1ef870+':\x20'+_0x578521;throw this[_0x325eab(0x246)][_0x325eab(0x3d2)](this[_0x325eab(0x77a)]+'\x20('+this[_0x325eab(0x801)][_0x325eab(0x69a)]+_0x325eab(0x6fe)+_0x2b50a4),new x(_0x2b50a4);}}async[a0_0xc869c4(0x3ec)](_0x369e35){const _0x4333e5=a0_0xc869c4;try{return await this[_0x4333e5(0x52a)][_0x4333e5(0x3ec)](_0x369e35),{'update':_0x4333e5(0x47b)};}catch(_0x4fcd33){let _0x453081=_0x4333e5(0x3be),_0x9682f7=_0x4fcd33 instanceof Error?_0x4fcd33['message']:typeof _0x4fcd33==_0x4333e5(0xfe)?JSON[_0x4333e5(0x563)](_0x4fcd33):_0x4fcd33,_0x520c69=_0x453081+':\x20'+_0x9682f7;throw this[_0x4333e5(0x246)][_0x4333e5(0x3d2)](this[_0x4333e5(0x77a)]+'\x20('+this['instance'][_0x4333e5(0x69a)]+_0x4333e5(0x6fe)+_0x520c69),new x(_0x520c69);}}async[a0_0xc869c4(0x58d)](_0xbe66dd){const _0x2f7991=a0_0xc869c4;try{let _0x1124ce;if((0x0,J[_0x2f7991(0x3a8)])(_0xbe66dd)){let _0x17b76d=new Date()[_0x2f7991(0x1f9)](),_0x5aae9c=_0xbe66dd+_0x2f7991(0xd3)+_0x17b76d;_0x1124ce=(await K['default']['get'](_0x5aae9c,{'responseType':_0x2f7991(0x43c)}))[_0x2f7991(0x3df)];}else{if((0x0,J[_0x2f7991(0x731)])(_0xbe66dd))_0x1124ce=Buffer[_0x2f7991(0x1be)](_0xbe66dd,_0x2f7991(0x7c0));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x2f7991(0x52a)][_0x2f7991(0x58d)](this[_0x2f7991(0x801)]['wuid'],_0x1124ce),{'update':_0x2f7991(0x47b)};}catch(_0xb07ed9){let _0x56565a=_0x2f7991(0x29d),_0x46b126=_0xb07ed9 instanceof Error?_0xb07ed9[_0x2f7991(0x5ad)]:typeof _0xb07ed9==_0x2f7991(0xfe)?JSON['stringify'](_0xb07ed9):_0xb07ed9,_0x56eff7=_0x56565a+':\x20'+_0x46b126;throw this[_0x2f7991(0x246)][_0x2f7991(0x3d2)](this[_0x2f7991(0x77a)]+'\x20('+this[_0x2f7991(0x801)]['wuid']+_0x2f7991(0x6fe)+_0x56eff7),new x(_0x56eff7);}}async[a0_0xc869c4(0xe1)](){const _0x333e48=a0_0xc869c4;try{return await this['client'][_0x333e48(0xe1)](this[_0x333e48(0x801)]['wuid']),{'update':_0x333e48(0x47b)};}catch(_0x2b24b7){let _0xd45577=_0x333e48(0x6a1),_0x243c05=_0x2b24b7 instanceof Error?_0x2b24b7[_0x333e48(0x5ad)]:typeof _0x2b24b7==_0x333e48(0xfe)?JSON[_0x333e48(0x563)](_0x2b24b7):_0x2b24b7,_0x3ff9aa=_0xd45577+':\x20'+_0x243c05;throw this[_0x333e48(0x246)][_0x333e48(0x3d2)](this[_0x333e48(0x77a)]+'\x20('+this[_0x333e48(0x801)][_0x333e48(0x69a)]+'):\x20'+_0x3ff9aa),new x(_0x3ff9aa);}}async[a0_0xc869c4(0x1c3)](_0x23a0bb){const _0x171b19=a0_0xc869c4;try{let _0x3ecf13=(await this[_0x171b19(0x23f)]({'numbers':_0x23a0bb['participants']}))[_0x171b19(0x314)](_0x39f881=>_0x39f881[_0x171b19(0x177)])['map'](_0x589bfe=>_0x589bfe[_0x171b19(0x724)]),{id:_0x4a88d2}=await this['client'][_0x171b19(0x1bf)](_0x23a0bb[_0x171b19(0x5aa)],_0x3ecf13);_0x23a0bb?.[_0x171b19(0x22c)]&&await this[_0x171b19(0x52a)][_0x171b19(0x786)](_0x4a88d2,_0x23a0bb[_0x171b19(0x22c)]);let _0x48c4c5=await this['client'][_0x171b19(0x3dd)](_0x4a88d2);return _0x48c4c5[_0x171b19(0x65b)]=[],await this[_0x171b19(0x237)](_0x48c4c5),{'metadata':_0x48c4c5};}catch(_0x13fb11){let _0x17d25e=_0x171b19(0x279),_0x24febb=_0x13fb11 instanceof Error?_0x13fb11[_0x171b19(0x5ad)]:typeof _0x13fb11==_0x171b19(0xfe)?JSON['stringify'](_0x13fb11):_0x13fb11,_0x1dd3eb=_0x17d25e+':\x20'+_0x24febb;throw this[_0x171b19(0x246)]['error'](this[_0x171b19(0x77a)]+'\x20('+this[_0x171b19(0x801)]['wuid']+_0x171b19(0x6fe)+_0x1dd3eb),new x(_0x1dd3eb);}}async[a0_0xc869c4(0x85b)](_0x41a029){const _0x12c178=a0_0xc869c4;try{if(_0x41a029['restrict']===!0x0&&await this[_0x12c178(0x52a)][_0x12c178(0x851)](_0x41a029[_0x12c178(0x266)],_0x12c178(0x3f5)),_0x41a029[_0x12c178(0x57c)]===!0x1&&await this[_0x12c178(0x52a)][_0x12c178(0x851)](_0x41a029[_0x12c178(0x266)],_0x12c178(0x1a1)),_0x41a029[_0x12c178(0xe4)]===!0x0&&await this[_0x12c178(0x52a)][_0x12c178(0x851)](_0x41a029[_0x12c178(0x266)],_0x12c178(0x45c)),_0x41a029[_0x12c178(0xe4)]===!0x1&&await this['client']['groupSettingUpdate'](_0x41a029[_0x12c178(0x266)],_0x12c178(0x69f)),_0x41a029[_0x12c178(0x2d5)]===!0x0&&await this[_0x12c178(0x52a)][_0x12c178(0x3ef)](_0x41a029[_0x12c178(0x266)],_0x12c178(0x6bd)),_0x41a029[_0x12c178(0x2d5)]===!0x1&&await this[_0x12c178(0x52a)][_0x12c178(0x3ef)](_0x41a029[_0x12c178(0x266)],'admin_add'),_0x41a029[_0x12c178(0xda)]===!0x0&&await this[_0x12c178(0x52a)][_0x12c178(0x2a5)](_0x41a029[_0x12c178(0x266)],'on'),_0x41a029[_0x12c178(0xda)]===!0x1&&await this[_0x12c178(0x52a)]['groupJoinApprovalMode'](_0x41a029['groupJid'],_0x12c178(0x152)),typeof _0x41a029['expiration']<'u'&&_0x41a029[_0x12c178(0x38d)]!==null&&await this[_0x12c178(0x52a)][_0x12c178(0x27f)](_0x41a029['groupJid'],_0x41a029[_0x12c178(0x38d)]),_0x41a029[_0x12c178(0x15e)]&&await this[_0x12c178(0x52a)][_0x12c178(0x5fe)](_0x41a029[_0x12c178(0x266)],_0x41a029[_0x12c178(0x15e)]),_0x41a029[_0x12c178(0x22c)]&&await this[_0x12c178(0x52a)][_0x12c178(0x786)](_0x41a029[_0x12c178(0x266)],_0x41a029[_0x12c178(0x22c)]),_0x41a029['image']){let _0x191fd7;if((0x0,J[_0x12c178(0x3a8)])(_0x41a029[_0x12c178(0x37e)])){let _0x1b662f=new Date()[_0x12c178(0x1f9)](),_0x5322f8=_0x41a029[_0x12c178(0x37e)]+_0x12c178(0xd3)+_0x1b662f;_0x191fd7=(await K['default'][_0x12c178(0x1d4)](_0x5322f8,{'responseType':_0x12c178(0x43c)}))[_0x12c178(0x3df)];}else{if((0x0,J['isBase64'])(_0x41a029[_0x12c178(0x37e)]))_0x191fd7=Buffer[_0x12c178(0x1be)](_0x41a029[_0x12c178(0x37e)],_0x12c178(0x7c0));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x12c178(0x52a)][_0x12c178(0x58d)](_0x41a029[_0x12c178(0x266)],_0x191fd7);}return await this[_0x12c178(0x3b4)]({'groupJid':_0x41a029[_0x12c178(0x266)]});}catch(_0x46b5db){let _0x5a7a36=_0x12c178(0x4a6),_0xff00e5=_0x46b5db instanceof Error?_0x46b5db[_0x12c178(0x5ad)]:typeof _0x46b5db==_0x12c178(0xfe)?JSON[_0x12c178(0x563)](_0x46b5db):_0x46b5db,_0xdfe71b=_0x5a7a36+':\x20'+_0xff00e5;throw this['logger'][_0x12c178(0x3d2)](this['instanceName']+'\x20('+this[_0x12c178(0x801)][_0x12c178(0x69a)]+_0x12c178(0x6fe)+_0xdfe71b),new x(_0xdfe71b);}}async['updateGParticipant'](_0x5e30ea){const _0x57f2f5=a0_0xc869c4;try{let _0x43a0c0=_0x5e30ea[_0x57f2f5(0xd0)][_0x57f2f5(0x474)](_0x5cceb5=>this[_0x57f2f5(0x697)](_0x5cceb5));if(_0x5e30ea[_0x57f2f5(0x153)]==='approve'||_0x5e30ea['action']==='reject')await this[_0x57f2f5(0x52a)][_0x57f2f5(0x12c)](_0x5e30ea['groupJid'],_0x43a0c0,_0x5e30ea[_0x57f2f5(0x153)]);else{if(_0x5e30ea[_0x57f2f5(0x153)]===_0x57f2f5(0x346)){let _0x13fdbe=(await this[_0x57f2f5(0x23f)]({'numbers':_0x5e30ea[_0x57f2f5(0xd0)]}))['filter'](_0x572730=>_0x572730['exists'])['map'](_0x24afe1=>this['createJid'](_0x24afe1[_0x57f2f5(0x724)]));if(_0x13fdbe[_0x57f2f5(0x4c6)]===0x0)throw new m(_0x57f2f5(0x1cf));await this[_0x57f2f5(0x52a)][_0x57f2f5(0x653)](_0x5e30ea[_0x57f2f5(0x266)],_0x13fdbe,_0x57f2f5(0x346));}else await this['client'][_0x57f2f5(0x653)](_0x5e30ea[_0x57f2f5(0x266)],_0x43a0c0,_0x5e30ea[_0x57f2f5(0x153)]);}return await this[_0x57f2f5(0x3b4)]({'groupJid':_0x5e30ea[_0x57f2f5(0x266)]});}catch(_0x2577c7){let _0x1f808b=_0x57f2f5(0x3aa),_0x104190=_0x2577c7 instanceof Error?_0x2577c7[_0x57f2f5(0x5ad)]:typeof _0x2577c7==_0x57f2f5(0xfe)?JSON[_0x57f2f5(0x563)](_0x2577c7):_0x2577c7,_0x426165=_0x1f808b+':\x20'+_0x104190;throw this[_0x57f2f5(0x246)][_0x57f2f5(0x3d2)](this[_0x57f2f5(0x77a)]+'\x20('+this[_0x57f2f5(0x801)]['wuid']+_0x57f2f5(0x6fe)+_0x426165),new m(_0x426165);}}async['groupGetInviteInfo'](_0x831e2b){const _0x53557a=a0_0xc869c4;try{return await this['client'][_0x53557a(0xf4)](_0x831e2b[_0x53557a(0x5af)]);}catch(_0xba9ab5){let _0x48a025=_0x53557a(0x4db),_0x4db836=_0xba9ab5 instanceof Error?_0xba9ab5['message']:typeof _0xba9ab5==_0x53557a(0xfe)?JSON[_0x53557a(0x563)](_0xba9ab5):_0xba9ab5,_0x401e42=_0x48a025+':\x20'+_0x4db836;throw this[_0x53557a(0x246)][_0x53557a(0x3d2)](this[_0x53557a(0x77a)]+'\x20('+this[_0x53557a(0x801)][_0x53557a(0x69a)]+_0x53557a(0x6fe)+_0x401e42),new m(_0x401e42);}}async[a0_0xc869c4(0x3b4)](_0xc5426b,_0x3ab71a=a0_0xc869c4(0x521)){const _0x4dcdef=a0_0xc869c4;try{let _0x9af2d0=await this[_0x4dcdef(0x77f)][_0x4dcdef(0x6f8)]['findOne']({'where':{'_id':_0xc5426b['groupJid']}},this[_0x4dcdef(0x801)][_0x4dcdef(0x69a)]),_0x134593=_0x9af2d0?_0x9af2d0[_0x4dcdef(0x18b)]:null,_0x45a651=0x18*0x3c*0x3c*0x3e8;if(!_0x134593||_0x134593['lastUpdate']&&Date[_0x4dcdef(0x574)]()-_0x134593['lastUpdate']>_0x45a651){let _0x308c3d=await this['client'][_0x4dcdef(0x3dd)](_0xc5426b['groupJid']);if(_0x308c3d[_0x4dcdef(0x371)]=_0x308c3d?.[_0x4dcdef(0x371)]&&_0x308c3d[_0x4dcdef(0x371)][_0x4dcdef(0x806)]()['length']<0xd?_0x308c3d?.['subjectTime']*0x3e8:_0x308c3d?.[_0x4dcdef(0x371)]||null,_0x308c3d['creation']=_0x308c3d?.['creation']&&_0x308c3d['creation'][_0x4dcdef(0x806)]()[_0x4dcdef(0x4c6)]<0xd?_0x308c3d?.[_0x4dcdef(0x4a3)]*0x3e8:_0x308c3d?.[_0x4dcdef(0x4a3)]||null,_0x134593={..._0x308c3d,'lastUpdate':Date[_0x4dcdef(0x574)]()},!_0x308c3d)return;}let _0x32cff4=_0x134593['participants']?.[_0x4dcdef(0x1cc)](_0x19b03a=>_0x19b03a['id']===this[_0x4dcdef(0x801)][_0x4dcdef(0x69a)]+_0x4dcdef(0x457)&&_0x19b03a[_0x4dcdef(0x261)]!=null)||!0x1;!_0x134593[_0x4dcdef(0x5af)]&&_0x32cff4&&(_0x134593['inviteCode']=(await this[_0x4dcdef(0x5af)](_0xc5426b,!0x1))['inviteUrl']);let _0x1ab7f9=(!_0x134593[_0x4dcdef(0xe4)]||_0x32cff4)&&(!_0x134593['isCommunity']||_0x32cff4);_0x134593[_0x4dcdef(0x1ff)]=_0x32cff4,_0x134593[_0x4dcdef(0x4cf)]=_0x1ab7f9;let _0x4ee563=[];if(_0x32cff4&&_0x134593[_0x4dcdef(0xda)])try{_0x4ee563=await this['client']['groupRequestParticipantsList'](_0xc5426b['groupJid']),_0x134593[_0x4dcdef(0x494)]=Date[_0x4dcdef(0x574)]();}catch(_0x1e20e8){this[_0x4dcdef(0x246)]['verbose'](this[_0x4dcdef(0x77a)]+'\x20('+this['instance'][_0x4dcdef(0x69a)]+_0x4dcdef(0x439)+_0xc5426b[_0x4dcdef(0x266)]+':\x20'+(_0x1e20e8 instanceof Error?_0x1e20e8[_0x4dcdef(0x5ad)]:JSON[_0x4dcdef(0x563)](_0x1e20e8,null,0x2)));}try{_0x134593[_0x4dcdef(0x37e)]=(await this['findAndUpdateCacheContact'](_0xc5426b[_0x4dcdef(0x266)],null,!0x0))['cachedContact'][_0x4dcdef(0xfd)];}catch(_0x33564c){this['logger'][_0x4dcdef(0x5a1)](this[_0x4dcdef(0x77a)]+'\x20('+this[_0x4dcdef(0x801)]['wuid']+_0x4dcdef(0x241)+_0xc5426b[_0x4dcdef(0x266)]+':\x20'+(_0x33564c instanceof Error?_0x33564c['message']:JSON[_0x4dcdef(0x563)](_0x33564c,null,0x2)));}let _0x326520=_0x134593[_0x4dcdef(0xd0)][_0x4dcdef(0x474)](_0x2d81b5=>_0x2d81b5['id']),_0x45290a=_0x4ee563[_0x4dcdef(0x474)](_0x19f630=>_0x19f630[_0x4dcdef(0x724)]),_0x2a71a3=await this[_0x4dcdef(0x77f)][_0x4dcdef(0x5b6)][_0x4dcdef(0x4b6)]([..._0x326520,..._0x45290a]);_0x134593['participants']=_0x134593['participants'][_0x4dcdef(0x474)](_0x360bfb=>{const _0x45bab5=_0x4dcdef;let _0x4dcfce=_0x2a71a3[_0x45bab5(0x194)](_0x48eaf2=>_0x48eaf2[_0x45bab5(0x59b)]===_0x360bfb['id']);return{'id':_0x360bfb['id'],'isAdmin':[_0x45bab5(0x261),_0x45bab5(0x7bc)]['includes'](_0x360bfb[_0x45bab5(0x261)]),'admin':_0x360bfb[_0x45bab5(0x261)],'pushName':_0x4dcfce?.[_0x45bab5(0x15e)],'profilePictureUrl':_0x4dcfce?.[_0x45bab5(0xfd)]};}),_0x134593[_0x4dcdef(0x65b)]=_0x4ee563['map'](_0x387f62=>{const _0x59f956=_0x4dcdef;let _0x497fd9=_0x2a71a3[_0x59f956(0x194)](_0x21e77c=>_0x21e77c[_0x59f956(0x59b)]===_0x387f62[_0x59f956(0x724)]);return{'id':_0x387f62[_0x59f956(0x724)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x497fd9?.['name'],'profilePictureUrl':_0x497fd9?.[_0x59f956(0xfd)],'request_method':_0x387f62[_0x59f956(0x56e)],'request_time':_0x387f62['request_time']};});let _0x2c779d=await this[_0x4dcdef(0x77f)][_0x4dcdef(0x6f8)][_0x4dcdef(0x2a2)]({'where':{'_id':_0xc5426b[_0x4dcdef(0x266)]}},{'imagechat':_0x134593[_0x4dcdef(0x37e)],'name':_0x134593[_0x4dcdef(0x5aa)],'lastcache':Date[_0x4dcdef(0x574)](),'groupdata':_0x134593},this['instance'][_0x4dcdef(0x69a)]);return F(this['instanceName'],'chats',{'chat':_0x2c779d}),{'metadata':_0x134593};}catch(_0x7edef8){if(_0x3ab71a==='inner')return;throw new U('Error\x20fetching\x20group',_0x7edef8[_0x4dcdef(0x5ad)][_0x4dcdef(0x806)]());}}async['findGroups'](){const _0xfd4745=a0_0xc869c4;try{this[_0xfd4745(0x246)][_0xfd4745(0x7b4)](_0xfd4745(0x719));let _0x1f34b9=Date[_0xfd4745(0x574)](),_0x39693e=0x3*0x3c*0x3c*0x3e8;return _0x1f34b9-this[_0xfd4745(0x137)]>_0x39693e&&(this[_0xfd4745(0x281)](),this[_0xfd4745(0x137)]=_0x1f34b9),(await this[_0xfd4745(0x77f)][_0xfd4745(0x6f8)][_0xfd4745(0x274)]({'where':{'group':!0x0}},this[_0xfd4745(0x801)][_0xfd4745(0x69a)]))['map'](_0x31297d=>({..._0x31297d[_0xfd4745(0x18b)],'groupJid':_0x31297d?.[_0xfd4745(0x59b)],'participants':_0x31297d?.['groupdata']?.['participants']||[],'awaitingApproval':_0x31297d?.[_0xfd4745(0x18b)]?.[_0xfd4745(0x65b)]||[],'image':_0x31297d?.['imagechat']}));}catch(_0x384c7c){let _0x215d31=_0xfd4745(0x100),_0x2dca1e=_0x384c7c instanceof Error?_0x384c7c[_0xfd4745(0x5ad)]:typeof _0x384c7c==_0xfd4745(0xfe)?JSON[_0xfd4745(0x563)](_0x384c7c):_0x384c7c,_0x2fbcca=_0x215d31+':\x20'+_0x2dca1e;throw this[_0xfd4745(0x246)][_0xfd4745(0x3d2)](this[_0xfd4745(0x77a)]+'\x20('+this['instance'][_0xfd4745(0x69a)]+'):\x20'+_0x2fbcca),new U(_0x2fbcca);}}async[a0_0xc869c4(0x281)](){const _0x587593=a0_0xc869c4;try{this[_0x587593(0x246)][_0x587593(0x7b4)]('Retornando\x20grupos\x20SEM\x20cache');let _0x21a20c=[],_0x1729b7=await this[_0x587593(0x52a)]['groupFetchAllParticipating'](),_0x36803d=Object[_0x587593(0x37b)](_0x1729b7);for(let _0x2d3585=0x0;_0x2d3585<_0x36803d[_0x587593(0x4c6)];_0x2d3585++){let _0x4dd2be=_0x36803d[_0x2d3585];(0x0,w[_0x587593(0x735)])(_0x4dd2be?.['id'])&&(_0x21a20c[_0x587593(0x14c)]({'groupJid':_0x4dd2be?.['id'],'subject':_0x4dd2be?.[_0x587593(0x5aa)],'subjectOwner':_0x4dd2be?.[_0x587593(0x818)]?.['split']('@')[0x0],'subjectTime':_0x4dd2be?.[_0x587593(0x371)],'creation':_0x4dd2be?.[_0x587593(0x4a3)],'size':_0x4dd2be?.['participants']?.[_0x587593(0x4c6)],'owner':_0x4dd2be?.[_0x587593(0x436)]?.['split']('@')[0x0],'desc':_0x4dd2be?.[_0x587593(0x273)],'restrict':_0x4dd2be?.[_0x587593(0x57c)],'announce':_0x4dd2be?.['announce'],'image':null,'isCommunity':_0x4dd2be?.['isCommunity'],'joinApprovalMode':_0x4dd2be?.[_0x587593(0xda)],'memberCanAddParticipant':_0x4dd2be?.[_0x587593(0x2d5)],'participants':_0x4dd2be?.[_0x587593(0xd0)],'descOwner':_0x4dd2be?.[_0x587593(0x566)],'descId':_0x4dd2be?.[_0x587593(0x440)],'memberAddMode':_0x4dd2be?.[_0x587593(0x2d5)],'isCommunityAnnounce':_0x4dd2be?.[_0x587593(0x5e2)],'ephemeralDuration':_0x4dd2be?.[_0x587593(0x10f)]||0x0,'author':_0x4dd2be?.[_0x587593(0x16d)]}),this[_0x587593(0x237)](_0x36803d[_0x2d3585]));}return _0x21a20c;}catch(_0x25966f){let _0x2f37ff='Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups',_0x2534ba=_0x25966f instanceof Error?_0x25966f[_0x587593(0x5ad)]:typeof _0x25966f==_0x587593(0xfe)?JSON['stringify'](_0x25966f):_0x25966f,_0x19aed7=_0x2f37ff+':\x20'+_0x2534ba;throw this[_0x587593(0x246)][_0x587593(0x3d2)](this['instanceName']+'\x20('+this[_0x587593(0x801)]['wuid']+_0x587593(0x6fe)+_0x19aed7),new U(_0x19aed7);}}async[a0_0xc869c4(0x237)](_0x3315c8){const _0x54d12b=a0_0xc869c4;let _0x117432=await this[_0x54d12b(0x77f)][_0x54d12b(0x6f8)]['findOne']({'where':{'_id':_0x3315c8['id']}},this[_0x54d12b(0x801)][_0x54d12b(0x69a)]);if(_0x3315c8[_0x54d12b(0x371)]=_0x3315c8?.[_0x54d12b(0x371)]&&_0x3315c8[_0x54d12b(0x371)][_0x54d12b(0x806)]()[_0x54d12b(0x4c6)]<0xd?_0x3315c8?.[_0x54d12b(0x371)]*0x3e8:_0x3315c8?.['subjectTime']||null,_0x3315c8[_0x54d12b(0x4a3)]=_0x3315c8?.[_0x54d12b(0x4a3)]&&_0x3315c8[_0x54d12b(0x4a3)][_0x54d12b(0x806)]()[_0x54d12b(0x4c6)]<0xd?_0x3315c8?.[_0x54d12b(0x4a3)]*0x3e8:_0x3315c8?.['creation']||null,!_0x3315c8[_0x54d12b(0x37e)])try{_0x3315c8[_0x54d12b(0x37e)]=await this[_0x54d12b(0x52a)][_0x54d12b(0x528)](_0x3315c8['id'],_0x54d12b(0x85e));}catch(_0x264538){this['logger'][_0x54d12b(0x5a1)](this['instanceName']+'\x20('+this[_0x54d12b(0x801)][_0x54d12b(0x69a)]+_0x54d12b(0x241)+_0x3315c8['id']+':\x20'+(_0x264538 instanceof Error?_0x264538['message']:JSON[_0x54d12b(0x563)](_0x264538,null,0x2)));}let _0x5d49c5=_0x3315c8['participants'][_0x54d12b(0x474)](_0x489f86=>{const _0x24cf7f=_0x54d12b;let _0x257611=_0x117432?.['groupdata']?.[_0x24cf7f(0xd0)][_0x24cf7f(0x194)](_0x2c648b=>_0x2c648b['id']===_0x489f86['id']);return{..._0x489f86,'isAdmin':['admin',_0x24cf7f(0x7bc)]['includes'](_0x489f86[_0x24cf7f(0x261)]),'admin':_0x489f86[_0x24cf7f(0x261)],'name':_0x257611?.[_0x24cf7f(0x15e)]||_0x489f86[_0x24cf7f(0x15e)],'imgUrl':_0x257611?.[_0x24cf7f(0x53d)]||_0x489f86[_0x24cf7f(0x53d)]};}),_0x957730=_0x5d49c5[_0x54d12b(0x1cc)](_0x15f97b=>_0x15f97b['id']===this[_0x54d12b(0x801)][_0x54d12b(0x69a)]+'@s.whatsapp.net'&&_0x15f97b['admin']!=null)||!0x1,_0x214c67=(!_0x3315c8[_0x54d12b(0xe4)]||_0x957730)&&(!_0x3315c8[_0x54d12b(0x7d7)]||_0x957730),_0x35cddb={..._0x3315c8,'participants':_0x5d49c5,'awaitingApproval':_0x117432?.[_0x54d12b(0x18b)]?.[_0x54d12b(0x65b)]||[],'lastFetchAwaitingApproval':_0x117432?.[_0x54d12b(0x18b)]?.[_0x54d12b(0x494)],'isAdmin':_0x957730,'canSendMessage':_0x214c67,'lastUpdate':Date[_0x54d12b(0x574)]()};await this['repository'][_0x54d12b(0x6f8)]['updateOne']({'where':{'_id':_0x3315c8['id']}},{'imagechat':_0x3315c8[_0x54d12b(0x37e)],'name':_0x3315c8[_0x54d12b(0x5aa)],'group':!0x0,'groupdata':_0x35cddb,'lastcache':Date[_0x54d12b(0x574)]()},this[_0x54d12b(0x801)]['wuid']),F(this[_0x54d12b(0x77a)],_0x54d12b(0x856),{'chat':_0x3315c8});}async[a0_0xc869c4(0x6e0)](_0x1da8bc){const _0x39e760=a0_0xc869c4;let _0x36e157=await this[_0x39e760(0x77f)][_0x39e760(0x6f8)]['findOne']({'where':{'_id':_0x1da8bc['id']}},this[_0x39e760(0x801)][_0x39e760(0x69a)]);_0x1da8bc[_0x39e760(0x371)]=_0x1da8bc?.['subjectTime']&&_0x1da8bc[_0x39e760(0x371)][_0x39e760(0x806)]()[_0x39e760(0x4c6)]<0xd?_0x1da8bc?.[_0x39e760(0x371)]*0x3e8:_0x1da8bc?.['subjectTime']||null,_0x1da8bc[_0x39e760(0x4a3)]=_0x1da8bc?.[_0x39e760(0x4a3)]&&_0x1da8bc[_0x39e760(0x4a3)][_0x39e760(0x806)]()[_0x39e760(0x4c6)]<0xd?_0x1da8bc?.['creation']*0x3e8:_0x1da8bc?.[_0x39e760(0x4a3)]||null,_0x1da8bc[_0x39e760(0x5af)]&&(_0x1da8bc[_0x39e760(0x5af)]=_0x39e760(0x1f3)+_0x1da8bc[_0x39e760(0x5af)]);let _0x53ab79=_0x36e157?.[_0x39e760(0x18b)]?{..._0x36e157[_0x39e760(0x18b)]}:{};Object[_0x39e760(0x239)](_0x1da8bc)[_0x39e760(0x64a)](_0x11aec0=>{_0x11aec0!=='id'&&(_0x53ab79[_0x11aec0]=_0x1da8bc[_0x11aec0]);});let _0x525e2e=_0x53ab79[_0x39e760(0xd0)]?.[_0x39e760(0x1cc)](_0x3ebfec=>_0x3ebfec['id']===this[_0x39e760(0x801)][_0x39e760(0x69a)]+_0x39e760(0x457)&&_0x3ebfec[_0x39e760(0x261)]!=null)||!0x1;_0x53ab79[_0x39e760(0x1ff)]=_0x525e2e;let _0x5df7f0=(!_0x53ab79[_0x39e760(0xe4)]||_0x525e2e)&&(!_0x53ab79['isCommunity']||_0x525e2e);_0x53ab79[_0x39e760(0x4cf)]=_0x5df7f0;let _0x416958={'group':!0x0,'groupdata':_0x53ab79};_0x1da8bc['subject']&&(_0x416958[_0x39e760(0x15e)]=_0x1da8bc[_0x39e760(0x5aa)]),await this[_0x39e760(0x77f)][_0x39e760(0x6f8)][_0x39e760(0x2a2)]({'where':{'_id':_0x1da8bc['id']}},_0x416958,this[_0x39e760(0x801)][_0x39e760(0x69a)],{'upsert':!0x0}),F(this[_0x39e760(0x77a)],_0x39e760(0x856),{'chat':_0x416958});}async[a0_0xc869c4(0x209)](_0x22534b){const _0x32e3f9=a0_0xc869c4;let _0x2dd859=await this['repository'][_0x32e3f9(0x6f8)][_0x32e3f9(0x4d6)]({'where':{'_id':_0x22534b['id']}},this[_0x32e3f9(0x801)][_0x32e3f9(0x69a)]);if(!_0x2dd859||!_0x2dd859[_0x32e3f9(0x18b)]){this[_0x32e3f9(0x246)]['info'](this[_0x32e3f9(0x77a)]+'\x20('+this[_0x32e3f9(0x801)]['wuid']+_0x32e3f9(0x5be)+_0x22534b['id']);return;}let _0x528180=await this[_0x32e3f9(0x77f)]['cacheContact']['findManyByIds'](_0x22534b[_0x32e3f9(0xd0)]),_0x5ede49=[..._0x2dd859[_0x32e3f9(0x18b)]?.[_0x32e3f9(0xd0)]];switch(_0x22534b[_0x32e3f9(0x153)]){case _0x32e3f9(0x346):_0x528180[_0x32e3f9(0x474)](_0x2b1a67=>({'id':_0x2b1a67[_0x32e3f9(0x59b)],'isAdmin':!0x1,'name':_0x2b1a67[_0x32e3f9(0x15e)],'imgUrl':_0x2b1a67[_0x32e3f9(0xfd)]}))[_0x32e3f9(0x64a)](_0x1a0efc=>{const _0x2e73e1=_0x32e3f9;_0x5ede49[_0x2e73e1(0x1cc)](_0x4ba4e6=>_0x4ba4e6['id']===_0x1a0efc['id'])||(_0x5ede49[_0x2e73e1(0x14c)](_0x1a0efc),this[_0x2e73e1(0x246)][_0x2e73e1(0x7b4)]('Adicionando\x20novo\x20participante:\x20'+JSON['stringify'](_0x1a0efc)));});break;case'remove':_0x5ede49=_0x5ede49[_0x32e3f9(0x314)](_0x1fc517=>!_0x22534b[_0x32e3f9(0xd0)][_0x32e3f9(0x49c)](_0x1fc517['id']));break;case _0x32e3f9(0x426):_0x5ede49=_0x5ede49[_0x32e3f9(0x474)](_0x3e0944=>_0x22534b[_0x32e3f9(0xd0)]['includes'](_0x3e0944['id'])?{..._0x3e0944,'isAdmin':!0x0,'admin':_0x32e3f9(0x261)}:_0x3e0944);break;case _0x32e3f9(0x4cb):_0x5ede49=_0x5ede49['map'](_0x3d03ca=>_0x22534b['participants'][_0x32e3f9(0x49c)](_0x3d03ca['id'])?{..._0x3d03ca,'isAdmin':!0x1,'admin':null}:_0x3d03ca);break;}let _0xc8e33=_0x5ede49[_0x32e3f9(0x4c6)],_0x2b3930=_0x5ede49[_0x32e3f9(0x1cc)](_0x151e26=>_0x151e26['id']===this[_0x32e3f9(0x801)][_0x32e3f9(0x69a)]+_0x32e3f9(0x457)),_0x247e98=_0x2b3930&&_0x5ede49[_0x32e3f9(0x1cc)](_0x2bdcf8=>_0x2bdcf8['id']===this[_0x32e3f9(0x801)][_0x32e3f9(0x69a)]+_0x32e3f9(0x457)&&_0x2bdcf8[_0x32e3f9(0x261)]!=null)||!0x1,_0x4c60ce=_0x2b3930&&(!_0x2dd859[_0x32e3f9(0x18b)]['announce']||_0x247e98)&&(!_0x2dd859[_0x32e3f9(0x18b)][_0x32e3f9(0x7d7)]||_0x247e98);await this[_0x32e3f9(0x77f)][_0x32e3f9(0x6f8)][_0x32e3f9(0x2a2)]({'where':{'_id':_0x22534b['id']}},{'groupdata':{..._0x2dd859[_0x32e3f9(0x18b)],'participants':_0x5ede49,'size':_0xc8e33,'isAdmin':_0x247e98,'canSendMessage':_0x4c60ce}},this['instance']['wuid']),this['logger']['info'](this[_0x32e3f9(0x77a)]+'\x20('+this['instance']['wuid']+_0x32e3f9(0x2c5)+_0x22534b['id']+_0x32e3f9(0x36b)+_0x22534b[_0x32e3f9(0x153)]+',\x20Novo\x20tamanho:\x20'+_0xc8e33+_0x32e3f9(0x33c)+_0x247e98+_0x32e3f9(0x112)+_0x4c60ce);}async['inviteCode'](_0x33a6c4,_0x3bd890=!0x0){const _0x44f2ae=a0_0xc869c4;try{let _0x57eb11=await this[_0x44f2ae(0x52a)][_0x44f2ae(0x738)](_0x33a6c4['groupJid']),_0x418223={'groupdata.inviteCode':_0x44f2ae(0x1f3)+_0x57eb11};if(_0x3bd890){let _0x17bb88=await this[_0x44f2ae(0x77f)][_0x44f2ae(0x6f8)][_0x44f2ae(0x2a2)]({'where':{'_id':_0x33a6c4['groupJid']}},_0x418223,this[_0x44f2ae(0x801)][_0x44f2ae(0x69a)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x57eb11,'inviteCode':_0x57eb11};}catch(_0x47c126){let _0x1bc44b=_0x44f2ae(0x616),_0x1eaf06=_0x47c126 instanceof Error?_0x47c126[_0x44f2ae(0x5ad)]:typeof _0x47c126=='object'?JSON[_0x44f2ae(0x563)](_0x47c126):_0x47c126,_0x1ed26c=_0x1bc44b+':\x20'+_0x1eaf06;throw this[_0x44f2ae(0x246)][_0x44f2ae(0x3d2)](this['instanceName']+'\x20('+this[_0x44f2ae(0x801)][_0x44f2ae(0x69a)]+_0x44f2ae(0x6fe)+_0x1ed26c),new U(_0x1ed26c);}}async[a0_0xc869c4(0x340)](_0x544c4e){const _0x51e280=a0_0xc869c4;try{let _0x2a31e5=await this[_0x51e280(0x52a)][_0x51e280(0x418)](_0x544c4e[_0x51e280(0x266)]);return{'revoked':!0x0,'inviteUrl':_0x51e280(0x1f3)+_0x2a31e5,'inviteCode':_0x2a31e5};}catch(_0x23661e){let _0xfd627c='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x3dd6b0=_0x23661e instanceof Error?_0x23661e[_0x51e280(0x5ad)]:typeof _0x23661e=='object'?JSON[_0x51e280(0x563)](_0x23661e):_0x23661e,_0x380085=_0xfd627c+':\x20'+_0x3dd6b0;throw this[_0x51e280(0x246)]['error'](this[_0x51e280(0x77a)]+'\x20('+this[_0x51e280(0x801)][_0x51e280(0x69a)]+'):\x20'+_0x380085),new U(_0x380085);}}async[a0_0xc869c4(0x591)](_0x39ff20){const _0x5cb71b=a0_0xc869c4;try{if((0x0,J[_0x5cb71b(0x3a8)])(_0x39ff20[_0x5cb71b(0x5af)]))var _0x9b9709=_0x39ff20[_0x5cb71b(0x5af)][_0x5cb71b(0x63b)]('/')[0x3];else var _0x9b9709=_0x39ff20[_0x5cb71b(0x5af)];let _0x37d25a=await this['client']['groupAcceptInvite'](_0x9b9709);return this[_0x5cb71b(0x246)][_0x5cb71b(0x5a1)](this['instanceName']+'\x20('+this['instance'][_0x5cb71b(0x69a)]+'):\x20'+_0x37d25a),{'join':!0x0,'inviteCode':_0x9b9709,'groupJid':_0x37d25a};}catch(_0x214f1b){let _0x203bb5=_0x5cb71b(0x6f5),_0x54e5ae=_0x214f1b instanceof Error?_0x214f1b['message']:typeof _0x214f1b==_0x5cb71b(0xfe)?JSON[_0x5cb71b(0x563)](_0x214f1b):_0x214f1b,_0x5a7c3d=_0x203bb5+':\x20'+_0x54e5ae;throw this['logger']['error'](this[_0x5cb71b(0x77a)]+'\x20('+this['instance'][_0x5cb71b(0x69a)]+_0x5cb71b(0x6fe)+_0x5a7c3d),new U(_0x5a7c3d);}}async[a0_0xc869c4(0x2a6)](_0x356146){const _0x4d3e48=a0_0xc869c4;try{return{'participants':(await this['repository'][_0x4d3e48(0x6f8)][_0x4d3e48(0x4d6)]({'where':{'_id':_0x356146['groupJid']}},this[_0x4d3e48(0x801)][_0x4d3e48(0x69a)]))[_0x4d3e48(0x18b)][_0x4d3e48(0xd0)]};}catch(_0xe5e34){let _0x3bb019=_0x4d3e48(0x27e),_0x5f04c9=_0xe5e34 instanceof Error?_0xe5e34['message']:typeof _0xe5e34==_0x4d3e48(0xfe)?JSON[_0x4d3e48(0x563)](_0xe5e34):_0xe5e34,_0x57f7b5=_0x3bb019+':\x20'+_0x5f04c9;throw this['logger'][_0x4d3e48(0x3d2)](this[_0x4d3e48(0x77a)]+'\x20('+this[_0x4d3e48(0x801)][_0x4d3e48(0x69a)]+_0x4d3e48(0x6fe)+_0x57f7b5),new U(_0x57f7b5);}}async['leaveGroup'](_0x386e62){const _0x35f7f6=a0_0xc869c4;try{return await this[_0x35f7f6(0x52a)][_0x35f7f6(0x579)](_0x386e62[_0x35f7f6(0x266)]),{'groupJid':_0x386e62['groupJid'],'leave':!0x0};}catch(_0x6674c7){let _0x274fe7=_0x35f7f6(0x763),_0xa815c8=_0x6674c7 instanceof Error?_0x6674c7['message']:typeof _0x6674c7=='object'?JSON[_0x35f7f6(0x563)](_0x6674c7):_0x6674c7,_0x31cd29=_0x274fe7+':\x20'+_0xa815c8;throw this['logger'][_0x35f7f6(0x3d2)](this[_0x35f7f6(0x77a)]+'\x20('+this[_0x35f7f6(0x801)][_0x35f7f6(0x69a)]+_0x35f7f6(0x6fe)+_0x31cd29),new m(_0x31cd29);}}async[a0_0xc869c4(0x213)](_0x54c9bd){const _0x1d6ad4=a0_0xc869c4;return await this[_0x1d6ad4(0x2f8)](_0x54c9bd[_0x1d6ad4(0x1ce)],{'poll':{'name':_0x54c9bd[_0x1d6ad4(0x213)]?.[_0x1d6ad4(0x15e)],'selectableCount':_0x54c9bd[_0x1d6ad4(0x213)]['selectableCount'],'values':_0x54c9bd[_0x1d6ad4(0x213)][_0x1d6ad4(0x37b)]}},_0x54c9bd?.[_0x1d6ad4(0x5ab)]);}async[a0_0xc869c4(0x538)](_0x15a109){const _0x4a6b14=a0_0xc869c4;return await this[_0x4a6b14(0x2f8)](_0x15a109['number'],{'listMessage':{'title':_0x15a109['listMessage'][_0x4a6b14(0x4bd)],'description':_0x15a109[_0x4a6b14(0x538)][_0x4a6b14(0x22c)],'buttonText':_0x15a109[_0x4a6b14(0x538)]?.['buttonText'],'footerText':_0x15a109[_0x4a6b14(0x538)]?.[_0x4a6b14(0x2a8)],'sections':_0x15a109['listMessage']['sections'],'listType':0x2}},_0x15a109?.['options']);}async['menuMessage'](_0xf3f86c){const _0x310e88=a0_0xc869c4;this[_0x310e88(0x801)][_0x310e88(0x31e)]===void 0x0&&await this[_0x310e88(0x120)]();let _0x1d4261;if(_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x155)]===_0x310e88(0x59a)||_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x155)]===_0x310e88(0x419)){let _0x1528a5=_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x1ed)][_0x310e88(0x6b0)]('\x0a'),_0x4a450a='',_0x4fb243='';_0x1528a5!==-0x1?(_0x4a450a=_0xf3f86c['menuMessage'][_0x310e88(0x1ed)][_0x310e88(0x6c5)](0x0,_0x1528a5)[_0x310e88(0x501)](),_0x4fb243=_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x1ed)][_0x310e88(0x6c5)](_0x1528a5+0x1)):_0x4fb243=_0xf3f86c['menuMessage']['text'];let _0x3d4639=_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x819)][_0x310e88(0x314)](_0x20f1f5=>_0x20f1f5[_0x310e88(0x501)]()!==''),_0x4fe49f=this[_0x310e88(0x466)](_0x3d4639);_0x1d4261={'listMessage':{'title':_0x4a450a,'description':_0x4fb243,'buttonText':_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x289)]||_0x310e88(0x366),'footerText':_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x2a8)],'sections':_0x4fe49f,'listType':0x2}};}else{if(_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x155)]===_0x310e88(0xf8)){let _0x2974ab=_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x819)]['filter'](_0x30a5cc=>!(_0x30a5cc[_0x310e88(0x24d)]('[')&&_0x30a5cc[_0x310e88(0x364)](']'))&&_0x30a5cc[_0x310e88(0x501)]()!=='')[_0x310e88(0x474)](_0x413b29=>_0x413b29[_0x310e88(0x63b)]('\x0a')[0x0]);for(;_0x2974ab[_0x310e88(0x4c6)]<0x2;)_0x2974ab[_0x310e88(0x14c)](_0x310e88(0x2dd)+(_0x2974ab[_0x310e88(0x4c6)]+0x1));_0x1d4261={'poll':{'name':_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x1ed)],'selectableCount':_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x465)]||0x1,'values':_0x2974ab}};}else{if(_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x155)]===_0x310e88(0x82b)){let _0x5343ab=this['createButtonsFromValues'](_0xf3f86c['menuMessage'][_0x310e88(0x819)][_0x310e88(0x314)](_0x467a00=>!(_0x467a00[_0x310e88(0x24d)]('[')&&_0x467a00[_0x310e88(0x364)](']'))));return _0x1d4261={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0xf3f86c['menuMessage']['text']},'footer':_0xf3f86c['menuMessage'][_0x310e88(0x2a8)]?{'text':_0xf3f86c['menuMessage']['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x5343ab,'messageParamsJson':JSON['stringify']({'from':_0x310e88(0x745),'templateId':_0x310e88(0x3ba)+(0x0,re[_0x310e88(0x54a)])(0x12)[_0x310e88(0x806)](_0x310e88(0x33d))['toUpperCase']()})}}}}},await this[_0x310e88(0x463)](_0xf3f86c[_0x310e88(0x1ce)],_0x1d4261,_0xf3f86c?.['options']);}else{if(_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x155)]===_0x310e88(0x7af)){let _0x49012e=this[_0x310e88(0x587)](_0xf3f86c[_0x310e88(0x40d)]['choices']);return _0x1d4261={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x1ed)]},'footer':_0xf3f86c[_0x310e88(0x40d)][_0x310e88(0x2a8)]?{'text':_0xf3f86c[_0x310e88(0x40d)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x49012e,'messageParamsJson':JSON[_0x310e88(0x563)]({'from':'api','templateId':_0x310e88(0x3ba)+(0x0,re[_0x310e88(0x54a)])(0x12)[_0x310e88(0x806)](_0x310e88(0x33d))['toUpperCase']()})}}}}},await this[_0x310e88(0x463)](_0xf3f86c[_0x310e88(0x1ce)],_0x1d4261,_0xf3f86c?.[_0x310e88(0x5ab)]);}}}}return await this['sendMessageWithTyping'](_0xf3f86c['number'],_0x1d4261,_0xf3f86c?.['options']);}[a0_0xc869c4(0x168)](_0x37e253){return _0x37e253['map'](_0x513714=>{const _0x49ea48=a0_0x3de4;let _0x177788=_0x513714['split']('\x0a')[_0x49ea48(0x474)](_0x128bd9=>_0x128bd9[_0x49ea48(0x501)]()),_0x53081d=_0x177788[0x0],_0x377dca=_0x177788[0x1]||_0x53081d,_0x5d45f3=_0x377dca[_0x49ea48(0x24d)](_0x49ea48(0x3cc))?_0x49ea48(0x5fb):_0x49ea48(0x71c);return{'name':_0x5d45f3,'buttonParamsJson':JSON[_0x49ea48(0x563)]({'display_text':_0x53081d,'id':_0x5d45f3==='quick_reply'?_0x377dca:void 0x0,'url':_0x5d45f3===_0x49ea48(0x5fb)?_0x377dca:void 0x0})};});}['createButtonSectionsFromValues'](_0x4c9b22){const _0xb0298f=a0_0xc869c4;let _0x14a143=[],_0x49f28c={'title':'','rows':[]};return _0x4c9b22[_0xb0298f(0x64a)](_0x429d66=>{const _0x3ebe93=_0xb0298f;if(_0x429d66['startsWith']('[')&&_0x429d66[_0x3ebe93(0x364)](']'))_0x49f28c['rows'][_0x3ebe93(0x4c6)]>0x0&&_0x14a143['push'](_0x49f28c),_0x49f28c={'title':_0x429d66[_0x3ebe93(0x512)](0x1,-0x1),'rows':[]};else{let _0x34ce60=_0x429d66[_0x3ebe93(0x63b)]('\x0a')[_0x3ebe93(0x474)](_0x1e1a4d=>_0x1e1a4d[_0x3ebe93(0x501)]()),_0x33dfe4=_0x34ce60[0x0],_0xb63c9=_0x34ce60[0x1]?_0x34ce60[0x1]:void 0x0,_0x40a1fb=_0x34ce60[0x2]||_0x33dfe4;_0x49f28c[_0x3ebe93(0x3b9)][_0x3ebe93(0x14c)]({'title':_0x33dfe4,'description':_0xb63c9,'id':_0x40a1fb});}}),_0x49f28c[_0xb0298f(0x3b9)][_0xb0298f(0x4c6)]>0x0&&_0x14a143[_0xb0298f(0x14c)](_0x49f28c),[{'name':_0xb0298f(0x365),'buttonParamsJson':JSON[_0xb0298f(0x563)]({'title':_0xb0298f(0x857),'sections':_0x14a143})}];}[a0_0xc869c4(0x466)](_0x54814d){const _0x1128d0=a0_0xc869c4;let _0x567533=[],_0x2723d0={'rows':[]};return _0x54814d[_0x1128d0(0x64a)](_0x311fa4=>{const _0x2e4ffe=_0x1128d0;if(_0x311fa4[_0x2e4ffe(0x24d)]('[')&&_0x311fa4['endsWith'](']'))_0x2723d0['rows']['length']>0x0&&_0x567533[_0x2e4ffe(0x14c)](_0x2723d0),_0x2723d0={'title':_0x311fa4[_0x2e4ffe(0x512)](0x1,-0x1),'rows':[]};else{let _0x289c6c=_0x311fa4[_0x2e4ffe(0x63b)]('\x0a')['map'](_0x37428e=>_0x37428e[_0x2e4ffe(0x501)]()),_0x33533b=_0x289c6c[0x0],_0x435ec6=_0x289c6c[0x1]||null,_0x1f7092=_0x289c6c[0x2]||_0x33533b;_0x2723d0[_0x2e4ffe(0x3b9)][_0x2e4ffe(0x14c)]({'title':_0x33533b,'description':_0x435ec6,'rowId':_0x1f7092});}}),_0x2723d0[_0x1128d0(0x3b9)][_0x1128d0(0x4c6)]>0x0&&_0x567533[_0x1128d0(0x14c)](_0x2723d0),_0x567533;}async[a0_0xc869c4(0x11d)](_0x82b641,_0x4cba1c){const _0x5378b4=a0_0xc869c4;if(await this['getMessage'](_0x82b641,!0x0)){let _0x30bed3={'where':{'_id':_0x82b641['id']}},_0x3011fc={'status':[_0x4cba1c[_0x5378b4(0x202)]][0x0]};try{let _0x5f5156=await this[_0x5378b4(0x77f)][_0x5378b4(0x5ad)][_0x5378b4(0x6cc)](_0x30bed3,_0x3011fc,this[_0x5378b4(0x801)][_0x5378b4(0x69a)]);_0x5f5156&&F(this[_0x5378b4(0x77a)],_0x5378b4(0x43f),{'message':_0x5f5156});}catch{}}}['sectionsToString'](_0x3c1103){const _0x264890=a0_0xc869c4;let _0x566aaa=[];return _0x3c1103[_0x264890(0x64a)](_0x45d151=>{const _0x5d92b9=_0x264890;_0x45d151[_0x5d92b9(0x4bd)]&&_0x566aaa[_0x5d92b9(0x14c)]('['+_0x45d151[_0x5d92b9(0x4bd)]+']'),_0x45d151[_0x5d92b9(0x3b9)][_0x5d92b9(0x64a)](_0x36c200=>{const _0x5c50ab=_0x5d92b9;_0x566aaa['push'](_0x36c200[_0x5c50ab(0x4bd)]);});}),_0x566aaa['join']('|');}[a0_0xc869c4(0x6eb)](_0x4b1d39){const _0xc12e73=a0_0xc869c4;let _0x49fa8c=_0x4b1d39['replace'](/\\n/g,'\x0a')[_0xc12e73(0x63b)]('\x0a')[_0xc12e73(0x314)](_0x4bba80=>_0x4bba80[_0xc12e73(0x49c)]('TEL')||_0x4bba80[_0xc12e73(0x49c)](_0xc12e73(0x5b9))),_0x5618f4='';return _0x49fa8c[_0xc12e73(0x64a)](_0x1c397f=>{const _0x30d77b=_0xc12e73;let _0x422748=/TEL(?:.*):(.+)/,_0x10b97e=/EMAIL(?:.*):(.+)/,_0x1fa1fd=_0x1c397f[_0x30d77b(0x2f6)](_0x422748),_0x549d03=_0x1c397f[_0x30d77b(0x2f6)](_0x10b97e);if(_0x1fa1fd){let _0x429bdd=_0x1fa1fd[0x1][_0x30d77b(0x791)](/-| |\+|\(|\)/g,'')[_0x30d77b(0x501)]();_0x5618f4+=_0x30d77b(0x210)+_0x429bdd+'\x0a';}else{if(_0x549d03){let _0x2e05fa=_0x549d03[0x1]['trim']();_0x5618f4+='E-mail:\x20'+_0x2e05fa+'\x0a';}}}),_0x5618f4[_0xc12e73(0x501)]();}async['updateChatWithMessage'](_0x14690e,_0x4f7fb2,_0x201ecd,_0x2f425=null){const _0xd8ec5b=a0_0xc869c4;if(_0x14690e[_0xd8ec5b(0x29e)])try{let _0x1f9b4d=_0x4f7fb2['key']['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x4442b5=_0x4f7fb2[_0xd8ec5b(0x7e2)]['fromMe'],_0x19281a=_0x1f9b4d[_0xd8ec5b(0x364)](_0xd8ec5b(0x386)),_0x253952=_0x4f7fb2[_0xd8ec5b(0x584)]?.[_0xd8ec5b(0x791)](/:\d{1,2}@/g,'@')||'',_0x198844=_0x4f7fb2[_0xd8ec5b(0xcf)]?.[_0xd8ec5b(0x1ed)]||_0x4f7fb2[_0xd8ec5b(0xcf)]?.[_0xd8ec5b(0x7b5)]||_0x4f7fb2[_0xd8ec5b(0xcf)]?.[_0xd8ec5b(0xd2)]||_0x4f7fb2['message_normalized']?.['name']||'',_0x4f7bab={'_id':_0x4f7fb2['_id'],'remoteJid':_0x4442b5?this[_0xd8ec5b(0x801)][_0xd8ec5b(0x69a)]:_0x19281a?_0x253952:_0x1f9b4d,'pushName':_0x4442b5?this[_0xd8ec5b(0x801)][_0xd8ec5b(0x6d8)]||'Eu':_0x4f7fb2[_0xd8ec5b(0x576)],'text':_0x198844,'type':_0x4f7fb2[_0xd8ec5b(0x4e7)],'when':_0x4f7fb2[_0xd8ec5b(0x3e2)]||Date[_0xd8ec5b(0x574)]()};_0x2f425||(_0x2f425=await this[_0xd8ec5b(0x77f)][_0xd8ec5b(0x6f8)][_0xd8ec5b(0x4d6)]({'where':{'_id':_0x1f9b4d}},this[_0xd8ec5b(0x801)][_0xd8ec5b(0x69a)]));let _0x522240=_0x4442b5?0x0:_0x2f425?(_0x2f425[_0xd8ec5b(0x283)]||0x0)+0x1:0x1,_0xa3c767={'lastmsg':_0x4f7fb2[_0xd8ec5b(0x3e2)]||Date[_0xd8ec5b(0x574)](),'ephemeralExpiration':_0x4f7fb2['expiration'],'lastMessage':_0x4f7bab,'unreadcount':_0x522240,..._0x4442b5||_0x19281a?{}:{'name':_0x4f7fb2[_0xd8ec5b(0x576)]},..._0x19281a?{'group':_0x19281a}:{},...!_0x4442b5&&!_0x19281a&&_0x4f7fb2[_0xd8ec5b(0x528)]?{'imagechat':_0x4f7fb2[_0xd8ec5b(0x528)]}:{}};if(!_0x19281a&&(!_0x2f425?.[_0xd8ec5b(0x639)]||!_0x2f425['leadInfo'][_0xd8ec5b(0x473)])&&_0x4f7fb2[_0xd8ec5b(0x576)]&&!_0x4442b5&&(_0xa3c767={..._0xa3c767,'leadInfo.nome':_0x4f7fb2[_0xd8ec5b(0x576)]}),_0x2f425?.[_0xd8ec5b(0x639)][_0xd8ec5b(0x3ee)]||(_0xa3c767={..._0xa3c767,'leadInfo.etiquetas':[]}),_0x2f425?.[_0xd8ec5b(0x639)][_0xd8ec5b(0x56b)]||(_0xa3c767={..._0xa3c767,'leadInfo.customFields':[]}),_0x2f425?.[_0xd8ec5b(0x639)][_0xd8ec5b(0x5e4)]||(_0xa3c767={..._0xa3c767,'leadInfo.tags':[]}),_0x2f425&&_0x2f425?.[_0xd8ec5b(0x58e)]){let _0x347e83=await this[_0xd8ec5b(0x77f)][_0xd8ec5b(0x59d)][_0xd8ec5b(0x194)]({'where':{}},this['instance'][_0xd8ec5b(0x69a)]),_0x48bf64=new Set(_0x347e83[_0xd8ec5b(0x474)](_0x30165f=>_0x30165f[_0xd8ec5b(0x59b)])),_0x36d42f=(_0x2f425[_0xd8ec5b(0x639)]?.[_0xd8ec5b(0x3ee)]||[])[_0xd8ec5b(0x314)](_0x3bdceb=>_0x48bf64[_0xd8ec5b(0x588)](_0x3bdceb));_0xa3c767={..._0xa3c767,'imported':!0x1,'leadInfo.etiquetas':_0x36d42f};for(let _0xb160f7 of _0x36d42f)await this[_0xd8ec5b(0x608)](_0xb160f7,_0x1f9b4d);}if(!this['AutomateSystem'][_0xd8ec5b(0x32c)][_0xd8ec5b(0x194)](_0x52a78e=>_0x52a78e[_0xd8ec5b(0x6a7)]&&_0x198844[_0xd8ec5b(0x49c)](_0x52a78e[_0xd8ec5b(0x6a7)]))&&_0x201ecd===_0xd8ec5b(0xe7)&&_0x4442b5&&this[_0xd8ec5b(0x162)]?.[_0xd8ec5b(0x2e2)][_0xd8ec5b(0x766)]&&_0x198844['trim']()!==this['AutomateSystem']?.['flowConfig']['stopConversation'][_0xd8ec5b(0x501)]()){let _0x1bced2=(this['AutomateSystem']?.[_0xd8ec5b(0x2e2)][_0xd8ec5b(0x853)]||0x0)*0xea60,_0x150fd6=Date[_0xd8ec5b(0x574)]()+_0x1bced2;_0x2f425?.[_0xd8ec5b(0x639)]?.[_0xd8ec5b(0x768)]===0x0||(_0xa3c767={..._0xa3c767,'leadInfo.desativadoFluxoAte':_0x150fd6},this[_0xd8ec5b(0x246)][_0xd8ec5b(0x5a1)](this[_0xd8ec5b(0x77a)]+'\x20('+this[_0xd8ec5b(0x801)][_0xd8ec5b(0x69a)]+_0xd8ec5b(0x70b)+_0x150fd6+'.'));}if(_0x198844['trim']()===this[_0xd8ec5b(0x162)]?.[_0xd8ec5b(0x2e2)][_0xd8ec5b(0x221)]['trim']()){this[_0xd8ec5b(0x246)][_0xd8ec5b(0x5a1)](this[_0xd8ec5b(0x77a)]+'\x20('+this['instance'][_0xd8ec5b(0x69a)]+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x198844);let _0x5a72b9=Date[_0xd8ec5b(0x574)]();this[_0xd8ec5b(0x162)]?.[_0xd8ec5b(0x2e2)][_0xd8ec5b(0x74c)]===0x0?_0xa3c767={..._0xa3c767,'leadInfo.desativadoFluxoAte':_0x5a72b9+0x7591f6200}:_0xa3c767={..._0xa3c767,'leadInfo.desativadoFluxoAte':_0x5a72b9+this[_0xd8ec5b(0x162)]?.['flowConfig'][_0xd8ec5b(0x74c)]*0x3c*0x3e8};}if(_0x2f425=await this['repository'][_0xd8ec5b(0x6f8)][_0xd8ec5b(0x2a2)]({'where':{'_id':_0x1f9b4d}},_0xa3c767,this[_0xd8ec5b(0x801)][_0xd8ec5b(0x69a)],{'new':!0x0,'upsert':!0x0}),_0x2f425)F(this[_0xd8ec5b(0x77a)],'chats',{'chat':_0x2f425});else{this['logger'][_0xd8ec5b(0x3d2)](this[_0xd8ec5b(0x77a)]+'\x20('+this[_0xd8ec5b(0x801)]['wuid']+_0xd8ec5b(0x552));return;}if(_0x4442b5)return this[_0xd8ec5b(0x246)][_0xd8ec5b(0x5a1)](this[_0xd8ec5b(0x77a)]+'\x20('+this[_0xd8ec5b(0x801)][_0xd8ec5b(0x69a)]+_0xd8ec5b(0xdf)),null;if(!this[_0xd8ec5b(0x162)]?.[_0xd8ec5b(0x2e2)][_0xd8ec5b(0x766)])return this[_0xd8ec5b(0x246)][_0xd8ec5b(0x5a1)](this[_0xd8ec5b(0x77a)]+'\x20('+this[_0xd8ec5b(0x801)][_0xd8ec5b(0x69a)]+_0xd8ec5b(0x447)),null;if(_0x2f425[_0xd8ec5b(0x59b)][_0xd8ec5b(0x49c)](_0xd8ec5b(0x386))&&this['AutomateSystem']?.[_0xd8ec5b(0x2e2)][_0xd8ec5b(0x225)]===!0x0)return this[_0xd8ec5b(0x246)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xd8ec5b(0x69a)]+_0xd8ec5b(0x39d)),null;if(_0x2f425['leadInfo']){if(_0x2f425[_0xd8ec5b(0x639)][_0xd8ec5b(0x768)]===0x0||_0x2f425['leadInfo'][_0xd8ec5b(0x3b7)])return this[_0xd8ec5b(0x246)][_0xd8ec5b(0x5a1)](this[_0xd8ec5b(0x77a)]+'\x20('+this[_0xd8ec5b(0x801)][_0xd8ec5b(0x69a)]+_0xd8ec5b(0x482)+_0x1f9b4d+',\x20saindo.'),null;if(_0x2f425['leadInfo'][_0xd8ec5b(0x768)]>Date[_0xd8ec5b(0x574)]()&&!_0x4f7fb2[_0xd8ec5b(0xcf)]?.[_0xd8ec5b(0xd2)])return this[_0xd8ec5b(0x246)][_0xd8ec5b(0x5a1)](this[_0xd8ec5b(0x77a)]+'\x20('+this[_0xd8ec5b(0x801)]['wuid']+_0xd8ec5b(0x55c)+new Date(_0x2f425[_0xd8ec5b(0x639)]['desativadoFluxoAte'])[_0xd8ec5b(0x312)]()+_0xd8ec5b(0x3bc)),null;}this[_0xd8ec5b(0x246)][_0xd8ec5b(0x5a1)](this[_0xd8ec5b(0x77a)]+'\x20('+this[_0xd8ec5b(0x801)]['wuid']+_0xd8ec5b(0x747)),this['StartBot'](_0x4f7fb2,_0x201ecd);}catch(_0x46589e){let _0x4dfe6f=_0xd8ec5b(0x336),_0x34cd4d=_0x46589e instanceof Error?_0x46589e[_0xd8ec5b(0x5ad)]:typeof _0x46589e=='object'?JSON[_0xd8ec5b(0x563)](_0x46589e):_0x46589e,_0x5d5048=_0x4dfe6f+':\x20'+_0x34cd4d;return this[_0xd8ec5b(0x246)][_0xd8ec5b(0x3d2)](this['instanceName']+'\x20('+this[_0xd8ec5b(0x801)][_0xd8ec5b(0x69a)]+_0xd8ec5b(0x6fe)+_0x5d5048),null;}}async[a0_0xc869c4(0x57e)](_0x39f3fe,_0x38ba1d){const _0x4301d6=a0_0xc869c4;if(_0x38ba1d[_0x4301d6(0x29e)]){let _0x35d921=_0x39f3fe[_0x4301d6(0x474)](async _0x5344e2=>{const _0x50a6e2=_0x4301d6;try{let _0x37716b={'_id':_0x5344e2[_0x50a6e2(0x59b)],'owner':_0x5344e2['owner'],'lastcache':0x0};if(Object[_0x50a6e2(0x239)](_0x5344e2)[_0x50a6e2(0x64a)](_0x31fdc5=>{_0x5344e2[_0x31fdc5]!==null&&(_0x37716b[_0x31fdc5]=_0x5344e2[_0x31fdc5]);}),_0x37716b[_0x50a6e2(0x302)]===null&&(_0x37716b['imagechat']=_0x50a6e2(0x73b)),Object['keys'](_0x37716b)[_0x50a6e2(0x4c6)]>0x0)return await this[_0x50a6e2(0x77f)][_0x50a6e2(0x6f8)][_0x50a6e2(0x2a2)]({'where':{'_id':_0x5344e2['_id']}},_0x37716b,this['instance'][_0x50a6e2(0x69a)]);}catch(_0x5f5b5b){let _0x48bff2=_0x50a6e2(0x754)+_0x5344e2[_0x50a6e2(0x59b)],_0x2c3336=_0x5f5b5b instanceof Error?_0x5f5b5b[_0x50a6e2(0x5ad)]:typeof _0x5f5b5b==_0x50a6e2(0xfe)?JSON[_0x50a6e2(0x563)](_0x5f5b5b):_0x5f5b5b,_0x305875=_0x48bff2+':\x20'+_0x2c3336;return this[_0x50a6e2(0x246)]['error'](this[_0x50a6e2(0x77a)]+'\x20('+this[_0x50a6e2(0x801)][_0x50a6e2(0x69a)]+_0x50a6e2(0x6fe)+_0x305875),null;}}),_0x5e9505=(await Promise['all'](_0x35d921))[_0x4301d6(0x314)](_0x4f19a7=>_0x4f19a7!==null)[_0x4301d6(0x4c6)];this['logger'][_0x4301d6(0x5a1)](this[_0x4301d6(0x77a)]+'\x20('+this[_0x4301d6(0x801)][_0x4301d6(0x69a)]+'):\x20'+_0x5e9505+_0x4301d6(0x265)+this['instance']['wuid']+_0x4301d6(0x6de));}}async['readMessageBot'](_0x173d2e){const _0x561a85=a0_0xc869c4;this[_0x561a85(0x246)][_0x561a85(0x5a1)](this[_0x561a85(0x77a)]+'\x20('+this[_0x561a85(0x801)][_0x561a85(0x69a)]+_0x561a85(0x7b9));let _0x22d8a4={'readMessages':[{'remoteJid':_0x173d2e[_0x561a85(0x39b)][_0x561a85(0x75e)][_0x561a85(0x7e2)][_0x561a85(0x607)],'fromMe':_0x173d2e[_0x561a85(0x39b)][_0x561a85(0x75e)][_0x561a85(0x7e2)][_0x561a85(0x2ae)],'id':_0x173d2e[_0x561a85(0x39b)][_0x561a85(0x75e)]['key']['id']}]};await this['markMessageAsRead'](_0x22d8a4);}async[a0_0xc869c4(0x10e)](_0x3706b6,_0x2aa06e){const _0x703f8d=a0_0xc869c4;try{let {key:_0x42d6bf,message_normalized:_0x2f0967}=_0x3706b6,_0x59f8d5=_0x2f0967,_0x43f076=_0x2f0967[_0x703f8d(0x1ed)]||_0x2f0967[_0x703f8d(0x7b5)]||_0x2f0967[_0x703f8d(0xd2)]||_0x2f0967[_0x703f8d(0x15e)]||'',_0x8099db=_0x42d6bf['remoteJid'],_0x1aed12=null,_0x462797=this['AutomateSystem']['flows'][_0x703f8d(0x194)](_0x5e81df=>_0x5e81df[_0x703f8d(0x6a7)]&&_0x43f076[_0x703f8d(0x49c)](_0x5e81df[_0x703f8d(0x6a7)]));if(_0x462797&&_0x2aa06e===_0x703f8d(0xe7)){let _0x5456a=await this[_0x703f8d(0x77f)][_0x703f8d(0x4ad)][_0x703f8d(0x4d6)]({'where':{'_id':_0x462797['_id']}});if(this['logger'][_0x703f8d(0x5a1)](this[_0x703f8d(0x77a)]+'\x20('+this[_0x703f8d(0x801)][_0x703f8d(0x69a)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x5456a&&_0x5456a['whoCanUse']?.['includes'](this[_0x703f8d(0x801)][_0x703f8d(0x69a)]))_0x1aed12=await this['createNewConversation'](_0x5456a,_0x42d6bf,_0x59f8d5);else return this[_0x703f8d(0x246)][_0x703f8d(0x5a1)](this[_0x703f8d(0x77a)]+'\x20('+this[_0x703f8d(0x801)][_0x703f8d(0x69a)]+_0x703f8d(0x2c1)),null;}else this['logger'][_0x703f8d(0x5a1)](this[_0x703f8d(0x77a)]+'\x20('+this[_0x703f8d(0x801)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x1aed12=await this[_0x703f8d(0x35f)](_0x8099db,_0x59f8d5),_0x1aed12){this[_0x703f8d(0x246)][_0x703f8d(0x5a1)](this[_0x703f8d(0x77a)]+'\x20('+this['instance'][_0x703f8d(0x69a)]+_0x703f8d(0x6cb)),!_0x42d6bf[_0x703f8d(0x2ae)]&&_0x1aed12[_0x703f8d(0x5cc)]&&this[_0x703f8d(0x398)](_0x1aed12);let _0x1ecac2=await this['NextBlock'](_0x1aed12);_0x1ecac2&&await this[_0x703f8d(0x6ad)](_0x1aed12,_0x1ecac2);}}catch(_0x2d3e4e){this[_0x703f8d(0x246)][_0x703f8d(0x3d2)](this[_0x703f8d(0x77a)]+'\x20('+this['instance'][_0x703f8d(0x69a)]+_0x703f8d(0x663)+(_0x2d3e4e instanceof Error?_0x2d3e4e['message']:JSON['stringify'](_0x2d3e4e,null,0x2)));}}['flattenObject'](_0x3481f4,_0x505d29='',_0x58cc13={}){const _0x3db6b1=a0_0xc869c4;return typeof _0x3481f4!=_0x3db6b1(0xfe)||_0x3481f4===null?(_0x505d29&&(_0x58cc13[_0x505d29]=_0x3481f4),_0x58cc13):(Object[_0x3db6b1(0x85d)](_0x3481f4)[_0x3db6b1(0x64a)](([_0x300743,_0x206831])=>{const _0x9e0663=_0x3db6b1;let _0xff8dae=_0x505d29?_0x505d29+'.'+_0x300743:'_'+_0x300743;Array['isArray'](_0x206831)?_0x206831[_0x9e0663(0x64a)]((_0x4ca77f,_0x3477e5)=>{const _0xc4fed1=_0x9e0663;this[_0xc4fed1(0x1fd)](_0x4ca77f,_0xff8dae+'['+_0x3477e5+']',_0x58cc13);}):typeof _0x206831=='object'&&_0x206831!==null?this[_0x9e0663(0x1fd)](_0x206831,_0xff8dae,_0x58cc13):_0x58cc13[_0xff8dae]=String(_0x206831);}),_0x58cc13);}[a0_0xc869c4(0x5ca)](_0x19e78c){const _0xfc8ac4=a0_0xc869c4;let _0x34236f={};for(let _0xd2f926 of _0x19e78c)typeof _0xd2f926[_0xfc8ac4(0x15e)]==_0xfc8ac4(0x2d7)&&typeof _0xd2f926[_0xfc8ac4(0x383)]==_0xfc8ac4(0x2d7)&&(_0x34236f[_0xd2f926['name']]=_0xd2f926[_0xfc8ac4(0x383)]);return _0x34236f;}async[a0_0xc869c4(0x217)](_0x5afb6f){const _0x24d8d6=a0_0xc869c4;if(!this['AutomateSystem']?.[_0x24d8d6(0x2e2)][_0x24d8d6(0x766)]||_0x5afb6f[_0x24d8d6(0x202)]!==_0x24d8d6(0x5d5)&&_0x5afb6f[_0x24d8d6(0x74f)]==='')return null;let _0x4cb475=_0x5afb6f['chatLog']['lastBlockId']||_0x24d8d6(0x703);typeof _0x5afb6f[_0x24d8d6(0x39b)][_0x24d8d6(0x257)]>'u'&&(_0x5afb6f[_0x24d8d6(0x39b)][_0x24d8d6(0x257)]=!0x0);let _0x2b417c=_0x5afb6f['chatLog']['lastCondition'];this[_0x24d8d6(0x246)]['verbose'](this[_0x24d8d6(0x77a)]+'\x20('+this[_0x24d8d6(0x801)][_0x24d8d6(0x69a)]+_0x24d8d6(0x62a)+_0x4cb475+_0x24d8d6(0x602)+_0x2b417c);let _0x542baa=_0x4cb475==='start'?_0x5afb6f[_0x24d8d6(0x755)]['find'](_0x31112b=>_0x31112b[_0x24d8d6(0x155)]===_0x24d8d6(0x703)):_0x5afb6f[_0x24d8d6(0x755)][_0x24d8d6(0x194)](_0x1e22a2=>_0x1e22a2[_0x24d8d6(0x59b)][_0x24d8d6(0x806)]()===_0x4cb475[_0x24d8d6(0x806)]());if(!_0x542baa)return this[_0x24d8d6(0x246)][_0x24d8d6(0x3d2)](this[_0x24d8d6(0x77a)]+'\x20('+this['instance'][_0x24d8d6(0x69a)]+_0x24d8d6(0x211)+_0x4cb475),null;let _0x5c354f={'_pushName':_0x5afb6f?.[_0x24d8d6(0x39b)]?.[_0x24d8d6(0x75e)]?.[_0x24d8d6(0x576)]||'','_sender':this[_0x24d8d6(0x801)][_0x24d8d6(0x69a)]||'',..._0x5afb6f[_0x24d8d6(0x39b)]['realVariables']},_0x37b5b6=new Date();_0x5c354f[_0x24d8d6(0x497)]=_0x37b5b6[_0x24d8d6(0x726)](),_0x5c354f[_0x24d8d6(0x31f)]=_0x37b5b6['getMonth']()+0x1,_0x5c354f[_0x24d8d6(0x5da)]=_0x37b5b6[_0x24d8d6(0x1c5)](),_0x5c354f[_0x24d8d6(0x5a0)]=_0x37b5b6['getHours'](),_0x5c354f[_0x24d8d6(0x317)]=_0x37b5b6['getMinutes'](),_0x5c354f[_0x24d8d6(0x190)]=_0x37b5b6[_0x24d8d6(0x195)]();let _0x128611=null;if(_0x5afb6f[_0x24d8d6(0x74f)]){let _0x2a9555=_0x5afb6f[_0x24d8d6(0x39b)][_0x24d8d6(0x75e)]['vote'],_0x58b717=_0x5afb6f[_0x24d8d6(0x4ba)][_0x24d8d6(0x194)](_0x1917cd=>_0x1917cd[_0x24d8d6(0x6d0)]===_0x2a9555);if(_0x58b717){let _0x470fb0=_0x58b717[_0x24d8d6(0x601)];if(_0x128611=_0x5afb6f[_0x24d8d6(0x755)][_0x24d8d6(0x194)](_0x5ed5f5=>_0x5ed5f5['groupId']===_0x470fb0&&_0x5ed5f5[_0x24d8d6(0x64d)]===0x1),_0x542baa['uazapi'][_0x24d8d6(0x403)]){let _0x4294f6={'id':_0x5afb6f[_0x24d8d6(0x74f)],'remoteJid':_0x5afb6f[_0x24d8d6(0x607)],'fromMe':!0x0};await this[_0x24d8d6(0x671)](_0x4294f6);}if(_0x542baa[_0x24d8d6(0x684)][_0x24d8d6(0x403)]&&_0x542baa[_0x24d8d6(0x684)]['pollMessageOnDelete']&&_0x542baa[_0x24d8d6(0x684)][_0x24d8d6(0x5ec)]===_0x24d8d6(0xf8)){let _0x308950={'number':_0x5afb6f[_0x24d8d6(0x607)],'options':{'delay':0x0},'textMessage':{'text':_0x24d8d6(0x469)+_0x5afb6f['waitingMenu_text']+_0x24d8d6(0x1dd)+_0x2a9555}};await this[_0x24d8d6(0x250)](_0x308950);}_0x5c354f[_0x24d8d6(0x392)]=_0x2a9555,_0x5afb6f[_0x24d8d6(0x202)]=_0x24d8d6(0x5d5),_0x5afb6f[_0x24d8d6(0x74f)]='',_0x5afb6f[_0x24d8d6(0x6c8)]='',_0x5afb6f[_0x24d8d6(0x4ba)]=[];}else{this['logger'][_0x24d8d6(0x5a1)](this[_0x24d8d6(0x77a)]+'\x20('+this['instance'][_0x24d8d6(0x69a)]+_0x24d8d6(0x83a));let _0xce1e94={'activatedCount':_0x5afb6f['chatLog'][_0x24d8d6(0x63f)][_0x24d8d6(0x314)](_0x579dc6=>String(_0x579dc6[_0x24d8d6(0x5b0)])===String(_0x4cb475))[_0x24d8d6(0x4c6)],'moreLogs':[_0x24d8d6(0x333)]};if(_0x542baa[_0x24d8d6(0x684)]['pollErrorMessage']){let _0xb3c9c3={'number':_0x5afb6f['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x542baa[_0x24d8d6(0x684)][_0x24d8d6(0x131)]}};await this['textMessage'](_0xb3c9c3);}if(_0x542baa['maxActives']!==void 0x0&&_0xce1e94['activatedCount']>=_0x542baa[_0x24d8d6(0x3e1)]){let _0x39853f=Date[_0x24d8d6(0x574)](),_0x338283=_0x542baa['stopMinutesMaxActives']??0xa;isNaN(_0x338283)&&(_0x338283=0xa);let _0x41172a=_0x39853f+_0x338283*0x3c*0x3e8;_0xce1e94[_0x24d8d6(0x6c2)]=_0x41172a,_0xce1e94['moreLogs']['push'](_0x24d8d6(0x60f)),this[_0x24d8d6(0x83d)](_0x5afb6f,_0x41172a),_0x5afb6f[_0x24d8d6(0x74f)]='',_0x5afb6f['waitingMenu_text']='',_0x5afb6f[_0x24d8d6(0x4ba)]=[];}return this[_0x24d8d6(0x107)](_0x5afb6f,_0x542baa,_0xce1e94,!0x0),null;}}if(_0x2b417c&&_0x542baa['next_groupId']&&!_0x5afb6f[_0x24d8d6(0x74f)]){let _0x3c154e=_0x5afb6f[_0x24d8d6(0x755)][_0x24d8d6(0x314)](_0x4bdf7b=>_0x4bdf7b[_0x24d8d6(0x4c0)][_0x24d8d6(0x806)]()===_0x542baa['next_groupId'][_0x24d8d6(0x806)]())[_0x24d8d6(0x822)]((_0x29be6f,_0x3004e9)=>_0x29be6f['order']-_0x3004e9[_0x24d8d6(0x64d)]);_0x3c154e[_0x24d8d6(0x4c6)]>0x0&&(_0x128611=_0x3c154e[0x0]);}if(!_0x128611){let _0x192d94=_0x542baa['groupId'],_0x264977=_0x5afb6f[_0x24d8d6(0x755)][_0x24d8d6(0x314)](_0xe33e14=>_0xe33e14['groupId']===_0x192d94&&_0xe33e14[_0x24d8d6(0x64d)]>_0x542baa[_0x24d8d6(0x64d)])[_0x24d8d6(0x822)]((_0x3cbcc2,_0x7f3b11)=>_0x3cbcc2[_0x24d8d6(0x64d)]-_0x7f3b11[_0x24d8d6(0x64d)]);_0x264977['length']>0x0&&(_0x128611=_0x264977[0x0]);}if(!_0x128611)return _0x5afb6f[_0x24d8d6(0x202)]='closed',null;_0x5afb6f[_0x24d8d6(0x39b)][_0x24d8d6(0x7cc)]=_0x5c354f;let _0x54eef7=JSON[_0x24d8d6(0x50b)](JSON[_0x24d8d6(0x563)](_0x128611));return this[_0x24d8d6(0x6b8)](_0x54eef7,_0x5afb6f[_0x24d8d6(0x39b)]['realVariables']),_0x5afb6f[_0x24d8d6(0x39b)][_0x24d8d6(0x28b)]=_0x54eef7[_0x24d8d6(0x59b)],_0x5afb6f[_0x24d8d6(0x39b)][_0x24d8d6(0x257)]=!0x0,_0x54eef7;}[a0_0xc869c4(0x193)](_0x29ce06,_0x1fe923){const _0x501f8b=a0_0xc869c4;return _0x29ce06[_0x501f8b(0x791)](/\{\{([^}]+)\}\}/g,(_0xd172c1,_0x2a9a6d)=>_0x1fe923[_0x2a9a6d]||'');}[a0_0xc869c4(0x6b8)](_0xa63003,_0x5bacbd){const _0x544de3=a0_0xc869c4;for(let _0x5ad499 in _0xa63003)typeof _0xa63003[_0x5ad499]=='string'?_0xa63003[_0x5ad499]=this[_0x544de3(0x193)](_0xa63003[_0x5ad499],_0x5bacbd):typeof _0xa63003[_0x5ad499]=='object'&&this[_0x544de3(0x6b8)](_0xa63003[_0x5ad499],_0x5bacbd);}async[a0_0xc869c4(0x11e)](_0x35cdfa,_0x55348f){const _0x1328bc=a0_0xc869c4;let _0x10c323=_0x55348f[_0x1328bc(0x59b)];if(_0x35cdfa[_0x1328bc(0x39b)]&&_0x35cdfa['chatLog']['blockLogs']){let _0x226312=_0x35cdfa[_0x1328bc(0x39b)][_0x1328bc(0x63f)][_0x1328bc(0x314)](_0x5564a5=>String(_0x5564a5[_0x1328bc(0x5b0)])===String(_0x10c323))['pop']();if(_0x226312&&_0x226312['error']&&_0x55348f['stopIfLastReturnedError'])return _0x35cdfa[_0x1328bc(0x202)]='closed',await this['saveConversationToDatabase'](_0x35cdfa),null;}if(_0x55348f[_0x1328bc(0x155)]===_0x1328bc(0x684)&&_0x55348f[_0x1328bc(0x684)][_0x1328bc(0x22e)]===_0x1328bc(0x11f)&&_0x35cdfa[_0x1328bc(0x74f)])return _0x35cdfa[_0x1328bc(0x39b)][_0x1328bc(0x28b)]=_0x10c323,await this['saveConversationToDatabase'](_0x35cdfa),null;let _0x5a7c2d=await this['NextBlock'](_0x35cdfa);if(_0x35cdfa[_0x1328bc(0x39b)]&&_0x35cdfa['chatLog']['blockLogs']){let _0x5a86e3=_0x35cdfa[_0x1328bc(0x39b)]['blockLogs'][_0x1328bc(0x314)](_0x570e2f=>String(_0x570e2f['blockId'])===String(_0x10c323))[_0x1328bc(0x4c6)];if(_0x55348f[_0x1328bc(0x3e1)]!==void 0x0&&_0x5a86e3>=_0x55348f[_0x1328bc(0x3e1)]){let _0xf0e47d=Date[_0x1328bc(0x574)](),_0x4b9eab=_0x55348f[_0x1328bc(0x3d6)]??0xa;isNaN(_0x4b9eab)&&(_0x4b9eab=0xa);let _0x3674b3=_0xf0e47d+_0x4b9eab*0x3c*0x3e8,_0x5e5e59={'newStoppedUntil':_0x3674b3};return this[_0x1328bc(0x83d)](_0x35cdfa,_0x3674b3),this[_0x1328bc(0x107)](_0x35cdfa,_0x55348f,_0x5e5e59,!0x0),null;}}_0x5a7c2d&&_0x5a7c2d[_0x1328bc(0x155)]!==_0x1328bc(0x821)&&await this[_0x1328bc(0x6ad)](_0x35cdfa,_0x5a7c2d),_0x5a7c2d||await this['saveConversationToDatabase'](_0x35cdfa),_0x5a7c2d&&_0x5a7c2d[_0x1328bc(0x155)]==='save'&&(_0x35cdfa[_0x1328bc(0x39b)]['lastBlockId']=_0x10c323,await this[_0x1328bc(0x1e2)](_0x35cdfa));}async[a0_0xc869c4(0x6ad)](_0x332865,_0x506ff1){const _0x3b06eb=a0_0xc869c4;try{let _0x22af95=_0x506ff1[_0x3b06eb(0x155)];this[_0x3b06eb(0x246)][_0x3b06eb(0x5a1)](this['instanceName']+'\x20('+this[_0x3b06eb(0x801)][_0x3b06eb(0x69a)]+_0x3b06eb(0x231)+_0x22af95);let _0x47ba99={'uazapi':()=>this[_0x3b06eb(0x200)](_0x332865,_0x506ff1),'save':()=>this['saveTextReply'](_0x332865,_0x506ff1),'stop':()=>this[_0x3b06eb(0x221)](_0x332865,_0x506ff1),'condition':()=>this[_0x3b06eb(0x47c)](_0x332865,_0x506ff1),'varedit':()=>this[_0x3b06eb(0x6ea)](_0x332865,_0x506ff1),'apirequest':()=>this[_0x3b06eb(0x813)](_0x332865,_0x506ff1),'goToFlow':()=>this[_0x3b06eb(0x53a)](_0x332865,_0x506ff1),'scheduleFlow':()=>this[_0x3b06eb(0x151)](_0x332865,_0x506ff1),'awaitSeconds':()=>this[_0x3b06eb(0x6bf)](_0x332865,_0x506ff1),'clearVariables':()=>this[_0x3b06eb(0x804)](_0x332865,_0x506ff1)}[_0x22af95];_0x47ba99&&await _0x47ba99();}catch(_0x146764){this['logger'][_0x3b06eb(0x3d2)](this[_0x3b06eb(0x77a)]+'\x20('+this[_0x3b06eb(0x801)]['wuid']+_0x3b06eb(0x4b2)+(_0x146764 instanceof Error?_0x146764[_0x3b06eb(0x5ad)]:JSON[_0x3b06eb(0x563)](_0x146764,null,0x2)));}}async[a0_0xc869c4(0x6bf)](_0x4bc5f6,_0x18e01d){const _0x254885=a0_0xc869c4;if(this[_0x254885(0x246)]['verbose'](this['instanceName']+'\x20('+this[_0x254885(0x801)][_0x254885(0x69a)]+_0x254885(0x685)),!_0x4bc5f6||!_0x18e01d)return this[_0x254885(0x246)][_0x254885(0x3d2)](this[_0x254885(0x77a)]+'\x20('+this[_0x254885(0x801)][_0x254885(0x69a)]+_0x254885(0x28c)),null;let _0x3d0cf4=+_0x18e01d['awaitSeconds'];isNaN(_0x3d0cf4)&&(_0x3d0cf4=0x0),_0x3d0cf4=Math[_0x254885(0x375)](_0x3d0cf4,0x3c),await(0x0,w[_0x254885(0x379)])(_0x3d0cf4*0x3e8);let _0x216ced={'moreLogs':[_0x254885(0x3cd)+_0x3d0cf4+'\x20segundos']};return await this[_0x254885(0x107)](_0x4bc5f6,_0x18e01d,_0x216ced),_0x3d0cf4;}async['processclearVariables'](_0x41cf8e,_0x4adc6c){const _0x48c801=a0_0xc869c4;if(this[_0x48c801(0x246)][_0x48c801(0x5a1)](this[_0x48c801(0x77a)]+'\x20('+this[_0x48c801(0x801)][_0x48c801(0x69a)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x41cf8e||!_0x4adc6c)return this[_0x48c801(0x246)][_0x48c801(0x3d2)](this[_0x48c801(0x77a)]+'\x20('+this[_0x48c801(0x801)][_0x48c801(0x69a)]+_0x48c801(0x28c)),null;let _0x1e98f8=[];if(_0x4adc6c[_0x48c801(0x772)][_0x48c801(0x501)]()===_0x48c801(0x13b)){let _0x1623f3=['_sender','_pushName','_error',_0x48c801(0x68e),'_remoteJid',_0x48c801(0x59b),_0x48c801(0x6dd)];_0x1e98f8=Object[_0x48c801(0x239)](_0x41cf8e['chatLog']['realVariables'])[_0x48c801(0x314)](_0x761f9e=>_0x761f9e['startsWith']('_')&&!_0x1623f3[_0x48c801(0x49c)](_0x761f9e));}else _0x1e98f8=_0x4adc6c[_0x48c801(0x772)][_0x48c801(0x63b)]('|')[_0x48c801(0x474)](_0x330e65=>(_0x330e65=_0x330e65[_0x48c801(0x791)](/[{}]/g,'')[_0x48c801(0x501)](),_0x330e65[_0x48c801(0x24d)]('_')?_0x330e65:'_'+_0x330e65));let _0x3ea948=[];_0x1e98f8['forEach'](_0x7965e5=>{const _0x115904=_0x48c801;_0x7965e5 in _0x41cf8e[_0x115904(0x39b)]['realVariables']&&(delete _0x41cf8e[_0x115904(0x39b)][_0x115904(0x7cc)][_0x7965e5],_0x3ea948[_0x115904(0x14c)](_0x7965e5));}),_0x3ea948[_0x48c801(0x4c6)]>0x0?this[_0x48c801(0x246)][_0x48c801(0x5a1)](this[_0x48c801(0x77a)]+'\x20('+this['instance'][_0x48c801(0x69a)]+_0x48c801(0x105)+_0x3ea948[_0x48c801(0x29a)](',\x20')):this[_0x48c801(0x246)]['verbose'](this['instanceName']+'\x20('+this[_0x48c801(0x801)][_0x48c801(0x69a)]+_0x48c801(0x5eb));let _0x4a13c8={'moreLogs':[_0x48c801(0x651)+_0x3ea948['join'](',\x20')]};return await this[_0x48c801(0x107)](_0x41cf8e,_0x4adc6c,_0x4a13c8),null;}async[a0_0xc869c4(0x151)](_0xa79b14,_0x5bab09){const _0xc05429=a0_0xc869c4;if(this[_0xc05429(0x246)][_0xc05429(0x5a1)](this[_0xc05429(0x77a)]+'\x20('+this['instance'][_0xc05429(0x69a)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0xa79b14||!_0x5bab09)return this[_0xc05429(0x246)]['error'](this['instanceName']+'\x20('+this[_0xc05429(0x801)][_0xc05429(0x69a)]+_0xc05429(0x28c)),null;let _0x1c549d=_0xa79b14[_0xc05429(0x607)];_0x5bab09[_0xc05429(0x284)]['remoteJid']&&_0x5bab09[_0xc05429(0x284)][_0xc05429(0x607)][_0xc05429(0x501)]()!==''&&(_0x1c549d=_0x5bab09[_0xc05429(0x684)][_0xc05429(0x607)]['trim']());let _0x5067bc=_0x5bab09[_0xc05429(0x284)][_0xc05429(0x673)]*0xea60,_0xde2e5d=Date[_0xc05429(0x574)]()+_0x5067bc,_0x36cff1={'status':_0xc05429(0x12d),'info':_0xc05429(0x3e7)+_0xa79b14['name'],'remoteJids':[_0x1c549d],'when':_0xde2e5d,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0xc05429(0x4ad),'flowName':_0x5bab09['scheduleFlow'][_0xc05429(0x58b)]};this[_0xc05429(0x1b5)](_0x36cff1);let _0x3b88d4=await this[_0xc05429(0x217)](_0xa79b14);_0x3b88d4&&await this[_0xc05429(0x6ad)](_0xa79b14,_0x3b88d4);}async['processgoToFlow'](_0x237842,_0x10add1){const _0x45f0f1=a0_0xc869c4;if(this[_0x45f0f1(0x246)][_0x45f0f1(0x5a1)](this['instanceName']+'\x20('+this[_0x45f0f1(0x801)][_0x45f0f1(0x69a)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x237842||!_0x10add1)return this['logger'][_0x45f0f1(0x3d2)](this[_0x45f0f1(0x77a)]+'\x20('+this[_0x45f0f1(0x801)][_0x45f0f1(0x69a)]+_0x45f0f1(0x28c)),null;await this[_0x45f0f1(0x107)](_0x237842,_0x10add1,{},!0x0,!0x0);let _0x30d035=_0x10add1[_0x45f0f1(0x59e)];_0x237842=await this[_0x45f0f1(0x5e7)](_0x30d035,_0x237842[_0x45f0f1(0x607)],_0x237842[_0x45f0f1(0x39b)][_0x45f0f1(0x7cc)]);let _0x463f4c=await this['NextBlock'](_0x237842);_0x463f4c&&await this[_0x45f0f1(0x6ad)](_0x237842,_0x463f4c);}async[a0_0xc869c4(0x5e7)](_0x515304,_0x39e7ad,_0x520ed2){const _0x1eb00a=a0_0xc869c4;this[_0x1eb00a(0x246)][_0x1eb00a(0x5a1)](this['instanceName']+'\x20('+this[_0x1eb00a(0x801)]['wuid']+_0x1eb00a(0x286));try{let _0x300757=this[_0x1eb00a(0x162)][_0x1eb00a(0x32c)][_0x1eb00a(0x194)](_0x1bbb26=>_0x1bbb26['_id']===_0x515304);_0x300757||this['logger']['error'](this['instanceName']+'\x20('+this[_0x1eb00a(0x801)]['wuid']+_0x1eb00a(0x58c)+_0x515304+_0x1eb00a(0x1eb));let _0x3f437f=await this[_0x1eb00a(0x77f)][_0x1eb00a(0x4ad)][_0x1eb00a(0x4d6)]({'where':{'_id':_0x300757[_0x1eb00a(0x59b)]}});if(!_0x3f437f||!_0x3f437f['whoCanUse']?.[_0x1eb00a(0x49c)](this['instance']['wuid']))throw this[_0x1eb00a(0x246)][_0x1eb00a(0x3d2)](this[_0x1eb00a(0x77a)]+'\x20('+this[_0x1eb00a(0x801)]['wuid']+_0x1eb00a(0x58c)+_0x515304+_0x1eb00a(0x3e8)),new m(_0x1eb00a(0x612)+_0x515304+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x695957=require(_0x1eb00a(0x7fe))[_0x1eb00a(0x69d)],_0x5840d1=Date[_0x1eb00a(0x574)](),_0x32740c='start',_0x56534c={},_0x975008={},_0xd68b4e=this[_0x1eb00a(0x162)]['flows'][_0x1eb00a(0x194)](_0x2661d5=>_0x2661d5['_id']===_0x3f437f[_0x1eb00a(0x59b)]?.['toString']()),_0x2e0703=_0xd68b4e?.[_0x1eb00a(0x4cd)]??_0x3f437f[_0x1eb00a(0x4cd)]??0x0,_0xa64455=_0xd68b4e?.['readMessages']??_0x3f437f['readMessages']??!0x1,_0x908874={'flowId':_0x300757[_0x1eb00a(0x59b)],'readMessages':_0x300757['readMessages'],..._0x3f437f,'chatLog':null},_0x30b8c6={'lastReceivedMessage':_0x56534c,'lastSendMessage':_0x975008,'lastBlockId':_0x32740c,'lastCondition':!0x0,'realVariables':_0x520ed2};_0x908874[_0x1eb00a(0x39b)]=_0x30b8c6,_0x908874[_0x1eb00a(0x39b)][_0x1eb00a(0x7cc)]={..._0x520ed2},delete _0x908874[_0x1eb00a(0x59b)],_0x908874[_0x1eb00a(0x59b)]=new _0x695957(),_0x908874[_0x1eb00a(0x1f7)]=_0x5840d1,_0x908874[_0x1eb00a(0x202)]=_0x1eb00a(0x5d5),_0x908874[_0x1eb00a(0x607)]=_0x39e7ad,_0x908874[_0x1eb00a(0x4cd)]=_0x2e0703,_0x908874[_0x1eb00a(0x5cc)]=_0xa64455;let _0xa8da91=await this[_0x1eb00a(0x77f)]['flowConversation'][_0x1eb00a(0x2a2)](_0x908874[_0x1eb00a(0x59b)],_0x908874,this['instance'][_0x1eb00a(0x69a)]);return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1eb00a(0x778)),_0xa8da91?_0x908874:null;}catch(_0x3a4b73){let _0xfbac55=_0x1eb00a(0x362),_0x252a4e=_0x3a4b73 instanceof Error?_0x3a4b73[_0x1eb00a(0x5ad)]:typeof _0x3a4b73==_0x1eb00a(0xfe)?JSON[_0x1eb00a(0x563)](_0x3a4b73):_0x3a4b73,_0x4cc871=_0xfbac55+':\x20'+_0x252a4e;throw this['logger'][_0x1eb00a(0x3d2)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x4cc871),new m(_0x4cc871);}}async['processApiRequest'](_0x362d00,_0x5247d5){const _0x27fbe9=a0_0xc869c4;let _0x2a3019,_0xaa8906;try{let _0x160c3b=_0x5247d5[_0x27fbe9(0x285)];if(!_0x160c3b||!_0x160c3b['url']||!_0x160c3b[_0x27fbe9(0xe5)])throw new Error(_0x27fbe9(0x68f));let _0x3150b8;([_0x27fbe9(0x450),_0x27fbe9(0x35c),_0x27fbe9(0x406)][_0x27fbe9(0x1cc)](_0x2bbdc5=>_0x160c3b[_0x27fbe9(0x709)][_0x27fbe9(0x49c)](_0x2bbdc5))||_0x160c3b[_0x27fbe9(0x4e8)])&&(_0x3150b8=_0x27fbe9(0x43c));let _0x189422='\u205f',_0x38c443;try{_0x38c443=JSON[_0x27fbe9(0x50b)](_0x160c3b['bodyString'][_0x27fbe9(0x791)](new RegExp(_0x189422,'g'),''));}catch(_0x2a9a8b){throw _0x2a9a8b;}let _0x2291f9={'method':_0x160c3b[_0x27fbe9(0xe5)],'url':_0x160c3b[_0x27fbe9(0x709)],'headers':_0x160c3b[_0x27fbe9(0x7b7)]||{},..._0x160c3b['method']['toUpperCase']()!=='GET'&&_0x160c3b[_0x27fbe9(0x4c2)]?{'data':JSON[_0x27fbe9(0x50b)](_0x160c3b[_0x27fbe9(0x4c2)][_0x27fbe9(0x791)](new RegExp(_0x189422,'g'),''))}:{},..._0x3150b8&&{'responseType':_0x3150b8}},_0x3511a9=await(0x0,K[_0x27fbe9(0xef)])(_0x2291f9),_0x18b492=_0x3511a9[_0x27fbe9(0x125)][_0x27fbe9(0x40b)];if(_0x18b492&&_0x18b492[_0x27fbe9(0x49c)](_0x27fbe9(0x531))||typeof _0x3511a9['data']==_0x27fbe9(0x2d7)){if(typeof _0x3511a9[_0x27fbe9(0x3df)]=='string'){let _0x272b5b=_0x3511a9[_0x27fbe9(0x3df)][_0x27fbe9(0x791)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x27fbe9(0x501)]();try{_0x2a3019=JSON['parse'](_0x272b5b);}catch(_0x418ebb){this[_0x27fbe9(0x246)]['error']('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x418ebb[_0x27fbe9(0x5ad)]),_0x2a3019={'_apiResponse':_0x3511a9[_0x27fbe9(0x3df)]};}}else _0x2a3019=_0x3511a9[_0x27fbe9(0x3df)];let _0x4be2b5=_0x362d00['chatLog'][_0x27fbe9(0x7cc)],_0x35987d=this[_0x27fbe9(0x1fd)](_0x2a3019);return Object[_0x27fbe9(0x7cb)](_0x4be2b5,_0x35987d),_0x362d00[_0x27fbe9(0x39b)][_0x27fbe9(0x7cc)]=_0x4be2b5,_0xaa8906={'error':!0x1,'apiResponse':_0x2a3019},this['updateConversation'](_0x362d00,_0x5247d5,_0xaa8906),_0x2a3019;}if(_0x18b492&&(_0x18b492[_0x27fbe9(0x49c)](_0x27fbe9(0x4d1))||_0x18b492['includes'](_0x27fbe9(0x37e))||_0x18b492['includes'](_0x27fbe9(0x603))||_0x18b492['includes'](_0x27fbe9(0xe9)))){this[_0x27fbe9(0x246)][_0x27fbe9(0x5a1)](this['instanceName']+'\x20('+this[_0x27fbe9(0x801)]['wuid']+_0x27fbe9(0x71a)+_0x18b492);let _0x547c47=(0x0,Q['v4'])(),_0x5923a9='',_0x4b20bb={'image/jpeg':_0x27fbe9(0x518),'image/png':_0x27fbe9(0x520),'image/gif':_0x27fbe9(0x441),'image/webp':'.webp','image/svg+xml':_0x27fbe9(0x606),'audio/mpeg':_0x27fbe9(0x7ff),'audio/ogg':_0x27fbe9(0x6b9),'audio/wav':_0x27fbe9(0x2d3),'video/mp4':_0x27fbe9(0x775),'video/webm':_0x27fbe9(0x140),'video/ogg':_0x27fbe9(0x25c),'text/plain':_0x27fbe9(0x448),'application/pdf':'.pdf','application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x27fbe9(0x26e),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x27fbe9(0x430),'application/vnd.ms-powerpoint':_0x27fbe9(0x6f7),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x27fbe9(0x65c)};_0x4b20bb[_0x18b492]?(_0x5923a9=_0x4b20bb[_0x18b492],this[_0x27fbe9(0x246)]['verbose'](this[_0x27fbe9(0x77a)]+'\x20('+this[_0x27fbe9(0x801)]['wuid']+_0x27fbe9(0x33f)+_0x5923a9)):(_0x5923a9=_0x27fbe9(0x343),this[_0x27fbe9(0x246)]['verbose'](this['instanceName']+'\x20('+this[_0x27fbe9(0x801)][_0x27fbe9(0x69a)]+_0x27fbe9(0x1d9)+_0x5923a9)),_0x547c47+=_0x5923a9,this[_0x27fbe9(0x246)]['verbose'](this[_0x27fbe9(0x77a)]+'\x20('+this[_0x27fbe9(0x801)][_0x27fbe9(0x69a)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x547c47);let _0x11399f=this[_0x27fbe9(0x3a6)]['get'](_0x27fbe9(0x81d))[_0x27fbe9(0x5f6)];if(!_0x11399f){let _0x44f452=this[_0x27fbe9(0x3a6)][_0x27fbe9(0x1d4)]('SSL_CONF');_0x11399f=_0x27fbe9(0x69c)+(_0x44f452&&_0x44f452[_0x27fbe9(0x7ce)]['split']('/')[0x4]);}let _0x436d02=Buffer['from'](_0x3511a9[_0x27fbe9(0x3df)]);await this[_0x27fbe9(0x751)](_0x436d02,_0x547c47);let _0x105789='/media/'+_0x547c47;_0x105789=''+_0x11399f+_0x105789,_0x2a3019={'fileUrl':_0x105789},_0x362d00[_0x27fbe9(0x39b)][_0x27fbe9(0x7cc)][_0x27fbe9(0x142)]=_0x105789;let _0x382699=_0x362d00['chatLog'][_0x27fbe9(0x7cc)],_0x1751d7=this[_0x27fbe9(0x1fd)](_0x2a3019);return Object[_0x27fbe9(0x7cb)](_0x382699,_0x1751d7),_0x362d00[_0x27fbe9(0x39b)]['realVariables']=_0x382699,_0xaa8906={'error':!0x1,'apiResponse':{'fileUrl':_0x105789}},this['updateConversation'](_0x362d00,_0x5247d5,_0xaa8906),_0x2a3019;}}catch(_0x3952d8){this[_0x27fbe9(0x246)][_0x27fbe9(0x3d2)](_0x27fbe9(0x2b5)+_0x3952d8[_0x27fbe9(0x5ad)]),_0x3952d8[_0x27fbe9(0x15f)]&&(_0x2a3019=_0x3952d8[_0x27fbe9(0x15f)][_0x27fbe9(0x3df)]);let _0x245015=_0x362d00['chatLog'][_0x27fbe9(0x7cc)],_0x37cdcc=this[_0x27fbe9(0x1fd)](_0x2a3019);return Object[_0x27fbe9(0x7cb)](_0x245015,_0x37cdcc),_0x362d00[_0x27fbe9(0x39b)][_0x27fbe9(0x7cc)]=_0x245015,_0xaa8906={'error':!0x0,'errorLog':_0x3952d8[_0x27fbe9(0x806)](),'apiResponse':_0x2a3019},this['updateConversation'](_0x362d00,_0x5247d5,_0xaa8906),{'success':!0x1};}}[a0_0xc869c4(0x693)](_0x3a56be,_0x2f0ba2){const _0x50a961=a0_0xc869c4;let _0x2637ae=_0x30d8b1=>{const _0x1a66e2=a0_0x3de4;let _0x868f50=_0x30d8b1[_0x1a66e2(0x791)](/[^0-9.,-]/g,'')[_0x1a66e2(0x791)](',','.'),_0x5d6a6f=parseFloat(_0x868f50);return isNaN(_0x5d6a6f)?null:_0x5d6a6f;},_0x42897b=_0x2f0ba2[_0x50a961(0x1ad)],_0xb7a1f4=_0x2f0ba2[_0x50a961(0x75a)];typeof _0x42897b==_0x50a961(0x2d7)&&(_0x42897b=this[_0x50a961(0x193)](_0x42897b,_0x3a56be[_0x50a961(0x39b)][_0x50a961(0x7cc)])??''),typeof _0xb7a1f4==_0x50a961(0x2d7)&&(_0xb7a1f4=this['replaceVariables'](_0xb7a1f4,_0x3a56be['chatLog'][_0x50a961(0x7cc)])??'');let _0x2d9a53=null;if(!_0x2f0ba2[_0x50a961(0x41e)])return null;switch(this[_0x50a961(0x246)][_0x50a961(0x5a1)](this['instanceName']+'\x20('+this[_0x50a961(0x801)][_0x50a961(0x69a)]+_0x50a961(0x4b4)+_0x42897b),this[_0x50a961(0x246)][_0x50a961(0x5a1)](this[_0x50a961(0x77a)]+'\x20('+this[_0x50a961(0x801)][_0x50a961(0x69a)]+_0x50a961(0x389)+_0xb7a1f4),_0x2f0ba2[_0x50a961(0x41e)]){case'+':case'-':case'*':case'/':let _0x1c096c=_0x2637ae(_0x42897b||'0'),_0x212a5e=_0x2637ae(_0xb7a1f4||'0');if(_0x1c096c===null)return null;switch(_0x2f0ba2['editOperator']){case'+':_0x2d9a53=_0x1c096c+(_0x212a5e??0x0);break;case'-':_0x2d9a53=_0x1c096c-(_0x212a5e??0x0);break;case'*':_0x2d9a53=_0x1c096c*(_0x212a5e??0x1);break;case'/':_0x212a5e!==0x0&&(_0x2d9a53=_0x1c096c/(_0x212a5e??0x1));break;}break;case _0x50a961(0x4a7):case _0x50a961(0x6d2):let _0x5be28b=_0xb7a1f4,_0x38e985=_0x2f0ba2[_0x50a961(0x65a)];if(typeof _0x38e985==_0x50a961(0x2d7)&&(_0x38e985=this['replaceVariables'](_0x38e985,_0x3a56be[_0x50a961(0x39b)][_0x50a961(0x7cc)])??''),_0x5be28b&&_0x38e985!==void 0x0){let _0x2f84c0=_0x2f0ba2['editOperator']===_0x50a961(0x4a7)?new RegExp(_0x5be28b[_0x50a961(0x791)](/[-\/\\^$*+?.()|[\]{}]/g,_0x50a961(0x7dc)),'g'):new RegExp(_0x5be28b,'g');_0x2d9a53=_0x42897b[_0x50a961(0x791)](_0x2f84c0,_0x38e985);}else console[_0x50a961(0x1ae)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x50a961(0x624):_0x2d9a53=_0xb7a1f4;break;case _0x50a961(0x425):let _0x472a47=_0x42897b[_0x50a961(0x2f6)](new RegExp(_0xb7a1f4||''));_0x2d9a53=_0x472a47?_0x472a47[0x0]:'';break;case _0x50a961(0x7c6):_0x2d9a53=_0x42897b[_0x50a961(0x512)](0x0,parseInt(_0xb7a1f4||'0'));break;case'truncatedtoEnd':let _0x252b41=parseInt(_0xb7a1f4||'0');_0x2d9a53=_0x42897b['slice'](_0x42897b[_0x50a961(0x4c6)]-_0x252b41);break;case _0x50a961(0x2dc):let _0x686bdb=_0x2637ae(_0x42897b),_0xba7a20=parseInt(_0xb7a1f4||'0');_0xba7a20=Math[_0x50a961(0x2fa)](_0xba7a20),_0x686bdb!==null?_0x2d9a53=_0x686bdb[_0x50a961(0x312)]('pt-BR',{'minimumFractionDigits':_0xba7a20,'maximumFractionDigits':_0xba7a20}):(console[_0x50a961(0x1ae)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x42897b),_0x2d9a53=null);break;case _0x50a961(0x578):let _0x8d7937=_0x2637ae(_0x42897b);_0x8d7937!==null?_0x2d9a53=_0x8d7937['toLocaleString'](_0x50a961(0x60c),{'style':_0x50a961(0x62c),'currency':'BRL'}):(console[_0x50a961(0x1ae)](_0x50a961(0x72b)+_0x42897b),_0x2d9a53=null);break;case _0x50a961(0x84b):_0x2d9a53=_0x42897b[_0x50a961(0x15b)]();break;case _0x50a961(0x7a8):_0x2d9a53=_0x42897b[_0x50a961(0x61a)]();break;case _0x50a961(0x4a1):_0x2d9a53=_0x42897b[_0x50a961(0x63b)]('\x20')[_0x50a961(0x474)](_0x52ee83=>_0x52ee83[_0x50a961(0x160)](0x0)[_0x50a961(0x15b)]()+_0x52ee83[_0x50a961(0x512)](0x1)[_0x50a961(0x61a)]())[_0x50a961(0x29a)]('\x20');break;case'convertToString':_0x2d9a53=JSON[_0x50a961(0x563)](_0x42897b);break;case'trimmed':_0x2d9a53=_0x42897b[_0x50a961(0x501)]();break;default:_0x2d9a53=_0x42897b;}return _0x2d9a53!==null?_0x2d9a53[_0x50a961(0x806)]():null;}async[a0_0xc869c4(0x6ea)](_0x5ddbbf,_0x5b20b6){const _0x14e8d0=a0_0xc869c4;try{let _0x1858ff=_0x5ddbbf['varedits']?.[_0x14e8d0(0x314)](_0x412221=>_0x412221[_0x14e8d0(0x5b0)]===_0x5b20b6[_0x14e8d0(0x59b)]?.[_0x14e8d0(0x806)]())||[],_0x1dbe5b=_0x5b20b6[_0x14e8d0(0x84a)],_0x296785=null,_0x40fc90=[],_0x357c16=_0x5ddbbf[_0x14e8d0(0x39b)]['realVariables'][_0x1dbe5b];_0x40fc90[_0x14e8d0(0x14c)](_0x14e8d0(0x4fa)+_0x357c16+'\x22');for(let _0x21d327 of _0x1858ff){_0x21d327[_0x14e8d0(0x1ad)]=_0x357c16,_0x296785=_0x21d327[_0x14e8d0(0x1ad)];let _0x56cb48;try{_0x56cb48=this[_0x14e8d0(0x693)](_0x5ddbbf,_0x21d327);}catch(_0x1051ba){this[_0x14e8d0(0x246)]['error'](_0x14e8d0(0x678)+_0x1051ba[_0x14e8d0(0x5ad)]);continue;}if(_0x56cb48!==null){let _0x5e146d=_0x14e8d0(0x3a5)+_0x21d327[_0x14e8d0(0x41e)]+'\x22',_0xa15220=[_0x14e8d0(0x578),_0x14e8d0(0x84b),_0x14e8d0(0x7a8),_0x14e8d0(0x4a1),_0x14e8d0(0x397)];_0x21d327[_0x14e8d0(0x41e)]==='findAndReplace'||_0x21d327[_0x14e8d0(0x41e)]===_0x14e8d0(0x6d2)?_0x5e146d+=_0x14e8d0(0x60a)+_0x21d327[_0x14e8d0(0x75a)]+_0x14e8d0(0x4c4)+_0x21d327['replaceValue']+'\x22':!_0xa15220[_0x14e8d0(0x49c)](_0x21d327['editOperator'])&&_0x21d327[_0x14e8d0(0x75a)]!==null&&_0x21d327[_0x14e8d0(0x75a)]!==void 0x0&&(_0x5e146d+=_0x14e8d0(0x848)+_0x21d327[_0x14e8d0(0x75a)]+'\x22'),_0x5e146d+=_0x14e8d0(0x34e)+_0x56cb48+'.',_0x40fc90[_0x14e8d0(0x14c)](_0x5e146d);}_0x56cb48!==null&&(_0x357c16=_0x56cb48);}if(_0x5ddbbf[_0x14e8d0(0x39b)][_0x14e8d0(0x7cc)]&&_0x5b20b6['saveVariable']){_0x5ddbbf[_0x14e8d0(0x39b)][_0x14e8d0(0x7cc)][_0x5b20b6['saveVariable']]=_0x357c16;let _0x22e430={'variable':_0x5b20b6[_0x14e8d0(0x84a)],'oldValue':_0x296785,'newValue':_0x357c16,'moreLogs':_0x40fc90};try{this[_0x14e8d0(0x107)](_0x5ddbbf,_0x5b20b6,_0x22e430);}catch(_0x456d88){this[_0x14e8d0(0x246)]['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x456d88['message']);}}return _0x1dbe5b;}catch(_0x79ad69){return this[_0x14e8d0(0x246)][_0x14e8d0(0x3d2)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x79ad69[_0x14e8d0(0x5ad)]),null;}}async[a0_0xc869c4(0x47c)](_0x1943a0,_0x4cab45){const _0x31576e=a0_0xc869c4;try{let _0x55e4f7=[],_0x5a7845=_0x1943a0[_0x31576e(0x51b)][_0x31576e(0x314)](_0x434f8f=>_0x434f8f['blockId']===_0x4cab45[_0x31576e(0x59b)][_0x31576e(0x806)]()),_0x1a81de=null,_0x257ed3=!0x1;for(let _0xef6efa of _0x5a7845){let _0x560619=this[_0x31576e(0x648)](_0x1943a0,_0xef6efa);_0x55e4f7['push'](_0x31576e(0x1e7)+_0xef6efa[_0x31576e(0x1ad)]+_0x31576e(0x734)+_0xef6efa[_0x31576e(0x7f1)]+',\x20Segundo\x20Valor:\x20'+_0xef6efa[_0x31576e(0x75a)]+_0x31576e(0x69e)+_0x560619),_0x1a81de===null?_0x1a81de=_0x560619:_0xef6efa[_0x31576e(0x4fd)]===_0x31576e(0x5d4)?(_0x1a81de=_0x1a81de&&_0x560619,_0x560619||(_0x257ed3=!0x0)):_0xef6efa[_0x31576e(0x4fd)]==='or'&&(_0x257ed3||(_0x1a81de=_0x1a81de||_0x560619));}_0x1a81de===null&&(_0x1a81de=!0x0);let _0x16dd03={'moreLogs':_0x55e4f7};_0x1943a0[_0x31576e(0x39b)][_0x31576e(0x257)]=_0x1a81de,await this[_0x31576e(0x107)](_0x1943a0,_0x4cab45,_0x16dd03);}catch(_0x45fe0d){this[_0x31576e(0x246)][_0x31576e(0x3d2)](this[_0x31576e(0x77a)]+'\x20('+this['instance'][_0x31576e(0x69a)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x45fe0d instanceof Error?_0x45fe0d[_0x31576e(0x5ad)]:JSON[_0x31576e(0x563)](_0x45fe0d,null,0x2)));}}['evaluateCondition'](_0x2a8c77,_0x1e046c){const _0x3274d1=a0_0xc869c4;let _0x5cf31c=_0x1e046c[_0x3274d1(0x1ad)],_0x593744=_0x1e046c[_0x3274d1(0x75a)];typeof _0x5cf31c==_0x3274d1(0x2d7)&&(_0x5cf31c=this[_0x3274d1(0x193)](_0x5cf31c,_0x2a8c77[_0x3274d1(0x39b)][_0x3274d1(0x7cc)])??''),typeof _0x593744=='string'&&(_0x593744=this[_0x3274d1(0x193)](_0x593744,_0x2a8c77[_0x3274d1(0x39b)]['realVariables'])??'');try{switch(_0x1e046c[_0x3274d1(0x7f1)]){case _0x3274d1(0x1e6):return _0x5cf31c===_0x593744;case'notEqual':return _0x5cf31c!==_0x593744;case'contains':return this[_0x3274d1(0x376)](_0x5cf31c,_0x593744);case _0x3274d1(0x1e5):return!this['contains'](_0x5cf31c,_0x593744);case'greater':return parseFloat(_0x5cf31c)>parseFloat(_0x593744);case'less':return parseFloat(_0x5cf31c)<parseFloat(_0x593744);case _0x3274d1(0x3d1):return _0x5cf31c!=='';case _0x3274d1(0x73c):return _0x5cf31c==='';case _0x3274d1(0x7d9):return new RegExp(_0x593744)[_0x3274d1(0x44d)](_0x5cf31c);case _0x3274d1(0x72c):return!new RegExp(_0x593744)['test'](_0x5cf31c);default:return!0x1;}}catch(_0x4c9636){return this[_0x3274d1(0x246)]['error'](_0x3274d1(0x171)+_0x4c9636),!0x1;}}['contains'](_0x16da11,_0x47d07a){const _0x308de6=a0_0xc869c4;if(_0x16da11===_0x47d07a&&/^\d+$/[_0x308de6(0x44d)](_0x16da11))return!0x0;if(this[_0x308de6(0x830)](_0x16da11)&&/^\d+$/[_0x308de6(0x44d)](_0x47d07a)){let _0x3d11d1=_0x16da11[_0x308de6(0x63b)](',')[_0x308de6(0x474)](_0x2442e2=>parseInt(_0x2442e2[_0x308de6(0x501)]())),_0xa19bda=parseInt(_0x47d07a);return _0x3d11d1[_0x308de6(0x49c)](_0xa19bda);}return _0x16da11[_0x308de6(0x49c)](_0x47d07a);}['isListOfNumbers'](_0x4c8c0f){const _0x21c88e=a0_0xc869c4;return/^\d+(,\d+)*$/[_0x21c88e(0x44d)](_0x4c8c0f);}[a0_0xc869c4(0x560)](_0x6f181c){const _0x42776a=a0_0xc869c4;let _0x152b3b=!0x0,_0x25ef94=null;for(let _0x11f4d7 of _0x6f181c){let _0x5ad5ec=this[_0x42776a(0x1a6)](_0x11f4d7);if(_0x25ef94==='or'&&_0x5ad5ec){_0x152b3b=!0x0;break;}if(_0x25ef94==='and'&&!_0x5ad5ec){_0x152b3b=!0x1;break;}_0x25ef94=_0x11f4d7[_0x42776a(0x4fd)];}return _0x152b3b;}[a0_0xc869c4(0x1a6)](_0x1da6bd){const _0x37face=a0_0xc869c4;let _0x3b42e6=_0x1da6bd[_0x37face(0x1ad)],_0x1a1e08=_0x1da6bd[_0x37face(0x75a)];try{switch(_0x1da6bd['expression']){case'equal':return String(_0x3b42e6)===String(_0x1a1e08);case'notEqual':return String(_0x3b42e6)!==String(_0x1a1e08);case _0x37face(0x376):return String(_0x3b42e6)[_0x37face(0x49c)](String(_0x1a1e08));case _0x37face(0x1e5):return!String(_0x3b42e6)[_0x37face(0x49c)](String(_0x1a1e08));case _0x37face(0x253):return parseFloat(String(_0x3b42e6))>parseFloat(String(_0x1a1e08));case _0x37face(0x405):return parseFloat(String(_0x3b42e6))<parseFloat(String(_0x1a1e08));case _0x37face(0x3d1):return String(_0x3b42e6)!=='';case'empty':return String(_0x3b42e6)==='';case'matchRegex':return new RegExp(String(_0x1a1e08))['test'](String(_0x3b42e6));case _0x37face(0x72c):return!new RegExp(String(_0x1a1e08))[_0x37face(0x44d)](String(_0x3b42e6));default:return!0x1;}}catch(_0x11471a){return this[_0x37face(0x246)][_0x37face(0x3d2)](_0x37face(0x171)+_0x11471a),!0x1;}}async[a0_0xc869c4(0x2eb)](_0x3d7c43,_0x53825e){const _0x50cda4=a0_0xc869c4;if(this['logger']['verbose'](this[_0x50cda4(0x77a)]+'\x20('+this[_0x50cda4(0x801)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x3d7c43||!_0x53825e)return this[_0x50cda4(0x246)][_0x50cda4(0x3d2)](this[_0x50cda4(0x77a)]+'\x20('+this[_0x50cda4(0x801)][_0x50cda4(0x69a)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x66ec4b=_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x75e)][_0x50cda4(0x7e2)]['id'];this[_0x50cda4(0x246)]['verbose'](this[_0x50cda4(0x77a)]+'\x20('+this[_0x50cda4(0x801)][_0x50cda4(0x69a)]+_0x50cda4(0x479)+_0x66ec4b);let _0x48d01f={'key':{'id':_0x66ec4b}},_0x172de9=_0x53825e[_0x50cda4(0x84a)];_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)]['_'+_0x172de9+_0x50cda4(0x7e6)]=null,_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)]['_'+_0x172de9+_0x50cda4(0x42d)]=null,_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)]['_'+_0x172de9+_0x50cda4(0x7e1)]=null,_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)]['_'+_0x172de9+'.type']=_0x3d7c43['chatLog']['lastReceivedMessage']['type'];try{let _0x2cd90f=await this[_0x50cda4(0x2d8)](_0x48d01f);this['logger'][_0x50cda4(0x5a1)](this[_0x50cda4(0x77a)]+'\x20('+this[_0x50cda4(0x801)]['wuid']+_0x50cda4(0x1f1)),_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)]['_'+_0x172de9+_0x50cda4(0x80c)]=_0x2cd90f[_0x50cda4(0x142)],_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)]['_'+_0x172de9+_0x50cda4(0x42d)]=_0x2cd90f[_0x50cda4(0x32e)];let _0x50c2a9=_0x2cd90f[_0x50cda4(0x32e)][_0x50cda4(0x2f6)](/\/(\w+)$/),_0x255903=_0x50c2a9?_0x50c2a9[0x1]:null;_0x3d7c43['chatLog'][_0x50cda4(0x7cc)]['_'+_0x172de9+_0x50cda4(0x7e1)]=_0x255903,this[_0x50cda4(0x246)][_0x50cda4(0x5a1)](this[_0x50cda4(0x77a)]+'\x20('+this[_0x50cda4(0x801)][_0x50cda4(0x69a)]+_0x50cda4(0x7ee)+_0x172de9+'\x27.');}catch(_0x2c5ff9){this['logger'][_0x50cda4(0x3d2)](this[_0x50cda4(0x77a)]+'\x20('+this[_0x50cda4(0x801)]['wuid']+_0x50cda4(0xfa)+_0x2c5ff9['message']);}let _0x39b69c=_0x3d7c43[_0x50cda4(0x39b)]['lastReceivedMessage'][_0x50cda4(0x1ed)]||_0x3d7c43[_0x50cda4(0x39b)]['lastReceivedMessage'][_0x50cda4(0x7b5)]||_0x3d7c43['chatLog'][_0x50cda4(0x75e)][_0x50cda4(0xd2)];try{_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)]||(_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)]={});let _0x54c418=_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)][_0x172de9];_0x3d7c43[_0x50cda4(0x39b)][_0x50cda4(0x7cc)][_0x172de9]=_0x39b69c;let _0x59b8bd={'variable':_0x172de9,'oldValue':_0x54c418,'newValue':_0x39b69c};this[_0x50cda4(0x107)](_0x3d7c43,_0x53825e,_0x59b8bd),this[_0x50cda4(0x246)][_0x50cda4(0x5a1)](this[_0x50cda4(0x77a)]+'\x20('+this[_0x50cda4(0x801)]['wuid']+_0x50cda4(0x408));}catch(_0x5a857f){let _0x367b1a={'error':!0x0,'errorLog':_0x5a857f[_0x50cda4(0x806)]()};return this[_0x50cda4(0x107)](_0x3d7c43,_0x53825e,_0x367b1a),this[_0x50cda4(0x246)][_0x50cda4(0x3d2)](this[_0x50cda4(0x77a)]+'\x20('+this[_0x50cda4(0x801)][_0x50cda4(0x69a)]+_0x50cda4(0x7f8)+(_0x5a857f instanceof Error?_0x5a857f[_0x50cda4(0x5ad)]:JSON['stringify'](_0x5a857f,null,0x2))),null;}}async[a0_0xc869c4(0x221)](_0x475eac,_0x528991){const _0x513880=a0_0xc869c4;if(this[_0x513880(0x246)][_0x513880(0x5a1)](this['instanceName']+'\x20('+this[_0x513880(0x801)][_0x513880(0x69a)]+_0x513880(0x489)),!_0x475eac||!_0x528991)return this[_0x513880(0x246)]['error'](this[_0x513880(0x77a)]+'\x20('+this[_0x513880(0x801)][_0x513880(0x69a)]+_0x513880(0x28c)),null;let _0x4a2fdd=Date['now'](),_0x235756=parseInt(_0x528991[_0x513880(0x74c)],0xa);if(isNaN(_0x235756))return this[_0x513880(0x246)][_0x513880(0x3d2)](this['instanceName']+'\x20('+this[_0x513880(0x801)][_0x513880(0x69a)]+_0x513880(0x7ac)),null;let _0x174ef0={'newStoppedUntil':_0x4a2fdd+_0x235756*0x3c*0x3e8};return await this[_0x513880(0x107)](_0x475eac,_0x528991,_0x174ef0,!0x0),null;}async['processUazapi'](_0x135858,_0x1e7b90){const _0x276530=a0_0xc869c4;try{switch(_0x1e7b90[_0x276530(0x684)][_0x276530(0x22e)]){case _0x276530(0x258):await this[_0x276530(0x780)](_0x135858,_0x1e7b90);break;case _0x276530(0x75c):await this['uazapiSendMedia'](_0x135858,_0x1e7b90);break;case _0x276530(0x6fb):await this['uazapiSendLocation'](_0x135858,_0x1e7b90);break;case _0x276530(0x503):await this[_0x276530(0x3a2)](_0x135858,_0x1e7b90);break;case'sendContact':await this[_0x276530(0x305)](_0x135858,_0x1e7b90);break;case _0x276530(0x11f):await this[_0x276530(0x288)](_0x135858,_0x1e7b90);break;case'sendMenu':await this[_0x276530(0x288)](_0x135858,_0x1e7b90);break;case _0x276530(0x671):await this[_0x276530(0x62d)](_0x135858,_0x1e7b90);break;default:this[_0x276530(0x246)][_0x276530(0x3d2)](this[_0x276530(0x77a)]+'\x20('+this['instance']['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x1e7b90[_0x276530(0x684)][_0x276530(0x22e)]);}}catch(_0x1d6e1a){this[_0x276530(0x246)]['error'](this['instanceName']+'\x20('+this['instance'][_0x276530(0x69a)]+_0x276530(0x3a1)+(_0x1d6e1a instanceof Error?_0x1d6e1a[_0x276530(0x5ad)]:JSON[_0x276530(0x563)](_0x1d6e1a,null,0x2)));}}async['updateConversation'](_0x5e1dee,_0x46c01a,_0x21e878,_0x374f33=!0x1,_0x547894=!0x1){const _0xb4f1c7=a0_0xc869c4;_0x5e1dee[_0xb4f1c7(0x39b)]['blockLogs']||(_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x63f)]=[]);let _0x37c392=(_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x63f)]?.[_0xb4f1c7(0x4c6)]??0x0)+0x1,_0x105341=_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x63f)][_0xb4f1c7(0x314)](_0x4f3501=>String(_0x4f3501[_0xb4f1c7(0x5b0)])===String(_0x46c01a[_0xb4f1c7(0x59b)]))['length']+0x1,_0x198eae=_0x21e878?.[_0xb4f1c7(0x3e4)]??Date[_0xb4f1c7(0x574)](),_0x557172=_0x21e878?.[_0xb4f1c7(0x3d2)]?_0x21e878[_0xb4f1c7(0x34d)]??_0x21e878[_0xb4f1c7(0x3d2)][_0xb4f1c7(0x806)]():void 0x0,_0x396c3d={'onTime':_0x198eae,'blockId':_0x46c01a[_0xb4f1c7(0x59b)],'order':_0x37c392,'activatedCount':_0x105341,'error':_0x21e878?.['error']??!0x1,'messageId':_0x21e878?.[_0xb4f1c7(0x4dd)],'apiResponse':_0x21e878?.[_0xb4f1c7(0xcd)],'apiResponseString':_0x21e878?.[_0xb4f1c7(0xcd)]?JSON[_0xb4f1c7(0x563)](_0x21e878?.['apiResponse']):void 0x0,'variable':_0x21e878?.[_0xb4f1c7(0x1a8)],'oldValue':_0x21e878?.[_0xb4f1c7(0x7ae)],'newValue':_0x21e878?.['newValue'],'newStoppedUntil':_0x21e878?.[_0xb4f1c7(0x6c2)],'moreLogs':_0x21e878?.[_0xb4f1c7(0x18d)],'errorLog':_0x557172};if(_0x21e878[_0xb4f1c7(0x18d)]&&_0x21e878[_0xb4f1c7(0x18d)]['length']>0x0){let _0x5ea43b=_0x21e878['moreLogs'][_0xb4f1c7(0x474)](_0x1ea63b=>this['replaceVariablesLogs'](_0x1ea63b,_0x5e1dee['chatLog']['realVariables']));_0x396c3d[_0xb4f1c7(0x18d)]=_0x5ea43b;}if(_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x7cc)]||(_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x7cc)]={}),_0x5e1dee[_0xb4f1c7(0x39b)]['realVariables'][_0xb4f1c7(0x40e)]=String(_0x105341),_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x7cc)]['_error']=String(_0x21e878[_0xb4f1c7(0x3d2)]??!0x1),_0x5e1dee[_0xb4f1c7(0x39b)]['blockLogs']['push'](_0x396c3d),_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x7cc)][_0xb4f1c7(0x20e)]&&_0x5e1dee[_0xb4f1c7(0x39b)]['realVariables'][_0xb4f1c7(0x20e)]!==_0x5e1dee[_0xb4f1c7(0x607)]){let _0x5683b3=(await this[_0xb4f1c7(0x23f)]({'numbers':[_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x7cc)]['telefone']]}))[0x0][_0xb4f1c7(0x724)];_0x5e1dee['chatLog'][_0xb4f1c7(0x7cc)][_0xb4f1c7(0x20e)]=_0x5683b3,_0x5e1dee[_0xb4f1c7(0x607)]=_0x5683b3;try{let _0x5cdd08={'_id':{'$ne':_0x5e1dee['_id']},'remoteJid':_0x5683b3,'status':_0xb4f1c7(0x5d5)},_0x2db2b2={'status':'closed'};await this[_0xb4f1c7(0x77f)][_0xb4f1c7(0x7f6)][_0xb4f1c7(0x414)](_0x5cdd08,_0x2db2b2,this[_0xb4f1c7(0x801)][_0xb4f1c7(0x69a)]),this['logger'][_0xb4f1c7(0x5a1)](this[_0xb4f1c7(0x77a)]+'\x20('+this[_0xb4f1c7(0x801)]['wuid']+_0xb4f1c7(0x654));}catch(_0x1dd5bc){this['logger'][_0xb4f1c7(0x3d2)](this['instanceName']+'\x20('+this[_0xb4f1c7(0x801)][_0xb4f1c7(0x69a)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x1dd5bc[_0xb4f1c7(0x5ad)]);}try{let _0x80f344=_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x7cc)],_0x122aa4=await this[_0xb4f1c7(0x175)](_0x5683b3),_0xd3c0c7={..._0x80f344,..._0x122aa4,'_remoteJid':_0x5683b3};_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x7cc)]=_0xd3c0c7;}catch(_0x2257a9){this['logger'][_0xb4f1c7(0x3d2)](this['instanceName']+'\x20('+this[_0xb4f1c7(0x801)][_0xb4f1c7(0x69a)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x2257a9[_0xb4f1c7(0x5ad)]);}}_0x5e1dee[_0xb4f1c7(0x39b)]['lastBlockId']=_0x46c01a[_0xb4f1c7(0x59b)]['toString'](),_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x232)]&&(_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x232)]=_0x5e1dee['chatLog'][_0xb4f1c7(0x232)]),_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x75e)]&&(_0x5e1dee['chatLog']['lastReceivedMessage']=_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x75e)]),_0x5e1dee['chatLog'][_0xb4f1c7(0x257)]&&(_0x5e1dee['chatLog'][_0xb4f1c7(0x257)]=_0x5e1dee[_0xb4f1c7(0x39b)][_0xb4f1c7(0x257)]),_0x547894&&(_0x5e1dee[_0xb4f1c7(0x202)]=_0xb4f1c7(0x659)),_0x374f33?this['saveConversationToDatabase'](_0x5e1dee):this['goNextblock'](_0x5e1dee,_0x46c01a);}[a0_0xc869c4(0x4df)](_0x27ceb3,_0x9b556e){const _0x1a5961=a0_0xc869c4;return _0x27ceb3[_0x1a5961(0x791)](/\{\{([^}]+)\}\}/g,(_0x2a5250,_0x246afb)=>_0x9b556e[_0x246afb]?'{{'+_0x246afb+'}}\x20->\x20\x22'+_0x9b556e[_0x246afb]+'\x22':'{{'+_0x246afb+_0x1a5961(0xdb));}async['saveConversationToDatabase'](_0x537cf6){const _0x355b4b=a0_0xc869c4;try{let _0xd8e90=Object['entries'](_0x537cf6[_0x355b4b(0x39b)][_0x355b4b(0x7cc)])[_0x355b4b(0x474)](([_0x156e5e,_0x3ba904])=>({'name':_0x156e5e,'value':_0x3ba904})),_0x348242={'status':_0x537cf6[_0x355b4b(0x202)],'remoteJid':_0x537cf6[_0x355b4b(0x607)],'blocks':_0x537cf6[_0x355b4b(0x755)],'waitingMenu_id':_0x537cf6[_0x355b4b(0x74f)],'waitingMenu_text':_0x537cf6[_0x355b4b(0x6c8)],'waitingMenu_replyOptions':_0x537cf6[_0x355b4b(0x4ba)],'chatLog':{'lastBlockId':_0x537cf6['chatLog'][_0x355b4b(0x28b)],'lastSendMessage':_0x537cf6[_0x355b4b(0x39b)]['lastSendMessage'],'lastReceivedMessage':_0x537cf6[_0x355b4b(0x39b)][_0x355b4b(0x75e)],'lastCondition':_0x537cf6[_0x355b4b(0x39b)][_0x355b4b(0x257)],'chatVariables':_0xd8e90,'realVariables':_0x537cf6[_0x355b4b(0x39b)][_0x355b4b(0x7cc)],'blockLogs':_0x537cf6[_0x355b4b(0x39b)][_0x355b4b(0x63f)]}},_0x5a55a6=await this[_0x355b4b(0x77f)][_0x355b4b(0x7f6)][_0x355b4b(0x2a2)](_0x537cf6[_0x355b4b(0x59b)],_0x348242,this[_0x355b4b(0x801)][_0x355b4b(0x69a)]);if(_0x5a55a6){this[_0x355b4b(0x246)][_0x355b4b(0x5a1)](this[_0x355b4b(0x77a)]+'\x20('+this[_0x355b4b(0x801)]['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x5a55a6[_0x355b4b(0x59b)]);try{let _0x929c90=[_0x355b4b(0x473),_0x355b4b(0x2c2),_0x355b4b(0x424),_0x355b4b(0x134),_0x355b4b(0x202),_0x355b4b(0x2d4),_0x355b4b(0x4f5),_0x355b4b(0x5e4),_0x355b4b(0x3ee),'atendimentoAberto'];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error(_0x355b4b(0x694));let _0x4e728e=this['AutomateSystem']?.['customFields'][_0x355b4b(0x474)](_0x2149d5=>_0x2149d5['name']),_0x2d38ef={};Object[_0x355b4b(0x85d)](_0x537cf6[_0x355b4b(0x39b)]['realVariables'])[_0x355b4b(0x64a)](([_0x2e599f,_0x4e523a])=>{const _0x3ff226=_0x355b4b;_0x929c90[_0x3ff226(0x49c)](_0x2e599f)&&(_0x2e599f===_0x3ff226(0x5e4)&&typeof _0x4e523a==_0x3ff226(0x2d7)?_0x2d38ef[_0x2e599f]=_0x4e523a[_0x3ff226(0x63b)](',')[_0x3ff226(0x474)](_0x269858=>_0x269858[_0x3ff226(0x501)]())['filter'](_0x1e9dbe=>_0x1e9dbe!==''):_0x2e599f===_0x3ff226(0x3ee)&&typeof _0x4e523a==_0x3ff226(0x2d7)?_0x2d38ef[_0x2e599f]=_0x4e523a[_0x3ff226(0x63b)](',')['map'](_0x576211=>_0x576211[_0x3ff226(0x501)]())[_0x3ff226(0x314)](_0x123324=>_0x123324!==''):_0x2d38ef[_0x2e599f]=_0x4e523a);});let _0x107ba1=_0x537cf6[_0x355b4b(0x39b)]['blockLogs'][_0x537cf6[_0x355b4b(0x39b)][_0x355b4b(0x63f)][_0x355b4b(0x4c6)]-0x1];if(_0x107ba1){let _0x56dc43=_0x107ba1[_0x355b4b(0x6c2)];_0x56dc43!==void 0x0&&(_0x2d38ef[_0x355b4b(0x768)]=_0x56dc43[_0x355b4b(0x806)]());}let _0x32c917=_0xd8e90[_0x355b4b(0x314)](_0x15a9b6=>_0x4e728e[_0x355b4b(0x49c)](_0x15a9b6[_0x355b4b(0x15e)]));this['logger'][_0x355b4b(0x5a1)](this['instanceName']+'\x20('+this[_0x355b4b(0x801)]['wuid']+_0x355b4b(0x532)),this[_0x355b4b(0x246)][_0x355b4b(0x5a1)](_0x2d38ef),this[_0x355b4b(0x246)]['verbose'](this[_0x355b4b(0x77a)]+'\x20('+this[_0x355b4b(0x801)][_0x355b4b(0x69a)]+_0x355b4b(0x267)),this[_0x355b4b(0x246)][_0x355b4b(0x5a1)](_0x32c917);let _0x5c0e03=_0x32c917['map'](_0x5a1f6e=>{const _0xa53249=_0x355b4b;let _0x31ec8f=this['AutomateSystem']?.[_0xa53249(0x56b)][_0xa53249(0x194)](_0x5bdc31=>_0x5bdc31[_0xa53249(0x15e)]===_0x5a1f6e[_0xa53249(0x15e)]);if(!_0x31ec8f)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x5a1f6e[_0xa53249(0x15e)]);return{'_id':_0x31ec8f[_0xa53249(0x59b)],'value':_0x5a1f6e[_0xa53249(0x383)]};});this[_0x355b4b(0x246)]['verbose'](this[_0x355b4b(0x77a)]+'\x20('+this[_0x355b4b(0x801)][_0x355b4b(0x69a)]+'):\x20transformedCustomFieldVariables'),this[_0x355b4b(0x246)][_0x355b4b(0x5a1)](_0x5c0e03),await this['saveChatVariables'](_0x537cf6[_0x355b4b(0x607)],_0x2d38ef,_0x5c0e03);}catch(_0x2fca47){this[_0x355b4b(0x246)][_0x355b4b(0x3d2)](this[_0x355b4b(0x77a)]+'\x20('+this[_0x355b4b(0x801)][_0x355b4b(0x69a)]+_0x355b4b(0x4ff)+(_0x2fca47 instanceof Error?_0x2fca47['message']:JSON[_0x355b4b(0x563)](_0x2fca47,null,0x2)));}}else this['logger'][_0x355b4b(0x3d2)](this[_0x355b4b(0x77a)]+'\x20('+this[_0x355b4b(0x801)]['wuid']+_0x355b4b(0x337));}catch(_0x38b346){this[_0x355b4b(0x246)]['error'](this['instanceName']+'\x20('+this[_0x355b4b(0x801)][_0x355b4b(0x69a)]+_0x355b4b(0x170)+(_0x38b346 instanceof Error?_0x38b346[_0x355b4b(0x5ad)]:JSON[_0x355b4b(0x563)](_0x38b346,null,0x2)));}}async[a0_0xc869c4(0x51e)](_0x546018,_0x93eb44,_0x4af0b2){const _0x5f2c3e=a0_0xc869c4;try{let _0x226f38={'leadInfo.leadnome':_0x93eb44[_0x5f2c3e(0x473)],'leadInfo.nomecompleto':_0x93eb44['nomecompleto'],'leadInfo.email':_0x93eb44[_0x5f2c3e(0x424)],'leadInfo.cpf':_0x93eb44['cpf'],'leadInfo.status':_0x93eb44[_0x5f2c3e(0x202)],'leadInfo.notas':_0x93eb44['notas'],'leadInfo.responsavelid':_0x93eb44[_0x5f2c3e(0x4f5)],'leadInfo.tags':_0x93eb44[_0x5f2c3e(0x5e4)],'leadInfo.etiquetas':_0x93eb44[_0x5f2c3e(0x3ee)],'leadInfo.customFields':_0x4af0b2,'leadInfo.atendimentoAberto':_0x93eb44[_0x5f2c3e(0x3b7)]},_0x3fd09b=await this[_0x5f2c3e(0x77f)][_0x5f2c3e(0x6f8)][_0x5f2c3e(0x4d6)]({'where':{'_id':_0x546018}},this['instance'][_0x5f2c3e(0x69a)]);if(!_0x3fd09b)return'chat\x20não\x20encontrado';let _0x5b91e8=new Set(_0x3fd09b[_0x5f2c3e(0x639)][_0x5f2c3e(0x3ee)]||[]),_0x46b16f=new Set(_0x93eb44[_0x5f2c3e(0x3ee)]||[]),_0x885b3=await this[_0x5f2c3e(0x77f)][_0x5f2c3e(0x59d)][_0x5f2c3e(0x194)]({'where':{}},this[_0x5f2c3e(0x801)][_0x5f2c3e(0x69a)]),_0x39a41c=new Set(_0x885b3['map'](_0xb40b56=>_0xb40b56[_0x5f2c3e(0x59b)])),_0x543f1d=[..._0x46b16f][_0x5f2c3e(0x314)](_0x120c0c=>!_0x5b91e8[_0x5f2c3e(0x588)](_0x120c0c)&&_0x39a41c[_0x5f2c3e(0x588)](_0x120c0c)),_0x1212dd=[..._0x5b91e8]['filter'](_0x110e54=>!_0x46b16f['has'](_0x110e54));for(let _0xa13704 of _0x543f1d)await this[_0x5f2c3e(0x608)](_0xa13704,_0x3fd09b[_0x5f2c3e(0x59b)]),_0x5b91e8[_0x5f2c3e(0x346)](_0xa13704);for(let _0x618115 of _0x1212dd)await this['RemoveChatLabel'](_0x618115,_0x3fd09b['_id']),_0x5b91e8[_0x5f2c3e(0x7c3)](_0x618115);if('desativadoFluxoAte'in _0x93eb44){let _0x176d48=_0x93eb44[_0x5f2c3e(0x768)];_0x226f38['leadInfo.desativadoFluxoAte']=_0x176d48?Number(_0x176d48):null;}if(_0x5f2c3e(0x3b7)in _0x93eb44){let _0x217d79=_0x93eb44[_0x5f2c3e(0x3b7)][_0x5f2c3e(0x61a)]();_0x226f38[_0x5f2c3e(0x835)]=_0x217d79==='true'||_0x217d79==='1'||_0x217d79===_0x5f2c3e(0x666)||_0x217d79==='sim';}let _0x3124d0=await this[_0x5f2c3e(0x77f)][_0x5f2c3e(0x6f8)][_0x5f2c3e(0x2a2)]({'where':{'_id':_0x546018}},_0x226f38,this[_0x5f2c3e(0x801)][_0x5f2c3e(0x69a)]);_0x3124d0?(this[_0x5f2c3e(0x246)][_0x5f2c3e(0x5a1)](this[_0x5f2c3e(0x77a)]+'\x20('+this[_0x5f2c3e(0x801)][_0x5f2c3e(0x69a)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x3124d0[_0x5f2c3e(0x59b)]),F(this['instanceName'],_0x5f2c3e(0x856),{'chat':_0x3124d0})):this[_0x5f2c3e(0x246)][_0x5f2c3e(0x3d2)](this[_0x5f2c3e(0x77a)]+'\x20('+this[_0x5f2c3e(0x801)][_0x5f2c3e(0x69a)]+_0x5f2c3e(0x6c1));}catch(_0x3595db){this[_0x5f2c3e(0x246)][_0x5f2c3e(0x3d2)](this[_0x5f2c3e(0x77a)]+'\x20('+this[_0x5f2c3e(0x801)][_0x5f2c3e(0x69a)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x3595db instanceof Error?_0x3595db['message']:JSON[_0x5f2c3e(0x563)](_0x3595db,null,0x2)));}}async['updateStopChat'](_0x2e1f7b,_0x3b0223){const _0x1bdd07=a0_0xc869c4;this[_0x1bdd07(0x246)][_0x1bdd07(0x5a1)](this[_0x1bdd07(0x77a)]+'\x20('+this['instance'][_0x1bdd07(0x69a)]+_0x1bdd07(0x711)+_0x3b0223);try{let _0x227d5a=await this[_0x1bdd07(0x77f)][_0x1bdd07(0x6f8)][_0x1bdd07(0x2a2)]({'where':{'_id':_0x2e1f7b[_0x1bdd07(0x607)]}},{'leadInfo.desativadoFluxoAte':_0x3b0223},this['instance'][_0x1bdd07(0x69a)]);this['logger'][_0x1bdd07(0x5a1)](this['instanceName']+'\x20('+this[_0x1bdd07(0x801)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x2e1f7b[_0x1bdd07(0x59b)]),this[_0x1bdd07(0x246)][_0x1bdd07(0x5a1)](this[_0x1bdd07(0x77a)]+'\x20('+this[_0x1bdd07(0x801)][_0x1bdd07(0x69a)]+_0x1bdd07(0x711)+JSON['stringify'](_0x227d5a,null,0x2)),_0x227d5a&&F(this[_0x1bdd07(0x77a)],_0x1bdd07(0x856),{'chat':_0x227d5a});}catch(_0x4f2dcb){this[_0x1bdd07(0x246)]['error'](this[_0x1bdd07(0x77a)]+'\x20('+this[_0x1bdd07(0x801)]['wuid']+_0x1bdd07(0x5d2)+(_0x4f2dcb instanceof Error?_0x4f2dcb[_0x1bdd07(0x5ad)]:JSON['stringify'](_0x4f2dcb,null,0x2)));}}async[a0_0xc869c4(0x7a9)](_0x10312a){const _0x29770f=a0_0xc869c4;try{this[_0x29770f(0x246)][_0x29770f(0x5a1)](this[_0x29770f(0x77a)]+'\x20('+this[_0x29770f(0x801)][_0x29770f(0x69a)]+'):\x20Buscando\x20flow...');let _0x158b91=_0x10312a[_0x29770f(0x791)](/\D/g,''),_0xd04fd7=this[_0x29770f(0x162)][_0x29770f(0x32c)]['find'](_0x52a00d=>_0x52a00d[_0x29770f(0x762)]===_0x158b91);if(_0xd04fd7||(this[_0x29770f(0x246)][_0x29770f(0x5a1)](this[_0x29770f(0x77a)]+'\x20('+this[_0x29770f(0x801)][_0x29770f(0x69a)]+_0x29770f(0x3e0)),_0xd04fd7=this[_0x29770f(0x162)][_0x29770f(0x32c)][_0x29770f(0x194)](_0x52551d=>_0x52551d[_0x29770f(0xef)]===!0x0)),!_0xd04fd7)return this[_0x29770f(0x246)]['verbose'](this[_0x29770f(0x77a)]+'\x20('+this[_0x29770f(0x801)][_0x29770f(0x69a)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x46282b=await this['repository'][_0x29770f(0x4ad)][_0x29770f(0x4d6)]({'where':{'_id':_0xd04fd7[_0x29770f(0x59b)]}});if(!_0x46282b||!_0x46282b[_0x29770f(0x5b1)]?.[_0x29770f(0x49c)](this[_0x29770f(0x801)][_0x29770f(0x69a)]))throw this[_0x29770f(0x246)][_0x29770f(0x3d2)](this[_0x29770f(0x77a)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0x46282b[_0x29770f(0x59b)]+_0x29770f(0x3e8)),new m(_0x29770f(0x612)+_0x46282b[_0x29770f(0x59b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x46282b;}catch(_0x13c80c){return this[_0x29770f(0x246)][_0x29770f(0x3d2)](this['instanceName']+'\x20('+this[_0x29770f(0x801)][_0x29770f(0x69a)]+_0x29770f(0x472)+(_0x13c80c instanceof Error?_0x13c80c['message']:JSON['stringify'](_0x13c80c,null,0x2))),null;}}async['findConversation'](_0x482b25,_0x1362cb){const _0x56b595=a0_0xc869c4;try{let _0x5dcb13=!!_0x1362cb[_0x56b595(0xd2)],_0x3765a5=_0x1362cb[_0x56b595(0x803)],_0x36ca0b=null;if(this[_0x56b595(0x246)][_0x56b595(0x5a1)](this[_0x56b595(0x77a)]+'\x20('+this['instance'][_0x56b595(0x69a)]+_0x56b595(0x81c)+_0x5dcb13+_0x56b595(0x378)+_0x3765a5),_0x5dcb13){this[_0x56b595(0x246)]['verbose'](this['instanceName']+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+_0x56b595(0x864));let _0x4a66c5={'where':{'remoteJid':_0x482b25,'waitingMenu_id':_0x3765a5}};if(_0x36ca0b=await this['repository'][_0x56b595(0x7f6)][_0x56b595(0x4d6)](_0x4a66c5,this[_0x56b595(0x801)][_0x56b595(0x69a)]),!_0x36ca0b)return this['logger'][_0x56b595(0x5a1)](this['instanceName']+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+_0x56b595(0x277)),null;let _0x203b53=Date[_0x56b595(0x574)](),_0x3e68ca=_0x36ca0b?.[_0x56b595(0x4cd)]||0x0,_0x2712a1=_0x203b53-_0x3e68ca*0x3c*0x3e8;if(_0x36ca0b[_0x56b595(0x1f7)]<_0x2712a1){this[_0x56b595(0x246)]['verbose'](this[_0x56b595(0x77a)]+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x26a0a9={'number':_0x36ca0b[_0x56b595(0x607)],'options':{'delay':0x0},'textMessage':{'text':_0x36ca0b['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0x26a0a9);let _0x5bb174={'status':_0x56b595(0x659),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x56b595(0x77f)][_0x56b595(0x7f6)]['updateOne'](_0x36ca0b['_id'],_0x5bb174,this[_0x56b595(0x801)][_0x56b595(0x69a)]),null;}return _0x36ca0b[_0x56b595(0x1f7)]=Date['now'](),_0x36ca0b[_0x56b595(0x39b)][_0x56b595(0x75e)]=_0x1362cb,_0x36ca0b;}else{this[_0x56b595(0x246)][_0x56b595(0x5a1)](this[_0x56b595(0x77a)]+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+'):\x20'+this[_0x56b595(0x801)]['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x56b595(0x246)][_0x56b595(0x5a1)](this[_0x56b595(0x77a)]+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+_0x56b595(0x13a));let _0x594402={'where':{'remoteJid':_0x482b25,'status':_0x56b595(0x5d5)}};if(_0x36ca0b=await this[_0x56b595(0x77f)][_0x56b595(0x7f6)][_0x56b595(0x4d6)](_0x594402,this[_0x56b595(0x801)]['wuid']),!_0x36ca0b){let _0x2471bd=await this[_0x56b595(0x7a9)](_0x482b25);if(_0x2471bd&&(_0x36ca0b=await this[_0x56b595(0x1f4)](_0x2471bd,_0x1362cb[_0x56b595(0x7e2)],_0x1362cb)),!_0x36ca0b)return null;}let _0x1191a6=Date[_0x56b595(0x574)](),_0x18f45c=_0x36ca0b?.[_0x56b595(0x4cd)]||0x0,_0x44b7ca=_0x1191a6-_0x18f45c*0x3c*0x3e8;if(this[_0x56b595(0x246)][_0x56b595(0x5a1)](this[_0x56b595(0x77a)]+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+_0x56b595(0x2ee)+_0x1191a6+',\x20Minutes\x20to\x20Close:\x20'+_0x18f45c+_0x56b595(0x2c3)+_0x44b7ca),this[_0x56b595(0x246)]['verbose'](this['instanceName']+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+_0x56b595(0x224)),this[_0x56b595(0x246)][_0x56b595(0x5a1)](this['instanceName']+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+_0x56b595(0x744)+_0x36ca0b[_0x56b595(0x1f7)]),this[_0x56b595(0x246)][_0x56b595(0x5a1)](this[_0x56b595(0x77a)]+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+_0x56b595(0x517)+_0x44b7ca),_0x36ca0b['lastInteraction']<_0x44b7ca){this[_0x56b595(0x246)][_0x56b595(0x5a1)](this['instanceName']+'\x20('+this['instance'][_0x56b595(0x69a)]+_0x56b595(0x30d));let _0x20798a=await this[_0x56b595(0x7a9)](_0x482b25);if(_0x20798a===null)return null;_0x36ca0b&&await this[_0x56b595(0x77f)]['flowConversation'][_0x56b595(0x2a2)](_0x36ca0b[_0x56b595(0x59b)],{'status':_0x56b595(0x659)},this[_0x56b595(0x801)][_0x56b595(0x69a)]),_0x36ca0b=await this[_0x56b595(0x1f4)](_0x20798a,_0x1362cb['key'],_0x1362cb);}return _0x36ca0b['lastInteraction']=_0x1191a6,_0x36ca0b[_0x56b595(0x39b)][_0x56b595(0x75e)]=_0x1362cb,_0x36ca0b;}}catch(_0x2994a3){return this[_0x56b595(0x246)][_0x56b595(0x3d2)](this[_0x56b595(0x77a)]+'\x20('+this[_0x56b595(0x801)][_0x56b595(0x69a)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x2994a3 instanceof Error?_0x2994a3['message']:JSON[_0x56b595(0x563)](_0x2994a3,null,0x2))),null;}}async[a0_0xc869c4(0x1f4)](_0x1216bb,_0x472c72,_0x1abc1e){const _0x4f27b1=a0_0xc869c4;this[_0x4f27b1(0x246)]['verbose'](this[_0x4f27b1(0x77a)]+'\x20('+this[_0x4f27b1(0x801)]['wuid']+_0x4f27b1(0x2e0));try{let _0x195979=require('mongodb')[_0x4f27b1(0x69d)],_0x57220d=Date['now'](),_0x5c0bd5=_0x4f27b1(0x703),_0x273f71=_0x472c72[_0x4f27b1(0x2ae)]?null:_0x1abc1e,_0x26aab9=_0x472c72['fromMe']?_0x1abc1e:null,_0x233ab2=_0x472c72[_0x4f27b1(0x607)],_0x4821a9=this[_0x4f27b1(0x162)]['flows'][_0x4f27b1(0x194)](_0x380123=>_0x380123[_0x4f27b1(0x59b)]===_0x1216bb[_0x4f27b1(0x59b)]?.[_0x4f27b1(0x806)]()),_0x3fea4e=_0x4821a9?.[_0x4f27b1(0x4cd)]??_0x1216bb[_0x4f27b1(0x4cd)]??0x0,_0x360385=_0x4821a9?.['readMessages']??_0x1216bb[_0x4f27b1(0x5cc)]??!0x1;await this[_0x4f27b1(0x433)](_0x233ab2);let _0x206a87={'flowId':_0x1216bb[_0x4f27b1(0x59b)],..._0x1216bb,'chatLog':null},_0x326aa5=await this[_0x4f27b1(0x5ca)](_0x206a87[_0x4f27b1(0x56f)]),_0x1b56ad=await this['getVariablesChat'](_0x233ab2),_0x3c59e6={..._0x326aa5,..._0x1b56ad,'_remoteJid':_0x233ab2},_0x136ce8={'lastReceivedMessage':_0x273f71,'lastSendMessage':_0x26aab9,'lastBlockId':_0x5c0bd5,'lastCondition':!0x0,'realVariables':_0x3c59e6};_0x206a87[_0x4f27b1(0x39b)]=_0x136ce8,delete _0x206a87['_id'],_0x206a87[_0x4f27b1(0x59b)]=new _0x195979(),_0x206a87[_0x4f27b1(0x1f7)]=_0x57220d,_0x206a87[_0x4f27b1(0x202)]='open',_0x206a87['remoteJid']=_0x233ab2,_0x206a87['minutesToClose']=_0x3fea4e,_0x206a87[_0x4f27b1(0x5cc)]=_0x360385;let _0x33216f=await this[_0x4f27b1(0x77f)][_0x4f27b1(0x7f6)][_0x4f27b1(0x2a2)](_0x206a87[_0x4f27b1(0x59b)],_0x206a87,this['instance'][_0x4f27b1(0x69a)]);return this[_0x4f27b1(0x246)][_0x4f27b1(0x5a1)](this[_0x4f27b1(0x77a)]+'\x20('+this['instance']['wuid']+_0x4f27b1(0x778)),_0x33216f?_0x206a87:null;}catch(_0x50570c){return this['logger'][_0x4f27b1(0x3d2)](this['instanceName']+'\x20('+this[_0x4f27b1(0x801)][_0x4f27b1(0x69a)]+_0x4f27b1(0x427)+(_0x50570c instanceof Error?_0x50570c['message']:JSON['stringify'](_0x50570c,null,0x2))),_0x50570c;}}async[a0_0xc869c4(0x780)](_0x463968,_0x468ef9){const _0x3e81b2=a0_0xc869c4;let _0x49cc25=_0x463968['remoteJid'];_0x468ef9[_0x3e81b2(0x684)]['remoteJid']&&_0x468ef9[_0x3e81b2(0x684)]['remoteJid'][_0x3e81b2(0x501)]()!==''&&(_0x49cc25=_0x468ef9[_0x3e81b2(0x684)][_0x3e81b2(0x607)][_0x3e81b2(0x501)]()),this[_0x3e81b2(0x246)][_0x3e81b2(0x5a1)](this[_0x3e81b2(0x77a)]+'\x20('+this[_0x3e81b2(0x801)][_0x3e81b2(0x69a)]+'):\x20Enviando\x20texto');let _0x1baca1={'number':_0x49cc25,'options':{'delay':_0x468ef9[_0x3e81b2(0x684)][_0x3e81b2(0x379)],'linkPreview':_0x468ef9[_0x3e81b2(0x684)]['linkPreview']},'textMessage':{'text':_0x468ef9['uazapi'][_0x3e81b2(0x1ed)]}};try{let _0xad72bb=await this['textMessage'](_0x1baca1);if(_0xad72bb){let _0xaf6202={'_id':_0xad72bb[_0x3e81b2(0x7e2)]['id'],'_fromMe':_0xad72bb[_0x3e81b2(0x7e2)]['fromMe'],'_remoteJid':_0xad72bb[_0x3e81b2(0x7e2)][_0x3e81b2(0x607)]},_0x13b5f2=(0x0,w[_0x3e81b2(0x609)])(_0xad72bb[_0x3e81b2(0x5ad)]),_0x5de4bb=(0x0,w[_0x3e81b2(0x1bc)])(_0x13b5f2);_0x463968[_0x3e81b2(0x39b)][_0x3e81b2(0x28b)]=_0x468ef9[_0x3e81b2(0x59b)]['toString']();let {message_normalized:_0x2a6102}=this['normalizeMessage'](_0x13b5f2,_0x5de4bb,null);_0x463968[_0x3e81b2(0x39b)][_0x3e81b2(0x232)]=await _0x2a6102;let _0x3c3ddb={'messageId':_0xad72bb[_0x3e81b2(0x7e2)]['id']},_0x2360ca=_0x463968[_0x3e81b2(0x39b)][_0x3e81b2(0x7cc)];Object[_0x3e81b2(0x7cb)](_0x2360ca,_0xaf6202),_0x463968[_0x3e81b2(0x39b)]['realVariables']=_0x2360ca,this['updateConversation'](_0x463968,_0x468ef9,_0x3c3ddb);}else{let _0x3529ee={'error':!0x0};this[_0x3e81b2(0x107)](_0x463968,_0x468ef9,_0x3529ee),this[_0x3e81b2(0x246)][_0x3e81b2(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x3e81b2(0x69a)]+_0x3e81b2(0x3b8));}}catch(_0x27c8d3){let _0xbe7d11={'error':!0x0,'errorLog':_0x27c8d3[_0x3e81b2(0x806)]()};this[_0x3e81b2(0x107)](_0x463968,_0x468ef9,_0xbe7d11),this[_0x3e81b2(0x246)][_0x3e81b2(0x3d2)](this[_0x3e81b2(0x77a)]+'\x20('+this[_0x3e81b2(0x801)][_0x3e81b2(0x69a)]+_0x3e81b2(0x716)+(_0x27c8d3 instanceof Error?_0x27c8d3[_0x3e81b2(0x5ad)]:JSON[_0x3e81b2(0x563)](_0x27c8d3,null,0x2)));}}async[a0_0xc869c4(0x2fb)](_0x3efae9,_0x1cf28f){const _0x163b21=a0_0xc869c4;let _0x49a70b=_0x3efae9[_0x163b21(0x607)];_0x1cf28f[_0x163b21(0x684)][_0x163b21(0x607)]&&_0x1cf28f['uazapi'][_0x163b21(0x607)][_0x163b21(0x501)]()!==''&&(_0x49a70b=_0x1cf28f[_0x163b21(0x684)][_0x163b21(0x607)]['trim']()),this['logger'][_0x163b21(0x5a1)](this[_0x163b21(0x77a)]+'\x20('+this[_0x163b21(0x801)][_0x163b21(0x69a)]+_0x163b21(0x377));let _0x225b85={'number':_0x49a70b,'options':{'delay':_0x1cf28f[_0x163b21(0x684)][_0x163b21(0x379)],'linkPreview':_0x1cf28f[_0x163b21(0x684)]['linkPreview']},'mediaMessage':{'mediatype':_0x1cf28f[_0x163b21(0x684)][_0x163b21(0x4ae)],'caption':_0x1cf28f[_0x163b21(0x684)][_0x163b21(0x7b5)],'media':_0x1cf28f[_0x163b21(0x684)][_0x163b21(0x3f2)],'fileName':_0x1cf28f[_0x163b21(0x684)]['fileName']}};try{let _0x129b80=await this['mediaMessage'](_0x225b85);if(_0x129b80){let _0x1889fc={'_id':_0x129b80[_0x163b21(0x7e2)]['id'],'_fromMe':_0x129b80[_0x163b21(0x7e2)][_0x163b21(0x2ae)],'_remoteJid':_0x129b80[_0x163b21(0x7e2)][_0x163b21(0x607)]},_0x161cf5=(0x0,w['normalizeMessageContent'])(_0x129b80[_0x163b21(0x5ad)]),_0x224c55=(0x0,w[_0x163b21(0x1bc)])(_0x161cf5);_0x3efae9[_0x163b21(0x39b)][_0x163b21(0x28b)]=_0x1cf28f['_id'][_0x163b21(0x806)]();let {message_normalized:_0x336dbc}=this[_0x163b21(0x529)](_0x161cf5,_0x224c55,null);_0x3efae9['chatLog']['lastSendMessage']=await _0x336dbc;let _0x57fda9={'messageId':_0x129b80[_0x163b21(0x7e2)]['id']},_0x555198=_0x3efae9[_0x163b21(0x39b)][_0x163b21(0x7cc)];Object[_0x163b21(0x7cb)](_0x555198,_0x1889fc),_0x3efae9[_0x163b21(0x39b)]['realVariables']=_0x555198,this['updateConversation'](_0x3efae9,_0x1cf28f,_0x57fda9);}else{let _0x33557d={'error':!0x0};this[_0x163b21(0x107)](_0x3efae9,_0x1cf28f,_0x33557d),this['logger'][_0x163b21(0x3d2)](this[_0x163b21(0x77a)]+'\x20('+this[_0x163b21(0x801)][_0x163b21(0x69a)]+_0x163b21(0x7bd));}}catch(_0x3e15b){let _0x1a9087={'error':!0x0,'errorLog':_0x3e15b[_0x163b21(0x806)]()};this[_0x163b21(0x107)](_0x3efae9,_0x1cf28f,_0x1a9087),this[_0x163b21(0x246)][_0x163b21(0x3d2)](this[_0x163b21(0x77a)]+'\x20('+this['instance']['wuid']+_0x163b21(0x67a)+(_0x3e15b instanceof Error?_0x3e15b[_0x163b21(0x5ad)]:JSON[_0x163b21(0x563)](_0x3e15b,null,0x2)));}}async[a0_0xc869c4(0x572)](_0x4d9597,_0x23646d){const _0x2b4d25=a0_0xc869c4;let _0x143535=_0x4d9597[_0x2b4d25(0x607)];_0x23646d[_0x2b4d25(0x684)]['remoteJid']&&_0x23646d[_0x2b4d25(0x684)]['remoteJid'][_0x2b4d25(0x501)]()!==''&&(_0x143535=_0x23646d['uazapi'][_0x2b4d25(0x607)]['trim']()),this['logger']['verbose'](this[_0x2b4d25(0x77a)]+'\x20('+this[_0x2b4d25(0x801)][_0x2b4d25(0x69a)]+_0x2b4d25(0x42f));let _0x2cd59c={'number':_0x143535,'options':{'delay':_0x23646d[_0x2b4d25(0x684)][_0x2b4d25(0x379)]},'locationMessage':{'name':_0x23646d[_0x2b4d25(0x684)][_0x2b4d25(0x15e)],'address':_0x23646d['uazapi'][_0x2b4d25(0x605)],'latitude':_0x23646d[_0x2b4d25(0x684)][_0x2b4d25(0x783)],'longitude':_0x23646d[_0x2b4d25(0x684)]['longitude']}};try{let _0x5890bd=await this['locationMessage'](_0x2cd59c);if(_0x5890bd){let _0x54d4d5={'_id':_0x5890bd[_0x2b4d25(0x7e2)]['id'],'_fromMe':_0x5890bd[_0x2b4d25(0x7e2)][_0x2b4d25(0x2ae)],'_remoteJid':_0x5890bd[_0x2b4d25(0x7e2)][_0x2b4d25(0x607)]},_0x3983b4=(0x0,w[_0x2b4d25(0x609)])(_0x5890bd[_0x2b4d25(0x5ad)]),_0x3c73fa=(0x0,w[_0x2b4d25(0x1bc)])(_0x3983b4);_0x4d9597[_0x2b4d25(0x39b)][_0x2b4d25(0x28b)]=_0x23646d[_0x2b4d25(0x59b)][_0x2b4d25(0x806)]();let {message_normalized:_0x5cfdbc}=this[_0x2b4d25(0x529)](_0x3983b4,_0x3c73fa,null);_0x4d9597[_0x2b4d25(0x39b)][_0x2b4d25(0x232)]=await _0x5cfdbc;let _0x476981={'messageId':_0x5890bd[_0x2b4d25(0x7e2)]['id']},_0x469b62=_0x4d9597[_0x2b4d25(0x39b)][_0x2b4d25(0x7cc)];Object[_0x2b4d25(0x7cb)](_0x469b62,_0x54d4d5),_0x4d9597[_0x2b4d25(0x39b)][_0x2b4d25(0x7cc)]=_0x469b62,this['updateConversation'](_0x4d9597,_0x23646d,_0x476981);}else{let _0xbc2d17={'error':!0x0};this[_0x2b4d25(0x107)](_0x4d9597,_0x23646d,_0xbc2d17),this[_0x2b4d25(0x246)]['error'](this[_0x2b4d25(0x77a)]+'\x20('+this['instance'][_0x2b4d25(0x69a)]+_0x2b4d25(0x44a));}}catch(_0x9dcef7){let _0x35166a={'error':!0x0,'errorLog':_0x9dcef7[_0x2b4d25(0x806)]()};this[_0x2b4d25(0x107)](_0x4d9597,_0x23646d,_0x35166a),this[_0x2b4d25(0x246)][_0x2b4d25(0x3d2)](this[_0x2b4d25(0x77a)]+'\x20('+this[_0x2b4d25(0x801)][_0x2b4d25(0x69a)]+_0x2b4d25(0x103)+(_0x9dcef7 instanceof Error?_0x9dcef7[_0x2b4d25(0x5ad)]:JSON['stringify'](_0x9dcef7,null,0x2)));}}async['uazapiSendAudio'](_0x29a7cd,_0x328fd7){const _0x54baf8=a0_0xc869c4;let _0x116812=_0x29a7cd[_0x54baf8(0x607)];_0x328fd7[_0x54baf8(0x684)]['remoteJid']&&_0x328fd7[_0x54baf8(0x684)][_0x54baf8(0x607)][_0x54baf8(0x501)]()!==''&&(_0x116812=_0x328fd7[_0x54baf8(0x684)][_0x54baf8(0x607)]['trim']()),this[_0x54baf8(0x246)][_0x54baf8(0x5a1)](this[_0x54baf8(0x77a)]+'\x20('+this['instance'][_0x54baf8(0x69a)]+_0x54baf8(0x496));let _0x34b721={'number':_0x116812,'options':{'delay':_0x328fd7[_0x54baf8(0x684)][_0x54baf8(0x379)]},'audioMessage':{'audio':_0x328fd7[_0x54baf8(0x684)][_0x54baf8(0x603)]}};try{let _0x3ca5df=await this[_0x54baf8(0x4b0)](_0x34b721);if(_0x3ca5df){let _0x300a86={'_id':_0x3ca5df[_0x54baf8(0x7e2)]['id'],'_fromMe':_0x3ca5df[_0x54baf8(0x7e2)][_0x54baf8(0x2ae)],'_remoteJid':_0x3ca5df[_0x54baf8(0x7e2)][_0x54baf8(0x607)]},_0x148988=(0x0,w[_0x54baf8(0x609)])(_0x3ca5df[_0x54baf8(0x5ad)]),_0x3dd386=(0x0,w[_0x54baf8(0x1bc)])(_0x148988);_0x29a7cd[_0x54baf8(0x39b)][_0x54baf8(0x28b)]=_0x328fd7['_id']['toString']();let {message_normalized:_0x5bac3c}=this[_0x54baf8(0x529)](_0x148988,_0x3dd386,null);_0x29a7cd[_0x54baf8(0x39b)][_0x54baf8(0x232)]=await _0x5bac3c;let _0x10bbf6={'messageId':_0x3ca5df[_0x54baf8(0x7e2)]['id']},_0x5aaac1=_0x29a7cd[_0x54baf8(0x39b)][_0x54baf8(0x7cc)];Object[_0x54baf8(0x7cb)](_0x5aaac1,_0x300a86),_0x29a7cd[_0x54baf8(0x39b)][_0x54baf8(0x7cc)]=_0x5aaac1,this[_0x54baf8(0x107)](_0x29a7cd,_0x328fd7,_0x10bbf6);}else{let _0x152252={'error':!0x0};this[_0x54baf8(0x107)](_0x29a7cd,_0x328fd7,_0x152252),this[_0x54baf8(0x246)][_0x54baf8(0x3d2)](this[_0x54baf8(0x77a)]+'\x20('+this[_0x54baf8(0x801)][_0x54baf8(0x69a)]+_0x54baf8(0x78b));}}catch(_0x4ee8de){let _0x1d0bb6={'error':!0x0,'errorLog':_0x4ee8de[_0x54baf8(0x806)]()};this[_0x54baf8(0x107)](_0x29a7cd,_0x328fd7,_0x1d0bb6),this[_0x54baf8(0x246)][_0x54baf8(0x3d2)](this[_0x54baf8(0x77a)]+'\x20('+this['instance'][_0x54baf8(0x69a)]+_0x54baf8(0x2a7)+(_0x4ee8de instanceof Error?_0x4ee8de[_0x54baf8(0x5ad)]:JSON['stringify'](_0x4ee8de,null,0x2)));}}async[a0_0xc869c4(0x305)](_0x5f2681,_0x1a711e){const _0x4ad41e=a0_0xc869c4;let _0x39b3b1=_0x5f2681[_0x4ad41e(0x607)];_0x1a711e[_0x4ad41e(0x684)]['remoteJid']&&_0x1a711e[_0x4ad41e(0x684)][_0x4ad41e(0x607)][_0x4ad41e(0x501)]()!==''&&(_0x39b3b1=_0x1a711e[_0x4ad41e(0x684)]['remoteJid'][_0x4ad41e(0x501)]()),this[_0x4ad41e(0x246)]['verbose'](this[_0x4ad41e(0x77a)]+'\x20('+this[_0x4ad41e(0x801)][_0x4ad41e(0x69a)]+'):\x20Enviando\x20contato');let _0x32456d={'number':_0x39b3b1,'options':{'delay':_0x1a711e['uazapi'][_0x4ad41e(0x379)]},'contactMessage':[{'fullName':_0x1a711e[_0x4ad41e(0x684)][_0x4ad41e(0x129)],'phoneNumber':_0x1a711e[_0x4ad41e(0x684)]['phoneNumber']}]};try{let _0x7b6c50=await this[_0x4ad41e(0x236)](_0x32456d);if(_0x7b6c50){let _0xa6353e={'_id':_0x7b6c50[_0x4ad41e(0x7e2)]['id'],'_fromMe':_0x7b6c50[_0x4ad41e(0x7e2)][_0x4ad41e(0x2ae)],'_remoteJid':_0x7b6c50[_0x4ad41e(0x7e2)]['remoteJid']},_0x424c24=(0x0,w['normalizeMessageContent'])(_0x7b6c50[_0x4ad41e(0x5ad)]),_0x20da9e=(0x0,w[_0x4ad41e(0x1bc)])(_0x424c24);_0x5f2681[_0x4ad41e(0x39b)]['lastBlockId']=_0x1a711e[_0x4ad41e(0x59b)][_0x4ad41e(0x806)]();let {message_normalized:_0x8b4992}=this[_0x4ad41e(0x529)](_0x424c24,_0x20da9e,null);_0x5f2681[_0x4ad41e(0x39b)]['lastSendMessage']=await _0x8b4992;let _0x524d52={'messageId':_0x7b6c50[_0x4ad41e(0x7e2)]['id']},_0x2f816f=_0x5f2681[_0x4ad41e(0x39b)][_0x4ad41e(0x7cc)];Object[_0x4ad41e(0x7cb)](_0x2f816f,_0xa6353e),_0x5f2681[_0x4ad41e(0x39b)][_0x4ad41e(0x7cc)]=_0x2f816f,this['updateConversation'](_0x5f2681,_0x1a711e,_0x524d52);}else{let _0x56c261={'error':!0x0};this[_0x4ad41e(0x107)](_0x5f2681,_0x1a711e,_0x56c261),this[_0x4ad41e(0x246)]['error'](this[_0x4ad41e(0x77a)]+'\x20('+this[_0x4ad41e(0x801)][_0x4ad41e(0x69a)]+_0x4ad41e(0x3ad));}}catch(_0x117a65){let _0xa9058d={'error':!0x0,'errorLog':_0x117a65[_0x4ad41e(0x806)]()};this['updateConversation'](_0x5f2681,_0x1a711e,_0xa9058d),this['logger']['error'](this[_0x4ad41e(0x77a)]+'\x20('+this[_0x4ad41e(0x801)][_0x4ad41e(0x69a)]+_0x4ad41e(0x650)+(_0x117a65 instanceof Error?_0x117a65[_0x4ad41e(0x5ad)]:JSON[_0x4ad41e(0x563)](_0x117a65,null,0x2)));}}[a0_0xc869c4(0x167)](_0xce102e,_0x57968a){const _0x4f6d78=a0_0xc869c4;for(let _0x1622d5 of _0xce102e)_0x1622d5[_0x4f6d78(0x6d0)]&&(_0x1622d5['option']=this[_0x4f6d78(0x193)](_0x1622d5[_0x4f6d78(0x6d0)],_0x57968a)),_0x1622d5['optionDescription']&&(_0x1622d5[_0x4f6d78(0x7a5)]=this[_0x4f6d78(0x193)](_0x1622d5[_0x4f6d78(0x7a5)],_0x57968a));}async[a0_0xc869c4(0x288)](_0x1fc8c3,_0x33e78c){const _0x1a0006=a0_0xc869c4;let _0xccf356=_0x1fc8c3[_0x1a0006(0x607)];_0x33e78c[_0x1a0006(0x684)][_0x1a0006(0x607)]&&_0x33e78c[_0x1a0006(0x684)][_0x1a0006(0x607)]['trim']()!==''&&(_0xccf356=_0x33e78c[_0x1a0006(0x684)]['remoteJid'][_0x1a0006(0x501)]()),this['logger']['verbose'](this[_0x1a0006(0x77a)]+'\x20('+this['instance'][_0x1a0006(0x69a)]+_0x1a0006(0x564));let _0xda2540=_0x1fc8c3[_0x1a0006(0x5c2)][_0x1a0006(0x314)](_0x18aae5=>_0x18aae5[_0x1a0006(0x5b0)]===_0x33e78c[_0x1a0006(0x59b)])['sort']((_0x4f8b12,_0xd2b26f)=>_0x4f8b12[_0x1a0006(0x64d)]-_0xd2b26f[_0x1a0006(0x64d)]);this[_0x1a0006(0x167)](_0xda2540,_0x1fc8c3['chatLog'][_0x1a0006(0x7cc)]);let _0x40348f=_0xda2540['map'](_0x40c49e=>_0x40c49e[_0x1a0006(0x6d0)]),_0x23a3c9={'number':_0xccf356,'menuMessage':{'type':_0x33e78c['uazapi'][_0x1a0006(0x5ec)]||'poll','text':_0x33e78c[_0x1a0006(0x684)][_0x1a0006(0x1ed)]||_0x33e78c[_0x1a0006(0x684)]['name'],'footerText':_0x33e78c['uazapi'][_0x1a0006(0x2a8)],'buttonText':_0x33e78c[_0x1a0006(0x684)][_0x1a0006(0x289)],'selectableCount':0x1,'choices':_0x40348f},'options':{'delay':_0x33e78c[_0x1a0006(0x684)][_0x1a0006(0x379)]}};try{let _0x4960a3=await this[_0x1a0006(0x40d)](_0x23a3c9);if(_0x4960a3){let _0x78bb0d={'_id':_0x4960a3[_0x1a0006(0x7e2)]['id'],'_fromMe':_0x4960a3['key'][_0x1a0006(0x2ae)],'_remoteJid':_0x4960a3[_0x1a0006(0x7e2)][_0x1a0006(0x607)]};_0x33e78c[_0x1a0006(0x684)]['menuIgnoreNonVotes']===!0x0&&(_0x1fc8c3[_0x1a0006(0x202)]=_0x1a0006(0x35e),this[_0x1a0006(0x246)][_0x1a0006(0x5a1)](this[_0x1a0006(0x77a)]+'\x20('+this[_0x1a0006(0x801)][_0x1a0006(0x69a)]+_0x1a0006(0x238)+_0x1fc8c3[_0x1a0006(0x202)])),this[_0x1a0006(0x246)][_0x1a0006(0x5a1)](this[_0x1a0006(0x77a)]+'\x20('+this[_0x1a0006(0x801)]['wuid']+'):\x20nextBlock.uazapi.name'+(_0x33e78c['uazapi'][_0x1a0006(0x15e)]||_0x33e78c[_0x1a0006(0x684)][_0x1a0006(0x1ed)])),_0x1fc8c3['waitingMenu_id']=_0x4960a3[_0x1a0006(0x7e2)]['id'],_0x1fc8c3['waitingMenu_text']=_0x33e78c[_0x1a0006(0x684)][_0x1a0006(0x15e)]||_0x33e78c['uazapi'][_0x1a0006(0x1ed)],_0x1fc8c3[_0x1a0006(0x4ba)]=_0xda2540,_0x33e78c['uazapi'][_0x1a0006(0x385)]&&(_0x1fc8c3[_0x1a0006(0x485)]=_0x33e78c[_0x1a0006(0x684)][_0x1a0006(0x385)]),this['logger'][_0x1a0006(0x5a1)](this[_0x1a0006(0x77a)]+'\x20('+this[_0x1a0006(0x801)][_0x1a0006(0x69a)]+_0x1a0006(0x21f)+_0x1fc8c3[_0x1a0006(0x6c8)]);let _0x5e95b3=(0x0,w[_0x1a0006(0x609)])(_0x4960a3['message']),_0x2ee6c0=(0x0,w[_0x1a0006(0x1bc)])(_0x5e95b3);_0x1fc8c3[_0x1a0006(0x39b)][_0x1a0006(0x28b)]=_0x33e78c['_id'][_0x1a0006(0x806)]();let {message_normalized:_0x1c4e4a}=this[_0x1a0006(0x529)](_0x5e95b3,_0x2ee6c0,null);_0x1fc8c3[_0x1a0006(0x39b)][_0x1a0006(0x232)]=await _0x1c4e4a;let _0xbb712c={'messageId':_0x4960a3[_0x1a0006(0x7e2)]['id']},_0x535338=_0x1fc8c3[_0x1a0006(0x39b)]['realVariables'];Object[_0x1a0006(0x7cb)](_0x535338,_0x78bb0d),_0x1fc8c3[_0x1a0006(0x39b)]['realVariables']=_0x535338,this[_0x1a0006(0x107)](_0x1fc8c3,_0x33e78c,_0xbb712c);}else{let _0xa20e22={'error':!0x0};this[_0x1a0006(0x107)](_0x1fc8c3,_0x33e78c,_0xa20e22),this[_0x1a0006(0x246)][_0x1a0006(0x3d2)](this['instanceName']+'\x20('+this[_0x1a0006(0x801)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x5d63f){let _0x17ea09={'error':!0x0,'errorLog':_0x5d63f instanceof Error?_0x5d63f[_0x1a0006(0x5ad)]:JSON['stringify'](_0x5d63f,null,0x2)};this[_0x1a0006(0x107)](_0x1fc8c3,_0x33e78c,_0x17ea09),this['logger'][_0x1a0006(0x3d2)](this[_0x1a0006(0x77a)]+'\x20('+this[_0x1a0006(0x801)]['wuid']+_0x1a0006(0x27d)+(_0x5d63f instanceof Error?_0x5d63f['message']:JSON[_0x1a0006(0x563)](_0x5d63f,null,0x2)));}}async[a0_0xc869c4(0x62d)](_0x50547b,_0x2c51b6){const _0x21aace=a0_0xc869c4;this[_0x21aace(0x246)]['verbose'](this[_0x21aace(0x77a)]+'\x20('+this[_0x21aace(0x801)][_0x21aace(0x69a)]+_0x21aace(0x53f));let _0x34e8a6=_0x50547b['chatLog'][_0x21aace(0x63f)][_0x21aace(0x194)](_0x4f3027=>_0x4f3027[_0x21aace(0x5b0)][_0x21aace(0x806)]()===_0x2c51b6['uazapi'][_0x21aace(0x5b0)]['toString']()),_0x558843={'id':_0x34e8a6[_0x21aace(0x4dd)],'remoteJid':_0x34e8a6['remoteJid'],'fromMe':_0x34e8a6[_0x21aace(0x2ae)]};try{let _0x10ef05=await this[_0x21aace(0x671)](_0x558843);if(_0x10ef05){let _0x461cf0=(0x0,w[_0x21aace(0x609)])(_0x10ef05[_0x21aace(0x5ad)]),_0x3bae31=(0x0,w['getContentType'])(_0x461cf0);_0x50547b['chatLog'][_0x21aace(0x28b)]=_0x2c51b6['_id']['toString']();let {message_normalized:_0xf9c40f}=this['normalizeMessage'](_0x461cf0,_0x3bae31,null);_0x50547b['chatLog'][_0x21aace(0x232)]=await _0xf9c40f;let _0x2a74cc={};this[_0x21aace(0x107)](_0x50547b,_0x2c51b6,_0x2a74cc);}else{let _0x3cf390={'error':!0x0};this[_0x21aace(0x107)](_0x50547b,_0x2c51b6,_0x3cf390),this['logger']['error'](this[_0x21aace(0x77a)]+'\x20('+this[_0x21aace(0x801)][_0x21aace(0x69a)]+_0x21aace(0x662));}}catch(_0x365982){let _0x425a23={'error':!0x0,'errorLog':_0x365982 instanceof Error?_0x365982['message']:JSON[_0x21aace(0x563)](_0x365982,null,0x2)};this[_0x21aace(0x107)](_0x50547b,_0x2c51b6,_0x425a23),this['logger'][_0x21aace(0x3d2)](this['instanceName']+'\x20('+this[_0x21aace(0x801)][_0x21aace(0x69a)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x365982 instanceof Error?_0x365982[_0x21aace(0x5ad)]:JSON[_0x21aace(0x563)](_0x365982,null,0x2)));}}async[a0_0xc869c4(0x116)](_0x3aa0e2,_0x3b9f46){const _0x59b825=a0_0xc869c4;if(_0x3aa0e2['name']||(_0x3aa0e2[_0x59b825(0x15e)]=(0x0,Q['v4'])()),_0x3b9f46!==Ri&&_0x3aa0e2?.[_0x59b825(0x207)])throw new m(_0x59b825(0x33b));if(_0x59b825(0x59b)in _0x3aa0e2&&'owner'in _0x3aa0e2)return this[_0x59b825(0x39c)](_0x3aa0e2['owner'],_0x3aa0e2[_0x59b825(0x59b)]);this['logger'][_0x59b825(0x5a1)](this[_0x59b825(0x77a)]+'\x20('+this[_0x59b825(0x801)][_0x59b825(0x69a)]+_0x59b825(0x453));let _0x3739e8=this[_0x59b825(0x5f7)](_0x3aa0e2[_0x59b825(0x15e)]),_0x1ae6dd=new he[(_0x59b825(0x478))][(_0x59b825(0x69d))](),_0x23e03b={'_id':_0x1ae6dd,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x14f82f={'_id':new he['Types'][(_0x59b825(0x69d))](),'order':0x1,'groupId':_0x1ae6dd['toString'](),'type':_0x59b825(0x703)},_0x47403c=this[_0x59b825(0x801)][_0x59b825(0x69a)],_0x2efed2={'_id':(0x0,Q['v4'])(),'owner':_0x47403c,'name':_0x3739e8,'whoCanEdit':[_0x47403c],'whoCanUse':[_0x47403c],'groups':[_0x23e03b],'blocks':[_0x14f82f],..._0x3aa0e2};try{let _0x5517ca=await this['repository'][_0x59b825(0x4ad)][_0x59b825(0x407)](_0x2efed2);return await this[_0x59b825(0x4d8)](),_0x5517ca;}catch(_0x5656f8){let _0x583a39=_0x59b825(0x5cf),_0x15d42a=_0x5656f8 instanceof Error?_0x5656f8[_0x59b825(0x5ad)]:typeof _0x5656f8==_0x59b825(0xfe)?JSON['stringify'](_0x5656f8):_0x5656f8,_0x254aa3=_0x583a39+':\x20'+_0x15d42a;throw this[_0x59b825(0x246)][_0x59b825(0x3d2)](this[_0x59b825(0x77a)]+'\x20('+this[_0x59b825(0x801)][_0x59b825(0x69a)]+_0x59b825(0x6fe)+_0x254aa3),new m(_0x254aa3);}}async[a0_0xc869c4(0x39c)](_0x475c7e,_0x48041e){const _0x319c65=a0_0xc869c4;try{this[_0x319c65(0x246)][_0x319c65(0x5a1)](this[_0x319c65(0x77a)]+'\x20('+this['instance']['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x56cee5=await this[_0x319c65(0x77f)][_0x319c65(0x4ad)][_0x319c65(0x4d6)]({'where':{'_id':_0x48041e,'owner':_0x475c7e}});if(!_0x56cee5)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x56cee5[_0x319c65(0x145)]===!0x1&&!_0x56cee5[_0x319c65(0x207)])throw new m(_0x319c65(0x5db));let _0x37fea1=new Set(_0x56cee5['whoCanUse']??[]);_0x37fea1[_0x319c65(0x346)](this['instance']['wuid']);let _0x1faa47=await this[_0x319c65(0x77f)][_0x319c65(0x4ad)]['updateOne'](_0x48041e,{..._0x56cee5,'whoCanUse':Array['from'](_0x37fea1)});return await this[_0x319c65(0x4d8)](),_0x1faa47;}catch(_0x5be012){let _0x1048db='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x1bdef2=_0x5be012 instanceof Error?_0x5be012[_0x319c65(0x5ad)]:typeof _0x5be012==_0x319c65(0xfe)?JSON[_0x319c65(0x563)](_0x5be012):_0x5be012,_0x378e35=_0x1048db+':\x20'+_0x1bdef2;throw this[_0x319c65(0x246)][_0x319c65(0x3d2)](this[_0x319c65(0x77a)]+'\x20('+this['instance'][_0x319c65(0x69a)]+'):\x20'+_0x378e35),new m(_0x378e35);}}['getUniqueFlowName'](_0x2f3c8a){const _0x4535ab=a0_0xc869c4;let _0x58916f=_0x2f3c8a,_0x4be90d=0x1;for(;this[_0x4535ab(0x162)]['flows']['some'](_0x3f7058=>_0x3f7058[_0x4535ab(0x15e)]===_0x58916f);)_0x4be90d++,_0x58916f=_0x2f3c8a+'\x20('+_0x4be90d+')';return _0x58916f;}async[a0_0xc869c4(0x315)](_0xf586e0){const _0x53e8e3=a0_0xc869c4;try{if(this[_0x53e8e3(0x246)]['verbose'](this[_0x53e8e3(0x77a)]+'\x20('+this['instance'][_0x53e8e3(0x69a)]+_0x53e8e3(0x64f)+_0xf586e0['_id']+_0x53e8e3(0x6d6)+_0xf586e0['global']),!this['AutomateSystem'][_0x53e8e3(0x32c)][_0x53e8e3(0x194)](_0x1a4062=>_0x1a4062['_id']===_0xf586e0[_0x53e8e3(0x59b)]))throw this[_0x53e8e3(0x246)][_0x53e8e3(0x5a1)](this['instanceName']+'\x20('+this[_0x53e8e3(0x801)][_0x53e8e3(0x69a)]+_0x53e8e3(0x321)+_0xf586e0['_id']+'\x27\x20não\x20encontrado'),new m(_0x53e8e3(0x7c2));let _0x2f4c68=await this['repository'][_0x53e8e3(0x4ad)][_0x53e8e3(0x4d6)]({'where':{'_id':_0xf586e0[_0x53e8e3(0x59b)]}});if(!_0x2f4c68)throw new m(_0x53e8e3(0x788));if(this[_0x53e8e3(0x801)][_0x53e8e3(0x69a)]===_0x2f4c68[_0x53e8e3(0x436)]){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x53e8e3(0x801)][_0x53e8e3(0x69a)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0xf586e0[_0x53e8e3(0x59b)]+_0x53e8e3(0x76b));let _0x338984=await this[_0x53e8e3(0x77f)]['flow'][_0x53e8e3(0xc7)]({'where':{'_id':_0xf586e0[_0x53e8e3(0x59b)]}});return await this[_0x53e8e3(0x4d8)](),_0x338984;}return this[_0x53e8e3(0x246)]['verbose'](this[_0x53e8e3(0x77a)]+'\x20('+this['instance']['wuid']+_0x53e8e3(0x2e7)+this[_0x53e8e3(0x801)][_0x53e8e3(0x69a)]+_0x53e8e3(0x14f)+_0xf586e0[_0x53e8e3(0x59b)]+_0x53e8e3(0x1d6)),_0x2f4c68[_0x53e8e3(0x5b1)]=(_0x2f4c68['whoCanUse']??[])[_0x53e8e3(0x314)](_0x1f3143=>_0x1f3143!==this[_0x53e8e3(0x801)][_0x53e8e3(0x69a)]),_0x2f4c68[_0x53e8e3(0x1b7)]=(_0x2f4c68[_0x53e8e3(0x1b7)]??[])[_0x53e8e3(0x314)](_0x1bb102=>_0x1bb102!==this[_0x53e8e3(0x801)]['wuid']),_0x2f4c68[_0x53e8e3(0x1b7)][_0x53e8e3(0x4c6)]===0x0&&_0x2f4c68[_0x53e8e3(0x5b1)][_0x53e8e3(0x4c6)]>0x0&&(_0x2f4c68[_0x53e8e3(0x1b7)][_0x53e8e3(0x14c)](_0x2f4c68[_0x53e8e3(0x5b1)][0x0]),this['logger'][_0x53e8e3(0x5a1)](this[_0x53e8e3(0x77a)]+'\x20('+this[_0x53e8e3(0x801)]['wuid']+_0x53e8e3(0x412)+_0x2f4c68['whoCanUse'][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0xf586e0[_0x53e8e3(0x59b)]+_0x53e8e3(0x1d6))),await this[_0x53e8e3(0x77f)][_0x53e8e3(0x4ad)][_0x53e8e3(0x2a2)](_0x2f4c68[_0x53e8e3(0x59b)],_0x2f4c68),await this['synchronizeAndMapFlows'](),{'message':'Fluxo\x20\x27'+_0xf586e0[_0x53e8e3(0x15e)]+_0x53e8e3(0x328)};}catch(_0x44dd93){return this[_0x53e8e3(0x246)][_0x53e8e3(0x3d2)](this[_0x53e8e3(0x77a)]+'\x20('+this[_0x53e8e3(0x801)][_0x53e8e3(0x69a)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x44dd93 instanceof Error?_0x44dd93[_0x53e8e3(0x5ad)]:JSON[_0x53e8e3(0x563)](_0x44dd93,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x44dd93 instanceof Error?_0x44dd93[_0x53e8e3(0x5ad)]:JSON[_0x53e8e3(0x563)](_0x44dd93,null,0x2))};}}async[a0_0xc869c4(0x3bb)](_0x58fde2){const _0x2512ed=a0_0xc869c4;try{if(this['logger'][_0x2512ed(0x7b4)](this[_0x2512ed(0x77a)]+'\x20('+this[_0x2512ed(0x801)][_0x2512ed(0x69a)]+_0x2512ed(0x812)+_0x58fde2),!this['AutomateSystem']&&(await this[_0x2512ed(0x329)](),!this['AutomateSystem']))return null;let _0x36a4d8=await this[_0x2512ed(0x77f)][_0x2512ed(0x4ad)][_0x2512ed(0x4d6)]({'where':{'_id':_0x58fde2}});if(!_0x36a4d8)throw new m('Fluxo\x20id\x20\x27'+_0x58fde2+_0x2512ed(0x46b));if(!(_0x36a4d8[_0x2512ed(0x207)]||_0x36a4d8[_0x2512ed(0x5b1)]?.[_0x2512ed(0x49c)](this[_0x2512ed(0x801)][_0x2512ed(0x69a)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x36a4d8[_0x2512ed(0x207)]&&!_0x36a4d8['whoCanUse']?.['includes'](this['instance'][_0x2512ed(0x69a)])&&(_0x36a4d8[_0x2512ed(0x5b1)]=[..._0x36a4d8['whoCanUse']??[],this[_0x2512ed(0x801)]['wuid']],await this['repository'][_0x2512ed(0x4ad)][_0x2512ed(0x2a2)](_0x36a4d8[_0x2512ed(0x59b)],_0x36a4d8),this[_0x2512ed(0x4d8)]());let _0x32f521=this[_0x2512ed(0x162)]?.[_0x2512ed(0x56b)][_0x2512ed(0x474)](_0x3beadc=>_0x3beadc[_0x2512ed(0x15e)]),_0x29c44f=['nome',_0x2512ed(0x2c2),_0x2512ed(0x424),'cpf','status',_0x2512ed(0x2d4),_0x2512ed(0x4f5),_0x2512ed(0x5e4),_0x2512ed(0x3ee),_0x2512ed(0x20e),'atendimentoAberto'];_0x36a4d8[_0x2512ed(0x56f)]=_0x36a4d8['variables']['filter'](_0x2bf66a=>!(_0x2bf66a[_0x2512ed(0x23b)]===_0x2512ed(0x639)||_0x2bf66a[_0x2512ed(0x639)])),_0x29c44f[_0x2512ed(0x64a)](_0x24a651=>{const _0x4fe038=_0x2512ed;_0x36a4d8['variables']['push']({'folder':_0x4fe038(0x639),'name':_0x24a651,'value':'','doc':'','leadInfo':!0x0});}),_0x32f521[_0x2512ed(0x64a)](_0x4d2e8e=>{const _0x45103e=_0x2512ed;let _0x5d0348=_0x36a4d8['variables'][_0x45103e(0x741)](_0x252f0b=>_0x252f0b[_0x45103e(0x15e)]===_0x4d2e8e);_0x5d0348===-0x1?_0x36a4d8[_0x45103e(0x56f)][_0x45103e(0x14c)]({'folder':_0x45103e(0x639),'name':_0x4d2e8e,'value':'','doc':'','leadInfo':!0x0}):(_0x36a4d8['variables'][_0x5d0348][_0x45103e(0x23b)]=_0x45103e(0x639),_0x36a4d8[_0x45103e(0x56f)][_0x5d0348]['leadInfo']=!0x0);}),_0x36a4d8[_0x2512ed(0x755)]&&_0x36a4d8[_0x2512ed(0x755)][_0x2512ed(0x4c6)]>0x0&&_0x36a4d8[_0x2512ed(0x755)][_0x2512ed(0x64a)](_0x3c146f=>{const _0x21be9e=_0x2512ed;_0x3c146f[_0x21be9e(0x4c0)]&&_0x3c146f[_0x21be9e(0x601)]&&_0x3c146f[_0x21be9e(0x4c0)]===_0x3c146f[_0x21be9e(0x601)]&&(_0x3c146f[_0x21be9e(0x601)]=null);});let _0x4122a7=await this[_0x2512ed(0x77f)]['flow']['updateOne'](_0x36a4d8[_0x2512ed(0x59b)],_0x36a4d8);if(!_0x4122a7)throw new Error(_0x2512ed(0x215));return _0x4122a7;}catch(_0x3ef61d){let _0x5aca0e=_0x2512ed(0x42a),_0x33393e=_0x3ef61d instanceof Error?_0x3ef61d[_0x2512ed(0x5ad)]:typeof _0x3ef61d=='object'?JSON[_0x2512ed(0x563)](_0x3ef61d):_0x3ef61d,_0x1e9499=_0x5aca0e+':\x20'+_0x33393e;throw this[_0x2512ed(0x246)][_0x2512ed(0x3d2)](this[_0x2512ed(0x77a)]+'\x20('+this[_0x2512ed(0x801)][_0x2512ed(0x69a)]+_0x2512ed(0x6fe)+_0x1e9499),new m(_0x1e9499);}}async[a0_0xc869c4(0x490)](){const _0x16ecea=a0_0xc869c4;try{this['logger'][_0x16ecea(0x5a1)](this[_0x16ecea(0x77a)]+'\x20('+this[_0x16ecea(0x801)][_0x16ecea(0x69a)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x16ecea(0x4d8)]();let _0x24bdc7=await this[_0x16ecea(0x77f)]['flow'][_0x16ecea(0x74e)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x16ecea(0x32c)],..._0x24bdc7];}catch(_0x4a5cc0){return this[_0x16ecea(0x246)][_0x16ecea(0x3d2)](this[_0x16ecea(0x77a)]+'\x20('+this[_0x16ecea(0x801)][_0x16ecea(0x69a)]+_0x16ecea(0x6a2)+(_0x4a5cc0 instanceof Error?_0x4a5cc0[_0x16ecea(0x5ad)]:JSON[_0x16ecea(0x563)](_0x4a5cc0,null,0x2))),{'message':_0x16ecea(0x1c4)+(_0x4a5cc0 instanceof Error?_0x4a5cc0[_0x16ecea(0x5ad)]:String(_0x4a5cc0))};}}async[a0_0xc869c4(0x46c)](_0x21a3cf,_0x23fd93){const _0x5cbfa2=a0_0xc869c4;try{this[_0x5cbfa2(0x246)][_0x5cbfa2(0x5a1)](this[_0x5cbfa2(0x77a)]+'\x20('+this[_0x5cbfa2(0x801)][_0x5cbfa2(0x69a)]+_0x5cbfa2(0x3d8));let _0x27cc30=this[_0x5cbfa2(0x162)][_0x5cbfa2(0x32c)]['find'](_0x244ddf=>_0x244ddf['_id']===_0x21a3cf['_id']);if(!_0x27cc30)throw this['logger']['verbose'](this[_0x5cbfa2(0x77a)]+'\x20('+this[_0x5cbfa2(0x801)]['wuid']+_0x5cbfa2(0x321)+_0x21a3cf[_0x5cbfa2(0x59b)]+_0x5cbfa2(0x7fc)),new m(_0x5cbfa2(0x7c2));let _0x47c676=await this[_0x5cbfa2(0x77f)]['flow'][_0x5cbfa2(0x4d6)]({'where':{'_id':_0x21a3cf[_0x5cbfa2(0x59b)]}});if(!_0x47c676||!_0x47c676[_0x5cbfa2(0x5b1)]?.['includes'](this[_0x5cbfa2(0x801)][_0x5cbfa2(0x69a)]))throw this[_0x5cbfa2(0x246)][_0x5cbfa2(0x3d2)](this[_0x5cbfa2(0x77a)]+'\x20('+this['instance'][_0x5cbfa2(0x69a)]+_0x5cbfa2(0x58c)+_0x21a3cf[_0x5cbfa2(0x59b)]+_0x5cbfa2(0x3e8)),new m('Flow\x20\x27'+_0x21a3cf['_id']+_0x5cbfa2(0x3e8));let _0x495d71=this[_0x5cbfa2(0x162)][_0x5cbfa2(0x32c)][_0x5cbfa2(0x741)](_0xebbdd1=>_0xebbdd1[_0x5cbfa2(0x59b)]===_0x27cc30[_0x5cbfa2(0x59b)]);if(_0x495d71!==-0x1){let _0x1082cf=this['AutomateSystem'][_0x5cbfa2(0x32c)][_0x495d71];if(_0x1082cf[_0x5cbfa2(0x15e)]=_0x21a3cf[_0x5cbfa2(0x15e)]??_0x1082cf[_0x5cbfa2(0x15e)],_0x1082cf['default']=_0x21a3cf[_0x5cbfa2(0xef)]??_0x1082cf[_0x5cbfa2(0xef)],_0x1082cf[_0x5cbfa2(0x762)]=_0x21a3cf[_0x5cbfa2(0x762)]??_0x1082cf[_0x5cbfa2(0x762)],_0x1082cf['startCommand']=_0x21a3cf[_0x5cbfa2(0x192)]??_0x1082cf[_0x5cbfa2(0x6a7)],_0x1082cf[_0x5cbfa2(0x4cd)]=_0x21a3cf[_0x5cbfa2(0x4cd)]??_0x1082cf[_0x5cbfa2(0x4cd)],_0x1082cf[_0x5cbfa2(0x5cc)]=_0x21a3cf['readMessages']??_0x1082cf[_0x5cbfa2(0x5cc)],_0x21a3cf[_0x5cbfa2(0xef)]&&this[_0x5cbfa2(0x162)][_0x5cbfa2(0x32c)][_0x5cbfa2(0x64a)]((_0x1e8583,_0x457c33)=>{const _0x25e751=_0x5cbfa2;_0x457c33!==_0x495d71&&(_0x1e8583[_0x25e751(0xef)]=!0x1);}),this[_0x5cbfa2(0x162)][_0x5cbfa2(0x32c)][_0x495d71]=_0x1082cf,!await this['repository'][_0x5cbfa2(0x126)][_0x5cbfa2(0x6cc)]({'flows':this[_0x5cbfa2(0x162)][_0x5cbfa2(0x32c)]},this[_0x5cbfa2(0x801)][_0x5cbfa2(0x69a)]))throw new m(_0x5cbfa2(0x838));}let _0x427f1e=[_0x5cbfa2(0x5e3),_0x5cbfa2(0x4f2),_0x5cbfa2(0x2fc),_0x5cbfa2(0x21b)];for(let _0x11348b of _0x427f1e)delete _0x21a3cf[_0x11348b];if(_0x47c676['whoCanEdit']?.[_0x5cbfa2(0x49c)](this[_0x5cbfa2(0x801)]['wuid'])||(_0x21a3cf={'_id':_0x21a3cf[_0x5cbfa2(0x59b)]}),_0x23fd93!==Ri&&_0x21a3cf?.[_0x5cbfa2(0x207)]&&!_0x47c676?.[_0x5cbfa2(0x207)])throw new m(_0x5cbfa2(0x5f3));let _0x464191=new Set(_0x21a3cf[_0x5cbfa2(0x1b7)]??_0x47c676[_0x5cbfa2(0x1b7)]);_0x464191[_0x5cbfa2(0x346)](_0x47c676[_0x5cbfa2(0x436)]);let _0x419928=new Set(_0x21a3cf['whoCanUse']??_0x47c676[_0x5cbfa2(0x5b1)]??[]);_0x464191['forEach'](_0xb8920e=>_0x419928[_0x5cbfa2(0x346)](_0xb8920e)),_0x419928[_0x5cbfa2(0x346)](_0x47c676[_0x5cbfa2(0x436)]),this['logger'][_0x5cbfa2(0x5a1)](this[_0x5cbfa2(0x77a)]+'\x20('+this['instance'][_0x5cbfa2(0x69a)]+_0x5cbfa2(0x7d8)+Array[_0x5cbfa2(0x1be)](_0x464191)),this['logger'][_0x5cbfa2(0x5a1)](this[_0x5cbfa2(0x77a)]+'\x20('+this[_0x5cbfa2(0x801)][_0x5cbfa2(0x69a)]+_0x5cbfa2(0x12a)+Array['from'](_0x419928));let _0x388c9b=await this['getValidWhatsAppNumbers'](Array[_0x5cbfa2(0x1be)](_0x419928)),_0x38847c=Array[_0x5cbfa2(0x1be)](_0x464191)[_0x5cbfa2(0x314)](_0x5842d9=>_0x388c9b[_0x5cbfa2(0x49c)](_0x5842d9)),_0x25d107=Array[_0x5cbfa2(0x1be)](_0x419928)[_0x5cbfa2(0x314)](_0x4e5fc4=>_0x388c9b[_0x5cbfa2(0x49c)](_0x4e5fc4));this[_0x5cbfa2(0x246)]['verbose'](this[_0x5cbfa2(0x77a)]+'\x20('+this[_0x5cbfa2(0x801)]['wuid']+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x38847c),this['logger'][_0x5cbfa2(0x5a1)](this[_0x5cbfa2(0x77a)]+'\x20('+this[_0x5cbfa2(0x801)][_0x5cbfa2(0x69a)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x25d107);let _0x24aa45={..._0x47c676,..._0x21a3cf,'whoCanEdit':_0x38847c,'whoCanUse':_0x25d107},_0x5678a9=await this[_0x5cbfa2(0x77f)][_0x5cbfa2(0x4ad)][_0x5cbfa2(0x2a2)](_0x47c676[_0x5cbfa2(0x59b)],_0x24aa45);return await this[_0x5cbfa2(0x4d8)](),_0x5678a9;}catch(_0x3b9e40){let _0x52ef84='Erro\x20ao\x20alterar\x20fluxo',_0x3b1a29=_0x3b9e40 instanceof Error?_0x3b9e40[_0x5cbfa2(0x5ad)]:typeof _0x3b9e40==_0x5cbfa2(0xfe)?JSON[_0x5cbfa2(0x563)](_0x3b9e40):_0x3b9e40,_0x57e8c5=_0x52ef84+':\x20'+_0x3b1a29;throw this[_0x5cbfa2(0x246)][_0x5cbfa2(0x3d2)](this[_0x5cbfa2(0x77a)]+'\x20('+this[_0x5cbfa2(0x801)][_0x5cbfa2(0x69a)]+_0x5cbfa2(0x6fe)+_0x57e8c5),new m(_0x57e8c5);}}async[a0_0xc869c4(0x34a)](_0x26c77b){const _0x373901=a0_0xc869c4;let _0x22ea8c={'numbers':_0x26c77b};return(await this[_0x373901(0x23f)](_0x22ea8c))[_0x373901(0x314)](_0x3fd00d=>_0x3fd00d['exists'])[_0x373901(0x474)](_0x44e087=>_0x44e087['jid'])[_0x373901(0x474)](_0x2335bb=>this[_0x373901(0x644)](_0x2335bb));}[a0_0xc869c4(0x644)](_0x6d7f28){const _0x593549=a0_0xc869c4;let _0x12db8f=_0x6d7f28[_0x593549(0x2f6)](/\d+/);return _0x12db8f?_0x12db8f[0x0]:'';}async[a0_0xc869c4(0x729)](_0x29b6f2){const _0x1a3f85=a0_0xc869c4;try{if(this[_0x1a3f85(0x246)][_0x1a3f85(0x5a1)](this[_0x1a3f85(0x77a)]+'\x20('+this[_0x1a3f85(0x801)][_0x1a3f85(0x69a)]+_0x1a3f85(0x759)),!this['AutomateSystem'][_0x1a3f85(0x32c)][_0x1a3f85(0x194)](_0x2b5ec4=>_0x2b5ec4[_0x1a3f85(0x59b)]===_0x29b6f2[_0x1a3f85(0x59b)]))throw this['logger'][_0x1a3f85(0x5a1)](this[_0x1a3f85(0x77a)]+'\x20('+this['instance'][_0x1a3f85(0x69a)]+_0x1a3f85(0x321)+_0x29b6f2[_0x1a3f85(0x59b)]+_0x1a3f85(0x7fc)),new m(_0x1a3f85(0x7c2));let _0x4f23f7=await this[_0x1a3f85(0x77f)][_0x1a3f85(0x4ad)][_0x1a3f85(0x4d6)]({'where':{'_id':_0x29b6f2[_0x1a3f85(0x59b)]}});if(!_0x4f23f7||!_0x4f23f7[_0x1a3f85(0x5b1)]?.[_0x1a3f85(0x49c)](this['instance'][_0x1a3f85(0x69a)]))throw this[_0x1a3f85(0x246)]['error'](this[_0x1a3f85(0x77a)]+'\x20('+this[_0x1a3f85(0x801)][_0x1a3f85(0x69a)]+_0x1a3f85(0x58c)+_0x29b6f2['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1a3f85(0x612)+_0x29b6f2[_0x1a3f85(0x59b)]+_0x1a3f85(0x3e8));if(!_0x4f23f7[_0x1a3f85(0x1b7)]?.['includes'](this[_0x1a3f85(0x801)][_0x1a3f85(0x69a)]))throw new m(_0x1a3f85(0x1a3));let {block:_0x4b50be}=_0x29b6f2;_0x4b50be?.[_0x1a3f85(0x222)]?this[_0x1a3f85(0x64e)](_0x4f23f7,_0x29b6f2):_0x4b50be?.['delete']?this['deleteBlock'](_0x4f23f7,_0x29b6f2):_0x4b50be[_0x1a3f85(0x59b)]?await this[_0x1a3f85(0x13e)](_0x4f23f7,_0x29b6f2):this[_0x1a3f85(0x184)](_0x4f23f7,_0x29b6f2);let _0x2057d3=await this['repository'][_0x1a3f85(0x4ad)][_0x1a3f85(0x2a2)](_0x4f23f7[_0x1a3f85(0x59b)],_0x4f23f7);if(!_0x2057d3)throw new Error(_0x1a3f85(0x215));return _0x2057d3;}catch(_0x1faffa){this[_0x1a3f85(0x5ef)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x1faffa[_0x1a3f85(0x5ad)]);}}async[a0_0xc869c4(0x64e)](_0x1beced,_0x72faa0){const _0x4460fb=a0_0xc869c4;let _0x21f7c2=_0x72faa0[_0x4460fb(0x31a)][_0x4460fb(0x59b)],_0x54a6d1=_0x1beced[_0x4460fb(0x755)][_0x4460fb(0x194)](_0x198b34=>_0x198b34[_0x4460fb(0x59b)][_0x4460fb(0x806)]()===_0x21f7c2);if(!_0x54a6d1){this[_0x4460fb(0x246)]['error'](this[_0x4460fb(0x77a)]+'\x20('+this['instance']['wuid']+_0x4460fb(0x6c4)+_0x21f7c2+_0x4460fb(0x837));return;}this['logger'][_0x4460fb(0x5a1)](this[_0x4460fb(0x77a)]+'\x20('+this[_0x4460fb(0x801)][_0x4460fb(0x69a)]+_0x4460fb(0x860)+JSON[_0x4460fb(0x563)](_0x54a6d1));let _0x40d414=JSON[_0x4460fb(0x50b)](JSON[_0x4460fb(0x563)](_0x54a6d1));_0x40d414[_0x4460fb(0x59b)]=new he[(_0x4460fb(0xef))][(_0x4460fb(0x478))][(_0x4460fb(0x69d))](),this[_0x4460fb(0x246)][_0x4460fb(0x5a1)](this[_0x4460fb(0x77a)]+'\x20('+this[_0x4460fb(0x801)][_0x4460fb(0x69a)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x4460fb(0x563)](_0x40d414)),_0x1beced[_0x4460fb(0x755)][_0x4460fb(0x14c)](_0x40d414),this[_0x4460fb(0x4e5)](_0x1beced[_0x4460fb(0x755)],_0x40d414[_0x4460fb(0x4c0)]);}['throwAndLogError'](_0x5b5dc2){const _0x10f8e7=a0_0xc869c4;throw this[_0x10f8e7(0x246)][_0x10f8e7(0x3d2)](this[_0x10f8e7(0x77a)]+'\x20('+this['instance']['wuid']+_0x10f8e7(0x6fe)+_0x5b5dc2),new m(_0x5b5dc2);}[a0_0xc869c4(0x3b1)](_0x46ed8a,_0x502b5a){const _0x864313=a0_0xc869c4;let {block:_0x3fc41e}=_0x502b5a;if(_0x3fc41e[_0x864313(0x155)]===_0x864313(0x703)){this['throwAndLogError'](_0x864313(0x2ab));return;}if(!_0x3fc41e['_id']){this['throwAndLogError'](_0x864313(0x7f4));return;}let _0x1c92cf=_0x46ed8a['blocks']['find'](_0x21ba28=>_0x21ba28[_0x864313(0x59b)]['toString']()===_0x502b5a[_0x864313(0x31a)][_0x864313(0x59b)][_0x864313(0x806)]());if(!_0x1c92cf){this[_0x864313(0x5ef)](_0x864313(0x301)+_0x3fc41e[_0x864313(0x59b)]+'\x20não\x20encontrado');return;}_0x46ed8a['blocks']=_0x46ed8a[_0x864313(0x755)]['filter'](_0x5bbe2e=>_0x5bbe2e[_0x864313(0x59b)][_0x864313(0x806)]()!==_0x502b5a['block'][_0x864313(0x59b)][_0x864313(0x806)]()),_0x46ed8a[_0x864313(0x51b)]=_0x46ed8a[_0x864313(0x51b)][_0x864313(0x314)](_0x5e5e13=>_0x5e5e13[_0x864313(0x5b0)]!==_0x3fc41e['_id']['toString']()),_0x46ed8a[_0x864313(0x23d)]=_0x46ed8a[_0x864313(0x23d)]['filter'](_0x4fc63b=>_0x4fc63b[_0x864313(0x5b0)]!==_0x3fc41e['_id'][_0x864313(0x806)]()),_0x46ed8a[_0x864313(0x5c2)]=_0x46ed8a[_0x864313(0x5c2)][_0x864313(0x314)](_0x54e9a4=>_0x54e9a4[_0x864313(0x5b0)]!==_0x3fc41e[_0x864313(0x59b)][_0x864313(0x806)]()),this[_0x864313(0x4e5)](_0x46ed8a[_0x864313(0x755)],_0x1c92cf['groupId']);}async['updateBlock'](_0xfe0e0f,_0x5daa47){const _0x144eaa=a0_0xc869c4;let _0x38a335=_0xfe0e0f[_0x144eaa(0x755)]['findIndex'](_0xa967d0=>_0xa967d0[_0x144eaa(0x59b)][_0x144eaa(0x806)]()===_0x5daa47[_0x144eaa(0x31a)][_0x144eaa(0x59b)][_0x144eaa(0x806)]());if(this['logger']['verbose'](this[_0x144eaa(0x77a)]+'\x20('+this[_0x144eaa(0x801)][_0x144eaa(0x69a)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x38a335),_0x38a335===-0x1){this[_0x144eaa(0x246)]['verbose'](_0x144eaa(0x301)+_0x5daa47['block'][_0x144eaa(0x59b)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x155)]===_0x144eaa(0x703)){let _0x2f838b=Object[_0x144eaa(0x239)](_0x5daa47['block']);if(_0x2f838b[_0x144eaa(0x4c6)]>0x2||_0x2f838b[_0x144eaa(0x4c6)]===0x2&&!_0x2f838b[_0x144eaa(0x49c)]('next_groupId')){this[_0x144eaa(0x5ef)](_0x144eaa(0x5bb));return;}}let _0x42a5d1=_0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x4c0)];for(let _0x9fff8c in _0x5daa47['block'])_0x5daa47['block'][_0x144eaa(0xd5)](_0x9fff8c)&&(_0xfe0e0f['blocks'][_0x38a335][_0x9fff8c]=_0x5daa47['block'][_0x9fff8c]);if(this[_0x144eaa(0x246)][_0x144eaa(0x5a1)](this[_0x144eaa(0x77a)]+'\x20('+this[_0x144eaa(0x801)][_0x144eaa(0x69a)]+_0x144eaa(0x770)+JSON[_0x144eaa(0x563)](_0xfe0e0f[_0x144eaa(0x755)][_0x38a335])),_0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)]&&'header'in _0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)]){this[_0x144eaa(0x246)]['verbose'](this[_0x144eaa(0x77a)]+'\x20('+this[_0x144eaa(0x801)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x16f7dc=JSON['stringify'](_0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)]['header'],null,0x1);_0x16f7dc[_0x144eaa(0x4c6)]>0x2&&(_0x16f7dc=_0x16f7dc[_0x144eaa(0x6c5)](0x1,_0x16f7dc[_0x144eaa(0x4c6)]-0x1)[_0x144eaa(0x501)]()),_0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)]['headerString']=_0x16f7dc;}if(_0xfe0e0f[_0x144eaa(0x755)][_0x38a335]['apirequest']&&_0x144eaa(0x83c)in _0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)]&&!('bodyString'in _0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)])){this[_0x144eaa(0x246)][_0x144eaa(0x5a1)](this[_0x144eaa(0x77a)]+'\x20('+this[_0x144eaa(0x801)][_0x144eaa(0x69a)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0xfe0e0f[_0x144eaa(0x755)][_0x38a335]['apirequest']['bodyStringErrorParse']=!0x1;let _0x28a8c4=JSON[_0x144eaa(0x563)](_0xfe0e0f['blocks'][_0x38a335][_0x144eaa(0x285)][_0x144eaa(0x83c)],null,0x2);_0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)][_0x144eaa(0x4c2)]=_0x28a8c4;}if(_0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)]&&_0x144eaa(0x4c2)in _0xfe0e0f[_0x144eaa(0x755)][_0x38a335][_0x144eaa(0x285)]){_0xfe0e0f['blocks'][_0x38a335][_0x144eaa(0x285)]['bodyStringErrorParse']=!0x1;let _0x360f39=_0xfe0e0f['blocks'][_0x38a335]['apirequest'][_0x144eaa(0x4c2)],_0x2923f2=this[_0x144eaa(0x363)](_0x360f39);_0xfe0e0f[_0x144eaa(0x755)][_0x38a335]['apirequest'][_0x144eaa(0x4c2)]=_0x2923f2[_0x144eaa(0x259)],_0xfe0e0f['blocks'][_0x38a335][_0x144eaa(0x285)][_0x144eaa(0x727)]=_0x2923f2['error'];}let _0x275dae=_0xfe0e0f['blocks'][_0x38a335][_0x144eaa(0x4c0)];_0x42a5d1!==_0x275dae?(this[_0x144eaa(0x4e5)](_0xfe0e0f[_0x144eaa(0x755)],_0x42a5d1),this[_0x144eaa(0x4e5)](_0xfe0e0f[_0x144eaa(0x755)],_0x275dae)):this[_0x144eaa(0x4e5)](_0xfe0e0f[_0x144eaa(0x755)],_0x42a5d1);}[a0_0xc869c4(0x363)](_0x137895){const _0x589a79=a0_0xc869c4;let _0x3100ab='\u205f',_0xfe6a4=!0x1,_0x94a6d9='';for(let _0x5e4d34=0x0;_0x5e4d34<_0x137895[_0x589a79(0x4c6)];_0x5e4d34++){let _0x5133ad=_0x137895[_0x5e4d34];_0x5133ad==='\x22'&&(_0x5e4d34===0x0||_0x137895[_0x5e4d34-0x1]!=='\x5c')&&(_0xfe6a4=!_0xfe6a4),!(!_0xfe6a4&&(_0x5133ad==='\x0a'||_0x5133ad==='\x20'||_0x5133ad===_0x3100ab))&&(_0x94a6d9+=_0x5133ad);}let _0x4a7683={},_0xccdbe9=9876543210.1234,_0x50cac8=_0x94a6d9[_0x589a79(0x791)](/\{\{([^}]+)\}\}/g,_0x26d7f1=>{let _0x294e13=_0x26d7f1,_0x8066cb=''+_0xccdbe9;return _0x4a7683[_0x8066cb]=_0x294e13,_0xccdbe9+=0.0001,_0x8066cb;}),_0x4e4a06='',_0x24a258=!0x1;try{let _0x218649=JSON[_0x589a79(0x50b)](_0x50cac8);_0x4e4a06=JSON['stringify'](_0x218649,null,0x2),_0x4e4a06=_0x4e4a06[_0x589a79(0x791)](/\n( +)/g,(_0x4d4341,_0x1bd3e2)=>{const _0x14248a=_0x589a79;let _0x262c9a=_0x1bd3e2['length'];return'\x0a'+_0x3100ab[_0x14248a(0x4b1)](_0x262c9a*0x2);}),_0x4e4a06=_0x4e4a06[_0x589a79(0x791)](/(\d{10,}\.\d+)/g,_0x292c5c=>_0x4a7683[_0x292c5c]||_0x292c5c);}catch(_0x4417e9){this[_0x589a79(0x246)][_0x589a79(0x3d2)](_0x589a79(0x852)+_0x4417e9),_0x4e4a06=_0x137895,_0x24a258=!0x0;}return{'result':_0x4e4a06,'error':_0x24a258};}[a0_0xc869c4(0x184)](_0x5b1781,_0xf60867){const _0x309224=a0_0xc869c4;if(_0xf60867[_0x309224(0x31a)]['type']===_0x309224(0x703)){this[_0x309224(0x5ef)](_0x309224(0x80d));return;}if(_0xf60867[_0x309224(0x31a)][_0x309224(0x285)]&&'header'in _0xf60867[_0x309224(0x31a)]['apirequest']){this[_0x309224(0x246)][_0x309224(0x5a1)](this[_0x309224(0x77a)]+'\x20('+this[_0x309224(0x801)][_0x309224(0x69a)]+_0x309224(0x6db));let _0x201cba=JSON[_0x309224(0x563)](_0xf60867[_0x309224(0x31a)][_0x309224(0x285)][_0x309224(0x7b7)],null,0x1);_0x201cba[_0x309224(0x4c6)]>0x2&&(_0x201cba=_0x201cba[_0x309224(0x6c5)](0x1,_0x201cba['length']-0x1)[_0x309224(0x501)]()),_0xf60867[_0x309224(0x31a)][_0x309224(0x285)][_0x309224(0x62f)]=_0x201cba;}_0xf60867[_0x309224(0x31a)][_0x309224(0x285)]&&_0x309224(0x83c)in _0xf60867[_0x309224(0x31a)][_0x309224(0x285)]&&(this[_0x309224(0x246)]['verbose'](this[_0x309224(0x77a)]+'\x20('+this[_0x309224(0x801)][_0x309224(0x69a)]+_0x309224(0xc6)),_0xf60867['block']['apirequest'][_0x309224(0x4c2)]=JSON[_0x309224(0x563)](_0xf60867[_0x309224(0x31a)]['apirequest'][_0x309224(0x83c)],null,0x1)[_0x309224(0x501)]()),_0x5b1781[_0x309224(0x755)][_0x309224(0x14c)](_0xf60867[_0x309224(0x31a)]),this['reorderBlocks'](_0x5b1781['blocks'],_0xf60867['block'][_0x309224(0x4c0)]);}[a0_0xc869c4(0x4e5)](_0x2aa977,_0x55a143){const _0x29c019=a0_0xc869c4;let _0x209fef=_0x2aa977['filter'](_0x2e81a0=>_0x2e81a0[_0x29c019(0x4c0)]===_0x55a143);_0x209fef[_0x29c019(0x822)]((_0xbf26e2,_0x53e1b5)=>_0xbf26e2[_0x29c019(0x64d)]-_0x53e1b5[_0x29c019(0x64d)]),_0x209fef['forEach']((_0x4196e5,_0x40d417)=>_0x4196e5[_0x29c019(0x64d)]=_0x40d417+0x1);}async[a0_0xc869c4(0x551)](_0x1bb865){const _0x3f8124=a0_0xc869c4;try{if(this[_0x3f8124(0x246)][_0x3f8124(0x5a1)](this[_0x3f8124(0x77a)]+'\x20('+this['instance']['wuid']+_0x3f8124(0x19e)),!_0x1bb865||!_0x1bb865[_0x3f8124(0x6a8)]){this[_0x3f8124(0x5ef)](_0x3f8124(0x2ca));return;}if(!this[_0x3f8124(0x162)][_0x3f8124(0x32c)][_0x3f8124(0x194)](_0x434ae9=>_0x434ae9[_0x3f8124(0x59b)]===_0x1bb865[_0x3f8124(0x59b)]))throw this[_0x3f8124(0x246)]['verbose'](this[_0x3f8124(0x77a)]+'\x20('+this[_0x3f8124(0x801)][_0x3f8124(0x69a)]+_0x3f8124(0x321)+_0x1bb865[_0x3f8124(0x59b)]+_0x3f8124(0x7fc)),new m(_0x3f8124(0x7c2));let _0x1e9167=await this[_0x3f8124(0x77f)][_0x3f8124(0x4ad)][_0x3f8124(0x4d6)]({'where':{'_id':_0x1bb865[_0x3f8124(0x59b)]}});if(!_0x1e9167||!_0x1e9167[_0x3f8124(0x5b1)]?.[_0x3f8124(0x49c)](this[_0x3f8124(0x801)]['wuid']))throw this['logger'][_0x3f8124(0x3d2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3f8124(0x58c)+_0x1bb865[_0x3f8124(0x59b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3f8124(0x612)+_0x1bb865[_0x3f8124(0x59b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1e9167[_0x3f8124(0x1b7)]?.[_0x3f8124(0x49c)](this[_0x3f8124(0x801)][_0x3f8124(0x69a)]))throw new m(_0x3f8124(0x1a3));let {replyOption:_0x33ff93}=_0x1bb865;_0x33ff93?.['delete']?(this[_0x3f8124(0x7a0)](_0x1e9167,_0x1bb865),this[_0x3f8124(0x3d5)](_0x1e9167[_0x3f8124(0x5c2)],_0x1bb865[_0x3f8124(0x6a8)]['blockId'])):_0x33ff93[_0x3f8124(0x59b)]?(await this[_0x3f8124(0x722)](_0x1e9167,_0x1bb865),this[_0x3f8124(0x3d5)](_0x1e9167[_0x3f8124(0x5c2)],_0x1bb865['replyOption'][_0x3f8124(0x5b0)])):(this[_0x3f8124(0x350)](_0x1e9167,_0x1bb865),this[_0x3f8124(0x3d5)](_0x1e9167[_0x3f8124(0x5c2)],_0x1bb865[_0x3f8124(0x6a8)]['blockId']));let _0x56c876=await this['repository'][_0x3f8124(0x4ad)][_0x3f8124(0x2a2)](_0x1e9167[_0x3f8124(0x59b)],_0x1e9167);if(!_0x56c876)throw new Error(_0x3f8124(0x215));return _0x56c876;}catch(_0x27774f){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x27774f);}}[a0_0xc869c4(0x3d5)](_0x567f46,_0x27a452){const _0x480ced=a0_0xc869c4;_0x567f46[_0x480ced(0x64a)](_0x541100=>{const _0x75447a=_0x480ced;_0x541100[_0x75447a(0x5b0)]===_0x27a452&&_0x541100['order']===void 0x0&&(_0x541100[_0x75447a(0x64d)]=0x270f);});let _0x53a074=_0x567f46[_0x480ced(0x314)](_0x2d5e60=>_0x2d5e60[_0x480ced(0x5b0)]===_0x27a452);_0x53a074[_0x480ced(0x822)]((_0x2bd359,_0x119826)=>_0x2bd359[_0x480ced(0x64d)]-_0x119826[_0x480ced(0x64d)]),_0x53a074[_0x480ced(0x64a)]((_0x1dcc5e,_0x7879ce)=>{const _0x16e1ec=_0x480ced;_0x1dcc5e[_0x16e1ec(0x64d)]=_0x7879ce+0x1;}),_0x567f46[_0x480ced(0x64a)](_0x1a0d21=>{const _0x3b3b65=_0x480ced;if(_0x1a0d21['blockId']===_0x27a452){let _0x4bb373=_0x53a074[_0x3b3b65(0x194)](_0x234c98=>_0x234c98[_0x3b3b65(0x59b)]&&_0x1a0d21['_id']&&_0x234c98[_0x3b3b65(0x59b)][_0x3b3b65(0x806)]()===_0x1a0d21[_0x3b3b65(0x59b)][_0x3b3b65(0x806)]());_0x4bb373&&(_0x1a0d21['order']=_0x4bb373['order']);}});}[a0_0xc869c4(0x7a0)](_0x2d6441,_0x3b0dc0){const _0x7261d9=a0_0xc869c4;let {replyOption:_0x2ed22d}=_0x3b0dc0;if(!_0x2ed22d[_0x7261d9(0x59b)]){this[_0x7261d9(0x5ef)](_0x7261d9(0x124));return;}if(!_0x2d6441[_0x7261d9(0x5c2)]['find'](_0xdd4784=>_0xdd4784['_id']['toString']()===_0x3b0dc0[_0x7261d9(0x6a8)][_0x7261d9(0x59b)]['toString']())){this[_0x7261d9(0x5ef)](_0x7261d9(0x795)+_0x2ed22d[_0x7261d9(0x59b)]+_0x7261d9(0x3f4));return;}_0x2d6441[_0x7261d9(0x5c2)]=_0x2d6441[_0x7261d9(0x5c2)]['filter'](_0x135091=>_0x135091[_0x7261d9(0x59b)][_0x7261d9(0x806)]()!==_0x3b0dc0[_0x7261d9(0x6a8)]['_id']['toString']());}async['updateReplyOption'](_0x3b176b,_0x36f09b){const _0x2eb0dd=a0_0xc869c4;let _0x3db4ed=_0x3b176b['replyOptions']['findIndex'](_0x560bf6=>_0x560bf6[_0x2eb0dd(0x59b)][_0x2eb0dd(0x806)]()===_0x36f09b[_0x2eb0dd(0x6a8)]['_id']['toString']());if(_0x3db4ed===-0x1){this[_0x2eb0dd(0x5ef)](_0x2eb0dd(0x795)+_0x36f09b[_0x2eb0dd(0x6a8)][_0x2eb0dd(0x59b)]+_0x2eb0dd(0x7fd));return;}for(let _0x36b50f in _0x36f09b[_0x2eb0dd(0x6a8)])_0x36f09b['replyOption'][_0x2eb0dd(0xd5)](_0x36b50f)&&(_0x3b176b[_0x2eb0dd(0x5c2)][_0x3db4ed][_0x36b50f]=_0x36f09b['replyOption'][_0x36b50f]);}[a0_0xc869c4(0x350)](_0x1848e4,_0xf6745d){const _0x31177c=a0_0xc869c4;_0x1848e4[_0x31177c(0x5c2)]['push'](_0xf6745d[_0x31177c(0x6a8)]);}async[a0_0xc869c4(0x158)](_0x254df1){const _0x5effd6=a0_0xc869c4;this[_0x5effd6(0x246)][_0x5effd6(0x5a1)](this[_0x5effd6(0x77a)]+'\x20('+this[_0x5effd6(0x801)]['wuid']+_0x5effd6(0x2e3)+JSON[_0x5effd6(0x563)](_0x254df1,null,0x2));try{if(this[_0x5effd6(0x246)][_0x5effd6(0x5a1)](this[_0x5effd6(0x77a)]+'\x20('+this[_0x5effd6(0x801)][_0x5effd6(0x69a)]+'):\x20Editando\x20grupo\x20do\x20fluxo...'),!this[_0x5effd6(0x162)][_0x5effd6(0x32c)][_0x5effd6(0x194)](_0x436483=>_0x436483['_id']===_0x254df1[_0x5effd6(0x59b)]))throw this[_0x5effd6(0x246)][_0x5effd6(0x5a1)](this['instanceName']+'\x20('+this[_0x5effd6(0x801)][_0x5effd6(0x69a)]+_0x5effd6(0x321)+_0x254df1['_id']+_0x5effd6(0x7fc)),new m(_0x5effd6(0x7c2));let _0x141fd7=await this['repository']['flow'][_0x5effd6(0x4d6)]({'where':{'_id':_0x254df1[_0x5effd6(0x59b)]}});if(!_0x141fd7||!_0x141fd7[_0x5effd6(0x5b1)]?.[_0x5effd6(0x49c)](this[_0x5effd6(0x801)][_0x5effd6(0x69a)]))throw this['logger'][_0x5effd6(0x3d2)](this['instanceName']+'\x20('+this[_0x5effd6(0x801)][_0x5effd6(0x69a)]+_0x5effd6(0x58c)+_0x254df1[_0x5effd6(0x59b)]+_0x5effd6(0x3e8)),new m('Flow\x20\x27'+_0x254df1[_0x5effd6(0x59b)]+_0x5effd6(0x3e8));if(!_0x141fd7[_0x5effd6(0x1b7)]?.[_0x5effd6(0x49c)](this[_0x5effd6(0x801)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x254df1[_0x5effd6(0x1fa)]&&_0x254df1['group']?.['delete']===!0x0){if(this[_0x5effd6(0x246)]['verbose'](this[_0x5effd6(0x77a)]+'\x20('+this['instance'][_0x5effd6(0x69a)]+'):\x20delete\x20=\x20true'),_0x254df1[_0x5effd6(0x1fa)][_0x5effd6(0xef)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x141fd7[_0x5effd6(0x755)][_0x5effd6(0x1cc)](_0x42e361=>_0x42e361[_0x5effd6(0x4c0)]['toString']()===_0x254df1[_0x5effd6(0x1fa)][_0x5effd6(0x59b)]))return this[_0x5effd6(0x246)]['verbose'](this[_0x5effd6(0x77a)]+'\x20('+this[_0x5effd6(0x801)][_0x5effd6(0x69a)]+_0x5effd6(0x111)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x141fd7[_0x5effd6(0x2d1)]=_0x141fd7[_0x5effd6(0x2d1)][_0x5effd6(0x314)](_0x4a42b1=>_0x4a42b1[_0x5effd6(0x59b)][_0x5effd6(0x806)]()!==_0x254df1[_0x5effd6(0x1fa)]['_id']);}else{if(_0x254df1[_0x5effd6(0x1fa)]){if(_0x254df1[_0x5effd6(0x1fa)][_0x5effd6(0xef)]===!0x0)return{'message':_0x5effd6(0x6b6)};if(_0x254df1[_0x5effd6(0x1fa)][_0x5effd6(0x59b)]){let _0x5a16e9=_0x141fd7['groups']['find'](_0x55bc0d=>_0x55bc0d[_0x5effd6(0x59b)]['toString']()===_0x254df1[_0x5effd6(0x1fa)][_0x5effd6(0x59b)]);_0x5a16e9&&(_0x254df1[_0x5effd6(0x1fa)]['x']<0x0&&(_0x254df1[_0x5effd6(0x1fa)]['x']=0x0),_0x254df1[_0x5effd6(0x1fa)]['y']<0x0&&(_0x254df1[_0x5effd6(0x1fa)]['y']=0x0),Object[_0x5effd6(0x7cb)](_0x5a16e9,_0x254df1['group']));}else _0x141fd7['groups'][_0x5effd6(0x14c)](_0x254df1[_0x5effd6(0x1fa)]);}}let _0x27ca11=await this['repository'][_0x5effd6(0x4ad)][_0x5effd6(0x2a2)](_0x141fd7[_0x5effd6(0x59b)],_0x141fd7);if(!_0x27ca11)throw new Error(_0x5effd6(0x215));return _0x27ca11;}catch(_0x14fd77){let _0x2ec187=_0x5effd6(0x41f),_0x352348=_0x14fd77 instanceof Error?_0x14fd77[_0x5effd6(0x5ad)]:typeof _0x14fd77==_0x5effd6(0xfe)?JSON[_0x5effd6(0x563)](_0x14fd77):_0x14fd77,_0x2f0116=_0x2ec187+':\x20'+_0x352348;throw this[_0x5effd6(0x246)][_0x5effd6(0x3d2)](this['instanceName']+'\x20('+this[_0x5effd6(0x801)][_0x5effd6(0x69a)]+'):\x20'+_0x2f0116),new m(_0x2f0116);}}async[a0_0xc869c4(0x104)](_0x1f7ecb){const _0x1344d5=a0_0xc869c4;try{if(this[_0x1344d5(0x246)][_0x1344d5(0x5a1)](this[_0x1344d5(0x77a)]+'\x20('+this[_0x1344d5(0x801)][_0x1344d5(0x69a)]+_0x1344d5(0x3ce)),!this[_0x1344d5(0x162)][_0x1344d5(0x32c)]['find'](_0x1c975e=>_0x1c975e[_0x1344d5(0x59b)]===_0x1f7ecb[_0x1344d5(0x59b)]))throw this[_0x1344d5(0x246)][_0x1344d5(0x5a1)](this['instanceName']+'\x20('+this[_0x1344d5(0x801)]['wuid']+_0x1344d5(0x321)+_0x1f7ecb[_0x1344d5(0x59b)]+_0x1344d5(0x7fc)),new m(_0x1344d5(0x7c2));let _0x215be4=await this[_0x1344d5(0x77f)]['flow'][_0x1344d5(0x4d6)]({'where':{'_id':_0x1f7ecb['_id']}});if(!_0x215be4||!_0x215be4[_0x1344d5(0x5b1)]?.[_0x1344d5(0x49c)](this[_0x1344d5(0x801)][_0x1344d5(0x69a)]))throw this[_0x1344d5(0x246)][_0x1344d5(0x3d2)](this[_0x1344d5(0x77a)]+'\x20('+this[_0x1344d5(0x801)][_0x1344d5(0x69a)]+'):\x20Flow\x20\x27'+_0x1f7ecb[_0x1344d5(0x59b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x1f7ecb[_0x1344d5(0x59b)]+_0x1344d5(0x3e8));if(!_0x215be4[_0x1344d5(0x1b7)]?.[_0x1344d5(0x49c)](this[_0x1344d5(0x801)]['wuid']))throw new m(_0x1344d5(0x1a3));let _0x11ab5d=!0x1;if(_0x1f7ecb[_0x1344d5(0x322)]?.[_0x1344d5(0x7c3)]===!0x0)_0x215be4[_0x1344d5(0x51b)]=_0x215be4['conditions'][_0x1344d5(0x314)](_0x8539a1=>_0x8539a1&&_0x1f7ecb[_0x1344d5(0x322)]&&_0x8539a1[_0x1344d5(0x59b)]&&_0x1f7ecb['condition'][_0x1344d5(0x59b)]&&_0x8539a1[_0x1344d5(0x59b)]['toString']()!==_0x1f7ecb[_0x1344d5(0x322)][_0x1344d5(0x59b)]['toString']()),_0x11ab5d=!0x0;else{let _0x3e7e85=_0x215be4[_0x1344d5(0x51b)][_0x1344d5(0x194)](_0x5a0e30=>_0x5a0e30&&_0x1f7ecb[_0x1344d5(0x322)]&&_0x5a0e30[_0x1344d5(0x59b)]&&_0x1f7ecb['condition'][_0x1344d5(0x59b)]&&_0x5a0e30[_0x1344d5(0x59b)][_0x1344d5(0x806)]()===_0x1f7ecb['condition'][_0x1344d5(0x59b)][_0x1344d5(0x806)]());_0x3e7e85?(_0x11ab5d=_0x3e7e85['order']!==_0x1f7ecb[_0x1344d5(0x322)][_0x1344d5(0x64d)],Object[_0x1344d5(0x7cb)](_0x3e7e85,_0x1f7ecb[_0x1344d5(0x322)])):(_0x215be4[_0x1344d5(0x51b)][_0x1344d5(0x14c)](_0x1f7ecb[_0x1344d5(0x322)]),_0x11ab5d=!0x0);}if(_0x11ab5d){_0x215be4[_0x1344d5(0x51b)][_0x1344d5(0x822)]((_0x2d91a2,_0x11402d)=>_0x2d91a2['order']>_0x11402d[_0x1344d5(0x64d)]?0x1:_0x11402d[_0x1344d5(0x64d)]>_0x2d91a2[_0x1344d5(0x64d)]?-0x1:0x0);for(let _0x4e92c0=0x0;_0x4e92c0<_0x215be4[_0x1344d5(0x51b)]['length'];_0x4e92c0++)_0x215be4[_0x1344d5(0x51b)][_0x4e92c0][_0x1344d5(0x64d)]=_0x4e92c0+0x1;_0x215be4[_0x1344d5(0x51b)][_0x1344d5(0x4c6)]>0x0&&(_0x215be4[_0x1344d5(0x51b)][0x0]['OrAnd']='and');}let _0x510d63=await this[_0x1344d5(0x77f)]['flow'][_0x1344d5(0x2a2)](_0x215be4[_0x1344d5(0x59b)],_0x215be4);if(!_0x510d63)throw new Error(_0x1344d5(0x215));return _0x510d63;}catch(_0xf77db9){let _0x50377a=_0x1344d5(0x55a),_0x1176e3=_0xf77db9 instanceof Error?_0xf77db9[_0x1344d5(0x5ad)]:typeof _0xf77db9==_0x1344d5(0xfe)?JSON[_0x1344d5(0x563)](_0xf77db9):_0xf77db9,_0x4be554=_0x50377a+':\x20'+_0x1176e3;throw this['logger'][_0x1344d5(0x3d2)](this['instanceName']+'\x20('+this[_0x1344d5(0x801)][_0x1344d5(0x69a)]+'):\x20'+_0x4be554),new m(_0x4be554);}}async[a0_0xc869c4(0x5c1)](_0x1ba671){const _0x95ef5d=a0_0xc869c4;try{if(this[_0x95ef5d(0x246)][_0x95ef5d(0x5a1)](this[_0x95ef5d(0x77a)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this['AutomateSystem']['flows']['find'](_0x18ac59=>_0x18ac59[_0x95ef5d(0x59b)]===_0x1ba671[_0x95ef5d(0x59b)]))throw this[_0x95ef5d(0x246)][_0x95ef5d(0x5a1)](this['instanceName']+'\x20('+this['instance'][_0x95ef5d(0x69a)]+_0x95ef5d(0x321)+_0x1ba671[_0x95ef5d(0x59b)]+_0x95ef5d(0x7fc)),new m(_0x95ef5d(0x7c2));let _0x11d10b=await this[_0x95ef5d(0x77f)]['flow']['findOne']({'where':{'_id':_0x1ba671[_0x95ef5d(0x59b)]}});if(!_0x11d10b||!_0x11d10b[_0x95ef5d(0x5b1)]?.[_0x95ef5d(0x49c)](this['instance'][_0x95ef5d(0x69a)]))throw this[_0x95ef5d(0x246)][_0x95ef5d(0x3d2)](this[_0x95ef5d(0x77a)]+'\x20('+this[_0x95ef5d(0x801)][_0x95ef5d(0x69a)]+_0x95ef5d(0x58c)+_0x1ba671[_0x95ef5d(0x59b)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x95ef5d(0x612)+_0x1ba671['_id']+_0x95ef5d(0x3e8));if(!_0x11d10b[_0x95ef5d(0x1b7)]?.[_0x95ef5d(0x49c)](this[_0x95ef5d(0x801)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x2a869d=!0x1;if(_0x1ba671[_0x95ef5d(0x189)]?.[_0x95ef5d(0x7c3)]===!0x0)_0x11d10b['varedits']=_0x11d10b[_0x95ef5d(0x23d)][_0x95ef5d(0x314)](_0x3535c9=>_0x3535c9&&_0x1ba671['varedit']&&_0x3535c9[_0x95ef5d(0x59b)]&&_0x1ba671[_0x95ef5d(0x189)][_0x95ef5d(0x59b)]&&_0x3535c9[_0x95ef5d(0x59b)][_0x95ef5d(0x806)]()!==_0x1ba671[_0x95ef5d(0x189)][_0x95ef5d(0x59b)][_0x95ef5d(0x806)]()),_0x2a869d=!0x0;else{let _0x245ef3=_0x11d10b[_0x95ef5d(0x23d)][_0x95ef5d(0x194)](_0x1379d1=>_0x1379d1&&_0x1ba671[_0x95ef5d(0x189)]&&_0x1379d1['_id']&&_0x1ba671['varedit'][_0x95ef5d(0x59b)]&&_0x1379d1[_0x95ef5d(0x59b)][_0x95ef5d(0x806)]()===_0x1ba671[_0x95ef5d(0x189)][_0x95ef5d(0x59b)][_0x95ef5d(0x806)]());_0x245ef3?(_0x2a869d=_0x245ef3[_0x95ef5d(0x64d)]!==_0x1ba671[_0x95ef5d(0x189)][_0x95ef5d(0x64d)],Object[_0x95ef5d(0x7cb)](_0x245ef3,_0x1ba671[_0x95ef5d(0x189)])):(_0x11d10b['varedits']['push'](_0x1ba671[_0x95ef5d(0x189)]),_0x2a869d=!0x0);}if(_0x2a869d){_0x11d10b[_0x95ef5d(0x23d)][_0x95ef5d(0x822)]((_0x4ab8d3,_0x2681ca)=>_0x4ab8d3['order']>_0x2681ca['order']?0x1:_0x2681ca[_0x95ef5d(0x64d)]>_0x4ab8d3['order']?-0x1:0x0);for(let _0x55fa30=0x0;_0x55fa30<_0x11d10b[_0x95ef5d(0x23d)][_0x95ef5d(0x4c6)];_0x55fa30++)_0x11d10b[_0x95ef5d(0x23d)][_0x55fa30][_0x95ef5d(0x64d)]=_0x55fa30+0x1;}let _0x4e98c0=await this[_0x95ef5d(0x77f)][_0x95ef5d(0x4ad)][_0x95ef5d(0x2a2)](_0x11d10b[_0x95ef5d(0x59b)],_0x11d10b);if(!_0x4e98c0)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4e98c0;}catch(_0xb60c){let _0x1c5c52=_0x95ef5d(0x55a),_0x27ddba=_0xb60c instanceof Error?_0xb60c[_0x95ef5d(0x5ad)]:typeof _0xb60c==_0x95ef5d(0xfe)?JSON[_0x95ef5d(0x563)](_0xb60c):_0xb60c,_0x116c8c=_0x1c5c52+':\x20'+_0x27ddba;throw this[_0x95ef5d(0x246)]['error'](this['instanceName']+'\x20('+this[_0x95ef5d(0x801)][_0x95ef5d(0x69a)]+'):\x20'+_0x116c8c),new m(_0x116c8c);}}async['editFlowVariable'](_0x5d68e0){const _0x496c94=a0_0xc869c4;try{if(this[_0x496c94(0x246)][_0x496c94(0x5a1)](this[_0x496c94(0x77a)]+'\x20('+this[_0x496c94(0x801)]['wuid']+_0x496c94(0x1cd)),!this[_0x496c94(0x162)][_0x496c94(0x32c)][_0x496c94(0x194)](_0x2efe94=>_0x2efe94[_0x496c94(0x59b)]===_0x5d68e0['_id']))throw this[_0x496c94(0x246)][_0x496c94(0x5a1)](this[_0x496c94(0x77a)]+'\x20('+this[_0x496c94(0x801)][_0x496c94(0x69a)]+_0x496c94(0x321)+_0x5d68e0[_0x496c94(0x59b)]+_0x496c94(0x7fc)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x40e102=await this[_0x496c94(0x77f)]['flow'][_0x496c94(0x4d6)]({'where':{'_id':_0x5d68e0['_id']}});if(!_0x40e102||!_0x40e102[_0x496c94(0x5b1)]?.[_0x496c94(0x49c)](this[_0x496c94(0x801)][_0x496c94(0x69a)]))throw this[_0x496c94(0x246)][_0x496c94(0x3d2)](this[_0x496c94(0x77a)]+'\x20('+this[_0x496c94(0x801)][_0x496c94(0x69a)]+_0x496c94(0x58c)+_0x5d68e0[_0x496c94(0x59b)]+_0x496c94(0x3e8)),new m(_0x496c94(0x612)+_0x5d68e0[_0x496c94(0x59b)]+_0x496c94(0x3e8));if(!_0x40e102[_0x496c94(0x1b7)]?.[_0x496c94(0x49c)](this['instance']['wuid']))throw new m(_0x496c94(0x1a3));_0x5d68e0['variable'][_0x496c94(0x15e)]=_0x5d68e0['variable'][_0x496c94(0x15e)][_0x496c94(0x501)](),_0x5d68e0['variable']['name'][_0x496c94(0x24d)]('_')&&(_0x5d68e0[_0x496c94(0x1a8)]['name']=_0x5d68e0[_0x496c94(0x1a8)][_0x496c94(0x15e)]['substring'](0x1)),_0x5d68e0[_0x496c94(0x1a8)][_0x496c94(0x15e)]=_0x5d68e0[_0x496c94(0x1a8)]['name'][_0x496c94(0x501)]();let _0x3a9dee=_0x40e102[_0x496c94(0x56f)][_0x496c94(0x194)](_0x2cc9d5=>_0x2cc9d5[_0x496c94(0x15e)]===_0x5d68e0[_0x496c94(0x1a8)][_0x496c94(0x15e)]);if(_0x3a9dee?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x5d68e0[_0x496c94(0x1a8)]?.['delete']===!0x0){if(!_0x3a9dee)return{'message':_0x496c94(0x664)};_0x40e102[_0x496c94(0x56f)]=_0x40e102[_0x496c94(0x56f)][_0x496c94(0x314)](_0x537369=>_0x537369['name']!==_0x5d68e0[_0x496c94(0x1a8)][_0x496c94(0x15e)]);}else _0x3a9dee?Object[_0x496c94(0x7cb)](_0x3a9dee,_0x5d68e0['variable']):_0x40e102[_0x496c94(0x56f)][_0x496c94(0x14c)](_0x5d68e0[_0x496c94(0x1a8)]);let _0x911a31=await this[_0x496c94(0x77f)][_0x496c94(0x4ad)][_0x496c94(0x2a2)](_0x40e102[_0x496c94(0x59b)],_0x40e102);if(!_0x911a31)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x911a31;}catch(_0xd265bb){let _0x579b1d=_0x496c94(0x57d),_0x1658d9=_0xd265bb instanceof Error?_0xd265bb['message']:typeof _0xd265bb==_0x496c94(0xfe)?JSON[_0x496c94(0x563)](_0xd265bb):_0xd265bb,_0x1b0544=_0x579b1d+':\x20'+_0x1658d9;throw this[_0x496c94(0x246)][_0x496c94(0x3d2)](this[_0x496c94(0x77a)]+'\x20('+this[_0x496c94(0x801)]['wuid']+_0x496c94(0x6fe)+_0x1b0544),new m(_0x1b0544);}}async[a0_0xc869c4(0x454)](_0xbd5ce7){const _0xbae47d=a0_0xc869c4;let _0x48201a=null;try{if(!this[_0xbae47d(0x162)]?.[_0xbae47d(0x2e2)][_0xbae47d(0x766)])throw new m(_0xbae47d(0x7de));this[_0xbae47d(0x246)]['verbose'](this[_0xbae47d(0x77a)]+'\x20('+this[_0xbae47d(0x801)][_0xbae47d(0x69a)]+'):\x20Iniciando\x20bot...');let _0x14fb34=(await this[_0xbae47d(0x23f)]({'numbers':[_0xbd5ce7[_0xbae47d(0x607)]]}))[0x0];if(!_0x14fb34['exists']&&!(0x0,w[_0xbae47d(0x735)])(_0x14fb34[_0xbae47d(0x724)])&&!_0x14fb34['jid']['includes']('@broadcast'))throw _0x48201a=JSON[_0xbae47d(0x563)](_0x14fb34,null,0x2),new m(_0x14fb34);let _0x51d87d;if(_0xbd5ce7[_0xbae47d(0x15e)][_0xbae47d(0x4c6)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0xbae47d(0x44d)](_0xbd5ce7[_0xbae47d(0x15e)])?_0x51d87d=this[_0xbae47d(0x162)][_0xbae47d(0x32c)][_0xbae47d(0x194)](_0xbecf7e=>_0xbecf7e['_id']===_0xbd5ce7['name']):_0x51d87d=this[_0xbae47d(0x162)][_0xbae47d(0x32c)][_0xbae47d(0x194)](_0x1167f3=>_0x1167f3[_0xbae47d(0x15e)]===_0xbd5ce7[_0xbae47d(0x15e)]),!_0x51d87d)throw this[_0xbae47d(0x246)][_0xbae47d(0x5a1)](this[_0xbae47d(0x77a)]+'\x20('+this[_0xbae47d(0x801)][_0xbae47d(0x69a)]+_0xbae47d(0x321)+_0xbd5ce7['name']+'\x27\x20não\x20encontrado'),new m(_0xbae47d(0x7c2));let _0x360e34=await this[_0xbae47d(0x77f)][_0xbae47d(0x4ad)]['findOne']({'where':{'_id':_0x51d87d[_0xbae47d(0x59b)]}});if(!_0x360e34||!_0x360e34[_0xbae47d(0x5b1)]?.[_0xbae47d(0x49c)](this[_0xbae47d(0x801)]['wuid']))throw this[_0xbae47d(0x246)][_0xbae47d(0x3d2)](this[_0xbae47d(0x77a)]+'\x20('+this[_0xbae47d(0x801)][_0xbae47d(0x69a)]+_0xbae47d(0x58c)+_0x51d87d[_0xbae47d(0x59b)]+_0xbae47d(0x3e8)),_0x48201a='Flow\x20\x27'+_0x51d87d['_id']+_0xbae47d(0x3e8),new m(_0x48201a);let _0xde9dbf=await this[_0xbae47d(0x181)](_0x360e34,_0x14fb34[_0xbae47d(0x724)],_0xbd5ce7[_0xbae47d(0x1e0)]);if(_0xde9dbf){this[_0xbae47d(0x246)]['verbose'](this[_0xbae47d(0x77a)]+'\x20('+this['instance'][_0xbae47d(0x69a)]+_0xbae47d(0x6b7));let _0x330aef=await this[_0xbae47d(0x217)](_0xde9dbf);return _0x330aef&&await this[_0xbae47d(0x6ad)](_0xde9dbf,_0x330aef),{'message':_0xbae47d(0x4d5)+_0xbd5ce7['remoteJid']};}}catch(_0x1aef4d){if(this[_0xbae47d(0x246)][_0xbae47d(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0xbae47d(0x69a)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x1aef4d instanceof Error?_0x1aef4d['message']:JSON['stringify'](_0x1aef4d,null,0x2))),_0x48201a=_0x1aef4d instanceof Error?_0x1aef4d[_0xbae47d(0x5ad)]:JSON[_0xbae47d(0x563)](_0x1aef4d,null,0x2),_0x48201a)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x48201a);}}async['startFlowWebhook'](_0x4a63b7,_0x1762d9,_0x346f7e){const _0xcdbabd=a0_0xc869c4;let _0x3c9783=null;try{if(!this[_0xcdbabd(0x162)]?.['flowConfig'][_0xcdbabd(0x766)])throw new m(_0xcdbabd(0x7de));if(this[_0xcdbabd(0x246)][_0xcdbabd(0x5a1)](this[_0xcdbabd(0x77a)]+'\x20('+this['instance'][_0xcdbabd(0x69a)]+_0xcdbabd(0x3e9)),_0x1762d9){let _0x9bd47c=(await this['whatsappNumber']({'numbers':[_0x1762d9]}))[0x0];if(!_0x9bd47c[_0xcdbabd(0x177)]&&!(0x0,w[_0xcdbabd(0x735)])(_0x9bd47c[_0xcdbabd(0x724)])&&!_0x9bd47c['jid'][_0xcdbabd(0x49c)](_0xcdbabd(0x7b8)))throw _0x3c9783=JSON[_0xcdbabd(0x563)](_0x9bd47c,null,0x2),new m(_0x9bd47c);_0x1762d9=_0x9bd47c[_0xcdbabd(0x724)];}else _0x1762d9||(_0x1762d9=(0x0,Q['v4'])());let _0x1940a9=await this[_0xcdbabd(0x77f)][_0xcdbabd(0x4ad)][_0xcdbabd(0x4d6)]({'where':{'_id':_0x4a63b7}});if(!_0x1940a9||!_0x1940a9[_0xcdbabd(0x5b1)]?.[_0xcdbabd(0x49c)](this[_0xcdbabd(0x801)]['wuid']))throw this['logger'][_0xcdbabd(0x3d2)](this[_0xcdbabd(0x77a)]+'\x20('+this[_0xcdbabd(0x801)][_0xcdbabd(0x69a)]+_0xcdbabd(0x58c)+_0x4a63b7+_0xcdbabd(0x3e8)),new m(_0xcdbabd(0x612)+_0x4a63b7+_0xcdbabd(0x3e8));let _0x4380cb=await this[_0xcdbabd(0x181)](_0x1940a9,_0x1762d9,null);if(_0x4380cb){this[_0xcdbabd(0x246)][_0xcdbabd(0x5a1)](this['instanceName']+'\x20('+this['instance'][_0xcdbabd(0x69a)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x1b78fb;if(_0x346f7e){let _0x4e6425=_0x4380cb[_0xcdbabd(0x39b)][_0xcdbabd(0x7cc)],_0x26b9e2=this[_0xcdbabd(0x1fd)](_0x346f7e);Object[_0xcdbabd(0x7cb)](_0x4e6425,_0x26b9e2),_0x4380cb[_0xcdbabd(0x39b)][_0xcdbabd(0x7cc)]=_0x4e6425,_0x1b78fb={'error':!0x1,'apiResponse':_0x346f7e};}let _0x2cecf7=await this[_0xcdbabd(0x217)](_0x4380cb);return _0x2cecf7&&await this[_0xcdbabd(0x6ad)](_0x4380cb,_0x2cecf7),{'message':_0xcdbabd(0x4ce)};}}catch(_0x55890b){if(this[_0xcdbabd(0x246)][_0xcdbabd(0x3d2)](this[_0xcdbabd(0x77a)]+'\x20('+this[_0xcdbabd(0x801)]['wuid']+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x55890b instanceof Error?_0x55890b[_0xcdbabd(0x5ad)]:JSON[_0xcdbabd(0x563)](_0x55890b,null,0x2))),_0x3c9783=_0x55890b instanceof Error?_0x55890b[_0xcdbabd(0x5ad)]:JSON[_0xcdbabd(0x563)](_0x55890b,null,0x2),_0x3c9783)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x3c9783);}}async[a0_0xc869c4(0x433)](_0x2a04f2){const _0xf95ae3=a0_0xc869c4;try{let _0xa3c09a={'remoteJid':_0x2a04f2,'status':_0xf95ae3(0x5d5)},_0x459b56={'status':'closed'},_0x320e48=await this[_0xf95ae3(0x77f)][_0xf95ae3(0x7f6)][_0xf95ae3(0x414)](_0xa3c09a,_0x459b56,this[_0xf95ae3(0x801)][_0xf95ae3(0x69a)]);return this[_0xf95ae3(0x246)][_0xf95ae3(0x5a1)](this['instanceName']+'\x20('+this[_0xf95ae3(0x801)][_0xf95ae3(0x69a)]+_0xf95ae3(0x654)),_0x320e48;}catch(_0x2c24ba){throw this[_0xf95ae3(0x246)][_0xf95ae3(0x3d2)](this[_0xf95ae3(0x77a)]+'\x20('+this[_0xf95ae3(0x801)][_0xf95ae3(0x69a)]+_0xf95ae3(0x7fa)+_0x2c24ba[_0xf95ae3(0x5ad)]),_0x2c24ba;}}async[a0_0xc869c4(0x181)](_0x2da427,_0x144f3e,_0x5c88e9){const _0x48aa8f=a0_0xc869c4;this[_0x48aa8f(0x246)][_0x48aa8f(0x5a1)](this[_0x48aa8f(0x77a)]+'\x20('+this[_0x48aa8f(0x801)]['wuid']+_0x48aa8f(0xe2)),await this['closeExistingConversations'](_0x144f3e);try{let _0x44f958=require(_0x48aa8f(0x7fe))[_0x48aa8f(0x69d)],_0x4a2890=Date[_0x48aa8f(0x574)](),_0x44c1d4=_0x48aa8f(0x703),_0x597507={},_0x52c2c7={},_0x2c58db=this[_0x48aa8f(0x162)][_0x48aa8f(0x32c)]['find'](_0x503cd4=>_0x503cd4[_0x48aa8f(0x59b)]===_0x2da427[_0x48aa8f(0x59b)]?.[_0x48aa8f(0x806)]()),_0x2ae52e=_0x2c58db?.['minutesToClose']??_0x2da427[_0x48aa8f(0x4cd)]??0x0,_0x1b56b5=_0x2c58db?.[_0x48aa8f(0x5cc)]??_0x2da427[_0x48aa8f(0x5cc)]??!0x1,_0x1aeb49={'flowId':_0x2da427[_0x48aa8f(0x59b)],..._0x2da427,'chatLog':null},_0x1021ae=await this[_0x48aa8f(0x5ca)](_0x1aeb49[_0x48aa8f(0x56f)]),_0x419204=await this['getVariablesChat'](_0x144f3e),_0x2bfd08={..._0x1021ae,..._0x419204,'_remoteJid':_0x144f3e},_0x3b7501={'lastReceivedMessage':_0x597507,'lastSendMessage':_0x52c2c7,'lastBlockId':_0x44c1d4,'lastCondition':!0x0,'realVariables':_0x2bfd08};_0x1aeb49['chatLog']=_0x3b7501,_0x1aeb49[_0x48aa8f(0x39b)][_0x48aa8f(0x7cc)]={..._0x2bfd08,..._0x5c88e9},delete _0x1aeb49[_0x48aa8f(0x59b)],_0x1aeb49[_0x48aa8f(0x59b)]=new _0x44f958(),_0x1aeb49['lastInteraction']=_0x4a2890,_0x1aeb49['status']=_0x48aa8f(0x5d5),_0x1aeb49['remoteJid']=_0x144f3e,_0x1aeb49[_0x48aa8f(0x4cd)]=_0x2ae52e,_0x1aeb49[_0x48aa8f(0x5cc)]=_0x1b56b5,_0x1aeb49[_0x48aa8f(0x59b)]=_0x2da427[_0x48aa8f(0x59b)];let _0x55665a=await this[_0x48aa8f(0x77f)]['flowConversation'][_0x48aa8f(0x2a2)](_0x1aeb49[_0x48aa8f(0x59b)],_0x1aeb49,this[_0x48aa8f(0x801)]['wuid']);return this['logger'][_0x48aa8f(0x5a1)](this[_0x48aa8f(0x77a)]+'\x20('+this[_0x48aa8f(0x801)][_0x48aa8f(0x69a)]+_0x48aa8f(0x778)),_0x55665a?_0x1aeb49:null;}catch(_0x36416b){let _0x53d9b9=_0x48aa8f(0x362),_0x3662df=_0x36416b instanceof Error?_0x36416b['message']:typeof _0x36416b=='object'?JSON[_0x48aa8f(0x563)](_0x36416b):_0x36416b,_0x3ed7c2=_0x53d9b9+':\x20'+_0x3662df;throw this[_0x48aa8f(0x246)]['error'](this[_0x48aa8f(0x77a)]+'\x20('+this['instance'][_0x48aa8f(0x69a)]+'):\x20'+_0x3ed7c2),new m(_0x3ed7c2);}}async[a0_0xc869c4(0x355)](_0x165914){const _0x5c1b68=a0_0xc869c4;try{this['logger'][_0x5c1b68(0x5a1)](this['instanceName']+'\x20('+this[_0x5c1b68(0x801)][_0x5c1b68(0x69a)]+_0x5c1b68(0x2d2)),this['logger'][_0x5c1b68(0x5a1)](this[_0x5c1b68(0x77a)]+'\x20('+this[_0x5c1b68(0x801)][_0x5c1b68(0x69a)]+_0x5c1b68(0x67f)+_0x165914);let _0x336d26={'where':{'_id':_0x165914}};return await this[_0x5c1b68(0x77f)][_0x5c1b68(0x7f6)][_0x5c1b68(0x4d6)](_0x336d26,this[_0x5c1b68(0x801)][_0x5c1b68(0x69a)]);}catch(_0x449594){let _0x4706cc=_0x5c1b68(0x451),_0x3a362a=_0x449594 instanceof Error?_0x449594[_0x5c1b68(0x5ad)]:typeof _0x449594=='object'?JSON[_0x5c1b68(0x563)](_0x449594):_0x449594,_0x43ba85=_0x4706cc+':\x20'+_0x3a362a;throw this[_0x5c1b68(0x246)][_0x5c1b68(0x3d2)](this[_0x5c1b68(0x77a)]+'\x20('+this['instance'][_0x5c1b68(0x69a)]+_0x5c1b68(0x6fe)+_0x43ba85),new m(_0x43ba85);}}async[a0_0xc869c4(0x81f)](_0xe5ba47){const _0x3f806a=a0_0xc869c4;try{return this[_0x3f806a(0x246)][_0x3f806a(0x5a1)](this[_0x3f806a(0x77a)]+'\x20('+this[_0x3f806a(0x801)][_0x3f806a(0x69a)]+'):\x20Buscando\x20conversas...'),await this[_0x3f806a(0x77f)][_0x3f806a(0x7f6)][_0x3f806a(0x194)](_0xe5ba47,this[_0x3f806a(0x801)][_0x3f806a(0x69a)]);}catch(_0x44756e){let _0x47838b=_0x3f806a(0x61f),_0x2b4266=_0x44756e instanceof Error?_0x44756e[_0x3f806a(0x5ad)]:typeof _0x44756e==_0x3f806a(0xfe)?JSON['stringify'](_0x44756e):_0x44756e,_0x373b75=_0x47838b+':\x20'+_0x2b4266;throw this[_0x3f806a(0x246)][_0x3f806a(0x3d2)](this[_0x3f806a(0x77a)]+'\x20('+this['instance'][_0x3f806a(0x69a)]+_0x3f806a(0x6fe)+_0x373b75),new m(_0x373b75);}}async[a0_0xc869c4(0x655)](_0x4db757){const _0x58abbf=a0_0xc869c4;try{return this['logger'][_0x58abbf(0x5a1)](this[_0x58abbf(0x77a)]+'\x20('+this[_0x58abbf(0x801)][_0x58abbf(0x69a)]+_0x58abbf(0x14d)),this['logger'][_0x58abbf(0x5a1)](this[_0x58abbf(0x77a)]+'\x20('+this[_0x58abbf(0x801)]['wuid']+'):\x20Query\x20params:'+_0x4db757),(await this[_0x58abbf(0x77f)][_0x58abbf(0x7f6)][_0x58abbf(0xc7)]({'where':{'_id':_0x4db757['_id']}},this['instance'][_0x58abbf(0x69a)]))[_0x58abbf(0x173)]===0x0?{'message':_0x58abbf(0x1f0)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x1a43b1){let _0x62b185=_0x58abbf(0x7a2),_0x31d17e=_0x1a43b1 instanceof Error?_0x1a43b1[_0x58abbf(0x5ad)]:typeof _0x1a43b1==_0x58abbf(0xfe)?JSON[_0x58abbf(0x563)](_0x1a43b1):_0x1a43b1,_0x159900=_0x62b185+':\x20'+_0x31d17e;throw this[_0x58abbf(0x246)][_0x58abbf(0x3d2)](this[_0x58abbf(0x77a)]+'\x20('+this[_0x58abbf(0x801)][_0x58abbf(0x69a)]+'):\x20'+_0x159900),new m(_0x159900);}}async[a0_0xc869c4(0x5bc)](_0x11681a){const _0x1579ad=a0_0xc869c4;try{let {_id:_0xc04422,chatLog:_0x236679,status:_0x427a54}=_0x11681a;if(!_0xc04422)return{'message':_0x1579ad(0x5d8)};let _0x2430d7={};if(_0x427a54!==void 0x0&&(_0x2430d7[_0x1579ad(0x202)]=_0x427a54),Object[_0x1579ad(0x239)](_0x2430d7)[_0x1579ad(0x4c6)]===0x0)return{'message':_0x1579ad(0x18e)};let _0x4ff95c=await this['repository'][_0x1579ad(0x7f6)]['updateOne'](_0xc04422,_0x2430d7,this[_0x1579ad(0x801)][_0x1579ad(0x69a)]);return _0x4ff95c||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x504281){let _0x46b10d=_0x1579ad(0x557),_0x5c8d29=_0x504281 instanceof Error?_0x504281[_0x1579ad(0x5ad)]:typeof _0x504281=='object'?JSON['stringify'](_0x504281):_0x504281,_0x4ea13b=_0x46b10d+':\x20'+_0x5c8d29;throw this[_0x1579ad(0x246)]['error'](this[_0x1579ad(0x77a)]+'\x20('+this[_0x1579ad(0x801)]['wuid']+'):\x20'+_0x4ea13b),new m(_0x4ea13b);}}async[a0_0xc869c4(0xc4)](_0x9face){const _0x3497ba=a0_0xc869c4;try{_0x9face[_0x3497ba(0x59b)]=this[_0x3497ba(0x697)](_0x9face['_id']);let _0xae98a3=await this['repository'][_0x3497ba(0x6f8)]['findOne']({'where':{'_id':_0x9face[_0x3497ba(0x59b)]}},this[_0x3497ba(0x801)][_0x3497ba(0x69a)]);if(!_0xae98a3)throw new m(_0x3497ba(0x39f));let {_id:_0x3550fb,leadInfo:_0x98f076}=_0x9face;if(!_0x3550fb)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x9face[_0x3497ba(0x7c3)]==='all')return await this[_0x3497ba(0x5ac)](_0x9face['_id']),await this[_0x3497ba(0x77f)][_0x3497ba(0x6f8)][_0x3497ba(0x7c3)]({'where':{'_id':_0x9face[_0x3497ba(0x59b)]}},this['instance'][_0x3497ba(0x69a)]),await this[_0x3497ba(0x77f)]['message']['delete']({'where':{'key':{'remoteJid':_0x9face[_0x3497ba(0x59b)]}}},this[_0x3497ba(0x801)][_0x3497ba(0x69a)]),_0x9face=await this[_0x3497ba(0x77f)][_0x3497ba(0x6f8)][_0x3497ba(0x2a2)]({'where':{'_id':_0x9face[_0x3497ba(0x59b)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3497ba(0x801)]['wuid']),F(this[_0x3497ba(0x77a)],'chats',{'chat':_0x9face}),{'message':_0x3497ba(0x600)};if(_0x9face[_0x3497ba(0x7c3)]===_0x3497ba(0x43f))return await this['repository']['message'][_0x3497ba(0x7c3)]({'where':{'key':{'remoteJid':_0x9face[_0x3497ba(0x59b)]}}},this[_0x3497ba(0x801)][_0x3497ba(0x69a)]),_0x9face=await this['repository']['chat'][_0x3497ba(0x2a2)]({'where':{'_id':_0x9face[_0x3497ba(0x59b)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3497ba(0x69a)]),F(this[_0x3497ba(0x77a)],_0x3497ba(0x856),{'chat':_0x9face}),{'message':'Mensagens\x20deletadas\x20com\x20sucesso.'};let _0x2c0c48=(_0x4a739a,_0x3fd7a4,_0x723c43)=>{const _0x3ff048=_0x3497ba;_0x4a739a&&_0x723c43[_0x3ff048(0x64a)](_0x50d6b9=>{_0x4a739a[_0x50d6b9]!==void 0x0&&(_0x3fd7a4['leadInfo.'+_0x50d6b9]=_0x4a739a[_0x50d6b9]);});},_0x41b600={};if(_0x3497ba(0x154)in _0x9face&&(this[_0x3497ba(0x246)][_0x3497ba(0x5a1)](this[_0x3497ba(0x77a)]+'\x20('+this['instance'][_0x3497ba(0x69a)]+_0x3497ba(0x388)+_0x9face[_0x3497ba(0x59b)]),_0x9face[_0x3497ba(0x154)]=_0x9face[_0x3497ba(0x154)]===0x0?null:-0x1,await this['client'][_0x3497ba(0x46e)]({'mute':_0x9face[_0x3497ba(0x154)]},_0x9face[_0x3497ba(0x59b)]),_0x41b600[_0x3497ba(0x154)]=Number(_0x9face[_0x3497ba(0x154)])),_0x98f076&&(_0x2c0c48(_0x98f076,_0x41b600,[_0x3497ba(0x473),_0x3497ba(0x2c2),'email',_0x3497ba(0x134),_0x3497ba(0x202),_0x3497ba(0x2d4),_0x3497ba(0x5e4),_0x3497ba(0x3b7),_0x3497ba(0x4f5),'etiquetas','desativadoFluxoAte']),Array['isArray'](_0x98f076[_0x3497ba(0x56b)])&&(_0x41b600[_0x3497ba(0x544)]=_0x98f076[_0x3497ba(0x56b)][_0x3497ba(0x474)](_0x4fb634=>({'_id':_0x4fb634[_0x3497ba(0x59b)],'value':_0x4fb634[_0x3497ba(0x383)]}))),_0x9face[_0x3497ba(0x639)][_0x3497ba(0x3ee)]!==void 0x0)){let _0x488c8c=await this[_0x3497ba(0x77f)]['label']['find']({'where':{}},this[_0x3497ba(0x801)][_0x3497ba(0x69a)]),_0x2e1697=new Set(_0x9face[_0x3497ba(0x639)][_0x3497ba(0x3ee)]||[]),_0xd379cb=new Set(_0x9face[_0x3497ba(0x639)][_0x3497ba(0x3ee)]),_0x2f9503=new Set(_0x488c8c[_0x3497ba(0x474)](_0x4376c=>_0x4376c[_0x3497ba(0x59b)])),_0x3cd349=[..._0xd379cb][_0x3497ba(0x314)](_0x564208=>!_0x2e1697['has'](_0x564208)&&_0x2f9503[_0x3497ba(0x588)](_0x564208)),_0x509521=[..._0x2e1697]['filter'](_0x1f4673=>!_0xd379cb[_0x3497ba(0x588)](_0x1f4673));if(_0x41b600['leadInfo.etiquetas']=[..._0x2e1697],_0xae98a3&&!_0xae98a3[_0x3497ba(0x58e)]){for(let _0x4fb2a7 of _0x3cd349)await this[_0x3497ba(0x608)](_0x4fb2a7,_0x9face[_0x3497ba(0x59b)]),_0x2e1697[_0x3497ba(0x346)](_0x4fb2a7);for(let _0x4537c6 of _0x509521)await this[_0x3497ba(0x4a0)](_0x4537c6,_0x9face[_0x3497ba(0x59b)]),_0x2e1697['delete'](_0x4537c6);}}if(_0x9face['unreadcount']!==void 0x0&&(_0x41b600['unreadcount']=Number(_0x9face[_0x3497ba(0x283)])),Object[_0x3497ba(0x239)](_0x41b600)[_0x3497ba(0x4c6)]===0x0)throw new Error(_0x3497ba(0x18e));let _0x23729b=await this[_0x3497ba(0x77f)][_0x3497ba(0x6f8)][_0x3497ba(0x2a2)]({'where':{'_id':_0x9face['_id']}},_0x41b600,this[_0x3497ba(0x801)][_0x3497ba(0x69a)]);return _0x23729b&&F(this[_0x3497ba(0x77a)],'chats',{'chat':_0x23729b}),_0x23729b?(this[_0x3497ba(0x246)][_0x3497ba(0x5a1)](this[_0x3497ba(0x77a)]+'\x20('+this[_0x3497ba(0x801)][_0x3497ba(0x69a)]+_0x3497ba(0x6fe)+JSON[_0x3497ba(0x563)](_0x23729b,null,0x2)),_0x23729b):{'message':_0x3497ba(0x30f)};}catch(_0x164d81){let _0x150a84=_0x3497ba(0x2ce),_0x1e33a4=_0x164d81 instanceof Error?_0x164d81['message']:typeof _0x164d81==_0x3497ba(0xfe)?JSON[_0x3497ba(0x563)](_0x164d81):_0x164d81,_0x5766cd=_0x150a84+':\x20'+_0x1e33a4;throw this[_0x3497ba(0x246)][_0x3497ba(0x3d2)](this[_0x3497ba(0x77a)]+'\x20('+this['instance'][_0x3497ba(0x69a)]+_0x3497ba(0x6fe)+_0x5766cd),new m(_0x5766cd);}}async[a0_0xc869c4(0x608)](_0x3b1d27,_0x2cd5eb){const _0x179f45=a0_0xc869c4;try{await this[_0x179f45(0x52a)][_0x179f45(0x1a4)](_0x2cd5eb,_0x3b1d27),this[_0x179f45(0x246)][_0x179f45(0x7b4)](this[_0x179f45(0x77a)]+'\x20('+this[_0x179f45(0x801)][_0x179f45(0x69a)]+_0x179f45(0x15c)+_0x3b1d27+_0x179f45(0x546)+_0x2cd5eb+_0x179f45(0x669));}catch(_0x3e5d55){this[_0x179f45(0x246)]['error'](_0x179f45(0xf5)+_0x3b1d27+_0x179f45(0x773)+_0x2cd5eb+':\x20'+_0x3e5d55);}}async[a0_0xc869c4(0x4a0)](_0x2e4495,_0x215034){const _0x5292d5=a0_0xc869c4;try{await this[_0x5292d5(0x52a)][_0x5292d5(0x749)](_0x215034,_0x2e4495),this[_0x5292d5(0x246)][_0x5292d5(0x7b4)](this[_0x5292d5(0x77a)]+'\x20('+this['instance'][_0x5292d5(0x69a)]+_0x5292d5(0x15c)+_0x2e4495+_0x5292d5(0x68d)+_0x215034+'\x20com\x20sucesso.');}catch(_0x20357d){this[_0x5292d5(0x246)][_0x5292d5(0x3d2)](_0x5292d5(0x28a)+_0x2e4495+_0x5292d5(0x7e7)+_0x215034+':\x20'+_0x20357d);}}async[a0_0xc869c4(0x610)](_0x2bebf4){const _0x4e2d44=a0_0xc869c4;try{let _0x37a2d1=await this[_0x4e2d44(0x77f)]['automateSystem'][_0x4e2d44(0x846)](this[_0x4e2d44(0x801)][_0x4e2d44(0x69a)]),_0x4deb95=_0x2bebf4['_id']?_0x37a2d1[_0x4e2d44(0x64c)][_0x4e2d44(0x741)](_0xbb5f80=>_0xbb5f80['_id']===_0x2bebf4[_0x4e2d44(0x59b)]):-0x1;if(_0x2bebf4[_0x4e2d44(0x7c3)]&&_0x4deb95>-0x1)_0x37a2d1[_0x4e2d44(0x64c)][_0x4e2d44(0x226)](_0x4deb95,0x1);else{if(_0x4deb95>-0x1){let _0x19220b=_0x37a2d1['agents'][_0x4deb95];_0x2bebf4[_0x4e2d44(0x28d)]&&(_0x19220b[_0x4e2d44(0x28d)]=_0x2bebf4['fone']),_0x2bebf4[_0x4e2d44(0x15e)]&&(_0x19220b['name']=_0x2bebf4['name']),_0x2bebf4[_0x4e2d44(0x424)]&&(_0x19220b['email']=_0x2bebf4['email']),_0x2bebf4['role']&&(_0x19220b[_0x4e2d44(0x325)]=_0x2bebf4[_0x4e2d44(0x325)]);}else _0x37a2d1['agents']['push']({'_id':_0x2bebf4[_0x4e2d44(0x59b)]||new he['default'][(_0x4e2d44(0x478))][(_0x4e2d44(0x69d))]()[_0x4e2d44(0x806)](),'fone':_0x2bebf4[_0x4e2d44(0x28d)],'name':_0x2bebf4['name'],'email':_0x2bebf4[_0x4e2d44(0x424)],'role':_0x2bebf4['role']});}let _0x99010c={'agents':_0x37a2d1['agents']},_0x5f540f=await this[_0x4e2d44(0x77f)][_0x4e2d44(0x126)]['update'](_0x99010c,this[_0x4e2d44(0x801)][_0x4e2d44(0x69a)]);return this[_0x4e2d44(0x162)]=_0x5f540f,this[_0x4e2d44(0x246)][_0x4e2d44(0x5a1)](this[_0x4e2d44(0x77a)]+'\x20('+this[_0x4e2d44(0x801)][_0x4e2d44(0x69a)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4e2d44(0x246)][_0x4e2d44(0x5a1)](this[_0x4e2d44(0x77a)]+'\x20('+this[_0x4e2d44(0x801)][_0x4e2d44(0x69a)]+_0x4e2d44(0x6fe)+this[_0x4e2d44(0x162)]),_0x5f540f;}catch(_0x270026){let _0x406d8c=_0x4e2d44(0x7ab),_0x54ad3b=_0x270026 instanceof Error?_0x270026['message']:typeof _0x270026==_0x4e2d44(0xfe)?JSON[_0x4e2d44(0x563)](_0x270026):_0x270026,_0x233eac=_0x406d8c+':\x20'+_0x54ad3b;throw this[_0x4e2d44(0x246)][_0x4e2d44(0x3d2)](this['instanceName']+'\x20('+this[_0x4e2d44(0x801)][_0x4e2d44(0x69a)]+_0x4e2d44(0x6fe)+_0x233eac),new m(_0x233eac);}}async[a0_0xc869c4(0x1df)](_0x3dbe91){const _0x709989=a0_0xc869c4;try{let _0x29933d=await this['repository']['automateSystem'][_0x709989(0x846)](this[_0x709989(0x801)][_0x709989(0x69a)]),_0x48356b=_0x3dbe91[_0x709989(0x59b)]?_0x29933d[_0x709989(0x56b)][_0x709989(0x741)](_0x22deb8=>_0x22deb8[_0x709989(0x59b)]===_0x3dbe91[_0x709989(0x59b)]):-0x1,_0xf1f768=!0x1,_0x26c429=_0x29933d[_0x709989(0x56b)][_0x709989(0x1cc)](_0x2d4b82=>_0x2d4b82[_0x709989(0x64d)]===_0x3dbe91['order']);if(_0x3dbe91[_0x709989(0x7c3)]&&_0x48356b>-0x1)_0x29933d[_0x709989(0x56b)][_0x709989(0x226)](_0x48356b,0x1),_0xf1f768=!0x0;else{if(_0x48356b>-0x1){if(_0x29933d[_0x709989(0x56b)][_0x709989(0x1cc)](_0x331bb9=>_0x331bb9[_0x709989(0x15e)]===_0x3dbe91[_0x709989(0x15e)]&&_0x331bb9[_0x709989(0x59b)]!==_0x3dbe91[_0x709989(0x59b)]))throw new Error(_0x709989(0x823));let _0xa74123=_0x29933d[_0x709989(0x56b)][_0x48356b];_0x3dbe91['order']&&(_0x26c429||!Number[_0x709989(0x136)](_0x3dbe91[_0x709989(0x64d)]))&&(_0xa74123[_0x709989(0x64d)]=_0x3dbe91[_0x709989(0x64d)],_0xf1f768=!0x0),_0x3dbe91[_0x709989(0x15e)]&&(_0xa74123[_0x709989(0x15e)]=_0x3dbe91[_0x709989(0x15e)]);}else{if(_0x29933d[_0x709989(0x56b)][_0x709989(0x1cc)](_0x4af8cf=>_0x4af8cf[_0x709989(0x15e)]===_0x3dbe91[_0x709989(0x15e)]&&_0x4af8cf[_0x709989(0x59b)]!==_0x3dbe91[_0x709989(0x59b)]))throw new Error(_0x709989(0x823));_0x29933d[_0x709989(0x56b)][_0x709989(0x14c)]({'_id':_0x3dbe91[_0x709989(0x59b)]||new he['default']['Types'][(_0x709989(0x69d))]()[_0x709989(0x806)](),'order':_0x3dbe91['order'],'name':_0x3dbe91[_0x709989(0x15e)]}),_0xf1f768=!0x0;}}if(_0xf1f768){_0x29933d['customFields'][_0x709989(0x822)]((_0x11cf90,_0x2f8da2)=>_0x11cf90['order']>_0x2f8da2[_0x709989(0x64d)]?0x1:_0x2f8da2[_0x709989(0x64d)]>_0x11cf90[_0x709989(0x64d)]?-0x1:0x0);for(let _0x3469f1=0x0;_0x3469f1<_0x29933d[_0x709989(0x56b)]['length'];_0x3469f1++)_0x29933d[_0x709989(0x56b)][_0x3469f1][_0x709989(0x64d)]=_0x3469f1+0x1;}let _0x74ce59=await this[_0x709989(0x77f)][_0x709989(0x126)][_0x709989(0x6cc)](_0x29933d,this[_0x709989(0x801)][_0x709989(0x69a)]);return this[_0x709989(0x162)]=_0x74ce59,this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x709989(0x801)][_0x709989(0x69a)]+_0x709989(0x4f6)),this[_0x709989(0x246)][_0x709989(0x5a1)](this[_0x709989(0x77a)]+'\x20('+this[_0x709989(0x801)][_0x709989(0x69a)]+_0x709989(0x6fe)+this['AutomateSystem']),_0x74ce59;}catch(_0x2ae34c){let _0x594ed4=_0x709989(0x679),_0x532d15=_0x2ae34c instanceof Error?_0x2ae34c['message']:typeof _0x2ae34c==_0x709989(0xfe)?JSON[_0x709989(0x563)](_0x2ae34c):_0x2ae34c,_0x35a4b8=_0x594ed4+':\x20'+_0x532d15;throw this[_0x709989(0x246)][_0x709989(0x3d2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x709989(0x6fe)+_0x35a4b8),new m(_0x35a4b8);}}async[a0_0xc869c4(0x629)](_0x28f37a){const _0x1c8c0b=a0_0xc869c4;try{let _0x4955ad=await this[_0x1c8c0b(0x77f)]['automateSystem'][_0x1c8c0b(0x846)](this[_0x1c8c0b(0x801)][_0x1c8c0b(0x69a)]),_0x1f5bda=_0x4955ad?.[_0x1c8c0b(0x7e0)]?.[_0x1c8c0b(0x741)](_0x1dea5c=>_0x1dea5c[_0x1c8c0b(0x59b)]===_0x28f37a?.[_0x1c8c0b(0x59b)]);if(_0x28f37a?.[_0x1c8c0b(0x7c3)])_0x1f5bda>-0x1&&_0x4955ad?.['autoCompleteMessages']?.[_0x1c8c0b(0x226)](_0x1f5bda,0x1);else{if(_0x1f5bda>-0x1){let _0x12f270=_0x4955ad['autoCompleteMessages'][_0x1f5bda];_0x12f270[_0x1c8c0b(0x64d)]=_0x28f37a?.['order']||_0x12f270[_0x1c8c0b(0x64d)],_0x12f270[_0x1c8c0b(0x22e)]=_0x28f37a?.[_0x1c8c0b(0x22e)]||_0x12f270['command'],_0x12f270[_0x1c8c0b(0x5ad)]=_0x28f37a?.[_0x1c8c0b(0x5ad)]||_0x12f270[_0x1c8c0b(0x5ad)];}else{let _0x4eb758={'_id':_0x28f37a?.[_0x1c8c0b(0x59b)]||new he[(_0x1c8c0b(0xef))][(_0x1c8c0b(0x478))][(_0x1c8c0b(0x69d))]()['toString'](),'order':_0x28f37a?.[_0x1c8c0b(0x64d)],'command':_0x28f37a?.[_0x1c8c0b(0x22e)],'message':_0x28f37a?.['message']};_0x4955ad?.[_0x1c8c0b(0x7e0)]?.['push'](_0x4eb758);}}_0x4955ad?.[_0x1c8c0b(0x7e0)]?.['sort']((_0x584d2b,_0x512d11)=>_0x584d2b[_0x1c8c0b(0x64d)]-_0x512d11[_0x1c8c0b(0x64d)]);let _0x524c34=await this[_0x1c8c0b(0x77f)][_0x1c8c0b(0x126)][_0x1c8c0b(0x6cc)](_0x4955ad,this['instance']['wuid']);return this[_0x1c8c0b(0x162)]=_0x524c34,this[_0x1c8c0b(0x246)][_0x1c8c0b(0x5a1)](this[_0x1c8c0b(0x77a)]+'\x20('+this[_0x1c8c0b(0x801)][_0x1c8c0b(0x69a)]+_0x1c8c0b(0x4f6)),_0x524c34;}catch(_0x250a40){let _0x3b5f6=_0x1c8c0b(0x79c),_0x38a77f=_0x250a40 instanceof Error?_0x250a40['message']:typeof _0x250a40==_0x1c8c0b(0xfe)?JSON[_0x1c8c0b(0x563)](_0x250a40):_0x250a40,_0x35c482=_0x3b5f6+':\x20'+_0x38a77f;throw this[_0x1c8c0b(0x246)][_0x1c8c0b(0x3d2)](this['instanceName']+'\x20('+this[_0x1c8c0b(0x801)][_0x1c8c0b(0x69a)]+_0x1c8c0b(0x6fe)+_0x35c482),new m(_0x35c482);}}async[a0_0xc869c4(0x809)](_0x5e33ef){const _0x259603=a0_0xc869c4;try{let _0x3e121b=await this[_0x259603(0x77f)]['automateSystem']['findOrCreate'](this[_0x259603(0x801)][_0x259603(0x69a)]);if(!_0x3e121b)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x431fc6={'_id':_0x3e121b[_0x259603(0x59b)],'flowConfig':{'enabled':_0x5e33ef[_0x259603(0x766)]??_0x3e121b[_0x259603(0x2e2)][_0x259603(0x766)],'ignoreGroups':_0x5e33ef['ignoreGroups']??_0x3e121b['flowConfig'][_0x259603(0x225)],'stopConversation':_0x5e33ef[_0x259603(0x221)]['trim']()??_0x3e121b['flowConfig'][_0x259603(0x221)][_0x259603(0x501)](),'stopMinutes':_0x5e33ef[_0x259603(0x74c)]??_0x3e121b[_0x259603(0x2e2)][_0x259603(0x74c)],'stopWhenYouSendMsg':_0x5e33ef[_0x259603(0x853)]??_0x3e121b[_0x259603(0x2e2)][_0x259603(0x853)]}},_0x39b654=await this['repository'][_0x259603(0x126)][_0x259603(0x6cc)](_0x431fc6,this[_0x259603(0x801)]['wuid']);return this['AutomateSystem']=_0x39b654,this[_0x259603(0x246)][_0x259603(0x5a1)](this[_0x259603(0x77a)]+'\x20('+this[_0x259603(0x801)][_0x259603(0x69a)]+_0x259603(0x178)),this[_0x259603(0x246)][_0x259603(0x5a1)](this[_0x259603(0x77a)]+'\x20('+this[_0x259603(0x801)][_0x259603(0x69a)]+'):\x20'+this[_0x259603(0x162)]),setTimeout(()=>this[_0x259603(0x674)](),0x7d0),_0x39b654;}catch(_0x23de62){let _0x137eb8=_0x259603(0x3f3),_0x3705ab=_0x23de62 instanceof Error?_0x23de62[_0x259603(0x5ad)]:typeof _0x23de62==_0x259603(0xfe)?JSON[_0x259603(0x563)](_0x23de62):_0x23de62,_0x35731f=_0x137eb8+':\x20'+_0x3705ab;throw this[_0x259603(0x246)]['error'](this[_0x259603(0x77a)]+'\x20('+this[_0x259603(0x801)][_0x259603(0x69a)]+_0x259603(0x6fe)+_0x35731f),new m(_0x35731f);}}async[a0_0xc869c4(0x329)](){const _0x274301=a0_0xc869c4;try{let _0x22b04e=await this[_0x274301(0x77f)]['automateSystem'][_0x274301(0x846)](this[_0x274301(0x801)]['wuid']);return this['AutomateSystem']=_0x22b04e,_0x22b04e;}catch(_0x30e4f7){let _0x27c705=_0x274301(0x562),_0x3acdf3=_0x30e4f7 instanceof Error?_0x30e4f7[_0x274301(0x5ad)]:typeof _0x30e4f7==_0x274301(0xfe)?JSON['stringify'](_0x30e4f7):_0x30e4f7,_0x11effb=_0x27c705+':\x20'+_0x3acdf3;throw this[_0x274301(0x246)][_0x274301(0x3d2)](this[_0x274301(0x77a)]+'\x20('+this[_0x274301(0x801)][_0x274301(0x69a)]+_0x274301(0x6fe)+_0x11effb),new m(_0x11effb);}}async[a0_0xc869c4(0x42e)](){const _0x4e58d4=a0_0xc869c4;let _0x228177=(await import(_0x4e58d4(0x549)))[_0x4e58d4(0xef)];this[_0x4e58d4(0x1e4)]=new _0x228177({'concurrency':0x1});}async[a0_0xc869c4(0x7c4)](){const _0x4645f8=a0_0xc869c4;this[_0x4645f8(0x801)][_0x4645f8(0x3ab)]['timeout']&&clearTimeout(this[_0x4645f8(0x801)][_0x4645f8(0x3ab)][_0x4645f8(0x67d)]),this[_0x4645f8(0x801)][_0x4645f8(0x3ab)][_0x4645f8(0x67d)]=setTimeout(()=>{const _0x1a2cd7=_0x4645f8;this[_0x1a2cd7(0x46a)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0xc869c4(0x46a)](){const _0x149f3c=a0_0xc869c4;let _0x593d09=this[_0x149f3c(0x801)][_0x149f3c(0x3ab)][_0x149f3c(0x3ea)];(_0x593d09===0x0||_0x593d09===null||Date[_0x149f3c(0x574)]()-_0x593d09>=0x1d4c0)&&(this[_0x149f3c(0x246)][_0x149f3c(0x5a1)](this[_0x149f3c(0x77a)]+'\x20('+this[_0x149f3c(0x801)][_0x149f3c(0x69a)]+_0x149f3c(0x351)),this['instance'][_0x149f3c(0x3ab)]['processingGroup']=null,this[_0x149f3c(0x801)]['ScheduleMessage']['lastSend']=0x0,this[_0x149f3c(0x801)][_0x149f3c(0x3ab)][_0x149f3c(0x2bc)]=0x0,await this[_0x149f3c(0x674)]());}async[a0_0xc869c4(0x674)](){const _0x217fb7=a0_0xc869c4;this[_0x217fb7(0x246)][_0x217fb7(0x1ae)](this[_0x217fb7(0x77a)]+'\x20('+this[_0x217fb7(0x801)][_0x217fb7(0x69a)]+_0x217fb7(0x1ee)),await this['transformScheduledMessagesByType']();let _0x5a4547=await this[_0x217fb7(0x297)]();_0x5a4547['length']>0x0&&(setTimeout(()=>this[_0x217fb7(0x46a)](),0x14*0x3e8),this[_0x217fb7(0x246)]['warn'](this['instanceName']+'\x20('+this[_0x217fb7(0x801)][_0x217fb7(0x69a)]+_0x217fb7(0x108)),this[_0x217fb7(0x1e4)][_0x217fb7(0x4d7)](),this['queue'][_0x217fb7(0x346)](()=>this['processReadyMessages'](_0x5a4547)));let _0x44a748={'where':{'status':_0x217fb7(0x12d),'when':{'$gt':Date[_0x217fb7(0x574)]()}}},_0x4b4f28=await this[_0x217fb7(0x77f)]['scheduleMessage'][_0x217fb7(0x4d6)](_0x44a748,this[_0x217fb7(0x801)][_0x217fb7(0x69a)]);_0x4b4f28&&_0x4b4f28[_0x217fb7(0x2f5)]-Date[_0x217fb7(0x574)]()<=0x6ddd00?this['instance'][_0x217fb7(0x3ab)][_0x217fb7(0x2bc)]=_0x4b4f28['when']-Date['now']():this['instance']['ScheduleMessage'][_0x217fb7(0x2bc)]=(0x3c+Math['floor'](Math[_0x217fb7(0x5ba)]()*0x3c))*0x3c*0x3e8,this[_0x217fb7(0x801)][_0x217fb7(0x3ab)][_0x217fb7(0x2bc)]=Math['max'](this[_0x217fb7(0x801)][_0x217fb7(0x3ab)][_0x217fb7(0x2bc)],0x1*0x2*0x3e8);let _0xcf565f=Math[_0x217fb7(0x42b)](this[_0x217fb7(0x801)][_0x217fb7(0x3ab)][_0x217fb7(0x2bc)]/0xea60);if(_0x4b4f28){let _0x14c0d5=new Date(_0x4b4f28[_0x217fb7(0x2f5)])[_0x217fb7(0x312)]();this[_0x217fb7(0x246)][_0x217fb7(0x1ae)](this[_0x217fb7(0x77a)]+'\x20('+this['instance'][_0x217fb7(0x69a)]+_0x217fb7(0x647)+_0x14c0d5+',\x20fará\x20nova\x20verificação\x20em\x20'+_0xcf565f+_0x217fb7(0x1b0));}else this[_0x217fb7(0x246)][_0x217fb7(0x1ae)](this[_0x217fb7(0x77a)]+'\x20('+this[_0x217fb7(0x801)][_0x217fb7(0x69a)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0xcf565f+'\x20minutos');setTimeout(()=>{const _0x269424=_0x217fb7;this[_0x269424(0x674)]();},this[_0x217fb7(0x801)]['ScheduleMessage'][_0x217fb7(0x2bc)]);}async['getReadyToSendMessages'](){const _0x22db02=a0_0xc869c4;this[_0x22db02(0x246)][_0x22db02(0x1ae)](this[_0x22db02(0x77a)]+'\x20('+this[_0x22db02(0x801)]['wuid']+_0x22db02(0x1d5));let _0x4d5a03=Date[_0x22db02(0x574)]()-0xc*0x3c*0x3c*0x3e8,_0x119af9={'where':{'status':{'$in':[_0x22db02(0x12d),'sending']},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x4d5a03}},{'when':0x0}]}},_0x45ca63=await this[_0x22db02(0x77f)][_0x22db02(0x101)]['find'](_0x119af9,this[_0x22db02(0x801)]['wuid']);return this[_0x22db02(0x246)][_0x22db02(0x1ae)](this[_0x22db02(0x77a)]+'\x20('+this[_0x22db02(0x801)][_0x22db02(0x69a)]+_0x22db02(0x70e)+_0x45ca63[_0x22db02(0x4c6)]),_0x45ca63;}async['processReadyMessages'](_0x2e5645){const _0x4baa45=a0_0xc869c4;this[_0x4baa45(0x246)][_0x4baa45(0x1ae)](this[_0x4baa45(0x77a)]+'\x20('+this[_0x4baa45(0x801)]['wuid']+'):\x20Iniciando\x20processReadyMessages');let _0x294855=0x3*0x3e8,_0x4846d4=0x8*0x3e8,_0x10de2d=Math[_0x4baa45(0x3af)](Math[_0x4baa45(0x5ba)]()*(_0x4846d4-_0x294855+0x1))+_0x294855,_0x574f02=()=>this[_0x4baa45(0x52d)][_0x4baa45(0x4c6)]===0x0?null:this[_0x4baa45(0x52d)][_0x4baa45(0x74a)]((_0x31fbd9,_0x53a7fb)=>(_0x31fbd9['order']??Number['MAX_SAFE_INTEGER'])<(_0x53a7fb[_0x4baa45(0x64d)]??Number[_0x4baa45(0x5f4)])?_0x31fbd9:_0x53a7fb,this[_0x4baa45(0x52d)][0x0]);_0x2e5645=await this['getReadyToSendMessages']();for(let _0x4b7ffa of _0x2e5645){await this[_0x4baa45(0x7c4)]();let _0x500fcd=0x3*0x3e8,_0x3a0853={'_id':_0x4b7ffa[_0x4baa45(0x59b)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4baa45(0x574)]()-_0x500fcd}}]},_0x4a2688={'startSend':Date[_0x4baa45(0x574)](),'status':_0x4baa45(0x7db)},_0x39cc60=await this[_0x4baa45(0x77f)][_0x4baa45(0x101)][_0x4baa45(0x2a2)](_0x3a0853,_0x4a2688,this['instance'][_0x4baa45(0x69a)]);if(this['pendingMessages']=_0x39cc60[_0x4baa45(0x43f)]['filter'](_0xd9d708=>!_0xd9d708[_0x4baa45(0x216)]),!_0x39cc60){setTimeout(()=>this['checkAndRestartProcess'](),0xa*0x3e8);continue;}if(this[_0x4baa45(0x801)][_0x4baa45(0x3ab)]['processingGroup']=_0x39cc60,!this[_0x4baa45(0x801)][_0x4baa45(0x3ab)][_0x4baa45(0x52c)]){this['logger']['warn'](this[_0x4baa45(0x77a)]+'\x20('+this[_0x4baa45(0x801)][_0x4baa45(0x69a)]+_0x4baa45(0x1d2));break;}for(;this['pendingMessages'][_0x4baa45(0x4c6)]>0x0;){await this[_0x4baa45(0x7c4)]();let _0x439a84=_0x574f02();if(!_0x439a84)break;let _0x414db4=_0x4b7ffa[_0x4baa45(0x43f)][_0x4baa45(0x194)](_0xf73fd0=>_0xf73fd0['_id']===_0x439a84[_0x4baa45(0x59b)]);if(!_0x414db4)break;if(this[_0x4baa45(0x801)][_0x4baa45(0x3ab)][_0x4baa45(0x3ea)]=Date['now'](),_0x414db4[_0x4baa45(0x216)]){this[_0x4baa45(0x246)][_0x4baa45(0x1ae)](this[_0x4baa45(0x77a)]+'\x20('+this['instance']['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x414db4[_0x4baa45(0x607)]+_0x4baa45(0x3c0)),this[_0x4baa45(0x52d)]=this[_0x4baa45(0x52d)][_0x4baa45(0x314)](_0x4f5764=>_0x4f5764[_0x4baa45(0x59b)]!==_0x414db4[_0x4baa45(0x59b)]);continue;}if(!this[_0x4baa45(0x801)][_0x4baa45(0x3ab)][_0x4baa45(0x52c)]){this['logger'][_0x4baa45(0x1ae)](this['instanceName']+'\x20('+this[_0x4baa45(0x801)][_0x4baa45(0x69a)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x4baa45(0x801)][_0x4baa45(0x3ab)][_0x4baa45(0x249)]){this[_0x4baa45(0x246)][_0x4baa45(0x1ae)](this['instanceName']+'\x20('+this[_0x4baa45(0x801)]['wuid']+_0x4baa45(0x373)+_0x4b7ffa[_0x4baa45(0x59b)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x50858e={'idControl':_0x414db4[_0x4baa45(0x59b)],'remoteJid':_0x414db4['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4baa45(0x574)]()},_0x525f56=null;try{this[_0x4baa45(0x246)][_0x4baa45(0x1ae)](this[_0x4baa45(0x77a)]+'\x20('+this['instance'][_0x4baa45(0x69a)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x414db4[_0x4baa45(0x607)]);let _0x24be8b=await Promise['race']([this[_0x4baa45(0x6a4)](_0x414db4['remoteJid'],_0x414db4),this['timeoutPromise'](0x78*0x3e8)]);_0x50858e['error']=_0x24be8b[_0x4baa45(0x3d2)],_0x50858e['id']=_0x24be8b[_0x4baa45(0x3d2)]?null:_0x24be8b['id'],_0x50858e[_0x4baa45(0x7b1)]=_0x24be8b['error']?_0x24be8b[_0x4baa45(0x467)]?_0x24be8b['detail'][_0x4baa45(0x806)]():'':null;let _0x3be319=_0x4b7ffa[_0x4baa45(0x43f)][_0x4baa45(0x741)](_0x51332b=>_0x51332b[_0x4baa45(0x59b)]===_0x414db4[_0x4baa45(0x59b)]);_0x3be319!==-0x1&&(_0x4b7ffa['messages'][_0x3be319][_0x4baa45(0x216)]=!0x0);let _0xebd56d={'$push':{'messagesSend':_0x50858e},'$set':{'messages.$[elem].triedToSend':!0x0}},_0xb3783b=[{'elem._id':_0x414db4[_0x4baa45(0x59b)]}];if(this[_0x4baa45(0x246)]['warn'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4baa45(0x368)+_0x414db4[_0x4baa45(0x59b)]),_0x525f56=await this[_0x4baa45(0x77f)][_0x4baa45(0x101)]['updateOne']({'_id':_0x4b7ffa[_0x4baa45(0x59b)]},_0xebd56d,this[_0x4baa45(0x801)]['wuid'],{'arrayFilters':_0xb3783b}),_0x24be8b[_0x4baa45(0x3d2)]){this['logger'][_0x4baa45(0x3d2)](this[_0x4baa45(0x77a)]+'\x20('+this[_0x4baa45(0x801)]['wuid']+_0x4baa45(0x2b6)+_0x24be8b[_0x4baa45(0x467)]);continue;}let _0x28458=this[_0x4baa45(0x106)](_0x4b7ffa[_0x4baa45(0x4d2)],_0x4b7ffa[_0x4baa45(0x338)]);await this[_0x4baa45(0x526)](_0x28458);}catch(_0x2fb0f4){this[_0x4baa45(0x246)][_0x4baa45(0x3d2)](this[_0x4baa45(0x77a)]+'\x20('+this[_0x4baa45(0x801)][_0x4baa45(0x69a)]+_0x4baa45(0x4e6)+_0x414db4[_0x4baa45(0x607)]+':\x20'+(_0x2fb0f4 instanceof Error?_0x2fb0f4['message']:JSON[_0x4baa45(0x563)](_0x2fb0f4,null,0x2))),_0x50858e[_0x4baa45(0x3d2)]=!0x0,_0x50858e[_0x4baa45(0x7b1)]=_0x2fb0f4[_0x4baa45(0x5ad)];let _0x53dcf3=_0x4b7ffa['messages'][_0x4baa45(0x741)](_0x1eb51f=>_0x1eb51f['_id']===_0x414db4[_0x4baa45(0x59b)]);_0x53dcf3!==-0x1&&(_0x4b7ffa[_0x4baa45(0x43f)][_0x53dcf3]['triedToSend']=!0x0);let _0x2d9b26={'$push':{'messagesSend':_0x50858e},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5607f6=[{'elem._id':_0x414db4['_id']}];this[_0x4baa45(0x246)][_0x4baa45(0x1ae)](this[_0x4baa45(0x77a)]+'\x20('+this[_0x4baa45(0x801)][_0x4baa45(0x69a)]+_0x4baa45(0x3c9)+_0x414db4['_id']),_0x525f56=await this[_0x4baa45(0x77f)][_0x4baa45(0x101)][_0x4baa45(0x2a2)]({'_id':_0x4b7ffa[_0x4baa45(0x59b)]},_0x2d9b26,this['instance']['wuid'],{'arrayFilters':_0x5607f6});}finally{if(_0x525f56&&_0x525f56['status']===_0x4baa45(0x341)){this[_0x4baa45(0x246)][_0x4baa45(0x1ae)](this[_0x4baa45(0x77a)]+'\x20('+this[_0x4baa45(0x801)][_0x4baa45(0x69a)]+_0x4baa45(0x373)+_0x414db4[_0x4baa45(0x59b)]+_0x4baa45(0x834));break;}let _0x5ebd63=_0x525f56[_0x4baa45(0x43f)][_0x4baa45(0x194)](_0x32cc2e=>_0x32cc2e[_0x4baa45(0x59b)]===_0x414db4['_id']);if(_0x5ebd63&&!_0x5ebd63[_0x4baa45(0x216)]){let _0x546a49={'$set':{'messages.$[elem].triedToSend':!0x0}},_0xdba0e1=[{'elem._id':_0x414db4[_0x4baa45(0x59b)]}];await this['repository'][_0x4baa45(0x101)][_0x4baa45(0x2a2)]({'_id':_0x525f56[_0x4baa45(0x59b)]},_0x546a49,this[_0x4baa45(0x801)][_0x4baa45(0x69a)],{'arrayFilters':_0xdba0e1});}if(this[_0x4baa45(0x52d)]=_0x525f56[_0x4baa45(0x43f)][_0x4baa45(0x314)](_0x4759f7=>!_0x4759f7[_0x4baa45(0x216)]),!this[_0x4baa45(0x801)][_0x4baa45(0x3ab)][_0x4baa45(0x249)]){await this['setRestartTimeout'](),this[_0x4baa45(0x246)][_0x4baa45(0x1ae)](this[_0x4baa45(0x77a)]+'\x20('+this[_0x4baa45(0x801)][_0x4baa45(0x69a)]+_0x4baa45(0x373)+_0x4b7ffa[_0x4baa45(0x59b)]+_0x4baa45(0x48c));break;}}}this[_0x4baa45(0x52d)]=[];let _0x46fbe6=await this[_0x4baa45(0x77f)][_0x4baa45(0x101)][_0x4baa45(0x1a5)](_0x4b7ffa[_0x4baa45(0x59b)],this[_0x4baa45(0x801)][_0x4baa45(0x69a)]);if(_0x46fbe6[_0x4baa45(0x43f)][_0x4baa45(0x2e4)](_0x53bff4=>_0x53bff4[_0x4baa45(0x216)])&&_0x46fbe6[_0x4baa45(0x202)]!=='stopped'){let _0x49c02e={'$set':{'status':_0x4baa45(0x524)}};await this[_0x4baa45(0x77f)][_0x4baa45(0x101)][_0x4baa45(0x17f)](_0x46fbe6['_id'],_0x49c02e,this[_0x4baa45(0x801)][_0x4baa45(0x69a)]);}await new Promise(_0x47c781=>setTimeout(_0x47c781,_0x10de2d)),global['gc']?global['gc']():console[_0x4baa45(0x1ae)](_0x4baa45(0x47d));}}['timeoutPromise'](_0x22d09a){const _0x3162f0=a0_0xc869c4;return new Promise((_0x281dac,_0x5fc75a)=>setTimeout(()=>_0x5fc75a(new Error(_0x3162f0(0x22b))),_0x22d09a));}[a0_0xc869c4(0x106)](_0x10d314,_0x3aecc6){const _0x49ea09=a0_0xc869c4;return _0x10d314=Math[_0x49ea09(0x2b1)](0.5,_0x10d314),_0x3aecc6=Math['min'](Math[_0x49ea09(0x2b1)](0x3,_0x3aecc6),0x78),Math[_0x49ea09(0x3af)](Math[_0x49ea09(0x5ba)]()*(_0x3aecc6-_0x10d314+0x1)+_0x10d314)*0x3e8;}['sleep'](_0x254b96){return new Promise(_0x25abbd=>setTimeout(_0x25abbd,_0x254b96));}async['getVariablesChat'](_0x39b0cf){const _0x59f9d1=a0_0xc869c4;if(!this[_0x59f9d1(0x162)]&&(await this[_0x59f9d1(0x329)](),!this[_0x59f9d1(0x162)]))return null;_0x39b0cf=this[_0x59f9d1(0x697)](_0x39b0cf);let _0x122112=await this[_0x59f9d1(0x77f)][_0x59f9d1(0x6f8)]['findOne']({'where':{'_id':_0x39b0cf}},this[_0x59f9d1(0x801)][_0x59f9d1(0x69a)]),_0x440caa={};if(_0x122112&&_0x122112['leadInfo']){let _0x2629e0=_0x122112[_0x59f9d1(0x639)];typeof _0x2629e0[_0x59f9d1(0x473)]=='string'&&(_0x440caa[_0x59f9d1(0x473)]=_0x2629e0[_0x59f9d1(0x473)]),typeof _0x2629e0[_0x59f9d1(0x2c2)]==_0x59f9d1(0x2d7)&&(_0x440caa[_0x59f9d1(0x2c2)]=_0x2629e0[_0x59f9d1(0x2c2)]),typeof _0x2629e0['email']==_0x59f9d1(0x2d7)&&(_0x440caa[_0x59f9d1(0x424)]=_0x2629e0[_0x59f9d1(0x424)]),typeof _0x2629e0[_0x59f9d1(0x134)]==_0x59f9d1(0x2d7)&&(_0x440caa[_0x59f9d1(0x134)]=_0x2629e0[_0x59f9d1(0x134)]),typeof _0x2629e0['status']=='string'&&(_0x440caa[_0x59f9d1(0x202)]=_0x2629e0['status']),typeof _0x2629e0['notas']=='string'&&(_0x440caa['notas']=_0x2629e0[_0x59f9d1(0x2d4)]),typeof _0x2629e0[_0x59f9d1(0x4f5)]=='string'&&(_0x440caa[_0x59f9d1(0x4f5)]=_0x2629e0[_0x59f9d1(0x4f5)]),Array[_0x59f9d1(0x585)](_0x2629e0[_0x59f9d1(0x5e4)])&&(_0x440caa[_0x59f9d1(0x5e4)]=_0x2629e0[_0x59f9d1(0x5e4)][_0x59f9d1(0x29a)](',\x20')),Array[_0x59f9d1(0x585)](_0x2629e0['etiquetas'])&&(_0x440caa[_0x59f9d1(0x3ee)]=_0x2629e0['etiquetas']['join'](',\x20'));}return _0x122112&&_0x122112[_0x59f9d1(0x639)]&&_0x122112[_0x59f9d1(0x639)]['customFields']&&_0x122112['leadInfo'][_0x59f9d1(0x56b)][_0x59f9d1(0x64a)](_0x32ad32=>{const _0x4a3b67=_0x59f9d1;let _0x1f1ded=this[_0x4a3b67(0x162)]?.['customFields']['find'](_0x3ea328=>_0x3ea328[_0x4a3b67(0x59b)]===_0x32ad32['_id']);_0x1f1ded&&(_0x440caa[_0x1f1ded[_0x4a3b67(0x15e)]]=_0x32ad32[_0x4a3b67(0x383)]);}),_0x440caa;}async[a0_0xc869c4(0x352)](_0x7ad248,_0x3c1623){const _0x46b8e2=a0_0xc869c4;try{let _0x517d04=await this['getVariablesChat'](_0x3c1623);return this[_0x46b8e2(0x193)](_0x7ad248,_0x517d04);}catch(_0x51a1a7){return this[_0x46b8e2(0x246)][_0x46b8e2(0x3d2)]('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x3c1623+':\x20'+_0x51a1a7),_0x7ad248;}}async[a0_0xc869c4(0x6cd)](){const _0x4cf6d1=a0_0xc869c4;let _0x54965a=async(_0x5f0dc5,_0x22fdc1)=>{const _0x5067ba=a0_0x3de4;let _0x3c57c8=(await this[_0x5067ba(0x77f)][_0x5067ba(0x101)][_0x5067ba(0x194)]({'where':{'type':_0x5f0dc5}},this[_0x5067ba(0x801)][_0x5067ba(0x69a)]))['map'](async _0x2856fc=>{const _0xf00551=_0x5067ba;let _0x4239e3=_0x22fdc1(_0x2856fc),_0x47efcf=_0x171e42=>/^\d+$/[_0xf00551(0x44d)](_0x171e42),_0x227f3a=_0x2856fc[_0xf00551(0x6a5)]['filter'](_0x35c1a1=>_0x35c1a1[_0xf00551(0x364)](_0xf00551(0x457))?_0x35c1a1[_0xf00551(0x4c6)]>0x19:_0x35c1a1[_0xf00551(0x364)](_0xf00551(0x386))?_0x35c1a1[_0xf00551(0x4c6)]>0xf:_0x47efcf(_0x35c1a1)?_0x35c1a1['length']>=0xb:!0x1)[_0xf00551(0x474)](_0x2c98ac=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x2856fc[_0xf00551(0x59b)],'type':_0x4239e3,'remoteJid':_0x2c98ac,'flow':_0x2856fc['flowName'],'text':_0x2856fc[_0xf00551(0x5ad)]?.[_0xf00551(0x1ed)],'delay':_0x2856fc[_0xf00551(0x5ad)]?.[_0xf00551(0x379)],'urlOrBase64':_0x2856fc[_0xf00551(0x5ad)]?.[_0xf00551(0x471)],'linkPreview':_0x2856fc[_0xf00551(0x5ad)]?.['linkPreview'],'fileName':_0x2856fc[_0xf00551(0x5ad)]?.[_0xf00551(0x2f2)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0xf00551(0x77f)]['scheduleMessage'][_0xf00551(0x17f)](_0x2856fc['_id'],{'$set':{'messages':_0x227f3a},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0xf00551(0x801)][_0xf00551(0x69a)]);}catch(_0x5a2cfd){console[_0xf00551(0x3d2)](_0xf00551(0x787)+_0x2856fc['_id']+':',_0x5a2cfd);}});await Promise[_0x5067ba(0x4e4)](_0x3c57c8);};await _0x54965a(_0x4cf6d1(0x1ed),_0x3bb51a=>_0x4cf6d1(0x1ed)),await _0x54965a(_0x4cf6d1(0x3f2),_0x375247=>_0x375247[_0x4cf6d1(0x5ad)]?.[_0x4cf6d1(0x4ae)]||_0x4cf6d1(0x3f2)),await _0x54965a(_0x4cf6d1(0x603),_0x42032e=>_0x4cf6d1(0x603)),await _0x54965a(_0x4cf6d1(0x4ad),_0x53f0ee=>_0x4cf6d1(0x4ad)),await _0x54965a(_0x4cf6d1(0x37e),_0x38af06=>'image'),await _0x54965a(_0x4cf6d1(0xe9),_0x29ca7a=>_0x4cf6d1(0xe9)),await _0x54965a(_0x4cf6d1(0x2c0),_0x588e41=>_0x4cf6d1(0x2c0)),this[_0x4cf6d1(0x246)][_0x4cf6d1(0x1ae)](this['instanceName']+'\x20('+this[_0x4cf6d1(0x801)][_0x4cf6d1(0x69a)]+_0x4cf6d1(0x61d));}async[a0_0xc869c4(0x1b5)](_0x22d74c){const _0x5e5c75=a0_0xc869c4;try{if(this[_0x5e5c75(0x246)][_0x5e5c75(0x1ae)](this[_0x5e5c75(0x77a)]+'\x20('+this[_0x5e5c75(0x801)]['wuid']+_0x5e5c75(0x842)),_0x22d74c['_id']||(_0x22d74c[_0x5e5c75(0x59b)]=(0x0,Q['v4'])()),this[_0x5e5c75(0x801)][_0x5e5c75(0x3ab)]['processingGroup']?.[_0x5e5c75(0x59b)]===_0x22d74c[_0x5e5c75(0x59b)]?.[_0x5e5c75(0x806)]()){if(_0x22d74c[_0x5e5c75(0x202)]==='stopped')this[_0x5e5c75(0x801)][_0x5e5c75(0x3ab)][_0x5e5c75(0x249)]=null;else throw new Error(_0x5e5c75(0x6d3));}if(_0x22d74c['delete']&&_0x22d74c['_id']){let _0x45c065=await this[_0x5e5c75(0x77f)]['scheduleMessage'][_0x5e5c75(0xc7)](_0x22d74c[_0x5e5c75(0x59b)],this[_0x5e5c75(0x801)][_0x5e5c75(0x69a)]);return setTimeout(()=>this[_0x5e5c75(0x674)](),0x7d0),_0x45c065;}let _0x5d6623=null;if(_0x22d74c[_0x5e5c75(0x59b)]&&(_0x5d6623=await this[_0x5e5c75(0x77f)][_0x5e5c75(0x101)][_0x5e5c75(0x1a5)](_0x22d74c[_0x5e5c75(0x59b)],this['instance'][_0x5e5c75(0x69a)])),_0x5d6623){let {_id:_0x48665a,owner:_0x30b227,messages:_0x1f0f3c,..._0x48fc6a}=_0x22d74c;if(_0x1f0f3c){let _0x1862de=_0x1f0f3c[_0x5e5c75(0x314)](_0x4994fc=>!_0x4994fc[_0x5e5c75(0x59b)]),_0x15b7b9=_0x1f0f3c['filter'](_0xfee02=>_0xfee02[_0x5e5c75(0x59b)]&&!_0xfee02[_0x5e5c75(0x7c3)]),_0x186d78=_0x1f0f3c[_0x5e5c75(0x314)](_0x535d2b=>_0x535d2b[_0x5e5c75(0x59b)]&&_0x535d2b[_0x5e5c75(0x7c3)]);if(_0x1862de[_0x5e5c75(0x4c6)]>0x0&&await this[_0x5e5c75(0x3f7)](_0x22d74c[_0x5e5c75(0x59b)],_0x1862de),_0x15b7b9['length']>0x0&&await this['editMessagesInGroup']({'_id':_0x22d74c[_0x5e5c75(0x59b)],'messages':_0x15b7b9}),_0x186d78['length']>0x0){let _0x49ee21=_0x186d78[_0x5e5c75(0x474)](_0xca37c2=>({'updateOne':{'filter':{'_id':_0x22d74c[_0x5e5c75(0x59b)]},'update':{'$pull':{'messages':{'_id':_0xca37c2[_0x5e5c75(0x59b)]}}}}}));await this[_0x5e5c75(0x77f)]['scheduleMessage'][_0x5e5c75(0x229)](_0x49ee21,this[_0x5e5c75(0x801)]['wuid']);}}let _0x225b13={'$set':{..._0x48fc6a,'status':_0x22d74c[_0x5e5c75(0x202)]||_0x5d6623[_0x5e5c75(0x202)]}},_0x29f1b7=await this['repository'][_0x5e5c75(0x101)][_0x5e5c75(0x17f)](_0x22d74c[_0x5e5c75(0x59b)],_0x225b13,this[_0x5e5c75(0x801)][_0x5e5c75(0x69a)]);return _0x29f1b7&&(this['reorderMessages'](_0x29f1b7[_0x5e5c75(0x43f)]),await this['repository'][_0x5e5c75(0x101)][_0x5e5c75(0x17f)](_0x29f1b7[_0x5e5c75(0x59b)],{'$set':{'messages':_0x29f1b7['messages']}},this['instance'][_0x5e5c75(0x69a)])),setTimeout(()=>this[_0x5e5c75(0x674)](),0x7d0),await this[_0x5e5c75(0x6cd)](),_0x29f1b7;}else{_0x22d74c[_0x5e5c75(0x436)]=this['instance'][_0x5e5c75(0x69a)],_0x22d74c[_0x5e5c75(0x43f)]&&_0x22d74c['messages'][_0x5e5c75(0x64a)](_0xdd9b08=>{const _0x432913=_0x5e5c75;_0xdd9b08[_0x432913(0x59b)]||(_0xdd9b08[_0x432913(0x59b)]=(0x0,Q['v4'])()),_0xdd9b08[_0x432913(0x19f)]||(_0xdd9b08[_0x432913(0x19f)]=_0x22d74c[_0x432913(0x59b)]),delete _0xdd9b08[_0x432913(0x216)];});let _0x5ea4d7=await this[_0x5e5c75(0x77f)]['scheduleMessage'][_0x5e5c75(0x407)](_0x22d74c,this['instance'][_0x5e5c75(0x69a)]);return _0x5ea4d7&&(this['reorderMessages'](_0x5ea4d7['messages']),await this[_0x5e5c75(0x77f)][_0x5e5c75(0x101)][_0x5e5c75(0x17f)](_0x5ea4d7[_0x5e5c75(0x59b)],{'$set':{'messages':_0x5ea4d7[_0x5e5c75(0x43f)]}},this[_0x5e5c75(0x801)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x5ea4d7;}}catch(_0x32b758){let _0x13e0c0='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x3d930f=_0x32b758 instanceof Error?_0x32b758[_0x5e5c75(0x5ad)]:typeof _0x32b758=='object'?JSON['stringify'](_0x32b758):_0x32b758,_0x96ffe7=_0x13e0c0+':\x20'+_0x3d930f;throw this['logger'][_0x5e5c75(0x3d2)](this[_0x5e5c75(0x77a)]+'\x20('+this[_0x5e5c75(0x801)][_0x5e5c75(0x69a)]+_0x5e5c75(0x6fe)+_0x96ffe7),new m(_0x96ffe7);}}async[a0_0xc869c4(0x3f7)](_0x49da67,_0x921de0){const _0x48573d=a0_0xc869c4;try{this[_0x48573d(0x246)][_0x48573d(0x5a1)](this['instanceName']+'\x20('+this[_0x48573d(0x801)][_0x48573d(0x69a)]+_0x48573d(0x69b)),_0x921de0['forEach'](_0x5d41d9=>{const _0x3d6441=_0x48573d;_0x5d41d9[_0x3d6441(0x59b)]||(_0x5d41d9[_0x3d6441(0x59b)]=(0x0,Q['v4'])()),_0x5d41d9[_0x3d6441(0x19f)]||(_0x5d41d9['idSchedule']=_0x49da67),delete _0x5d41d9[_0x3d6441(0x216)];});let _0x4c90f0={'$push':{'messages':{'$each':_0x921de0}}},_0x2e8312=await this[_0x48573d(0x77f)][_0x48573d(0x101)][_0x48573d(0x17f)](_0x49da67,_0x4c90f0,this[_0x48573d(0x801)][_0x48573d(0x69a)]);return _0x2e8312&&(this[_0x48573d(0x736)](_0x2e8312[_0x48573d(0x43f)]),await this[_0x48573d(0x77f)][_0x48573d(0x101)][_0x48573d(0x17f)](_0x2e8312[_0x48573d(0x59b)],{'$set':{'messages':_0x2e8312[_0x48573d(0x43f)]}},this[_0x48573d(0x801)][_0x48573d(0x69a)])),_0x2e8312;}catch(_0x1cf2f9){let _0x2c478d=_0x48573d(0x264),_0x569d8d=_0x1cf2f9 instanceof Error?_0x1cf2f9[_0x48573d(0x5ad)]:typeof _0x1cf2f9==_0x48573d(0xfe)?JSON[_0x48573d(0x563)](_0x1cf2f9):_0x1cf2f9,_0x3702f7=_0x2c478d+':\x20'+_0x569d8d;throw this[_0x48573d(0x246)][_0x48573d(0x3d2)](this[_0x48573d(0x77a)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x3702f7),new m(_0x3702f7);}}async[a0_0xc869c4(0x505)](_0x4ed44b){const _0x2ba887=a0_0xc869c4;try{if(this['logger'][_0x2ba887(0x5a1)](this[_0x2ba887(0x77a)]+'\x20('+this[_0x2ba887(0x801)][_0x2ba887(0x69a)]+_0x2ba887(0x122)),!_0x4ed44b[_0x2ba887(0x59b)]||!_0x4ed44b[_0x2ba887(0x43f)])throw new Error(_0x2ba887(0x717));let _0x539b0a=_0x4ed44b['_id'],_0x4c799f=_0x4ed44b[_0x2ba887(0x43f)],_0x1eb28e=_0x4c799f[_0x2ba887(0x314)](_0x2bc112=>!_0x2bc112[_0x2ba887(0x7c3)])[_0x2ba887(0x474)](_0x1a6c7b=>{const _0x2cdd3e=_0x2ba887;let _0x554d86=_0x1a6c7b[_0x2cdd3e(0x59b)];if(!_0x554d86)throw new Error(_0x2cdd3e(0x855));return _0x1a6c7b['idSchedule']||(_0x1a6c7b[_0x2cdd3e(0x19f)]=_0x539b0a),delete _0x1a6c7b[_0x2cdd3e(0x216)],{'updateOne':{'filter':{'_id':_0x539b0a,'messages._id':_0x554d86},'update':{'$set':{'messages.$[elem]':_0x1a6c7b}},'arrayFilters':[{'elem._id':_0x554d86}]}};}),_0x5f4d37=_0x4c799f[_0x2ba887(0x314)](_0x43ceab=>_0x43ceab[_0x2ba887(0x7c3)])[_0x2ba887(0x474)](_0x1361fe=>{const _0x5a549d=_0x2ba887;let _0x2d792c=_0x1361fe[_0x5a549d(0x59b)];if(!_0x2d792c)throw new Error(_0x5a549d(0x7ed));return{'updateOne':{'filter':{'_id':_0x539b0a},'update':{'$pull':{'messages':{'_id':_0x2d792c}}}}};}),_0x1fedd0=[..._0x1eb28e,..._0x5f4d37],_0x52e4b3=await this['repository'][_0x2ba887(0x101)][_0x2ba887(0x229)](_0x1fedd0,this[_0x2ba887(0x801)][_0x2ba887(0x69a)]),_0x2539b5=await this['repository']['scheduleMessage'][_0x2ba887(0x1a5)](_0x539b0a,this[_0x2ba887(0x801)][_0x2ba887(0x69a)]);return _0x2539b5&&(this[_0x2ba887(0x736)](_0x2539b5[_0x2ba887(0x43f)]),await this['repository'][_0x2ba887(0x101)][_0x2ba887(0x17f)](_0x2539b5['_id'],{'$set':{'messages':_0x2539b5[_0x2ba887(0x43f)]}},this[_0x2ba887(0x801)][_0x2ba887(0x69a)])),_0x2539b5;}catch(_0x1f0896){let _0x67fb15='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x47a80d=_0x1f0896 instanceof Error?_0x1f0896[_0x2ba887(0x5ad)]:typeof _0x1f0896=='object'?JSON[_0x2ba887(0x563)](_0x1f0896):_0x1f0896,_0x4489fa=_0x67fb15+':\x20'+_0x47a80d;throw this[_0x2ba887(0x246)][_0x2ba887(0x3d2)](this[_0x2ba887(0x77a)]+'\x20('+this['instance']['wuid']+_0x2ba887(0x6fe)+_0x4489fa),new m(_0x4489fa);}}async[a0_0xc869c4(0x51a)](){const _0xffdbf3=a0_0xc869c4;try{let _0x2a7f53={'status':_0xffdbf3(0x524)},_0x3c8140=await this[_0xffdbf3(0x77f)][_0xffdbf3(0x101)][_0xffdbf3(0x1ec)](_0x2a7f53,this[_0xffdbf3(0x801)]['wuid']);if(!_0x3c8140[_0xffdbf3(0x3d2)])this[_0xffdbf3(0x246)][_0xffdbf3(0x5a1)](this['instanceName']+'\x20('+this['instance'][_0xffdbf3(0x69a)]+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x3c8140[_0xffdbf3(0x3d2)][_0xffdbf3(0x5ad)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0xffdbf3(0x307)]();}catch(_0x4e2a58){let _0x36856d=_0xffdbf3(0x78f),_0x54df83=_0x4e2a58 instanceof Error?_0x4e2a58['message']:typeof _0x4e2a58==_0xffdbf3(0xfe)?JSON[_0xffdbf3(0x563)](_0x4e2a58):_0x4e2a58,_0x5c6298=_0x36856d+':\x20'+_0x54df83;throw this[_0xffdbf3(0x246)][_0xffdbf3(0x3d2)](this[_0xffdbf3(0x77a)]+'\x20('+this[_0xffdbf3(0x801)][_0xffdbf3(0x69a)]+_0xffdbf3(0x6fe)+_0x5c6298),new m(_0x5c6298);}}async[a0_0xc869c4(0x307)](){const _0x1e3e29=a0_0xc869c4;try{return await this[_0x1e3e29(0x77f)][_0x1e3e29(0x101)][_0x1e3e29(0x194)]({'where':{}},this[_0x1e3e29(0x801)][_0x1e3e29(0x69a)]);}catch(_0x45007e){let _0xe49395=_0x1e3e29(0x498),_0x595159=_0x45007e instanceof Error?_0x45007e[_0x1e3e29(0x5ad)]:typeof _0x45007e==_0x1e3e29(0xfe)?JSON[_0x1e3e29(0x563)](_0x45007e):_0x45007e,_0x473599=_0xe49395+':\x20'+_0x595159;throw this[_0x1e3e29(0x246)][_0x1e3e29(0x3d2)](this[_0x1e3e29(0x77a)]+'\x20('+this[_0x1e3e29(0x801)]['wuid']+'):\x20'+_0x473599),new m(_0x473599);}}[a0_0xc869c4(0x736)](_0x3bd3a6){const _0x1a981a=a0_0xc869c4;_0x3bd3a6[_0x1a981a(0x822)]((_0x1b1923,_0x253523)=>_0x1b1923[_0x1a981a(0x64d)]-_0x253523[_0x1a981a(0x64d)]),_0x3bd3a6[_0x1a981a(0x64a)]((_0x2f339c,_0x4735b6)=>{const _0x51dc17=_0x1a981a;_0x2f339c[_0x51dc17(0x64d)]=_0x4735b6+0x1;});}async['SendScheduleMessage'](_0x740491,_0x217ca3){const _0x3e991a=a0_0xc869c4;try{if(!_0x217ca3)return this[_0x3e991a(0x246)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3e991a(0x330)),{'error':!0x0,'detail':_0x3e991a(0x31b)};if(_0x217ca3[_0x3e991a(0x155)]===_0x3e991a(0x4ad)&&!this[_0x3e991a(0x162)]?.['flowConfig'][_0x3e991a(0x766)])return this[_0x3e991a(0x246)]['error'](this[_0x3e991a(0x77a)]+'\x20('+this['instance'][_0x3e991a(0x69a)]+_0x3e991a(0x65d)),{'error':!0x0,'detail':_0x3e991a(0x7de)};switch(_0x217ca3[_0x3e991a(0x155)]){case _0x3e991a(0x1ed):return await this[_0x3e991a(0x384)](_0x217ca3,_0x740491);case'video':case _0x3e991a(0x37e):case'document':return await this[_0x3e991a(0x437)](_0x217ca3,_0x740491);case _0x3e991a(0x603):return await this[_0x3e991a(0x2f0)](_0x217ca3,_0x740491);case _0x3e991a(0x4ad):let _0x24afa2=new ze();return _0x24afa2[_0x3e991a(0x15e)]=_0x217ca3['flow'],_0x24afa2['remoteJid']=_0x740491,await this[_0x3e991a(0x454)](_0x24afa2);default:return this[_0x3e991a(0x246)][_0x3e991a(0x3d2)](this[_0x3e991a(0x77a)]+'\x20('+this[_0x3e991a(0x801)]['wuid']+_0x3e991a(0x6f6)+_0x217ca3[_0x3e991a(0x155)]),{'error':!0x0,'detail':_0x3e991a(0x243)};}}catch(_0x22f237){return this['logger'][_0x3e991a(0x3d2)](this[_0x3e991a(0x77a)]+'\x20('+this[_0x3e991a(0x801)][_0x3e991a(0x69a)]+_0x3e991a(0x48b)+(_0x22f237 instanceof Error?_0x22f237[_0x3e991a(0x5ad)]:JSON['stringify'](_0x22f237,null,0x2))),{'error':!0x0,'detail':_0x22f237[_0x3e991a(0x5ad)]};}}async[a0_0xc869c4(0x384)](_0x2130fd,_0x1d22d8){const _0x21ef58=a0_0xc869c4;if(this[_0x21ef58(0x246)][_0x21ef58(0x5a1)](this['instanceName']+'\x20('+this[_0x21ef58(0x801)]['wuid']+_0x21ef58(0x619)+_0x1d22d8+'\x27'),!_0x2130fd['text']||_0x2130fd[_0x21ef58(0x1ed)][_0x21ef58(0x4c6)]===0x0)return{'error':!0x0,'detail':_0x21ef58(0x7be)};let _0x42307b=await this[_0x21ef58(0x352)](_0x2130fd[_0x21ef58(0x1ed)],_0x1d22d8),_0x172d03={'number':_0x1d22d8,'options':{'delay':_0x2130fd[_0x21ef58(0x379)],'linkPreview':_0x2130fd[_0x21ef58(0x1c8)]},'textMessage':{'text':_0x42307b}},_0x49ff71=null;try{let _0x5ca04a=await this[_0x21ef58(0x250)](_0x172d03);if(_0x5ca04a&&_0x5ca04a['status'])return{'error':!0x1,'id':_0x5ca04a[_0x21ef58(0x7e2)]['id']};_0x49ff71=JSON[_0x21ef58(0x563)](_0x5ca04a),this['logger'][_0x21ef58(0x5a1)](this[_0x21ef58(0x77a)]+'\x20('+this[_0x21ef58(0x801)]['wuid']+_0x21ef58(0x6fe)+_0x49ff71);}catch(_0x4d8799){this[_0x21ef58(0x246)][_0x21ef58(0x3d2)](this[_0x21ef58(0x77a)]+'\x20('+this[_0x21ef58(0x801)][_0x21ef58(0x69a)]+_0x21ef58(0x3a4)+(_0x4d8799 instanceof Error?_0x4d8799['message']:JSON[_0x21ef58(0x563)](_0x4d8799,null,0x2))),_0x49ff71=_0x4d8799[_0x21ef58(0x5ad)];}if(_0x49ff71)return{'error':!0x0,'detail':(typeof _0x49ff71==_0x21ef58(0xfe)?JSON[_0x21ef58(0x563)](_0x49ff71,null,0x2):_0x49ff71)[_0x21ef58(0x791)](/[\[\]{}\n]/g,'\x20')[_0x21ef58(0x791)](/  +/g,'\x20')};}async[a0_0xc869c4(0x437)](_0xdee23d,_0x4890b9){const _0x6354d6=a0_0xc869c4;this[_0x6354d6(0x246)][_0x6354d6(0x5a1)](this[_0x6354d6(0x77a)]+'\x20('+this['instance'][_0x6354d6(0x69a)]+_0x6354d6(0x102)+_0x4890b9+'\x27');let _0x539ffd;_0xdee23d[_0x6354d6(0x1ed)]&&_0xdee23d[_0x6354d6(0x1ed)][_0x6354d6(0x4c6)]>0x0&&(_0x539ffd=await this[_0x6354d6(0x352)](_0xdee23d[_0x6354d6(0x1ed)],_0x4890b9));let _0x493447={'number':_0x4890b9,'options':{'delay':_0xdee23d[_0x6354d6(0x379)],'linkPreview':_0xdee23d[_0x6354d6(0x1c8)]},'mediaMessage':{'mediatype':_0xdee23d[_0x6354d6(0x155)],'caption':_0x539ffd,'media':_0xdee23d[_0x6354d6(0x471)]}},_0x424465=null;try{let _0xe84f83=await this[_0x6354d6(0x665)](_0x493447);if(_0xe84f83&&_0xe84f83['status'])return{'error':!0x1,'id':_0xe84f83[_0x6354d6(0x7e2)]['id']};_0x424465=JSON[_0x6354d6(0x563)](_0xe84f83),this['logger'][_0x6354d6(0x5a1)](this[_0x6354d6(0x77a)]+'\x20('+this['instance'][_0x6354d6(0x69a)]+_0x6354d6(0x6fe)+_0x424465);}catch(_0x3284b){this[_0x6354d6(0x246)][_0x6354d6(0x3d2)](this['instanceName']+'\x20('+this[_0x6354d6(0x801)][_0x6354d6(0x69a)]+_0x6354d6(0xf0)+(_0x3284b instanceof Error?_0x3284b[_0x6354d6(0x5ad)]:JSON['stringify'](_0x3284b,null,0x2))),_0x424465=_0x3284b['message'];}if(_0x424465)return{'error':!0x0,'detail':(typeof _0x424465==_0x6354d6(0xfe)?JSON[_0x6354d6(0x563)](_0x424465,null,0x2):_0x424465)[_0x6354d6(0x791)](/[\[\]{}\n]/g,'\x20')[_0x6354d6(0x791)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x46ca0d,_0x57fb23){const _0x885c7c=a0_0xc869c4;this[_0x885c7c(0x246)][_0x885c7c(0x5a1)](this[_0x885c7c(0x77a)]+'\x20('+this[_0x885c7c(0x801)][_0x885c7c(0x69a)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x57fb23+'\x27');let _0x44eb27={'number':_0x57fb23,'options':{'delay':_0x46ca0d['delay']},'audioMessage':{'audio':_0x46ca0d[_0x885c7c(0x471)]}},_0x19890f=null;try{let _0x11c38c=await this[_0x885c7c(0x4b0)](_0x44eb27);if(_0x11c38c&&_0x11c38c[_0x885c7c(0x202)])return{'error':!0x1,'id':_0x11c38c[_0x885c7c(0x7e2)]['id']};_0x19890f=JSON['stringify'](_0x11c38c),this[_0x885c7c(0x246)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x885c7c(0x69a)]+'):\x20'+_0x19890f);}catch(_0x4be8bb){this['logger']['error'](this[_0x885c7c(0x77a)]+'\x20('+this[_0x885c7c(0x801)][_0x885c7c(0x69a)]+_0x885c7c(0x3d4)+(_0x4be8bb instanceof Error?_0x4be8bb[_0x885c7c(0x5ad)]:JSON['stringify'](_0x4be8bb,null,0x2))),_0x19890f=_0x4be8bb['message'];}if(_0x19890f)return{'error':!0x0,'detail':(typeof _0x19890f==_0x885c7c(0xfe)?JSON[_0x885c7c(0x563)](_0x19890f,null,0x2):_0x19890f)['replace'](/[\[\]{}\n]/g,'\x20')[_0x885c7c(0x791)](/  +/g,'\x20')};}async[a0_0xc869c4(0x121)](_0x50054f){const _0x5beab4=a0_0xc869c4;try{return await this[_0x5beab4(0x52a)][_0x5beab4(0x786)](_0x50054f['groupJid'],_0x50054f[_0x5beab4(0x22c)]),{'update':_0x5beab4(0x47b)};}catch(_0x42db19){let _0x4e21a1=_0x5beab4(0x5e6),_0x4b0e77=_0x42db19 instanceof Error?_0x42db19[_0x5beab4(0x5ad)]:typeof _0x42db19==_0x5beab4(0xfe)?JSON['stringify'](_0x42db19):_0x42db19,_0x38b37b=_0x4e21a1+':\x20'+_0x4b0e77;throw this[_0x5beab4(0x246)]['error'](this[_0x5beab4(0x77a)]+'\x20('+this[_0x5beab4(0x801)]['wuid']+_0x5beab4(0x6fe)+_0x38b37b),new x(_0x38b37b);}}async[a0_0xc869c4(0x6c7)](_0x51f128){const _0x59fec9=a0_0xc869c4;try{return await this[_0x59fec9(0x52a)][_0x59fec9(0x5fe)](_0x51f128['groupJid'],_0x51f128[_0x59fec9(0x15e)]),{'update':'success'};}catch(_0x5a69f5){let _0x4b5fde='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x51a0ed=_0x5a69f5 instanceof Error?_0x5a69f5[_0x59fec9(0x5ad)]:typeof _0x5a69f5=='object'?JSON[_0x59fec9(0x563)](_0x5a69f5):_0x5a69f5,_0x198c55=_0x4b5fde+':\x20'+_0x51a0ed;throw this[_0x59fec9(0x246)][_0x59fec9(0x3d2)](this['instanceName']+'\x20('+this['instance'][_0x59fec9(0x69a)]+_0x59fec9(0x6fe)+_0x198c55),new x(_0x198c55);}}async[a0_0xc869c4(0x163)](_0x439174){const _0x5b2a6d=a0_0xc869c4;try{let _0x36f9e8=await this[_0x5b2a6d(0x52a)][_0x5b2a6d(0x27f)](_0x439174[_0x5b2a6d(0x266)],_0x439174[_0x5b2a6d(0x38d)]);return{'success':!0x0};}catch(_0x2d83dc){let _0x5a5445=_0x5b2a6d(0x7e8),_0x374c0b=_0x2d83dc instanceof Error?_0x2d83dc[_0x5b2a6d(0x5ad)]:typeof _0x2d83dc=='object'?JSON[_0x5b2a6d(0x563)](_0x2d83dc):_0x2d83dc,_0x52d396=_0x5a5445+':\x20'+_0x374c0b;throw this[_0x5b2a6d(0x246)][_0x5b2a6d(0x3d2)](this[_0x5b2a6d(0x77a)]+'\x20('+this['instance']['wuid']+_0x5b2a6d(0x6fe)+_0x52d396),new x(_0x52d396);}}async['groupSetting'](_0x5514c4){const _0x57145c=a0_0xc869c4;try{return await this['client']['groupSettingUpdate'](_0x5514c4[_0x57145c(0x266)],_0x5514c4[_0x57145c(0x2fe)]),{'update':'success'};}catch(_0x557214){let _0x499e74='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x244e1b=_0x557214 instanceof Error?_0x557214[_0x57145c(0x5ad)]:typeof _0x557214==_0x57145c(0xfe)?JSON[_0x57145c(0x563)](_0x557214):_0x557214,_0x304a2d=_0x499e74+':\x20'+_0x244e1b;throw this[_0x57145c(0x246)]['error'](this['instanceName']+'\x20('+this['instance'][_0x57145c(0x69a)]+_0x57145c(0x6fe)+_0x304a2d),new x(_0x304a2d);}}async[a0_0xc869c4(0x415)](_0x5932b7){const _0x1150f4=a0_0xc869c4;try{let _0x27dae9;if((0x0,J['isURL'])(_0x5932b7[_0x1150f4(0x37e)])){let _0x250fa8=new Date()['getTime'](),_0x45d8e0=_0x5932b7[_0x1150f4(0x37e)]+'?timestamp='+_0x250fa8;_0x27dae9=(await K[_0x1150f4(0xef)][_0x1150f4(0x1d4)](_0x45d8e0,{'responseType':'arraybuffer'}))[_0x1150f4(0x3df)];}else{if((0x0,J[_0x1150f4(0x731)])(_0x5932b7[_0x1150f4(0x37e)]))_0x27dae9=Buffer[_0x1150f4(0x1be)](_0x5932b7[_0x1150f4(0x37e)],_0x1150f4(0x7c0));else throw new m(_0x1150f4(0x599));}return await this[_0x1150f4(0x52a)][_0x1150f4(0x58d)](_0x5932b7['groupJid'],_0x27dae9),{'update':_0x1150f4(0x47b)};}catch(_0x35f321){let _0x823b7b=_0x1150f4(0x794),_0x1041b8=_0x35f321 instanceof Error?_0x35f321[_0x1150f4(0x5ad)]:typeof _0x35f321==_0x1150f4(0xfe)?JSON[_0x1150f4(0x563)](_0x35f321):_0x35f321,_0x2d7f02=_0x823b7b+':\x20'+_0x1041b8;throw this[_0x1150f4(0x246)][_0x1150f4(0x3d2)](this[_0x1150f4(0x77a)]+'\x20('+this[_0x1150f4(0x801)][_0x1150f4(0x69a)]+'):\x20'+_0x2d7f02),new x(_0x2d7f02);}}},jt=class u{constructor(_0x1f9e1f,_0x5ee362,_0x26b0ea){const _0x906e61=a0_0xc869c4;this[_0x906e61(0x2f1)]=_0x1f9e1f,this[_0x906e61(0x3a6)]=_0x5ee362,this['repository']=_0x26b0ea,this['db']={},this[_0x906e61(0x1b6)]={},this[_0x906e61(0x246)]=new $(u['name']),this[_0x906e61(0x828)]={},(this['removeInstance'](),this[_0x906e61(0x568)](),Object[_0x906e61(0x7cb)](this['db'],_0x5ee362[_0x906e61(0x1d4)](_0x906e61(0x661))),Object['assign'](this['redis'],_0x5ee362[_0x906e61(0x1d4)](_0x906e61(0x506))),this['dbInstance']=this['db'][_0x906e61(0x29e)]?this['repository']['dbServer']?.['db'](this['db'][_0x906e61(0x7a6)][_0x906e61(0x668)]+_0x906e61(0x7dd)):void 0x0,this['cache']=this[_0x906e61(0x1b6)][_0x906e61(0x29e)]?new de(this[_0x906e61(0x1b6)]):void 0x0);}async[a0_0xc869c4(0x3b0)](_0x3b26e7){const _0x495975=a0_0xc869c4;if(_0x3b26e7&&!this[_0x495975(0x828)][_0x3b26e7])throw new U(_0x495975(0x13d)+_0x3b26e7+_0x495975(0x637));let _0x36d499=[];for await(let [_0x1fd7b1,_0x316609]of Object['entries'](this[_0x495975(0x828)]))if(_0x316609&&_0x316609[_0x495975(0x4ed)][_0x495975(0x83f)]===_0x495975(0x5d5)){let _0x142c1c=await this[_0x495975(0x77f)]['auth'][_0x495975(0x194)](_0x1fd7b1);_0x36d499[_0x495975(0x14c)]({'instance':{'instanceName':_0x1fd7b1,'apikey':_0x142c1c[_0x495975(0x6c3)],'owner':_0x316609['wuid'],'profileName':await _0x316609[_0x495975(0x16c)]()||'not\x20loaded','profilePictureUrl':_0x316609[_0x495975(0x528)]}});}return _0x36d499[_0x495975(0x194)](_0x48daac=>_0x48daac[_0x495975(0x801)]['instanceName']===_0x3b26e7)??_0x36d499;}async['cleaningUp'](_0x197b30){const _0x7d6f57=a0_0xc869c4;if(this['db']['ENABLED']&&(await this['repository'][_0x7d6f57(0x10c)][_0x7d6f57(0x55e)](),(await this[_0x7d6f57(0x7bb)][_0x7d6f57(0x38b)]())[_0x7d6f57(0x4c6)]>0x0&&await this[_0x7d6f57(0x7bb)][_0x7d6f57(0x829)](_0x197b30)),this[_0x7d6f57(0x1b6)][_0x7d6f57(0x29e)]){this[_0x7d6f57(0x44b)][_0x7d6f57(0x299)]=_0x197b30,await this['cache']['delAll']();return;}}async['loadInstance'](){const _0xbc1e03=a0_0xc869c4;await this[_0xbc1e03(0x625)]();let _0x4011ef=async _0x5de0dc=>{const _0x2bc450=_0xbc1e03;let _0xe286e2=new Re(this[_0x2bc450(0x3a6)],this[_0x2bc450(0x2f1)],this[_0x2bc450(0x77f)]);_0xe286e2['instanceName']=_0x5de0dc,await _0xe286e2[_0x2bc450(0x525)](),this['waInstances'][_0x5de0dc]=_0xe286e2;};try{if(this[_0xbc1e03(0x1b6)][_0xbc1e03(0x29e)]){let _0x477e43=await this[_0xbc1e03(0x44b)]['instanceKeys']();_0x477e43?.[_0xbc1e03(0x4c6)]>0x0&&_0x477e43[_0xbc1e03(0x64a)](async _0x4548dc=>await _0x4011ef(_0x4548dc[_0xbc1e03(0x63b)](':')[0x1]));return;}if(this['db'][_0xbc1e03(0x29e)]){await this['repository'][_0xbc1e03(0x10c)][_0xbc1e03(0x55e)]();let _0x282c88=await this[_0xbc1e03(0x7bb)][_0xbc1e03(0x38b)]();_0x282c88[_0xbc1e03(0x4c6)]>0x0&&_0x282c88[_0xbc1e03(0x64a)](async _0x19bf09=>await _0x4011ef(_0x19bf09[_0xbc1e03(0x1b9)][_0xbc1e03(0x791)](/^[\w-]+\./,'')));return;}}catch(_0x389d8d){this[_0xbc1e03(0x246)]['error'](_0x389d8d);}}async['cleanDisconnectedInstances'](){const _0x15c41e=a0_0xc869c4;try{let _0x3ae4ba=await this['repository'][_0x15c41e(0x6e8)][_0x15c41e(0x633)]({'online':!0x1});for(let _0x4ebd5c of _0x3ae4ba){let _0x79b12c=_0x4ebd5c['_id'];await we['removeIPv6ById'](se,_0x79b12c);}console[_0x15c41e(0x114)](_0x15c41e(0xfb)+_0x3ae4ba[_0x15c41e(0x4c6)]);let _0x30808b={'online':!0x1},_0x51efc6=await this[_0x15c41e(0x77f)][_0x15c41e(0x6e8)][_0x15c41e(0x1ec)](_0x30808b);console[_0x15c41e(0x114)]('Instâncias\x20removidas:\x20'+_0x51efc6[_0x15c41e(0x347)]);}catch(_0x1a9e47){console[_0x15c41e(0x3d2)](_0x15c41e(0x64b),_0x1a9e47);}}async['InstancesAlterarTodas'](){const _0x295717=a0_0xc869c4;try{let _0x40ad8b={'online':!0x1},_0x4ca28f={'online':!0x1,'lastDisconnect':Date[_0x295717(0x574)]()},_0x2f0467=await this[_0x295717(0x77f)][_0x295717(0x6e8)][_0x295717(0x1fe)](_0x40ad8b,_0x4ca28f);await this[_0x295717(0x199)]();}catch(_0x257776){console['error'](_0x295717(0x4e9),_0x257776);}}[a0_0xc869c4(0x79a)](){const _0x2e58a2=a0_0xc869c4;this[_0x2e58a2(0x2f1)]['on'](_0x2e58a2(0x481),async _0x28fea3=>{const _0xadc0d4=_0x2e58a2;try{this[_0xadc0d4(0x828)][_0x28fea3]=void 0x0;}catch{}try{this[_0xadc0d4(0x765)](_0x28fea3);}finally{this[_0xadc0d4(0x246)][_0xadc0d4(0x1ae)](_0xadc0d4(0x13d)+_0x28fea3+_0xadc0d4(0x43a));}});}['noConnection'](){const _0x4a3fe2=a0_0xc869c4;this[_0x4a3fe2(0x2f1)]['on'](_0x4a3fe2(0x359),async _0x25967b=>{const _0x4ae706=_0x4a3fe2;try{this[_0x4ae706(0x828)][_0x25967b]=void 0x0;}catch{}try{this[_0x4ae706(0x765)](_0x25967b);}finally{this[_0x4ae706(0x246)][_0x4ae706(0x1ae)]('Instance\x20\x22'+_0x25967b+_0x4ae706(0x4d3));}});}},Jt=class extends _{[a0_0xc869c4(0xee)](_0x2d7016){return ta(_0x2d7016);}async['insert'](_0x45d146){const _0x38fb2d=a0_0xc869c4;if(_0x45d146[_0x38fb2d(0x4c6)]!==0x0)try{return{'insertCount':(await this[_0x38fb2d(0xee)](_0x45d146[0x0]['owner'])[_0x38fb2d(0x183)]([..._0x45d146]))['length']};}catch(_0x2c3a15){return _0x2c3a15;}}async['find'](_0x2e42da,_0x509c2c){const _0x36dff6=a0_0xc869c4;try{let _0x3bd3e8=this[_0x36dff6(0xee)](_0x509c2c),_0x5d03a5=A(_0x2e42da[_0x36dff6(0x732)]);return await _0x3bd3e8['find'](_0x5d03a5)[_0x36dff6(0x822)]({'lastmsg':-0x1})['limit'](_0x2e42da?.['limit']??0x0)[_0x36dff6(0x11a)]();}catch{return[];}}async[a0_0xc869c4(0x274)](_0x249426,_0x41d9f8){const _0x23bb34=a0_0xc869c4;try{let _0x297bd3=this[_0x23bb34(0xee)](_0x41d9f8),_0x54e075=A(_0x249426[_0x23bb34(0x732)]);return _0x54e075['groupdata.participants']={'$ne':[]},await _0x297bd3[_0x23bb34(0x194)](_0x54e075)['sort']({'lastmsg':-0x1})['limit'](_0x249426?.['limit']??0x0)[_0x23bb34(0x11a)]();}catch{return[];}}async[a0_0xc869c4(0x7c3)](_0x3da70f,_0x3ce608){const _0xd151ab=a0_0xc869c4;try{return{'deletedCount':(await this[_0xd151ab(0xee)](_0x3ce608)['deleteMany']({..._0x3da70f[_0xd151ab(0x732)]}))[_0xd151ab(0x173)]};}catch(_0x1c5989){return{'error':_0x1c5989?.['toString']()};}}async[a0_0xc869c4(0x417)](_0x2beb80,_0x4fc4f9){const _0x2c64b8=a0_0xc869c4;try{return await this['getChatModelForOwner'](_0x4fc4f9)[_0x2c64b8(0x1ec)]({..._0x2beb80['where']}),[];}catch(_0x229130){return{'error':_0x229130?.[_0x2c64b8(0x806)]()};}}async[a0_0xc869c4(0x4d6)](_0x1df34c,_0x34a599){const _0x4809d1=a0_0xc869c4;try{let _0x3da8f1=this['getChatModelForOwner'](_0x34a599),_0x58e35f=A(_0x1df34c[_0x4809d1(0x732)]);return await _0x3da8f1[_0x4809d1(0x4d6)](_0x58e35f)[_0x4809d1(0x11a)]();}catch{return null;}}async[a0_0xc869c4(0x2a2)](_0x13f681,_0x5a64f5,_0x59c115,_0x14a8e7,_0x5aa15a=a0_0xc869c4(0x4c5)){const _0x3999d4=a0_0xc869c4;try{let _0x24af6f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x14a8e7},_0x4b2cb1=this[_0x3999d4(0xee)](_0x59c115),_0x44a5a6=A(_0x13f681['where']);Object[_0x3999d4(0x239)](_0x5a64f5)[_0x3999d4(0x64a)](_0x5dc66d=>{_0x5a64f5[_0x5dc66d]==null&&delete _0x5a64f5[_0x5dc66d];});let _0x32138c={};return _0x32138c[_0x5aa15a]=_0x5a64f5,await _0x4b2cb1['findOneAndUpdate'](_0x44a5a6,_0x32138c,_0x24af6f);}catch(_0x3d1cc2){return console[_0x3999d4(0x3d2)](_0x3d1cc2),null;}}async[a0_0xc869c4(0x414)](_0x301b46){const _0x4875f7=a0_0xc869c4;try{let _0x52281f=this[_0x4875f7(0xee)](_0x301b46[0x0][_0x4875f7(0x657)]['where']['owner']),_0x21941f=_0x301b46[_0x4875f7(0x474)](_0x19120e=>({'updateOne':{'filter':{..._0x19120e['query'][_0x4875f7(0x732)]},'update':{'$set':_0x19120e[_0x4875f7(0x6cc)]},'upsert':!0x0}})),_0x20da3c=await _0x52281f[_0x4875f7(0x229)](_0x21941f);return _0x20da3c[_0x4875f7(0x707)]+_0x20da3c[_0x4875f7(0x402)];}catch(_0x2af50f){return console[_0x4875f7(0x3d2)](_0x2af50f),0x0;}}async[a0_0xc869c4(0x4ea)](_0x498dda){const _0x8f93dd=a0_0xc869c4;try{let _0x31f467={'group_isCommunity':'','group_announce':'','group_size':''},_0x4fcfed={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x54933b={'$unset':_0x31f467};return(await this[_0x8f93dd(0xee)](_0x498dda)['updateMany'](_0x4fcfed,_0x54933b))[_0x8f93dd(0x707)];}catch(_0x3bd915){return console[_0x8f93dd(0x3d2)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x3bd915),0x0;}}async['updateMissingEtiquetas'](_0x2de598){const _0x1dcf34=a0_0xc869c4;try{let _0x150173=this[_0x1dcf34(0xee)](_0x2de598),_0x952579={'leadInfo.etiquetas':{'$exists':!0x1}},_0x439087={'$set':{'leadInfo.etiquetas':[]}};return(await _0x150173[_0x1dcf34(0x414)](_0x952579,_0x439087))[_0x1dcf34(0x707)];}catch(_0x528b12){return console[_0x1dcf34(0x3d2)](_0x528b12),0x0;}}async[a0_0xc869c4(0x74b)](_0x37cf95){const _0x1cfec2=a0_0xc869c4;try{let _0x69ad8=this[_0x1cfec2(0xee)](_0x37cf95),_0x12dc15={'leadInfo.tags':{'$exists':!0x1}},_0x379ccb={'$set':{'leadInfo.tags':[]}};return(await _0x69ad8['updateMany'](_0x12dc15,_0x379ccb))[_0x1cfec2(0x707)];}catch(_0x36d5e0){return console[_0x1cfec2(0x3d2)](_0x36d5e0),0x0;}}async[a0_0xc869c4(0x4dc)](_0xd6b5b3){const _0x40799d=a0_0xc869c4;try{let _0xe6d3e1=this[_0x40799d(0xee)](_0xd6b5b3),_0x53dc60={'leadInfo.customFields':{'$exists':!0x1}},_0x5d96f5={'$set':{'leadInfo.customFields':[]}};return(await _0xe6d3e1['updateMany'](_0x53dc60,_0x5d96f5))[_0x40799d(0x707)];}catch(_0x2af8a4){return console[_0x40799d(0x3d2)](_0x2af8a4),0x0;}}async[a0_0xc869c4(0x183)](_0x21e87e,_0x503d26){const _0x26931b=a0_0xc869c4;if(!Array[_0x26931b(0x585)](_0x21e87e)||_0x21e87e[_0x26931b(0x4c6)]===0x0)throw new Error(_0x26931b(0x36a));try{return(await this[_0x26931b(0xee)](_0x503d26)[_0x26931b(0x183)](_0x21e87e))[_0x26931b(0x4c6)];}catch(_0x4913ee){throw console[_0x26931b(0x3d2)](_0x26931b(0x37c),_0x4913ee),_0x4913ee;}}async[a0_0xc869c4(0x5ac)](_0x3451fa,_0x44d85f){const _0x52f659=a0_0xc869c4;try{await this['getChatModelForOwner'](_0x44d85f)[_0x52f659(0xc7)]({'_id':_0x3451fa});}catch(_0x192630){throw console[_0x52f659(0x3d2)](_0x52f659(0x739),_0x192630),_0x192630;}}},qt=class extends _{constructor(_0x4373ba,_0x25bfed,_0x21609f){const _0x15d342=a0_0xc869c4;super(_0x25bfed),this[_0x15d342(0x5c5)]=_0x4373ba,this[_0x15d342(0x3a6)]=_0x25bfed,this[_0x15d342(0x784)]=_0x21609f;}async[a0_0xc869c4(0x138)](_0x29b24a){const _0x260628=a0_0xc869c4;if(_0x29b24a[_0x260628(0x4c6)]!==0x0)try{return{'insertCount':(await this[_0x260628(0x5c5)][_0x260628(0x183)]([..._0x29b24a]))['length']};}catch(_0x3437c7){return _0x3437c7;}}async['update'](_0x35a916,_0x203e70){const _0x3528bf=a0_0xc869c4;try{let _0x3142e5=A(_0x35a916[_0x3528bf(0x732)]);return{'updatedCount':(await this[_0x3528bf(0x5c5)][_0x3528bf(0x414)](_0x3142e5,{'$set':_0x203e70}))[_0x3528bf(0x707)]};}catch(_0x5a21c5){return console['error'](_0x3528bf(0x658),_0x5a21c5),{'error':_0x5a21c5[_0x3528bf(0x806)]()};}}async[a0_0xc869c4(0x4b6)](_0x421795){const _0x5a923b=a0_0xc869c4;try{let _0x5bc03f={'_id':{'$in':_0x421795}};return await this['cacheContactModel'][_0x5a923b(0x194)](_0x5bc03f)[_0x5a923b(0x11a)]();}catch(_0x2a0cd7){return console[_0x5a923b(0x3d2)](_0x5a923b(0xe6),_0x2a0cd7),[];}}async[a0_0xc869c4(0x7c3)](_0x3913e7){const _0x5e31b4=a0_0xc869c4;try{return{'deletedCount':(await this['cacheContactModel']['deleteMany']({..._0x3913e7['where']}))['deletedCount']};}catch(_0x5b2dbe){return{'error':_0x5b2dbe?.[_0x5e31b4(0x806)]()};}}async[a0_0xc869c4(0x194)](_0x54de0b){const _0x4eb556=a0_0xc869c4;try{let _0x268ef4=A(_0x54de0b['where']);return await this['cacheContactModel'][_0x4eb556(0x194)](_0x268ef4)['limit'](_0x54de0b?.[_0x4eb556(0x720)]??0x0)[_0x4eb556(0x11a)]();}catch{return[];}}async[a0_0xc869c4(0x4d6)](_0x22f541){const _0x43d42f=a0_0xc869c4;try{let _0x57d41b=A(_0x22f541[_0x43d42f(0x732)]);return await this[_0x43d42f(0x5c5)][_0x43d42f(0x4d6)](_0x57d41b)[_0x43d42f(0x11a)]();}catch{return null;}}},Vt=class extends _{constructor(_0x52e7d5,_0x44e64d,_0x3105b3){const _0x3cd980=a0_0xc869c4;super(_0x44e64d),this[_0x3cd980(0x2db)]=_0x52e7d5,this[_0x3cd980(0x3a6)]=_0x44e64d,this[_0x3cd980(0x784)]=_0x3105b3;}async[a0_0xc869c4(0x138)](_0x3218ae){const _0x177328=a0_0xc869c4;if(_0x3218ae[_0x177328(0x4c6)]!==0x0)try{return{'insertCount':(await this[_0x177328(0x2db)][_0x177328(0x183)]([..._0x3218ae]))[_0x177328(0x4c6)]};}catch(_0x18b8e2){return _0x18b8e2;}}async[a0_0xc869c4(0x6cc)](_0x5c0b95,_0x2ac654){const _0x4c21a5=a0_0xc869c4;try{let _0x11c3de=A(_0x5c0b95[_0x4c21a5(0x732)]);return{'updatedCount':(await this['messageLogsModel'][_0x4c21a5(0x414)](_0x11c3de,{'$set':_0x2ac654}))['modifiedCount']};}catch(_0x220f57){return console['error'](_0x4c21a5(0x658),_0x220f57),{'error':_0x220f57[_0x4c21a5(0x806)]()};}}async['delete'](_0x45cde0){const _0x883698=a0_0xc869c4;try{return{'deletedCount':(await this[_0x883698(0x2db)]['deleteMany']({..._0x45cde0[_0x883698(0x732)]}))['deletedCount']};}catch(_0x447100){return{'error':_0x447100?.[_0x883698(0x806)]()};}}async[a0_0xc869c4(0x4d6)](_0x2af6d3){const _0x290cf2=a0_0xc869c4;try{let _0x3dac5a=A(_0x2af6d3[_0x290cf2(0x732)]);return await this['messageLogsModel'][_0x290cf2(0x4d6)](_0x3dac5a)['lean']();}catch{return null;}}},Gt=class extends _{['getLabelModelForOwner'](_0x44261f){return va(_0x44261f);}async[a0_0xc869c4(0x2a2)](_0x423432,_0x5114de,_0xf417b1,_0x28ef73){const _0x5a24e2=a0_0xc869c4;try{let _0x34bde7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x28ef73},_0x5286b3=this[_0x5a24e2(0x7f9)](_0xf417b1),_0x412469=A(_0x423432['where']);return await _0x5286b3['findOneAndUpdate'](_0x412469,{'$set':_0x5114de},_0x34bde7);}catch(_0x53e07f){return console['error'](_0x53e07f),null;}}async[a0_0xc869c4(0x194)](_0x3f816f,_0x5e4619){const _0x11d087=a0_0xc869c4;try{let _0x1819ba=this[_0x11d087(0x7f9)](_0x5e4619),_0x3a14dd=A(_0x3f816f[_0x11d087(0x732)]);return await _0x1819ba[_0x11d087(0x194)](_0x3a14dd);}catch(_0x375674){console[_0x11d087(0x3d2)](_0x375674);}}async['delete'](_0xf0d905,_0x381d34){const _0x392e7f=a0_0xc869c4;try{let _0x60e537=this[_0x392e7f(0x7f9)](_0x381d34),_0x1cdce0=A(_0xf0d905[_0x392e7f(0x732)]);await _0x60e537['deleteMany'](_0x1cdce0);}catch(_0x1529f8){console[_0x392e7f(0x3d2)](_0x1529f8);}}async[a0_0xc869c4(0x417)](_0x4df633){const _0x2f252c=a0_0xc869c4;try{return await this[_0x2f252c(0x7f9)](_0x4df633)[_0x2f252c(0x586)][_0x2f252c(0x4e0)](),{'success':!0x0};}catch(_0x149672){return console[_0x2f252c(0x3d2)](_0x149672),{'success':!0x1,'error':_0x149672};}}},Bt=class{constructor(_0x41c59c){const _0x1e3666=a0_0xc869c4;this[_0x1e3666(0x43e)]=_0x41c59c;}async[a0_0xc869c4(0xc4)]({instanceName:_0x69aabb},_0x12acd7){const _0x2d7aba=a0_0xc869c4;return await this[_0x2d7aba(0x43e)][_0x2d7aba(0x828)][_0x69aabb][_0x2d7aba(0xc4)](_0x12acd7);}async['whatsappNumber']({instanceName:_0x4d1b0c},_0x3c65e9){const _0x5da18b=a0_0xc869c4;return await this[_0x5da18b(0x43e)]['waInstances'][_0x4d1b0c][_0x5da18b(0x23f)](_0x3c65e9);}async['importChats']({instanceName:_0x3b8f85},_0x3ec747){const _0x2aeba2=a0_0xc869c4;return await this[_0x2aeba2(0x43e)]['waInstances'][_0x3b8f85][_0x2aeba2(0x1af)](_0x3ec747);}async[a0_0xc869c4(0x29b)]({instanceName:_0x23e85e},_0xfe323b){const _0x4c6a9b=a0_0xc869c4;return await this[_0x4c6a9b(0x43e)][_0x4c6a9b(0x828)][_0x23e85e][_0x4c6a9b(0x4ca)](_0xfe323b);}async[a0_0xc869c4(0x11b)]({instanceName:_0x4d7439},_0x2e08cc){const _0x45b9e6=a0_0xc869c4;return await this['waMonitor'][_0x45b9e6(0x828)][_0x4d7439][_0x45b9e6(0x11b)](_0x2e08cc);}async[a0_0xc869c4(0x671)]({instanceName:_0x1d2ef5},_0x115b82){const _0x2683ab=a0_0xc869c4;return await this[_0x2683ab(0x43e)][_0x2683ab(0x828)][_0x1d2ef5][_0x2683ab(0x671)](_0x115b82);}async['fetchProfilePicture']({instanceName:_0x38eab8},_0x66598c){const _0x157921=a0_0xc869c4;return await this[_0x157921(0x43e)][_0x157921(0x828)][_0x38eab8]['profilePicture'](_0x66598c[_0x157921(0x1ce)]);}async['fetchProfile']({instanceName:_0x37ff47},_0x3d6445){const _0x3c4c58=a0_0xc869c4;return await this[_0x3c4c58(0x43e)][_0x3c4c58(0x828)][_0x37ff47][_0x3c4c58(0x484)](_0x3d6445['number']);}async['updatePresence']({instanceName:_0xf4903d},_0x5605f3){const _0x2f9246=a0_0xc869c4;return await this[_0x2f9246(0x43e)][_0x2f9246(0x828)][_0xf4903d][_0x2f9246(0x220)](_0x5605f3);}async[a0_0xc869c4(0x700)]({instanceName:_0x28bda6},_0x4d2e77){const _0x1e5734=a0_0xc869c4;return await this[_0x1e5734(0x43e)][_0x1e5734(0x828)][_0x28bda6]['fetchContacts'](_0x4d2e77);}async[a0_0xc869c4(0x2d8)]({instanceName:_0x1d470f},_0x5e1eaa){const _0x4be990=a0_0xc869c4;return await this[_0x4be990(0x43e)][_0x4be990(0x828)][_0x1d470f][_0x4be990(0x2d8)](_0x5e1eaa);}async['fetchMessages']({instanceName:_0x1cacaa},_0x42be9b){const _0x46b2ae=a0_0xc869c4;return await this[_0x46b2ae(0x43e)][_0x46b2ae(0x828)][_0x1cacaa][_0x46b2ae(0x26f)](_0x42be9b);}async[a0_0xc869c4(0x29c)]({instanceName:_0x2b1029}){const _0x591eed=a0_0xc869c4;return await this[_0x591eed(0x43e)][_0x591eed(0x828)][_0x2b1029][_0x591eed(0x29c)]();}async[a0_0xc869c4(0x1c6)]({instanceName:_0xcad8fe}){const _0x2f7173=a0_0xc869c4;return await this[_0x2f7173(0x43e)][_0x2f7173(0x828)][_0xcad8fe][_0x2f7173(0x1c6)]();}async['fetchPrivacySettings']({instanceName:_0x263982}){const _0xfdfd03=a0_0xc869c4;return await this[_0xfdfd03(0x43e)][_0xfdfd03(0x828)][_0x263982][_0xfdfd03(0x781)]();}async[a0_0xc869c4(0x598)]({instanceName:_0xfde1f2},_0x28bbce){const _0x4fc2af=a0_0xc869c4;return await this[_0x4fc2af(0x43e)][_0x4fc2af(0x828)][_0xfde1f2][_0x4fc2af(0x598)](_0x28bbce);}async[a0_0xc869c4(0x4da)]({instanceName:_0x5c227a},_0x56f501){const _0x393e7b=a0_0xc869c4;return await this['waMonitor'][_0x393e7b(0x828)][_0x5c227a]['fetchBusinessProfile'](_0x56f501[_0x393e7b(0x1ce)]);}async[a0_0xc869c4(0x79e)]({instanceName:_0x439de8},_0x17bfc6){const _0x1ed342=a0_0xc869c4;return await this[_0x1ed342(0x43e)][_0x1ed342(0x828)][_0x439de8][_0x1ed342(0x79e)](_0x17bfc6[_0x1ed342(0x15e)]);}async[a0_0xc869c4(0x3ec)]({instanceName:_0xcb8876},_0x1620c5){const _0x3795ea=a0_0xc869c4;return await this[_0x3795ea(0x43e)]['waInstances'][_0xcb8876]['updateProfileStatus'](_0x1620c5[_0x3795ea(0x202)]);}async[a0_0xc869c4(0x58d)]({instanceName:_0x9c5580},_0x299ead){const _0x2a52d4=a0_0xc869c4;return await this[_0x2a52d4(0x43e)][_0x2a52d4(0x828)][_0x9c5580][_0x2a52d4(0x58d)](_0x299ead[_0x2a52d4(0x276)]);}async[a0_0xc869c4(0xe1)]({instanceName:_0x2a0f9e},_0xb87142){const _0x2c839c=a0_0xc869c4;return await this[_0x2c839c(0x43e)][_0x2c839c(0x828)][_0x2a0f9e][_0x2c839c(0xe1)]();}},Wt=require('@whiskeysockets/baileys'),zt=class u{constructor(_0x172666,_0x24c3b1,_0x5a6aa0,_0x4b89f9,_0x53fb13){const _0x57fb6d=a0_0xc869c4;this[_0x57fb6d(0x43e)]=_0x172666,this[_0x57fb6d(0x3a6)]=_0x24c3b1,this[_0x57fb6d(0x77f)]=_0x5a6aa0,this[_0x57fb6d(0x2f1)]=_0x4b89f9,this[_0x57fb6d(0x50a)]=_0x53fb13,this['logger']=new $(u[_0x57fb6d(0x15e)]);}async[a0_0xc869c4(0x6a9)]({instanceName:_0x4266b3,apikey:_0x592114,number:_0x1ec953,proxy:_0x21a761=!0x0}){const _0x332093=a0_0xc869c4;try{let _0x4bc1d4=new Re(this[_0x332093(0x3a6)],this['eventEmitter'],this[_0x332093(0x77f)]);_0x4bc1d4[_0x332093(0x77a)]=_0x4266b3,this[_0x332093(0x43e)][_0x332093(0x828)][_0x4bc1d4[_0x332093(0x77a)]]=_0x4bc1d4;let _0x1b6f83={};_0x592114?(await this[_0x332093(0x77f)][_0x332093(0x6e8)][_0x332093(0x5de)]({'apikey':_0x592114},_0x4266b3),_0x1b6f83[_0x332093(0x6c3)]=_0x592114):_0x1b6f83=await this[_0x332093(0x50a)][_0x332093(0x28e)]({'instanceName':_0x4bc1d4[_0x332093(0x77a)]});let _0x4ae9cb;if(_0x1ec953){if(_0x4ae9cb=await this[_0x332093(0x2df)](_0x1ec953),_0x4ae9cb[_0x332093(0x3d2)])throw new x(_0x4ae9cb['error'][_0x332093(0x806)]());_0x1ec953=_0x4ae9cb[_0x332093(0x1ce)];}let _0x12fefb;return await _0x4bc1d4['connectToWhatsapp'](_0x1ec953),await(0x0,Wt[_0x332093(0x379)])(0xfa0),_0x1ec953&&await(0x0,Wt[_0x332093(0x379)])(0xbb8),_0x12fefb=_0x4bc1d4['qrCode'],{'instance':{'instanceName':_0x4bc1d4['instanceName'],'status':_0x332093(0x7f0)},'hash':_0x1b6f83,'qrcode':_0x12fefb};}catch(_0x16871b){throw this[_0x332093(0x246)]['error'](_0x16871b),_0x16871b;}}async[a0_0xc869c4(0x764)]({instanceName:_0x4ac463,number:_0x8ce03a=null}){const _0x503790=a0_0xc869c4;try{let _0x3eff6d=this[_0x503790(0x43e)][_0x503790(0x828)][_0x4ac463];switch(_0x3eff6d?.[_0x503790(0x4ed)]?.[_0x503790(0x83f)]){case _0x503790(0x6e6):return await _0x3eff6d[_0x503790(0x525)](_0x8ce03a),await(0x0,Wt[_0x503790(0x379)])(0x7d0),_0x3eff6d[_0x503790(0x201)];case _0x503790(0x242):return _0x3eff6d[_0x503790(0x201)];default:return await this[_0x503790(0x539)]({'instanceName':_0x4ac463});}}catch(_0x2c2d1f){this['logger'][_0x503790(0x114)](_0x2c2d1f);}}async[a0_0xc869c4(0x539)]({instanceName:_0x4d60d8}){const _0x2194a0=a0_0xc869c4;let _0x3491ef=this[_0x2194a0(0x43e)][_0x2194a0(0x828)][_0x4d60d8]['connectionStatus'],_0x5929eb=null;_0x3491ef[_0x2194a0(0x83f)]===_0x2194a0(0x5d5)&&_0x4d60d8&&(_0x5929eb=await this[_0x2194a0(0x43e)][_0x2194a0(0x3b0)](_0x4d60d8));let _0x587b7a=null;return _0x3491ef[_0x2194a0(0x83f)]==='connecting'&&_0x4d60d8&&(_0x587b7a=this[_0x2194a0(0x43e)][_0x2194a0(0x828)][_0x4d60d8][_0x2194a0(0x201)]),{'instance':_0x4d60d8,'connectionStatus':_0x3491ef,'instanceInfo':_0x5929eb,'qrcode':_0x587b7a};}async['verifyWhatsAppNumber'](_0x1c6d30){const _0x2fb765=a0_0xc869c4;_0x1c6d30=_0x1c6d30[_0x2fb765(0x791)](/\D/g,'');let _0x313f6f=Object[_0x2fb765(0x239)](this['waMonitor'][_0x2fb765(0x828)])[_0x2fb765(0x314)](_0x4483bd=>{const _0xe5d08b=_0x2fb765;let _0x404611=this[_0xe5d08b(0x43e)][_0xe5d08b(0x828)][_0x4483bd];return _0x404611&&_0x404611['connectionStatus']&&_0x404611[_0xe5d08b(0x4ed)][_0xe5d08b(0x83f)]==='open';});if(_0x313f6f['length']===0x0)return{'number':this[_0x2fb765(0x3dc)](_0x1c6d30)};let _0x208807=Math[_0x2fb765(0x3af)](Math['random']()*_0x313f6f[_0x2fb765(0x4c6)]),_0xc2cd06=_0x313f6f[_0x208807];try{let _0x3fa7d7=(await this[_0x2fb765(0x43e)][_0x2fb765(0x828)][_0xc2cd06][_0x2fb765(0x23f)]({'numbers':[_0x1c6d30]}))[_0x2fb765(0x203)]();return _0x3fa7d7[_0x2fb765(0x177)]?{'number':_0x3fa7d7[_0x2fb765(0x724)][_0x2fb765(0x791)]('@s.whatsapp.net','')}:{'number':_0x1c6d30,'error':_0x2fb765(0x1ea)};}catch(_0x113742){return this[_0x2fb765(0x246)][_0x2fb765(0x3d2)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x113742),{'number':_0x1c6d30,'error':_0x2fb765(0x46f)};}}[a0_0xc869c4(0x3dc)](_0x42f810){const _0x362722=a0_0xc869c4;let _0xc5d69c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x362722(0x866)](_0x42f810);if(_0xc5d69c&&_0xc5d69c[0x1]==='55'){let _0x5b5fe1=_0xc5d69c[0x2],_0x46530a=_0xc5d69c[0x3],_0x298e47=_0xc5d69c[0x4];if(parseInt(_0x5b5fe1)>=0x1f&&_0x46530a==='9')return _0xc5d69c[0x1]+_0x5b5fe1+_0x298e47;}return _0x42f810;}async[a0_0xc869c4(0x5a9)]({instanceName:_0xdd73a9}){const _0x2bfd02=a0_0xc869c4;try{return this[_0x2bfd02(0x43e)][_0x2bfd02(0x828)][_0xdd73a9]?.[_0x2bfd02(0x52a)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x2bfd02(0x444)}};}catch(_0x1a9299){this[_0x2bfd02(0x246)]['error'](_0x1a9299);}}async[a0_0xc869c4(0x252)]({instanceName:_0x2f5828}){const _0x751969=a0_0xc869c4;return _0x2f5828?this[_0x751969(0x43e)][_0x751969(0x3b0)](_0x2f5828):this['waMonitor'][_0x751969(0x3b0)]();}async[a0_0xc869c4(0x849)]({instanceName:_0x231e7b}){const _0x154901=a0_0xc869c4;try{return await this[_0x154901(0x43e)][_0x154901(0x828)][_0x231e7b]?.['client']?.[_0x154901(0x849)](_0x154901(0x2aa)+_0x231e7b),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x527e86){throw new x(_0x527e86[_0x154901(0x806)]());}}async[a0_0xc869c4(0x205)]({instanceName:_0x113846}){const _0x10d397=a0_0xc869c4;if((await this[_0x10d397(0x539)]({'instanceName':_0x113846}))['connectionStatus'][_0x10d397(0x83f)]===_0x10d397(0x5d5))throw new m([_0x10d397(0x5b5),_0x10d397(0x72e)]);try{return delete this['waMonitor'][_0x10d397(0x828)][_0x113846],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0xb4d02){throw new m(_0xb4d02['toString']());}}},ne=require(a0_0xc869c4(0x2bd)),Ht=class{constructor(_0x4bb2cd){const _0x543d03=a0_0xc869c4;this[_0x543d03(0x43e)]=_0x4bb2cd;}async[a0_0xc869c4(0x258)]({instanceName:_0x15c246},_0x57b1e4){const _0x51674d=a0_0xc869c4;return await this[_0x51674d(0x43e)][_0x51674d(0x828)][_0x15c246]['textMessage'](_0x57b1e4);}async[a0_0xc869c4(0x2e6)]({instanceName:_0x3f6327},_0x322d96){const _0x164dc9=a0_0xc869c4;return await this[_0x164dc9(0x43e)][_0x164dc9(0x828)][_0x3f6327][_0x164dc9(0x40d)](_0x322d96);}async['sendMedia']({instanceName:_0x53983a},_0x122c5c){const _0x3222ba=a0_0xc869c4;if((0x0,ne[_0x3222ba(0x731)])(_0x122c5c?.[_0x3222ba(0x665)]?.['media'])&&!_0x122c5c?.[_0x3222ba(0x665)]?.[_0x3222ba(0x2f2)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ne[_0x3222ba(0x3a8)])(_0x122c5c?.['mediaMessage']?.['media'])||(0x0,ne[_0x3222ba(0x731)])(_0x122c5c?.[_0x3222ba(0x665)]?.[_0x3222ba(0x3f2)]))return await this[_0x3222ba(0x43e)]['waInstances'][_0x53983a][_0x3222ba(0x665)](_0x122c5c);throw new m(_0x3222ba(0x149));}async[a0_0xc869c4(0x660)]({instanceName:_0x478f06},_0x33ee5b){const _0x4d8a22=a0_0xc869c4;if((0x0,ne[_0x4d8a22(0x3a8)])(_0x33ee5b[_0x4d8a22(0x123)][_0x4d8a22(0x37e)])||(0x0,ne[_0x4d8a22(0x731)])(_0x33ee5b[_0x4d8a22(0x123)][_0x4d8a22(0x37e)]))return await this['waMonitor'][_0x4d8a22(0x828)][_0x478f06]['mediaSticker'](_0x33ee5b);throw new m(_0x4d8a22(0x149));}async[a0_0xc869c4(0x3bf)]({instanceName:_0x41f891},_0x14b3d3){const _0x33391a=a0_0xc869c4;if((0x0,ne[_0x33391a(0x3a8)])(_0x14b3d3['audioMessage']['audio'])||(0x0,ne[_0x33391a(0x731)])(_0x14b3d3[_0x33391a(0x459)][_0x33391a(0x603)]))return await this[_0x33391a(0x43e)]['waInstances'][_0x41f891][_0x33391a(0x4b0)](_0x14b3d3);throw new m(_0x33391a(0x149));}async['sendButtons']({instanceName:_0x1fbb44},_0x589ae9){const _0x53ef06=a0_0xc869c4;return await this[_0x53ef06(0x43e)][_0x53ef06(0x828)][_0x1fbb44][_0x53ef06(0x41a)](_0x589ae9);}async[a0_0xc869c4(0x6fb)]({instanceName:_0x4f9201},_0x47e082){const _0x2a5ff5=a0_0xc869c4;return await this[_0x2a5ff5(0x43e)]['waInstances'][_0x4f9201]['locationMessage'](_0x47e082);}async['sendPoll']({instanceName:_0x336e43},_0x4b097a){const _0x3c634d=a0_0xc869c4;return await this[_0x3c634d(0x43e)]['waInstances'][_0x336e43]['pollMessage'](_0x4b097a);}async[a0_0xc869c4(0x326)]({instanceName:_0x313778},_0x36b119){const _0x92a45f=a0_0xc869c4;return await this['waMonitor']['waInstances'][_0x313778][_0x92a45f(0x538)](_0x36b119);}async['sendContact']({instanceName:_0x5d046b},_0x58b1b4){const _0x564aa7=a0_0xc869c4;return await this['waMonitor'][_0x564aa7(0x828)][_0x5d046b][_0x564aa7(0x236)](_0x58b1b4);}async[a0_0xc869c4(0x70a)]({instanceName:_0x67bf3b},_0x3c26fe){const _0xe2d9a7=a0_0xc869c4;if(!_0x3c26fe[_0xe2d9a7(0x282)][_0xe2d9a7(0x696)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0xe2d9a7(0x3c1));return await this[_0xe2d9a7(0x43e)][_0xe2d9a7(0x828)][_0x67bf3b][_0xe2d9a7(0x282)](_0x3c26fe);}async[a0_0xc869c4(0x76c)]({instanceName:_0x236640},_0x53aad8){const _0x34fbe7=a0_0xc869c4;return await this['waMonitor'][_0x34fbe7(0x828)][_0x236640][_0x34fbe7(0x24c)](_0x53aad8);}},Pi=require('jsonwebtoken'),js=require('uuid'),Kt=class u{constructor(_0x5b7269,_0x3ed479,_0x46e0a9){const _0x490290=a0_0xc869c4;this['configService']=_0x5b7269,this[_0x490290(0x43e)]=_0x3ed479,this[_0x490290(0x77f)]=_0x46e0a9,this['logger']=new $(u[_0x490290(0x15e)]);}async[a0_0xc869c4(0x582)](_0x1d7ce4){const _0x4b7fa1=a0_0xc869c4;let _0x3f4d28=this[_0x4b7fa1(0x3a6)][_0x4b7fa1(0x1d4)](_0x4b7fa1(0x6aa))[_0x4b7fa1(0x63d)],_0x24f753=(0x0,Pi['sign'])({'instanceName':_0x1d7ce4['instanceName'],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x3f4d28[_0x4b7fa1(0x53b)],{'expiresIn':_0x3f4d28[_0x4b7fa1(0x82f)],'encoding':_0x4b7fa1(0x523),'subject':_0x4b7fa1(0x308)}),_0x305b71=await this[_0x4b7fa1(0x77f)][_0x4b7fa1(0x6e8)][_0x4b7fa1(0x5de)]({'jwt':_0x24f753},_0x1d7ce4[_0x4b7fa1(0x77a)]);if(_0x305b71[_0x4b7fa1(0x3d2)])throw this['logger'][_0x4b7fa1(0x3d2)]({'localError':u[_0x4b7fa1(0x15e)]+'.jwt','error':_0x305b71[_0x4b7fa1(0x3d2)]}),new m('Authentication\x20error',_0x305b71[_0x4b7fa1(0x3d2)]?.[_0x4b7fa1(0x806)]());return{'jwt':_0x24f753};}async['apikey'](_0x4a8783){const _0x16e838=a0_0xc869c4;let _0x44d606=(0x0,js['v4'])()['toUpperCase'](),_0x468863=await this['repository'][_0x16e838(0x6e8)][_0x16e838(0x5de)]({'apikey':_0x44d606},_0x4a8783[_0x16e838(0x77a)]);if(_0x468863['error'])throw this[_0x16e838(0x246)][_0x16e838(0x3d2)]({'localError':u[_0x16e838(0x15e)]+_0x16e838(0x59f),'error':_0x468863['error']}),new m('Authentication\x20error',_0x468863['error']?.[_0x16e838(0x806)]());return{'apikey':_0x44d606};}async[a0_0xc869c4(0x28e)](_0x18e324){const _0x4ac180=a0_0xc869c4;let _0x453b69=this[_0x4ac180(0x3a6)][_0x4ac180(0x1d4)](_0x4ac180(0x6aa));return await this[_0x453b69[_0x4ac180(0x2ec)]](_0x18e324);}},Qt=class{constructor(_0x113380){this['waMonitor']=_0x113380;}async[a0_0xc869c4(0x1c3)](_0x2084a6,_0x59262e){const _0xc6360f=a0_0xc869c4;return await this['waMonitor'][_0xc6360f(0x828)][_0x2084a6['instanceName']][_0xc6360f(0x1c3)](_0x59262e);}async[a0_0xc869c4(0x415)](_0x383ef0,_0xcb8142){const _0x2ffe9e=a0_0xc869c4;return await this[_0x2ffe9e(0x43e)]['waInstances'][_0x383ef0[_0x2ffe9e(0x77a)]][_0x2ffe9e(0x415)](_0xcb8142);}async[a0_0xc869c4(0x121)](_0x4f32f4,_0x5f1aec){const _0x21420d=a0_0xc869c4;return await this[_0x21420d(0x43e)][_0x21420d(0x828)][_0x4f32f4['instanceName']][_0x21420d(0x121)](_0x5f1aec);}async[a0_0xc869c4(0x6c7)](_0x1a4bf8,_0x12a93a){const _0x1aa11b=a0_0xc869c4;return await this['waMonitor'][_0x1aa11b(0x828)][_0x1a4bf8[_0x1aa11b(0x77a)]]['groupName'](_0x12a93a);}async[a0_0xc869c4(0x85b)](_0x35de98,_0x4d2357){const _0x3571bb=a0_0xc869c4;return await this[_0x3571bb(0x43e)][_0x3571bb(0x828)][_0x35de98[_0x3571bb(0x77a)]][_0x3571bb(0x85b)](_0x4d2357);}async[a0_0xc869c4(0x460)](_0x1e6622,_0x7a1d86){const _0x132e46=a0_0xc869c4;return await this[_0x132e46(0x43e)]['waInstances'][_0x1e6622[_0x132e46(0x77a)]][_0x132e46(0x460)](_0x7a1d86);}async[a0_0xc869c4(0xd4)](_0x576e2c,_0x29ba5f){const _0x1afb4d=a0_0xc869c4;return await this[_0x1afb4d(0x43e)][_0x1afb4d(0x828)][_0x576e2c[_0x1afb4d(0x77a)]]['findGroup'](_0x29ba5f);}async[a0_0xc869c4(0x2e9)](_0x477145){const _0x235772=a0_0xc869c4;return await this[_0x235772(0x43e)][_0x235772(0x828)][_0x477145[_0x235772(0x77a)]]['findGroups']();}async['inviteCode'](_0x3860a7,_0x52df8f){const _0x38f154=a0_0xc869c4;return await this[_0x38f154(0x43e)][_0x38f154(0x828)][_0x3860a7[_0x38f154(0x77a)]][_0x38f154(0x5af)](_0x52df8f);}async['joinGroup'](_0x3bfbc4,_0x4c54cf){const _0x545e06=a0_0xc869c4;return await this[_0x545e06(0x43e)][_0x545e06(0x828)][_0x3bfbc4['instanceName']]['joinGroup'](_0x4c54cf);}async[a0_0xc869c4(0xf4)](_0x253b4f,_0x39b9d){const _0x56bc9c=a0_0xc869c4;return await this['waMonitor']['waInstances'][_0x253b4f[_0x56bc9c(0x77a)]][_0x56bc9c(0xf4)](_0x39b9d);}async[a0_0xc869c4(0x340)](_0x491bfe,_0x20252f){const _0x1d798d=a0_0xc869c4;return await this['waMonitor'][_0x1d798d(0x828)][_0x491bfe['instanceName']][_0x1d798d(0x340)](_0x20252f);}async[a0_0xc869c4(0x2a6)](_0x5d4e26,_0x5290d4){const _0x540e18=a0_0xc869c4;return await this[_0x540e18(0x43e)][_0x540e18(0x828)][_0x5d4e26[_0x540e18(0x77a)]][_0x540e18(0x2a6)](_0x5290d4);}async['updateGParticipate'](_0x157cfe,_0x486426){const _0x141a2d=a0_0xc869c4;return await this[_0x141a2d(0x43e)][_0x141a2d(0x828)][_0x157cfe[_0x141a2d(0x77a)]][_0x141a2d(0x70c)](_0x486426);}async[a0_0xc869c4(0x163)](_0x4edcaa,_0x38a64e){const _0x3d3ecb=a0_0xc869c4;return await this[_0x3d3ecb(0x43e)][_0x3d3ecb(0x828)][_0x4edcaa['instanceName']][_0x3d3ecb(0x163)](_0x38a64e);}async[a0_0xc869c4(0x22f)](_0x44378b,_0x24dad6){const _0x10a878=a0_0xc869c4;return await this[_0x10a878(0x43e)][_0x10a878(0x828)][_0x44378b[_0x10a878(0x77a)]][_0x10a878(0x22f)](_0x24dad6);}},Yt=class{constructor(_0x73324){const _0x5a08c7=a0_0xc869c4;this[_0x5a08c7(0x43e)]=_0x73324;}['create'](_0x30bac6,_0x177a7b){const _0x3837f8=a0_0xc869c4;return this[_0x3837f8(0x43e)]['waInstances'][_0x30bac6[_0x3837f8(0x77a)]][_0x3837f8(0x309)](_0x177a7b);}async[a0_0xc869c4(0x194)](_0x29d3af){const _0x56ba44=a0_0xc869c4;try{return await this['waMonitor']['waInstances'][_0x29d3af[_0x56ba44(0x77a)]][_0x56ba44(0x6c0)]();}catch{return{'enabled':null,'url':''};}}},uh=new $('FlowController'),Xt=class{constructor(_0xc3829e){const _0x19fae6=a0_0xc869c4;this[_0x19fae6(0x43e)]=_0xc3829e;}async[a0_0xc869c4(0x1b5)](_0x1aa478,_0x114a0c){const _0xcdad31=a0_0xc869c4;return await this[_0xcdad31(0x43e)][_0xcdad31(0x828)][_0x1aa478[_0xcdad31(0x77a)]]['editScheduleMessage'](_0x114a0c);}async[a0_0xc869c4(0x307)](_0x91f58c){const _0x1a1bda=a0_0xc869c4;return await this[_0x1a1bda(0x43e)][_0x1a1bda(0x828)][_0x91f58c[_0x1a1bda(0x77a)]][_0x1a1bda(0x307)]();}async[a0_0xc869c4(0x51a)](_0x4513cc){const _0xf1700c=a0_0xc869c4;return await this[_0xf1700c(0x43e)]['waInstances'][_0x4513cc[_0xf1700c(0x77a)]][_0xf1700c(0x51a)]();}async[a0_0xc869c4(0x329)](_0x46447a){const _0x16cd99=a0_0xc869c4;return await this['waMonitor']['waInstances'][_0x46447a[_0x16cd99(0x77a)]]['getAutomateSystem']();}async['updateAgent'](_0x371b41,_0x1add24){const _0x2e666d=a0_0xc869c4;return await this['waMonitor'][_0x2e666d(0x828)][_0x371b41[_0x2e666d(0x77a)]]['updateAgent'](_0x1add24);}async['updateCustomFields'](_0x5ccd96,_0x566802){const _0x9d2dd3=a0_0xc869c4;return await this[_0x9d2dd3(0x43e)][_0x9d2dd3(0x828)][_0x5ccd96[_0x9d2dd3(0x77a)]][_0x9d2dd3(0x1df)](_0x566802);}async[a0_0xc869c4(0x629)](_0x3ead18,_0x6a1092){const _0xc95504=a0_0xc869c4;return await this[_0xc95504(0x43e)][_0xc95504(0x828)][_0x3ead18['instanceName']][_0xc95504(0x629)](_0x6a1092);}async[a0_0xc869c4(0x809)](_0x47fee7,_0x3ddf75){const _0x316c3b=a0_0xc869c4;return await this['waMonitor'][_0x316c3b(0x828)][_0x47fee7[_0x316c3b(0x77a)]][_0x316c3b(0x809)](_0x3ddf75);}async[a0_0xc869c4(0x454)](_0x4ae7c0,_0x1d0ca9){const _0x1298e0=a0_0xc869c4;return await this[_0x1298e0(0x43e)][_0x1298e0(0x828)][_0x4ae7c0[_0x1298e0(0x77a)]][_0x1298e0(0x454)](_0x1d0ca9);}async[a0_0xc869c4(0x3da)](_0x425a62,_0x51604f,_0xb7b89,_0x5d12d8){const _0x311bbc=a0_0xc869c4;return await this[_0x311bbc(0x43e)]['waInstances'][_0x425a62][_0x311bbc(0x3da)](_0x51604f,_0xb7b89,_0x5d12d8);}async[a0_0xc869c4(0x355)](_0x3db146,_0x177fbe){const _0x2f2ba1=a0_0xc869c4;return await this[_0x2f2ba1(0x43e)]['waInstances'][_0x3db146[_0x2f2ba1(0x77a)]]['getConversation'](_0x177fbe);}async[a0_0xc869c4(0x81f)](_0x1454a4,_0xf79613){const _0x466549=a0_0xc869c4;return await this['waMonitor'][_0x466549(0x828)][_0x1454a4['instanceName']][_0x466549(0x81f)](_0xf79613);}async[a0_0xc869c4(0x5bc)](_0x228faa,_0xf3595a){const _0x48db25=a0_0xc869c4;return await this[_0x48db25(0x43e)][_0x48db25(0x828)][_0x228faa[_0x48db25(0x77a)]][_0x48db25(0x5bc)](_0xf3595a);}async[a0_0xc869c4(0x655)](_0x18a784,_0x1c6737){const _0x3ece37=a0_0xc869c4;return await this['waMonitor'][_0x3ece37(0x828)][_0x18a784[_0x3ece37(0x77a)]]['deleteConversation'](_0x1c6737);}async['getFlow'](_0xff0139,_0x51f6fa){const _0x470bb6=a0_0xc869c4;return await this[_0x470bb6(0x43e)]['waInstances'][_0xff0139[_0x470bb6(0x77a)]]['getFlow'](_0x51f6fa[_0x470bb6(0x59b)]);}async[a0_0xc869c4(0x116)](_0xa8c543,_0x17be13,_0x37b84d){const _0x1e2a3f=a0_0xc869c4;return await this['waMonitor'][_0x1e2a3f(0x828)][_0xa8c543['instanceName']][_0x1e2a3f(0x116)](_0x17be13,_0x37b84d);}async[a0_0xc869c4(0x46c)](_0x260a96,_0x29d2b8,_0x4bd8e4){const _0x382086=a0_0xc869c4;return await this[_0x382086(0x43e)][_0x382086(0x828)][_0x260a96[_0x382086(0x77a)]][_0x382086(0x46c)](_0x29d2b8,_0x4bd8e4);}async['editFlowBlock'](_0x404a81,_0x392183){const _0x1a65e4=a0_0xc869c4;return await this[_0x1a65e4(0x43e)][_0x1a65e4(0x828)][_0x404a81[_0x1a65e4(0x77a)]]['editFlowBlock'](_0x392183);}async['editFlowReply'](_0x2f802f,_0x581b56){const _0x27d704=a0_0xc869c4;return await this[_0x27d704(0x43e)][_0x27d704(0x828)][_0x2f802f['instanceName']][_0x27d704(0x551)](_0x581b56);}async[a0_0xc869c4(0x158)](_0x3796ba,_0x3e05da){const _0x210e84=a0_0xc869c4;return await this[_0x210e84(0x43e)][_0x210e84(0x828)][_0x3796ba[_0x210e84(0x77a)]][_0x210e84(0x158)](_0x3e05da);}async['editFlowCondition'](_0x5f06d3,_0x196e0d){const _0x2c4f78=a0_0xc869c4;return await this[_0x2c4f78(0x43e)]['waInstances'][_0x5f06d3[_0x2c4f78(0x77a)]][_0x2c4f78(0x104)](_0x196e0d);}async['editFlowVaredit'](_0x5b90ae,_0x3e0ef4){const _0x4845c3=a0_0xc869c4;return await this[_0x4845c3(0x43e)][_0x4845c3(0x828)][_0x5b90ae[_0x4845c3(0x77a)]][_0x4845c3(0x5c1)](_0x3e0ef4);}async['editFlowVariable'](_0x56f88b,_0xbb98f2){const _0x3ea24f=a0_0xc869c4;return await this[_0x3ea24f(0x43e)][_0x3ea24f(0x828)][_0x56f88b[_0x3ea24f(0x77a)]][_0x3ea24f(0x6fa)](_0xbb98f2);}async[a0_0xc869c4(0x315)](_0x326076,_0x47487d){const _0x1b2aaf=a0_0xc869c4;return await this[_0x1b2aaf(0x43e)][_0x1b2aaf(0x828)][_0x326076[_0x1b2aaf(0x77a)]][_0x1b2aaf(0x315)](_0x47487d);}async['allFlows'](_0xfd4feb){const _0x3921b2=a0_0xc869c4;return await this[_0x3921b2(0x43e)][_0x3921b2(0x828)][_0xfd4feb['instanceName']][_0x3921b2(0x490)]();}},Zt=class{constructor(_0x3e85ab){const _0x30fa97=a0_0xc869c4;this[_0x30fa97(0x840)]=_0x3e85ab;}async['createWebhook'](_0x4e0bd1,_0x5221a6){const _0x4c45b2=a0_0xc869c4;return this[_0x4c45b2(0x840)][_0x4c45b2(0x5de)](_0x4e0bd1,_0x5221a6);}async[a0_0xc869c4(0x6c0)](_0x3aaa10){const _0x34d967=a0_0xc869c4;return this[_0x34d967(0x840)][_0x34d967(0x194)](_0x3aaa10);}},es=class extends _{constructor(_0x50eea4,_0x149a3b){const _0x3a9838=a0_0xc869c4;super(_0x149a3b),this[_0x3a9838(0x3a3)]=_0x50eea4,this[_0x3a9838(0x3a6)]=_0x149a3b;}async['create'](_0x10950a,_0x16459f){const _0x45182d=a0_0xc869c4;try{return this[_0x45182d(0x73d)][_0x45182d(0x29e)]?{'insertCount':(await this[_0x45182d(0x3a3)][_0x45182d(0x298)]({'_id':_0x16459f},{..._0x10950a},{'upsert':!0x0}))[_0x45182d(0x707)]}:{'insertCount':0x1};}catch(_0xd42f43){return _0xd42f43;}}async[a0_0xc869c4(0x7c3)](_0x4ae7fd){const _0x110fd5=a0_0xc869c4;try{if(this[_0x110fd5(0x73d)][_0x110fd5(0x29e)]){await this[_0x110fd5(0x3a3)][_0x110fd5(0xc7)]({'_id':_0x4ae7fd});return;}}catch(_0x332f47){return{'error':_0x332f47};}}async['find'](_0x4ff8bd){const _0x17ade3=a0_0xc869c4;try{if(this[_0x17ade3(0x73d)][_0x17ade3(0x29e)])return await this[_0x17ade3(0x3a3)]['findOne']({'_id':_0x4ff8bd});}catch{return{};}}},ts=class extends _{constructor(_0x5bb285,_0x4da1a1){const _0x47bd75=a0_0xc869c4;super(_0x4da1a1),this[_0x47bd75(0x165)]=_0x5bb285,this[_0x47bd75(0x3a6)]=_0x4da1a1,this['auth']=_0x4da1a1[_0x47bd75(0x1d4)](_0x47bd75(0x6aa));}async[a0_0xc869c4(0x5de)](_0x37bacb,_0x8a01d4){const _0x572725=a0_0xc869c4;try{if(this['dbSettings'][_0x572725(0x29e)])return{'insertCount':(await this[_0x572725(0x165)][_0x572725(0x2a2)]({'_id':_0x8a01d4},{'$set':{..._0x37bacb}},{'upsert':!0x0}))[_0x572725(0x707)]};}catch(_0x4573cb){return{'error':_0x4573cb};}}async['updateAll'](_0x20399c,_0x54025b){const _0x2882fa=a0_0xc869c4;try{if(this[_0x2882fa(0x73d)][_0x2882fa(0x29e)])return{'insertCount':(await this['authModel']['updateMany'](_0x20399c,{'$set':_0x54025b},{'upsert':!0x1}))[_0x2882fa(0x707)]};throw new Error(_0x2882fa(0x1f2));}catch(_0xbbdfa4){return{'error':_0xbbdfa4};}}async[a0_0xc869c4(0x1ec)](_0x3d7655){const _0x123f94=a0_0xc869c4;try{if(this[_0x123f94(0x73d)]['ENABLED'])return{'insertCount':(await this[_0x123f94(0x165)][_0x123f94(0x1ec)](_0x3d7655))[_0x123f94(0x173)]};throw new Error(_0x123f94(0x792));}catch(_0x425508){return{'error':_0x425508};}}async[a0_0xc869c4(0x7c3)](_0x533d55){const _0x474eca=a0_0xc869c4;try{if(this[_0x474eca(0x73d)][_0x474eca(0x29e)]){await this[_0x474eca(0x165)]['deleteOne']({'_id':_0x533d55});return;}}catch(_0x31df89){return{'error':_0x31df89};}}async[a0_0xc869c4(0x194)](_0x1d8e30){const _0x5cd7c6=a0_0xc869c4;try{if(this['dbSettings'][_0x5cd7c6(0x29e)])return await this['authModel'][_0x5cd7c6(0x4d6)]({'_id':_0x1d8e30});}catch{return{};}}async[a0_0xc869c4(0x74e)](){const _0x39a719=a0_0xc869c4;try{if(this[_0x39a719(0x73d)][_0x39a719(0x29e)])return await this['authModel']['find']();}catch{return[];}}async['findMany'](_0x35d258){const _0x5e0fd4=a0_0xc869c4;try{if(this[_0x5e0fd4(0x73d)][_0x5e0fd4(0x29e)])return await this['authModel']['find'](_0x35d258);}catch{return[];}}},ss=class extends _{async[a0_0xc869c4(0xc7)](_0x19947a){const _0x512d91=a0_0xc869c4;try{let _0x4700ee=A(_0x19947a[_0x512d91(0x732)]);return{'deletedCount':(await Ce[_0x512d91(0xc7)](_0x4700ee))[_0x512d91(0x173)]};}catch(_0x58b71a){return{'error':_0x58b71a?.['toString']()};}}async[a0_0xc869c4(0x2a2)](_0x583ca4,_0x5f5906){const _0x257416=a0_0xc869c4;try{let _0x3c685f=await Ce[_0x257416(0x1a5)](_0x583ca4);return _0x3c685f?(Object[_0x257416(0x7cb)](_0x3c685f,_0x5f5906),await _0x3c685f[_0x257416(0x821)]()):(console[_0x257416(0x3d2)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x583ca4),null);}catch(_0x37ea01){return console['error'](_0x257416(0x1e9),_0x37ea01),null;}}async[a0_0xc869c4(0x407)](_0xfddbde){try{return await new Ce(_0xfddbde)['save']();}catch(_0x2bdb22){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x2bdb22),null;}}async['findAll'](_0x52cdfe){const _0x33aecf=a0_0xc869c4;try{let _0xe9f7d8=_0x52cdfe[_0x33aecf(0x732)]??{};return await Ce[_0x33aecf(0x194)](_0xe9f7d8)[_0x33aecf(0x720)](_0x52cdfe['limit']??0x0)[_0x33aecf(0x11a)]();}catch(_0x4ba484){return console[_0x33aecf(0x3d2)]('Erro\x20ao\x20buscar\x20fluxos:',_0x4ba484),[];}}async['findOne'](_0x41b8e6){const _0x2dbc98=a0_0xc869c4;try{let _0xfb1d36=A(_0x41b8e6[_0x2dbc98(0x732)]);return await Ce['findOne'](_0xfb1d36)[_0x2dbc98(0x11a)]();}catch{return null;}}},as=class extends _{[a0_0xc869c4(0x6fc)](_0x250272){return Sa(_0x250272);}async['insert'](_0x15b39e){const _0x5eee99=a0_0xc869c4;if(_0x15b39e['length']!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x15b39e[0x0][_0x5eee99(0x436)])[_0x5eee99(0x183)]([..._0x15b39e]))[_0x5eee99(0x4c6)]};}catch(_0x50e6bd){return _0x50e6bd;}}async['delete'](_0x23f0a9,_0x29f305){const _0x2ac720=a0_0xc869c4;try{let _0x58d0dd=this['getConversationModelForOwner'](_0x29f305),_0x302a07=A(_0x23f0a9[_0x2ac720(0x732)]);return{'deletedCount':(await _0x58d0dd[_0x2ac720(0x1ec)](_0x302a07))['deletedCount']};}catch(_0x52e575){return{'error':_0x52e575?.[_0x2ac720(0x806)]()};}}async[a0_0xc869c4(0xc7)](_0x56956b,_0x351b58){const _0x333137=a0_0xc869c4;try{let _0x4083c1=this[_0x333137(0x6fc)](_0x351b58),_0x1e280c=A(_0x56956b[_0x333137(0x732)]);return{'deletedCount':(await _0x4083c1[_0x333137(0xc7)](_0x1e280c))[_0x333137(0x173)]};}catch(_0x49583a){return{'error':_0x49583a?.['toString']()};}}async['update'](_0x5474da,_0x242d11){const _0x366570=a0_0xc869c4;try{if(_0x5474da[_0x366570(0x4c6)]===0x0)return;let _0x38ca87=this[_0x366570(0x6fc)](_0x242d11),_0x3790e6=_0x5474da['map'](_0x3f5a52=>({'updateOne':{'filter':{'name':_0x3f5a52[_0x366570(0x15e)],'owner':_0x242d11},'update':{..._0x3f5a52}}})),{modifiedCount:_0x2be40c}=await _0x38ca87[_0x366570(0x229)](_0x3790e6);return{'insertCount':_0x2be40c};}catch{return;}}async[a0_0xc869c4(0x414)](_0x5663cf,_0xa5ee2c,_0x58a1e4){const _0x228bab=a0_0xc869c4;try{return{'modifiedCount':(await this[_0x228bab(0x6fc)](_0x58a1e4)[_0x228bab(0x414)](_0x5663cf,{'$set':_0xa5ee2c})[_0x228bab(0x866)]())['modifiedCount']};}catch(_0x1c127c){return console[_0x228bab(0x3d2)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x1c127c),{'error':_0x1c127c};}}async[a0_0xc869c4(0x2a2)](_0x2ee5d3,_0x5f357d,_0x4424ff){const _0x3b0080=a0_0xc869c4;try{return await this['getConversationModelForOwner'](_0x4424ff)['findOneAndUpdate']({'_id':_0x2ee5d3},{'$set':_0x5f357d},{'new':!0x0,'upsert':!0x0})[_0x3b0080(0x11a)]();}catch(_0x50cc75){return console[_0x3b0080(0x3d2)](_0x50cc75),null;}}async[a0_0xc869c4(0x194)](_0x22ecdb,_0x79fedc){const _0x405513=a0_0xc869c4;try{return await this['getConversationModelForOwner'](_0x79fedc)[_0x405513(0x194)](_0x22ecdb)[_0x405513(0x822)]({'lastInteraction':-0x1})[_0x405513(0x11a)]();}catch{return[];}}async[a0_0xc869c4(0x4d6)](_0xcc7b8d,_0x4e7348){const _0x173504=a0_0xc869c4;try{return await this[_0x173504(0x6fc)](_0x4e7348)['findOne']({..._0xcc7b8d[_0x173504(0x732)]})[_0x173504(0x11a)]();}catch{return null;}}async[a0_0xc869c4(0x417)](_0x51da04){const _0x1e65fe=a0_0xc869c4;try{return await this[_0x1e65fe(0x6fc)](_0x51da04)[_0x1e65fe(0x586)][_0x1e65fe(0x4e0)](),{'success':!0x0};}catch(_0x34f0ed){return console[_0x1e65fe(0x3d2)](_0x34f0ed),{'success':!0x1,'error':_0x34f0ed};}}},is=class extends _{[a0_0xc869c4(0x6c6)](_0x4ababd){return Ma(_0x4ababd);}async['bulkWrite'](_0x2f39aa,_0x179fae){const _0x59d2a2=a0_0xc869c4;try{return await this[_0x59d2a2(0x6c6)](_0x179fae)['bulkWrite'](_0x2f39aa);}catch(_0x5b55d3){return console[_0x59d2a2(0x3d2)](_0x59d2a2(0x14e),_0x5b55d3),null;}}async[a0_0xc869c4(0x407)](_0x3d9371,_0x413d34){const _0x28db05=a0_0xc869c4;try{let _0xe59bfe=this['getScheduleMessageModelForOwner'](_0x413d34);return await new _0xe59bfe(_0x3d9371)[_0x28db05(0x821)]();}catch(_0x31f6c9){return console[_0x28db05(0x3d2)](_0x28db05(0x676),_0x31f6c9),null;}}async[a0_0xc869c4(0xc7)](_0x4a22a8,_0x1d3db2){const _0x10b412=a0_0xc869c4;try{return await this['getScheduleMessageModelForOwner'](_0x1d3db2)[_0x10b412(0x20d)](_0x4a22a8),{};}catch(_0x3ff422){return{'error':_0x3ff422?.['toString']()};}}async[a0_0xc869c4(0x2a2)](_0x343876,_0x2dd2b5,_0x25c3d9,_0x59f995={}){const _0x3dfac5=a0_0xc869c4;try{return await this[_0x3dfac5(0x6c6)](_0x25c3d9)[_0x3dfac5(0x59c)](_0x343876,_0x2dd2b5,{..._0x59f995,'new':!0x0})[_0x3dfac5(0x11a)]();}catch(_0x3e4590){return console[_0x3dfac5(0x3d2)](_0x3dfac5(0x6ce),_0x3e4590),null;}}async['updateOneById'](_0x29f443,_0xc3d7ef,_0x19e874){const _0x5ba5c1=a0_0xc869c4;try{return await this[_0x5ba5c1(0x6c6)](_0x19e874)['findByIdAndUpdate'](_0x29f443,_0xc3d7ef,{'new':!0x0})[_0x5ba5c1(0x11a)]();}catch(_0x21ef9f){return console[_0x5ba5c1(0x3d2)](_0x5ba5c1(0x6ce),_0x21ef9f),null;}}async[a0_0xc869c4(0x194)](_0x192b33,_0x235fe4){const _0x537ed7=a0_0xc869c4;try{return await this[_0x537ed7(0x6c6)](_0x235fe4)['find'](_0x192b33[_0x537ed7(0x732)])[_0x537ed7(0x720)](_0x192b33?.[_0x537ed7(0x720)]??0x0)[_0x537ed7(0x822)]({'when':0x1})[_0x537ed7(0x11a)]();}catch{return[];}}async[a0_0xc869c4(0x4d6)](_0xed3097,_0x371635){const _0x34fcf7=a0_0xc869c4;try{return await this[_0x34fcf7(0x6c6)](_0x371635)[_0x34fcf7(0x4d6)](_0xed3097[_0x34fcf7(0x732)])[_0x34fcf7(0x822)]({'when':0x1})[_0x34fcf7(0x11a)]();}catch{return null;}}async['findById'](_0x352a55,_0x48cfab){const _0x26237e=a0_0xc869c4;try{return await this[_0x26237e(0x6c6)](_0x48cfab)[_0x26237e(0x1a5)](_0x352a55)['lean']();}catch{return null;}}async[a0_0xc869c4(0x1ec)](_0x1477bb,_0xf856e7){const _0x42bdc8=a0_0xc869c4;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0xf856e7)['deleteMany'](_0x1477bb))['deletedCount']};}catch(_0x1465fd){return console[_0x42bdc8(0x3d2)](_0x42bdc8(0x269),_0x1465fd),{'error':_0x1465fd};}}async[a0_0xc869c4(0x417)](_0x51e831){const _0x4d13ed=a0_0xc869c4;try{return await this[_0x4d13ed(0x6c6)](_0x51e831)[_0x4d13ed(0x586)][_0x4d13ed(0x4e0)](),{'success':!0x0};}catch(_0x6887d8){return console[_0x4d13ed(0x3d2)](_0x6887d8),{'success':!0x1,'error':_0x6887d8};}}},os=class extends _{async[a0_0xc869c4(0x6cc)](_0x4d5e66,_0x5a1825){const _0x57d78a=a0_0xc869c4;try{if(this[_0x57d78a(0x73d)]['ENABLED'])return await Ie['findOneAndUpdate']({'_id':_0x5a1825},{'$set':_0x4d5e66},{'new':!0x0});}catch(_0x3bc9b4){throw console[_0x57d78a(0x3d2)](_0x57d78a(0x706),_0x3bc9b4),_0x3bc9b4;}}async[a0_0xc869c4(0x846)](_0x18470f){const _0x550826=a0_0xc869c4;try{let _0x5bd6db=await Ie[_0x550826(0x1a5)](_0x18470f);return _0x5bd6db?_0x5bd6db[_0x550826(0x7e0)]||(_0x5bd6db[_0x550826(0x7e0)]=[],await _0x5bd6db[_0x550826(0x821)]()):(_0x5bd6db=new Ie({'_id':_0x18470f,'autoCompleteMessages':[]}),await _0x5bd6db['save']()),_0x5bd6db;}catch(_0x23ae4f){return _0x23ae4f[_0x550826(0x60d)]===0x2af8&&_0x23ae4f['keyPattern']&&_0x23ae4f[_0x550826(0x51d)][_0x550826(0x688)]?(console[_0x550826(0x3d2)](_0x550826(0x1c0)),await Ie[_0x550826(0x586)][_0x550826(0x393)](_0x550826(0x196)),null):(console[_0x550826(0x3d2)](_0x550826(0x7d0),_0x23ae4f),null);}}},Jo=new $(a0_0xc869c4(0x280)),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ne(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0xc869c4(0x57f)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),O=new Xt(G),ue=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0xc869c4(0x7b4)](a0_0xc869c4(0x7a1));var Ag=require('express-async-errors'),Js=require('fs'),Di=I(require(a0_0xc869c4(0x38f))),ki=I(require(a0_0xc869c4(0x3cc))),je=class u{static #e;static set['app'](_0x1624f9){this.#e=_0x1624f9;}static get[a0_0xc869c4(0x38f)](){const _0x41a83b=a0_0xc869c4;let {FULLCHAIN:_0x2eb46,PRIVKEY:_0xdfe373}=S[_0x41a83b(0x1d4)]('SSL_CONF');return Di[_0x41a83b(0xff)]({'cert':(0x0,Js['readFileSync'])(_0x2eb46),'key':(0x0,Js[_0x41a83b(0x275)])(_0xdfe373)},u.#e);}static get[a0_0xc869c4(0x3cc)](){const _0x8d1253=a0_0xc869c4;return ki[_0x8d1253(0xff)](u.#e);}},Je=I(require('fs')),qi=I(require(a0_0xc869c4(0x6ab))),qe=I(require(a0_0xc869c4(0x5cd))),ns=I(require(a0_0xc869c4(0x814))),rs=require(a0_0xc869c4(0x519));function ar(){const _0x420db3=a0_0xc869c4;G[_0x420db3(0x815)]();let _0x4ec47f=ns[_0x420db3(0xef)][_0x420db3(0x29a)](__dirname,_0x420db3(0x291));Ji(_0x4ec47f);}var Ji=_0x33590f=>{const _0x11213=a0_0xc869c4;let _0x543134=Je[_0x11213(0xef)][_0x11213(0x2f4)](_0x33590f),_0x17da71=0xc*0x3c*0x3c*0x3e8,_0x47b023=0x2*0x3c*0x3c*0x3e8,_0x5e69ce=new Date()[_0x11213(0x1f9)]();_0x543134[_0x11213(0x64a)](_0x508cee=>{const _0x3f6372=_0x11213;let _0x24bc16=ns[_0x3f6372(0xef)][_0x3f6372(0x29a)](_0x33590f,_0x508cee),_0x4c2c81=Je[_0x3f6372(0xef)][_0x3f6372(0x41d)](_0x24bc16)['birthtime'][_0x3f6372(0x1f9)]();_0x5e69ce-_0x4c2c81>_0x17da71&&(Je[_0x3f6372(0xef)][_0x3f6372(0x615)](_0x24bc16),console['log'](_0x3f6372(0x5d1)+_0x508cee));}),setTimeout(()=>Ji(_0x33590f),_0x47b023);};function ir(){const _0x563060=a0_0xc869c4;let _0x4ff6d0=new $(_0x563060(0x81d)),_0x46c186=(0x0,ye[_0x563060(0xef)])();_0x46c186[_0x563060(0x559)]((0x0,ji['default'])({'origin'(_0x254c3a,_0x29db84){const _0x18f2cb=_0x563060;let {ORIGIN:_0x558f9a}=S['get'](_0x18f2cb(0x1b1));return _0x254c3a||(_0x254c3a='*'),_0x558f9a[_0x18f2cb(0x6b0)]('*')!==-0x1||_0x558f9a[_0x18f2cb(0x6b0)](_0x254c3a)!==-0x1?_0x29db84(null,!0x0):_0x29db84(new Error(_0x18f2cb(0x677)));},'methods':[...S[_0x563060(0x1d4)](_0x563060(0x1b1))[_0x563060(0x78e)]],'credentials':S['get'](_0x563060(0x1b1))['CREDENTIALS']}),(0x0,ye[_0x563060(0x10b)])({'extended':!0x0,'limit':_0x563060(0x6f1)}),(0x0,ye['json'])({'limit':_0x563060(0x6f1)})),_0x46c186[_0x563060(0x559)]((_0x4665b7,_0x1dcf7a,_0x393179)=>{const _0x577759=_0x563060;_0x4665b7[_0x577759(0x814)][_0x577759(0x24d)](_0x577759(0x627))?_0x393179():(0x0,Ui[_0x577759(0xef)])()(_0x4665b7,_0x1dcf7a,_0x393179);}),_0x46c186[_0x563060(0x40c)](_0x563060(0x270),_0x563060(0x1ab)),_0x46c186[_0x563060(0x40c)](_0x563060(0x75b),(0x0,Vs[_0x563060(0x29a)])(ce,'views')),_0x46c186[_0x563060(0x559)](ye['default']['static']((0x0,Vs['join'])(ce,_0x563060(0x847)))),_0x46c186['use']((_0x3da2f6,_0x59b14d,_0x4163b5)=>{const _0x92d979=_0x563060;let _0xaea804=_0x59b14d[_0x92d979(0xca)];_0x59b14d[_0x92d979(0xca)]=function(_0x47e412){const _0x47f283=_0x92d979;if(_0x3da2f6[_0x47f283(0x657)][_0x47f283(0x72a)]===_0x47f283(0x611)||_0x3da2f6[_0x47f283(0x125)][_0x47f283(0x684)]==='true'){let _0x47550f=JSON['parse'](_0x47e412);_0x47e412=JSON[_0x47f283(0x563)](_0x13217f(_0x47550f));}return _0xaea804[_0x47f283(0x128)](_0x59b14d,[_0x47e412]);},_0x4163b5();}),_0x46c186['use']('/',Le),_0x46c186['use']((_0x58d723,_0x3f0f23,_0x3d217e,_0x3ed134)=>{const _0x2746c9=_0x563060;if(_0x58d723)return _0x3d217e[_0x2746c9(0x202)](_0x58d723['status']||0x1f4)[_0x2746c9(0x534)](_0x58d723);},(_0x59f1b8,_0x36fd6d,_0x121f83)=>{const _0x365831=_0x563060;let {method:_0x58ac04,url:_0x20710c}=_0x59f1b8;_0x36fd6d[_0x365831(0x202)](0x194)[_0x365831(0x534)]({'status':0x194,'message':'Cannot\x20'+_0x58ac04[_0x365831(0x15b)]()+'\x20'+_0x20710c,'error':_0x365831(0x41c)}),_0x121f83();});let _0x13217f=(_0x4f02f4,_0x205334=_0x563060(0x445))=>{const _0x31abed=_0x563060;let _0x17051d=(_0x1d98e9,_0x3b8a75=null,_0x55bb1b=!0x1)=>{const _0x5a6c1c=a0_0x3de4;let _0x5288ca={};return Object['keys'](_0x1d98e9)[_0x5a6c1c(0x64a)](_0x477fa0=>{const _0x5d2fef=_0x5a6c1c;let _0x4b19e2=_0x1d98e9[_0x477fa0],_0x1509f6=''+_0x205334+_0x477fa0;_0x3b8a75&&!_0x55bb1b&&(_0x1509f6=_0x3b8a75+'.'+_0x477fa0),!_0x4b19e2&&_0x4b19e2!==0x0&&_0x4b19e2!==!0x1||typeof _0x4b19e2>'u'?_0x5288ca[_0x1509f6]=null:typeof _0x4b19e2!=_0x5d2fef(0xfe)&&!Array[_0x5d2fef(0x585)](_0x4b19e2)?_0x5288ca[_0x1509f6]=_0x4b19e2:typeof _0x4b19e2=='object'&&!Array[_0x5d2fef(0x585)](_0x4b19e2)?_0x5288ca=Object[_0x5d2fef(0x7cb)](_0x5288ca,_0x17051d(_0x4b19e2,_0x1509f6)):Array[_0x5d2fef(0x585)](_0x4b19e2)&&(typeof _0x4b19e2[0x0]==_0x5d2fef(0xfe)?(_0x5288ca[_0x1509f6]=[],_0x4b19e2['forEach'](_0x1b3d74=>{const _0x2a1b6d=_0x5d2fef;_0x5288ca[_0x1509f6][_0x2a1b6d(0x14c)](_0x17051d(_0x1b3d74,_0x1509f6,!0x0));})):_0x5288ca[_0x1509f6]=_0x4b19e2);}),_0x5288ca;};return Array[_0x31abed(0x585)](_0x4f02f4)?_0x4f02f4['map'](_0x4889aa=>_0x17051d(_0x4889aa)):typeof _0x4f02f4==_0x31abed(0xfe)&&_0x4f02f4!==null?_0x17051d(_0x4f02f4):{};},_0x26418d=S[_0x563060(0x1d4)](_0x563060(0x81d));je[_0x563060(0x6cf)]=_0x46c186;let _0x4e6430=je[_0x26418d['TYPE']],_0x39aae7=_0x563060(0x72f);_0x4e6430['listen'](_0x26418d[_0x563060(0x458)],()=>{const _0x218da2=_0x563060;_0x4ff6d0[_0x218da2(0x114)](_0x39aae7),_0x4ff6d0[_0x218da2(0x114)](_0x26418d[_0x218da2(0x2ec)]['toUpperCase']()+_0x218da2(0x68b)+_0x26418d[_0x218da2(0x458)]);}),ar(),Zs();}var or=a0_0xc869c4(0x143),rr=ns[a0_0xc869c4(0xef)]['join'](__dirname,'./.git/config'),Ae=null;function nr(){return new Promise((_0x3c1da1,_0x59a46b)=>{const _0x16c008=a0_0x3de4;Je['default'][_0x16c008(0x423)](rr,_0x16c008(0x6e5),(_0x50a450,_0x5b8ca9)=>{const _0x16d385=_0x16c008;if(_0x50a450){Ae=_0x50a450,_0x3c1da1();return;}qi[_0x16d385(0xef)][_0x16d385(0x50b)](_0x5b8ca9)[_0x16d385(0x66a)]['url']===or?(Ae=null,_0x3c1da1()):(Ae=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x3c1da1());});});}async function cr(){const _0x47179a=a0_0xc869c4;try{await nr(),await Bi();}catch(_0x46587a){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x46587a),process[_0x47179a(0x6a6)](0x1);}}cr();async function Vi(){const _0x52ff27=a0_0xc869c4;let _0x3c2ee9;try{_0x3c2ee9=(await qe[_0x52ff27(0xef)][_0x52ff27(0x1d4)](_0x52ff27(0x761)))[_0x52ff27(0x3df)]['ip'];}catch(_0x8e5efb){console[_0x52ff27(0x3d2)](_0x8e5efb);try{_0x3c2ee9=(await qe[_0x52ff27(0xef)][_0x52ff27(0x1d4)](_0x52ff27(0x20f)))[_0x52ff27(0x3df)]['ip'];}catch(_0x13485d){console['error'](_0x13485d);try{_0x3c2ee9=(await qe[_0x52ff27(0xef)][_0x52ff27(0x1d4)]('http://checkip.dyndns.org'))[_0x52ff27(0x3df)][_0x52ff27(0x2f6)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x5bae7d){return console[_0x52ff27(0x3d2)](_0x5bae7d),!0x1;}}}return _0x3c2ee9;}var Li=0x0;async function lr(){const _0x45095f=a0_0xc869c4;let _0x409863=await new de(S['get'](_0x45095f(0x506)))[_0x45095f(0x4a8)]();return console[_0x45095f(0x114)](_0x45095f(0x7d3),_0x409863[_0x45095f(0x4c6)]),_0x409863[_0x45095f(0x4c6)];}function a0_0x460b(){const _0x53700c=['.fileUrl','\x20do\x20chat\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Removing\x20excess\x20IPv6\x20address:\x20','uncaughtException','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Error\x20adding\x20IPv6\x20address:\x20','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','\x1b[30m','created','expression','request\x20received\x20in\x20editFlowvariable','ip:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','request\x20received\x20in\x20getFlow','flowConversation','StatusJidList\x20is\x20required','):\x20Erro\x20durante\x20a\x20atualização:\x20','getLabelModelForOwner','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','content','\x27\x20não\x20encontrado','\x20não\x20encontrado\x20para\x20atualização.','mongodb','.mp3','spawn','instance','processPollUpdateMessage','quoted','processclearVariables','segundos','toString','\x1b[31m%s\x1b[0m','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','updateFlowConfig','_Messages','listType','.url','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','):Fetching\x20business\x20profile','Message\x20absent\x20from\x20node','delayChatLabel_MAX_RETRIES','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Buscando\x20flow,\x20id:\x20','processApiRequest','path','loadInstance','\x20contacts','flowStopMinutes','subjectOwner','choices','ephemeralExpiration','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20isVote:\x20','SERVER','Group\x20not\x20found','fetchConversation','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','save','sort','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','addresss','parseInt','username','waInstances','dropCollection','generateWAMessageFromContent','button','request\x20received\x20in\x20getAutomateSystem','viewOnceMessageV2','promisify','EXPIRIN_IN','isListOfNumbers','process','request\x20received\x20in\x20getConversation','CHATS_DELETE','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','leadInfo.atendimentoAberto','chats.upsert','\x20não\x20encontrado\x20para\x20cópia','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','ms\x20(tentativa\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','2452pIsbvz','body','updateStopChat','Reiniciando\x20a\x20aplicação...','state','webhookService','cors','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','):Image\x20is\x20base64','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','boolean','findOrCreate','public',',\x20valor\x20passado:\x20\x22','logout','saveVariable','upperCase','AUTHENTICATION_JWT_EXPIRIN_IN','No\x20excess\x20IPv6\x20addresses\x20to\x20remove.','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','11045wtDgMU','templateButtonReplyMessage','groupSettingUpdate','Error\x20parsing\x20JSON:','stopWhenYouSendMsg','selectedButtonId','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','chats','Selecione\x20uma\x20opção','isValidIPv6Config','DELETED','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','groupBetterSetting','router','entries','preview','reviver','):\x20Bloco\x20original\x20para\x20cópia:\x20','onWhatsApp','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','/wa-qrcode','exec','readData','isJidUser','chats.update','unreadCount','/64\x20dev\x20','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','editChat','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','deleteOne','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','pollUpdateMessage','send','paused','DATABASE_CONNECTION_USER','apiResponse','createIPv6','message_normalized','participants','deleteflow','vote','?timestamp=','findGroupInfo','hasOwnProperty','stateConnection','sticker','):Output\x20path:\x20','gifPlayback','joinApprovalMode','}}\x20->\x20valor\x20não\x20encontrado','privacySettings','Error\x20fetching\x20IPv6\x20count:\x20','buttonParamsJson','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','Botão\x201','removeProfilePicture','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','errors','announce','method','Error\x20finding\x20many\x20contacts:','MESSAGES_UPSERT','LOG','video','data:\x20','cachedContacts-whatsapp','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','getChatModelForOwner','default','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','instanceName\x20not\x20provided.','eventHandler','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','groupGetInviteInfo','Erro\x20ao\x20adicionar\x20label\x20','STORE_CHATS','@redis/client','poll','SEND_MESSAGE','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','setHeader','pictureUrl','object','createServer','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','scheduleMessage','):\x20\x27Enviando\x20mídia\x20para\x20\x27','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','editFlowCondition','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','getDelay','updateConversation','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','#d3a91f','request\x20received\x20in\x20deleteFlow','urlencoded','dbServer','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','StartBot','ephemeralDuration','fakeReceived','):\x20tem\x20blocks',',\x20canSendMessage:\x20','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','log','#dfaef0','createFlow','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','archived','redis://127.0.0.1:6379','lean','archiveChat','format','updateMessage','goNextblock','sendPoll','isBusinessInstance','groupDesc','):\x20Editando\x20mensagens\x20no\x20grupo...','stickerMessage','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','headers','automateSystem','#ffffff','apply','fullName','):\x20whoCanUse\x20before\x20validation:\x20','Error\x20fetching\x20IPv6\x20addresses:\x20','groupRequestParticipantsUpdate','scheduled','SERVER_ACK','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Network\x20Interface\x20detected:\x20','pollErrorMessage','\x1b[32m','editflowvariable','cpf','PRIVKEY','isInteger','lastRealGroupsFetch','insert','request\x20received\x20in\x20createFlow','):\x20Procurando\x20conversa','[all]','creds','Instance\x20\x22','updateBlock','HOST','.webm','thumbnailUrl','fileUrl','https://github.com/uazapi/uazapi.git','createHash','shareFlow','@whiskeysockets/baileys','leadInfo.','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','ConversationModel','GROUP_PARTICIPANTS_UPDATE','push','):\x20Deletando\x20conversa...','Erro\x20ao\x20executar\x20bulkWrite:','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','#9ba6ff','processScheduleFlow','off','action','muteEndTime','type','longitude','font','editFlowGroup','deleted','bateu\x20events','toUpperCase','):\x20Label\x20','singleSelectReply','name','response','charAt','\x1b[1m','AutomateSystem','toggleEphemeral','count','authModel','docker','replaceVariablesInReplyOptions','createButtonsFromValues','output','listResponseMessage','dayjs','getProfileName','author','StartID:','authState','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','archive','deletedCount','SINGLE_SELECT','getVariablesChat','\x20Tentativa\x20de\x20reconexão\x20','exists','):\x20alterando\x20this.AutomateSystem','Subdomínio\x20extraído\x20da\x20URL:','):\x20Limpando\x20delayMessage','\x1b[41m','user','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','messages.upsert','updateOneById','originalUrl','createConversationforStartFlow','Grupo\x20não\x20encontrado','insertMany','addBlock','/wa-chats','Contacts\x20not\x20found','groupValidate','util','varedit','config','groupdata','convertaudioMP3','moreLogs','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','request\x20received\x20in\x20editFlow','_second','Font\x20is\x20required','startCommandWord','replaceVariables','find','getSeconds','autoCompleteMessages.command_1','group-participants.update','array','cleanDisconnectedInstances','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','exports','URL:','):\x20Editando\x20replyOption...','idSchedule','PENDING','unlocked','available','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','addChatLabel','findById','evaluateConditionTest','messages.update','variable','8080','retrySendMessage','hbs','contact','firstValue','warn','importChats','\x20minutos','CORS','_ScheduleMessages','userDevicesCache','STATUS_INSTANCE','editScheduleMessage','redis','whoCanEdit','connectionClosed','namespace','height','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','getContentType','Not\x20is\x20business\x20profile','from','groupCreate','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','phoneNumber','.\x20Aguardando\x20','createGroup','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','getFullYear','fetchChats','Erro\x20ao\x20encerrar\x20a\x20API','linkPreview','redirect','processedMessagesCache','ORG:','some','):\x20Editando\x20variável\x20do\x20fluxo...','number','Nenhum\x20participante\x20válido\x20encontrado.','buffer','stanzaId','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','saveCreds','get','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','\x27...','request\x20received\x20in\x20starFlow','sectionsToString','):\x20Usando\x20extensão\x20padrão:\x20','inviteCodeDetails','getOwnPropertyDescriptor','#fe9dfe','\x0a*Você\x20respondeu*:\x0a','STORE_CLEANING_TERMINAL','updateCustomFields','changeVariables','contactHandle','saveConversationToDatabase','allflows','queue','notContains','equal','Primeiro\x20Valor:\x20','CHATS_UPDATE','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Número\x20não\x20possui\x20WhatsApp.','\x27\x20não\x20encontrado\x20na\x20memória','deleteMany','text','):\x20Procurando\x20mensagens\x20para\x20envio','):Temp\x20image\x20deleted','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Database\x20is\x20not\x20enabled','https://chat.whatsapp.com/','createNewConversation','Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20','Stack\x20trace:','lastInteraction','\x20tentativas.','getTime','group','prepareWAMessageMedia','messageHandle','flattenObject','updateAll','isAdmin','processUazapi','qrCode','status','shift','replacer','deleteInstance','request\x20received\x20in\x20fetchConversation','globalShow','write','updateGroupParticipantsWebhook','request\x20received\x20in\x20editFlowgroup','chats.delete','licenca','findByIdAndDelete','telefone','https://api.ipify.org?format=json','Telefone:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','\x1b[1m\x1b[37m','pollMessage','unavailable','Erro\x20ao\x20atualizar\x20o\x20flow.','triedToSend','NextBlock','relayMessage','keep-alive','isJidBroadcast','shareOwners','item','Rótulo\x20deletado:\x27,\x20','generateRandomIPv6','):\x20conversation.waitingMenu_name','updatePresence','stopConversation','copy','Partes\x20do\x20caminho\x20FULLCHAIN:','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','ignoreGroups','splice','proxy:\x20','envYaml','bulkWrite','DaysToDelete','Timeout\x20exceeded','description','removeIPv6','command','leaveGroup','7093824qOtWex','):\x20Going\x20to\x20','lastSendMessage','):Type\x20defined\x20as\x20audio','API\x20Key\x20from\x20Request:','mediaSticker','contactMessage','updateChatGroupData','):\x20conversation.status:\x20','keys','CHATS_UPSERT','folder','messages.set','varedits','labels.association','whatsappNumber','ip\x20-6\x20addr\x20del\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','connecting','Comando\x20desconhecido','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Tentando\x20reconectar...','logger','Background\x20color\x20is\x20required','writeFileSync','processingGroup','verifiedName','ipv6Prefix','statusMessage','startsWith','jsonschema','store','textMessage','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','fetchInstances','greater','setUpdate','pm2\x20flush','835576xPzCyY','lastCondition','sendText','result','LICENSE_INVALID','CORS_ORIGIN','.ogv','Connection\x20Closed','PASSWORD','SSL_CONF_PRIVKEY','video-cover.png','admin','):\x20Limpando\x20AutomateSystem','eventemitter2','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','\x20chats\x20de\x20','groupJid','):\x20customFieldVariables','/wa-groups','Erro\x20ao\x20deletar\x20mensagens:','readreceipts','unknown\x20operation\x20type\x20[','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','recording','.docx','fetchMessages','view\x20engine','cwd','deviceSentMessage','desc','findGroupsEspecial','readFileSync','picture','):\x20não\x20encontrou','params','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Content\x20is\x20required','false','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','groupToggleEphemeral','WA\x20MODULE','findRealGroups','reactionMessage','unreadcount','scheduleFlow','apirequest','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','badSession','uazapiSendMenu','buttonText','Erro\x20ao\x20remover\x20label\x20','lastBlockId','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','fone','generateHash','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):Audio\x20processed','downloads','DARK','verify','updateMissingEtiquetas','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','SSL_CONF','getReadyToSendMessages','replaceOne','reference','join','readMessage','fetchLabels','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','ENABLED','Error\x20in\x20chatModify\x20for\x20number\x20','Limpando\x20logs\x20do\x20PM2...','Valor\x20da\x20URL\x20recuperada:','updateOne','contacts.update','fetchProfilePictureUrl','groupJoinApprovalMode','findParticipants','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','footerText','protocolMessage','Log\x20out\x20instance:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','getMessage','connectionUpdate','fromMe','):Error\x20in\x20converting\x20audio','editedMessage','max','WebhookGlobal','CONECTADO\x20À\x20UAZAPI','DATABASE_CONNECTION_URI','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','request\x20received\x20in\x20deleteDoneMessages','decryptPollVote','editflowgroup','):Delete\x20chat','mediaKey','delayMessage','class-validator','endSession','STORE_CONTACTS','document','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','nomecompleto',',\x20Expiration\x20Time:\x20','):\x20sender\x20=\x20number:\x20','):\x20Grupo\x20','downloadMediaMessage','\x1b[33m','cacheInstanceRepository','buttonOrList_id','Data\x20inválida\x20fornecida','RECONNECT_TIME_FRAME','Total\x20IPv6\x20addresses\x20detected:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','Erro\x20ao\x20editar\x20o\x20chat','\x20-y','):Image\x20is\x20url','groups','):\x20Buscando\x20conversa...','.wav','notas','memberAddMode','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20','string','getBase64FromMediaMessage','updateStatusPrivacy','\x20is\x20already\x20in\x20use.','messageLogsModel','toBrazilianNumberFormat','Opção\x20Falsa\x20','/events/:instance','verifyWhatsAppNumber','):\x20Criando\x20nova\x20conversa[createNewConversation]','allContacts','flowConfig','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','every','/wa-presence','sendMenu','):\x20Removendo\x20\x27','LOG_COLOR','findGroups','everyOne','saveTextReply','TYPE','#ffae04','):\x20Current\x20Time:\x20','ex:\x20\x22groupJid=120362@g.us\x22','scheduleSendAudio','eventEmitter','fileName','):Image\x20converted\x20to\x20WebP','readdirSync','when','match','):\x20[messages.upsert]\x20group\x20ignored','sendMessageWithTyping','DEBUG','abs','uazapiSendMedia','sharePass','Internal\x20Server\x20Error','setting','659970gbpFiT','express-async-errors','Bloco\x20com\x20ID\x20','imagechat','sendPresenceUpdate','whatsappNumbers','uazapiSendContact','$dbName','getScheduleMessage','g-t','setWebhook','Falha\x20após\x205\x20tentativas:\x20','request\x20received\x20in\x20updateFlowConfig','#92ceac','):\x20Conversa\x20está\x20expirada','.\x20Tentando\x20novamente\x20em\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','creds.json','https://uazapi-plugin.bubbleapps.io/?url=','toLocaleString','USER','filter','deleteFlow','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','_minute','envProcess','Bad\x20Request','block','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','2OJmJQY','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','isBusiness','_month','):Desconectado,\x20parando\x20execução.','):\x20Fluxo\x20\x27','condition','labels.edit','#9568cf','role','sendList','/wa-message','\x27\x20removido\x20do\x20AutomateSystem.','getAutomateSystem','oldToken','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','flows','none','mimetype','beforeExit','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','groups.update','):Trying\x20to\x20get\x20business\x20profile','Não\x20respondeu\x20com\x20a\x20enquete.','):Processing\x20audio','presence','Erro\x20na\x20função\x20updateChatWithMessage:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','delaySecMax','flushHeaders','/instance/connectionState','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global',',\x20isAdmin:\x20','hex','conversationTimestamp','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','revokeInviteCode','stopped','END:VCARD','.error','connection.update','defineProperty','add','insertCount','rowId','compression','getValidWhatsAppNumbers','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','errorLog',',\x20resultado:\x20','convertaudio','addReplyOption','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','replaceVariablesChat','editflowblock','DELIVERY_ACK','getConversation','app-state-sync-key','createOrUpdate','emit','no.connection','restart','loadWebhook','https://api.openai.com/v1/images/generations','Validate','waitingForReplyMenu','findConversation','/:instanceName','vir','Erro\x20ao\x20copiar\x20o\x20documento','beautifyWithPlaceholders','endsWith','single_select','Selecione','variablesNotFound','):\x20Atualizando\x20status\x20da\x20mensagem\x20','qrcode','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','\x20instance\x20does\x20not\x20exist','requestPairingCode','catch',']\x20(','getLastMessage','subjectTime','composing','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','local_map','min','contains','):\x20Enviando\x20mídia','\x20quoted:\x20','delay','IPv6\x20addresses\x20detected:\x20','values','Erro\x20ao\x20inserir\x20chats:','express','image','):\x20error:\x20','\x20segundos','hGet','26937020xzmQBD','value','scheduleSendText','menuExpiredMessage','@g.us','Erro\x20ao\x20iniciar\x20o\x20fluxo.','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','):\x20newSecondValue\x20após\x20replaceVariables:','execSync','collections','authentication','expiration','flowIgnoreGroups','https',',\x20received\x20','/instance/create','_lastVote','dropIndex','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Configured\x20new\x20IPv6:\x20','dataValidate','trimmed','readMessageBot','color','senderKeyDistributionMessage','chatLog','AddUserFlow','):\x20Ignoring\x20group\x20messages.','#83e421','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','uazapiSendAudio','webhookModel','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Operador:\x20\x22','configService','\x1b[32m%s\x1b[0m','isURL','The\x20global\x20api\x20key\x20must\x20be\x20set','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','ScheduleMessage','last_update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','):Hash\x20to\x20image\x20name:\x20','floor','instanceInfo','deleteBlock','HistoryProcessed','/clients-info','findGroup','Cache-Control','g.us','atendimentoAberto','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','rows','3EB0','getFlow',',\x20saindo.','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','sendWhatsAppAudio','.\x20Pulando.','\x22reaction\x22\x20must\x20be\x20an\x20emoji','encoding','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','Partes\x20do\x20domínio:','updateChatWithMessage','#01d0e2','\x20minutos...','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','initAuthCreds','isLong','http','Pausado\x20por\x20','):\x20Editando\x20condição\x20do\x20fluxo...','mongoose','fetchProfilePicture','notEmpty','error','\x20segundos...','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','reorderReplyOptions','stopMinutesMaxActives','IPv6\x20address\x20configured:\x20','):\x20Alterando\x20fluxo...','padEnd','startFlowWebhook','loadEnv','formatBRNumber','groupMetadata','createWebhook','data','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','maxActives','messageTimestamp','qrcode.updated','onTime','All_Instances_Config','VERBOSE','Fluxo\x20agendado\x20pelo\x20fluxo\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','):\x20Iniciando\x20bot...','lastSend','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateProfileStatus','MESSAGES_SET','etiquetas','groupMemberAddMode','documentMessage','updateGParticipate','media','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','\x20não\x20encontrado','locked','deleteImportedChat','addMessagesToGroup','mentions','storePath','node-cache','API\x20Key\x20inválida.','Novo\x20IP\x20criado:\x20','ListMessage','Schema','\x5cd+','pairingCode','ip\x20-6\x20addr\x20show\x20scope\x20global','upsertedCount','pollOnReplyDelete','chats.set','less','https://api.elevenlabs.io/v1/text-to-speech/','createAndSave','):\x20Conversa\x20atualizada\x20em\x20memória','audio/ogg;\x20codecs=opus','getContactModelForOwner','content-type','set','menuMessage','_activatedCount','):\x20ev.flush\x20realizado','\x1b[34m%s\x1b[0m','last','):\x20Adicionando\x20\x27','pollCreationMessageV3','updateMany','updateGroupPicture','width','deleteAll','groupRevokeInvite','list2','buttonMessage','Error\x20updating\x20message\x20status:','Not\x20Found','statSync','editOperator','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','CHATS_SET','\x1b[34m','myAppStateKeyId','readFile','email','extractRegex','promote','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','valid','/wa-connection-update','Erro\x20ao\x20buscar\x20o\x20fluxo','round','\x1b[37m%s\x1b[0m','.mimetype','initializeQueue','):\x20Enviando\x20localização','.xlsx','):\x20teve\x20mudanças\x20chat.archived:\x20','/wa-message-update','closeExistingConversations','getBusinessProfile','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','owner','scheduleSendMedia','--------------------------------------','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','\x22\x20-\x20REMOVED','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','arraybuffer','updateLastSeenPrivacy','waMonitor','messages','descId','.gif','Filtered\x20network\x20interfaces:\x20','creds.update','Instance\x20restarted','_p_','/exit','):\x20Flow\x20desativado','.txt','request\x20received\x20in\x20updateAutoCompleteMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','cache','cleanStore','test','getStatus','flowActive','https://api.openai.com/v1/audio/speech','Erro\x20ao\x20buscar\x20a\x20conversa','sendMessageWithRetry','):\x20Criando\x20fluxo...','startFlow','\x22\x20cannot\x20be\x20empty','configureIPv6','@s.whatsapp.net','PORT','audioMessage','node-mime-types','#f64847','announcement','events','contactsArrayMessage','API_KEY','groupSetting','unhandledRejection','lastUpdate','sendMessageWithTypingButtons','Falha\x20ao\x20recriar\x20IPv6.','selectableCount','createSectionsFromValues','detail','/media/','*Pergunta*:\x20\x0a','checkAndRestartProcess','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','editFlow','):Business\x20profile\x20fetched','chatModify','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Message','urlOrBase64','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','nome','map','\x1b[31m','\x20and\x20data:','stdout','Types','):\x20mediaMessageInfoId\x20:\x20','URL\x20não\x20disponível','success','processConditions','Garbage\x20collection\x20não\x20está\x20disponível.','$pull','sections','updateParticipant','remove.instance','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','The\x20property\x20cannot\x20be\x20empty','fetchProfile','waitingMenu_ExpiredMessage','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','release','/media','):\x20Entrou\x20na\x20função\x20stop','findGroupInfos','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','console','request\x20received\x20in\x20editConversation','/chat','allFlows','BufferJSON','localWebhook','pollCreationMessageV2','lastFetchAwaitingApproval','flush','):\x20Enviando\x20áudio','_day','Erro\x20ao\x20buscar\x20Schedule\x20Messages','Safari','\x20segundos\x20antes\x20de\x20reconectar...','size','includes','ON\x20-\x20dbName:\x20','authorization','contacts','RemoveChatLabel','capitalizedWords','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','creation','proto','website','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','findAndReplace','instanceKeys','labelId','AutomateFunctions','Connection\x20closed\x20for\x20instance:\x20','editflow','flow','mediatype','):\x20updateResult:','audioWhatsapp','repeat','):\x20Error\x20processing\x20the\x20block:\x20','ERROR','):\x20newFirstValue\x20após\x20replaceVariables:','mongodb://','findManyByIds','Missing\x20global\x20api\x20key','messaging-history.set','/wa-all-message','waitingMenu_replyOptions','#ffc5c7','This\x20name\x20','title','AUTHENTICATION_JWT_SECRET','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','groupId','/config','bodyString','https://ifconfig.me/ip','\x22,\x20valor\x20a\x20substituir:\x20\x22','$set','length','/startFlow/:instance/:startID','URI','sendContact','markMessageAsRead','demote','Logger','minutesToClose','Flow\x20iniciado','canSendMessage','):Archiving\x20chat','application/octet-stream','delaySecMin','\x22\x20-\x20NOT\x20CONNECTION','Esse\x20fluxo\x20expirou','Flow\x20iniciado\x20com\x20','findOne','clear','synchronizeAndMapFlows','DATABASE_ENABLED','fetchBusinessProfile','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','updateMissingCustomFields','messageId','post','replaceVariablesLogs','drop','profilePicture','\x20excess\x20IPv6\x20addresses.','request\x20received\x20in\x20updateAgent','all','reorderBlocks','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','messageType','requestFile','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','removeUnusedChatFields','):Image\x20path:\x20','mkdirSync','connectionStatus','writeFile','/instance','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','261cEIZec','startID','crypto','delayChatLabel','responsavelid','):\x20debug\x20alterando\x20this.AutomateSystem','/message','jpegThumbnail','/5\x20falhou:\x20','Valor\x20inicial:\x20\x22','Error\x20in\x20buttonsMessage\x20function:','#ff9484','OrAnd','/instance/fetchInstances','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','convertedOptions','trim','updateReadReceiptsPrivacy','sendAudio','The\x20\x22','editMessagesInGroup','REDIS','\x1b[46m','DATABASE_CONNECTION_PASSWORD','updateMediaMessage','authService','parse','binary','\x1b[0m','request\x20received\x20in\x20deleteConversation','Invalid\x20format','fetchStatus','statusJidList','slice','listIPv6Addresses','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','env','this.reconnectAttempts:\x20','):\x20expirationTime:\x20','.jpg','child_process','deleteDoneMessages','conditions','isJWT','keyPattern','saveChatVariables','flowPrefixCommand','.png','out','https://uazapi-plugin.bubbleapps.io/','utf8','done','connectToWhatsapp','sleep','sharp','profilePictureUrl','normalizeMessage','client','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','isConnected','pendingMessages','createClient','/wa-contacts','interactiveMessage','application/json','):\x20leadInfoVariables','ERROR:\x20','json','silent','WARN','routerPath','listMessage','connectionState','processgoToFlow','SECRET','^\x5cd+','imgUrl','dark','):\x20Deletando\x20mensagem','\x20minutos.\x20Será\x20às\x20','useMultiFileAuthState','PROXY','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','leadInfo.customFields','CONTACTS_SET','\x20adicionado\x20ao\x20chat\x20','KEY','4321659iMhIHw','p-queue','randomBytes','AUTHENTICATION_API_KEY','Error\x20removing\x20IPv6\x20address:\x20','Last\x20message\x20not\x20found\x20for\x20number:\x20','Detalhes\x20do\x20erro:','.webp','ListType','editFlowReply','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','request\x20received\x20in\x20allFlows','):Audio\x20converted\x20and\x20stored\x20in\x20cache','READ','load','Erro\x20ao\x20editar\x20a\x20conversa','integer','use','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','XX:XX:XX:XX:XX:XX','connect','status@broadcast','processConditionsTest','35Shjnyj','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','stringify','):\x20Enviando\x20enquete','removed','descOwner','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','noConnection','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','ip6eui','customFields','toFile','getHours','request_method','variables','loggedOut','/group','uazapiSendLocation','formatStatusMessage','now','viewOnceMessage','pushName','delayChatLabel_RETRY_DELAY_MS','toBRL','groupLeave','!cmd_','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','restrict','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','upsertChats','getClient','model','Read\x20messages','jwt','toNumber','participant','isArray','collection','createButtonSectionsFromValues','has','existsSync','displayName','flowName','):\x20Flow\x20\x27','updateProfilePicture','imported','inet6','getOwnPropertyNames','joinGroup','conversation','CORS_METHODS','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','0123456789ABCDEF','Content-Type','function','updatePrivacySettings','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','list','_id','findOneAndUpdate','label','goToFlow','.jwt','_hour','verbose','nativeFlowMessage','GROUPS_UPDATE','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','updateOnlinePrivacy','prepareMediaMessage','instances','del','restartInstance','subject','options','deleteChat','message','selectedDisplayText','inviteCode','blockId','whoCanUse','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','Error\x20testing\x20IP\x20with\x20','IP\x20confirmed:\x20','Deletion\x20failed','cacheContact','inner','audio/ogg','EMAIL','random','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','editConversation','importChatsBatch','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','put','AppStateSyncKeyData','editFlowVaredit','replyOptions','groups.upsert','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','cacheContactModel','Falhou\x20ao\x20encontrar\x20chat\x20','padStart','HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','variablesToObject','msgRetryCounterCache','readMessages','axios','editflowvaredit','Erro\x20ao\x20criar\x20fluxo','QRCODE_UPDATED','Deleted\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','menu_options','and','open','IP\x20mismatch:\x20configured\x20','messagesLogs','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','waUploadToServer','_year','Esse\x20fluxo\x20não\x20permite\x20importação.','^\x5cd+([-]\x5cd+)*@g.us$','messageLogs','create','organization','cleanupExcessiveIPs','removeData','isCommunityAnnounce','global','tags','pollCreationMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','createConversationforgoToFlow','prototype','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','menuType','context','send.message','throwAndLogError','writeData','DATABASE_CONNECTION_DB_PREFIX_NAME','status.instance','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','MAX_SAFE_INTEGER','temp-','URL','getUniqueFlowName','countIPv6Addresses','contacts.upsert','Instância\x20não\x20encontrada.','cta_url','basename','dbClient','groupUpdateSubject','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','next_groupId',',\x20lastCondition:\x20','audio','STORE','address','.svg','remoteJid','AddChatLabel','normalizeMessageContent',',\x20valor\x20a\x20encontrar:\x20\x22','toDataURL','pt-BR','code','refused','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','updateAgent','true','Flow\x20\x27','isRunning','videoMessage','unlinkSync','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','CONTACTS_UPSERT','\x20:\x20','):\x20\x27Enviando\x20texto\x20para\x20\x27','toLowerCase','Error\x20in\x20prepareMediaMessage:','CONTACTS_UPDATE','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','CLEANING_INTERVAL','Erro\x20ao\x20buscar\x20conversas','online','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','Falha\x20ao\x20criar\x20IPv6.','Router','setNewValue','InstancesAlterarTodas','findContacts','/events','https://v6.ident.me','updateAutoCompleteMessages','):\x20lastBlockId:\x20','chatHandle','currency','uazapiDeleteMessage','then','headerString','recebido\x20de','File\x20written\x20to\x20path:\x20','\x0a{\x20instance:\x20','findMany','uuid','cacheInstanceModel','convertToWebP','\x22\x20not\x20found','findAndUpdateCacheContact','leadInfo','Type\x20not\x20found','split','REDIS_URI','JWT','PRESENCE_UPDATE','blockLogs','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','PLAYED','MESSAGES_UPDATE','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','extractPhoneNumber','webhook','getTicketSystem','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','evaluateCondition','PRODUCT_LIST','forEach','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','agents','order','copyBlock','):\x20\x27Deletando\x20fluxo,\x20id:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Removidas\x20as\x20variáveis:\x20','getDevice','groupParticipantsUpdate','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','deleteConversation','sendDataWebhook','query','Error\x20updating\x20cache\x20contact:','closed','replaceValue','awaitingApproval','.pptx','):\x20Fluxos\x20não\x20estão\x20ativados','messageContextInfo','/create','sendSticker','DATABASE','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Variável\x20não\x20encontrada!','mediaMessage','yes','_Labels','DB_PREFIX_NAME','\x20com\x20sucesso.','remote\x20\x22origin\x22','statusCode','\x1b[30m%s\x1b[0m','digest','Enter\x20a\x20value\x20in\x20milliseconds','GUARD','error\x20get\x20vote','deleteMessage','presenceSubscribe','timeInMinutes','scheduleNextCheck','long','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Not\x20allowed\x20by\x20CORS','Erro\x20ao\x20aplicar\x20varedit:\x20','Erro\x20ao\x20tentar\x20updateCustomFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','validate','Subdomínio\x20não\x20encontrado','timeout','reconnectTimestamps','):\x20Query\x20params:\x20','Erro\x20ao\x20atualizar\x20cacheInstance:','Request\x20Body:','presence.update','messageSecret','uazapi','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','call','autoCompleteMessages.command','toArray','SERVER_PORT','\x20-\x20ON:\x20','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','\x20removido\x20do\x20chat\x20','_activedCount','Falta\x20informação\x20para\x20a\x20chamada\x20API','profile','Error\x20fetching\x20and\x20updating\x20profile:\x20','createflow','applyvaredit','AutomateSystem\x20não\x20foi\x20inicializado','Instance\x20ID:','reaction','createJid','-whatsapp-api','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','wuid','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','https://','ObjectId',',\x20Resultado:\x20','not_announcement','\x1b[36m','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):Sending\x20audio\x20whatsapp','SendScheduleMessage','remoteJids','exit','startCommand','replyOption','createInstance','AUTHENTICATION','ini','editflowcondition','processblock','resetReconnectionVariables','stderr','indexOf','\x1b[40m','ChatModel','DOCKER_ENV','testIPv6','groupadd','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','):\x20Criou\x20conversa\x20no\x20startFlow','replaceVariablesInObject','.ogg','getMIMEType','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','all_member_add','ChatRouter','processawaitSeconds','findWebhook','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','newStoppedUntil','apikey','):\x20Bloco\x20com\x20ID\x20','substring','getScheduleMessageModelForOwner','groupName','waitingMenu_text','buttonsResponseMessage','chatId','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','update','transformScheduledMessagesByType','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','app','option','/webhook','findAndReplaceRegex','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','\x1b[37m','\x20inseridas\x20no\x20banco\x20de\x20dados...',',\x20global:\x20','PREFIX_KEY','profileName','INFO','DisconnectReason','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Erro\x20ao\x20importar\x20chats','_fromMe','\x20inseridos\x20no\x20banco\x20de\x20dados...','):Image\x20created','updateGroupWebhook','No\x20suitable\x20network\x20interface\x20found','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','display_text','utf-8','close','#fed428','auth','$addToSet','processvaredits','formatVCard','__esModule','127717tTSlVs','delAll','cachedContact','):\x20Chat\x20','50mb','\x0aitem','footer','IPv6\x20Prefix\x20detected:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Comando\x20desconhecido:\x20','.ppt','chat','request\x20body:\x20','editFlowVariable','sendLocation','getConversationModelForOwner','@newsletter','):\x20','Type\x20is\x20required','fetchContacts','pollCreationMessageKey','hDel','start','getMessageModelForOwner','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','Erro\x20ao\x20atualizar\x20AutomateSystem:','modifiedCount','randomMac','url','sendReaction','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','updateGParticipant','webhookMap','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','Sistema\x20atualizado\x20com\x20sucesso!','@ffmpeg-installer/ffmpeg','):\x20atualização\x20chat:\x20','selectedId','optionName','sendMessage','debug','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','locationMessage','Retornando\x20grupos\x20COM\x20cache','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','webp','quick_reply','contact_blacklist','importChatsAntigo','addToProcessedMessages','limit','detectIPv6PrefixAndInterface','updateReplyOption','ContactModel','jid','COLOR','getDate','bodyStringErrorParse','${Message\x20absent\x20from\x20node}','editFlowBlock','convert','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','notMatchRegex','/automate','The\x20instance\x20needs\x20to\x20be\x20disconnected','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','isBase64','where','\x1b[33m\x1b[1m',',\x20Comparador:\x20','isJidGroup','reorderMessages','instance.','groupInviteCode','Erro\x20ao\x20deletar\x20chat:','sha256','Imagem\x20não\x20encontrada','empty','dbSettings','finish','):\x20[messages.update]\x20group\x20ignored','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','findIndex','sendCommand','vcard','):\x20conversation.lastInteraction:\x20','api','deleteMessageForEveryone','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','pow','removeChatLabel','reduce','updateMissingTags','stopMinutes','SERVER_OFFLINE','findAll','waitingMenu_id','https://api64.ipify.org?format=json','saveMediaToFile','flowStopConversation','isMessageProcessed','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','blocks','DATABASE_CONNECTION_HOST','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','remove','):\x20Editando\x20bloco...','secondValue','views','sendMedia','#d8e651','lastReceivedMessage','messageStubParameters','GROUPS_UPSERT','https://jsonip.com','testingWith','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','connectToWhatsappController','cleaningUp','enabled','Removed\x20','desativadoFluxoAte','groups_ignore','Tentativa\x20','\x27\x20do\x20banco\x20de\x20dados...','sendStatus','\x20horas\x20e\x20','notify','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','ContactsAndGroups','clearVariables','\x20ao\x20chat\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','.mp4','env.KEY\x20!==\x20key','Subdomínio\x20final:','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x1b[42m','instanceName','createConnection','backgroundColor','enviado\x20para','../env.yml','repository','uazapiSendText','fetchPrivacySettings','contextInfo','latitude','dbConnection','defineAuthState','groupUpdateDescription','Erro\x20ao\x20atualizar\x20agendamento\x20','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','label_jid','ephemeralMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.',',\x20pairCode:\x20','pre','METHODS','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','nativeFlowResponseMessage','replace','[AUTH]\x20Database\x20is\x20not\x20enabled','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','ReplyOption\x20com\x20ID\x20','interactiveResponseMessage','):\x20Instancia\x20isBusiness:\x20','lastMessage','EMAIL:','removeInstance','Failed\x20to\x20send\x20buttons\x20message','Erro\x20ao\x20tentar\x20autoCompleteMessages','Chat\x20com\x20ID\x20','updateProfileName','):Getting\x20image\x20from\x20url','deleteReplyOption','Module\x20-\x20ON','Erro\x20ao\x20deletar\x20a\x20conversa','joinGroupValidate','request\x20received\x20in\x20scheduleMessage','optionDescription','CONNECTION','networkInterface','lowerCase','findFlow','mentioned','Erro\x20ao\x20editar\x20agentes','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','\x1b[47m','oldValue','list3','\x20\x1b[0m','error_log','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','CONNECTION_UPDATE','info','caption','redisEnv','header','@broadcast','):\x20Ler\x20mensagem','/instance/connect','dbInstance','superadmin','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','sem\x20texto\x20na\x20mensagem','\x1b[43m','base64','extractMessageContent','Fluxo\x20não\x20encontrado\x20na\x20memória.','delete','setRestartTimeout','groupHandler','truncatedto','CacheContacts\x20database\x20connection\x20closed.','):\x20Rótulo\x20atualizado:\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','Failed\x20to\x20prepare\x20media\x20message','assign','realVariables','iniciando\x20fluxo\x20router','FULLCHAIN','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','HH:mm:ss','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','instancias:\x20','Database\x20connection\x20closed.','#6f7bcf','reconnectAttempts','isCommunity','):\x20whoCanEdit\x20before\x20validation:\x20','matchRegex','imageMessage','sending','\x5c$&','-instances','Fluxos\x20não\x20estão\x20ativados','selectedRowId','autoCompleteMessages','.extension','key','Forbidden','Erro\x20de\x20atualização:\x20','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'];a0_0x460b=function(){return _0x53700c;};return a0_0x460b();}function ur(_0x1a45b0){const _0x4f7f56=a0_0xc869c4;let _0x1e454e=_0x1a45b0[_0x4f7f56(0x1d4)](_0x4f7f56(0x81d))[_0x4f7f56(0x5f6)],_0x3bc736=_0x1a45b0[_0x4f7f56(0x1d4)]('SSL_CONF');console[_0x4f7f56(0x114)](_0x4f7f56(0x2a1),_0x1e454e),console['log']('Configuração\x20SSL\x20recuperada:',_0x3bc736);let _0x4eeaa7='',_0x5d97a0=_0x1e454e||'';if(_0x1e454e){let _0x2bdf8c=_0x1e454e[_0x4f7f56(0x2f6)](/\/\/(.*?)\./);console[_0x4f7f56(0x114)]('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x2bdf8c),_0x2bdf8c&&_0x2bdf8c[0x1]&&(_0x4eeaa7=_0x2bdf8c[0x1],console[_0x4f7f56(0x114)](_0x4f7f56(0x179),_0x4eeaa7));}if(!_0x4eeaa7&&_0x3bc736&&_0x3bc736[_0x4f7f56(0x7ce)]){let _0x4da3ef=_0x3bc736[_0x4f7f56(0x7ce)]['split']('/');console[_0x4f7f56(0x114)](_0x4f7f56(0x223),_0x4da3ef);let _0x551711=_0x4da3ef[_0x4da3ef[_0x4f7f56(0x4c6)]-0x2];if(console[_0x4f7f56(0x114)](_0x4f7f56(0x643),_0x551711),_0x551711){let _0x38f423=_0x551711['split']('.');console[_0x4f7f56(0x114)](_0x4f7f56(0x3c4),_0x38f423),_0x38f423[_0x4f7f56(0x4c6)]>0x2&&(_0x4eeaa7=_0x38f423[0x0],console[_0x4f7f56(0x114)](_0x4f7f56(0xc3),_0x4eeaa7),_0x5d97a0=''+_0x551711);}}return{'subdomain':_0x4eeaa7||_0x4f7f56(0x67c),'fullURL':_0x5d97a0||_0x4f7f56(0x47a)};}var {subdomain:se,fullURL:Gs}=ur(S);console[a0_0xc869c4(0x114)](a0_0xc869c4(0x777),se),console[a0_0xc869c4(0x114)]('URL\x20completa:',Gs);async function dr(){const _0x283e01=a0_0xc869c4;let _0x546752=S[_0x283e01(0x1d4)](_0x283e01(0x506)),_0x2d234c=S[_0x283e01(0x1d4)](_0x283e01(0x6aa))[_0x283e01(0x45f)]['KEY'],_0x2f8df8=S['get']('SSL_CONF'),_0x4aeb13=await Vi(),_0x2251af=S[_0x283e01(0x1d4)](_0x283e01(0x81d))['PORT'],_0x5c26f9=Gs;try{let _0x125600={'ip':_0x4aeb13||null,'redis_enable':_0x546752?.[_0x283e01(0x29e)]||null,'apikey':_0x2d234c||null,'ssl':_0x2f8df8?.[_0x283e01(0x135)]||null,'lastupdate':Gi||null,'port':_0x2251af||null,'gitInstallError':Ae?.[_0x283e01(0x5ad)]||null,'url':_0x5c26f9||null,'subdomain':se};if(console[_0x283e01(0x114)](_0x283e01(0x7f3),_0x125600['ip']),_0x546752&&_0x546752[_0x283e01(0x29e)]){let _0xba056f=await lr();_0x125600['instanceCount']=_0xba056f||null;}for(let _0x301cb0 in _0x125600)_0x125600[_0x283e01(0xd5)](_0x301cb0)&&_0x301cb0!=='ip'&&(_0x125600[_0x301cb0]=JSON[_0x283e01(0x563)](_0x125600[_0x301cb0]));return(await qe[_0x283e01(0xef)]['post'](_0x283e01(0x6e3),_0x125600))[_0x283e01(0x3df)];}catch(_0x202932){return console[_0x283e01(0x3d2)](_0x202932),!0x1;}}var qs=!0x1,Gi=0x27c,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x54a6ec=a0_0xc869c4;let _0x4b552e='fora\x20do\x20git';Ae===null&&(_0x4b552e=await Vi());let _0x3f6c10=await dr();if(_0x3f6c10){if(_0x3f6c10[_0x54a6ec(0x15f)][_0x54a6ec(0x20c)]===!0x0){Ae===null&&_0x3f6c10['response'][_0x54a6ec(0x3ac)]-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x6d356=0x24*0x3c*0x3c,_0x4c5167=_0x3f6c10[_0x54a6ec(0x15f)][_0x54a6ec(0x805)]>_0x6d356?_0x6d356:_0x3f6c10[_0x54a6ec(0x15f)][_0x54a6ec(0x805)],_0x34ebaf=Number(_0x4c5167);if(isNaN(_0x34ebaf)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x417af5=Math[_0x54a6ec(0x3af)](_0x34ebaf/0xe10),_0x4a8907=Math[_0x54a6ec(0x3af)](_0x34ebaf%0xe10/0x3c),_0x140dac=new Date(Date[_0x54a6ec(0x574)]()+_0x34ebaf*0x3e8);setTimeout(()=>{const _0x4f3508=_0x54a6ec;console[_0x4f3508(0x114)](_0x4f3508(0x83e)),process['exit'](0x0);},_0x34ebaf*0x3e8);let _0xfd0c3b=_0x20b768=>_0x20b768[_0x54a6ec(0x806)]()[_0x54a6ec(0x5c7)](0x2,'0'),_0x480df5=_0x54a6ec(0x793)+_0xfd0c3b(_0x417af5)+_0x54a6ec(0x76d)+_0xfd0c3b(_0x4a8907)+_0x54a6ec(0x540)+_0xfd0c3b(_0x140dac[_0x54a6ec(0x56d)]())+':'+_0xfd0c3b(_0x140dac['getMinutes']())+'.';console[_0x54a6ec(0x114)](_0x480df5);}else return console[_0x54a6ec(0x114)](_0x54a6ec(0x85a)),qs&&(console[_0x54a6ec(0x114)](_0x54a6ec(0x148)),process[_0x54a6ec(0x6a6)]()),_0x54a6ec(0x25a);}else{if(Li++,Li<pr)console[_0x54a6ec(0x114)](_0x54a6ec(0x55b)+Fi/0xea60+_0x54a6ec(0x3c7)),setTimeout(Bi,Fi);else return console['error'](_0x54a6ec(0x68c)),_0x54a6ec(0x74d);}}async function hr(){const _0x16ba70=a0_0xc869c4;console[_0x16ba70(0x114)](_0x16ba70(0x811)),console[_0x16ba70(0x114)](_0x16ba70(0x2a0)),(0x0,rs[_0x16ba70(0x800)])(_0x16ba70(0x255),{'shell':!0x0})['on'](_0x16ba70(0x6e6),_0x36e5a7=>{const _0x4f0da4=_0x16ba70;_0x36e5a7!==0x0?console['error'](_0x4f0da4(0x113)):(console['log'](_0x4f0da4(0x5b2)),console[_0x4f0da4(0x114)]('Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...'),(0x0,rs[_0x4f0da4(0x800)])(_0x4f0da4(0x19a),{'shell':!0x0})['on'](_0x4f0da4(0x6e6),_0x4f9d25=>{const _0x1ed35d=_0x4f0da4;if(_0x4f9d25!==0x0)console[_0x1ed35d(0x3d2)]('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.');else{console['log'](_0x1ed35d(0x7d2));let _0x48c4c6=(0x0,rs[_0x1ed35d(0x800)])(_0x1ed35d(0x31d),{'shell':!0x0});_0x48c4c6[_0x1ed35d(0x477)]['on'](_0x1ed35d(0x3df),_0x4194a6=>{const _0x564e79=_0x1ed35d;console[_0x564e79(0x114)]('Atualização:\x20'+_0x4194a6);}),_0x48c4c6[_0x1ed35d(0x6af)]['on'](_0x1ed35d(0x3df),_0x477158=>{const _0x2711e6=_0x1ed35d;console[_0x2711e6(0x3d2)](_0x2711e6(0x7e4)+_0x477158);}),_0x48c4c6['on'](_0x1ed35d(0x6a6),_0x2618c1=>{const _0x4848c3=_0x1ed35d;_0x2618c1!==0x0?console[_0x4848c3(0x3d2)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x2618c1):console[_0x4848c3(0x114)](_0x4848c3(0x70f)),console['log']('Parando\x20aplicação...'),setTimeout(()=>process[_0x4848c3(0x6a6)](),0x2710);});}}));});}0x0&&(module['exports']={'fullURL':fullURL,'subdomain':subdomain});