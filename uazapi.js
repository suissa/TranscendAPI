const a0_0x15841b=a0_0xdc1a;(function(_0x60e078,_0x2d3cd0){const _0x2f4040=a0_0xdc1a,_0x9d3759=_0x60e078();while(!![]){try{const _0x19bd2e=-parseInt(_0x2f4040(0x15d))/0x1+-parseInt(_0x2f4040(0x2ce))/0x2+parseInt(_0x2f4040(0x1fe))/0x3*(parseInt(_0x2f4040(0x115))/0x4)+-parseInt(_0x2f4040(0x4df))/0x5*(-parseInt(_0x2f4040(0x1dc))/0x6)+-parseInt(_0x2f4040(0x260))/0x7*(parseInt(_0x2f4040(0xee))/0x8)+parseInt(_0x2f4040(0x248))/0x9*(parseInt(_0x2f4040(0x310))/0xa)+parseInt(_0x2f4040(0x701))/0xb;if(_0x19bd2e===_0x2d3cd0)break;else _0x9d3759['push'](_0x9d3759['shift']());}catch(_0x1b5ded){_0x9d3759['push'](_0x9d3759['shift']());}}}(a0_0x3763,0x3349e));function a0_0xdc1a(_0x5951b3,_0xe6bf6d){const _0x376317=a0_0x3763();return a0_0xdc1a=function(_0xdc1a1c,_0x32003c){_0xdc1a1c=_0xdc1a1c-0xc2;let _0xce13a4=_0x376317[_0xdc1a1c];return _0xce13a4;},a0_0xdc1a(_0x5951b3,_0xe6bf6d);}var Lo=Object['create'],je=Object[a0_0x15841b(0x54b)],Fo=Object[a0_0x15841b(0x165)],Uo=Object[a0_0x15841b(0x6f6)],Jo=Object['getPrototypeOf'],qo=Object[a0_0x15841b(0x643)]['hasOwnProperty'],Vo=(_0x3db898,_0x4c1dec)=>{for(var _0x12f751 in _0x4c1dec)je(_0x3db898,_0x12f751,{'get':_0x4c1dec[_0x12f751],'enumerable':!0x0});},Fs=(_0xac27d2,_0x14df79,_0x20b984,_0x234754)=>{const _0x3efbd3=a0_0x15841b;if(_0x14df79&&typeof _0x14df79==_0x3efbd3(0x300)||typeof _0x14df79==_0x3efbd3(0x24b)){for(let _0x86d849 of Uo(_0x14df79))!qo[_0x3efbd3(0x407)](_0xac27d2,_0x86d849)&&_0x86d849!==_0x20b984&&je(_0xac27d2,_0x86d849,{'get':()=>_0x14df79[_0x86d849],'enumerable':!(_0x234754=Fo(_0x14df79,_0x86d849))||_0x234754[_0x3efbd3(0x4e9)]});}return _0xac27d2;},T=(_0x10f828,_0x5afc11,_0x3b2963)=>(_0x3b2963=_0x10f828!=null?Lo(Jo(_0x10f828)):{},Fs(_0x5afc11||!_0x10f828||!_0x10f828[a0_0x15841b(0x550)]?je(_0x3b2963,a0_0x15841b(0x4b6),{'value':_0x10f828,'enumerable':!0x0}):_0x3b2963,_0x10f828)),Go=_0x1acf41=>Fs(je({},a0_0x15841b(0x550),{'value':!0x0}),_0x1acf41),oi={};Vo(oi,{'subdomain':()=>xs}),module[a0_0x15841b(0x1ae)]=Go(oi);var Io=T(require('compression')),Js=require('fs'),qs=require(a0_0x15841b(0x145)),Vs=require(a0_0x15841b(0x457)),Le=require(a0_0x15841b(0x457)),ne=process[a0_0x15841b(0x4ca)](),me=(0x0,Le[a0_0x15841b(0x18d)])(ne,'instances'),Us=(0x0,Le[a0_0x15841b(0x18d)])(ne,a0_0x15841b(0x139)),Qi=(0x0,Le[a0_0x15841b(0x18d)])(ne,'store','auth'),ns=class{constructor(){const _0x1a43cd=a0_0x15841b;this[_0x1a43cd(0x66d)]();}[a0_0x15841b(0x3cb)](_0x517db0){const _0x431832=a0_0x15841b;return this[_0x431832(0x5fa)][_0x517db0];}[a0_0x15841b(0x66d)](){const _0x38958a=a0_0x15841b;this[_0x38958a(0x5fa)]=process[_0x38958a(0x5fa)]?.[_0x38958a(0x125)]!=='true'?this[_0x38958a(0x2d8)]():this[_0x38958a(0x4cf)](),process[_0x38958a(0x5fa)]?.[_0x38958a(0x125)]===_0x38958a(0x2c4)&&(this[_0x38958a(0x5fa)][_0x38958a(0x2fa)]['TYPE']=_0x38958a(0x1d1),this[_0x38958a(0x5fa)]['SERVER']['PORT']=Number[_0x38958a(0x411)](process['env']?.['SERVER_PORT']??_0x38958a(0x5c4)));}[a0_0x15841b(0x2d8)](){const _0x309dc2=a0_0x15841b;return(0x0,qs[_0x309dc2(0x4dd)])((0x0,Js['readFileSync'])((0x0,Vs[_0x309dc2(0x18d)])(Us,_0x309dc2(0x4c4)),{'encoding':_0x309dc2(0x221)}));}[a0_0x15841b(0x4cf)](){const _0x52b29c=a0_0x15841b;return{'SERVER':{'TYPE':process[_0x52b29c(0x5fa)][_0x52b29c(0x6dd)],'PORT':Number[_0x52b29c(0x411)](process[_0x52b29c(0x5fa)][_0x52b29c(0x3d4)]),'URL':process[_0x52b29c(0x5fa)][_0x52b29c(0x16e)]},'CORS':{'ORIGIN':process[_0x52b29c(0x5fa)][_0x52b29c(0x6a0)][_0x52b29c(0x69d)](','),'METHODS':process[_0x52b29c(0x5fa)][_0x52b29c(0x33f)][_0x52b29c(0x69d)](','),'CREDENTIALS':process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x1f5)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x4d9)],'FULLCHAIN':process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x396)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x52b29c(0x634)])?Number['parseInt'](process['env'][_0x52b29c(0x634)]):void 0x0,'MESSAGES':process[_0x52b29c(0x5fa)]?.['STORE_MESSAGE']===_0x52b29c(0x2c4),'CONTACTS':process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x689)]===_0x52b29c(0x2c4),'CHATS':process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x325)]===_0x52b29c(0x2c4)},'DATABASE':{'CONNECTION':{'HOST':process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x54a)],'PORT':Number['parseInt'](process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x54a)]),'USER':process[_0x52b29c(0x5fa)]['DATABASE_CONNECTION_USER'],'PASSWORD':process['env'][_0x52b29c(0x148)],'URI':process[_0x52b29c(0x5fa)][_0x52b29c(0x15b)],'DB_PREFIX_NAME':process[_0x52b29c(0x5fa)][_0x52b29c(0x5d0)]},'ENABLED':process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x4cc)]===_0x52b29c(0x2c4)},'REDIS':{'ENABLED':process['env']?.[_0x52b29c(0x52d)]===_0x52b29c(0x2c4),'URI':process[_0x52b29c(0x5fa)][_0x52b29c(0x6ac)]||_0x52b29c(0x704),'PREFIX_KEY':process[_0x52b29c(0x5fa)][_0x52b29c(0x1aa)]||_0x52b29c(0x62a)},'LOG':{'LEVEL':process[_0x52b29c(0x5fa)]?.['LOG_LEVEL'][_0x52b29c(0x69d)](','),'COLOR':process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x1af)]==='true'},'PROXY':Number[_0x52b29c(0x411)](process[_0x52b29c(0x5fa)]?.[_0x52b29c(0x200)]),'AUTHENTICATION':{'TYPE':process['env']['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x52b29c(0x5fa)][_0x52b29c(0x24a)]},'JWT':{'EXPIRIN_IN':Number[_0x52b29c(0xe4)](process['env']?.[_0x52b29c(0x621)])?Number[_0x52b29c(0x411)](process[_0x52b29c(0x5fa)][_0x52b29c(0x621)]):0xe10,'SECRET':process[_0x52b29c(0x5fa)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new ns(),xo=T(require(a0_0x15841b(0x2b4))),ge=T(require('express')),js=require('path'),cs=T(require(a0_0x15841b(0x122))),ls=(_0x6527ee=>(_0x6527ee[a0_0x15841b(0x3e0)]=a0_0x15841b(0x77b),_0x6527ee['INFO']=a0_0x15841b(0xed),_0x6527ee[a0_0x15841b(0x309)]='\x1b[33m',_0x6527ee[a0_0x15841b(0x475)]='\x1b[31m',_0x6527ee[a0_0x15841b(0x5fe)]=a0_0x15841b(0x677),_0x6527ee[a0_0x15841b(0x16f)]=a0_0x15841b(0x23f),_0x6527ee[a0_0x15841b(0x2cb)]='\x1b[30m',_0x6527ee))(ls||{}),Gs=(_0x47f9c4=>(_0x47f9c4[a0_0x15841b(0x3e0)]='\x1b[32m%s\x1b[0m',_0x47f9c4['DARK']=a0_0x15841b(0x285),_0x47f9c4['INFO']='\x1b[34m%s\x1b[0m',_0x47f9c4[a0_0x15841b(0x309)]=a0_0x15841b(0x698),_0x47f9c4[a0_0x15841b(0x475)]=a0_0x15841b(0x62e),_0x47f9c4['DEBUG']=a0_0x15841b(0x33d),_0x47f9c4[a0_0x15841b(0x16f)]='\x1b[37m%s\x1b[0m',_0x47f9c4))(Gs||{}),Bs=(_0x3fc0d6=>(_0x3fc0d6[a0_0x15841b(0x3e0)]=a0_0x15841b(0x3e0),_0x3fc0d6[a0_0x15841b(0x309)]=a0_0x15841b(0x309),_0x3fc0d6[a0_0x15841b(0x49a)]='INFO',_0x3fc0d6['DARK']=a0_0x15841b(0x2cb),_0x3fc0d6[a0_0x15841b(0x475)]='ERROR',_0x3fc0d6[a0_0x15841b(0x5fe)]=a0_0x15841b(0x5fe),_0x3fc0d6['VERBOSE']=a0_0x15841b(0x16f),_0x3fc0d6))(Bs||{}),Ws=(_0x439242=>(_0x439242[a0_0x15841b(0x3e0)]=a0_0x15841b(0x64d),_0x439242[a0_0x15841b(0x49a)]=a0_0x15841b(0x5f0),_0x439242[a0_0x15841b(0x309)]=a0_0x15841b(0x67f),_0x439242[a0_0x15841b(0x2cb)]=a0_0x15841b(0x13f),_0x439242[a0_0x15841b(0x475)]=a0_0x15841b(0x5d6),_0x439242[a0_0x15841b(0x5fe)]=a0_0x15841b(0x110),_0x439242[a0_0x15841b(0x16f)]='\x1b[47m',_0x439242))(Ws||{}),R=class{constructor(_0x7afeee=a0_0x15841b(0x340)){this['context']=_0x7afeee,this['configService']=b;}[a0_0x15841b(0x772)](_0x18c1ae){this['context']=_0x18c1ae;}[a0_0x15841b(0x6e7)](_0x5dd032,_0x330d55){const _0x2ae9a3=a0_0x15841b;let _0x2f13ed=[];this[_0x2ae9a3(0x299)]['get'](_0x2ae9a3(0x3e0))[_0x2ae9a3(0x26e)]['forEach'](_0x45af33=>_0x2f13ed[_0x2ae9a3(0x627)](Bs[_0x45af33]));let _0x486df5=typeof _0x5dd032;_0x2f13ed['includes'](_0x330d55)&&(b[_0x2ae9a3(0x3cb)]('LOG')['COLOR']?(console[_0x2ae9a3(0x660)](_0x2ae9a3(0x412)+Gs[_0x330d55],_0x2ae9a3(0x534),(0x0,cs[_0x2ae9a3(0x4b6)])()[_0x2ae9a3(0x3f8)]('DD/MM\x20HH:mm:ss'),'\x1b[0m',ls[_0x330d55]+Ws[_0x330d55]+_0x2ae9a3(0x412),_0x330d55+_0x2ae9a3(0x141),'\x1b[33m\x1b[1m',this[_0x2ae9a3(0x409)]+_0x2ae9a3(0x636),ls[_0x330d55],_0x486df5!==_0x2ae9a3(0x300)?_0x5dd032:'',_0x2ae9a3(0x636)),_0x486df5===_0x2ae9a3(0x300)&&console['log'](_0x5dd032,'\x0a')):console[_0x2ae9a3(0x660)]((0x0,cs[_0x2ae9a3(0x4b6)])()['format'](_0x2ae9a3(0x5a1)),_0x330d55+'\x20',''+this[_0x2ae9a3(0x409)],_0x5dd032));}[a0_0x15841b(0x660)](_0x55411c){const _0x45162e=a0_0x15841b;this[_0x45162e(0x6e7)](_0x55411c,_0x45162e(0x3e0));}[a0_0x15841b(0x60c)](_0x4c69c9){const _0x280122=a0_0x15841b;this[_0x280122(0x6e7)](_0x4c69c9,_0x280122(0x49a));}[a0_0x15841b(0x156)](_0x3afb00){const _0x146400=a0_0x15841b;this[_0x146400(0x6e7)](_0x3afb00,'WARN');}[a0_0x15841b(0x45f)](_0x309bba){const _0x31f69e=a0_0x15841b;this[_0x31f69e(0x6e7)](_0x309bba,_0x31f69e(0x475));}[a0_0x15841b(0x2b5)](_0x26a4b7){const _0x492af4=a0_0x15841b;this[_0x492af4(0x6e7)](_0x26a4b7,_0x492af4(0x16f));}[a0_0x15841b(0x50c)](_0x1024dd){const _0x30b07a=a0_0x15841b;this[_0x30b07a(0x6e7)](_0x1024dd,'DEBUG');}['dark'](_0x4a0fe7){this['console'](_0x4a0fe7,'DARK');}};function zs(){const _0x47090c=a0_0x15841b;process['on'](_0x47090c(0x5ea),(_0x27e267,_0x86f68d)=>{const _0x20ee6a=_0x47090c;new R(_0x20ee6a(0x5ea))['error']({'origin':_0x86f68d,'stderr':process[_0x20ee6a(0x6be)]['fd'],'error':_0x27e267});}),process['on'](_0x47090c(0x786),(_0x6e79bb,_0x5c7d3e)=>{const _0x50b9f9=_0x47090c;new R(_0x50b9f9(0x786))['error']({'origin':_0x5c7d3e,'stderr':process['stderr']['fd'],'error':_0x6e79bb});});}var Hs=T(require(a0_0x15841b(0x1f2))),us=new Hs[(a0_0x15841b(0x4b6))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0x15841b(0x65d)),Ce=T(require(a0_0x15841b(0x65d))),Fe=new R(a0_0x15841b(0x5dd)),L=b['get'](a0_0x15841b(0xc8)),O=L[a0_0x15841b(0x4a2)]?L[a0_0x15841b(0x3a2)]['URI']?Ce[a0_0x15841b(0x4b6)][a0_0x15841b(0x302)](L[a0_0x15841b(0x3a2)][a0_0x15841b(0x57f)],{'dbName':L['CONNECTION'][a0_0x15841b(0x30f)]+a0_0x15841b(0x1d5)}):Ce[a0_0x15841b(0x4b6)]['createConnection'](a0_0x15841b(0x40f)+L['CONNECTION'][a0_0x15841b(0x523)]+':'+L['CONNECTION'][a0_0x15841b(0xc2)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x15841b(0x3a2)][a0_0x15841b(0x763)],'pass':L['CONNECTION'][a0_0x15841b(0x432)],'dbName':L[a0_0x15841b(0x3a2)][a0_0x15841b(0x30f)]+'-whatsapp-api'}):null;L[a0_0x15841b(0x4a2)]&&Fe[a0_0x15841b(0x60c)](a0_0x15841b(0x233)+O[a0_0x15841b(0x6f4)]);var fe=L[a0_0x15841b(0x4a2)]?L[a0_0x15841b(0x3a2)][a0_0x15841b(0x57f)]?Ce[a0_0x15841b(0x4b6)][a0_0x15841b(0x302)](L[a0_0x15841b(0x3a2)][a0_0x15841b(0x57f)],{'dbName':a0_0x15841b(0x24c)}):Ce['default'][a0_0x15841b(0x302)]('mongodb://'+L[a0_0x15841b(0x3a2)][a0_0x15841b(0x523)]+':'+L[a0_0x15841b(0x3a2)][a0_0x15841b(0xc2)]+a0_0x15841b(0x594),{'user':L[a0_0x15841b(0x3a2)][a0_0x15841b(0x763)],'pass':L['CONNECTION'][a0_0x15841b(0x432)],'dbName':a0_0x15841b(0x211)}):null;fe&&Fe[a0_0x15841b(0x60c)](a0_0x15841b(0x233)+fe['$dbName']),process['on'](a0_0x15841b(0x1b3),()=>{const _0x584b24=a0_0x15841b;O&&O[_0x584b24(0x50b)](()=>{const _0x3a5cc9=_0x584b24;Fe[_0x3a5cc9(0x60c)](_0x3a5cc9(0x4b1));}),fe&&fe[_0x584b24(0x50b)](()=>{const _0x3fd39f=_0x584b24;Fe[_0x3fd39f(0x60c)](_0x3fd39f(0x244));});});var Bo=new we[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new we['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new we[(a0_0x15841b(0x2cd))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new we['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new we['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x5f53af=>{const _0x200080=a0_0x15841b;let _0x13e902='z_'+_0x5f53af+_0x200080(0x385);return O?.[_0x200080(0x2b8)]('ChatModel',Ko,_0x13e902);},Qs=require('mongoose'),Qo=new Qs[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x179f6e=>{const _0x52f586=a0_0x15841b;let _0x314063='z_'+_0x179f6e+'_Contacts';return O?.[_0x52f586(0x2b8)](_0x52f586(0x6bc),Qo,_0x314063);},Xs=require(a0_0x15841b(0x65d)),ds=class{},Yo=new Xs[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x15841b(0x2b8)](ds[a0_0x15841b(0x424)],Yo,a0_0x15841b(0x4eb)),ea=require('mongoose'),Xo=new ea[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0x4d424a=>{const _0x26c93a=a0_0x15841b;let _0x45ede9='z_'+_0x4d424a+'_Messages';return O?.[_0x26c93a(0x2b8)]('MessageModel',Xo,_0x45ede9);},sa=require(a0_0x15841b(0x65d)),ps=class{},Zo=new sa[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=O?.[a0_0x15841b(0x2b8)](ps[a0_0x15841b(0x424)],Zo,a0_0x15841b(0x11d)),oa=require(a0_0x15841b(0x65d)),hs=class{},ra=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ra[a0_0x15841b(0x42c)]('save',function(_0x1da696){const _0xeb90a7=a0_0x15841b;delete this[_0xeb90a7(0x157)],delete this['flowIgnoreGroups'],delete this[_0xeb90a7(0x649)],delete this[_0xeb90a7(0x519)],delete this[_0xeb90a7(0x460)],_0x1da696();});var ia=O?.['model'](hs[a0_0x15841b(0x424)],ra,a0_0x15841b(0x48f)),k=require(a0_0x15841b(0x65d)),na=require('uuid'),Ue=class{},ca=new k[(a0_0x15841b(0x2cd))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new k[(a0_0x15841b(0x2cd))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new k[(a0_0x15841b(0x2cd))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x15841b(0x75f)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x15841b(0x2cd))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new k[(a0_0x15841b(0x2cd))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new k['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new k['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ua=new k[(a0_0x15841b(0x2cd))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new k[(a0_0x15841b(0x2cd))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new k[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':'false'},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x358b83=a0_0x15841b;return _0x358b83(0x465)+Math[_0x358b83(0x1ab)]()[_0x358b83(0x6ca)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]}});ws['pre'](a0_0x15841b(0x78d),function(_0x365ed8){const _0x22ab3a=a0_0x15841b;let _0x389c3d=new Set(),_0x38fd0c=new Set(this[_0x22ab3a(0x77f)]?.[_0x22ab3a(0xef)](_0x3a49aa=>_0x3a49aa['name'])),_0x10709f=JSON[_0x22ab3a(0x194)](this),_0x1ecd80=/{{(?!_)([^}]*)}}/g,_0x2e7a8b;for(;(_0x2e7a8b=_0x1ecd80[_0x22ab3a(0x2bf)](_0x10709f))!==null;)_0x38fd0c['has'](_0x2e7a8b[0x1])||_0x389c3d['add'](_0x2e7a8b[0x1]);_0x389c3d[_0x22ab3a(0x671)]>0x0?(console[_0x22ab3a(0x156)]('Variáveis\x20não\x20encontradas:',Array[_0x22ab3a(0x673)](_0x389c3d)),this['variablesNotFound']=Array[_0x22ab3a(0x673)](_0x389c3d)):this[_0x22ab3a(0x4c1)]=[],_0x365ed8();}),ws[a0_0x15841b(0x42c)](a0_0x15841b(0x413),function(_0x373908){const _0x24654a=a0_0x15841b;let _0x5437d7=this[_0x24654a(0x462)]();if(_0x5437d7&&typeof _0x5437d7==_0x24654a(0x300)&&_0x24654a(0x2ae)in _0x5437d7){let _0x10930c=_0x5437d7['$set'];if(_0x10930c){let _0x25c7a2=new Set(),_0x2bd1a1=new Set(_0x10930c[_0x24654a(0x77f)]?.[_0x24654a(0xef)](_0x455d0d=>_0x455d0d[_0x24654a(0x424)])),_0x46a42b=JSON[_0x24654a(0x194)](_0x10930c),_0x433b9e=/{{(?!_)([^}]*)}}/g,_0x5491e0;for(;(_0x5491e0=_0x433b9e['exec'](_0x46a42b))!==null;)_0x2bd1a1[_0x24654a(0x5ee)](_0x5491e0[0x1])||_0x25c7a2[_0x24654a(0x720)](_0x5491e0[0x1]);_0x25c7a2[_0x24654a(0x671)]>0x0?(console['warn'](_0x24654a(0x31d),Array['from'](_0x25c7a2)),_0x10930c[_0x24654a(0x4c1)]=Array[_0x24654a(0x673)](_0x25c7a2)):_0x10930c[_0x24654a(0x4c1)]=[],this[_0x24654a(0x320)]({'$set':_0x10930c});}}_0x373908();});var pa=_0x3b3fb1=>{const _0x2fe7ec=a0_0x15841b;let _0x2fbdf2='z_'+_0x3b3fb1+_0x2fe7ec(0x401);return O?.[_0x2fe7ec(0x2b8)](_0x2fe7ec(0xd3),ws,_0x2fbdf2);},ar=new k['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),or=new k['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]},'chatLog':ar,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x15841b(0x23c)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x15841b(0x118)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),ha=_0x394975=>{const _0x49cf68=a0_0x15841b;let _0x5bacc0='z_'+_0x394975+_0x49cf68(0xfa);return O?.[_0x49cf68(0x2b8)](_0x49cf68(0x21d),or,_0x5bacc0);},rr=new k[(a0_0x15841b(0x2cd))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ir=new k['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),nr=new k[(a0_0x15841b(0x2cd))]({'owner':{'type':String},'status':{'type':String,'default':'scheduled'},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ir,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[rr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x329bbd=>{const _0x3723f3=a0_0x15841b;let _0xd72ee9='z_'+_0x329bbd+_0x3723f3(0x57e);return O?.[_0x3723f3(0x2b8)]('ScheduleMessageModel',nr,_0xd72ee9);},ms=class{},cr=new k[(a0_0x15841b(0x2cd))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),lr=new k[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ur=new k[(a0_0x15841b(0x2cd))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),dr=new k[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),pr=new k[(a0_0x15841b(0x2cd))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[dr]},'customFields':{'type':[lr]},'flowConfig':{'type':ur,'default':{}},'autoCompleteMessages':{'type':[cr],'default':[]}}),Ee=O?.[a0_0x15841b(0x2b8)](ms[a0_0x15841b(0x424)],pr,'AutomateSystem'),ma=require(a0_0x15841b(0x65d)),hr=new ma[(a0_0x15841b(0x2cd))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0x1a4975=>{const _0x22d36e=a0_0x15841b;let _0x798b98='z_'+_0x1a4975+_0x22d36e(0x212);return O?.[_0x22d36e(0x2b8)]('LabelModel',hr,_0x798b98);},x=class{constructor(_0x59c7ea){const _0x54839c=a0_0x15841b;this[_0x54839c(0x38a)]=_0x59c7ea[_0x54839c(0x3cb)]('DATABASE');}};function $(_0x374492){const _0x5e5153=a0_0x15841b;let _0x4c33df={};for(let [_0x54ab2b,_0x17db65]of Object[_0x5e5153(0x65c)](_0x374492))if(typeof _0x17db65=='object'&&!Array[_0x5e5153(0x676)](_0x17db65)){for(let [_0x29316c,_0x1060fa]of Object[_0x5e5153(0x65c)](_0x17db65))_0x4c33df[_0x54ab2b+'.'+_0x29316c]=_0x1060fa;}else _0x4c33df[_0x54ab2b]=_0x17db65;return _0x4c33df;}var Je=class{constructor(_0x3c6e34,_0x21713e,_0x3a77c9,_0x4f0797,_0x490e86,_0x32ac56,_0xee484,_0x27b558,_0x3d9435,_0x5d57d7,_0x2cef6a,_0x1764d6){const _0x24b61b=a0_0x15841b;this[_0x24b61b(0x573)]=_0x3c6e34,this[_0x24b61b(0x755)]=_0x21713e,this[_0x24b61b(0x5b8)]=_0x3a77c9,this['cacheContact']=_0x4f0797,this[_0x24b61b(0x48f)]=_0x490e86,this[_0x24b61b(0x2a1)]=_0x32ac56,this[_0x24b61b(0x360)]=_0xee484,this[_0x24b61b(0x511)]=_0x27b558,this['label']=_0x3d9435,this[_0x24b61b(0x19b)]=_0x5d57d7,this[_0x24b61b(0x716)]=_0x2cef6a,this[_0x24b61b(0x78c)]=_0x1764d6;}get[a0_0x15841b(0x1b7)](){const _0x3ea984=a0_0x15841b;return this[_0x3ea984(0x78c)];}},qe=class{},Ve=class extends x{[a0_0x15841b(0x43a)](_0x3af4ff){return ta(_0x3af4ff);}async[a0_0x15841b(0x6d8)](_0xea930e,_0x1a980e){const _0x4e8ab0=a0_0x15841b;if(_0xea930e[_0x4e8ab0(0x561)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x4e8ab0(0x43a)](_0x1a980e)[_0x4e8ab0(0x3c4)]([..._0xea930e]))['length']};}catch(_0x88ffec){return _0x88ffec;}}async['find'](_0x204dd,_0x562c53){const _0x1929d0=a0_0x15841b;try{let _0x248534=this[_0x1929d0(0x43a)](_0x562c53),_0x11697c=$(_0x204dd[_0x1929d0(0x4a1)]);return await _0x248534[_0x1929d0(0x76f)](_0x11697c)[_0x1929d0(0x16b)]({'messageTimestamp':-0x1})[_0x1929d0(0x6e2)](_0x204dd?.[_0x1929d0(0x6e2)]??0x0)['lean']();}catch{return[];}}async[a0_0x15841b(0x453)](_0x2c9058,_0x1e2798){const _0xa28d5=a0_0x15841b;try{let _0x9dc3ec=this[_0xa28d5(0x43a)](_0x1e2798),_0x9a0bf7=$(_0x2c9058[_0xa28d5(0x4a1)]);await _0x9dc3ec[_0xa28d5(0x3c7)](_0x9a0bf7);}catch(_0x14036e){console[_0xa28d5(0x45f)](_0x14036e);}}async[a0_0x15841b(0x179)](_0x5a734f,_0xe440bf,_0x3fb50c){const _0x498432=a0_0x15841b;try{let _0x224c2a=this[_0x498432(0x43a)](_0x3fb50c),_0x40d5c9=$(_0x5a734f[_0x498432(0x4a1)]);return await _0x224c2a[_0x498432(0x413)](_0x40d5c9,{'$set':_0xe440bf},{'new':!0x0});}catch(_0x52af85){throw console[_0x498432(0x45f)](_0x52af85),_0x52af85;}}async[a0_0x15841b(0x3c4)](_0x3fa0f5,_0x57754f){const _0x103ed2=a0_0x15841b;if(_0x3fa0f5[_0x103ed2(0x561)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x103ed2(0x43a)](_0x57754f)[_0x103ed2(0x3c4)]([..._0x3fa0f5]))[_0x103ed2(0x561)]};}catch(_0x5a0429){return console['log']('ERROR:\x20',_0x5a0429),_0x5a0429;}}async[a0_0x15841b(0x134)](_0x24ba00){const _0xe6b5fc=a0_0x15841b;try{return await this[_0xe6b5fc(0x43a)](_0x24ba00)[_0xe6b5fc(0x4f2)]['drop'](),{'success':!0x0};}catch(_0x5f4939){return console[_0xe6b5fc(0x45f)](_0x5f4939),{'success':!0x1,'error':_0x5f4939};}}},Os=T(require(a0_0x15841b(0x3ec))),f=T(require('@whiskeysockets/baileys')),$e=require('fs'),F=T(require(a0_0x15841b(0x457))),K=T(require(a0_0x15841b(0x101))),Co=require(a0_0x15841b(0x372)),Eo=T(require(a0_0x15841b(0x4ed))),vo=T(require(a0_0x15841b(0x2df))),wa=['imageMessage',a0_0x15841b(0x33a),'audioMessage','videoMessage',a0_0x15841b(0x5c1)],ya=[a0_0x15841b(0x40d),a0_0x15841b(0x75a),'viewOnceMessage',a0_0x15841b(0x5cc)],Ts=require('os'),Pt=T(require(a0_0x15841b(0x44f))),Ae=require('child_process'),kt=require(a0_0x15841b(0x2b3)),re=T(require(a0_0x15841b(0x65d))),P=require(a0_0x15841b(0x6e9)),ye=class{constructor(_0x38c7b8,_0x5d967e,_0x341a31){const _0x41d910=a0_0x15841b;this[_0x41d910(0x425)]=_0x38c7b8,this[_0x41d910(0x67a)]=_0x5d967e,this[_0x41d910(0x424)]=_0x341a31;}},Ge=class{},Be=class{},ve=class{},We=class{},ze=class{},be=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},$t=T(require('express')),ba=require('fs'),Sa=require(a0_0x15841b(0x457));async function Xe(_0x56da64){const _0x726715=a0_0x15841b;let _0x500a25=G[_0x726715(0x36c)][_0x56da64];if(L[_0x726715(0x4a2)]){let _0x17a4ef=O[_0x726715(0x5f8)]()['db'](L[_0x726715(0x3a2)]['DB_PREFIX_NAME']+_0x726715(0x180))[_0x726715(0x4f2)](_0x56da64);return _0x500a25||(await _0x17a4ef[_0x726715(0x76f)]({})[_0x726715(0x5b4)]())['length']>0x0;}return _0x500a25||(0x0,ba[_0x726715(0x777)])((0x0,Sa[_0x726715(0x18d)])(me,_0x56da64));}async function Ma(_0x40bfce,_0x29d374,_0x4ec618){const _0xefb73f=a0_0x15841b;if(_0x40bfce['originalUrl'][_0xefb73f(0x278)](_0xefb73f(0x130))||_0x40bfce['originalUrl'][_0xefb73f(0x278)](_0xefb73f(0x3ed))||_0x40bfce[_0xefb73f(0x741)][_0xefb73f(0x278)](_0xefb73f(0x450))||_0x40bfce[_0xefb73f(0x741)][_0xefb73f(0x278)](_0xefb73f(0x531))||_0x40bfce[_0xefb73f(0x741)][_0xefb73f(0x278)](_0xefb73f(0x2dc))||_0x40bfce[_0xefb73f(0x741)]['includes'](_0xefb73f(0x12c))||_0x40bfce[_0xefb73f(0x741)][_0xefb73f(0x278)](_0xefb73f(0x4b0)))return _0x4ec618();let _0xfd26b6=_0x40bfce['params'];if(!_0xfd26b6?.[_0xefb73f(0x1fd)])throw new m(_0xefb73f(0x3ab));if(!await Xe(_0xfd26b6[_0xefb73f(0x1fd)]))throw new J(_0xefb73f(0x496)+_0xfd26b6[_0xefb73f(0x1fd)]+_0xefb73f(0x53f));_0x4ec618();}async function Ca(_0x263304,_0xfaa0a1,_0x32a694){const _0x39408c=a0_0x15841b;if(_0x263304[_0x39408c(0x741)]['includes'](_0x39408c(0x130))){let _0x327a97=_0x263304['body'];if(await Xe(_0x327a97[_0x39408c(0x1fd)]))throw new Q(_0x39408c(0x2d9)+_0x327a97[_0x39408c(0x1fd)]+_0x39408c(0x13e));G[_0x39408c(0x36c)][_0x327a97['instanceName']]&&delete G[_0x39408c(0x36c)][_0x327a97[_0x39408c(0x1fd)]];}_0x32a694();}var Ea=require('class-validator'),va=T(require(a0_0x15841b(0x6a4))),Ze=a0_0x15841b(0x62a),mr=new R(a0_0x15841b(0xde));async function fr(_0x1dc859,_0x32a1e0,_0x24b1b1){const _0x25a897=a0_0x15841b;let _0x1d069c=_0x1dc859['get'](_0x25a897(0x239));if(_0x1d069c&&b[_0x25a897(0x3cb)](_0x25a897(0x6e8))['API_KEY'][_0x25a897(0x6e0)]!==_0x1d069c)throw new se();if(b[_0x25a897(0x3cb)](_0x25a897(0x6e8))[_0x25a897(0x21b)][_0x25a897(0x6e0)]===_0x1d069c)return _0x24b1b1();if((_0x1dc859[_0x25a897(0x741)]['includes'](_0x25a897(0x130))||_0x1dc859[_0x25a897(0x741)]['includes'](_0x25a897(0x3ed)))&&!_0x1d069c)throw new Q('Missing\x20global\x20api\x20key',_0x25a897(0x530));let _0x40cf98=b[_0x25a897(0x3cb)](_0x25a897(0x6e8))[_0x25a897(0x6ce)];try{let [_0x10f117,_0x3097ad]=_0x1dc859[_0x25a897(0x3cb)](_0x25a897(0x6dc))[_0x25a897(0x69d)]('\x20');if(_0x10f117['toLowerCase']()!==_0x25a897(0x6e1))throw new se();if(!(0x0,Ea[_0x25a897(0x69a)])(_0x3097ad))throw new se();let _0x293d7f=_0x1dc859[_0x25a897(0x71b)],_0x3e9ed4=va[_0x25a897(0x4b6)]['verify'](_0x3097ad,_0x40cf98[_0x25a897(0xc5)],{'ignoreExpiration':_0x40cf98['EXPIRIN_IN']===0x0});if(_0x293d7f['instanceName']!==_0x3e9ed4['instanceName']||Ze!==_0x3e9ed4[_0x25a897(0x568)])throw new se();return _0x24b1b1();}catch(_0x245e0a){throw mr[_0x25a897(0x45f)](_0x245e0a),new se();}}async function wr(_0x1ce393,_0x5e0066,_0x21d387){const _0x42344f=a0_0x15841b;let _0x296563=b[_0x42344f(0x3cb)]('AUTHENTICATION')[_0x42344f(0x21b)],_0x57d965=_0x1ce393['get'](_0x42344f(0x239));if(_0x296563[_0x42344f(0x6e0)]===_0x57d965)return _0x21d387();if(_0x1ce393['originalUrl'][_0x42344f(0x278)](_0x42344f(0x130))){let _0x5e292d=et,_0xf35df6=_0x1ce393[_0x42344f(0x24d)]['instanceName'];if(_0x5e292d&&_0xf35df6[_0x42344f(0x48c)]()['startsWith'](_0x5e292d[_0x42344f(0x48c)]()))return _0x21d387();if(!_0x57d965)throw new Q(_0x42344f(0x364),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x1ce393[_0x42344f(0x741)][_0x42344f(0x278)]('/instance/fetchInstances')&&!_0x57d965)throw new Q(_0x42344f(0x364),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x1ce393[_0x42344f(0x741)][_0x42344f(0x278)](_0x42344f(0x450))&&!_0x57d965)throw new Q(_0x42344f(0x364),_0x42344f(0x530));if(_0x1ce393[_0x42344f(0x741)][_0x42344f(0x278)](_0x42344f(0x531))&&!_0x57d965)throw new Q(_0x42344f(0x364),_0x42344f(0x530));try{let _0x8e202e=_0x1ce393[_0x42344f(0x71b)],_0x131374=await de['auth'][_0x42344f(0x76f)](_0x8e202e[_0x42344f(0x1fd)]);if(_0x131374&&_0x131374['apikey']===_0x57d965)return _0x21d387();}catch{}throw new se();}var Na={'jwt':fr,'apikey':wr},ro=require('express'),v=require(a0_0x15841b(0x372)),E=(..._0x1fad5f)=>{const _0x554a21=a0_0x15841b;let _0x1ad7c3={};return _0x1fad5f[_0x554a21(0x537)](_0x216654=>_0x1ad7c3[_0x216654]={'minLength':0x1,'description':_0x554a21(0x619)+_0x216654+_0x554a21(0x586)}),{'if':{'propertyNames':{'enum':[..._0x1fad5f]}},'then':{'properties':_0x1ad7c3}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'instanceName':{'type':'string'}},...E('instanceName')},ic={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'oldToken':{'type':'string'}},'required':['oldToken'],...E(a0_0x15841b(0x3da))},nc={'properties':{'key':{'type':a0_0x15841b(0x300),'properties':{'id':{'type':a0_0x15841b(0x421)},'remoteJid':{'type':a0_0x15841b(0x421)},'fromMe':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x15841b(0x316),'fromMe'],...E('id',a0_0x15841b(0x316))},'message':{'type':'object'}}},Y={'properties':{'delay':{'type':a0_0x15841b(0x747),'description':a0_0x15841b(0x4b8)},'presence':{'type':'string','enum':[a0_0x15841b(0x37e),a0_0x15841b(0x3d2),a0_0x15841b(0x3a8),a0_0x15841b(0x6fc),a0_0x15841b(0x4e6)]}}},z={'type':a0_0x15841b(0x421),'description':a0_0x15841b(0x5f4)},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x15841b(0x300),'properties':{'text':{'type':'string'}},'required':[a0_0x15841b(0x338)],...E('text')}},'required':[a0_0x15841b(0x3b3),'number']},Oa={'type':a0_0x15841b(0x421),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x15841b(0x5f4)},cc={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...Oa},'options':{...Y},'textMessage':{'type':a0_0x15841b(0x300),'properties':{'text':{'type':a0_0x15841b(0x421)}},'required':[a0_0x15841b(0x338)],...E(a0_0x15841b(0x338))}},'required':[a0_0x15841b(0x3b3),a0_0x15841b(0x799)]},lc={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...Oa},'options':{...Y},'mediaMessage':{'type':a0_0x15841b(0x300),'properties':{'mediatype':{'type':a0_0x15841b(0x421),'enum':['image','document','video',a0_0x15841b(0x451)]},'media':{'type':a0_0x15841b(0x421)},'fileName':{'type':a0_0x15841b(0x421)},'caption':{'type':a0_0x15841b(0x421)}},'required':[a0_0x15841b(0x75e),'media'],...E(a0_0x15841b(0x1ba),a0_0x15841b(0x752),'media')}},'required':[a0_0x15841b(0x3c2),a0_0x15841b(0x799)]},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x15841b(0x300),'properties':{'image':{'type':a0_0x15841b(0x421)}},'required':[a0_0x15841b(0x5e7)],...E(a0_0x15841b(0x5e7))}},'required':[a0_0x15841b(0x5c1),a0_0x15841b(0x799)]},$a={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x15841b(0x421),'enum':[a0_0x15841b(0x338),a0_0x15841b(0x5e7),a0_0x15841b(0x451),a0_0x15841b(0x4c2)]},'content':{'type':a0_0x15841b(0x421)},'caption':{'type':a0_0x15841b(0x421)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x15841b(0x747),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x15841b(0x601),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15841b(0x421),'pattern':a0_0x15841b(0x36e),'description':a0_0x15841b(0x497)}},'allContacts':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]}},'required':[a0_0x15841b(0x265),'content'],...E(a0_0x15841b(0x265),a0_0x15841b(0x595))}},'required':['statusMessage']},Aa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x15841b(0x300),'properties':{'mediatype':{'type':a0_0x15841b(0x421),'enum':['image',a0_0x15841b(0x1d3),a0_0x15841b(0x4c2),a0_0x15841b(0x451)]},'media':{'type':a0_0x15841b(0x421)},'fileName':{'type':a0_0x15841b(0x421)},'caption':{'type':'string'}},'required':[a0_0x15841b(0x75e),a0_0x15841b(0x565)],...E('fileName','caption',a0_0x15841b(0x565))}},'required':[a0_0x15841b(0x3c2),a0_0x15841b(0x799)]},Ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x15841b(0x300),'properties':{'audio':{'type':a0_0x15841b(0x421)}},'required':['audio'],...E(a0_0x15841b(0x451))}},'required':['audioMessage',a0_0x15841b(0x799)]},xa={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...z},'pollMessage':{'type':a0_0x15841b(0x300),'properties':{'name':{'type':a0_0x15841b(0x421)},'selectableCount':{'type':a0_0x15841b(0x799)},'values':{'type':a0_0x15841b(0x601),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x15841b(0x424),a0_0x15841b(0x764),a0_0x15841b(0x224)],...E('name','selectableCount',a0_0x15841b(0x224))}},'required':[a0_0x15841b(0x799),a0_0x15841b(0x410)]},Da={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...z},'menuMessage':{'type':a0_0x15841b(0x300),'properties':{'text':{'type':a0_0x15841b(0x421)},'choices':{'type':a0_0x15841b(0x601),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...E(a0_0x15841b(0x338),'choices')}},'required':['number','menuMessage']},_a={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x15841b(0x300),'properties':{'title':{'type':a0_0x15841b(0x421)},'description':{'type':a0_0x15841b(0x421)},'footerText':{'type':a0_0x15841b(0x421)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15841b(0x300),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x15841b(0x421)}},'required':[a0_0x15841b(0x1bd),'buttonId'],...E('buttonText',a0_0x15841b(0x5aa))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x15841b(0x421)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x15841b(0x421),'enum':[a0_0x15841b(0x5e7),a0_0x15841b(0x1d3),'video']}},'required':[a0_0x15841b(0x565),a0_0x15841b(0x75e)],...E(a0_0x15841b(0x565),a0_0x15841b(0x1ba))}},'required':['title',a0_0x15841b(0x271)],...E('title',a0_0x15841b(0x617))}},'required':[a0_0x15841b(0x799),a0_0x15841b(0x593)]},Pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x15841b(0x300),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x15841b(0x799)},'name':{'type':a0_0x15841b(0x421)},'address':{'type':'string'}},'required':[a0_0x15841b(0x692),a0_0x15841b(0x275)],...E(a0_0x15841b(0x424),'addresss')}},'required':[a0_0x15841b(0x799),a0_0x15841b(0x732)]},ka={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x15841b(0x300),'properties':{'title':{'type':a0_0x15841b(0x421)},'description':{'type':a0_0x15841b(0x421)},'footerText':{'type':a0_0x15841b(0x421)},'buttonText':{'type':a0_0x15841b(0x421)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15841b(0x300),'properties':{'title':{'type':a0_0x15841b(0x421)},'rows':{'type':a0_0x15841b(0x601),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15841b(0x300),'properties':{'title':{'type':a0_0x15841b(0x421)},'description':{'type':'string'},'rowId':{'type':a0_0x15841b(0x421)}},'required':['title',a0_0x15841b(0x6c3)],...E(a0_0x15841b(0x780),a0_0x15841b(0x6c3))}}},'required':[a0_0x15841b(0x780),a0_0x15841b(0x72a)],...E(a0_0x15841b(0x780))}}},'required':['title',a0_0x15841b(0x617),a0_0x15841b(0x1bd),a0_0x15841b(0x25a)],...E(a0_0x15841b(0x780),a0_0x15841b(0x617),a0_0x15841b(0x1bd),a0_0x15841b(0x4e1))}},'required':[a0_0x15841b(0x799),a0_0x15841b(0x4db)]},ja={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':'array','items':{'type':a0_0x15841b(0x300),'properties':{'fullName':{'type':a0_0x15841b(0x421)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x15841b(0x43e),a0_0x15841b(0xfe)],...E(a0_0x15841b(0x43e))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x15841b(0x799),a0_0x15841b(0x5c5)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'reactionMessage':{'type':a0_0x15841b(0x300),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x15841b(0x421)},'fromMe':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x15841b(0x316),a0_0x15841b(0x1d8)],...E('id',a0_0x15841b(0x316))},'reaction':{'type':'string'}},'required':[a0_0x15841b(0x500),a0_0x15841b(0x39b)],...E('reaction')}},'required':[a0_0x15841b(0xf3)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15841b(0x421),'pattern':'^\x5cd+','description':a0_0x15841b(0x2b9)}}}},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'readMessages':{'type':a0_0x15841b(0x601),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x15841b(0x421)},'fromMe':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x15841b(0x421)}},'required':['id',a0_0x15841b(0x1d8),a0_0x15841b(0x316)],...E('id',a0_0x15841b(0x316))}}},'required':[a0_0x15841b(0x6c7)]},Ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x15841b(0x300),'properties':{'readreceipts':{'type':'string','enum':[a0_0x15841b(0x60e),a0_0x15841b(0x572)]},'profile':{'type':'string','enum':[a0_0x15841b(0x60e),'contacts',a0_0x15841b(0x6f0),a0_0x15841b(0x572)]},'status':{'type':a0_0x15841b(0x421),'enum':[a0_0x15841b(0x60e),a0_0x15841b(0x295),a0_0x15841b(0x6f0),'none']},'online':{'type':a0_0x15841b(0x421),'enum':[a0_0x15841b(0x60e),a0_0x15841b(0xdf)]},'last':{'type':a0_0x15841b(0x421),'enum':[a0_0x15841b(0x60e),a0_0x15841b(0x295),a0_0x15841b(0x6f0),a0_0x15841b(0x572)]},'groupadd':{'type':'string','enum':[a0_0x15841b(0x60e),a0_0x15841b(0x295),a0_0x15841b(0x6f0),'none']}},'required':[a0_0x15841b(0x4a3),'profile','status','online',a0_0x15841b(0x1d9),a0_0x15841b(0x51a)],...E(a0_0x15841b(0x4a3),a0_0x15841b(0x203),a0_0x15841b(0x633),'online',a0_0x15841b(0x1d9),'groupadd')}},'required':[a0_0x15841b(0x5bb)]},qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x15841b(0x300),'properties':{'key':{'type':a0_0x15841b(0x300),'properties':{'id':{'type':a0_0x15841b(0x421)},'remoteJid':{'type':a0_0x15841b(0x421)},'fromMe':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x15841b(0x1d8),a0_0x15841b(0x316)],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x15841b(0x747),'minLength':0x1}},'required':[a0_0x15841b(0x500)],...E(a0_0x15841b(0xc9))},'archive':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x15841b(0x71d)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'id':{'type':a0_0x15841b(0x421)},'fromMe':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x15841b(0x421)},'participant':{'type':a0_0x15841b(0x421)}},'required':['id',a0_0x15841b(0x1d8),a0_0x15841b(0x316)],...E('id',a0_0x15841b(0x316),a0_0x15841b(0x4f3))},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'where':{'type':a0_0x15841b(0x300),'properties':{'_id':{'type':a0_0x15841b(0x421),'minLength':0x1},'pushName':{'type':a0_0x15841b(0x421),'minLength':0x1},'id':{'type':a0_0x15841b(0x421),'minLength':0x1}},...E(a0_0x15841b(0x333),'id','pushName')}}},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'name':{'type':a0_0x15841b(0x421)}},...E('name')},Wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x15841b(0x421)}},...E('status')},Ne={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{'type':a0_0x15841b(0x421)},'picture':{'type':a0_0x15841b(0x421)}}},za={'type':a0_0x15841b(0x300),'properties':{'wuid':{'type':a0_0x15841b(0x421)},'name':{'type':a0_0x15841b(0x421)},'picture':{'type':'string'},'status':{'type':a0_0x15841b(0x421)},'isBusiness':{'type':a0_0x15841b(0x4f6)}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x15841b(0x421),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x15841b(0x1d8),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x15841b(0x514)},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x15841b(0x300)}},...E(a0_0x15841b(0x333))},'limit':{'type':a0_0x15841b(0x747)}}},uc={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'where':{'type':a0_0x15841b(0x300),'properties':{'_id':{'type':a0_0x15841b(0x421)},'remoteJid':{'type':a0_0x15841b(0x421)},'id':{'type':a0_0x15841b(0x421)},'fromMe':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x15841b(0x421)},'status':{'type':'string','enum':[a0_0x15841b(0x475),'PENDING','SERVER_ACK',a0_0x15841b(0x567),a0_0x15841b(0xc7),'PLAYED']}},...E(a0_0x15841b(0x333),'remoteJid','id',a0_0x15841b(0x633))},'limit':{'type':a0_0x15841b(0x747)}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'number':{...z},'presence':{'type':a0_0x15841b(0x421),'enum':[a0_0x15841b(0x37e),a0_0x15841b(0x3d2),a0_0x15841b(0x3a8),'recording',a0_0x15841b(0x4e6)]}},'required':[a0_0x15841b(0x254),a0_0x15841b(0x799)]},Qa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x15841b(0x421)},'description':{'type':a0_0x15841b(0x421)},'profilePicture':{'type':a0_0x15841b(0x421)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15841b(0x421),'minLength':0xa,'pattern':a0_0x15841b(0xfb),'description':a0_0x15841b(0x185)}}},'required':[a0_0x15841b(0x35c),a0_0x15841b(0x3bc)],...E(a0_0x15841b(0x35c),a0_0x15841b(0x617),a0_0x15841b(0x1cd))},Re={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'groupJid':{'type':'string','pattern':a0_0x15841b(0x758)}},'required':[a0_0x15841b(0x569)],...E(a0_0x15841b(0x569))},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'groupJid':{'type':a0_0x15841b(0x421)},'action':{'type':a0_0x15841b(0x421),'enum':[a0_0x15841b(0x720),a0_0x15841b(0x75d),a0_0x15841b(0x740),a0_0x15841b(0x6a6),a0_0x15841b(0x545),a0_0x15841b(0x578)]},'participants':{'type':a0_0x15841b(0x601),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x15841b(0x421),'minLength':0xa,'pattern':a0_0x15841b(0xfb),'description':a0_0x15841b(0x185)}}},'required':[a0_0x15841b(0x569),a0_0x15841b(0x40e),a0_0x15841b(0x3bc)],...E('groupJid',a0_0x15841b(0x40e))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'groupJid':{'type':a0_0x15841b(0x421)},'expiration':{'type':a0_0x15841b(0x799),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x15841b(0x569),a0_0x15841b(0x345)],...E('groupJid','expiration')},Za={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'groupJid':{'type':a0_0x15841b(0x421)},'image':{'type':a0_0x15841b(0x421)}},'required':[a0_0x15841b(0x569),a0_0x15841b(0x5e7)],...E(a0_0x15841b(0x569),a0_0x15841b(0x5e7))},eo={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x15841b(0x421)},'description':{'type':'string'}},'required':[a0_0x15841b(0x569),a0_0x15841b(0x617)],...E(a0_0x15841b(0x569),a0_0x15841b(0x617))},to={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'groupJid':{'type':a0_0x15841b(0x421)},'name':{'type':'string'}},'required':['groupJid',a0_0x15841b(0x424)],...E(a0_0x15841b(0x569),a0_0x15841b(0x424))},so={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x15841b(0x421)},'setting':{'type':a0_0x15841b(0x421),'enum':[a0_0x15841b(0x291),a0_0x15841b(0x4a0),a0_0x15841b(0x2f7),'locked']}},'required':[a0_0x15841b(0x569),a0_0x15841b(0x38d)],...E(a0_0x15841b(0x569),a0_0x15841b(0x38d))},ao={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'groupJid':{'type':a0_0x15841b(0x421)},'restrict':{'type':a0_0x15841b(0x4f6)},'announce':{'type':a0_0x15841b(0x4f6)},'memberAddMode':{'type':a0_0x15841b(0x4f6)},'joinApprovalMode':{'type':a0_0x15841b(0x4f6)},'expiration':{'type':a0_0x15841b(0x747),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x15841b(0x421)},'description':{'type':'string'},'image':{'type':a0_0x15841b(0x421)}}},ys={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'inviteCode':{'type':a0_0x15841b(0x421)}},'required':[a0_0x15841b(0x2fe)],...E(a0_0x15841b(0x2fe))},oo={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'url':{'type':a0_0x15841b(0x421)},'enabled':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]}},'required':['url','enabled']},dc={'$id':(0x0,v['v4'])(),'type':a0_0x15841b(0x300),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x15841b(0x4f6),'enum':[!0x0,!0x1]}},'required':[a0_0x15841b(0x6de),a0_0x15841b(0x27c),a0_0x15841b(0x430),a0_0x15841b(0x582),a0_0x15841b(0x14d),'MESSAGES_UPSERT',a0_0x15841b(0x53b),a0_0x15841b(0x6c6),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x15841b(0x6d7),a0_0x15841b(0x743),a0_0x15841b(0x73a),a0_0x15841b(0x691),a0_0x15841b(0x177),a0_0x15841b(0x343),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x15841b(0x47d)],...E(a0_0x15841b(0x6de),a0_0x15841b(0x27c),a0_0x15841b(0x430),'MESSAGES_SET',a0_0x15841b(0x14d),'MESSAGES_UPSERT',a0_0x15841b(0x53b),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x15841b(0x4b9),a0_0x15841b(0x6d7),a0_0x15841b(0x743),a0_0x15841b(0x73a),a0_0x15841b(0x691),a0_0x15841b(0x177),a0_0x15841b(0x343),a0_0x15841b(0x3a0),a0_0x15841b(0x776),a0_0x15841b(0x47d))},tt=class{},st=class extends x{[a0_0x15841b(0x400)](_0x471f56){return Ys(_0x471f56);}async[a0_0x15841b(0x6d8)](_0x5e49e8){const _0x539b41=a0_0x15841b;if(_0x5e49e8['length']!==0x0)try{return{'insertCount':(await this[_0x539b41(0x400)](_0x5e49e8[0x0][_0x539b41(0x4e4)])['insertMany']([..._0x5e49e8]))[_0x539b41(0x561)]};}catch(_0x2ffebb){return _0x2ffebb;}}async[a0_0x15841b(0x453)](_0x5d9904,_0x35018d){const _0x57e412=a0_0x15841b;try{return{'deletedCount':(await this[_0x57e412(0x400)](_0x35018d)[_0x57e412(0x3c7)]({..._0x5d9904['where']}))[_0x57e412(0x390)]};}catch(_0x4ede6a){return{'error':_0x4ede6a?.[_0x57e412(0x6ca)]()};}}async[a0_0x15841b(0x179)](_0xa4d732,_0x4150aa){const _0xe726ac=a0_0x15841b;try{if(_0xa4d732[_0xe726ac(0x561)]===0x0)return;let _0xbb5644=this[_0xe726ac(0x400)](_0x4150aa),_0x436097=_0xa4d732[_0xe726ac(0xef)](_0x40432f=>({'updateOne':{'filter':{'_id':_0x40432f['_id'],'owner':_0x4150aa},'update':{..._0x40432f}}})),{modifiedCount:_0x1ffbc3}=await _0xbb5644[_0xe726ac(0x376)](_0x436097);return{'insertCount':_0x1ffbc3};}catch{return;}}async['find'](_0x674d92,_0x450eae){const _0x52875f=a0_0x15841b;try{let _0x5cb6a0=this['getContactModelForOwner'](_0x450eae),_0x3c65ad=$(_0x674d92[_0x52875f(0x4a1)]);return await _0x5cb6a0[_0x52875f(0x76f)](_0x3c65ad)[_0x52875f(0x6e2)](_0x674d92?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x15841b(0x5d9)](_0x58774a,_0x183f29){const _0x52e052=a0_0x15841b;try{let _0x4ac620=this[_0x52e052(0x400)](_0x183f29),_0x2989c9=$(_0x58774a['where']);return await _0x4ac620[_0x52e052(0x5d9)](_0x2989c9)['lean']();}catch{return null;}}async[a0_0x15841b(0x134)](_0x305950){const _0x28fba0=a0_0x15841b;try{return await this[_0x28fba0(0x400)](_0x305950)[_0x28fba0(0x4f2)][_0x28fba0(0x2da)](),{'success':!0x0};}catch(_0x292d16){return console[_0x28fba0(0x45f)](_0x292d16),{'success':!0x1,'error':_0x292d16};}}},at=require('jsonschema'),Sc=require('express-async-errors'),bs=new R(a0_0x15841b(0x5e0)),V=class{[a0_0x15841b(0x52c)](_0x4492ec,_0x5c5dbf=!0x0){const _0x3f91a7=a0_0x15841b;let _0x463893='/'+_0x4492ec;return _0x5c5dbf&&(_0x463893+=_0x3f91a7(0x6c2)),_0x463893;}async[a0_0x15841b(0x1a1)](_0x38ed52){const _0x5dd8e3=a0_0x15841b;let {request:_0x9c86bc,schema:_0x3afd33,ClassRef:_0x445b02,execute:_0x3c6a5c}=_0x38ed52,_0x143a17=new _0x445b02(),_0x17e722=_0x9c86bc[_0x5dd8e3(0x24d)],_0x50df4c=_0x9c86bc[_0x5dd8e3(0x71b)];_0x9c86bc?.[_0x5dd8e3(0x6ba)]&&Object['keys'](_0x9c86bc[_0x5dd8e3(0x6ba)])[_0x5dd8e3(0x561)]>0x0&&Object[_0x5dd8e3(0x1ff)](_0x50df4c,_0x9c86bc[_0x5dd8e3(0x6ba)]),_0x9c86bc[_0x5dd8e3(0x741)][_0x5dd8e3(0x278)]('/instance/create')&&Object[_0x5dd8e3(0x1ff)](_0x50df4c,_0x17e722),Object[_0x5dd8e3(0x1ff)](_0x143a17,_0x17e722);let _0x9bf717=_0x3afd33?(0x0,at['validate'])(_0x143a17,_0x3afd33):{'valid':!0x0,'errors':[]};if(!_0x9bf717[_0x5dd8e3(0x154)]){let _0x1f8708=_0x9bf717[_0x5dd8e3(0x770)][_0x5dd8e3(0xef)](({property:_0x26216c,stack:_0x254987,schema:_0x184a01})=>{const _0x3cb1e8=_0x5dd8e3;let _0x25252b;return _0x184a01['description']?_0x25252b=_0x184a01['description']:_0x25252b=_0x254987[_0x3cb1e8(0x32f)](_0x3cb1e8(0x70b),''),{'property':_0x26216c[_0x3cb1e8(0x32f)](_0x3cb1e8(0x70b),''),'message':_0x25252b};});throw bs['error']([..._0x1f8708]),new m(..._0x1f8708);}return await _0x3c6a5c(_0x50df4c,_0x143a17);}async['groupValidate'](_0xea36e4){const _0x2e7081=a0_0x15841b;let {request:_0x25ea5f,ClassRef:_0xaeb84a,schema:_0x44e7d1,execute:_0x4693ef}=_0xea36e4,_0x405b91=_0x25ea5f[_0x2e7081(0x6ba)];if(!_0x405b91?.['groupJid'])throw new m(_0x2e7081(0x6ad),_0x2e7081(0x650));let _0x2b2910=_0x25ea5f[_0x2e7081(0x71b)],_0xbd9ee6=_0x25ea5f['body'],_0x248c2d=new _0xaeb84a();Object[_0x2e7081(0x1ff)](_0xbd9ee6,_0x405b91),Object['assign'](_0x248c2d,_0xbd9ee6);let _0x476a65=(0x0,at['validate'])(_0x248c2d,_0x44e7d1);if(!_0x476a65[_0x2e7081(0x154)]){let _0x2ee913=_0x476a65[_0x2e7081(0x770)][_0x2e7081(0xef)](({property:_0x1fd63c,stack:_0x48d9c2,schema:_0x990e0})=>{const _0xb67a2f=_0x2e7081;let _0x5580f4;return _0x990e0[_0xb67a2f(0x617)]?_0x5580f4=_0x990e0[_0xb67a2f(0x617)]:_0x5580f4=_0x48d9c2[_0xb67a2f(0x32f)](_0xb67a2f(0x70b),''),{'property':_0x1fd63c['replace'](_0xb67a2f(0x70b),''),'message':_0x5580f4};});throw bs['error']([..._0x2ee913]),new m(..._0x2ee913);}return await _0x4693ef(_0x2b2910,_0x248c2d);}async[a0_0x15841b(0x324)](_0x2961bf){const _0x34f2db=a0_0x15841b;let {request:_0x3e928e,ClassRef:_0xdee72f,schema:_0x46ab9d,execute:_0x31f618}=_0x2961bf,_0x94c287=_0x3e928e['body'];if(!_0x94c287?.[_0x34f2db(0x2fe)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x34f2db(0x69c));let _0xc6fc87=_0x3e928e[_0x34f2db(0x71b)],_0x1b0e6c=_0x3e928e[_0x34f2db(0x24d)],_0x1b1b4b=new _0xdee72f();Object['assign'](_0x1b0e6c,_0x94c287),Object[_0x34f2db(0x1ff)](_0x1b1b4b,_0x1b0e6c);let _0x27203f=(0x0,at[_0x34f2db(0x508)])(_0x1b1b4b,_0x46ab9d);if(!_0x27203f[_0x34f2db(0x154)]){let _0x542b8d=_0x27203f[_0x34f2db(0x770)][_0x34f2db(0xef)](({property:_0x4b6430,stack:_0x37effe,schema:_0x4f52a0})=>{const _0x2558ef=_0x34f2db;let _0x49f336;return _0x4f52a0[_0x2558ef(0x617)]?_0x49f336=_0x4f52a0[_0x2558ef(0x617)]:_0x49f336=_0x37effe['replace']('instance.',''),{'property':_0x4b6430[_0x2558ef(0x32f)](_0x2558ef(0x70b),''),'message':_0x49f336};});throw bs[_0x34f2db(0x45f)]([..._0x542b8d]),new m(..._0x542b8d);}return await _0x31f618(_0xc6fc87,_0x1b1b4b);}},C=class{},Pc=new R(a0_0x15841b(0x53d)),ot=class extends V{constructor(..._0x203561){const _0x37eb11=a0_0x15841b;super(),this[_0x37eb11(0x585)]=(0x0,ro[_0x37eb11(0x426)])(),this[_0x37eb11(0x585)]['post'](this[_0x37eb11(0x52c)](_0x37eb11(0x751)),..._0x203561,async(_0x54efc2,_0x969b88)=>{const _0x53b512=_0x37eb11;let _0x3e8c65=await this['dataValidate']({'request':_0x54efc2,'schema':Ka,'ClassRef':Ge,'execute':(_0xbcf80f,_0x3fb444)=>_['updatePresence'](_0xbcf80f,_0x3fb444)});return _0x969b88[_0x53b512(0x633)](0xc9)[_0x53b512(0x277)](_0x3e8c65);})[_0x37eb11(0x5e6)](this[_0x37eb11(0x52c)]('whatsappNumbers'),..._0x203561,async(_0x4c045a,_0x2cb81b)=>{const _0x17ed4f=_0x37eb11;let _0x122bf6=await this[_0x17ed4f(0x1a1)]({'request':_0x4c045a,'schema':Fa,'ClassRef':Be,'execute':(_0xaab7f3,_0xc08359)=>_[_0x17ed4f(0x423)](_0xaab7f3,_0xc08359)});return _0x2cb81b[_0x17ed4f(0x633)](0xc9)['json'](_0x122bf6);})['post'](this[_0x37eb11(0x52c)](_0x37eb11(0x35f)),..._0x203561,async(_0x28836b,_0x44bc4c)=>{const _0x19d663=_0x37eb11;let _0x57f0c0=await this[_0x19d663(0x1a1)]({'request':_0x28836b,'schema':N,'ClassRef':C,'execute':(_0x5e7307,_0x231350)=>_['editChat'](_0x5e7307,_0x231350)});return _0x44bc4c['status'](0xc9)[_0x19d663(0x277)](_0x57f0c0);})[_0x37eb11(0x2ac)](this[_0x37eb11(0x52c)](_0x37eb11(0x69f)),..._0x203561,async(_0xf7231e,_0x57ce4b)=>{const _0x3ca16a=_0x37eb11;let _0x486470=await this['dataValidate']({'request':_0xf7231e,'schema':Ua,'ClassRef':He,'execute':(_0x5d45d7,_0xc6b9a9)=>_[_0x3ca16a(0x742)](_0x5d45d7,_0xc6b9a9)});return _0x57ce4b[_0x3ca16a(0x633)](0xc9)[_0x3ca16a(0x277)](_0x486470);})['put'](this[_0x37eb11(0x52c)]('archiveChat'),..._0x203561,async(_0x2c4934,_0x1700c3)=>{const _0x43f277=_0x37eb11;let _0x431744=await this[_0x43f277(0x1a1)]({'request':_0x2c4934,'schema':qa,'ClassRef':Ke,'execute':(_0x5c7474,_0x3b84a8)=>_[_0x43f277(0x59f)](_0x5c7474,_0x3b84a8)});return _0x1700c3['status'](0xc9)[_0x43f277(0x277)](_0x431744);})['delete'](this['routerPath']('deleteMessageForEveryone'),..._0x203561,async(_0x3bc99e,_0x3d25dc)=>{const _0x410fca=_0x37eb11;let _0x4263dc=await this[_0x410fca(0x1a1)]({'request':_0x3bc99e,'schema':Va,'ClassRef':Ye,'execute':(_0x5d3e54,_0x22d8aa)=>_[_0x410fca(0x79e)](_0x5d3e54,_0x22d8aa)});return _0x3d25dc[_0x410fca(0x633)](0xc9)[_0x410fca(0x277)](_0x4263dc);})[_0x37eb11(0x5e6)](this[_0x37eb11(0x52c)](_0x37eb11(0x702)),..._0x203561,async(_0x177ebd,_0x41735b)=>{const _0x4721e1=_0x37eb11;let _0x496a06=await this[_0x4721e1(0x1a1)]({'request':_0x177ebd,'schema':Ne,'ClassRef':ve,'execute':(_0x280e59,_0x1f0f14)=>_['fetchProfilePicture'](_0x280e59,_0x1f0f14)});return _0x41735b[_0x4721e1(0x633)](0xc8)[_0x4721e1(0x277)](_0x496a06);})[_0x37eb11(0x5e6)](this[_0x37eb11(0x52c)](_0x37eb11(0x242)),..._0x203561,async(_0x50d72c,_0x186da9)=>{const _0x27300c=_0x37eb11;let _0x2c0096=await this['dataValidate']({'request':_0x50d72c,'schema':za,'ClassRef':ve,'execute':(_0x2171a7,_0xe62a26)=>_[_0x27300c(0x242)](_0x2171a7,_0xe62a26)});return _0x186da9['status'](0xc8)['json'](_0x2c0096);})[_0x37eb11(0x5e6)](this['routerPath'](_0x37eb11(0x2ab)),..._0x203561,async(_0x58c3ea,_0x12daa6)=>{const _0x31358a=_0x37eb11;let _0x2ca439=await this[_0x31358a(0x1a1)]({'request':_0x58c3ea,'schema':Ga,'ClassRef':tt,'execute':(_0x3d6350,_0x1df495)=>_[_0x31358a(0x182)](_0x3d6350,_0x1df495)});return _0x12daa6[_0x31358a(0x633)](0xc8)['json'](_0x2ca439);})[_0x37eb11(0x5e6)](this[_0x37eb11(0x52c)](_0x37eb11(0x4b4)),..._0x203561,async(_0x464543,_0x2bdbf7)=>{const _0x364250=_0x37eb11;let _0x303087=await this[_0x364250(0x1a1)]({'request':_0x464543,'schema':null,'ClassRef':Object,'execute':(_0x592546,_0x4d608f)=>_[_0x364250(0x4b4)](_0x592546,_0x4d608f)});return _0x2bdbf7[_0x364250(0x633)](0xc9)[_0x364250(0x277)](_0x303087);})[_0x37eb11(0x5e6)](this[_0x37eb11(0x52c)]('findMessages'),..._0x203561,async(_0x4181da,_0xef04e1)=>{const _0x451f7a=_0x37eb11;let _0x310074=await this[_0x451f7a(0x1a1)]({'request':_0x4181da,'schema':Ha,'ClassRef':qe,'execute':(_0x1e32d3,_0x11588d)=>_[_0x451f7a(0x16d)](_0x1e32d3,_0x11588d)});return _0xef04e1['status'](0xc8)['json'](_0x310074);})[_0x37eb11(0x3cb)](this[_0x37eb11(0x52c)](_0x37eb11(0x6ea)),..._0x203561,async(_0x533482,_0x361634)=>{const _0x539eb5=_0x37eb11;let _0x4ad18e=await this['dataValidate']({'request':_0x533482,'schema':null,'ClassRef':C,'execute':_0x5ab243=>_[_0x539eb5(0x255)](_0x5ab243)});return _0x361634[_0x539eb5(0x633)](0xc8)[_0x539eb5(0x277)](_0x4ad18e);})['get'](this[_0x37eb11(0x52c)](_0x37eb11(0x55f)),..._0x203561,async(_0x5c1ef1,_0x2c68b9)=>{const _0x4150ee=_0x37eb11;let _0x1f7c62=await this[_0x4150ee(0x1a1)]({'request':_0x5c1ef1,'schema':null,'ClassRef':C,'execute':_0x5ebc23=>_['fetchLabels'](_0x5ebc23)});return _0x2c68b9[_0x4150ee(0x633)](0xc8)[_0x4150ee(0x277)](_0x1f7c62);})[_0x37eb11(0x2ac)](this[_0x37eb11(0x52c)](_0x37eb11(0xca)),..._0x203561,async(_0x48d346,_0x3f16e8)=>{const _0x4313a2=_0x37eb11;let _0x39b50a=await this['dataValidate']({'request':_0x48d346,'schema':null,'ClassRef':Array,'execute':(_0x3f732f,_0x1e7de1)=>_['importChats'](_0x3f732f,_0x1e7de1)});return _0x3f16e8[_0x4313a2(0x633)](0xc8)['json'](_0x39b50a);})[_0x37eb11(0x3cb)](this[_0x37eb11(0x52c)](_0x37eb11(0xe6)),..._0x203561,async(_0x305a65,_0x319475)=>{const _0x2fc0bc=_0x37eb11;let _0x29756a=await this['dataValidate']({'request':_0x305a65,'schema':null,'ClassRef':C,'execute':_0x4cffb6=>_[_0x2fc0bc(0xe6)](_0x4cffb6)});return _0x319475['status'](0xc8)[_0x2fc0bc(0x277)](_0x29756a);})[_0x37eb11(0x2ac)](this[_0x37eb11(0x52c)](_0x37eb11(0x445)),..._0x203561,async(_0x58696f,_0x58f545)=>{const _0x51409a=_0x37eb11;let _0x44f891=await this[_0x51409a(0x1a1)]({'request':_0x58696f,'schema':Ja,'ClassRef':Qe,'execute':(_0x434ecd,_0x11b175)=>_['updatePrivacySettings'](_0x434ecd,_0x11b175)});return _0x58f545[_0x51409a(0x633)](0xc9)[_0x51409a(0x277)](_0x44f891);})[_0x37eb11(0x5e6)](this[_0x37eb11(0x52c)](_0x37eb11(0x492)),..._0x203561,async(_0x5136a0,_0x373be3)=>{const _0x544254=_0x37eb11;let _0x23a4f9=await this[_0x544254(0x1a1)]({'request':_0x5136a0,'schema':Ne,'ClassRef':be,'execute':(_0x4214ab,_0x4aeed3)=>_['fetchBusinessProfile'](_0x4214ab,_0x4aeed3)});return _0x373be3['status'](0xc8)[_0x544254(0x277)](_0x23a4f9);})['post'](this[_0x37eb11(0x52c)]('updateProfileName'),..._0x203561,async(_0x8ac65,_0x2f408a)=>{const _0x26bc69=_0x37eb11;let _0x49c10d=await this['dataValidate']({'request':_0x8ac65,'schema':Ba,'ClassRef':We,'execute':(_0x18f3c8,_0x177978)=>_['updateProfileName'](_0x18f3c8,_0x177978)});return _0x2f408a[_0x26bc69(0x633)](0xc8)[_0x26bc69(0x277)](_0x49c10d);})[_0x37eb11(0x5e6)](this[_0x37eb11(0x52c)](_0x37eb11(0x6ae)),..._0x203561,async(_0x1036f9,_0x75c8ff)=>{const _0x89fc1c=_0x37eb11;let _0x394392=await this[_0x89fc1c(0x1a1)]({'request':_0x1036f9,'schema':Wa,'ClassRef':ze,'execute':(_0x214e5d,_0x2ead58)=>_[_0x89fc1c(0x6ae)](_0x214e5d,_0x2ead58)});return _0x75c8ff[_0x89fc1c(0x633)](0xc8)[_0x89fc1c(0x277)](_0x394392);})['put'](this[_0x37eb11(0x52c)](_0x37eb11(0x541)),..._0x203561,async(_0x406161,_0x471dbb)=>{const _0x169b63=_0x37eb11;let _0x3dc8ef=await this['dataValidate']({'request':_0x406161,'schema':Ne,'ClassRef':be,'execute':(_0x407900,_0x27f460)=>_[_0x169b63(0x541)](_0x407900,_0x27f460)});return _0x471dbb['status'](0xc8)[_0x169b63(0x277)](_0x3dc8ef);})['delete'](this[_0x37eb11(0x52c)](_0x37eb11(0x18b)),..._0x203561,async(_0x333603,_0x534a62)=>{const _0x4e8b6b=_0x37eb11;let _0x549142=await this[_0x4e8b6b(0x1a1)]({'request':_0x333603,'schema':Ne,'ClassRef':be,'execute':(_0x2279ab,_0x394e59)=>_['removeProfilePicture'](_0x2279ab,_0x394e59)});return _0x534a62[_0x4e8b6b(0x633)](0xc8)[_0x4e8b6b(0x277)](_0x549142);});}},io=require(a0_0x15841b(0x483)),rt=class{},it=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Oe=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x795ee8){const _0x55dc6e=a0_0x15841b;super(),this[_0x55dc6e(0x585)]=(0x0,io[_0x55dc6e(0x426)])(),this['router']['post'](this[_0x55dc6e(0x52c)](_0x55dc6e(0x6ab)),..._0x795ee8,async(_0x19bbea,_0x319a3f)=>{const _0x418ee4=_0x55dc6e;let _0x5686ab=await this['dataValidate']({'request':_0x19bbea,'schema':Qa,'ClassRef':rt,'execute':(_0x496263,_0x157a08)=>q['createGroup'](_0x496263,_0x157a08)});_0x319a3f['status'](0xc9)[_0x418ee4(0x277)](_0x5686ab);})[_0x55dc6e(0x2ac)](this['routerPath'](_0x55dc6e(0x23d)),..._0x795ee8,async(_0x123d81,_0x339c41)=>{const _0x38f8b0=_0x55dc6e;let _0x486589=await this[_0x38f8b0(0x5e4)]({'request':_0x123d81,'schema':Za,'ClassRef':it,'execute':(_0x2c9894,_0x8a451a)=>q[_0x38f8b0(0x23d)](_0x2c9894,_0x8a451a)});_0x339c41[_0x38f8b0(0x633)](0xc9)['json'](_0x486589);})[_0x55dc6e(0x2ac)](this[_0x55dc6e(0x52c)](_0x55dc6e(0x4b5)),..._0x795ee8,async(_0x3cd37f,_0x19dd1f)=>{const _0x247ca4=_0x55dc6e;let _0xd056d=await this['groupValidate']({'request':_0x3cd37f,'schema':eo,'ClassRef':nt,'execute':(_0x149960,_0x13091c)=>q[_0x247ca4(0x4b5)](_0x149960,_0x13091c)});_0x19dd1f[_0x247ca4(0x633)](0xc9)[_0x247ca4(0x277)](_0xd056d);})[_0x55dc6e(0x2ac)](this['routerPath']('groupName'),..._0x795ee8,async(_0xfb7fed,_0x597ab0)=>{const _0x54068f=_0x55dc6e;let _0x359fe9=await this[_0x54068f(0x5e4)]({'request':_0xfb7fed,'schema':to,'ClassRef':ct,'execute':(_0x15d3ca,_0x4d99e1)=>q['groupName'](_0x15d3ca,_0x4d99e1)});_0x597ab0[_0x54068f(0x633)](0xc9)[_0x54068f(0x277)](_0x359fe9);})[_0x55dc6e(0x2ac)](this[_0x55dc6e(0x52c)](_0x55dc6e(0x5cd)),..._0x795ee8,async(_0x2c85e7,_0x4283a1)=>{const _0x590f68=_0x55dc6e;let _0x437044=await this[_0x590f68(0x5e4)]({'request':_0x2c85e7,'schema':ao,'ClassRef':ut,'execute':(_0x1bfb55,_0x300824)=>q['groupBetterSetting'](_0x1bfb55,_0x300824)});_0x4283a1['status'](0xc9)[_0x590f68(0x277)](_0x437044);})[_0x55dc6e(0x2ac)](this[_0x55dc6e(0x52c)](_0x55dc6e(0x150)),..._0x795ee8,async(_0xa7aee1,_0x1bfd0b)=>{const _0x126530=_0x55dc6e;let _0x565880=await this['groupValidate']({'request':_0xa7aee1,'schema':so,'ClassRef':lt,'execute':(_0x2f052d,_0x217d5f)=>q[_0x126530(0x150)](_0x2f052d,_0x217d5f)});_0x1bfd0b['status'](0xc9)[_0x126530(0x277)](_0x565880);})[_0x55dc6e(0x2ac)](this[_0x55dc6e(0x52c)]('toggleEphemeral'),..._0x795ee8,async(_0x4c8cd0,_0x603445)=>{const _0x43a33c=_0x55dc6e;let _0x2da600=await this['groupValidate']({'request':_0x4c8cd0,'schema':Xa,'ClassRef':pt,'execute':(_0x59034b,_0x450024)=>q['toggleEphemeral'](_0x59034b,_0x450024)});_0x603445[_0x43a33c(0x633)](0xc9)['json'](_0x2da600);})['get'](this[_0x55dc6e(0x52c)](_0x55dc6e(0x46e)),..._0x795ee8,async(_0x12fb35,_0x1a0c1c)=>{const _0x3f4e04=_0x55dc6e;let _0x54733a=await this[_0x3f4e04(0x5e4)]({'request':_0x12fb35,'schema':Re,'ClassRef':X,'execute':(_0xc010b7,_0xbaff1f)=>q['findGroupInfo'](_0xc010b7,_0xbaff1f)});_0x1a0c1c['status'](0xc8)[_0x3f4e04(0x277)](_0x54733a);})[_0x55dc6e(0x3cb)](this[_0x55dc6e(0x52c)]('findGroups'),..._0x795ee8,async(_0x340b6c,_0x560f1b)=>{const _0x220743=_0x55dc6e;let _0x45eb02=await this[_0x220743(0x1a1)]({'request':_0x340b6c,'schema':N,'ClassRef':C,'execute':_0x276635=>q['findGroups'](_0x276635)});_0x560f1b[_0x220743(0x633)](0xc8)[_0x220743(0x277)](_0x45eb02);})[_0x55dc6e(0x3cb)](this[_0x55dc6e(0x52c)](_0x55dc6e(0x3bc)),..._0x795ee8,async(_0x5b4389,_0x1447bc)=>{const _0x3bfd1b=_0x55dc6e;let _0x7a1a50=await this['groupValidate']({'request':_0x5b4389,'schema':Re,'ClassRef':X,'execute':(_0x2bdc26,_0x35b1d8)=>q['findParticipants'](_0x2bdc26,_0x35b1d8)});_0x1447bc[_0x3bfd1b(0x633)](0xc8)[_0x3bfd1b(0x277)](_0x7a1a50);})[_0x55dc6e(0x3cb)](this[_0x55dc6e(0x52c)](_0x55dc6e(0x2fe)),..._0x795ee8,async(_0x254ba4,_0x16e48f)=>{const _0x2d5483=_0x55dc6e;let _0x2bb575=await this[_0x2d5483(0x5e4)]({'request':_0x254ba4,'schema':Re,'ClassRef':X,'execute':(_0x142a42,_0x537e5e)=>q[_0x2d5483(0x2fe)](_0x142a42,_0x537e5e)});_0x16e48f['status'](0xc8)[_0x2d5483(0x277)](_0x2bb575);})[_0x55dc6e(0x5e6)](this['routerPath']('inviteCodeDetails'),..._0x795ee8,async(_0x1369d,_0x3e7a81)=>{const _0x76eddb=_0x55dc6e;let _0x3b48f0=await this[_0x76eddb(0x324)]({'request':_0x1369d,'schema':ys,'ClassRef':Oe,'execute':(_0xe00ec5,_0x437574)=>q[_0x76eddb(0x2f1)](_0xe00ec5,_0x437574)});_0x3e7a81[_0x76eddb(0x633)](0xc9)[_0x76eddb(0x277)](_0x3b48f0);})[_0x55dc6e(0x2ac)](this[_0x55dc6e(0x52c)](_0x55dc6e(0x40a)),..._0x795ee8,async(_0x2e3f21,_0xe9bb23)=>{const _0x2a1793=_0x55dc6e;let _0x2a2e0c=await this[_0x2a1793(0x324)]({'request':_0x2e3f21,'schema':ys,'ClassRef':Oe,'execute':(_0x60663f,_0xeea1a7)=>q[_0x2a1793(0x40a)](_0x60663f,_0xeea1a7)});_0xe9bb23[_0x2a1793(0x633)](0xc9)['json'](_0x2a2e0c);})[_0x55dc6e(0x2ac)](this[_0x55dc6e(0x52c)]('revokeInviteCode'),..._0x795ee8,async(_0x553759,_0x17f0ef)=>{const _0x140670=_0x55dc6e;let _0x3e4f7d=await this[_0x140670(0x5e4)]({'request':_0x553759,'schema':Re,'ClassRef':X,'execute':(_0x663b04,_0x473bd2)=>q[_0x140670(0x26a)](_0x663b04,_0x473bd2)});_0x17f0ef['status'](0xc9)[_0x140670(0x277)](_0x3e4f7d);})[_0x55dc6e(0x2ac)](this[_0x55dc6e(0x52c)](_0x55dc6e(0x358)),..._0x795ee8,async(_0x2b53a9,_0x3b2430)=>{const _0x2eba7=_0x55dc6e;let _0x21ae1d=await this[_0x2eba7(0x5e4)]({'request':_0x2b53a9,'schema':Ya,'ClassRef':dt,'execute':(_0xd49376,_0x5f519e)=>q['updateGParticipate'](_0xd49376,_0x5f519e)});_0x3b2430[_0x2eba7(0x633)](0xc9)[_0x2eba7(0x277)](_0x21ae1d);})['delete'](this[_0x55dc6e(0x52c)](_0x55dc6e(0x6cc)),..._0x795ee8,async(_0x48882f,_0xf3c1ca)=>{const _0x4cb700=_0x55dc6e;let _0x490716=await this[_0x4cb700(0x5e4)]({'request':_0x48882f,'schema':{},'ClassRef':X,'execute':(_0xc38d37,_0x207617)=>q[_0x4cb700(0x6cc)](_0xc38d37,_0x207617)});_0xf3c1ca[_0x4cb700(0x633)](0xc8)[_0x4cb700(0x277)](_0x490716);});}},no=require('express'),gt=class extends V{constructor(_0x3c2c14,..._0x5d7baa){const _0x17e144=a0_0x15841b;super(),this[_0x17e144(0x299)]=_0x3c2c14,this['router']=(0x0,no[_0x17e144(0x426)])();let _0x33bf66=_0x3c2c14['get'](_0x17e144(0x6e8));this['router']['post'](_0x17e144(0x535),..._0x5d7baa,async(_0x125983,_0x1a1eb4)=>{const _0xfec424=_0x17e144;let {instanceName:_0x4a035d,apikey:_0x1f6c92,number:_0x3cec93}=_0x125983[_0xfec424(0x24d)],_0x13fad3=await ce['createInstance']({'instanceName':_0x4a035d,'apikey':_0x1f6c92,'number':_0x3cec93});return _0x1a1eb4[_0xfec424(0x633)](0xc9)['json'](_0x13fad3);})['put'](this[_0x17e144(0x52c)]('restart'),..._0x5d7baa,async(_0x4f57c1,_0x4e45a1)=>{const _0x40d9f0=_0x17e144;let _0x593d1e=await this[_0x40d9f0(0x1a1)]({'request':_0x4f57c1,'schema':N,'ClassRef':C,'execute':_0x130af3=>ce[_0x40d9f0(0x33e)](_0x130af3)});return _0x4e45a1[_0x40d9f0(0x633)](0xc8)[_0x40d9f0(0x277)](_0x593d1e);})['get'](this[_0x17e144(0x52c)]('connect'),..._0x5d7baa,async(_0x5944be,_0x51e445)=>{const _0xacc192=_0x17e144;let _0x4969cc=await this[_0xacc192(0x1a1)]({'request':_0x5944be,'schema':N,'ClassRef':C,'execute':_0x3a2052=>ce[_0xacc192(0x434)](_0x3a2052)});return _0x51e445[_0xacc192(0x633)](0xc8)[_0xacc192(0x277)](_0x4969cc);})['get'](this[_0x17e144(0x52c)](_0x17e144(0x164)),..._0x5d7baa,async(_0x2b2a5c,_0x58ab21)=>{const _0x2e8c78=_0x17e144;let _0x48c6d9=await this[_0x2e8c78(0x1a1)]({'request':_0x2b2a5c,'schema':N,'ClassRef':C,'execute':_0x3c58ae=>ce[_0x2e8c78(0x164)](_0x3c58ae)});return _0x58ab21[_0x2e8c78(0x633)](0xc8)['json'](_0x48c6d9);})[_0x17e144(0x3cb)](this['routerPath']('fetchInstances',!0x1),..._0x5d7baa,async(_0x2ce370,_0x280a55)=>{const _0x421018=_0x17e144;let _0x5a0578=await this[_0x421018(0x1a1)]({'request':_0x2ce370,'schema':null,'ClassRef':C,'execute':_0x5d24e0=>ce[_0x421018(0x3f9)](_0x5d24e0)});return _0x280a55[_0x421018(0x633)](0xc8)[_0x421018(0x277)](_0x5a0578);})['delete'](this[_0x17e144(0x52c)](_0x17e144(0x65b)),..._0x5d7baa,async(_0x3ad005,_0x1e52f2)=>{const _0x4a3d5e=_0x17e144;let _0x442b77=await this[_0x4a3d5e(0x1a1)]({'request':_0x3ad005,'schema':N,'ClassRef':C,'execute':_0x353236=>ce[_0x4a3d5e(0x65b)](_0x353236)});return _0x1e52f2['status'](0xc8)[_0x4a3d5e(0x277)](_0x442b77);})[_0x17e144(0x453)](this[_0x17e144(0x52c)](_0x17e144(0x453)),..._0x5d7baa,async(_0x390f29,_0x5cb124)=>{const _0x1dde7=_0x17e144;let _0x1a6a7e=await this[_0x1dde7(0x1a1)]({'request':_0x390f29,'schema':N,'ClassRef':C,'execute':_0x24cdbb=>ce[_0x1dde7(0x4c0)](_0x24cdbb)});return _0x5cb124[_0x1dde7(0x633)](0xc8)[_0x1dde7(0x277)](_0x1a6a7e);});}},co=require(a0_0x15841b(0x483)),Ss=class{},W=class extends Ss{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Te=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x1898ed){const _0x43a40c=a0_0x15841b;super(),this['router']=(0x0,co['Router'])(),this[_0x43a40c(0x585)]['post'](this[_0x43a40c(0x52c)](_0x43a40c(0x3a4)),..._0x1898ed,async(_0xb8c948,_0x481e6c)=>{const _0x7550ee=_0x43a40c;let _0xeab1bc=await this[_0x7550ee(0x1a1)]({'request':_0xb8c948,'schema':Ra,'ClassRef':mt,'execute':(_0x299220,_0x13be4d)=>B[_0x7550ee(0x3a4)](_0x299220,_0x13be4d)});return _0x481e6c['status'](0xc9)[_0x7550ee(0x277)](_0xeab1bc);})[_0x43a40c(0x5e6)](this[_0x43a40c(0x52c)](_0x43a40c(0x371)),..._0x1898ed,async(_0x123481,_0x1bbd17)=>{const _0x7b8493=_0x43a40c;let _0x3e79f4=await this[_0x7b8493(0x1a1)]({'request':_0x123481,'schema':Aa,'ClassRef':Te,'execute':(_0x5caf1c,_0x354e3a)=>B[_0x7b8493(0x371)](_0x5caf1c,_0x354e3a)});return _0x1bbd17[_0x7b8493(0x633)](0xc9)[_0x7b8493(0x277)](_0x3e79f4);})[_0x43a40c(0x5e6)](this['routerPath'](_0x43a40c(0x406)),..._0x1898ed,async(_0x503e39,_0x281c97)=>{const _0x5586c5=_0x43a40c;let _0x166a85=await this[_0x5586c5(0x1a1)]({'request':_0x503e39,'schema':Da,'ClassRef':yt,'execute':(_0x1d14a6,_0x27a95d)=>B['sendMenu'](_0x1d14a6,_0x27a95d)});return _0x281c97[_0x5586c5(0x633)](0xc9)[_0x5586c5(0x277)](_0x166a85);})[_0x43a40c(0x5e6)](this[_0x43a40c(0x52c)](_0x43a40c(0x3a9)),..._0x1898ed,async(_0x477e81,_0x3ed6f9)=>{const _0x596955=_0x43a40c;let _0x998dfb=await this[_0x596955(0x1a1)]({'request':_0x477e81,'schema':Ia,'ClassRef':Te,'execute':(_0x226f39,_0x476f3b)=>B[_0x596955(0x3a9)](_0x226f39,_0x476f3b)});return _0x3ed6f9[_0x596955(0x633)](0xc9)[_0x596955(0x277)](_0x998dfb);})['post'](this['routerPath'](_0x43a40c(0x2f5)),..._0x1898ed,async(_0x56a8cd,_0x425e98)=>{const _0x8c164=_0x43a40c;let _0xfb2507=await this[_0x8c164(0x1a1)]({'request':_0x56a8cd,'schema':_a,'ClassRef':St,'execute':(_0x45c5bd,_0x2f8f57)=>B[_0x8c164(0x2f5)](_0x45c5bd,_0x2f8f57)});return _0x425e98[_0x8c164(0x633)](0xc9)[_0x8c164(0x277)](_0xfb2507);})['post'](this[_0x43a40c(0x52c)](_0x43a40c(0x459)),..._0x1898ed,async(_0x28cd10,_0xe42dc6)=>{const _0x36f277=_0x43a40c;let _0xf823a6=await this[_0x36f277(0x1a1)]({'request':_0x28cd10,'schema':Pa,'ClassRef':Mt,'execute':(_0x8374ea,_0xba50f9)=>B[_0x36f277(0x459)](_0x8374ea,_0xba50f9)});return _0xe42dc6[_0x36f277(0x633)](0xc9)[_0x36f277(0x277)](_0xf823a6);})['post'](this[_0x43a40c(0x52c)](_0x43a40c(0x607)),..._0x1898ed,async(_0x4e0855,_0x2fba72)=>{const _0x1cdb72=_0x43a40c;let _0x19abfb=await this[_0x1cdb72(0x1a1)]({'request':_0x4e0855,'schema':ka,'ClassRef':Ct,'execute':(_0x3863b5,_0x99c481)=>B[_0x1cdb72(0x607)](_0x3863b5,_0x99c481)});return _0x2fba72[_0x1cdb72(0x633)](0xc9)[_0x1cdb72(0x277)](_0x19abfb);})[_0x43a40c(0x5e6)](this[_0x43a40c(0x52c)](_0x43a40c(0x55b)),..._0x1898ed,async(_0x17102e,_0x1d5647)=>{const _0x499b7d=_0x43a40c;let _0x75aefb=await this[_0x499b7d(0x1a1)]({'request':_0x17102e,'schema':ja,'ClassRef':Et,'execute':(_0x4b03ae,_0x350a22)=>B[_0x499b7d(0x55b)](_0x4b03ae,_0x350a22)});return _0x1d5647[_0x499b7d(0x633)](0xc9)[_0x499b7d(0x277)](_0x75aefb);})[_0x43a40c(0x5e6)](this[_0x43a40c(0x52c)](_0x43a40c(0x3a3)),..._0x1898ed,async(_0x299d44,_0x216529)=>{const _0x427157=_0x43a40c;let _0x3fb552=await this[_0x427157(0x1a1)]({'request':_0x299d44,'schema':La,'ClassRef':vt,'execute':(_0x76b76e,_0x32ee24)=>B[_0x427157(0x3a3)](_0x76b76e,_0x32ee24)});return _0x216529['status'](0xc9)[_0x427157(0x277)](_0x3fb552);})[_0x43a40c(0x5e6)](this[_0x43a40c(0x52c)](_0x43a40c(0x4b3)),..._0x1898ed,async(_0x1008fe,_0x55af2c)=>{const _0x4c86db=_0x43a40c;let _0x161798=await this[_0x4c86db(0x1a1)]({'request':_0x1008fe,'schema':xa,'ClassRef':wt,'execute':(_0x4f6738,_0x2ce619)=>B[_0x4c86db(0x4b3)](_0x4f6738,_0x2ce619)});return _0x55af2c[_0x4c86db(0x633)](0xc9)[_0x4c86db(0x277)](_0x161798);})['post'](this['routerPath'](_0x43a40c(0x1e8)),..._0x1898ed,async(_0x243356,_0x2eb6e8)=>{const _0x550721=_0x43a40c;let _0x10e78b=await this[_0x550721(0x1a1)]({'request':_0x243356,'schema':$a,'ClassRef':ft,'execute':(_0x3507fc,_0x187108)=>B['sendStatus'](_0x3507fc,_0x187108)});return _0x2eb6e8[_0x550721(0x633)](0xc9)[_0x550721(0x277)](_0x10e78b);})[_0x43a40c(0x5e6)](this[_0x43a40c(0x52c)]('sendSticker'),..._0x1898ed,async(_0x4c1176,_0x468fc8)=>{const _0x31f805=_0x43a40c;let _0x5ea3df=await this[_0x31f805(0x1a1)]({'request':_0x4c1176,'schema':Ta,'ClassRef':bt,'execute':(_0x346928,_0x546c73)=>B['sendSticker'](_0x346928,_0x546c73)});return _0x468fc8[_0x31f805(0x633)](0xc9)[_0x31f805(0x277)](_0x5ea3df);});}},lo=require('express'),Rt=class{},Ot=class extends V{constructor(..._0x386f59){const _0x5b8750=a0_0x15841b;super(),this[_0x5b8750(0x585)]=(0x0,lo[_0x5b8750(0x426)])(),this[_0x5b8750(0x585)][_0x5b8750(0x5e6)](this['routerPath'](_0x5b8750(0x66a)),..._0x386f59,async(_0x451549,_0x23f4a4)=>{const _0xd70e4c=_0x5b8750;let _0x492131=await this['dataValidate']({'request':_0x451549,'schema':oo,'ClassRef':Rt,'execute':(_0x31dfd5,_0x5853a4)=>Ms['createWebhook'](_0x31dfd5,_0x5853a4)});_0x23f4a4[_0xd70e4c(0x633)](0xc9)['json'](_0x492131);})[_0x5b8750(0x3cb)](this[_0x5b8750(0x52c)]('find'),..._0x386f59,async(_0x1880ff,_0x581179)=>{const _0x46e9e2=_0x5b8750;let _0x4e8d50=await this['dataValidate']({'request':_0x1880ff,'schema':N,'ClassRef':C,'execute':_0x181e77=>Ms[_0x46e9e2(0x28c)](_0x181e77)});_0x581179[_0x46e9e2(0x633)](0xc8)[_0x46e9e2(0x277)](_0x4e8d50);});}},uo=require(a0_0x15841b(0x483)),y=new R('FlowRouter'),Tt=class extends V{constructor(..._0x3fca70){const _0x3d2797=a0_0x15841b;super(),this[_0x3d2797(0x585)]=(0x0,uo[_0x3d2797(0x426)])(),this[_0x3d2797(0x585)]['post'](this[_0x3d2797(0x52c)]('scheduleMessage'),..._0x3fca70,async(_0x74d34,_0x4c4b0a)=>{const _0x2d31e9=_0x3d2797;let _0x3a453a=_0x74d34['body'];y['verbose'](_0x2d31e9(0xe7)),y[_0x2d31e9(0x2b5)](_0x2d31e9(0x282)),y[_0x2d31e9(0x2b5)](_0x74d34[_0x2d31e9(0x24d)]);let _0x24b04e=await this['dataValidate']({'request':_0x74d34,'schema':N,'ClassRef':C,'execute':_0x36436b=>A[_0x2d31e9(0x251)](_0x36436b,_0x3a453a)});_0x4c4b0a[_0x2d31e9(0x633)](0xc8)[_0x2d31e9(0x277)](_0x24b04e);})[_0x3d2797(0x3cb)](this[_0x3d2797(0x52c)]('scheduleMessage'),..._0x3fca70,async(_0x5329e7,_0x16f83b)=>{const _0x99a2ba=_0x3d2797;let _0xfa4dba=await this[_0x99a2ba(0x1a1)]({'request':_0x5329e7,'schema':N,'ClassRef':C,'execute':_0xe17222=>A[_0x99a2ba(0x5ce)](_0xe17222)});_0x16f83b[_0x99a2ba(0x633)](0xc8)[_0x99a2ba(0x277)](_0xfa4dba);})[_0x3d2797(0x453)](this[_0x3d2797(0x52c)]('deleteDoneMessages'),..._0x3fca70,async(_0x4ef510,_0x6e7418)=>{const _0x16fb9f=_0x3d2797;y[_0x16fb9f(0x2b5)]('request\x20received\x20in\x20deleteDoneMessages');let _0x3bc3b0=await this[_0x16fb9f(0x1a1)]({'request':_0x4ef510,'schema':N,'ClassRef':C,'execute':_0x96ca33=>A[_0x16fb9f(0x29e)](_0x96ca33)});_0x6e7418[_0x16fb9f(0x633)](0xc8)[_0x16fb9f(0x277)](_0x3bc3b0);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)](_0x3d2797(0x68f)),..._0x3fca70,async(_0x4e2870,_0x3e0a62)=>{const _0x4e25a5=_0x3d2797;let _0x1e2f1d=_0x4e2870[_0x4e25a5(0x24d)];y[_0x4e25a5(0x2b5)]('request\x20received\x20in\x20starFlow'),y[_0x4e25a5(0x2b5)](_0x4e25a5(0x282)),y[_0x4e25a5(0x2b5)](_0x4e2870[_0x4e25a5(0x24d)]);let _0x5a585b=await this[_0x4e25a5(0x1a1)]({'request':_0x4e2870,'schema':N,'ClassRef':C,'execute':_0xb91f38=>A[_0x4e25a5(0x68f)](_0xb91f38,_0x1e2f1d)});_0x3e0a62[_0x4e25a5(0x633)](0xc8)['json'](_0x5a585b);})[_0x3d2797(0x3cb)](this[_0x3d2797(0x52c)]('getAutomateSystem'),..._0x3fca70,async(_0xe95348,_0x59edd6)=>{const _0x2be1ee=_0x3d2797;y['verbose'](_0x2be1ee(0x402));let _0x1c783e=await this[_0x2be1ee(0x1a1)]({'request':_0xe95348,'schema':N,'ClassRef':C,'execute':_0x3840e0=>A[_0x2be1ee(0x45b)](_0x3840e0)});_0x59edd6[_0x2be1ee(0x633)](0xc8)[_0x2be1ee(0x277)](_0x1c783e);})['get'](this[_0x3d2797(0x52c)](_0x3d2797(0x736)),..._0x3fca70,async(_0x3c4cf2,_0x30693f)=>{const _0x74f6c2=_0x3d2797;y[_0x74f6c2(0x2b5)](_0x74f6c2(0x498));let _0xe12e23=await this[_0x74f6c2(0x1a1)]({'request':_0x3c4cf2,'schema':N,'ClassRef':C,'execute':_0x81420d=>A[_0x74f6c2(0x45b)](_0x81420d)});_0x30693f[_0x74f6c2(0x633)](0xc8)[_0x74f6c2(0x277)](_0xe12e23);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)](_0x3d2797(0x3ca)),..._0x3fca70,async(_0x2c32f7,_0x4ac3b9)=>{const _0x404c6a=_0x3d2797;let _0x222edc=_0x2c32f7['body'];y['verbose'](_0x404c6a(0x246)),y[_0x404c6a(0x2b5)](_0x404c6a(0x282)),y[_0x404c6a(0x2b5)](_0x2c32f7[_0x404c6a(0x24d)]);let _0x4947a2=await this['dataValidate']({'request':_0x2c32f7,'schema':N,'ClassRef':C,'execute':_0x13b0a5=>A[_0x404c6a(0x3ca)](_0x13b0a5,_0x222edc)});_0x4ac3b9['status'](0xc8)[_0x404c6a(0x277)](_0x4947a2);})['post'](this[_0x3d2797(0x52c)]('updateCustomFields'),..._0x3fca70,async(_0x31fff2,_0x2f27bb)=>{const _0xf02ec5=_0x3d2797;let _0x488e87=_0x31fff2[_0xf02ec5(0x24d)];y[_0xf02ec5(0x2b5)]('request\x20received\x20in\x20updateCustomFields'),y[_0xf02ec5(0x2b5)](_0xf02ec5(0x282)),y[_0xf02ec5(0x2b5)](_0x31fff2[_0xf02ec5(0x24d)]);let _0x29c78e=await this[_0xf02ec5(0x1a1)]({'request':_0x31fff2,'schema':N,'ClassRef':C,'execute':_0x8ed0a1=>A[_0xf02ec5(0x289)](_0x8ed0a1,_0x488e87)});_0x2f27bb[_0xf02ec5(0x633)](0xc8)[_0xf02ec5(0x277)](_0x29c78e);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)](_0x3d2797(0x62d)),..._0x3fca70,async(_0x3cd2d8,_0x5a52e7)=>{const _0x3361c5=_0x3d2797;let _0xec776c=_0x3cd2d8['body'];y['verbose'](_0x3361c5(0x2f2)),y['verbose'](_0x3361c5(0x282)),y[_0x3361c5(0x2b5)](_0x3cd2d8['body']);let _0x4446c1=await this[_0x3361c5(0x1a1)]({'request':_0x3cd2d8,'schema':N,'ClassRef':C,'execute':_0x7d8a69=>A[_0x3361c5(0x62d)](_0x7d8a69,_0xec776c)});_0x5a52e7[_0x3361c5(0x633)](0xc8)[_0x3361c5(0x277)](_0x4446c1);})[_0x3d2797(0x5e6)](this['routerPath'](_0x3d2797(0x644)),..._0x3fca70,async(_0x5122a4,_0x3441a4)=>{const _0x127ed6=_0x3d2797;let _0xadf0bd=_0x5122a4[_0x127ed6(0x24d)];y['verbose'](_0x127ed6(0x4e0)),y[_0x127ed6(0x2b5)]('request\x20body:\x20'),y[_0x127ed6(0x2b5)](_0x5122a4['body']);let _0x18e72e=await this[_0x127ed6(0x1a1)]({'request':_0x5122a4,'schema':N,'ClassRef':C,'execute':_0x25f59a=>A['updateFlowConfig'](_0x25f59a,_0xadf0bd)});_0x3441a4[_0x127ed6(0x633)](0xc8)[_0x127ed6(0x277)](_0x18e72e);})[_0x3d2797(0x5e6)](this['routerPath']('getConversation'),..._0x3fca70,async(_0x17c437,_0x459fbd)=>{const _0x3fcb11=_0x3d2797;let _0x4d7a4a=_0x17c437[_0x3fcb11(0x24d)];y[_0x3fcb11(0x2b5)](_0x3fcb11(0x708)),y[_0x3fcb11(0x2b5)](_0x3fcb11(0x282)),y[_0x3fcb11(0x2b5)](_0x17c437[_0x3fcb11(0x24d)]);let _0x4de61b=await this[_0x3fcb11(0x1a1)]({'request':_0x17c437,'schema':N,'ClassRef':C,'execute':_0x5012d1=>A[_0x3fcb11(0x3bd)](_0x5012d1,_0x4d7a4a)});_0x459fbd[_0x3fcb11(0x633)](0xc8)['json'](_0x4de61b);})['post'](this['routerPath']('fetchConversation'),..._0x3fca70,async(_0x1b551e,_0x1b2d41)=>{const _0x2c0117=_0x3d2797;let _0x5ce368=_0x1b551e[_0x2c0117(0x24d)];y['verbose'](_0x2c0117(0x4d6)),y['verbose'](_0x2c0117(0x282)),y[_0x2c0117(0x2b5)](_0x1b551e[_0x2c0117(0x24d)]);let _0x2a341e=await this[_0x2c0117(0x1a1)]({'request':_0x1b551e,'schema':N,'ClassRef':C,'execute':_0x2d349a=>A['fetchConversation'](_0x2d349a,_0x5ce368)});_0x1b2d41[_0x2c0117(0x633)](0xc8)[_0x2c0117(0x277)](_0x2a341e);})[_0x3d2797(0x5e6)](this['routerPath'](_0x3d2797(0x427)),..._0x3fca70,async(_0x2998a0,_0x5ea589)=>{const _0x4f8628=_0x3d2797;let _0x5f0999=_0x2998a0[_0x4f8628(0x24d)];y[_0x4f8628(0x2b5)](_0x4f8628(0x33c)),y[_0x4f8628(0x2b5)](_0x4f8628(0x282)),y['verbose'](_0x2998a0[_0x4f8628(0x24d)]);let _0xcf4336=await this[_0x4f8628(0x1a1)]({'request':_0x2998a0,'schema':N,'ClassRef':C,'execute':_0x2eb43a=>A['editConversation'](_0x2eb43a,_0x5f0999)});_0x5ea589[_0x4f8628(0x633)](0xc8)['json'](_0xcf4336);})[_0x3d2797(0x453)](this[_0x3d2797(0x52c)](_0x3d2797(0x114)),..._0x3fca70,async(_0x460a80,_0x40c0dc)=>{const _0x30c1ee=_0x3d2797;let _0x54e33a=_0x460a80['body'];y[_0x30c1ee(0x2b5)](_0x30c1ee(0x1f6)),y[_0x30c1ee(0x2b5)](_0x30c1ee(0x282)),y['verbose'](_0x460a80[_0x30c1ee(0x24d)]);let _0x1aed8b=await this[_0x30c1ee(0x1a1)]({'request':_0x460a80,'schema':N,'ClassRef':C,'execute':_0x790d77=>A[_0x30c1ee(0x114)](_0x790d77,_0x54e33a)});_0x40c0dc['status'](0xc8)[_0x30c1ee(0x277)](_0x1aed8b);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)](_0x3d2797(0x155)),..._0x3fca70,async(_0x82aa32,_0x3b0e8c)=>{const _0x3c2368=_0x3d2797;let _0x2470bc=_0x82aa32[_0x3c2368(0x24d)],_0x4b1571=_0x82aa32[_0x3c2368(0x2d0)][_0x3c2368(0x239)];y[_0x3c2368(0x2b5)](_0x3c2368(0x4fb)),y[_0x3c2368(0x2b5)](_0x3c2368(0x282)),y[_0x3c2368(0x2b5)](_0x82aa32[_0x3c2368(0x24d)]);let _0x1b22e6=await this[_0x3c2368(0x1a1)]({'request':_0x82aa32,'schema':N,'ClassRef':C,'execute':_0x1647b6=>A[_0x3c2368(0x6d0)](_0x1647b6,_0x2470bc,_0x4b1571)});_0x3b0e8c[_0x3c2368(0x633)](0xc8)[_0x3c2368(0x277)](_0x1b22e6);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)]('editflow'),..._0x3fca70,async(_0x5a8476,_0x258ad0)=>{const _0x5adbd2=_0x3d2797;let _0x1c17ac=_0x5a8476[_0x5adbd2(0x24d)],_0x51f622=_0x5a8476[_0x5adbd2(0x2d0)][_0x5adbd2(0x239)];y[_0x5adbd2(0x2b5)]('request\x20received\x20in\x20editFlow'),y[_0x5adbd2(0x2b5)](_0x5adbd2(0x282)),y['verbose'](_0x5a8476[_0x5adbd2(0x24d)]),delete _0x1c17ac[_0x5adbd2(0x4c3)],delete _0x1c17ac[_0x5adbd2(0x77f)],delete _0x1c17ac[_0x5adbd2(0x744)],delete _0x1c17ac[_0x5adbd2(0x264)];let _0x38c4b1=await this['dataValidate']({'request':_0x5a8476,'schema':N,'ClassRef':C,'execute':_0x4ab6dc=>A[_0x5adbd2(0x59a)](_0x4ab6dc,_0x1c17ac,_0x51f622)});_0x258ad0[_0x5adbd2(0x633)](0xc8)[_0x5adbd2(0x277)](_0x38c4b1);})[_0x3d2797(0x5e6)](this['routerPath']('editflowblock'),..._0x3fca70,async(_0x5c6fa2,_0x522225)=>{const _0x58d4d8=_0x3d2797;let _0x2ee3f2=_0x5c6fa2[_0x58d4d8(0x24d)],_0x5a7874=_0x5c6fa2[_0x58d4d8(0x2d0)][_0x58d4d8(0x239)];y['verbose'](_0x58d4d8(0x405)),y[_0x58d4d8(0x2b5)](_0x58d4d8(0x282)),y[_0x58d4d8(0x2b5)](_0x5c6fa2[_0x58d4d8(0x24d)]);let _0x4f9f2e=await this[_0x58d4d8(0x1a1)]({'request':_0x5c6fa2,'schema':N,'ClassRef':C,'execute':_0x55365b=>A['editFlowBlock'](_0x55365b,_0x2ee3f2,_0x5a7874)});_0x522225['status'](0xc8)[_0x58d4d8(0x277)](_0x4f9f2e);})['post'](this[_0x3d2797(0x52c)]('editflowreply'),..._0x3fca70,async(_0x2ca0de,_0x3cc602)=>{const _0x36be50=_0x3d2797;let _0x16b09c=_0x2ca0de[_0x36be50(0x24d)],_0x218651=_0x2ca0de['headers'][_0x36be50(0x239)];y[_0x36be50(0x2b5)]('request\x20received\x20in\x20editFlow'),y[_0x36be50(0x2b5)](_0x36be50(0x282)),y[_0x36be50(0x2b5)](_0x2ca0de['body']);let _0x5a8a54=await this[_0x36be50(0x1a1)]({'request':_0x2ca0de,'schema':N,'ClassRef':C,'execute':_0x55c5d3=>A['editFlowReply'](_0x55c5d3,_0x16b09c,_0x218651)});_0x3cc602[_0x36be50(0x633)](0xc8)[_0x36be50(0x277)](_0x5a8a54);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)](_0x3d2797(0x355)),..._0x3fca70,async(_0x447089,_0x1464ce)=>{const _0x2d18a0=_0x3d2797;let _0x8a68ed=_0x447089[_0x2d18a0(0x24d)],_0xaf80e=_0x447089['headers'][_0x2d18a0(0x239)];y['verbose'](_0x2d18a0(0x405)),y['verbose'](_0x2d18a0(0x282)),y[_0x2d18a0(0x2b5)](_0x447089[_0x2d18a0(0x24d)]);let _0x31d9ed=await this[_0x2d18a0(0x1a1)]({'request':_0x447089,'schema':N,'ClassRef':C,'execute':_0x3d7178=>A[_0x2d18a0(0x4d3)](_0x3d7178,_0x8a68ed,_0xaf80e)});_0x1464ce[_0x2d18a0(0x633)](0xc8)[_0x2d18a0(0x277)](_0x31d9ed);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)](_0x3d2797(0x5c8)),..._0x3fca70,async(_0x2c1bc6,_0x4808bc)=>{const _0x5cbaf5=_0x3d2797;let _0x5b412e=_0x2c1bc6[_0x5cbaf5(0x24d)],_0x5dd187=_0x2c1bc6['headers'][_0x5cbaf5(0x239)];y['verbose']('request\x20received\x20in\x20editFlowgroup'),y['verbose'](_0x5cbaf5(0x282)),y[_0x5cbaf5(0x2b5)](_0x2c1bc6[_0x5cbaf5(0x24d)]);let _0x3b816c=await this[_0x5cbaf5(0x1a1)]({'request':_0x2c1bc6,'schema':N,'ClassRef':C,'execute':_0x56181c=>A[_0x5cbaf5(0x36b)](_0x56181c,_0x5b412e,_0x5dd187)});_0x4808bc[_0x5cbaf5(0x633)](0xc8)[_0x5cbaf5(0x277)](_0x3b816c);})['post'](this[_0x3d2797(0x52c)](_0x3d2797(0x470)),..._0x3fca70,async(_0x3d7f49,_0x49408c)=>{const _0x245994=_0x3d2797;let _0x11b61d=_0x3d7f49['body'],_0x58e013=_0x3d7f49['headers'][_0x245994(0x239)];y[_0x245994(0x2b5)](_0x245994(0x3bf)),y[_0x245994(0x2b5)](_0x245994(0x282)),y[_0x245994(0x2b5)](_0x3d7f49['body']);let _0x5e2226=await this[_0x245994(0x1a1)]({'request':_0x3d7f49,'schema':N,'ClassRef':C,'execute':_0x8a8562=>A[_0x245994(0x158)](_0x8a8562,_0x11b61d,_0x58e013)});_0x49408c[_0x245994(0x633)](0xc8)['json'](_0x5e2226);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)](_0x3d2797(0x640)),..._0x3fca70,async(_0x1821d7,_0x5bd1af)=>{const _0x2abd54=_0x3d2797;let _0x4490f6=_0x1821d7[_0x2abd54(0x24d)],_0x4869c9=_0x1821d7[_0x2abd54(0x2d0)][_0x2abd54(0x239)];y[_0x2abd54(0x2b5)]('request\x20received\x20in\x20editFlowvariable'),y[_0x2abd54(0x2b5)](_0x2abd54(0x282)),y[_0x2abd54(0x2b5)](_0x1821d7['body']);let _0x471321=await this[_0x2abd54(0x1a1)]({'request':_0x1821d7,'schema':N,'ClassRef':C,'execute':_0x5d1225=>A['editFlowVariable'](_0x5d1225,_0x4490f6,_0x4869c9)});_0x5bd1af[_0x2abd54(0x633)](0xc8)['json'](_0x471321);})[_0x3d2797(0x5e6)](this[_0x3d2797(0x52c)](_0x3d2797(0x1fa)),..._0x3fca70,async(_0x1fa602,_0x5f3cde)=>{const _0x2b5ce1=_0x3d2797;let _0x520c42=_0x1fa602['body'];y['verbose'](_0x2b5ce1(0x397)),y[_0x2b5ce1(0x2b5)]('request\x20body:\x20'),y[_0x2b5ce1(0x2b5)](_0x1fa602[_0x2b5ce1(0x24d)]);let _0x1ff07d=await this['dataValidate']({'request':_0x1fa602,'schema':N,'ClassRef':C,'execute':_0xe5f6a9=>A[_0x2b5ce1(0x55a)](_0xe5f6a9,_0x520c42)});_0x5f3cde['status'](0xc8)['json'](_0x1ff07d);})[_0x3d2797(0x453)](this[_0x3d2797(0x52c)](_0x3d2797(0x147)),..._0x3fca70,async(_0x7f6c0c,_0x4e148f)=>{const _0x6e2314=_0x3d2797;let _0x24e001=_0x7f6c0c[_0x6e2314(0x24d)],_0x42b968=_0x7f6c0c[_0x6e2314(0x2d0)][_0x6e2314(0x239)];y[_0x6e2314(0x2b5)](_0x6e2314(0x290)),y[_0x6e2314(0x2b5)](_0x6e2314(0x282)),y['verbose'](_0x7f6c0c['body']);let _0x428383=await this[_0x6e2314(0x1a1)]({'request':_0x7f6c0c,'schema':N,'ClassRef':C,'execute':_0x43fc4f=>A[_0x6e2314(0x60a)](_0x43fc4f,_0x24e001,_0x42b968)});_0x4e148f['status'](0xc8)[_0x6e2314(0x277)](_0x428383);})[_0x3d2797(0x3cb)](this[_0x3d2797(0x52c)](_0x3d2797(0x690)),..._0x3fca70,async(_0x5e6d52,_0x2232c5)=>{const _0x5388d1=_0x3d2797;y[_0x5388d1(0x2b5)](_0x5388d1(0x641));let _0x1b6379=await this[_0x5388d1(0x1a1)]({'request':_0x5e6d52,'schema':N,'ClassRef':C,'execute':_0x326e03=>A[_0x5388d1(0x67b)](_0x326e03)});_0x2232c5[_0x5388d1(0x633)](0xc8)[_0x5388d1(0x277)](_0x1b6379);});}},mo=T(require(a0_0x15841b(0x457))),Z={};function po(_0x100e4f,_0x31f2be,_0x4c2e61,_0x58eba3){Z[_0x100e4f]||(Z[_0x100e4f]={}),Z[_0x100e4f][_0x31f2be]={'id':_0x31f2be,'response':_0x4c2e61,'events':_0x58eba3};}function ho(_0xdd106a,_0x8ef8e5){!Z[_0xdd106a]||!Z[_0xdd106a][_0x8ef8e5]||delete Z[_0xdd106a][_0x8ef8e5];}function U(_0x2c3359,_0x278bae,_0x415abe){const _0xb4e760=a0_0x15841b;if(!Z[_0x2c3359])return;let _0x3e9fc7=_0xb4e760(0x546)+JSON[_0xb4e760(0x194)](_0x415abe)+'\x0a\x0a';Object[_0xb4e760(0x224)](Z[_0x2c3359])[_0xb4e760(0x537)](_0x7873e4=>{const _0x34bc56=_0xb4e760;_0x7873e4[_0x34bc56(0x306)]['includes'](_0x278bae)&&_0x7873e4['response']['write'](_0x3e9fc7);});}function go(){const _0x1272d6=a0_0x15841b;let _0x3f4667={};for(let _0x27a334 in Z)_0x3f4667[_0x27a334]=Object['values'](Z[_0x27a334])[_0x1272d6(0xef)](_0x33e3f5=>({'id':_0x33e3f5['id'],'events':_0x33e3f5['events']}));return _0x3f4667;}var fo=require(a0_0x15841b(0x372)),Es=require(a0_0x15841b(0x65d)),Cs=class{},yr=new Es[(a0_0x15841b(0x2cd))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),br=new Es['Schema']({'_id':{'type':String,'default':a0_0x15841b(0x510)},'WebhookGlobal':{'type':yr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=O?.[a0_0x15841b(0x2b8)](Cs[a0_0x15841b(0x424)],br,a0_0x15841b(0x5db)),Sr=mo[a0_0x15841b(0x4b6)]['join'](__dirname,a0_0x15841b(0x439)),At=(0x0,$t[a0_0x15841b(0x426)])(),Mr=b[a0_0x15841b(0x3cb)](a0_0x15841b(0x6e8))[a0_0x15841b(0x22d)],ae=[Ma,Ca,Na[Mr]];At[a0_0x15841b(0x485)](a0_0x15841b(0x3e5),$t[a0_0x15841b(0x4b6)]['static'](Sr))[a0_0x15841b(0x3cb)]('/events/:instance',async(_0x4cfe58,_0x2f2dcb)=>{const _0x36117a=a0_0x15841b;console[_0x36117a(0x660)](_0x36117a(0x27e));let _0x3ebe8e=_0x4cfe58[_0x36117a(0x71b)]['instance'],_0x156b39=(_0x4cfe58[_0x36117a(0x6ba)][_0x36117a(0x306)]||'')['split'](','),_0x1bc43f=(0x0,fo['v4'])();console[_0x36117a(0x660)](_0x36117a(0x4a5),_0x3ebe8e),console[_0x36117a(0x660)]('Subscribed\x20Events:',_0x156b39);let _0x5571d2=b['get'](_0x36117a(0x6e8))[_0x36117a(0x21b)],_0x24d973=_0x4cfe58[_0x36117a(0x6ba)][_0x36117a(0x239)];if(console['log'](_0x36117a(0x637),_0x24d973),_0x5571d2[_0x36117a(0x6e0)]!==_0x24d973){console[_0x36117a(0x660)]('env.KEY\x20!==\x20key');try{let _0x5c6df2=await de[_0x36117a(0x2a1)]['find'](_0x3ebe8e);if(console[_0x36117a(0x660)]('Instance\x20Key\x20from\x20DB:',_0x5c6df2),!_0x5c6df2||_0x5c6df2['apikey']!==_0x24d973)return console[_0x36117a(0x660)]('API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!'),_0x2f2dcb['status'](0x191)['send'](_0x36117a(0x2c6));}catch(_0x6a4c1a){return console[_0x36117a(0x45f)](_0x36117a(0x65f),_0x6a4c1a),_0x2f2dcb[_0x36117a(0x633)](0x191)[_0x36117a(0x294)](_0x36117a(0x6c4));}}if(!await Xe(_0x3ebe8e))return _0x2f2dcb[_0x36117a(0x633)](0x194)[_0x36117a(0x294)](_0x36117a(0x66c));_0x2f2dcb['setHeader'](_0x36117a(0x3db),'text/event-stream'),_0x2f2dcb[_0x36117a(0x137)](_0x36117a(0x504),'no-cache'),_0x2f2dcb[_0x36117a(0x137)](_0x36117a(0x74e),_0x36117a(0x45c)),_0x2f2dcb[_0x36117a(0x226)]();let _0x29ec55=_0x36117a(0x546)+JSON[_0x36117a(0x194)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x2f2dcb[_0x36117a(0x6f9)](_0x29ec55),po(_0x3ebe8e,_0x1bc43f,_0x2f2dcb,_0x156b39),_0x4cfe58['on'](_0x36117a(0x50b),()=>{const _0x293245=_0x36117a;console[_0x293245(0x660)](_0x293245(0x123)+_0x3ebe8e),ho(_0x3ebe8e,_0x1bc43f);});}),At[a0_0x15841b(0x3cb)](a0_0x15841b(0x6ec),(_0x478802,_0x578fc1)=>{const _0x567f8b=a0_0x15841b;let _0x3836cd=go();_0x578fc1[_0x567f8b(0x277)](_0x3836cd);})['get']('/',(_0x5a2b5a,_0x23bbcc)=>{const _0x13d044=a0_0x15841b;let _0x44c596=b[_0x13d044(0x3cb)](_0x13d044(0x2fa))[_0x13d044(0x2a5)];if(_0x44c596){let _0x4bc903=encodeURIComponent(''+_0x44c596);_0x23bbcc[_0x13d044(0x37d)](_0x13d044(0x2c0)+_0x4bc903);return;}let _0x5e8adf=b['get'](_0x13d044(0x108)),_0x5dd11d=_0x5e8adf&&_0x5e8adf[_0x13d044(0x361)]['split']('/')[0x4];if(_0x5dd11d){let _0x1a5789=encodeURIComponent(_0x13d044(0x735)+_0x5dd11d);_0x23bbcc['redirect'](_0x13d044(0x2c0)+_0x1a5789);}else _0x23bbcc[_0x13d044(0x37d)](_0x13d044(0x62f));})[a0_0x15841b(0x2ac)](a0_0x15841b(0x450),...ae,async(_0x15f014,_0x5857e5)=>{const _0x5c5933=a0_0x15841b;try{console['log'](_0x5c5933(0x5e2)),_0x5857e5[_0x5c5933(0x633)](0xc8)[_0x5c5933(0x277)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x5857e5['on'](_0x5c5933(0x596),()=>process[_0x5c5933(0x435)](0x0));}catch(_0x3aa702){console[_0x5c5933(0x45f)](_0x5c5933(0x186),_0x3aa702),_0x5857e5[_0x5c5933(0x633)](0x1f4)[_0x5c5933(0x277)]({'message':_0x5c5933(0x5bd)});}})[a0_0x15841b(0x2ac)](a0_0x15841b(0x531),...ae,async(_0x2cb1d3,_0x1d9fa2)=>{const _0x276705=a0_0x15841b;try{let _0x2de67f=_0x2cb1d3[_0x276705(0x24d)];await Se[_0x276705(0x13c)]({},{'$set':_0x2de67f},{'upsert':!0x0});let _0x1794c6=await Se[_0x276705(0x5d9)]();_0x1d9fa2[_0x276705(0x277)](_0x1794c6);}catch(_0x3363f0){_0x1d9fa2[_0x276705(0x633)](0x190)[_0x276705(0x294)](_0x3363f0['message']);}})[a0_0x15841b(0x3cb)](a0_0x15841b(0x531),...ae,async(_0x12e5cb,_0x199a08)=>{const _0x5da30c=a0_0x15841b;try{let _0x58aafe=await Se[_0x5da30c(0x5d9)]();if(!_0x58aafe)return _0x199a08['json']({});_0x199a08[_0x5da30c(0x277)](_0x58aafe);}catch(_0x5edc99){_0x199a08['status'](0x1f4)[_0x5da30c(0x294)](_0x5edc99['message']);}})[a0_0x15841b(0x485)](a0_0x15841b(0x44a),new gt(b,...ae)['router'])['use']('/message',new Nt(...ae)[a0_0x15841b(0x585)])['use']('/chat',new ot(...ae)[a0_0x15841b(0x585)])[a0_0x15841b(0x485)](a0_0x15841b(0x305),new ht(...ae)[a0_0x15841b(0x585)])[a0_0x15841b(0x485)](a0_0x15841b(0x202),new Ot(...ae)['router'])[a0_0x15841b(0x485)](a0_0x15841b(0x15f),new Tt(...ae)[a0_0x15841b(0x585)]);var m=class{constructor(..._0x4096f0){const _0x5d0a6c=a0_0x15841b;throw{'status':0x190,'error':'Bad\x20Request','message':_0x4096f0[_0x5d0a6c(0x561)]>0x0?_0x4096f0:void 0x0};}},se=class{constructor(..._0x68e526){const _0x27c83c=a0_0x15841b;throw{'status':0x191,'error':_0x27c83c(0x2cc),'message':_0x68e526['length']>0x0?_0x68e526:void 0x0};}},Q=class{constructor(..._0x12ab47){const _0x3908f8=a0_0x15841b;throw{'status':0x193,'error':_0x3908f8(0x4f8),'message':_0x12ab47[_0x3908f8(0x561)]>0x0?_0x12ab47:void 0x0};}},J=class{constructor(..._0x4678cb){const _0x12e1bc=a0_0x15841b;throw{'status':0x194,'error':_0x12e1bc(0x733),'message':_0x4678cb[_0x12e1bc(0x561)]>0x0?_0x4678cb:void 0x0};}},I=class{constructor(..._0x379259){const _0x162c6a=a0_0x15841b;throw{'status':0x1f4,'error':_0x162c6a(0x71f),'message':_0x379259[_0x162c6a(0x561)]>0x0?_0x379259:void 0x0};}},pe=require('@whiskeysockets/baileys');async function vs(_0x59828c){const _0x3bfd56=a0_0x15841b;let _0x579a6d=new R(vs[_0x3bfd56(0x424)]),_0x19bc2a=O[_0x3bfd56(0x5f8)](),_0x4635f9=_0x19bc2a['db'](b['get']('DATABASE')[_0x3bfd56(0x3a2)][_0x3bfd56(0x30f)]+_0x3bfd56(0x180))[_0x3bfd56(0x4f2)](_0x59828c),_0x1d9eb6=async(_0x1e930c,_0x45a27a)=>{const _0x495192=_0x3bfd56;try{return await _0x19bc2a[_0x495192(0x609)](),await _0x4635f9['replaceOne']({'_id':_0x45a27a},JSON[_0x495192(0x26f)](JSON[_0x495192(0x194)](_0x1e930c,pe[_0x495192(0x6d5)][_0x495192(0x5a0)])),{'upsert':!0x0});}catch{}},_0x13eb38=async _0x592af0=>{const _0x918524=_0x3bfd56;try{await _0x19bc2a[_0x918524(0x609)]();let _0x432057=await _0x4635f9[_0x918524(0x5d9)]({'_id':_0x592af0}),_0x405646=JSON[_0x918524(0x194)](_0x432057);return JSON['parse'](_0x405646,pe['BufferJSON'][_0x918524(0x2c7)]);}catch{}},_0x3546e7=async _0x4e8579=>{const _0x290533=_0x3bfd56;try{return await _0x19bc2a[_0x290533(0x609)](),await _0x4635f9[_0x290533(0x79b)]({'_id':_0x4e8579});}catch{}},_0x4ef6b9=await _0x13eb38(_0x3bfd56(0x564))||(0x0,pe['initAuthCreds'])();return{'state':{'creds':_0x4ef6b9,'keys':{'get':async(_0x5e58e4,_0x3e4dd1)=>{const _0x106751=_0x3bfd56;let _0x5cdbd8={};return await Promise[_0x106751(0x60e)](_0x3e4dd1['map'](async _0x4d9b15=>{const _0x803c10=_0x106751;let _0xa3b462=await _0x13eb38(_0x5e58e4+'-'+_0x4d9b15);_0x5e58e4===_0x803c10(0x232)&&_0xa3b462&&(_0xa3b462=pe[_0x803c10(0x5f3)][_0x803c10(0x17b)][_0x803c10(0x5f5)][_0x803c10(0x4e8)](_0xa3b462)),_0x5cdbd8[_0x4d9b15]=_0xa3b462;})),_0x5cdbd8;},'set':async _0x5330d6=>{const _0x4c9a8b=_0x3bfd56;let _0x528e5e=[];for(let _0x59707d in _0x5330d6)for(let _0x86aab4 in _0x5330d6[_0x59707d]){let _0x275c8d=_0x5330d6[_0x59707d][_0x86aab4],_0x3a2bcd=_0x59707d+'-'+_0x86aab4;_0x528e5e[_0x4c9a8b(0x627)](_0x275c8d?_0x1d9eb6(_0x275c8d,_0x3a2bcd):_0x3546e7(_0x3a2bcd));}await Promise[_0x4c9a8b(0x60e)](_0x528e5e);}}},'saveCreds':async()=>_0x1d9eb6(_0x4ef6b9,_0x3bfd56(0x564))};}var $s=T(require(a0_0x15841b(0x386))),As=T(require(a0_0x15841b(0x5a3))),Dt=require(a0_0x15841b(0x5b2)),wo=require(a0_0x15841b(0x44b)),xt=require(a0_0x15841b(0x5b2)),It;function Cr(_0x40d926){const _0x5be540=a0_0x15841b;return It||(It=(0x0,wo['createClient'])({'url':_0x40d926[_0x5be540(0x57f)]}),It[_0x5be540(0x609)]()),It;}var le=class c{constructor(_0xa3871a,_0x5c3f80){const _0x368cc3=a0_0x15841b;this[_0x368cc3(0x10a)]=_0xa3871a,this[_0x368cc3(0x1fd)]=_0x5c3f80,this[_0x368cc3(0x781)]=new R(c['name']),this[_0x368cc3(0x34c)]=Cr(_0xa3871a);}set['reference'](_0x2411d2){const _0x2a1110=a0_0x15841b;this[_0x2a1110(0x1fd)]=_0x2411d2;}async[a0_0x15841b(0x6e4)](){const _0x5cbedd=a0_0x15841b;try{return await this[_0x5cbedd(0x34c)][_0x5cbedd(0x2b6)]([_0x5cbedd(0x479),this['redisEnv']['PREFIX_KEY']+':*']);}catch(_0x38a986){this[_0x5cbedd(0x781)]['error'](_0x38a986);}}async[a0_0x15841b(0x539)](_0x1e3a33,_0x38ce7a){const _0x4b2b19=a0_0x15841b;try{let _0xd0ca6d=JSON[_0x4b2b19(0x194)](_0x38ce7a,xt[_0x4b2b19(0x6d5)][_0x4b2b19(0x5a0)]);return await this['client'][_0x4b2b19(0x771)](this[_0x4b2b19(0x10a)]['PREFIX_KEY']+':'+this[_0x4b2b19(0x1fd)],_0x1e3a33,_0xd0ca6d);}catch(_0x4b429f){this[_0x4b2b19(0x781)]['error'](_0x4b429f);}}async[a0_0x15841b(0x204)](){const _0x352bcc=a0_0x15841b;try{let _0x40818e=await this['client'][_0x352bcc(0x330)](this['redisEnv'][_0x352bcc(0x31f)]+':'+this['instanceName']);if(_0x40818e){for(let _0x3d17b1 in _0x40818e)Object[_0x352bcc(0x643)][_0x352bcc(0x195)][_0x352bcc(0x407)](_0x40818e,_0x3d17b1)&&(_0x40818e[_0x3d17b1]=JSON[_0x352bcc(0x26f)](_0x40818e[_0x3d17b1],xt['BufferJSON'][_0x352bcc(0x2c7)]));return _0x40818e;}}catch(_0x38aa07){this[_0x352bcc(0x781)]['error'](_0x38aa07);}}async[a0_0x15841b(0x79a)](_0x270e09){const _0x38b59f=a0_0x15841b;try{let _0x23e1e8=await this[_0x38b59f(0x34c)][_0x38b59f(0x4e2)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x38b59f(0x1fd)],_0x270e09);if(_0x23e1e8)return JSON[_0x38b59f(0x26f)](_0x23e1e8,xt[_0x38b59f(0x6d5)][_0x38b59f(0x2c7)]);}catch(_0x144dc6){this[_0x38b59f(0x781)][_0x38b59f(0x45f)](_0x144dc6);}}async['removeData'](_0x146b4c){const _0x366271=a0_0x15841b;try{return await this[_0x366271(0x34c)][_0x366271(0x25b)](this['redisEnv'][_0x366271(0x31f)]+':'+this[_0x366271(0x1fd)],_0x146b4c);}catch(_0x2da93e){this[_0x366271(0x781)][_0x366271(0x45f)](_0x2da93e);}}async[a0_0x15841b(0x766)](_0x4c369c){const _0x5c5090=a0_0x15841b;try{return await this['client'][_0x5c5090(0x614)](_0x4c369c||this['redisEnv']['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x52285a){this[_0x5c5090(0x781)][_0x5c5090(0x45f)](_0x52285a);}}};async function Ns(_0x16a656,_0x62bcd4){const _0x151b4e=a0_0x15841b;let _0x5332c2=new R(Ns[_0x151b4e(0x424)]),_0x1d1e3c=new le(_0x16a656,_0x62bcd4),_0x310aac=async(_0x20e1ba,_0x267a4d)=>{const _0x36ed08=_0x151b4e;try{return await _0x1d1e3c['writeData'](_0x267a4d,_0x20e1ba);}catch(_0x3dba8d){return _0x5332c2[_0x36ed08(0x45f)]({'localError':_0x36ed08(0x539),'error':_0x3dba8d});}},_0x25c4aa=async _0x50be71=>{const _0x225412=_0x151b4e;try{return await _0x1d1e3c['readData'](_0x50be71);}catch(_0x5810ec){_0x5332c2[_0x225412(0x45f)]({'readData':_0x225412(0x539),'error':_0x5810ec});return;}},_0x541ba5=async _0x2a3fb7=>{const _0x3885de=_0x151b4e;try{return await _0x1d1e3c[_0x3885de(0x57b)](_0x2a3fb7);}catch(_0x220b41){_0x5332c2[_0x3885de(0x45f)]({'readData':_0x3885de(0x57b),'error':_0x220b41});}},_0x124f83=await _0x25c4aa(_0x151b4e(0x564))||(0x0,Dt['initAuthCreds'])();return{'state':{'creds':_0x124f83,'keys':{'get':async(_0x8a604b,_0x49f96b)=>{const _0x4b087f=_0x151b4e;let _0x17123f={};return await Promise[_0x4b087f(0x60e)](_0x49f96b[_0x4b087f(0xef)](async _0x161190=>{const _0x36b41c=_0x4b087f;let _0x48b059=await _0x25c4aa(_0x8a604b+'-'+_0x161190);_0x8a604b===_0x36b41c(0x232)&&_0x48b059&&(_0x48b059=Dt[_0x36b41c(0x5f3)]['Message'][_0x36b41c(0x5f5)][_0x36b41c(0x4e8)](_0x48b059)),_0x17123f[_0x161190]=_0x48b059;})),_0x17123f;},'set':async _0x5c771e=>{const _0x31050e=_0x151b4e;let _0x127132=[];for(let _0x29f2af in _0x5c771e)for(let _0x566803 in _0x5c771e[_0x29f2af]){let _0x11350e=_0x5c771e[_0x29f2af][_0x566803],_0x2d1c20=_0x29f2af+'-'+_0x566803;_0x127132[_0x31050e(0x627)](_0x11350e?await _0x310aac(_0x11350e,_0x2d1c20):await _0x541ba5(_0x2d1c20));}await Promise['all'](_0x127132);}}},'saveCreds':async()=>await _0x310aac(_0x124f83,_0x151b4e(0x564))};}var j=T(require('fs')),jt=require(a0_0x15841b(0x372)),Lt=T(require(a0_0x15841b(0x653))),Ft=require(a0_0x15841b(0x215)),Er=a0_0x15841b(0x61f)[a0_0x15841b(0x43c)](),_t=Er[a0_0x15841b(0x69d)]('\x0a')['map'](_0x48f795=>{const _0xd692=a0_0x15841b;let _0x4b4df5=_0x48f795[_0xd692(0x69d)](':'),_0xc54754={'host':_0x4b4df5[0x0],'port':_0x4b4df5[0x1],'protocol':_0xd692(0x1d1)};return _0x4b4df5[_0xd692(0x561)]===0x4&&(_0xc54754[_0xd692(0x35a)]=_0x4b4df5[0x2],_0xc54754[_0xd692(0x266)]=_0x4b4df5[0x3]),_0xc54754;});function yo(_0x55d47e){const _0x501391=a0_0x15841b;return _t[_0x501391(0x76f)](_0x5dad3d=>_0x5dad3d[_0x501391(0x788)]===_0x55d47e)||null;}function bo(){const _0x5117d0=a0_0x15841b;if(_t[_0x5117d0(0x561)]===0x0)return null;let _0x5400a3=Math[_0x5117d0(0x319)](Math[_0x5117d0(0x1ab)]()*_t[_0x5117d0(0x561)]);return _t[_0x5400a3];}function Rs(_0x1b967c){const _0x4f09ae=a0_0x15841b;let _0x3a385e=_0x71a9c5=>typeof _0x71a9c5==_0x4f09ae(0x421)&&_0x71a9c5[_0x4f09ae(0x561)]>0x0,_0x1eb003=_0x23c189=>{let _0x281802=parseInt(_0x23c189,0xa);return!isNaN(_0x281802)&&_0x281802>0x0&&_0x281802<=0xffff;},_0x46b5c0=_0x48a4fa=>typeof _0x48a4fa==_0x4f09ae(0x421)&&_0x48a4fa[_0x4f09ae(0x561)]>0x0;return _0x1b967c&&_0x3a385e(_0x1b967c[_0x4f09ae(0x788)])&&_0x1eb003(_0x1b967c[_0x4f09ae(0x388)])&&(!_0x1b967c[_0x4f09ae(0x35a)]||_0x46b5c0(_0x1b967c[_0x4f09ae(0x35a)]))&&(!_0x1b967c[_0x4f09ae(0x266)]||_0x46b5c0(_0x1b967c[_0x4f09ae(0x266)]))&&(_0x1b967c['protocol']===_0x4f09ae(0x1d1)||_0x1b967c[_0x4f09ae(0x579)]===_0x4f09ae(0x6db));}var Ut=require(a0_0x15841b(0x678)),Is=a0_0x15841b(0x6c1),No,ue=null,So=null,et=null,vr=0x3,Nr=null,ee=b[a0_0x15841b(0x3cb)](a0_0x15841b(0x6e8))[a0_0x15841b(0x21b)][a0_0x15841b(0x6e0)];async function Rr(){const _0x4667a7=a0_0x15841b;let _0x4b4f5e=await Se['findOne']();ue=_0x4b4f5e?.['WebhookGlobal']??null,Nr=_0x4b4f5e?.['DaysToDelete']??null,Is=_0x4b4f5e?.['connectedClient']??'Safari',No=_0x4b4f5e?.['connectedName']??xs??_0x4667a7(0x62a),console[_0x4667a7(0x660)](_0x4b4f5e);}async function Or(){await Rr();}Or();function a0_0x3763(){const _0x5ba7e9=['replyOptions','getStatus','Erro\x20ao\x20arquivar\x20chat','saveConversationToDatabase','del','groups.upsert','Error\x20parsing\x20JSON:','description','utf8','The\x20\x22','Authentication\x20error','--standalone','padStart','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','lastDisconnect','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','\x22\x20not\x20found','AUTHENTICATION_JWT_EXPIRIN_IN','#64c4ff','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','loadInstance','Erro\x20ao\x20aplicar\x20varedit:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','push','https://api.elevenlabs.io/v1/text-to-speech/','admin','uazapi','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','extractMessageContent','updateAutoCompleteMessages','\x1b[31m%s\x1b[0m','https://uazapi-plugin.bubbleapps.io/','send.message','processUazapi','pop','status','STORE_CLEANING_TERMINAL','\x0a{\x20instance:\x20','\x1b[0m','API\x20Key\x20from\x20Request:','):\x20alterando\x20this.AutomateSystem','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','pollErrorMessage','labels.edit','generateHash','@g.us','lastSendMessage','StartBot','editflowvariable','request\x20received\x20in\x20allFlows','EXPIRIN_IN','prototype','updateFlowConfig','):\x20Conversa\x20está\x20expirada\x20-\x20voto','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Error\x20finding\x20many\x20contacts:','flowPrefixCommand','labels.association','secondValue','Resultado\x20da\x20atualização:','\x1b[42m','):\x20Grupo\x20','CLEANING_INTERVAL','ex:\x20\x22groupJid=120362@g.us\x22','stanzaId','varedits','sharp','processblock','condition','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Deleted\x20','groupLeave','replaceVariablesInObject','Mensagens\x20deletadas\x20com\x20sucesso.','logout','entries','mongoose','fetchConversation','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','log','):\x20Going\x20to\x20','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','.extension','jpegThumbnail','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','convertedOptions','processing_id','.type','start','set','SendScheduleMessage','Instância\x20não\x20encontrada.','loadEnv','remote\x20\x22origin\x22','splice','moreLogs','size','fone','from','removeUnusedChatFields','authModel','isArray','\x1b[36m','crypto','sync','exists','allFlows','MAX_RECONNECT_ATTEMPTS','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Parando\x20aplicação...','\x1b[43m','label_jid','Cached\x20audio\x20found,\x20returning\x20existing\x20file','startsWith','groups_ignore','PRODUCT_LIST','substring','reorderBlocks','deleteChat','padEnd','STORE_CONTACTS','newStoppedUntil','\x20->\x20NÃO\x20CORRESPONDE.','.docx','process','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','startFlow','allflows','CHATS_UPDATE','latitude','readFileSync','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','):\x20Buscando\x20conversas...','msgRetryCounterCache','ultimaTentativaRemoteJid','\x1b[33m%s\x1b[0m','findAndUpdate','isJWT','delayMessage','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','split','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','markMessageAsRead','CORS_ORIGIN','):\x20Current\x20Time:\x20','#92ceac','firstValue','jsonwebtoken','qrcode.updated','demote','audio/ogg;\x20codecs=opus','instanceCount','):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','leadInfo.','create','REDIS_URI','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','updateProfileStatus','Erro\x20ao\x20remover\x20instâncias\x20antigas:','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','):\x20Editando\x20grupo\x20do\x20fluxo...','importChatsAntigo','chats.update','Removidas\x20as\x20variáveis:\x20','creds.json','LICENSE_INVALID','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','Erro\x20ao\x20buscar\x20a\x20conversa','query','isRunning','ContactModel','Fluxo\x20não\x20encontrado','stderr','ORG:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Safari','/:instanceName','rowId','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','convertaudio','CONTACTS_SET','readMessages','sendDataWebhook','getProfileName','toString','):\x20Editando\x20variável\x20do\x20fluxo...','leaveGroup','https://api.ipify.org?format=json','JWT','):\x20Alterando\x20fluxo...','createFlow','Reinicialização\x20iniciada:\x20','onTime','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','_activatedCount','BufferJSON','notify','PRESENCE_UPDATE','insert','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','waitingMenu_ExpiredMessage','https','authorization','SERVER_TYPE','local_map','generateWAMessageFromContent','KEY','bearer','limit','getVariablesChat','instanceKeys','):\x20delete\x20=\x20true','updateProfileName','console','AUTHENTICATION','class-validator','findChats','statSync','/clients-info','online','NextBlock','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','contact_blacklist','pollMessageOnDelete','block','Erro\x20ao\x20atualizar\x20AutomateSystem:','$dbName','):\x20conversation.waitingMenu_name','getOwnPropertyNames','localWebhook','scheduled','write','toBRL','order','recording','editFlowReply','):\x20Criando\x20nova\x20conversa[createNewConversation]','basename','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','122034sLnDlb','fetchProfilePictureUrl','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','redis://127.0.0.1:6379','stateConnection','lastReceivedMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','request\x20received\x20in\x20getConversation','#000000','getLastMessage','instance.','mongodb','public','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','copy','.ppt','Content\x20is\x20required','.url','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','\x20não\x20encontrado.','<subdomain>','automateSystem','CREDENTIALS','notEmpty','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','leadInfo.etiquetas','params','Erro\x20ao\x20copiar\x20o\x20documento','archive','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','Internal\x20Server\x20Error','add','DisconnectReason','Erro\x20ao\x20buscar\x20o\x20fluxo','.error','addReplyOption','Error\x20fetching\x20group','\x20minutos.\x20Será\x20às\x20','remoteJidsRemaining','lastBlockId','./.git/config','rows','endSession','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','https://chat.whatsapp.com/','waMonitor','[all]','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','locationMessage','Not\x20Found','Erro\x20do\x20Certbot:\x20','https://','getTicketSystem','findIndex','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','Error\x20while\x20deleting\x20message\x20for\x20everyone','CHATS_UPSERT','updateMissingShareOwners','loggedOut','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','certonly','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','promote','originalUrl','readMessage','CHATS_SET','groups','desativadoFluxoAte','contactsArrayMessage','integer','superadmin',',\x20Segundo\x20Valor:\x20','):\x20Buscando\x20flow...','groupMetadata','):\x20[messages.upsert]\x20group\x20ignored','HttpsProxyAgent','Connection','instance','/wa-message','updatePresence','caption','express-async-errors','groupUpdateSubject','chat','pollCreationMessage','encoding','^\x5cd+([-]\x5cd+)*@g.us$','ini','documentWithCaptionMessage','processConditions','groupName','remove','mediatype','list','customFields','):\x20não\x20encontrou','remoteJids','USER','selectableCount','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','delAll','chats.upsert','replyOption','fileUrl','pt-BR',',\x20Comparador:\x20','muteEndTime','newValue','findByIdAndUpdate','find','errors','hSet','setContext','delayChatLabel_RETRY_DELAY_MS','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','GROUPS_UPDATE','existsSync','expression','binary','match','\x1b[32m','Erro\x20ao\x20atualizar\x20conversa:\x20','autoCompleteMessages','resetReconnectionVariables','variables','title','logger','):\x20\x27Deletando\x20fluxo,\x20name:\x20','Error\x20occurred\x20while\x20archiving\x20chat:\x20','#ffc5c7','toggleEphemeral','unhandledRejection','isURL','host','descOwner','.mp3',',\x20Expiration\x20Time:\x20','dbClient','save','/wa-qrcode','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','code','Falha\x20ao\x20processar\x20fetchBusinessProfile','getMessage','Processing\x20audio','Deletion\x20failed','Flow\x20não\x20encontrado','.mp4','website','):\x20Limpando\x20AutomateSystem','number','readData','deleteOne','pollCreationMessageV3','upsertedCount','deleteMessage','readdirSync','toBrazilianNumberFormat','PORT','\x20Tentativa\x20de\x20reconexão\x20','.jwt','SECRET','pictureUrl','READ','DATABASE','messageTimestamp','importChats','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','):\x20Buscando\x20todos\x20os\x20fluxos...','#d3a91f','Nenhum\x20chat\x20encontrado\x20para\x20editar.','.svg','Erro\x20ao\x20tentar\x20autoCompleteMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','ScheduleMessage','FlowModel','testingWith','Parando\x20aplicação,\x20atualização\x20recebida','Converting\x20image\x20to\x20WebP\x20to\x20sticker','flowName','PENDING','\x0a*Você\x20respondeu*:\x0a','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','queryObj\x20FINDONE','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','processApiRequest','GUARD','match_last_seen','awaitingApproval','findGroup','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','formatBRNumber','isInteger','userDevicesCache','fetchPrivacySettings','request\x20received\x20in\x20scheduleMessage','createRegularFlow','slice','WA\x20MODULE','fetchLabels','listResponseMessage','\x1b[34m','8EAjLEg','map','webhookService','):\x20teve\x20mudanças\x20chat.archived:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','reactionMessage','menuType','Temp\x20image\x20deleted','):\x20Bloco\x20copiado:\x20','toUpperCase','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Erro\x20ao\x20deletar\x20chat:','_FlowHistorico','\x5cd+','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Erro\x20ao\x20editar\x20a\x20conversa','phoneNumber','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','isAdmin','axios','Message\x20not\x20found','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','creds.update','subjectTime','Erro\x20ao\x20editar\x20agentes','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','SSL_CONF','/wa-contacts','redisEnv','sendPresenceUpdate','interval\x20não\x20é\x20um\x20número','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','endsWith','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','\x1b[46m',',\x20Novo\x20tamanho:\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','desc','deleteConversation','4JYnxAZ','getDevice','processclearVariables','Esse\x20fluxo\x20expirou','statusMessage','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','):\x20Rótulo\x20atualizado:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','authentication','inner','setRestartTimeout','Group\x20not\x20found','groupId','dayjs','Connection\x20closed\x20for\x20instance:\x20','Error\x20in\x20converting\x20audio','DOCKER_ENV','):\x20Erro\x20durante\x20a\x20atualização:\x20','dropCollection','menuMessage','profileName','processConditionsTest','Flow\x20iniciado\x20com\x20','/instance/connectionState',',\x20apikey:\x20','sharePass','oldValue','/instance/create','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','goNextblock','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','deleteAll','apply','normalizeMessageContent','setHeader','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','src','conversationTimestamp','_remoteJid','updateOne','cleaningUp','\x20is\x20already\x20in\x20use.','\x1b[40m','leadInfo','\x20\x1b[0m','canSendMessage','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','js-yaml','uazapiSendText','deleteflow','DATABASE_CONNECTION_PASSWORD','findByIdAndDelete','waitingMenu_replyOptions','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','MESSAGES_UPDATE','app','):\x20Editando\x20replyOption...','groupSetting','applyvaredit','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','test','valid','createflow','warn','flowActive','editFlowCondition','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','application/json','DATABASE_CONNECTION_URI','repository','62452SQZnNU','AutomateSystem','/automate','Conversa\x20deletada\x20com\x20sucesso.','/wa-all-message','PRIVKEY','arrayUnique','connectionState','getOwnPropertyDescriptor',',\x20lastCondition:\x20','):\x20Editando\x20edição\x20do\x20fluxo...','\x20horas\x20e\x20','OrAnd','stopMinutesMaxActives','sort','Image\x20path:\x20','fetchMessages','SERVER_URL','VERBOSE','shutdown\x20-r\x20now','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','cacheContactModel','):\x20Procurando\x20conversa','getLabelModelForOwner','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','STORE','CHATS_DELETE','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','update','messageStubType','Message','$pull','isCommunity','user','):\x20Entrou\x20na\x20função\x20goToFlow','-instances','env.yml','fetchContacts','false','findGroupInfo','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','contactHandle','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Sending\x20audio\x20whatsapp',',\x20canSendMessage:\x20','removeProfilePicture','creation','join','address','updateLastSeenPrivacy','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','findParticipants','importChatsBatch','locked','stringify','hasOwnProperty','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','findGroups','#6f7bcf','.gif','scheduleMessage','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','#dfaef0','linkPreview','https://ipinfo.io/json','http://icanhazip.com/','dataValidate','):\x20Buscando\x20conversa...','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','menuExpiredMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','fetchProfilePicture','realVariables','.xls','Erro\x20ao\x20iniciar\x20fluxo:\x20','REDIS_PREFIX_KEY','random','detail','Chat\x20com\x20ID\x20','exports','LOG_COLOR','notMatchRegex','lowerCase','contacts.upsert','beforeExit','#ffae04','):\x20Deletando\x20mensagem','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','dbServer','uazapiSendMedia','no.connection','fileName','.webp','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','buttonText','Error\x20updating\x20message\x20status:','mediaSticker','findConversation','fetchStatus','message_normalized','createJid','editedMessage','etiquetas','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','base64','extractRegex','normalizeMessage','round','pollCreationMessageV2','findAndReplace','profilePicture','Getting\x20image\x20from\x20url','labelId','Falha\x20ao\x20processar\x20a\x20solicitação','http','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','document','):\x20Visualizando\x20AutomateSystem','-whatsapp-api','Falhou\x20ao\x20encontrar\x20chat\x20','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','fromMe','last','equal','now','6KEMIbn','):\x20Enviando\x20contato','toFile','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','createGroup','agents','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20',',\x20isAdmin:\x20','replaceVariables','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','updateMessage','remove.instance','sendStatus','\x20contacts','ip:\x20','defineAuthState','\x20do\x20chat\x20','uazapiSendMenu','less','@newsletter','\x20e\x20ID=','option','eventemitter2','):\x20Comando\x20desconhecido:\x20','reconnectAttempts','CORS_CREDENTIALS','request\x20received\x20in\x20deleteConversation','createHash','next_groupId','Mensagem\x20não\x20suportada','getflow','Error\x20in\x20chatModify\x20for\x20number\x20','Não\x20respondeu\x20com\x20a\x20enquete.','instanceName','1085739cgUFwM','assign','PROXY','Image\x20created','/webhook','profile','getAllData','@s.whatsapp.net','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','NO_IP','ids','entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos','toLocaleString','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','updateStopChat','scheduleSendText','Certbot\x20executado\x20com\x20sucesso.','\x22reaction\x22\x20must\x20be\x20an\x20emoji','cachedContacts-whatsapp','_Labels','\x20removido\x20do\x20chat\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','https-proxy-agent','stopMinutes','\x20:\x20','SERVER_ACK','ReplyOption\x20com\x20ID\x20','choices','API_KEY','\x20inseridos\x20no\x20banco\x20de\x20dados...','ConversationModel','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Chat\x20','evaluateCondition','utf-8','height','state','values','sha256','flushHeaders','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','deleted','):\x20conversation.lastInteraction:\x20','\x20-i\x20','Número:\x20','TYPE','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','atendimentoAberto','Types','app-state-sync-key','ON\x20-\x20dbName:\x20','silent','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','success','.doc','replaceVariablesChat','apikey','quotedMessage','getTime','open','updateGroupPicture','uazapiSendContact','\x1b[37m','\x20com\x20sucesso.','isJidBroadcast','fetchProfile','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','CacheContacts\x20database\x20connection\x20closed.','output','request\x20received\x20in\x20updateAgent','chats.delete','1422fmNoSY','pairingCode','AUTHENTICATION_API_KEY','function','cachedData-whatsapp','body','waitingMenu_text','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Campos\x20a\x20serem\x20atualizados:','editScheduleMessage','\x20mensagens\x20de\x20','Not\x20allowed\x20by\x20CORS','presence','fetchChats','requestPairingCode','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','font','Delete\x20chat','sections','hDel','downloadMediaMessage','queryObj\x20DELETEONE','findOrCreate','sectionsToString','895839sSMvFi','sign','enabled','poll','conditions','type','password','\x20minutos\x20verificará\x20novas\x20mensagens','vcard','static','revokeInviteCode','@broadcast','Falta\x20informação\x20para\x20a\x20chamada\x20API','updateGParticipant','LEVEL','parse','getScheduleMessageModelForOwner','buttons','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','minutesToClose','eventHandler','longitude','isBase64','json','includes','views',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','getDelay','STATUS_INSTANCE','getConversationModelForOwner','bateu\x20events','upsertChats','groupRequestParticipantsUpdate','Esse\x20fluxo\x20é\x20global,\x20para\x20deletá-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','request\x20body:\x20','isJidGroup','findAll','\x1b[30m%s\x1b[0m','removeChatLabel','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','reference','updateCustomFields','scheduleSendAudio',',\x20Resultado:\x20','findWebhook','groupdata','updateReadReceiptsPrivacy','webhookModel','request\x20received\x20in\x20deleteFlow','announcement','Trying\x20to\x20get\x20business\x20profile','responsavelid','send','contacts','nomecompleto','request_method','sleep','configService','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','Sistema\x20atualizado\x20com\x20sucesso!','Certbot:\x20','deleteDoneMessages','getChatModelForOwner','pushName','auth','contacts.update','\x20e\x20proprietário\x20','stdout','URL','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','label','/wa-groups','indexOf','Desconectado,\x20parando\x20execução.','findContacts','put','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','$set','isLong','The\x20instance\x20needs\x20to\x20be\x20disconnected','#9568cf','):\x20newSecondValue\x20após\x20replaceVariables:','node-mime-types','cors','verbose','sendCommand','createInstance','model','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','min','):\x20Conversa\x20atualizada\x20em\x20memória','mentions','ListMessage','editOperator','exec','https://uazapi-plugin.bubbleapps.io/?url=','max','addBlock','groupCreate','true','.X-ABLabel:Celular\x0a','API\x20Key\x20inválida.','reviver','):\x20Conversas\x20encontradas:','when','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','DARK','Unauthorized','Schema','450020HOHpoU','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','headers','readMessageBot','evaluateConditionTest','Error\x20updating\x20cache\x20contact:','isConnected','generate','/*.json','header','envYaml','This\x20name\x20','drop','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','/instance/connect','url','TEXT','qrcode-terminal','quoted','AutomateFunctions','saveCreds','flush','content-type','waitingMenu_id','unlinkSync','urlOrBase64','.fileUrl','Erro\x20ao\x20alterar\x20privacidade',']\x20(','authService','spawn','):\x20Enviando\x20mídia',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','pollCreationMessageKey','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','groupGetInviteInfo','request\x20received\x20in\x20updateAutoCompleteMessages','filter','Background\x20color\x20is\x20required','sendButtons','varedit','unlocked','Primeiro\x20Valor:\x20','statusCode','SERVER','Erro\x20ao\x20buscar\x20conversas','updateBlock','leadInfo.customFields','inviteCode','ms\x20(tentativa\x20','object','groupInviteCode','createConnection','leadInfo.desativadoFluxoAte','webhookMap','/group','events','$addToSet',':\x20Erro\x20durante\x20loadproxy\x20-\x20','WARN','Erro\x20ao\x20editar\x20o\x20chat','deleteImportedChat','ephemeralExpiration','.mimetype','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','DB_PREFIX_NAME','9740xmvDEq','):\x20atualização\x20chat:\x20','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','error_log','updateGParticipate','remoteJid','count','\x22\x20-\x20REMOVED','floor','apirequest','):\x20Enviando\x20texto','groupMemberAddMode','Variáveis\x20não\x20encontradas:','Fluxos\x20não\x20estão\x20ativados','PREFIX_KEY','setUpdate','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','connectionUpdate','chats.set','joinGroupValidate','STORE_CHATS','createNewConversation','sem\x20texto\x20na\x20mensagem','messageId','Mac\x20OS','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','Close\x20connection','convertToWebP','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','convertaudioMP3','replace','hGetAll','contains','preview','_id','formatVCard','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','getMIMEType','Erro\x20ao\x20importar\x20chats','text','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','documentMessage','):\x20lastBlockId:\x20','request\x20received\x20in\x20editConversation','\x1b[36m%s\x1b[0m','restartInstance','CORS_METHODS','Logger','stopConversation','Falha\x20após\x20várias\x20tentativas.','CONNECTION_UPDATE','/wa-presence','expiration','):\x20Error\x20processing\x20the\x20block:\x20','messageContextInfo','audio/ogg','restrict','isJidUser','#00a1f2','client','Hash\x20to\x20image\x20name:\x20','messageHandle','scheduleSendMedia',':\x20IP\x20configurado:\x20','prepareMediaMessage','):\x20Entrou\x20na\x20função\x20processawaitSeconds','modifiedCount',',\x20valor\x20passado:\x20\x22','editflowvaredit','RemoveChatLabel','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','updateParticipant','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','username','collections','subject','vote','SUCCESS','editChat','flow','FULLCHAIN','enviado\x20para','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Missing\x20global\x20api\x20key','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','isListOfNumbers','):\x20','groups.update','video-cover.png','editFlowGroup','waInstances','presenceSubscribe','^\x5cd+','\x5c$&','wuid','sendMedia','uuid','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','verifiedName','saveChatVariables','bulkWrite','updateGroupWebhook','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','lastCondition','CONECTADO\x20À\x20UAZAPI','updateStatusPrivacy','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','redirect','unavailable','removeOlderDisconnectedInstances','contextInfo','noConnection','Fluxo\x20não\x20encontrado.','\x22,\x20valor\x20a\x20substituir:\x20\x22','archived','_Chats','long','status.instance','port','lastMessage','dbSettings','.ogg','isCommunityAnnounce','setting','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','reconnectTimestamps','deletedCount','inviteUrl','processgoToFlow','editFlowBlock','createSectionsFromValues','CORS','SSL_CONF_FULLCHAIN','request\x20received\x20in\x20getFlow','hex','closeExistingConversations','mediaKey','reaction','http://checkip.dyndns.org','updateChatWithMessage','replaceVariablesLogs','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','GROUPS_UPSERT','data','CONNECTION','sendReaction','sendText','dbInstance','Converted\x20image\x20deleted','picture','composing','sendWhatsAppAudio','chatLog','instanceName\x20not\x20provided.','deleteBlock','processawaitSeconds',',\x20fará\x20nova\x20verificação\x20em\x20','#f64847','redis','empty','Tentando\x20reconectar...','textMessage','50mb','group','Início','_p_','cache','charAt','updateOneById','announce','participants','getConversation','matchRegex','request\x20received\x20in\x20editFlowcondition','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','connecting','mediaMessage','augusto.fcs@gmail.com','insertMany','changeVariables','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','deleteMany','uazapiSendAudio','):\x20Query\x20params:\x20','updateAgent','get','closed','updateChatGroupData','testProxy','\x20de\x20conectar\x20com\x20IP\x20extra.','):\x20Mensagem\x20já\x20enviada\x20para\x20','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','available','audioWhatsapp','SERVER_PORT','Cannot\x20','and','\x20depois\x20','copyBlock','admin_add','oldToken','Content-Type','contentText','_pushName','Rótulo\x20deletado:\x27,\x20','startCommandWord','LOG','Telefone:\x20','setWebhook','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','abs','/media','gifPlayback','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','getContentType','chatHandle','Erro\x20de\x20reinicialização:\x20','@ffmpeg-installer/ffmpeg','/instance/fetchInstances','color','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','headerString','truncatedto','):\x20Label\x20','):\x20expirationTime:\x20','Nenhum\x20participante\x20válido\x20encontrado.','/wa-connection-update','findById','format','fetchInstances','):\x20this.processing_id:\x20','imported','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','audioMessage','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','presence.update','getContactModelForOwner','_Flows','request\x20received\x20in\x20getAutomateSystem','):\x20Entrou\x20na\x20função\x20stop','\x20tentativas:\x20remotejid=','request\x20received\x20in\x20editFlow','sendMenu','call','findManyByIds','context','joinGroup','http://ip-api.com/json','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','ephemeralMessage','action','mongodb://','pollMessage','parseInt','\x1b[1m','findOneAndUpdate','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','tags','replaceValue','last_update','Audio\x20processed','/wa-chats','chats','.wav','InstancesAsDisconnectedX','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','dropIndex','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','sendMessageWithTyping','string','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','whatsappNumber','name','jid','Router','editConversation','createSharedFlow','\x20tentativas.','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert',',\x20pairCode:\x20','pre','blockLogs','bodyStringErrorParse',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','QRCODE_UPDATED','scheduleNextCheck','PASSWORD','groupUpdateDescription','connectToWhatsappController','exit','connectToWhatsapp','ObjectId','undefined','downloads','getMessageModelForOwner','Not\x20is\x20business\x20profile','trim','.ogv','fullName','optionName','view\x20engine','done','recebido\x20de','qrCode','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','updatePrivacySettings','):\x20Conversa\x20está\x20expirada','#01d0e2','status@broadcast','):\x20mediaMessageInfoId\x20:\x20','/instance','@redis/client','Button\x20texts\x20cannot\x20be\x20repeated','\x20-y','Variável\x20não\x20encontrada!','pino','/exit','audio','pollUpdateMessage','delete','messages','Image\x20converted\x20to\x20WebP','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','path','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','sendLocation','some','getAutomateSystem','keep-alive','method','groupParticipantsUpdate','error','flowStopMinutes','concat','getUpdate','updateMissingTags','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','!cmd_','saveMediaToFile','application/octet-stream','verifyWhatsAppNumber','updateMany','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','command','not\x20loaded','response','findGroupInfos','getRandomText','editflowcondition','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','licenca','writeFileSync','ERROR','readFile','apiResponse','connectionStatus','keys','notEqual','://','listType','GROUP_PARTICIPANTS_UPDATE','fetchLatestBaileysVersion','isBusiness','greater','processPollUpdateMessage','repeat','express','Notifying\x20clients\x20for\x20chat:\x20','use',':\x20IP\x20funcionando!','DELETED','variablesToObject','saveTextReply','delayChatLabel_MAX_RETRIES','clearVariables','toLowerCase','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','shift','webhook','messageType','formatStatusMessage','fetchBusinessProfile','synchronizeFlows','updateProfilePicturePrivacy','Output\x20path:\x20','The\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','.\x20Aguardando\x20antes\x20de\x20reconectar...','INFO','child_process','organization','.TEL;waid=','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','getBusinessProfile','not_announcement','where','ENABLED','readreceipts','throwAndLogError','Instance\x20ID:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','options','Last\x20message\x20not\x20found','execSync','InstancesAlterarTodas','METHODS','):\x20Conversa\x20inserida\x20com\x20sucesso.','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Image\x20is\x20base64','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','/instance/delete','Database\x20connection\x20closed.','Instance\x20\x22','sendPoll','getBase64FromMediaMessage','groupDesc','default',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','Enter\x20a\x20value\x20in\x20milliseconds','CONTACTS_UPDATE','cacheContact','timeout','StatusJidList\x20is\x20required','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','off','GET','deleteInstance','variablesNotFound','video','blocks','../env.yml','\x20minutos','ButtonsMessage','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','#b4ebff','delaySecMax','cwd','#ffffff','DATABASE_ENABLED',',\x20saindo.','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','envProcess','):\x20Enviando\x20áudio','messages.upsert','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','editFlowVaredit','imagechat','arraybuffer','request\x20received\x20in\x20fetchConversation','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','ignoreGroups','SSL_CONF_PRIVKEY','ListType','listMessage','):\x20Query\x20params:','load','messageSecret','493090RaixuC','request\x20received\x20in\x20updateFlowConfig','footerText','hGet','):\x20Enviando\x20enquete','owner','statusJidList','paused','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','fromObject','enumerable','folder','ContactsAndGroups','):\x20customFieldVariables','qrcode','):\x20Edit\x20schedule\x20message...','allContacts','Image\x20is\x20url','deleteReplyOption','collection','participant','notContains','instanceInfo','boolean','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Forbidden','Log\x20out\x20instance:\x20','\x20adicionado\x20ao\x20chat\x20','request\x20received\x20in\x20createFlow','connection.update','http://ifconfig.me/ip','loadWebhook','):\x20updateResult:','key','pollOnReplyDelete','group-participants.update','):\x20tem\x20blocks','Cache-Control','checkAndRestartProcess','profilePictureUrl','Valor\x20inicial:\x20\x22','validate','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','mentioned','close','debug','imgUrl','Erro\x20ao\x20inserir\x20chats:','lastFetchAwaitingApproval','config','flowConversation','\x20->\x20CONFIRMADO.','SINGLE_SELECT','The\x20property\x20cannot\x20be\x20empty','/events','conversation','upperCase','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','flowStopConversation','groupadd','role','lastInteraction','\x20-\x20ON:\x20','Instância:\x20','BRL','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','REDIS','findAndUpdateCacheContact','HOST','end','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','sendMessage','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','updateAll','):\x20Fluxos\x20não\x20estão\x20ativados','):\x20Criando\x20fluxo\x20regular...','routerPath','REDIS_ENABLED','created','):\x20Criando\x20fluxo\x20compartilhado...','The\x20global\x20api\x20key\x20must\x20be\x20set','/config','addChatLabel','Erro\x20ao\x20alterar\x20fluxo','\x1b[1m\x1b[37m','/create','loadproxy','forEach','certbot','writeData','updateMissingCustomFields','SEND_MESSAGE','https://api.openai.com/v1/audio/speech','ChatRouter','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','\x20instance\x20does\x20not\x20exist','groupSettingUpdate','updateProfilePicture','removed','toNumber','messages.update','reject','data:\x20','notas','groupToggleEphemeral','Erro\x20ao\x20atualizar\x20o\x20flow.','DATABASE_CONNECTION_HOST','defineProperty','lastUpdate','_error','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','__esModule','toDataURL','release','mimetype','variable','request_time','Data\x20inválida\x20fornecida','?timestamp=','RECONNECT_TIME_FRAME','/media/','getFlow','sendContact','):\x20transformedCustomFieldVariables','maxActives','prefixCommand','findLabels','Erro\x20ao\x20atualizar\x20o\x20documento:','length','updateConversation','backgroundColor','creds','media','fileLength','DELIVERY_ACK','apiName','groupJid','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','groupAcceptInvite','findAndReplaceRegex','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','storePath','trimmed','cachedContact','none','message','delayChatLabel','\x0aitem','chatModify','\x20quoted:\x20','approve','protocol','groupHandler','removeData','sendSticker','):\x20Iniciando\x20bot...','_ScheduleMessages','URI','cpf','stopped','MESSAGES_SET','listen','lean','router','\x22\x20cannot\x20be\x20empty','):\x20Enviando\x20localização','emit','awaitSeconds','\x20não\x20encontrado\x20para\x20atualização.','useMultiFileAuthState','saveVariable','processvaredits','editFlowVariable','delay','):\x20Entrou\x20na\x20função\x20saveReply','stopWhenYouSendMsg','protocolMessage','buttonMessage','?authSource=admin&readPreference=primary&directConnection=true','content','finish','memberAddMode','instancias:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem.','editFlow','capitalizedWords','namespace','):\x20Flow\x20não\x20encontrado','updateMissingEtiquetas','archiveChat','replacer','HH:mm:ss','replaceVariablesInReplyOptions','node-cache','temp-','):\x20[messages.update]\x20group\x20ignored','lastSend','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','shareOwners','buttonId','result','blockId','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','flowConfig','bodyString','):\x20leadInfoVariables','flattenObject','@whiskeysockets/baileys','unreadcount','toArray','eventEmitter','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','chatId','contact','Erro\x20ao\x20buscar\x20Schedule\x20Messages','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','privacySettings','https://jsonip.com','Erro\x20ao\x20encerrar\x20a\x20API','unreadCount','Database\x20is\x20not\x20enabled','email','stickerMessage','global','Error\x20fetching\x20and\x20updating\x20profile:\x20','8080','contactMessage','#d8e651','.jpg','editflowgroup','keyPattern','joinApprovalMode','createAndSave','viewOnceMessageV2','groupBetterSetting','getScheduleMessage','Número\x20não\x20possui\x20WhatsApp.','DATABASE_CONNECTION_DB_PREFIX_NAME','author','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','\x20não\x20encontrado','uazapiDeleteMessage','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','\x1b[41m','--agree-tos','uazapiSendLocation','findOne','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','All_Instances_Config','https://github.com/uazapi/uazapi.git','Db\x20Connection','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','nome','Validate','AddChatLabel','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','everyOne','groupValidate','birthtime','post','image','width','Erro\x20ao\x20editar\x20o\x20bloco:\x20','uncaughtException','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','MESSAGES_UPSERT','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','has','CONTACTS_UPSERT','\x1b[44m','):\x20Procurando\x20mensagens\x20para\x20envio','value','proto','Invalid\x20format','AppStateSyncKeyData','onWhatsApp','updateMediaMessage','getClient','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','env','getFlowModelForOwner','displayName','PLAYED','DEBUG','.png','decryptPollVote','array','connectionClosed','senderKeyDistributionMessage','digest','sending','authState','sendList','cleanStore','connect','deleteFlow','sendAudio','info','Type\x20not\x20found','all','subdomain'];a0_0x3763=function(){return _0x5ba7e9;};return a0_0x3763();}var Mo={},oe={},Me=class c{constructor(_0xf4292e,_0x56bf34,_0x273654){const _0x585307=a0_0x15841b;this['configService']=_0xf4292e,this[_0x585307(0x5b5)]=_0x56bf34,this[_0x585307(0x15c)]=_0x273654,this[_0x585307(0x15e)]=null,this['logger']=new R(c['name']),this[_0x585307(0x74f)]={},this[_0x585307(0x6f7)]={},this[_0x585307(0x705)]={'state':'close'},this[_0x585307(0x56f)]=(0x0,F['join'])(ne,'downloads'),this[_0x585307(0x696)]=new As[(_0x585307(0x4b6))](),this['userDevicesCache']=new As[(_0x585307(0x4b6))](),this[_0x585307(0x72b)]=!0x1,this[_0x585307(0x304)]={'status.instance':_0x585307(0x3f6),'connection.update':_0x585307(0x3f6),'qrcode.updated':_0x585307(0x78e),'messages.upsert':'/wa-message','send.message':_0x585307(0x750),'messages.update':'/wa-message-update','group.upsert':_0x585307(0x2a8),'group.update':'/wa-groups','group-participants.update':'/wa-groups','messages.set':_0x585307(0x161),'contacts.set':'/wa-contacts','contacts.upsert':_0x585307(0x109),'contacts.update':_0x585307(0x109),'presence.update':_0x585307(0x344),'chats.set':_0x585307(0x419),'chats.update':_0x585307(0x419),'chats.upsert':_0x585307(0x419),'chats.delete':'/wa-chats'},this[_0x585307(0x1f4)]=0x0,this[_0x585307(0x38f)]=[],this[_0x585307(0x67c)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x585307(0x6bb)]=!0x1,this[_0x585307(0x3ea)]={'chats.upsert':async(_0x1d30f7,_0x5dafb6)=>{const _0x1203cb=_0x585307;let _0x4b4719=[];for await(let _0x21790e of _0x1d30f7)_0x4b4719[_0x1203cb(0x627)]({'_id':_0x21790e['id'],'owner':this[_0x1203cb(0x74f)]['wuid'],'group':_0x21790e['id']['endsWith']('@g.us'),'name':_0x21790e[_0x1203cb(0x424)]||_0x21790e[_0x1203cb(0x5fc)]||null,'contactname':null,'lastmsg':_0x21790e[_0x1203cb(0x13a)]&&_0x21790e[_0x1203cb(0x13a)][_0x1203cb(0x6ca)]()['length']<0xd?_0x21790e['conversationTimestamp']*0x3e8:_0x21790e[_0x1203cb(0x13a)]||null,'archived':_0x21790e[_0x1203cb(0x384)]||!0x1,'unreadcount':_0x21790e[_0x1203cb(0x5be)]||0x0,'ephemeralExpiration':_0x21790e[_0x1203cb(0x30c)]||0x0});this[_0x1203cb(0x6c8)]('chats.upsert',_0x4b4719);},'chats.update':async(_0x4eebc8,_0x1b7f99)=>{const _0x444c87=_0x585307;for(let _0x14c407 of _0x4eebc8){let _0x2c9d47={'_id':_0x14c407['id'],'owner':this[_0x444c87(0x74f)][_0x444c87(0x370)],'archived':_0x14c407['archived'],'muteEndTime':_0x14c407['muteEndTime'],'ephemeralExpiration':_0x14c407[_0x444c87(0x30c)]},_0x52c798=!0x1,_0x5ed535={};_0x2c9d47[_0x444c87(0x384)]!=null&&(this[_0x444c87(0x781)]['verbose'](this[_0x444c87(0x1fd)]+'\x20('+this[_0x444c87(0x74f)][_0x444c87(0x370)]+_0x444c87(0xf1)+_0x14c407['id']+_0x444c87(0x217)+_0x14c407['archived']),_0x52c798=!0x0,_0x5ed535['archived']=_0x14c407[_0x444c87(0x384)]),_0x444c87(0x76c)in _0x14c407&&(this[_0x444c87(0x781)][_0x444c87(0x2b5)](this[_0x444c87(0x1fd)]+'\x20('+this[_0x444c87(0x74f)][_0x444c87(0x370)]+_0x444c87(0x6b8)+_0x14c407['id']+_0x444c87(0x217)+(_0x14c407[_0x444c87(0x76c)]??'0')),_0x52c798=!0x0,_0x5ed535[_0x444c87(0x76c)]=_0x14c407[_0x444c87(0x76c)]??0x0),_0x444c87(0x30c)in _0x14c407&&(this[_0x444c87(0x781)][_0x444c87(0x2b5)](this[_0x444c87(0x1fd)]+'\x20('+this[_0x444c87(0x74f)][_0x444c87(0x370)]+_0x444c87(0x11a)+_0x14c407['id']+_0x444c87(0x217)+(_0x14c407['ephemeralExpiration']!==void 0x0?_0x14c407[_0x444c87(0x30c)]:_0x444c87(0x438))),_0x5ed535[_0x444c87(0x30c)]=_0x14c407['ephemeralExpiration']===null?0x0:_0x14c407[_0x444c87(0x30c)],_0x52c798=!0x0);let _0x50996b;_0x52c798&&(_0x50996b=await this['repository'][_0x444c87(0x755)][_0x444c87(0x13c)]({'where':{'_id':_0x14c407['id']}},_0x5ed535,this[_0x444c87(0x74f)]['wuid'])),_0x50996b&&U(this[_0x444c87(0x1fd)],_0x444c87(0x41a),{'chat':_0x50996b});}},'chats.delete':async _0x1d2336=>{const _0x44cf68=_0x585307;for(let _0x28c7ba of _0x1d2336)if(_0x28c7ba[_0x44cf68(0x10e)]('@g.us')){await this[_0x44cf68(0x15c)][_0x44cf68(0x755)][_0x44cf68(0x453)]({'where':{'_id':_0x28c7ba}},this['instance'][_0x44cf68(0x370)]);let _0x31b4cc={'where':{'key':{'remoteJid':_0x28c7ba}}};await this[_0x44cf68(0x15c)][_0x44cf68(0x573)][_0x44cf68(0x453)](_0x31b4cc,this['instance'][_0x44cf68(0x370)]);}else{await this[_0x44cf68(0x15c)][_0x44cf68(0x755)][_0x44cf68(0x13c)]({'where':{'_id':_0x28c7ba}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x44cf68(0x74f)]['wuid']);let _0x1c2dd9={'where':{'key':{'remoteJid':_0x28c7ba}}};await this[_0x44cf68(0x15c)][_0x44cf68(0x573)][_0x44cf68(0x453)](_0x1c2dd9,this[_0x44cf68(0x74f)][_0x44cf68(0x370)]);}this[_0x44cf68(0x6c8)]('chats.delete',[..._0x1d2336]);}},this['contactHandle']={'contacts.upsert':async(_0x2a0c5b,_0x2fb6b7)=>{const _0x5e30e6=_0x585307;let _0x13fc50=await this['repository'][_0x5e30e6(0x5b8)][_0x5e30e6(0x76f)]({'where':{}},this[_0x5e30e6(0x74f)][_0x5e30e6(0x370)]),_0x5b7e99=[];for await(let _0x3b0089 of _0x2a0c5b)_0x13fc50['find'](_0x17fe17=>_0x17fe17[_0x5e30e6(0x333)]===_0x3b0089['id'])||_0x5b7e99[_0x5e30e6(0x627)]({'_id':_0x3b0089['id'],'pushName':_0x3b0089?.['name']||_0x3b0089?.[_0x5e30e6(0x374)],'owner':this['instance'][_0x5e30e6(0x370)]});this[_0x5e30e6(0x6c8)](_0x5e30e6(0x1b2),_0x5b7e99),await this[_0x5e30e6(0x15c)][_0x5e30e6(0x5b8)][_0x5e30e6(0x6d8)](_0x5b7e99);},'contacts.update':async(_0xbd9cc4,_0x1fe5fb)=>{const _0x50c60a=_0x585307;let _0x48903d=[];for await(let _0x41b120 of _0xbd9cc4)_0x48903d[_0x50c60a(0x627)]({'_id':_0x41b120['id'],'pushName':_0x41b120?.[_0x50c60a(0x424)]??_0x41b120?.[_0x50c60a(0x374)],'owner':this[_0x50c60a(0x74f)][_0x50c60a(0x370)]});this['sendDataWebhook'](_0x50c60a(0x2a2),_0x48903d);}},this[_0x585307(0x34e)]={'messaging-history.set':async({messages:_0x4ee465,chats:_0x16940e,isLatest:_0x17ce4b},_0x43a699)=>{const _0x2890b6=_0x585307;if(_0x17ce4b){let _0x544754=await Promise[_0x2890b6(0x60e)](_0x16940e[_0x2890b6(0xef)](async _0x51c95c=>({'_id':_0x51c95c['id'],'owner':this[_0x2890b6(0x74f)][_0x2890b6(0x370)],'group':_0x51c95c['id'][_0x2890b6(0x10e)](_0x2890b6(0x63d)),'name':_0x51c95c[_0x2890b6(0x424)]||_0x51c95c[_0x2890b6(0x5fc)]||_0x51c95c[_0x2890b6(0x35a)]||null,'contactname':null,'lastmsg':_0x51c95c['conversationTimestamp']&&_0x51c95c['conversationTimestamp'][_0x2890b6(0x6ca)]()['length']<0xd?_0x51c95c[_0x2890b6(0x13a)]*0x3e8:_0x51c95c[_0x2890b6(0x13a)]||null,'archived':_0x51c95c['archived']||!0x1,'unreadcount':_0x51c95c[_0x2890b6(0x5be)]||0x0,'ephemeralExpiration':_0x51c95c[_0x2890b6(0x30c)]||0x0,'muteEndTime':_0x51c95c[_0x2890b6(0x76c)]||0x0})));this['sendDataWebhook'](_0x2890b6(0x323),_0x544754),await this['upsertChats'](_0x544754,_0x43a699);}let _0x1ae5c8=[],_0xa2ad56=Date[_0x2890b6(0x1db)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x140480]of Object[_0x2890b6(0x65c)](_0x4ee465)){if(_0x140480[_0x2890b6(0x573)]?.[_0x2890b6(0x592)]||_0x140480['message']?.[_0x2890b6(0x603)]||!_0x140480[_0x2890b6(0x573)]||_0x140480[_0x2890b6(0x500)]['remoteJid']===_0x2890b6(0x448)||($s[_0x2890b6(0x4b6)][_0x2890b6(0x2af)](_0x140480?.['messageTimestamp'])&&(_0x140480[_0x2890b6(0xc9)]=_0x140480[_0x2890b6(0xc9)]?.['toNumber']()),_0x140480[_0x2890b6(0xc9)]&&_0x140480[_0x2890b6(0xc9)][_0x2890b6(0x6ca)]()[_0x2890b6(0x561)]<0xd&&(_0x140480['messageTimestamp']=_0x140480['messageTimestamp']*0x3e8),_0x140480[_0x2890b6(0xc9)]<_0xa2ad56))continue;let _0x2a2675=(0x0,f[_0x2890b6(0x136)])(_0x140480[_0x2890b6(0x573)]),_0xdfde88=(0x0,f[_0x2890b6(0x3e9)])(_0x2a2675),{message_normalized:_0x526e0c}=this[_0x2890b6(0x1c9)](_0x2a2675,_0xdfde88,null);Object[_0x2890b6(0x479)](_0x526e0c)[_0x2890b6(0x561)]>0x0&&_0x1ae5c8[_0x2890b6(0x627)]({'_id':_0x140480[_0x2890b6(0x500)]['id'],'key':_0x140480[_0x2890b6(0x500)],'pushName':_0x140480['pushName'],'participant':_0x140480['participant'],'message':_0x2a2675,'messageType':_0xdfde88,'message_normalized':{'key':_0x140480['key'],'pushName':_0x140480[_0x2890b6(0x2a0)],'messageTimestamp':_0x140480[_0x2890b6(0xc9)],..._0x526e0c},'messageTimestamp':_0x140480[_0x2890b6(0xc9)],'owner':this[_0x2890b6(0x74f)][_0x2890b6(0x370)]});}_0x43a699[_0x2890b6(0x4a2)]&&_0x1ae5c8[_0x2890b6(0x561)]>0x0&&(this[_0x2890b6(0x781)][_0x2890b6(0x2b5)](this[_0x2890b6(0x1fd)]+'\x20('+this[_0x2890b6(0x74f)][_0x2890b6(0x370)]+_0x2890b6(0x368)+_0x1ae5c8[_0x2890b6(0x561)]+_0x2890b6(0x252)+this[_0x2890b6(0x74f)][_0x2890b6(0x370)]+_0x2890b6(0x6b7)),await this['repository'][_0x2890b6(0x573)][_0x2890b6(0x6d8)]([..._0x1ae5c8],this['instance'][_0x2890b6(0x370)])),this[_0x2890b6(0x6c8)]('messages.set',[..._0x1ae5c8]),_0x4ee465=void 0x0;},'messages.upsert':async({messages:_0x3350d2,type:_0x3fda6a},_0x36c855)=>{const _0x2ab99b=_0x585307;let _0x16a4b9=_0x3350d2[0x0],_0x2b02a5=_0x16a4b9[_0x2ab99b(0x500)]['id'],_0xd4317c=_0x16a4b9[_0x2ab99b(0x17a)]===0x2,_0x42385b=0xb;if(this['localWebhook']?.[_0x2ab99b(0x683)]&&_0x16a4b9[_0x2ab99b(0x500)][_0x2ab99b(0x316)][_0x2ab99b(0x278)](_0x2ab99b(0x63d))){this[_0x2ab99b(0x781)][_0x2ab99b(0x2b5)](this[_0x2ab99b(0x1fd)]+'\x20('+this['instance'][_0x2ab99b(0x370)]+_0x2ab99b(0x74c));return;}if(_0xd4317c){if(oe[_0x2b02a5]||(oe[_0x2b02a5]=0x0),oe[_0x2b02a5]++,this['logger']['error'](this[_0x2ab99b(0x1fd)]+'\x20('+this['instance'][_0x2ab99b(0x370)]+'):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x16a4b9[_0x2ab99b(0x500)][_0x2ab99b(0x316)]+_0x2ab99b(0x1f0)+_0x2b02a5+':\x20'+oe[_0x2b02a5]+'/'+_0x42385b),oe[_0x2b02a5]>=_0x42385b){this['logger'][_0x2ab99b(0x45f)](this[_0x2ab99b(0x1fd)]+'\x20('+this[_0x2ab99b(0x74f)][_0x2ab99b(0x370)]+_0x2ab99b(0x107)+_0x16a4b9[_0x2ab99b(0x500)][_0x2ab99b(0x316)]+_0x2ab99b(0x1f0)+_0x2b02a5+'.');let _0x2d4df8={'key':{..._0x16a4b9[_0x2ab99b(0x500)]},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x2b02a5+_0x2ab99b(0x5b6)}};this[_0x2ab99b(0x34c)]['ev'][_0x2ab99b(0x588)](_0x2ab99b(0x4d1),{'messages':[_0x2d4df8],'type':'notify'}),delete oe[_0x2b02a5];}}else oe[_0x2b02a5]&&(this[_0x2ab99b(0x781)][_0x2ab99b(0x156)](_0x2ab99b(0x5eb)+oe[_0x2b02a5]+_0x2ab99b(0x404)+_0x16a4b9[_0x2ab99b(0x500)]['remoteJid']+'\x20e\x20ID='+_0x2b02a5),delete oe[_0x2b02a5]);if(_0x3fda6a!=='notify'||!_0x16a4b9?.[_0x2ab99b(0x573)]||_0x16a4b9[_0x2ab99b(0x573)]?.[_0x2ab99b(0x592)]||_0x16a4b9[_0x2ab99b(0x573)][_0x2ab99b(0x603)]||_0x16a4b9[_0x2ab99b(0x500)][_0x2ab99b(0x316)]===_0x2ab99b(0x448))return;let _0x35d526=null,_0x51a7a5=null;try{_0x35d526=await this[_0x2ab99b(0x481)](_0x16a4b9),_0x51a7a5=_0x35d526?_0x35d526[_0x2ab99b(0x18d)](','):null;}catch(_0x3d1648){this[_0x2ab99b(0x781)][_0x2ab99b(0x2b5)](this[_0x2ab99b(0x1fd)]+'\x20('+this['instance'][_0x2ab99b(0x370)]+_0x2ab99b(0x368)+(_0x3d1648 instanceof Error?_0x3d1648[_0x2ab99b(0x573)]:JSON[_0x2ab99b(0x194)](_0x3d1648,null,0x2))),_0x51a7a5='error\x20get\x20vote';}this[_0x2ab99b(0x34c)][_0x2ab99b(0x10b)]('unavailable'),$s[_0x2ab99b(0x4b6)][_0x2ab99b(0x2af)](_0x16a4b9['messageTimestamp'])&&(_0x16a4b9[_0x2ab99b(0xc9)]=_0x16a4b9[_0x2ab99b(0xc9)]?.[_0x2ab99b(0x543)]()),_0x16a4b9[_0x2ab99b(0xc9)]&&_0x16a4b9[_0x2ab99b(0xc9)]['toString']()['length']<0xd&&(_0x16a4b9['messageTimestamp']=_0x16a4b9['messageTimestamp']*0x3e8);let _0x59b911=_0x16a4b9[_0x2ab99b(0x573)],_0x49855f=(0x0,f[_0x2ab99b(0x136)])(_0x59b911),_0x3468b1=(0x0,f[_0x2ab99b(0x3e9)])(_0x49855f),{messageContent:_0x3f78ec,message_normalized:_0x436483}=this[_0x2ab99b(0x1c9)](_0x49855f,_0x3468b1,_0x51a7a5);_0x3468b1===_0x2ab99b(0x592)&&_0x3f78ec?.[_0x2ab99b(0x1c4)]&&(_0x3468b1='editedMessage');let _0x2ebfd7,_0x54d4c7=_0x16a4b9[_0x2ab99b(0x500)][_0x2ab99b(0x316)][_0x2ab99b(0x10e)](_0x2ab99b(0x63d));if(_0x16a4b9['key']['fromMe'])_0x2ebfd7=this[_0x2ab99b(0x74f)][_0x2ab99b(0x506)];else{let _0x3f9e7c=_0x54d4c7?_0x16a4b9[_0x2ab99b(0x500)][_0x2ab99b(0x4f3)]:_0x16a4b9[_0x2ab99b(0x500)]['remoteJid'];_0x2ebfd7=(await this[_0x2ab99b(0x522)](_0x3f9e7c,_0x16a4b9[_0x2ab99b(0x2a0)],!0x1))['cachedContact'][_0x2ab99b(0xc6)];}let _0xeb1ddc={'_id':_0x16a4b9['key']['id'],'key':_0x16a4b9[_0x2ab99b(0x500)],'isGroup':_0x54d4c7,'profilePictureUrl':_0x2ebfd7,'pushName':_0x16a4b9[_0x2ab99b(0x2a0)],'message':_0x49855f,'messageType':_0x3468b1,'message_normalized':{'key':_0x16a4b9[_0x2ab99b(0x500)],'pushName':_0x16a4b9[_0x2ab99b(0x2a0)],'messageTimestamp':_0x16a4b9[_0x2ab99b(0xc9)],'source':(0x0,f[_0x2ab99b(0x116)])(_0x16a4b9['key']['id']),..._0x436483},'messageTimestamp':_0x16a4b9[_0x2ab99b(0xc9)],'owner':this[_0x2ab99b(0x74f)][_0x2ab99b(0x370)],'source':(0x0,f[_0x2ab99b(0x116)])(_0x16a4b9[_0x2ab99b(0x500)]['id']),'expiration':_0x3f78ec?.[_0x2ab99b(0x380)]?.[_0x2ab99b(0x345)]||0x0};_0x3f78ec||(console[_0x2ab99b(0x45f)](_0x2ab99b(0x1f9)),this[_0x2ab99b(0x781)][_0x2ab99b(0x45f)](_0xeb1ddc)),this[_0x2ab99b(0x781)][_0x2ab99b(0x660)](this[_0x2ab99b(0x1fd)]+'\x20('+this[_0x2ab99b(0x74f)][_0x2ab99b(0x370)]+_0x2ab99b(0x368)+(_0xeb1ddc[_0x2ab99b(0x500)]?.[_0x2ab99b(0x1d8)]?_0x2ab99b(0x362):_0x2ab99b(0x442))+'\x20['+_0xeb1ddc[_0x2ab99b(0x500)]?.[_0x2ab99b(0x316)]['replace'](_0x2ab99b(0x205),'')+_0x2ab99b(0x2ea)+_0xeb1ddc[_0x2ab99b(0x490)]+')'),_0xeb1ddc[_0x2ab99b(0x1c2)]?.[_0x2ab99b(0x338)]&&this[_0x2ab99b(0x781)][_0x2ab99b(0x660)](_0x2b02a5+':\x20'+_0xeb1ddc['message_normalized']?.[_0x2ab99b(0x338)]),await this[_0x2ab99b(0x15c)][_0x2ab99b(0x573)]['insert']([_0xeb1ddc],this[_0x2ab99b(0x74f)][_0x2ab99b(0x370)]),this[_0x2ab99b(0x6c8)](_0x2ab99b(0x4d1),_0xeb1ddc),U(this[_0x2ab99b(0x1fd)],_0x2ab99b(0x454),{'message':_0xeb1ddc}),_0x16a4b9['key'][_0x2ab99b(0x316)]!==_0x2ab99b(0x448)&&await this['updateChatWithMessage'](_0x36c855,_0xeb1ddc,_0x2ab99b(0x5ec));},'messages.update':async(_0x5e7f09,_0x5d7d64)=>{const _0x582ad4=_0x585307;let _0xade8={0x0:_0x582ad4(0x475),0x1:_0x582ad4(0xd8),0x2:_0x582ad4(0x218),0x3:'DELIVERY_ACK',0x4:_0x582ad4(0xc7),0x5:_0x582ad4(0x5fd)};for await(let {key:_0x135fda,update:_0x54f115}of _0x5e7f09){if(this['localWebhook']?.['groups_ignore']&&_0x135fda[_0x582ad4(0x316)][_0x582ad4(0x278)](_0x582ad4(0x63d))){this[_0x582ad4(0x781)][_0x582ad4(0x2b5)](this[_0x582ad4(0x1fd)]+'\x20('+this[_0x582ad4(0x74f)][_0x582ad4(0x370)]+_0x582ad4(0x5a5));return;}if(_0x135fda[_0x582ad4(0x316)]!==_0x582ad4(0x448)){let _0x110090=Date[_0x582ad4(0x1db)](),_0x46fa91;_0x54f115[_0x582ad4(0x573)]===null&&_0x54f115['status']===void 0x0?_0x46fa91=_0x582ad4(0x487):_0x46fa91=_0xade8[_0x54f115[_0x582ad4(0x633)]];let _0x4dcb05=_0x135fda[_0x582ad4(0x316)][_0x582ad4(0x32f)](/:\d{1,2}@/g,'@'),_0x396281={..._0x135fda,'remoteJid':_0x4dcb05,'status':_0x46fa91,'datetime':_0x110090,'owner':this[_0x582ad4(0x74f)][_0x582ad4(0x370)]};this[_0x582ad4(0x6c8)](_0x582ad4(0x544),_0x396281),await this['updateMessage'](_0x135fda,_0x396281);}}},'labels.association':async({type:_0x25b25b,association:_0x21cc30})=>{const _0x3f9de7=_0x585307;if(_0x21cc30[_0x3f9de7(0x265)]===_0x3f9de7(0x680)){let _0x37dca6,_0x1ea528=0x0;for(;!_0x37dca6&&_0x1ea528<this[_0x3f9de7(0x48a)];)_0x37dca6=await this[_0x3f9de7(0x15c)][_0x3f9de7(0x755)][_0x3f9de7(0x5d9)]({'where':{'_id':_0x21cc30[_0x3f9de7(0x5b7)]}},this[_0x3f9de7(0x74f)][_0x3f9de7(0x370)]),_0x37dca6||(_0x1ea528++,this[_0x3f9de7(0x781)][_0x3f9de7(0x60c)](this[_0x3f9de7(0x1fd)]+'\x20('+this[_0x3f9de7(0x74f)][_0x3f9de7(0x370)]+_0x3f9de7(0x21f)+_0x21cc30['chatId']+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x3f9de7(0x773)]+_0x3f9de7(0x2ff)+_0x1ea528+'/'+this[_0x3f9de7(0x48a)]+')'),await this[_0x3f9de7(0x574)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x37dca6){console[_0x3f9de7(0x45f)](_0x3f9de7(0x1d6)+_0x21cc30['chatId']+_0x3f9de7(0x3d7)+this[_0x3f9de7(0x48a)]+_0x3f9de7(0x429));return;}switch(_0x25b25b){case _0x3f9de7(0x720):console[_0x3f9de7(0x660)](_0x21cc30),await this[_0x3f9de7(0x15c)][_0x3f9de7(0x755)][_0x3f9de7(0x13c)]({'where':{'_id':_0x21cc30['chatId']}},{'leadInfo.etiquetas':_0x21cc30['labelId']},this['instance'][_0x3f9de7(0x370)],void 0x0,_0x3f9de7(0x307));break;case _0x3f9de7(0x75d):console[_0x3f9de7(0x660)](_0x21cc30),await this[_0x3f9de7(0x15c)]['chat'][_0x3f9de7(0x13c)]({'where':{'_id':_0x21cc30[_0x3f9de7(0x5b7)]}},{'leadInfo.etiquetas':_0x21cc30[_0x3f9de7(0x1cf)]},this[_0x3f9de7(0x74f)][_0x3f9de7(0x370)],void 0x0,_0x3f9de7(0x17c));break;default:console[_0x3f9de7(0x45f)]('unknown\x20operation\x20type\x20['+_0x25b25b+']');}}},'labels.edit':async _0x4e51c4=>{const _0x102b45=_0x585307;if(!_0x4e51c4||!_0x4e51c4['id']){console[_0x102b45(0x45f)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x4e51c4[_0x102b45(0x229)]){let _0x3e3d21=['#ff9484',_0x102b45(0x622),'#fed428',_0x102b45(0x19d),'#9ab6c1','#56ccb4','#fe9dfe',_0x102b45(0xcd),_0x102b45(0x199),_0x102b45(0x5c6),_0x102b45(0x447),_0x102b45(0x784),_0x102b45(0x6a2),_0x102b45(0x3af),_0x102b45(0x34b),'#83e421',_0x102b45(0x1b4),_0x102b45(0x4c8),'#9ba6ff',_0x102b45(0x2b1)],_0x530c65;typeof _0x4e51c4[_0x102b45(0x3ee)]=='number'&&_0x4e51c4['color']>=0x0&&_0x4e51c4[_0x102b45(0x3ee)]<_0x3e3d21['length']?_0x530c65=_0x3e3d21[_0x4e51c4['color']]:(console[_0x102b45(0x45f)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x4e51c4['color']),_0x530c65=_0x102b45(0x709));let _0x4a0acc={'_id':_0x4e51c4['id'],'colorHex':_0x530c65,'color':_0x4e51c4?.[_0x102b45(0x3ee)],'name':_0x4e51c4?.['name'],'owner':this[_0x102b45(0x74f)][_0x102b45(0x370)]};await this[_0x102b45(0x15c)][_0x102b45(0x2a7)][_0x102b45(0x13c)]({'where':{'_id':_0x4e51c4['id']}},_0x4a0acc,this[_0x102b45(0x74f)][_0x102b45(0x370)]),this['logger'][_0x102b45(0x60c)](this[_0x102b45(0x1fd)]+'\x20('+this[_0x102b45(0x74f)][_0x102b45(0x370)]+_0x102b45(0x11b)+_0x4e51c4);}_0x4e51c4[_0x102b45(0x229)]&&(await this[_0x102b45(0x15c)][_0x102b45(0x2a7)][_0x102b45(0x453)]({'where':{'_id':_0x4e51c4['id']}},this[_0x102b45(0x74f)][_0x102b45(0x370)]),this[_0x102b45(0x781)][_0x102b45(0x60c)](_0x102b45(0x3de)+_0x4e51c4['id']));}},this[_0x585307(0x57a)]={'groups.upsert':async _0x478d9e=>{const _0x3bf1d7=_0x585307;this[_0x3bf1d7(0x6f7)]?.[_0x3bf1d7(0x683)]||this[_0x3bf1d7(0x6c8)](_0x3bf1d7(0x615),_0x478d9e);for(let _0x535aa8 of _0x478d9e)await this['updateGroupWebhook'](_0x535aa8);},'groups.update':async _0x475812=>{const _0x32afa7=_0x585307;this[_0x32afa7(0x6f7)]?.[_0x32afa7(0x683)]||this[_0x32afa7(0x6c8)](_0x32afa7(0x369),_0x475812);for(let _0x2a8ec2 of _0x475812)await this[_0x32afa7(0x377)](_0x2a8ec2);},'group-participants.update':async _0x1a3f33=>{const _0x3bc7e1=_0x585307;this[_0x3bc7e1(0x6f7)]?.[_0x3bc7e1(0x683)]||this[_0x3bc7e1(0x6c8)](_0x3bc7e1(0x502),_0x1a3f33),await this['updateGroupParticipantsWebhook'](_0x1a3f33);}},this[_0x585307(0x48a)]=0x5,this[_0x585307(0x773)]=0x1388,this[_0x585307(0x481)]=async _0x43af93=>{const _0x3d22d4=_0x585307;if(_0x43af93[_0x3d22d4(0x573)]?.[_0x3d22d4(0x452)]){let _0x3b1d24=await this[_0x3d22d4(0x792)](_0x43af93[_0x3d22d4(0x573)]['pollUpdateMessage'][_0x3d22d4(0x2ef)],!0x0);if(_0x3b1d24){let _0x568e6a=_0x3b1d24[_0x3d22d4(0x500)][_0x3d22d4(0x1d8)]?this[_0x3d22d4(0x74f)][_0x3d22d4(0x370)]+_0x3d22d4(0x205):_0x3b1d24[_0x3d22d4(0x500)]['participant']||_0x3b1d24[_0x3d22d4(0x500)]['remoteJid'],_0x555598=_0x3b1d24['key']['id'],_0x11e330=_0x3b1d24['message'],_0x331949=Buffer[_0x3d22d4(0x673)](_0x11e330[_0x3d22d4(0x347)][_0x3d22d4(0x4de)][_0x3d22d4(0x6ca)]('hex'),'hex'),_0x2cad77=(0x0,f[_0x3d22d4(0x600)])(_0x43af93[_0x3d22d4(0x573)]['pollUpdateMessage'][_0x3d22d4(0x35d)],{'pollCreatorJid':_0x568e6a,'pollMsgId':_0x555598,'pollEncKey':_0x331949,'voterJid':_0x43af93['key'][_0x3d22d4(0x1d8)]?this['instance'][_0x3d22d4(0x370)]+_0x3d22d4(0x205):_0x43af93[_0x3d22d4(0x500)][_0x3d22d4(0x316)][_0x3d22d4(0x10e)]('g.us')?_0x43af93[_0x3d22d4(0x500)][_0x3d22d4(0x4f3)]:_0x43af93[_0x3d22d4(0x500)][_0x3d22d4(0x316)]}),_0x4fc122=[],_0x3cb4f5=_0x2cad77['selectedOptions']['map'](_0x23de2f=>Buffer['from'](_0x23de2f)[_0x3d22d4(0x6ca)](_0x3d22d4(0x398)));for(let {optionName:_0x5ed65e}of _0x11e330[_0x3d22d4(0x756)]?.[_0x3d22d4(0x4a7)]||_0x11e330[_0x3d22d4(0x79c)]?.[_0x3d22d4(0x4a7)]||_0x11e330[_0x3d22d4(0x1cb)]?.[_0x3d22d4(0x4a7)])_0x3cb4f5[_0x3d22d4(0x2a9)]((0x0,f[_0x3d22d4(0x225)])(Buffer[_0x3d22d4(0x673)](_0x5ed65e))['toString'](_0x3d22d4(0x398)))>-0x1&&_0x4fc122[_0x3d22d4(0x627)](_0x5ed65e);return _0x4fc122;}}return null;},this['normalizeMessage']=(_0x3b7a67,_0x41c21f,_0xec5048)=>{const _0x179f29=_0x585307;try{let _0x8b3fa5=_0x3b7a67?(0x0,f[_0x179f29(0x62c)])(_0x3b7a67)[_0x41c21f]:void 0x0,_0x4a7d57={},_0x5b6783=null,_0x38cee8=null,_0x1391f1=null;_0x41c21f==='protocolMessage'&&_0x8b3fa5?.[_0x179f29(0x1c4)]&&(_0x41c21f=(0x0,f[_0x179f29(0x3e9)])(_0x8b3fa5[_0x179f29(0x1c4)]),_0x5b6783=_0x3b7a67[_0x179f29(0x592)][_0x179f29(0x500)]['id'],_0x8b3fa5=_0x3b7a67[_0x179f29(0x592)][_0x179f29(0x1c4)][_0x41c21f]),_0x3b7a67[_0x41c21f]?.[_0x179f29(0x380)]?.[_0x179f29(0x651)]&&_0x3b7a67[_0x41c21f]?.[_0x179f29(0x380)]?.[_0x179f29(0x23a)]&&(_0x38cee8=_0x3b7a67[_0x41c21f][_0x179f29(0x380)][_0x179f29(0x651)]),_0x3b7a67[_0x179f29(0xf3)]&&(_0x1391f1=_0x3b7a67[_0x179f29(0xf3)][_0x179f29(0x500)]['id']);let _0x1ba431;if(_0x8b3fa5&&typeof _0x8b3fa5==_0x179f29(0x300)&&_0x179f29(0x2ef)in _0x8b3fa5&&({pollCreationMessageKey:_0x1ba431}=_0x8b3fa5),_0x41c21f===_0x179f29(0x756)||_0x41c21f===_0x179f29(0x1cb)||_0x41c21f===_0x179f29(0x79c)){let _0x455de5=_0x8b3fa5[_0x179f29(0x4a7)][_0x179f29(0xef)](_0x13b940=>_0x13b940[_0x179f29(0x43f)])['join']('|');_0x4a7d57[_0x179f29(0x666)]=_0x455de5;}let _0x2bdcd8='';if(_0x8b3fa5&&(_0x2bdcd8+=_0x8b3fa5['name']?_0x8b3fa5[_0x179f29(0x424)]:'',_0x2bdcd8+=_0x8b3fa5['caption']?'\x20'+_0x8b3fa5[_0x179f29(0x752)]:'',_0x2bdcd8+=_0x8b3fa5[_0x179f29(0x516)]?'\x20'+_0x8b3fa5[_0x179f29(0x516)]:'',_0x2bdcd8+=_0x8b3fa5[_0x179f29(0x5fc)]?'\x20'+_0x8b3fa5[_0x179f29(0x5fc)]:''),_0x41c21f==='listMessage'){_0x2bdcd8=(_0x8b3fa5['title']||'')+'\x0a'+(_0x8b3fa5['description']||'')+'\x0a'+(_0x8b3fa5['footerText']||'');let _0x4debd8=this['sectionsToString'](_0x8b3fa5['sections']);_0x4a7d57[_0x179f29(0x666)]=_0x4debd8;}if(_0x41c21f===_0x179f29(0xec)&&(_0xec5048=_0x8b3fa5[_0x179f29(0x780)]),_0x8b3fa5&&_0x8b3fa5[_0x179f29(0x268)]){let _0x417fc3=this[_0x179f29(0x334)](JSON[_0x179f29(0x194)](_0x8b3fa5['vcard'],null,0x2));_0x2bdcd8=_0x2bdcd8+'\x0a'+_0x417fc3;}if(_0x8b3fa5){let {sections:_0x58509a,listType:_0x13e2a3,displayName:_0x41351b,vcard:_0x26a897,contactVcard:_0x3aaf80,name:_0x5aa7ef,caption:_0x6c8b1e,conversation:_0x154139,pollCreationMessageKey:_0x21bd26,footerText:_0x59ee3a,contentText:_0x415aba,pageCount:_0x7eb3fb,headerType:_0x2caf44,isAvatar:_0x4e9648,isAnimated:_0x1e653c,fallbackLc:_0x5887e7,fallbackLg:_0x6e29cd,namespace:_0x464b0e,elementName:_0x49f1b5,localizableParams:_0x4da826,viewOnce:_0x548998,height:_0x4e2b18,width:_0x38c734,key:_0x1c484e,firstScanLength:_0x1f6909,firstScanSidecar:_0x30032e,gifPlayback:_0x2886f8,gifAttribution:_0x503644,midQualityFileSha256:_0x18d867,scansSidecar:_0x417fc2,streamingSidecar:_0x21d4c0,thumbnailHeight:_0x3c1e5d,thumbnailWidth:_0x17c442,thumbnailEncSha256:_0x3a353c,thumbnailDirectPath:_0x41ba7f,canonicalUrl:_0x2b967c,matchedText:_0x1adbcb,previewType:_0x4ba11f,thumbnailSha256:_0x18955e,deviceListMetadataVersion:_0x531f00,inviteLinkGroupTypeV2:_0x24aded,interactiveAnnotations:_0x146fa0,scanLengths:_0x55c3f9,jpegThumbnail:_0x57a6b7,url:_0x65db1b,mediaKeyTimestamp:_0x1312c8,waveform:_0x357c9c,stickerSentTs:_0x5ce1aa,firstFrameLength:_0xa844f9,fileEncSha256:_0x464246,contextInfo:_0x2d3165,firstFrameSidecar:_0x443eb7,directPath:_0x18e326,fileSha256:_0x484a42,mediaKey:_0x5a799b,senderTimestampMs:_0x30ef9d,..._0x2f496f}=_0x8b3fa5;(_0x41c21f===_0x179f29(0x4db)||_0x41c21f===_0x179f29(0xec))&&(delete _0x2f496f['title'],delete _0x2f496f[_0x179f29(0x617)]),typeof _0x8b3fa5=='string'?_0x4a7d57={'text':_0x8b3fa5,'type':_0x41c21f||_0x179f29(0x516),..._0x5b6783&&{'edited':_0x5b6783},..._0x38cee8&&{'quoted':_0x38cee8},..._0x1391f1&&{'reaction':_0x1391f1}}:_0x4a7d57={'text':_0x2bdcd8,..._0x2f496f,..._0x41c21f===_0x179f29(0x452)?{'poll_id':_0x8b3fa5[_0x179f29(0x2ef)]['id'],'quoted':_0x8b3fa5[_0x179f29(0x2ef)]['id'],'vote':_0xec5048}:{},..._0x41c21f===_0x179f29(0xec)?{'vote':_0xec5048}:{},'type':_0x41c21f,..._0x5b6783&&{'edited':_0x5b6783},..._0x38cee8&&{'quoted':_0x38cee8},..._0x1391f1&&{'reaction':_0x1391f1},...(_0x41c21f==='pollCreationMessage'||_0x41c21f===_0x179f29(0x1cb)||_0x41c21f===_0x179f29(0x79c)||_0x41c21f===_0x179f29(0x4db))&&{'convertedOptions':_0x4a7d57['convertedOptions']}};}return{'messageType':_0x41c21f,'messageContent':_0x8b3fa5,'message_normalized':_0x4a7d57};}catch(_0x3c48e5){return console[_0x179f29(0x45f)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x3c48e5),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this[_0x585307(0x74f)][_0x585307(0x4ed)]={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x15841b(0x1fd)](_0xf6d456){const _0x5e96be=a0_0x15841b;if(!_0xf6d456){this['instance']['name']=(0x0,Co['v4'])();return;}this[_0x5e96be(0x74f)][_0x5e96be(0x424)]=_0xf6d456,this[_0x5e96be(0x6c8)]('status.instance',{'instance':this[_0x5e96be(0x74f)][_0x5e96be(0x424)],'status':_0x5e96be(0x52e)});}get[a0_0x15841b(0x1fd)](){const _0x5510d4=a0_0x15841b;return this['instance'][_0x5510d4(0x424)];}get[a0_0x15841b(0x370)](){const _0x2b9894=a0_0x15841b;return this[_0x2b9894(0x74f)][_0x2b9894(0x370)];}async[a0_0x15841b(0x6c9)](){const _0x2a6090=a0_0x15841b;let _0x4d5c85=this[_0x2a6090(0x34c)][_0x2a6090(0x17e)]?.[_0x2a6090(0x424)]??this[_0x2a6090(0x34c)][_0x2a6090(0x17e)]?.[_0x2a6090(0x374)];if(!_0x4d5c85){if(this[_0x2a6090(0x299)][_0x2a6090(0x3cb)](_0x2a6090(0xc8))[_0x2a6090(0x4a2)]){let _0x5f5916=await O[_0x2a6090(0x5f8)]()['db'](this[_0x2a6090(0x299)][_0x2a6090(0x3cb)](_0x2a6090(0xc8))['CONNECTION'][_0x2a6090(0x30f)]+'-instances')[_0x2a6090(0x4f2)](this[_0x2a6090(0x1fd)])[_0x2a6090(0x5d9)]({'_id':'creds'});if(_0x5f5916){let _0x3fd23f=JSON[_0x2a6090(0x26f)](JSON[_0x2a6090(0x194)](_0x5f5916),f[_0x2a6090(0x6d5)][_0x2a6090(0x2c7)]);_0x4d5c85=_0x3fd23f['me']?.['name']||_0x3fd23f['me']?.[_0x2a6090(0x374)];}}else{if((0x0,$e[_0x2a6090(0x777)])((0x0,F[_0x2a6090(0x18d)])(me,this[_0x2a6090(0x1fd)],'creds.json'))){let _0x2eda11=JSON[_0x2a6090(0x26f)]((0x0,$e[_0x2a6090(0x693)])((0x0,F['join'])(me,this[_0x2a6090(0x1fd)],_0x2a6090(0x6b5)),{'encoding':'utf-8'}));_0x4d5c85=_0x2eda11['me']?.[_0x2a6090(0x424)]||_0x2eda11['me']?.[_0x2a6090(0x374)];}}}return _0x4d5c85;}get[a0_0x15841b(0x506)](){const _0xa155a5=a0_0x15841b;return this[_0xa155a5(0x74f)]['profilePictureUrl'];}get['qrCode'](){const _0x3c285d=a0_0x15841b;return this[_0x3c285d(0x74f)][_0x3c285d(0x4ed)]?.[_0x3c285d(0x249)]?{'pairingCode':this[_0x3c285d(0x74f)][_0x3c285d(0x4ed)]?.[_0x3c285d(0x249)]}:{'code':this[_0x3c285d(0x74f)]['qrcode']?.['code'],'base64':this['instance'][_0x3c285d(0x4ed)]?.[_0x3c285d(0x1c7)]};}async[a0_0x15841b(0x4fe)](){const _0x868369=a0_0x15841b;let _0x961c00=await this[_0x868369(0x15c)][_0x868369(0x48f)][_0x868369(0x76f)](this[_0x868369(0x1fd)]);this[_0x868369(0x6f7)]['url']=_0x961c00?.['url'],this['localWebhook']['enabled']=_0x961c00?.['enabled'],this[_0x868369(0x6f7)][_0x868369(0x6de)]=_0x961c00?.[_0x868369(0x6de)],this[_0x868369(0x6f7)][_0x868369(0x27c)]=_0x961c00?.[_0x868369(0x27c)],this[_0x868369(0x6f7)][_0x868369(0x430)]=_0x961c00?.[_0x868369(0x430)],this[_0x868369(0x6f7)][_0x868369(0x53b)]=_0x961c00?.[_0x868369(0x53b)],this[_0x868369(0x6f7)][_0x868369(0x5ec)]=_0x961c00?.[_0x868369(0x5ec)],this[_0x868369(0x6f7)][_0x868369(0x14d)]=_0x961c00?.['MESSAGES_UPDATE'],this['localWebhook'][_0x868369(0x3a0)]=_0x961c00?.[_0x868369(0x3a0)],this['localWebhook'][_0x868369(0x776)]=_0x961c00?.['GROUPS_UPDATE'],this[_0x868369(0x6f7)][_0x868369(0x47d)]=_0x961c00?.[_0x868369(0x47d)],this['localWebhook'][_0x868369(0x743)]=_0x961c00?.[_0x868369(0x743)],this['localWebhook'][_0x868369(0x73a)]=_0x961c00?.['CHATS_UPSERT'],this[_0x868369(0x6f7)][_0x868369(0x691)]=_0x961c00?.[_0x868369(0x691)],this['localWebhook'][_0x868369(0x177)]=_0x961c00?.[_0x868369(0x177)],this[_0x868369(0x6f7)][_0x868369(0x6c6)]=_0x961c00?.[_0x868369(0x6c6)],this[_0x868369(0x6f7)][_0x868369(0x5ef)]=_0x961c00?.[_0x868369(0x5ef)],this['localWebhook'][_0x868369(0x4b9)]=_0x961c00?.[_0x868369(0x4b9)],this[_0x868369(0x6f7)][_0x868369(0x6d7)]=_0x961c00?.['PRESENCE_UPDATE'],this[_0x868369(0x6f7)][_0x868369(0x582)]=_0x961c00?.[_0x868369(0x582)],this[_0x868369(0x6f7)][_0x868369(0x343)]=_0x961c00?.[_0x868369(0x343)],this[_0x868369(0x6f7)][_0x868369(0x683)]=_0x961c00?.[_0x868369(0x683)];}async[a0_0x15841b(0x3e2)](_0x13e87d){const _0x529518=a0_0x15841b;let _0x65c843=[_0x529518(0x333),_0x529518(0x2dd),_0x529518(0x262),_0x529518(0x6de),_0x529518(0x27c),_0x529518(0x430),'MESSAGES_UPDATE',_0x529518(0x5ec),_0x529518(0x53b),_0x529518(0x3a0),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE','CHATS_SET',_0x529518(0x73a),_0x529518(0x691),_0x529518(0x177),_0x529518(0x6c6),_0x529518(0x5ef),_0x529518(0x4b9),'PRESENCE_UPDATE',_0x529518(0x582),_0x529518(0x343),_0x529518(0x683)],_0x296af2={};return _0x65c843[_0x529518(0x537)](_0x53fa8e=>{_0x13e87d[_0x53fa8e]!==void 0x0&&(_0x296af2[_0x53fa8e]=_0x13e87d[_0x53fa8e]);}),_0x296af2['url']&&(_0x296af2['url']=_0x296af2[_0x529518(0x2dd)][_0x529518(0x43c)]()),await this[_0x529518(0x15c)]['webhook'][_0x529518(0x6ab)](_0x296af2,this['instanceName']),Object[_0x529518(0x1ff)](this['localWebhook'],_0x296af2),await this[_0x529518(0x15c)][_0x529518(0x48f)]['find'](this[_0x529518(0x1fd)]);}async[a0_0x15841b(0x28c)](){const _0x2793ab=a0_0x15841b;return await this[_0x2793ab(0x15c)][_0x2793ab(0x48f)][_0x2793ab(0x76f)](this[_0x2793ab(0x1fd)]);}async[a0_0x15841b(0x6c8)](_0x1995a2,_0x21dd53){const _0x5ae703=a0_0x15841b;let _0x2f41ab=_0x1995a2[_0x5ae703(0x32f)](/[\.-]/gm,'_')[_0x5ae703(0xf7)](),_0x337c7a=this[_0x5ae703(0x6f7)][_0x5ae703(0x262)]&&(0x0,P[_0x5ae703(0x787)])(this[_0x5ae703(0x6f7)][_0x5ae703(0x2dd)])?this[_0x5ae703(0x6f7)][_0x5ae703(0x2dd)]+(this['localWebhook'][_0x5ae703(0x6de)]?this[_0x5ae703(0x304)][_0x1995a2]:''):null,_0x1f13fe=this['localWebhook'][_0x2f41ab],_0x2b0954=ue&&ue[_0x5ae703(0x262)]&&(0x0,P[_0x5ae703(0x787)])(ue['url'])?ue[_0x5ae703(0x2dd)]+(ue[_0x5ae703(0x6de)]?this[_0x5ae703(0x304)][_0x1995a2]:''):null,_0x1dfd4f=ue?ue[_0x2f41ab]:null;if(_0x1f13fe&&_0x337c7a)try{await K[_0x5ae703(0x4b6)][_0x5ae703(0x6ab)]({'baseURL':_0x337c7a})['post']('',{'event':_0x1995a2,'instance':this[_0x5ae703(0x74f)]['name'],'apikey':this[_0x5ae703(0x74f)]['apikey'],'data':_0x21dd53}),this[_0x5ae703(0x781)]['log'](this[_0x5ae703(0x1fd)]+'\x20('+this[_0x5ae703(0x74f)]['wuid']+_0x5ae703(0x131)+_0x1995a2+':\x20'+_0x337c7a);}catch{this[_0x5ae703(0x781)][_0x5ae703(0x45f)](this[_0x5ae703(0x1fd)]+'\x20('+this[_0x5ae703(0x74f)][_0x5ae703(0x370)]+_0x5ae703(0xf2)+_0x1995a2+':\x20'+_0x337c7a);}if(_0x1dfd4f&&_0x2b0954)try{await K[_0x5ae703(0x4b6)]['create']({'baseURL':_0x2b0954})[_0x5ae703(0x5e6)]('',{'event':_0x1995a2,'instance':this[_0x5ae703(0x74f)][_0x5ae703(0x424)],'apikey':this[_0x5ae703(0x74f)][_0x5ae703(0x239)],'data':_0x21dd53}),this[_0x5ae703(0x781)][_0x5ae703(0x660)](this['instanceName']+'\x20('+this[_0x5ae703(0x74f)][_0x5ae703(0x370)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x1995a2+':\x20'+_0x2b0954);}catch{this[_0x5ae703(0x781)][_0x5ae703(0x45f)](this['instanceName']+'\x20('+this[_0x5ae703(0x74f)][_0x5ae703(0x370)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x1995a2+':\x20'+_0x2b0954);}}async[a0_0x15841b(0x322)]({qr:_0x15eb87,connection:_0x3b3ed4,lastDisconnect:_0x398f0c}){const _0xa80338=a0_0x15841b;if(_0x15eb87){if(this['instance'][_0xa80338(0x4ed)][_0xa80338(0x317)]===vr)return this[_0xa80338(0x6c8)]('qrcode.updated',{'message':_0xa80338(0x509),'statusCode':f[_0xa80338(0x721)]['badSession']}),this[_0xa80338(0x705)]={'state':'refused','statusReason':f['DisconnectReason'][_0xa80338(0x602)]},this[_0xa80338(0x6c8)]('connection.update',{'instance':this[_0xa80338(0x74f)][_0xa80338(0x424)],...this[_0xa80338(0x705)]}),this['sendDataWebhook']('status.instance',{'instance':this[_0xa80338(0x74f)]['name'],'status':'removed'}),this[_0xa80338(0x15c)][_0xa80338(0x2a1)][_0xa80338(0x6ab)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xa80338(0x1db)]()},this[_0xa80338(0x74f)][_0xa80338(0x424)]),this[_0xa80338(0x72b)]=!0x0,this['eventEmitter'][_0xa80338(0x588)]('no.connection',this[_0xa80338(0x74f)][_0xa80338(0x424)]);this[_0xa80338(0x74f)][_0xa80338(0x4ed)][_0xa80338(0x317)]++;let _0x44c1c5={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0xa80338(0x4cb),'dark':_0xa80338(0x709)}};Eo[_0xa80338(0x4b6)][_0xa80338(0x551)](_0x15eb87,_0x44c1c5,(_0x28924f,_0x1aee04)=>{const _0x5d3bb9=_0xa80338;if(_0x28924f){this[_0x5d3bb9(0x781)][_0x5d3bb9(0x45f)](this[_0x5d3bb9(0x1fd)]+'\x20('+this[_0x5d3bb9(0x74f)]['wuid']+_0x5d3bb9(0x32d)+(_0x28924f instanceof Error?_0x28924f[_0x5d3bb9(0x573)]:JSON[_0x5d3bb9(0x194)](_0x28924f,null,0x2)));return;}this[_0x5d3bb9(0x74f)][_0x5d3bb9(0x4ed)][_0x5d3bb9(0x1c7)]=_0x1aee04,this[_0x5d3bb9(0x74f)]['qrcode'][_0x5d3bb9(0x790)]=_0x15eb87,!this[_0x5d3bb9(0xfe)]&&this[_0x5d3bb9(0x6c8)](_0x5d3bb9(0x6a5),{'qrcode':{'instance':this[_0x5d3bb9(0x74f)][_0x5d3bb9(0x424)],'pairingCode':this['instance'][_0x5d3bb9(0x4ed)][_0x5d3bb9(0x249)],'code':_0x15eb87,'base64':_0x1aee04}});}),this[_0xa80338(0xfe)]?this[_0xa80338(0x74f)][_0xa80338(0x4ed)][_0xa80338(0x249)]||(await(0x0,f[_0xa80338(0x58f)])(0x7d0),this['instance']['qrcode'][_0xa80338(0x249)]=await this[_0xa80338(0x34c)][_0xa80338(0x256)](this[_0xa80338(0xfe)])):this[_0xa80338(0x74f)][_0xa80338(0x4ed)]['pairingCode']=null,vo['default'][_0xa80338(0x2d5)](_0x15eb87,{'small':!0x0},_0x438ba7=>this[_0xa80338(0x781)][_0xa80338(0x660)](_0xa80338(0x635)+this[_0xa80338(0x74f)][_0xa80338(0x424)]+',\x20qrcodeCount:\x20'+this['instance'][_0xa80338(0x4ed)][_0xa80338(0x317)]+_0xa80338(0x42b)+this[_0xa80338(0x74f)][_0xa80338(0x4ed)][_0xa80338(0x249)]+'\x20}\x0a'+_0x438ba7));}if(_0x3b3ed4&&(this[_0xa80338(0x705)]={'state':_0x3b3ed4,'statusReason':_0x398f0c?.[_0xa80338(0x45f)]?.[_0xa80338(0x245)]?.[_0xa80338(0x2f9)]??0xc8},this[_0xa80338(0x6c8)](_0xa80338(0x4fc),{'instance':this[_0xa80338(0x74f)][_0xa80338(0x424)],...this[_0xa80338(0x705)]})),_0x3b3ed4===_0xa80338(0x50b)){if(this[_0xa80338(0x1f4)]++,this[_0xa80338(0x38f)]['push'](Date['now']()),this[_0xa80338(0x38f)]=this[_0xa80338(0x38f)][_0xa80338(0x2f3)](_0x3bbd4f=>Date[_0xa80338(0x1db)]()-_0x3bbd4f<this[_0xa80338(0x558)]),_0x398f0c[_0xa80338(0x45f)]?.[_0xa80338(0x245)]?.[_0xa80338(0x2f9)]!==f[_0xa80338(0x721)][_0xa80338(0x73c)]&&this[_0xa80338(0x38f)]['length']<=this['MAX_RECONNECT_ATTEMPTS'])console['log'](this['instanceName']+_0xa80338(0xc3)+this['reconnectAttempts']+'/'+this[_0xa80338(0x67c)]+_0xa80338(0x499)),console[_0xa80338(0x660)](_0xa80338(0x3b2)),await this['connectToWhatsapp']();else{this[_0xa80338(0x6c8)](_0xa80338(0x387),{'instance':this['instance'][_0xa80338(0x424)],'status':_0xa80338(0x542)}),this[_0xa80338(0x74f)][_0xa80338(0xd2)]['isConnected']=!0x1,this[_0xa80338(0x15c)][_0xa80338(0x48f)][_0xa80338(0x453)](this[_0xa80338(0x1fd)]),this[_0xa80338(0x15c)][_0xa80338(0x2a1)][_0xa80338(0x6ab)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0xa80338(0x1db)]()},this[_0xa80338(0x74f)]['name']);try{this[_0xa80338(0x781)]['verbose'](this[_0xa80338(0x1fd)]+'\x20('+this['instance']['wuid']+_0xa80338(0x339));let _0x1ce2b3=await this[_0xa80338(0x15c)]['message'][_0xa80338(0x134)](this[_0xa80338(0x74f)][_0xa80338(0x370)]);_0x1ce2b3['success']?this[_0xa80338(0x781)][_0xa80338(0x2b5)](this[_0xa80338(0x1fd)]+'\x20('+this[_0xa80338(0x74f)]['wuid']+_0xa80338(0x30e)):console[_0xa80338(0x45f)](_0xa80338(0x56e),_0x1ce2b3[_0xa80338(0x45f)]);}catch(_0x4cd4e0){console['error'](_0xa80338(0x357),_0x4cd4e0[_0xa80338(0x573)]);}this[_0xa80338(0x74f)][_0xa80338(0xd2)][_0xa80338(0x69b)]!==null&&(this[_0xa80338(0x781)][_0xa80338(0x2b5)](this[_0xa80338(0x1fd)]+'\x20('+this[_0xa80338(0x74f)][_0xa80338(0x370)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0xa80338(0x74f)][_0xa80338(0xd2)][_0xa80338(0x69b)]),this['instance'][_0xa80338(0xd2)]['delayMessage']=null),this[_0xa80338(0x781)]['verbose'](this['instanceName']+'\x20('+this[_0xa80338(0x74f)][_0xa80338(0x370)]+_0xa80338(0x798)),this[_0xa80338(0x15e)]=null,this[_0xa80338(0x5b5)]['emit']('remove.instance',this[_0xa80338(0x74f)]['name'],_0xa80338(0x11e)),this['client']?.['ws']?.[_0xa80338(0x50b)](),this[_0xa80338(0x34c)][_0xa80338(0x524)](new Error(_0xa80338(0x32b)));}}if(_0x3b3ed4===_0xa80338(0x23c)){this[_0xa80338(0x34c)]['ev'][_0xa80338(0x2e3)](),this[_0xa80338(0x77e)],this['instance'][_0xa80338(0x370)]=this[_0xa80338(0x34c)][_0xa80338(0x17e)]['id'][_0xa80338(0x32f)](/:\d+/,'')['replace'](_0xa80338(0x205),''),this['instance']['profilePictureUrl']=(await this[_0xa80338(0x1cd)](this[_0xa80338(0x74f)][_0xa80338(0x370)]+_0xa80338(0x205)))[_0xa80338(0x506)],this[_0xa80338(0x15c)][_0xa80338(0x2a1)][_0xa80338(0x6ab)]({'online':!0x0,'owner':this[_0xa80338(0x74f)][_0xa80338(0x370)],'lastDisconnect':null},this[_0xa80338(0x74f)][_0xa80338(0x424)]);let _0x3754f0=_0xa80338(0x22c)+this['instance'][_0xa80338(0x370)],_0x4ac439=0x28,_0x4f9226=Math[_0xa80338(0x319)]((_0x4ac439-_0x3754f0[_0xa80338(0x561)])/0x2),_0x3c8c5a='\x20'[_0xa80338(0x482)](_0x4f9226),_0x1fa949=_0xa80338(0x37a),_0x4d3bc7=_0xa80338(0x51e)+this[_0xa80338(0x74f)][_0xa80338(0x424)],_0x3d5d64=(''+_0x3c8c5a+_0x3754f0+_0x3c8c5a)[_0xa80338(0x688)](_0x4ac439,'\x20'),_0x52d8c9=(''+_0x3c8c5a+_0x1fa949+_0x3c8c5a)[_0xa80338(0x688)](_0x4ac439,'\x20'),_0x3f54f1=(''+_0x3c8c5a+_0x4d3bc7+_0x3c8c5a)[_0xa80338(0x688)](_0x4ac439,'\x20'),_0x4b3a7=Math['max'](_0x3d5d64['length'],_0x52d8c9['length'],_0x3f54f1[_0xa80338(0x561)]),_0x7f6bd4=_0x3d5d64[_0xa80338(0x688)](_0x4b3a7,'\x20'),_0x256c3c=_0x52d8c9[_0xa80338(0x688)](_0x4b3a7,'\x20'),_0x219d95=_0x3f54f1[_0xa80338(0x688)](_0x4b3a7,'\x20');this[_0xa80338(0x781)][_0xa80338(0x60c)]((_0xa80338(0x71e)+'─'[_0xa80338(0x482)](_0x4b3a7)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x256c3c+_0xa80338(0x775)+_0x219d95+_0xa80338(0x775)+_0x7f6bd4+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x4b3a7)+'┘')[_0xa80338(0x32f)](/^ +/gm,'\x20\x20')),this[_0xa80338(0x2e1)](),this[_0xa80338(0x74f)][_0xa80338(0xd2)][_0xa80338(0x2d4)]=!0x0;}}['resetReconnectionVariables'](){const _0x132d15=a0_0x15841b;this[_0x132d15(0x1f4)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x15841b(0x792)](_0x101ddc,_0x201aac=!0x1){const _0x38eb8c=a0_0x15841b;try{let _0x31145f=await this[_0x38eb8c(0x15c)][_0x38eb8c(0x573)][_0x38eb8c(0x76f)]({'where':{'_id':_0x101ddc['id']}},this[_0x38eb8c(0x74f)][_0x38eb8c(0x370)]);return _0x201aac?_0x31145f[0x0]:_0x31145f[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x15841b(0x608)](){const _0x2a4fb8=a0_0x15841b;let _0x378760=this[_0x2a4fb8(0x299)][_0x2a4fb8(0x3cb)](_0x2a4fb8(0x176)),_0x4acd72=this[_0x2a4fb8(0x299)][_0x2a4fb8(0x3cb)](_0x2a4fb8(0xc8));_0x378760?.[_0x2a4fb8(0x64f)]&&!_0x4acd72[_0x2a4fb8(0x4a2)]&&setInterval(()=>{const _0x35d757=_0x2a4fb8;try{for(let [_0x2e099b,_0x1acf14]of Object[_0x35d757(0x65c)](_0x378760))_0x1acf14===!0x0&&(0x0,Ae[_0x35d757(0x4a9)])('rm\x20-rf\x20'+(0x0,F[_0x35d757(0x18d)])(this[_0x35d757(0x56f)],_0x2e099b[_0x35d757(0x48c)](),this['instance'][_0x35d757(0x370)])+_0x35d757(0x2d6));}catch{}},(_0x378760?.[_0x2a4fb8(0x64f)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x498f4e=a0_0x15841b;let _0x5e3ced=this[_0x498f4e(0x299)]['get'](_0x498f4e(0xc8)),_0xb2bcb9=this[_0x498f4e(0x299)]['get'](_0x498f4e(0x521));return _0xb2bcb9?.[_0x498f4e(0x4a2)]?await Ns(_0xb2bcb9,this[_0x498f4e(0x74f)]['name']):_0x5e3ced['ENABLED']?await vs(this[_0x498f4e(0x74f)][_0x498f4e(0x424)]):await(0x0,f[_0x498f4e(0x58b)])((0x0,F[_0x498f4e(0x18d)])(me,this[_0x498f4e(0x74f)][_0x498f4e(0x424)]));}async[a0_0x15841b(0x2e1)](){const _0x6e0e36=a0_0x15841b;let _0x42b418=()=>Math[_0x6e0e36(0x319)](Math[_0x6e0e36(0x1ab)]()*0x2711)+0x7d0,_0x298327=async()=>{const _0x569019=_0x6e0e36;if(!this[_0x569019(0x74f)][_0x569019(0xd2)][_0x569019(0x2d4)]){this['logger'][_0x569019(0x2b5)](_0x569019(0x2aa)),this['isRunning']=!0x1;return;}if(this[_0x569019(0x74f)][_0x569019(0x370)]&&this[_0x569019(0x15e)]&&this['instance'][_0x569019(0xd2)][_0x569019(0x69b)]!==null&&this[_0x569019(0x74f)]['ScheduleMessage'][_0x569019(0x69b)]!==void 0x0){let _0x417e90=Math[_0x569019(0x1ca)](this[_0x569019(0x74f)][_0x569019(0xd2)][_0x569019(0x69b)]/0xea60);this[_0x569019(0x781)][_0x569019(0x2b5)](this[_0x569019(0x1fd)]+'\x20('+this[_0x569019(0x74f)][_0x569019(0x370)]+_0x569019(0x1e2)+_0x417e90+_0x569019(0x267)),this[_0x569019(0x6bb)]=!0x1;return;}else this[_0x569019(0x74f)][_0x569019(0x370)]&&(this['logger'][_0x569019(0x2b5)](this[_0x569019(0x1fd)]+'\x20('+this[_0x569019(0x74f)][_0x569019(0x370)]+_0x569019(0x227)),this['AutomateSystem']||(await this[_0x569019(0x45b)](),this[_0x569019(0x198)]()),(this[_0x569019(0x74f)]['ScheduleMessage'][_0x569019(0x69b)]===null||this[_0x569019(0x74f)][_0x569019(0xd2)][_0x569019(0x69b)]===void 0x0)&&await this[_0x569019(0x431)]());if(this[_0x569019(0x6bb)]){let _0x2169c3=_0x42b418();this[_0x569019(0x781)][_0x569019(0x2b5)](this[_0x569019(0x1fd)]+_0x569019(0x42f)+_0x2169c3/0x3e8+'\x20segundos'),setTimeout(_0x298327,_0x2169c3);}};if(this[_0x6e0e36(0x6bb)])return;this[_0x6e0e36(0x6bb)]=!0x0;let _0x20fb99=_0x42b418();setTimeout(_0x298327,_0x20fb99);}async['loadproxy'](_0x41c20f=0x0,_0x5166eb=!0x1){const _0x28510e=a0_0x15841b;try{let _0x39e664=this[_0x28510e(0x299)]['get'](_0x28510e(0x200));if(_0x39e664!==0x1||typeof _0x39e664>'u'||_0x41c20f>=0x5)return this[_0x28510e(0x781)]['warn'](_0x28510e(0x5de)),this['repository'][_0x28510e(0x2a1)][_0x28510e(0x6ab)]({'ip':null},this[_0x28510e(0x74f)]['name']),{};this[_0x28510e(0x781)]['verbose'](this['instanceName']+':\x20Tentativa\x20'+(_0x41c20f+0x1)+_0x28510e(0x3cf));let _0x26eba3;if(!_0x5166eb){let _0x43466b=await this['repository'][_0x28510e(0x2a1)]['find'](this[_0x28510e(0x1fd)]);_0x43466b&&_0x43466b['ip']&&(_0x26eba3=yo(_0x43466b['ip']));}if((!_0x26eba3||!Rs(_0x26eba3))&&(this['logger'][_0x28510e(0x156)](this[_0x28510e(0x1fd)]+_0x28510e(0x4b7)),_0x26eba3=bo()),_0x26eba3&&Rs(_0x26eba3)){let _0xe83ab0=_0x26eba3[_0x28510e(0x35a)]&&_0x26eba3[_0x28510e(0x266)]?_0x26eba3[_0x28510e(0x579)]+_0x28510e(0x47b)+_0x26eba3['username']+':'+_0x26eba3[_0x28510e(0x266)]+'@'+_0x26eba3[_0x28510e(0x788)]+':'+_0x26eba3[_0x28510e(0x388)]:_0x26eba3[_0x28510e(0x579)]+_0x28510e(0x47b)+_0x26eba3[_0x28510e(0x788)]+':'+_0x26eba3[_0x28510e(0x388)];return await this[_0x28510e(0x3ce)](_0xe83ab0,_0x26eba3['host'])?(this[_0x28510e(0x781)][_0x28510e(0x2b5)](this['instanceName']+_0x28510e(0x486)),this['repository'][_0x28510e(0x2a1)][_0x28510e(0x6ab)]({'ip':_0x26eba3['host']},this[_0x28510e(0x74f)]['name']),{'agent':new Ft['HttpsProxyAgent'](_0xe83ab0),'fetchAgent':new Ft[(_0x28510e(0x74d))](_0xe83ab0)}):(this['logger'][_0x28510e(0x156)](this[_0x28510e(0x1fd)]+_0x28510e(0x2ee)),await(0x0,f['delay'])(0xc8),this[_0x28510e(0x536)](_0x41c20f+0x1,!0x0));}else return this[_0x28510e(0x781)][_0x28510e(0x156)](this[_0x28510e(0x1fd)]+_0x28510e(0x27a)),await(0x0,f['delay'])(0xc8),this[_0x28510e(0x536)](_0x41c20f+0x1,!0x0);}catch(_0x51e1c9){return this[_0x28510e(0x781)][_0x28510e(0x45f)](this[_0x28510e(0x1fd)]+_0x28510e(0x308)+_0x51e1c9[_0x28510e(0x573)]),{};}}async[a0_0x15841b(0x3ce)](_0x563690,_0xa999c8){const _0x3719e3=a0_0x15841b;let _0x21e696=new Ft['HttpsProxyAgent'](_0x563690),_0x56958d=0x1388,_0xe01ead=[{'url':_0x3719e3(0x5bc),'parse':_0x4bdd78=>_0x4bdd78['ip']},{'url':_0x3719e3(0x6cd),'parse':_0x376ef4=>_0x376ef4['ip']},{'url':_0x3719e3(0x39c),'parse':_0x32c46d=>_0x32c46d[_0x3719e3(0x77a)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x3719e3(0x19f),'parse':_0x250279=>_0x250279['ip']},{'url':_0x3719e3(0x4fd),'parse':_0x1708cd=>_0x1708cd['trim']()},{'url':'http://ipecho.net/plain','parse':_0x567a6c=>_0x567a6c[_0x3719e3(0x43c)]()},{'url':_0x3719e3(0x40b),'parse':_0x48ac5a=>_0x48ac5a[_0x3719e3(0x6ba)]},{'url':'http://myexternalip.com/raw','parse':_0x1fc8a9=>_0x1fc8a9[_0x3719e3(0x43c)]()},{'url':_0x3719e3(0x1a0),'parse':_0x55f926=>_0x55f926[_0x3719e3(0x43c)]()}],_0x2d5d2a=_0xe01ead[Math[_0x3719e3(0x319)](Math[_0x3719e3(0x1ab)]()*_0xe01ead['length'])];try{let _0x2c3717=await K[_0x3719e3(0x4b6)][_0x3719e3(0x3cb)](_0x2d5d2a[_0x3719e3(0x2dd)],{'httpsAgent':_0x21e696,'timeout':_0x56958d}),_0xe6d57b=_0x2d5d2a['parse'](_0x2c3717[_0x3719e3(0x3a1)]);return _0xe6d57b===_0xa999c8?(this['logger']['verbose'](this[_0x3719e3(0x1fd)]+':\x20IP\x20configurado:\x20'+_0xa999c8+'\x20-\x20retornado:\x20'+_0xe6d57b+_0x3719e3(0x512)),!0x0):(this[_0x3719e3(0x781)][_0x3719e3(0x45f)](this[_0x3719e3(0x1fd)]+_0x3719e3(0x350)+_0xa999c8+'\x20-\x20retornado:\x20'+_0xe6d57b+_0x3719e3(0x68b)),!0x1);}catch(_0x1e60a4){return this[_0x3719e3(0x781)][_0x3719e3(0x45f)](this[_0x3719e3(0x1fd)]+_0x3719e3(0x29b)+_0x2d5d2a[_0x3719e3(0x2dd)]+':\x20'+_0x1e60a4[_0x3719e3(0x573)]),!0x1;}}async[a0_0x15841b(0x436)](_0x1b6e59){const _0x146afe=a0_0x15841b;try{let _0x404ace=await this[_0x146afe(0x536)]();this[_0x146afe(0x4fe)](),this[_0x146afe(0x74f)][_0x146afe(0x239)]=(await this[_0x146afe(0x15c)][_0x146afe(0x2a1)][_0x146afe(0x76f)](this['instance'][_0x146afe(0x424)]))[_0x146afe(0x239)],this[_0x146afe(0x74f)][_0x146afe(0x606)]=await this[_0x146afe(0x1eb)]();let {version:_0x30ee52}=await(0x0,f[_0x146afe(0x47e)])(),_0x197bcd=[No,Is,(0x0,Ts[_0x146afe(0x552)])()],_0x98f5a0={..._0x404ace,'auth':{'creds':this['instance'][_0x146afe(0x606)][_0x146afe(0x223)][_0x146afe(0x564)],'keys':(0x0,f['makeCacheableSignalKeyStore'])(this['instance'][_0x146afe(0x606)][_0x146afe(0x223)][_0x146afe(0x479)],(0x0,Pt[_0x146afe(0x4b6)])({'level':_0x146afe(0x45f)}))},'logger':(0x0,Pt[_0x146afe(0x4b6)])({'level':_0x146afe(0x45f)}),'printQRInTerminal':!0x1,'browser':_0x1b6e59?[_0x146afe(0x329),Is,(0x0,Ts[_0x146afe(0x552)])()]:_0x197bcd,'version':_0x30ee52,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3717b4=>{const _0x39f857=_0x146afe;let _0x208b5f=_0x3717b4[_0x39f857(0x10e)](_0x39f857(0x1ef)),_0x51cbe4=this['localWebhook']?.[_0x39f857(0x683)]&&_0x3717b4[_0x39f857(0x10e)](_0x39f857(0x63d));return _0x208b5f||(0x0,f[_0x39f857(0x241)])(_0x3717b4)||_0x51cbe4;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x192e35=>await this[_0x146afe(0x792)](_0x192e35),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x146afe(0xe5)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x181fbe=>(_0x181fbe[_0x146afe(0x4db)]?.[_0x146afe(0x47c)]==f[_0x146afe(0x5f3)][_0x146afe(0x17b)][_0x146afe(0x2bd)][_0x146afe(0x4da)][_0x146afe(0x684)]&&(_0x181fbe=JSON['parse'](JSON['stringify'](_0x181fbe)),_0x181fbe[_0x146afe(0x4db)][_0x146afe(0x47c)]=f[_0x146afe(0x5f3)]['Message'][_0x146afe(0x2bd)][_0x146afe(0x4da)][_0x146afe(0x513)]),_0x181fbe)};return this[_0x146afe(0x72b)]=!0x1,this[_0x146afe(0x34c)]=(0x0,f['default'])(_0x98f5a0),this[_0x146afe(0x274)](),this[_0x146afe(0xfe)]=_0x1b6e59,this[_0x146afe(0x34c)];}catch(_0x2ebd9a){let _0x11afad=_0x146afe(0x1bc),_0x4bc060=_0x2ebd9a instanceof Error?_0x2ebd9a[_0x146afe(0x573)]:typeof _0x2ebd9a==_0x146afe(0x300)?JSON[_0x146afe(0x194)](_0x2ebd9a):_0x2ebd9a,_0x480bf6=_0x11afad+':\x20'+_0x4bc060;throw this[_0x146afe(0x781)][_0x146afe(0x45f)](this[_0x146afe(0x1fd)]+'\x20('+this['instance']['wuid']+_0x146afe(0x368)+_0x480bf6),new I(_0x480bf6);}}[a0_0x15841b(0x274)](){const _0x955eb1=a0_0x15841b;this[_0x955eb1(0x34c)]['ev'][_0x955eb1(0x68d)](_0x2b70f5=>{const _0x82a2ff=_0x955eb1;if(!this['endSession']){let _0x462e2e=this[_0x82a2ff(0x299)][_0x82a2ff(0x3cb)]('DATABASE');if(_0x2b70f5[_0x82a2ff(0x63b)]){let _0x1bb2cf=_0x2b70f5['labels.edit'];this['messageHandle'][_0x82a2ff(0x63b)](_0x1bb2cf);}if(_0x2b70f5[_0x82a2ff(0x64a)]){let _0x7b544e=_0x2b70f5[_0x82a2ff(0x64a)];this[_0x82a2ff(0x34e)][_0x82a2ff(0x64a)](_0x7b544e);}if(_0x2b70f5[_0x82a2ff(0x4fc)]&&this[_0x82a2ff(0x322)](_0x2b70f5[_0x82a2ff(0x4fc)]),_0x2b70f5[_0x82a2ff(0x104)]&&this[_0x82a2ff(0x74f)][_0x82a2ff(0x606)][_0x82a2ff(0x2e2)](),_0x2b70f5['messaging-history.set']){let _0x4d7aae=_0x2b70f5['messaging-history.set'];this[_0x82a2ff(0x34e)]['messaging-history.set'](_0x4d7aae,_0x462e2e);}if(_0x2b70f5[_0x82a2ff(0x4d1)]){let _0x1f42a1=_0x2b70f5[_0x82a2ff(0x4d1)];this[_0x82a2ff(0x34e)][_0x82a2ff(0x4d1)](_0x1f42a1,_0x462e2e);}if(_0x2b70f5[_0x82a2ff(0x544)]){let _0x5f1cd3=_0x2b70f5['messages.update'];_0x5f1cd3[_0x82a2ff(0x537)](_0x2e5236=>{const _0x21a340=_0x82a2ff;if(Mo[_0x2e5236[_0x21a340(0x500)]['id']]){this[_0x21a340(0x34c)]['ev'][_0x21a340(0x588)](_0x21a340(0x4d1),{'messages':[_0x2e5236],'type':_0x21a340(0x6d6)}),delete Mo[_0x2e5236['key']['id']];return;}}),this['messageHandle'][_0x82a2ff(0x544)](_0x5f1cd3,_0x462e2e);}if(_0x2b70f5['presence.update']){let _0x291292=_0x2b70f5[_0x82a2ff(0x3ff)];if(this['localWebhook']?.[_0x82a2ff(0x683)]&&_0x291292['id'][_0x82a2ff(0x278)](_0x82a2ff(0x63d)))return;this['sendDataWebhook']('presence.update',_0x291292);}if(_0x2b70f5['groups.upsert']){let _0x1fbd8e=_0x2b70f5[_0x82a2ff(0x615)];this[_0x82a2ff(0x57a)][_0x82a2ff(0x615)](_0x1fbd8e);}if(_0x2b70f5[_0x82a2ff(0x369)]){let _0x57e152=_0x2b70f5[_0x82a2ff(0x369)];this[_0x82a2ff(0x57a)]['groups.update'](_0x57e152);}if(_0x2b70f5['group-participants.update']){let _0x5d303b=_0x2b70f5[_0x82a2ff(0x502)];this['groupHandler']['group-participants.update'](_0x5d303b);}if(_0x2b70f5[_0x82a2ff(0x767)]){let _0x476e40=_0x2b70f5[_0x82a2ff(0x767)];this[_0x82a2ff(0x3ea)]['chats.upsert'](_0x476e40,_0x462e2e);}if(_0x2b70f5[_0x82a2ff(0x6b3)]){let _0x371473=_0x2b70f5[_0x82a2ff(0x6b3)];this[_0x82a2ff(0x3ea)][_0x82a2ff(0x6b3)](_0x371473,_0x462e2e);}if(_0x2b70f5['chats.delete']){let _0x1a0f24=_0x2b70f5['chats.delete'];this[_0x82a2ff(0x3ea)][_0x82a2ff(0x247)](_0x1a0f24);}if(_0x2b70f5[_0x82a2ff(0x1b2)]){let _0xc1db30=_0x2b70f5['contacts.upsert'];this[_0x82a2ff(0x187)]['contacts.upsert'](_0xc1db30,_0x462e2e);}if(_0x2b70f5[_0x82a2ff(0x2a2)]){let _0x548a2d=_0x2b70f5[_0x82a2ff(0x2a2)];this[_0x82a2ff(0x187)][_0x82a2ff(0x2a2)](_0x548a2d,_0x462e2e);}}});}[a0_0x15841b(0x574)](_0x1c4c01){return new Promise(_0x196114=>setTimeout(_0x196114,_0x1c4c01));}['formatBRNumber'](_0x2129e1){const _0x5f0ada=a0_0x15841b;_0x2129e1=_0x2129e1[_0x5f0ada(0x32f)](/\D/g,'');let _0x287e6c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5f0ada(0x2bf)](_0x2129e1);if(_0x287e6c&&_0x287e6c[0x1]==='55'){let _0x5432fa=_0x287e6c[0x2],_0x27bbaf=_0x287e6c[0x3],_0x173bb8=_0x287e6c[0x4];if(parseInt(_0x5432fa)>=0x1f&&_0x27bbaf==='9')return _0x287e6c[0x1]+_0x5432fa+_0x173bb8;}return _0x2129e1;}['createJid'](_0xb91caf){const _0x1f70ad=a0_0x15841b;return _0xb91caf[_0x1f70ad(0x278)](_0x1f70ad(0x63d))||_0xb91caf[_0x1f70ad(0x278)](_0x1f70ad(0x205))||_0xb91caf[_0x1f70ad(0x278)](_0x1f70ad(0x26b))?_0xb91caf:(_0xb91caf=_0xb91caf?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x1f70ad(0x32f)](/\(/g,'')[_0x1f70ad(0x32f)](/\)/g,'')[_0x1f70ad(0x69d)](/\:/)[0x0][_0x1f70ad(0x69d)]('@')[0x0],_0xb91caf[_0x1f70ad(0x561)]>=0x12?(_0xb91caf=_0xb91caf[_0x1f70ad(0x32f)](/[^\d-]/g,''),_0xb91caf+_0x1f70ad(0x63d)):(_0xb91caf=_0xb91caf[_0x1f70ad(0x32f)](/\D/g,''),_0xb91caf+_0x1f70ad(0x205)));}async[a0_0x15841b(0x751)](_0x1637bb){const _0x10572b=a0_0x15841b;let _0x3754b6=(await this[_0x10572b(0x423)]({'numbers':[_0x1637bb[_0x10572b(0x799)]]}))[0x0];if(!_0x3754b6[_0x10572b(0x67a)]&&!(0x0,f[_0x10572b(0x283)])(_0x3754b6[_0x10572b(0x425)])&&!_0x3754b6['jid'][_0x10572b(0x278)](_0x10572b(0x26b)))throw new m(_0x3754b6);let _0x4cf675=_0x3754b6[_0x10572b(0x425)];try{return await this[_0x10572b(0x34c)][_0x10572b(0x36d)](_0x4cf675),await this[_0x10572b(0x34c)][_0x10572b(0x10b)](_0x1637bb[_0x10572b(0x254)],_0x4cf675),{'status':0xc8,'presence':_0x1637bb[_0x10572b(0x254)]};}catch(_0xb2b622){let _0x311fbe=_0x10572b(0xcb),_0x5cb135=_0xb2b622 instanceof Error?_0xb2b622[_0x10572b(0x573)]:typeof _0xb2b622=='object'?JSON[_0x10572b(0x194)](_0xb2b622):_0xb2b622,_0x257c7a=_0x311fbe+':\x20'+_0x5cb135;throw this[_0x10572b(0x781)][_0x10572b(0x45f)](this[_0x10572b(0x1fd)]+'\x20('+this[_0x10572b(0x74f)]['wuid']+_0x10572b(0x368)+_0x257c7a),new m(_0x257c7a);}}async['findAndUpdateCacheContact'](_0x230a3b,_0x145743,_0x85b4c0,_0x2b7697=!0x0){const _0x445eb2=a0_0x15841b;let _0x4424cc=await this['repository']['cacheContact'][_0x445eb2(0x5d9)]({'where':{'_id':_0x230a3b}});if(!_0x4424cc&&!_0x2b7697)return;let _0x1deb5b={'lastUpdate':Date['now']()};if(_0x85b4c0||!_0x4424cc?.[_0x445eb2(0x54c)]||Date['now']()-_0x4424cc[_0x445eb2(0x54c)]>0x18*0x3c*0x3c*0x3e8)try{let _0x1e2bf5=(await this[_0x445eb2(0x1cd)](_0x230a3b))[_0x445eb2(0x506)];_0x1deb5b[_0x445eb2(0xc6)]=_0x1e2bf5;}catch(_0x2777df){let _0x365581=_0x445eb2(0x4a6),_0x4cc4c5=_0x2777df instanceof Error?_0x2777df[_0x445eb2(0x573)]:typeof _0x2777df==_0x445eb2(0x300)?JSON[_0x445eb2(0x194)](_0x2777df):_0x2777df,_0x5cfb77=_0x365581+':\x20'+_0x4cc4c5;throw this[_0x445eb2(0x781)]['error'](this[_0x445eb2(0x1fd)]+'\x20('+this[_0x445eb2(0x74f)][_0x445eb2(0x370)]+_0x445eb2(0x368)+_0x5cfb77),new m(_0x5cfb77);}return _0x145743&&_0x4424cc?.['name']!==_0x145743&&(_0x1deb5b[_0x445eb2(0x424)]=_0x145743),Object['keys'](_0x1deb5b)[_0x445eb2(0x561)]>0x1&&(_0x4424cc?await this[_0x445eb2(0x15c)][_0x445eb2(0x4ba)][_0x445eb2(0x179)]({'where':{'_id':_0x230a3b}},_0x1deb5b):await this[_0x445eb2(0x15c)][_0x445eb2(0x4ba)][_0x445eb2(0x6d8)]([{'_id':_0x230a3b,..._0x1deb5b}]),_0x4424cc={..._0x4424cc,..._0x1deb5b}),{'cachedContact':_0x4424cc};}async[a0_0x15841b(0x1cd)](_0x2da469){const _0xba13a0=a0_0x15841b;let _0x2feed3=this[_0xba13a0(0x1c3)](_0x2da469);try{return{'wuid':_0x2feed3,'profilePictureUrl':await this[_0xba13a0(0x34c)][_0xba13a0(0x506)](_0x2feed3,_0xba13a0(0x5e7))};}catch{return{'wuid':_0x2feed3,'profilePictureUrl':null};}}async[a0_0x15841b(0x420)](_0x4cf5a4,_0x2d59f8,_0x44bccc){const _0x439541=a0_0x15841b;_0x44bccc||(_0x44bccc={});let _0x3f7aab=(await this[_0x439541(0x423)]({'numbers':[_0x4cf5a4]}))[0x0];if(!_0x3f7aab['exists']&&!(0x0,f[_0x439541(0x283)])(_0x3f7aab[_0x439541(0x425)])&&!_0x3f7aab[_0x439541(0x425)][_0x439541(0x278)](_0x439541(0x26b)))throw new m(_0x3f7aab);let _0x17cbd3=_0x3f7aab['jid'];try{if(_0x44bccc?.[_0x439541(0x58f)]){await this[_0x439541(0x34c)][_0x439541(0x36d)](_0x17cbd3),await this[_0x439541(0x34c)][_0x439541(0x10b)](_0x44bccc?.[_0x439541(0x254)]??_0x439541(0x3a8),_0x17cbd3);let _0x2e2690=Math[_0x439541(0x2ba)](_0x44bccc['delay'],0x2710);await(0x0,f['delay'])(_0x2e2690),await this['client'][_0x439541(0x10b)](_0x439541(0x4e6),_0x17cbd3);}let _0xd48373=_0x44bccc?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x46f048;if(_0x44bccc?.[_0x439541(0x2e0)]){let _0x17c154=_0x44bccc?.[_0x439541(0x2e0)],_0x55b863=_0x17c154?.[_0x439541(0x573)]?_0x17c154:await this[_0x439541(0x792)](_0x17c154[_0x439541(0x500)],!0x0);if(!_0x55b863)throw _0x439541(0x102);_0x46f048=_0x55b863;}let _0x139e7f;if((0x0,f[_0x439541(0x283)])(_0x17cbd3))try{let _0x52206a=(await this[_0x439541(0x15c)]['chat'][_0x439541(0x5d9)]({'where':{'_id':_0x17cbd3}},this[_0x439541(0x74f)]['wuid']))[_0x439541(0x28d)];if(!_0x52206a)throw new J(_0x439541(0x120));_0x44bccc?.[_0x439541(0x2bc)]&&(_0x44bccc[_0x439541(0x2bc)]?.[_0x439541(0x5e3)]?_0x139e7f=_0x52206a[_0x439541(0x3bc)][_0x439541(0xef)](_0x1e6e93=>_0x1e6e93['id']):_0x44bccc['mentions']?.['mentioned']?.['length']&&(_0x139e7f=_0x44bccc['mentions'][_0x439541(0x50a)][_0x439541(0xef)](_0x291e48=>{const _0x17a9c6=_0x439541;let _0x36c834=this[_0x17a9c6(0x1c3)](_0x291e48);return(0x0,f[_0x17a9c6(0x283)])(_0x36c834)?null:_0x36c834;})));}catch{throw new J(_0x439541(0x120));}let _0x43ded9=await this[_0x439541(0x15c)][_0x439541(0x755)]['findOne']({'where':{'_id':_0x17cbd3}},this['instance'][_0x439541(0x370)]),_0x103d7f=await((async()=>{const _0xbe092=_0x439541;let _0x5ea991={'quoted':_0x46f048,'ephemeralExpiration':_0x43ded9?.['ephemeralExpiration']??0x0};if(!_0x2d59f8[_0xbe092(0x451)]&&!_0x2d59f8[_0xbe092(0x263)]&&!_0x2d59f8['sticker']&&!_0x2d59f8[_0xbe092(0x516)]&&_0x17cbd3!=='status@broadcast'&&!_0x2d59f8['audio'])return await this[_0xbe092(0x34c)]['sendMessage'](_0x17cbd3,{'forward':{'key':{'remoteJid':this[_0xbe092(0x74f)][_0xbe092(0x370)],'fromMe':!0x0},'message':_0x2d59f8},'mentions':_0x139e7f},_0x5ea991);if(_0x2d59f8[_0xbe092(0xf3)])return await this[_0xbe092(0x34c)][_0xbe092(0x527)](_0x17cbd3,{'react':{'text':_0x2d59f8[_0xbe092(0xf3)][_0xbe092(0x338)],'key':_0x2d59f8[_0xbe092(0xf3)][_0xbe092(0x500)]}},_0x5ea991);if(_0x2d59f8['conversation']){let _0x1692b3=_0x2d59f8[_0xbe092(0x516)];return _0x44bccc?.[_0xbe092(0x3c5)]&&(_0x1692b3=await this[_0xbe092(0x238)](_0x1692b3,_0x17cbd3)),await this['client']['sendMessage'](_0x17cbd3,{'text':_0x1692b3,'mentions':_0x139e7f,'linkPreview':_0xd48373},_0x5ea991);}return _0x17cbd3===_0xbe092(0x448)?await this['client'][_0xbe092(0x527)](_0x17cbd3,_0x2d59f8[_0xbe092(0x633)]['content'],{'backgroundColor':_0x2d59f8[_0xbe092(0x633)][_0xbe092(0x1f1)][_0xbe092(0x563)],'font':_0x2d59f8[_0xbe092(0x633)][_0xbe092(0x1f1)][_0xbe092(0x258)],'statusJidList':_0x2d59f8[_0xbe092(0x633)][_0xbe092(0x1f1)][_0xbe092(0x4e5)]}):await this[_0xbe092(0x34c)][_0xbe092(0x527)](_0x17cbd3,_0x2d59f8,_0x5ea991);})()),_0x588add=(0x0,f[_0x439541(0x136)])(_0x103d7f[_0x439541(0x573)]),_0x305fce=(0x0,f['getContentType'])(_0x588add),{message_normalized:_0x6766ba}=this[_0x439541(0x1c9)](_0x588add,_0x305fce,null),_0x56ee54={'_id':_0x103d7f[_0x439541(0x500)]['id'],'key':_0x103d7f[_0x439541(0x500)],'pushName':_0x103d7f[_0x439541(0x2a0)],'isGroup':_0x103d7f[_0x439541(0x500)][_0x439541(0x316)]['endsWith'](_0x439541(0x63d)),'profilePictureUrl':this['instance'][_0x439541(0x506)],'message':_0x588add,'messageType':_0x305fce,'message_normalized':{'key':_0x103d7f[_0x439541(0x500)],'pushName':_0x103d7f[_0x439541(0x2a0)],'messageTimestamp':_0x103d7f[_0x439541(0xc9)]&&_0x103d7f[_0x439541(0xc9)][_0x439541(0x6ca)]()[_0x439541(0x561)]<0xd?_0x103d7f[_0x439541(0xc9)]*0x3e8:_0x103d7f[_0x439541(0xc9)]||null,'source':(0x0,f[_0x439541(0x116)])(_0x103d7f[_0x439541(0x500)]['id']),..._0x6766ba},'messageTimestamp':_0x103d7f[_0x439541(0xc9)]&&_0x103d7f['messageTimestamp'][_0x439541(0x6ca)]()[_0x439541(0x561)]<0xd?_0x103d7f[_0x439541(0xc9)]*0x3e8:_0x103d7f[_0x439541(0xc9)]||null,'owner':this['instance']['wuid'],'source':(0x0,f[_0x439541(0x116)])(_0x103d7f[_0x439541(0x500)]['id'])};return this[_0x439541(0x781)][_0x439541(0x156)](this[_0x439541(0x1fd)]+'\x20('+this['instance'][_0x439541(0x370)]+'):\x20enviado\x20para\x20['+_0x56ee54[_0x439541(0x500)]?.['remoteJid'][_0x439541(0x32f)](_0x439541(0x205),'')+']\x20('+_0x56ee54[_0x439541(0x490)]+')'),_0x56ee54[_0x439541(0x1c2)]?.[_0x439541(0x338)]&&this['logger'][_0x439541(0x156)](_0x56ee54['message_normalized']?.[_0x439541(0x338)]),this[_0x439541(0x6c8)](_0x439541(0x630),_0x56ee54),U(this[_0x439541(0x1fd)],_0x439541(0x454),{'message':_0x56ee54}),this['updateChatWithMessage'](this[_0x439541(0x299)][_0x439541(0x3cb)](_0x439541(0xc8)),_0x56ee54,_0x439541(0x53b),_0x43ded9),await this[_0x439541(0x15c)][_0x439541(0x573)][_0x439541(0x6d8)]([_0x56ee54],this[_0x439541(0x74f)][_0x439541(0x370)]),_0x103d7f;}catch(_0xa8b414){let _0x52ff5a=_0x439541(0x42a),_0x2d30db=_0xa8b414 instanceof Error?_0xa8b414['message']:typeof _0xa8b414==_0x439541(0x300)?JSON[_0x439541(0x194)](_0xa8b414):_0xa8b414,_0x1b18cc=_0x52ff5a+':\x20'+_0x2d30db;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x1b18cc),new m(_0x1b18cc);}}get[a0_0x15841b(0x478)](){const _0x33f565=a0_0x15841b;return this[_0x33f565(0x705)];}async[a0_0x15841b(0x3b3)](_0x2ec9b3){const _0xc51f06=a0_0x15841b;let _0x147adc=So,_0x4c6397=et;return _0x4c6397&&this['instanceName'][_0xc51f06(0x48c)]()[_0xc51f06(0x278)](_0x4c6397[_0xc51f06(0x48c)]())&&(_0x2ec9b3['textMessage']['text']+='\x0a\x0a'+_0x147adc),await this[_0xc51f06(0x420)](_0x2ec9b3[_0xc51f06(0x799)],{'conversation':_0x2ec9b3[_0xc51f06(0x3b3)][_0xc51f06(0x338)]},_0x2ec9b3?.[_0xc51f06(0x4a7)]);}async[a0_0x15841b(0x491)](_0x3798f5){const _0x2d8179=a0_0x15841b;if(!_0x3798f5[_0x2d8179(0x265)])throw new m('Type\x20is\x20required');if(!_0x3798f5[_0x2d8179(0x595)])throw new m(_0x2d8179(0x711));if(_0x3798f5[_0x2d8179(0x4ef)]){let _0x18b7f6=await this[_0x2d8179(0x15c)]['contact'][_0x2d8179(0x76f)]({'where':{}},this['instance']['wuid']);if(!_0x18b7f6['length'])throw new m('Contacts\x20not\x20found');_0x3798f5['statusJidList']=_0x18b7f6[_0x2d8179(0x2f3)](_0x4e83c1=>_0x4e83c1[_0x2d8179(0x2a0)])[_0x2d8179(0xef)](_0x2a2f5d=>_0x2a2f5d[_0x2d8179(0x333)]);}if(!_0x3798f5[_0x2d8179(0x4e5)]?.[_0x2d8179(0x561)]&&!_0x3798f5[_0x2d8179(0x4ef)])throw new m(_0x2d8179(0x4bc));if(_0x3798f5[_0x2d8179(0x265)]===_0x2d8179(0x338)){if(!_0x3798f5[_0x2d8179(0x563)])throw new m(_0x2d8179(0x2f4));if(!_0x3798f5[_0x2d8179(0x258)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x3798f5[_0x2d8179(0x595)]},'option':{'backgroundColor':_0x3798f5['backgroundColor'],'font':_0x3798f5['font'],'statusJidList':_0x3798f5[_0x2d8179(0x4e5)]}};}if(_0x3798f5['type']===_0x2d8179(0x5e7))return{'content':{'image':{'url':_0x3798f5['content']},'caption':_0x3798f5['caption']},'option':{'statusJidList':_0x3798f5[_0x2d8179(0x4e5)]}};if(_0x3798f5['type']===_0x2d8179(0x4c2))return{'content':{'video':{'url':_0x3798f5[_0x2d8179(0x595)]},'caption':_0x3798f5['caption']},'option':{'statusJidList':_0x3798f5[_0x2d8179(0x4e5)]}};if(_0x3798f5[_0x2d8179(0x265)]===_0x2d8179(0x451)){this[_0x2d8179(0x781)]['verbose']('Type\x20defined\x20as\x20audio'),this[_0x2d8179(0x781)][_0x2d8179(0x2b5)]('Processing\x20audio');let _0xfd044f=await this[_0x2d8179(0x6c5)](_0x3798f5['content']);if(typeof _0xfd044f==_0x2d8179(0x421)){this[_0x2d8179(0x781)][_0x2d8179(0x2b5)](_0x2d8179(0x418));let _0x649ea6=j[_0x2d8179(0x693)](_0xfd044f)[_0x2d8179(0x6ca)](_0x2d8179(0x1c7));return{'content':{'audio':Buffer[_0x2d8179(0x673)](_0x649ea6,'base64'),'ptt':!0x0,'mimetype':_0x2d8179(0x348)},'option':{'statusJidList':_0x3798f5['statusJidList']}};}else throw new I(_0xfd044f);}throw new m(_0x2d8179(0x60d));}async[a0_0x15841b(0x119)](_0x2c8922){const _0x465810=a0_0x15841b;return await this[_0x465810(0x420)](_0x465810(0x448),{'status':await this['formatStatusMessage'](_0x2c8922[_0x465810(0x119)])});}async[a0_0x15841b(0x351)](_0x172f47){const _0x1d0085=a0_0x15841b;try{let _0x59fda6=await(0x0,f['prepareWAMessageMedia'])({[_0x172f47[_0x1d0085(0x75e)]]:(0x0,P['isURL'])(_0x172f47[_0x1d0085(0x565)])?{'url':_0x172f47[_0x1d0085(0x565)]}:Buffer[_0x1d0085(0x673)](_0x172f47[_0x1d0085(0x565)],_0x1d0085(0x1c7))},{'upload':this[_0x1d0085(0x34c)]['waUploadToServer']}),_0x21c44b=_0x172f47[_0x1d0085(0x75e)]+_0x1d0085(0x17b);if(_0x172f47[_0x1d0085(0x75e)]===_0x1d0085(0x1d3)&&!_0x172f47[_0x1d0085(0x1ba)]){let _0x528032=new RegExp(/.*\/(.+?)\./)[_0x1d0085(0x2bf)](_0x172f47[_0x1d0085(0x565)]);_0x172f47['fileName']=_0x528032?_0x528032[0x1]:null;}let _0x34d255=(0x0,P[_0x1d0085(0x787)])(_0x172f47[_0x1d0085(0x565)])?_0x172f47['media'][_0x1d0085(0x69d)]('?')[0x0]:_0x172f47[_0x1d0085(0x565)],_0x22790c;(0x0,P[_0x1d0085(0x787)])(_0x172f47[_0x1d0085(0x565)])?_0x22790c=(0x0,kt[_0x1d0085(0x336)])(_0x34d255):_0x172f47[_0x1d0085(0x1ba)]&&_0x172f47[_0x1d0085(0x1ba)][_0x1d0085(0x278)]('.')?_0x22790c=(0x0,kt['getMIMEType'])(_0x172f47[_0x1d0085(0x1ba)]):_0x22790c=(0x0,kt[_0x1d0085(0x336)])(_0x172f47[_0x1d0085(0x565)]);let _0x33b803=So,_0x2ceeda=et;return _0x2ceeda&&this[_0x1d0085(0x1fd)]['toLowerCase']()['includes'](_0x2ceeda[_0x1d0085(0x48c)]())&&(_0x172f47[_0x1d0085(0x752)]+='\x0a\x0a'+_0x33b803),_0x59fda6[_0x21c44b][_0x1d0085(0x752)]=_0x172f47?.[_0x1d0085(0x752)],_0x59fda6[_0x21c44b][_0x1d0085(0x553)]=_0x22790c,_0x59fda6[_0x21c44b][_0x1d0085(0x1ba)]=_0x172f47[_0x1d0085(0x1ba)],_0x172f47[_0x1d0085(0x75e)]===_0x1d0085(0x4c2)&&(_0x59fda6[_0x21c44b][_0x1d0085(0x664)]=Uint8Array[_0x1d0085(0x673)]((0x0,$e[_0x1d0085(0x693)])((0x0,F[_0x1d0085(0x18d)])(process[_0x1d0085(0x4ca)](),_0x1d0085(0x36a)))),_0x59fda6[_0x21c44b][_0x1d0085(0x3e6)]=!0x1),(0x0,f[_0x1d0085(0x6df)])('',{[_0x21c44b]:{..._0x59fda6[_0x21c44b]}},{'userJid':this[_0x1d0085(0x74f)]['wuid']});}catch(_0x43c032){let _0x4926b9='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0xedbe9c=_0x43c032 instanceof Error?_0x43c032[_0x1d0085(0x573)]:typeof _0x43c032==_0x1d0085(0x300)?JSON[_0x1d0085(0x194)](_0x43c032):_0x43c032,_0x2fe485=_0x4926b9+':\x20'+_0xedbe9c;throw this[_0x1d0085(0x781)]['error'](this['instanceName']+'\x20('+this[_0x1d0085(0x74f)]['wuid']+_0x1d0085(0x368)+_0x2fe485),new I(_0x2fe485);}}async[a0_0x15841b(0x3c2)](_0xd05b0){const _0x43afcf=a0_0x15841b;let _0x1eeca4=await this[_0x43afcf(0x351)](_0xd05b0[_0x43afcf(0x3c2)]);return await this['sendMessageWithTyping'](_0xd05b0['number'],{..._0x1eeca4[_0x43afcf(0x573)]},_0xd05b0?.[_0x43afcf(0x4a7)]);}async[a0_0x15841b(0x32c)](_0x4a432f,_0x58bf8f){const _0x14c6f5=a0_0x15841b;try{this['logger'][_0x14c6f5(0x2b5)](_0x14c6f5(0xd6));let _0x46784d,_0x4461b1=_0x58bf8f+'-'+new Date()[_0x14c6f5(0x23b)]();this[_0x14c6f5(0x781)][_0x14c6f5(0x2b5)](_0x14c6f5(0x34d)+_0x4461b1);let _0x1ec7ca=''+(0x0,F['join'])(this[_0x14c6f5(0x56f)],_0x4461b1+_0x14c6f5(0x1bb));if(this[_0x14c6f5(0x781)]['verbose'](_0x14c6f5(0x495)+_0x1ec7ca),(0x0,P[_0x14c6f5(0x276)])(_0x4a432f)){this[_0x14c6f5(0x781)][_0x14c6f5(0x2b5)](_0x14c6f5(0x4ae));let _0x45fa48=_0x4a432f[_0x14c6f5(0x32f)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4e1c6b=Buffer['from'](_0x45fa48,'base64');_0x46784d=''+(0x0,F[_0x14c6f5(0x18d)])(this['storePath'],_0x14c6f5(0x5a4)+_0x4461b1+_0x14c6f5(0x5ff)),this[_0x14c6f5(0x781)][_0x14c6f5(0x2b5)]('Image\x20path:\x20'+_0x46784d),await(0x0,Lt[_0x14c6f5(0x4b6)])(_0x4e1c6b)[_0x14c6f5(0x1de)](_0x46784d),this[_0x14c6f5(0x781)][_0x14c6f5(0x2b5)]('Image\x20created');}else{this[_0x14c6f5(0x781)][_0x14c6f5(0x2b5)](_0x14c6f5(0x4f0));let _0x2ab8f7=new Date()[_0x14c6f5(0x23b)](),_0x2b2dae=_0x4a432f+'?timestamp='+_0x2ab8f7;this['logger'][_0x14c6f5(0x2b5)]('including\x20timestamp\x20in\x20url:\x20'+_0x2b2dae);let _0x3f7bfc=await K[_0x14c6f5(0x4b6)]['get'](_0x2b2dae,{'responseType':_0x14c6f5(0x4d5)});this[_0x14c6f5(0x781)][_0x14c6f5(0x2b5)](_0x14c6f5(0x1ce));let _0x58a80c=Buffer[_0x14c6f5(0x673)](_0x3f7bfc[_0x14c6f5(0x3a1)],_0x14c6f5(0x779));_0x46784d=''+(0x0,F[_0x14c6f5(0x18d)])(this[_0x14c6f5(0x56f)],_0x14c6f5(0x5a4)+_0x4461b1+_0x14c6f5(0x5ff)),this[_0x14c6f5(0x781)]['verbose'](_0x14c6f5(0x16c)+_0x46784d),await(0x0,Lt['default'])(_0x58a80c)[_0x14c6f5(0x1de)](_0x46784d),this[_0x14c6f5(0x781)]['verbose'](_0x14c6f5(0x201));}return await(0x0,Lt[_0x14c6f5(0x4b6)])(_0x46784d)['webp']()[_0x14c6f5(0x1de)](_0x1ec7ca),this[_0x14c6f5(0x781)][_0x14c6f5(0x2b5)](_0x14c6f5(0x455)),j[_0x14c6f5(0x2e6)](_0x46784d),this['logger'][_0x14c6f5(0x2b5)](_0x14c6f5(0xf5)),_0x1ec7ca;}catch(_0x411057){let _0x419a4c='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x16ae81=_0x411057 instanceof Error?_0x411057[_0x14c6f5(0x573)]:typeof _0x411057==_0x14c6f5(0x300)?JSON['stringify'](_0x411057):_0x411057,_0x31bb4a=_0x419a4c+':\x20'+_0x16ae81;this[_0x14c6f5(0x781)][_0x14c6f5(0x45f)](this[_0x14c6f5(0x1fd)]+'\x20('+this['instance'][_0x14c6f5(0x370)]+_0x14c6f5(0x368)+_0x31bb4a);}}async[a0_0x15841b(0x1bf)](_0x312bb3){const _0xf8938a=a0_0x15841b;let _0x496301=await this[_0xf8938a(0x32c)](_0x312bb3[_0xf8938a(0x5c1)][_0xf8938a(0x5e7)],_0x312bb3['number']),_0x50db72=await this[_0xf8938a(0x420)](_0x312bb3[_0xf8938a(0x799)],{'sticker':{'url':_0x496301}},_0x312bb3?.[_0xf8938a(0x4a7)]);return j[_0xf8938a(0x2e6)](_0x496301),this[_0xf8938a(0x781)][_0xf8938a(0x2b5)](_0xf8938a(0x3a6)),_0x50db72;}async[a0_0x15841b(0x3d3)](_0x2d5584){const _0x3a0963=a0_0x15841b;if(this[_0x3a0963(0x781)][_0x3a0963(0x2b5)](_0x3a0963(0x189)),!_0x2d5584[_0x3a0963(0x4a7)]?.[_0x3a0963(0x757)]&&_0x2d5584[_0x3a0963(0x4a7)]?.['encoding']!==!0x1&&(_0x2d5584['options']['encoding']=!0x0),_0x2d5584['options']?.[_0x3a0963(0x757)]){let _0x4ab70a=await this[_0x3a0963(0x6c5)](_0x2d5584[_0x3a0963(0x3fd)][_0x3a0963(0x451)]);if(typeof _0x4ab70a==_0x3a0963(0x421)){let _0x1a8ebe=j['readFileSync'](_0x4ab70a)[_0x3a0963(0x6ca)]('base64');return this[_0x3a0963(0x420)](_0x2d5584[_0x3a0963(0x799)],{'audio':Buffer[_0x3a0963(0x673)](_0x1a8ebe,_0x3a0963(0x1c7)),'ptt':!0x0,'mimetype':_0x3a0963(0x6a7)},{'presence':_0x3a0963(0x6fc),'delay':_0x2d5584?.[_0x3a0963(0x4a7)]?.[_0x3a0963(0x58f)]});}else throw new I(_0x4ab70a);}return await this[_0x3a0963(0x420)](_0x2d5584[_0x3a0963(0x799)],{'audio':(0x0,P[_0x3a0963(0x787)])(_0x2d5584[_0x3a0963(0x3fd)]['audio'])?{'url':_0x2d5584[_0x3a0963(0x3fd)][_0x3a0963(0x451)]}:Buffer[_0x3a0963(0x673)](_0x2d5584[_0x3a0963(0x3fd)][_0x3a0963(0x451)],_0x3a0963(0x1c7)),'ptt':!0x0,'mimetype':_0x3a0963(0x6a7)},{'presence':_0x3a0963(0x6fc),'delay':_0x2d5584?.[_0x3a0963(0x4a7)]?.[_0x3a0963(0x58f)]});}async[a0_0x15841b(0x6c5)](_0x3f4d5b){const _0x19d52d=a0_0x15841b;this[_0x19d52d(0x781)]['verbose'](_0x19d52d(0x793));let _0x41eea4=(0x0,P[_0x19d52d(0x787)])(_0x3f4d5b)?(0x0,Ut[_0x19d52d(0x1f7)])(_0x19d52d(0x225))['update'](_0x3f4d5b)[_0x19d52d(0x604)]('hex'):(0x0,Ut[_0x19d52d(0x1f7)])(_0x19d52d(0x225))['update'](_0x3f4d5b)[_0x19d52d(0x604)]('hex'),_0xf84f90=''+(0x0,F[_0x19d52d(0x18d)])(this[_0x19d52d(0x56f)],_0x41eea4+_0x19d52d(0x38b));if(j[_0x19d52d(0x777)](_0xf84f90))return this['logger'][_0x19d52d(0x2b5)](_0x19d52d(0x681)),_0xf84f90;let _0x40c29c=''+(0x0,F[_0x19d52d(0x18d)])(this['storePath'],_0x19d52d(0x5a4)+(0x0,jt['v4'])()+'.mp3');if((0x0,P[_0x19d52d(0x787)])(_0x3f4d5b)){let _0x21f22b=new Date()[_0x19d52d(0x23b)](),_0x20ad49=_0x3f4d5b+'?timestamp='+_0x21f22b,_0x40fa80=await K[_0x19d52d(0x4b6)][_0x19d52d(0x3cb)](_0x20ad49,{'responseType':_0x19d52d(0x4d5)});j[_0x19d52d(0x474)](_0x40c29c,_0x40fa80[_0x19d52d(0x3a1)]);}else{let _0x5285f2=Buffer[_0x19d52d(0x673)](_0x3f4d5b,_0x19d52d(0x1c7));j['writeFileSync'](_0x40c29c,_0x5285f2);}return new Promise((_0x20a3b0,_0x2ae932)=>{const _0x4a9752=_0x19d52d;(0x0,Ae['exec'])(Os[_0x4a9752(0x4b6)]['path']+_0x4a9752(0x22b)+_0x40c29c+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0xf84f90+_0x4a9752(0x44d),_0xe6cdbf=>{const _0x2f8a8a=_0x4a9752;if(j['unlinkSync'](_0x40c29c),_0xe6cdbf){this[_0x2f8a8a(0x781)][_0x2f8a8a(0x2b5)]('Error\x20in\x20converting\x20audio'),_0x2ae932(_0xe6cdbf);return;}this[_0x2f8a8a(0x781)][_0x2f8a8a(0x2b5)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x20a3b0(_0xf84f90);});});}async[a0_0x15841b(0x32e)](_0x265dac){const _0x148b64=a0_0x15841b;this[_0x148b64(0x781)][_0x148b64(0x2b5)]('Processing\x20audio');let _0x1236a5=(0x0,Ut[_0x148b64(0x1f7)])('sha256')[_0x148b64(0x179)](_0x265dac)[_0x148b64(0x604)](_0x148b64(0x398)),_0x29bd2f=''+(0x0,F[_0x148b64(0x18d)])(this[_0x148b64(0x56f)],_0x1236a5+_0x148b64(0x78a));if(j[_0x148b64(0x777)](_0x29bd2f))return this[_0x148b64(0x781)][_0x148b64(0x2b5)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),F[_0x148b64(0x4b6)][_0x148b64(0x6ff)](_0x29bd2f);let _0x47c686=''+(0x0,F[_0x148b64(0x18d)])(this[_0x148b64(0x56f)],_0x148b64(0x5a4)+_0x1236a5+_0x148b64(0x38b));if((0x0,P[_0x148b64(0x787)])(_0x265dac)){let _0x54f00b=new Date()['getTime'](),_0x4e41c7=_0x265dac+'?timestamp='+_0x54f00b,_0x1f66f6=await K[_0x148b64(0x4b6)]['get'](_0x4e41c7,{'responseType':_0x148b64(0x4d5)});j['writeFileSync'](_0x47c686,_0x1f66f6[_0x148b64(0x3a1)]);}else{let _0x108d0a=Buffer['from'](_0x265dac,_0x148b64(0x1c7));j[_0x148b64(0x474)](_0x47c686,_0x108d0a);}return new Promise((_0x59ab63,_0x29a22c)=>{const _0x55010d=_0x148b64;(0x0,Ae[_0x55010d(0x2bf)])(Os['default']['path']+'\x20-i\x20'+_0x47c686+_0x55010d(0x422)+_0x29bd2f+_0x55010d(0x44d),_0x51912a=>{const _0x4734bb=_0x55010d;if(j[_0x4734bb(0x2e6)](_0x47c686),_0x51912a){this[_0x4734bb(0x781)][_0x4734bb(0x2b5)](_0x4734bb(0x124)),_0x29a22c(_0x51912a);return;}this[_0x4734bb(0x781)][_0x4734bb(0x2b5)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x59ab63(F[_0x4734bb(0x4b6)]['basename'](_0x29bd2f));});});}async[a0_0x15841b(0x593)](_0x1d1c68){const _0x129d2c=a0_0x15841b;let _0x13f9ca={},_0x315256=_0x129d2c(0x2de);if(_0x1d1c68[_0x129d2c(0x593)]?.[_0x129d2c(0x3c2)]){_0x315256=_0x1d1c68['buttonMessage'][_0x129d2c(0x3c2)]?.[_0x129d2c(0x75e)][_0x129d2c(0xf7)]()??_0x129d2c(0x2de),_0x13f9ca[_0x129d2c(0x39a)]=_0x315256[_0x129d2c(0x48c)]()+_0x129d2c(0x17b);let _0x223222=await this[_0x129d2c(0x351)](_0x1d1c68[_0x129d2c(0x593)][_0x129d2c(0x3c2)]);_0x13f9ca['message']=_0x223222['message'][_0x13f9ca[_0x129d2c(0x39a)]],_0x13f9ca['contentText']='*'+_0x1d1c68[_0x129d2c(0x593)]['title']+'*\x0a\x0a'+_0x1d1c68[_0x129d2c(0x593)][_0x129d2c(0x617)];}let _0x36522f={'text':_0x1d1c68[_0x129d2c(0x593)][_0x129d2c(0x271)][_0x129d2c(0xef)](_0xb8525c=>_0xb8525c[_0x129d2c(0x1bd)]),'ids':_0x1d1c68[_0x129d2c(0x593)][_0x129d2c(0x271)]['map'](_0x4c94f8=>_0x4c94f8['buttonId'])};if(!(0x0,P[_0x129d2c(0x163)])(_0x36522f['text'])||!(0x0,P['arrayUnique'])(_0x36522f[_0x129d2c(0x208)]))throw new m(_0x129d2c(0x44c),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x129d2c(0x420)](_0x1d1c68[_0x129d2c(0x799)],{'buttonsMessage':{'text':_0x13f9ca?.[_0x129d2c(0x39a)]?void 0x0:_0x1d1c68[_0x129d2c(0x593)]['title'],'contentText':_0x13f9ca?.[_0x129d2c(0x3dc)]??_0x1d1c68[_0x129d2c(0x593)][_0x129d2c(0x617)],'footerText':_0x1d1c68[_0x129d2c(0x593)]?.[_0x129d2c(0x4e1)],'buttons':_0x1d1c68[_0x129d2c(0x593)][_0x129d2c(0x271)][_0x129d2c(0xef)](_0x54250c=>({'buttonText':{'displayText':_0x54250c[_0x129d2c(0x1bd)]},'buttonId':_0x54250c[_0x129d2c(0x5aa)],'type':0x1})),'headerType':f[_0x129d2c(0x5f3)][_0x129d2c(0x17b)][_0x129d2c(0x4c6)]['HeaderType'][_0x315256],[_0x13f9ca?.[_0x129d2c(0x39a)]]:_0x13f9ca?.[_0x129d2c(0x573)]}},_0x1d1c68?.[_0x129d2c(0x4a7)]);}async[a0_0x15841b(0x732)](_0x5da63c){const _0x12cad4=a0_0x15841b;return await this[_0x12cad4(0x420)](_0x5da63c['number'],{'locationMessage':{'degreesLatitude':_0x5da63c[_0x12cad4(0x732)][_0x12cad4(0x692)],'degreesLongitude':_0x5da63c[_0x12cad4(0x732)][_0x12cad4(0x275)],'name':_0x5da63c[_0x12cad4(0x732)]?.[_0x12cad4(0x424)],'address':_0x5da63c[_0x12cad4(0x732)]?.[_0x12cad4(0x18e)]}},_0x5da63c?.[_0x12cad4(0x4a7)]);}async[a0_0x15841b(0x5c5)](_0x56b9be){const _0x305af7=a0_0x15841b;let _0x10c471={},_0x16e08b=async _0x102be9=>{const _0x5f1e59=a0_0xdc1a;let _0x500eb2=_0x5f1e59(0x4af)+_0x102be9[_0x5f1e59(0x43e)]+'\x0aFN:'+_0x102be9['fullName']+'\x0a';_0x102be9[_0x5f1e59(0x49c)]&&(_0x500eb2+=_0x5f1e59(0x6bf)+_0x102be9[_0x5f1e59(0x49c)]+';\x0a'),_0x102be9[_0x5f1e59(0x5c0)]&&(_0x500eb2+='EMAIL:'+_0x102be9[_0x5f1e59(0x5c0)]+'\x0a'),_0x102be9[_0x5f1e59(0x2dd)]&&(_0x500eb2+='URL:'+_0x102be9[_0x5f1e59(0x2dd)]+'\x0a');let _0x4b869c='',_0x1d4051=0x1;if(_0x102be9[_0x5f1e59(0xfe)]){let _0x1e416=_0x102be9['phoneNumber'][_0x5f1e59(0x69d)]('|');for(let _0x4c9ed3 of _0x1e416){let _0x108b2a=await this[_0x5f1e59(0x423)]({'numbers':[_0x4c9ed3]}),_0x2dc6f=(_0x108b2a[_0x5f1e59(0x561)]>0x0?_0x108b2a[0x0][_0x5f1e59(0x425)]:this['createJid'](_0x4c9ed3))[_0x5f1e59(0x32f)](_0x5f1e59(0x205),'');_0x4b869c+='item'+_0x1d4051+_0x5f1e59(0x49d)+_0x2dc6f+':'+_0x4c9ed3+_0x5f1e59(0x575)+_0x1d4051+_0x5f1e59(0x2c5),_0x1d4051++;}}return _0x500eb2+=_0x4b869c+'END:VCARD',_0x500eb2;};return _0x56b9be[_0x305af7(0x5c5)][_0x305af7(0x561)]===0x1?_0x10c471[_0x305af7(0x5c5)]={'displayName':_0x56b9be[_0x305af7(0x5c5)][0x0][_0x305af7(0x43e)],'vcard':await _0x16e08b(_0x56b9be['contactMessage'][0x0])}:_0x10c471[_0x305af7(0x746)]={'displayName':_0x56b9be[_0x305af7(0x5c5)][_0x305af7(0x561)]+_0x305af7(0x1e9),'contacts':await Promise[_0x305af7(0x60e)](_0x56b9be[_0x305af7(0x5c5)]['map'](async _0x23b09e=>({'displayName':_0x23b09e[_0x305af7(0x43e)],'vcard':await _0x16e08b(_0x23b09e)})))},await this[_0x305af7(0x420)](_0x56b9be[_0x305af7(0x799)],{..._0x10c471},_0x56b9be?.[_0x305af7(0x4a7)]);}async['reactionMessage'](_0x49bb28){const _0x21d155=a0_0x15841b;return await this[_0x21d155(0x420)](_0x49bb28[_0x21d155(0xf3)][_0x21d155(0x500)][_0x21d155(0x316)],{'reactionMessage':{'key':_0x49bb28[_0x21d155(0xf3)][_0x21d155(0x500)],'text':_0x49bb28['reactionMessage'][_0x21d155(0x39b)]}});}async[a0_0x15841b(0x423)](_0x20f21a){const _0x3f0954=a0_0x15841b;let _0x2de974=[];for await(let _0x10bbb3 of _0x20f21a['numbers']){let _0x5f068e=this[_0x3f0954(0x1c3)](_0x10bbb3),_0x1ad2ac=!0x1;try{if((0x0,f['isJidGroup'])(_0x5f068e)){let _0x595d51=(await this[_0x3f0954(0x15c)][_0x3f0954(0x755)][_0x3f0954(0x5d9)]({'where':{'_id':_0x5f068e}},this[_0x3f0954(0x74f)][_0x3f0954(0x370)]))[_0x3f0954(0x28d)];_0x1ad2ac=!!_0x595d51?.['id']&&!!_0x595d51?.['canSendMessage'],_0x2de974[_0x3f0954(0x627)](new ye(_0x595d51['id'],_0x1ad2ac,_0x595d51?.[_0x3f0954(0x35c)]));}else{let _0x472ec2=(await this[_0x3f0954(0x34c)][_0x3f0954(0x5f6)](_0x5f068e))[0x0];_0x1ad2ac=_0x472ec2[_0x3f0954(0x67a)],_0x2de974[_0x3f0954(0x627)](new ye(_0x472ec2[_0x3f0954(0x425)],_0x1ad2ac));}}catch{(0x0,f['isJidGroup'])(_0x5f068e)||await this[_0x3f0954(0x30b)](_0x5f068e,_0x1ad2ac),_0x2de974['push'](new ye(_0x10bbb3,!0x1));}}return _0x2de974;}async[a0_0x15841b(0x30b)](_0x1f005f,_0x592e3e){const _0x256bf4=a0_0x15841b;try{await this['repository'][_0x256bf4(0x755)][_0x256bf4(0x5d9)]({'where':{'_id':_0x1f005f,'imported':!0x0}},this['instance']['wuid'])&&(_0x592e3e||(await this[_0x256bf4(0x15c)][_0x256bf4(0x755)]['deleteChat'](_0x1f005f,this[_0x256bf4(0x74f)][_0x256bf4(0x370)]),this[_0x256bf4(0x781)][_0x256bf4(0x60c)](_0x256bf4(0x1ad)+_0x1f005f+_0x256bf4(0x2f0))));}catch(_0x3cf1c7){let _0x186818=_0x256bf4(0x133),_0x3d9ba2=_0x3cf1c7 instanceof Error?_0x3cf1c7[_0x256bf4(0x573)]:typeof _0x3cf1c7=='object'?JSON[_0x256bf4(0x194)](_0x3cf1c7):_0x3cf1c7,_0x5bb0a7=_0x186818+':\x20'+_0x3d9ba2;this[_0x256bf4(0x781)][_0x256bf4(0x45f)](this[_0x256bf4(0x1fd)]+'\x20('+this[_0x256bf4(0x74f)][_0x256bf4(0x370)]+_0x256bf4(0x368)+_0x5bb0a7);}}async[a0_0x15841b(0x69f)](_0x5371c1){const _0x2e59f1=a0_0x15841b;try{let _0x1e62e3=_0x5371c1['readMessages'][_0x2e59f1(0x2f3)](_0x2b9ca1=>(0x0,f['isJidGroup'])(_0x2b9ca1[_0x2e59f1(0x316)])||(0x0,f[_0x2e59f1(0x34a)])(_0x2b9ca1['remoteJid']))[_0x2e59f1(0xef)](_0x18ba04=>({'remoteJid':_0x18ba04['remoteJid'],'fromMe':_0x18ba04['fromMe'],'id':_0x18ba04['id']}));await this['client'][_0x2e59f1(0x6c7)](_0x1e62e3);let _0x27ad0c=_0x1e62e3[_0x2e59f1(0xef)](_0x1df64c=>this[_0x2e59f1(0x1e6)](_0x1df64c,{'status':_0x2e59f1(0xc7),'owner':this[_0x2e59f1(0x74f)]['wuid']})),_0x4f6571=_0x1e62e3[_0x2e59f1(0xef)](_0x5655c1=>this[_0x2e59f1(0x15c)][_0x2e59f1(0x755)][_0x2e59f1(0x13c)]({'where':{'_id':_0x5655c1[_0x2e59f1(0x316)]}},{'unreadcount':0x0},this['instance']['wuid'])),[_0x2ccd00,_0x33b0dd]=await Promise['all']([Promise['all'](_0x27ad0c),Promise[_0x2e59f1(0x60e)](_0x4f6571)]);return _0x33b0dd['filter'](_0x18ae5f=>_0x18ae5f!==null)[_0x2e59f1(0x537)](_0x1cfd17=>{const _0x3b1147=_0x2e59f1;U(this[_0x3b1147(0x1fd)],'chats',{'chat':_0x1cfd17});}),{'message':'Read\x20messages','read':_0x2e59f1(0x236)};}catch(_0x39a428){let _0x59444e=_0x2e59f1(0x32a),_0x2d8eca=_0x39a428 instanceof Error?_0x39a428['message']:typeof _0x39a428==_0x2e59f1(0x300)?JSON[_0x2e59f1(0x194)](_0x39a428):_0x39a428,_0x4f4ee7=_0x59444e+':\x20'+_0x2d8eca;throw this[_0x2e59f1(0x781)][_0x2e59f1(0x45f)](this['instanceName']+'\x20('+this['instance'][_0x2e59f1(0x370)]+_0x2e59f1(0x368)+_0x4f4ee7),new I(_0x4f4ee7);}}async[a0_0x15841b(0x70a)](_0x2ca420){let _0x4bf715={'where':{'key':{'remoteJid':_0x2ca420}},'limit':0x1},_0x5d5836=await this['fetchMessages'](_0x4bf715);return _0x5d5836||(console['error']('Last\x20message\x20not\x20found\x20for\x20number:',_0x2ca420),null);}async[a0_0x15841b(0x59f)](_0x177f3a){const _0x188327=a0_0x15841b;this[_0x188327(0x781)]['verbose']('Archiving\x20chat');try{let _0x3a015f=_0x177f3a['lastMessage'],_0x3f5936=_0x177f3a['chat'];if(!_0x3a015f&&_0x3f5936?_0x3a015f=await this['getLastMessage'](_0x3f5936):(_0x3a015f=_0x177f3a[_0x188327(0x389)],_0x3a015f[_0x188327(0xc9)]=_0x3a015f?.[_0x188327(0xc9)]??Date[_0x188327(0x1db)](),_0x3f5936=_0x3a015f?.['key']?.[_0x188327(0x316)]),!_0x3a015f||Object[_0x188327(0x479)](_0x3a015f)[_0x188327(0x561)]===0x0)throw new J(_0x188327(0x4a8));this[_0x188327(0x781)][_0x188327(0x2b5)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x3f5936);try{await this[_0x188327(0x34c)][_0x188327(0x576)]({'archive':_0x177f3a['archive'],'lastMessages':[_0x3a015f]},this[_0x188327(0x1c3)](_0x3f5936));}catch(_0x80b702){let _0xbd0bd5=_0x188327(0x1fb)+_0x3f5936,_0x3ce5af=_0x80b702 instanceof Error?_0x80b702[_0x188327(0x573)]:typeof _0x80b702=='object'?JSON[_0x188327(0x194)](_0x80b702):_0x80b702,_0xad245b=_0xbd0bd5+':\x20'+_0x3ce5af;this[_0x188327(0x781)][_0x188327(0x45f)](this[_0x188327(0x1fd)]+'\x20('+this[_0x188327(0x74f)][_0x188327(0x370)]+_0x188327(0x368)+_0xad245b);}this[_0x188327(0x781)][_0x188327(0x2b5)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3f5936);let _0x1668d9=await this[_0x188327(0x15c)][_0x188327(0x755)][_0x188327(0x13c)]({'where':{'_id':_0x3a015f?.[_0x188327(0x500)]?.[_0x188327(0x316)]}},{'archived':_0x177f3a[_0x188327(0x71d)]},this[_0x188327(0x74f)]['wuid']);return _0x1668d9?(this['logger'][_0x188327(0x2b5)](_0x188327(0x484)+JSON[_0x188327(0x194)](_0x1668d9)),U(this[_0x188327(0x1fd)],_0x188327(0x41a),{'chat':_0x1668d9})):this[_0x188327(0x781)][_0x188327(0x45f)](_0x188327(0x21e)+_0x3f5936),{'chatId':_0x3f5936,'archived':_0x177f3a[_0x188327(0x71d)]};}catch(_0x11e45f){let _0x54e9fb=_0x188327(0x612),_0x1fbb09=_0x11e45f instanceof Error?_0x11e45f[_0x188327(0x573)]:typeof _0x11e45f=='object'?JSON['stringify'](_0x11e45f):_0x11e45f,_0x4149fd=_0x54e9fb+':\x20'+_0x1fbb09;throw this[_0x188327(0x781)][_0x188327(0x45f)](this[_0x188327(0x1fd)]+'\x20('+this[_0x188327(0x74f)][_0x188327(0x370)]+_0x188327(0x368)+_0x4149fd),new I(_0x4149fd);}}async[a0_0x15841b(0x687)](_0x142beb){const _0x500091=a0_0x15841b;this[_0x500091(0x781)][_0x500091(0x2b5)](_0x500091(0x259));try{let _0x3878de=await this[_0x500091(0x70a)](_0x142beb);if(!_0x3878de||Object[_0x500091(0x479)](_0x3878de)[_0x500091(0x561)]===0x0)throw new J(_0x500091(0x4a8));let _0x1f1b33=_0x3878de[0x0];this[_0x500091(0x781)][_0x500091(0x2b5)]('Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x142beb);try{await this['client'][_0x500091(0x576)]({'delete':!0x0,'lastMessages':[{'key':_0x1f1b33[_0x500091(0x500)],'messageTimestamp':_0x1f1b33[_0x500091(0xc9)]}]},this[_0x500091(0x1c3)](_0x142beb));}catch(_0x36100b){this['logger']['error'](_0x500091(0x1fb)+_0x142beb+':\x20'+_0x36100b['toString']());}this['logger'][_0x500091(0x2b5)](_0x500091(0x312)+_0x142beb);return;}catch(_0x45c608){throw this[_0x500091(0x781)][_0x500091(0x45f)](_0x500091(0x783)+_0x45c608['toString']()),new I({'archived':!0x1,'message':[_0x500091(0x4ad),_0x45c608['toString']()]});}}async[a0_0x15841b(0x79e)](_0x16e273){const _0x329d65=a0_0x15841b;try{let _0x706de2=await this[_0x329d65(0x34c)][_0x329d65(0x527)](_0x16e273['remoteJid'],{'delete':_0x16e273});try{let _0x104249=await this[_0x329d65(0x1e6)](_0x16e273,{'status':_0x329d65(0x487),'owner':this[_0x329d65(0x74f)][_0x329d65(0x370)]});this[_0x329d65(0x781)]['verbose'](this[_0x329d65(0x1fd)]+'\x20('+this['instance']['wuid']+_0x329d65(0x4ff)+_0x104249);}catch(_0x1d32a9){console[_0x329d65(0x45f)](_0x329d65(0x1be),_0x1d32a9);}return _0x706de2;}catch(_0x50e6a8){throw new I(_0x329d65(0x739),_0x50e6a8?.[_0x329d65(0x6ca)]());}}async[a0_0x15841b(0x4b4)](_0x3977a3){const _0x474934=a0_0x15841b;try{let _0x458e14=_0x3977a3?.[_0x474934(0x573)]?_0x3977a3:await this['getMessage'](_0x3977a3[_0x474934(0x500)],!0x0);for(let _0x16e09d of ya)_0x458e14[_0x474934(0x573)][_0x16e09d]&&(_0x458e14['message']=_0x458e14[_0x474934(0x573)][_0x16e09d][_0x474934(0x573)]);let _0x166de8,_0x2da940;for(let _0xf50794 of wa)if(_0x166de8=_0x458e14[_0x474934(0x573)][_0xf50794],_0x166de8){_0x2da940=_0xf50794;break;}if(!_0x166de8)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x166de8[_0x474934(0x39a)]==_0x474934(0x300)&&(_0x458e14['message']=JSON[_0x474934(0x26f)](JSON[_0x474934(0x194)](_0x458e14[_0x474934(0x573)])));let _0x531061=await(0x0,f[_0x474934(0x25c)])({'key':_0x458e14?.[_0x474934(0x500)],'message':_0x458e14?.[_0x474934(0x573)]},'buffer',{},{'logger':(0x0,Pt[_0x474934(0x4b6)])({'level':_0x474934(0x234)}),'reuploadRequest':this[_0x474934(0x34c)][_0x474934(0x5f7)]});if(!(_0x531061 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x231317=this[_0x474934(0x299)][_0x474934(0x3cb)](_0x474934(0xc8)),_0x2e29f7,_0x21cce4;if(_0x166de8[_0x474934(0x1ba)])_0x2e29f7=_0x166de8[_0x474934(0x1ba)];else{let _0x161f4e=_0x166de8[_0x474934(0x553)]?.['match'](/\/(\w+)/),_0x90fb45=_0x161f4e?_0x161f4e[0x1]:null;if(!_0x90fb45)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x2e29f7=(0x0,jt['v4'])()+'.'+_0x90fb45;}_0x2da940===_0x474934(0x3fd)?_0x21cce4=_0x474934(0x559)+await this[_0x474934(0x32e)](_0x531061[_0x474934(0x6ca)](_0x474934(0x1c7))):(await this[_0x474934(0x466)](_0x531061,_0x2e29f7),_0x21cce4=_0x474934(0x559)+_0x2e29f7);let _0x16cd9a=this[_0x474934(0x299)][_0x474934(0x3cb)](_0x474934(0x2fa))[_0x474934(0x2a5)];if(!_0x16cd9a){let _0x569e80=this['configService'][_0x474934(0x3cb)](_0x474934(0x108));_0x16cd9a=_0x474934(0x735)+(_0x569e80&&_0x569e80[_0x474934(0x361)][_0x474934(0x69d)]('/')[0x4]);}_0x21cce4=''+_0x16cd9a+_0x21cce4;let _0x772bf1=0xc*0x3c*0x3c*0x3e8,_0x516899={'where':{'_id':_0x458e14['key']['id']}},_0x25cbd5={'message_normalized.fileUrl':_0x21cce4,'message_normalized.expires_fileUrl':Date[_0x474934(0x1db)]()+_0x772bf1};try{let _0x3bcc7b=await this[_0x474934(0x15c)][_0x474934(0x573)][_0x474934(0x179)](_0x516899,_0x25cbd5,this['instance'][_0x474934(0x370)]);_0x3bcc7b&&U(this[_0x474934(0x1fd)],_0x474934(0x454),{'message':_0x3bcc7b});}catch(_0x4dad78){let _0x157317='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x48ab58=_0x4dad78 instanceof Error?_0x4dad78[_0x474934(0x573)]:typeof _0x4dad78==_0x474934(0x300)?JSON['stringify'](_0x4dad78):_0x4dad78,_0x44005b=_0x157317+':\x20'+_0x48ab58;this['logger'][_0x474934(0x45f)](this[_0x474934(0x1fd)]+'\x20('+this[_0x474934(0x74f)]['wuid']+_0x474934(0x368)+_0x44005b);}return{'mediaType':_0x2da940,'fileName':_0x166de8[_0x474934(0x1ba)],'caption':_0x166de8['caption'],'size':{'fileLength':_0x166de8[_0x474934(0x566)],'height':_0x166de8[_0x474934(0x222)],'width':_0x166de8[_0x474934(0x5e8)]},'mimetype':_0x166de8[_0x474934(0x553)],'base64':_0x531061[_0x474934(0x6ca)](_0x474934(0x1c7)),'fileUrl':_0x21cce4,'expires_fileUrl':Date[_0x474934(0x1db)]()+_0x772bf1};}catch(_0x5bee44){let _0x4a222f=_0x474934(0x1d0),_0x1a4691=_0x5bee44 instanceof Error?_0x5bee44[_0x474934(0x573)]:typeof _0x5bee44==_0x474934(0x300)?JSON[_0x474934(0x194)](_0x5bee44):_0x5bee44,_0x3a09ee=_0x4a222f+':\x20'+_0x1a4691;throw this[_0x474934(0x781)][_0x474934(0x45f)](this[_0x474934(0x1fd)]+'\x20('+this['instance'][_0x474934(0x370)]+_0x474934(0x368)+_0x3a09ee),new m(_0x3a09ee);}}async[a0_0x15841b(0x466)](_0x4287b4,_0x3075fe){const _0x580542=a0_0x15841b;let _0x4c8e74=F[_0x580542(0x4b6)]['join'](__dirname,'downloads');j[_0x580542(0x777)](_0x4c8e74)||j['mkdirSync'](_0x4c8e74,{'recursive':!0x0});let _0x3ebf39=F[_0x580542(0x4b6)][_0x580542(0x18d)](_0x4c8e74,_0x3075fe);return new Promise((_0x2b4dd8,_0x400c2f)=>{j['writeFile'](_0x3ebf39,_0x4287b4,_0x35fbfa=>{const _0x2fc4c4=a0_0xdc1a;_0x35fbfa?(this['logger'][_0x2fc4c4(0x45f)]('Error\x20writing\x20file:\x20'+(_0x35fbfa instanceof Error?_0x35fbfa['message']:JSON['stringify'](_0x35fbfa,null,0x2))),_0x400c2f(_0x35fbfa)):(this[_0x2fc4c4(0x781)][_0x2fc4c4(0x660)]('File\x20written\x20to\x20path:\x20'+_0x3ebf39),_0x2b4dd8(_0x3ebf39));});});}async[a0_0x15841b(0x182)](_0x4c0fdc){const _0x241a59=a0_0x15841b;return await this[_0x241a59(0x15c)][_0x241a59(0x5b8)][_0x241a59(0x76f)](_0x4c0fdc,this[_0x241a59(0x74f)][_0x241a59(0x370)]);}async[a0_0x15841b(0xeb)](){const _0x5a6ac6=a0_0x15841b;return await this[_0x5a6ac6(0x15c)]['label'][_0x5a6ac6(0x76f)]({'where':{}},this['instance']['wuid']);}async[a0_0x15841b(0x16d)](_0x4015b7){const _0x17b662=a0_0x15841b;return await this[_0x17b662(0x15c)]['message']['find'](_0x4015b7,this[_0x17b662(0x74f)]['wuid']);}async[a0_0x15841b(0x255)](){const _0x3bbf07=a0_0x15841b;return this[_0x3bbf07(0x15c)][_0x3bbf07(0x755)][_0x3bbf07(0x674)](this['instance'][_0x3bbf07(0x370)]),this['repository']['chat'][_0x3bbf07(0x59e)](this[_0x3bbf07(0x74f)][_0x3bbf07(0x370)]),this[_0x3bbf07(0x15c)][_0x3bbf07(0x755)][_0x3bbf07(0x463)](this['instance'][_0x3bbf07(0x370)]),this[_0x3bbf07(0x15c)][_0x3bbf07(0x755)][_0x3bbf07(0x53a)](this[_0x3bbf07(0x74f)][_0x3bbf07(0x370)]),await this[_0x3bbf07(0x15c)][_0x3bbf07(0x755)][_0x3bbf07(0x76f)]({'where':{}},this[_0x3bbf07(0x74f)]['wuid']);}async[a0_0x15841b(0x6b2)](_0x1d8bc0){const _0x36eefa=a0_0x15841b;try{if(!Array[_0x36eefa(0x676)](_0x1d8bc0)||_0x1d8bc0[_0x36eefa(0x561)]===0x0)throw new Error(_0x36eefa(0x359));let _0x39ac29=[],_0xb42da5=[];for(let _0x9048b8 of _0x1d8bc0){if(_0x9048b8[_0x36eefa(0x333)])_0x9048b8[_0x36eefa(0x333)]=this[_0x36eefa(0x1c3)](_0x9048b8[_0x36eefa(0x333)]);else continue;await this[_0x36eefa(0x15c)][_0x36eefa(0x755)][_0x36eefa(0x5d9)]({'where':{'_id':_0x9048b8[_0x36eefa(0x333)]}},this[_0x36eefa(0x74f)][_0x36eefa(0x370)])?_0xb42da5['push']({'_id':_0x9048b8[_0x36eefa(0x333)],'leadInfo':_0x9048b8[_0x36eefa(0x140)],'owner':this[_0x36eefa(0x74f)][_0x36eefa(0x370)]}):_0x39ac29[_0x36eefa(0x627)]({'_id':_0x9048b8['_id'],'owner':this[_0x36eefa(0x74f)][_0x36eefa(0x370)],'leadInfo':_0x9048b8['leadInfo'],'imported':!0x0});}return _0xb42da5[_0x36eefa(0x561)]>0x0&&await this[_0x36eefa(0x15c)][_0x36eefa(0x755)]['updateMany'](_0xb42da5[_0x36eefa(0xef)](_0x3579a=>({'query':{'where':{'_id':_0x3579a['_id'],'owner':this[_0x36eefa(0x74f)][_0x36eefa(0x370)]}},'update':_0x3579a}))),_0x39ac29[_0x36eefa(0x561)]>0x0&&await this[_0x36eefa(0x15c)]['chat'][_0x36eefa(0x3c4)](_0x39ac29,this[_0x36eefa(0x74f)][_0x36eefa(0x370)]),{'updated':_0xb42da5[_0x36eefa(0x561)],'inserted':_0x39ac29['length']};}catch(_0x5ed8e7){let _0x4c290c=_0x36eefa(0x337),_0x5e82a1=_0x5ed8e7 instanceof Error?_0x5ed8e7['message']:typeof _0x5ed8e7==_0x36eefa(0x300)?JSON[_0x36eefa(0x194)](_0x5ed8e7):_0x5ed8e7,_0x530841=_0x4c290c+':\x20'+_0x5e82a1;throw this[_0x36eefa(0x781)][_0x36eefa(0x45f)](this['instanceName']+'\x20('+this[_0x36eefa(0x74f)][_0x36eefa(0x370)]+_0x36eefa(0x368)+_0x530841),new m(_0x530841);}}async['importChats'](_0x42a49a){const _0x4fdb70=a0_0x15841b;try{if(!Array['isArray'](_0x42a49a)||_0x42a49a[_0x4fdb70(0x561)]===0x0)throw new Error(_0x4fdb70(0x359));let _0x1eea08=0x64,_0x53fcd8=0x0;for(let _0x5f22f3=0x0;_0x5f22f3<_0x42a49a[_0x4fdb70(0x561)];_0x5f22f3+=_0x1eea08){let _0x2043d2=_0x42a49a[_0x4fdb70(0xe9)](_0x5f22f3,_0x5f22f3+_0x1eea08),{updated:_0x4e3537}=await this[_0x4fdb70(0x192)](_0x2043d2);_0x53fcd8+=_0x4e3537;}return{'updated':_0x53fcd8};}catch(_0x5bc656){let _0x4c535d=_0x4fdb70(0x337),_0x35e487=_0x5bc656 instanceof Error?_0x5bc656[_0x4fdb70(0x573)]:typeof _0x5bc656=='object'?JSON[_0x4fdb70(0x194)](_0x5bc656):_0x5bc656,_0x2636db=_0x4c535d+':\x20'+_0x35e487;throw this[_0x4fdb70(0x781)][_0x4fdb70(0x45f)](this[_0x4fdb70(0x1fd)]+'\x20('+this['instance'][_0x4fdb70(0x370)]+_0x4fdb70(0x368)+_0x2636db),new m(_0x2636db);}}async[a0_0x15841b(0x192)](_0x2ee737){const _0x2eafb5=a0_0x15841b;try{let _0x427128=await this[_0x2eafb5(0x15c)][_0x2eafb5(0x2a7)][_0x2eafb5(0x76f)]({'where':{}},this[_0x2eafb5(0x74f)][_0x2eafb5(0x370)]),_0x24cde1=new Set(_0x427128[_0x2eafb5(0xef)](_0x5ee460=>_0x5ee460[_0x2eafb5(0x333)])),_0x463501=[],_0x2b1940=[];for(let _0x5add11 of _0x2ee737){if(!_0x5add11['_id'])continue;_0x5add11[_0x2eafb5(0x333)]=this[_0x2eafb5(0x1c3)](_0x5add11['_id']);let _0x47fdcb=await this[_0x2eafb5(0x15c)][_0x2eafb5(0x755)][_0x2eafb5(0x5d9)]({'where':{'_id':_0x5add11[_0x2eafb5(0x333)]}},this[_0x2eafb5(0x74f)][_0x2eafb5(0x370)]),_0xd57abf={};if(Object[_0x2eafb5(0x65c)](_0x5add11[_0x2eafb5(0x140)])[_0x2eafb5(0x537)](([_0xb57071,_0x28088c])=>{_0xd57abf['leadInfo.'+_0xb57071]=_0x28088c;}),_0x47fdcb&&!_0x47fdcb[_0x2eafb5(0x3fb)]){let _0x4340db=(_0x5add11[_0x2eafb5(0x140)][_0x2eafb5(0x1c5)]||[])['filter'](_0x50d1f0=>_0x24cde1['has'](_0x50d1f0)),_0x21004d=new Set(_0x47fdcb['leadInfo']['etiquetas']||[]),_0x140040=_0x4340db[_0x2eafb5(0x2f3)](_0x179c94=>!_0x21004d['has'](_0x179c94)),_0x69f0e4=[..._0x21004d][_0x2eafb5(0x2f3)](_0x31e291=>!_0x4340db[_0x2eafb5(0x278)](_0x31e291));_0x2b1940['push'](..._0x140040[_0x2eafb5(0xef)](_0x28becd=>this['AddChatLabel'](_0x28becd,_0x5add11[_0x2eafb5(0x333)]))),_0x2b1940[_0x2eafb5(0x627)](..._0x69f0e4['map'](_0x1c9eee=>this['RemoveChatLabel'](_0x1c9eee,_0x5add11[_0x2eafb5(0x333)]))),_0x5add11[_0x2eafb5(0x140)][_0x2eafb5(0x1c5)]=_0x4340db,_0x463501[_0x2eafb5(0x627)]({'query':{'where':{'_id':_0x5add11[_0x2eafb5(0x333)],'owner':this[_0x2eafb5(0x74f)][_0x2eafb5(0x370)]}},'update':_0xd57abf});}else _0xd57abf[_0x2eafb5(0x3fb)]=!0x0,_0x463501[_0x2eafb5(0x627)]({'query':{'where':{'_id':_0x5add11[_0x2eafb5(0x333)],'owner':this['instance'][_0x2eafb5(0x370)]}},'update':_0xd57abf});}let _0x46c23f=await this[_0x2eafb5(0x15c)][_0x2eafb5(0x755)][_0x2eafb5(0x469)](_0x463501);return await Promise['all'](_0x2b1940),{'updated':_0x46c23f};}catch(_0x3e7f51){let _0x497a53='Erro\x20ao\x20importar\x20chats',_0x18a690=_0x3e7f51 instanceof Error?_0x3e7f51[_0x2eafb5(0x573)]:typeof _0x3e7f51==_0x2eafb5(0x300)?JSON[_0x2eafb5(0x194)](_0x3e7f51):_0x3e7f51,_0x50a6bc=_0x497a53+':\x20'+_0x18a690;throw this['logger'][_0x2eafb5(0x45f)](this[_0x2eafb5(0x1fd)]+'\x20('+this['instance'][_0x2eafb5(0x370)]+_0x2eafb5(0x368)+_0x50a6bc),new m(_0x50a6bc);}}async[a0_0x15841b(0xe6)](){const _0x4c2ed7=a0_0x15841b;return await this[_0x4c2ed7(0x34c)][_0x4c2ed7(0xe6)]();}async[a0_0x15841b(0x445)](_0x4dffaa){const _0x47f698=a0_0x15841b;try{return await this[_0x47f698(0x34c)][_0x47f698(0x28e)](_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x4a3)]),await this['client'][_0x47f698(0x494)](_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x203)]),await this[_0x47f698(0x34c)][_0x47f698(0x37b)](_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x633)]),await this[_0x47f698(0x34c)]['updateOnlinePrivacy'](_0x4dffaa['privacySettings'][_0x47f698(0x6ed)]),await this['client'][_0x47f698(0x18f)](_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x1d9)]),await this[_0x47f698(0x34c)]['updateGroupsAddPrivacy'](_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x51a)]),this[_0x47f698(0x34c)]?.['ws']?.[_0x47f698(0x50b)](),{'update':_0x47f698(0x236),'data':{'readreceipts':_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x4a3)],'profile':_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x203)],'status':_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x633)],'online':_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x6ed)],'last':_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x1d9)],'groupadd':_0x4dffaa[_0x47f698(0x5bb)][_0x47f698(0x51a)]}};}catch(_0x43ca8c){let _0x223840=_0x47f698(0x2e9),_0x5c7412=_0x43ca8c instanceof Error?_0x43ca8c[_0x47f698(0x573)]:typeof _0x43ca8c==_0x47f698(0x300)?JSON[_0x47f698(0x194)](_0x43ca8c):_0x43ca8c,_0x5f18ce=_0x223840+':\x20'+_0x5c7412;throw this[_0x47f698(0x781)][_0x47f698(0x45f)](this[_0x47f698(0x1fd)]+'\x20('+this[_0x47f698(0x74f)][_0x47f698(0x370)]+'):\x20'+_0x5f18ce),new m(_0x5f18ce);}}async[a0_0x15841b(0x242)](_0x80a298){const _0x1116fe=a0_0x15841b;let _0x3d3b41=(_0x80a298?this[_0x1116fe(0x1c3)](_0x80a298):this['client']?.[_0x1116fe(0x17e)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x1116fe(0x781)]['verbose'](_0x1116fe(0x4d2)+_0x3d3b41);let _0x16d591=await this['repository'][_0x1116fe(0x5b8)][_0x1116fe(0x5d9)]({'where':{'_id':_0x3d3b41}},this[_0x1116fe(0x74f)][_0x1116fe(0x370)]),_0x12dbb9=_0x16d591?_0x16d591[_0x1116fe(0x2a0)]:null;try{let _0x18ade2=(await this[_0x1116fe(0x423)]({'numbers':[_0x3d3b41]}))?.['shift'](),_0xaa0ea2=(await this[_0x1116fe(0x522)](_0x3d3b41,null,!0x1))[_0x1116fe(0x571)][_0x1116fe(0xc6)],_0x50a099=await this[_0x1116fe(0x611)](_0x18ade2?.[_0x1116fe(0x425)]),_0x36a681=await this[_0x1116fe(0x492)](_0x18ade2?.[_0x1116fe(0x425)]),_0x32e8e0=(await this[_0x1116fe(0x522)](_0x3d3b41,null,!0x1))[_0x1116fe(0x571)][_0x1116fe(0x424)],_0x5784ee=await this[_0x1116fe(0x15c)]['chat'][_0x1116fe(0x5d9)]({'where':{'_id':_0x3d3b41}},this[_0x1116fe(0x74f)][_0x1116fe(0x370)]),_0x23d1c9={'imagechat':_0xaa0ea2,'contactname':_0x12dbb9||null,'pushName':_0x32e8e0,'status':_0x50a099?.[_0x1116fe(0x633)],'isBusiness':_0x36a681[_0x1116fe(0x47f)],'email':_0x36a681?.[_0x1116fe(0x5c0)],'description':_0x36a681?.['description'],'website':_0x36a681?.['website']?.[_0x1116fe(0x48e)](),'lastcache':Date[_0x1116fe(0x1db)](),'imported':!_0x5784ee},_0x1f270b=await this[_0x1116fe(0x15c)]['chat']['updateOne']({'where':{'_id':_0x3d3b41}},_0x23d1c9,this[_0x1116fe(0x74f)][_0x1116fe(0x370)]),_0x32592a={'owner':this[_0x1116fe(0x74f)][_0x1116fe(0x370)],'_id':_0x3d3b41,'profilePictureUrl':_0xaa0ea2,'status':_0x50a099?.[_0x1116fe(0x633)]};return this[_0x1116fe(0x15c)][_0x1116fe(0x5b8)][_0x1116fe(0x179)]([_0x32592a],this[_0x1116fe(0x74f)][_0x1116fe(0x370)]),_0x1f270b&&U(this[_0x1116fe(0x1fd)],_0x1116fe(0x41a),{'chat':_0x1f270b}),{'wuid':_0x18ade2?.['jid']||_0x3d3b41,'name':_0x18ade2?.[_0x1116fe(0x424)],'pushName':_0x32e8e0,'numberExists':_0x18ade2?.['exists'],'picture':_0xaa0ea2,'status':_0x50a099?.['status'],'isBusiness':_0x36a681[_0x1116fe(0x47f)],'email':_0x36a681?.[_0x1116fe(0x5c0)],'description':_0x36a681?.[_0x1116fe(0x617)],'website':_0x36a681?.[_0x1116fe(0x797)]?.[_0x1116fe(0x48e)]()};}catch(_0x49fd1c){return this[_0x1116fe(0x781)]['error'](_0x1116fe(0x5c3)+(_0x49fd1c instanceof Error?_0x49fd1c[_0x1116fe(0x573)]:JSON['stringify'](_0x49fd1c,null,0x2))),{};}}async[a0_0x15841b(0x492)](_0x54d9b3){const _0x178d08=a0_0x15841b;this[_0x178d08(0x781)][_0x178d08(0x2b5)]('Fetching\x20business\x20profile');try{let _0x136985=_0x54d9b3?this[_0x178d08(0x1c3)](_0x54d9b3):this[_0x178d08(0x74f)][_0x178d08(0x370)],_0x104a02=await this['client'][_0x178d08(0x49f)](_0x136985);return this['logger']['verbose'](_0x178d08(0x292)),_0x104a02?(this[_0x178d08(0x781)]['verbose']('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x104a02}):{'isBusiness':!0x1,'message':_0x178d08(0x43b),...(await this[_0x178d08(0x423)]({'numbers':[_0x136985]}))?.[_0x178d08(0x48e)]()};}catch(_0xe1b2c9){let _0x5125f7=_0x178d08(0x791),_0x4f7709=_0xe1b2c9 instanceof Error?_0xe1b2c9[_0x178d08(0x573)]:typeof _0xe1b2c9=='object'?JSON[_0x178d08(0x194)](_0xe1b2c9):_0xe1b2c9,_0x36ba10=_0x5125f7+':\x20'+_0x4f7709;throw this[_0x178d08(0x781)]['error'](this['instanceName']+'\x20('+this[_0x178d08(0x74f)][_0x178d08(0x370)]+_0x178d08(0x368)+_0x36ba10),new I(_0x36ba10);}}async[a0_0x15841b(0x611)](_0x1f207c){const _0x49a1d2=a0_0x15841b;let _0x2eae65=this[_0x49a1d2(0x1c3)](_0x1f207c);try{return{'wuid':_0x2eae65,'status':(await this['client'][_0x49a1d2(0x1c1)](_0x2eae65))?.[_0x49a1d2(0x633)]};}catch{return{'wuid':_0x2eae65,'status':null};}}async[a0_0x15841b(0x6e6)](_0x4ee4e3){const _0x85e0e6=a0_0x15841b;try{return await this[_0x85e0e6(0x34c)]['updateProfileName'](_0x4ee4e3),{'update':_0x85e0e6(0x236)};}catch(_0x5678cc){let _0x200f6c=_0x85e0e6(0x774),_0x5dd336=_0x5678cc instanceof Error?_0x5678cc[_0x85e0e6(0x573)]:typeof _0x5678cc=='object'?JSON[_0x85e0e6(0x194)](_0x5678cc):_0x5678cc,_0x54b64d=_0x200f6c+':\x20'+_0x5dd336;throw this[_0x85e0e6(0x781)][_0x85e0e6(0x45f)](this['instanceName']+'\x20('+this['instance'][_0x85e0e6(0x370)]+_0x85e0e6(0x368)+_0x54b64d),new I(_0x54b64d);}}async[a0_0x15841b(0x6ae)](_0x319a59){const _0x4ffaa0=a0_0x15841b;try{return await this[_0x4ffaa0(0x34c)][_0x4ffaa0(0x6ae)](_0x319a59),{'update':_0x4ffaa0(0x236)};}catch(_0x2c924c){let _0x2892a0=_0x4ffaa0(0x458),_0x4fa564=_0x2c924c instanceof Error?_0x2c924c['message']:typeof _0x2c924c==_0x4ffaa0(0x300)?JSON[_0x4ffaa0(0x194)](_0x2c924c):_0x2c924c,_0x964891=_0x2892a0+':\x20'+_0x4fa564;throw this['logger'][_0x4ffaa0(0x45f)](this[_0x4ffaa0(0x1fd)]+'\x20('+this['instance'][_0x4ffaa0(0x370)]+_0x4ffaa0(0x368)+_0x964891),new I(_0x964891);}}async['updateProfilePicture'](_0x567bf0){const _0xfcd822=a0_0x15841b;try{let _0x58ba1f;if((0x0,P[_0xfcd822(0x787)])(_0x567bf0)){let _0x27871c=new Date()[_0xfcd822(0x23b)](),_0x2b8de4=_0x567bf0+_0xfcd822(0x557)+_0x27871c;_0x58ba1f=(await K['default'][_0xfcd822(0x3cb)](_0x2b8de4,{'responseType':_0xfcd822(0x4d5)}))[_0xfcd822(0x3a1)];}else{if((0x0,P[_0xfcd822(0x276)])(_0x567bf0))_0x58ba1f=Buffer[_0xfcd822(0x673)](_0x567bf0,_0xfcd822(0x1c7));else throw new m(_0xfcd822(0x6d9));}return await this[_0xfcd822(0x34c)]['updateProfilePicture'](this[_0xfcd822(0x74f)]['wuid'],_0x58ba1f),{'update':_0xfcd822(0x236)};}catch(_0x579c56){let _0x4ee434='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x51cbb7=_0x579c56 instanceof Error?_0x579c56['message']:typeof _0x579c56=='object'?JSON[_0xfcd822(0x194)](_0x579c56):_0x579c56,_0xb4c462=_0x4ee434+':\x20'+_0x51cbb7;throw this['logger'][_0xfcd822(0x45f)](this['instanceName']+'\x20('+this[_0xfcd822(0x74f)]['wuid']+'):\x20'+_0xb4c462),new I(_0xb4c462);}}async[a0_0x15841b(0x18b)](){const _0x30d1a3=a0_0x15841b;try{return await this['client'][_0x30d1a3(0x18b)](this[_0x30d1a3(0x74f)][_0x30d1a3(0x370)]),{'update':'success'};}catch(_0x233f79){let _0x344457='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x37b300=_0x233f79 instanceof Error?_0x233f79['message']:typeof _0x233f79=='object'?JSON[_0x30d1a3(0x194)](_0x233f79):_0x233f79,_0x45bbeb=_0x344457+':\x20'+_0x37b300;throw this[_0x30d1a3(0x781)][_0x30d1a3(0x45f)](this['instanceName']+'\x20('+this[_0x30d1a3(0x74f)][_0x30d1a3(0x370)]+_0x30d1a3(0x368)+_0x45bbeb),new I(_0x45bbeb);}}async[a0_0x15841b(0x1e0)](_0x5b9418){const _0x460235=a0_0x15841b;try{let _0x216b2d=(await this['whatsappNumber']({'numbers':_0x5b9418[_0x460235(0x3bc)]}))[_0x460235(0x2f3)](_0x282494=>_0x282494[_0x460235(0x67a)])['map'](_0xedf72d=>_0xedf72d['jid']),{id:_0x416281}=await this['client'][_0x460235(0x2c3)](_0x5b9418[_0x460235(0x35c)],_0x216b2d);_0x5b9418?.[_0x460235(0x617)]&&await this[_0x460235(0x34c)]['groupUpdateDescription'](_0x416281,_0x5b9418[_0x460235(0x617)]);let _0x4862a6=await this[_0x460235(0x34c)][_0x460235(0x74b)](_0x416281);return _0x4862a6['awaitingApproval']=[],{'metadata':_0x4862a6};}catch(_0x147e13){let _0x160fde=_0x460235(0x623),_0x1c69e9=_0x147e13 instanceof Error?_0x147e13[_0x460235(0x573)]:typeof _0x147e13==_0x460235(0x300)?JSON[_0x460235(0x194)](_0x147e13):_0x147e13,_0x5a912c=_0x160fde+':\x20'+_0x1c69e9;throw this[_0x460235(0x781)][_0x460235(0x45f)](this[_0x460235(0x1fd)]+'\x20('+this['instance']['wuid']+_0x460235(0x368)+_0x5a912c),new I(_0x5a912c);}}async[a0_0x15841b(0x23d)](_0xebead8){const _0x6fc432=a0_0x15841b;try{let _0xf74bfe;if((0x0,P[_0x6fc432(0x787)])(_0xebead8[_0x6fc432(0x5e7)])){let _0x5a396c=new Date()[_0x6fc432(0x23b)](),_0x4fa53a=_0xebead8[_0x6fc432(0x5e7)]+_0x6fc432(0x557)+_0x5a396c;_0xf74bfe=(await K[_0x6fc432(0x4b6)][_0x6fc432(0x3cb)](_0x4fa53a,{'responseType':_0x6fc432(0x4d5)}))[_0x6fc432(0x3a1)];}else{if((0x0,P['isBase64'])(_0xebead8['image']))_0xf74bfe=Buffer['from'](_0xebead8[_0x6fc432(0x5e7)],_0x6fc432(0x1c7));else throw new m(_0x6fc432(0x6d9));}return await this[_0x6fc432(0x34c)][_0x6fc432(0x541)](_0xebead8['groupJid'],_0xf74bfe),{'update':_0x6fc432(0x236)};}catch(_0x3fd36d){let _0x23bf45=_0x6fc432(0x1a5),_0xf9095a=_0x3fd36d instanceof Error?_0x3fd36d['message']:typeof _0x3fd36d==_0x6fc432(0x300)?JSON[_0x6fc432(0x194)](_0x3fd36d):_0x3fd36d,_0x1d431b=_0x23bf45+':\x20'+_0xf9095a;throw this[_0x6fc432(0x781)]['error'](this[_0x6fc432(0x1fd)]+'\x20('+this[_0x6fc432(0x74f)][_0x6fc432(0x370)]+_0x6fc432(0x368)+_0x1d431b),new I(_0x1d431b);}}async[a0_0x15841b(0x5cd)](_0x4f04da){const _0xd4d438=a0_0x15841b;try{if(_0x4f04da['restrict']===!0x0&&await this[_0xd4d438(0x34c)][_0xd4d438(0x540)](_0x4f04da[_0xd4d438(0x569)],_0xd4d438(0x193)),_0x4f04da['restrict']===!0x1&&await this[_0xd4d438(0x34c)][_0xd4d438(0x540)](_0x4f04da['groupJid'],_0xd4d438(0x2f7)),_0x4f04da[_0xd4d438(0x3bb)]===!0x0&&await this[_0xd4d438(0x34c)][_0xd4d438(0x540)](_0x4f04da[_0xd4d438(0x569)],_0xd4d438(0x291)),_0x4f04da[_0xd4d438(0x3bb)]===!0x1&&await this[_0xd4d438(0x34c)][_0xd4d438(0x540)](_0x4f04da[_0xd4d438(0x569)],_0xd4d438(0x4a0)),_0x4f04da['memberAddMode']===!0x0&&await this['client'][_0xd4d438(0x31c)](_0x4f04da[_0xd4d438(0x569)],'all_member_add'),_0x4f04da[_0xd4d438(0x597)]===!0x1&&await this[_0xd4d438(0x34c)][_0xd4d438(0x31c)](_0x4f04da[_0xd4d438(0x569)],_0xd4d438(0x3d9)),_0x4f04da[_0xd4d438(0x5ca)]===!0x0&&await this[_0xd4d438(0x34c)]['groupJoinApprovalMode'](_0x4f04da['groupJid'],'on'),_0x4f04da['joinApprovalMode']===!0x1&&await this['client']['groupJoinApprovalMode'](_0x4f04da[_0xd4d438(0x569)],_0xd4d438(0x4be)),typeof _0x4f04da['expiration']<'u'&&_0x4f04da['expiration']!==null&&await this['client'][_0xd4d438(0x548)](_0x4f04da[_0xd4d438(0x569)],_0x4f04da[_0xd4d438(0x345)]),_0x4f04da[_0xd4d438(0x424)]&&await this[_0xd4d438(0x34c)]['groupUpdateSubject'](_0x4f04da['groupJid'],_0x4f04da['name']),_0x4f04da[_0xd4d438(0x617)]&&await this[_0xd4d438(0x34c)][_0xd4d438(0x433)](_0x4f04da[_0xd4d438(0x569)],_0x4f04da['description']),_0x4f04da['image']){let _0x409ee6;if((0x0,P['isURL'])(_0x4f04da[_0xd4d438(0x5e7)])){let _0x551b79=new Date()[_0xd4d438(0x23b)](),_0x3eb9a0=_0x4f04da[_0xd4d438(0x5e7)]+_0xd4d438(0x557)+_0x551b79;_0x409ee6=(await K[_0xd4d438(0x4b6)][_0xd4d438(0x3cb)](_0x3eb9a0,{'responseType':'arraybuffer'}))[_0xd4d438(0x3a1)];}else{if((0x0,P[_0xd4d438(0x276)])(_0x4f04da[_0xd4d438(0x5e7)]))_0x409ee6=Buffer[_0xd4d438(0x673)](_0x4f04da[_0xd4d438(0x5e7)],_0xd4d438(0x1c7));else throw new m(_0xd4d438(0x6d9));}await this[_0xd4d438(0x34c)][_0xd4d438(0x541)](_0x4f04da[_0xd4d438(0x569)],_0x409ee6);}return await this[_0xd4d438(0xe1)]({'groupJid':_0x4f04da[_0xd4d438(0x569)]});}catch(_0x35e48c){let _0x5ed7fb=_0xd4d438(0x54f),_0x5e4d4c=_0x35e48c instanceof Error?_0x35e48c[_0xd4d438(0x573)]:typeof _0x35e48c==_0xd4d438(0x300)?JSON[_0xd4d438(0x194)](_0x35e48c):_0x35e48c,_0xf40a9a=_0x5ed7fb+':\x20'+_0x5e4d4c;throw this[_0xd4d438(0x781)][_0xd4d438(0x45f)](this[_0xd4d438(0x1fd)]+'\x20('+this['instance'][_0xd4d438(0x370)]+'):\x20'+_0xf40a9a),new I(_0xf40a9a);}}async[a0_0x15841b(0x26d)](_0xe8dce9){const _0x1c7eb7=a0_0x15841b;try{if(_0xe8dce9[_0x1c7eb7(0x40e)]===_0x1c7eb7(0x578)||_0xe8dce9[_0x1c7eb7(0x40e)]===_0x1c7eb7(0x545)){let _0x29417b=_0xe8dce9[_0x1c7eb7(0x3bc)][_0x1c7eb7(0xef)](_0x22f496=>this[_0x1c7eb7(0x1c3)](_0x22f496));await this[_0x1c7eb7(0x34c)][_0x1c7eb7(0x280)](_0xe8dce9['groupJid'],_0x29417b,_0xe8dce9[_0x1c7eb7(0x40e)]);}else{if(_0xe8dce9['action']===_0x1c7eb7(0x720)){let _0xf3994f=(await this[_0x1c7eb7(0x423)]({'numbers':_0xe8dce9[_0x1c7eb7(0x3bc)]}))[_0x1c7eb7(0x2f3)](_0x2a530d=>_0x2a530d[_0x1c7eb7(0x67a)])[_0x1c7eb7(0xef)](_0x251511=>this[_0x1c7eb7(0x1c3)](_0x251511[_0x1c7eb7(0x425)]));if(_0xf3994f[_0x1c7eb7(0x561)]===0x0)throw new m(_0x1c7eb7(0x3f5));await this['client'][_0x1c7eb7(0x45e)](_0xe8dce9[_0x1c7eb7(0x569)],_0xf3994f,_0x1c7eb7(0x720));}else{let _0x5b72cb=_0xe8dce9[_0x1c7eb7(0x3bc)][_0x1c7eb7(0xef)](_0x40af7e=>this['createJid'](_0x40af7e));await this[_0x1c7eb7(0x34c)][_0x1c7eb7(0x45e)](_0xe8dce9['groupJid'],_0x5b72cb,_0xe8dce9[_0x1c7eb7(0x40e)]);}}return await this[_0x1c7eb7(0xe1)]({'groupJid':_0xe8dce9[_0x1c7eb7(0x569)]});}catch(_0x3a3701){let _0x1a869f=_0x1c7eb7(0x6c0),_0x520e4d=_0x3a3701 instanceof Error?_0x3a3701['message']:typeof _0x3a3701=='object'?JSON['stringify'](_0x3a3701):_0x3a3701,_0x30b99b=_0x1a869f+':\x20'+_0x520e4d;throw this[_0x1c7eb7(0x781)][_0x1c7eb7(0x45f)](this['instanceName']+'\x20('+this['instance'][_0x1c7eb7(0x370)]+'):\x20'+_0x30b99b),new m(_0x30b99b);}}async[a0_0x15841b(0x2f1)](_0x8edd7a){const _0x4d24d4=a0_0x15841b;try{return await this[_0x4d24d4(0x34c)]['groupGetInviteInfo'](_0x8edd7a[_0x4d24d4(0x2fe)]);}catch(_0x4705e7){let _0x1382d4=_0x4d24d4(0x62b),_0x460e52=_0x4705e7 instanceof Error?_0x4705e7[_0x4d24d4(0x573)]:typeof _0x4705e7==_0x4d24d4(0x300)?JSON['stringify'](_0x4705e7):_0x4705e7,_0x4bc15c=_0x1382d4+':\x20'+_0x460e52;throw this[_0x4d24d4(0x781)][_0x4d24d4(0x45f)](this[_0x4d24d4(0x1fd)]+'\x20('+this['instance'][_0x4d24d4(0x370)]+_0x4d24d4(0x368)+_0x4bc15c),new m(_0x4bc15c);}}async[a0_0x15841b(0xe1)](_0x1bad14,_0x27f5c6='out'){const _0x35cd45=a0_0x15841b;try{let _0x3ee5af=await this[_0x35cd45(0x15c)][_0x35cd45(0x755)][_0x35cd45(0x5d9)]({'where':{'_id':_0x1bad14['groupJid']}},this[_0x35cd45(0x74f)][_0x35cd45(0x370)]),_0x52f23e=_0x3ee5af?_0x3ee5af[_0x35cd45(0x28d)]:null,_0x411874=0x18*0x3c*0x3c*0x3e8;if(!_0x52f23e||_0x52f23e['lastUpdate']&&Date['now']()-_0x52f23e[_0x35cd45(0x54c)]>_0x411874){let _0x172027=await this[_0x35cd45(0x34c)][_0x35cd45(0x74b)](_0x1bad14[_0x35cd45(0x569)]);if(_0x172027[_0x35cd45(0x105)]=_0x172027?.[_0x35cd45(0x105)]&&_0x172027['subjectTime'][_0x35cd45(0x6ca)]()['length']<0xd?_0x172027?.['subjectTime']*0x3e8:_0x172027?.['subjectTime']||null,_0x172027[_0x35cd45(0x18c)]=_0x172027?.[_0x35cd45(0x18c)]&&_0x172027['creation']['toString']()[_0x35cd45(0x561)]<0xd?_0x172027?.[_0x35cd45(0x18c)]*0x3e8:_0x172027?.[_0x35cd45(0x18c)]||null,_0x52f23e={..._0x172027,'lastUpdate':Date['now']()},!_0x172027)return;}let _0x2a771d=_0x52f23e['participants'][_0x35cd45(0x45a)](_0x531432=>_0x531432['id']===this['instance'][_0x35cd45(0x370)]+_0x35cd45(0x205)&&_0x531432[_0x35cd45(0x629)]!=null);!_0x52f23e['inviteCode']&&_0x2a771d&&(_0x52f23e[_0x35cd45(0x2fe)]=(await this[_0x35cd45(0x2fe)](_0x1bad14,!0x1))[_0x35cd45(0x391)]);let _0x2c77fb=(!_0x52f23e[_0x35cd45(0x3bb)]||_0x2a771d)&&(!_0x52f23e[_0x35cd45(0x17d)]||_0x52f23e[_0x35cd45(0x17d)]&&_0x52f23e['isCommunityAnnounce']&&_0x2a771d);_0x52f23e[_0x35cd45(0x100)]=_0x2a771d,_0x52f23e[_0x35cd45(0x142)]=_0x2c77fb;let _0x26ecfc=[];if(_0x2a771d&&_0x52f23e[_0x35cd45(0x5ca)])try{_0x26ecfc=await this['client']['groupRequestParticipantsList'](_0x1bad14['groupJid']),_0x52f23e['lastFetchAwaitingApproval']=Date[_0x35cd45(0x1db)]();}catch(_0x353378){this[_0x35cd45(0x781)][_0x35cd45(0x2b5)](this[_0x35cd45(0x1fd)]+'\x20('+this[_0x35cd45(0x74f)][_0x35cd45(0x370)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x1bad14[_0x35cd45(0x569)]+':\x20'+(_0x353378 instanceof Error?_0x353378[_0x35cd45(0x573)]:JSON[_0x35cd45(0x194)](_0x353378,null,0x2)));}try{_0x52f23e[_0x35cd45(0x5e7)]=(await this[_0x35cd45(0x522)](_0x1bad14[_0x35cd45(0x569)],null,!0x0))[_0x35cd45(0x571)][_0x35cd45(0xc6)];}catch(_0x2a9ccd){this[_0x35cd45(0x781)][_0x35cd45(0x2b5)](this[_0x35cd45(0x1fd)]+'\x20('+this[_0x35cd45(0x74f)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x1bad14[_0x35cd45(0x569)]+':\x20'+(_0x2a9ccd instanceof Error?_0x2a9ccd['message']:JSON[_0x35cd45(0x194)](_0x2a9ccd,null,0x2)));}let _0x4f45d0=_0x52f23e[_0x35cd45(0x3bc)]['map'](_0x3ec378=>_0x3ec378['id']),_0xfd64f8=_0x26ecfc[_0x35cd45(0xef)](_0x59dc6f=>_0x59dc6f[_0x35cd45(0x425)]),_0x443dac=await this['repository'][_0x35cd45(0x4ba)][_0x35cd45(0x408)]([..._0x4f45d0,..._0xfd64f8]);_0x52f23e['participants']=_0x52f23e['participants'][_0x35cd45(0xef)](_0x58cea5=>{const _0x9e2ffd=_0x35cd45;let _0x159bd0=_0x443dac[_0x9e2ffd(0x76f)](_0x391349=>_0x391349[_0x9e2ffd(0x333)]===_0x58cea5['id']);return{'id':_0x58cea5['id'],'isAdmin':['admin','superadmin'][_0x9e2ffd(0x278)](_0x58cea5['admin']),'admin':_0x58cea5[_0x9e2ffd(0x629)],'pushName':_0x159bd0?.[_0x9e2ffd(0x424)],'profilePictureUrl':_0x159bd0?.[_0x9e2ffd(0xc6)]};}),_0x52f23e[_0x35cd45(0xe0)]=_0x26ecfc['map'](_0x5b5b0c=>{const _0x3428f0=_0x35cd45;let _0x5b4e59=_0x443dac['find'](_0xa8c145=>_0xa8c145[_0x3428f0(0x333)]===_0x5b5b0c[_0x3428f0(0x425)]);return{'id':_0x5b5b0c[_0x3428f0(0x425)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x5b4e59?.['name'],'profilePictureUrl':_0x5b4e59?.['pictureUrl'],'request_method':_0x5b5b0c[_0x3428f0(0x297)],'request_time':_0x5b5b0c[_0x3428f0(0x555)]};});let _0x3db03a=await this['repository']['chat'][_0x35cd45(0x13c)]({'where':{'_id':_0x1bad14[_0x35cd45(0x569)]}},{'imagechat':_0x52f23e[_0x35cd45(0x5e7)],'name':_0x52f23e[_0x35cd45(0x35c)],'lastcache':Date[_0x35cd45(0x1db)](),'groupdata':_0x52f23e},this[_0x35cd45(0x74f)][_0x35cd45(0x370)]);return U(this[_0x35cd45(0x1fd)],_0x35cd45(0x41a),{'chat':_0x3db03a}),{'metadata':_0x52f23e};}catch(_0x4ffc59){if(_0x27f5c6===_0x35cd45(0x11e))return;throw new J(_0x35cd45(0x725),_0x4ffc59[_0x35cd45(0x573)][_0x35cd45(0x6ca)]());}}async[a0_0x15841b(0x198)](){const _0x4cba04=a0_0x15841b;try{let _0xb11a94=[],_0x4fd243=await this[_0x4cba04(0x34c)]['groupFetchAllParticipating'](),_0x216d79=Object['values'](_0x4fd243),_0x164063=_0x216d79['filter'](_0x49fddd=>(0x0,f[_0x4cba04(0x283)])(_0x49fddd?.['id']))[_0x4cba04(0xef)](async _0x4d5c5f=>{const _0x28aeb4=_0x4cba04;try{return await this[_0x28aeb4(0x34c)][_0x28aeb4(0x506)](_0x4d5c5f['id'],_0x28aeb4(0x332));}catch(_0x4c2e09){return this['logger'][_0x28aeb4(0x2b5)](this[_0x28aeb4(0x1fd)]+'\x20('+this[_0x28aeb4(0x74f)][_0x28aeb4(0x370)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x4d5c5f['id']+':\x20'+(_0x4c2e09 instanceof Error?_0x4c2e09[_0x28aeb4(0x573)]:JSON[_0x28aeb4(0x194)](_0x4c2e09,null,0x2))),null;}}),_0x1acf2d=await Promise['all'](_0x164063);for(let _0x475e56=0x0;_0x475e56<_0x216d79[_0x4cba04(0x561)];_0x475e56++){let _0x806fc9=_0x216d79[_0x475e56];(0x0,f['isJidGroup'])(_0x806fc9?.['id'])&&(_0xb11a94[_0x4cba04(0x627)]({'groupJid':_0x806fc9?.['id'],'subject':_0x806fc9?.[_0x4cba04(0x35c)],'subjectOwner':_0x806fc9?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x806fc9?.[_0x4cba04(0x105)],'creation':_0x806fc9?.[_0x4cba04(0x18c)],'size':_0x806fc9?.[_0x4cba04(0x3bc)]?.[_0x4cba04(0x561)],'owner':_0x806fc9?.[_0x4cba04(0x4e4)]?.[_0x4cba04(0x69d)]('@')[0x0],'desc':_0x806fc9?.[_0x4cba04(0x113)],'restrict':_0x806fc9?.[_0x4cba04(0x349)],'announce':_0x806fc9?.['announce'],'image':_0x1acf2d[_0x475e56],'isCommunity':_0x806fc9?.[_0x4cba04(0x17d)],'joinApprovalMode':_0x806fc9?.[_0x4cba04(0x5ca)],'memberCanAddParticipant':_0x806fc9?.[_0x4cba04(0x597)],'participants':_0x806fc9?.[_0x4cba04(0x3bc)],'descOwner':_0x806fc9?.[_0x4cba04(0x789)],'descId':_0x806fc9?.['descId'],'memberAddMode':_0x806fc9?.[_0x4cba04(0x597)],'isCommunityAnnounce':_0x806fc9?.[_0x4cba04(0x38c)],'ephemeralDuration':_0x806fc9?.['ephemeralDuration']||0x0,'author':_0x806fc9?.[_0x4cba04(0x5d1)]}),this[_0x4cba04(0x3cd)](_0x216d79[_0x475e56]));}return _0xb11a94;}catch(_0x4c7612){let _0x1186de='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x12d05e=_0x4c7612 instanceof Error?_0x4c7612['message']:typeof _0x4c7612=='object'?JSON[_0x4cba04(0x194)](_0x4c7612):_0x4c7612,_0x30dd1d=_0x1186de+':\x20'+_0x12d05e;throw this[_0x4cba04(0x781)][_0x4cba04(0x45f)](this[_0x4cba04(0x1fd)]+'\x20('+this[_0x4cba04(0x74f)][_0x4cba04(0x370)]+'):\x20'+_0x30dd1d),new J(_0x30dd1d);}}async[a0_0x15841b(0x3cd)](_0x5039b3){const _0x2880e3=a0_0x15841b;let _0x48f369=await this[_0x2880e3(0x15c)]['chat'][_0x2880e3(0x5d9)]({'where':{'_id':_0x5039b3['id']}},this[_0x2880e3(0x74f)][_0x2880e3(0x370)]);_0x5039b3[_0x2880e3(0x105)]=_0x5039b3?.['subjectTime']&&_0x5039b3['subjectTime']['toString']()[_0x2880e3(0x561)]<0xd?_0x5039b3?.[_0x2880e3(0x105)]*0x3e8:_0x5039b3?.[_0x2880e3(0x105)]||null,_0x5039b3[_0x2880e3(0x18c)]=_0x5039b3?.['creation']&&_0x5039b3[_0x2880e3(0x18c)][_0x2880e3(0x6ca)]()['length']<0xd?_0x5039b3?.['creation']*0x3e8:_0x5039b3?.['creation']||null;let _0x478377=_0x48f369?.['groupdata']?.[_0x2880e3(0xe0)]||[],_0x5cd05b=_0x48f369?.[_0x2880e3(0x28d)]?.[_0x2880e3(0x50f)],_0x48de91=_0x5039b3[_0x2880e3(0x3bc)][_0x2880e3(0xef)](_0x2c78b3=>{const _0x97ac7a=_0x2880e3;let _0x5feb51=_0x48f369?.[_0x97ac7a(0x28d)]?.[_0x97ac7a(0x3bc)][_0x97ac7a(0x76f)](_0x3cc65b=>_0x3cc65b['id']===_0x2c78b3['id']);return{..._0x2c78b3,'isAdmin':[_0x97ac7a(0x629),_0x97ac7a(0x748)][_0x97ac7a(0x278)](_0x2c78b3[_0x97ac7a(0x629)]),'admin':_0x2c78b3[_0x97ac7a(0x629)],'name':_0x5feb51?.[_0x97ac7a(0x424)]||_0x2c78b3[_0x97ac7a(0x424)],'imgUrl':_0x5feb51?.[_0x97ac7a(0x50d)]||_0x2c78b3['imgUrl']};}),_0x463231=_0x48de91[_0x2880e3(0x45a)](_0x32529e=>_0x32529e['id']===this['instance'][_0x2880e3(0x370)]+_0x2880e3(0x205)&&_0x32529e[_0x2880e3(0x100)]),_0x482fea=(!_0x5039b3[_0x2880e3(0x3bb)]||_0x463231)&&(!_0x5039b3['isCommunity']||_0x5039b3[_0x2880e3(0x17d)]&&_0x5039b3[_0x2880e3(0x38c)]&&_0x463231),_0x6930e8={..._0x5039b3,'participants':_0x48de91,'awaitingApproval':_0x478377,'lastFetchAwaitingApproval':_0x5cd05b,'isAdmin':_0x463231,'canSendMessage':_0x482fea,'lastUpdate':Date[_0x2880e3(0x1db)]()};await this[_0x2880e3(0x15c)][_0x2880e3(0x755)][_0x2880e3(0x13c)]({'where':{'_id':_0x5039b3['id']}},{'name':_0x5039b3[_0x2880e3(0x35c)],'group':!0x0,'groupdata':_0x6930e8,'lastcache':Date[_0x2880e3(0x1db)]()},this['instance'][_0x2880e3(0x370)]),U(this['instanceName'],'chats',{'chat':_0x5039b3});}async[a0_0x15841b(0x377)](_0x1e2aaf){const _0x278dc2=a0_0x15841b;let _0x3735de=await this['repository'][_0x278dc2(0x755)]['findOne']({'where':{'_id':_0x1e2aaf['id']}},this[_0x278dc2(0x74f)]['wuid']);_0x1e2aaf[_0x278dc2(0x105)]=_0x1e2aaf?.['subjectTime']&&_0x1e2aaf[_0x278dc2(0x105)][_0x278dc2(0x6ca)]()[_0x278dc2(0x561)]<0xd?_0x1e2aaf?.[_0x278dc2(0x105)]*0x3e8:_0x1e2aaf?.[_0x278dc2(0x105)]||null,_0x1e2aaf[_0x278dc2(0x18c)]=_0x1e2aaf?.[_0x278dc2(0x18c)]&&_0x1e2aaf[_0x278dc2(0x18c)][_0x278dc2(0x6ca)]()[_0x278dc2(0x561)]<0xd?_0x1e2aaf?.['creation']*0x3e8:_0x1e2aaf?.['creation']||null,_0x1e2aaf[_0x278dc2(0x2fe)]&&(_0x1e2aaf[_0x278dc2(0x2fe)]=_0x278dc2(0x72e)+_0x1e2aaf['inviteCode']);let _0x40ce33=_0x3735de?.[_0x278dc2(0x28d)]?{..._0x3735de[_0x278dc2(0x28d)]}:{};Object[_0x278dc2(0x479)](_0x1e2aaf)[_0x278dc2(0x537)](_0x31fcf2=>{_0x31fcf2!=='id'&&(_0x40ce33[_0x31fcf2]=_0x1e2aaf[_0x31fcf2]);});let _0x545c6f=_0x40ce33[_0x278dc2(0x3bc)]?.[_0x278dc2(0x45a)](_0x4de345=>_0x4de345['id']===this[_0x278dc2(0x74f)][_0x278dc2(0x370)]+_0x278dc2(0x205)&&_0x4de345[_0x278dc2(0x100)])||!0x1;_0x40ce33[_0x278dc2(0x100)]=_0x545c6f;let _0x748278=(!_0x40ce33[_0x278dc2(0x3bb)]||_0x545c6f)&&(!_0x40ce33[_0x278dc2(0x17d)]||_0x40ce33['isCommunity']&&_0x40ce33['isCommunityAnnounce']&&_0x545c6f);_0x40ce33[_0x278dc2(0x142)]=_0x748278;let _0xb99630={'group':!0x0,'groupdata':_0x40ce33};_0x1e2aaf['subject']&&(_0xb99630[_0x278dc2(0x424)]=_0x1e2aaf['subject']),await this[_0x278dc2(0x15c)]['chat'][_0x278dc2(0x13c)]({'where':{'_id':_0x1e2aaf['id']}},_0xb99630,this[_0x278dc2(0x74f)]['wuid'],{'upsert':!0x0}),U(this[_0x278dc2(0x1fd)],_0x278dc2(0x41a),{'chat':_0xb99630});}async['updateGroupParticipantsWebhook'](_0x343da1){const _0x70c790=a0_0x15841b;let _0xcce382=await this[_0x70c790(0x15c)][_0x70c790(0x755)][_0x70c790(0x5d9)]({'where':{'_id':_0x343da1['id']}},this[_0x70c790(0x74f)]['wuid']);if(!_0xcce382||!_0xcce382[_0x70c790(0x28d)]){this[_0x70c790(0x781)]['info'](this[_0x70c790(0x1fd)]+'\x20('+this[_0x70c790(0x74f)][_0x70c790(0x370)]+_0x70c790(0x321)+_0x343da1['id']);return;}let _0xdb7515=await this['repository'][_0x70c790(0x4ba)][_0x70c790(0x408)](_0x343da1[_0x70c790(0x3bc)]),_0x17cdcf=[..._0xcce382['groupdata']?.[_0x70c790(0x3bc)]];switch(_0x343da1[_0x70c790(0x40e)]){case'add':let _0x57e9f0=_0xdb7515[_0x70c790(0xef)](_0x324f8b=>({'id':_0x324f8b[_0x70c790(0x333)],'isAdmin':!0x1,'name':_0x324f8b[_0x70c790(0x424)],'imgUrl':_0x324f8b[_0x70c790(0xc6)]}));_0x17cdcf=[..._0x17cdcf,..._0x57e9f0];break;case _0x70c790(0x75d):_0x17cdcf=_0x17cdcf['filter'](_0x1bfcd5=>!_0x343da1['participants'][_0x70c790(0x278)](_0x1bfcd5['id']));break;case _0x70c790(0x740):case'demote':_0x17cdcf=_0x17cdcf['map'](_0x3a49c5=>_0x343da1[_0x70c790(0x3bc)][_0x70c790(0x278)](_0x3a49c5['id'])?{..._0x3a49c5,'isAdmin':_0x343da1['action']===_0x70c790(0x740)}:_0x3a49c5);break;}let _0x1d37d1=_0x17cdcf[_0x70c790(0x561)],_0x2b62b8=_0x17cdcf['some'](_0x3b4ba6=>_0x3b4ba6['id']===this[_0x70c790(0x74f)][_0x70c790(0x370)]+_0x70c790(0x205)),_0x3d56af=_0x2b62b8&&_0x17cdcf[_0x70c790(0x45a)](_0x20f9c4=>_0x20f9c4['id']===this[_0x70c790(0x74f)][_0x70c790(0x370)]+_0x70c790(0x205)&&_0x20f9c4[_0x70c790(0x100)]),_0x20c9d7=_0x2b62b8&&(!_0xcce382[_0x70c790(0x28d)][_0x70c790(0x3bb)]||_0x3d56af)&&(!_0xcce382['groupdata'][_0x70c790(0x17d)]||_0xcce382[_0x70c790(0x28d)][_0x70c790(0x17d)]&&_0x3d56af);await this[_0x70c790(0x15c)]['chat'][_0x70c790(0x13c)]({'where':{'_id':_0x343da1['id']}},{'groupdata':{..._0xcce382['groupdata'],'participants':_0x17cdcf,'size':_0x1d37d1,'isAdmin':_0x3d56af,'canSendMessage':_0x20c9d7}},this[_0x70c790(0x74f)]['wuid']),this['logger']['info'](this[_0x70c790(0x1fd)]+'\x20('+this[_0x70c790(0x74f)]['wuid']+_0x70c790(0x64e)+_0x343da1['id']+_0x70c790(0xfc)+_0x343da1[_0x70c790(0x40e)]+_0x70c790(0x111)+_0x1d37d1+_0x70c790(0x1e3)+_0x3d56af+_0x70c790(0x18a)+_0x20c9d7);}async[a0_0x15841b(0x2fe)](_0x4cdfd6,_0x8954a9=!0x0){const _0x44d455=a0_0x15841b;try{let _0x22464b=await this[_0x44d455(0x34c)][_0x44d455(0x301)](_0x4cdfd6['groupJid']),_0x856b22={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x22464b};if(_0x8954a9){let _0x3d373f=await this[_0x44d455(0x15c)]['chat'][_0x44d455(0x13c)]({'where':{'_id':_0x4cdfd6[_0x44d455(0x569)]}},_0x856b22,this[_0x44d455(0x74f)][_0x44d455(0x370)]);}return{'inviteUrl':_0x44d455(0x72e)+_0x22464b,'inviteCode':_0x22464b};}catch(_0x46b577){let _0x4fd9af='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x597e29=_0x46b577 instanceof Error?_0x46b577[_0x44d455(0x573)]:typeof _0x46b577=='object'?JSON['stringify'](_0x46b577):_0x46b577,_0x55e933=_0x4fd9af+':\x20'+_0x597e29;throw this[_0x44d455(0x781)][_0x44d455(0x45f)](this[_0x44d455(0x1fd)]+'\x20('+this['instance'][_0x44d455(0x370)]+_0x44d455(0x368)+_0x55e933),new J(_0x55e933);}}async[a0_0x15841b(0x26a)](_0x58387b){const _0x1d0c98=a0_0x15841b;try{let _0xfeccda=await this[_0x1d0c98(0x34c)]['groupRevokeInvite'](_0x58387b[_0x1d0c98(0x569)]);return{'revoked':!0x0,'inviteUrl':_0x1d0c98(0x72e)+_0xfeccda,'inviteCode':_0xfeccda};}catch(_0x324227){let _0x31ed82=_0x1d0c98(0x228),_0x177a74=_0x324227 instanceof Error?_0x324227[_0x1d0c98(0x573)]:typeof _0x324227==_0x1d0c98(0x300)?JSON['stringify'](_0x324227):_0x324227,_0xb71fd1=_0x31ed82+':\x20'+_0x177a74;throw this[_0x1d0c98(0x781)][_0x1d0c98(0x45f)](this[_0x1d0c98(0x1fd)]+'\x20('+this[_0x1d0c98(0x74f)]['wuid']+'):\x20'+_0xb71fd1),new J(_0xb71fd1);}}async['joinGroup'](_0x599ba0){const _0x5484eb=a0_0x15841b;try{if((0x0,P['isURL'])(_0x599ba0['inviteCode']))var _0x115b62=_0x599ba0[_0x5484eb(0x2fe)][_0x5484eb(0x69d)]('/')[0x3];else var _0x115b62=_0x599ba0[_0x5484eb(0x2fe)];let _0x4133f0=await this[_0x5484eb(0x34c)][_0x5484eb(0x56b)](_0x115b62);return this[_0x5484eb(0x781)]['verbose'](this['instanceName']+'\x20('+this[_0x5484eb(0x74f)]['wuid']+'):\x20'+_0x4133f0),{'join':!0x0,'inviteCode':_0x115b62,'groupJid':_0x4133f0};}catch(_0x136356){let _0x5acf0e=_0x5484eb(0x190),_0x34891c=_0x136356 instanceof Error?_0x136356[_0x5484eb(0x573)]:typeof _0x136356==_0x5484eb(0x300)?JSON[_0x5484eb(0x194)](_0x136356):_0x136356,_0x2e2788=_0x5acf0e+':\x20'+_0x34891c;throw this['logger'][_0x5484eb(0x45f)](this[_0x5484eb(0x1fd)]+'\x20('+this[_0x5484eb(0x74f)]['wuid']+_0x5484eb(0x368)+_0x2e2788),new J(_0x2e2788);}}async[a0_0x15841b(0x191)](_0xec591c){const _0x3a0547=a0_0x15841b;try{return{'participants':(await this[_0x3a0547(0x34c)]['groupMetadata'](_0xec591c[_0x3a0547(0x569)]))['participants']};}catch(_0x15a507){let _0x2a79f3=_0x3a0547(0x738),_0x162044=_0x15a507 instanceof Error?_0x15a507[_0x3a0547(0x573)]:typeof _0x15a507==_0x3a0547(0x300)?JSON['stringify'](_0x15a507):_0x15a507,_0x3e5e9e=_0x2a79f3+':\x20'+_0x162044;throw this[_0x3a0547(0x781)]['error'](this[_0x3a0547(0x1fd)]+'\x20('+this['instance'][_0x3a0547(0x370)]+_0x3a0547(0x368)+_0x3e5e9e),new J(_0x3e5e9e);}}async[a0_0x15841b(0x6cc)](_0x2561e7){const _0x39f008=a0_0x15841b;try{return await this['client'][_0x39f008(0x658)](_0x2561e7['groupJid']),{'groupJid':_0x2561e7[_0x39f008(0x569)],'leave':!0x0};}catch(_0x3bd99c){let _0x6189d1='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x109d8c=_0x3bd99c instanceof Error?_0x3bd99c[_0x39f008(0x573)]:typeof _0x3bd99c=='object'?JSON[_0x39f008(0x194)](_0x3bd99c):_0x3bd99c,_0x19df8a=_0x6189d1+':\x20'+_0x109d8c;throw this['logger'][_0x39f008(0x45f)](this[_0x39f008(0x1fd)]+'\x20('+this[_0x39f008(0x74f)][_0x39f008(0x370)]+_0x39f008(0x368)+_0x19df8a),new m(_0x19df8a);}}async['pollMessage'](_0x2621b1){const _0x8f3359=a0_0x15841b;return await this[_0x8f3359(0x420)](_0x2621b1[_0x8f3359(0x799)],{'poll':{'name':_0x2621b1['pollMessage']?.[_0x8f3359(0x424)],'selectableCount':_0x2621b1[_0x8f3359(0x410)]['selectableCount'],'values':_0x2621b1[_0x8f3359(0x410)][_0x8f3359(0x224)]}},_0x2621b1?.[_0x8f3359(0x4a7)]);}async['listMessage'](_0x24d30e){const _0x54b8b0=a0_0x15841b;return await this[_0x54b8b0(0x420)](_0x24d30e[_0x54b8b0(0x799)],{'listMessage':{'title':_0x24d30e[_0x54b8b0(0x4db)][_0x54b8b0(0x780)],'description':_0x24d30e[_0x54b8b0(0x4db)][_0x54b8b0(0x617)],'buttonText':_0x24d30e[_0x54b8b0(0x4db)]?.[_0x54b8b0(0x1bd)],'footerText':_0x24d30e[_0x54b8b0(0x4db)]?.['footerText'],'sections':_0x24d30e[_0x54b8b0(0x4db)]['sections'],'listType':0x2}},_0x24d30e?.[_0x54b8b0(0x4a7)]);}async['menuMessage'](_0xd88bc1){const _0x37d493=a0_0x15841b;let _0x26c128;if(_0xd88bc1[_0x37d493(0x128)][_0x37d493(0x265)]==='list'){let _0x2c87af=_0xd88bc1[_0x37d493(0x128)][_0x37d493(0x338)][_0x37d493(0x2a9)]('\x0a'),_0x12fbb3='',_0x5127f8='';_0x2c87af!==-0x1?(_0x12fbb3=_0xd88bc1[_0x37d493(0x128)][_0x37d493(0x338)][_0x37d493(0x685)](0x0,_0x2c87af)[_0x37d493(0x43c)](),_0x5127f8=_0xd88bc1[_0x37d493(0x128)][_0x37d493(0x338)]['substring'](_0x2c87af+0x1)):_0x5127f8=_0xd88bc1[_0x37d493(0x128)][_0x37d493(0x338)];let _0xa4e40e=_0xd88bc1['menuMessage'][_0x37d493(0x21a)]['filter'](_0x55a3d9=>_0x55a3d9[_0x37d493(0x43c)]()!==''),_0x4969b4=this[_0x37d493(0x394)](_0xa4e40e);_0x26c128={'listMessage':{'title':_0x12fbb3,'description':_0x5127f8,'buttonText':_0xd88bc1[_0x37d493(0x128)]['buttonText']||'Selecione','footerText':_0xd88bc1[_0x37d493(0x128)][_0x37d493(0x4e1)],'sections':_0x4969b4,'listType':0x2}};}else{if(_0xd88bc1['menuMessage'][_0x37d493(0x265)]===_0x37d493(0x263)){let _0x1ccb69=_0xd88bc1[_0x37d493(0x128)][_0x37d493(0x21a)][_0x37d493(0x2f3)](_0x15520c=>!(_0x15520c[_0x37d493(0x682)]('[')&&_0x15520c[_0x37d493(0x10e)](']'))&&_0x15520c['trim']()!=='')[_0x37d493(0xef)](_0x212070=>_0x212070['split']('\x0a')[0x0]);_0x26c128={'poll':{'name':_0xd88bc1[_0x37d493(0x128)]['text'],'selectableCount':_0xd88bc1[_0x37d493(0x128)]['selectableCount']||0x1,'values':_0x1ccb69}};}}return await this[_0x37d493(0x420)](_0xd88bc1[_0x37d493(0x799)],_0x26c128,_0xd88bc1?.[_0x37d493(0x4a7)]);}['createSectionsFromValues'](_0xfb02e0){const _0x58a463=a0_0x15841b;let _0x3221a5=[],_0x1f1924={'rows':[]};return _0xfb02e0[_0x58a463(0x537)](_0x470967=>{const _0x121b44=_0x58a463;if(_0x470967[_0x121b44(0x682)]('[')&&_0x470967[_0x121b44(0x10e)](']'))_0x1f1924['rows'][_0x121b44(0x561)]>0x0&&_0x3221a5[_0x121b44(0x627)](_0x1f1924),_0x1f1924={'title':_0x470967[_0x121b44(0xe9)](0x1,-0x1),'rows':[]};else{let _0x25bd14=_0x470967[_0x121b44(0x69d)]('\x0a')[_0x121b44(0xef)](_0x121526=>_0x121526[_0x121b44(0x43c)]()),_0x2dc656=_0x25bd14[0x0],_0x35384c=_0x25bd14[0x1]||null,_0x10cdf7=_0x25bd14[0x2]||_0x2dc656;_0x1f1924[_0x121b44(0x72a)][_0x121b44(0x627)]({'title':_0x2dc656,'description':_0x35384c,'rowId':_0x10cdf7});}}),_0x1f1924[_0x58a463(0x72a)][_0x58a463(0x561)]>0x0&&_0x3221a5[_0x58a463(0x627)](_0x1f1924),_0x3221a5;}async[a0_0x15841b(0x1e6)](_0x589c26,_0x49dced){const _0x999c12=a0_0x15841b;if(await this[_0x999c12(0x792)](_0x589c26,!0x0)){let _0xa10ffe={'where':{'_id':_0x589c26['id']}},_0xfbe000={'status':[_0x49dced[_0x999c12(0x633)]][0x0]};try{let _0x45b92d=await this[_0x999c12(0x15c)][_0x999c12(0x573)][_0x999c12(0x179)](_0xa10ffe,_0xfbe000,this[_0x999c12(0x74f)][_0x999c12(0x370)]);_0x45b92d&&U(this[_0x999c12(0x1fd)],_0x999c12(0x454),{'message':_0x45b92d});}catch{}}}[a0_0x15841b(0x25f)](_0x834d49){const _0x477475=a0_0x15841b;let _0x88062=[];return _0x834d49[_0x477475(0x537)](_0x7d07a3=>{const _0x546467=_0x477475;_0x7d07a3[_0x546467(0x780)]&&_0x88062[_0x546467(0x627)]('['+_0x7d07a3[_0x546467(0x780)]+']'),_0x7d07a3[_0x546467(0x72a)][_0x546467(0x537)](_0x4f9b95=>{const _0x403baf=_0x546467;_0x88062[_0x403baf(0x627)](_0x4f9b95['title']);});}),_0x88062['join']('|');}[a0_0x15841b(0x334)](_0x594543){const _0x59b971=a0_0x15841b;let _0xc85481=_0x594543[_0x59b971(0x32f)](/\\n/g,'\x0a')[_0x59b971(0x69d)]('\x0a')[_0x59b971(0x2f3)](_0x37545c=>_0x37545c[_0x59b971(0x278)]('TEL')||_0x37545c[_0x59b971(0x278)]('EMAIL')),_0x3f51cd='';return _0xc85481['forEach'](_0x5cec1d=>{const _0x459e30=_0x59b971;let _0xf99520=/TEL(?:.*):(.+)/,_0xc8ce40=/EMAIL(?:.*):(.+)/,_0x450bba=_0x5cec1d[_0x459e30(0x77a)](_0xf99520),_0x5d84d3=_0x5cec1d[_0x459e30(0x77a)](_0xc8ce40);if(_0x450bba){let _0x4a299a=_0x450bba[0x1][_0x459e30(0x32f)](/-| |\+|\(|\)/g,'')[_0x459e30(0x43c)]();_0x3f51cd+=_0x459e30(0x3e1)+_0x4a299a+'\x0a';}else{if(_0x5d84d3){let _0x1eec6e=_0x5d84d3[0x1]['trim']();_0x3f51cd+='E-mail:\x20'+_0x1eec6e+'\x0a';}}}),_0x3f51cd[_0x59b971(0x43c)]();}async[a0_0x15841b(0x39d)](_0x809f20,_0x48b2f3,_0x22be6e,_0x4f717a=null){const _0x44c13c=a0_0x15841b;if(!_0x809f20['ENABLED'])return;let _0x58bb10=_0x48b2f3[_0x44c13c(0x500)]['remoteJid'][_0x44c13c(0x32f)](/:\d{1,2}@/g,'@'),_0x4f1d5b=_0x48b2f3[_0x44c13c(0x500)][_0x44c13c(0x1d8)],_0x70b02=_0x58bb10[_0x44c13c(0x10e)](_0x44c13c(0x63d)),_0x5584cb=_0x48b2f3[_0x44c13c(0x4f3)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x373608=_0x48b2f3['message_normalized']?.[_0x44c13c(0x338)]||_0x48b2f3[_0x44c13c(0x1c2)]?.[_0x44c13c(0x752)]||_0x48b2f3['message_normalized']?.[_0x44c13c(0x35d)]||_0x48b2f3[_0x44c13c(0x1c2)]?.[_0x44c13c(0x424)],_0x37d3f7={'_id':_0x48b2f3['_id'],'remoteJid':_0x4f1d5b?this['instance']['wuid']:_0x70b02?_0x5584cb:_0x58bb10,'pushName':_0x4f1d5b?this['instance'][_0x44c13c(0x129)]||'Eu':_0x48b2f3['pushName'],'text':_0x373608,'type':_0x48b2f3['messageType'],'when':_0x48b2f3[_0x44c13c(0xc9)]||Date[_0x44c13c(0x1db)]()};_0x4f717a||(_0x4f717a=await this['repository'][_0x44c13c(0x755)][_0x44c13c(0x5d9)]({'where':{'_id':_0x58bb10}},this[_0x44c13c(0x74f)][_0x44c13c(0x370)]));let _0x120f11=_0x4f717a?_0x4f1d5b?_0x4f717a[_0x44c13c(0x5b3)]:(_0x4f717a[_0x44c13c(0x5b3)]||0x0)+0x1:_0x4f1d5b?0x0:0x1,_0x2336a2={'lastmsg':_0x48b2f3['messageTimestamp']||Date[_0x44c13c(0x1db)](),'ephemeralExpiration':_0x48b2f3[_0x44c13c(0x345)],'lastMessage':_0x37d3f7,'unreadcount':_0x120f11,..._0x4f1d5b||_0x70b02?{}:{'name':_0x48b2f3[_0x44c13c(0x2a0)]},..._0x70b02?{'group':_0x70b02}:{},...!_0x4f1d5b&&!_0x70b02&&_0x48b2f3[_0x44c13c(0x506)]?{'imagechat':_0x48b2f3['profilePictureUrl']}:{}};if(!_0x70b02&&(!_0x4f717a?.[_0x44c13c(0x140)]||!_0x4f717a[_0x44c13c(0x140)][_0x44c13c(0x5df)])&&_0x48b2f3[_0x44c13c(0x2a0)]&&!_0x4f1d5b&&(_0x2336a2={..._0x2336a2,'leadInfo.nome':_0x48b2f3['pushName']}),_0x4f717a?.[_0x44c13c(0x140)]['etiquetas']||(_0x2336a2={..._0x2336a2,'leadInfo.etiquetas':[]}),_0x4f717a?.[_0x44c13c(0x140)][_0x44c13c(0x760)]||(_0x2336a2={..._0x2336a2,'leadInfo.customFields':[]}),_0x4f717a?.['leadInfo'][_0x44c13c(0x415)]||(_0x2336a2={..._0x2336a2,'leadInfo.tags':[]}),_0x4f717a&&_0x4f717a?.[_0x44c13c(0x3fb)]){let _0x3880ea=await this['repository'][_0x44c13c(0x2a7)]['find']({'where':{}},this[_0x44c13c(0x74f)][_0x44c13c(0x370)]),_0x731bf2=new Set(_0x3880ea[_0x44c13c(0xef)](_0x451bc1=>_0x451bc1['_id'])),_0x7c3931=(_0x4f717a['leadInfo']?.[_0x44c13c(0x1c5)]||[])['filter'](_0x5513a=>_0x731bf2[_0x44c13c(0x5ee)](_0x5513a));_0x2336a2={..._0x2336a2,'imported':!0x1,'leadInfo.etiquetas':_0x7c3931};for(let _0x5eea7d of _0x7c3931)await this['AddChatLabel'](_0x5eea7d,_0x58bb10);}if(_0x22be6e===_0x44c13c(0x5ec)&&_0x4f1d5b&&this[_0x44c13c(0x15e)]?.['flowConfig']['enabled']&&!_0x373608[_0x44c13c(0x682)](this['AutomateSystem']?.['flowConfig'][_0x44c13c(0x55e)])){let _0x36090e=(this['AutomateSystem']?.[_0x44c13c(0x5ae)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x2d81a2=Date[_0x44c13c(0x1db)]()+_0x36090e;_0x4f717a?.[_0x44c13c(0x140)]?.['desativadoFluxoAte']===0x0||(_0x2336a2={..._0x2336a2,'leadInfo.desativadoFluxoAte':_0x2d81a2},this[_0x44c13c(0x781)]['verbose'](this[_0x44c13c(0x1fd)]+'\x20('+this[_0x44c13c(0x74f)][_0x44c13c(0x370)]+_0x44c13c(0x5a7)+_0x2d81a2+'.'));}if(_0x4f717a=await this[_0x44c13c(0x15c)]['chat'][_0x44c13c(0x13c)]({'where':{'_id':_0x58bb10}},_0x2336a2,this[_0x44c13c(0x74f)]['wuid'],{'new':!0x0,'upsert':!0x0}),_0x4f717a)U(this[_0x44c13c(0x1fd)],_0x44c13c(0x41a),{'chat':_0x4f717a});else{this[_0x44c13c(0x781)]['error'](this[_0x44c13c(0x1fd)]+'\x20('+this[_0x44c13c(0x74f)]['wuid']+_0x44c13c(0x662));return;}if(!this[_0x44c13c(0x15e)]?.[_0x44c13c(0x5ae)][_0x44c13c(0x262)])return this[_0x44c13c(0x781)][_0x44c13c(0x2b5)](this[_0x44c13c(0x1fd)]+'\x20('+this[_0x44c13c(0x74f)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x4f717a[_0x44c13c(0x333)]['includes'](_0x44c13c(0x63d))&&this[_0x44c13c(0x15e)]?.[_0x44c13c(0x5ae)][_0x44c13c(0x4d8)]===!0x0)return this[_0x44c13c(0x781)][_0x44c13c(0x2b5)](this[_0x44c13c(0x1fd)]+'\x20('+this[_0x44c13c(0x74f)]['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x4f717a[_0x44c13c(0x140)]){if(_0x4f717a[_0x44c13c(0x140)][_0x44c13c(0x745)]===0x0||_0x4f717a[_0x44c13c(0x140)]['atendimentoAberto'])return this[_0x44c13c(0x781)][_0x44c13c(0x2b5)](this[_0x44c13c(0x1fd)]+'\x20('+this[_0x44c13c(0x74f)][_0x44c13c(0x370)]+_0x44c13c(0x3e7)+_0x58bb10+_0x44c13c(0x4cd)),null;if(_0x4f717a['leadInfo'][_0x44c13c(0x745)]>Date[_0x44c13c(0x1db)]()&&!_0x48b2f3[_0x44c13c(0x1c2)]?.[_0x44c13c(0x35d)])return this[_0x44c13c(0x781)]['verbose'](this[_0x44c13c(0x1fd)]+'\x20('+this['instance']['wuid']+_0x44c13c(0x54e)+new Date(_0x4f717a[_0x44c13c(0x140)][_0x44c13c(0x745)])['toLocaleString']()+_0x44c13c(0x4cd)),null;}this[_0x44c13c(0x781)][_0x44c13c(0x2b5)](this[_0x44c13c(0x1fd)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x44c13c(0x63f)](_0x22be6e,_0x48b2f3);}async[a0_0x15841b(0x27f)](_0x1ddd1d,_0x33ac32){const _0x441b28=a0_0x15841b;if(_0x33ac32['ENABLED']){let _0x3ef5fd=_0x1ddd1d['map'](async _0x2d9c2a=>{const _0x5a6829=a0_0xdc1a;try{let _0x215425={'_id':_0x2d9c2a[_0x5a6829(0x333)],'owner':_0x2d9c2a[_0x5a6829(0x4e4)],'lastcache':0x0};if(Object[_0x5a6829(0x479)](_0x2d9c2a)[_0x5a6829(0x537)](_0x5d9c6d=>{_0x2d9c2a[_0x5d9c6d]!==null&&(_0x215425[_0x5d9c6d]=_0x2d9c2a[_0x5d9c6d]);}),_0x215425[_0x5a6829(0x4d4)]===null&&(_0x215425[_0x5a6829(0x4d4)]='Imagem\x20não\x20encontrada'),Object[_0x5a6829(0x479)](_0x215425)[_0x5a6829(0x561)]>0x0)return await this[_0x5a6829(0x15c)]['chat'][_0x5a6829(0x13c)]({'where':{'_id':_0x2d9c2a[_0x5a6829(0x333)]}},_0x215425,this[_0x5a6829(0x74f)][_0x5a6829(0x370)]);}catch(_0x314f88){let _0x4b96a7=_0x5a6829(0x472)+_0x2d9c2a[_0x5a6829(0x333)],_0x1ca216=_0x314f88 instanceof Error?_0x314f88[_0x5a6829(0x573)]:typeof _0x314f88==_0x5a6829(0x300)?JSON['stringify'](_0x314f88):_0x314f88,_0x22d6cd=_0x4b96a7+':\x20'+_0x1ca216;return this[_0x5a6829(0x781)]['error'](this[_0x5a6829(0x1fd)]+'\x20('+this[_0x5a6829(0x74f)]['wuid']+_0x5a6829(0x368)+_0x22d6cd),null;}}),_0x586def=(await Promise['all'](_0x3ef5fd))[_0x441b28(0x2f3)](_0x1a81c2=>_0x1a81c2!==null)[_0x441b28(0x561)];this[_0x441b28(0x781)][_0x441b28(0x2b5)](this[_0x441b28(0x1fd)]+'\x20('+this[_0x441b28(0x74f)][_0x441b28(0x370)]+_0x441b28(0x368)+_0x586def+'\x20chats\x20de\x20'+this[_0x441b28(0x74f)][_0x441b28(0x370)]+_0x441b28(0x21c));}}async[a0_0x15841b(0x2d1)](_0x3621a7){const _0x11d6e1=a0_0x15841b;this[_0x11d6e1(0x781)][_0x11d6e1(0x2b5)](this[_0x11d6e1(0x1fd)]+'\x20('+this[_0x11d6e1(0x74f)][_0x11d6e1(0x370)]+'):\x20Ler\x20mensagem');let _0x44c5a1={'readMessages':[{'remoteJid':_0x3621a7[_0x11d6e1(0x3aa)][_0x11d6e1(0x706)][_0x11d6e1(0x500)][_0x11d6e1(0x316)],'fromMe':_0x3621a7['chatLog'][_0x11d6e1(0x706)][_0x11d6e1(0x500)][_0x11d6e1(0x1d8)],'id':_0x3621a7['chatLog']['lastReceivedMessage'][_0x11d6e1(0x500)]['id']}]};await this[_0x11d6e1(0x69f)](_0x44c5a1);}async[a0_0x15841b(0x63f)](_0x39dbda,_0x18373e){const _0x14154e=a0_0x15841b;try{let {key:_0x1a1269,message_normalized:_0x4cdcd6}=_0x18373e,_0x117fed=_0x4cdcd6,_0x424476=_0x4cdcd6[_0x14154e(0x338)]||_0x4cdcd6[_0x14154e(0x752)]||_0x4cdcd6[_0x14154e(0x35d)]||_0x4cdcd6[_0x14154e(0x424)],_0x18315f=_0x1a1269[_0x14154e(0x316)],_0x4b1173;if(_0x117fed[_0x14154e(0x500)][_0x14154e(0x1d8)]&&_0x424476['trim']()!==this[_0x14154e(0x15e)]?.[_0x14154e(0x5ae)][_0x14154e(0x341)]['trim']())return this['logger']['verbose'](this[_0x14154e(0x1fd)]+'\x20('+this[_0x14154e(0x74f)][_0x14154e(0x370)]+_0x14154e(0x287)),null;if(_0x117fed[_0x14154e(0x500)][_0x14154e(0x1d8)]&&_0x424476[_0x14154e(0x43c)]()===this[_0x14154e(0x15e)]?.['flowConfig'][_0x14154e(0x341)][_0x14154e(0x43c)]()){this[_0x14154e(0x781)][_0x14154e(0x2b5)](this[_0x14154e(0x1fd)]+'\x20('+this['instance'][_0x14154e(0x370)]+_0x14154e(0x40c));let _0x459a87=await this['repository'][_0x14154e(0x511)]['find']({'remoteJid':_0x18315f,'status':'open'},this[_0x14154e(0x74f)][_0x14154e(0x370)]);this[_0x14154e(0x781)][_0x14154e(0x2b5)](this[_0x14154e(0x1fd)]+'\x20('+this[_0x14154e(0x74f)][_0x14154e(0x370)]+_0x14154e(0x2c8)+_0x459a87);let _0x16f861=Date['now'](),_0x2c0c84;return this[_0x14154e(0x15e)]?.['flowConfig'][_0x14154e(0x216)]===0x0?_0x2c0c84={'stoppedUntil':_0x16f861+0x7591f6200}:_0x2c0c84={'stoppedUntil':_0x16f861+this[_0x14154e(0x15e)]?.['flowConfig'][_0x14154e(0x216)]*0x3c*0x3e8},this[_0x14154e(0x781)][_0x14154e(0x2b5)](this[_0x14154e(0x1fd)]+'\x20('+this[_0x14154e(0x74f)][_0x14154e(0x370)]+_0x14154e(0x250)+_0x2c0c84),this['updateStopChat'](_0x4b1173,_0x2c0c84['stoppedUntil']),null;}if(_0x424476&&_0x424476[_0x14154e(0x682)](this['AutomateSystem']?.[_0x14154e(0x5ae)][_0x14154e(0x55e)])&&_0x424476[_0x14154e(0x561)]>0x4){let _0x59a705=await this[_0x14154e(0x15c)][_0x14154e(0x360)][_0x14154e(0x5d9)]({'where':{'startCommandWord':_0x424476}},this[_0x14154e(0x74f)][_0x14154e(0x370)]);if(this[_0x14154e(0x781)][_0x14154e(0x2b5)](this['instanceName']+'\x20('+this[_0x14154e(0x74f)]['wuid']+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x59a705)_0x4b1173=await this[_0x14154e(0x326)](_0x59a705,_0x117fed[_0x14154e(0x500)],_0x117fed);else return this[_0x14154e(0x781)]['verbose'](this[_0x14154e(0x1fd)]+'\x20('+this[_0x14154e(0x74f)]['wuid']+_0x14154e(0x38e)),null;}else _0x4b1173=await this[_0x14154e(0x1c0)](_0x18315f,_0x117fed);if(_0x4b1173){this[_0x14154e(0x781)]['verbose'](this['instanceName']+'\x20('+this[_0x14154e(0x74f)][_0x14154e(0x370)]+_0x14154e(0x5da)),!_0x1a1269['fromMe']&&_0x4b1173[_0x14154e(0x6c7)]&&this['readMessageBot'](_0x4b1173);let _0x53504b=await this[_0x14154e(0x6ee)](_0x4b1173);_0x53504b&&await this[_0x14154e(0x654)](_0x4b1173,_0x53504b);}}catch(_0x533bbc){this[_0x14154e(0x781)][_0x14154e(0x45f)](this[_0x14154e(0x1fd)]+'\x20('+this['instance'][_0x14154e(0x370)]+_0x14154e(0x19c)+(_0x533bbc instanceof Error?_0x533bbc['message']:JSON[_0x14154e(0x194)](_0x533bbc,null,0x2)));}}[a0_0x15841b(0x5b1)](_0x283bb5,_0x12e0cf='',_0x268704={}){const _0x802023=a0_0x15841b;return typeof _0x283bb5!=_0x802023(0x300)||_0x283bb5===null?(_0x12e0cf&&(_0x268704[_0x12e0cf]=_0x283bb5),_0x268704):(Object[_0x802023(0x65c)](_0x283bb5)[_0x802023(0x537)](([_0xec191b,_0x526a82])=>{const _0x3c1b4b=_0x802023;let _0x2e90da=_0x12e0cf?_0x12e0cf+'.'+_0xec191b:'_'+_0xec191b;Array['isArray'](_0x526a82)?_0x526a82[_0x3c1b4b(0x537)]((_0x2650f0,_0x2f4f67)=>{this['flattenObject'](_0x2650f0,_0x2e90da+'['+_0x2f4f67+']',_0x268704);}):typeof _0x526a82==_0x3c1b4b(0x300)&&_0x526a82!==null?this[_0x3c1b4b(0x5b1)](_0x526a82,_0x2e90da,_0x268704):_0x268704[_0x2e90da]=String(_0x526a82);}),_0x268704);}[a0_0x15841b(0x488)](_0x5d08e0){const _0x4ac01d=a0_0x15841b;let _0xd67cea={};for(let _0x40168f of _0x5d08e0)typeof _0x40168f[_0x4ac01d(0x424)]==_0x4ac01d(0x421)&&typeof _0x40168f[_0x4ac01d(0x5f2)]=='string'&&(_0xd67cea[_0x40168f['name']]=_0x40168f[_0x4ac01d(0x5f2)]);return _0xd67cea;}async['NextBlock'](_0x31f9da){const _0x37a64c=a0_0x15841b;if(!this[_0x37a64c(0x15e)]?.[_0x37a64c(0x5ae)][_0x37a64c(0x262)]||_0x31f9da['status']!==_0x37a64c(0x23c)&&_0x31f9da[_0x37a64c(0x2e5)]==='')return null;let _0x3e8574=_0x31f9da[_0x37a64c(0x3aa)][_0x37a64c(0x728)]||'start';typeof _0x31f9da[_0x37a64c(0x3aa)][_0x37a64c(0x379)]>'u'&&(_0x31f9da[_0x37a64c(0x3aa)]['lastCondition']=!0x0);let _0x37c979=_0x31f9da[_0x37a64c(0x3aa)][_0x37a64c(0x379)];this[_0x37a64c(0x781)][_0x37a64c(0x2b5)](this['instanceName']+'\x20('+this[_0x37a64c(0x74f)][_0x37a64c(0x370)]+_0x37a64c(0x33b)+_0x3e8574+_0x37a64c(0x166)+_0x37c979);let _0x23532c=_0x3e8574==='start'?_0x31f9da[_0x37a64c(0x4c3)][_0x37a64c(0x76f)](_0x3475b0=>_0x3475b0[_0x37a64c(0x265)]===_0x37a64c(0x669)):_0x31f9da[_0x37a64c(0x4c3)]['find'](_0x4cc6c6=>_0x4cc6c6['_id'][_0x37a64c(0x6ca)]()===_0x3e8574[_0x37a64c(0x6ca)]());if(!_0x23532c)return this['logger'][_0x37a64c(0x45f)](this[_0x37a64c(0x1fd)]+'\x20('+this[_0x37a64c(0x74f)]['wuid']+_0x37a64c(0x646)+_0x3e8574),null;let _0x453f61={'_pushName':_0x31f9da[_0x37a64c(0x3aa)][_0x37a64c(0x706)][_0x37a64c(0x2a0)],..._0x31f9da[_0x37a64c(0x3aa)][_0x37a64c(0x1a7)]},_0x213379=null;if(_0x31f9da['waitingMenu_id']){let _0x571fa8=_0x31f9da['chatLog'][_0x37a64c(0x706)][_0x37a64c(0x35d)],_0x1636fc=_0x31f9da[_0x37a64c(0x14a)]['find'](_0x25bc39=>_0x25bc39[_0x37a64c(0x1f1)]===_0x571fa8);if(_0x1636fc){let _0x1e1ce5=_0x1636fc['next_groupId'];if(_0x213379=_0x31f9da['blocks'][_0x37a64c(0x76f)](_0x98756a=>_0x98756a['groupId']===_0x1e1ce5&&_0x98756a[_0x37a64c(0x6fb)]===0x1),_0x23532c[_0x37a64c(0x62a)][_0x37a64c(0x501)]){let _0x2b1fb5={'id':_0x31f9da[_0x37a64c(0x2e5)],'remoteJid':_0x31f9da[_0x37a64c(0x316)],'fromMe':!0x0};await this[_0x37a64c(0x79e)](_0x2b1fb5);}if(_0x23532c['uazapi'][_0x37a64c(0x501)]&&_0x23532c[_0x37a64c(0x62a)][_0x37a64c(0x6f1)]&&_0x23532c[_0x37a64c(0x62a)][_0x37a64c(0xf4)]===_0x37a64c(0x263)){let _0x4081d8={'number':_0x31f9da[_0x37a64c(0x316)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x31f9da[_0x37a64c(0x24e)]+_0x37a64c(0xd9)+_0x571fa8}};await this[_0x37a64c(0x3b3)](_0x4081d8);}_0x31f9da[_0x37a64c(0x633)]=_0x37a64c(0x23c),_0x31f9da[_0x37a64c(0x2e5)]='',_0x31f9da[_0x37a64c(0x24e)]='',_0x31f9da[_0x37a64c(0x14a)]=[];}else{this[_0x37a64c(0x781)][_0x37a64c(0x2b5)](this['instanceName']+'\x20('+this['instance'][_0x37a64c(0x370)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x4bc361={'activatedCount':_0x31f9da[_0x37a64c(0x3aa)][_0x37a64c(0x42d)]['filter'](_0x478314=>String(_0x478314[_0x37a64c(0x5ac)])===String(_0x3e8574))[_0x37a64c(0x561)],'moreLogs':[_0x37a64c(0x1fc)]};if(_0x23532c[_0x37a64c(0x62a)]['pollErrorMessage']){let _0x28bbfb={'number':_0x31f9da['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x23532c[_0x37a64c(0x62a)][_0x37a64c(0x63a)]}};await this[_0x37a64c(0x3b3)](_0x28bbfb);}if(_0x23532c[_0x37a64c(0x55d)]!==void 0x0&&_0x4bc361['activatedCount']>=_0x23532c[_0x37a64c(0x55d)]){let _0x4f0192=Date[_0x37a64c(0x1db)](),_0x3ad8a9=_0x23532c[_0x37a64c(0x16a)]??0xa;isNaN(_0x3ad8a9)&&(_0x3ad8a9=0xa);let _0xcc92cb=_0x4f0192+_0x3ad8a9*0x3c*0x3e8;_0x4bc361[_0x37a64c(0x68a)]=_0xcc92cb,_0x4bc361[_0x37a64c(0x670)]['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this['updateStopChat'](_0x31f9da,_0xcc92cb),_0x31f9da[_0x37a64c(0x2e5)]='',_0x31f9da[_0x37a64c(0x24e)]='',_0x31f9da['waitingMenu_replyOptions']=[];}return this[_0x37a64c(0x562)](_0x31f9da,_0x23532c,_0x4bc361,!0x0),null;}}if(_0x37c979&&_0x23532c[_0x37a64c(0x1f8)]&&!_0x31f9da[_0x37a64c(0x2e5)]){let _0x2beec6=_0x31f9da[_0x37a64c(0x4c3)]['filter'](_0x490724=>_0x490724['groupId']['toString']()===_0x23532c[_0x37a64c(0x1f8)]['toString']())[_0x37a64c(0x16b)]((_0x59ecaf,_0x3f4bb0)=>_0x59ecaf[_0x37a64c(0x6fb)]-_0x3f4bb0[_0x37a64c(0x6fb)]);_0x2beec6['length']>0x0&&(_0x213379=_0x2beec6[0x0]);}if(!_0x213379){let _0x5d6e2f=_0x23532c['groupId'],_0x1c9697=_0x31f9da['blocks'][_0x37a64c(0x2f3)](_0xeeefc5=>_0xeeefc5[_0x37a64c(0x121)]===_0x5d6e2f&&_0xeeefc5[_0x37a64c(0x6fb)]>_0x23532c[_0x37a64c(0x6fb)])['sort']((_0x4a7d91,_0x35ca93)=>_0x4a7d91[_0x37a64c(0x6fb)]-_0x35ca93[_0x37a64c(0x6fb)]);_0x1c9697[_0x37a64c(0x561)]>0x0&&(_0x213379=_0x1c9697[0x0]);}if(!_0x213379)return _0x31f9da[_0x37a64c(0x633)]=_0x37a64c(0x3cc),null;_0x31f9da[_0x37a64c(0x3aa)][_0x37a64c(0x1a7)]=_0x453f61;let _0x135d63=JSON[_0x37a64c(0x26f)](JSON[_0x37a64c(0x194)](_0x213379));return this[_0x37a64c(0x659)](_0x135d63,_0x31f9da['chatLog'][_0x37a64c(0x1a7)]),_0x31f9da[_0x37a64c(0x3aa)][_0x37a64c(0x728)]=_0x135d63[_0x37a64c(0x333)],_0x31f9da['chatLog'][_0x37a64c(0x379)]=!0x0,_0x135d63;}[a0_0x15841b(0x1e4)](_0x4cad5a,_0x9c65ce){const _0x2af3ce=a0_0x15841b;return _0x4cad5a[_0x2af3ce(0x32f)](/\{\{([^}]+)\}\}/g,(_0x4af9dc,_0x1ece67)=>_0x9c65ce[_0x1ece67]||'');}[a0_0x15841b(0x659)](_0x14a98e,_0x3e11b7){const _0xf65877=a0_0x15841b;for(let _0x3953f8 in _0x14a98e)typeof _0x14a98e[_0x3953f8]=='string'?_0x14a98e[_0x3953f8]=this[_0xf65877(0x1e4)](_0x14a98e[_0x3953f8],_0x3e11b7):typeof _0x14a98e[_0x3953f8]==_0xf65877(0x300)&&this[_0xf65877(0x659)](_0x14a98e[_0x3953f8],_0x3e11b7);}async[a0_0x15841b(0x132)](_0x48bcf8,_0x4b604d){const _0x57be1f=a0_0x15841b;let _0x5cbffd=_0x4b604d[_0x57be1f(0x333)];if(_0x48bcf8[_0x57be1f(0x3aa)]&&_0x48bcf8[_0x57be1f(0x3aa)][_0x57be1f(0x42d)]){let _0x5c75c1=_0x48bcf8['chatLog'][_0x57be1f(0x42d)][_0x57be1f(0x2f3)](_0x3c6668=>String(_0x3c6668[_0x57be1f(0x5ac)])===String(_0x5cbffd))[_0x57be1f(0x632)]();if(_0x5c75c1&&_0x5c75c1[_0x57be1f(0x45f)]&&_0x4b604d['stopIfLastReturnedError'])return _0x48bcf8[_0x57be1f(0x633)]=_0x57be1f(0x3cc),await this[_0x57be1f(0x613)](_0x48bcf8),null;}if(_0x4b604d[_0x57be1f(0x265)]===_0x57be1f(0x62a)&&_0x4b604d['uazapi'][_0x57be1f(0x46b)]===_0x57be1f(0x4b3)&&_0x48bcf8[_0x57be1f(0x2e5)])return _0x48bcf8[_0x57be1f(0x3aa)][_0x57be1f(0x728)]=_0x5cbffd,await this[_0x57be1f(0x613)](_0x48bcf8),null;let _0x1d7bfd=await this[_0x57be1f(0x6ee)](_0x48bcf8);if(_0x48bcf8[_0x57be1f(0x3aa)]&&_0x48bcf8[_0x57be1f(0x3aa)]['blockLogs']){let _0x243aa9=_0x48bcf8['chatLog'][_0x57be1f(0x42d)][_0x57be1f(0x2f3)](_0x4b793a=>String(_0x4b793a[_0x57be1f(0x5ac)])===String(_0x5cbffd))[_0x57be1f(0x561)];if(_0x4b604d[_0x57be1f(0x55d)]!==void 0x0&&_0x243aa9>=_0x4b604d['maxActives']){let _0x26b48b=Date[_0x57be1f(0x1db)](),_0x3eef27=_0x4b604d['stopMinutesMaxActives']??0xa;isNaN(_0x3eef27)&&(_0x3eef27=0xa);let _0x40a573=_0x26b48b+_0x3eef27*0x3c*0x3e8,_0x253361={'newStoppedUntil':_0x40a573};return this[_0x57be1f(0x20d)](_0x48bcf8,_0x40a573),this[_0x57be1f(0x562)](_0x48bcf8,_0x4b604d,_0x253361,!0x0),null;}}_0x1d7bfd&&_0x1d7bfd[_0x57be1f(0x265)]!==_0x57be1f(0x78d)&&await this[_0x57be1f(0x654)](_0x48bcf8,_0x1d7bfd),_0x1d7bfd||await this[_0x57be1f(0x613)](_0x48bcf8),_0x1d7bfd&&_0x1d7bfd[_0x57be1f(0x265)]==='save'&&(_0x48bcf8[_0x57be1f(0x3aa)]['lastBlockId']=_0x5cbffd,await this['saveConversationToDatabase'](_0x48bcf8));}async[a0_0x15841b(0x654)](_0x43d374,_0x414669){const _0xbd2f3f=a0_0x15841b;try{let _0x347dad=_0x414669[_0xbd2f3f(0x265)];this[_0xbd2f3f(0x781)]['verbose'](this[_0xbd2f3f(0x1fd)]+'\x20('+this[_0xbd2f3f(0x74f)]['wuid']+_0xbd2f3f(0x661)+_0x347dad);let _0x35edd1={'uazapi':()=>this[_0xbd2f3f(0x631)](_0x43d374,_0x414669),'save':()=>this[_0xbd2f3f(0x489)](_0x43d374,_0x414669),'stop':()=>this['stopConversation'](_0x43d374,_0x414669),'condition':()=>this[_0xbd2f3f(0x75b)](_0x43d374,_0x414669),'varedit':()=>this[_0xbd2f3f(0x58d)](_0x43d374,_0x414669),'apirequest':()=>this[_0xbd2f3f(0xdd)](_0x43d374,_0x414669),'goToFlow':()=>this[_0xbd2f3f(0x392)](_0x43d374,_0x414669),'awaitSeconds':()=>this['processawaitSeconds'](_0x43d374,_0x414669),'clearVariables':()=>this[_0xbd2f3f(0x117)](_0x43d374,_0x414669)}[_0x347dad];_0x35edd1&&await _0x35edd1();}catch(_0x332749){this[_0xbd2f3f(0x781)][_0xbd2f3f(0x45f)](this[_0xbd2f3f(0x1fd)]+'\x20('+this[_0xbd2f3f(0x74f)][_0xbd2f3f(0x370)]+_0xbd2f3f(0x346)+(_0x332749 instanceof Error?_0x332749[_0xbd2f3f(0x573)]:JSON['stringify'](_0x332749,null,0x2)));}}async[a0_0x15841b(0x3ad)](_0x298acb,_0x53d5ba){const _0x52fbf9=a0_0x15841b;if(this[_0x52fbf9(0x781)]['verbose'](this[_0x52fbf9(0x1fd)]+'\x20('+this[_0x52fbf9(0x74f)]['wuid']+_0x52fbf9(0x352)),!_0x298acb||!_0x53d5ba)return this['logger'][_0x52fbf9(0x45f)](this[_0x52fbf9(0x1fd)]+'\x20('+this[_0x52fbf9(0x74f)][_0x52fbf9(0x370)]+_0x52fbf9(0x73f)),null;let _0x55dd88=+_0x53d5ba[_0x52fbf9(0x589)];isNaN(_0x55dd88)&&(_0x55dd88=0x0),_0x55dd88=Math[_0x52fbf9(0x2ba)](_0x55dd88,0x3c),await(0x0,f[_0x52fbf9(0x58f)])(_0x55dd88*0x3e8);let _0x50a787={'moreLogs':['Pausado\x20por\x20'+_0x55dd88+'\x20segundos']};return await this[_0x52fbf9(0x562)](_0x298acb,_0x53d5ba,_0x50a787),_0x55dd88;}async[a0_0x15841b(0x117)](_0x5737f5,_0x58399b){const _0xfd25fd=a0_0x15841b;if(this['logger'][_0xfd25fd(0x2b5)](this['instanceName']+'\x20('+this['instance'][_0xfd25fd(0x370)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x5737f5||!_0x58399b)return this[_0xfd25fd(0x781)][_0xfd25fd(0x45f)](this[_0xfd25fd(0x1fd)]+'\x20('+this[_0xfd25fd(0x74f)][_0xfd25fd(0x370)]+_0xfd25fd(0x73f)),null;let _0x59bfcb=[];if(_0x58399b[_0xfd25fd(0x48b)][_0xfd25fd(0x43c)]()===_0xfd25fd(0x730)){let _0x5c991f=[_0xfd25fd(0x3dd),_0xfd25fd(0x54d),'_activedCount',_0xfd25fd(0x13b),_0xfd25fd(0x333),'_fromMe'];_0x59bfcb=Object[_0xfd25fd(0x479)](_0x5737f5['chatLog'][_0xfd25fd(0x1a7)])[_0xfd25fd(0x2f3)](_0x5bf995=>_0x5bf995['startsWith']('_')&&!_0x5c991f[_0xfd25fd(0x278)](_0x5bf995));}else _0x59bfcb=_0x58399b[_0xfd25fd(0x48b)][_0xfd25fd(0x69d)]('|')[_0xfd25fd(0xef)](_0x286273=>(_0x286273=_0x286273[_0xfd25fd(0x32f)](/[{}]/g,'')[_0xfd25fd(0x43c)](),_0x286273['startsWith']('_')?_0x286273:'_'+_0x286273));let _0x41e38f=[];_0x59bfcb['forEach'](_0x17d03f=>{const _0xd62ef8=_0xfd25fd;_0x17d03f in _0x5737f5[_0xd62ef8(0x3aa)][_0xd62ef8(0x1a7)]&&(delete _0x5737f5[_0xd62ef8(0x3aa)][_0xd62ef8(0x1a7)][_0x17d03f],_0x41e38f[_0xd62ef8(0x627)](_0x17d03f));}),_0x41e38f[_0xfd25fd(0x561)]>0x0?this[_0xfd25fd(0x781)][_0xfd25fd(0x2b5)](this[_0xfd25fd(0x1fd)]+'\x20('+this[_0xfd25fd(0x74f)][_0xfd25fd(0x370)]+_0xfd25fd(0x70e)+_0x41e38f[_0xfd25fd(0x18d)](',\x20')):this['logger']['verbose'](this[_0xfd25fd(0x1fd)]+'\x20('+this[_0xfd25fd(0x74f)][_0xfd25fd(0x370)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x24ae72={'moreLogs':[_0xfd25fd(0x6b4)+_0x41e38f[_0xfd25fd(0x18d)](',\x20')]};return await this[_0xfd25fd(0x562)](_0x5737f5,_0x58399b,_0x24ae72),null;}async['processgoToFlow'](_0x541825,_0x1cc73a){const _0x52310d=a0_0x15841b;if(this[_0x52310d(0x781)][_0x52310d(0x2b5)](this[_0x52310d(0x1fd)]+'\x20('+this[_0x52310d(0x74f)][_0x52310d(0x370)]+_0x52310d(0x17f)),!_0x541825||!_0x1cc73a)return this[_0x52310d(0x781)][_0x52310d(0x45f)](this['instanceName']+'\x20('+this[_0x52310d(0x74f)][_0x52310d(0x370)]+_0x52310d(0x73f)),null;await this[_0x52310d(0x562)](_0x541825,_0x1cc73a,{},!0x0,!0x0);let _0x5441d2=_0x1cc73a['goToFlow'];_0x541825=await this['createConversationforgoToFlow'](_0x5441d2,_0x541825['remoteJid'],_0x541825[_0x52310d(0x3aa)][_0x52310d(0x1a7)]),this['logger'][_0x52310d(0x2b5)](this[_0x52310d(0x1fd)]+'\x20('+this[_0x52310d(0x74f)]['wuid']+_0x52310d(0x1df));let _0x4780e6=await this[_0x52310d(0x6ee)](_0x541825);_0x4780e6&&await this[_0x52310d(0x654)](_0x541825,_0x4780e6);}async['createConversationforgoToFlow'](_0x27a97c,_0x3eeaaa,_0x1d06d3){const _0x3bf202=a0_0x15841b;this[_0x3bf202(0x781)][_0x3bf202(0x2b5)](this['instanceName']+'\x20('+this[_0x3bf202(0x74f)]['wuid']+_0x3bf202(0x2ad));try{if(_0x27a97c=await this[_0x3bf202(0x15c)]['flow'][_0x3bf202(0x5d9)]({'where':{'name':_0x27a97c}},this['instance'][_0x3bf202(0x370)]),!_0x27a97c)return this[_0x3bf202(0x781)][_0x3bf202(0x45f)](this[_0x3bf202(0x1fd)]+'\x20('+this[_0x3bf202(0x74f)][_0x3bf202(0x370)]+_0x3bf202(0x59d)),null;let _0x639e05=require(_0x3bf202(0x70c))[_0x3bf202(0x437)],_0x173e6f=Date[_0x3bf202(0x1db)](),_0x1e92e5=_0x3bf202(0x669),_0x380251={},_0x461039={},_0x4b218c={..._0x27a97c,'chatLog':null},_0xfb1e16={'lastReceivedMessage':_0x380251,'lastSendMessage':_0x461039,'lastBlockId':_0x1e92e5,'lastCondition':!0x0,'realVariables':_0x1d06d3};_0x4b218c[_0x3bf202(0x3aa)]=_0xfb1e16,_0x4b218c['chatLog'][_0x3bf202(0x1a7)]={..._0x1d06d3},delete _0x4b218c[_0x3bf202(0x333)],_0x4b218c[_0x3bf202(0x333)]=new _0x639e05(),_0x4b218c[_0x3bf202(0x51c)]=_0x173e6f,_0x4b218c[_0x3bf202(0x633)]='open',_0x4b218c[_0x3bf202(0x316)]=_0x3eeaaa;let _0x56af91=await this[_0x3bf202(0x15c)][_0x3bf202(0x511)][_0x3bf202(0x13c)](_0x4b218c[_0x3bf202(0x333)],_0x4b218c,this[_0x3bf202(0x74f)][_0x3bf202(0x370)]);return this['logger']['verbose'](this[_0x3bf202(0x1fd)]+'\x20('+this[_0x3bf202(0x74f)][_0x3bf202(0x370)]+_0x3bf202(0x4ac)),_0x56af91?_0x4b218c:null;}catch(_0x117892){let _0x3ed257='Erro\x20ao\x20copiar\x20o\x20documento',_0x21ac5c=_0x117892 instanceof Error?_0x117892[_0x3bf202(0x573)]:typeof _0x117892==_0x3bf202(0x300)?JSON[_0x3bf202(0x194)](_0x117892):_0x117892,_0x30a7e6=_0x3ed257+':\x20'+_0x21ac5c;throw this[_0x3bf202(0x781)][_0x3bf202(0x45f)](this[_0x3bf202(0x1fd)]+'\x20('+this['instance']['wuid']+_0x3bf202(0x368)+_0x30a7e6),new m(_0x30a7e6);}}async[a0_0x15841b(0xdd)](_0x4a5b33,_0x4d937f){const _0x27c54d=a0_0x15841b;let _0x273305,_0xfb127b;try{let _0x4871f5=_0x4d937f['apirequest'];if(!_0x4871f5||!_0x4871f5['url']||!_0x4871f5[_0x27c54d(0x45d)])throw new Error(_0x27c54d(0x26c));let _0x3fac42;([_0x27c54d(0x53c),'https://api.openai.com/v1/images/generations',_0x27c54d(0x628)][_0x27c54d(0x45a)](_0x1ae314=>_0x4871f5['url'][_0x27c54d(0x278)](_0x1ae314))||_0x4871f5['requestFile'])&&(_0x3fac42=_0x27c54d(0x4d5));let _0x2fdc3c='\u205f',_0x4f6a31;try{_0x4f6a31=JSON['parse'](_0x4871f5[_0x27c54d(0x5af)][_0x27c54d(0x32f)](new RegExp(_0x2fdc3c,'g'),''));}catch(_0x480824){throw _0x480824;}let _0x5dbf1d={'method':_0x4871f5[_0x27c54d(0x45d)],'url':_0x4871f5[_0x27c54d(0x2dd)],'headers':_0x4871f5[_0x27c54d(0x2d7)]||{},..._0x4871f5[_0x27c54d(0x45d)][_0x27c54d(0xf7)]()!==_0x27c54d(0x4bf)&&_0x4871f5['bodyString']?{'data':JSON[_0x27c54d(0x26f)](_0x4871f5[_0x27c54d(0x5af)][_0x27c54d(0x32f)](new RegExp(_0x2fdc3c,'g'),''))}:{},..._0x3fac42&&{'responseType':_0x3fac42}},_0x492679=await(0x0,K[_0x27c54d(0x4b6)])(_0x5dbf1d),_0x207981=_0x492679[_0x27c54d(0x2d0)][_0x27c54d(0x2e4)];if(_0x207981&&_0x207981['includes'](_0x27c54d(0x15a))||typeof _0x492679['data']==_0x27c54d(0x421)){if(typeof _0x492679[_0x27c54d(0x3a1)]==_0x27c54d(0x421)){let _0x268963=_0x492679['data']['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x27c54d(0x43c)]();try{_0x273305=JSON[_0x27c54d(0x26f)](_0x268963);}catch(_0x5efb71){console[_0x27c54d(0x45f)](_0x27c54d(0x731)+_0x5efb71[_0x27c54d(0x573)]),_0x273305={'_apiResponse':_0x492679[_0x27c54d(0x3a1)]};}}else _0x273305=_0x492679[_0x27c54d(0x3a1)];let _0x2e96b6=_0x4a5b33['chatLog'][_0x27c54d(0x1a7)],_0x4dff5c=this[_0x27c54d(0x5b1)](_0x273305);return Object[_0x27c54d(0x1ff)](_0x2e96b6,_0x4dff5c),_0x4a5b33[_0x27c54d(0x3aa)][_0x27c54d(0x1a7)]=_0x2e96b6,_0xfb127b={'error':!0x1,'apiResponse':_0x273305},this[_0x27c54d(0x562)](_0x4a5b33,_0x4d937f,_0xfb127b),_0x273305;}if(_0x207981&&(_0x207981[_0x27c54d(0x278)](_0x27c54d(0x467))||_0x207981[_0x27c54d(0x278)]('image')||_0x207981['includes'](_0x27c54d(0x451))||_0x207981[_0x27c54d(0x278)](_0x27c54d(0x4c2)))){this[_0x27c54d(0x781)]['verbose'](this[_0x27c54d(0x1fd)]+'\x20('+this[_0x27c54d(0x74f)][_0x27c54d(0x370)]+_0x27c54d(0x365)+_0x207981);let _0x3c9ef2=(0x0,jt['v4'])(),_0x22c68b='',_0x2a14e0={'image/jpeg':_0x27c54d(0x5c7),'image/png':_0x27c54d(0x5ff),'image/gif':_0x27c54d(0x19a),'image/webp':_0x27c54d(0x1bb),'image/svg+xml':_0x27c54d(0xcf),'audio/mpeg':_0x27c54d(0x78a),'audio/ogg':_0x27c54d(0x38b),'audio/wav':_0x27c54d(0x41b),'video/mp4':_0x27c54d(0x796),'video/webm':'.webm','video/ogg':_0x27c54d(0x43d),'text/plain':'.txt','application/pdf':'.pdf','application/msword':_0x27c54d(0x237),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x27c54d(0x68c),'application/vnd.ms-excel':_0x27c54d(0x1a8),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x27c54d(0x710),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x2a14e0[_0x207981]?(_0x22c68b=_0x2a14e0[_0x207981],this['logger'][_0x27c54d(0x2b5)](this['instanceName']+'\x20('+this[_0x27c54d(0x74f)]['wuid']+_0x27c54d(0x14c)+_0x22c68b)):(_0x22c68b=_0x27c54d(0x723),this['logger'][_0x27c54d(0x2b5)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x22c68b)),_0x3c9ef2+=_0x22c68b,this[_0x27c54d(0x781)]['verbose'](this[_0x27c54d(0x1fd)]+'\x20('+this['instance'][_0x27c54d(0x370)]+_0x27c54d(0x159)+_0x3c9ef2);let _0x271b63=this[_0x27c54d(0x299)][_0x27c54d(0x3cb)]('SERVER')[_0x27c54d(0x2a5)];if(!_0x271b63){let _0x168f23=this[_0x27c54d(0x299)][_0x27c54d(0x3cb)]('SSL_CONF');_0x271b63=_0x27c54d(0x735)+(_0x168f23&&_0x168f23[_0x27c54d(0x361)][_0x27c54d(0x69d)]('/')[0x4]);}let _0x5d0ef3=Buffer[_0x27c54d(0x673)](_0x492679[_0x27c54d(0x3a1)]);await this[_0x27c54d(0x466)](_0x5d0ef3,_0x3c9ef2);let _0x38db67='/media/'+_0x3c9ef2;_0x38db67=''+_0x271b63+_0x38db67,_0x273305={'fileUrl':_0x38db67},_0x4a5b33[_0x27c54d(0x3aa)][_0x27c54d(0x1a7)][_0x27c54d(0x769)]=_0x38db67;let _0xbec7b8=_0x4a5b33[_0x27c54d(0x3aa)]['realVariables'],_0x1eba92=this[_0x27c54d(0x5b1)](_0x273305);return Object[_0x27c54d(0x1ff)](_0xbec7b8,_0x1eba92),_0x4a5b33[_0x27c54d(0x3aa)][_0x27c54d(0x1a7)]=_0xbec7b8,_0xfb127b={'error':!0x1,'apiResponse':{'fileUrl':_0x38db67}},this['updateConversation'](_0x4a5b33,_0x4d937f,_0xfb127b),_0x273305;}}catch(_0x1c15c6){console[_0x27c54d(0x45f)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x1c15c6[_0x27c54d(0x573)]),_0x1c15c6['response']&&(_0x273305=_0x1c15c6[_0x27c54d(0x46d)][_0x27c54d(0x3a1)]);let _0x18b365=_0x4a5b33[_0x27c54d(0x3aa)][_0x27c54d(0x1a7)],_0xc39ae0=this[_0x27c54d(0x5b1)](_0x273305);return Object[_0x27c54d(0x1ff)](_0x18b365,_0xc39ae0),_0x4a5b33[_0x27c54d(0x3aa)][_0x27c54d(0x1a7)]=_0x18b365,_0xfb127b={'error':!0x0,'errorLog':_0x1c15c6[_0x27c54d(0x6ca)](),'apiResponse':_0x273305},this[_0x27c54d(0x562)](_0x4a5b33,_0x4d937f,_0xfb127b),{'success':!0x1};}}[a0_0x15841b(0x151)](_0x3babab,_0x2eec7c){const _0x459296=a0_0x15841b;let _0x18f08a=_0x163ba8=>{const _0x56a9c7=a0_0xdc1a;let _0xde7883=_0x163ba8[_0x56a9c7(0x32f)](/[^0-9.,-]/g,'')[_0x56a9c7(0x32f)](',','.'),_0x2eaea4=parseFloat(_0xde7883);return isNaN(_0x2eaea4)?null:_0x2eaea4;},_0x522dec=_0x2eec7c[_0x459296(0x6a3)],_0x45ae3b=_0x2eec7c['secondValue'];typeof _0x522dec=='string'&&(_0x522dec=this['replaceVariables'](_0x522dec,_0x3babab['chatLog'][_0x459296(0x1a7)])??''),typeof _0x45ae3b=='string'&&(_0x45ae3b=this[_0x459296(0x1e4)](_0x45ae3b,_0x3babab[_0x459296(0x3aa)][_0x459296(0x1a7)])??'');let _0x976fe4=null;if(!_0x2eec7c[_0x459296(0x2be)])return null;switch(this['logger'][_0x459296(0x2b5)](this[_0x459296(0x1fd)]+'\x20('+this[_0x459296(0x74f)][_0x459296(0x370)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x522dec),this[_0x459296(0x781)][_0x459296(0x2b5)](this[_0x459296(0x1fd)]+'\x20('+this[_0x459296(0x74f)][_0x459296(0x370)]+_0x459296(0x2b2)+_0x45ae3b),_0x2eec7c[_0x459296(0x2be)]){case'+':case'-':case'*':case'/':let _0x44e04a=_0x18f08a(_0x522dec||'0'),_0x3a82fc=_0x18f08a(_0x45ae3b||'0');if(_0x44e04a===null)return null;switch(_0x2eec7c[_0x459296(0x2be)]){case'+':_0x976fe4=_0x44e04a+(_0x3a82fc??0x0);break;case'-':_0x976fe4=_0x44e04a-(_0x3a82fc??0x0);break;case'*':_0x976fe4=_0x44e04a*(_0x3a82fc??0x1);break;case'/':_0x3a82fc!==0x0&&(_0x976fe4=_0x44e04a/(_0x3a82fc??0x1));break;}break;case _0x459296(0x1cc):case _0x459296(0x56c):let _0x5aa9c6=_0x45ae3b,_0x40ea98=_0x2eec7c[_0x459296(0x416)];if(typeof _0x40ea98==_0x459296(0x421)&&(_0x40ea98=this[_0x459296(0x1e4)](_0x40ea98,_0x3babab['chatLog'][_0x459296(0x1a7)])??''),_0x5aa9c6&&_0x40ea98!==void 0x0){let _0x5c7feb=_0x2eec7c[_0x459296(0x2be)]===_0x459296(0x1cc)?new RegExp(_0x5aa9c6[_0x459296(0x32f)](/[-\/\\^$*+?.()|[\]{}]/g,_0x459296(0x36f)),'g'):new RegExp(_0x5aa9c6,'g');_0x976fe4=_0x522dec[_0x459296(0x32f)](_0x5c7feb,_0x40ea98);}else console[_0x459296(0x156)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case'setNewValue':_0x976fe4=_0x45ae3b;break;case _0x459296(0x1c8):let _0x251bd4=_0x522dec[_0x459296(0x77a)](new RegExp(_0x45ae3b||''));_0x976fe4=_0x251bd4?_0x251bd4[0x0]:'';break;case _0x459296(0x3f2):_0x976fe4=_0x522dec[_0x459296(0xe9)](0x0,parseInt(_0x45ae3b||'0'));break;case'truncatedtoEnd':let _0x4abebd=parseInt(_0x45ae3b||'0');_0x976fe4=_0x522dec[_0x459296(0xe9)](_0x522dec[_0x459296(0x561)]-_0x4abebd);break;case _0x459296(0x7a0):let _0x55dabb=_0x18f08a(_0x522dec),_0x356191=parseInt(_0x45ae3b||'0');_0x356191=Math[_0x459296(0x3e4)](_0x356191),_0x55dabb!==null?_0x976fe4=_0x55dabb[_0x459296(0x20a)](_0x459296(0x76a),{'minimumFractionDigits':_0x356191,'maximumFractionDigits':_0x356191}):(console[_0x459296(0x156)](_0x459296(0x5d5)+_0x522dec),_0x976fe4=null);break;case'toBRL':let _0x3d84e0=_0x18f08a(_0x522dec);_0x3d84e0!==null?_0x976fe4=_0x3d84e0[_0x459296(0x20a)](_0x459296(0x76a),{'style':'currency','currency':_0x459296(0x51f)}):(console[_0x459296(0x156)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x522dec),_0x976fe4=null);break;case _0x459296(0x517):_0x976fe4=_0x522dec[_0x459296(0xf7)]();break;case _0x459296(0x1b1):_0x976fe4=_0x522dec[_0x459296(0x48c)]();break;case _0x459296(0x59b):_0x976fe4=_0x522dec['split']('\x20')[_0x459296(0xef)](_0x178fca=>_0x178fca['charAt'](0x0)[_0x459296(0xf7)]()+_0x178fca[_0x459296(0xe9)](0x1)[_0x459296(0x48c)]())[_0x459296(0x18d)]('\x20');break;case _0x459296(0x570):_0x976fe4=_0x522dec['trim']();break;default:_0x976fe4=_0x522dec;}return _0x976fe4!==null?_0x976fe4[_0x459296(0x6ca)]():null;}async[a0_0x15841b(0x58d)](_0x3ea58c,_0x468f6b){const _0x3bbb69=a0_0x15841b;try{let _0x362474=_0x3ea58c[_0x3bbb69(0x652)]?.['filter'](_0x3f3f60=>_0x3f3f60[_0x3bbb69(0x5ac)]===_0x468f6b[_0x3bbb69(0x333)]?.[_0x3bbb69(0x6ca)]())||[],_0x3e904f=_0x468f6b[_0x3bbb69(0x58c)],_0x3b9920=null,_0xcf8199=[],_0x5b773b=_0x3ea58c['chatLog']['realVariables'][_0x3e904f];_0xcf8199[_0x3bbb69(0x627)](_0x3bbb69(0x507)+_0x5b773b+'\x22');for(let _0x4f443f of _0x362474){_0x4f443f[_0x3bbb69(0x6a3)]=_0x5b773b,_0x3b9920=_0x4f443f[_0x3bbb69(0x6a3)];let _0xad5b3b;try{_0xad5b3b=this[_0x3bbb69(0x151)](_0x3ea58c,_0x4f443f);}catch(_0x4652c4){console['error'](_0x3bbb69(0x625)+_0x4652c4[_0x3bbb69(0x573)]);continue;}if(_0xad5b3b!==null){let _0x45598c='Operador:\x20\x22'+_0x4f443f[_0x3bbb69(0x2be)]+'\x22',_0x4a5bad=[_0x3bbb69(0x6fa),_0x3bbb69(0x517),_0x3bbb69(0x1b1),'capitalizedWords',_0x3bbb69(0x570)];_0x4f443f['editOperator']===_0x3bbb69(0x1cc)||_0x4f443f['editOperator']===_0x3bbb69(0x56c)?_0x45598c+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x4f443f[_0x3bbb69(0x64b)]+_0x3bbb69(0x383)+_0x4f443f[_0x3bbb69(0x416)]+'\x22':!_0x4a5bad['includes'](_0x4f443f[_0x3bbb69(0x2be)])&&_0x4f443f[_0x3bbb69(0x64b)]!==null&&_0x4f443f[_0x3bbb69(0x64b)]!==void 0x0&&(_0x45598c+=_0x3bbb69(0x354)+_0x4f443f['secondValue']+'\x22'),_0x45598c+=',\x20resultado:\x20'+_0xad5b3b+'.',_0xcf8199[_0x3bbb69(0x627)](_0x45598c);}_0xad5b3b!==null&&(_0x5b773b=_0xad5b3b);}if(_0x3ea58c['chatLog'][_0x3bbb69(0x1a7)]&&_0x468f6b[_0x3bbb69(0x58c)]){_0x3ea58c[_0x3bbb69(0x3aa)][_0x3bbb69(0x1a7)][_0x468f6b['saveVariable']]=_0x5b773b;let _0x52ee5d={'variable':_0x468f6b['saveVariable'],'oldValue':_0x3b9920,'newValue':_0x5b773b,'moreLogs':_0xcf8199};try{this[_0x3bbb69(0x562)](_0x3ea58c,_0x468f6b,_0x52ee5d);}catch(_0x1db75f){console['error'](_0x3bbb69(0x77c)+_0x1db75f['message']);}}return _0x3e904f;}catch(_0x95ef87){return console[_0x3bbb69(0x45f)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x95ef87['message']),null;}}async[a0_0x15841b(0x75b)](_0x14b6ee,_0x23a643){const _0x1a2654=a0_0x15841b;try{let _0x2661f6=[],_0x22a7d9=_0x14b6ee[_0x1a2654(0x264)][_0x1a2654(0x2f3)](_0x328be3=>_0x328be3['blockId']===_0x23a643[_0x1a2654(0x333)]['toString']()),_0x28eb9b=null,_0x5d8c91=!0x1;for(let _0x3a5754 of _0x22a7d9){let _0x3c07db=this[_0x1a2654(0x220)](_0x14b6ee,_0x3a5754);_0x2661f6[_0x1a2654(0x627)](_0x1a2654(0x2f8)+_0x3a5754[_0x1a2654(0x6a3)]+_0x1a2654(0x76b)+_0x3a5754[_0x1a2654(0x778)]+_0x1a2654(0x749)+_0x3a5754[_0x1a2654(0x64b)]+_0x1a2654(0x28b)+_0x3c07db),_0x28eb9b===null?_0x28eb9b=_0x3c07db:_0x3a5754[_0x1a2654(0x169)]===_0x1a2654(0x3d6)?(_0x28eb9b=_0x28eb9b&&_0x3c07db,_0x3c07db||(_0x5d8c91=!0x0)):_0x3a5754[_0x1a2654(0x169)]==='or'&&(_0x5d8c91||(_0x28eb9b=_0x28eb9b||_0x3c07db));}_0x28eb9b===null&&(_0x28eb9b=!0x0);let _0xcab96d={'moreLogs':_0x2661f6};_0x14b6ee['chatLog'][_0x1a2654(0x379)]=_0x28eb9b,await this[_0x1a2654(0x562)](_0x14b6ee,_0x23a643,_0xcab96d);}catch(_0x21f95c){this[_0x1a2654(0x781)][_0x1a2654(0x45f)](this[_0x1a2654(0x1fd)]+'\x20('+this['instance']['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+(_0x21f95c instanceof Error?_0x21f95c['message']:JSON[_0x1a2654(0x194)](_0x21f95c,null,0x2)));}}[a0_0x15841b(0x220)](_0x12a459,_0x4f49a0){const _0xfc72dc=a0_0x15841b;let _0x6b51ec=_0x4f49a0['firstValue'],_0x4d4a25=_0x4f49a0['secondValue'];typeof _0x6b51ec==_0xfc72dc(0x421)&&(_0x6b51ec=this[_0xfc72dc(0x1e4)](_0x6b51ec,_0x12a459[_0xfc72dc(0x3aa)][_0xfc72dc(0x1a7)])??''),typeof _0x4d4a25==_0xfc72dc(0x421)&&(_0x4d4a25=this[_0xfc72dc(0x1e4)](_0x4d4a25,_0x12a459['chatLog']['realVariables'])??'');try{switch(_0x4f49a0[_0xfc72dc(0x778)]){case _0xfc72dc(0x1da):return _0x6b51ec===_0x4d4a25;case _0xfc72dc(0x47a):return _0x6b51ec!==_0x4d4a25;case _0xfc72dc(0x331):return this[_0xfc72dc(0x331)](_0x6b51ec,_0x4d4a25);case _0xfc72dc(0x4f4):return!this[_0xfc72dc(0x331)](_0x6b51ec,_0x4d4a25);case _0xfc72dc(0x480):return parseFloat(_0x6b51ec)>parseFloat(_0x4d4a25);case'less':return parseFloat(_0x6b51ec)<parseFloat(_0x4d4a25);case _0xfc72dc(0x718):return _0x6b51ec!=='';case'empty':return _0x6b51ec==='';case _0xfc72dc(0x3be):return new RegExp(_0x4d4a25)[_0xfc72dc(0x153)](_0x6b51ec);case _0xfc72dc(0x1b0):return!new RegExp(_0x4d4a25)[_0xfc72dc(0x153)](_0x6b51ec);default:return!0x1;}}catch(_0x4bd977){return console[_0xfc72dc(0x45f)](_0xfc72dc(0x1c6)+_0x4bd977),!0x1;}}[a0_0x15841b(0x331)](_0x4eacc2,_0x1a344e){const _0xac469=a0_0x15841b;if(_0x4eacc2===_0x1a344e&&/^\d+$/[_0xac469(0x153)](_0x4eacc2))return!0x0;if(this[_0xac469(0x367)](_0x4eacc2)&&/^\d+$/[_0xac469(0x153)](_0x1a344e)){let _0x5c1564=_0x4eacc2[_0xac469(0x69d)](',')[_0xac469(0xef)](_0x47160d=>parseInt(_0x47160d['trim']())),_0x740d8c=parseInt(_0x1a344e);return _0x5c1564['includes'](_0x740d8c);}return _0x4eacc2[_0xac469(0x278)](_0x1a344e);}[a0_0x15841b(0x367)](_0x352796){const _0xa36969=a0_0x15841b;return/^\d+(,\d+)*$/[_0xa36969(0x153)](_0x352796);}[a0_0x15841b(0x12a)](_0x4b1f73){const _0x3c3c9c=a0_0x15841b;let _0x3e3ccf=!0x0,_0x2e13d7=null;for(let _0x439074 of _0x4b1f73){let _0x36c7c0=this['evaluateConditionTest'](_0x439074);if(_0x2e13d7==='or'&&_0x36c7c0){_0x3e3ccf=!0x0;break;}if(_0x2e13d7===_0x3c3c9c(0x3d6)&&!_0x36c7c0){_0x3e3ccf=!0x1;break;}_0x2e13d7=_0x439074['OrAnd'];}return _0x3e3ccf;}[a0_0x15841b(0x2d2)](_0x43aee0){const _0x2114d3=a0_0x15841b;let _0x30da6a=_0x43aee0['firstValue'],_0x205ff8=_0x43aee0[_0x2114d3(0x64b)];try{switch(_0x43aee0[_0x2114d3(0x778)]){case _0x2114d3(0x1da):return String(_0x30da6a)===String(_0x205ff8);case _0x2114d3(0x47a):return String(_0x30da6a)!==String(_0x205ff8);case'contains':return String(_0x30da6a)[_0x2114d3(0x278)](String(_0x205ff8));case _0x2114d3(0x4f4):return!String(_0x30da6a)[_0x2114d3(0x278)](String(_0x205ff8));case _0x2114d3(0x480):return parseFloat(String(_0x30da6a))>parseFloat(String(_0x205ff8));case _0x2114d3(0x1ee):return parseFloat(String(_0x30da6a))<parseFloat(String(_0x205ff8));case _0x2114d3(0x718):return String(_0x30da6a)!=='';case _0x2114d3(0x3b1):return String(_0x30da6a)==='';case _0x2114d3(0x3be):return new RegExp(String(_0x205ff8))[_0x2114d3(0x153)](String(_0x30da6a));case _0x2114d3(0x1b0):return!new RegExp(String(_0x205ff8))['test'](String(_0x30da6a));default:return!0x1;}}catch(_0x38ce75){return console[_0x2114d3(0x45f)](_0x2114d3(0x1c6)+_0x38ce75),!0x1;}}async['saveTextReply'](_0x787cb8,_0x5114e0){const _0x22000a=a0_0x15841b;if(this[_0x22000a(0x781)]['verbose'](this[_0x22000a(0x1fd)]+'\x20('+this[_0x22000a(0x74f)][_0x22000a(0x370)]+_0x22000a(0x590)),!_0x787cb8||!_0x5114e0)return this[_0x22000a(0x781)][_0x22000a(0x45f)](this[_0x22000a(0x1fd)]+'\x20('+this['instance'][_0x22000a(0x370)]+_0x22000a(0x73f)),null;let _0x10be41=_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x706)][_0x22000a(0x500)]['id'];this[_0x22000a(0x781)][_0x22000a(0x2b5)](this['instanceName']+'\x20('+this[_0x22000a(0x74f)][_0x22000a(0x370)]+_0x22000a(0x449)+_0x10be41);let _0x5ae47a={'key':{'id':_0x10be41}},_0x4c0fec=_0x5114e0[_0x22000a(0x58c)];_0x787cb8[_0x22000a(0x3aa)]['realVariables']['_'+_0x4c0fec+_0x22000a(0x2e8)]=null,_0x787cb8['chatLog'][_0x22000a(0x1a7)]['_'+_0x4c0fec+_0x22000a(0x30d)]=null,_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x1a7)]['_'+_0x4c0fec+_0x22000a(0x663)]=null,_0x787cb8[_0x22000a(0x3aa)]['realVariables']['_'+_0x4c0fec+_0x22000a(0x668)]=_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x706)][_0x22000a(0x265)];try{let _0xbd08c0=await this[_0x22000a(0x4b4)](_0x5ae47a);this[_0x22000a(0x781)]['verbose'](this[_0x22000a(0x1fd)]+'\x20('+this['instance']['wuid']+_0x22000a(0x713)),_0x787cb8[_0x22000a(0x3aa)]['realVariables']['_'+_0x4c0fec+_0x22000a(0x712)]=_0xbd08c0[_0x22000a(0x769)],_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x1a7)]['_'+_0x4c0fec+_0x22000a(0x30d)]=_0xbd08c0['mimetype'];let _0x46d8ed=_0xbd08c0[_0x22000a(0x553)]['match'](/\/(\w+)$/),_0x23be2a=_0x46d8ed?_0x46d8ed[0x1]:null;_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x1a7)]['_'+_0x4c0fec+'.extension']=_0x23be2a,this[_0x22000a(0x781)]['verbose'](this[_0x22000a(0x1fd)]+'\x20('+this[_0x22000a(0x74f)][_0x22000a(0x370)]+_0x22000a(0x1a3)+_0x4c0fec+'\x27.');}catch(_0x56225f){this[_0x22000a(0x781)][_0x22000a(0x45f)](this[_0x22000a(0x1fd)]+'\x20('+this['instance']['wuid']+_0x22000a(0x72c)+_0x56225f);}let _0x4b2f4a=_0x787cb8[_0x22000a(0x3aa)]['lastReceivedMessage'][_0x22000a(0x338)]||_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x706)][_0x22000a(0x752)]||_0x787cb8[_0x22000a(0x3aa)]['lastReceivedMessage'][_0x22000a(0x35d)];try{_0x787cb8['chatLog']['realVariables']||(_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x1a7)]={});let _0x3465c6=_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x1a7)][_0x4c0fec];_0x787cb8[_0x22000a(0x3aa)][_0x22000a(0x1a7)][_0x4c0fec]=_0x4b2f4a;let _0x53c4f1={'variable':_0x4c0fec,'oldValue':_0x3465c6,'newValue':_0x4b2f4a};this[_0x22000a(0x562)](_0x787cb8,_0x5114e0,_0x53c4f1),this[_0x22000a(0x781)][_0x22000a(0x2b5)](this['instanceName']+'\x20('+this[_0x22000a(0x74f)]['wuid']+_0x22000a(0x2bb));}catch(_0x20022a){let _0x57947f={'error':!0x0,'errorLog':_0x20022a[_0x22000a(0x6ca)]()};return this[_0x22000a(0x562)](_0x787cb8,_0x5114e0,_0x57947f),this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x22000a(0x370)]+_0x22000a(0x126)+(_0x20022a instanceof Error?_0x20022a[_0x22000a(0x573)]:JSON[_0x22000a(0x194)](_0x20022a,null,0x2))),null;}}async[a0_0x15841b(0x341)](_0x44f226,_0x5207c1){const _0x2fac24=a0_0x15841b;if(this[_0x2fac24(0x781)][_0x2fac24(0x2b5)](this[_0x2fac24(0x1fd)]+'\x20('+this[_0x2fac24(0x74f)]['wuid']+_0x2fac24(0x403)),!_0x44f226||!_0x5207c1)return this[_0x2fac24(0x781)]['error'](this[_0x2fac24(0x1fd)]+'\x20('+this[_0x2fac24(0x74f)][_0x2fac24(0x370)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3fa3a5=Date['now'](),_0x46654f=parseInt(_0x5207c1[_0x2fac24(0x216)],0xa);if(isNaN(_0x46654f))return this[_0x2fac24(0x781)][_0x2fac24(0x45f)](this[_0x2fac24(0x1fd)]+'\x20('+this[_0x2fac24(0x74f)][_0x2fac24(0x370)]+_0x2fac24(0x647)),null;let _0x47d893={'newStoppedUntil':_0x3fa3a5+_0x46654f*0x3c*0x3e8};return await this[_0x2fac24(0x562)](_0x44f226,_0x5207c1,_0x47d893,!0x0),null;}async[a0_0x15841b(0x631)](_0x1deefd,_0x5c4bdf){const _0xf02eda=a0_0x15841b;try{switch(_0x5c4bdf[_0xf02eda(0x62a)]['command']){case _0xf02eda(0x3a4):await this[_0xf02eda(0x146)](_0x1deefd,_0x5c4bdf);break;case _0xf02eda(0x371):await this[_0xf02eda(0x1b8)](_0x1deefd,_0x5c4bdf);break;case'sendLocation':await this[_0xf02eda(0x5d8)](_0x1deefd,_0x5c4bdf);break;case _0xf02eda(0x60b):await this[_0xf02eda(0x3c8)](_0x1deefd,_0x5c4bdf);break;case'sendContact':await this[_0xf02eda(0x23e)](_0x1deefd,_0x5c4bdf);break;case _0xf02eda(0x4b3):await this[_0xf02eda(0x1ed)](_0x1deefd,_0x5c4bdf);break;case _0xf02eda(0x406):await this[_0xf02eda(0x1ed)](_0x1deefd,_0x5c4bdf);break;case'deleteMessage':await this[_0xf02eda(0x5d4)](_0x1deefd,_0x5c4bdf);break;default:this[_0xf02eda(0x781)][_0xf02eda(0x45f)](this[_0xf02eda(0x1fd)]+'\x20('+this[_0xf02eda(0x74f)][_0xf02eda(0x370)]+_0xf02eda(0x1f3)+_0x5c4bdf['uazapi'][_0xf02eda(0x46b)]);}}catch(_0x4f0ca1){this['logger'][_0xf02eda(0x45f)](this[_0xf02eda(0x1fd)]+'\x20('+this['instance']['wuid']+_0xf02eda(0x67d)+(_0x4f0ca1 instanceof Error?_0x4f0ca1[_0xf02eda(0x573)]:JSON['stringify'](_0x4f0ca1,null,0x2)));}}async[a0_0x15841b(0x562)](_0x16d899,_0x3c99fc,_0x4778a1,_0x4ab830=!0x1,_0x2abcdf=!0x1){const _0x233f9b=a0_0x15841b;_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x42d)]||(_0x16d899['chatLog'][_0x233f9b(0x42d)]=[]);let _0x54afcd=(_0x16d899['chatLog'][_0x233f9b(0x42d)]?.[_0x233f9b(0x561)]??0x0)+0x1,_0x1bf39e=_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x42d)][_0x233f9b(0x2f3)](_0x32c81f=>String(_0x32c81f[_0x233f9b(0x5ac)])===String(_0x3c99fc['_id']))['length']+0x1,_0x20671c=_0x4778a1?.[_0x233f9b(0x6d2)]??Date[_0x233f9b(0x1db)](),_0x3effa9=_0x4778a1?.[_0x233f9b(0x45f)]?_0x4778a1['errorLog']??_0x4778a1[_0x233f9b(0x45f)][_0x233f9b(0x6ca)]():void 0x0,_0x4a76c6={'onTime':_0x20671c,'blockId':_0x3c99fc[_0x233f9b(0x333)],'order':_0x54afcd,'activatedCount':_0x1bf39e,'error':_0x4778a1?.[_0x233f9b(0x45f)]??!0x1,'messageId':_0x4778a1?.[_0x233f9b(0x328)],'apiResponse':_0x4778a1?.[_0x233f9b(0x477)],'apiResponseString':_0x4778a1?.['apiResponse']?JSON['stringify'](_0x4778a1?.[_0x233f9b(0x477)]):void 0x0,'variable':_0x4778a1?.[_0x233f9b(0x554)],'oldValue':_0x4778a1?.[_0x233f9b(0x12f)],'newValue':_0x4778a1?.[_0x233f9b(0x76d)],'newStoppedUntil':_0x4778a1?.[_0x233f9b(0x68a)],'moreLogs':_0x4778a1?.[_0x233f9b(0x670)],'errorLog':_0x3effa9};if(_0x4778a1['moreLogs']&&_0x4778a1['moreLogs']['length']>0x0){let _0x34e26e=_0x4778a1[_0x233f9b(0x670)]['map'](_0x186180=>this[_0x233f9b(0x39e)](_0x186180,_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x1a7)]));_0x4a76c6[_0x233f9b(0x670)]=_0x34e26e;}_0x16d899['chatLog']['realVariables']||(_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x1a7)]={}),_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x1a7)][_0x233f9b(0x6d4)]=String(_0x1bf39e),_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x1a7)][_0x233f9b(0x54d)]=String(_0x4778a1[_0x233f9b(0x45f)]??!0x1),_0x16d899['chatLog']['blockLogs'][_0x233f9b(0x627)](_0x4a76c6),_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x728)]=_0x3c99fc[_0x233f9b(0x333)][_0x233f9b(0x6ca)](),_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x63e)]&&(_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x63e)]=_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x63e)]),_0x16d899['chatLog'][_0x233f9b(0x706)]&&(_0x16d899['chatLog'][_0x233f9b(0x706)]=_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x706)]),_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x379)]&&(_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x379)]=_0x16d899[_0x233f9b(0x3aa)][_0x233f9b(0x379)]),_0x2abcdf&&(_0x16d899[_0x233f9b(0x633)]=_0x233f9b(0x3cc)),_0x4ab830?this[_0x233f9b(0x613)](_0x16d899):this[_0x233f9b(0x132)](_0x16d899,_0x3c99fc);}[a0_0x15841b(0x39e)](_0x566fa9,_0x5bf295){return _0x566fa9['replace'](/\{\{([^}]+)\}\}/g,(_0x52467b,_0x389d85)=>_0x5bf295[_0x389d85]?'{{'+_0x389d85+'}}\x20->\x20\x22'+_0x5bf295[_0x389d85]+'\x22':'{{'+_0x389d85+'}}\x20->\x20valor\x20não\x20encontrado');}async['saveConversationToDatabase'](_0x2222a8){const _0x20989e=a0_0x15841b;try{let _0x5669b0=Object['entries'](_0x2222a8['chatLog'][_0x20989e(0x1a7)])[_0x20989e(0xef)](([_0x49d00a,_0x562f6e])=>({'name':_0x49d00a,'value':_0x562f6e})),_0xb603a0={'status':_0x2222a8[_0x20989e(0x633)],'blocks':_0x2222a8[_0x20989e(0x4c3)],'waitingMenu_id':_0x2222a8[_0x20989e(0x2e5)],'waitingMenu_text':_0x2222a8[_0x20989e(0x24e)],'waitingMenu_replyOptions':_0x2222a8['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x2222a8[_0x20989e(0x3aa)][_0x20989e(0x728)],'lastSendMessage':_0x2222a8[_0x20989e(0x3aa)]['lastSendMessage'],'lastReceivedMessage':_0x2222a8[_0x20989e(0x3aa)][_0x20989e(0x706)],'lastCondition':_0x2222a8[_0x20989e(0x3aa)]['lastCondition'],'chatVariables':_0x5669b0,'realVariables':_0x2222a8[_0x20989e(0x3aa)][_0x20989e(0x1a7)],'blockLogs':_0x2222a8[_0x20989e(0x3aa)][_0x20989e(0x42d)]}},_0x4ab192=await this[_0x20989e(0x15c)][_0x20989e(0x511)][_0x20989e(0x13c)](_0x2222a8[_0x20989e(0x333)],_0xb603a0,this[_0x20989e(0x74f)][_0x20989e(0x370)]);if(_0x4ab192){this[_0x20989e(0x781)][_0x20989e(0x2b5)](this[_0x20989e(0x1fd)]+'\x20('+this['instance'][_0x20989e(0x370)]+_0x20989e(0x639)+_0x4ab192[_0x20989e(0x333)]);try{let _0x18e9b2=[_0x20989e(0x5df),_0x20989e(0x296),_0x20989e(0x5c0),_0x20989e(0x580),_0x20989e(0x633),_0x20989e(0x547),_0x20989e(0x293),'tags',_0x20989e(0x1c5)];if(!this[_0x20989e(0x15e)]&&(await this[_0x20989e(0x45b)](),!this[_0x20989e(0x15e)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x45e6af=this['AutomateSystem']?.[_0x20989e(0x760)][_0x20989e(0xef)](_0x4564d4=>_0x4564d4[_0x20989e(0x424)]),_0x24356c={};Object['entries'](_0x2222a8[_0x20989e(0x3aa)][_0x20989e(0x1a7)])[_0x20989e(0x537)](([_0x1612f3,_0x277248])=>{const _0x57d836=_0x20989e;_0x18e9b2['includes'](_0x1612f3)&&(_0x1612f3===_0x57d836(0x415)&&typeof _0x277248==_0x57d836(0x421)?_0x24356c[_0x1612f3]=_0x277248['split'](',')[_0x57d836(0xef)](_0x3c27bf=>_0x3c27bf[_0x57d836(0x43c)]())[_0x57d836(0x2f3)](_0x2ebc60=>_0x2ebc60!==''):_0x1612f3===_0x57d836(0x1c5)&&typeof _0x277248=='string'?_0x24356c[_0x1612f3]=_0x277248[_0x57d836(0x69d)](',')[_0x57d836(0xef)](_0x4739=>_0x4739[_0x57d836(0x43c)]())[_0x57d836(0x2f3)](_0x2ac3e9=>_0x2ac3e9!==''):_0x24356c[_0x1612f3]=_0x277248);});let _0x244f4f=_0x2222a8[_0x20989e(0x3aa)][_0x20989e(0x42d)][_0x2222a8[_0x20989e(0x3aa)][_0x20989e(0x42d)][_0x20989e(0x561)]-0x1];if(_0x244f4f){let _0x5e02b9=_0x244f4f['newStoppedUntil'];_0x5e02b9!==void 0x0&&(_0x24356c[_0x20989e(0x745)]=_0x5e02b9[_0x20989e(0x6ca)]());}let _0xdb661b=_0x5669b0[_0x20989e(0x2f3)](_0x14f973=>_0x45e6af[_0x20989e(0x278)](_0x14f973[_0x20989e(0x424)]));this['logger'][_0x20989e(0x2b5)](this[_0x20989e(0x1fd)]+'\x20('+this['instance']['wuid']+_0x20989e(0x5b0)),this[_0x20989e(0x781)]['verbose'](_0x24356c),this['logger'][_0x20989e(0x2b5)](this[_0x20989e(0x1fd)]+'\x20('+this[_0x20989e(0x74f)][_0x20989e(0x370)]+_0x20989e(0x4ec)),this['logger'][_0x20989e(0x2b5)](_0xdb661b);let _0x28eac4=_0xdb661b[_0x20989e(0xef)](_0x137562=>{const _0x47a735=_0x20989e;let _0x43b5a5=this['AutomateSystem']?.['customFields']['find'](_0x2dd89f=>_0x2dd89f[_0x47a735(0x424)]===_0x137562['name']);if(!_0x43b5a5)throw new Error(_0x47a735(0x56a)+_0x137562['name']);return{'_id':_0x43b5a5[_0x47a735(0x333)],'value':_0x137562[_0x47a735(0x5f2)]};});this[_0x20989e(0x781)][_0x20989e(0x2b5)](this[_0x20989e(0x1fd)]+'\x20('+this[_0x20989e(0x74f)][_0x20989e(0x370)]+_0x20989e(0x55c)),this[_0x20989e(0x781)][_0x20989e(0x2b5)](_0x28eac4),await this[_0x20989e(0x375)](_0x2222a8[_0x20989e(0x316)],_0x24356c,_0x28eac4);}catch(_0x5a17a1){this['logger'][_0x20989e(0x45f)](this[_0x20989e(0x1fd)]+'\x20('+this['instance'][_0x20989e(0x370)]+_0x20989e(0x765)+(_0x5a17a1 instanceof Error?_0x5a17a1[_0x20989e(0x573)]:JSON['stringify'](_0x5a17a1,null,0x2)));}}else this['logger'][_0x20989e(0x45f)](this[_0x20989e(0x1fd)]+'\x20('+this['instance']['wuid']+_0x20989e(0x518));}catch(_0xd23c50){this[_0x20989e(0x781)][_0x20989e(0x45f)](this[_0x20989e(0x1fd)]+'\x20('+this[_0x20989e(0x74f)]['wuid']+_0x20989e(0x528)+(_0xd23c50 instanceof Error?_0xd23c50['message']:JSON[_0x20989e(0x194)](_0xd23c50,null,0x2)));}}async[a0_0x15841b(0x375)](_0x272cd3,_0x39cd9e,_0x2a2218){const _0x26919c=a0_0x15841b;try{let _0x308bf9={'leadInfo.leadnome':_0x39cd9e[_0x26919c(0x5df)],'leadInfo.nomecompleto':_0x39cd9e['nomecompleto'],'leadInfo.email':_0x39cd9e[_0x26919c(0x5c0)],'leadInfo.cpf':_0x39cd9e[_0x26919c(0x580)],'leadInfo.status':_0x39cd9e[_0x26919c(0x633)],'leadInfo.notas':_0x39cd9e[_0x26919c(0x547)],'leadInfo.responsavelid':_0x39cd9e[_0x26919c(0x293)],'leadInfo.tags':_0x39cd9e[_0x26919c(0x415)],'leadInfo.etiquetas':_0x39cd9e[_0x26919c(0x1c5)],'leadInfo.customFields':_0x2a2218},_0x834040=await this[_0x26919c(0x15c)][_0x26919c(0x755)]['findOne']({'where':{'_id':_0x272cd3}},this[_0x26919c(0x74f)][_0x26919c(0x370)]),_0x4787f4=new Set(_0x834040['leadInfo'][_0x26919c(0x1c5)]||[]),_0x34c94e=new Set(_0x39cd9e['etiquetas']||[]),_0x54cfe0=await this[_0x26919c(0x15c)]['label'][_0x26919c(0x76f)]({'where':{}},this[_0x26919c(0x74f)][_0x26919c(0x370)]),_0x480d8a=new Set(_0x54cfe0[_0x26919c(0xef)](_0x1a3700=>_0x1a3700[_0x26919c(0x333)])),_0x5a9ef9=[..._0x34c94e][_0x26919c(0x2f3)](_0x314630=>!_0x4787f4['has'](_0x314630)&&_0x480d8a[_0x26919c(0x5ee)](_0x314630)),_0xcc062b=[..._0x4787f4][_0x26919c(0x2f3)](_0x46a488=>!_0x34c94e[_0x26919c(0x5ee)](_0x46a488));for(let _0x5cc4da of _0x5a9ef9)await this[_0x26919c(0x5e1)](_0x5cc4da,_0x834040[_0x26919c(0x333)]),_0x4787f4[_0x26919c(0x720)](_0x5cc4da);for(let _0x2f3714 of _0xcc062b)await this['RemoveChatLabel'](_0x2f3714,_0x834040[_0x26919c(0x333)]),_0x4787f4[_0x26919c(0x453)](_0x2f3714);if(_0x26919c(0x745)in _0x39cd9e){let _0x1bc0e2=_0x39cd9e[_0x26919c(0x745)];_0x308bf9[_0x26919c(0x303)]=_0x1bc0e2?Number(_0x1bc0e2):null;}let _0x49fdc0=await this[_0x26919c(0x15c)][_0x26919c(0x755)]['updateOne']({'where':{'_id':_0x272cd3}},_0x308bf9,this['instance']['wuid']);_0x49fdc0?(this[_0x26919c(0x781)]['verbose'](this['instanceName']+'\x20('+this[_0x26919c(0x74f)][_0x26919c(0x370)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x49fdc0['_id']),U(this[_0x26919c(0x1fd)],'chats',{'chat':_0x49fdc0})):this[_0x26919c(0x781)][_0x26919c(0x45f)](this[_0x26919c(0x1fd)]+'\x20('+this[_0x26919c(0x74f)][_0x26919c(0x370)]+_0x26919c(0x520));}catch(_0x2d415a){this['logger'][_0x26919c(0x45f)](this['instanceName']+'\x20('+this[_0x26919c(0x74f)]['wuid']+_0x26919c(0x138)+(_0x2d415a instanceof Error?_0x2d415a[_0x26919c(0x573)]:JSON[_0x26919c(0x194)](_0x2d415a,null,0x2)));}}async['updateStopChat'](_0xc1b1d4,_0x2b181e){const _0x55661e=a0_0x15841b;this[_0x55661e(0x781)][_0x55661e(0x2b5)](this[_0x55661e(0x1fd)]+'\x20('+this[_0x55661e(0x74f)][_0x55661e(0x370)]+'):\x20atualização\x20chat:\x20'+_0x2b181e);try{let _0x480e32=await this['repository'][_0x55661e(0x755)][_0x55661e(0x13c)]({'where':{'_id':_0xc1b1d4[_0x55661e(0x316)]}},{'leadInfo.desativadoFluxoAte':_0x2b181e},this[_0x55661e(0x74f)][_0x55661e(0x370)]);this[_0x55661e(0x781)][_0x55661e(0x2b5)](this[_0x55661e(0x1fd)]+'\x20('+this[_0x55661e(0x74f)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0xc1b1d4['_id']),this[_0x55661e(0x781)][_0x55661e(0x2b5)](this['instanceName']+'\x20('+this[_0x55661e(0x74f)][_0x55661e(0x370)]+_0x55661e(0x311)+JSON[_0x55661e(0x194)](_0x480e32,null,0x2)),_0x480e32&&U(this['instanceName'],'chats',{'chat':_0x480e32});}catch(_0x12e125){this[_0x55661e(0x781)][_0x55661e(0x45f)](this[_0x55661e(0x1fd)]+'\x20('+this[_0x55661e(0x74f)][_0x55661e(0x370)]+_0x55661e(0x2db)+(_0x12e125 instanceof Error?_0x12e125[_0x55661e(0x573)]:JSON[_0x55661e(0x194)](_0x12e125,null,0x2)));}}async['findFlow'](_0x2ec619){const _0x616f68=a0_0x15841b;try{this[_0x616f68(0x781)]['verbose'](this[_0x616f68(0x1fd)]+'\x20('+this[_0x616f68(0x74f)][_0x616f68(0x370)]+_0x616f68(0x74a));let _0x1861fc=_0x2ec619[_0x616f68(0x32f)](/\D/g,''),_0x3b02b9=await this[_0x616f68(0x15c)]['flow'][_0x616f68(0x5d9)]({'where':{'testingWith':_0x1861fc}},this[_0x616f68(0x74f)][_0x616f68(0x370)]);return _0x3b02b9||(this[_0x616f68(0x781)]['verbose'](this[_0x616f68(0x1fd)]+'\x20('+this['instance'][_0x616f68(0x370)]+_0x616f68(0xff)),_0x3b02b9=await this[_0x616f68(0x15c)][_0x616f68(0x360)][_0x616f68(0x5d9)]({'where':{'default':!0x0}},this[_0x616f68(0x74f)][_0x616f68(0x370)])),_0x3b02b9||(this[_0x616f68(0x781)][_0x616f68(0x2b5)](this['instanceName']+'\x20('+this[_0x616f68(0x74f)][_0x616f68(0x370)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x12ab33){return this[_0x616f68(0x781)][_0x616f68(0x45f)](this[_0x616f68(0x1fd)]+'\x20('+this[_0x616f68(0x74f)][_0x616f68(0x370)]+_0x616f68(0x464)+(_0x12ab33 instanceof Error?_0x12ab33[_0x616f68(0x573)]:JSON[_0x616f68(0x194)](_0x12ab33,null,0x2))),null;}}async[a0_0x15841b(0x1c0)](_0x2130c8,_0x242727){const _0x24d5f8=a0_0x15841b;try{let _0x1b9229=!!_0x242727['vote'],_0x491c50=_0x242727[_0x24d5f8(0x2e0)],_0x5c394d=null;if(this[_0x24d5f8(0x781)][_0x24d5f8(0x2b5)](this['instanceName']+'\x20('+this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]+'):\x20isVote:\x20'+_0x1b9229+_0x24d5f8(0x577)+_0x491c50),_0x1b9229){this['logger']['verbose'](this[_0x24d5f8(0x1fd)]+'\x20('+this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x492caf={'where':{'remoteJid':_0x2130c8,'waitingMenu_id':_0x491c50}};if(_0x5c394d=await this[_0x24d5f8(0x15c)][_0x24d5f8(0x511)][_0x24d5f8(0x5d9)](_0x492caf,this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]),!_0x5c394d)return this[_0x24d5f8(0x781)][_0x24d5f8(0x2b5)](this['instanceName']+'\x20('+this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]+_0x24d5f8(0x761)),null;let _0x5d8856=Date[_0x24d5f8(0x1db)](),_0x1cec54=_0x5c394d?.[_0x24d5f8(0x273)]||0x0,_0x1225d2=_0x5d8856-_0x1cec54*0x3c*0x3e8;if(_0x5c394d[_0x24d5f8(0x51c)]<_0x1225d2){this[_0x24d5f8(0x781)][_0x24d5f8(0x2b5)](this['instanceName']+'\x20('+this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]+_0x24d5f8(0x645));let _0x4de72a={'number':_0x5c394d['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x5c394d[_0x24d5f8(0x6da)]}};await this['textMessage'](_0x4de72a);let _0x54247e={'status':_0x24d5f8(0x3cc),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x24d5f8(0x15c)][_0x24d5f8(0x511)][_0x24d5f8(0x13c)](_0x5c394d[_0x24d5f8(0x333)],_0x54247e,this[_0x24d5f8(0x74f)]['wuid']),null;}return _0x5c394d[_0x24d5f8(0x51c)]=Date[_0x24d5f8(0x1db)](),_0x5c394d[_0x24d5f8(0x3aa)][_0x24d5f8(0x706)]=_0x242727,_0x5c394d;}else{this['logger'][_0x24d5f8(0x2b5)](this[_0x24d5f8(0x1fd)]+'\x20('+this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]+'):\x20'+this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]+_0x24d5f8(0x3fc)),this[_0x24d5f8(0x781)][_0x24d5f8(0x2b5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x24d5f8(0x173));let _0x68820a={'where':{'remoteJid':_0x2130c8,'status':_0x24d5f8(0x23c)}};if(_0x5c394d=await this['repository'][_0x24d5f8(0x511)]['findOne'](_0x68820a,this[_0x24d5f8(0x74f)]['wuid']),!_0x5c394d){let _0x1367de=await this['findFlow'](_0x2130c8);if(_0x1367de&&(_0x5c394d=await this[_0x24d5f8(0x326)](_0x1367de,_0x242727[_0x24d5f8(0x500)],_0x242727)),!_0x5c394d)return null;}let _0x37125a=Date[_0x24d5f8(0x1db)](),_0x4d7eb9=_0x5c394d?.[_0x24d5f8(0x273)]||0x0,_0x1fcead=_0x37125a-_0x4d7eb9*0x3c*0x3e8;if(this[_0x24d5f8(0x781)][_0x24d5f8(0x2b5)](this[_0x24d5f8(0x1fd)]+'\x20('+this['instance']['wuid']+_0x24d5f8(0x6a1)+_0x37125a+',\x20Minutes\x20to\x20Close:\x20'+_0x4d7eb9+_0x24d5f8(0x78b)+_0x1fcead),this[_0x24d5f8(0x781)]['verbose'](this[_0x24d5f8(0x1fd)]+'\x20('+this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]+_0x24d5f8(0x526)),this[_0x24d5f8(0x781)][_0x24d5f8(0x2b5)](this['instanceName']+'\x20('+this['instance'][_0x24d5f8(0x370)]+_0x24d5f8(0x22a)+_0x5c394d[_0x24d5f8(0x51c)]),this[_0x24d5f8(0x781)]['verbose'](this['instanceName']+'\x20('+this[_0x24d5f8(0x74f)]['wuid']+_0x24d5f8(0x3f4)+_0x1fcead),_0x5c394d[_0x24d5f8(0x51c)]<_0x1fcead){this[_0x24d5f8(0x781)][_0x24d5f8(0x2b5)](this['instanceName']+'\x20('+this['instance'][_0x24d5f8(0x370)]+_0x24d5f8(0x446));let _0x495598=await this['findFlow'](_0x2130c8);if(_0x495598===null)return null;_0x5c394d&&await this[_0x24d5f8(0x15c)]['flowConversation'][_0x24d5f8(0x13c)](_0x5c394d[_0x24d5f8(0x333)],{'status':_0x24d5f8(0x3cc)},this[_0x24d5f8(0x74f)]['wuid']),_0x5c394d=await this[_0x24d5f8(0x326)](_0x495598,_0x242727[_0x24d5f8(0x500)],_0x242727);}return _0x5c394d[_0x24d5f8(0x51c)]=_0x37125a,_0x5c394d['chatLog'][_0x24d5f8(0x706)]=_0x242727,_0x5c394d;}}catch(_0x216454){return this[_0x24d5f8(0x781)][_0x24d5f8(0x45f)](this[_0x24d5f8(0x1fd)]+'\x20('+this[_0x24d5f8(0x74f)][_0x24d5f8(0x370)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x216454 instanceof Error?_0x216454[_0x24d5f8(0x573)]:JSON[_0x24d5f8(0x194)](_0x216454,null,0x2))),null;}}async['createNewConversation'](_0x2446e4,_0x548d24,_0x241d63){const _0x3c3546=a0_0x15841b;this[_0x3c3546(0x781)]['verbose'](this[_0x3c3546(0x1fd)]+'\x20('+this[_0x3c3546(0x74f)][_0x3c3546(0x370)]+_0x3c3546(0x6fe));try{let _0x15aceb=require(_0x3c3546(0x70c))[_0x3c3546(0x437)],_0x48ff51=Date[_0x3c3546(0x1db)](),_0x5ae778=_0x3c3546(0x669),_0x3aaf06=_0x548d24[_0x3c3546(0x1d8)]?null:_0x241d63,_0x241abd=_0x548d24[_0x3c3546(0x1d8)]?_0x241d63:null,_0x30f61a=_0x548d24[_0x3c3546(0x316)];await this[_0x3c3546(0x399)](_0x30f61a);let _0x8dbba3={..._0x2446e4,'chatLog':null},_0x10f870=await this['variablesToObject'](_0x8dbba3['variables']),_0x4caf89=await this['getVariablesChat'](_0x30f61a),_0x1ebbe4={..._0x10f870,..._0x4caf89,'_remoteJid':_0x30f61a},_0x2ac4f6={'lastReceivedMessage':_0x3aaf06,'lastSendMessage':_0x241abd,'lastBlockId':_0x5ae778,'lastCondition':!0x0,'realVariables':_0x1ebbe4};_0x8dbba3[_0x3c3546(0x3aa)]=_0x2ac4f6,delete _0x8dbba3[_0x3c3546(0x333)],_0x8dbba3['_id']=new _0x15aceb(),_0x8dbba3[_0x3c3546(0x51c)]=_0x48ff51,_0x8dbba3[_0x3c3546(0x633)]=_0x3c3546(0x23c),_0x8dbba3[_0x3c3546(0x316)]=_0x30f61a;let _0x48db43=await this[_0x3c3546(0x15c)][_0x3c3546(0x511)][_0x3c3546(0x13c)](_0x8dbba3['_id'],_0x8dbba3,this[_0x3c3546(0x74f)][_0x3c3546(0x370)]);return this[_0x3c3546(0x781)][_0x3c3546(0x2b5)](this['instanceName']+'\x20('+this[_0x3c3546(0x74f)][_0x3c3546(0x370)]+_0x3c3546(0x4ac)),_0x48db43?_0x8dbba3:null;}catch(_0x569697){return this[_0x3c3546(0x781)]['error'](this[_0x3c3546(0x1fd)]+'\x20('+this[_0x3c3546(0x74f)][_0x3c3546(0x370)]+_0x3c3546(0x144)+(_0x569697 instanceof Error?_0x569697[_0x3c3546(0x573)]:JSON[_0x3c3546(0x194)](_0x569697,null,0x2))),_0x569697;}}async[a0_0x15841b(0x146)](_0x48f7e8,_0x4e7cba){const _0x5204e2=a0_0x15841b;let _0x5c968b=_0x48f7e8[_0x5204e2(0x316)];_0x4e7cba[_0x5204e2(0x62a)][_0x5204e2(0x316)]&&_0x4e7cba['uazapi'][_0x5204e2(0x316)]['trim']()!==''&&(_0x5c968b=_0x4e7cba[_0x5204e2(0x62a)]['remoteJid']['trim']()),this['logger'][_0x5204e2(0x2b5)](this[_0x5204e2(0x1fd)]+'\x20('+this[_0x5204e2(0x74f)][_0x5204e2(0x370)]+_0x5204e2(0x31b));let _0x2c0fb7={'number':_0x5c968b,'options':{'delay':_0x4e7cba[_0x5204e2(0x62a)][_0x5204e2(0x58f)],'linkPreview':_0x4e7cba[_0x5204e2(0x62a)]['linkPreview']},'textMessage':{'text':_0x4e7cba[_0x5204e2(0x62a)][_0x5204e2(0x338)]}};try{let _0xd304b8=await this[_0x5204e2(0x3b3)](_0x2c0fb7);if(_0xd304b8){let _0xfebab3={'_id':_0xd304b8['key']['id'],'_fromMe':_0xd304b8[_0x5204e2(0x500)][_0x5204e2(0x1d8)],'_remoteJid':_0xd304b8[_0x5204e2(0x500)][_0x5204e2(0x316)]},_0x46e826=(0x0,f['normalizeMessageContent'])(_0xd304b8[_0x5204e2(0x573)]),_0x39c6d2=(0x0,f['getContentType'])(_0x46e826);_0x48f7e8['chatLog']['lastBlockId']=_0x4e7cba['_id'][_0x5204e2(0x6ca)]();let {message_normalized:_0x3c4fff}=this[_0x5204e2(0x1c9)](_0x46e826,_0x39c6d2,null);_0x48f7e8[_0x5204e2(0x3aa)][_0x5204e2(0x63e)]=await _0x3c4fff;let _0x35b0ac={'messageId':_0xd304b8[_0x5204e2(0x500)]['id']},_0x104b55=_0x48f7e8[_0x5204e2(0x3aa)]['realVariables'];Object[_0x5204e2(0x1ff)](_0x104b55,_0xfebab3),_0x48f7e8[_0x5204e2(0x3aa)][_0x5204e2(0x1a7)]=_0x104b55,this[_0x5204e2(0x562)](_0x48f7e8,_0x4e7cba,_0x35b0ac);}else{let _0x3b6872={'error':!0x0};this['updateConversation'](_0x48f7e8,_0x4e7cba,_0x3b6872),this[_0x5204e2(0x781)][_0x5204e2(0x45f)](this[_0x5204e2(0x1fd)]+'\x20('+this['instance'][_0x5204e2(0x370)]+_0x5204e2(0x41d));}}catch(_0x37218d){let _0x2355b7={'error':!0x0,'errorLog':_0x37218d[_0x5204e2(0x6ca)]()};this[_0x5204e2(0x562)](_0x48f7e8,_0x4e7cba,_0x2355b7),this[_0x5204e2(0x781)]['error'](this['instanceName']+'\x20('+this[_0x5204e2(0x74f)][_0x5204e2(0x370)]+_0x5204e2(0x20b)+(_0x37218d instanceof Error?_0x37218d[_0x5204e2(0x573)]:JSON[_0x5204e2(0x194)](_0x37218d,null,0x2)));}}async['uazapiSendMedia'](_0x2005e0,_0x37c09d){const _0x346948=a0_0x15841b;let _0x1ce83d=_0x2005e0[_0x346948(0x316)];_0x37c09d[_0x346948(0x62a)][_0x346948(0x316)]&&_0x37c09d[_0x346948(0x62a)]['remoteJid'][_0x346948(0x43c)]()!==''&&(_0x1ce83d=_0x37c09d[_0x346948(0x62a)][_0x346948(0x316)][_0x346948(0x43c)]()),this[_0x346948(0x781)][_0x346948(0x2b5)](this['instanceName']+'\x20('+this[_0x346948(0x74f)][_0x346948(0x370)]+_0x346948(0x2ed));let _0x5401c6={'number':_0x1ce83d,'options':{'delay':_0x37c09d['uazapi'][_0x346948(0x58f)],'linkPreview':_0x37c09d[_0x346948(0x62a)][_0x346948(0x19e)]},'mediaMessage':{'mediatype':_0x37c09d[_0x346948(0x62a)]['mediatype'],'caption':_0x37c09d['uazapi'][_0x346948(0x752)],'media':_0x37c09d[_0x346948(0x62a)][_0x346948(0x565)],'fileName':_0x37c09d[_0x346948(0x62a)]['fileName']}};try{let _0x591a76=await this[_0x346948(0x3c2)](_0x5401c6);if(_0x591a76){let _0x16173e={'_id':_0x591a76[_0x346948(0x500)]['id'],'_fromMe':_0x591a76[_0x346948(0x500)][_0x346948(0x1d8)],'_remoteJid':_0x591a76['key'][_0x346948(0x316)]},_0x3496c9=(0x0,f[_0x346948(0x136)])(_0x591a76[_0x346948(0x573)]),_0x2ec37a=(0x0,f[_0x346948(0x3e9)])(_0x3496c9);_0x2005e0[_0x346948(0x3aa)]['lastBlockId']=_0x37c09d['_id'][_0x346948(0x6ca)]();let {message_normalized:_0x15d3cb}=this[_0x346948(0x1c9)](_0x3496c9,_0x2ec37a,null);_0x2005e0[_0x346948(0x3aa)][_0x346948(0x63e)]=await _0x15d3cb;let _0x5d77ab={'messageId':_0x591a76['key']['id']},_0x36827a=_0x2005e0[_0x346948(0x3aa)]['realVariables'];Object[_0x346948(0x1ff)](_0x36827a,_0x16173e),_0x2005e0[_0x346948(0x3aa)][_0x346948(0x1a7)]=_0x36827a,this[_0x346948(0x562)](_0x2005e0,_0x37c09d,_0x5d77ab);}else{let _0x1092a0={'error':!0x0};this[_0x346948(0x562)](_0x2005e0,_0x37c09d,_0x1092a0),this[_0x346948(0x781)]['error'](this[_0x346948(0x1fd)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x53126c){let _0xe40fae={'error':!0x0,'errorLog':_0x53126c['toString']()};this[_0x346948(0x562)](_0x2005e0,_0x37c09d,_0xe40fae),this['logger']['error'](this[_0x346948(0x1fd)]+'\x20('+this[_0x346948(0x74f)][_0x346948(0x370)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x53126c instanceof Error?_0x53126c[_0x346948(0x573)]:JSON[_0x346948(0x194)](_0x53126c,null,0x2)));}}async[a0_0x15841b(0x5d8)](_0x4ab1fb,_0x427d69){const _0x8c27e5=a0_0x15841b;let _0x599c2a=_0x4ab1fb[_0x8c27e5(0x316)];_0x427d69[_0x8c27e5(0x62a)][_0x8c27e5(0x316)]&&_0x427d69[_0x8c27e5(0x62a)][_0x8c27e5(0x316)][_0x8c27e5(0x43c)]()!==''&&(_0x599c2a=_0x427d69[_0x8c27e5(0x62a)]['remoteJid'][_0x8c27e5(0x43c)]()),this[_0x8c27e5(0x781)]['verbose'](this[_0x8c27e5(0x1fd)]+'\x20('+this[_0x8c27e5(0x74f)][_0x8c27e5(0x370)]+_0x8c27e5(0x587));let _0x3d114d={'number':_0x599c2a,'options':{'delay':_0x427d69[_0x8c27e5(0x62a)][_0x8c27e5(0x58f)]},'locationMessage':{'name':_0x427d69[_0x8c27e5(0x62a)][_0x8c27e5(0x424)],'address':_0x427d69['uazapi']['address'],'latitude':_0x427d69[_0x8c27e5(0x62a)][_0x8c27e5(0x692)],'longitude':_0x427d69[_0x8c27e5(0x62a)][_0x8c27e5(0x275)]}};try{let _0x1555a4=await this[_0x8c27e5(0x732)](_0x3d114d);if(_0x1555a4){let _0x521a5d={'_id':_0x1555a4[_0x8c27e5(0x500)]['id'],'_fromMe':_0x1555a4['key'][_0x8c27e5(0x1d8)],'_remoteJid':_0x1555a4['key']['remoteJid']},_0x51f854=(0x0,f[_0x8c27e5(0x136)])(_0x1555a4[_0x8c27e5(0x573)]),_0x2b718c=(0x0,f[_0x8c27e5(0x3e9)])(_0x51f854);_0x4ab1fb[_0x8c27e5(0x3aa)][_0x8c27e5(0x728)]=_0x427d69[_0x8c27e5(0x333)][_0x8c27e5(0x6ca)]();let {message_normalized:_0x44230e}=this[_0x8c27e5(0x1c9)](_0x51f854,_0x2b718c,null);_0x4ab1fb[_0x8c27e5(0x3aa)][_0x8c27e5(0x63e)]=await _0x44230e;let _0x48c8e={'messageId':_0x1555a4[_0x8c27e5(0x500)]['id']},_0x13d6ba=_0x4ab1fb[_0x8c27e5(0x3aa)]['realVariables'];Object[_0x8c27e5(0x1ff)](_0x13d6ba,_0x521a5d),_0x4ab1fb[_0x8c27e5(0x3aa)][_0x8c27e5(0x1a7)]=_0x13d6ba,this[_0x8c27e5(0x562)](_0x4ab1fb,_0x427d69,_0x48c8e);}else{let _0x269e65={'error':!0x0};this['updateConversation'](_0x4ab1fb,_0x427d69,_0x269e65),this['logger'][_0x8c27e5(0x45f)](this['instanceName']+'\x20('+this['instance'][_0x8c27e5(0x370)]+_0x8c27e5(0x196));}}catch(_0x26d094){let _0x5c6ed7={'error':!0x0,'errorLog':_0x26d094[_0x8c27e5(0x6ca)]()};this[_0x8c27e5(0x562)](_0x4ab1fb,_0x427d69,_0x5c6ed7),this['logger'][_0x8c27e5(0x45f)](this['instanceName']+'\x20('+this[_0x8c27e5(0x74f)]['wuid']+_0x8c27e5(0xd1)+(_0x26d094 instanceof Error?_0x26d094[_0x8c27e5(0x573)]:JSON[_0x8c27e5(0x194)](_0x26d094,null,0x2)));}}async[a0_0x15841b(0x3c8)](_0x5daf13,_0x2238a5){const _0x178011=a0_0x15841b;let _0x3c37f1=_0x5daf13[_0x178011(0x316)];_0x2238a5[_0x178011(0x62a)]['remoteJid']&&_0x2238a5[_0x178011(0x62a)]['remoteJid'][_0x178011(0x43c)]()!==''&&(_0x3c37f1=_0x2238a5[_0x178011(0x62a)][_0x178011(0x316)][_0x178011(0x43c)]()),this['logger'][_0x178011(0x2b5)](this[_0x178011(0x1fd)]+'\x20('+this[_0x178011(0x74f)][_0x178011(0x370)]+_0x178011(0x4d0));let _0x16c137={'number':_0x3c37f1,'options':{'delay':_0x2238a5[_0x178011(0x62a)][_0x178011(0x58f)]},'audioMessage':{'audio':_0x2238a5[_0x178011(0x62a)]['audio']}};try{let _0x129911=await this[_0x178011(0x3d3)](_0x16c137);if(_0x129911){let _0x5896ce={'_id':_0x129911['key']['id'],'_fromMe':_0x129911['key']['fromMe'],'_remoteJid':_0x129911['key'][_0x178011(0x316)]},_0x32ecbf=(0x0,f[_0x178011(0x136)])(_0x129911[_0x178011(0x573)]),_0x126133=(0x0,f['getContentType'])(_0x32ecbf);_0x5daf13[_0x178011(0x3aa)][_0x178011(0x728)]=_0x2238a5[_0x178011(0x333)][_0x178011(0x6ca)]();let {message_normalized:_0x54704f}=this[_0x178011(0x1c9)](_0x32ecbf,_0x126133,null);_0x5daf13[_0x178011(0x3aa)]['lastSendMessage']=await _0x54704f;let _0x210171={'messageId':_0x129911[_0x178011(0x500)]['id']},_0x14bbb9=_0x5daf13[_0x178011(0x3aa)]['realVariables'];Object[_0x178011(0x1ff)](_0x14bbb9,_0x5896ce),_0x5daf13['chatLog'][_0x178011(0x1a7)]=_0x14bbb9,this[_0x178011(0x562)](_0x5daf13,_0x2238a5,_0x210171);}else{let _0x1db924={'error':!0x0};this['updateConversation'](_0x5daf13,_0x2238a5,_0x1db924),this[_0x178011(0x781)][_0x178011(0x45f)](this[_0x178011(0x1fd)]+'\x20('+this[_0x178011(0x74f)][_0x178011(0x370)]+_0x178011(0x2cf));}}catch(_0x208519){let _0x2bfb61={'error':!0x0,'errorLog':_0x208519['toString']()};this['updateConversation'](_0x5daf13,_0x2238a5,_0x2bfb61),this[_0x178011(0x781)][_0x178011(0x45f)](this[_0x178011(0x1fd)]+'\x20('+this['instance'][_0x178011(0x370)]+_0x178011(0x4bd)+(_0x208519 instanceof Error?_0x208519['message']:JSON[_0x178011(0x194)](_0x208519,null,0x2)));}}async['uazapiSendContact'](_0x20f114,_0x26dd73){const _0x5b4ba2=a0_0x15841b;let _0x3e8dd5=_0x20f114[_0x5b4ba2(0x316)];_0x26dd73['uazapi'][_0x5b4ba2(0x316)]&&_0x26dd73[_0x5b4ba2(0x62a)]['remoteJid'][_0x5b4ba2(0x43c)]()!==''&&(_0x3e8dd5=_0x26dd73[_0x5b4ba2(0x62a)][_0x5b4ba2(0x316)]['trim']()),this[_0x5b4ba2(0x781)][_0x5b4ba2(0x2b5)](this[_0x5b4ba2(0x1fd)]+'\x20('+this['instance']['wuid']+_0x5b4ba2(0x1dd));let _0xf19f1f={'number':_0x3e8dd5,'options':{'delay':_0x26dd73[_0x5b4ba2(0x62a)][_0x5b4ba2(0x58f)]},'contactMessage':[{'fullName':_0x26dd73[_0x5b4ba2(0x62a)][_0x5b4ba2(0x43e)],'phoneNumber':_0x26dd73['uazapi'][_0x5b4ba2(0xfe)]}]};try{let _0x57d4fa=await this['contactMessage'](_0xf19f1f);if(_0x57d4fa){let _0x38ecaa={'_id':_0x57d4fa['key']['id'],'_fromMe':_0x57d4fa['key'][_0x5b4ba2(0x1d8)],'_remoteJid':_0x57d4fa[_0x5b4ba2(0x500)][_0x5b4ba2(0x316)]},_0x342a7d=(0x0,f[_0x5b4ba2(0x136)])(_0x57d4fa[_0x5b4ba2(0x573)]),_0x53bd2f=(0x0,f[_0x5b4ba2(0x3e9)])(_0x342a7d);_0x20f114['chatLog']['lastBlockId']=_0x26dd73[_0x5b4ba2(0x333)][_0x5b4ba2(0x6ca)]();let {message_normalized:_0x3ccd9b}=this['normalizeMessage'](_0x342a7d,_0x53bd2f,null);_0x20f114[_0x5b4ba2(0x3aa)][_0x5b4ba2(0x63e)]=await _0x3ccd9b;let _0x5cb007={'messageId':_0x57d4fa[_0x5b4ba2(0x500)]['id']},_0x59f30f=_0x20f114['chatLog'][_0x5b4ba2(0x1a7)];Object['assign'](_0x59f30f,_0x38ecaa),_0x20f114[_0x5b4ba2(0x3aa)]['realVariables']=_0x59f30f,this[_0x5b4ba2(0x562)](_0x20f114,_0x26dd73,_0x5cb007);}else{let _0x165159={'error':!0x0};this[_0x5b4ba2(0x562)](_0x20f114,_0x26dd73,_0x165159),this[_0x5b4ba2(0x781)][_0x5b4ba2(0x45f)](this[_0x5b4ba2(0x1fd)]+'\x20('+this[_0x5b4ba2(0x74f)][_0x5b4ba2(0x370)]+_0x5b4ba2(0x61d));}}catch(_0x378ec0){let _0x28ce7d={'error':!0x0,'errorLog':_0x378ec0[_0x5b4ba2(0x6ca)]()};this[_0x5b4ba2(0x562)](_0x20f114,_0x26dd73,_0x28ce7d),this[_0x5b4ba2(0x781)][_0x5b4ba2(0x45f)](this[_0x5b4ba2(0x1fd)]+'\x20('+this[_0x5b4ba2(0x74f)][_0x5b4ba2(0x370)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x378ec0 instanceof Error?_0x378ec0[_0x5b4ba2(0x573)]:JSON[_0x5b4ba2(0x194)](_0x378ec0,null,0x2)));}}[a0_0x15841b(0x5a2)](_0x217cc2,_0x364e8e){const _0x409ae0=a0_0x15841b;for(let _0xa96bd6 of _0x217cc2)_0xa96bd6[_0x409ae0(0x1f1)]&&(_0xa96bd6[_0x409ae0(0x1f1)]=this[_0x409ae0(0x1e4)](_0xa96bd6['option'],_0x364e8e)),_0xa96bd6['optionDescription']&&(_0xa96bd6['optionDescription']=this[_0x409ae0(0x1e4)](_0xa96bd6['optionDescription'],_0x364e8e));}async[a0_0x15841b(0x1ed)](_0x28c727,_0x388567){const _0x20af23=a0_0x15841b;let _0x5105e5=_0x28c727[_0x20af23(0x316)];_0x388567[_0x20af23(0x62a)][_0x20af23(0x316)]&&_0x388567['uazapi'][_0x20af23(0x316)][_0x20af23(0x43c)]()!==''&&(_0x5105e5=_0x388567[_0x20af23(0x62a)][_0x20af23(0x316)][_0x20af23(0x43c)]()),this[_0x20af23(0x781)][_0x20af23(0x2b5)](this[_0x20af23(0x1fd)]+'\x20('+this['instance']['wuid']+_0x20af23(0x4e3));let _0x59eac7=_0x28c727[_0x20af23(0x610)][_0x20af23(0x2f3)](_0x54c5d3=>_0x54c5d3[_0x20af23(0x5ac)]===_0x388567[_0x20af23(0x333)])['sort']((_0x3e2497,_0x3ea558)=>_0x3e2497[_0x20af23(0x6fb)]-_0x3ea558[_0x20af23(0x6fb)]);this[_0x20af23(0x5a2)](_0x59eac7,_0x28c727[_0x20af23(0x3aa)][_0x20af23(0x1a7)]);let _0x5f4d34=_0x59eac7['map'](_0x33269c=>_0x33269c[_0x20af23(0x1f1)]),_0x398f14={'number':_0x5105e5,'menuMessage':{'type':_0x388567[_0x20af23(0x62a)][_0x20af23(0xf4)]||'poll','text':_0x388567['uazapi'][_0x20af23(0x338)]||_0x388567['uazapi'][_0x20af23(0x424)],'footerText':_0x388567['uazapi'][_0x20af23(0x4e1)],'buttonText':_0x388567[_0x20af23(0x62a)][_0x20af23(0x1bd)],'selectableCount':0x1,'choices':_0x5f4d34},'options':{'delay':_0x388567[_0x20af23(0x62a)][_0x20af23(0x58f)]}};try{let _0x555785=await this[_0x20af23(0x128)](_0x398f14);if(_0x555785){let _0x711af9={'_id':_0x555785[_0x20af23(0x500)]['id'],'_fromMe':_0x555785[_0x20af23(0x500)][_0x20af23(0x1d8)],'_remoteJid':_0x555785[_0x20af23(0x500)][_0x20af23(0x316)]};_0x388567[_0x20af23(0x62a)]['menuIgnoreNonVotes']===!0x0&&(_0x28c727[_0x20af23(0x633)]='waitingForReplyMenu',this[_0x20af23(0x781)]['verbose'](this['instanceName']+'\x20('+this[_0x20af23(0x74f)]['wuid']+'):\x20conversation.status:\x20'+_0x28c727[_0x20af23(0x633)])),this[_0x20af23(0x781)]['verbose'](this[_0x20af23(0x1fd)]+'\x20('+this[_0x20af23(0x74f)]['wuid']+'):\x20nextBlock.uazapi.name'+(_0x388567[_0x20af23(0x62a)][_0x20af23(0x424)]||_0x388567[_0x20af23(0x62a)][_0x20af23(0x338)])),_0x28c727[_0x20af23(0x2e5)]=_0x555785['key']['id'],_0x28c727[_0x20af23(0x24e)]=_0x388567[_0x20af23(0x62a)]['name']||_0x388567['uazapi'][_0x20af23(0x338)],_0x28c727['waitingMenu_replyOptions']=_0x59eac7,_0x388567[_0x20af23(0x62a)]['menuExpiredMessage']&&(_0x28c727['waitingMenu_ExpiredMessage']=_0x388567[_0x20af23(0x62a)][_0x20af23(0x1a4)]),this[_0x20af23(0x781)][_0x20af23(0x2b5)](this['instanceName']+'\x20('+this[_0x20af23(0x74f)][_0x20af23(0x370)]+_0x20af23(0x6f5)+_0x28c727['waitingMenu_text']);let _0x3b3973=(0x0,f[_0x20af23(0x136)])(_0x555785['message']),_0x3654a8=(0x0,f[_0x20af23(0x3e9)])(_0x3b3973);_0x28c727[_0x20af23(0x3aa)][_0x20af23(0x728)]=_0x388567[_0x20af23(0x333)][_0x20af23(0x6ca)]();let {message_normalized:_0x5257e2}=this['normalizeMessage'](_0x3b3973,_0x3654a8,null);_0x28c727[_0x20af23(0x3aa)][_0x20af23(0x63e)]=await _0x5257e2;let _0x143a61={'messageId':_0x555785[_0x20af23(0x500)]['id']},_0x486394=_0x28c727[_0x20af23(0x3aa)][_0x20af23(0x1a7)];Object[_0x20af23(0x1ff)](_0x486394,_0x711af9),_0x28c727['chatLog']['realVariables']=_0x486394,this['updateConversation'](_0x28c727,_0x388567,_0x143a61);}else{let _0x3f0fda={'error':!0x0};this[_0x20af23(0x562)](_0x28c727,_0x388567,_0x3f0fda),this[_0x20af23(0x781)][_0x20af23(0x45f)](this[_0x20af23(0x1fd)]+'\x20('+this[_0x20af23(0x74f)][_0x20af23(0x370)]+_0x20af23(0x78f));}}catch(_0x10ee6b){let _0x33d4e6={'error':!0x0,'errorLog':_0x10ee6b instanceof Error?_0x10ee6b[_0x20af23(0x573)]:JSON[_0x20af23(0x194)](_0x10ee6b,null,0x2)};this['updateConversation'](_0x28c727,_0x388567,_0x33d4e6),this[_0x20af23(0x781)][_0x20af23(0x45f)](this[_0x20af23(0x1fd)]+'\x20('+this['instance'][_0x20af23(0x370)]+_0x20af23(0x197)+(_0x10ee6b instanceof Error?_0x10ee6b[_0x20af23(0x573)]:JSON[_0x20af23(0x194)](_0x10ee6b,null,0x2)));}}async[a0_0x15841b(0x5d4)](_0x166204,_0xd0e480){const _0x520550=a0_0x15841b;this[_0x520550(0x781)]['verbose'](this[_0x520550(0x1fd)]+'\x20('+this[_0x520550(0x74f)]['wuid']+_0x520550(0x1b5));let _0x207a21=_0x166204[_0x520550(0x3aa)]['blockLogs'][_0x520550(0x76f)](_0x4d9713=>_0x4d9713['blockId'][_0x520550(0x6ca)]()===_0xd0e480[_0x520550(0x62a)][_0x520550(0x5ac)][_0x520550(0x6ca)]()),_0x4afb0b={'id':_0x207a21[_0x520550(0x328)],'remoteJid':_0x207a21[_0x520550(0x316)],'fromMe':_0x207a21['fromMe']};try{let _0x1b5369=await this[_0x520550(0x79e)](_0x4afb0b);if(_0x1b5369){let _0x487596=(0x0,f[_0x520550(0x136)])(_0x1b5369[_0x520550(0x573)]),_0xd18725=(0x0,f[_0x520550(0x3e9)])(_0x487596);_0x166204[_0x520550(0x3aa)][_0x520550(0x728)]=_0xd0e480[_0x520550(0x333)][_0x520550(0x6ca)]();let {message_normalized:_0x1a987f}=this[_0x520550(0x1c9)](_0x487596,_0xd18725,null);_0x166204[_0x520550(0x3aa)][_0x520550(0x63e)]=await _0x1a987f;let _0x570a26={};this[_0x520550(0x562)](_0x166204,_0xd0e480,_0x570a26);}else{let _0x2bc0a4={'error':!0x0};this[_0x520550(0x562)](_0x166204,_0xd0e480,_0x2bc0a4),this[_0x520550(0x781)][_0x520550(0x45f)](this['instanceName']+'\x20('+this['instance'][_0x520550(0x370)]+_0x520550(0x599));}}catch(_0x2cefe4){let _0x51114f={'error':!0x0,'errorLog':_0x2cefe4 instanceof Error?_0x2cefe4[_0x520550(0x573)]:JSON[_0x520550(0x194)](_0x2cefe4,null,0x2)};this['updateConversation'](_0x166204,_0xd0e480,_0x51114f),this[_0x520550(0x781)][_0x520550(0x45f)](this[_0x520550(0x1fd)]+'\x20('+this['instance']['wuid']+_0x520550(0x272)+(_0x2cefe4 instanceof Error?_0x2cefe4['message']:JSON[_0x520550(0x194)](_0x2cefe4,null,0x2)));}}async[a0_0x15841b(0x6d0)](_0x380440,_0x4d7dff){const _0x248d36=a0_0x15841b;if(!_0x380440[_0x248d36(0x424)])throw new m(_0x248d36(0x6b0));let _0x5447de=_0x380440?.[_0x248d36(0x5c2)]?.[_0x248d36(0x43c)]()===_0x248d36(0x2c4)?_0x248d36(0x5c2):this[_0x248d36(0x74f)][_0x248d36(0x370)],_0x5e923e=await this[_0x248d36(0x15c)]['flow']['findOne']({'where':{'name':_0x380440['name']}},_0x5447de);if(_0x4d7dff!==ee&&_0x380440?.['global']===_0x248d36(0x2c4))throw new m(_0x248d36(0x3fe));if(_0x380440?.[_0x248d36(0x5c2)]!==_0x248d36(0x2c4)&&(_0x380440[_0x248d36(0x5c2)]=_0x248d36(0x183)),_0x5e923e)throw new m(_0x248d36(0x22f));return _0x248d36(0x424)in _0x380440&&_0x248d36(0x12e)in _0x380440&&_0x248d36(0x4e4)in _0x380440?this[_0x248d36(0x428)](_0x380440[_0x248d36(0x4e4)],_0x380440[_0x248d36(0x12e)],_0x380440[_0x248d36(0x424)]):this[_0x248d36(0xe8)](_0x380440);}async[a0_0x15841b(0x428)](_0x5dd86e,_0x15d66b,_0x1ee275){const _0x28af53=a0_0x15841b;try{this[_0x28af53(0x781)][_0x28af53(0x2b5)](this[_0x28af53(0x1fd)]+'\x20('+this[_0x28af53(0x74f)][_0x28af53(0x370)]+_0x28af53(0x52f));let _0x20d8a3=await this[_0x28af53(0x15c)][_0x28af53(0x360)][_0x28af53(0x5d9)]({'where':{'sharePass':_0x15d66b}},_0x5dd86e);if(!_0x20d8a3)throw new m(_0x28af53(0x10d));let _0x44f77f={..._0x20d8a3},_0x4990de=_0x20d8a3[_0x28af53(0x5c2)]===_0x28af53(0x2c4)?'global':_0x20d8a3['owner'];return(_0x5dd86e===_0x28af53(0x5c2)||_0x20d8a3[_0x28af53(0x5c2)]===_0x28af53(0x2c4))&&(_0x44f77f[_0x28af53(0x5c2)]=_0x28af53(0x679),_0x44f77f['owner']=_0x28af53(0x5c2)),_0x44f77f['shareOwners']=Array[_0x28af53(0x673)](new Set([..._0x20d8a3['shareOwners']||[],_0x4990de,this[_0x28af53(0x74f)]['wuid']])),_0x20d8a3[_0x28af53(0x5a9)]=_0x44f77f[_0x28af53(0x5a9)],await this['repository']['flow'][_0x28af53(0x13c)](_0x20d8a3[_0x28af53(0x333)],{'shareOwners':_0x20d8a3['shareOwners']},_0x4990de),_0x20d8a3[_0x28af53(0x4b6)]===!0x0&&await this[_0x28af53(0x15c)][_0x28af53(0x360)][_0x28af53(0x469)]({},{'default':!0x1},this['instance']['wuid']),_0x44f77f[_0x28af53(0x4e4)]=this[_0x28af53(0x74f)]['wuid'],await this[_0x28af53(0x15c)][_0x28af53(0x360)][_0x28af53(0x5cb)](_0x44f77f,this[_0x28af53(0x74f)][_0x28af53(0x370)]);}catch(_0x152e74){let _0x469940=_0x28af53(0x414),_0xbd514e=_0x152e74 instanceof Error?_0x152e74[_0x28af53(0x573)]:typeof _0x152e74==_0x28af53(0x300)?JSON[_0x28af53(0x194)](_0x152e74):_0x152e74,_0x18d75f=_0x469940+':\x20'+_0xbd514e;throw this[_0x28af53(0x781)]['error'](this[_0x28af53(0x1fd)]+'\x20('+this[_0x28af53(0x74f)][_0x28af53(0x370)]+_0x28af53(0x368)+_0x18d75f),new m(_0x18d75f);}}async[a0_0x15841b(0xe8)](_0x331c57){const _0x4d8efd=a0_0x15841b;try{this[_0x4d8efd(0x781)]['verbose'](this['instanceName']+'\x20('+this[_0x4d8efd(0x74f)][_0x4d8efd(0x370)]+_0x4d8efd(0x52b));let _0x45f028=_0x331c57?.['global']===_0x4d8efd(0x2c4)?_0x4d8efd(0x5c2):this[_0x4d8efd(0x74f)][_0x4d8efd(0x370)];delete _0x331c57[_0x4d8efd(0x5a9)],delete _0x331c57[_0x4d8efd(0x12e)],delete _0x331c57[_0x4d8efd(0x4e4)],_0x331c57[_0x4d8efd(0x4b6)]===!0x0&&await this[_0x4d8efd(0x15c)][_0x4d8efd(0x360)][_0x4d8efd(0x469)]({},{'default':!0x1},this[_0x4d8efd(0x74f)]['wuid']);let _0x20c2c6=new re[(_0x4d8efd(0x231))]['ObjectId'](),_0x5d4a22={'_id':_0x20c2c6,'default':!0x0,'title':_0x4d8efd(0x3b6),'x':0x0,'y':0x0},_0x58bd9b={'_id':new re[(_0x4d8efd(0x231))][(_0x4d8efd(0x437))](),'order':0x1,'groupId':_0x20c2c6[_0x4d8efd(0x6ca)](),'type':'start'},_0x1ec216={'_id':new re[(_0x4d8efd(0x231))][(_0x4d8efd(0x437))](),'owner':this[_0x4d8efd(0x74f)][_0x4d8efd(0x370)],'name':_0x331c57[_0x4d8efd(0x424)],'groups':[_0x5d4a22],'blocks':[_0x58bd9b],..._0x331c57};return await this[_0x4d8efd(0x15c)][_0x4d8efd(0x360)]['createAndSave'](_0x1ec216,_0x45f028);}catch(_0x31e9d7){let _0x49e5df='Erro\x20ao\x20criar\x20fluxo\x20regular',_0x43dfe4=_0x31e9d7 instanceof Error?_0x31e9d7[_0x4d8efd(0x573)]:typeof _0x31e9d7==_0x4d8efd(0x300)?JSON[_0x4d8efd(0x194)](_0x31e9d7):_0x31e9d7,_0x30dd0b=_0x49e5df+':\x20'+_0x43dfe4;throw this[_0x4d8efd(0x781)]['error'](this[_0x4d8efd(0x1fd)]+'\x20('+this[_0x4d8efd(0x74f)][_0x4d8efd(0x370)]+_0x4d8efd(0x368)+_0x30dd0b),new m(_0x30dd0b);}}async[a0_0x15841b(0x493)](_0x28751a,_0x229f0b){const _0x540f31=a0_0x15841b;this[_0x540f31(0x781)][_0x540f31(0x60c)](_0x540f31(0x209));try{let _0x2fa8fe=await this[_0x540f31(0x15c)]['flow'][_0x540f31(0x5d9)]({'where':{'_id':_0x28751a}},_0x229f0b);if(delete _0x2fa8fe['default'],delete _0x2fa8fe[_0x540f31(0x3df)],delete _0x2fa8fe['testingWith'],delete _0x2fa8fe[_0x540f31(0x273)],delete _0x2fa8fe[_0x540f31(0x6c7)],_0x2fa8fe[_0x540f31(0x5c2)]===_0x540f31(0x2c4)&&(_0x2fa8fe[_0x540f31(0x5c2)]='sync'),_0x2fa8fe&&_0x2fa8fe[_0x540f31(0x5a9)]){for(let _0x47f7bb of _0x2fa8fe[_0x540f31(0x5a9)])if(_0x47f7bb!==_0x229f0b){let _0x78b115={..._0x2fa8fe,'owner':_0x47f7bb};await this[_0x540f31(0x15c)][_0x540f31(0x360)][_0x540f31(0x699)](_0x2fa8fe[_0x540f31(0x333)],_0x78b115,_0x47f7bb);}}}catch(_0x258db1){this[_0x540f31(0x781)][_0x540f31(0x45f)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x258db1);}}async[a0_0x15841b(0x60a)](_0x4b18eb,_0x2e91c9){const _0x3b17c6=a0_0x15841b;try{this[_0x3b17c6(0x781)][_0x3b17c6(0x2b5)](this[_0x3b17c6(0x1fd)]+'\x20('+this['instance'][_0x3b17c6(0x370)]+_0x3b17c6(0x782)+_0x4b18eb[_0x3b17c6(0x424)]+',\x20global:\x20'+_0x4b18eb['global']);let _0x50d667=_0x4b18eb[_0x3b17c6(0x5c2)]==='true'?_0x3b17c6(0x5c2):this['instance'][_0x3b17c6(0x370)],_0x2c166f=await this[_0x3b17c6(0x15c)][_0x3b17c6(0x360)]['findOne']({'where':{'name':_0x4b18eb[_0x3b17c6(0x424)]}},_0x50d667);if(!_0x2c166f)throw new m(_0x3b17c6(0x382));if(_0x2e91c9!==ee&&_0x2c166f?.[_0x3b17c6(0x5c2)]===_0x3b17c6(0x2c4)&&_0x2c166f?.[_0x3b17c6(0x4e4)]!==this[_0x3b17c6(0x74f)][_0x3b17c6(0x370)])throw new m(_0x3b17c6(0x281));if(_0x2c166f&&_0x2c166f[_0x3b17c6(0x5a9)]&&_0x2c166f[_0x3b17c6(0x5a9)][_0x3b17c6(0x561)]>0x0){for(let _0x385192 of _0x2c166f[_0x3b17c6(0x5a9)])if(_0x385192!==_0x50d667){let _0x5d913d=await this[_0x3b17c6(0x15c)][_0x3b17c6(0x360)]['findOne']({'where':{'sharePass':_0x2c166f[_0x3b17c6(0x12e)]}},_0x385192);if(_0x5d913d){_0x5d913d[_0x3b17c6(0x5a9)]=_0x5d913d[_0x3b17c6(0x5a9)][_0x3b17c6(0x2f3)](_0x3f2016=>_0x3f2016!==_0x2c166f[_0x3b17c6(0x4e4)]);let _0x474447={'shareOwners':_0x5d913d[_0x3b17c6(0x5a9)]};_0x2c166f['global']===_0x3b17c6(0x2c4)&&(_0x474447[_0x3b17c6(0x5c2)]=_0x3b17c6(0x183)),await this[_0x3b17c6(0x15c)][_0x3b17c6(0x360)][_0x3b17c6(0x13c)](_0x5d913d['_id'],_0x474447,_0x385192);}}}return await this[_0x3b17c6(0x15c)][_0x3b17c6(0x360)][_0x3b17c6(0x79b)]({'where':{'name':_0x4b18eb[_0x3b17c6(0x424)]}},_0x50d667);}catch(_0x319613){return this[_0x3b17c6(0x781)][_0x3b17c6(0x45f)](this['instanceName']+'\x20('+this[_0x3b17c6(0x74f)][_0x3b17c6(0x370)]+_0x3b17c6(0x665)+(_0x319613 instanceof Error?_0x319613[_0x3b17c6(0x573)]:JSON['stringify'](_0x319613,null,0x2))),{'message':_0x3b17c6(0x3ef)+_0x319613[_0x3b17c6(0x573)]};}}async[a0_0x15841b(0x55a)](_0x336f8a,_0x380b44){const _0x415c3a=a0_0x15841b;try{this['logger']['info'](this[_0x415c3a(0x1fd)]+'\x20('+this[_0x415c3a(0x74f)][_0x415c3a(0x370)]+'):\x20Buscando\x20flow,\x20name:\x20'+_0x336f8a+'\x20global:\x20'+_0x380b44);let _0x49faca=_0x380b44?.[_0x415c3a(0x43c)]()==='true'?'global':this[_0x415c3a(0x74f)][_0x415c3a(0x370)],_0x3cb1ee=await this[_0x415c3a(0x15c)]['flow'][_0x415c3a(0x5d9)]({'where':{'name':_0x336f8a}},_0x49faca);if(!_0x3cb1ee)throw new Error(_0x415c3a(0x795));if(!this[_0x415c3a(0x15e)]&&(await this[_0x415c3a(0x45b)](),!this['AutomateSystem']))return null;let _0x5dd127=this[_0x415c3a(0x15e)]?.[_0x415c3a(0x760)][_0x415c3a(0xef)](_0x5a2570=>_0x5a2570['name']),_0x5076cc=[_0x415c3a(0x5df),_0x415c3a(0x296),_0x415c3a(0x5c0),_0x415c3a(0x580),_0x415c3a(0x633),_0x415c3a(0x547),_0x415c3a(0x293),_0x415c3a(0x415),'etiquetas'];_0x3cb1ee[_0x415c3a(0x77f)]=_0x3cb1ee[_0x415c3a(0x77f)][_0x415c3a(0x2f3)](_0x3ac3b1=>!(_0x3ac3b1['folder']===_0x415c3a(0x140)||_0x3ac3b1[_0x415c3a(0x140)])),_0x5076cc[_0x415c3a(0x537)](_0x1db752=>{const _0x5011c6=_0x415c3a;_0x3cb1ee[_0x5011c6(0x77f)]['push']({'folder':_0x5011c6(0x140),'name':_0x1db752,'value':'','doc':'','leadInfo':!0x0});}),_0x5dd127[_0x415c3a(0x537)](_0x404ef2=>{const _0x276361=_0x415c3a;let _0x2e8f30=_0x3cb1ee['variables']['findIndex'](_0x207dfd=>_0x207dfd[_0x276361(0x424)]===_0x404ef2);_0x2e8f30===-0x1?_0x3cb1ee[_0x276361(0x77f)][_0x276361(0x627)]({'folder':_0x276361(0x140),'name':_0x404ef2,'value':'','doc':'','leadInfo':!0x0}):(_0x3cb1ee[_0x276361(0x77f)][_0x2e8f30][_0x276361(0x4ea)]=_0x276361(0x140),_0x3cb1ee[_0x276361(0x77f)][_0x2e8f30][_0x276361(0x140)]=!0x0);}),_0x3cb1ee[_0x415c3a(0x4c3)]&&_0x3cb1ee[_0x415c3a(0x4c3)][_0x415c3a(0x561)]>0x0&&_0x3cb1ee[_0x415c3a(0x4c3)]['forEach'](_0x114bf7=>{const _0x330fd6=_0x415c3a;_0x114bf7[_0x330fd6(0x121)]&&_0x114bf7[_0x330fd6(0x1f8)]&&_0x114bf7['groupId']===_0x114bf7[_0x330fd6(0x1f8)]&&(_0x114bf7['next_groupId']=null);});let _0x3a585b=await this[_0x415c3a(0x15c)][_0x415c3a(0x360)]['updateOne'](_0x3cb1ee[_0x415c3a(0x333)],_0x3cb1ee,_0x49faca);if(!_0x3a585b)throw new Error(_0x415c3a(0x549));return _0x3a585b;}catch(_0x5c633b){let _0x36f8ac=_0x415c3a(0x722),_0xfed5f1=_0x5c633b instanceof Error?_0x5c633b['message']:typeof _0x5c633b==_0x415c3a(0x300)?JSON['stringify'](_0x5c633b):_0x5c633b,_0x5c3f62=_0x36f8ac+':\x20'+_0xfed5f1;throw this[_0x415c3a(0x781)]['error'](this[_0x415c3a(0x1fd)]+'\x20('+this['instance'][_0x415c3a(0x370)]+_0x415c3a(0x368)+_0x5c3f62),new m(_0x5c3f62);}}async['allFlows'](){const _0x4ef658=a0_0x15841b;try{this[_0x4ef658(0x781)][_0x4ef658(0x2b5)](this['instanceName']+'\x20('+this['instance'][_0x4ef658(0x370)]+_0x4ef658(0xcc)),await this[_0x4ef658(0x15c)][_0x4ef658(0x360)][_0x4ef658(0x73b)](this['instance'][_0x4ef658(0x370)]);let _0x3ba17b=await this[_0x4ef658(0x15c)]['flow'][_0x4ef658(0x284)]({'where':{}},this[_0x4ef658(0x74f)][_0x4ef658(0x370)]),_0xd95818=await this[_0x4ef658(0x15c)][_0x4ef658(0x360)][_0x4ef658(0x284)]({'where':{}},_0x4ef658(0x5c2));return _0x3ba17b[_0x4ef658(0x461)](_0xd95818);}catch(_0x4d5b0a){return this[_0x4ef658(0x781)][_0x4ef658(0x45f)](this[_0x4ef658(0x1fd)]+'\x20('+this[_0x4ef658(0x74f)][_0x4ef658(0x370)]+_0x4ef658(0x2ca)+(_0x4d5b0a instanceof Error?_0x4d5b0a['message']:JSON[_0x4ef658(0x194)](_0x4d5b0a,null,0x2))),{'message':_0x4ef658(0x37c)+_0x4d5b0a['message']};}}async[a0_0x15841b(0x59a)](_0x59c795,_0x1a3c51){const _0x51706a=a0_0x15841b;try{this['logger'][_0x51706a(0x2b5)](this[_0x51706a(0x1fd)]+'\x20('+this[_0x51706a(0x74f)][_0x51706a(0x370)]+_0x51706a(0x6cf));let _0x2dca39=_0x59c795?.[_0x51706a(0x5c2)]?.['trim']()===_0x51706a(0x2c4)?_0x51706a(0x5c2):this['instance'][_0x51706a(0x370)],_0x120030=await this['repository'][_0x51706a(0x360)][_0x51706a(0x5d9)]({'where':{'name':_0x59c795[_0x51706a(0x424)]}},_0x2dca39);if(!_0x120030)return{'message':_0x51706a(0x6bd)};if(_0x1a3c51!==ee&&_0x120030?.[_0x51706a(0x5c2)]===_0x51706a(0x2c4)&&_0x120030?.[_0x51706a(0x4e4)]!==this[_0x51706a(0x74f)]['wuid'])throw new m(_0x51706a(0x3c0));_0x120030?.[_0x51706a(0x5c2)]===_0x51706a(0x679)&&(_0x59c795={'default':_0x59c795['default'],'minutesToClose':_0x59c795['minutesToClose'],'readMessages':_0x59c795[_0x51706a(0x6c7)],'testingWith':_0x59c795[_0x51706a(0xd4)],'startCommandWord':_0x59c795[_0x51706a(0x3df)]}),_0x59c795[_0x51706a(0x4b6)]===!0x0&&_0x120030?.[_0x51706a(0x5c2)]!==_0x51706a(0x2c4)&&await this['repository'][_0x51706a(0x360)][_0x51706a(0x469)]({},{'default':!0x1},_0x2dca39),delete _0x59c795[_0x51706a(0x5a9)],delete _0x59c795[_0x51706a(0x12e)],delete _0x59c795[_0x51706a(0x5c2)];let _0x424580=await this[_0x51706a(0x15c)][_0x51706a(0x360)][_0x51706a(0x13c)](_0x120030['_id'],_0x59c795,_0x2dca39);return _0x424580&&_0x424580[_0x51706a(0x5a9)]&&_0x424580[_0x51706a(0x5a9)][_0x51706a(0x561)]>0x1&&_0x424580[_0x51706a(0x5c2)]!==_0x51706a(0x679)&&this['synchronizeFlows'](_0x424580[_0x51706a(0x333)],_0x2dca39),_0x424580;}catch(_0x8c779c){let _0x5bd416=_0x51706a(0x533),_0x3f8d34=_0x8c779c instanceof Error?_0x8c779c['message']:typeof _0x8c779c==_0x51706a(0x300)?JSON[_0x51706a(0x194)](_0x8c779c):_0x8c779c,_0x44c649=_0x5bd416+':\x20'+_0x3f8d34;throw this[_0x51706a(0x781)]['error'](this['instanceName']+'\x20('+this[_0x51706a(0x74f)]['wuid']+'):\x20'+_0x44c649),new m(_0x44c649);}}async['editFlowBlock'](_0x54126f,_0x4aa886){const _0x2f7362=a0_0x15841b;try{this[_0x2f7362(0x781)][_0x2f7362(0x2b5)](this[_0x2f7362(0x1fd)]+'\x20('+this[_0x2f7362(0x74f)][_0x2f7362(0x370)]+'):\x20Editando\x20bloco...');let _0x229f4d=_0x54126f?.['global']?.[_0x2f7362(0x43c)]()===_0x2f7362(0x2c4)?'global':this['instance']['wuid'],_0x1f719f=await this[_0x2f7362(0x15c)]['flow'][_0x2f7362(0x5d9)]({'where':{'name':_0x54126f[_0x2f7362(0x424)]}},_0x229f4d);if(_0x1f719f||this[_0x2f7362(0x4a4)](_0x2f7362(0x795)),_0x1f719f?.[_0x2f7362(0x5c2)]===_0x2f7362(0x679))throw new m(_0x2f7362(0x29a));if(_0x4aa886!==ee&&_0x1f719f?.[_0x2f7362(0x5c2)]==='true'&&_0x1f719f?.[_0x2f7362(0x4e4)]!==this[_0x2f7362(0x74f)][_0x2f7362(0x370)])throw new m(_0x2f7362(0x3c0));let {block:_0x1c206c}=_0x54126f;_0x1c206c?.[_0x2f7362(0x70f)]?this[_0x2f7362(0x3d8)](_0x1f719f,_0x54126f):_0x1c206c?.[_0x2f7362(0x453)]?this[_0x2f7362(0x3ac)](_0x1f719f,_0x54126f):_0x1c206c[_0x2f7362(0x333)]?await this[_0x2f7362(0x2fc)](_0x1f719f,_0x54126f):this['addBlock'](_0x1f719f,_0x54126f);let _0x38a804=await this['repository'][_0x2f7362(0x360)][_0x2f7362(0x13c)](_0x1f719f['_id'],_0x1f719f,_0x229f4d);if(_0x38a804&&_0x38a804[_0x2f7362(0x5a9)]&&_0x38a804[_0x2f7362(0x5a9)]['length']>0x1&&this[_0x2f7362(0x493)](_0x38a804['_id'],this[_0x2f7362(0x74f)][_0x2f7362(0x370)]),!_0x38a804)throw new Error(_0x2f7362(0x549));return _0x38a804;}catch(_0x206952){this['throwAndLogError'](_0x2f7362(0x5e9)+_0x206952[_0x2f7362(0x573)]);}}async['copyBlock'](_0x2279bb,_0x584f49){const _0x6b5cea=a0_0x15841b;let _0x57bec0=_0x584f49[_0x6b5cea(0x6f2)][_0x6b5cea(0x333)],_0x491db5=_0x2279bb[_0x6b5cea(0x4c3)][_0x6b5cea(0x76f)](_0x23f5c2=>_0x23f5c2[_0x6b5cea(0x333)][_0x6b5cea(0x6ca)]()===_0x57bec0);if(!_0x491db5){this[_0x6b5cea(0x781)]['error'](this[_0x6b5cea(0x1fd)]+'\x20('+this[_0x6b5cea(0x74f)][_0x6b5cea(0x370)]+'):\x20Bloco\x20com\x20ID\x20'+_0x57bec0+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x6b5cea(0x781)][_0x6b5cea(0x2b5)](this[_0x6b5cea(0x1fd)]+'\x20('+this['instance']['wuid']+_0x6b5cea(0x24f)+JSON[_0x6b5cea(0x194)](_0x491db5));let _0x136f00=JSON[_0x6b5cea(0x26f)](JSON[_0x6b5cea(0x194)](_0x491db5));_0x136f00['_id']=new re[(_0x6b5cea(0x4b6))][(_0x6b5cea(0x231))][(_0x6b5cea(0x437))](),this['logger'][_0x6b5cea(0x2b5)](this['instanceName']+'\x20('+this[_0x6b5cea(0x74f)][_0x6b5cea(0x370)]+_0x6b5cea(0xf6)+JSON[_0x6b5cea(0x194)](_0x136f00)),_0x2279bb[_0x6b5cea(0x4c3)][_0x6b5cea(0x627)](_0x136f00),this[_0x6b5cea(0x686)](_0x2279bb['blocks'],_0x136f00['groupId']);}[a0_0x15841b(0x4a4)](_0x86e310){const _0x49a685=a0_0x15841b;throw this['logger'][_0x49a685(0x45f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x49a685(0x368)+_0x86e310),new m(_0x86e310);}[a0_0x15841b(0x3ac)](_0x53fa8d,_0x336c46){const _0xcdac3a=a0_0x15841b;let {block:_0x364dc7}=_0x336c46;if(_0x364dc7['type']===_0xcdac3a(0x669)){this['throwAndLogError'](_0xcdac3a(0x5f9));return;}if(!_0x364dc7[_0xcdac3a(0x333)]){this['throwAndLogError'](_0xcdac3a(0x656));return;}let _0x3d11a6=_0x53fa8d['blocks'][_0xcdac3a(0x76f)](_0x35968a=>_0x35968a[_0xcdac3a(0x333)][_0xcdac3a(0x6ca)]()===_0x336c46['block'][_0xcdac3a(0x333)][_0xcdac3a(0x6ca)]());if(!_0x3d11a6){this[_0xcdac3a(0x4a4)]('Bloco\x20com\x20ID\x20'+_0x364dc7[_0xcdac3a(0x333)]+_0xcdac3a(0x5d3));return;}_0x53fa8d['blocks']=_0x53fa8d[_0xcdac3a(0x4c3)][_0xcdac3a(0x2f3)](_0x5ca1a9=>_0x5ca1a9[_0xcdac3a(0x333)]['toString']()!==_0x336c46[_0xcdac3a(0x6f2)]['_id'][_0xcdac3a(0x6ca)]()),_0x53fa8d[_0xcdac3a(0x264)]=_0x53fa8d[_0xcdac3a(0x264)]['filter'](_0x3ef714=>_0x3ef714[_0xcdac3a(0x5ac)]!==_0x364dc7['_id'][_0xcdac3a(0x6ca)]()),_0x53fa8d['varedits']=_0x53fa8d['varedits']['filter'](_0x45aeef=>_0x45aeef[_0xcdac3a(0x5ac)]!==_0x364dc7[_0xcdac3a(0x333)][_0xcdac3a(0x6ca)]()),_0x53fa8d[_0xcdac3a(0x610)]=_0x53fa8d[_0xcdac3a(0x610)][_0xcdac3a(0x2f3)](_0x151fab=>_0x151fab[_0xcdac3a(0x5ac)]!==_0x364dc7[_0xcdac3a(0x333)][_0xcdac3a(0x6ca)]()),this['reorderBlocks'](_0x53fa8d['blocks'],_0x3d11a6['groupId']);}async[a0_0x15841b(0x2fc)](_0x31fe89,_0x5ea456){const _0x347ec1=a0_0x15841b;let _0x566b36=_0x31fe89[_0x347ec1(0x4c3)][_0x347ec1(0x737)](_0x4f0ab7=>_0x4f0ab7[_0x347ec1(0x333)][_0x347ec1(0x6ca)]()===_0x5ea456[_0x347ec1(0x6f2)][_0x347ec1(0x333)][_0x347ec1(0x6ca)]());if(this['logger'][_0x347ec1(0x2b5)](this[_0x347ec1(0x1fd)]+'\x20('+this[_0x347ec1(0x74f)][_0x347ec1(0x370)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x566b36),_0x566b36===-0x1){this[_0x347ec1(0x781)][_0x347ec1(0x2b5)]('Bloco\x20com\x20ID\x20'+_0x5ea456[_0x347ec1(0x6f2)][_0x347ec1(0x333)]+_0x347ec1(0x58a));return;}if(_0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x265)]===_0x347ec1(0x669)){let _0xf3c0ce=Object[_0x347ec1(0x479)](_0x5ea456[_0x347ec1(0x6f2)]);if(_0xf3c0ce[_0x347ec1(0x561)]>0x2||_0xf3c0ce[_0x347ec1(0x561)]===0x2&&!_0xf3c0ce[_0x347ec1(0x278)](_0x347ec1(0x1f8))){this['throwAndLogError']('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x2517c6=_0x31fe89['blocks'][_0x566b36][_0x347ec1(0x121)];for(let _0x1d38fa in _0x5ea456[_0x347ec1(0x6f2)])_0x5ea456[_0x347ec1(0x6f2)][_0x347ec1(0x195)](_0x1d38fa)&&(_0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x1d38fa]=_0x5ea456[_0x347ec1(0x6f2)][_0x1d38fa]);if(this[_0x347ec1(0x781)][_0x347ec1(0x2b5)](this[_0x347ec1(0x1fd)]+'\x20('+this[_0x347ec1(0x74f)][_0x347ec1(0x370)]+_0x347ec1(0x235)+JSON[_0x347ec1(0x194)](_0x31fe89[_0x347ec1(0x4c3)][_0x566b36])),_0x31fe89[_0x347ec1(0x4c3)][_0x566b36]['apirequest']&&'header'in _0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x31a)]){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x347ec1(0x370)]+_0x347ec1(0x39f));let _0x31cdb1=JSON[_0x347ec1(0x194)](_0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x31a)]['header'],null,0x1);_0x31cdb1['length']>0x2&&(_0x31cdb1=_0x31cdb1[_0x347ec1(0x685)](0x1,_0x31cdb1[_0x347ec1(0x561)]-0x1)[_0x347ec1(0x43c)]()),_0x31fe89['blocks'][_0x566b36][_0x347ec1(0x31a)][_0x347ec1(0x3f1)]=_0x31cdb1;}if(_0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x31a)]&&_0x347ec1(0x24d)in _0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x31a)]&&!(_0x347ec1(0x5af)in _0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x31a)])){this[_0x347ec1(0x781)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x347ec1(0x370)]+_0x347ec1(0xda)),_0x31fe89[_0x347ec1(0x4c3)][_0x566b36]['apirequest'][_0x347ec1(0x42e)]=!0x1;let _0x108e2d=JSON[_0x347ec1(0x194)](_0x31fe89['blocks'][_0x566b36][_0x347ec1(0x31a)][_0x347ec1(0x24d)],null,0x2);_0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x31a)][_0x347ec1(0x5af)]=_0x108e2d;}if(_0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x31a)]&&_0x347ec1(0x5af)in _0x31fe89[_0x347ec1(0x4c3)][_0x566b36]['apirequest']){_0x31fe89['blocks'][_0x566b36][_0x347ec1(0x31a)][_0x347ec1(0x42e)]=!0x1;let _0x3db542=_0x31fe89['blocks'][_0x566b36]['apirequest']['bodyString'],_0x3fe33b=this['beautifyWithPlaceholders'](_0x3db542);_0x31fe89['blocks'][_0x566b36]['apirequest']['bodyString']=_0x3fe33b[_0x347ec1(0x5ab)],_0x31fe89[_0x347ec1(0x4c3)][_0x566b36][_0x347ec1(0x31a)]['bodyStringErrorParse']=_0x3fe33b[_0x347ec1(0x45f)];}let _0x2aab65=_0x31fe89[_0x347ec1(0x4c3)][_0x566b36]['groupId'];_0x2517c6!==_0x2aab65?(this['reorderBlocks'](_0x31fe89[_0x347ec1(0x4c3)],_0x2517c6),this['reorderBlocks'](_0x31fe89[_0x347ec1(0x4c3)],_0x2aab65)):this[_0x347ec1(0x686)](_0x31fe89['blocks'],_0x2517c6);}['beautifyWithPlaceholders'](_0x3dc608){const _0x19c6e5=a0_0x15841b;let _0x4a0705='\u205f',_0x89eafa=!0x1,_0x55a7ff='';for(let _0xf66a26=0x0;_0xf66a26<_0x3dc608[_0x19c6e5(0x561)];_0xf66a26++){let _0xb29328=_0x3dc608[_0xf66a26];_0xb29328==='\x22'&&(_0xf66a26===0x0||_0x3dc608[_0xf66a26-0x1]!=='\x5c')&&(_0x89eafa=!_0x89eafa),!(!_0x89eafa&&(_0xb29328==='\x0a'||_0xb29328==='\x20'||_0xb29328===_0x4a0705))&&(_0x55a7ff+=_0xb29328);}let _0x21b604={},_0x19965d=9876543210.1234,_0x545159=_0x55a7ff['replace'](/\{\{([^}]+)\}\}/g,_0x25c315=>{let _0x24981e=_0x25c315,_0x4e80f0=''+_0x19965d;return _0x21b604[_0x4e80f0]=_0x24981e,_0x19965d+=0.0001,_0x4e80f0;}),_0x5d2c10='',_0x1397bf=!0x1;try{let _0x2fd19b=JSON[_0x19c6e5(0x26f)](_0x545159);_0x5d2c10=JSON[_0x19c6e5(0x194)](_0x2fd19b,null,0x2),_0x5d2c10=_0x5d2c10[_0x19c6e5(0x32f)](/\n( +)/g,(_0x415e29,_0x467edc)=>{const _0x30b752=_0x19c6e5;let _0x4b8398=_0x467edc[_0x30b752(0x561)];return'\x0a'+_0x4a0705[_0x30b752(0x482)](_0x4b8398*0x2);}),_0x5d2c10=_0x5d2c10[_0x19c6e5(0x32f)](/(\d{10,}\.\d+)/g,_0x395f01=>_0x21b604[_0x395f01]||_0x395f01);}catch(_0x3bd23d){console['error'](_0x19c6e5(0x616),_0x3bd23d),_0x5d2c10=_0x3dc608,_0x1397bf=!0x0;}return{'result':_0x5d2c10,'error':_0x1397bf};}[a0_0x15841b(0x2c2)](_0x1418bd,_0x7b0976){const _0x26c3c9=a0_0x15841b;if(_0x7b0976[_0x26c3c9(0x6f2)][_0x26c3c9(0x265)]==='start'){this[_0x26c3c9(0x4a4)](_0x26c3c9(0x4ce));return;}if(_0x7b0976['block'][_0x26c3c9(0x31a)]&&_0x26c3c9(0x2d7)in _0x7b0976[_0x26c3c9(0x6f2)]['apirequest']){this[_0x26c3c9(0x781)]['verbose'](this[_0x26c3c9(0x1fd)]+'\x20('+this[_0x26c3c9(0x74f)][_0x26c3c9(0x370)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3db173=JSON[_0x26c3c9(0x194)](_0x7b0976[_0x26c3c9(0x6f2)]['apirequest'][_0x26c3c9(0x2d7)],null,0x1);_0x3db173['length']>0x2&&(_0x3db173=_0x3db173['substring'](0x1,_0x3db173[_0x26c3c9(0x561)]-0x1)[_0x26c3c9(0x43c)]()),_0x7b0976['block'][_0x26c3c9(0x31a)][_0x26c3c9(0x3f1)]=_0x3db173;}_0x7b0976[_0x26c3c9(0x6f2)][_0x26c3c9(0x31a)]&&_0x26c3c9(0x24d)in _0x7b0976[_0x26c3c9(0x6f2)]['apirequest']&&(this[_0x26c3c9(0x781)]['verbose'](this[_0x26c3c9(0x1fd)]+'\x20('+this[_0x26c3c9(0x74f)][_0x26c3c9(0x370)]+_0x26c3c9(0xda)),_0x7b0976[_0x26c3c9(0x6f2)][_0x26c3c9(0x31a)][_0x26c3c9(0x5af)]=JSON[_0x26c3c9(0x194)](_0x7b0976[_0x26c3c9(0x6f2)][_0x26c3c9(0x31a)][_0x26c3c9(0x24d)],null,0x1)[_0x26c3c9(0x43c)]()),_0x1418bd[_0x26c3c9(0x4c3)][_0x26c3c9(0x627)](_0x7b0976[_0x26c3c9(0x6f2)]),this['reorderBlocks'](_0x1418bd[_0x26c3c9(0x4c3)],_0x7b0976['block'][_0x26c3c9(0x121)]);}['reorderBlocks'](_0x467047,_0x4a875b){const _0x1b58c4=a0_0x15841b;let _0x99f6a=_0x467047[_0x1b58c4(0x2f3)](_0x480c58=>_0x480c58[_0x1b58c4(0x121)]===_0x4a875b);_0x99f6a[_0x1b58c4(0x16b)]((_0x37f484,_0x16abd0)=>_0x37f484[_0x1b58c4(0x6fb)]-_0x16abd0[_0x1b58c4(0x6fb)]),_0x99f6a[_0x1b58c4(0x537)]((_0x5e01ee,_0x307d7a)=>_0x5e01ee[_0x1b58c4(0x6fb)]=_0x307d7a+0x1);}async[a0_0x15841b(0x6fd)](_0x17a001,_0x40cc65){const _0x5cfd8f=a0_0x15841b;try{this['logger']['verbose'](this[_0x5cfd8f(0x1fd)]+'\x20('+this['instance'][_0x5cfd8f(0x370)]+_0x5cfd8f(0x14f));let _0x4f2b62=_0x17a001?.[_0x5cfd8f(0x5c2)][_0x5cfd8f(0x43c)]()===_0x5cfd8f(0x2c4)?_0x5cfd8f(0x5c2):this['instance']['wuid'];if(!_0x17a001||!_0x17a001[_0x5cfd8f(0x768)]){this['throwAndLogError'](_0x5cfd8f(0x556));return;}let _0xf235e3=await this['repository']['flow'][_0x5cfd8f(0x5d9)]({'where':{'name':_0x17a001['name']}},_0x4f2b62);if(_0xf235e3||this[_0x5cfd8f(0x4a4)](_0x5cfd8f(0x795)),_0xf235e3?.[_0x5cfd8f(0x5c2)]==='sync')throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x40cc65!==ee&&_0xf235e3?.['global']==='true'&&_0xf235e3?.['owner']!==this['instance'][_0x5cfd8f(0x370)])throw new m(_0x5cfd8f(0x3c0));let {replyOption:_0x5a85d0}=_0x17a001;_0x5a85d0?.[_0x5cfd8f(0x453)]?(this[_0x5cfd8f(0x4f1)](_0xf235e3,_0x17a001),this['reorderReplyOptions'](_0xf235e3[_0x5cfd8f(0x610)],_0x17a001[_0x5cfd8f(0x768)][_0x5cfd8f(0x5ac)])):_0x5a85d0[_0x5cfd8f(0x333)]?(await this['updateReplyOption'](_0xf235e3,_0x17a001),this['reorderReplyOptions'](_0xf235e3[_0x5cfd8f(0x610)],_0x17a001[_0x5cfd8f(0x768)][_0x5cfd8f(0x5ac)])):(this[_0x5cfd8f(0x724)](_0xf235e3,_0x17a001),this['reorderReplyOptions'](_0xf235e3[_0x5cfd8f(0x610)],_0x17a001[_0x5cfd8f(0x768)][_0x5cfd8f(0x5ac)]));let _0x5de27d=await this[_0x5cfd8f(0x15c)][_0x5cfd8f(0x360)][_0x5cfd8f(0x13c)](_0xf235e3['_id'],_0xf235e3,_0x4f2b62);if(_0x5de27d&&_0x5de27d['shareOwners']&&_0x5de27d['shareOwners'][_0x5cfd8f(0x561)]>0x1&&_0x5de27d[_0x5cfd8f(0x5c2)]!=='sync'&&this[_0x5cfd8f(0x493)](_0x5de27d[_0x5cfd8f(0x333)],_0x4f2b62),!_0x5de27d)throw new Error(_0x5cfd8f(0x549));return _0x5de27d;}catch(_0x53a3d3){this[_0x5cfd8f(0x4a4)](_0x5cfd8f(0x152)+_0x53a3d3);}}['reorderReplyOptions'](_0xb6568a,_0x45b2f9){const _0xe8c46b=a0_0x15841b;_0xb6568a[_0xe8c46b(0x537)](_0x45bcd5=>{const _0x2a000b=_0xe8c46b;_0x45bcd5[_0x2a000b(0x5ac)]===_0x45b2f9&&_0x45bcd5[_0x2a000b(0x6fb)]===void 0x0&&(_0x45bcd5[_0x2a000b(0x6fb)]=0x270f);});let _0x390c5a=_0xb6568a[_0xe8c46b(0x2f3)](_0x413033=>_0x413033['blockId']===_0x45b2f9);_0x390c5a[_0xe8c46b(0x16b)]((_0x57aba1,_0x6e3959)=>_0x57aba1['order']-_0x6e3959[_0xe8c46b(0x6fb)]),_0x390c5a['forEach']((_0x25a10b,_0x3d8dbd)=>{const _0x22279b=_0xe8c46b;_0x25a10b[_0x22279b(0x6fb)]=_0x3d8dbd+0x1;}),_0xb6568a['forEach'](_0x18698f=>{const _0xd5905d=_0xe8c46b;if(_0x18698f[_0xd5905d(0x5ac)]===_0x45b2f9){let _0x2a26be=_0x390c5a[_0xd5905d(0x76f)](_0x15884f=>_0x15884f[_0xd5905d(0x333)]&&_0x18698f[_0xd5905d(0x333)]&&_0x15884f[_0xd5905d(0x333)]['toString']()===_0x18698f[_0xd5905d(0x333)][_0xd5905d(0x6ca)]());_0x2a26be&&(_0x18698f['order']=_0x2a26be[_0xd5905d(0x6fb)]);}});}[a0_0x15841b(0x4f1)](_0x2a149a,_0x3afb08){const _0x172e36=a0_0x15841b;let {replyOption:_0x363568}=_0x3afb08;if(!_0x363568[_0x172e36(0x333)]){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x2a149a['replyOptions'][_0x172e36(0x76f)](_0x1f921b=>_0x1f921b[_0x172e36(0x333)][_0x172e36(0x6ca)]()===_0x3afb08['replyOption'][_0x172e36(0x333)][_0x172e36(0x6ca)]())){this['throwAndLogError'](_0x172e36(0x219)+_0x363568[_0x172e36(0x333)]+_0x172e36(0x5d3));return;}_0x2a149a[_0x172e36(0x610)]=_0x2a149a[_0x172e36(0x610)]['filter'](_0x55d53d=>_0x55d53d[_0x172e36(0x333)][_0x172e36(0x6ca)]()!==_0x3afb08[_0x172e36(0x768)]['_id'][_0x172e36(0x6ca)]());}async['updateReplyOption'](_0x5e7495,_0x10a9c0){const _0x2e01c9=a0_0x15841b;let _0x2504eb=_0x5e7495[_0x2e01c9(0x610)][_0x2e01c9(0x737)](_0x1ad2b2=>_0x1ad2b2['_id'][_0x2e01c9(0x6ca)]()===_0x10a9c0[_0x2e01c9(0x768)][_0x2e01c9(0x333)][_0x2e01c9(0x6ca)]());if(_0x2504eb===-0x1){this[_0x2e01c9(0x4a4)](_0x2e01c9(0x219)+_0x10a9c0['replyOption']['_id']+_0x2e01c9(0x58a));return;}for(let _0x249b1b in _0x10a9c0['replyOption'])_0x10a9c0[_0x2e01c9(0x768)][_0x2e01c9(0x195)](_0x249b1b)&&(_0x5e7495['replyOptions'][_0x2504eb][_0x249b1b]=_0x10a9c0[_0x2e01c9(0x768)][_0x249b1b]);}[a0_0x15841b(0x724)](_0x38afbb,_0x100359){const _0x46ebf0=a0_0x15841b;_0x38afbb[_0x46ebf0(0x610)][_0x46ebf0(0x627)](_0x100359[_0x46ebf0(0x768)]);}async['editFlowGroup'](_0x4b21b0,_0x271758){const _0x54f807=a0_0x15841b;let _0x415e9d=_0x4b21b0?.['global']['trim']()===_0x54f807(0x2c4)?'global':this['instance'][_0x54f807(0x370)];this['logger'][_0x54f807(0x2b5)](this['instanceName']+'\x20('+this['instance'][_0x54f807(0x370)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20'+_0x415e9d+_0x54f807(0x12d)+_0x271758+',\x20data:\x20'+JSON[_0x54f807(0x194)](_0x4b21b0,null,0x2));try{this[_0x54f807(0x781)]['verbose'](this[_0x54f807(0x1fd)]+'\x20('+this[_0x54f807(0x74f)][_0x54f807(0x370)]+_0x54f807(0x6b1));let _0x55751d=await this[_0x54f807(0x15c)][_0x54f807(0x360)][_0x54f807(0x5d9)]({'where':{'name':_0x4b21b0['name']}},_0x415e9d);if(!_0x55751d)throw this['logger'][_0x54f807(0x2b5)](this['instanceName']+'\x20('+this[_0x54f807(0x74f)][_0x54f807(0x370)]+_0x54f807(0x59d)),new Error(_0x54f807(0x795));if(_0x55751d?.[_0x54f807(0x5c2)]==='sync')throw this['logger'][_0x54f807(0x2b5)](this[_0x54f807(0x1fd)]+'\x20('+this[_0x54f807(0x74f)][_0x54f807(0x370)]+_0x54f807(0x3d1)),new m(_0x54f807(0x3f0));if(_0x271758!==ee&&_0x55751d?.[_0x54f807(0x5c2)]===_0x54f807(0x2c4)&&_0x55751d?.[_0x54f807(0x4e4)]!==this[_0x54f807(0x74f)][_0x54f807(0x370)])throw this[_0x54f807(0x781)]['verbose'](this[_0x54f807(0x1fd)]+'\x20('+this[_0x54f807(0x74f)][_0x54f807(0x370)]+_0x54f807(0x6a9)),new m(_0x54f807(0x3c0));if(_0x4b21b0['group']&&_0x4b21b0[_0x54f807(0x3b5)]?.[_0x54f807(0x453)]===!0x0){if(this['logger']['verbose'](this[_0x54f807(0x1fd)]+'\x20('+this['instance']['wuid']+_0x54f807(0x6e5)),_0x4b21b0['group'][_0x54f807(0x4b6)]===!0x0)return{'message':_0x54f807(0x719)};if(_0x55751d[_0x54f807(0x4c3)][_0x54f807(0x45a)](_0x3fc054=>_0x3fc054[_0x54f807(0x121)][_0x54f807(0x6ca)]()===_0x4b21b0[_0x54f807(0x3b5)][_0x54f807(0x333)]))return this[_0x54f807(0x781)][_0x54f807(0x2b5)](this['instanceName']+'\x20('+this[_0x54f807(0x74f)][_0x54f807(0x370)]+_0x54f807(0x503)),{'message':_0x54f807(0x5a8)};_0x55751d[_0x54f807(0x744)]=_0x55751d['groups'][_0x54f807(0x2f3)](_0x1340f9=>_0x1340f9[_0x54f807(0x333)][_0x54f807(0x6ca)]()!==_0x4b21b0['group'][_0x54f807(0x333)]);}else{if(_0x4b21b0['group']){if(_0x4b21b0[_0x54f807(0x3b5)][_0x54f807(0x4b6)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x4b21b0['group']['_id']){let _0x78440e=_0x55751d['groups'][_0x54f807(0x76f)](_0x2f51b9=>_0x2f51b9[_0x54f807(0x333)][_0x54f807(0x6ca)]()===_0x4b21b0[_0x54f807(0x3b5)][_0x54f807(0x333)]);_0x78440e&&(_0x4b21b0[_0x54f807(0x3b5)]['x']<0x0&&(_0x4b21b0['group']['x']=0x0),_0x4b21b0[_0x54f807(0x3b5)]['y']<0x0&&(_0x4b21b0[_0x54f807(0x3b5)]['y']=0x0),Object[_0x54f807(0x1ff)](_0x78440e,_0x4b21b0[_0x54f807(0x3b5)]));}else _0x55751d[_0x54f807(0x744)][_0x54f807(0x627)](_0x4b21b0[_0x54f807(0x3b5)]);}}let _0x4f7055=await this[_0x54f807(0x15c)][_0x54f807(0x360)]['updateOne'](_0x55751d['_id'],_0x55751d,_0x415e9d);if(_0x4f7055&&_0x4f7055[_0x54f807(0x5a9)]&&_0x4f7055[_0x54f807(0x5a9)]['length']>0x1&&_0x4f7055['global']!==_0x54f807(0x679)&&this['synchronizeFlows'](_0x4f7055['_id'],_0x415e9d),!_0x4f7055)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4f7055;}catch(_0x34c273){let _0x1728e5=_0x54f807(0xe2),_0x41a4be=_0x34c273 instanceof Error?_0x34c273[_0x54f807(0x573)]:typeof _0x34c273==_0x54f807(0x300)?JSON[_0x54f807(0x194)](_0x34c273):_0x34c273,_0x53c574=_0x1728e5+':\x20'+_0x41a4be;throw this['logger']['error'](this[_0x54f807(0x1fd)]+'\x20('+this[_0x54f807(0x74f)]['wuid']+_0x54f807(0x368)+_0x53c574),new m(_0x53c574);}}async[a0_0x15841b(0x158)](_0x5dc37d,_0x48b110){const _0x42189c=a0_0x15841b;try{this[_0x42189c(0x781)][_0x42189c(0x2b5)](this[_0x42189c(0x1fd)]+'\x20('+this[_0x42189c(0x74f)][_0x42189c(0x370)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x4babc7=_0x5dc37d?.[_0x42189c(0x5c2)]['trim']()===_0x42189c(0x2c4)?_0x42189c(0x5c2):this[_0x42189c(0x74f)]['wuid'],_0x276b8f=await this['repository'][_0x42189c(0x360)]['findOne']({'where':{'name':_0x5dc37d[_0x42189c(0x424)]}},_0x4babc7);if(!_0x276b8f)throw new Error(_0x42189c(0x795));if(_0x276b8f?.[_0x42189c(0x5c2)]===_0x42189c(0x679))throw new m(_0x42189c(0x29a));if(_0x48b110!==ee&&_0x276b8f?.[_0x42189c(0x5c2)]==='true'&&_0x276b8f?.['owner']!==this['instance']['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let _0x3e1f36=!0x1;if(_0x5dc37d['condition']?.['delete']===!0x0)_0x276b8f[_0x42189c(0x264)]=_0x276b8f[_0x42189c(0x264)][_0x42189c(0x2f3)](_0x24e787=>_0x24e787&&_0x5dc37d[_0x42189c(0x655)]&&_0x24e787[_0x42189c(0x333)]&&_0x5dc37d['condition'][_0x42189c(0x333)]&&_0x24e787[_0x42189c(0x333)]['toString']()!==_0x5dc37d[_0x42189c(0x655)][_0x42189c(0x333)][_0x42189c(0x6ca)]()),_0x3e1f36=!0x0;else{let _0x34a21a=_0x276b8f[_0x42189c(0x264)][_0x42189c(0x76f)](_0x58ac0a=>_0x58ac0a&&_0x5dc37d[_0x42189c(0x655)]&&_0x58ac0a[_0x42189c(0x333)]&&_0x5dc37d[_0x42189c(0x655)][_0x42189c(0x333)]&&_0x58ac0a[_0x42189c(0x333)][_0x42189c(0x6ca)]()===_0x5dc37d[_0x42189c(0x655)][_0x42189c(0x333)][_0x42189c(0x6ca)]());_0x34a21a?(_0x3e1f36=_0x34a21a[_0x42189c(0x6fb)]!==_0x5dc37d[_0x42189c(0x655)][_0x42189c(0x6fb)],Object['assign'](_0x34a21a,_0x5dc37d[_0x42189c(0x655)])):(_0x276b8f[_0x42189c(0x264)][_0x42189c(0x627)](_0x5dc37d[_0x42189c(0x655)]),_0x3e1f36=!0x0);}if(_0x3e1f36){_0x276b8f[_0x42189c(0x264)][_0x42189c(0x16b)]((_0x945c27,_0x5a0e5b)=>_0x945c27[_0x42189c(0x6fb)]>_0x5a0e5b[_0x42189c(0x6fb)]?0x1:_0x5a0e5b['order']>_0x945c27[_0x42189c(0x6fb)]?-0x1:0x0);for(let _0xf2fe73=0x0;_0xf2fe73<_0x276b8f[_0x42189c(0x264)][_0x42189c(0x561)];_0xf2fe73++)_0x276b8f[_0x42189c(0x264)][_0xf2fe73][_0x42189c(0x6fb)]=_0xf2fe73+0x1;_0x276b8f[_0x42189c(0x264)][_0x42189c(0x561)]>0x0&&(_0x276b8f['conditions'][0x0][_0x42189c(0x169)]=_0x42189c(0x3d6));}let _0x33ed35=await this[_0x42189c(0x15c)][_0x42189c(0x360)][_0x42189c(0x13c)](_0x276b8f[_0x42189c(0x333)],_0x276b8f,_0x4babc7);if(_0x33ed35&&_0x33ed35[_0x42189c(0x5a9)]&&_0x33ed35['shareOwners']['length']>0x1&&_0x33ed35[_0x42189c(0x5c2)]!=='sync'&&this[_0x42189c(0x493)](_0x33ed35['_id'],_0x4babc7),!_0x33ed35)throw new Error(_0x42189c(0x549));return _0x33ed35;}catch(_0x5833e2){let _0x40f311=_0x42189c(0x175),_0x4f76e7=_0x5833e2 instanceof Error?_0x5833e2[_0x42189c(0x573)]:typeof _0x5833e2==_0x42189c(0x300)?JSON[_0x42189c(0x194)](_0x5833e2):_0x5833e2,_0x343b6c=_0x40f311+':\x20'+_0x4f76e7;throw this['logger'][_0x42189c(0x45f)](this[_0x42189c(0x1fd)]+'\x20('+this['instance']['wuid']+_0x42189c(0x368)+_0x343b6c),new m(_0x343b6c);}}async[a0_0x15841b(0x4d3)](_0x5610e0,_0x11455b){const _0x4c1afa=a0_0x15841b;try{this[_0x4c1afa(0x781)][_0x4c1afa(0x2b5)](this[_0x4c1afa(0x1fd)]+'\x20('+this['instance'][_0x4c1afa(0x370)]+_0x4c1afa(0x167));let _0x5f2d3c=_0x5610e0?.[_0x4c1afa(0x5c2)]['trim']()==='true'?_0x4c1afa(0x5c2):this[_0x4c1afa(0x74f)][_0x4c1afa(0x370)],_0x4208c6=await this[_0x4c1afa(0x15c)][_0x4c1afa(0x360)][_0x4c1afa(0x5d9)]({'where':{'name':_0x5610e0[_0x4c1afa(0x424)]}},_0x5f2d3c);if(!_0x4208c6)throw new Error('Flow\x20não\x20encontrado');if(_0x4208c6?.[_0x4c1afa(0x5c2)]===_0x4c1afa(0x679))throw new m(_0x4c1afa(0x29a));if(_0x11455b!==ee&&_0x4208c6?.[_0x4c1afa(0x5c2)]===_0x4c1afa(0x2c4)&&_0x4208c6?.[_0x4c1afa(0x4e4)]!==this[_0x4c1afa(0x74f)][_0x4c1afa(0x370)])throw new m(_0x4c1afa(0x3c0));let _0x16178e=!0x1;if(_0x5610e0[_0x4c1afa(0x2f6)]?.[_0x4c1afa(0x453)]===!0x0)_0x4208c6['varedits']=_0x4208c6[_0x4c1afa(0x652)]['filter'](_0xda16d8=>_0xda16d8&&_0x5610e0[_0x4c1afa(0x2f6)]&&_0xda16d8[_0x4c1afa(0x333)]&&_0x5610e0[_0x4c1afa(0x2f6)][_0x4c1afa(0x333)]&&_0xda16d8[_0x4c1afa(0x333)][_0x4c1afa(0x6ca)]()!==_0x5610e0['varedit'][_0x4c1afa(0x333)][_0x4c1afa(0x6ca)]()),_0x16178e=!0x0;else{let _0x137538=_0x4208c6[_0x4c1afa(0x652)][_0x4c1afa(0x76f)](_0x4d4b61=>_0x4d4b61&&_0x5610e0['varedit']&&_0x4d4b61[_0x4c1afa(0x333)]&&_0x5610e0[_0x4c1afa(0x2f6)][_0x4c1afa(0x333)]&&_0x4d4b61[_0x4c1afa(0x333)]['toString']()===_0x5610e0[_0x4c1afa(0x2f6)][_0x4c1afa(0x333)][_0x4c1afa(0x6ca)]());_0x137538?(_0x16178e=_0x137538[_0x4c1afa(0x6fb)]!==_0x5610e0[_0x4c1afa(0x2f6)][_0x4c1afa(0x6fb)],Object['assign'](_0x137538,_0x5610e0[_0x4c1afa(0x2f6)])):(_0x4208c6[_0x4c1afa(0x652)][_0x4c1afa(0x627)](_0x5610e0[_0x4c1afa(0x2f6)]),_0x16178e=!0x0);}if(_0x16178e){_0x4208c6[_0x4c1afa(0x652)][_0x4c1afa(0x16b)]((_0x31ca25,_0x3ce303)=>_0x31ca25[_0x4c1afa(0x6fb)]>_0x3ce303[_0x4c1afa(0x6fb)]?0x1:_0x3ce303[_0x4c1afa(0x6fb)]>_0x31ca25[_0x4c1afa(0x6fb)]?-0x1:0x0);for(let _0x8dad1=0x0;_0x8dad1<_0x4208c6[_0x4c1afa(0x652)]['length'];_0x8dad1++)_0x4208c6[_0x4c1afa(0x652)][_0x8dad1][_0x4c1afa(0x6fb)]=_0x8dad1+0x1;}let _0x287f02=await this[_0x4c1afa(0x15c)][_0x4c1afa(0x360)][_0x4c1afa(0x13c)](_0x4208c6[_0x4c1afa(0x333)],_0x4208c6,_0x5f2d3c);if(_0x287f02&&_0x287f02[_0x4c1afa(0x5a9)]&&_0x287f02[_0x4c1afa(0x5a9)][_0x4c1afa(0x561)]>0x1&&_0x287f02[_0x4c1afa(0x5c2)]!==_0x4c1afa(0x679)&&this[_0x4c1afa(0x493)](_0x287f02['_id'],_0x5f2d3c),!_0x287f02)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x287f02;}catch(_0x144f87){let _0x411f82=_0x4c1afa(0x175),_0x29cda2=_0x144f87 instanceof Error?_0x144f87[_0x4c1afa(0x573)]:typeof _0x144f87=='object'?JSON[_0x4c1afa(0x194)](_0x144f87):_0x144f87,_0x130c50=_0x411f82+':\x20'+_0x29cda2;throw this[_0x4c1afa(0x781)][_0x4c1afa(0x45f)](this[_0x4c1afa(0x1fd)]+'\x20('+this[_0x4c1afa(0x74f)]['wuid']+_0x4c1afa(0x368)+_0x130c50),new m(_0x130c50);}}async[a0_0x15841b(0x58e)](_0x52aa87,_0x14632d){const _0xc8f863=a0_0x15841b;try{this[_0xc8f863(0x781)]['verbose'](this[_0xc8f863(0x1fd)]+'\x20('+this[_0xc8f863(0x74f)]['wuid']+_0xc8f863(0x6cb));let _0x38836c=_0x52aa87?.[_0xc8f863(0x5c2)]['trim']()===_0xc8f863(0x2c4)?_0xc8f863(0x5c2):this[_0xc8f863(0x74f)][_0xc8f863(0x370)],_0x4cdea2=await this[_0xc8f863(0x15c)][_0xc8f863(0x360)]['findOne']({'where':{'name':_0x52aa87[_0xc8f863(0x424)]}},_0x38836c);if(!_0x4cdea2)throw new Error(_0xc8f863(0x795));if(_0x4cdea2?.[_0xc8f863(0x5c2)]===_0xc8f863(0x679))throw new m(_0xc8f863(0x29a));if(_0x14632d!==ee&&_0x4cdea2?.[_0xc8f863(0x5c2)]===_0xc8f863(0x2c4)&&_0x4cdea2?.[_0xc8f863(0x4e4)]!==this['instance'][_0xc8f863(0x370)])throw new m(_0xc8f863(0x3c0));if(_0x14632d!==ee&&_0x4cdea2?.[_0xc8f863(0x5c2)]==='true'&&_0x4cdea2?.[_0xc8f863(0x4e4)]!==this[_0xc8f863(0x74f)]['wuid'])throw new m(_0xc8f863(0x3c0));_0x52aa87[_0xc8f863(0x554)][_0xc8f863(0x424)]=_0x52aa87[_0xc8f863(0x554)][_0xc8f863(0x424)][_0xc8f863(0x43c)](),_0x52aa87[_0xc8f863(0x554)][_0xc8f863(0x424)][_0xc8f863(0x682)]('_')&&(_0x52aa87[_0xc8f863(0x554)][_0xc8f863(0x424)]=_0x52aa87[_0xc8f863(0x554)][_0xc8f863(0x424)][_0xc8f863(0x685)](0x1)),_0x52aa87['variable']['name']=_0x52aa87['variable'][_0xc8f863(0x424)][_0xc8f863(0x43c)]();let _0x36a335=_0x4cdea2['variables'][_0xc8f863(0x76f)](_0x57c79d=>_0x57c79d[_0xc8f863(0x424)]===_0x52aa87[_0xc8f863(0x554)]['name']);if(_0x36a335?.[_0xc8f863(0x140)]===!0x0)throw new Error(_0xc8f863(0x5ba));if(_0x52aa87[_0xc8f863(0x554)]?.[_0xc8f863(0x453)]===!0x0){if(!_0x36a335)return{'message':_0xc8f863(0x44e)};_0x4cdea2['variables']=_0x4cdea2[_0xc8f863(0x77f)]['filter'](_0x575758=>_0x575758[_0xc8f863(0x424)]!==_0x52aa87[_0xc8f863(0x554)][_0xc8f863(0x424)]);}else _0x36a335?Object['assign'](_0x36a335,_0x52aa87['variable']):_0x4cdea2[_0xc8f863(0x77f)][_0xc8f863(0x627)](_0x52aa87[_0xc8f863(0x554)]);let _0x5cc9a1=await this[_0xc8f863(0x15c)][_0xc8f863(0x360)][_0xc8f863(0x13c)](_0x4cdea2[_0xc8f863(0x333)],_0x4cdea2,_0x38836c);if(_0x5cc9a1&&_0x5cc9a1[_0xc8f863(0x5a9)]&&_0x5cc9a1[_0xc8f863(0x5a9)][_0xc8f863(0x561)]>0x1&&_0x5cc9a1[_0xc8f863(0x5c2)]!==_0xc8f863(0x679)&&this[_0xc8f863(0x493)](_0x5cc9a1[_0xc8f863(0x333)],_0x38836c),!_0x5cc9a1)throw new Error(_0xc8f863(0x549));return _0x5cc9a1;}catch(_0x578966){let _0x5037df=_0xc8f863(0x73d),_0xb6b4df=_0x578966 instanceof Error?_0x578966[_0xc8f863(0x573)]:typeof _0x578966==_0xc8f863(0x300)?JSON['stringify'](_0x578966):_0x578966,_0x17ff97=_0x5037df+':\x20'+_0xb6b4df;throw this['logger'][_0xc8f863(0x45f)](this[_0xc8f863(0x1fd)]+'\x20('+this[_0xc8f863(0x74f)]['wuid']+_0xc8f863(0x368)+_0x17ff97),new m(_0x17ff97);}}async['startFlow'](_0x360491){const _0x138c9c=a0_0x15841b;let _0x345b47=null;try{if(!this['AutomateSystem']?.[_0x138c9c(0x5ae)][_0x138c9c(0x262)])throw new m(_0x138c9c(0x31e));this[_0x138c9c(0x781)]['verbose'](this['instanceName']+'\x20('+this[_0x138c9c(0x74f)][_0x138c9c(0x370)]+_0x138c9c(0x57d));let _0x21b675=(await this[_0x138c9c(0x423)]({'numbers':[_0x360491[_0x138c9c(0x316)]]}))[0x0];if(!_0x21b675[_0x138c9c(0x67a)]&&!(0x0,f[_0x138c9c(0x283)])(_0x21b675[_0x138c9c(0x425)])&&!_0x21b675[_0x138c9c(0x425)][_0x138c9c(0x278)](_0x138c9c(0x26b)))throw _0x345b47=JSON[_0x138c9c(0x194)](_0x21b675,null,0x2),new m(_0x21b675);let _0x47c2be=await this['repository']['flow'][_0x138c9c(0x5d9)]({'where':{'name':_0x360491[_0x138c9c(0x424)]}},this[_0x138c9c(0x74f)]['wuid']);if(!_0x47c2be)return this[_0x138c9c(0x781)][_0x138c9c(0x45f)](this[_0x138c9c(0x1fd)]+'\x20('+this[_0x138c9c(0x74f)][_0x138c9c(0x370)]+_0x138c9c(0x59d)),{'message':_0x138c9c(0x795)};let _0x56dfb2=await this['createConversationforStartFlow'](_0x47c2be,_0x21b675['jid'],_0x360491[_0x138c9c(0x3c5)]);if(_0x56dfb2){this[_0x138c9c(0x781)][_0x138c9c(0x2b5)](this[_0x138c9c(0x1fd)]+'\x20('+this['instance'][_0x138c9c(0x370)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0xbb8eec=await this[_0x138c9c(0x6ee)](_0x56dfb2);return _0xbb8eec&&await this[_0x138c9c(0x654)](_0x56dfb2,_0xbb8eec),{'message':_0x138c9c(0x12b)+_0x360491[_0x138c9c(0x316)]};}}catch(_0x4a2cc0){if(this[_0x138c9c(0x781)][_0x138c9c(0x45f)](this[_0x138c9c(0x1fd)]+'\x20('+this['instance'][_0x138c9c(0x370)]+_0x138c9c(0x56d)+(_0x4a2cc0 instanceof Error?_0x4a2cc0['message']:JSON['stringify'](_0x4a2cc0,null,0x2))),_0x345b47=_0x4a2cc0 instanceof Error?_0x4a2cc0[_0x138c9c(0x573)]:JSON['stringify'](_0x4a2cc0,null,0x2),_0x345b47)throw new m(_0x138c9c(0x1a9)+_0x345b47);}}async['closeExistingConversations'](_0x4bcff8){const _0x5a3083=a0_0x15841b;try{let _0x16e0cf={'remoteJid':_0x4bcff8,'status':_0x5a3083(0x23c)},_0x3053ce={'status':_0x5a3083(0x3cc)},_0x1b96f7=await this[_0x5a3083(0x15c)][_0x5a3083(0x511)][_0x5a3083(0x469)](_0x16e0cf,_0x3053ce,this[_0x5a3083(0x74f)]['wuid']);return this[_0x5a3083(0x781)][_0x5a3083(0x2b5)](this[_0x5a3083(0x1fd)]+'\x20('+this[_0x5a3083(0x74f)][_0x5a3083(0x370)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x1b96f7;}catch(_0x510b38){throw this['logger'][_0x5a3083(0x45f)](this[_0x5a3083(0x1fd)]+'\x20('+this[_0x5a3083(0x74f)][_0x5a3083(0x370)]+_0x5a3083(0xf8)+_0x510b38[_0x5a3083(0x573)]),_0x510b38;}}async['createConversationforStartFlow'](_0xe56c51,_0x4af38d,_0x3e8356){const _0xa3ddd3=a0_0x15841b;this['logger'][_0xa3ddd3(0x2b5)](this['instanceName']+'\x20('+this[_0xa3ddd3(0x74f)][_0xa3ddd3(0x370)]+_0xa3ddd3(0x3c6)),await this['closeExistingConversations'](_0x4af38d);try{let _0x239896=require(_0xa3ddd3(0x70c))[_0xa3ddd3(0x437)],_0x5cbc50=Date['now'](),_0x4f2425='start',_0x44cb51={},_0x491fee={},_0x41f8c4={..._0xe56c51,'chatLog':null},_0x10dc8e=await this[_0xa3ddd3(0x488)](_0x41f8c4[_0xa3ddd3(0x77f)]),_0x3e142e=await this[_0xa3ddd3(0x6e3)](_0x4af38d),_0x3b5688={..._0x10dc8e,..._0x3e142e,'_remoteJid':_0x4af38d},_0x349f97={'lastReceivedMessage':_0x44cb51,'lastSendMessage':_0x491fee,'lastBlockId':_0x4f2425,'lastCondition':!0x0,'realVariables':_0x3b5688};_0x41f8c4[_0xa3ddd3(0x3aa)]=_0x349f97,_0x41f8c4[_0xa3ddd3(0x3aa)]['realVariables']={..._0x3b5688,..._0x3e8356},delete _0x41f8c4[_0xa3ddd3(0x333)],_0x41f8c4[_0xa3ddd3(0x333)]=new _0x239896(),_0x41f8c4[_0xa3ddd3(0x51c)]=_0x5cbc50,_0x41f8c4[_0xa3ddd3(0x633)]=_0xa3ddd3(0x23c),_0x41f8c4[_0xa3ddd3(0x316)]=_0x4af38d;let _0x10dc66=await this['repository'][_0xa3ddd3(0x511)][_0xa3ddd3(0x13c)](_0x41f8c4[_0xa3ddd3(0x333)],_0x41f8c4,this[_0xa3ddd3(0x74f)][_0xa3ddd3(0x370)]);return this[_0xa3ddd3(0x781)][_0xa3ddd3(0x2b5)](this['instanceName']+'\x20('+this[_0xa3ddd3(0x74f)]['wuid']+_0xa3ddd3(0x4ac)),_0x10dc66?_0x41f8c4:null;}catch(_0x46af84){let _0x16f3ce=_0xa3ddd3(0x71c),_0x58eafa=_0x46af84 instanceof Error?_0x46af84[_0xa3ddd3(0x573)]:typeof _0x46af84==_0xa3ddd3(0x300)?JSON[_0xa3ddd3(0x194)](_0x46af84):_0x46af84,_0x548752=_0x16f3ce+':\x20'+_0x58eafa;throw this[_0xa3ddd3(0x781)][_0xa3ddd3(0x45f)](this[_0xa3ddd3(0x1fd)]+'\x20('+this['instance'][_0xa3ddd3(0x370)]+_0xa3ddd3(0x368)+_0x548752),new m(_0x548752);}}async[a0_0x15841b(0x3bd)](_0x89ba72){const _0x43ca52=a0_0x15841b;try{this[_0x43ca52(0x781)][_0x43ca52(0x2b5)](this[_0x43ca52(0x1fd)]+'\x20('+this['instance']['wuid']+_0x43ca52(0x1a2)),this[_0x43ca52(0x781)]['verbose'](this[_0x43ca52(0x1fd)]+'\x20('+this[_0x43ca52(0x74f)][_0x43ca52(0x370)]+_0x43ca52(0x3c9)+_0x89ba72);let _0x1121d4={'where':{'_id':_0x89ba72}};return await this['repository'][_0x43ca52(0x511)][_0x43ca52(0x5d9)](_0x1121d4,this[_0x43ca52(0x74f)][_0x43ca52(0x370)]);}catch(_0x5c6ab4){let _0x1b6ce4=_0x43ca52(0x6b9),_0x1fcde6=_0x5c6ab4 instanceof Error?_0x5c6ab4['message']:typeof _0x5c6ab4=='object'?JSON[_0x43ca52(0x194)](_0x5c6ab4):_0x5c6ab4,_0x103e8d=_0x1b6ce4+':\x20'+_0x1fcde6;throw this['logger'][_0x43ca52(0x45f)](this[_0x43ca52(0x1fd)]+'\x20('+this[_0x43ca52(0x74f)][_0x43ca52(0x370)]+_0x43ca52(0x368)+_0x103e8d),new m(_0x103e8d);}}async[a0_0x15841b(0x65e)](_0x1ce7b7){const _0x5b1586=a0_0x15841b;try{return this[_0x5b1586(0x781)][_0x5b1586(0x2b5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5b1586(0x695)),await this[_0x5b1586(0x15c)]['flowConversation'][_0x5b1586(0x76f)](_0x1ce7b7,this[_0x5b1586(0x74f)][_0x5b1586(0x370)]);}catch(_0x29dead){let _0x383588=_0x5b1586(0x2fb),_0x442100=_0x29dead instanceof Error?_0x29dead[_0x5b1586(0x573)]:typeof _0x29dead==_0x5b1586(0x300)?JSON[_0x5b1586(0x194)](_0x29dead):_0x29dead,_0x407a6d=_0x383588+':\x20'+_0x442100;throw this[_0x5b1586(0x781)][_0x5b1586(0x45f)](this[_0x5b1586(0x1fd)]+'\x20('+this[_0x5b1586(0x74f)][_0x5b1586(0x370)]+_0x5b1586(0x368)+_0x407a6d),new m(_0x407a6d);}}async[a0_0x15841b(0x114)](_0x52077d){const _0x8f967f=a0_0x15841b;try{return this['logger'][_0x8f967f(0x2b5)](this['instanceName']+'\x20('+this[_0x8f967f(0x74f)][_0x8f967f(0x370)]+'):\x20Deletando\x20conversa...'),this[_0x8f967f(0x781)][_0x8f967f(0x2b5)](this[_0x8f967f(0x1fd)]+'\x20('+this['instance'][_0x8f967f(0x370)]+_0x8f967f(0x4dc)+_0x52077d),(await this['repository'][_0x8f967f(0x511)][_0x8f967f(0x79b)]({'where':{'_id':_0x52077d}},this[_0x8f967f(0x74f)]['wuid']))[_0x8f967f(0x390)]===0x0?{'message':_0x8f967f(0x1b6)}:{'message':_0x8f967f(0x160)};}catch(_0x6a45b2){let _0x2651bc='Erro\x20ao\x20deletar\x20a\x20conversa',_0x103b2d=_0x6a45b2 instanceof Error?_0x6a45b2[_0x8f967f(0x573)]:typeof _0x6a45b2==_0x8f967f(0x300)?JSON[_0x8f967f(0x194)](_0x6a45b2):_0x6a45b2,_0x5cd495=_0x2651bc+':\x20'+_0x103b2d;throw this[_0x8f967f(0x781)][_0x8f967f(0x45f)](this[_0x8f967f(0x1fd)]+'\x20('+this[_0x8f967f(0x74f)][_0x8f967f(0x370)]+_0x8f967f(0x368)+_0x5cd495),new m(_0x5cd495);}}async[a0_0x15841b(0x427)](_0x562d5e){const _0x5cfada=a0_0x15841b;try{let {_id:_0xe260d2,chatLog:_0x24dd67,status:_0x41d815}=_0x562d5e;if(!_0xe260d2)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x1ca379={};if(_0x41d815!==void 0x0&&(_0x1ca379[_0x5cfada(0x633)]=_0x41d815),Object[_0x5cfada(0x479)](_0x1ca379)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x4601ce=await this[_0x5cfada(0x15c)][_0x5cfada(0x511)][_0x5cfada(0x13c)](_0xe260d2,_0x1ca379,this['instance'][_0x5cfada(0x370)]);return _0x4601ce||{'message':_0x5cfada(0x707)};}catch(_0x2126a9){let _0x2b7086=_0x5cfada(0xfd),_0x582957=_0x2126a9 instanceof Error?_0x2126a9[_0x5cfada(0x573)]:typeof _0x2126a9=='object'?JSON['stringify'](_0x2126a9):_0x2126a9,_0x36566e=_0x2b7086+':\x20'+_0x582957;throw this[_0x5cfada(0x781)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5cfada(0x368)+_0x36566e),new m(_0x36566e);}}async[a0_0x15841b(0x35f)](_0x5df60a){const _0x5dccb2=a0_0x15841b;try{_0x5df60a[_0x5dccb2(0x333)]=this['createJid'](_0x5df60a[_0x5dccb2(0x333)]);let _0x3ed447=await this[_0x5dccb2(0x15c)][_0x5dccb2(0x755)][_0x5dccb2(0x5d9)]({'where':{'_id':_0x5df60a[_0x5dccb2(0x333)]}},this[_0x5dccb2(0x74f)][_0x5dccb2(0x370)]);if(!_0x3ed447)throw new m(_0x5dccb2(0x53e));let {_id:_0x258fa6,leadInfo:_0x303ad9}=_0x5df60a;if(!_0x258fa6)throw new Error(_0x5dccb2(0x10f));if(_0x5df60a['delete']===_0x5dccb2(0x60e))return await this[_0x5dccb2(0x687)](_0x5df60a[_0x5dccb2(0x333)]),await this[_0x5dccb2(0x15c)]['chat'][_0x5dccb2(0x453)]({'where':{'_id':_0x5df60a[_0x5dccb2(0x333)]}},this[_0x5dccb2(0x74f)][_0x5dccb2(0x370)]),await this[_0x5dccb2(0x15c)]['message'][_0x5dccb2(0x453)]({'where':{'key':{'remoteJid':_0x5df60a[_0x5dccb2(0x333)]}}},this[_0x5dccb2(0x74f)][_0x5dccb2(0x370)]),_0x5df60a=await this['repository'][_0x5dccb2(0x755)][_0x5dccb2(0x13c)]({'where':{'_id':_0x5df60a[_0x5dccb2(0x333)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x5dccb2(0x370)]),U(this[_0x5dccb2(0x1fd)],'chats',{'chat':_0x5df60a}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x5df60a[_0x5dccb2(0x453)]==='messages')return await this[_0x5dccb2(0x15c)][_0x5dccb2(0x573)]['delete']({'where':{'key':{'remoteJid':_0x5df60a['_id']}}},this[_0x5dccb2(0x74f)][_0x5dccb2(0x370)]),_0x5df60a=await this[_0x5dccb2(0x15c)][_0x5dccb2(0x755)][_0x5dccb2(0x13c)]({'where':{'_id':_0x5df60a[_0x5dccb2(0x333)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5dccb2(0x74f)][_0x5dccb2(0x370)]),U(this[_0x5dccb2(0x1fd)],_0x5dccb2(0x41a),{'chat':_0x5df60a}),{'message':_0x5dccb2(0x65a)};let _0x5c7a81=(_0x178f5f,_0x1546a7,_0x539993)=>{const _0xb4960f=_0x5dccb2;_0x178f5f&&_0x539993[_0xb4960f(0x537)](_0x149bcb=>{const _0x227c66=_0xb4960f;_0x178f5f[_0x149bcb]!==void 0x0&&(_0x1546a7[_0x227c66(0x6aa)+_0x149bcb]=_0x178f5f[_0x149bcb]);});},_0x54c35c={};if(_0x5dccb2(0x76c)in _0x5df60a&&(this['logger']['verbose']('Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x5df60a[_0x5dccb2(0x333)]),_0x5df60a['muteEndTime']=_0x5df60a['muteEndTime']===0x0?null:-0x1,await this['client'][_0x5dccb2(0x576)]({'mute':_0x5df60a['muteEndTime']},_0x5df60a['_id']),_0x54c35c['muteEndTime']=Number(_0x5df60a['muteEndTime'])),_0x303ad9&&(_0x5c7a81(_0x303ad9,_0x54c35c,[_0x5dccb2(0x5df),'nomecompleto','email',_0x5dccb2(0x580),_0x5dccb2(0x633),'notas','tags',_0x5dccb2(0x230),_0x5dccb2(0x293),_0x5dccb2(0x1c5)]),Array[_0x5dccb2(0x676)](_0x303ad9[_0x5dccb2(0x760)])&&(_0x54c35c[_0x5dccb2(0x2fd)]=_0x303ad9[_0x5dccb2(0x760)][_0x5dccb2(0xef)](_0x29ff5c=>({'_id':_0x29ff5c[_0x5dccb2(0x333)],'value':_0x29ff5c[_0x5dccb2(0x5f2)]}))),_0x5df60a[_0x5dccb2(0x140)]['etiquetas']!==void 0x0)){let _0x3700dd=await this[_0x5dccb2(0x15c)][_0x5dccb2(0x2a7)][_0x5dccb2(0x76f)]({'where':{}},this['instance']['wuid']),_0x15d29c=new Set(_0x5df60a[_0x5dccb2(0x140)][_0x5dccb2(0x1c5)]||[]),_0x1967cf=new Set(_0x5df60a[_0x5dccb2(0x140)][_0x5dccb2(0x1c5)]),_0x37e263=new Set(_0x3700dd[_0x5dccb2(0xef)](_0x263d7c=>_0x263d7c[_0x5dccb2(0x333)])),_0x521601=[..._0x1967cf][_0x5dccb2(0x2f3)](_0x4ca10f=>!_0x15d29c[_0x5dccb2(0x5ee)](_0x4ca10f)&&_0x37e263[_0x5dccb2(0x5ee)](_0x4ca10f)),_0x711362=[..._0x15d29c][_0x5dccb2(0x2f3)](_0x41f4af=>!_0x1967cf[_0x5dccb2(0x5ee)](_0x41f4af));if(_0x54c35c[_0x5dccb2(0x71a)]=[..._0x15d29c],_0x3ed447&&!_0x3ed447['imported']){for(let _0x3dc5e8 of _0x521601)await this[_0x5dccb2(0x5e1)](_0x3dc5e8,_0x5df60a[_0x5dccb2(0x333)]),_0x15d29c[_0x5dccb2(0x720)](_0x3dc5e8);for(let _0xbe08c9 of _0x711362)await this[_0x5dccb2(0x356)](_0xbe08c9,_0x5df60a[_0x5dccb2(0x333)]),_0x15d29c[_0x5dccb2(0x453)](_0xbe08c9);}}if(_0x5df60a[_0x5dccb2(0x5b3)]!==void 0x0&&(_0x54c35c[_0x5dccb2(0x5b3)]=Number(_0x5df60a[_0x5dccb2(0x5b3)])),Object[_0x5dccb2(0x479)](_0x54c35c)[_0x5dccb2(0x561)]===0x0)throw new Error(_0x5dccb2(0x206));let _0x2f7b9a=await this['repository']['chat'][_0x5dccb2(0x13c)]({'where':{'_id':_0x5df60a[_0x5dccb2(0x333)]}},_0x54c35c,this['instance']['wuid']);return _0x2f7b9a&&U(this[_0x5dccb2(0x1fd)],'chats',{'chat':_0x2f7b9a}),_0x2f7b9a?(this[_0x5dccb2(0x781)][_0x5dccb2(0x2b5)](this[_0x5dccb2(0x1fd)]+'\x20('+this['instance'][_0x5dccb2(0x370)]+'):\x20'+JSON['stringify'](_0x2f7b9a,null,0x2)),_0x2f7b9a):{'message':_0x5dccb2(0xce)};}catch(_0x470a92){let _0x1f88fb=_0x5dccb2(0x30a),_0x27eca1=_0x470a92 instanceof Error?_0x470a92['message']:typeof _0x470a92=='object'?JSON[_0x5dccb2(0x194)](_0x470a92):_0x470a92,_0x2e87b3=_0x1f88fb+':\x20'+_0x27eca1;throw this[_0x5dccb2(0x781)]['error'](this[_0x5dccb2(0x1fd)]+'\x20('+this[_0x5dccb2(0x74f)][_0x5dccb2(0x370)]+_0x5dccb2(0x368)+_0x2e87b3),new m(_0x2e87b3);}}async['AddChatLabel'](_0x44101e,_0x2af4f8){const _0x51bb57=a0_0x15841b;try{await this[_0x51bb57(0x34c)][_0x51bb57(0x532)](_0x2af4f8,_0x44101e),this['logger'][_0x51bb57(0x60c)](this[_0x51bb57(0x1fd)]+'\x20('+this[_0x51bb57(0x74f)][_0x51bb57(0x370)]+'):\x20Label\x20'+_0x44101e+_0x51bb57(0x4fa)+_0x2af4f8+_0x51bb57(0x240));}catch(_0x52cc3b){console['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x44101e+'\x20ao\x20chat\x20'+_0x2af4f8+':',_0x52cc3b);}}async[a0_0x15841b(0x356)](_0x4c65b,_0x1955d7){const _0x2dbb0a=a0_0x15841b;try{await this[_0x2dbb0a(0x34c)][_0x2dbb0a(0x286)](_0x1955d7,_0x4c65b),this[_0x2dbb0a(0x781)][_0x2dbb0a(0x60c)](this[_0x2dbb0a(0x1fd)]+'\x20('+this[_0x2dbb0a(0x74f)][_0x2dbb0a(0x370)]+_0x2dbb0a(0x3f3)+_0x4c65b+_0x2dbb0a(0x213)+_0x1955d7+_0x2dbb0a(0x240));}catch(_0x1df3eb){console[_0x2dbb0a(0x45f)]('Erro\x20ao\x20remover\x20label\x20'+_0x4c65b+_0x2dbb0a(0x1ec)+_0x1955d7+':',_0x1df3eb);}}async[a0_0x15841b(0x3ca)](_0x53d900){const _0xa7968a=a0_0x15841b;try{let _0x788c38=await this[_0xa7968a(0x15c)][_0xa7968a(0x716)][_0xa7968a(0x25e)](this[_0xa7968a(0x74f)][_0xa7968a(0x370)]),_0x33e06a=_0x53d900[_0xa7968a(0x333)]?_0x788c38[_0xa7968a(0x1e1)]['findIndex'](_0x307ecd=>_0x307ecd[_0xa7968a(0x333)]===_0x53d900[_0xa7968a(0x333)]):-0x1;if(_0x53d900[_0xa7968a(0x453)]&&_0x33e06a>-0x1)_0x788c38[_0xa7968a(0x1e1)][_0xa7968a(0x66f)](_0x33e06a,0x1);else{if(_0x33e06a>-0x1){let _0x726ca8=_0x788c38['agents'][_0x33e06a];_0x53d900[_0xa7968a(0x672)]&&(_0x726ca8['fone']=_0x53d900['fone']),_0x53d900[_0xa7968a(0x424)]&&(_0x726ca8[_0xa7968a(0x424)]=_0x53d900[_0xa7968a(0x424)]),_0x53d900[_0xa7968a(0x5c0)]&&(_0x726ca8[_0xa7968a(0x5c0)]=_0x53d900[_0xa7968a(0x5c0)]),_0x53d900[_0xa7968a(0x51b)]&&(_0x726ca8[_0xa7968a(0x51b)]=_0x53d900[_0xa7968a(0x51b)]);}else _0x788c38[_0xa7968a(0x1e1)]['push']({'_id':_0x53d900['_id']||new re[(_0xa7968a(0x4b6))]['Types']['ObjectId']()['toString'](),'fone':_0x53d900[_0xa7968a(0x672)],'name':_0x53d900[_0xa7968a(0x424)],'email':_0x53d900[_0xa7968a(0x5c0)],'role':_0x53d900['role']});}let _0x4da1fd={'agents':_0x788c38[_0xa7968a(0x1e1)]},_0x272222=await this[_0xa7968a(0x15c)][_0xa7968a(0x716)][_0xa7968a(0x179)](_0x4da1fd,this[_0xa7968a(0x74f)][_0xa7968a(0x370)]);return this[_0xa7968a(0x15e)]=_0x272222,this['logger'][_0xa7968a(0x2b5)](this['instanceName']+'\x20('+this['instance'][_0xa7968a(0x370)]+_0xa7968a(0x638)),this[_0xa7968a(0x781)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xa7968a(0x370)]+_0xa7968a(0x368)+this[_0xa7968a(0x15e)]),_0x272222;}catch(_0x5bdfda){let _0x5c5f2b=_0xa7968a(0x106),_0x2f814=_0x5bdfda instanceof Error?_0x5bdfda[_0xa7968a(0x573)]:typeof _0x5bdfda=='object'?JSON[_0xa7968a(0x194)](_0x5bdfda):_0x5bdfda,_0x5c73b9=_0x5c5f2b+':\x20'+_0x2f814;throw this[_0xa7968a(0x781)][_0xa7968a(0x45f)](this[_0xa7968a(0x1fd)]+'\x20('+this[_0xa7968a(0x74f)]['wuid']+_0xa7968a(0x368)+_0x5c73b9),new m(_0x5c73b9);}}async['updateCustomFields'](_0x5bc6cf){const _0x36d64a=a0_0x15841b;try{let _0x2cc6c9=await this[_0x36d64a(0x15c)][_0x36d64a(0x716)]['findOrCreate'](this['instance'][_0x36d64a(0x370)]),_0x2d9741=_0x5bc6cf['_id']?_0x2cc6c9[_0x36d64a(0x760)][_0x36d64a(0x737)](_0x14f12c=>_0x14f12c[_0x36d64a(0x333)]===_0x5bc6cf['_id']):-0x1,_0x4bdeba=!0x1,_0x23d122=_0x2cc6c9[_0x36d64a(0x760)][_0x36d64a(0x45a)](_0x34a869=>_0x34a869['order']===_0x5bc6cf[_0x36d64a(0x6fb)]);if(_0x5bc6cf[_0x36d64a(0x453)]&&_0x2d9741>-0x1)_0x2cc6c9['customFields'][_0x36d64a(0x66f)](_0x2d9741,0x1),_0x4bdeba=!0x0;else{if(_0x2d9741>-0x1){if(_0x2cc6c9['customFields'][_0x36d64a(0x45a)](_0x144083=>_0x144083[_0x36d64a(0x424)]===_0x5bc6cf['name']&&_0x144083['_id']!==_0x5bc6cf[_0x36d64a(0x333)]))throw new Error(_0x36d64a(0x378));let _0x49c39b=_0x2cc6c9[_0x36d64a(0x760)][_0x2d9741];_0x5bc6cf[_0x36d64a(0x6fb)]&&(_0x23d122||!Number['isInteger'](_0x5bc6cf['order']))&&(_0x49c39b[_0x36d64a(0x6fb)]=_0x5bc6cf[_0x36d64a(0x6fb)],_0x4bdeba=!0x0),_0x5bc6cf['name']&&(_0x49c39b['name']=_0x5bc6cf[_0x36d64a(0x424)]);}else{if(_0x2cc6c9['customFields'][_0x36d64a(0x45a)](_0x41066c=>_0x41066c[_0x36d64a(0x424)]===_0x5bc6cf[_0x36d64a(0x424)]&&_0x41066c[_0x36d64a(0x333)]!==_0x5bc6cf['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x2cc6c9[_0x36d64a(0x760)][_0x36d64a(0x627)]({'_id':_0x5bc6cf['_id']||new re[(_0x36d64a(0x4b6))][(_0x36d64a(0x231))]['ObjectId']()[_0x36d64a(0x6ca)](),'order':_0x5bc6cf[_0x36d64a(0x6fb)],'name':_0x5bc6cf['name']}),_0x4bdeba=!0x0;}}if(_0x4bdeba){_0x2cc6c9['customFields']['sort']((_0x4b32d7,_0x12afd8)=>_0x4b32d7[_0x36d64a(0x6fb)]>_0x12afd8[_0x36d64a(0x6fb)]?0x1:_0x12afd8[_0x36d64a(0x6fb)]>_0x4b32d7[_0x36d64a(0x6fb)]?-0x1:0x0);for(let _0x176069=0x0;_0x176069<_0x2cc6c9[_0x36d64a(0x760)][_0x36d64a(0x561)];_0x176069++)_0x2cc6c9[_0x36d64a(0x760)][_0x176069][_0x36d64a(0x6fb)]=_0x176069+0x1;}let _0x389a59=await this[_0x36d64a(0x15c)]['automateSystem'][_0x36d64a(0x179)](_0x2cc6c9,this[_0x36d64a(0x74f)][_0x36d64a(0x370)]);return this[_0x36d64a(0x15e)]=_0x389a59,this[_0x36d64a(0x781)]['verbose'](this[_0x36d64a(0x1fd)]+'\x20('+this['instance']['wuid']+_0x36d64a(0x11c)),this['logger'][_0x36d64a(0x2b5)](this[_0x36d64a(0x1fd)]+'\x20('+this['instance'][_0x36d64a(0x370)]+_0x36d64a(0x368)+this[_0x36d64a(0x15e)]),_0x389a59;}catch(_0x27f9c4){let _0x475a6a='Erro\x20ao\x20tentar\x20updateCustomFields',_0x2b892d=_0x27f9c4 instanceof Error?_0x27f9c4['message']:typeof _0x27f9c4==_0x36d64a(0x300)?JSON[_0x36d64a(0x194)](_0x27f9c4):_0x27f9c4,_0x1446af=_0x475a6a+':\x20'+_0x2b892d;throw this[_0x36d64a(0x781)][_0x36d64a(0x45f)](this[_0x36d64a(0x1fd)]+'\x20('+this['instance']['wuid']+_0x36d64a(0x368)+_0x1446af),new m(_0x1446af);}}async['updateAutoCompleteMessages'](_0x2faef6){const _0xef8f78=a0_0x15841b;try{let _0x718799=await this[_0xef8f78(0x15c)][_0xef8f78(0x716)][_0xef8f78(0x25e)](this['instance']['wuid']),_0x3166fd=_0x718799?.['autoCompleteMessages']?.[_0xef8f78(0x737)](_0x1b7b34=>_0x1b7b34['_id']===_0x2faef6?.['_id']);if(_0x2faef6?.[_0xef8f78(0x453)])_0x3166fd>-0x1&&_0x718799?.[_0xef8f78(0x77d)]?.[_0xef8f78(0x66f)](_0x3166fd,0x1);else{if(_0x3166fd>-0x1){let _0x1dc9ff=_0x718799[_0xef8f78(0x77d)][_0x3166fd];_0x1dc9ff[_0xef8f78(0x6fb)]=_0x2faef6?.[_0xef8f78(0x6fb)]||_0x1dc9ff[_0xef8f78(0x6fb)],_0x1dc9ff[_0xef8f78(0x46b)]=_0x2faef6?.[_0xef8f78(0x46b)]||_0x1dc9ff[_0xef8f78(0x46b)],_0x1dc9ff[_0xef8f78(0x573)]=_0x2faef6?.[_0xef8f78(0x573)]||_0x1dc9ff[_0xef8f78(0x573)];}else{let _0x1e2593={'_id':_0x2faef6?.[_0xef8f78(0x333)]||new re['default'][(_0xef8f78(0x231))][(_0xef8f78(0x437))]()[_0xef8f78(0x6ca)](),'order':_0x2faef6?.[_0xef8f78(0x6fb)],'command':_0x2faef6?.['command'],'message':_0x2faef6?.[_0xef8f78(0x573)]};_0x718799?.[_0xef8f78(0x77d)]?.[_0xef8f78(0x627)](_0x1e2593);}}_0x718799?.[_0xef8f78(0x77d)]?.[_0xef8f78(0x16b)]((_0x5e2ba4,_0x43387b)=>_0x5e2ba4['order']-_0x43387b[_0xef8f78(0x6fb)]);let _0x3cb5cd=await this['repository']['automateSystem'][_0xef8f78(0x179)](_0x718799,this['instance'][_0xef8f78(0x370)]);return this[_0xef8f78(0x15e)]=_0x3cb5cd,this[_0xef8f78(0x781)][_0xef8f78(0x2b5)](this[_0xef8f78(0x1fd)]+'\x20('+this['instance'][_0xef8f78(0x370)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),_0x3cb5cd;}catch(_0x2cf540){let _0x506cbf=_0xef8f78(0xd0),_0x37f346=_0x2cf540 instanceof Error?_0x2cf540[_0xef8f78(0x573)]:typeof _0x2cf540==_0xef8f78(0x300)?JSON['stringify'](_0x2cf540):_0x2cf540,_0x211015=_0x506cbf+':\x20'+_0x37f346;throw this[_0xef8f78(0x781)][_0xef8f78(0x45f)](this[_0xef8f78(0x1fd)]+'\x20('+this[_0xef8f78(0x74f)][_0xef8f78(0x370)]+_0xef8f78(0x368)+_0x211015),new m(_0x211015);}}async['updateFlowConfig'](_0x2d4ab5){const _0x52363b=a0_0x15841b;try{let _0x3aec61=await this[_0x52363b(0x15c)][_0x52363b(0x716)]['findOrCreate'](this['instance'][_0x52363b(0x370)]);if(!_0x3aec61)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x3d72d5={'_id':_0x3aec61['_id'],'flowConfig':{'enabled':_0x2d4ab5['enabled']??_0x3aec61[_0x52363b(0x5ae)][_0x52363b(0x262)],'ignoreGroups':_0x2d4ab5[_0x52363b(0x4d8)]??_0x3aec61[_0x52363b(0x5ae)][_0x52363b(0x4d8)],'prefixCommand':_0x2d4ab5[_0x52363b(0x55e)]??_0x3aec61['flowConfig'][_0x52363b(0x55e)],'stopConversation':_0x2d4ab5['stopConversation']??_0x3aec61[_0x52363b(0x5ae)][_0x52363b(0x341)],'stopMinutes':_0x2d4ab5[_0x52363b(0x216)]??_0x3aec61[_0x52363b(0x5ae)][_0x52363b(0x216)],'stopWhenYouSendMsg':_0x2d4ab5[_0x52363b(0x591)]??_0x3aec61[_0x52363b(0x5ae)]['stopWhenYouSendMsg']}},_0xdb82b9=await this[_0x52363b(0x15c)][_0x52363b(0x716)][_0x52363b(0x179)](_0x3d72d5,this['instance'][_0x52363b(0x370)]);return this[_0x52363b(0x15e)]=_0xdb82b9,this['logger'][_0x52363b(0x2b5)](this['instanceName']+'\x20('+this[_0x52363b(0x74f)][_0x52363b(0x370)]+_0x52363b(0x638)),this[_0x52363b(0x781)][_0x52363b(0x2b5)](this['instanceName']+'\x20('+this['instance'][_0x52363b(0x370)]+_0x52363b(0x368)+this['AutomateSystem']),setTimeout(()=>this[_0x52363b(0x431)](),0x7d0),_0xdb82b9;}catch(_0x74f3ef){let _0x5eaf96=_0x52363b(0x525),_0x3c86c9=_0x74f3ef instanceof Error?_0x74f3ef[_0x52363b(0x573)]:typeof _0x74f3ef==_0x52363b(0x300)?JSON['stringify'](_0x74f3ef):_0x74f3ef,_0x304ad6=_0x5eaf96+':\x20'+_0x3c86c9;throw this[_0x52363b(0x781)][_0x52363b(0x45f)](this['instanceName']+'\x20('+this[_0x52363b(0x74f)]['wuid']+_0x52363b(0x368)+_0x304ad6),new m(_0x304ad6);}}async[a0_0x15841b(0x45b)](){const _0xfe153f=a0_0x15841b;try{let _0x27ebbc=await this[_0xfe153f(0x15c)]['automateSystem']['findOrCreate'](this['instance'][_0xfe153f(0x370)]);return this[_0xfe153f(0x15e)]=_0x27ebbc,this[_0xfe153f(0x781)][_0xfe153f(0x2b5)](this[_0xfe153f(0x1fd)]+'\x20('+this[_0xfe153f(0x74f)][_0xfe153f(0x370)]+_0xfe153f(0x1d4)),this[_0xfe153f(0x781)][_0xfe153f(0x2b5)](this[_0xfe153f(0x15e)]),_0x27ebbc;}catch(_0x423e2e){let _0x56b9ee='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x14a2c6=_0x423e2e instanceof Error?_0x423e2e[_0xfe153f(0x573)]:typeof _0x423e2e==_0xfe153f(0x300)?JSON['stringify'](_0x423e2e):_0x423e2e,_0x5f297b=_0x56b9ee+':\x20'+_0x14a2c6;throw this[_0xfe153f(0x781)][_0xfe153f(0x45f)](this['instanceName']+'\x20('+this['instance'][_0xfe153f(0x370)]+_0xfe153f(0x368)+_0x5f297b),new m(_0x5f297b);}}async['setRestartTimeout'](){const _0x823d78=a0_0x15841b;this[_0x823d78(0x74f)][_0x823d78(0xd2)][_0x823d78(0x4bb)]&&clearTimeout(this[_0x823d78(0x74f)][_0x823d78(0xd2)]['timeout']),this[_0x823d78(0x74f)][_0x823d78(0xd2)]['timeout']=setTimeout(()=>{const _0x1ee320=_0x823d78;this[_0x1ee320(0x505)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x15841b(0x505)](){const _0x13a48d=a0_0x15841b;Date[_0x13a48d(0x1db)]()-this[_0x13a48d(0x74f)][_0x13a48d(0xd2)][_0x13a48d(0x5a6)]>=0x1d4c0&&(this[_0x13a48d(0x781)][_0x13a48d(0x2b5)](this[_0x13a48d(0x1fd)]+'\x20('+this[_0x13a48d(0x74f)][_0x13a48d(0x370)]+_0x13a48d(0x5ad)),this['instance'][_0x13a48d(0xd2)][_0x13a48d(0x667)]=null,this['instance']['ScheduleMessage'][_0x13a48d(0x5a6)]=0x0,this['instance'][_0x13a48d(0xd2)][_0x13a48d(0x69b)]=0x0,await this['scheduleNextCheck']());}async[a0_0x15841b(0x431)](){const _0x4363ad=a0_0x15841b;let _0x49dc54=()=>{const _0x4f579d=a0_0xdc1a;this['logger'][_0x4f579d(0x2b5)](this[_0x4f579d(0x1fd)]+'\x20('+this['instance'][_0x4f579d(0x370)]+_0x4f579d(0x3fa)+this[_0x4f579d(0x74f)][_0x4f579d(0xd2)]['processing_id']+'\x20saindo\x20da\x20função');},_0x5ae2ae=async()=>{const _0x5939bb=a0_0xdc1a;this[_0x5939bb(0x781)][_0x5939bb(0x2b5)](this['instanceName']+'\x20('+this[_0x5939bb(0x74f)][_0x5939bb(0x370)]+_0x5939bb(0x5f1));let _0x30d980=Date[_0x5939bb(0x1db)]()-0xc*0x3c*0x3c*0x3e8,_0x4ca1d3={'where':{'status':{'$in':[_0x5939bb(0x6f8),_0x5939bb(0x605)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x30d980}},{'when':0x0}]}};return await this[_0x5939bb(0x15c)][_0x5939bb(0x19b)][_0x5939bb(0x76f)](_0x4ca1d3,this[_0x5939bb(0x74f)][_0x5939bb(0x370)]);},_0x30eceb=async _0x57761b=>{const _0x1a2e3f=a0_0xdc1a;for(let _0x8a99ef of _0x57761b){let _0x400f61={'_id':_0x8a99ef[_0x1a2e3f(0x333)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x3302d5={'startSend':Date['now']()};if(!await this['repository'][_0x1a2e3f(0x19b)][_0x1a2e3f(0x13c)](_0x400f61,_0x3302d5,this[_0x1a2e3f(0x74f)][_0x1a2e3f(0x370)]))return;if(!this[_0x1a2e3f(0x74f)][_0x1a2e3f(0xd2)][_0x1a2e3f(0x2d4)]){this['logger'][_0x1a2e3f(0x2b5)](this[_0x1a2e3f(0x1fd)]+'\x20('+this[_0x1a2e3f(0x74f)][_0x1a2e3f(0x370)]+_0x1a2e3f(0x4c7));break;}if(_0x8a99ef['type']===_0x1a2e3f(0x360)&&!this[_0x1a2e3f(0x15e)]?.[_0x1a2e3f(0x5ae)]['enabled']){this[_0x1a2e3f(0x781)][_0x1a2e3f(0x45f)](this['instanceName']+'\x20('+this[_0x1a2e3f(0x74f)][_0x1a2e3f(0x370)]+_0x1a2e3f(0x20c));continue;}(!_0x8a99ef[_0x1a2e3f(0x727)]||_0x8a99ef[_0x1a2e3f(0x727)]['length']===0x0)&&(_0x8a99ef=await this[_0x1a2e3f(0x15c)]['scheduleMessage'][_0x1a2e3f(0x3ba)](_0x8a99ef['_id'],{'status':_0x1a2e3f(0x605),'remoteJidsRemaining':[..._0x8a99ef[_0x1a2e3f(0x762)]]},this['instance']['wuid']));for(let _0x1a3723 of _0x8a99ef[_0x1a2e3f(0x727)]){if(await this[_0x1a2e3f(0x11f)](),this[_0x1a2e3f(0x74f)][_0x1a2e3f(0xd2)][_0x1a2e3f(0x5a6)]=Date['now'](),this[_0x1a2e3f(0x74f)][_0x1a2e3f(0xd2)]['ultimaTentativaRemoteJid']===_0x1a3723){this[_0x1a2e3f(0x781)][_0x1a2e3f(0x45f)](this['instanceName']+'\x20('+this[_0x1a2e3f(0x74f)]['wuid']+_0x1a2e3f(0x103)+_0x1a3723+_0x1a2e3f(0x1d7));let _0x4c60c8={'$push':{'messagesSend':{'remoteJid':_0x1a3723,'error':!0x0,'id':null,'error_log':_0x1a2e3f(0x342),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x1a3723}};await this[_0x1a2e3f(0x15c)][_0x1a2e3f(0x19b)]['updateOneById'](_0x8a99ef[_0x1a2e3f(0x333)],_0x4c60c8,this[_0x1a2e3f(0x74f)][_0x1a2e3f(0x370)]);continue;}if(this[_0x1a2e3f(0x74f)][_0x1a2e3f(0xd2)]['ultimaTentativaRemoteJid']=_0x1a3723,_0x8a99ef['messagesSend'][_0x1a2e3f(0x45a)](_0x3b3237=>_0x3b3237['remoteJid']===_0x1a3723)){this['logger']['verbose'](this[_0x1a2e3f(0x1fd)]+'\x20('+this['instance']['wuid']+_0x1a2e3f(0x3d0)+_0x1a3723+'.\x20Pulando.');continue;}if(!this[_0x1a2e3f(0x74f)][_0x1a2e3f(0xd2)]['isConnected']){this['logger']['verbose'](this[_0x1a2e3f(0x1fd)]+'\x20('+this[_0x1a2e3f(0x74f)][_0x1a2e3f(0x370)]+_0x1a2e3f(0x48d));break;}if(!this[_0x1a2e3f(0x74f)][_0x1a2e3f(0xd2)][_0x1a2e3f(0x667)]){this['logger'][_0x1a2e3f(0x2b5)](this[_0x1a2e3f(0x1fd)]+'\x20('+this[_0x1a2e3f(0x74f)][_0x1a2e3f(0x370)]+_0x1a2e3f(0x694)+_0x8a99ef[_0x1a2e3f(0x333)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x8a99ef[_0x1a2e3f(0x265)]==='flow'&&!this['AutomateSystem']?.['flowConfig'][_0x1a2e3f(0x262)]){this[_0x1a2e3f(0x781)][_0x1a2e3f(0x45f)](this[_0x1a2e3f(0x1fd)]+'\x20('+this[_0x1a2e3f(0x74f)][_0x1a2e3f(0x370)]+_0x1a2e3f(0x20c));break;}let _0x1b036d={'remoteJid':_0x1a3723,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x1a2e3f(0x1db)]()},_0x1ff5e4=null;try{let _0x51181f=await this[_0x1a2e3f(0x66b)](_0x1a3723,_0x8a99ef);_0x1b036d[_0x1a2e3f(0x45f)]=_0x51181f[_0x1a2e3f(0x45f)],_0x1b036d['id']=_0x51181f[_0x1a2e3f(0x45f)]?null:_0x51181f['id'],_0x1b036d[_0x1a2e3f(0x314)]=_0x51181f[_0x1a2e3f(0x45f)]?_0x51181f[_0x1a2e3f(0x1ac)]?_0x51181f['detail'][_0x1a2e3f(0x6ca)]():'':null;let _0x26e640={'$push':{'messagesSend':_0x1b036d},'$pull':{'remoteJidsRemaining':_0x1a3723}},_0x27a0df=_0x8a99ef['_id'];if(_0x1ff5e4=await this[_0x1a2e3f(0x15c)][_0x1a2e3f(0x19b)][_0x1a2e3f(0x3ba)](_0x27a0df,_0x26e640,this['instance'][_0x1a2e3f(0x370)]),_0x51181f[_0x1a2e3f(0x45f)])continue;let _0x2a34a2=this[_0x1a2e3f(0x27b)](_0x8a99ef['delaySecMin'],_0x8a99ef[_0x1a2e3f(0x4c9)]);await this[_0x1a2e3f(0x298)](_0x2a34a2);}catch(_0xe7d281){this[_0x1a2e3f(0x781)][_0x1a2e3f(0x45f)](this['instanceName']+'\x20('+this['instance'][_0x1a2e3f(0x370)]+_0x1a2e3f(0x444)+_0x1a3723+':\x20'+(_0xe7d281 instanceof Error?_0xe7d281[_0x1a2e3f(0x573)]:JSON[_0x1a2e3f(0x194)](_0xe7d281,null,0x2))),_0x1b036d[_0x1a2e3f(0x45f)]=!0x0,_0x1b036d[_0x1a2e3f(0x314)]=_0xe7d281[_0x1a2e3f(0x573)];let _0x392a1b={'$push':{'messagesSend':_0x1b036d},'$pull':{'remoteJidsRemaining':_0x1a3723}},_0x1eb85f=_0x8a99ef[_0x1a2e3f(0x333)];_0x1ff5e4=await this[_0x1a2e3f(0x15c)][_0x1a2e3f(0x19b)][_0x1a2e3f(0x3ba)](_0x1eb85f,_0x392a1b,this[_0x1a2e3f(0x74f)]['wuid']);}finally{if(_0x1ff5e4&&_0x1ff5e4[_0x1a2e3f(0x633)]===_0x1a2e3f(0x581)){this['logger']['verbose'](this[_0x1a2e3f(0x1fd)]+'\x20('+this['instance'][_0x1a2e3f(0x370)]+_0x1a2e3f(0x694)+_0x8a99ef[_0x1a2e3f(0x333)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x44a578=await this[_0x1a2e3f(0x15c)][_0x1a2e3f(0x19b)][_0x1a2e3f(0x3f7)](_0x8a99ef[_0x1a2e3f(0x333)],this[_0x1a2e3f(0x74f)]['wuid']);if(_0x44a578[_0x1a2e3f(0x727)][_0x1a2e3f(0x561)]===0x0&&_0x44a578[_0x1a2e3f(0x633)]!=='stopped'){this[_0x1a2e3f(0x74f)]['ScheduleMessage'][_0x1a2e3f(0x697)]=null;let _0x27b72c={'$set':{'status':_0x1a2e3f(0x441)}},_0x4b49f1=_0x44a578[_0x1a2e3f(0x333)];await this['repository'][_0x1a2e3f(0x19b)][_0x1a2e3f(0x3ba)](_0x4b49f1,_0x27b72c,this[_0x1a2e3f(0x74f)][_0x1a2e3f(0x370)]);}await new Promise(_0x2e755e=>setTimeout(_0x2e755e,0x1388));}},_0x2da818=async()=>{const _0x45f1d4=a0_0xdc1a;let _0x5cdf0a={'where':{'status':_0x45f1d4(0x6f8),'when':{'$gt':Date[_0x45f1d4(0x1db)]()}}},_0x42a4a6=await this[_0x45f1d4(0x15c)][_0x45f1d4(0x19b)][_0x45f1d4(0x5d9)](_0x5cdf0a,this[_0x45f1d4(0x74f)][_0x45f1d4(0x370)]);_0x42a4a6&&_0x42a4a6[_0x45f1d4(0x2c9)]-Date[_0x45f1d4(0x1db)]()<=0x5265c00?this[_0x45f1d4(0x74f)][_0x45f1d4(0xd2)][_0x45f1d4(0x69b)]=_0x42a4a6['when']-Date[_0x45f1d4(0x1db)]():this[_0x45f1d4(0x74f)][_0x45f1d4(0xd2)][_0x45f1d4(0x69b)]=(0x3c+Math[_0x45f1d4(0x319)](Math[_0x45f1d4(0x1ab)]()*0x3c))*0x3c*0x3e8,this[_0x45f1d4(0x74f)][_0x45f1d4(0xd2)]['delayMessage']=Math[_0x45f1d4(0x2c1)](this[_0x45f1d4(0x74f)][_0x45f1d4(0xd2)]['delayMessage'],0x7d0);let _0x5218d1=Math['round'](this[_0x45f1d4(0x74f)][_0x45f1d4(0xd2)][_0x45f1d4(0x69b)]/0xea60);if(_0x42a4a6){let _0x2c61f5=new Date(_0x42a4a6[_0x45f1d4(0x2c9)])[_0x45f1d4(0x20a)]();this[_0x45f1d4(0x781)][_0x45f1d4(0x2b5)](this[_0x45f1d4(0x1fd)]+'\x20('+this[_0x45f1d4(0x74f)][_0x45f1d4(0x370)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x2c61f5+_0x45f1d4(0x3ae)+_0x5218d1+'\x20minutos');}else this[_0x45f1d4(0x781)][_0x45f1d4(0x2b5)](this[_0x45f1d4(0x1fd)]+'\x20('+this[_0x45f1d4(0x74f)][_0x45f1d4(0x370)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x5218d1+_0x45f1d4(0x4c5));setTimeout(()=>this[_0x45f1d4(0x431)](),this[_0x45f1d4(0x74f)][_0x45f1d4(0xd2)]['delayMessage']);};if(this[_0x4363ad(0x74f)][_0x4363ad(0xd2)][_0x4363ad(0x667)]){await this['setRestartTimeout'](),_0x49dc54();return;}if(!this[_0x4363ad(0x74f)][_0x4363ad(0xd2)]['isConnected']){this[_0x4363ad(0x781)][_0x4363ad(0x2b5)](this[_0x4363ad(0x1fd)]+'\x20('+this['instance']['wuid']+_0x4363ad(0x171)),this[_0x4363ad(0x74f)][_0x4363ad(0xd2)][_0x4363ad(0x667)]=null,this[_0x4363ad(0x74f)][_0x4363ad(0xd2)][_0x4363ad(0x5a6)]=0x0,this[_0x4363ad(0x74f)][_0x4363ad(0xd2)][_0x4363ad(0x69b)]=0x0,this[_0x4363ad(0x74f)][_0x4363ad(0xd2)][_0x4363ad(0x697)]=null;return;}try{let _0x444a22=await _0x5ae2ae();_0x444a22['length']===0x0?this['logger'][_0x4363ad(0x2b5)](this['instanceName']+'\x20('+this[_0x4363ad(0x74f)]['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x4363ad(0x74f)][_0x4363ad(0xd2)][_0x4363ad(0x667)]=_0x444a22[0x0]['_id'],await _0x30eceb(_0x444a22)),await _0x2da818(),this[_0x4363ad(0x74f)][_0x4363ad(0xd2)][_0x4363ad(0x667)]=null,this[_0x4363ad(0x74f)]['ScheduleMessage'][_0x4363ad(0x697)]=null;}catch(_0x475600){this['logger'][_0x4363ad(0x45f)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x475600 instanceof Error?_0x475600[_0x4363ad(0x573)]:JSON[_0x4363ad(0x194)](_0x475600,null,0x2)));}}[a0_0x15841b(0x27b)](_0x480ed8,_0x31d22a){const _0x1c76a5=a0_0x15841b;return _0x480ed8=Math[_0x1c76a5(0x2c1)](0.5,_0x480ed8),_0x31d22a=Math[_0x1c76a5(0x2ba)](Math[_0x1c76a5(0x2c1)](0x3,_0x31d22a),0x78),Math['floor'](Math[_0x1c76a5(0x1ab)]()*(_0x31d22a-_0x480ed8+0x1)+_0x480ed8)*0x3e8;}['sleep'](_0x3eae1a){return new Promise(_0x51e1c0=>setTimeout(_0x51e1c0,_0x3eae1a));}async[a0_0x15841b(0x6e3)](_0x43c40d){const _0xf08b10=a0_0x15841b;if(!this[_0xf08b10(0x15e)]&&(await this['getAutomateSystem'](),!this[_0xf08b10(0x15e)]))return null;_0x43c40d=this[_0xf08b10(0x1c3)](_0x43c40d);let _0x599d19=await this[_0xf08b10(0x15c)][_0xf08b10(0x755)][_0xf08b10(0x5d9)]({'where':{'_id':_0x43c40d}},this[_0xf08b10(0x74f)][_0xf08b10(0x370)]),_0x14f22a={};if(_0x599d19&&_0x599d19[_0xf08b10(0x140)]){let _0x497378=_0x599d19[_0xf08b10(0x140)];typeof _0x497378[_0xf08b10(0x5df)]==_0xf08b10(0x421)&&(_0x14f22a[_0xf08b10(0x5df)]=_0x497378[_0xf08b10(0x5df)]),typeof _0x497378[_0xf08b10(0x296)]==_0xf08b10(0x421)&&(_0x14f22a[_0xf08b10(0x296)]=_0x497378[_0xf08b10(0x296)]),typeof _0x497378[_0xf08b10(0x5c0)]==_0xf08b10(0x421)&&(_0x14f22a[_0xf08b10(0x5c0)]=_0x497378[_0xf08b10(0x5c0)]),typeof _0x497378[_0xf08b10(0x580)]==_0xf08b10(0x421)&&(_0x14f22a[_0xf08b10(0x580)]=_0x497378[_0xf08b10(0x580)]),typeof _0x497378[_0xf08b10(0x633)]==_0xf08b10(0x421)&&(_0x14f22a[_0xf08b10(0x633)]=_0x497378[_0xf08b10(0x633)]),typeof _0x497378['notas']==_0xf08b10(0x421)&&(_0x14f22a[_0xf08b10(0x547)]=_0x497378[_0xf08b10(0x547)]),typeof _0x497378[_0xf08b10(0x293)]==_0xf08b10(0x421)&&(_0x14f22a[_0xf08b10(0x293)]=_0x497378[_0xf08b10(0x293)]),Array[_0xf08b10(0x676)](_0x497378['tags'])&&(_0x14f22a[_0xf08b10(0x415)]=_0x497378['tags'][_0xf08b10(0x18d)](',\x20')),Array[_0xf08b10(0x676)](_0x497378[_0xf08b10(0x1c5)])&&(_0x14f22a[_0xf08b10(0x1c5)]=_0x497378[_0xf08b10(0x1c5)]['join'](',\x20'));}return _0x599d19&&_0x599d19['leadInfo']&&_0x599d19['leadInfo'][_0xf08b10(0x760)]&&_0x599d19[_0xf08b10(0x140)][_0xf08b10(0x760)][_0xf08b10(0x537)](_0x3fe490=>{const _0xfcddb8=_0xf08b10;let _0x32976e=this['AutomateSystem']?.[_0xfcddb8(0x760)][_0xfcddb8(0x76f)](_0x1a0970=>_0x1a0970[_0xfcddb8(0x333)]===_0x3fe490['_id']);_0x32976e&&(_0x14f22a[_0x32976e[_0xfcddb8(0x424)]]=_0x3fe490[_0xfcddb8(0x5f2)]);}),_0x14f22a;}async[a0_0x15841b(0x238)](_0x30b821,_0x1ec4b3){const _0x7bd470=a0_0x15841b;try{let _0x3504b9=await this[_0x7bd470(0x6e3)](_0x1ec4b3);return this[_0x7bd470(0x1e4)](_0x30b821,_0x3504b9);}catch(_0x2b4ced){return this['logger'][_0x7bd470(0x45f)](_0x7bd470(0x178)+_0x1ec4b3+':\x20'+_0x2b4ced),_0x30b821;}}async[a0_0x15841b(0x251)](_0x48cb8f){const _0x31aba7=a0_0x15841b;try{if(this['logger'][_0x31aba7(0x2b5)](this['instanceName']+'\x20('+this[_0x31aba7(0x74f)][_0x31aba7(0x370)]+_0x31aba7(0x4ee)),_0x48cb8f[_0x31aba7(0x453)]&&_0x48cb8f[_0x31aba7(0x333)]){if(this[_0x31aba7(0x74f)]['ScheduleMessage']['processing_id']===_0x48cb8f[_0x31aba7(0x333)]['toString']())throw new Error(_0x31aba7(0x4e7));let _0xd0bb60=await this[_0x31aba7(0x15c)][_0x31aba7(0x19b)]['deleteOne'](_0x48cb8f[_0x31aba7(0x333)],this[_0x31aba7(0x74f)]['wuid']);return setTimeout(()=>this[_0x31aba7(0x431)](),0x7d0),_0xd0bb60;}let _0x8bd9b9;if(_0x48cb8f[_0x31aba7(0x333)]&&(_0x8bd9b9=await this['repository']['scheduleMessage'][_0x31aba7(0x3f7)](_0x48cb8f['_id'],this['instance']['wuid'])),_0x8bd9b9){let _0x42ea8e;if(this[_0x31aba7(0x74f)]['ScheduleMessage'][_0x31aba7(0x667)]===_0x8bd9b9[_0x31aba7(0x333)][_0x31aba7(0x6ca)]())_0x42ea8e={'$set':{'status':_0x48cb8f[_0x31aba7(0x633)]}};else{let {_id:_0x101cf9,..._0x14fa9d}=_0x48cb8f;_0x42ea8e={'$set':_0x14fa9d};}let _0x2efb21=await this[_0x31aba7(0x15c)][_0x31aba7(0x19b)][_0x31aba7(0x3ba)](_0x48cb8f[_0x31aba7(0x333)],_0x42ea8e,this[_0x31aba7(0x74f)][_0x31aba7(0x370)]);return setTimeout(()=>this[_0x31aba7(0x431)](),0x7d0),_0x2efb21;}else{_0x48cb8f['owner']=this[_0x31aba7(0x74f)]['wuid'];let _0x3a2edb=await this['repository']['scheduleMessage']['createAndSave'](_0x48cb8f,this[_0x31aba7(0x74f)][_0x31aba7(0x370)]);return setTimeout(()=>this[_0x31aba7(0x431)](),0x7d0),_0x3a2edb;}}catch(_0x14ee2b){let _0x1508e8='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x578dec=_0x14ee2b instanceof Error?_0x14ee2b['message']:typeof _0x14ee2b==_0x31aba7(0x300)?JSON['stringify'](_0x14ee2b):_0x14ee2b,_0xad157c=_0x1508e8+':\x20'+_0x578dec;throw this[_0x31aba7(0x781)]['error'](this[_0x31aba7(0x1fd)]+'\x20('+this['instance']['wuid']+'):\x20'+_0xad157c),new m(_0xad157c);}}async[a0_0x15841b(0x5ce)](){const _0x191038=a0_0x15841b;try{return await this['repository'][_0x191038(0x19b)][_0x191038(0x76f)]({'where':{}},this['instance'][_0x191038(0x370)]);}catch(_0x3faa04){let _0x1accc9=_0x191038(0x5b9),_0x3eec1f=_0x3faa04 instanceof Error?_0x3faa04['message']:typeof _0x3faa04=='object'?JSON[_0x191038(0x194)](_0x3faa04):_0x3faa04,_0x16579f=_0x1accc9+':\x20'+_0x3eec1f;throw this[_0x191038(0x781)][_0x191038(0x45f)](this[_0x191038(0x1fd)]+'\x20('+this[_0x191038(0x74f)][_0x191038(0x370)]+_0x191038(0x368)+_0x16579f),new m(_0x16579f);}}async[a0_0x15841b(0x29e)](){const _0x401304=a0_0x15841b;try{let _0x54c21f={'status':_0x401304(0x441)},_0x4b5fd8=await this['repository']['scheduleMessage'][_0x401304(0x3c7)](_0x54c21f,this[_0x401304(0x74f)][_0x401304(0x370)]);if(!_0x4b5fd8[_0x401304(0x45f)])this[_0x401304(0x781)][_0x401304(0x2b5)](this[_0x401304(0x1fd)]+'\x20('+this[_0x401304(0x74f)][_0x401304(0x370)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x4b5fd8[_0x401304(0x45f)]['message']||_0x401304(0x313));return this[_0x401304(0x5ce)]();}catch(_0x8f6fc){let _0x50db1c=_0x401304(0x700),_0x226a1a=_0x8f6fc instanceof Error?_0x8f6fc[_0x401304(0x573)]:typeof _0x8f6fc==_0x401304(0x300)?JSON[_0x401304(0x194)](_0x8f6fc):_0x8f6fc,_0x36ff5e=_0x50db1c+':\x20'+_0x226a1a;throw this[_0x401304(0x781)][_0x401304(0x45f)](this[_0x401304(0x1fd)]+'\x20('+this[_0x401304(0x74f)][_0x401304(0x370)]+_0x401304(0x368)+_0x36ff5e),new m(_0x36ff5e);}}async[a0_0x15841b(0x66b)](_0x2fad7d,_0x1da33c){const _0x246a85=a0_0x15841b;try{if(_0x1da33c[_0x246a85(0x265)]===_0x246a85(0x360)&&!this[_0x246a85(0x15e)]?.['flowConfig'][_0x246a85(0x262)])return this[_0x246a85(0x781)][_0x246a85(0x45f)](this[_0x246a85(0x1fd)]+'\x20('+this[_0x246a85(0x74f)][_0x246a85(0x370)]+_0x246a85(0x52a)),{'error':!0x0,'detail':_0x246a85(0x31e)};switch(_0x1da33c[_0x246a85(0x265)]){case _0x246a85(0x338):return await this[_0x246a85(0x20e)](_0x1da33c,_0x2fad7d);case _0x246a85(0x565):return await this[_0x246a85(0x34f)](_0x1da33c,_0x2fad7d);case _0x246a85(0x451):return await this[_0x246a85(0x28a)](_0x1da33c,_0x2fad7d);case _0x246a85(0x360):let _0x2db35d=new Ue();return _0x2db35d[_0x246a85(0x424)]=_0x1da33c[_0x246a85(0xd7)],_0x2db35d[_0x246a85(0x316)]=_0x2fad7d,await this['startFlow'](_0x2db35d);break;default:return this['logger'][_0x246a85(0x45f)](this[_0x246a85(0x1fd)]+'\x20('+this[_0x246a85(0x74f)][_0x246a85(0x370)]+'):\x20Comando\x20desconhecido:\x20'+_0x1da33c[_0x246a85(0x265)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x31ca87){return this[_0x246a85(0x781)]['error'](this[_0x246a85(0x1fd)]+'\x20('+this['instance']['wuid']+_0x246a85(0x49e)+(_0x31ca87 instanceof Error?_0x31ca87[_0x246a85(0x573)]:JSON[_0x246a85(0x194)](_0x31ca87,null,0x2))),{'error':!0x0,'detail':_0x31ca87[_0x246a85(0x573)]};}}['getRandomText'](_0x495248){const _0x511ec7=a0_0x15841b;let _0x4e5728=_0x495248[_0x511ec7(0x69d)]('|'),_0xcd98c7=Math[_0x511ec7(0x319)](Math[_0x511ec7(0x1ab)]()*_0x4e5728['length']);return _0x4e5728[_0xcd98c7][_0x511ec7(0x43c)]();}async[a0_0x15841b(0x20e)](_0x3af5fb,_0x1b2841){const _0x190901=a0_0x15841b;if(this[_0x190901(0x781)][_0x190901(0x2b5)](this[_0x190901(0x1fd)]+'\x20('+this[_0x190901(0x74f)]['wuid']+_0x190901(0x31b)),!_0x3af5fb[_0x190901(0x573)][_0x190901(0x338)]||_0x3af5fb['message']['text'][_0x190901(0x561)]===0x0)return{'error':!0x0,'detail':_0x190901(0x327)};let _0x37d2c3=this[_0x190901(0x46f)](_0x3af5fb['message']['text']),_0x4f5e07=await this[_0x190901(0x238)](_0x37d2c3,_0x1b2841),_0x227bca={'number':_0x1b2841,'options':{'delay':_0x3af5fb['message'][_0x190901(0x58f)],'linkPreview':_0x3af5fb[_0x190901(0x573)][_0x190901(0x19e)]},'textMessage':{'text':_0x4f5e07}},_0x71109c=null;try{let _0xb3d900=await this[_0x190901(0x3b3)](_0x227bca);if(_0xb3d900&&_0xb3d900[_0x190901(0x633)])return{'error':!0x1,'id':_0xb3d900['key']['id']};_0x71109c=JSON[_0x190901(0x194)](_0xb3d900),this[_0x190901(0x781)][_0x190901(0x2b5)](this[_0x190901(0x1fd)]+'\x20('+this[_0x190901(0x74f)][_0x190901(0x370)]+_0x190901(0x368)+_0x71109c);}catch(_0x4446af){this[_0x190901(0x781)][_0x190901(0x45f)](this[_0x190901(0x1fd)]+'\x20('+this[_0x190901(0x74f)]['wuid']+_0x190901(0x257)+(_0x4446af instanceof Error?_0x4446af[_0x190901(0x573)]:JSON[_0x190901(0x194)](_0x4446af,null,0x2))),_0x71109c=_0x4446af[_0x190901(0x573)];}if(_0x71109c)return{'error':!0x0,'detail':(typeof _0x71109c==_0x190901(0x300)?JSON[_0x190901(0x194)](_0x71109c,null,0x2):_0x71109c)['replace'](/[\[\]{}\n]/g,'\x20')[_0x190901(0x32f)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x20905b,_0x51efa0){const _0x203b33=a0_0x15841b;this[_0x203b33(0x781)][_0x203b33(0x2b5)](this['instanceName']+'\x20('+this[_0x203b33(0x74f)][_0x203b33(0x370)]+_0x203b33(0x2ed));let _0x329939;if(_0x20905b['message']['text']&&_0x20905b[_0x203b33(0x573)][_0x203b33(0x338)]['length']>0x0){let _0x3cdf4b=this[_0x203b33(0x46f)](_0x20905b[_0x203b33(0x573)][_0x203b33(0x338)]);_0x329939=await this[_0x203b33(0x238)](_0x3cdf4b,_0x51efa0);}let _0x440f87={'number':_0x51efa0,'options':{'delay':_0x20905b[_0x203b33(0x573)][_0x203b33(0x58f)],'linkPreview':_0x20905b[_0x203b33(0x573)]['linkPreview']},'mediaMessage':{'mediatype':_0x20905b['message'][_0x203b33(0x75e)],'caption':_0x329939,'media':_0x20905b[_0x203b33(0x573)][_0x203b33(0x2e7)]}},_0x3378cf=null;try{let _0x56b221=await this[_0x203b33(0x3c2)](_0x440f87);if(_0x56b221&&_0x56b221['status'])return{'error':!0x1,'id':_0x56b221[_0x203b33(0x500)]['id']};_0x3378cf=JSON[_0x203b33(0x194)](_0x56b221),this[_0x203b33(0x781)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x203b33(0x370)]+_0x203b33(0x368)+_0x3378cf);}catch(_0x21e115){this[_0x203b33(0x781)]['error'](this['instanceName']+'\x20('+this[_0x203b33(0x74f)][_0x203b33(0x370)]+_0x203b33(0x4d7)+(_0x21e115 instanceof Error?_0x21e115['message']:JSON['stringify'](_0x21e115,null,0x2))),_0x3378cf=_0x21e115[_0x203b33(0x573)];}if(_0x3378cf)return{'error':!0x0,'detail':(typeof _0x3378cf=='object'?JSON[_0x203b33(0x194)](_0x3378cf,null,0x2):_0x3378cf)[_0x203b33(0x32f)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x15841b(0x28a)](_0x1caa99,_0x1a5404){const _0x3e19f3=a0_0x15841b;this[_0x3e19f3(0x781)][_0x3e19f3(0x2b5)](this[_0x3e19f3(0x1fd)]+'\x20('+this['instance'][_0x3e19f3(0x370)]+_0x3e19f3(0x4d0));let _0xe9b306={'number':_0x1a5404,'options':{'delay':_0x1caa99[_0x3e19f3(0x573)]['delay']},'audioMessage':{'audio':_0x1caa99[_0x3e19f3(0x573)][_0x3e19f3(0x2e7)]}},_0x483a56=null;try{let _0x48e7b3=await this[_0x3e19f3(0x3d3)](_0xe9b306);if(_0x48e7b3&&_0x48e7b3['status'])return{'error':!0x1,'id':_0x48e7b3[_0x3e19f3(0x500)]['id']};_0x483a56=JSON[_0x3e19f3(0x194)](_0x48e7b3),this[_0x3e19f3(0x781)][_0x3e19f3(0x2b5)](this[_0x3e19f3(0x1fd)]+'\x20('+this[_0x3e19f3(0x74f)]['wuid']+_0x3e19f3(0x368)+_0x483a56);}catch(_0x14597a){this['logger'][_0x3e19f3(0x45f)](this['instanceName']+'\x20('+this[_0x3e19f3(0x74f)]['wuid']+_0x3e19f3(0x6ef)+(_0x14597a instanceof Error?_0x14597a[_0x3e19f3(0x573)]:JSON[_0x3e19f3(0x194)](_0x14597a,null,0x2))),_0x483a56=_0x14597a[_0x3e19f3(0x573)];}if(_0x483a56)return{'error':!0x0,'detail':(typeof _0x483a56=='object'?JSON[_0x3e19f3(0x194)](_0x483a56,null,0x2):_0x483a56)[_0x3e19f3(0x32f)](/[\[\]{}\n]/g,'\x20')[_0x3e19f3(0x32f)](/  +/g,'\x20')};}async[a0_0x15841b(0x4b5)](_0x3693f0){const _0x11fe9d=a0_0x15841b;try{return await this[_0x11fe9d(0x34c)][_0x11fe9d(0x433)](_0x3693f0[_0x11fe9d(0x569)],_0x3693f0[_0x11fe9d(0x617)]),{'update':_0x11fe9d(0x236)};}catch(_0x3b0e12){let _0x24ea63='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x284ea8=_0x3b0e12 instanceof Error?_0x3b0e12['message']:typeof _0x3b0e12==_0x11fe9d(0x300)?JSON[_0x11fe9d(0x194)](_0x3b0e12):_0x3b0e12,_0x434983=_0x24ea63+':\x20'+_0x284ea8;throw this['logger'][_0x11fe9d(0x45f)](this[_0x11fe9d(0x1fd)]+'\x20('+this[_0x11fe9d(0x74f)][_0x11fe9d(0x370)]+'):\x20'+_0x434983),new I(_0x434983);}}async['groupName'](_0x53705){const _0x4565e9=a0_0x15841b;try{return await this[_0x4565e9(0x34c)][_0x4565e9(0x754)](_0x53705[_0x4565e9(0x569)],_0x53705[_0x4565e9(0x424)]),{'update':_0x4565e9(0x236)};}catch(_0x59ddf2){let _0x3429c7='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0xbebe58=_0x59ddf2 instanceof Error?_0x59ddf2[_0x4565e9(0x573)]:typeof _0x59ddf2==_0x4565e9(0x300)?JSON[_0x4565e9(0x194)](_0x59ddf2):_0x59ddf2,_0x5f1180=_0x3429c7+':\x20'+_0xbebe58;throw this[_0x4565e9(0x781)][_0x4565e9(0x45f)](this[_0x4565e9(0x1fd)]+'\x20('+this['instance'][_0x4565e9(0x370)]+'):\x20'+_0x5f1180),new I(_0x5f1180);}}async['toggleEphemeral'](_0x5f20e4){const _0x278578=a0_0x15841b;try{let _0x1e98ec=await this[_0x278578(0x34c)][_0x278578(0x548)](_0x5f20e4[_0x278578(0x569)],_0x5f20e4[_0x278578(0x345)]);return{'success':!0x0};}catch(_0x1bbcaf){let _0xbe03ad=_0x278578(0x22e),_0x558dfa=_0x1bbcaf instanceof Error?_0x1bbcaf[_0x278578(0x573)]:typeof _0x1bbcaf==_0x278578(0x300)?JSON['stringify'](_0x1bbcaf):_0x1bbcaf,_0x255567=_0xbe03ad+':\x20'+_0x558dfa;throw this[_0x278578(0x781)][_0x278578(0x45f)](this[_0x278578(0x1fd)]+'\x20('+this[_0x278578(0x74f)][_0x278578(0x370)]+_0x278578(0x368)+_0x255567),new I(_0x255567);}}async['groupSetting'](_0x8f9512){const _0x454284=a0_0x15841b;try{return await this[_0x454284(0x34c)][_0x454284(0x540)](_0x8f9512['groupJid'],_0x8f9512[_0x454284(0x38d)]),{'update':_0x454284(0x236)};}catch(_0x192b13){let _0x50c4e4=_0x454284(0x4f7),_0x1a6721=_0x192b13 instanceof Error?_0x192b13[_0x454284(0x573)]:typeof _0x192b13==_0x454284(0x300)?JSON[_0x454284(0x194)](_0x192b13):_0x192b13,_0x4e64c1=_0x50c4e4+':\x20'+_0x1a6721;throw this['logger'][_0x454284(0x45f)](this[_0x454284(0x1fd)]+'\x20('+this[_0x454284(0x74f)]['wuid']+_0x454284(0x368)+_0x4e64c1),new I(_0x4e64c1);}}},Jt=class c{constructor(_0x2deb5e,_0x9661c9,_0x28e30a){const _0x47f689=a0_0x15841b;this[_0x47f689(0x5b5)]=_0x2deb5e,this[_0x47f689(0x299)]=_0x9661c9,this[_0x47f689(0x15c)]=_0x28e30a,this['db']={},this[_0x47f689(0x3b0)]={},this['logger']=new R(c[_0x47f689(0x424)]),this['waInstances']={},(this['removeInstance'](),this[_0x47f689(0x381)](),Object['assign'](this['db'],_0x9661c9[_0x47f689(0x3cb)](_0x47f689(0xc8))),Object[_0x47f689(0x1ff)](this[_0x47f689(0x3b0)],_0x9661c9['get'](_0x47f689(0x521))),this[_0x47f689(0x3a5)]=this['db'][_0x47f689(0x4a2)]?this['repository']['dbServer']?.['db'](this['db'][_0x47f689(0x3a2)][_0x47f689(0x30f)]+_0x47f689(0x180)):void 0x0,this['cache']=this[_0x47f689(0x3b0)][_0x47f689(0x4a2)]?new le(this[_0x47f689(0x3b0)]):void 0x0);}async[a0_0x15841b(0x4f5)](_0x7f3f0e){const _0x223512=a0_0x15841b;if(_0x7f3f0e&&!this[_0x223512(0x36c)][_0x7f3f0e])throw new J(_0x223512(0x4b2)+_0x7f3f0e+_0x223512(0x620));let _0x3dff2f=[];for await(let [_0x3c5c2a,_0x5a3c34]of Object[_0x223512(0x65c)](this[_0x223512(0x36c)]))if(_0x5a3c34&&_0x5a3c34[_0x223512(0x478)]['state']===_0x223512(0x23c)){let _0x7fcd65=await this[_0x223512(0x15c)][_0x223512(0x2a1)][_0x223512(0x76f)](_0x3c5c2a);_0x3dff2f[_0x223512(0x627)]({'instance':{'instanceName':_0x3c5c2a,'apikey':_0x7fcd65[_0x223512(0x239)],'owner':_0x5a3c34['wuid'],'profileName':await _0x5a3c34[_0x223512(0x6c9)]()||_0x223512(0x46c),'profilePictureUrl':_0x5a3c34[_0x223512(0x506)]}});}return _0x3dff2f[_0x223512(0x76f)](_0x4a2741=>_0x4a2741[_0x223512(0x74f)]['instanceName']===_0x7f3f0e)??_0x3dff2f;}async[a0_0x15841b(0x13d)](_0x36d35a){const _0x4e976d=a0_0x15841b;if(this['db'][_0x4e976d(0x4a2)]&&(await this['repository'][_0x4e976d(0x1b7)][_0x4e976d(0x609)](),(await this[_0x4e976d(0x3a5)][_0x4e976d(0x35b)]())[_0x4e976d(0x561)]>0x0&&await this[_0x4e976d(0x3a5)][_0x4e976d(0x127)](_0x36d35a)),this[_0x4e976d(0x3b0)]['ENABLED']){this['cache'][_0x4e976d(0x288)]=_0x36d35a,await this[_0x4e976d(0x3b8)][_0x4e976d(0x766)]();return;}}async[a0_0x15841b(0x624)](){const _0x611b30=a0_0x15841b;await this[_0x611b30(0x4aa)]();let _0x5a6f7f=async _0x1e6910=>{const _0x22b661=_0x611b30;let _0x5195da=new Me(this[_0x22b661(0x299)],this[_0x22b661(0x5b5)],this[_0x22b661(0x15c)]);_0x5195da['instanceName']=_0x1e6910,await _0x5195da['connectToWhatsapp'](),this[_0x22b661(0x36c)][_0x1e6910]=_0x5195da;};try{if(this[_0x611b30(0x3b0)]['ENABLED']){let _0x2cc495=await this[_0x611b30(0x3b8)][_0x611b30(0x6e4)]();_0x2cc495?.[_0x611b30(0x561)]>0x0&&_0x2cc495[_0x611b30(0x537)](async _0x482a82=>await _0x5a6f7f(_0x482a82[_0x611b30(0x69d)](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x611b30(0x15c)]['dbServer'][_0x611b30(0x609)]();let _0x3af41e=await this[_0x611b30(0x3a5)]['collections']();_0x3af41e[_0x611b30(0x561)]>0x0&&_0x3af41e['forEach'](async _0x3cfb64=>await _0x5a6f7f(_0x3cfb64[_0x611b30(0x59c)][_0x611b30(0x32f)](/^[\w-]+\./,'')));return;}}catch(_0x59c299){this[_0x611b30(0x781)]['error'](_0x59c299);}}async[a0_0x15841b(0x41c)](){const _0x2232f4=a0_0x15841b;let _0x184a1a=await this[_0x2232f4(0x15c)][_0x2232f4(0x2a1)][_0x2232f4(0x284)](),_0x1f6e34=_0x184a1a['filter'](_0x1649ca=>!this[_0x2232f4(0x36c)][_0x1649ca['_id']]&&(_0x1649ca[_0x2232f4(0x6ed)]||typeof _0x1649ca[_0x2232f4(0x6ed)]>'u'));_0x1f6e34[_0x2232f4(0x561)]>0x0&&await Promise[_0x2232f4(0x60e)](_0x1f6e34[_0x2232f4(0xef)](async _0x59d34c=>{const _0x224840=_0x2232f4;let _0x13767a={'online':!0x1,'lastDisconnect':Date[_0x224840(0x1db)]()};await this[_0x224840(0x15c)][_0x224840(0x2a1)][_0x224840(0x6ab)](_0x13767a,_0x59d34c[_0x224840(0x333)]);}));let _0x1e3f44=Date[_0x2232f4(0x1db)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x219b27=_0x184a1a['filter'](_0x4ec57b=>!this[_0x2232f4(0x36c)][_0x4ec57b[_0x2232f4(0x333)]]&&typeof _0x4ec57b[_0x2232f4(0x61e)]<'u'&&_0x4ec57b[_0x2232f4(0x61e)]<_0x1e3f44);_0x219b27[_0x2232f4(0x561)]>0x0&&await Promise[_0x2232f4(0x60e)](_0x219b27['map'](async _0x5965ee=>{}));}async[a0_0x15841b(0x4aa)](){const _0xf6b5cc=a0_0x15841b;try{let _0x19a13f={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x104b2a={'online':!0x1,'lastDisconnect':Date[_0xf6b5cc(0x1db)]()},_0x4e8386=await this[_0xf6b5cc(0x15c)][_0xf6b5cc(0x2a1)][_0xf6b5cc(0x529)](_0x19a13f,_0x104b2a);console[_0xf6b5cc(0x660)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x4e8386['insertCount']),await this[_0xf6b5cc(0x37f)]();}catch(_0x598eb9){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x598eb9);}}async[a0_0x15841b(0x37f)](){const _0x1de8d1=a0_0x15841b;try{let _0x2ebe40={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x1de1da=await this[_0x1de8d1(0x15c)][_0x1de8d1(0x2a1)][_0x1de8d1(0x3c7)](_0x2ebe40);console[_0x1de8d1(0x660)](_0x1de8d1(0x5d2)+_0x1de1da['insertCount']);}catch(_0x4a2a2a){console[_0x1de8d1(0x45f)](_0x1de8d1(0x6af),_0x4a2a2a);}}['removeInstance'](){const _0x442cd1=a0_0x15841b;this[_0x442cd1(0x5b5)]['on'](_0x442cd1(0x1e7),async _0x5b9e93=>{const _0x2be898=_0x442cd1;try{this[_0x2be898(0x36c)][_0x5b9e93]=void 0x0;}catch{}try{this['cleaningUp'](_0x5b9e93);}finally{this[_0x2be898(0x781)][_0x2be898(0x156)](_0x2be898(0x4b2)+_0x5b9e93+_0x2be898(0x318));}});}[a0_0x15841b(0x381)](){const _0x42a765=a0_0x15841b;this['eventEmitter']['on'](_0x42a765(0x1b9),async _0x1c5aac=>{const _0x4e12b1=_0x42a765;try{this['waInstances'][_0x1c5aac]=void 0x0;}catch{}try{this[_0x4e12b1(0x13d)](_0x1c5aac);}finally{this['logger']['warn'](_0x4e12b1(0x4b2)+_0x1c5aac+'\x22\x20-\x20NOT\x20CONNECTION');}});}},qt=class extends x{[a0_0x15841b(0x29f)](_0x471780){return Ks(_0x471780);}async[a0_0x15841b(0x6d8)](_0x48e2b1){const _0x3cacaf=a0_0x15841b;if(_0x48e2b1[_0x3cacaf(0x561)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x48e2b1[0x0][_0x3cacaf(0x4e4)])[_0x3cacaf(0x3c4)]([..._0x48e2b1]))[_0x3cacaf(0x561)]};}catch(_0x293620){return _0x293620;}}async[a0_0x15841b(0x76f)](_0x226ed9,_0x2f99c6){const _0x44706a=a0_0x15841b;try{let _0x3eb679=this[_0x44706a(0x29f)](_0x2f99c6),_0x5ca122=$(_0x226ed9['where']);return await _0x3eb679['find'](_0x5ca122)[_0x44706a(0x16b)]({'lastmsg':-0x1})[_0x44706a(0x6e2)](_0x226ed9?.[_0x44706a(0x6e2)]??0x0)[_0x44706a(0x584)]();}catch{return[];}}async[a0_0x15841b(0x453)](_0x2cd728,_0x5bc731){const _0x5e455c=a0_0x15841b;try{return{'deletedCount':(await this[_0x5e455c(0x29f)](_0x5bc731)[_0x5e455c(0x3c7)]({..._0x2cd728[_0x5e455c(0x4a1)]}))[_0x5e455c(0x390)]};}catch(_0xa094f0){return{'error':_0xa094f0?.[_0x5e455c(0x6ca)]()};}}async[a0_0x15841b(0x134)](_0x2cd1cf,_0x4b10ed){const _0x5db4ca=a0_0x15841b;try{return await this[_0x5db4ca(0x29f)](_0x4b10ed)[_0x5db4ca(0x3c7)]({..._0x2cd1cf['where']}),[];}catch(_0x2d9eec){return{'error':_0x2d9eec?.[_0x5db4ca(0x6ca)]()};}}async[a0_0x15841b(0x5d9)](_0xe8fd2a,_0x1f08af){const _0x1896ab=a0_0x15841b;try{let _0x4036c2=this[_0x1896ab(0x29f)](_0x1f08af),_0x15f8c8=$(_0xe8fd2a['where']);return await _0x4036c2[_0x1896ab(0x5d9)](_0x15f8c8)['lean']();}catch{return null;}}async[a0_0x15841b(0x13c)](_0x34157e,_0x258747,_0x27c348,_0x2a38bf,_0x29d250='$set'){const _0x98c746=a0_0x15841b;try{let _0x4669eb={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2a38bf},_0x3dbfd7=this[_0x98c746(0x29f)](_0x27c348),_0x22c78b=$(_0x34157e[_0x98c746(0x4a1)]);Object['keys'](_0x258747)[_0x98c746(0x537)](_0x326c12=>{_0x258747[_0x326c12]==null&&delete _0x258747[_0x326c12];});let _0x550062={};return _0x550062[_0x29d250]=_0x258747,await _0x3dbfd7[_0x98c746(0x413)](_0x22c78b,_0x550062,_0x4669eb);}catch(_0x16d9b3){return console[_0x98c746(0x45f)](_0x16d9b3),null;}}async[a0_0x15841b(0x469)](_0x31ed42){const _0x56a647=a0_0x15841b;try{let _0x24156d=this[_0x56a647(0x29f)](_0x31ed42[0x0]['query'][_0x56a647(0x4a1)]['owner']),_0x267ed7=_0x31ed42[_0x56a647(0xef)](_0x489454=>({'updateOne':{'filter':{..._0x489454[_0x56a647(0x6ba)]['where']},'update':{'$set':_0x489454['update']},'upsert':!0x0}})),_0x4c44ff=await _0x24156d[_0x56a647(0x376)](_0x267ed7);return _0x4c44ff[_0x56a647(0x353)]+_0x4c44ff[_0x56a647(0x79d)];}catch(_0x402ded){return console[_0x56a647(0x45f)](_0x402ded),0x0;}}async[a0_0x15841b(0x674)](_0x46655e){const _0x9f3f40=a0_0x15841b;try{let _0x1bf020={'group_isCommunity':'','group_announce':'','group_size':''},_0x52342b={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x3aac71={'$unset':_0x1bf020};return(await this[_0x9f3f40(0x29f)](_0x46655e)[_0x9f3f40(0x469)](_0x52342b,_0x3aac71))[_0x9f3f40(0x353)];}catch(_0x3d8da0){return console[_0x9f3f40(0x45f)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x3d8da0),0x0;}}async[a0_0x15841b(0x59e)](_0x4bb171){const _0x39d5ea=a0_0x15841b;try{let _0x5bc16b=this['getChatModelForOwner'](_0x4bb171),_0x548dfc={'leadInfo.etiquetas':{'$exists':!0x1}},_0x563481={'$set':{'leadInfo.etiquetas':[]}};return(await _0x5bc16b['updateMany'](_0x548dfc,_0x563481))[_0x39d5ea(0x353)];}catch(_0x2ee294){return console[_0x39d5ea(0x45f)](_0x2ee294),0x0;}}async['updateMissingTags'](_0x4ac7c7){const _0x289232=a0_0x15841b;try{let _0xe62514=this[_0x289232(0x29f)](_0x4ac7c7),_0x479998={'leadInfo.tags':{'$exists':!0x1}},_0x20508b={'$set':{'leadInfo.tags':[]}};return(await _0xe62514[_0x289232(0x469)](_0x479998,_0x20508b))['modifiedCount'];}catch(_0xd8847f){return console[_0x289232(0x45f)](_0xd8847f),0x0;}}async[a0_0x15841b(0x53a)](_0x247d08){const _0x59d24e=a0_0x15841b;try{let _0x577e84=this['getChatModelForOwner'](_0x247d08),_0x1eb905={'leadInfo.customFields':{'$exists':!0x1}},_0x235e01={'$set':{'leadInfo.customFields':[]}};return(await _0x577e84[_0x59d24e(0x469)](_0x1eb905,_0x235e01))[_0x59d24e(0x353)];}catch(_0x171ab5){return console[_0x59d24e(0x45f)](_0x171ab5),0x0;}}async[a0_0x15841b(0x3c4)](_0x47936a,_0x5835d9){const _0x423719=a0_0x15841b;if(!Array[_0x423719(0x676)](_0x47936a)||_0x47936a[_0x423719(0x561)]===0x0)throw new Error(_0x423719(0x72d));try{return(await this[_0x423719(0x29f)](_0x5835d9)[_0x423719(0x3c4)](_0x47936a))['length'];}catch(_0x494cdb){throw console['error'](_0x423719(0x50e),_0x494cdb),_0x494cdb;}}async['deleteChat'](_0x113e9a,_0x246b6a){const _0x4e7c43=a0_0x15841b;try{await this[_0x4e7c43(0x29f)](_0x246b6a)[_0x4e7c43(0x79b)]({'_id':_0x113e9a});}catch(_0x293abd){throw console['error'](_0x4e7c43(0xf9),_0x293abd),_0x293abd;}}},Vt=class extends x{constructor(_0x5f0736,_0x40e2ed,_0x3e6217){const _0x43417f=a0_0x15841b;super(_0x40e2ed),this[_0x43417f(0x172)]=_0x5f0736,this['configService']=_0x40e2ed,this['dbConnection']=_0x3e6217;}async[a0_0x15841b(0x6d8)](_0x2bdaa8){const _0x28a14a=a0_0x15841b;if(_0x2bdaa8[_0x28a14a(0x561)]!==0x0)try{return{'insertCount':(await this[_0x28a14a(0x172)][_0x28a14a(0x3c4)]([..._0x2bdaa8]))[_0x28a14a(0x561)]};}catch(_0x1ee95f){return _0x1ee95f;}}async[a0_0x15841b(0x179)](_0x29c1a2,_0x4ccebb){const _0x83a4e5=a0_0x15841b;try{let _0x3f6038=$(_0x29c1a2[_0x83a4e5(0x4a1)]);return{'updatedCount':(await this[_0x83a4e5(0x172)][_0x83a4e5(0x469)](_0x3f6038,{'$set':_0x4ccebb}))[_0x83a4e5(0x353)]};}catch(_0x4e764d){return console[_0x83a4e5(0x45f)](_0x83a4e5(0x2d3),_0x4e764d),{'error':_0x4e764d[_0x83a4e5(0x6ca)]()};}}async[a0_0x15841b(0x408)](_0x27f64f){const _0x34b22d=a0_0x15841b;try{let _0x4021ae={'_id':{'$in':_0x27f64f}};return await this[_0x34b22d(0x172)][_0x34b22d(0x76f)](_0x4021ae)[_0x34b22d(0x584)]();}catch(_0x397ec7){return console[_0x34b22d(0x45f)](_0x34b22d(0x648),_0x397ec7),[];}}async[a0_0x15841b(0x453)](_0x104a8e){const _0x47110b=a0_0x15841b;try{return{'deletedCount':(await this[_0x47110b(0x172)][_0x47110b(0x3c7)]({..._0x104a8e[_0x47110b(0x4a1)]}))['deletedCount']};}catch(_0x5e8c75){return{'error':_0x5e8c75?.[_0x47110b(0x6ca)]()};}}async[a0_0x15841b(0x76f)](_0x5ad9c9){const _0x5f0a7e=a0_0x15841b;try{let _0x500285=$(_0x5ad9c9[_0x5f0a7e(0x4a1)]);return await this[_0x5f0a7e(0x172)][_0x5f0a7e(0x76f)](_0x500285)[_0x5f0a7e(0x6e2)](_0x5ad9c9?.[_0x5f0a7e(0x6e2)]??0x0)[_0x5f0a7e(0x584)]();}catch{return[];}}async['findOne'](_0x549e3b){const _0x153ed2=a0_0x15841b;try{let _0x16069d=$(_0x549e3b['where']);return await this[_0x153ed2(0x172)][_0x153ed2(0x5d9)](_0x16069d)[_0x153ed2(0x584)]();}catch{return null;}}},Gt=class extends x{[a0_0x15841b(0x174)](_0xbea2e1){return fa(_0xbea2e1);}async[a0_0x15841b(0x13c)](_0x4f16de,_0x8de8a3,_0x70be4,_0x390ee2){const _0x12a6d8=a0_0x15841b;try{let _0x281167={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x390ee2},_0x4df22a=this[_0x12a6d8(0x174)](_0x70be4),_0x2f59d6=$(_0x4f16de[_0x12a6d8(0x4a1)]);return await _0x4df22a[_0x12a6d8(0x413)](_0x2f59d6,{'$set':_0x8de8a3},_0x281167);}catch(_0xc134cd){return console['error'](_0xc134cd),null;}}async[a0_0x15841b(0x76f)](_0x4f3e5a,_0x5b82e1){const _0x36c2b7=a0_0x15841b;try{let _0x10ccdc=this['getLabelModelForOwner'](_0x5b82e1),_0x69c396=$(_0x4f3e5a['where']);return await _0x10ccdc[_0x36c2b7(0x76f)](_0x69c396);}catch(_0x50afd4){console[_0x36c2b7(0x45f)](_0x50afd4);}}async[a0_0x15841b(0x453)](_0x5bebf6,_0x25bd66){const _0x2cb2d0=a0_0x15841b;try{let _0x520296=this[_0x2cb2d0(0x174)](_0x25bd66),_0x375da5=$(_0x5bebf6[_0x2cb2d0(0x4a1)]);await _0x520296['deleteMany'](_0x375da5);}catch(_0x946aa3){console['error'](_0x946aa3);}}async[a0_0x15841b(0x134)](_0x59d6d0){const _0x331252=a0_0x15841b;try{return await this[_0x331252(0x174)](_0x59d6d0)[_0x331252(0x4f2)][_0x331252(0x2da)](),{'success':!0x0};}catch(_0x1fd2b0){return console[_0x331252(0x45f)](_0x1fd2b0),{'success':!0x1,'error':_0x1fd2b0};}}},Bt=class{constructor(_0x304fc5){const _0x2f797e=a0_0x15841b;this[_0x2f797e(0x72f)]=_0x304fc5;}async['editChat']({instanceName:_0x280425},_0x238b1f){const _0x4ea6ae=a0_0x15841b;return await this['waMonitor']['waInstances'][_0x280425][_0x4ea6ae(0x35f)](_0x238b1f);}async['whatsappNumber']({instanceName:_0x2255ac},_0x543bd3){const _0x4cb85e=a0_0x15841b;return await this[_0x4cb85e(0x72f)][_0x4cb85e(0x36c)][_0x2255ac][_0x4cb85e(0x423)](_0x543bd3);}async[a0_0x15841b(0xca)]({instanceName:_0x135c99},_0x4538be){const _0x26caa3=a0_0x15841b;return await this[_0x26caa3(0x72f)]['waInstances'][_0x135c99][_0x26caa3(0xca)](_0x4538be);}async[a0_0x15841b(0x742)]({instanceName:_0x395e19},_0x20d937){const _0x243574=a0_0x15841b;return await this[_0x243574(0x72f)]['waInstances'][_0x395e19]['markMessageAsRead'](_0x20d937);}async['archiveChat']({instanceName:_0x4bb209},_0x17bf71){const _0x584b70=a0_0x15841b;return await this[_0x584b70(0x72f)]['waInstances'][_0x4bb209]['archiveChat'](_0x17bf71);}async['deleteMessage']({instanceName:_0x5a92d5},_0x4dc4c5){const _0x30d4f2=a0_0x15841b;return await this[_0x30d4f2(0x72f)]['waInstances'][_0x5a92d5][_0x30d4f2(0x79e)](_0x4dc4c5);}async[a0_0x15841b(0x1a6)]({instanceName:_0x5cb284},_0x2fa534){const _0x46a5cb=a0_0x15841b;return await this['waMonitor'][_0x46a5cb(0x36c)][_0x5cb284][_0x46a5cb(0x1cd)](_0x2fa534['number']);}async[a0_0x15841b(0x242)]({instanceName:_0xf3773c},_0xba7e71){const _0x2a8d55=a0_0x15841b;return await this[_0x2a8d55(0x72f)][_0x2a8d55(0x36c)][_0xf3773c][_0x2a8d55(0x242)](_0xba7e71[_0x2a8d55(0x799)]);}async[a0_0x15841b(0x751)]({instanceName:_0x1a1ba1},_0xacd465){const _0xb5f615=a0_0x15841b;return await this['waMonitor'][_0xb5f615(0x36c)][_0x1a1ba1]['updatePresence'](_0xacd465);}async[a0_0x15841b(0x182)]({instanceName:_0x19b9ee},_0x36e560){const _0x3b7462=a0_0x15841b;return await this[_0x3b7462(0x72f)][_0x3b7462(0x36c)][_0x19b9ee]['fetchContacts'](_0x36e560);}async[a0_0x15841b(0x4b4)]({instanceName:_0x47463f},_0x2cfbe7){const _0x5da92d=a0_0x15841b;return await this[_0x5da92d(0x72f)][_0x5da92d(0x36c)][_0x47463f]['getBase64FromMediaMessage'](_0x2cfbe7);}async[a0_0x15841b(0x16d)]({instanceName:_0x39cac4},_0xb3e743){const _0x8e97f5=a0_0x15841b;return await this[_0x8e97f5(0x72f)]['waInstances'][_0x39cac4]['fetchMessages'](_0xb3e743);}async[a0_0x15841b(0xeb)]({instanceName:_0x281d6f}){const _0x3f5988=a0_0x15841b;return await this[_0x3f5988(0x72f)][_0x3f5988(0x36c)][_0x281d6f][_0x3f5988(0xeb)]();}async[a0_0x15841b(0x255)]({instanceName:_0x127d6f}){const _0x38a6e0=a0_0x15841b;return await this[_0x38a6e0(0x72f)]['waInstances'][_0x127d6f]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x285ed1}){const _0x15f20a=a0_0x15841b;return await this[_0x15f20a(0x72f)][_0x15f20a(0x36c)][_0x285ed1][_0x15f20a(0xe6)]();}async[a0_0x15841b(0x445)]({instanceName:_0x59705d},_0x2e00c3){const _0x2df722=a0_0x15841b;return await this[_0x2df722(0x72f)][_0x2df722(0x36c)][_0x59705d][_0x2df722(0x445)](_0x2e00c3);}async[a0_0x15841b(0x492)]({instanceName:_0x5cbd03},_0x12ef8e){const _0x4ef7c9=a0_0x15841b;return await this[_0x4ef7c9(0x72f)]['waInstances'][_0x5cbd03][_0x4ef7c9(0x492)](_0x12ef8e[_0x4ef7c9(0x799)]);}async[a0_0x15841b(0x6e6)]({instanceName:_0x16c537},_0x201790){const _0x402459=a0_0x15841b;return await this['waMonitor'][_0x402459(0x36c)][_0x16c537][_0x402459(0x6e6)](_0x201790[_0x402459(0x424)]);}async[a0_0x15841b(0x6ae)]({instanceName:_0x3855a0},_0x59523f){const _0x913413=a0_0x15841b;return await this[_0x913413(0x72f)]['waInstances'][_0x3855a0][_0x913413(0x6ae)](_0x59523f['status']);}async[a0_0x15841b(0x541)]({instanceName:_0x4a5ea7},_0x4e5097){const _0x3b6c59=a0_0x15841b;return await this['waMonitor'][_0x3b6c59(0x36c)][_0x4a5ea7][_0x3b6c59(0x541)](_0x4e5097[_0x3b6c59(0x3a7)]);}async[a0_0x15841b(0x18b)]({instanceName:_0x503f2d},_0x54ec2){const _0x37eae8=a0_0x15841b;return await this[_0x37eae8(0x72f)][_0x37eae8(0x36c)][_0x503f2d][_0x37eae8(0x18b)]();}},Ds=require(a0_0x15841b(0x5b2)),Wt=class c{constructor(_0x3f3d96,_0x271f5f,_0x103812,_0xf1ff14,_0x425959){const _0x3f11a7=a0_0x15841b;this[_0x3f11a7(0x72f)]=_0x3f3d96,this['configService']=_0x271f5f,this['repository']=_0x103812,this[_0x3f11a7(0x5b5)]=_0xf1ff14,this[_0x3f11a7(0x2eb)]=_0x425959,this['logger']=new R(c['name']);}async[a0_0x15841b(0x2b7)]({instanceName:_0x3ea0d6,apikey:_0x5982cb,number:_0x4da5ac,proxy:_0xe9b4d8=!0x0}){const _0x57875e=a0_0x15841b;try{let _0x59cc3b=new Me(this[_0x57875e(0x299)],this[_0x57875e(0x5b5)],this[_0x57875e(0x15c)]);_0x59cc3b[_0x57875e(0x1fd)]=_0x3ea0d6,this['waMonitor'][_0x57875e(0x36c)][_0x59cc3b['instanceName']]=_0x59cc3b;let _0x4bd16a={};_0x5982cb?(await this[_0x57875e(0x15c)][_0x57875e(0x2a1)][_0x57875e(0x6ab)]({'apikey':_0x5982cb},_0x3ea0d6),_0x4bd16a[_0x57875e(0x239)]=_0x5982cb):_0x4bd16a=await this[_0x57875e(0x2eb)]['generateHash']({'instanceName':_0x59cc3b['instanceName']});let _0x2aa573;if(_0x4da5ac){if(_0x2aa573=await this[_0x57875e(0x468)](_0x4da5ac),_0x2aa573[_0x57875e(0x45f)])throw new I(_0x2aa573[_0x57875e(0x45f)][_0x57875e(0x6ca)]());_0x4da5ac=_0x2aa573[_0x57875e(0x799)];}let _0x2e8fb6;return await _0x59cc3b[_0x57875e(0x436)](_0x4da5ac),await(0x0,Ds['delay'])(0x7d0),_0x2e8fb6=_0x59cc3b[_0x57875e(0x443)],{'instance':{'instanceName':_0x59cc3b[_0x57875e(0x1fd)],'status':_0x57875e(0x52e)},'hash':_0x4bd16a,'qrcode':_0x2e8fb6};}catch(_0x303531){throw this[_0x57875e(0x781)][_0x57875e(0x45f)](_0x303531),_0x303531;}}async[a0_0x15841b(0x434)]({instanceName:_0x17a100,number:_0x29323a=null}){const _0x26ab7e=a0_0x15841b;try{let _0x376783=this[_0x26ab7e(0x72f)][_0x26ab7e(0x36c)][_0x17a100];switch(_0x376783?.['connectionStatus']?.[_0x26ab7e(0x223)]){case'close':return await _0x376783[_0x26ab7e(0x436)](_0x29323a),await(0x0,Ds[_0x26ab7e(0x58f)])(0x7d0),_0x376783[_0x26ab7e(0x443)];case _0x26ab7e(0x3c1):return _0x376783[_0x26ab7e(0x443)];default:return await this[_0x26ab7e(0x164)]({'instanceName':_0x17a100});}}catch(_0x32f3a1){this[_0x26ab7e(0x781)]['log'](_0x32f3a1);}}async[a0_0x15841b(0x164)]({instanceName:_0x43cd1b}){const _0x524428=a0_0x15841b;let _0x545057=this['waMonitor'][_0x524428(0x36c)][_0x43cd1b][_0x524428(0x478)],_0x4907b7=null;_0x545057[_0x524428(0x223)]===_0x524428(0x23c)&&_0x43cd1b&&(_0x4907b7=await this['waMonitor'][_0x524428(0x4f5)](_0x43cd1b));let _0xbe06d6=null;return _0x545057[_0x524428(0x223)]===_0x524428(0x3c1)&&_0x43cd1b&&(_0xbe06d6=this['waMonitor']['waInstances'][_0x43cd1b]['qrCode']),{'instance':_0x43cd1b,'connectionStatus':_0x545057,'instanceInfo':_0x4907b7,'qrcode':_0xbe06d6};}async['verifyWhatsAppNumber'](_0x26084b){const _0xe724f9=a0_0x15841b;_0x26084b=_0x26084b[_0xe724f9(0x32f)](/\D/g,'');let _0x107fb6=Object['keys'](this['waMonitor'][_0xe724f9(0x36c)])[_0xe724f9(0x2f3)](_0x3fafdd=>{const _0x3c8f1d=_0xe724f9;let _0x11123e=this['waMonitor'][_0x3c8f1d(0x36c)][_0x3fafdd];return _0x11123e&&_0x11123e[_0x3c8f1d(0x478)]&&_0x11123e['connectionStatus'][_0x3c8f1d(0x223)]===_0x3c8f1d(0x23c);});if(_0x107fb6[_0xe724f9(0x561)]===0x0)return{'number':this[_0xe724f9(0xe3)](_0x26084b)};let _0x21cc78=Math[_0xe724f9(0x319)](Math['random']()*_0x107fb6[_0xe724f9(0x561)]),_0x4450ce=_0x107fb6[_0x21cc78];try{let _0x39ec95=(await this['waMonitor'][_0xe724f9(0x36c)][_0x4450ce]['whatsappNumber']({'numbers':[_0x26084b]}))[_0xe724f9(0x48e)]();return _0x39ec95[_0xe724f9(0x67a)]?{'number':_0x39ec95['jid']['replace'](_0xe724f9(0x205),'')}:{'number':_0x26084b,'error':_0xe724f9(0x5cf)};}catch(_0x39282f){return this[_0xe724f9(0x781)][_0xe724f9(0x45f)](_0xe724f9(0x6d3)+_0x39282f),{'number':_0x26084b,'error':_0xe724f9(0x243)};}}['formatBRNumber'](_0x25ea75){let _0x342660=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x25ea75);if(_0x342660&&_0x342660[0x1]==='55'){let _0x4a874e=_0x342660[0x2],_0x13380b=_0x342660[0x3],_0x28ad4e=_0x342660[0x4];if(parseInt(_0x4a874e)>=0x1f&&_0x13380b==='9')return _0x342660[0x1]+_0x4a874e+_0x28ad4e;}return _0x25ea75;}async['restartInstance']({instanceName:_0x2317ff}){const _0x18854e=a0_0x15841b;try{return this[_0x18854e(0x72f)]['waInstances'][_0x2317ff]?.['client']?.['ws']?.[_0x18854e(0x50b)](),{'status':_0x18854e(0x35e),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x1d20df){this['logger']['error'](_0x1d20df);}}async[a0_0x15841b(0x3f9)]({instanceName:_0x52ddd8}){const _0x50edd5=a0_0x15841b;return _0x52ddd8?this[_0x50edd5(0x72f)]['instanceInfo'](_0x52ddd8):this[_0x50edd5(0x72f)]['instanceInfo']();}async[a0_0x15841b(0x65b)]({instanceName:_0x3c2313}){const _0x10bb24=a0_0x15841b;try{return await this[_0x10bb24(0x72f)][_0x10bb24(0x36c)][_0x3c2313]?.[_0x10bb24(0x34c)]?.[_0x10bb24(0x65b)](_0x10bb24(0x4f9)+_0x3c2313),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x451c48){throw new I(_0x451c48[_0x10bb24(0x6ca)]());}}async[a0_0x15841b(0x4c0)]({instanceName:_0x4ff786}){const _0x12ce2b=a0_0x15841b;if((await this[_0x12ce2b(0x164)]({'instanceName':_0x4ff786}))[_0x12ce2b(0x478)]['state']===_0x12ce2b(0x23c))throw new m([_0x12ce2b(0x794),_0x12ce2b(0x2b0)]);try{return delete this[_0x12ce2b(0x72f)][_0x12ce2b(0x36c)][_0x4ff786],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x55e58c){throw new m(_0x55e58c[_0x12ce2b(0x6ca)]());}}},te=require(a0_0x15841b(0x6e9)),zt=class{constructor(_0x47baec){const _0x359f4f=a0_0x15841b;this[_0x359f4f(0x72f)]=_0x47baec;}async[a0_0x15841b(0x3a4)]({instanceName:_0x46f584},_0x43946d){const _0x15228b=a0_0x15841b;return await this['waMonitor'][_0x15228b(0x36c)][_0x46f584][_0x15228b(0x3b3)](_0x43946d);}async[a0_0x15841b(0x406)]({instanceName:_0x2ea11b},_0x59437b){const _0x5105b1=a0_0x15841b;return await this[_0x5105b1(0x72f)][_0x5105b1(0x36c)][_0x2ea11b][_0x5105b1(0x128)](_0x59437b);}async[a0_0x15841b(0x371)]({instanceName:_0x215df8},_0x17300e){const _0x5e2015=a0_0x15841b;if((0x0,te['isBase64'])(_0x17300e?.['mediaMessage']?.['media'])&&!_0x17300e?.['mediaMessage']?.[_0x5e2015(0x1ba)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,te[_0x5e2015(0x787)])(_0x17300e?.['mediaMessage']?.[_0x5e2015(0x565)])||(0x0,te[_0x5e2015(0x276)])(_0x17300e?.[_0x5e2015(0x3c2)]?.[_0x5e2015(0x565)]))return await this[_0x5e2015(0x72f)]['waInstances'][_0x215df8][_0x5e2015(0x3c2)](_0x17300e);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x15841b(0x57c)]({instanceName:_0x38f279},_0x73f13c){const _0x1abf1d=a0_0x15841b;if((0x0,te[_0x1abf1d(0x787)])(_0x73f13c[_0x1abf1d(0x5c1)][_0x1abf1d(0x5e7)])||(0x0,te['isBase64'])(_0x73f13c[_0x1abf1d(0x5c1)]['image']))return await this[_0x1abf1d(0x72f)][_0x1abf1d(0x36c)][_0x38f279][_0x1abf1d(0x1bf)](_0x73f13c);throw new m(_0x1abf1d(0x14b));}async[a0_0x15841b(0x3a9)]({instanceName:_0x325d3b},_0x4cd71a){const _0x1b48fd=a0_0x15841b;if((0x0,te['isURL'])(_0x4cd71a[_0x1b48fd(0x3fd)][_0x1b48fd(0x451)])||(0x0,te[_0x1b48fd(0x276)])(_0x4cd71a[_0x1b48fd(0x3fd)][_0x1b48fd(0x451)]))return await this[_0x1b48fd(0x72f)][_0x1b48fd(0x36c)][_0x325d3b][_0x1b48fd(0x3d3)](_0x4cd71a);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendButtons']({instanceName:_0x5a153a},_0x2b2dd6){const _0x13d873=a0_0x15841b;if((0x0,te[_0x13d873(0x276)])(_0x2b2dd6[_0x13d873(0x593)]['mediaMessage']?.[_0x13d873(0x565)])&&!_0x2b2dd6[_0x13d873(0x593)][_0x13d873(0x3c2)]?.[_0x13d873(0x1ba)])throw new m(_0x13d873(0x112));return await this[_0x13d873(0x72f)][_0x13d873(0x36c)][_0x5a153a][_0x13d873(0x593)](_0x2b2dd6);}async['sendLocation']({instanceName:_0x339ffe},_0x855f3d){return await this['waMonitor']['waInstances'][_0x339ffe]['locationMessage'](_0x855f3d);}async['sendPoll']({instanceName:_0x26f68b},_0x3a96a1){const _0x317275=a0_0x15841b;return await this[_0x317275(0x72f)][_0x317275(0x36c)][_0x26f68b]['pollMessage'](_0x3a96a1);}async[a0_0x15841b(0x607)]({instanceName:_0x54260b},_0x32fcf3){const _0x2edd72=a0_0x15841b;return await this[_0x2edd72(0x72f)]['waInstances'][_0x54260b]['listMessage'](_0x32fcf3);}async[a0_0x15841b(0x55b)]({instanceName:_0x41bd3a},_0x5906c0){const _0x395c9f=a0_0x15841b;return await this['waMonitor'][_0x395c9f(0x36c)][_0x41bd3a]['contactMessage'](_0x5906c0);}async[a0_0x15841b(0x3a3)]({instanceName:_0xcb92d2},_0x1fbc11){const _0x237084=a0_0x15841b;if(!_0x1fbc11[_0x237084(0xf3)][_0x237084(0x39b)][_0x237084(0x77a)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x237084(0x210));return await this['waMonitor'][_0x237084(0x36c)][_0xcb92d2][_0x237084(0xf3)](_0x1fbc11);}async[a0_0x15841b(0x1e8)]({instanceName:_0x461ce3},_0x81ffe4){const _0x4dce98=a0_0x15841b;return await this[_0x4dce98(0x72f)][_0x4dce98(0x36c)][_0x461ce3][_0x4dce98(0x119)](_0x81ffe4);}},Ro=require(a0_0x15841b(0x6a4)),_s=require(a0_0x15841b(0x372)),Ht=class c{constructor(_0x2c1b87,_0x4d6216,_0x4e9ca8){const _0x43d5ac=a0_0x15841b;this[_0x43d5ac(0x299)]=_0x2c1b87,this['waMonitor']=_0x4d6216,this[_0x43d5ac(0x15c)]=_0x4e9ca8,this['logger']=new R(c[_0x43d5ac(0x424)]);}async['jwt'](_0x3d71b1){const _0x570b9c=a0_0x15841b;let _0xfbfcec=this[_0x570b9c(0x299)][_0x570b9c(0x3cb)]('AUTHENTICATION')['JWT'],_0x1b2034=(0x0,Ro[_0x570b9c(0x261)])({'instanceName':_0x3d71b1[_0x570b9c(0x1fd)],'apiName':Ze,'tokenId':(0x0,_s['v4'])()},_0xfbfcec[_0x570b9c(0xc5)],{'expiresIn':_0xfbfcec[_0x570b9c(0x642)],'encoding':_0x570b9c(0x618),'subject':'g-t'}),_0x9c6256=await this[_0x570b9c(0x15c)][_0x570b9c(0x2a1)][_0x570b9c(0x6ab)]({'jwt':_0x1b2034},_0x3d71b1[_0x570b9c(0x1fd)]);if(_0x9c6256[_0x570b9c(0x45f)])throw this['logger']['error']({'localError':c[_0x570b9c(0x424)]+_0x570b9c(0xc4),'error':_0x9c6256[_0x570b9c(0x45f)]}),new m(_0x570b9c(0x61a),_0x9c6256[_0x570b9c(0x45f)]?.['toString']());return{'jwt':_0x1b2034};}async[a0_0x15841b(0x239)](_0x2e7bb6){const _0x3d22a7=a0_0x15841b;let _0x487293=(0x0,_s['v4'])()[_0x3d22a7(0xf7)](),_0x8de712=await this['repository'][_0x3d22a7(0x2a1)][_0x3d22a7(0x6ab)]({'apikey':_0x487293},_0x2e7bb6[_0x3d22a7(0x1fd)]);if(_0x8de712[_0x3d22a7(0x45f)])throw this[_0x3d22a7(0x781)][_0x3d22a7(0x45f)]({'localError':c[_0x3d22a7(0x424)]+_0x3d22a7(0xc4),'error':_0x8de712[_0x3d22a7(0x45f)]}),new m(_0x3d22a7(0x61a),_0x8de712[_0x3d22a7(0x45f)]?.['toString']());return{'apikey':_0x487293};}async[a0_0x15841b(0x63c)](_0xf4e37a){const _0x4c8511=a0_0x15841b;let _0x2af748=this['configService'][_0x4c8511(0x3cb)](_0x4c8511(0x6e8));return await this[_0x2af748['TYPE']](_0xf4e37a);}},Kt=class{constructor(_0x4b78aa){const _0x17cbd0=a0_0x15841b;this[_0x17cbd0(0x72f)]=_0x4b78aa;}async[a0_0x15841b(0x1e0)](_0x4e35f4,_0x1d0cae){const _0x307fa7=a0_0x15841b;return await this[_0x307fa7(0x72f)][_0x307fa7(0x36c)][_0x4e35f4[_0x307fa7(0x1fd)]]['createGroup'](_0x1d0cae);}async[a0_0x15841b(0x23d)](_0x117d76,_0x2da62f){const _0x695bbd=a0_0x15841b;return await this['waMonitor'][_0x695bbd(0x36c)][_0x117d76[_0x695bbd(0x1fd)]][_0x695bbd(0x23d)](_0x2da62f);}async[a0_0x15841b(0x4b5)](_0x5e74a0,_0x3faf8f){const _0x9be825=a0_0x15841b;return await this[_0x9be825(0x72f)][_0x9be825(0x36c)][_0x5e74a0['instanceName']]['groupDesc'](_0x3faf8f);}async[a0_0x15841b(0x75c)](_0x1f2b26,_0x3d7437){const _0x34551a=a0_0x15841b;return await this[_0x34551a(0x72f)]['waInstances'][_0x1f2b26[_0x34551a(0x1fd)]][_0x34551a(0x75c)](_0x3d7437);}async[a0_0x15841b(0x5cd)](_0x5a4af2,_0x3c9736){const _0x3f7b57=a0_0x15841b;return await this[_0x3f7b57(0x72f)][_0x3f7b57(0x36c)][_0x5a4af2[_0x3f7b57(0x1fd)]]['groupBetterSetting'](_0x3c9736);}async[a0_0x15841b(0x150)](_0x509084,_0x59f45c){const _0x5c1a79=a0_0x15841b;return await this['waMonitor'][_0x5c1a79(0x36c)][_0x509084[_0x5c1a79(0x1fd)]][_0x5c1a79(0x150)](_0x59f45c);}async[a0_0x15841b(0x184)](_0x4578df,_0x3ad9fc){const _0x2cd312=a0_0x15841b;return await this[_0x2cd312(0x72f)]['waInstances'][_0x4578df['instanceName']][_0x2cd312(0xe1)](_0x3ad9fc);}async[a0_0x15841b(0x198)](_0x398608){const _0x3fcd56=a0_0x15841b;return await this[_0x3fcd56(0x72f)][_0x3fcd56(0x36c)][_0x398608[_0x3fcd56(0x1fd)]][_0x3fcd56(0x198)]();}async[a0_0x15841b(0x2fe)](_0x4e30fd,_0x10e51e){const _0x48f1f0=a0_0x15841b;return await this['waMonitor'][_0x48f1f0(0x36c)][_0x4e30fd[_0x48f1f0(0x1fd)]]['inviteCode'](_0x10e51e);}async[a0_0x15841b(0x40a)](_0x32adf8,_0x34893b){const _0x14c02c=a0_0x15841b;return await this[_0x14c02c(0x72f)]['waInstances'][_0x32adf8[_0x14c02c(0x1fd)]][_0x14c02c(0x40a)](_0x34893b);}async['groupGetInviteInfo'](_0x3b1b94,_0xbb6c58){const _0x37fb71=a0_0x15841b;return await this['waMonitor'][_0x37fb71(0x36c)][_0x3b1b94['instanceName']][_0x37fb71(0x2f1)](_0xbb6c58);}async[a0_0x15841b(0x26a)](_0x2795cc,_0x1d9cc7){const _0x131d97=a0_0x15841b;return await this['waMonitor'][_0x131d97(0x36c)][_0x2795cc['instanceName']][_0x131d97(0x26a)](_0x1d9cc7);}async[a0_0x15841b(0x191)](_0x56d389,_0x36b5b0){const _0x590141=a0_0x15841b;return await this[_0x590141(0x72f)][_0x590141(0x36c)][_0x56d389[_0x590141(0x1fd)]][_0x590141(0x191)](_0x36b5b0);}async[a0_0x15841b(0x315)](_0x5c1062,_0x4da2aa){const _0x404538=a0_0x15841b;return await this[_0x404538(0x72f)][_0x404538(0x36c)][_0x5c1062[_0x404538(0x1fd)]]['updateGParticipant'](_0x4da2aa);}async[a0_0x15841b(0x785)](_0xc3d1ca,_0x2e8913){const _0x30f7bb=a0_0x15841b;return await this[_0x30f7bb(0x72f)][_0x30f7bb(0x36c)][_0xc3d1ca[_0x30f7bb(0x1fd)]][_0x30f7bb(0x785)](_0x2e8913);}async['leaveGroup'](_0x257aec,_0x35c32b){const _0x506ceb=a0_0x15841b;return await this[_0x506ceb(0x72f)][_0x506ceb(0x36c)][_0x257aec['instanceName']][_0x506ceb(0x6cc)](_0x35c32b);}},Qt=class{constructor(_0x2dce4c){this['waMonitor']=_0x2dce4c;}[a0_0x15841b(0x6ab)](_0x5258a8,_0x1600ba){const _0x329990=a0_0x15841b;return this[_0x329990(0x72f)][_0x329990(0x36c)][_0x5258a8['instanceName']][_0x329990(0x3e2)](_0x1600ba);}async[a0_0x15841b(0x76f)](_0xc322b0){const _0x186d0f=a0_0x15841b;try{return await this[_0x186d0f(0x72f)][_0x186d0f(0x36c)][_0xc322b0[_0x186d0f(0x1fd)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Ep=new R('FlowController'),Yt=class{constructor(_0x522e11){const _0x875dce=a0_0x15841b;this[_0x875dce(0x72f)]=_0x522e11;}async[a0_0x15841b(0x251)](_0x397c91,_0x25603c){const _0x229792=a0_0x15841b;return await this[_0x229792(0x72f)]['waInstances'][_0x397c91[_0x229792(0x1fd)]][_0x229792(0x251)](_0x25603c);}async[a0_0x15841b(0x5ce)](_0x56b8e2){const _0x1cc0c3=a0_0x15841b;return await this['waMonitor'][_0x1cc0c3(0x36c)][_0x56b8e2[_0x1cc0c3(0x1fd)]][_0x1cc0c3(0x5ce)]();}async['deleteDoneMessages'](_0x51ea61){const _0xe32fc3=a0_0x15841b;return await this[_0xe32fc3(0x72f)][_0xe32fc3(0x36c)][_0x51ea61[_0xe32fc3(0x1fd)]][_0xe32fc3(0x29e)]();}async[a0_0x15841b(0x45b)](_0x46feae){const _0x48ab38=a0_0x15841b;return await this['waMonitor'][_0x48ab38(0x36c)][_0x46feae[_0x48ab38(0x1fd)]][_0x48ab38(0x45b)]();}async[a0_0x15841b(0x3ca)](_0x548c5e,_0x52f08d){const _0x2646ad=a0_0x15841b;return await this[_0x2646ad(0x72f)]['waInstances'][_0x548c5e['instanceName']][_0x2646ad(0x3ca)](_0x52f08d);}async[a0_0x15841b(0x289)](_0x4d8a06,_0x24cd91){const _0x4c75d6=a0_0x15841b;return await this[_0x4c75d6(0x72f)][_0x4c75d6(0x36c)][_0x4d8a06[_0x4c75d6(0x1fd)]][_0x4c75d6(0x289)](_0x24cd91);}async[a0_0x15841b(0x62d)](_0x46cb3f,_0xe8d752){const _0x40fad2=a0_0x15841b;return await this['waMonitor'][_0x40fad2(0x36c)][_0x46cb3f[_0x40fad2(0x1fd)]][_0x40fad2(0x62d)](_0xe8d752);}async['updateFlowConfig'](_0x528e35,_0x33bd46){const _0x40360f=a0_0x15841b;return await this['waMonitor'][_0x40360f(0x36c)][_0x528e35[_0x40360f(0x1fd)]]['updateFlowConfig'](_0x33bd46);}async[a0_0x15841b(0x68f)](_0xf367c2,_0x9af2c1){const _0x4b52d4=a0_0x15841b;return await this[_0x4b52d4(0x72f)][_0x4b52d4(0x36c)][_0xf367c2['instanceName']][_0x4b52d4(0x68f)](_0x9af2c1);}async[a0_0x15841b(0x3bd)](_0xec2d8,_0x384c76){const _0x6e4365=a0_0x15841b;return await this[_0x6e4365(0x72f)][_0x6e4365(0x36c)][_0xec2d8['instanceName']][_0x6e4365(0x3bd)](_0x384c76);}async[a0_0x15841b(0x65e)](_0x2470dc,_0x1b0648){const _0x2ceb7b=a0_0x15841b;return await this[_0x2ceb7b(0x72f)][_0x2ceb7b(0x36c)][_0x2470dc[_0x2ceb7b(0x1fd)]]['fetchConversation'](_0x1b0648);}async['editConversation'](_0x5ba2c3,_0x177c30){const _0x593ddc=a0_0x15841b;return await this[_0x593ddc(0x72f)][_0x593ddc(0x36c)][_0x5ba2c3[_0x593ddc(0x1fd)]]['editConversation'](_0x177c30);}async[a0_0x15841b(0x114)](_0x28156f,_0x43bd66){const _0x2107c2=a0_0x15841b;return await this[_0x2107c2(0x72f)]['waInstances'][_0x28156f[_0x2107c2(0x1fd)]]['deleteConversation'](_0x43bd66);}async[a0_0x15841b(0x55a)](_0x23b522,_0x5cfaae){const _0x3af9a4=a0_0x15841b;return await this[_0x3af9a4(0x72f)]['waInstances'][_0x23b522[_0x3af9a4(0x1fd)]][_0x3af9a4(0x55a)](_0x5cfaae[_0x3af9a4(0x424)],_0x5cfaae['global']);}async['createFlow'](_0x3d0b32,_0x40a24e,_0x408dea){const _0x365e0e=a0_0x15841b;return await this[_0x365e0e(0x72f)][_0x365e0e(0x36c)][_0x3d0b32[_0x365e0e(0x1fd)]][_0x365e0e(0x6d0)](_0x40a24e,_0x408dea);}async[a0_0x15841b(0x59a)](_0x5998d3,_0x1299c7,_0x469f56){const _0x5a3787=a0_0x15841b;return await this['waMonitor'][_0x5a3787(0x36c)][_0x5998d3[_0x5a3787(0x1fd)]][_0x5a3787(0x59a)](_0x1299c7,_0x469f56);}async[a0_0x15841b(0x393)](_0x5178ce,_0x1fc277,_0x57ad93){const _0x470314=a0_0x15841b;return await this['waMonitor'][_0x470314(0x36c)][_0x5178ce[_0x470314(0x1fd)]][_0x470314(0x393)](_0x1fc277,_0x57ad93);}async[a0_0x15841b(0x6fd)](_0x14cf43,_0x4da87e,_0x2e2e2e){const _0x5d7f01=a0_0x15841b;return await this[_0x5d7f01(0x72f)][_0x5d7f01(0x36c)][_0x14cf43['instanceName']][_0x5d7f01(0x6fd)](_0x4da87e,_0x2e2e2e);}async['editFlowGroup'](_0x228188,_0x1de785,_0x54058f){const _0x11b39d=a0_0x15841b;return await this[_0x11b39d(0x72f)][_0x11b39d(0x36c)][_0x228188[_0x11b39d(0x1fd)]][_0x11b39d(0x36b)](_0x1de785,_0x54058f);}async[a0_0x15841b(0x158)](_0x11f8a6,_0x1ea06d,_0x33197c){const _0xc2d6f0=a0_0x15841b;return await this[_0xc2d6f0(0x72f)][_0xc2d6f0(0x36c)][_0x11f8a6[_0xc2d6f0(0x1fd)]][_0xc2d6f0(0x158)](_0x1ea06d,_0x33197c);}async[a0_0x15841b(0x4d3)](_0x15d909,_0x2e4da1,_0x54998f){const _0x4b371c=a0_0x15841b;return await this[_0x4b371c(0x72f)][_0x4b371c(0x36c)][_0x15d909['instanceName']][_0x4b371c(0x4d3)](_0x2e4da1,_0x54998f);}async[a0_0x15841b(0x58e)](_0x2c93db,_0x5cffdb,_0x3d92ab){const _0x210915=a0_0x15841b;return await this[_0x210915(0x72f)]['waInstances'][_0x2c93db[_0x210915(0x1fd)]][_0x210915(0x58e)](_0x5cffdb,_0x3d92ab);}async[a0_0x15841b(0x60a)](_0x343617,_0xef11d3,_0x39067e){const _0x47b1ad=a0_0x15841b;return await this[_0x47b1ad(0x72f)][_0x47b1ad(0x36c)][_0x343617[_0x47b1ad(0x1fd)]][_0x47b1ad(0x60a)](_0xef11d3,_0x39067e);}async[a0_0x15841b(0x67b)](_0x2cd1d3){const _0x3cca8b=a0_0x15841b;return await this[_0x3cca8b(0x72f)][_0x3cca8b(0x36c)][_0x2cd1d3['instanceName']][_0x3cca8b(0x67b)]();}},Xt=class{constructor(_0x226e1c){const _0x3b56c0=a0_0x15841b;this[_0x3b56c0(0xf0)]=_0x226e1c;}async['createWebhook'](_0x29a063,_0x431d89){const _0x3bf5ae=a0_0x15841b;return this['webhookService'][_0x3bf5ae(0x6ab)](_0x29a063,_0x431d89);}async[a0_0x15841b(0x28c)](_0x3d8723){const _0x2ebc38=a0_0x15841b;return this[_0x2ebc38(0xf0)]['find'](_0x3d8723);}},Zt=class extends x{constructor(_0x46b01a,_0x358dba){const _0x341647=a0_0x15841b;super(_0x358dba),this['webhookModel']=_0x46b01a,this[_0x341647(0x299)]=_0x358dba;}async['create'](_0x449c7c,_0x201c20){const _0x1c5903=a0_0x15841b;try{return this['dbSettings'][_0x1c5903(0x4a2)]?{'insertCount':(await this[_0x1c5903(0x28f)]['replaceOne']({'_id':_0x201c20},{..._0x449c7c},{'upsert':!0x0}))[_0x1c5903(0x353)]}:{'insertCount':0x1};}catch(_0x322398){return _0x322398;}}async[a0_0x15841b(0x453)](_0x2dca57){const _0x5762be=a0_0x15841b;try{if(this[_0x5762be(0x38a)]['ENABLED']){await this[_0x5762be(0x28f)][_0x5762be(0x79b)]({'_id':_0x2dca57});return;}}catch(_0x477f99){return{'error':_0x477f99};}}async[a0_0x15841b(0x76f)](_0x1de928){const _0xe066fa=a0_0x15841b;try{if(this[_0xe066fa(0x38a)][_0xe066fa(0x4a2)])return await this[_0xe066fa(0x28f)][_0xe066fa(0x5d9)]({'_id':_0x1de928});}catch{return{};}}},es=class extends x{constructor(_0x51e1b5,_0x5ab544){const _0x9117ff=a0_0x15841b;super(_0x5ab544),this[_0x9117ff(0x675)]=_0x51e1b5,this[_0x9117ff(0x299)]=_0x5ab544,this['auth']=_0x5ab544[_0x9117ff(0x3cb)](_0x9117ff(0x6e8));}async['create'](_0x252d46,_0x25dc95){const _0x4b7d69=a0_0x15841b;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0x4b7d69(0x675)][_0x4b7d69(0x13c)]({'_id':_0x25dc95},{'$set':{..._0x252d46}},{'upsert':!0x0}))[_0x4b7d69(0x353)]};}catch(_0xbba8f5){return{'error':_0xbba8f5};}}async[a0_0x15841b(0x529)](_0x56d04a,_0x4ac9dc){const _0x8ef450=a0_0x15841b;try{if(this['dbSettings'][_0x8ef450(0x4a2)])return{'insertCount':(await this[_0x8ef450(0x675)][_0x8ef450(0x469)](_0x56d04a,{'$set':_0x4ac9dc},{'upsert':!0x1}))[_0x8ef450(0x353)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x15667d){return{'error':_0x15667d};}}async[a0_0x15841b(0x3c7)](_0x308af6){const _0x25560b=a0_0x15841b;try{if(this['dbSettings'][_0x25560b(0x4a2)])return{'insertCount':(await this[_0x25560b(0x675)]['deleteMany'](_0x308af6))[_0x25560b(0x390)]};throw new Error(_0x25560b(0x5bf));}catch(_0xcd6751){return{'error':_0xcd6751};}}async[a0_0x15841b(0x453)](_0x3b6ee1){const _0x46373c=a0_0x15841b;try{if(this[_0x46373c(0x38a)][_0x46373c(0x4a2)]){await this['authModel'][_0x46373c(0x79b)]({'_id':_0x3b6ee1});return;}}catch(_0x2b3df5){return{'error':_0x2b3df5};}}async[a0_0x15841b(0x76f)](_0x21744d){const _0x111768=a0_0x15841b;try{if(this[_0x111768(0x38a)][_0x111768(0x4a2)])return await this[_0x111768(0x675)][_0x111768(0x5d9)]({'_id':_0x21744d});}catch{return{};}}async['findAll'](){const _0x1938bd=a0_0x15841b;try{if(this['dbSettings'][_0x1938bd(0x4a2)])return await this[_0x1938bd(0x675)][_0x1938bd(0x76f)]();}catch{return[];}}},ts=class extends x{[a0_0x15841b(0x5fb)](_0x39181f){return pa(_0x39181f);}async['delete'](_0x56340f,_0x4f9e98){const _0x36e45b=a0_0x15841b;try{let _0x42d92d=this['getFlowModelForOwner'](_0x4f9e98),_0x5a69dd=$(_0x56340f['where']);return{'deletedCount':(await _0x42d92d[_0x36e45b(0x3c7)](_0x5a69dd))['deletedCount']};}catch(_0x3a7a75){return{'error':_0x3a7a75?.['toString']()};}}async[a0_0x15841b(0x79b)](_0xdd2e65,_0x2fbe52){const _0x1c951a=a0_0x15841b;try{let _0x3c3ca3=this[_0x1c951a(0x5fb)](_0x2fbe52),_0x5c1247=$(_0xdd2e65['where']);return console[_0x1c951a(0x660)](_0x1c951a(0x25d)),console['log'](_0x5c1247),{'deletedCount':(await _0x3c3ca3[_0x1c951a(0x79b)](_0x5c1247))[_0x1c951a(0x390)]};}catch(_0x281208){return{'error':_0x281208?.[_0x1c951a(0x6ca)]()};}}async['replaceOne'](_0x302b6c,_0x2de8b6,_0x5bd623){const _0x503379=a0_0x15841b;try{let _0x461aaf=await this[_0x503379(0x5fb)](_0x5bd623)[_0x503379(0x76e)](_0x302b6c,_0x2de8b6,{'overwrite':!0x0,'new':!0x0});return _0x461aaf||(console[_0x503379(0x45f)]('Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:',_0x302b6c),null);}catch(_0x36549b){return console[_0x503379(0x45f)](_0x503379(0x214),_0x36549b),null;}}async[a0_0x15841b(0x13c)](_0x84fa9b,_0x182d6b,_0x28cd8e){const _0x476238=a0_0x15841b;try{let _0x487b7d=await this[_0x476238(0x5fb)](_0x28cd8e)['findById'](_0x84fa9b);return _0x487b7d?(Object['assign'](_0x487b7d,_0x182d6b),await _0x487b7d['save']()):(console[_0x476238(0x45f)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x84fa9b),null);}catch(_0x4e4a3f){return console[_0x476238(0x45f)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x4e4a3f),null;}}async[a0_0x15841b(0x699)](_0x4e969b,_0x5572e2,_0x1e5331){const _0x24df9d=a0_0x15841b;try{let _0x332f8c=this[_0x24df9d(0x5fb)](_0x1e5331),_0x1bd513=await _0x332f8c[_0x24df9d(0x3f7)](_0x4e969b),_0x59d2e1=await _0x332f8c['findOneAndUpdate']({'_id':_0x4e969b},_0x5572e2,{'new':!0x0,'runValidators':!0x0});return _0x59d2e1||(console['log']('Documento\x20com\x20ID\x20'+_0x4e969b+_0x24df9d(0x2a3)+_0x1e5331+_0x24df9d(0x714)),null);}catch(_0x4a782a){throw console[_0x24df9d(0x45f)](_0x24df9d(0x560),_0x4a782a),_0x4a782a;}}async['updateMissingShareOwners'](_0x191511){const _0x564f2a=a0_0x15841b;try{let _0x5a34c7=this[_0x564f2a(0x5fb)](_0x191511),_0x53ef81={'shareOwners':{'$exists':!0x1}},_0x3f6ba5={'$set':{'shareOwners':[]}};return(await _0x5a34c7[_0x564f2a(0x469)](_0x53ef81,_0x3f6ba5))[_0x564f2a(0x353)];}catch(_0x15bf9d){return console['error'](_0x15bf9d),0x0;}}async[a0_0x15841b(0x5cb)](_0x5dcb8b,_0x3159e9){const _0x81873=a0_0x15841b;try{let _0x1aeeb6=this[_0x81873(0x5fb)](_0x3159e9);return await new _0x1aeeb6(_0x5dcb8b)[_0x81873(0x78d)]();}catch(_0x13f4d8){return console['error'](_0x81873(0x1e5),_0x13f4d8),null;}}async[a0_0x15841b(0x469)](_0x4cbb20,_0x10adca,_0x365c89){const _0x2c8df5=a0_0x15841b;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x365c89)[_0x2c8df5(0x469)](_0x4cbb20,{'$set':_0x10adca}))[_0x2c8df5(0x353)]};}catch(_0x1e5a8d){return console[_0x2c8df5(0x45f)](_0x2c8df5(0x366),_0x1e5a8d),{'error':_0x1e5a8d};}}async['findAll'](_0x2d32ff,_0x6b9f21){const _0x3690e8=a0_0x15841b;try{let _0x266fc7=this[_0x3690e8(0x5fb)](_0x6b9f21),_0x4654aa=$(_0x2d32ff['where']);return await _0x266fc7[_0x3690e8(0x76f)](_0x4654aa)[_0x3690e8(0x6e2)](_0x2d32ff?.['limit']??0x0)[_0x3690e8(0x584)]();}catch{return[];}}async[a0_0x15841b(0x5d9)](_0x138a5c,_0x392ca5){const _0x3bd74d=a0_0x15841b;try{let _0x368b84=this[_0x3bd74d(0x5fb)](_0x392ca5),_0x250ae2=$(_0x138a5c[_0x3bd74d(0x4a1)]);return console['log'](_0x3bd74d(0xdb)),console[_0x3bd74d(0x660)](_0x250ae2),await _0x368b84[_0x3bd74d(0x5d9)](_0x250ae2)['lean']();}catch{return null;}}async[a0_0x15841b(0x134)](_0x536bd7){const _0x3d7b3f=a0_0x15841b;try{return await this[_0x3d7b3f(0x5fb)](_0x536bd7)['collection'][_0x3d7b3f(0x2da)](),{'success':!0x0};}catch(_0x302b07){return console[_0x3d7b3f(0x45f)](_0x302b07),{'success':!0x1,'error':_0x302b07};}}},ss=class extends x{['getConversationModelForOwner'](_0x2e472f){return ha(_0x2e472f);}async[a0_0x15841b(0x6d8)](_0x3e3dcd){const _0x481bc2=a0_0x15841b;if(_0x3e3dcd['length']!==0x0)try{return{'insertCount':(await this[_0x481bc2(0x27d)](_0x3e3dcd[0x0][_0x481bc2(0x4e4)])['insertMany']([..._0x3e3dcd]))[_0x481bc2(0x561)]};}catch(_0x143564){return _0x143564;}}async[a0_0x15841b(0x453)](_0x546a30,_0x882c19){const _0x5e41c7=a0_0x15841b;try{let _0x556be5=this['getConversationModelForOwner'](_0x882c19),_0x192948=$(_0x546a30['where']);return{'deletedCount':(await _0x556be5[_0x5e41c7(0x3c7)](_0x192948))[_0x5e41c7(0x390)]};}catch(_0x131b24){return{'error':_0x131b24?.[_0x5e41c7(0x6ca)]()};}}async[a0_0x15841b(0x79b)](_0x69a2af,_0x4b8cd1){const _0x4e3aaf=a0_0x15841b;try{let _0x2267c8=this['getConversationModelForOwner'](_0x4b8cd1),_0x3f05ae=$(_0x69a2af[_0x4e3aaf(0x4a1)]);return{'deletedCount':(await _0x2267c8['deleteOne'](_0x3f05ae))[_0x4e3aaf(0x390)]};}catch(_0x19765e){return{'error':_0x19765e?.[_0x4e3aaf(0x6ca)]()};}}async[a0_0x15841b(0x179)](_0x10525d,_0x319e73){const _0x529424=a0_0x15841b;try{if(_0x10525d[_0x529424(0x561)]===0x0)return;let _0x8e7515=this[_0x529424(0x27d)](_0x319e73),_0x2743f2=_0x10525d[_0x529424(0xef)](_0x42155e=>({'updateOne':{'filter':{'name':_0x42155e[_0x529424(0x424)],'owner':_0x319e73},'update':{..._0x42155e}}})),{modifiedCount:_0x19630b}=await _0x8e7515[_0x529424(0x376)](_0x2743f2);return{'insertCount':_0x19630b};}catch{return;}}async[a0_0x15841b(0x469)](_0xbb2c69,_0x236f7c,_0x252d5f){const _0x45d45d=a0_0x15841b;try{return{'modifiedCount':(await this[_0x45d45d(0x27d)](_0x252d5f)[_0x45d45d(0x469)](_0xbb2c69,{'$set':_0x236f7c}))[_0x45d45d(0x353)]};}catch(_0x52b021){return console[_0x45d45d(0x45f)](_0x45d45d(0x373),_0x52b021),{'error':_0x52b021};}}async['updateOne'](_0x5e5565,_0x24f9ec,_0x40e01d){const _0x2dafba=a0_0x15841b;try{return await this[_0x2dafba(0x27d)](_0x40e01d)[_0x2dafba(0x413)]({'_id':_0x5e5565},{'$set':_0x24f9ec},{'new':!0x0,'upsert':!0x0})[_0x2dafba(0x584)]();}catch(_0x18329e){return console[_0x2dafba(0x45f)](_0x18329e),null;}}async[a0_0x15841b(0x76f)](_0x196fbf,_0x5d57c3){const _0x5d1322=a0_0x15841b;try{return await this[_0x5d1322(0x27d)](_0x5d57c3)[_0x5d1322(0x76f)](_0x196fbf)[_0x5d1322(0x16b)]({'lastInteraction':-0x1})[_0x5d1322(0x584)]();}catch{return[];}}async[a0_0x15841b(0x5d9)](_0x2909cb,_0x10c425){const _0x288194=a0_0x15841b;try{return await this['getConversationModelForOwner'](_0x10c425)[_0x288194(0x5d9)]({..._0x2909cb['where']})[_0x288194(0x584)]();}catch{return null;}}async[a0_0x15841b(0x134)](_0x180ba7){const _0x36000d=a0_0x15841b;try{return await this[_0x36000d(0x27d)](_0x180ba7)[_0x36000d(0x4f2)][_0x36000d(0x2da)](),{'success':!0x0};}catch(_0x1dca52){return console[_0x36000d(0x45f)](_0x1dca52),{'success':!0x1,'error':_0x1dca52};}}},as=class extends x{[a0_0x15841b(0x270)](_0x56308e){return ga(_0x56308e);}async['createAndSave'](_0x42dcb5,_0x328d3e){const _0x214356=a0_0x15841b;try{let _0x117447=this['getScheduleMessageModelForOwner'](_0x328d3e);return await new _0x117447(_0x42dcb5)[_0x214356(0x78d)]();}catch(_0x1054cf){return console[_0x214356(0x45f)](_0x214356(0x1e5),_0x1054cf),null;}}async[a0_0x15841b(0x79b)](_0x1e50c8,_0x21f3d9){const _0x181f35=a0_0x15841b;try{return await this[_0x181f35(0x270)](_0x21f3d9)[_0x181f35(0x149)](_0x1e50c8),{};}catch(_0x2ba5e4){return{'error':_0x2ba5e4?.[_0x181f35(0x6ca)]()};}}async['updateOne'](_0x52cc68,_0x434845,_0x59e544){const _0x529e45=a0_0x15841b;try{return await this['getScheduleMessageModelForOwner'](_0x59e544)['findOneAndUpdate'](_0x52cc68,{'$set':_0x434845},{'new':!0x0})[_0x529e45(0x584)]();}catch(_0xeb1bbd){return console[_0x529e45(0x45f)](_0x529e45(0x626),_0xeb1bbd),null;}}async[a0_0x15841b(0x3ba)](_0x21b40f,_0x2cf3db,_0x5ea3ad){const _0x2916c3=a0_0x15841b;try{return await this[_0x2916c3(0x270)](_0x5ea3ad)[_0x2916c3(0x76e)](_0x21b40f,_0x2cf3db,{'new':!0x0})[_0x2916c3(0x584)]();}catch(_0x1f9d11){return console[_0x2916c3(0x45f)](_0x2916c3(0x626),_0x1f9d11),null;}}async[a0_0x15841b(0x76f)](_0x4d2c99,_0x229822){const _0xd2306=a0_0x15841b;try{return await this['getScheduleMessageModelForOwner'](_0x229822)[_0xd2306(0x76f)](_0x4d2c99[_0xd2306(0x4a1)])['limit'](_0x4d2c99?.[_0xd2306(0x6e2)]??0x0)[_0xd2306(0x16b)]({'when':0x1})[_0xd2306(0x584)]();}catch{return[];}}async[a0_0x15841b(0x5d9)](_0x14139f,_0x296250){const _0x3c8e1b=a0_0x15841b;try{return await this[_0x3c8e1b(0x270)](_0x296250)['findOne'](_0x14139f[_0x3c8e1b(0x4a1)])[_0x3c8e1b(0x16b)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x15841b(0x3f7)](_0x4c14ba,_0x30f830){const _0x1adab8=a0_0x15841b;try{return await this['getScheduleMessageModelForOwner'](_0x30f830)[_0x1adab8(0x3f7)](_0x4c14ba)[_0x1adab8(0x584)]();}catch{return null;}}async[a0_0x15841b(0x3c7)](_0x3940c4,_0x5d4e35){const _0x2e18d7=a0_0x15841b;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x5d4e35)[_0x2e18d7(0x3c7)](_0x3940c4))[_0x2e18d7(0x390)]};}catch(_0x57bdcd){return console['error']('Erro\x20ao\x20deletar\x20mensagens:',_0x57bdcd),{'error':_0x57bdcd};}}async[a0_0x15841b(0x134)](_0x4a32f0){const _0x1fd61d=a0_0x15841b;try{return await this[_0x1fd61d(0x270)](_0x4a32f0)[_0x1fd61d(0x4f2)][_0x1fd61d(0x2da)](),{'success':!0x0};}catch(_0x493c06){return console[_0x1fd61d(0x45f)](_0x493c06),{'success':!0x1,'error':_0x493c06};}}},os=class extends x{async[a0_0x15841b(0x179)](_0x91f3a,_0xc04b6d){const _0x4c288b=a0_0x15841b;try{if(this[_0x4c288b(0x38a)][_0x4c288b(0x4a2)]){let _0x36aa06=await Ee['findOneAndUpdate']({'_id':_0xc04b6d},{'$set':_0x91f3a},{'new':!0x0});return console[_0x4c288b(0x660)](_0x4c288b(0x64c),_0x36aa06),_0x36aa06;}}catch(_0x10ffb0){throw console[_0x4c288b(0x45f)](_0x4c288b(0x6f3),_0x10ffb0),_0x10ffb0;}}async[a0_0x15841b(0x25e)](_0x5a5e18){const _0x5ddf6b=a0_0x15841b;try{let _0x51cbcd=await Ee['findById'](_0x5a5e18);return _0x51cbcd?_0x51cbcd[_0x5ddf6b(0x77d)]||(_0x51cbcd[_0x5ddf6b(0x77d)]=[],await _0x51cbcd[_0x5ddf6b(0x78d)]()):(_0x51cbcd=new Ee({'_id':_0x5a5e18,'autoCompleteMessages':[]}),await _0x51cbcd[_0x5ddf6b(0x78d)]()),_0x51cbcd;}catch(_0x17a892){return _0x17a892[_0x5ddf6b(0x790)]===0x2af8&&_0x17a892[_0x5ddf6b(0x5c9)]&&_0x17a892['keyPattern']['autoCompleteMessages.command']?(console[_0x5ddf6b(0x45f)](_0x5ddf6b(0x68e)),await Ee['collection'][_0x5ddf6b(0x41e)]('autoCompleteMessages.command_1'),null):(console[_0x5ddf6b(0x45f)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x17a892),null);}}},Tr=new R(a0_0x15841b(0xea)),$r=new Ve(b),Ar=new qt(b),Ir=new st(b),xr=new Vt(Zs,b),Dr=new Zt(ia,b),_r=new es(aa,b),Pr=new ts(b),kr=new Gt(b),jr=new ss(b),Lr=new as(b),Fr=new os(b),de=new Je($r,Ar,Ir,xr,Dr,_r,Pr,jr,kr,Lr,Fr,O?.[a0_0x15841b(0x5f8)]()),G=new Jt(us,b,de),Ur=new Ht(b,G,de),Jr=new Qt(G),Ms=new Xt(Jr),A=new Yt(G),ce=new Wt(G,b,de,us,Ur),B=new zt(G),_=new Bt(G),q=new Kt(G);Tr[a0_0x15841b(0x60c)]('Module\x20-\x20ON');var Uh=require(a0_0x15841b(0x753)),Ps=require('fs'),Oo=T(require('https')),To=T(require(a0_0x15841b(0x1d1))),Ie=class c{static #e;static set[a0_0x15841b(0x14e)](_0x557833){this.#e=_0x557833;}static get[a0_0x15841b(0x6db)](){const _0x19dfa8=a0_0x15841b;let {FULLCHAIN:_0x2a03a4,PRIVKEY:_0x3ccd67}=b[_0x19dfa8(0x3cb)]('SSL_CONF');return Oo['createServer']({'cert':(0x0,Ps[_0x19dfa8(0x693)])(_0x2a03a4),'key':(0x0,Ps[_0x19dfa8(0x693)])(_0x3ccd67)},c.#e);}static get[a0_0x15841b(0x1d1)](){return To['createServer'](c.#e);}},he=T(require('fs')),_o=T(require(a0_0x15841b(0x759))),xe=T(require(a0_0x15841b(0x101))),_e=T(require(a0_0x15841b(0x457))),Pe=require(a0_0x15841b(0x49b));function qr(){const _0x38f8a5=a0_0x15841b;G['loadInstance']();let _0x1aa4de=_e[_0x38f8a5(0x4b6)][_0x38f8a5(0x18d)](__dirname,_0x38f8a5(0x439));Do(_0x1aa4de);}var Do=_0x2c445c=>{const _0x45d61b=a0_0x15841b;let _0x510027=he['default'][_0x45d61b(0x79f)](_0x2c445c),_0x2d5248=0xc*0x3c*0x3c*0x3e8,_0xc64e89=0x2*0x3c*0x3c*0x3e8,_0x4ecf11=new Date()[_0x45d61b(0x23b)]();_0x510027[_0x45d61b(0x537)](_0x265eec=>{const _0x25041a=_0x45d61b;let _0x2e3355=_e[_0x25041a(0x4b6)][_0x25041a(0x18d)](_0x2c445c,_0x265eec),_0x3c7c7b=he['default'][_0x25041a(0x6eb)](_0x2e3355)[_0x25041a(0x5e5)][_0x25041a(0x23b)]();_0x4ecf11-_0x3c7c7b>_0x2d5248&&(he[_0x25041a(0x4b6)][_0x25041a(0x2e6)](_0x2e3355),console[_0x25041a(0x660)](_0x25041a(0x657)+_0x265eec));}),setTimeout(()=>Do(_0x2c445c),_0xc64e89);};function Vr(){const _0x495850=a0_0x15841b;let _0x337ad5=new R(_0x495850(0x2fa)),_0x1309ed=(0x0,ge[_0x495850(0x4b6)])();_0x1309ed[_0x495850(0x485)]((0x0,xo[_0x495850(0x4b6)])({'origin'(_0x37c084,_0x521b88){const _0x385243=_0x495850;let {ORIGIN:_0x243b1a}=b['get']('CORS');return _0x37c084||(_0x37c084='*'),_0x243b1a[_0x385243(0x2a9)]('*')!==-0x1||_0x243b1a[_0x385243(0x2a9)](_0x37c084)!==-0x1?_0x521b88(null,!0x0):_0x521b88(new Error(_0x385243(0x253)));},'methods':[...b[_0x495850(0x3cb)](_0x495850(0x395))[_0x495850(0x4ab)]],'credentials':b[_0x495850(0x3cb)]('CORS')[_0x495850(0x717)]}),(0x0,ge['urlencoded'])({'extended':!0x0,'limit':_0x495850(0x3b4)}),(0x0,ge[_0x495850(0x277)])({'limit':'50mb'})),_0x1309ed[_0x495850(0x485)]((_0x3bfd60,_0x135a68,_0x4f913e)=>{const _0xca0ef3=_0x495850;_0x3bfd60['path']['startsWith'](_0xca0ef3(0x515))?_0x4f913e():(0x0,Io[_0xca0ef3(0x4b6)])()(_0x3bfd60,_0x135a68,_0x4f913e);}),_0x1309ed[_0x495850(0x66a)](_0x495850(0x440),'hbs'),_0x1309ed['set'](_0x495850(0x279),(0x0,js[_0x495850(0x18d)])(ne,_0x495850(0x279))),_0x1309ed['use'](ge['default'][_0x495850(0x269)]((0x0,js[_0x495850(0x18d)])(ne,_0x495850(0x70d)))),_0x1309ed[_0x495850(0x485)]((_0x404b7b,_0x567ae0,_0x207436)=>{const _0x320720=_0x495850;let _0xdc379f=_0x567ae0[_0x320720(0x294)];_0x567ae0[_0x320720(0x294)]=function(_0x210acc){const _0x38b4a5=_0x320720;if(_0x404b7b['query']['convert']===_0x38b4a5(0x2c4)||_0x404b7b[_0x38b4a5(0x2d0)][_0x38b4a5(0x62a)]===_0x38b4a5(0x2c4)){let _0x34f3a1=JSON[_0x38b4a5(0x26f)](_0x210acc);_0x210acc=JSON['stringify'](_0x384bab(_0x34f3a1));}return _0xdc379f[_0x38b4a5(0x135)](_0x567ae0,[_0x210acc]);},_0x207436();}),_0x1309ed[_0x495850(0x485)]('/',At),_0x1309ed[_0x495850(0x485)]((_0x4f010d,_0xdff567,_0x43d8d6,_0x4a1bff)=>{const _0x4a85bf=_0x495850;if(_0x4f010d)return _0x43d8d6[_0x4a85bf(0x633)](_0x4f010d['status']||0x1f4)[_0x4a85bf(0x277)](_0x4f010d);},(_0x399061,_0x18ee6d,_0x5917aa)=>{const _0x54626e=_0x495850;let {method:_0x21c78d,url:_0x55cb5f}=_0x399061;_0x18ee6d['status'](0x194)[_0x54626e(0x277)]({'status':0x194,'message':_0x54626e(0x3d5)+_0x21c78d['toUpperCase']()+'\x20'+_0x55cb5f,'error':_0x54626e(0x733)}),_0x5917aa();});let _0x384bab=(_0x4f7d6c,_0x35597e=_0x495850(0x3b7))=>{const _0x376af7=_0x495850;let _0x34acfd=(_0x29da6b,_0x4e5c8b=null,_0x4fb269=!0x1)=>{const _0x66d305=a0_0xdc1a;let _0x4545e5={};return Object[_0x66d305(0x479)](_0x29da6b)[_0x66d305(0x537)](_0xac9e71=>{const _0x4bca1d=_0x66d305;let _0x4ef190=_0x29da6b[_0xac9e71],_0xfa34fd=''+_0x35597e+_0xac9e71;_0x4e5c8b&&!_0x4fb269&&(_0xfa34fd=_0x4e5c8b+'.'+_0xac9e71),!_0x4ef190&&_0x4ef190!==0x0&&_0x4ef190!==!0x1||typeof _0x4ef190>'u'?_0x4545e5[_0xfa34fd]=null:typeof _0x4ef190!=_0x4bca1d(0x300)&&!Array['isArray'](_0x4ef190)?_0x4545e5[_0xfa34fd]=_0x4ef190:typeof _0x4ef190==_0x4bca1d(0x300)&&!Array['isArray'](_0x4ef190)?_0x4545e5=Object['assign'](_0x4545e5,_0x34acfd(_0x4ef190,_0xfa34fd)):Array[_0x4bca1d(0x676)](_0x4ef190)&&(typeof _0x4ef190[0x0]==_0x4bca1d(0x300)?(_0x4545e5[_0xfa34fd]=[],_0x4ef190[_0x4bca1d(0x537)](_0x2c5e09=>{const _0x2db616=_0x4bca1d;_0x4545e5[_0xfa34fd][_0x2db616(0x627)](_0x34acfd(_0x2c5e09,_0xfa34fd,!0x0));})):_0x4545e5[_0xfa34fd]=_0x4ef190);}),_0x4545e5;};return Array[_0x376af7(0x676)](_0x4f7d6c)?_0x4f7d6c[_0x376af7(0xef)](_0x20288e=>_0x34acfd(_0x20288e)):typeof _0x4f7d6c=='object'&&_0x4f7d6c!==null?_0x34acfd(_0x4f7d6c):{};},_0x5cf5f6=b[_0x495850(0x3cb)](_0x495850(0x2fa));Ie[_0x495850(0x14e)]=_0x1309ed;let _0x3e51f8=Ie[_0x5cf5f6[_0x495850(0x22d)]],_0x5dff78=_0x495850(0xdc);_0x3e51f8[_0x495850(0x583)](_0x5cf5f6[_0x495850(0xc2)],()=>{const _0x677d9d=_0x495850;_0x337ad5[_0x677d9d(0x660)](_0x5dff78),_0x337ad5[_0x677d9d(0x660)](_0x5cf5f6[_0x677d9d(0x22d)][_0x677d9d(0xf7)]()+_0x677d9d(0x51d)+_0x5cf5f6['PORT']);}),qr(),zs();}var Gr=a0_0x15841b(0x5dc),Br=_e[a0_0x15841b(0x4b6)][a0_0x15841b(0x18d)](__dirname,a0_0x15841b(0x729)),De=null;function Wr(){return new Promise((_0x34e905,_0x39d716)=>{const _0x21145e=a0_0xdc1a;he[_0x21145e(0x4b6)][_0x21145e(0x476)](Br,'utf-8',(_0x1efb0f,_0x12d560)=>{const _0x23fa27=_0x21145e;if(_0x1efb0f){De=_0x1efb0f,_0x34e905();return;}_o[_0x23fa27(0x4b6)][_0x23fa27(0x26f)](_0x12d560)[_0x23fa27(0x66e)][_0x23fa27(0x2dd)]===Gr?(De=null,_0x34e905()):(De=new Error(_0x23fa27(0x3e8)),_0x34e905());});});}async function zr(){const _0x3f26e0=a0_0x15841b;try{await Wr(),await Ls();}catch(_0xd9f69b){console[_0x3f26e0(0x45f)](_0x3f26e0(0x69e)+_0xd9f69b),process[_0x3f26e0(0x435)](0x1);}}zr();async function Po(){const _0x398a95=a0_0x15841b;let _0x3e4e01;try{_0x3e4e01=(await xe['default'][_0x398a95(0x3cb)](_0x398a95(0x5bc)))[_0x398a95(0x3a1)]['ip'];}catch(_0x1d07d4){console[_0x398a95(0x45f)](_0x1d07d4);try{_0x3e4e01=(await xe['default'][_0x398a95(0x3cb)](_0x398a95(0x6cd)))[_0x398a95(0x3a1)]['ip'];}catch(_0xcc52ce){console[_0x398a95(0x45f)](_0xcc52ce);try{_0x3e4e01=(await xe[_0x398a95(0x4b6)][_0x398a95(0x3cb)](_0x398a95(0x39c)))[_0x398a95(0x3a1)][_0x398a95(0x77a)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x357495){return console[_0x398a95(0x45f)](_0x357495),!0x1;}}}return _0x3e4e01;}var $o=0x0;async function Hr(){const _0x11d59a=a0_0x15841b;let _0x5bbc37=await new le(b[_0x11d59a(0x3cb)](_0x11d59a(0x521)))['instanceKeys']();return console[_0x11d59a(0x660)](_0x11d59a(0x598),_0x5bbc37['length']),_0x5bbc37[_0x11d59a(0x561)];}function Kr(_0x1b9c9e){const _0x1d23c7=a0_0x15841b;let _0x15869f=_0x1b9c9e[_0x1d23c7(0x3cb)]('SERVER')[_0x1d23c7(0x2a5)],_0x2b63c3=_0x1b9c9e[_0x1d23c7(0x3cb)](_0x1d23c7(0x108)),_0xec6106;if(_0x15869f){let _0x10ac8c=_0x15869f[_0x1d23c7(0x77a)](/\/\/(.*?)\./);_0x10ac8c&&_0x10ac8c[0x1]&&(_0xec6106=_0x10ac8c[0x1]);}if(!_0xec6106&&_0x2b63c3&&_0x2b63c3['FULLCHAIN']){let _0xa11222=_0x2b63c3[_0x1d23c7(0x361)][_0x1d23c7(0x69d)]('/'),_0x16661e=_0xa11222[_0xa11222['length']-0x2];if(_0x16661e){let _0x2f372c=_0x16661e[_0x1d23c7(0x69d)]('.');_0x2f372c[_0x1d23c7(0x561)]>0x2&&(_0xec6106=_0x2f372c[0x0]);}}return _0xec6106;}var xs=Kr(b);async function Qr(){const _0x57de5e=a0_0x15841b;let _0x325ecc=b[_0x57de5e(0x3cb)](_0x57de5e(0x521)),_0x47dd18=b['get'](_0x57de5e(0x6e8))[_0x57de5e(0x21b)][_0x57de5e(0x6e0)],_0x47cf6f=b[_0x57de5e(0x3cb)](_0x57de5e(0x108)),_0x44bfe1=await Po(),_0x21bdcf=b[_0x57de5e(0x3cb)]('SERVER')[_0x57de5e(0xc2)],_0x2d1416=b[_0x57de5e(0x3cb)]('SERVER')[_0x57de5e(0x2a5)];try{let _0x37103b={'ip':_0x44bfe1||null,'redis_enable':_0x325ecc?.['ENABLED']||null,'apikey':_0x47dd18||null,'ssl':_0x47cf6f?.[_0x57de5e(0x162)]||null,'lastupdate':ko||null,'port':_0x21bdcf||null,'gitInstallError':De?.[_0x57de5e(0x573)]||null,'url':_0x2d1416||null};if(console[_0x57de5e(0x660)](_0x57de5e(0x1ea),_0x37103b['ip']),_0x325ecc&&_0x325ecc['ENABLED']){let _0x2f548a=await Hr();_0x37103b[_0x57de5e(0x6a8)]=_0x2f548a||null;}for(let _0x3028ea in _0x37103b)_0x37103b['hasOwnProperty'](_0x3028ea)&&_0x3028ea!=='ip'&&(_0x37103b[_0x3028ea]=JSON[_0x57de5e(0x194)](_0x37103b[_0x3028ea]));return(await xe[_0x57de5e(0x4b6)][_0x57de5e(0x5e6)](_0x57de5e(0x41f),_0x37103b))[_0x57de5e(0x3a1)];}catch(_0x83610f){return console[_0x57de5e(0x45f)](_0x83610f),!0x1;}}var ks=!0x1,ko=0x240,Yr=0x3,Ao=0x1b7740;async function Ls(){const _0x157dc1=a0_0x15841b;if(!await Po())return console['error']('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x157dc1(0x207);let _0x1d4aea=await Qr();if(_0x1d4aea){if(_0x1d4aea['response'][_0x157dc1(0x473)]===!0x0){let _0x445dbd=b['get'](_0x157dc1(0x108)),_0x414edb=b[_0x157dc1(0x3cb)]('SERVER')[_0x157dc1(0x2a5)];_0x445dbd&&_0x445dbd?.[_0x157dc1(0x162)]?.[_0x157dc1(0x278)](_0x157dc1(0x715))&&_0x1d4aea[_0x157dc1(0x46d)][_0x157dc1(0x60f)]&&!_0x414edb&&(await ei(_0x1d4aea['response'][_0x157dc1(0x60f)],Zr),await ti(_0x157dc1(0x3c3),_0x1d4aea['response'][_0x157dc1(0x60f)]),console[_0x157dc1(0x660)](_0x157dc1(0x456)),setTimeout(()=>ai(),0x2710)),De===null&&_0x1d4aea[_0x157dc1(0x46d)][_0x157dc1(0x417)]-ko>0x0&&await Xr(),ks||(ks=!0x0,Vr());let _0x23330e=0x24*0x3c*0x3c,_0x5883f7=_0x1d4aea[_0x157dc1(0x46d)]['segundos']>_0x23330e?_0x23330e:_0x1d4aea[_0x157dc1(0x46d)]['segundos'],_0x439596=Number(_0x5883f7);if(isNaN(_0x439596)){console['error'](_0x157dc1(0x10c));return;}let _0x2b0880=Math[_0x157dc1(0x319)](_0x439596/0xe10),_0x269b08=Math[_0x157dc1(0x319)](_0x439596%0xe10/0x3c),_0xba1a9c=new Date(Date[_0x157dc1(0x1db)]()+_0x439596*0x3e8);setTimeout(Ls,_0x439596*0x3e8);let _0x5cf24a=_0x530f04=>_0x530f04[_0x157dc1(0x6ca)]()[_0x157dc1(0x61c)](0x2,'0'),_0x462617=_0x157dc1(0x335)+_0x5cf24a(_0x2b0880)+_0x157dc1(0x168)+_0x5cf24a(_0x269b08)+_0x157dc1(0x726)+_0x5cf24a(_0xba1a9c['getHours']())+':'+_0x5cf24a(_0xba1a9c['getMinutes']())+'.';console[_0x157dc1(0x660)](_0x462617);}else return console['log'](_0x157dc1(0x143)),ks&&(console[_0x157dc1(0x660)](_0x157dc1(0x363)),process[_0x157dc1(0x435)]()),_0x157dc1(0x6b6);}else{if($o++,$o<Yr)console['log'](_0x157dc1(0x3e3)+Ao/0xea60+'\x20minutos...'),setTimeout(Ls,Ao);else return console[_0x157dc1(0x45f)](_0x157dc1(0x471)),'SERVER_OFFLINE';}}async function Xr(){const _0x5c43ee=a0_0x15841b;console[_0x5c43ee(0x660)](_0x5c43ee(0xd5));let _0x57945c=(0x0,Pe[_0x5c43ee(0x2ec)])(_0x5c43ee(0x703),{'shell':!0x0});_0x57945c[_0x5c43ee(0x2a4)]['on'](_0x5c43ee(0x3a1),_0x5dfba5=>{const _0x34e6a6=_0x5c43ee;console[_0x34e6a6(0x660)]('Atualização:\x20'+_0x5dfba5);}),_0x57945c['stderr']['on'](_0x5c43ee(0x3a1),_0x26352d=>{const _0x5100d2=_0x5c43ee;console[_0x5100d2(0x45f)]('Erro\x20de\x20atualização:\x20'+_0x26352d);}),_0x57945c['on'](_0x5c43ee(0x435),_0x40904e=>{const _0x4e98ca=_0x5c43ee;_0x40904e!==0x0?console[_0x4e98ca(0x45f)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x40904e):console[_0x4e98ca(0x660)](_0x4e98ca(0x29c)),console['log'](_0x4e98ca(0x67e)),setTimeout(()=>process[_0x4e98ca(0x435)](),0x2710);});}var Zr=_e[a0_0x15841b(0x4b6)][a0_0x15841b(0x18d)](__dirname,a0_0x15841b(0x181));async function ei(_0x176a4a,_0x4ce21d){const _0x32bae9=a0_0x15841b;let _0x1b062d=si();_0x176a4a=_0x176a4a[_0x32bae9(0x32f)]('.uazapi.dev','');try{let _0xf6802b=he[_0x32bae9(0x4b6)]['readFileSync'](_0x4ce21d,'utf8');_0xf6802b=_0xf6802b[_0x32bae9(0x32f)](/<apikey>/,_0x1b062d),_0xf6802b=_0xf6802b['replace'](/<subdomain>/g,_0x176a4a),he['default'][_0x32bae9(0x474)](_0x4ce21d,_0xf6802b,_0x32bae9(0x618)),console[_0x32bae9(0x660)](_0x32bae9(0x46a));}catch(_0x94ea53){console[_0x32bae9(0x45f)](_0x32bae9(0x5ed),_0x94ea53);}}function ti(_0x14567d,_0x299bd1){return new Promise((_0x5cfd02,_0x12b138)=>{const _0x1ce007=a0_0xdc1a;let _0x4fbc5f=(0x0,Pe['spawn'])(_0x1ce007(0x538),[_0x1ce007(0x73e),_0x1ce007(0x61b),'-m',_0x14567d,_0x1ce007(0x5d7),'-d',_0x299bd1]);_0x4fbc5f[_0x1ce007(0x2a4)]['on'](_0x1ce007(0x3a1),_0x4f5e92=>{const _0xbcacf6=_0x1ce007;console[_0xbcacf6(0x660)](_0xbcacf6(0x29d)+_0x4f5e92[_0xbcacf6(0x6ca)]());}),_0x4fbc5f['stderr']['on'](_0x1ce007(0x3a1),_0xf5aeea=>{const _0x331b59=_0x1ce007;console[_0x331b59(0x45f)](_0x331b59(0x734)+_0xf5aeea[_0x331b59(0x6ca)]());}),_0x4fbc5f['on'](_0x1ce007(0x50b),_0x272bcb=>{const _0x477179=_0x1ce007;_0x272bcb!==0x0?(console[_0x477179(0x45f)](_0x477179(0x2a6)+_0x272bcb),_0x12b138('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x272bcb)):(console[_0x477179(0x660)](_0x477179(0x20f)),_0x5cfd02());});});}function si(_0x335dcc=0x32){const _0x5f0f6f=a0_0x15841b;let _0x233cdc=_0x5f0f6f(0x1d2),_0x42c278='';for(let _0x37f370=0x0;_0x37f370<_0x335dcc;_0x37f370++)_0x42c278+=_0x233cdc[_0x5f0f6f(0x3b9)](Math[_0x5f0f6f(0x319)](Math[_0x5f0f6f(0x1ab)]()*_0x233cdc[_0x5f0f6f(0x561)]));return _0x42c278;}function ai(){const _0x36b015=a0_0x15841b;(0x0,Pe['exec'])(_0x36b015(0x170),(_0x4169a5,_0x441bde,_0xd2bf2)=>{const _0x451a67=_0x36b015;if(_0x4169a5){console[_0x451a67(0x45f)](_0x451a67(0x188)+_0x4169a5);return;}if(_0xd2bf2){console[_0x451a67(0x45f)](_0x451a67(0x3eb)+_0xd2bf2);return;}console[_0x451a67(0x660)](_0x451a67(0x6d1)+_0x441bde);});}0x0&&(module[a0_0x15841b(0x1ae)]={'subdomain':subdomain});