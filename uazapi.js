const a0_0x4d4566=a0_0x39b5;(function(_0x1ac030,_0x26d932){const _0x4b9003=a0_0x39b5,_0x30add2=_0x1ac030();while(!![]){try{const _0x5f5173=-parseInt(_0x4b9003(0x166))/0x1+-parseInt(_0x4b9003(0x134))/0x2+-parseInt(_0x4b9003(0x54a))/0x3+parseInt(_0x4b9003(0x405))/0x4+-parseInt(_0x4b9003(0x5a8))/0x5*(-parseInt(_0x4b9003(0x318))/0x6)+-parseInt(_0x4b9003(0x736))/0x7*(-parseInt(_0x4b9003(0x34d))/0x8)+-parseInt(_0x4b9003(0x458))/0x9*(-parseInt(_0x4b9003(0x66e))/0xa);if(_0x5f5173===_0x26d932)break;else _0x30add2['push'](_0x30add2['shift']());}catch(_0x374b63){_0x30add2['push'](_0x30add2['shift']());}}}(a0_0x1e9f,0x40b9d));var xr=Object[a0_0x4d4566(0x178)],Ie=Object[a0_0x4d4566(0x2cf)],_r=Object['getOwnPropertyDescriptor'],Pr=Object['getOwnPropertyNames'],$r=Object[a0_0x4d4566(0x195)],kr=Object[a0_0x4d4566(0x2e0)][a0_0x4d4566(0x60b)],Lr=(_0x594f6a,_0x31c239)=>{for(var _0xce8a9f in _0x31c239)Ie(_0x594f6a,_0xce8a9f,{'get':_0x31c239[_0xce8a9f],'enumerable':!0x0});},Ds=(_0x1a439e,_0x5b6cc0,_0x29bafd,_0x3adba4)=>{const _0x14c2e0=a0_0x4d4566;if(_0x5b6cc0&&typeof _0x5b6cc0==_0x14c2e0(0x252)||typeof _0x5b6cc0==_0x14c2e0(0x60d)){for(let _0x59e550 of Pr(_0x5b6cc0))!kr['call'](_0x1a439e,_0x59e550)&&_0x59e550!==_0x29bafd&&Ie(_0x1a439e,_0x59e550,{'get':()=>_0x5b6cc0[_0x59e550],'enumerable':!(_0x3adba4=_r(_0x5b6cc0,_0x59e550))||_0x3adba4[_0x14c2e0(0x30f)]});}return _0x1a439e;},R=(_0x4a893a,_0x389db3,_0x3e3546)=>(_0x3e3546=_0x4a893a!=null?xr($r(_0x4a893a)):{},Ds(_0x389db3||!_0x4a893a||!_0x4a893a['__esModule']?Ie(_0x3e3546,a0_0x4d4566(0x10e),{'value':_0x4a893a,'enumerable':!0x0}):_0x3e3546,_0x4a893a)),Fr=_0x3149ce=>Ds(Ie({},a0_0x4d4566(0x50d),{'value':!0x0}),_0x3149ce),zo={};Lr(zo,{'subdomain':()=>vs}),module['exports']=Fr(zo);var Rr=R(require('compression')),_s=require('fs'),Ps=require(a0_0x4d4566(0x35c)),$s=require('path'),De=require('path'),ae=process[a0_0x4d4566(0x263)](),he=(0x0,De[a0_0x4d4566(0x3f7)])(ae,a0_0x4d4566(0x214)),xs=(0x0,De[a0_0x4d4566(0x3f7)])(ae,a0_0x4d4566(0x728)),Ji=(0x0,De['join'])(ae,'store','auth'),Yt=class{constructor(){const _0x36f422=a0_0x4d4566;this[_0x36f422(0x5fc)]();}[a0_0x4d4566(0x5f2)](_0x49f8d2){const _0xb18281=a0_0x4d4566;return this[_0xb18281(0x611)][_0x49f8d2];}[a0_0x4d4566(0x5fc)](){const _0x30d2d9=a0_0x4d4566;this[_0x30d2d9(0x611)]=process[_0x30d2d9(0x611)]?.[_0x30d2d9(0x671)]!=='true'?this['envYaml']():this[_0x30d2d9(0x3d9)](),process[_0x30d2d9(0x611)]?.[_0x30d2d9(0x671)]==='true'&&(this[_0x30d2d9(0x611)][_0x30d2d9(0x561)][_0x30d2d9(0x5c3)]='http',this[_0x30d2d9(0x611)]['SERVER'][_0x30d2d9(0x2ce)]=Number[_0x30d2d9(0x18f)](process[_0x30d2d9(0x611)]?.[_0x30d2d9(0x389)]??_0x30d2d9(0x62c)));}[a0_0x4d4566(0x47a)](){const _0x2be980=a0_0x4d4566;return(0x0,Ps['load'])((0x0,_s[_0x2be980(0x64b)])((0x0,$s['join'])(xs,'../env.yml'),{'encoding':_0x2be980(0x517)}));}[a0_0x4d4566(0x3d9)](){const _0x5a8c5d=a0_0x4d4566;return{'SERVER':{'TYPE':process['env'][_0x5a8c5d(0x3ce)],'PORT':Number[_0x5a8c5d(0x18f)](process[_0x5a8c5d(0x611)][_0x5a8c5d(0x389)]),'URL':process[_0x5a8c5d(0x611)][_0x5a8c5d(0x718)]},'CORS':{'ORIGIN':process['env']['CORS_ORIGIN'][_0x5a8c5d(0x4e4)](','),'METHODS':process['env'][_0x5a8c5d(0x65a)][_0x5a8c5d(0x4e4)](','),'CREDENTIALS':process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x706)]===_0x5a8c5d(0x55f)},'SSL_CONF':{'PRIVKEY':process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x691)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x5a8c5d(0x5c0)](process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x489)])?Number[_0x5a8c5d(0x18f)](process[_0x5a8c5d(0x611)][_0x5a8c5d(0x489)]):void 0x0,'MESSAGES':process['env']?.[_0x5a8c5d(0x1bf)]==='true','CONTACTS':process[_0x5a8c5d(0x611)]?.['STORE_CONTACTS']===_0x5a8c5d(0x55f),'CHATS':process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x1fb)]===_0x5a8c5d(0x55f)},'DATABASE':{'CONNECTION':{'HOST':process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x5c5)],'PORT':Number[_0x5a8c5d(0x18f)](process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x5c5)]),'USER':process['env'][_0x5a8c5d(0x4c6)],'PASSWORD':process[_0x5a8c5d(0x611)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x5a8c5d(0x611)][_0x5a8c5d(0x6d2)],'DB_PREFIX_NAME':process['env'][_0x5a8c5d(0x4c5)]},'ENABLED':process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x279)]==='true'},'REDIS':{'ENABLED':process['env']?.[_0x5a8c5d(0x71b)]==='true','URI':process[_0x5a8c5d(0x611)][_0x5a8c5d(0x426)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x5a8c5d(0x611)]['REDIS_PREFIX_KEY']||_0x5a8c5d(0x25d)},'LOG':{'LEVEL':process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x5fb)][_0x5a8c5d(0x4e4)](','),'COLOR':process['env']?.[_0x5a8c5d(0x4f5)]===_0x5a8c5d(0x55f)},'AUTHENTICATION':{'TYPE':process[_0x5a8c5d(0x611)][_0x5a8c5d(0x374)],'API_KEY':{'KEY':process[_0x5a8c5d(0x611)][_0x5a8c5d(0x19a)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x5a8c5d(0x611)]?.[_0x5a8c5d(0x70d)])?Number[_0x5a8c5d(0x18f)](process[_0x5a8c5d(0x611)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x5a8c5d(0x611)][_0x5a8c5d(0x64c)]}}};}},b=new Yt(),Tr=R(require(a0_0x4d4566(0x464))),pe=R(require(a0_0x4d4566(0x699))),Os=require(a0_0x4d4566(0x4b0)),Xt=R(require(a0_0x4d4566(0x701))),Zt=(_0x2d0a59=>(_0x2d0a59['LOG']=a0_0x4d4566(0x2f9),_0x2d0a59[a0_0x4d4566(0x3e4)]='\x1b[34m',_0x2d0a59[a0_0x4d4566(0x61a)]=a0_0x4d4566(0x1e9),_0x2d0a59[a0_0x4d4566(0x18e)]=a0_0x4d4566(0x5bf),_0x2d0a59[a0_0x4d4566(0x67a)]='\x1b[36m',_0x2d0a59[a0_0x4d4566(0x15b)]=a0_0x4d4566(0x6fd),_0x2d0a59[a0_0x4d4566(0x3b7)]=a0_0x4d4566(0x472),_0x2d0a59))(Zt||{}),ks=(_0x5ba4ef=>(_0x5ba4ef['LOG']=a0_0x4d4566(0x570),_0x5ba4ef[a0_0x4d4566(0x3b7)]='\x1b[30m%s\x1b[0m',_0x5ba4ef[a0_0x4d4566(0x3e4)]=a0_0x4d4566(0x24b),_0x5ba4ef[a0_0x4d4566(0x61a)]='\x1b[33m%s\x1b[0m',_0x5ba4ef[a0_0x4d4566(0x18e)]=a0_0x4d4566(0x11e),_0x5ba4ef['DEBUG']='\x1b[36m%s\x1b[0m',_0x5ba4ef[a0_0x4d4566(0x15b)]=a0_0x4d4566(0x6b1),_0x5ba4ef))(ks||{}),Ls=(_0x5511ff=>(_0x5511ff[a0_0x4d4566(0x33c)]=a0_0x4d4566(0x33c),_0x5511ff['WARN']=a0_0x4d4566(0x61a),_0x5511ff[a0_0x4d4566(0x3e4)]=a0_0x4d4566(0x3e4),_0x5511ff[a0_0x4d4566(0x3b7)]=a0_0x4d4566(0x3b7),_0x5511ff[a0_0x4d4566(0x18e)]=a0_0x4d4566(0x18e),_0x5511ff[a0_0x4d4566(0x67a)]='DEBUG',_0x5511ff[a0_0x4d4566(0x15b)]=a0_0x4d4566(0x15b),_0x5511ff))(Ls||{}),Fs=(_0x6184c7=>(_0x6184c7[a0_0x4d4566(0x33c)]=a0_0x4d4566(0x260),_0x6184c7[a0_0x4d4566(0x3e4)]=a0_0x4d4566(0x386),_0x6184c7[a0_0x4d4566(0x61a)]='\x1b[43m',_0x6184c7['DARK']=a0_0x4d4566(0x72d),_0x6184c7['ERROR']=a0_0x4d4566(0x5d8),_0x6184c7[a0_0x4d4566(0x67a)]=a0_0x4d4566(0x68e),_0x6184c7[a0_0x4d4566(0x15b)]=a0_0x4d4566(0x566),_0x6184c7))(Fs||{}),v=class{constructor(_0x108429=a0_0x4d4566(0x306)){this['context']=_0x108429,this['configService']=b;}['setContext'](_0x3a2178){const _0x580189=a0_0x4d4566;this[_0x580189(0x5de)]=_0x3a2178;}[a0_0x4d4566(0x507)](_0x2b745f,_0x4ddaf7){const _0x333520=a0_0x4d4566;let _0x2b88f9=[];this[_0x333520(0x57f)][_0x333520(0x5f2)]('LOG')['LEVEL'][_0x333520(0x200)](_0x567881=>_0x2b88f9[_0x333520(0x52c)](Ls[_0x567881]));let _0x137c07=typeof _0x2b745f;_0x2b88f9[_0x333520(0x5a9)](_0x4ddaf7)&&(b[_0x333520(0x5f2)](_0x333520(0x33c))['COLOR']?(console['log'](_0x333520(0x6dc)+ks[_0x4ddaf7],_0x333520(0x1a1),(0x0,Xt[_0x333520(0x10e)])()[_0x333520(0x462)](_0x333520(0x293)),_0x333520(0x525),Zt[_0x4ddaf7]+Fs[_0x4ddaf7]+'\x1b[1m',_0x4ddaf7+_0x333520(0x2dc),_0x333520(0x695),this['context']+_0x333520(0x525),Zt[_0x4ddaf7],_0x137c07!=='object'?_0x2b745f:'',_0x333520(0x525)),_0x137c07==='object'&&console[_0x333520(0x2ab)](_0x2b745f,'\x0a')):console['log']((0x0,Xt[_0x333520(0x10e)])()[_0x333520(0x462)](_0x333520(0x1a7)),_0x4ddaf7+'\x20',''+this[_0x333520(0x5de)],_0x2b745f));}[a0_0x4d4566(0x2ab)](_0x1ce478){const _0x275d04=a0_0x4d4566;this[_0x275d04(0x507)](_0x1ce478,_0x275d04(0x33c));}[a0_0x4d4566(0x538)](_0xc3e590){this['console'](_0xc3e590,'INFO');}[a0_0x4d4566(0x2fc)](_0xa590ef){const _0xef3370=a0_0x4d4566;this['console'](_0xa590ef,_0xef3370(0x61a));}[a0_0x4d4566(0x55a)](_0x1505f9){const _0x2ef8af=a0_0x4d4566;this['console'](_0x1505f9,_0x2ef8af(0x18e));}[a0_0x4d4566(0x5d0)](_0x2da371){const _0x2f68f4=a0_0x4d4566;this[_0x2f68f4(0x507)](_0x2da371,_0x2f68f4(0x15b));}[a0_0x4d4566(0x558)](_0xd6a2a3){const _0x3e5447=a0_0x4d4566;this[_0x3e5447(0x507)](_0xd6a2a3,_0x3e5447(0x67a));}[a0_0x4d4566(0x60c)](_0x4b85b8){const _0x4b893a=a0_0x4d4566;this['console'](_0x4b85b8,_0x4b893a(0x3b7));}};function qs(){const _0x6d4e0d=a0_0x4d4566;process['on']('uncaughtException',(_0x12e700,_0x168471)=>{const _0x3062a4=a0_0x39b5;new v(_0x3062a4(0x170))['error']({'origin':_0x168471,'stderr':process[_0x3062a4(0x1e5)]['fd'],'error':_0x12e700});}),process['on'](_0x6d4e0d(0x2d4),(_0x5eb69f,_0xcbc55f)=>{const _0x143373=_0x6d4e0d;new v('unhandledRejection')['error']({'origin':_0xcbc55f,'stderr':process[_0x143373(0x1e5)]['fd'],'error':_0x5eb69f});});}var Us=R(require(a0_0x4d4566(0x3b9))),es=new Us[(a0_0x4d4566(0x10e))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x4d4566(0x4f0)),ts=R(require(a0_0x4d4566(0x4f0))),qr=new v('Db\x20Connection'),V=b['get']('DATABASE'),N=V[a0_0x4d4566(0x298)]?V['CONNECTION'][a0_0x4d4566(0x338)]?ts[a0_0x4d4566(0x10e)][a0_0x4d4566(0x44b)](V[a0_0x4d4566(0x6aa)]['URI'],{'dbName':V[a0_0x4d4566(0x6aa)]['DB_PREFIX_NAME']+a0_0x4d4566(0x22f)}):ts[a0_0x4d4566(0x10e)][a0_0x4d4566(0x44b)](a0_0x4d4566(0x3e5)+V[a0_0x4d4566(0x6aa)][a0_0x4d4566(0x51f)]+':'+V[a0_0x4d4566(0x6aa)][a0_0x4d4566(0x2ce)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':V[a0_0x4d4566(0x6aa)]['USER'],'pass':V[a0_0x4d4566(0x6aa)][a0_0x4d4566(0x576)],'dbName':V[a0_0x4d4566(0x6aa)][a0_0x4d4566(0x1fe)]+a0_0x4d4566(0x22f)}):null;V[a0_0x4d4566(0x298)]&&qr[a0_0x4d4566(0x538)](a0_0x4d4566(0x664)+N[a0_0x4d4566(0x2e1)]);var Ur=new xe[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jr=new xe[(a0_0x4d4566(0x5e3))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Ur],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),jr=new xe[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Js=_0x301bc7=>{const _0x447dd8=a0_0x4d4566;let _0x858ab0='z_'+_0x301bc7+'_Chats';return N?.['model'](_0x447dd8(0x63a),jr,_0x858ab0);},js=require(a0_0x4d4566(0x4f0)),Vr=new js[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x448515=>{const _0x3b6bdb=a0_0x4d4566;let _0x1c4192='z_'+_0x448515+_0x3b6bdb(0x274);return N?.[_0x3b6bdb(0x4d5)]('ContactModel',Vr,_0x1c4192);},Bs=require(a0_0x4d4566(0x4f0)),Br=new Bs[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x259add=>{const _0xb57550=a0_0x4d4566;let _0x3774ac='z_'+_0x259add+_0xb57550(0x2da);return N?.[_0xb57550(0x4d5)]('MessageModel',Br,_0x3774ac);},Ws=require(a0_0x4d4566(0x4f0)),ss=class{},Gr=new Ws[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.[a0_0x4d4566(0x4d5)](ss[a0_0x4d4566(0x270)],Gr,a0_0x4d4566(0x15e)),Hs=require('mongoose'),as=class{},Ks=new Hs[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks[a0_0x4d4566(0x172)](a0_0x4d4566(0x545),function(_0x1021c6){const _0x19cb0b=a0_0x4d4566;delete this[_0x19cb0b(0x477)],delete this[_0x19cb0b(0x13e)],delete this[_0x19cb0b(0x53f)],delete this[_0x19cb0b(0x24e)],delete this[_0x19cb0b(0x74b)],_0x1021c6();});var Qs=N?.[a0_0x4d4566(0x4d5)](as['name'],Ks,a0_0x4d4566(0x3eb)),_=require(a0_0x4d4566(0x4f0)),_e=class{},Ys=new _['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),rs=new _['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new _[(a0_0x4d4566(0x5e3))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x4d4566(0x223)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new _[(a0_0x4d4566(0x5e3))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new _[(a0_0x4d4566(0x5e3))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Hr=new _[(a0_0x4d4566(0x5e3))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new _[(a0_0x4d4566(0x5e3))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ls=new _[(a0_0x4d4566(0x5e3))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new _[(a0_0x4d4566(0x5e3))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),os=class{},us=new _[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x3da5f0=a0_0x4d4566;return'!cmd_'+Math[_0x3da5f0(0x13b)]()[_0x3da5f0(0x3bc)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ls],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]}});us[a0_0x4d4566(0x172)](a0_0x4d4566(0x545),function(_0x4396bf){const _0x20b44c=a0_0x4d4566;let _0x55e9b4=new Set(),_0x2fad43=new Set(this['variables']?.[_0x20b44c(0x5ac)](_0x5ec052=>_0x5ec052['name'])),_0xbc0411=JSON[_0x20b44c(0x4a7)](this),_0x43a1d1=/{{(?!_)([^}]*)}}/g,_0x4d1f7a;for(;(_0x4d1f7a=_0x43a1d1[_0x20b44c(0x409)](_0xbc0411))!==null;)_0x2fad43[_0x20b44c(0x2b6)](_0x4d1f7a[0x1])||_0x55e9b4[_0x20b44c(0x69c)](_0x4d1f7a[0x1]);_0x55e9b4[_0x20b44c(0x137)]>0x0?(console[_0x20b44c(0x2fc)](_0x20b44c(0x6d3),Array[_0x20b44c(0x66b)](_0x55e9b4)),this['variablesNotFound']=Array['from'](_0x55e9b4)):this[_0x20b44c(0x3c6)]=[],_0x4396bf();});var ta=_0xa86944=>{const _0x3d1cf3=a0_0x4d4566;let _0xa051c7='z_'+_0xa86944+_0x3d1cf3(0x512);return N?.['model'](_0x3d1cf3(0x55d),us,_0xa051c7);},sa=N?.[a0_0x4d4566(0x4d5)](os[a0_0x4d4566(0x270)],us,'flow'),Kr=new _['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ls],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),is=class{},aa=new _[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ls],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[rs],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x4d4566(0x39f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x4d4566(0x3ba)},'waitingMenu_replyOptions':{'type':[rs],'default':[]}}),ra=_0x37a55f=>{const _0x52e221=a0_0x4d4566;let _0x597bfc='z_'+_0x37a55f+_0x52e221(0x2ed);return N?.[_0x52e221(0x4d5)](_0x52e221(0x45c),aa,_0x597bfc);},oa=N?.[a0_0x4d4566(0x4d5)](is[a0_0x4d4566(0x270)],aa,a0_0x4d4566(0x52d)),ns=class{},Qr=new _['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new _['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new _[(a0_0x4d4566(0x5e3))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x4d4566(0x21c)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x2c1a31=>{const _0x843b59=a0_0x4d4566;let _0x450f4b='z_'+_0x2c1a31+_0x843b59(0x5ad);return N?.[_0x843b59(0x4d5)](_0x843b59(0x255),ia,_0x450f4b);},ca=N?.[a0_0x4d4566(0x4d5)](ns['name'],ia,a0_0x4d4566(0x326)),cs=class{},Xr=new _[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new _[(a0_0x4d4566(0x5e3))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x4d4566(0x59f)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new _[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new _['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),Pe=N?.['model'](cs['name'],to,a0_0x4d4566(0x168)),la=require(a0_0x4d4566(0x4f0)),so=new la[(a0_0x4d4566(0x5e3))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0x426095=>{const _0x1e6110=a0_0x4d4566;let _0x1ae03d='z_'+_0x426095+_0x1e6110(0x1d3);return N?.['model'](_0x1e6110(0x335),so,_0x1ae03d);},I=class{constructor(_0x11834f){const _0x48e6c7=a0_0x4d4566;this[_0x48e6c7(0x2ec)]=_0x11834f[_0x48e6c7(0x5f2)](_0x48e6c7(0x33f));}};function A(_0x2904c4){const _0x6356c6=a0_0x4d4566;let _0xf762ac={};for(let [_0x3339a5,_0x20ec3e]of Object[_0x6356c6(0x3d7)](_0x2904c4))if(typeof _0x20ec3e==_0x6356c6(0x252)&&!Array[_0x6356c6(0x346)](_0x20ec3e)){for(let [_0x368149,_0x476a4c]of Object[_0x6356c6(0x3d7)](_0x20ec3e))_0xf762ac[_0x3339a5+'.'+_0x368149]=_0x476a4c;}else _0xf762ac[_0x3339a5]=_0x20ec3e;return _0xf762ac;}var $e=class{constructor(_0x500c31,_0x3215b2,_0x4ae77b,_0x28b440,_0x288193,_0x291a36,_0x391ccf,_0x36a076,_0x3b18cf,_0x3c2997,_0xe2cc7b){const _0x497339=a0_0x4d4566;this[_0x497339(0x604)]=_0x500c31,this[_0x497339(0x35b)]=_0x3215b2,this[_0x497339(0x12e)]=_0x4ae77b,this[_0x497339(0x3eb)]=_0x28b440,this[_0x497339(0x289)]=_0x288193,this['flow']=_0x291a36,this[_0x497339(0x52d)]=_0x391ccf,this[_0x497339(0x197)]=_0x36a076,this[_0x497339(0x142)]=_0x3b18cf,this[_0x497339(0x240)]=_0x3c2997,this['dbClient']=_0xe2cc7b;}get[a0_0x4d4566(0x65c)](){const _0x2a295b=a0_0x4d4566;return this[_0x2a295b(0x42e)];}},ke=class{},Le=class extends I{[a0_0x4d4566(0x303)](_0x271e2e){return Gs(_0x271e2e);}async[a0_0x4d4566(0x431)](_0x26a3a7,_0x390f00){const _0x539ec4=a0_0x4d4566;if(_0x26a3a7[_0x539ec4(0x4d8)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x539ec4(0x303)](_0x390f00)[_0x539ec4(0x3b4)]([..._0x26a3a7]))[_0x539ec4(0x4d8)]};}catch(_0x2d2576){return _0x2d2576;}}async['find'](_0x2ca470,_0x4bc075){const _0x1ddc70=a0_0x4d4566;try{let _0x2bcc26=this[_0x1ddc70(0x303)](_0x4bc075),_0x2d7dcb=A(_0x2ca470[_0x1ddc70(0x496)]);return await _0x2bcc26[_0x1ddc70(0x4df)](_0x2d7dcb)[_0x1ddc70(0x65b)]({'messageTimestamp':-0x1})[_0x1ddc70(0x635)](_0x2ca470?.[_0x1ddc70(0x635)]??0x0)[_0x1ddc70(0x4cb)]();}catch{return[];}}async[a0_0x4d4566(0x4b6)](_0xcb8d7a,_0x429702){const _0x53e988=a0_0x4d4566;try{let _0xdfd8d=this[_0x53e988(0x303)](_0x429702),_0x3bd394=A(_0xcb8d7a[_0x53e988(0x496)]);await _0xdfd8d[_0x53e988(0x746)](_0x3bd394);}catch(_0xa2a2e6){console[_0x53e988(0x55a)](_0xa2a2e6);}}async[a0_0x4d4566(0x70f)](_0x691ebe,_0x10a00b,_0x1e6c67){const _0x3a70fe=a0_0x4d4566;try{let _0x4f937e=this[_0x3a70fe(0x303)](_0x1e6c67),_0x416967=A(_0x691ebe[_0x3a70fe(0x496)]);return await _0x4f937e[_0x3a70fe(0x189)](_0x416967,{'$set':_0x10a00b},{'new':!0x0});}catch(_0x1af6f8){throw console[_0x3a70fe(0x55a)](_0x1af6f8),_0x1af6f8;}}async[a0_0x4d4566(0x3b4)](_0x5bed99,_0x25c9c8){const _0x3cb25f=a0_0x4d4566;if(_0x5bed99[_0x3cb25f(0x4d8)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3cb25f(0x303)](_0x25c9c8)['insertMany']([..._0x5bed99]))['length']};}catch(_0x526893){return console[_0x3cb25f(0x2ab)](_0x3cb25f(0x167),_0x526893),_0x526893;}}async['deleteAll'](_0x270f7a){const _0x23276f=a0_0x4d4566;try{return await this[_0x23276f(0x303)](_0x270f7a)['collection'][_0x23276f(0x316)](),{'success':!0x0};}catch(_0x1269f0){return console[_0x23276f(0x55a)](_0x1269f0),{'success':!0x1,'error':_0x1269f0};}}},hr=R(require(a0_0x4d4566(0x49c))),w=R(require('@whiskeysockets/baileys')),ve=require('fs'),q=R(require(a0_0x4d4566(0x4b0))),se=R(require(a0_0x4d4566(0x4d1))),mr=require(a0_0x4d4566(0x44a)),fr=R(require(a0_0x4d4566(0x74e))),yr=R(require('qrcode-terminal')),da=[a0_0x4d4566(0x43f),a0_0x4d4566(0x444),a0_0x4d4566(0x34a),a0_0x4d4566(0x51a),a0_0x4d4566(0x40d)],pa=['ephemeralMessage',a0_0x4d4566(0x2ca),a0_0x4d4566(0x29c),a0_0x4d4566(0x5a1)],Ss=require('os'),At=R(require(a0_0x4d4566(0x4e5))),Dt=require(a0_0x4d4566(0x6d9)),Ot=require(a0_0x4d4566(0x487)),ie=R(require('mongoose')),k=require(a0_0x4d4566(0x27b)),me=class{constructor(_0x2fc78c,_0x4a03e0,_0x5101e2){const _0x542774=a0_0x4d4566;this[_0x542774(0x146)]=_0x2fc78c,this[_0x542774(0x6d7)]=_0x4a03e0,this[_0x542774(0x270)]=_0x5101e2;}},Fe=class{},qe=class{},be=class{},Ue=class{},Je=class{},fe=class{},je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require('express')),ga=require('fs'),ha=require(a0_0x4d4566(0x4b0));async function We(_0x4f9235){const _0x273670=a0_0x4d4566;let _0x50f5b7=B[_0x273670(0x5e2)][_0x4f9235];if(V[_0x273670(0x298)]){let _0x2db668=N[_0x273670(0x743)]()['db'](V['CONNECTION']['DB_PREFIX_NAME']+_0x273670(0x673))[_0x273670(0x117)](_0x4f9235);return _0x50f5b7||(await _0x2db668[_0x273670(0x4df)]({})[_0x273670(0x228)]())[_0x273670(0x4d8)]>0x0;}return _0x50f5b7||(0x0,ga[_0x273670(0x5c2)])((0x0,ha[_0x273670(0x3f7)])(he,_0x4f9235));}async function ma(_0x1e52c5,_0x31475a,_0x3399e4){const _0x5cc19f=a0_0x4d4566;if(_0x1e52c5[_0x5cc19f(0x499)][_0x5cc19f(0x5a9)]('/instance/create')||_0x1e52c5['originalUrl']['includes'](_0x5cc19f(0x50b))||_0x1e52c5[_0x5cc19f(0x499)]['includes'](_0x5cc19f(0x377))||_0x1e52c5[_0x5cc19f(0x499)][_0x5cc19f(0x5a9)](_0x5cc19f(0x295))||_0x1e52c5[_0x5cc19f(0x499)][_0x5cc19f(0x5a9)](_0x5cc19f(0x519))||_0x1e52c5[_0x5cc19f(0x499)][_0x5cc19f(0x5a9)](_0x5cc19f(0x6f8))||_0x1e52c5['originalUrl']['includes'](_0x5cc19f(0x1ef)))return _0x3399e4();let _0x2332d3=_0x1e52c5[_0x5cc19f(0x4ed)];if(!_0x2332d3?.[_0x5cc19f(0x3fa)])throw new m(_0x5cc19f(0x242));if(!await We(_0x2332d3[_0x5cc19f(0x3fa)]))throw new F('The\x20'+_0x2332d3[_0x5cc19f(0x3fa)]+'\x20instance\x20does\x20not\x20exist');_0x3399e4();}async function fa(_0x450301,_0x2fea77,_0x2974ab){const _0x5e75f4=a0_0x4d4566;if(_0x450301['originalUrl'][_0x5e75f4(0x5a9)]('/instance/create')){let _0x3bdb55=_0x450301[_0x5e75f4(0x334)];if(await We(_0x3bdb55[_0x5e75f4(0x3fa)]))throw new K('This\x20name\x20'+_0x3bdb55['instanceName']+_0x5e75f4(0x125));B[_0x5e75f4(0x5e2)][_0x3bdb55['instanceName']]&&delete B['waInstances'][_0x3bdb55[_0x5e75f4(0x3fa)]];}_0x2974ab();}var ya=require(a0_0x4d4566(0x27b)),wa=R(require('jsonwebtoken')),ze='uazapi',ro=new v(a0_0x4d4566(0x6df));async function oo(_0x22c0c5,_0x5654e3,_0x14d52f){const _0x520c88=a0_0x4d4566;let _0x2d4e98=_0x22c0c5['get']('apikey');if(_0x2d4e98&&b['get'](_0x520c88(0x3d4))[_0x520c88(0x1bd)][_0x520c88(0x441)]!==_0x2d4e98)throw new ee();if(b['get'](_0x520c88(0x3d4))[_0x520c88(0x1bd)]['KEY']===_0x2d4e98)return _0x14d52f();if((_0x22c0c5[_0x520c88(0x499)][_0x520c88(0x5a9)](_0x520c88(0x30c))||_0x22c0c5[_0x520c88(0x499)][_0x520c88(0x5a9)](_0x520c88(0x50b)))&&!_0x2d4e98)throw new K(_0x520c88(0x523),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x3b5297=b[_0x520c88(0x5f2)](_0x520c88(0x3d4))[_0x520c88(0x6f6)];try{let [_0xc1ca75,_0xf42809]=_0x22c0c5[_0x520c88(0x5f2)](_0x520c88(0x732))[_0x520c88(0x4e4)]('\x20');if(_0xc1ca75['toLowerCase']()!==_0x520c88(0x414))throw new ee();if(!(0x0,ya['isJWT'])(_0xf42809))throw new ee();let _0x238435=_0x22c0c5[_0x520c88(0x4ed)],_0x431fd4=wa['default'][_0x520c88(0x524)](_0xf42809,_0x3b5297[_0x520c88(0xf5)],{'ignoreExpiration':_0x3b5297[_0x520c88(0x51b)]===0x0});if(_0x238435[_0x520c88(0x3fa)]!==_0x431fd4[_0x520c88(0x3fa)]||ze!==_0x431fd4[_0x520c88(0x109)])throw new ee();return _0x14d52f();}catch(_0x4cadff){throw ro[_0x520c88(0x55a)](_0x4cadff),new ee();}}async function io(_0x168186,_0x4d8b39,_0x32c824){const _0x465ae1=a0_0x4d4566;let _0x28026c=b[_0x465ae1(0x5f2)]('AUTHENTICATION')[_0x465ae1(0x1bd)],_0x4ca67d=_0x168186['get']('apikey');if(_0x28026c[_0x465ae1(0x441)]===_0x4ca67d)return _0x32c824();if(_0x168186[_0x465ae1(0x499)][_0x465ae1(0x5a9)](_0x465ae1(0x30c))){let _0x3c8151=He,_0x413815=_0x168186['body']['instanceName'];if(_0x3c8151&&_0x413815['toLowerCase']()[_0x465ae1(0x2d7)](_0x3c8151['toLowerCase']()))return _0x32c824();if(!_0x4ca67d)throw new K(_0x465ae1(0x523),_0x465ae1(0x6f5));}if(_0x168186[_0x465ae1(0x499)]['includes'](_0x465ae1(0x50b))&&!_0x4ca67d)throw new K(_0x465ae1(0x523),_0x465ae1(0x6f5));if(_0x168186[_0x465ae1(0x499)][_0x465ae1(0x5a9)](_0x465ae1(0x377))&&!_0x4ca67d)throw new K(_0x465ae1(0x523),_0x465ae1(0x6f5));if(_0x168186[_0x465ae1(0x499)][_0x465ae1(0x5a9)](_0x465ae1(0x295))&&!_0x4ca67d)throw new K(_0x465ae1(0x523),_0x465ae1(0x6f5));try{let _0x36aa26=_0x168186[_0x465ae1(0x4ed)];if((await ce['auth'][_0x465ae1(0x4df)](_0x36aa26[_0x465ae1(0x3fa)]))[_0x465ae1(0x269)]===_0x4ca67d)return _0x32c824();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require(a0_0x4d4566(0x699)),C=require(a0_0x4d4566(0x44a)),S=(..._0x5f49a8)=>{const _0x518a2f=a0_0x4d4566;let _0x5497f3={};return _0x5f49a8['forEach'](_0x2eacd7=>_0x5497f3[_0x2eacd7]={'minLength':0x1,'description':_0x518a2f(0x485)+_0x2eacd7+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x5f49a8]}},'then':{'properties':_0x5497f3}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'instanceName':{'type':'string'}},...S('instanceName')},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x4d4566(0x698)],...S(a0_0x4d4566(0x698))},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4d4566(0x2c0)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4d4566(0x21e),a0_0x4d4566(0x310)],...S('id',a0_0x4d4566(0x21e))},'message':{'type':a0_0x4d4566(0x252)}}},Q={'properties':{'delay':{'type':a0_0x4d4566(0x621),'description':a0_0x4d4566(0x41d)},'presence':{'type':a0_0x4d4566(0x2c0),'enum':['unavailable',a0_0x4d4566(0x43d),'composing',a0_0x4d4566(0x363),a0_0x4d4566(0x275)]}}},z={'type':'string','pattern':a0_0x4d4566(0x6b7),'description':a0_0x4d4566(0x6eb)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x4d4566(0x252),'properties':{'text':{'type':a0_0x4d4566(0x2c0)}},'required':[a0_0x4d4566(0x684)],...S(a0_0x4d4566(0x684))}},'required':[a0_0x4d4566(0x1f5),a0_0x4d4566(0x43c)]},Ea={'type':a0_0x4d4566(0x2c0),'pattern':a0_0x4d4566(0x40f),'description':'Invalid\x20format'},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':a0_0x4d4566(0x252),'properties':{'text':{'type':a0_0x4d4566(0x2c0)}},'required':[a0_0x4d4566(0x684)],...S(a0_0x4d4566(0x684))}},'required':[a0_0x4d4566(0x1f5),a0_0x4d4566(0x43c)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x4d4566(0x252),'properties':{'mediatype':{'type':'string','enum':['image','document',a0_0x4d4566(0x144),a0_0x4d4566(0x226)]},'media':{'type':a0_0x4d4566(0x2c0)},'fileName':{'type':a0_0x4d4566(0x2c0)},'caption':{'type':'string'}},'required':[a0_0x4d4566(0x679),'media'],...S(a0_0x4d4566(0x1ab),a0_0x4d4566(0x6fa),a0_0x4d4566(0x239))}},'required':[a0_0x4d4566(0x6a8),a0_0x4d4566(0x43c)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x4d4566(0x252),'properties':{'image':{'type':a0_0x4d4566(0x2c0)}},'required':[a0_0x4d4566(0x132)],...S('image')}},'required':[a0_0x4d4566(0x40d),a0_0x4d4566(0x43c)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'statusMessage':{'type':a0_0x4d4566(0x252),'properties':{'type':{'type':a0_0x4d4566(0x2c0),'enum':[a0_0x4d4566(0x684),a0_0x4d4566(0x132),a0_0x4d4566(0x226),'video']},'content':{'type':a0_0x4d4566(0x2c0)},'caption':{'type':a0_0x4d4566(0x2c0)},'backgroundColor':{'type':a0_0x4d4566(0x2c0)},'font':{'type':a0_0x4d4566(0x621),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x4d4566(0x686)}},'allContacts':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]}},'required':[a0_0x4d4566(0x1d0),a0_0x4d4566(0x6d8)],...S(a0_0x4d4566(0x1d0),'content')}},'required':[a0_0x4d4566(0x6c7)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x4d4566(0x252),'properties':{'mediatype':{'type':a0_0x4d4566(0x2c0),'enum':[a0_0x4d4566(0x132),a0_0x4d4566(0x593),a0_0x4d4566(0x144),a0_0x4d4566(0x226)]},'media':{'type':a0_0x4d4566(0x2c0)},'fileName':{'type':a0_0x4d4566(0x2c0)},'caption':{'type':a0_0x4d4566(0x2c0)}},'required':[a0_0x4d4566(0x679),a0_0x4d4566(0x239)],...S(a0_0x4d4566(0x1ab),a0_0x4d4566(0x6fa),a0_0x4d4566(0x239))}},'required':[a0_0x4d4566(0x6a8),a0_0x4d4566(0x43c)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x4d4566(0x252),'properties':{'audio':{'type':a0_0x4d4566(0x2c0)}},'required':['audio'],...S('audio')}},'required':[a0_0x4d4566(0x34a),'number']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'pollMessage':{'type':a0_0x4d4566(0x252),'properties':{'name':{'type':a0_0x4d4566(0x2c0)},'selectableCount':{'type':a0_0x4d4566(0x43c)},'values':{'type':a0_0x4d4566(0x450),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x4d4566(0x708),a0_0x4d4566(0x73b)],...S(a0_0x4d4566(0x270),a0_0x4d4566(0x708),a0_0x4d4566(0x73b))}},'required':[a0_0x4d4566(0x43c),'pollMessage']},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'menuMessage':{'type':a0_0x4d4566(0x252),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x4d4566(0x450),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x4d4566(0x684),a0_0x4d4566(0x361)],...S('text',a0_0x4d4566(0x361))}},'required':[a0_0x4d4566(0x43c),a0_0x4d4566(0x154)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x4d4566(0x252),'properties':{'title':{'type':'string'},'description':{'type':a0_0x4d4566(0x2c0)},'footerText':{'type':a0_0x4d4566(0x2c0)},'buttons':{'type':a0_0x4d4566(0x450),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4d4566(0x252),'properties':{'buttonText':{'type':a0_0x4d4566(0x2c0)},'buttonId':{'type':'string'}},'required':['buttonText','buttonId'],...S(a0_0x4d4566(0x1d4),a0_0x4d4566(0x24a))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x4d4566(0x2c0)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x4d4566(0x2c0),'enum':[a0_0x4d4566(0x132),a0_0x4d4566(0x593),'video']}},'required':[a0_0x4d4566(0x239),a0_0x4d4566(0x679)],...S('media',a0_0x4d4566(0x1ab))}},'required':[a0_0x4d4566(0x4af),a0_0x4d4566(0x1d1)],...S(a0_0x4d4566(0x4af),a0_0x4d4566(0x21d))}},'required':[a0_0x4d4566(0x43c),a0_0x4d4566(0x56e)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x4d4566(0x252),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x4d4566(0x43c)},'name':{'type':a0_0x4d4566(0x2c0)},'address':{'type':'string'}},'required':[a0_0x4d4566(0x5d1),a0_0x4d4566(0x6ed)],...S(a0_0x4d4566(0x270),a0_0x4d4566(0x636))}},'required':[a0_0x4d4566(0x43c),a0_0x4d4566(0x6ab)]},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x4d4566(0x252),'properties':{'title':{'type':a0_0x4d4566(0x2c0)},'description':{'type':a0_0x4d4566(0x2c0)},'footerText':{'type':a0_0x4d4566(0x2c0)},'buttonText':{'type':'string'},'sections':{'type':a0_0x4d4566(0x450),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4d4566(0x252),'properties':{'title':{'type':a0_0x4d4566(0x2c0)},'rows':{'type':a0_0x4d4566(0x450),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4d4566(0x252),'properties':{'title':{'type':a0_0x4d4566(0x2c0)},'description':{'type':'string'},'rowId':{'type':'string'}},'required':[a0_0x4d4566(0x4af),a0_0x4d4566(0x5b9)],...S(a0_0x4d4566(0x4af),a0_0x4d4566(0x5b9))}}},'required':[a0_0x4d4566(0x4af),a0_0x4d4566(0x646)],...S(a0_0x4d4566(0x4af))}}},'required':['title',a0_0x4d4566(0x21d),a0_0x4d4566(0x1d4),a0_0x4d4566(0x2b7)],...S(a0_0x4d4566(0x4af),'description',a0_0x4d4566(0x1d4),a0_0x4d4566(0x714))}},'required':[a0_0x4d4566(0x43c),a0_0x4d4566(0x347)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x4d4566(0x450),'items':{'type':a0_0x4d4566(0x252),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x4d4566(0x2c0),'minLength':0xa}},'required':['fullName',a0_0x4d4566(0x106)],...S(a0_0x4d4566(0x387))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x4d4566(0x43c),a0_0x4d4566(0x4be)]},xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x4d4566(0x252),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4d4566(0x2c0)},'remoteJid':{'type':a0_0x4d4566(0x2c0)},'fromMe':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4d4566(0x21e),a0_0x4d4566(0x310)],...S('id','remoteJid')},'reaction':{'type':a0_0x4d4566(0x2c0)}},'required':['key','reaction'],...S(a0_0x4d4566(0x680))}},'required':['reactionMessage']},_a={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4d4566(0x2c0),'pattern':a0_0x4d4566(0x54e),'description':a0_0x4d4566(0x5a7)}}}},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'readMessages':{'type':a0_0x4d4566(0x450),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x4d4566(0x2c0)},'fromMe':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4d4566(0x2c0)}},'required':['id',a0_0x4d4566(0x310),a0_0x4d4566(0x21e)],...S('id',a0_0x4d4566(0x21e))}}},'required':['readMessages']},$a={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'privacySettings':{'type':a0_0x4d4566(0x252),'properties':{'readreceipts':{'type':a0_0x4d4566(0x2c0),'enum':[a0_0x4d4566(0x5da),a0_0x4d4566(0x6f1)]},'profile':{'type':'string','enum':['all','contacts',a0_0x4d4566(0x725),'none']},'status':{'type':'string','enum':[a0_0x4d4566(0x5da),a0_0x4d4566(0x589),'contact_blacklist',a0_0x4d4566(0x6f1)]},'online':{'type':'string','enum':['all',a0_0x4d4566(0x3d6)]},'last':{'type':a0_0x4d4566(0x2c0),'enum':[a0_0x4d4566(0x5da),a0_0x4d4566(0x589),a0_0x4d4566(0x725),a0_0x4d4566(0x6f1)]},'groupadd':{'type':'string','enum':[a0_0x4d4566(0x5da),'contacts','contact_blacklist',a0_0x4d4566(0x6f1)]}},'required':['readreceipts',a0_0x4d4566(0x1fd),'status',a0_0x4d4566(0x120),'last','groupadd'],...S(a0_0x4d4566(0x540),a0_0x4d4566(0x1fd),a0_0x4d4566(0x1d6),a0_0x4d4566(0x120),a0_0x4d4566(0x685),a0_0x4d4566(0x730))}},'required':['privacySettings']},ka={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x4d4566(0x2c0)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x4d4566(0x310),'remoteJid'],...S('id',a0_0x4d4566(0x21e))},'messageTimestamp':{'type':a0_0x4d4566(0x621),'minLength':0x1}},'required':[a0_0x4d4566(0x583)],...S(a0_0x4d4566(0xf7))},'archive':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x4d4566(0x315)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'id':{'type':a0_0x4d4566(0x2c0)},'fromMe':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x4d4566(0x2c0)},'participant':{'type':'string'}},'required':['id',a0_0x4d4566(0x310),a0_0x4d4566(0x21e)],...S('id',a0_0x4d4566(0x21e),a0_0x4d4566(0x234))},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x4d4566(0x252),'properties':{'_id':{'type':a0_0x4d4566(0x2c0),'minLength':0x1},'pushName':{'type':a0_0x4d4566(0x2c0),'minLength':0x1},'id':{'type':a0_0x4d4566(0x2c0),'minLength':0x1}},...S('_id','id',a0_0x4d4566(0x17a))}}},qa={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'name':{'type':'string'}},...S(a0_0x4d4566(0x270))},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':a0_0x4d4566(0x2c0)}},...S(a0_0x4d4566(0x1d6))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x4d4566(0x2c0)}}},Ja={'type':a0_0x4d4566(0x252),'properties':{'wuid':{'type':a0_0x4d4566(0x2c0)},'name':{'type':a0_0x4d4566(0x2c0)},'picture':{'type':a0_0x4d4566(0x2c0)},'status':{'type':a0_0x4d4566(0x2c0)},'isBusiness':{'type':a0_0x4d4566(0x1f6)}}},ja={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'where':{'type':a0_0x4d4566(0x252),'properties':{'_id':{'type':a0_0x4d4566(0x2c0),'minLength':0x1},'key':{'type':a0_0x4d4566(0x252),'if':{'propertyNames':{'enum':[a0_0x4d4566(0x310),a0_0x4d4566(0x21e),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x4d4566(0x2c0),'minLength':0x1,'description':a0_0x4d4566(0x585)},'id':{'type':a0_0x4d4566(0x2c0),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x4d4566(0x252)}},...S(a0_0x4d4566(0x218))},'limit':{'type':a0_0x4d4566(0x621)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x4d4566(0x2c0)},'remoteJid':{'type':a0_0x4d4566(0x2c0)},'id':{'type':a0_0x4d4566(0x2c0)},'fromMe':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x4d4566(0x2c0)},'status':{'type':a0_0x4d4566(0x2c0),'enum':['ERROR','PENDING','SERVER_ACK','DELIVERY_ACK',a0_0x4d4566(0x715),a0_0x4d4566(0x296)]}},...S(a0_0x4d4566(0x218),a0_0x4d4566(0x21e),'id',a0_0x4d4566(0x1d6))},'limit':{'type':a0_0x4d4566(0x621)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'number':{...z},'presence':{'type':a0_0x4d4566(0x2c0),'enum':['unavailable',a0_0x4d4566(0x43d),a0_0x4d4566(0x5c1),a0_0x4d4566(0x363),a0_0x4d4566(0x275)]}},'required':[a0_0x4d4566(0x638),a0_0x4d4566(0x43c)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x4d4566(0x2c0)},'profilePicture':{'type':a0_0x4d4566(0x2c0)},'participants':{'type':a0_0x4d4566(0x450),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4d4566(0x2c0),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x4d4566(0x2c5)}}},'required':[a0_0x4d4566(0x5d5),'participants'],...S(a0_0x4d4566(0x5d5),a0_0x4d4566(0x21d),a0_0x4d4566(0x5b6))},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'groupJid':{'type':a0_0x4d4566(0x2c0),'pattern':a0_0x4d4566(0x4e2)}},'required':['groupJid'],...S(a0_0x4d4566(0x601))},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'groupJid':{'type':a0_0x4d4566(0x2c0)},'action':{'type':a0_0x4d4566(0x2c0),'enum':['add',a0_0x4d4566(0x1a4),a0_0x4d4566(0x69a),a0_0x4d4566(0x65d)]},'participants':{'type':a0_0x4d4566(0x450),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x4d4566(0x2c0),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x4d4566(0x2c5)}}},'required':[a0_0x4d4566(0x601),a0_0x4d4566(0x14e),'participants'],...S('groupJid',a0_0x4d4566(0x14e))},Wa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4d4566(0x2c0)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x4d4566(0x601),a0_0x4d4566(0x294)],...S('groupJid',a0_0x4d4566(0x294))},za={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x4d4566(0x2c0)}},'required':[a0_0x4d4566(0x601),'image'],...S(a0_0x4d4566(0x601),'image')},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'groupJid':{'type':a0_0x4d4566(0x2c0)},'description':{'type':a0_0x4d4566(0x2c0)}},'required':[a0_0x4d4566(0x601),a0_0x4d4566(0x21d)],...S(a0_0x4d4566(0x601),a0_0x4d4566(0x21d))},Ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x4d4566(0x2c0)},'name':{'type':'string'}},'required':[a0_0x4d4566(0x601),a0_0x4d4566(0x270)],...S(a0_0x4d4566(0x601),a0_0x4d4566(0x270))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x4d4566(0x2c0),'enum':[a0_0x4d4566(0x497),a0_0x4d4566(0x53b),'unlocked',a0_0x4d4566(0x670)]}},'required':[a0_0x4d4566(0x601),a0_0x4d4566(0x5ff)],...S(a0_0x4d4566(0x601),a0_0x4d4566(0x5ff))},Ya={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x4d4566(0x2c0)}},'required':[a0_0x4d4566(0x62b)],...S(a0_0x4d4566(0x62b))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x4d4566(0x252),'properties':{'url':{'type':a0_0x4d4566(0x2c0)},'enabled':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]}},'required':['url','enabled']},Zn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x4d4566(0x1f6),'enum':[!0x0,!0x1]}},'required':[a0_0x4d4566(0x6e2),a0_0x4d4566(0x688),a0_0x4d4566(0x659),a0_0x4d4566(0x2fd),a0_0x4d4566(0x527),a0_0x4d4566(0x19d),'SEND_MESSAGE','CONTACTS_SET',a0_0x4d4566(0x398),a0_0x4d4566(0x54c),a0_0x4d4566(0x56f),a0_0x4d4566(0x285),'CHATS_UPSERT','CHATS_UPDATE',a0_0x4d4566(0x186),a0_0x4d4566(0x5b3),'GROUPS_UPSERT',a0_0x4d4566(0x1cc),a0_0x4d4566(0x606)],...S(a0_0x4d4566(0x6e2),'STATUS_INSTANCE',a0_0x4d4566(0x659),a0_0x4d4566(0x2fd),a0_0x4d4566(0x527),'MESSAGES_UPSERT','SEND_MESSAGE','CONTACTS_SET','CONTACTS_UPSERT',a0_0x4d4566(0x54c),'PRESENCE_UPDATE',a0_0x4d4566(0x285),a0_0x4d4566(0x5c8),a0_0x4d4566(0x5cd),'CHATS_DELETE',a0_0x4d4566(0x5b3),a0_0x4d4566(0x3c8),a0_0x4d4566(0x1cc),a0_0x4d4566(0x606))},Ke=class{},Qe=class extends I{[a0_0x4d4566(0x113)](_0x27cdf9){return Vs(_0x27cdf9);}async[a0_0x4d4566(0x431)](_0x12dd3e){const _0x53d02a=a0_0x4d4566;if(_0x12dd3e[_0x53d02a(0x4d8)]!==0x0)try{return{'insertCount':(await this[_0x53d02a(0x113)](_0x12dd3e[0x0][_0x53d02a(0x697)])['insertMany']([..._0x12dd3e]))[_0x53d02a(0x4d8)]};}catch(_0x24056a){return _0x24056a;}}async['delete'](_0x490b05,_0xd33c5){const _0xb886ca=a0_0x4d4566;try{return{'deletedCount':(await this['getContactModelForOwner'](_0xd33c5)['deleteMany']({..._0x490b05[_0xb886ca(0x496)]}))['deletedCount']};}catch(_0x46905d){return{'error':_0x46905d?.[_0xb886ca(0x3bc)]()};}}async[a0_0x4d4566(0x70f)](_0x20ef53,_0x3de030){const _0x58adb1=a0_0x4d4566;try{if(_0x20ef53['length']===0x0)return;let _0x4ba5ad=this[_0x58adb1(0x113)](_0x3de030),_0x2ab706=_0x20ef53[_0x58adb1(0x5ac)](_0x24ec06=>({'updateOne':{'filter':{'_id':_0x24ec06[_0x58adb1(0x218)],'owner':_0x3de030},'update':{..._0x24ec06}}})),{modifiedCount:_0x51ed6e}=await _0x4ba5ad[_0x58adb1(0x502)](_0x2ab706);return{'insertCount':_0x51ed6e};}catch{return;}}async[a0_0x4d4566(0x4df)](_0x2863af,_0xbc8efb){const _0xa38dd7=a0_0x4d4566;try{let _0x56b535=this[_0xa38dd7(0x113)](_0xbc8efb),_0x43c06e=A(_0x2863af[_0xa38dd7(0x496)]);return await _0x56b535[_0xa38dd7(0x4df)](_0x43c06e)['limit'](_0x2863af?.[_0xa38dd7(0x635)]??0x0)['lean']();}catch{return[];}}async[a0_0x4d4566(0x513)](_0x36abb0,_0x2607b3){const _0x52741a=a0_0x4d4566;try{let _0x896a35=this[_0x52741a(0x113)](_0x2607b3),_0x24ab82=A(_0x36abb0[_0x52741a(0x496)]);return await _0x896a35['findOne'](_0x24ab82)[_0x52741a(0x4cb)]();}catch{return null;}}async['deleteAll'](_0x2bd5c8){const _0x5a7a2f=a0_0x4d4566;try{return await this[_0x5a7a2f(0x113)](_0x2bd5c8)[_0x5a7a2f(0x117)][_0x5a7a2f(0x316)](),{'success':!0x0};}catch(_0x2d0846){return console[_0x5a7a2f(0x55a)](_0x2d0846),{'success':!0x1,'error':_0x2d0846};}}},Ye=require('jsonschema'),cc=require(a0_0x4d4566(0x6d0)),ds=new v(a0_0x4d4566(0x677)),J=class{[a0_0x4d4566(0x358)](_0x1ebbb6,_0x5d237f=!0x0){const _0x2c7781=a0_0x4d4566;let _0x2a6ba3='/'+_0x1ebbb6;return _0x5d237f&&(_0x2a6ba3+=_0x2c7781(0x24c)),_0x2a6ba3;}async[a0_0x4d4566(0x35d)](_0x429ab8){const _0x4313cf=a0_0x4d4566;let {request:_0x30d6bb,schema:_0xdc188e,ClassRef:_0x569ce5,execute:_0x1f4eaa}=_0x429ab8,_0x5c8b73=new _0x569ce5(),_0x34828c=_0x30d6bb[_0x4313cf(0x334)],_0x509ffa=_0x30d6bb[_0x4313cf(0x4ed)];_0x30d6bb?.[_0x4313cf(0x3ac)]&&Object[_0x4313cf(0x2d3)](_0x30d6bb['query'])[_0x4313cf(0x4d8)]>0x0&&Object['assign'](_0x509ffa,_0x30d6bb['query']),_0x30d6bb[_0x4313cf(0x499)][_0x4313cf(0x5a9)](_0x4313cf(0x30c))&&Object[_0x4313cf(0x3cd)](_0x509ffa,_0x34828c),Object['assign'](_0x5c8b73,_0x34828c);let _0x38f0b8=_0xdc188e?(0x0,Ye[_0x4313cf(0x311)])(_0x5c8b73,_0xdc188e):{'valid':!0x0,'errors':[]};if(!_0x38f0b8[_0x4313cf(0x2d5)]){let _0x152125=_0x38f0b8[_0x4313cf(0x2c4)][_0x4313cf(0x5ac)](({property:_0x3f4151,stack:_0x2604dd,schema:_0x21cb4e})=>{const _0x31c3cd=_0x4313cf;let _0x160429;return _0x21cb4e[_0x31c3cd(0x21d)]?_0x160429=_0x21cb4e[_0x31c3cd(0x21d)]:_0x160429=_0x2604dd[_0x31c3cd(0x3ad)]('instance.',''),{'property':_0x3f4151[_0x31c3cd(0x3ad)](_0x31c3cd(0x157),''),'message':_0x160429};});throw ds['error']([..._0x152125]),new m(..._0x152125);}return await _0x1f4eaa(_0x509ffa,_0x5c8b73);}async['groupValidate'](_0x451fe9){const _0x13ad9e=a0_0x4d4566;let {request:_0x44b88b,ClassRef:_0x1eee81,schema:_0x34d700,execute:_0x2b85f5}=_0x451fe9,_0x2ae349=_0x44b88b[_0x13ad9e(0x3ac)];if(!_0x2ae349?.[_0x13ad9e(0x601)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x13ad9e(0x5b7));let _0x55c0d9=_0x44b88b[_0x13ad9e(0x4ed)],_0xd2670f=_0x44b88b[_0x13ad9e(0x334)],_0x50d201=new _0x1eee81();Object[_0x13ad9e(0x3cd)](_0xd2670f,_0x2ae349),Object['assign'](_0x50d201,_0xd2670f);let _0x3d6c5c=(0x0,Ye[_0x13ad9e(0x311)])(_0x50d201,_0x34d700);if(!_0x3d6c5c[_0x13ad9e(0x2d5)]){let _0xd0c956=_0x3d6c5c[_0x13ad9e(0x2c4)][_0x13ad9e(0x5ac)](({property:_0x350ced,stack:_0x2738ea,schema:_0x3b3396})=>{const _0x17bb58=_0x13ad9e;let _0x2f118b;return _0x3b3396['description']?_0x2f118b=_0x3b3396['description']:_0x2f118b=_0x2738ea[_0x17bb58(0x3ad)]('instance.',''),{'property':_0x350ced['replace'](_0x17bb58(0x157),''),'message':_0x2f118b};});throw ds[_0x13ad9e(0x55a)]([..._0xd0c956]),new m(..._0xd0c956);}return await _0x2b85f5(_0x55c0d9,_0x50d201);}async[a0_0x4d4566(0x16b)](_0x4b5ada){const _0x1e0881=a0_0x4d4566;let {request:_0x5e1ce1,ClassRef:_0x527907,schema:_0xdd6bd9,execute:_0x425625}=_0x4b5ada,_0x37b82=_0x5e1ce1[_0x1e0881(0x334)];if(!_0x37b82?.[_0x1e0881(0x62b)])throw new m(_0x1e0881(0x355),_0x1e0881(0x690));let _0x14ed51=_0x5e1ce1[_0x1e0881(0x4ed)],_0x197e3c=_0x5e1ce1[_0x1e0881(0x334)],_0x1af5bf=new _0x527907();Object[_0x1e0881(0x3cd)](_0x197e3c,_0x37b82),Object[_0x1e0881(0x3cd)](_0x1af5bf,_0x197e3c);let _0x3841bc=(0x0,Ye['validate'])(_0x1af5bf,_0xdd6bd9);if(!_0x3841bc[_0x1e0881(0x2d5)]){let _0x10782e=_0x3841bc['errors']['map'](({property:_0x376340,stack:_0x517dbc,schema:_0x42ab4a})=>{const _0x2b6a40=_0x1e0881;let _0x4d5d9a;return _0x42ab4a['description']?_0x4d5d9a=_0x42ab4a[_0x2b6a40(0x21d)]:_0x4d5d9a=_0x517dbc[_0x2b6a40(0x3ad)](_0x2b6a40(0x157),''),{'property':_0x376340[_0x2b6a40(0x3ad)]('instance.',''),'message':_0x4d5d9a};});throw ds['error']([..._0x10782e]),new m(..._0x10782e);}return await _0x425625(_0x14ed51,_0x1af5bf);}},E=class{},Mc=new v(a0_0x4d4566(0x592)),Xe=class extends J{constructor(..._0x5b23d7){const _0x5a84bd=a0_0x4d4566;super(),this['router']=(0x0,Za[_0x5a84bd(0x694)])(),this['router'][_0x5a84bd(0x313)](this['routerPath'](_0x5a84bd(0x131)),..._0x5b23d7,async(_0xefbf7d,_0x221d70)=>{const _0x1e7254=_0x5a84bd;let _0x3fe5ab=await this[_0x1e7254(0x35d)]({'request':_0xefbf7d,'schema':Va,'ClassRef':Fe,'execute':(_0x5ad27a,_0x4dabaf)=>D[_0x1e7254(0x131)](_0x5ad27a,_0x4dabaf)});return _0x221d70[_0x1e7254(0x1d6)](0xc9)[_0x1e7254(0x498)](_0x3fe5ab);})['post'](this['routerPath']('whatsappNumbers'),..._0x5b23d7,async(_0xc98a9b,_0x5e8f0f)=>{const _0x16b1f7=_0x5a84bd;let _0x5351f4=await this[_0x16b1f7(0x35d)]({'request':_0xc98a9b,'schema':_a,'ClassRef':qe,'execute':(_0x5e9740,_0x35a442)=>D[_0x16b1f7(0x368)](_0x5e9740,_0x35a442)});return _0x5e8f0f[_0x16b1f7(0x1d6)](0xc9)[_0x16b1f7(0x498)](_0x5351f4);})[_0x5a84bd(0x313)](this[_0x5a84bd(0x358)](_0x5a84bd(0x4ce)),..._0x5b23d7,async(_0x79814d,_0x2a506a)=>{const _0x29381e=_0x5a84bd;let _0x37a954=await this[_0x29381e(0x35d)]({'request':_0x79814d,'schema':M,'ClassRef':E,'execute':(_0x196737,_0x13f820)=>D[_0x29381e(0x4ce)](_0x196737,_0x13f820)});return _0x2a506a['status'](0xc9)[_0x29381e(0x498)](_0x37a954);})[_0x5a84bd(0xfe)](this['routerPath'](_0x5a84bd(0x68a)),..._0x5b23d7,async(_0xc4a85f,_0x461fca)=>{const _0x4ca391=_0x5a84bd;let _0x4f05d3=await this[_0x4ca391(0x35d)]({'request':_0xc4a85f,'schema':Pa,'ClassRef':je,'execute':(_0xa3457c,_0x46cf24)=>D['readMessage'](_0xa3457c,_0x46cf24)});return _0x461fca[_0x4ca391(0x1d6)](0xc9)[_0x4ca391(0x498)](_0x4f05d3);})[_0x5a84bd(0xfe)](this[_0x5a84bd(0x358)](_0x5a84bd(0x1bb)),..._0x5b23d7,async(_0x44feb6,_0x5d8cdb)=>{const _0x4c46b9=_0x5a84bd;let _0x5c8720=await this[_0x4c46b9(0x35d)]({'request':_0x44feb6,'schema':ka,'ClassRef':Ve,'execute':(_0x538d9b,_0x462d4c)=>D[_0x4c46b9(0x1bb)](_0x538d9b,_0x462d4c)});return _0x5d8cdb[_0x4c46b9(0x1d6)](0xc9)[_0x4c46b9(0x498)](_0x5c8720);})[_0x5a84bd(0x4b6)](this[_0x5a84bd(0x358)]('deleteMessageForEveryone'),..._0x5b23d7,async(_0x2c817a,_0x45afd6)=>{const _0x53a9b1=_0x5a84bd;let _0x4291ad=await this[_0x53a9b1(0x35d)]({'request':_0x2c817a,'schema':La,'ClassRef':Ge,'execute':(_0x2cbba5,_0x20f715)=>D[_0x53a9b1(0x25a)](_0x2cbba5,_0x20f715)});return _0x45afd6['status'](0xc9)[_0x53a9b1(0x498)](_0x4291ad);})[_0x5a84bd(0x313)](this[_0x5a84bd(0x358)]('fetchProfilePictureUrl'),..._0x5b23d7,async(_0x40928e,_0x554aa4)=>{const _0x421f0f=_0x5a84bd;let _0x1be65=await this['dataValidate']({'request':_0x40928e,'schema':Se,'ClassRef':be,'execute':(_0x207baf,_0x24a9ca)=>D['fetchProfilePicture'](_0x207baf,_0x24a9ca)});return _0x554aa4['status'](0xc8)[_0x421f0f(0x498)](_0x1be65);})['post'](this[_0x5a84bd(0x358)](_0x5a84bd(0x50c)),..._0x5b23d7,async(_0x2fada0,_0x24c4d8)=>{const _0xdbe5c7=_0x5a84bd;let _0x3297bf=await this['dataValidate']({'request':_0x2fada0,'schema':Ja,'ClassRef':be,'execute':(_0xa39a05,_0x25ad9e)=>D['fetchProfile'](_0xa39a05,_0x25ad9e)});return _0x24c4d8[_0xdbe5c7(0x1d6)](0xc8)['json'](_0x3297bf);})[_0x5a84bd(0x313)](this[_0x5a84bd(0x358)](_0x5a84bd(0x71c)),..._0x5b23d7,async(_0x1cf361,_0x393dab)=>{const _0x3acc42=_0x5a84bd;let _0x272a5d=await this[_0x3acc42(0x35d)]({'request':_0x1cf361,'schema':Fa,'ClassRef':Ke,'execute':(_0x37cc3e,_0x5724b7)=>D[_0x3acc42(0x747)](_0x37cc3e,_0x5724b7)});return _0x393dab[_0x3acc42(0x1d6)](0xc8)[_0x3acc42(0x498)](_0x272a5d);})[_0x5a84bd(0x313)](this[_0x5a84bd(0x358)](_0x5a84bd(0x4ff)),..._0x5b23d7,async(_0x21dbd9,_0x179637)=>{const _0x117eaf=_0x5a84bd;let _0x264836=await this[_0x117eaf(0x35d)]({'request':_0x21dbd9,'schema':null,'ClassRef':Object,'execute':(_0x35838e,_0x425265)=>D[_0x117eaf(0x4ff)](_0x35838e,_0x425265)});return _0x179637[_0x117eaf(0x1d6)](0xc9)['json'](_0x264836);})[_0x5a84bd(0x313)](this[_0x5a84bd(0x358)]('findMessages'),..._0x5b23d7,async(_0x45a63b,_0x31700c)=>{const _0xc6838f=_0x5a84bd;let _0x2f4830=await this[_0xc6838f(0x35d)]({'request':_0x45a63b,'schema':ja,'ClassRef':ke,'execute':(_0x2e91ff,_0x44d91c)=>D[_0xc6838f(0x287)](_0x2e91ff,_0x44d91c)});return _0x31700c[_0xc6838f(0x1d6)](0xc8)['json'](_0x2f4830);})[_0x5a84bd(0x5f2)](this[_0x5a84bd(0x358)](_0x5a84bd(0x70c)),..._0x5b23d7,async(_0x3226ce,_0x452916)=>{const _0x2a0fbd=_0x5a84bd;let _0x5e9c6c=await this[_0x2a0fbd(0x35d)]({'request':_0x3226ce,'schema':null,'ClassRef':E,'execute':_0x14705f=>D['fetchChats'](_0x14705f)});return _0x452916['status'](0xc8)['json'](_0x5e9c6c);})[_0x5a84bd(0x5f2)](this[_0x5a84bd(0x358)]('findLabels'),..._0x5b23d7,async(_0x3a4039,_0x38afd9)=>{const _0x19af0c=_0x5a84bd;let _0x4be5e7=await this[_0x19af0c(0x35d)]({'request':_0x3a4039,'schema':null,'ClassRef':E,'execute':_0x40a338=>D[_0x19af0c(0x11b)](_0x40a338)});return _0x38afd9[_0x19af0c(0x1d6)](0xc8)['json'](_0x4be5e7);})[_0x5a84bd(0xfe)](this[_0x5a84bd(0x358)](_0x5a84bd(0x136)),..._0x5b23d7,async(_0x3f5118,_0x3d6034)=>{const _0x33053a=_0x5a84bd;let _0x1086f9=await this[_0x33053a(0x35d)]({'request':_0x3f5118,'schema':null,'ClassRef':Array,'execute':(_0x3dfb99,_0x155260)=>D[_0x33053a(0x136)](_0x3dfb99,_0x155260)});return _0x3d6034[_0x33053a(0x1d6)](0xc8)[_0x33053a(0x498)](_0x1086f9);})[_0x5a84bd(0x5f2)](this[_0x5a84bd(0x358)]('fetchPrivacySettings'),..._0x5b23d7,async(_0x2c7800,_0x574b6c)=>{const _0x25dd60=_0x5a84bd;let _0x448349=await this[_0x25dd60(0x35d)]({'request':_0x2c7800,'schema':null,'ClassRef':E,'execute':_0x585529=>D[_0x25dd60(0x44c)](_0x585529)});return _0x574b6c[_0x25dd60(0x1d6)](0xc8)[_0x25dd60(0x498)](_0x448349);})['put'](this[_0x5a84bd(0x358)](_0x5a84bd(0x5bd)),..._0x5b23d7,async(_0x43ad20,_0x373bae)=>{const _0x767925=_0x5a84bd;let _0x5718e9=await this[_0x767925(0x35d)]({'request':_0x43ad20,'schema':$a,'ClassRef':Be,'execute':(_0x1ce653,_0x2ad252)=>D[_0x767925(0x5bd)](_0x1ce653,_0x2ad252)});return _0x373bae[_0x767925(0x1d6)](0xc9)['json'](_0x5718e9);})[_0x5a84bd(0x313)](this[_0x5a84bd(0x358)](_0x5a84bd(0x21a)),..._0x5b23d7,async(_0x8351b1,_0x2d648b)=>{const _0x5e6530=_0x5a84bd;let _0x24d594=await this[_0x5e6530(0x35d)]({'request':_0x8351b1,'schema':Se,'ClassRef':fe,'execute':(_0x4e592c,_0x2a74d7)=>D[_0x5e6530(0x21a)](_0x4e592c,_0x2a74d7)});return _0x2d648b[_0x5e6530(0x1d6)](0xc8)[_0x5e6530(0x498)](_0x24d594);})[_0x5a84bd(0x313)](this[_0x5a84bd(0x358)]('updateProfileName'),..._0x5b23d7,async(_0xc31c9,_0x82d03e)=>{const _0x1f62dd=_0x5a84bd;let _0xebff05=await this[_0x1f62dd(0x35d)]({'request':_0xc31c9,'schema':qa,'ClassRef':Ue,'execute':(_0x27c179,_0x387d26)=>D[_0x1f62dd(0x373)](_0x27c179,_0x387d26)});return _0x82d03e[_0x1f62dd(0x1d6)](0xc8)[_0x1f62dd(0x498)](_0xebff05);})[_0x5a84bd(0x313)](this[_0x5a84bd(0x358)](_0x5a84bd(0x28c)),..._0x5b23d7,async(_0x30315a,_0x1c6d76)=>{const _0x2919cd=_0x5a84bd;let _0x180302=await this[_0x2919cd(0x35d)]({'request':_0x30315a,'schema':Ua,'ClassRef':Je,'execute':(_0x500156,_0x3a6cbf)=>D[_0x2919cd(0x28c)](_0x500156,_0x3a6cbf)});return _0x1c6d76[_0x2919cd(0x1d6)](0xc8)['json'](_0x180302);})['put'](this[_0x5a84bd(0x358)]('updateProfilePicture'),..._0x5b23d7,async(_0x1d3754,_0x4f912b)=>{const _0x478924=_0x5a84bd;let _0x198fd0=await this[_0x478924(0x35d)]({'request':_0x1d3754,'schema':Se,'ClassRef':fe,'execute':(_0xd39bf,_0x1caa8a)=>D[_0x478924(0x486)](_0xd39bf,_0x1caa8a)});return _0x4f912b[_0x478924(0x1d6)](0xc8)[_0x478924(0x498)](_0x198fd0);})[_0x5a84bd(0x4b6)](this[_0x5a84bd(0x358)](_0x5a84bd(0x50a)),..._0x5b23d7,async(_0x8f1751,_0x4afa18)=>{const _0x344888=_0x5a84bd;let _0x463d3e=await this[_0x344888(0x35d)]({'request':_0x8f1751,'schema':Se,'ClassRef':fe,'execute':(_0x10d004,_0x408bec)=>D[_0x344888(0x50a)](_0x10d004,_0x408bec)});return _0x4afa18[_0x344888(0x1d6)](0xc8)[_0x344888(0x498)](_0x463d3e);});}},er=require(a0_0x4d4566(0x699)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends J{constructor(..._0x2ed4c9){const _0x2b2d24=a0_0x4d4566;super(),this['router']=(0x0,er[_0x2b2d24(0x694)])(),this[_0x2b2d24(0x281)][_0x2b2d24(0x313)](this['routerPath'](_0x2b2d24(0x178)),..._0x2ed4c9,async(_0x42d321,_0x3cae20)=>{const _0x5eac8f=_0x2b2d24;let _0x5d9d8e=await this[_0x5eac8f(0x35d)]({'request':_0x42d321,'schema':Ba,'ClassRef':Ze,'execute':(_0x413e93,_0x2d4704)=>U[_0x5eac8f(0x5dd)](_0x413e93,_0x2d4704)});_0x3cae20[_0x5eac8f(0x1d6)](0xc9)['json'](_0x5d9d8e);})[_0x2b2d24(0xfe)](this[_0x2b2d24(0x358)]('updateGroupPicture'),..._0x2ed4c9,async(_0x393195,_0x2be736)=>{const _0x107880=_0x2b2d24;let _0x4eb3ec=await this[_0x107880(0x4b7)]({'request':_0x393195,'schema':za,'ClassRef':et,'execute':(_0xf0fcc4,_0x33ef58)=>U[_0x107880(0x4e1)](_0xf0fcc4,_0x33ef58)});_0x2be736['status'](0xc9)[_0x107880(0x498)](_0x4eb3ec);})[_0x2b2d24(0xfe)](this['routerPath'](_0x2b2d24(0x5a6)),..._0x2ed4c9,async(_0x177ee2,_0xc7912b)=>{const _0x4eb5ed=_0x2b2d24;let _0x211231=await this[_0x4eb5ed(0x4b7)]({'request':_0x177ee2,'schema':Ha,'ClassRef':tt,'execute':(_0x1ab84c,_0x219913)=>U[_0x4eb5ed(0x5a6)](_0x1ab84c,_0x219913)});_0xc7912b[_0x4eb5ed(0x1d6)](0xc9)[_0x4eb5ed(0x498)](_0x211231);})[_0x2b2d24(0xfe)](this[_0x2b2d24(0x358)]('groupName'),..._0x2ed4c9,async(_0x2a3303,_0x2e1985)=>{const _0x3e51a6=_0x2b2d24;let _0x362856=await this[_0x3e51a6(0x4b7)]({'request':_0x2a3303,'schema':Ka,'ClassRef':st,'execute':(_0x2bafef,_0x1ca9bf)=>U['groupName'](_0x2bafef,_0x1ca9bf)});_0x2e1985[_0x3e51a6(0x1d6)](0xc9)[_0x3e51a6(0x498)](_0x362856);})[_0x2b2d24(0xfe)](this[_0x2b2d24(0x358)](_0x2b2d24(0x243)),..._0x2ed4c9,async(_0x45b12b,_0x338aac)=>{const _0x75e6a6=_0x2b2d24;let _0x2a4707=await this[_0x75e6a6(0x4b7)]({'request':_0x45b12b,'schema':Qa,'ClassRef':at,'execute':(_0x3f571f,_0x1117bf)=>U['groupSetting'](_0x3f571f,_0x1117bf)});_0x338aac['status'](0xc9)['json'](_0x2a4707);})[_0x2b2d24(0xfe)](this[_0x2b2d24(0x358)](_0x2b2d24(0x31f)),..._0x2ed4c9,async(_0x3aa379,_0x4d100a)=>{const _0x47ac57=_0x2b2d24;let _0x454dcb=await this['groupValidate']({'request':_0x3aa379,'schema':Wa,'ClassRef':it,'execute':(_0x3bddbd,_0x18a908)=>U[_0x47ac57(0x31f)](_0x3bddbd,_0x18a908)});_0x4d100a[_0x47ac57(0x1d6)](0xc9)[_0x47ac57(0x498)](_0x454dcb);})[_0x2b2d24(0x5f2)](this[_0x2b2d24(0x358)](_0x2b2d24(0x4c3)),..._0x2ed4c9,async(_0x3b5567,_0x37064b)=>{const _0x59e8fe=_0x2b2d24;let _0xd6ee76=await this[_0x59e8fe(0x4b7)]({'request':_0x3b5567,'schema':Ee,'ClassRef':Y,'execute':(_0x2bdf3b,_0x3645b1)=>U[_0x59e8fe(0x1ae)](_0x2bdf3b,_0x3645b1)});_0x37064b[_0x59e8fe(0x1d6)](0xc8)[_0x59e8fe(0x498)](_0xd6ee76);})[_0x2b2d24(0x5f2)](this[_0x2b2d24(0x358)](_0x2b2d24(0x3b3)),..._0x2ed4c9,async(_0x1945d1,_0x2c8923)=>{const _0x4daefd=_0x2b2d24;let _0x327690=await this[_0x4daefd(0x35d)]({'request':_0x1945d1,'schema':M,'ClassRef':E,'execute':_0x1da59a=>U[_0x4daefd(0x3b3)](_0x1da59a)});_0x2c8923[_0x4daefd(0x1d6)](0xc8)[_0x4daefd(0x498)](_0x327690);})[_0x2b2d24(0x5f2)](this[_0x2b2d24(0x358)](_0x2b2d24(0x4b1)),..._0x2ed4c9,async(_0x33c567,_0x23c98c)=>{const _0x48e506=_0x2b2d24;let _0xeaf9b0=await this['groupValidate']({'request':_0x33c567,'schema':Ee,'ClassRef':Y,'execute':(_0x42b56f,_0x377639)=>U['findParticipants'](_0x42b56f,_0x377639)});_0x23c98c[_0x48e506(0x1d6)](0xc8)[_0x48e506(0x498)](_0xeaf9b0);})[_0x2b2d24(0x5f2)](this[_0x2b2d24(0x358)](_0x2b2d24(0x62b)),..._0x2ed4c9,async(_0x3fd339,_0x1ee98e)=>{const _0x161d54=_0x2b2d24;let _0x49de6c=await this[_0x161d54(0x4b7)]({'request':_0x3fd339,'schema':Ee,'ClassRef':Y,'execute':(_0xb7e894,_0x2fa81d)=>U[_0x161d54(0x62b)](_0xb7e894,_0x2fa81d)});_0x1ee98e[_0x161d54(0x1d6)](0xc8)['json'](_0x49de6c);})[_0x2b2d24(0xfe)](this[_0x2b2d24(0x358)]('joinGroup'),..._0x2ed4c9,async(_0x4e5dd2,_0x3d1dc0)=>{const _0x5edcc5=_0x2b2d24;let _0x3d53e0=await this['joinGroupValidate']({'request':_0x4e5dd2,'schema':Ya,'ClassRef':rt,'execute':(_0x40b7ef,_0x805e4e)=>U[_0x5edcc5(0x4f8)](_0x40b7ef,_0x805e4e)});_0x3d1dc0[_0x5edcc5(0x1d6)](0xc9)[_0x5edcc5(0x498)](_0x3d53e0);})['put'](this[_0x2b2d24(0x358)](_0x2b2d24(0x36c)),..._0x2ed4c9,async(_0x3ffed1,_0x190d68)=>{const _0x3d7a70=_0x2b2d24;let _0x5f59bd=await this[_0x3d7a70(0x4b7)]({'request':_0x3ffed1,'schema':Ee,'ClassRef':Y,'execute':(_0x253380,_0xbbe1f8)=>U[_0x3d7a70(0x36c)](_0x253380,_0xbbe1f8)});_0x190d68[_0x3d7a70(0x1d6)](0xc9)[_0x3d7a70(0x498)](_0x5f59bd);})[_0x2b2d24(0xfe)](this[_0x2b2d24(0x358)]('updateParticipant'),..._0x2ed4c9,async(_0x47220d,_0x18421c)=>{const _0x1f152b=_0x2b2d24;let _0x52c0db=await this[_0x1f152b(0x4b7)]({'request':_0x47220d,'schema':Ga,'ClassRef':ot,'execute':(_0x469a5a,_0x12c943)=>U[_0x1f152b(0x1d8)](_0x469a5a,_0x12c943)});_0x18421c['status'](0xc9)[_0x1f152b(0x498)](_0x52c0db);})[_0x2b2d24(0x4b6)](this['routerPath'](_0x2b2d24(0x5f0)),..._0x2ed4c9,async(_0x394420,_0x13ee79)=>{const _0x37376e=_0x2b2d24;let _0xe4b557=await this['groupValidate']({'request':_0x394420,'schema':{},'ClassRef':Y,'execute':(_0xbc6999,_0x2cd78b)=>U['leaveGroup'](_0xbc6999,_0x2cd78b)});_0x13ee79['status'](0xc8)[_0x37376e(0x498)](_0xe4b557);});}},tr=require(a0_0x4d4566(0x699)),ct=class extends J{constructor(_0x229d79,..._0x1a046f){const _0x51d54f=a0_0x4d4566;super(),this[_0x51d54f(0x57f)]=_0x229d79,this['router']=(0x0,tr['Router'])();let _0x2f28bd=_0x229d79['get'](_0x51d54f(0x3d4));this[_0x51d54f(0x281)][_0x51d54f(0x313)](_0x51d54f(0x67d),..._0x1a046f,async(_0x487f01,_0x545110)=>{const _0x233250=_0x51d54f;let {instanceName:_0x586481,apikey:_0x2c3ceb,number:_0x2b93a5}=_0x487f01[_0x233250(0x334)],_0x4429d4=await le[_0x233250(0x543)]({'instanceName':_0x586481,'apikey':_0x2c3ceb,'number':_0x2b93a5});return _0x545110[_0x233250(0x1d6)](0xc9)[_0x233250(0x498)](_0x4429d4);})[_0x51d54f(0xfe)](this['routerPath']('restart'),..._0x1a046f,async(_0x58220b,_0x3e6013)=>{const _0x125000=_0x51d54f;let _0x4f26e2=await this['dataValidate']({'request':_0x58220b,'schema':M,'ClassRef':E,'execute':_0x2b2ccd=>le['restartInstance'](_0x2b2ccd)});return _0x3e6013[_0x125000(0x1d6)](0xc8)['json'](_0x4f26e2);})[_0x51d54f(0x5f2)](this[_0x51d54f(0x358)](_0x51d54f(0x39a)),..._0x1a046f,async(_0x466d26,_0x304333)=>{const _0x9451=_0x51d54f;let _0x4074eb=await this[_0x9451(0x35d)]({'request':_0x466d26,'schema':M,'ClassRef':E,'execute':_0x2d9a37=>le[_0x9451(0x39a)](_0x2d9a37)});return _0x304333[_0x9451(0x1d6)](0xc8)[_0x9451(0x498)](_0x4074eb);})['get'](this[_0x51d54f(0x358)](_0x51d54f(0x1b1),!0x1),..._0x1a046f,async(_0x4eebdb,_0x28d060)=>{const _0x2146fb=_0x51d54f;let _0x146f50=await this[_0x2146fb(0x35d)]({'request':_0x4eebdb,'schema':null,'ClassRef':E,'execute':_0x7a5435=>le[_0x2146fb(0x1b1)](_0x7a5435)});return _0x28d060[_0x2146fb(0x1d6)](0xc8)['json'](_0x146f50);})['delete'](this['routerPath'](_0x51d54f(0x382)),..._0x1a046f,async(_0x4c6edf,_0x511bf5)=>{const _0x4acc95=_0x51d54f;let _0x163216=await this[_0x4acc95(0x35d)]({'request':_0x4c6edf,'schema':M,'ClassRef':E,'execute':_0x234036=>le['logout'](_0x234036)});return _0x511bf5[_0x4acc95(0x1d6)](0xc8)['json'](_0x163216);})[_0x51d54f(0x4b6)](this[_0x51d54f(0x358)](_0x51d54f(0x4b6)),..._0x1a046f,async(_0x3bb379,_0x3d7b5f)=>{const _0x3f7665=_0x51d54f;let _0x569c31=await this['dataValidate']({'request':_0x3bb379,'schema':M,'ClassRef':E,'execute':_0x1c7be8=>le[_0x3f7665(0x5ed)](_0x1c7be8)});return _0x3d7b5f[_0x3f7665(0x1d6)](0xc8)['json'](_0x569c31);});}},sr=require(a0_0x4d4566(0x699)),ps=class{},W=class extends ps{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends J{constructor(..._0x467834){const _0x17b113=a0_0x4d4566;super(),this[_0x17b113(0x281)]=(0x0,sr['Router'])(),this[_0x17b113(0x281)][_0x17b113(0x313)](this[_0x17b113(0x358)](_0x17b113(0x520)),..._0x467834,async(_0x5a080f,_0xd6f621)=>{const _0x4fd008=_0x17b113;let _0x164b7f=await this[_0x4fd008(0x35d)]({'request':_0x5a080f,'schema':Sa,'ClassRef':lt,'execute':(_0x26965b,_0x171f92)=>G[_0x4fd008(0x520)](_0x26965b,_0x171f92)});return _0xd6f621['status'](0xc9)[_0x4fd008(0x498)](_0x164b7f);})[_0x17b113(0x313)](this[_0x17b113(0x358)]('sendMedia'),..._0x467834,async(_0x55797f,_0x1eea39)=>{const _0x52c396=_0x17b113;let _0x481058=await this[_0x52c396(0x35d)]({'request':_0x55797f,'schema':va,'ClassRef':Ce,'execute':(_0x2eddc9,_0x29c74b)=>G['sendMedia'](_0x2eddc9,_0x29c74b)});return _0x1eea39['status'](0xc9)['json'](_0x481058);})[_0x17b113(0x313)](this[_0x17b113(0x358)](_0x17b113(0x25e)),..._0x467834,async(_0x29c18a,_0x4a3466)=>{const _0x1216aa=_0x17b113;let _0x3c730d=await this[_0x1216aa(0x35d)]({'request':_0x29c18a,'schema':Ta,'ClassRef':pt,'execute':(_0x5c9d65,_0x2cbf66)=>G[_0x1216aa(0x25e)](_0x5c9d65,_0x2cbf66)});return _0x4a3466[_0x1216aa(0x1d6)](0xc9)['json'](_0x3c730d);})[_0x17b113(0x313)](this[_0x17b113(0x358)](_0x17b113(0x5e6)),..._0x467834,async(_0x1934e1,_0x58b14a)=>{const _0x111c73=_0x17b113;let _0x7e66f=await this['dataValidate']({'request':_0x1934e1,'schema':Na,'ClassRef':Ce,'execute':(_0x30be58,_0x2c0e37)=>G['sendWhatsAppAudio'](_0x30be58,_0x2c0e37)});return _0x58b14a[_0x111c73(0x1d6)](0xc9)[_0x111c73(0x498)](_0x7e66f);})[_0x17b113(0x313)](this['routerPath'](_0x17b113(0x470)),..._0x467834,async(_0x34ea20,_0x433538)=>{const _0x54aab7=_0x17b113;let _0x58aa7e=await this['dataValidate']({'request':_0x34ea20,'schema':Aa,'ClassRef':ht,'execute':(_0x2f6231,_0x33282c)=>G[_0x54aab7(0x470)](_0x2f6231,_0x33282c)});return _0x433538[_0x54aab7(0x1d6)](0xc9)[_0x54aab7(0x498)](_0x58aa7e);})['post'](this[_0x17b113(0x358)]('sendLocation'),..._0x467834,async(_0x569e23,_0x3f950f)=>{const _0x4b1d64=_0x17b113;let _0x21169d=await this[_0x4b1d64(0x35d)]({'request':_0x569e23,'schema':Oa,'ClassRef':mt,'execute':(_0x532b0c,_0x144608)=>G[_0x4b1d64(0x2e2)](_0x532b0c,_0x144608)});return _0x3f950f[_0x4b1d64(0x1d6)](0xc9)[_0x4b1d64(0x498)](_0x21169d);})['post'](this[_0x17b113(0x358)](_0x17b113(0x47b)),..._0x467834,async(_0x892d5e,_0x1ef9cf)=>{const _0x1c2cc8=_0x17b113;let _0x5a94b2=await this[_0x1c2cc8(0x35d)]({'request':_0x892d5e,'schema':Ia,'ClassRef':ft,'execute':(_0x16ec0f,_0x26e4f3)=>G[_0x1c2cc8(0x47b)](_0x16ec0f,_0x26e4f3)});return _0x1ef9cf[_0x1c2cc8(0x1d6)](0xc9)['json'](_0x5a94b2);})[_0x17b113(0x313)](this['routerPath'](_0x17b113(0x68d)),..._0x467834,async(_0x1cc1e4,_0x2aab3b)=>{const _0x3969ab=_0x17b113;let _0x3c0b95=await this[_0x3969ab(0x35d)]({'request':_0x1cc1e4,'schema':Da,'ClassRef':yt,'execute':(_0x3bd974,_0x30a2ae)=>G[_0x3969ab(0x68d)](_0x3bd974,_0x30a2ae)});return _0x2aab3b[_0x3969ab(0x1d6)](0xc9)['json'](_0x3c0b95);})[_0x17b113(0x313)](this[_0x17b113(0x358)](_0x17b113(0x30b)),..._0x467834,async(_0x5e7e62,_0x52e57e)=>{const _0x58d7ce=_0x17b113;let _0x156d09=await this[_0x58d7ce(0x35d)]({'request':_0x5e7e62,'schema':xa,'ClassRef':wt,'execute':(_0x2d0696,_0x3a8c0e)=>G[_0x58d7ce(0x30b)](_0x2d0696,_0x3a8c0e)});return _0x52e57e[_0x58d7ce(0x1d6)](0xc9)[_0x58d7ce(0x498)](_0x156d09);})[_0x17b113(0x313)](this[_0x17b113(0x358)](_0x17b113(0x6f0)),..._0x467834,async(_0x51f9b9,_0x4b9c72)=>{const _0x49cdf8=_0x17b113;let _0x29727c=await this[_0x49cdf8(0x35d)]({'request':_0x51f9b9,'schema':Ra,'ClassRef':dt,'execute':(_0x306eb6,_0x4448a5)=>G[_0x49cdf8(0x6f0)](_0x306eb6,_0x4448a5)});return _0x4b9c72[_0x49cdf8(0x1d6)](0xc9)[_0x49cdf8(0x498)](_0x29727c);})['post'](this['routerPath'](_0x17b113(0x571)),..._0x467834,async(_0x296648,_0x58fa58)=>{const _0x4a4441=_0x17b113;let _0x11ff34=await this['dataValidate']({'request':_0x296648,'schema':Ma,'ClassRef':ut,'execute':(_0x42e81d,_0x2ba538)=>G['sendStatus'](_0x42e81d,_0x2ba538)});return _0x58fa58['status'](0xc9)[_0x4a4441(0x498)](_0x11ff34);})['post'](this[_0x17b113(0x358)](_0x17b113(0x20f)),..._0x467834,async(_0x1df375,_0xcac12b)=>{const _0x3d3268=_0x17b113;let _0x17b216=await this[_0x3d3268(0x35d)]({'request':_0x1df375,'schema':Ca,'ClassRef':gt,'execute':(_0x35efe5,_0x5a3f7e)=>G[_0x3d3268(0x20f)](_0x35efe5,_0x5a3f7e)});return _0xcac12b[_0x3d3268(0x1d6)](0xc9)['json'](_0x17b216);});}},ar=require(a0_0x4d4566(0x699)),St=class{},Et=class extends J{constructor(..._0x59a0d9){const _0x23f693=a0_0x4d4566;super(),this[_0x23f693(0x281)]=(0x0,ar[_0x23f693(0x694)])(),this['router'][_0x23f693(0x313)](this[_0x23f693(0x358)](_0x23f693(0x4b4)),..._0x59a0d9,async(_0x2e0309,_0x2b8446)=>{const _0x258c01=_0x23f693;let _0x2a770c=await this[_0x258c01(0x35d)]({'request':_0x2e0309,'schema':Xa,'ClassRef':St,'execute':(_0x5436f8,_0x12f711)=>gs[_0x258c01(0x4fb)](_0x5436f8,_0x12f711)});_0x2b8446[_0x258c01(0x1d6)](0xc9)[_0x258c01(0x498)](_0x2a770c);})[_0x23f693(0x5f2)](this['routerPath']('find'),..._0x59a0d9,async(_0x220d3a,_0x474877)=>{const _0x583dc0=_0x23f693;let _0x313352=await this[_0x583dc0(0x35d)]({'request':_0x220d3a,'schema':M,'ClassRef':E,'execute':_0x4886e7=>gs[_0x583dc0(0x129)](_0x4886e7)});_0x474877[_0x583dc0(0x1d6)](0xc8)[_0x583dc0(0x498)](_0x313352);});}},rr=require('express'),f=new v(a0_0x4d4566(0x2c6)),Ct=class extends J{constructor(..._0x1bf34b){const _0x2b2893=a0_0x4d4566;super(),this[_0x2b2893(0x281)]=(0x0,rr['Router'])(),this[_0x2b2893(0x281)][_0x2b2893(0x313)](this[_0x2b2893(0x358)]('scheduleMessage'),..._0x1bf34b,async(_0xb21155,_0x24b8bc)=>{const _0x38375f=_0x2b2893;let _0x20ad17=_0xb21155[_0x38375f(0x334)];f[_0x38375f(0x5d0)](_0x38375f(0x268)),f[_0x38375f(0x5d0)](_0x38375f(0x3c1)),f[_0x38375f(0x5d0)](_0xb21155['body']);let _0x2a0c58=await this['dataValidate']({'request':_0xb21155,'schema':M,'ClassRef':E,'execute':_0x598f2d=>T['editScheduleMessage'](_0x598f2d,_0x20ad17)});_0x24b8bc['status'](0xc8)[_0x38375f(0x498)](_0x2a0c58);})[_0x2b2893(0x5f2)](this[_0x2b2893(0x358)](_0x2b2893(0x142)),..._0x1bf34b,async(_0x1c5880,_0x682a40)=>{const _0x549648=_0x2b2893;let _0xa4116a=await this['dataValidate']({'request':_0x1c5880,'schema':M,'ClassRef':E,'execute':_0x295804=>T[_0x549648(0x554)](_0x295804)});_0x682a40[_0x549648(0x1d6)](0xc8)[_0x549648(0x498)](_0xa4116a);})[_0x2b2893(0x4b6)](this['routerPath'](_0x2b2893(0x6cd)),..._0x1bf34b,async(_0x3d80f7,_0x23383b)=>{const _0x2463cf=_0x2b2893;f[_0x2463cf(0x5d0)](_0x2463cf(0x221));let _0x9046d6=await this[_0x2463cf(0x35d)]({'request':_0x3d80f7,'schema':M,'ClassRef':E,'execute':_0x339572=>T[_0x2463cf(0x6cd)](_0x339572)});_0x23383b['status'](0xc8)[_0x2463cf(0x498)](_0x9046d6);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)](_0x2b2893(0x2c2)),..._0x1bf34b,async(_0x34358f,_0x37d7a6)=>{const _0x2662ce=_0x2b2893;let _0x5559c1=_0x34358f['body'];f[_0x2662ce(0x5d0)](_0x2662ce(0x395)),f[_0x2662ce(0x5d0)]('request\x20body:\x20'),f[_0x2662ce(0x5d0)](_0x34358f[_0x2662ce(0x334)]);let _0x3ac3b7=await this[_0x2662ce(0x35d)]({'request':_0x34358f,'schema':M,'ClassRef':E,'execute':_0x5ea460=>T[_0x2662ce(0x2c2)](_0x5ea460,_0x5559c1)});_0x37d7a6[_0x2662ce(0x1d6)](0xc8)[_0x2662ce(0x498)](_0x3ac3b7);})[_0x2b2893(0x5f2)](this[_0x2b2893(0x358)](_0x2b2893(0x440)),..._0x1bf34b,async(_0x3f892b,_0x4d8bcc)=>{const _0x18998e=_0x2b2893;f['verbose'](_0x18998e(0x6b3));let _0x359312=await this[_0x18998e(0x35d)]({'request':_0x3f892b,'schema':M,'ClassRef':E,'execute':_0x4fb4fe=>T[_0x18998e(0x440)](_0x4fb4fe)});_0x4d8bcc['status'](0xc8)[_0x18998e(0x498)](_0x359312);})[_0x2b2893(0x5f2)](this[_0x2b2893(0x358)]('getTicketSystem'),..._0x1bf34b,async(_0x1c9a69,_0x57c466)=>{const _0x177b61=_0x2b2893;f[_0x177b61(0x5d0)](_0x177b61(0x101));let _0x5a8617=await this[_0x177b61(0x35d)]({'request':_0x1c9a69,'schema':M,'ClassRef':E,'execute':_0x52ab4c=>T['getAutomateSystem'](_0x52ab4c)});_0x57c466[_0x177b61(0x1d6)](0xc8)[_0x177b61(0x498)](_0x5a8617);})[_0x2b2893(0x313)](this['routerPath'](_0x2b2893(0x10c)),..._0x1bf34b,async(_0x44f239,_0x17c4e9)=>{const _0x569dd0=_0x2b2893;let _0x2156ea=_0x44f239[_0x569dd0(0x334)];f[_0x569dd0(0x5d0)](_0x569dd0(0x3c4)),f['verbose']('request\x20body:\x20'),f[_0x569dd0(0x5d0)](_0x44f239[_0x569dd0(0x334)]);let _0x1da254=await this[_0x569dd0(0x35d)]({'request':_0x44f239,'schema':M,'ClassRef':E,'execute':_0x1942f5=>T[_0x569dd0(0x10c)](_0x1942f5,_0x2156ea)});_0x17c4e9[_0x569dd0(0x1d6)](0xc8)[_0x569dd0(0x498)](_0x1da254);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)](_0x2b2893(0x38d)),..._0x1bf34b,async(_0x412cd7,_0x18c7a1)=>{const _0x7543fd=_0x2b2893;let _0x36342b=_0x412cd7[_0x7543fd(0x334)];f[_0x7543fd(0x5d0)](_0x7543fd(0x187)),f['verbose'](_0x7543fd(0x3c1)),f[_0x7543fd(0x5d0)](_0x412cd7[_0x7543fd(0x334)]);let _0x19d10a=await this[_0x7543fd(0x35d)]({'request':_0x412cd7,'schema':M,'ClassRef':E,'execute':_0x40584a=>T['updateCustomFields'](_0x40584a,_0x36342b)});_0x18c7a1[_0x7543fd(0x1d6)](0xc8)[_0x7543fd(0x498)](_0x19d10a);})['post'](this[_0x2b2893(0x358)]('updateFlowConfig'),..._0x1bf34b,async(_0x328f89,_0x5c98ef)=>{const _0x524ff2=_0x2b2893;let _0xfc52c7=_0x328f89['body'];f['verbose'](_0x524ff2(0x13d)),f[_0x524ff2(0x5d0)](_0x524ff2(0x3c1)),f[_0x524ff2(0x5d0)](_0x328f89[_0x524ff2(0x334)]);let _0x11859c=await this[_0x524ff2(0x35d)]({'request':_0x328f89,'schema':M,'ClassRef':E,'execute':_0xebdca0=>T[_0x524ff2(0x371)](_0xebdca0,_0xfc52c7)});_0x5c98ef[_0x524ff2(0x1d6)](0xc8)[_0x524ff2(0x498)](_0x11859c);})['post'](this['routerPath'](_0x2b2893(0x11a)),..._0x1bf34b,async(_0x4c97f4,_0x1ddf10)=>{const _0x137e73=_0x2b2893;let _0x1c82b6=_0x4c97f4[_0x137e73(0x334)];f[_0x137e73(0x5d0)]('request\x20received\x20in\x20getConversation'),f[_0x137e73(0x5d0)](_0x137e73(0x3c1)),f[_0x137e73(0x5d0)](_0x4c97f4[_0x137e73(0x334)]);let _0x2753da=await this[_0x137e73(0x35d)]({'request':_0x4c97f4,'schema':M,'ClassRef':E,'execute':_0x34fbf2=>T[_0x137e73(0x11a)](_0x34fbf2,_0x1c82b6)});_0x1ddf10['status'](0xc8)[_0x137e73(0x498)](_0x2753da);})['post'](this[_0x2b2893(0x358)](_0x2b2893(0x30e)),..._0x1bf34b,async(_0x32a825,_0x4901ac)=>{const _0x365e18=_0x2b2893;let _0x2675bd=_0x32a825['body'];f[_0x365e18(0x5d0)]('request\x20received\x20in\x20fetchConversation'),f['verbose']('request\x20body:\x20'),f[_0x365e18(0x5d0)](_0x32a825[_0x365e18(0x334)]);let _0x2e100e=await this[_0x365e18(0x35d)]({'request':_0x32a825,'schema':M,'ClassRef':E,'execute':_0x38e821=>T[_0x365e18(0x30e)](_0x38e821,_0x2675bd)});_0x4901ac['status'](0xc8)[_0x365e18(0x498)](_0x2e100e);})['post'](this[_0x2b2893(0x358)](_0x2b2893(0x650)),..._0x1bf34b,async(_0x3a1e76,_0x414f29)=>{const _0x47db6b=_0x2b2893;let _0x286830=_0x3a1e76[_0x47db6b(0x334)];f[_0x47db6b(0x5d0)](_0x47db6b(0x3a5)),f[_0x47db6b(0x5d0)](_0x47db6b(0x3c1)),f['verbose'](_0x3a1e76[_0x47db6b(0x334)]);let _0x164a83=await this[_0x47db6b(0x35d)]({'request':_0x3a1e76,'schema':M,'ClassRef':E,'execute':_0x155310=>T[_0x47db6b(0x650)](_0x155310,_0x286830)});_0x414f29[_0x47db6b(0x1d6)](0xc8)['json'](_0x164a83);})[_0x2b2893(0x4b6)](this[_0x2b2893(0x358)](_0x2b2893(0x3ca)),..._0x1bf34b,async(_0x3fe75c,_0x1838ea)=>{const _0x18492d=_0x2b2893;let _0x4f74ad=_0x3fe75c[_0x18492d(0x334)];f[_0x18492d(0x5d0)]('request\x20received\x20in\x20deleteConversation'),f[_0x18492d(0x5d0)](_0x18492d(0x3c1)),f[_0x18492d(0x5d0)](_0x3fe75c[_0x18492d(0x334)]);let _0x4c8cdd=await this[_0x18492d(0x35d)]({'request':_0x3fe75c,'schema':M,'ClassRef':E,'execute':_0x5aeb1d=>T[_0x18492d(0x3ca)](_0x5aeb1d,_0x4f74ad)});_0x1838ea[_0x18492d(0x1d6)](0xc8)['json'](_0x4c8cdd);})[_0x2b2893(0x313)](this['routerPath'](_0x2b2893(0x5cb)),..._0x1bf34b,async(_0x146c36,_0x1036d3)=>{const _0x814e6f=_0x2b2893;let _0x2ba21d=_0x146c36[_0x814e6f(0x334)];f[_0x814e6f(0x5d0)](_0x814e6f(0x237)),f['verbose'](_0x814e6f(0x3c1)),f[_0x814e6f(0x5d0)](_0x146c36[_0x814e6f(0x334)]);let _0x5a689a=await this[_0x814e6f(0x35d)]({'request':_0x146c36,'schema':M,'ClassRef':E,'execute':_0xeb6055=>T[_0x814e6f(0x418)](_0xeb6055,_0x2ba21d)});_0x1036d3['status'](0xc8)[_0x814e6f(0x498)](_0x5a689a);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)]('editflow'),..._0x1bf34b,async(_0x51655c,_0x5ea350)=>{const _0x1d6407=_0x2b2893;let _0x4226a8=_0x51655c[_0x1d6407(0x334)];f[_0x1d6407(0x5d0)](_0x1d6407(0x463)),f[_0x1d6407(0x5d0)]('request\x20body:\x20'),f[_0x1d6407(0x5d0)](_0x51655c[_0x1d6407(0x334)]),delete _0x4226a8[_0x1d6407(0x3a3)],delete _0x4226a8[_0x1d6407(0x544)],delete _0x4226a8[_0x1d6407(0x41a)],delete _0x4226a8[_0x1d6407(0x174)];let _0x294336=await this[_0x1d6407(0x35d)]({'request':_0x51655c,'schema':M,'ClassRef':E,'execute':_0x33a33d=>T['editFlow'](_0x33a33d,_0x4226a8)});_0x5ea350[_0x1d6407(0x1d6)](0xc8)[_0x1d6407(0x498)](_0x294336);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)]('editflowblock'),..._0x1bf34b,async(_0x3d6aa6,_0x8114e4)=>{const _0x4f8dd7=_0x2b2893;let _0x5e12df=_0x3d6aa6[_0x4f8dd7(0x334)];f[_0x4f8dd7(0x5d0)]('request\x20received\x20in\x20editFlow'),f[_0x4f8dd7(0x5d0)](_0x4f8dd7(0x3c1)),f[_0x4f8dd7(0x5d0)](_0x3d6aa6[_0x4f8dd7(0x334)]);let _0x314d78=await this[_0x4f8dd7(0x35d)]({'request':_0x3d6aa6,'schema':M,'ClassRef':E,'execute':_0x3bf3a7=>T[_0x4f8dd7(0x30d)](_0x3bf3a7,_0x5e12df)});_0x8114e4[_0x4f8dd7(0x1d6)](0xc8)[_0x4f8dd7(0x498)](_0x314d78);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)](_0x2b2893(0x733)),..._0x1bf34b,async(_0x310bdd,_0x1c4622)=>{const _0x3748b7=_0x2b2893;let _0x400068=_0x310bdd[_0x3748b7(0x334)];f[_0x3748b7(0x5d0)](_0x3748b7(0x463)),f[_0x3748b7(0x5d0)](_0x3748b7(0x3c1)),f['verbose'](_0x310bdd[_0x3748b7(0x334)]);let _0x55fe53=await this[_0x3748b7(0x35d)]({'request':_0x310bdd,'schema':M,'ClassRef':E,'execute':_0x13664b=>T[_0x3748b7(0x1df)](_0x13664b,_0x400068)});_0x1c4622['status'](0xc8)[_0x3748b7(0x498)](_0x55fe53);})['post'](this[_0x2b2893(0x358)](_0x2b2893(0x29d)),..._0x1bf34b,async(_0x357bd1,_0x5ac267)=>{const _0x50c7b7=_0x2b2893;let _0x2082e7=_0x357bd1[_0x50c7b7(0x334)];f[_0x50c7b7(0x5d0)]('request\x20received\x20in\x20editFlow'),f['verbose'](_0x50c7b7(0x3c1)),f['verbose'](_0x357bd1[_0x50c7b7(0x334)]);let _0x211e4a=await this[_0x50c7b7(0x35d)]({'request':_0x357bd1,'schema':M,'ClassRef':E,'execute':_0x57c542=>T[_0x50c7b7(0x207)](_0x57c542,_0x2082e7)});_0x5ac267[_0x50c7b7(0x1d6)](0xc8)[_0x50c7b7(0x498)](_0x211e4a);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)](_0x2b2893(0x4cf)),..._0x1bf34b,async(_0x8507ac,_0xc91219)=>{const _0x31a7a6=_0x2b2893;let _0x27c38f=_0x8507ac['body'];f[_0x31a7a6(0x5d0)]('request\x20received\x20in\x20editFlowgroup'),f[_0x31a7a6(0x5d0)](_0x31a7a6(0x3c1)),f[_0x31a7a6(0x5d0)](_0x8507ac['body']);let _0x28b6be=await this[_0x31a7a6(0x35d)]({'request':_0x8507ac,'schema':M,'ClassRef':E,'execute':_0x1c5bfd=>T[_0x31a7a6(0x4e8)](_0x1c5bfd,_0x27c38f)});_0xc91219['status'](0xc8)[_0x31a7a6(0x498)](_0x28b6be);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)]('editflowcondition'),..._0x1bf34b,async(_0x3e731c,_0x20c71b)=>{const _0xdfd707=_0x2b2893;let _0x51fa7b=_0x3e731c[_0xdfd707(0x334)];f[_0xdfd707(0x5d0)](_0xdfd707(0x6ef)),f[_0xdfd707(0x5d0)](_0xdfd707(0x3c1)),f[_0xdfd707(0x5d0)](_0x3e731c[_0xdfd707(0x334)]);let _0x79a72e=await this['dataValidate']({'request':_0x3e731c,'schema':M,'ClassRef':E,'execute':_0x19a909=>T[_0xdfd707(0x3da)](_0x19a909,_0x51fa7b)});_0x20c71b[_0xdfd707(0x1d6)](0xc8)[_0xdfd707(0x498)](_0x79a72e);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)](_0x2b2893(0x3fd)),..._0x1bf34b,async(_0x4558c4,_0x570bfc)=>{const _0x2f2473=_0x2b2893;let _0x20a3d2=_0x4558c4['body'];f[_0x2f2473(0x5d0)](_0x2f2473(0x503)),f[_0x2f2473(0x5d0)](_0x2f2473(0x3c1)),f[_0x2f2473(0x5d0)](_0x4558c4[_0x2f2473(0x334)]);let _0x46156c=await this[_0x2f2473(0x35d)]({'request':_0x4558c4,'schema':M,'ClassRef':E,'execute':_0x4d34d4=>T[_0x2f2473(0x2c8)](_0x4d34d4,_0x20a3d2)});_0x570bfc[_0x2f2473(0x1d6)](0xc8)[_0x2f2473(0x498)](_0x46156c);})[_0x2b2893(0x313)](this[_0x2b2893(0x358)](_0x2b2893(0x299)),..._0x1bf34b,async(_0x504dc8,_0x4b5438)=>{const _0x5adf1b=_0x2b2893;let _0x1d5da7=_0x504dc8[_0x5adf1b(0x334)];f[_0x5adf1b(0x5d0)](_0x5adf1b(0x63c)),f[_0x5adf1b(0x5d0)](_0x5adf1b(0x3c1)),f[_0x5adf1b(0x5d0)](_0x504dc8[_0x5adf1b(0x334)]);let _0xfde637=await this['dataValidate']({'request':_0x504dc8,'schema':M,'ClassRef':E,'execute':_0xb1d45c=>T[_0x5adf1b(0x492)](_0xb1d45c,_0x1d5da7)});_0x4b5438['status'](0xc8)[_0x5adf1b(0x498)](_0xfde637);})['delete'](this[_0x2b2893(0x358)](_0x2b2893(0x31e)),..._0x1bf34b,async(_0x94feb5,_0x45b749)=>{const _0x3467b0=_0x2b2893;let _0x13cc4c=_0x94feb5[_0x3467b0(0x334)];f[_0x3467b0(0x5d0)](_0x3467b0(0x62f)),f[_0x3467b0(0x5d0)](_0x3467b0(0x3c1)),f[_0x3467b0(0x5d0)](_0x94feb5[_0x3467b0(0x334)]);let _0x59b56b=await this[_0x3467b0(0x35d)]({'request':_0x94feb5,'schema':M,'ClassRef':E,'execute':_0x48eadc=>T[_0x3467b0(0x3a7)](_0x48eadc,_0x13cc4c)});_0x45b749['status'](0xc8)[_0x3467b0(0x498)](_0x59b56b);})[_0x2b2893(0x5f2)](this['routerPath'](_0x2b2893(0x39c)),..._0x1bf34b,async(_0x3acdeb,_0x470e87)=>{const _0x442538=_0x2b2893;f[_0x442538(0x5d0)](_0x442538(0x707));let _0x211d8e=await this[_0x442538(0x35d)]({'request':_0x3acdeb,'schema':M,'ClassRef':E,'execute':_0x2e9fa4=>T['allFlows'](_0x2e9fa4)});_0x470e87[_0x442538(0x1d6)](0xc8)[_0x442538(0x498)](_0x211d8e);});}},cr=R(require(a0_0x4d4566(0x4b0))),X={};function or(_0x2b43d0,_0x3bc535,_0x2e4eb9,_0x3c669b){X[_0x2b43d0]||(X[_0x2b43d0]={}),X[_0x2b43d0][_0x3bc535]={'id':_0x3bc535,'response':_0x2e4eb9,'events':_0x3c669b};}function ir(_0x44f57b,_0x413af3){!X[_0x44f57b]||!X[_0x44f57b][_0x413af3]||delete X[_0x44f57b][_0x413af3];}function j(_0x5bb73f,_0x4093c0,_0x1a92c0){const _0x46a58d=a0_0x4d4566;if(!X[_0x5bb73f])return;let _0x44fd6c='data:\x20'+JSON[_0x46a58d(0x4a7)](_0x1a92c0)+'\x0a\x0a';Object['values'](X[_0x5bb73f])['forEach'](_0x3ca3ae=>{const _0x34e9db=_0x46a58d;_0x3ca3ae[_0x34e9db(0x59a)][_0x34e9db(0x5a9)](_0x4093c0)&&_0x3ca3ae['response']['write'](_0x44fd6c);});}function nr(){const _0x2c0956=a0_0x4d4566;let _0x5083f9={};for(let _0x342e63 in X)_0x5083f9[_0x342e63]=Object['values'](X[_0x342e63])['map'](_0x3058de=>({'id':_0x3058de['id'],'events':_0x3058de[_0x2c0956(0x59a)]}));return _0x5083f9;}var lr=require('uuid'),ms=require(a0_0x4d4566(0x4f0)),hs=class{},no=new ms['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new ms[(a0_0x4d4566(0x5e3))]({'_id':{'type':String,'default':a0_0x4d4566(0x6a0)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=N?.[a0_0x4d4566(0x4d5)](hs['name'],co,a0_0x4d4566(0x12b)),lo=cr['default'][a0_0x4d4566(0x3f7)](__dirname,a0_0x4d4566(0x3ea)),vt=(0x0,Mt[a0_0x4d4566(0x694)])(),uo=b[a0_0x4d4566(0x5f2)]('AUTHENTICATION')[a0_0x4d4566(0x5c3)],te=[ma,fa,ba[uo]];vt['use']('/media',Mt[a0_0x4d4566(0x10e)][a0_0x4d4566(0x1a8)](lo))[a0_0x4d4566(0x5f2)](a0_0x4d4566(0x301),async(_0x17d330,_0x398173)=>{const _0x33c375=a0_0x4d4566;console[_0x33c375(0x2ab)](_0x33c375(0x5bb));let _0x4f9758=_0x17d330[_0x33c375(0x4ed)]['instance'],_0x17bbcd=(_0x17d330[_0x33c375(0x3ac)][_0x33c375(0x59a)]||'')[_0x33c375(0x4e4)](','),_0x129d62=(0x0,lr['v4'])();console['log']('Instance\x20ID:',_0x4f9758),console[_0x33c375(0x2ab)]('Subscribed\x20Events:',_0x17bbcd);let _0x18f256=b[_0x33c375(0x5f2)](_0x33c375(0x3d4))['API_KEY'],_0x1cd791=_0x17d330[_0x33c375(0x3ac)][_0x33c375(0x269)];if(console['log'](_0x33c375(0x27d),_0x1cd791),_0x18f256[_0x33c375(0x441)]!==_0x1cd791){console['log']('env.KEY\x20!==\x20key');try{let _0x127b9b=await ce[_0x33c375(0x289)][_0x33c375(0x4df)](_0x4f9758);if(console['log'](_0x33c375(0x3cf),_0x127b9b),!_0x127b9b||_0x127b9b[_0x33c375(0x269)]!==_0x1cd791)return console[_0x33c375(0x2ab)](_0x33c375(0x3bf)),_0x398173[_0x33c375(0x1d6)](0x191)[_0x33c375(0x4ee)]('API\x20Key\x20inválida.');}catch(_0x5f265c){return console[_0x33c375(0x55a)](_0x33c375(0x72f),_0x5f265c),_0x398173[_0x33c375(0x1d6)](0x191)[_0x33c375(0x4ee)](_0x33c375(0x60f));}}if(!await We(_0x4f9758))return _0x398173['status'](0x194)[_0x33c375(0x4ee)](_0x33c375(0x188));_0x398173['setHeader'](_0x33c375(0x649),'text/event-stream'),_0x398173[_0x33c375(0x56c)](_0x33c375(0x34c),'no-cache'),_0x398173[_0x33c375(0x56c)](_0x33c375(0x4e7),_0x33c375(0x1aa)),_0x398173[_0x33c375(0x3cb)]();let _0x384248='data:\x20'+JSON[_0x33c375(0x4a7)]({'info':_0x33c375(0x128)})+'\x0a\x0a';_0x398173[_0x33c375(0x495)](_0x384248),or(_0x4f9758,_0x129d62,_0x398173,_0x17bbcd),_0x17d330['on']('close',()=>{const _0x270e65=_0x33c375;console[_0x270e65(0x2ab)](_0x270e65(0x153)+_0x4f9758),ir(_0x4f9758,_0x129d62);});}),vt['get'](a0_0x4d4566(0x432),(_0x5859af,_0x35d5ff)=>{const _0x382324=a0_0x4d4566;let _0x4e8fc0=nr();_0x35d5ff[_0x382324(0x498)](_0x4e8fc0);})['get']('/',(_0x595ee0,_0xf58a0e)=>{const _0x57cc31=a0_0x4d4566;let _0x37d7db=b[_0x57cc31(0x5f2)]('SSL_CONF'),_0x466c90=_0x37d7db&&_0x37d7db[_0x57cc31(0x44d)][_0x57cc31(0x4e4)]('/')[0x4];if(_0x466c90){let _0xa072b=encodeURIComponent(_0x57cc31(0x429)+_0x466c90);_0xf58a0e[_0x57cc31(0x4b8)](_0x57cc31(0x325)+_0xa072b);}else _0xf58a0e[_0x57cc31(0x4b8)](_0x57cc31(0x45e));})['put'](a0_0x4d4566(0x377),...te,async(_0x521dc3,_0x2c62e6)=>{const _0xcb09d=a0_0x4d4566;try{console[_0xcb09d(0x2ab)](_0xcb09d(0x623)),_0x2c62e6['status'](0xc8)['json']({'message':_0xcb09d(0x615)}),_0x2c62e6['on']('finish',()=>process['exit'](0x0));}catch(_0x2feab5){console[_0xcb09d(0x55a)](_0xcb09d(0x16c),_0x2feab5),_0x2c62e6[_0xcb09d(0x1d6)](0x1f4)['json']({'message':_0xcb09d(0x62d)});}})[a0_0x4d4566(0xfe)](a0_0x4d4566(0x295),...te,async(_0x231a23,_0x5cd70e)=>{const _0x47164a=a0_0x4d4566;try{let _0x56312b=_0x231a23[_0x47164a(0x334)];await ye[_0x47164a(0x2e6)]({},{'$set':_0x56312b},{'upsert':!0x0});let _0x4213cb=await ye[_0x47164a(0x513)]();_0x5cd70e['json'](_0x4213cb);}catch(_0x56a8a4){_0x5cd70e[_0x47164a(0x1d6)](0x190)['send'](_0x56a8a4[_0x47164a(0x604)]);}})[a0_0x4d4566(0x5f2)](a0_0x4d4566(0x295),...te,async(_0x87209b,_0x234d58)=>{const _0x22cbc3=a0_0x4d4566;try{let _0x31f81a=await ye['findOne']();if(!_0x31f81a)return _0x234d58[_0x22cbc3(0x498)]({});_0x234d58[_0x22cbc3(0x498)](_0x31f81a);}catch(_0xd0361d){_0x234d58['status'](0x1f4)[_0x22cbc3(0x4ee)](_0xd0361d['message']);}})[a0_0x4d4566(0x6de)]('/instance',new ct(b,...te)[a0_0x4d4566(0x281)])[a0_0x4d4566(0x6de)](a0_0x4d4566(0x2dd),new bt(...te)[a0_0x4d4566(0x281)])['use']('/chat',new Xe(...te)[a0_0x4d4566(0x281)])[a0_0x4d4566(0x6de)](a0_0x4d4566(0x111),new nt(...te)[a0_0x4d4566(0x281)])['use'](a0_0x4d4566(0x5fa),new Et(...te)[a0_0x4d4566(0x281)])[a0_0x4d4566(0x6de)]('/automate',new Ct(...te)[a0_0x4d4566(0x281)]);var m=class{constructor(..._0x48bf81){const _0xc7d3b9=a0_0x4d4566;throw{'status':0x190,'error':_0xc7d3b9(0x4ec),'message':_0x48bf81[_0xc7d3b9(0x4d8)]>0x0?_0x48bf81:void 0x0};}},ee=class{constructor(..._0x4501db){const _0x3b4f4b=a0_0x4d4566;throw{'status':0x191,'error':_0x3b4f4b(0x645),'message':_0x4501db[_0x3b4f4b(0x4d8)]>0x0?_0x4501db:void 0x0};}},K=class{constructor(..._0x431493){const _0x25b8c0=a0_0x4d4566;throw{'status':0x193,'error':'Forbidden','message':_0x431493[_0x25b8c0(0x4d8)]>0x0?_0x431493:void 0x0};}},F=class{constructor(..._0x60246e){const _0x36d6a7=a0_0x4d4566;throw{'status':0x194,'error':_0x36d6a7(0x349),'message':_0x60246e[_0x36d6a7(0x4d8)]>0x0?_0x60246e:void 0x0};}},O=class{constructor(..._0x1ea67d){const _0x274089=a0_0x4d4566;throw{'status':0x1f4,'error':_0x274089(0x16a),'message':_0x1ea67d[_0x274089(0x4d8)]>0x0?_0x1ea67d:void 0x0};}},ue=require(a0_0x4d4566(0x5af));async function fs(_0x4e91f7){const _0x215bd1=a0_0x4d4566;let _0x1ab100=new v(fs['name']),_0x3d22c2=N[_0x215bd1(0x743)](),_0x251574=_0x3d22c2['db'](b[_0x215bd1(0x5f2)](_0x215bd1(0x33f))[_0x215bd1(0x6aa)]['DB_PREFIX_NAME']+_0x215bd1(0x673))[_0x215bd1(0x117)](_0x4e91f7),_0x379b13=async(_0x31094a,_0x2baabd)=>{const _0x1aef6c=_0x215bd1;try{return await _0x3d22c2[_0x1aef6c(0x248)](),await _0x251574[_0x1aef6c(0x506)]({'_id':_0x2baabd},JSON[_0x1aef6c(0x330)](JSON['stringify'](_0x31094a,ue[_0x1aef6c(0x541)][_0x1aef6c(0x2ee)])),{'upsert':!0x0});}catch{}},_0x4fe339=async _0x269420=>{const _0xe39f2c=_0x215bd1;try{await _0x3d22c2[_0xe39f2c(0x248)]();let _0x153150=await _0x251574[_0xe39f2c(0x513)]({'_id':_0x269420}),_0x6249a8=JSON['stringify'](_0x153150);return JSON[_0xe39f2c(0x330)](_0x6249a8,ue['BufferJSON']['reviver']);}catch{}},_0xddbb92=async _0x548920=>{const _0x131834=_0x215bd1;try{return await _0x3d22c2[_0x131834(0x248)](),await _0x251574[_0x131834(0x4a3)]({'_id':_0x548920});}catch{}},_0x5e718f=await _0x4fe339(_0x215bd1(0x2e5))||(0x0,ue[_0x215bd1(0x609)])();return{'state':{'creds':_0x5e718f,'keys':{'get':async(_0xc3fad7,_0xdb7b0d)=>{const _0x534743=_0x215bd1;let _0x46c90a={};return await Promise[_0x534743(0x5da)](_0xdb7b0d[_0x534743(0x5ac)](async _0x5f0374=>{const _0x54f8f8=_0x534743;let _0x2cd715=await _0x4fe339(_0xc3fad7+'-'+_0x5f0374);_0xc3fad7===_0x54f8f8(0x2ad)&&_0x2cd715&&(_0x2cd715=ue['proto'][_0x54f8f8(0x5f3)]['AppStateSyncKeyData'][_0x54f8f8(0x194)](_0x2cd715)),_0x46c90a[_0x5f0374]=_0x2cd715;})),_0x46c90a;},'set':async _0x167e81=>{const _0xbbd69d=_0x215bd1;let _0x1c79f9=[];for(let _0x9ef2ca in _0x167e81)for(let _0x3ad00c in _0x167e81[_0x9ef2ca]){let _0x481f87=_0x167e81[_0x9ef2ca][_0x3ad00c],_0x47a907=_0x9ef2ca+'-'+_0x3ad00c;_0x1c79f9[_0xbbd69d(0x52c)](_0x481f87?_0x379b13(_0x481f87,_0x47a907):_0xddbb92(_0x47a907));}await Promise[_0xbbd69d(0x5da)](_0x1c79f9);}}},'saveCreds':async()=>_0x379b13(_0x5e718f,_0x215bd1(0x2e5))};}var Es=R(require('long')),Cs=R(require('node-cache')),Tt=require(a0_0x4d4566(0x5af)),ur=require(a0_0x4d4566(0x1c1)),Rt=require(a0_0x4d4566(0x5af)),Nt;function po(_0x2b3dd1){const _0x4a3808=a0_0x4d4566;return Nt||(Nt=(0x0,ur['createClient'])({'url':_0x2b3dd1[_0x4a3808(0x338)]}),Nt[_0x4a3808(0x248)]()),Nt;}var re=class c{constructor(_0x1f25f1,_0x31564e){const _0x2db49a=a0_0x4d4566;this['redisEnv']=_0x1f25f1,this[_0x2db49a(0x3fa)]=_0x31564e,this[_0x2db49a(0x5cc)]=new v(c[_0x2db49a(0x270)]),this[_0x2db49a(0x169)]=po(_0x1f25f1);}set[a0_0x4d4566(0x6bd)](_0x34f187){const _0x455258=a0_0x4d4566;this[_0x455258(0x3fa)]=_0x34f187;}async[a0_0x4d4566(0x3dc)](){const _0x3a86ca=a0_0x4d4566;try{return await this[_0x3a86ca(0x169)]['sendCommand'](['keys',this[_0x3a86ca(0x4aa)][_0x3a86ca(0x5d3)]+':*']);}catch(_0x1fe3a8){this[_0x3a86ca(0x5cc)][_0x3a86ca(0x55a)](_0x1fe3a8);}}async[a0_0x4d4566(0x4f4)](_0x979849,_0x59c8e6){const _0xf6e1be=a0_0x4d4566;try{let _0x446461=JSON[_0xf6e1be(0x4a7)](_0x59c8e6,Rt[_0xf6e1be(0x541)][_0xf6e1be(0x2ee)]);return await this['client'][_0xf6e1be(0x227)](this[_0xf6e1be(0x4aa)]['PREFIX_KEY']+':'+this[_0xf6e1be(0x3fa)],_0x979849,_0x446461);}catch(_0xd553d1){this['logger'][_0xf6e1be(0x55a)](_0xd553d1);}}async['getAllData'](){const _0x59e9d3=a0_0x4d4566;try{let _0x2b3953=await this[_0x59e9d3(0x169)][_0x59e9d3(0x514)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x59e9d3(0x3fa)]);if(_0x2b3953){for(let _0x525066 in _0x2b3953)Object['prototype'][_0x59e9d3(0x60b)][_0x59e9d3(0x4b5)](_0x2b3953,_0x525066)&&(_0x2b3953[_0x525066]=JSON[_0x59e9d3(0x330)](_0x2b3953[_0x525066],Rt[_0x59e9d3(0x541)][_0x59e9d3(0x366)]));return _0x2b3953;}}catch(_0x2c84a8){this['logger']['error'](_0x2c84a8);}}async[a0_0x4d4566(0x529)](_0x5454e0){const _0x416422=a0_0x4d4566;try{let _0x14babf=await this['client']['hGet'](this[_0x416422(0x4aa)][_0x416422(0x5d3)]+':'+this[_0x416422(0x3fa)],_0x5454e0);if(_0x14babf)return JSON[_0x416422(0x330)](_0x14babf,Rt[_0x416422(0x541)]['reviver']);}catch(_0xab42b6){this[_0x416422(0x5cc)]['error'](_0xab42b6);}}async[a0_0x4d4566(0x666)](_0x4dfc26){const _0x26aff5=a0_0x4d4566;try{return await this[_0x26aff5(0x169)][_0x26aff5(0x1b3)](this[_0x26aff5(0x4aa)][_0x26aff5(0x5d3)]+':'+this[_0x26aff5(0x3fa)],_0x4dfc26);}catch(_0x42f64a){this[_0x26aff5(0x5cc)][_0x26aff5(0x55a)](_0x42f64a);}}async[a0_0x4d4566(0x10a)](_0x37a886){const _0xf32491=a0_0x4d4566;try{return await this['client'][_0xf32491(0x322)](_0x37a886||this[_0xf32491(0x4aa)][_0xf32491(0x5d3)]+':'+this['instanceName']);}catch(_0x58e2f2){this[_0xf32491(0x5cc)][_0xf32491(0x55a)](_0x58e2f2);}}};async function ys(_0x1f6753,_0xfeca85){const _0x90f5e3=a0_0x4d4566;let _0x41b6b9=new v(ys[_0x90f5e3(0x270)]),_0x109671=new re(_0x1f6753,_0xfeca85),_0x3cbb31=async(_0xe3a0ba,_0x4b1a7b)=>{const _0x242fd8=_0x90f5e3;try{return await _0x109671[_0x242fd8(0x4f4)](_0x4b1a7b,_0xe3a0ba);}catch(_0x5ebc09){return _0x41b6b9[_0x242fd8(0x55a)]({'localError':_0x242fd8(0x4f4),'error':_0x5ebc09});}},_0x166106=async _0x4de9e5=>{const _0xd1deaa=_0x90f5e3;try{return await _0x109671[_0xd1deaa(0x529)](_0x4de9e5);}catch(_0x57a138){_0x41b6b9['error']({'readData':'writeData','error':_0x57a138});return;}},_0x3e4f43=async _0x331902=>{const _0x25e12e=_0x90f5e3;try{return await _0x109671[_0x25e12e(0x666)](_0x331902);}catch(_0x5b1737){_0x41b6b9[_0x25e12e(0x55a)]({'readData':_0x25e12e(0x666),'error':_0x5b1737});}},_0x542245=await _0x166106('creds')||(0x0,Tt[_0x90f5e3(0x609)])();return{'state':{'creds':_0x542245,'keys':{'get':async(_0x25e669,_0x1a7e67)=>{const _0x66c4ab=_0x90f5e3;let _0xb02103={};return await Promise[_0x66c4ab(0x5da)](_0x1a7e67[_0x66c4ab(0x5ac)](async _0x514597=>{const _0x408809=_0x66c4ab;let _0x2b036a=await _0x166106(_0x25e669+'-'+_0x514597);_0x25e669===_0x408809(0x2ad)&&_0x2b036a&&(_0x2b036a=Tt[_0x408809(0x59d)][_0x408809(0x5f3)][_0x408809(0x253)][_0x408809(0x194)](_0x2b036a)),_0xb02103[_0x514597]=_0x2b036a;})),_0xb02103;},'set':async _0x44f23d=>{const _0x19b566=_0x90f5e3;let _0x3c5220=[];for(let _0x2b0119 in _0x44f23d)for(let _0x28fcdf in _0x44f23d[_0x2b0119]){let _0x1e79cd=_0x44f23d[_0x2b0119][_0x28fcdf],_0x2b1ad9=_0x2b0119+'-'+_0x28fcdf;_0x3c5220[_0x19b566(0x52c)](_0x1e79cd?await _0x3cbb31(_0x1e79cd,_0x2b1ad9):await _0x3e4f43(_0x2b1ad9));}await Promise[_0x19b566(0x5da)](_0x3c5220);}}},'saveCreds':async()=>await _0x3cbb31(_0x542245,_0x90f5e3(0x2e5))};}var L=R(require('fs')),Me=require(a0_0x4d4566(0x44a)),It=R(require(a0_0x4d4566(0x6ad))),wr=require('proxy-agent'),go=a0_0x4d4566(0x24f)[a0_0x4d4566(0x34f)](),ws=go[a0_0x4d4566(0x4e4)]('\x0a')['map'](_0x39452c=>{const _0x2a7dec=a0_0x4d4566;let _0x43b3b0=_0x39452c[_0x2a7dec(0x4e4)](':');return{'host':_0x43b3b0[0x0],'port':_0x43b3b0[0x1],'username':_0x43b3b0[0x2],'password':_0x43b3b0[0x3],'protocol':_0x2a7dec(0x59c)};});function dr(){const _0x10ff1d=a0_0x4d4566;if(ws[_0x10ff1d(0x4d8)]===0x0)return null;let _0x28c31c=Math[_0x10ff1d(0x422)](Math[_0x10ff1d(0x13b)]()*ws['length']);return ws[_0x28c31c];}function bs(_0x4f47f4){const _0x478807=a0_0x4d4566;return _0x4f47f4&&_0x4f47f4[_0x478807(0x13c)]&&_0x4f47f4[_0x478807(0x61f)]&&_0x4f47f4[_0x478807(0x342)]&&_0x4f47f4[_0x478807(0x6e6)];}var br=a0_0x4d4566(0x179),Ms,oe=null,pr=null,He=null,ho=0x3,mo=null,Sr=!0x1;async function fo(){const _0x8194a8=a0_0x4d4566;let _0x4d4409=await ye['findOne']();oe=_0x4d4409?.[_0x8194a8(0x60a)]??null,mo=_0x4d4409?.['DaysToDelete']??null,br=_0x4d4409?.[_0x8194a8(0x235)]??_0x8194a8(0x179),Ms=_0x4d4409?.['connectedName']??vs??_0x8194a8(0x25d),Sr=_0x4d4409?.[_0x8194a8(0x3f2)]??!0x1,console['log'](_0x8194a8(0x3c7)),console['log'](_0x4d4409);}async function yo(){await fo();}yo();function $(_0x12b82c){const _0x5551d4=a0_0x4d4566;if(_0x12b82c['viewOnceMessage']||_0x12b82c[_0x5551d4(0x5a1)]){let _0x3a5aa3=_0x12b82c[_0x5551d4(0x29c)]?_0x12b82c[_0x5551d4(0x29c)][_0x5551d4(0x604)]:_0x12b82c[_0x5551d4(0x5a1)][_0x5551d4(0x604)];return(0x0,w[_0x5551d4(0x550)])(_0x3a5aa3);}return _0x12b82c[_0x5551d4(0x61b)]?_0x5551d4(0x61b):_0x12b82c[_0x5551d4(0x467)]?_0x5551d4(0x467):_0x12b82c[_0x5551d4(0x46a)]?'viewOnceMessageV2Extension':(0x0,w[_0x5551d4(0x550)])(_0x12b82c);}var gr={},we=class c{constructor(_0x3c1562,_0x51fb5b,_0x5b2ea6){const _0x2f84a4=a0_0x4d4566;this[_0x2f84a4(0x57f)]=_0x3c1562,this[_0x2f84a4(0x32f)]=_0x51fb5b,this['repository']=_0x5b2ea6,this[_0x2f84a4(0x168)]=null,this[_0x2f84a4(0x5cc)]=new v(c[_0x2f84a4(0x270)]),this[_0x2f84a4(0x251)]={},this[_0x2f84a4(0x4b2)]={},this[_0x2f84a4(0x42a)]={'state':_0x2f84a4(0x17c)},this[_0x2f84a4(0x726)]=(0x0,q[_0x2f84a4(0x3f7)])(ae,_0x2f84a4(0x3ea)),this[_0x2f84a4(0x531)]=new Cs['default'](),this['userDevicesCache']=new Cs['default'](),this[_0x2f84a4(0x102)]=!0x1,this[_0x2f84a4(0x6b2)]={'status.instance':_0x2f84a4(0x6e1),'qrcode.updated':_0x2f84a4(0x5fd),'messages.upsert':_0x2f84a4(0x18a),'messages.update':_0x2f84a4(0x626),'send.message':_0x2f84a4(0x18a),'group.upsert':_0x2f84a4(0x3ae),'group.update':_0x2f84a4(0x3ae),'group-participants.update':_0x2f84a4(0x3ae),'connection.update':_0x2f84a4(0x6e1),'messages.set':_0x2f84a4(0x18a),'contacts.set':_0x2f84a4(0x362),'contacts.upsert':_0x2f84a4(0x362),'contacts.update':'/wa-contacts','presence.update':_0x2f84a4(0x3b2),'chats.set':_0x2f84a4(0x640),'chats.update':_0x2f84a4(0x640),'chats.upsert':_0x2f84a4(0x640),'chats.delete':_0x2f84a4(0x640)},this[_0x2f84a4(0x2cb)]=0x0,this[_0x2f84a4(0x2a4)]=[],this[_0x2f84a4(0x1f9)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this['isRunning']=!0x1,this[_0x2f84a4(0x1ba)]={'chats.upsert':async(_0x3790f3,_0x20f45a)=>{const _0x48e921=_0x2f84a4;let _0x2db7f0=[];for await(let _0x20e25f of _0x3790f3)_0x2db7f0[_0x48e921(0x52c)]({'_id':_0x20e25f['id'],'owner':this[_0x48e921(0x251)][_0x48e921(0x6bf)],'group':_0x20e25f['id'][_0x48e921(0x47e)](_0x48e921(0x6bc)),'name':_0x20e25f[_0x48e921(0x270)]||_0x20e25f['displayName']||null,'contactname':null,'lastmsg':_0x20e25f[_0x48e921(0x5ae)]&&_0x20e25f[_0x48e921(0x5ae)]['toString']()[_0x48e921(0x4d8)]<0xd?_0x20e25f[_0x48e921(0x5ae)]*0x3e8:_0x20e25f['conversationTimestamp']||null,'archived':_0x20e25f[_0x48e921(0x6d5)]||!0x1,'unreadcount':_0x20e25f[_0x48e921(0x384)]||0x0});this[_0x48e921(0x443)]('chats.upsert',_0x2db7f0);},'chats.update':async(_0x2fbe16,_0x5e4104)=>{const _0x4bb91a=_0x2f84a4;for(let _0x262d9c of _0x2fbe16){let _0x270d85={'_id':_0x262d9c['id'],'owner':this[_0x4bb91a(0x251)][_0x4bb91a(0x6bf)],'group':_0x262d9c['id'][_0x4bb91a(0x47e)]('@g.us'),'name':_0x262d9c['name']||_0x262d9c[_0x4bb91a(0x23c)],'archived':_0x262d9c[_0x4bb91a(0x6d5)],'ephemeralExpiration':_0x262d9c[_0x4bb91a(0x27c)]},_0x3ca82f=!0x1,_0x17024b={};_0x270d85[_0x4bb91a(0x6d5)]!=null&&(this[_0x4bb91a(0x5cc)][_0x4bb91a(0x5d0)](this[_0x4bb91a(0x3fa)]+'\x20('+this[_0x4bb91a(0x251)]['wuid']+_0x4bb91a(0x3fb)+_0x262d9c[_0x4bb91a(0x6d5)]),_0x3ca82f=!0x0,_0x17024b[_0x4bb91a(0x6d5)]=_0x262d9c['archived']),_0x262d9c[_0x4bb91a(0x270)]!=null&&(this[_0x4bb91a(0x5cc)][_0x4bb91a(0x5d0)](this[_0x4bb91a(0x3fa)]+'\x20('+this[_0x4bb91a(0x251)][_0x4bb91a(0x6bf)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x262d9c[_0x4bb91a(0x270)]),_0x3ca82f=!0x0,_0x17024b[_0x4bb91a(0x270)]=_0x262d9c[_0x4bb91a(0x270)]),_0x262d9c['displayName']!=null&&(this[_0x4bb91a(0x5cc)][_0x4bb91a(0x5d0)](this[_0x4bb91a(0x3fa)]+'\x20('+this['instance'][_0x4bb91a(0x6bf)]+_0x4bb91a(0x32d)+_0x262d9c[_0x4bb91a(0x23c)]),_0x3ca82f=!0x0,_0x17024b[_0x4bb91a(0x270)]=_0x262d9c['displayName']);let _0x1f7672;_0x3ca82f&&(_0x1f7672=await this['repository'][_0x4bb91a(0x35b)][_0x4bb91a(0x2e6)]({'where':{'_id':_0x262d9c['id']}},_0x17024b,this[_0x4bb91a(0x251)][_0x4bb91a(0x6bf)])),_0x1f7672&&j(this[_0x4bb91a(0x3fa)],_0x4bb91a(0x372),{'chat':_0x1f7672});}},'chats.delete':async _0x2babf0=>{const _0x2b2e44=_0x2f84a4;this['sendDataWebhook'](_0x2b2e44(0x104),[..._0x2babf0]);}},this['contactHandle']={'contacts.upsert':async(_0x1ab4ea,_0x3c7e1c)=>{const _0x3b15b8=_0x2f84a4;let _0x3bb95f=await this[_0x3b15b8(0x5bc)][_0x3b15b8(0x12e)][_0x3b15b8(0x4df)]({'where':{}},this[_0x3b15b8(0x251)][_0x3b15b8(0x6bf)]),_0x3cf6ae=[];for await(let _0x2cf06d of _0x1ab4ea)_0x3bb95f[_0x3b15b8(0x4df)](_0x2c71e1=>_0x2c71e1[_0x3b15b8(0x218)]===_0x2cf06d['id'])||_0x3cf6ae['push']({'_id':_0x2cf06d['id'],'pushName':_0x2cf06d?.['name']||_0x2cf06d?.[_0x3b15b8(0x41c)],'owner':this['instance'][_0x3b15b8(0x6bf)]});this[_0x3b15b8(0x443)](_0x3b15b8(0x2eb),_0x3cf6ae),await this[_0x3b15b8(0x5bc)][_0x3b15b8(0x12e)][_0x3b15b8(0x431)](_0x3cf6ae);},'contacts.update':async(_0x5f0b05,_0x2f94d3)=>{const _0x172adf=_0x2f84a4;let _0x2e0a6b=[];for await(let _0x493aac of _0x5f0b05)_0x2e0a6b[_0x172adf(0x52c)]({'_id':_0x493aac['id'],'pushName':_0x493aac?.[_0x172adf(0x270)]??_0x493aac?.[_0x172adf(0x41c)],'owner':this[_0x172adf(0x251)][_0x172adf(0x6bf)]});this[_0x172adf(0x443)](_0x172adf(0x61e),_0x2e0a6b);}},this[_0x2f84a4(0x539)]={'messaging-history.set':async({messages:_0x244b88,chats:_0x1a8869,isLatest:_0x4dba55},_0x5d8bfe)=>{const _0x3eea92=_0x2f84a4;if(_0x4dba55){let _0x458a03=await Promise[_0x3eea92(0x5da)](_0x1a8869['map'](async _0x1ad50d=>({'_id':_0x1ad50d['id'],'owner':this['instance']['wuid'],'group':_0x1ad50d['id'][_0x3eea92(0x47e)](_0x3eea92(0x6bc)),'name':_0x1ad50d[_0x3eea92(0x270)]||_0x1ad50d[_0x3eea92(0x23c)]||null,'contactname':null,'lastmsg':_0x1ad50d[_0x3eea92(0x5ae)]&&_0x1ad50d[_0x3eea92(0x5ae)][_0x3eea92(0x3bc)]()[_0x3eea92(0x4d8)]<0xd?_0x1ad50d[_0x3eea92(0x5ae)]*0x3e8:_0x1ad50d['conversationTimestamp']||null,'archived':_0x1ad50d[_0x3eea92(0x6d5)]||!0x1,'unreadcount':_0x1ad50d[_0x3eea92(0x384)]||0x0})));this[_0x3eea92(0x443)](_0x3eea92(0x28d),_0x458a03),await this[_0x3eea92(0x212)](_0x458a03,_0x5d8bfe);}let _0x5131af=[],_0x10545b=Date[_0x3eea92(0x43a)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x42cac3]of Object[_0x3eea92(0x3d7)](_0x244b88)){if(_0x42cac3[_0x3eea92(0x604)]?.[_0x3eea92(0x1c0)]||_0x42cac3['message']?.[_0x3eea92(0x1ad)]||!_0x42cac3['message']||_0x42cac3['key'][_0x3eea92(0x21e)]===_0x3eea92(0x4f9)||(Es[_0x3eea92(0x10e)][_0x3eea92(0x57c)](_0x42cac3?.['messageTimestamp'])&&(_0x42cac3[_0x3eea92(0xf7)]=_0x42cac3[_0x3eea92(0xf7)]?.[_0x3eea92(0x3d5)]()),_0x42cac3[_0x3eea92(0xf7)]&&_0x42cac3[_0x3eea92(0xf7)][_0x3eea92(0x3bc)]()['length']<0xd&&(_0x42cac3[_0x3eea92(0xf7)]=_0x42cac3[_0x3eea92(0xf7)]*0x3e8),_0x42cac3[_0x3eea92(0xf7)]<_0x10545b))continue;let {message_normalized:_0x1793b4}=this[_0x3eea92(0x2cd)](_0x42cac3[_0x3eea92(0x604)],$(_0x42cac3[_0x3eea92(0x604)]),null);Object[_0x3eea92(0x2d3)](_0x1793b4)['length']>0x0&&_0x5131af[_0x3eea92(0x52c)]({'_id':_0x42cac3['key']['id'],'key':_0x42cac3[_0x3eea92(0x583)],'pushName':_0x42cac3['pushName'],'participant':_0x42cac3[_0x3eea92(0x234)],'message':{..._0x42cac3[_0x3eea92(0x604)]},'messageType':$(_0x42cac3[_0x3eea92(0x604)]),'message_normalized':{'key':_0x42cac3[_0x3eea92(0x583)],'pushName':_0x42cac3[_0x3eea92(0x17a)],'messageTimestamp':_0x42cac3[_0x3eea92(0xf7)],..._0x1793b4},'messageTimestamp':_0x42cac3[_0x3eea92(0xf7)],'owner':this[_0x3eea92(0x251)][_0x3eea92(0x6bf)]});}_0x5d8bfe['ENABLED']&&_0x5131af['length']>0x0&&(this[_0x3eea92(0x5cc)][_0x3eea92(0x5d0)](this[_0x3eea92(0x3fa)]+'\x20('+this[_0x3eea92(0x251)]['wuid']+_0x3eea92(0x192)+_0x5131af[_0x3eea92(0x4d8)]+'\x20mensagens\x20de\x20'+this['instance']['wuid']+_0x3eea92(0x217)),await this[_0x3eea92(0x5bc)][_0x3eea92(0x604)]['insert']([..._0x5131af],this[_0x3eea92(0x251)][_0x3eea92(0x6bf)])),this[_0x3eea92(0x443)](_0x3eea92(0x121),[..._0x5131af]),_0x244b88=void 0x0;},'messages.upsert':async({messages:_0x4bc4f3,type:_0x5a0ecb},_0x140256)=>{const _0x535c04=_0x2f84a4;let _0x40b3dd=_0x4bc4f3[0x0];if(_0x5a0ecb!==_0x535c04(0x598)||!_0x40b3dd?.['message']||_0x40b3dd['message']?.['protocolMessage']||_0x40b3dd['message'][_0x535c04(0x1ad)]||_0x40b3dd[_0x535c04(0x583)][_0x535c04(0x21e)]===_0x535c04(0x4f9))return;let _0xa32c5f=null,_0x93ffb1=null;try{_0xa32c5f=await this[_0x535c04(0x25c)](_0x40b3dd),_0x93ffb1=_0xa32c5f?_0xa32c5f['join'](','):null;}catch(_0x85a3ed){this[_0x535c04(0x5cc)]['verbose'](this[_0x535c04(0x3fa)]+'\x20('+this['instance'][_0x535c04(0x6bf)]+_0x535c04(0x192)+(_0x85a3ed instanceof Error?_0x85a3ed[_0x535c04(0x604)]:JSON[_0x535c04(0x4a7)](_0x85a3ed,null,0x2))),_0x93ffb1=_0x535c04(0x244);}if(this[_0x535c04(0x169)][_0x535c04(0x3b6)](_0x535c04(0x742)),Es['default'][_0x535c04(0x57c)](_0x40b3dd[_0x535c04(0xf7)])&&(_0x40b3dd[_0x535c04(0xf7)]=_0x40b3dd[_0x535c04(0xf7)]?.[_0x535c04(0x3d5)]()),this['localWebhook']?.[_0x535c04(0x11c)]&&_0x40b3dd[_0x535c04(0x583)][_0x535c04(0x21e)]['includes'](_0x535c04(0x6bc))){this[_0x535c04(0x5cc)]['verbose'](_0x535c04(0x4ef));return;}_0x40b3dd[_0x535c04(0xf7)]&&_0x40b3dd[_0x535c04(0xf7)][_0x535c04(0x3bc)]()[_0x535c04(0x4d8)]<0xd&&(_0x40b3dd[_0x535c04(0xf7)]=_0x40b3dd[_0x535c04(0xf7)]*0x3e8);let _0x2c3b9f=_0x40b3dd[_0x535c04(0x604)],{messageContent:_0x329200,message_normalized:_0x2fbeb2}=this[_0x535c04(0x2cd)](_0x2c3b9f,$(_0x40b3dd['message']),_0x93ffb1);_0x329200||console[_0x535c04(0x55a)]('Mensagem\x20não\x20suportada');let _0x56cd4a={'_id':_0x40b3dd[_0x535c04(0x583)]['id'],'key':_0x40b3dd[_0x535c04(0x583)],'pushName':_0x40b3dd[_0x535c04(0x17a)],'message':{..._0x40b3dd[_0x535c04(0x604)]},'messageType':$(_0x40b3dd['message']),'message_normalized':{'key':_0x40b3dd[_0x535c04(0x583)],'pushName':_0x40b3dd[_0x535c04(0x17a)],'messageTimestamp':_0x40b3dd[_0x535c04(0xf7)],'source':(0x0,w[_0x535c04(0x6e5)])(_0x40b3dd['key']['id']),..._0x2fbeb2},'messageTimestamp':_0x40b3dd['messageTimestamp'],'owner':this[_0x535c04(0x251)]['wuid'],'source':(0x0,w[_0x535c04(0x6e5)])(_0x40b3dd[_0x535c04(0x583)]['id'])};this[_0x535c04(0x5cc)][_0x535c04(0x2ab)](_0x56cd4a),await this[_0x535c04(0x5bc)][_0x535c04(0x604)]['insert']([_0x56cd4a],this[_0x535c04(0x251)][_0x535c04(0x6bf)]),this['sendDataWebhook']('messages.upsert',_0x56cd4a),j(this[_0x535c04(0x3fa)],'messages',{'message':_0x56cd4a}),_0x40b3dd['key'][_0x535c04(0x21e)]!==_0x535c04(0x4f9)&&await this[_0x535c04(0x423)](_0x140256,_0x56cd4a,'MESSAGES_UPSERT');},'messages.update':async(_0x33608e,_0x50617e)=>{const _0x3c6bc4=_0x2f84a4;let _0x551da4={0x0:_0x3c6bc4(0x18e),0x1:'PENDING',0x2:_0x3c6bc4(0x528),0x3:_0x3c6bc4(0x258),0x4:'READ',0x5:_0x3c6bc4(0x296)};for await(let {key:_0x283111,update:_0x11ca09}of _0x33608e){if(this[_0x3c6bc4(0x4b2)]?.[_0x3c6bc4(0x11c)]&&_0x283111['remoteJid'][_0x3c6bc4(0x5a9)](_0x3c6bc4(0x6bc))){this[_0x3c6bc4(0x5cc)]['verbose'](_0x3c6bc4(0x4ef));return;}if(_0x283111[_0x3c6bc4(0x21e)]!==_0x3c6bc4(0x4f9)){let _0x3fe070=Date[_0x3c6bc4(0x43a)](),_0x435420;_0x11ca09[_0x3c6bc4(0x604)]===null&&_0x11ca09[_0x3c6bc4(0x1d6)]===void 0x0?_0x435420='DELETED':_0x435420=_0x551da4[_0x11ca09['status']];let _0x2c103b=_0x283111['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x28eca6={..._0x283111,'remoteJid':_0x2c103b,'status':_0x435420,'datetime':_0x3fe070,'owner':this['instance']['wuid']};this[_0x3c6bc4(0x443)](_0x3c6bc4(0x2f5),_0x28eca6),await this[_0x3c6bc4(0x437)](_0x283111,_0x28eca6);}}},'labels.association':async({type:_0xcd0473,association:_0x17e9dc})=>{const _0x60f147=_0x2f84a4;if(_0x17e9dc['type']==='label_jid'){let _0x1a99ba,_0x5ef1ae=0x0;for(;!_0x1a99ba&&_0x5ef1ae<this['delayChatLabel_MAX_RETRIES'];)_0x1a99ba=await this[_0x60f147(0x5bc)][_0x60f147(0x35b)][_0x60f147(0x513)]({'where':{'_id':_0x17e9dc[_0x60f147(0x3c3)]}},this[_0x60f147(0x251)][_0x60f147(0x6bf)]),_0x1a99ba||(_0x5ef1ae++,console[_0x60f147(0x2ab)](_0x60f147(0x4cc)+_0x17e9dc['chatId']+_0x60f147(0x565)+this['delayChatLabel_RETRY_DELAY_MS']+'ms\x20(Attempt\x20'+_0x5ef1ae+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x60f147(0x3c5)](this[_0x60f147(0x2d0)]));if(!_0x1a99ba){console['error'](_0x60f147(0x6cc)+_0x17e9dc[_0x60f147(0x3c3)]+'\x20after\x20'+this[_0x60f147(0x261)]+'\x20attempts.');return;}switch(_0xcd0473){case'add':console['log'](_0x17e9dc),await this[_0x60f147(0x5bc)][_0x60f147(0x35b)]['updateOne']({'where':{'_id':_0x17e9dc['chatId']}},{'leadInfo.etiquetas':_0x17e9dc[_0x60f147(0x549)]},this[_0x60f147(0x251)]['wuid'],void 0x0,_0x60f147(0x567));break;case'remove':console[_0x60f147(0x2ab)](_0x17e9dc),await this[_0x60f147(0x5bc)]['chat']['updateOne']({'where':{'_id':_0x17e9dc['chatId']}},{'leadInfo.etiquetas':_0x17e9dc[_0x60f147(0x549)]},this[_0x60f147(0x251)][_0x60f147(0x6bf)],void 0x0,_0x60f147(0x612));break;default:console[_0x60f147(0x55a)](_0x60f147(0x676)+_0xcd0473+']');}}},'labels.edit':async _0x409c0a=>{const _0x14eaf3=_0x2f84a4;if(!_0x409c0a||!_0x409c0a['id']){console['error'](_0x14eaf3(0x6e3));return;}if(!_0x409c0a[_0x14eaf3(0x693)]){let _0x2016b6=['#ff9484',_0x14eaf3(0x1b6),'#fed428','#dfaef0','#9ab6c1',_0x14eaf3(0x617),_0x14eaf3(0x232),_0x14eaf3(0x740),_0x14eaf3(0x156),'#d8e651','#01d0e2',_0x14eaf3(0x55b),'#92ceac',_0x14eaf3(0x1a3),_0x14eaf3(0x4bc),_0x14eaf3(0x250),_0x14eaf3(0x33b),_0x14eaf3(0x4e3),_0x14eaf3(0x559),_0x14eaf3(0x6e9)],_0x25a485;typeof _0x409c0a['color']==_0x14eaf3(0x43c)&&_0x409c0a['color']>=0x0&&_0x409c0a['color']<_0x2016b6[_0x14eaf3(0x4d8)]?_0x25a485=_0x2016b6[_0x409c0a['color']]:(console['error'](_0x14eaf3(0x28e),_0x409c0a[_0x14eaf3(0x5ab)]),_0x25a485=_0x14eaf3(0x591));let _0x175a5b={'_id':_0x409c0a['id'],'colorHex':_0x25a485,'color':_0x409c0a?.[_0x14eaf3(0x5ab)],'name':_0x409c0a?.[_0x14eaf3(0x270)],'owner':this[_0x14eaf3(0x251)]['wuid']};await this[_0x14eaf3(0x5bc)][_0x14eaf3(0x197)][_0x14eaf3(0x2e6)]({'where':{'_id':_0x409c0a['id']}},_0x175a5b,this[_0x14eaf3(0x251)][_0x14eaf3(0x6bf)]),console['log'](_0x14eaf3(0x662),_0x409c0a);}_0x409c0a['deleted']&&(await this['repository'][_0x14eaf3(0x197)][_0x14eaf3(0x4b6)]({'where':{'_id':_0x409c0a['id']}},this[_0x14eaf3(0x251)][_0x14eaf3(0x6bf)]),console[_0x14eaf3(0x2ab)](_0x14eaf3(0x675),_0x409c0a['id']));}},this[_0x2f84a4(0x3fe)]={'groups.upsert':_0x5ed123=>{this['sendDataWebhook']('groups.upsert',_0x5ed123);},'groups.update':_0x54e44a=>{const _0x4372bb=_0x2f84a4;this[_0x4372bb(0x443)](_0x4372bb(0x501),_0x54e44a);},'group-participants.update':_0x5476e9=>{const _0x27fff0=_0x2f84a4;this[_0x27fff0(0x443)](_0x27fff0(0x53a),_0x5476e9);}},this['delayChatLabel_MAX_RETRIES']=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x7d0,this[_0x2f84a4(0x25c)]=async _0x2daa64=>{const _0x51260a=_0x2f84a4;if(_0x2daa64['message']?.[_0x51260a(0x70a)]){let _0x51d982=await this[_0x51260a(0x2a7)](_0x2daa64[_0x51260a(0x604)][_0x51260a(0x70a)][_0x51260a(0x40c)],!0x0);if(_0x51d982){let _0x593c3c=_0x51d982[_0x51260a(0x583)]['fromMe']?this[_0x51260a(0x251)][_0x51260a(0x6bf)]+_0x51260a(0x50f):_0x51d982['key'][_0x51260a(0x234)]||_0x51d982[_0x51260a(0x583)][_0x51260a(0x21e)],_0x3891c2=_0x51d982[_0x51260a(0x583)]['id'],_0x3c1e40=_0x51d982['message'],_0x46cf95=Buffer[_0x51260a(0x66b)](_0x3c1e40[_0x51260a(0x1dd)][_0x51260a(0x48c)][_0x51260a(0x3bc)](_0x51260a(0x145)),'hex'),_0x15960d=(0x0,w[_0x51260a(0x717)])(_0x2daa64[_0x51260a(0x604)][_0x51260a(0x70a)][_0x51260a(0x534)],{'pollCreatorJid':_0x593c3c,'pollMsgId':_0x3891c2,'pollEncKey':_0x46cf95,'voterJid':_0x2daa64[_0x51260a(0x583)]['fromMe']?this[_0x51260a(0x251)]['wuid']+_0x51260a(0x50f):_0x2daa64['key']['remoteJid'][_0x51260a(0x47e)](_0x51260a(0x23b))?_0x2daa64[_0x51260a(0x583)][_0x51260a(0x234)]:_0x2daa64['key'][_0x51260a(0x21e)]}),_0x50870a=[],_0x168139=_0x15960d[_0x51260a(0x148)][_0x51260a(0x5ac)](_0x153c98=>Buffer[_0x51260a(0x66b)](_0x153c98)[_0x51260a(0x3bc)]('hex'));for(let {optionName:_0x49fcf7}of _0x3c1e40[_0x51260a(0x39e)]?.[_0x51260a(0x32b)]||_0x3c1e40[_0x51260a(0x61b)]?.[_0x51260a(0x32b)]||_0x3c1e40['pollCreationMessageV2']?.['options'])_0x168139[_0x51260a(0x320)]((0x0,w[_0x51260a(0x302)])(Buffer[_0x51260a(0x66b)](_0x49fcf7))[_0x51260a(0x3bc)](_0x51260a(0x145)))>-0x1&&_0x50870a[_0x51260a(0x52c)](_0x49fcf7);return _0x50870a;}}return null;},this['normalizeMessage']=(_0x46d278,_0x4fa2ff,_0x3164f7)=>{const _0x38beab=_0x2f84a4;try{let _0x16f8ef=_0x4fa2ff?_0x46d278[_0x4fa2ff]:void 0x0,_0x1db990={},_0x34c964=null,_0x3c2ab6=null,_0x5be00a=null;if(_0x46d278[_0x38beab(0x5a1)]?(_0x4fa2ff=$(_0x46d278[_0x38beab(0x5a1)][_0x38beab(0x604)]),_0x16f8ef=_0x46d278[_0x38beab(0x5a1)][_0x38beab(0x604)][_0x4fa2ff]):_0x46d278['viewOnceMessageV2Extension']?(_0x4fa2ff=$(_0x46d278[_0x38beab(0x46a)][_0x38beab(0x604)]),_0x16f8ef=_0x46d278['viewOnceMessageV2Extension'][_0x38beab(0x604)][_0x4fa2ff]):_0x46d278[_0x38beab(0x29c)]?(_0x4fa2ff=$(_0x46d278['viewOnceMessage']['message']),_0x16f8ef=_0x46d278['viewOnceMessage'][_0x38beab(0x604)][_0x4fa2ff]):_0x46d278['ephemeralMessage']?(_0x4fa2ff=$(_0x46d278['message'][_0x38beab(0x51e)]['message']),_0x16f8ef=_0x46d278[_0x38beab(0x604)]['ephemeralMessage'][_0x38beab(0x604)][_0x4fa2ff]):_0x46d278[_0x38beab(0x2a8)]?.[_0x38beab(0x604)]?.[_0x38beab(0x1c0)]?.[_0x38beab(0x2a8)]?(_0x4fa2ff=$(_0x46d278[_0x38beab(0x2a8)][_0x38beab(0x604)][_0x38beab(0x1c0)][_0x38beab(0x2a8)]),_0x34c964=_0x46d278['editedMessage']['message'][_0x38beab(0x1c0)][_0x38beab(0x583)]['id'],_0x16f8ef=_0x46d278[_0x38beab(0x2a8)][_0x38beab(0x604)][_0x38beab(0x1c0)][_0x38beab(0x2a8)][_0x4fa2ff]):_0x16f8ef=_0x46d278[_0x4fa2ff],!_0x4fa2ff||!_0x16f8ef)return console[_0x38beab(0x55a)]('Unknown\x20message\x20type\x20or\x20empty\x20message',_0x46d278),{'messageType':_0x4fa2ff,'messageContent':_0x16f8ef,'message_normalized':{}};_0x46d278[_0x4fa2ff]?.[_0x38beab(0x1ee)]?.['stanzaId']&&_0x46d278[_0x4fa2ff]?.['contextInfo']?.[_0x38beab(0x66a)]&&(_0x3c2ab6=_0x46d278[_0x4fa2ff][_0x38beab(0x1ee)]['stanzaId']),_0x46d278[_0x38beab(0x4c9)]&&(_0x5be00a=_0x46d278[_0x38beab(0x4c9)]['key']['id']);let _0x591486;if(_0x16f8ef&&typeof _0x16f8ef=='object'&&'pollCreationMessageKey'in _0x16f8ef&&({pollCreationMessageKey:_0x591486}=_0x16f8ef),_0x4fa2ff==='documentWithCaptionMessage'){let _0x17ea79=_0x16f8ef?.[_0x38beab(0x604)]?.[_0x38beab(0x444)];_0x17ea79&&(_0x16f8ef=_0x17ea79);}if(_0x4fa2ff==='pollCreationMessage'||_0x4fa2ff===_0x38beab(0x467)||_0x4fa2ff==='pollCreationMessageV3'){let _0x21ae56=_0x16f8ef[_0x38beab(0x32b)]['map'](_0x1427eb=>_0x1427eb[_0x38beab(0x1af)])[_0x38beab(0x3f7)]('|');_0x1db990[_0x38beab(0x16f)]=_0x21ae56;}let _0x2ca6c0=_0x16f8ef[_0x38beab(0x270)]||_0x16f8ef[_0x38beab(0x6fa)]||_0x16f8ef[_0x38beab(0x20c)]||_0x16f8ef[_0x38beab(0x23c)];if(_0x4fa2ff===_0x38beab(0x347)){_0x2ca6c0=(_0x16f8ef[_0x38beab(0x4af)]||'')+'\x0a'+(_0x16f8ef[_0x38beab(0x21d)]||'')+'\x0a'+(_0x16f8ef[_0x38beab(0x714)]||'');let _0x57e879=this[_0x38beab(0x2c9)](_0x16f8ef['sections']);_0x1db990['convertedOptions']=_0x57e879;}if(_0x4fa2ff==='listResponseMessage'&&(_0x3164f7=_0x16f8ef[_0x38beab(0x4af)]),_0x16f8ef[_0x38beab(0x2b9)]){let _0x4aa27=this['formatVCard'](JSON['stringify'](_0x16f8ef[_0x38beab(0x2b9)],null,0x2));_0x2ca6c0=_0x2ca6c0+'\x0a'+_0x4aa27;}if(_0x16f8ef){let {sections:_0x5791e7,listType:_0x2862dd,displayName:_0x489da9,vcard:_0x2fac7f,contactVcard:_0x5356db,name:_0x236b6b,caption:_0x48c5f7,conversation:_0x300185,pollCreationMessageKey:_0x31eef9,footerText:_0x459bba,contentText:_0x2fe782,pageCount:_0x132389,headerType:_0xacfb2e,isAvatar:_0x2c11f4,isAnimated:_0x5e6991,fallbackLc:_0x4d98cc,fallbackLg:_0x2d14b9,namespace:_0x34c353,elementName:_0x18031e,localizableParams:_0x46259c,viewOnce:_0x5deb96,height:_0x5ae644,width:_0x14c3a1,key:_0x50a55d,firstScanLength:_0x524feb,firstScanSidecar:_0x4dde36,gifPlayback:_0x44562f,gifAttribution:_0x5f0ff3,midQualityFileSha256:_0x2be7e1,scansSidecar:_0x50fafe,streamingSidecar:_0x3f838e,thumbnailHeight:_0x1f2d1a,thumbnailWidth:_0x381701,thumbnailEncSha256:_0x2970f4,thumbnailDirectPath:_0x909100,canonicalUrl:_0x3756ac,matchedText:_0x4d55d5,previewType:_0x5ab3d0,thumbnailSha256:_0x54aa20,deviceListMetadataVersion:_0x5de178,inviteLinkGroupTypeV2:_0x2780d6,interactiveAnnotations:_0x5005c6,scanLengths:_0x2ad519,jpegThumbnail:_0x580045,url:_0x55d1c4,mediaKeyTimestamp:_0x5ac291,waveform:_0x5e17e3,stickerSentTs:_0x4f452a,firstFrameLength:_0x5be7bd,fileEncSha256:_0x23ab7b,contextInfo:_0x483eec,firstFrameSidecar:_0x5b3404,directPath:_0x136f7f,fileSha256:_0x34faf9,mediaKey:_0x569676,senderTimestampMs:_0x1ab5c8,..._0x1e0711}=_0x16f8ef;(_0x4fa2ff===_0x38beab(0x347)||_0x4fa2ff==='listResponseMessage')&&(delete _0x1e0711[_0x38beab(0x4af)],delete _0x1e0711[_0x38beab(0x21d)]),typeof _0x16f8ef==_0x38beab(0x2c0)?_0x1db990={'text':_0x16f8ef,'type':_0x4fa2ff||'conversation',..._0x34c964&&{'edited':_0x34c964},..._0x3c2ab6&&{'quoted':_0x3c2ab6},..._0x5be00a&&{'reaction':_0x5be00a}}:_0x1db990={'text':_0x2ca6c0,..._0x1e0711,..._0x4fa2ff==='pollUpdateMessage'?{'poll_id':_0x16f8ef['pollCreationMessageKey']['id'],'quoted':_0x16f8ef[_0x38beab(0x40c)]['id'],'vote':_0x3164f7}:{},..._0x4fa2ff==='listResponseMessage'?{'vote':_0x3164f7}:{},'type':_0x4fa2ff,..._0x34c964&&{'edited':_0x34c964},..._0x3c2ab6&&{'quoted':_0x3c2ab6},..._0x5be00a&&{'reaction':_0x5be00a},...(_0x4fa2ff===_0x38beab(0x39e)||_0x4fa2ff===_0x38beab(0x467)||_0x4fa2ff===_0x38beab(0x61b)||_0x4fa2ff===_0x38beab(0x347))&&{'convertedOptions':_0x1db990[_0x38beab(0x16f)]}};}return{'messageType':_0x4fa2ff,'messageContent':_0x16f8ef,'message_normalized':_0x1db990};}catch(_0x539eb9){console[_0x38beab(0x55a)](_0x38beab(0x357),_0x539eb9);}},this[_0x2f84a4(0x206)]=null,this[_0x2f84a4(0x12c)]=0x0,this[_0x2f84a4(0x537)]=null,(this[_0x2f84a4(0x6e0)](),this[_0x2f84a4(0x251)]['qrcode']={'count':0x0});}set['instanceName'](_0x2f05d6){const _0x235885=a0_0x4d4566;if(!_0x2f05d6){this['instance'][_0x235885(0x270)]=(0x0,mr['v4'])();return;}this[_0x235885(0x251)]['name']=_0x2f05d6,this[_0x235885(0x443)](_0x235885(0x4c7),{'instance':this[_0x235885(0x251)][_0x235885(0x270)],'status':_0x235885(0x225)});}get[a0_0x4d4566(0x3fa)](){const _0x54a716=a0_0x4d4566;return this[_0x54a716(0x251)][_0x54a716(0x270)];}get[a0_0x4d4566(0x6bf)](){const _0x375c8e=a0_0x4d4566;return this['instance'][_0x375c8e(0x6bf)];}async[a0_0x4d4566(0x67c)](){const _0x360e4b=a0_0x4d4566;let _0x59b1d7=this[_0x360e4b(0x169)][_0x360e4b(0x1c6)]?.[_0x360e4b(0x270)]??this[_0x360e4b(0x169)]['user']?.[_0x360e4b(0x41c)];if(!_0x59b1d7){if(this['configService'][_0x360e4b(0x5f2)](_0x360e4b(0x33f))[_0x360e4b(0x298)]){let _0x432115=await N['getClient']()['db'](this[_0x360e4b(0x57f)][_0x360e4b(0x5f2)]('DATABASE')[_0x360e4b(0x6aa)]['DB_PREFIX_NAME']+_0x360e4b(0x673))[_0x360e4b(0x117)](this[_0x360e4b(0x3fa)])[_0x360e4b(0x513)]({'_id':_0x360e4b(0x2e5)});if(_0x432115){let _0x549343=JSON['parse'](JSON['stringify'](_0x432115),w[_0x360e4b(0x541)][_0x360e4b(0x366)]);_0x59b1d7=_0x549343['me']?.[_0x360e4b(0x270)]||_0x549343['me']?.[_0x360e4b(0x41c)];}}else{if((0x0,ve['existsSync'])((0x0,q[_0x360e4b(0x3f7)])(he,this['instanceName'],'creds.json'))){let _0x138142=JSON[_0x360e4b(0x330)]((0x0,ve[_0x360e4b(0x64b)])((0x0,q['join'])(he,this['instanceName'],_0x360e4b(0x749)),{'encoding':_0x360e4b(0x517)}));_0x59b1d7=_0x138142['me']?.[_0x360e4b(0x270)]||_0x138142['me']?.['verifiedName'];}}}return _0x59b1d7;}get[a0_0x4d4566(0x4ad)](){const _0x1d342b=a0_0x4d4566;return this[_0x1d342b(0x251)][_0x1d342b(0x4ad)];}get[a0_0x4d4566(0x447)](){const _0x319f92=a0_0x4d4566;return{'pairingCode':this[_0x319f92(0x251)][_0x319f92(0x74e)]?.['pairingCode'],'code':this[_0x319f92(0x251)][_0x319f92(0x74e)]?.[_0x319f92(0x199)],'base64':this[_0x319f92(0x251)][_0x319f92(0x74e)]?.[_0x319f92(0x451)]};}async[a0_0x4d4566(0x3c2)](){const _0x1bb84f=a0_0x4d4566;let _0x4bc654=await this[_0x1bb84f(0x5bc)][_0x1bb84f(0x3eb)][_0x1bb84f(0x4df)](this[_0x1bb84f(0x3fa)]);this[_0x1bb84f(0x4b2)][_0x1bb84f(0x46f)]=_0x4bc654?.[_0x1bb84f(0x46f)],this[_0x1bb84f(0x4b2)]['enabled']=_0x4bc654?.['enabled'],this['localWebhook'][_0x1bb84f(0x6e2)]=_0x4bc654?.[_0x1bb84f(0x6e2)],this[_0x1bb84f(0x4b2)][_0x1bb84f(0x688)]=_0x4bc654?.[_0x1bb84f(0x688)],this[_0x1bb84f(0x4b2)][_0x1bb84f(0x659)]=_0x4bc654?.[_0x1bb84f(0x659)],this[_0x1bb84f(0x4b2)][_0x1bb84f(0x622)]=_0x4bc654?.[_0x1bb84f(0x622)],this[_0x1bb84f(0x4b2)][_0x1bb84f(0x19d)]=_0x4bc654?.[_0x1bb84f(0x19d)],this[_0x1bb84f(0x4b2)][_0x1bb84f(0x527)]=_0x4bc654?.[_0x1bb84f(0x527)],this['localWebhook']['GROUPS_UPSERT']=_0x4bc654?.[_0x1bb84f(0x3c8)],this[_0x1bb84f(0x4b2)]['GROUPS_UPDATE']=_0x4bc654?.[_0x1bb84f(0x1cc)],this['localWebhook'][_0x1bb84f(0x606)]=_0x4bc654?.[_0x1bb84f(0x606)],this[_0x1bb84f(0x4b2)]['CHATS_SET']=_0x4bc654?.[_0x1bb84f(0x285)],this[_0x1bb84f(0x4b2)][_0x1bb84f(0x5c8)]=_0x4bc654?.[_0x1bb84f(0x5c8)],this[_0x1bb84f(0x4b2)]['CHATS_UPDATE']=_0x4bc654?.['CHATS_UPDATE'],this['localWebhook'][_0x1bb84f(0x186)]=_0x4bc654?.[_0x1bb84f(0x186)],this['localWebhook']['CONTACTS_SET']=_0x4bc654?.[_0x1bb84f(0x1a2)],this['localWebhook'][_0x1bb84f(0x398)]=_0x4bc654?.['CONTACTS_UPSERT'],this['localWebhook'][_0x1bb84f(0x54c)]=_0x4bc654?.[_0x1bb84f(0x54c)],this[_0x1bb84f(0x4b2)][_0x1bb84f(0x56f)]=_0x4bc654?.[_0x1bb84f(0x56f)],this[_0x1bb84f(0x4b2)]['MESSAGES_SET']=_0x4bc654?.['MESSAGES_SET'],this['localWebhook']['CONNECTION_UPDATE']=_0x4bc654?.[_0x1bb84f(0x5b3)],this[_0x1bb84f(0x4b2)][_0x1bb84f(0x11c)]=_0x4bc654?.[_0x1bb84f(0x11c)];}async[a0_0x4d4566(0x58e)](_0xd062cd){const _0x44c6e2=a0_0x4d4566;let _0x3336d9=[_0x44c6e2(0x218),'url','enabled',_0x44c6e2(0x6e2),_0x44c6e2(0x688),'QRCODE_UPDATED',_0x44c6e2(0x527),_0x44c6e2(0x19d),_0x44c6e2(0x622),'GROUPS_UPSERT',_0x44c6e2(0x1cc),_0x44c6e2(0x606),'CHATS_SET',_0x44c6e2(0x5c8),'CHATS_UPDATE',_0x44c6e2(0x186),'CONTACTS_SET','CONTACTS_UPSERT',_0x44c6e2(0x54c),_0x44c6e2(0x56f),'MESSAGES_SET',_0x44c6e2(0x5b3),'groups_ignore'],_0x4cad67={};return _0x3336d9['forEach'](_0x470c8d=>{_0xd062cd[_0x470c8d]!==void 0x0&&(_0x4cad67[_0x470c8d]=_0xd062cd[_0x470c8d]);}),await this[_0x44c6e2(0x5bc)]['webhook'][_0x44c6e2(0x178)](_0x4cad67,this['instanceName']),Object['assign'](this['localWebhook'],_0x4cad67),await this[_0x44c6e2(0x5bc)]['webhook'][_0x44c6e2(0x4df)](this['instanceName']);}async[a0_0x4d4566(0x129)](){const _0x5744f3=a0_0x4d4566;return await this[_0x5744f3(0x5bc)][_0x5744f3(0x3eb)][_0x5744f3(0x4df)](this[_0x5744f3(0x3fa)]);}async['sendDataWebhook'](_0x4b2289,_0x4789f7){const _0x2b1788=a0_0x4d4566;let _0x43d405=_0x4b2289[_0x2b1788(0x3ad)](/[\.-]/gm,'_')[_0x2b1788(0x6db)](),_0x20e106=this['localWebhook'][_0x2b1788(0x590)]&&(0x0,k[_0x2b1788(0x709)])(this[_0x2b1788(0x4b2)][_0x2b1788(0x46f)])?this[_0x2b1788(0x4b2)][_0x2b1788(0x46f)]+(this[_0x2b1788(0x4b2)]['local_map']?this[_0x2b1788(0x6b2)][_0x4b2289]:''):null,_0x17eeaa=this[_0x2b1788(0x4b2)][_0x43d405],_0x5bf4d7=oe&&oe[_0x2b1788(0x590)]&&(0x0,k['isURL'])(oe['url'])?oe[_0x2b1788(0x46f)]+(oe[_0x2b1788(0x6e2)]?this[_0x2b1788(0x6b2)][_0x4b2289]:''):null,_0x402ade=oe?oe[_0x43d405]:null;if(_0x17eeaa&&_0x20e106)try{await se[_0x2b1788(0x10e)][_0x2b1788(0x178)]({'baseURL':_0x20e106})[_0x2b1788(0x313)]('',{'event':_0x4b2289,'instance':this[_0x2b1788(0x251)]['name'],'data':_0x4789f7}),this[_0x2b1788(0x5cc)][_0x2b1788(0x2ab)]('Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x4b2289+':\x20'+_0x20e106);}catch(_0x29ad4c){this[_0x2b1788(0x5cc)][_0x2b1788(0x55a)](this[_0x2b1788(0x3fa)]+'\x20('+this[_0x2b1788(0x251)][_0x2b1788(0x6bf)]+_0x2b1788(0x192)+{'local':c[_0x2b1788(0x270)]+'.sendDataWebhook-local','message':_0x29ad4c?.['message'],'hostName':_0x29ad4c?.['hostname'],'syscall':_0x29ad4c?.[_0x2b1788(0x3f1)],'code':_0x29ad4c?.['code'],'error':_0x29ad4c?.[_0x2b1788(0x547)],'stack':_0x29ad4c?.[_0x2b1788(0x38f)],'name':_0x29ad4c?.[_0x2b1788(0x270)]});}if(_0x402ade&&_0x5bf4d7)try{await se['default'][_0x2b1788(0x178)]({'baseURL':_0x5bf4d7})[_0x2b1788(0x313)]('',{'event':_0x4b2289,'instance':this[_0x2b1788(0x251)][_0x2b1788(0x270)],'data':_0x4789f7}),this['logger'][_0x2b1788(0x2ab)](_0x2b1788(0x480)+_0x4b2289+':\x20'+_0x5bf4d7);}catch(_0x318d6c){this[_0x2b1788(0x5cc)][_0x2b1788(0x55a)](this['instanceName']+'\x20('+this[_0x2b1788(0x251)][_0x2b1788(0x6bf)]+'):\x20'+{'local':c['name']+_0x2b1788(0x343),'message':_0x318d6c?.[_0x2b1788(0x604)],'hostName':_0x318d6c?.[_0x2b1788(0x127)],'syscall':_0x318d6c?.['syscall'],'code':_0x318d6c?.[_0x2b1788(0x199)],'error':_0x318d6c?.['errno'],'stack':_0x318d6c?.[_0x2b1788(0x38f)],'name':_0x318d6c?.[_0x2b1788(0x270)]});}}async['connectionUpdate']({qr:_0x29776b,connection:_0x54eeaf,lastDisconnect:_0x1c5847}){const _0x4fdc6d=a0_0x4d4566;if(_0x29776b){if(this[_0x4fdc6d(0x251)][_0x4fdc6d(0x74e)][_0x4fdc6d(0x687)]===ho)return this['sendDataWebhook'](_0x4fdc6d(0x14b),{'message':_0x4fdc6d(0x3b5),'statusCode':w[_0x4fdc6d(0x73d)][_0x4fdc6d(0x25f)]}),this[_0x4fdc6d(0x42a)]={'state':_0x4fdc6d(0x602),'statusReason':w[_0x4fdc6d(0x73d)]['connectionClosed']},this[_0x4fdc6d(0x443)](_0x4fdc6d(0x479),{'instance':this[_0x4fdc6d(0x251)]['name'],...this['stateConnection']}),this[_0x4fdc6d(0x443)]('status.instance',{'instance':this[_0x4fdc6d(0x251)]['name'],'status':'removed'}),this[_0x4fdc6d(0x5bc)]['auth'][_0x4fdc6d(0x178)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x4fdc6d(0x43a)]()},this[_0x4fdc6d(0x251)][_0x4fdc6d(0x270)]),this[_0x4fdc6d(0x102)]=!0x0,this['eventEmitter'][_0x4fdc6d(0x3db)](_0x4fdc6d(0x4a8),this[_0x4fdc6d(0x251)][_0x4fdc6d(0x270)]);this[_0x4fdc6d(0x251)][_0x4fdc6d(0x74e)][_0x4fdc6d(0x687)]++;let _0x3e342a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x4fdc6d(0x215),'dark':'#000000'}};fr[_0x4fdc6d(0x10e)][_0x4fdc6d(0x4b9)](_0x29776b,_0x3e342a,(_0x59eb21,_0x175edc)=>{const _0x3bf04f=_0x4fdc6d;if(_0x59eb21){this[_0x3bf04f(0x5cc)][_0x3bf04f(0x55a)](this[_0x3bf04f(0x3fa)]+'\x20('+this['instance'][_0x3bf04f(0x6bf)]+_0x3bf04f(0x430)+(_0x59eb21 instanceof Error?_0x59eb21[_0x3bf04f(0x604)]:JSON[_0x3bf04f(0x4a7)](_0x59eb21,null,0x2)));return;}this[_0x3bf04f(0x251)][_0x3bf04f(0x74e)][_0x3bf04f(0x451)]=_0x175edc,this['instance'][_0x3bf04f(0x74e)][_0x3bf04f(0x199)]=_0x29776b,this[_0x3bf04f(0x443)](_0x3bf04f(0x14b),{'qrcode':{'instance':this['instance'][_0x3bf04f(0x270)],'pairingCode':this['instance'][_0x3bf04f(0x74e)][_0x3bf04f(0xf8)],'code':_0x29776b,'base64':_0x175edc}});}),this[_0x4fdc6d(0x106)]?this[_0x4fdc6d(0x251)][_0x4fdc6d(0x74e)][_0x4fdc6d(0xf8)]=await this[_0x4fdc6d(0x169)][_0x4fdc6d(0x6ee)](this[_0x4fdc6d(0x106)]):this[_0x4fdc6d(0x251)][_0x4fdc6d(0x74e)]['pairingCode']=null,yr[_0x4fdc6d(0x10e)][_0x4fdc6d(0x625)](_0x29776b,{'small':!0x0},_0x1fc279=>this[_0x4fdc6d(0x5cc)][_0x4fdc6d(0x2ab)]('\x0a{\x20instance:\x20'+this[_0x4fdc6d(0x251)][_0x4fdc6d(0x270)]+_0x4fdc6d(0x42d)+this['instance'][_0x4fdc6d(0x74e)][_0x4fdc6d(0x687)]+',\x20pairCode:\x20'+this[_0x4fdc6d(0x251)][_0x4fdc6d(0x74e)]['pairingCode']+'\x20}\x0a'+_0x1fc279));}if(_0x54eeaf&&(this[_0x4fdc6d(0x42a)]={'state':_0x54eeaf,'statusReason':_0x1c5847?.[_0x4fdc6d(0x55a)]?.['output']?.[_0x4fdc6d(0x219)]??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x4fdc6d(0x251)][_0x4fdc6d(0x270)],...this[_0x4fdc6d(0x42a)]})),_0x54eeaf===_0x4fdc6d(0x17c)){if(this['reconnectAttempts']++,this['reconnectTimestamps']['push'](Date['now']()),this[_0x4fdc6d(0x2a4)]=this['reconnectTimestamps'][_0x4fdc6d(0x4a1)](_0x101cdb=>Date[_0x4fdc6d(0x43a)]()-_0x101cdb<this[_0x4fdc6d(0x412)]),_0x1c5847[_0x4fdc6d(0x55a)]?.[_0x4fdc6d(0x10f)]?.[_0x4fdc6d(0x219)]!==w[_0x4fdc6d(0x73d)][_0x4fdc6d(0xf3)]&&this[_0x4fdc6d(0x2a4)][_0x4fdc6d(0x4d8)]<=this[_0x4fdc6d(0x1f9)])await this[_0x4fdc6d(0x603)]();else{this['sendDataWebhook'](_0x4fdc6d(0x4c7),{'instance':this[_0x4fdc6d(0x251)][_0x4fdc6d(0x270)],'status':_0x4fdc6d(0x32c)}),this[_0x4fdc6d(0x421)]=!0x1,this[_0x4fdc6d(0x5bc)][_0x4fdc6d(0x3eb)][_0x4fdc6d(0x4b6)](this['instanceName']),this[_0x4fdc6d(0x5bc)]['auth'][_0x4fdc6d(0x178)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x4fdc6d(0x43a)]()},this[_0x4fdc6d(0x251)]['name']);try{this['logger'][_0x4fdc6d(0x5d0)](this[_0x4fdc6d(0x3fa)]+'\x20('+this['instance'][_0x4fdc6d(0x6bf)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x14a3e7=await this[_0x4fdc6d(0x5bc)][_0x4fdc6d(0x604)]['deleteAll'](this[_0x4fdc6d(0x251)][_0x4fdc6d(0x6bf)]);_0x14a3e7[_0x4fdc6d(0x10d)]?this[_0x4fdc6d(0x5cc)][_0x4fdc6d(0x5d0)](this[_0x4fdc6d(0x3fa)]+'\x20('+this['instance'][_0x4fdc6d(0x6bf)]+_0x4fdc6d(0x3d8)):console[_0x4fdc6d(0x55a)](_0x4fdc6d(0x46b),_0x14a3e7[_0x4fdc6d(0x55a)]);}catch(_0xfb291e){console[_0x4fdc6d(0x55a)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0xfb291e);}this[_0x4fdc6d(0x63b)]!==null&&(this['logger'][_0x4fdc6d(0x5d0)](this[_0x4fdc6d(0x3fa)]+'\x20('+this['instance']['wuid']+_0x4fdc6d(0x6d6)),clearInterval(this[_0x4fdc6d(0x63b)]),this[_0x4fdc6d(0x63b)]=null),this[_0x4fdc6d(0x5cc)][_0x4fdc6d(0x5d0)](this[_0x4fdc6d(0x3fa)]+'\x20('+this[_0x4fdc6d(0x251)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x4fdc6d(0x168)]=null,this['eventEmitter']['emit'](_0x4fdc6d(0x15d),this[_0x4fdc6d(0x251)]['name'],_0x4fdc6d(0x5ee)),this[_0x4fdc6d(0x169)]?.['ws']?.['close'](),this['client']['end'](new Error('Close\x20connection'));}}if(_0x54eeaf===_0x4fdc6d(0x39f)){this['resetReconnectionVariables'],this[_0x4fdc6d(0x251)][_0x4fdc6d(0x6bf)]=this[_0x4fdc6d(0x169)][_0x4fdc6d(0x1c6)]['id'][_0x4fdc6d(0x3ad)](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x4fdc6d(0x251)][_0x4fdc6d(0x4ad)]=(await this[_0x4fdc6d(0x5b6)](this[_0x4fdc6d(0x251)][_0x4fdc6d(0x6bf)]+_0x4fdc6d(0x50f)))[_0x4fdc6d(0x4ad)],this[_0x4fdc6d(0x5bc)]['auth']['create']({'online':!0x0,'owner':this[_0x4fdc6d(0x251)]['wuid'],'lastDisconnect':null},this[_0x4fdc6d(0x251)]['name']);let _0x3b2014=_0x4fdc6d(0x67e)+this['instance'][_0x4fdc6d(0x6bf)],_0x37017e=0x28,_0xeb9107=Math['floor']((_0x37017e-_0x3b2014[_0x4fdc6d(0x4d8)])/0x2),_0x5df335='\x20'[_0x4fdc6d(0x500)](_0xeb9107),_0x598a30=_0x4fdc6d(0x700),_0xf15331=_0x4fdc6d(0x624)+this[_0x4fdc6d(0x251)][_0x4fdc6d(0x270)],_0x12df0a=(''+_0x5df335+_0x3b2014+_0x5df335)[_0x4fdc6d(0x17b)](_0x37017e,'\x20'),_0x90cb6e=(''+_0x5df335+_0x598a30+_0x5df335)[_0x4fdc6d(0x17b)](_0x37017e,'\x20'),_0x52913d=(''+_0x5df335+_0xf15331+_0x5df335)[_0x4fdc6d(0x17b)](_0x37017e,'\x20'),_0x196cf3=Math[_0x4fdc6d(0x312)](_0x12df0a[_0x4fdc6d(0x4d8)],_0x90cb6e[_0x4fdc6d(0x4d8)],_0x52913d['length']),_0x435410=_0x12df0a[_0x4fdc6d(0x17b)](_0x196cf3,'\x20'),_0x2028d1=_0x90cb6e[_0x4fdc6d(0x17b)](_0x196cf3,'\x20'),_0x1a038f=_0x52913d[_0x4fdc6d(0x17b)](_0x196cf3,'\x20');this[_0x4fdc6d(0x5cc)][_0x4fdc6d(0x538)]((_0x4fdc6d(0x639)+'─'[_0x4fdc6d(0x500)](_0x196cf3)+_0x4fdc6d(0x460)+_0x2028d1+_0x4fdc6d(0x665)+_0x1a038f+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x435410+_0x4fdc6d(0x21f)+'─'[_0x4fdc6d(0x500)](_0x196cf3)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x4fdc6d(0x587)](),this[_0x4fdc6d(0x421)]=!0x0;}}[a0_0x4d4566(0x66c)](){const _0x5dda54=a0_0x4d4566;this[_0x5dda54(0x2cb)]=0x0,this[_0x5dda54(0x2a4)]=[];}async[a0_0x4d4566(0x2a7)](_0xc0d635,_0x44a806=!0x1){const _0x2c81c7=a0_0x4d4566;try{let _0x58639f=await this[_0x2c81c7(0x5bc)]['message'][_0x2c81c7(0x4df)]({'where':{'_id':_0xc0d635['id']}},this[_0x2c81c7(0x251)][_0x2c81c7(0x6bf)]);return _0x44a806?_0x58639f[0x0]:_0x58639f[0x0][_0x2c81c7(0x604)];}catch{return{'conversation':''};}}[a0_0x4d4566(0x6e0)](){const _0x20690c=a0_0x4d4566;let _0x4cd481=this[_0x20690c(0x57f)][_0x20690c(0x5f2)](_0x20690c(0x66f)),_0x479def=this['configService'][_0x20690c(0x5f2)](_0x20690c(0x33f));_0x4cd481?.[_0x20690c(0x3f3)]&&!_0x479def['ENABLED']&&setInterval(()=>{const _0x316352=_0x20690c;try{for(let [_0x9b9eab,_0x4c861e]of Object[_0x316352(0x3d7)](_0x4cd481))_0x4c861e===!0x0&&(0x0,Dt[_0x316352(0x332)])(_0x316352(0x3a0)+(0x0,q['join'])(this[_0x316352(0x726)],_0x9b9eab[_0x316352(0x618)](),this['instance'][_0x316352(0x6bf)])+_0x316352(0x282));}catch{}},(_0x4cd481?.[_0x20690c(0x3f3)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x2a3eb9=a0_0x4d4566;let _0x572e3a=this[_0x2a3eb9(0x57f)][_0x2a3eb9(0x5f2)]('DATABASE'),_0x51444f=this[_0x2a3eb9(0x57f)][_0x2a3eb9(0x5f2)](_0x2a3eb9(0x143));return _0x51444f?.['ENABLED']?await ys(_0x51444f,this['instance'][_0x2a3eb9(0x270)]):_0x572e3a[_0x2a3eb9(0x298)]?await fs(this['instance'][_0x2a3eb9(0x270)]):await(0x0,w['useMultiFileAuthState'])((0x0,q[_0x2a3eb9(0x3f7)])(he,this[_0x2a3eb9(0x251)][_0x2a3eb9(0x270)]));}async['AutomateFunctions'](){const _0x56bad4=a0_0x4d4566;let _0x1124c2=()=>Math[_0x56bad4(0x422)](Math[_0x56bad4(0x13b)]()*0x2711)+0x7d0,_0x2e2085=async()=>{const _0x247ca7=_0x56bad4;if(!this[_0x247ca7(0x421)]){this['logger']['verbose']('Desconectado,\x20parando\x20execução.'),this['isRunning']=!0x1;return;}if(this[_0x247ca7(0x251)][_0x247ca7(0x6bf)]&&this[_0x247ca7(0x168)]&&this[_0x247ca7(0x63b)]!==null&&this[_0x247ca7(0x63b)]!==void 0x0){let _0x189964=Math[_0x247ca7(0x2e3)](this[_0x247ca7(0x63b)]/0xea60);this[_0x247ca7(0x5cc)]['verbose'](this[_0x247ca7(0x3fa)]+'\x20('+this['instance'][_0x247ca7(0x6bf)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x189964+_0x247ca7(0x27f)),this[_0x247ca7(0x56d)]=!0x1;return;}else this[_0x247ca7(0x251)]['wuid']&&(this['logger'][_0x247ca7(0x5d0)](this['instanceName']+'\x20('+this[_0x247ca7(0x251)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['logger'][_0x247ca7(0x5d0)](this[_0x247ca7(0x3fa)]+'\x20('+this[_0x247ca7(0x251)][_0x247ca7(0x6bf)]+_0x247ca7(0xfc)),this[_0x247ca7(0x168)]||await this['getAutomateSystem'](),(this[_0x247ca7(0x63b)]===null||this[_0x247ca7(0x63b)]===void 0x0)&&await this[_0x247ca7(0x5ba)]());if(this[_0x247ca7(0x56d)]){let _0x478ddf=_0x1124c2();this[_0x247ca7(0x5cc)][_0x247ca7(0x5d0)](this[_0x247ca7(0x3fa)]+_0x247ca7(0x655)+_0x478ddf/0x3e8+_0x247ca7(0x12f)),setTimeout(_0x2e2085,_0x478ddf);}};if(this['isRunning'])return;this[_0x56bad4(0x56d)]=!0x0;let _0x292490=_0x1124c2();setTimeout(_0x2e2085,_0x292490);}async['testProxy'](_0x2a0fa3,_0x4325ab,_0x158088,_0x155123,_0x34eae8){const _0x50323d=a0_0x4d4566;this[_0x50323d(0x5cc)][_0x50323d(0x5d0)](_0x50323d(0x4ac));try{let _0x3ae855={'host':_0x2a0fa3,'port':parseInt(_0x4325ab),'protocol':_0x158088};_0x155123&&_0x34eae8&&(_0x3ae855={..._0x3ae855,'auth':{'username':_0x155123,'password':_0x34eae8}});let _0x1eb1bb=[_0x50323d(0x37f),_0x50323d(0x703),'http://checkip.dyndns.org'];for(let _0x2ca576 of _0x1eb1bb)try{let _0x473e32=await se[_0x50323d(0x10e)][_0x50323d(0x5f2)](_0x2ca576,{'proxy':_0x3ae855}),_0x336eb9;return _0x2ca576['includes']('jsonip.com')||_0x2ca576[_0x50323d(0x5a9)](_0x50323d(0x411))?_0x336eb9=_0x473e32['data']['ip']:_0x2ca576[_0x50323d(0x5a9)]('dyndns.org')&&(_0x336eb9=_0x473e32[_0x50323d(0x340)][_0x50323d(0x6ae)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0x50323d(0x5cc)][_0x50323d(0x5d0)]('testProxy\x20response\x20from\x20'+_0x2ca576+':\x20'+_0x336eb9),!0x0;}catch(_0x43e782){this[_0x50323d(0x5cc)][_0x50323d(0x55a)](_0x50323d(0x2ae)+_0x2ca576+_0x50323d(0x711)+_0x43e782);}return!0x1;}catch(_0x413622){return this[_0x50323d(0x5cc)][_0x50323d(0x55a)]('testProxy\x20error:\x20'+_0x413622),_0x413622['response']?(this[_0x50323d(0x5cc)]['error'](_0x50323d(0x1cf)+_0x413622['response'][_0x50323d(0x340)]),this[_0x50323d(0x5cc)][_0x50323d(0x55a)](_0x50323d(0x493)+_0x413622[_0x50323d(0x6af)][_0x50323d(0x1d6)]),this[_0x50323d(0x5cc)][_0x50323d(0x55a)](_0x50323d(0x6ff)+_0x413622['response'][_0x50323d(0x455)])):_0x413622[_0x50323d(0x58d)]?this[_0x50323d(0x5cc)]['error'](_0x50323d(0x4dd)+_0x413622['request']):this['logger'][_0x50323d(0x55a)](_0x50323d(0x18b)+_0x413622[_0x50323d(0x604)]),!0x1;}}async['tryProxy'](_0x5db479){const _0x52d3bb=a0_0x4d4566;if(console[_0x52d3bb(0x2ab)]('tryProxy'),await this[_0x52d3bb(0x1e2)](_0x5db479[_0x52d3bb(0x13c)],_0x5db479[_0x52d3bb(0x61f)],_0x5db479[_0x52d3bb(0x669)],_0x5db479[_0x52d3bb(0x342)],_0x5db479[_0x52d3bb(0x6e6)])){console[_0x52d3bb(0x2ab)](_0x52d3bb(0x5fe));let _0x1c7971=_0x5db479[_0x52d3bb(0x669)]+_0x52d3bb(0x204)+_0x5db479['host']+':'+_0x5db479[_0x52d3bb(0x61f)];return _0x5db479[_0x52d3bb(0x342)]&&_0x5db479[_0x52d3bb(0x6e6)]&&(_0x1c7971=_0x5db479[_0x52d3bb(0x342)]+':'+_0x5db479[_0x52d3bb(0x6e6)]+'@'+_0x1c7971),this[_0x52d3bb(0x5bc)][_0x52d3bb(0x289)][_0x52d3bb(0x178)]({'proxy':_0x1c7971},this['instance']['name']),{'agent':new wr[(_0x52d3bb(0x6fb))](_0x1c7971)};}return null;}[a0_0x4d4566(0x29b)](_0x40b082){const _0x4a042b=a0_0x4d4566;let _0x37946c=_0x40b082[_0x4a042b(0x4e4)](':');if(_0x37946c['length']!==0x4)throw new Error(_0x4a042b(0x515));return{'host':_0x37946c[0x0],'port':_0x37946c[0x1],'username':_0x37946c[0x2],'password':_0x37946c[0x3],'protocol':_0x4a042b(0x59c)};}async[a0_0x4d4566(0x603)](_0x3fe090,_0x1447dc=!0x0){const _0x2fd84f=a0_0x4d4566;try{let _0x1ff13f={},_0x59c061=0x0;if(Sr&&_0x1447dc){let _0x5f538d;try{let _0x347833=(await this[_0x2fd84f(0x5bc)][_0x2fd84f(0x289)]['find'](this[_0x2fd84f(0x3fa)]))['proxy'];for(_0x347833&&(_0x5f538d=this[_0x2fd84f(0x29b)](_0x347833)),_0x347833&&bs(_0x5f538d)&&(_0x1ff13f=await this['tryProxy'](_0x5f538d),_0x1ff13f&&_0x59c061++);!_0x1ff13f&&_0x59c061<0x3;){let _0x20b866=dr();if(_0x20b866){if(_0x5f538d=this[_0x2fd84f(0x29b)](_0x20b866[_0x2fd84f(0x13c)]+':'+_0x20b866[_0x2fd84f(0x61f)]+':'+_0x20b866[_0x2fd84f(0x342)]+':'+_0x20b866[_0x2fd84f(0x6e6)]),bs(_0x5f538d)){if(_0x1ff13f=await this[_0x2fd84f(0x284)](_0x5f538d),_0x1ff13f)break;}else this['logger'][_0x2fd84f(0x55a)]('Configuração\x20de\x20proxy\x20inválida\x20gerada.');}_0x59c061++;}}catch(_0x55d9cd){this['logger'][_0x2fd84f(0x55a)](_0x2fd84f(0x438)+_0x55d9cd),_0x1ff13f={};}!_0x1ff13f&&_0x59c061>=0x3&&(this['logger']['warn'](_0x2fd84f(0x119)),_0x1ff13f={});}this['loadWebhook'](),this[_0x2fd84f(0x251)][_0x2fd84f(0x6b8)]=await this[_0x2fd84f(0x158)]();let {version:_0xb493e0}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x193ec6=[Ms,br,(0x0,Ss[_0x2fd84f(0x51c)])()];console[_0x2fd84f(0x2ab)](_0x2fd84f(0x32b)),console[_0x2fd84f(0x2ab)](_0x1ff13f);let _0x4692d0={..._0x1ff13f,'auth':{'creds':this['instance'][_0x2fd84f(0x6b8)]['state'][_0x2fd84f(0x2e5)],'keys':(0x0,w[_0x2fd84f(0x595)])(this[_0x2fd84f(0x251)][_0x2fd84f(0x6b8)][_0x2fd84f(0x3b1)]['keys'],(0x0,At['default'])({'level':_0x2fd84f(0x55a)}))},'logger':(0x0,At[_0x2fd84f(0x10e)])({'level':_0x2fd84f(0x55a)}),'printQRInTerminal':!0x1,'browser':_0x3fe090?['Chrome\x20(Linux)',Ms,(0x0,Ss[_0x2fd84f(0x51c)])()]:_0x193ec6,'version':_0xb493e0,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x2fd84f(0x531)],'getMessage':async _0x518a4c=>await this['getMessage'](_0x518a4c),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2fd84f(0x307)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1c2dd5=>(_0x1c2dd5[_0x2fd84f(0x347)]?.[_0x2fd84f(0x1c4)]==w[_0x2fd84f(0x59d)]['Message'][_0x2fd84f(0x644)][_0x2fd84f(0x4d0)]['PRODUCT_LIST']&&(_0x1c2dd5=JSON[_0x2fd84f(0x330)](JSON[_0x2fd84f(0x4a7)](_0x1c2dd5)),_0x1c2dd5[_0x2fd84f(0x347)]['listType']=w['proto'][_0x2fd84f(0x5f3)]['ListMessage'][_0x2fd84f(0x4d0)]['SINGLE_SELECT']),_0x1c2dd5)};return this[_0x2fd84f(0x102)]=!0x1,this[_0x2fd84f(0x169)]=(0x0,w[_0x2fd84f(0x10e)])(_0x4692d0),this[_0x2fd84f(0x575)](),this['phoneNumber']=_0x3fe090,this[_0x2fd84f(0x169)];}catch(_0x43227c){throw this[_0x2fd84f(0x5cc)][_0x2fd84f(0x55a)](this[_0x2fd84f(0x3fa)]+'\x20('+this[_0x2fd84f(0x251)][_0x2fd84f(0x6bf)]+_0x2fd84f(0x192)+(_0x43227c instanceof Error?_0x43227c[_0x2fd84f(0x604)]:JSON[_0x2fd84f(0x4a7)](_0x43227c,null,0x2))),new O(_0x43227c?.[_0x2fd84f(0x3bc)]());}}[a0_0x4d4566(0x575)](){const _0x2a9281=a0_0x4d4566;this['client']['ev'][_0x2a9281(0x205)](_0x4fc62b=>{const _0x597368=_0x2a9281;if(!this[_0x597368(0x102)]){let _0x3a1cd6=this[_0x597368(0x57f)][_0x597368(0x5f2)](_0x597368(0x33f));if(_0x4fc62b[_0x597368(0x141)]){let _0x1311d1=_0x4fc62b[_0x597368(0x141)];this[_0x597368(0x539)][_0x597368(0x141)](_0x1311d1);}if(_0x4fc62b[_0x597368(0x220)]){let _0xaba912=_0x4fc62b['labels.association'];this['messageHandle']['labels.association'](_0xaba912);}if(_0x4fc62b[_0x597368(0x479)]&&this[_0x597368(0x370)](_0x4fc62b[_0x597368(0x479)]),_0x4fc62b[_0x597368(0x4f1)]&&this[_0x597368(0x251)][_0x597368(0x6b8)][_0x597368(0x536)](),_0x4fc62b[_0x597368(0x381)]){let _0x5b51f6=_0x4fc62b[_0x597368(0x381)];this[_0x597368(0x539)]['messaging-history.set'](_0x5b51f6,_0x3a1cd6);}if(_0x4fc62b['messages.upsert']){let _0x1f5850=_0x4fc62b[_0x597368(0x5a0)];this[_0x597368(0x539)][_0x597368(0x5a0)](_0x1f5850,_0x3a1cd6);}if(_0x4fc62b[_0x597368(0x2f5)]){let _0x3fe6ee=_0x4fc62b['messages.update'];_0x3fe6ee['forEach'](_0x130cbc=>{const _0x343868=_0x597368;if(gr[_0x130cbc['key']['id']]){this[_0x343868(0x169)]['ev'][_0x343868(0x3db)](_0x343868(0x5a0),{'messages':[_0x130cbc],'type':_0x343868(0x598)}),delete gr[_0x130cbc['key']['id']];return;}}),this['messageHandle'][_0x597368(0x2f5)](_0x3fe6ee,_0x3a1cd6);}if(_0x4fc62b[_0x597368(0x2c3)]){let _0x2afeb7=_0x4fc62b[_0x597368(0x2c3)];if(this[_0x597368(0x4b2)]?.[_0x597368(0x11c)]&&_0x2afeb7['id'][_0x597368(0x5a9)](_0x597368(0x6bc)))return;this[_0x597368(0x443)](_0x597368(0x2c3),_0x2afeb7);}if(!this[_0x597368(0x4b2)]?.[_0x597368(0x11c)]){if(_0x4fc62b['groups.upsert']){let _0x5cf479=_0x4fc62b['groups.upsert'];this[_0x597368(0x3fe)]['groups.upsert'](_0x5cf479);}if(_0x4fc62b['groups.update']){let _0x56b00a=_0x4fc62b[_0x597368(0x501)];this[_0x597368(0x3fe)][_0x597368(0x501)](_0x56b00a);}if(_0x4fc62b[_0x597368(0x53a)]){let _0x517576=_0x4fc62b[_0x597368(0x53a)];this[_0x597368(0x3fe)][_0x597368(0x53a)](_0x517576);}}if(_0x4fc62b[_0x597368(0x6bb)]){let _0x1cadd5=_0x4fc62b['chats.upsert'];this[_0x597368(0x1ba)][_0x597368(0x6bb)](_0x1cadd5,_0x3a1cd6);}if(_0x4fc62b['chats.update']){let _0x511aaf=_0x4fc62b[_0x597368(0x2e4)];this[_0x597368(0x1ba)][_0x597368(0x2e4)](_0x511aaf,_0x3a1cd6);}if(_0x4fc62b[_0x597368(0x104)]){let _0x215bb0=_0x4fc62b[_0x597368(0x104)];this['chatHandle'][_0x597368(0x104)](_0x215bb0);}if(_0x4fc62b[_0x597368(0x2eb)]){let _0x10940c=_0x4fc62b['contacts.upsert'];this[_0x597368(0x4f7)][_0x597368(0x2eb)](_0x10940c,_0x3a1cd6);}if(_0x4fc62b[_0x597368(0x61e)]){let _0xffc129=_0x4fc62b[_0x597368(0x61e)];this[_0x597368(0x4f7)][_0x597368(0x61e)](_0xffc129,_0x3a1cd6);}}});}[a0_0x4d4566(0x3c5)](_0x5a7e3c){return new Promise(_0x522222=>setTimeout(_0x522222,_0x5a7e3c));}['formatBRNumber'](_0x31dff2){let _0x3c3782=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x31dff2);if(_0x3c3782&&_0x3c3782[0x1]==='55'){let _0x6540d8=_0x3c3782[0x2],_0x3c4b30=_0x3c3782[0x3],_0x5661f2=_0x3c3782[0x4];if(_0x6540d8>='31'&&_0x3c4b30==='9')return _0x3c3782[0x1]+_0x6540d8+_0x5661f2;}return _0x31dff2;}[a0_0x4d4566(0x216)](_0x99dd29){const _0x557ab0=a0_0x4d4566;return _0x99dd29[_0x557ab0(0x5a9)](_0x557ab0(0x6bc))||_0x99dd29['includes'](_0x557ab0(0x50f))||_0x99dd29[_0x557ab0(0x5a9)](_0x557ab0(0x18d))?_0x99dd29:(_0x99dd29=_0x99dd29?.['replace'](/\s/g,'')['replace'](/\+/g,'')[_0x557ab0(0x3ad)](/\(/g,'')[_0x557ab0(0x3ad)](/\)/g,'')[_0x557ab0(0x4e4)](/\:/)[0x0]['split']('@')[0x0],_0x99dd29[_0x557ab0(0x4d8)]>=0x12?(_0x99dd29=_0x99dd29['replace'](/[^\d-]/g,''),_0x99dd29+_0x557ab0(0x6bc)):(_0x99dd29=_0x99dd29[_0x557ab0(0x3ad)](/\D/g,''),this['formatBRNumber'](_0x99dd29)+_0x557ab0(0x50f)));}async[a0_0x4d4566(0x131)](_0x3c5e26){const _0x361a0b=a0_0x4d4566;let _0x4766c1=this[_0x361a0b(0x216)](_0x3c5e26[_0x361a0b(0x43c)]),_0x20aa6b=(await this['whatsappNumber']({'numbers':[_0x4766c1]}))[0x0];if(!_0x20aa6b[_0x361a0b(0x6d7)]&&!(0x0,w[_0x361a0b(0x5c4)])(_0x20aa6b['jid']))throw new m(_0x20aa6b);let _0x42967c=(0x0,w['isJidGroup'])(_0x4766c1)?_0x4766c1:_0x20aa6b[_0x361a0b(0x146)];if((0x0,w[_0x361a0b(0x5c4)])(_0x42967c))try{await this[_0x361a0b(0x169)][_0x361a0b(0x5c7)](_0x42967c);}catch{throw new F(_0x361a0b(0x555));}try{return await this['client'][_0x361a0b(0x3e9)](_0x42967c),await this[_0x361a0b(0x169)]['sendPresenceUpdate'](_0x3c5e26[_0x361a0b(0x638)],_0x4766c1),{'status':0xc8,'presence':_0x3c5e26[_0x361a0b(0x638)]};}catch(_0x167dda){throw new m(_0x167dda[_0x361a0b(0x3bc)]());}}async['profilePicture'](_0x19b223){const _0x5a33f5=a0_0x4d4566;let _0x4a0624=this['createJid'](_0x19b223);try{return{'wuid':_0x4a0624,'profilePictureUrl':await this['client'][_0x5a33f5(0x4ad)](_0x4a0624,_0x5a33f5(0x132))};}catch{return{'wuid':_0x4a0624,'profilePictureUrl':null};}}async[a0_0x4d4566(0x341)](_0x43a6d2,_0x4370b7,_0x410101){const _0x1b71b2=a0_0x4d4566;_0x410101||(_0x410101={});let _0x571386=(await this[_0x1b71b2(0x368)]({'numbers':[_0x43a6d2]}))[0x0];if(!_0x571386['exists']&&!(0x0,w['isJidGroup'])(_0x571386[_0x1b71b2(0x146)])&&!_0x571386[_0x1b71b2(0x146)][_0x1b71b2(0x5a9)](_0x1b71b2(0x18d)))throw new m(_0x571386);let _0x15010a=_0x571386['jid'];try{_0x410101?.[_0x1b71b2(0x4b3)]&&(await this[_0x1b71b2(0x169)]['presenceSubscribe'](_0x15010a),await this[_0x1b71b2(0x169)][_0x1b71b2(0x3b6)](_0x410101?.[_0x1b71b2(0x638)]??'composing',_0x15010a),await(0x0,w[_0x1b71b2(0x4b3)])(_0x410101[_0x1b71b2(0x4b3)]),await this[_0x1b71b2(0x169)][_0x1b71b2(0x3b6)](_0x1b71b2(0x275),_0x15010a));let _0x5e6263=_0x410101?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x3fdb6b;if(_0x410101?.[_0x1b71b2(0x2f4)]){let _0x1e6819=_0x410101?.[_0x1b71b2(0x2f4)],_0x52193e=_0x1e6819?.[_0x1b71b2(0x604)]?_0x1e6819:await this[_0x1b71b2(0x2a7)](_0x1e6819[_0x1b71b2(0x583)],!0x0);if(!_0x52193e)throw'Message\x20not\x20found';_0x3fdb6b=_0x52193e;}let _0x152de8;if((0x0,w[_0x1b71b2(0x5c4)])(_0x15010a))try{let _0x2aad75=await this[_0x1b71b2(0x169)][_0x1b71b2(0x5c7)](_0x15010a);if(!_0x2aad75)throw new F(_0x1b71b2(0x555));_0x410101?.[_0x1b71b2(0x5e5)]&&(_0x410101[_0x1b71b2(0x5e5)]?.[_0x1b71b2(0x38c)]?_0x152de8=_0x2aad75[_0x1b71b2(0x4b1)][_0x1b71b2(0x5ac)](_0x2938e9=>_0x2938e9['id']):_0x410101[_0x1b71b2(0x5e5)]?.[_0x1b71b2(0x39b)]?.[_0x1b71b2(0x4d8)]&&(_0x152de8=_0x410101['mentions'][_0x1b71b2(0x39b)]['map'](_0x271d7b=>{const _0x512be0=_0x1b71b2;let _0x22fc7f=this['createJid'](_0x271d7b);return(0x0,w[_0x512be0(0x5c4)])(_0x22fc7f)?null:_0x22fc7f;})));}catch{throw new F(_0x1b71b2(0x555));}let _0x140dc4=await((async()=>{const _0x31346c=_0x1b71b2;let _0x53e99a={'quoted':_0x3fdb6b};if(!_0x4370b7['audio']&&!_0x4370b7[_0x31346c(0x33a)]&&!_0x4370b7['sticker']&&!_0x4370b7[_0x31346c(0x20c)]&&_0x15010a!==_0x31346c(0x4f9)&&!_0x4370b7[_0x31346c(0x226)])return await this['client']['sendMessage'](_0x15010a,{'forward':{'key':{'remoteJid':this['instance'][_0x31346c(0x6bf)],'fromMe':!0x0},'message':_0x4370b7},'mentions':_0x152de8},_0x53e99a);if(_0x4370b7[_0x31346c(0x20c)]){let _0x35ed5f=_0x4370b7['conversation'];return _0x410101?.[_0x31346c(0x1e1)]&&(_0x35ed5f=await this['replaceVariablesChat'](_0x35ed5f,_0x15010a)),await this[_0x31346c(0x169)][_0x31346c(0x64d)](_0x15010a,{'text':_0x35ed5f,'mentions':_0x152de8,'linkPreview':_0x5e6263},_0x53e99a);}return _0x15010a===_0x31346c(0x4f9)?await this[_0x31346c(0x169)][_0x31346c(0x64d)](_0x15010a,_0x4370b7[_0x31346c(0x1d6)][_0x31346c(0x6d8)],{'backgroundColor':_0x4370b7['status']['option']['backgroundColor'],'font':_0x4370b7[_0x31346c(0x1d6)][_0x31346c(0x5d6)][_0x31346c(0x29f)],'statusJidList':_0x4370b7[_0x31346c(0x1d6)][_0x31346c(0x5d6)][_0x31346c(0x6b9)]}):await this[_0x31346c(0x169)][_0x31346c(0x64d)](_0x15010a,_0x4370b7,_0x53e99a);})()),{message_normalized:_0x26811a}=this[_0x1b71b2(0x2cd)](_0x140dc4[_0x1b71b2(0x604)],$(_0x140dc4['message']),null),_0x1bf259={'_id':_0x140dc4[_0x1b71b2(0x583)]['id'],'key':_0x140dc4[_0x1b71b2(0x583)],'pushName':_0x140dc4[_0x1b71b2(0x17a)],'message':{..._0x140dc4[_0x1b71b2(0x604)]},'messageType':$(_0x140dc4[_0x1b71b2(0x604)]),'message_normalized':{'key':_0x140dc4[_0x1b71b2(0x583)],'pushName':_0x140dc4['pushName'],'messageTimestamp':_0x140dc4[_0x1b71b2(0xf7)]&&_0x140dc4[_0x1b71b2(0xf7)][_0x1b71b2(0x3bc)]()['length']<0xd?_0x140dc4[_0x1b71b2(0xf7)]*0x3e8:_0x140dc4['messageTimestamp']||null,'source':(0x0,w['getDevice'])(_0x140dc4[_0x1b71b2(0x583)]['id']),..._0x26811a},'messageTimestamp':_0x140dc4['messageTimestamp']&&_0x140dc4['messageTimestamp'][_0x1b71b2(0x3bc)]()[_0x1b71b2(0x4d8)]<0xd?_0x140dc4[_0x1b71b2(0xf7)]*0x3e8:_0x140dc4[_0x1b71b2(0xf7)]||null,'owner':this[_0x1b71b2(0x251)]['wuid'],'source':(0x0,w[_0x1b71b2(0x6e5)])(_0x140dc4[_0x1b71b2(0x583)]['id'])};return this[_0x1b71b2(0x5cc)][_0x1b71b2(0x2ab)](_0x1bf259),this[_0x1b71b2(0x443)](_0x1b71b2(0x548),_0x1bf259),j(this[_0x1b71b2(0x3fa)],_0x1b71b2(0x3be),{'message':_0x1bf259}),this[_0x1b71b2(0x423)](this['configService'][_0x1b71b2(0x5f2)](_0x1b71b2(0x33f)),_0x1bf259,_0x1b71b2(0x622)),await this[_0x1b71b2(0x5bc)][_0x1b71b2(0x604)]['insert']([_0x1bf259],this[_0x1b71b2(0x251)]['wuid']),_0x140dc4;}catch(_0x570589){throw this[_0x1b71b2(0x5cc)][_0x1b71b2(0x55a)](this[_0x1b71b2(0x3fa)]+'\x20('+this[_0x1b71b2(0x251)]['wuid']+'):\x20'+_0x570589['toString']()),new m(_0x570589['toString']());}}get['connectionStatus'](){const _0x4d51e3=a0_0x4d4566;return this[_0x4d51e3(0x42a)];}async[a0_0x4d4566(0x1f5)](_0x2c9176){const _0x34b71a=a0_0x4d4566;let _0x2833e7=pr,_0x1ae32c=He;return _0x1ae32c&&this[_0x34b71a(0x3fa)][_0x34b71a(0x618)]()[_0x34b71a(0x5a9)](_0x1ae32c[_0x34b71a(0x618)]())&&(_0x2c9176['textMessage'][_0x34b71a(0x684)]+='\x0a\x0a'+_0x2833e7),await this[_0x34b71a(0x341)](_0x2c9176['number'],{'conversation':_0x2c9176[_0x34b71a(0x1f5)][_0x34b71a(0x684)]},_0x2c9176?.[_0x34b71a(0x32b)]);}async[a0_0x4d4566(0x33e)](_0x47bdae){const _0x38335c=a0_0x4d4566;if(!_0x47bdae[_0x38335c(0x1d0)])throw new m(_0x38335c(0x73f));if(!_0x47bdae[_0x38335c(0x6d8)])throw new m(_0x38335c(0x439));if(_0x47bdae['allContacts']){let _0x2ee2a1=await this[_0x38335c(0x5bc)][_0x38335c(0x12e)][_0x38335c(0x4df)]({'where':{}},this['instance'][_0x38335c(0x6bf)]);if(!_0x2ee2a1[_0x38335c(0x4d8)])throw new m(_0x38335c(0x5e7));_0x47bdae[_0x38335c(0x6b9)]=_0x2ee2a1[_0x38335c(0x4a1)](_0x49d3bb=>_0x49d3bb[_0x38335c(0x17a)])[_0x38335c(0x5ac)](_0x31cbe8=>_0x31cbe8['_id']);}if(!_0x47bdae[_0x38335c(0x6b9)]?.[_0x38335c(0x4d8)]&&!_0x47bdae['allContacts'])throw new m(_0x38335c(0x1c8));if(_0x47bdae[_0x38335c(0x1d0)]===_0x38335c(0x684)){if(!_0x47bdae['backgroundColor'])throw new m(_0x38335c(0x556));if(!_0x47bdae[_0x38335c(0x29f)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x47bdae[_0x38335c(0x6d8)]},'option':{'backgroundColor':_0x47bdae['backgroundColor'],'font':_0x47bdae[_0x38335c(0x29f)],'statusJidList':_0x47bdae[_0x38335c(0x6b9)]}};}if(_0x47bdae[_0x38335c(0x1d0)]===_0x38335c(0x132))return{'content':{'image':{'url':_0x47bdae['content']},'caption':_0x47bdae[_0x38335c(0x6fa)]},'option':{'statusJidList':_0x47bdae[_0x38335c(0x6b9)]}};if(_0x47bdae[_0x38335c(0x1d0)]===_0x38335c(0x144))return{'content':{'video':{'url':_0x47bdae[_0x38335c(0x6d8)]},'caption':_0x47bdae[_0x38335c(0x6fa)]},'option':{'statusJidList':_0x47bdae['statusJidList']}};if(_0x47bdae[_0x38335c(0x1d0)]===_0x38335c(0x226)){this['logger'][_0x38335c(0x5d0)](_0x38335c(0x627)),this['logger'][_0x38335c(0x5d0)](_0x38335c(0x2b8));let _0x4d59b7=await this[_0x38335c(0x4eb)](_0x47bdae[_0x38335c(0x6d8)]);if(typeof _0x4d59b7=='string'){this[_0x38335c(0x5cc)][_0x38335c(0x5d0)](_0x38335c(0x40e));let _0x3987ac=L[_0x38335c(0x64b)](_0x4d59b7)[_0x38335c(0x3bc)]('base64'),_0x2db6d8={'content':{'audio':Buffer[_0x38335c(0x66b)](_0x3987ac,_0x38335c(0x451)),'ptt':!0x0,'mimetype':'audio/mp4'},'option':{'statusJidList':_0x47bdae['statusJidList']}};return L[_0x38335c(0x4bf)](_0x4d59b7),_0x2db6d8;}else throw new O(_0x4d59b7);}throw new m(_0x38335c(0x230));}async[a0_0x4d4566(0x6c7)](_0x1b7325){const _0x3e9671=a0_0x4d4566;return await this[_0x3e9671(0x341)](_0x3e9671(0x4f9),{'status':await this[_0x3e9671(0x33e)](_0x1b7325[_0x3e9671(0x6c7)])});}async[a0_0x4d4566(0x564)](_0x3f7944){const _0xf89fe4=a0_0x4d4566;try{let _0x50abe5=await(0x0,w['prepareWAMessageMedia'])({[_0x3f7944[_0xf89fe4(0x679)]]:(0x0,k[_0xf89fe4(0x709)])(_0x3f7944['media'])?{'url':_0x3f7944['media']}:Buffer[_0xf89fe4(0x66b)](_0x3f7944[_0xf89fe4(0x239)],_0xf89fe4(0x451))},{'upload':this['client'][_0xf89fe4(0x3d3)]}),_0x4e4204=_0x3f7944[_0xf89fe4(0x679)]+_0xf89fe4(0x5f3);if(_0x3f7944[_0xf89fe4(0x679)]===_0xf89fe4(0x593)&&!_0x3f7944['fileName']){let _0x2cf6b8=new RegExp(/.*\/(.+?)\./)[_0xf89fe4(0x409)](_0x3f7944[_0xf89fe4(0x239)]);_0x3f7944[_0xf89fe4(0x1ab)]=_0x2cf6b8?_0x2cf6b8[0x1]:null;}let _0x4cdd33=(0x0,k['isURL'])(_0x3f7944[_0xf89fe4(0x239)])?_0x3f7944[_0xf89fe4(0x239)][_0xf89fe4(0x4e4)]('?')[0x0]:_0x3f7944[_0xf89fe4(0x239)];this['logger']['verbose'](_0xf89fe4(0x18c)+_0x4cdd33);let _0xb7a8df;(0x0,k[_0xf89fe4(0x709)])(_0x3f7944['media'])?_0xb7a8df=(0x0,Ot[_0xf89fe4(0x744)])(_0x4cdd33):_0x3f7944['fileName']&&_0x3f7944[_0xf89fe4(0x1ab)][_0xf89fe4(0x5a9)]('.')?_0xb7a8df=(0x0,Ot[_0xf89fe4(0x744)])(_0x3f7944[_0xf89fe4(0x1ab)]):_0xb7a8df=(0x0,Ot[_0xf89fe4(0x744)])(_0x3f7944[_0xf89fe4(0x239)]);let _0x5ae9e4=pr,_0xe275e7=He;return _0xe275e7&&this[_0xf89fe4(0x3fa)][_0xf89fe4(0x618)]()[_0xf89fe4(0x5a9)](_0xe275e7[_0xf89fe4(0x618)]())&&(_0x3f7944[_0xf89fe4(0x6fa)]+='\x0a\x0a'+_0x5ae9e4),_0x50abe5[_0x4e4204][_0xf89fe4(0x6fa)]=_0x3f7944?.[_0xf89fe4(0x6fa)],_0x50abe5[_0x4e4204][_0xf89fe4(0x378)]=_0xb7a8df,_0x50abe5[_0x4e4204]['fileName']=_0x3f7944[_0xf89fe4(0x1ab)],_0x3f7944[_0xf89fe4(0x679)]==='video'&&(_0x50abe5[_0x4e4204][_0xf89fe4(0x139)]=Uint8Array[_0xf89fe4(0x66b)]((0x0,ve['readFileSync'])((0x0,q[_0xf89fe4(0x3f7)])(process[_0xf89fe4(0x263)](),_0xf89fe4(0x35e)))),_0x50abe5[_0x4e4204][_0xf89fe4(0x731)]=!0x1),(0x0,w[_0xf89fe4(0x22b)])('',{[_0x4e4204]:{..._0x50abe5[_0x4e4204]}},{'userJid':this['instance'][_0xf89fe4(0x6bf)]});}catch(_0x2f8dbc){throw this['logger']['error'](this[_0xf89fe4(0x3fa)]+'\x20('+this[_0xf89fe4(0x251)][_0xf89fe4(0x6bf)]+_0xf89fe4(0x192)+(_0x2f8dbc instanceof Error?_0x2f8dbc[_0xf89fe4(0x604)]:JSON[_0xf89fe4(0x4a7)](_0x2f8dbc,null,0x2))),new O(_0x2f8dbc?.[_0xf89fe4(0x3bc)]()||_0x2f8dbc);}}async[a0_0x4d4566(0x6a8)](_0x4d497d){const _0x149f0b=a0_0x4d4566;let _0x2cce51=await this['prepareMediaMessage'](_0x4d497d[_0x149f0b(0x6a8)]);return await this['sendMessageWithTyping'](_0x4d497d[_0x149f0b(0x43c)],{..._0x2cce51['message']},_0x4d497d?.['options']);}async[a0_0x4d4566(0x4e0)](_0x22d151,_0x2a3098){const _0x51e265=a0_0x4d4566;try{this['logger'][_0x51e265(0x5d0)](_0x51e265(0x42f));let _0x36b466,_0x3ddca5=_0x2a3098+'-'+new Date()[_0x51e265(0x2d2)]();this[_0x51e265(0x5cc)]['verbose'](_0x51e265(0x28b)+_0x3ddca5);let _0x12968f=''+(0x0,q[_0x51e265(0x3f7)])(this[_0x51e265(0x726)],_0x3ddca5+_0x51e265(0x5e0));if(this['logger']['verbose'](_0x51e265(0x643)+_0x12968f),(0x0,k[_0x51e265(0x6a6)])(_0x22d151)){this[_0x51e265(0x5cc)][_0x51e265(0x5d0)]('Image\x20is\x20base64');let _0x2f3b6c=_0x22d151['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4ab586=Buffer[_0x51e265(0x66b)](_0x2f3b6c,'base64');_0x36b466=''+(0x0,q['join'])(this[_0x51e265(0x726)],'temp-'+_0x3ddca5+'.png'),this[_0x51e265(0x5cc)][_0x51e265(0x5d0)]('Image\x20path:\x20'+_0x36b466),await(0x0,It[_0x51e265(0x10e)])(_0x4ab586)[_0x51e265(0x4d3)](_0x36b466),this[_0x51e265(0x5cc)][_0x51e265(0x5d0)](_0x51e265(0x280));}else{this[_0x51e265(0x5cc)][_0x51e265(0x5d0)](_0x51e265(0x66d));let _0x74b3ea=new Date()['getTime'](),_0x14d721=_0x22d151+_0x51e265(0x383)+_0x74b3ea;this[_0x51e265(0x5cc)][_0x51e265(0x5d0)](_0x51e265(0x3ab)+_0x14d721);let _0x5a8fc1=await se['default'][_0x51e265(0x5f2)](_0x14d721,{'responseType':_0x51e265(0x5f1)});this[_0x51e265(0x5cc)]['verbose'](_0x51e265(0x375));let _0x2469e0=Buffer[_0x51e265(0x66b)](_0x5a8fc1[_0x51e265(0x340)],_0x51e265(0x424));_0x36b466=''+(0x0,q[_0x51e265(0x3f7)])(this[_0x51e265(0x726)],_0x51e265(0x4f2)+_0x3ddca5+_0x51e265(0x557)),this[_0x51e265(0x5cc)][_0x51e265(0x5d0)](_0x51e265(0x72a)+_0x36b466),await(0x0,It[_0x51e265(0x10e)])(_0x2469e0)[_0x51e265(0x4d3)](_0x36b466),this[_0x51e265(0x5cc)][_0x51e265(0x5d0)](_0x51e265(0x280));}return await(0x0,It[_0x51e265(0x10e)])(_0x36b466)['webp']()[_0x51e265(0x4d3)](_0x12968f),this['logger']['verbose'](_0x51e265(0x4db)),L['unlinkSync'](_0x36b466),this[_0x51e265(0x5cc)][_0x51e265(0x5d0)](_0x51e265(0x4a9)),_0x12968f;}catch(_0x437f4f){console['error'](_0x51e265(0x11f),_0x437f4f instanceof Error?_0x437f4f[_0x51e265(0x604)]:JSON[_0x51e265(0x4a7)](_0x437f4f,null,0x2));}}async[a0_0x4d4566(0x246)](_0x5b72df){const _0x1aa35c=a0_0x4d4566;let _0x3cab1a=await this[_0x1aa35c(0x4e0)](_0x5b72df[_0x1aa35c(0x40d)]['image'],_0x5b72df[_0x1aa35c(0x43c)]),_0x106e62=await this[_0x1aa35c(0x341)](_0x5b72df['number'],{'sticker':{'url':_0x3cab1a}},_0x5b72df?.['options']);return L['unlinkSync'](_0x3cab1a),this['logger'][_0x1aa35c(0x5d0)](_0x1aa35c(0x304)),_0x106e62;}async[a0_0x4d4566(0x6b4)](_0x1f1f69){const _0x26540c=a0_0x4d4566;if(this['logger'][_0x26540c(0x5d0)](_0x26540c(0x69d)),!_0x1f1f69[_0x26540c(0x32b)]?.[_0x26540c(0x6a2)]&&_0x1f1f69[_0x26540c(0x32b)]?.[_0x26540c(0x6a2)]!==!0x1&&(_0x1f1f69['options'][_0x26540c(0x6a2)]=!0x0),_0x1f1f69[_0x26540c(0x32b)]?.[_0x26540c(0x6a2)]){let _0x3e3c49=await this[_0x26540c(0x4eb)](_0x1f1f69[_0x26540c(0x34a)]['audio']);if(typeof _0x3e3c49==_0x26540c(0x2c0)){let _0x106222=L['readFileSync'](_0x3e3c49)[_0x26540c(0x3bc)](_0x26540c(0x451)),_0x465e16=this[_0x26540c(0x341)](_0x1f1f69[_0x26540c(0x43c)],{'audio':Buffer['from'](_0x106222,'base64'),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x26540c(0x363),'delay':_0x1f1f69?.[_0x26540c(0x32b)]?.[_0x26540c(0x4b3)]});return L[_0x26540c(0x4bf)](_0x3e3c49),this[_0x26540c(0x5cc)]['verbose']('Converted\x20audio\x20deleted'),_0x465e16;}else throw new O(_0x3e3c49);}return await this[_0x26540c(0x341)](_0x1f1f69[_0x26540c(0x43c)],{'audio':(0x0,k[_0x26540c(0x709)])(_0x1f1f69['audioMessage'][_0x26540c(0x226)])?{'url':_0x1f1f69[_0x26540c(0x34a)][_0x26540c(0x226)]}:Buffer[_0x26540c(0x66b)](_0x1f1f69[_0x26540c(0x34a)]['audio'],_0x26540c(0x451)),'ptt':!0x0,'mimetype':'audio/aac'},{'presence':'recording','delay':_0x1f1f69?.['options']?.[_0x26540c(0x4b3)]});}async['convertaudio'](_0x228c43){const _0x52f084=a0_0x4d4566;this['logger']['verbose']('Processing\x20audio');let _0x23ebbd,_0x4ef5cd,_0x2fc5c8=(0x0,Me['v4'])();if(this['logger'][_0x52f084(0x5d0)](_0x52f084(0x6a1)+_0x2fc5c8),(0x0,k[_0x52f084(0x709)])(_0x228c43)){this['logger'][_0x52f084(0x5d0)](_0x52f084(0x6c1)),_0x4ef5cd=''+(0x0,q['join'])(this[_0x52f084(0x726)],_0x2fc5c8+_0x52f084(0x45a)),_0x23ebbd=''+(0x0,q['join'])(this[_0x52f084(0x726)],_0x52f084(0x4f2)+_0x2fc5c8+'.mp3'),this['logger'][_0x52f084(0x5d0)](_0x52f084(0x1f4)+_0x4ef5cd),this[_0x52f084(0x5cc)][_0x52f084(0x5d0)](_0x52f084(0x1e7)+_0x23ebbd);let _0x179b49=new Date()[_0x52f084(0x2d2)](),_0x3339a4=_0x228c43+_0x52f084(0x383)+_0x179b49;this[_0x52f084(0x5cc)][_0x52f084(0x5d0)]('Including\x20timestamp\x20in\x20url:\x20'+_0x3339a4);let _0x5a4e65=await se[_0x52f084(0x10e)][_0x52f084(0x5f2)](_0x3339a4,{'responseType':_0x52f084(0x5f1)});this['logger'][_0x52f084(0x5d0)](_0x52f084(0x11d)),L[_0x52f084(0x74a)](_0x23ebbd,_0x5a4e65[_0x52f084(0x340)]);}else{this[_0x52f084(0x5cc)][_0x52f084(0x5d0)](_0x52f084(0x50e)),_0x4ef5cd=''+(0x0,q[_0x52f084(0x3f7)])(this[_0x52f084(0x726)],_0x2fc5c8+_0x52f084(0x45a)),_0x23ebbd=''+(0x0,q[_0x52f084(0x3f7)])(this[_0x52f084(0x726)],_0x52f084(0x4f2)+_0x2fc5c8+'.mp3'),this[_0x52f084(0x5cc)][_0x52f084(0x5d0)](_0x52f084(0x1f4)+_0x4ef5cd),this[_0x52f084(0x5cc)][_0x52f084(0x5d0)]('Temp\x20audio\x20path:\x20'+_0x23ebbd);let _0x6dfb77=Buffer[_0x52f084(0x66b)](_0x228c43,_0x52f084(0x451));L[_0x52f084(0x74a)](_0x23ebbd,_0x6dfb77),this['logger'][_0x52f084(0x5d0)]('Temp\x20audio\x20created');}return this['logger'][_0x52f084(0x5d0)]('Converting\x20audio\x20to\x20mp4'),new Promise((_0x1eb01a,_0x3d4425)=>{const _0x7e52d0=_0x52f084;(0x0,Dt[_0x7e52d0(0x409)])(hr[_0x7e52d0(0x10e)][_0x7e52d0(0x4b0)]+_0x7e52d0(0x345)+_0x23ebbd+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x4ef5cd+'\x20-y',_0x3c8a0b=>{const _0x9aebd8=_0x7e52d0;L['unlinkSync'](_0x23ebbd),this[_0x9aebd8(0x5cc)][_0x9aebd8(0x5d0)](_0x9aebd8(0x5a3)),_0x3c8a0b&&_0x3d4425(_0x3c8a0b),this['logger'][_0x9aebd8(0x5d0)](_0x9aebd8(0x748)),_0x1eb01a(_0x4ef5cd);});});}async[a0_0x4d4566(0x56e)](_0x447a1f){const _0x5ec940=a0_0x4d4566;let _0x2e35a7={},_0x86617d=_0x5ec940(0x5e1);if(_0x447a1f['buttonMessage']?.[_0x5ec940(0x6a8)]){_0x86617d=_0x447a1f[_0x5ec940(0x56e)][_0x5ec940(0x6a8)]?.[_0x5ec940(0x679)]['toUpperCase']()??_0x5ec940(0x5e1),_0x2e35a7[_0x5ec940(0x6c4)]=_0x86617d[_0x5ec940(0x618)]()+_0x5ec940(0x5f3);let _0x1fe45e=await this[_0x5ec940(0x564)](_0x447a1f[_0x5ec940(0x56e)][_0x5ec940(0x6a8)]);_0x2e35a7[_0x5ec940(0x604)]=_0x1fe45e[_0x5ec940(0x604)][_0x2e35a7[_0x5ec940(0x6c4)]],_0x2e35a7[_0x5ec940(0x21b)]='*'+_0x447a1f[_0x5ec940(0x56e)]['title']+_0x5ec940(0x452)+_0x447a1f['buttonMessage'][_0x5ec940(0x21d)];}let _0x30a84b={'text':_0x447a1f[_0x5ec940(0x56e)]['buttons'][_0x5ec940(0x5ac)](_0x895cc6=>_0x895cc6[_0x5ec940(0x1d4)]),'ids':_0x447a1f[_0x5ec940(0x56e)][_0x5ec940(0x1d1)][_0x5ec940(0x5ac)](_0x2712fa=>_0x2712fa[_0x5ec940(0x24a)])};if(!(0x0,k[_0x5ec940(0x2b5)])(_0x30a84b[_0x5ec940(0x684)])||!(0x0,k['arrayUnique'])(_0x30a84b[_0x5ec940(0x3e2)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x5ec940(0x3b8));return await this[_0x5ec940(0x341)](_0x447a1f[_0x5ec940(0x43c)],{'buttonsMessage':{'text':_0x2e35a7?.['mediaKey']?void 0x0:_0x447a1f[_0x5ec940(0x56e)]['title'],'contentText':_0x2e35a7?.[_0x5ec940(0x21b)]??_0x447a1f[_0x5ec940(0x56e)][_0x5ec940(0x21d)],'footerText':_0x447a1f[_0x5ec940(0x56e)]?.['footerText'],'buttons':_0x447a1f['buttonMessage'][_0x5ec940(0x1d1)]['map'](_0xe20ed4=>({'buttonText':{'displayText':_0xe20ed4[_0x5ec940(0x1d4)]},'buttonId':_0xe20ed4[_0x5ec940(0x24a)],'type':0x1})),'headerType':w['proto']['Message'][_0x5ec940(0x619)][_0x5ec940(0x17e)][_0x86617d],[_0x2e35a7?.['mediaKey']]:_0x2e35a7?.[_0x5ec940(0x604)]}},_0x447a1f?.[_0x5ec940(0x32b)]);}async[a0_0x4d4566(0x6ab)](_0x4d65f4){const _0x1aa8a8=a0_0x4d4566;return await this[_0x1aa8a8(0x341)](_0x4d65f4[_0x1aa8a8(0x43c)],{'locationMessage':{'degreesLatitude':_0x4d65f4[_0x1aa8a8(0x6ab)][_0x1aa8a8(0x5d1)],'degreesLongitude':_0x4d65f4[_0x1aa8a8(0x6ab)][_0x1aa8a8(0x6ed)],'name':_0x4d65f4['locationMessage']?.[_0x1aa8a8(0x270)],'address':_0x4d65f4[_0x1aa8a8(0x6ab)]?.['address']}},_0x4d65f4?.[_0x1aa8a8(0x32b)]);}async[a0_0x4d4566(0x4be)](_0x1ec2c1){const _0x485e91=a0_0x4d4566;let _0x207de2={},_0x1127bb=_0x36f45a=>{const _0x187f9b=a0_0x39b5;let _0x3c36e8='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x36f45a['fullName']+'\x0aFN:'+_0x36f45a[_0x187f9b(0x387)]+'\x0a';_0x36f45a[_0x187f9b(0x203)]&&(_0x3c36e8+=_0x187f9b(0x30a)+_0x36f45a['organization']+';\x0a'),_0x36f45a[_0x187f9b(0x124)]&&(_0x3c36e8+=_0x187f9b(0x56a)+_0x36f45a[_0x187f9b(0x124)]+'\x0a'),_0x36f45a[_0x187f9b(0x46f)]&&(_0x3c36e8+=_0x187f9b(0x297)+_0x36f45a[_0x187f9b(0x46f)]+'\x0a');let _0x3e3c0c='';return _0x36f45a[_0x187f9b(0x106)]&&_0x36f45a[_0x187f9b(0x106)][_0x187f9b(0x4e4)]('|')['forEach']((_0x12d11f,_0x24a6e0)=>{const _0x880ff8=_0x187f9b;let _0x993ae1=this[_0x880ff8(0x216)](_0x12d11f)[_0x880ff8(0x3ad)](_0x880ff8(0x50f),'');_0x3e3c0c+='item'+(_0x24a6e0+0x1)+'.TEL;waid='+_0x993ae1+':'+_0x12d11f+'\x0aitem'+(_0x24a6e0+0x1)+'.X-ABLabel:Celular\x0a';}),_0x3c36e8+=_0x3e3c0c+_0x187f9b(0x2a3),_0x3c36e8;};return _0x1ec2c1[_0x485e91(0x4be)]['length']===0x1?_0x207de2[_0x485e91(0x4be)]={'displayName':_0x1ec2c1[_0x485e91(0x4be)][0x0][_0x485e91(0x387)],'vcard':_0x1127bb(_0x1ec2c1['contactMessage'][0x0])}:_0x207de2['contactsArrayMessage']={'displayName':_0x1ec2c1[_0x485e91(0x4be)][_0x485e91(0x4d8)]+'\x20contacts','contacts':_0x1ec2c1[_0x485e91(0x4be)][_0x485e91(0x5ac)](_0x4e9665=>({'displayName':_0x4e9665[_0x485e91(0x387)],'vcard':_0x1127bb(_0x4e9665)}))},await this[_0x485e91(0x341)](_0x1ec2c1[_0x485e91(0x43c)],{..._0x207de2},_0x1ec2c1?.[_0x485e91(0x32b)]);}async[a0_0x4d4566(0x4c9)](_0x2e2f5e){const _0x54a67d=a0_0x4d4566;return await this['sendMessageWithTyping'](_0x2e2f5e[_0x54a67d(0x4c9)][_0x54a67d(0x583)][_0x54a67d(0x21e)],{'reactionMessage':{'key':_0x2e2f5e[_0x54a67d(0x4c9)]['key'],'text':_0x2e2f5e[_0x54a67d(0x4c9)][_0x54a67d(0x680)]}});}async[a0_0x4d4566(0x368)](_0x24138a){const _0x17f131=a0_0x4d4566;let _0x51d579=[];for await(let _0x9f67a0 of _0x24138a[_0x17f131(0x415)]){let _0x465365=this['createJid'](_0x9f67a0),_0x4302bb=!0x1;try{if((0x0,w[_0x17f131(0x5c4)])(_0x465365)){let _0x59c172=await this[_0x17f131(0x3c0)]({'groupJid':_0x465365},_0x17f131(0x5ee));_0x51d579[_0x17f131(0x52c)](new me(_0x59c172[_0x17f131(0x1a9)]['id'],!!_0x59c172?.[_0x17f131(0x1a9)]['id'],_0x59c172?.[_0x17f131(0x1a9)]['subject'])),_0x4302bb=!!_0x59c172?.[_0x17f131(0x1a9)]['id'];}else{let _0x2e3217=(await this[_0x17f131(0x169)]['onWhatsApp'](_0x465365))[0x0];_0x51d579[_0x17f131(0x52c)](new me(_0x2e3217[_0x17f131(0x146)],_0x2e3217[_0x17f131(0x6d7)])),_0x4302bb=_0x2e3217[_0x17f131(0x6d7)];}}catch{await this['checkAndUpdateChatStatus'](_0x465365,_0x4302bb),_0x51d579[_0x17f131(0x52c)](new me(_0x9f67a0,!0x1));}}return _0x51d579;}async[a0_0x4d4566(0x401)](_0x9f5bb1,_0x599396){const _0x155079=a0_0x4d4566;try{await this[_0x155079(0x5bc)][_0x155079(0x35b)]['findOne']({'where':{'_id':_0x9f5bb1,'imported':!0x0}},this[_0x155079(0x251)]['wuid'])&&(_0x599396||(await this['repository']['chat']['deleteChat'](_0x9f5bb1,this[_0x155079(0x251)][_0x155079(0x6bf)]),console[_0x155079(0x2ab)](_0x155079(0x155)+_0x9f5bb1+_0x155079(0x190))));}catch(_0x247ca4){console[_0x155079(0x55a)]('Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',_0x247ca4);}}async['markMessageAsRead'](_0xc4ed36){const _0x2f0f49=a0_0x4d4566;try{let _0x31a10a=_0xc4ed36[_0x2f0f49(0x3f8)][_0x2f0f49(0x4a1)](_0x502457=>(0x0,w['isJidGroup'])(_0x502457['remoteJid'])||(0x0,w['isJidUser'])(_0x502457['remoteJid']))[_0x2f0f49(0x5ac)](_0x3ff792=>({'remoteJid':_0x3ff792[_0x2f0f49(0x21e)],'fromMe':_0x3ff792[_0x2f0f49(0x310)],'id':_0x3ff792['id']}));await this['client']['readMessages'](_0x31a10a);let _0x2fa6cf=_0x31a10a[_0x2f0f49(0x5ac)](_0x42f79f=>this[_0x2f0f49(0x437)](_0x42f79f,{'status':_0x2f0f49(0x715),'owner':this['instance'][_0x2f0f49(0x6bf)]})),_0x4db32d=_0x31a10a['map'](_0x10ff66=>this['repository'][_0x2f0f49(0x35b)][_0x2f0f49(0x2e6)]({'where':{'_id':_0x10ff66[_0x2f0f49(0x21e)]}},{'unreadcount':0x0},this[_0x2f0f49(0x251)][_0x2f0f49(0x6bf)])),[_0x2ba4f4,_0x3fb78d]=await Promise[_0x2f0f49(0x5da)]([Promise[_0x2f0f49(0x5da)](_0x2fa6cf),Promise[_0x2f0f49(0x5da)](_0x4db32d)]);return _0x3fb78d[_0x2f0f49(0x4a1)](_0x37390a=>_0x37390a!==null)[_0x2f0f49(0x200)](_0x2e20ee=>{const _0x37c424=_0x2f0f49;j(this['instanceName'],_0x37c424(0x372),{'chat':_0x2e20ee});}),{'message':_0x2f0f49(0x3b0),'read':_0x2f0f49(0x10d)};}catch(_0x3f9e06){throw console[_0x2f0f49(0x55a)](_0x2f0f49(0x1fa),_0x3f9e06),new O(_0x2f0f49(0x376),_0x3f9e06[_0x2f0f49(0x3bc)]());}}async[a0_0x4d4566(0x4de)](_0x966308){const _0x44fcc0=a0_0x4d4566;let _0x5e6ccd={'where':{'key':{'remoteJid':_0x966308}},'limit':0x1},_0x3540a0=await this[_0x44fcc0(0x287)](_0x5e6ccd);return _0x3540a0||(console[_0x44fcc0(0x55a)](_0x44fcc0(0x257),_0x966308),null);}async[a0_0x4d4566(0x1bb)](_0x416974){const _0x3dcfd3=a0_0x4d4566;this[_0x3dcfd3(0x5cc)][_0x3dcfd3(0x5d0)](_0x3dcfd3(0x3e1));try{let _0x126a5f=_0x416974[_0x3dcfd3(0x448)],_0x347bfb=_0x416974[_0x3dcfd3(0x35b)];if(!_0x126a5f&&_0x347bfb?_0x126a5f=await this['getLastMessage'](_0x347bfb):(_0x126a5f=_0x416974[_0x3dcfd3(0x448)],_0x126a5f['messageTimestamp']=_0x126a5f?.['messageTimestamp']??Date[_0x3dcfd3(0x43a)](),_0x347bfb=_0x126a5f?.[_0x3dcfd3(0x583)]?.[_0x3dcfd3(0x21e)]),!_0x126a5f||Object['keys'](_0x126a5f)[_0x3dcfd3(0x4d8)]===0x0)throw new F(_0x3dcfd3(0x164));this[_0x3dcfd3(0x5cc)][_0x3dcfd3(0x5d0)](_0x3dcfd3(0x637)+_0x347bfb);try{await this['client'][_0x3dcfd3(0x26d)]({'archive':_0x416974['archive'],'lastMessages':[_0x126a5f]},this[_0x3dcfd3(0x216)](_0x347bfb));}catch(_0x42d25b){this['logger'][_0x3dcfd3(0x55a)](_0x3dcfd3(0x67f)+_0x347bfb+':\x20'+_0x42d25b[_0x3dcfd3(0x3bc)]());}this[_0x3dcfd3(0x5cc)][_0x3dcfd3(0x5d0)](_0x3dcfd3(0x231)+_0x347bfb);let _0x5df25e=await this[_0x3dcfd3(0x5bc)][_0x3dcfd3(0x35b)][_0x3dcfd3(0x2e6)]({'where':{'_id':_0x126a5f?.[_0x3dcfd3(0x583)]?.['remoteJid']}},{'archived':_0x416974['archive']},this[_0x3dcfd3(0x251)][_0x3dcfd3(0x6bf)]);return _0x5df25e?(this[_0x3dcfd3(0x5cc)][_0x3dcfd3(0x5d0)](_0x3dcfd3(0x356)+JSON[_0x3dcfd3(0x4a7)](_0x5df25e)),j(this[_0x3dcfd3(0x3fa)],'chats',{'chat':_0x5df25e})):this[_0x3dcfd3(0x5cc)][_0x3dcfd3(0x55a)](_0x3dcfd3(0x445)+_0x347bfb),{'chatId':_0x347bfb,'archived':_0x416974[_0x3dcfd3(0x315)]};}catch(_0x544755){throw this[_0x3dcfd3(0x5cc)][_0x3dcfd3(0x55a)](_0x3dcfd3(0x3d1)+_0x544755[_0x3dcfd3(0x3bc)]()),new O({'archived':!0x1,'message':[_0x3dcfd3(0x15c),_0x544755[_0x3dcfd3(0x3bc)]()]});}}async[a0_0x4d4566(0x25a)](_0x439893){const _0x3d0c26=a0_0x4d4566;try{let _0xf310fc=await this['client'][_0x3d0c26(0x64d)](_0x439893[_0x3d0c26(0x21e)],{'delete':_0x439893});try{let _0x4b6f54=await this[_0x3d0c26(0x437)](_0x439893,{'status':'DELETED','owner':this[_0x3d0c26(0x251)][_0x3d0c26(0x6bf)]});this[_0x3d0c26(0x5cc)][_0x3d0c26(0x5d0)](this[_0x3d0c26(0x3fa)]+'\x20('+this['instance'][_0x3d0c26(0x6bf)]+_0x3d0c26(0x394)+_0x4b6f54);}catch(_0x492e3d){console[_0x3d0c26(0x55a)](_0x3d0c26(0x6da),_0x492e3d);}return _0xf310fc;}catch(_0x2ebe22){throw new O(_0x3d0c26(0x4ba),_0x2ebe22?.[_0x3d0c26(0x3bc)]());}}async['getBase64FromMediaMessage'](_0x154ed4){const _0x1efd57=a0_0x4d4566;try{let _0x595706=_0x154ed4?.['message']?_0x154ed4:await this[_0x1efd57(0x2a7)](_0x154ed4[_0x1efd57(0x583)],!0x0);for(let _0x17c84f of pa)_0x595706[_0x1efd57(0x604)][_0x17c84f]&&(_0x595706[_0x1efd57(0x604)]=_0x595706[_0x1efd57(0x604)][_0x17c84f][_0x1efd57(0x604)]);let _0x3a6b78,_0xcad042;for(let _0x287f68 of da)if(_0x3a6b78=_0x595706['message'][_0x287f68],_0x3a6b78){_0xcad042=_0x287f68;break;}if(!_0x3a6b78)throw _0x1efd57(0x4fe);typeof _0x3a6b78[_0x1efd57(0x6c4)]==_0x1efd57(0x252)&&(_0x595706['message']=JSON['parse'](JSON[_0x1efd57(0x4a7)](_0x595706[_0x1efd57(0x604)])));let _0x2fc7eb=await(0x0,w['downloadMediaMessage'])({'key':_0x595706?.[_0x1efd57(0x583)],'message':_0x595706?.[_0x1efd57(0x604)]},_0x1efd57(0x614),{},{'logger':(0x0,At[_0x1efd57(0x10e)])({'level':_0x1efd57(0x48a)}),'reuploadRequest':this[_0x1efd57(0x169)][_0x1efd57(0x245)]});if(!(_0x2fc7eb instanceof Buffer))throw new Error(_0x1efd57(0x461));let _0x43d7f7=this['configService'][_0x1efd57(0x5f2)](_0x1efd57(0x33f)),_0x5f0f9d,_0x22f736;if(_0x3a6b78[_0x1efd57(0x1ab)])_0x5f0f9d=_0x3a6b78[_0x1efd57(0x1ab)];else{let _0x1d1e08=_0x3a6b78[_0x1efd57(0x378)]?.[_0x1efd57(0x6ae)](/\/(\w+)/),_0x7f86b7=_0x1d1e08?_0x1d1e08[0x1]:null;if(!_0x7f86b7)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x5f0f9d=(0x0,Me['v4'])()+'.'+_0x7f86b7;}_0xcad042==='audioMessage'&&_0x3a6b78['mimetype']===_0x1efd57(0x6a9)?(_0x5f0f9d=(0x0,Me['v4'])()+'.ogg',_0x22f736=_0x1efd57(0x14d)+await this['convertaudio'](_0x2fc7eb[_0x1efd57(0x3bc)](_0x1efd57(0x451)))):(await this[_0x1efd57(0x428)](_0x2fc7eb,_0x5f0f9d),_0x22f736='/media/'+_0x5f0f9d);let _0x59bd2f=this[_0x1efd57(0x57f)][_0x1efd57(0x5f2)](_0x1efd57(0x561))[_0x1efd57(0x360)];if(!_0x59bd2f){let _0x17675d=this[_0x1efd57(0x57f)][_0x1efd57(0x5f2)](_0x1efd57(0x369));_0x59bd2f=_0x1efd57(0x429)+(_0x17675d&&_0x17675d[_0x1efd57(0x44d)]['split']('/')[0x4]);}_0x22f736=''+_0x59bd2f+_0x22f736;let _0x3a3b3d=0xc*0x3c*0x3c*0x3e8,_0xe66073={'where':{'_id':_0x595706['key']['id']}},_0x51bf17={'message_normalized.fileUrl':_0x22f736,'message_normalized.expires_fileUrl':Date[_0x1efd57(0x43a)]()+_0x3a3b3d};try{let _0xb49091=await this[_0x1efd57(0x5bc)]['message'][_0x1efd57(0x70f)](_0xe66073,_0x51bf17,this['instance']['wuid']);_0xb49091&&j(this['instanceName'],_0x1efd57(0x3be),{'message':_0xb49091});}catch(_0x18467a){this[_0x1efd57(0x5cc)]['error'](this[_0x1efd57(0x3fa)]+'\x20('+this[_0x1efd57(0x251)][_0x1efd57(0x6bf)]+_0x1efd57(0x192)+(_0x18467a instanceof Error?_0x18467a['message']:JSON[_0x1efd57(0x4a7)](_0x18467a,null,0x2)));}return{'mediaType':_0xcad042,'fileName':_0x3a6b78['fileName'],'caption':_0x3a6b78[_0x1efd57(0x6fa)],'size':{'fileLength':_0x3a6b78['fileLength'],'height':_0x3a6b78['height'],'width':_0x3a6b78[_0x1efd57(0x35a)]},'mimetype':_0x3a6b78[_0x1efd57(0x378)],'base64':_0x2fc7eb['toString']('base64'),'fileUrl':_0x22f736,'expires_fileUrl':Date[_0x1efd57(0x43a)]()+_0x3a3b3d};}catch(_0x56ca48){throw this[_0x1efd57(0x5cc)][_0x1efd57(0x55a)](this[_0x1efd57(0x3fa)]+'\x20('+this['instance'][_0x1efd57(0x6bf)]+_0x1efd57(0x192)+(_0x56ca48 instanceof Error?_0x56ca48['message']:JSON[_0x1efd57(0x4a7)](_0x56ca48,null,0x2))),new m(_0x56ca48[_0x1efd57(0x3bc)]());}}async[a0_0x4d4566(0x428)](_0x4263f0,_0x37ee0b){const _0x3c14fe=a0_0x4d4566;let _0x34ab87=q[_0x3c14fe(0x10e)]['join'](__dirname,_0x3c14fe(0x3ea));L['existsSync'](_0x34ab87)||L[_0x3c14fe(0x5d7)](_0x34ab87,{'recursive':!0x0});let _0x215739=q['default'][_0x3c14fe(0x3f7)](_0x34ab87,_0x37ee0b);return new Promise((_0x2be7ea,_0xde59f4)=>{const _0x36cfc4=_0x3c14fe;L[_0x36cfc4(0x734)](_0x215739,_0x4263f0,_0x5d21cd=>{const _0x56c918=_0x36cfc4;_0x5d21cd?(this[_0x56c918(0x5cc)][_0x56c918(0x55a)](_0x56c918(0x584)+(_0x5d21cd instanceof Error?_0x5d21cd[_0x56c918(0x604)]:JSON['stringify'](_0x5d21cd,null,0x2))),_0xde59f4(_0x5d21cd)):(this['logger'][_0x56c918(0x2ab)]('File\x20written\x20to\x20path:\x20'+_0x215739),_0x2be7ea(_0x215739));});});}async['fetchContacts'](_0x3466af){const _0x1428c2=a0_0x4d4566;return await this[_0x1428c2(0x5bc)]['contact'][_0x1428c2(0x4df)](_0x3466af,this[_0x1428c2(0x251)][_0x1428c2(0x6bf)]);}async[a0_0x4d4566(0x11b)](){const _0x4e1dad=a0_0x4d4566;return await this[_0x4e1dad(0x5bc)]['label'][_0x4e1dad(0x4df)]({'where':{}},this[_0x4e1dad(0x251)]['wuid']);}async[a0_0x4d4566(0x287)](_0x27115a){const _0x5a321a=a0_0x4d4566;return await this[_0x5a321a(0x5bc)][_0x5a321a(0x604)][_0x5a321a(0x4df)](_0x27115a,this[_0x5a321a(0x251)][_0x5a321a(0x6bf)]);}async['fetchChats'](){const _0x186535=a0_0x4d4566;return this[_0x186535(0x5bc)][_0x186535(0x35b)]['updateMissingLabels'](this[_0x186535(0x251)]['wuid']),this['repository'][_0x186535(0x35b)][_0x186535(0x6c0)](this['instance'][_0x186535(0x6bf)]),this[_0x186535(0x5bc)][_0x186535(0x35b)][_0x186535(0x31b)](this[_0x186535(0x251)][_0x186535(0x6bf)]),this[_0x186535(0x5bc)]['chat'][_0x186535(0x27a)](this['instance'][_0x186535(0x6bf)]),await this['repository'][_0x186535(0x35b)][_0x186535(0x4df)]({'where':{}},this['instance'][_0x186535(0x6bf)]);}async[a0_0x4d4566(0x276)](_0x2960ef){const _0x23ae32=a0_0x4d4566;try{if(!Array[_0x23ae32(0x346)](_0x2960ef)||_0x2960ef['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x1ffbe6=[],_0x4dfb19=[];for(let _0x44e74d of _0x2960ef){if(_0x44e74d[_0x23ae32(0x218)])_0x44e74d[_0x23ae32(0x218)]=this[_0x23ae32(0x216)](_0x44e74d[_0x23ae32(0x218)]);else continue;await this[_0x23ae32(0x5bc)]['chat'][_0x23ae32(0x513)]({'where':{'_id':_0x44e74d['_id']}},this[_0x23ae32(0x251)][_0x23ae32(0x6bf)])?_0x4dfb19['push']({'_id':_0x44e74d[_0x23ae32(0x218)],'leadInfo':_0x44e74d[_0x23ae32(0x224)],'owner':this[_0x23ae32(0x251)][_0x23ae32(0x6bf)]}):_0x1ffbe6[_0x23ae32(0x52c)]({'_id':_0x44e74d[_0x23ae32(0x218)],'owner':this[_0x23ae32(0x251)][_0x23ae32(0x6bf)],'leadInfo':_0x44e74d['leadInfo'],'imported':!0x0});}return _0x4dfb19[_0x23ae32(0x4d8)]>0x0&&await this[_0x23ae32(0x5bc)][_0x23ae32(0x35b)][_0x23ae32(0x20b)](_0x4dfb19[_0x23ae32(0x5ac)](_0x4fe392=>({'query':{'where':{'_id':_0x4fe392['_id'],'owner':this[_0x23ae32(0x251)][_0x23ae32(0x6bf)]}},'update':_0x4fe392}))),_0x1ffbe6[_0x23ae32(0x4d8)]>0x0&&await this[_0x23ae32(0x5bc)][_0x23ae32(0x35b)][_0x23ae32(0x3b4)](_0x1ffbe6,this[_0x23ae32(0x251)][_0x23ae32(0x6bf)]),{'updated':_0x4dfb19['length'],'inserted':_0x1ffbe6['length']};}catch(_0x44db5e){throw console['error']('Erro\x20ao\x20importar\x20chats:',_0x44db5e),_0x44db5e;}}async['importChats'](_0x1458e3){const _0xe7e770=a0_0x4d4566;try{if(!Array['isArray'](_0x1458e3)||_0x1458e3[_0xe7e770(0x4d8)]===0x0)throw new Error(_0xe7e770(0x3af));let _0x254801=0x64,_0x1e3131=0x0;for(let _0x1ab4b2=0x0;_0x1ab4b2<_0x1458e3[_0xe7e770(0x4d8)];_0x1ab4b2+=_0x254801){let _0x2637d2=_0x1458e3['slice'](_0x1ab4b2,_0x1ab4b2+_0x254801),{updated:_0x59b332}=await this[_0xe7e770(0x44f)](_0x2637d2);_0x1e3131+=_0x59b332;}return{'updated':_0x1e3131};}catch(_0x2b1aef){throw console['error'](_0xe7e770(0x5be),_0x2b1aef),_0x2b1aef;}}async['importChatsBatch'](_0x316314){const _0x138898=a0_0x4d4566;try{let _0x10ba55=await this['repository'][_0x138898(0x197)][_0x138898(0x4df)]({'where':{}},this[_0x138898(0x251)]['wuid']),_0x140737=new Set(_0x10ba55['map'](_0x522009=>_0x522009[_0x138898(0x218)])),_0x5748c0=[],_0x38333f=[];for(let _0x52a9f0 of _0x316314){if(!_0x52a9f0[_0x138898(0x218)])continue;_0x52a9f0[_0x138898(0x218)]=this[_0x138898(0x216)](_0x52a9f0['_id']);let _0x2243dc=await this['repository'][_0x138898(0x35b)][_0x138898(0x513)]({'where':{'_id':_0x52a9f0[_0x138898(0x218)]}},this[_0x138898(0x251)][_0x138898(0x6bf)]),_0x43f792={};if(Object[_0x138898(0x3d7)](_0x52a9f0[_0x138898(0x224)])[_0x138898(0x200)](([_0x2aaa66,_0x552dc5])=>{_0x43f792['leadInfo.'+_0x2aaa66]=_0x552dc5;}),_0x2243dc){let _0x5eca0a=(_0x52a9f0[_0x138898(0x224)][_0x138898(0x314)]||[])[_0x138898(0x4a1)](_0x2856d0=>_0x140737['has'](_0x2856d0)),_0x11c808=new Set(_0x2243dc[_0x138898(0x224)][_0x138898(0x314)]||[]),_0x472e41=_0x5eca0a[_0x138898(0x4a1)](_0x189de1=>!_0x11c808[_0x138898(0x2b6)](_0x189de1)),_0x2a9d2c=[..._0x11c808][_0x138898(0x4a1)](_0x2dc5e0=>!_0x5eca0a[_0x138898(0x5a9)](_0x2dc5e0));_0x38333f[_0x138898(0x52c)](..._0x472e41[_0x138898(0x5ac)](_0x38dd25=>this['AddChatLabel'](_0x38dd25,_0x52a9f0['_id']))),_0x38333f[_0x138898(0x52c)](..._0x2a9d2c[_0x138898(0x5ac)](_0x1acb5c=>this[_0x138898(0x19e)](_0x1acb5c,_0x52a9f0['_id']))),_0x52a9f0[_0x138898(0x224)][_0x138898(0x314)]=_0x5eca0a,_0x5748c0[_0x138898(0x52c)]({'query':{'where':{'_id':_0x52a9f0[_0x138898(0x218)],'owner':this[_0x138898(0x251)][_0x138898(0x6bf)]}},'update':_0x43f792});}else _0x43f792[_0x138898(0x23f)]=!0x0,_0x5748c0[_0x138898(0x52c)]({'query':{'where':{'_id':_0x52a9f0[_0x138898(0x218)],'owner':this[_0x138898(0x251)]['wuid']}},'update':_0x43f792});}let _0x12f549=await this[_0x138898(0x5bc)][_0x138898(0x35b)][_0x138898(0x20b)](_0x5748c0);return await Promise[_0x138898(0x5da)](_0x38333f),{'updated':_0x12f549};}catch(_0x310852){throw console[_0x138898(0x55a)]('Erro\x20ao\x20importar\x20chats:',_0x310852),_0x310852;}}async['fetchPrivacySettings'](){const _0x5da719=a0_0x4d4566;return await this['client'][_0x5da719(0x44c)]();}async[a0_0x4d4566(0x5bd)](_0x5d02a7){const _0x3ab84d=a0_0x4d4566;try{return await this[_0x3ab84d(0x169)][_0x3ab84d(0x608)](_0x5d02a7[_0x3ab84d(0x58f)]['readreceipts']),await this['client'][_0x3ab84d(0x48b)](_0x5d02a7['privacySettings'][_0x3ab84d(0x1fd)]),await this[_0x3ab84d(0x169)][_0x3ab84d(0x40a)](_0x5d02a7['privacySettings'][_0x3ab84d(0x1d6)]),await this[_0x3ab84d(0x169)]['updateOnlinePrivacy'](_0x5d02a7['privacySettings'][_0x3ab84d(0x120)]),await this['client']['updateLastSeenPrivacy'](_0x5d02a7[_0x3ab84d(0x58f)][_0x3ab84d(0x685)]),await this[_0x3ab84d(0x169)][_0x3ab84d(0x3e7)](_0x5d02a7['privacySettings']['groupadd']),this[_0x3ab84d(0x169)]?.['ws']?.['close'](),{'update':_0x3ab84d(0x10d),'data':{'readreceipts':_0x5d02a7[_0x3ab84d(0x58f)][_0x3ab84d(0x540)],'profile':_0x5d02a7[_0x3ab84d(0x58f)]['profile'],'status':_0x5d02a7[_0x3ab84d(0x58f)][_0x3ab84d(0x1d6)],'online':_0x5d02a7['privacySettings'][_0x3ab84d(0x120)],'last':_0x5d02a7['privacySettings'][_0x3ab84d(0x685)],'groupadd':_0x5d02a7[_0x3ab84d(0x58f)][_0x3ab84d(0x730)]}};}catch(_0x6dffae){throw new O(_0x3ab84d(0x642),_0x6dffae[_0x3ab84d(0x3bc)]());}}async[a0_0x4d4566(0x533)](_0x4e90f8){const _0x4927fc=a0_0x4d4566;let _0x386053=_0x4e90f8?this[_0x4927fc(0x216)](_0x4e90f8):this['client']?.['user']?.['id'];this['logger'][_0x4927fc(0x5d0)]('Getting\x20profile\x20with\x20jid:\x20'+_0x386053);try{if(this['logger'][_0x4927fc(0x5d0)]('Getting\x20profile\x20info'),_0x4e90f8){let _0x175082=(await this[_0x4927fc(0x368)]({'numbers':[_0x386053]}))?.[_0x4927fc(0x1c2)](),_0x3c06ef=await this[_0x4927fc(0x5b6)](_0x175082?.[_0x4927fc(0x146)]),_0x2c751f=await this[_0x4927fc(0x55c)](_0x175082?.[_0x4927fc(0x146)]),_0x5a6d78=await this[_0x4927fc(0x21a)](_0x175082?.[_0x4927fc(0x146)]);return{'wuid':_0x175082?.['jid']||_0x386053,'name':_0x175082?.[_0x4927fc(0x270)],'numberExists':_0x175082?.['exists'],'picture':_0x3c06ef?.[_0x4927fc(0x4ad)],'status':_0x2c751f?.[_0x4927fc(0x1d6)],'isBusiness':_0x5a6d78['isBusiness'],'email':_0x5a6d78?.[_0x4927fc(0x124)],'description':_0x5a6d78?.[_0x4927fc(0x21d)],'website':_0x5a6d78?.[_0x4927fc(0x2f6)]?.[_0x4927fc(0x1c2)]()};}}catch{return this['logger'][_0x4927fc(0x5d0)](_0x4927fc(0x1a5)),{'wuid':_0x386053,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchProfile'](_0x9df798){const _0x13744b=a0_0x4d4566;let _0x579956=(_0x9df798?this[_0x13744b(0x216)](_0x9df798):this[_0x13744b(0x169)]?.[_0x13744b(0x1c6)]?.['id'])[_0x13744b(0x3ad)](/:\d{1,2}@/g,'@');this[_0x13744b(0x5cc)][_0x13744b(0x5d0)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x579956);let _0x44f87f=await this[_0x13744b(0x5bc)][_0x13744b(0x12e)]['findOne']({'where':{'_id':_0x579956}},this[_0x13744b(0x251)][_0x13744b(0x6bf)]),_0xc2396e=_0x44f87f?_0x44f87f[_0x13744b(0x17a)]:null;try{let _0x39b18f=(await this['whatsappNumber']({'numbers':[_0x579956]}))?.['shift'](),_0x84576c=await this[_0x13744b(0x5b6)](_0x39b18f?.[_0x13744b(0x146)]),_0x500f9a=await this['getStatus'](_0x39b18f?.['jid']),_0x40cef7=await this[_0x13744b(0x21a)](_0x39b18f?.[_0x13744b(0x146)]),_0x5b53e2=await this[_0x13744b(0x5bc)][_0x13744b(0x35b)]['findOne']({'where':{'_id':_0x579956}},this[_0x13744b(0x251)][_0x13744b(0x6bf)]),_0x469348={'imagechat':_0x84576c?.[_0x13744b(0x4ad)],'contactname':_0xc2396e||null,'status':_0x500f9a?.[_0x13744b(0x1d6)],'isBusiness':_0x40cef7[_0x13744b(0x653)],'email':_0x40cef7?.[_0x13744b(0x124)],'description':_0x40cef7?.[_0x13744b(0x21d)],'website':_0x40cef7?.[_0x13744b(0x2f6)]?.[_0x13744b(0x1c2)](),'lastcache':Date['now'](),'imported':!_0x5b53e2},_0x178560=await this['repository'][_0x13744b(0x35b)]['updateOne']({'where':{'_id':_0x579956}},_0x469348,this['instance']['wuid']),_0x46c3a5={'owner':this['instance'][_0x13744b(0x6bf)],'_id':_0x579956,'profilePictureUrl':_0x84576c?.[_0x13744b(0x4ad)],'status':_0x500f9a?.[_0x13744b(0x1d6)]};return this['repository'][_0x13744b(0x12e)][_0x13744b(0x70f)]([_0x46c3a5],this[_0x13744b(0x251)][_0x13744b(0x6bf)]),_0x178560&&j(this[_0x13744b(0x3fa)],'chats',{'chat':_0x178560}),{'wuid':_0x39b18f?.[_0x13744b(0x146)]||_0x579956,'name':_0x39b18f?.['name'],'numberExists':_0x39b18f?.['exists'],'picture':_0x84576c?.[_0x13744b(0x4ad)],'status':_0x500f9a?.['status'],'isBusiness':_0x40cef7[_0x13744b(0x653)],'email':_0x40cef7?.[_0x13744b(0x124)],'description':_0x40cef7?.['description'],'website':_0x40cef7?.[_0x13744b(0x2f6)]?.[_0x13744b(0x1c2)]()};}catch(_0x540138){return this[_0x13744b(0x5cc)][_0x13744b(0x55a)](_0x13744b(0x53d)+(_0x540138 instanceof Error?_0x540138[_0x13744b(0x604)]:JSON[_0x13744b(0x4a7)](_0x540138,null,0x2))),{};}}async[a0_0x4d4566(0x21a)](_0x215c37){const _0x55b529=a0_0x4d4566;this[_0x55b529(0x5cc)][_0x55b529(0x5d0)](_0x55b529(0x1b4));try{let _0xd3e86c=_0x215c37?this['createJid'](_0x215c37):this[_0x55b529(0x251)][_0x55b529(0x6bf)],_0x18f909=await this[_0x55b529(0x169)]['getBusinessProfile'](_0xd3e86c);return this[_0x55b529(0x5cc)]['verbose'](_0x55b529(0x1cd)),_0x18f909?(this[_0x55b529(0x5cc)]['verbose'](_0x55b529(0x4d4)),{'isBusiness':!0x0,..._0x18f909}):{'isBusiness':!0x1,'message':_0x55b529(0x542),...(await this[_0x55b529(0x368)]({'numbers':[_0xd3e86c]}))?.[_0x55b529(0x1c2)]()};}catch(_0x1b5c7c){throw new O(_0x55b529(0x350),_0x1b5c7c[_0x55b529(0x3bc)]());}}async['getStatus'](_0x14669e){const _0xa2da9b=a0_0x4d4566;let _0x342f40=this['createJid'](_0x14669e);try{return{'wuid':_0x342f40,'status':(await this[_0xa2da9b(0x169)][_0xa2da9b(0x4a4)](_0x342f40))?.[_0xa2da9b(0x1d6)]};}catch{return{'wuid':_0x342f40,'status':null};}}async[a0_0x4d4566(0x373)](_0x407cc7){const _0x58e84d=a0_0x4d4566;try{return await this[_0x58e84d(0x169)][_0x58e84d(0x373)](_0x407cc7),{'update':_0x58e84d(0x10d)};}catch(_0x2c4c7b){throw new O('Error\x20updating\x20profile\x20name',_0x2c4c7b['toString']());}}async[a0_0x4d4566(0x28c)](_0x5df832){const _0x40a60e=a0_0x4d4566;try{return await this[_0x40a60e(0x169)][_0x40a60e(0x28c)](_0x5df832),{'update':'success'};}catch(_0x359212){throw new O('Error\x20updating\x20profile\x20status',_0x359212['toString']());}}async[a0_0x4d4566(0x486)](_0x53e26f){const _0x297cd6=a0_0x4d4566;try{let _0x58d60d;if((0x0,k['isURL'])(_0x53e26f)){let _0x204869=new Date()[_0x297cd6(0x2d2)](),_0x53ad4e=_0x53e26f+_0x297cd6(0x383)+_0x204869;_0x58d60d=(await se[_0x297cd6(0x10e)][_0x297cd6(0x5f2)](_0x53ad4e,{'responseType':'arraybuffer'}))[_0x297cd6(0x340)];}else{if((0x0,k[_0x297cd6(0x6a6)])(_0x53e26f))_0x58d60d=Buffer[_0x297cd6(0x66b)](_0x53e26f,'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client']['updateProfilePicture'](this['instance'][_0x297cd6(0x6bf)],_0x58d60d),{'update':_0x297cd6(0x10d)};}catch(_0x530843){throw new O(_0x297cd6(0x1b0),_0x530843['toString']());}}async['removeProfilePicture'](){const _0x210d1d=a0_0x4d4566;try{return await this[_0x210d1d(0x169)][_0x210d1d(0x50a)](this['instance'][_0x210d1d(0x6bf)]),{'update':_0x210d1d(0x10d)};}catch(_0x495542){throw new O(_0x210d1d(0x150),_0x495542[_0x210d1d(0x3bc)]());}}async[a0_0x4d4566(0x5dd)](_0x1c7810){const _0x201abc=a0_0x4d4566;try{let _0x2efbc1=_0x1c7810['participants'][_0x201abc(0x5ac)](_0x5a62e5=>this[_0x201abc(0x216)](_0x5a62e5)),{id:_0x34fa09}=await this[_0x201abc(0x169)]['groupCreate'](_0x1c7810[_0x201abc(0x5d5)],_0x2efbc1);return _0x1c7810?.[_0x201abc(0x21d)]&&await this['client'][_0x201abc(0x1c3)](_0x34fa09,_0x1c7810[_0x201abc(0x21d)]),{'metadata':await this['client'][_0x201abc(0x5c7)](_0x34fa09)};}catch(_0x5a6be5){throw this['logger'][_0x201abc(0x55a)](this[_0x201abc(0x3fa)]+'\x20('+this['instance'][_0x201abc(0x6bf)]+_0x201abc(0x192)+(_0x5a6be5 instanceof Error?_0x5a6be5[_0x201abc(0x604)]:JSON['stringify'](_0x5a6be5,null,0x2))),new O(_0x201abc(0x417),_0x5a6be5[_0x201abc(0x3bc)]());}}async[a0_0x4d4566(0x4e1)](_0x5c64ae){const _0x4a3d7d=a0_0x4d4566;try{let _0x4bcb05;if((0x0,k['isURL'])(_0x5c64ae[_0x4a3d7d(0x132)])){let _0xd29361=new Date()[_0x4a3d7d(0x2d2)](),_0x74cb4e=_0x5c64ae[_0x4a3d7d(0x132)]+_0x4a3d7d(0x383)+_0xd29361;_0x4bcb05=(await se[_0x4a3d7d(0x10e)][_0x4a3d7d(0x5f2)](_0x74cb4e,{'responseType':_0x4a3d7d(0x5f1)}))[_0x4a3d7d(0x340)];}else{if((0x0,k[_0x4a3d7d(0x6a6)])(_0x5c64ae[_0x4a3d7d(0x132)]))_0x4bcb05=Buffer[_0x4a3d7d(0x66b)](_0x5c64ae[_0x4a3d7d(0x132)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x4a3d7d(0x169)][_0x4a3d7d(0x486)](_0x5c64ae[_0x4a3d7d(0x601)],_0x4bcb05),{'update':_0x4a3d7d(0x10d)};}catch(_0x144de4){throw new O(_0x4a3d7d(0x1dc),_0x144de4[_0x4a3d7d(0x3bc)]());}}async['findGroup'](_0x28b771,_0x6cddbc=a0_0x4d4566(0x652)){const _0x18dbd7=a0_0x4d4566;try{let _0x1ffafc=await this[_0x18dbd7(0x169)][_0x18dbd7(0x5c7)](_0x28b771[_0x18dbd7(0x601)]),_0x3414ba=null;try{_0x3414ba=(await this[_0x18dbd7(0x5b6)](_0x28b771[_0x18dbd7(0x601)]))[_0x18dbd7(0x4ad)];}catch(_0x778fea){this[_0x18dbd7(0x5cc)]['verbose'](this['instanceName']+'\x20('+this[_0x18dbd7(0x251)][_0x18dbd7(0x6bf)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x28b771[_0x18dbd7(0x601)]+':\x20'+(_0x778fea instanceof Error?_0x778fea[_0x18dbd7(0x604)]:JSON['stringify'](_0x778fea,null,0x2)));}let _0x23394a=await this[_0x18dbd7(0x5bc)][_0x18dbd7(0x35b)][_0x18dbd7(0x2e6)]({'where':{'_id':_0x28b771[_0x18dbd7(0x601)]}},{'imagechat':_0x3414ba,'name':_0x1ffafc['subject'],'group_size':_0x1ffafc['size'],'group_announce':_0x1ffafc[_0x18dbd7(0x74f)],'lastcache':Date[_0x18dbd7(0x43a)]()},this[_0x18dbd7(0x251)][_0x18dbd7(0x6bf)]);return _0x23394a&&j(this[_0x18dbd7(0x3fa)],_0x18dbd7(0x372),{'chat':_0x23394a}),{'metadata':_0x1ffafc,'image':_0x3414ba};}catch(_0x3ed396){if(_0x6cddbc==='inner')return;throw new F(_0x18dbd7(0x256),_0x3ed396['toString']());}}async['groupDesc'](_0xd0530d){const _0xf179dc=a0_0x4d4566;try{return await this[_0xf179dc(0x169)][_0xf179dc(0x1c3)](_0xd0530d[_0xf179dc(0x601)],_0xd0530d[_0xf179dc(0x21d)]),{'update':_0xf179dc(0x10d)};}catch(_0x4679dd){throw new O('Error\x20change\x20group\x20description',_0x4679dd[_0xf179dc(0x3bc)]());}}async['groupName'](_0x57acfc){const _0xe0a622=a0_0x4d4566;try{return await this[_0xe0a622(0x169)][_0xe0a622(0x2be)](_0x57acfc[_0xe0a622(0x601)],_0x57acfc[_0xe0a622(0x270)]),{'update':'success'};}catch(_0x26e99c){throw new O(_0xe0a622(0x574),_0x26e99c['toString']());}}async[a0_0x4d4566(0x243)](_0x51f299){const _0x23eca6=a0_0x4d4566;try{return await this['client'][_0x23eca6(0x3de)](_0x51f299[_0x23eca6(0x601)],_0x51f299[_0x23eca6(0x5ff)]),{'update':_0x23eca6(0x10d)};}catch(_0x327545){throw new O(_0x23eca6(0x36f),_0x327545[_0x23eca6(0x3bc)]());}}async['findGroups'](){const _0x3884ef=a0_0x4d4566;try{let _0x7f1a45=[],_0x56f638=await this[_0x3884ef(0x169)]['groupFetchAllParticipating'](),_0xc13b5=Object['values'](_0x56f638),_0x124cea=_0xc13b5[_0x3884ef(0x4a1)](_0x2553c9=>(0x0,w['isJidGroup'])(_0x2553c9?.['id']))[_0x3884ef(0x5ac)](async _0x5bab24=>{const _0x282fe1=_0x3884ef;try{return await this['client']['profilePictureUrl'](_0x5bab24['id'],'preview');}catch(_0x244192){return this[_0x282fe1(0x5cc)][_0x282fe1(0x5d0)](this[_0x282fe1(0x3fa)]+'\x20('+this[_0x282fe1(0x251)][_0x282fe1(0x6bf)]+_0x282fe1(0x616)+_0x5bab24['id']+':\x20'+(_0x244192 instanceof Error?_0x244192[_0x282fe1(0x604)]:JSON[_0x282fe1(0x4a7)](_0x244192,null,0x2))),null;}}),_0xa560a2=await Promise[_0x3884ef(0x5da)](_0x124cea);for(let _0x5a066f=0x0;_0x5a066f<_0xc13b5[_0x3884ef(0x4d8)];_0x5a066f++){let _0xb45dfb=_0xc13b5[_0x5a066f];(0x0,w[_0x3884ef(0x5c4)])(_0xb45dfb?.['id'])&&_0x7f1a45[_0x3884ef(0x52c)]({'groupJid':_0xb45dfb?.['id'],'subject':_0xb45dfb?.[_0x3884ef(0x5d5)],'subjectOwner':_0xb45dfb?.[_0x3884ef(0x2df)]?.['split']('@')[0x0],'subjectTime':_0xb45dfb?.[_0x3884ef(0x5d9)],'size':_0xb45dfb?.['participants']?.[_0x3884ef(0x4d8)],'owner':_0xb45dfb?.[_0x3884ef(0x697)]?.['split']('@')[0x0],'creation':_0xb45dfb?.['creation'],'desc':_0xb45dfb?.[_0x3884ef(0x5f5)],'restrict':_0xb45dfb?.['restrict'],'announce':_0xb45dfb?.[_0x3884ef(0x74f)],'image':_0xa560a2[_0x5a066f]});}return _0x7f1a45;}catch(_0xc15e6c){throw new F('Error\x20fetching\x20group',_0xc15e6c['toString']());}}async['inviteCode'](_0x1a10b9){const _0x2c0c9c=a0_0x4d4566;try{let _0x4402be=await this[_0x2c0c9c(0x169)][_0x2c0c9c(0x3e0)](_0x1a10b9[_0x2c0c9c(0x601)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x4402be,'inviteCode':_0x4402be};}catch(_0x2a9d02){throw new F(_0x2c0c9c(0x1da),_0x2a9d02[_0x2c0c9c(0x3bc)]());}}async['revokeInviteCode'](_0x287776){const _0x353eba=a0_0x4d4566;try{let _0x598bd9=await this[_0x353eba(0x169)]['groupRevokeInvite'](_0x287776[_0x353eba(0x601)]);return{'revoked':!0x0,'inviteUrl':_0x353eba(0x3a6)+_0x598bd9,'inviteCode':_0x598bd9};}catch(_0x282627){throw new F('Revoke\x20error',_0x282627[_0x353eba(0x3bc)]());}}async[a0_0x4d4566(0x4f8)](_0x338b48){const _0x705287=a0_0x4d4566;try{if((0x0,k[_0x705287(0x709)])(_0x338b48[_0x705287(0x62b)]))var _0x5390de=_0x338b48[_0x705287(0x62b)]['split']('/')[0x3];else var _0x5390de=_0x338b48['inviteCode'];let _0x42b8b6=await this[_0x705287(0x169)][_0x705287(0x348)](_0x5390de);return this[_0x705287(0x5cc)][_0x705287(0x5d0)](this['instanceName']+'\x20('+this['instance'][_0x705287(0x6bf)]+_0x705287(0x192)+_0x42b8b6),{'join':!0x0,'inviteCode':_0x5390de,'groupJid':_0x42b8b6};}catch(_0x51e053){throw new F(_0x705287(0x672),_0x51e053[_0x705287(0x3bc)]());}}async[a0_0x4d4566(0x147)](_0x45781c){const _0x4555af=a0_0x4d4566;try{return{'participants':(await this['client'][_0x4555af(0x5c7)](_0x45781c[_0x4555af(0x601)]))['participants']};}catch(_0xdcd901){throw new F('No\x20participants',_0xdcd901[_0x4555af(0x3bc)]());}}async[a0_0x4d4566(0x568)](_0x2432e2){const _0x2212f4=a0_0x4d4566;try{let _0x31dc5c=_0x2432e2[_0x2212f4(0x4b1)][_0x2212f4(0x5ac)](_0x330657=>this[_0x2212f4(0x216)](_0x330657));return{'updateParticipants':await this[_0x2212f4(0x169)][_0x2212f4(0x569)](_0x2432e2['groupJid'],_0x31dc5c,_0x2432e2[_0x2212f4(0x14e)])};}catch(_0x3d7d49){throw new m(_0x2212f4(0x446),_0x3d7d49[_0x2212f4(0x3bc)]());}}async[a0_0x4d4566(0x31f)](_0x5c3fab){const _0x10db98=a0_0x4d4566;try{let _0x5be77a=await this[_0x10db98(0x169)][_0x10db98(0xf6)](_0x5c3fab[_0x10db98(0x601)],_0x5c3fab[_0x10db98(0x294)]);return{'success':!0x0};}catch(_0x4c3689){throw new m(_0x10db98(0x660),_0x4c3689['toString']());}}async['leaveGroup'](_0x5e9385){const _0x31cf84=a0_0x4d4566;try{return await this['client']['groupLeave'](_0x5e9385[_0x31cf84(0x601)]),{'groupJid':_0x5e9385[_0x31cf84(0x601)],'leave':!0x0};}catch(_0x291db1){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x291db1[_0x31cf84(0x3bc)]());}}async[a0_0x4d4566(0x2bf)](_0x412f90){const _0x3dc4a8=a0_0x4d4566;return await this['sendMessageWithTyping'](_0x412f90[_0x3dc4a8(0x43c)],{'poll':{'name':_0x412f90[_0x3dc4a8(0x2bf)]?.['name'],'selectableCount':_0x412f90[_0x3dc4a8(0x2bf)][_0x3dc4a8(0x708)],'values':_0x412f90[_0x3dc4a8(0x2bf)]['values']}},_0x412f90?.['options']);}async['listMessage'](_0x3b3b64){const _0x447cad=a0_0x4d4566;return await this[_0x447cad(0x341)](_0x3b3b64[_0x447cad(0x43c)],{'listMessage':{'title':_0x3b3b64[_0x447cad(0x347)][_0x447cad(0x4af)],'description':_0x3b3b64[_0x447cad(0x347)][_0x447cad(0x21d)],'buttonText':_0x3b3b64['listMessage']?.[_0x447cad(0x1d4)],'footerText':_0x3b3b64['listMessage']?.[_0x447cad(0x714)],'sections':_0x3b3b64['listMessage'][_0x447cad(0x2b7)],'listType':0x2}},_0x3b3b64?.[_0x447cad(0x32b)]);}async['menuMessage'](_0x1710c6){const _0x2a937e=a0_0x4d4566;let _0x56b105;if(_0x1710c6['menuMessage']['type']===_0x2a937e(0x223)){let _0xeebd30=_0x1710c6['menuMessage'][_0x2a937e(0x684)][_0x2a937e(0x320)]('\x0a'),_0x2df3eb='',_0x5345a6='';_0xeebd30!==-0x1?(_0x2df3eb=_0x1710c6['menuMessage'][_0x2a937e(0x684)][_0x2a937e(0x1db)](0x0,_0xeebd30)[_0x2a937e(0x34f)](),_0x5345a6=_0x1710c6[_0x2a937e(0x154)]['text'][_0x2a937e(0x1db)](_0xeebd30+0x1)):_0x5345a6=_0x1710c6[_0x2a937e(0x154)][_0x2a937e(0x684)];let _0x3c3bc4=this['createSectionsFromValues'](_0x1710c6[_0x2a937e(0x154)][_0x2a937e(0x361)]);_0x56b105={'listMessage':{'title':_0x2df3eb,'description':_0x5345a6,'buttonText':_0x1710c6[_0x2a937e(0x154)]['buttonText']||_0x2a937e(0x5ef),'footerText':_0x1710c6['menuMessage'][_0x2a937e(0x714)],'sections':_0x3c3bc4,'listType':0x2}};}else{if(_0x1710c6[_0x2a937e(0x154)]['type']===_0x2a937e(0x33a)){let _0x597e18=_0x1710c6[_0x2a937e(0x154)]['choices'][_0x2a937e(0x4a1)](_0x2da53e=>!(_0x2da53e[_0x2a937e(0x2d7)]('[')&&_0x2da53e[_0x2a937e(0x47e)](']')))[_0x2a937e(0x5ac)](_0x4356b8=>_0x4356b8[_0x2a937e(0x4e4)]('\x0a')[0x0]);_0x56b105={'poll':{'name':_0x1710c6[_0x2a937e(0x154)][_0x2a937e(0x684)],'selectableCount':_0x1710c6[_0x2a937e(0x154)][_0x2a937e(0x708)]||0x1,'values':_0x597e18}};}}return await this[_0x2a937e(0x341)](_0x1710c6[_0x2a937e(0x43c)],_0x56b105,_0x1710c6?.[_0x2a937e(0x32b)]);}[a0_0x4d4566(0x42b)](_0x5db51b){const _0x40c8f0=a0_0x4d4566;let _0x1088dd=[],_0x517114={'rows':[]};return _0x5db51b['forEach'](_0x7ad794=>{const _0x524571=a0_0x39b5;if(_0x7ad794[_0x524571(0x2d7)]('[')&&_0x7ad794[_0x524571(0x47e)](']'))_0x517114[_0x524571(0x646)][_0x524571(0x4d8)]>0x0&&_0x1088dd[_0x524571(0x52c)](_0x517114),_0x517114={'title':_0x7ad794[_0x524571(0x2ac)](0x1,-0x1),'rows':[]};else{let _0x525a6b=_0x7ad794['split']('\x0a')['map'](_0xbcd19a=>_0xbcd19a[_0x524571(0x34f)]()),_0xc77baa=_0x525a6b[0x0],_0x45de99=_0x525a6b[0x1]||null,_0x374436=_0x525a6b[0x2]||_0xc77baa;_0x517114[_0x524571(0x646)][_0x524571(0x52c)]({'title':_0xc77baa,'description':_0x45de99,'rowId':_0x374436});}}),_0x517114['rows'][_0x40c8f0(0x4d8)]>0x0&&_0x1088dd[_0x40c8f0(0x52c)](_0x517114),_0x1088dd;}async['updateMessage'](_0xb6bb51,_0x574d13){const _0x258b31=a0_0x4d4566;if(await this[_0x258b31(0x2a7)](_0xb6bb51,!0x0)){let _0x93f338={'where':{'_id':_0xb6bb51['id']}},_0x19e312={'status':[_0x574d13['status']][0x0]};try{let _0x159aed=await this[_0x258b31(0x5bc)][_0x258b31(0x604)][_0x258b31(0x70f)](_0x93f338,_0x19e312,this[_0x258b31(0x251)][_0x258b31(0x6bf)]);_0x159aed&&j(this[_0x258b31(0x3fa)],'messages',{'message':_0x159aed});}catch{}}}[a0_0x4d4566(0x2c9)](_0x46bb50){const _0x22710a=a0_0x4d4566;let _0x100e07=[];return _0x46bb50[_0x22710a(0x200)](_0x2d2ff8=>{const _0x2bf702=_0x22710a;_0x2d2ff8[_0x2bf702(0x4af)]&&_0x100e07[_0x2bf702(0x52c)]('['+_0x2d2ff8[_0x2bf702(0x4af)]+']'),_0x2d2ff8[_0x2bf702(0x646)][_0x2bf702(0x200)](_0x5ae58f=>{const _0x1f83bf=_0x2bf702;_0x100e07[_0x1f83bf(0x52c)](_0x5ae58f[_0x1f83bf(0x4af)]);});}),_0x100e07['join']('|');}[a0_0x4d4566(0x435)](_0x631980){const _0x49fd87=a0_0x4d4566;let _0x4efc70=_0x631980[_0x49fd87(0x3ad)](/\\n/g,'\x0a')[_0x49fd87(0x4e4)]('\x0a')['filter'](_0x2f4f84=>_0x2f4f84[_0x49fd87(0x5a9)](_0x49fd87(0x6f7))||_0x2f4f84[_0x49fd87(0x5a9)](_0x49fd87(0x241))),_0x29d74b='';return _0x4efc70[_0x49fd87(0x200)](_0x470d3c=>{const _0x54dec2=_0x49fd87;let _0x19b77a=/TEL(?:.*):(.+)/,_0x20e60c=/EMAIL(?:.*):(.+)/,_0x332bd1=_0x470d3c[_0x54dec2(0x6ae)](_0x19b77a),_0x685810=_0x470d3c[_0x54dec2(0x6ae)](_0x20e60c);if(_0x332bd1){let _0x5dcea0=_0x332bd1[0x1][_0x54dec2(0x3ad)](/-| |\+|\(|\)/g,'')[_0x54dec2(0x34f)]();_0x29d74b+=_0x54dec2(0x198)+_0x5dcea0+'\x0a';}else{if(_0x685810){let _0x182cf0=_0x685810[0x1][_0x54dec2(0x34f)]();_0x29d74b+=_0x54dec2(0x1ce)+_0x182cf0+'\x0a';}}}),_0x29d74b[_0x49fd87(0x34f)]();}async['updateChatWithMessage'](_0x77093a,_0x4759ba,_0xbbc3b0){const _0x3f0007=a0_0x4d4566;if(!_0x77093a[_0x3f0007(0x298)])return;let _0x57b541=_0x4759ba[_0x3f0007(0x583)][_0x3f0007(0x21e)][_0x3f0007(0x3ad)](/:\d{1,2}@/g,'@'),_0x1f96ba=_0x4759ba[_0x3f0007(0x583)]['fromMe'],_0xcbb96f=_0x57b541['endsWith'](_0x3f0007(0x6bc)),_0x42ef2b=_0x4759ba[_0x3f0007(0x2a5)]?.['text']||_0x4759ba[_0x3f0007(0x2a5)]?.[_0x3f0007(0x6fa)]||_0x4759ba[_0x3f0007(0x2a5)]?.[_0x3f0007(0x534)]||_0x4759ba[_0x3f0007(0x2a5)]?.['name'],_0x5c0de3={'lastmsg':_0x4759ba[_0x3f0007(0xf7)]||Date[_0x3f0007(0x43a)](),'unreadcount':_0x1f96ba?0x0:0x1,..._0x1f96ba||_0xcbb96f?{}:{'name':_0x4759ba[_0x3f0007(0x17a)]},..._0xcbb96f?{'group':_0xcbb96f}:{}},_0x1b72e1=await this[_0x3f0007(0x5bc)]['chat'][_0x3f0007(0x2e6)]({'where':{'_id':_0x57b541}},_0x5c0de3,this['instance']['wuid'],{'new':!0x0,'upsert':!0x0});if(_0x1b72e1[_0x3f0007(0x23f)]){let _0x25698f=await this[_0x3f0007(0x5bc)][_0x3f0007(0x197)][_0x3f0007(0x4df)]({'where':{}},this[_0x3f0007(0x251)][_0x3f0007(0x6bf)]),_0x52deed=new Set(_0x25698f[_0x3f0007(0x5ac)](_0x4c8ab1=>_0x4c8ab1[_0x3f0007(0x218)])),_0x23cd10=(_0x1b72e1[_0x3f0007(0x224)]?.[_0x3f0007(0x314)]||[])['filter'](_0x5748eb=>_0x52deed['has'](_0x5748eb)),_0x1b906f={'leadInfo.etiquetas':_0x23cd10,'imported':!0x1};_0x1b72e1=await this[_0x3f0007(0x5bc)][_0x3f0007(0x35b)][_0x3f0007(0x2e6)]({'where':{'_id':_0x57b541}},_0x1b906f,this['instance'][_0x3f0007(0x6bf)]);for(let _0x5d5e37 of _0x23cd10)await this[_0x3f0007(0x133)](_0x5d5e37,_0x57b541);}if(!_0xcbb96f&&(!_0x1b72e1?.[_0x3f0007(0x224)]||!_0x1b72e1[_0x3f0007(0x224)][_0x3f0007(0x5ce)])&&_0x4759ba[_0x3f0007(0x17a)]&&!_0x1f96ba&&(_0x1b72e1=await this['repository'][_0x3f0007(0x35b)]['updateOne']({'where':{'_id':_0x57b541}},{'leadInfo.nome':_0x3f0007(0x5eb)},this[_0x3f0007(0x251)][_0x3f0007(0x6bf)],{'new':!0x0,'upsert':!0x0})),_0xbbc3b0===_0x3f0007(0x19d)&&_0x1f96ba&&this['AutomateSystem']?.[_0x3f0007(0xfd)][_0x3f0007(0x590)]&&!_0x42ef2b['startsWith'](this['AutomateSystem']?.[_0x3f0007(0xfd)][_0x3f0007(0x6fc)])){let _0x207780=(this['AutomateSystem']?.['flowConfig'][_0x3f0007(0x328)]||0x5)*0xea60,_0x41934d=Date[_0x3f0007(0x43a)]()+_0x207780;_0x1b72e1?.[_0x3f0007(0x224)]?.[_0x3f0007(0x23e)]===0x0||(await this[_0x3f0007(0x5bc)][_0x3f0007(0x35b)]['updateOne']({'where':{'_id':_0x57b541}},{'leadInfo.desativadoFluxoAte':_0x41934d},this['instance']['wuid'],{'new':!0x0,'upsert':!0x1}),this[_0x3f0007(0x5cc)][_0x3f0007(0x5d0)](this[_0x3f0007(0x3fa)]+'\x20('+this[_0x3f0007(0x251)][_0x3f0007(0x6bf)]+_0x3f0007(0x308)+_0x41934d+'.'));}if(_0x1b72e1)j(this['instanceName'],'chats',{'chat':_0x1b72e1});else{this[_0x3f0007(0x5cc)][_0x3f0007(0x55a)](this[_0x3f0007(0x3fa)]+'\x20('+this[_0x3f0007(0x251)][_0x3f0007(0x6bf)]+_0x3f0007(0x3ef));return;}if(!this[_0x3f0007(0x168)]?.[_0x3f0007(0xfd)][_0x3f0007(0x590)])return this['logger'][_0x3f0007(0x5d0)](this[_0x3f0007(0x3fa)]+'\x20('+this[_0x3f0007(0x251)]['wuid']+'):\x20Flow\x20desativado'),null;if(_0x1b72e1[_0x3f0007(0x218)][_0x3f0007(0x5a9)](_0x3f0007(0x6bc))&&this['AutomateSystem']?.[_0x3f0007(0xfd)][_0x3f0007(0x254)]===!0x0)return this[_0x3f0007(0x5cc)][_0x3f0007(0x5d0)](this[_0x3f0007(0x3fa)]+'\x20('+this[_0x3f0007(0x251)]['wuid']+_0x3f0007(0x720)),null;if(_0x1b72e1[_0x3f0007(0x224)]){if(_0x1b72e1['leadInfo']['desativadoFluxoAte']===0x0||_0x1b72e1[_0x3f0007(0x224)][_0x3f0007(0x1e6)])return this[_0x3f0007(0x5cc)][_0x3f0007(0x5d0)](this[_0x3f0007(0x3fa)]+'\x20('+this[_0x3f0007(0x251)][_0x3f0007(0x6bf)]+_0x3f0007(0x352)+_0x57b541+_0x3f0007(0x5f7)),null;if(_0x1b72e1[_0x3f0007(0x224)][_0x3f0007(0x23e)]>Date[_0x3f0007(0x43a)]()&&!_0x4759ba[_0x3f0007(0x2a5)]?.[_0x3f0007(0x534)])return this[_0x3f0007(0x5cc)]['verbose'](this['instanceName']+'\x20('+this[_0x3f0007(0x251)]['wuid']+_0x3f0007(0x271)+new Date(_0x1b72e1['leadInfo'][_0x3f0007(0x23e)])[_0x3f0007(0x504)]()+',\x20saindo.'),null;}this[_0x3f0007(0x5cc)][_0x3f0007(0x5d0)](this['instanceName']+'\x20('+this['instance'][_0x3f0007(0x6bf)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x3f0007(0x379)](_0xbbc3b0,_0x4759ba);}async[a0_0x4d4566(0x212)](_0x384d22,_0x163ca2){const _0x30c2b8=a0_0x4d4566;if(_0x163ca2['ENABLED']){let _0xbfb93f=_0x384d22['map'](async _0x44aadb=>{const _0x47250d=a0_0x39b5;try{let _0x5dc1c5={'_id':_0x44aadb[_0x47250d(0x218)],'owner':_0x44aadb[_0x47250d(0x697)],'lastcache':0x0};if(_0x44aadb[_0x47250d(0x49d)]!==null&&(_0x5dc1c5[_0x47250d(0x49d)]=_0x44aadb['group']),_0x44aadb[_0x47250d(0x270)]!==null&&(_0x5dc1c5[_0x47250d(0x270)]=_0x44aadb[_0x47250d(0x270)]),_0x44aadb['contactname']!==null&&(_0x5dc1c5[_0x47250d(0x48f)]=_0x44aadb['contactname']),_0x44aadb[_0x47250d(0x641)]!==null&&(_0x5dc1c5[_0x47250d(0x641)]=_0x44aadb[_0x47250d(0x641)]),_0x44aadb[_0x47250d(0x641)]===null&&(_0x5dc1c5[_0x47250d(0x641)]='Imagem\x20não\x20encontrada'),_0x44aadb['lastmsg']!==null&&(_0x5dc1c5[_0x47250d(0x632)]=_0x44aadb[_0x47250d(0x632)]),_0x44aadb[_0x47250d(0x6d5)]!==null&&(_0x5dc1c5['archived']=_0x44aadb[_0x47250d(0x6d5)]),_0x44aadb['unreadcount']!==null&&(_0x5dc1c5[_0x47250d(0x735)]=_0x44aadb[_0x47250d(0x735)]),Object[_0x47250d(0x2d3)](_0x5dc1c5)[_0x47250d(0x4d8)]>0x0)return await this[_0x47250d(0x5bc)][_0x47250d(0x35b)][_0x47250d(0x2e6)]({'where':{'_id':_0x44aadb['_id']}},_0x5dc1c5,this['instance'][_0x47250d(0x6bf)]);}catch(_0x2bf145){return console['error'](_0x47250d(0x3a1)+_0x44aadb[_0x47250d(0x218)]+':',_0x2bf145),null;}}),_0x1ce83f=(await Promise[_0x30c2b8(0x5da)](_0xbfb93f))[_0x30c2b8(0x4a1)](_0x50874f=>_0x50874f!==null)[_0x30c2b8(0x4d8)];this[_0x30c2b8(0x5cc)][_0x30c2b8(0x5d0)](this[_0x30c2b8(0x3fa)]+'\x20('+this[_0x30c2b8(0x251)]['wuid']+_0x30c2b8(0x192)+_0x1ce83f+_0x30c2b8(0x28f)+this[_0x30c2b8(0x251)][_0x30c2b8(0x6bf)]+_0x30c2b8(0x17f));}}async[a0_0x4d4566(0x674)](_0xbcba87){const _0x1ae668=a0_0x4d4566;this[_0x1ae668(0x5cc)][_0x1ae668(0x5d0)](this[_0x1ae668(0x3fa)]+'\x20('+this[_0x1ae668(0x251)]['wuid']+_0x1ae668(0x26e));let _0xe95173={'readMessages':[{'remoteJid':_0xbcba87[_0x1ae668(0x135)][_0x1ae668(0x579)]['key'][_0x1ae668(0x21e)],'fromMe':_0xbcba87['chatLog'][_0x1ae668(0x579)]['key'][_0x1ae668(0x310)],'id':_0xbcba87[_0x1ae668(0x135)][_0x1ae668(0x579)][_0x1ae668(0x583)]['id']}]};await this['markMessageAsRead'](_0xe95173);}async[a0_0x4d4566(0x379)](_0x2de714,_0x3429c2){const _0x410219=a0_0x4d4566;try{let {key:_0x203385,message_normalized:_0x1d3945}=_0x3429c2,_0x2d3d60=_0x1d3945,_0x4775ce=_0x1d3945[_0x410219(0x684)]||_0x1d3945[_0x410219(0x6fa)]||_0x1d3945['vote']||_0x1d3945[_0x410219(0x270)],_0x1ba3f6=_0x203385['remoteJid'],_0x422c9c;if(_0x2d3d60[_0x410219(0x583)][_0x410219(0x310)]&&_0x4775ce[_0x410219(0x34f)]()!==this['AutomateSystem']?.[_0x410219(0xfd)]['stopConversation']['trim']())return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x410219(0x6bf)]+_0x410219(0x1e0)),null;if(_0x2d3d60['key'][_0x410219(0x310)]&&_0x4775ce[_0x410219(0x34f)]()===this[_0x410219(0x168)]?.[_0x410219(0xfd)]['stopConversation']['trim']()){this[_0x410219(0x5cc)][_0x410219(0x5d0)](this[_0x410219(0x3fa)]+'\x20('+this[_0x410219(0x251)][_0x410219(0x6bf)]+_0x410219(0x57a));let _0x2623b3=await this['repository'][_0x410219(0x52d)][_0x410219(0x4df)]({'remoteJid':_0x1ba3f6,'status':_0x410219(0x39f)},this[_0x410219(0x251)][_0x410219(0x6bf)]);this[_0x410219(0x5cc)][_0x410219(0x5d0)](this['instanceName']+'\x20('+this[_0x410219(0x251)][_0x410219(0x6bf)]+_0x410219(0x38b)+_0x2623b3);let _0x3f75ab=Date[_0x410219(0x43a)](),_0x1b60e2;return this['AutomateSystem']?.[_0x410219(0xfd)][_0x410219(0x4fa)]===0x0?_0x1b60e2={'stoppedUntil':_0x3f75ab+0x7591f6200}:_0x1b60e2={'stoppedUntil':_0x3f75ab+this['AutomateSystem']?.[_0x410219(0xfd)][_0x410219(0x4fa)]*0x3c*0x3e8},this['logger'][_0x410219(0x5d0)](this[_0x410219(0x3fa)]+'\x20('+this['instance'][_0x410219(0x6bf)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x1b60e2),this[_0x410219(0x351)](_0x422c9c,_0x1b60e2[_0x410219(0x56b)]),null;}if(_0x4775ce&&_0x4775ce['startsWith'](this['AutomateSystem']?.['flowConfig'][_0x410219(0x6fc)])&&_0x4775ce[_0x410219(0x4d8)]>0x4){let _0x55a26e=await this[_0x410219(0x5bc)][_0x410219(0x508)][_0x410219(0x513)]({'where':{'startCommandWord':_0x4775ce}},this[_0x410219(0x251)][_0x410219(0x6bf)]);if(this[_0x410219(0x5cc)][_0x410219(0x5d0)](this[_0x410219(0x3fa)]+'\x20('+this[_0x410219(0x251)][_0x410219(0x6bf)]+_0x410219(0x509)),_0x55a26e)_0x422c9c=await this[_0x410219(0x1bc)](_0x55a26e,_0x2d3d60[_0x410219(0x583)],_0x2d3d60);else return this[_0x410219(0x5cc)][_0x410219(0x5d0)](this[_0x410219(0x3fa)]+'\x20('+this[_0x410219(0x251)]['wuid']+_0x410219(0x63e)),null;}else _0x422c9c=await this[_0x410219(0x436)](_0x1ba3f6,_0x2d3d60);if(_0x422c9c){this[_0x410219(0x5cc)][_0x410219(0x5d0)](this['instanceName']+'\x20('+this[_0x410219(0x251)][_0x410219(0x6bf)]+_0x410219(0x6c2)),!_0x203385[_0x410219(0x310)]&&_0x422c9c[_0x410219(0x3f8)]&&this['readMessageBot'](_0x422c9c);let _0x55a7a6=await this[_0x410219(0x5a2)](_0x422c9c);_0x55a7a6&&await this[_0x410219(0x267)](_0x422c9c,_0x55a7a6);}}catch(_0x3ed18e){this[_0x410219(0x5cc)][_0x410219(0x55a)](this['instanceName']+'\x20('+this[_0x410219(0x251)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x3ed18e instanceof Error?_0x3ed18e[_0x410219(0x604)]:JSON['stringify'](_0x3ed18e,null,0x2)));}}[a0_0x4d4566(0x651)](_0x1434fc,_0x5b3adf='',_0x412fc1={},_0x1b21e9=!0x0){const _0x3e2aa7=a0_0x4d4566;for(let _0x284917 in _0x1434fc){let _0x7ce8e0=_0x1b21e9?'_'+_0x284917:''+_0x5b3adf+_0x284917;typeof _0x1434fc[_0x284917]==_0x3e2aa7(0x252)&&_0x1434fc[_0x284917]!==null?this['flattenObject'](_0x1434fc[_0x284917],_0x7ce8e0+'.',_0x412fc1,!0x1):_0x412fc1[_0x7ce8e0]=String(_0x1434fc[_0x284917]);}return _0x412fc1;}[a0_0x4d4566(0x696)](_0x335453){const _0x1b94f7=a0_0x4d4566;let _0x46dc4a={};for(let _0x1abf23 of _0x335453)typeof _0x1abf23[_0x1b94f7(0x270)]==_0x1b94f7(0x2c0)&&typeof _0x1abf23[_0x1b94f7(0x658)]==_0x1b94f7(0x2c0)&&(_0x46dc4a[_0x1abf23[_0x1b94f7(0x270)]]=_0x1abf23[_0x1b94f7(0x658)]);return _0x46dc4a;}async['NextBlock'](_0x1c6ea9){const _0x43733c=a0_0x4d4566;if(!this['AutomateSystem']?.[_0x43733c(0xfd)][_0x43733c(0x590)]||_0x1c6ea9[_0x43733c(0x1d6)]!==_0x43733c(0x39f)&&_0x1c6ea9[_0x43733c(0x5f8)]==='')return null;let _0x4c8136=_0x1c6ea9[_0x43733c(0x135)][_0x43733c(0x478)]||_0x43733c(0x67b);typeof _0x1c6ea9[_0x43733c(0x135)][_0x43733c(0x161)]>'u'&&(_0x1c6ea9['chatLog'][_0x43733c(0x161)]=!0x0);let _0x110bef=_0x1c6ea9[_0x43733c(0x135)]['lastCondition'];this['logger'][_0x43733c(0x5d0)](this[_0x43733c(0x3fa)]+'\x20('+this[_0x43733c(0x251)][_0x43733c(0x6bf)]+_0x43733c(0x1ea)+_0x4c8136+_0x43733c(0x719)+_0x110bef);let _0xb1f3f6=_0x4c8136===_0x43733c(0x67b)?_0x1c6ea9[_0x43733c(0x3a3)][_0x43733c(0x4df)](_0x5af962=>_0x5af962['type']===_0x43733c(0x67b)):_0x1c6ea9[_0x43733c(0x3a3)]['find'](_0x5893e8=>_0x5893e8[_0x43733c(0x218)][_0x43733c(0x3bc)]()===_0x4c8136[_0x43733c(0x3bc)]());if(!_0xb1f3f6)return this[_0x43733c(0x5cc)][_0x43733c(0x55a)](this['instanceName']+'\x20('+this[_0x43733c(0x251)][_0x43733c(0x6bf)]+_0x43733c(0x181)+_0x4c8136),null;let _0x169af6={'_pushName':_0x1c6ea9[_0x43733c(0x135)][_0x43733c(0x579)][_0x43733c(0x17a)],..._0x1c6ea9[_0x43733c(0x135)]['realVariables']},_0x5bb6a6=null;if(_0x1c6ea9[_0x43733c(0x5f8)]){let _0x413fc0=_0x1c6ea9['chatLog']['lastReceivedMessage'][_0x43733c(0x534)],_0x3fe253=_0x1c6ea9[_0x43733c(0x264)][_0x43733c(0x4df)](_0x4e79b1=>_0x4e79b1[_0x43733c(0x5d6)]===_0x413fc0);if(_0x3fe253){let _0x436508=_0x3fe253[_0x43733c(0x4c0)];if(_0x5bb6a6=_0x1c6ea9['blocks'][_0x43733c(0x4df)](_0x2ff08d=>_0x2ff08d[_0x43733c(0x266)]===_0x436508&&_0x2ff08d[_0x43733c(0x364)]===0x1),_0xb1f3f6[_0x43733c(0x25d)][_0x43733c(0x47f)]){let _0xc4fcf8={'id':_0x1c6ea9['waitingMenu_id'],'remoteJid':_0x1c6ea9[_0x43733c(0x21e)],'fromMe':!0x0};await this[_0x43733c(0x25a)](_0xc4fcf8);}if(_0xb1f3f6[_0x43733c(0x25d)][_0x43733c(0x47f)]&&_0xb1f3f6[_0x43733c(0x25d)][_0x43733c(0x151)]&&_0xb1f3f6[_0x43733c(0x25d)][_0x43733c(0x36e)]===_0x43733c(0x33a)){let _0x4a8ab0={'number':_0x1c6ea9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x1c6ea9[_0x43733c(0x2f8)]+_0x43733c(0x292)+_0x413fc0}};await this['textMessage'](_0x4a8ab0);}_0x1c6ea9[_0x43733c(0x1d6)]='open',_0x1c6ea9['waitingMenu_id']='',_0x1c6ea9[_0x43733c(0x2f8)]='',_0x1c6ea9[_0x43733c(0x264)]=[];}else{this['logger'][_0x43733c(0x5d0)](this['instanceName']+'\x20('+this[_0x43733c(0x251)]['wuid']+_0x43733c(0x4d7));let _0x3bf67a={'activatedCount':_0x1c6ea9[_0x43733c(0x135)][_0x43733c(0x5dc)]['filter'](_0x17bd47=>String(_0x17bd47[_0x43733c(0x633)])===String(_0x4c8136))[_0x43733c(0x4d8)],'moreLogs':[_0x43733c(0x572)]};if(_0xb1f3f6[_0x43733c(0x25d)]['pollErrorMessage']){let _0x5f575c={'number':_0x1c6ea9['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0xb1f3f6[_0x43733c(0x25d)][_0x43733c(0x1d5)]}};await this[_0x43733c(0x1f5)](_0x5f575c);}if(_0xb1f3f6[_0x43733c(0x6a3)]!==void 0x0&&_0x3bf67a[_0x43733c(0x42c)]>=_0xb1f3f6['maxActives']){let _0xb24a92=Date[_0x43733c(0x43a)](),_0x3e8642=_0xb1f3f6[_0x43733c(0x724)]??0xa;isNaN(_0x3e8642)&&(_0x3e8642=0xa);let _0x254e45=_0xb24a92+_0x3e8642*0x3c*0x3e8;_0x3bf67a['newStoppedUntil']=_0x254e45,_0x3bf67a[_0x43733c(0x5e4)][_0x43733c(0x52c)](_0x43733c(0x61c)),this['updateStopChat'](_0x1c6ea9,_0x254e45),_0x1c6ea9['waitingMenu_id']='',_0x1c6ea9[_0x43733c(0x2f8)]='',_0x1c6ea9[_0x43733c(0x264)]=[];}return this[_0x43733c(0x305)](_0x1c6ea9,_0xb1f3f6,_0x3bf67a,!0x0),null;}}if(_0x110bef&&_0xb1f3f6[_0x43733c(0x4c0)]&&!_0x1c6ea9[_0x43733c(0x5f8)]){let _0x3b9a1c=_0x1c6ea9[_0x43733c(0x3a3)][_0x43733c(0x4a1)](_0x267d09=>_0x267d09[_0x43733c(0x266)]['toString']()===_0xb1f3f6[_0x43733c(0x4c0)][_0x43733c(0x3bc)]())['sort']((_0x321f4c,_0xe29e78)=>_0x321f4c[_0x43733c(0x364)]-_0xe29e78[_0x43733c(0x364)]);_0x3b9a1c[_0x43733c(0x4d8)]>0x0&&(_0x5bb6a6=_0x3b9a1c[0x0]);}if(!_0x5bb6a6){let _0x5e8e06=_0xb1f3f6[_0x43733c(0x266)],_0x379c52=_0x1c6ea9[_0x43733c(0x3a3)][_0x43733c(0x4a1)](_0xe6eb03=>_0xe6eb03['groupId']===_0x5e8e06&&_0xe6eb03[_0x43733c(0x364)]>_0xb1f3f6[_0x43733c(0x364)])[_0x43733c(0x65b)]((_0x3f49dd,_0x13c0c6)=>_0x3f49dd['order']-_0x13c0c6[_0x43733c(0x364)]);_0x379c52[_0x43733c(0x4d8)]>0x0&&(_0x5bb6a6=_0x379c52[0x0]);}if(!_0x5bb6a6)return _0x1c6ea9[_0x43733c(0x1d6)]=_0x43733c(0x4a5),null;_0x1c6ea9[_0x43733c(0x135)][_0x43733c(0xf9)]=_0x169af6;let _0x34f4cb=JSON[_0x43733c(0x330)](JSON[_0x43733c(0x4a7)](_0x5bb6a6));return this[_0x43733c(0x3a2)](_0x34f4cb,_0x1c6ea9['chatLog']['realVariables']),_0x1c6ea9['chatLog'][_0x43733c(0x478)]=_0x34f4cb[_0x43733c(0x218)],_0x1c6ea9[_0x43733c(0x135)][_0x43733c(0x161)]=!0x0,_0x34f4cb;}[a0_0x4d4566(0x392)](_0x5bfd14,_0x2aa3d9){const _0x3d0a7e=a0_0x4d4566;return _0x5bfd14[_0x3d0a7e(0x3ad)](/\{\{([^}]+)\}\}/g,(_0x3381e5,_0x28406d)=>_0x2aa3d9[_0x28406d]||'');}[a0_0x4d4566(0x3a2)](_0x4fdbcd,_0x59cef0){const _0x66bd51=a0_0x4d4566;for(let _0x450f4a in _0x4fdbcd)typeof _0x4fdbcd[_0x450f4a]==_0x66bd51(0x2c0)?_0x4fdbcd[_0x450f4a]=this[_0x66bd51(0x392)](_0x4fdbcd[_0x450f4a],_0x59cef0):typeof _0x4fdbcd[_0x450f4a]=='object'&&this[_0x66bd51(0x3a2)](_0x4fdbcd[_0x450f4a],_0x59cef0);}async[a0_0x4d4566(0x323)](_0x5d0c80,_0x1223a3){const _0x1d9e51=a0_0x4d4566;let _0x3e68c2=_0x1223a3[_0x1d9e51(0x218)];if(_0x5d0c80[_0x1d9e51(0x135)]&&_0x5d0c80[_0x1d9e51(0x135)]['blockLogs']){let _0x258067=_0x5d0c80['chatLog']['blockLogs'][_0x1d9e51(0x4a1)](_0x59f187=>String(_0x59f187[_0x1d9e51(0x633)])===String(_0x3e68c2))[_0x1d9e51(0x5ea)]();if(_0x258067&&_0x258067[_0x1d9e51(0x55a)]&&_0x1223a3[_0x1d9e51(0x563)])return _0x5d0c80[_0x1d9e51(0x1d6)]='closed',await this[_0x1d9e51(0x58b)](_0x5d0c80),null;}if(_0x1223a3['type']===_0x1d9e51(0x25d)&&_0x1223a3[_0x1d9e51(0x25d)]['command']==='sendPoll'&&_0x5d0c80['waitingMenu_id'])return _0x5d0c80[_0x1d9e51(0x135)][_0x1d9e51(0x478)]=_0x3e68c2,await this[_0x1d9e51(0x58b)](_0x5d0c80),null;let _0x143a43=await this[_0x1d9e51(0x5a2)](_0x5d0c80);if(_0x5d0c80[_0x1d9e51(0x135)]&&_0x5d0c80['chatLog'][_0x1d9e51(0x5dc)]){let _0xa7a4bc=_0x5d0c80[_0x1d9e51(0x135)][_0x1d9e51(0x5dc)][_0x1d9e51(0x4a1)](_0x35d948=>String(_0x35d948[_0x1d9e51(0x633)])===String(_0x3e68c2))[_0x1d9e51(0x4d8)];if(_0x1223a3['maxActives']!==void 0x0&&_0xa7a4bc>=_0x1223a3[_0x1d9e51(0x6a3)]){let _0x339127=Date[_0x1d9e51(0x43a)](),_0x27d896=_0x1223a3[_0x1d9e51(0x724)]??0xa;isNaN(_0x27d896)&&(_0x27d896=0xa);let _0xf7a29b=_0x339127+_0x27d896*0x3c*0x3e8,_0x3cb51e={'newStoppedUntil':_0xf7a29b};return this[_0x1d9e51(0x351)](_0x5d0c80,_0xf7a29b),this[_0x1d9e51(0x305)](_0x5d0c80,_0x1223a3,_0x3cb51e,!0x0),null;}}_0x143a43&&_0x143a43[_0x1d9e51(0x1d0)]!==_0x1d9e51(0x545)&&await this[_0x1d9e51(0x267)](_0x5d0c80,_0x143a43),_0x143a43||await this['saveConversationToDatabase'](_0x5d0c80),_0x143a43&&_0x143a43[_0x1d9e51(0x1d0)]==='save'&&(_0x5d0c80[_0x1d9e51(0x135)]['lastBlockId']=_0x3e68c2,await this[_0x1d9e51(0x58b)](_0x5d0c80));}async['processblock'](_0x462989,_0x170d64){const _0x345a44=a0_0x4d4566;try{let _0x2dc59a=_0x170d64[_0x345a44(0x1d0)];this['logger'][_0x345a44(0x5d0)](this[_0x345a44(0x3fa)]+'\x20('+this[_0x345a44(0x251)][_0x345a44(0x6bf)]+_0x345a44(0x33d)+_0x2dc59a);let _0x2debf3={'uazapi':()=>this[_0x345a44(0x469)](_0x462989,_0x170d64),'save':()=>this[_0x345a44(0x6ec)](_0x462989,_0x170d64),'stop':()=>this[_0x345a44(0x425)](_0x462989,_0x170d64),'condition':()=>this['processConditions'](_0x462989,_0x170d64),'varedit':()=>this['processvaredits'](_0x462989,_0x170d64),'apirequest':()=>this[_0x345a44(0x4c2)](_0x462989,_0x170d64),'goToFlow':()=>this[_0x345a44(0x494)](_0x462989,_0x170d64)}[_0x2dc59a];_0x2debf3&&await _0x2debf3();}catch(_0x119f23){this[_0x345a44(0x5cc)][_0x345a44(0x55a)](this[_0x345a44(0x3fa)]+'\x20('+this[_0x345a44(0x251)]['wuid']+_0x345a44(0x388)+(_0x119f23 instanceof Error?_0x119f23['message']:JSON[_0x345a44(0x4a7)](_0x119f23,null,0x2)));}}async['processgoToFlow'](_0x36567e,_0x56c366){const _0x5d322a=a0_0x4d4566;if(this[_0x5d322a(0x5cc)]['verbose'](this[_0x5d322a(0x3fa)]+'\x20('+this['instance'][_0x5d322a(0x6bf)]+_0x5d322a(0x39d)),!_0x36567e||!_0x56c366)return this[_0x5d322a(0x5cc)][_0x5d322a(0x55a)](this[_0x5d322a(0x3fa)]+'\x20('+this[_0x5d322a(0x251)]['wuid']+_0x5d322a(0x745)),null;await this[_0x5d322a(0x305)](_0x36567e,_0x56c366,{},!0x0,!0x0),console['log']('nextBlock:'),console['log'](_0x56c366);let _0x5e7789=_0x56c366[_0x5d322a(0x54b)];console['log'](_0x5d322a(0x171),_0x5e7789),_0x36567e=await this['createConversationforgoToFlow'](_0x5e7789,_0x36567e['remoteJid'],_0x36567e[_0x5d322a(0x135)]['realVariables']),this[_0x5d322a(0x5cc)][_0x5d322a(0x5d0)](this[_0x5d322a(0x3fa)]+'\x20('+this[_0x5d322a(0x251)][_0x5d322a(0x6bf)]+_0x5d322a(0x729));let _0x15039a=await this[_0x5d322a(0x5a2)](_0x36567e);_0x15039a&&await this['processblock'](_0x36567e,_0x15039a);}async['createConversationforgoToFlow'](_0x3bcd12,_0x1537a2,_0x36d768){const _0x2e99fb=a0_0x4d4566;this[_0x2e99fb(0x5cc)][_0x2e99fb(0x5d0)](this[_0x2e99fb(0x3fa)]+'\x20('+this['instance'][_0x2e99fb(0x6bf)]+_0x2e99fb(0x3f4));try{if(_0x3bcd12=await this[_0x2e99fb(0x5bc)]['flow']['findOne']({'where':{'name':_0x3bcd12}},this[_0x2e99fb(0x251)][_0x2e99fb(0x6bf)]),!_0x3bcd12)return this[_0x2e99fb(0x5cc)][_0x2e99fb(0x55a)](this[_0x2e99fb(0x3fa)]+'\x20('+this['instance'][_0x2e99fb(0x6bf)]+_0x2e99fb(0x13a)),null;let _0x469b52=require(_0x2e99fb(0x6be))[_0x2e99fb(0x115)],_0x360289=Date[_0x2e99fb(0x43a)](),_0x279b5c='start',_0x5587c2={},_0x20b063={},_0xfc5eea={..._0x3bcd12,'chatLog':null},_0x4653cb={'lastReceivedMessage':_0x5587c2,'lastSendMessage':_0x20b063,'lastBlockId':_0x279b5c,'lastCondition':!0x0,'realVariables':_0x36d768};_0xfc5eea['chatLog']=_0x4653cb,_0xfc5eea[_0x2e99fb(0x135)][_0x2e99fb(0xf9)]={..._0x36d768},delete _0xfc5eea['_id'],_0xfc5eea[_0x2e99fb(0x218)]=new _0x469b52(),_0xfc5eea[_0x2e99fb(0x196)]=_0x360289,_0xfc5eea[_0x2e99fb(0x1d6)]=_0x2e99fb(0x39f),_0xfc5eea[_0x2e99fb(0x21e)]=_0x1537a2;let _0xf8729c=await this[_0x2e99fb(0x5bc)]['flowConversation'][_0x2e99fb(0x2e6)](_0xfc5eea[_0x2e99fb(0x218)],_0xfc5eea,this[_0x2e99fb(0x251)][_0x2e99fb(0x6bf)]);return this[_0x2e99fb(0x5cc)][_0x2e99fb(0x5d0)](this[_0x2e99fb(0x3fa)]+'\x20('+this[_0x2e99fb(0x251)][_0x2e99fb(0x6bf)]+_0x2e99fb(0x16e)),_0xf8729c?_0xfc5eea:null;}catch(_0x4b9763){throw this['logger'][_0x2e99fb(0x55a)](this['instanceName']+'\x20('+this[_0x2e99fb(0x251)]['wuid']+_0x2e99fb(0x1b9)+(_0x4b9763 instanceof Error?_0x4b9763[_0x2e99fb(0x604)]:JSON[_0x2e99fb(0x4a7)](_0x4b9763,null,0x2))),new m(_0x4b9763[_0x2e99fb(0x604)]);}}async['processApiRequest'](_0x25b839,_0x347120){const _0x3444ec=a0_0x4d4566;let _0x39104a,_0x204f34;try{let _0xc3ea9a=_0x347120['apirequest'];if(!_0xc3ea9a||!_0xc3ea9a[_0x3444ec(0x46f)]||!_0xc3ea9a['method'])throw new Error(_0x3444ec(0x51d));let _0x31cd48;([_0x3444ec(0x70b),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/'][_0x3444ec(0x149)](_0x58e332=>_0xc3ea9a[_0x3444ec(0x46f)][_0x3444ec(0x5a9)](_0x58e332))||_0xc3ea9a[_0x3444ec(0xf2)])&&(_0x31cd48=_0x3444ec(0x5f1));let _0x4bed2d={'method':_0xc3ea9a[_0x3444ec(0x442)],'url':_0xc3ea9a['url'],'headers':_0xc3ea9a['header']||{},'data':_0xc3ea9a[_0x3444ec(0x334)]||{},..._0x31cd48&&{'responseType':_0x31cd48}},_0x45c1b1=await(0x0,se[_0x3444ec(0x10e)])(_0x4bed2d),_0x4f6705=_0x45c1b1['headers']['content-type'];if(_0x4f6705&&_0x4f6705[_0x3444ec(0x5a9)](_0x3444ec(0x4d2))){_0x39104a=_0x45c1b1['data'];let _0x2aac96=_0x25b839[_0x3444ec(0x135)][_0x3444ec(0xf9)],_0x143412=this[_0x3444ec(0x651)](_0x39104a);return Object[_0x3444ec(0x3cd)](_0x2aac96,_0x143412),_0x25b839[_0x3444ec(0x135)][_0x3444ec(0xf9)]=_0x2aac96,_0x204f34={'error':!0x1,'apiResponse':_0x39104a},this['updateConversation'](_0x25b839,_0x347120,_0x204f34),_0x39104a;}if(_0x4f6705&&(_0x4f6705[_0x3444ec(0x5a9)](_0x3444ec(0x532))||_0x4f6705['includes'](_0x3444ec(0x132))||_0x4f6705[_0x3444ec(0x5a9)](_0x3444ec(0x226))||_0x4f6705[_0x3444ec(0x5a9)](_0x3444ec(0x144)))){this[_0x3444ec(0x5cc)][_0x3444ec(0x5d0)](this[_0x3444ec(0x3fa)]+'\x20('+this[_0x3444ec(0x251)][_0x3444ec(0x6bf)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x4f6705);let _0x442693=(0x0,Me['v4'])(),_0x7ab4bc='',_0x4e95cc={'image/jpeg':_0x3444ec(0x3d0),'image/png':_0x3444ec(0x557),'image/gif':'.gif','image/webp':'.webp','image/svg+xml':_0x3444ec(0x2aa),'audio/mpeg':_0x3444ec(0x1c9),'audio/ogg':_0x3444ec(0x44e),'audio/wav':_0x3444ec(0x1de),'video/mp4':_0x3444ec(0x45a),'video/webm':'.webm','video/ogg':_0x3444ec(0x63d),'text/plain':_0x3444ec(0x336),'application/pdf':_0x3444ec(0x49f),'application/msword':_0x3444ec(0x17d),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x3444ec(0x321),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x3444ec(0x1eb),'application/vnd.ms-powerpoint':_0x3444ec(0x468),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x3444ec(0x3fc)};_0x4e95cc[_0x4f6705]?(_0x7ab4bc=_0x4e95cc[_0x4f6705],this[_0x3444ec(0x5cc)][_0x3444ec(0x5d0)](this[_0x3444ec(0x3fa)]+'\x20('+this[_0x3444ec(0x251)]['wuid']+_0x3444ec(0x72c)+_0x7ab4bc)):(_0x7ab4bc=_0x3444ec(0x5ec),this[_0x3444ec(0x5cc)][_0x3444ec(0x5d0)](this[_0x3444ec(0x3fa)]+'\x20('+this[_0x3444ec(0x251)][_0x3444ec(0x6bf)]+_0x3444ec(0x657)+_0x7ab4bc)),_0x442693+=_0x7ab4bc,this['logger'][_0x3444ec(0x5d0)](this['instanceName']+'\x20('+this['instance'][_0x3444ec(0x6bf)]+_0x3444ec(0x14f)+_0x442693);let _0x4f659f=this[_0x3444ec(0x57f)][_0x3444ec(0x5f2)](_0x3444ec(0x561))[_0x3444ec(0x360)];if(!_0x4f659f){let _0xd066d8=this[_0x3444ec(0x57f)][_0x3444ec(0x5f2)]('SSL_CONF');_0x4f659f='https://'+(_0xd066d8&&_0xd066d8[_0x3444ec(0x44d)][_0x3444ec(0x4e4)]('/')[0x4]);}let _0x1d4bd1=Buffer[_0x3444ec(0x66b)](_0x45c1b1[_0x3444ec(0x340)]);await this[_0x3444ec(0x428)](_0x1d4bd1,_0x442693);let _0x197f6c='/media/'+_0x442693;_0x197f6c=''+_0x4f659f+_0x197f6c,_0x39104a={'fileUrl':_0x197f6c},_0x25b839[_0x3444ec(0x135)][_0x3444ec(0xf9)][_0x3444ec(0x163)]=_0x197f6c;let _0x74fbc6=_0x25b839[_0x3444ec(0x135)][_0x3444ec(0xf9)],_0x57ce18=this[_0x3444ec(0x651)](_0x39104a);return Object[_0x3444ec(0x3cd)](_0x74fbc6,_0x57ce18),_0x25b839['chatLog']['realVariables']=_0x74fbc6,_0x204f34={'error':!0x1,'apiResponse':{'fileUrl':_0x197f6c}},this[_0x3444ec(0x305)](_0x25b839,_0x347120,_0x204f34),_0x39104a;}}catch(_0x5d546e){console[_0x3444ec(0x55a)](_0x3444ec(0x1f2),_0x5d546e),_0x5d546e[_0x3444ec(0x6af)]&&(_0x39104a=_0x5d546e[_0x3444ec(0x6af)][_0x3444ec(0x340)]);let _0x2b3784=_0x25b839[_0x3444ec(0x135)][_0x3444ec(0xf9)],_0x57d92a=this[_0x3444ec(0x651)](_0x39104a);return Object['assign'](_0x2b3784,_0x57d92a),_0x25b839[_0x3444ec(0x135)][_0x3444ec(0xf9)]=_0x2b3784,_0x204f34={'error':!0x0,'errorLog':_0x5d546e[_0x3444ec(0x3bc)](),'apiResponse':_0x39104a},this[_0x3444ec(0x305)](_0x25b839,_0x347120,_0x204f34),{'success':!0x1};}}[a0_0x4d4566(0x3f0)](_0x49a789,_0x70c1ca){const _0x166884=a0_0x4d4566;let _0x2ac44c=_0x3cc52f=>{const _0x28049d=a0_0x39b5;let _0x10688f=_0x3cc52f[_0x28049d(0x3ad)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x2c52cc=parseFloat(_0x10688f);return isNaN(_0x2c52cc)?null:_0x2c52cc;},_0x168c92=_0x70c1ca[_0x166884(0x689)],_0x2ade80=_0x70c1ca['secondValue'];typeof _0x168c92==_0x166884(0x2c0)&&(_0x168c92=this[_0x166884(0x392)](_0x168c92,_0x49a789[_0x166884(0x135)]['realVariables'])??''),typeof _0x2ade80==_0x166884(0x2c0)&&(_0x2ade80=this[_0x166884(0x392)](_0x2ade80,_0x49a789[_0x166884(0x135)][_0x166884(0xf9)])??'');let _0x35dcb9=null;if(!_0x70c1ca[_0x166884(0x162)])return null;switch(this[_0x166884(0x5cc)]['verbose'](this[_0x166884(0x3fa)]+'\x20('+this[_0x166884(0x251)][_0x166884(0x6bf)]+_0x166884(0x3bd)+_0x168c92),this['logger'][_0x166884(0x5d0)](this[_0x166884(0x3fa)]+'\x20('+this[_0x166884(0x251)][_0x166884(0x6bf)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x2ade80),_0x70c1ca[_0x166884(0x162)]){case'+':case'-':case'*':case'/':let _0x16d808=_0x2ac44c(_0x168c92||'0'),_0x556f25=_0x2ac44c(_0x2ade80||'0');if(_0x16d808===null)return null;switch(_0x70c1ca[_0x166884(0x162)]){case'+':_0x35dcb9=_0x16d808+(_0x556f25??0x0);break;case'-':_0x35dcb9=_0x16d808-(_0x556f25??0x0);break;case'*':_0x35dcb9=_0x16d808*(_0x556f25??0x1);break;case'/':_0x556f25!==0x0&&(_0x35dcb9=_0x16d808/(_0x556f25??0x1));break;}break;case _0x166884(0x2cc):case'findAndReplaceRegex':let _0x355751=_0x2ade80,_0x1b59ef=_0x70c1ca['replaceValue'];if(typeof _0x1b59ef==_0x166884(0x2c0)&&(_0x1b59ef=this[_0x166884(0x392)](_0x1b59ef,_0x49a789['chatLog'][_0x166884(0xf9)])??''),_0x355751&&_0x1b59ef!==void 0x0){let _0x26d613=_0x70c1ca[_0x166884(0x162)]===_0x166884(0x2cc)?new RegExp(_0x355751['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x355751,'g');_0x35dcb9=_0x168c92['replace'](_0x26d613,_0x1b59ef);}else console[_0x166884(0x2fc)](_0x166884(0x49a));break;case'setNewValue':_0x35dcb9=_0x2ade80;break;case _0x166884(0x449):let _0x5d2acb=_0x168c92[_0x166884(0x6ae)](new RegExp(_0x2ade80||''));_0x35dcb9=_0x5d2acb?_0x5d2acb[0x0]:'';break;case _0x166884(0x4e9):_0x35dcb9=_0x168c92[_0x166884(0x2ac)](0x0,parseInt(_0x2ade80||'0'));break;case'truncatedtoEnd':let _0x2bc785=parseInt(_0x2ade80||'0');_0x35dcb9=_0x168c92[_0x166884(0x2ac)](_0x168c92[_0x166884(0x4d8)]-_0x2bc785);break;case'toBrazilianNumberFormat':let _0x109535=_0x2ac44c(_0x168c92),_0x1e906c=parseInt(_0x2ade80||'0');_0x1e906c=Math['abs'](_0x1e906c),_0x109535!==null?_0x35dcb9=_0x109535[_0x166884(0x504)](_0x166884(0x3cc),{'minimumFractionDigits':_0x1e906c,'maximumFractionDigits':_0x1e906c}):(console[_0x166884(0x2fc)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x168c92),_0x35dcb9=null);break;case _0x166884(0x2fa):let _0x380ce2=_0x2ac44c(_0x168c92);_0x380ce2!==null?_0x35dcb9=_0x380ce2[_0x166884(0x504)](_0x166884(0x3cc),{'style':'currency','currency':_0x166884(0x1fc)}):(console[_0x166884(0x2fc)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x168c92),_0x35dcb9=null);break;case _0x166884(0x247):_0x35dcb9=_0x168c92[_0x166884(0x6db)]();break;case _0x166884(0x1e4):_0x35dcb9=_0x168c92['toLowerCase']();break;case _0x166884(0x173):_0x35dcb9=_0x168c92[_0x166884(0x4e4)]('\x20')[_0x166884(0x5ac)](_0x337bb2=>_0x337bb2[_0x166884(0x413)](0x0)[_0x166884(0x6db)]()+_0x337bb2[_0x166884(0x2ac)](0x1)[_0x166884(0x618)]())[_0x166884(0x3f7)]('\x20');break;case _0x166884(0x15a):_0x35dcb9=_0x168c92[_0x166884(0x34f)]();break;default:_0x35dcb9=_0x168c92;}return _0x35dcb9!==null?_0x35dcb9[_0x166884(0x3bc)]():null;}async['processvaredits'](_0x4c5197,_0x2692d0){const _0x402b41=a0_0x4d4566;try{let _0x5afa3c=_0x4c5197[_0x402b41(0x705)]?.[_0x402b41(0x4a1)](_0x2725af=>_0x2725af['blockId']===_0x2692d0[_0x402b41(0x218)]?.[_0x402b41(0x3bc)]())||[],_0x1d6895=_0x2692d0['saveVariable'],_0x31b3d3=null,_0x395d1d=[],_0x2d3933=_0x4c5197['chatLog'][_0x402b41(0xf9)][_0x1d6895];_0x395d1d[_0x402b41(0x52c)](_0x402b41(0x123)+_0x2d3933+'\x22');for(let _0x2b9ee5 of _0x5afa3c){_0x2b9ee5['firstValue']=_0x2d3933,_0x31b3d3=_0x2b9ee5[_0x402b41(0x689)];let _0x436131;try{_0x436131=this[_0x402b41(0x3f0)](_0x4c5197,_0x2b9ee5);}catch(_0xcaa7d4){console['error'](_0x402b41(0x23d)+_0xcaa7d4['message']);continue;}if(_0x436131!==null){let _0x27ee72=_0x402b41(0x32e)+_0x2b9ee5['editOperator']+'\x22',_0xdddc7e=[_0x402b41(0x2fa),_0x402b41(0x247),'lowerCase',_0x402b41(0x173),_0x402b41(0x15a)];_0x2b9ee5[_0x402b41(0x162)]===_0x402b41(0x2cc)||_0x2b9ee5[_0x402b41(0x162)]===_0x402b41(0x5db)?_0x27ee72+=_0x402b41(0x6f3)+_0x2b9ee5[_0x402b41(0x64f)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x2b9ee5[_0x402b41(0x331)]+'\x22':!_0xdddc7e[_0x402b41(0x5a9)](_0x2b9ee5[_0x402b41(0x162)])&&_0x2b9ee5[_0x402b41(0x64f)]!==null&&_0x2b9ee5['secondValue']!==void 0x0&&(_0x27ee72+=_0x402b41(0x481)+_0x2b9ee5[_0x402b41(0x64f)]+'\x22'),_0x27ee72+=_0x402b41(0x2a1)+_0x436131+'.',_0x395d1d[_0x402b41(0x52c)](_0x27ee72);}_0x436131!==null&&(_0x2d3933=_0x436131);}if(_0x4c5197['chatLog']['realVariables']&&_0x2692d0[_0x402b41(0x5a4)]){_0x4c5197[_0x402b41(0x135)][_0x402b41(0xf9)][_0x2692d0[_0x402b41(0x5a4)]]=_0x2d3933;let _0x4966ca={'variable':_0x2692d0[_0x402b41(0x5a4)],'oldValue':_0x31b3d3,'newValue':_0x2d3933,'moreLogs':_0x395d1d};try{this[_0x402b41(0x305)](_0x4c5197,_0x2692d0,_0x4966ca);}catch(_0x89d53d){console[_0x402b41(0x55a)](_0x402b41(0x453)+_0x89d53d['message']);}}return _0x1d6895;}catch(_0x47ab9f){return console['error'](_0x402b41(0x37c)+_0x47ab9f['message']),null;}}async[a0_0x4d4566(0x32a)](_0x30ae30,_0x465c0b){const _0x21e0e0=a0_0x4d4566;try{let _0x1c52c0=[],_0x473880=_0x30ae30[_0x21e0e0(0x174)]['filter'](_0x367d7c=>_0x367d7c[_0x21e0e0(0x633)]===_0x465c0b['_id'][_0x21e0e0(0x3bc)]()),_0x501600=null,_0x232fe5=!0x1;for(let _0x24dbef of _0x473880){let _0x260c33=this[_0x21e0e0(0x5b0)](_0x30ae30,_0x24dbef);_0x1c52c0[_0x21e0e0(0x52c)](_0x21e0e0(0x683)+_0x24dbef[_0x21e0e0(0x689)]+_0x21e0e0(0x48e)+_0x24dbef[_0x21e0e0(0x530)]+_0x21e0e0(0x2fe)+_0x24dbef[_0x21e0e0(0x64f)]+_0x21e0e0(0x65e)+_0x260c33),_0x501600===null?_0x501600=_0x260c33:_0x24dbef[_0x21e0e0(0x2a2)]===_0x21e0e0(0x750)?(_0x501600=_0x501600&&_0x260c33,_0x260c33||(_0x232fe5=!0x0)):_0x24dbef[_0x21e0e0(0x2a2)]==='or'&&(_0x232fe5||(_0x501600=_0x501600||_0x260c33));}_0x501600===null&&(_0x501600=!0x0);let _0x32d3b2={'moreLogs':_0x1c52c0};_0x30ae30[_0x21e0e0(0x135)]['lastCondition']=_0x501600,await this['updateConversation'](_0x30ae30,_0x465c0b,_0x32d3b2);}catch(_0x4ab64e){this[_0x21e0e0(0x5cc)][_0x21e0e0(0x55a)](this[_0x21e0e0(0x3fa)]+'\x20('+this[_0x21e0e0(0x251)]['wuid']+_0x21e0e0(0x4cd)+(_0x4ab64e instanceof Error?_0x4ab64e['message']:JSON[_0x21e0e0(0x4a7)](_0x4ab64e,null,0x2)));}}[a0_0x4d4566(0x5b0)](_0x1bd774,_0x562942){const _0x4adbfa=a0_0x4d4566;let _0x148059=_0x562942['firstValue'],_0x131858=_0x562942['secondValue'];typeof _0x148059==_0x4adbfa(0x2c0)&&(_0x148059=this[_0x4adbfa(0x392)](_0x148059,_0x1bd774[_0x4adbfa(0x135)][_0x4adbfa(0xf9)])??''),typeof _0x131858==_0x4adbfa(0x2c0)&&(_0x131858=this[_0x4adbfa(0x392)](_0x131858,_0x1bd774[_0x4adbfa(0x135)][_0x4adbfa(0xf9)])??'');try{switch(_0x562942['expression']){case _0x4adbfa(0x22d):return _0x148059===_0x131858;case _0x4adbfa(0x456):return _0x148059!==_0x131858;case _0x4adbfa(0xfa):return this[_0x4adbfa(0xfa)](_0x148059,_0x131858);case'notContains':return!this[_0x4adbfa(0xfa)](_0x148059,_0x131858);case _0x4adbfa(0x122):return parseFloat(_0x148059)>parseFloat(_0x131858);case'less':return parseFloat(_0x148059)<parseFloat(_0x131858);case _0x4adbfa(0x6f9):return _0x148059!=='';case _0x4adbfa(0x1f1):return _0x148059==='';case _0x4adbfa(0x562):return new RegExp(_0x131858)[_0x4adbfa(0x2de)](_0x148059);case _0x4adbfa(0x4bd):return!new RegExp(_0x131858)[_0x4adbfa(0x2de)](_0x148059);default:return!0x1;}}catch(_0x22609f){return console['error'](_0x4adbfa(0x46d)+_0x22609f),!0x1;}}[a0_0x4d4566(0xfa)](_0x10964f,_0xcbeae1){const _0x2fbe81=a0_0x4d4566;if(_0x10964f===_0xcbeae1&&/^\d+$/[_0x2fbe81(0x2de)](_0x10964f))return!0x0;if(this[_0x2fbe81(0x327)](_0x10964f)&&/^\d+$/[_0x2fbe81(0x2de)](_0xcbeae1)){let _0x1cbe1f=_0x10964f[_0x2fbe81(0x4e4)](',')[_0x2fbe81(0x5ac)](_0x1dec04=>parseInt(_0x1dec04['trim']())),_0x238938=parseInt(_0xcbeae1);return _0x1cbe1f['includes'](_0x238938);}return _0x10964f[_0x2fbe81(0x5a9)](_0xcbeae1);}[a0_0x4d4566(0x327)](_0x19bee9){const _0x1ba6a5=a0_0x4d4566;return/^\d+(,\d+)*$/[_0x1ba6a5(0x2de)](_0x19bee9);}[a0_0x4d4566(0x45f)](_0x4698a2){const _0x4fbbea=a0_0x4d4566;let _0x17379e=!0x0,_0x584b95=null;for(let _0x3f19f8 of _0x4698a2){let _0x1d5985=this['evaluateConditionTest'](_0x3f19f8);if(_0x584b95==='or'&&_0x1d5985){_0x17379e=!0x0;break;}if(_0x584b95==='and'&&!_0x1d5985){_0x17379e=!0x1;break;}_0x584b95=_0x3f19f8[_0x4fbbea(0x2a2)];}return _0x17379e;}[a0_0x4d4566(0x159)](_0x48603f){const _0x20925f=a0_0x4d4566;let _0x47f173=_0x48603f['firstValue'],_0x574dec=_0x48603f[_0x20925f(0x64f)];try{switch(_0x48603f['expression']){case _0x20925f(0x22d):return String(_0x47f173)===String(_0x574dec);case'notEqual':return String(_0x47f173)!==String(_0x574dec);case _0x20925f(0xfa):return String(_0x47f173)[_0x20925f(0x5a9)](String(_0x574dec));case _0x20925f(0x71e):return!String(_0x47f173)[_0x20925f(0x5a9)](String(_0x574dec));case _0x20925f(0x122):return parseFloat(String(_0x47f173))>parseFloat(String(_0x574dec));case'less':return parseFloat(String(_0x47f173))<parseFloat(String(_0x574dec));case'notEmpty':return String(_0x47f173)!=='';case'empty':return String(_0x47f173)==='';case _0x20925f(0x562):return new RegExp(String(_0x574dec))[_0x20925f(0x2de)](String(_0x47f173));case _0x20925f(0x4bd):return!new RegExp(String(_0x574dec))['test'](String(_0x47f173));default:return!0x1;}}catch(_0x26e830){return console[_0x20925f(0x55a)](_0x20925f(0x46d)+_0x26e830),!0x1;}}async[a0_0x4d4566(0x6ec)](_0x336144,_0xb7f301){const _0x41d3c8=a0_0x4d4566;if(this[_0x41d3c8(0x5cc)][_0x41d3c8(0x5d0)](this[_0x41d3c8(0x3fa)]+'\x20('+this[_0x41d3c8(0x251)]['wuid']+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x336144||!_0xb7f301)return this['logger']['error'](this[_0x41d3c8(0x3fa)]+'\x20('+this[_0x41d3c8(0x251)][_0x41d3c8(0x6bf)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5815c4=_0xb7f301[_0x41d3c8(0x5a4)],_0x19bd82=_0x336144['chatLog'][_0x41d3c8(0x579)][_0x41d3c8(0x684)]||_0x336144['chatLog'][_0x41d3c8(0x579)][_0x41d3c8(0x6fa)]||_0x336144[_0x41d3c8(0x135)]['lastReceivedMessage']['vote'];try{_0x336144[_0x41d3c8(0x135)][_0x41d3c8(0xf9)]||(_0x336144['chatLog'][_0x41d3c8(0xf9)]={});let _0x4c7333=_0x336144[_0x41d3c8(0x135)][_0x41d3c8(0xf9)][_0x5815c4];_0x336144[_0x41d3c8(0x135)]['realVariables'][_0x5815c4]=_0x19bd82;let _0x5c822e={'variable':_0x5815c4,'oldValue':_0x4c7333,'newValue':_0x19bd82};this[_0x41d3c8(0x305)](_0x336144,_0xb7f301,_0x5c822e),this[_0x41d3c8(0x5cc)][_0x41d3c8(0x5d0)](this['instanceName']+'\x20('+this[_0x41d3c8(0x251)][_0x41d3c8(0x6bf)]+_0x41d3c8(0x22c));}catch(_0x1c6ca5){let _0x1403d3={'error':!0x0,'errorLog':_0x1c6ca5[_0x41d3c8(0x3bc)]()};return this[_0x41d3c8(0x305)](_0x336144,_0xb7f301,_0x1403d3),this[_0x41d3c8(0x5cc)][_0x41d3c8(0x55a)](this['instanceName']+'\x20('+this[_0x41d3c8(0x251)]['wuid']+_0x41d3c8(0x406)+(_0x1c6ca5 instanceof Error?_0x1c6ca5['message']:JSON[_0x41d3c8(0x4a7)](_0x1c6ca5,null,0x2))),null;}}async['stopConversation'](_0xe35bfb,_0x133ead){const _0x11ca8c=a0_0x4d4566;if(this[_0x11ca8c(0x5cc)][_0x11ca8c(0x5d0)](this[_0x11ca8c(0x3fa)]+'\x20('+this['instance'][_0x11ca8c(0x6bf)]+_0x11ca8c(0x1e8)),!_0xe35bfb||!_0x133ead)return this[_0x11ca8c(0x5cc)][_0x11ca8c(0x55a)](this[_0x11ca8c(0x3fa)]+'\x20('+this['instance'][_0x11ca8c(0x6bf)]+_0x11ca8c(0x745)),null;let _0x298dbf=Date[_0x11ca8c(0x43a)](),_0x1062a4=parseInt(_0x133ead[_0x11ca8c(0x4fa)],0xa);if(isNaN(_0x1062a4))return this[_0x11ca8c(0x5cc)][_0x11ca8c(0x55a)](this['instanceName']+'\x20('+this[_0x11ca8c(0x251)][_0x11ca8c(0x6bf)]+_0x11ca8c(0x610)),null;let _0x43d39a={'newStoppedUntil':_0x298dbf+_0x1062a4*0x3c*0x3e8};return await this[_0x11ca8c(0x305)](_0xe35bfb,_0x133ead,_0x43d39a,!0x0),null;}async[a0_0x4d4566(0x469)](_0x17cd63,_0x3eaecb){const _0x5f2fc6=a0_0x4d4566;try{switch(_0x3eaecb[_0x5f2fc6(0x25d)][_0x5f2fc6(0x2b2)]){case _0x5f2fc6(0x520):await this['uazapiSendText'](_0x17cd63,_0x3eaecb);break;case _0x5f2fc6(0x19b):await this[_0x5f2fc6(0x713)](_0x17cd63,_0x3eaecb);break;case'sendLocation':await this[_0x5f2fc6(0x427)](_0x17cd63,_0x3eaecb);break;case _0x5f2fc6(0x100):await this[_0x5f2fc6(0x6d4)](_0x17cd63,_0x3eaecb);break;case _0x5f2fc6(0x68d):await this[_0x5f2fc6(0x5ca)](_0x17cd63,_0x3eaecb);break;case _0x5f2fc6(0x6f0):await this[_0x5f2fc6(0x419)](_0x17cd63,_0x3eaecb);break;case'sendMenu':await this['uazapiSendMenu'](_0x17cd63,_0x3eaecb);break;case _0x5f2fc6(0x25a):await this['uazapiDeleteMessage'](_0x17cd63,_0x3eaecb);break;default:this['logger'][_0x5f2fc6(0x55a)](this['instanceName']+'\x20('+this['instance'][_0x5f2fc6(0x6bf)]+_0x5f2fc6(0x692)+_0x3eaecb['uazapi'][_0x5f2fc6(0x2b2)]);}}catch(_0x42686e){this[_0x5f2fc6(0x5cc)][_0x5f2fc6(0x55a)](this[_0x5f2fc6(0x3fa)]+'\x20('+this[_0x5f2fc6(0x251)][_0x5f2fc6(0x6bf)]+_0x5f2fc6(0x182)+(_0x42686e instanceof Error?_0x42686e[_0x5f2fc6(0x604)]:JSON[_0x5f2fc6(0x4a7)](_0x42686e,null,0x2)));}}async[a0_0x4d4566(0x305)](_0x1c4baa,_0x184769,_0x2ae5bb,_0xd67d8e=!0x1,_0x198198=!0x1){const _0x8f723b=a0_0x4d4566;_0x1c4baa['chatLog'][_0x8f723b(0x5dc)]||(_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0x5dc)]=[]);let _0x540a63=(_0x1c4baa[_0x8f723b(0x135)]['blockLogs']?.[_0x8f723b(0x4d8)]??0x0)+0x1,_0xab6eb3=_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0x5dc)][_0x8f723b(0x4a1)](_0x5422be=>String(_0x5422be[_0x8f723b(0x633)])===String(_0x184769[_0x8f723b(0x218)]))[_0x8f723b(0x4d8)]+0x1,_0x5988b8=_0x2ae5bb?.[_0x8f723b(0x229)]??Date[_0x8f723b(0x43a)](),_0x3da136=_0x2ae5bb?.['error']?_0x2ae5bb[_0x8f723b(0x6a7)]??_0x2ae5bb[_0x8f723b(0x55a)]['toString']():void 0x0,_0x4aca15={'onTime':_0x5988b8,'blockId':_0x184769[_0x8f723b(0x218)],'order':_0x540a63,'activatedCount':_0xab6eb3,'error':_0x2ae5bb?.['error']??!0x1,'messageId':_0x2ae5bb?.['messageId'],'apiResponse':_0x2ae5bb?.[_0x8f723b(0x57b)],'apiResponseString':_0x2ae5bb?.['apiResponse']?JSON['stringify'](_0x2ae5bb?.[_0x8f723b(0x57b)]):void 0x0,'variable':_0x2ae5bb?.['variable'],'oldValue':_0x2ae5bb?.[_0x8f723b(0x40b)],'newValue':_0x2ae5bb?.[_0x8f723b(0x202)],'newStoppedUntil':_0x2ae5bb?.[_0x8f723b(0x12a)],'moreLogs':_0x2ae5bb?.[_0x8f723b(0x5e4)],'errorLog':_0x3da136};if(_0x2ae5bb[_0x8f723b(0x5e4)]&&_0x2ae5bb[_0x8f723b(0x5e4)][_0x8f723b(0x4d8)]>0x0){let _0x1e2e0a=_0x2ae5bb[_0x8f723b(0x5e4)][_0x8f723b(0x5ac)](_0x1629d3=>this[_0x8f723b(0x741)](_0x1629d3,_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0xf9)]));_0x4aca15['moreLogs']=_0x1e2e0a;}_0x1c4baa['chatLog'][_0x8f723b(0xf9)]||(_0x1c4baa[_0x8f723b(0x135)]['realVariables']={}),_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0xf9)][_0x8f723b(0x2db)]=String(_0xab6eb3),_0x1c4baa['chatLog'][_0x8f723b(0xf9)][_0x8f723b(0x1b2)]=String(_0x2ae5bb[_0x8f723b(0x55a)]??!0x1),_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0x5dc)][_0x8f723b(0x52c)](_0x4aca15),_0x1c4baa['chatLog'][_0x8f723b(0x478)]=_0x184769[_0x8f723b(0x218)][_0x8f723b(0x3bc)](),_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0x4c8)]&&(_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0x4c8)]=_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0x4c8)]),_0x1c4baa['chatLog']['lastReceivedMessage']&&(_0x1c4baa[_0x8f723b(0x135)]['lastReceivedMessage']=_0x1c4baa[_0x8f723b(0x135)]['lastReceivedMessage']),_0x1c4baa['chatLog'][_0x8f723b(0x161)]&&(_0x1c4baa[_0x8f723b(0x135)]['lastCondition']=_0x1c4baa[_0x8f723b(0x135)][_0x8f723b(0x161)]),_0x198198&&(_0x1c4baa[_0x8f723b(0x1d6)]=_0x8f723b(0x4a5)),_0xd67d8e?this[_0x8f723b(0x58b)](_0x1c4baa):this[_0x8f723b(0x323)](_0x1c4baa,_0x184769);}[a0_0x4d4566(0x741)](_0x2c0479,_0x40b96f){const _0x4bcc4c=a0_0x4d4566;return _0x2c0479[_0x4bcc4c(0x3ad)](/\{\{([^}]+)\}\}/g,(_0x5e7f03,_0x5e3439)=>_0x40b96f[_0x5e3439]?'{{'+_0x5e3439+_0x4bcc4c(0x45d)+_0x40b96f[_0x5e3439]+'\x22':'{{'+_0x5e3439+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x4d4566(0x58b)](_0x5cbda3){const _0xcfd68d=a0_0x4d4566;try{let _0xa3b663=Object[_0xcfd68d(0x3d7)](_0x5cbda3[_0xcfd68d(0x135)][_0xcfd68d(0xf9)])[_0xcfd68d(0x5ac)](([_0x5159ff,_0x1dfab5])=>({'name':_0x5159ff,'value':_0x1dfab5})),_0x1a313b={'status':_0x5cbda3[_0xcfd68d(0x1d6)],'blocks':_0x5cbda3[_0xcfd68d(0x3a3)],'waitingMenu_id':_0x5cbda3[_0xcfd68d(0x5f8)],'waitingMenu_text':_0x5cbda3['waitingMenu_text'],'waitingMenu_replyOptions':_0x5cbda3[_0xcfd68d(0x264)],'chatLog':{'lastBlockId':_0x5cbda3[_0xcfd68d(0x135)][_0xcfd68d(0x478)],'lastSendMessage':_0x5cbda3[_0xcfd68d(0x135)]['lastSendMessage'],'lastReceivedMessage':_0x5cbda3['chatLog']['lastReceivedMessage'],'lastCondition':_0x5cbda3[_0xcfd68d(0x135)][_0xcfd68d(0x161)],'chatVariables':_0xa3b663,'realVariables':_0x5cbda3[_0xcfd68d(0x135)]['realVariables'],'blockLogs':_0x5cbda3['chatLog']['blockLogs']}},_0x58475a=await this[_0xcfd68d(0x5bc)]['flowConversation'][_0xcfd68d(0x2e6)](_0x5cbda3[_0xcfd68d(0x218)],_0x1a313b,this[_0xcfd68d(0x251)][_0xcfd68d(0x6bf)]);if(_0x58475a){this['logger'][_0xcfd68d(0x5d0)](this[_0xcfd68d(0x3fa)]+'\x20('+this[_0xcfd68d(0x251)]['wuid']+_0xcfd68d(0x29e)+_0x58475a[_0xcfd68d(0x218)]);try{let _0x16aaac=[_0xcfd68d(0x5ce),_0xcfd68d(0x488),_0xcfd68d(0x124),_0xcfd68d(0x654),_0xcfd68d(0x1d6),_0xcfd68d(0x185),_0xcfd68d(0x710),_0xcfd68d(0x272),_0xcfd68d(0x314)];if(!this[_0xcfd68d(0x168)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error(_0xcfd68d(0x5c9));let _0x41f12d=this[_0xcfd68d(0x168)]?.[_0xcfd68d(0x3ee)][_0xcfd68d(0x5ac)](_0xb5d60d=>_0xb5d60d[_0xcfd68d(0x270)]),_0x2b1c45={};Object[_0xcfd68d(0x3d7)](_0x5cbda3[_0xcfd68d(0x135)]['realVariables'])[_0xcfd68d(0x200)](([_0x145cdd,_0x2afe9b])=>{const _0x284b26=_0xcfd68d;_0x16aaac[_0x284b26(0x5a9)](_0x145cdd)&&(_0x145cdd===_0x284b26(0x272)&&typeof _0x2afe9b==_0x284b26(0x2c0)?_0x2b1c45[_0x145cdd]=_0x2afe9b['split'](',')['map'](_0x57f2d1=>_0x57f2d1[_0x284b26(0x34f)]())[_0x284b26(0x4a1)](_0x5cd891=>_0x5cd891!==''):_0x145cdd===_0x284b26(0x314)&&typeof _0x2afe9b==_0x284b26(0x2c0)?_0x2b1c45[_0x145cdd]=_0x2afe9b[_0x284b26(0x4e4)](',')[_0x284b26(0x5ac)](_0x37b94d=>_0x37b94d[_0x284b26(0x34f)]())[_0x284b26(0x4a1)](_0x44bb69=>_0x44bb69!==''):_0x2b1c45[_0x145cdd]=_0x2afe9b);});let _0x543735=_0x5cbda3['chatLog'][_0xcfd68d(0x5dc)][_0x5cbda3['chatLog'][_0xcfd68d(0x5dc)][_0xcfd68d(0x4d8)]-0x1];if(_0x543735){let _0x90f4ce=_0x543735[_0xcfd68d(0x12a)];_0x90f4ce!==void 0x0&&(_0x2b1c45[_0xcfd68d(0x23e)]=_0x90f4ce['toString']());}let _0x39971a=_0xa3b663[_0xcfd68d(0x4a1)](_0x1fedb9=>_0x41f12d[_0xcfd68d(0x5a9)](_0x1fedb9[_0xcfd68d(0x270)]));this[_0xcfd68d(0x5cc)][_0xcfd68d(0x5d0)](this[_0xcfd68d(0x3fa)]+'\x20('+this[_0xcfd68d(0x251)][_0xcfd68d(0x6bf)]+_0xcfd68d(0x6ca)),this['logger'][_0xcfd68d(0x5d0)](_0x2b1c45),this[_0xcfd68d(0x5cc)][_0xcfd68d(0x5d0)](this[_0xcfd68d(0x3fa)]+'\x20('+this[_0xcfd68d(0x251)][_0xcfd68d(0x6bf)]+_0xcfd68d(0x14c)),this[_0xcfd68d(0x5cc)][_0xcfd68d(0x5d0)](_0x39971a);let _0x5cdf90=_0x39971a[_0xcfd68d(0x5ac)](_0x33b4c8=>{const _0x1c4fbc=_0xcfd68d;let _0x5c841a=this['AutomateSystem']?.[_0x1c4fbc(0x3ee)][_0x1c4fbc(0x4df)](_0x2ef168=>_0x2ef168[_0x1c4fbc(0x270)]===_0x33b4c8[_0x1c4fbc(0x270)]);if(!_0x5c841a)throw new Error(_0x1c4fbc(0x634)+_0x33b4c8[_0x1c4fbc(0x270)]);return{'_id':_0x5c841a[_0x1c4fbc(0x218)],'value':_0x33b4c8[_0x1c4fbc(0x658)]};});this['logger']['verbose'](this[_0xcfd68d(0x3fa)]+'\x20('+this[_0xcfd68d(0x251)][_0xcfd68d(0x6bf)]+_0xcfd68d(0x433)),this[_0xcfd68d(0x5cc)]['verbose'](_0x5cdf90),await this[_0xcfd68d(0x4fd)](_0x5cbda3[_0xcfd68d(0x21e)],_0x2b1c45,_0x5cdf90);}catch(_0x200679){this[_0xcfd68d(0x5cc)][_0xcfd68d(0x55a)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xcfd68d(0x339)+(_0x200679 instanceof Error?_0x200679['message']:JSON[_0xcfd68d(0x4a7)](_0x200679,null,0x2)));}}else this[_0xcfd68d(0x5cc)]['error'](this[_0xcfd68d(0x3fa)]+'\x20('+this[_0xcfd68d(0x251)]['wuid']+_0xcfd68d(0x5e9));}catch(_0x1cbabf){this['logger']['error'](this[_0xcfd68d(0x3fa)]+'\x20('+this['instance']['wuid']+_0xcfd68d(0x3ec)+(_0x1cbabf instanceof Error?_0x1cbabf[_0xcfd68d(0x604)]:JSON[_0xcfd68d(0x4a7)](_0x1cbabf,null,0x2)));}}async['saveChatVariables'](_0x33bec5,_0x2a51b4,_0x307c75){const _0x25fd0a=a0_0x4d4566;try{let _0x2d9e2a={'leadInfo.leadnome':_0x2a51b4[_0x25fd0a(0x5ce)],'leadInfo.nomecompleto':_0x2a51b4[_0x25fd0a(0x488)],'leadInfo.email':_0x2a51b4[_0x25fd0a(0x124)],'leadInfo.cpf':_0x2a51b4[_0x25fd0a(0x654)],'leadInfo.status':_0x2a51b4[_0x25fd0a(0x1d6)],'leadInfo.notas':_0x2a51b4['notas'],'leadInfo.responsavelid':_0x2a51b4[_0x25fd0a(0x710)],'leadInfo.tags':_0x2a51b4['tags'],'leadInfo.etiquetas':_0x2a51b4[_0x25fd0a(0x314)],'leadInfo.customFields':_0x307c75},_0x5efca2=await this[_0x25fd0a(0x5bc)]['chat'][_0x25fd0a(0x513)]({'where':{'_id':_0x33bec5}},this[_0x25fd0a(0x251)][_0x25fd0a(0x6bf)]),_0x28d252=new Set(_0x5efca2[_0x25fd0a(0x224)][_0x25fd0a(0x314)]||[]),_0x5f2bf4=new Set(_0x2a51b4['etiquetas']||[]),_0x3cbf26=await this[_0x25fd0a(0x5bc)]['label'][_0x25fd0a(0x4df)]({'where':{}},this[_0x25fd0a(0x251)][_0x25fd0a(0x6bf)]),_0x5357eb=new Set(_0x3cbf26[_0x25fd0a(0x5ac)](_0x451e23=>_0x451e23['_id'])),_0x3951cf=[..._0x5f2bf4][_0x25fd0a(0x4a1)](_0x4b509b=>!_0x28d252[_0x25fd0a(0x2b6)](_0x4b509b)&&_0x5357eb[_0x25fd0a(0x2b6)](_0x4b509b)),_0x35fbbb=[..._0x28d252][_0x25fd0a(0x4a1)](_0x378264=>!_0x5f2bf4['has'](_0x378264));for(let _0x29cdf9 of _0x3951cf)await this[_0x25fd0a(0x133)](_0x29cdf9,_0x5efca2[_0x25fd0a(0x218)]),_0x28d252['add'](_0x29cdf9);for(let _0x515f31 of _0x35fbbb)await this[_0x25fd0a(0x19e)](_0x515f31,_0x5efca2[_0x25fd0a(0x218)]),_0x28d252[_0x25fd0a(0x4b6)](_0x515f31);if(_0x25fd0a(0x23e)in _0x2a51b4){let _0x10734c=_0x2a51b4[_0x25fd0a(0x23e)];_0x2d9e2a[_0x25fd0a(0x112)]=_0x10734c?Number(_0x10734c):null;}let _0x4df255=await this[_0x25fd0a(0x5bc)][_0x25fd0a(0x35b)][_0x25fd0a(0x2e6)]({'where':{'_id':_0x33bec5}},_0x2d9e2a,this[_0x25fd0a(0x251)][_0x25fd0a(0x6bf)]);_0x4df255?(this['logger'][_0x25fd0a(0x5d0)](this[_0x25fd0a(0x3fa)]+'\x20('+this[_0x25fd0a(0x251)][_0x25fd0a(0x6bf)]+_0x25fd0a(0x663)+_0x4df255[_0x25fd0a(0x218)]),j(this[_0x25fd0a(0x3fa)],'chats',{'chat':_0x4df255})):this['logger'][_0x25fd0a(0x55a)](this['instanceName']+'\x20('+this[_0x25fd0a(0x251)][_0x25fd0a(0x6bf)]+_0x25fd0a(0x69f));}catch(_0x320a7e){this[_0x25fd0a(0x5cc)][_0x25fd0a(0x55a)](this[_0x25fd0a(0x3fa)]+'\x20('+this[_0x25fd0a(0x251)][_0x25fd0a(0x6bf)]+_0x25fd0a(0x37a)+(_0x320a7e instanceof Error?_0x320a7e[_0x25fd0a(0x604)]:JSON['stringify'](_0x320a7e,null,0x2)));}}async['updateStopChat'](_0x3c9f13,_0x4b7f53){const _0x40958f=a0_0x4d4566;this[_0x40958f(0x5cc)]['verbose'](this[_0x40958f(0x3fa)]+'\x20('+this[_0x40958f(0x251)][_0x40958f(0x6bf)]+_0x40958f(0x5e8)+_0x4b7f53);try{let _0x77fdef=await this[_0x40958f(0x5bc)][_0x40958f(0x35b)]['updateOne']({'where':{'_id':_0x3c9f13['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x4b7f53},this[_0x40958f(0x251)][_0x40958f(0x6bf)]);this[_0x40958f(0x5cc)]['verbose'](this[_0x40958f(0x3fa)]+'\x20('+this[_0x40958f(0x251)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x3c9f13[_0x40958f(0x218)]),this[_0x40958f(0x5cc)][_0x40958f(0x5d0)](this[_0x40958f(0x3fa)]+'\x20('+this['instance']['wuid']+_0x40958f(0x5e8)+JSON[_0x40958f(0x4a7)](_0x77fdef,null,0x2)),_0x77fdef&&j(this['instanceName'],'chats',{'chat':_0x77fdef});}catch(_0x3ef8a0){this[_0x40958f(0x5cc)][_0x40958f(0x55a)](this[_0x40958f(0x3fa)]+'\x20('+this[_0x40958f(0x251)][_0x40958f(0x6bf)]+_0x40958f(0x62e)+(_0x3ef8a0 instanceof Error?_0x3ef8a0[_0x40958f(0x604)]:JSON['stringify'](_0x3ef8a0,null,0x2)));}}async[a0_0x4d4566(0x6b6)](_0x2e68d9){const _0x222f4e=a0_0x4d4566;try{this[_0x222f4e(0x5cc)]['verbose'](this['instanceName']+'\x20('+this[_0x222f4e(0x251)][_0x222f4e(0x6bf)]+'):\x20Buscando\x20flow...');let _0x181cac=_0x2e68d9[_0x222f4e(0x3ad)](/\D/g,''),_0x26efa7=await this['repository'][_0x222f4e(0x508)]['findOne']({'where':{'testingWith':_0x181cac}},this['instance'][_0x222f4e(0x6bf)]);return _0x26efa7||(this['logger'][_0x222f4e(0x5d0)](this['instanceName']+'\x20('+this[_0x222f4e(0x251)][_0x222f4e(0x6bf)]+_0x222f4e(0x1be)),_0x26efa7=await this['repository'][_0x222f4e(0x508)][_0x222f4e(0x513)]({'where':{'default':!0x0}},this['instance'][_0x222f4e(0x6bf)])),_0x26efa7||(this[_0x222f4e(0x5cc)][_0x222f4e(0x5d0)](this[_0x222f4e(0x3fa)]+'\x20('+this[_0x222f4e(0x251)]['wuid']+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x5b1da0){return this['logger']['error'](this[_0x222f4e(0x3fa)]+'\x20('+this['instance'][_0x222f4e(0x6bf)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x5b1da0 instanceof Error?_0x5b1da0['message']:JSON['stringify'](_0x5b1da0,null,0x2))),null;}}async['findConversation'](_0x4d1137,_0x316918){const _0x2310f1=a0_0x4d4566;try{let _0x13ace3=!!_0x316918[_0x2310f1(0x534)],_0x478e05=_0x316918[_0x2310f1(0x2f4)],_0x720f15=null;if(this[_0x2310f1(0x5cc)][_0x2310f1(0x5d0)](this[_0x2310f1(0x3fa)]+'\x20('+this['instance'][_0x2310f1(0x6bf)]+_0x2310f1(0x4bb)+_0x13ace3+_0x2310f1(0x60e)+_0x478e05),_0x13ace3){this[_0x2310f1(0x5cc)][_0x2310f1(0x5d0)](this[_0x2310f1(0x3fa)]+'\x20('+this['instance'][_0x2310f1(0x6bf)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x27877d={'where':{'remoteJid':_0x4d1137,'waitingMenu_id':_0x478e05}};if(_0x720f15=await this[_0x2310f1(0x5bc)]['flowConversation'][_0x2310f1(0x513)](_0x27877d,this[_0x2310f1(0x251)][_0x2310f1(0x6bf)]),!_0x720f15)return this['logger'][_0x2310f1(0x5d0)](this[_0x2310f1(0x3fa)]+'\x20('+this[_0x2310f1(0x251)]['wuid']+_0x2310f1(0x393)),null;let _0x50a2a3=Date[_0x2310f1(0x43a)](),_0x203d78=_0x720f15?.[_0x2310f1(0x3ed)]||0x0,_0x385d49=_0x50a2a3-_0x203d78*0x3c*0x3e8;if(_0x720f15[_0x2310f1(0x196)]<_0x385d49){this['logger'][_0x2310f1(0x5d0)](this[_0x2310f1(0x3fa)]+'\x20('+this[_0x2310f1(0x251)]['wuid']+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x14ba33={'number':_0x720f15[_0x2310f1(0x21e)],'options':{'delay':0x0},'textMessage':{'text':_0x720f15[_0x2310f1(0x578)]}};await this['textMessage'](_0x14ba33);let _0x327ab7={'status':_0x2310f1(0x4a5),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x2310f1(0x5bc)][_0x2310f1(0x52d)][_0x2310f1(0x2e6)](_0x720f15[_0x2310f1(0x218)],_0x327ab7,this[_0x2310f1(0x251)]['wuid']),null;}return _0x720f15['lastInteraction']=Date[_0x2310f1(0x43a)](),_0x720f15['chatLog'][_0x2310f1(0x579)]=_0x316918,_0x720f15;}else{this[_0x2310f1(0x5cc)][_0x2310f1(0x5d0)](this[_0x2310f1(0x3fa)]+'\x20('+this['instance'][_0x2310f1(0x6bf)]+_0x2310f1(0x192)+this[_0x2310f1(0x251)][_0x2310f1(0x6bf)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x2310f1(0x5cc)][_0x2310f1(0x5d0)](this['instanceName']+'\x20('+this['instance'][_0x2310f1(0x6bf)]+_0x2310f1(0x6c3));let _0x4b7c93={'where':{'remoteJid':_0x4d1137,'status':'open'}};if(_0x720f15=await this[_0x2310f1(0x5bc)][_0x2310f1(0x52d)]['findOne'](_0x4b7c93,this[_0x2310f1(0x251)][_0x2310f1(0x6bf)]),!_0x720f15){let _0x15eb39=await this[_0x2310f1(0x6b6)](_0x4d1137);if(_0x15eb39&&(_0x720f15=await this['createNewConversation'](_0x15eb39,_0x316918[_0x2310f1(0x583)],_0x316918)),!_0x720f15)return null;}let _0x48eec2=Date[_0x2310f1(0x43a)](),_0x3fe3c8=_0x720f15?.[_0x2310f1(0x3ed)]||0x0,_0x4ca99b=_0x48eec2-_0x3fe3c8*0x3c*0x3e8;if(this[_0x2310f1(0x5cc)][_0x2310f1(0x5d0)](this[_0x2310f1(0x3fa)]+'\x20('+this['instance'][_0x2310f1(0x6bf)]+_0x2310f1(0x4d9)+_0x48eec2+_0x2310f1(0x3a8)+_0x3fe3c8+',\x20Expiration\x20Time:\x20'+_0x4ca99b),this[_0x2310f1(0x5cc)][_0x2310f1(0x5d0)](this[_0x2310f1(0x3fa)]+'\x20('+this[_0x2310f1(0x251)][_0x2310f1(0x6bf)]+_0x2310f1(0x2bc)),this[_0x2310f1(0x5cc)][_0x2310f1(0x5d0)](this[_0x2310f1(0x3fa)]+'\x20('+this[_0x2310f1(0x251)][_0x2310f1(0x6bf)]+'):\x20conversation.lastInteraction:\x20'+_0x720f15[_0x2310f1(0x196)]),this[_0x2310f1(0x5cc)]['verbose'](this[_0x2310f1(0x3fa)]+'\x20('+this['instance'][_0x2310f1(0x6bf)]+_0x2310f1(0x71a)+_0x4ca99b),_0x720f15[_0x2310f1(0x196)]<_0x4ca99b){this['logger']['verbose'](this[_0x2310f1(0x3fa)]+'\x20('+this[_0x2310f1(0x251)][_0x2310f1(0x6bf)]+_0x2310f1(0x2c1));let _0xb82d98=await this[_0x2310f1(0x6b6)](_0x4d1137);if(_0xb82d98===null)return null;_0x720f15&&await this[_0x2310f1(0x5bc)][_0x2310f1(0x52d)][_0x2310f1(0x2e6)](_0x720f15['_id'],{'status':_0x2310f1(0x4a5)},this[_0x2310f1(0x251)][_0x2310f1(0x6bf)]),_0x720f15=await this[_0x2310f1(0x1bc)](_0xb82d98,_0x316918[_0x2310f1(0x583)],_0x316918);}return _0x720f15[_0x2310f1(0x196)]=_0x48eec2,_0x720f15[_0x2310f1(0x135)][_0x2310f1(0x579)]=_0x316918,_0x720f15;}}catch(_0x30d282){return this[_0x2310f1(0x5cc)]['error'](this[_0x2310f1(0x3fa)]+'\x20('+this[_0x2310f1(0x251)][_0x2310f1(0x6bf)]+_0x2310f1(0x59e)+(_0x30d282 instanceof Error?_0x30d282[_0x2310f1(0x604)]:JSON[_0x2310f1(0x4a7)](_0x30d282,null,0x2))),null;}}async['createNewConversation'](_0x23a60e,_0x51b24c,_0x29f9a4){const _0x4edc89=a0_0x4d4566;this[_0x4edc89(0x5cc)][_0x4edc89(0x5d0)](this['instanceName']+'\x20('+this[_0x4edc89(0x251)][_0x4edc89(0x6bf)]+_0x4edc89(0x2b1));try{let _0xf48eaf=require(_0x4edc89(0x6be))[_0x4edc89(0x115)],_0x53662d=Date[_0x4edc89(0x43a)](),_0x23e517='start',_0x2de380=_0x51b24c[_0x4edc89(0x310)]?null:_0x29f9a4,_0x474f4e=_0x51b24c['fromMe']?_0x29f9a4:null,_0x52255e=_0x51b24c[_0x4edc89(0x21e)];await this['closeExistingConversations'](_0x52255e);let _0x3a3786={..._0x23a60e,'chatLog':null},_0x2654d9=await this['variablesToObject'](_0x3a3786[_0x4edc89(0x544)]),_0x49e357=await this[_0x4edc89(0x6ac)](_0x52255e),_0x5e6127={..._0x2654d9,..._0x49e357,'_remoteJid':_0x52255e},_0x22f95a={'lastReceivedMessage':_0x2de380,'lastSendMessage':_0x474f4e,'lastBlockId':_0x23e517,'lastCondition':!0x0,'realVariables':_0x5e6127};_0x3a3786['chatLog']=_0x22f95a,delete _0x3a3786['_id'],_0x3a3786[_0x4edc89(0x218)]=new _0xf48eaf(),_0x3a3786['lastInteraction']=_0x53662d,_0x3a3786['status']=_0x4edc89(0x39f),_0x3a3786['remoteJid']=_0x52255e;let _0xd07399=await this[_0x4edc89(0x5bc)][_0x4edc89(0x52d)][_0x4edc89(0x2e6)](_0x3a3786[_0x4edc89(0x218)],_0x3a3786,this['instance'][_0x4edc89(0x6bf)]);return this[_0x4edc89(0x5cc)][_0x4edc89(0x5d0)](this['instanceName']+'\x20('+this[_0x4edc89(0x251)][_0x4edc89(0x6bf)]+_0x4edc89(0x16e)),_0xd07399?_0x3a3786:null;}catch(_0x22a7f9){return this['logger'][_0x4edc89(0x55a)](this[_0x4edc89(0x3fa)]+'\x20('+this[_0x4edc89(0x251)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x22a7f9 instanceof Error?_0x22a7f9['message']:JSON[_0x4edc89(0x4a7)](_0x22a7f9,null,0x2))),_0x22a7f9;}}async[a0_0x4d4566(0x2d9)](_0x453692,_0x191547){const _0x11d5e9=a0_0x4d4566;let _0xa1c04e=_0x453692['remoteJid'];_0x191547['uazapi'][_0x11d5e9(0x21e)]&&_0x191547['uazapi'][_0x11d5e9(0x21e)]['trim']()!==''&&(_0xa1c04e=_0x191547[_0x11d5e9(0x25d)]['remoteJid'][_0x11d5e9(0x34f)]()),this[_0x11d5e9(0x5cc)]['verbose'](this[_0x11d5e9(0x3fa)]+'\x20('+this[_0x11d5e9(0x251)][_0x11d5e9(0x6bf)]+'):\x20Enviando\x20texto');let _0x505c38={'number':_0xa1c04e,'options':{'delay':_0x191547[_0x11d5e9(0x25d)][_0x11d5e9(0x4b3)]},'textMessage':{'text':_0x191547[_0x11d5e9(0x25d)][_0x11d5e9(0x684)]}};try{let _0xec2f2e=await this[_0x11d5e9(0x1f5)](_0x505c38);if(_0xec2f2e){let _0x9f25f1={'_id':_0xec2f2e[_0x11d5e9(0x583)]['id'],'_fromMe':_0xec2f2e[_0x11d5e9(0x583)][_0x11d5e9(0x310)],'_remoteJid':_0xec2f2e[_0x11d5e9(0x583)]['remoteJid']};_0x453692[_0x11d5e9(0x135)][_0x11d5e9(0x478)]=_0x191547[_0x11d5e9(0x218)][_0x11d5e9(0x3bc)]();let {message_normalized:_0x27e3c1}=this['normalizeMessage'](_0xec2f2e[_0x11d5e9(0x604)],$(_0xec2f2e[_0x11d5e9(0x604)]),null);_0x453692[_0x11d5e9(0x135)][_0x11d5e9(0x4c8)]=await _0x27e3c1;let _0x4ffe9b={'messageId':_0xec2f2e[_0x11d5e9(0x583)]['id']},_0x651dc3=_0x453692[_0x11d5e9(0x135)][_0x11d5e9(0xf9)];Object['assign'](_0x651dc3,_0x9f25f1),_0x453692[_0x11d5e9(0x135)][_0x11d5e9(0xf9)]=_0x651dc3,this[_0x11d5e9(0x305)](_0x453692,_0x191547,_0x4ffe9b);}else{let _0x5dbae4={'error':!0x0};this[_0x11d5e9(0x305)](_0x453692,_0x191547,_0x5dbae4),this[_0x11d5e9(0x5cc)]['error'](this['instanceName']+'\x20('+this[_0x11d5e9(0x251)][_0x11d5e9(0x6bf)]+_0x11d5e9(0x19c));}}catch(_0x1d4be8){let _0x14b73f={'error':!0x0,'errorLog':_0x1d4be8[_0x11d5e9(0x3bc)]()};this[_0x11d5e9(0x305)](_0x453692,_0x191547,_0x14b73f),this[_0x11d5e9(0x5cc)][_0x11d5e9(0x55a)](this['instanceName']+'\x20('+this[_0x11d5e9(0x251)][_0x11d5e9(0x6bf)]+_0x11d5e9(0x2b4)+(_0x1d4be8 instanceof Error?_0x1d4be8[_0x11d5e9(0x604)]:JSON[_0x11d5e9(0x4a7)](_0x1d4be8,null,0x2)));}}async['uazapiSendMedia'](_0x22dc1a,_0x4fd6a8){const _0x1fd765=a0_0x4d4566;let _0x2e4d9b=_0x22dc1a[_0x1fd765(0x21e)];_0x4fd6a8[_0x1fd765(0x25d)][_0x1fd765(0x21e)]&&_0x4fd6a8['uazapi'][_0x1fd765(0x21e)]['trim']()!==''&&(_0x2e4d9b=_0x4fd6a8[_0x1fd765(0x25d)][_0x1fd765(0x21e)]['trim']()),this['logger']['verbose'](this[_0x1fd765(0x3fa)]+'\x20('+this[_0x1fd765(0x251)][_0x1fd765(0x6bf)]+'):\x20Enviando\x20mídia');let _0x2516be={'number':_0x2e4d9b,'options':{'delay':_0x4fd6a8['uazapi'][_0x1fd765(0x4b3)]},'mediaMessage':{'mediatype':_0x4fd6a8[_0x1fd765(0x25d)]['mediatype'],'caption':_0x4fd6a8['uazapi'][_0x1fd765(0x6fa)],'media':_0x4fd6a8[_0x1fd765(0x25d)][_0x1fd765(0x239)],'fileName':_0x4fd6a8[_0x1fd765(0x25d)]['fileName']}};try{let _0x4c359c=await this[_0x1fd765(0x6a8)](_0x2516be);if(_0x4c359c){let _0x201b00={'_id':_0x4c359c[_0x1fd765(0x583)]['id'],'_fromMe':_0x4c359c[_0x1fd765(0x583)]['fromMe'],'_remoteJid':_0x4c359c[_0x1fd765(0x583)]['remoteJid']};_0x22dc1a['chatLog'][_0x1fd765(0x478)]=_0x4fd6a8['_id']['toString']();let {message_normalized:_0x225364}=this['normalizeMessage'](_0x4c359c['message'],$(_0x4c359c[_0x1fd765(0x604)]),null);_0x22dc1a['chatLog'][_0x1fd765(0x4c8)]=await _0x225364;let _0x54500b={'messageId':_0x4c359c[_0x1fd765(0x583)]['id']},_0x4563a9=_0x22dc1a[_0x1fd765(0x135)][_0x1fd765(0xf9)];Object[_0x1fd765(0x3cd)](_0x4563a9,_0x201b00),_0x22dc1a[_0x1fd765(0x135)][_0x1fd765(0xf9)]=_0x4563a9,this[_0x1fd765(0x305)](_0x22dc1a,_0x4fd6a8,_0x54500b);}else{let _0x3dfa28={'error':!0x0};this[_0x1fd765(0x305)](_0x22dc1a,_0x4fd6a8,_0x3dfa28),this[_0x1fd765(0x5cc)][_0x1fd765(0x55a)](this[_0x1fd765(0x3fa)]+'\x20('+this[_0x1fd765(0x251)][_0x1fd765(0x6bf)]+_0x1fd765(0x333));}}catch(_0x311d93){let _0x2f52b8={'error':!0x0,'errorLog':_0x311d93[_0x1fd765(0x3bc)]()};this[_0x1fd765(0x305)](_0x22dc1a,_0x4fd6a8,_0x2f52b8),this[_0x1fd765(0x5cc)]['error'](this[_0x1fd765(0x3fa)]+'\x20('+this[_0x1fd765(0x251)][_0x1fd765(0x6bf)]+_0x1fd765(0x716)+(_0x311d93 instanceof Error?_0x311d93[_0x1fd765(0x604)]:JSON['stringify'](_0x311d93,null,0x2)));}}async['uazapiSendLocation'](_0x3cf74e,_0x2f8210){const _0x291b9d=a0_0x4d4566;let _0x2777a8=_0x3cf74e['remoteJid'];_0x2f8210[_0x291b9d(0x25d)][_0x291b9d(0x21e)]&&_0x2f8210[_0x291b9d(0x25d)]['remoteJid'][_0x291b9d(0x34f)]()!==''&&(_0x2777a8=_0x2f8210[_0x291b9d(0x25d)][_0x291b9d(0x21e)][_0x291b9d(0x34f)]()),this[_0x291b9d(0x5cc)]['verbose'](this[_0x291b9d(0x3fa)]+'\x20('+this[_0x291b9d(0x251)][_0x291b9d(0x6bf)]+_0x291b9d(0x20d));let _0x37af02={'number':_0x2777a8,'options':{'delay':_0x2f8210['uazapi'][_0x291b9d(0x4b3)]},'locationMessage':{'name':_0x2f8210[_0x291b9d(0x25d)][_0x291b9d(0x270)],'address':_0x2f8210['uazapi']['address'],'latitude':_0x2f8210['uazapi'][_0x291b9d(0x5d1)],'longitude':_0x2f8210[_0x291b9d(0x25d)][_0x291b9d(0x6ed)]}};try{let _0x3ae620=await this[_0x291b9d(0x6ab)](_0x37af02);if(_0x3ae620){let _0x249ebb={'_id':_0x3ae620['key']['id'],'_fromMe':_0x3ae620[_0x291b9d(0x583)][_0x291b9d(0x310)],'_remoteJid':_0x3ae620['key'][_0x291b9d(0x21e)]};_0x3cf74e[_0x291b9d(0x135)][_0x291b9d(0x478)]=_0x2f8210[_0x291b9d(0x218)][_0x291b9d(0x3bc)]();let {message_normalized:_0x2fb1f2}=this[_0x291b9d(0x2cd)](_0x3ae620['message'],$(_0x3ae620['message']),null);_0x3cf74e['chatLog']['lastSendMessage']=await _0x2fb1f2;let _0x53f809={'messageId':_0x3ae620[_0x291b9d(0x583)]['id']},_0x246dad=_0x3cf74e[_0x291b9d(0x135)][_0x291b9d(0xf9)];Object['assign'](_0x246dad,_0x249ebb),_0x3cf74e[_0x291b9d(0x135)][_0x291b9d(0xf9)]=_0x246dad,this['updateConversation'](_0x3cf74e,_0x2f8210,_0x53f809);}else{let _0x20bbf1={'error':!0x0};this[_0x291b9d(0x305)](_0x3cf74e,_0x2f8210,_0x20bbf1),this[_0x291b9d(0x5cc)]['error'](this[_0x291b9d(0x3fa)]+'\x20('+this[_0x291b9d(0x251)][_0x291b9d(0x6bf)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x1275cc){let _0x57bb69={'error':!0x0,'errorLog':_0x1275cc[_0x291b9d(0x3bc)]()};this[_0x291b9d(0x305)](_0x3cf74e,_0x2f8210,_0x57bb69),this[_0x291b9d(0x5cc)][_0x291b9d(0x55a)](this[_0x291b9d(0x3fa)]+'\x20('+this['instance'][_0x291b9d(0x6bf)]+_0x291b9d(0x476)+(_0x1275cc instanceof Error?_0x1275cc[_0x291b9d(0x604)]:JSON[_0x291b9d(0x4a7)](_0x1275cc,null,0x2)));}}async[a0_0x4d4566(0x6d4)](_0x5cf43f,_0xcb91c4){const _0xe85a98=a0_0x4d4566;let _0x54b37b=_0x5cf43f[_0xe85a98(0x21e)];_0xcb91c4[_0xe85a98(0x25d)][_0xe85a98(0x21e)]&&_0xcb91c4[_0xe85a98(0x25d)][_0xe85a98(0x21e)]['trim']()!==''&&(_0x54b37b=_0xcb91c4[_0xe85a98(0x25d)]['remoteJid']['trim']()),this[_0xe85a98(0x5cc)][_0xe85a98(0x5d0)](this[_0xe85a98(0x3fa)]+'\x20('+this['instance'][_0xe85a98(0x6bf)]+_0xe85a98(0x286));let _0x427ce3={'number':_0x54b37b,'options':{'delay':_0xcb91c4[_0xe85a98(0x25d)][_0xe85a98(0x4b3)]},'audioMessage':{'audio':_0xcb91c4[_0xe85a98(0x25d)][_0xe85a98(0x226)]}};try{let _0x495d15=await this[_0xe85a98(0x6b4)](_0x427ce3);if(_0x495d15){let _0x215243={'_id':_0x495d15[_0xe85a98(0x583)]['id'],'_fromMe':_0x495d15[_0xe85a98(0x583)]['fromMe'],'_remoteJid':_0x495d15[_0xe85a98(0x583)][_0xe85a98(0x21e)]};_0x5cf43f[_0xe85a98(0x135)][_0xe85a98(0x478)]=_0xcb91c4['_id']['toString']();let {message_normalized:_0x241897}=this[_0xe85a98(0x2cd)](_0x495d15['message'],$(_0x495d15['message']),null);_0x5cf43f['chatLog']['lastSendMessage']=await _0x241897;let _0x3ed1a1={'messageId':_0x495d15['key']['id']},_0x38fc69=_0x5cf43f[_0xe85a98(0x135)][_0xe85a98(0xf9)];Object[_0xe85a98(0x3cd)](_0x38fc69,_0x215243),_0x5cf43f[_0xe85a98(0x135)][_0xe85a98(0xf9)]=_0x38fc69,this[_0xe85a98(0x305)](_0x5cf43f,_0xcb91c4,_0x3ed1a1);}else{let _0x2b428b={'error':!0x0};this['updateConversation'](_0x5cf43f,_0xcb91c4,_0x2b428b),this[_0xe85a98(0x5cc)]['error'](this[_0xe85a98(0x3fa)]+'\x20('+this[_0xe85a98(0x251)][_0xe85a98(0x6bf)]+_0xe85a98(0x6ce));}}catch(_0x25936d){let _0x36ac4d={'error':!0x0,'errorLog':_0x25936d[_0xe85a98(0x3bc)]()};this[_0xe85a98(0x305)](_0x5cf43f,_0xcb91c4,_0x36ac4d),this[_0xe85a98(0x5cc)][_0xe85a98(0x55a)](this['instanceName']+'\x20('+this['instance'][_0xe85a98(0x6bf)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x25936d instanceof Error?_0x25936d[_0xe85a98(0x604)]:JSON['stringify'](_0x25936d,null,0x2)));}}async[a0_0x4d4566(0x5ca)](_0x219784,_0x865ad7){const _0x423eb5=a0_0x4d4566;let _0x264899=_0x219784[_0x423eb5(0x21e)];_0x865ad7['uazapi'][_0x423eb5(0x21e)]&&_0x865ad7[_0x423eb5(0x25d)][_0x423eb5(0x21e)][_0x423eb5(0x34f)]()!==''&&(_0x264899=_0x865ad7['uazapi'][_0x423eb5(0x21e)][_0x423eb5(0x34f)]()),this[_0x423eb5(0x5cc)]['verbose'](this['instanceName']+'\x20('+this[_0x423eb5(0x251)]['wuid']+_0x423eb5(0x474));let _0x2450fd={'number':_0x264899,'options':{'delay':_0x865ad7[_0x423eb5(0x25d)][_0x423eb5(0x4b3)]},'contactMessage':[{'fullName':_0x865ad7[_0x423eb5(0x25d)][_0x423eb5(0x387)],'phoneNumber':_0x865ad7[_0x423eb5(0x25d)][_0x423eb5(0x106)]}]};try{let _0xac81c9=await this[_0x423eb5(0x4be)](_0x2450fd);if(_0xac81c9){let _0xb43353={'_id':_0xac81c9['key']['id'],'_fromMe':_0xac81c9[_0x423eb5(0x583)][_0x423eb5(0x310)],'_remoteJid':_0xac81c9[_0x423eb5(0x583)][_0x423eb5(0x21e)]};_0x219784[_0x423eb5(0x135)][_0x423eb5(0x478)]=_0x865ad7[_0x423eb5(0x218)]['toString']();let {message_normalized:_0x10b582}=this[_0x423eb5(0x2cd)](_0xac81c9['message'],$(_0xac81c9[_0x423eb5(0x604)]),null);_0x219784['chatLog'][_0x423eb5(0x4c8)]=await _0x10b582;let _0x29efac={'messageId':_0xac81c9[_0x423eb5(0x583)]['id']},_0x2b3cf1=_0x219784[_0x423eb5(0x135)][_0x423eb5(0xf9)];Object[_0x423eb5(0x3cd)](_0x2b3cf1,_0xb43353),_0x219784[_0x423eb5(0x135)]['realVariables']=_0x2b3cf1,this['updateConversation'](_0x219784,_0x865ad7,_0x29efac);}else{let _0x115634={'error':!0x0};this[_0x423eb5(0x305)](_0x219784,_0x865ad7,_0x115634),this['logger'][_0x423eb5(0x55a)](this['instanceName']+'\x20('+this['instance'][_0x423eb5(0x6bf)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x7f45e1){let _0x3d2095={'error':!0x0,'errorLog':_0x7f45e1[_0x423eb5(0x3bc)]()};this[_0x423eb5(0x305)](_0x219784,_0x865ad7,_0x3d2095),this[_0x423eb5(0x5cc)][_0x423eb5(0x55a)](this[_0x423eb5(0x3fa)]+'\x20('+this[_0x423eb5(0x251)][_0x423eb5(0x6bf)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x7f45e1 instanceof Error?_0x7f45e1[_0x423eb5(0x604)]:JSON['stringify'](_0x7f45e1,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x5a5039,_0x391c6d){const _0x418488=a0_0x4d4566;for(let _0x401b55 of _0x5a5039)_0x401b55[_0x418488(0x5d6)]&&(_0x401b55[_0x418488(0x5d6)]=this['replaceVariables'](_0x401b55[_0x418488(0x5d6)],_0x391c6d)),_0x401b55[_0x418488(0x290)]&&(_0x401b55[_0x418488(0x290)]=this[_0x418488(0x392)](_0x401b55[_0x418488(0x290)],_0x391c6d));}async[a0_0x4d4566(0x419)](_0x1a25eb,_0x5ccbbc){const _0x422125=a0_0x4d4566;let _0x3505af=_0x1a25eb[_0x422125(0x21e)];_0x5ccbbc[_0x422125(0x25d)]['remoteJid']&&_0x5ccbbc['uazapi'][_0x422125(0x21e)][_0x422125(0x34f)]()!==''&&(_0x3505af=_0x5ccbbc[_0x422125(0x25d)][_0x422125(0x21e)][_0x422125(0x34f)]()),this[_0x422125(0x5cc)][_0x422125(0x5d0)](this['instanceName']+'\x20('+this[_0x422125(0x251)][_0x422125(0x6bf)]+_0x422125(0x278));let _0x3d61e9=_0x1a25eb[_0x422125(0x68f)][_0x422125(0x4a1)](_0x5979b8=>_0x5979b8[_0x422125(0x633)]===_0x5ccbbc['_id'])[_0x422125(0x65b)]((_0x1b3578,_0x332ba9)=>_0x1b3578['order']-_0x332ba9[_0x422125(0x364)]);this['replaceVariablesInReplyOptions'](_0x3d61e9,_0x1a25eb[_0x422125(0x135)]['realVariables']);let _0x43f8f0=_0x3d61e9[_0x422125(0x5ac)](_0x1a3457=>_0x1a3457['option']),_0x66f82e={'number':_0x3505af,'menuMessage':{'type':_0x5ccbbc[_0x422125(0x25d)][_0x422125(0x36e)]||'poll','text':_0x5ccbbc['uazapi'][_0x422125(0x684)]||_0x5ccbbc[_0x422125(0x25d)]['name'],'footerText':_0x5ccbbc[_0x422125(0x25d)][_0x422125(0x714)],'buttonText':_0x5ccbbc[_0x422125(0x25d)][_0x422125(0x1d4)],'selectableCount':0x1,'choices':_0x43f8f0},'options':{'delay':_0x5ccbbc['uazapi'][_0x422125(0x4b3)]}};try{let _0xace42e=await this[_0x422125(0x154)](_0x66f82e);if(_0xace42e){let _0xeaf2c6={'_id':_0xace42e['key']['id'],'_fromMe':_0xace42e[_0x422125(0x583)]['fromMe'],'_remoteJid':_0xace42e[_0x422125(0x583)]['remoteJid']};_0x5ccbbc['uazapi'][_0x422125(0x4ea)]===!0x0&&(_0x1a25eb[_0x422125(0x1d6)]=_0x422125(0x62a),this[_0x422125(0x5cc)][_0x422125(0x5d0)](this[_0x422125(0x3fa)]+'\x20('+this[_0x422125(0x251)][_0x422125(0x6bf)]+_0x422125(0x596)+_0x1a25eb[_0x422125(0x1d6)])),this[_0x422125(0x5cc)][_0x422125(0x5d0)](this[_0x422125(0x3fa)]+'\x20('+this[_0x422125(0x251)][_0x422125(0x6bf)]+'):\x20nextBlock.uazapi.name'+(_0x5ccbbc['uazapi'][_0x422125(0x270)]||_0x5ccbbc[_0x422125(0x25d)][_0x422125(0x684)])),_0x1a25eb[_0x422125(0x5f8)]=_0xace42e['key']['id'],_0x1a25eb['waitingMenu_text']=_0x5ccbbc[_0x422125(0x25d)][_0x422125(0x270)]||_0x5ccbbc[_0x422125(0x25d)][_0x422125(0x684)],_0x1a25eb[_0x422125(0x264)]=_0x3d61e9,_0x5ccbbc[_0x422125(0x25d)]['menuExpiredMessage']&&(_0x1a25eb[_0x422125(0x578)]=_0x5ccbbc[_0x422125(0x25d)][_0x422125(0x4a2)]),this['logger'][_0x422125(0x5d0)](this[_0x422125(0x3fa)]+'\x20('+this[_0x422125(0x251)]['wuid']+_0x422125(0x668)+_0x1a25eb['waitingMenu_text']),_0x1a25eb[_0x422125(0x135)][_0x422125(0x478)]=_0x5ccbbc[_0x422125(0x218)][_0x422125(0x3bc)]();let {message_normalized:_0x33ee1e}=this['normalizeMessage'](_0xace42e[_0x422125(0x604)],$(_0xace42e['message']),null);_0x1a25eb['chatLog'][_0x422125(0x4c8)]=await _0x33ee1e;let _0x243dd4={'messageId':_0xace42e['key']['id']},_0x466ae6=_0x1a25eb['chatLog'][_0x422125(0xf9)];Object[_0x422125(0x3cd)](_0x466ae6,_0xeaf2c6),_0x1a25eb[_0x422125(0x135)][_0x422125(0xf9)]=_0x466ae6,this['updateConversation'](_0x1a25eb,_0x5ccbbc,_0x243dd4);}else{let _0x1a248e={'error':!0x0};this[_0x422125(0x305)](_0x1a25eb,_0x5ccbbc,_0x1a248e),this['logger'][_0x422125(0x55a)](this['instanceName']+'\x20('+this[_0x422125(0x251)][_0x422125(0x6bf)]+_0x422125(0x3a4));}}catch(_0x3b3550){let _0x56b195={'error':!0x0,'errorLog':_0x3b3550 instanceof Error?_0x3b3550[_0x422125(0x604)]:JSON[_0x422125(0x4a7)](_0x3b3550,null,0x2)};this['updateConversation'](_0x1a25eb,_0x5ccbbc,_0x56b195),this['logger'][_0x422125(0x55a)](this[_0x422125(0x3fa)]+'\x20('+this['instance'][_0x422125(0x6bf)]+_0x422125(0x10b)+(_0x3b3550 instanceof Error?_0x3b3550[_0x422125(0x604)]:JSON[_0x422125(0x4a7)](_0x3b3550,null,0x2)));}}async[a0_0x4d4566(0x465)](_0x29d351,_0x5d9d21){const _0x3d3521=a0_0x4d4566;this['logger'][_0x3d3521(0x5d0)](this[_0x3d3521(0x3fa)]+'\x20('+this[_0x3d3521(0x251)][_0x3d3521(0x6bf)]+'):\x20Deletando\x20mensagem');let _0x259258=_0x29d351[_0x3d3521(0x135)][_0x3d3521(0x5dc)]['find'](_0x5e36a5=>_0x5e36a5[_0x3d3521(0x633)]['toString']()===_0x5d9d21[_0x3d3521(0x25d)]['blockId'][_0x3d3521(0x3bc)]()),_0x24d884={'id':_0x259258[_0x3d3521(0x1ca)],'remoteJid':_0x259258[_0x3d3521(0x21e)],'fromMe':_0x259258[_0x3d3521(0x310)]};try{let _0xf2f31f=await this[_0x3d3521(0x25a)](_0x24d884);if(_0xf2f31f){_0x29d351[_0x3d3521(0x135)]['lastBlockId']=_0x5d9d21[_0x3d3521(0x218)][_0x3d3521(0x3bc)]();let {message_normalized:_0x2874e3}=this[_0x3d3521(0x2cd)](_0xf2f31f['message'],$(_0xf2f31f[_0x3d3521(0x604)]),null);_0x29d351['chatLog'][_0x3d3521(0x4c8)]=await _0x2874e3;let _0x38eab3={};this['updateConversation'](_0x29d351,_0x5d9d21,_0x38eab3);}else{let _0x5a3ca9={'error':!0x0};this[_0x3d3521(0x305)](_0x29d351,_0x5d9d21,_0x5a3ca9),this['logger'][_0x3d3521(0x55a)](this[_0x3d3521(0x3fa)]+'\x20('+this[_0x3d3521(0x251)][_0x3d3521(0x6bf)]+_0x3d3521(0x722));}}catch(_0x31ac52){let _0x3e0b9a={'error':!0x0,'errorLog':_0x31ac52 instanceof Error?_0x31ac52[_0x3d3521(0x604)]:JSON['stringify'](_0x31ac52,null,0x2)};this[_0x3d3521(0x305)](_0x29d351,_0x5d9d21,_0x3e0b9a),this['logger'][_0x3d3521(0x55a)](this['instanceName']+'\x20('+this[_0x3d3521(0x251)][_0x3d3521(0x6bf)]+_0x3d3521(0x1c5)+(_0x31ac52 instanceof Error?_0x31ac52[_0x3d3521(0x604)]:JSON[_0x3d3521(0x4a7)](_0x31ac52,null,0x2)));}}async[a0_0x4d4566(0x418)](_0x549c15){const _0x35282e=a0_0x4d4566;try{if(this[_0x35282e(0x5cc)][_0x35282e(0x5d0)](this[_0x35282e(0x3fa)]+'\x20('+this[_0x35282e(0x251)]['wuid']+'):\x20Criando\x20fluxo...'),await this['repository']['flow'][_0x35282e(0x513)]({'where':{'name':_0x549c15[_0x35282e(0x270)]}},this[_0x35282e(0x251)]['wuid']))return{'message':_0x35282e(0x1b8)};_0x549c15['default']===!0x0&&await this[_0x35282e(0x5bc)][_0x35282e(0x508)][_0x35282e(0x20b)]({},{'default':!0x1},this['instance'][_0x35282e(0x6bf)]);let _0x4e86d8=new ie[(_0x35282e(0x552))][(_0x35282e(0x115))](),_0x52e35b={'_id':_0x4e86d8,'default':!0x0,'title':_0x35282e(0x26c),'x':0x0,'y':0x0},_0x12071d={'_id':new ie[(_0x35282e(0x552))][(_0x35282e(0x115))](),'order':0x1,'groupId':_0x4e86d8['toString'](),'type':_0x35282e(0x67b)},_0x5c1552={'_id':new ie[(_0x35282e(0x552))][(_0x35282e(0x115))](),'owner':this[_0x35282e(0x251)][_0x35282e(0x6bf)],'name':_0x549c15[_0x35282e(0x270)],'groups':[_0x52e35b],'blocks':[_0x12071d],..._0x549c15};return _0x5c1552=await this[_0x35282e(0x5bc)]['flow'][_0x35282e(0x3bb)](_0x5c1552,this['instance'][_0x35282e(0x6bf)]),_0x5c1552;}catch(_0x4e30a8){throw this[_0x35282e(0x5cc)][_0x35282e(0x55a)](this[_0x35282e(0x3fa)]+'\x20('+this[_0x35282e(0x251)]['wuid']+_0x35282e(0x49e)+(_0x4e30a8 instanceof Error?_0x4e30a8[_0x35282e(0x604)]:JSON[_0x35282e(0x4a7)](_0x4e30a8,null,0x2))),new m(_0x35282e(0x45b)+_0x4e30a8);}}async[a0_0x4d4566(0x3a7)](_0xbf8a08){const _0x5ae3e6=a0_0x4d4566;try{return this[_0x5ae3e6(0x5cc)][_0x5ae3e6(0x5d0)](this[_0x5ae3e6(0x3fa)]+'\x20('+this[_0x5ae3e6(0x251)]['wuid']+'):\x20Deletando\x20fluxo...'),await this['repository']['flow']['deleteOne']({'where':{'name':_0xbf8a08}},this[_0x5ae3e6(0x251)][_0x5ae3e6(0x6bf)]);}catch(_0x43fd99){return this[_0x5ae3e6(0x5cc)]['error'](this[_0x5ae3e6(0x3fa)]+'\x20('+this[_0x5ae3e6(0x251)][_0x5ae3e6(0x6bf)]+_0x5ae3e6(0x1ac)+(_0x43fd99 instanceof Error?_0x43fd99[_0x5ae3e6(0x604)]:JSON['stringify'](_0x43fd99,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x43fd99};}}async[a0_0x4d4566(0x492)](_0x170af9){const _0x3b68ff=a0_0x4d4566;try{this[_0x3b68ff(0x5cc)][_0x3b68ff(0x5d0)](this[_0x3b68ff(0x3fa)]+'\x20('+this[_0x3b68ff(0x251)][_0x3b68ff(0x6bf)]+_0x3b68ff(0x35f));let _0x1e45b5=await this[_0x3b68ff(0x5bc)][_0x3b68ff(0x508)][_0x3b68ff(0x513)]({'where':{'name':_0x170af9}},this[_0x3b68ff(0x251)]['wuid']);if(!_0x1e45b5)throw new Error('Flow\x20não\x20encontrado');if(!this['AutomateSystem']&&(await this[_0x3b68ff(0x440)](),!this['AutomateSystem']))return null;let _0x24bd45=this[_0x3b68ff(0x168)]?.['customFields'][_0x3b68ff(0x5ac)](_0x5c3070=>_0x5c3070[_0x3b68ff(0x270)]),_0x41fe4d=['nome',_0x3b68ff(0x488),_0x3b68ff(0x124),_0x3b68ff(0x654),'status',_0x3b68ff(0x185),_0x3b68ff(0x710),_0x3b68ff(0x272),'etiquetas'];_0x1e45b5['variables']=_0x1e45b5[_0x3b68ff(0x544)][_0x3b68ff(0x4a1)](_0x4f78c9=>!(_0x4f78c9[_0x3b68ff(0x2f0)]===_0x3b68ff(0x224)||_0x4f78c9['leadInfo'])),_0x41fe4d[_0x3b68ff(0x200)](_0x368dd9=>{const _0x48670d=_0x3b68ff;_0x1e45b5[_0x48670d(0x544)][_0x48670d(0x52c)]({'folder':'leadInfo','name':_0x368dd9,'value':'','doc':'','leadInfo':!0x0});}),_0x24bd45[_0x3b68ff(0x200)](_0x4622b3=>{const _0x187c7c=_0x3b68ff;let _0x5895e5=_0x1e45b5[_0x187c7c(0x544)][_0x187c7c(0x319)](_0x4bceb6=>_0x4bceb6[_0x187c7c(0x270)]===_0x4622b3);_0x5895e5===-0x1?_0x1e45b5[_0x187c7c(0x544)][_0x187c7c(0x52c)]({'folder':_0x187c7c(0x224),'name':_0x4622b3,'value':'','doc':'','leadInfo':!0x0}):(_0x1e45b5['variables'][_0x5895e5][_0x187c7c(0x2f0)]=_0x187c7c(0x224),_0x1e45b5[_0x187c7c(0x544)][_0x5895e5][_0x187c7c(0x224)]=!0x0);}),_0x1e45b5[_0x3b68ff(0x3a3)]&&_0x1e45b5[_0x3b68ff(0x3a3)]['length']>0x0&&_0x1e45b5['blocks'][_0x3b68ff(0x200)](_0x261b8e=>{const _0x18c099=_0x3b68ff;_0x261b8e[_0x18c099(0x266)]&&_0x261b8e[_0x18c099(0x4c0)]&&_0x261b8e['groupId']===_0x261b8e['next_groupId']&&(_0x261b8e['next_groupId']=null);});let _0x33b3c4=await this[_0x3b68ff(0x5bc)]['flow'][_0x3b68ff(0x2e6)](_0x1e45b5[_0x3b68ff(0x218)],_0x1e45b5,this[_0x3b68ff(0x251)][_0x3b68ff(0x6bf)]);if(!_0x33b3c4)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x33b3c4;}catch(_0x182f27){throw this['logger'][_0x3b68ff(0x55a)](this['instanceName']+'\x20('+this[_0x3b68ff(0x251)][_0x3b68ff(0x6bf)]+_0x3b68ff(0x629)+(_0x182f27 instanceof Error?_0x182f27[_0x3b68ff(0x604)]:JSON[_0x3b68ff(0x4a7)](_0x182f27,null,0x2))),new m(_0x3b68ff(0x471)+_0x182f27);}}async[a0_0x4d4566(0x661)](){const _0x19b925=a0_0x4d4566;try{return this[_0x19b925(0x5cc)][_0x19b925(0x5d0)](this[_0x19b925(0x3fa)]+'\x20('+this['instance'][_0x19b925(0x6bf)]+_0x19b925(0x201)),await this['repository'][_0x19b925(0x508)][_0x19b925(0x3ff)]({'where':{}},this[_0x19b925(0x251)][_0x19b925(0x6bf)]);}catch(_0x1dd0c0){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x19b925(0x251)][_0x19b925(0x6bf)]+_0x19b925(0x208)+(_0x1dd0c0 instanceof Error?_0x1dd0c0[_0x19b925(0x604)]:JSON[_0x19b925(0x4a7)](_0x1dd0c0,null,0x2))),{'message':_0x19b925(0x600)+_0x1dd0c0};}}async[a0_0x4d4566(0x403)](_0x127bb1){const _0x308887=a0_0x4d4566;try{this[_0x308887(0x5cc)][_0x308887(0x5d0)](this['instanceName']+'\x20('+this[_0x308887(0x251)][_0x308887(0x6bf)]+_0x308887(0x2a6));let _0x18fa18=await this[_0x308887(0x5bc)][_0x308887(0x508)][_0x308887(0x513)]({'where':{'name':_0x127bb1[_0x308887(0x270)]}},this[_0x308887(0x251)][_0x308887(0x6bf)]);return _0x18fa18?(_0x127bb1[_0x308887(0x10e)]===!0x0&&await this[_0x308887(0x5bc)][_0x308887(0x508)][_0x308887(0x20b)]({},{'default':!0x1},this[_0x308887(0x251)][_0x308887(0x6bf)]),await this[_0x308887(0x5bc)][_0x308887(0x508)][_0x308887(0x2e6)](_0x18fa18['_id'],_0x127bb1,this['instance'][_0x308887(0x6bf)])):{'message':_0x308887(0x3d2)};}catch(_0x6082d7){throw this[_0x308887(0x5cc)][_0x308887(0x55a)](this[_0x308887(0x3fa)]+'\x20('+this['instance'][_0x308887(0x6bf)]+_0x308887(0x191)+(_0x6082d7 instanceof Error?_0x6082d7['message']:JSON[_0x308887(0x4a7)](_0x6082d7,null,0x2))),new m(_0x308887(0x114)+(_0x6082d7 instanceof Error?_0x6082d7[_0x308887(0x604)]:JSON[_0x308887(0x4a7)](_0x6082d7,null,0x2)));}}async[a0_0x4d4566(0x30d)](_0xeed0fc){const _0xb43780=a0_0x4d4566;try{this[_0xb43780(0x5cc)][_0xb43780(0x5d0)](this[_0xb43780(0x3fa)]+'\x20('+this[_0xb43780(0x251)][_0xb43780(0x6bf)]+_0xb43780(0x5df));let _0x1eef1f=await this[_0xb43780(0x5bc)][_0xb43780(0x508)][_0xb43780(0x513)]({'where':{'name':_0xeed0fc['name']}},this[_0xb43780(0x251)][_0xb43780(0x6bf)]);_0x1eef1f||this[_0xb43780(0x410)](_0xb43780(0x53e));let {block:_0x5ad032}=_0xeed0fc;_0x5ad032?.[_0xb43780(0x2b3)]?this[_0xb43780(0x70e)](_0x1eef1f,_0xeed0fc):_0x5ad032?.[_0xb43780(0x4b6)]?this[_0xb43780(0x3e3)](_0x1eef1f,_0xeed0fc):_0x5ad032['_id']?await this[_0xb43780(0x511)](_0x1eef1f,_0xeed0fc):this[_0xb43780(0x26b)](_0x1eef1f,_0xeed0fc);let _0x3d58ef=await this[_0xb43780(0x5bc)]['flow'][_0xb43780(0x2e6)](_0x1eef1f[_0xb43780(0x218)],_0x1eef1f,this['instance'][_0xb43780(0x6bf)]);if(!_0x3d58ef)throw new Error(_0xb43780(0x1a6));return _0x3d58ef;}catch(_0x484ed4){this[_0xb43780(0x410)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x484ed4);}}async['copyBlock'](_0x20139f,_0x5a6032){const _0x49082c=a0_0x4d4566;let _0x31669f=_0x5a6032['block'][_0x49082c(0x218)],_0x19d39a=_0x20139f['blocks'][_0x49082c(0x4df)](_0x478d21=>_0x478d21[_0x49082c(0x218)][_0x49082c(0x3bc)]()===_0x31669f);if(!_0x19d39a){this[_0x49082c(0x5cc)][_0x49082c(0x55a)](this[_0x49082c(0x3fa)]+'\x20('+this[_0x49082c(0x251)][_0x49082c(0x6bf)]+_0x49082c(0x74d)+_0x31669f+_0x49082c(0x2ff));return;}this[_0x49082c(0x5cc)][_0x49082c(0x5d0)](this[_0x49082c(0x3fa)]+'\x20('+this[_0x49082c(0x251)][_0x49082c(0x6bf)]+_0x49082c(0x55e)+JSON['stringify'](_0x19d39a));let _0xfadda4=JSON[_0x49082c(0x330)](JSON[_0x49082c(0x4a7)](_0x19d39a));_0xfadda4['_id']=new ie[(_0x49082c(0x10e))][(_0x49082c(0x552))][(_0x49082c(0x115))](),this[_0x49082c(0x5cc)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x49082c(0x6bf)]+_0x49082c(0x72b)+JSON[_0x49082c(0x4a7)](_0xfadda4)),_0x20139f[_0x49082c(0x3a3)][_0x49082c(0x52c)](_0xfadda4),this[_0x49082c(0x620)](_0x20139f['blocks'],_0xfadda4[_0x49082c(0x266)]);}[a0_0x4d4566(0x410)](_0x113b39){const _0xe1109b=a0_0x4d4566;throw this[_0xe1109b(0x5cc)][_0xe1109b(0x55a)](this[_0xe1109b(0x3fa)]+'\x20('+this[_0xe1109b(0x251)]['wuid']+_0xe1109b(0x192)+_0x113b39),new m(_0x113b39);}['deleteBlock'](_0x5f0beb,_0x48e198){const _0x3a850e=a0_0x4d4566;let {block:_0x106b4b}=_0x48e198;if(_0x106b4b['type']==='start'){this[_0x3a850e(0x410)](_0x3a850e(0x681));return;}if(!_0x106b4b[_0x3a850e(0x218)]){this['throwAndLogError'](_0x3a850e(0x1e3));return;}let _0x5b554b=_0x5f0beb[_0x3a850e(0x3a3)]['find'](_0x26a218=>_0x26a218['_id'][_0x3a850e(0x3bc)]()===_0x48e198[_0x3a850e(0x367)][_0x3a850e(0x218)]['toString']());if(!_0x5b554b){this['throwAndLogError'](_0x3a850e(0x47c)+_0x106b4b[_0x3a850e(0x218)]+'\x20não\x20encontrado');return;}_0x5f0beb['blocks']=_0x5f0beb[_0x3a850e(0x3a3)][_0x3a850e(0x4a1)](_0x36f26b=>_0x36f26b[_0x3a850e(0x218)][_0x3a850e(0x3bc)]()!==_0x48e198[_0x3a850e(0x367)][_0x3a850e(0x218)][_0x3a850e(0x3bc)]()),_0x5f0beb[_0x3a850e(0x174)]=_0x5f0beb[_0x3a850e(0x174)]['filter'](_0x4abc90=>_0x4abc90['blockId']!==_0x106b4b[_0x3a850e(0x218)][_0x3a850e(0x3bc)]()),_0x5f0beb[_0x3a850e(0x705)]=_0x5f0beb[_0x3a850e(0x705)][_0x3a850e(0x4a1)](_0x5150c0=>_0x5150c0['blockId']!==_0x106b4b[_0x3a850e(0x218)][_0x3a850e(0x3bc)]()),_0x5f0beb[_0x3a850e(0x68f)]=_0x5f0beb[_0x3a850e(0x68f)][_0x3a850e(0x4a1)](_0x58c65a=>_0x58c65a[_0x3a850e(0x633)]!==_0x106b4b['_id'][_0x3a850e(0x3bc)]()),this['reorderBlocks'](_0x5f0beb[_0x3a850e(0x3a3)],_0x5b554b[_0x3a850e(0x266)]);}async['updateBlock'](_0x3089be,_0x27b546){const _0x1047d0=a0_0x4d4566;let _0x51fedc=_0x3089be[_0x1047d0(0x3a3)][_0x1047d0(0x319)](_0x52050f=>_0x52050f['_id'][_0x1047d0(0x3bc)]()===_0x27b546[_0x1047d0(0x367)][_0x1047d0(0x218)][_0x1047d0(0x3bc)]());if(this[_0x1047d0(0x5cc)][_0x1047d0(0x5d0)](this[_0x1047d0(0x3fa)]+'\x20('+this[_0x1047d0(0x251)][_0x1047d0(0x6bf)]+_0x1047d0(0x582)+_0x51fedc),_0x51fedc===-0x1){this[_0x1047d0(0x5cc)]['verbose'](_0x1047d0(0x47c)+_0x27b546['block'][_0x1047d0(0x218)]+_0x1047d0(0x1cb));return;}if(_0x3089be['blocks'][_0x51fedc][_0x1047d0(0x1d0)]===_0x1047d0(0x67b)){let _0x50a317=Object[_0x1047d0(0x2d3)](_0x27b546['block']);if(_0x50a317[_0x1047d0(0x4d8)]>0x2||_0x50a317[_0x1047d0(0x4d8)]===0x2&&!_0x50a317['includes'](_0x1047d0(0x4c0))){this[_0x1047d0(0x410)](_0x1047d0(0x54f));return;}}let _0x4a74f6=_0x3089be[_0x1047d0(0x3a3)][_0x51fedc][_0x1047d0(0x266)];for(let _0x266ac5 in _0x27b546['block'])_0x27b546['block'][_0x1047d0(0x60b)](_0x266ac5)&&(_0x3089be[_0x1047d0(0x3a3)][_0x51fedc][_0x266ac5]=_0x27b546[_0x1047d0(0x367)][_0x266ac5]);if(this['logger'][_0x1047d0(0x5d0)](this['instanceName']+'\x20('+this[_0x1047d0(0x251)][_0x1047d0(0x6bf)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x1047d0(0x4a7)](_0x3089be[_0x1047d0(0x3a3)][_0x51fedc])),_0x3089be[_0x1047d0(0x3a3)][_0x51fedc]['apirequest']&&'header'in _0x3089be[_0x1047d0(0x3a3)][_0x51fedc][_0x1047d0(0x19f)]){this[_0x1047d0(0x5cc)][_0x1047d0(0x5d0)](this[_0x1047d0(0x3fa)]+'\x20('+this['instance'][_0x1047d0(0x6bf)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x1a7aa3=JSON['stringify'](_0x3089be[_0x1047d0(0x3a3)][_0x51fedc]['apirequest'][_0x1047d0(0x37e)],null,0x1);_0x1a7aa3['length']>0x2&&(_0x1a7aa3=_0x1a7aa3['substring'](0x1,_0x1a7aa3['length']-0x1)[_0x1047d0(0x34f)]()),_0x3089be[_0x1047d0(0x3a3)][_0x51fedc][_0x1047d0(0x19f)][_0x1047d0(0x337)]=_0x1a7aa3;}if(_0x3089be[_0x1047d0(0x3a3)][_0x51fedc][_0x1047d0(0x19f)]&&'body'in _0x3089be['blocks'][_0x51fedc][_0x1047d0(0x19f)]){this['logger'][_0x1047d0(0x5d0)](this[_0x1047d0(0x3fa)]+'\x20('+this[_0x1047d0(0x251)][_0x1047d0(0x6bf)]+_0x1047d0(0x211));let _0x4c12bf=JSON[_0x1047d0(0x4a7)](_0x3089be[_0x1047d0(0x3a3)][_0x51fedc]['apirequest'][_0x1047d0(0x334)],null,0x1);_0x4c12bf[_0x1047d0(0x4d8)]>0x2&&(_0x4c12bf=_0x4c12bf[_0x1047d0(0x1db)](0x1,_0x4c12bf[_0x1047d0(0x4d8)]-0x1)['trim']()),_0x3089be[_0x1047d0(0x3a3)][_0x51fedc][_0x1047d0(0x19f)][_0x1047d0(0x5aa)]=_0x4c12bf;}let _0x155826=_0x3089be[_0x1047d0(0x3a3)][_0x51fedc][_0x1047d0(0x266)];_0x4a74f6!==_0x155826?(this[_0x1047d0(0x620)](_0x3089be['blocks'],_0x4a74f6),this[_0x1047d0(0x620)](_0x3089be[_0x1047d0(0x3a3)],_0x155826)):this[_0x1047d0(0x620)](_0x3089be[_0x1047d0(0x3a3)],_0x4a74f6);}[a0_0x4d4566(0x26b)](_0x1cb8bc,_0xb7deb6){const _0x1450b5=a0_0x4d4566;if(_0xb7deb6[_0x1450b5(0x367)][_0x1450b5(0x1d0)]===_0x1450b5(0x67b)){this[_0x1450b5(0x410)](_0x1450b5(0x5b5));return;}if(_0xb7deb6[_0x1450b5(0x367)]['apirequest']&&_0x1450b5(0x37e)in _0xb7deb6[_0x1450b5(0x367)][_0x1450b5(0x19f)]){this[_0x1450b5(0x5cc)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1450b5(0x6bf)]+_0x1450b5(0x116));let _0x1daa3a=JSON[_0x1450b5(0x4a7)](_0xb7deb6[_0x1450b5(0x367)][_0x1450b5(0x19f)][_0x1450b5(0x37e)],null,0x1);_0x1daa3a[_0x1450b5(0x4d8)]>0x2&&(_0x1daa3a=_0x1daa3a[_0x1450b5(0x1db)](0x1,_0x1daa3a[_0x1450b5(0x4d8)]-0x1)['trim']()),_0xb7deb6['block']['apirequest']['headerString']=_0x1daa3a;}_0xb7deb6[_0x1450b5(0x367)][_0x1450b5(0x19f)]&&_0x1450b5(0x334)in _0xb7deb6['block'][_0x1450b5(0x19f)]&&(this[_0x1450b5(0x5cc)][_0x1450b5(0x5d0)](this[_0x1450b5(0x3fa)]+'\x20('+this[_0x1450b5(0x251)][_0x1450b5(0x6bf)]+_0x1450b5(0x211)),_0xb7deb6[_0x1450b5(0x367)][_0x1450b5(0x19f)][_0x1450b5(0x5aa)]=JSON[_0x1450b5(0x4a7)](_0xb7deb6['block'][_0x1450b5(0x19f)]['body'],null,0x1)[_0x1450b5(0x34f)]()),_0x1cb8bc[_0x1450b5(0x3a3)][_0x1450b5(0x52c)](_0xb7deb6['block']),this[_0x1450b5(0x620)](_0x1cb8bc[_0x1450b5(0x3a3)],_0xb7deb6['block'][_0x1450b5(0x266)]);}[a0_0x4d4566(0x620)](_0x55d66f,_0x211d81){const _0x4975e3=a0_0x4d4566;let _0x430b91=_0x55d66f[_0x4975e3(0x4a1)](_0x3f3f33=>_0x3f3f33['groupId']===_0x211d81);_0x430b91[_0x4975e3(0x65b)]((_0x1051e3,_0x14bc64)=>_0x1051e3[_0x4975e3(0x364)]-_0x14bc64[_0x4975e3(0x364)]),_0x430b91[_0x4975e3(0x200)]((_0x34044d,_0x4f9205)=>_0x34044d[_0x4975e3(0x364)]=_0x4f9205+0x1);}async[a0_0x4d4566(0x1df)](_0x1a06f4){const _0x52f331=a0_0x4d4566;try{if(this['logger'][_0x52f331(0x5d0)](this[_0x52f331(0x3fa)]+'\x20('+this['instance'][_0x52f331(0x6bf)]+'):\x20Editando\x20replyOption...'),!_0x1a06f4||!_0x1a06f4[_0x52f331(0x4a6)]){this[_0x52f331(0x410)](_0x52f331(0x3e6));return;}let _0x3ebe58=await this['repository'][_0x52f331(0x508)][_0x52f331(0x513)]({'where':{'name':_0x1a06f4[_0x52f331(0x270)]}},this['instance'][_0x52f331(0x6bf)]);_0x3ebe58||this[_0x52f331(0x410)](_0x52f331(0x53e));let {replyOption:_0x2b3ff7}=_0x1a06f4;_0x2b3ff7?.[_0x52f331(0x4b6)]?(this[_0x52f331(0x1a0)](_0x3ebe58,_0x1a06f4),this[_0x52f331(0x37b)](_0x3ebe58[_0x52f331(0x68f)],_0x1a06f4[_0x52f331(0x4a6)]['blockId'])):_0x2b3ff7['_id']?(await this[_0x52f331(0x2e9)](_0x3ebe58,_0x1a06f4),this[_0x52f331(0x37b)](_0x3ebe58[_0x52f331(0x68f)],_0x1a06f4[_0x52f331(0x4a6)][_0x52f331(0x633)])):(this[_0x52f331(0x535)](_0x3ebe58,_0x1a06f4),this[_0x52f331(0x37b)](_0x3ebe58['replyOptions'],_0x1a06f4[_0x52f331(0x4a6)]['blockId']));let _0x25d486=await this[_0x52f331(0x5bc)][_0x52f331(0x508)]['updateOne'](_0x3ebe58[_0x52f331(0x218)],_0x3ebe58,this[_0x52f331(0x251)]['wuid']);if(!_0x25d486)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x25d486;}catch(_0xfc06d5){this[_0x52f331(0x410)](_0x52f331(0x130)+_0xfc06d5);}}[a0_0x4d4566(0x37b)](_0x48cefa,_0x2b8f7e){const _0x317950=a0_0x4d4566;console[_0x317950(0x2ab)]('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x2b8f7e),_0x48cefa[_0x317950(0x200)](_0x5db7e8=>{const _0x1eda87=_0x317950;_0x5db7e8[_0x1eda87(0x633)]===_0x2b8f7e&&_0x5db7e8[_0x1eda87(0x364)]===void 0x0&&(_0x5db7e8[_0x1eda87(0x364)]=0x270f);});let _0x188a98=_0x48cefa[_0x317950(0x4a1)](_0x2cba5f=>_0x2cba5f['blockId']===_0x2b8f7e);_0x188a98[_0x317950(0x65b)]((_0x2f0c43,_0x32205d)=>_0x2f0c43[_0x317950(0x364)]-_0x32205d[_0x317950(0x364)]),_0x188a98[_0x317950(0x200)]((_0x296160,_0x5aa9d7)=>{_0x296160['order']=_0x5aa9d7+0x1;}),_0x48cefa[_0x317950(0x200)](_0x2959de=>{const _0x492ab2=_0x317950;if(_0x2959de[_0x492ab2(0x633)]===_0x2b8f7e){let _0x436fc2=_0x188a98[_0x492ab2(0x4df)](_0x1db7a6=>_0x1db7a6[_0x492ab2(0x218)]&&_0x2959de[_0x492ab2(0x218)]&&_0x1db7a6['_id'][_0x492ab2(0x3bc)]()===_0x2959de[_0x492ab2(0x218)][_0x492ab2(0x3bc)]());_0x436fc2&&(_0x2959de[_0x492ab2(0x364)]=_0x436fc2[_0x492ab2(0x364)]);}}),console['log'](_0x317950(0x3c9),_0x48cefa);}[a0_0x4d4566(0x1a0)](_0x4b1aa7,_0x1e9647){const _0x314252=a0_0x4d4566;let {replyOption:_0x394566}=_0x1e9647;if(!_0x394566['_id']){this[_0x314252(0x410)](_0x314252(0x118));return;}if(!_0x4b1aa7[_0x314252(0x68f)][_0x314252(0x4df)](_0x5247f0=>_0x5247f0[_0x314252(0x218)][_0x314252(0x3bc)]()===_0x1e9647[_0x314252(0x4a6)][_0x314252(0x218)][_0x314252(0x3bc)]())){this[_0x314252(0x410)](_0x314252(0x68b)+_0x394566[_0x314252(0x218)]+_0x314252(0x54d));return;}_0x4b1aa7[_0x314252(0x68f)]=_0x4b1aa7[_0x314252(0x68f)][_0x314252(0x4a1)](_0x13ba94=>_0x13ba94[_0x314252(0x218)]['toString']()!==_0x1e9647['replyOption'][_0x314252(0x218)][_0x314252(0x3bc)]());}async[a0_0x4d4566(0x2e9)](_0x1aec49,_0x145336){const _0x5a44d0=a0_0x4d4566;let _0x3b9289=_0x1aec49['replyOptions'][_0x5a44d0(0x319)](_0x3fb3e0=>_0x3fb3e0[_0x5a44d0(0x218)][_0x5a44d0(0x3bc)]()===_0x145336[_0x5a44d0(0x4a6)][_0x5a44d0(0x218)][_0x5a44d0(0x3bc)]());if(_0x3b9289===-0x1){this['throwAndLogError'](_0x5a44d0(0x68b)+_0x145336[_0x5a44d0(0x4a6)][_0x5a44d0(0x218)]+_0x5a44d0(0x1cb));return;}for(let _0x128e08 in _0x145336['replyOption'])_0x145336['replyOption'][_0x5a44d0(0x60b)](_0x128e08)&&(_0x1aec49[_0x5a44d0(0x68f)][_0x3b9289][_0x128e08]=_0x145336[_0x5a44d0(0x4a6)][_0x128e08]);}[a0_0x4d4566(0x535)](_0x12a921,_0x2230bd){const _0xb84a31=a0_0x4d4566;_0x12a921[_0xb84a31(0x68f)]['push'](_0x2230bd[_0xb84a31(0x4a6)]);}async['editFlowGroup'](_0x5213ba){const _0x19e9be=a0_0x4d4566;this[_0x19e9be(0x5cc)][_0x19e9be(0x5d0)](this[_0x19e9be(0x3fa)]+'\x20('+this[_0x19e9be(0x251)][_0x19e9be(0x6bf)]+_0x19e9be(0x74c)+_0x5213ba);try{this[_0x19e9be(0x5cc)][_0x19e9be(0x5d0)](this[_0x19e9be(0x3fa)]+'\x20('+this['instance'][_0x19e9be(0x6bf)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x130bb8=await this[_0x19e9be(0x5bc)][_0x19e9be(0x508)][_0x19e9be(0x513)]({'where':{'name':_0x5213ba[_0x19e9be(0x270)]}},this[_0x19e9be(0x251)]['wuid']);if(!_0x130bb8)throw new Error(_0x19e9be(0x53e));if(_0x5213ba[_0x19e9be(0x49d)]&&_0x5213ba[_0x19e9be(0x49d)]?.[_0x19e9be(0x4b6)]===!0x0){if(this[_0x19e9be(0x5cc)]['verbose'](this[_0x19e9be(0x3fa)]+'\x20('+this[_0x19e9be(0x251)][_0x19e9be(0x6bf)]+_0x19e9be(0x72e)),_0x5213ba['group'][_0x19e9be(0x10e)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x130bb8[_0x19e9be(0x3a3)][_0x19e9be(0x149)](_0x312dd4=>_0x312dd4[_0x19e9be(0x266)][_0x19e9be(0x3bc)]()===_0x5213ba[_0x19e9be(0x49d)][_0x19e9be(0x218)]))return this['logger'][_0x19e9be(0x5d0)](this[_0x19e9be(0x3fa)]+'\x20('+this['instance']['wuid']+'):\x20tem\x20blocks'),{'message':_0x19e9be(0x473)};_0x130bb8[_0x19e9be(0x41a)]=_0x130bb8[_0x19e9be(0x41a)][_0x19e9be(0x4a1)](_0x1c0f87=>_0x1c0f87[_0x19e9be(0x218)]['toString']()!==_0x5213ba[_0x19e9be(0x49d)][_0x19e9be(0x218)]);}else{if(_0x5213ba[_0x19e9be(0x49d)]){if(_0x5213ba[_0x19e9be(0x49d)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x5213ba[_0x19e9be(0x49d)][_0x19e9be(0x218)]){let _0x2c5377=_0x130bb8[_0x19e9be(0x41a)]['find'](_0x2916c5=>_0x2916c5[_0x19e9be(0x218)][_0x19e9be(0x3bc)]()===_0x5213ba['group'][_0x19e9be(0x218)]);_0x2c5377&&(_0x5213ba['group']['x']<0x0&&(_0x5213ba[_0x19e9be(0x49d)]['x']=0x0),_0x5213ba[_0x19e9be(0x49d)]['y']<0x0&&(_0x5213ba[_0x19e9be(0x49d)]['y']=0x0),Object['assign'](_0x2c5377,_0x5213ba[_0x19e9be(0x49d)]));}else _0x130bb8[_0x19e9be(0x41a)]['push'](_0x5213ba[_0x19e9be(0x49d)]);}}let _0x3ec97b=await this['repository']['flow'][_0x19e9be(0x2e6)](_0x130bb8[_0x19e9be(0x218)],_0x130bb8,this['instance']['wuid']);if(!_0x3ec97b)throw new Error(_0x19e9be(0x1a6));return _0x3ec97b;}catch(_0x231e03){throw this[_0x19e9be(0x5cc)]['error'](this['instanceName']+'\x20('+this[_0x19e9be(0x251)][_0x19e9be(0x6bf)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x231e03 instanceof Error?_0x231e03[_0x19e9be(0x604)]:JSON[_0x19e9be(0x4a7)](_0x231e03,null,0x2))),new m('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x231e03 instanceof Error?_0x231e03[_0x19e9be(0x604)]:JSON[_0x19e9be(0x4a7)](_0x231e03,null,0x2)));}}async[a0_0x4d4566(0x3da)](_0x165593){const _0x349186=a0_0x4d4566;try{this['logger'][_0x349186(0x5d0)](this[_0x349186(0x3fa)]+'\x20('+this[_0x349186(0x251)][_0x349186(0x6bf)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x56c026=await this[_0x349186(0x5bc)][_0x349186(0x508)][_0x349186(0x513)]({'where':{'name':_0x165593[_0x349186(0x270)]}},this[_0x349186(0x251)][_0x349186(0x6bf)]);if(!_0x56c026)throw new Error(_0x349186(0x53e));let _0x174b5c=!0x1;if(_0x165593[_0x349186(0x6e4)]?.['delete']===!0x0)_0x56c026['conditions']=_0x56c026['conditions']['filter'](_0x3430eb=>_0x3430eb&&_0x165593[_0x349186(0x6e4)]&&_0x3430eb['_id']&&_0x165593[_0x349186(0x6e4)][_0x349186(0x218)]&&_0x3430eb[_0x349186(0x218)][_0x349186(0x3bc)]()!==_0x165593['condition']['_id'][_0x349186(0x3bc)]()),_0x174b5c=!0x0;else{let _0x24f52b=_0x56c026['conditions']['find'](_0x273edb=>_0x273edb&&_0x165593[_0x349186(0x6e4)]&&_0x273edb['_id']&&_0x165593['condition']['_id']&&_0x273edb['_id'][_0x349186(0x3bc)]()===_0x165593['condition'][_0x349186(0x218)][_0x349186(0x3bc)]());_0x24f52b?(_0x174b5c=_0x24f52b[_0x349186(0x364)]!==_0x165593['condition'][_0x349186(0x364)],Object[_0x349186(0x3cd)](_0x24f52b,_0x165593[_0x349186(0x6e4)])):(_0x56c026[_0x349186(0x174)][_0x349186(0x52c)](_0x165593[_0x349186(0x6e4)]),_0x174b5c=!0x0);}if(_0x174b5c){_0x56c026[_0x349186(0x174)]['sort']((_0x519a56,_0xce8cd4)=>_0x519a56[_0x349186(0x364)]>_0xce8cd4[_0x349186(0x364)]?0x1:_0xce8cd4[_0x349186(0x364)]>_0x519a56[_0x349186(0x364)]?-0x1:0x0);for(let _0x32920f=0x0;_0x32920f<_0x56c026[_0x349186(0x174)][_0x349186(0x4d8)];_0x32920f++)_0x56c026[_0x349186(0x174)][_0x32920f][_0x349186(0x364)]=_0x32920f+0x1;_0x56c026[_0x349186(0x174)][_0x349186(0x4d8)]>0x0&&(_0x56c026[_0x349186(0x174)][0x0][_0x349186(0x2a2)]='and');}let _0x34af10=await this[_0x349186(0x5bc)][_0x349186(0x508)][_0x349186(0x2e6)](_0x56c026[_0x349186(0x218)],_0x56c026,this['instance'][_0x349186(0x6bf)]);if(!_0x34af10)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x34af10;}catch(_0x18b6a4){throw this['logger']['error'](this[_0x349186(0x3fa)]+'\x20('+this[_0x349186(0x251)][_0x349186(0x6bf)]+_0x349186(0x577)+(_0x18b6a4 instanceof Error?_0x18b6a4[_0x349186(0x604)]:JSON['stringify'](_0x18b6a4,null,0x2))),new Error(_0x349186(0x13f)+(_0x18b6a4 instanceof Error?_0x18b6a4['message']:JSON[_0x349186(0x4a7)](_0x18b6a4,null,0x2)));}}async['editFlowVaredit'](_0x444ff0){const _0x6af5a0=a0_0x4d4566;try{this[_0x6af5a0(0x5cc)][_0x6af5a0(0x5d0)](this['instanceName']+'\x20('+this[_0x6af5a0(0x251)][_0x6af5a0(0x6bf)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x50c5db=await this['repository'][_0x6af5a0(0x508)][_0x6af5a0(0x513)]({'where':{'name':_0x444ff0['name']}},this[_0x6af5a0(0x251)][_0x6af5a0(0x6bf)]);if(!_0x50c5db)throw new Error('Flow\x20não\x20encontrado');let _0x253b9b=!0x1;if(_0x444ff0[_0x6af5a0(0x5cf)]?.[_0x6af5a0(0x4b6)]===!0x0)_0x50c5db[_0x6af5a0(0x705)]=_0x50c5db[_0x6af5a0(0x705)][_0x6af5a0(0x4a1)](_0x89c7fb=>_0x89c7fb&&_0x444ff0[_0x6af5a0(0x5cf)]&&_0x89c7fb[_0x6af5a0(0x218)]&&_0x444ff0[_0x6af5a0(0x5cf)][_0x6af5a0(0x218)]&&_0x89c7fb[_0x6af5a0(0x218)][_0x6af5a0(0x3bc)]()!==_0x444ff0[_0x6af5a0(0x5cf)][_0x6af5a0(0x218)][_0x6af5a0(0x3bc)]()),_0x253b9b=!0x0;else{let _0x8c035e=_0x50c5db['varedits']['find'](_0x2d965c=>_0x2d965c&&_0x444ff0[_0x6af5a0(0x5cf)]&&_0x2d965c[_0x6af5a0(0x218)]&&_0x444ff0['varedit']['_id']&&_0x2d965c[_0x6af5a0(0x218)][_0x6af5a0(0x3bc)]()===_0x444ff0[_0x6af5a0(0x5cf)][_0x6af5a0(0x218)][_0x6af5a0(0x3bc)]());_0x8c035e?(_0x253b9b=_0x8c035e['order']!==_0x444ff0[_0x6af5a0(0x5cf)]['order'],Object[_0x6af5a0(0x3cd)](_0x8c035e,_0x444ff0[_0x6af5a0(0x5cf)])):(_0x50c5db[_0x6af5a0(0x705)][_0x6af5a0(0x52c)](_0x444ff0['varedit']),_0x253b9b=!0x0);}if(_0x253b9b){_0x50c5db[_0x6af5a0(0x705)][_0x6af5a0(0x65b)]((_0x2163b6,_0x521f4e)=>_0x2163b6[_0x6af5a0(0x364)]>_0x521f4e['order']?0x1:_0x521f4e[_0x6af5a0(0x364)]>_0x2163b6[_0x6af5a0(0x364)]?-0x1:0x0);for(let _0x46896b=0x0;_0x46896b<_0x50c5db['varedits'][_0x6af5a0(0x4d8)];_0x46896b++)_0x50c5db['varedits'][_0x46896b][_0x6af5a0(0x364)]=_0x46896b+0x1;}let _0x3e7d05=await this[_0x6af5a0(0x5bc)][_0x6af5a0(0x508)]['updateOne'](_0x50c5db['_id'],_0x50c5db,this[_0x6af5a0(0x251)][_0x6af5a0(0x6bf)]);if(!_0x3e7d05)throw new Error(_0x6af5a0(0x1a6));return _0x3e7d05;}catch(_0x14a3d){throw this[_0x6af5a0(0x5cc)][_0x6af5a0(0x55a)](this[_0x6af5a0(0x3fa)]+'\x20('+this[_0x6af5a0(0x251)][_0x6af5a0(0x6bf)]+_0x6af5a0(0x577)+(_0x14a3d instanceof Error?_0x14a3d[_0x6af5a0(0x604)]:JSON[_0x6af5a0(0x4a7)](_0x14a3d,null,0x2))),new m(_0x6af5a0(0x13f)+(_0x14a3d instanceof Error?_0x14a3d[_0x6af5a0(0x604)]:JSON[_0x6af5a0(0x4a7)](_0x14a3d,null,0x2)));}}async[a0_0x4d4566(0x2c8)](_0x4b0dd4){const _0x4952fd=a0_0x4d4566;try{this[_0x4952fd(0x5cc)][_0x4952fd(0x5d0)](this[_0x4952fd(0x3fa)]+'\x20('+this['instance'][_0x4952fd(0x6bf)]+_0x4952fd(0x647));let _0x497171=await this[_0x4952fd(0x5bc)][_0x4952fd(0x508)][_0x4952fd(0x513)]({'where':{'name':_0x4b0dd4['name']}},this['instance'][_0x4952fd(0x6bf)]);if(!_0x497171)throw new Error('Flow\x20não\x20encontrado');_0x4b0dd4[_0x4952fd(0x2e8)]['name']=_0x4b0dd4[_0x4952fd(0x2e8)][_0x4952fd(0x270)][_0x4952fd(0x34f)](),_0x4b0dd4['variable'][_0x4952fd(0x270)][_0x4952fd(0x2d7)]('_')&&(_0x4b0dd4[_0x4952fd(0x2e8)][_0x4952fd(0x270)]=_0x4b0dd4[_0x4952fd(0x2e8)][_0x4952fd(0x270)]['substring'](0x1)),_0x4b0dd4[_0x4952fd(0x2e8)][_0x4952fd(0x270)]=_0x4b0dd4[_0x4952fd(0x2e8)][_0x4952fd(0x270)]['trim']();let _0x28c612=_0x497171[_0x4952fd(0x544)]['find'](_0x2eaa81=>_0x2eaa81[_0x4952fd(0x270)]===_0x4b0dd4[_0x4952fd(0x2e8)][_0x4952fd(0x270)]);if(_0x28c612?.[_0x4952fd(0x224)]===!0x0)throw new Error(_0x4952fd(0x53c));if(_0x4b0dd4['variable']?.[_0x4952fd(0x4b6)]===!0x0){if(!_0x28c612)return{'message':_0x4952fd(0x15f)};_0x497171['variables']=_0x497171[_0x4952fd(0x544)][_0x4952fd(0x4a1)](_0xd3810a=>_0xd3810a['name']!==_0x4b0dd4[_0x4952fd(0x2e8)][_0x4952fd(0x270)]);}else _0x28c612?Object[_0x4952fd(0x3cd)](_0x28c612,_0x4b0dd4[_0x4952fd(0x2e8)]):_0x497171[_0x4952fd(0x544)][_0x4952fd(0x52c)](_0x4b0dd4[_0x4952fd(0x2e8)]);let _0xd62ef9=await this[_0x4952fd(0x5bc)][_0x4952fd(0x508)][_0x4952fd(0x2e6)](_0x497171[_0x4952fd(0x218)],_0x497171,this[_0x4952fd(0x251)][_0x4952fd(0x6bf)]);if(!_0xd62ef9)throw new Error(_0x4952fd(0x1a6));return _0xd62ef9;}catch(_0x559f2e){throw this[_0x4952fd(0x5cc)][_0x4952fd(0x55a)](this['instanceName']+'\x20('+this[_0x4952fd(0x251)][_0x4952fd(0x6bf)]+'):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+(_0x559f2e instanceof Error?_0x559f2e[_0x4952fd(0x604)]:JSON[_0x4952fd(0x4a7)](_0x559f2e,null,0x2))),new m(_0x4952fd(0x41f)+(_0x559f2e instanceof Error?_0x559f2e['message']:JSON[_0x4952fd(0x4a7)](_0x559f2e,null,0x2)));}}async[a0_0x4d4566(0x2c2)](_0x5ac4c0){const _0x1f1e30=a0_0x4d4566;let _0x2ab379=null;try{if(!this[_0x1f1e30(0x168)]?.[_0x1f1e30(0xfd)]['enabled'])throw new m(_0x1f1e30(0x37d));this[_0x1f1e30(0x5cc)][_0x1f1e30(0x5d0)](this['instanceName']+'\x20('+this[_0x1f1e30(0x251)][_0x1f1e30(0x6bf)]+'):\x20Iniciando\x20bot...');let _0xae494c=(await this[_0x1f1e30(0x368)]({'numbers':[_0x5ac4c0['remoteJid']]}))[0x0];if(!_0xae494c[_0x1f1e30(0x6d7)]&&!(0x0,w[_0x1f1e30(0x5c4)])(_0xae494c[_0x1f1e30(0x146)])&&!_0xae494c[_0x1f1e30(0x146)][_0x1f1e30(0x5a9)](_0x1f1e30(0x18d)))throw _0x2ab379=JSON[_0x1f1e30(0x4a7)](_0xae494c,null,0x2),new m(_0xae494c);let _0x1e4fa3=await this['repository'][_0x1f1e30(0x508)][_0x1f1e30(0x513)]({'where':{'name':_0x5ac4c0[_0x1f1e30(0x270)]}},this['instance'][_0x1f1e30(0x6bf)]);if(!_0x1e4fa3)return this[_0x1f1e30(0x5cc)][_0x1f1e30(0x55a)](this[_0x1f1e30(0x3fa)]+'\x20('+this[_0x1f1e30(0x251)][_0x1f1e30(0x6bf)]+_0x1f1e30(0x13a)),{'message':_0x1f1e30(0x53e)};let _0x16a329=await this['createConversationforStartFlow'](_0x1e4fa3,_0xae494c[_0x1f1e30(0x146)],_0x5ac4c0['changeVariables']);if(_0x16a329){this[_0x1f1e30(0x5cc)][_0x1f1e30(0x5d0)](this[_0x1f1e30(0x3fa)]+'\x20('+this['instance']['wuid']+_0x1f1e30(0x65f));let _0x20f72d=await this[_0x1f1e30(0x5a2)](_0x16a329);return _0x20f72d&&await this[_0x1f1e30(0x267)](_0x16a329,_0x20f72d),{'message':_0x1f1e30(0x6c8)+_0x5ac4c0[_0x1f1e30(0x21e)]};}}catch(_0x3e85a7){if(this[_0x1f1e30(0x5cc)][_0x1f1e30(0x55a)](this[_0x1f1e30(0x3fa)]+'\x20('+this[_0x1f1e30(0x251)][_0x1f1e30(0x6bf)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x3e85a7 instanceof Error?_0x3e85a7[_0x1f1e30(0x604)]:JSON[_0x1f1e30(0x4a7)](_0x3e85a7,null,0x2))),_0x2ab379=_0x3e85a7 instanceof Error?_0x3e85a7[_0x1f1e30(0x604)]:JSON['stringify'](_0x3e85a7,null,0x2),_0x2ab379)throw new m(_0x1f1e30(0x1f3)+_0x2ab379);}}async[a0_0x4d4566(0x105)](_0x4eef1e){const _0x4a6404=a0_0x4d4566;try{let _0x2684f6={'remoteJid':_0x4eef1e,'status':'open'},_0x3debc4={'status':_0x4a6404(0x4a5)},_0x331b7e=await this[_0x4a6404(0x5bc)][_0x4a6404(0x52d)]['updateMany'](_0x2684f6,_0x3debc4,this['instance'][_0x4a6404(0x6bf)]);return this[_0x4a6404(0x5cc)][_0x4a6404(0x5d0)](this['instanceName']+'\x20('+this[_0x4a6404(0x251)][_0x4a6404(0x6bf)]+_0x4a6404(0x41e)),_0x331b7e;}catch(_0x2b49ee){throw this[_0x4a6404(0x5cc)][_0x4a6404(0x55a)](this[_0x4a6404(0x3fa)]+'\x20('+this[_0x4a6404(0x251)][_0x4a6404(0x6bf)]+_0x4a6404(0x484)+_0x2b49ee[_0x4a6404(0x604)]),_0x2b49ee;}}async[a0_0x4d4566(0x64e)](_0x375445,_0x50225b,_0xa98a89){const _0xd1b051=a0_0x4d4566;this[_0xd1b051(0x5cc)]['verbose'](this[_0xd1b051(0x3fa)]+'\x20('+this[_0xd1b051(0x251)][_0xd1b051(0x6bf)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0xd1b051(0x105)](_0x50225b);try{let _0x239f0d=require(_0xd1b051(0x6be))['ObjectId'],_0x2ad70f=Date[_0xd1b051(0x43a)](),_0x15059b='start',_0x562503={},_0x412b98={},_0x3be699={..._0x375445,'chatLog':null},_0x54a193=await this[_0xd1b051(0x696)](_0x3be699['variables']),_0x2446ce=await this['getVariablesChat'](_0x50225b),_0x5dc717={..._0x54a193,..._0x2446ce,'_remoteJid':_0x50225b},_0x280a99={'lastReceivedMessage':_0x562503,'lastSendMessage':_0x412b98,'lastBlockId':_0x15059b,'lastCondition':!0x0,'realVariables':_0x5dc717};_0x3be699[_0xd1b051(0x135)]=_0x280a99,_0x3be699['chatLog'][_0xd1b051(0xf9)]={..._0x5dc717,..._0xa98a89},delete _0x3be699[_0xd1b051(0x218)],_0x3be699['_id']=new _0x239f0d(),_0x3be699[_0xd1b051(0x196)]=_0x2ad70f,_0x3be699[_0xd1b051(0x1d6)]='open',_0x3be699[_0xd1b051(0x21e)]=_0x50225b;let _0x1cfaa1=await this[_0xd1b051(0x5bc)][_0xd1b051(0x52d)][_0xd1b051(0x2e6)](_0x3be699['_id'],_0x3be699,this[_0xd1b051(0x251)]['wuid']);return this[_0xd1b051(0x5cc)]['verbose'](this[_0xd1b051(0x3fa)]+'\x20('+this[_0xd1b051(0x251)][_0xd1b051(0x6bf)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x1cfaa1?_0x3be699:null;}catch(_0x108ff6){throw this['logger'][_0xd1b051(0x55a)](this['instanceName']+'\x20('+this[_0xd1b051(0x251)][_0xd1b051(0x6bf)]+_0xd1b051(0x1b9)+(_0x108ff6 instanceof Error?_0x108ff6['message']:JSON['stringify'](_0x108ff6,null,0x2))),new m(_0x108ff6[_0xd1b051(0x604)]);}}async[a0_0x4d4566(0x11a)](_0x278bc5){const _0x2d96ec=a0_0x4d4566;try{this[_0x2d96ec(0x5cc)]['verbose'](this[_0x2d96ec(0x3fa)]+'\x20('+this[_0x2d96ec(0x251)]['wuid']+_0x2d96ec(0x607)),this[_0x2d96ec(0x5cc)]['verbose'](this['instanceName']+'\x20('+this[_0x2d96ec(0x251)]['wuid']+_0x2d96ec(0x682)+_0x278bc5);let _0x534555={'where':{'_id':_0x278bc5}};return await this[_0x2d96ec(0x5bc)][_0x2d96ec(0x52d)][_0x2d96ec(0x513)](_0x534555,this[_0x2d96ec(0x251)][_0x2d96ec(0x6bf)]);}catch(_0x4c9615){throw this['logger']['error'](this[_0x2d96ec(0x3fa)]+'\x20('+this[_0x2d96ec(0x251)][_0x2d96ec(0x6bf)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+(_0x4c9615 instanceof Error?_0x4c9615[_0x2d96ec(0x604)]:JSON['stringify'](_0x4c9615,null,0x2))),new m(_0x2d96ec(0x344)+_0x4c9615[_0x2d96ec(0x604)]);}}async[a0_0x4d4566(0x30e)](_0x58a7a2){const _0x7267f9=a0_0x4d4566;try{return this[_0x7267f9(0x5cc)][_0x7267f9(0x5d0)](this[_0x7267f9(0x3fa)]+'\x20('+this['instance']['wuid']+_0x7267f9(0x41b)),await this[_0x7267f9(0x5bc)]['flowConversation'][_0x7267f9(0x4df)](_0x58a7a2,this['instance'][_0x7267f9(0x6bf)]);}catch(_0x485562){throw this[_0x7267f9(0x5cc)][_0x7267f9(0x55a)](this[_0x7267f9(0x3fa)]+'\x20('+this[_0x7267f9(0x251)][_0x7267f9(0x6bf)]+_0x7267f9(0x597)+(_0x485562 instanceof Error?_0x485562['message']:JSON[_0x7267f9(0x4a7)](_0x485562,null,0x2))),new m(_0x7267f9(0x396)+_0x485562['message']);}}async[a0_0x4d4566(0x3ca)](_0x3dfe6d){const _0x1f5e53=a0_0x4d4566;try{return this[_0x1f5e53(0x5cc)][_0x1f5e53(0x5d0)](this[_0x1f5e53(0x3fa)]+'\x20('+this[_0x1f5e53(0x251)][_0x1f5e53(0x6bf)]+_0x1f5e53(0x712)),this['logger'][_0x1f5e53(0x5d0)](this['instanceName']+'\x20('+this[_0x1f5e53(0x251)][_0x1f5e53(0x6bf)]+_0x1f5e53(0x57d)+_0x3dfe6d),(await this[_0x1f5e53(0x5bc)][_0x1f5e53(0x52d)][_0x1f5e53(0x4a3)]({'where':{'_id':_0x3dfe6d}},this[_0x1f5e53(0x251)][_0x1f5e53(0x6bf)]))[_0x1f5e53(0x300)]===0x0?{'message':_0x1f5e53(0x47d)}:{'message':_0x1f5e53(0x4c4)};}catch(_0x522602){throw this[_0x1f5e53(0x5cc)][_0x1f5e53(0x55a)](this[_0x1f5e53(0x3fa)]+'\x20('+this[_0x1f5e53(0x251)][_0x1f5e53(0x6bf)]+_0x1f5e53(0x2c7)+(_0x522602 instanceof Error?_0x522602['message']:JSON['stringify'](_0x522602,null,0x2))),new m(_0x1f5e53(0x180)+_0x522602['message']);}}async['editConversation'](_0x25b725){const _0x198337=a0_0x4d4566;try{let {_id:_0x141c91,chatLog:_0x283107,status:_0x5bb696}=_0x25b725;if(!_0x141c91)return{'message':_0x198337(0x140)};let _0x3ebe12={};if(_0x5bb696!==void 0x0&&(_0x3ebe12[_0x198337(0x1d6)]=_0x5bb696),Object[_0x198337(0x2d3)](_0x3ebe12)[_0x198337(0x4d8)]===0x0)return{'message':_0x198337(0x6e7)};let _0x9fa4e8=await this[_0x198337(0x5bc)]['flowConversation'][_0x198337(0x2e6)](_0x141c91,_0x3ebe12,this[_0x198337(0x251)]['wuid']);return _0x9fa4e8||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x48aff0){throw this[_0x198337(0x5cc)]['error'](this[_0x198337(0x3fa)]+'\x20('+this[_0x198337(0x251)][_0x198337(0x6bf)]+_0x198337(0x702)+(_0x48aff0 instanceof Error?_0x48aff0[_0x198337(0x604)]:JSON[_0x198337(0x4a7)](_0x48aff0,null,0x2))),new m(_0x198337(0x2f7)+_0x48aff0[_0x198337(0x604)]);}}async[a0_0x4d4566(0x4ce)](_0x3b5d46){const _0x234750=a0_0x4d4566;let _0x4840ae=await this[_0x234750(0x5bc)][_0x234750(0x35b)][_0x234750(0x513)]({'where':{'_id':_0x3b5d46[_0x234750(0x218)]}},this[_0x234750(0x251)][_0x234750(0x6bf)]);if(!_0x4840ae)throw new m(_0x234750(0x4ae));console[_0x234750(0x2ab)](_0x3b5d46);try{_0x3b5d46[_0x234750(0x218)]=this[_0x234750(0x216)](_0x3b5d46[_0x234750(0x218)]);let {_id:_0x3e7ce1,leadInfo:_0x14b46f}=_0x3b5d46;if(!_0x3e7ce1)throw new Error(_0x234750(0x586));let _0x4744b6=(_0x448a2b,_0xc43349,_0x11a533)=>{const _0x13d66b=_0x234750;_0x448a2b&&_0x11a533[_0x13d66b(0x200)](_0x127856=>{const _0x6e1b46=_0x13d66b;_0x448a2b[_0x127856]!==void 0x0&&(_0xc43349[_0x6e1b46(0x737)+_0x127856]=_0x448a2b[_0x127856]);});},_0x5cbfdc={};if(_0x14b46f&&(_0x4744b6(_0x14b46f,_0x5cbfdc,[_0x234750(0x5ce),'nomecompleto',_0x234750(0x124),_0x234750(0x654),_0x234750(0x1d6),_0x234750(0x185),_0x234750(0x272),_0x234750(0x1e6),_0x234750(0x710),_0x234750(0x314)]),Array[_0x234750(0x346)](_0x14b46f['customFields'])&&(_0x5cbfdc[_0x234750(0x16d)]=_0x14b46f['customFields'][_0x234750(0x5ac)](_0xe5e42b=>({'_id':_0xe5e42b[_0x234750(0x218)],'value':_0xe5e42b[_0x234750(0x658)]}))),_0x3b5d46[_0x234750(0x224)][_0x234750(0x314)]!==void 0x0)){let _0x1945c2=await this[_0x234750(0x5bc)][_0x234750(0x197)][_0x234750(0x4df)]({'where':{}},this[_0x234750(0x251)][_0x234750(0x6bf)]),_0x2f4170=new Set(_0x3b5d46['leadInfo']['etiquetas']||[]),_0x245bee=new Set(_0x3b5d46[_0x234750(0x224)]['etiquetas']),_0x2797fc=new Set(_0x1945c2[_0x234750(0x5ac)](_0x570fc9=>_0x570fc9['_id'])),_0x5420cd=[..._0x245bee]['filter'](_0x1607e7=>!_0x2f4170['has'](_0x1607e7)&&_0x2797fc[_0x234750(0x2b6)](_0x1607e7)),_0x3d02fb=[..._0x2f4170][_0x234750(0x4a1)](_0x4e86f4=>!_0x245bee[_0x234750(0x2b6)](_0x4e86f4));if(_0x5cbfdc[_0x234750(0x482)]=[..._0x2f4170],_0x4840ae&&!_0x4840ae[_0x234750(0x23f)]){for(let _0x3dc271 of _0x5420cd)await this[_0x234750(0x133)](_0x3dc271,_0x3b5d46['_id']),_0x2f4170[_0x234750(0x69c)](_0x3dc271);for(let _0xe60aad of _0x3d02fb)await this[_0x234750(0x19e)](_0xe60aad,_0x3b5d46[_0x234750(0x218)]),_0x2f4170['delete'](_0xe60aad);}}if(_0x3b5d46[_0x234750(0x735)]!==void 0x0&&(_0x5cbfdc[_0x234750(0x735)]=Number(_0x3b5d46[_0x234750(0x735)])),Object['keys'](_0x5cbfdc)['length']===0x0)throw new Error(_0x234750(0x6e7));let _0x117aef=await this[_0x234750(0x5bc)]['chat'][_0x234750(0x2e6)]({'where':{'_id':_0x3b5d46[_0x234750(0x218)]}},_0x5cbfdc,this[_0x234750(0x251)]['wuid']);return _0x117aef&&j(this[_0x234750(0x3fa)],'chats',{'chat':_0x117aef}),_0x117aef?(this[_0x234750(0x5cc)][_0x234750(0x5d0)](this[_0x234750(0x3fa)]+'\x20('+this[_0x234750(0x251)][_0x234750(0x6bf)]+_0x234750(0x192)+JSON['stringify'](_0x117aef,null,0x2)),_0x117aef):{'message':_0x234750(0x309)};}catch(_0x52b4d5){throw this[_0x234750(0x5cc)][_0x234750(0x55a)](this[_0x234750(0x3fa)]+'\x20('+this[_0x234750(0x251)][_0x234750(0x6bf)]+_0x234750(0x678)+(_0x52b4d5 instanceof Error?_0x52b4d5[_0x234750(0x604)]:JSON['stringify'](_0x52b4d5,null,0x2))),new m(_0x234750(0x4e6)+_0x52b4d5[_0x234750(0x604)]);}}async[a0_0x4d4566(0x133)](_0xde038,_0x2c6db4){const _0x575985=a0_0x4d4566;try{await this[_0x575985(0x169)][_0x575985(0x354)](_0x2c6db4,_0xde038),console[_0x575985(0x2ab)](_0x575985(0x176)+_0xde038+_0x575985(0x34b)+_0x2c6db4+'\x20com\x20sucesso.');}catch(_0x39b799){console[_0x575985(0x55a)]('Erro\x20ao\x20adicionar\x20label\x20'+_0xde038+_0x575985(0x5f4)+_0x2c6db4+':',_0x39b799);}}async[a0_0x4d4566(0x19e)](_0x4c42ba,_0x2a51f3){const _0x5285af=a0_0x4d4566;try{await this['client'][_0x5285af(0x516)](_0x2a51f3,_0x4c42ba),console[_0x5285af(0x2ab)](_0x5285af(0x176)+_0x4c42ba+_0x5285af(0x365)+_0x2a51f3+'\x20com\x20sucesso.');}catch(_0x4958b4){console[_0x5285af(0x55a)](_0x5285af(0x359)+_0x4c42ba+'\x20do\x20chat\x20'+_0x2a51f3+':',_0x4958b4);}}async[a0_0x4d4566(0x10c)](_0xfb65a6){const _0x46b7ad=a0_0x4d4566;try{let _0x5cfc72=await this[_0x46b7ad(0x5bc)]['automateSystem'][_0x46b7ad(0x68c)](this[_0x46b7ad(0x251)][_0x46b7ad(0x6bf)]),_0x464b3a=_0xfb65a6[_0x46b7ad(0x218)]?_0x5cfc72['agents'][_0x46b7ad(0x319)](_0x283013=>_0x283013[_0x46b7ad(0x218)]===_0xfb65a6[_0x46b7ad(0x218)]):-0x1;if(_0xfb65a6[_0x46b7ad(0x4b6)]&&_0x464b3a>-0x1)_0x5cfc72['agents'][_0x46b7ad(0x1c7)](_0x464b3a,0x1);else{if(_0x464b3a>-0x1){let _0x25dca6=_0x5cfc72[_0x46b7ad(0x288)][_0x464b3a];_0xfb65a6['fone']&&(_0x25dca6[_0x46b7ad(0x262)]=_0xfb65a6[_0x46b7ad(0x262)]),_0xfb65a6[_0x46b7ad(0x270)]&&(_0x25dca6[_0x46b7ad(0x270)]=_0xfb65a6[_0x46b7ad(0x270)]),_0xfb65a6[_0x46b7ad(0x124)]&&(_0x25dca6[_0x46b7ad(0x124)]=_0xfb65a6[_0x46b7ad(0x124)]),_0xfb65a6[_0x46b7ad(0x420)]&&(_0x25dca6[_0x46b7ad(0x420)]=_0xfb65a6[_0x46b7ad(0x420)]);}else _0x5cfc72[_0x46b7ad(0x288)][_0x46b7ad(0x52c)]({'_id':_0xfb65a6[_0x46b7ad(0x218)]||new ie[(_0x46b7ad(0x10e))][(_0x46b7ad(0x552))][(_0x46b7ad(0x115))]()[_0x46b7ad(0x3bc)](),'fone':_0xfb65a6['fone'],'name':_0xfb65a6[_0x46b7ad(0x270)],'email':_0xfb65a6[_0x46b7ad(0x124)],'role':_0xfb65a6[_0x46b7ad(0x420)]});}let _0x1fc071={'agents':_0x5cfc72['agents']},_0x5e8528=await this[_0x46b7ad(0x5bc)][_0x46b7ad(0x240)][_0x46b7ad(0x70f)](_0x1fc071,this[_0x46b7ad(0x251)][_0x46b7ad(0x6bf)]);return this[_0x46b7ad(0x168)]=_0x5e8528,this['logger'][_0x46b7ad(0x5d0)](this['instanceName']+'\x20('+this[_0x46b7ad(0x251)][_0x46b7ad(0x6bf)]+_0x46b7ad(0x73a)),this[_0x46b7ad(0x5cc)][_0x46b7ad(0x5d0)](this[_0x46b7ad(0x3fa)]+'\x20('+this['instance'][_0x46b7ad(0x6bf)]+_0x46b7ad(0x192)+this[_0x46b7ad(0x168)]),_0x5e8528;}catch(_0x50c7ae){throw this[_0x46b7ad(0x5cc)][_0x46b7ad(0x55a)](this[_0x46b7ad(0x3fa)]+'\x20('+this[_0x46b7ad(0x251)][_0x46b7ad(0x6bf)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x50c7ae instanceof Error?_0x50c7ae[_0x46b7ad(0x604)]:JSON[_0x46b7ad(0x4a7)](_0x50c7ae,null,0x2))),new m(_0x46b7ad(0x6cb)+_0x50c7ae[_0x46b7ad(0x604)]);}}async[a0_0x4d4566(0x38d)](_0x2b8252){const _0x27a25a=a0_0x4d4566;try{let _0x48f5d=await this[_0x27a25a(0x5bc)][_0x27a25a(0x240)][_0x27a25a(0x68c)](this['instance'][_0x27a25a(0x6bf)]),_0xa23edb=_0x2b8252[_0x27a25a(0x218)]?_0x48f5d['customFields'][_0x27a25a(0x319)](_0x36f2ad=>_0x36f2ad[_0x27a25a(0x218)]===_0x2b8252[_0x27a25a(0x218)]):-0x1,_0x4db950=!0x1,_0x1ede28=_0x48f5d[_0x27a25a(0x3ee)]['some'](_0xb8163d=>_0xb8163d[_0x27a25a(0x364)]===_0x2b8252['order']);if(_0x2b8252[_0x27a25a(0x4b6)]&&_0xa23edb>-0x1)_0x48f5d['customFields'][_0x27a25a(0x1c7)](_0xa23edb,0x1),_0x4db950=!0x0;else{if(_0xa23edb>-0x1){if(_0x48f5d['customFields'][_0x27a25a(0x149)](_0x140138=>_0x140138[_0x27a25a(0x270)]===_0x2b8252['name']&&_0x140138[_0x27a25a(0x218)]!==_0x2b8252[_0x27a25a(0x218)]))throw new Error(_0x27a25a(0x3df));let _0x3fed6b=_0x48f5d[_0x27a25a(0x3ee)][_0xa23edb];_0x2b8252[_0x27a25a(0x364)]&&(_0x1ede28||!Number[_0x27a25a(0x5c0)](_0x2b8252[_0x27a25a(0x364)]))&&(_0x3fed6b[_0x27a25a(0x364)]=_0x2b8252[_0x27a25a(0x364)],_0x4db950=!0x0),_0x2b8252[_0x27a25a(0x270)]&&(_0x3fed6b[_0x27a25a(0x270)]=_0x2b8252['name']);}else{if(_0x48f5d[_0x27a25a(0x3ee)]['some'](_0x119f75=>_0x119f75['name']===_0x2b8252[_0x27a25a(0x270)]&&_0x119f75[_0x27a25a(0x218)]!==_0x2b8252[_0x27a25a(0x218)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x48f5d['customFields']['push']({'_id':_0x2b8252['_id']||new ie[(_0x27a25a(0x10e))][(_0x27a25a(0x552))][(_0x27a25a(0x115))]()[_0x27a25a(0x3bc)](),'order':_0x2b8252[_0x27a25a(0x364)],'name':_0x2b8252[_0x27a25a(0x270)]}),_0x4db950=!0x0;}}if(_0x4db950){_0x48f5d[_0x27a25a(0x3ee)][_0x27a25a(0x65b)]((_0xc34294,_0x2448de)=>_0xc34294[_0x27a25a(0x364)]>_0x2448de[_0x27a25a(0x364)]?0x1:_0x2448de['order']>_0xc34294[_0x27a25a(0x364)]?-0x1:0x0);for(let _0x21f95a=0x0;_0x21f95a<_0x48f5d[_0x27a25a(0x3ee)][_0x27a25a(0x4d8)];_0x21f95a++)_0x48f5d[_0x27a25a(0x3ee)][_0x21f95a][_0x27a25a(0x364)]=_0x21f95a+0x1;}let _0xcbbb0a=await this[_0x27a25a(0x5bc)][_0x27a25a(0x240)][_0x27a25a(0x70f)](_0x48f5d,this[_0x27a25a(0x251)]['wuid']);return this[_0x27a25a(0x168)]=_0xcbbb0a,this[_0x27a25a(0x5cc)]['verbose'](this[_0x27a25a(0x3fa)]+'\x20('+this[_0x27a25a(0x251)][_0x27a25a(0x6bf)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this['logger'][_0x27a25a(0x5d0)](this[_0x27a25a(0x3fa)]+'\x20('+this[_0x27a25a(0x251)][_0x27a25a(0x6bf)]+_0x27a25a(0x192)+this[_0x27a25a(0x168)]),_0xcbbb0a;}catch(_0x4be3ec){throw this[_0x27a25a(0x5cc)][_0x27a25a(0x55a)](this[_0x27a25a(0x3fa)]+'\x20('+this[_0x27a25a(0x251)][_0x27a25a(0x6bf)]+_0x27a25a(0x6cf)+(_0x4be3ec instanceof Error?_0x4be3ec['message']:JSON['stringify'](_0x4be3ec,null,0x2))),new m(_0x27a25a(0x704)+_0x4be3ec[_0x27a25a(0x604)]);}}async[a0_0x4d4566(0x371)](_0xa7d1e0){const _0x93bd36=a0_0x4d4566;try{let _0x261d24=await this['repository'][_0x93bd36(0x240)][_0x93bd36(0x68c)](this[_0x93bd36(0x251)][_0x93bd36(0x6bf)]);if(!_0x261d24)throw new Error(_0x93bd36(0x397));let _0x396db1={'_id':_0x261d24[_0x93bd36(0x218)],'flowConfig':{'enabled':_0xa7d1e0[_0x93bd36(0x590)]??_0x261d24[_0x93bd36(0xfd)][_0x93bd36(0x590)],'ignoreGroups':_0xa7d1e0[_0x93bd36(0x254)]??_0x261d24[_0x93bd36(0xfd)][_0x93bd36(0x254)],'prefixCommand':_0xa7d1e0[_0x93bd36(0x6fc)]??_0x261d24['flowConfig'][_0x93bd36(0x6fc)],'stopConversation':_0xa7d1e0['stopConversation']??_0x261d24[_0x93bd36(0xfd)][_0x93bd36(0x425)],'stopMinutes':_0xa7d1e0['stopMinutes']??_0x261d24['flowConfig'][_0x93bd36(0x4fa)],'stopWhenYouSendMsg':_0xa7d1e0[_0x93bd36(0x328)]??_0x261d24[_0x93bd36(0xfd)][_0x93bd36(0x328)]}},_0x2af1fa=await this[_0x93bd36(0x5bc)]['automateSystem'][_0x93bd36(0x70f)](_0x396db1,this[_0x93bd36(0x251)][_0x93bd36(0x6bf)]);return this[_0x93bd36(0x168)]=_0x2af1fa,this[_0x93bd36(0x5cc)][_0x93bd36(0x5d0)](this[_0x93bd36(0x3fa)]+'\x20('+this[_0x93bd36(0x251)][_0x93bd36(0x6bf)]+_0x93bd36(0x73a)),this[_0x93bd36(0x5cc)][_0x93bd36(0x5d0)](this[_0x93bd36(0x3fa)]+'\x20('+this[_0x93bd36(0x251)][_0x93bd36(0x6bf)]+_0x93bd36(0x192)+this[_0x93bd36(0x168)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2af1fa;}catch(_0x537ed7){throw this[_0x93bd36(0x5cc)][_0x93bd36(0x55a)](this[_0x93bd36(0x3fa)]+'\x20('+this[_0x93bd36(0x251)][_0x93bd36(0x6bf)]+_0x93bd36(0x1f0)+(_0x537ed7 instanceof Error?_0x537ed7[_0x93bd36(0x604)]:JSON['stringify'](_0x537ed7,null,0x2))),new m(_0x93bd36(0x5b8)+_0x537ed7['message']);}}async[a0_0x4d4566(0x440)](){const _0x1a60c7=a0_0x4d4566;try{let _0xbd73b9=await this[_0x1a60c7(0x5bc)][_0x1a60c7(0x240)][_0x1a60c7(0x68c)](this[_0x1a60c7(0x251)]['wuid']);return this['AutomateSystem']=_0xbd73b9,this[_0x1a60c7(0x5cc)][_0x1a60c7(0x5d0)](this[_0x1a60c7(0x3fa)]+'\x20('+this[_0x1a60c7(0x251)]['wuid']+'):\x20Visualizando\x20AutomateSystem'),this['logger'][_0x1a60c7(0x5d0)](this[_0x1a60c7(0x168)]),_0xbd73b9;}catch(_0x575f16){throw this['logger'][_0x1a60c7(0x55a)](this[_0x1a60c7(0x3fa)]+'\x20('+this[_0x1a60c7(0x251)][_0x1a60c7(0x6bf)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x575f16 instanceof Error?_0x575f16['message']:JSON['stringify'](_0x575f16,null,0x2))),new m('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x575f16[_0x1a60c7(0x604)]);}}async[a0_0x4d4566(0xf4)](){const _0x320f6e=a0_0x4d4566;this[_0x320f6e(0x537)]&&clearTimeout(this['timerId']),this[_0x320f6e(0x537)]=setTimeout(()=>{const _0xf6766e=_0x320f6e;this[_0xf6766e(0x385)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x4d4566(0x385)](){const _0x165f8e=a0_0x4d4566;Date[_0x165f8e(0x43a)]()-this[_0x165f8e(0x12c)]>=0x1d4c0&&(this[_0x165f8e(0x5cc)][_0x165f8e(0x5d0)](this['instanceName']+'\x20('+this[_0x165f8e(0x251)]['wuid']+_0x165f8e(0x2a9)),this[_0x165f8e(0x206)]=null,this['lastSend']=0x0,this[_0x165f8e(0x63b)]=0x0,await this['scheduleNextCheck']());}async[a0_0x4d4566(0x5ba)](){const _0x2ad919=a0_0x4d4566;let _0x53305a=()=>{const _0x2904f4=a0_0x39b5;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2904f4(0x251)][_0x2904f4(0x6bf)]+_0x2904f4(0x193)+this['processingScheduleMessageId']+_0x2904f4(0x4dc));},_0x51ecec=async()=>{const _0x2f2b73=a0_0x39b5;this[_0x2f2b73(0x5cc)][_0x2f2b73(0x5d0)](this['instanceName']+'\x20('+this[_0x2f2b73(0x251)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x2c3037=Date[_0x2f2b73(0x43a)]()-0xc*0x3c*0x3c*0x3e8,_0x4b9b37={'where':{'status':{'$in':['scheduled',_0x2f2b73(0x1ed)]},'$or':[{'when':{'$lte':Date[_0x2f2b73(0x43a)](),'$gte':_0x2c3037}},{'when':0x0}]}};return await this[_0x2f2b73(0x5bc)][_0x2f2b73(0x142)][_0x2f2b73(0x4df)](_0x4b9b37,this['instance'][_0x2f2b73(0x6bf)]);},_0x544a5d=async _0x2dd428=>{const _0x19c433=a0_0x39b5;for(let _0x231ea1 of _0x2dd428){let _0x1a3b5a={'_id':_0x231ea1[_0x19c433(0x218)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x19c433(0x43a)]()-0x1770}}]},_0x4f6a8d={'startSend':Date[_0x19c433(0x43a)]()};if(!await this[_0x19c433(0x5bc)][_0x19c433(0x142)][_0x19c433(0x2e6)](_0x1a3b5a,_0x4f6a8d,this[_0x19c433(0x251)][_0x19c433(0x6bf)]))return;if(!this[_0x19c433(0x421)]){this['logger'][_0x19c433(0x5d0)](this[_0x19c433(0x3fa)]+'\x20('+this[_0x19c433(0x251)][_0x19c433(0x6bf)]+_0x19c433(0x52e));break;}if(_0x231ea1[_0x19c433(0x1d0)]===_0x19c433(0x508)&&!this[_0x19c433(0x168)]?.['flowConfig']['enabled']){this[_0x19c433(0x5cc)][_0x19c433(0x55a)](this[_0x19c433(0x3fa)]+'\x20('+this['instance'][_0x19c433(0x6bf)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x231ea1[_0x19c433(0x64a)]||_0x231ea1[_0x19c433(0x64a)][_0x19c433(0x4d8)]===0x0)&&(_0x231ea1=await this['repository']['scheduleMessage'][_0x19c433(0x4f6)](_0x231ea1['_id'],{'status':_0x19c433(0x1ed),'remoteJidsRemaining':[..._0x231ea1[_0x19c433(0x2d8)]]},this[_0x19c433(0x251)][_0x19c433(0x6bf)]));for(let _0x211c0d of _0x231ea1['remoteJidsRemaining']){if(await this[_0x19c433(0xf4)](),this[_0x19c433(0x12c)]=Date[_0x19c433(0x43a)](),_0x231ea1['messagesSend'][_0x19c433(0x149)](_0x51ccf0=>_0x51ccf0[_0x19c433(0x21e)]===_0x211c0d)){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x19c433(0x251)][_0x19c433(0x6bf)]+_0x19c433(0x491)+_0x211c0d+_0x19c433(0x48d));continue;}if(!this[_0x19c433(0x421)]){this[_0x19c433(0x5cc)]['verbose'](this[_0x19c433(0x3fa)]+'\x20('+this[_0x19c433(0x251)][_0x19c433(0x6bf)]+_0x19c433(0x380));break;}if(!this[_0x19c433(0x206)]){this[_0x19c433(0x5cc)][_0x19c433(0x5d0)](this[_0x19c433(0x3fa)]+'\x20('+this[_0x19c433(0x251)][_0x19c433(0x6bf)]+_0x19c433(0x4a0)+_0x231ea1[_0x19c433(0x218)]+_0x19c433(0x4d6));break;}if(_0x231ea1[_0x19c433(0x1d0)]===_0x19c433(0x508)&&!this[_0x19c433(0x168)]?.[_0x19c433(0xfd)]['enabled']){this[_0x19c433(0x5cc)][_0x19c433(0x55a)](this[_0x19c433(0x3fa)]+'\x20('+this[_0x19c433(0x251)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0xbcb178={'remoteJid':_0x211c0d,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x19c433(0x43a)]()},_0x160c37=null;try{let _0x58b2f1=await this['SendScheduleMessage'](_0x211c0d,_0x231ea1);_0xbcb178[_0x19c433(0x55a)]=_0x58b2f1[_0x19c433(0x55a)],_0xbcb178['id']=_0x58b2f1[_0x19c433(0x55a)]?null:_0x58b2f1['id'],_0xbcb178[_0x19c433(0x2a0)]=_0x58b2f1[_0x19c433(0x55a)]?_0x58b2f1['detail']?_0x58b2f1[_0x19c433(0x399)][_0x19c433(0x3bc)]():'':null;let _0x26df37={'$push':{'messagesSend':_0xbcb178},'$pull':{'remoteJidsRemaining':_0x211c0d}},_0x3613e7=_0x231ea1['_id'];if(_0x160c37=await this[_0x19c433(0x5bc)][_0x19c433(0x142)]['updateOneById'](_0x3613e7,_0x26df37,this[_0x19c433(0x251)][_0x19c433(0x6bf)]),_0x58b2f1[_0x19c433(0x55a)])continue;let _0x5f3ff0=this[_0x19c433(0x183)](_0x231ea1[_0x19c433(0x1f7)],_0x231ea1[_0x19c433(0x2ef)]);await this[_0x19c433(0x5d2)](_0x5f3ff0);}catch(_0xcd8c31){this['logger'][_0x19c433(0x55a)](this[_0x19c433(0x3fa)]+'\x20('+this[_0x19c433(0x251)][_0x19c433(0x6bf)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x211c0d+':\x20'+(_0xcd8c31 instanceof Error?_0xcd8c31[_0x19c433(0x604)]:JSON[_0x19c433(0x4a7)](_0xcd8c31,null,0x2))),_0xbcb178[_0x19c433(0x55a)]=!0x0,_0xbcb178[_0x19c433(0x2a0)]=_0xcd8c31[_0x19c433(0x604)];let _0x4e361e={'$push':{'messagesSend':_0xbcb178},'$pull':{'remoteJidsRemaining':_0x211c0d}},_0x14bfae=_0x231ea1[_0x19c433(0x218)];_0x160c37=await this[_0x19c433(0x5bc)][_0x19c433(0x142)][_0x19c433(0x4f6)](_0x14bfae,_0x4e361e,this[_0x19c433(0x251)][_0x19c433(0x6bf)]);}finally{if(_0x160c37&&_0x160c37[_0x19c433(0x1d6)]===_0x19c433(0x31a)){this[_0x19c433(0x5cc)][_0x19c433(0x5d0)](this[_0x19c433(0x3fa)]+'\x20('+this[_0x19c433(0x251)][_0x19c433(0x6bf)]+_0x19c433(0x4a0)+_0x231ea1[_0x19c433(0x218)]+_0x19c433(0x25b));break;}}}let _0xf27d44=await this[_0x19c433(0x5bc)][_0x19c433(0x142)][_0x19c433(0x34e)](_0x231ea1[_0x19c433(0x218)],this['instance'][_0x19c433(0x6bf)]);if(_0xf27d44['remoteJidsRemaining']['length']===0x0&&_0xf27d44[_0x19c433(0x1d6)]!==_0x19c433(0x31a)){let _0x1dab82={'$set':{'status':'done'}},_0x46f272=_0xf27d44['_id'];await this[_0x19c433(0x5bc)]['scheduleMessage']['updateOneById'](_0x46f272,_0x1dab82,this[_0x19c433(0x251)]['wuid']);}await new Promise(_0x419129=>setTimeout(_0x419129,0x1388));}},_0x4580b3=async()=>{const _0x5dce25=a0_0x39b5;let _0x3f2b1c={'where':{'status':_0x5dce25(0x21c),'when':{'$gt':Date[_0x5dce25(0x43a)]()}}},_0x3a5873=await this[_0x5dce25(0x5bc)][_0x5dce25(0x142)][_0x5dce25(0x513)](_0x3f2b1c,this[_0x5dce25(0x251)][_0x5dce25(0x6bf)]);_0x3a5873&&_0x3a5873[_0x5dce25(0x2af)]-Date[_0x5dce25(0x43a)]()<=0x5265c00?this[_0x5dce25(0x63b)]=_0x3a5873['when']-Date[_0x5dce25(0x43a)]():this[_0x5dce25(0x63b)]=(0x3c+Math[_0x5dce25(0x422)](Math[_0x5dce25(0x13b)]()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math['max'](this[_0x5dce25(0x63b)],0x7d0);let _0x5ebf63=Math[_0x5dce25(0x2e3)](this[_0x5dce25(0x63b)]/0xea60);if(_0x3a5873){let _0x352148=new Date(_0x3a5873[_0x5dce25(0x2af)])[_0x5dce25(0x504)]();this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5dce25(0x251)]['wuid']+_0x5dce25(0xff)+_0x352148+_0x5dce25(0x2fb)+_0x5ebf63+_0x5dce25(0x184));}else this[_0x5dce25(0x5cc)][_0x5dce25(0x5d0)](this[_0x5dce25(0x3fa)]+'\x20('+this['instance'][_0x5dce25(0x6bf)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x5ebf63+_0x5dce25(0x184));setTimeout(()=>this[_0x5dce25(0x5ba)](),this[_0x5dce25(0x63b)]);};if(this[_0x2ad919(0x206)]){await this[_0x2ad919(0xf4)](),_0x53305a();return;}if(!this[_0x2ad919(0x421)]){this['logger']['verbose'](this[_0x2ad919(0x3fa)]+'\x20('+this[_0x2ad919(0x251)][_0x2ad919(0x6bf)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x2ad919(0x206)]=null,this['lastSend']=0x0,this[_0x2ad919(0x63b)]=0x0;return;}try{let _0x1c4b1d=await _0x51ecec();_0x1c4b1d['length']===0x0?this[_0x2ad919(0x5cc)][_0x2ad919(0x5d0)](this['instanceName']+'\x20('+this[_0x2ad919(0x251)][_0x2ad919(0x6bf)]+_0x2ad919(0x3dd)):(this[_0x2ad919(0x206)]=_0x1c4b1d[0x0][_0x2ad919(0x218)],await _0x544a5d(_0x1c4b1d)),await _0x4580b3(),this[_0x2ad919(0x206)]=null;}catch(_0x4fe69e){this[_0x2ad919(0x5cc)][_0x2ad919(0x55a)](_0x2ad919(0x5b2)+(_0x4fe69e instanceof Error?_0x4fe69e[_0x2ad919(0x604)]:JSON[_0x2ad919(0x4a7)](_0x4fe69e,null,0x2)));}}[a0_0x4d4566(0x183)](_0x1ec34a,_0x22c25f){const _0x357721=a0_0x4d4566;return _0x1ec34a=Math[_0x357721(0x312)](0.5,_0x1ec34a),_0x22c25f=Math[_0x357721(0x291)](Math[_0x357721(0x312)](0x3,_0x22c25f),0x78),Math['floor'](Math[_0x357721(0x13b)]()*(_0x22c25f-_0x1ec34a+0x1)+_0x1ec34a)*0x3e8;}['sleep'](_0x55d9a9){return new Promise(_0x152af2=>setTimeout(_0x152af2,_0x55d9a9));}async[a0_0x4d4566(0x6ac)](_0x33ec7c){const _0x37c0e5=a0_0x4d4566;if(!this[_0x37c0e5(0x168)]&&(await this[_0x37c0e5(0x440)](),!this[_0x37c0e5(0x168)]))return null;_0x33ec7c=this[_0x37c0e5(0x216)](_0x33ec7c);let _0x13c285=await this['repository'][_0x37c0e5(0x35b)]['findOne']({'where':{'_id':_0x33ec7c}},this[_0x37c0e5(0x251)][_0x37c0e5(0x6bf)]),_0x227498={};if(_0x13c285&&_0x13c285[_0x37c0e5(0x224)]){let _0x59c671=_0x13c285[_0x37c0e5(0x224)];typeof _0x59c671[_0x37c0e5(0x5ce)]==_0x37c0e5(0x2c0)&&(_0x227498['nome']=_0x59c671['nome']),typeof _0x59c671['nomecompleto']==_0x37c0e5(0x2c0)&&(_0x227498['nomecompleto']=_0x59c671[_0x37c0e5(0x488)]),typeof _0x59c671[_0x37c0e5(0x124)]==_0x37c0e5(0x2c0)&&(_0x227498[_0x37c0e5(0x124)]=_0x59c671[_0x37c0e5(0x124)]),typeof _0x59c671[_0x37c0e5(0x654)]=='string'&&(_0x227498['cpf']=_0x59c671[_0x37c0e5(0x654)]),typeof _0x59c671[_0x37c0e5(0x1d6)]=='string'&&(_0x227498[_0x37c0e5(0x1d6)]=_0x59c671['status']),typeof _0x59c671[_0x37c0e5(0x185)]==_0x37c0e5(0x2c0)&&(_0x227498['notas']=_0x59c671[_0x37c0e5(0x185)]),typeof _0x59c671[_0x37c0e5(0x710)]==_0x37c0e5(0x2c0)&&(_0x227498['responsavelid']=_0x59c671[_0x37c0e5(0x710)]),Array[_0x37c0e5(0x346)](_0x59c671[_0x37c0e5(0x272)])&&(_0x227498['tags']=_0x59c671[_0x37c0e5(0x272)][_0x37c0e5(0x3f7)](',\x20')),Array[_0x37c0e5(0x346)](_0x59c671[_0x37c0e5(0x314)])&&(_0x227498[_0x37c0e5(0x314)]=_0x59c671[_0x37c0e5(0x314)]['join'](',\x20'));}return _0x13c285&&_0x13c285[_0x37c0e5(0x224)]&&_0x13c285[_0x37c0e5(0x224)]['customFields']&&_0x13c285[_0x37c0e5(0x224)][_0x37c0e5(0x3ee)]['forEach'](_0x5cfea1=>{const _0xa9d3f9=_0x37c0e5;let _0x1c7a57=this[_0xa9d3f9(0x168)]?.[_0xa9d3f9(0x3ee)][_0xa9d3f9(0x4df)](_0x407dbb=>_0x407dbb[_0xa9d3f9(0x218)]===_0x5cfea1['_id']);_0x1c7a57&&(_0x227498[_0x1c7a57[_0xa9d3f9(0x270)]]=_0x5cfea1[_0xa9d3f9(0x658)]);}),_0x227498;}async['replaceVariablesChat'](_0x39bd10,_0x3dc18a){const _0x1123e9=a0_0x4d4566;let _0x55c4fe=await this[_0x1123e9(0x6ac)](_0x3dc18a);return this[_0x1123e9(0x392)](_0x39bd10,_0x55c4fe);}async[a0_0x4d4566(0x46e)](_0x4a768d){const _0x177b73=a0_0x4d4566;try{if(this[_0x177b73(0x5cc)]['verbose'](this[_0x177b73(0x3fa)]+'\x20('+this[_0x177b73(0x251)]['wuid']+_0x177b73(0x36b)),_0x4a768d[_0x177b73(0x4b6)]&&_0x4a768d[_0x177b73(0x218)]){if(this[_0x177b73(0x206)]===_0x4a768d['_id'][_0x177b73(0x3bc)]())throw new Error(_0x177b73(0x2ba));let _0x4bafe1=await this[_0x177b73(0x5bc)][_0x177b73(0x142)][_0x177b73(0x4a3)](_0x4a768d[_0x177b73(0x218)],this[_0x177b73(0x251)][_0x177b73(0x6bf)]);return setTimeout(()=>this[_0x177b73(0x5ba)](),0x7d0),_0x4bafe1;}let _0x24f138;if(_0x4a768d[_0x177b73(0x218)]&&(_0x24f138=await this[_0x177b73(0x5bc)][_0x177b73(0x142)]['findById'](_0x4a768d[_0x177b73(0x218)],this[_0x177b73(0x251)]['wuid'])),_0x24f138){let _0x1e86ab;if(this[_0x177b73(0x206)]===_0x24f138[_0x177b73(0x218)][_0x177b73(0x3bc)]())_0x1e86ab={'$set':{'status':_0x4a768d[_0x177b73(0x1d6)]}};else{let {_id:_0x59cc48,..._0x3ad87f}=_0x4a768d;_0x1e86ab={'$set':_0x3ad87f};}let _0x3a2a2f=await this[_0x177b73(0x5bc)][_0x177b73(0x142)]['updateOneById'](_0x4a768d[_0x177b73(0x218)],_0x1e86ab,this[_0x177b73(0x251)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x3a2a2f;}else{_0x4a768d[_0x177b73(0x697)]=this[_0x177b73(0x251)][_0x177b73(0x6bf)];let _0xefe1e3=await this['repository']['scheduleMessage'][_0x177b73(0x3bb)](_0x4a768d,this[_0x177b73(0x251)][_0x177b73(0x6bf)]);return setTimeout(()=>this[_0x177b73(0x5ba)](),0x7d0),_0xefe1e3;}}catch(_0x3f9ce2){throw this[_0x177b73(0x5cc)][_0x177b73(0x55a)](this['instanceName']+'\x20('+this[_0x177b73(0x251)]['wuid']+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x3f9ce2 instanceof Error?_0x3f9ce2[_0x177b73(0x604)]:JSON[_0x177b73(0x4a7)](_0x3f9ce2,null,0x2))),new m(_0x177b73(0x4ab)+_0x3f9ce2['message']);}}async[a0_0x4d4566(0x554)](){const _0x198269=a0_0x4d4566;try{return await this[_0x198269(0x5bc)]['scheduleMessage'][_0x198269(0x4df)]({'where':{}},this[_0x198269(0x251)][_0x198269(0x6bf)]);}catch(_0x1d841a){throw this[_0x198269(0x5cc)][_0x198269(0x55a)](this[_0x198269(0x3fa)]+'\x20('+this[_0x198269(0x251)][_0x198269(0x6bf)]+_0x198269(0x57e)+(_0x1d841a instanceof Error?_0x1d841a[_0x198269(0x604)]:JSON[_0x198269(0x4a7)](_0x1d841a,null,0x2))),new m(_0x198269(0x4ab)+_0x1d841a[_0x198269(0x604)]);}}async['deleteDoneMessages'](){const _0x1784f9=a0_0x4d4566;try{let _0x1909d8={'status':_0x1784f9(0x630)},_0x438464=await this['repository'][_0x1784f9(0x142)][_0x1784f9(0x746)](_0x1909d8,this[_0x1784f9(0x251)][_0x1784f9(0x6bf)]);if(!_0x438464[_0x1784f9(0x55a)])this[_0x1784f9(0x5cc)]['verbose'](this[_0x1784f9(0x3fa)]+'\x20('+this[_0x1784f9(0x251)][_0x1784f9(0x6bf)]+_0x1784f9(0x12d));else throw new Error(_0x438464['error'][_0x1784f9(0x604)]||_0x1784f9(0x152));return this[_0x1784f9(0x554)]();}catch(_0x591aa8){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1784f9(0x69e)+(_0x591aa8 instanceof Error?_0x591aa8[_0x1784f9(0x604)]:JSON[_0x1784f9(0x4a7)](_0x591aa8,null,0x2))),new m(_0x1784f9(0x4ab)+_0x591aa8['message']);}}async['SendScheduleMessage'](_0x748fec,_0x50c16c){const _0x2b8f46=a0_0x4d4566;try{if(_0x50c16c[_0x2b8f46(0x1d0)]===_0x2b8f46(0x508)&&!this[_0x2b8f46(0x168)]?.[_0x2b8f46(0xfd)]['enabled'])return this[_0x2b8f46(0x5cc)][_0x2b8f46(0x55a)](this['instanceName']+'\x20('+this[_0x2b8f46(0x251)][_0x2b8f46(0x6bf)]+_0x2b8f46(0x581)),{'error':!0x0,'detail':_0x2b8f46(0x37d)};switch(_0x50c16c[_0x2b8f46(0x1d0)]){case _0x2b8f46(0x684):return await this[_0x2b8f46(0x599)](_0x50c16c,_0x748fec);case _0x2b8f46(0x239):return await this['scheduleSendMedia'](_0x50c16c,_0x748fec);case'audio':return await this['scheduleSendAudio'](_0x50c16c,_0x748fec);case'flow':let _0x2891c9=new _e();return _0x2891c9['name']=_0x50c16c[_0x2b8f46(0x522)],_0x2891c9[_0x2b8f46(0x21e)]=_0x748fec,await this[_0x2b8f46(0x2c2)](_0x2891c9);break;default:return this['logger'][_0x2b8f46(0x55a)](this[_0x2b8f46(0x3fa)]+'\x20('+this[_0x2b8f46(0x251)][_0x2b8f46(0x6bf)]+_0x2b8f46(0x692)+_0x50c16c[_0x2b8f46(0x1d0)]),{'error':!0x0,'detail':_0x2b8f46(0x723)};}}catch(_0x3a6672){return this[_0x2b8f46(0x5cc)][_0x2b8f46(0x55a)](this[_0x2b8f46(0x3fa)]+'\x20('+this[_0x2b8f46(0x251)]['wuid']+_0x2b8f46(0x5b1)+(_0x3a6672 instanceof Error?_0x3a6672[_0x2b8f46(0x604)]:JSON[_0x2b8f46(0x4a7)](_0x3a6672,null,0x2))),{'error':!0x0,'detail':_0x3a6672[_0x2b8f46(0x604)]};}}[a0_0x4d4566(0x521)](_0x4b7993){const _0x30da79=a0_0x4d4566;let _0x10a027=_0x4b7993[_0x30da79(0x4e4)]('|'),_0x128867=Math['floor'](Math[_0x30da79(0x13b)]()*_0x10a027[_0x30da79(0x4d8)]);return _0x10a027[_0x128867][_0x30da79(0x34f)]();}async[a0_0x4d4566(0x599)](_0x1f088b,_0x26024d){const _0x5b0f86=a0_0x4d4566;if(this['logger']['verbose'](this[_0x5b0f86(0x3fa)]+'\x20('+this['instance'][_0x5b0f86(0x6bf)]+_0x5b0f86(0x43e)),!_0x1f088b['message'][_0x5b0f86(0x684)]||_0x1f088b[_0x5b0f86(0x604)]['text'][_0x5b0f86(0x4d8)]===0x0)return{'error':!0x0,'detail':_0x5b0f86(0x259)};let _0x1a0426=this[_0x5b0f86(0x521)](_0x1f088b['message'][_0x5b0f86(0x684)]),_0x470c9b=await this[_0x5b0f86(0x1d2)](_0x1a0426,_0x26024d),_0x593afe={'number':_0x26024d,'options':{'delay':_0x1f088b[_0x5b0f86(0x604)]['delay']},'textMessage':{'text':_0x470c9b}},_0x3755dd=null;try{let _0x211210=await this[_0x5b0f86(0x1f5)](_0x593afe);if(_0x211210&&_0x211210[_0x5b0f86(0x1d6)])return{'error':!0x1,'id':_0x211210['key']['id']};_0x3755dd=JSON['stringify'](_0x211210),this[_0x5b0f86(0x5cc)][_0x5b0f86(0x5d0)](this[_0x5b0f86(0x3fa)]+'\x20('+this['instance'][_0x5b0f86(0x6bf)]+_0x5b0f86(0x192)+_0x3755dd);}catch(_0x56d863){this[_0x5b0f86(0x5cc)][_0x5b0f86(0x55a)](this[_0x5b0f86(0x3fa)]+'\x20('+this['instance']['wuid']+_0x5b0f86(0x138)+(_0x56d863 instanceof Error?_0x56d863[_0x5b0f86(0x604)]:JSON['stringify'](_0x56d863,null,0x2))),_0x3755dd=_0x56d863['message'];}if(_0x3755dd)return{'error':!0x0,'detail':(typeof _0x3755dd==_0x5b0f86(0x252)?JSON['stringify'](_0x3755dd,null,0x2):_0x3755dd)[_0x5b0f86(0x3ad)](/[\[\]{}\n]/g,'\x20')[_0x5b0f86(0x3ad)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x5a3737,_0x38d3ba){const _0x487bf1=a0_0x4d4566;this['logger'][_0x487bf1(0x5d0)](this['instanceName']+'\x20('+this[_0x487bf1(0x251)][_0x487bf1(0x6bf)]+_0x487bf1(0x3f5));let _0x4a1709;if(_0x5a3737[_0x487bf1(0x604)][_0x487bf1(0x684)]&&_0x5a3737['message'][_0x487bf1(0x684)][_0x487bf1(0x4d8)]>0x0){let _0x40cdf3=this[_0x487bf1(0x521)](_0x5a3737[_0x487bf1(0x604)]['text']);_0x4a1709=await this[_0x487bf1(0x1d2)](_0x40cdf3,_0x38d3ba);}let _0x48b6e7={'number':_0x38d3ba,'options':{'delay':_0x5a3737['message'][_0x487bf1(0x4b3)]},'mediaMessage':{'mediatype':_0x5a3737['message'][_0x487bf1(0x679)],'caption':_0x4a1709,'media':_0x5a3737[_0x487bf1(0x604)][_0x487bf1(0x31d)]}},_0x4c62c4=null;try{let _0x21fd2e=await this[_0x487bf1(0x6a8)](_0x48b6e7);if(_0x21fd2e&&_0x21fd2e[_0x487bf1(0x1d6)])return{'error':!0x1,'id':_0x21fd2e[_0x487bf1(0x583)]['id']};_0x4c62c4=JSON['stringify'](_0x21fd2e),this['logger'][_0x487bf1(0x5d0)](this[_0x487bf1(0x3fa)]+'\x20('+this[_0x487bf1(0x251)]['wuid']+_0x487bf1(0x192)+_0x4c62c4);}catch(_0x18ab09){this[_0x487bf1(0x5cc)][_0x487bf1(0x55a)](this[_0x487bf1(0x3fa)]+'\x20('+this[_0x487bf1(0x251)]['wuid']+_0x487bf1(0x38a)+(_0x18ab09 instanceof Error?_0x18ab09[_0x487bf1(0x604)]:JSON[_0x487bf1(0x4a7)](_0x18ab09,null,0x2))),_0x4c62c4=_0x18ab09[_0x487bf1(0x604)];}if(_0x4c62c4)return{'error':!0x0,'detail':(typeof _0x4c62c4=='object'?JSON[_0x487bf1(0x4a7)](_0x4c62c4,null,0x2):_0x4c62c4)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x4d4566(0x457)](_0x58c1da,_0x172cc4){const _0x38e742=a0_0x4d4566;this[_0x38e742(0x5cc)]['verbose'](this[_0x38e742(0x3fa)]+'\x20('+this[_0x38e742(0x251)][_0x38e742(0x6bf)]+_0x38e742(0x286));let _0x3c0c89={'number':_0x172cc4,'options':{'delay':_0x58c1da['message'][_0x38e742(0x4b3)]},'audioMessage':{'audio':_0x58c1da[_0x38e742(0x604)]['urlOrBase64']}},_0x5ed7a1=null;try{let _0x12ac81=await this[_0x38e742(0x6b4)](_0x3c0c89);if(_0x12ac81&&_0x12ac81[_0x38e742(0x1d6)])return{'error':!0x1,'id':_0x12ac81['key']['id']};_0x5ed7a1=JSON['stringify'](_0x12ac81),this[_0x38e742(0x5cc)][_0x38e742(0x5d0)](this['instanceName']+'\x20('+this['instance'][_0x38e742(0x6bf)]+_0x38e742(0x192)+_0x5ed7a1);}catch(_0x4c66aa){this['logger'][_0x38e742(0x55a)](this[_0x38e742(0x3fa)]+'\x20('+this['instance'][_0x38e742(0x6bf)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x4c66aa instanceof Error?_0x4c66aa['message']:JSON[_0x38e742(0x4a7)](_0x4c66aa,null,0x2))),_0x5ed7a1=_0x4c66aa[_0x38e742(0x604)];}if(_0x5ed7a1)return{'error':!0x0,'detail':(typeof _0x5ed7a1=='object'?JSON[_0x38e742(0x4a7)](_0x5ed7a1,null,0x2):_0x5ed7a1)[_0x38e742(0x3ad)](/[\[\]{}\n]/g,'\x20')[_0x38e742(0x3ad)](/  +/g,'\x20')};}},xt=class c{constructor(_0x3071ca,_0x543927,_0x5b9a2b){const _0x4135cb=a0_0x4d4566;this['eventEmitter']=_0x3071ca,this['configService']=_0x543927,this[_0x4135cb(0x5bc)]=_0x5b9a2b,this['db']={},this[_0x4135cb(0x391)]={},this[_0x4135cb(0x5cc)]=new v(c[_0x4135cb(0x270)]),this['waInstances']={},(this['removeInstance'](),this[_0x4135cb(0x656)](),Object[_0x4135cb(0x3cd)](this['db'],_0x543927[_0x4135cb(0x5f2)]('DATABASE')),Object[_0x4135cb(0x3cd)](this[_0x4135cb(0x391)],_0x543927[_0x4135cb(0x5f2)](_0x4135cb(0x143))),this['dbInstance']=this['db'][_0x4135cb(0x298)]?this[_0x4135cb(0x5bc)][_0x4135cb(0x65c)]?.['db'](this['db'][_0x4135cb(0x6aa)]['DB_PREFIX_NAME']+_0x4135cb(0x673)):void 0x0,this[_0x4135cb(0x43b)]=this['redis'][_0x4135cb(0x298)]?new re(this[_0x4135cb(0x391)]):void 0x0);}async[a0_0x4d4566(0x63f)](_0x2f6303){const _0x30ad84=a0_0x4d4566;if(_0x2f6303&&!this['waInstances'][_0x2f6303])throw new F('Instance\x20\x22'+_0x2f6303+_0x30ad84(0x739));let _0x4bad6f=[];for await(let [_0x21d084,_0x2a45a6]of Object[_0x30ad84(0x3d7)](this['waInstances']))if(_0x2a45a6&&_0x2a45a6[_0x30ad84(0x4ca)][_0x30ad84(0x3b1)]===_0x30ad84(0x39f)){let _0x275848=await this[_0x30ad84(0x5bc)]['auth'][_0x30ad84(0x4df)](_0x21d084);_0x4bad6f[_0x30ad84(0x52c)]({'instance':{'instanceName':_0x21d084,'apikey':_0x275848['apikey'],'owner':_0x2a45a6[_0x30ad84(0x6bf)],'profileName':await _0x2a45a6['getProfileName']()||_0x30ad84(0x3e8),'profilePictureUrl':_0x2a45a6[_0x30ad84(0x4ad)]}});}return _0x4bad6f['find'](_0x299503=>_0x299503['instance']['instanceName']===_0x2f6303)??_0x4bad6f;}async[a0_0x4d4566(0x73e)](_0x1027eb){const _0x57ccd9=a0_0x4d4566;if(this['db'][_0x57ccd9(0x298)]&&(await this['repository']['dbServer'][_0x57ccd9(0x248)](),(await this[_0x57ccd9(0x4c1)]['collections']())['length']>0x0&&await this[_0x57ccd9(0x4c1)]['dropCollection'](_0x1027eb)),this[_0x57ccd9(0x391)]['ENABLED']){this[_0x57ccd9(0x43b)][_0x57ccd9(0x6bd)]=_0x1027eb,await this[_0x57ccd9(0x43b)]['delAll']();return;}}async[a0_0x4d4566(0x38e)](){const _0x58b1f0=a0_0x4d4566;await this['InstancesAlterarTodas']();let _0x3f9432=async _0x3376da=>{const _0x1af5df=a0_0x39b5;let _0x5145c3=new we(this['configService'],this[_0x1af5df(0x32f)],this['repository']);_0x5145c3[_0x1af5df(0x3fa)]=_0x3376da,await _0x5145c3['connectToWhatsapp'](),this[_0x1af5df(0x5e2)][_0x3376da]=_0x5145c3;};try{if(this['redis']['ENABLED']){let _0x2da730=await this[_0x58b1f0(0x43b)][_0x58b1f0(0x3dc)]();_0x2da730?.[_0x58b1f0(0x4d8)]>0x0&&_0x2da730['forEach'](async _0x311829=>await _0x3f9432(_0x311829['split'](':')[0x1]));return;}if(this['db'][_0x58b1f0(0x298)]){await this[_0x58b1f0(0x5bc)][_0x58b1f0(0x65c)]['connect']();let _0xdf8ee0=await this[_0x58b1f0(0x4c1)]['collections']();_0xdf8ee0[_0x58b1f0(0x4d8)]>0x0&&_0xdf8ee0[_0x58b1f0(0x200)](async _0x16ca69=>await _0x3f9432(_0x16ca69[_0x58b1f0(0x6c6)][_0x58b1f0(0x3ad)](/^[\w-]+\./,'')));return;}}catch(_0x23ad9c){this[_0x58b1f0(0x5cc)][_0x58b1f0(0x55a)](_0x23ad9c);}}async[a0_0x4d4566(0x2bd)](){const _0x2ebc0e=a0_0x4d4566;let _0x38cd48=await this['repository'][_0x2ebc0e(0x289)][_0x2ebc0e(0x3ff)](),_0x1b6409=_0x38cd48[_0x2ebc0e(0x4a1)](_0x24ef82=>!this[_0x2ebc0e(0x5e2)][_0x24ef82['_id']]&&(_0x24ef82[_0x2ebc0e(0x120)]||typeof _0x24ef82[_0x2ebc0e(0x120)]>'u'));_0x1b6409['length']>0x0&&await Promise[_0x2ebc0e(0x5da)](_0x1b6409['map'](async _0x57445f=>{const _0x31124a=_0x2ebc0e;let _0x540123={'online':!0x1,'lastDisconnect':Date[_0x31124a(0x43a)]()};await this[_0x31124a(0x5bc)]['auth'][_0x31124a(0x178)](_0x540123,_0x57445f[_0x31124a(0x218)]);}));let _0x41b01c=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1c96ed=_0x38cd48[_0x2ebc0e(0x4a1)](_0x17161c=>!this[_0x2ebc0e(0x5e2)][_0x17161c[_0x2ebc0e(0x218)]]&&typeof _0x17161c[_0x2ebc0e(0x613)]<'u'&&_0x17161c['lastDisconnect']<_0x41b01c);_0x1c96ed[_0x2ebc0e(0x4d8)]>0x0&&await Promise['all'](_0x1c96ed['map'](async _0x1a3b9e=>{}));}async[a0_0x4d4566(0x22e)](){const _0x5e7cb6=a0_0x4d4566;try{let _0x3551ab={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x47287c={'online':!0x1,'lastDisconnect':Date[_0x5e7cb6(0x43a)]()},_0x302ea8=await this[_0x5e7cb6(0x5bc)][_0x5e7cb6(0x289)][_0x5e7cb6(0x2b0)](_0x3551ab,_0x47287c);console[_0x5e7cb6(0x2ab)](_0x5e7cb6(0x52f)+_0x302ea8['insertCount']),await this[_0x5e7cb6(0x454)]();}catch(_0x45d0d9){console[_0x5e7cb6(0x55a)](_0x5e7cb6(0x738),_0x45d0d9);}}async['removeOlderDisconnectedInstances'](){const _0x361f7e=a0_0x4d4566;try{let _0x1338fb={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x99807f=await this[_0x361f7e(0x5bc)][_0x361f7e(0x289)][_0x361f7e(0x746)](_0x1338fb);console[_0x361f7e(0x2ab)](_0x361f7e(0x213)+_0x99807f[_0x361f7e(0x588)]);}catch(_0x497a77){console[_0x361f7e(0x55a)](_0x361f7e(0x22a),_0x497a77);}}[a0_0x4d4566(0x110)](){const _0x57ab3e=a0_0x4d4566;this[_0x57ab3e(0x32f)]['on'](_0x57ab3e(0x15d),async _0x22f2f0=>{const _0x2ac35f=_0x57ab3e;try{this[_0x2ac35f(0x5e2)][_0x22f2f0]=void 0x0;}catch{}try{this['cleaningUp'](_0x22f2f0);}finally{this[_0x2ac35f(0x5cc)][_0x2ac35f(0x2fc)]('Instance\x20\x22'+_0x22f2f0+_0x2ac35f(0x400));}});}['noConnection'](){const _0x85ffb6=a0_0x4d4566;this[_0x85ffb6(0x32f)]['on'](_0x85ffb6(0x4a8),async _0x29e035=>{const _0x441588=_0x85ffb6;try{this[_0x441588(0x5e2)][_0x29e035]=void 0x0;}catch{}try{this[_0x441588(0x73e)](_0x29e035);}finally{this[_0x441588(0x5cc)]['warn'](_0x441588(0xfb)+_0x29e035+_0x441588(0x36a));}});}},_t=class extends I{['getChatModelForOwner'](_0x440e63){return Js(_0x440e63);}async[a0_0x4d4566(0x431)](_0x2cc63b){const _0x112579=a0_0x4d4566;if(_0x2cc63b[_0x112579(0x4d8)]!==0x0)try{return{'insertCount':(await this[_0x112579(0x20e)](_0x2cc63b[0x0][_0x112579(0x697)])[_0x112579(0x3b4)]([..._0x2cc63b]))['length']};}catch(_0x1ff1d6){return _0x1ff1d6;}}async['find'](_0x137038,_0x26999d){const _0x51c885=a0_0x4d4566;try{let _0x31b410=this['getChatModelForOwner'](_0x26999d),_0x45763d=A(_0x137038[_0x51c885(0x496)]);return await _0x31b410['find'](_0x45763d)['sort']({'lastmsg':-0x1})[_0x51c885(0x635)](_0x137038?.['limit']??0x0)[_0x51c885(0x4cb)]();}catch{return[];}}async[a0_0x4d4566(0x605)](_0x3b28fd,_0x2d4d64){const _0x5b5d54=a0_0x4d4566;try{return await this[_0x5b5d54(0x20e)](_0x2d4d64)[_0x5b5d54(0x746)]({..._0x3b28fd[_0x5b5d54(0x496)]}),[];}catch(_0x3c80fb){return{'error':_0x3c80fb?.[_0x5b5d54(0x3bc)]()};}}async[a0_0x4d4566(0x513)](_0xe1d115,_0x36348a){const _0x4a375d=a0_0x4d4566;try{let _0x4bd180=this['getChatModelForOwner'](_0x36348a),_0x447087=A(_0xe1d115[_0x4a375d(0x496)]);return await _0x4bd180[_0x4a375d(0x513)](_0x447087)['lean']();}catch{return null;}}async['updateOne'](_0xd66cd7,_0x136779,_0x45cf0c,_0x57712f,_0x43ae27=a0_0x4d4566(0x238)){const _0x5839e1=a0_0x4d4566;try{let _0x2dec60={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x57712f},_0x1cdaab=this[_0x5839e1(0x20e)](_0x45cf0c),_0x4d1574=A(_0xd66cd7[_0x5839e1(0x496)]);Object[_0x5839e1(0x2d3)](_0x136779)[_0x5839e1(0x200)](_0x3df2c6=>{_0x136779[_0x3df2c6]==null&&delete _0x136779[_0x3df2c6];});let _0x4f8d87={};return _0x4f8d87[_0x43ae27]=_0x136779,await _0x1cdaab['findOneAndUpdate'](_0x4d1574,_0x4f8d87,_0x2dec60);}catch(_0x196f84){return console['error'](_0x196f84),null;}}async[a0_0x4d4566(0x20b)](_0x57c6d7){const _0x5d384d=a0_0x4d4566;try{let _0x408191=this['getChatModelForOwner'](_0x57c6d7[0x0][_0x5d384d(0x3ac)][_0x5d384d(0x496)][_0x5d384d(0x697)]),_0x412cf4=_0x57c6d7[_0x5d384d(0x5ac)](_0x245f43=>({'updateOne':{'filter':{..._0x245f43[_0x5d384d(0x3ac)][_0x5d384d(0x496)]},'update':{'$set':_0x245f43[_0x5d384d(0x70f)]}}}));return(await _0x408191[_0x5d384d(0x502)](_0x412cf4))['modifiedCount'];}catch(_0x479730){return console[_0x5d384d(0x55a)](_0x479730),0x0;}}async['updateMissingLabels'](_0x252c26){const _0x5bdf42=a0_0x4d4566;try{let _0xa7de3a=this[_0x5bdf42(0x20e)](_0x252c26),_0x1a4179={'labels':{'$exists':!0x0}},_0x362503={'$unset':{'labels':''}};return(await _0xa7de3a[_0x5bdf42(0x20b)](_0x1a4179,_0x362503))['modifiedCount'];}catch(_0x1b5738){return console[_0x5bdf42(0x55a)](_0x1b5738),0x0;}}async[a0_0x4d4566(0x6c0)](_0x23299f){const _0x52be37=a0_0x4d4566;try{let _0x18a5c1=this['getChatModelForOwner'](_0x23299f),_0x4f3d47={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3063d2={'$set':{'leadInfo.etiquetas':[]}};return(await _0x18a5c1['updateMany'](_0x4f3d47,_0x3063d2))['modifiedCount'];}catch(_0x3d7115){return console[_0x52be37(0x55a)](_0x3d7115),0x0;}}async['updateMissingTags'](_0xfb2f4f){const _0x220f6d=a0_0x4d4566;try{let _0x420d76=this['getChatModelForOwner'](_0xfb2f4f),_0x5e2309={'leadInfo.tags':{'$exists':!0x1}},_0x41ae9f={'$set':{'leadInfo.tags':[]}};return(await _0x420d76[_0x220f6d(0x20b)](_0x5e2309,_0x41ae9f))[_0x220f6d(0x6ba)];}catch(_0xc06033){return console[_0x220f6d(0x55a)](_0xc06033),0x0;}}async[a0_0x4d4566(0x27a)](_0x1c2f58){const _0x354744=a0_0x4d4566;try{let _0x524b7f=this[_0x354744(0x20e)](_0x1c2f58),_0x52c1cf={'leadInfo.customFields':{'$exists':!0x1}},_0x52ac50={'$set':{'leadInfo.customFields':[]}};return(await _0x524b7f['updateMany'](_0x52c1cf,_0x52ac50))[_0x354744(0x6ba)];}catch(_0x4c5812){return console[_0x354744(0x55a)](_0x4c5812),0x0;}}async['insertMany'](_0x12892a,_0x5ba1f5){const _0x3cd98c=a0_0x4d4566;if(!Array[_0x3cd98c(0x346)](_0x12892a)||_0x12892a[_0x3cd98c(0x4d8)]===0x0)throw new Error(_0x3cd98c(0x6f4));try{return(await this['getChatModelForOwner'](_0x5ba1f5)[_0x3cd98c(0x3b4)](_0x12892a))[_0x3cd98c(0x4d8)];}catch(_0x38f675){throw console[_0x3cd98c(0x55a)]('Erro\x20ao\x20inserir\x20chats:',_0x38f675),_0x38f675;}}async[a0_0x4d4566(0x727)](_0x3701c8,_0x525873){const _0x25ee00=a0_0x4d4566;try{await this[_0x25ee00(0x20e)](_0x525873)['deleteOne']({'_id':_0x3701c8});}catch(_0x242d3a){throw console[_0x25ee00(0x55a)](_0x25ee00(0x526),_0x242d3a),_0x242d3a;}}},Pt=class extends I{[a0_0x4d4566(0x26a)](_0x1821ac){return ua(_0x1821ac);}async[a0_0x4d4566(0x2e6)](_0x20218f,_0x16cdfd,_0x2d6552,_0x3b7c67){const _0x1f02be=a0_0x4d4566;try{let _0x930e9={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3b7c67},_0x111129=this[_0x1f02be(0x26a)](_0x2d6552),_0x1214f2=A(_0x20218f[_0x1f02be(0x496)]);return await _0x111129[_0x1f02be(0x189)](_0x1214f2,{'$set':_0x16cdfd},_0x930e9);}catch(_0x39a1d2){return console['error'](_0x39a1d2),null;}}async[a0_0x4d4566(0x4df)](_0x4e98ab,_0x17e144){const _0x3bd8be=a0_0x4d4566;try{let _0x4fdff0=this[_0x3bd8be(0x26a)](_0x17e144),_0x1e79bb=A(_0x4e98ab[_0x3bd8be(0x496)]);return await _0x4fdff0[_0x3bd8be(0x4df)](_0x1e79bb);}catch(_0x4ef915){console[_0x3bd8be(0x55a)](_0x4ef915);}}async[a0_0x4d4566(0x4b6)](_0x2b9f2c,_0x2c4baa){const _0x4092dc=a0_0x4d4566;try{let _0x53d662=this[_0x4092dc(0x26a)](_0x2c4baa),_0x451f6c=A(_0x2b9f2c[_0x4092dc(0x496)]);await _0x53d662[_0x4092dc(0x746)](_0x451f6c);}catch(_0x490d9a){console[_0x4092dc(0x55a)](_0x490d9a);}}async[a0_0x4d4566(0x605)](_0xff3e98){const _0x1e3e28=a0_0x4d4566;try{return await this[_0x1e3e28(0x26a)](_0xff3e98)[_0x1e3e28(0x117)][_0x1e3e28(0x316)](),{'success':!0x0};}catch(_0x3b39c0){return console[_0x1e3e28(0x55a)](_0x3b39c0),{'success':!0x1,'error':_0x3b39c0};}}},$t=class{constructor(_0x4ecb8b){this['waMonitor']=_0x4ecb8b;}async[a0_0x4d4566(0x4ce)]({instanceName:_0xd67d39},_0x3d3ca0){const _0x9f137d=a0_0x4d4566;return await this[_0x9f137d(0x434)][_0x9f137d(0x5e2)][_0xd67d39][_0x9f137d(0x4ce)](_0x3d3ca0);}async[a0_0x4d4566(0x368)]({instanceName:_0x2301c8},_0x8710c5){const _0xcddae6=a0_0x4d4566;return await this[_0xcddae6(0x434)]['waInstances'][_0x2301c8]['whatsappNumber'](_0x8710c5);}async['importChats']({instanceName:_0x43f054},_0x130652){const _0x420e91=a0_0x4d4566;return await this[_0x420e91(0x434)][_0x420e91(0x5e2)][_0x43f054][_0x420e91(0x136)](_0x130652);}async[a0_0x4d4566(0x2d1)]({instanceName:_0x4115b0},_0x28c375){const _0x4c21be=a0_0x4d4566;return await this['waMonitor'][_0x4c21be(0x5e2)][_0x4115b0]['markMessageAsRead'](_0x28c375);}async[a0_0x4d4566(0x1bb)]({instanceName:_0x3d1b1d},_0x4bcf46){const _0x317d01=a0_0x4d4566;return await this[_0x317d01(0x434)][_0x317d01(0x5e2)][_0x3d1b1d]['archiveChat'](_0x4bcf46);}async[a0_0x4d4566(0x25a)]({instanceName:_0xa3683c},_0x22d690){const _0x3ded3c=a0_0x4d4566;return await this['waMonitor'][_0x3ded3c(0x5e2)][_0xa3683c][_0x3ded3c(0x25a)](_0x22d690);}async[a0_0x4d4566(0x28a)]({instanceName:_0x58c627},_0x1fd7c0){const _0x34cb28=a0_0x4d4566;return await this[_0x34cb28(0x434)][_0x34cb28(0x5e2)][_0x58c627]['profilePicture'](_0x1fd7c0['number']);}async['fetchProfile']({instanceName:_0x447793},_0x1f4dba){const _0x33ddf0=a0_0x4d4566;return await this['waMonitor']['waInstances'][_0x447793][_0x33ddf0(0x50c)](_0x1f4dba[_0x33ddf0(0x43c)]);}async[a0_0x4d4566(0x131)]({instanceName:_0x587ac1},_0x274433){const _0x596a74=a0_0x4d4566;return await this[_0x596a74(0x434)][_0x596a74(0x5e2)][_0x587ac1][_0x596a74(0x131)](_0x274433);}async[a0_0x4d4566(0x747)]({instanceName:_0x28b793},_0x444242){const _0x960a1a=a0_0x4d4566;return await this[_0x960a1a(0x434)]['waInstances'][_0x28b793][_0x960a1a(0x747)](_0x444242);}async[a0_0x4d4566(0x4ff)]({instanceName:_0x3a1220},_0x25ae1a){const _0x3d138a=a0_0x4d4566;return await this[_0x3d138a(0x434)][_0x3d138a(0x5e2)][_0x3a1220][_0x3d138a(0x4ff)](_0x25ae1a);}async[a0_0x4d4566(0x287)]({instanceName:_0x32a4b1},_0x1ac8cf){const _0x4b898f=a0_0x4d4566;return await this['waMonitor'][_0x4b898f(0x5e2)][_0x32a4b1][_0x4b898f(0x287)](_0x1ac8cf);}async[a0_0x4d4566(0x11b)]({instanceName:_0x3815d7}){const _0x45c96c=a0_0x4d4566;return await this['waMonitor'][_0x45c96c(0x5e2)][_0x3815d7][_0x45c96c(0x11b)]();}async[a0_0x4d4566(0x408)]({instanceName:_0x7636d4}){const _0x45ec19=a0_0x4d4566;return await this['waMonitor'][_0x45ec19(0x5e2)][_0x7636d4][_0x45ec19(0x408)]();}async[a0_0x4d4566(0x44c)]({instanceName:_0x283c03}){const _0xa9b463=a0_0x4d4566;return await this['waMonitor'][_0xa9b463(0x5e2)][_0x283c03][_0xa9b463(0x44c)]();}async['updatePrivacySettings']({instanceName:_0x1a5ba7},_0x1221c2){const _0x2438af=a0_0x4d4566;return await this['waMonitor'][_0x2438af(0x5e2)][_0x1a5ba7][_0x2438af(0x5bd)](_0x1221c2);}async[a0_0x4d4566(0x21a)]({instanceName:_0x7b9ac9},_0x2c6221){const _0x378c2c=a0_0x4d4566;return await this[_0x378c2c(0x434)]['waInstances'][_0x7b9ac9][_0x378c2c(0x21a)](_0x2c6221[_0x378c2c(0x43c)]);}async[a0_0x4d4566(0x373)]({instanceName:_0x4e484f},_0x2d1a1c){const _0x155c8d=a0_0x4d4566;return await this[_0x155c8d(0x434)][_0x155c8d(0x5e2)][_0x4e484f][_0x155c8d(0x373)](_0x2d1a1c[_0x155c8d(0x270)]);}async['updateProfileStatus']({instanceName:_0xf690c3},_0x351ffb){const _0x13ff28=a0_0x4d4566;return await this[_0x13ff28(0x434)]['waInstances'][_0xf690c3][_0x13ff28(0x28c)](_0x351ffb[_0x13ff28(0x1d6)]);}async[a0_0x4d4566(0x486)]({instanceName:_0x3fba99},_0x572960){const _0x2ede73=a0_0x4d4566;return await this[_0x2ede73(0x434)][_0x2ede73(0x5e2)][_0x3fba99][_0x2ede73(0x486)](_0x572960[_0x2ede73(0x3f9)]);}async[a0_0x4d4566(0x50a)]({instanceName:_0x35cf4a},_0x420623){const _0x28e9a9=a0_0x4d4566;return await this[_0x28e9a9(0x434)][_0x28e9a9(0x5e2)][_0x35cf4a]['removeProfilePicture']();}},Ns=require(a0_0x4d4566(0x5af)),kt=class c{constructor(_0x45e674,_0x5c6ea7,_0x40be82,_0x5c4fd9,_0x4ec087){const _0x33be40=a0_0x4d4566;this[_0x33be40(0x434)]=_0x45e674,this[_0x33be40(0x57f)]=_0x5c6ea7,this['repository']=_0x40be82,this[_0x33be40(0x32f)]=_0x5c4fd9,this[_0x33be40(0x1f8)]=_0x4ec087,this[_0x33be40(0x5cc)]=new v(c['name']);}async[a0_0x4d4566(0x543)]({instanceName:_0x36414d,apikey:_0x12ce54,number:_0x35ba18,proxy:_0x4366aa=!0x0}){const _0x131689=a0_0x4d4566;try{let _0x99b6df=new we(this['configService'],this[_0x131689(0x32f)],this['repository']);_0x99b6df[_0x131689(0x3fa)]=_0x36414d,this[_0x131689(0x434)]['waInstances'][_0x99b6df[_0x131689(0x3fa)]]=_0x99b6df;let _0x4c39e5={};_0x12ce54?(await this[_0x131689(0x5bc)][_0x131689(0x289)][_0x131689(0x178)]({'apikey':_0x12ce54},_0x36414d),_0x4c39e5[_0x131689(0x269)]=_0x12ce54):_0x4c39e5=await this[_0x131689(0x1f8)][_0x131689(0x126)]({'instanceName':_0x99b6df[_0x131689(0x3fa)]});let _0x83c1c1;return await _0x99b6df[_0x131689(0x603)](_0x35ba18,_0x4366aa),await(0x0,Ns['delay'])(0x7d0),_0x83c1c1=_0x99b6df['qrCode'],{'instance':{'instanceName':_0x99b6df[_0x131689(0x3fa)],'status':_0x131689(0x225)},'hash':_0x4c39e5,'qrcode':_0x83c1c1};}catch(_0x57d078){this['logger']['error'](_0x57d078);}}async[a0_0x4d4566(0x573)]({instanceName:_0x20b86f,number:_0x36669b=null,proxy:_0x204c00=!0x0}){const _0x2257d9=a0_0x4d4566;try{let _0x273b51=this[_0x2257d9(0x434)][_0x2257d9(0x5e2)][_0x20b86f];switch(_0x273b51?.[_0x2257d9(0x4ca)]?.['state']){case _0x2257d9(0x17c):return await _0x273b51[_0x2257d9(0x603)](_0x36669b,_0x204c00),await(0x0,Ns[_0x2257d9(0x4b3)])(0x7d0),_0x273b51[_0x2257d9(0x447)];case'connecting':return _0x273b51['qrCode'];default:return await this[_0x2257d9(0x39a)]({'instanceName':_0x20b86f});}}catch(_0x35f949){this[_0x2257d9(0x5cc)][_0x2257d9(0x2ab)](_0x35f949);}}async[a0_0x4d4566(0x39a)]({instanceName:_0xe8dde}){const _0x4c298c=a0_0x4d4566;let _0x5880de=this['waMonitor'][_0x4c298c(0x5e2)][_0xe8dde]['connectionStatus'],_0x1c9855=null;_0x5880de[_0x4c298c(0x3b1)]===_0x4c298c(0x39f)&&_0xe8dde&&(_0x1c9855=await this[_0x4c298c(0x434)][_0x4c298c(0x63f)](_0xe8dde));let _0x3a775b=null;return _0x5880de[_0x4c298c(0x3b1)]===_0x4c298c(0x108)&&_0xe8dde&&(_0x3a775b=this[_0x4c298c(0x434)][_0x4c298c(0x5e2)][_0xe8dde][_0x4c298c(0x447)]),{'instance':_0xe8dde,'connectionStatus':_0x5880de,'instanceInfo':_0x1c9855,'qrcode':_0x3a775b};}async[a0_0x4d4566(0x23a)]({instanceName:_0x58d595}){const _0x995e04=a0_0x4d4566;try{return this[_0x995e04(0x434)][_0x995e04(0x5e2)][_0x58d595]?.[_0x995e04(0x169)]?.['ws']?.[_0x995e04(0x17c)](),{'status':_0x995e04(0x265),'error':!0x1,'response':{'message':_0x995e04(0x233)}};}catch(_0x1000c4){this[_0x995e04(0x5cc)][_0x995e04(0x55a)](_0x1000c4);}}async['fetchInstances']({instanceName:_0x45f8e7}){const _0x8629b3=a0_0x4d4566;return _0x45f8e7?this[_0x8629b3(0x434)][_0x8629b3(0x63f)](_0x45f8e7):this[_0x8629b3(0x434)][_0x8629b3(0x63f)]();}async['logout']({instanceName:_0x5afa0f}){const _0x5712a7=a0_0x4d4566;try{return await this[_0x5712a7(0x434)][_0x5712a7(0x5e2)][_0x5afa0f]?.['client']?.[_0x5712a7(0x382)](_0x5712a7(0x52b)+_0x5afa0f),{'error':!0x1,'message':_0x5712a7(0x2f2)};}catch(_0x2d2dc0){throw new O(_0x2d2dc0[_0x5712a7(0x3bc)]());}}async[a0_0x4d4566(0x5ed)]({instanceName:_0x2fea64}){const _0x3355db=a0_0x4d4566;if((await this[_0x3355db(0x39a)]({'instanceName':_0x2fea64}))[_0x3355db(0x4ca)][_0x3355db(0x3b1)]===_0x3355db(0x39f))throw new m([_0x3355db(0x73c),_0x3355db(0x71d)]);try{return delete this[_0x3355db(0x434)][_0x3355db(0x5e2)][_0x2fea64],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x36fc70){throw new m(_0x36fc70[_0x3355db(0x3bc)]());}}},Z=require('class-validator'),Lt=class{constructor(_0x26c989){this['waMonitor']=_0x26c989;}async['sendText']({instanceName:_0x52c887},_0x445fc6){return await this['waMonitor']['waInstances'][_0x52c887]['textMessage'](_0x445fc6);}async[a0_0x4d4566(0x25e)]({instanceName:_0x62263},_0x32bbcc){const _0x232fe3=a0_0x4d4566;return await this[_0x232fe3(0x434)][_0x232fe3(0x5e2)][_0x62263]['menuMessage'](_0x32bbcc);}async[a0_0x4d4566(0x19b)]({instanceName:_0x38d9c8},_0x2421ff){const _0x549578=a0_0x4d4566;if((0x0,Z[_0x549578(0x6a6)])(_0x2421ff?.['mediaMessage']?.['media'])&&!_0x2421ff?.['mediaMessage']?.['fileName'])throw new m(_0x549578(0x165));if((0x0,Z[_0x549578(0x709)])(_0x2421ff?.['mediaMessage']?.[_0x549578(0x239)])||(0x0,Z[_0x549578(0x6a6)])(_0x2421ff?.['mediaMessage']?.[_0x549578(0x239)]))return await this[_0x549578(0x434)]['waInstances'][_0x38d9c8]['mediaMessage'](_0x2421ff);throw new m(_0x549578(0x1b7));}async['sendSticker']({instanceName:_0x558656},_0x3be302){const _0x3fb4cb=a0_0x4d4566;if((0x0,Z[_0x3fb4cb(0x709)])(_0x3be302[_0x3fb4cb(0x40d)][_0x3fb4cb(0x132)])||(0x0,Z[_0x3fb4cb(0x6a6)])(_0x3be302[_0x3fb4cb(0x40d)][_0x3fb4cb(0x132)]))return await this['waMonitor'][_0x3fb4cb(0x5e2)][_0x558656][_0x3fb4cb(0x246)](_0x3be302);throw new m(_0x3fb4cb(0x1b7));}async[a0_0x4d4566(0x5e6)]({instanceName:_0x296e43},_0x47a986){const _0x260986=a0_0x4d4566;if((0x0,Z[_0x260986(0x709)])(_0x47a986[_0x260986(0x34a)][_0x260986(0x226)])||(0x0,Z['isBase64'])(_0x47a986['audioMessage'][_0x260986(0x226)]))return await this['waMonitor']['waInstances'][_0x296e43]['audioWhatsapp'](_0x47a986);throw new m(_0x260986(0x1b7));}async['sendButtons']({instanceName:_0x18d04e},_0x452ff0){const _0x20a8bf=a0_0x4d4566;if((0x0,Z[_0x20a8bf(0x6a6)])(_0x452ff0['buttonMessage'][_0x20a8bf(0x6a8)]?.[_0x20a8bf(0x239)])&&!_0x452ff0[_0x20a8bf(0x56e)][_0x20a8bf(0x6a8)]?.[_0x20a8bf(0x1ab)])throw new m(_0x20a8bf(0x165));return await this[_0x20a8bf(0x434)][_0x20a8bf(0x5e2)][_0x18d04e][_0x20a8bf(0x56e)](_0x452ff0);}async[a0_0x4d4566(0x2e2)]({instanceName:_0x10582f},_0x556755){const _0x26e28d=a0_0x4d4566;return await this[_0x26e28d(0x434)][_0x26e28d(0x5e2)][_0x10582f][_0x26e28d(0x6ab)](_0x556755);}async[a0_0x4d4566(0x6f0)]({instanceName:_0x4c6649},_0x26ec65){const _0x16856=a0_0x4d4566;return await this[_0x16856(0x434)]['waInstances'][_0x4c6649][_0x16856(0x2bf)](_0x26ec65);}async[a0_0x4d4566(0x47b)]({instanceName:_0x4ee238},_0x525527){const _0x46e7be=a0_0x4d4566;return await this[_0x46e7be(0x434)][_0x46e7be(0x5e2)][_0x4ee238][_0x46e7be(0x347)](_0x525527);}async['sendContact']({instanceName:_0x30b9f},_0xf491f0){const _0x5e111f=a0_0x4d4566;return await this[_0x5e111f(0x434)]['waInstances'][_0x30b9f][_0x5e111f(0x4be)](_0xf491f0);}async[a0_0x4d4566(0x30b)]({instanceName:_0x3652b3},_0x5e0db8){const _0x397563=a0_0x4d4566;if(!_0x5e0db8[_0x397563(0x4c9)][_0x397563(0x680)][_0x397563(0x6ae)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x397563(0x29a));return await this[_0x397563(0x434)][_0x397563(0x5e2)][_0x3652b3]['reactionMessage'](_0x5e0db8);}async[a0_0x4d4566(0x571)]({instanceName:_0x320c3e},_0x46b30c){const _0x4542c6=a0_0x4d4566;return await this['waMonitor'][_0x4542c6(0x5e2)][_0x320c3e][_0x4542c6(0x6c7)](_0x46b30c);}},Er=require(a0_0x4d4566(0x283)),Rs=require('uuid'),Ft=class c{constructor(_0x1ab806,_0x4c41fd,_0x3540e5){const _0x54a860=a0_0x4d4566;this['configService']=_0x1ab806,this[_0x54a860(0x434)]=_0x4c41fd,this['repository']=_0x3540e5,this['logger']=new v(c[_0x54a860(0x270)]);}async[a0_0x4d4566(0x5d4)](_0x497b8e){const _0x4aaa55=a0_0x4d4566;let _0x16b211=this['configService'][_0x4aaa55(0x5f2)](_0x4aaa55(0x3d4))[_0x4aaa55(0x6f6)],_0x12d0ef=(0x0,Er[_0x4aaa55(0x518)])({'instanceName':_0x497b8e[_0x4aaa55(0x3fa)],'apiName':ze,'tokenId':(0x0,Rs['v4'])()},_0x16b211[_0x4aaa55(0xf5)],{'expiresIn':_0x16b211[_0x4aaa55(0x51b)],'encoding':'utf8','subject':_0x4aaa55(0x71f)}),_0x4a2566=await this['repository'][_0x4aaa55(0x289)][_0x4aaa55(0x178)]({'jwt':_0x12d0ef},_0x497b8e[_0x4aaa55(0x3fa)]);if(_0x4a2566[_0x4aaa55(0x55a)])throw this[_0x4aaa55(0x5cc)][_0x4aaa55(0x55a)]({'localError':c[_0x4aaa55(0x270)]+_0x4aaa55(0x4fc),'error':_0x4a2566[_0x4aaa55(0x55a)]}),new m('Authentication\x20error',_0x4a2566[_0x4aaa55(0x55a)]?.[_0x4aaa55(0x3bc)]());return{'jwt':_0x12d0ef};}async[a0_0x4d4566(0x269)](_0x4db449){const _0x542a05=a0_0x4d4566;let _0x2f14c0=(0x0,Rs['v4'])()[_0x542a05(0x6db)](),_0x378476=await this[_0x542a05(0x5bc)][_0x542a05(0x289)][_0x542a05(0x178)]({'apikey':_0x2f14c0},_0x4db449[_0x542a05(0x3fa)]);if(_0x378476[_0x542a05(0x55a)])throw this[_0x542a05(0x5cc)][_0x542a05(0x55a)]({'localError':c[_0x542a05(0x270)]+_0x542a05(0x4fc),'error':_0x378476[_0x542a05(0x55a)]}),new m(_0x542a05(0x61d),_0x378476[_0x542a05(0x55a)]?.[_0x542a05(0x3bc)]());return{'apikey':_0x2f14c0};}async[a0_0x4d4566(0x126)](_0xff72cf){const _0x1e36ae=a0_0x4d4566;let _0x41900a=this[_0x1e36ae(0x57f)]['get'](_0x1e36ae(0x3d4));return await this[_0x41900a['TYPE']](_0xff72cf);}},qt=class{constructor(_0x114b18){const _0x32db87=a0_0x4d4566;this[_0x32db87(0x434)]=_0x114b18;}async[a0_0x4d4566(0x5dd)](_0x1f7b03,_0x3063af){const _0x5e91aa=a0_0x4d4566;return await this[_0x5e91aa(0x434)][_0x5e91aa(0x5e2)][_0x1f7b03[_0x5e91aa(0x3fa)]][_0x5e91aa(0x5dd)](_0x3063af);}async[a0_0x4d4566(0x4e1)](_0x549fb9,_0x1c8a76){const _0x53fbc7=a0_0x4d4566;return await this[_0x53fbc7(0x434)][_0x53fbc7(0x5e2)][_0x549fb9[_0x53fbc7(0x3fa)]][_0x53fbc7(0x4e1)](_0x1c8a76);}async[a0_0x4d4566(0x5a6)](_0x42e76e,_0x551ee1){const _0x5bf2fd=a0_0x4d4566;return await this['waMonitor'][_0x5bf2fd(0x5e2)][_0x42e76e['instanceName']]['groupDesc'](_0x551ee1);}async[a0_0x4d4566(0x631)](_0x5d1841,_0xa9f89d){const _0x2254cf=a0_0x4d4566;return await this['waMonitor'][_0x2254cf(0x5e2)][_0x5d1841['instanceName']][_0x2254cf(0x631)](_0xa9f89d);}async[a0_0x4d4566(0x243)](_0x5b5217,_0x98791e){const _0x4375d3=a0_0x4d4566;return await this[_0x4375d3(0x434)][_0x4375d3(0x5e2)][_0x5b5217[_0x4375d3(0x3fa)]]['groupSetting'](_0x98791e);}async[a0_0x4d4566(0x1ae)](_0x40d375,_0x2ea4a0){const _0xd044a9=a0_0x4d4566;return await this[_0xd044a9(0x434)][_0xd044a9(0x5e2)][_0x40d375[_0xd044a9(0x3fa)]][_0xd044a9(0x3c0)](_0x2ea4a0);}async['findGroups'](_0x5a3ff2){const _0x2a116d=a0_0x4d4566;return await this[_0x2a116d(0x434)][_0x2a116d(0x5e2)][_0x5a3ff2['instanceName']]['findGroups']();}async[a0_0x4d4566(0x62b)](_0x3a93bd,_0x19e973){const _0x5a7078=a0_0x4d4566;return await this[_0x5a7078(0x434)][_0x5a7078(0x5e2)][_0x3a93bd[_0x5a7078(0x3fa)]][_0x5a7078(0x62b)](_0x19e973);}async['joinGroup'](_0x47abc3,_0x556e4f){const _0x33dea5=a0_0x4d4566;return await this['waMonitor']['waInstances'][_0x47abc3[_0x33dea5(0x3fa)]][_0x33dea5(0x4f8)](_0x556e4f);}async[a0_0x4d4566(0x36c)](_0x4576f5,_0x29635a){const _0x4954c9=a0_0x4d4566;return await this['waMonitor'][_0x4954c9(0x5e2)][_0x4576f5['instanceName']]['revokeInviteCode'](_0x29635a);}async[a0_0x4d4566(0x147)](_0x51b038,_0x26f6e3){const _0x3d8f9a=a0_0x4d4566;return await this[_0x3d8f9a(0x434)][_0x3d8f9a(0x5e2)][_0x51b038[_0x3d8f9a(0x3fa)]]['findParticipants'](_0x26f6e3);}async['updateGParticipate'](_0x2da2ed,_0x55b479){const _0x43fea1=a0_0x4d4566;return await this['waMonitor'][_0x43fea1(0x5e2)][_0x2da2ed[_0x43fea1(0x3fa)]]['updateGParticipant'](_0x55b479);}async[a0_0x4d4566(0x31f)](_0x408952,_0x5a2d5c){const _0x4ea460=a0_0x4d4566;return await this[_0x4ea460(0x434)][_0x4ea460(0x5e2)][_0x408952['instanceName']][_0x4ea460(0x31f)](_0x5a2d5c);}async[a0_0x4d4566(0x5f0)](_0x298fbb,_0x1335e3){const _0x2537ba=a0_0x4d4566;return await this[_0x2537ba(0x434)][_0x2537ba(0x5e2)][_0x298fbb[_0x2537ba(0x3fa)]][_0x2537ba(0x5f0)](_0x1335e3);}},Ut=class{constructor(_0x3cee04){const _0x493e8c=a0_0x4d4566;this[_0x493e8c(0x434)]=_0x3cee04;}['create'](_0x345f6e,_0x447656){const _0x17bffe=a0_0x4d4566;return this[_0x17bffe(0x434)][_0x17bffe(0x5e2)][_0x345f6e[_0x17bffe(0x3fa)]][_0x17bffe(0x58e)](_0x447656);}async['find'](_0x2acedc){const _0x1f77fa=a0_0x4d4566;try{return await this[_0x1f77fa(0x434)]['waInstances'][_0x2acedc[_0x1f77fa(0x3fa)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x4d4566(0x6d1)),Jt=class{constructor(_0x3c930f){const _0x378570=a0_0x4d4566;this[_0x378570(0x434)]=_0x3c930f;}async[a0_0x4d4566(0x46e)](_0x4267c5,_0x4a3e70){const _0x27df36=a0_0x4d4566;return await this[_0x27df36(0x434)][_0x27df36(0x5e2)][_0x4267c5['instanceName']][_0x27df36(0x46e)](_0x4a3e70);}async[a0_0x4d4566(0x554)](_0x8ab743){const _0x44797b=a0_0x4d4566;return await this['waMonitor']['waInstances'][_0x8ab743[_0x44797b(0x3fa)]][_0x44797b(0x554)]();}async[a0_0x4d4566(0x6cd)](_0x35716d){const _0x281b5f=a0_0x4d4566;return await this[_0x281b5f(0x434)][_0x281b5f(0x5e2)][_0x35716d[_0x281b5f(0x3fa)]][_0x281b5f(0x6cd)]();}async['getAutomateSystem'](_0x1aea8b){const _0x2c1770=a0_0x4d4566;return await this[_0x2c1770(0x434)]['waInstances'][_0x1aea8b[_0x2c1770(0x3fa)]][_0x2c1770(0x440)]();}async['updateAgent'](_0x310de6,_0x39463f){const _0x4b58e7=a0_0x4d4566;return await this[_0x4b58e7(0x434)][_0x4b58e7(0x5e2)][_0x310de6[_0x4b58e7(0x3fa)]]['updateAgent'](_0x39463f);}async['updateCustomFields'](_0x2e02e3,_0x1bb5ae){const _0x41991b=a0_0x4d4566;return await this[_0x41991b(0x434)][_0x41991b(0x5e2)][_0x2e02e3[_0x41991b(0x3fa)]][_0x41991b(0x38d)](_0x1bb5ae);}async[a0_0x4d4566(0x371)](_0x2af878,_0xbda790){const _0x4462bd=a0_0x4d4566;return await this[_0x4462bd(0x434)][_0x4462bd(0x5e2)][_0x2af878[_0x4462bd(0x3fa)]]['updateFlowConfig'](_0xbda790);}async[a0_0x4d4566(0x2c2)](_0x105402,_0x129dd9){const _0x340a3f=a0_0x4d4566;return await this['waMonitor']['waInstances'][_0x105402[_0x340a3f(0x3fa)]][_0x340a3f(0x2c2)](_0x129dd9);}async[a0_0x4d4566(0x11a)](_0x26bddd,_0x170731){const _0x40614f=a0_0x4d4566;return await this[_0x40614f(0x434)][_0x40614f(0x5e2)][_0x26bddd[_0x40614f(0x3fa)]][_0x40614f(0x11a)](_0x170731);}async[a0_0x4d4566(0x30e)](_0x1fb06d,_0x2b52c8){const _0x4acd5b=a0_0x4d4566;return await this[_0x4acd5b(0x434)][_0x4acd5b(0x5e2)][_0x1fb06d[_0x4acd5b(0x3fa)]][_0x4acd5b(0x30e)](_0x2b52c8);}async['editConversation'](_0x45f298,_0x1b66da){const _0x50d81d=a0_0x4d4566;return await this[_0x50d81d(0x434)][_0x50d81d(0x5e2)][_0x45f298[_0x50d81d(0x3fa)]][_0x50d81d(0x650)](_0x1b66da);}async[a0_0x4d4566(0x3ca)](_0x3c6316,_0xec7c48){const _0x409eef=a0_0x4d4566;return await this['waMonitor']['waInstances'][_0x3c6316['instanceName']][_0x409eef(0x3ca)](_0xec7c48);}async[a0_0x4d4566(0x492)](_0x551b34,_0xeadff2){const _0x3b135d=a0_0x4d4566;return await this['waMonitor'][_0x3b135d(0x5e2)][_0x551b34[_0x3b135d(0x3fa)]][_0x3b135d(0x492)](_0xeadff2[_0x3b135d(0x270)]);}async[a0_0x4d4566(0x418)](_0x29ecda,_0xa04ddb){const _0x3b76d9=a0_0x4d4566;return await this[_0x3b76d9(0x434)][_0x3b76d9(0x5e2)][_0x29ecda[_0x3b76d9(0x3fa)]][_0x3b76d9(0x418)](_0xa04ddb);}async[a0_0x4d4566(0x403)](_0x532590,_0x577b2c){const _0x51a04f=a0_0x4d4566;return await this[_0x51a04f(0x434)][_0x51a04f(0x5e2)][_0x532590[_0x51a04f(0x3fa)]][_0x51a04f(0x403)](_0x577b2c);}async['editFlowBlock'](_0x1c80d7,_0xa4ef5d){const _0x3ef87a=a0_0x4d4566;return await this['waMonitor'][_0x3ef87a(0x5e2)][_0x1c80d7[_0x3ef87a(0x3fa)]]['editFlowBlock'](_0xa4ef5d);}async[a0_0x4d4566(0x1df)](_0x564986,_0x324245){const _0x2465ef=a0_0x4d4566;return await this[_0x2465ef(0x434)][_0x2465ef(0x5e2)][_0x564986[_0x2465ef(0x3fa)]][_0x2465ef(0x1df)](_0x324245);}async['editFlowGroup'](_0x41c9d6,_0x4b184d){const _0x2d964b=a0_0x4d4566;return await this[_0x2d964b(0x434)][_0x2d964b(0x5e2)][_0x41c9d6[_0x2d964b(0x3fa)]][_0x2d964b(0x4e8)](_0x4b184d);}async['editFlowCondition'](_0x1e3edb,_0x5f010b){const _0x2adee5=a0_0x4d4566;return await this[_0x2adee5(0x434)][_0x2adee5(0x5e2)][_0x1e3edb[_0x2adee5(0x3fa)]][_0x2adee5(0x3da)](_0x5f010b);}async[a0_0x4d4566(0x207)](_0xd70418,_0x41169e){const _0x578701=a0_0x4d4566;return await this[_0x578701(0x434)]['waInstances'][_0xd70418[_0x578701(0x3fa)]][_0x578701(0x207)](_0x41169e);}async[a0_0x4d4566(0x2c8)](_0x37a502,_0x1003d3){const _0x1fc08f=a0_0x4d4566;return await this['waMonitor']['waInstances'][_0x37a502['instanceName']][_0x1fc08f(0x2c8)](_0x1003d3);}async[a0_0x4d4566(0x3a7)](_0x3310c0,_0x1d383e){const _0x3017d4=a0_0x4d4566;return await this[_0x3017d4(0x434)][_0x3017d4(0x5e2)][_0x3310c0['instanceName']][_0x3017d4(0x3a7)](_0x1d383e[_0x3017d4(0x270)]);}async[a0_0x4d4566(0x661)](_0x39660f){const _0x580226=a0_0x4d4566;return await this[_0x580226(0x434)][_0x580226(0x5e2)][_0x39660f['instanceName']][_0x580226(0x661)]();}},jt=class{constructor(_0x234920){const _0x208b93=a0_0x4d4566;this[_0x208b93(0x107)]=_0x234920;}async[a0_0x4d4566(0x4fb)](_0x5c083c,_0x27201c){const _0x5576f7=a0_0x4d4566;return this[_0x5576f7(0x107)][_0x5576f7(0x178)](_0x5c083c,_0x27201c);}async[a0_0x4d4566(0x129)](_0xb249e6){const _0x4cf520=a0_0x4d4566;return this[_0x4cf520(0x107)]['find'](_0xb249e6);}},Vt=class extends I{constructor(_0x520db5,_0x588f9d){const _0x1fdd58=a0_0x4d4566;super(_0x588f9d),this[_0x1fdd58(0x510)]=_0x520db5,this['configService']=_0x588f9d;}async[a0_0x4d4566(0x178)](_0x1120a1,_0x1398d3){const _0x3ad1a6=a0_0x4d4566;try{return this[_0x3ad1a6(0x2ec)]['ENABLED']?{'insertCount':(await this[_0x3ad1a6(0x510)][_0x3ad1a6(0x506)]({'_id':_0x1398d3},{..._0x1120a1},{'upsert':!0x0}))[_0x3ad1a6(0x6ba)]}:{'insertCount':0x1};}catch(_0x2aae2f){return _0x2aae2f;}}async[a0_0x4d4566(0x4b6)](_0x5adfa0){const _0x26516b=a0_0x4d4566;try{if(this[_0x26516b(0x2ec)][_0x26516b(0x298)]){await this[_0x26516b(0x510)][_0x26516b(0x4a3)]({'_id':_0x5adfa0});return;}}catch(_0x372956){return{'error':_0x372956};}}async[a0_0x4d4566(0x4df)](_0x1c72b2){const _0xd8b62=a0_0x4d4566;try{if(this['dbSettings'][_0xd8b62(0x298)])return await this[_0xd8b62(0x510)]['findOne']({'_id':_0x1c72b2});}catch{return{};}}},Bt=class extends I{constructor(_0x214d0f,_0x33761e){const _0x1db00c=a0_0x4d4566;super(_0x33761e),this[_0x1db00c(0x5f6)]=_0x214d0f,this['configService']=_0x33761e,this[_0x1db00c(0x289)]=_0x33761e[_0x1db00c(0x5f2)](_0x1db00c(0x3d4));}async['create'](_0x165de6,_0xfe31e){const _0x2a2c3a=a0_0x4d4566;try{if(this[_0x2a2c3a(0x2ec)][_0x2a2c3a(0x298)])return{'insertCount':(await this[_0x2a2c3a(0x5f6)][_0x2a2c3a(0x2e6)]({'_id':_0xfe31e},{'$set':{..._0x165de6}},{'upsert':!0x0}))[_0x2a2c3a(0x6ba)]};}catch(_0x5843a5){return{'error':_0x5843a5};}}async[a0_0x4d4566(0x2b0)](_0x5afc7d,_0x5e50e4){const _0x17eb11=a0_0x4d4566;try{if(this[_0x17eb11(0x2ec)][_0x17eb11(0x298)])return{'insertCount':(await this[_0x17eb11(0x5f6)]['updateMany'](_0x5afc7d,{'$set':_0x5e50e4},{'upsert':!0x1}))[_0x17eb11(0x6ba)]};throw new Error(_0x17eb11(0x273));}catch(_0x56c6de){return{'error':_0x56c6de};}}async['deleteMany'](_0xbf9ddf){const _0x542cc6=a0_0x4d4566;try{if(this[_0x542cc6(0x2ec)][_0x542cc6(0x298)])return{'insertCount':(await this[_0x542cc6(0x5f6)][_0x542cc6(0x746)](_0xbf9ddf))[_0x542cc6(0x300)]};throw new Error(_0x542cc6(0x273));}catch(_0x37faa5){return{'error':_0x37faa5};}}async[a0_0x4d4566(0x4b6)](_0x37d39b){const _0x5b9545=a0_0x4d4566;try{if(this['dbSettings'][_0x5b9545(0x298)]){await this['authModel'][_0x5b9545(0x4a3)]({'_id':_0x37d39b});return;}}catch(_0x276914){return{'error':_0x276914};}}async[a0_0x4d4566(0x4df)](_0x3df278){const _0x28ffcc=a0_0x4d4566;try{if(this['dbSettings'][_0x28ffcc(0x298)])return await this[_0x28ffcc(0x5f6)][_0x28ffcc(0x513)]({'_id':_0x3df278});}catch{return{};}}async['findAll'](){const _0x36ec84=a0_0x4d4566;try{if(this['dbSettings'][_0x36ec84(0x298)])return await this[_0x36ec84(0x5f6)][_0x36ec84(0x4df)]();}catch{return[];}}},Gt=class extends I{[a0_0x4d4566(0x6dd)](_0x193d5f){return ta(_0x193d5f);}async['copyDataToNewModel'](_0x126538){const _0x144f06=a0_0x4d4566;try{let _0x9cb8a6=sa,_0x4e2fac=this['getFlowModelForOwner'](_0x126538),_0x4ac272=await _0x9cb8a6[_0x144f06(0x4df)]({'owner':_0x126538})[_0x144f06(0x4cb)](),_0x5d497f=[],_0x508158=[];for(let _0x5e3d44 of _0x4ac272)await _0x4e2fac[_0x144f06(0x34e)](_0x5e3d44['_id'])['lean']()||(_0x5d497f[_0x144f06(0x52c)](_0x5e3d44),_0x508158[_0x144f06(0x52c)](_0x5e3d44[_0x144f06(0x218)]));return _0x5d497f[_0x144f06(0x4d8)]>0x0&&await _0x4e2fac[_0x144f06(0x3b4)](_0x5d497f,{'ordered':!0x1}),{'success':!0x0};}catch(_0x151713){return console[_0x144f06(0x55a)](_0x144f06(0x317),_0x151713),{'success':!0x1,'error':_0x151713};}}async['delete'](_0x30fc89,_0x59e065){const _0xdec9cb=a0_0x4d4566;try{let _0x3021f5=this['getFlowModelForOwner'](_0x59e065),_0x33ad67=A(_0x30fc89['where']);return{'deletedCount':(await _0x3021f5[_0xdec9cb(0x746)](_0x33ad67))[_0xdec9cb(0x300)]};}catch(_0xdb3202){return{'error':_0xdb3202?.['toString']()};}}async[a0_0x4d4566(0x4a3)](_0x8944e7,_0x25504f){const _0x5d740f=a0_0x4d4566;try{let _0x4a9f8c=this[_0x5d740f(0x6dd)](_0x25504f),_0x3db19a=A(_0x8944e7[_0x5d740f(0x496)]);return{'deletedCount':(await _0x4a9f8c[_0x5d740f(0x4a3)](_0x3db19a))[_0x5d740f(0x300)]};}catch(_0x41345a){return{'error':_0x41345a?.[_0x5d740f(0x3bc)]()};}}async['updateOne'](_0x1ba3e1,_0x30fc3d,_0x56c285){const _0x48e217=a0_0x4d4566;try{return await this[_0x48e217(0x6dd)](_0x56c285)['findByIdAndUpdate'](_0x1ba3e1,_0x30fc3d,{'new':!0x0});}catch(_0x4f8224){return console[_0x48e217(0x55a)](_0x48e217(0x416),_0x4f8224),null;}}async['createAndSave'](_0x2c8679,_0xfdd2a){const _0x5f055f=a0_0x4d4566;try{let _0x3f40c5=this[_0x5f055f(0x6dd)](_0xfdd2a);return await new _0x3f40c5(_0x2c8679)['save']();}catch(_0x5cff4a){return console[_0x5f055f(0x55a)](_0x5f055f(0x6fe),_0x5cff4a),null;}}async['updateMany'](_0x43ebae,_0x5379e4,_0x156540){const _0x3bf858=a0_0x4d4566;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x156540)[_0x3bf858(0x20b)](_0x43ebae,{'$set':_0x5379e4}))['modifiedCount']};}catch(_0x75644d){return console[_0x3bf858(0x55a)](_0x3bf858(0x3aa),_0x75644d),{'error':_0x75644d};}}async[a0_0x4d4566(0x3ff)](_0xb51d3d,_0x251539){const _0x1048eb=a0_0x4d4566;try{let _0x188e0d=this[_0x1048eb(0x6dd)](_0x251539),_0x4c2121=A(_0xb51d3d['where']);return await _0x188e0d[_0x1048eb(0x4df)](_0x4c2121)['limit'](_0xb51d3d?.[_0x1048eb(0x635)]??0x0)[_0x1048eb(0x4cb)]();}catch{return[];}}async['findOne'](_0x1ac7ef,_0x47c372){const _0x28b481=a0_0x4d4566;try{let _0x594f76=this[_0x28b481(0x6dd)](_0x47c372),_0xe873db=A(_0x1ac7ef['where']);return await _0x594f76[_0x28b481(0x513)](_0xe873db)[_0x28b481(0x4cb)]();}catch{return null;}}async[a0_0x4d4566(0x605)](_0x6dd53b){const _0x21eb35=a0_0x4d4566;try{return await this['getFlowModelForOwner'](_0x6dd53b)[_0x21eb35(0x117)]['drop'](),{'success':!0x0};}catch(_0x23b1ce){return console[_0x21eb35(0x55a)](_0x23b1ce),{'success':!0x1,'error':_0x23b1ce};}}},Wt=class extends I{['getConversationModelForOwner'](_0x51b407){return ra(_0x51b407);}async[a0_0x4d4566(0x177)](_0x16fc55){const _0x32a8ab=a0_0x4d4566;try{let _0xbfa18a=oa,_0x52bf0b=this['getConversationModelForOwner'](_0x16fc55),_0x3f2a07=await _0xbfa18a[_0x32a8ab(0x4df)]({'owner':_0x16fc55})['lean'](),_0x2d255b=[],_0x21eb5e=[];for(let _0x5b5000 of _0x3f2a07)await _0x52bf0b[_0x32a8ab(0x34e)](_0x5b5000[_0x32a8ab(0x218)])[_0x32a8ab(0x4cb)]()||(_0x2d255b[_0x32a8ab(0x52c)](_0x5b5000),_0x21eb5e[_0x32a8ab(0x52c)](_0x5b5000[_0x32a8ab(0x218)]));return _0x2d255b[_0x32a8ab(0x4d8)]>0x0&&await _0x52bf0b[_0x32a8ab(0x3b4)](_0x2d255b,{'ordered':!0x1}),{'success':!0x0};}catch(_0x55f7af){return console[_0x32a8ab(0x55a)](_0x32a8ab(0x317),_0x55f7af),{'success':!0x1,'error':_0x55f7af};}}async[a0_0x4d4566(0x431)](_0x2a3c1f){const _0xefc77b=a0_0x4d4566;if(_0x2a3c1f[_0xefc77b(0x4d8)]!==0x0)try{return{'insertCount':(await this[_0xefc77b(0x277)](_0x2a3c1f[0x0][_0xefc77b(0x697)])[_0xefc77b(0x3b4)]([..._0x2a3c1f]))[_0xefc77b(0x4d8)]};}catch(_0x1dd481){return _0x1dd481;}}async['delete'](_0x2036fd,_0x3b5937){const _0x436b09=a0_0x4d4566;try{let _0x5a076e=this[_0x436b09(0x277)](_0x3b5937),_0x179d40=A(_0x2036fd[_0x436b09(0x496)]);return{'deletedCount':(await _0x5a076e['deleteMany'](_0x179d40))['deletedCount']};}catch(_0x35555c){return{'error':_0x35555c?.[_0x436b09(0x3bc)]()};}}async['deleteOne'](_0x5b6cdd,_0x28e116){const _0x4a3e29=a0_0x4d4566;try{let _0x4b9816=this[_0x4a3e29(0x277)](_0x28e116),_0x4415cd=A(_0x5b6cdd[_0x4a3e29(0x496)]);return{'deletedCount':(await _0x4b9816[_0x4a3e29(0x4a3)](_0x4415cd))[_0x4a3e29(0x300)]};}catch(_0x5487cc){return{'error':_0x5487cc?.[_0x4a3e29(0x3bc)]()};}}async['update'](_0x45e0fc,_0x10cc24){const _0x5ee8b4=a0_0x4d4566;try{if(_0x45e0fc['length']===0x0)return;let _0x47f0eb=this[_0x5ee8b4(0x277)](_0x10cc24),_0x506990=_0x45e0fc[_0x5ee8b4(0x5ac)](_0x55a840=>({'updateOne':{'filter':{'name':_0x55a840['name'],'owner':_0x10cc24},'update':{..._0x55a840}}})),{modifiedCount:_0x308aa0}=await _0x47f0eb[_0x5ee8b4(0x502)](_0x506990);return{'insertCount':_0x308aa0};}catch{return;}}async[a0_0x4d4566(0x20b)](_0x5f5c54,_0x4a7d09,_0x10d426){const _0x14b989=a0_0x4d4566;try{return{'modifiedCount':(await this[_0x14b989(0x277)](_0x10d426)[_0x14b989(0x20b)](_0x5f5c54,{'$set':_0x4a7d09}))[_0x14b989(0x6ba)]};}catch(_0x3fe66f){return console['error'](_0x14b989(0x59b),_0x3fe66f),{'error':_0x3fe66f};}}async[a0_0x4d4566(0x2e6)](_0x27e6f2,_0xec4413,_0x50e14d){const _0x561f85=a0_0x4d4566;try{return await this[_0x561f85(0x277)](_0x50e14d)[_0x561f85(0x189)]({'_id':_0x27e6f2},{'$set':_0xec4413},{'new':!0x0,'upsert':!0x0})[_0x561f85(0x4cb)]();}catch(_0x5998da){return console['error'](_0x5998da),null;}}async[a0_0x4d4566(0x4df)](_0x31a677,_0x2b838c){const _0x41a6ef=a0_0x4d4566;try{return await this[_0x41a6ef(0x277)](_0x2b838c)[_0x41a6ef(0x4df)](_0x31a677)[_0x41a6ef(0x65b)]({'lastInteraction':-0x1})[_0x41a6ef(0x4cb)]();}catch{return[];}}async[a0_0x4d4566(0x513)](_0x5ef9f0,_0x4e3898){const _0x4ede85=a0_0x4d4566;try{return await this[_0x4ede85(0x277)](_0x4e3898)[_0x4ede85(0x513)]({..._0x5ef9f0['where']})[_0x4ede85(0x4cb)]();}catch{return null;}}async[a0_0x4d4566(0x605)](_0x168832){const _0xdfd8ae=a0_0x4d4566;try{return await this[_0xdfd8ae(0x277)](_0x168832)['collection'][_0xdfd8ae(0x316)](),{'success':!0x0};}catch(_0x18b34c){return console[_0xdfd8ae(0x55a)](_0x18b34c),{'success':!0x1,'error':_0x18b34c};}}},zt=class extends I{[a0_0x4d4566(0x103)](_0x386e71){return na(_0x386e71);}async[a0_0x4d4566(0x177)](_0x2feea1){const _0x2b56aa=a0_0x4d4566;try{let _0x3718af=ca,_0x2c8768=this[_0x2b56aa(0x103)](_0x2feea1),_0x1901f2=await _0x3718af[_0x2b56aa(0x4df)]({'owner':_0x2feea1})['lean'](),_0x26c7ab=[],_0x469af7=[];for(let _0x1a7c50 of _0x1901f2)await _0x2c8768['findById'](_0x1a7c50[_0x2b56aa(0x218)])['lean']()||(_0x26c7ab['push'](_0x1a7c50),_0x469af7['push'](_0x1a7c50['_id']));return _0x26c7ab[_0x2b56aa(0x4d8)]>0x0&&await _0x2c8768[_0x2b56aa(0x3b4)](_0x26c7ab,{'ordered':!0x1}),{'success':!0x0};}catch(_0xd38dc4){return console['error'](_0x2b56aa(0x317),_0xd38dc4),{'success':!0x1,'error':_0xd38dc4};}}async['createAndSave'](_0x134ff0,_0x23cb53){const _0x5ace5d=a0_0x4d4566;try{let _0xe553c7=this[_0x5ace5d(0x103)](_0x23cb53);return await new _0xe553c7(_0x134ff0)['save']();}catch(_0x48c19e){return console['error'](_0x5ace5d(0x6fe),_0x48c19e),null;}}async['deleteOne'](_0x3aa792,_0x1b76de){const _0x1bedfc=a0_0x4d4566;try{return await this[_0x1bedfc(0x103)](_0x1b76de)['findByIdAndDelete'](_0x3aa792),{};}catch(_0x2daf94){return{'error':_0x2daf94?.['toString']()};}}async[a0_0x4d4566(0x2e6)](_0x588ff6,_0xde51be,_0x3fcc40){const _0x1eb512=a0_0x4d4566;try{return await this[_0x1eb512(0x103)](_0x3fcc40)['findOneAndUpdate'](_0x588ff6,{'$set':_0xde51be},{'new':!0x0})['lean']();}catch(_0xe78a5f){return console['error'](_0x1eb512(0x483),_0xe78a5f),null;}}async['updateOneById'](_0x31d117,_0x100592,_0x273e77){const _0x51d185=a0_0x4d4566;try{return await this[_0x51d185(0x103)](_0x273e77)[_0x51d185(0x175)](_0x31d117,_0x100592,{'new':!0x0})[_0x51d185(0x4cb)]();}catch(_0x13dd6e){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x13dd6e),null;}}async[a0_0x4d4566(0x4df)](_0x3d4353,_0x5b92b6){const _0x485506=a0_0x4d4566;try{return await this['getScheduleMessageModelForOwner'](_0x5b92b6)[_0x485506(0x4df)](_0x3d4353[_0x485506(0x496)])[_0x485506(0x635)](_0x3d4353?.[_0x485506(0x635)]??0x0)[_0x485506(0x65b)]({'when':0x1})[_0x485506(0x4cb)]();}catch{return[];}}async[a0_0x4d4566(0x513)](_0x487424,_0x511ea3){const _0xbb96b9=a0_0x4d4566;try{return await this[_0xbb96b9(0x103)](_0x511ea3)[_0xbb96b9(0x513)](_0x487424[_0xbb96b9(0x496)])['sort']({'when':0x1})[_0xbb96b9(0x4cb)]();}catch{return null;}}async['findById'](_0x507c3c,_0x5b53fc){const _0x3045f3=a0_0x4d4566;try{return await this[_0x3045f3(0x103)](_0x5b53fc)[_0x3045f3(0x34e)](_0x507c3c)[_0x3045f3(0x4cb)]();}catch{return null;}}async[a0_0x4d4566(0x746)](_0xea9b0,_0x5d1cad){const _0x285e18=a0_0x4d4566;try{return{'deletedCount':(await this[_0x285e18(0x103)](_0x5d1cad)[_0x285e18(0x746)](_0xea9b0))[_0x285e18(0x300)]};}catch(_0x446275){return console[_0x285e18(0x55a)](_0x285e18(0x2ea),_0x446275),{'error':_0x446275};}}async[a0_0x4d4566(0x605)](_0x38e5d6){const _0xcc09bb=a0_0x4d4566;try{return await this[_0xcc09bb(0x103)](_0x38e5d6)[_0xcc09bb(0x117)]['drop'](),{'success':!0x0};}catch(_0x2b86f9){return console[_0xcc09bb(0x55a)](_0x2b86f9),{'success':!0x1,'error':_0x2b86f9};}}},Ht=class extends I{async[a0_0x4d4566(0x70f)](_0x15fb83,_0xdda227){const _0x195b5b=a0_0x4d4566;try{if(this[_0x195b5b(0x2ec)][_0x195b5b(0x298)]){let _0x3b5046=await Pe['findOneAndUpdate']({'_id':_0xdda227},{'$set':_0x15fb83},{'new':!0x0});return console['log'](_0x195b5b(0x4f3),_0x3b5046),_0x3b5046;}}catch(_0x12bfcf){throw console[_0x195b5b(0x55a)](_0x195b5b(0x404),_0x12bfcf),_0x12bfcf;}}async['findOrCreate'](_0x1f0dcd){const _0x29b455=a0_0x4d4566;try{let _0x344d83=await Pe[_0x29b455(0x34e)](_0x1f0dcd);return _0x344d83||(_0x344d83=new Pe({'_id':_0x1f0dcd}),await _0x344d83['save']()),_0x344d83;}catch(_0x7b97e5){return console[_0x29b455(0x55a)](_0x29b455(0x46c),_0x7b97e5),null;}}},wo=new v(a0_0x4d4566(0x466)),bo=new Le(b),So=new _t(b),Eo=new Qe(b),Co=new Vt(Qs,b),Mo=new Bt(zs,b),vo=new Gt(b),No=new Pt(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),ce=new $e(bo,So,Eo,Co,Mo,vo,Ro,No,To,Ao,N?.[a0_0x4d4566(0x743)]()),B=new xt(es,b,ce),Oo=new Ft(b,B,ce),Io=new Ut(B),gs=new jt(Io),T=new Jt(B),le=new kt(B,b,ce,es,Oo),G=new Lt(B),D=new $t(B),U=new qt(B);wo[a0_0x4d4566(0x538)](a0_0x4d4566(0x580));var gg=require(a0_0x4d4566(0x6d0)),Ts=require('fs'),Cr=R(require(a0_0x4d4566(0x390))),Mr=R(require(a0_0x4d4566(0x59c))),Ne=class c{static #e;static set[a0_0x4d4566(0x551)](_0x3ea920){this.#e=_0x3ea920;}static get['https'](){const _0x5ed924=a0_0x4d4566;let {FULLCHAIN:_0x3d7c70,PRIVKEY:_0x3fd735}=b[_0x5ed924(0x5f2)](_0x5ed924(0x369));return Cr[_0x5ed924(0x2f1)]({'cert':(0x0,Ts[_0x5ed924(0x64b)])(_0x3d7c70),'key':(0x0,Ts['readFileSync'])(_0x3fd735)},c.#e);}static get['http'](){return Mr['createServer'](c.#e);}},de=R(require('fs')),Or=R(require('ini')),Re=R(require(a0_0x4d4566(0x4d1))),Ae=R(require(a0_0x4d4566(0x4b0))),Oe=require(a0_0x4d4566(0x6d9));function Do(){const _0x43c762=a0_0x4d4566;B['loadInstance']();let _0x29812=Ae[_0x43c762(0x10e)]['join'](__dirname,_0x43c762(0x3ea));Ar(_0x29812);}var Ar=_0xb879cb=>{const _0x4e0e3c=a0_0x4d4566;let _0x4e497b=de[_0x4e0e3c(0x10e)]['readdirSync'](_0xb879cb),_0x185971=0xc*0x3c*0x3c*0x3e8,_0x58637b=0x2*0x3c*0x3c*0x3e8,_0x4008a7=new Date()[_0x4e0e3c(0x2d2)]();_0x4e497b[_0x4e0e3c(0x200)](_0x30afae=>{const _0x4bbabb=_0x4e0e3c;let _0x3781bc=Ae['default']['join'](_0xb879cb,_0x30afae),_0x1c1fc5=de[_0x4bbabb(0x10e)][_0x4bbabb(0x1d9)](_0x3781bc)[_0x4bbabb(0x3f6)][_0x4bbabb(0x2d2)]();_0x4008a7-_0x1c1fc5>_0x185971&&(de[_0x4bbabb(0x10e)][_0x4bbabb(0x4bf)](_0x3781bc),console[_0x4bbabb(0x2ab)](_0x4bbabb(0x69b)+_0x30afae));}),setTimeout(()=>Ar(_0xb879cb),_0x58637b);};function xo(){const _0x49a0c0=a0_0x4d4566;let _0x379aa6=new v(_0x49a0c0(0x561)),_0x24ff4b=(0x0,pe[_0x49a0c0(0x10e)])();_0x24ff4b[_0x49a0c0(0x6de)]((0x0,Tr[_0x49a0c0(0x10e)])({'origin'(_0x19ef15,_0x59397d){const _0x3ebd53=_0x49a0c0;let {ORIGIN:_0x48e361}=b['get'](_0x3ebd53(0x210));return _0x19ef15||(_0x19ef15='*'),_0x48e361['indexOf']('*')!==-0x1||_0x48e361[_0x3ebd53(0x320)](_0x19ef15)!==-0x1?_0x59397d(null,!0x0):_0x59397d(new Error(_0x3ebd53(0x6a5)));},'methods':[...b[_0x49a0c0(0x5f2)](_0x49a0c0(0x210))['METHODS']],'credentials':b[_0x49a0c0(0x5f2)](_0x49a0c0(0x210))[_0x49a0c0(0x52a)]}),(0x0,pe[_0x49a0c0(0x490)])({'extended':!0x0,'limit':_0x49a0c0(0x324)}),(0x0,pe[_0x49a0c0(0x498)])({'limit':_0x49a0c0(0x324)})),_0x24ff4b[_0x49a0c0(0x6de)]((_0x1d31b8,_0x37ad5e,_0x4ca25e)=>{const _0x5ecda6=_0x49a0c0;_0x1d31b8['path'][_0x5ecda6(0x2d7)](_0x5ecda6(0x721))?_0x4ca25e():(0x0,Rr['default'])()(_0x1d31b8,_0x37ad5e,_0x4ca25e);}),_0x24ff4b[_0x49a0c0(0x4b4)]('view\x20engine',_0x49a0c0(0x667)),_0x24ff4b[_0x49a0c0(0x4b4)]('views',(0x0,Os[_0x49a0c0(0x3f7)])(ae,_0x49a0c0(0x648))),_0x24ff4b[_0x49a0c0(0x6de)](pe[_0x49a0c0(0x10e)][_0x49a0c0(0x1a8)]((0x0,Os[_0x49a0c0(0x3f7)])(ae,_0x49a0c0(0x329)))),_0x24ff4b[_0x49a0c0(0x6de)]((_0x124bd3,_0x59b56e,_0x244afd)=>{const _0x478e41=_0x49a0c0;let _0x3c2128=_0x59b56e[_0x478e41(0x4ee)];_0x59b56e[_0x478e41(0x4ee)]=function(_0x4fd7e2){const _0x493019=_0x478e41;if(_0x124bd3[_0x493019(0x3ac)]['convert']==='true'||_0x124bd3['headers'][_0x493019(0x25d)]===_0x493019(0x55f)){let _0x45d2ac=JSON[_0x493019(0x330)](_0x4fd7e2);_0x4fd7e2=JSON[_0x493019(0x4a7)](_0x2ea5bb(_0x45d2ac));}return _0x3c2128[_0x493019(0x2f3)](_0x59b56e,[_0x4fd7e2]);},_0x244afd();}),_0x24ff4b[_0x49a0c0(0x6de)]('/',vt),_0x24ff4b['use']((_0x19c045,_0x271988,_0x1baccf,_0x2dce70)=>{const _0x59b4c0=_0x49a0c0;if(_0x19c045)return _0x1baccf[_0x59b4c0(0x1d6)](_0x19c045['status']||0x1f4)[_0x59b4c0(0x498)](_0x19c045);},(_0x385322,_0x1658b5,_0x57c61d)=>{const _0x560c4c=_0x49a0c0;let {method:_0xfbcf80,url:_0x4352fb}=_0x385322;_0x1658b5[_0x560c4c(0x1d6)](0x194)[_0x560c4c(0x498)]({'status':0x194,'message':_0x560c4c(0x6e8)+_0xfbcf80[_0x560c4c(0x6db)]()+'\x20'+_0x4352fb,'error':_0x560c4c(0x349)}),_0x57c61d();});let _0x2ea5bb=(_0x22fa46,_0x571b96='_p_')=>{const _0x1a9a8d=_0x49a0c0;let _0x3b1697=(_0x222560,_0xe22211=null,_0x1e021c=!0x1)=>{const _0x8bd6b2=a0_0x39b5;let _0x638c7a={};return Object[_0x8bd6b2(0x2d3)](_0x222560)[_0x8bd6b2(0x200)](_0x1a7713=>{const _0x299ff2=_0x8bd6b2;let _0x3199be=_0x222560[_0x1a7713],_0x1d02b2=''+_0x571b96+_0x1a7713;_0xe22211&&!_0x1e021c&&(_0x1d02b2=_0xe22211+'.'+_0x1a7713),!_0x3199be&&_0x3199be!==0x0&&_0x3199be!==!0x1||typeof _0x3199be>'u'?_0x638c7a[_0x1d02b2]=null:typeof _0x3199be!='object'&&!Array[_0x299ff2(0x346)](_0x3199be)?_0x638c7a[_0x1d02b2]=_0x3199be:typeof _0x3199be==_0x299ff2(0x252)&&!Array[_0x299ff2(0x346)](_0x3199be)?_0x638c7a=Object[_0x299ff2(0x3cd)](_0x638c7a,_0x3b1697(_0x3199be,_0x1d02b2)):Array[_0x299ff2(0x346)](_0x3199be)&&(typeof _0x3199be[0x0]==_0x299ff2(0x252)?(_0x638c7a[_0x1d02b2]=[],_0x3199be[_0x299ff2(0x200)](_0x5d3f34=>{const _0x117e4b=_0x299ff2;_0x638c7a[_0x1d02b2][_0x117e4b(0x52c)](_0x3b1697(_0x5d3f34,_0x1d02b2,!0x0));})):_0x638c7a[_0x1d02b2]=_0x3199be);}),_0x638c7a;};return Array[_0x1a9a8d(0x346)](_0x22fa46)?_0x22fa46[_0x1a9a8d(0x5ac)](_0x6e623b=>_0x3b1697(_0x6e623b)):typeof _0x22fa46=='object'&&_0x22fa46!==null?_0x3b1697(_0x22fa46):{};},_0x386b5b=b[_0x49a0c0(0x5f2)]('SERVER');Ne[_0x49a0c0(0x551)]=_0x24ff4b;let _0x3492e4=Ne[_0x386b5b[_0x49a0c0(0x5c3)]],_0x26e085='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x3492e4[_0x49a0c0(0x6b0)](_0x386b5b[_0x49a0c0(0x2ce)],()=>{const _0x3ef882=_0x49a0c0;_0x379aa6[_0x3ef882(0x2ab)](_0x26e085),_0x379aa6['log'](_0x386b5b[_0x3ef882(0x5c3)]['toUpperCase']()+_0x3ef882(0x6c9)+_0x386b5b[_0x3ef882(0x2ce)]);}),Do(),qs();}var _o='https://github.com/uazapi/uazapi.git',Po=Ae['default'][a0_0x4d4566(0x3f7)](__dirname,a0_0x4d4566(0x3a9)),Te=null;function $o(){return new Promise((_0xe75e75,_0x28f935)=>{const _0x5d8088=a0_0x39b5;de[_0x5d8088(0x10e)]['readFile'](Po,_0x5d8088(0x517),(_0x51d217,_0x5d24ba)=>{const _0x1c2a2b=_0x5d8088;if(_0x51d217){Te=_0x51d217,_0xe75e75();return;}Or['default'][_0x1c2a2b(0x330)](_0x5d24ba)[_0x1c2a2b(0x209)][_0x1c2a2b(0x46f)]===_o?(Te=null,_0xe75e75()):(Te=new Error(_0x1c2a2b(0x1b5)),_0xe75e75());});});}async function ko(){const _0x25b116=a0_0x4d4566;try{await $o(),await Is();}catch(_0x4c059e){console['error'](_0x25b116(0x505)+_0x4c059e),process['exit'](0x1);}}ko();async function Ir(){const _0x3b4605=a0_0x4d4566;let _0x2d3cb5;try{_0x2d3cb5=(await Re[_0x3b4605(0x10e)]['get']('https://jsonip.com'))[_0x3b4605(0x340)]['ip'];}catch(_0x468bb2){console[_0x3b4605(0x55a)](_0x468bb2);try{_0x2d3cb5=(await Re[_0x3b4605(0x10e)][_0x3b4605(0x5f2)]('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0xfdaf20){console[_0x3b4605(0x55a)](_0xfdaf20);try{_0x2d3cb5=(await Re[_0x3b4605(0x10e)]['get']('http://checkip.dyndns.org'))[_0x3b4605(0x340)][_0x3b4605(0x6ae)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x9589a2){return console[_0x3b4605(0x55a)](_0x9589a2),!0x1;}}}return _0x2d3cb5;}var vr=0x0;function a0_0x39b5(_0x21f40d,_0x58a242){const _0x1e9f67=a0_0x1e9f();return a0_0x39b5=function(_0x39b563,_0x235e84){_0x39b563=_0x39b563-0xf2;let _0x42a51d=_0x1e9f67[_0x39b563];return _0x42a51d;},a0_0x39b5(_0x21f40d,_0x58a242);}async function Lo(){const _0xe555d6=a0_0x4d4566;let _0xb791ed=await new re(b[_0xe555d6(0x5f2)](_0xe555d6(0x143)))['instanceKeys']();return console[_0xe555d6(0x2ab)]('instancias:\x20',_0xb791ed[_0xe555d6(0x4d8)]),_0xb791ed[_0xe555d6(0x4d8)];}function a0_0x1e9f(){const _0x561ba6=['isBusiness','cpf',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','noConnection','):\x20Usando\x20extensão\x20padrão:\x20','value','QRCODE_UPDATED','CORS_METHODS','sort','dbServer','demote',',\x20Resultado:\x20','):\x20Criou\x20conversa\x20no\x20startFlow:','Error\x20updating\x20setting','allFlows','Rótulo\x20atualizado:','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','ON\x20-\x20dbName:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','removeData','hbs','):\x20conversation.waitingMenu_name','protocol','quotedMessage','from','resetReconnectionVariables','Image\x20is\x20url','460410sumanJ','STORE','locked','DOCKER_ENV','No\x20join\x20group\x20invite\x20code\x20or\x20url','-instances','readMessageBot','Rótulo\x20deletado:','unknown\x20operation\x20type\x20[','Validate','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','mediatype','DEBUG','start','getProfileName','/create','Número:\x20','Error\x20in\x20chatModify\x20for\x20number\x20','reaction','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):\x20Query\x20params:\x20','Primeiro\x20Valor:\x20','text','last','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','count','STATUS_INSTANCE','firstValue','markMessageAsRead','ReplyOption\x20com\x20ID\x20','findOrCreate','sendContact','\x1b[46m','replyOptions','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','SSL_CONF_PRIVKEY','):\x20Comando\x20desconhecido:\x20','deleted','Router','\x1b[33m\x1b[1m','variablesToObject','owner','oldToken','express','promote','Deleted\x20','add','Sending\x20audio\x20whatsapp','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','config','Hash\x20to\x20audio\x20name:\x20','encoding','maxActives','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Not\x20allowed\x20by\x20CORS','isBase64','errorLog','mediaMessage','audio/ogg','CONNECTION','locationMessage','getVariablesChat','sharp','match','response','listen','\x1b[37m%s\x1b[0m','webhookMap','request\x20received\x20in\x20getAutomateSystem','audioWhatsapp','certonly','findFlow','^\x5cd+[\x5c.@\x5cw-]+','authState','statusJidList','modifiedCount','chats.upsert','@g.us','reference','mongodb','wuid','updateMissingEtiquetas','Audio\x20is\x20url','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Procurando\x20conversa','mediaKey','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','namespace','statusMessage','Flow\x20iniciado\x20com\x20','\x20-\x20ON:\x20','):\x20leadInfoVariables','Erro\x20ao\x20editar\x20agentes:\x20','Failed\x20to\x20find\x20chat\x20','deleteDoneMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','express-async-errors','FlowController','DATABASE_CONNECTION_URI','Variáveis\x20não\x20encontradas:','uazapiSendAudio','archived','):\x20Limpando\x20delayMessage','exists','content','child_process','Error\x20updating\x20message\x20status:','toUpperCase','\x1b[1m','getFlowModelForOwner','use','GUARD','cleanStore','/wa-connection-update','local_map','Rótulo\x20inválido\x20ou\x20sem\x20ID.','condition','getDevice','password','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Cannot\x20','#9568cf','stdout','Invalid\x20format','saveTextReply','longitude','requestPairingCode','request\x20received\x20in\x20editFlowcondition','sendPoll','none','subdomain',',\x20valor\x20a\x20encontrar:\x20\x22','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','The\x20global\x20api\x20key\x20must\x20be\x20set','JWT','TEL','/instance/connectionState','notEmpty','caption','ProxyAgent','prefixCommand','\x1b[37m','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Error\x20headers:','CONECTADO\x20À\x20UAZAPI','dayjs','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','https://api.ipify.org?format=json','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','varedits','CORS_CREDENTIALS','request\x20received\x20in\x20allFlows','selectableCount','isURL','pollUpdateMessage','https://api.openai.com/v1/audio/speech','findChats','AUTHENTICATION_JWT_EXPIRIN_IN','copyBlock','update','responsavelid','\x20using\x20the\x20proxy:','):\x20Deletando\x20conversa...','uazapiSendMedia','footerText','READ','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','decryptPollVote','SERVER_URL',',\x20lastCondition:\x20','):\x20expirationTime:\x20','REDIS_ENABLED','findContacts','The\x20instance\x20needs\x20to\x20be\x20disconnected','notContains','g-t','):\x20Ignoring\x20group\x20messages.','/events','):\x20Falha\x20ao\x20deletar\x20mensagem.','Comando\x20desconhecido','stopMinutesMaxActives','contact_blacklist','storePath','deleteChat','src','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','Image\x20path:\x20','):\x20Bloco\x20copiado:\x20','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','\x1b[40m','):\x20delete\x20=\x20true','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','groupadd','gifPlayback','authorization','editflowreply','writeFile','unreadcount','56jxlZCK','leadInfo.','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','\x22\x20not\x20found','):\x20alterando\x20this.AutomateSystem','values','Deletion\x20failed','DisconnectReason','cleaningUp','Type\x20is\x20required','#d3a91f','replaceVariablesLogs','unavailable','getClient','getMIMEType','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','deleteMany','fetchContacts','Audio\x20converted\x20to\x20mp4','creds.json','writeFileSync','flowStopMinutes','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','):\x20Bloco\x20com\x20ID\x20','qrcode','announce','and','requestFile','loggedOut','setRestartTimer','SECRET','groupToggleEphemeral','messageTimestamp','pairingCode','realVariables','contains','Instance\x20\x22','):\x20Dados\x20migrados\x20com\x20sucesso','flowConfig','put','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','sendAudio','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','endSession','getScheduleMessageModelForOwner','chats.delete','closeExistingConversations','phoneNumber','webhookService','connecting','apiName','delAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','updateAgent','success','default','output','removeInstance','/group','leadInfo.desativadoFluxoAte','getContactModelForOwner','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','ObjectId','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','collection','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','getConversation','fetchLabels','groups_ignore','Getting\x20audio\x20from\x20url','\x1b[31m%s\x1b[0m','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','online','messages.set','greater','Valor\x20inicial:\x20\x22','email','\x20is\x20already\x20in\x20use.','generateHash','hostname','Conexão\x20estabelecida','findWebhook','newStoppedUntil','All_Instances_Config','lastSend','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','contact','\x20segundos','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','updatePresence','image','AddChatLabel','551820omGitQ','chatLog','importChats','size','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','jpegThumbnail','):\x20Flow\x20não\x20encontrado','random','host','request\x20received\x20in\x20updateFlowConfig','flowIgnoreGroups','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','labels.edit','scheduleMessage','REDIS','video','hex','jid','findParticipants','selectedOptions','some','Erro\x20de\x20reinicialização:\x20','qrcode.updated','):\x20customFieldVariables','/media/','action','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Error\x20removing\x20profile\x20picture','pollMessageOnDelete','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','Connection\x20closed\x20for\x20instance:\x20','menuMessage','Chat\x20com\x20ID\x20','#6f7bcf','instance.','defineAuthState','evaluateConditionTest','trimmed','VERBOSE','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','remove.instance','authentication','Variável\x20não\x20encontrada!','licenca','lastCondition','editOperator','fileUrl','Last\x20message\x20not\x20found','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','6665iYKpmp','ERROR:\x20','AutomateSystem','client','Internal\x20Server\x20Error','joinGroupValidate','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','leadInfo.customFields','):\x20Conversa\x20inserida\x20com\x20sucesso.','convertedOptions','uncaughtException','flowname:\x20','pre','capitalizedWords','conditions','findByIdAndUpdate','Label\x20','copyDataToNewModel','create','Chrome','pushName','padEnd','close','.doc','HeaderType','\x20inseridos\x20no\x20banco\x20de\x20dados...','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','getDelay','\x20minutos','notas','CHATS_DELETE','request\x20received\x20in\x20updateCustomFields','Instância\x20não\x20encontrada.','findOneAndUpdate','/wa-message','Error\x20message:','URL\x20limpa:\x20','@broadcast','ERROR','parseInt','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','):\x20','):\x20this.processingScheduleMessageId:\x20','fromObject','getPrototypeOf','lastInteraction','label','Telefone:\x20','code','AUTHENTICATION_API_KEY','sendMedia','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','MESSAGES_UPSERT','RemoveChatLabel','apirequest','deleteReplyOption','\x1b[1m\x1b[37m','CONTACTS_SET','#f64847','remove','Profile\x20not\x20found','Erro\x20ao\x20atualizar\x20o\x20flow.','HH:mm:ss','static','metadata','keep-alive','fileName','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','senderKeyDistributionMessage','findGroupInfo','optionName','Error\x20updating\x20profile\x20picture','fetchInstances','_error','hDel','Fetching\x20business\x20profile','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','#64c4ff','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Flow\x20already\x20exists','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','chatHandle','archiveChat','createNewConversation','API_KEY','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','STORE_MESSAGE','protocolMessage','@redis/client','shift','groupUpdateDescription','listType','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','user','splice','StatusJidList\x20is\x20required','.mp3','messageId','\x20não\x20encontrado\x20para\x20atualização.','GROUPS_UPDATE','Trying\x20to\x20get\x20business\x20profile','E-mail:\x20','Error\x20data:','type','buttons','replaceVariablesChat','_Labels','buttonText','pollErrorMessage','status','Sistema\x20atualizado\x20com\x20sucesso!','updateGParticipate','statSync','No\x20invite\x20code','substring','Error\x20update\x20group\x20picture','messageContextInfo','.wav','editFlowReply','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','changeVariables','testProxy','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','lowerCase','stderr','atendimentoAberto','Temp\x20audio\x20path:\x20','):\x20Entrou\x20na\x20função\x20stop','\x1b[33m','):\x20lastBlockId:\x20','.xlsx','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','sending','contextInfo','/instance/delete','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','empty','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Erro\x20ao\x20iniciar\x20fluxo:\x20','Output\x20audio\x20path:\x20','textMessage','boolean','delaySecMin','authService','MAX_RECONNECT_ATTEMPTS','Error\x20in\x20markMessageAsRead:','STORE_CHATS','BRL','profile','DB_PREFIX_NAME','Reinicialização\x20iniciada:\x20','forEach','):\x20Buscando\x20todos\x20os\x20fluxos...','newValue','organization','://','process','processingScheduleMessageId','editFlowVaredit','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','remote\x20\x22origin\x22','\x20horas\x20e\x20','updateMany','conversation','):\x20Enviando\x20localização','getChatModelForOwner','sendSticker','CORS','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','upsertChats','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','instances','#ffffff','createJid','\x20inseridas\x20no\x20banco\x20de\x20dados...','_id','statusCode','fetchBusinessProfile','contentText','scheduled','description','remoteJid','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','labels.association','request\x20received\x20in\x20deleteDoneMessages','.uazapi.dev','list','leadInfo','created','audio','hSet','toArray','onTime','Erro\x20ao\x20remover\x20instâncias\x20antigas:','generateWAMessageFromContent','):\x20Conversa\x20atualizada\x20em\x20memória','equal','InstancesAlterarTodas','-whatsapp-api','Type\x20not\x20found','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','#fe9dfe','Instance\x20restarted','participant','connectedClient','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','request\x20received\x20in\x20createFlow','$set','media','restartInstance','g.us','displayName','Erro\x20ao\x20aplicar\x20varedit:\x20','desativadoFluxoAte','imported','automateSystem','EMAIL','instanceName\x20not\x20provided.','groupSetting','error\x20get\x20vote','updateMediaMessage','mediaSticker','upperCase','connect','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','buttonId','\x1b[34m%s\x1b[0m','/:instanceName','SERVER_OFFLINE','flowStopConversation','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','#83e421','instance','object','AppStateSyncKeyData','ignoreGroups','ScheduleMessageModel','Error\x20fetching\x20group','Last\x20message\x20not\x20found\x20for\x20number:','DELIVERY_ACK','sem\x20texto\x20na\x20mensagem','deleteMessage','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','processPollUpdateMessage','uazapi','sendMenu','badSession','\x1b[42m','delayChatLabel_MAX_RETRIES','fone','cwd','waitingMenu_replyOptions','SUCCESS','groupId','processblock','request\x20received\x20in\x20scheduleMessage','apikey','getLabelModelForOwner','addBlock','Início','chatModify','):\x20Ler\x20mensagem','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','name','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','tags','Database\x20is\x20not\x20enabled','_Contacts','paused','importChatsAntigo','getConversationModelForOwner','):\x20Enviando\x20enquete','DATABASE_ENABLED','updateMissingCustomFields','class-validator','ephemeralExpiration','API\x20Key\x20from\x20Request:','instanceCount','\x20minutos\x20verificará\x20novas\x20mensagens','Image\x20created','router','/*.json','jsonwebtoken','tryProxy','CHATS_SET','):\x20Enviando\x20áudio','fetchMessages','agents','auth','fetchProfilePicture','Hash\x20to\x20image\x20name:\x20','updateProfileStatus','chats.set','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','\x20chats\x20de\x20','optionDescription','min','\x0a*Você\x20respondeu*:\x0a','DD/MM\x20HH:mm:ss','expiration','/config','PLAYED','URL:','ENABLED','getflow','\x22reaction\x22\x20must\x20be\x20an\x20emoji','createProxyConfig','viewOnceMessage','editflowvaredit','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','font','error_log',',\x20resultado:\x20','OrAnd','END:VCARD','reconnectTimestamps','message_normalized','):\x20Alterando\x20fluxo...','getMessage','editedMessage','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','.svg','log','slice','app-state-sync-key','Failed\x20to\x20get\x20IP\x20from\x20','when','updateAll','):\x20Criando\x20nova\x20conversa[createNewConversation]','command','copy','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','arrayUnique','has','sections','Processing\x20audio','vcard','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','shutdown\x20-r\x20now','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','InstancesAsDisconnectedX','groupUpdateSubject','pollMessage','string','):\x20Conversa\x20está\x20expirada','startFlow','presence.update','errors','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','FlowRouter','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','editFlowVariable','sectionsToString','documentWithCaptionMessage','reconnectAttempts','findAndReplace','normalizeMessage','PORT','defineProperty','delayChatLabel_RETRY_DELAY_MS','readMessage','getTime','keys','unhandledRejection','valid','Atualização:\x20','startsWith','remoteJids','uazapiSendText','_Messages','_activatedCount','\x20\x1b[0m','/message','test','subjectOwner','prototype','$dbName','sendLocation','round','chats.update','creds','updateOne','spawn','variable','updateReplyOption','Erro\x20ao\x20deletar\x20mensagens:','contacts.upsert','dbSettings','_FlowHistorico','replacer','delaySecMax','folder','createServer','Instance\x20logged\x20out','apply','quoted','messages.update','website','Erro\x20ao\x20editar\x20a\x20conversa:\x20','waitingMenu_text','\x1b[32m','toBRL',',\x20fará\x20nova\x20verificação\x20em\x20','warn','MESSAGES_SET',',\x20Segundo\x20Valor:\x20','\x20não\x20encontrado\x20para\x20cópia','deletedCount','/events/:instance','sha256','getMessageModelForOwner','Converted\x20image\x20deleted','updateConversation','Logger','userDevicesCache','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','ORG:','sendReaction','/instance/create','editFlowBlock','fetchConversation','enumerable','fromMe','validate','max','post','etiquetas','archive','drop','Erro\x20ao\x20copiar\x20dados:','15432lHwdxH','findIndex','stopped','updateMissingTags','getHours','urlOrBase64','deleteflow','toggleEphemeral','indexOf','.xls','del','goNextblock','50mb','https://uazapi-plugin.bubbleapps.io/?url=','scheduleMessages','isListOfNumbers','stopWhenYouSendMsg','public','processConditions','options','removed','):\x20teve\x20mudanças\x20chat.displayName:\x20','Operador:\x20\x22','eventEmitter','parse','replaceValue','execSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','body','LabelModel','.txt','headerString','URI','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','poll','#ffae04','LOG','):\x20Going\x20to\x20','formatStatusMessage','DATABASE','data','sendMessageWithTyping','username','.sendDataWebhook-global','Erro\x20ao\x20buscar\x20conversa:\x20','\x20-i\x20','isArray','listMessage','groupAcceptInvite','Not\x20Found','audioMessage','\x20adicionado\x20ao\x20chat\x20','Cache-Control','198104OMqQgf','findById','trim','Error\x20updating\x20profile\x20name','updateStopChat','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','addChatLabel','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Notifying\x20clients\x20for\x20chat:\x20','Erro\x20ao\x20normalizar\x20a\x20mensagem:','routerPath','Erro\x20ao\x20remover\x20label\x20','width','chat','js-yaml','dataValidate','video-cover.png','):\x20Buscando\x20flow...','URL','choices','/wa-contacts','recording','order','\x20removido\x20do\x20chat\x20','reviver','block','whatsappNumber','SSL_CONF','\x22\x20-\x20NOT\x20CONNECTION','):\x20Edit\x20schedule\x20message...','revokeInviteCode','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','menuType','Error\x20change\x20group\x20setting','connectionUpdate','updateFlowConfig','chats','updateProfileName','AUTHENTICATION_TYPE','Getting\x20image\x20from\x20url','Read\x20messages\x20fail','/exit','mimetype','StartBot','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','reorderReplyOptions','Erro\x20inesperado\x20em\x20processvaredits:\x20','Fluxos\x20não\x20estão\x20ativados','header','https://jsonip.com','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','messaging-history.set','logout','?timestamp=','unreadCount','checkAndRestartProcess','\x1b[44m','fullName','):\x20Error\x20processing\x20the\x20block:\x20','SERVER_PORT','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Conversas\x20encontradas:','everyOne','updateCustomFields','loadInstance','stack','https','redis','replaceVariables','):\x20não\x20encontrou','):\x20updateResult:','request\x20received\x20in\x20starFlow','Erro\x20ao\x20buscar\x20conversas:\x20','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','CONTACTS_UPSERT','detail','connectionState','mentioned','allflows','):\x20Entrou\x20na\x20função\x20goToFlow','pollCreationMessage','open','rm\x20-rf\x20','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','replaceVariablesInObject','blocks','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','request\x20received\x20in\x20editConversation','https://chat.whatsapp.com/','deleteFlow',',\x20Minutes\x20to\x20Close:\x20','./.git/config','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','including\x20timestamp\x20in\x20url:\x20','query','replace','/wa-groups','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Read\x20messages','state','/wa-presence','findGroups','insertMany','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','sendPresenceUpdate','DARK','Button\x20IDs\x20cannot\x20be\x20repeated.','eventemitter2','Esse\x20fluxo\x20expirou','createAndSave','toString','):\x20newFirstValue\x20após\x20replaceVariables:','messages','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','findGroup','request\x20body:\x20','loadWebhook','chatId','request\x20received\x20in\x20updateAgent','delayChatLabel','variablesNotFound','CONFIGURAÇÃO\x20GERAL:','GROUPS_UPSERT','ReplyOptions\x20finais\x20após\x20reordenação:','deleteConversation','flushHeaders','pt-BR','assign','SERVER_TYPE','Instance\x20Key\x20from\x20DB:','.jpg','Error\x20occurred\x20while\x20archiving\x20chat:\x20','Fluxo\x20não\x20encontrado','waUploadToServer','AUTHENTICATION','toNumber','match_last_seen','entries','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','envProcess','editFlowCondition','emit','instanceKeys','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','groupSettingUpdate','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','groupInviteCode','Archiving\x20chat','ids','deleteBlock','INFO','mongodb://','Data\x20inválida\x20fornecida','updateGroupsAddPrivacy','not\x20loaded','presenceSubscribe','downloads','webhook','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','minutesToClose','customFields','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','applyvaredit','syscall','AllProxy','CLEANING_INTERVAL','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','):\x20Enviando\x20mídia','birthtime','join','readMessages','picture','instanceName','):\x20teve\x20mudanças\x20chat.archived:\x20','.pptx','editflowvariable','groupHandler','findAll','\x22\x20-\x20REMOVED','checkAndUpdateChatStatus','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','editFlow','Erro\x20ao\x20atualizar\x20AutomateSystem:','1965088wxIKtg','):\x20Erro\x20durante\x20a\x20atualização:\x20','exit','fetchChats','exec','updateStatusPrivacy','oldValue','pollCreationMessageKey','stickerMessage','Audio\x20processed','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','throwAndLogError','ipify.org','RECONNECT_TIME_FRAME','charAt','bearer','numbers','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Error\x20creating\x20group','createFlow','uazapiSendMenu','groups','):\x20Buscando\x20conversas...','verifiedName','Enter\x20a\x20value\x20in\x20milliseconds','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','role','isConnected','floor','updateChatWithMessage','binary','stopConversation','REDIS_URI','uazapiSendLocation','saveMediaToFile','https://','stateConnection','createSectionsFromValues','activatedCount',',\x20qrcodeCount:\x20','dbClient','Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','insert','/clients-info','):\x20transformedCustomFieldVariables','waMonitor','formatVCard','findConversation','updateMessage','Erro\x20ao\x20configurar\x20proxy:\x20','Content\x20is\x20required','now','cache','number','available','):\x20Enviando\x20texto','imageMessage','getAutomateSystem','KEY','method','sendDataWebhook','documentMessage','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Error\x20updating\x20participants','qrCode','lastMessage','extractRegex','uuid','createConnection','fetchPrivacySettings','FULLCHAIN','.ogg','importChatsBatch','array','base64','*\x0a\x0a','Erro\x20ao\x20atualizar\x20conversa:\x20','removeOlderDisconnectedInstances','headers','notEqual','scheduleSendAudio','27qycQns','interval\x20não\x20é\x20um\x20número','.mp4','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','ConversationModel','}}\x20->\x20\x22','https://uazapi-plugin.bubbleapps.io/','processConditionsTest','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','format','request\x20received\x20in\x20editFlow','cors','uazapiDeleteMessage','WA\x20MODULE','pollCreationMessageV2','.ppt','processUazapi','viewOnceMessageV2Extension','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','editScheduleMessage','url','sendButtons','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','\x1b[30m','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','):\x20Enviando\x20contato','Certbot\x20executado\x20com\x20sucesso.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','flowActive','lastBlockId','connection.update','envYaml','sendList','Bloco\x20com\x20ID\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','endsWith','pollOnReplyDelete','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20',',\x20valor\x20passado:\x20\x22','leadInfo.etiquetas','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','The\x20\x22','updateProfilePicture','node-mime-types','nomecompleto','STORE_CLEANING_TERMINAL','silent','updateProfilePicturePrivacy','messageSecret','.\x20Pulando.',',\x20Comparador:\x20','contactname','urlencoded','):\x20Mensagem\x20já\x20enviada\x20para\x20','getFlow','Error\x20status:','processgoToFlow','write','where','announcement','json','originalUrl','Valor\x20de\x20find\x20ou\x20replace\x20ausente','<subdomain>','@ffmpeg-installer/ffmpeg','group','):\x20Erro\x20ao\x20criar\x20fluxo\x20','.pdf','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','filter','menuExpiredMessage','deleteOne','fetchStatus','closed','replyOption','stringify','no.connection','Temp\x20image\x20deleted','redisEnv','Erro:','requested\x20testProxy','profilePictureUrl','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','title','path','participants','localWebhook','delay','set','call','delete','groupValidate','redirect','toDataURL','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20isVote:\x20','#00a1f2','notMatchRegex','contactMessage','unlinkSync','next_groupId','dbInstance','processApiRequest','findGroupInfos','Conversa\x20deletada\x20com\x20sucesso.','DATABASE_CONNECTION_DB_PREFIX_NAME','DATABASE_CONNECTION_USER','status.instance','lastSendMessage','reactionMessage','connectionStatus','lean','Chat\x20','):\x20Error\x20processing\x20conditions:\x20','editChat','editflowgroup','ListType','axios','application/json','toFile','Business\x20profile\x20fetched','model','\x20foi\x20interrompido\x20pelo\x20usuário.','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','length','):\x20Current\x20Time:\x20','certbot','Image\x20converted\x20to\x20WebP','\x20saindo\x20da\x20função','No\x20response\x20received:','getLastMessage','find','convertToWebP','updateGroupPicture','^\x5cd+([-]\x5cd+)*@g.us$','#b4ebff','split','pino','Erro\x20ao\x20editar\x20o\x20chat:\x20','Connection','editFlowGroup','truncatedto','menuIgnoreNonVotes','convertaudio','Bad\x20Request','params','send','group\x20ignored','mongoose','creds.update','temp-','Resultado\x20da\x20atualização:','writeData','LOG_COLOR','updateOneById','contactHandle','joinGroup','status@broadcast','stopMinutes','createWebhook','.jwt','saveChatVariables','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','getBase64FromMediaMessage','repeat','groups.update','bulkWrite','request\x20received\x20in\x20editFlowvariable','toLocaleString','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','replaceOne','console','flow','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','removeProfilePicture','/instance/fetchInstances','fetchProfile','__esModule','Audio\x20is\x20base64','@s.whatsapp.net','webhookModel','updateBlock','_Flows','findOne','hGetAll','Formato\x20inválido\x20de\x20proxy','removeChatLabel','utf-8','sign','/instance/connect','videoMessage','EXPIRIN_IN','release','Falta\x20informação\x20para\x20a\x20chamada\x20API','ephemeralMessage','HOST','sendText','getRandomText','flowName','Missing\x20global\x20api\x20key','verify','\x1b[0m','Erro\x20ao\x20deletar\x20chat:','MESSAGES_UPDATE','SERVER_ACK','readData','CREDENTIALS','Log\x20out\x20instance:\x20','push','flowConversation','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','expression','msgRetryCounterCache','application/octet-stream','fetchProfile2','vote','addReplyOption','saveCreds','timerId','info','messageHandle','group-participants.update','not_announcement','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Error\x20fetching\x20and\x20updating\x20profile:\x20','Flow\x20não\x20encontrado','flowPrefixCommand','readreceipts','BufferJSON','Not\x20is\x20business\x20profile','createInstance','variables','save','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','errno','send.message','labelId','1402689JrPUxS','goToFlow','CONTACTS_UPDATE','\x20não\x20encontrado','^\x5cd+','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','getContentType','app','Types','\x20minutos...','getScheduleMessage','Group\x20not\x20found','Background\x20color\x20is\x20required','.png','debug','#9ba6ff','error','#ffc5c7','getStatus','FlowModel','):\x20Bloco\x20original\x20para\x20cópia:\x20','true','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','SERVER','matchRegex','stopIfLastReturnedError','prepareMediaMessage','\x20not\x20found,\x20retrying\x20in\x20','\x1b[47m','$addToSet','updateGParticipant','groupParticipantsUpdate','EMAIL:','stoppedUntil','setHeader','isRunning','buttonMessage','PRESENCE_UPDATE','\x1b[32m%s\x1b[0m','sendStatus','Não\x20respondeu\x20com\x20a\x20enquete.','connectToWhatsappController','Error\x20change\x20group\x20name','eventHandler','PASSWORD','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','waitingMenu_ExpiredMessage','lastReceivedMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','apiResponse','isLong','):\x20Query\x20params:','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','configService','Module\x20-\x20ON','):\x20Fluxos\x20não\x20estão\x20ativados','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','key','Error\x20writing\x20file:\x20','The\x20property\x20cannot\x20be\x20empty','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','AutomateFunctions','insertCount','contacts','Certbot:\x20','saveConversationToDatabase','Parando\x20aplicação...','request','setWebhook','privacySettings','enabled','#000000','ChatRouter','document','getMinutes','makeCacheableSignalKeyStore','):\x20conversation.status:\x20','):\x20Erro\x20ao\x20buscar\x20conversas\x20','notify','scheduleSendText','events','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','http','proto','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','!stop','messages.upsert','viewOnceMessageV2','NextBlock','Temp\x20audio\x20deleted','saveVariable','utf8','groupDesc','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','365ZbVkoH','includes','bodyString','color','map','_ScheduleMessages','conversationTimestamp','@whiskeysockets/baileys','evaluateCondition','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Error\x20in\x20scheduleNextCheck:\x20','CONNECTION_UPDATE','Erro\x20de\x20atualização:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','profilePicture','ex:\x20\x22groupJid=120362@g.us\x22','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','rowId','scheduleNextCheck','bateu\x20events','repository','updatePrivacySettings','Erro\x20ao\x20importar\x20chats:','\x1b[31m','isInteger','composing','existsSync','TYPE','isJidGroup','DATABASE_CONNECTION_HOST','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','groupMetadata','CHATS_UPSERT','AutomateSystem\x20não\x20foi\x20inicializado','uazapiSendContact','createflow','logger','CHATS_UPDATE','nome','varedit','verbose','latitude','sleep','PREFIX_KEY','jwt','subject','option','mkdirSync','\x1b[41m','subjectTime','all','findAndReplaceRegex','blockLogs','createGroup','context','):\x20Editando\x20bloco...','.webp','TEXT','waInstances','Schema','moreLogs','mentions','sendWhatsAppAudio','Contacts\x20not\x20found','):\x20atualização\x20chat:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','pop','Augusto','.error','deleteInstance','inner','Selecione','leaveGroup','arraybuffer','get','Message','\x20ao\x20chat\x20','desc','authModel',',\x20saindo.','waitingMenu_id','PRIVKEY','/webhook','LOG_LEVEL','loadEnv','/wa-qrcode','working','setting','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','groupJid','refused','connectToWhatsapp','message','deleteAll','GROUP_PARTICIPANTS_UPDATE','):\x20Buscando\x20conversa...','updateReadReceiptsPrivacy','initAuthCreds','WebhookGlobal','hasOwnProperty','dark','function','\x20quoted:\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','env','$pull','lastDisconnect','buffer','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','#56ccb4','toLowerCase','ButtonsMessage','WARN','pollCreationMessageV3','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','Authentication\x20error','contacts.update','port','reorderBlocks','integer','SEND_MESSAGE','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Instância:\x20','generate','/wa-message-update','Type\x20defined\x20as\x20audio','\x20minutos.\x20Será\x20às\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','waitingForReplyMenu','inviteCode','8080','Erro\x20ao\x20encerrar\x20a\x20API','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','request\x20received\x20in\x20deleteFlow','done','groupName','lastmsg','blockId','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','limit','addresss','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','presence','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','ChatModel','delayMessage','request\x20received\x20in\x20getFlow','.ogv','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','instanceInfo','/wa-chats','imagechat','Error\x20updating\x20privacy\x20settings','Output\x20path:\x20','ListMessage','Unauthorized','rows','):\x20Editando\x20variável\x20do\x20fluxo...','views','Content-Type','remoteJidsRemaining','readFileSync','AUTHENTICATION_JWT_SECRET','sendMessage','createConversationforStartFlow','secondValue','editConversation','flattenObject','out'];a0_0x1e9f=function(){return _0x561ba6;};return a0_0x1e9f();}function Fo(_0x4832d1){const _0x1f74f4=a0_0x4d4566;let _0x494e70=_0x4832d1['get'](_0x1f74f4(0x561))[_0x1f74f4(0x360)],_0x28b935=_0x4832d1[_0x1f74f4(0x5f2)](_0x1f74f4(0x369)),_0x212ffe;if(_0x494e70){let _0x3373f9=_0x494e70[_0x1f74f4(0x6ae)](/\/\/(.*?)\./);_0x3373f9&&_0x3373f9[0x1]&&(_0x212ffe=_0x3373f9[0x1]);}if(!_0x212ffe&&_0x28b935&&_0x28b935['FULLCHAIN']){let _0x4f19cf=_0x28b935[_0x1f74f4(0x44d)][_0x1f74f4(0x4e4)]('/'),_0x5a3f8c=_0x4f19cf[_0x4f19cf[_0x1f74f4(0x4d8)]-0x2];if(_0x5a3f8c){let _0x48a60e=_0x5a3f8c[_0x1f74f4(0x4e4)]('.');_0x48a60e[_0x1f74f4(0x4d8)]>0x2&&(_0x212ffe=_0x48a60e[0x0]);}}return _0x212ffe;}var vs=Fo(b);async function qo(){const _0x5ce2d7=a0_0x4d4566;let _0x42d71d=b[_0x5ce2d7(0x5f2)](_0x5ce2d7(0x143)),_0x21c791=b['get']('AUTHENTICATION')['API_KEY'][_0x5ce2d7(0x441)],_0x545d63=b['get']('SSL_CONF'),_0x3c01b5=await Ir(),_0x5ae510=b['get'](_0x5ce2d7(0x561))[_0x5ce2d7(0x2ce)],_0x30a874=b[_0x5ce2d7(0x5f2)]('SERVER')[_0x5ce2d7(0x360)];try{let _0x52a115={'ip':_0x3c01b5||null,'redis_enable':_0x42d71d?.[_0x5ce2d7(0x298)]||null,'apikey':_0x21c791||null,'ssl':_0x545d63?.[_0x5ce2d7(0x5f9)]||null,'lastupdate':Dr||null,'port':_0x5ae510||null,'gitInstallError':Te?.[_0x5ce2d7(0x604)]||null,'url':_0x30a874||null};if(console[_0x5ce2d7(0x2ab)]('ip:\x20',_0x52a115['ip']),_0x42d71d&&_0x42d71d['ENABLED']){let _0x45f3fc=await Lo();_0x52a115[_0x5ce2d7(0x27e)]=_0x45f3fc||null;}for(let _0x222fb9 in _0x52a115)_0x52a115[_0x5ce2d7(0x60b)](_0x222fb9)&&_0x222fb9!=='ip'&&(_0x52a115[_0x222fb9]=JSON[_0x5ce2d7(0x4a7)](_0x52a115[_0x222fb9]));return(await Re['default'][_0x5ce2d7(0x313)](_0x5ce2d7(0x402),_0x52a115))[_0x5ce2d7(0x340)];}catch(_0x4cbe0f){return console['error'](_0x4cbe0f),!0x1;}}var As=!0x1,Dr=0x220,Uo=0x3,Nr=0x1b7740;async function Is(){const _0xe18c0f=a0_0x4d4566;if(!await Ir())return console['error'](_0xe18c0f(0x36d)),'NO_IP';let _0x12eb36=await qo();if(_0x12eb36){if(_0x12eb36[_0xe18c0f(0x6af)][_0xe18c0f(0x160)]===!0x0){b[_0xe18c0f(0x5f2)]('SSL_CONF')[_0xe18c0f(0x5f9)][_0xe18c0f(0x5a9)](_0xe18c0f(0x49b))&&_0x12eb36[_0xe18c0f(0x6af)][_0xe18c0f(0x6f2)]&&(await Vo(_0x12eb36['response']['subdomain'],jo),await Bo('augusto.fcs@gmail.com',_0x12eb36[_0xe18c0f(0x6af)][_0xe18c0f(0x6f2)]),console[_0xe18c0f(0x2ab)](_0xe18c0f(0x546)),setTimeout(()=>Wo(),0x2710)),Te===null&&_0x12eb36[_0xe18c0f(0x6af)]['last_update']-Dr>0x0&&await Jo(),As||(As=!0x0,xo());let _0x10d1fb=0x24*0x3c*0x3c,_0x30f259=_0x12eb36[_0xe18c0f(0x6af)]['segundos']>_0x10d1fb?_0x10d1fb:_0x12eb36[_0xe18c0f(0x6af)]['segundos'],_0x5e64b4=Number(_0x30f259);if(isNaN(_0x5e64b4)){console[_0xe18c0f(0x55a)](_0xe18c0f(0x459));return;}let _0x3ed0e5=Math[_0xe18c0f(0x422)](_0x5e64b4/0xe10),_0x2645c9=Math[_0xe18c0f(0x422)](_0x5e64b4%0xe10/0x3c),_0x411615=new Date(Date[_0xe18c0f(0x43a)]()+_0x5e64b4*0x3e8);setTimeout(Is,_0x5e64b4*0x3e8);let _0x2a07d2=_0xd50c0a=>_0xd50c0a[_0xe18c0f(0x3bc)]()['padStart'](0x2,'0'),_0x125dfb=_0xe18c0f(0x6c5)+_0x2a07d2(_0x3ed0e5)+_0xe18c0f(0x20a)+_0x2a07d2(_0x2645c9)+_0xe18c0f(0x628)+_0x2a07d2(_0x411615[_0xe18c0f(0x31c)]())+':'+_0x2a07d2(_0x411615[_0xe18c0f(0x594)]())+'.';console[_0xe18c0f(0x2ab)](_0x125dfb);}else return console[_0xe18c0f(0x2ab)](_0xe18c0f(0x560)),As&&(console[_0xe18c0f(0x2ab)](_0xe18c0f(0x6a4)),process[_0xe18c0f(0x407)]()),'LICENSE_INVALID';}else{if(vr++,vr<Uo)console[_0xe18c0f(0x2ab)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Nr/0xea60+_0xe18c0f(0x553)),setTimeout(Is,Nr);else return console[_0xe18c0f(0x55a)](_0xe18c0f(0x236)),_0xe18c0f(0x24d);}}async function Jo(){const _0x2f42f8=a0_0x4d4566;console[_0x2f42f8(0x2ab)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x32223e=(0x0,Oe[_0x2f42f8(0x2e7)])(_0x2f42f8(0x353),{'shell':!0x0});_0x32223e[_0x2f42f8(0x6ea)]['on'](_0x2f42f8(0x340),_0x718fb8=>{const _0x185390=_0x2f42f8;console[_0x185390(0x2ab)](_0x185390(0x2d6)+_0x718fb8);}),_0x32223e[_0x2f42f8(0x1e5)]['on'](_0x2f42f8(0x340),_0x27d0fe=>{const _0x2cf319=_0x2f42f8;console[_0x2cf319(0x55a)](_0x2cf319(0x5b4)+_0x27d0fe);}),_0x32223e['on'](_0x2f42f8(0x407),_0x540f0a=>{const _0x113083=_0x2f42f8;_0x540f0a!==0x0?console['error'](_0x113083(0x26f)+_0x540f0a):console[_0x113083(0x2ab)](_0x113083(0x1d7)),console[_0x113083(0x2ab)](_0x113083(0x58c)),setTimeout(()=>process[_0x113083(0x407)](),0x2710);});}var jo=Ae[a0_0x4d4566(0x10e)][a0_0x4d4566(0x3f7)](__dirname,'env.yml');async function Vo(_0xf5c73f,_0x1354c1){const _0x41cf71=a0_0x4d4566;let _0x27a962=Go();_0xf5c73f=_0xf5c73f[_0x41cf71(0x3ad)](_0x41cf71(0x222),'');try{let _0x94cec0=de['default'][_0x41cf71(0x64b)](_0x1354c1,_0x41cf71(0x5a5));_0x94cec0=_0x94cec0['replace'](/<apikey>/,_0x27a962),_0x94cec0=_0x94cec0[_0x41cf71(0x3ad)](/<subdomain>/g,_0xf5c73f),de[_0x41cf71(0x10e)][_0x41cf71(0x74a)](_0x1354c1,_0x94cec0,_0x41cf71(0x5a5)),console[_0x41cf71(0x2ab)](_0x41cf71(0x5c6));}catch(_0x356a5e){console[_0x41cf71(0x55a)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x356a5e);}}function Bo(_0x159924,_0x1de512){return new Promise((_0x562884,_0x597d9c)=>{const _0x2c703f=a0_0x39b5;let _0x3927f7=(0x0,Oe[_0x2c703f(0x2e7)])(_0x2c703f(0x4da),[_0x2c703f(0x6b5),'--standalone','-m',_0x159924,'--agree-tos','-d',_0x1de512]);_0x3927f7[_0x2c703f(0x6ea)]['on'](_0x2c703f(0x340),_0x12f095=>{const _0x39605a=_0x2c703f;console[_0x39605a(0x2ab)](_0x39605a(0x58a)+_0x12f095[_0x39605a(0x3bc)]());}),_0x3927f7[_0x2c703f(0x1e5)]['on'](_0x2c703f(0x340),_0xa82db0=>{const _0x38898a=_0x2c703f;console['error']('Erro\x20do\x20Certbot:\x20'+_0xa82db0[_0x38898a(0x3bc)]());}),_0x3927f7['on']('close',_0x1c3f53=>{const _0x178895=_0x2c703f;_0x1c3f53!==0x0?(console[_0x178895(0x55a)](_0x178895(0x1ec)+_0x1c3f53),_0x597d9c(_0x178895(0x1ec)+_0x1c3f53)):(console[_0x178895(0x2ab)](_0x178895(0x475)),_0x562884());});});}function Go(_0x47584e=0x32){const _0x3c070e=a0_0x4d4566;let _0x103125=_0x3c070e(0x249),_0x8b6a5c='';for(let _0xc61920=0x0;_0xc61920<_0x47584e;_0xc61920++)_0x8b6a5c+=_0x103125[_0x3c070e(0x413)](Math[_0x3c070e(0x422)](Math[_0x3c070e(0x13b)]()*_0x103125[_0x3c070e(0x4d8)]));return _0x8b6a5c;}function Wo(){const _0x44bfca=a0_0x4d4566;(0x0,Oe['exec'])(_0x44bfca(0x2bb),(_0x95227c,_0x5732bd,_0x4f165d)=>{const _0x58881c=_0x44bfca;if(_0x95227c){console[_0x58881c(0x55a)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x95227c);return;}if(_0x4f165d){console[_0x58881c(0x55a)](_0x58881c(0x14a)+_0x4f165d);return;}console[_0x58881c(0x2ab)](_0x58881c(0x1ff)+_0x5732bd);});}0x0&&(module['exports']={'subdomain':subdomain});